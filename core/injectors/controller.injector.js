function a27_0x3aaf(){const _0x47fb97=['use','getHandlerMeta','../wrappers/handler.wrapper','log','normalizePaths','getPrototypeOf','root','getOwnMetadata','6FhLYFe','8653666OTPvBS','Router','META_CONTROLLER_PATH','521166VqPtjE','defineProperty','get','injecting\x20','injectHandlers','default','middlewares','632675pZLlIX','instance','2738572KHoOpH','typedi','META_CONTROLLER_MIDDLEWARES','search','\x20is\x20not\x20a\x20Controller','apply','META_CONTROLLER','path','express','./middleware.injector','injectNestedController','__esModule','prefix','nested','Logger','\x20at\x20','META_HANDLER','META_CONTROLLER_VERSION','../classes/logger.class','method','4264015QUJMmY','ControllerInjector','router','CONTROLLER_DEFAULT_PREFIX','handlerWrapper','injectMiddlewares','middlewareInjector','12632096hQuhuC','constructor','(((.+)+)+)+$','filter','map','toString','../constants','name','META_CONTROLLER_PREFIX','nestedPath','../utils','controllerType','inject','controller-injector','5721402wXwgHm'];a27_0x3aaf=function(){return _0x47fb97;};return a27_0x3aaf();}const a27_0x52e150=a27_0x593f;(function(_0x55bbd8,_0x3d47c3){const _0x3b7934=a27_0x593f,_0xdefc5f=_0x55bbd8();while(!![]){try{const _0x44201f=parseInt(_0x3b7934(0xe5))/0x1+parseInt(_0x3b7934(0xde))/0x2+parseInt(_0x3b7934(0xda))/0x3*(-parseInt(_0x3b7934(0xe7))/0x4)+parseInt(_0x3b7934(0xfb))/0x5+parseInt(_0x3b7934(0xd1))/0x6+parseInt(_0x3b7934(0xdb))/0x7+-parseInt(_0x3b7934(0x102))/0x8;if(_0x44201f===_0x3d47c3)break;else _0xdefc5f['push'](_0xdefc5f['shift']());}catch(_0x2a55a2){_0xdefc5f['push'](_0xdefc5f['shift']());}}}(a27_0x3aaf,0xf11b0));const a27_0xaaf811=(function(){let _0x2c81c5=!![];return function(_0x3fac74,_0x5e3d93){const _0x281c70=_0x2c81c5?function(){const _0x3e9914=a27_0x593f;if(_0x5e3d93){const _0x116e58=_0x5e3d93[_0x3e9914(0xec)](_0x3fac74,arguments);return _0x5e3d93=null,_0x116e58;}}:function(){};return _0x2c81c5=![],_0x281c70;};}()),a27_0x2667ad=a27_0xaaf811(this,function(){const _0x4bf98e=a27_0x593f;return a27_0x2667ad[_0x4bf98e(0x107)]()[_0x4bf98e(0xea)](_0x4bf98e(0x104))[_0x4bf98e(0x107)]()[_0x4bf98e(0x103)](a27_0x2667ad)[_0x4bf98e(0xea)]('(((.+)+)+)+$');});a27_0x2667ad();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xa381fa){const _0x2727f3=a27_0x593f;return _0xa381fa&&_0xa381fa[_0x2727f3(0xf2)]?_0xa381fa:{'default':_0xa381fa};};Object[a27_0x52e150(0xdf)](exports,a27_0x52e150(0xf2),{'value':!![]}),exports[a27_0x52e150(0xfc)]=void 0x0;const express_1=require(a27_0x52e150(0xef)),typedi_1=__importDefault(require(a27_0x52e150(0xe8))),logger_class_1=require(a27_0x52e150(0xf9)),constants_1=require(a27_0x52e150(0x108)),utils_1=require(a27_0x52e150(0x10c)),handler_wrapper_1=require(a27_0x52e150(0xd4)),middleware_injector_1=require(a27_0x52e150(0xf0)),logger=new logger_class_1[(a27_0x52e150(0xf5))](a27_0x52e150(0xd0));class ControllerInjector{constructor(_0x4d051b,_0x4a7209){const _0x1f7a1=a27_0x52e150;this[_0x1f7a1(0xce)]=_0x4d051b,this[_0x1f7a1(0xd8)]=_0x4a7209,this[_0x1f7a1(0xfd)]=(0x0,express_1[_0x1f7a1(0xdc)])({'mergeParams':!![]}),this[_0x1f7a1(0x10b)]='';if(!Reflect[_0x1f7a1(0xd9)](constants_1[_0x1f7a1(0xed)],_0x4d051b))throw TypeError(_0x4d051b[_0x1f7a1(0x109)]+_0x1f7a1(0xeb));}get['handlers'](){const _0x5b6327=a27_0x52e150,_0x3631a3=Object[_0x5b6327(0xd7)](this[_0x5b6327(0xe6)]);return Object['getOwnPropertyNames'](_0x3631a3)[_0x5b6327(0x106)](_0x332e7c=>_0x3631a3[_0x332e7c])[_0x5b6327(0x105)](_0x37128b=>!!Reflect[_0x5b6327(0xd9)](constants_1[_0x5b6327(0xf7)],_0x37128b));}get[a27_0x52e150(0xe4)](){const _0x59ef8a=a27_0x52e150;return Reflect['getOwnMetadata'](constants_1[_0x59ef8a(0xe9)],this[_0x59ef8a(0xce)])||[];}get[a27_0x52e150(0xf3)](){const _0x3dd136=a27_0x52e150;var _0x3a3264;const _0x24d7e1=(_0x3a3264=Reflect[_0x3dd136(0xd9)](constants_1[_0x3dd136(0x10a)],this[_0x3dd136(0xce)]))!==null&&_0x3a3264!==void 0x0?_0x3a3264:constants_1[_0x3dd136(0xfe)],_0x435e3c=Reflect['getOwnMetadata'](constants_1[_0x3dd136(0xf8)],this['controllerType'])||'';return this[_0x3dd136(0x10b)]?'':(0x0,utils_1[_0x3dd136(0xd6)])(_0x24d7e1,_0x435e3c);}get[a27_0x52e150(0xee)](){const _0x467072=a27_0x52e150;if(this[_0x467072(0x10b)])return this[_0x467072(0x10b)];const _0x37f940=Reflect[_0x467072(0xd9)](constants_1[_0x467072(0xdd)],this[_0x467072(0xce)])||'';return(0x0,utils_1[_0x467072(0xd6)])(_0x37f940);}get[a27_0x52e150(0xe6)](){const _0x18d958=a27_0x52e150;return typedi_1[_0x18d958(0xe3)][_0x18d958(0xe0)](this[_0x18d958(0xce)]);}async['injectMiddlewares'](){const _0x3200a0=a27_0x52e150;for(const _0x2c9674 of this[_0x3200a0(0xe4)]){const _0x2c6058=await(0x0,middleware_injector_1[_0x3200a0(0x101)])(_0x2c9674);this[_0x3200a0(0xfd)]['use'](_0x2c6058);}}async[a27_0x52e150(0xf1)](_0x3616a2){const _0x48e309=a27_0x52e150,_0x22132b=_0x3616a2[_0x48e309(0xf4)];logger[_0x48e309(0xd5)]('injecting\x20nested\x20'+_0x22132b['name']+_0x48e309(0xf6)+this[_0x48e309(0xee)]+_0x3616a2[_0x48e309(0xee)]);const _0x1e53d5=new ControllerInjector(_0x22132b,this);_0x1e53d5['nestedPath']=_0x3616a2['path'],await _0x1e53d5['inject'](this[_0x48e309(0xfd)]);}async[a27_0x52e150(0xe2)](){const _0x21e1fc=a27_0x52e150;var _0x1d1838;for(const _0x2fbcc6 of this['handlers']){const _0x4112cd=(0x0,utils_1[_0x21e1fc(0xd3)])(_0x2fbcc6);if(_0x4112cd[_0x21e1fc(0xf4)])await this[_0x21e1fc(0xf1)](_0x4112cd);else{const _0x251b39=_0x4112cd[_0x21e1fc(0xfa)]['toString']()['toLowerCase']();logger[_0x21e1fc(0xd5)](_0x21e1fc(0xe1)+this[_0x21e1fc(0xce)][_0x21e1fc(0x109)]+'#'+_0x2fbcc6[_0x21e1fc(0x109)]+'\x20at\x20['+_0x4112cd[_0x21e1fc(0xfa)]+']\x20'+(0x0,utils_1[_0x21e1fc(0xd6)])(((_0x1d1838=this['root'])===null||_0x1d1838===void 0x0?void 0x0:_0x1d1838[_0x21e1fc(0xee)])||'',this[_0x21e1fc(0xee)],_0x4112cd['path'])),this[_0x21e1fc(0xfd)][_0x251b39](_0x4112cd['path'],(0x0,handler_wrapper_1[_0x21e1fc(0xff)])(_0x2fbcc6,this['instance']));}}}async[a27_0x52e150(0xcf)](_0x180025){const _0x1cee29=a27_0x52e150;!this[_0x1cee29(0x10b)]&&logger[_0x1cee29(0xd5)]('injecting\x20'+this['controllerType']['name']+'\x20{'+this[_0x1cee29(0xf3)]+'}'),await this[_0x1cee29(0x100)](),await this[_0x1cee29(0xe2)](),_0x180025[_0x1cee29(0xd2)](''+this['prefix']+this[_0x1cee29(0xee)],this[_0x1cee29(0xfd)]);}}function a27_0x593f(_0x2a167b,_0x4bd126){const _0x152874=a27_0x3aaf();return a27_0x593f=function(_0x2667ad,_0xaaf811){_0x2667ad=_0x2667ad-0xce;let _0x3aaf30=_0x152874[_0x2667ad];return _0x3aaf30;},a27_0x593f(_0x2a167b,_0x4bd126);}exports[a27_0x52e150(0xfc)]=ControllerInjector;