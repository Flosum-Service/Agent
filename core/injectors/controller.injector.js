function a24_0x36d8(_0x236377,_0x4a53cd){const _0x396844=a24_0xb9ef();return a24_0x36d8=function(_0x4a25e3,_0x1c8ecb){_0x4a25e3=_0x4a25e3-0x1bf;let _0xb9ef18=_0x396844[_0x4a25e3];return _0xb9ef18;},a24_0x36d8(_0x236377,_0x4a53cd);}function a24_0xb9ef(){const _0x2e0605=['typedi','./middleware.injector','normalizePaths','method','getHandlerMeta','toLowerCase','287329nEodbv','apply','META_CONTROLLER_VERSION','222591wDKwAX','controllerType','6PybGey','\x20at\x20','injectMiddlewares','(((.+)+)+)+$','4703680tDRUJv','../constants','path','inject','__esModule','\x20at\x20[','META_CONTROLLER_PATH','get','\x20is\x20not\x20a\x20Controller','607208PyUYkk','META_CONTROLLER_MIDDLEWARES','getPrototypeOf','2703996csgMKP','../classes/logger.class','META_HANDLER','getOwnPropertyNames','controller-injector','default','router','constructor','handlers','name','express','getOwnMetadata','6fKffdM','filter','root','nestedPath','Logger','middlewareInjector','1447145mRilzH','injectHandlers','CONTROLLER_DEFAULT_PREFIX','middlewares','toString','injectNestedController','defineProperty','6wcmXLg','log','search','18799320vkcChB','instance','prefix','Router','ControllerInjector','../utils','nested'];a24_0xb9ef=function(){return _0x2e0605;};return a24_0xb9ef();}const a24_0x594993=a24_0x36d8;(function(_0x3f968a,_0x27e902){const _0x37c61d=a24_0x36d8,_0x1ca6db=_0x3f968a();while(!![]){try{const _0x5dac2c=-parseInt(_0x37c61d(0x1d4))/0x1*(parseInt(_0x37c61d(0x1c1))/0x2)+parseInt(_0x37c61d(0x1d6))/0x3*(-parseInt(_0x37c61d(0x1e3))/0x4)+-parseInt(_0x37c61d(0x1f8))/0x5*(parseInt(_0x37c61d(0x1f2))/0x6)+-parseInt(_0x37c61d(0x1d1))/0x7+parseInt(_0x37c61d(0x1da))/0x8+-parseInt(_0x37c61d(0x1e6))/0x9+parseInt(_0x37c61d(0x1c4))/0xa;if(_0x5dac2c===_0x27e902)break;else _0x1ca6db['push'](_0x1ca6db['shift']());}catch(_0x114204){_0x1ca6db['push'](_0x1ca6db['shift']());}}}(a24_0xb9ef,0xd353b));const a24_0x1c8ecb=(function(){let _0x2f27e8=!![];return function(_0x52cb23,_0x1a4adc){const _0x362853=_0x2f27e8?function(){const _0x5f9052=a24_0x36d8;if(_0x1a4adc){const _0x336e79=_0x1a4adc[_0x5f9052(0x1d2)](_0x52cb23,arguments);return _0x1a4adc=null,_0x336e79;}}:function(){};return _0x2f27e8=![],_0x362853;};}()),a24_0x4a25e3=a24_0x1c8ecb(this,function(){const _0x492690=a24_0x36d8;return a24_0x4a25e3['toString']()[_0x492690(0x1c3)](_0x492690(0x1d9))[_0x492690(0x1fc)]()[_0x492690(0x1ed)](a24_0x4a25e3)[_0x492690(0x1c3)](_0x492690(0x1d9));});a24_0x4a25e3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x540c2a){const _0x3f04cc=a24_0x36d8;return _0x540c2a&&_0x540c2a[_0x3f04cc(0x1de)]?_0x540c2a:{'default':_0x540c2a};};Object[a24_0x594993(0x1c0)](exports,a24_0x594993(0x1de),{'value':!![]}),exports[a24_0x594993(0x1c8)]=void 0x0;const express_1=require(a24_0x594993(0x1f0)),typedi_1=__importDefault(require(a24_0x594993(0x1cb))),logger_class_1=require(a24_0x594993(0x1e7)),constants_1=require(a24_0x594993(0x1db)),utils_1=require(a24_0x594993(0x1c9)),handler_wrapper_1=require('../wrappers/handler.wrapper'),middleware_injector_1=require(a24_0x594993(0x1cc)),logger=new logger_class_1[(a24_0x594993(0x1f6))](a24_0x594993(0x1ea));class ControllerInjector{constructor(_0x1b2d30,_0x1c5fb8){const _0x5eba4=a24_0x594993;this[_0x5eba4(0x1d5)]=_0x1b2d30,this[_0x5eba4(0x1f4)]=_0x1c5fb8,this[_0x5eba4(0x1ec)]=express_1[_0x5eba4(0x1c7)]({'mergeParams':!![]}),this['nestedPath']='';if(!Reflect[_0x5eba4(0x1f1)](constants_1['META_CONTROLLER'],_0x1b2d30))throw TypeError(_0x1b2d30['name']+_0x5eba4(0x1e2));}get['handlers'](){const _0x1627ee=a24_0x594993,_0x15a321=Object[_0x1627ee(0x1e5)](this[_0x1627ee(0x1c5)]);return Object[_0x1627ee(0x1e9)](_0x15a321)['map'](_0x3cb328=>_0x15a321[_0x3cb328])[_0x1627ee(0x1f3)](_0x30f907=>!!Reflect[_0x1627ee(0x1f1)](constants_1[_0x1627ee(0x1e8)],_0x30f907));}get[a24_0x594993(0x1fb)](){const _0xb49ae0=a24_0x594993;return Reflect[_0xb49ae0(0x1f1)](constants_1[_0xb49ae0(0x1e4)],this[_0xb49ae0(0x1d5)])||[];}get[a24_0x594993(0x1c6)](){const _0x109b1a=a24_0x594993;var _0x2845b5;const _0x298992=(_0x2845b5=Reflect[_0x109b1a(0x1f1)](constants_1['META_CONTROLLER_PREFIX'],this[_0x109b1a(0x1d5)]))!==null&&_0x2845b5!==void 0x0?_0x2845b5:constants_1[_0x109b1a(0x1fa)],_0x5d3890=Reflect[_0x109b1a(0x1f1)](constants_1[_0x109b1a(0x1d3)],this[_0x109b1a(0x1d5)])||'';return this['nestedPath']?'':utils_1['normalizePaths'](_0x298992,_0x5d3890);}get['path'](){const _0x174bb2=a24_0x594993;if(this['nestedPath'])return this[_0x174bb2(0x1f5)];const _0x4e3777=Reflect[_0x174bb2(0x1f1)](constants_1[_0x174bb2(0x1e0)],this[_0x174bb2(0x1d5)])||'';return utils_1[_0x174bb2(0x1cd)](_0x4e3777);}get[a24_0x594993(0x1c5)](){const _0x32502d=a24_0x594993;return typedi_1[_0x32502d(0x1eb)][_0x32502d(0x1e1)](this[_0x32502d(0x1d5)]);}async['injectMiddlewares'](){const _0x178fcb=a24_0x594993;for(const _0x410630 of this[_0x178fcb(0x1fb)]){const _0x164572=await middleware_injector_1[_0x178fcb(0x1f7)](_0x410630);this[_0x178fcb(0x1ec)]['use'](_0x164572);}}async[a24_0x594993(0x1bf)](_0x34bff7){const _0x138406=a24_0x594993,_0x236060=_0x34bff7[_0x138406(0x1ca)];logger[_0x138406(0x1c2)]('injecting\x20nested\x20'+_0x236060[_0x138406(0x1ef)]+_0x138406(0x1d7)+this['path']+_0x34bff7[_0x138406(0x1dc)]);const _0x1af1b4=new ControllerInjector(_0x236060,this);_0x1af1b4[_0x138406(0x1f5)]=_0x34bff7[_0x138406(0x1dc)],await _0x1af1b4['inject'](this[_0x138406(0x1ec)]);}async[a24_0x594993(0x1f9)](){const _0x4b4f09=a24_0x594993;var _0x445a01;for(const _0x10c9a2 of this[_0x4b4f09(0x1ee)]){const _0x377e16=utils_1[_0x4b4f09(0x1cf)](_0x10c9a2);if(_0x377e16[_0x4b4f09(0x1ca)])await this[_0x4b4f09(0x1bf)](_0x377e16);else{const _0x494b00=_0x377e16[_0x4b4f09(0x1ce)][_0x4b4f09(0x1fc)]()[_0x4b4f09(0x1d0)]();logger[_0x4b4f09(0x1c2)]('injecting\x20'+this['controllerType'][_0x4b4f09(0x1ef)]+'#'+_0x10c9a2[_0x4b4f09(0x1ef)]+_0x4b4f09(0x1df)+_0x377e16[_0x4b4f09(0x1ce)]+']\x20'+utils_1['normalizePaths'](((_0x445a01=this['root'])===null||_0x445a01===void 0x0?void 0x0:_0x445a01['path'])||'',this[_0x4b4f09(0x1dc)],_0x377e16[_0x4b4f09(0x1dc)])),this[_0x4b4f09(0x1ec)][_0x494b00](_0x377e16[_0x4b4f09(0x1dc)],handler_wrapper_1['handlerWrapper'](_0x10c9a2,this[_0x4b4f09(0x1c5)]));}}}async[a24_0x594993(0x1dd)](_0x5c346d){const _0x10c292=a24_0x594993;!this[_0x10c292(0x1f5)]&&logger['log']('injecting\x20'+this[_0x10c292(0x1d5)][_0x10c292(0x1ef)]+'\x20{'+this[_0x10c292(0x1c6)]+'}'),await this[_0x10c292(0x1d8)](),await this['injectHandlers'](),_0x5c346d['use'](''+this[_0x10c292(0x1c6)]+this[_0x10c292(0x1dc)],this[_0x10c292(0x1ec)]);}}exports[a24_0x594993(0x1c8)]=ControllerInjector;