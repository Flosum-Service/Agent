const a24_0xa8a839=a24_0x32ac;(function(_0x45d1c1,_0x2d8825){const _0x245443=a24_0x32ac,_0x3bb49f=_0x45d1c1();while(!![]){try{const _0x35894d=-parseInt(_0x245443(0x1cb))/0x1*(parseInt(_0x245443(0x1bd))/0x2)+-parseInt(_0x245443(0x1ac))/0x3+-parseInt(_0x245443(0x1de))/0x4*(parseInt(_0x245443(0x1db))/0x5)+-parseInt(_0x245443(0x1e0))/0x6*(parseInt(_0x245443(0x1ab))/0x7)+parseInt(_0x245443(0x1c6))/0x8*(-parseInt(_0x245443(0x1d2))/0x9)+-parseInt(_0x245443(0x1b1))/0xa*(-parseInt(_0x245443(0x1b7))/0xb)+parseInt(_0x245443(0x1d9))/0xc;if(_0x35894d===_0x2d8825)break;else _0x3bb49f['push'](_0x3bb49f['shift']());}catch(_0x17a325){_0x3bb49f['push'](_0x3bb49f['shift']());}}}(a24_0x5481,0xdaaf7));function a24_0x5481(){const _0x41a35e=['injecting\x20','38750868omoXrQ','map','2535xFzOFL','nestedPath','use','4652VYbzBy','__importDefault','6PBVdgI','filter','__esModule','middlewareInjector','controllerType','express','injectNestedController','\x20at\x20','apply','CONTROLLER_DEFAULT_PREFIX','injectHandlers','194782gRUeIp','2809668OuMjfL','default','META_CONTROLLER','../utils','../wrappers/handler.wrapper','20rNhLQa','getPrototypeOf','getOwnMetadata','root','getHandlerMeta','META_CONTROLLER_PATH','2682262gJQBrw','injecting\x20nested\x20','nested','getOwnPropertyNames','get','META_CONTROLLER_PREFIX','2467348DzgVHT','path','(((.+)+)+)+$','handlers','\x20at\x20[','META_HANDLER','../classes/logger.class','typedi','log','2504YIgMSk','middlewares','prefix','instance','name','1mINwVd','./middleware.injector','constructor','\x20is\x20not\x20a\x20Controller','controller-injector','ControllerInjector','handlerWrapper','963FSecbh','normalizePaths','method','toString','router','inject'];a24_0x5481=function(){return _0x41a35e;};return a24_0x5481();}const a24_0x516324=(function(){let _0x3a7631=!![];return function(_0x46aca9,_0x2b975b){const _0x3b89bc=_0x3a7631?function(){const _0x532af8=a24_0x32ac;if(_0x2b975b){const _0x5589dc=_0x2b975b[_0x532af8(0x1a8)](_0x46aca9,arguments);return _0x2b975b=null,_0x5589dc;}}:function(){};return _0x3a7631=![],_0x3b89bc;};}()),a24_0x1180da=a24_0x516324(this,function(){const _0x3e3c7b=a24_0x32ac;return a24_0x1180da['toString']()['search'](_0x3e3c7b(0x1bf))['toString']()[_0x3e3c7b(0x1cd)](a24_0x1180da)['search'](_0x3e3c7b(0x1bf));});a24_0x1180da();'use strict';var __importDefault=this&&this[a24_0xa8a839(0x1df)]||function(_0x451d78){return _0x451d78&&_0x451d78['__esModule']?_0x451d78:{'default':_0x451d78};};Object['defineProperty'](exports,a24_0xa8a839(0x1e2),{'value':!![]}),exports[a24_0xa8a839(0x1d0)]=void 0x0;function a24_0x32ac(_0x2dd91a,_0x548a9c){const _0xf74403=a24_0x5481();return a24_0x32ac=function(_0x1180da,_0x516324){_0x1180da=_0x1180da-0x1a7;let _0x54818d=_0xf74403[_0x1180da];return _0x54818d;},a24_0x32ac(_0x2dd91a,_0x548a9c);}const express_1=require(a24_0xa8a839(0x1e5)),typedi_1=__importDefault(require(a24_0xa8a839(0x1c4))),logger_class_1=require(a24_0xa8a839(0x1c3)),constants_1=require('../constants'),utils_1=require(a24_0xa8a839(0x1af)),handler_wrapper_1=require(a24_0xa8a839(0x1b0)),middleware_injector_1=require(a24_0xa8a839(0x1cc)),logger=new logger_class_1['Logger'](a24_0xa8a839(0x1cf));class ControllerInjector{constructor(_0x427fcb,_0x3202fb){const _0x528efa=a24_0xa8a839;this[_0x528efa(0x1e4)]=_0x427fcb,this['root']=_0x3202fb,this['router']=(0x0,express_1['Router'])({'mergeParams':!![]}),this[_0x528efa(0x1dc)]='';if(!Reflect[_0x528efa(0x1b3)](constants_1[_0x528efa(0x1ae)],_0x427fcb))throw TypeError(_0x427fcb['name']+_0x528efa(0x1ce));}get[a24_0xa8a839(0x1c0)](){const _0x40469e=a24_0xa8a839,_0x145cef=Object[_0x40469e(0x1b2)](this[_0x40469e(0x1c9)]);return Object[_0x40469e(0x1ba)](_0x145cef)[_0x40469e(0x1da)](_0x10a109=>_0x145cef[_0x10a109])[_0x40469e(0x1e1)](_0x34300c=>!!Reflect['getOwnMetadata'](constants_1[_0x40469e(0x1c2)],_0x34300c));}get['middlewares'](){const _0x166a3e=a24_0xa8a839;return Reflect[_0x166a3e(0x1b3)](constants_1['META_CONTROLLER_MIDDLEWARES'],this[_0x166a3e(0x1e4)])||[];}get[a24_0xa8a839(0x1c8)](){const _0x118c36=a24_0xa8a839;var _0x4cf8e2;const _0x28e1c6=(_0x4cf8e2=Reflect[_0x118c36(0x1b3)](constants_1[_0x118c36(0x1bc)],this[_0x118c36(0x1e4)]))!==null&&_0x4cf8e2!==void 0x0?_0x4cf8e2:constants_1[_0x118c36(0x1a9)],_0x5d0fd7=Reflect[_0x118c36(0x1b3)](constants_1['META_CONTROLLER_VERSION'],this[_0x118c36(0x1e4)])||'';return this[_0x118c36(0x1dc)]?'':(0x0,utils_1['normalizePaths'])(_0x28e1c6,_0x5d0fd7);}get[a24_0xa8a839(0x1be)](){const _0x1fbd88=a24_0xa8a839;if(this[_0x1fbd88(0x1dc)])return this[_0x1fbd88(0x1dc)];const _0x19081e=Reflect['getOwnMetadata'](constants_1[_0x1fbd88(0x1b6)],this[_0x1fbd88(0x1e4)])||'';return(0x0,utils_1[_0x1fbd88(0x1d3)])(_0x19081e);}get['instance'](){const _0x2225b2=a24_0xa8a839;return typedi_1[_0x2225b2(0x1ad)][_0x2225b2(0x1bb)](this[_0x2225b2(0x1e4)]);}async['injectMiddlewares'](){const _0x334019=a24_0xa8a839;for(const _0x383502 of this[_0x334019(0x1c7)]){const _0x323547=await(0x0,middleware_injector_1[_0x334019(0x1e3)])(_0x383502);this['router'][_0x334019(0x1dd)](_0x323547);}}async[a24_0xa8a839(0x1e6)](_0x637114){const _0x594f27=a24_0xa8a839,_0xbe8916=_0x637114['nested'];logger[_0x594f27(0x1c5)](_0x594f27(0x1b8)+_0xbe8916[_0x594f27(0x1ca)]+_0x594f27(0x1a7)+this[_0x594f27(0x1be)]+_0x637114[_0x594f27(0x1be)]);const _0x229723=new ControllerInjector(_0xbe8916,this);_0x229723[_0x594f27(0x1dc)]=_0x637114['path'],await _0x229723[_0x594f27(0x1d7)](this[_0x594f27(0x1d6)]);}async[a24_0xa8a839(0x1aa)](){const _0x30d8cb=a24_0xa8a839;var _0x59d20e;for(const _0xd5b43e of this[_0x30d8cb(0x1c0)]){const _0x5d4891=(0x0,utils_1[_0x30d8cb(0x1b5)])(_0xd5b43e);if(_0x5d4891[_0x30d8cb(0x1b9)])await this[_0x30d8cb(0x1e6)](_0x5d4891);else{const _0x4fd378=_0x5d4891[_0x30d8cb(0x1d4)][_0x30d8cb(0x1d5)]()['toLowerCase']();logger[_0x30d8cb(0x1c5)]('injecting\x20'+this[_0x30d8cb(0x1e4)][_0x30d8cb(0x1ca)]+'#'+_0xd5b43e[_0x30d8cb(0x1ca)]+_0x30d8cb(0x1c1)+_0x5d4891[_0x30d8cb(0x1d4)]+']\x20'+(0x0,utils_1['normalizePaths'])(((_0x59d20e=this[_0x30d8cb(0x1b4)])===null||_0x59d20e===void 0x0?void 0x0:_0x59d20e[_0x30d8cb(0x1be)])||'',this[_0x30d8cb(0x1be)],_0x5d4891[_0x30d8cb(0x1be)])),this[_0x30d8cb(0x1d6)][_0x4fd378](_0x5d4891[_0x30d8cb(0x1be)],(0x0,handler_wrapper_1[_0x30d8cb(0x1d1)])(_0xd5b43e,this['instance']));}}}async[a24_0xa8a839(0x1d7)](_0x1c54c3){const _0x2e81cf=a24_0xa8a839;!this[_0x2e81cf(0x1dc)]&&logger[_0x2e81cf(0x1c5)](_0x2e81cf(0x1d8)+this['controllerType'][_0x2e81cf(0x1ca)]+'\x20{'+this[_0x2e81cf(0x1c8)]+'}'),await this['injectMiddlewares'](),await this[_0x2e81cf(0x1aa)](),_0x1c54c3[_0x2e81cf(0x1dd)](''+this[_0x2e81cf(0x1c8)]+this['path'],this[_0x2e81cf(0x1d6)]);}}exports[a24_0xa8a839(0x1d0)]=ControllerInjector;