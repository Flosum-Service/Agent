const a29_0xc5b79a=a29_0x2025;(function(_0x520d16,_0x467166){const _0x3b3749=a29_0x2025,_0x4afd7c=_0x520d16();while(!![]){try{const _0x3c75ef=parseInt(_0x3b3749(0x146))/0x1+parseInt(_0x3b3749(0x126))/0x2+-parseInt(_0x3b3749(0x128))/0x3*(parseInt(_0x3b3749(0x148))/0x4)+parseInt(_0x3b3749(0x13f))/0x5+parseInt(_0x3b3749(0x125))/0x6*(-parseInt(_0x3b3749(0x139))/0x7)+-parseInt(_0x3b3749(0x123))/0x8*(-parseInt(_0x3b3749(0x137))/0x9)+-parseInt(_0x3b3749(0x115))/0xa;if(_0x3c75ef===_0x467166)break;else _0x4afd7c['push'](_0x4afd7c['shift']());}catch(_0x2b0311){_0x4afd7c['push'](_0x4afd7c['shift']());}}}(a29_0x1da4,0x7b70c));const a29_0x3b49ef=(function(){let _0x38b167=!![];return function(_0x1bfba2,_0x89d29b){const _0x4405e8=_0x38b167?function(){const _0x54a870=a29_0x2025;if(_0x89d29b){const _0x109a58=_0x89d29b[_0x54a870(0x13a)](_0x1bfba2,arguments);return _0x89d29b=null,_0x109a58;}}:function(){};return _0x38b167=![],_0x4405e8;};}()),a29_0x14c686=a29_0x3b49ef(this,function(){const _0x39b76b=a29_0x2025;return a29_0x14c686[_0x39b76b(0x144)]()[_0x39b76b(0x122)](_0x39b76b(0x127))[_0x39b76b(0x144)]()[_0x39b76b(0x14b)](a29_0x14c686)[_0x39b76b(0x122)](_0x39b76b(0x127));});function a29_0x2025(_0x49acf9,_0x28154a){const _0x42b01a=a29_0x1da4();return a29_0x2025=function(_0x14c686,_0x3b49ef){_0x14c686=_0x14c686-0x113;let _0x1da411=_0x42b01a[_0x14c686];return _0x1da411;},a29_0x2025(_0x49acf9,_0x28154a);}a29_0x14c686();function a29_0x1da4(){const _0x1171c4=['\x20is\x20not\x20a\x20Controller','instance','map','log','Logger','defineProperty','Router','4553670GeEQBG','getOwnMetadata','getHandlerMeta','META_HANDLER','getPrototypeOf','META_CONTROLLER_MIDDLEWARES','injectMiddlewares','__importDefault','controllerType','method','nestedPath','typedi','express','search','16MjafZp','inject','6tYHeRG','1152152PJqZdm','(((.+)+)+)+$','1490061FnOREB','../wrappers/handler.wrapper','\x20at\x20[','handlers','router','nested','get','./middleware.injector','META_CONTROLLER_PATH','../constants','injectNestedController','default','use','injectHandlers','\x20at\x20','2920005esrDCF','getOwnPropertyNames','3663065ZamWfn','apply','META_CONTROLLER_PREFIX','ControllerInjector','prefix','__esModule','5042800RCqRov','path','normalizePaths','root','middlewares','toString','filter','244122aJCijS','handlerWrapper','8IOXFmo','name','META_CONTROLLER_VERSION','constructor'];a29_0x1da4=function(){return _0x1171c4;};return a29_0x1da4();}'use strict';var __importDefault=this&&this[a29_0xc5b79a(0x11c)]||function(_0x496c2f){const _0x32cdc6=a29_0xc5b79a;return _0x496c2f&&_0x496c2f[_0x32cdc6(0x13e)]?_0x496c2f:{'default':_0x496c2f};};Object[a29_0xc5b79a(0x113)](exports,a29_0xc5b79a(0x13e),{'value':!![]}),exports['ControllerInjector']=void 0x0;const express_1=require(a29_0xc5b79a(0x121)),typedi_1=__importDefault(require(a29_0xc5b79a(0x120))),logger_class_1=require('../classes/logger.class'),constants_1=require(a29_0xc5b79a(0x131)),utils_1=require('../utils'),handler_wrapper_1=require(a29_0xc5b79a(0x129)),middleware_injector_1=require(a29_0xc5b79a(0x12f)),logger=new logger_class_1[(a29_0xc5b79a(0x150))]('controller-injector');class ControllerInjector{constructor(_0x972df1,_0x4a2248){const _0x54bdaf=a29_0xc5b79a;this[_0x54bdaf(0x11d)]=_0x972df1,this[_0x54bdaf(0x142)]=_0x4a2248,this[_0x54bdaf(0x12c)]=(0x0,express_1[_0x54bdaf(0x114)])({'mergeParams':!![]}),this['nestedPath']='';if(!Reflect[_0x54bdaf(0x116)](constants_1['META_CONTROLLER'],_0x972df1))throw TypeError(_0x972df1['name']+_0x54bdaf(0x14c));}get['handlers'](){const _0x5d29de=a29_0xc5b79a,_0x2aee99=Object[_0x5d29de(0x119)](this['instance']);return Object[_0x5d29de(0x138)](_0x2aee99)[_0x5d29de(0x14e)](_0x15acd8=>_0x2aee99[_0x15acd8])[_0x5d29de(0x145)](_0x17ae2c=>!!Reflect['getOwnMetadata'](constants_1[_0x5d29de(0x118)],_0x17ae2c));}get[a29_0xc5b79a(0x143)](){const _0x5011d2=a29_0xc5b79a;return Reflect['getOwnMetadata'](constants_1[_0x5011d2(0x11a)],this[_0x5011d2(0x11d)])||[];}get[a29_0xc5b79a(0x13d)](){const _0x5b7c7e=a29_0xc5b79a;var _0x1465e7;const _0x494d30=(_0x1465e7=Reflect[_0x5b7c7e(0x116)](constants_1[_0x5b7c7e(0x13b)],this[_0x5b7c7e(0x11d)]))!==null&&_0x1465e7!==void 0x0?_0x1465e7:constants_1['CONTROLLER_DEFAULT_PREFIX'],_0x888aba=Reflect['getOwnMetadata'](constants_1[_0x5b7c7e(0x14a)],this[_0x5b7c7e(0x11d)])||'';return this[_0x5b7c7e(0x11f)]?'':(0x0,utils_1[_0x5b7c7e(0x141)])(_0x494d30,_0x888aba);}get[a29_0xc5b79a(0x140)](){const _0x38e4a7=a29_0xc5b79a;if(this['nestedPath'])return this[_0x38e4a7(0x11f)];const _0xc7273f=Reflect['getOwnMetadata'](constants_1[_0x38e4a7(0x130)],this[_0x38e4a7(0x11d)])||'';return(0x0,utils_1[_0x38e4a7(0x141)])(_0xc7273f);}get[a29_0xc5b79a(0x14d)](){const _0x4b6364=a29_0xc5b79a;return typedi_1[_0x4b6364(0x133)][_0x4b6364(0x12e)](this[_0x4b6364(0x11d)]);}async[a29_0xc5b79a(0x11b)](){const _0x99d213=a29_0xc5b79a;for(const _0x5c8720 of this[_0x99d213(0x143)]){const _0x53d4ef=await(0x0,middleware_injector_1['middlewareInjector'])(_0x5c8720);this[_0x99d213(0x12c)][_0x99d213(0x134)](_0x53d4ef);}}async[a29_0xc5b79a(0x132)](_0x4bfc06){const _0x3de406=a29_0xc5b79a,_0x12b787=_0x4bfc06[_0x3de406(0x12d)];logger['log']('injecting\x20nested\x20'+_0x12b787['name']+_0x3de406(0x136)+this['path']+_0x4bfc06[_0x3de406(0x140)]);const _0x1b5659=new ControllerInjector(_0x12b787,this);_0x1b5659['nestedPath']=_0x4bfc06[_0x3de406(0x140)],await _0x1b5659[_0x3de406(0x124)](this[_0x3de406(0x12c)]);}async[a29_0xc5b79a(0x135)](){const _0xbc7138=a29_0xc5b79a;var _0x35e5aa;for(const _0x5daced of this[_0xbc7138(0x12b)]){const _0x5a8045=(0x0,utils_1[_0xbc7138(0x117)])(_0x5daced);if(_0x5a8045[_0xbc7138(0x12d)])await this[_0xbc7138(0x132)](_0x5a8045);else{const _0x2d6075=_0x5a8045[_0xbc7138(0x11e)][_0xbc7138(0x144)]()['toLowerCase']();logger[_0xbc7138(0x14f)]('injecting\x20'+this[_0xbc7138(0x11d)]['name']+'#'+_0x5daced[_0xbc7138(0x149)]+_0xbc7138(0x12a)+_0x5a8045[_0xbc7138(0x11e)]+']\x20'+(0x0,utils_1['normalizePaths'])(((_0x35e5aa=this[_0xbc7138(0x142)])===null||_0x35e5aa===void 0x0?void 0x0:_0x35e5aa[_0xbc7138(0x140)])||'',this[_0xbc7138(0x140)],_0x5a8045[_0xbc7138(0x140)])),this['router'][_0x2d6075](_0x5a8045['path'],(0x0,handler_wrapper_1[_0xbc7138(0x147)])(_0x5daced,this[_0xbc7138(0x14d)]));}}}async[a29_0xc5b79a(0x124)](_0x359adf){const _0x343a76=a29_0xc5b79a;!this['nestedPath']&&logger[_0x343a76(0x14f)]('injecting\x20'+this[_0x343a76(0x11d)]['name']+'\x20{'+this['prefix']+'}'),await this[_0x343a76(0x11b)](),await this[_0x343a76(0x135)](),_0x359adf['use'](''+this['prefix']+this[_0x343a76(0x140)],this['router']);}}exports[a29_0xc5b79a(0x13c)]=ControllerInjector;