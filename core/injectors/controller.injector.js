function a24_0x423e(){const _0x3708a6=['middlewares','getOwnMetadata','1KKmmAM','META_CONTROLLER_MIDDLEWARES','META_HANDLER','276880LcwaSN','../constants','prefix','name','router','Logger','22RvVORI','35adTSxb','../wrappers/handler.wrapper','apply','get','instance','default','root','toLowerCase','5651532zDKjTp','handlerWrapper','injectHandlers','injecting\x20nested\x20','__esModule','controller-injector','method','normalizePaths','5157567ZeUfJj','8IbnsYC','toString','./middleware.injector','getHandlerMeta','4139570JYxxGz','injecting\x20','META_CONTROLLER','use','ControllerInjector','controllerType','inject','META_CONTROLLER_VERSION','log','\x20is\x20not\x20a\x20Controller','path','307022dMIWWF','map','Router','\x20at\x20[','80rmNtMH','search','915162HBYrOa','filter','injectNestedController','nested','express','handlers','defineProperty','(((.+)+)+)+$','CONTROLLER_DEFAULT_PREFIX','META_CONTROLLER_PREFIX','nestedPath','injectMiddlewares','67797ULsOek','META_CONTROLLER_PATH','__importDefault'];a24_0x423e=function(){return _0x3708a6;};return a24_0x423e();}const a24_0xa05702=a24_0x154b;(function(_0x241882,_0x5c25f0){const _0xd92588=a24_0x154b,_0xcb285f=_0x241882();while(!![]){try{const _0x3dcd0c=-parseInt(_0xd92588(0xdb))/0x1*(-parseInt(_0xd92588(0xc4))/0x2)+parseInt(_0xd92588(0xd6))/0x3*(parseInt(_0xd92588(0xc8))/0x4)+parseInt(_0xd92588(0xde))/0x5+parseInt(_0xd92588(0xca))/0x6*(-parseInt(_0xd92588(0xe5))/0x7)+-parseInt(_0xd92588(0xf6))/0x8*(parseInt(_0xd92588(0xf5))/0x9)+parseInt(_0xd92588(0xfa))/0xa*(parseInt(_0xd92588(0xe4))/0xb)+parseInt(_0xd92588(0xed))/0xc;if(_0x3dcd0c===_0x5c25f0)break;else _0xcb285f['push'](_0xcb285f['shift']());}catch(_0x1e5662){_0xcb285f['push'](_0xcb285f['shift']());}}}(a24_0x423e,0x985ac));const a24_0xf291e=(function(){let _0x50c19e=!![];return function(_0x500df9,_0xaa8870){const _0x21cbda=_0x50c19e?function(){const _0x1e17d2=a24_0x154b;if(_0xaa8870){const _0x591639=_0xaa8870[_0x1e17d2(0xe7)](_0x500df9,arguments);return _0xaa8870=null,_0x591639;}}:function(){};return _0x50c19e=![],_0x21cbda;};}()),a24_0xa0d14f=a24_0xf291e(this,function(){const _0x1c80c3=a24_0x154b;return a24_0xa0d14f[_0x1c80c3(0xf7)]()[_0x1c80c3(0xc9)](_0x1c80c3(0xd1))[_0x1c80c3(0xf7)]()['constructor'](a24_0xa0d14f)[_0x1c80c3(0xc9)]('(((.+)+)+)+$');});a24_0xa0d14f();'use strict';var __importDefault=this&&this[a24_0xa05702(0xd8)]||function(_0x3b0061){const _0x464608=a24_0xa05702;return _0x3b0061&&_0x3b0061[_0x464608(0xf1)]?_0x3b0061:{'default':_0x3b0061};};Object[a24_0xa05702(0xd0)](exports,a24_0xa05702(0xf1),{'value':!![]}),exports[a24_0xa05702(0xfe)]=void 0x0;const express_1=require(a24_0xa05702(0xce)),typedi_1=__importDefault(require('typedi')),logger_class_1=require('../classes/logger.class'),constants_1=require(a24_0xa05702(0xdf)),utils_1=require('../utils'),handler_wrapper_1=require(a24_0xa05702(0xe6)),middleware_injector_1=require(a24_0xa05702(0xf8)),logger=new logger_class_1[(a24_0xa05702(0xe3))](a24_0xa05702(0xf2));function a24_0x154b(_0x2d1706,_0x3d49e4){const _0x59167e=a24_0x423e();return a24_0x154b=function(_0xa0d14f,_0xf291e){_0xa0d14f=_0xa0d14f-0xc4;let _0x423e52=_0x59167e[_0xa0d14f];return _0x423e52;},a24_0x154b(_0x2d1706,_0x3d49e4);}class ControllerInjector{constructor(_0x43b0ce,_0x1852ae){const _0xe81bcf=a24_0xa05702;this['controllerType']=_0x43b0ce,this[_0xe81bcf(0xeb)]=_0x1852ae,this[_0xe81bcf(0xe2)]=(0x0,express_1[_0xe81bcf(0xc6)])({'mergeParams':!![]}),this[_0xe81bcf(0xd4)]='';if(!Reflect[_0xe81bcf(0xda)](constants_1[_0xe81bcf(0xfc)],_0x43b0ce))throw TypeError(_0x43b0ce[_0xe81bcf(0xe1)]+_0xe81bcf(0x103));}get[a24_0xa05702(0xcf)](){const _0x407d75=a24_0xa05702,_0x50972a=Object['getPrototypeOf'](this[_0x407d75(0xe9)]);return Object['getOwnPropertyNames'](_0x50972a)[_0x407d75(0xc5)](_0x444355=>_0x50972a[_0x444355])[_0x407d75(0xcb)](_0x121266=>!!Reflect['getOwnMetadata'](constants_1[_0x407d75(0xdd)],_0x121266));}get[a24_0xa05702(0xd9)](){const _0x1da3cf=a24_0xa05702;return Reflect['getOwnMetadata'](constants_1[_0x1da3cf(0xdc)],this['controllerType'])||[];}get[a24_0xa05702(0xe0)](){const _0x3cdbab=a24_0xa05702;var _0x20b7f3;const _0x3f05f3=(_0x20b7f3=Reflect[_0x3cdbab(0xda)](constants_1[_0x3cdbab(0xd3)],this[_0x3cdbab(0xff)]))!==null&&_0x20b7f3!==void 0x0?_0x20b7f3:constants_1[_0x3cdbab(0xd2)],_0x3b0943=Reflect[_0x3cdbab(0xda)](constants_1[_0x3cdbab(0x101)],this[_0x3cdbab(0xff)])||'';return this['nestedPath']?'':(0x0,utils_1[_0x3cdbab(0xf4)])(_0x3f05f3,_0x3b0943);}get[a24_0xa05702(0x104)](){const _0x35bd04=a24_0xa05702;if(this[_0x35bd04(0xd4)])return this[_0x35bd04(0xd4)];const _0x442160=Reflect[_0x35bd04(0xda)](constants_1[_0x35bd04(0xd7)],this[_0x35bd04(0xff)])||'';return(0x0,utils_1[_0x35bd04(0xf4)])(_0x442160);}get[a24_0xa05702(0xe9)](){const _0x570304=a24_0xa05702;return typedi_1[_0x570304(0xea)][_0x570304(0xe8)](this[_0x570304(0xff)]);}async[a24_0xa05702(0xd5)](){const _0x238696=a24_0xa05702;for(const _0x1d0a45 of this['middlewares']){const _0x28673c=await(0x0,middleware_injector_1['middlewareInjector'])(_0x1d0a45);this[_0x238696(0xe2)][_0x238696(0xfd)](_0x28673c);}}async[a24_0xa05702(0xcc)](_0x3d4fad){const _0x18f6da=a24_0xa05702,_0x3f6750=_0x3d4fad[_0x18f6da(0xcd)];logger[_0x18f6da(0x102)](_0x18f6da(0xf0)+_0x3f6750[_0x18f6da(0xe1)]+'\x20at\x20'+this[_0x18f6da(0x104)]+_0x3d4fad[_0x18f6da(0x104)]);const _0x41d63a=new ControllerInjector(_0x3f6750,this);_0x41d63a[_0x18f6da(0xd4)]=_0x3d4fad[_0x18f6da(0x104)],await _0x41d63a[_0x18f6da(0x100)](this[_0x18f6da(0xe2)]);}async[a24_0xa05702(0xef)](){const _0x31b23b=a24_0xa05702;var _0x14fe08;for(const _0x55b120 of this['handlers']){const _0x3e158b=(0x0,utils_1[_0x31b23b(0xf9)])(_0x55b120);if(_0x3e158b[_0x31b23b(0xcd)])await this[_0x31b23b(0xcc)](_0x3e158b);else{const _0x4464ca=_0x3e158b[_0x31b23b(0xf3)][_0x31b23b(0xf7)]()[_0x31b23b(0xec)]();logger[_0x31b23b(0x102)](_0x31b23b(0xfb)+this['controllerType']['name']+'#'+_0x55b120['name']+_0x31b23b(0xc7)+_0x3e158b['method']+']\x20'+(0x0,utils_1[_0x31b23b(0xf4)])(((_0x14fe08=this[_0x31b23b(0xeb)])===null||_0x14fe08===void 0x0?void 0x0:_0x14fe08[_0x31b23b(0x104)])||'',this[_0x31b23b(0x104)],_0x3e158b[_0x31b23b(0x104)])),this[_0x31b23b(0xe2)][_0x4464ca](_0x3e158b['path'],(0x0,handler_wrapper_1[_0x31b23b(0xee)])(_0x55b120,this[_0x31b23b(0xe9)]));}}}async['inject'](_0x4ef636){const _0x49d0f6=a24_0xa05702;!this['nestedPath']&&logger['log']('injecting\x20'+this[_0x49d0f6(0xff)][_0x49d0f6(0xe1)]+'\x20{'+this[_0x49d0f6(0xe0)]+'}'),await this[_0x49d0f6(0xd5)](),await this[_0x49d0f6(0xef)](),_0x4ef636[_0x49d0f6(0xfd)](''+this[_0x49d0f6(0xe0)]+this['path'],this[_0x49d0f6(0xe2)]);}}exports['ControllerInjector']=ControllerInjector;