const a24_0x4db825=a24_0x22fb;(function(_0x3f82f8,_0x5516f7){const _0x5bf732=a24_0x22fb,_0x470084=_0x3f82f8();while(!![]){try{const _0x10c489=-parseInt(_0x5bf732(0x8c))/0x1*(parseInt(_0x5bf732(0x8b))/0x2)+parseInt(_0x5bf732(0x95))/0x3+parseInt(_0x5bf732(0x89))/0x4+parseInt(_0x5bf732(0x85))/0x5*(-parseInt(_0x5bf732(0x9b))/0x6)+-parseInt(_0x5bf732(0x77))/0x7*(-parseInt(_0x5bf732(0x84))/0x8)+parseInt(_0x5bf732(0x93))/0x9+parseInt(_0x5bf732(0x82))/0xa*(-parseInt(_0x5bf732(0x78))/0xb);if(_0x10c489===_0x5516f7)break;else _0x470084['push'](_0x470084['shift']());}catch(_0x58f377){_0x470084['push'](_0x470084['shift']());}}}(a24_0x3d79,0x941c7));const a24_0x2c6d6f=(function(){let _0x1a1bba=!![];return function(_0x39ee29,_0x490029){const _0x535307=_0x1a1bba?function(){const _0x1563d8=a24_0x22fb;if(_0x490029){const _0x22a623=_0x490029[_0x1563d8(0x99)](_0x39ee29,arguments);return _0x490029=null,_0x22a623;}}:function(){};return _0x1a1bba=![],_0x535307;};}()),a24_0x3a5e28=a24_0x2c6d6f(this,function(){const _0x3b4304=a24_0x22fb;return a24_0x3a5e28[_0x3b4304(0x91)]()['search'](_0x3b4304(0x68))[_0x3b4304(0x91)]()['constructor'](a24_0x3a5e28)['search'](_0x3b4304(0x68));});a24_0x3a5e28();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xb51221){return _0xb51221&&_0xb51221['__esModule']?_0xb51221:{'default':_0xb51221};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a24_0x4db825(0x90)]=void 0x0;function a24_0x22fb(_0x2df70a,_0x2b078d){const _0x15361d=a24_0x3d79();return a24_0x22fb=function(_0x3a5e28,_0x2c6d6f){_0x3a5e28=_0x3a5e28-0x67;let _0x3d79dc=_0x15361d[_0x3a5e28];return _0x3d79dc;},a24_0x22fb(_0x2df70a,_0x2b078d);}const express_1=require(a24_0x4db825(0x97)),typedi_1=__importDefault(require('typedi')),logger_class_1=require('../classes/logger.class'),constants_1=require('../constants'),utils_1=require(a24_0x4db825(0x8d)),handler_wrapper_1=require(a24_0x4db825(0x74)),middleware_injector_1=require('./middleware.injector'),logger=new logger_class_1[(a24_0x4db825(0x6d))]('controller-injector');class ControllerInjector{constructor(_0x4e1b0d,_0x4baec3){const _0x51c31e=a24_0x4db825;this[_0x51c31e(0x94)]=_0x4e1b0d,this[_0x51c31e(0x71)]=_0x4baec3,this['router']=(0x0,express_1[_0x51c31e(0x7e)])({'mergeParams':!![]}),this[_0x51c31e(0x9c)]='';if(!Reflect[_0x51c31e(0x6e)](constants_1[_0x51c31e(0x75)],_0x4e1b0d))throw TypeError(_0x4e1b0d['name']+'\x20is\x20not\x20a\x20Controller');}get[a24_0x4db825(0x72)](){const _0x1d1a1c=a24_0x4db825,_0x237b73=Object[_0x1d1a1c(0x67)](this['instance']);return Object['getOwnPropertyNames'](_0x237b73)['map'](_0x25c3a9=>_0x237b73[_0x25c3a9])[_0x1d1a1c(0x8e)](_0x411acc=>!!Reflect[_0x1d1a1c(0x6e)](constants_1[_0x1d1a1c(0x7a)],_0x411acc));}get[a24_0x4db825(0x81)](){const _0x24313e=a24_0x4db825;return Reflect[_0x24313e(0x6e)](constants_1[_0x24313e(0x69)],this['controllerType'])||[];}get['prefix'](){const _0x400400=a24_0x4db825;var _0xf815e7;const _0x415879=(_0xf815e7=Reflect[_0x400400(0x6e)](constants_1['META_CONTROLLER_PREFIX'],this[_0x400400(0x94)]))!==null&&_0xf815e7!==void 0x0?_0xf815e7:constants_1[_0x400400(0x8f)],_0xbcad0d=Reflect[_0x400400(0x6e)](constants_1[_0x400400(0x98)],this[_0x400400(0x94)])||'';return this[_0x400400(0x9c)]?'':(0x0,utils_1[_0x400400(0x7c)])(_0x415879,_0xbcad0d);}get[a24_0x4db825(0x7d)](){const _0x554d1d=a24_0x4db825;if(this[_0x554d1d(0x9c)])return this[_0x554d1d(0x9c)];const _0x46c08d=Reflect[_0x554d1d(0x6e)](constants_1[_0x554d1d(0x6a)],this[_0x554d1d(0x94)])||'';return(0x0,utils_1[_0x554d1d(0x7c)])(_0x46c08d);}get[a24_0x4db825(0x96)](){const _0x1fcc4e=a24_0x4db825;return typedi_1[_0x1fcc4e(0x87)]['get'](this[_0x1fcc4e(0x94)]);}async[a24_0x4db825(0x92)](){const _0xe2f074=a24_0x4db825;for(const _0x30effa of this['middlewares']){const _0x1189a2=await(0x0,middleware_injector_1['middlewareInjector'])(_0x30effa);this[_0xe2f074(0x88)][_0xe2f074(0x6c)](_0x1189a2);}}async['injectNestedController'](_0x51a448){const _0x5a45a9=a24_0x4db825,_0x243961=_0x51a448[_0x5a45a9(0x7b)];logger[_0x5a45a9(0x80)](_0x5a45a9(0x76)+_0x243961['name']+_0x5a45a9(0x9a)+this[_0x5a45a9(0x7d)]+_0x51a448[_0x5a45a9(0x7d)]);const _0x293cb5=new ControllerInjector(_0x243961,this);_0x293cb5[_0x5a45a9(0x9c)]=_0x51a448[_0x5a45a9(0x7d)],await _0x293cb5[_0x5a45a9(0x70)](this[_0x5a45a9(0x88)]);}async[a24_0x4db825(0x73)](){const _0x3019ba=a24_0x4db825;var _0x559607;for(const _0x2a294b of this[_0x3019ba(0x72)]){const _0x97664c=(0x0,utils_1[_0x3019ba(0x8a)])(_0x2a294b);if(_0x97664c[_0x3019ba(0x7b)])await this['injectNestedController'](_0x97664c);else{const _0x181889=_0x97664c['method'][_0x3019ba(0x91)]()[_0x3019ba(0x83)]();logger[_0x3019ba(0x80)](_0x3019ba(0x79)+this[_0x3019ba(0x94)][_0x3019ba(0x7f)]+'#'+_0x2a294b[_0x3019ba(0x7f)]+'\x20at\x20['+_0x97664c[_0x3019ba(0x86)]+']\x20'+(0x0,utils_1['normalizePaths'])(((_0x559607=this['root'])===null||_0x559607===void 0x0?void 0x0:_0x559607['path'])||'',this['path'],_0x97664c[_0x3019ba(0x7d)])),this[_0x3019ba(0x88)][_0x181889](_0x97664c[_0x3019ba(0x7d)],(0x0,handler_wrapper_1[_0x3019ba(0x6f)])(_0x2a294b,this[_0x3019ba(0x96)]));}}}async['inject'](_0x577227){const _0x553bc5=a24_0x4db825;!this[_0x553bc5(0x9c)]&&logger['log'](_0x553bc5(0x79)+this[_0x553bc5(0x94)][_0x553bc5(0x7f)]+'\x20{'+this[_0x553bc5(0x6b)]+'}'),await this[_0x553bc5(0x92)](),await this[_0x553bc5(0x73)](),_0x577227[_0x553bc5(0x6c)](''+this[_0x553bc5(0x6b)]+this[_0x553bc5(0x7d)],this[_0x553bc5(0x88)]);}}exports[a24_0x4db825(0x90)]=ControllerInjector;function a24_0x3d79(){const _0x3ab0cc=['root','handlers','injectHandlers','../wrappers/handler.wrapper','META_CONTROLLER','injecting\x20nested\x20','390964odNDfy','85074EydYQp','injecting\x20','META_HANDLER','nested','normalizePaths','path','Router','name','log','middlewares','300eANSkq','toLowerCase','128wiftYk','895dOvvGD','method','default','router','1336704AJzhHD','getHandlerMeta','78pUyFRZ','22153XVEryK','../utils','filter','CONTROLLER_DEFAULT_PREFIX','ControllerInjector','toString','injectMiddlewares','1941111OroSxU','controllerType','2610807JSzjVA','instance','express','META_CONTROLLER_VERSION','apply','\x20at\x20','20484dAIjEO','nestedPath','getPrototypeOf','(((.+)+)+)+$','META_CONTROLLER_MIDDLEWARES','META_CONTROLLER_PATH','prefix','use','Logger','getOwnMetadata','handlerWrapper','inject'];a24_0x3d79=function(){return _0x3ab0cc;};return a24_0x3d79();}