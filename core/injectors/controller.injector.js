function a24_0x4b31(){const _0x3dbf29=['controllerType','inject','search','getOwnPropertyNames','controller-injector','META_HANDLER','injectNestedController','name','getHandlerMeta','7769640dRsYMU','META_CONTROLLER_PREFIX','20amCSWM','injectHandlers','META_CONTROLLER_VERSION','injecting\x20','log','../wrappers/handler.wrapper','default','injectMiddlewares','../constants','normalizePaths','(((.+)+)+)+$','constructor','META_CONTROLLER_MIDDLEWARES','express','path','173061gWNivV','root','META_CONTROLLER','930ucRSsL','Logger','handlers','\x20is\x20not\x20a\x20Controller','15446ZyuzMt','filter','20356yjuDHE','18881346xOvYHd','get','getPrototypeOf','getOwnMetadata','handlerWrapper','Router','router','\x20at\x20[','205460JeIeAu','defineProperty','apply','toString','middlewares','instance','prefix','ControllerInjector','nestedPath','\x20at\x20','CONTROLLER_DEFAULT_PREFIX','429611ElPgDu','method','410XwhVcX','39ZkNHJz','map'];a24_0x4b31=function(){return _0x3dbf29;};return a24_0x4b31();}const a24_0x53a487=a24_0x56a0;(function(_0x3190dc,_0x8b3dd9){const _0x1960a9=a24_0x56a0,_0x1d9217=_0x3190dc();while(!![]){try{const _0x4a7e12=-parseInt(_0x1960a9(0x183))/0x1+-parseInt(_0x1960a9(0x16d))/0x2*(-parseInt(_0x1960a9(0x186))/0x3)+-parseInt(_0x1960a9(0x178))/0x4*(parseInt(_0x1960a9(0x157))/0x5)+parseInt(_0x1960a9(0x169))/0x6*(-parseInt(_0x1960a9(0x16f))/0x7)+-parseInt(_0x1960a9(0x191))/0x8+-parseInt(_0x1960a9(0x166))/0x9*(-parseInt(_0x1960a9(0x185))/0xa)+parseInt(_0x1960a9(0x170))/0xb;if(_0x4a7e12===_0x8b3dd9)break;else _0x1d9217['push'](_0x1d9217['shift']());}catch(_0x55693c){_0x1d9217['push'](_0x1d9217['shift']());}}}(a24_0x4b31,0x85da2));const a24_0x3b1f3d=(function(){let _0x281e7a=!![];return function(_0x179c2,_0x1ee2d9){const _0x340508=_0x281e7a?function(){const _0x150283=a24_0x56a0;if(_0x1ee2d9){const _0x42445a=_0x1ee2d9[_0x150283(0x17a)](_0x179c2,arguments);return _0x1ee2d9=null,_0x42445a;}}:function(){};return _0x281e7a=![],_0x340508;};}()),a24_0x2c60e3=a24_0x3b1f3d(this,function(){const _0x1fe841=a24_0x56a0;return a24_0x2c60e3[_0x1fe841(0x17b)]()[_0x1fe841(0x18a)](_0x1fe841(0x161))[_0x1fe841(0x17b)]()[_0x1fe841(0x162)](a24_0x2c60e3)[_0x1fe841(0x18a)](_0x1fe841(0x161));});a24_0x2c60e3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3d0d46){return _0x3d0d46&&_0x3d0d46['__esModule']?_0x3d0d46:{'default':_0x3d0d46};};Object[a24_0x53a487(0x179)](exports,'__esModule',{'value':!![]}),exports['ControllerInjector']=void 0x0;const express_1=require(a24_0x53a487(0x164)),typedi_1=__importDefault(require('typedi')),logger_class_1=require('../classes/logger.class'),constants_1=require(a24_0x53a487(0x15f)),utils_1=require('../utils'),handler_wrapper_1=require(a24_0x53a487(0x15c)),middleware_injector_1=require('./middleware.injector'),logger=new logger_class_1[(a24_0x53a487(0x16a))](a24_0x53a487(0x18c));class ControllerInjector{constructor(_0x191e05,_0x458bec){const _0x55169b=a24_0x53a487;this[_0x55169b(0x188)]=_0x191e05,this[_0x55169b(0x167)]=_0x458bec,this['router']=express_1[_0x55169b(0x175)]({'mergeParams':!![]}),this['nestedPath']='';if(!Reflect['getOwnMetadata'](constants_1[_0x55169b(0x168)],_0x191e05))throw TypeError(_0x191e05[_0x55169b(0x18f)]+_0x55169b(0x16c));}get[a24_0x53a487(0x16b)](){const _0x8be2b9=a24_0x53a487,_0x52f77b=Object[_0x8be2b9(0x172)](this[_0x8be2b9(0x17d)]);return Object[_0x8be2b9(0x18b)](_0x52f77b)[_0x8be2b9(0x187)](_0x7bc978=>_0x52f77b[_0x7bc978])[_0x8be2b9(0x16e)](_0xd337cd=>!!Reflect['getOwnMetadata'](constants_1[_0x8be2b9(0x18d)],_0xd337cd));}get[a24_0x53a487(0x17c)](){const _0x879fd8=a24_0x53a487;return Reflect[_0x879fd8(0x173)](constants_1[_0x879fd8(0x163)],this[_0x879fd8(0x188)])||[];}get['prefix'](){const _0x12980f=a24_0x53a487;var _0x10cf60;const _0x1885f7=(_0x10cf60=Reflect[_0x12980f(0x173)](constants_1[_0x12980f(0x156)],this[_0x12980f(0x188)]))!==null&&_0x10cf60!==void 0x0?_0x10cf60:constants_1[_0x12980f(0x182)],_0x2e60c7=Reflect['getOwnMetadata'](constants_1[_0x12980f(0x159)],this[_0x12980f(0x188)])||'';return this[_0x12980f(0x180)]?'':utils_1['normalizePaths'](_0x1885f7,_0x2e60c7);}get[a24_0x53a487(0x165)](){const _0x42f049=a24_0x53a487;if(this['nestedPath'])return this[_0x42f049(0x180)];const _0x131029=Reflect[_0x42f049(0x173)](constants_1['META_CONTROLLER_PATH'],this['controllerType'])||'';return utils_1[_0x42f049(0x160)](_0x131029);}get[a24_0x53a487(0x17d)](){const _0xe53aca=a24_0x53a487;return typedi_1[_0xe53aca(0x15d)][_0xe53aca(0x171)](this[_0xe53aca(0x188)]);}async[a24_0x53a487(0x15e)](){const _0x36b512=a24_0x53a487;for(const _0x264d00 of this[_0x36b512(0x17c)]){const _0x54792f=await middleware_injector_1['middlewareInjector'](_0x264d00);this[_0x36b512(0x176)]['use'](_0x54792f);}}async[a24_0x53a487(0x18e)](_0x28fcff){const _0x54e8cb=a24_0x53a487,_0x4a9d43=_0x28fcff['nested'];logger['log']('injecting\x20nested\x20'+_0x4a9d43[_0x54e8cb(0x18f)]+_0x54e8cb(0x181)+this[_0x54e8cb(0x165)]+_0x28fcff[_0x54e8cb(0x165)]);const _0x5e6769=new ControllerInjector(_0x4a9d43,this);_0x5e6769[_0x54e8cb(0x180)]=_0x28fcff[_0x54e8cb(0x165)],await _0x5e6769[_0x54e8cb(0x189)](this[_0x54e8cb(0x176)]);}async[a24_0x53a487(0x158)](){const _0x3b631c=a24_0x53a487;var _0x209115;for(const _0x4fc19d of this[_0x3b631c(0x16b)]){const _0x4fddd0=utils_1[_0x3b631c(0x190)](_0x4fc19d);if(_0x4fddd0['nested'])await this[_0x3b631c(0x18e)](_0x4fddd0);else{const _0x10f2ec=_0x4fddd0[_0x3b631c(0x184)][_0x3b631c(0x17b)]()['toLowerCase']();logger[_0x3b631c(0x15b)](_0x3b631c(0x15a)+this['controllerType'][_0x3b631c(0x18f)]+'#'+_0x4fc19d[_0x3b631c(0x18f)]+_0x3b631c(0x177)+_0x4fddd0[_0x3b631c(0x184)]+']\x20'+utils_1[_0x3b631c(0x160)](((_0x209115=this['root'])===null||_0x209115===void 0x0?void 0x0:_0x209115[_0x3b631c(0x165)])||'',this[_0x3b631c(0x165)],_0x4fddd0[_0x3b631c(0x165)])),this[_0x3b631c(0x176)][_0x10f2ec](_0x4fddd0[_0x3b631c(0x165)],handler_wrapper_1[_0x3b631c(0x174)](_0x4fc19d,this[_0x3b631c(0x17d)]));}}}async[a24_0x53a487(0x189)](_0x1bf4a2){const _0x1ed0c0=a24_0x53a487;!this['nestedPath']&&logger[_0x1ed0c0(0x15b)](_0x1ed0c0(0x15a)+this['controllerType'][_0x1ed0c0(0x18f)]+'\x20{'+this[_0x1ed0c0(0x17e)]+'}'),await this[_0x1ed0c0(0x15e)](),await this['injectHandlers'](),_0x1bf4a2['use'](''+this[_0x1ed0c0(0x17e)]+this['path'],this['router']);}}function a24_0x56a0(_0x4974d4,_0x521249){const _0x451921=a24_0x4b31();return a24_0x56a0=function(_0x2c60e3,_0x3b1f3d){_0x2c60e3=_0x2c60e3-0x156;let _0x4b31f7=_0x451921[_0x2c60e3];return _0x4b31f7;},a24_0x56a0(_0x4974d4,_0x521249);}exports[a24_0x53a487(0x17f)]=ControllerInjector;