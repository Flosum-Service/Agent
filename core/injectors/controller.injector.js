function a27_0x1350(){const _0x24a575=['941364ZbmPkw','nested','1870332ohDVUM','8574699UJokCY','defineProperty','../wrappers/handler.wrapper','toString','get','log','instance','use','controllerType','CONTROLLER_DEFAULT_PREFIX','META_CONTROLLER','(((.+)+)+)+$','Router','handlerWrapper','normalizePaths','prefix','root','filter','apply','8494936FZcMdh','injecting\x20','injectMiddlewares','META_CONTROLLER_MIDDLEWARES','injecting\x20nested\x20','ControllerInjector','handlers','injectNestedController','injectHandlers','getHandlerMeta','15HduLks','2233878GfmoJL','path','1292032aSSntg','META_CONTROLLER_PREFIX','3005172LwMvZK','middlewares','router','getOwnPropertyNames','middlewareInjector','../constants','META_CONTROLLER_PATH','\x20at\x20','nestedPath','META_HANDLER','__esModule','./middleware.injector','name','toLowerCase','search','8qOudYs','express','inject','method','../classes/logger.class','getOwnMetadata'];a27_0x1350=function(){return _0x24a575;};return a27_0x1350();}const a27_0x16d86e=a27_0x2ac5;(function(_0x36be02,_0x3e2573){const _0x3c4b92=a27_0x2ac5,_0x5008d1=_0x36be02();while(!![]){try{const _0x190967=parseInt(_0x3c4b92(0x169))/0x1+-parseInt(_0x3c4b92(0x180))/0x2+parseInt(_0x3c4b92(0x182))/0x3*(parseInt(_0x3c4b92(0x17a))/0x4)+-parseInt(_0x3c4b92(0x166))/0x5*(parseInt(_0x3c4b92(0x167))/0x6)+parseInt(_0x3c4b92(0x183))/0x7+-parseInt(_0x3c4b92(0x196))/0x8+-parseInt(_0x3c4b92(0x16b))/0x9;if(_0x190967===_0x3e2573)break;else _0x5008d1['push'](_0x5008d1['shift']());}catch(_0x1d8e1a){_0x5008d1['push'](_0x5008d1['shift']());}}}(a27_0x1350,0xbe8c1));const a27_0x258801=(function(){let _0x54eeda=!![];return function(_0x371727,_0x33a51f){const _0x36c551=_0x54eeda?function(){const _0x4616db=a27_0x2ac5;if(_0x33a51f){const _0x287740=_0x33a51f[_0x4616db(0x195)](_0x371727,arguments);return _0x33a51f=null,_0x287740;}}:function(){};return _0x54eeda=![],_0x36c551;};}()),a27_0x3c0913=a27_0x258801(this,function(){const _0x191d10=a27_0x2ac5;return a27_0x3c0913['toString']()[_0x191d10(0x179)](_0x191d10(0x18e))[_0x191d10(0x186)]()['constructor'](a27_0x3c0913)[_0x191d10(0x179)](_0x191d10(0x18e));});a27_0x3c0913();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x124845){const _0xee9b3e=a27_0x2ac5;return _0x124845&&_0x124845[_0xee9b3e(0x175)]?_0x124845:{'default':_0x124845};};Object[a27_0x16d86e(0x184)](exports,a27_0x16d86e(0x175),{'value':!![]}),exports[a27_0x16d86e(0x19b)]=void 0x0;const express_1=require(a27_0x16d86e(0x17b)),typedi_1=__importDefault(require('typedi')),logger_class_1=require(a27_0x16d86e(0x17e)),constants_1=require(a27_0x16d86e(0x170)),utils_1=require('../utils'),handler_wrapper_1=require(a27_0x16d86e(0x185)),middleware_injector_1=require(a27_0x16d86e(0x176)),logger=new logger_class_1['Logger']('controller-injector');function a27_0x2ac5(_0x536019,_0x26955b){const _0x328533=a27_0x1350();return a27_0x2ac5=function(_0x3c0913,_0x258801){_0x3c0913=_0x3c0913-0x163;let _0x1350d6=_0x328533[_0x3c0913];return _0x1350d6;},a27_0x2ac5(_0x536019,_0x26955b);}class ControllerInjector{constructor(_0x1b14f0,_0x261ea4){const _0x200820=a27_0x16d86e;this[_0x200820(0x18b)]=_0x1b14f0,this[_0x200820(0x193)]=_0x261ea4,this['router']=(0x0,express_1[_0x200820(0x18f)])({'mergeParams':!![]}),this[_0x200820(0x173)]='';if(!Reflect[_0x200820(0x17f)](constants_1[_0x200820(0x18d)],_0x1b14f0))throw TypeError(_0x1b14f0[_0x200820(0x177)]+'\x20is\x20not\x20a\x20Controller');}get['handlers'](){const _0x1ef5c6=a27_0x16d86e,_0x1739fe=Object['getPrototypeOf'](this['instance']);return Object[_0x1ef5c6(0x16e)](_0x1739fe)['map'](_0x42ad60=>_0x1739fe[_0x42ad60])[_0x1ef5c6(0x194)](_0x5c1c33=>!!Reflect[_0x1ef5c6(0x17f)](constants_1[_0x1ef5c6(0x174)],_0x5c1c33));}get['middlewares'](){const _0x45ad16=a27_0x16d86e;return Reflect[_0x45ad16(0x17f)](constants_1[_0x45ad16(0x199)],this[_0x45ad16(0x18b)])||[];}get['prefix'](){const _0x5c9ec6=a27_0x16d86e;var _0x186f6c;const _0x2d7d71=(_0x186f6c=Reflect['getOwnMetadata'](constants_1[_0x5c9ec6(0x16a)],this[_0x5c9ec6(0x18b)]))!==null&&_0x186f6c!==void 0x0?_0x186f6c:constants_1[_0x5c9ec6(0x18c)],_0x52f824=Reflect['getOwnMetadata'](constants_1['META_CONTROLLER_VERSION'],this[_0x5c9ec6(0x18b)])||'';return this[_0x5c9ec6(0x173)]?'':(0x0,utils_1[_0x5c9ec6(0x191)])(_0x2d7d71,_0x52f824);}get[a27_0x16d86e(0x168)](){const _0x2d0791=a27_0x16d86e;if(this[_0x2d0791(0x173)])return this['nestedPath'];const _0x1d58bd=Reflect[_0x2d0791(0x17f)](constants_1[_0x2d0791(0x171)],this['controllerType'])||'';return(0x0,utils_1[_0x2d0791(0x191)])(_0x1d58bd);}get[a27_0x16d86e(0x189)](){const _0x4a5748=a27_0x16d86e;return typedi_1['default'][_0x4a5748(0x187)](this[_0x4a5748(0x18b)]);}async[a27_0x16d86e(0x198)](){const _0x445a04=a27_0x16d86e;for(const _0x38bd26 of this[_0x445a04(0x16c)]){const _0x59ceba=await(0x0,middleware_injector_1[_0x445a04(0x16f)])(_0x38bd26);this[_0x445a04(0x16d)][_0x445a04(0x18a)](_0x59ceba);}}async['injectNestedController'](_0x227de1){const _0xafd7c5=a27_0x16d86e,_0x599f37=_0x227de1[_0xafd7c5(0x181)];logger['log'](_0xafd7c5(0x19a)+_0x599f37[_0xafd7c5(0x177)]+_0xafd7c5(0x172)+this[_0xafd7c5(0x168)]+_0x227de1[_0xafd7c5(0x168)]);const _0x395754=new ControllerInjector(_0x599f37,this);_0x395754[_0xafd7c5(0x173)]=_0x227de1[_0xafd7c5(0x168)],await _0x395754['inject'](this['router']);}async[a27_0x16d86e(0x164)](){const _0x2600f8=a27_0x16d86e;var _0x15f499;for(const _0x284af2 of this[_0x2600f8(0x19c)]){const _0x42713f=(0x0,utils_1[_0x2600f8(0x165)])(_0x284af2);if(_0x42713f[_0x2600f8(0x181)])await this[_0x2600f8(0x163)](_0x42713f);else{const _0x384bec=_0x42713f[_0x2600f8(0x17d)][_0x2600f8(0x186)]()[_0x2600f8(0x178)]();logger[_0x2600f8(0x188)](_0x2600f8(0x197)+this[_0x2600f8(0x18b)][_0x2600f8(0x177)]+'#'+_0x284af2['name']+'\x20at\x20['+_0x42713f['method']+']\x20'+(0x0,utils_1['normalizePaths'])(((_0x15f499=this[_0x2600f8(0x193)])===null||_0x15f499===void 0x0?void 0x0:_0x15f499['path'])||'',this[_0x2600f8(0x168)],_0x42713f[_0x2600f8(0x168)])),this[_0x2600f8(0x16d)][_0x384bec](_0x42713f[_0x2600f8(0x168)],(0x0,handler_wrapper_1[_0x2600f8(0x190)])(_0x284af2,this[_0x2600f8(0x189)]));}}}async[a27_0x16d86e(0x17c)](_0x3bde69){const _0x11be82=a27_0x16d86e;!this[_0x11be82(0x173)]&&logger[_0x11be82(0x188)](_0x11be82(0x197)+this[_0x11be82(0x18b)][_0x11be82(0x177)]+'\x20{'+this['prefix']+'}'),await this['injectMiddlewares'](),await this['injectHandlers'](),_0x3bde69['use'](''+this[_0x11be82(0x192)]+this[_0x11be82(0x168)],this[_0x11be82(0x16d)]);}}exports[a27_0x16d86e(0x19b)]=ControllerInjector;