const a24_0x182182=a24_0x3a25;(function(_0x1e7ef6,_0x2a60fa){const _0x524d5f=a24_0x3a25,_0x27d5b9=_0x1e7ef6();while(!![]){try{const _0x2e9416=parseInt(_0x524d5f(0x81))/0x1*(parseInt(_0x524d5f(0x91))/0x2)+parseInt(_0x524d5f(0x6d))/0x3*(-parseInt(_0x524d5f(0x9b))/0x4)+-parseInt(_0x524d5f(0x89))/0x5*(-parseInt(_0x524d5f(0x8e))/0x6)+-parseInt(_0x524d5f(0x93))/0x7+-parseInt(_0x524d5f(0x98))/0x8+-parseInt(_0x524d5f(0x88))/0x9+parseInt(_0x524d5f(0x90))/0xa*(parseInt(_0x524d5f(0x96))/0xb);if(_0x2e9416===_0x2a60fa)break;else _0x27d5b9['push'](_0x27d5b9['shift']());}catch(_0x9cf5c6){_0x27d5b9['push'](_0x27d5b9['shift']());}}}(a24_0x5f57,0x8417c));const a24_0xd0f94c=(function(){let _0x450aee=!![];return function(_0x2f9070,_0x485586){const _0x517ab3=_0x450aee?function(){const _0x37996e=a24_0x3a25;if(_0x485586){const _0x4b1296=_0x485586[_0x37996e(0x6f)](_0x2f9070,arguments);return _0x485586=null,_0x4b1296;}}:function(){};return _0x450aee=![],_0x517ab3;};}()),a24_0x20e680=a24_0xd0f94c(this,function(){const _0x4429c7=a24_0x3a25;return a24_0x20e680[_0x4429c7(0x8b)]()[_0x4429c7(0x6a)](_0x4429c7(0x95))['toString']()[_0x4429c7(0x9c)](a24_0x20e680)[_0x4429c7(0x6a)](_0x4429c7(0x95));});a24_0x20e680();'use strict';var __importDefault=this&&this[a24_0x182182(0x84)]||function(_0x3f49cf){const _0x131d65=a24_0x182182;return _0x3f49cf&&_0x3f49cf[_0x131d65(0x9a)]?_0x3f49cf:{'default':_0x3f49cf};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a24_0x182182(0x7a)]=void 0x0;function a24_0x5f57(){const _0x255f13=['injecting\x20','\x20at\x20','inject','filter','META_HANDLER','../constants','injectNestedController','toLowerCase','search','Logger','use','740625MmAJWh','router','apply','middlewareInjector','root','controller-injector','getOwnMetadata','getHandlerMeta','middlewares','./middleware.injector','prefix','name','META_CONTROLLER_PATH','ControllerInjector','nestedPath','META_CONTROLLER','log','injectMiddlewares','injectHandlers','META_CONTROLLER_VERSION','533057PbEtwk','normalizePaths','path','__importDefault','method','\x20at\x20[','map','825741pIgZZT','13415hMYRXz','nested','toString','../utils','handlers','522jjBpLk','META_CONTROLLER_MIDDLEWARES','690UQUlIM','4VVpWkS','\x20is\x20not\x20a\x20Controller','604751CTJuwH','Router','(((.+)+)+)+$','58663CDzbHU','controllerType','5611544uFBvuI','getPrototypeOf','__esModule','4vccbTb','constructor'];a24_0x5f57=function(){return _0x255f13;};return a24_0x5f57();}function a24_0x3a25(_0x8e4ccb,_0x145965){const _0x53d807=a24_0x5f57();return a24_0x3a25=function(_0x20e680,_0xd0f94c){_0x20e680=_0x20e680-0x68;let _0x5f5791=_0x53d807[_0x20e680];return _0x5f5791;},a24_0x3a25(_0x8e4ccb,_0x145965);}const express_1=require('express'),typedi_1=__importDefault(require('typedi')),logger_class_1=require('../classes/logger.class'),constants_1=require(a24_0x182182(0xa2)),utils_1=require(a24_0x182182(0x8c)),handler_wrapper_1=require('../wrappers/handler.wrapper'),middleware_injector_1=require(a24_0x182182(0x76)),logger=new logger_class_1[(a24_0x182182(0x6b))](a24_0x182182(0x72));class ControllerInjector{constructor(_0x1395a7,_0x303df1){const _0x5d6631=a24_0x182182;this[_0x5d6631(0x97)]=_0x1395a7,this[_0x5d6631(0x71)]=_0x303df1,this[_0x5d6631(0x6e)]=express_1[_0x5d6631(0x94)]({'mergeParams':!![]}),this[_0x5d6631(0x7b)]='';if(!Reflect[_0x5d6631(0x73)](constants_1[_0x5d6631(0x7c)],_0x1395a7))throw TypeError(_0x1395a7['name']+_0x5d6631(0x92));}get[a24_0x182182(0x8d)](){const _0x4e844d=a24_0x182182,_0x210899=Object[_0x4e844d(0x99)](this['instance']);return Object['getOwnPropertyNames'](_0x210899)[_0x4e844d(0x87)](_0x406b2b=>_0x210899[_0x406b2b])[_0x4e844d(0xa0)](_0x29f1dd=>!!Reflect[_0x4e844d(0x73)](constants_1[_0x4e844d(0xa1)],_0x29f1dd));}get[a24_0x182182(0x75)](){const _0x61e4ec=a24_0x182182;return Reflect['getOwnMetadata'](constants_1[_0x61e4ec(0x8f)],this[_0x61e4ec(0x97)])||[];}get[a24_0x182182(0x77)](){const _0x923733=a24_0x182182;var _0x3ce110;const _0x111021=(_0x3ce110=Reflect[_0x923733(0x73)](constants_1['META_CONTROLLER_PREFIX'],this[_0x923733(0x97)]))!==null&&_0x3ce110!==void 0x0?_0x3ce110:constants_1['CONTROLLER_DEFAULT_PREFIX'],_0x3bc6be=Reflect[_0x923733(0x73)](constants_1[_0x923733(0x80)],this[_0x923733(0x97)])||'';return this['nestedPath']?'':utils_1[_0x923733(0x82)](_0x111021,_0x3bc6be);}get[a24_0x182182(0x83)](){const _0xa9b506=a24_0x182182;if(this['nestedPath'])return this[_0xa9b506(0x7b)];const _0x2a8ac3=Reflect['getOwnMetadata'](constants_1[_0xa9b506(0x79)],this[_0xa9b506(0x97)])||'';return utils_1[_0xa9b506(0x82)](_0x2a8ac3);}get['instance'](){const _0x38166e=a24_0x182182;return typedi_1['default']['get'](this[_0x38166e(0x97)]);}async['injectMiddlewares'](){const _0xe7b235=a24_0x182182;for(const _0x4d9527 of this[_0xe7b235(0x75)]){const _0x4ae031=await middleware_injector_1[_0xe7b235(0x70)](_0x4d9527);this[_0xe7b235(0x6e)]['use'](_0x4ae031);}}async[a24_0x182182(0x68)](_0x1e2918){const _0x51c020=a24_0x182182,_0x25c278=_0x1e2918['nested'];logger[_0x51c020(0x7d)]('injecting\x20nested\x20'+_0x25c278[_0x51c020(0x78)]+_0x51c020(0x9e)+this[_0x51c020(0x83)]+_0x1e2918['path']);const _0x277d04=new ControllerInjector(_0x25c278,this);_0x277d04[_0x51c020(0x7b)]=_0x1e2918[_0x51c020(0x83)],await _0x277d04[_0x51c020(0x9f)](this[_0x51c020(0x6e)]);}async['injectHandlers'](){const _0x2f189c=a24_0x182182;var _0x351dd8;for(const _0x1b2c38 of this[_0x2f189c(0x8d)]){const _0x16e9c4=utils_1[_0x2f189c(0x74)](_0x1b2c38);if(_0x16e9c4[_0x2f189c(0x8a)])await this[_0x2f189c(0x68)](_0x16e9c4);else{const _0x14e767=_0x16e9c4[_0x2f189c(0x85)][_0x2f189c(0x8b)]()[_0x2f189c(0x69)]();logger[_0x2f189c(0x7d)]('injecting\x20'+this[_0x2f189c(0x97)][_0x2f189c(0x78)]+'#'+_0x1b2c38[_0x2f189c(0x78)]+_0x2f189c(0x86)+_0x16e9c4[_0x2f189c(0x85)]+']\x20'+utils_1['normalizePaths'](((_0x351dd8=this['root'])===null||_0x351dd8===void 0x0?void 0x0:_0x351dd8[_0x2f189c(0x83)])||'',this['path'],_0x16e9c4[_0x2f189c(0x83)])),this[_0x2f189c(0x6e)][_0x14e767](_0x16e9c4[_0x2f189c(0x83)],handler_wrapper_1['handlerWrapper'](_0x1b2c38,this['instance']));}}}async[a24_0x182182(0x9f)](_0x1546c4){const _0x417122=a24_0x182182;!this[_0x417122(0x7b)]&&logger[_0x417122(0x7d)](_0x417122(0x9d)+this[_0x417122(0x97)][_0x417122(0x78)]+'\x20{'+this[_0x417122(0x77)]+'}'),await this[_0x417122(0x7e)](),await this[_0x417122(0x7f)](),_0x1546c4[_0x417122(0x6c)](''+this[_0x417122(0x77)]+this['path'],this[_0x417122(0x6e)]);}}exports['ControllerInjector']=ControllerInjector;