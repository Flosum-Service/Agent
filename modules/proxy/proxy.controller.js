const a103_0x36b765=a103_0xc7d9;(function(_0x485220,_0x2e130d){const _0x43b90c=a103_0xc7d9,_0xcf61b5=_0x485220();while(!![]){try{const _0x5a9a00=-parseInt(_0x43b90c(0x1b8))/0x1+parseInt(_0x43b90c(0x1af))/0x2*(parseInt(_0x43b90c(0x1ae))/0x3)+-parseInt(_0x43b90c(0x1c7))/0x4+parseInt(_0x43b90c(0x19f))/0x5+parseInt(_0x43b90c(0x1a0))/0x6+-parseInt(_0x43b90c(0x19b))/0x7*(parseInt(_0x43b90c(0x1ac))/0x8)+parseInt(_0x43b90c(0x1bf))/0x9;if(_0x5a9a00===_0x2e130d)break;else _0xcf61b5['push'](_0xcf61b5['shift']());}catch(_0xa39c2e){_0xcf61b5['push'](_0xcf61b5['shift']());}}}(a103_0x12e6,0x29bf1));const a103_0x1b48c7=(function(){let _0xbd1797=!![];return function(_0xaec217,_0xbb3935){const _0x37dbcc=_0xbd1797?function(){const _0x14dda4=a103_0xc7d9;if(_0xbb3935){const _0x201c3a=_0xbb3935[_0x14dda4(0x1a7)](_0xaec217,arguments);return _0xbb3935=null,_0x201c3a;}}:function(){};return _0xbd1797=![],_0x37dbcc;};}()),a103_0x301298=a103_0x1b48c7(this,function(){const _0x2e7ab1=a103_0xc7d9;return a103_0x301298[_0x2e7ab1(0x1b1)]()[_0x2e7ab1(0x19d)](_0x2e7ab1(0x1aa))[_0x2e7ab1(0x1b1)]()['constructor'](a103_0x301298)['search'](_0x2e7ab1(0x1aa));});a103_0x301298();'use strict';var __decorate=this&&this[a103_0x36b765(0x1c9)]||function(_0x4ef2b5,_0x591686,_0x5e323c,_0x363b29){const _0x32795b=a103_0x36b765;var _0x4f271e=arguments['length'],_0x32ef58=_0x4f271e<0x3?_0x591686:_0x363b29===null?_0x363b29=Object[_0x32795b(0x1b5)](_0x591686,_0x5e323c):_0x363b29,_0x5acfe1;if(typeof Reflect===_0x32795b(0x1a9)&&typeof Reflect[_0x32795b(0x1c0)]===_0x32795b(0x1a8))_0x32ef58=Reflect[_0x32795b(0x1c0)](_0x4ef2b5,_0x591686,_0x5e323c,_0x363b29);else{for(var _0x15ba9e=_0x4ef2b5[_0x32795b(0x1d2)]-0x1;_0x15ba9e>=0x0;_0x15ba9e--)if(_0x5acfe1=_0x4ef2b5[_0x15ba9e])_0x32ef58=(_0x4f271e<0x3?_0x5acfe1(_0x32ef58):_0x4f271e>0x3?_0x5acfe1(_0x591686,_0x5e323c,_0x32ef58):_0x5acfe1(_0x591686,_0x5e323c))||_0x32ef58;}return _0x4f271e>0x3&&_0x32ef58&&Object['defineProperty'](_0x591686,_0x5e323c,_0x32ef58),_0x32ef58;},__metadata=this&&this[a103_0x36b765(0x1ab)]||function(_0x46bf35,_0x239acd){const _0x5df5a9=a103_0x36b765;if(typeof Reflect===_0x5df5a9(0x1a9)&&typeof Reflect[_0x5df5a9(0x199)]===_0x5df5a9(0x1a8))return Reflect[_0x5df5a9(0x199)](_0x46bf35,_0x239acd);},__param=this&&this[a103_0x36b765(0x1ce)]||function(_0x440a84,_0x351ac0){return function(_0x4649f8,_0x17560e){_0x351ac0(_0x4649f8,_0x17560e,_0x440a84);};},__importDefault=this&&this[a103_0x36b765(0x1b4)]||function(_0x43c2f1){const _0x2c7ac6=a103_0x36b765;return _0x43c2f1&&_0x43c2f1[_0x2c7ac6(0x1c2)]?_0x43c2f1:{'default':_0x43c2f1};};function a103_0x12e6(){const _0x4c6ff7=['157197iqYJvf','store','../../core/errors/bad-request.error','agent','prototype','get','design:paramtypes','559827zRxhCM','decorate','No\x20authority\x20passphrase!','__esModule','param','Error\x20occurred\x20while\x20loading\x20PROXY_AUTHORITY.\x20Make\x20sure\x20that\x20file\x20is\x20in\x20root\x20folder\x20and\x20PROXY_AUTHORITY_PASSPHRASE\x20env\x20is\x20filled\x20in!','pfxCertificate','ProxyController','1122516mtHEPo','ERR_NO_DESTINATION','__decorate','Agent','proxyAuthorityPassphrase','requestEnded','Version','__param','readFileSync','defineProperty','default','length','metadata','design:returntype','7CEfSDf','https','search','All','770620kPKqnr','1726374dklqGQ','response','enableProxyAuthority','appSettings','next','substring','../shared/utils','apply','function','object','(((.+)+)+)+$','__metadata','1621240oyZWoE','X-Destination','40098yyHiWs','46YryQRa','../shared/services/app-settings.service','toString','pfxPassphrase','indexOf','__importDefault','getOwnPropertyDescriptor','../../constants/errors','AppSettingsService'];a103_0x12e6=function(){return _0x4c6ff7;};return a103_0x12e6();}function a103_0xc7d9(_0x25813b,_0x194efe){const _0x3b43b6=a103_0x12e6();return a103_0xc7d9=function(_0x301298,_0x1b48c7){_0x301298=_0x301298-0x199;let _0x12e6f7=_0x3b43b6[_0x301298];return _0x12e6f7;},a103_0xc7d9(_0x25813b,_0x194efe);}Object[a103_0x36b765(0x1d0)](exports,a103_0x36b765(0x1c2),{'value':!![]}),exports[a103_0x36b765(0x1c6)]=void 0x0;const errors_1=require(a103_0x36b765(0x1b6)),core_1=require('../../core'),bad_request_error_1=require(a103_0x36b765(0x1ba)),utils_1=require(a103_0x36b765(0x1a6)),express_http_proxy_1=__importDefault(require('express-http-proxy')),fs_1=require('fs'),constants_1=require('../../constants'),app_settings_service_1=require(a103_0x36b765(0x1b0)),https_1=__importDefault(require(a103_0x36b765(0x19c)));let ProxyController=class ProxyController{constructor(_0x3f5312){const _0x4d5e4d=a103_0x36b765;this[_0x4d5e4d(0x1a3)]=_0x3f5312;if(_0x3f5312['store'][_0x4d5e4d(0x1a2)])try{this[_0x4d5e4d(0x1c5)]=fs_1[_0x4d5e4d(0x1cf)](constants_1['AUTHORITY_FILE_PATH']),this[_0x4d5e4d(0x1b2)]=_0x3f5312[_0x4d5e4d(0x1b9)][_0x4d5e4d(0x1cb)];if(!this[_0x4d5e4d(0x1b2)])throw Error(_0x4d5e4d(0x1c1));}catch(_0x59f7b7){throw new Error(_0x4d5e4d(0x1c4));}}['handler'](_0x46805d,_0x3a1c71,_0x4d6247){const _0x1358bf=a103_0x36b765,{originalUrl:_0x23498c,baseUrl:_0x45c66b}=_0x46805d,_0x4f19e8=_0x46805d[_0x1358bf(0x1bd)](_0x1358bf(0x1ad));if(!_0x4f19e8)throw new bad_request_error_1['BadRequestError'](errors_1[_0x1358bf(0x1c8)]);const _0x429f75={'proxyReqPathResolver':()=>utils_1['joinURL'](_0x4f19e8,_0x23498c[_0x1358bf(0x1a5)](_0x23498c[_0x1358bf(0x1b3)](_0x45c66b)+_0x45c66b[_0x1358bf(0x1d2)])),'proxyReqOptDecorator':_0x386957=>{const _0x3e799f=_0x1358bf;return this['pfxCertificate']&&(_0x386957[_0x3e799f(0x1bb)]=new https_1[(_0x3e799f(0x1d1))][(_0x3e799f(0x1ca))]({'pfx':this['pfxCertificate'],'passphrase':this[_0x3e799f(0x1b2)]})),_0x386957;}};_0x46805d['context'][_0x1358bf(0x1cc)]=!![],express_http_proxy_1[_0x1358bf(0x1d1)](_0x4f19e8,_0x429f75)(_0x46805d,_0x3a1c71,_0x4d6247);}};__decorate([core_1[a103_0x36b765(0x19e)]('*'),__param(0x0,core_1[a103_0x36b765(0x1c3)]['request']()),__param(0x1,core_1['param'][a103_0x36b765(0x1a1)]()),__param(0x2,core_1[a103_0x36b765(0x1c3)][a103_0x36b765(0x1a4)]()),__metadata('design:type',Function),__metadata(a103_0x36b765(0x1be),[Object,Object,Function]),__metadata(a103_0x36b765(0x19a),void 0x0)],ProxyController[a103_0x36b765(0x1bc)],'handler',null),ProxyController=__decorate([core_1['Controller'](),core_1[a103_0x36b765(0x1cd)]('v1'),core_1['Prefix']('proxy'),__metadata('design:paramtypes',[app_settings_service_1[a103_0x36b765(0x1b7)]])],ProxyController),exports[a103_0x36b765(0x1c6)]=ProxyController;