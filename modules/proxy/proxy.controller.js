const a257_0x47619d=a257_0x1098;function a257_0x1098(_0x3dba86,_0x556ed0){const _0xac27a0=a257_0x205c();return a257_0x1098=function(_0x152520,_0x21a706){_0x152520=_0x152520-0xbb;let _0x205cf5=_0xac27a0[_0x152520];return _0x205cf5;},a257_0x1098(_0x3dba86,_0x556ed0);}function a257_0x205c(){const _0x2a9f3e=['constructor','2957376SdxvCl','All','decorate','6517224aTkceb','Prefix','context','__decorate','(((.+)+)+)+$','response','__esModule','../../core','handler','function','74mnOoQe','default','../../constants/errors','indexOf','X-Destination','__importDefault','BadRequestError','defineProperty','../../core/errors/bad-request.error','20DClMZK','substring','metadata','get','joinURL','__metadata','3981537wwftSk','length','param','agent','14595zcOHRc','ProxyController','6879832MqLYiY','pfxCertificate','proxy','design:returntype','70AYukxg','toString','4165355ZQBWxC','Controller','pfxPassphrase','https','search','getOwnPropertyDescriptor','object','21478RBtYaF','design:type','next','prototype'];a257_0x205c=function(){return _0x2a9f3e;};return a257_0x205c();}(function(_0x1ac9b0,_0x1e3c11){const _0x466b90=a257_0x1098,_0x152e4a=_0x1ac9b0();while(!![]){try{const _0x2dc400=parseInt(_0x466b90(0xee))/0x1*(parseInt(_0x466b90(0xdc))/0x2)+-parseInt(_0x466b90(0xcd))/0x3*(parseInt(_0x466b90(0xc3))/0x4)+-parseInt(_0x466b90(0xd5))/0x5+-parseInt(_0x466b90(0xe1))/0x6+-parseInt(_0x466b90(0xe4))/0x7+-parseInt(_0x466b90(0xcf))/0x8+-parseInt(_0x466b90(0xc9))/0x9*(-parseInt(_0x466b90(0xd3))/0xa);if(_0x2dc400===_0x1e3c11)break;else _0x152e4a['push'](_0x152e4a['shift']());}catch(_0x3628dd){_0x152e4a['push'](_0x152e4a['shift']());}}}(a257_0x205c,0xb7236));const a257_0x21a706=(function(){let _0x51a20d=!![];return function(_0x13a1ae,_0x3b038f){const _0x19c8f8=_0x51a20d?function(){if(_0x3b038f){const _0x24ed29=_0x3b038f['apply'](_0x13a1ae,arguments);return _0x3b038f=null,_0x24ed29;}}:function(){};return _0x51a20d=![],_0x19c8f8;};}()),a257_0x152520=a257_0x21a706(this,function(){const _0x3a5a1d=a257_0x1098;return a257_0x152520[_0x3a5a1d(0xd4)]()[_0x3a5a1d(0xd9)]('(((.+)+)+)+$')[_0x3a5a1d(0xd4)]()[_0x3a5a1d(0xe0)](a257_0x152520)[_0x3a5a1d(0xd9)](_0x3a5a1d(0xe8));});a257_0x152520();'use strict';var __decorate=this&&this[a257_0x47619d(0xe7)]||function(_0x19ffd8,_0x1c7842,_0x26f2b1,_0x250d1d){const _0x69ef2d=a257_0x47619d;var _0x3ee3ee=arguments['length'],_0x4c4332=_0x3ee3ee<0x3?_0x1c7842:_0x250d1d===null?_0x250d1d=Object[_0x69ef2d(0xda)](_0x1c7842,_0x26f2b1):_0x250d1d,_0x1d838d;if(typeof Reflect===_0x69ef2d(0xdb)&&typeof Reflect[_0x69ef2d(0xe3)]===_0x69ef2d(0xed))_0x4c4332=Reflect['decorate'](_0x19ffd8,_0x1c7842,_0x26f2b1,_0x250d1d);else{for(var _0x298cd0=_0x19ffd8[_0x69ef2d(0xca)]-0x1;_0x298cd0>=0x0;_0x298cd0--)if(_0x1d838d=_0x19ffd8[_0x298cd0])_0x4c4332=(_0x3ee3ee<0x3?_0x1d838d(_0x4c4332):_0x3ee3ee>0x3?_0x1d838d(_0x1c7842,_0x26f2b1,_0x4c4332):_0x1d838d(_0x1c7842,_0x26f2b1))||_0x4c4332;}return _0x3ee3ee>0x3&&_0x4c4332&&Object['defineProperty'](_0x1c7842,_0x26f2b1,_0x4c4332),_0x4c4332;},__metadata=this&&this[a257_0x47619d(0xc8)]||function(_0x4bcd11,_0x3c63c0){const _0x1a1f09=a257_0x47619d;if(typeof Reflect===_0x1a1f09(0xdb)&&typeof Reflect[_0x1a1f09(0xc5)]===_0x1a1f09(0xed))return Reflect['metadata'](_0x4bcd11,_0x3c63c0);},__param=this&&this['__param']||function(_0x4db341,_0x1dfcc2){return function(_0x3573e2,_0x206bf7){_0x1dfcc2(_0x3573e2,_0x206bf7,_0x4db341);};},__importDefault=this&&this[a257_0x47619d(0xbf)]||function(_0x57d6f3){const _0x42f39f=a257_0x47619d;return _0x57d6f3&&_0x57d6f3[_0x42f39f(0xea)]?_0x57d6f3:{'default':_0x57d6f3};};Object[a257_0x47619d(0xc1)](exports,a257_0x47619d(0xea),{'value':!![]}),exports['ProxyController']=void 0x0;const errors_1=require(a257_0x47619d(0xbc)),core_1=require(a257_0x47619d(0xeb)),bad_request_error_1=require(a257_0x47619d(0xc2)),utils_1=require('../shared/utils'),express_http_proxy_1=__importDefault(require('express-http-proxy')),https_1=__importDefault(require(a257_0x47619d(0xd8)));let ProxyController=class ProxyController{[a257_0x47619d(0xec)](_0x468783,_0xaaea84,_0x7b745f){const _0x1c8f8b=a257_0x47619d,{originalUrl:_0x414f20,baseUrl:_0x52bdfc}=_0x468783,_0x41aa65=_0x468783[_0x1c8f8b(0xc6)](_0x1c8f8b(0xbe));if(!_0x41aa65)throw new bad_request_error_1[(_0x1c8f8b(0xc0))](errors_1['ERR_NO_DESTINATION']);const _0xd68d92={'proxyReqPathResolver':()=>(0x0,utils_1[_0x1c8f8b(0xc7)])(_0x41aa65,_0x414f20[_0x1c8f8b(0xc4)](_0x414f20[_0x1c8f8b(0xbd)](_0x52bdfc)+_0x52bdfc[_0x1c8f8b(0xca)])),'proxyReqOptDecorator':_0x5385d6=>{const _0x487393=_0x1c8f8b;return this['pfxCertificate']&&(_0x5385d6[_0x487393(0xcc)]=new https_1[(_0x487393(0xbb))]['Agent']({'pfx':this[_0x487393(0xd0)],'passphrase':this[_0x487393(0xd7)]})),_0x5385d6;}};_0x468783[_0x1c8f8b(0xe6)]['requestEnded']=!![],(0x0,express_http_proxy_1[_0x1c8f8b(0xbb)])(_0x41aa65,_0xd68d92)(_0x468783,_0xaaea84,_0x7b745f);}};__decorate([(0x0,core_1[a257_0x47619d(0xe2)])('*'),__param(0x0,core_1['param']['request']()),__param(0x1,core_1['param'][a257_0x47619d(0xe9)]()),__param(0x2,core_1[a257_0x47619d(0xcb)][a257_0x47619d(0xde)]()),__metadata(a257_0x47619d(0xdd),Function),__metadata('design:paramtypes',[Object,Object,Function]),__metadata(a257_0x47619d(0xd2),void 0x0)],ProxyController[a257_0x47619d(0xdf)],a257_0x47619d(0xec),null),ProxyController=__decorate([(0x0,core_1[a257_0x47619d(0xd6)])(),(0x0,core_1['Version'])('v1'),(0x0,core_1[a257_0x47619d(0xe5)])(a257_0x47619d(0xd1))],ProxyController),exports[a257_0x47619d(0xce)]=ProxyController;