const a103_0xe1936f=a103_0x425a;(function(_0x1b5dc3,_0x37ba29){const _0x4947e9=a103_0x425a,_0xc5b464=_0x1b5dc3();while(!![]){try{const _0x866dfc=-parseInt(_0x4947e9(0x18c))/0x1+-parseInt(_0x4947e9(0x176))/0x2*(parseInt(_0x4947e9(0x173))/0x3)+parseInt(_0x4947e9(0x17b))/0x4*(-parseInt(_0x4947e9(0x19f))/0x5)+parseInt(_0x4947e9(0x186))/0x6+-parseInt(_0x4947e9(0x1a7))/0x7+-parseInt(_0x4947e9(0x1a4))/0x8*(parseInt(_0x4947e9(0x175))/0x9)+parseInt(_0x4947e9(0x183))/0xa*(parseInt(_0x4947e9(0x17e))/0xb);if(_0x866dfc===_0x37ba29)break;else _0xc5b464['push'](_0xc5b464['shift']());}catch(_0x1b10cd){_0xc5b464['push'](_0xc5b464['shift']());}}}(a103_0x5245,0x321af));const a103_0x23c21b=(function(){let _0x4039cd=!![];return function(_0x215da2,_0x1ffde1){const _0x49c481=_0x4039cd?function(){const _0x5aff70=a103_0x425a;if(_0x1ffde1){const _0xfa89a7=_0x1ffde1[_0x5aff70(0x17d)](_0x215da2,arguments);return _0x1ffde1=null,_0xfa89a7;}}:function(){};return _0x4039cd=![],_0x49c481;};}()),a103_0x5f4616=a103_0x23c21b(this,function(){const _0x3aa4d8=a103_0x425a;return a103_0x5f4616[_0x3aa4d8(0x181)]()[_0x3aa4d8(0x18a)](_0x3aa4d8(0x188))[_0x3aa4d8(0x181)]()[_0x3aa4d8(0x198)](a103_0x5f4616)[_0x3aa4d8(0x18a)](_0x3aa4d8(0x188));});a103_0x5f4616();'use strict';var __decorate=this&&this[a103_0xe1936f(0x171)]||function(_0x2f1710,_0x3977c5,_0x40e136,_0x506dc4){const _0x512f86=a103_0xe1936f;var _0x944780=arguments[_0x512f86(0x182)],_0x24133d=_0x944780<0x3?_0x3977c5:_0x506dc4===null?_0x506dc4=Object[_0x512f86(0x170)](_0x3977c5,_0x40e136):_0x506dc4,_0x24b612;if(typeof Reflect==='object'&&typeof Reflect[_0x512f86(0x179)]===_0x512f86(0x19d))_0x24133d=Reflect[_0x512f86(0x179)](_0x2f1710,_0x3977c5,_0x40e136,_0x506dc4);else{for(var _0xbd068a=_0x2f1710[_0x512f86(0x182)]-0x1;_0xbd068a>=0x0;_0xbd068a--)if(_0x24b612=_0x2f1710[_0xbd068a])_0x24133d=(_0x944780<0x3?_0x24b612(_0x24133d):_0x944780>0x3?_0x24b612(_0x3977c5,_0x40e136,_0x24133d):_0x24b612(_0x3977c5,_0x40e136))||_0x24133d;}return _0x944780>0x3&&_0x24133d&&Object[_0x512f86(0x17f)](_0x3977c5,_0x40e136,_0x24133d),_0x24133d;},__metadata=this&&this[a103_0xe1936f(0x178)]||function(_0x7e92a,_0x8da481){const _0x52ba4a=a103_0xe1936f;if(typeof Reflect==='object'&&typeof Reflect[_0x52ba4a(0x185)]===_0x52ba4a(0x19d))return Reflect[_0x52ba4a(0x185)](_0x7e92a,_0x8da481);},__param=this&&this[a103_0xe1936f(0x19e)]||function(_0x29f327,_0x334273){return function(_0x413e7d,_0x4085a1){_0x334273(_0x413e7d,_0x4085a1,_0x29f327);};},__importDefault=this&&this[a103_0xe1936f(0x172)]||function(_0x672f2d){const _0x1559e7=a103_0xe1936f;return _0x672f2d&&_0x672f2d[_0x1559e7(0x17a)]?_0x672f2d:{'default':_0x672f2d};};function a103_0x425a(_0x4d04ea,_0x2d5809){const _0x71ca=a103_0x5245();return a103_0x425a=function(_0x5f4616,_0x23c21b){_0x5f4616=_0x5f4616-0x16c;let _0x5245e7=_0x71ca[_0x5f4616];return _0x5245e7;},a103_0x425a(_0x4d04ea,_0x2d5809);}Object[a103_0xe1936f(0x17f)](exports,a103_0xe1936f(0x17a),{'value':!![]}),exports['ProxyController']=void 0x0;const errors_1=require(a103_0xe1936f(0x180)),core_1=require('../../core'),bad_request_error_1=require('../../core/errors/bad-request.error'),utils_1=require(a103_0xe1936f(0x1a2)),express_http_proxy_1=__importDefault(require(a103_0xe1936f(0x191))),fs_1=require('fs'),constants_1=require(a103_0xe1936f(0x187)),app_settings_service_1=require('../shared/services/app-settings.service'),https_1=__importDefault(require('https'));let ProxyController=class ProxyController{constructor(_0x49ab93){const _0x5663f6=a103_0xe1936f;this[_0x5663f6(0x17c)]=_0x49ab93;if(_0x49ab93[_0x5663f6(0x16f)][_0x5663f6(0x195)])try{this[_0x5663f6(0x1a0)]=fs_1[_0x5663f6(0x19b)](constants_1[_0x5663f6(0x196)]),this[_0x5663f6(0x16e)]=_0x49ab93[_0x5663f6(0x16f)]['proxyAuthorityPassphrase'];if(!this[_0x5663f6(0x16e)])throw Error(_0x5663f6(0x1a9));}catch(_0x3840af){throw new Error('Error\x20occurred\x20while\x20loading\x20PROXY_AUTHORITY.\x20Make\x20sure\x20that\x20file\x20is\x20in\x20root\x20folder\x20and\x20PROXY_AUTHORITY_PASSPHRASE\x20env\x20is\x20filled\x20in!');}}[a103_0xe1936f(0x18d)](_0x2f7b06,_0x230f82,_0x550e8a){const _0x213dd1=a103_0xe1936f,{originalUrl:_0x1ec082,baseUrl:_0x236e27}=_0x2f7b06,_0x5e11f4=_0x2f7b06['get'](_0x213dd1(0x1a5));if(!_0x5e11f4)throw new bad_request_error_1[(_0x213dd1(0x1a6))](errors_1[_0x213dd1(0x16d)]);const _0x50a7e6={'proxyReqPathResolver':()=>utils_1['joinURL'](_0x5e11f4,_0x1ec082[_0x213dd1(0x190)](_0x1ec082['indexOf'](_0x236e27)+_0x236e27[_0x213dd1(0x182)])),'proxyReqOptDecorator':_0x2db6d4=>{const _0x4bf49d=_0x213dd1;return this[_0x4bf49d(0x1a0)]&&(_0x2db6d4[_0x4bf49d(0x177)]=new https_1[(_0x4bf49d(0x197))][(_0x4bf49d(0x19a))]({'pfx':this[_0x4bf49d(0x1a0)],'passphrase':this[_0x4bf49d(0x16e)]})),_0x2db6d4;}};_0x2f7b06['context'][_0x213dd1(0x18f)]=!![],express_http_proxy_1[_0x213dd1(0x197)](_0x5e11f4,_0x50a7e6)(_0x2f7b06,_0x230f82,_0x550e8a);}};__decorate([core_1[a103_0xe1936f(0x199)]('*'),__param(0x0,core_1[a103_0xe1936f(0x1a8)][a103_0xe1936f(0x18e)]()),__param(0x1,core_1[a103_0xe1936f(0x1a8)][a103_0xe1936f(0x193)]()),__param(0x2,core_1['param'][a103_0xe1936f(0x19c)]()),__metadata(a103_0xe1936f(0x1a1),Function),__metadata(a103_0xe1936f(0x16c),[Object,Object,Function]),__metadata(a103_0xe1936f(0x189),void 0x0)],ProxyController[a103_0xe1936f(0x194)],a103_0xe1936f(0x18d),null),ProxyController=__decorate([core_1[a103_0xe1936f(0x18b)](),core_1[a103_0xe1936f(0x192)]('v1'),core_1['Prefix'](a103_0xe1936f(0x174)),__metadata(a103_0xe1936f(0x16c),[app_settings_service_1[a103_0xe1936f(0x184)]])],ProxyController),exports[a103_0xe1936f(0x1a3)]=ProxyController;function a103_0x5245(){const _0x21c59e=['3BOLvEp','proxy','9ddTeBO','426244nCTYUu','agent','__metadata','decorate','__esModule','708aOFjxm','appSettings','apply','6831IszAlU','defineProperty','../../constants/errors','toString','length','18730jxPeUY','AppSettingsService','metadata','296994nFhvJh','../../constants','(((.+)+)+)+$','design:returntype','search','Controller','138623TDIxcU','handler','request','requestEnded','substring','express-http-proxy','Version','response','prototype','enableProxyAuthority','AUTHORITY_FILE_PATH','default','constructor','All','Agent','readFileSync','next','function','__param','4365KjqIpb','pfxCertificate','design:type','../shared/utils','ProxyController','1216424qNuThX','X-Destination','BadRequestError','2443574OjmrMd','param','No\x20authority\x20passphrase!','design:paramtypes','ERR_NO_DESTINATION','pfxPassphrase','store','getOwnPropertyDescriptor','__decorate','__importDefault'];a103_0x5245=function(){return _0x21c59e;};return a103_0x5245();}