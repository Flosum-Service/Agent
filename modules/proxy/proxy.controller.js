const a258_0x47ec00=a258_0x443d;(function(_0x3a0caf,_0x171fb5){const _0xe0d887=a258_0x443d,_0x3ead61=_0x3a0caf();while(!![]){try{const _0x5adba1=parseInt(_0xe0d887(0x130))/0x1+parseInt(_0xe0d887(0x111))/0x2*(-parseInt(_0xe0d887(0x11a))/0x3)+parseInt(_0xe0d887(0x120))/0x4+parseInt(_0xe0d887(0x11b))/0x5*(parseInt(_0xe0d887(0x13a))/0x6)+parseInt(_0xe0d887(0x114))/0x7+parseInt(_0xe0d887(0x134))/0x8*(-parseInt(_0xe0d887(0x131))/0x9)+parseInt(_0xe0d887(0x122))/0xa*(parseInt(_0xe0d887(0x13e))/0xb);if(_0x5adba1===_0x171fb5)break;else _0x3ead61['push'](_0x3ead61['shift']());}catch(_0x6eaf99){_0x3ead61['push'](_0x3ead61['shift']());}}}(a258_0x4ffe,0x626ab));const a258_0xe8d72e=(function(){let _0x4bd963=!![];return function(_0x5c7e5b,_0x5bfd79){const _0x2669c1=_0x4bd963?function(){const _0x2a093c=a258_0x443d;if(_0x5bfd79){const _0x2313b0=_0x5bfd79[_0x2a093c(0x119)](_0x5c7e5b,arguments);return _0x5bfd79=null,_0x2313b0;}}:function(){};return _0x4bd963=![],_0x2669c1;};}()),a258_0x3f1f29=a258_0xe8d72e(this,function(){const _0x124151=a258_0x443d;return a258_0x3f1f29[_0x124151(0x13c)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a258_0x3f1f29)['search']('(((.+)+)+)+$');});a258_0x3f1f29();'use strict';var __decorate=this&&this[a258_0x47ec00(0x123)]||function(_0x468694,_0x45b4e9,_0x28bf4c,_0x43078b){const _0x4c36eb=a258_0x47ec00;var _0x41756f=arguments[_0x4c36eb(0x112)],_0x35a041=_0x41756f<0x3?_0x45b4e9:_0x43078b===null?_0x43078b=Object[_0x4c36eb(0x10f)](_0x45b4e9,_0x28bf4c):_0x43078b,_0x530eec;if(typeof Reflect==='object'&&typeof Reflect[_0x4c36eb(0x128)]===_0x4c36eb(0x125))_0x35a041=Reflect[_0x4c36eb(0x128)](_0x468694,_0x45b4e9,_0x28bf4c,_0x43078b);else{for(var _0x257ac0=_0x468694[_0x4c36eb(0x112)]-0x1;_0x257ac0>=0x0;_0x257ac0--)if(_0x530eec=_0x468694[_0x257ac0])_0x35a041=(_0x41756f<0x3?_0x530eec(_0x35a041):_0x41756f>0x3?_0x530eec(_0x45b4e9,_0x28bf4c,_0x35a041):_0x530eec(_0x45b4e9,_0x28bf4c))||_0x35a041;}return _0x41756f>0x3&&_0x35a041&&Object['defineProperty'](_0x45b4e9,_0x28bf4c,_0x35a041),_0x35a041;},__metadata=this&&this[a258_0x47ec00(0x133)]||function(_0x34b5e6,_0x19d16b){const _0x3d630d=a258_0x47ec00;if(typeof Reflect===_0x3d630d(0x117)&&typeof Reflect[_0x3d630d(0x12a)]==='function')return Reflect[_0x3d630d(0x12a)](_0x34b5e6,_0x19d16b);},__param=this&&this[a258_0x47ec00(0x113)]||function(_0x274393,_0xc8c032){return function(_0x431ca0,_0x43fc96){_0xc8c032(_0x431ca0,_0x43fc96,_0x274393);};},__importDefault=this&&this[a258_0x47ec00(0x12c)]||function(_0x26fc2f){const _0xc90615=a258_0x47ec00;return _0x26fc2f&&_0x26fc2f[_0xc90615(0x121)]?_0x26fc2f:{'default':_0x26fc2f};};function a258_0x443d(_0x13fbed,_0x363646){const _0x5b0226=a258_0x4ffe();return a258_0x443d=function(_0x3f1f29,_0xe8d72e){_0x3f1f29=_0x3f1f29-0x10f;let _0x4ffe5f=_0x5b0226[_0x3f1f29];return _0x4ffe5f;},a258_0x443d(_0x13fbed,_0x363646);}Object['defineProperty'](exports,a258_0x47ec00(0x121),{'value':!![]}),exports['ProxyController']=void 0x0;function a258_0x4ffe(){const _0x1b268f=['Prefix','toString','ProxyController','7073hzFhYX','getOwnPropertyDescriptor','BadRequestError','767300ZyOSHB','length','__param','614523JmqPYh','context','../../core','object','design:type','apply','3zyIlUi','1258795nJbRAi','express-http-proxy','prototype','Agent','response','367016AEsneN','__esModule','1130kuKHaL','__decorate','get','function','../../constants/errors','request','decorate','Version','metadata','handler','__importDefault','default','substring','indexOf','378393aCxeWQ','286767KEirTP','pfxCertificate','__metadata','24KWvhOe','Controller','https','pfxPassphrase','../../core/errors/bad-request.error','../shared/utils','6zGXYtw'];a258_0x4ffe=function(){return _0x1b268f;};return a258_0x4ffe();}const errors_1=require(a258_0x47ec00(0x126)),core_1=require(a258_0x47ec00(0x116)),bad_request_error_1=require(a258_0x47ec00(0x138)),utils_1=require(a258_0x47ec00(0x139)),express_http_proxy_1=__importDefault(require(a258_0x47ec00(0x11c))),https_1=__importDefault(require(a258_0x47ec00(0x136)));let ProxyController=class ProxyController{[a258_0x47ec00(0x12b)](_0x19091e,_0x11d6b8,_0x1cddfc){const _0x7002c6=a258_0x47ec00,{originalUrl:_0x4808ce,baseUrl:_0x1ccb55}=_0x19091e,_0x2d9c07=_0x19091e[_0x7002c6(0x124)]('X-Destination');if(!_0x2d9c07)throw new bad_request_error_1[(_0x7002c6(0x110))](errors_1['ERR_NO_DESTINATION']);const _0x2c1ab2={'proxyReqPathResolver':()=>(0x0,utils_1['joinURL'])(_0x2d9c07,_0x4808ce[_0x7002c6(0x12e)](_0x4808ce[_0x7002c6(0x12f)](_0x1ccb55)+_0x1ccb55[_0x7002c6(0x112)])),'proxyReqOptDecorator':_0x1c1a6c=>{const _0x4ca334=_0x7002c6;return this[_0x4ca334(0x132)]&&(_0x1c1a6c['agent']=new https_1['default'][(_0x4ca334(0x11e))]({'pfx':this[_0x4ca334(0x132)],'passphrase':this[_0x4ca334(0x137)]})),_0x1c1a6c;}};_0x19091e[_0x7002c6(0x115)]['requestEnded']=!![],(0x0,express_http_proxy_1[_0x7002c6(0x12d)])(_0x2d9c07,_0x2c1ab2)(_0x19091e,_0x11d6b8,_0x1cddfc);}};__decorate([(0x0,core_1['All'])('*'),__param(0x0,core_1['param'][a258_0x47ec00(0x127)]()),__param(0x1,core_1['param'][a258_0x47ec00(0x11f)]()),__param(0x2,core_1['param']['next']()),__metadata(a258_0x47ec00(0x118),Function),__metadata('design:paramtypes',[Object,Object,Function]),__metadata('design:returntype',void 0x0)],ProxyController[a258_0x47ec00(0x11d)],a258_0x47ec00(0x12b),null),ProxyController=__decorate([(0x0,core_1[a258_0x47ec00(0x135)])(),(0x0,core_1[a258_0x47ec00(0x129)])('v1'),(0x0,core_1[a258_0x47ec00(0x13b)])('proxy')],ProxyController),exports[a258_0x47ec00(0x13d)]=ProxyController;