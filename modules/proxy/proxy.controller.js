const a103_0x309202=a103_0x1882;function a103_0x1882(_0x31862c,_0x53bce9){const _0x28d812=a103_0x3dab();return a103_0x1882=function(_0x145d5f,_0x299e80){_0x145d5f=_0x145d5f-0xa6;let _0x3dabf4=_0x28d812[_0x145d5f];return _0x3dabf4;},a103_0x1882(_0x31862c,_0x53bce9);}(function(_0x1fbf21,_0x2b1d00){const _0x3a2e02=a103_0x1882,_0x5310af=_0x1fbf21();while(!![]){try{const _0x3f162c=parseInt(_0x3a2e02(0xb2))/0x1+parseInt(_0x3a2e02(0xcc))/0x2+parseInt(_0x3a2e02(0xaa))/0x3*(parseInt(_0x3a2e02(0xe2))/0x4)+-parseInt(_0x3a2e02(0xd6))/0x5+-parseInt(_0x3a2e02(0xbc))/0x6+parseInt(_0x3a2e02(0xad))/0x7+parseInt(_0x3a2e02(0xd2))/0x8*(parseInt(_0x3a2e02(0xb6))/0x9);if(_0x3f162c===_0x2b1d00)break;else _0x5310af['push'](_0x5310af['shift']());}catch(_0x1bc68b){_0x5310af['push'](_0x5310af['shift']());}}}(a103_0x3dab,0x69c86));const a103_0x299e80=(function(){let _0x44a958=!![];return function(_0x11a7b0,_0x4e6f43){const _0x48664b=_0x44a958?function(){if(_0x4e6f43){const _0x23440e=_0x4e6f43['apply'](_0x11a7b0,arguments);return _0x4e6f43=null,_0x23440e;}}:function(){};return _0x44a958=![],_0x48664b;};}()),a103_0x145d5f=a103_0x299e80(this,function(){const _0x3e3ac3=a103_0x1882;return a103_0x145d5f[_0x3e3ac3(0xc6)]()[_0x3e3ac3(0xe1)](_0x3e3ac3(0xd1))[_0x3e3ac3(0xc6)]()[_0x3e3ac3(0xe3)](a103_0x145d5f)['search'](_0x3e3ac3(0xd1));});a103_0x145d5f();'use strict';var __decorate=this&&this[a103_0x309202(0xb9)]||function(_0x1ee71f,_0x3eb5b4,_0x50f5c5,_0x3b6828){const _0xb0a6c0=a103_0x309202;var _0xc642b6=arguments[_0xb0a6c0(0xbb)],_0x47a903=_0xc642b6<0x3?_0x3eb5b4:_0x3b6828===null?_0x3b6828=Object[_0xb0a6c0(0xc7)](_0x3eb5b4,_0x50f5c5):_0x3b6828,_0x28bcb4;if(typeof Reflect===_0xb0a6c0(0xcb)&&typeof Reflect[_0xb0a6c0(0xab)]===_0xb0a6c0(0xb8))_0x47a903=Reflect[_0xb0a6c0(0xab)](_0x1ee71f,_0x3eb5b4,_0x50f5c5,_0x3b6828);else{for(var _0x2c413e=_0x1ee71f['length']-0x1;_0x2c413e>=0x0;_0x2c413e--)if(_0x28bcb4=_0x1ee71f[_0x2c413e])_0x47a903=(_0xc642b6<0x3?_0x28bcb4(_0x47a903):_0xc642b6>0x3?_0x28bcb4(_0x3eb5b4,_0x50f5c5,_0x47a903):_0x28bcb4(_0x3eb5b4,_0x50f5c5))||_0x47a903;}return _0xc642b6>0x3&&_0x47a903&&Object[_0xb0a6c0(0xaf)](_0x3eb5b4,_0x50f5c5,_0x47a903),_0x47a903;},__metadata=this&&this['__metadata']||function(_0x31a968,_0x310e95){const _0x3b67fc=a103_0x309202;if(typeof Reflect===_0x3b67fc(0xcb)&&typeof Reflect[_0x3b67fc(0xc3)]===_0x3b67fc(0xb8))return Reflect['metadata'](_0x31a968,_0x310e95);},__param=this&&this[a103_0x309202(0xb4)]||function(_0x6d852a,_0x114949){return function(_0xc9186,_0x38dd2b){_0x114949(_0xc9186,_0x38dd2b,_0x6d852a);};},__importDefault=this&&this[a103_0x309202(0xdc)]||function(_0x23d61e){return _0x23d61e&&_0x23d61e['__esModule']?_0x23d61e:{'default':_0x23d61e};};function a103_0x3dab(){const _0x13ee8b=['readFileSync','https','(((.+)+)+)+$','73872erpktB','BadRequestError','express-http-proxy','Controller','4176100LrgdbU','default','request','appSettings','../../constants/errors','next','__importDefault','Version','param','Error\x20occurred\x20while\x20loading\x20PROXY_AUTHORITY.\x20Make\x20sure\x20that\x20file\x20is\x20in\x20root\x20folder\x20and\x20PROXY_AUTHORITY_PASSPHRASE\x20env\x20is\x20filled\x20in!','prototype','search','236iRjTao','constructor','design:type','ProxyController','proxy','requestEnded','12909mdhznn','decorate','design:returntype','1090432YxOvRj','Prefix','defineProperty','response','joinURL','504556tYAsam','context','__param','AppSettingsService','117fBKnVV','pfxPassphrase','function','__decorate','../../core/errors/bad-request.error','length','466614qbvOoE','substring','ERR_NO_DESTINATION','handler','../../core','__esModule','indexOf','metadata','../shared/utils','Agent','toString','getOwnPropertyDescriptor','get','X-Destination','store','object','624048WFcawl','All','pfxCertificate'];a103_0x3dab=function(){return _0x13ee8b;};return a103_0x3dab();}Object[a103_0x309202(0xaf)](exports,a103_0x309202(0xc1),{'value':!![]}),exports[a103_0x309202(0xa7)]=void 0x0;const errors_1=require(a103_0x309202(0xda)),core_1=require(a103_0x309202(0xc0)),bad_request_error_1=require(a103_0x309202(0xba)),utils_1=require(a103_0x309202(0xc4)),express_http_proxy_1=__importDefault(require(a103_0x309202(0xd4))),fs_1=require('fs'),constants_1=require('../../constants'),app_settings_service_1=require('../shared/services/app-settings.service'),https_1=__importDefault(require(a103_0x309202(0xd0)));let ProxyController=class ProxyController{constructor(_0x4c2ff8){const _0x520167=a103_0x309202;this[_0x520167(0xd9)]=_0x4c2ff8;if(_0x4c2ff8[_0x520167(0xca)]['enableProxyAuthority'])try{this[_0x520167(0xce)]=fs_1[_0x520167(0xcf)](constants_1['AUTHORITY_FILE_PATH']),this[_0x520167(0xb7)]=_0x4c2ff8[_0x520167(0xca)]['proxyAuthorityPassphrase'];if(!this[_0x520167(0xb7)])throw Error('No\x20authority\x20passphrase!');}catch(_0xbe590e){throw new Error(_0x520167(0xdf));}}[a103_0x309202(0xbf)](_0x2a8c4a,_0x1b78b6,_0x36f25f){const _0x38dc73=a103_0x309202,{originalUrl:_0x178325,baseUrl:_0x2af43d}=_0x2a8c4a,_0x423118=_0x2a8c4a[_0x38dc73(0xc8)](_0x38dc73(0xc9));if(!_0x423118)throw new bad_request_error_1[(_0x38dc73(0xd3))](errors_1[_0x38dc73(0xbe)]);const _0x5bd497={'proxyReqPathResolver':()=>utils_1[_0x38dc73(0xb1)](_0x423118,_0x178325[_0x38dc73(0xbd)](_0x178325[_0x38dc73(0xc2)](_0x2af43d)+_0x2af43d[_0x38dc73(0xbb)])),'proxyReqOptDecorator':_0x5e0a4c=>{const _0x4f7705=_0x38dc73;return this[_0x4f7705(0xce)]&&(_0x5e0a4c['agent']=new https_1[(_0x4f7705(0xd7))][(_0x4f7705(0xc5))]({'pfx':this[_0x4f7705(0xce)],'passphrase':this['pfxPassphrase']})),_0x5e0a4c;}};_0x2a8c4a[_0x38dc73(0xb3)][_0x38dc73(0xa9)]=!![],express_http_proxy_1[_0x38dc73(0xd7)](_0x423118,_0x5bd497)(_0x2a8c4a,_0x1b78b6,_0x36f25f);}};__decorate([core_1[a103_0x309202(0xcd)]('*'),__param(0x0,core_1['param'][a103_0x309202(0xd8)]()),__param(0x1,core_1[a103_0x309202(0xde)][a103_0x309202(0xb0)]()),__param(0x2,core_1['param'][a103_0x309202(0xdb)]()),__metadata(a103_0x309202(0xa6),Function),__metadata('design:paramtypes',[Object,Object,Function]),__metadata(a103_0x309202(0xac),void 0x0)],ProxyController[a103_0x309202(0xe0)],a103_0x309202(0xbf),null),ProxyController=__decorate([core_1[a103_0x309202(0xd5)](),core_1[a103_0x309202(0xdd)]('v1'),core_1[a103_0x309202(0xae)](a103_0x309202(0xa8)),__metadata('design:paramtypes',[app_settings_service_1[a103_0x309202(0xb5)]])],ProxyController),exports[a103_0x309202(0xa7)]=ProxyController;