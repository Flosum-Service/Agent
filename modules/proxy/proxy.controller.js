function a307_0x20f3(){const _0x2b2250=['pfxCertificate','requestEnded','21382VNOunm','https','__esModule','273uxMvgz','length','decorate','161901VrfPVh','toString','context','6tXrCCM','indexOf','Version','2740535NkPune','constructor','param','1091083VTNsqQ','default','proxy','20owZaIL','getOwnPropertyDescriptor','defineProperty','function','get','../../core/errors/bad-request.error','handler','13292532ePkoQd','Agent','Prefix','__param','__decorate','request','design:type','BadRequestError','search','response','design:paramtypes','metadata','joinURL','../../constants/errors','ProxyController','agent','All','pfxPassphrase','425028rWkAqA','ERR_NO_DESTINATION','6294888EuPqdJ','__importDefault','../shared/utils','Controller','4mOLwdv','(((.+)+)+)+$','prototype'];a307_0x20f3=function(){return _0x2b2250;};return a307_0x20f3();}const a307_0x88270d=a307_0x52aa;(function(_0x5776ab,_0x29ca27){const _0x41a75d=a307_0x52aa,_0x54c253=_0x5776ab();while(!![]){try{const _0x2349bd=parseInt(_0x41a75d(0x1c3))/0x1+parseInt(_0x41a75d(0x1ce))/0x2*(-parseInt(_0x41a75d(0x1d1))/0x3)+parseInt(_0x41a75d(0x1c9))/0x4*(parseInt(_0x41a75d(0x1da))/0x5)+parseInt(_0x41a75d(0x1d7))/0x6*(parseInt(_0x41a75d(0x1dd))/0x7)+-parseInt(_0x41a75d(0x1c5))/0x8+-parseInt(_0x41a75d(0x1d4))/0x9*(parseInt(_0x41a75d(0x1e0))/0xa)+parseInt(_0x41a75d(0x1e7))/0xb;if(_0x2349bd===_0x29ca27)break;else _0x54c253['push'](_0x54c253['shift']());}catch(_0xc956fd){_0x54c253['push'](_0x54c253['shift']());}}}(a307_0x20f3,0x84400));const a307_0x4cbcb6=(function(){let _0xc110ac=!![];return function(_0x5cc34a,_0x416252){const _0x5d7f2b=_0xc110ac?function(){if(_0x416252){const _0x14e4db=_0x416252['apply'](_0x5cc34a,arguments);return _0x416252=null,_0x14e4db;}}:function(){};return _0xc110ac=![],_0x5d7f2b;};}()),a307_0x44ce39=a307_0x4cbcb6(this,function(){const _0xb6dc58=a307_0x52aa;return a307_0x44ce39[_0xb6dc58(0x1d5)]()[_0xb6dc58(0x1b9)](_0xb6dc58(0x1ca))[_0xb6dc58(0x1d5)]()[_0xb6dc58(0x1db)](a307_0x44ce39)[_0xb6dc58(0x1b9)]('(((.+)+)+)+$');});a307_0x44ce39();'use strict';var __decorate=this&&this[a307_0x88270d(0x1eb)]||function(_0x3d20b9,_0x3c737b,_0x28a2e3,_0x5d6b02){const _0x17a01e=a307_0x88270d;var _0x57728c=arguments[_0x17a01e(0x1d2)],_0x33b6b8=_0x57728c<0x3?_0x3c737b:_0x5d6b02===null?_0x5d6b02=Object[_0x17a01e(0x1e1)](_0x3c737b,_0x28a2e3):_0x5d6b02,_0x4378f7;if(typeof Reflect==='object'&&typeof Reflect[_0x17a01e(0x1d3)]===_0x17a01e(0x1e3))_0x33b6b8=Reflect[_0x17a01e(0x1d3)](_0x3d20b9,_0x3c737b,_0x28a2e3,_0x5d6b02);else{for(var _0xe7b83c=_0x3d20b9['length']-0x1;_0xe7b83c>=0x0;_0xe7b83c--)if(_0x4378f7=_0x3d20b9[_0xe7b83c])_0x33b6b8=(_0x57728c<0x3?_0x4378f7(_0x33b6b8):_0x57728c>0x3?_0x4378f7(_0x3c737b,_0x28a2e3,_0x33b6b8):_0x4378f7(_0x3c737b,_0x28a2e3))||_0x33b6b8;}return _0x57728c>0x3&&_0x33b6b8&&Object[_0x17a01e(0x1e2)](_0x3c737b,_0x28a2e3,_0x33b6b8),_0x33b6b8;},__metadata=this&&this['__metadata']||function(_0x235cba,_0x23bfcb){const _0xb4e489=a307_0x88270d;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0xb4e489(0x1bc)](_0x235cba,_0x23bfcb);},__param=this&&this[a307_0x88270d(0x1ea)]||function(_0x219461,_0x1266c3){return function(_0x2081ac,_0x456815){_0x1266c3(_0x2081ac,_0x456815,_0x219461);};},__importDefault=this&&this[a307_0x88270d(0x1c6)]||function(_0x2c5921){return _0x2c5921&&_0x2c5921['__esModule']?_0x2c5921:{'default':_0x2c5921};};function a307_0x52aa(_0x59dc33,_0x3d569a){const _0x9e3470=a307_0x20f3();return a307_0x52aa=function(_0x44ce39,_0x4cbcb6){_0x44ce39=_0x44ce39-0x1b6;let _0x20f319=_0x9e3470[_0x44ce39];return _0x20f319;},a307_0x52aa(_0x59dc33,_0x3d569a);}Object['defineProperty'](exports,a307_0x88270d(0x1d0),{'value':!![]}),exports['ProxyController']=void 0x0;const errors_1=require(a307_0x88270d(0x1be)),core_1=require('../../core'),bad_request_error_1=require(a307_0x88270d(0x1e5)),utils_1=require(a307_0x88270d(0x1c7)),express_http_proxy_1=__importDefault(require('express-http-proxy')),https_1=__importDefault(require(a307_0x88270d(0x1cf)));let ProxyController=class ProxyController{[a307_0x88270d(0x1e6)](_0x59c943,_0x6a8f94,_0x54e33b){const _0x7483a5=a307_0x88270d,{originalUrl:_0x3f8c84,baseUrl:_0x1f81eb}=_0x59c943,_0x28c346=_0x59c943[_0x7483a5(0x1e4)]('X-Destination');if(!_0x28c346)throw new bad_request_error_1[(_0x7483a5(0x1b8))](errors_1[_0x7483a5(0x1c4)]);const _0x3cfc00={'proxyReqPathResolver':()=>(0x0,utils_1[_0x7483a5(0x1bd)])(_0x28c346,_0x3f8c84['substring'](_0x3f8c84[_0x7483a5(0x1d8)](_0x1f81eb)+_0x1f81eb[_0x7483a5(0x1d2)])),'proxyReqOptDecorator':_0x420cac=>{const _0x3d6c47=_0x7483a5;return this[_0x3d6c47(0x1cc)]&&(_0x420cac[_0x3d6c47(0x1c0)]=new https_1['default'][(_0x3d6c47(0x1e8))]({'pfx':this[_0x3d6c47(0x1cc)],'passphrase':this[_0x3d6c47(0x1c2)]})),_0x420cac;}};_0x59c943[_0x7483a5(0x1d6)][_0x7483a5(0x1cd)]=!![],(0x0,express_http_proxy_1[_0x7483a5(0x1de)])(_0x28c346,_0x3cfc00)(_0x59c943,_0x6a8f94,_0x54e33b);}};__decorate([(0x0,core_1[a307_0x88270d(0x1c1)])('*'),__param(0x0,core_1[a307_0x88270d(0x1dc)][a307_0x88270d(0x1b6)]()),__param(0x1,core_1['param'][a307_0x88270d(0x1ba)]()),__param(0x2,core_1[a307_0x88270d(0x1dc)]['next']()),__metadata(a307_0x88270d(0x1b7),Function),__metadata(a307_0x88270d(0x1bb),[Object,Object,Function]),__metadata('design:returntype',void 0x0)],ProxyController[a307_0x88270d(0x1cb)],a307_0x88270d(0x1e6),null),ProxyController=__decorate([(0x0,core_1[a307_0x88270d(0x1c8)])(),(0x0,core_1[a307_0x88270d(0x1d9)])('v1'),(0x0,core_1[a307_0x88270d(0x1e9)])(a307_0x88270d(0x1df))],ProxyController),exports[a307_0x88270d(0x1bf)]=ProxyController;