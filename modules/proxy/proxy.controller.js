const a263_0x4404c0=a263_0x5949;function a263_0xc1a9(){const _0x221ed0=['__decorate','design:paramtypes','express-http-proxy','metadata','3NbbpsJ','requestEnded','2222880nnfPNN','request','Controller','ERR_NO_DESTINATION','1719730wKlWon','pfxCertificate','99043HUTsUV','__param','toString','../../core/errors/bad-request.error','../../core','190035NiiZza','context','search','function','constructor','All','16dgeypo','param','design:returntype','3407530jNxdKh','prototype','substring','297132neqkgh','length','decorate','defineProperty','BadRequestError','176aSvBox','__metadata','pfxPassphrase','../shared/utils','Prefix','5261931NRmFrm','get','ProxyController','indexOf','__esModule','default','https','next','Agent','(((.+)+)+)+$','response','agent','getOwnPropertyDescriptor','__importDefault','object','apply'];a263_0xc1a9=function(){return _0x221ed0;};return a263_0xc1a9();}(function(_0x3c7c30,_0x646676){const _0x45ae0c=a263_0x5949,_0x33d353=_0x3c7c30();while(!![]){try{const _0x534ed0=parseInt(_0x45ae0c(0x12a))/0x1+parseInt(_0x45ae0c(0x14e))/0x2*(-parseInt(_0x45ae0c(0x148))/0x3)+-parseInt(_0x45ae0c(0x15b))/0x4*(-parseInt(_0x45ae0c(0x155))/0x5)+-parseInt(_0x45ae0c(0x14a))/0x6+-parseInt(_0x45ae0c(0x150))/0x7*(-parseInt(_0x45ae0c(0x12f))/0x8)+parseInt(_0x45ae0c(0x134))/0x9+parseInt(_0x45ae0c(0x15e))/0xa;if(_0x534ed0===_0x646676)break;else _0x33d353['push'](_0x33d353['shift']());}catch(_0xa47c35){_0x33d353['push'](_0x33d353['shift']());}}}(a263_0xc1a9,0x6f351));const a263_0x1dd324=(function(){let _0x5464d7=!![];return function(_0x1c7d4b,_0x141870){const _0x43bd95=_0x5464d7?function(){const _0xc6f976=a263_0x5949;if(_0x141870){const _0x1e1faf=_0x141870[_0xc6f976(0x143)](_0x1c7d4b,arguments);return _0x141870=null,_0x1e1faf;}}:function(){};return _0x5464d7=![],_0x43bd95;};}()),a263_0x53abd0=a263_0x1dd324(this,function(){const _0x46c155=a263_0x5949;return a263_0x53abd0['toString']()[_0x46c155(0x157)](_0x46c155(0x13d))[_0x46c155(0x152)]()[_0x46c155(0x159)](a263_0x53abd0)[_0x46c155(0x157)](_0x46c155(0x13d));});a263_0x53abd0();'use strict';var __decorate=this&&this[a263_0x4404c0(0x144)]||function(_0x5477bb,_0x1680de,_0x4944d8,_0x171d6c){const _0x53ea5d=a263_0x4404c0;var _0x467afe=arguments[_0x53ea5d(0x12b)],_0x1de78c=_0x467afe<0x3?_0x1680de:_0x171d6c===null?_0x171d6c=Object[_0x53ea5d(0x140)](_0x1680de,_0x4944d8):_0x171d6c,_0x26e82b;if(typeof Reflect==='object'&&typeof Reflect[_0x53ea5d(0x12c)]===_0x53ea5d(0x158))_0x1de78c=Reflect[_0x53ea5d(0x12c)](_0x5477bb,_0x1680de,_0x4944d8,_0x171d6c);else{for(var _0x33e7a6=_0x5477bb[_0x53ea5d(0x12b)]-0x1;_0x33e7a6>=0x0;_0x33e7a6--)if(_0x26e82b=_0x5477bb[_0x33e7a6])_0x1de78c=(_0x467afe<0x3?_0x26e82b(_0x1de78c):_0x467afe>0x3?_0x26e82b(_0x1680de,_0x4944d8,_0x1de78c):_0x26e82b(_0x1680de,_0x4944d8))||_0x1de78c;}return _0x467afe>0x3&&_0x1de78c&&Object[_0x53ea5d(0x12d)](_0x1680de,_0x4944d8,_0x1de78c),_0x1de78c;},__metadata=this&&this[a263_0x4404c0(0x130)]||function(_0x6f0c4e,_0x323a3c){const _0x4c60a4=a263_0x4404c0;if(typeof Reflect===_0x4c60a4(0x142)&&typeof Reflect[_0x4c60a4(0x147)]===_0x4c60a4(0x158))return Reflect[_0x4c60a4(0x147)](_0x6f0c4e,_0x323a3c);},__param=this&&this[a263_0x4404c0(0x151)]||function(_0x85d4f9,_0x1cea96){return function(_0x4112f4,_0x47b3c8){_0x1cea96(_0x4112f4,_0x47b3c8,_0x85d4f9);};},__importDefault=this&&this[a263_0x4404c0(0x141)]||function(_0x3080d4){const _0x224283=a263_0x4404c0;return _0x3080d4&&_0x3080d4[_0x224283(0x138)]?_0x3080d4:{'default':_0x3080d4};};Object[a263_0x4404c0(0x12d)](exports,a263_0x4404c0(0x138),{'value':!![]}),exports[a263_0x4404c0(0x136)]=void 0x0;function a263_0x5949(_0x2f9cd9,_0x56cbcd){const _0x440268=a263_0xc1a9();return a263_0x5949=function(_0x53abd0,_0x1dd324){_0x53abd0=_0x53abd0-0x12a;let _0xc1a949=_0x440268[_0x53abd0];return _0xc1a949;},a263_0x5949(_0x2f9cd9,_0x56cbcd);}const errors_1=require('../../constants/errors'),core_1=require(a263_0x4404c0(0x154)),bad_request_error_1=require(a263_0x4404c0(0x153)),utils_1=require(a263_0x4404c0(0x132)),express_http_proxy_1=__importDefault(require(a263_0x4404c0(0x146))),https_1=__importDefault(require(a263_0x4404c0(0x13a)));let ProxyController=class ProxyController{['handler'](_0x5a7f49,_0x2f776b,_0x242580){const _0x66d039=a263_0x4404c0,{originalUrl:_0x4d4a24,baseUrl:_0x471948}=_0x5a7f49,_0x4ea108=_0x5a7f49[_0x66d039(0x135)]('X-Destination');if(!_0x4ea108)throw new bad_request_error_1[(_0x66d039(0x12e))](errors_1[_0x66d039(0x14d)]);const _0x2c2219={'proxyReqPathResolver':()=>(0x0,utils_1['joinURL'])(_0x4ea108,_0x4d4a24[_0x66d039(0x160)](_0x4d4a24[_0x66d039(0x137)](_0x471948)+_0x471948[_0x66d039(0x12b)])),'proxyReqOptDecorator':_0x5ec17d=>{const _0x3e7ec2=_0x66d039;return this[_0x3e7ec2(0x14f)]&&(_0x5ec17d[_0x3e7ec2(0x13f)]=new https_1['default'][(_0x3e7ec2(0x13c))]({'pfx':this[_0x3e7ec2(0x14f)],'passphrase':this[_0x3e7ec2(0x131)]})),_0x5ec17d;}};_0x5a7f49[_0x66d039(0x156)][_0x66d039(0x149)]=!![],(0x0,express_http_proxy_1[_0x66d039(0x139)])(_0x4ea108,_0x2c2219)(_0x5a7f49,_0x2f776b,_0x242580);}};__decorate([(0x0,core_1[a263_0x4404c0(0x15a)])('*'),__param(0x0,core_1['param'][a263_0x4404c0(0x14b)]()),__param(0x1,core_1[a263_0x4404c0(0x15c)][a263_0x4404c0(0x13e)]()),__param(0x2,core_1[a263_0x4404c0(0x15c)][a263_0x4404c0(0x13b)]()),__metadata('design:type',Function),__metadata(a263_0x4404c0(0x145),[Object,Object,Function]),__metadata(a263_0x4404c0(0x15d),void 0x0)],ProxyController[a263_0x4404c0(0x15f)],'handler',null),ProxyController=__decorate([(0x0,core_1[a263_0x4404c0(0x14c)])(),(0x0,core_1['Version'])('v1'),(0x0,core_1[a263_0x4404c0(0x133)])('proxy')],ProxyController),exports[a263_0x4404c0(0x136)]=ProxyController;