const a207_0x2aee0=a207_0x3565;(function(_0x4d38af,_0x220a11){const _0x2e6746=a207_0x3565,_0x22f3bb=_0x4d38af();while(!![]){try{const _0x559e47=parseInt(_0x2e6746(0x164))/0x1*(parseInt(_0x2e6746(0x163))/0x2)+parseInt(_0x2e6746(0x14d))/0x3+parseInt(_0x2e6746(0x148))/0x4*(-parseInt(_0x2e6746(0x158))/0x5)+parseInt(_0x2e6746(0x144))/0x6*(-parseInt(_0x2e6746(0x169))/0x7)+parseInt(_0x2e6746(0x15d))/0x8*(-parseInt(_0x2e6746(0x13e))/0x9)+parseInt(_0x2e6746(0x145))/0xa*(-parseInt(_0x2e6746(0x15b))/0xb)+parseInt(_0x2e6746(0x16c))/0xc;if(_0x559e47===_0x220a11)break;else _0x22f3bb['push'](_0x22f3bb['shift']());}catch(_0xb10df3){_0x22f3bb['push'](_0x22f3bb['shift']());}}}(a207_0x4b1a,0x19fd0));const a207_0x942479=(function(){let _0x3c7b7a=!![];return function(_0x5bdd9d,_0x3666ff){const _0x4e44d7=_0x3c7b7a?function(){const _0x991ce0=a207_0x3565;if(_0x3666ff){const _0x4a00ac=_0x3666ff[_0x991ce0(0x159)](_0x5bdd9d,arguments);return _0x3666ff=null,_0x4a00ac;}}:function(){};return _0x3c7b7a=![],_0x4e44d7;};}()),a207_0x38a741=a207_0x942479(this,function(){const _0x4ba78b=a207_0x3565;return a207_0x38a741['toString']()[_0x4ba78b(0x13f)](_0x4ba78b(0x166))[_0x4ba78b(0x14e)]()['constructor'](a207_0x38a741)[_0x4ba78b(0x13f)](_0x4ba78b(0x166));});a207_0x38a741();'use strict';var __decorate=this&&this['__decorate']||function(_0x5ef80d,_0x658ece,_0x388479,_0x1f45d2){const _0x2b9639=a207_0x3565;var _0x1f6164=arguments['length'],_0x3ef1b8=_0x1f6164<0x3?_0x658ece:_0x1f45d2===null?_0x1f45d2=Object['getOwnPropertyDescriptor'](_0x658ece,_0x388479):_0x1f45d2,_0xbd3bfa;if(typeof Reflect===_0x2b9639(0x160)&&typeof Reflect[_0x2b9639(0x157)]===_0x2b9639(0x167))_0x3ef1b8=Reflect[_0x2b9639(0x157)](_0x5ef80d,_0x658ece,_0x388479,_0x1f45d2);else{for(var _0x41ff05=_0x5ef80d[_0x2b9639(0x15c)]-0x1;_0x41ff05>=0x0;_0x41ff05--)if(_0xbd3bfa=_0x5ef80d[_0x41ff05])_0x3ef1b8=(_0x1f6164<0x3?_0xbd3bfa(_0x3ef1b8):_0x1f6164>0x3?_0xbd3bfa(_0x658ece,_0x388479,_0x3ef1b8):_0xbd3bfa(_0x658ece,_0x388479))||_0x3ef1b8;}return _0x1f6164>0x3&&_0x3ef1b8&&Object[_0x2b9639(0x149)](_0x658ece,_0x388479,_0x3ef1b8),_0x3ef1b8;},__metadata=this&&this['__metadata']||function(_0x18227d,_0x11ec26){const _0x347616=a207_0x3565;if(typeof Reflect===_0x347616(0x160)&&typeof Reflect[_0x347616(0x13c)]===_0x347616(0x167))return Reflect[_0x347616(0x13c)](_0x18227d,_0x11ec26);},__param=this&&this['__param']||function(_0x3ea99c,_0x1ad1da){return function(_0x69f1e,_0xe044ee){_0x1ad1da(_0x69f1e,_0xe044ee,_0x3ea99c);};},__importDefault=this&&this['__importDefault']||function(_0x1b975b){const _0x369238=a207_0x3565;return _0x1b975b&&_0x1b975b[_0x369238(0x143)]?_0x1b975b:{'default':_0x1b975b};};function a207_0x3565(_0x2fcf65,_0x4d341c){const _0x4ee175=a207_0x4b1a();return a207_0x3565=function(_0x38a741,_0x942479){_0x38a741=_0x38a741-0x13c;let _0x4b1a9a=_0x4ee175[_0x38a741];return _0x4b1a9a;},a207_0x3565(_0x2fcf65,_0x4d341c);}Object[a207_0x2aee0(0x149)](exports,a207_0x2aee0(0x143),{'value':!![]}),exports[a207_0x2aee0(0x161)]=void 0x0;function a207_0x4b1a(){const _0x58f4e9=['length','40smNhzo','request','express-http-proxy','object','ProxyController','response','1922gsMKZI','161ZlyQWF','requestEnded','(((.+)+)+)+$','function','indexOf','154xHgena','next','ERR_NO_DESTINATION','1692840NHSuPp','metadata','design:returntype','43110TJxWlA','search','Agent','default','All','__esModule','39318ApQIxN','20YeKdgw','prototype','agent','96nXSyza','defineProperty','../shared/utils','../../core/errors/bad-request.error','substring','124917ylseBY','toString','BadRequestError','handler','pfxCertificate','design:type','X-Destination','param','Version','https','decorate','3100BdHnnJ','apply','context','263923yPjgNt'];a207_0x4b1a=function(){return _0x58f4e9;};return a207_0x4b1a();}const errors_1=require('../../constants/errors'),core_1=require('../../core'),bad_request_error_1=require(a207_0x2aee0(0x14b)),utils_1=require(a207_0x2aee0(0x14a)),express_http_proxy_1=__importDefault(require(a207_0x2aee0(0x15f))),https_1=__importDefault(require(a207_0x2aee0(0x156)));let ProxyController=class ProxyController{[a207_0x2aee0(0x150)](_0x230918,_0x2c750c,_0x1f6b11){const _0x3b2fd7=a207_0x2aee0,{originalUrl:_0x5985f8,baseUrl:_0x4cbc67}=_0x230918,_0x25fbce=_0x230918['get'](_0x3b2fd7(0x153));if(!_0x25fbce)throw new bad_request_error_1[(_0x3b2fd7(0x14f))](errors_1[_0x3b2fd7(0x16b)]);const _0x45d940={'proxyReqPathResolver':()=>utils_1['joinURL'](_0x25fbce,_0x5985f8[_0x3b2fd7(0x14c)](_0x5985f8[_0x3b2fd7(0x168)](_0x4cbc67)+_0x4cbc67[_0x3b2fd7(0x15c)])),'proxyReqOptDecorator':_0x4caf5f=>{const _0x3ea0e5=_0x3b2fd7;return this[_0x3ea0e5(0x151)]&&(_0x4caf5f[_0x3ea0e5(0x147)]=new https_1['default'][(_0x3ea0e5(0x140))]({'pfx':this[_0x3ea0e5(0x151)],'passphrase':this['pfxPassphrase']})),_0x4caf5f;}};_0x230918[_0x3b2fd7(0x15a)][_0x3b2fd7(0x165)]=!![],express_http_proxy_1[_0x3b2fd7(0x141)](_0x25fbce,_0x45d940)(_0x230918,_0x2c750c,_0x1f6b11);}};__decorate([core_1[a207_0x2aee0(0x142)]('*'),__param(0x0,core_1[a207_0x2aee0(0x154)][a207_0x2aee0(0x15e)]()),__param(0x1,core_1[a207_0x2aee0(0x154)][a207_0x2aee0(0x162)]()),__param(0x2,core_1[a207_0x2aee0(0x154)][a207_0x2aee0(0x16a)]()),__metadata(a207_0x2aee0(0x152),Function),__metadata('design:paramtypes',[Object,Object,Function]),__metadata(a207_0x2aee0(0x13d),void 0x0)],ProxyController[a207_0x2aee0(0x146)],a207_0x2aee0(0x150),null),ProxyController=__decorate([core_1['Controller'](),core_1[a207_0x2aee0(0x155)]('v1'),core_1['Prefix']('proxy')],ProxyController),exports['ProxyController']=ProxyController;