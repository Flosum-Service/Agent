function a263_0x161c(){const _0x337d86=['toString','requestEnded','agent','456465VuKAOj','__decorate','Version','substring','getOwnPropertyDescriptor','__importDefault','../../core','2703696SoFmpp','object','__metadata','apply','2167025NvNuol','ProxyController','proxy','metadata','__param','pfxCertificate','default','Prefix','pfxPassphrase','__esModule','response','672704DfhZkV','../shared/utils','2839976TZPpRO','defineProperty','X-Destination','23mDUiPO','search','ERR_NO_DESTINATION','handler','../../constants/errors','design:paramtypes','function','param','126990SJEEoB','https','request','BadRequestError','constructor','decorate','length','48898jIOZuG','Controller'];a263_0x161c=function(){return _0x337d86;};return a263_0x161c();}const a263_0xe69a6d=a263_0x5dc1;(function(_0x4003e9,_0x357015){const _0x3727de=a263_0x5dc1,_0x3d5715=_0x4003e9();while(!![]){try{const _0x23af99=-parseInt(_0x3727de(0x14c))/0x1*(-parseInt(_0x3727de(0x12c))/0x2)+parseInt(_0x3727de(0x154))/0x3+parseInt(_0x3727de(0x147))/0x4+parseInt(_0x3727de(0x131))/0x5+-parseInt(_0x3727de(0x138))/0x6+parseInt(_0x3727de(0x13c))/0x7+-parseInt(_0x3727de(0x149))/0x8;if(_0x23af99===_0x357015)break;else _0x3d5715['push'](_0x3d5715['shift']());}catch(_0x5896a1){_0x3d5715['push'](_0x3d5715['shift']());}}}(a263_0x161c,0x59dd8));const a263_0x58191b=(function(){let _0x23b8e1=!![];return function(_0x39771f,_0x17a4ea){const _0x23ef11=_0x23b8e1?function(){const _0x16a443=a263_0x5dc1;if(_0x17a4ea){const _0x20ebcf=_0x17a4ea[_0x16a443(0x13b)](_0x39771f,arguments);return _0x17a4ea=null,_0x20ebcf;}}:function(){};return _0x23b8e1=![],_0x23ef11;};}()),a263_0x4cb964=a263_0x58191b(this,function(){const _0x474505=a263_0x5dc1;return a263_0x4cb964[_0x474505(0x12e)]()['search']('(((.+)+)+)+$')[_0x474505(0x12e)]()[_0x474505(0x129)](a263_0x4cb964)[_0x474505(0x14d)]('(((.+)+)+)+$');});a263_0x4cb964();'use strict';function a263_0x5dc1(_0x5ce465,_0xd62d20){const _0x45c489=a263_0x161c();return a263_0x5dc1=function(_0x4cb964,_0x58191b){_0x4cb964=_0x4cb964-0x127;let _0x161cfa=_0x45c489[_0x4cb964];return _0x161cfa;},a263_0x5dc1(_0x5ce465,_0xd62d20);}var __decorate=this&&this[a263_0xe69a6d(0x132)]||function(_0x48613e,_0x284bc9,_0x3ec9e1,_0x395842){const _0x2da437=a263_0xe69a6d;var _0x220fd7=arguments[_0x2da437(0x12b)],_0x24e4ed=_0x220fd7<0x3?_0x284bc9:_0x395842===null?_0x395842=Object[_0x2da437(0x135)](_0x284bc9,_0x3ec9e1):_0x395842,_0x3885d0;if(typeof Reflect===_0x2da437(0x139)&&typeof Reflect['decorate']==='function')_0x24e4ed=Reflect[_0x2da437(0x12a)](_0x48613e,_0x284bc9,_0x3ec9e1,_0x395842);else{for(var _0x1b6a54=_0x48613e[_0x2da437(0x12b)]-0x1;_0x1b6a54>=0x0;_0x1b6a54--)if(_0x3885d0=_0x48613e[_0x1b6a54])_0x24e4ed=(_0x220fd7<0x3?_0x3885d0(_0x24e4ed):_0x220fd7>0x3?_0x3885d0(_0x284bc9,_0x3ec9e1,_0x24e4ed):_0x3885d0(_0x284bc9,_0x3ec9e1))||_0x24e4ed;}return _0x220fd7>0x3&&_0x24e4ed&&Object[_0x2da437(0x14a)](_0x284bc9,_0x3ec9e1,_0x24e4ed),_0x24e4ed;},__metadata=this&&this[a263_0xe69a6d(0x13a)]||function(_0x8f911f,_0x31dae7){const _0x9d06be=a263_0xe69a6d;if(typeof Reflect===_0x9d06be(0x139)&&typeof Reflect[_0x9d06be(0x13f)]===_0x9d06be(0x152))return Reflect[_0x9d06be(0x13f)](_0x8f911f,_0x31dae7);},__param=this&&this[a263_0xe69a6d(0x140)]||function(_0x2b3239,_0x4a01c4){return function(_0x1f183d,_0x1aecfd){_0x4a01c4(_0x1f183d,_0x1aecfd,_0x2b3239);};},__importDefault=this&&this[a263_0xe69a6d(0x136)]||function(_0x3863bd){const _0x3137c9=a263_0xe69a6d;return _0x3863bd&&_0x3863bd[_0x3137c9(0x145)]?_0x3863bd:{'default':_0x3863bd};};Object[a263_0xe69a6d(0x14a)](exports,'__esModule',{'value':!![]}),exports[a263_0xe69a6d(0x13d)]=void 0x0;const errors_1=require(a263_0xe69a6d(0x150)),core_1=require(a263_0xe69a6d(0x137)),bad_request_error_1=require('../../core/errors/bad-request.error'),utils_1=require(a263_0xe69a6d(0x148)),express_http_proxy_1=__importDefault(require('express-http-proxy')),https_1=__importDefault(require(a263_0xe69a6d(0x155)));let ProxyController=class ProxyController{[a263_0xe69a6d(0x14f)](_0x338f86,_0x41eeab,_0x28b52a){const _0x37e68a=a263_0xe69a6d,{originalUrl:_0x100536,baseUrl:_0x4d76a}=_0x338f86,_0x447d9c=_0x338f86['get'](_0x37e68a(0x14b));if(!_0x447d9c)throw new bad_request_error_1[(_0x37e68a(0x128))](errors_1[_0x37e68a(0x14e)]);const _0x1c18fd={'proxyReqPathResolver':()=>(0x0,utils_1['joinURL'])(_0x447d9c,_0x100536[_0x37e68a(0x134)](_0x100536['indexOf'](_0x4d76a)+_0x4d76a[_0x37e68a(0x12b)])),'proxyReqOptDecorator':_0x166bfe=>{const _0x2ac145=_0x37e68a;return this[_0x2ac145(0x141)]&&(_0x166bfe[_0x2ac145(0x130)]=new https_1[(_0x2ac145(0x142))]['Agent']({'pfx':this[_0x2ac145(0x141)],'passphrase':this[_0x2ac145(0x144)]})),_0x166bfe;}};_0x338f86['context'][_0x37e68a(0x12f)]=!![],(0x0,express_http_proxy_1[_0x37e68a(0x142)])(_0x447d9c,_0x1c18fd)(_0x338f86,_0x41eeab,_0x28b52a);}};__decorate([(0x0,core_1['All'])('*'),__param(0x0,core_1['param'][a263_0xe69a6d(0x127)]()),__param(0x1,core_1[a263_0xe69a6d(0x153)][a263_0xe69a6d(0x146)]()),__param(0x2,core_1['param']['next']()),__metadata('design:type',Function),__metadata(a263_0xe69a6d(0x151),[Object,Object,Function]),__metadata('design:returntype',void 0x0)],ProxyController['prototype'],a263_0xe69a6d(0x14f),null),ProxyController=__decorate([(0x0,core_1[a263_0xe69a6d(0x12d)])(),(0x0,core_1[a263_0xe69a6d(0x133)])('v1'),(0x0,core_1[a263_0xe69a6d(0x143)])(a263_0xe69a6d(0x13e))],ProxyController),exports[a263_0xe69a6d(0x13d)]=ProxyController;