function a264_0x54d9(_0x2ea38c,_0x266385){const _0x17dfc7=a264_0x3366();return a264_0x54d9=function(_0x3ace2c,_0x18a208){_0x3ace2c=_0x3ace2c-0x69;let _0x3366cb=_0x17dfc7[_0x3ace2c];return _0x3366cb;},a264_0x54d9(_0x2ea38c,_0x266385);}const a264_0x3caa04=a264_0x54d9;function a264_0x3366(){const _0x53c990=['../../data-masking/services/masking.service','515gIZGAB','35wCIHyH','toString','fs/promises','120IeDjmU','25494RHdvdN','isExpiredDate','maskingFolderPath','filterExpiredJobs','deleteJob','@flosum/utils','defineProperty','path','85302ScmmwX','isExistsPath','MaskingService','push','constructor','FsUtils','__importDefault','logger','default','1127727iAVbgJ','getTime','5590064wHJISC','EXPIRED_RANGE_DATE','DataMaskingRetentionPolicy','Logger','completedDate','getJobsIds','search','3095772RaHAqy','../../shared/utils/job.utils','../../../core','209GeFuBQ','readFile','getJobCompletedDate','4376178DDkGNf','join','(((.+)+)+)+$','name','execute','18218EkcRbc','parse','2168DYFQdn','../../../constants/job','__esModule'];a264_0x3366=function(){return _0x53c990;};return a264_0x3366();}(function(_0x5790b3,_0x43451c){const _0x2bb858=a264_0x54d9,_0x533443=_0x5790b3();while(!![]){try{const _0xf9b180=-parseInt(_0x2bb858(0x8f))/0x1*(parseInt(_0x2bb858(0x88))/0x2)+-parseInt(_0x2bb858(0x83))/0x3+-parseInt(_0x2bb858(0x76))/0x4+parseInt(_0x2bb858(0x8e))/0x5*(-parseInt(_0x2bb858(0x6b))/0x6)+parseInt(_0x2bb858(0x93))/0x7*(-parseInt(_0x2bb858(0x8a))/0x8)+parseInt(_0x2bb858(0x74))/0x9*(parseInt(_0x2bb858(0x92))/0xa)+parseInt(_0x2bb858(0x80))/0xb*(parseInt(_0x2bb858(0x7d))/0xc);if(_0xf9b180===_0x43451c)break;else _0x533443['push'](_0x533443['shift']());}catch(_0x52595e){_0x533443['push'](_0x533443['shift']());}}}(a264_0x3366,0xbe285));const a264_0x18a208=(function(){let _0x6f193e=!![];return function(_0x1228ea,_0x3d2968){const _0x53a8ef=_0x6f193e?function(){if(_0x3d2968){const _0x48fd71=_0x3d2968['apply'](_0x1228ea,arguments);return _0x3d2968=null,_0x48fd71;}}:function(){};return _0x6f193e=![],_0x53a8ef;};}()),a264_0x3ace2c=a264_0x18a208(this,function(){const _0xa9e249=a264_0x54d9;return a264_0x3ace2c[_0xa9e249(0x90)]()[_0xa9e249(0x7c)](_0xa9e249(0x85))[_0xa9e249(0x90)]()[_0xa9e249(0x6f)](a264_0x3ace2c)[_0xa9e249(0x7c)](_0xa9e249(0x85));});a264_0x3ace2c();'use strict';var __importDefault=this&&this[a264_0x3caa04(0x71)]||function(_0x50c349){return _0x50c349&&_0x50c349['__esModule']?_0x50c349:{'default':_0x50c349};};Object[a264_0x3caa04(0x69)](exports,a264_0x3caa04(0x8c),{'value':!![]}),exports[a264_0x3caa04(0x78)]=void 0x0;const promises_1=require(a264_0x3caa04(0x91)),core_1=require(a264_0x3caa04(0x7f)),utils_1=require(a264_0x3caa04(0x98)),job_1=require(a264_0x3caa04(0x8b)),job_utils_1=__importDefault(require(a264_0x3caa04(0x7e))),masking_service_1=require(a264_0x3caa04(0x8d)),path_1=__importDefault(require(a264_0x3caa04(0x6a)));class DataMaskingRetentionPolicy{constructor(){const _0x860d31=a264_0x3caa04;this[_0x860d31(0x77)]=0x9a7ec800,this[_0x860d31(0x72)]=new core_1[(_0x860d31(0x79))](DataMaskingRetentionPolicy[_0x860d31(0x86)]);}async[a264_0x3caa04(0x87)](){const _0x1fae71=a264_0x3caa04;try{const _0x5cdf4f=await job_utils_1[_0x1fae71(0x73)][_0x1fae71(0x7b)](masking_service_1['MaskingService'][_0x1fae71(0x95)]),_0x1f9377=await this[_0x1fae71(0x96)](_0x5cdf4f);for(const _0x2bfd5d of _0x1f9377){await this[_0x1fae71(0x97)](_0x2bfd5d);}}catch(_0xaaedfc){this[_0x1fae71(0x72)]['error'](_0xaaedfc);}}async['filterExpiredJobs'](_0x24a0ef){const _0x1033cd=a264_0x3caa04,_0x1d8efc=[];for(const _0x1bdaae of _0x24a0ef){const _0x52ac4d=await this[_0x1033cd(0x82)](_0x1bdaae),_0x57fbce=_0x52ac4d&&this[_0x1033cd(0x94)](_0x52ac4d);_0x57fbce&&_0x1d8efc[_0x1033cd(0x6e)](_0x1bdaae);}return _0x1d8efc;}async[a264_0x3caa04(0x82)](_0xeb2644){const _0x545e32=a264_0x3caa04;var _0x14efe8;const _0x34f347=path_1['default'][_0x545e32(0x84)](masking_service_1[_0x545e32(0x6d)]['maskingFolderPath'],_0xeb2644,job_1['JOB_LOG_STATE_FILENAME']);if(!await utils_1[_0x545e32(0x70)][_0x545e32(0x6c)](_0x34f347))return null;const _0x43a22b=await(0x0,promises_1[_0x545e32(0x81)])(_0x34f347,{'encoding':'utf-8'});return(_0x14efe8=JSON[_0x545e32(0x89)](_0x43a22b)[_0x545e32(0x7a)])!==null&&_0x14efe8!==void 0x0?_0x14efe8:null;}[a264_0x3caa04(0x94)](_0x3acc1){const _0x10a2f2=a264_0x3caa04;return new Date()[_0x10a2f2(0x75)]()-_0x3acc1>this[_0x10a2f2(0x77)];}[a264_0x3caa04(0x97)](_0x1a7d26){const _0x2a2113=a264_0x3caa04,_0x548662=path_1[_0x2a2113(0x73)]['join'](masking_service_1[_0x2a2113(0x6d)]['maskingFolderPath'],_0x1a7d26);return(0x0,promises_1['rm'])(_0x548662,{'recursive':!![],'force':!![]});}}exports['DataMaskingRetentionPolicy']=DataMaskingRetentionPolicy;