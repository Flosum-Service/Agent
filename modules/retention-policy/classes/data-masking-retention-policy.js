const a259_0x320897=a259_0x515b;(function(_0x57e25c,_0x3fd452){const _0x1fa1d8=a259_0x515b,_0xcb12be=_0x57e25c();while(!![]){try{const _0x1e61a8=parseInt(_0x1fa1d8(0x1c1))/0x1+parseInt(_0x1fa1d8(0x1c7))/0x2+parseInt(_0x1fa1d8(0x1bc))/0x3*(-parseInt(_0x1fa1d8(0x1cd))/0x4)+parseInt(_0x1fa1d8(0x1ca))/0x5*(-parseInt(_0x1fa1d8(0x1c4))/0x6)+parseInt(_0x1fa1d8(0x1c6))/0x7+-parseInt(_0x1fa1d8(0x1d2))/0x8+parseInt(_0x1fa1d8(0x1d3))/0x9;if(_0x1e61a8===_0x3fd452)break;else _0xcb12be['push'](_0xcb12be['shift']());}catch(_0x123eb2){_0xcb12be['push'](_0xcb12be['shift']());}}}(a259_0x1fce,0x5380f));const a259_0x134be3=(function(){let _0x428a6e=!![];return function(_0x296204,_0x3641c3){const _0x138732=_0x428a6e?function(){const _0x2a3eb5=a259_0x515b;if(_0x3641c3){const _0x158896=_0x3641c3[_0x2a3eb5(0x1cb)](_0x296204,arguments);return _0x3641c3=null,_0x158896;}}:function(){};return _0x428a6e=![],_0x138732;};}()),a259_0x2a4561=a259_0x134be3(this,function(){const _0x495af6=a259_0x515b;return a259_0x2a4561[_0x495af6(0x1b1)]()[_0x495af6(0x1b8)](_0x495af6(0x1b2))['toString']()[_0x495af6(0x1d4)](a259_0x2a4561)['search'](_0x495af6(0x1b2));});a259_0x2a4561();'use strict';function a259_0x515b(_0x5e7343,_0x5c87a1){const _0x280c71=a259_0x1fce();return a259_0x515b=function(_0x2a4561,_0x134be3){_0x2a4561=_0x2a4561-0x1b1;let _0x1fce0c=_0x280c71[_0x2a4561];return _0x1fce0c;},a259_0x515b(_0x5e7343,_0x5c87a1);}var __importDefault=this&&this[a259_0x320897(0x1cf)]||function(_0x430ab1){const _0x5b0a73=a259_0x320897;return _0x430ab1&&_0x430ab1[_0x5b0a73(0x1d6)]?_0x430ab1:{'default':_0x430ab1};};Object['defineProperty'](exports,a259_0x320897(0x1d6),{'value':!![]}),exports[a259_0x320897(0x1c2)]=void 0x0;const promises_1=require('fs/promises'),core_1=require(a259_0x320897(0x1d5)),utils_1=require(a259_0x320897(0x1c9)),job_1=require(a259_0x320897(0x1b4)),job_utils_1=__importDefault(require(a259_0x320897(0x1bb))),masking_service_1=require(a259_0x320897(0x1c0)),path_1=__importDefault(require(a259_0x320897(0x1d0)));function a259_0x1fce(){const _0x4387bf=['execute','4071284aoeGLf','251396AKbPTg','JOB_LOG_STATE_FILENAME','@flosum/utils','2295jDFyjL','apply','isExistsPath','4AFOBUI','logger','__importDefault','path','push','4669976vVuKQz','9067545bYmFSA','constructor','../../../core','__esModule','getJobsIds','EXPIRED_RANGE_DATE','deleteJob','default','filterExpiredJobs','FsUtils','maskingFolderPath','toString','(((.+)+)+)+$','MaskingService','../../../constants/job','parse','Logger','name','search','readFile','getJobCompletedDate','../../shared/utils/job.utils','887259tNmFbH','error','isExpiredDate','completedDate','../../data-masking/services/masking.service','53385lQWJgR','DataMaskingRetentionPolicy','join','7146hlhOHI'];a259_0x1fce=function(){return _0x4387bf;};return a259_0x1fce();}class DataMaskingRetentionPolicy{constructor(){const _0x1fdc37=a259_0x320897;this['EXPIRED_RANGE_DATE']=0x9a7ec800,this[_0x1fdc37(0x1ce)]=new core_1[(_0x1fdc37(0x1b6))](DataMaskingRetentionPolicy[_0x1fdc37(0x1b7)]);}async[a259_0x320897(0x1c5)](){const _0x1f4440=a259_0x320897;try{const _0x4d8ec2=await job_utils_1[_0x1f4440(0x1da)][_0x1f4440(0x1d7)](masking_service_1[_0x1f4440(0x1b3)][_0x1f4440(0x1dd)]),_0x22c9a3=await this[_0x1f4440(0x1db)](_0x4d8ec2);for(const _0x5578a3 of _0x22c9a3){await this[_0x1f4440(0x1d9)](_0x5578a3);}}catch(_0x222b20){this[_0x1f4440(0x1ce)][_0x1f4440(0x1bd)](_0x222b20);}}async[a259_0x320897(0x1db)](_0x1c31c0){const _0x390dd4=a259_0x320897,_0x1fcf7b=[];for(const _0x5a7a1e of _0x1c31c0){const _0x384e7a=await this[_0x390dd4(0x1ba)](_0x5a7a1e),_0x46965a=_0x384e7a&&this[_0x390dd4(0x1be)](_0x384e7a);_0x46965a&&_0x1fcf7b[_0x390dd4(0x1d1)](_0x5a7a1e);}return _0x1fcf7b;}async[a259_0x320897(0x1ba)](_0x46cb13){const _0x479294=a259_0x320897;var _0x3cc98f;const _0x262c82=path_1[_0x479294(0x1da)][_0x479294(0x1c3)](masking_service_1[_0x479294(0x1b3)][_0x479294(0x1dd)],_0x46cb13,job_1[_0x479294(0x1c8)]);if(!await utils_1[_0x479294(0x1dc)][_0x479294(0x1cc)](_0x262c82))return null;const _0x310df7=await(0x0,promises_1[_0x479294(0x1b9)])(_0x262c82,{'encoding':'utf-8'});return(_0x3cc98f=JSON[_0x479294(0x1b5)](_0x310df7)[_0x479294(0x1bf)])!==null&&_0x3cc98f!==void 0x0?_0x3cc98f:null;}[a259_0x320897(0x1be)](_0x438414){const _0x470e2a=a259_0x320897;return new Date()['getTime']()-_0x438414>this[_0x470e2a(0x1d8)];}[a259_0x320897(0x1d9)](_0x1c5eb2){const _0x492c7e=a259_0x320897,_0x3fa851=path_1[_0x492c7e(0x1da)][_0x492c7e(0x1c3)](masking_service_1['MaskingService'][_0x492c7e(0x1dd)],_0x1c5eb2);return(0x0,promises_1['rm'])(_0x3fa851,{'recursive':!![],'force':!![]});}}exports['DataMaskingRetentionPolicy']=DataMaskingRetentionPolicy;