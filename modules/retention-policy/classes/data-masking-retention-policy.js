const a306_0x123326=a306_0x61c1;(function(_0x21dbdb,_0x48b449){const _0x237c14=a306_0x61c1,_0x7a762d=_0x21dbdb();while(!![]){try{const _0x3672dd=-parseInt(_0x237c14(0x1db))/0x1*(-parseInt(_0x237c14(0x1da))/0x2)+-parseInt(_0x237c14(0x1b9))/0x3+parseInt(_0x237c14(0x1c7))/0x4*(parseInt(_0x237c14(0x1d3))/0x5)+-parseInt(_0x237c14(0x1d6))/0x6+-parseInt(_0x237c14(0x1d2))/0x7*(-parseInt(_0x237c14(0x1c1))/0x8)+parseInt(_0x237c14(0x1c8))/0x9+-parseInt(_0x237c14(0x1d1))/0xa;if(_0x3672dd===_0x48b449)break;else _0x7a762d['push'](_0x7a762d['shift']());}catch(_0xcaa1fa){_0x7a762d['push'](_0x7a762d['shift']());}}}(a306_0x32ed,0x9856c));const a306_0xd4b93d=(function(){let _0x30f511=!![];return function(_0x44c417,_0x559b02){const _0x1ed641=_0x30f511?function(){const _0x2bbc1f=a306_0x61c1;if(_0x559b02){const _0x6f36e7=_0x559b02[_0x2bbc1f(0x1bf)](_0x44c417,arguments);return _0x559b02=null,_0x6f36e7;}}:function(){};return _0x30f511=![],_0x1ed641;};}()),a306_0x17e332=a306_0xd4b93d(this,function(){const _0x622f31=a306_0x61c1;return a306_0x17e332[_0x622f31(0x1d4)]()[_0x622f31(0x1bc)](_0x622f31(0x1d0))[_0x622f31(0x1d4)]()[_0x622f31(0x1c3)](a306_0x17e332)['search'](_0x622f31(0x1d0));});a306_0x17e332();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x7fabeb){const _0x267fda=a306_0x61c1;return _0x7fabeb&&_0x7fabeb[_0x267fda(0x1c6)]?_0x7fabeb:{'default':_0x7fabeb};};function a306_0x61c1(_0x2ee1c5,_0x1f6123){const _0x187241=a306_0x32ed();return a306_0x61c1=function(_0x17e332,_0xd4b93d){_0x17e332=_0x17e332-0x1b4;let _0x32ed7c=_0x187241[_0x17e332];return _0x32ed7c;},a306_0x61c1(_0x2ee1c5,_0x1f6123);}Object[a306_0x123326(0x1de)](exports,a306_0x123326(0x1c6),{'value':!![]}),exports[a306_0x123326(0x1df)]=void 0x0;const promises_1=require(a306_0x123326(0x1be)),core_1=require(a306_0x123326(0x1d8)),utils_1=require('@flosum/utils'),job_1=require('../../../constants/job'),job_utils_1=__importDefault(require(a306_0x123326(0x1bd))),masking_service_1=require('../../data-masking/services/masking.service'),path_1=__importDefault(require(a306_0x123326(0x1c4)));class DataMaskingRetentionPolicy{constructor(){const _0x53e3fe=a306_0x123326;this[_0x53e3fe(0x1b6)]=0x9a7ec800,this[_0x53e3fe(0x1cc)]=new core_1[(_0x53e3fe(0x1dd))](DataMaskingRetentionPolicy[_0x53e3fe(0x1ba)]);}async[a306_0x123326(0x1d5)](){const _0x2e52b2=a306_0x123326;try{const _0x486437=await job_utils_1[_0x2e52b2(0x1cf)][_0x2e52b2(0x1b7)](masking_service_1[_0x2e52b2(0x1b5)][_0x2e52b2(0x1c0)]),_0x15a094=await this[_0x2e52b2(0x1b8)](_0x486437);for(const _0x506d26 of _0x15a094){await this[_0x2e52b2(0x1c9)](_0x506d26);}}catch(_0x41fe39){this[_0x2e52b2(0x1cc)][_0x2e52b2(0x1ca)](_0x41fe39);}}async[a306_0x123326(0x1b8)](_0x5ad790){const _0x46c5c9=a306_0x123326,_0x39608e=[];for(const _0x3bf155 of _0x5ad790){const _0xf1c384=await this[_0x46c5c9(0x1cb)](_0x3bf155),_0xe3fccd=_0xf1c384&&this['isExpiredDate'](_0xf1c384);_0xe3fccd&&_0x39608e[_0x46c5c9(0x1d9)](_0x3bf155);}return _0x39608e;}async[a306_0x123326(0x1cb)](_0x1b3bd7){const _0x40cd30=a306_0x123326;var _0x47ac2f;const _0x35c7cf=path_1[_0x40cd30(0x1cf)]['join'](masking_service_1[_0x40cd30(0x1b5)][_0x40cd30(0x1c0)],_0x1b3bd7,job_1['JOB_LOG_STATE_FILENAME']);if(!await utils_1[_0x40cd30(0x1dc)][_0x40cd30(0x1c2)](_0x35c7cf))return null;const _0x33364d=await(0x0,promises_1[_0x40cd30(0x1c5)])(_0x35c7cf,{'encoding':_0x40cd30(0x1cd)});return(_0x47ac2f=JSON[_0x40cd30(0x1ce)](_0x33364d)[_0x40cd30(0x1d7)])!==null&&_0x47ac2f!==void 0x0?_0x47ac2f:null;}[a306_0x123326(0x1bb)](_0x44a386){const _0x42abdc=a306_0x123326;return new Date()['getTime']()-_0x44a386>this[_0x42abdc(0x1b6)];}[a306_0x123326(0x1c9)](_0x43e58b){const _0x36a08d=a306_0x123326,_0x376f5c=path_1[_0x36a08d(0x1cf)][_0x36a08d(0x1b4)](masking_service_1[_0x36a08d(0x1b5)][_0x36a08d(0x1c0)],_0x43e58b);return(0x0,promises_1['rm'])(_0x376f5c,{'recursive':!![],'force':!![]});}}function a306_0x32ed(){const _0x4f2a77=['FsUtils','Logger','defineProperty','DataMaskingRetentionPolicy','join','MaskingService','EXPIRED_RANGE_DATE','getJobsIds','filterExpiredJobs','419637ScgEtp','name','isExpiredDate','search','../../shared/utils/job.utils','fs/promises','apply','maskingFolderPath','208pUBRlW','isExistsPath','constructor','path','readFile','__esModule','1778768oLrTql','6079491RIhRey','deleteJob','error','getJobCompletedDate','logger','utf-8','parse','default','(((.+)+)+)+$','24343620KSXlqF','260309xZWqsx','10zNVroH','toString','execute','2506836gpyWJW','completedDate','../../../core','push','4kALBvF','542141sYbBlS'];a306_0x32ed=function(){return _0x4f2a77;};return a306_0x32ed();}exports[a306_0x123326(0x1df)]=DataMaskingRetentionPolicy;