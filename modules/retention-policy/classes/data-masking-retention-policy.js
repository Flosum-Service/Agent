const a264_0x33fb64=a264_0x2891;(function(_0x5bcbb5,_0x33312b){const _0x45b8c7=a264_0x2891,_0x1b827a=_0x5bcbb5();while(!![]){try{const _0x29dd59=parseInt(_0x45b8c7(0xf8))/0x1+-parseInt(_0x45b8c7(0x10f))/0x2+-parseInt(_0x45b8c7(0xfd))/0x3+parseInt(_0x45b8c7(0xf0))/0x4*(-parseInt(_0x45b8c7(0xf5))/0x5)+parseInt(_0x45b8c7(0x10e))/0x6+-parseInt(_0x45b8c7(0xf6))/0x7*(parseInt(_0x45b8c7(0xf3))/0x8)+parseInt(_0x45b8c7(0x100))/0x9*(parseInt(_0x45b8c7(0xef))/0xa);if(_0x29dd59===_0x33312b)break;else _0x1b827a['push'](_0x1b827a['shift']());}catch(_0xf2759c){_0x1b827a['push'](_0x1b827a['shift']());}}}(a264_0x5638,0x86bcb));const a264_0x2616f7=(function(){let _0x1d19ab=!![];return function(_0xace7cd,_0x4d9329){const _0x242e11=_0x1d19ab?function(){const _0x14e695=a264_0x2891;if(_0x4d9329){const _0x1daede=_0x4d9329[_0x14e695(0x113)](_0xace7cd,arguments);return _0x4d9329=null,_0x1daede;}}:function(){};return _0x1d19ab=![],_0x242e11;};}()),a264_0x2461bb=a264_0x2616f7(this,function(){const _0x340845=a264_0x2891;return a264_0x2461bb[_0x340845(0x108)]()[_0x340845(0x112)]('(((.+)+)+)+$')[_0x340845(0x108)]()['constructor'](a264_0x2461bb)[_0x340845(0x112)]('(((.+)+)+)+$');});a264_0x2461bb();'use strict';var __importDefault=this&&this[a264_0x33fb64(0x10a)]||function(_0x26c79f){const _0x5b059c=a264_0x33fb64;return _0x26c79f&&_0x26c79f[_0x5b059c(0x102)]?_0x26c79f:{'default':_0x26c79f};};Object['defineProperty'](exports,a264_0x33fb64(0x102),{'value':!![]}),exports[a264_0x33fb64(0x10b)]=void 0x0;function a264_0x2891(_0x2e0209,_0x69bd2a){const _0x459775=a264_0x5638();return a264_0x2891=function(_0x2461bb,_0x2616f7){_0x2461bb=_0x2461bb-0xef;let _0x563881=_0x459775[_0x2461bb];return _0x563881;},a264_0x2891(_0x2e0209,_0x69bd2a);}const promises_1=require('fs/promises'),core_1=require(a264_0x33fb64(0x10d)),utils_1=require(a264_0x33fb64(0x114)),job_1=require(a264_0x33fb64(0x119)),job_utils_1=__importDefault(require(a264_0x33fb64(0x101))),masking_service_1=require(a264_0x33fb64(0xf2)),path_1=__importDefault(require(a264_0x33fb64(0xfe)));class DataMaskingRetentionPolicy{constructor(){const _0x33aacc=a264_0x33fb64;this[_0x33aacc(0x117)]=0x9a7ec800,this[_0x33aacc(0x110)]=new core_1[(_0x33aacc(0xf1))](DataMaskingRetentionPolicy[_0x33aacc(0x118)]);}async['execute'](){const _0x2beb3d=a264_0x33fb64;try{const _0x17d1fc=await job_utils_1[_0x2beb3d(0x107)][_0x2beb3d(0xf7)](masking_service_1[_0x2beb3d(0x116)][_0x2beb3d(0x115)]),_0x178221=await this[_0x2beb3d(0x104)](_0x17d1fc);for(const _0x443ca4 of _0x178221){await this[_0x2beb3d(0x109)](_0x443ca4);}}catch(_0x3e8868){this[_0x2beb3d(0x110)][_0x2beb3d(0x103)](_0x3e8868);}}async[a264_0x33fb64(0x104)](_0xa41ed8){const _0x5a0d19=a264_0x33fb64,_0x1026f9=[];for(const _0x4b4e4e of _0xa41ed8){const _0x5ac98b=await this[_0x5a0d19(0x105)](_0x4b4e4e),_0x483c76=_0x5ac98b&&this[_0x5a0d19(0x10c)](_0x5ac98b);_0x483c76&&_0x1026f9[_0x5a0d19(0xfc)](_0x4b4e4e);}return _0x1026f9;}async[a264_0x33fb64(0x105)](_0x11dca8){const _0x15b0f0=a264_0x33fb64;var _0x2266ec;const _0x11272c=path_1[_0x15b0f0(0x107)][_0x15b0f0(0xfb)](masking_service_1[_0x15b0f0(0x116)][_0x15b0f0(0x115)],_0x11dca8,job_1['JOB_LOG_STATE_FILENAME']);if(!await utils_1['FsUtils'][_0x15b0f0(0xf9)](_0x11272c))return null;const _0xc6b2fb=await(0x0,promises_1[_0x15b0f0(0xff)])(_0x11272c,{'encoding':_0x15b0f0(0x111)});return(_0x2266ec=JSON[_0x15b0f0(0x106)](_0xc6b2fb)[_0x15b0f0(0xf4)])!==null&&_0x2266ec!==void 0x0?_0x2266ec:null;}[a264_0x33fb64(0x10c)](_0x2e2941){const _0x1e4a7d=a264_0x33fb64;return new Date()[_0x1e4a7d(0xfa)]()-_0x2e2941>this['EXPIRED_RANGE_DATE'];}[a264_0x33fb64(0x109)](_0xc1b79){const _0x1018db=a264_0x33fb64,_0x5422ed=path_1['default']['join'](masking_service_1[_0x1018db(0x116)][_0x1018db(0x115)],_0xc1b79);return(0x0,promises_1['rm'])(_0x5422ed,{'recursive':!![],'force':!![]});}}exports[a264_0x33fb64(0x10b)]=DataMaskingRetentionPolicy;function a264_0x5638(){const _0x4eaa1b=['utf-8','search','apply','@flosum/utils','maskingFolderPath','MaskingService','EXPIRED_RANGE_DATE','name','../../../constants/job','190oSrsBp','4CCvsja','Logger','../../data-masking/services/masking.service','8PUyBri','completedDate','2992295kpOLJn','1478687BDgSHW','getJobsIds','324755ALgbwV','isExistsPath','getTime','join','push','3222339kzIman','path','readFile','1226871EbaZID','../../shared/utils/job.utils','__esModule','error','filterExpiredJobs','getJobCompletedDate','parse','default','toString','deleteJob','__importDefault','DataMaskingRetentionPolicy','isExpiredDate','../../../core','2007264gwgoPS','1627328dqWyGu','logger'];a264_0x5638=function(){return _0x4eaa1b;};return a264_0x5638();}