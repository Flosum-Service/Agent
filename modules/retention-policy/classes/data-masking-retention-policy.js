function a259_0x1d55(_0x5ddeda,_0x8e0800){const _0x1d1e2f=a259_0x5474();return a259_0x1d55=function(_0x240010,_0x3a8c56){_0x240010=_0x240010-0x81;let _0x547440=_0x1d1e2f[_0x240010];return _0x547440;},a259_0x1d55(_0x5ddeda,_0x8e0800);}const a259_0x2cf7d0=a259_0x1d55;(function(_0x25b3cb,_0x5ee61b){const _0x7180aa=a259_0x1d55,_0x1c2c9a=_0x25b3cb();while(!![]){try{const _0x35beff=-parseInt(_0x7180aa(0x88))/0x1*(-parseInt(_0x7180aa(0x94))/0x2)+-parseInt(_0x7180aa(0xa3))/0x3+parseInt(_0x7180aa(0x9b))/0x4+parseInt(_0x7180aa(0x87))/0x5+-parseInt(_0x7180aa(0x89))/0x6*(-parseInt(_0x7180aa(0x8d))/0x7)+-parseInt(_0x7180aa(0x8f))/0x8+-parseInt(_0x7180aa(0xa8))/0x9*(-parseInt(_0x7180aa(0x9c))/0xa);if(_0x35beff===_0x5ee61b)break;else _0x1c2c9a['push'](_0x1c2c9a['shift']());}catch(_0x803300){_0x1c2c9a['push'](_0x1c2c9a['shift']());}}}(a259_0x5474,0xc5217));const a259_0x3a8c56=(function(){let _0x2dd674=!![];return function(_0x224a4e,_0x1ec270){const _0x5c9d05=_0x2dd674?function(){const _0x4bd995=a259_0x1d55;if(_0x1ec270){const _0x26769f=_0x1ec270[_0x4bd995(0x9d)](_0x224a4e,arguments);return _0x1ec270=null,_0x26769f;}}:function(){};return _0x2dd674=![],_0x5c9d05;};}()),a259_0x240010=a259_0x3a8c56(this,function(){const _0x23ca85=a259_0x1d55;return a259_0x240010[_0x23ca85(0x85)]()[_0x23ca85(0x82)](_0x23ca85(0x96))['toString']()['constructor'](a259_0x240010)[_0x23ca85(0x82)](_0x23ca85(0x96));});a259_0x240010();'use strict';var __importDefault=this&&this[a259_0x2cf7d0(0xa1)]||function(_0x560e0b){const _0x3d6407=a259_0x2cf7d0;return _0x560e0b&&_0x560e0b[_0x3d6407(0xa7)]?_0x560e0b:{'default':_0x560e0b};};Object[a259_0x2cf7d0(0x93)](exports,a259_0x2cf7d0(0xa7),{'value':!![]}),exports[a259_0x2cf7d0(0xac)]=void 0x0;const promises_1=require(a259_0x2cf7d0(0x86)),core_1=require(a259_0x2cf7d0(0x8a)),utils_1=require(a259_0x2cf7d0(0x84)),job_1=require(a259_0x2cf7d0(0xad)),job_utils_1=__importDefault(require(a259_0x2cf7d0(0xa4))),masking_service_1=require(a259_0x2cf7d0(0x83)),path_1=__importDefault(require(a259_0x2cf7d0(0xae)));class DataMaskingRetentionPolicy{constructor(){const _0x4b4886=a259_0x2cf7d0;this['EXPIRED_RANGE_DATE']=0x9a7ec800,this[_0x4b4886(0xa9)]=new core_1[(_0x4b4886(0xa6))](DataMaskingRetentionPolicy[_0x4b4886(0x91)]);}async[a259_0x2cf7d0(0x9a)](){const _0x4b3620=a259_0x2cf7d0;try{const _0x5a3b41=await job_utils_1[_0x4b3620(0xa0)][_0x4b3620(0x92)](masking_service_1[_0x4b3620(0x97)][_0x4b3620(0x90)]),_0x46f967=await this[_0x4b3620(0xa5)](_0x5a3b41);for(const _0x5c7839 of _0x46f967){await this[_0x4b3620(0x9e)](_0x5c7839);}}catch(_0x471290){this[_0x4b3620(0xa9)][_0x4b3620(0x8b)](_0x471290);}}async[a259_0x2cf7d0(0xa5)](_0xb1246a){const _0x248209=a259_0x2cf7d0,_0x19a413=[];for(const _0x36a14c of _0xb1246a){const _0x1061b0=await this[_0x248209(0x81)](_0x36a14c),_0xdfb9ce=_0x1061b0&&this[_0x248209(0x8c)](_0x1061b0);_0xdfb9ce&&_0x19a413['push'](_0x36a14c);}return _0x19a413;}async[a259_0x2cf7d0(0x81)](_0x304fe9){const _0x361d7c=a259_0x2cf7d0;var _0x50e48b;const _0x2d86f4=path_1['default']['join'](masking_service_1[_0x361d7c(0x97)][_0x361d7c(0x90)],_0x304fe9,job_1[_0x361d7c(0xaa)]);if(!await utils_1[_0x361d7c(0xab)][_0x361d7c(0xa2)](_0x2d86f4))return null;const _0x1b48ed=await(0x0,promises_1[_0x361d7c(0x8e)])(_0x2d86f4,{'encoding':'utf-8'});return(_0x50e48b=JSON[_0x361d7c(0x95)](_0x1b48ed)['completedDate'])!==null&&_0x50e48b!==void 0x0?_0x50e48b:null;}[a259_0x2cf7d0(0x8c)](_0x24b2bf){const _0x2a4cf2=a259_0x2cf7d0;return new Date()[_0x2a4cf2(0x98)]()-_0x24b2bf>this[_0x2a4cf2(0x99)];}['deleteJob'](_0x43fdcc){const _0x2a3bd0=a259_0x2cf7d0,_0x53ecd5=path_1[_0x2a3bd0(0xa0)][_0x2a3bd0(0x9f)](masking_service_1[_0x2a3bd0(0x97)][_0x2a3bd0(0x90)],_0x43fdcc);return(0x0,promises_1['rm'])(_0x53ecd5,{'recursive':!![],'force':!![]});}}function a259_0x5474(){const _0x5d00a8=['../../../core','error','isExpiredDate','7OYwsLu','readFile','12491568ltyESz','maskingFolderPath','name','getJobsIds','defineProperty','2ACthWd','parse','(((.+)+)+)+$','MaskingService','getTime','EXPIRED_RANGE_DATE','execute','3519056AQrxxF','66710svdpqj','apply','deleteJob','join','default','__importDefault','isExistsPath','310413XXocYM','../../shared/utils/job.utils','filterExpiredJobs','Logger','__esModule','828PElnmE','logger','JOB_LOG_STATE_FILENAME','FsUtils','DataMaskingRetentionPolicy','../../../constants/job','path','getJobCompletedDate','search','../../data-masking/services/masking.service','@flosum/utils','toString','fs/promises','58320kiokkZ','251603vAPILj','4293606ecUayL'];a259_0x5474=function(){return _0x5d00a8;};return a259_0x5474();}exports[a259_0x2cf7d0(0xac)]=DataMaskingRetentionPolicy;