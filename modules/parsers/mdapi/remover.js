const a97_0x358015=a97_0x3eec;(function(_0x985d04,_0xa3140c){const _0x118703=a97_0x3eec,_0x302f1d=_0x985d04();while(!![]){try{const _0x50b998=-parseInt(_0x118703(0x181))/0x1+parseInt(_0x118703(0x184))/0x2*(-parseInt(_0x118703(0x19e))/0x3)+parseInt(_0x118703(0x198))/0x4+-parseInt(_0x118703(0x179))/0x5*(parseInt(_0x118703(0x197))/0x6)+-parseInt(_0x118703(0x19a))/0x7*(-parseInt(_0x118703(0x1a8))/0x8)+parseInt(_0x118703(0x192))/0x9+parseInt(_0x118703(0x1ab))/0xa;if(_0x50b998===_0xa3140c)break;else _0x302f1d['push'](_0x302f1d['shift']());}catch(_0x1e8347){_0x302f1d['push'](_0x302f1d['shift']());}}}(a97_0x4959,0xef56d));function a97_0x4959(){const _0x381c0a=['join','type','components','removeDir','remove\x20component\x20\x20%s\x20[%s]','pop','constructor','path','site-meta.xml','523145kqwDtW','__importDefault','sourceDir','Xml','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','removeFile','(((.+)+)+)+$','../data/child-types-map','1566539qDNIll','have\x20to\x20update\x20%d\x20files','ExperienceBundle','94zySWjW','remove\x20parent\x20component\x20%s\x20[%s]','../../internal/fs.internal','log','makeDir','convertToString','Unknown\x20child\x20type\x20','__esModule','defineProperty','length','toString','removeChild','../data/child-types','default','13027185dTtvZT','-meta.xml','start','fileName','removeParent','84RZgJkE','2395024ThOvKv','isEmptyXml','1666yaGitw','META_EXPERIENCE_BUNDLE','removeAt','catch','66423FKuGWE','../utils/xml','writeFile','parentComponents','splice','logger','MAX_WRITES_PER_TICK','search','META_EXTENSION','remove\x20component\x20directory\x20%s\x20[%s]','18728AzqAki','isDir','readFile','24489260erijgY','Logger','apply','name'];a97_0x4959=function(){return _0x381c0a;};return a97_0x4959();}const a97_0x105870=(function(){let _0x3b9ccd=!![];return function(_0x57a9e7,_0x8072b){const _0x20cf3e=_0x3b9ccd?function(){const _0x2512d4=a97_0x3eec;if(_0x8072b){const _0x165367=_0x8072b[_0x2512d4(0x16e)](_0x57a9e7,arguments);return _0x8072b=null,_0x165367;}}:function(){};return _0x3b9ccd=![],_0x20cf3e;};}()),a97_0x45fc70=a97_0x105870(this,function(){const _0x5a2214=a97_0x3eec;return a97_0x45fc70[_0x5a2214(0x18e)]()[_0x5a2214(0x1a5)]('(((.+)+)+)+$')[_0x5a2214(0x18e)]()[_0x5a2214(0x176)](a97_0x45fc70)[_0x5a2214(0x1a5)](_0x5a2214(0x17f));});function a97_0x3eec(_0x168727,_0x433988){const _0x1012a7=a97_0x4959();return a97_0x3eec=function(_0x45fc70,_0x105870){_0x45fc70=_0x45fc70-0x16d;let _0x4959f6=_0x1012a7[_0x45fc70];return _0x4959f6;},a97_0x3eec(_0x168727,_0x433988);}a97_0x45fc70();'use strict';var __importDefault=this&&this[a97_0x358015(0x17a)]||function(_0xd96ca4){const _0x1bc360=a97_0x358015;return _0xd96ca4&&_0xd96ca4[_0x1bc360(0x18b)]?_0xd96ca4:{'default':_0xd96ca4};};Object[a97_0x358015(0x18c)](exports,a97_0x358015(0x18b),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a97_0x358015(0x186)),core_1=require('../../../core'),xml_1=require(a97_0x358015(0x19f)),child_types_1=__importDefault(require(a97_0x358015(0x190))),child_types_map_1=__importDefault(require(a97_0x358015(0x180))),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x352dcb,_0x3cf595){const _0x13327c=a97_0x358015;this[_0x13327c(0x172)]=_0x352dcb,this[_0x13327c(0x17b)]=_0x3cf595,this[_0x13327c(0x1a6)]=_0x13327c(0x193),this[_0x13327c(0x19b)]=_0x13327c(0x178),this[_0x13327c(0x1a4)]=0x64,this[_0x13327c(0x1a3)]=new core_1[(_0x13327c(0x16d))](MDApiRemover[_0x13327c(0x16f)]),this[_0x13327c(0x1a1)]={};}async[a97_0x358015(0x196)](_0x1df0e4){const _0x5203d4=a97_0x358015,_0x5e0d6b=path_1[_0x5203d4(0x191)]['join'](this[_0x5203d4(0x17b)],_0x1df0e4[_0x5203d4(0x177)]),_0x24d8b8=path_1[_0x5203d4(0x191)][_0x5203d4(0x170)](this[_0x5203d4(0x17b)],''+_0x1df0e4[_0x5203d4(0x177)]+this[_0x5203d4(0x1a6)]);this[_0x5203d4(0x1a1)][_0x1df0e4[_0x5203d4(0x177)]]&&delete this[_0x5203d4(0x1a1)][_0x1df0e4[_0x5203d4(0x177)]];const _0x54dcc5=await fs_internal_1['FS'][_0x5203d4(0x1a9)](_0x5e0d6b)[_0x5203d4(0x19d)](()=>![]);if(_0x54dcc5){this['logger'][_0x5203d4(0x187)](_0x5203d4(0x1a7),_0x5e0d6b,_0x1df0e4[_0x5203d4(0x171)]),await fs_internal_1['FS'][_0x5203d4(0x173)](_0x5e0d6b);_0x1df0e4[_0x5203d4(0x171)]===_0x5203d4(0x183)?await fs_internal_1['FS'][_0x5203d4(0x17e)](''+_0x5e0d6b+this[_0x5203d4(0x19b)])[_0x5203d4(0x19d)](()=>void 0x0):(this[_0x5203d4(0x1a3)][_0x5203d4(0x187)](_0x5203d4(0x17d),_0x5e0d6b,_0x1df0e4[_0x5203d4(0x171)]),await fs_internal_1['FS'][_0x5203d4(0x17e)](''+_0x5e0d6b+this['META_EXTENSION'])[_0x5203d4(0x19d)](()=>void 0x0));return;}this[_0x5203d4(0x1a3)][_0x5203d4(0x187)](_0x5203d4(0x174),_0x5e0d6b,_0x1df0e4[_0x5203d4(0x171)]),await Promise['all']([fs_internal_1['FS'][_0x5203d4(0x17e)](_0x5e0d6b),fs_internal_1['FS'][_0x5203d4(0x17e)](_0x24d8b8)]);}async['removeChild'](_0x266319){const _0x16e2df=a97_0x358015,{fileName:_0x1f2978,type:_0x6d6694,path:_0x5a14ac}=_0x266319,_0x1d0058=child_types_map_1[_0x16e2df(0x191)][_0x6d6694];if(!_0x1d0058)throw new Error(_0x16e2df(0x18a)+_0x6d6694);if(!this['parentComponents'][_0x5a14ac]){const _0x2d4fc8=path_1[_0x16e2df(0x191)]['join'](this['sourceDir'],_0x5a14ac),_0x1ca18a=await fs_internal_1['FS']['exists'](_0x2d4fc8);if(!_0x1ca18a)return;const _0x2e6f6a=await fs_internal_1['FS'][_0x16e2df(0x1aa)](_0x2d4fc8);this[_0x16e2df(0x1a1)][_0x5a14ac]=await xml_1[_0x16e2df(0x17c)]['parse'](_0x2e6f6a);}const _0x49c3a0=this[_0x16e2df(0x1a1)][_0x5a14ac],_0xd40b4d=_0x1f2978['split']('.')[_0x16e2df(0x175)]();xml_1[_0x16e2df(0x17c)][_0x16e2df(0x19c)](_0x49c3a0,_0x1d0058,_0xd40b4d||_0x1f2978),xml_1[_0x16e2df(0x17c)][_0x16e2df(0x199)](_0x49c3a0)?(this['logger']['log']('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x266319[_0x16e2df(0x177)],_0x266319[_0x16e2df(0x195)]),await this['removeParent'](_0x266319),delete this['parentComponents'][_0x5a14ac]):this[_0x16e2df(0x1a1)][_0x5a14ac]=_0x49c3a0;}async[a97_0x358015(0x194)](){const _0x59bc03=a97_0x358015;!await fs_internal_1['FS']['exists'](this[_0x59bc03(0x17b)])&&await fs_internal_1['FS'][_0x59bc03(0x188)](this[_0x59bc03(0x17b)]);for(const _0x12a250 of this[_0x59bc03(0x172)]){!child_types_1['default']['includes'](_0x12a250[_0x59bc03(0x171)])?(this[_0x59bc03(0x1a3)][_0x59bc03(0x187)](_0x59bc03(0x185),_0x12a250[_0x59bc03(0x195)],_0x12a250[_0x59bc03(0x171)]),await this[_0x59bc03(0x196)](_0x12a250)):(this['logger'][_0x59bc03(0x187)]('remove\x20child\x20component\x20%s\x20[%s]',_0x12a250['fileName'],_0x12a250[_0x59bc03(0x171)]),await this[_0x59bc03(0x18f)](_0x12a250));}const _0x421579=Object['keys'](this[_0x59bc03(0x1a1)]);this[_0x59bc03(0x1a3)][_0x59bc03(0x187)](_0x59bc03(0x182),this[_0x59bc03(0x172)][_0x59bc03(0x18d)]);while(_0x421579[_0x59bc03(0x18d)]){const _0x19d507=_0x421579[_0x59bc03(0x1a2)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0xa647ff of _0x19d507){await fs_internal_1['FS'][_0x59bc03(0x1a0)](path_1[_0x59bc03(0x191)][_0x59bc03(0x170)](this['sourceDir'],_0xa647ff),xml_1[_0x59bc03(0x17c)][_0x59bc03(0x189)](this[_0x59bc03(0x1a1)][_0xa647ff]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;