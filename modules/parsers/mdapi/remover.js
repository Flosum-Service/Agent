function a96_0x2ad7(){const _0xe99939=['readFile','path','parentComponents','search','log','splice','MDApiRemover','META_EXTENSION','15DwEiZM','META_EXPERIENCE_BUNDLE','removeChild','1467936sYDDQb','join','2450038xVxZxQ','7664916kKFgVU','convertToString','21675120KxJOuw','toString','default','length','3EFHqZn','../data/child-types','removeAt','apply','1880106rorfmm','type','532281laVGwF','exists','__importDefault','isDir','catch','site-meta.xml','fileName','components','8ppfQHz','6522219ymlKXw','sourceDir','../data/child-types-map','removeFile','split','Logger','keys','../utils/xml','pop','writeFile','all','parse','removeDir','(((.+)+)+)+$','constructor','start','ExperienceBundle','remove\x20component\x20\x20%s\x20[%s]','logger','MAX_WRITES_PER_TICK','isEmptyXml','__esModule','remove\x20child\x20component\x20%s\x20[%s]','Xml','removeParent'];a96_0x2ad7=function(){return _0xe99939;};return a96_0x2ad7();}const a96_0x2f9ac1=a96_0x526e;(function(_0x3bbab1,_0x58572f){const _0x24a7b4=a96_0x526e,_0x4198c4=_0x3bbab1();while(!![]){try{const _0x1569e9=-parseInt(_0x24a7b4(0x1ac))/0x1+parseInt(_0x24a7b4(0x19f))/0x2*(-parseInt(_0x24a7b4(0x1a6))/0x3)+-parseInt(_0x24a7b4(0x19d))/0x4+-parseInt(_0x24a7b4(0x19a))/0x5*(-parseInt(_0x24a7b4(0x1aa))/0x6)+-parseInt(_0x24a7b4(0x1a0))/0x7+parseInt(_0x24a7b4(0x1b4))/0x8*(parseInt(_0x24a7b4(0x1b5))/0x9)+parseInt(_0x24a7b4(0x1a2))/0xa;if(_0x1569e9===_0x58572f)break;else _0x4198c4['push'](_0x4198c4['shift']());}catch(_0x1c4697){_0x4198c4['push'](_0x4198c4['shift']());}}}(a96_0x2ad7,0x95a78));const a96_0x2e45d3=(function(){let _0x4dd4cc=!![];return function(_0x21b23e,_0x3af245){const _0x4a36de=_0x4dd4cc?function(){const _0x29476e=a96_0x526e;if(_0x3af245){const _0x23b08d=_0x3af245[_0x29476e(0x1a9)](_0x21b23e,arguments);return _0x3af245=null,_0x23b08d;}}:function(){};return _0x4dd4cc=![],_0x4a36de;};}()),a96_0x51d009=a96_0x2e45d3(this,function(){const _0x40159a=a96_0x526e;return a96_0x51d009[_0x40159a(0x1a3)]()[_0x40159a(0x195)](_0x40159a(0x1c2))['toString']()[_0x40159a(0x1c3)](a96_0x51d009)[_0x40159a(0x195)](_0x40159a(0x1c2));});a96_0x51d009();'use strict';var __importDefault=this&&this[a96_0x2f9ac1(0x1ae)]||function(_0x2aeacc){const _0x3a7960=a96_0x2f9ac1;return _0x2aeacc&&_0x2aeacc[_0x3a7960(0x18e)]?_0x2aeacc:{'default':_0x2aeacc};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MDApiRemover']=void 0x0;function a96_0x526e(_0x140630,_0x25f9b0){const _0x2e1092=a96_0x2ad7();return a96_0x526e=function(_0x51d009,_0x2e45d3){_0x51d009=_0x51d009-0x18e;let _0x2ad7cf=_0x2e1092[_0x51d009];return _0x2ad7cf;},a96_0x526e(_0x140630,_0x25f9b0);}const fs_internal_1=require('../../internal/fs.internal'),core_1=require('../../../core'),xml_1=require(a96_0x2f9ac1(0x1bc)),child_types_1=__importDefault(require(a96_0x2f9ac1(0x1a7))),child_types_map_1=__importDefault(require(a96_0x2f9ac1(0x1b7))),path_1=__importDefault(require(a96_0x2f9ac1(0x193)));class MDApiRemover{constructor(_0x8439e4,_0x361568){const _0x249613=a96_0x2f9ac1;this[_0x249613(0x1b3)]=_0x8439e4,this[_0x249613(0x1b6)]=_0x361568,this['META_EXTENSION']='-meta.xml',this[_0x249613(0x19b)]=_0x249613(0x1b1),this['MAX_WRITES_PER_TICK']=0x64,this[_0x249613(0x1c7)]=new core_1[(_0x249613(0x1ba))](MDApiRemover['name']),this[_0x249613(0x194)]={};}async[a96_0x2f9ac1(0x191)](_0xb3650a){const _0x36d190=a96_0x2f9ac1,_0x1b3527=path_1['default'][_0x36d190(0x19e)](this[_0x36d190(0x1b6)],_0xb3650a[_0x36d190(0x193)]),_0x284b93=path_1['default'][_0x36d190(0x19e)](this[_0x36d190(0x1b6)],''+_0xb3650a[_0x36d190(0x193)]+this[_0x36d190(0x199)]);this[_0x36d190(0x194)][_0xb3650a[_0x36d190(0x193)]]&&delete this[_0x36d190(0x194)][_0xb3650a[_0x36d190(0x193)]];const _0x332347=await fs_internal_1['FS'][_0x36d190(0x1af)](_0x1b3527)[_0x36d190(0x1b0)](()=>![]);if(_0x332347){this['logger'][_0x36d190(0x196)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x1b3527,_0xb3650a[_0x36d190(0x1ab)]),await fs_internal_1['FS'][_0x36d190(0x1c1)](_0x1b3527);_0xb3650a['type']===_0x36d190(0x1c5)&&await fs_internal_1['FS'][_0x36d190(0x1b8)](''+_0x1b3527+this['META_EXPERIENCE_BUNDLE'])['catch'](()=>void 0x0);return;}this[_0x36d190(0x1c7)][_0x36d190(0x196)](_0x36d190(0x1c6),_0x1b3527,_0xb3650a[_0x36d190(0x1ab)]),await Promise[_0x36d190(0x1bf)]([fs_internal_1['FS'][_0x36d190(0x1b8)](_0x1b3527),fs_internal_1['FS']['removeFile'](_0x284b93)]);}async[a96_0x2f9ac1(0x19c)](_0x24fa49){const _0x824e51=a96_0x2f9ac1,{fileName:_0x27d241,type:_0x12fcd3,path:_0x22cf95}=_0x24fa49,_0x45956d=child_types_map_1[_0x824e51(0x1a4)][_0x12fcd3];if(!_0x45956d)throw new Error('Unknown\x20child\x20type\x20'+_0x12fcd3);if(!this[_0x824e51(0x194)][_0x22cf95]){const _0x3dbfe8=path_1[_0x824e51(0x1a4)][_0x824e51(0x19e)](this['sourceDir'],_0x22cf95),_0x42ee0c=await fs_internal_1['FS'][_0x824e51(0x1ad)](_0x3dbfe8);if(!_0x42ee0c)return;const _0x58b73b=await fs_internal_1['FS'][_0x824e51(0x192)](_0x3dbfe8);this[_0x824e51(0x194)][_0x22cf95]=await xml_1['Xml'][_0x824e51(0x1c0)](_0x58b73b);}const _0xb39ee4=this[_0x824e51(0x194)][_0x22cf95],_0x4b994b=_0x27d241[_0x824e51(0x1b9)]('.')[_0x824e51(0x1bd)]();xml_1[_0x824e51(0x190)][_0x824e51(0x1a8)](_0xb39ee4,_0x45956d,_0x4b994b||_0x27d241),xml_1[_0x824e51(0x190)][_0x824e51(0x1c9)](_0xb39ee4)?(this[_0x824e51(0x1c7)][_0x824e51(0x196)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x24fa49[_0x824e51(0x193)],_0x24fa49[_0x824e51(0x1b2)]),await this[_0x824e51(0x191)](_0x24fa49),delete this['parentComponents'][_0x22cf95]):this[_0x824e51(0x194)][_0x22cf95]=_0xb39ee4;}async[a96_0x2f9ac1(0x1c4)](){const _0x2c3105=a96_0x2f9ac1;!await fs_internal_1['FS'][_0x2c3105(0x1ad)](this[_0x2c3105(0x1b6)])&&await fs_internal_1['FS']['makeDir'](this[_0x2c3105(0x1b6)]);for(const _0x1e5e5d of this[_0x2c3105(0x1b3)]){!child_types_1['default']['includes'](_0x1e5e5d[_0x2c3105(0x1ab)])?(this['logger'][_0x2c3105(0x196)]('remove\x20parent\x20component\x20%s\x20[%s]',_0x1e5e5d[_0x2c3105(0x1b2)],_0x1e5e5d[_0x2c3105(0x1ab)]),await this[_0x2c3105(0x191)](_0x1e5e5d)):(this[_0x2c3105(0x1c7)][_0x2c3105(0x196)](_0x2c3105(0x18f),_0x1e5e5d[_0x2c3105(0x1b2)],_0x1e5e5d['type']),await this['removeChild'](_0x1e5e5d));}const _0x8938f7=Object[_0x2c3105(0x1bb)](this[_0x2c3105(0x194)]);this[_0x2c3105(0x1c7)]['log']('have\x20to\x20update\x20%d\x20files',this[_0x2c3105(0x1b3)][_0x2c3105(0x1a5)]);while(_0x8938f7['length']){const _0x548269=_0x8938f7[_0x2c3105(0x197)](0x0,this[_0x2c3105(0x1c8)]);for(const _0x57df0a of _0x548269){await fs_internal_1['FS'][_0x2c3105(0x1be)](path_1[_0x2c3105(0x1a4)]['join'](this[_0x2c3105(0x1b6)],_0x57df0a),xml_1[_0x2c3105(0x190)][_0x2c3105(0x1a1)](this[_0x2c3105(0x194)][_0x57df0a]));}}this[_0x2c3105(0x194)]={};}}exports[a96_0x2f9ac1(0x198)]=MDApiRemover;