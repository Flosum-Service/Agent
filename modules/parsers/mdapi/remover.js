const a97_0xf96b9a=a97_0x3986;(function(_0x33bf14,_0x20cb00){const _0x19455d=a97_0x3986,_0x491eda=_0x33bf14();while(!![]){try{const _0x3c87e4=-parseInt(_0x19455d(0x127))/0x1*(-parseInt(_0x19455d(0x10a))/0x2)+-parseInt(_0x19455d(0x113))/0x3+-parseInt(_0x19455d(0x10b))/0x4+parseInt(_0x19455d(0x122))/0x5+parseInt(_0x19455d(0x108))/0x6+parseInt(_0x19455d(0x11d))/0x7*(parseInt(_0x19455d(0x105))/0x8)+-parseInt(_0x19455d(0x12c))/0x9;if(_0x3c87e4===_0x20cb00)break;else _0x491eda['push'](_0x491eda['shift']());}catch(_0x46059d){_0x491eda['push'](_0x491eda['shift']());}}}(a97_0x56a2,0x1ea8d));const a97_0x31b2a4=(function(){let _0x4ac02b=!![];return function(_0x1eafe2,_0x46d32b){const _0x1cac05=_0x4ac02b?function(){const _0x1029ae=a97_0x3986;if(_0x46d32b){const _0x571df6=_0x46d32b[_0x1029ae(0x11f)](_0x1eafe2,arguments);return _0x46d32b=null,_0x571df6;}}:function(){};return _0x4ac02b=![],_0x1cac05;};}()),a97_0x22d7ab=a97_0x31b2a4(this,function(){const _0x4ec5e8=a97_0x3986;return a97_0x22d7ab[_0x4ec5e8(0xfb)]()['search'](_0x4ec5e8(0xfa))[_0x4ec5e8(0xfb)]()[_0x4ec5e8(0x130)](a97_0x22d7ab)['search'](_0x4ec5e8(0xfa));});a97_0x22d7ab();'use strict';function a97_0x56a2(){const _0x46e60c=['META_EXTENSION','remove\x20component\x20directory\x20%s\x20[%s]','remove\x20component\x20\x20%s\x20[%s]','../data/child-types-map','__importDefault','35TzFqpX','splice','apply','../../../core','isEmptyXml','1095395zwsOrQ','keys','readFile','join','removeDir','4OaPSJX','sourceDir','../../internal/fs.internal','remove\x20child\x20component\x20%s\x20[%s]','ExperienceBundle','3710898ITFmLp','logger','name','start','constructor','Logger','MDApiRemover','length','../data/child-types','Unknown\x20child\x20type\x20','log','removeFile','(((.+)+)+)+$','toString','exists','writeFile','-meta.xml','includes','path','default','remove\x20parent\x20component\x20%s\x20[%s]','defineProperty','../utils/xml','331664GHOEfO','makeDir','have\x20to\x20update\x20%d\x20files','655974BPWisX','__esModule','50216XCBqqR','85644vivIhc','removeChild','split','MAX_WRITES_PER_TICK','parse','components','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','Xml','230448CMjePX','type','fileName','parentComponents','removeParent'];a97_0x56a2=function(){return _0x46e60c;};return a97_0x56a2();}var __importDefault=this&&this[a97_0xf96b9a(0x11c)]||function(_0x3c90df){const _0x364734=a97_0xf96b9a;return _0x3c90df&&_0x3c90df[_0x364734(0x109)]?_0x3c90df:{'default':_0x3c90df};};Object[a97_0xf96b9a(0x103)](exports,a97_0xf96b9a(0x109),{'value':!![]}),exports[a97_0xf96b9a(0xf4)]=void 0x0;function a97_0x3986(_0x5b00b1,_0x5e259e){const _0x48ad17=a97_0x56a2();return a97_0x3986=function(_0x22d7ab,_0x31b2a4){_0x22d7ab=_0x22d7ab-0xf3;let _0x56a207=_0x48ad17[_0x22d7ab];return _0x56a207;},a97_0x3986(_0x5b00b1,_0x5e259e);}const fs_internal_1=require(a97_0xf96b9a(0x129)),core_1=require(a97_0xf96b9a(0x120)),xml_1=require(a97_0xf96b9a(0x104)),child_types_1=__importDefault(require(a97_0xf96b9a(0xf6))),child_types_map_1=__importDefault(require(a97_0xf96b9a(0x11b))),path_1=__importDefault(require(a97_0xf96b9a(0x100)));class MDApiRemover{constructor(_0x4e4db0,_0x2fd294){const _0x5feb=a97_0xf96b9a;this['components']=_0x4e4db0,this[_0x5feb(0x128)]=_0x2fd294,this[_0x5feb(0x118)]=_0x5feb(0xfe),this['META_EXPERIENCE_BUNDLE']='site-meta.xml',this[_0x5feb(0x10e)]=0x64,this['logger']=new core_1[(_0x5feb(0xf3))](MDApiRemover[_0x5feb(0x12e)]),this[_0x5feb(0x116)]={};}async[a97_0xf96b9a(0x117)](_0x56fd3b){const _0x791559=a97_0xf96b9a,_0x481593=path_1[_0x791559(0x101)][_0x791559(0x125)](this['sourceDir'],_0x56fd3b['path']),_0x182f16=path_1[_0x791559(0x101)]['join'](this[_0x791559(0x128)],''+_0x56fd3b[_0x791559(0x100)]+this['META_EXTENSION']);this[_0x791559(0x116)][_0x56fd3b[_0x791559(0x100)]]&&delete this[_0x791559(0x116)][_0x56fd3b[_0x791559(0x100)]];const _0x3e1756=await fs_internal_1['FS']['isDir'](_0x481593)['catch'](()=>![]);if(_0x3e1756){this['logger'][_0x791559(0xf8)](_0x791559(0x119),_0x481593,_0x56fd3b['type']),await fs_internal_1['FS'][_0x791559(0x126)](_0x481593);_0x56fd3b['type']===_0x791559(0x12b)&&await fs_internal_1['FS'][_0x791559(0xf9)](''+_0x481593+this['META_EXPERIENCE_BUNDLE'])['catch'](()=>void 0x0);return;}this[_0x791559(0x12d)][_0x791559(0xf8)](_0x791559(0x11a),_0x481593,_0x56fd3b[_0x791559(0x114)]),await Promise['all']([fs_internal_1['FS'][_0x791559(0xf9)](_0x481593),fs_internal_1['FS']['removeFile'](_0x182f16)]);}async[a97_0xf96b9a(0x10c)](_0x5365f4){const _0x12cc3a=a97_0xf96b9a,{fileName:_0x519c95,type:_0x350b7c,path:_0x2923eb}=_0x5365f4,_0x861af3=child_types_map_1[_0x12cc3a(0x101)][_0x350b7c];if(!_0x861af3)throw new Error(_0x12cc3a(0xf7)+_0x350b7c);if(!this[_0x12cc3a(0x116)][_0x2923eb]){const _0x141a69=path_1['default']['join'](this[_0x12cc3a(0x128)],_0x2923eb),_0x257945=await fs_internal_1['FS'][_0x12cc3a(0xfc)](_0x141a69);if(!_0x257945)return;const _0x2d72bc=await fs_internal_1['FS'][_0x12cc3a(0x124)](_0x141a69);this[_0x12cc3a(0x116)][_0x2923eb]=await xml_1[_0x12cc3a(0x112)][_0x12cc3a(0x10f)](_0x2d72bc);}const _0x4e180a=this[_0x12cc3a(0x116)][_0x2923eb],_0x50a00e=_0x519c95[_0x12cc3a(0x10d)]('.')['pop']();xml_1[_0x12cc3a(0x112)]['removeAt'](_0x4e180a,_0x861af3,_0x50a00e||_0x519c95),xml_1['Xml'][_0x12cc3a(0x121)](_0x4e180a)?(this[_0x12cc3a(0x12d)]['log'](_0x12cc3a(0x111),_0x5365f4[_0x12cc3a(0x100)],_0x5365f4[_0x12cc3a(0x115)]),await this[_0x12cc3a(0x117)](_0x5365f4),delete this[_0x12cc3a(0x116)][_0x2923eb]):this[_0x12cc3a(0x116)][_0x2923eb]=_0x4e180a;}async[a97_0xf96b9a(0x12f)](){const _0x235aad=a97_0xf96b9a;!await fs_internal_1['FS'][_0x235aad(0xfc)](this[_0x235aad(0x128)])&&await fs_internal_1['FS'][_0x235aad(0x106)](this[_0x235aad(0x128)]);for(const _0x21e7a2 of this[_0x235aad(0x110)]){!child_types_1[_0x235aad(0x101)][_0x235aad(0xff)](_0x21e7a2[_0x235aad(0x114)])?(this[_0x235aad(0x12d)][_0x235aad(0xf8)](_0x235aad(0x102),_0x21e7a2[_0x235aad(0x115)],_0x21e7a2['type']),await this[_0x235aad(0x117)](_0x21e7a2)):(this['logger'][_0x235aad(0xf8)](_0x235aad(0x12a),_0x21e7a2[_0x235aad(0x115)],_0x21e7a2[_0x235aad(0x114)]),await this['removeChild'](_0x21e7a2));}const _0x3ce85f=Object[_0x235aad(0x123)](this[_0x235aad(0x116)]);this[_0x235aad(0x12d)][_0x235aad(0xf8)](_0x235aad(0x107),this[_0x235aad(0x110)]['length']);while(_0x3ce85f[_0x235aad(0xf5)]){const _0x45610a=_0x3ce85f[_0x235aad(0x11e)](0x0,this[_0x235aad(0x10e)]);for(const _0x187909 of _0x45610a){await fs_internal_1['FS'][_0x235aad(0xfd)](path_1[_0x235aad(0x101)]['join'](this[_0x235aad(0x128)],_0x187909),xml_1['Xml']['convertToString'](this[_0x235aad(0x116)][_0x187909]));}}this['parentComponents']={};}}exports[a97_0xf96b9a(0xf4)]=MDApiRemover;