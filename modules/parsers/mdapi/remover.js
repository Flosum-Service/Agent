const a96_0x5b3c51=a96_0x4ec1;(function(_0x47155a,_0xd3e72b){const _0x2e9dae=a96_0x4ec1,_0xa98560=_0x47155a();while(!![]){try{const _0x50eaec=-parseInt(_0x2e9dae(0x19a))/0x1+-parseInt(_0x2e9dae(0x19d))/0x2*(-parseInt(_0x2e9dae(0x17b))/0x3)+-parseInt(_0x2e9dae(0x190))/0x4*(parseInt(_0x2e9dae(0x193))/0x5)+parseInt(_0x2e9dae(0x188))/0x6*(parseInt(_0x2e9dae(0x174))/0x7)+-parseInt(_0x2e9dae(0x18c))/0x8+-parseInt(_0x2e9dae(0x17f))/0x9+parseInt(_0x2e9dae(0x17d))/0xa;if(_0x50eaec===_0xd3e72b)break;else _0xa98560['push'](_0xa98560['shift']());}catch(_0x28af11){_0xa98560['push'](_0xa98560['shift']());}}}(a96_0x3bc3,0x88551));const a96_0x435624=(function(){let _0x4c2f55=!![];return function(_0x205716,_0x271909){const _0x401e99=_0x4c2f55?function(){if(_0x271909){const _0x1a741d=_0x271909['apply'](_0x205716,arguments);return _0x271909=null,_0x1a741d;}}:function(){};return _0x4c2f55=![],_0x401e99;};}()),a96_0x47f9a0=a96_0x435624(this,function(){const _0x1b3818=a96_0x4ec1;return a96_0x47f9a0[_0x1b3818(0x19b)]()[_0x1b3818(0x182)](_0x1b3818(0x181))[_0x1b3818(0x19b)]()['constructor'](a96_0x47f9a0)['search'](_0x1b3818(0x181));});a96_0x47f9a0();function a96_0x4ec1(_0x41786b,_0x5c090a){const _0x4c6cc4=a96_0x3bc3();return a96_0x4ec1=function(_0x47f9a0,_0x435624){_0x47f9a0=_0x47f9a0-0x162;let _0x3bc36b=_0x4c6cc4[_0x47f9a0];return _0x3bc36b;},a96_0x4ec1(_0x41786b,_0x5c090a);}'use strict';var __importDefault=this&&this[a96_0x5b3c51(0x170)]||function(_0x5b473a){const _0x2375f7=a96_0x5b3c51;return _0x5b473a&&_0x5b473a[_0x2375f7(0x176)]?_0x5b473a:{'default':_0x5b473a};};function a96_0x3bc3(){const _0x3a9173=['type','log','1878842GCpjRj','components','__esModule','META_EXTENSION','length','remove\x20component\x20directory\x20%s\x20[%s]','../data/child-types','12867erLoVE','exists','16839450cAgliv','parentComponents','9432018rettNu','Unknown\x20child\x20type\x20','(((.+)+)+)+$','search','defineProperty','name','path','META_EXPERIENCE_BUNDLE','-meta.xml','18SyOMwl','all','convertToString','isEmptyXml','7718000UEooyv','have\x20to\x20update\x20%d\x20files','removeParent','fileName','1799804AgGrvx','../../internal/fs.internal','includes','5XOAnZf','Xml','ExperienceBundle','pop','removeFile','removeAt','../utils/xml','514559dBhley','toString','MAX_WRITES_PER_TICK','488qkovEY','sourceDir','makeDir','readFile','default','catch','start','splice','keys','split','logger','remove\x20child\x20component\x20%s\x20[%s]','parse','isDir','join','__importDefault','../data/child-types-map'];a96_0x3bc3=function(){return _0x3a9173;};return a96_0x3bc3();}Object[a96_0x5b3c51(0x183)](exports,a96_0x5b3c51(0x176),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a96_0x5b3c51(0x191)),core_1=require('../../../core'),xml_1=require(a96_0x5b3c51(0x199)),child_types_1=__importDefault(require(a96_0x5b3c51(0x17a))),child_types_map_1=__importDefault(require(a96_0x5b3c51(0x171))),path_1=__importDefault(require(a96_0x5b3c51(0x185)));class MDApiRemover{constructor(_0x2daf32,_0x520dcc){const _0x4a3cd5=a96_0x5b3c51;this[_0x4a3cd5(0x175)]=_0x2daf32,this['sourceDir']=_0x520dcc,this[_0x4a3cd5(0x177)]=_0x4a3cd5(0x187),this[_0x4a3cd5(0x186)]='site-meta.xml',this[_0x4a3cd5(0x19c)]=0x64,this['logger']=new core_1['Logger'](MDApiRemover[_0x4a3cd5(0x184)]),this[_0x4a3cd5(0x17e)]={};}async[a96_0x5b3c51(0x18e)](_0x585722){const _0x46962a=a96_0x5b3c51,_0x593d1d=path_1[_0x46962a(0x165)][_0x46962a(0x16f)](this[_0x46962a(0x162)],_0x585722[_0x46962a(0x185)]),_0x497c9a=path_1[_0x46962a(0x165)]['join'](this[_0x46962a(0x162)],''+_0x585722[_0x46962a(0x185)]+this['META_EXTENSION']);this['parentComponents'][_0x585722[_0x46962a(0x185)]]&&delete this[_0x46962a(0x17e)][_0x585722[_0x46962a(0x185)]];const _0x923cdc=await fs_internal_1['FS'][_0x46962a(0x16e)](_0x593d1d)[_0x46962a(0x166)](()=>![]);if(_0x923cdc){this[_0x46962a(0x16b)]['log'](_0x46962a(0x179),_0x593d1d,_0x585722[_0x46962a(0x172)]),await fs_internal_1['FS']['removeDir'](_0x593d1d);_0x585722['type']===_0x46962a(0x195)&&await fs_internal_1['FS'][_0x46962a(0x197)](''+_0x593d1d+this[_0x46962a(0x186)])[_0x46962a(0x166)](()=>void 0x0);return;}this[_0x46962a(0x16b)][_0x46962a(0x173)]('remove\x20component\x20\x20%s\x20[%s]',_0x593d1d,_0x585722['type']),await Promise[_0x46962a(0x189)]([fs_internal_1['FS'][_0x46962a(0x197)](_0x593d1d),fs_internal_1['FS']['removeFile'](_0x497c9a)]);}async['removeChild'](_0x334d04){const _0x49c1f8=a96_0x5b3c51,{fileName:_0x1b24a5,type:_0x234e66,path:_0x3bc949}=_0x334d04,_0x21df7c=child_types_map_1['default'][_0x234e66];if(!_0x21df7c)throw new Error(_0x49c1f8(0x180)+_0x234e66);if(!this[_0x49c1f8(0x17e)][_0x3bc949]){const _0x21af60=path_1[_0x49c1f8(0x165)][_0x49c1f8(0x16f)](this[_0x49c1f8(0x162)],_0x3bc949),_0x105156=await fs_internal_1['FS'][_0x49c1f8(0x17c)](_0x21af60);if(!_0x105156)return;const _0x18517b=await fs_internal_1['FS'][_0x49c1f8(0x164)](_0x21af60);this['parentComponents'][_0x3bc949]=await xml_1[_0x49c1f8(0x194)][_0x49c1f8(0x16d)](_0x18517b);}const _0x554b77=this[_0x49c1f8(0x17e)][_0x3bc949],_0x1546da=_0x1b24a5[_0x49c1f8(0x16a)]('.')[_0x49c1f8(0x196)]();xml_1[_0x49c1f8(0x194)][_0x49c1f8(0x198)](_0x554b77,_0x21df7c,_0x1546da||_0x1b24a5),xml_1[_0x49c1f8(0x194)][_0x49c1f8(0x18b)](_0x554b77)?(this[_0x49c1f8(0x16b)][_0x49c1f8(0x173)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x334d04['path'],_0x334d04[_0x49c1f8(0x18f)]),await this[_0x49c1f8(0x18e)](_0x334d04),delete this[_0x49c1f8(0x17e)][_0x3bc949]):this[_0x49c1f8(0x17e)][_0x3bc949]=_0x554b77;}async[a96_0x5b3c51(0x167)](){const _0x19858e=a96_0x5b3c51;!await fs_internal_1['FS']['exists'](this[_0x19858e(0x162)])&&await fs_internal_1['FS'][_0x19858e(0x163)](this[_0x19858e(0x162)]);for(const _0x885c6e of this[_0x19858e(0x175)]){!child_types_1['default'][_0x19858e(0x192)](_0x885c6e[_0x19858e(0x172)])?(this[_0x19858e(0x16b)]['log']('remove\x20parent\x20component\x20%s\x20[%s]',_0x885c6e[_0x19858e(0x18f)],_0x885c6e[_0x19858e(0x172)]),await this[_0x19858e(0x18e)](_0x885c6e)):(this[_0x19858e(0x16b)][_0x19858e(0x173)](_0x19858e(0x16c),_0x885c6e[_0x19858e(0x18f)],_0x885c6e['type']),await this['removeChild'](_0x885c6e));}const _0x8ee202=Object[_0x19858e(0x169)](this['parentComponents']);this[_0x19858e(0x16b)]['log'](_0x19858e(0x18d),this['components']['length']);while(_0x8ee202[_0x19858e(0x178)]){const _0x384b45=_0x8ee202[_0x19858e(0x168)](0x0,this[_0x19858e(0x19c)]);for(const _0xc81c70 of _0x384b45){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x19858e(0x16f)](this['sourceDir'],_0xc81c70),xml_1[_0x19858e(0x194)][_0x19858e(0x18a)](this['parentComponents'][_0xc81c70]));}}this[_0x19858e(0x17e)]={};}}exports['MDApiRemover']=MDApiRemover;