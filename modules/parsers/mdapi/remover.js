function a97_0x4691(_0x4e2abd,_0xf89374){const _0x196d98=a97_0x4c0e();return a97_0x4691=function(_0x29864a,_0x242b34){_0x29864a=_0x29864a-0x1a4;let _0x4c0e14=_0x196d98[_0x29864a];return _0x4c0e14;},a97_0x4691(_0x4e2abd,_0xf89374);}const a97_0x59ac1e=a97_0x4691;(function(_0x41fbe7,_0x579324){const _0x586e44=a97_0x4691,_0x10c811=_0x41fbe7();while(!![]){try{const _0x3cbcee=-parseInt(_0x586e44(0x1cb))/0x1+parseInt(_0x586e44(0x1c3))/0x2+-parseInt(_0x586e44(0x1dd))/0x3+-parseInt(_0x586e44(0x1be))/0x4*(parseInt(_0x586e44(0x1d0))/0x5)+parseInt(_0x586e44(0x1ae))/0x6+parseInt(_0x586e44(0x1cf))/0x7+parseInt(_0x586e44(0x1e1))/0x8;if(_0x3cbcee===_0x579324)break;else _0x10c811['push'](_0x10c811['shift']());}catch(_0x12c397){_0x10c811['push'](_0x10c811['shift']());}}}(a97_0x4c0e,0x9ad56));const a97_0x242b34=(function(){let _0x89f6ab=!![];return function(_0x349192,_0x2a6e8e){const _0xb2666b=_0x89f6ab?function(){const _0x4692a5=a97_0x4691;if(_0x2a6e8e){const _0x4acd88=_0x2a6e8e[_0x4692a5(0x1ce)](_0x349192,arguments);return _0x2a6e8e=null,_0x4acd88;}}:function(){};return _0x89f6ab=![],_0xb2666b;};}()),a97_0x29864a=a97_0x242b34(this,function(){const _0x768acb=a97_0x4691;return a97_0x29864a[_0x768acb(0x1ac)]()['search'](_0x768acb(0x1d8))[_0x768acb(0x1ac)]()[_0x768acb(0x1af)](a97_0x29864a)[_0x768acb(0x1d7)](_0x768acb(0x1d8));});a97_0x29864a();'use strict';function a97_0x4c0e(){const _0x42ba5b=['fileName','splice','remove\x20child\x20component\x20%s\x20[%s]','removeChild','../data/child-types-map','removeFile','search','(((.+)+)+)+$','Xml','removeParent','removeAt','Logger','797169tAbzXX','path','../data/child-types','-meta.xml','6291360VVnOHg','have\x20to\x20update\x20%d\x20files','all','isEmptyXml','type','makeDir','length','__esModule','META_EXTENSION','catch','toString','readFile','3028056ZXeeJp','constructor','components','ExperienceBundle','MDApiRemover','parentComponents','../../../core','remove\x20parent\x20component\x20%s\x20[%s]','removeDir','includes','default','pop','../utils/xml','isDir','exists','MAX_WRITES_PER_TICK','3724424rSXqnl','../../internal/fs.internal','convertToString','logger','META_EXPERIENCE_BUNDLE','1554526BekyRe','sourceDir','log','remove\x20component\x20directory\x20%s\x20[%s]','writeFile','join','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','site-meta.xml','692783cbjUdf','name','split','apply','3188157QswBNE','5EYxDqq'];a97_0x4c0e=function(){return _0x42ba5b;};return a97_0x4c0e();}var __importDefault=this&&this['__importDefault']||function(_0x190716){const _0x3fb715=a97_0x4691;return _0x190716&&_0x190716[_0x3fb715(0x1a9)]?_0x190716:{'default':_0x190716};};Object['defineProperty'](exports,a97_0x59ac1e(0x1a9),{'value':!![]}),exports[a97_0x59ac1e(0x1b2)]=void 0x0;const fs_internal_1=require(a97_0x59ac1e(0x1bf)),core_1=require(a97_0x59ac1e(0x1b4)),xml_1=require(a97_0x59ac1e(0x1ba)),child_types_1=__importDefault(require(a97_0x59ac1e(0x1df))),child_types_map_1=__importDefault(require(a97_0x59ac1e(0x1d5))),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x2dbeab,_0x130661){const _0x330f6a=a97_0x59ac1e;this['components']=_0x2dbeab,this[_0x330f6a(0x1c4)]=_0x130661,this[_0x330f6a(0x1aa)]=_0x330f6a(0x1e0),this[_0x330f6a(0x1c2)]=_0x330f6a(0x1ca),this[_0x330f6a(0x1bd)]=0x64,this[_0x330f6a(0x1c1)]=new core_1[(_0x330f6a(0x1dc))](MDApiRemover[_0x330f6a(0x1cc)]),this[_0x330f6a(0x1b3)]={};}async[a97_0x59ac1e(0x1da)](_0x46ec2e){const _0x6a643e=a97_0x59ac1e,_0x1d23ff=path_1[_0x6a643e(0x1b8)][_0x6a643e(0x1c8)](this[_0x6a643e(0x1c4)],_0x46ec2e[_0x6a643e(0x1de)]),_0x5dbf89=path_1['default'][_0x6a643e(0x1c8)](this[_0x6a643e(0x1c4)],''+_0x46ec2e['path']+this[_0x6a643e(0x1aa)]);this['parentComponents'][_0x46ec2e[_0x6a643e(0x1de)]]&&delete this[_0x6a643e(0x1b3)][_0x46ec2e[_0x6a643e(0x1de)]];const _0x11cb1e=await fs_internal_1['FS'][_0x6a643e(0x1bb)](_0x1d23ff)['catch'](()=>![]);if(_0x11cb1e){this[_0x6a643e(0x1c1)]['log'](_0x6a643e(0x1c6),_0x1d23ff,_0x46ec2e[_0x6a643e(0x1a6)]),await fs_internal_1['FS'][_0x6a643e(0x1b6)](_0x1d23ff);_0x46ec2e[_0x6a643e(0x1a6)]===_0x6a643e(0x1b1)?await fs_internal_1['FS'][_0x6a643e(0x1d6)](''+_0x1d23ff+this[_0x6a643e(0x1c2)])[_0x6a643e(0x1ab)](()=>void 0x0):(this[_0x6a643e(0x1c1)][_0x6a643e(0x1c5)](_0x6a643e(0x1c9),_0x1d23ff,_0x46ec2e['type']),await fs_internal_1['FS'][_0x6a643e(0x1d6)](''+_0x1d23ff+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x6a643e(0x1c1)][_0x6a643e(0x1c5)]('remove\x20component\x20\x20%s\x20[%s]',_0x1d23ff,_0x46ec2e[_0x6a643e(0x1a6)]),await Promise[_0x6a643e(0x1a4)]([fs_internal_1['FS']['removeFile'](_0x1d23ff),fs_internal_1['FS'][_0x6a643e(0x1d6)](_0x5dbf89)]);}async[a97_0x59ac1e(0x1d4)](_0x47a1cf){const _0xfdc7bb=a97_0x59ac1e,{fileName:_0x19c382,type:_0x24d961,path:_0x96d018}=_0x47a1cf,_0x32be26=child_types_map_1[_0xfdc7bb(0x1b8)][_0x24d961];if(!_0x32be26)throw new Error('Unknown\x20child\x20type\x20'+_0x24d961);if(!this[_0xfdc7bb(0x1b3)][_0x96d018]){const _0x4fda13=path_1['default'][_0xfdc7bb(0x1c8)](this[_0xfdc7bb(0x1c4)],_0x96d018),_0x292817=await fs_internal_1['FS'][_0xfdc7bb(0x1bc)](_0x4fda13);if(!_0x292817)return;const _0x1d13d2=await fs_internal_1['FS'][_0xfdc7bb(0x1ad)](_0x4fda13);this[_0xfdc7bb(0x1b3)][_0x96d018]=await xml_1[_0xfdc7bb(0x1d9)]['parse'](_0x1d13d2);}const _0x13112d=this[_0xfdc7bb(0x1b3)][_0x96d018],_0x1df43e=_0x19c382[_0xfdc7bb(0x1cd)]('.')[_0xfdc7bb(0x1b9)]();xml_1[_0xfdc7bb(0x1d9)][_0xfdc7bb(0x1db)](_0x13112d,_0x32be26,_0x1df43e||_0x19c382),xml_1[_0xfdc7bb(0x1d9)][_0xfdc7bb(0x1a5)](_0x13112d)?(this['logger'][_0xfdc7bb(0x1c5)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x47a1cf[_0xfdc7bb(0x1de)],_0x47a1cf[_0xfdc7bb(0x1d1)]),await this[_0xfdc7bb(0x1da)](_0x47a1cf),delete this[_0xfdc7bb(0x1b3)][_0x96d018]):this[_0xfdc7bb(0x1b3)][_0x96d018]=_0x13112d;}async['start'](){const _0xb94265=a97_0x59ac1e;!await fs_internal_1['FS'][_0xb94265(0x1bc)](this['sourceDir'])&&await fs_internal_1['FS'][_0xb94265(0x1a7)](this[_0xb94265(0x1c4)]);for(const _0x7c53a8 of this[_0xb94265(0x1b0)]){!child_types_1[_0xb94265(0x1b8)][_0xb94265(0x1b7)](_0x7c53a8['type'])?(this[_0xb94265(0x1c1)][_0xb94265(0x1c5)](_0xb94265(0x1b5),_0x7c53a8['fileName'],_0x7c53a8[_0xb94265(0x1a6)]),await this[_0xb94265(0x1da)](_0x7c53a8)):(this[_0xb94265(0x1c1)][_0xb94265(0x1c5)](_0xb94265(0x1d3),_0x7c53a8['fileName'],_0x7c53a8[_0xb94265(0x1a6)]),await this['removeChild'](_0x7c53a8));}const _0x3d5540=Object['keys'](this['parentComponents']);this[_0xb94265(0x1c1)][_0xb94265(0x1c5)](_0xb94265(0x1e2),this[_0xb94265(0x1b0)][_0xb94265(0x1a8)]);while(_0x3d5540[_0xb94265(0x1a8)]){const _0x4d0cc3=_0x3d5540[_0xb94265(0x1d2)](0x0,this[_0xb94265(0x1bd)]);for(const _0x46b4d3 of _0x4d0cc3){await fs_internal_1['FS'][_0xb94265(0x1c7)](path_1[_0xb94265(0x1b8)][_0xb94265(0x1c8)](this[_0xb94265(0x1c4)],_0x46b4d3),xml_1[_0xb94265(0x1d9)][_0xb94265(0x1c0)](this[_0xb94265(0x1b3)][_0x46b4d3]));}}this[_0xb94265(0x1b3)]={};}}exports[a97_0x59ac1e(0x1b2)]=MDApiRemover;