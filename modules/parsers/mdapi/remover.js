const a96_0x5f280b=a96_0x224a;(function(_0x51febc,_0x48271c){const _0x283118=a96_0x224a,_0x35ad39=_0x51febc();while(!![]){try{const _0x1ece9c=-parseInt(_0x283118(0x1aa))/0x1*(-parseInt(_0x283118(0x195))/0x2)+parseInt(_0x283118(0x1b3))/0x3+parseInt(_0x283118(0x1a0))/0x4+parseInt(_0x283118(0x186))/0x5*(-parseInt(_0x283118(0x18d))/0x6)+-parseInt(_0x283118(0x188))/0x7+parseInt(_0x283118(0x1af))/0x8+parseInt(_0x283118(0x1ab))/0x9*(-parseInt(_0x283118(0x1b6))/0xa);if(_0x1ece9c===_0x48271c)break;else _0x35ad39['push'](_0x35ad39['shift']());}catch(_0x4eab7b){_0x35ad39['push'](_0x35ad39['shift']());}}}(a96_0x28f4,0xc3098));const a96_0x41ef4b=(function(){let _0x2ece98=!![];return function(_0x3f7333,_0x492aa4){const _0x15ee7a=_0x2ece98?function(){const _0x17dbbb=a96_0x224a;if(_0x492aa4){const _0x50d9a6=_0x492aa4[_0x17dbbb(0x1a7)](_0x3f7333,arguments);return _0x492aa4=null,_0x50d9a6;}}:function(){};return _0x2ece98=![],_0x15ee7a;};}()),a96_0x504364=a96_0x41ef4b(this,function(){const _0x6ef7bc=a96_0x224a;return a96_0x504364[_0x6ef7bc(0x198)]()[_0x6ef7bc(0x1b4)](_0x6ef7bc(0x189))[_0x6ef7bc(0x198)]()[_0x6ef7bc(0x1a2)](a96_0x504364)[_0x6ef7bc(0x1b4)](_0x6ef7bc(0x189));});a96_0x504364();function a96_0x28f4(){const _0x29c1d0=['../utils/xml','path','pop','start','148756ONnvtM','catch','parentComponents','toString','removeChild','isEmptyXml','remove\x20component\x20\x20%s\x20[%s]','Unknown\x20child\x20type\x20','Xml','removeAt','fileName','5033372IijNZT','../../internal/fs.internal','constructor','length','logger','removeParent','MAX_WRITES_PER_TICK','apply','exists','split','16XRsLEH','9yEABTL','makeDir','ExperienceBundle','-meta.xml','10458024mohazo','removeFile','log','components','886275MSwtSL','search','includes','17872490iNUCTo','../../../core','have\x20to\x20update\x20%d\x20files','keys','Logger','__esModule','remove\x20child\x20component\x20%s\x20[%s]','META_EXPERIENCE_BUNDLE','sourceDir','parse','removeDir','join','301465VtsSkP','type','3079769WVgfmj','(((.+)+)+)+$','META_EXTENSION','convertToString','MDApiRemover','102zTaTgF','default','isDir','../data/child-types'];a96_0x28f4=function(){return _0x29c1d0;};return a96_0x28f4();}function a96_0x224a(_0x1e5a8f,_0x34d43d){const _0x1f369e=a96_0x28f4();return a96_0x224a=function(_0x504364,_0x41ef4b){_0x504364=_0x504364-0x186;let _0x28f4a0=_0x1f369e[_0x504364];return _0x28f4a0;},a96_0x224a(_0x1e5a8f,_0x34d43d);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1112d3){return _0x1112d3&&_0x1112d3['__esModule']?_0x1112d3:{'default':_0x1112d3};};Object['defineProperty'](exports,a96_0x5f280b(0x1bb),{'value':!![]}),exports[a96_0x5f280b(0x18c)]=void 0x0;const fs_internal_1=require(a96_0x5f280b(0x1a1)),core_1=require(a96_0x5f280b(0x1b7)),xml_1=require(a96_0x5f280b(0x191)),child_types_1=__importDefault(require(a96_0x5f280b(0x190))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require(a96_0x5f280b(0x192)));class MDApiRemover{constructor(_0x43ca7c,_0x378fc0){const _0x2a31ad=a96_0x5f280b;this[_0x2a31ad(0x1b2)]=_0x43ca7c,this[_0x2a31ad(0x1be)]=_0x378fc0,this['META_EXTENSION']=_0x2a31ad(0x1ae),this[_0x2a31ad(0x1bd)]='site-meta.xml',this['MAX_WRITES_PER_TICK']=0x64,this[_0x2a31ad(0x1a4)]=new core_1[(_0x2a31ad(0x1ba))](MDApiRemover['name']),this['parentComponents']={};}async[a96_0x5f280b(0x1a5)](_0x2d4059){const _0x47f05f=a96_0x5f280b,_0xce1829=path_1['default'][_0x47f05f(0x1c1)](this[_0x47f05f(0x1be)],_0x2d4059[_0x47f05f(0x192)]),_0x2b7add=path_1[_0x47f05f(0x18e)][_0x47f05f(0x1c1)](this[_0x47f05f(0x1be)],''+_0x2d4059['path']+this[_0x47f05f(0x18a)]);this[_0x47f05f(0x197)][_0x2d4059[_0x47f05f(0x192)]]&&delete this[_0x47f05f(0x197)][_0x2d4059['path']];const _0xba0b62=await fs_internal_1['FS'][_0x47f05f(0x18f)](_0xce1829)[_0x47f05f(0x196)](()=>![]);if(_0xba0b62){this[_0x47f05f(0x1a4)][_0x47f05f(0x1b1)]('remove\x20component\x20directory\x20%s\x20[%s]',_0xce1829,_0x2d4059[_0x47f05f(0x187)]),await fs_internal_1['FS'][_0x47f05f(0x1c0)](_0xce1829);_0x2d4059[_0x47f05f(0x187)]===_0x47f05f(0x1ad)&&await fs_internal_1['FS'][_0x47f05f(0x1b0)](''+_0xce1829+this[_0x47f05f(0x1bd)])[_0x47f05f(0x196)](()=>void 0x0);return;}this['logger']['log'](_0x47f05f(0x19b),_0xce1829,_0x2d4059[_0x47f05f(0x187)]),await Promise['all']([fs_internal_1['FS'][_0x47f05f(0x1b0)](_0xce1829),fs_internal_1['FS'][_0x47f05f(0x1b0)](_0x2b7add)]);}async[a96_0x5f280b(0x199)](_0x3d3ac1){const _0xe87941=a96_0x5f280b,{fileName:_0x43c43f,type:_0x4be045,path:_0x385dc9}=_0x3d3ac1,_0x272b1a=child_types_map_1[_0xe87941(0x18e)][_0x4be045];if(!_0x272b1a)throw new Error(_0xe87941(0x19c)+_0x4be045);if(!this[_0xe87941(0x197)][_0x385dc9]){const _0x3fc2dd=path_1[_0xe87941(0x18e)][_0xe87941(0x1c1)](this[_0xe87941(0x1be)],_0x385dc9),_0x2cdab0=await fs_internal_1['FS']['exists'](_0x3fc2dd);if(!_0x2cdab0)return;const _0x1eb219=await fs_internal_1['FS']['readFile'](_0x3fc2dd);this[_0xe87941(0x197)][_0x385dc9]=await xml_1[_0xe87941(0x19d)][_0xe87941(0x1bf)](_0x1eb219);}const _0x5a5bb0=this[_0xe87941(0x197)][_0x385dc9],_0x17f364=_0x43c43f[_0xe87941(0x1a9)]('.')[_0xe87941(0x193)]();xml_1[_0xe87941(0x19d)][_0xe87941(0x19e)](_0x5a5bb0,_0x272b1a,_0x17f364||_0x43c43f),xml_1[_0xe87941(0x19d)][_0xe87941(0x19a)](_0x5a5bb0)?(this[_0xe87941(0x1a4)]['log']('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x3d3ac1['path'],_0x3d3ac1[_0xe87941(0x19f)]),await this[_0xe87941(0x1a5)](_0x3d3ac1),delete this['parentComponents'][_0x385dc9]):this[_0xe87941(0x197)][_0x385dc9]=_0x5a5bb0;}async[a96_0x5f280b(0x194)](){const _0x1be36=a96_0x5f280b;!await fs_internal_1['FS'][_0x1be36(0x1a8)](this[_0x1be36(0x1be)])&&await fs_internal_1['FS'][_0x1be36(0x1ac)](this[_0x1be36(0x1be)]);for(const _0x760203 of this[_0x1be36(0x1b2)]){!child_types_1[_0x1be36(0x18e)][_0x1be36(0x1b5)](_0x760203['type'])?(this['logger']['log']('remove\x20parent\x20component\x20%s\x20[%s]',_0x760203[_0x1be36(0x19f)],_0x760203[_0x1be36(0x187)]),await this[_0x1be36(0x1a5)](_0x760203)):(this[_0x1be36(0x1a4)][_0x1be36(0x1b1)](_0x1be36(0x1bc),_0x760203[_0x1be36(0x19f)],_0x760203[_0x1be36(0x187)]),await this[_0x1be36(0x199)](_0x760203));}const _0x10a871=Object[_0x1be36(0x1b9)](this[_0x1be36(0x197)]);this['logger'][_0x1be36(0x1b1)](_0x1be36(0x1b8),this[_0x1be36(0x1b2)]['length']);while(_0x10a871[_0x1be36(0x1a3)]){const _0x568d47=_0x10a871['splice'](0x0,this[_0x1be36(0x1a6)]);for(const _0x439bca of _0x568d47){await fs_internal_1['FS']['writeFile'](path_1[_0x1be36(0x18e)]['join'](this[_0x1be36(0x1be)],_0x439bca),xml_1[_0x1be36(0x19d)][_0x1be36(0x18b)](this[_0x1be36(0x197)][_0x439bca]));}}this[_0x1be36(0x197)]={};}}exports[a96_0x5f280b(0x18c)]=MDApiRemover;