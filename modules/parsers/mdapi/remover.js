const a97_0x38158d=a97_0x3f37;(function(_0x355a17,_0x43868e){const _0x5034a4=a97_0x3f37,_0xd594b5=_0x355a17();while(!![]){try{const _0x1fc6c5=parseInt(_0x5034a4(0x1c2))/0x1*(-parseInt(_0x5034a4(0x1ac))/0x2)+parseInt(_0x5034a4(0x19b))/0x3+-parseInt(_0x5034a4(0x1bb))/0x4*(-parseInt(_0x5034a4(0x1af))/0x5)+parseInt(_0x5034a4(0x1b0))/0x6+parseInt(_0x5034a4(0x1bd))/0x7+-parseInt(_0x5034a4(0x197))/0x8*(-parseInt(_0x5034a4(0x1b6))/0x9)+-parseInt(_0x5034a4(0x1d4))/0xa;if(_0x1fc6c5===_0x43868e)break;else _0xd594b5['push'](_0xd594b5['shift']());}catch(_0x544cc8){_0xd594b5['push'](_0xd594b5['shift']());}}}(a97_0x59b0,0x5ed3c));function a97_0x59b0(){const _0xb31353=['2083045TYrdiA','1837170oTEpLm','makeDir','site-meta.xml','includes','logger','-meta.xml','9lzcPHa','sourceDir','removeDir','components','remove\x20component\x20directory\x20%s\x20[%s]','4pPQzlb','MAX_WRITES_PER_TICK','4259479ssXWrC','path','../data/child-types-map','search','removeParent','117043ChjIHk','__esModule','remove\x20component\x20\x20%s\x20[%s]','readFile','join','splice','exists','start','MDApiRemover','catch','removeFile','removeChild','Logger','Xml','parentComponents','../utils/xml','__importDefault','ExperienceBundle','10886560tjolPf','1804144iAEeQy','META_EXPERIENCE_BUNDLE','(((.+)+)+)+$','../data/child-types','463005RxfjFS','length','defineProperty','isEmptyXml','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','fileName','META_EXTENSION','toString','remove\x20child\x20component\x20%s\x20[%s]','type','Unknown\x20child\x20type\x20','log','default','all','name','pop','remove\x20parent\x20component\x20%s\x20[%s]','4qLaLiK','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','../../../core'];a97_0x59b0=function(){return _0xb31353;};return a97_0x59b0();}const a97_0x16a1be=(function(){let _0x58d5df=!![];return function(_0x41a744,_0x4bb89c){const _0x59b258=_0x58d5df?function(){if(_0x4bb89c){const _0x199015=_0x4bb89c['apply'](_0x41a744,arguments);return _0x4bb89c=null,_0x199015;}}:function(){};return _0x58d5df=![],_0x59b258;};}()),a97_0x22c672=a97_0x16a1be(this,function(){const _0x206eee=a97_0x3f37;return a97_0x22c672['toString']()['search'](_0x206eee(0x199))[_0x206eee(0x1a2)]()['constructor'](a97_0x22c672)[_0x206eee(0x1c0)](_0x206eee(0x199));});a97_0x22c672();'use strict';var __importDefault=this&&this[a97_0x38158d(0x1d2)]||function(_0xd2f1e8){const _0x2cf3a0=a97_0x38158d;return _0xd2f1e8&&_0xd2f1e8[_0x2cf3a0(0x1c3)]?_0xd2f1e8:{'default':_0xd2f1e8};};Object[a97_0x38158d(0x19d)](exports,'__esModule',{'value':!![]}),exports[a97_0x38158d(0x1ca)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a97_0x38158d(0x1ae)),xml_1=require(a97_0x38158d(0x1d1)),child_types_1=__importDefault(require(a97_0x38158d(0x19a))),child_types_map_1=__importDefault(require(a97_0x38158d(0x1bf))),path_1=__importDefault(require(a97_0x38158d(0x1be)));class MDApiRemover{constructor(_0x4fca57,_0x574ff2){const _0x1b5bbb=a97_0x38158d;this[_0x1b5bbb(0x1b9)]=_0x4fca57,this['sourceDir']=_0x574ff2,this[_0x1b5bbb(0x1a1)]=_0x1b5bbb(0x1b5),this[_0x1b5bbb(0x198)]=_0x1b5bbb(0x1b2),this[_0x1b5bbb(0x1bc)]=0x64,this[_0x1b5bbb(0x1b4)]=new core_1[(_0x1b5bbb(0x1ce))](MDApiRemover[_0x1b5bbb(0x1a9)]),this[_0x1b5bbb(0x1d0)]={};}async[a97_0x38158d(0x1c1)](_0x58d4d8){const _0x38f62e=a97_0x38158d,_0x267715=path_1[_0x38f62e(0x1a7)][_0x38f62e(0x1c6)](this[_0x38f62e(0x1b7)],_0x58d4d8[_0x38f62e(0x1be)]),_0x36086e=path_1[_0x38f62e(0x1a7)]['join'](this[_0x38f62e(0x1b7)],''+_0x58d4d8['path']+this['META_EXTENSION']);this[_0x38f62e(0x1d0)][_0x58d4d8[_0x38f62e(0x1be)]]&&delete this[_0x38f62e(0x1d0)][_0x58d4d8[_0x38f62e(0x1be)]];const _0x45885b=await fs_internal_1['FS']['isDir'](_0x267715)[_0x38f62e(0x1cb)](()=>![]);if(_0x45885b){this[_0x38f62e(0x1b4)][_0x38f62e(0x1a6)](_0x38f62e(0x1ba),_0x267715,_0x58d4d8[_0x38f62e(0x1a4)]),await fs_internal_1['FS'][_0x38f62e(0x1b8)](_0x267715);_0x58d4d8['type']===_0x38f62e(0x1d3)?await fs_internal_1['FS'][_0x38f62e(0x1cc)](''+_0x267715+this['META_EXPERIENCE_BUNDLE'])[_0x38f62e(0x1cb)](()=>void 0x0):(this[_0x38f62e(0x1b4)][_0x38f62e(0x1a6)](_0x38f62e(0x19f),_0x267715,_0x58d4d8[_0x38f62e(0x1a4)]),await fs_internal_1['FS'][_0x38f62e(0x1cc)](''+_0x267715+this[_0x38f62e(0x1a1)])[_0x38f62e(0x1cb)](()=>void 0x0));return;}this[_0x38f62e(0x1b4)][_0x38f62e(0x1a6)](_0x38f62e(0x1c4),_0x267715,_0x58d4d8[_0x38f62e(0x1a4)]),await Promise[_0x38f62e(0x1a8)]([fs_internal_1['FS']['removeFile'](_0x267715),fs_internal_1['FS'][_0x38f62e(0x1cc)](_0x36086e)]);}async[a97_0x38158d(0x1cd)](_0xb95c40){const _0x129e99=a97_0x38158d,{fileName:_0xa43073,type:_0x39844c,path:_0xf74e9c}=_0xb95c40,_0xe4ec0d=child_types_map_1[_0x129e99(0x1a7)][_0x39844c];if(!_0xe4ec0d)throw new Error(_0x129e99(0x1a5)+_0x39844c);if(!this[_0x129e99(0x1d0)][_0xf74e9c]){const _0x36fde7=path_1[_0x129e99(0x1a7)]['join'](this['sourceDir'],_0xf74e9c),_0x17ca3b=await fs_internal_1['FS'][_0x129e99(0x1c8)](_0x36fde7);if(!_0x17ca3b)return;const _0xd85f51=await fs_internal_1['FS'][_0x129e99(0x1c5)](_0x36fde7);this['parentComponents'][_0xf74e9c]=await xml_1['Xml']['parse'](_0xd85f51);}const _0x27556b=this['parentComponents'][_0xf74e9c],_0x5e50fd=_0xa43073['split']('.')[_0x129e99(0x1aa)]();xml_1[_0x129e99(0x1cf)]['removeAt'](_0x27556b,_0xe4ec0d,_0x5e50fd||_0xa43073),xml_1['Xml'][_0x129e99(0x19e)](_0x27556b)?(this[_0x129e99(0x1b4)][_0x129e99(0x1a6)](_0x129e99(0x1ad),_0xb95c40[_0x129e99(0x1be)],_0xb95c40[_0x129e99(0x1a0)]),await this['removeParent'](_0xb95c40),delete this[_0x129e99(0x1d0)][_0xf74e9c]):this[_0x129e99(0x1d0)][_0xf74e9c]=_0x27556b;}async[a97_0x38158d(0x1c9)](){const _0xc7c50a=a97_0x38158d;!await fs_internal_1['FS'][_0xc7c50a(0x1c8)](this[_0xc7c50a(0x1b7)])&&await fs_internal_1['FS'][_0xc7c50a(0x1b1)](this[_0xc7c50a(0x1b7)]);for(const _0x470f77 of this[_0xc7c50a(0x1b9)]){!child_types_1[_0xc7c50a(0x1a7)][_0xc7c50a(0x1b3)](_0x470f77[_0xc7c50a(0x1a4)])?(this[_0xc7c50a(0x1b4)]['log'](_0xc7c50a(0x1ab),_0x470f77[_0xc7c50a(0x1a0)],_0x470f77[_0xc7c50a(0x1a4)]),await this['removeParent'](_0x470f77)):(this[_0xc7c50a(0x1b4)][_0xc7c50a(0x1a6)](_0xc7c50a(0x1a3),_0x470f77['fileName'],_0x470f77['type']),await this[_0xc7c50a(0x1cd)](_0x470f77));}const _0x530a17=Object['keys'](this[_0xc7c50a(0x1d0)]);this[_0xc7c50a(0x1b4)][_0xc7c50a(0x1a6)]('have\x20to\x20update\x20%d\x20files',this[_0xc7c50a(0x1b9)][_0xc7c50a(0x19c)]);while(_0x530a17['length']){const _0x3548a4=_0x530a17[_0xc7c50a(0x1c7)](0x0,this[_0xc7c50a(0x1bc)]);for(const _0x423d96 of _0x3548a4){await fs_internal_1['FS']['writeFile'](path_1['default'][_0xc7c50a(0x1c6)](this[_0xc7c50a(0x1b7)],_0x423d96),xml_1[_0xc7c50a(0x1cf)]['convertToString'](this['parentComponents'][_0x423d96]));}}this[_0xc7c50a(0x1d0)]={};}}function a97_0x3f37(_0x5de855,_0x41f537){const _0x233fab=a97_0x59b0();return a97_0x3f37=function(_0x22c672,_0x16a1be){_0x22c672=_0x22c672-0x197;let _0x59b02e=_0x233fab[_0x22c672];return _0x59b02e;},a97_0x3f37(_0x5de855,_0x41f537);}exports[a97_0x38158d(0x1ca)]=MDApiRemover;