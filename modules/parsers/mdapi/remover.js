const a97_0x3d2837=a97_0x570a;(function(_0x51fd7f,_0x4c6671){const _0x1d552e=a97_0x570a,_0x39166e=_0x51fd7f();while(!![]){try{const _0x5976df=-parseInt(_0x1d552e(0x167))/0x1*(parseInt(_0x1d552e(0x171))/0x2)+parseInt(_0x1d552e(0x168))/0x3*(parseInt(_0x1d552e(0x162))/0x4)+-parseInt(_0x1d552e(0x15d))/0x5+parseInt(_0x1d552e(0x174))/0x6+-parseInt(_0x1d552e(0x160))/0x7*(parseInt(_0x1d552e(0x180))/0x8)+-parseInt(_0x1d552e(0x189))/0x9*(parseInt(_0x1d552e(0x15b))/0xa)+parseInt(_0x1d552e(0x16c))/0xb*(parseInt(_0x1d552e(0x190))/0xc);if(_0x5976df===_0x4c6671)break;else _0x39166e['push'](_0x39166e['shift']());}catch(_0x3f5d95){_0x39166e['push'](_0x39166e['shift']());}}}(a97_0x33d4,0x1b229));function a97_0x570a(_0xd3366d,_0xcc78a4){const _0x4b0697=a97_0x33d4();return a97_0x570a=function(_0x685bd3,_0x56d291){_0x685bd3=_0x685bd3-0x152;let _0x33d4a9=_0x4b0697[_0x685bd3];return _0x33d4a9;},a97_0x570a(_0xd3366d,_0xcc78a4);}function a97_0x33d4(){const _0x2f734=['META_EXTENSION','path','-meta.xml','MAX_WRITES_PER_TICK','isEmptyXml','site-meta.xml','META_EXPERIENCE_BUNDLE','log','exists','removeChild','all','pop','name','966550EUeGZn','Unknown\x20child\x20type\x20','707380qOAzlc','../../internal/fs.internal','parse','91ewEiqp','../utils/xml','156dvfPPP','defineProperty','remove\x20component\x20\x20%s\x20[%s]','convertToString','remove\x20component\x20directory\x20%s\x20[%s]','9AfmhQT','6276ZPDdDJ','search','ExperienceBundle','removeFile','2016487LpWAZP','removeAt','readFile','makeDir','start','28348Sbbsdw','parentComponents','components','1155846yLgMuW','Xml','remove\x20parent\x20component\x20%s\x20[%s]','have\x20to\x20update\x20%d\x20files','catch','constructor','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','logger','(((.+)+)+)+$','../data/child-types','default','MDApiRemover','41456MLhUrU','splice','fileName','../../../core','split','remove\x20child\x20component\x20%s\x20[%s]','isDir','length','join','18vCPGFV','sourceDir','removeParent','type','toString','apply','../data/child-types-map','24xvgnOD','Logger'];a97_0x33d4=function(){return _0x2f734;};return a97_0x33d4();}const a97_0x56d291=(function(){let _0x20c585=!![];return function(_0x232001,_0x34bd75){const _0x310570=_0x20c585?function(){const _0x2e4921=a97_0x570a;if(_0x34bd75){const _0x395ce3=_0x34bd75[_0x2e4921(0x18e)](_0x232001,arguments);return _0x34bd75=null,_0x395ce3;}}:function(){};return _0x20c585=![],_0x310570;};}()),a97_0x685bd3=a97_0x56d291(this,function(){const _0x478011=a97_0x570a;return a97_0x685bd3[_0x478011(0x18d)]()[_0x478011(0x169)](_0x478011(0x17c))[_0x478011(0x18d)]()[_0x478011(0x179)](a97_0x685bd3)['search'](_0x478011(0x17c));});a97_0x685bd3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x38b7cd){return _0x38b7cd&&_0x38b7cd['__esModule']?_0x38b7cd:{'default':_0x38b7cd};};Object[a97_0x3d2837(0x163)](exports,'__esModule',{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a97_0x3d2837(0x15e)),core_1=require(a97_0x3d2837(0x183)),xml_1=require(a97_0x3d2837(0x161)),child_types_1=__importDefault(require(a97_0x3d2837(0x17d))),child_types_map_1=__importDefault(require(a97_0x3d2837(0x18f))),path_1=__importDefault(require(a97_0x3d2837(0x193)));class MDApiRemover{constructor(_0x1ecf46,_0xf47852){const _0x2e55c5=a97_0x3d2837;this[_0x2e55c5(0x173)]=_0x1ecf46,this[_0x2e55c5(0x18a)]=_0xf47852,this[_0x2e55c5(0x192)]=_0x2e55c5(0x194),this[_0x2e55c5(0x154)]=_0x2e55c5(0x153),this[_0x2e55c5(0x195)]=0x64,this[_0x2e55c5(0x17b)]=new core_1[(_0x2e55c5(0x191))](MDApiRemover[_0x2e55c5(0x15a)]),this[_0x2e55c5(0x172)]={};}async[a97_0x3d2837(0x18b)](_0x236917){const _0xbc29e2=a97_0x3d2837,_0x5a138f=path_1['default'][_0xbc29e2(0x188)](this[_0xbc29e2(0x18a)],_0x236917[_0xbc29e2(0x193)]),_0x18dd7a=path_1[_0xbc29e2(0x17e)][_0xbc29e2(0x188)](this[_0xbc29e2(0x18a)],''+_0x236917[_0xbc29e2(0x193)]+this[_0xbc29e2(0x192)]);this[_0xbc29e2(0x172)][_0x236917[_0xbc29e2(0x193)]]&&delete this[_0xbc29e2(0x172)][_0x236917[_0xbc29e2(0x193)]];const _0x123bf3=await fs_internal_1['FS'][_0xbc29e2(0x186)](_0x5a138f)[_0xbc29e2(0x178)](()=>![]);if(_0x123bf3){this[_0xbc29e2(0x17b)][_0xbc29e2(0x155)](_0xbc29e2(0x166),_0x5a138f,_0x236917['type']),await fs_internal_1['FS']['removeDir'](_0x5a138f);_0x236917[_0xbc29e2(0x18c)]===_0xbc29e2(0x16a)&&await fs_internal_1['FS']['removeFile'](''+_0x5a138f+this[_0xbc29e2(0x154)])[_0xbc29e2(0x178)](()=>void 0x0);return;}this[_0xbc29e2(0x17b)][_0xbc29e2(0x155)](_0xbc29e2(0x164),_0x5a138f,_0x236917[_0xbc29e2(0x18c)]),await Promise[_0xbc29e2(0x158)]([fs_internal_1['FS']['removeFile'](_0x5a138f),fs_internal_1['FS'][_0xbc29e2(0x16b)](_0x18dd7a)]);}async['removeChild'](_0x51d947){const _0x4b3abb=a97_0x3d2837,{fileName:_0x9daea8,type:_0x16aa9e,path:_0x552be6}=_0x51d947,_0x258069=child_types_map_1[_0x4b3abb(0x17e)][_0x16aa9e];if(!_0x258069)throw new Error(_0x4b3abb(0x15c)+_0x16aa9e);if(!this[_0x4b3abb(0x172)][_0x552be6]){const _0x10b9fd=path_1[_0x4b3abb(0x17e)][_0x4b3abb(0x188)](this[_0x4b3abb(0x18a)],_0x552be6),_0x112095=await fs_internal_1['FS'][_0x4b3abb(0x156)](_0x10b9fd);if(!_0x112095)return;const _0x5704fa=await fs_internal_1['FS'][_0x4b3abb(0x16e)](_0x10b9fd);this[_0x4b3abb(0x172)][_0x552be6]=await xml_1[_0x4b3abb(0x175)][_0x4b3abb(0x15f)](_0x5704fa);}const _0x5a039f=this['parentComponents'][_0x552be6],_0x3380aa=_0x9daea8[_0x4b3abb(0x184)]('.')[_0x4b3abb(0x159)]();xml_1['Xml'][_0x4b3abb(0x16d)](_0x5a039f,_0x258069,_0x3380aa||_0x9daea8),xml_1[_0x4b3abb(0x175)][_0x4b3abb(0x152)](_0x5a039f)?(this['logger'][_0x4b3abb(0x155)](_0x4b3abb(0x17a),_0x51d947[_0x4b3abb(0x193)],_0x51d947[_0x4b3abb(0x182)]),await this[_0x4b3abb(0x18b)](_0x51d947),delete this[_0x4b3abb(0x172)][_0x552be6]):this[_0x4b3abb(0x172)][_0x552be6]=_0x5a039f;}async[a97_0x3d2837(0x170)](){const _0x2aacd6=a97_0x3d2837;!await fs_internal_1['FS']['exists'](this[_0x2aacd6(0x18a)])&&await fs_internal_1['FS'][_0x2aacd6(0x16f)](this[_0x2aacd6(0x18a)]);for(const _0x5e0e8d of this[_0x2aacd6(0x173)]){!child_types_1['default']['includes'](_0x5e0e8d[_0x2aacd6(0x18c)])?(this[_0x2aacd6(0x17b)][_0x2aacd6(0x155)](_0x2aacd6(0x176),_0x5e0e8d[_0x2aacd6(0x182)],_0x5e0e8d[_0x2aacd6(0x18c)]),await this[_0x2aacd6(0x18b)](_0x5e0e8d)):(this['logger']['log'](_0x2aacd6(0x185),_0x5e0e8d[_0x2aacd6(0x182)],_0x5e0e8d[_0x2aacd6(0x18c)]),await this[_0x2aacd6(0x157)](_0x5e0e8d));}const _0x56f410=Object['keys'](this[_0x2aacd6(0x172)]);this[_0x2aacd6(0x17b)][_0x2aacd6(0x155)](_0x2aacd6(0x177),this['components'][_0x2aacd6(0x187)]);while(_0x56f410[_0x2aacd6(0x187)]){const _0x1b65d9=_0x56f410[_0x2aacd6(0x181)](0x0,this[_0x2aacd6(0x195)]);for(const _0x53c577 of _0x1b65d9){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x2aacd6(0x188)](this[_0x2aacd6(0x18a)],_0x53c577),xml_1[_0x2aacd6(0x175)][_0x2aacd6(0x165)](this['parentComponents'][_0x53c577]));}}this[_0x2aacd6(0x172)]={};}}exports[a97_0x3d2837(0x17f)]=MDApiRemover;