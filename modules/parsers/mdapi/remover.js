function a96_0x5352(){const _0x26fd71=['join','isDir','readFile','360075SFxzsv','type','removeChild','length','isEmptyXml','apply','split','20szMyue','-meta.xml','pop','MAX_WRITES_PER_TICK','__importDefault','logger','removeDir','remove\x20parent\x20component\x20%s\x20[%s]','makeDir','convertToString','remove\x20component\x20\x20%s\x20[%s]','have\x20to\x20update\x20%d\x20files','keys','META_EXTENSION','ExperienceBundle','path','61386cUIOvh','removeParent','308010rCPmUN','../data/child-types-map','../../../core','removeAt','META_EXPERIENCE_BUNDLE','(((.+)+)+)+$','../../internal/fs.internal','MDApiRemover','log','removeFile','861687YdneGy','exists','default','sourceDir','parse','site-meta.xml','__esModule','1032969BBfffF','remove\x20child\x20component\x20%s\x20[%s]','parentComponents','toString','56gPjSVg','includes','components','1850088dXjelO','catch','fileName','all','../utils/xml','Unknown\x20child\x20type\x20','search','1135716AxGWVc','24YHVeUR','Xml','../data/child-types'];a96_0x5352=function(){return _0x26fd71;};return a96_0x5352();}const a96_0x2e7b2d=a96_0x7bc2;(function(_0x2f2dcf,_0x27838c){const _0x180793=a96_0x7bc2,_0x26909f=_0x2f2dcf();while(!![]){try{const _0x197ead=-parseInt(_0x180793(0xf8))/0x1+parseInt(_0x180793(0x110))/0x2+-parseInt(_0x180793(0x117))/0x3+-parseInt(_0x180793(0x118))/0x4*(parseInt(_0x180793(0x11e))/0x5)+parseInt(_0x180793(0xf6))/0x6+parseInt(_0x180793(0x109))/0x7*(parseInt(_0x180793(0x10d))/0x8)+parseInt(_0x180793(0x102))/0x9*(-parseInt(_0x180793(0xe6))/0xa);if(_0x197ead===_0x27838c)break;else _0x26909f['push'](_0x26909f['shift']());}catch(_0x19c9a6){_0x26909f['push'](_0x26909f['shift']());}}}(a96_0x5352,0xa0aa6));const a96_0x5985b5=(function(){let _0x9e8c4d=!![];return function(_0x448707,_0x813248){const _0x2c7617=_0x9e8c4d?function(){const _0x29c963=a96_0x7bc2;if(_0x813248){const _0x338a09=_0x813248[_0x29c963(0xe4)](_0x448707,arguments);return _0x813248=null,_0x338a09;}}:function(){};return _0x9e8c4d=![],_0x2c7617;};}()),a96_0x42f35c=a96_0x5985b5(this,function(){const _0xd2e246=a96_0x7bc2;return a96_0x42f35c[_0xd2e246(0x10c)]()[_0xd2e246(0x116)]('(((.+)+)+)+$')['toString']()['constructor'](a96_0x42f35c)[_0xd2e246(0x116)](_0xd2e246(0xfd));});a96_0x42f35c();'use strict';function a96_0x7bc2(_0x4a394f,_0x25f207){const _0x555791=a96_0x5352();return a96_0x7bc2=function(_0x42f35c,_0x5985b5){_0x42f35c=_0x42f35c-0xe0;let _0x535245=_0x555791[_0x42f35c];return _0x535245;},a96_0x7bc2(_0x4a394f,_0x25f207);}var __importDefault=this&&this[a96_0x2e7b2d(0xea)]||function(_0x2a9c6f){return _0x2a9c6f&&_0x2a9c6f['__esModule']?_0x2a9c6f:{'default':_0x2a9c6f};};Object['defineProperty'](exports,a96_0x2e7b2d(0x108),{'value':!![]}),exports[a96_0x2e7b2d(0xff)]=void 0x0;const fs_internal_1=require(a96_0x2e7b2d(0xfe)),core_1=require(a96_0x2e7b2d(0xfa)),xml_1=require(a96_0x2e7b2d(0x114)),child_types_1=__importDefault(require(a96_0x2e7b2d(0x11a))),child_types_map_1=__importDefault(require(a96_0x2e7b2d(0xf9))),path_1=__importDefault(require(a96_0x2e7b2d(0xf5)));class MDApiRemover{constructor(_0x23e468,_0x2e6747){const _0xbaed85=a96_0x2e7b2d;this['components']=_0x23e468,this[_0xbaed85(0x105)]=_0x2e6747,this[_0xbaed85(0xf3)]=_0xbaed85(0xe7),this[_0xbaed85(0xfc)]=_0xbaed85(0x107),this[_0xbaed85(0xe9)]=0x64,this[_0xbaed85(0xeb)]=new core_1['Logger'](MDApiRemover['name']),this[_0xbaed85(0x10b)]={};}async['removeParent'](_0x1266f6){const _0x1de74e=a96_0x2e7b2d,_0x3bb85c=path_1[_0x1de74e(0x104)][_0x1de74e(0x11b)](this[_0x1de74e(0x105)],_0x1266f6[_0x1de74e(0xf5)]),_0x4d6634=path_1['default'][_0x1de74e(0x11b)](this['sourceDir'],''+_0x1266f6[_0x1de74e(0xf5)]+this[_0x1de74e(0xf3)]);this[_0x1de74e(0x10b)][_0x1266f6[_0x1de74e(0xf5)]]&&delete this[_0x1de74e(0x10b)][_0x1266f6[_0x1de74e(0xf5)]];const _0x5330e5=await fs_internal_1['FS'][_0x1de74e(0x11c)](_0x3bb85c)[_0x1de74e(0x111)](()=>![]);if(_0x5330e5){this[_0x1de74e(0xeb)][_0x1de74e(0x100)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x3bb85c,_0x1266f6[_0x1de74e(0xe0)]),await fs_internal_1['FS'][_0x1de74e(0xec)](_0x3bb85c);_0x1266f6[_0x1de74e(0xe0)]===_0x1de74e(0xf4)&&await fs_internal_1['FS']['removeFile'](''+_0x3bb85c+this[_0x1de74e(0xfc)])['catch'](()=>void 0x0);return;}this[_0x1de74e(0xeb)]['log'](_0x1de74e(0xf0),_0x3bb85c,_0x1266f6[_0x1de74e(0xe0)]),await Promise[_0x1de74e(0x113)]([fs_internal_1['FS'][_0x1de74e(0x101)](_0x3bb85c),fs_internal_1['FS'][_0x1de74e(0x101)](_0x4d6634)]);}async[a96_0x2e7b2d(0xe1)](_0x46527e){const _0x153431=a96_0x2e7b2d,{fileName:_0x18d22f,type:_0x422f45,path:_0x35d2a1}=_0x46527e,_0x3738e3=child_types_map_1[_0x153431(0x104)][_0x422f45];if(!_0x3738e3)throw new Error(_0x153431(0x115)+_0x422f45);if(!this[_0x153431(0x10b)][_0x35d2a1]){const _0x5128ba=path_1[_0x153431(0x104)][_0x153431(0x11b)](this[_0x153431(0x105)],_0x35d2a1),_0x2363e7=await fs_internal_1['FS'][_0x153431(0x103)](_0x5128ba);if(!_0x2363e7)return;const _0x4a66dc=await fs_internal_1['FS'][_0x153431(0x11d)](_0x5128ba);this[_0x153431(0x10b)][_0x35d2a1]=await xml_1[_0x153431(0x119)][_0x153431(0x106)](_0x4a66dc);}const _0x2b803f=this[_0x153431(0x10b)][_0x35d2a1],_0xa60f6a=_0x18d22f[_0x153431(0xe5)]('.')[_0x153431(0xe8)]();xml_1[_0x153431(0x119)][_0x153431(0xfb)](_0x2b803f,_0x3738e3,_0xa60f6a||_0x18d22f),xml_1['Xml'][_0x153431(0xe3)](_0x2b803f)?(this[_0x153431(0xeb)][_0x153431(0x100)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x46527e[_0x153431(0xf5)],_0x46527e[_0x153431(0x112)]),await this[_0x153431(0xf7)](_0x46527e),delete this[_0x153431(0x10b)][_0x35d2a1]):this[_0x153431(0x10b)][_0x35d2a1]=_0x2b803f;}async['start'](){const _0x1b106b=a96_0x2e7b2d;!await fs_internal_1['FS'][_0x1b106b(0x103)](this[_0x1b106b(0x105)])&&await fs_internal_1['FS'][_0x1b106b(0xee)](this['sourceDir']);for(const _0x3d944b of this[_0x1b106b(0x10f)]){!child_types_1[_0x1b106b(0x104)][_0x1b106b(0x10e)](_0x3d944b[_0x1b106b(0xe0)])?(this['logger'][_0x1b106b(0x100)](_0x1b106b(0xed),_0x3d944b['fileName'],_0x3d944b[_0x1b106b(0xe0)]),await this[_0x1b106b(0xf7)](_0x3d944b)):(this[_0x1b106b(0xeb)]['log'](_0x1b106b(0x10a),_0x3d944b[_0x1b106b(0x112)],_0x3d944b[_0x1b106b(0xe0)]),await this[_0x1b106b(0xe1)](_0x3d944b));}const _0x215999=Object[_0x1b106b(0xf2)](this[_0x1b106b(0x10b)]);this[_0x1b106b(0xeb)][_0x1b106b(0x100)](_0x1b106b(0xf1),this['components'][_0x1b106b(0xe2)]);while(_0x215999[_0x1b106b(0xe2)]){const _0x83dff9=_0x215999['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x4d7ca1 of _0x83dff9){await fs_internal_1['FS']['writeFile'](path_1[_0x1b106b(0x104)][_0x1b106b(0x11b)](this['sourceDir'],_0x4d7ca1),xml_1['Xml'][_0x1b106b(0xef)](this['parentComponents'][_0x4d7ca1]));}}this[_0x1b106b(0x10b)]={};}}exports[a96_0x2e7b2d(0xff)]=MDApiRemover;