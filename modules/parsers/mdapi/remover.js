const a97_0xf64986=a97_0xc8ae;(function(_0x2ea6fa,_0xc44838){const _0x1fdac1=a97_0xc8ae,_0x19eee1=_0x2ea6fa();while(!![]){try{const _0x394be0=-parseInt(_0x1fdac1(0xf7))/0x1+-parseInt(_0x1fdac1(0xf4))/0x2*(-parseInt(_0x1fdac1(0x124))/0x3)+parseInt(_0x1fdac1(0x100))/0x4*(parseInt(_0x1fdac1(0x10a))/0x5)+parseInt(_0x1fdac1(0x11b))/0x6+-parseInt(_0x1fdac1(0x125))/0x7+-parseInt(_0x1fdac1(0x112))/0x8*(-parseInt(_0x1fdac1(0x11e))/0x9)+-parseInt(_0x1fdac1(0xf6))/0xa;if(_0x394be0===_0xc44838)break;else _0x19eee1['push'](_0x19eee1['shift']());}catch(_0x9c444f){_0x19eee1['push'](_0x19eee1['shift']());}}}(a97_0x4b49,0x41998));const a97_0x22dedb=(function(){let _0x137944=!![];return function(_0x399bf9,_0xbbf2fa){const _0x4abb73=_0x137944?function(){const _0x2e995e=a97_0xc8ae;if(_0xbbf2fa){const _0x113d8e=_0xbbf2fa[_0x2e995e(0x104)](_0x399bf9,arguments);return _0xbbf2fa=null,_0x113d8e;}}:function(){};return _0x137944=![],_0x4abb73;};}()),a97_0x19354a=a97_0x22dedb(this,function(){const _0x3019af=a97_0xc8ae;return a97_0x19354a[_0x3019af(0xf8)]()[_0x3019af(0x110)](_0x3019af(0x10e))[_0x3019af(0xf8)]()[_0x3019af(0x114)](a97_0x19354a)['search'](_0x3019af(0x10e));});a97_0x19354a();function a97_0xc8ae(_0x2c73ba,_0x15fbba){const _0x1aeb1e=a97_0x4b49();return a97_0xc8ae=function(_0x19354a,_0x22dedb){_0x19354a=_0x19354a-0xeb;let _0x4b493e=_0x1aeb1e[_0x19354a];return _0x4b493e;},a97_0xc8ae(_0x2c73ba,_0x15fbba);}'use strict';var __importDefault=this&&this[a97_0xf64986(0xff)]||function(_0x35959d){return _0x35959d&&_0x35959d['__esModule']?_0x35959d:{'default':_0x35959d};};Object['defineProperty'](exports,a97_0xf64986(0xee),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a97_0xf64986(0x127)),core_1=require(a97_0xf64986(0xf3)),xml_1=require(a97_0xf64986(0x102)),child_types_1=__importDefault(require(a97_0xf64986(0x11a))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require('path'));function a97_0x4b49(){const _0x239c12=['makeDir','parentComponents','removeChild','site-meta.xml','log','__esModule','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','components','remove\x20component\x20\x20%s\x20[%s]','parse','../../../core','245606cAzPeK','removeAt','516890PxlzlD','141528RcJdga','toString','remove\x20component\x20directory\x20%s\x20[%s]','isEmptyXml','removeFile','type','exists','remove\x20parent\x20component\x20%s\x20[%s]','__importDefault','12120bgUYHf','META_EXTENSION','../utils/xml','fileName','apply','remove\x20child\x20component\x20%s\x20[%s]','catch','path','join','readFile','335IXscUO','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','MAX_WRITES_PER_TICK','META_EXPERIENCE_BUNDLE','(((.+)+)+)+$','-meta.xml','search','writeFile','2216888IOypKJ','isDir','constructor','sourceDir','includes','default','Unknown\x20child\x20type\x20','have\x20to\x20update\x20%d\x20files','../data/child-types','1246002BGEETY','pop','name','9mANtvI','Xml','logger','all','removeDir','split','6TvXqHL','3300367EaUfVr','removeParent','../../internal/fs.internal','start','ExperienceBundle'];a97_0x4b49=function(){return _0x239c12;};return a97_0x4b49();}class MDApiRemover{constructor(_0x2c63bf,_0x4ac1b7){const _0x20bd23=a97_0xf64986;this[_0x20bd23(0xf0)]=_0x2c63bf,this[_0x20bd23(0x115)]=_0x4ac1b7,this[_0x20bd23(0x101)]=_0x20bd23(0x10f),this[_0x20bd23(0x10d)]=_0x20bd23(0xec),this[_0x20bd23(0x10c)]=0x64,this[_0x20bd23(0x120)]=new core_1['Logger'](MDApiRemover[_0x20bd23(0x11d)]),this[_0x20bd23(0x12b)]={};}async[a97_0xf64986(0x126)](_0x272eca){const _0x1e0dd2=a97_0xf64986,_0x42d31d=path_1[_0x1e0dd2(0x117)][_0x1e0dd2(0x108)](this[_0x1e0dd2(0x115)],_0x272eca[_0x1e0dd2(0x107)]),_0x1edd89=path_1[_0x1e0dd2(0x117)][_0x1e0dd2(0x108)](this[_0x1e0dd2(0x115)],''+_0x272eca[_0x1e0dd2(0x107)]+this['META_EXTENSION']);this['parentComponents'][_0x272eca[_0x1e0dd2(0x107)]]&&delete this[_0x1e0dd2(0x12b)][_0x272eca[_0x1e0dd2(0x107)]];const _0x31d0b5=await fs_internal_1['FS'][_0x1e0dd2(0x113)](_0x42d31d)[_0x1e0dd2(0x106)](()=>![]);if(_0x31d0b5){this[_0x1e0dd2(0x120)][_0x1e0dd2(0xed)](_0x1e0dd2(0xf9),_0x42d31d,_0x272eca[_0x1e0dd2(0xfc)]),await fs_internal_1['FS'][_0x1e0dd2(0x122)](_0x42d31d);_0x272eca['type']===_0x1e0dd2(0x129)?await fs_internal_1['FS']['removeFile'](''+_0x42d31d+this[_0x1e0dd2(0x10d)])['catch'](()=>void 0x0):(this[_0x1e0dd2(0x120)]['log'](_0x1e0dd2(0x10b),_0x42d31d,_0x272eca['type']),await fs_internal_1['FS'][_0x1e0dd2(0xfb)](''+_0x42d31d+this[_0x1e0dd2(0x101)])['catch'](()=>void 0x0));return;}this[_0x1e0dd2(0x120)][_0x1e0dd2(0xed)](_0x1e0dd2(0xf1),_0x42d31d,_0x272eca[_0x1e0dd2(0xfc)]),await Promise[_0x1e0dd2(0x121)]([fs_internal_1['FS'][_0x1e0dd2(0xfb)](_0x42d31d),fs_internal_1['FS'][_0x1e0dd2(0xfb)](_0x1edd89)]);}async[a97_0xf64986(0xeb)](_0x182719){const _0x28bf41=a97_0xf64986,{fileName:_0x3f9186,type:_0x2c42d2,path:_0x1d6efb}=_0x182719,_0x14ae70=child_types_map_1[_0x28bf41(0x117)][_0x2c42d2];if(!_0x14ae70)throw new Error(_0x28bf41(0x118)+_0x2c42d2);if(!this['parentComponents'][_0x1d6efb]){const _0x300f3a=path_1[_0x28bf41(0x117)][_0x28bf41(0x108)](this['sourceDir'],_0x1d6efb),_0x54e4f3=await fs_internal_1['FS'][_0x28bf41(0xfd)](_0x300f3a);if(!_0x54e4f3)return;const _0x31d23b=await fs_internal_1['FS'][_0x28bf41(0x109)](_0x300f3a);this[_0x28bf41(0x12b)][_0x1d6efb]=await xml_1[_0x28bf41(0x11f)][_0x28bf41(0xf2)](_0x31d23b);}const _0x126010=this[_0x28bf41(0x12b)][_0x1d6efb],_0x43278a=_0x3f9186[_0x28bf41(0x123)]('.')[_0x28bf41(0x11c)]();xml_1[_0x28bf41(0x11f)][_0x28bf41(0xf5)](_0x126010,_0x14ae70,_0x43278a||_0x3f9186),xml_1[_0x28bf41(0x11f)][_0x28bf41(0xfa)](_0x126010)?(this[_0x28bf41(0x120)][_0x28bf41(0xed)](_0x28bf41(0xef),_0x182719['path'],_0x182719[_0x28bf41(0x103)]),await this[_0x28bf41(0x126)](_0x182719),delete this['parentComponents'][_0x1d6efb]):this[_0x28bf41(0x12b)][_0x1d6efb]=_0x126010;}async[a97_0xf64986(0x128)](){const _0x4afd98=a97_0xf64986;!await fs_internal_1['FS'][_0x4afd98(0xfd)](this['sourceDir'])&&await fs_internal_1['FS'][_0x4afd98(0x12a)](this[_0x4afd98(0x115)]);for(const _0x5db05a of this[_0x4afd98(0xf0)]){!child_types_1['default'][_0x4afd98(0x116)](_0x5db05a[_0x4afd98(0xfc)])?(this[_0x4afd98(0x120)][_0x4afd98(0xed)](_0x4afd98(0xfe),_0x5db05a[_0x4afd98(0x103)],_0x5db05a['type']),await this[_0x4afd98(0x126)](_0x5db05a)):(this[_0x4afd98(0x120)][_0x4afd98(0xed)](_0x4afd98(0x105),_0x5db05a['fileName'],_0x5db05a[_0x4afd98(0xfc)]),await this[_0x4afd98(0xeb)](_0x5db05a));}const _0x55693e=Object['keys'](this[_0x4afd98(0x12b)]);this[_0x4afd98(0x120)]['log'](_0x4afd98(0x119),this[_0x4afd98(0xf0)]['length']);while(_0x55693e['length']){const _0x3cea59=_0x55693e['splice'](0x0,this[_0x4afd98(0x10c)]);for(const _0x19993b of _0x3cea59){await fs_internal_1['FS'][_0x4afd98(0x111)](path_1['default'][_0x4afd98(0x108)](this['sourceDir'],_0x19993b),xml_1[_0x4afd98(0x11f)]['convertToString'](this['parentComponents'][_0x19993b]));}}this[_0x4afd98(0x12b)]={};}}exports['MDApiRemover']=MDApiRemover;