const a96_0x970882=a96_0x1e09;(function(_0x3c05fa,_0x347c61){const _0x7a43de=a96_0x1e09,_0x5b85f6=_0x3c05fa();while(!![]){try{const _0xf35294=parseInt(_0x7a43de(0x1d0))/0x1*(-parseInt(_0x7a43de(0x1a3))/0x2)+parseInt(_0x7a43de(0x1d1))/0x3*(parseInt(_0x7a43de(0x1e5))/0x4)+parseInt(_0x7a43de(0x1d3))/0x5*(-parseInt(_0x7a43de(0x1b7))/0x6)+parseInt(_0x7a43de(0x1de))/0x7*(-parseInt(_0x7a43de(0x1cc))/0x8)+-parseInt(_0x7a43de(0x1d2))/0x9*(parseInt(_0x7a43de(0x1cd))/0xa)+-parseInt(_0x7a43de(0x1bb))/0xb*(parseInt(_0x7a43de(0x1a6))/0xc)+parseInt(_0x7a43de(0x1a9))/0xd*(parseInt(_0x7a43de(0x1ca))/0xe);if(_0xf35294===_0x347c61)break;else _0x5b85f6['push'](_0x5b85f6['shift']());}catch(_0x2db26c){_0x5b85f6['push'](_0x5b85f6['shift']());}}}(a96_0xd352,0xa023f));const a96_0x207b20=(function(){let _0x4b3a05=!![];return function(_0x2f662e,_0x46407d){const _0x2d5f34=_0x4b3a05?function(){const _0x277f15=a96_0x1e09;if(_0x46407d){const _0x4f57c9=_0x46407d[_0x277f15(0x1b1)](_0x2f662e,arguments);return _0x46407d=null,_0x4f57c9;}}:function(){};return _0x4b3a05=![],_0x2d5f34;};}()),a96_0x406338=a96_0x207b20(this,function(){const _0x371b58=a96_0x1e09;return a96_0x406338[_0x371b58(0x1c8)]()[_0x371b58(0x1e6)]('(((.+)+)+)+$')[_0x371b58(0x1c8)]()[_0x371b58(0x1ad)](a96_0x406338)[_0x371b58(0x1e6)](_0x371b58(0x1d8));});a96_0x406338();'use strict';function a96_0x1e09(_0x2ba9a6,_0x25e89c){const _0x5a9ace=a96_0xd352();return a96_0x1e09=function(_0x406338,_0x207b20){_0x406338=_0x406338-0x1a1;let _0xd3525a=_0x5a9ace[_0x406338];return _0xd3525a;},a96_0x1e09(_0x2ba9a6,_0x25e89c);}var __importDefault=this&&this[a96_0x970882(0x1b6)]||function(_0x41d589){const _0x1f3086=a96_0x970882;return _0x41d589&&_0x41d589[_0x1f3086(0x1b3)]?_0x41d589:{'default':_0x41d589};};Object['defineProperty'](exports,a96_0x970882(0x1b3),{'value':!![]}),exports[a96_0x970882(0x1a2)]=void 0x0;const fs_internal_1=require(a96_0x970882(0x1dd)),core_1=require(a96_0x970882(0x1bf)),xml_1=require(a96_0x970882(0x1dc)),child_types_1=__importDefault(require(a96_0x970882(0x1bd))),child_types_map_1=__importDefault(require(a96_0x970882(0x1b0))),path_1=__importDefault(require(a96_0x970882(0x1d6)));class MDApiRemover{constructor(_0x553d08,_0x4816b2){const _0x516600=a96_0x970882;this[_0x516600(0x1c2)]=_0x553d08,this[_0x516600(0x1ab)]=_0x4816b2,this[_0x516600(0x1a8)]=_0x516600(0x1a7),this['META_EXPERIENCE_BUNDLE']=_0x516600(0x1b8),this[_0x516600(0x1db)]=0x64,this[_0x516600(0x1a5)]=new core_1[(_0x516600(0x1a4))](MDApiRemover[_0x516600(0x1ce)]),this[_0x516600(0x1c3)]={};}async['removeParent'](_0x2f6156){const _0x1e8855=a96_0x970882,_0x13f527=path_1[_0x1e8855(0x1a1)][_0x1e8855(0x1af)](this[_0x1e8855(0x1ab)],_0x2f6156[_0x1e8855(0x1d6)]),_0x2ff273=path_1[_0x1e8855(0x1a1)][_0x1e8855(0x1af)](this[_0x1e8855(0x1ab)],''+_0x2f6156[_0x1e8855(0x1d6)]+this[_0x1e8855(0x1a8)]);this[_0x1e8855(0x1c3)][_0x2f6156[_0x1e8855(0x1d6)]]&&delete this[_0x1e8855(0x1c3)][_0x2f6156[_0x1e8855(0x1d6)]];const _0x34a7c5=await fs_internal_1['FS'][_0x1e8855(0x1c7)](_0x13f527)[_0x1e8855(0x1d9)](()=>![]);if(_0x34a7c5){this['logger']['log']('remove\x20component\x20directory\x20%s\x20[%s]',_0x13f527,_0x2f6156[_0x1e8855(0x1e4)]),await fs_internal_1['FS'][_0x1e8855(0x1b4)](_0x13f527);_0x2f6156[_0x1e8855(0x1e4)]===_0x1e8855(0x1da)&&await fs_internal_1['FS']['removeFile'](''+_0x13f527+this[_0x1e8855(0x1ae)])[_0x1e8855(0x1d9)](()=>void 0x0);return;}this[_0x1e8855(0x1a5)][_0x1e8855(0x1bc)]('remove\x20component\x20\x20%s\x20[%s]',_0x13f527,_0x2f6156[_0x1e8855(0x1e4)]),await Promise[_0x1e8855(0x1be)]([fs_internal_1['FS'][_0x1e8855(0x1cb)](_0x13f527),fs_internal_1['FS'][_0x1e8855(0x1cb)](_0x2ff273)]);}async['removeChild'](_0x84524e){const _0x3d2d4d=a96_0x970882,{fileName:_0x52bdd2,type:_0x51ce63,path:_0x550357}=_0x84524e,_0x4c272f=child_types_map_1[_0x3d2d4d(0x1a1)][_0x51ce63];if(!_0x4c272f)throw new Error(_0x3d2d4d(0x1d4)+_0x51ce63);if(!this[_0x3d2d4d(0x1c3)][_0x550357]){const _0x29d64e=path_1['default']['join'](this['sourceDir'],_0x550357),_0x5947a9=await fs_internal_1['FS'][_0x3d2d4d(0x1b9)](_0x29d64e);if(!_0x5947a9)return;const _0x5a318c=await fs_internal_1['FS']['readFile'](_0x29d64e);this[_0x3d2d4d(0x1c3)][_0x550357]=await xml_1['Xml'][_0x3d2d4d(0x1e0)](_0x5a318c);}const _0x2446cf=this['parentComponents'][_0x550357],_0x2ff6c2=_0x52bdd2[_0x3d2d4d(0x1c5)]('.')[_0x3d2d4d(0x1c6)]();xml_1[_0x3d2d4d(0x1e1)][_0x3d2d4d(0x1d7)](_0x2446cf,_0x4c272f,_0x2ff6c2||_0x52bdd2),xml_1[_0x3d2d4d(0x1e1)][_0x3d2d4d(0x1e3)](_0x2446cf)?(this[_0x3d2d4d(0x1a5)][_0x3d2d4d(0x1bc)](_0x3d2d4d(0x1cf),_0x84524e['path'],_0x84524e[_0x3d2d4d(0x1b5)]),await this['removeParent'](_0x84524e),delete this[_0x3d2d4d(0x1c3)][_0x550357]):this[_0x3d2d4d(0x1c3)][_0x550357]=_0x2446cf;}async[a96_0x970882(0x1e2)](){const _0x297a15=a96_0x970882;!await fs_internal_1['FS'][_0x297a15(0x1b9)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x297a15(0x1ab)]);for(const _0xa17417 of this[_0x297a15(0x1c2)]){!child_types_1[_0x297a15(0x1a1)][_0x297a15(0x1ba)](_0xa17417[_0x297a15(0x1e4)])?(this['logger'][_0x297a15(0x1bc)](_0x297a15(0x1df),_0xa17417['fileName'],_0xa17417['type']),await this[_0x297a15(0x1d5)](_0xa17417)):(this[_0x297a15(0x1a5)][_0x297a15(0x1bc)](_0x297a15(0x1aa),_0xa17417[_0x297a15(0x1b5)],_0xa17417[_0x297a15(0x1e4)]),await this[_0x297a15(0x1c9)](_0xa17417));}const _0xe6a7b7=Object[_0x297a15(0x1c4)](this[_0x297a15(0x1c3)]);this[_0x297a15(0x1a5)]['log'](_0x297a15(0x1ac),this['components'][_0x297a15(0x1b2)]);while(_0xe6a7b7[_0x297a15(0x1b2)]){const _0x162ac4=_0xe6a7b7['splice'](0x0,this[_0x297a15(0x1db)]);for(const _0x41b857 of _0x162ac4){await fs_internal_1['FS'][_0x297a15(0x1c0)](path_1['default'][_0x297a15(0x1af)](this[_0x297a15(0x1ab)],_0x41b857),xml_1[_0x297a15(0x1e1)][_0x297a15(0x1c1)](this[_0x297a15(0x1c3)][_0x41b857]));}}this[_0x297a15(0x1c3)]={};}}function a96_0xd352(){const _0x3fe746=['remove\x20child\x20component\x20%s\x20[%s]','sourceDir','have\x20to\x20update\x20%d\x20files','constructor','META_EXPERIENCE_BUNDLE','join','../data/child-types-map','apply','length','__esModule','removeDir','fileName','__importDefault','114054sBRBcw','site-meta.xml','exists','includes','227117uWctNS','log','../data/child-types','all','../../../core','writeFile','convertToString','components','parentComponents','keys','split','pop','isDir','toString','removeChild','6524VbjEHr','removeFile','431336kuDtPu','30mlxQxb','name','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','1pfjTrE','3tWfoGe','3328380UnSOyN','125QzZSBR','Unknown\x20child\x20type\x20','removeParent','path','removeAt','(((.+)+)+)+$','catch','ExperienceBundle','MAX_WRITES_PER_TICK','../utils/xml','../../internal/fs.internal','161XGcqRJ','remove\x20parent\x20component\x20%s\x20[%s]','parse','Xml','start','isEmptyXml','type','1592476EdmvpY','search','default','MDApiRemover','581934REswDN','Logger','logger','180KxwYaN','-meta.xml','META_EXTENSION','102752LEPPMZ'];a96_0xd352=function(){return _0x3fe746;};return a96_0xd352();}exports['MDApiRemover']=MDApiRemover;