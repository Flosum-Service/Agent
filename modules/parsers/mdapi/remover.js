const a97_0x9aade=a97_0x1e94;(function(_0x3711c7,_0x427a38){const _0x400d6d=a97_0x1e94,_0x263fdd=_0x3711c7();while(!![]){try{const _0x412f11=parseInt(_0x400d6d(0x213))/0x1+parseInt(_0x400d6d(0x21a))/0x2*(parseInt(_0x400d6d(0x20d))/0x3)+parseInt(_0x400d6d(0x1ed))/0x4+parseInt(_0x400d6d(0x20b))/0x5+parseInt(_0x400d6d(0x221))/0x6*(parseInt(_0x400d6d(0x226))/0x7)+-parseInt(_0x400d6d(0x20c))/0x8+-parseInt(_0x400d6d(0x1fb))/0x9;if(_0x412f11===_0x427a38)break;else _0x263fdd['push'](_0x263fdd['shift']());}catch(_0x12058d){_0x263fdd['push'](_0x263fdd['shift']());}}}(a97_0x4251,0x1ba5c));const a97_0x1b3696=(function(){let _0x46de77=!![];return function(_0x4cb530,_0x104c52){const _0x3f9644=_0x46de77?function(){const _0x4b81f7=a97_0x1e94;if(_0x104c52){const _0x17f664=_0x104c52[_0x4b81f7(0x212)](_0x4cb530,arguments);return _0x104c52=null,_0x17f664;}}:function(){};return _0x46de77=![],_0x3f9644;};}()),a97_0x507423=a97_0x1b3696(this,function(){const _0x24c631=a97_0x1e94;return a97_0x507423[_0x24c631(0x224)]()[_0x24c631(0x1f0)]('(((.+)+)+)+$')[_0x24c631(0x224)]()[_0x24c631(0x219)](a97_0x507423)[_0x24c631(0x1f0)](_0x24c631(0x1fd));});a97_0x507423();'use strict';function a97_0x4251(){const _0x402cd6=['(((.+)+)+)+$','join','path','pop','defineProperty','split','../../internal/fs.internal','components','have\x20to\x20update\x20%d\x20files','META_EXPERIENCE_BUNDLE','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','MAX_WRITES_PER_TICK','exists','log','877600Bqvoth','17304wbcbys','9906mQIrBd','start','length','removeAt','MDApiRemover','apply','196245Gqziad','sourceDir','all','makeDir','isDir','type','constructor','28nUPdzn','includes','catch','convertToString','../data/child-types','site-meta.xml','../../../core','104466kLRZBl','Unknown\x20child\x20type\x20','isEmptyXml','toString','removeDir','21vYGzwD','remove\x20child\x20component\x20%s\x20[%s]','../data/child-types-map','default','../utils/xml','logger','403980ojAnJN','removeFile','removeParent','search','fileName','META_EXTENSION','writeFile','parentComponents','__esModule','readFile','__importDefault','removeChild','keys','Xml','4102326EJuKEs','ExperienceBundle'];a97_0x4251=function(){return _0x402cd6;};return a97_0x4251();}function a97_0x1e94(_0x519adf,_0x4f6fc2){const _0x44d650=a97_0x4251();return a97_0x1e94=function(_0x507423,_0x1b3696){_0x507423=_0x507423-0x1ea;let _0x42516c=_0x44d650[_0x507423];return _0x42516c;},a97_0x1e94(_0x519adf,_0x4f6fc2);}var __importDefault=this&&this[a97_0x9aade(0x1f7)]||function(_0x1b7eec){return _0x1b7eec&&_0x1b7eec['__esModule']?_0x1b7eec:{'default':_0x1b7eec};};Object[a97_0x9aade(0x201)](exports,a97_0x9aade(0x1f5),{'value':!![]}),exports[a97_0x9aade(0x211)]=void 0x0;const fs_internal_1=require(a97_0x9aade(0x203)),core_1=require(a97_0x9aade(0x220)),xml_1=require(a97_0x9aade(0x1eb)),child_types_1=__importDefault(require(a97_0x9aade(0x21e))),child_types_map_1=__importDefault(require(a97_0x9aade(0x228))),path_1=__importDefault(require(a97_0x9aade(0x1ff)));class MDApiRemover{constructor(_0x34742a,_0x5e157e){const _0x313646=a97_0x9aade;this[_0x313646(0x204)]=_0x34742a,this[_0x313646(0x214)]=_0x5e157e,this['META_EXTENSION']='-meta.xml',this[_0x313646(0x206)]=_0x313646(0x21f),this[_0x313646(0x208)]=0x64,this[_0x313646(0x1ec)]=new core_1['Logger'](MDApiRemover['name']),this['parentComponents']={};}async[a97_0x9aade(0x1ef)](_0xbdd624){const _0x24b95e=a97_0x9aade,_0x2bb584=path_1[_0x24b95e(0x1ea)][_0x24b95e(0x1fe)](this[_0x24b95e(0x214)],_0xbdd624[_0x24b95e(0x1ff)]),_0x52b802=path_1[_0x24b95e(0x1ea)]['join'](this[_0x24b95e(0x214)],''+_0xbdd624[_0x24b95e(0x1ff)]+this[_0x24b95e(0x1f2)]);this[_0x24b95e(0x1f4)][_0xbdd624[_0x24b95e(0x1ff)]]&&delete this[_0x24b95e(0x1f4)][_0xbdd624['path']];const _0x29193e=await fs_internal_1['FS'][_0x24b95e(0x217)](_0x2bb584)[_0x24b95e(0x21c)](()=>![]);if(_0x29193e){this[_0x24b95e(0x1ec)][_0x24b95e(0x20a)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x2bb584,_0xbdd624['type']),await fs_internal_1['FS'][_0x24b95e(0x225)](_0x2bb584);_0xbdd624['type']===_0x24b95e(0x1fc)&&await fs_internal_1['FS'][_0x24b95e(0x1ee)](''+_0x2bb584+this[_0x24b95e(0x206)])['catch'](()=>void 0x0);return;}this[_0x24b95e(0x1ec)][_0x24b95e(0x20a)]('remove\x20component\x20\x20%s\x20[%s]',_0x2bb584,_0xbdd624['type']),await Promise[_0x24b95e(0x215)]([fs_internal_1['FS']['removeFile'](_0x2bb584),fs_internal_1['FS'][_0x24b95e(0x1ee)](_0x52b802)]);}async[a97_0x9aade(0x1f8)](_0x3578f7){const _0x2125d7=a97_0x9aade,{fileName:_0x2a737a,type:_0x298b3b,path:_0x5e572a}=_0x3578f7,_0x407f94=child_types_map_1[_0x2125d7(0x1ea)][_0x298b3b];if(!_0x407f94)throw new Error(_0x2125d7(0x222)+_0x298b3b);if(!this[_0x2125d7(0x1f4)][_0x5e572a]){const _0x3269bc=path_1[_0x2125d7(0x1ea)][_0x2125d7(0x1fe)](this[_0x2125d7(0x214)],_0x5e572a),_0xde8e86=await fs_internal_1['FS'][_0x2125d7(0x209)](_0x3269bc);if(!_0xde8e86)return;const _0x1a8022=await fs_internal_1['FS'][_0x2125d7(0x1f6)](_0x3269bc);this[_0x2125d7(0x1f4)][_0x5e572a]=await xml_1[_0x2125d7(0x1fa)]['parse'](_0x1a8022);}const _0x367f71=this[_0x2125d7(0x1f4)][_0x5e572a],_0x403d74=_0x2a737a[_0x2125d7(0x202)]('.')[_0x2125d7(0x200)]();xml_1[_0x2125d7(0x1fa)][_0x2125d7(0x210)](_0x367f71,_0x407f94,_0x403d74||_0x2a737a),xml_1['Xml'][_0x2125d7(0x223)](_0x367f71)?(this[_0x2125d7(0x1ec)][_0x2125d7(0x20a)](_0x2125d7(0x207),_0x3578f7['path'],_0x3578f7[_0x2125d7(0x1f1)]),await this[_0x2125d7(0x1ef)](_0x3578f7),delete this[_0x2125d7(0x1f4)][_0x5e572a]):this[_0x2125d7(0x1f4)][_0x5e572a]=_0x367f71;}async[a97_0x9aade(0x20e)](){const _0x7cb378=a97_0x9aade;!await fs_internal_1['FS'][_0x7cb378(0x209)](this[_0x7cb378(0x214)])&&await fs_internal_1['FS'][_0x7cb378(0x216)](this[_0x7cb378(0x214)]);for(const _0x5c41be of this[_0x7cb378(0x204)]){!child_types_1[_0x7cb378(0x1ea)][_0x7cb378(0x21b)](_0x5c41be[_0x7cb378(0x218)])?(this[_0x7cb378(0x1ec)][_0x7cb378(0x20a)]('remove\x20parent\x20component\x20%s\x20[%s]',_0x5c41be[_0x7cb378(0x1f1)],_0x5c41be['type']),await this[_0x7cb378(0x1ef)](_0x5c41be)):(this[_0x7cb378(0x1ec)][_0x7cb378(0x20a)](_0x7cb378(0x227),_0x5c41be['fileName'],_0x5c41be[_0x7cb378(0x218)]),await this[_0x7cb378(0x1f8)](_0x5c41be));}const _0x25aac6=Object[_0x7cb378(0x1f9)](this[_0x7cb378(0x1f4)]);this['logger'][_0x7cb378(0x20a)](_0x7cb378(0x205),this['components'][_0x7cb378(0x20f)]);while(_0x25aac6[_0x7cb378(0x20f)]){const _0x5e8e17=_0x25aac6['splice'](0x0,this[_0x7cb378(0x208)]);for(const _0x190c99 of _0x5e8e17){await fs_internal_1['FS'][_0x7cb378(0x1f3)](path_1[_0x7cb378(0x1ea)][_0x7cb378(0x1fe)](this[_0x7cb378(0x214)],_0x190c99),xml_1['Xml'][_0x7cb378(0x21d)](this['parentComponents'][_0x190c99]));}}this[_0x7cb378(0x1f4)]={};}}exports[a97_0x9aade(0x211)]=MDApiRemover;