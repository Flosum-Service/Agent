const a97_0x587945=a97_0x5f20;(function(_0x3a119e,_0x34e26e){const _0x3dce07=a97_0x5f20,_0x6668d7=_0x3a119e();while(!![]){try{const _0x11d3bc=parseInt(_0x3dce07(0x7a))/0x1*(-parseInt(_0x3dce07(0x9d))/0x2)+-parseInt(_0x3dce07(0x67))/0x3+parseInt(_0x3dce07(0x65))/0x4*(parseInt(_0x3dce07(0x9c))/0x5)+-parseInt(_0x3dce07(0x8c))/0x6+parseInt(_0x3dce07(0x7f))/0x7*(parseInt(_0x3dce07(0x68))/0x8)+parseInt(_0x3dce07(0x85))/0x9+parseInt(_0x3dce07(0x99))/0xa*(parseInt(_0x3dce07(0x95))/0xb);if(_0x11d3bc===_0x34e26e)break;else _0x6668d7['push'](_0x6668d7['shift']());}catch(_0x52af46){_0x6668d7['push'](_0x6668d7['shift']());}}}(a97_0x59c5,0x5da8c));const a97_0x3b6c54=(function(){let _0x4293e4=!![];return function(_0x379593,_0x19f8d3){const _0x1257ab=_0x4293e4?function(){const _0x24e03e=a97_0x5f20;if(_0x19f8d3){const _0x42aee3=_0x19f8d3[_0x24e03e(0xa2)](_0x379593,arguments);return _0x19f8d3=null,_0x42aee3;}}:function(){};return _0x4293e4=![],_0x1257ab;};}()),a97_0xd3eb63=a97_0x3b6c54(this,function(){const _0x33c33b=a97_0x5f20;return a97_0xd3eb63[_0x33c33b(0x7c)]()[_0x33c33b(0xa3)](_0x33c33b(0x78))[_0x33c33b(0x7c)]()['constructor'](a97_0xd3eb63)[_0x33c33b(0xa3)]('(((.+)+)+)+$');});function a97_0x5f20(_0x1d451b,_0xcdab4e){const _0x5b98f8=a97_0x59c5();return a97_0x5f20=function(_0xd3eb63,_0x3b6c54){_0xd3eb63=_0xd3eb63-0x65;let _0x59c5b4=_0x5b98f8[_0xd3eb63];return _0x59c5b4;},a97_0x5f20(_0x1d451b,_0xcdab4e);}a97_0xd3eb63();'use strict';var __importDefault=this&&this[a97_0x587945(0x6b)]||function(_0x40e804){return _0x40e804&&_0x40e804['__esModule']?_0x40e804:{'default':_0x40e804};};Object[a97_0x587945(0x6a)](exports,'__esModule',{'value':!![]}),exports[a97_0x587945(0x6c)]=void 0x0;const fs_internal_1=require(a97_0x587945(0x69)),core_1=require(a97_0x587945(0x9f)),xml_1=require(a97_0x587945(0x89)),child_types_1=__importDefault(require(a97_0x587945(0x7d))),child_types_map_1=__importDefault(require(a97_0x587945(0x6f))),path_1=__importDefault(require(a97_0x587945(0x9e)));class MDApiRemover{constructor(_0x5a84a9,_0x5e9444){const _0x38d20c=a97_0x587945;this['components']=_0x5a84a9,this[_0x38d20c(0x70)]=_0x5e9444,this[_0x38d20c(0x8a)]='-meta.xml',this[_0x38d20c(0x97)]='site-meta.xml',this['MAX_WRITES_PER_TICK']=0x64,this[_0x38d20c(0x92)]=new core_1[(_0x38d20c(0x8d))](MDApiRemover[_0x38d20c(0x6d)]),this[_0x38d20c(0x79)]={};}async[a97_0x587945(0x76)](_0x37cf67){const _0x3b7e9a=a97_0x587945,_0x28f786=path_1['default']['join'](this[_0x3b7e9a(0x70)],_0x37cf67[_0x3b7e9a(0x9e)]),_0x13919f=path_1[_0x3b7e9a(0x75)][_0x3b7e9a(0x84)](this[_0x3b7e9a(0x70)],''+_0x37cf67[_0x3b7e9a(0x9e)]+this[_0x3b7e9a(0x8a)]);this[_0x3b7e9a(0x79)][_0x37cf67[_0x3b7e9a(0x9e)]]&&delete this[_0x3b7e9a(0x79)][_0x37cf67[_0x3b7e9a(0x9e)]];const _0x454dfd=await fs_internal_1['FS'][_0x3b7e9a(0x9b)](_0x28f786)[_0x3b7e9a(0x93)](()=>![]);if(_0x454dfd){this['logger'][_0x3b7e9a(0x74)](_0x3b7e9a(0x8f),_0x28f786,_0x37cf67['type']),await fs_internal_1['FS']['removeDir'](_0x28f786);_0x37cf67['type']==='ExperienceBundle'?await fs_internal_1['FS'][_0x3b7e9a(0x94)](''+_0x28f786+this['META_EXPERIENCE_BUNDLE'])[_0x3b7e9a(0x93)](()=>void 0x0):(this['logger']['log'](_0x3b7e9a(0x73),_0x28f786,_0x37cf67[_0x3b7e9a(0x90)]),await fs_internal_1['FS'][_0x3b7e9a(0x94)](''+_0x28f786+this[_0x3b7e9a(0x8a)])[_0x3b7e9a(0x93)](()=>void 0x0));return;}this['logger'][_0x3b7e9a(0x74)](_0x3b7e9a(0x7e),_0x28f786,_0x37cf67[_0x3b7e9a(0x90)]),await Promise['all']([fs_internal_1['FS'][_0x3b7e9a(0x94)](_0x28f786),fs_internal_1['FS'][_0x3b7e9a(0x94)](_0x13919f)]);}async['removeChild'](_0x3803eb){const _0x339484=a97_0x587945,{fileName:_0x2183f4,type:_0xbc9b66,path:_0x2ea605}=_0x3803eb,_0x412d9c=child_types_map_1[_0x339484(0x75)][_0xbc9b66];if(!_0x412d9c)throw new Error('Unknown\x20child\x20type\x20'+_0xbc9b66);if(!this['parentComponents'][_0x2ea605]){const _0x157eb2=path_1['default'][_0x339484(0x84)](this[_0x339484(0x70)],_0x2ea605),_0x455490=await fs_internal_1['FS'][_0x339484(0x6e)](_0x157eb2);if(!_0x455490)return;const _0x427d68=await fs_internal_1['FS'][_0x339484(0x8b)](_0x157eb2);this[_0x339484(0x79)][_0x2ea605]=await xml_1[_0x339484(0x86)][_0x339484(0x9a)](_0x427d68);}const _0x2e5285=this[_0x339484(0x79)][_0x2ea605],_0x11f931=_0x2183f4[_0x339484(0x72)]('.')[_0x339484(0x71)]();xml_1[_0x339484(0x86)]['removeAt'](_0x2e5285,_0x412d9c,_0x11f931||_0x2183f4),xml_1[_0x339484(0x86)]['isEmptyXml'](_0x2e5285)?(this['logger'][_0x339484(0x74)](_0x339484(0x88),_0x3803eb[_0x339484(0x9e)],_0x3803eb[_0x339484(0x96)]),await this[_0x339484(0x76)](_0x3803eb),delete this['parentComponents'][_0x2ea605]):this[_0x339484(0x79)][_0x2ea605]=_0x2e5285;}async[a97_0x587945(0x91)](){const _0x3d6cad=a97_0x587945;!await fs_internal_1['FS'][_0x3d6cad(0x6e)](this[_0x3d6cad(0x70)])&&await fs_internal_1['FS'][_0x3d6cad(0x83)](this[_0x3d6cad(0x70)]);for(const _0x2b285e of this[_0x3d6cad(0xa4)]){!child_types_1[_0x3d6cad(0x75)][_0x3d6cad(0x7b)](_0x2b285e[_0x3d6cad(0x90)])?(this['logger'][_0x3d6cad(0x74)](_0x3d6cad(0x81),_0x2b285e[_0x3d6cad(0x96)],_0x2b285e[_0x3d6cad(0x90)]),await this[_0x3d6cad(0x76)](_0x2b285e)):(this['logger'][_0x3d6cad(0x74)](_0x3d6cad(0x82),_0x2b285e['fileName'],_0x2b285e[_0x3d6cad(0x90)]),await this[_0x3d6cad(0x66)](_0x2b285e));}const _0x579780=Object[_0x3d6cad(0xa0)](this[_0x3d6cad(0x79)]);this['logger']['log'](_0x3d6cad(0x87),this[_0x3d6cad(0xa4)][_0x3d6cad(0x80)]);while(_0x579780[_0x3d6cad(0x80)]){const _0x2e56da=_0x579780[_0x3d6cad(0x98)](0x0,this[_0x3d6cad(0x8e)]);for(const _0x336ce6 of _0x2e56da){await fs_internal_1['FS'][_0x3d6cad(0x77)](path_1[_0x3d6cad(0x75)][_0x3d6cad(0x84)](this[_0x3d6cad(0x70)],_0x336ce6),xml_1['Xml'][_0x3d6cad(0xa1)](this['parentComponents'][_0x336ce6]));}}this[_0x3d6cad(0x79)]={};}}exports['MDApiRemover']=MDApiRemover;function a97_0x59c5(){const _0x599cd3=['12316bisvPZ','removeChild','967887eGESWF','456504AobCUr','../../internal/fs.internal','defineProperty','__importDefault','MDApiRemover','name','exists','../data/child-types-map','sourceDir','pop','split','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','log','default','removeParent','writeFile','(((.+)+)+)+$','parentComponents','22amenyN','includes','toString','../data/child-types','remove\x20component\x20\x20%s\x20[%s]','35yclQoW','length','remove\x20parent\x20component\x20%s\x20[%s]','remove\x20child\x20component\x20%s\x20[%s]','makeDir','join','6256629YiPEjR','Xml','have\x20to\x20update\x20%d\x20files','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','../utils/xml','META_EXTENSION','readFile','2389962VQqQHd','Logger','MAX_WRITES_PER_TICK','remove\x20component\x20directory\x20%s\x20[%s]','type','start','logger','catch','removeFile','4059341qOfDRA','fileName','META_EXPERIENCE_BUNDLE','splice','10jZHWRx','parse','isDir','85grtIBu','27026SExRzQ','path','../../../core','keys','convertToString','apply','search','components'];a97_0x59c5=function(){return _0x599cd3;};return a97_0x59c5();}