const a95_0x2ebb85=a95_0x1c09;(function(_0x2a259e,_0x47bdfa){const _0x5ef5e0=a95_0x1c09,_0x4423bf=_0x2a259e();while(!![]){try{const _0x19cba5=-parseInt(_0x5ef5e0(0x1ad))/0x1+-parseInt(_0x5ef5e0(0x1e1))/0x2+parseInt(_0x5ef5e0(0x1db))/0x3*(-parseInt(_0x5ef5e0(0x1ea))/0x4)+parseInt(_0x5ef5e0(0x1ce))/0x5*(-parseInt(_0x5ef5e0(0x1e5))/0x6)+-parseInt(_0x5ef5e0(0x1bb))/0x7+parseInt(_0x5ef5e0(0x1f3))/0x8+parseInt(_0x5ef5e0(0x1af))/0x9*(parseInt(_0x5ef5e0(0x1b2))/0xa);if(_0x19cba5===_0x47bdfa)break;else _0x4423bf['push'](_0x4423bf['shift']());}catch(_0x9587c7){_0x4423bf['push'](_0x4423bf['shift']());}}}(a95_0xf6d8,0x977f5));const a95_0x4273a2=(function(){let _0x4308c8=!![];return function(_0x4d73ca,_0x21bcc8){const _0x21cf93=_0x4308c8?function(){const _0x25c01f=a95_0x1c09;if(_0x21bcc8){const _0x26d09a=_0x21bcc8[_0x25c01f(0x1b3)](_0x4d73ca,arguments);return _0x21bcc8=null,_0x26d09a;}}:function(){};return _0x4308c8=![],_0x21cf93;};}()),a95_0x5cbf25=a95_0x4273a2(this,function(){const _0x110fa3=a95_0x1c09;return a95_0x5cbf25[_0x110fa3(0x1bd)]()[_0x110fa3(0x1bf)](_0x110fa3(0x1cc))['toString']()['constructor'](a95_0x5cbf25)[_0x110fa3(0x1bf)](_0x110fa3(0x1cc));});a95_0x5cbf25();'use strict';var __importDefault=this&&this[a95_0x2ebb85(0x1de)]||function(_0x526226){const _0x56d3f6=a95_0x2ebb85;return _0x526226&&_0x526226[_0x56d3f6(0x1b7)]?_0x526226:{'default':_0x526226};};function a95_0x1c09(_0x58ede6,_0x583f44){const _0x174333=a95_0xf6d8();return a95_0x1c09=function(_0x5cbf25,_0x4273a2){_0x5cbf25=_0x5cbf25-0x1ad;let _0xf6d86e=_0x174333[_0x5cbf25];return _0xf6d86e;},a95_0x1c09(_0x58ede6,_0x583f44);}Object[a95_0x2ebb85(0x1c9)](exports,'__esModule',{'value':!![]}),exports[a95_0x2ebb85(0x1e4)]=void 0x0;function a95_0xf6d8(){const _0x413fa7=['all','type','catch','META_EXTENSION','11148TOGYOa','files','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','path','readFile','reduce','\x22\x20not\x20found\x20in\x20\x22','-meta.xml','split','6651776jQEzMi','values','dir','1204360Vejftu','push','18FYHNdo','hasChildNodes','Xml','16107430ngmkhJ','apply','readComponentFiles','readBundledFiles','META_EXPERIENCES_EXTENSION','__esModule','crc','isSFDXProject','waveTemplates','5626964vHRIxf','startsWith','toString','extractComponentTypeFromFiles','search','init','../utils/xml','find','logger','paths','readDir','join','calculateCRC32','../../../constants','defineProperty','Cannot\x20parse\x20childs\x20in\x20','../data/child-types-map','(((.+)+)+)+$','relative','53015rUkcWM','map','Component\x20\x22','filePath','extname','Logger','utf-8','../../internal/fs.internal','default','isParentComponent','name','isPathsEquals','experiences','843AxTqXs','convertToCleanPaths','isDir','__importDefault','extractFilenameFromPath','test','1197308JiFSRR','readChildComponents','error','MDApiParser','24fOuxAT'];a95_0xf6d8=function(){return _0x413fa7;};return a95_0xf6d8();}const fs_internal_1=require(a95_0x2ebb85(0x1d5)),utils_1=require('../utils'),path_1=require(a95_0x2ebb85(0x1ed)),xml_1=require(a95_0x2ebb85(0x1c1)),child_types_map_1=__importDefault(require(a95_0x2ebb85(0x1cb))),constants_1=require(a95_0x2ebb85(0x1c8)),core_1=require('../../../core'),git_commit_utils_1=require('../../web-hooks/utils/git-commit.utils'),CHILD_XML_KEYS=Object[a95_0x2ebb85(0x1f4)](child_types_map_1[a95_0x2ebb85(0x1d6)]);class MDApiParser{constructor(_0x282d59,_0x12bec8,_0x4457b2){const _0x47b6ff=a95_0x2ebb85;this[_0x47b6ff(0x1f5)]=_0x282d59,this[_0x47b6ff(0x1b9)]=_0x4457b2,this[_0x47b6ff(0x1c3)]=new core_1[(_0x47b6ff(0x1d3))](MDApiParser['name']),this['META_EXTENSION']=_0x47b6ff(0x1f1),this[_0x47b6ff(0x1b6)]='.site-meta.xml',this[_0x47b6ff(0x1c4)]=utils_1[_0x47b6ff(0x1dc)](_0x12bec8);}async[a95_0x2ebb85(0x1e2)](_0x437566){const _0x166bac=a95_0x2ebb85;try{const _0x44976d=await xml_1[_0x166bac(0x1b1)]['parse'](Object['values'](_0x437566[_0x166bac(0x1eb)])[0x0]['toString'](_0x166bac(0x1d4))),_0x5cdb00=CHILD_XML_KEYS['filter'](_0x1b4fe2=>xml_1['Xml'][_0x166bac(0x1b0)](_0x44976d,_0x1b4fe2))[_0x166bac(0x1ef)]((_0x77a89f,_0x5990d2)=>[..._0x77a89f,...xml_1['Xml']['getChildsByName'](_0x44976d,_0x5990d2)],[]);return utils_1['createChildComponentsFromParent'](_0x437566,_0x44976d,_0x5cdb00);}catch(_0x4fd710){throw new Error(_0x166bac(0x1ca)+_0x437566[_0x166bac(0x1d8)]+'\x20['+_0x437566[_0x166bac(0x1e7)]+']');}}async[a95_0x2ebb85(0x1b5)](_0x262804){const _0x49afc6=a95_0x2ebb85,_0x428f9e=path_1['join'](this[_0x49afc6(0x1f5)],_0x262804),_0x35583c=_0x262804+(_0x262804[_0x49afc6(0x1bc)](_0x49afc6(0x1da))?this[_0x49afc6(0x1b6)]:this[_0x49afc6(0x1e9)]),_0x3bc483=await fs_internal_1['FS'][_0x49afc6(0x1c5)](_0x428f9e,!![]),_0x30693b=await fs_internal_1['FS'][_0x49afc6(0x1ee)](path_1[_0x49afc6(0x1c6)](this[_0x49afc6(0x1f5)],_0x35583c),!![])['catch'](()=>null),_0x112766={};for(const _0x15a841 of _0x3bc483){_0x112766[path_1[_0x49afc6(0x1cd)](this[_0x49afc6(0x1f5)],_0x15a841)]=await fs_internal_1['FS'][_0x49afc6(0x1ee)](_0x15a841,!![]);}return _0x30693b&&(_0x112766[path_1[_0x49afc6(0x1cd)](this[_0x49afc6(0x1f5)],_0x35583c)]=_0x30693b),_0x112766;}async[a95_0x2ebb85(0x1b4)](_0x35c4d3){const _0x25f602=a95_0x2ebb85;let _0x5e2881=_0x35c4d3+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x25f602(0x1e0)](_0x35c4d3))return this['readBundledFiles'](_0x35c4d3);if(await fs_internal_1['FS'][_0x25f602(0x1dd)](path_1[_0x25f602(0x1c6)](this[_0x25f602(0x1f5)],_0x35c4d3)))return{[_0x5e2881]:await fs_internal_1['FS'][_0x25f602(0x1ee)](path_1[_0x25f602(0x1c6)](this[_0x25f602(0x1f5)],_0x5e2881),!![])};if(!path_1[_0x25f602(0x1d2)](_0x35c4d3)&&this['isSFDXProject']){const _0x229ad7=_0x35c4d3[_0x25f602(0x1f2)]('/')[0x0],_0x1ecfdf=(await fs_internal_1['FS'][_0x25f602(0x1c5)](path_1['join'](this[_0x25f602(0x1f5)],_0x229ad7)))[_0x25f602(0x1c2)](_0x58ee41=>git_commit_utils_1[_0x25f602(0x1d9)](_0x58ee41,path_1[_0x25f602(0x1c6)](this['dir'],_0x35c4d3)));if(!_0x1ecfdf)throw new Error(_0x25f602(0x1d0)+_0x35c4d3+_0x25f602(0x1f0)+_0x229ad7+'\x22');_0x35c4d3=path_1[_0x25f602(0x1cd)](this['dir'],_0x1ecfdf),_0x5e2881=_0x35c4d3+this[_0x25f602(0x1e9)];}const [_0x46cc3b,_0x15fe0e]=await Promise[_0x25f602(0x1e6)]([fs_internal_1['FS']['readFile'](path_1[_0x25f602(0x1c6)](this[_0x25f602(0x1f5)],_0x35c4d3),!![])[_0x25f602(0x1e8)](()=>null),fs_internal_1['FS'][_0x25f602(0x1ee)](path_1[_0x25f602(0x1c6)](this[_0x25f602(0x1f5)],_0x5e2881),!![])['catch'](()=>null)]);return{..._0x46cc3b?{[_0x35c4d3]:_0x46cc3b}:{},..._0x15fe0e?{[_0x5e2881]:_0x15fe0e}:{}};}async[a95_0x2ebb85(0x1c0)](){const _0x1ceef8=a95_0x2ebb85,_0x356d94=[...this[_0x1ceef8(0x1c4)]];if(this[_0x1ceef8(0x1b9)])for(const _0x5711ea of _0x356d94){if(await fs_internal_1['FS'][_0x1ceef8(0x1dd)](path_1[_0x1ceef8(0x1c6)](this[_0x1ceef8(0x1f5)],_0x5711ea))){const _0x4514e1=await fs_internal_1['FS'][_0x1ceef8(0x1c5)](path_1[_0x1ceef8(0x1c6)](this['dir'],_0x5711ea),!![]);_0x356d94[_0x1ceef8(0x1ae)](..._0x4514e1[_0x1ceef8(0x1cf)](_0x1b4a7b=>path_1[_0x1ceef8(0x1cd)](this[_0x1ceef8(0x1f5)],_0x1b4a7b)));}}this[_0x1ceef8(0x1c4)]=utils_1[_0x1ceef8(0x1dc)](_0x356d94);}async['parse'](){const _0x47aa9c=a95_0x2ebb85,_0x1b652b=[];for(const _0x473ef7 of this[_0x47aa9c(0x1c4)]){if(_0x473ef7['endsWith']('package.xml'))continue;const _0x9d7a5e={};_0x9d7a5e[_0x47aa9c(0x1d1)]=_0x473ef7;try{_0x9d7a5e[_0x47aa9c(0x1eb)]=await this['readComponentFiles'](_0x473ef7),_0x473ef7[_0x47aa9c(0x1bc)](_0x47aa9c(0x1ba))?_0x9d7a5e[_0x47aa9c(0x1e7)]='WaveTemplateBundle':_0x9d7a5e['type']=await utils_1[_0x47aa9c(0x1be)]({'files':_0x9d7a5e[_0x47aa9c(0x1eb)]});}catch(_0x1bde9a){this[_0x47aa9c(0x1c3)][_0x47aa9c(0x1e3)](_0x47aa9c(0x1ec),_0x473ef7,_0x1bde9a);continue;}_0x9d7a5e[_0x47aa9c(0x1d8)]=utils_1[_0x47aa9c(0x1df)](_0x473ef7),_0x9d7a5e[_0x47aa9c(0x1b8)]=utils_1[_0x47aa9c(0x1c7)](_0x9d7a5e);if(utils_1[_0x47aa9c(0x1d7)](_0x9d7a5e)){const _0x65da94=await this[_0x47aa9c(0x1e2)](_0x9d7a5e);_0x1b652b[_0x47aa9c(0x1ae)](..._0x65da94);}_0x1b652b[_0x47aa9c(0x1ae)](_0x9d7a5e);}return _0x1b652b;}}exports[a95_0x2ebb85(0x1e4)]=MDApiParser;