function a96_0x5c23(_0x24e633,_0x1d7e1e){const _0x4525f5=a96_0x48e7();return a96_0x5c23=function(_0x2bab6f,_0x17ed64){_0x2bab6f=_0x2bab6f-0x128;let _0x48e75a=_0x4525f5[_0x2bab6f];return _0x48e75a;},a96_0x5c23(_0x24e633,_0x1d7e1e);}const a96_0x1f0012=a96_0x5c23;(function(_0x39d201,_0x4e4092){const _0x2508d4=a96_0x5c23,_0x5d1ba5=_0x39d201();while(!![]){try{const _0x5064d2=-parseInt(_0x2508d4(0x12f))/0x1+parseInt(_0x2508d4(0x152))/0x2+parseInt(_0x2508d4(0x167))/0x3+-parseInt(_0x2508d4(0x135))/0x4+-parseInt(_0x2508d4(0x12d))/0x5*(parseInt(_0x2508d4(0x162))/0x6)+-parseInt(_0x2508d4(0x148))/0x7*(-parseInt(_0x2508d4(0x165))/0x8)+parseInt(_0x2508d4(0x131))/0x9;if(_0x5064d2===_0x4e4092)break;else _0x5d1ba5['push'](_0x5d1ba5['shift']());}catch(_0xd5e369){_0x5d1ba5['push'](_0x5d1ba5['shift']());}}}(a96_0x48e7,0x5246a));const a96_0x17ed64=(function(){let _0x2ad18c=!![];return function(_0x5de704,_0x4151c2){const _0xe67548=_0x2ad18c?function(){if(_0x4151c2){const _0x2f503f=_0x4151c2['apply'](_0x5de704,arguments);return _0x4151c2=null,_0x2f503f;}}:function(){};return _0x2ad18c=![],_0xe67548;};}()),a96_0x2bab6f=a96_0x17ed64(this,function(){const _0x35d960=a96_0x5c23;return a96_0x2bab6f[_0x35d960(0x13b)]()['search'](_0x35d960(0x16a))[_0x35d960(0x13b)]()[_0x35d960(0x15c)](a96_0x2bab6f)[_0x35d960(0x13f)](_0x35d960(0x16a));});a96_0x2bab6f();function a96_0x48e7(){const _0x432148=['files','(((.+)+)+)+$','readDir','__esModule','isPathsEquals','extname','waveTemplates','../../../core','264705WQnOAq','test','431991UnKKJG','isDir','5449590FoWcEu','type','readFile','package.xml','218332uLPVlq','-meta.xml','isParentComponent','parse','readChildComponents','readComponentFiles','toString','readBundledFiles','Component\x20\x22','error','search','values','META_EXPERIENCES_EXTENSION','paths','find','default','.site-meta.xml','../data/child-types-map','dir','3647PHmUPb','init','name','../utils','catch','map','push','BUNDLED_FOLDERS_REGEXP','Logger','startsWith','196152gZbTlw','../../web-hooks/utils/git-commit.utils','path','filePath','../utils/xml','isSFDXProject','Xml','MDApiParser','Cannot\x20parse\x20childs\x20in\x20','experiences','constructor','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','hasChildNodes','__importDefault','defineProperty','getChildsByName','6saaYAu','META_EXTENSION','relative','32vdkxqL','join','512541AoBoGw','\x22\x20not\x20found\x20in\x20\x22'];a96_0x48e7=function(){return _0x432148;};return a96_0x48e7();}'use strict';var __importDefault=this&&this[a96_0x1f0012(0x15f)]||function(_0x3a81c0){return _0x3a81c0&&_0x3a81c0['__esModule']?_0x3a81c0:{'default':_0x3a81c0};};Object[a96_0x1f0012(0x160)](exports,a96_0x1f0012(0x128),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a96_0x1f0012(0x14b)),path_1=require(a96_0x1f0012(0x154)),xml_1=require(a96_0x1f0012(0x156)),child_types_map_1=__importDefault(require(a96_0x1f0012(0x146))),constants_1=require('../../../constants'),core_1=require(a96_0x1f0012(0x12c)),git_commit_utils_1=require(a96_0x1f0012(0x153)),CHILD_XML_KEYS=Object[a96_0x1f0012(0x140)](child_types_map_1[a96_0x1f0012(0x144)]);class MDApiParser{constructor(_0x5eae19,_0x49a546,_0x345c0a){const _0x3e36de=a96_0x1f0012;this[_0x3e36de(0x147)]=_0x5eae19,this['isSFDXProject']=_0x345c0a,this['logger']=new core_1[(_0x3e36de(0x150))](MDApiParser[_0x3e36de(0x14a)]),this['META_EXTENSION']=_0x3e36de(0x136),this[_0x3e36de(0x141)]=_0x3e36de(0x145),this[_0x3e36de(0x142)]=_0x49a546;}async[a96_0x1f0012(0x139)](_0x550582){const _0x1d728c=a96_0x1f0012;try{const _0x497832=await xml_1[_0x1d728c(0x158)]['parse'](Object[_0x1d728c(0x140)](_0x550582['files'])[0x0][_0x1d728c(0x13b)]('utf-8')),_0x145083=CHILD_XML_KEYS['filter'](_0x365c97=>xml_1[_0x1d728c(0x158)][_0x1d728c(0x15e)](_0x497832,_0x365c97))['reduce']((_0x24a41a,_0x28b79c)=>[..._0x24a41a,...xml_1[_0x1d728c(0x158)][_0x1d728c(0x161)](_0x497832,_0x28b79c)],[]);return utils_1['createChildComponentsFromParent'](_0x550582,_0x497832,_0x145083);}catch(_0xedac3a){throw new Error(_0x1d728c(0x15a)+_0x550582[_0x1d728c(0x14a)]+'\x20['+_0x550582[_0x1d728c(0x132)]+']');}}async[a96_0x1f0012(0x13c)](_0x38bd1d){const _0x251077=a96_0x1f0012,_0x2b2eb6=path_1[_0x251077(0x166)](this[_0x251077(0x147)],_0x38bd1d),_0x55a2d9=_0x38bd1d+(_0x38bd1d[_0x251077(0x151)](_0x251077(0x15b))?this[_0x251077(0x141)]:this[_0x251077(0x163)]),_0x216806=await fs_internal_1['FS']['readDir'](_0x2b2eb6,!![]),_0xaee9f4=await fs_internal_1['FS'][_0x251077(0x133)](path_1[_0x251077(0x166)](this[_0x251077(0x147)],_0x55a2d9),!![])[_0x251077(0x14c)](()=>null),_0x4b1575={};for(const _0x494bd8 of _0x216806){_0x4b1575[path_1[_0x251077(0x164)](this['dir'],_0x494bd8)]=await fs_internal_1['FS'][_0x251077(0x133)](_0x494bd8,!![]);}return _0xaee9f4&&(_0x4b1575[path_1[_0x251077(0x164)](this[_0x251077(0x147)],_0x55a2d9)]=_0xaee9f4),_0x4b1575;}async[a96_0x1f0012(0x13a)](_0x431b29){const _0x5c8c27=a96_0x1f0012;let _0x2d6c93=_0x431b29+this[_0x5c8c27(0x163)];if(constants_1[_0x5c8c27(0x14f)][_0x5c8c27(0x12e)](_0x431b29))return this['readBundledFiles'](_0x431b29);if(await fs_internal_1['FS'][_0x5c8c27(0x130)](path_1['join'](this[_0x5c8c27(0x147)],_0x431b29)))return{[_0x2d6c93]:await fs_internal_1['FS'][_0x5c8c27(0x133)](path_1[_0x5c8c27(0x166)](this[_0x5c8c27(0x147)],_0x2d6c93),!![])};if(!path_1[_0x5c8c27(0x12a)](_0x431b29)&&this['isSFDXProject']){const _0x156a94=_0x431b29['split']('/')[0x0],_0x4fd5b3=(await fs_internal_1['FS']['readDir'](path_1[_0x5c8c27(0x166)](this[_0x5c8c27(0x147)],_0x156a94)))[_0x5c8c27(0x143)](_0x155f81=>git_commit_utils_1[_0x5c8c27(0x129)](_0x155f81,path_1[_0x5c8c27(0x166)](this['dir'],_0x431b29)));if(!_0x4fd5b3)throw new Error(_0x5c8c27(0x13d)+_0x431b29+_0x5c8c27(0x168)+_0x156a94+'\x22');_0x431b29=path_1[_0x5c8c27(0x164)](this[_0x5c8c27(0x147)],_0x4fd5b3),_0x2d6c93=_0x431b29+this['META_EXTENSION'];}const [_0x4038da,_0x39c00b]=await Promise['all']([fs_internal_1['FS'][_0x5c8c27(0x133)](path_1['join'](this[_0x5c8c27(0x147)],_0x431b29),!![])[_0x5c8c27(0x14c)](()=>null),fs_internal_1['FS'][_0x5c8c27(0x133)](path_1['join'](this['dir'],_0x2d6c93),!![])[_0x5c8c27(0x14c)](()=>null)]);return{..._0x4038da?{[_0x431b29]:_0x4038da}:{},..._0x39c00b?{[_0x2d6c93]:_0x39c00b}:{}};}async['init'](){const _0x459416=a96_0x1f0012,_0x1d450f=[...this[_0x459416(0x142)]];if(this[_0x459416(0x157)])for(const _0x27f76e of _0x1d450f){if(constants_1[_0x459416(0x14f)][_0x459416(0x12e)](_0x27f76e))continue;if(await fs_internal_1['FS'][_0x459416(0x130)](path_1[_0x459416(0x166)](this['dir'],_0x27f76e))){const _0x269593=await fs_internal_1['FS'][_0x459416(0x16b)](path_1['join'](this[_0x459416(0x147)],_0x27f76e),!![]);_0x1d450f['push'](..._0x269593[_0x459416(0x14d)](_0x378754=>path_1[_0x459416(0x164)](this[_0x459416(0x147)],_0x378754)));}}this['paths']=utils_1['convertToCleanPaths'](_0x1d450f);}async[a96_0x1f0012(0x138)](){const _0x48170b=a96_0x1f0012;await this[_0x48170b(0x149)]();const _0x19f8ac=[];for(const _0x5d509b of this[_0x48170b(0x142)]){if(_0x5d509b['endsWith'](_0x48170b(0x134)))continue;const _0xe77224={};try{_0xe77224['files']=await this['readComponentFiles'](_0x5d509b),_0xe77224[_0x48170b(0x155)]=constants_1[_0x48170b(0x14f)][_0x48170b(0x12e)](_0x5d509b)?_0x5d509b:utils_1['extractFileNameFromFiles']({'files':_0xe77224[_0x48170b(0x169)]}),_0x5d509b[_0x48170b(0x151)](_0x48170b(0x12b))?_0xe77224['type']='WaveTemplateBundle':_0xe77224['type']=await utils_1['extractComponentTypeFromFiles']({'files':_0xe77224[_0x48170b(0x169)]});}catch(_0x1fd076){this['logger'][_0x48170b(0x13e)](_0x48170b(0x15d),_0x5d509b,_0x1fd076);continue;}_0xe77224[_0x48170b(0x14a)]=utils_1['extractFilenameFromPath'](_0x5d509b),_0xe77224['crc']=utils_1['calculateCRC32'](_0xe77224);if(utils_1[_0x48170b(0x137)](_0xe77224)){const _0x5ba794=await this[_0x48170b(0x139)](_0xe77224);_0x19f8ac[_0x48170b(0x14e)](..._0x5ba794);}if(_0xe77224[_0x48170b(0x132)]==='CustomLabels')continue;_0x19f8ac[_0x48170b(0x14e)](_0xe77224);}return _0x19f8ac;}}exports[a96_0x1f0012(0x159)]=MDApiParser;