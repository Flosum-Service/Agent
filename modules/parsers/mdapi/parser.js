const a96_0x22c5ba=a96_0x55c8;function a96_0x21aa(){const _0x3e6ab2=['extractFileNameFromFiles','files','\x22\x20not\x20found\x20in\x20\x22','43610bgoAzY','extractComponentTypeFromFiles','426iLaewQ','.site-meta.xml','BUNDLED_FOLDERS_REGEXP','join','filter','8162wrMGzh','createChildComponentsFromParent','convertToCleanPaths','search','MDApiParser','isPathsEquals','Xml','package.xml','startsWith','split','map','../../internal/fs.internal','Component\x20\x22','__importDefault','dir','calculateCRC32','name','CustomLabels','META_EXPERIENCES_EXTENSION','-meta.xml','readBundledFiles','../../../core','readComponentFiles','isDir','readFile','reduce','apply','relative','../../web-hooks/utils/git-commit.utils','1671336PuYsGe','defineProperty','logger','utf-8','../utils/xml','push','__esModule','Cannot\x20parse\x20childs\x20in\x20','type','17028yezeFt','catch','META_EXTENSION','62816ZEoFdt','all','13123640xbWNOA','extname','readChildComponents','../utils','experiences','init','paths','(((.+)+)+)+$','readDir','../../../constants','parse','endsWith','constructor','hasChildNodes','toString','4751391vUxIND','values','465nYsIAD','extractFilenameFromPath','2127466pDCjYA','test','../data/child-types-map','error','isSFDXProject'];a96_0x21aa=function(){return _0x3e6ab2;};return a96_0x21aa();}(function(_0x1442d7,_0x11a1e2){const _0x2e2193=a96_0x55c8,_0x2904b6=_0x1442d7();while(!![]){try{const _0x12ddd9=-parseInt(_0x2e2193(0x95))/0x1+-parseInt(_0x2e2193(0xb6))/0x2+-parseInt(_0x2e2193(0xb2))/0x3+-parseInt(_0x2e2193(0xa1))/0x4*(parseInt(_0x2e2193(0xb4))/0x5)+parseInt(_0x2e2193(0xc0))/0x6*(parseInt(_0x2e2193(0xc5))/0x7)+-parseInt(_0x2e2193(0xa3))/0x8+-parseInt(_0x2e2193(0x9e))/0x9*(-parseInt(_0x2e2193(0xbe))/0xa);if(_0x12ddd9===_0x11a1e2)break;else _0x2904b6['push'](_0x2904b6['shift']());}catch(_0x19083c){_0x2904b6['push'](_0x2904b6['shift']());}}}(a96_0x21aa,0xdf255));const a96_0x5cb0fa=(function(){let _0x1a398b=!![];return function(_0x236908,_0x1fde7c){const _0x56d0d0=_0x1a398b?function(){const _0x22cae1=a96_0x55c8;if(_0x1fde7c){const _0x5ba0f7=_0x1fde7c[_0x22cae1(0x92)](_0x236908,arguments);return _0x1fde7c=null,_0x5ba0f7;}}:function(){};return _0x1a398b=![],_0x56d0d0;};}()),a96_0x36d4df=a96_0x5cb0fa(this,function(){const _0x5237ea=a96_0x55c8;return a96_0x36d4df[_0x5237ea(0xb1)]()['search']('(((.+)+)+)+$')['toString']()[_0x5237ea(0xaf)](a96_0x36d4df)[_0x5237ea(0xc8)](_0x5237ea(0xaa));});a96_0x36d4df();function a96_0x55c8(_0x4083eb,_0x5a6e0f){const _0x177cd6=a96_0x21aa();return a96_0x55c8=function(_0x36d4df,_0x5cb0fa){_0x36d4df=_0x36d4df-0x82;let _0x21aa80=_0x177cd6[_0x36d4df];return _0x21aa80;},a96_0x55c8(_0x4083eb,_0x5a6e0f);}'use strict';var __importDefault=this&&this[a96_0x22c5ba(0x85)]||function(_0x45769f){const _0x2db5be=a96_0x22c5ba;return _0x45769f&&_0x45769f[_0x2db5be(0x9b)]?_0x45769f:{'default':_0x45769f};};Object[a96_0x22c5ba(0x96)](exports,a96_0x22c5ba(0x9b),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a96_0x22c5ba(0x83)),utils_1=require(a96_0x22c5ba(0xa6)),path_1=require('path'),xml_1=require(a96_0x22c5ba(0x99)),child_types_map_1=__importDefault(require(a96_0x22c5ba(0xb8))),constants_1=require(a96_0x22c5ba(0xac)),core_1=require(a96_0x22c5ba(0x8d)),git_commit_utils_1=require(a96_0x22c5ba(0x94)),CHILD_XML_KEYS=Object[a96_0x22c5ba(0xb3)](child_types_map_1['default']);class MDApiParser{constructor(_0x1528e1,_0x39aee2,_0x169ff8){const _0x949a=a96_0x22c5ba;this[_0x949a(0x86)]=_0x1528e1,this['isSFDXProject']=_0x169ff8,this[_0x949a(0x97)]=new core_1['Logger'](MDApiParser[_0x949a(0x88)]),this[_0x949a(0xa0)]=_0x949a(0x8b),this['META_EXPERIENCES_EXTENSION']=_0x949a(0xc1),this['paths']=_0x39aee2;}async[a96_0x22c5ba(0xa5)](_0x434dac){const _0x2bdae1=a96_0x22c5ba;try{const _0x4466b4=await xml_1[_0x2bdae1(0xcb)][_0x2bdae1(0xad)](Object['values'](_0x434dac[_0x2bdae1(0xbc)])[0x0][_0x2bdae1(0xb1)](_0x2bdae1(0x98))),_0x497bca=CHILD_XML_KEYS[_0x2bdae1(0xc4)](_0x56f8c4=>xml_1[_0x2bdae1(0xcb)][_0x2bdae1(0xb0)](_0x4466b4,_0x56f8c4))[_0x2bdae1(0x91)]((_0xcc837a,_0x12b3e2)=>[..._0xcc837a,...xml_1[_0x2bdae1(0xcb)]['getChildsByName'](_0x4466b4,_0x12b3e2)],[]);return utils_1[_0x2bdae1(0xc6)](_0x434dac,_0x4466b4,_0x497bca);}catch(_0x442b6c){throw new Error(_0x2bdae1(0x9c)+_0x434dac['name']+'\x20['+_0x434dac[_0x2bdae1(0x9d)]+']');}}async[a96_0x22c5ba(0x8c)](_0x18a958){const _0x5188f5=a96_0x22c5ba,_0x407c63=path_1['join'](this[_0x5188f5(0x86)],_0x18a958),_0x3b5108=_0x18a958+(_0x18a958[_0x5188f5(0xcd)](_0x5188f5(0xa7))?this[_0x5188f5(0x8a)]:this['META_EXTENSION']),_0x56db4d=await fs_internal_1['FS'][_0x5188f5(0xab)](_0x407c63,!![]),_0x22d4bd=await fs_internal_1['FS'][_0x5188f5(0x90)](path_1[_0x5188f5(0xc3)](this[_0x5188f5(0x86)],_0x3b5108),!![])[_0x5188f5(0x9f)](()=>null),_0x46e9e6={};for(const _0x14a257 of _0x56db4d){_0x46e9e6[path_1[_0x5188f5(0x93)](this['dir'],_0x14a257)]=await fs_internal_1['FS'][_0x5188f5(0x90)](_0x14a257,!![]);}return _0x22d4bd&&(_0x46e9e6[path_1['relative'](this[_0x5188f5(0x86)],_0x3b5108)]=_0x22d4bd),_0x46e9e6;}async['readComponentFiles'](_0xa67b8e){const _0x533214=a96_0x22c5ba;let _0x3e45f7=_0xa67b8e+this[_0x533214(0xa0)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0xa67b8e))return this[_0x533214(0x8c)](_0xa67b8e);if(await fs_internal_1['FS'][_0x533214(0x8f)](path_1[_0x533214(0xc3)](this['dir'],_0xa67b8e)))return{[_0x3e45f7]:await fs_internal_1['FS'][_0x533214(0x90)](path_1[_0x533214(0xc3)](this['dir'],_0x3e45f7),!![])};if(!path_1[_0x533214(0xa4)](_0xa67b8e)&&this[_0x533214(0xba)]){const _0x48f8e9=_0xa67b8e[_0x533214(0xce)]('/')[0x0],_0x9fe84d=(await fs_internal_1['FS'][_0x533214(0xab)](path_1[_0x533214(0xc3)](this[_0x533214(0x86)],_0x48f8e9)))['find'](_0x242e86=>git_commit_utils_1[_0x533214(0xca)](_0x242e86,path_1[_0x533214(0xc3)](this[_0x533214(0x86)],_0xa67b8e)));if(!_0x9fe84d)throw new Error(_0x533214(0x84)+_0xa67b8e+_0x533214(0xbd)+_0x48f8e9+'\x22');_0xa67b8e=path_1[_0x533214(0x93)](this['dir'],_0x9fe84d),_0x3e45f7=_0xa67b8e+this[_0x533214(0xa0)];}const [_0x1b0845,_0x39088e]=await Promise[_0x533214(0xa2)]([fs_internal_1['FS'][_0x533214(0x90)](path_1[_0x533214(0xc3)](this[_0x533214(0x86)],_0xa67b8e),!![])[_0x533214(0x9f)](()=>null),fs_internal_1['FS'][_0x533214(0x90)](path_1[_0x533214(0xc3)](this[_0x533214(0x86)],_0x3e45f7),!![])[_0x533214(0x9f)](()=>null)]);return{..._0x1b0845?{[_0xa67b8e]:_0x1b0845}:{},..._0x39088e?{[_0x3e45f7]:_0x39088e}:{}};}async['init'](){const _0x500aa6=a96_0x22c5ba,_0x46b5ee=[...this[_0x500aa6(0xa9)]];if(this['isSFDXProject'])for(const _0x3479d5 of _0x46b5ee){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x500aa6(0xb7)](_0x3479d5))continue;if(await fs_internal_1['FS'][_0x500aa6(0x8f)](path_1[_0x500aa6(0xc3)](this[_0x500aa6(0x86)],_0x3479d5))){const _0x18e3c=await fs_internal_1['FS'][_0x500aa6(0xab)](path_1[_0x500aa6(0xc3)](this['dir'],_0x3479d5),!![]);_0x46b5ee[_0x500aa6(0x9a)](..._0x18e3c[_0x500aa6(0x82)](_0x1c6607=>path_1[_0x500aa6(0x93)](this[_0x500aa6(0x86)],_0x1c6607)));}}this[_0x500aa6(0xa9)]=utils_1[_0x500aa6(0xc7)](_0x46b5ee);}async['parse'](){const _0x2782a3=a96_0x22c5ba;await this[_0x2782a3(0xa8)]();const _0x18c80d=[];for(const _0x2d1180 of this[_0x2782a3(0xa9)]){if(_0x2d1180[_0x2782a3(0xae)](_0x2782a3(0xcc)))continue;const _0x4d2003={};try{_0x4d2003[_0x2782a3(0xbc)]=await this[_0x2782a3(0x8e)](_0x2d1180),_0x4d2003['filePath']=constants_1[_0x2782a3(0xc2)][_0x2782a3(0xb7)](_0x2d1180)?_0x2d1180:utils_1[_0x2782a3(0xbb)]({'files':_0x4d2003[_0x2782a3(0xbc)]}),_0x2d1180['startsWith']('waveTemplates')?_0x4d2003[_0x2782a3(0x9d)]='WaveTemplateBundle':_0x4d2003[_0x2782a3(0x9d)]=await utils_1[_0x2782a3(0xbf)]({'files':_0x4d2003[_0x2782a3(0xbc)]});}catch(_0x12b52b){this[_0x2782a3(0x97)][_0x2782a3(0xb9)]('error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x2d1180,_0x12b52b);continue;}_0x4d2003['name']=utils_1[_0x2782a3(0xb5)](_0x2d1180),_0x4d2003['crc']=utils_1[_0x2782a3(0x87)](_0x4d2003);if(utils_1['isParentComponent'](_0x4d2003)){const _0x3c0f10=await this[_0x2782a3(0xa5)](_0x4d2003);_0x18c80d[_0x2782a3(0x9a)](..._0x3c0f10);}if(_0x4d2003[_0x2782a3(0x9d)]===_0x2782a3(0x89))continue;_0x18c80d[_0x2782a3(0x9a)](_0x4d2003);}return _0x18c80d;}}exports[a96_0x22c5ba(0xc9)]=MDApiParser;