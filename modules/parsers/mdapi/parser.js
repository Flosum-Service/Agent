const a95_0x1909ef=a95_0x5e01;(function(_0x43f373,_0x6adbbc){const _0x11af26=a95_0x5e01,_0x56bcd0=_0x43f373();while(!![]){try{const _0x3b9273=-parseInt(_0x11af26(0x13e))/0x1*(parseInt(_0x11af26(0x156))/0x2)+-parseInt(_0x11af26(0x16f))/0x3+parseInt(_0x11af26(0x140))/0x4+-parseInt(_0x11af26(0x16e))/0x5+-parseInt(_0x11af26(0x173))/0x6*(-parseInt(_0x11af26(0x146))/0x7)+-parseInt(_0x11af26(0x175))/0x8*(parseInt(_0x11af26(0x13f))/0x9)+parseInt(_0x11af26(0x132))/0xa;if(_0x3b9273===_0x6adbbc)break;else _0x56bcd0['push'](_0x56bcd0['shift']());}catch(_0x3f2315){_0x56bcd0['push'](_0x56bcd0['shift']());}}}(a95_0x4b25,0xa8d96));function a95_0x5e01(_0x4cbdff,_0x16259d){const _0x10ffbc=a95_0x4b25();return a95_0x5e01=function(_0x41258e,_0x1f03f9){_0x41258e=_0x41258e-0x12e;let _0x4b2547=_0x10ffbc[_0x41258e];return _0x4b2547;},a95_0x5e01(_0x4cbdff,_0x16259d);}const a95_0x1f03f9=(function(){let _0x4e34fe=!![];return function(_0x5a5564,_0x2f2f1c){const _0x4556ed=_0x4e34fe?function(){const _0x4f8085=a95_0x5e01;if(_0x2f2f1c){const _0x438c23=_0x2f2f1c[_0x4f8085(0x150)](_0x5a5564,arguments);return _0x2f2f1c=null,_0x438c23;}}:function(){};return _0x4e34fe=![],_0x4556ed;};}()),a95_0x41258e=a95_0x1f03f9(this,function(){const _0x11cad5=a95_0x5e01;return a95_0x41258e[_0x11cad5(0x15b)]()[_0x11cad5(0x139)](_0x11cad5(0x151))[_0x11cad5(0x15b)]()[_0x11cad5(0x16d)](a95_0x41258e)[_0x11cad5(0x139)](_0x11cad5(0x151));});a95_0x41258e();function a95_0x4b25(){const _0x5f1782=['experiences','createChildComponentsFromParent','filePath','4341utKetD','165411exwBPT','1980756aRtmcq','Component\x20\x22','readChildComponents','MDApiParser','relative','Xml','8025794xvXGeP','../../web-hooks/utils/git-commit.utils','path','defineProperty','__esModule','WaveTemplateBundle','values','../../../constants','extractComponentTypeFromFiles','readFile','apply','(((.+)+)+)+$','META_EXTENSION','parse','../../../core','test','262DzMEca','../data/child-types-map','init','waveTemplates','push','toString','BUNDLED_FOLDERS_REGEXP','CustomLabels','.site-meta.xml','crc','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../utils','convertToCleanPaths','package.xml','map','readDir','default','reduce','META_EXPERIENCES_EXTENSION','startsWith','dir','name','isDir','constructor','1788235TpajPb','3413931MmPxaJ','isSFDXProject','readBundledFiles','paths','6mQGCri','../../internal/fs.internal','264NXoaIS','readComponentFiles','files','split','-meta.xml','17206770PctxSP','catch','isPathsEquals','filter','logger','find','type','search','join'];a95_0x4b25=function(){return _0x5f1782;};return a95_0x4b25();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x493018){const _0xe1cc90=a95_0x5e01;return _0x493018&&_0x493018[_0xe1cc90(0x14a)]?_0x493018:{'default':_0x493018};};Object[a95_0x1909ef(0x149)](exports,a95_0x1909ef(0x14a),{'value':!![]}),exports[a95_0x1909ef(0x143)]=void 0x0;const fs_internal_1=require(a95_0x1909ef(0x174)),utils_1=require(a95_0x1909ef(0x161)),path_1=require(a95_0x1909ef(0x148)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a95_0x1909ef(0x157))),constants_1=require(a95_0x1909ef(0x14d)),core_1=require(a95_0x1909ef(0x154)),git_commit_utils_1=require(a95_0x1909ef(0x147)),CHILD_XML_KEYS=Object[a95_0x1909ef(0x14c)](child_types_map_1[a95_0x1909ef(0x166)]);class MDApiParser{constructor(_0x5100d5,_0x364c3c,_0x11341d){const _0x54542e=a95_0x1909ef;this[_0x54542e(0x16a)]=_0x5100d5,this[_0x54542e(0x170)]=_0x11341d,this['logger']=new core_1['Logger'](MDApiParser['name']),this['META_EXTENSION']=_0x54542e(0x131),this[_0x54542e(0x168)]=_0x54542e(0x15e),this[_0x54542e(0x172)]=_0x364c3c;}async[a95_0x1909ef(0x142)](_0xa1c0dc){const _0xb34388=a95_0x1909ef;try{const _0x5ca518=await xml_1[_0xb34388(0x145)][_0xb34388(0x153)](Object['values'](_0xa1c0dc[_0xb34388(0x12f)])[0x0][_0xb34388(0x15b)]('utf-8')),_0x3545c2=CHILD_XML_KEYS[_0xb34388(0x135)](_0x27bd8b=>xml_1[_0xb34388(0x145)]['hasChildNodes'](_0x5ca518,_0x27bd8b))[_0xb34388(0x167)]((_0xbe5803,_0x352348)=>[..._0xbe5803,...xml_1[_0xb34388(0x145)]['getChildsByName'](_0x5ca518,_0x352348)],[]);return utils_1[_0xb34388(0x13c)](_0xa1c0dc,_0x5ca518,_0x3545c2);}catch(_0x4c3cc8){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0xa1c0dc[_0xb34388(0x16b)]+'\x20['+_0xa1c0dc[_0xb34388(0x138)]+']');}}async[a95_0x1909ef(0x171)](_0x168df5){const _0x28b975=a95_0x1909ef,_0x1daf9c=path_1['join'](this[_0x28b975(0x16a)],_0x168df5),_0xb4648d=_0x168df5+(_0x168df5[_0x28b975(0x169)](_0x28b975(0x13b))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x1d0938=await fs_internal_1['FS'][_0x28b975(0x165)](_0x1daf9c,!![]),_0xec05e0=await fs_internal_1['FS'][_0x28b975(0x14f)](path_1[_0x28b975(0x13a)](this[_0x28b975(0x16a)],_0xb4648d),!![])[_0x28b975(0x133)](()=>null),_0x5a1129={};for(const _0x3e264d of _0x1d0938){_0x5a1129[path_1[_0x28b975(0x144)](this[_0x28b975(0x16a)],_0x3e264d)]=await fs_internal_1['FS'][_0x28b975(0x14f)](_0x3e264d,!![]);}return _0xec05e0&&(_0x5a1129[path_1['relative'](this[_0x28b975(0x16a)],_0xb4648d)]=_0xec05e0),_0x5a1129;}async[a95_0x1909ef(0x12e)](_0x449f15){const _0x3b00c0=a95_0x1909ef;let _0x3328b7=_0x449f15+this[_0x3b00c0(0x152)];if(constants_1[_0x3b00c0(0x15c)][_0x3b00c0(0x155)](_0x449f15))return this[_0x3b00c0(0x171)](_0x449f15);if(await fs_internal_1['FS'][_0x3b00c0(0x16c)](path_1[_0x3b00c0(0x13a)](this['dir'],_0x449f15)))return{[_0x3328b7]:await fs_internal_1['FS'][_0x3b00c0(0x14f)](path_1[_0x3b00c0(0x13a)](this['dir'],_0x3328b7),!![])};if(!path_1['extname'](_0x449f15)&&this[_0x3b00c0(0x170)]){const _0x1d56c2=_0x449f15[_0x3b00c0(0x130)]('/')[0x0],_0x15f934=(await fs_internal_1['FS'][_0x3b00c0(0x165)](path_1['join'](this[_0x3b00c0(0x16a)],_0x1d56c2)))[_0x3b00c0(0x137)](_0x14e1fa=>git_commit_utils_1[_0x3b00c0(0x134)](_0x14e1fa,path_1['join'](this[_0x3b00c0(0x16a)],_0x449f15)));if(!_0x15f934)throw new Error(_0x3b00c0(0x141)+_0x449f15+'\x22\x20not\x20found\x20in\x20\x22'+_0x1d56c2+'\x22');_0x449f15=path_1[_0x3b00c0(0x144)](this[_0x3b00c0(0x16a)],_0x15f934),_0x3328b7=_0x449f15+this['META_EXTENSION'];}const [_0x388afe,_0x2c11d2]=await Promise['all']([fs_internal_1['FS'][_0x3b00c0(0x14f)](path_1[_0x3b00c0(0x13a)](this[_0x3b00c0(0x16a)],_0x449f15),!![])[_0x3b00c0(0x133)](()=>null),fs_internal_1['FS'][_0x3b00c0(0x14f)](path_1[_0x3b00c0(0x13a)](this['dir'],_0x3328b7),!![])[_0x3b00c0(0x133)](()=>null)]);return{..._0x388afe?{[_0x449f15]:_0x388afe}:{},..._0x2c11d2?{[_0x3328b7]:_0x2c11d2}:{}};}async[a95_0x1909ef(0x158)](){const _0x45bbda=a95_0x1909ef,_0x1b45b7=[...this['paths']];if(this['isSFDXProject'])for(const _0x2da602 of _0x1b45b7){if(await fs_internal_1['FS']['isDir'](path_1[_0x45bbda(0x13a)](this['dir'],_0x2da602))){const _0x51b272=await fs_internal_1['FS'][_0x45bbda(0x165)](path_1[_0x45bbda(0x13a)](this[_0x45bbda(0x16a)],_0x2da602),!![]);_0x1b45b7[_0x45bbda(0x15a)](..._0x51b272[_0x45bbda(0x164)](_0x19afb8=>path_1[_0x45bbda(0x144)](this[_0x45bbda(0x16a)],_0x19afb8)));}}this[_0x45bbda(0x172)]=utils_1[_0x45bbda(0x162)](_0x1b45b7);}async[a95_0x1909ef(0x153)](){const _0x21ac84=a95_0x1909ef;await this[_0x21ac84(0x158)]();const _0x133b22=[];for(const _0x2394b9 of this['paths']){if(_0x2394b9['endsWith'](_0x21ac84(0x163)))continue;const _0x527029={};_0x527029[_0x21ac84(0x13d)]=_0x2394b9;try{_0x527029[_0x21ac84(0x12f)]=await this['readComponentFiles'](_0x2394b9),_0x2394b9['startsWith'](_0x21ac84(0x159))?_0x527029['type']=_0x21ac84(0x14b):_0x527029['type']=await utils_1[_0x21ac84(0x14e)]({'files':_0x527029[_0x21ac84(0x12f)]});}catch(_0x279539){this[_0x21ac84(0x136)]['error'](_0x21ac84(0x160),_0x2394b9,_0x279539);continue;}_0x527029[_0x21ac84(0x16b)]=utils_1['extractFilenameFromPath'](_0x2394b9),_0x527029[_0x21ac84(0x15f)]=utils_1['calculateCRC32'](_0x527029);if(utils_1['isParentComponent'](_0x527029)){const _0x282471=await this['readChildComponents'](_0x527029);_0x133b22['push'](..._0x282471);}if(_0x527029[_0x21ac84(0x138)]===_0x21ac84(0x15d))continue;_0x133b22[_0x21ac84(0x15a)](_0x527029);}return _0x133b22;}}exports[a95_0x1909ef(0x143)]=MDApiParser;