const a95_0x2b5f30=a95_0x1572;(function(_0x467680,_0x77c5b8){const _0x3c63b3=a95_0x1572,_0x5b4c17=_0x467680();while(!![]){try{const _0x2efc02=parseInt(_0x3c63b3(0x1b3))/0x1*(-parseInt(_0x3c63b3(0x1dd))/0x2)+-parseInt(_0x3c63b3(0x1b6))/0x3*(parseInt(_0x3c63b3(0x1ce))/0x4)+parseInt(_0x3c63b3(0x1cf))/0x5+parseInt(_0x3c63b3(0x1e9))/0x6*(-parseInt(_0x3c63b3(0x1c0))/0x7)+-parseInt(_0x3c63b3(0x1d2))/0x8+parseInt(_0x3c63b3(0x1c6))/0x9+-parseInt(_0x3c63b3(0x1d3))/0xa*(-parseInt(_0x3c63b3(0x1e0))/0xb);if(_0x2efc02===_0x77c5b8)break;else _0x5b4c17['push'](_0x5b4c17['shift']());}catch(_0x365757){_0x5b4c17['push'](_0x5b4c17['shift']());}}}(a95_0x3e6b,0xf39d7));const a95_0x445b17=(function(){let _0x3a1b2c=!![];return function(_0x3c727d,_0x1c2b71){const _0x1a1a71=_0x3a1b2c?function(){const _0x35816e=a95_0x1572;if(_0x1c2b71){const _0x22d44b=_0x1c2b71[_0x35816e(0x1ec)](_0x3c727d,arguments);return _0x1c2b71=null,_0x22d44b;}}:function(){};return _0x3a1b2c=![],_0x1a1a71;};}()),a95_0x49667f=a95_0x445b17(this,function(){const _0x4e69aa=a95_0x1572;return a95_0x49667f[_0x4e69aa(0x1d8)]()[_0x4e69aa(0x1c8)](_0x4e69aa(0x1b5))[_0x4e69aa(0x1d8)]()['constructor'](a95_0x49667f)[_0x4e69aa(0x1c8)]('(((.+)+)+)+$');});a95_0x49667f();function a95_0x1572(_0x2bc788,_0x3f7b31){const _0xc03845=a95_0x3e6b();return a95_0x1572=function(_0x49667f,_0x445b17){_0x49667f=_0x49667f-0x1ac;let _0x3e6be5=_0xc03845[_0x49667f];return _0x3e6be5;},a95_0x1572(_0x2bc788,_0x3f7b31);}function a95_0x3e6b(){const _0x40caa1=['1476536owyeVF','330vuOsBF','__importDefault','readComponentFiles','name','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','toString','defineProperty','catch','package.xml','values','2nAgJXB','extname','../../internal/fs.internal','944427rIFgGY','files','filePath','createChildComponentsFromParent','find','extractFilenameFromPath','extractComponentTypeFromFiles','Xml','WaveTemplateBundle','12rBsGhj','\x22\x20not\x20found\x20in\x20\x22','readChildComponents','apply','relative','all','path','convertToCleanPaths','../../../constants','paths','BUNDLED_FOLDERS_REGEXP','map','experiences','default','reduce','isPathsEquals','readDir','waveTemplates','Cannot\x20parse\x20childs\x20in\x20','META_EXPERIENCES_EXTENSION','join','Logger','META_EXTENSION','MDApiParser','1135807CfXORq','split','(((.+)+)+)+$','6IEdZPD','getChildsByName','logger','isDir','utf-8','../utils','readBundledFiles','../../web-hooks/utils/git-commit.utils','startsWith','init','3815007lhKiub','../utils/xml','dir','push','-meta.xml','parse','11297043BMTTjI','type','search','.site-meta.xml','isSFDXProject','crc','test','calculateCRC32','1656076wQSWzN','738765znnQOb','endsWith','readFile'];a95_0x3e6b=function(){return _0x40caa1;};return a95_0x3e6b();}'use strict';var __importDefault=this&&this[a95_0x2b5f30(0x1d4)]||function(_0xa071e2){return _0xa071e2&&_0xa071e2['__esModule']?_0xa071e2:{'default':_0xa071e2};};Object[a95_0x2b5f30(0x1d9)](exports,'__esModule',{'value':!![]}),exports[a95_0x2b5f30(0x1b2)]=void 0x0;const fs_internal_1=require(a95_0x2b5f30(0x1df)),utils_1=require(a95_0x2b5f30(0x1bb)),path_1=require(a95_0x2b5f30(0x1ef)),xml_1=require(a95_0x2b5f30(0x1c1)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a95_0x2b5f30(0x1f1)),core_1=require('../../../core'),git_commit_utils_1=require(a95_0x2b5f30(0x1bd)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a95_0x2b5f30(0x1f6)]);class MDApiParser{constructor(_0x3ec627,_0x5559b9,_0x7a59c4){const _0x417d53=a95_0x2b5f30;this[_0x417d53(0x1c2)]=_0x3ec627,this['isSFDXProject']=_0x7a59c4,this['logger']=new core_1[(_0x417d53(0x1b0))](MDApiParser[_0x417d53(0x1d6)]),this['META_EXTENSION']=_0x417d53(0x1c4),this[_0x417d53(0x1ae)]=_0x417d53(0x1c9),this[_0x417d53(0x1f2)]=utils_1[_0x417d53(0x1f0)](_0x5559b9);}async[a95_0x2b5f30(0x1eb)](_0x496dce){const _0x1d65a7=a95_0x2b5f30;try{const _0x5b9647=await xml_1[_0x1d65a7(0x1e7)][_0x1d65a7(0x1c5)](Object[_0x1d65a7(0x1dc)](_0x496dce[_0x1d65a7(0x1e1)])[0x0][_0x1d65a7(0x1d8)](_0x1d65a7(0x1ba))),_0x420cb4=CHILD_XML_KEYS['filter'](_0x8a6883=>xml_1[_0x1d65a7(0x1e7)]['hasChildNodes'](_0x5b9647,_0x8a6883))[_0x1d65a7(0x1f7)]((_0x3be8bf,_0x12f6de)=>[..._0x3be8bf,...xml_1[_0x1d65a7(0x1e7)][_0x1d65a7(0x1b7)](_0x5b9647,_0x12f6de)],[]);return utils_1[_0x1d65a7(0x1e3)](_0x496dce,_0x5b9647,_0x420cb4);}catch(_0x28e7f7){throw new Error(_0x1d65a7(0x1ad)+_0x496dce['name']+'\x20['+_0x496dce[_0x1d65a7(0x1c7)]+']');}}async[a95_0x2b5f30(0x1bc)](_0x3fd40d){const _0x6dcc21=a95_0x2b5f30,_0x3838b9=path_1[_0x6dcc21(0x1af)](this[_0x6dcc21(0x1c2)],_0x3fd40d),_0x11c3cc=_0x3fd40d+(_0x3fd40d[_0x6dcc21(0x1be)](_0x6dcc21(0x1f5))?this[_0x6dcc21(0x1ae)]:this[_0x6dcc21(0x1b1)]),_0x322376=await fs_internal_1['FS'][_0x6dcc21(0x1f9)](_0x3838b9,!![]),_0x58ad17=await fs_internal_1['FS'][_0x6dcc21(0x1d1)](path_1[_0x6dcc21(0x1af)](this[_0x6dcc21(0x1c2)],_0x11c3cc),!![])[_0x6dcc21(0x1da)](()=>null),_0x16b961={};for(const _0x452b87 of _0x322376){_0x16b961[path_1[_0x6dcc21(0x1ed)](this['dir'],_0x452b87)]=await fs_internal_1['FS'][_0x6dcc21(0x1d1)](_0x452b87,!![]);}return _0x58ad17&&(_0x16b961[path_1[_0x6dcc21(0x1ed)](this[_0x6dcc21(0x1c2)],_0x11c3cc)]=_0x58ad17),_0x16b961;}async[a95_0x2b5f30(0x1d5)](_0x5a73bb){const _0x1a4fb7=a95_0x2b5f30;let _0x148f6c=_0x5a73bb+this[_0x1a4fb7(0x1b1)];if(constants_1[_0x1a4fb7(0x1f3)][_0x1a4fb7(0x1cc)](_0x5a73bb))return this[_0x1a4fb7(0x1bc)](_0x5a73bb);if(await fs_internal_1['FS']['isDir'](path_1['join'](this['dir'],_0x5a73bb)))return{[_0x148f6c]:await fs_internal_1['FS']['readFile'](path_1[_0x1a4fb7(0x1af)](this[_0x1a4fb7(0x1c2)],_0x148f6c),!![])};if(!path_1[_0x1a4fb7(0x1de)](_0x5a73bb)&&this[_0x1a4fb7(0x1ca)]){const _0x519a17=_0x5a73bb[_0x1a4fb7(0x1b4)]('/')[0x0],_0x29ecf1=(await fs_internal_1['FS'][_0x1a4fb7(0x1f9)](path_1[_0x1a4fb7(0x1af)](this[_0x1a4fb7(0x1c2)],_0x519a17)))[_0x1a4fb7(0x1e4)](_0x2d4f40=>git_commit_utils_1[_0x1a4fb7(0x1f8)](_0x2d4f40,path_1['join'](this[_0x1a4fb7(0x1c2)],_0x5a73bb)));if(!_0x29ecf1)throw new Error('Component\x20\x22'+_0x5a73bb+_0x1a4fb7(0x1ea)+_0x519a17+'\x22');_0x5a73bb=path_1['relative'](this[_0x1a4fb7(0x1c2)],_0x29ecf1),_0x148f6c=_0x5a73bb+this[_0x1a4fb7(0x1b1)];}const [_0x10be3a,_0x2bbf32]=await Promise[_0x1a4fb7(0x1ee)]([fs_internal_1['FS'][_0x1a4fb7(0x1d1)](path_1[_0x1a4fb7(0x1af)](this['dir'],_0x5a73bb),!![])['catch'](()=>null),fs_internal_1['FS'][_0x1a4fb7(0x1d1)](path_1['join'](this['dir'],_0x148f6c),!![])[_0x1a4fb7(0x1da)](()=>null)]);return{..._0x10be3a?{[_0x5a73bb]:_0x10be3a}:{},..._0x2bbf32?{[_0x148f6c]:_0x2bbf32}:{}};}async[a95_0x2b5f30(0x1bf)](){const _0x48cd68=a95_0x2b5f30,_0x495976=[...this[_0x48cd68(0x1f2)]];if(this['isSFDXProject'])for(const _0x208861 of _0x495976){if(await fs_internal_1['FS'][_0x48cd68(0x1b9)](path_1[_0x48cd68(0x1af)](this['dir'],_0x208861))){const _0x3c0cb5=await fs_internal_1['FS'][_0x48cd68(0x1f9)](path_1['join'](this[_0x48cd68(0x1c2)],_0x208861),!![]);_0x495976[_0x48cd68(0x1c3)](..._0x3c0cb5[_0x48cd68(0x1f4)](_0x54c833=>path_1[_0x48cd68(0x1ed)](this['dir'],_0x54c833)));}}this[_0x48cd68(0x1f2)]=utils_1['convertToCleanPaths'](_0x495976);}async[a95_0x2b5f30(0x1c5)](){const _0x23e61b=a95_0x2b5f30,_0x36edf0=[];for(const _0x7dcf88 of this[_0x23e61b(0x1f2)]){if(_0x7dcf88[_0x23e61b(0x1d0)](_0x23e61b(0x1db)))continue;const _0x314525={};_0x314525[_0x23e61b(0x1e2)]=_0x7dcf88;try{_0x314525[_0x23e61b(0x1e1)]=await this['readComponentFiles'](_0x7dcf88),_0x7dcf88['startsWith'](_0x23e61b(0x1ac))?_0x314525[_0x23e61b(0x1c7)]=_0x23e61b(0x1e8):_0x314525[_0x23e61b(0x1c7)]=await utils_1[_0x23e61b(0x1e6)]({'files':_0x314525[_0x23e61b(0x1e1)]});}catch(_0x527336){this[_0x23e61b(0x1b8)]['error'](_0x23e61b(0x1d7),_0x7dcf88,_0x527336);continue;}_0x314525['name']=utils_1[_0x23e61b(0x1e5)](_0x7dcf88),_0x314525[_0x23e61b(0x1cb)]=utils_1[_0x23e61b(0x1cd)](_0x314525);if(utils_1['isParentComponent'](_0x314525)){const _0x25467b=await this[_0x23e61b(0x1eb)](_0x314525);_0x36edf0['push'](..._0x25467b);}_0x36edf0[_0x23e61b(0x1c3)](_0x314525);}return _0x36edf0;}}exports[a95_0x2b5f30(0x1b2)]=MDApiParser;