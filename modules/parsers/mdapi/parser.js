const a96_0x47b20d=a96_0x1a9f;(function(_0x568b1a,_0x4543df){const _0x35702c=a96_0x1a9f,_0x1a785d=_0x568b1a();while(!![]){try{const _0xb52aa0=-parseInt(_0x35702c(0x1c1))/0x1*(-parseInt(_0x35702c(0x1be))/0x2)+-parseInt(_0x35702c(0x1c2))/0x3+-parseInt(_0x35702c(0x1d5))/0x4+-parseInt(_0x35702c(0x1b6))/0x5*(-parseInt(_0x35702c(0x1ac))/0x6)+-parseInt(_0x35702c(0x1a1))/0x7*(parseInt(_0x35702c(0x1b1))/0x8)+-parseInt(_0x35702c(0x1ab))/0x9*(parseInt(_0x35702c(0x1b9))/0xa)+parseInt(_0x35702c(0x1e6))/0xb*(parseInt(_0x35702c(0x1ca))/0xc);if(_0xb52aa0===_0x4543df)break;else _0x1a785d['push'](_0x1a785d['shift']());}catch(_0x4db00f){_0x1a785d['push'](_0x1a785d['shift']());}}}(a96_0x20c8,0x86693));const a96_0x33ce8f=(function(){let _0x2b942a=!![];return function(_0x1c88df,_0x3f5266){const _0x1bc1e2=_0x2b942a?function(){const _0x26de39=a96_0x1a9f;if(_0x3f5266){const _0x556224=_0x3f5266[_0x26de39(0x1ed)](_0x1c88df,arguments);return _0x3f5266=null,_0x556224;}}:function(){};return _0x2b942a=![],_0x1bc1e2;};}()),a96_0x18ae93=a96_0x33ce8f(this,function(){const _0x454d15=a96_0x1a9f;return a96_0x18ae93[_0x454d15(0x1bf)]()['search'](_0x454d15(0x1dc))['toString']()['constructor'](a96_0x18ae93)[_0x454d15(0x1cd)](_0x454d15(0x1dc));});a96_0x18ae93();'use strict';function a96_0x20c8(){const _0x578f42=['73647kiYRye','5568564CDoGzL','../../../core','dir','readDir','startsWith','98976UJvjjz','MDApiParser','extname','META_EXTENSION','push','5CdwYCI','filePath','readChildComponents','1340nhITpm','readComponentFiles','\x22\x20not\x20found\x20in\x20\x22','path','../../web-hooks/utils/git-commit.utils','1003432rGlwpB','toString','calculateCRC32','1LtBfAl','2947500ivdAeK','isParentComponent','error','isSFDXProject','../../internal/fs.internal','endsWith','../data/child-types-map','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','74436pbzJFj','init','files','search','package.xml','readFile','Logger','BUNDLED_FOLDERS_REGEXP','type','.site-meta.xml','catch','1726792uDyyJo','filter','hasChildNodes','Cannot\x20parse\x20childs\x20in\x20','split','createChildComponentsFromParent','test','(((.+)+)+)+$','-meta.xml','map','../utils','waveTemplates','name','default','join','extractComponentTypeFromFiles','defineProperty','2937otXmal','values','../../../constants','parse','isDir','logger','reduce','apply','crc','isPathsEquals','experiences','paths','14QDnLiT','relative','__esModule','__importDefault','META_EXPERIENCES_EXTENSION','extractFilenameFromPath','Xml','utf-8','convertToCleanPaths','readBundledFiles'];a96_0x20c8=function(){return _0x578f42;};return a96_0x20c8();}var __importDefault=this&&this[a96_0x47b20d(0x1a4)]||function(_0x5d618b){return _0x5d618b&&_0x5d618b['__esModule']?_0x5d618b:{'default':_0x5d618b};};function a96_0x1a9f(_0x55a0eb,_0x25f019){const _0x19664e=a96_0x20c8();return a96_0x1a9f=function(_0x18ae93,_0x33ce8f){_0x18ae93=_0x18ae93-0x19f;let _0x20c887=_0x19664e[_0x18ae93];return _0x20c887;},a96_0x1a9f(_0x55a0eb,_0x25f019);}Object[a96_0x47b20d(0x1e5)](exports,a96_0x47b20d(0x1a3),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a96_0x47b20d(0x1c6)),utils_1=require(a96_0x47b20d(0x1df)),path_1=require(a96_0x47b20d(0x1bc)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a96_0x47b20d(0x1c8))),constants_1=require(a96_0x47b20d(0x1e8)),core_1=require(a96_0x47b20d(0x1ad)),git_commit_utils_1=require(a96_0x47b20d(0x1bd)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a96_0x47b20d(0x1e2)]);class MDApiParser{constructor(_0x466bc3,_0x548a8d,_0x1d9ff1){const _0x479da2=a96_0x47b20d;this['dir']=_0x466bc3,this[_0x479da2(0x1c5)]=_0x1d9ff1,this[_0x479da2(0x1eb)]=new core_1[(_0x479da2(0x1d0))](MDApiParser['name']),this['META_EXTENSION']=_0x479da2(0x1dd),this['META_EXPERIENCES_EXTENSION']=_0x479da2(0x1d3),this[_0x479da2(0x1a0)]=_0x548a8d;}async[a96_0x47b20d(0x1b8)](_0x4118d4){const _0x4a45b4=a96_0x47b20d;try{const _0x487db1=await xml_1[_0x4a45b4(0x1a7)][_0x4a45b4(0x1e9)](Object[_0x4a45b4(0x1e7)](_0x4118d4[_0x4a45b4(0x1cc)])[0x0]['toString'](_0x4a45b4(0x1a8))),_0x4ee333=CHILD_XML_KEYS[_0x4a45b4(0x1d6)](_0x5e6a33=>xml_1[_0x4a45b4(0x1a7)][_0x4a45b4(0x1d7)](_0x487db1,_0x5e6a33))[_0x4a45b4(0x1ec)]((_0x2a7d81,_0x39bc9f)=>[..._0x2a7d81,...xml_1[_0x4a45b4(0x1a7)]['getChildsByName'](_0x487db1,_0x39bc9f)],[]);return utils_1[_0x4a45b4(0x1da)](_0x4118d4,_0x487db1,_0x4ee333);}catch(_0x48f2ee){throw new Error(_0x4a45b4(0x1d8)+_0x4118d4[_0x4a45b4(0x1e1)]+'\x20['+_0x4118d4[_0x4a45b4(0x1d2)]+']');}}async[a96_0x47b20d(0x1aa)](_0x142c4e){const _0x49bbfa=a96_0x47b20d,_0x53f566=path_1[_0x49bbfa(0x1e3)](this[_0x49bbfa(0x1ae)],_0x142c4e),_0x1ae0ab=_0x142c4e+(_0x142c4e['startsWith'](_0x49bbfa(0x19f))?this[_0x49bbfa(0x1a5)]:this[_0x49bbfa(0x1b4)]),_0x36be97=await fs_internal_1['FS'][_0x49bbfa(0x1af)](_0x53f566,!![]),_0x33dcac=await fs_internal_1['FS'][_0x49bbfa(0x1cf)](path_1[_0x49bbfa(0x1e3)](this[_0x49bbfa(0x1ae)],_0x1ae0ab),!![])[_0x49bbfa(0x1d4)](()=>null),_0x187665={};for(const _0x12b02b of _0x36be97){_0x187665[path_1['relative'](this['dir'],_0x12b02b)]=await fs_internal_1['FS'][_0x49bbfa(0x1cf)](_0x12b02b,!![]);}return _0x33dcac&&(_0x187665[path_1[_0x49bbfa(0x1a2)](this[_0x49bbfa(0x1ae)],_0x1ae0ab)]=_0x33dcac),_0x187665;}async[a96_0x47b20d(0x1ba)](_0x5a10d0){const _0x14602a=a96_0x47b20d;let _0x501a2d=_0x5a10d0+this[_0x14602a(0x1b4)];if(constants_1[_0x14602a(0x1d1)][_0x14602a(0x1db)](_0x5a10d0))return this[_0x14602a(0x1aa)](_0x5a10d0);if(await fs_internal_1['FS'][_0x14602a(0x1ea)](path_1[_0x14602a(0x1e3)](this[_0x14602a(0x1ae)],_0x5a10d0)))return{[_0x501a2d]:await fs_internal_1['FS'][_0x14602a(0x1cf)](path_1[_0x14602a(0x1e3)](this[_0x14602a(0x1ae)],_0x501a2d),!![])};if(!path_1[_0x14602a(0x1b3)](_0x5a10d0)&&this['isSFDXProject']){const _0x92ae0c=_0x5a10d0[_0x14602a(0x1d9)]('/')[0x0],_0xe95511=(await fs_internal_1['FS'][_0x14602a(0x1af)](path_1[_0x14602a(0x1e3)](this[_0x14602a(0x1ae)],_0x92ae0c)))['find'](_0x4b5ee7=>git_commit_utils_1[_0x14602a(0x1ef)](_0x4b5ee7,path_1['join'](this[_0x14602a(0x1ae)],_0x5a10d0)));if(!_0xe95511)throw new Error('Component\x20\x22'+_0x5a10d0+_0x14602a(0x1bb)+_0x92ae0c+'\x22');_0x5a10d0=path_1[_0x14602a(0x1a2)](this['dir'],_0xe95511),_0x501a2d=_0x5a10d0+this['META_EXTENSION'];}const [_0x4e9375,_0x4487c2]=await Promise['all']([fs_internal_1['FS'][_0x14602a(0x1cf)](path_1[_0x14602a(0x1e3)](this[_0x14602a(0x1ae)],_0x5a10d0),!![])[_0x14602a(0x1d4)](()=>null),fs_internal_1['FS'][_0x14602a(0x1cf)](path_1['join'](this[_0x14602a(0x1ae)],_0x501a2d),!![])['catch'](()=>null)]);return{..._0x4e9375?{[_0x5a10d0]:_0x4e9375}:{},..._0x4487c2?{[_0x501a2d]:_0x4487c2}:{}};}async[a96_0x47b20d(0x1cb)](){const _0x8727c=a96_0x47b20d,_0x128e6b=[...this[_0x8727c(0x1a0)]];if(this['isSFDXProject'])for(const _0xfb8c1c of _0x128e6b){if(await fs_internal_1['FS'][_0x8727c(0x1ea)](path_1['join'](this[_0x8727c(0x1ae)],_0xfb8c1c))){const _0x174dc5=await fs_internal_1['FS'][_0x8727c(0x1af)](path_1[_0x8727c(0x1e3)](this['dir'],_0xfb8c1c),!![]);_0x128e6b[_0x8727c(0x1b5)](..._0x174dc5[_0x8727c(0x1de)](_0x1c5e58=>path_1[_0x8727c(0x1a2)](this[_0x8727c(0x1ae)],_0x1c5e58)));}}this[_0x8727c(0x1a0)]=utils_1[_0x8727c(0x1a9)](_0x128e6b);}async[a96_0x47b20d(0x1e9)](){const _0x169a8b=a96_0x47b20d;await this['init']();const _0xca17ca=[];for(const _0x319430 of this[_0x169a8b(0x1a0)]){if(_0x319430[_0x169a8b(0x1c7)](_0x169a8b(0x1ce)))continue;const _0x4f1dde={};_0x4f1dde[_0x169a8b(0x1b7)]=_0x319430;try{_0x4f1dde[_0x169a8b(0x1cc)]=await this[_0x169a8b(0x1ba)](_0x319430),_0x319430[_0x169a8b(0x1b0)](_0x169a8b(0x1e0))?_0x4f1dde[_0x169a8b(0x1d2)]='WaveTemplateBundle':_0x4f1dde['type']=await utils_1[_0x169a8b(0x1e4)]({'files':_0x4f1dde[_0x169a8b(0x1cc)]});}catch(_0xc08ead){this[_0x169a8b(0x1eb)][_0x169a8b(0x1c4)](_0x169a8b(0x1c9),_0x319430,_0xc08ead);continue;}_0x4f1dde[_0x169a8b(0x1e1)]=utils_1[_0x169a8b(0x1a6)](_0x319430),_0x4f1dde[_0x169a8b(0x1ee)]=utils_1[_0x169a8b(0x1c0)](_0x4f1dde);if(utils_1[_0x169a8b(0x1c3)](_0x4f1dde)){const _0x588c01=await this[_0x169a8b(0x1b8)](_0x4f1dde);_0xca17ca[_0x169a8b(0x1b5)](..._0x588c01);}if(_0x4f1dde[_0x169a8b(0x1d2)]==='CustomLabels')continue;_0xca17ca[_0x169a8b(0x1b5)](_0x4f1dde);}return _0xca17ca;}}exports[a96_0x47b20d(0x1b2)]=MDApiParser;