const a96_0x8ed136=a96_0xb9ed;(function(_0x311d14,_0x4468){const _0x450449=a96_0xb9ed,_0x102b3a=_0x311d14();while(!![]){try{const _0x991071=-parseInt(_0x450449(0x12f))/0x1*(parseInt(_0x450449(0x137))/0x2)+-parseInt(_0x450449(0x129))/0x3*(parseInt(_0x450449(0x167))/0x4)+parseInt(_0x450449(0x146))/0x5+-parseInt(_0x450449(0x15e))/0x6+-parseInt(_0x450449(0x143))/0x7+-parseInt(_0x450449(0x14a))/0x8*(parseInt(_0x450449(0x126))/0x9)+parseInt(_0x450449(0x147))/0xa;if(_0x991071===_0x4468)break;else _0x102b3a['push'](_0x102b3a['shift']());}catch(_0x129930){_0x102b3a['push'](_0x102b3a['shift']());}}}(a96_0x410c,0x3bd08));const a96_0x453b19=(function(){let _0x115658=!![];return function(_0x2fbd55,_0x377a00){const _0x173b08=_0x115658?function(){const _0x5dc71b=a96_0xb9ed;if(_0x377a00){const _0x17ca50=_0x377a00[_0x5dc71b(0x131)](_0x2fbd55,arguments);return _0x377a00=null,_0x17ca50;}}:function(){};return _0x115658=![],_0x173b08;};}()),a96_0x493cf0=a96_0x453b19(this,function(){const _0x2e07ba=a96_0xb9ed;return a96_0x493cf0[_0x2e07ba(0x163)]()[_0x2e07ba(0x156)](_0x2e07ba(0x134))['toString']()[_0x2e07ba(0x144)](a96_0x493cf0)[_0x2e07ba(0x156)](_0x2e07ba(0x134));});a96_0x493cf0();'use strict';var __importDefault=this&&this[a96_0x8ed136(0x164)]||function(_0x420384){const _0x1d6db4=a96_0x8ed136;return _0x420384&&_0x420384[_0x1d6db4(0x130)]?_0x420384:{'default':_0x420384};};function a96_0x410c(){const _0x3ca28c=['logger','MDApiParser','createChildComponentsFromParent','relative','META_EXTENSION','calculateCRC32','reduce','test','../utils/xml','extname','search','Logger','type','convertToCleanPaths','filter','waveTemplates','readBundledFiles','../utils','2601036uZLHCG','find','getChildsByName','files','readComponentFiles','toString','__importDefault','WaveTemplateBundle','META_EXPERIENCES_EXTENSION','3424vFpCEd','parse','Xml','readFile','map','init','9288yBBKio','extractComponentTypeFromFiles','../../web-hooks/utils/git-commit.utils','774FLHLfT','startsWith','readChildComponents','join','CustomLabels','isPathsEquals','1YdIkoT','__esModule','apply','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','filePath','(((.+)+)+)+$','paths','dir','708014Fhrnja','Component\x20\x22','crc','-meta.xml','readDir','isSFDXProject','extractFilenameFromPath','.site-meta.xml','push','all','name','experiences','852866KEKAEU','constructor','isDir','746650gdRcDG','17109090cCUQgB','path','catch','3760BqMQxP','isParentComponent'];a96_0x410c=function(){return _0x3ca28c;};return a96_0x410c();}Object['defineProperty'](exports,a96_0x8ed136(0x130),{'value':!![]}),exports[a96_0x8ed136(0x14d)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a96_0x8ed136(0x15d)),path_1=require(a96_0x8ed136(0x148)),xml_1=require(a96_0x8ed136(0x154)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../constants'),core_1=require('../../../core'),git_commit_utils_1=require(a96_0x8ed136(0x128)),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0xc0d1d6,_0x342b22,_0x5d9eda){const _0x384244=a96_0x8ed136;this[_0x384244(0x136)]=_0xc0d1d6,this['isSFDXProject']=_0x5d9eda,this[_0x384244(0x14c)]=new core_1[(_0x384244(0x157))](MDApiParser[_0x384244(0x141)]),this['META_EXTENSION']=_0x384244(0x13a),this[_0x384244(0x166)]=_0x384244(0x13e),this[_0x384244(0x135)]=_0x342b22;}async[a96_0x8ed136(0x12b)](_0x54c3c2){const _0x5a1bfe=a96_0x8ed136;try{const _0x12bfb4=await xml_1[_0x5a1bfe(0x169)]['parse'](Object['values'](_0x54c3c2[_0x5a1bfe(0x161)])[0x0][_0x5a1bfe(0x163)]('utf-8')),_0x9a1cf6=CHILD_XML_KEYS[_0x5a1bfe(0x15a)](_0x3274c1=>xml_1[_0x5a1bfe(0x169)]['hasChildNodes'](_0x12bfb4,_0x3274c1))[_0x5a1bfe(0x152)]((_0x95250d,_0x204de1)=>[..._0x95250d,...xml_1['Xml'][_0x5a1bfe(0x160)](_0x12bfb4,_0x204de1)],[]);return utils_1[_0x5a1bfe(0x14e)](_0x54c3c2,_0x12bfb4,_0x9a1cf6);}catch(_0x516ec3){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x54c3c2[_0x5a1bfe(0x141)]+'\x20['+_0x54c3c2[_0x5a1bfe(0x158)]+']');}}async[a96_0x8ed136(0x15c)](_0x3466d9){const _0x3fd473=a96_0x8ed136,_0x51c069=path_1[_0x3fd473(0x12c)](this[_0x3fd473(0x136)],_0x3466d9),_0x871012=_0x3466d9+(_0x3466d9[_0x3fd473(0x12a)](_0x3fd473(0x142))?this[_0x3fd473(0x166)]:this['META_EXTENSION']),_0x14dffe=await fs_internal_1['FS'][_0x3fd473(0x13b)](_0x51c069,!![]),_0x24aa8e=await fs_internal_1['FS'][_0x3fd473(0x16a)](path_1[_0x3fd473(0x12c)](this[_0x3fd473(0x136)],_0x871012),!![])[_0x3fd473(0x149)](()=>null),_0x5b8037={};for(const _0xa34efd of _0x14dffe){_0x5b8037[path_1[_0x3fd473(0x14f)](this[_0x3fd473(0x136)],_0xa34efd)]=await fs_internal_1['FS'][_0x3fd473(0x16a)](_0xa34efd,!![]);}return _0x24aa8e&&(_0x5b8037[path_1[_0x3fd473(0x14f)](this[_0x3fd473(0x136)],_0x871012)]=_0x24aa8e),_0x5b8037;}async[a96_0x8ed136(0x162)](_0x5dd6cf){const _0x56e119=a96_0x8ed136;let _0x16d9e6=_0x5dd6cf+this[_0x56e119(0x150)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x56e119(0x153)](_0x5dd6cf))return this[_0x56e119(0x15c)](_0x5dd6cf);if(await fs_internal_1['FS'][_0x56e119(0x145)](path_1[_0x56e119(0x12c)](this[_0x56e119(0x136)],_0x5dd6cf)))return{[_0x16d9e6]:await fs_internal_1['FS'][_0x56e119(0x16a)](path_1[_0x56e119(0x12c)](this[_0x56e119(0x136)],_0x16d9e6),!![])};if(!path_1[_0x56e119(0x155)](_0x5dd6cf)&&this[_0x56e119(0x13c)]){const _0x525fc2=_0x5dd6cf['split']('/')[0x0],_0x43127d=(await fs_internal_1['FS'][_0x56e119(0x13b)](path_1[_0x56e119(0x12c)](this[_0x56e119(0x136)],_0x525fc2)))[_0x56e119(0x15f)](_0x33fb1d=>git_commit_utils_1[_0x56e119(0x12e)](_0x33fb1d,path_1[_0x56e119(0x12c)](this[_0x56e119(0x136)],_0x5dd6cf)));if(!_0x43127d)throw new Error(_0x56e119(0x138)+_0x5dd6cf+'\x22\x20not\x20found\x20in\x20\x22'+_0x525fc2+'\x22');_0x5dd6cf=path_1[_0x56e119(0x14f)](this['dir'],_0x43127d),_0x16d9e6=_0x5dd6cf+this['META_EXTENSION'];}const [_0x71d7f8,_0x3d1fe7]=await Promise[_0x56e119(0x140)]([fs_internal_1['FS']['readFile'](path_1[_0x56e119(0x12c)](this['dir'],_0x5dd6cf),!![])['catch'](()=>null),fs_internal_1['FS'][_0x56e119(0x16a)](path_1['join'](this[_0x56e119(0x136)],_0x16d9e6),!![])[_0x56e119(0x149)](()=>null)]);return{..._0x71d7f8?{[_0x5dd6cf]:_0x71d7f8}:{},..._0x3d1fe7?{[_0x16d9e6]:_0x3d1fe7}:{}};}async['init'](){const _0x1d61c6=a96_0x8ed136,_0x412bd7=[...this[_0x1d61c6(0x135)]];if(this[_0x1d61c6(0x13c)])for(const _0x255ec3 of _0x412bd7){if(await fs_internal_1['FS'][_0x1d61c6(0x145)](path_1[_0x1d61c6(0x12c)](this[_0x1d61c6(0x136)],_0x255ec3))){const _0x3c02e1=await fs_internal_1['FS']['readDir'](path_1[_0x1d61c6(0x12c)](this[_0x1d61c6(0x136)],_0x255ec3),!![]);_0x412bd7['push'](..._0x3c02e1[_0x1d61c6(0x16b)](_0x4e1a79=>path_1[_0x1d61c6(0x14f)](this[_0x1d61c6(0x136)],_0x4e1a79)));}}this[_0x1d61c6(0x135)]=utils_1[_0x1d61c6(0x159)](_0x412bd7);}async[a96_0x8ed136(0x168)](){const _0x2ba5a5=a96_0x8ed136;await this[_0x2ba5a5(0x16c)]();const _0x1d6d3a=[];for(const _0x2e7114 of this[_0x2ba5a5(0x135)]){if(_0x2e7114['endsWith']('package.xml'))continue;const _0x48d977={};_0x48d977[_0x2ba5a5(0x133)]=_0x2e7114;try{_0x48d977['files']=await this[_0x2ba5a5(0x162)](_0x2e7114),_0x2e7114[_0x2ba5a5(0x12a)](_0x2ba5a5(0x15b))?_0x48d977['type']=_0x2ba5a5(0x165):_0x48d977[_0x2ba5a5(0x158)]=await utils_1[_0x2ba5a5(0x127)]({'files':_0x48d977[_0x2ba5a5(0x161)]});}catch(_0x321e14){this[_0x2ba5a5(0x14c)]['error'](_0x2ba5a5(0x132),_0x2e7114,_0x321e14);continue;}_0x48d977['name']=utils_1[_0x2ba5a5(0x13d)](_0x2e7114),_0x48d977[_0x2ba5a5(0x139)]=utils_1[_0x2ba5a5(0x151)](_0x48d977);if(utils_1[_0x2ba5a5(0x14b)](_0x48d977)){const _0x1bbb71=await this[_0x2ba5a5(0x12b)](_0x48d977);_0x1d6d3a[_0x2ba5a5(0x13f)](..._0x1bbb71);}if(_0x48d977[_0x2ba5a5(0x158)]===_0x2ba5a5(0x12d))continue;_0x1d6d3a['push'](_0x48d977);}return _0x1d6d3a;}}function a96_0xb9ed(_0x14dd4c,_0xb035b){const _0x369bfa=a96_0x410c();return a96_0xb9ed=function(_0x493cf0,_0x453b19){_0x493cf0=_0x493cf0-0x126;let _0x410c0f=_0x369bfa[_0x493cf0];return _0x410c0f;},a96_0xb9ed(_0x14dd4c,_0xb035b);}exports[a96_0x8ed136(0x14d)]=MDApiParser;