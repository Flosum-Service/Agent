const a96_0x5b20d2=a96_0xe58e;function a96_0xe58e(_0x3b115a,_0x46a8cd){const _0x2c3f20=a96_0xf953();return a96_0xe58e=function(_0x1ef37a,_0x292648){_0x1ef37a=_0x1ef37a-0x17d;let _0xf953ef=_0x2c3f20[_0x1ef37a];return _0xf953ef;},a96_0xe58e(_0x3b115a,_0x46a8cd);}(function(_0x4fee6d,_0x1f12d2){const _0x35b838=a96_0xe58e,_0x33344b=_0x4fee6d();while(!![]){try{const _0x2b1edb=parseInt(_0x35b838(0x1b7))/0x1+-parseInt(_0x35b838(0x1a4))/0x2*(parseInt(_0x35b838(0x1b4))/0x3)+-parseInt(_0x35b838(0x1b9))/0x4*(parseInt(_0x35b838(0x1bd))/0x5)+-parseInt(_0x35b838(0x19d))/0x6+parseInt(_0x35b838(0x190))/0x7*(parseInt(_0x35b838(0x17f))/0x8)+-parseInt(_0x35b838(0x184))/0x9+parseInt(_0x35b838(0x192))/0xa;if(_0x2b1edb===_0x1f12d2)break;else _0x33344b['push'](_0x33344b['shift']());}catch(_0x3fe053){_0x33344b['push'](_0x33344b['shift']());}}}(a96_0xf953,0xda143));const a96_0x292648=(function(){let _0x420f5b=!![];return function(_0x33395f,_0x1783c5){const _0x200518=_0x420f5b?function(){const _0x2e4bde=a96_0xe58e;if(_0x1783c5){const _0x46e22d=_0x1783c5[_0x2e4bde(0x1ab)](_0x33395f,arguments);return _0x1783c5=null,_0x46e22d;}}:function(){};return _0x420f5b=![],_0x200518;};}()),a96_0x1ef37a=a96_0x292648(this,function(){const _0x3a9230=a96_0xe58e;return a96_0x1ef37a[_0x3a9230(0x18f)]()[_0x3a9230(0x186)](_0x3a9230(0x1a7))[_0x3a9230(0x18f)]()[_0x3a9230(0x1a0)](a96_0x1ef37a)[_0x3a9230(0x186)](_0x3a9230(0x1a7));});a96_0x1ef37a();'use strict';function a96_0xf953(){const _0x5fda4b=['createChildComponentsFromParent','constructor','__esModule','waveTemplates','../data/child-types-map','40xFDfYM','isSFDXProject','name','(((.+)+)+)+$','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','extractComponentTypeFromFiles','calculateCRC32','apply','hasChildNodes','join','readChildComponents','type','../utils','dir','Xml','parse','104271THQULY','WaveTemplateBundle','BUNDLED_FOLDERS_REGEXP','1514942palwNJ','relative','4Qkislu','filePath','reduce','readDir','5797385WbwJsq','../../web-hooks/utils/git-commit.utils','package.xml','readComponentFiles','crc','CustomLabels','isDir','7881536pAFfEb','META_EXTENSION','experiences','paths','../../internal/fs.internal','15653700aVIFgg','isPathsEquals','search','filter','META_EXPERIENCES_EXTENSION','.site-meta.xml','push','Logger','endsWith','error','test','toString','7uFnrvl','map','27393610OnkSWe','catch','split','../../../core','MDApiParser','readFile','isParentComponent','all','files','logger','Component\x20\x22','4513962TGQpAs','readBundledFiles'];a96_0xf953=function(){return _0x5fda4b;};return a96_0xf953();}var __importDefault=this&&this['__importDefault']||function(_0x4d6eeb){const _0x201e5f=a96_0xe58e;return _0x4d6eeb&&_0x4d6eeb[_0x201e5f(0x1a1)]?_0x4d6eeb:{'default':_0x4d6eeb};};Object['defineProperty'](exports,a96_0x5b20d2(0x1a1),{'value':!![]}),exports[a96_0x5b20d2(0x196)]=void 0x0;const fs_internal_1=require(a96_0x5b20d2(0x183)),utils_1=require(a96_0x5b20d2(0x1b0)),path_1=require('path'),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a96_0x5b20d2(0x1a3))),constants_1=require('../../../constants'),core_1=require(a96_0x5b20d2(0x195)),git_commit_utils_1=require(a96_0x5b20d2(0x1be)),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0x56ec43,_0x334d57,_0x2b47e4){const _0x104e52=a96_0x5b20d2;this[_0x104e52(0x1b1)]=_0x56ec43,this[_0x104e52(0x1a5)]=_0x2b47e4,this['logger']=new core_1[(_0x104e52(0x18b))](MDApiParser[_0x104e52(0x1a6)]),this[_0x104e52(0x180)]='-meta.xml',this[_0x104e52(0x188)]=_0x104e52(0x189),this['paths']=_0x334d57;}async[a96_0x5b20d2(0x1ae)](_0xcaf8f1){const _0x5bf9ca=a96_0x5b20d2;try{const _0x349368=await xml_1[_0x5bf9ca(0x1b2)][_0x5bf9ca(0x1b3)](Object['values'](_0xcaf8f1['files'])[0x0][_0x5bf9ca(0x18f)]('utf-8')),_0x690a4c=CHILD_XML_KEYS[_0x5bf9ca(0x187)](_0x22789f=>xml_1[_0x5bf9ca(0x1b2)][_0x5bf9ca(0x1ac)](_0x349368,_0x22789f))[_0x5bf9ca(0x1bb)]((_0x2b1a6e,_0x523b3d)=>[..._0x2b1a6e,...xml_1[_0x5bf9ca(0x1b2)]['getChildsByName'](_0x349368,_0x523b3d)],[]);return utils_1[_0x5bf9ca(0x19f)](_0xcaf8f1,_0x349368,_0x690a4c);}catch(_0x3ddad0){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0xcaf8f1[_0x5bf9ca(0x1a6)]+'\x20['+_0xcaf8f1[_0x5bf9ca(0x1af)]+']');}}async[a96_0x5b20d2(0x19e)](_0x4d6765){const _0x2594df=a96_0x5b20d2,_0x453683=path_1[_0x2594df(0x1ad)](this[_0x2594df(0x1b1)],_0x4d6765),_0x4efb86=_0x4d6765+(_0x4d6765['startsWith'](_0x2594df(0x181))?this[_0x2594df(0x188)]:this[_0x2594df(0x180)]),_0x58a3aa=await fs_internal_1['FS'][_0x2594df(0x1bc)](_0x453683,!![]),_0xba61b9=await fs_internal_1['FS'][_0x2594df(0x197)](path_1[_0x2594df(0x1ad)](this['dir'],_0x4efb86),!![])[_0x2594df(0x193)](()=>null),_0x2c31ea={};for(const _0x587fae of _0x58a3aa){_0x2c31ea[path_1['relative'](this[_0x2594df(0x1b1)],_0x587fae)]=await fs_internal_1['FS'][_0x2594df(0x197)](_0x587fae,!![]);}return _0xba61b9&&(_0x2c31ea[path_1[_0x2594df(0x1b8)](this[_0x2594df(0x1b1)],_0x4efb86)]=_0xba61b9),_0x2c31ea;}async[a96_0x5b20d2(0x1c0)](_0x218478){const _0x34be32=a96_0x5b20d2;let _0x29b281=_0x218478+this[_0x34be32(0x180)];if(constants_1[_0x34be32(0x1b6)][_0x34be32(0x18e)](_0x218478))return this[_0x34be32(0x19e)](_0x218478);if(await fs_internal_1['FS'][_0x34be32(0x17e)](path_1[_0x34be32(0x1ad)](this[_0x34be32(0x1b1)],_0x218478)))return{[_0x29b281]:await fs_internal_1['FS'][_0x34be32(0x197)](path_1['join'](this[_0x34be32(0x1b1)],_0x29b281),!![])};if(!path_1['extname'](_0x218478)&&this[_0x34be32(0x1a5)]){const _0x475481=_0x218478[_0x34be32(0x194)]('/')[0x0],_0x26a735=(await fs_internal_1['FS'][_0x34be32(0x1bc)](path_1[_0x34be32(0x1ad)](this[_0x34be32(0x1b1)],_0x475481)))['find'](_0x163f0a=>git_commit_utils_1[_0x34be32(0x185)](_0x163f0a,path_1[_0x34be32(0x1ad)](this[_0x34be32(0x1b1)],_0x218478)));if(!_0x26a735)throw new Error(_0x34be32(0x19c)+_0x218478+'\x22\x20not\x20found\x20in\x20\x22'+_0x475481+'\x22');_0x218478=path_1[_0x34be32(0x1b8)](this[_0x34be32(0x1b1)],_0x26a735),_0x29b281=_0x218478+this['META_EXTENSION'];}const [_0x2d5011,_0x4b2313]=await Promise[_0x34be32(0x199)]([fs_internal_1['FS'][_0x34be32(0x197)](path_1['join'](this[_0x34be32(0x1b1)],_0x218478),!![])[_0x34be32(0x193)](()=>null),fs_internal_1['FS'][_0x34be32(0x197)](path_1[_0x34be32(0x1ad)](this[_0x34be32(0x1b1)],_0x29b281),!![])[_0x34be32(0x193)](()=>null)]);return{..._0x2d5011?{[_0x218478]:_0x2d5011}:{},..._0x4b2313?{[_0x29b281]:_0x4b2313}:{}};}async['init'](){const _0x4eb28a=a96_0x5b20d2,_0x1d9862=[...this[_0x4eb28a(0x182)]];if(this[_0x4eb28a(0x1a5)])for(const _0x3b3b6f of _0x1d9862){if(constants_1[_0x4eb28a(0x1b6)]['test'](_0x3b3b6f))continue;if(await fs_internal_1['FS'][_0x4eb28a(0x17e)](path_1[_0x4eb28a(0x1ad)](this[_0x4eb28a(0x1b1)],_0x3b3b6f))){const _0x4399d6=await fs_internal_1['FS'][_0x4eb28a(0x1bc)](path_1[_0x4eb28a(0x1ad)](this[_0x4eb28a(0x1b1)],_0x3b3b6f),!![]);_0x1d9862['push'](..._0x4399d6[_0x4eb28a(0x191)](_0x59a812=>path_1[_0x4eb28a(0x1b8)](this[_0x4eb28a(0x1b1)],_0x59a812)));}}this[_0x4eb28a(0x182)]=utils_1['convertToCleanPaths'](_0x1d9862);}async[a96_0x5b20d2(0x1b3)](){const _0x2cae3d=a96_0x5b20d2;await this['init']();const _0x2ddc69=[];for(const _0x378827 of this[_0x2cae3d(0x182)]){if(_0x378827[_0x2cae3d(0x18c)](_0x2cae3d(0x1bf)))continue;const _0x146b04={};try{_0x146b04[_0x2cae3d(0x19a)]=await this[_0x2cae3d(0x1c0)](_0x378827),_0x146b04[_0x2cae3d(0x1ba)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x2cae3d(0x18e)](_0x378827)?_0x378827:utils_1['extractFileNameFromFiles']({'files':_0x146b04['files']}),_0x378827['startsWith'](_0x2cae3d(0x1a2))?_0x146b04[_0x2cae3d(0x1af)]=_0x2cae3d(0x1b5):_0x146b04['type']=await utils_1[_0x2cae3d(0x1a9)]({'files':_0x146b04[_0x2cae3d(0x19a)]});}catch(_0xf85167){this[_0x2cae3d(0x19b)][_0x2cae3d(0x18d)](_0x2cae3d(0x1a8),_0x378827,_0xf85167);continue;}_0x146b04[_0x2cae3d(0x1a6)]=utils_1['extractFilenameFromPath'](_0x378827),_0x146b04[_0x2cae3d(0x1c1)]=utils_1[_0x2cae3d(0x1aa)](_0x146b04);if(utils_1[_0x2cae3d(0x198)](_0x146b04)){const _0x29f580=await this[_0x2cae3d(0x1ae)](_0x146b04);_0x2ddc69[_0x2cae3d(0x18a)](..._0x29f580);}if(_0x146b04[_0x2cae3d(0x1af)]===_0x2cae3d(0x17d))continue;_0x2ddc69[_0x2cae3d(0x18a)](_0x146b04);}return _0x2ddc69;}}exports[a96_0x5b20d2(0x196)]=MDApiParser;