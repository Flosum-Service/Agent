const a96_0x2d3bb5=a96_0xdd03;function a96_0x3693(){const _0x5e74e7=['search','relative','72KmvAWJ','createChildComponentsFromParent','588OFHaen','../../../core','17962ejbrIi','557230Vuuxgq','push','filter','convertToCleanPaths','extractComponentTypeFromFiles','Logger','../../../constants','logger','map','isParentComponent','Xml','extractFilenameFromPath','../../web-hooks/utils/git-commit.utils','MDApiParser','3000TJGLzI','calculateCRC32','../utils','defineProperty','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','getChildsByName','startsWith','paths','../../internal/fs.internal','utf-8','META_EXPERIENCES_EXTENSION','CustomLabels','readBundledFiles','66pritSu','join','WaveTemplateBundle','toString','files','BUNDLED_FOLDERS_REGEXP','error','apply','isDir','923234gaRwfy','default','catch','readFile','162351ZvqNaS','499195NpGjNe','__esModule','find','path','readChildComponents','readDir','filePath','values','name','constructor','package.xml','dir','isSFDXProject','waveTemplates','all','hasChildNodes','crc','experiences','type','148MeDUAO','test','Cannot\x20parse\x20childs\x20in\x20','split','243stDfom','META_EXTENSION','extname','.site-meta.xml','220sFYSJE','isPathsEquals','55929APyIYE','parse','init'];a96_0x3693=function(){return _0x5e74e7;};return a96_0x3693();}(function(_0x2a9946,_0x5157e0){const _0x49117a=a96_0xdd03,_0x34572f=_0x2a9946();while(!![]){try{const _0x5f247f=parseInt(_0x49117a(0xbe))/0x1*(parseInt(_0x49117a(0xba))/0x2)+-parseInt(_0x49117a(0xc4))/0x3*(parseInt(_0x49117a(0xc2))/0x4)+-parseInt(_0x49117a(0xa7))/0x5*(parseInt(_0x49117a(0xc9))/0x6)+-parseInt(_0x49117a(0xcd))/0x7*(parseInt(_0x49117a(0xdc))/0x8)+-parseInt(_0x49117a(0xa6))/0x9+parseInt(_0x49117a(0xce))/0xa*(parseInt(_0x49117a(0xe9))/0xb)+parseInt(_0x49117a(0xcb))/0xc*(parseInt(_0x49117a(0xf2))/0xd);if(_0x5f247f===_0x5157e0)break;else _0x34572f['push'](_0x34572f['shift']());}catch(_0x1f8f0d){_0x34572f['push'](_0x34572f['shift']());}}}(a96_0x3693,0x99700));const a96_0x3f6546=(function(){let _0x22b9e9=!![];return function(_0x325fc1,_0x3dd0c7){const _0x488d32=_0x22b9e9?function(){const _0x5cb298=a96_0xdd03;if(_0x3dd0c7){const _0x12745b=_0x3dd0c7[_0x5cb298(0xf0)](_0x325fc1,arguments);return _0x3dd0c7=null,_0x12745b;}}:function(){};return _0x22b9e9=![],_0x488d32;};}()),a96_0x2720f4=a96_0x3f6546(this,function(){const _0x226255=a96_0xdd03;return a96_0x2720f4[_0x226255(0xec)]()[_0x226255(0xc7)]('(((.+)+)+)+$')['toString']()[_0x226255(0xb0)](a96_0x2720f4)[_0x226255(0xc7)]('(((.+)+)+)+$');});a96_0x2720f4();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2296ed){return _0x2296ed&&_0x2296ed['__esModule']?_0x2296ed:{'default':_0x2296ed};};Object[a96_0x2d3bb5(0xdf)](exports,a96_0x2d3bb5(0xa8),{'value':!![]}),exports[a96_0x2d3bb5(0xdb)]=void 0x0;function a96_0xdd03(_0x15ec67,_0x592df3){const _0x526204=a96_0x3693();return a96_0xdd03=function(_0x2720f4,_0x3f6546){_0x2720f4=_0x2720f4-0xa4;let _0x369323=_0x526204[_0x2720f4];return _0x369323;},a96_0xdd03(_0x15ec67,_0x592df3);}const fs_internal_1=require(a96_0x2d3bb5(0xe4)),utils_1=require(a96_0x2d3bb5(0xde)),path_1=require(a96_0x2d3bb5(0xaa)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a96_0x2d3bb5(0xd4)),core_1=require(a96_0x2d3bb5(0xcc)),git_commit_utils_1=require(a96_0x2d3bb5(0xda)),CHILD_XML_KEYS=Object[a96_0x2d3bb5(0xae)](child_types_map_1[a96_0x2d3bb5(0xf3)]);class MDApiParser{constructor(_0x4cee15,_0x1c7993,_0x5c5c0e){const _0x232163=a96_0x2d3bb5;this[_0x232163(0xb2)]=_0x4cee15,this[_0x232163(0xb3)]=_0x5c5c0e,this[_0x232163(0xd5)]=new core_1[(_0x232163(0xd3))](MDApiParser['name']),this['META_EXTENSION']='-meta.xml',this[_0x232163(0xe6)]=_0x232163(0xc1),this[_0x232163(0xe3)]=_0x1c7993;}async['readChildComponents'](_0x1531af){const _0x31a329=a96_0x2d3bb5;try{const _0x167aa2=await xml_1['Xml'][_0x31a329(0xc5)](Object[_0x31a329(0xae)](_0x1531af['files'])[0x0][_0x31a329(0xec)](_0x31a329(0xe5))),_0x220115=CHILD_XML_KEYS[_0x31a329(0xd0)](_0x17719f=>xml_1[_0x31a329(0xd8)][_0x31a329(0xb6)](_0x167aa2,_0x17719f))['reduce']((_0x3bf61f,_0x24a776)=>[..._0x3bf61f,...xml_1[_0x31a329(0xd8)][_0x31a329(0xe1)](_0x167aa2,_0x24a776)],[]);return utils_1[_0x31a329(0xca)](_0x1531af,_0x167aa2,_0x220115);}catch(_0x1d5db5){throw new Error(_0x31a329(0xbc)+_0x1531af[_0x31a329(0xaf)]+'\x20['+_0x1531af[_0x31a329(0xb9)]+']');}}async['readBundledFiles'](_0x527ddc){const _0x27bf78=a96_0x2d3bb5,_0x4ea631=path_1[_0x27bf78(0xea)](this[_0x27bf78(0xb2)],_0x527ddc),_0x2fe151=_0x527ddc+(_0x527ddc['startsWith'](_0x27bf78(0xb8))?this['META_EXPERIENCES_EXTENSION']:this[_0x27bf78(0xbf)]),_0x2ee600=await fs_internal_1['FS'][_0x27bf78(0xac)](_0x4ea631,!![]),_0x1acf63=await fs_internal_1['FS']['readFile'](path_1[_0x27bf78(0xea)](this[_0x27bf78(0xb2)],_0x2fe151),!![])[_0x27bf78(0xa4)](()=>null),_0x432666={};for(const _0xe07e9e of _0x2ee600){_0x432666[path_1['relative'](this[_0x27bf78(0xb2)],_0xe07e9e)]=await fs_internal_1['FS'][_0x27bf78(0xa5)](_0xe07e9e,!![]);}return _0x1acf63&&(_0x432666[path_1[_0x27bf78(0xc8)](this[_0x27bf78(0xb2)],_0x2fe151)]=_0x1acf63),_0x432666;}async['readComponentFiles'](_0x1249b4){const _0x10f25f=a96_0x2d3bb5;let _0x4eeed2=_0x1249b4+this[_0x10f25f(0xbf)];if(constants_1[_0x10f25f(0xee)][_0x10f25f(0xbb)](_0x1249b4))return this[_0x10f25f(0xe8)](_0x1249b4);if(await fs_internal_1['FS'][_0x10f25f(0xf1)](path_1['join'](this[_0x10f25f(0xb2)],_0x1249b4)))return{[_0x4eeed2]:await fs_internal_1['FS'][_0x10f25f(0xa5)](path_1['join'](this[_0x10f25f(0xb2)],_0x4eeed2),!![])};if(!path_1[_0x10f25f(0xc0)](_0x1249b4)&&this[_0x10f25f(0xb3)]){const _0x5f34dc=_0x1249b4[_0x10f25f(0xbd)]('/')[0x0],_0x17023f=(await fs_internal_1['FS'][_0x10f25f(0xac)](path_1['join'](this['dir'],_0x5f34dc)))[_0x10f25f(0xa9)](_0x595bd7=>git_commit_utils_1[_0x10f25f(0xc3)](_0x595bd7,path_1[_0x10f25f(0xea)](this['dir'],_0x1249b4)));if(!_0x17023f)throw new Error('Component\x20\x22'+_0x1249b4+'\x22\x20not\x20found\x20in\x20\x22'+_0x5f34dc+'\x22');_0x1249b4=path_1['relative'](this['dir'],_0x17023f),_0x4eeed2=_0x1249b4+this['META_EXTENSION'];}const [_0x3a9081,_0x443253]=await Promise[_0x10f25f(0xb5)]([fs_internal_1['FS'][_0x10f25f(0xa5)](path_1['join'](this[_0x10f25f(0xb2)],_0x1249b4),!![])['catch'](()=>null),fs_internal_1['FS'][_0x10f25f(0xa5)](path_1[_0x10f25f(0xea)](this[_0x10f25f(0xb2)],_0x4eeed2),!![])['catch'](()=>null)]);return{..._0x3a9081?{[_0x1249b4]:_0x3a9081}:{},..._0x443253?{[_0x4eeed2]:_0x443253}:{}};}async[a96_0x2d3bb5(0xc6)](){const _0x59d8a7=a96_0x2d3bb5,_0x1a19db=[...this[_0x59d8a7(0xe3)]];if(this['isSFDXProject'])for(const _0x3f2205 of _0x1a19db){if(constants_1[_0x59d8a7(0xee)][_0x59d8a7(0xbb)](_0x3f2205))continue;if(await fs_internal_1['FS'][_0x59d8a7(0xf1)](path_1['join'](this[_0x59d8a7(0xb2)],_0x3f2205))){const _0x469c50=await fs_internal_1['FS'][_0x59d8a7(0xac)](path_1[_0x59d8a7(0xea)](this[_0x59d8a7(0xb2)],_0x3f2205),!![]);_0x1a19db['push'](..._0x469c50[_0x59d8a7(0xd6)](_0x4b59e3=>path_1[_0x59d8a7(0xc8)](this[_0x59d8a7(0xb2)],_0x4b59e3)));}}this[_0x59d8a7(0xe3)]=utils_1[_0x59d8a7(0xd1)](_0x1a19db);}async[a96_0x2d3bb5(0xc5)](){const _0x1524e3=a96_0x2d3bb5;await this[_0x1524e3(0xc6)]();const _0x2022a4=[];for(const _0x1dc91f of this['paths']){if(_0x1dc91f['endsWith'](_0x1524e3(0xb1)))continue;const _0x2ab6c7={};try{_0x2ab6c7[_0x1524e3(0xed)]=await this['readComponentFiles'](_0x1dc91f),_0x2ab6c7[_0x1524e3(0xad)]=constants_1[_0x1524e3(0xee)][_0x1524e3(0xbb)](_0x1dc91f)?_0x1dc91f:utils_1['extractFileNameFromFiles']({'files':_0x2ab6c7['files']}),_0x1dc91f[_0x1524e3(0xe2)](_0x1524e3(0xb4))?_0x2ab6c7[_0x1524e3(0xb9)]=_0x1524e3(0xeb):_0x2ab6c7[_0x1524e3(0xb9)]=await utils_1[_0x1524e3(0xd2)]({'files':_0x2ab6c7[_0x1524e3(0xed)]});}catch(_0x13a54a){this['logger'][_0x1524e3(0xef)](_0x1524e3(0xe0),_0x1dc91f,_0x13a54a);continue;}_0x2ab6c7[_0x1524e3(0xaf)]=utils_1[_0x1524e3(0xd9)](_0x1dc91f),_0x2ab6c7[_0x1524e3(0xb7)]=utils_1[_0x1524e3(0xdd)](_0x2ab6c7);if(utils_1[_0x1524e3(0xd7)](_0x2ab6c7)){const _0x226501=await this[_0x1524e3(0xab)](_0x2ab6c7);_0x2022a4[_0x1524e3(0xcf)](..._0x226501);}if(_0x2ab6c7[_0x1524e3(0xb9)]===_0x1524e3(0xe7))continue;_0x2022a4['push'](_0x2ab6c7);}return _0x2022a4;}}exports[a96_0x2d3bb5(0xdb)]=MDApiParser;