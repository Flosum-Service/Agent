const a96_0x5a9a66=a96_0x29cf;(function(_0x480ccf,_0x168f28){const _0x163c0e=a96_0x29cf,_0x8a2608=_0x480ccf();while(!![]){try{const _0x26a805=parseInt(_0x163c0e(0x17d))/0x1*(parseInt(_0x163c0e(0x197))/0x2)+-parseInt(_0x163c0e(0x1ad))/0x3+parseInt(_0x163c0e(0x18e))/0x4*(parseInt(_0x163c0e(0x1b3))/0x5)+-parseInt(_0x163c0e(0x17f))/0x6+-parseInt(_0x163c0e(0x178))/0x7*(parseInt(_0x163c0e(0x1a4))/0x8)+-parseInt(_0x163c0e(0x16f))/0x9+parseInt(_0x163c0e(0x186))/0xa*(parseInt(_0x163c0e(0x170))/0xb);if(_0x26a805===_0x168f28)break;else _0x8a2608['push'](_0x8a2608['shift']());}catch(_0x4c0744){_0x8a2608['push'](_0x8a2608['shift']());}}}(a96_0xc1fa,0x52859));function a96_0xc1fa(){const _0xaff879=['map','1186866loivXs','22NIWRBz','../../../constants','isSFDXProject','filePath','values','logger','join','package.xml','1148iTTYmJ','META_EXTENSION','Logger','utf-8','split','1GGlntV','search','1061262IWDobK','init','find','calculateCRC32','crc','test','reduce','2917240uTfLLt','META_EXPERIENCES_EXTENSION','defineProperty','readDir','files','../utils','startsWith','path','172UtXYLp','name','experiences','__importDefault','../../web-hooks/utils/git-commit.utils','relative','parse','getChildsByName','.site-meta.xml','176118gdhoxK','apply','convertToCleanPaths','extname','extractFileNameFromFiles','default','filter','paths','CustomLabels','type','isPathsEquals','__esModule','all','5384gHrnAV','../utils/xml','Cannot\x20parse\x20childs\x20in\x20','dir','../data/child-types-map','BUNDLED_FOLDERS_REGEXP','readBundledFiles','WaveTemplateBundle','readComponentFiles','1743270bCTbjN','Xml','push','waveTemplates','error','(((.+)+)+)+$','77525BlVEJb','readFile','toString','MDApiParser','extractComponentTypeFromFiles','isParentComponent','catch','isDir'];a96_0xc1fa=function(){return _0xaff879;};return a96_0xc1fa();}const a96_0x382b8b=(function(){let _0x466310=!![];return function(_0x342b7a,_0x441adb){const _0x7ed7b3=_0x466310?function(){const _0x160df9=a96_0x29cf;if(_0x441adb){const _0x4941ad=_0x441adb[_0x160df9(0x198)](_0x342b7a,arguments);return _0x441adb=null,_0x4941ad;}}:function(){};return _0x466310=![],_0x7ed7b3;};}()),a96_0x446792=a96_0x382b8b(this,function(){const _0x47b69c=a96_0x29cf;return a96_0x446792[_0x47b69c(0x1b5)]()[_0x47b69c(0x17e)](_0x47b69c(0x1b2))[_0x47b69c(0x1b5)]()['constructor'](a96_0x446792)[_0x47b69c(0x17e)](_0x47b69c(0x1b2));});a96_0x446792();'use strict';function a96_0x29cf(_0x1b19ba,_0x528c24){const _0x334c79=a96_0xc1fa();return a96_0x29cf=function(_0x446792,_0x382b8b){_0x446792=_0x446792-0x16c;let _0xc1fa21=_0x334c79[_0x446792];return _0xc1fa21;},a96_0x29cf(_0x1b19ba,_0x528c24);}var __importDefault=this&&this[a96_0x5a9a66(0x191)]||function(_0x3a3666){const _0x5066ac=a96_0x5a9a66;return _0x3a3666&&_0x3a3666[_0x5066ac(0x1a2)]?_0x3a3666:{'default':_0x3a3666};};Object[a96_0x5a9a66(0x188)](exports,a96_0x5a9a66(0x1a2),{'value':!![]}),exports[a96_0x5a9a66(0x1b6)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a96_0x5a9a66(0x18b)),path_1=require(a96_0x5a9a66(0x18d)),xml_1=require(a96_0x5a9a66(0x1a5)),child_types_map_1=__importDefault(require(a96_0x5a9a66(0x1a8))),constants_1=require(a96_0x5a9a66(0x171)),core_1=require('../../../core'),git_commit_utils_1=require(a96_0x5a9a66(0x192)),CHILD_XML_KEYS=Object[a96_0x5a9a66(0x174)](child_types_map_1[a96_0x5a9a66(0x19c)]);class MDApiParser{constructor(_0x2b6858,_0xf73db8,_0x56456f){const _0x2f3752=a96_0x5a9a66;this['dir']=_0x2b6858,this[_0x2f3752(0x172)]=_0x56456f,this[_0x2f3752(0x175)]=new core_1[(_0x2f3752(0x17a))](MDApiParser[_0x2f3752(0x18f)]),this['META_EXTENSION']='-meta.xml',this[_0x2f3752(0x187)]=_0x2f3752(0x196),this[_0x2f3752(0x19e)]=_0xf73db8;}async['readChildComponents'](_0x5954d5){const _0x41b2f6=a96_0x5a9a66;try{const _0x43d6ff=await xml_1[_0x41b2f6(0x1ae)][_0x41b2f6(0x194)](Object[_0x41b2f6(0x174)](_0x5954d5[_0x41b2f6(0x18a)])[0x0][_0x41b2f6(0x1b5)](_0x41b2f6(0x17b))),_0x39578d=CHILD_XML_KEYS[_0x41b2f6(0x19d)](_0xe94ef5=>xml_1['Xml']['hasChildNodes'](_0x43d6ff,_0xe94ef5))[_0x41b2f6(0x185)]((_0x37be36,_0x201863)=>[..._0x37be36,...xml_1[_0x41b2f6(0x1ae)][_0x41b2f6(0x195)](_0x43d6ff,_0x201863)],[]);return utils_1['createChildComponentsFromParent'](_0x5954d5,_0x43d6ff,_0x39578d);}catch(_0x1f5ca9){throw new Error(_0x41b2f6(0x1a6)+_0x5954d5['name']+'\x20['+_0x5954d5[_0x41b2f6(0x1a0)]+']');}}async[a96_0x5a9a66(0x1aa)](_0x85e6b2){const _0x5ddbe5=a96_0x5a9a66,_0x1192ca=path_1['join'](this['dir'],_0x85e6b2),_0x126743=_0x85e6b2+(_0x85e6b2['startsWith'](_0x5ddbe5(0x190))?this['META_EXPERIENCES_EXTENSION']:this[_0x5ddbe5(0x179)]),_0x5c2c51=await fs_internal_1['FS'][_0x5ddbe5(0x189)](_0x1192ca,!![]),_0x5e7554=await fs_internal_1['FS'][_0x5ddbe5(0x1b4)](path_1[_0x5ddbe5(0x176)](this[_0x5ddbe5(0x1a7)],_0x126743),!![])['catch'](()=>null),_0x25c478={};for(const _0x13398c of _0x5c2c51){_0x25c478[path_1['relative'](this[_0x5ddbe5(0x1a7)],_0x13398c)]=await fs_internal_1['FS'][_0x5ddbe5(0x1b4)](_0x13398c,!![]);}return _0x5e7554&&(_0x25c478[path_1[_0x5ddbe5(0x193)](this[_0x5ddbe5(0x1a7)],_0x126743)]=_0x5e7554),_0x25c478;}async[a96_0x5a9a66(0x1ac)](_0x559e62){const _0x37b5a6=a96_0x5a9a66;let _0x4512e8=_0x559e62+this[_0x37b5a6(0x179)];if(constants_1[_0x37b5a6(0x1a9)][_0x37b5a6(0x184)](_0x559e62))return this[_0x37b5a6(0x1aa)](_0x559e62);if(await fs_internal_1['FS']['isDir'](path_1['join'](this['dir'],_0x559e62)))return{[_0x4512e8]:await fs_internal_1['FS'][_0x37b5a6(0x1b4)](path_1[_0x37b5a6(0x176)](this[_0x37b5a6(0x1a7)],_0x4512e8),!![])};if(!path_1[_0x37b5a6(0x19a)](_0x559e62)&&this['isSFDXProject']){const _0x31e174=_0x559e62[_0x37b5a6(0x17c)]('/')[0x0],_0x49f80e=(await fs_internal_1['FS'][_0x37b5a6(0x189)](path_1[_0x37b5a6(0x176)](this[_0x37b5a6(0x1a7)],_0x31e174)))[_0x37b5a6(0x181)](_0x29bc15=>git_commit_utils_1[_0x37b5a6(0x1a1)](_0x29bc15,path_1[_0x37b5a6(0x176)](this[_0x37b5a6(0x1a7)],_0x559e62)));if(!_0x49f80e)throw new Error('Component\x20\x22'+_0x559e62+'\x22\x20not\x20found\x20in\x20\x22'+_0x31e174+'\x22');_0x559e62=path_1[_0x37b5a6(0x193)](this[_0x37b5a6(0x1a7)],_0x49f80e),_0x4512e8=_0x559e62+this[_0x37b5a6(0x179)];}const [_0x3f153f,_0x46fb5c]=await Promise[_0x37b5a6(0x1a3)]([fs_internal_1['FS'][_0x37b5a6(0x1b4)](path_1[_0x37b5a6(0x176)](this[_0x37b5a6(0x1a7)],_0x559e62),!![])['catch'](()=>null),fs_internal_1['FS'][_0x37b5a6(0x1b4)](path_1[_0x37b5a6(0x176)](this['dir'],_0x4512e8),!![])[_0x37b5a6(0x16c)](()=>null)]);return{..._0x3f153f?{[_0x559e62]:_0x3f153f}:{},..._0x46fb5c?{[_0x4512e8]:_0x46fb5c}:{}};}async[a96_0x5a9a66(0x180)](){const _0x1d6144=a96_0x5a9a66,_0x3a50a4=[...this[_0x1d6144(0x19e)]];if(this[_0x1d6144(0x172)])for(const _0x3ae4cf of _0x3a50a4){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x1d6144(0x184)](_0x3ae4cf))continue;if(await fs_internal_1['FS'][_0x1d6144(0x16d)](path_1[_0x1d6144(0x176)](this[_0x1d6144(0x1a7)],_0x3ae4cf))){const _0x134a65=await fs_internal_1['FS'][_0x1d6144(0x189)](path_1[_0x1d6144(0x176)](this[_0x1d6144(0x1a7)],_0x3ae4cf),!![]);_0x3a50a4[_0x1d6144(0x1af)](..._0x134a65[_0x1d6144(0x16e)](_0x37b5ea=>path_1[_0x1d6144(0x193)](this['dir'],_0x37b5ea)));}}this['paths']=utils_1[_0x1d6144(0x199)](_0x3a50a4);}async[a96_0x5a9a66(0x194)](){const _0x5bebfa=a96_0x5a9a66;await this[_0x5bebfa(0x180)]();const _0x7d86a=[];for(const _0x25eac7 of this['paths']){if(_0x25eac7['endsWith'](_0x5bebfa(0x177)))continue;const _0x340809={};try{_0x340809[_0x5bebfa(0x18a)]=await this[_0x5bebfa(0x1ac)](_0x25eac7),_0x340809[_0x5bebfa(0x173)]=constants_1[_0x5bebfa(0x1a9)][_0x5bebfa(0x184)](_0x25eac7)?_0x25eac7:utils_1[_0x5bebfa(0x19b)]({'files':_0x340809[_0x5bebfa(0x18a)]}),_0x25eac7[_0x5bebfa(0x18c)](_0x5bebfa(0x1b0))?_0x340809[_0x5bebfa(0x1a0)]=_0x5bebfa(0x1ab):_0x340809[_0x5bebfa(0x1a0)]=await utils_1[_0x5bebfa(0x1b7)]({'files':_0x340809[_0x5bebfa(0x18a)]});}catch(_0x10f1ef){this[_0x5bebfa(0x175)][_0x5bebfa(0x1b1)]('error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x25eac7,_0x10f1ef);continue;}_0x340809[_0x5bebfa(0x18f)]=utils_1['extractFilenameFromPath'](_0x25eac7),_0x340809[_0x5bebfa(0x183)]=utils_1[_0x5bebfa(0x182)](_0x340809);if(utils_1[_0x5bebfa(0x1b8)](_0x340809)){const _0x59d5a9=await this['readChildComponents'](_0x340809);_0x7d86a[_0x5bebfa(0x1af)](..._0x59d5a9);}if(_0x340809[_0x5bebfa(0x1a0)]===_0x5bebfa(0x19f))continue;_0x7d86a['push'](_0x340809);}return _0x7d86a;}}exports[a96_0x5a9a66(0x1b6)]=MDApiParser;