const a96_0x9899c1=a96_0x365e;(function(_0x358ee5,_0x3ce488){const _0x677581=a96_0x365e,_0x1460c1=_0x358ee5();while(!![]){try{const _0x159ba2=parseInt(_0x677581(0x101))/0x1*(-parseInt(_0x677581(0xf6))/0x2)+-parseInt(_0x677581(0x10c))/0x3*(parseInt(_0x677581(0xda))/0x4)+parseInt(_0x677581(0x113))/0x5*(parseInt(_0x677581(0x102))/0x6)+parseInt(_0x677581(0xf9))/0x7*(parseInt(_0x677581(0xf4))/0x8)+parseInt(_0x677581(0x11b))/0x9*(parseInt(_0x677581(0xee))/0xa)+-parseInt(_0x677581(0xeb))/0xb+parseInt(_0x677581(0xe7))/0xc;if(_0x159ba2===_0x3ce488)break;else _0x1460c1['push'](_0x1460c1['shift']());}catch(_0x24f26b){_0x1460c1['push'](_0x1460c1['shift']());}}}(a96_0x127f,0x2fb6f));const a96_0x3e6343=(function(){let _0xf1f732=!![];return function(_0x4e1538,_0x1790c6){const _0x128e10=_0xf1f732?function(){const _0x3d21c2=a96_0x365e;if(_0x1790c6){const _0x3071eb=_0x1790c6[_0x3d21c2(0x10b)](_0x4e1538,arguments);return _0x1790c6=null,_0x3071eb;}}:function(){};return _0xf1f732=![],_0x128e10;};}()),a96_0x1763cf=a96_0x3e6343(this,function(){const _0x5bc570=a96_0x365e;return a96_0x1763cf[_0x5bc570(0x103)]()[_0x5bc570(0xd9)](_0x5bc570(0x122))[_0x5bc570(0x103)]()['constructor'](a96_0x1763cf)['search']('(((.+)+)+)+$');});a96_0x1763cf();'use strict';var __importDefault=this&&this[a96_0x9899c1(0xe3)]||function(_0x395396){const _0x58c4a3=a96_0x9899c1;return _0x395396&&_0x395396[_0x58c4a3(0xfa)]?_0x395396:{'default':_0x395396};};function a96_0x365e(_0x255a98,_0x4e516b){const _0x44d70f=a96_0x127f();return a96_0x365e=function(_0x1763cf,_0x3e6343){_0x1763cf=_0x1763cf-0xd8;let _0x127ff7=_0x44d70f[_0x1763cf];return _0x127ff7;},a96_0x365e(_0x255a98,_0x4e516b);}Object['defineProperty'](exports,a96_0x9899c1(0xfa),{'value':!![]}),exports['MDApiParser']=void 0x0;function a96_0x127f(){const _0x492c50=['../utils/xml','waveTemplates','../utils','META_EXTENSION','experiences','startsWith','apply','3BCKbLV','dir','.site-meta.xml','all','Component\x20\x22','MDApiParser','isPathsEquals','148385FjybYy','../../web-hooks/utils/git-commit.utils','map','filePath','isSFDXProject','extractComponentTypeFromFiles','readComponentFiles','endsWith','1084878WJxNkz','push','readChildComponents','readFile','join','Cannot\x20parse\x20childs\x20in\x20','-meta.xml','(((.+)+)+)+$','readBundledFiles','type','values','Logger','../data/child-types-map','search','1297988IXKVLZ','init','calculateCRC32','extractFilenameFromPath','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXPERIENCES_EXTENSION','crc','test','getChildsByName','__importDefault','name','filter','hasChildNodes','2082456ZxhFuQ','readDir','convertToCleanPaths','reduce','2308240QbzPyo','files','catch','30dbYtOm','logger','extname','parse','paths','Xml','136nyFAcL','relative','14TutKGq','utf-8','../../internal/fs.internal','26509YOtqJO','__esModule','BUNDLED_FOLDERS_REGEXP','package.xml','../../../core','find','isDir','CustomLabels','23791ofWZAY','60aJKFgU','toString','createChildComponentsFromParent'];a96_0x127f=function(){return _0x492c50;};return a96_0x127f();}const fs_internal_1=require(a96_0x9899c1(0xf8)),utils_1=require(a96_0x9899c1(0x107)),path_1=require('path'),xml_1=require(a96_0x9899c1(0x105)),child_types_map_1=__importDefault(require(a96_0x9899c1(0xd8))),constants_1=require('../../../constants'),core_1=require(a96_0x9899c1(0xfd)),git_commit_utils_1=require(a96_0x9899c1(0x114)),CHILD_XML_KEYS=Object[a96_0x9899c1(0x125)](child_types_map_1['default']);class MDApiParser{constructor(_0x163fa9,_0xbeeb93,_0x3aee67){const _0x510047=a96_0x9899c1;this['dir']=_0x163fa9,this['isSFDXProject']=_0x3aee67,this[_0x510047(0xef)]=new core_1[(_0x510047(0x126))](MDApiParser['name']),this[_0x510047(0x108)]=_0x510047(0x121),this[_0x510047(0xdf)]=_0x510047(0x10e),this[_0x510047(0xf2)]=_0xbeeb93;}async[a96_0x9899c1(0x11d)](_0x20b826){const _0x3b6ee5=a96_0x9899c1;try{const _0x55d978=await xml_1[_0x3b6ee5(0xf3)][_0x3b6ee5(0xf1)](Object[_0x3b6ee5(0x125)](_0x20b826[_0x3b6ee5(0xec)])[0x0]['toString'](_0x3b6ee5(0xf7))),_0x2c343e=CHILD_XML_KEYS[_0x3b6ee5(0xe5)](_0x2e6989=>xml_1[_0x3b6ee5(0xf3)][_0x3b6ee5(0xe6)](_0x55d978,_0x2e6989))[_0x3b6ee5(0xea)]((_0x1ae550,_0x21d1f8)=>[..._0x1ae550,...xml_1['Xml'][_0x3b6ee5(0xe2)](_0x55d978,_0x21d1f8)],[]);return utils_1[_0x3b6ee5(0x104)](_0x20b826,_0x55d978,_0x2c343e);}catch(_0x59bb94){throw new Error(_0x3b6ee5(0x120)+_0x20b826[_0x3b6ee5(0xe4)]+'\x20['+_0x20b826[_0x3b6ee5(0x124)]+']');}}async['readBundledFiles'](_0x59846f){const _0x3945e2=a96_0x9899c1,_0x394463=path_1[_0x3945e2(0x11f)](this[_0x3945e2(0x10d)],_0x59846f),_0x38473f=_0x59846f+(_0x59846f[_0x3945e2(0x10a)](_0x3945e2(0x109))?this['META_EXPERIENCES_EXTENSION']:this[_0x3945e2(0x108)]),_0x6b5b99=await fs_internal_1['FS'][_0x3945e2(0xe8)](_0x394463,!![]),_0x2efdde=await fs_internal_1['FS']['readFile'](path_1[_0x3945e2(0x11f)](this['dir'],_0x38473f),!![])[_0x3945e2(0xed)](()=>null),_0x3fac87={};for(const _0x597331 of _0x6b5b99){_0x3fac87[path_1[_0x3945e2(0xf5)](this[_0x3945e2(0x10d)],_0x597331)]=await fs_internal_1['FS'][_0x3945e2(0x11e)](_0x597331,!![]);}return _0x2efdde&&(_0x3fac87[path_1['relative'](this[_0x3945e2(0x10d)],_0x38473f)]=_0x2efdde),_0x3fac87;}async['readComponentFiles'](_0x49a6ab){const _0x2326ea=a96_0x9899c1;let _0x29ee45=_0x49a6ab+this[_0x2326ea(0x108)];if(constants_1[_0x2326ea(0xfb)][_0x2326ea(0xe1)](_0x49a6ab))return this[_0x2326ea(0x123)](_0x49a6ab);if(await fs_internal_1['FS'][_0x2326ea(0xff)](path_1['join'](this[_0x2326ea(0x10d)],_0x49a6ab)))return{[_0x29ee45]:await fs_internal_1['FS'][_0x2326ea(0x11e)](path_1[_0x2326ea(0x11f)](this['dir'],_0x29ee45),!![])};if(!path_1[_0x2326ea(0xf0)](_0x49a6ab)&&this[_0x2326ea(0x117)]){const _0x1944b0=_0x49a6ab['split']('/')[0x0],_0x55b3df=(await fs_internal_1['FS'][_0x2326ea(0xe8)](path_1[_0x2326ea(0x11f)](this[_0x2326ea(0x10d)],_0x1944b0)))[_0x2326ea(0xfe)](_0x4fc8ae=>git_commit_utils_1[_0x2326ea(0x112)](_0x4fc8ae,path_1[_0x2326ea(0x11f)](this['dir'],_0x49a6ab)));if(!_0x55b3df)throw new Error(_0x2326ea(0x110)+_0x49a6ab+'\x22\x20not\x20found\x20in\x20\x22'+_0x1944b0+'\x22');_0x49a6ab=path_1['relative'](this['dir'],_0x55b3df),_0x29ee45=_0x49a6ab+this[_0x2326ea(0x108)];}const [_0x31b705,_0x1e0548]=await Promise[_0x2326ea(0x10f)]([fs_internal_1['FS'][_0x2326ea(0x11e)](path_1[_0x2326ea(0x11f)](this[_0x2326ea(0x10d)],_0x49a6ab),!![])[_0x2326ea(0xed)](()=>null),fs_internal_1['FS'][_0x2326ea(0x11e)](path_1['join'](this[_0x2326ea(0x10d)],_0x29ee45),!![])[_0x2326ea(0xed)](()=>null)]);return{..._0x31b705?{[_0x49a6ab]:_0x31b705}:{},..._0x1e0548?{[_0x29ee45]:_0x1e0548}:{}};}async[a96_0x9899c1(0xdb)](){const _0x2a72f1=a96_0x9899c1,_0x15311d=[...this['paths']];if(this['isSFDXProject'])for(const _0x527547 of _0x15311d){if(constants_1[_0x2a72f1(0xfb)][_0x2a72f1(0xe1)](_0x527547))continue;if(await fs_internal_1['FS'][_0x2a72f1(0xff)](path_1[_0x2a72f1(0x11f)](this[_0x2a72f1(0x10d)],_0x527547))){const _0x246666=await fs_internal_1['FS'][_0x2a72f1(0xe8)](path_1['join'](this['dir'],_0x527547),!![]);_0x15311d[_0x2a72f1(0x11c)](..._0x246666[_0x2a72f1(0x115)](_0x1102a7=>path_1[_0x2a72f1(0xf5)](this[_0x2a72f1(0x10d)],_0x1102a7)));}}this[_0x2a72f1(0xf2)]=utils_1[_0x2a72f1(0xe9)](_0x15311d);}async[a96_0x9899c1(0xf1)](){const _0x49a3af=a96_0x9899c1;await this[_0x49a3af(0xdb)]();const _0x57abf3=[];for(const _0x48f7cf of this[_0x49a3af(0xf2)]){if(_0x48f7cf[_0x49a3af(0x11a)](_0x49a3af(0xfc)))continue;const _0x126d88={};try{_0x126d88[_0x49a3af(0xec)]=await this[_0x49a3af(0x119)](_0x48f7cf),_0x126d88[_0x49a3af(0x116)]=constants_1[_0x49a3af(0xfb)][_0x49a3af(0xe1)](_0x48f7cf)?_0x48f7cf:utils_1['extractFileNameFromFiles']({'files':_0x126d88['files']}),_0x48f7cf[_0x49a3af(0x10a)](_0x49a3af(0x106))?_0x126d88[_0x49a3af(0x124)]='WaveTemplateBundle':_0x126d88[_0x49a3af(0x124)]=await utils_1[_0x49a3af(0x118)]({'files':_0x126d88['files']});}catch(_0x30cf47){this[_0x49a3af(0xef)]['error'](_0x49a3af(0xde),_0x48f7cf,_0x30cf47);continue;}_0x126d88[_0x49a3af(0xe4)]=utils_1[_0x49a3af(0xdd)](_0x48f7cf),_0x126d88[_0x49a3af(0xe0)]=utils_1[_0x49a3af(0xdc)](_0x126d88);if(utils_1['isParentComponent'](_0x126d88)){const _0x15736e=await this[_0x49a3af(0x11d)](_0x126d88);_0x57abf3[_0x49a3af(0x11c)](..._0x15736e);}if(_0x126d88[_0x49a3af(0x124)]===_0x49a3af(0x100))continue;_0x57abf3[_0x49a3af(0x11c)](_0x126d88);}return _0x57abf3;}}exports[a96_0x9899c1(0x111)]=MDApiParser;