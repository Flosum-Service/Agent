const a95_0x29bc57=a95_0x4a63;(function(_0xfd4003,_0x328e42){const _0x2821dc=a95_0x4a63,_0x1cd181=_0xfd4003();while(!![]){try{const _0x3a5dc5=parseInt(_0x2821dc(0x20e))/0x1*(parseInt(_0x2821dc(0x1e8))/0x2)+parseInt(_0x2821dc(0x226))/0x3*(-parseInt(_0x2821dc(0x1f8))/0x4)+-parseInt(_0x2821dc(0x1fa))/0x5+parseInt(_0x2821dc(0x204))/0x6+-parseInt(_0x2821dc(0x1f6))/0x7+-parseInt(_0x2821dc(0x211))/0x8*(parseInt(_0x2821dc(0x1ec))/0x9)+parseInt(_0x2821dc(0x1eb))/0xa;if(_0x3a5dc5===_0x328e42)break;else _0x1cd181['push'](_0x1cd181['shift']());}catch(_0x1ad98b){_0x1cd181['push'](_0x1cd181['shift']());}}}(a95_0x4a80,0xb8c2f));const a95_0x561877=(function(){let _0x58fc39=!![];return function(_0x59661a,_0x2b442a){const _0x74bce=_0x58fc39?function(){const _0x23c18b=a95_0x4a63;if(_0x2b442a){const _0x314219=_0x2b442a[_0x23c18b(0x208)](_0x59661a,arguments);return _0x2b442a=null,_0x314219;}}:function(){};return _0x58fc39=![],_0x74bce;};}()),a95_0x216aa1=a95_0x561877(this,function(){const _0x50cb50=a95_0x4a63;return a95_0x216aa1[_0x50cb50(0x203)]()[_0x50cb50(0x230)](_0x50cb50(0x22c))[_0x50cb50(0x203)]()[_0x50cb50(0x21f)](a95_0x216aa1)[_0x50cb50(0x230)](_0x50cb50(0x22c));});a95_0x216aa1();'use strict';function a95_0x4a63(_0x58f50e,_0x148c32){const _0x4864a5=a95_0x4a80();return a95_0x4a63=function(_0x216aa1,_0x561877){_0x216aa1=_0x216aa1-0x1e3;let _0x4a8083=_0x4864a5[_0x216aa1];return _0x4a8083;},a95_0x4a63(_0x58f50e,_0x148c32);}function a95_0x4a80(){const _0x433f01=['../utils/xml','startsWith','defineProperty','1758827yBzcDH','META_EXPERIENCES_EXTENSION','96244KLJTKa','isParentComponent','2664970kEMDNC','split','readComponentFiles','parse','push','isPathsEquals','name','extname','test','toString','2426448IqwgoT','__esModule','hasChildNodes','values','apply','find','META_EXTENSION','error','endsWith','experiences','3OrcnQj','readBundledFiles','calculateCRC32','1056EFkcvO','../utils','../../../core','default','paths','isDir','reduce','readDir','CustomLabels','../../internal/fs.internal','package.xml','catch','init','Logger','constructor','files','extractFilenameFromPath','readFile','WaveTemplateBundle','logger','Xml','177BEcwtw','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','extractComponentTypeFromFiles','relative','dir','../../web-hooks/utils/git-commit.utils','(((.+)+)+)+$','readChildComponents','filePath','MDApiParser','search','BUNDLED_FOLDERS_REGEXP','-meta.xml','type','../../../constants','filter','471342wJoExo','Cannot\x20parse\x20childs\x20in\x20','Component\x20\x22','30117400jqSejC','79263ifjDCG','../data/child-types-map','isSFDXProject','join','map','\x22\x20not\x20found\x20in\x20\x22','getChildsByName'];a95_0x4a80=function(){return _0x433f01;};return a95_0x4a80();}var __importDefault=this&&this['__importDefault']||function(_0x361c36){const _0x2c5336=a95_0x4a63;return _0x361c36&&_0x361c36[_0x2c5336(0x205)]?_0x361c36:{'default':_0x361c36};};Object[a95_0x29bc57(0x1f5)](exports,'__esModule',{'value':!![]}),exports[a95_0x29bc57(0x22f)]=void 0x0;const fs_internal_1=require(a95_0x29bc57(0x21a)),utils_1=require(a95_0x29bc57(0x212)),path_1=require('path'),xml_1=require(a95_0x29bc57(0x1f3)),child_types_map_1=__importDefault(require(a95_0x29bc57(0x1ed))),constants_1=require(a95_0x29bc57(0x1e6)),core_1=require(a95_0x29bc57(0x213)),git_commit_utils_1=require(a95_0x29bc57(0x22b)),CHILD_XML_KEYS=Object[a95_0x29bc57(0x207)](child_types_map_1[a95_0x29bc57(0x214)]);class MDApiParser{constructor(_0x3aa7a3,_0x2923a1,_0x36c114){const _0x55c34f=a95_0x29bc57;this[_0x55c34f(0x22a)]=_0x3aa7a3,this['isSFDXProject']=_0x36c114,this['logger']=new core_1[(_0x55c34f(0x21e))](MDApiParser['name']),this[_0x55c34f(0x20a)]=_0x55c34f(0x1e4),this[_0x55c34f(0x1f7)]='.site-meta.xml',this['paths']=_0x2923a1;}async[a95_0x29bc57(0x22d)](_0x328867){const _0x1f76b5=a95_0x29bc57;try{const _0x2098d6=await xml_1['Xml'][_0x1f76b5(0x1fd)](Object[_0x1f76b5(0x207)](_0x328867[_0x1f76b5(0x220)])[0x0][_0x1f76b5(0x203)]('utf-8')),_0x3f4058=CHILD_XML_KEYS[_0x1f76b5(0x1e7)](_0x1b69b5=>xml_1['Xml'][_0x1f76b5(0x206)](_0x2098d6,_0x1b69b5))[_0x1f76b5(0x217)]((_0x3243af,_0x158174)=>[..._0x3243af,...xml_1[_0x1f76b5(0x225)][_0x1f76b5(0x1f2)](_0x2098d6,_0x158174)],[]);return utils_1['createChildComponentsFromParent'](_0x328867,_0x2098d6,_0x3f4058);}catch(_0x2ec4e7){throw new Error(_0x1f76b5(0x1e9)+_0x328867[_0x1f76b5(0x200)]+'\x20['+_0x328867[_0x1f76b5(0x1e5)]+']');}}async[a95_0x29bc57(0x20f)](_0x52642b){const _0x5f2017=a95_0x29bc57,_0x2330b1=path_1[_0x5f2017(0x1ef)](this[_0x5f2017(0x22a)],_0x52642b),_0x2b5632=_0x52642b+(_0x52642b[_0x5f2017(0x1f4)](_0x5f2017(0x20d))?this[_0x5f2017(0x1f7)]:this[_0x5f2017(0x20a)]),_0x32033b=await fs_internal_1['FS'][_0x5f2017(0x218)](_0x2330b1,!![]),_0x3a88f4=await fs_internal_1['FS'][_0x5f2017(0x222)](path_1['join'](this[_0x5f2017(0x22a)],_0x2b5632),!![])[_0x5f2017(0x21c)](()=>null),_0x3c8994={};for(const _0x4cae21 of _0x32033b){_0x3c8994[path_1['relative'](this[_0x5f2017(0x22a)],_0x4cae21)]=await fs_internal_1['FS'][_0x5f2017(0x222)](_0x4cae21,!![]);}return _0x3a88f4&&(_0x3c8994[path_1['relative'](this[_0x5f2017(0x22a)],_0x2b5632)]=_0x3a88f4),_0x3c8994;}async[a95_0x29bc57(0x1fc)](_0x376b0e){const _0x38518f=a95_0x29bc57;let _0x220250=_0x376b0e+this['META_EXTENSION'];if(constants_1[_0x38518f(0x1e3)][_0x38518f(0x202)](_0x376b0e))return this[_0x38518f(0x20f)](_0x376b0e);if(await fs_internal_1['FS'][_0x38518f(0x216)](path_1[_0x38518f(0x1ef)](this['dir'],_0x376b0e)))return{[_0x220250]:await fs_internal_1['FS'][_0x38518f(0x222)](path_1[_0x38518f(0x1ef)](this[_0x38518f(0x22a)],_0x220250),!![])};if(!path_1[_0x38518f(0x201)](_0x376b0e)&&this[_0x38518f(0x1ee)]){const _0x2e33d8=_0x376b0e[_0x38518f(0x1fb)]('/')[0x0],_0x33e535=(await fs_internal_1['FS'][_0x38518f(0x218)](path_1[_0x38518f(0x1ef)](this['dir'],_0x2e33d8)))[_0x38518f(0x209)](_0x1d4bd5=>git_commit_utils_1[_0x38518f(0x1ff)](_0x1d4bd5,path_1[_0x38518f(0x1ef)](this[_0x38518f(0x22a)],_0x376b0e)));if(!_0x33e535)throw new Error(_0x38518f(0x1ea)+_0x376b0e+_0x38518f(0x1f1)+_0x2e33d8+'\x22');_0x376b0e=path_1[_0x38518f(0x229)](this[_0x38518f(0x22a)],_0x33e535),_0x220250=_0x376b0e+this['META_EXTENSION'];}const [_0x285c78,_0x5a47bb]=await Promise['all']([fs_internal_1['FS'][_0x38518f(0x222)](path_1[_0x38518f(0x1ef)](this[_0x38518f(0x22a)],_0x376b0e),!![])[_0x38518f(0x21c)](()=>null),fs_internal_1['FS'][_0x38518f(0x222)](path_1['join'](this[_0x38518f(0x22a)],_0x220250),!![])[_0x38518f(0x21c)](()=>null)]);return{..._0x285c78?{[_0x376b0e]:_0x285c78}:{},..._0x5a47bb?{[_0x220250]:_0x5a47bb}:{}};}async[a95_0x29bc57(0x21d)](){const _0x2cffd7=a95_0x29bc57,_0x1910e7=[...this[_0x2cffd7(0x215)]];if(this['isSFDXProject'])for(const _0x5d4912 of _0x1910e7){if(await fs_internal_1['FS']['isDir'](path_1['join'](this[_0x2cffd7(0x22a)],_0x5d4912))){const _0x5616ad=await fs_internal_1['FS'][_0x2cffd7(0x218)](path_1[_0x2cffd7(0x1ef)](this[_0x2cffd7(0x22a)],_0x5d4912),!![]);_0x1910e7[_0x2cffd7(0x1fe)](..._0x5616ad[_0x2cffd7(0x1f0)](_0x38b439=>path_1['relative'](this['dir'],_0x38b439)));}}this['paths']=utils_1['convertToCleanPaths'](_0x1910e7);}async[a95_0x29bc57(0x1fd)](){const _0x29b056=a95_0x29bc57;await this[_0x29b056(0x21d)]();const _0x83b72a=[];for(const _0x22c7c1 of this[_0x29b056(0x215)]){if(_0x22c7c1[_0x29b056(0x20c)](_0x29b056(0x21b)))continue;const _0x2260c4={};_0x2260c4[_0x29b056(0x22e)]=_0x22c7c1;try{_0x2260c4[_0x29b056(0x220)]=await this[_0x29b056(0x1fc)](_0x22c7c1),_0x22c7c1[_0x29b056(0x1f4)]('waveTemplates')?_0x2260c4[_0x29b056(0x1e5)]=_0x29b056(0x223):_0x2260c4[_0x29b056(0x1e5)]=await utils_1[_0x29b056(0x228)]({'files':_0x2260c4[_0x29b056(0x220)]});}catch(_0x4b581a){this[_0x29b056(0x224)][_0x29b056(0x20b)](_0x29b056(0x227),_0x22c7c1,_0x4b581a);continue;}_0x2260c4[_0x29b056(0x200)]=utils_1[_0x29b056(0x221)](_0x22c7c1),_0x2260c4['crc']=utils_1[_0x29b056(0x210)](_0x2260c4);if(utils_1[_0x29b056(0x1f9)](_0x2260c4)){const _0x57990f=await this[_0x29b056(0x22d)](_0x2260c4);_0x83b72a[_0x29b056(0x1fe)](..._0x57990f);}if(_0x2260c4[_0x29b056(0x1e5)]===_0x29b056(0x219))continue;_0x83b72a['push'](_0x2260c4);}return _0x83b72a;}}exports[a95_0x29bc57(0x22f)]=MDApiParser;