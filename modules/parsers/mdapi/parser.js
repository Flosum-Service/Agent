const a96_0x55b2d3=a96_0x4cb9;function a96_0x4cb9(_0x201f48,_0x2e9419){const _0x314bfd=a96_0x5561();return a96_0x4cb9=function(_0x138a84,_0x39865b){_0x138a84=_0x138a84-0x18a;let _0x55615f=_0x314bfd[_0x138a84];return _0x55615f;},a96_0x4cb9(_0x201f48,_0x2e9419);}(function(_0x56b5d0,_0x103717){const _0x1788ea=a96_0x4cb9,_0x11e80d=_0x56b5d0();while(!![]){try{const _0x509a0d=parseInt(_0x1788ea(0x1c8))/0x1*(parseInt(_0x1788ea(0x1c7))/0x2)+parseInt(_0x1788ea(0x1d1))/0x3+parseInt(_0x1788ea(0x1b4))/0x4+parseInt(_0x1788ea(0x18f))/0x5*(parseInt(_0x1788ea(0x19d))/0x6)+-parseInt(_0x1788ea(0x195))/0x7*(parseInt(_0x1788ea(0x19b))/0x8)+parseInt(_0x1788ea(0x19f))/0x9*(-parseInt(_0x1788ea(0x1a2))/0xa)+-parseInt(_0x1788ea(0x1c9))/0xb*(parseInt(_0x1788ea(0x1b9))/0xc);if(_0x509a0d===_0x103717)break;else _0x11e80d['push'](_0x11e80d['shift']());}catch(_0x303d40){_0x11e80d['push'](_0x11e80d['shift']());}}}(a96_0x5561,0x419b6));const a96_0x39865b=(function(){let _0x2e0298=!![];return function(_0x48446f,_0x2cdafe){const _0x3854ee=_0x2e0298?function(){if(_0x2cdafe){const _0x1dc80a=_0x2cdafe['apply'](_0x48446f,arguments);return _0x2cdafe=null,_0x1dc80a;}}:function(){};return _0x2e0298=![],_0x3854ee;};}()),a96_0x138a84=a96_0x39865b(this,function(){const _0x588153=a96_0x4cb9;return a96_0x138a84[_0x588153(0x1bf)]()[_0x588153(0x1ae)]('(((.+)+)+)+$')[_0x588153(0x1bf)]()[_0x588153(0x1ad)](a96_0x138a84)[_0x588153(0x1ae)](_0x588153(0x1d3));});a96_0x138a84();'use strict';var __importDefault=this&&this[a96_0x55b2d3(0x1b0)]||function(_0x5a3964){const _0x20d911=a96_0x55b2d3;return _0x5a3964&&_0x5a3964[_0x20d911(0x199)]?_0x5a3964:{'default':_0x5a3964};};Object['defineProperty'](exports,a96_0x55b2d3(0x199),{'value':!![]}),exports['MDApiParser']=void 0x0;function a96_0x5561(){const _0x36478c=['(((.+)+)+)+$','Component\x20\x22','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','push','files','isDir','Logger','-meta.xml','2181645wabPCN','map','WaveTemplateBundle','../utils/xml','CustomLabels','readComponentFiles','3969IoWGbS','MDApiParser','calculateCRC32','reduce','__esModule','createChildComponentsFromParent','6000DKwhNa','\x22\x20not\x20found\x20in\x20\x22','6kIedAC','META_EXTENSION','63YnKtKv','all','values','555010JzVaiq','logger','init','readDir','join','isParentComponent','path','META_EXPERIENCES_EXTENSION','readFile','../data/child-types-map','readBundledFiles','constructor','search','getChildsByName','__importDefault','.site-meta.xml','test','readChildComponents','1971640dsQzrb','hasChildNodes','catch','parse','name','3804KXFVMQ','type','relative','split','Xml','startsWith','toString','dir','BUNDLED_FOLDERS_REGEXP','paths','isSFDXProject','../../web-hooks/utils/git-commit.utils','extractFileNameFromFiles','../utils','2vEKkOd','143629tzamjY','297JahXFW','crc','isPathsEquals','default','extname','find','filter','filePath','54522fpJBSF','extractFilenameFromPath'];a96_0x5561=function(){return _0x36478c;};return a96_0x5561();}const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a96_0x55b2d3(0x1c6)),path_1=require(a96_0x55b2d3(0x1a8)),xml_1=require(a96_0x55b2d3(0x192)),child_types_map_1=__importDefault(require(a96_0x55b2d3(0x1ab))),constants_1=require('../../../constants'),core_1=require('../../../core'),git_commit_utils_1=require(a96_0x55b2d3(0x1c4)),CHILD_XML_KEYS=Object[a96_0x55b2d3(0x1a1)](child_types_map_1[a96_0x55b2d3(0x1cc)]);class MDApiParser{constructor(_0x59fcab,_0xd9a48a,_0x3996b2){const _0x5b4bcf=a96_0x55b2d3;this[_0x5b4bcf(0x1c0)]=_0x59fcab,this[_0x5b4bcf(0x1c3)]=_0x3996b2,this[_0x5b4bcf(0x1a3)]=new core_1[(_0x5b4bcf(0x18d))](MDApiParser['name']),this[_0x5b4bcf(0x19e)]=_0x5b4bcf(0x18e),this[_0x5b4bcf(0x1a9)]=_0x5b4bcf(0x1b1),this['paths']=_0xd9a48a;}async[a96_0x55b2d3(0x1b3)](_0x4b4489){const _0x251584=a96_0x55b2d3;try{const _0x4f8ac6=await xml_1['Xml'][_0x251584(0x1b7)](Object[_0x251584(0x1a1)](_0x4b4489['files'])[0x0][_0x251584(0x1bf)]('utf-8')),_0x34feb2=CHILD_XML_KEYS[_0x251584(0x1cf)](_0x33fb6f=>xml_1[_0x251584(0x1bd)][_0x251584(0x1b5)](_0x4f8ac6,_0x33fb6f))[_0x251584(0x198)]((_0x268ae8,_0x45e52f)=>[..._0x268ae8,...xml_1[_0x251584(0x1bd)][_0x251584(0x1af)](_0x4f8ac6,_0x45e52f)],[]);return utils_1[_0x251584(0x19a)](_0x4b4489,_0x4f8ac6,_0x34feb2);}catch(_0x3719ee){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x4b4489[_0x251584(0x1b8)]+'\x20['+_0x4b4489[_0x251584(0x1ba)]+']');}}async[a96_0x55b2d3(0x1ac)](_0x211bb6){const _0x337420=a96_0x55b2d3,_0x5e8322=path_1[_0x337420(0x1a6)](this['dir'],_0x211bb6),_0x53ae0a=_0x211bb6+(_0x211bb6[_0x337420(0x1be)]('experiences')?this[_0x337420(0x1a9)]:this[_0x337420(0x19e)]),_0x3ccd49=await fs_internal_1['FS'][_0x337420(0x1a5)](_0x5e8322,!![]),_0x7066dc=await fs_internal_1['FS'][_0x337420(0x1aa)](path_1[_0x337420(0x1a6)](this[_0x337420(0x1c0)],_0x53ae0a),!![])[_0x337420(0x1b6)](()=>null),_0x18ba70={};for(const _0x5f4839 of _0x3ccd49){_0x18ba70[path_1[_0x337420(0x1bb)](this[_0x337420(0x1c0)],_0x5f4839)]=await fs_internal_1['FS'][_0x337420(0x1aa)](_0x5f4839,!![]);}return _0x7066dc&&(_0x18ba70[path_1[_0x337420(0x1bb)](this[_0x337420(0x1c0)],_0x53ae0a)]=_0x7066dc),_0x18ba70;}async[a96_0x55b2d3(0x194)](_0x1e72ae){const _0x52dab5=a96_0x55b2d3;let _0x265c3f=_0x1e72ae+this[_0x52dab5(0x19e)];if(constants_1[_0x52dab5(0x1c1)][_0x52dab5(0x1b2)](_0x1e72ae))return this[_0x52dab5(0x1ac)](_0x1e72ae);if(await fs_internal_1['FS'][_0x52dab5(0x18c)](path_1[_0x52dab5(0x1a6)](this[_0x52dab5(0x1c0)],_0x1e72ae)))return{[_0x265c3f]:await fs_internal_1['FS']['readFile'](path_1['join'](this['dir'],_0x265c3f),!![])};if(!path_1[_0x52dab5(0x1cd)](_0x1e72ae)&&this['isSFDXProject']){const _0x108abf=_0x1e72ae[_0x52dab5(0x1bc)]('/')[0x0],_0x1586d9=(await fs_internal_1['FS']['readDir'](path_1[_0x52dab5(0x1a6)](this[_0x52dab5(0x1c0)],_0x108abf)))[_0x52dab5(0x1ce)](_0x4d5ec3=>git_commit_utils_1[_0x52dab5(0x1cb)](_0x4d5ec3,path_1[_0x52dab5(0x1a6)](this[_0x52dab5(0x1c0)],_0x1e72ae)));if(!_0x1586d9)throw new Error(_0x52dab5(0x1d4)+_0x1e72ae+_0x52dab5(0x19c)+_0x108abf+'\x22');_0x1e72ae=path_1[_0x52dab5(0x1bb)](this['dir'],_0x1586d9),_0x265c3f=_0x1e72ae+this[_0x52dab5(0x19e)];}const [_0x4220f0,_0x1351e1]=await Promise[_0x52dab5(0x1a0)]([fs_internal_1['FS'][_0x52dab5(0x1aa)](path_1['join'](this[_0x52dab5(0x1c0)],_0x1e72ae),!![])[_0x52dab5(0x1b6)](()=>null),fs_internal_1['FS']['readFile'](path_1['join'](this['dir'],_0x265c3f),!![])['catch'](()=>null)]);return{..._0x4220f0?{[_0x1e72ae]:_0x4220f0}:{},..._0x1351e1?{[_0x265c3f]:_0x1351e1}:{}};}async[a96_0x55b2d3(0x1a4)](){const _0x266f20=a96_0x55b2d3,_0xce3d53=[...this[_0x266f20(0x1c2)]];if(this[_0x266f20(0x1c3)])for(const _0x4e5d48 of _0xce3d53){if(constants_1[_0x266f20(0x1c1)][_0x266f20(0x1b2)](_0x4e5d48))continue;if(await fs_internal_1['FS'][_0x266f20(0x18c)](path_1[_0x266f20(0x1a6)](this[_0x266f20(0x1c0)],_0x4e5d48))){const _0x24ea40=await fs_internal_1['FS'][_0x266f20(0x1a5)](path_1[_0x266f20(0x1a6)](this[_0x266f20(0x1c0)],_0x4e5d48),!![]);_0xce3d53[_0x266f20(0x18a)](..._0x24ea40[_0x266f20(0x190)](_0x32374c=>path_1[_0x266f20(0x1bb)](this[_0x266f20(0x1c0)],_0x32374c)));}}this[_0x266f20(0x1c2)]=utils_1['convertToCleanPaths'](_0xce3d53);}async[a96_0x55b2d3(0x1b7)](){const _0x45b4fb=a96_0x55b2d3;await this[_0x45b4fb(0x1a4)]();const _0x3421e1=[];for(const _0x41f1bc of this[_0x45b4fb(0x1c2)]){if(_0x41f1bc['endsWith']('package.xml'))continue;const _0xf2cf11={};try{_0xf2cf11[_0x45b4fb(0x18b)]=await this[_0x45b4fb(0x194)](_0x41f1bc),_0xf2cf11[_0x45b4fb(0x1d0)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x45b4fb(0x1b2)](_0x41f1bc)?_0x41f1bc:utils_1[_0x45b4fb(0x1c5)]({'files':_0xf2cf11[_0x45b4fb(0x18b)]}),_0x41f1bc[_0x45b4fb(0x1be)]('waveTemplates')?_0xf2cf11[_0x45b4fb(0x1ba)]=_0x45b4fb(0x191):_0xf2cf11[_0x45b4fb(0x1ba)]=await utils_1['extractComponentTypeFromFiles']({'files':_0xf2cf11[_0x45b4fb(0x18b)]});}catch(_0x36debf){this['logger']['error'](_0x45b4fb(0x1d5),_0x41f1bc,_0x36debf);continue;}_0xf2cf11[_0x45b4fb(0x1b8)]=utils_1[_0x45b4fb(0x1d2)](_0x41f1bc),_0xf2cf11[_0x45b4fb(0x1ca)]=utils_1[_0x45b4fb(0x197)](_0xf2cf11);if(utils_1[_0x45b4fb(0x1a7)](_0xf2cf11)){const _0x23b32f=await this[_0x45b4fb(0x1b3)](_0xf2cf11);_0x3421e1[_0x45b4fb(0x18a)](..._0x23b32f);}if(_0xf2cf11[_0x45b4fb(0x1ba)]===_0x45b4fb(0x193))continue;_0x3421e1[_0x45b4fb(0x18a)](_0xf2cf11);}return _0x3421e1;}}exports[a96_0x55b2d3(0x196)]=MDApiParser;