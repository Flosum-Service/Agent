const a96_0x40b769=a96_0x2fd8;(function(_0x3eb144,_0x5af7e3){const _0x3f556b=a96_0x2fd8,_0x391485=_0x3eb144();while(!![]){try{const _0x39780e=-parseInt(_0x3f556b(0xfb))/0x1*(-parseInt(_0x3f556b(0xfa))/0x2)+parseInt(_0x3f556b(0x111))/0x3*(-parseInt(_0x3f556b(0x106))/0x4)+parseInt(_0x3f556b(0x109))/0x5+-parseInt(_0x3f556b(0x11e))/0x6*(parseInt(_0x3f556b(0x138))/0x7)+parseInt(_0x3f556b(0x121))/0x8*(parseInt(_0x3f556b(0xf8))/0x9)+-parseInt(_0x3f556b(0x10d))/0xa+-parseInt(_0x3f556b(0xf4))/0xb*(-parseInt(_0x3f556b(0xff))/0xc);if(_0x39780e===_0x5af7e3)break;else _0x391485['push'](_0x391485['shift']());}catch(_0x34afb8){_0x391485['push'](_0x391485['shift']());}}}(a96_0x51ff,0xcdfaa));const a96_0x594cbc=(function(){let _0x5331cb=!![];return function(_0x3f3460,_0x513cc0){const _0x6d60c8=_0x5331cb?function(){const _0x19c8d8=a96_0x2fd8;if(_0x513cc0){const _0x2a1916=_0x513cc0[_0x19c8d8(0x110)](_0x3f3460,arguments);return _0x513cc0=null,_0x2a1916;}}:function(){};return _0x5331cb=![],_0x6d60c8;};}()),a96_0x17977d=a96_0x594cbc(this,function(){const _0x342c41=a96_0x2fd8;return a96_0x17977d[_0x342c41(0x127)]()[_0x342c41(0x11f)]('(((.+)+)+)+$')[_0x342c41(0x127)]()[_0x342c41(0x10a)](a96_0x17977d)[_0x342c41(0x11f)]('(((.+)+)+)+$');});a96_0x17977d();function a96_0x51ff(){const _0x5dae0c=['toString','logger','-meta.xml','extractFileNameFromFiles','readFile','readBundledFiles','extname','createChildComponentsFromParent','endsWith','test','isParentComponent','MDApiParser','../../web-hooks/utils/git-commit.utils','defineProperty','Component\x20\x22','Logger','utf-8','2653bAPtaN','join','BUNDLED_FOLDERS_REGEXP','readDir','split','.site-meta.xml','extractComponentTypeFromFiles','10499401mwhpZh','calculateCRC32','META_EXTENSION','crc','8298OrXVjG','name','1614IlVdRk','779OEtgoZ','../../../core','all','__esModule','12pjrMtv','init','path','relative','type','find','filePath','4UgyKwX','../../internal/fs.internal','CustomLabels','7354745KMePTu','constructor','readChildComponents','WaveTemplateBundle','10756940EnVDNC','isDir','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','apply','1877793ruZdIw','experiences','paths','readComponentFiles','parse','waveTemplates','extractFilenameFromPath','isSFDXProject','catch','dir','Xml','package.xml','\x22\x20not\x20found\x20in\x20\x22','19644fjSZcF','search','startsWith','6352IfNmZo','values','reduce','files','META_EXPERIENCES_EXTENSION','hasChildNodes'];a96_0x51ff=function(){return _0x5dae0c;};return a96_0x51ff();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2de5db){return _0x2de5db&&_0x2de5db['__esModule']?_0x2de5db:{'default':_0x2de5db};};Object[a96_0x40b769(0x134)](exports,a96_0x40b769(0xfe),{'value':!![]}),exports['MDApiParser']=void 0x0;function a96_0x2fd8(_0x4fac7d,_0x188337){const _0x4f2d45=a96_0x51ff();return a96_0x2fd8=function(_0x17977d,_0x594cbc){_0x17977d=_0x17977d-0xf2;let _0x51ffda=_0x4f2d45[_0x17977d];return _0x51ffda;},a96_0x2fd8(_0x4fac7d,_0x188337);}const fs_internal_1=require(a96_0x40b769(0x107)),utils_1=require('../utils'),path_1=require(a96_0x40b769(0x101)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../constants'),core_1=require(a96_0x40b769(0xfc)),git_commit_utils_1=require(a96_0x40b769(0x133)),CHILD_XML_KEYS=Object[a96_0x40b769(0x122)](child_types_map_1['default']);class MDApiParser{constructor(_0x4f8e4c,_0xcdf778,_0x174119){const _0x2d015e=a96_0x40b769;this[_0x2d015e(0x11a)]=_0x4f8e4c,this[_0x2d015e(0x118)]=_0x174119,this[_0x2d015e(0x128)]=new core_1[(_0x2d015e(0x136))](MDApiParser['name']),this[_0x2d015e(0xf6)]=_0x2d015e(0x129),this[_0x2d015e(0x125)]=_0x2d015e(0xf2),this[_0x2d015e(0x113)]=_0xcdf778;}async[a96_0x40b769(0x10b)](_0x4a7d9c){const _0x2d2868=a96_0x40b769;try{const _0x25ce88=await xml_1['Xml']['parse'](Object[_0x2d2868(0x122)](_0x4a7d9c[_0x2d2868(0x124)])[0x0][_0x2d2868(0x127)](_0x2d2868(0x137))),_0x3314cd=CHILD_XML_KEYS['filter'](_0x30e15a=>xml_1['Xml'][_0x2d2868(0x126)](_0x25ce88,_0x30e15a))[_0x2d2868(0x123)]((_0x3cb0c1,_0x47c35a)=>[..._0x3cb0c1,...xml_1[_0x2d2868(0x11b)]['getChildsByName'](_0x25ce88,_0x47c35a)],[]);return utils_1[_0x2d2868(0x12e)](_0x4a7d9c,_0x25ce88,_0x3314cd);}catch(_0x2b21a9){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x4a7d9c[_0x2d2868(0xf9)]+'\x20['+_0x4a7d9c[_0x2d2868(0x103)]+']');}}async[a96_0x40b769(0x12c)](_0x217258){const _0x1fc8f5=a96_0x40b769,_0x3de651=path_1[_0x1fc8f5(0x139)](this[_0x1fc8f5(0x11a)],_0x217258),_0x391782=_0x217258+(_0x217258[_0x1fc8f5(0x120)](_0x1fc8f5(0x112))?this[_0x1fc8f5(0x125)]:this['META_EXTENSION']),_0x41a81c=await fs_internal_1['FS'][_0x1fc8f5(0x13b)](_0x3de651,!![]),_0x36527b=await fs_internal_1['FS']['readFile'](path_1[_0x1fc8f5(0x139)](this[_0x1fc8f5(0x11a)],_0x391782),!![])[_0x1fc8f5(0x119)](()=>null),_0x3ad41f={};for(const _0x6a7298 of _0x41a81c){_0x3ad41f[path_1[_0x1fc8f5(0x102)](this[_0x1fc8f5(0x11a)],_0x6a7298)]=await fs_internal_1['FS'][_0x1fc8f5(0x12b)](_0x6a7298,!![]);}return _0x36527b&&(_0x3ad41f[path_1[_0x1fc8f5(0x102)](this[_0x1fc8f5(0x11a)],_0x391782)]=_0x36527b),_0x3ad41f;}async[a96_0x40b769(0x114)](_0x7bd60e){const _0x26e81=a96_0x40b769;let _0x2f9331=_0x7bd60e+this['META_EXTENSION'];if(constants_1[_0x26e81(0x13a)][_0x26e81(0x130)](_0x7bd60e))return this[_0x26e81(0x12c)](_0x7bd60e);if(await fs_internal_1['FS'][_0x26e81(0x10e)](path_1['join'](this['dir'],_0x7bd60e)))return{[_0x2f9331]:await fs_internal_1['FS'][_0x26e81(0x12b)](path_1['join'](this[_0x26e81(0x11a)],_0x2f9331),!![])};if(!path_1[_0x26e81(0x12d)](_0x7bd60e)&&this[_0x26e81(0x118)]){const _0x34a1bf=_0x7bd60e[_0x26e81(0x13c)]('/')[0x0],_0x3ceb14=(await fs_internal_1['FS'][_0x26e81(0x13b)](path_1[_0x26e81(0x139)](this[_0x26e81(0x11a)],_0x34a1bf)))[_0x26e81(0x104)](_0x456b69=>git_commit_utils_1['isPathsEquals'](_0x456b69,path_1['join'](this[_0x26e81(0x11a)],_0x7bd60e)));if(!_0x3ceb14)throw new Error(_0x26e81(0x135)+_0x7bd60e+_0x26e81(0x11d)+_0x34a1bf+'\x22');_0x7bd60e=path_1['relative'](this[_0x26e81(0x11a)],_0x3ceb14),_0x2f9331=_0x7bd60e+this[_0x26e81(0xf6)];}const [_0x5ca30,_0x3fcb67]=await Promise[_0x26e81(0xfd)]([fs_internal_1['FS'][_0x26e81(0x12b)](path_1[_0x26e81(0x139)](this[_0x26e81(0x11a)],_0x7bd60e),!![])[_0x26e81(0x119)](()=>null),fs_internal_1['FS']['readFile'](path_1[_0x26e81(0x139)](this[_0x26e81(0x11a)],_0x2f9331),!![])[_0x26e81(0x119)](()=>null)]);return{..._0x5ca30?{[_0x7bd60e]:_0x5ca30}:{},..._0x3fcb67?{[_0x2f9331]:_0x3fcb67}:{}};}async[a96_0x40b769(0x100)](){const _0x1c2358=a96_0x40b769,_0x583764=[...this[_0x1c2358(0x113)]];if(this['isSFDXProject'])for(const _0x245c4b of _0x583764){if(constants_1[_0x1c2358(0x13a)]['test'](_0x245c4b))continue;if(await fs_internal_1['FS']['isDir'](path_1[_0x1c2358(0x139)](this[_0x1c2358(0x11a)],_0x245c4b))){const _0x42329d=await fs_internal_1['FS'][_0x1c2358(0x13b)](path_1['join'](this[_0x1c2358(0x11a)],_0x245c4b),!![]);_0x583764['push'](..._0x42329d['map'](_0x4611d9=>path_1[_0x1c2358(0x102)](this[_0x1c2358(0x11a)],_0x4611d9)));}}this[_0x1c2358(0x113)]=utils_1['convertToCleanPaths'](_0x583764);}async[a96_0x40b769(0x115)](){const _0xe8683d=a96_0x40b769;await this['init']();const _0x5c6086=[];for(const _0x4b80c3 of this[_0xe8683d(0x113)]){if(_0x4b80c3[_0xe8683d(0x12f)](_0xe8683d(0x11c)))continue;const _0x3e2cc8={};try{_0x3e2cc8['files']=await this[_0xe8683d(0x114)](_0x4b80c3),_0x3e2cc8[_0xe8683d(0x105)]=constants_1[_0xe8683d(0x13a)][_0xe8683d(0x130)](_0x4b80c3)?_0x4b80c3:utils_1[_0xe8683d(0x12a)]({'files':_0x3e2cc8[_0xe8683d(0x124)]}),_0x4b80c3[_0xe8683d(0x120)](_0xe8683d(0x116))?_0x3e2cc8[_0xe8683d(0x103)]=_0xe8683d(0x10c):_0x3e2cc8[_0xe8683d(0x103)]=await utils_1[_0xe8683d(0xf3)]({'files':_0x3e2cc8[_0xe8683d(0x124)]});}catch(_0x57a27c){this[_0xe8683d(0x128)]['error'](_0xe8683d(0x10f),_0x4b80c3,_0x57a27c);continue;}_0x3e2cc8[_0xe8683d(0xf9)]=utils_1[_0xe8683d(0x117)](_0x4b80c3),_0x3e2cc8[_0xe8683d(0xf7)]=utils_1[_0xe8683d(0xf5)](_0x3e2cc8);if(utils_1[_0xe8683d(0x131)](_0x3e2cc8)){const _0x2ce73c=await this[_0xe8683d(0x10b)](_0x3e2cc8);_0x5c6086['push'](..._0x2ce73c);}if(_0x3e2cc8['type']===_0xe8683d(0x108))continue;_0x5c6086['push'](_0x3e2cc8);}return _0x5c6086;}}exports[a96_0x40b769(0x132)]=MDApiParser;