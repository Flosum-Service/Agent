function a97_0x46dd(_0x3ab3f2,_0x1e6602){const _0x2d6cea=a97_0x2029();return a97_0x46dd=function(_0x5489bd,_0x4e2069){_0x5489bd=_0x5489bd-0x16c;let _0x202946=_0x2d6cea[_0x5489bd];return _0x202946;},a97_0x46dd(_0x3ab3f2,_0x1e6602);}const a97_0x2b0a44=a97_0x46dd;(function(_0x336e9c,_0x44e5c3){const _0x4acbfb=a97_0x46dd,_0x241923=_0x336e9c();while(!![]){try{const _0x4791b2=parseInt(_0x4acbfb(0x196))/0x1+-parseInt(_0x4acbfb(0x170))/0x2+-parseInt(_0x4acbfb(0x188))/0x3*(parseInt(_0x4acbfb(0x1b0))/0x4)+parseInt(_0x4acbfb(0x19e))/0x5*(-parseInt(_0x4acbfb(0x17f))/0x6)+-parseInt(_0x4acbfb(0x18f))/0x7*(-parseInt(_0x4acbfb(0x197))/0x8)+parseInt(_0x4acbfb(0x183))/0x9*(parseInt(_0x4acbfb(0x194))/0xa)+parseInt(_0x4acbfb(0x1a1))/0xb;if(_0x4791b2===_0x44e5c3)break;else _0x241923['push'](_0x241923['shift']());}catch(_0x5b2df2){_0x241923['push'](_0x241923['shift']());}}}(a97_0x2029,0x76fcb));const a97_0x4e2069=(function(){let _0x1ecab5=!![];return function(_0x5ae288,_0x103560){const _0x9063b8=_0x1ecab5?function(){if(_0x103560){const _0x4c7ca9=_0x103560['apply'](_0x5ae288,arguments);return _0x103560=null,_0x4c7ca9;}}:function(){};return _0x1ecab5=![],_0x9063b8;};}()),a97_0x5489bd=a97_0x4e2069(this,function(){const _0x46bf19=a97_0x46dd;return a97_0x5489bd[_0x46bf19(0x185)]()[_0x46bf19(0x175)](_0x46bf19(0x173))[_0x46bf19(0x185)]()[_0x46bf19(0x19a)](a97_0x5489bd)[_0x46bf19(0x175)](_0x46bf19(0x173));});a97_0x5489bd();function a97_0x2029(){const _0x340073=['map','async','push','].\x20Original\x20error:\x20','1864406JViGDc','splice','all','(((.+)+)+)+$','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','search','parentComponents','components','dir','files','text','keys','replaceOrAppend','Xml','../errors/invalid-xml.error','246hAyzsD','Zip','__esModule','exists','54gbpuQc','convertToString','toString','readFile','internalLogger','3kqaurm','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','default','writeFile','join','length','writeParent','7XmPleB','nodebuffer','skipChildErrors','fileName','makeDir','1130230WyKUHx','unzip','75352ogqhsv','4168432njNHkw','../../../core','MDApiWriter','constructor','readZip','__importDefault','InvalidXmlError','94515oTTWLp','defineProperty','../utils/zip','10365410nNZBrV','start','writeChild','body','handleXmlParsingError','have\x20to\x20write\x20%d\x20files','catch','name','../../internal/fs.internal','fileType','parse','log','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','path','sourceDir','89028AbFVRX','MAX_WRITES_PER_TICK'];a97_0x2029=function(){return _0x340073;};return a97_0x2029();}'use strict';var __importDefault=this&&this[a97_0x2b0a44(0x19c)]||function(_0x4f2417){const _0x13d448=a97_0x2b0a44;return _0x4f2417&&_0x4f2417[_0x13d448(0x181)]?_0x4f2417:{'default':_0x4f2417};};Object[a97_0x2b0a44(0x19f)](exports,'__esModule',{'value':!![]}),exports[a97_0x2b0a44(0x199)]=void 0x0;const path_1=__importDefault(require(a97_0x2b0a44(0x1ae))),core_1=require(a97_0x2b0a44(0x198)),fs_internal_1=require(a97_0x2b0a44(0x1a9)),invalid_xml_error_1=require(a97_0x2b0a44(0x17e)),xml_1=require('../utils/xml'),zip_1=require(a97_0x2b0a44(0x1a0)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0xf3fdb4,sourceDir:_0x162ae1,skipChildErrors:_0x502432}){const _0x14e1bf=a97_0x2b0a44;this[_0x14e1bf(0x1b1)]=0x64,this['parentComponents']={},this[_0x14e1bf(0x187)]=new core_1['Logger'](MDApiWriter[_0x14e1bf(0x1a8)]),this[_0x14e1bf(0x177)]=_0xf3fdb4,this[_0x14e1bf(0x1af)]=_0x162ae1,this[_0x14e1bf(0x191)]=_0x502432;}async['readZip'](_0xba809a,_0x1577eb=![]){const _0x16b422=a97_0x2b0a44,_0x413617=await zip_1[_0x16b422(0x180)][_0x16b422(0x195)](_0xba809a),_0x3ddc62=[];for(const _0x40d951 of Object[_0x16b422(0x17b)](_0x413617['files'])){!_0x413617['files'][_0x40d951][_0x16b422(0x178)]&&_0x3ddc62[_0x16b422(0x16e)]({'filename':_0x40d951,'body':await _0x413617[_0x16b422(0x179)][_0x40d951][_0x16b422(0x16d)](_0x1577eb?_0x16b422(0x190):_0x16b422(0x17a))});}return _0x3ddc62;}async[a97_0x2b0a44(0x18e)](_0x1e6879){const _0xf0e672=a97_0x2b0a44;try{const _0x5e5d5d=await this[_0xf0e672(0x19b)](_0x1e6879[_0xf0e672(0x1a4)],!![]);await Promise[_0xf0e672(0x172)](_0x5e5d5d[_0xf0e672(0x16c)](({filename:_0x56bd07,body:_0x2c3525})=>fs_internal_1['FS']['writeFile'](path_1[_0xf0e672(0x18a)]['join'](this[_0xf0e672(0x1af)],_0x56bd07),_0x2c3525)));}catch(_0x455c95){throw new Error(_0xf0e672(0x1ad)+_0x1e6879['fileName']+'\x20['+_0x1e6879[_0xf0e672(0x1aa)]+_0xf0e672(0x16f)+_0x455c95);}}[a97_0x2b0a44(0x1a5)](_0x5635f0,_0x493abc){const _0x174697=a97_0x2b0a44;throw new invalid_xml_error_1[(_0x174697(0x19d))](_0x174697(0x189)+_0x493abc[_0x174697(0x192)]+'\x20['+_0x493abc['fileType']+_0x174697(0x16f)+_0x5635f0);}async[a97_0x2b0a44(0x1a3)](_0x136c83){const _0x1e6894=a97_0x2b0a44,{filename:_0x3bc2a3,body:_0x4b0f9e}=(await this[_0x1e6894(0x19b)](_0x136c83[_0x1e6894(0x1a4)]))[0x0];try{if(!this['parentComponents'][_0x3bc2a3]){const _0x5b4630=path_1[_0x1e6894(0x18a)][_0x1e6894(0x18c)](this[_0x1e6894(0x1af)],_0x3bc2a3);if(await fs_internal_1['FS'][_0x1e6894(0x182)](_0x5b4630)){const _0xb04d94=await fs_internal_1['FS'][_0x1e6894(0x186)](_0x5b4630);this[_0x1e6894(0x176)][_0x3bc2a3]=await xml_1[_0x1e6894(0x17d)][_0x1e6894(0x1ab)](_0xb04d94)[_0x1e6894(0x1a7)](_0x2cbe1d=>this[_0x1e6894(0x1a5)](_0x2cbe1d,_0x136c83));}else{this[_0x1e6894(0x176)][_0x3bc2a3]=await xml_1[_0x1e6894(0x17d)][_0x1e6894(0x1ab)](_0x4b0f9e)[_0x1e6894(0x1a7)](_0x45c120=>this[_0x1e6894(0x1a5)](_0x45c120,_0x136c83));return;}}const _0x24097b=this[_0x1e6894(0x176)][_0x3bc2a3],_0x34c3ba=await xml_1[_0x1e6894(0x17d)][_0x1e6894(0x1ab)](_0x4b0f9e)['catch'](_0xd3060d=>this[_0x1e6894(0x1a5)](_0xd3060d,_0x136c83));xml_1[_0x1e6894(0x17d)][_0x1e6894(0x17c)](_0x24097b,_0x34c3ba);}catch(_0x3c9e28){if(_0x3c9e28 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x1e6894(0x191)])return;else throw _0x3c9e28;}throw new Error(_0x1e6894(0x174)+_0x136c83[_0x1e6894(0x192)]+'\x20['+_0x136c83[_0x1e6894(0x1aa)]+_0x1e6894(0x16f)+_0x3c9e28);}}async[a97_0x2b0a44(0x1a2)](){const _0x1bd983=a97_0x2b0a44;!await fs_internal_1['FS'][_0x1bd983(0x182)](this[_0x1bd983(0x1af)])&&await fs_internal_1['FS'][_0x1bd983(0x193)](this[_0x1bd983(0x1af)]);for(const _0x503806 of this[_0x1bd983(0x177)]){!child_types_1[_0x1bd983(0x18a)]['includes'](_0x503806[_0x1bd983(0x1aa)])?await this['writeParent'](_0x503806):await this[_0x1bd983(0x1a3)](_0x503806);}const _0x2ff1ae=Object[_0x1bd983(0x17b)](this[_0x1bd983(0x176)]);this['internalLogger'][_0x1bd983(0x1ac)](_0x1bd983(0x1a6),this[_0x1bd983(0x177)][_0x1bd983(0x18d)]);while(_0x2ff1ae[_0x1bd983(0x18d)]){const _0xe21799=_0x2ff1ae[_0x1bd983(0x171)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3f0279 of _0xe21799){await fs_internal_1['FS'][_0x1bd983(0x18b)](path_1[_0x1bd983(0x18a)][_0x1bd983(0x18c)](this[_0x1bd983(0x1af)],_0x3f0279),xml_1[_0x1bd983(0x17d)][_0x1bd983(0x184)](this['parentComponents'][_0x3f0279]));}}this[_0x1bd983(0x176)]={};}}exports['MDApiWriter']=MDApiWriter;