const a98_0x4907ec=a98_0x36ff;(function(_0x45b1f5,_0x356a3e){const _0x5d3075=a98_0x36ff,_0x31476a=_0x45b1f5();while(!![]){try{const _0x5a300c=parseInt(_0x5d3075(0x1cd))/0x1+parseInt(_0x5d3075(0x1fe))/0x2*(-parseInt(_0x5d3075(0x1d5))/0x3)+-parseInt(_0x5d3075(0x1be))/0x4*(parseInt(_0x5d3075(0x1ee))/0x5)+-parseInt(_0x5d3075(0x1d1))/0x6*(-parseInt(_0x5d3075(0x1ed))/0x7)+parseInt(_0x5d3075(0x1fd))/0x8+parseInt(_0x5d3075(0x1e5))/0x9+-parseInt(_0x5d3075(0x1d3))/0xa*(parseInt(_0x5d3075(0x1dd))/0xb);if(_0x5a300c===_0x356a3e)break;else _0x31476a['push'](_0x31476a['shift']());}catch(_0x1ac4b8){_0x31476a['push'](_0x31476a['shift']());}}}(a98_0xbbb6,0x49874));function a98_0x36ff(_0x2462ef,_0x3b9689){const _0x5af13c=a98_0xbbb6();return a98_0x36ff=function(_0x53355c,_0x1917d6){_0x53355c=_0x53355c-0x1be;let _0xbbb619=_0x5af13c[_0x53355c];return _0xbbb619;},a98_0x36ff(_0x2462ef,_0x3b9689);}const a98_0x1917d6=(function(){let _0x48a434=!![];return function(_0x2f1f18,_0x4897a5){const _0x51d872=_0x48a434?function(){const _0xf18f88=a98_0x36ff;if(_0x4897a5){const _0x587fd1=_0x4897a5[_0xf18f88(0x1f4)](_0x2f1f18,arguments);return _0x4897a5=null,_0x587fd1;}}:function(){};return _0x48a434=![],_0x51d872;};}()),a98_0x53355c=a98_0x1917d6(this,function(){const _0x538f25=a98_0x36ff;return a98_0x53355c[_0x538f25(0x1dc)]()[_0x538f25(0x1e6)]('(((.+)+)+)+$')[_0x538f25(0x1dc)]()[_0x538f25(0x1db)](a98_0x53355c)[_0x538f25(0x1e6)](_0x538f25(0x1f5));});a98_0x53355c();'use strict';function a98_0xbbb6(){const _0x3ea9fa=['apply','(((.+)+)+)+$','Zip','parentComponents','log','writeParent','unzip','readZip','../../../core','4743784OKJhAN','566498XqNELa','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','splice','name','../../internal/fs.internal','534940dtAger','fileName','readFile','path','makeDir','join','].\x20Original\x20error:\x20','defineProperty','convertToString','skipChildErrors','writeChild','../utils/zip','../data/child-types','MAX_WRITES_PER_TICK','components','577649APzEaE','internalLogger','body','keys','3346494cNpbWq','handleXmlParsingError','10441810CbMtcH','catch','3YmEIXA','have\x20to\x20write\x20%d\x20files','MDApiWriter','writeFile','parse','fileType','constructor','toString','11ixFSWA','Logger','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','replaceOrAppend','../errors/invalid-xml.error','push','includes','sourceDir','1509309ABdTQr','search','exists','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','dir','length','default','start','7DwaFVx','10NqHLwJ','__esModule','map','all','Xml','files'];a98_0xbbb6=function(){return _0x3ea9fa;};return a98_0xbbb6();}var __importDefault=this&&this['__importDefault']||function(_0x53a352){return _0x53a352&&_0x53a352['__esModule']?_0x53a352:{'default':_0x53a352};};Object[a98_0x4907ec(0x1c5)](exports,a98_0x4907ec(0x1ef),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a98_0x4907ec(0x1c1))),core_1=require(a98_0x4907ec(0x1fc)),fs_internal_1=require(a98_0x4907ec(0x202)),invalid_xml_error_1=require(a98_0x4907ec(0x1e1)),xml_1=require('../utils/xml'),zip_1=require(a98_0x4907ec(0x1c9)),child_types_1=__importDefault(require(a98_0x4907ec(0x1ca)));class MDApiWriter{constructor({components:_0x5bfea8,sourceDir:_0x1560f2,skipChildErrors:_0x2eb2ea}){const _0x10a67e=a98_0x4907ec;this[_0x10a67e(0x1cb)]=0x64,this[_0x10a67e(0x1f7)]={},this[_0x10a67e(0x1ce)]=new core_1[(_0x10a67e(0x1de))](MDApiWriter[_0x10a67e(0x201)]),this[_0x10a67e(0x1cc)]=_0x5bfea8,this['sourceDir']=_0x1560f2,this[_0x10a67e(0x1c7)]=_0x2eb2ea;}async[a98_0x4907ec(0x1fb)](_0x5a7778,_0x46cfc6=![]){const _0x288582=a98_0x4907ec,_0x5118bf=await zip_1[_0x288582(0x1f6)][_0x288582(0x1fa)](_0x5a7778),_0x6ad524=[];for(const _0x4acaf5 of Object[_0x288582(0x1d0)](_0x5118bf[_0x288582(0x1f3)])){!_0x5118bf[_0x288582(0x1f3)][_0x4acaf5][_0x288582(0x1e9)]&&_0x6ad524[_0x288582(0x1e2)]({'filename':_0x4acaf5,'body':await _0x5118bf[_0x288582(0x1f3)][_0x4acaf5]['async'](_0x46cfc6?'nodebuffer':'text')});}return _0x6ad524;}async[a98_0x4907ec(0x1f9)](_0x8da977){const _0x50d801=a98_0x4907ec;try{const _0x479203=await this[_0x50d801(0x1fb)](_0x8da977['body'],!![]);await Promise[_0x50d801(0x1f1)](_0x479203[_0x50d801(0x1f0)](({filename:_0x3678e4,body:_0x2d8fc1})=>fs_internal_1['FS']['writeFile'](path_1['default'][_0x50d801(0x1c3)](this['sourceDir'],_0x3678e4),_0x2d8fc1)));}catch(_0x43ae11){throw new Error(_0x50d801(0x1e8)+_0x8da977['fileName']+'\x20['+_0x8da977[_0x50d801(0x1da)]+_0x50d801(0x1c4)+_0x43ae11);}}['handleXmlParsingError'](_0x5cdb68,_0x40cfc0){const _0x4b3dab=a98_0x4907ec;throw new invalid_xml_error_1['InvalidXmlError'](_0x4b3dab(0x1df)+_0x40cfc0['fileName']+'\x20['+_0x40cfc0[_0x4b3dab(0x1da)]+_0x4b3dab(0x1c4)+_0x5cdb68);}async[a98_0x4907ec(0x1c8)](_0x26c180){const _0x58a671=a98_0x4907ec,{filename:_0x19c0e2,body:_0x38a12a}=(await this[_0x58a671(0x1fb)](_0x26c180[_0x58a671(0x1cf)]))[0x0];try{if(!this[_0x58a671(0x1f7)][_0x19c0e2]){const _0x45a0a4=path_1['default']['join'](this['sourceDir'],_0x19c0e2);if(await fs_internal_1['FS']['exists'](_0x45a0a4)){const _0x377840=await fs_internal_1['FS'][_0x58a671(0x1c0)](_0x45a0a4);this[_0x58a671(0x1f7)][_0x19c0e2]=await xml_1['Xml'][_0x58a671(0x1d9)](_0x377840)[_0x58a671(0x1d4)](_0x59704e=>this[_0x58a671(0x1d2)](_0x59704e,_0x26c180));}else{this[_0x58a671(0x1f7)][_0x19c0e2]=await xml_1[_0x58a671(0x1f2)][_0x58a671(0x1d9)](_0x38a12a)['catch'](_0x3c945c=>this[_0x58a671(0x1d2)](_0x3c945c,_0x26c180));return;}}const _0x15e9ca=this['parentComponents'][_0x19c0e2],_0x501528=await xml_1[_0x58a671(0x1f2)][_0x58a671(0x1d9)](_0x38a12a)['catch'](_0x50445a=>this[_0x58a671(0x1d2)](_0x50445a,_0x26c180));xml_1['Xml'][_0x58a671(0x1e0)](_0x15e9ca,_0x501528);}catch(_0xcfc815){if(_0xcfc815 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x58a671(0x1c7)])return;else throw _0xcfc815;}throw new Error(_0x58a671(0x1ff)+_0x26c180[_0x58a671(0x1bf)]+'\x20['+_0x26c180[_0x58a671(0x1da)]+'].\x20Original\x20error:\x20'+_0xcfc815);}}async[a98_0x4907ec(0x1ec)](){const _0x403969=a98_0x4907ec;!await fs_internal_1['FS'][_0x403969(0x1e7)](this[_0x403969(0x1e4)])&&await fs_internal_1['FS'][_0x403969(0x1c2)](this['sourceDir']);for(const _0x47e008 of this[_0x403969(0x1cc)]){!child_types_1[_0x403969(0x1eb)][_0x403969(0x1e3)](_0x47e008['fileType'])?await this['writeParent'](_0x47e008):await this[_0x403969(0x1c8)](_0x47e008);}const _0x26f482=Object[_0x403969(0x1d0)](this[_0x403969(0x1f7)]);this[_0x403969(0x1ce)][_0x403969(0x1f8)](_0x403969(0x1d6),this[_0x403969(0x1cc)][_0x403969(0x1ea)]);while(_0x26f482[_0x403969(0x1ea)]){const _0x5f1a1c=_0x26f482[_0x403969(0x200)](0x0,this[_0x403969(0x1cb)]);for(const _0x4df9e6 of _0x5f1a1c){await fs_internal_1['FS'][_0x403969(0x1d8)](path_1[_0x403969(0x1eb)][_0x403969(0x1c3)](this[_0x403969(0x1e4)],_0x4df9e6),xml_1[_0x403969(0x1f2)][_0x403969(0x1c6)](this[_0x403969(0x1f7)][_0x4df9e6]));}}this[_0x403969(0x1f7)]={};}}exports[a98_0x4907ec(0x1d7)]=MDApiWriter;