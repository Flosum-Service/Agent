function a98_0x26f0(){const _0x2c398f=['sourceDir','dir','6226698JRligL','log','138616IcLSOO','36jBOCBd','1110591ZWSFAL','../../internal/fs.internal','Zip','splice','Logger','writeParent','keys','80328wHdrNP','58491fDQOel','replaceOrAppend','MDApiWriter','all','text','parse','MAX_WRITES_PER_TICK','fileName','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','(((.+)+)+)+$','catch','files','start','nodebuffer','components','toString','internalLogger','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','__importDefault','apply','parentComponents','readZip','makeDir','defineProperty','map','constructor','InvalidXmlError','11ynCAhF','handleXmlParsingError','search','writeFile','push','async','skipChildErrors','includes','../utils/xml','convertToString','1309955GBAdjr','join','7HmLhEA','default','10657850DdqlPF','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','body','fileType','../../../core','__esModule','../errors/invalid-xml.error','].\x20Original\x20error:\x20','length','Xml'];a98_0x26f0=function(){return _0x2c398f;};return a98_0x26f0();}const a98_0x2efb4f=a98_0x2516;(function(_0x36a50c,_0x39c95e){const _0x2f9ac0=a98_0x2516,_0x324393=_0x36a50c();while(!![]){try{const _0x909029=-parseInt(_0x2f9ac0(0xaa))/0x1*(parseInt(_0x2f9ac0(0xc6))/0x2)+parseInt(_0x2f9ac0(0x8f))/0x3*(-parseInt(_0x2f9ac0(0xc7))/0x4)+-parseInt(_0x2f9ac0(0xb4))/0x5+parseInt(_0x2f9ac0(0xc4))/0x6*(parseInt(_0x2f9ac0(0xb6))/0x7)+-parseInt(_0x2f9ac0(0x8e))/0x8+-parseInt(_0x2f9ac0(0xc8))/0x9+parseInt(_0x2f9ac0(0xb8))/0xa;if(_0x909029===_0x39c95e)break;else _0x324393['push'](_0x324393['shift']());}catch(_0x49c7c6){_0x324393['push'](_0x324393['shift']());}}}(a98_0x26f0,0xbc0e4));const a98_0x3fe7f7=(function(){let _0x37acbc=!![];return function(_0x5dc9c2,_0x37666a){const _0x18fafe=_0x37acbc?function(){const _0x28dbf5=a98_0x2516;if(_0x37666a){const _0x52923a=_0x37666a[_0x28dbf5(0xa2)](_0x5dc9c2,arguments);return _0x37666a=null,_0x52923a;}}:function(){};return _0x37acbc=![],_0x18fafe;};}()),a98_0x376da9=a98_0x3fe7f7(this,function(){const _0x1b7199=a98_0x2516;return a98_0x376da9[_0x1b7199(0x9e)]()[_0x1b7199(0xac)]('(((.+)+)+)+$')[_0x1b7199(0x9e)]()[_0x1b7199(0xa8)](a98_0x376da9)[_0x1b7199(0xac)](_0x1b7199(0x98));});function a98_0x2516(_0x18404a,_0x4aa935){const _0x3141c1=a98_0x26f0();return a98_0x2516=function(_0x376da9,_0x3fe7f7){_0x376da9=_0x376da9-0x8e;let _0x26f09d=_0x3141c1[_0x376da9];return _0x26f09d;},a98_0x2516(_0x18404a,_0x4aa935);}a98_0x376da9();'use strict';var __importDefault=this&&this[a98_0x2efb4f(0xa1)]||function(_0x76fbd1){const _0x2875b0=a98_0x2efb4f;return _0x76fbd1&&_0x76fbd1[_0x2875b0(0xbd)]?_0x76fbd1:{'default':_0x76fbd1};};Object[a98_0x2efb4f(0xa6)](exports,'__esModule',{'value':!![]}),exports[a98_0x2efb4f(0x91)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a98_0x2efb4f(0xbc)),fs_internal_1=require(a98_0x2efb4f(0xc9)),invalid_xml_error_1=require(a98_0x2efb4f(0xbe)),xml_1=require(a98_0x2efb4f(0xb2)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x428238,sourceDir:_0x3f8ba5,skipChildErrors:_0x4fdf87}){const _0x111d6e=a98_0x2efb4f;this[_0x111d6e(0x95)]=0x64,this[_0x111d6e(0xa3)]={},this[_0x111d6e(0x9f)]=new core_1[(_0x111d6e(0xcc))](MDApiWriter['name']),this[_0x111d6e(0x9d)]=_0x428238,this['sourceDir']=_0x3f8ba5,this['skipChildErrors']=_0x4fdf87;}async[a98_0x2efb4f(0xa4)](_0xf07bb6,_0x742c1f=![]){const _0xb91ecf=a98_0x2efb4f,_0x4bee89=await zip_1[_0xb91ecf(0xca)]['unzip'](_0xf07bb6),_0x1c28c6=[];for(const _0x40661e of Object[_0xb91ecf(0xce)](_0x4bee89[_0xb91ecf(0x9a)])){!_0x4bee89[_0xb91ecf(0x9a)][_0x40661e][_0xb91ecf(0xc3)]&&_0x1c28c6[_0xb91ecf(0xae)]({'filename':_0x40661e,'body':await _0x4bee89[_0xb91ecf(0x9a)][_0x40661e][_0xb91ecf(0xaf)](_0x742c1f?_0xb91ecf(0x9c):_0xb91ecf(0x93))});}return _0x1c28c6;}async[a98_0x2efb4f(0xcd)](_0x25dc76){const _0x1026f4=a98_0x2efb4f;try{const _0x1caeec=await this[_0x1026f4(0xa4)](_0x25dc76[_0x1026f4(0xba)],!![]);await Promise[_0x1026f4(0x92)](_0x1caeec[_0x1026f4(0xa7)](({filename:_0x1ca78a,body:_0x5cc23a})=>fs_internal_1['FS'][_0x1026f4(0xad)](path_1[_0x1026f4(0xb7)][_0x1026f4(0xb5)](this['sourceDir'],_0x1ca78a),_0x5cc23a)));}catch(_0xc6d9f3){throw new Error(_0x1026f4(0x97)+_0x25dc76[_0x1026f4(0x96)]+'\x20['+_0x25dc76[_0x1026f4(0xbb)]+_0x1026f4(0xbf)+_0xc6d9f3);}}['handleXmlParsingError'](_0x138c95,_0x2d2804){const _0x5c0125=a98_0x2efb4f;throw new invalid_xml_error_1[(_0x5c0125(0xa9))](_0x5c0125(0xb9)+_0x2d2804[_0x5c0125(0x96)]+'\x20['+_0x2d2804[_0x5c0125(0xbb)]+_0x5c0125(0xbf)+_0x138c95);}async['writeChild'](_0xb440bf){const _0x20a7aa=a98_0x2efb4f,{filename:_0x4b8994,body:_0x2b626e}=(await this[_0x20a7aa(0xa4)](_0xb440bf[_0x20a7aa(0xba)]))[0x0];try{if(!this[_0x20a7aa(0xa3)][_0x4b8994]){const _0x3cf9a6=path_1[_0x20a7aa(0xb7)][_0x20a7aa(0xb5)](this[_0x20a7aa(0xc2)],_0x4b8994);if(await fs_internal_1['FS']['exists'](_0x3cf9a6)){const _0xc1f4d6=await fs_internal_1['FS']['readFile'](_0x3cf9a6);this[_0x20a7aa(0xa3)][_0x4b8994]=await xml_1[_0x20a7aa(0xc1)]['parse'](_0xc1f4d6)[_0x20a7aa(0x99)](_0x45cc1e=>this[_0x20a7aa(0xab)](_0x45cc1e,_0xb440bf));}else{this[_0x20a7aa(0xa3)][_0x4b8994]=await xml_1['Xml'][_0x20a7aa(0x94)](_0x2b626e)[_0x20a7aa(0x99)](_0x4f746c=>this[_0x20a7aa(0xab)](_0x4f746c,_0xb440bf));return;}}const _0x407ae7=this[_0x20a7aa(0xa3)][_0x4b8994],_0x42c974=await xml_1[_0x20a7aa(0xc1)][_0x20a7aa(0x94)](_0x2b626e)[_0x20a7aa(0x99)](_0x23e2ab=>this[_0x20a7aa(0xab)](_0x23e2ab,_0xb440bf));xml_1[_0x20a7aa(0xc1)][_0x20a7aa(0x90)](_0x407ae7,_0x42c974);}catch(_0x13098f){if(_0x13098f instanceof invalid_xml_error_1[_0x20a7aa(0xa9)]){if(this[_0x20a7aa(0xb0)])return;else throw _0x13098f;}throw new Error(_0x20a7aa(0xa0)+_0xb440bf[_0x20a7aa(0x96)]+'\x20['+_0xb440bf[_0x20a7aa(0xbb)]+'].\x20Original\x20error:\x20'+_0x13098f);}}async[a98_0x2efb4f(0x9b)](){const _0x48743f=a98_0x2efb4f;!await fs_internal_1['FS']['exists'](this[_0x48743f(0xc2)])&&await fs_internal_1['FS'][_0x48743f(0xa5)](this[_0x48743f(0xc2)]);for(const _0x2f230e of this['components']){!child_types_1['default'][_0x48743f(0xb1)](_0x2f230e['fileType'])?await this[_0x48743f(0xcd)](_0x2f230e):await this['writeChild'](_0x2f230e);}const _0x9c07f4=Object[_0x48743f(0xce)](this[_0x48743f(0xa3)]);this['internalLogger'][_0x48743f(0xc5)]('have\x20to\x20write\x20%d\x20files',this[_0x48743f(0x9d)][_0x48743f(0xc0)]);while(_0x9c07f4[_0x48743f(0xc0)]){const _0x5120df=_0x9c07f4[_0x48743f(0xcb)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x572d2b of _0x5120df){await fs_internal_1['FS'][_0x48743f(0xad)](path_1['default'][_0x48743f(0xb5)](this[_0x48743f(0xc2)],_0x572d2b),xml_1[_0x48743f(0xc1)][_0x48743f(0xb3)](this[_0x48743f(0xa3)][_0x572d2b]));}}this[_0x48743f(0xa3)]={};}}exports['MDApiWriter']=MDApiWriter;