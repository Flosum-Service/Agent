const a97_0x53b879=a97_0x150b;(function(_0x40613e,_0x327496){const _0x2505a5=a97_0x150b,_0x54558b=_0x40613e();while(!![]){try{const _0x6e5eab=parseInt(_0x2505a5(0x1fd))/0x1+parseInt(_0x2505a5(0x201))/0x2*(-parseInt(_0x2505a5(0x232))/0x3)+-parseInt(_0x2505a5(0x20e))/0x4+parseInt(_0x2505a5(0x21f))/0x5+parseInt(_0x2505a5(0x208))/0x6+-parseInt(_0x2505a5(0x200))/0x7*(-parseInt(_0x2505a5(0x220))/0x8)+-parseInt(_0x2505a5(0x1f5))/0x9;if(_0x6e5eab===_0x327496)break;else _0x54558b['push'](_0x54558b['shift']());}catch(_0x1870ee){_0x54558b['push'](_0x54558b['shift']());}}}(a97_0x1bb9,0x73d27));function a97_0x1bb9(){const _0x3b7402=['parse','writeFile','26757bJOMfo','length','readFile','7IqlbOm','500RUCEIp','have\x20to\x20write\x20%d\x20files','push','all','replaceOrAppend','unzip','includes','2464164SUTAql','files','body','../errors/invalid-xml.error','].\x20Original\x20error:\x20','defineProperty','1333464sJfTwv','start','convertToString','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','fileName','handleXmlParsingError','writeParent','__importDefault','../../internal/fs.internal','catch','readZip','default','exists','MAX_WRITES_PER_TICK','apply','InvalidXmlError','Xml','1274870kwKtva','7055256NVKxBf','makeDir','keys','internalLogger','components','fileType','sourceDir','skipChildErrors','__esModule','splice','log','MDApiWriter','search','../../../core','writeChild','async','text','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','9060GBEKBb','toString','nodebuffer','Zip','path','104031bldVcp','(((.+)+)+)+$','parentComponents','name','join','constructor'];a97_0x1bb9=function(){return _0x3b7402;};return a97_0x1bb9();}const a97_0x676af0=(function(){let _0x53f373=!![];return function(_0x5e43b4,_0x5e5b30){const _0x291ac5=_0x53f373?function(){const _0x88c739=a97_0x150b;if(_0x5e5b30){const _0x44080e=_0x5e5b30[_0x88c739(0x21c)](_0x5e43b4,arguments);return _0x5e5b30=null,_0x44080e;}}:function(){};return _0x53f373=![],_0x291ac5;};}()),a97_0x25c37c=a97_0x676af0(this,function(){const _0x342d75=a97_0x150b;return a97_0x25c37c[_0x342d75(0x233)]()['search'](_0x342d75(0x1f6))['toString']()[_0x342d75(0x1fa)](a97_0x25c37c)[_0x342d75(0x22c)](_0x342d75(0x1f6));});a97_0x25c37c();'use strict';var __importDefault=this&&this[a97_0x53b879(0x215)]||function(_0xfd7752){const _0x5e17c2=a97_0x53b879;return _0xfd7752&&_0xfd7752[_0x5e17c2(0x228)]?_0xfd7752:{'default':_0xfd7752};};Object[a97_0x53b879(0x20d)](exports,a97_0x53b879(0x228),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a97_0x53b879(0x1f4))),core_1=require(a97_0x53b879(0x22d)),fs_internal_1=require(a97_0x53b879(0x216)),invalid_xml_error_1=require(a97_0x53b879(0x20b)),xml_1=require('../utils/xml'),zip_1=require('../utils/zip'),child_types_1=__importDefault(require('../data/child-types'));function a97_0x150b(_0x2998ff,_0x731b34){const _0x4098c8=a97_0x1bb9();return a97_0x150b=function(_0x25c37c,_0x676af0){_0x25c37c=_0x25c37c-0x1f2;let _0x1bb9e7=_0x4098c8[_0x25c37c];return _0x1bb9e7;},a97_0x150b(_0x2998ff,_0x731b34);}class MDApiWriter{constructor({components:_0x37f6b9,sourceDir:_0xdb0845,skipChildErrors:_0x33de04}){const _0x28b95a=a97_0x53b879;this[_0x28b95a(0x21b)]=0x64,this[_0x28b95a(0x1f7)]={},this[_0x28b95a(0x223)]=new core_1['Logger'](MDApiWriter[_0x28b95a(0x1f8)]),this['components']=_0x37f6b9,this[_0x28b95a(0x226)]=_0xdb0845,this[_0x28b95a(0x227)]=_0x33de04;}async[a97_0x53b879(0x218)](_0x17588e,_0x295e69=![]){const _0x5e2412=a97_0x53b879,_0x41932b=await zip_1[_0x5e2412(0x1f3)][_0x5e2412(0x206)](_0x17588e),_0x413194=[];for(const _0x3ee9ba of Object[_0x5e2412(0x222)](_0x41932b['files'])){!_0x41932b[_0x5e2412(0x209)][_0x3ee9ba]['dir']&&_0x413194[_0x5e2412(0x203)]({'filename':_0x3ee9ba,'body':await _0x41932b['files'][_0x3ee9ba][_0x5e2412(0x22f)](_0x295e69?_0x5e2412(0x1f2):_0x5e2412(0x230))});}return _0x413194;}async[a97_0x53b879(0x214)](_0x33e34c){const _0xc45dcc=a97_0x53b879;try{const _0x408e04=await this[_0xc45dcc(0x218)](_0x33e34c[_0xc45dcc(0x20a)],!![]);await Promise[_0xc45dcc(0x204)](_0x408e04['map'](({filename:_0x10656c,body:_0x16b6d4})=>fs_internal_1['FS'][_0xc45dcc(0x1fc)](path_1['default']['join'](this['sourceDir'],_0x10656c),_0x16b6d4)));}catch(_0x450b60){throw new Error(_0xc45dcc(0x211)+_0x33e34c[_0xc45dcc(0x212)]+'\x20['+_0x33e34c[_0xc45dcc(0x225)]+_0xc45dcc(0x20c)+_0x450b60);}}[a97_0x53b879(0x213)](_0x416abc,_0x25c8a2){const _0xd1fa8f=a97_0x53b879;throw new invalid_xml_error_1['InvalidXmlError']('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x25c8a2['fileName']+'\x20['+_0x25c8a2[_0xd1fa8f(0x225)]+_0xd1fa8f(0x20c)+_0x416abc);}async[a97_0x53b879(0x22e)](_0x5d88f3){const _0x3bed87=a97_0x53b879,{filename:_0x599250,body:_0x443eaa}=(await this['readZip'](_0x5d88f3[_0x3bed87(0x20a)]))[0x0];try{if(!this[_0x3bed87(0x1f7)][_0x599250]){const _0x4ade34=path_1[_0x3bed87(0x219)][_0x3bed87(0x1f9)](this[_0x3bed87(0x226)],_0x599250);if(await fs_internal_1['FS'][_0x3bed87(0x21a)](_0x4ade34)){const _0x4410af=await fs_internal_1['FS'][_0x3bed87(0x1ff)](_0x4ade34);this[_0x3bed87(0x1f7)][_0x599250]=await xml_1[_0x3bed87(0x21e)]['parse'](_0x4410af)[_0x3bed87(0x217)](_0x4c0e20=>this[_0x3bed87(0x213)](_0x4c0e20,_0x5d88f3));}else{this[_0x3bed87(0x1f7)][_0x599250]=await xml_1['Xml']['parse'](_0x443eaa)[_0x3bed87(0x217)](_0xfbd9f7=>this['handleXmlParsingError'](_0xfbd9f7,_0x5d88f3));return;}}const _0x36a1bf=this['parentComponents'][_0x599250],_0xb7aeec=await xml_1[_0x3bed87(0x21e)][_0x3bed87(0x1fb)](_0x443eaa)[_0x3bed87(0x217)](_0x274878=>this[_0x3bed87(0x213)](_0x274878,_0x5d88f3));xml_1[_0x3bed87(0x21e)][_0x3bed87(0x205)](_0x36a1bf,_0xb7aeec);}catch(_0x89d306){if(_0x89d306 instanceof invalid_xml_error_1[_0x3bed87(0x21d)]){if(this[_0x3bed87(0x227)])return;else throw _0x89d306;}throw new Error(_0x3bed87(0x231)+_0x5d88f3['fileName']+'\x20['+_0x5d88f3[_0x3bed87(0x225)]+'].\x20Original\x20error:\x20'+_0x89d306);}}async[a97_0x53b879(0x20f)](){const _0xc1b564=a97_0x53b879;!await fs_internal_1['FS'][_0xc1b564(0x21a)](this[_0xc1b564(0x226)])&&await fs_internal_1['FS'][_0xc1b564(0x221)](this[_0xc1b564(0x226)]);for(const _0x1e2243 of this[_0xc1b564(0x224)]){!child_types_1['default'][_0xc1b564(0x207)](_0x1e2243['fileType'])?await this[_0xc1b564(0x214)](_0x1e2243):await this[_0xc1b564(0x22e)](_0x1e2243);}const _0x1bcca0=Object[_0xc1b564(0x222)](this[_0xc1b564(0x1f7)]);this[_0xc1b564(0x223)][_0xc1b564(0x22a)](_0xc1b564(0x202),this['components'][_0xc1b564(0x1fe)]);while(_0x1bcca0[_0xc1b564(0x1fe)]){const _0x3ede2a=_0x1bcca0[_0xc1b564(0x229)](0x0,this[_0xc1b564(0x21b)]);for(const _0x2826fd of _0x3ede2a){await fs_internal_1['FS'][_0xc1b564(0x1fc)](path_1[_0xc1b564(0x219)][_0xc1b564(0x1f9)](this[_0xc1b564(0x226)],_0x2826fd),xml_1[_0xc1b564(0x21e)][_0xc1b564(0x210)](this[_0xc1b564(0x1f7)][_0x2826fd]));}}this[_0xc1b564(0x1f7)]={};}}exports[a97_0x53b879(0x22b)]=MDApiWriter;