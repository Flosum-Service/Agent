const a98_0x592c52=a98_0x395d;(function(_0x493a25,_0x1c0ae7){const _0x35e196=a98_0x395d,_0x4d3adc=_0x493a25();while(!![]){try{const _0x48401a=parseInt(_0x35e196(0x163))/0x1*(parseInt(_0x35e196(0x14f))/0x2)+-parseInt(_0x35e196(0x168))/0x3+parseInt(_0x35e196(0x164))/0x4*(parseInt(_0x35e196(0x15f))/0x5)+-parseInt(_0x35e196(0x141))/0x6*(parseInt(_0x35e196(0x16e))/0x7)+-parseInt(_0x35e196(0x148))/0x8*(parseInt(_0x35e196(0x142))/0x9)+parseInt(_0x35e196(0x162))/0xa+parseInt(_0x35e196(0x175))/0xb;if(_0x48401a===_0x1c0ae7)break;else _0x4d3adc['push'](_0x4d3adc['shift']());}catch(_0x5639b0){_0x4d3adc['push'](_0x4d3adc['shift']());}}}(a98_0x15b1,0xf2b1b));function a98_0x395d(_0x5d4112,_0x276234){const _0x2ec624=a98_0x15b1();return a98_0x395d=function(_0x2f230d,_0x1fffdb){_0x2f230d=_0x2f230d-0x138;let _0x15b16d=_0x2ec624[_0x2f230d];return _0x15b16d;},a98_0x395d(_0x5d4112,_0x276234);}const a98_0x1fffdb=(function(){let _0x4013c2=!![];return function(_0x17ba2f,_0x4353a8){const _0x3cc9b0=_0x4013c2?function(){const _0x3e5557=a98_0x395d;if(_0x4353a8){const _0x24ce0b=_0x4353a8[_0x3e5557(0x16a)](_0x17ba2f,arguments);return _0x4353a8=null,_0x24ce0b;}}:function(){};return _0x4013c2=![],_0x3cc9b0;};}()),a98_0x2f230d=a98_0x1fffdb(this,function(){const _0x5234d9=a98_0x395d;return a98_0x2f230d[_0x5234d9(0x153)]()[_0x5234d9(0x155)](_0x5234d9(0x16c))[_0x5234d9(0x153)]()[_0x5234d9(0x13c)](a98_0x2f230d)['search'](_0x5234d9(0x16c));});a98_0x2f230d();'use strict';var __importDefault=this&&this[a98_0x592c52(0x160)]||function(_0x3a6a19){const _0x216df2=a98_0x592c52;return _0x3a6a19&&_0x3a6a19[_0x216df2(0x13f)]?_0x3a6a19:{'default':_0x3a6a19};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a98_0x592c52(0x139))),core_1=require(a98_0x592c52(0x165)),fs_internal_1=require(a98_0x592c52(0x147)),invalid_xml_error_1=require(a98_0x592c52(0x167)),xml_1=require(a98_0x592c52(0x14d)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a98_0x592c52(0x149)));function a98_0x15b1(){const _0x58e05b=['__esModule','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','138VKvwme','2938293MQpjmf','components','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','writeChild','../../internal/fs.internal','8eXyEHQ','../data/child-types','log','fileName','includes','../utils/xml','handleXmlParsingError','196014UGOUWd','makeDir','push','Xml','toString','async','search','readFile','catch','exists','MAX_WRITES_PER_TICK','parse','writeParent','internalLogger','start','files','32180OHpiGA','__importDefault','map','12761000fGauzb','1JbBcfn','1088glHzvo','../../../core','].\x20Original\x20error:\x20','../errors/invalid-xml.error','4983819WTvKnu','nodebuffer','apply','parentComponents','(((.+)+)+)+$','keys','181237bddzjn','join','body','InvalidXmlError','all','readZip','default','4978809VpPLbF','sourceDir','path','MDApiWriter','Zip','constructor','Logger','text'];a98_0x15b1=function(){return _0x58e05b;};return a98_0x15b1();}class MDApiWriter{constructor({components:_0x44a4f6,sourceDir:_0x5f0a11,skipChildErrors:_0x472a11}){const _0x1f7982=a98_0x592c52;this[_0x1f7982(0x159)]=0x64,this[_0x1f7982(0x16b)]={},this[_0x1f7982(0x15c)]=new core_1[(_0x1f7982(0x13d))](MDApiWriter['name']),this[_0x1f7982(0x143)]=_0x44a4f6,this[_0x1f7982(0x138)]=_0x5f0a11,this['skipChildErrors']=_0x472a11;}async[a98_0x592c52(0x173)](_0x361062,_0x539084=![]){const _0x52402f=a98_0x592c52,_0x59f83c=await zip_1[_0x52402f(0x13b)]['unzip'](_0x361062),_0x5ea637=[];for(const _0x1709f4 of Object[_0x52402f(0x16d)](_0x59f83c[_0x52402f(0x15e)])){!_0x59f83c[_0x52402f(0x15e)][_0x1709f4]['dir']&&_0x5ea637[_0x52402f(0x151)]({'filename':_0x1709f4,'body':await _0x59f83c[_0x52402f(0x15e)][_0x1709f4][_0x52402f(0x154)](_0x539084?_0x52402f(0x169):_0x52402f(0x13e))});}return _0x5ea637;}async[a98_0x592c52(0x15b)](_0x3ca478){const _0x575db2=a98_0x592c52;try{const _0x298c2c=await this[_0x575db2(0x173)](_0x3ca478[_0x575db2(0x170)],!![]);await Promise[_0x575db2(0x172)](_0x298c2c[_0x575db2(0x161)](({filename:_0x123712,body:_0x2120b6})=>fs_internal_1['FS']['writeFile'](path_1[_0x575db2(0x174)][_0x575db2(0x16f)](this[_0x575db2(0x138)],_0x123712),_0x2120b6)));}catch(_0x2f04cd){throw new Error(_0x575db2(0x140)+_0x3ca478[_0x575db2(0x14b)]+'\x20['+_0x3ca478['fileType']+_0x575db2(0x166)+_0x2f04cd);}}['handleXmlParsingError'](_0x11da21,_0x15ec6b){const _0x136f45=a98_0x592c52;throw new invalid_xml_error_1['InvalidXmlError'](_0x136f45(0x145)+_0x15ec6b[_0x136f45(0x14b)]+'\x20['+_0x15ec6b['fileType']+_0x136f45(0x166)+_0x11da21);}async['writeChild'](_0x5e2cba){const _0x20b243=a98_0x592c52,{filename:_0x4fc4ad,body:_0x4e3ada}=(await this[_0x20b243(0x173)](_0x5e2cba[_0x20b243(0x170)]))[0x0];try{if(!this[_0x20b243(0x16b)][_0x4fc4ad]){const _0x11f750=path_1['default'][_0x20b243(0x16f)](this[_0x20b243(0x138)],_0x4fc4ad);if(await fs_internal_1['FS'][_0x20b243(0x158)](_0x11f750)){const _0x3d0619=await fs_internal_1['FS'][_0x20b243(0x156)](_0x11f750);this[_0x20b243(0x16b)][_0x4fc4ad]=await xml_1[_0x20b243(0x152)]['parse'](_0x3d0619)['catch'](_0x5a6f36=>this['handleXmlParsingError'](_0x5a6f36,_0x5e2cba));}else{this['parentComponents'][_0x4fc4ad]=await xml_1[_0x20b243(0x152)][_0x20b243(0x15a)](_0x4e3ada)[_0x20b243(0x157)](_0x8e6c40=>this['handleXmlParsingError'](_0x8e6c40,_0x5e2cba));return;}}const _0x95871c=this['parentComponents'][_0x4fc4ad],_0x48cb9c=await xml_1[_0x20b243(0x152)][_0x20b243(0x15a)](_0x4e3ada)[_0x20b243(0x157)](_0x47f95b=>this[_0x20b243(0x14e)](_0x47f95b,_0x5e2cba));xml_1['Xml']['replaceOrAppend'](_0x95871c,_0x48cb9c);}catch(_0x19f689){if(_0x19f689 instanceof invalid_xml_error_1[_0x20b243(0x171)]){if(this['skipChildErrors'])return;else throw _0x19f689;}throw new Error(_0x20b243(0x144)+_0x5e2cba[_0x20b243(0x14b)]+'\x20['+_0x5e2cba['fileType']+'].\x20Original\x20error:\x20'+_0x19f689);}}async[a98_0x592c52(0x15d)](){const _0x2c18e9=a98_0x592c52;!await fs_internal_1['FS']['exists'](this[_0x2c18e9(0x138)])&&await fs_internal_1['FS'][_0x2c18e9(0x150)](this[_0x2c18e9(0x138)]);for(const _0x14e3a3 of this[_0x2c18e9(0x143)]){!child_types_1[_0x2c18e9(0x174)][_0x2c18e9(0x14c)](_0x14e3a3['fileType'])?await this[_0x2c18e9(0x15b)](_0x14e3a3):await this[_0x2c18e9(0x146)](_0x14e3a3);}const _0x1ebf1f=Object[_0x2c18e9(0x16d)](this[_0x2c18e9(0x16b)]);this[_0x2c18e9(0x15c)][_0x2c18e9(0x14a)]('have\x20to\x20write\x20%d\x20files',this[_0x2c18e9(0x143)]['length']);while(_0x1ebf1f['length']){const _0x47157b=_0x1ebf1f['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x44e6ba of _0x47157b){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x2c18e9(0x16f)](this[_0x2c18e9(0x138)],_0x44e6ba),xml_1[_0x2c18e9(0x152)]['convertToString'](this[_0x2c18e9(0x16b)][_0x44e6ba]));}}this[_0x2c18e9(0x16b)]={};}}exports[a98_0x592c52(0x13a)]=MDApiWriter;