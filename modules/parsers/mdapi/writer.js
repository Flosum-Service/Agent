const a98_0x31e614=a98_0x149f;function a98_0x149f(_0x5c8f58,_0x52cce9){const _0x1b7f2e=a98_0x14ca();return a98_0x149f=function(_0x444e39,_0xe690f3){_0x444e39=_0x444e39-0x1cd;let _0x14ca51=_0x1b7f2e[_0x444e39];return _0x14ca51;},a98_0x149f(_0x5c8f58,_0x52cce9);}(function(_0x567642,_0x3c92a9){const _0x267250=a98_0x149f,_0x2fd006=_0x567642();while(!![]){try{const _0x5ea7dd=parseInt(_0x267250(0x1fa))/0x1+-parseInt(_0x267250(0x1d1))/0x2*(-parseInt(_0x267250(0x1d0))/0x3)+parseInt(_0x267250(0x1df))/0x4*(-parseInt(_0x267250(0x1f8))/0x5)+-parseInt(_0x267250(0x1d7))/0x6+-parseInt(_0x267250(0x208))/0x7*(parseInt(_0x267250(0x1ea))/0x8)+parseInt(_0x267250(0x1cd))/0x9+parseInt(_0x267250(0x1de))/0xa;if(_0x5ea7dd===_0x3c92a9)break;else _0x2fd006['push'](_0x2fd006['shift']());}catch(_0x127d93){_0x2fd006['push'](_0x2fd006['shift']());}}}(a98_0x14ca,0xe198e));const a98_0xe690f3=(function(){let _0x776411=!![];return function(_0x4286fe,_0x4cdef0){const _0x1082e0=_0x776411?function(){const _0x4e2e75=a98_0x149f;if(_0x4cdef0){const _0x10e0c8=_0x4cdef0[_0x4e2e75(0x1f9)](_0x4286fe,arguments);return _0x4cdef0=null,_0x10e0c8;}}:function(){};return _0x776411=![],_0x1082e0;};}()),a98_0x444e39=a98_0xe690f3(this,function(){const _0xf4c3a=a98_0x149f;return a98_0x444e39[_0xf4c3a(0x1eb)]()['search'](_0xf4c3a(0x1db))['toString']()[_0xf4c3a(0x1e4)](a98_0x444e39)[_0xf4c3a(0x209)](_0xf4c3a(0x1db));});function a98_0x14ca(){const _0xde4fcf=['410022lwgaBC','writeFile','parentComponents','].\x20Original\x20error:\x20','catch','map','8226144JOyvXm','fileName','MDApiWriter','nodebuffer','(((.+)+)+)+$','../errors/invalid-xml.error','push','17035370FFVlNI','8QpItsU','InvalidXmlError','includes','__esModule','length','constructor','../utils/zip','skipChildErrors','../../../core','body','writeChild','872RSOuEI','toString','components','exists','join','keys','parse','files','sourceDir','convertToString','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','readZip','start','../utils/xml','1136595QeORNG','apply','297452FvxjbM','all','makeDir','fileType','default','defineProperty','__importDefault','MAX_WRITES_PER_TICK','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','handleXmlParsingError','Xml','text','dir','writeParent','7217AxXoHe','search','internalLogger','369486MmxLea','replaceOrAppend','../data/child-types','12WRGMMF'];a98_0x14ca=function(){return _0xde4fcf;};return a98_0x14ca();}a98_0x444e39();'use strict';var __importDefault=this&&this[a98_0x31e614(0x200)]||function(_0x2eb047){return _0x2eb047&&_0x2eb047['__esModule']?_0x2eb047:{'default':_0x2eb047};};Object[a98_0x31e614(0x1ff)](exports,a98_0x31e614(0x1e2),{'value':!![]}),exports[a98_0x31e614(0x1d9)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a98_0x31e614(0x1e7)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a98_0x31e614(0x1dc)),xml_1=require(a98_0x31e614(0x1f7)),zip_1=require(a98_0x31e614(0x1e5)),child_types_1=__importDefault(require(a98_0x31e614(0x1cf)));class MDApiWriter{constructor({components:_0x5bec3f,sourceDir:_0x2b4664,skipChildErrors:_0x9c1819}){const _0xf436a6=a98_0x31e614;this[_0xf436a6(0x201)]=0x64,this['parentComponents']={},this[_0xf436a6(0x20a)]=new core_1['Logger'](MDApiWriter['name']),this[_0xf436a6(0x1ec)]=_0x5bec3f,this[_0xf436a6(0x1f2)]=_0x2b4664,this[_0xf436a6(0x1e6)]=_0x9c1819;}async[a98_0x31e614(0x1f5)](_0x3e1347,_0x4c496a=![]){const _0xbc684f=a98_0x31e614,_0x17f42b=await zip_1['Zip']['unzip'](_0x3e1347),_0x2e3bc0=[];for(const _0x163e5c of Object[_0xbc684f(0x1ef)](_0x17f42b[_0xbc684f(0x1f1)])){!_0x17f42b[_0xbc684f(0x1f1)][_0x163e5c][_0xbc684f(0x206)]&&_0x2e3bc0[_0xbc684f(0x1dd)]({'filename':_0x163e5c,'body':await _0x17f42b[_0xbc684f(0x1f1)][_0x163e5c]['async'](_0x4c496a?_0xbc684f(0x1da):_0xbc684f(0x205))});}return _0x2e3bc0;}async[a98_0x31e614(0x207)](_0x22aa54){const _0x1aef8c=a98_0x31e614;try{const _0x596202=await this['readZip'](_0x22aa54[_0x1aef8c(0x1e8)],!![]);await Promise[_0x1aef8c(0x1fb)](_0x596202[_0x1aef8c(0x1d6)](({filename:_0x29bc90,body:_0x492e5d})=>fs_internal_1['FS'][_0x1aef8c(0x1d2)](path_1[_0x1aef8c(0x1fe)][_0x1aef8c(0x1ee)](this[_0x1aef8c(0x1f2)],_0x29bc90),_0x492e5d)));}catch(_0x1adf5e){throw new Error(_0x1aef8c(0x1f4)+_0x22aa54[_0x1aef8c(0x1d8)]+'\x20['+_0x22aa54[_0x1aef8c(0x1fd)]+_0x1aef8c(0x1d4)+_0x1adf5e);}}[a98_0x31e614(0x203)](_0x447b19,_0x44edac){const _0x337d52=a98_0x31e614;throw new invalid_xml_error_1[(_0x337d52(0x1e0))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x44edac[_0x337d52(0x1d8)]+'\x20['+_0x44edac[_0x337d52(0x1fd)]+_0x337d52(0x1d4)+_0x447b19);}async[a98_0x31e614(0x1e9)](_0x42bf8d){const _0x1e8b4c=a98_0x31e614,{filename:_0xcecfdb,body:_0x195c36}=(await this['readZip'](_0x42bf8d[_0x1e8b4c(0x1e8)]))[0x0];try{if(!this[_0x1e8b4c(0x1d3)][_0xcecfdb]){const _0xe01f31=path_1[_0x1e8b4c(0x1fe)][_0x1e8b4c(0x1ee)](this[_0x1e8b4c(0x1f2)],_0xcecfdb);if(await fs_internal_1['FS'][_0x1e8b4c(0x1ed)](_0xe01f31)){const _0x28412b=await fs_internal_1['FS']['readFile'](_0xe01f31);this[_0x1e8b4c(0x1d3)][_0xcecfdb]=await xml_1[_0x1e8b4c(0x204)][_0x1e8b4c(0x1f0)](_0x28412b)[_0x1e8b4c(0x1d5)](_0x57cc4f=>this[_0x1e8b4c(0x203)](_0x57cc4f,_0x42bf8d));}else{this[_0x1e8b4c(0x1d3)][_0xcecfdb]=await xml_1[_0x1e8b4c(0x204)]['parse'](_0x195c36)[_0x1e8b4c(0x1d5)](_0x4cacff=>this[_0x1e8b4c(0x203)](_0x4cacff,_0x42bf8d));return;}}const _0x523564=this[_0x1e8b4c(0x1d3)][_0xcecfdb],_0x59060e=await xml_1['Xml'][_0x1e8b4c(0x1f0)](_0x195c36)[_0x1e8b4c(0x1d5)](_0x32e2a3=>this[_0x1e8b4c(0x203)](_0x32e2a3,_0x42bf8d));xml_1[_0x1e8b4c(0x204)][_0x1e8b4c(0x1ce)](_0x523564,_0x59060e);}catch(_0x2de73e){if(_0x2de73e instanceof invalid_xml_error_1[_0x1e8b4c(0x1e0)]){if(this['skipChildErrors'])return;else throw _0x2de73e;}throw new Error(_0x1e8b4c(0x202)+_0x42bf8d['fileName']+'\x20['+_0x42bf8d[_0x1e8b4c(0x1fd)]+'].\x20Original\x20error:\x20'+_0x2de73e);}}async[a98_0x31e614(0x1f6)](){const _0x42de3e=a98_0x31e614;!await fs_internal_1['FS'][_0x42de3e(0x1ed)](this[_0x42de3e(0x1f2)])&&await fs_internal_1['FS'][_0x42de3e(0x1fc)](this[_0x42de3e(0x1f2)]);for(const _0x2dfa7a of this[_0x42de3e(0x1ec)]){!child_types_1[_0x42de3e(0x1fe)][_0x42de3e(0x1e1)](_0x2dfa7a[_0x42de3e(0x1fd)])?await this[_0x42de3e(0x207)](_0x2dfa7a):await this[_0x42de3e(0x1e9)](_0x2dfa7a);}const _0x41dbf5=Object[_0x42de3e(0x1ef)](this['parentComponents']);this['internalLogger']['log']('have\x20to\x20write\x20%d\x20files',this[_0x42de3e(0x1ec)][_0x42de3e(0x1e3)]);while(_0x41dbf5[_0x42de3e(0x1e3)]){const _0x4247b9=_0x41dbf5['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3a7d33 of _0x4247b9){await fs_internal_1['FS'][_0x42de3e(0x1d2)](path_1[_0x42de3e(0x1fe)][_0x42de3e(0x1ee)](this[_0x42de3e(0x1f2)],_0x3a7d33),xml_1[_0x42de3e(0x204)][_0x42de3e(0x1f3)](this[_0x42de3e(0x1d3)][_0x3a7d33]));}}this[_0x42de3e(0x1d3)]={};}}exports['MDApiWriter']=MDApiWriter;