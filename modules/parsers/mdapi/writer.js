function a97_0x3b5e(){const _0x11ac23=['components','fileName','search','includes','469263jJIYmr','skipChildErrors','2470239hrCwCO','async','Logger','internalLogger','have\x20to\x20write\x20%d\x20files','../utils/xml','2331434IhCUET','name','handleXmlParsingError','8zUEwrj','Zip','12asQeil','InvalidXmlError','MDApiWriter','map','toString','(((.+)+)+)+$','../../internal/fs.internal','constructor','writeFile','default','defineProperty','files','26750bvzpbX','writeChild','parse','../errors/invalid-xml.error','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','../../../core','fileType','join','2862LrEVDR','readZip','path','writeParent','push','1236282gYgsLC','26xbMIhF','length','convertToString','readFile','Xml','__esModule','MAX_WRITES_PER_TICK','dir','makeDir','].\x20Original\x20error:\x20','__importDefault','body','catch','parentComponents','exists','keys','all','312415JQnlYW','../utils/zip','4015WAWMbc','sourceDir','nodebuffer','start'];a97_0x3b5e=function(){return _0x11ac23;};return a97_0x3b5e();}const a97_0x187eb7=a97_0x450d;(function(_0x175b8d,_0x365ceb){const _0x37b14d=a97_0x450d,_0x9bd1e8=_0x175b8d();while(!![]){try{const _0x3a5c20=-parseInt(_0x37b14d(0x21a))/0x1*(-parseInt(_0x37b14d(0x1de))/0x2)+parseInt(_0x37b14d(0x1f9))/0x3+parseInt(_0x37b14d(0x206))/0x4*(parseInt(_0x37b14d(0x1ef))/0x5)+parseInt(_0x37b14d(0x1dd))/0x6+parseInt(_0x37b14d(0x201))/0x7+parseInt(_0x37b14d(0x204))/0x8*(parseInt(_0x37b14d(0x1fb))/0x9)+parseInt(_0x37b14d(0x212))/0xa*(-parseInt(_0x37b14d(0x1f1))/0xb);if(_0x3a5c20===_0x365ceb)break;else _0x9bd1e8['push'](_0x9bd1e8['shift']());}catch(_0x5127a1){_0x9bd1e8['push'](_0x9bd1e8['shift']());}}}(a97_0x3b5e,0x354a9));const a97_0x145c41=(function(){let _0x2cd09b=!![];return function(_0x38e8d7,_0x1d030f){const _0x3e098d=_0x2cd09b?function(){if(_0x1d030f){const _0x28cd0a=_0x1d030f['apply'](_0x38e8d7,arguments);return _0x1d030f=null,_0x28cd0a;}}:function(){};return _0x2cd09b=![],_0x3e098d;};}()),a97_0x21e4ac=a97_0x145c41(this,function(){const _0x23b466=a97_0x450d;return a97_0x21e4ac[_0x23b466(0x20a)]()[_0x23b466(0x1f7)](_0x23b466(0x20b))[_0x23b466(0x20a)]()[_0x23b466(0x20d)](a97_0x21e4ac)[_0x23b466(0x1f7)](_0x23b466(0x20b));});a97_0x21e4ac();'use strict';function a97_0x450d(_0x3f7b14,_0x57e22c){const _0x4259b5=a97_0x3b5e();return a97_0x450d=function(_0x21e4ac,_0x145c41){_0x21e4ac=_0x21e4ac-0x1dd;let _0x3b5efb=_0x4259b5[_0x21e4ac];return _0x3b5efb;},a97_0x450d(_0x3f7b14,_0x57e22c);}var __importDefault=this&&this[a97_0x187eb7(0x1e8)]||function(_0x2fa80c){const _0x679cdc=a97_0x187eb7;return _0x2fa80c&&_0x2fa80c[_0x679cdc(0x1e3)]?_0x2fa80c:{'default':_0x2fa80c};};Object[a97_0x187eb7(0x210)](exports,a97_0x187eb7(0x1e3),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a97_0x187eb7(0x21c))),core_1=require(a97_0x187eb7(0x217)),fs_internal_1=require(a97_0x187eb7(0x20c)),invalid_xml_error_1=require(a97_0x187eb7(0x215)),xml_1=require(a97_0x187eb7(0x200)),zip_1=require(a97_0x187eb7(0x1f0)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x1a1a06,sourceDir:_0x58a5ee,skipChildErrors:_0x1fcaa5}){const _0x58b13a=a97_0x187eb7;this[_0x58b13a(0x1e4)]=0x64,this[_0x58b13a(0x1eb)]={},this[_0x58b13a(0x1fe)]=new core_1[(_0x58b13a(0x1fd))](MDApiWriter[_0x58b13a(0x202)]),this['components']=_0x1a1a06,this[_0x58b13a(0x1f2)]=_0x58a5ee,this['skipChildErrors']=_0x1fcaa5;}async[a97_0x187eb7(0x21b)](_0x33326c,_0x117703=![]){const _0x23deee=a97_0x187eb7,_0x7045ca=await zip_1[_0x23deee(0x205)]['unzip'](_0x33326c),_0xcb8a1c=[];for(const _0x2e8d4b of Object[_0x23deee(0x1ed)](_0x7045ca['files'])){!_0x7045ca[_0x23deee(0x211)][_0x2e8d4b][_0x23deee(0x1e5)]&&_0xcb8a1c[_0x23deee(0x21e)]({'filename':_0x2e8d4b,'body':await _0x7045ca[_0x23deee(0x211)][_0x2e8d4b][_0x23deee(0x1fc)](_0x117703?_0x23deee(0x1f3):'text')});}return _0xcb8a1c;}async[a97_0x187eb7(0x21d)](_0x7d6209){const _0x5394ca=a97_0x187eb7;try{const _0x8389e6=await this[_0x5394ca(0x21b)](_0x7d6209[_0x5394ca(0x1e9)],!![]);await Promise[_0x5394ca(0x1ee)](_0x8389e6[_0x5394ca(0x209)](({filename:_0x1aeca7,body:_0x597e06})=>fs_internal_1['FS'][_0x5394ca(0x20e)](path_1[_0x5394ca(0x20f)][_0x5394ca(0x219)](this[_0x5394ca(0x1f2)],_0x1aeca7),_0x597e06)));}catch(_0x4e3b7d){throw new Error(_0x5394ca(0x216)+_0x7d6209[_0x5394ca(0x1f6)]+'\x20['+_0x7d6209[_0x5394ca(0x218)]+_0x5394ca(0x1e7)+_0x4e3b7d);}}['handleXmlParsingError'](_0x47ab1f,_0x3ad803){const _0x4cb9b6=a97_0x187eb7;throw new invalid_xml_error_1[(_0x4cb9b6(0x207))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x3ad803[_0x4cb9b6(0x1f6)]+'\x20['+_0x3ad803['fileType']+'].\x20Original\x20error:\x20'+_0x47ab1f);}async[a97_0x187eb7(0x213)](_0x58ff21){const _0x3b62c1=a97_0x187eb7,{filename:_0x5140da,body:_0x4baee6}=(await this[_0x3b62c1(0x21b)](_0x58ff21['body']))[0x0];try{if(!this['parentComponents'][_0x5140da]){const _0x5bcfdc=path_1[_0x3b62c1(0x20f)][_0x3b62c1(0x219)](this['sourceDir'],_0x5140da);if(await fs_internal_1['FS'][_0x3b62c1(0x1ec)](_0x5bcfdc)){const _0x177e6e=await fs_internal_1['FS'][_0x3b62c1(0x1e1)](_0x5bcfdc);this[_0x3b62c1(0x1eb)][_0x5140da]=await xml_1['Xml']['parse'](_0x177e6e)[_0x3b62c1(0x1ea)](_0x97369b=>this['handleXmlParsingError'](_0x97369b,_0x58ff21));}else{this['parentComponents'][_0x5140da]=await xml_1[_0x3b62c1(0x1e2)][_0x3b62c1(0x214)](_0x4baee6)[_0x3b62c1(0x1ea)](_0xbe0754=>this[_0x3b62c1(0x203)](_0xbe0754,_0x58ff21));return;}}const _0x5b6e02=this[_0x3b62c1(0x1eb)][_0x5140da],_0x3ca457=await xml_1[_0x3b62c1(0x1e2)][_0x3b62c1(0x214)](_0x4baee6)['catch'](_0x145ec6=>this['handleXmlParsingError'](_0x145ec6,_0x58ff21));xml_1['Xml']['replaceOrAppend'](_0x5b6e02,_0x3ca457);}catch(_0x24e024){if(_0x24e024 instanceof invalid_xml_error_1[_0x3b62c1(0x207)]){if(this[_0x3b62c1(0x1fa)])return;else throw _0x24e024;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x58ff21[_0x3b62c1(0x1f6)]+'\x20['+_0x58ff21[_0x3b62c1(0x218)]+_0x3b62c1(0x1e7)+_0x24e024);}}async[a97_0x187eb7(0x1f4)](){const _0x539cbf=a97_0x187eb7;!await fs_internal_1['FS'][_0x539cbf(0x1ec)](this[_0x539cbf(0x1f2)])&&await fs_internal_1['FS'][_0x539cbf(0x1e6)](this[_0x539cbf(0x1f2)]);for(const _0x3ff074 of this[_0x539cbf(0x1f5)]){!child_types_1[_0x539cbf(0x20f)][_0x539cbf(0x1f8)](_0x3ff074['fileType'])?await this['writeParent'](_0x3ff074):await this[_0x539cbf(0x213)](_0x3ff074);}const _0x4aaafe=Object['keys'](this[_0x539cbf(0x1eb)]);this[_0x539cbf(0x1fe)]['log'](_0x539cbf(0x1ff),this['components']['length']);while(_0x4aaafe[_0x539cbf(0x1df)]){const _0x384036=_0x4aaafe['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1eaad4 of _0x384036){await fs_internal_1['FS'][_0x539cbf(0x20e)](path_1[_0x539cbf(0x20f)][_0x539cbf(0x219)](this[_0x539cbf(0x1f2)],_0x1eaad4),xml_1['Xml'][_0x539cbf(0x1e0)](this[_0x539cbf(0x1eb)][_0x1eaad4]));}}this[_0x539cbf(0x1eb)]={};}}exports[a97_0x187eb7(0x208)]=MDApiWriter;