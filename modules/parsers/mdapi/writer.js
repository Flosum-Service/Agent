const a98_0x21fb68=a98_0x5dcb;(function(_0x210b4d,_0x688a78){const _0x28c345=a98_0x5dcb,_0x3db5c9=_0x210b4d();while(!![]){try{const _0x4972a2=parseInt(_0x28c345(0x99))/0x1*(parseInt(_0x28c345(0x75))/0x2)+parseInt(_0x28c345(0x77))/0x3*(parseInt(_0x28c345(0x89))/0x4)+parseInt(_0x28c345(0x8b))/0x5+parseInt(_0x28c345(0x7f))/0x6+parseInt(_0x28c345(0xa5))/0x7*(parseInt(_0x28c345(0x9b))/0x8)+parseInt(_0x28c345(0xa2))/0x9*(-parseInt(_0x28c345(0x97))/0xa)+parseInt(_0x28c345(0x71))/0xb*(-parseInt(_0x28c345(0x9a))/0xc);if(_0x4972a2===_0x688a78)break;else _0x3db5c9['push'](_0x3db5c9['shift']());}catch(_0x3a4444){_0x3db5c9['push'](_0x3db5c9['shift']());}}}(a98_0x3876,0x3cd20));const a98_0x362667=(function(){let _0x4676b7=!![];return function(_0x3a1a45,_0x3fef82){const _0x54c1ed=_0x4676b7?function(){const _0x14382d=a98_0x5dcb;if(_0x3fef82){const _0x2c3906=_0x3fef82[_0x14382d(0xa0)](_0x3a1a45,arguments);return _0x3fef82=null,_0x2c3906;}}:function(){};return _0x4676b7=![],_0x54c1ed;};}()),a98_0x4b1f7b=a98_0x362667(this,function(){const _0x5ad4e0=a98_0x5dcb;return a98_0x4b1f7b[_0x5ad4e0(0x87)]()[_0x5ad4e0(0x91)](_0x5ad4e0(0xa3))[_0x5ad4e0(0x87)]()[_0x5ad4e0(0x83)](a98_0x4b1f7b)[_0x5ad4e0(0x91)](_0x5ad4e0(0xa3));});a98_0x4b1f7b();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5862ec){return _0x5862ec&&_0x5862ec['__esModule']?_0x5862ec:{'default':_0x5862ec};};Object[a98_0x21fb68(0x8c)](exports,a98_0x21fb68(0x73),{'value':!![]}),exports['MDApiWriter']=void 0x0;function a98_0x3876(){const _0x251bea=['search','../errors/invalid-xml.error','name','sourceDir','all','text','30oTRHyD','readFile','210428KmyXof','948CjCqXQ','3704fPiIdo','join','map','makeDir','replaceOrAppend','apply','includes','151398DlqNip','(((.+)+)+)+$','async','6979QqArvn','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','parentComponents','readZip','../utils/xml','internalLogger','Logger','../utils/zip','MAX_WRITES_PER_TICK','writeParent','writeFile','fileName','keys','unzip','176858UstIyn','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','__esModule','files','2onjGZS','exists','211083REJgAB','parse','default','have\x20to\x20write\x20%d\x20files','skipChildErrors','InvalidXmlError','MDApiWriter','push','1271322xlpwri','../../../core','nodebuffer','writeChild','constructor','components','Zip','handleXmlParsingError','toString','splice','20WqZTnv','].\x20Original\x20error:\x20','1670085LtRXcj','defineProperty','Xml','../../internal/fs.internal','fileType','start'];a98_0x3876=function(){return _0x251bea;};return a98_0x3876();}const path_1=__importDefault(require('path')),core_1=require(a98_0x21fb68(0x80)),fs_internal_1=require(a98_0x21fb68(0x8e)),invalid_xml_error_1=require(a98_0x21fb68(0x92)),xml_1=require(a98_0x21fb68(0x67)),zip_1=require(a98_0x21fb68(0x6a)),child_types_1=__importDefault(require('../data/child-types'));function a98_0x5dcb(_0x447bf4,_0x5aad10){const _0x50799b=a98_0x3876();return a98_0x5dcb=function(_0x4b1f7b,_0x362667){_0x4b1f7b=_0x4b1f7b-0x67;let _0x3876b2=_0x50799b[_0x4b1f7b];return _0x3876b2;},a98_0x5dcb(_0x447bf4,_0x5aad10);}class MDApiWriter{constructor({components:_0x2041c8,sourceDir:_0x4fcb3b,skipChildErrors:_0x388e51}){const _0x1f934f=a98_0x21fb68;this[_0x1f934f(0x6b)]=0x64,this['parentComponents']={},this[_0x1f934f(0x68)]=new core_1[(_0x1f934f(0x69))](MDApiWriter[_0x1f934f(0x93)]),this[_0x1f934f(0x84)]=_0x2041c8,this[_0x1f934f(0x94)]=_0x4fcb3b,this[_0x1f934f(0x7b)]=_0x388e51;}async[a98_0x21fb68(0xa8)](_0x24fca6,_0xda68fb=![]){const _0x2dcd99=a98_0x21fb68,_0x49eea9=await zip_1[_0x2dcd99(0x85)][_0x2dcd99(0x70)](_0x24fca6),_0x49c7ff=[];for(const _0x400f1a of Object[_0x2dcd99(0x6f)](_0x49eea9[_0x2dcd99(0x74)])){!_0x49eea9[_0x2dcd99(0x74)][_0x400f1a]['dir']&&_0x49c7ff[_0x2dcd99(0x7e)]({'filename':_0x400f1a,'body':await _0x49eea9[_0x2dcd99(0x74)][_0x400f1a][_0x2dcd99(0xa4)](_0xda68fb?_0x2dcd99(0x81):_0x2dcd99(0x96))});}return _0x49c7ff;}async['writeParent'](_0x518fd){const _0x1e0cb3=a98_0x21fb68;try{const _0x1577a2=await this[_0x1e0cb3(0xa8)](_0x518fd['body'],!![]);await Promise[_0x1e0cb3(0x95)](_0x1577a2[_0x1e0cb3(0x9d)](({filename:_0x352eba,body:_0x11b768})=>fs_internal_1['FS'][_0x1e0cb3(0x6d)](path_1['default']['join'](this[_0x1e0cb3(0x94)],_0x352eba),_0x11b768)));}catch(_0x3b7dbd){throw new Error(_0x1e0cb3(0x72)+_0x518fd[_0x1e0cb3(0x6e)]+'\x20['+_0x518fd['fileType']+_0x1e0cb3(0x8a)+_0x3b7dbd);}}['handleXmlParsingError'](_0x14f3c8,_0xc9e9bd){const _0x32e0f9=a98_0x21fb68;throw new invalid_xml_error_1[(_0x32e0f9(0x7c))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0xc9e9bd[_0x32e0f9(0x6e)]+'\x20['+_0xc9e9bd[_0x32e0f9(0x8f)]+_0x32e0f9(0x8a)+_0x14f3c8);}async[a98_0x21fb68(0x82)](_0x162335){const _0x2c567d=a98_0x21fb68,{filename:_0x142caf,body:_0x85fec9}=(await this[_0x2c567d(0xa8)](_0x162335['body']))[0x0];try{if(!this[_0x2c567d(0xa7)][_0x142caf]){const _0x475d18=path_1[_0x2c567d(0x79)][_0x2c567d(0x9c)](this[_0x2c567d(0x94)],_0x142caf);if(await fs_internal_1['FS'][_0x2c567d(0x76)](_0x475d18)){const _0x1f527f=await fs_internal_1['FS'][_0x2c567d(0x98)](_0x475d18);this['parentComponents'][_0x142caf]=await xml_1['Xml'][_0x2c567d(0x78)](_0x1f527f)['catch'](_0x4b8e68=>this[_0x2c567d(0x86)](_0x4b8e68,_0x162335));}else{this['parentComponents'][_0x142caf]=await xml_1[_0x2c567d(0x8d)]['parse'](_0x85fec9)['catch'](_0x2d4057=>this[_0x2c567d(0x86)](_0x2d4057,_0x162335));return;}}const _0x36f477=this[_0x2c567d(0xa7)][_0x142caf],_0x306aeb=await xml_1[_0x2c567d(0x8d)][_0x2c567d(0x78)](_0x85fec9)['catch'](_0x8e662c=>this[_0x2c567d(0x86)](_0x8e662c,_0x162335));xml_1[_0x2c567d(0x8d)][_0x2c567d(0x9f)](_0x36f477,_0x306aeb);}catch(_0x2f59b7){if(_0x2f59b7 instanceof invalid_xml_error_1[_0x2c567d(0x7c)]){if(this['skipChildErrors'])return;else throw _0x2f59b7;}throw new Error(_0x2c567d(0xa6)+_0x162335['fileName']+'\x20['+_0x162335[_0x2c567d(0x8f)]+_0x2c567d(0x8a)+_0x2f59b7);}}async[a98_0x21fb68(0x90)](){const _0x312b37=a98_0x21fb68;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x312b37(0x9e)](this[_0x312b37(0x94)]);for(const _0x1031c7 of this['components']){!child_types_1[_0x312b37(0x79)][_0x312b37(0xa1)](_0x1031c7[_0x312b37(0x8f)])?await this[_0x312b37(0x6c)](_0x1031c7):await this[_0x312b37(0x82)](_0x1031c7);}const _0x1c362a=Object[_0x312b37(0x6f)](this[_0x312b37(0xa7)]);this[_0x312b37(0x68)]['log'](_0x312b37(0x7a),this['components']['length']);while(_0x1c362a['length']){const _0x9311fc=_0x1c362a[_0x312b37(0x88)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x331654 of _0x9311fc){await fs_internal_1['FS'][_0x312b37(0x6d)](path_1[_0x312b37(0x79)][_0x312b37(0x9c)](this[_0x312b37(0x94)],_0x331654),xml_1['Xml']['convertToString'](this['parentComponents'][_0x331654]));}}this[_0x312b37(0xa7)]={};}}exports[a98_0x21fb68(0x7d)]=MDApiWriter;