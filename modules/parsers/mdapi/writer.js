const a98_0x3789df=a98_0x2e45;(function(_0x20cdc3,_0x4ffd89){const _0x4c1d89=a98_0x2e45,_0xe09348=_0x20cdc3();while(!![]){try{const _0x11d47a=parseInt(_0x4c1d89(0x149))/0x1+-parseInt(_0x4c1d89(0x135))/0x2*(-parseInt(_0x4c1d89(0x152))/0x3)+-parseInt(_0x4c1d89(0x13a))/0x4+-parseInt(_0x4c1d89(0x13e))/0x5*(parseInt(_0x4c1d89(0x142))/0x6)+-parseInt(_0x4c1d89(0x136))/0x7*(parseInt(_0x4c1d89(0x124))/0x8)+parseInt(_0x4c1d89(0x132))/0x9*(parseInt(_0x4c1d89(0x12d))/0xa)+parseInt(_0x4c1d89(0x134))/0xb*(parseInt(_0x4c1d89(0x150))/0xc);if(_0x11d47a===_0x4ffd89)break;else _0xe09348['push'](_0xe09348['shift']());}catch(_0x13ff92){_0xe09348['push'](_0xe09348['shift']());}}}(a98_0xaec4,0x6b71e));const a98_0x49a72d=(function(){let _0xa363b=!![];return function(_0x432bfd,_0x72785a){const _0x58780f=_0xa363b?function(){const _0x3f9687=a98_0x2e45;if(_0x72785a){const _0x57304b=_0x72785a[_0x3f9687(0x138)](_0x432bfd,arguments);return _0x72785a=null,_0x57304b;}}:function(){};return _0xa363b=![],_0x58780f;};}()),a98_0x4348ee=a98_0x49a72d(this,function(){const _0x1593d6=a98_0x2e45;return a98_0x4348ee['toString']()[_0x1593d6(0x153)](_0x1593d6(0x12c))[_0x1593d6(0x14e)]()['constructor'](a98_0x4348ee)['search'](_0x1593d6(0x12c));});a98_0x4348ee();'use strict';var __importDefault=this&&this[a98_0x3789df(0x12e)]||function(_0x5a7c7f){const _0xb4c441=a98_0x3789df;return _0x5a7c7f&&_0x5a7c7f[_0xb4c441(0x151)]?_0x5a7c7f:{'default':_0x5a7c7f};};Object[a98_0x3789df(0x131)](exports,'__esModule',{'value':!![]}),exports[a98_0x3789df(0x140)]=void 0x0;function a98_0x2e45(_0x5b7625,_0x395bcd){const _0x1c740f=a98_0xaec4();return a98_0x2e45=function(_0x4348ee,_0x49a72d){_0x4348ee=_0x4348ee-0x117;let _0xaec453=_0x1c740f[_0x4348ee];return _0xaec453;},a98_0x2e45(_0x5b7625,_0x395bcd);}const path_1=__importDefault(require(a98_0x3789df(0x127))),core_1=require(a98_0x3789df(0x155)),fs_internal_1=require(a98_0x3789df(0x154)),invalid_xml_error_1=require(a98_0x3789df(0x11e)),xml_1=require(a98_0x3789df(0x14a)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a98_0x3789df(0x129)));class MDApiWriter{constructor({components:_0x143ab0,sourceDir:_0x57c45a,skipChildErrors:_0x33a5c4}){const _0x5d257d=a98_0x3789df;this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={},this['internalLogger']=new core_1[(_0x5d257d(0x118))](MDApiWriter[_0x5d257d(0x137)]),this[_0x5d257d(0x122)]=_0x143ab0,this[_0x5d257d(0x139)]=_0x57c45a,this[_0x5d257d(0x11a)]=_0x33a5c4;}async[a98_0x3789df(0x12f)](_0x2a9d4d,_0x290f40=![]){const _0x274d34=a98_0x3789df,_0x42b1bf=await zip_1[_0x274d34(0x12a)]['unzip'](_0x2a9d4d),_0x1dde5b=[];for(const _0x43c69b of Object[_0x274d34(0x125)](_0x42b1bf[_0x274d34(0x11f)])){!_0x42b1bf[_0x274d34(0x11f)][_0x43c69b][_0x274d34(0x11d)]&&_0x1dde5b['push']({'filename':_0x43c69b,'body':await _0x42b1bf[_0x274d34(0x11f)][_0x43c69b]['async'](_0x290f40?'nodebuffer':_0x274d34(0x120))});}return _0x1dde5b;}async['writeParent'](_0x1603e8){const _0x512c3a=a98_0x3789df;try{const _0x39c070=await this[_0x512c3a(0x12f)](_0x1603e8[_0x512c3a(0x11c)],!![]);await Promise[_0x512c3a(0x141)](_0x39c070[_0x512c3a(0x13f)](({filename:_0x368281,body:_0x52060b})=>fs_internal_1['FS'][_0x512c3a(0x14c)](path_1[_0x512c3a(0x14d)][_0x512c3a(0x158)](this[_0x512c3a(0x139)],_0x368281),_0x52060b)));}catch(_0x560752){throw new Error('[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'+_0x1603e8[_0x512c3a(0x157)]+'\x20['+_0x1603e8[_0x512c3a(0x144)]+_0x512c3a(0x119)+_0x560752);}}[a98_0x3789df(0x14b)](_0x87bdd5,_0x17b435){const _0x4e054e=a98_0x3789df;throw new invalid_xml_error_1[(_0x4e054e(0x147))](_0x4e054e(0x126)+_0x17b435[_0x4e054e(0x157)]+'\x20['+_0x17b435[_0x4e054e(0x144)]+_0x4e054e(0x119)+_0x87bdd5);}async['writeChild'](_0x151358){const _0x40f4f3=a98_0x3789df,{filename:_0x3b0ce2,body:_0x59d70c}=(await this[_0x40f4f3(0x12f)](_0x151358[_0x40f4f3(0x11c)]))[0x0];try{if(!this[_0x40f4f3(0x145)][_0x3b0ce2]){const _0x5a461d=path_1[_0x40f4f3(0x14d)][_0x40f4f3(0x158)](this['sourceDir'],_0x3b0ce2);if(await fs_internal_1['FS'][_0x40f4f3(0x123)](_0x5a461d)){const _0x5e17b2=await fs_internal_1['FS'][_0x40f4f3(0x13c)](_0x5a461d);this[_0x40f4f3(0x145)][_0x3b0ce2]=await xml_1[_0x40f4f3(0x148)][_0x40f4f3(0x11b)](_0x5e17b2)['catch'](_0x15c0a9=>this['handleXmlParsingError'](_0x15c0a9,_0x151358));}else{this[_0x40f4f3(0x145)][_0x3b0ce2]=await xml_1['Xml'][_0x40f4f3(0x11b)](_0x59d70c)[_0x40f4f3(0x133)](_0x9d6d95=>this[_0x40f4f3(0x14b)](_0x9d6d95,_0x151358));return;}}const _0x261e53=this[_0x40f4f3(0x145)][_0x3b0ce2],_0x4e7528=await xml_1[_0x40f4f3(0x148)]['parse'](_0x59d70c)['catch'](_0x18387e=>this[_0x40f4f3(0x14b)](_0x18387e,_0x151358));xml_1[_0x40f4f3(0x148)][_0x40f4f3(0x117)](_0x261e53,_0x4e7528);}catch(_0x54aefb){if(_0x54aefb instanceof invalid_xml_error_1[_0x40f4f3(0x147)]){if(this['skipChildErrors'])return;else throw _0x54aefb;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x151358[_0x40f4f3(0x157)]+'\x20['+_0x151358[_0x40f4f3(0x144)]+'].\x20Original\x20error:\x20'+_0x54aefb);}}async[a98_0x3789df(0x14f)](){const _0x24afd8=a98_0x3789df;!await fs_internal_1['FS'][_0x24afd8(0x123)](this[_0x24afd8(0x139)])&&await fs_internal_1['FS'][_0x24afd8(0x146)](this['sourceDir']);for(const _0x5a2f8d of this[_0x24afd8(0x122)]){!child_types_1[_0x24afd8(0x14d)][_0x24afd8(0x13d)](_0x5a2f8d[_0x24afd8(0x144)])?await this['writeParent'](_0x5a2f8d):await this[_0x24afd8(0x121)](_0x5a2f8d);}const _0x2be261=Object[_0x24afd8(0x125)](this[_0x24afd8(0x145)]);this[_0x24afd8(0x130)][_0x24afd8(0x128)](_0x24afd8(0x156),this[_0x24afd8(0x122)][_0x24afd8(0x12b)]);while(_0x2be261[_0x24afd8(0x12b)]){const _0x31e80f=_0x2be261['splice'](0x0,this[_0x24afd8(0x143)]);for(const _0xd65cc4 of _0x31e80f){await fs_internal_1['FS'][_0x24afd8(0x14c)](path_1[_0x24afd8(0x14d)][_0x24afd8(0x158)](this[_0x24afd8(0x139)],_0xd65cc4),xml_1[_0x24afd8(0x148)][_0x24afd8(0x13b)](this[_0x24afd8(0x145)][_0xd65cc4]));}}this[_0x24afd8(0x145)]={};}}exports[a98_0x3789df(0x140)]=MDApiWriter;function a98_0xaec4(){const _0x2649c8=['join','replaceOrAppend','Logger','].\x20Original\x20error:\x20','skipChildErrors','parse','body','dir','../errors/invalid-xml.error','files','text','writeChild','components','exists','16pfFVQP','keys','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','path','log','../data/child-types','Zip','length','(((.+)+)+)+$','3856190bvLdCI','__importDefault','readZip','internalLogger','defineProperty','9QuQjqx','catch','22DcxAXp','764938yEpJsW','918155fRABcW','name','apply','sourceDir','3129656NUVoSk','convertToString','readFile','includes','2081680JqOWQN','map','MDApiWriter','all','6dYRagD','MAX_WRITES_PER_TICK','fileType','parentComponents','makeDir','InvalidXmlError','Xml','412093ojzuUj','../utils/xml','handleXmlParsingError','writeFile','default','toString','start','2031144cyflss','__esModule','6gCECyG','search','../../internal/fs.internal','../../../core','have\x20to\x20write\x20%d\x20files','fileName'];a98_0xaec4=function(){return _0x2649c8;};return a98_0xaec4();}