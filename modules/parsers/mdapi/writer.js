const a98_0x2dda48=a98_0x2c96;(function(_0x4702c0,_0x7dc558){const _0x586da0=a98_0x2c96,_0x458e44=_0x4702c0();while(!![]){try{const _0x512473=-parseInt(_0x586da0(0x182))/0x1*(parseInt(_0x586da0(0x186))/0x2)+-parseInt(_0x586da0(0x198))/0x3+-parseInt(_0x586da0(0x19f))/0x4+parseInt(_0x586da0(0x19a))/0x5*(parseInt(_0x586da0(0x17c))/0x6)+parseInt(_0x586da0(0x16e))/0x7+-parseInt(_0x586da0(0x17e))/0x8+parseInt(_0x586da0(0x178))/0x9*(parseInt(_0x586da0(0x194))/0xa);if(_0x512473===_0x7dc558)break;else _0x458e44['push'](_0x458e44['shift']());}catch(_0xb9b360){_0x458e44['push'](_0x458e44['shift']());}}}(a98_0x20dc,0x215e2));const a98_0x3618cd=(function(){let _0x1b369c=!![];return function(_0x16820a,_0x104e8b){const _0x4b3f47=_0x1b369c?function(){if(_0x104e8b){const _0x5dcfa8=_0x104e8b['apply'](_0x16820a,arguments);return _0x104e8b=null,_0x5dcfa8;}}:function(){};return _0x1b369c=![],_0x4b3f47;};}()),a98_0x124db1=a98_0x3618cd(this,function(){const _0x214ded=a98_0x2c96;return a98_0x124db1[_0x214ded(0x1a4)]()[_0x214ded(0x171)](_0x214ded(0x17a))[_0x214ded(0x1a4)]()[_0x214ded(0x16d)](a98_0x124db1)[_0x214ded(0x171)]('(((.+)+)+)+$');});a98_0x124db1();function a98_0x2c96(_0x593b92,_0x3ef79f){const _0x5961a5=a98_0x20dc();return a98_0x2c96=function(_0x124db1,_0x3618cd){_0x124db1=_0x124db1-0x168;let _0x20dc35=_0x5961a5[_0x124db1];return _0x20dc35;},a98_0x2c96(_0x593b92,_0x3ef79f);}'use strict';var __importDefault=this&&this[a98_0x2dda48(0x18d)]||function(_0x59fe60){return _0x59fe60&&_0x59fe60['__esModule']?_0x59fe60:{'default':_0x59fe60};};Object[a98_0x2dda48(0x183)](exports,a98_0x2dda48(0x18c),{'value':!![]}),exports[a98_0x2dda48(0x175)]=void 0x0;const path_1=__importDefault(require(a98_0x2dda48(0x1a0))),core_1=require(a98_0x2dda48(0x19e)),fs_internal_1=require(a98_0x2dda48(0x189)),invalid_xml_error_1=require(a98_0x2dda48(0x168)),xml_1=require('../utils/xml'),zip_1=require(a98_0x2dda48(0x173)),child_types_1=__importDefault(require(a98_0x2dda48(0x184)));function a98_0x20dc(){const _0xd1cb3d=['skipChildErrors','toString','internalLogger','../errors/invalid-xml.error','Xml','convertToString','all','components','constructor','1625624kOXBKF','map','push','search','Logger','../utils/zip','dir','MDApiWriter','MAX_WRITES_PER_TICK','default','522ZVYUgL','log','(((.+)+)+)+$','fileType','342xToHCy','parentComponents','1466576tTAZgw','nodebuffer','parse','readZip','4521JqXiWE','defineProperty','../data/child-types','text','18njfKfe','writeFile','body','../../internal/fs.internal','InvalidXmlError','keys','__esModule','__importDefault','sourceDir','name','writeParent','].\x20Original\x20error:\x20','fileName','catch','10710qXDmTj','join','readFile','makeDir','105042tjUnmt','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','11750JHePAB','Zip','files','includes','../../../core','130404MApplL','path','handleXmlParsingError','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'];a98_0x20dc=function(){return _0xd1cb3d;};return a98_0x20dc();}class MDApiWriter{constructor({components:_0x5619cc,sourceDir:_0x6c99a2,skipChildErrors:_0x31ad95}){const _0x332959=a98_0x2dda48;this[_0x332959(0x176)]=0x64,this[_0x332959(0x17d)]={},this['internalLogger']=new core_1[(_0x332959(0x172))](MDApiWriter[_0x332959(0x18f)]),this[_0x332959(0x16c)]=_0x5619cc,this[_0x332959(0x18e)]=_0x6c99a2,this['skipChildErrors']=_0x31ad95;}async[a98_0x2dda48(0x181)](_0x2e3cce,_0x35722e=![]){const _0x2b76ce=a98_0x2dda48,_0x5745e6=await zip_1[_0x2b76ce(0x19b)]['unzip'](_0x2e3cce),_0x4f1a66=[];for(const _0x595414 of Object[_0x2b76ce(0x18b)](_0x5745e6[_0x2b76ce(0x19c)])){!_0x5745e6['files'][_0x595414][_0x2b76ce(0x174)]&&_0x4f1a66[_0x2b76ce(0x170)]({'filename':_0x595414,'body':await _0x5745e6[_0x2b76ce(0x19c)][_0x595414]['async'](_0x35722e?_0x2b76ce(0x17f):_0x2b76ce(0x185))});}return _0x4f1a66;}async[a98_0x2dda48(0x190)](_0x31f723){const _0xb63887=a98_0x2dda48;try{const _0x29e0d5=await this[_0xb63887(0x181)](_0x31f723[_0xb63887(0x188)],!![]);await Promise[_0xb63887(0x16b)](_0x29e0d5[_0xb63887(0x16f)](({filename:_0x11024,body:_0x361910})=>fs_internal_1['FS'][_0xb63887(0x187)](path_1[_0xb63887(0x177)][_0xb63887(0x195)](this[_0xb63887(0x18e)],_0x11024),_0x361910)));}catch(_0x2fc9a4){throw new Error(_0xb63887(0x1a2)+_0x31f723[_0xb63887(0x192)]+'\x20['+_0x31f723[_0xb63887(0x17b)]+'].\x20Original\x20error:\x20'+_0x2fc9a4);}}[a98_0x2dda48(0x1a1)](_0x1f740e,_0x4fe073){const _0x2b54cf=a98_0x2dda48;throw new invalid_xml_error_1[(_0x2b54cf(0x18a))](_0x2b54cf(0x199)+_0x4fe073[_0x2b54cf(0x192)]+'\x20['+_0x4fe073[_0x2b54cf(0x17b)]+_0x2b54cf(0x191)+_0x1f740e);}async['writeChild'](_0x52997b){const _0x4348cf=a98_0x2dda48,{filename:_0xb1b332,body:_0x366397}=(await this[_0x4348cf(0x181)](_0x52997b['body']))[0x0];try{if(!this[_0x4348cf(0x17d)][_0xb1b332]){const _0x47cf66=path_1[_0x4348cf(0x177)][_0x4348cf(0x195)](this[_0x4348cf(0x18e)],_0xb1b332);if(await fs_internal_1['FS']['exists'](_0x47cf66)){const _0x40ca65=await fs_internal_1['FS'][_0x4348cf(0x196)](_0x47cf66);this[_0x4348cf(0x17d)][_0xb1b332]=await xml_1[_0x4348cf(0x169)][_0x4348cf(0x180)](_0x40ca65)[_0x4348cf(0x193)](_0x5881ba=>this['handleXmlParsingError'](_0x5881ba,_0x52997b));}else{this[_0x4348cf(0x17d)][_0xb1b332]=await xml_1[_0x4348cf(0x169)][_0x4348cf(0x180)](_0x366397)[_0x4348cf(0x193)](_0x288ca2=>this[_0x4348cf(0x1a1)](_0x288ca2,_0x52997b));return;}}const _0x7bc078=this['parentComponents'][_0xb1b332],_0x4128df=await xml_1[_0x4348cf(0x169)][_0x4348cf(0x180)](_0x366397)[_0x4348cf(0x193)](_0x492ac5=>this[_0x4348cf(0x1a1)](_0x492ac5,_0x52997b));xml_1[_0x4348cf(0x169)]['replaceOrAppend'](_0x7bc078,_0x4128df);}catch(_0x317401){if(_0x317401 instanceof invalid_xml_error_1[_0x4348cf(0x18a)]){if(this[_0x4348cf(0x1a3)])return;else throw _0x317401;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x52997b[_0x4348cf(0x192)]+'\x20['+_0x52997b[_0x4348cf(0x17b)]+_0x4348cf(0x191)+_0x317401);}}async['start'](){const _0x54b29a=a98_0x2dda48;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x54b29a(0x197)](this['sourceDir']);for(const _0x444655 of this[_0x54b29a(0x16c)]){!child_types_1[_0x54b29a(0x177)][_0x54b29a(0x19d)](_0x444655['fileType'])?await this[_0x54b29a(0x190)](_0x444655):await this['writeChild'](_0x444655);}const _0x2e598a=Object[_0x54b29a(0x18b)](this[_0x54b29a(0x17d)]);this[_0x54b29a(0x1a5)][_0x54b29a(0x179)]('have\x20to\x20write\x20%d\x20files',this['components']['length']);while(_0x2e598a['length']){const _0xca9192=_0x2e598a['splice'](0x0,this[_0x54b29a(0x176)]);for(const _0x29e501 of _0xca9192){await fs_internal_1['FS']['writeFile'](path_1[_0x54b29a(0x177)][_0x54b29a(0x195)](this['sourceDir'],_0x29e501),xml_1[_0x54b29a(0x169)][_0x54b29a(0x16a)](this[_0x54b29a(0x17d)][_0x29e501]));}}this[_0x54b29a(0x17d)]={};}}exports[a98_0x2dda48(0x175)]=MDApiWriter;