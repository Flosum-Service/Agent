const a97_0x2bbe2d=a97_0x294e;(function(_0x4ce792,_0x551322){const _0x127963=a97_0x294e,_0x4e6337=_0x4ce792();while(!![]){try{const _0x2c5bea=-parseInt(_0x127963(0xa5))/0x1+parseInt(_0x127963(0xa4))/0x2+parseInt(_0x127963(0x9f))/0x3+-parseInt(_0x127963(0x9e))/0x4*(parseInt(_0x127963(0xa7))/0x5)+-parseInt(_0x127963(0x7b))/0x6+-parseInt(_0x127963(0xa8))/0x7+parseInt(_0x127963(0x74))/0x8;if(_0x2c5bea===_0x551322)break;else _0x4e6337['push'](_0x4e6337['shift']());}catch(_0x2f145a){_0x4e6337['push'](_0x4e6337['shift']());}}}(a97_0x12b6,0xda8e5));function a97_0x294e(_0xdbf6f9,_0xcc5be){const _0x13f188=a97_0x12b6();return a97_0x294e=function(_0x38e7b4,_0x2391d4){_0x38e7b4=_0x38e7b4-0x6b;let _0x12b667=_0x13f188[_0x38e7b4];return _0x12b667;},a97_0x294e(_0xdbf6f9,_0xcc5be);}const a97_0x2391d4=(function(){let _0x34eb63=!![];return function(_0x48757a,_0x1a80ec){const _0x1403a4=_0x34eb63?function(){const _0x4bc9e7=a97_0x294e;if(_0x1a80ec){const _0xbf5dd0=_0x1a80ec[_0x4bc9e7(0x99)](_0x48757a,arguments);return _0x1a80ec=null,_0xbf5dd0;}}:function(){};return _0x34eb63=![],_0x1403a4;};}()),a97_0x38e7b4=a97_0x2391d4(this,function(){const _0x11573b=a97_0x294e;return a97_0x38e7b4[_0x11573b(0xa9)]()['search']('(((.+)+)+)+$')[_0x11573b(0xa9)]()[_0x11573b(0x94)](a97_0x38e7b4)[_0x11573b(0x6c)](_0x11573b(0x75));});a97_0x38e7b4();'use strict';var __importDefault=this&&this[a97_0x2bbe2d(0x8b)]||function(_0x3a2a62){const _0x38fe8a=a97_0x2bbe2d;return _0x3a2a62&&_0x3a2a62[_0x38fe8a(0x6e)]?_0x3a2a62:{'default':_0x3a2a62};};Object[a97_0x2bbe2d(0x96)](exports,a97_0x2bbe2d(0x6e),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a97_0x2bbe2d(0xab))),core_1=require(a97_0x2bbe2d(0xa0)),fs_internal_1=require(a97_0x2bbe2d(0x95)),invalid_xml_error_1=require(a97_0x2bbe2d(0x93)),xml_1=require(a97_0x2bbe2d(0x87)),zip_1=require(a97_0x2bbe2d(0x83)),child_types_1=__importDefault(require(a97_0x2bbe2d(0x98)));function a97_0x12b6(){const _0x551b5a=['../utils/xml','MAX_WRITES_PER_TICK','length','log','__importDefault','readZip','catch','makeDir','Logger','parse','all','start','../errors/invalid-xml.error','constructor','../../internal/fs.internal','defineProperty','fileType','../data/child-types','apply','nodebuffer','readFile','].\x20Original\x20error:\x20','exists','1108aQysIG','1381599rljEcl','../../../core','default','writeFile','join','177188GPFVEQ','1496056bnwpyn','sourceDir','26455nFzlNv','7041951odErpQ','toString','push','path','keys','search','InvalidXmlError','__esModule','components','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','files','map','dir','45469368lbdnRt','(((.+)+)+)+$','unzip','Xml','MDApiWriter','body','writeParent','8219622YkyZoy','internalLogger','parentComponents','splice','handleXmlParsingError','name','fileName','includes','../utils/zip','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','writeChild','convertToString'];a97_0x12b6=function(){return _0x551b5a;};return a97_0x12b6();}class MDApiWriter{constructor({components:_0x5412f3,sourceDir:_0x493e3b,skipChildErrors:_0x4635a2}){const _0x16f0b6=a97_0x2bbe2d;this[_0x16f0b6(0x88)]=0x64,this[_0x16f0b6(0x7d)]={},this['internalLogger']=new core_1[(_0x16f0b6(0x8f))](MDApiWriter[_0x16f0b6(0x80)]),this['components']=_0x5412f3,this[_0x16f0b6(0xa6)]=_0x493e3b,this['skipChildErrors']=_0x4635a2;}async[a97_0x2bbe2d(0x8c)](_0x5389d7,_0x2e985e=![]){const _0x2c9441=a97_0x2bbe2d,_0x185215=await zip_1['Zip'][_0x2c9441(0x76)](_0x5389d7),_0x5c0bc2=[];for(const _0x1891df of Object[_0x2c9441(0x6b)](_0x185215[_0x2c9441(0x71)])){!_0x185215[_0x2c9441(0x71)][_0x1891df][_0x2c9441(0x73)]&&_0x5c0bc2[_0x2c9441(0xaa)]({'filename':_0x1891df,'body':await _0x185215[_0x2c9441(0x71)][_0x1891df]['async'](_0x2e985e?_0x2c9441(0x9a):'text')});}return _0x5c0bc2;}async['writeParent'](_0x46d5c4){const _0x6c771f=a97_0x2bbe2d;try{const _0x545a3d=await this[_0x6c771f(0x8c)](_0x46d5c4['body'],!![]);await Promise[_0x6c771f(0x91)](_0x545a3d[_0x6c771f(0x72)](({filename:_0x59742c,body:_0x7bff87})=>fs_internal_1['FS'][_0x6c771f(0xa2)](path_1[_0x6c771f(0xa1)][_0x6c771f(0xa3)](this[_0x6c771f(0xa6)],_0x59742c),_0x7bff87)));}catch(_0x46755c){throw new Error(_0x6c771f(0x70)+_0x46d5c4[_0x6c771f(0x81)]+'\x20['+_0x46d5c4[_0x6c771f(0x97)]+'].\x20Original\x20error:\x20'+_0x46755c);}}[a97_0x2bbe2d(0x7f)](_0xff92ac,_0x3a5050){const _0x163d7b=a97_0x2bbe2d;throw new invalid_xml_error_1[(_0x163d7b(0x6d))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x3a5050[_0x163d7b(0x81)]+'\x20['+_0x3a5050[_0x163d7b(0x97)]+_0x163d7b(0x9c)+_0xff92ac);}async[a97_0x2bbe2d(0x85)](_0x5c8699){const _0x22b38e=a97_0x2bbe2d,{filename:_0x4ba915,body:_0x19c263}=(await this[_0x22b38e(0x8c)](_0x5c8699[_0x22b38e(0x79)]))[0x0];try{if(!this[_0x22b38e(0x7d)][_0x4ba915]){const _0x534705=path_1[_0x22b38e(0xa1)]['join'](this[_0x22b38e(0xa6)],_0x4ba915);if(await fs_internal_1['FS'][_0x22b38e(0x9d)](_0x534705)){const _0x144a22=await fs_internal_1['FS'][_0x22b38e(0x9b)](_0x534705);this[_0x22b38e(0x7d)][_0x4ba915]=await xml_1[_0x22b38e(0x77)][_0x22b38e(0x90)](_0x144a22)[_0x22b38e(0x8d)](_0x4d26c6=>this[_0x22b38e(0x7f)](_0x4d26c6,_0x5c8699));}else{this['parentComponents'][_0x4ba915]=await xml_1[_0x22b38e(0x77)][_0x22b38e(0x90)](_0x19c263)[_0x22b38e(0x8d)](_0x33c78a=>this['handleXmlParsingError'](_0x33c78a,_0x5c8699));return;}}const _0x2be988=this[_0x22b38e(0x7d)][_0x4ba915],_0x42ed1c=await xml_1[_0x22b38e(0x77)]['parse'](_0x19c263)[_0x22b38e(0x8d)](_0x4c6b86=>this[_0x22b38e(0x7f)](_0x4c6b86,_0x5c8699));xml_1[_0x22b38e(0x77)]['replaceOrAppend'](_0x2be988,_0x42ed1c);}catch(_0x5d0ced){if(_0x5d0ced instanceof invalid_xml_error_1[_0x22b38e(0x6d)]){if(this['skipChildErrors'])return;else throw _0x5d0ced;}throw new Error(_0x22b38e(0x84)+_0x5c8699[_0x22b38e(0x81)]+'\x20['+_0x5c8699[_0x22b38e(0x97)]+'].\x20Original\x20error:\x20'+_0x5d0ced);}}async[a97_0x2bbe2d(0x92)](){const _0x30a0a5=a97_0x2bbe2d;!await fs_internal_1['FS'][_0x30a0a5(0x9d)](this[_0x30a0a5(0xa6)])&&await fs_internal_1['FS'][_0x30a0a5(0x8e)](this[_0x30a0a5(0xa6)]);for(const _0x3f597f of this[_0x30a0a5(0x6f)]){!child_types_1['default'][_0x30a0a5(0x82)](_0x3f597f[_0x30a0a5(0x97)])?await this[_0x30a0a5(0x7a)](_0x3f597f):await this[_0x30a0a5(0x85)](_0x3f597f);}const _0x3b94ef=Object[_0x30a0a5(0x6b)](this['parentComponents']);this[_0x30a0a5(0x7c)][_0x30a0a5(0x8a)]('have\x20to\x20write\x20%d\x20files',this[_0x30a0a5(0x6f)][_0x30a0a5(0x89)]);while(_0x3b94ef['length']){const _0x3b3fbf=_0x3b94ef[_0x30a0a5(0x7e)](0x0,this[_0x30a0a5(0x88)]);for(const _0x515660 of _0x3b3fbf){await fs_internal_1['FS']['writeFile'](path_1[_0x30a0a5(0xa1)]['join'](this[_0x30a0a5(0xa6)],_0x515660),xml_1[_0x30a0a5(0x77)][_0x30a0a5(0x86)](this['parentComponents'][_0x515660]));}}this[_0x30a0a5(0x7d)]={};}}exports[a97_0x2bbe2d(0x78)]=MDApiWriter;