const a98_0x508a55=a98_0x5cc6;(function(_0x4dc82c,_0x499eb3){const _0x588766=a98_0x5cc6,_0x1cc90e=_0x4dc82c();while(!![]){try{const _0x28571b=-parseInt(_0x588766(0x1db))/0x1+parseInt(_0x588766(0x1dc))/0x2+-parseInt(_0x588766(0x1ec))/0x3+-parseInt(_0x588766(0x1d5))/0x4+-parseInt(_0x588766(0x1e3))/0x5*(parseInt(_0x588766(0x1c3))/0x6)+parseInt(_0x588766(0x1e8))/0x7+-parseInt(_0x588766(0x1c8))/0x8*(-parseInt(_0x588766(0x1d4))/0x9);if(_0x28571b===_0x499eb3)break;else _0x1cc90e['push'](_0x1cc90e['shift']());}catch(_0x43174d){_0x1cc90e['push'](_0x1cc90e['shift']());}}}(a98_0x3608,0x5aea9));const a98_0x3c3022=(function(){let _0x4bedea=!![];return function(_0x34d6d7,_0x40fe91){const _0x52aee0=_0x4bedea?function(){if(_0x40fe91){const _0x34c893=_0x40fe91['apply'](_0x34d6d7,arguments);return _0x40fe91=null,_0x34c893;}}:function(){};return _0x4bedea=![],_0x52aee0;};}()),a98_0x3e3ca3=a98_0x3c3022(this,function(){const _0x2238d2=a98_0x5cc6;return a98_0x3e3ca3[_0x2238d2(0x1c4)]()[_0x2238d2(0x1d1)](_0x2238d2(0x1e0))['toString']()[_0x2238d2(0x1c9)](a98_0x3e3ca3)[_0x2238d2(0x1d1)](_0x2238d2(0x1e0));});a98_0x3e3ca3();'use strict';var __importDefault=this&&this[a98_0x508a55(0x1d7)]||function(_0x404b09){const _0x176336=a98_0x508a55;return _0x404b09&&_0x404b09[_0x176336(0x1c0)]?_0x404b09:{'default':_0x404b09};};Object[a98_0x508a55(0x1b3)](exports,a98_0x508a55(0x1c0),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a98_0x508a55(0x1b5)),fs_internal_1=require(a98_0x508a55(0x1cc)),invalid_xml_error_1=require(a98_0x508a55(0x1b7)),xml_1=require(a98_0x508a55(0x1be)),zip_1=require(a98_0x508a55(0x1af)),child_types_1=__importDefault(require(a98_0x508a55(0x1cb)));function a98_0x3608(){const _0x25006c=['582CogoWo','toString','writeChild','InvalidXmlError','includes','5636408sVrkcH','constructor','files','../data/child-types','../../internal/fs.internal','splice','exists','readZip','Zip','search','Xml','default','9HvqDVx','523612xvhNcA','all','__importDefault','log','text','dir','102207LadFhI','893898ZfwoWC','MDApiWriter','writeFile','map','(((.+)+)+)+$','join','convertToString','14190GLtPSn','handleXmlParsingError','unzip','writeParent','start','542080hJfilu','fileType','parse','parentComponents','1044453pJspSl','nodebuffer','../utils/zip','length','catch','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','defineProperty','fileName','../../../core','].\x20Original\x20error:\x20','../errors/invalid-xml.error','components','keys','skipChildErrors','MAX_WRITES_PER_TICK','sourceDir','body','../utils/xml','have\x20to\x20write\x20%d\x20files','__esModule','makeDir','internalLogger'];a98_0x3608=function(){return _0x25006c;};return a98_0x3608();}function a98_0x5cc6(_0x2beae3,_0x57626a){const _0x1dbeee=a98_0x3608();return a98_0x5cc6=function(_0x3e3ca3,_0x3c3022){_0x3e3ca3=_0x3e3ca3-0x1ae;let _0x360840=_0x1dbeee[_0x3e3ca3];return _0x360840;},a98_0x5cc6(_0x2beae3,_0x57626a);}class MDApiWriter{constructor({components:_0x352712,sourceDir:_0x4cd146,skipChildErrors:_0x46fcf3}){const _0x3d39ac=a98_0x508a55;this[_0x3d39ac(0x1bb)]=0x64,this[_0x3d39ac(0x1eb)]={},this[_0x3d39ac(0x1c2)]=new core_1['Logger'](MDApiWriter['name']),this['components']=_0x352712,this[_0x3d39ac(0x1bc)]=_0x4cd146,this[_0x3d39ac(0x1ba)]=_0x46fcf3;}async[a98_0x508a55(0x1cf)](_0x52512a,_0x3c110b=![]){const _0x37ef35=a98_0x508a55,_0x52b0e7=await zip_1[_0x37ef35(0x1d0)][_0x37ef35(0x1e5)](_0x52512a),_0x1338cf=[];for(const _0x314106 of Object[_0x37ef35(0x1b9)](_0x52b0e7[_0x37ef35(0x1ca)])){!_0x52b0e7[_0x37ef35(0x1ca)][_0x314106][_0x37ef35(0x1da)]&&_0x1338cf['push']({'filename':_0x314106,'body':await _0x52b0e7['files'][_0x314106]['async'](_0x3c110b?_0x37ef35(0x1ae):_0x37ef35(0x1d9))});}return _0x1338cf;}async[a98_0x508a55(0x1e6)](_0x415605){const _0x3c4690=a98_0x508a55;try{const _0xde3dbb=await this[_0x3c4690(0x1cf)](_0x415605[_0x3c4690(0x1bd)],!![]);await Promise[_0x3c4690(0x1d6)](_0xde3dbb[_0x3c4690(0x1df)](({filename:_0xd454d1,body:_0x29bfad})=>fs_internal_1['FS'][_0x3c4690(0x1de)](path_1[_0x3c4690(0x1d3)][_0x3c4690(0x1e1)](this[_0x3c4690(0x1bc)],_0xd454d1),_0x29bfad)));}catch(_0x540017){throw new Error('[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'+_0x415605['fileName']+'\x20['+_0x415605[_0x3c4690(0x1e9)]+'].\x20Original\x20error:\x20'+_0x540017);}}['handleXmlParsingError'](_0x79ae1a,_0x53122f){const _0x247921=a98_0x508a55;throw new invalid_xml_error_1['InvalidXmlError'](_0x247921(0x1b2)+_0x53122f[_0x247921(0x1b4)]+'\x20['+_0x53122f[_0x247921(0x1e9)]+_0x247921(0x1b6)+_0x79ae1a);}async[a98_0x508a55(0x1c5)](_0x41b61b){const _0x15c1a2=a98_0x508a55,{filename:_0x29de8f,body:_0x233478}=(await this[_0x15c1a2(0x1cf)](_0x41b61b[_0x15c1a2(0x1bd)]))[0x0];try{if(!this[_0x15c1a2(0x1eb)][_0x29de8f]){const _0x4bccf4=path_1[_0x15c1a2(0x1d3)]['join'](this[_0x15c1a2(0x1bc)],_0x29de8f);if(await fs_internal_1['FS']['exists'](_0x4bccf4)){const _0x47cb6f=await fs_internal_1['FS']['readFile'](_0x4bccf4);this[_0x15c1a2(0x1eb)][_0x29de8f]=await xml_1['Xml']['parse'](_0x47cb6f)[_0x15c1a2(0x1b1)](_0x12227c=>this['handleXmlParsingError'](_0x12227c,_0x41b61b));}else{this['parentComponents'][_0x29de8f]=await xml_1[_0x15c1a2(0x1d2)]['parse'](_0x233478)['catch'](_0x17dfbf=>this[_0x15c1a2(0x1e4)](_0x17dfbf,_0x41b61b));return;}}const _0x26a954=this[_0x15c1a2(0x1eb)][_0x29de8f],_0x300097=await xml_1[_0x15c1a2(0x1d2)][_0x15c1a2(0x1ea)](_0x233478)[_0x15c1a2(0x1b1)](_0x2715c0=>this[_0x15c1a2(0x1e4)](_0x2715c0,_0x41b61b));xml_1[_0x15c1a2(0x1d2)]['replaceOrAppend'](_0x26a954,_0x300097);}catch(_0x16c39a){if(_0x16c39a instanceof invalid_xml_error_1[_0x15c1a2(0x1c6)]){if(this[_0x15c1a2(0x1ba)])return;else throw _0x16c39a;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x41b61b['fileName']+'\x20['+_0x41b61b[_0x15c1a2(0x1e9)]+_0x15c1a2(0x1b6)+_0x16c39a);}}async[a98_0x508a55(0x1e7)](){const _0x4a998d=a98_0x508a55;!await fs_internal_1['FS'][_0x4a998d(0x1ce)](this[_0x4a998d(0x1bc)])&&await fs_internal_1['FS'][_0x4a998d(0x1c1)](this['sourceDir']);for(const _0x57a35b of this['components']){!child_types_1[_0x4a998d(0x1d3)][_0x4a998d(0x1c7)](_0x57a35b['fileType'])?await this[_0x4a998d(0x1e6)](_0x57a35b):await this[_0x4a998d(0x1c5)](_0x57a35b);}const _0x19708f=Object[_0x4a998d(0x1b9)](this[_0x4a998d(0x1eb)]);this[_0x4a998d(0x1c2)][_0x4a998d(0x1d8)](_0x4a998d(0x1bf),this[_0x4a998d(0x1b8)]['length']);while(_0x19708f[_0x4a998d(0x1b0)]){const _0x46009e=_0x19708f[_0x4a998d(0x1cd)](0x0,this[_0x4a998d(0x1bb)]);for(const _0x454026 of _0x46009e){await fs_internal_1['FS'][_0x4a998d(0x1de)](path_1[_0x4a998d(0x1d3)][_0x4a998d(0x1e1)](this[_0x4a998d(0x1bc)],_0x454026),xml_1[_0x4a998d(0x1d2)][_0x4a998d(0x1e2)](this[_0x4a998d(0x1eb)][_0x454026]));}}this[_0x4a998d(0x1eb)]={};}}exports[a98_0x508a55(0x1dd)]=MDApiWriter;