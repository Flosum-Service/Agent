const a97_0x4c80c2=a97_0x595d;(function(_0x120efb,_0x41352f){const _0x1e53f0=a97_0x595d,_0x4bef1e=_0x120efb();while(!![]){try{const _0xcbdee7=parseInt(_0x1e53f0(0xa8))/0x1+parseInt(_0x1e53f0(0x8f))/0x2*(parseInt(_0x1e53f0(0x9d))/0x3)+parseInt(_0x1e53f0(0xa5))/0x4*(parseInt(_0x1e53f0(0xa4))/0x5)+-parseInt(_0x1e53f0(0x94))/0x6*(parseInt(_0x1e53f0(0xa9))/0x7)+parseInt(_0x1e53f0(0x89))/0x8+parseInt(_0x1e53f0(0xad))/0x9+-parseInt(_0x1e53f0(0xc0))/0xa;if(_0xcbdee7===_0x41352f)break;else _0x4bef1e['push'](_0x4bef1e['shift']());}catch(_0x44311a){_0x4bef1e['push'](_0x4bef1e['shift']());}}}(a97_0x135c,0x7434a));const a97_0x1190bf=(function(){let _0xb1f2f1=!![];return function(_0xbc1d30,_0x56f16b){const _0x1fe932=_0xb1f2f1?function(){const _0x4aac9a=a97_0x595d;if(_0x56f16b){const _0x3e72cb=_0x56f16b[_0x4aac9a(0xba)](_0xbc1d30,arguments);return _0x56f16b=null,_0x3e72cb;}}:function(){};return _0xb1f2f1=![],_0x1fe932;};}()),a97_0x4ace1e=a97_0x1190bf(this,function(){const _0x4e0a99=a97_0x595d;return a97_0x4ace1e[_0x4e0a99(0xb2)]()[_0x4e0a99(0xbf)]('(((.+)+)+)+$')[_0x4e0a99(0xb2)]()[_0x4e0a99(0xbb)](a97_0x4ace1e)['search'](_0x4e0a99(0xbc));});a97_0x4ace1e();'use strict';function a97_0x595d(_0x2881af,_0x4eb776){const _0x1cf7e5=a97_0x135c();return a97_0x595d=function(_0x4ace1e,_0x1190bf){_0x4ace1e=_0x4ace1e-0x88;let _0x135c17=_0x1cf7e5[_0x4ace1e];return _0x135c17;},a97_0x595d(_0x2881af,_0x4eb776);}var __importDefault=this&&this[a97_0x4c80c2(0x8b)]||function(_0x4c0b9f){const _0x4edcbc=a97_0x4c80c2;return _0x4c0b9f&&_0x4c0b9f[_0x4edcbc(0x9b)]?_0x4c0b9f:{'default':_0x4c0b9f};};Object[a97_0x4c80c2(0xb8)](exports,'__esModule',{'value':!![]}),exports[a97_0x4c80c2(0xa3)]=void 0x0;const path_1=__importDefault(require(a97_0x4c80c2(0xb7))),core_1=require('../../../core'),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a97_0x4c80c2(0xbe)),xml_1=require('../utils/xml'),zip_1=require(a97_0x4c80c2(0x96)),child_types_1=__importDefault(require(a97_0x4c80c2(0x88)));class MDApiWriter{constructor({components:_0x54db8f,sourceDir:_0x35da20,skipChildErrors:_0x1f8198}){const _0x167a08=a97_0x4c80c2;this[_0x167a08(0x95)]=0x64,this[_0x167a08(0x8c)]={},this[_0x167a08(0xa1)]=new core_1['Logger'](MDApiWriter[_0x167a08(0xbd)]),this[_0x167a08(0x92)]=_0x54db8f,this[_0x167a08(0xb9)]=_0x35da20,this[_0x167a08(0x9c)]=_0x1f8198;}async[a97_0x4c80c2(0xab)](_0x4532c0,_0x2015e4=![]){const _0x48adc4=a97_0x4c80c2,_0x433602=await zip_1['Zip'][_0x48adc4(0xae)](_0x4532c0),_0x40c882=[];for(const _0x2b6713 of Object[_0x48adc4(0x97)](_0x433602[_0x48adc4(0xb3)])){!_0x433602[_0x48adc4(0xb3)][_0x2b6713]['dir']&&_0x40c882['push']({'filename':_0x2b6713,'body':await _0x433602[_0x48adc4(0xb3)][_0x2b6713][_0x48adc4(0x99)](_0x2015e4?_0x48adc4(0xac):'text')});}return _0x40c882;}async['writeParent'](_0x263282){const _0x39fcba=a97_0x4c80c2;try{const _0x270271=await this[_0x39fcba(0xab)](_0x263282[_0x39fcba(0x8e)],!![]);await Promise[_0x39fcba(0x91)](_0x270271[_0x39fcba(0xaf)](({filename:_0x501da7,body:_0x3c18c3})=>fs_internal_1['FS']['writeFile'](path_1[_0x39fcba(0xb1)][_0x39fcba(0x90)](this['sourceDir'],_0x501da7),_0x3c18c3)));}catch(_0x1d1943){throw new Error('[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'+_0x263282[_0x39fcba(0xc1)]+'\x20['+_0x263282[_0x39fcba(0xb6)]+_0x39fcba(0xa7)+_0x1d1943);}}[a97_0x4c80c2(0x8d)](_0x2c4991,_0x5ad839){const _0x38c100=a97_0x4c80c2;throw new invalid_xml_error_1[(_0x38c100(0xb0))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x5ad839[_0x38c100(0xc1)]+'\x20['+_0x5ad839[_0x38c100(0xb6)]+_0x38c100(0xa7)+_0x2c4991);}async[a97_0x4c80c2(0x93)](_0x4ab5ac){const _0x498de8=a97_0x4c80c2,{filename:_0x522aeb,body:_0x486a53}=(await this[_0x498de8(0xab)](_0x4ab5ac[_0x498de8(0x8e)]))[0x0];try{if(!this[_0x498de8(0x8c)][_0x522aeb]){const _0x185c0c=path_1[_0x498de8(0xb1)][_0x498de8(0x90)](this[_0x498de8(0xb9)],_0x522aeb);if(await fs_internal_1['FS']['exists'](_0x185c0c)){const _0x12c5bd=await fs_internal_1['FS']['readFile'](_0x185c0c);this['parentComponents'][_0x522aeb]=await xml_1[_0x498de8(0x9e)][_0x498de8(0xa2)](_0x12c5bd)[_0x498de8(0x8a)](_0x1a0644=>this[_0x498de8(0x8d)](_0x1a0644,_0x4ab5ac));}else{this[_0x498de8(0x8c)][_0x522aeb]=await xml_1[_0x498de8(0x9e)][_0x498de8(0xa2)](_0x486a53)['catch'](_0x5c9eff=>this[_0x498de8(0x8d)](_0x5c9eff,_0x4ab5ac));return;}}const _0x3833e6=this['parentComponents'][_0x522aeb],_0x1ad891=await xml_1[_0x498de8(0x9e)][_0x498de8(0xa2)](_0x486a53)[_0x498de8(0x8a)](_0x398903=>this[_0x498de8(0x8d)](_0x398903,_0x4ab5ac));xml_1[_0x498de8(0x9e)][_0x498de8(0xa0)](_0x3833e6,_0x1ad891);}catch(_0x209591){if(_0x209591 instanceof invalid_xml_error_1[_0x498de8(0xb0)]){if(this['skipChildErrors'])return;else throw _0x209591;}throw new Error(_0x498de8(0xb5)+_0x4ab5ac[_0x498de8(0xc1)]+'\x20['+_0x4ab5ac[_0x498de8(0xb6)]+_0x498de8(0xa7)+_0x209591);}}async[a97_0x4c80c2(0xb4)](){const _0x4abddf=a97_0x4c80c2;!await fs_internal_1['FS'][_0x4abddf(0x9f)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x4abddf(0xb9)]);for(const _0x2ea177 of this['components']){!child_types_1[_0x4abddf(0xb1)]['includes'](_0x2ea177[_0x4abddf(0xb6)])?await this[_0x4abddf(0x98)](_0x2ea177):await this[_0x4abddf(0x93)](_0x2ea177);}const _0x1dc721=Object['keys'](this[_0x4abddf(0x8c)]);this[_0x4abddf(0xa1)]['log']('have\x20to\x20write\x20%d\x20files',this['components'][_0x4abddf(0x9a)]);while(_0x1dc721['length']){const _0x2efb84=_0x1dc721[_0x4abddf(0xaa)](0x0,this[_0x4abddf(0x95)]);for(const _0xbb1183 of _0x2efb84){await fs_internal_1['FS'][_0x4abddf(0xa6)](path_1[_0x4abddf(0xb1)][_0x4abddf(0x90)](this['sourceDir'],_0xbb1183),xml_1[_0x4abddf(0x9e)]['convertToString'](this[_0x4abddf(0x8c)][_0xbb1183]));}}this[_0x4abddf(0x8c)]={};}}exports[a97_0x4c80c2(0xa3)]=MDApiWriter;function a97_0x135c(){const _0x433910=['].\x20Original\x20error:\x20','665584Ghwozy','92134pUEDsp','splice','readZip','nodebuffer','4359231snPNzX','unzip','map','InvalidXmlError','default','toString','files','start','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','fileType','path','defineProperty','sourceDir','apply','constructor','(((.+)+)+)+$','name','../errors/invalid-xml.error','search','18889570xRjrGk','fileName','../data/child-types','3717608DStbvI','catch','__importDefault','parentComponents','handleXmlParsingError','body','1078fhfBeP','join','all','components','writeChild','90zYXGQl','MAX_WRITES_PER_TICK','../utils/zip','keys','writeParent','async','length','__esModule','skipChildErrors','2817BiEGhn','Xml','exists','replaceOrAppend','internalLogger','parse','MDApiWriter','2400rguMBX','3680vjDhHe','writeFile'];a97_0x135c=function(){return _0x433910;};return a97_0x135c();}