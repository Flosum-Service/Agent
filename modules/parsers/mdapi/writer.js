const a98_0x30bef0=a98_0x2dcf;(function(_0x4c36cb,_0x8cf9f4){const _0x42f2d6=a98_0x2dcf,_0x17cea7=_0x4c36cb();while(!![]){try{const _0x44cae4=parseInt(_0x42f2d6(0x1d0))/0x1*(parseInt(_0x42f2d6(0x1f0))/0x2)+-parseInt(_0x42f2d6(0x1cb))/0x3*(-parseInt(_0x42f2d6(0x1c4))/0x4)+-parseInt(_0x42f2d6(0x1c3))/0x5+parseInt(_0x42f2d6(0x1ee))/0x6+parseInt(_0x42f2d6(0x1e7))/0x7*(parseInt(_0x42f2d6(0x1d8))/0x8)+parseInt(_0x42f2d6(0x1b7))/0x9+-parseInt(_0x42f2d6(0x1f3))/0xa;if(_0x44cae4===_0x8cf9f4)break;else _0x17cea7['push'](_0x17cea7['shift']());}catch(_0x43fb8f){_0x17cea7['push'](_0x17cea7['shift']());}}}(a98_0x1add,0xd2229));const a98_0x23d561=(function(){let _0x1e3dc4=!![];return function(_0x2c7c3d,_0x44819c){const _0x17e39f=_0x1e3dc4?function(){const _0x47fe61=a98_0x2dcf;if(_0x44819c){const _0x30374c=_0x44819c[_0x47fe61(0x1d2)](_0x2c7c3d,arguments);return _0x44819c=null,_0x30374c;}}:function(){};return _0x1e3dc4=![],_0x17e39f;};}()),a98_0x392fd1=a98_0x23d561(this,function(){const _0x4140d2=a98_0x2dcf;return a98_0x392fd1['toString']()['search'](_0x4140d2(0x1be))[_0x4140d2(0x1c5)]()['constructor'](a98_0x392fd1)[_0x4140d2(0x1e1)](_0x4140d2(0x1be));});a98_0x392fd1();function a98_0x2dcf(_0x5e505d,_0x1827bd){const _0x2423a0=a98_0x1add();return a98_0x2dcf=function(_0x392fd1,_0x23d561){_0x392fd1=_0x392fd1-0x1b5;let _0x1add12=_0x2423a0[_0x392fd1];return _0x1add12;},a98_0x2dcf(_0x5e505d,_0x1827bd);}'use strict';var __importDefault=this&&this[a98_0x30bef0(0x1ce)]||function(_0x1ccaaa){const _0x552e38=a98_0x30bef0;return _0x1ccaaa&&_0x1ccaaa[_0x552e38(0x1dd)]?_0x1ccaaa:{'default':_0x1ccaaa};};Object[a98_0x30bef0(0x1d1)](exports,a98_0x30bef0(0x1dd),{'value':!![]}),exports[a98_0x30bef0(0x1ba)]=void 0x0;function a98_0x1add(){const _0x1d88fb=['catch','__esModule','replaceOrAppend','../../../core','map','search','].\x20Original\x20error:\x20','readZip','exists','name','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','2023pCuZKt','default','includes','Logger','../../internal/fs.internal','MAX_WRITES_PER_TICK','async','1684038uQQWWs','dir','6VhbgGp','parse','fileName','6804900YmZJro','log','push','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','convertToString','skipChildErrors','writeParent','readFile','3728691AWhavW','keys','text','MDApiWriter','Xml','components','InvalidXmlError','(((.+)+)+)+$','join','splice','writeFile','parentComponents','2700375oDhlbk','3296180gdyuzc','toString','files','have\x20to\x20write\x20%d\x20files','nodebuffer','unzip','sourceDir','3PyHzpD','makeDir','writeChild','__importDefault','handleXmlParsingError','92821GauKtZ','defineProperty','apply','../errors/invalid-xml.error','path','body','length','../utils/xml','7856MRlplH','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','fileType','internalLogger'];a98_0x1add=function(){return _0x1d88fb;};return a98_0x1add();}const path_1=__importDefault(require(a98_0x30bef0(0x1d4))),core_1=require(a98_0x30bef0(0x1df)),fs_internal_1=require(a98_0x30bef0(0x1eb)),invalid_xml_error_1=require(a98_0x30bef0(0x1d3)),xml_1=require(a98_0x30bef0(0x1d7)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x5985ce,sourceDir:_0x3f5803,skipChildErrors:_0x3b1315}){const _0x4b36a9=a98_0x30bef0;this[_0x4b36a9(0x1ec)]=0x64,this[_0x4b36a9(0x1c2)]={},this[_0x4b36a9(0x1db)]=new core_1[(_0x4b36a9(0x1ea))](MDApiWriter[_0x4b36a9(0x1e5)]),this[_0x4b36a9(0x1bc)]=_0x5985ce,this[_0x4b36a9(0x1ca)]=_0x3f5803,this[_0x4b36a9(0x1f8)]=_0x3b1315;}async[a98_0x30bef0(0x1e3)](_0x1ec3a7,_0x966319=![]){const _0x59052b=a98_0x30bef0,_0x2dd1ba=await zip_1['Zip'][_0x59052b(0x1c9)](_0x1ec3a7),_0x14e8a2=[];for(const _0x5c0272 of Object[_0x59052b(0x1b8)](_0x2dd1ba[_0x59052b(0x1c6)])){!_0x2dd1ba[_0x59052b(0x1c6)][_0x5c0272][_0x59052b(0x1ef)]&&_0x14e8a2[_0x59052b(0x1f5)]({'filename':_0x5c0272,'body':await _0x2dd1ba['files'][_0x5c0272][_0x59052b(0x1ed)](_0x966319?_0x59052b(0x1c8):_0x59052b(0x1b9))});}return _0x14e8a2;}async[a98_0x30bef0(0x1b5)](_0x25e7db){const _0x51ba96=a98_0x30bef0;try{const _0x316470=await this['readZip'](_0x25e7db[_0x51ba96(0x1d5)],!![]);await Promise['all'](_0x316470[_0x51ba96(0x1e0)](({filename:_0x497703,body:_0x2a5451})=>fs_internal_1['FS'][_0x51ba96(0x1c1)](path_1['default'][_0x51ba96(0x1bf)](this[_0x51ba96(0x1ca)],_0x497703),_0x2a5451)));}catch(_0x225896){throw new Error(_0x51ba96(0x1f6)+_0x25e7db[_0x51ba96(0x1f2)]+'\x20['+_0x25e7db[_0x51ba96(0x1da)]+'].\x20Original\x20error:\x20'+_0x225896);}}[a98_0x30bef0(0x1cf)](_0x59f7de,_0x1550e0){const _0x522e49=a98_0x30bef0;throw new invalid_xml_error_1['InvalidXmlError'](_0x522e49(0x1d9)+_0x1550e0[_0x522e49(0x1f2)]+'\x20['+_0x1550e0[_0x522e49(0x1da)]+_0x522e49(0x1e2)+_0x59f7de);}async[a98_0x30bef0(0x1cd)](_0x533234){const _0x1b6f56=a98_0x30bef0,{filename:_0x1cd249,body:_0x119cf0}=(await this[_0x1b6f56(0x1e3)](_0x533234[_0x1b6f56(0x1d5)]))[0x0];try{if(!this[_0x1b6f56(0x1c2)][_0x1cd249]){const _0x43491c=path_1[_0x1b6f56(0x1e8)][_0x1b6f56(0x1bf)](this[_0x1b6f56(0x1ca)],_0x1cd249);if(await fs_internal_1['FS'][_0x1b6f56(0x1e4)](_0x43491c)){const _0x5c5301=await fs_internal_1['FS'][_0x1b6f56(0x1b6)](_0x43491c);this[_0x1b6f56(0x1c2)][_0x1cd249]=await xml_1[_0x1b6f56(0x1bb)][_0x1b6f56(0x1f1)](_0x5c5301)[_0x1b6f56(0x1dc)](_0x21360f=>this['handleXmlParsingError'](_0x21360f,_0x533234));}else{this[_0x1b6f56(0x1c2)][_0x1cd249]=await xml_1[_0x1b6f56(0x1bb)][_0x1b6f56(0x1f1)](_0x119cf0)[_0x1b6f56(0x1dc)](_0x1180ba=>this[_0x1b6f56(0x1cf)](_0x1180ba,_0x533234));return;}}const _0x8e5e7f=this[_0x1b6f56(0x1c2)][_0x1cd249],_0x4daaed=await xml_1['Xml'][_0x1b6f56(0x1f1)](_0x119cf0)[_0x1b6f56(0x1dc)](_0x392211=>this[_0x1b6f56(0x1cf)](_0x392211,_0x533234));xml_1[_0x1b6f56(0x1bb)][_0x1b6f56(0x1de)](_0x8e5e7f,_0x4daaed);}catch(_0x570106){if(_0x570106 instanceof invalid_xml_error_1[_0x1b6f56(0x1bd)]){if(this[_0x1b6f56(0x1f8)])return;else throw _0x570106;}throw new Error(_0x1b6f56(0x1e6)+_0x533234[_0x1b6f56(0x1f2)]+'\x20['+_0x533234[_0x1b6f56(0x1da)]+'].\x20Original\x20error:\x20'+_0x570106);}}async['start'](){const _0x55e7de=a98_0x30bef0;!await fs_internal_1['FS'][_0x55e7de(0x1e4)](this[_0x55e7de(0x1ca)])&&await fs_internal_1['FS'][_0x55e7de(0x1cc)](this[_0x55e7de(0x1ca)]);for(const _0x3a3766 of this[_0x55e7de(0x1bc)]){!child_types_1[_0x55e7de(0x1e8)][_0x55e7de(0x1e9)](_0x3a3766[_0x55e7de(0x1da)])?await this['writeParent'](_0x3a3766):await this['writeChild'](_0x3a3766);}const _0x22f647=Object[_0x55e7de(0x1b8)](this[_0x55e7de(0x1c2)]);this['internalLogger'][_0x55e7de(0x1f4)](_0x55e7de(0x1c7),this[_0x55e7de(0x1bc)][_0x55e7de(0x1d6)]);while(_0x22f647['length']){const _0x485f63=_0x22f647[_0x55e7de(0x1c0)](0x0,this[_0x55e7de(0x1ec)]);for(const _0x105bc0 of _0x485f63){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x55e7de(0x1bf)](this[_0x55e7de(0x1ca)],_0x105bc0),xml_1['Xml'][_0x55e7de(0x1f7)](this['parentComponents'][_0x105bc0]));}}this[_0x55e7de(0x1c2)]={};}}exports[a98_0x30bef0(0x1ba)]=MDApiWriter;