const a246_0x5319b7=a246_0x1b55;(function(_0x1039e9,_0x1f4d91){const _0x56ee1a=a246_0x1b55,_0x3cd16f=_0x1039e9();while(!![]){try{const _0x39ff3b=parseInt(_0x56ee1a(0xdf))/0x1*(-parseInt(_0x56ee1a(0xe0))/0x2)+parseInt(_0x56ee1a(0x116))/0x3*(parseInt(_0x56ee1a(0xef))/0x4)+-parseInt(_0x56ee1a(0xf3))/0x5*(-parseInt(_0x56ee1a(0xf4))/0x6)+-parseInt(_0x56ee1a(0x108))/0x7*(parseInt(_0x56ee1a(0x109))/0x8)+parseInt(_0x56ee1a(0x11a))/0x9+-parseInt(_0x56ee1a(0xf7))/0xa+-parseInt(_0x56ee1a(0x114))/0xb;if(_0x39ff3b===_0x1f4d91)break;else _0x3cd16f['push'](_0x3cd16f['shift']());}catch(_0x145eb0){_0x3cd16f['push'](_0x3cd16f['shift']());}}}(a246_0x51d0,0xc7d9b));function a246_0x51d0(){const _0x40c372=['path','../parsers/data/child-types-map','toString','logger','Unknown\x20child\x20type\x20','fileName','../parsers/utils/xml-v2','defineProperty','isDir','catch','Have\x20to\x20update\x20%d\x20files','type','MDApiRemover','META_EXTENSION','56IwKOkF','58592DJhMbi','exists','constructor','__esModule','ExperienceBundle','(((.+)+)+)+$','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','./base.remover','../internal/fs.internal','writeFile','name','8741205GSCNqT','convertToString','1074WHdfpQ','Remove\x20parent\x20component\x20%s\x20[%s]','sourceDir','Remove\x20child\x20component\x20%s\x20[%s]','6634521lnhZNL','components','log','removeDir','isEmptyXml','2QesWoy','458598dsjbjb','all','XmlV2','-meta.xml','removeFile','removeParent','splice','length','__importDefault','Remove\x20component\x20\x20%s\x20[%s]','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','parentComponents','removeAt','split','join','12408oFkFJU','includes','search','site-meta.xml','5wfBeog','9403818zBvnSs','default','removeChild','12845560DSmUXU','MAX_WRITES_PER_TICK','META_EXPERIENCE_BUNDLE'];a246_0x51d0=function(){return _0x40c372;};return a246_0x51d0();}const a246_0x36d02e=(function(){let _0x13f5ae=!![];return function(_0x3cc5aa,_0xfaf84e){const _0x523fb7=_0x13f5ae?function(){if(_0xfaf84e){const _0x146f88=_0xfaf84e['apply'](_0x3cc5aa,arguments);return _0xfaf84e=null,_0x146f88;}}:function(){};return _0x13f5ae=![],_0x523fb7;};}()),a246_0x9df9a=a246_0x36d02e(this,function(){const _0x2ee0e0=a246_0x1b55;return a246_0x9df9a[_0x2ee0e0(0xfc)]()['search'](_0x2ee0e0(0x10e))[_0x2ee0e0(0xfc)]()[_0x2ee0e0(0x10b)](a246_0x9df9a)[_0x2ee0e0(0xf1)](_0x2ee0e0(0x10e));});a246_0x9df9a();'use strict';var __importDefault=this&&this[a246_0x5319b7(0xe8)]||function(_0x1aa4ff){const _0x50aec6=a246_0x5319b7;return _0x1aa4ff&&_0x1aa4ff[_0x50aec6(0x10c)]?_0x1aa4ff:{'default':_0x1aa4ff};};Object[a246_0x5319b7(0x101)](exports,a246_0x5319b7(0x10c),{'value':!![]}),exports[a246_0x5319b7(0x106)]=void 0x0;const fs_internal_1=require(a246_0x5319b7(0x111)),xml_v2_1=require(a246_0x5319b7(0x100)),child_types_1=__importDefault(require('../parsers/data/child-types')),child_types_map_1=__importDefault(require(a246_0x5319b7(0xfb))),path_1=__importDefault(require(a246_0x5319b7(0xfa))),base_remover_1=require(a246_0x5319b7(0x110));function a246_0x1b55(_0x2febbc,_0x2ae9e1){const _0x1cb79c=a246_0x51d0();return a246_0x1b55=function(_0x9df9a,_0x36d02e){_0x9df9a=_0x9df9a-0xde;let _0x51d092=_0x1cb79c[_0x9df9a];return _0x51d092;},a246_0x1b55(_0x2febbc,_0x2ae9e1);}class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x306453,sourceDir:_0x5ab5f8}){const _0x224717=a246_0x5319b7;super({'sourceDir':_0x5ab5f8,'components':_0x306453},MDApiRemover[_0x224717(0x113)]),this['META_EXTENSION']=_0x224717(0xe3),this[_0x224717(0xf9)]=_0x224717(0xf2),this['MAX_WRITES_PER_TICK']=0x64,this[_0x224717(0xeb)]={};}async[a246_0x5319b7(0xe5)](_0x1a763d){const _0xef3996=a246_0x5319b7,_0x504a30=path_1[_0xef3996(0xf5)]['join'](this[_0xef3996(0x118)],_0x1a763d[_0xef3996(0xfa)]),_0x45190=path_1[_0xef3996(0xf5)][_0xef3996(0xee)](this[_0xef3996(0x118)],''+_0x1a763d[_0xef3996(0xfa)]+this[_0xef3996(0x107)]);this[_0xef3996(0xeb)][_0x1a763d[_0xef3996(0xfa)]]&&delete this[_0xef3996(0xeb)][_0x1a763d[_0xef3996(0xfa)]];const _0x3dc098=await fs_internal_1['FS'][_0xef3996(0x102)](_0x504a30)[_0xef3996(0x103)](()=>![]);if(_0x3dc098){this[_0xef3996(0xfd)]['log']('Remove\x20component\x20directory\x20%s\x20[%s]',_0x504a30,_0x1a763d['type']),await fs_internal_1['FS'][_0xef3996(0x11d)](_0x504a30);_0x1a763d[_0xef3996(0x105)]===_0xef3996(0x10d)?await fs_internal_1['FS']['removeFile'](''+_0x504a30+this[_0xef3996(0xf9)])['catch'](()=>void 0x0):(this[_0xef3996(0xfd)][_0xef3996(0x11c)](_0xef3996(0x10f),_0x504a30,_0x1a763d[_0xef3996(0x105)]),await fs_internal_1['FS']['removeFile'](''+_0x504a30+this[_0xef3996(0x107)])[_0xef3996(0x103)](()=>void 0x0));return;}this[_0xef3996(0xfd)][_0xef3996(0x11c)](_0xef3996(0xe9),_0x504a30,_0x1a763d[_0xef3996(0x105)]),await Promise[_0xef3996(0xe1)]([fs_internal_1['FS'][_0xef3996(0xe4)](_0x504a30),fs_internal_1['FS']['removeFile'](_0x45190)]);}async[a246_0x5319b7(0xf6)](_0x417b85){const _0x3e3907=a246_0x5319b7,{fileName:_0x55f2b4,type:_0x170285,path:_0x5a64a4}=_0x417b85,_0x1c2833=child_types_map_1['default'][_0x170285];if(!_0x1c2833)throw new Error(_0x3e3907(0xfe)+_0x170285);if(!this['parentComponents'][_0x5a64a4]){const _0xfa4eb8=path_1['default'][_0x3e3907(0xee)](this[_0x3e3907(0x118)],_0x5a64a4),_0x226f5f=await fs_internal_1['FS'][_0x3e3907(0x10a)](_0xfa4eb8);if(!_0x226f5f)return;const _0x2dea22=await fs_internal_1['FS']['readFile'](_0xfa4eb8);this[_0x3e3907(0xeb)][_0x5a64a4]=await xml_v2_1[_0x3e3907(0xe2)]['parse'](_0x2dea22);}const _0x4516fc=this[_0x3e3907(0xeb)][_0x5a64a4],_0x4081fe=_0x55f2b4[_0x3e3907(0xed)]('.')['pop']();xml_v2_1[_0x3e3907(0xe2)][_0x3e3907(0xec)](_0x4516fc,_0x1c2833,_0x4081fe||_0x55f2b4),xml_v2_1[_0x3e3907(0xe2)][_0x3e3907(0xde)](_0x4516fc)?(this[_0x3e3907(0xfd)][_0x3e3907(0x11c)](_0x3e3907(0xea),_0x417b85['path'],_0x417b85['fileName']),await this[_0x3e3907(0xe5)](_0x417b85),delete this[_0x3e3907(0xeb)][_0x5a64a4]):this[_0x3e3907(0xeb)][_0x5a64a4]=_0x4516fc;}async['execute'](){const _0x5c37ad=a246_0x5319b7;!await fs_internal_1['FS'][_0x5c37ad(0x10a)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x5c37ad(0x118)]);for(const _0x30861f of this[_0x5c37ad(0x11b)]){!child_types_1[_0x5c37ad(0xf5)][_0x5c37ad(0xf0)](_0x30861f['type'])?(this['logger']['log'](_0x5c37ad(0x117),_0x30861f[_0x5c37ad(0xff)],_0x30861f[_0x5c37ad(0x105)]),await this['removeParent'](_0x30861f)):(this[_0x5c37ad(0xfd)][_0x5c37ad(0x11c)](_0x5c37ad(0x119),_0x30861f[_0x5c37ad(0xff)],_0x30861f['type']),await this[_0x5c37ad(0xf6)](_0x30861f));}const _0x143e28=Object['keys'](this[_0x5c37ad(0xeb)]);this[_0x5c37ad(0xfd)][_0x5c37ad(0x11c)](_0x5c37ad(0x104),this[_0x5c37ad(0x11b)][_0x5c37ad(0xe7)]);while(_0x143e28[_0x5c37ad(0xe7)]){const _0x5b75c0=_0x143e28[_0x5c37ad(0xe6)](0x0,this[_0x5c37ad(0xf8)]);for(const _0x2ae44e of _0x5b75c0){await fs_internal_1['FS'][_0x5c37ad(0x112)](path_1[_0x5c37ad(0xf5)]['join'](this[_0x5c37ad(0x118)],_0x2ae44e),xml_v2_1[_0x5c37ad(0xe2)][_0x5c37ad(0x115)](this[_0x5c37ad(0xeb)][_0x2ae44e]));}}this[_0x5c37ad(0xeb)]={};}}exports[a246_0x5319b7(0x106)]=MDApiRemover;