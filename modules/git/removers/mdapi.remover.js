const a257_0x553c60=a257_0x521f;function a257_0x521f(_0x4e80a9,_0x187c5c){const _0x169db9=a257_0x1598();return a257_0x521f=function(_0x53f243,_0x240956){_0x53f243=_0x53f243-0x1cd;let _0x15988e=_0x169db9[_0x53f243];return _0x15988e;},a257_0x521f(_0x4e80a9,_0x187c5c);}function a257_0x1598(){const _0x34230f=['apply','__esModule','makeDir','type','META_EXPERIENCE_BUNDLE','20DHdFus','1959496MSvLnD','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','MDApiRemover','META_EXTENSION','removeParent','logger','426195wlizvz','parentComponents','removeFile','catch','./base.remover','includes','Remove\x20parent\x20component\x20%s\x20[%s]','../parsers/data/child-types-map','components','../parsers/utils/xml-v2','fileName','convertToString','Remove\x20component\x20\x20%s\x20[%s]','log','constructor','join','exists','XmlV2','1332ukKFen','removeAt','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','name','BaseRemover','1991ndzDcY','readFile','isEmptyXml','Remove\x20child\x20component\x20%s\x20[%s]','(((.+)+)+)+$','search','Unknown\x20child\x20type\x20','all','MAX_WRITES_PER_TICK','2FPkonv','__importDefault','defineProperty','toString','default','261522tnoBTq','removeChild','Remove\x20component\x20directory\x20%s\x20[%s]','split','site-meta.xml','keys','581eiQHtU','../internal/fs.internal','removeDir','8hmKDQx','splice','parse','8934wpPcVd','pop','376653jEussU','sourceDir','745506xZwotP','path'];a257_0x1598=function(){return _0x34230f;};return a257_0x1598();}(function(_0x135178,_0x3d3b82){const _0x458f11=a257_0x521f,_0x113c76=_0x135178();while(!![]){try{const _0xde122a=-parseInt(_0x458f11(0x1f3))/0x1*(-parseInt(_0x458f11(0x1f8))/0x2)+parseInt(_0x458f11(0x206))/0x3+-parseInt(_0x458f11(0x201))/0x4*(parseInt(_0x458f11(0x1d3))/0x5)+-parseInt(_0x458f11(0x204))/0x6*(parseInt(_0x458f11(0x1fe))/0x7)+parseInt(_0x458f11(0x1cd))/0x8+parseInt(_0x458f11(0x208))/0x9*(-parseInt(_0x458f11(0x20f))/0xa)+-parseInt(_0x458f11(0x1ea))/0xb*(parseInt(_0x458f11(0x1e5))/0xc);if(_0xde122a===_0x3d3b82)break;else _0x113c76['push'](_0x113c76['shift']());}catch(_0x5a7206){_0x113c76['push'](_0x113c76['shift']());}}}(a257_0x1598,0x2527a));const a257_0x240956=(function(){let _0x16d5ee=!![];return function(_0x3884c3,_0xb487c7){const _0x96673e=_0x16d5ee?function(){const _0x399660=a257_0x521f;if(_0xb487c7){const _0x5c3b17=_0xb487c7[_0x399660(0x20a)](_0x3884c3,arguments);return _0xb487c7=null,_0x5c3b17;}}:function(){};return _0x16d5ee=![],_0x96673e;};}()),a257_0x53f243=a257_0x240956(this,function(){const _0x1ea3a6=a257_0x521f;return a257_0x53f243[_0x1ea3a6(0x1f6)]()[_0x1ea3a6(0x1ef)](_0x1ea3a6(0x1ee))[_0x1ea3a6(0x1f6)]()[_0x1ea3a6(0x1e1)](a257_0x53f243)['search']('(((.+)+)+)+$');});a257_0x53f243();'use strict';var __importDefault=this&&this[a257_0x553c60(0x1f4)]||function(_0x5233cf){const _0x587626=a257_0x553c60;return _0x5233cf&&_0x5233cf[_0x587626(0x20b)]?_0x5233cf:{'default':_0x5233cf};};Object[a257_0x553c60(0x1f5)](exports,a257_0x553c60(0x20b),{'value':!![]}),exports[a257_0x553c60(0x1cf)]=void 0x0;const fs_internal_1=require(a257_0x553c60(0x1ff)),xml_v2_1=require(a257_0x553c60(0x1dc)),child_types_1=__importDefault(require('../parsers/data/child-types')),child_types_map_1=__importDefault(require(a257_0x553c60(0x1da))),path_1=__importDefault(require(a257_0x553c60(0x209))),base_remover_1=require(a257_0x553c60(0x1d7));class MDApiRemover extends base_remover_1[a257_0x553c60(0x1e9)]{constructor({components:_0x300529,sourceDir:_0x780f46}){const _0x5b9acd=a257_0x553c60;super({'sourceDir':_0x780f46,'components':_0x300529},MDApiRemover[_0x5b9acd(0x1e8)]),this['META_EXTENSION']='-meta.xml',this[_0x5b9acd(0x20e)]=_0x5b9acd(0x1fc),this[_0x5b9acd(0x1f2)]=0x64,this['parentComponents']={};}async[a257_0x553c60(0x1d1)](_0x3a39b1){const _0x198a95=a257_0x553c60,_0xef7c90=path_1[_0x198a95(0x1f7)][_0x198a95(0x1e2)](this[_0x198a95(0x207)],_0x3a39b1[_0x198a95(0x209)]),_0x280438=path_1[_0x198a95(0x1f7)][_0x198a95(0x1e2)](this[_0x198a95(0x207)],''+_0x3a39b1[_0x198a95(0x209)]+this[_0x198a95(0x1d0)]);this[_0x198a95(0x1d4)][_0x3a39b1['path']]&&delete this[_0x198a95(0x1d4)][_0x3a39b1['path']];const _0x4f4f2e=await fs_internal_1['FS']['isDir'](_0xef7c90)[_0x198a95(0x1d6)](()=>![]);if(_0x4f4f2e){this[_0x198a95(0x1d2)][_0x198a95(0x1e0)](_0x198a95(0x1fa),_0xef7c90,_0x3a39b1['type']),await fs_internal_1['FS'][_0x198a95(0x200)](_0xef7c90);_0x3a39b1[_0x198a95(0x20d)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x198a95(0x1d5)](''+_0xef7c90+this['META_EXPERIENCE_BUNDLE'])[_0x198a95(0x1d6)](()=>void 0x0):(this[_0x198a95(0x1d2)][_0x198a95(0x1e0)](_0x198a95(0x1e7),_0xef7c90,_0x3a39b1['type']),await fs_internal_1['FS'][_0x198a95(0x1d5)](''+_0xef7c90+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x198a95(0x1d2)][_0x198a95(0x1e0)](_0x198a95(0x1df),_0xef7c90,_0x3a39b1[_0x198a95(0x20d)]),await Promise[_0x198a95(0x1f1)]([fs_internal_1['FS'][_0x198a95(0x1d5)](_0xef7c90),fs_internal_1['FS'][_0x198a95(0x1d5)](_0x280438)]);}async[a257_0x553c60(0x1f9)](_0x7dbba3){const _0x56a416=a257_0x553c60,{fileName:_0x56852a,type:_0xd1c760,path:_0x5976f3}=_0x7dbba3,_0x26e510=child_types_map_1[_0x56a416(0x1f7)][_0xd1c760];if(!_0x26e510)throw new Error(_0x56a416(0x1f0)+_0xd1c760);if(!this[_0x56a416(0x1d4)][_0x5976f3]){const _0x27161f=path_1[_0x56a416(0x1f7)][_0x56a416(0x1e2)](this[_0x56a416(0x207)],_0x5976f3),_0x363d90=await fs_internal_1['FS'][_0x56a416(0x1e3)](_0x27161f);if(!_0x363d90)return;const _0x7c89b4=await fs_internal_1['FS'][_0x56a416(0x1eb)](_0x27161f);this[_0x56a416(0x1d4)][_0x5976f3]=await xml_v2_1[_0x56a416(0x1e4)][_0x56a416(0x203)](_0x7c89b4);}const _0x250c3a=this[_0x56a416(0x1d4)][_0x5976f3],_0x1cc9fc=_0x56852a[_0x56a416(0x1fb)]('.')[_0x56a416(0x205)]();xml_v2_1['XmlV2'][_0x56a416(0x1e6)](_0x250c3a,_0x26e510,_0x1cc9fc||_0x56852a),xml_v2_1[_0x56a416(0x1e4)][_0x56a416(0x1ec)](_0x250c3a)?(this[_0x56a416(0x1d2)][_0x56a416(0x1e0)](_0x56a416(0x1ce),_0x7dbba3[_0x56a416(0x209)],_0x7dbba3[_0x56a416(0x1dd)]),await this[_0x56a416(0x1d1)](_0x7dbba3),delete this['parentComponents'][_0x5976f3]):this[_0x56a416(0x1d4)][_0x5976f3]=_0x250c3a;}async['execute'](){const _0x18240=a257_0x553c60;!await fs_internal_1['FS'][_0x18240(0x1e3)](this[_0x18240(0x207)])&&await fs_internal_1['FS'][_0x18240(0x20c)](this[_0x18240(0x207)]);for(const _0x1b15e6 of this[_0x18240(0x1db)]){!child_types_1[_0x18240(0x1f7)][_0x18240(0x1d8)](_0x1b15e6['type'])?(this[_0x18240(0x1d2)][_0x18240(0x1e0)](_0x18240(0x1d9),_0x1b15e6[_0x18240(0x1dd)],_0x1b15e6[_0x18240(0x20d)]),await this[_0x18240(0x1d1)](_0x1b15e6)):(this[_0x18240(0x1d2)][_0x18240(0x1e0)](_0x18240(0x1ed),_0x1b15e6['fileName'],_0x1b15e6[_0x18240(0x20d)]),await this[_0x18240(0x1f9)](_0x1b15e6));}const _0x1e45f9=Object[_0x18240(0x1fd)](this['parentComponents']);this[_0x18240(0x1d2)][_0x18240(0x1e0)]('Have\x20to\x20update\x20%d\x20files',this[_0x18240(0x1db)]['length']);while(_0x1e45f9['length']){const _0x11efab=_0x1e45f9[_0x18240(0x202)](0x0,this[_0x18240(0x1f2)]);for(const _0x39480a of _0x11efab){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x18240(0x1e2)](this[_0x18240(0x207)],_0x39480a),xml_v2_1[_0x18240(0x1e4)][_0x18240(0x1de)](this[_0x18240(0x1d4)][_0x39480a]));}}this[_0x18240(0x1d4)]={};}}exports[a257_0x553c60(0x1cf)]=MDApiRemover;