const a258_0x1a716a=a258_0xe21a;(function(_0x37566a,_0x46f493){const _0x5f2331=a258_0xe21a,_0x3e32e9=_0x37566a();while(!![]){try{const _0x243db5=-parseInt(_0x5f2331(0x1c8))/0x1*(-parseInt(_0x5f2331(0x1bd))/0x2)+parseInt(_0x5f2331(0x1d9))/0x3*(parseInt(_0x5f2331(0x1cb))/0x4)+-parseInt(_0x5f2331(0x1fc))/0x5+parseInt(_0x5f2331(0x1e0))/0x6*(parseInt(_0x5f2331(0x1cc))/0x7)+-parseInt(_0x5f2331(0x1fe))/0x8*(-parseInt(_0x5f2331(0x1e2))/0x9)+-parseInt(_0x5f2331(0x1d8))/0xa*(parseInt(_0x5f2331(0x1d6))/0xb)+-parseInt(_0x5f2331(0x1fd))/0xc*(parseInt(_0x5f2331(0x1f7))/0xd);if(_0x243db5===_0x46f493)break;else _0x3e32e9['push'](_0x3e32e9['shift']());}catch(_0x4dd310){_0x3e32e9['push'](_0x3e32e9['shift']());}}}(a258_0x2d12,0x922ff));const a258_0x52dc00=(function(){let _0x52db7c=!![];return function(_0xbde15c,_0x3f4f15){const _0x3899f0=_0x52db7c?function(){const _0x1bcdd1=a258_0xe21a;if(_0x3f4f15){const _0x2127fc=_0x3f4f15[_0x1bcdd1(0x1e6)](_0xbde15c,arguments);return _0x3f4f15=null,_0x2127fc;}}:function(){};return _0x52db7c=![],_0x3899f0;};}()),a258_0x5e69c5=a258_0x52dc00(this,function(){const _0x133784=a258_0xe21a;return a258_0x5e69c5[_0x133784(0x1f2)]()[_0x133784(0x1ee)](_0x133784(0x1d4))[_0x133784(0x1f2)]()[_0x133784(0x1f5)](a258_0x5e69c5)['search']('(((.+)+)+)+$');});a258_0x5e69c5();'use strict';var __importDefault=this&&this[a258_0x1a716a(0x1f8)]||function(_0x2d41ed){return _0x2d41ed&&_0x2d41ed['__esModule']?_0x2d41ed:{'default':_0x2d41ed};};Object[a258_0x1a716a(0x1d3)](exports,'__esModule',{'value':!![]}),exports['MDApiRemover']=void 0x0;function a258_0x2d12(){const _0xe78a47=['default','776035rmEnfY','__importDefault','../parsers/data/child-types','XmlV2','splice','875660imKZjk','468NBEqwf','557944JErfrq','catch','6ZitdnF','fileName','../parsers/utils/xml-v2','split','pop','isEmptyXml','length','Remove\x20child\x20component\x20%s\x20[%s]','ExperienceBundle','./base.remover','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','381386VJwQzq','parentComponents','parse','8sfiLmr','35zktmrO','name','log','BaseRemover','type','writeFile','META_EXPERIENCE_BUNDLE','defineProperty','(((.+)+)+)+$','removeDir','2929883zDbDmB','sourceDir','20cAPShV','926376LUAaQf','exists','Remove\x20component\x20\x20%s\x20[%s]','removeChild','execute','META_EXTENSION','makeDir','1159590ocXavg','../parsers/data/child-types-map','117YcjWdN','MDApiRemover','keys','removeFile','apply','logger','join','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','components','readFile','all','removeParent','search','Have\x20to\x20update\x20%d\x20files','../internal/fs.internal','path','toString','Remove\x20component\x20directory\x20%s\x20[%s]','MAX_WRITES_PER_TICK','constructor'];a258_0x2d12=function(){return _0xe78a47;};return a258_0x2d12();}function a258_0xe21a(_0x1e2fdd,_0x38eecf){const _0x285f49=a258_0x2d12();return a258_0xe21a=function(_0x5e69c5,_0x52dc00){_0x5e69c5=_0x5e69c5-0x1bd;let _0x2d1214=_0x285f49[_0x5e69c5];return _0x2d1214;},a258_0xe21a(_0x1e2fdd,_0x38eecf);}const fs_internal_1=require(a258_0x1a716a(0x1f0)),xml_v2_1=require(a258_0x1a716a(0x1bf)),child_types_1=__importDefault(require(a258_0x1a716a(0x1f9))),child_types_map_1=__importDefault(require(a258_0x1a716a(0x1e1))),path_1=__importDefault(require('path')),base_remover_1=require(a258_0x1a716a(0x1c6));class MDApiRemover extends base_remover_1[a258_0x1a716a(0x1cf)]{constructor({components:_0x568dcb,sourceDir:_0x1e9e46}){const _0xbd72c=a258_0x1a716a;super({'sourceDir':_0x1e9e46,'components':_0x568dcb},MDApiRemover[_0xbd72c(0x1cd)]),this[_0xbd72c(0x1de)]='-meta.xml',this[_0xbd72c(0x1d2)]='site-meta.xml',this[_0xbd72c(0x1f4)]=0x64,this[_0xbd72c(0x1c9)]={};}async[a258_0x1a716a(0x1ed)](_0x47f907){const _0x2cd8f7=a258_0x1a716a,_0x1caaee=path_1[_0x2cd8f7(0x1f6)][_0x2cd8f7(0x1e8)](this[_0x2cd8f7(0x1d7)],_0x47f907[_0x2cd8f7(0x1f1)]),_0x552218=path_1[_0x2cd8f7(0x1f6)]['join'](this['sourceDir'],''+_0x47f907[_0x2cd8f7(0x1f1)]+this[_0x2cd8f7(0x1de)]);this['parentComponents'][_0x47f907['path']]&&delete this[_0x2cd8f7(0x1c9)][_0x47f907[_0x2cd8f7(0x1f1)]];const _0x2968b0=await fs_internal_1['FS']['isDir'](_0x1caaee)[_0x2cd8f7(0x1ff)](()=>![]);if(_0x2968b0){this[_0x2cd8f7(0x1e7)]['log'](_0x2cd8f7(0x1f3),_0x1caaee,_0x47f907[_0x2cd8f7(0x1d0)]),await fs_internal_1['FS'][_0x2cd8f7(0x1d5)](_0x1caaee);_0x47f907['type']===_0x2cd8f7(0x1c5)?await fs_internal_1['FS'][_0x2cd8f7(0x1e5)](''+_0x1caaee+this[_0x2cd8f7(0x1d2)])['catch'](()=>void 0x0):(this['logger']['log'](_0x2cd8f7(0x1c7),_0x1caaee,_0x47f907[_0x2cd8f7(0x1d0)]),await fs_internal_1['FS'][_0x2cd8f7(0x1e5)](''+_0x1caaee+this[_0x2cd8f7(0x1de)])[_0x2cd8f7(0x1ff)](()=>void 0x0));return;}this[_0x2cd8f7(0x1e7)][_0x2cd8f7(0x1ce)](_0x2cd8f7(0x1db),_0x1caaee,_0x47f907['type']),await Promise[_0x2cd8f7(0x1ec)]([fs_internal_1['FS'][_0x2cd8f7(0x1e5)](_0x1caaee),fs_internal_1['FS'][_0x2cd8f7(0x1e5)](_0x552218)]);}async['removeChild'](_0x17b314){const _0x2b2b73=a258_0x1a716a,{fileName:_0x35d08a,type:_0x55e569,path:_0x10adce}=_0x17b314,_0x12b4b8=child_types_map_1['default'][_0x55e569];if(!_0x12b4b8)throw new Error('Unknown\x20child\x20type\x20'+_0x55e569);if(!this['parentComponents'][_0x10adce]){const _0x4662ed=path_1[_0x2b2b73(0x1f6)][_0x2b2b73(0x1e8)](this[_0x2b2b73(0x1d7)],_0x10adce),_0x4e3fe1=await fs_internal_1['FS'][_0x2b2b73(0x1da)](_0x4662ed);if(!_0x4e3fe1)return;const _0x3caca2=await fs_internal_1['FS'][_0x2b2b73(0x1eb)](_0x4662ed);this[_0x2b2b73(0x1c9)][_0x10adce]=await xml_v2_1[_0x2b2b73(0x1fa)][_0x2b2b73(0x1ca)](_0x3caca2);}const _0x403448=this[_0x2b2b73(0x1c9)][_0x10adce],_0x39317d=_0x35d08a[_0x2b2b73(0x1c0)]('.')[_0x2b2b73(0x1c1)]();xml_v2_1['XmlV2']['removeAt'](_0x403448,_0x12b4b8,_0x39317d||_0x35d08a),xml_v2_1[_0x2b2b73(0x1fa)][_0x2b2b73(0x1c2)](_0x403448)?(this[_0x2b2b73(0x1e7)]['log'](_0x2b2b73(0x1e9),_0x17b314[_0x2b2b73(0x1f1)],_0x17b314[_0x2b2b73(0x1be)]),await this[_0x2b2b73(0x1ed)](_0x17b314),delete this['parentComponents'][_0x10adce]):this[_0x2b2b73(0x1c9)][_0x10adce]=_0x403448;}async[a258_0x1a716a(0x1dd)](){const _0x5d79a0=a258_0x1a716a;!await fs_internal_1['FS'][_0x5d79a0(0x1da)](this[_0x5d79a0(0x1d7)])&&await fs_internal_1['FS'][_0x5d79a0(0x1df)](this[_0x5d79a0(0x1d7)]);for(const _0x12df2c of this['components']){!child_types_1[_0x5d79a0(0x1f6)]['includes'](_0x12df2c[_0x5d79a0(0x1d0)])?(this[_0x5d79a0(0x1e7)][_0x5d79a0(0x1ce)]('Remove\x20parent\x20component\x20%s\x20[%s]',_0x12df2c[_0x5d79a0(0x1be)],_0x12df2c[_0x5d79a0(0x1d0)]),await this[_0x5d79a0(0x1ed)](_0x12df2c)):(this['logger']['log'](_0x5d79a0(0x1c4),_0x12df2c[_0x5d79a0(0x1be)],_0x12df2c[_0x5d79a0(0x1d0)]),await this[_0x5d79a0(0x1dc)](_0x12df2c));}const _0x26e60a=Object[_0x5d79a0(0x1e4)](this[_0x5d79a0(0x1c9)]);this[_0x5d79a0(0x1e7)][_0x5d79a0(0x1ce)](_0x5d79a0(0x1ef),this[_0x5d79a0(0x1ea)][_0x5d79a0(0x1c3)]);while(_0x26e60a[_0x5d79a0(0x1c3)]){const _0x3aa29a=_0x26e60a[_0x5d79a0(0x1fb)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x13ce9c of _0x3aa29a){await fs_internal_1['FS'][_0x5d79a0(0x1d1)](path_1[_0x5d79a0(0x1f6)]['join'](this[_0x5d79a0(0x1d7)],_0x13ce9c),xml_v2_1['XmlV2']['convertToString'](this[_0x5d79a0(0x1c9)][_0x13ce9c]));}}this[_0x5d79a0(0x1c9)]={};}}exports[a258_0x1a716a(0x1e3)]=MDApiRemover;