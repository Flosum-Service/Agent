const a230_0x1e4cb4=a230_0x512a;(function(_0x35bc5a,_0x90f6f1){const _0x4f0b5e=a230_0x512a,_0x62b2a2=_0x35bc5a();while(!![]){try{const _0x43df12=parseInt(_0x4f0b5e(0x1b7))/0x1*(parseInt(_0x4f0b5e(0x1cb))/0x2)+-parseInt(_0x4f0b5e(0x1c3))/0x3*(parseInt(_0x4f0b5e(0x1cc))/0x4)+-parseInt(_0x4f0b5e(0x19d))/0x5+-parseInt(_0x4f0b5e(0x1b8))/0x6+parseInt(_0x4f0b5e(0x19c))/0x7*(-parseInt(_0x4f0b5e(0x1b4))/0x8)+parseInt(_0x4f0b5e(0x1a8))/0x9*(parseInt(_0x4f0b5e(0x1cd))/0xa)+-parseInt(_0x4f0b5e(0x1be))/0xb*(-parseInt(_0x4f0b5e(0x1ae))/0xc);if(_0x43df12===_0x90f6f1)break;else _0x62b2a2['push'](_0x62b2a2['shift']());}catch(_0x52e165){_0x62b2a2['push'](_0x62b2a2['shift']());}}}(a230_0x2dbb,0x61a9f));function a230_0x2dbb(){const _0x1e029b=['execute','readFile','isEmptyXml','Remove\x20child\x20component\x20%s\x20[%s]','2090730VIcjEt','Unknown\x20child\x20type\x20','META_EXPERIENCE_BUNDLE','makeDir','fileName','sourceDir','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','length','430442TuIKsc','4EFPImn','6279810ZZHgmU','name','defineProperty','removeParent','default','components','MDApiRemover','removeFile','join','split','Remove\x20parent\x20component\x20%s\x20[%s]','removeDir','path','parentComponents','toString','259TTNUUu','1696715znAtRT','../parsers/data/child-types','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','writeFile','Remove\x20component\x20directory\x20%s\x20[%s]','convertToString','(((.+)+)+)+$','catch','logger','site-meta.xml','removeChild','9mpZXAA','search','Have\x20to\x20update\x20%d\x20files','type','pop','../parsers/data/child-types-map','48xYmvJc','all','includes','META_EXTENSION','MAX_WRITES_PER_TICK','__esModule','47832qDfpLN','constructor','log','1oBxKSF','2215338ozLPyi','-meta.xml','apply','keys','parse','XmlV2','3254702xlQqey'];a230_0x2dbb=function(){return _0x1e029b;};return a230_0x2dbb();}const a230_0x19c91d=(function(){let _0x1f1664=!![];return function(_0x145363,_0x30e8d2){const _0x3a7796=_0x1f1664?function(){const _0x44ea4b=a230_0x512a;if(_0x30e8d2){const _0x5f576f=_0x30e8d2[_0x44ea4b(0x1ba)](_0x145363,arguments);return _0x30e8d2=null,_0x5f576f;}}:function(){};return _0x1f1664=![],_0x3a7796;};}()),a230_0x411198=a230_0x19c91d(this,function(){const _0x44e280=a230_0x512a;return a230_0x411198[_0x44e280(0x19b)]()['search'](_0x44e280(0x1a3))['toString']()[_0x44e280(0x1b5)](a230_0x411198)[_0x44e280(0x1a9)](_0x44e280(0x1a3));});function a230_0x512a(_0x1c8439,_0x258792){const _0x160c6e=a230_0x2dbb();return a230_0x512a=function(_0x411198,_0x19c91d){_0x411198=_0x411198-0x193;let _0x2dbb65=_0x160c6e[_0x411198];return _0x2dbb65;},a230_0x512a(_0x1c8439,_0x258792);}a230_0x411198();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x58fe0a){const _0x1aaaf4=a230_0x512a;return _0x58fe0a&&_0x58fe0a[_0x1aaaf4(0x1b3)]?_0x58fe0a:{'default':_0x58fe0a};};Object[a230_0x1e4cb4(0x1cf)](exports,'__esModule',{'value':!![]}),exports[a230_0x1e4cb4(0x193)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),xml_v2_1=require('../parsers/utils/xml-v2'),child_types_1=__importDefault(require(a230_0x1e4cb4(0x19e))),child_types_map_1=__importDefault(require(a230_0x1e4cb4(0x1ad))),path_1=__importDefault(require('path')),base_remover_1=require('./base.remover');class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x5eb4bb,sourceDir:_0x1885ec}){const _0x153f9c=a230_0x1e4cb4;super({'sourceDir':_0x1885ec,'components':_0x5eb4bb},MDApiRemover[_0x153f9c(0x1ce)]),this['META_EXTENSION']=_0x153f9c(0x1b9),this[_0x153f9c(0x1c5)]=_0x153f9c(0x1a6),this[_0x153f9c(0x1b2)]=0x64,this[_0x153f9c(0x19a)]={};}async[a230_0x1e4cb4(0x1d0)](_0x5bcd80){const _0x78fb53=a230_0x1e4cb4,_0x16d83f=path_1[_0x78fb53(0x1d1)]['join'](this[_0x78fb53(0x1c8)],_0x5bcd80[_0x78fb53(0x199)]),_0x3fc2a6=path_1['default'][_0x78fb53(0x195)](this[_0x78fb53(0x1c8)],''+_0x5bcd80['path']+this[_0x78fb53(0x1b1)]);this['parentComponents'][_0x5bcd80[_0x78fb53(0x199)]]&&delete this[_0x78fb53(0x19a)][_0x5bcd80[_0x78fb53(0x199)]];const _0x5848bc=await fs_internal_1['FS']['isDir'](_0x16d83f)[_0x78fb53(0x1a4)](()=>![]);if(_0x5848bc){this[_0x78fb53(0x1a5)][_0x78fb53(0x1b6)](_0x78fb53(0x1a1),_0x16d83f,_0x5bcd80[_0x78fb53(0x1ab)]),await fs_internal_1['FS'][_0x78fb53(0x198)](_0x16d83f);_0x5bcd80[_0x78fb53(0x1ab)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x78fb53(0x194)](''+_0x16d83f+this[_0x78fb53(0x1c5)])['catch'](()=>void 0x0):(this[_0x78fb53(0x1a5)][_0x78fb53(0x1b6)](_0x78fb53(0x19f),_0x16d83f,_0x5bcd80[_0x78fb53(0x1ab)]),await fs_internal_1['FS'][_0x78fb53(0x194)](''+_0x16d83f+this[_0x78fb53(0x1b1)])['catch'](()=>void 0x0));return;}this[_0x78fb53(0x1a5)][_0x78fb53(0x1b6)]('Remove\x20component\x20\x20%s\x20[%s]',_0x16d83f,_0x5bcd80[_0x78fb53(0x1ab)]),await Promise[_0x78fb53(0x1af)]([fs_internal_1['FS'][_0x78fb53(0x194)](_0x16d83f),fs_internal_1['FS'][_0x78fb53(0x194)](_0x3fc2a6)]);}async[a230_0x1e4cb4(0x1a7)](_0x2ff788){const _0x3731ce=a230_0x1e4cb4,{fileName:_0x557dff,type:_0x5d918a,path:_0x47db25}=_0x2ff788,_0x2d78ab=child_types_map_1[_0x3731ce(0x1d1)][_0x5d918a];if(!_0x2d78ab)throw new Error(_0x3731ce(0x1c4)+_0x5d918a);if(!this[_0x3731ce(0x19a)][_0x47db25]){const _0x593cc7=path_1[_0x3731ce(0x1d1)][_0x3731ce(0x195)](this['sourceDir'],_0x47db25),_0x198cea=await fs_internal_1['FS']['exists'](_0x593cc7);if(!_0x198cea)return;const _0x48e907=await fs_internal_1['FS'][_0x3731ce(0x1c0)](_0x593cc7);this[_0x3731ce(0x19a)][_0x47db25]=await xml_v2_1[_0x3731ce(0x1bd)][_0x3731ce(0x1bc)](_0x48e907);}const _0x4a3a0d=this[_0x3731ce(0x19a)][_0x47db25],_0x3326d9=_0x557dff[_0x3731ce(0x196)]('.')[_0x3731ce(0x1ac)]();xml_v2_1[_0x3731ce(0x1bd)]['removeAt'](_0x4a3a0d,_0x2d78ab,_0x3326d9||_0x557dff),xml_v2_1['XmlV2'][_0x3731ce(0x1c1)](_0x4a3a0d)?(this[_0x3731ce(0x1a5)]['log'](_0x3731ce(0x1c9),_0x2ff788[_0x3731ce(0x199)],_0x2ff788[_0x3731ce(0x1c7)]),await this['removeParent'](_0x2ff788),delete this[_0x3731ce(0x19a)][_0x47db25]):this[_0x3731ce(0x19a)][_0x47db25]=_0x4a3a0d;}async[a230_0x1e4cb4(0x1bf)](){const _0x4dbcff=a230_0x1e4cb4;!await fs_internal_1['FS']['exists'](this[_0x4dbcff(0x1c8)])&&await fs_internal_1['FS'][_0x4dbcff(0x1c6)](this[_0x4dbcff(0x1c8)]);for(const _0x34328d of this[_0x4dbcff(0x1d2)]){!child_types_1[_0x4dbcff(0x1d1)][_0x4dbcff(0x1b0)](_0x34328d['type'])?(this[_0x4dbcff(0x1a5)][_0x4dbcff(0x1b6)](_0x4dbcff(0x197),_0x34328d[_0x4dbcff(0x1c7)],_0x34328d[_0x4dbcff(0x1ab)]),await this[_0x4dbcff(0x1d0)](_0x34328d)):(this[_0x4dbcff(0x1a5)][_0x4dbcff(0x1b6)](_0x4dbcff(0x1c2),_0x34328d[_0x4dbcff(0x1c7)],_0x34328d[_0x4dbcff(0x1ab)]),await this[_0x4dbcff(0x1a7)](_0x34328d));}const _0x2ee895=Object[_0x4dbcff(0x1bb)](this[_0x4dbcff(0x19a)]);this[_0x4dbcff(0x1a5)][_0x4dbcff(0x1b6)](_0x4dbcff(0x1aa),this[_0x4dbcff(0x1d2)]['length']);while(_0x2ee895[_0x4dbcff(0x1ca)]){const _0x2a5630=_0x2ee895['splice'](0x0,this[_0x4dbcff(0x1b2)]);for(const _0x17c896 of _0x2a5630){await fs_internal_1['FS'][_0x4dbcff(0x1a0)](path_1[_0x4dbcff(0x1d1)][_0x4dbcff(0x195)](this[_0x4dbcff(0x1c8)],_0x17c896),xml_v2_1[_0x4dbcff(0x1bd)][_0x4dbcff(0x1a2)](this[_0x4dbcff(0x19a)][_0x17c896]));}}this[_0x4dbcff(0x19a)]={};}}exports[a230_0x1e4cb4(0x193)]=MDApiRemover;