const a256_0x19d8bf=a256_0x53a1;function a256_0x36b6(){const _0x1a5d50=['constructor','makeDir','Remove\x20component\x20directory\x20%s\x20[%s]','2cLuAAQ','42IVJnOt','apply','exists','./base.remover','search','MAX_WRITES_PER_TICK','defineProperty','(((.+)+)+)+$','parse','-meta.xml','removeFile','log','BaseRemover','../parsers/data/child-types-map','fileName','11mjPjGX','removeChild','../parsers/data/child-types','48GMDLOg','XmlV2','Remove\x20parent\x20component\x20%s\x20[%s]','includes','logger','33481490NjRMhT','257910LVtzOs','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','sourceDir','273151QamUWF','2744454fxfNqx','Remove\x20child\x20component\x20%s\x20[%s]','site-meta.xml','split','__esModule','1817793XVcNmg','keys','length','type','path','2025590xrUVoG','4784928AcqkYd','../parsers/utils/xml-v2','META_EXPERIENCE_BUNDLE','removeAt','Unknown\x20child\x20type\x20','join','components','pop','catch','Remove\x20component\x20\x20%s\x20[%s]','toString','META_EXTENSION','__importDefault','ExperienceBundle','isEmptyXml','isDir','removeParent','parentComponents','writeFile','default','splice'];a256_0x36b6=function(){return _0x1a5d50;};return a256_0x36b6();}(function(_0x320c54,_0x265531){const _0x185846=a256_0x53a1,_0x3f5845=_0x320c54();while(!![]){try{const _0x3dd2fa=-parseInt(_0x185846(0xff))/0x1*(parseInt(_0x185846(0xe3))/0x2)+parseInt(_0x185846(0x100))/0x3+-parseInt(_0x185846(0x10b))/0x4+parseInt(_0x185846(0xfc))/0x5*(-parseInt(_0x185846(0xe4))/0x6)+parseInt(_0x185846(0x10a))/0x7*(-parseInt(_0x185846(0xf6))/0x8)+parseInt(_0x185846(0x105))/0x9+-parseInt(_0x185846(0xfb))/0xa*(-parseInt(_0x185846(0xf3))/0xb);if(_0x3dd2fa===_0x265531)break;else _0x3f5845['push'](_0x3f5845['shift']());}catch(_0x5d8303){_0x3f5845['push'](_0x3f5845['shift']());}}}(a256_0x36b6,0xdb4db));const a256_0x231f64=(function(){let _0x55c973=!![];return function(_0x4e478e,_0x30318e){const _0x3a29ec=_0x55c973?function(){const _0x19c8e0=a256_0x53a1;if(_0x30318e){const _0x26b178=_0x30318e[_0x19c8e0(0xe5)](_0x4e478e,arguments);return _0x30318e=null,_0x26b178;}}:function(){};return _0x55c973=![],_0x3a29ec;};}()),a256_0x15bea8=a256_0x231f64(this,function(){const _0x55230e=a256_0x53a1;return a256_0x15bea8[_0x55230e(0x115)]()[_0x55230e(0xe8)](_0x55230e(0xeb))['toString']()[_0x55230e(0xe0)](a256_0x15bea8)[_0x55230e(0xe8)](_0x55230e(0xeb));});a256_0x15bea8();'use strict';function a256_0x53a1(_0x622181,_0x2ba5df){const _0x23baba=a256_0x36b6();return a256_0x53a1=function(_0x15bea8,_0x231f64){_0x15bea8=_0x15bea8-0xde;let _0x36b691=_0x23baba[_0x15bea8];return _0x36b691;},a256_0x53a1(_0x622181,_0x2ba5df);}var __importDefault=this&&this[a256_0x19d8bf(0x117)]||function(_0x3e3e47){const _0x3ac773=a256_0x19d8bf;return _0x3e3e47&&_0x3e3e47[_0x3ac773(0x104)]?_0x3e3e47:{'default':_0x3e3e47};};Object[a256_0x19d8bf(0xea)](exports,a256_0x19d8bf(0x104),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require('../internal/fs.internal'),xml_v2_1=require(a256_0x19d8bf(0x10c)),child_types_1=__importDefault(require(a256_0x19d8bf(0xf5))),child_types_map_1=__importDefault(require(a256_0x19d8bf(0xf1))),path_1=__importDefault(require(a256_0x19d8bf(0x109))),base_remover_1=require(a256_0x19d8bf(0xe7));class MDApiRemover extends base_remover_1[a256_0x19d8bf(0xf0)]{constructor({components:_0x176baf,sourceDir:_0x1b8faf}){const _0x47ba75=a256_0x19d8bf;super({'sourceDir':_0x1b8faf,'components':_0x176baf},MDApiRemover['name']),this[_0x47ba75(0x116)]=_0x47ba75(0xed),this[_0x47ba75(0x10d)]=_0x47ba75(0x102),this[_0x47ba75(0xe9)]=0x64,this[_0x47ba75(0x11c)]={};}async[a256_0x19d8bf(0x11b)](_0x36db9e){const _0x52e206=a256_0x19d8bf,_0x18e3b1=path_1[_0x52e206(0xde)][_0x52e206(0x110)](this['sourceDir'],_0x36db9e[_0x52e206(0x109)]),_0x48b812=path_1[_0x52e206(0xde)][_0x52e206(0x110)](this[_0x52e206(0xfe)],''+_0x36db9e[_0x52e206(0x109)]+this['META_EXTENSION']);this[_0x52e206(0x11c)][_0x36db9e[_0x52e206(0x109)]]&&delete this['parentComponents'][_0x36db9e[_0x52e206(0x109)]];const _0x1e0752=await fs_internal_1['FS'][_0x52e206(0x11a)](_0x18e3b1)[_0x52e206(0x113)](()=>![]);if(_0x1e0752){this[_0x52e206(0xfa)][_0x52e206(0xef)](_0x52e206(0xe2),_0x18e3b1,_0x36db9e[_0x52e206(0x108)]),await fs_internal_1['FS']['removeDir'](_0x18e3b1);_0x36db9e[_0x52e206(0x108)]===_0x52e206(0x118)?await fs_internal_1['FS'][_0x52e206(0xee)](''+_0x18e3b1+this[_0x52e206(0x10d)])['catch'](()=>void 0x0):(this['logger'][_0x52e206(0xef)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x18e3b1,_0x36db9e[_0x52e206(0x108)]),await fs_internal_1['FS'][_0x52e206(0xee)](''+_0x18e3b1+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x52e206(0xfa)][_0x52e206(0xef)](_0x52e206(0x114),_0x18e3b1,_0x36db9e[_0x52e206(0x108)]),await Promise['all']([fs_internal_1['FS'][_0x52e206(0xee)](_0x18e3b1),fs_internal_1['FS'][_0x52e206(0xee)](_0x48b812)]);}async[a256_0x19d8bf(0xf4)](_0x54d5a2){const _0x23a110=a256_0x19d8bf,{fileName:_0x5ee2da,type:_0x44b74f,path:_0x3cce42}=_0x54d5a2,_0x50a1d7=child_types_map_1['default'][_0x44b74f];if(!_0x50a1d7)throw new Error(_0x23a110(0x10f)+_0x44b74f);if(!this[_0x23a110(0x11c)][_0x3cce42]){const _0x3e3c96=path_1[_0x23a110(0xde)][_0x23a110(0x110)](this[_0x23a110(0xfe)],_0x3cce42),_0x43595=await fs_internal_1['FS']['exists'](_0x3e3c96);if(!_0x43595)return;const _0x17d7e6=await fs_internal_1['FS']['readFile'](_0x3e3c96);this[_0x23a110(0x11c)][_0x3cce42]=await xml_v2_1['XmlV2'][_0x23a110(0xec)](_0x17d7e6);}const _0x49851c=this[_0x23a110(0x11c)][_0x3cce42],_0x55cf8d=_0x5ee2da[_0x23a110(0x103)]('.')[_0x23a110(0x112)]();xml_v2_1[_0x23a110(0xf7)][_0x23a110(0x10e)](_0x49851c,_0x50a1d7,_0x55cf8d||_0x5ee2da),xml_v2_1['XmlV2'][_0x23a110(0x119)](_0x49851c)?(this[_0x23a110(0xfa)][_0x23a110(0xef)](_0x23a110(0xfd),_0x54d5a2[_0x23a110(0x109)],_0x54d5a2[_0x23a110(0xf2)]),await this['removeParent'](_0x54d5a2),delete this[_0x23a110(0x11c)][_0x3cce42]):this[_0x23a110(0x11c)][_0x3cce42]=_0x49851c;}async['execute'](){const _0x4be084=a256_0x19d8bf;!await fs_internal_1['FS'][_0x4be084(0xe6)](this[_0x4be084(0xfe)])&&await fs_internal_1['FS'][_0x4be084(0xe1)](this[_0x4be084(0xfe)]);for(const _0x4db10c of this[_0x4be084(0x111)]){!child_types_1[_0x4be084(0xde)][_0x4be084(0xf9)](_0x4db10c[_0x4be084(0x108)])?(this[_0x4be084(0xfa)]['log'](_0x4be084(0xf8),_0x4db10c[_0x4be084(0xf2)],_0x4db10c[_0x4be084(0x108)]),await this[_0x4be084(0x11b)](_0x4db10c)):(this[_0x4be084(0xfa)][_0x4be084(0xef)](_0x4be084(0x101),_0x4db10c[_0x4be084(0xf2)],_0x4db10c[_0x4be084(0x108)]),await this[_0x4be084(0xf4)](_0x4db10c));}const _0x49e526=Object[_0x4be084(0x106)](this[_0x4be084(0x11c)]);this[_0x4be084(0xfa)]['log']('Have\x20to\x20update\x20%d\x20files',this[_0x4be084(0x111)][_0x4be084(0x107)]);while(_0x49e526[_0x4be084(0x107)]){const _0x4eb0f9=_0x49e526[_0x4be084(0xdf)](0x0,this[_0x4be084(0xe9)]);for(const _0x150e75 of _0x4eb0f9){await fs_internal_1['FS'][_0x4be084(0x11d)](path_1[_0x4be084(0xde)][_0x4be084(0x110)](this[_0x4be084(0xfe)],_0x150e75),xml_v2_1['XmlV2']['convertToString'](this['parentComponents'][_0x150e75]));}}this[_0x4be084(0x11c)]={};}}exports['MDApiRemover']=MDApiRemover;