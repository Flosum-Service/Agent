const a257_0x5f1792=a257_0x4fd3;function a257_0x4fd3(_0x1299ad,_0x1e7b67){const _0x54ac32=a257_0xd662();return a257_0x4fd3=function(_0x333f81,_0x491b7b){_0x333f81=_0x333f81-0x1b6;let _0xd662a0=_0x54ac32[_0x333f81];return _0xd662a0;},a257_0x4fd3(_0x1299ad,_0x1e7b67);}(function(_0x3fc7d7,_0xf7fab4){const _0x5339f0=a257_0x4fd3,_0x3ba619=_0x3fc7d7();while(!![]){try{const _0x538b84=-parseInt(_0x5339f0(0x1e1))/0x1*(parseInt(_0x5339f0(0x1ca))/0x2)+-parseInt(_0x5339f0(0x1db))/0x3*(parseInt(_0x5339f0(0x1eb))/0x4)+parseInt(_0x5339f0(0x1d6))/0x5*(parseInt(_0x5339f0(0x1d1))/0x6)+parseInt(_0x5339f0(0x1cb))/0x7+parseInt(_0x5339f0(0x1c3))/0x8+-parseInt(_0x5339f0(0x1d3))/0x9+parseInt(_0x5339f0(0x1d5))/0xa*(parseInt(_0x5339f0(0x1e7))/0xb);if(_0x538b84===_0xf7fab4)break;else _0x3ba619['push'](_0x3ba619['shift']());}catch(_0x41786f){_0x3ba619['push'](_0x3ba619['shift']());}}}(a257_0xd662,0x38d62));const a257_0x491b7b=(function(){let _0x5c7773=!![];return function(_0x332978,_0x46fb7b){const _0xf991c6=_0x5c7773?function(){const _0x56b2f4=a257_0x4fd3;if(_0x46fb7b){const _0x5e1c6e=_0x46fb7b[_0x56b2f4(0x1c5)](_0x332978,arguments);return _0x46fb7b=null,_0x5e1c6e;}}:function(){};return _0x5c7773=![],_0xf991c6;};}()),a257_0x333f81=a257_0x491b7b(this,function(){const _0x5c6c53=a257_0x4fd3;return a257_0x333f81['toString']()[_0x5c6c53(0x1bd)](_0x5c6c53(0x1c6))[_0x5c6c53(0x1dd)]()[_0x5c6c53(0x1d8)](a257_0x333f81)[_0x5c6c53(0x1bd)]('(((.+)+)+)+$');});a257_0x333f81();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5e6413){return _0x5e6413&&_0x5e6413['__esModule']?_0x5e6413:{'default':_0x5e6413};};Object['defineProperty'](exports,a257_0x5f1792(0x1cc),{'value':!![]}),exports[a257_0x5f1792(0x1f0)]=void 0x0;const fs_internal_1=require(a257_0x5f1792(0x1e8)),xml_v2_1=require(a257_0x5f1792(0x1d0)),child_types_1=__importDefault(require(a257_0x5f1792(0x1d9))),child_types_map_1=__importDefault(require('../parsers/data/child-types-map')),path_1=__importDefault(require(a257_0x5f1792(0x1dc))),base_remover_1=require('./base.remover');class MDApiRemover extends base_remover_1[a257_0x5f1792(0x1e5)]{constructor({components:_0xce0f45,sourceDir:_0x4b180b}){const _0x8c4301=a257_0x5f1792;super({'sourceDir':_0x4b180b,'components':_0xce0f45},MDApiRemover['name']),this[_0x8c4301(0x1c1)]='-meta.xml',this[_0x8c4301(0x1be)]=_0x8c4301(0x1ec),this[_0x8c4301(0x1f1)]=0x64,this['parentComponents']={};}async[a257_0x5f1792(0x1cd)](_0x1775e7){const _0x7fbf15=a257_0x5f1792,_0x37faaa=path_1['default']['join'](this[_0x7fbf15(0x1ed)],_0x1775e7[_0x7fbf15(0x1dc)]),_0x2e4ab0=path_1[_0x7fbf15(0x1e3)][_0x7fbf15(0x1c4)](this['sourceDir'],''+_0x1775e7[_0x7fbf15(0x1dc)]+this[_0x7fbf15(0x1c1)]);this['parentComponents'][_0x1775e7[_0x7fbf15(0x1dc)]]&&delete this[_0x7fbf15(0x1c2)][_0x1775e7[_0x7fbf15(0x1dc)]];const _0x843334=await fs_internal_1['FS']['isDir'](_0x37faaa)[_0x7fbf15(0x1bf)](()=>![]);if(_0x843334){this[_0x7fbf15(0x1c7)][_0x7fbf15(0x1c9)](_0x7fbf15(0x1df),_0x37faaa,_0x1775e7[_0x7fbf15(0x1bb)]),await fs_internal_1['FS'][_0x7fbf15(0x1ba)](_0x37faaa);_0x1775e7[_0x7fbf15(0x1bb)]===_0x7fbf15(0x1d4)?await fs_internal_1['FS'][_0x7fbf15(0x1de)](''+_0x37faaa+this[_0x7fbf15(0x1be)])[_0x7fbf15(0x1bf)](()=>void 0x0):(this['logger'][_0x7fbf15(0x1c9)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x37faaa,_0x1775e7['type']),await fs_internal_1['FS']['removeFile'](''+_0x37faaa+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x7fbf15(0x1c7)][_0x7fbf15(0x1c9)](_0x7fbf15(0x1d7),_0x37faaa,_0x1775e7[_0x7fbf15(0x1bb)]),await Promise[_0x7fbf15(0x1e0)]([fs_internal_1['FS'][_0x7fbf15(0x1de)](_0x37faaa),fs_internal_1['FS']['removeFile'](_0x2e4ab0)]);}async[a257_0x5f1792(0x1c8)](_0x438631){const _0x16d036=a257_0x5f1792,{fileName:_0xb8f763,type:_0x5da5ab,path:_0x4eeb88}=_0x438631,_0x5e37cf=child_types_map_1['default'][_0x5da5ab];if(!_0x5e37cf)throw new Error(_0x16d036(0x1cf)+_0x5da5ab);if(!this[_0x16d036(0x1c2)][_0x4eeb88]){const _0x56a4a4=path_1['default'][_0x16d036(0x1c4)](this[_0x16d036(0x1ed)],_0x4eeb88),_0x4e7433=await fs_internal_1['FS'][_0x16d036(0x1f3)](_0x56a4a4);if(!_0x4e7433)return;const _0x4c87ac=await fs_internal_1['FS'][_0x16d036(0x1e2)](_0x56a4a4);this[_0x16d036(0x1c2)][_0x4eeb88]=await xml_v2_1['XmlV2'][_0x16d036(0x1bc)](_0x4c87ac);}const _0x32effa=this[_0x16d036(0x1c2)][_0x4eeb88],_0x51cd13=_0xb8f763[_0x16d036(0x1b7)]('.')['pop']();xml_v2_1[_0x16d036(0x1ee)][_0x16d036(0x1b9)](_0x32effa,_0x5e37cf,_0x51cd13||_0xb8f763),xml_v2_1[_0x16d036(0x1ee)][_0x16d036(0x1b6)](_0x32effa)?(this[_0x16d036(0x1c7)][_0x16d036(0x1c9)](_0x16d036(0x1e9),_0x438631[_0x16d036(0x1dc)],_0x438631[_0x16d036(0x1e6)]),await this[_0x16d036(0x1cd)](_0x438631),delete this[_0x16d036(0x1c2)][_0x4eeb88]):this[_0x16d036(0x1c2)][_0x4eeb88]=_0x32effa;}async[a257_0x5f1792(0x1ef)](){const _0x58f694=a257_0x5f1792;!await fs_internal_1['FS'][_0x58f694(0x1f3)](this[_0x58f694(0x1ed)])&&await fs_internal_1['FS'][_0x58f694(0x1d2)](this[_0x58f694(0x1ed)]);for(const _0x477acb of this['components']){!child_types_1[_0x58f694(0x1e3)]['includes'](_0x477acb[_0x58f694(0x1bb)])?(this[_0x58f694(0x1c7)][_0x58f694(0x1c9)](_0x58f694(0x1ea),_0x477acb[_0x58f694(0x1e6)],_0x477acb[_0x58f694(0x1bb)]),await this['removeParent'](_0x477acb)):(this[_0x58f694(0x1c7)][_0x58f694(0x1c9)](_0x58f694(0x1f4),_0x477acb[_0x58f694(0x1e6)],_0x477acb[_0x58f694(0x1bb)]),await this['removeChild'](_0x477acb));}const _0x36548d=Object[_0x58f694(0x1f2)](this[_0x58f694(0x1c2)]);this[_0x58f694(0x1c7)][_0x58f694(0x1c9)]('Have\x20to\x20update\x20%d\x20files',this[_0x58f694(0x1c0)][_0x58f694(0x1ce)]);while(_0x36548d[_0x58f694(0x1ce)]){const _0x2aab5e=_0x36548d[_0x58f694(0x1e4)](0x0,this[_0x58f694(0x1f1)]);for(const _0x79f58b of _0x2aab5e){await fs_internal_1['FS'][_0x58f694(0x1b8)](path_1[_0x58f694(0x1e3)][_0x58f694(0x1c4)](this['sourceDir'],_0x79f58b),xml_v2_1[_0x58f694(0x1ee)][_0x58f694(0x1da)](this[_0x58f694(0x1c2)][_0x79f58b]));}}this['parentComponents']={};}}function a257_0xd662(){const _0x3b8f16=['fileName','2266jbpfkW','../internal/fs.internal','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','Remove\x20parent\x20component\x20%s\x20[%s]','1048yAxXaY','site-meta.xml','sourceDir','XmlV2','execute','MDApiRemover','MAX_WRITES_PER_TICK','keys','exists','Remove\x20child\x20component\x20%s\x20[%s]','isEmptyXml','split','writeFile','removeAt','removeDir','type','parse','search','META_EXPERIENCE_BUNDLE','catch','components','META_EXTENSION','parentComponents','3118048GHSQxV','join','apply','(((.+)+)+)+$','logger','removeChild','log','499934LjxtBM','86072MubYug','__esModule','removeParent','length','Unknown\x20child\x20type\x20','../parsers/utils/xml-v2','6ByTaDz','makeDir','3780693UVzGQj','ExperienceBundle','31880oBCxUf','1187950fyvdMZ','Remove\x20component\x20\x20%s\x20[%s]','constructor','../parsers/data/child-types','convertToString','4506eUsqTm','path','toString','removeFile','Remove\x20component\x20directory\x20%s\x20[%s]','all','1EwdAmd','readFile','default','splice','BaseRemover'];a257_0xd662=function(){return _0x3b8f16;};return a257_0xd662();}exports[a257_0x5f1792(0x1f0)]=MDApiRemover;