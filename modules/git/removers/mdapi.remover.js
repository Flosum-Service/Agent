const a258_0xa8428a=a258_0x446c;(function(_0x4ba5b3,_0x51398f){const _0x2d2618=a258_0x446c,_0x39f1bd=_0x4ba5b3();while(!![]){try{const _0x49025a=-parseInt(_0x2d2618(0x179))/0x1*(parseInt(_0x2d2618(0x182))/0x2)+parseInt(_0x2d2618(0x177))/0x3+-parseInt(_0x2d2618(0x175))/0x4*(parseInt(_0x2d2618(0x176))/0x5)+parseInt(_0x2d2618(0x17d))/0x6*(-parseInt(_0x2d2618(0x198))/0x7)+-parseInt(_0x2d2618(0x194))/0x8+-parseInt(_0x2d2618(0x1a0))/0x9*(-parseInt(_0x2d2618(0x189))/0xa)+parseInt(_0x2d2618(0x178))/0xb;if(_0x49025a===_0x51398f)break;else _0x39f1bd['push'](_0x39f1bd['shift']());}catch(_0x18c697){_0x39f1bd['push'](_0x39f1bd['shift']());}}}(a258_0x2688,0x3a078));const a258_0x1fbf81=(function(){let _0x2745f3=!![];return function(_0x2b78cc,_0x247946){const _0x2f4caf=_0x2745f3?function(){if(_0x247946){const _0x218f9b=_0x247946['apply'](_0x2b78cc,arguments);return _0x247946=null,_0x218f9b;}}:function(){};return _0x2745f3=![],_0x2f4caf;};}()),a258_0x2b8b1f=a258_0x1fbf81(this,function(){const _0x212255=a258_0x446c;return a258_0x2b8b1f[_0x212255(0x1a5)]()[_0x212255(0x188)](_0x212255(0x190))[_0x212255(0x1a5)]()[_0x212255(0x17b)](a258_0x2b8b1f)['search'](_0x212255(0x190));});function a258_0x446c(_0x144914,_0x3b395b){const _0x582043=a258_0x2688();return a258_0x446c=function(_0x2b8b1f,_0x1fbf81){_0x2b8b1f=_0x2b8b1f-0x174;let _0x268893=_0x582043[_0x2b8b1f];return _0x268893;},a258_0x446c(_0x144914,_0x3b395b);}a258_0x2b8b1f();'use strict';var __importDefault=this&&this[a258_0xa8428a(0x187)]||function(_0x295977){const _0x1a30b5=a258_0xa8428a;return _0x295977&&_0x295977[_0x1a30b5(0x18d)]?_0x295977:{'default':_0x295977};};Object[a258_0xa8428a(0x1ad)](exports,a258_0xa8428a(0x18d),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a258_0xa8428a(0x1a2)),xml_v2_1=require(a258_0xa8428a(0x18a)),child_types_1=__importDefault(require(a258_0xa8428a(0x1a9))),child_types_map_1=__importDefault(require('../parsers/data/child-types-map')),path_1=__importDefault(require(a258_0xa8428a(0x18f))),base_remover_1=require('./base.remover');class MDApiRemover extends base_remover_1[a258_0xa8428a(0x1af)]{constructor({components:_0x3fd7f9,sourceDir:_0x197af1}){const _0x237ad7=a258_0xa8428a;super({'sourceDir':_0x197af1,'components':_0x3fd7f9},MDApiRemover['name']),this[_0x237ad7(0x18c)]=_0x237ad7(0x184),this[_0x237ad7(0x19d)]=_0x237ad7(0x195),this['MAX_WRITES_PER_TICK']=0x64,this[_0x237ad7(0x183)]={};}async[a258_0xa8428a(0x174)](_0xe6f57b){const _0x32a836=a258_0xa8428a,_0x3efc6d=path_1['default'][_0x32a836(0x19e)](this[_0x32a836(0x17c)],_0xe6f57b[_0x32a836(0x18f)]),_0x334835=path_1[_0x32a836(0x1aa)][_0x32a836(0x19e)](this[_0x32a836(0x17c)],''+_0xe6f57b[_0x32a836(0x18f)]+this[_0x32a836(0x18c)]);this['parentComponents'][_0xe6f57b[_0x32a836(0x18f)]]&&delete this[_0x32a836(0x183)][_0xe6f57b[_0x32a836(0x18f)]];const _0x5b2b6c=await fs_internal_1['FS'][_0x32a836(0x18e)](_0x3efc6d)[_0x32a836(0x191)](()=>![]);if(_0x5b2b6c){this['logger'][_0x32a836(0x1a3)]('Remove\x20component\x20directory\x20%s\x20[%s]',_0x3efc6d,_0xe6f57b[_0x32a836(0x1a1)]),await fs_internal_1['FS']['removeDir'](_0x3efc6d);_0xe6f57b['type']===_0x32a836(0x19c)?await fs_internal_1['FS'][_0x32a836(0x192)](''+_0x3efc6d+this[_0x32a836(0x19d)])[_0x32a836(0x191)](()=>void 0x0):(this[_0x32a836(0x19a)]['log'](_0x32a836(0x1ab),_0x3efc6d,_0xe6f57b[_0x32a836(0x1a1)]),await fs_internal_1['FS'][_0x32a836(0x192)](''+_0x3efc6d+this[_0x32a836(0x18c)])[_0x32a836(0x191)](()=>void 0x0));return;}this[_0x32a836(0x19a)]['log'](_0x32a836(0x197),_0x3efc6d,_0xe6f57b['type']),await Promise[_0x32a836(0x17f)]([fs_internal_1['FS'][_0x32a836(0x192)](_0x3efc6d),fs_internal_1['FS'][_0x32a836(0x192)](_0x334835)]);}async[a258_0xa8428a(0x1a4)](_0x2ade36){const _0x450380=a258_0xa8428a,{fileName:_0x41e216,type:_0x35f23e,path:_0x3d1417}=_0x2ade36,_0xc24c45=child_types_map_1[_0x450380(0x1aa)][_0x35f23e];if(!_0xc24c45)throw new Error(_0x450380(0x18b)+_0x35f23e);if(!this[_0x450380(0x183)][_0x3d1417]){const _0xe84170=path_1[_0x450380(0x1aa)][_0x450380(0x19e)](this[_0x450380(0x17c)],_0x3d1417),_0x421a97=await fs_internal_1['FS'][_0x450380(0x1a8)](_0xe84170);if(!_0x421a97)return;const _0x90ee52=await fs_internal_1['FS']['readFile'](_0xe84170);this[_0x450380(0x183)][_0x3d1417]=await xml_v2_1[_0x450380(0x185)][_0x450380(0x1a6)](_0x90ee52);}const _0x4f6040=this[_0x450380(0x183)][_0x3d1417],_0x3e94b3=_0x41e216[_0x450380(0x17a)]('.')[_0x450380(0x19b)]();xml_v2_1['XmlV2'][_0x450380(0x17e)](_0x4f6040,_0xc24c45,_0x3e94b3||_0x41e216),xml_v2_1['XmlV2'][_0x450380(0x1ac)](_0x4f6040)?(this[_0x450380(0x19a)][_0x450380(0x1a3)]('Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x2ade36['path'],_0x2ade36[_0x450380(0x181)]),await this[_0x450380(0x174)](_0x2ade36),delete this['parentComponents'][_0x3d1417]):this['parentComponents'][_0x3d1417]=_0x4f6040;}async['execute'](){const _0x5032e2=a258_0xa8428a;!await fs_internal_1['FS'][_0x5032e2(0x1a8)](this[_0x5032e2(0x17c)])&&await fs_internal_1['FS'][_0x5032e2(0x199)](this[_0x5032e2(0x17c)]);for(const _0x5f0639 of this[_0x5032e2(0x186)]){!child_types_1[_0x5032e2(0x1aa)][_0x5032e2(0x196)](_0x5f0639[_0x5032e2(0x1a1)])?(this[_0x5032e2(0x19a)][_0x5032e2(0x1a3)](_0x5032e2(0x193),_0x5f0639[_0x5032e2(0x181)],_0x5f0639[_0x5032e2(0x1a1)]),await this[_0x5032e2(0x174)](_0x5f0639)):(this[_0x5032e2(0x19a)][_0x5032e2(0x1a3)](_0x5032e2(0x180),_0x5f0639['fileName'],_0x5f0639[_0x5032e2(0x1a1)]),await this['removeChild'](_0x5f0639));}const _0x183736=Object['keys'](this[_0x5032e2(0x183)]);this[_0x5032e2(0x19a)][_0x5032e2(0x1a3)]('Have\x20to\x20update\x20%d\x20files',this['components'][_0x5032e2(0x19f)]);while(_0x183736[_0x5032e2(0x19f)]){const _0x3045a0=_0x183736[_0x5032e2(0x1a7)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x5d460b of _0x3045a0){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x5032e2(0x19e)](this[_0x5032e2(0x17c)],_0x5d460b),xml_v2_1[_0x5032e2(0x185)][_0x5032e2(0x1ae)](this[_0x5032e2(0x183)][_0x5d460b]));}}this['parentComponents']={};}}function a258_0x2688(){const _0x5a15b9=['../parsers/data/child-types','default','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','isEmptyXml','defineProperty','convertToString','BaseRemover','removeParent','112lqJTlH','54830vCSzbw','1238646TUTAug','9542951HaEtQY','2uPLAIA','split','constructor','sourceDir','6NYENbb','removeAt','all','Remove\x20child\x20component\x20%s\x20[%s]','fileName','202666jaYnXw','parentComponents','-meta.xml','XmlV2','components','__importDefault','search','19990PrwPKU','../parsers/utils/xml-v2','Unknown\x20child\x20type\x20','META_EXTENSION','__esModule','isDir','path','(((.+)+)+)+$','catch','removeFile','Remove\x20parent\x20component\x20%s\x20[%s]','3028736OXnbEa','site-meta.xml','includes','Remove\x20component\x20\x20%s\x20[%s]','1094996OdyXhx','makeDir','logger','pop','ExperienceBundle','META_EXPERIENCE_BUNDLE','join','length','9dFcoBt','type','../internal/fs.internal','log','removeChild','toString','parse','splice','exists'];a258_0x2688=function(){return _0x5a15b9;};return a258_0x2688();}exports['MDApiRemover']=MDApiRemover;