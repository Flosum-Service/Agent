const a247_0x534276=a247_0x3af2;(function(_0x9c6a4c,_0x48c948){const _0x338ebc=a247_0x3af2,_0x1b9db1=_0x9c6a4c();while(!![]){try{const _0x410e60=parseInt(_0x338ebc(0x1eb))/0x1*(parseInt(_0x338ebc(0x1ee))/0x2)+parseInt(_0x338ebc(0x1ec))/0x3+-parseInt(_0x338ebc(0x1fa))/0x4+-parseInt(_0x338ebc(0x207))/0x5*(-parseInt(_0x338ebc(0x201))/0x6)+parseInt(_0x338ebc(0x1e7))/0x7+parseInt(_0x338ebc(0x21d))/0x8*(parseInt(_0x338ebc(0x21e))/0x9)+-parseInt(_0x338ebc(0x1e6))/0xa*(parseInt(_0x338ebc(0x1f7))/0xb);if(_0x410e60===_0x48c948)break;else _0x1b9db1['push'](_0x1b9db1['shift']());}catch(_0x2ceccb){_0x1b9db1['push'](_0x1b9db1['shift']());}}}(a247_0x1fbe,0xee81c));const a247_0x38ba4a=(function(){let _0x2e16e4=!![];return function(_0x19a67e,_0x32edec){const _0x5b90e2=_0x2e16e4?function(){const _0x4df404=a247_0x3af2;if(_0x32edec){const _0x5a7fbf=_0x32edec[_0x4df404(0x220)](_0x19a67e,arguments);return _0x32edec=null,_0x5a7fbf;}}:function(){};return _0x2e16e4=![],_0x5b90e2;};}()),a247_0xcb9f86=a247_0x38ba4a(this,function(){const _0x1ba151=a247_0x3af2;return a247_0xcb9f86[_0x1ba151(0x1f4)]()[_0x1ba151(0x1f9)](_0x1ba151(0x218))[_0x1ba151(0x1f4)]()[_0x1ba151(0x221)](a247_0xcb9f86)[_0x1ba151(0x1f9)]('(((.+)+)+)+$');});a247_0xcb9f86();function a247_0x1fbe(){const _0x44989a=['Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','site-meta.xml','11706056baQNoM','9uSixdE','readFile','apply','constructor','join','../internal/fs.internal','MAX_WRITES_PER_TICK','exists','../parsers/utils/xml-v2','ExperienceBundle','40KPaKrT','11804660obarxY','includes','all','removeParent','2074ZxZdOp','1903797xIkfwa','-meta.xml','686NFnhcA','removeChild','removeFile','MDApiRemover','logger','isDir','toString','__esModule','parse','10054275ytgxXd','defineProperty','search','2289708NYTmYc','Remove\x20child\x20component\x20%s\x20[%s]','sourceDir','removeDir','components','../parsers/data/child-types-map','META_EXPERIENCE_BUNDLE','146862VQblJV','makeDir','type','parentComponents','Remove\x20component\x20\x20%s\x20[%s]','convertToString','145cMdXsP','META_EXTENSION','./base.remover','writeFile','execute','length','default','split','Remove\x20parent\x20component\x20%s\x20[%s]','XmlV2','removeAt','log','pop','path','__importDefault','catch','fileName','(((.+)+)+)+$','Remove\x20component\x20directory\x20%s\x20[%s]','splice'];a247_0x1fbe=function(){return _0x44989a;};return a247_0x1fbe();}'use strict';var __importDefault=this&&this[a247_0x534276(0x215)]||function(_0x1725cb){const _0x4efbee=a247_0x534276;return _0x1725cb&&_0x1725cb[_0x4efbee(0x1f5)]?_0x1725cb:{'default':_0x1725cb};};function a247_0x3af2(_0x482481,_0x5aecf2){const _0x3e5eb9=a247_0x1fbe();return a247_0x3af2=function(_0xcb9f86,_0x38ba4a){_0xcb9f86=_0xcb9f86-0x1e1;let _0x1fbe6c=_0x3e5eb9[_0xcb9f86];return _0x1fbe6c;},a247_0x3af2(_0x482481,_0x5aecf2);}Object[a247_0x534276(0x1f8)](exports,a247_0x534276(0x1f5),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a247_0x534276(0x1e1)),xml_v2_1=require(a247_0x534276(0x1e4)),child_types_1=__importDefault(require('../parsers/data/child-types')),child_types_map_1=__importDefault(require(a247_0x534276(0x1ff))),path_1=__importDefault(require('path')),base_remover_1=require(a247_0x534276(0x209));class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x2683c0,sourceDir:_0x146a30}){const _0x30a8b7=a247_0x534276;super({'sourceDir':_0x146a30,'components':_0x2683c0},MDApiRemover['name']),this[_0x30a8b7(0x208)]=_0x30a8b7(0x1ed),this[_0x30a8b7(0x200)]=_0x30a8b7(0x21c),this['MAX_WRITES_PER_TICK']=0x64,this[_0x30a8b7(0x204)]={};}async[a247_0x534276(0x1ea)](_0x5dc6e3){const _0x122b47=a247_0x534276,_0x4e3d9f=path_1[_0x122b47(0x20d)][_0x122b47(0x222)](this['sourceDir'],_0x5dc6e3[_0x122b47(0x214)]),_0x16874a=path_1[_0x122b47(0x20d)][_0x122b47(0x222)](this[_0x122b47(0x1fc)],''+_0x5dc6e3[_0x122b47(0x214)]+this[_0x122b47(0x208)]);this[_0x122b47(0x204)][_0x5dc6e3[_0x122b47(0x214)]]&&delete this[_0x122b47(0x204)][_0x5dc6e3[_0x122b47(0x214)]];const _0x26141b=await fs_internal_1['FS'][_0x122b47(0x1f3)](_0x4e3d9f)['catch'](()=>![]);if(_0x26141b){this[_0x122b47(0x1f2)][_0x122b47(0x212)](_0x122b47(0x219),_0x4e3d9f,_0x5dc6e3[_0x122b47(0x203)]),await fs_internal_1['FS'][_0x122b47(0x1fd)](_0x4e3d9f);_0x5dc6e3[_0x122b47(0x203)]===_0x122b47(0x1e5)?await fs_internal_1['FS'][_0x122b47(0x1f0)](''+_0x4e3d9f+this['META_EXPERIENCE_BUNDLE'])[_0x122b47(0x216)](()=>void 0x0):(this[_0x122b47(0x1f2)][_0x122b47(0x212)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x4e3d9f,_0x5dc6e3[_0x122b47(0x203)]),await fs_internal_1['FS'][_0x122b47(0x1f0)](''+_0x4e3d9f+this[_0x122b47(0x208)])[_0x122b47(0x216)](()=>void 0x0));return;}this[_0x122b47(0x1f2)]['log'](_0x122b47(0x205),_0x4e3d9f,_0x5dc6e3[_0x122b47(0x203)]),await Promise[_0x122b47(0x1e9)]([fs_internal_1['FS'][_0x122b47(0x1f0)](_0x4e3d9f),fs_internal_1['FS'][_0x122b47(0x1f0)](_0x16874a)]);}async['removeChild'](_0x3d61b5){const _0x59ed6b=a247_0x534276,{fileName:_0xee703,type:_0x46def5,path:_0x5a6306}=_0x3d61b5,_0x4fe564=child_types_map_1['default'][_0x46def5];if(!_0x4fe564)throw new Error('Unknown\x20child\x20type\x20'+_0x46def5);if(!this[_0x59ed6b(0x204)][_0x5a6306]){const _0x1dae30=path_1[_0x59ed6b(0x20d)][_0x59ed6b(0x222)](this['sourceDir'],_0x5a6306),_0x5e080d=await fs_internal_1['FS'][_0x59ed6b(0x1e3)](_0x1dae30);if(!_0x5e080d)return;const _0x47e4a1=await fs_internal_1['FS'][_0x59ed6b(0x21f)](_0x1dae30);this[_0x59ed6b(0x204)][_0x5a6306]=await xml_v2_1[_0x59ed6b(0x210)][_0x59ed6b(0x1f6)](_0x47e4a1);}const _0x5e5594=this[_0x59ed6b(0x204)][_0x5a6306],_0x28965b=_0xee703[_0x59ed6b(0x20e)]('.')[_0x59ed6b(0x213)]();xml_v2_1[_0x59ed6b(0x210)][_0x59ed6b(0x211)](_0x5e5594,_0x4fe564,_0x28965b||_0xee703),xml_v2_1[_0x59ed6b(0x210)]['isEmptyXml'](_0x5e5594)?(this['logger'][_0x59ed6b(0x212)](_0x59ed6b(0x21b),_0x3d61b5['path'],_0x3d61b5[_0x59ed6b(0x217)]),await this[_0x59ed6b(0x1ea)](_0x3d61b5),delete this['parentComponents'][_0x5a6306]):this[_0x59ed6b(0x204)][_0x5a6306]=_0x5e5594;}async[a247_0x534276(0x20b)](){const _0x418a80=a247_0x534276;!await fs_internal_1['FS']['exists'](this[_0x418a80(0x1fc)])&&await fs_internal_1['FS'][_0x418a80(0x202)](this[_0x418a80(0x1fc)]);for(const _0x106193 of this['components']){!child_types_1[_0x418a80(0x20d)][_0x418a80(0x1e8)](_0x106193[_0x418a80(0x203)])?(this[_0x418a80(0x1f2)][_0x418a80(0x212)](_0x418a80(0x20f),_0x106193[_0x418a80(0x217)],_0x106193[_0x418a80(0x203)]),await this['removeParent'](_0x106193)):(this[_0x418a80(0x1f2)]['log'](_0x418a80(0x1fb),_0x106193[_0x418a80(0x217)],_0x106193[_0x418a80(0x203)]),await this[_0x418a80(0x1ef)](_0x106193));}const _0x2a0bc9=Object['keys'](this['parentComponents']);this[_0x418a80(0x1f2)][_0x418a80(0x212)]('Have\x20to\x20update\x20%d\x20files',this[_0x418a80(0x1fe)][_0x418a80(0x20c)]);while(_0x2a0bc9['length']){const _0xf3d522=_0x2a0bc9[_0x418a80(0x21a)](0x0,this[_0x418a80(0x1e2)]);for(const _0x454aac of _0xf3d522){await fs_internal_1['FS'][_0x418a80(0x20a)](path_1[_0x418a80(0x20d)][_0x418a80(0x222)](this[_0x418a80(0x1fc)],_0x454aac),xml_v2_1['XmlV2'][_0x418a80(0x206)](this[_0x418a80(0x204)][_0x454aac]));}}this[_0x418a80(0x204)]={};}}exports[a247_0x534276(0x1f1)]=MDApiRemover;