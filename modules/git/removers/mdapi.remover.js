const a256_0x41016f=a256_0x5a09;(function(_0x4a2a8d,_0x25bcb5){const _0x5cb1de=a256_0x5a09,_0x214d9a=_0x4a2a8d();while(!![]){try{const _0x5e64df=-parseInt(_0x5cb1de(0x202))/0x1*(parseInt(_0x5cb1de(0x22d))/0x2)+-parseInt(_0x5cb1de(0x215))/0x3*(parseInt(_0x5cb1de(0x212))/0x4)+parseInt(_0x5cb1de(0x21b))/0x5+parseInt(_0x5cb1de(0x217))/0x6+parseInt(_0x5cb1de(0x20b))/0x7+-parseInt(_0x5cb1de(0x1f9))/0x8*(-parseInt(_0x5cb1de(0x22a))/0x9)+parseInt(_0x5cb1de(0x225))/0xa*(-parseInt(_0x5cb1de(0x221))/0xb);if(_0x5e64df===_0x25bcb5)break;else _0x214d9a['push'](_0x214d9a['shift']());}catch(_0x53c271){_0x214d9a['push'](_0x214d9a['shift']());}}}(a256_0x1693,0x1c5a9));function a256_0x5a09(_0x2be973,_0x50a328){const _0x2935c6=a256_0x1693();return a256_0x5a09=function(_0x1d8d1b,_0x5d5ac7){_0x1d8d1b=_0x1d8d1b-0x1ee;let _0x1693ae=_0x2935c6[_0x1d8d1b];return _0x1693ae;},a256_0x5a09(_0x2be973,_0x50a328);}const a256_0x5d5ac7=(function(){let _0x330eae=!![];return function(_0x4b5348,_0x166ee5){const _0x3be9bb=_0x330eae?function(){const _0x54de3a=a256_0x5a09;if(_0x166ee5){const _0x43fb5b=_0x166ee5[_0x54de3a(0x1fd)](_0x4b5348,arguments);return _0x166ee5=null,_0x43fb5b;}}:function(){};return _0x330eae=![],_0x3be9bb;};}()),a256_0x1d8d1b=a256_0x5d5ac7(this,function(){const _0x227e42=a256_0x5a09;return a256_0x1d8d1b['toString']()[_0x227e42(0x205)](_0x227e42(0x1f7))[_0x227e42(0x20f)]()[_0x227e42(0x226)](a256_0x1d8d1b)['search'](_0x227e42(0x1f7));});a256_0x1d8d1b();'use strict';function a256_0x1693(){const _0x409259=['fileName','log','META_EXTENSION','-meta.xml','(((.+)+)+)+$','components','72rgOybu','./base.remover','removeParent','type','apply','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isEmptyXml','../internal/fs.internal','all','87463AyulQe','catch','Remove\x20child\x20component\x20%s\x20[%s]','search','sourceDir','../parsers/data/child-types','join','split','pop','1107659fDtbIL','BaseRemover','keys','removeFile','toString','../parsers/utils/xml-v2','defineProperty','3448hrKHSd','META_EXPERIENCE_BUNDLE','Unknown\x20child\x20type\x20','381TVwadA','../parsers/data/child-types-map','837402NJuqsS','logger','removeAt','removeChild','759405kjlJjW','readFile','isDir','default','writeFile','exists','297YqWrvX','convertToString','site-meta.xml','execute','54600MJIWjn','constructor','__importDefault','parentComponents','path','10809HIZEIK','length','Have\x20to\x20update\x20%d\x20files','2uTCCdC','name','Remove\x20component\x20directory\x20%s\x20[%s]','parse','__esModule','includes','MDApiRemover','MAX_WRITES_PER_TICK','XmlV2'];a256_0x1693=function(){return _0x409259;};return a256_0x1693();}var __importDefault=this&&this[a256_0x41016f(0x227)]||function(_0x402902){const _0xe9716e=a256_0x41016f;return _0x402902&&_0x402902[_0xe9716e(0x1ee)]?_0x402902:{'default':_0x402902};};Object[a256_0x41016f(0x211)](exports,'__esModule',{'value':!![]}),exports[a256_0x41016f(0x1f0)]=void 0x0;const fs_internal_1=require(a256_0x41016f(0x200)),xml_v2_1=require(a256_0x41016f(0x210)),child_types_1=__importDefault(require(a256_0x41016f(0x207))),child_types_map_1=__importDefault(require(a256_0x41016f(0x216))),path_1=__importDefault(require(a256_0x41016f(0x229))),base_remover_1=require(a256_0x41016f(0x1fa));class MDApiRemover extends base_remover_1[a256_0x41016f(0x20c)]{constructor({components:_0x51d5f0,sourceDir:_0x216f89}){const _0x4f47ce=a256_0x41016f;super({'sourceDir':_0x216f89,'components':_0x51d5f0},MDApiRemover[_0x4f47ce(0x22e)]),this[_0x4f47ce(0x1f5)]=_0x4f47ce(0x1f6),this[_0x4f47ce(0x213)]=_0x4f47ce(0x223),this[_0x4f47ce(0x1f1)]=0x64,this[_0x4f47ce(0x228)]={};}async[a256_0x41016f(0x1fb)](_0x3738c6){const _0x46cadf=a256_0x41016f,_0x1be18f=path_1[_0x46cadf(0x21e)]['join'](this[_0x46cadf(0x206)],_0x3738c6[_0x46cadf(0x229)]),_0x4e6a04=path_1[_0x46cadf(0x21e)][_0x46cadf(0x208)](this[_0x46cadf(0x206)],''+_0x3738c6[_0x46cadf(0x229)]+this['META_EXTENSION']);this[_0x46cadf(0x228)][_0x3738c6[_0x46cadf(0x229)]]&&delete this[_0x46cadf(0x228)][_0x3738c6[_0x46cadf(0x229)]];const _0x32aee8=await fs_internal_1['FS'][_0x46cadf(0x21d)](_0x1be18f)[_0x46cadf(0x203)](()=>![]);if(_0x32aee8){this['logger'][_0x46cadf(0x1f4)](_0x46cadf(0x22f),_0x1be18f,_0x3738c6[_0x46cadf(0x1fc)]),await fs_internal_1['FS']['removeDir'](_0x1be18f);_0x3738c6['type']==='ExperienceBundle'?await fs_internal_1['FS']['removeFile'](''+_0x1be18f+this[_0x46cadf(0x213)])['catch'](()=>void 0x0):(this['logger']['log']('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x1be18f,_0x3738c6[_0x46cadf(0x1fc)]),await fs_internal_1['FS'][_0x46cadf(0x20e)](''+_0x1be18f+this[_0x46cadf(0x1f5)])[_0x46cadf(0x203)](()=>void 0x0));return;}this['logger']['log']('Remove\x20component\x20\x20%s\x20[%s]',_0x1be18f,_0x3738c6[_0x46cadf(0x1fc)]),await Promise[_0x46cadf(0x201)]([fs_internal_1['FS']['removeFile'](_0x1be18f),fs_internal_1['FS'][_0x46cadf(0x20e)](_0x4e6a04)]);}async[a256_0x41016f(0x21a)](_0xb70382){const _0x336129=a256_0x41016f,{fileName:_0x521f56,type:_0x5f0aa1,path:_0xfbfc0e}=_0xb70382,_0x19428a=child_types_map_1[_0x336129(0x21e)][_0x5f0aa1];if(!_0x19428a)throw new Error(_0x336129(0x214)+_0x5f0aa1);if(!this[_0x336129(0x228)][_0xfbfc0e]){const _0x382aec=path_1['default'][_0x336129(0x208)](this['sourceDir'],_0xfbfc0e),_0x3fd85b=await fs_internal_1['FS'][_0x336129(0x220)](_0x382aec);if(!_0x3fd85b)return;const _0x4c357c=await fs_internal_1['FS'][_0x336129(0x21c)](_0x382aec);this[_0x336129(0x228)][_0xfbfc0e]=await xml_v2_1[_0x336129(0x1f2)][_0x336129(0x230)](_0x4c357c);}const _0x344ac3=this[_0x336129(0x228)][_0xfbfc0e],_0x3859c8=_0x521f56[_0x336129(0x209)]('.')[_0x336129(0x20a)]();xml_v2_1['XmlV2'][_0x336129(0x219)](_0x344ac3,_0x19428a,_0x3859c8||_0x521f56),xml_v2_1[_0x336129(0x1f2)][_0x336129(0x1ff)](_0x344ac3)?(this[_0x336129(0x218)][_0x336129(0x1f4)](_0x336129(0x1fe),_0xb70382[_0x336129(0x229)],_0xb70382[_0x336129(0x1f3)]),await this['removeParent'](_0xb70382),delete this[_0x336129(0x228)][_0xfbfc0e]):this[_0x336129(0x228)][_0xfbfc0e]=_0x344ac3;}async[a256_0x41016f(0x224)](){const _0x5e24c7=a256_0x41016f;!await fs_internal_1['FS'][_0x5e24c7(0x220)](this[_0x5e24c7(0x206)])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);for(const _0x27e0ac of this[_0x5e24c7(0x1f8)]){!child_types_1[_0x5e24c7(0x21e)][_0x5e24c7(0x1ef)](_0x27e0ac[_0x5e24c7(0x1fc)])?(this[_0x5e24c7(0x218)][_0x5e24c7(0x1f4)]('Remove\x20parent\x20component\x20%s\x20[%s]',_0x27e0ac['fileName'],_0x27e0ac[_0x5e24c7(0x1fc)]),await this[_0x5e24c7(0x1fb)](_0x27e0ac)):(this[_0x5e24c7(0x218)][_0x5e24c7(0x1f4)](_0x5e24c7(0x204),_0x27e0ac['fileName'],_0x27e0ac[_0x5e24c7(0x1fc)]),await this[_0x5e24c7(0x21a)](_0x27e0ac));}const _0x36e5fd=Object[_0x5e24c7(0x20d)](this['parentComponents']);this[_0x5e24c7(0x218)][_0x5e24c7(0x1f4)](_0x5e24c7(0x22c),this['components'][_0x5e24c7(0x22b)]);while(_0x36e5fd['length']){const _0x25351f=_0x36e5fd['splice'](0x0,this[_0x5e24c7(0x1f1)]);for(const _0x24c8de of _0x25351f){await fs_internal_1['FS'][_0x5e24c7(0x21f)](path_1['default'][_0x5e24c7(0x208)](this[_0x5e24c7(0x206)],_0x24c8de),xml_v2_1[_0x5e24c7(0x1f2)][_0x5e24c7(0x222)](this[_0x5e24c7(0x228)][_0x24c8de]));}}this[_0x5e24c7(0x228)]={};}}exports[a256_0x41016f(0x1f0)]=MDApiRemover;