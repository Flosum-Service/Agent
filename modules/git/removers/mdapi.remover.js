const a257_0x8b327a=a257_0xc3f1;(function(_0xf68213,_0x3ba4db){const _0x4c1c77=a257_0xc3f1,_0x4bdc17=_0xf68213();while(!![]){try{const _0x8ff56c=parseInt(_0x4c1c77(0x193))/0x1+parseInt(_0x4c1c77(0x1ad))/0x2+-parseInt(_0x4c1c77(0x1ac))/0x3+-parseInt(_0x4c1c77(0x19e))/0x4*(parseInt(_0x4c1c77(0x1a9))/0x5)+-parseInt(_0x4c1c77(0x1a7))/0x6+parseInt(_0x4c1c77(0x195))/0x7+parseInt(_0x4c1c77(0x197))/0x8*(parseInt(_0x4c1c77(0x1a4))/0x9);if(_0x8ff56c===_0x3ba4db)break;else _0x4bdc17['push'](_0x4bdc17['shift']());}catch(_0x74fb01){_0x4bdc17['push'](_0x4bdc17['shift']());}}}(a257_0x45dc,0x27501));const a257_0x35756c=(function(){let _0x5554c6=!![];return function(_0x2bcb41,_0xaeb803){const _0x47a0f3=_0x5554c6?function(){const _0x15f038=a257_0xc3f1;if(_0xaeb803){const _0x29d2ab=_0xaeb803[_0x15f038(0x18a)](_0x2bcb41,arguments);return _0xaeb803=null,_0x29d2ab;}}:function(){};return _0x5554c6=![],_0x47a0f3;};}()),a257_0x4f9f58=a257_0x35756c(this,function(){const _0x499f85=a257_0xc3f1;return a257_0x4f9f58[_0x499f85(0x1b3)]()['search'](_0x499f85(0x1b2))['toString']()[_0x499f85(0x1b6)](a257_0x4f9f58)['search'](_0x499f85(0x1b2));});a257_0x4f9f58();'use strict';var __importDefault=this&&this[a257_0x8b327a(0x183)]||function(_0x98c195){const _0x13acd2=a257_0x8b327a;return _0x98c195&&_0x98c195[_0x13acd2(0x1a0)]?_0x98c195:{'default':_0x98c195};};Object['defineProperty'](exports,a257_0x8b327a(0x1a0),{'value':!![]}),exports['MDApiRemover']=void 0x0;function a257_0xc3f1(_0x2b245b,_0x392555){const _0x349fe8=a257_0x45dc();return a257_0xc3f1=function(_0x4f9f58,_0x35756c){_0x4f9f58=_0x4f9f58-0x183;let _0x45dc2b=_0x349fe8[_0x4f9f58];return _0x45dc2b;},a257_0xc3f1(_0x2b245b,_0x392555);}const fs_internal_1=require(a257_0x8b327a(0x1bb)),xml_v2_1=require('../parsers/utils/xml-v2'),child_types_1=__importDefault(require(a257_0x8b327a(0x1bd))),child_types_map_1=__importDefault(require(a257_0x8b327a(0x1af))),path_1=__importDefault(require('path')),base_remover_1=require(a257_0x8b327a(0x190));function a257_0x45dc(){const _0x6d947a=['Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','fileName','type','writeFile','../internal/fs.internal','default','../parsers/data/child-types','includes','__importDefault','length','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','MAX_WRITES_PER_TICK','catch','sourceDir','removeParent','apply','removeAt','removeDir','exists','isDir','Remove\x20component\x20directory\x20%s\x20[%s]','./base.remover','join','components','97952ryqkWi','parse','2005815wWMoHK','ExperienceBundle','8BxeBcD','parentComponents','log','META_EXPERIENCE_BUNDLE','XmlV2','logger','all','8PnmLJX','removeFile','__esModule','Remove\x20component\x20\x20%s\x20[%s]','execute','readFile','1287837OnuRZD','-meta.xml','META_EXTENSION','757134tdpVwc','MDApiRemover','74125RNsokZ','path','convertToString','896232DFUljR','176036tqXXLY','Remove\x20child\x20component\x20%s\x20[%s]','../parsers/data/child-types-map','removeChild','Unknown\x20child\x20type\x20','(((.+)+)+)+$','toString','name','split','constructor'];a257_0x45dc=function(){return _0x6d947a;};return a257_0x45dc();}class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x555a0c,sourceDir:_0x52627a}){const _0x1d2079=a257_0x8b327a;super({'sourceDir':_0x52627a,'components':_0x555a0c},MDApiRemover[_0x1d2079(0x1b4)]),this[_0x1d2079(0x1a6)]=_0x1d2079(0x1a5),this[_0x1d2079(0x19a)]='site-meta.xml',this[_0x1d2079(0x186)]=0x64,this[_0x1d2079(0x198)]={};}async['removeParent'](_0x228150){const _0x5220e0=a257_0x8b327a,_0x49dfeb=path_1['default'][_0x5220e0(0x191)](this[_0x5220e0(0x188)],_0x228150[_0x5220e0(0x1aa)]),_0x1f85a5=path_1[_0x5220e0(0x1bc)][_0x5220e0(0x191)](this['sourceDir'],''+_0x228150['path']+this[_0x5220e0(0x1a6)]);this[_0x5220e0(0x198)][_0x228150[_0x5220e0(0x1aa)]]&&delete this[_0x5220e0(0x198)][_0x228150[_0x5220e0(0x1aa)]];const _0x205d71=await fs_internal_1['FS'][_0x5220e0(0x18e)](_0x49dfeb)['catch'](()=>![]);if(_0x205d71){this[_0x5220e0(0x19c)]['log'](_0x5220e0(0x18f),_0x49dfeb,_0x228150[_0x5220e0(0x1b9)]),await fs_internal_1['FS'][_0x5220e0(0x18c)](_0x49dfeb);_0x228150[_0x5220e0(0x1b9)]===_0x5220e0(0x196)?await fs_internal_1['FS'][_0x5220e0(0x19f)](''+_0x49dfeb+this[_0x5220e0(0x19a)])['catch'](()=>void 0x0):(this['logger']['log'](_0x5220e0(0x1b7),_0x49dfeb,_0x228150[_0x5220e0(0x1b9)]),await fs_internal_1['FS'][_0x5220e0(0x19f)](''+_0x49dfeb+this['META_EXTENSION'])[_0x5220e0(0x187)](()=>void 0x0));return;}this['logger']['log'](_0x5220e0(0x1a1),_0x49dfeb,_0x228150[_0x5220e0(0x1b9)]),await Promise[_0x5220e0(0x19d)]([fs_internal_1['FS'][_0x5220e0(0x19f)](_0x49dfeb),fs_internal_1['FS'][_0x5220e0(0x19f)](_0x1f85a5)]);}async[a257_0x8b327a(0x1b0)](_0xf3fe){const _0x59cce4=a257_0x8b327a,{fileName:_0x44b4b7,type:_0x307bc5,path:_0x522b41}=_0xf3fe,_0x3e1347=child_types_map_1[_0x59cce4(0x1bc)][_0x307bc5];if(!_0x3e1347)throw new Error(_0x59cce4(0x1b1)+_0x307bc5);if(!this['parentComponents'][_0x522b41]){const _0x5f3408=path_1[_0x59cce4(0x1bc)]['join'](this[_0x59cce4(0x188)],_0x522b41),_0xcd4292=await fs_internal_1['FS'][_0x59cce4(0x18d)](_0x5f3408);if(!_0xcd4292)return;const _0x24b18a=await fs_internal_1['FS'][_0x59cce4(0x1a3)](_0x5f3408);this['parentComponents'][_0x522b41]=await xml_v2_1[_0x59cce4(0x19b)][_0x59cce4(0x194)](_0x24b18a);}const _0x128b17=this['parentComponents'][_0x522b41],_0x1b2611=_0x44b4b7[_0x59cce4(0x1b5)]('.')['pop']();xml_v2_1[_0x59cce4(0x19b)][_0x59cce4(0x18b)](_0x128b17,_0x3e1347,_0x1b2611||_0x44b4b7),xml_v2_1['XmlV2']['isEmptyXml'](_0x128b17)?(this[_0x59cce4(0x19c)][_0x59cce4(0x199)](_0x59cce4(0x185),_0xf3fe[_0x59cce4(0x1aa)],_0xf3fe[_0x59cce4(0x1b8)]),await this['removeParent'](_0xf3fe),delete this[_0x59cce4(0x198)][_0x522b41]):this['parentComponents'][_0x522b41]=_0x128b17;}async[a257_0x8b327a(0x1a2)](){const _0x3060d0=a257_0x8b327a;!await fs_internal_1['FS'][_0x3060d0(0x18d)](this[_0x3060d0(0x188)])&&await fs_internal_1['FS']['makeDir'](this[_0x3060d0(0x188)]);for(const _0x115c4e of this[_0x3060d0(0x192)]){!child_types_1['default'][_0x3060d0(0x1be)](_0x115c4e[_0x3060d0(0x1b9)])?(this[_0x3060d0(0x19c)]['log']('Remove\x20parent\x20component\x20%s\x20[%s]',_0x115c4e[_0x3060d0(0x1b8)],_0x115c4e[_0x3060d0(0x1b9)]),await this[_0x3060d0(0x189)](_0x115c4e)):(this[_0x3060d0(0x19c)][_0x3060d0(0x199)](_0x3060d0(0x1ae),_0x115c4e['fileName'],_0x115c4e['type']),await this[_0x3060d0(0x1b0)](_0x115c4e));}const _0x1b6e4a=Object['keys'](this[_0x3060d0(0x198)]);this[_0x3060d0(0x19c)][_0x3060d0(0x199)]('Have\x20to\x20update\x20%d\x20files',this[_0x3060d0(0x192)][_0x3060d0(0x184)]);while(_0x1b6e4a[_0x3060d0(0x184)]){const _0x518a0a=_0x1b6e4a['splice'](0x0,this[_0x3060d0(0x186)]);for(const _0xa97023 of _0x518a0a){await fs_internal_1['FS'][_0x3060d0(0x1ba)](path_1[_0x3060d0(0x1bc)][_0x3060d0(0x191)](this[_0x3060d0(0x188)],_0xa97023),xml_v2_1[_0x3060d0(0x19b)][_0x3060d0(0x1ab)](this[_0x3060d0(0x198)][_0xa97023]));}}this[_0x3060d0(0x198)]={};}}exports[a257_0x8b327a(0x1a8)]=MDApiRemover;