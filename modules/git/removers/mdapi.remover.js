const a256_0x4b281d=a256_0x2bb9;function a256_0x2bb9(_0xef4974,_0x48645e){const _0x48fe31=a256_0x39dc();return a256_0x2bb9=function(_0x3efbb2,_0x1f9c67){_0x3efbb2=_0x3efbb2-0xc5;let _0x39dcad=_0x48fe31[_0x3efbb2];return _0x39dcad;},a256_0x2bb9(_0xef4974,_0x48645e);}(function(_0x278352,_0x367538){const _0x1fbd26=a256_0x2bb9,_0x459c95=_0x278352();while(!![]){try{const _0x10db71=parseInt(_0x1fbd26(0xda))/0x1*(parseInt(_0x1fbd26(0x103))/0x2)+parseInt(_0x1fbd26(0xe7))/0x3+-parseInt(_0x1fbd26(0xc7))/0x4+parseInt(_0x1fbd26(0xce))/0x5+parseInt(_0x1fbd26(0xf8))/0x6*(parseInt(_0x1fbd26(0xd8))/0x7)+-parseInt(_0x1fbd26(0xd0))/0x8+parseInt(_0x1fbd26(0xee))/0x9*(-parseInt(_0x1fbd26(0xe3))/0xa);if(_0x10db71===_0x367538)break;else _0x459c95['push'](_0x459c95['shift']());}catch(_0x3012d3){_0x459c95['push'](_0x459c95['shift']());}}}(a256_0x39dc,0x888aa));const a256_0x1f9c67=(function(){let _0x907cc5=!![];return function(_0x4e94dc,_0x55b443){const _0x55c417=_0x907cc5?function(){const _0x5b9960=a256_0x2bb9;if(_0x55b443){const _0x2857f6=_0x55b443[_0x5b9960(0xef)](_0x4e94dc,arguments);return _0x55b443=null,_0x2857f6;}}:function(){};return _0x907cc5=![],_0x55c417;};}()),a256_0x3efbb2=a256_0x1f9c67(this,function(){const _0x41533c=a256_0x2bb9;return a256_0x3efbb2[_0x41533c(0xd4)]()[_0x41533c(0xe2)](_0x41533c(0xde))[_0x41533c(0xd4)]()[_0x41533c(0xc9)](a256_0x3efbb2)[_0x41533c(0xe2)](_0x41533c(0xde));});a256_0x3efbb2();'use strict';var __importDefault=this&&this[a256_0x4b281d(0xe9)]||function(_0x4c1f9d){const _0x3091b1=a256_0x4b281d;return _0x4c1f9d&&_0x4c1f9d[_0x3091b1(0xf1)]?_0x4c1f9d:{'default':_0x4c1f9d};};Object[a256_0x4b281d(0xcc)](exports,a256_0x4b281d(0xf1),{'value':!![]}),exports['MDApiRemover']=void 0x0;function a256_0x39dc(){const _0x47b892=['apply','sourceDir','__esModule','keys','META_EXPERIENCE_BUNDLE','catch','makeDir','removeParent','isEmptyXml','168ruyPOC','parse','all','removeChild','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','path','convertToString','Remove\x20parent\x20component\x20%s\x20[%s]','length','removeAt','../parsers/data/child-types','926VwHRpY','removeDir','logger','XmlV2','3741524SOsjRy','components','constructor','../parsers/data/child-types-map','pop','defineProperty','Remove\x20component\x20\x20%s\x20[%s]','478190Sftvve','default','1599280jvryfa','readFile','type','splice','toString','Unknown\x20child\x20type\x20','parentComponents','writeFile','186753VYmmXW','exists','722sDLBxu','../internal/fs.internal','./base.remover','name','(((.+)+)+)+$','BaseRemover','META_EXTENSION','MAX_WRITES_PER_TICK','search','100KiPhhG','log','removeFile','MDApiRemover','2990307OtCbGV','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','__importDefault','includes','join','fileName','../parsers/utils/xml-v2','431226KzbBBG'];a256_0x39dc=function(){return _0x47b892;};return a256_0x39dc();}const fs_internal_1=require(a256_0x4b281d(0xdb)),xml_v2_1=require(a256_0x4b281d(0xed)),child_types_1=__importDefault(require(a256_0x4b281d(0x102))),child_types_map_1=__importDefault(require(a256_0x4b281d(0xca))),path_1=__importDefault(require(a256_0x4b281d(0xfd))),base_remover_1=require(a256_0x4b281d(0xdc));class MDApiRemover extends base_remover_1[a256_0x4b281d(0xdf)]{constructor({components:_0x3ae0f9,sourceDir:_0x5a9404}){const _0x6826a4=a256_0x4b281d;super({'sourceDir':_0x5a9404,'components':_0x3ae0f9},MDApiRemover[_0x6826a4(0xdd)]),this[_0x6826a4(0xe0)]='-meta.xml',this[_0x6826a4(0xf3)]='site-meta.xml',this['MAX_WRITES_PER_TICK']=0x64,this[_0x6826a4(0xd6)]={};}async[a256_0x4b281d(0xf6)](_0x4f7ca7){const _0x3c0219=a256_0x4b281d,_0x1a8622=path_1[_0x3c0219(0xcf)][_0x3c0219(0xeb)](this[_0x3c0219(0xf0)],_0x4f7ca7[_0x3c0219(0xfd)]),_0x28fb87=path_1[_0x3c0219(0xcf)][_0x3c0219(0xeb)](this['sourceDir'],''+_0x4f7ca7[_0x3c0219(0xfd)]+this[_0x3c0219(0xe0)]);this['parentComponents'][_0x4f7ca7[_0x3c0219(0xfd)]]&&delete this[_0x3c0219(0xd6)][_0x4f7ca7[_0x3c0219(0xfd)]];const _0xc7fbc7=await fs_internal_1['FS']['isDir'](_0x1a8622)[_0x3c0219(0xf4)](()=>![]);if(_0xc7fbc7){this[_0x3c0219(0xc5)][_0x3c0219(0xe4)]('Remove\x20component\x20directory\x20%s\x20[%s]',_0x1a8622,_0x4f7ca7['type']),await fs_internal_1['FS'][_0x3c0219(0x104)](_0x1a8622);_0x4f7ca7[_0x3c0219(0xd2)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x3c0219(0xe5)](''+_0x1a8622+this[_0x3c0219(0xf3)])[_0x3c0219(0xf4)](()=>void 0x0):(this[_0x3c0219(0xc5)][_0x3c0219(0xe4)](_0x3c0219(0xfc),_0x1a8622,_0x4f7ca7['type']),await fs_internal_1['FS']['removeFile'](''+_0x1a8622+this[_0x3c0219(0xe0)])[_0x3c0219(0xf4)](()=>void 0x0));return;}this[_0x3c0219(0xc5)]['log'](_0x3c0219(0xcd),_0x1a8622,_0x4f7ca7[_0x3c0219(0xd2)]),await Promise[_0x3c0219(0xfa)]([fs_internal_1['FS']['removeFile'](_0x1a8622),fs_internal_1['FS']['removeFile'](_0x28fb87)]);}async['removeChild'](_0xe97a3a){const _0x4c7200=a256_0x4b281d,{fileName:_0x25560e,type:_0x4a9914,path:_0x2c0afd}=_0xe97a3a,_0x296eb0=child_types_map_1[_0x4c7200(0xcf)][_0x4a9914];if(!_0x296eb0)throw new Error(_0x4c7200(0xd5)+_0x4a9914);if(!this[_0x4c7200(0xd6)][_0x2c0afd]){const _0x380012=path_1[_0x4c7200(0xcf)][_0x4c7200(0xeb)](this[_0x4c7200(0xf0)],_0x2c0afd),_0x2bc122=await fs_internal_1['FS'][_0x4c7200(0xd9)](_0x380012);if(!_0x2bc122)return;const _0x36ba21=await fs_internal_1['FS'][_0x4c7200(0xd1)](_0x380012);this[_0x4c7200(0xd6)][_0x2c0afd]=await xml_v2_1[_0x4c7200(0xc6)][_0x4c7200(0xf9)](_0x36ba21);}const _0x19a7ad=this[_0x4c7200(0xd6)][_0x2c0afd],_0x4422c6=_0x25560e['split']('.')[_0x4c7200(0xcb)]();xml_v2_1['XmlV2'][_0x4c7200(0x101)](_0x19a7ad,_0x296eb0,_0x4422c6||_0x25560e),xml_v2_1[_0x4c7200(0xc6)][_0x4c7200(0xf7)](_0x19a7ad)?(this[_0x4c7200(0xc5)][_0x4c7200(0xe4)](_0x4c7200(0xe8),_0xe97a3a[_0x4c7200(0xfd)],_0xe97a3a[_0x4c7200(0xec)]),await this['removeParent'](_0xe97a3a),delete this[_0x4c7200(0xd6)][_0x2c0afd]):this[_0x4c7200(0xd6)][_0x2c0afd]=_0x19a7ad;}async['execute'](){const _0x36b390=a256_0x4b281d;!await fs_internal_1['FS']['exists'](this[_0x36b390(0xf0)])&&await fs_internal_1['FS'][_0x36b390(0xf5)](this[_0x36b390(0xf0)]);for(const _0x495606 of this[_0x36b390(0xc8)]){!child_types_1[_0x36b390(0xcf)][_0x36b390(0xea)](_0x495606[_0x36b390(0xd2)])?(this[_0x36b390(0xc5)][_0x36b390(0xe4)](_0x36b390(0xff),_0x495606['fileName'],_0x495606['type']),await this[_0x36b390(0xf6)](_0x495606)):(this[_0x36b390(0xc5)][_0x36b390(0xe4)]('Remove\x20child\x20component\x20%s\x20[%s]',_0x495606[_0x36b390(0xec)],_0x495606['type']),await this[_0x36b390(0xfb)](_0x495606));}const _0xcf7d64=Object[_0x36b390(0xf2)](this['parentComponents']);this[_0x36b390(0xc5)][_0x36b390(0xe4)]('Have\x20to\x20update\x20%d\x20files',this['components'][_0x36b390(0x100)]);while(_0xcf7d64[_0x36b390(0x100)]){const _0x4691ea=_0xcf7d64[_0x36b390(0xd3)](0x0,this[_0x36b390(0xe1)]);for(const _0x387ab1 of _0x4691ea){await fs_internal_1['FS'][_0x36b390(0xd7)](path_1['default']['join'](this[_0x36b390(0xf0)],_0x387ab1),xml_v2_1['XmlV2'][_0x36b390(0xfe)](this[_0x36b390(0xd6)][_0x387ab1]));}}this[_0x36b390(0xd6)]={};}}exports[a256_0x4b281d(0xe6)]=MDApiRemover;