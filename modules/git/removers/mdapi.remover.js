const a246_0x95a424=a246_0x248d;function a246_0x1a08(){const _0x3dff47=['../parsers/utils/xml-v2','toString','execute','join','XmlV2','META_EXPERIENCE_BUNDLE','type','Unknown\x20child\x20type\x20','5139aolJba','convertToString','defineProperty','Have\x20to\x20update\x20%d\x20files','components','META_EXTENSION','Remove\x20child\x20component\x20%s\x20[%s]','removeFile','BaseRemover','all','705831adkXHT','logger','parentComponents','./base.remover','keys','site-meta.xml','__esModule','6670433jHylDF','(((.+)+)+)+$','writeFile','removeParent','search','isDir','removeChild','length','catch','5gkitTo','readFile','removeAt','includes','exists','11525214HAYwkL','sourceDir','path','523NgIwAO','removeDir','../parsers/data/child-types-map','constructor','log','MAX_WRITES_PER_TICK','4344CcPwEO','parse','6046980BNfyEF','../internal/fs.internal','__importDefault','15855HKGRoJ','Remove\x20component\x20directory\x20%s\x20[%s]','default','Remove\x20parent\x20component\x20%s\x20[%s]','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','-meta.xml','fileName','17910BtjMWy','4278OSRbKx','split','60rnjeQu'];a246_0x1a08=function(){return _0x3dff47;};return a246_0x1a08();}function a246_0x248d(_0x317fe0,_0x128145){const _0x2de244=a246_0x1a08();return a246_0x248d=function(_0x135621,_0x3b7f5c){_0x135621=_0x135621-0x1dd;let _0x1a0881=_0x2de244[_0x135621];return _0x1a0881;},a246_0x248d(_0x317fe0,_0x128145);}(function(_0x4dca9f,_0x4d4876){const _0x41ed63=a246_0x248d,_0x1fdb1f=_0x4dca9f();while(!![]){try{const _0x66f216=-parseInt(_0x41ed63(0x1ee))/0x1*(-parseInt(_0x41ed63(0x201))/0x2)+parseInt(_0x41ed63(0x216))/0x3+-parseInt(_0x41ed63(0x1f6))/0x4+-parseInt(_0x41ed63(0x1e6))/0x5*(-parseInt(_0x41ed63(0x1eb))/0x6)+-parseInt(_0x41ed63(0x1f9))/0x7*(-parseInt(_0x41ed63(0x1f4))/0x8)+-parseInt(_0x41ed63(0x20c))/0x9*(-parseInt(_0x41ed63(0x200))/0xa)+-parseInt(_0x41ed63(0x1dd))/0xb*(parseInt(_0x41ed63(0x203))/0xc);if(_0x66f216===_0x4d4876)break;else _0x1fdb1f['push'](_0x1fdb1f['shift']());}catch(_0x1b3c7b){_0x1fdb1f['push'](_0x1fdb1f['shift']());}}}(a246_0x1a08,0xf0257));const a246_0x3b7f5c=(function(){let _0x1ab6df=!![];return function(_0x1d9db6,_0x3a3518){const _0x2e1f2c=_0x1ab6df?function(){if(_0x3a3518){const _0x2d5bef=_0x3a3518['apply'](_0x1d9db6,arguments);return _0x3a3518=null,_0x2d5bef;}}:function(){};return _0x1ab6df=![],_0x2e1f2c;};}()),a246_0x135621=a246_0x3b7f5c(this,function(){const _0x690f06=a246_0x248d;return a246_0x135621[_0x690f06(0x205)]()[_0x690f06(0x1e1)]('(((.+)+)+)+$')[_0x690f06(0x205)]()[_0x690f06(0x1f1)](a246_0x135621)['search'](_0x690f06(0x1de));});a246_0x135621();'use strict';var __importDefault=this&&this[a246_0x95a424(0x1f8)]||function(_0x3b2e85){const _0x192042=a246_0x95a424;return _0x3b2e85&&_0x3b2e85[_0x192042(0x21c)]?_0x3b2e85:{'default':_0x3b2e85};};Object[a246_0x95a424(0x20e)](exports,'__esModule',{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a246_0x95a424(0x1f7)),xml_v2_1=require(a246_0x95a424(0x204)),child_types_1=__importDefault(require('../parsers/data/child-types')),child_types_map_1=__importDefault(require(a246_0x95a424(0x1f0))),path_1=__importDefault(require(a246_0x95a424(0x1ed))),base_remover_1=require(a246_0x95a424(0x219));class MDApiRemover extends base_remover_1[a246_0x95a424(0x214)]{constructor({components:_0x491306,sourceDir:_0x827103}){const _0x296046=a246_0x95a424;super({'sourceDir':_0x827103,'components':_0x491306},MDApiRemover['name']),this['META_EXTENSION']=_0x296046(0x1fe),this[_0x296046(0x209)]=_0x296046(0x21b),this[_0x296046(0x1f3)]=0x64,this['parentComponents']={};}async['removeParent'](_0x2caf53){const _0xe677e3=a246_0x95a424,_0x2f3431=path_1[_0xe677e3(0x1fb)][_0xe677e3(0x207)](this['sourceDir'],_0x2caf53['path']),_0x12624e=path_1[_0xe677e3(0x1fb)][_0xe677e3(0x207)](this[_0xe677e3(0x1ec)],''+_0x2caf53['path']+this['META_EXTENSION']);this[_0xe677e3(0x218)][_0x2caf53['path']]&&delete this[_0xe677e3(0x218)][_0x2caf53[_0xe677e3(0x1ed)]];const _0x1dce9b=await fs_internal_1['FS'][_0xe677e3(0x1e2)](_0x2f3431)[_0xe677e3(0x1e5)](()=>![]);if(_0x1dce9b){this[_0xe677e3(0x217)]['log'](_0xe677e3(0x1fa),_0x2f3431,_0x2caf53[_0xe677e3(0x20a)]),await fs_internal_1['FS'][_0xe677e3(0x1ef)](_0x2f3431);_0x2caf53[_0xe677e3(0x20a)]==='ExperienceBundle'?await fs_internal_1['FS'][_0xe677e3(0x213)](''+_0x2f3431+this[_0xe677e3(0x209)])[_0xe677e3(0x1e5)](()=>void 0x0):(this[_0xe677e3(0x217)]['log'](_0xe677e3(0x1fd),_0x2f3431,_0x2caf53[_0xe677e3(0x20a)]),await fs_internal_1['FS']['removeFile'](''+_0x2f3431+this[_0xe677e3(0x211)])[_0xe677e3(0x1e5)](()=>void 0x0));return;}this[_0xe677e3(0x217)][_0xe677e3(0x1f2)]('Remove\x20component\x20\x20%s\x20[%s]',_0x2f3431,_0x2caf53[_0xe677e3(0x20a)]),await Promise[_0xe677e3(0x215)]([fs_internal_1['FS'][_0xe677e3(0x213)](_0x2f3431),fs_internal_1['FS'][_0xe677e3(0x213)](_0x12624e)]);}async[a246_0x95a424(0x1e3)](_0x41c5cc){const _0x2549dd=a246_0x95a424,{fileName:_0x244a83,type:_0x5867ea,path:_0x5bf055}=_0x41c5cc,_0xb63aa2=child_types_map_1[_0x2549dd(0x1fb)][_0x5867ea];if(!_0xb63aa2)throw new Error(_0x2549dd(0x20b)+_0x5867ea);if(!this[_0x2549dd(0x218)][_0x5bf055]){const _0x33787f=path_1['default'][_0x2549dd(0x207)](this['sourceDir'],_0x5bf055),_0x4b3d63=await fs_internal_1['FS'][_0x2549dd(0x1ea)](_0x33787f);if(!_0x4b3d63)return;const _0x4a9cb3=await fs_internal_1['FS'][_0x2549dd(0x1e7)](_0x33787f);this['parentComponents'][_0x5bf055]=await xml_v2_1['XmlV2'][_0x2549dd(0x1f5)](_0x4a9cb3);}const _0x5b6641=this[_0x2549dd(0x218)][_0x5bf055],_0x41640b=_0x244a83[_0x2549dd(0x202)]('.')['pop']();xml_v2_1[_0x2549dd(0x208)][_0x2549dd(0x1e8)](_0x5b6641,_0xb63aa2,_0x41640b||_0x244a83),xml_v2_1['XmlV2']['isEmptyXml'](_0x5b6641)?(this[_0x2549dd(0x217)]['log']('Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x41c5cc['path'],_0x41c5cc[_0x2549dd(0x1ff)]),await this[_0x2549dd(0x1e0)](_0x41c5cc),delete this['parentComponents'][_0x5bf055]):this['parentComponents'][_0x5bf055]=_0x5b6641;}async[a246_0x95a424(0x206)](){const _0x3004a4=a246_0x95a424;!await fs_internal_1['FS'][_0x3004a4(0x1ea)](this[_0x3004a4(0x1ec)])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);for(const _0x4e2ed9 of this[_0x3004a4(0x210)]){!child_types_1[_0x3004a4(0x1fb)][_0x3004a4(0x1e9)](_0x4e2ed9[_0x3004a4(0x20a)])?(this['logger']['log'](_0x3004a4(0x1fc),_0x4e2ed9[_0x3004a4(0x1ff)],_0x4e2ed9[_0x3004a4(0x20a)]),await this[_0x3004a4(0x1e0)](_0x4e2ed9)):(this[_0x3004a4(0x217)][_0x3004a4(0x1f2)](_0x3004a4(0x212),_0x4e2ed9[_0x3004a4(0x1ff)],_0x4e2ed9[_0x3004a4(0x20a)]),await this[_0x3004a4(0x1e3)](_0x4e2ed9));}const _0x302612=Object[_0x3004a4(0x21a)](this['parentComponents']);this['logger']['log'](_0x3004a4(0x20f),this['components'][_0x3004a4(0x1e4)]);while(_0x302612[_0x3004a4(0x1e4)]){const _0x43cdc1=_0x302612['splice'](0x0,this[_0x3004a4(0x1f3)]);for(const _0x25b51f of _0x43cdc1){await fs_internal_1['FS'][_0x3004a4(0x1df)](path_1['default']['join'](this['sourceDir'],_0x25b51f),xml_v2_1['XmlV2'][_0x3004a4(0x20d)](this[_0x3004a4(0x218)][_0x25b51f]));}}this[_0x3004a4(0x218)]={};}}exports['MDApiRemover']=MDApiRemover;