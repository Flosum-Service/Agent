const a258_0x11d28f=a258_0x58cf;(function(_0x37c569,_0x2fa04b){const _0x2d67aa=a258_0x58cf,_0x418847=_0x37c569();while(!![]){try{const _0x5cc295=-parseInt(_0x2d67aa(0xf9))/0x1*(parseInt(_0x2d67aa(0x114))/0x2)+-parseInt(_0x2d67aa(0x10c))/0x3*(parseInt(_0x2d67aa(0xf3))/0x4)+-parseInt(_0x2d67aa(0x11b))/0x5*(parseInt(_0x2d67aa(0x10a))/0x6)+parseInt(_0x2d67aa(0x11f))/0x7*(-parseInt(_0x2d67aa(0xfe))/0x8)+parseInt(_0x2d67aa(0x121))/0x9*(parseInt(_0x2d67aa(0x10d))/0xa)+-parseInt(_0x2d67aa(0x120))/0xb+parseInt(_0x2d67aa(0x125))/0xc*(parseInt(_0x2d67aa(0xf8))/0xd);if(_0x5cc295===_0x2fa04b)break;else _0x418847['push'](_0x418847['shift']());}catch(_0x359f9c){_0x418847['push'](_0x418847['shift']());}}}(a258_0xd491,0x89142));const a258_0x14c3ff=(function(){let _0x59de30=!![];return function(_0x5e6a8f,_0x2ebb29){const _0x42f41b=_0x59de30?function(){const _0x5a1a59=a258_0x58cf;if(_0x2ebb29){const _0x4e4947=_0x2ebb29[_0x5a1a59(0xf2)](_0x5e6a8f,arguments);return _0x2ebb29=null,_0x4e4947;}}:function(){};return _0x59de30=![],_0x42f41b;};}()),a258_0x15ebcb=a258_0x14c3ff(this,function(){const _0xd67e26=a258_0x58cf;return a258_0x15ebcb[_0xd67e26(0x102)]()[_0xd67e26(0x115)](_0xd67e26(0xf1))[_0xd67e26(0x102)]()['constructor'](a258_0x15ebcb)[_0xd67e26(0x115)]('(((.+)+)+)+$');});function a258_0x58cf(_0x37ed72,_0x36f2a2){const _0x315ff8=a258_0xd491();return a258_0x58cf=function(_0x15ebcb,_0x14c3ff){_0x15ebcb=_0x15ebcb-0xe6;let _0xd491b2=_0x315ff8[_0x15ebcb];return _0xd491b2;},a258_0x58cf(_0x37ed72,_0x36f2a2);}a258_0x15ebcb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x43e575){const _0x214114=a258_0x58cf;return _0x43e575&&_0x43e575[_0x214114(0x117)]?_0x43e575:{'default':_0x43e575};};function a258_0xd491(){const _0x2163ff=['all','892075zvdxws','MDApiRemover','removeChild','logger','581FoqUkL','10623965YZGpid','9NJopzT','isEmptyXml','./base.remover','makeDir','12hDBeAr','convertToString','exists','-meta.xml','Have\x20to\x20update\x20%d\x20files','removeParent','parentComponents','split','default','components','length','pop','log','execute','(((.+)+)+)+$','apply','4sJxQJV','type','../internal/fs.internal','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','catch','27021982GXOaiJ','566PlxGuu','sourceDir','removeFile','removeDir','META_EXTENSION','40888STIZAy','path','fileName','Remove\x20component\x20\x20%s\x20[%s]','toString','site-meta.xml','Unknown\x20child\x20type\x20','ExperienceBundle','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','MAX_WRITES_PER_TICK','../parsers/data/child-types','XmlV2','6QPPyWD','../parsers/data/child-types-map','121827UEmFyb','1886980GYAfdF','../parsers/utils/xml-v2','join','isDir','includes','readFile','Remove\x20parent\x20component\x20%s\x20[%s]','342QyMCOW','search','defineProperty','__esModule','name','META_EXPERIENCE_BUNDLE'];a258_0xd491=function(){return _0x2163ff;};return a258_0xd491();}Object[a258_0x11d28f(0x116)](exports,a258_0x11d28f(0x117),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a258_0x11d28f(0xf5)),xml_v2_1=require(a258_0x11d28f(0x10e)),child_types_1=__importDefault(require(a258_0x11d28f(0x108))),child_types_map_1=__importDefault(require(a258_0x11d28f(0x10b))),path_1=__importDefault(require('path')),base_remover_1=require(a258_0x11d28f(0x123));class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x587512,sourceDir:_0x89d600}){const _0x59cb63=a258_0x11d28f;super({'sourceDir':_0x89d600,'components':_0x587512},MDApiRemover[_0x59cb63(0x118)]),this[_0x59cb63(0xfd)]=_0x59cb63(0xe6),this[_0x59cb63(0x119)]=_0x59cb63(0x103),this[_0x59cb63(0x107)]=0x64,this[_0x59cb63(0xe9)]={};}async['removeParent'](_0x57bd7a){const _0x249633=a258_0x11d28f,_0x2a9d48=path_1[_0x249633(0xeb)][_0x249633(0x10f)](this[_0x249633(0xfa)],_0x57bd7a['path']),_0x47b92d=path_1[_0x249633(0xeb)][_0x249633(0x10f)](this[_0x249633(0xfa)],''+_0x57bd7a[_0x249633(0xff)]+this[_0x249633(0xfd)]);this[_0x249633(0xe9)][_0x57bd7a[_0x249633(0xff)]]&&delete this[_0x249633(0xe9)][_0x57bd7a[_0x249633(0xff)]];const _0x5b97f0=await fs_internal_1['FS'][_0x249633(0x110)](_0x2a9d48)[_0x249633(0xf7)](()=>![]);if(_0x5b97f0){this[_0x249633(0x11e)][_0x249633(0xef)]('Remove\x20component\x20directory\x20%s\x20[%s]',_0x2a9d48,_0x57bd7a[_0x249633(0xf4)]),await fs_internal_1['FS'][_0x249633(0xfc)](_0x2a9d48);_0x57bd7a[_0x249633(0xf4)]===_0x249633(0x105)?await fs_internal_1['FS'][_0x249633(0xfb)](''+_0x2a9d48+this[_0x249633(0x119)])['catch'](()=>void 0x0):(this[_0x249633(0x11e)][_0x249633(0xef)](_0x249633(0x106),_0x2a9d48,_0x57bd7a[_0x249633(0xf4)]),await fs_internal_1['FS'][_0x249633(0xfb)](''+_0x2a9d48+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x249633(0x11e)][_0x249633(0xef)](_0x249633(0x101),_0x2a9d48,_0x57bd7a['type']),await Promise[_0x249633(0x11a)]([fs_internal_1['FS'][_0x249633(0xfb)](_0x2a9d48),fs_internal_1['FS']['removeFile'](_0x47b92d)]);}async[a258_0x11d28f(0x11d)](_0xedb3d1){const _0x2a960c=a258_0x11d28f,{fileName:_0x1fb8d5,type:_0x85d53a,path:_0x3e9138}=_0xedb3d1,_0x2bcbcc=child_types_map_1['default'][_0x85d53a];if(!_0x2bcbcc)throw new Error(_0x2a960c(0x104)+_0x85d53a);if(!this['parentComponents'][_0x3e9138]){const _0x34c4a7=path_1[_0x2a960c(0xeb)][_0x2a960c(0x10f)](this[_0x2a960c(0xfa)],_0x3e9138),_0x26735b=await fs_internal_1['FS'][_0x2a960c(0x127)](_0x34c4a7);if(!_0x26735b)return;const _0x3fbdc1=await fs_internal_1['FS'][_0x2a960c(0x112)](_0x34c4a7);this[_0x2a960c(0xe9)][_0x3e9138]=await xml_v2_1['XmlV2']['parse'](_0x3fbdc1);}const _0x4017fc=this[_0x2a960c(0xe9)][_0x3e9138],_0x56eca0=_0x1fb8d5[_0x2a960c(0xea)]('.')[_0x2a960c(0xee)]();xml_v2_1[_0x2a960c(0x109)]['removeAt'](_0x4017fc,_0x2bcbcc,_0x56eca0||_0x1fb8d5),xml_v2_1[_0x2a960c(0x109)][_0x2a960c(0x122)](_0x4017fc)?(this['logger'][_0x2a960c(0xef)](_0x2a960c(0xf6),_0xedb3d1[_0x2a960c(0xff)],_0xedb3d1[_0x2a960c(0x100)]),await this['removeParent'](_0xedb3d1),delete this['parentComponents'][_0x3e9138]):this['parentComponents'][_0x3e9138]=_0x4017fc;}async[a258_0x11d28f(0xf0)](){const _0x3bb564=a258_0x11d28f;!await fs_internal_1['FS'][_0x3bb564(0x127)](this['sourceDir'])&&await fs_internal_1['FS'][_0x3bb564(0x124)](this['sourceDir']);for(const _0x1a10e7 of this[_0x3bb564(0xec)]){!child_types_1[_0x3bb564(0xeb)][_0x3bb564(0x111)](_0x1a10e7[_0x3bb564(0xf4)])?(this[_0x3bb564(0x11e)][_0x3bb564(0xef)](_0x3bb564(0x113),_0x1a10e7[_0x3bb564(0x100)],_0x1a10e7[_0x3bb564(0xf4)]),await this[_0x3bb564(0xe8)](_0x1a10e7)):(this[_0x3bb564(0x11e)][_0x3bb564(0xef)]('Remove\x20child\x20component\x20%s\x20[%s]',_0x1a10e7[_0x3bb564(0x100)],_0x1a10e7[_0x3bb564(0xf4)]),await this[_0x3bb564(0x11d)](_0x1a10e7));}const _0x5180c7=Object['keys'](this[_0x3bb564(0xe9)]);this[_0x3bb564(0x11e)]['log'](_0x3bb564(0xe7),this[_0x3bb564(0xec)][_0x3bb564(0xed)]);while(_0x5180c7['length']){const _0x3b9ae6=_0x5180c7['splice'](0x0,this[_0x3bb564(0x107)]);for(const _0x5d3a61 of _0x3b9ae6){await fs_internal_1['FS']['writeFile'](path_1[_0x3bb564(0xeb)]['join'](this[_0x3bb564(0xfa)],_0x5d3a61),xml_v2_1['XmlV2'][_0x3bb564(0x126)](this[_0x3bb564(0xe9)][_0x5d3a61]));}}this[_0x3bb564(0xe9)]={};}}exports[a258_0x11d28f(0x11c)]=MDApiRemover;