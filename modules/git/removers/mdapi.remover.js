const a230_0x53918c=a230_0x52ab;function a230_0x52ab(_0x506207,_0x7bdce){const _0x1d9adf=a230_0xc7ea();return a230_0x52ab=function(_0x57f68d,_0x135268){_0x57f68d=_0x57f68d-0x80;let _0xc7ea15=_0x1d9adf[_0x57f68d];return _0xc7ea15;},a230_0x52ab(_0x506207,_0x7bdce);}(function(_0x251053,_0xbed06b){const _0x2f953c=a230_0x52ab,_0x173e79=_0x251053();while(!![]){try{const _0x29bbcd=parseInt(_0x2f953c(0x9f))/0x1+parseInt(_0x2f953c(0x8d))/0x2*(-parseInt(_0x2f953c(0xb4))/0x3)+-parseInt(_0x2f953c(0xba))/0x4*(parseInt(_0x2f953c(0x99))/0x5)+parseInt(_0x2f953c(0xae))/0x6+parseInt(_0x2f953c(0x86))/0x7+parseInt(_0x2f953c(0x9b))/0x8*(-parseInt(_0x2f953c(0xb9))/0x9)+-parseInt(_0x2f953c(0x87))/0xa*(-parseInt(_0x2f953c(0xa2))/0xb);if(_0x29bbcd===_0xbed06b)break;else _0x173e79['push'](_0x173e79['shift']());}catch(_0x3eee29){_0x173e79['push'](_0x173e79['shift']());}}}(a230_0xc7ea,0x23702));function a230_0xc7ea(){const _0x2ac952=['default','../internal/fs.internal','1345792ZeKlcP','38670swVVmL','logger','apply','components','../parsers/data/child-types','fileName','2372PcmsHS','removeFile','log','Remove\x20component\x20\x20%s\x20[%s]','split','Remove\x20component\x20directory\x20%s\x20[%s]','META_EXTENSION','sourceDir','type','constructor','keys','./base.remover','391365nBemKA','execute','207872ZnKvBD','ExperienceBundle','META_EXPERIENCE_BUNDLE','includes','112811jYVQZi','MDApiRemover','(((.+)+)+)+$','253wSefnY','catch','__importDefault','removeChild','isDir','Unknown\x20child\x20type\x20','isEmptyXml','parentComponents','Remove\x20child\x20component\x20%s\x20[%s]','pop','path','BaseRemover','704406rvBPLP','length','toString','site-meta.xml','__esModule','convertToString','597TRhCwR','join','XmlV2','removeParent','../parsers/data/child-types-map','18QSbMox','4UKpkLK','removeDir','all','name','exists','parse','makeDir','defineProperty','writeFile','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','-meta.xml'];a230_0xc7ea=function(){return _0x2ac952;};return a230_0xc7ea();}const a230_0x135268=(function(){let _0x4f5121=!![];return function(_0xa54b02,_0x532942){const _0x1b2599=_0x4f5121?function(){const _0x3b3b5e=a230_0x52ab;if(_0x532942){const _0x3c617c=_0x532942[_0x3b3b5e(0x89)](_0xa54b02,arguments);return _0x532942=null,_0x3c617c;}}:function(){};return _0x4f5121=![],_0x1b2599;};}()),a230_0x57f68d=a230_0x135268(this,function(){const _0x286efe=a230_0x52ab;return a230_0x57f68d[_0x286efe(0xb0)]()['search'](_0x286efe(0xa1))[_0x286efe(0xb0)]()[_0x286efe(0x96)](a230_0x57f68d)['search'](_0x286efe(0xa1));});a230_0x57f68d();'use strict';var __importDefault=this&&this[a230_0x53918c(0xa4)]||function(_0x1ef1b2){const _0x36b0de=a230_0x53918c;return _0x1ef1b2&&_0x1ef1b2[_0x36b0de(0xb2)]?_0x1ef1b2:{'default':_0x1ef1b2};};Object[a230_0x53918c(0x80)](exports,a230_0x53918c(0xb2),{'value':!![]}),exports[a230_0x53918c(0xa0)]=void 0x0;const fs_internal_1=require(a230_0x53918c(0x85)),xml_v2_1=require('../parsers/utils/xml-v2'),child_types_1=__importDefault(require(a230_0x53918c(0x8b))),child_types_map_1=__importDefault(require(a230_0x53918c(0xb8))),path_1=__importDefault(require(a230_0x53918c(0xac))),base_remover_1=require(a230_0x53918c(0x98));class MDApiRemover extends base_remover_1[a230_0x53918c(0xad)]{constructor({components:_0x3a5842,sourceDir:_0x31398d}){const _0x4990de=a230_0x53918c;super({'sourceDir':_0x31398d,'components':_0x3a5842},MDApiRemover[_0x4990de(0xbd)]),this[_0x4990de(0x93)]=_0x4990de(0x83),this['META_EXPERIENCE_BUNDLE']=_0x4990de(0xb1),this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={};}async[a230_0x53918c(0xb7)](_0x4abc15){const _0x146db8=a230_0x53918c,_0x555747=path_1['default']['join'](this['sourceDir'],_0x4abc15[_0x146db8(0xac)]),_0x5714cc=path_1['default'][_0x146db8(0xb5)](this[_0x146db8(0x94)],''+_0x4abc15[_0x146db8(0xac)]+this[_0x146db8(0x93)]);this['parentComponents'][_0x4abc15[_0x146db8(0xac)]]&&delete this['parentComponents'][_0x4abc15[_0x146db8(0xac)]];const _0x54576c=await fs_internal_1['FS'][_0x146db8(0xa6)](_0x555747)[_0x146db8(0xa3)](()=>![]);if(_0x54576c){this['logger']['log'](_0x146db8(0x92),_0x555747,_0x4abc15['type']),await fs_internal_1['FS'][_0x146db8(0xbb)](_0x555747);_0x4abc15[_0x146db8(0x95)]===_0x146db8(0x9c)?await fs_internal_1['FS'][_0x146db8(0x8e)](''+_0x555747+this[_0x146db8(0x9d)])['catch'](()=>void 0x0):(this['logger'][_0x146db8(0x8f)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x555747,_0x4abc15[_0x146db8(0x95)]),await fs_internal_1['FS'][_0x146db8(0x8e)](''+_0x555747+this['META_EXTENSION'])[_0x146db8(0xa3)](()=>void 0x0));return;}this[_0x146db8(0x88)][_0x146db8(0x8f)](_0x146db8(0x90),_0x555747,_0x4abc15[_0x146db8(0x95)]),await Promise[_0x146db8(0xbc)]([fs_internal_1['FS'][_0x146db8(0x8e)](_0x555747),fs_internal_1['FS'][_0x146db8(0x8e)](_0x5714cc)]);}async[a230_0x53918c(0xa5)](_0x4d4f2d){const _0x46c6e4=a230_0x53918c,{fileName:_0x5af1a1,type:_0x5e45ce,path:_0x5d40c8}=_0x4d4f2d,_0x378b4b=child_types_map_1['default'][_0x5e45ce];if(!_0x378b4b)throw new Error(_0x46c6e4(0xa7)+_0x5e45ce);if(!this[_0x46c6e4(0xa9)][_0x5d40c8]){const _0x4ffe50=path_1[_0x46c6e4(0x84)][_0x46c6e4(0xb5)](this[_0x46c6e4(0x94)],_0x5d40c8),_0xdd9fb2=await fs_internal_1['FS']['exists'](_0x4ffe50);if(!_0xdd9fb2)return;const _0x324172=await fs_internal_1['FS']['readFile'](_0x4ffe50);this['parentComponents'][_0x5d40c8]=await xml_v2_1[_0x46c6e4(0xb6)][_0x46c6e4(0xbf)](_0x324172);}const _0x3ab1a3=this[_0x46c6e4(0xa9)][_0x5d40c8],_0x4fc3d2=_0x5af1a1[_0x46c6e4(0x91)]('.')[_0x46c6e4(0xab)]();xml_v2_1['XmlV2']['removeAt'](_0x3ab1a3,_0x378b4b,_0x4fc3d2||_0x5af1a1),xml_v2_1[_0x46c6e4(0xb6)][_0x46c6e4(0xa8)](_0x3ab1a3)?(this[_0x46c6e4(0x88)][_0x46c6e4(0x8f)](_0x46c6e4(0x82),_0x4d4f2d[_0x46c6e4(0xac)],_0x4d4f2d['fileName']),await this[_0x46c6e4(0xb7)](_0x4d4f2d),delete this[_0x46c6e4(0xa9)][_0x5d40c8]):this['parentComponents'][_0x5d40c8]=_0x3ab1a3;}async[a230_0x53918c(0x9a)](){const _0xbe7d46=a230_0x53918c;!await fs_internal_1['FS'][_0xbe7d46(0xbe)](this[_0xbe7d46(0x94)])&&await fs_internal_1['FS'][_0xbe7d46(0xc0)](this[_0xbe7d46(0x94)]);for(const _0x25d47f of this[_0xbe7d46(0x8a)]){!child_types_1[_0xbe7d46(0x84)][_0xbe7d46(0x9e)](_0x25d47f[_0xbe7d46(0x95)])?(this[_0xbe7d46(0x88)][_0xbe7d46(0x8f)]('Remove\x20parent\x20component\x20%s\x20[%s]',_0x25d47f['fileName'],_0x25d47f[_0xbe7d46(0x95)]),await this[_0xbe7d46(0xb7)](_0x25d47f)):(this[_0xbe7d46(0x88)][_0xbe7d46(0x8f)](_0xbe7d46(0xaa),_0x25d47f[_0xbe7d46(0x8c)],_0x25d47f[_0xbe7d46(0x95)]),await this[_0xbe7d46(0xa5)](_0x25d47f));}const _0x220f51=Object[_0xbe7d46(0x97)](this[_0xbe7d46(0xa9)]);this[_0xbe7d46(0x88)][_0xbe7d46(0x8f)]('Have\x20to\x20update\x20%d\x20files',this['components'][_0xbe7d46(0xaf)]);while(_0x220f51[_0xbe7d46(0xaf)]){const _0x2c6301=_0x220f51['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x4e635c of _0x2c6301){await fs_internal_1['FS'][_0xbe7d46(0x81)](path_1[_0xbe7d46(0x84)][_0xbe7d46(0xb5)](this['sourceDir'],_0x4e635c),xml_v2_1[_0xbe7d46(0xb6)][_0xbe7d46(0xb3)](this[_0xbe7d46(0xa9)][_0x4e635c]));}}this[_0xbe7d46(0xa9)]={};}}exports['MDApiRemover']=MDApiRemover;