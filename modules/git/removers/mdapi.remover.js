const a258_0x30f7b2=a258_0x54a2;(function(_0x436634,_0x4c3e76){const _0x313378=a258_0x54a2,_0x50e77c=_0x436634();while(!![]){try{const _0x25bba2=parseInt(_0x313378(0x14a))/0x1+parseInt(_0x313378(0x138))/0x2+parseInt(_0x313378(0x159))/0x3+parseInt(_0x313378(0x156))/0x4*(parseInt(_0x313378(0x157))/0x5)+parseInt(_0x313378(0x149))/0x6*(-parseInt(_0x313378(0x14e))/0x7)+parseInt(_0x313378(0x145))/0x8+-parseInt(_0x313378(0x12b))/0x9;if(_0x25bba2===_0x4c3e76)break;else _0x50e77c['push'](_0x50e77c['shift']());}catch(_0x36f779){_0x50e77c['push'](_0x50e77c['shift']());}}}(a258_0x18c3,0x23b45));function a258_0x18c3(){const _0x86ac93=['join','../parsers/data/child-types','isEmptyXml','removeDir','readFile','sourceDir','META_EXPERIENCE_BUNDLE','MAX_WRITES_PER_TICK','type','fileName','site-meta.xml','splice','4188636XXVWla','removeParent','isDir','log','../parsers/utils/xml-v2','META_EXTENSION','constructor','toString','writeFile','ExperienceBundle','removeFile','Unknown\x20child\x20type\x20','MDApiRemover','531108iXEKpT','catch','-meta.xml','(((.+)+)+)+$','execute','components','length','Have\x20to\x20update\x20%d\x20files','parentComponents','defineProperty','split','keys','./base.remover','862416psWeKx','search','all','path','12PlqZqK','256562fJvUsP','convertToString','logger','../parsers/data/child-types-map','745003eUTQQZ','__esModule','__importDefault','XmlV2','Remove\x20parent\x20component\x20%s\x20[%s]','removeChild','parse','name','64FiFhQJ','46735TcRGHX','apply','135111pUSNks','BaseRemover','default','makeDir','exists','Remove\x20component\x20\x20%s\x20[%s]','../internal/fs.internal'];a258_0x18c3=function(){return _0x86ac93;};return a258_0x18c3();}const a258_0x2e055f=(function(){let _0x448fad=!![];return function(_0x5d7be3,_0x14cecc){const _0x399443=_0x448fad?function(){const _0xb0f907=a258_0x54a2;if(_0x14cecc){const _0xf33c9f=_0x14cecc[_0xb0f907(0x158)](_0x5d7be3,arguments);return _0x14cecc=null,_0xf33c9f;}}:function(){};return _0x448fad=![],_0x399443;};}()),a258_0x4f80e2=a258_0x2e055f(this,function(){const _0x4d751e=a258_0x54a2;return a258_0x4f80e2['toString']()[_0x4d751e(0x146)](_0x4d751e(0x13b))[_0x4d751e(0x132)]()[_0x4d751e(0x131)](a258_0x4f80e2)['search']('(((.+)+)+)+$');});a258_0x4f80e2();'use strict';var __importDefault=this&&this[a258_0x30f7b2(0x150)]||function(_0x586501){const _0x52ba21=a258_0x30f7b2;return _0x586501&&_0x586501[_0x52ba21(0x14f)]?_0x586501:{'default':_0x586501};};Object[a258_0x30f7b2(0x141)](exports,'__esModule',{'value':!![]}),exports[a258_0x30f7b2(0x137)]=void 0x0;function a258_0x54a2(_0x35d1ac,_0x33d9d4){const _0x46da2d=a258_0x18c3();return a258_0x54a2=function(_0x4f80e2,_0x2e055f){_0x4f80e2=_0x4f80e2-0x123;let _0x18c35e=_0x46da2d[_0x4f80e2];return _0x18c35e;},a258_0x54a2(_0x35d1ac,_0x33d9d4);}const fs_internal_1=require(a258_0x30f7b2(0x15f)),xml_v2_1=require(a258_0x30f7b2(0x12f)),child_types_1=__importDefault(require(a258_0x30f7b2(0x161))),child_types_map_1=__importDefault(require(a258_0x30f7b2(0x14d))),path_1=__importDefault(require(a258_0x30f7b2(0x148))),base_remover_1=require(a258_0x30f7b2(0x144));class MDApiRemover extends base_remover_1[a258_0x30f7b2(0x15a)]{constructor({components:_0x2798af,sourceDir:_0x42ab40}){const _0x198c9a=a258_0x30f7b2;super({'sourceDir':_0x42ab40,'components':_0x2798af},MDApiRemover[_0x198c9a(0x155)]),this[_0x198c9a(0x130)]=_0x198c9a(0x13a),this['META_EXPERIENCE_BUNDLE']=_0x198c9a(0x129),this[_0x198c9a(0x126)]=0x64,this[_0x198c9a(0x140)]={};}async[a258_0x30f7b2(0x12c)](_0x3899cf){const _0x146fe9=a258_0x30f7b2,_0x5998ad=path_1['default'][_0x146fe9(0x160)](this[_0x146fe9(0x124)],_0x3899cf[_0x146fe9(0x148)]),_0x2ac097=path_1[_0x146fe9(0x15b)][_0x146fe9(0x160)](this[_0x146fe9(0x124)],''+_0x3899cf[_0x146fe9(0x148)]+this[_0x146fe9(0x130)]);this[_0x146fe9(0x140)][_0x3899cf[_0x146fe9(0x148)]]&&delete this[_0x146fe9(0x140)][_0x3899cf[_0x146fe9(0x148)]];const _0x46b94d=await fs_internal_1['FS'][_0x146fe9(0x12d)](_0x5998ad)[_0x146fe9(0x139)](()=>![]);if(_0x46b94d){this[_0x146fe9(0x14c)][_0x146fe9(0x12e)]('Remove\x20component\x20directory\x20%s\x20[%s]',_0x5998ad,_0x3899cf[_0x146fe9(0x127)]),await fs_internal_1['FS'][_0x146fe9(0x163)](_0x5998ad);_0x3899cf[_0x146fe9(0x127)]===_0x146fe9(0x134)?await fs_internal_1['FS'][_0x146fe9(0x135)](''+_0x5998ad+this[_0x146fe9(0x125)])[_0x146fe9(0x139)](()=>void 0x0):(this[_0x146fe9(0x14c)][_0x146fe9(0x12e)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x5998ad,_0x3899cf[_0x146fe9(0x127)]),await fs_internal_1['FS'][_0x146fe9(0x135)](''+_0x5998ad+this[_0x146fe9(0x130)])['catch'](()=>void 0x0));return;}this[_0x146fe9(0x14c)]['log'](_0x146fe9(0x15e),_0x5998ad,_0x3899cf[_0x146fe9(0x127)]),await Promise[_0x146fe9(0x147)]([fs_internal_1['FS'][_0x146fe9(0x135)](_0x5998ad),fs_internal_1['FS'][_0x146fe9(0x135)](_0x2ac097)]);}async[a258_0x30f7b2(0x153)](_0x531078){const _0x358ec2=a258_0x30f7b2,{fileName:_0x27f160,type:_0x49dbd2,path:_0x3a87e4}=_0x531078,_0x52cc5c=child_types_map_1[_0x358ec2(0x15b)][_0x49dbd2];if(!_0x52cc5c)throw new Error(_0x358ec2(0x136)+_0x49dbd2);if(!this['parentComponents'][_0x3a87e4]){const _0x3389d5=path_1[_0x358ec2(0x15b)]['join'](this[_0x358ec2(0x124)],_0x3a87e4),_0x53c13e=await fs_internal_1['FS'][_0x358ec2(0x15d)](_0x3389d5);if(!_0x53c13e)return;const _0x148f2c=await fs_internal_1['FS'][_0x358ec2(0x123)](_0x3389d5);this[_0x358ec2(0x140)][_0x3a87e4]=await xml_v2_1[_0x358ec2(0x151)][_0x358ec2(0x154)](_0x148f2c);}const _0x268fa3=this[_0x358ec2(0x140)][_0x3a87e4],_0x2feecd=_0x27f160[_0x358ec2(0x142)]('.')['pop']();xml_v2_1['XmlV2']['removeAt'](_0x268fa3,_0x52cc5c,_0x2feecd||_0x27f160),xml_v2_1['XmlV2'][_0x358ec2(0x162)](_0x268fa3)?(this[_0x358ec2(0x14c)][_0x358ec2(0x12e)]('Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x531078['path'],_0x531078[_0x358ec2(0x128)]),await this[_0x358ec2(0x12c)](_0x531078),delete this[_0x358ec2(0x140)][_0x3a87e4]):this[_0x358ec2(0x140)][_0x3a87e4]=_0x268fa3;}async[a258_0x30f7b2(0x13c)](){const _0x310c51=a258_0x30f7b2;!await fs_internal_1['FS'][_0x310c51(0x15d)](this[_0x310c51(0x124)])&&await fs_internal_1['FS'][_0x310c51(0x15c)](this[_0x310c51(0x124)]);for(const _0x3ffa15 of this['components']){!child_types_1[_0x310c51(0x15b)]['includes'](_0x3ffa15[_0x310c51(0x127)])?(this[_0x310c51(0x14c)]['log'](_0x310c51(0x152),_0x3ffa15['fileName'],_0x3ffa15['type']),await this[_0x310c51(0x12c)](_0x3ffa15)):(this[_0x310c51(0x14c)][_0x310c51(0x12e)]('Remove\x20child\x20component\x20%s\x20[%s]',_0x3ffa15['fileName'],_0x3ffa15[_0x310c51(0x127)]),await this[_0x310c51(0x153)](_0x3ffa15));}const _0x8d41dd=Object[_0x310c51(0x143)](this[_0x310c51(0x140)]);this[_0x310c51(0x14c)]['log'](_0x310c51(0x13f),this[_0x310c51(0x13d)][_0x310c51(0x13e)]);while(_0x8d41dd['length']){const _0x73244d=_0x8d41dd[_0x310c51(0x12a)](0x0,this[_0x310c51(0x126)]);for(const _0xad69a of _0x73244d){await fs_internal_1['FS'][_0x310c51(0x133)](path_1['default'][_0x310c51(0x160)](this[_0x310c51(0x124)],_0xad69a),xml_v2_1[_0x310c51(0x151)][_0x310c51(0x14b)](this[_0x310c51(0x140)][_0xad69a]));}}this[_0x310c51(0x140)]={};}}exports[a258_0x30f7b2(0x137)]=MDApiRemover;