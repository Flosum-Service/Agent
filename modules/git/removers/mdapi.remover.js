const a246_0x1d07a0=a246_0x1e05;(function(_0x3c9edc,_0x1d3507){const _0x5cfb67=a246_0x1e05,_0x579662=_0x3c9edc();while(!![]){try{const _0x47e6e9=parseInt(_0x5cfb67(0xd0))/0x1*(parseInt(_0x5cfb67(0xdd))/0x2)+-parseInt(_0x5cfb67(0xba))/0x3+parseInt(_0x5cfb67(0xdc))/0x4+parseInt(_0x5cfb67(0xf6))/0x5*(-parseInt(_0x5cfb67(0xca))/0x6)+parseInt(_0x5cfb67(0xe9))/0x7*(-parseInt(_0x5cfb67(0xe1))/0x8)+-parseInt(_0x5cfb67(0xbd))/0x9+parseInt(_0x5cfb67(0xd8))/0xa;if(_0x47e6e9===_0x1d3507)break;else _0x579662['push'](_0x579662['shift']());}catch(_0x23dd46){_0x579662['push'](_0x579662['shift']());}}}(a246_0xbeb2,0xd86aa));function a246_0xbeb2(){const _0x2321b4=['catch','fileName','site-meta.xml','../parsers/data/child-types-map','2sGzSWF','splice','constructor','readFile','parentComponents','Have\x20to\x20update\x20%d\x20files','join','Remove\x20child\x20component\x20%s\x20[%s]','40557240pjDYLi','Unknown\x20child\x20type\x20','components','convertToString','183144RCnRcu','1219796gGicFR','logger','XmlV2','META_EXPERIENCE_BUNDLE','11896wOcVcQ','parse','Remove\x20component\x20\x20%s\x20[%s]','default','MDApiRemover','-meta.xml','(((.+)+)+)+$','../parsers/utils/xml-v2','4648BoZDsb','all','execute','writeFile','name','isDir','sourceDir','exists','removeParent','keys','defineProperty','type','__esModule','80bYNFGb','search','path','4901100zPluXY','makeDir','toString','7911972hGWoPb','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','removeAt','Remove\x20component\x20directory\x20%s\x20[%s]','META_EXTENSION','__importDefault','apply','MAX_WRITES_PER_TICK','ExperienceBundle','../internal/fs.internal','../parsers/data/child-types','log','includes','350508tOXVbs','removeFile'];a246_0xbeb2=function(){return _0x2321b4;};return a246_0xbeb2();}const a246_0x331a32=(function(){let _0x134d4b=!![];return function(_0x4a01e4,_0x5dc1b0){const _0x37ab74=_0x134d4b?function(){const _0x307e2b=a246_0x1e05;if(_0x5dc1b0){const _0x6525f8=_0x5dc1b0[_0x307e2b(0xc3)](_0x4a01e4,arguments);return _0x5dc1b0=null,_0x6525f8;}}:function(){};return _0x134d4b=![],_0x37ab74;};}()),a246_0x1b2586=a246_0x331a32(this,function(){const _0x171897=a246_0x1e05;return a246_0x1b2586[_0x171897(0xbc)]()[_0x171897(0xb8)](_0x171897(0xe7))[_0x171897(0xbc)]()[_0x171897(0xd2)](a246_0x1b2586)[_0x171897(0xb8)](_0x171897(0xe7));});a246_0x1b2586();'use strict';var __importDefault=this&&this[a246_0x1d07a0(0xc2)]||function(_0x384f3d){const _0x2864b7=a246_0x1d07a0;return _0x384f3d&&_0x384f3d[_0x2864b7(0xf5)]?_0x384f3d:{'default':_0x384f3d};};Object[a246_0x1d07a0(0xf3)](exports,'__esModule',{'value':!![]}),exports[a246_0x1d07a0(0xe5)]=void 0x0;function a246_0x1e05(_0x263ef1,_0x4f98ca){const _0x43b566=a246_0xbeb2();return a246_0x1e05=function(_0x1b2586,_0x331a32){_0x1b2586=_0x1b2586-0xb8;let _0xbeb25=_0x43b566[_0x1b2586];return _0xbeb25;},a246_0x1e05(_0x263ef1,_0x4f98ca);}const fs_internal_1=require(a246_0x1d07a0(0xc6)),xml_v2_1=require(a246_0x1d07a0(0xe8)),child_types_1=__importDefault(require(a246_0x1d07a0(0xc7))),child_types_map_1=__importDefault(require(a246_0x1d07a0(0xcf))),path_1=__importDefault(require(a246_0x1d07a0(0xb9))),base_remover_1=require('./base.remover');class MDApiRemover extends base_remover_1['BaseRemover']{constructor({components:_0x38da62,sourceDir:_0x3d74d3}){const _0xe49017=a246_0x1d07a0;super({'sourceDir':_0x3d74d3,'components':_0x38da62},MDApiRemover[_0xe49017(0xed)]),this[_0xe49017(0xc1)]=_0xe49017(0xe6),this[_0xe49017(0xe0)]=_0xe49017(0xce),this[_0xe49017(0xc4)]=0x64,this['parentComponents']={};}async['removeParent'](_0x558bda){const _0x2bde4a=a246_0x1d07a0,_0x21464e=path_1[_0x2bde4a(0xe4)]['join'](this[_0x2bde4a(0xef)],_0x558bda[_0x2bde4a(0xb9)]),_0x510258=path_1[_0x2bde4a(0xe4)]['join'](this[_0x2bde4a(0xef)],''+_0x558bda['path']+this[_0x2bde4a(0xc1)]);this[_0x2bde4a(0xd4)][_0x558bda[_0x2bde4a(0xb9)]]&&delete this['parentComponents'][_0x558bda[_0x2bde4a(0xb9)]];const _0x2283c2=await fs_internal_1['FS'][_0x2bde4a(0xee)](_0x21464e)['catch'](()=>![]);if(_0x2283c2){this[_0x2bde4a(0xde)]['log'](_0x2bde4a(0xc0),_0x21464e,_0x558bda[_0x2bde4a(0xf4)]),await fs_internal_1['FS']['removeDir'](_0x21464e);_0x558bda[_0x2bde4a(0xf4)]===_0x2bde4a(0xc5)?await fs_internal_1['FS']['removeFile'](''+_0x21464e+this['META_EXPERIENCE_BUNDLE'])[_0x2bde4a(0xcc)](()=>void 0x0):(this[_0x2bde4a(0xde)][_0x2bde4a(0xc8)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x21464e,_0x558bda[_0x2bde4a(0xf4)]),await fs_internal_1['FS'][_0x2bde4a(0xcb)](''+_0x21464e+this[_0x2bde4a(0xc1)])[_0x2bde4a(0xcc)](()=>void 0x0));return;}this[_0x2bde4a(0xde)]['log'](_0x2bde4a(0xe3),_0x21464e,_0x558bda[_0x2bde4a(0xf4)]),await Promise[_0x2bde4a(0xea)]([fs_internal_1['FS'][_0x2bde4a(0xcb)](_0x21464e),fs_internal_1['FS'][_0x2bde4a(0xcb)](_0x510258)]);}async['removeChild'](_0x3633c1){const _0x59387d=a246_0x1d07a0,{fileName:_0xad61de,type:_0x567fc1,path:_0x723041}=_0x3633c1,_0x4d305d=child_types_map_1[_0x59387d(0xe4)][_0x567fc1];if(!_0x4d305d)throw new Error(_0x59387d(0xd9)+_0x567fc1);if(!this[_0x59387d(0xd4)][_0x723041]){const _0x54e102=path_1[_0x59387d(0xe4)][_0x59387d(0xd6)](this[_0x59387d(0xef)],_0x723041),_0x213273=await fs_internal_1['FS'][_0x59387d(0xf0)](_0x54e102);if(!_0x213273)return;const _0x38087a=await fs_internal_1['FS'][_0x59387d(0xd3)](_0x54e102);this[_0x59387d(0xd4)][_0x723041]=await xml_v2_1[_0x59387d(0xdf)][_0x59387d(0xe2)](_0x38087a);}const _0x367d79=this['parentComponents'][_0x723041],_0x258e50=_0xad61de['split']('.')['pop']();xml_v2_1[_0x59387d(0xdf)][_0x59387d(0xbf)](_0x367d79,_0x4d305d,_0x258e50||_0xad61de),xml_v2_1['XmlV2']['isEmptyXml'](_0x367d79)?(this[_0x59387d(0xde)][_0x59387d(0xc8)](_0x59387d(0xbe),_0x3633c1[_0x59387d(0xb9)],_0x3633c1['fileName']),await this[_0x59387d(0xf1)](_0x3633c1),delete this[_0x59387d(0xd4)][_0x723041]):this['parentComponents'][_0x723041]=_0x367d79;}async[a246_0x1d07a0(0xeb)](){const _0x36b4c8=a246_0x1d07a0;!await fs_internal_1['FS'][_0x36b4c8(0xf0)](this[_0x36b4c8(0xef)])&&await fs_internal_1['FS'][_0x36b4c8(0xbb)](this[_0x36b4c8(0xef)]);for(const _0x247921 of this[_0x36b4c8(0xda)]){!child_types_1[_0x36b4c8(0xe4)][_0x36b4c8(0xc9)](_0x247921['type'])?(this['logger'][_0x36b4c8(0xc8)]('Remove\x20parent\x20component\x20%s\x20[%s]',_0x247921[_0x36b4c8(0xcd)],_0x247921[_0x36b4c8(0xf4)]),await this[_0x36b4c8(0xf1)](_0x247921)):(this[_0x36b4c8(0xde)][_0x36b4c8(0xc8)](_0x36b4c8(0xd7),_0x247921[_0x36b4c8(0xcd)],_0x247921['type']),await this['removeChild'](_0x247921));}const _0x2df33f=Object[_0x36b4c8(0xf2)](this[_0x36b4c8(0xd4)]);this['logger'][_0x36b4c8(0xc8)](_0x36b4c8(0xd5),this[_0x36b4c8(0xda)]['length']);while(_0x2df33f['length']){const _0x5a61ef=_0x2df33f[_0x36b4c8(0xd1)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x5c4d7f of _0x5a61ef){await fs_internal_1['FS'][_0x36b4c8(0xec)](path_1[_0x36b4c8(0xe4)][_0x36b4c8(0xd6)](this['sourceDir'],_0x5c4d7f),xml_v2_1['XmlV2'][_0x36b4c8(0xdb)](this[_0x36b4c8(0xd4)][_0x5c4d7f]));}}this[_0x36b4c8(0xd4)]={};}}exports['MDApiRemover']=MDApiRemover;