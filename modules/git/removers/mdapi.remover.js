const a256_0x60a268=a256_0x594c;(function(_0x294b95,_0x1273da){const _0x230e9e=a256_0x594c,_0xc6505=_0x294b95();while(!![]){try{const _0x5a83ac=-parseInt(_0x230e9e(0x10b))/0x1+parseInt(_0x230e9e(0xfa))/0x2+-parseInt(_0x230e9e(0xff))/0x3*(parseInt(_0x230e9e(0x11b))/0x4)+-parseInt(_0x230e9e(0x111))/0x5+-parseInt(_0x230e9e(0xf4))/0x6+-parseInt(_0x230e9e(0x11e))/0x7*(parseInt(_0x230e9e(0x118))/0x8)+parseInt(_0x230e9e(0xf6))/0x9;if(_0x5a83ac===_0x1273da)break;else _0xc6505['push'](_0xc6505['shift']());}catch(_0x44dcf6){_0xc6505['push'](_0xc6505['shift']());}}}(a256_0x4677,0x4e9d7));const a256_0x128787=(function(){let _0x4d8416=!![];return function(_0x31b805,_0x409c08){const _0x2285ac=_0x4d8416?function(){const _0x17a6e3=a256_0x594c;if(_0x409c08){const _0x454607=_0x409c08[_0x17a6e3(0x101)](_0x31b805,arguments);return _0x409c08=null,_0x454607;}}:function(){};return _0x4d8416=![],_0x2285ac;};}()),a256_0x14f6f7=a256_0x128787(this,function(){const _0x52f53b=a256_0x594c;return a256_0x14f6f7[_0x52f53b(0x126)]()[_0x52f53b(0x12b)]('(((.+)+)+)+$')[_0x52f53b(0x126)]()[_0x52f53b(0xf9)](a256_0x14f6f7)[_0x52f53b(0x12b)](_0x52f53b(0x100));});a256_0x14f6f7();'use strict';var __importDefault=this&&this[a256_0x60a268(0x105)]||function(_0x48b713){const _0x3be697=a256_0x60a268;return _0x48b713&&_0x48b713[_0x3be697(0x119)]?_0x48b713:{'default':_0x48b713};};function a256_0x4677(){const _0x3b627f=['path','makeDir','Remove\x20component\x20directory\x20%s\x20[%s]','defineProperty','isDir','writeFile','16sbdcmG','__esModule','type','4YoUIHG','split','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','996737ZeDsDg','XmlV2','log','parentComponents','Unknown\x20child\x20type\x20','sourceDir','components','logger','toString','Remove\x20child\x20component\x20%s\x20[%s]','exists','META_EXPERIENCE_BUNDLE','removeFile','search','catch','default','length','Remove\x20parent\x20component\x20%s\x20[%s]','MAX_WRITES_PER_TICK','splice','removeAt','BaseRemover','1311132eUlngN','MDApiRemover','17539848Eqzmbj','-meta.xml','join','constructor','1029134OPFSWE','parse','execute','convertToString','fileName','1621857gDJarH','(((.+)+)+)+$','apply','removeParent','Remove\x20component\x20\x20%s\x20[%s]','./base.remover','__importDefault','removeDir','all','../parsers/data/child-types','../parsers/utils/xml-v2','removeChild','508271gCJBUQ','keys','isEmptyXml','pop','readFile','META_EXTENSION','2946190MDCLeP'];a256_0x4677=function(){return _0x3b627f;};return a256_0x4677();}Object[a256_0x60a268(0x115)](exports,a256_0x60a268(0x119),{'value':!![]}),exports[a256_0x60a268(0xf5)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),xml_v2_1=require(a256_0x60a268(0x109)),child_types_1=__importDefault(require(a256_0x60a268(0x108))),child_types_map_1=__importDefault(require('../parsers/data/child-types-map')),path_1=__importDefault(require(a256_0x60a268(0x112))),base_remover_1=require(a256_0x60a268(0x104));function a256_0x594c(_0x2474d5,_0x1a2ea8){const _0x31414b=a256_0x4677();return a256_0x594c=function(_0x14f6f7,_0x128787){_0x14f6f7=_0x14f6f7-0xee;let _0x467745=_0x31414b[_0x14f6f7];return _0x467745;},a256_0x594c(_0x2474d5,_0x1a2ea8);}class MDApiRemover extends base_remover_1[a256_0x60a268(0xf3)]{constructor({components:_0x503a15,sourceDir:_0x3aeb31}){const _0x555f56=a256_0x60a268;super({'sourceDir':_0x3aeb31,'components':_0x503a15},MDApiRemover['name']),this[_0x555f56(0x110)]=_0x555f56(0xf7),this[_0x555f56(0x129)]='site-meta.xml',this[_0x555f56(0xf0)]=0x64,this[_0x555f56(0x121)]={};}async[a256_0x60a268(0x102)](_0x5a8763){const _0x3eb676=a256_0x60a268,_0x4678b8=path_1[_0x3eb676(0x12d)]['join'](this[_0x3eb676(0x123)],_0x5a8763['path']),_0x22f9f6=path_1[_0x3eb676(0x12d)]['join'](this['sourceDir'],''+_0x5a8763[_0x3eb676(0x112)]+this[_0x3eb676(0x110)]);this['parentComponents'][_0x5a8763[_0x3eb676(0x112)]]&&delete this[_0x3eb676(0x121)][_0x5a8763[_0x3eb676(0x112)]];const _0xf63288=await fs_internal_1['FS'][_0x3eb676(0x116)](_0x4678b8)[_0x3eb676(0x12c)](()=>![]);if(_0xf63288){this[_0x3eb676(0x125)][_0x3eb676(0x120)](_0x3eb676(0x114),_0x4678b8,_0x5a8763[_0x3eb676(0x11a)]),await fs_internal_1['FS'][_0x3eb676(0x106)](_0x4678b8);_0x5a8763[_0x3eb676(0x11a)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x3eb676(0x12a)](''+_0x4678b8+this[_0x3eb676(0x129)])[_0x3eb676(0x12c)](()=>void 0x0):(this['logger'][_0x3eb676(0x120)](_0x3eb676(0x11d),_0x4678b8,_0x5a8763['type']),await fs_internal_1['FS'][_0x3eb676(0x12a)](''+_0x4678b8+this[_0x3eb676(0x110)])[_0x3eb676(0x12c)](()=>void 0x0));return;}this[_0x3eb676(0x125)][_0x3eb676(0x120)](_0x3eb676(0x103),_0x4678b8,_0x5a8763[_0x3eb676(0x11a)]),await Promise[_0x3eb676(0x107)]([fs_internal_1['FS'][_0x3eb676(0x12a)](_0x4678b8),fs_internal_1['FS']['removeFile'](_0x22f9f6)]);}async[a256_0x60a268(0x10a)](_0x33405d){const _0x10cf61=a256_0x60a268,{fileName:_0x146203,type:_0xdfe161,path:_0x4684a6}=_0x33405d,_0x23bbd8=child_types_map_1[_0x10cf61(0x12d)][_0xdfe161];if(!_0x23bbd8)throw new Error(_0x10cf61(0x122)+_0xdfe161);if(!this[_0x10cf61(0x121)][_0x4684a6]){const _0x4e52ca=path_1[_0x10cf61(0x12d)][_0x10cf61(0xf8)](this[_0x10cf61(0x123)],_0x4684a6),_0xc43147=await fs_internal_1['FS'][_0x10cf61(0x128)](_0x4e52ca);if(!_0xc43147)return;const _0x2f974f=await fs_internal_1['FS'][_0x10cf61(0x10f)](_0x4e52ca);this['parentComponents'][_0x4684a6]=await xml_v2_1[_0x10cf61(0x11f)][_0x10cf61(0xfb)](_0x2f974f);}const _0x252b3f=this['parentComponents'][_0x4684a6],_0x5c8645=_0x146203[_0x10cf61(0x11c)]('.')[_0x10cf61(0x10e)]();xml_v2_1[_0x10cf61(0x11f)][_0x10cf61(0xf2)](_0x252b3f,_0x23bbd8,_0x5c8645||_0x146203),xml_v2_1['XmlV2'][_0x10cf61(0x10d)](_0x252b3f)?(this['logger'][_0x10cf61(0x120)]('Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x33405d[_0x10cf61(0x112)],_0x33405d[_0x10cf61(0xfe)]),await this[_0x10cf61(0x102)](_0x33405d),delete this[_0x10cf61(0x121)][_0x4684a6]):this[_0x10cf61(0x121)][_0x4684a6]=_0x252b3f;}async[a256_0x60a268(0xfc)](){const _0x3be372=a256_0x60a268;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x3be372(0x113)](this['sourceDir']);for(const _0x19bb34 of this[_0x3be372(0x124)]){!child_types_1[_0x3be372(0x12d)]['includes'](_0x19bb34[_0x3be372(0x11a)])?(this[_0x3be372(0x125)][_0x3be372(0x120)](_0x3be372(0xef),_0x19bb34[_0x3be372(0xfe)],_0x19bb34[_0x3be372(0x11a)]),await this[_0x3be372(0x102)](_0x19bb34)):(this[_0x3be372(0x125)][_0x3be372(0x120)](_0x3be372(0x127),_0x19bb34['fileName'],_0x19bb34[_0x3be372(0x11a)]),await this[_0x3be372(0x10a)](_0x19bb34));}const _0x10cc02=Object[_0x3be372(0x10c)](this[_0x3be372(0x121)]);this[_0x3be372(0x125)]['log']('Have\x20to\x20update\x20%d\x20files',this['components'][_0x3be372(0xee)]);while(_0x10cc02[_0x3be372(0xee)]){const _0x502bb9=_0x10cc02[_0x3be372(0xf1)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x572ba0 of _0x502bb9){await fs_internal_1['FS'][_0x3be372(0x117)](path_1[_0x3be372(0x12d)][_0x3be372(0xf8)](this[_0x3be372(0x123)],_0x572ba0),xml_v2_1[_0x3be372(0x11f)][_0x3be372(0xfd)](this[_0x3be372(0x121)][_0x572ba0]));}}this[_0x3be372(0x121)]={};}}exports[a256_0x60a268(0xf5)]=MDApiRemover;