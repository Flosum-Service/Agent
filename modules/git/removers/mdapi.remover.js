const a258_0x51407a=a258_0x2f14;function a258_0x29f9(){const _0x42bf6c=['removeParent','(((.+)+)+)+$','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','50eiAElF','20516HawfYg','../parsers/data/child-types','logger','isDir','removeAt','catch','XmlV2','MDApiRemover','keys','defineProperty','__esModule','writeFile','split','toString','removeChild','150HlTDLy','Have\x20to\x20update\x20%d\x20files','../internal/fs.internal','__importDefault','142407UHNXXI','path','115669kdoljI','./base.remover','all','39245kARmKR','Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','22740EgOGQK','Unknown\x20child\x20type\x20','constructor','282163gELQcM','makeDir','convertToString','../parsers/utils/xml-v2','15Yyzmyb','META_EXTENSION','length','removeFile','search','40xAVwOL','MAX_WRITES_PER_TICK','sourceDir','default','Remove\x20component\x20\x20%s\x20[%s]','log','parentComponents','type','BaseRemover','META_EXPERIENCE_BUNDLE','1334600mdIuGo','name','splice','execute','parse','165HuwQDN','isEmptyXml','apply','components','Remove\x20child\x20component\x20%s\x20[%s]','join','fileName','includes','ExperienceBundle'];a258_0x29f9=function(){return _0x42bf6c;};return a258_0x29f9();}(function(_0x492d70,_0x194413){const _0x243b0d=a258_0x2f14,_0x16ca31=_0x492d70();while(!![]){try{const _0xe71579=-parseInt(_0x243b0d(0x84))/0x1+-parseInt(_0x243b0d(0xb1))/0x2*(-parseInt(_0x243b0d(0x90))/0x3)+parseInt(_0x243b0d(0x9f))/0x4+-parseInt(_0x243b0d(0x87))/0x5*(parseInt(_0x243b0d(0x7e))/0x6)+parseInt(_0x243b0d(0x8c))/0x7*(parseInt(_0x243b0d(0x95))/0x8)+parseInt(_0x243b0d(0x82))/0x9*(-parseInt(_0x243b0d(0xb0))/0xa)+-parseInt(_0x243b0d(0xa4))/0xb*(parseInt(_0x243b0d(0x89))/0xc);if(_0xe71579===_0x194413)break;else _0x16ca31['push'](_0x16ca31['shift']());}catch(_0x4cdb7b){_0x16ca31['push'](_0x16ca31['shift']());}}}(a258_0x29f9,0x28c8b));const a258_0x2f7060=(function(){let _0x58c9e0=!![];return function(_0x3c6bcf,_0x84b778){const _0x136306=_0x58c9e0?function(){const _0x42f19e=a258_0x2f14;if(_0x84b778){const _0xba92ea=_0x84b778[_0x42f19e(0xa6)](_0x3c6bcf,arguments);return _0x84b778=null,_0xba92ea;}}:function(){};return _0x58c9e0=![],_0x136306;};}()),a258_0x1535b7=a258_0x2f7060(this,function(){const _0x475fe1=a258_0x2f14;return a258_0x1535b7['toString']()[_0x475fe1(0x94)](_0x475fe1(0xae))[_0x475fe1(0xbe)]()[_0x475fe1(0x8b)](a258_0x1535b7)[_0x475fe1(0x94)](_0x475fe1(0xae));});function a258_0x2f14(_0x9e01b1,_0x1895cb){const _0x120686=a258_0x29f9();return a258_0x2f14=function(_0x1535b7,_0x2f7060){_0x1535b7=_0x1535b7-0x7d;let _0x29f99b=_0x120686[_0x1535b7];return _0x29f99b;},a258_0x2f14(_0x9e01b1,_0x1895cb);}a258_0x1535b7();'use strict';var __importDefault=this&&this[a258_0x51407a(0x81)]||function(_0x1906fe){return _0x1906fe&&_0x1906fe['__esModule']?_0x1906fe:{'default':_0x1906fe};};Object[a258_0x51407a(0xba)](exports,a258_0x51407a(0xbb),{'value':!![]}),exports[a258_0x51407a(0xb8)]=void 0x0;const fs_internal_1=require(a258_0x51407a(0x80)),xml_v2_1=require(a258_0x51407a(0x8f)),child_types_1=__importDefault(require(a258_0x51407a(0xb2))),child_types_map_1=__importDefault(require('../parsers/data/child-types-map')),path_1=__importDefault(require(a258_0x51407a(0x83))),base_remover_1=require(a258_0x51407a(0x85));class MDApiRemover extends base_remover_1[a258_0x51407a(0x9d)]{constructor({components:_0x173f13,sourceDir:_0x1c2ba3}){const _0x50cc15=a258_0x51407a;super({'sourceDir':_0x1c2ba3,'components':_0x173f13},MDApiRemover[_0x50cc15(0xa0)]),this[_0x50cc15(0x91)]='-meta.xml',this[_0x50cc15(0x9e)]='site-meta.xml',this[_0x50cc15(0x96)]=0x64,this[_0x50cc15(0x9b)]={};}async[a258_0x51407a(0xad)](_0x5829a4){const _0x17d82e=a258_0x51407a,_0xcc1ee1=path_1[_0x17d82e(0x98)][_0x17d82e(0xa9)](this[_0x17d82e(0x97)],_0x5829a4[_0x17d82e(0x83)]),_0x4683b8=path_1[_0x17d82e(0x98)][_0x17d82e(0xa9)](this[_0x17d82e(0x97)],''+_0x5829a4[_0x17d82e(0x83)]+this[_0x17d82e(0x91)]);this[_0x17d82e(0x9b)][_0x5829a4[_0x17d82e(0x83)]]&&delete this['parentComponents'][_0x5829a4[_0x17d82e(0x83)]];const _0x23616a=await fs_internal_1['FS'][_0x17d82e(0xb4)](_0xcc1ee1)[_0x17d82e(0xb6)](()=>![]);if(_0x23616a){this[_0x17d82e(0xb3)][_0x17d82e(0x9a)]('Remove\x20component\x20directory\x20%s\x20[%s]',_0xcc1ee1,_0x5829a4['type']),await fs_internal_1['FS']['removeDir'](_0xcc1ee1);_0x5829a4[_0x17d82e(0x9c)]===_0x17d82e(0xac)?await fs_internal_1['FS'][_0x17d82e(0x93)](''+_0xcc1ee1+this[_0x17d82e(0x9e)])[_0x17d82e(0xb6)](()=>void 0x0):(this['logger'][_0x17d82e(0x9a)](_0x17d82e(0x88),_0xcc1ee1,_0x5829a4['type']),await fs_internal_1['FS'][_0x17d82e(0x93)](''+_0xcc1ee1+this[_0x17d82e(0x91)])[_0x17d82e(0xb6)](()=>void 0x0));return;}this[_0x17d82e(0xb3)][_0x17d82e(0x9a)](_0x17d82e(0x99),_0xcc1ee1,_0x5829a4[_0x17d82e(0x9c)]),await Promise[_0x17d82e(0x86)]([fs_internal_1['FS'][_0x17d82e(0x93)](_0xcc1ee1),fs_internal_1['FS'][_0x17d82e(0x93)](_0x4683b8)]);}async[a258_0x51407a(0x7d)](_0x20e034){const _0x4e1167=a258_0x51407a,{fileName:_0x5b0660,type:_0x54cc0e,path:_0x33f6fa}=_0x20e034,_0x3909ea=child_types_map_1[_0x4e1167(0x98)][_0x54cc0e];if(!_0x3909ea)throw new Error(_0x4e1167(0x8a)+_0x54cc0e);if(!this[_0x4e1167(0x9b)][_0x33f6fa]){const _0x47de6b=path_1[_0x4e1167(0x98)][_0x4e1167(0xa9)](this[_0x4e1167(0x97)],_0x33f6fa),_0x3e8134=await fs_internal_1['FS']['exists'](_0x47de6b);if(!_0x3e8134)return;const _0x18f37e=await fs_internal_1['FS']['readFile'](_0x47de6b);this['parentComponents'][_0x33f6fa]=await xml_v2_1[_0x4e1167(0xb7)][_0x4e1167(0xa3)](_0x18f37e);}const _0x3081cb=this[_0x4e1167(0x9b)][_0x33f6fa],_0x571e1c=_0x5b0660[_0x4e1167(0xbd)]('.')['pop']();xml_v2_1[_0x4e1167(0xb7)][_0x4e1167(0xb5)](_0x3081cb,_0x3909ea,_0x571e1c||_0x5b0660),xml_v2_1['XmlV2'][_0x4e1167(0xa5)](_0x3081cb)?(this['logger']['log'](_0x4e1167(0xaf),_0x20e034[_0x4e1167(0x83)],_0x20e034[_0x4e1167(0xaa)]),await this['removeParent'](_0x20e034),delete this['parentComponents'][_0x33f6fa]):this['parentComponents'][_0x33f6fa]=_0x3081cb;}async[a258_0x51407a(0xa2)](){const _0x283e4d=a258_0x51407a;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x283e4d(0x8d)](this[_0x283e4d(0x97)]);for(const _0x469c4c of this[_0x283e4d(0xa7)]){!child_types_1[_0x283e4d(0x98)][_0x283e4d(0xab)](_0x469c4c[_0x283e4d(0x9c)])?(this['logger'][_0x283e4d(0x9a)]('Remove\x20parent\x20component\x20%s\x20[%s]',_0x469c4c[_0x283e4d(0xaa)],_0x469c4c[_0x283e4d(0x9c)]),await this[_0x283e4d(0xad)](_0x469c4c)):(this[_0x283e4d(0xb3)]['log'](_0x283e4d(0xa8),_0x469c4c[_0x283e4d(0xaa)],_0x469c4c[_0x283e4d(0x9c)]),await this[_0x283e4d(0x7d)](_0x469c4c));}const _0x47a6ea=Object[_0x283e4d(0xb9)](this[_0x283e4d(0x9b)]);this[_0x283e4d(0xb3)][_0x283e4d(0x9a)](_0x283e4d(0x7f),this['components']['length']);while(_0x47a6ea[_0x283e4d(0x92)]){const _0x1ed71c=_0x47a6ea[_0x283e4d(0xa1)](0x0,this[_0x283e4d(0x96)]);for(const _0x48bf38 of _0x1ed71c){await fs_internal_1['FS'][_0x283e4d(0xbc)](path_1[_0x283e4d(0x98)][_0x283e4d(0xa9)](this[_0x283e4d(0x97)],_0x48bf38),xml_v2_1['XmlV2'][_0x283e4d(0x8e)](this[_0x283e4d(0x9b)][_0x48bf38]));}}this[_0x283e4d(0x9b)]={};}}exports[a258_0x51407a(0xb8)]=MDApiRemover;