const a258_0x4adee3=a258_0x1501;(function(_0xf932c6,_0x3081dd){const _0x544cb5=a258_0x1501,_0x1da2a9=_0xf932c6();while(!![]){try{const _0x6d58c=parseInt(_0x544cb5(0x120))/0x1+parseInt(_0x544cb5(0x14e))/0x2*(parseInt(_0x544cb5(0x13a))/0x3)+parseInt(_0x544cb5(0x11b))/0x4*(-parseInt(_0x544cb5(0x13d))/0x5)+parseInt(_0x544cb5(0x14d))/0x6+parseInt(_0x544cb5(0x138))/0x7*(-parseInt(_0x544cb5(0x12c))/0x8)+parseInt(_0x544cb5(0x117))/0x9+parseInt(_0x544cb5(0x11d))/0xa*(parseInt(_0x544cb5(0x12e))/0xb);if(_0x6d58c===_0x3081dd)break;else _0x1da2a9['push'](_0x1da2a9['shift']());}catch(_0x142474){_0x1da2a9['push'](_0x1da2a9['shift']());}}}(a258_0x6970,0xc54c7));const a258_0x5c5151=(function(){let _0x151419=!![];return function(_0x3a1f39,_0x2dcd98){const _0xe9e4d6=_0x151419?function(){if(_0x2dcd98){const _0x14176a=_0x2dcd98['apply'](_0x3a1f39,arguments);return _0x2dcd98=null,_0x14176a;}}:function(){};return _0x151419=![],_0xe9e4d6;};}()),a258_0x1a45cd=a258_0x5c5151(this,function(){const _0x19beee=a258_0x1501;return a258_0x1a45cd[_0x19beee(0x131)]()[_0x19beee(0x119)](_0x19beee(0x130))[_0x19beee(0x131)]()[_0x19beee(0x144)](a258_0x1a45cd)[_0x19beee(0x119)]('(((.+)+)+)+$');});a258_0x1a45cd();function a258_0x6970(){const _0x2c3686=['9006UFxeOD','pop','execute','5RBGdet','removeChild','removeDir','removeAt','keys','removeParent','join','constructor','writeFile','length','Unknown\x20child\x20type\x20','isDir','MDApiRemover','sourceDir','__esModule','catch','2124126eAYfol','514hKqdQj','XmlV2','type','Remove\x20component\x20\x20%s\x20[%s]','site-meta.xml','removeFile','path','META_EXPERIENCE_BUNDLE','parse','5781771mxMtPW','./base.remover','search','../parsers/utils/xml-v2','5400548uDvIwe','splice','350xXHaeP','MAX_WRITES_PER_TICK','components','307657didLTz','log','META_EXTENSION','readFile','default','parentComponents','BaseRemover','../parsers/data/child-types-map','isEmptyXml','-meta.xml','ExperienceBundle','Remove\x20child\x20component\x20%s\x20[%s]','7646592KyXGKe','name','326381mDXoly','logger','(((.+)+)+)+$','toString','Have\x20to\x20update\x20%d\x20files','split','convertToString','exists','fileName','Remove\x20component\x20directory\x20%s\x20[%s]','7LrmoTV','Remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]'];a258_0x6970=function(){return _0x2c3686;};return a258_0x6970();}'use strict';function a258_0x1501(_0x3e6d29,_0x25c7bd){const _0x2d43a8=a258_0x6970();return a258_0x1501=function(_0x1a45cd,_0x5c5151){_0x1a45cd=_0x1a45cd-0x110;let _0x697026=_0x2d43a8[_0x1a45cd];return _0x697026;},a258_0x1501(_0x3e6d29,_0x25c7bd);}var __importDefault=this&&this['__importDefault']||function(_0x29094b){const _0x4499a7=a258_0x1501;return _0x29094b&&_0x29094b[_0x4499a7(0x14b)]?_0x29094b:{'default':_0x29094b};};Object['defineProperty'](exports,a258_0x4adee3(0x14b),{'value':!![]}),exports[a258_0x4adee3(0x149)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),xml_v2_1=require(a258_0x4adee3(0x11a)),child_types_1=__importDefault(require('../parsers/data/child-types')),child_types_map_1=__importDefault(require(a258_0x4adee3(0x127))),path_1=__importDefault(require('path')),base_remover_1=require(a258_0x4adee3(0x118));class MDApiRemover extends base_remover_1[a258_0x4adee3(0x126)]{constructor({components:_0x2916fe,sourceDir:_0x12f30d}){const _0x1bffb7=a258_0x4adee3;super({'sourceDir':_0x12f30d,'components':_0x2916fe},MDApiRemover[_0x1bffb7(0x12d)]),this[_0x1bffb7(0x122)]=_0x1bffb7(0x129),this[_0x1bffb7(0x115)]=_0x1bffb7(0x112),this[_0x1bffb7(0x11e)]=0x64,this[_0x1bffb7(0x125)]={};}async[a258_0x4adee3(0x142)](_0x1b18f5){const _0x5cf079=a258_0x4adee3,_0x12f9bb=path_1[_0x5cf079(0x124)][_0x5cf079(0x143)](this[_0x5cf079(0x14a)],_0x1b18f5[_0x5cf079(0x114)]),_0x297326=path_1[_0x5cf079(0x124)][_0x5cf079(0x143)](this['sourceDir'],''+_0x1b18f5['path']+this['META_EXTENSION']);this[_0x5cf079(0x125)][_0x1b18f5['path']]&&delete this[_0x5cf079(0x125)][_0x1b18f5[_0x5cf079(0x114)]];const _0x20ab4d=await fs_internal_1['FS'][_0x5cf079(0x148)](_0x12f9bb)[_0x5cf079(0x14c)](()=>![]);if(_0x20ab4d){this[_0x5cf079(0x12f)][_0x5cf079(0x121)](_0x5cf079(0x137),_0x12f9bb,_0x1b18f5['type']),await fs_internal_1['FS'][_0x5cf079(0x13f)](_0x12f9bb);_0x1b18f5['type']===_0x5cf079(0x12a)?await fs_internal_1['FS'][_0x5cf079(0x113)](''+_0x12f9bb+this[_0x5cf079(0x115)])['catch'](()=>void 0x0):(this[_0x5cf079(0x12f)][_0x5cf079(0x121)]('Remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x12f9bb,_0x1b18f5[_0x5cf079(0x110)]),await fs_internal_1['FS'][_0x5cf079(0x113)](''+_0x12f9bb+this[_0x5cf079(0x122)])[_0x5cf079(0x14c)](()=>void 0x0));return;}this[_0x5cf079(0x12f)][_0x5cf079(0x121)](_0x5cf079(0x111),_0x12f9bb,_0x1b18f5[_0x5cf079(0x110)]),await Promise['all']([fs_internal_1['FS'][_0x5cf079(0x113)](_0x12f9bb),fs_internal_1['FS'][_0x5cf079(0x113)](_0x297326)]);}async[a258_0x4adee3(0x13e)](_0x501204){const _0x12c161=a258_0x4adee3,{fileName:_0x5d182b,type:_0xd50d01,path:_0x1b817e}=_0x501204,_0x24d240=child_types_map_1[_0x12c161(0x124)][_0xd50d01];if(!_0x24d240)throw new Error(_0x12c161(0x147)+_0xd50d01);if(!this[_0x12c161(0x125)][_0x1b817e]){const _0x4d2c51=path_1[_0x12c161(0x124)][_0x12c161(0x143)](this['sourceDir'],_0x1b817e),_0x140ad3=await fs_internal_1['FS']['exists'](_0x4d2c51);if(!_0x140ad3)return;const _0x2cb058=await fs_internal_1['FS'][_0x12c161(0x123)](_0x4d2c51);this['parentComponents'][_0x1b817e]=await xml_v2_1[_0x12c161(0x14f)][_0x12c161(0x116)](_0x2cb058);}const _0x4db8ce=this['parentComponents'][_0x1b817e],_0x54200d=_0x5d182b[_0x12c161(0x133)]('.')[_0x12c161(0x13b)]();xml_v2_1['XmlV2'][_0x12c161(0x140)](_0x4db8ce,_0x24d240,_0x54200d||_0x5d182b),xml_v2_1[_0x12c161(0x14f)][_0x12c161(0x128)](_0x4db8ce)?(this['logger'][_0x12c161(0x121)](_0x12c161(0x139),_0x501204['path'],_0x501204[_0x12c161(0x136)]),await this['removeParent'](_0x501204),delete this[_0x12c161(0x125)][_0x1b817e]):this[_0x12c161(0x125)][_0x1b817e]=_0x4db8ce;}async[a258_0x4adee3(0x13c)](){const _0x2ee79a=a258_0x4adee3;!await fs_internal_1['FS'][_0x2ee79a(0x135)](this[_0x2ee79a(0x14a)])&&await fs_internal_1['FS']['makeDir'](this[_0x2ee79a(0x14a)]);for(const _0x63b3e1 of this[_0x2ee79a(0x11f)]){!child_types_1[_0x2ee79a(0x124)]['includes'](_0x63b3e1[_0x2ee79a(0x110)])?(this[_0x2ee79a(0x12f)]['log']('Remove\x20parent\x20component\x20%s\x20[%s]',_0x63b3e1['fileName'],_0x63b3e1['type']),await this[_0x2ee79a(0x142)](_0x63b3e1)):(this[_0x2ee79a(0x12f)][_0x2ee79a(0x121)](_0x2ee79a(0x12b),_0x63b3e1[_0x2ee79a(0x136)],_0x63b3e1['type']),await this[_0x2ee79a(0x13e)](_0x63b3e1));}const _0x3b0bc3=Object[_0x2ee79a(0x141)](this[_0x2ee79a(0x125)]);this['logger']['log'](_0x2ee79a(0x132),this['components'][_0x2ee79a(0x146)]);while(_0x3b0bc3[_0x2ee79a(0x146)]){const _0x520792=_0x3b0bc3[_0x2ee79a(0x11c)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x5a523e of _0x520792){await fs_internal_1['FS'][_0x2ee79a(0x145)](path_1[_0x2ee79a(0x124)][_0x2ee79a(0x143)](this['sourceDir'],_0x5a523e),xml_v2_1[_0x2ee79a(0x14f)][_0x2ee79a(0x134)](this[_0x2ee79a(0x125)][_0x5a523e]));}}this[_0x2ee79a(0x125)]={};}}exports[a258_0x4adee3(0x149)]=MDApiRemover;