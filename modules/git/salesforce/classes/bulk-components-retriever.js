function a257_0x1738(_0x2c12fd,_0xf78733){const _0x442287=a257_0x4304();return a257_0x1738=function(_0x144ae2,_0x4b0a0c){_0x144ae2=_0x144ae2-0x1cf;let _0x430409=_0x442287[_0x144ae2];return _0x430409;},a257_0x1738(_0x2c12fd,_0xf78733);}const a257_0x4cc260=a257_0x1738;(function(_0x5998b4,_0x1dc8b4){const _0x1cfe32=a257_0x1738,_0x2c1609=_0x5998b4();while(!![]){try{const _0x42a11c=parseInt(_0x1cfe32(0x200))/0x1*(-parseInt(_0x1cfe32(0x1ec))/0x2)+-parseInt(_0x1cfe32(0x1d0))/0x3*(parseInt(_0x1cfe32(0x1ff))/0x4)+-parseInt(_0x1cfe32(0x1df))/0x5*(-parseInt(_0x1cfe32(0x1e4))/0x6)+parseInt(_0x1cfe32(0x1f5))/0x7+-parseInt(_0x1cfe32(0x1e0))/0x8*(parseInt(_0x1cfe32(0x1e2))/0x9)+-parseInt(_0x1cfe32(0x1f3))/0xa*(parseInt(_0x1cfe32(0x209))/0xb)+parseInt(_0x1cfe32(0x1d6))/0xc*(parseInt(_0x1cfe32(0x1e8))/0xd);if(_0x42a11c===_0x1dc8b4)break;else _0x2c1609['push'](_0x2c1609['shift']());}catch(_0x2523fd){_0x2c1609['push'](_0x2c1609['shift']());}}}(a257_0x4304,0x4f6db));const a257_0x4b0a0c=(function(){let _0x2e88e9=!![];return function(_0x2511d2,_0x37911b){const _0x48dd42=_0x2e88e9?function(){const _0x355f5=a257_0x1738;if(_0x37911b){const _0x1874d1=_0x37911b[_0x355f5(0x1eb)](_0x2511d2,arguments);return _0x37911b=null,_0x1874d1;}}:function(){};return _0x2e88e9=![],_0x48dd42;};}()),a257_0x144ae2=a257_0x4b0a0c(this,function(){const _0x19970c=a257_0x1738;return a257_0x144ae2['toString']()[_0x19970c(0x1f4)](_0x19970c(0x1dc))['toString']()[_0x19970c(0x1f1)](a257_0x144ae2)[_0x19970c(0x1f4)]('(((.+)+)+)+$');});a257_0x144ae2();'use strict';Object[a257_0x4cc260(0x1f2)](exports,a257_0x4cc260(0x1ef),{'value':!![]}),exports['BulkComponentsRetriever']=void 0x0;const salesforce_1=require(a257_0x4cc260(0x1d7)),core_1=require('../../../../core'),constants_1=require('../../../../constants'),BINARY_FIELDS=[a257_0x4cc260(0x1ea)],MAX_IDS_CHUNK_LENGTH=0xfa0;class BulkComponentsRetriever{constructor({request:_0x1e31ad,ids:_0x258f00}){const _0xae3ac3=a257_0x4cc260;this['components']=new Map(),this[_0xae3ac3(0x1cf)]=_0x1e31ad,this[_0xae3ac3(0x1fa)]=_0x258f00,this[_0xae3ac3(0x1fc)]=new core_1[(_0xae3ac3(0x1f8))](BulkComponentsRetriever[_0xae3ac3(0x1d4)]);}async[a257_0x4cc260(0x204)](_0x53c6aa){const _0x23fce3=a257_0x4cc260,_0xc93d9f=new salesforce_1[(_0x23fce3(0x1f6))]()[_0x23fce3(0x1e5)]('Id',constants_1[_0x23fce3(0x1d8)]+_0x23fce3(0x1f0)+constants_1['FLOSUM_NAMESPACE']+'Component_Name__c',constants_1[_0x23fce3(0x1d8)]+_0x23fce3(0x1d5))[_0x23fce3(0x1ed)](constants_1['FLOSUM_NAMESPACE']+_0x23fce3(0x202))[_0x23fce3(0x1dd)](_0x23fce3(0x1e6),{'ids':_0x53c6aa}),_0x26a8a9=new salesforce_1[(_0x23fce3(0x205))]({'api':salesforce_1['SalesforceConstants']['API'],'queryBuilder':_0xc93d9f,'instance':this[_0x23fce3(0x1cf)],'isTooling':![]});do{const {records:_0x304329}=await _0x26a8a9['execute']();for(const _0x5bad51 of _0x304329){this[_0x23fce3(0x208)]['set'](_0x5bad51['Id'],{'fileName':_0x5bad51[constants_1[_0x23fce3(0x1d8)]+_0x23fce3(0x1ee)][constants_1['FLOSUM_NAMESPACE']+_0x23fce3(0x1e3)],'fileType':'','body':'','version':_0x5bad51[constants_1[_0x23fce3(0x1d8)]+_0x23fce3(0x1d5)]});}}while(!_0x26a8a9[_0x23fce3(0x1d9)]());}async[a257_0x4cc260(0x1e7)](_0x47b7d2){const _0x3bd3c2=a257_0x4cc260,_0x29fe4f=new salesforce_1[(_0x3bd3c2(0x1f6))]()[_0x3bd3c2(0x1e5)](_0x3bd3c2(0x1ea),_0x3bd3c2(0x1fe),_0x3bd3c2(0x1d3))[_0x3bd3c2(0x1ed)](_0x3bd3c2(0x1fd))[_0x3bd3c2(0x1dd)](_0x3bd3c2(0x1d1),{'ids':_0x47b7d2}),_0x41b316=new salesforce_1[(_0x3bd3c2(0x1d2))]({'instance':this[_0x3bd3c2(0x1cf)],'api':salesforce_1[_0x3bd3c2(0x1f9)]['API'],'pollInterval':0x1388,'queryBuilder':_0x29fe4f,'objectName':_0x3bd3c2(0x1fd),'contentType':salesforce_1[_0x3bd3c2(0x1fb)][_0x3bd3c2(0x1e1)],'jobOperation':salesforce_1[_0x3bd3c2(0x207)]['Query']});do{const _0x1517a3=await _0x41b316[_0x3bd3c2(0x1e9)]();if(!_0x1517a3)break;const _0x48626e=new salesforce_1[(_0x3bd3c2(0x1da))]({'binaryFields':BINARY_FIELDS});for await(const {Name:_0x1109e7,ParentId:_0x577b0d,Body:_0x15ed09}of _0x1517a3['pipe'](_0x48626e)){const _0x3cbca5=this[_0x3bd3c2(0x208)][_0x3bd3c2(0x206)](_0x577b0d);if(!_0x3cbca5){this[_0x3bd3c2(0x1fc)][_0x3bd3c2(0x1db)]('Parent\x20record\x20(%s)\x20for\x20file\x20(%s)\x20was\x20not\x20found.',_0x577b0d,_0x1109e7);continue;}_0x3cbca5['body']=_0x15ed09,_0x3cbca5[_0x3bd3c2(0x1f7)]=_0x1109e7;}}while(!_0x41b316[_0x3bd3c2(0x1d9)]());}async[a257_0x4cc260(0x1de)](){const _0x459b55=a257_0x4cc260;do{const _0x4f0439=this[_0x459b55(0x1fa)][_0x459b55(0x203)](0x0,MAX_IDS_CHUNK_LENGTH);await this['retrieveComponents'](_0x4f0439),await this[_0x459b55(0x1e7)](_0x4f0439);}while(this[_0x459b55(0x1fa)][_0x459b55(0x20a)]);return[...this['components'][_0x459b55(0x201)]()];}}exports['BulkComponentsRetriever']=BulkComponentsRetriever;function a257_0x4304(){const _0x4ad843=['667752DIWqcN','@flosum/salesforce','FLOSUM_NAMESPACE','getIsDone','BulkXmlStreamParser','error','(((.+)+)+)+$','where','retrieve','2174225nKxAaO','376tCFvLo','APPLICATION_XML','17001KyxyOs','Component_Name__c','6PLJDrL','select','Id\x20IN\x20(:ids)','retrieveAttachments','78cvUPWI','execute','Body','apply','1110058WlgEUS','from','Component__r','__esModule','Component__r.','constructor','defineProperty','1290ZGLUyK','search','3155579iKCUaj','QueryBuilder','fileType','Logger','SalesforceConstants','ids','BulkV1QueryContentType','logger','Attachment','Name','4FbMbkf','1MYiAtK','values','Component_History__c','splice','retrieveComponents','CompositeRetrieveData','get','Bulk1JobOperation','components','5665lOtlpg','length','request','551796StOWAB','ParentId\x20IN\x20(:ids)','Bulk1RetrieveData','ParentId','name','Version__c'];a257_0x4304=function(){return _0x4ad843;};return a257_0x4304();}