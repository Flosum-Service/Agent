function a247_0x26a5(_0x41c7bd,_0x469c68){const _0x26f8b5=a247_0x416c();return a247_0x26a5=function(_0x41cf0d,_0x33f021){_0x41cf0d=_0x41cf0d-0x1ca;let _0x416cff=_0x26f8b5[_0x41cf0d];return _0x416cff;},a247_0x26a5(_0x41c7bd,_0x469c68);}const a247_0x5d5cda=a247_0x26a5;(function(_0x6517b0,_0x124f75){const _0x56a2a7=a247_0x26a5,_0xb5a990=_0x6517b0();while(!![]){try{const _0x2b62e0=-parseInt(_0x56a2a7(0x1ee))/0x1*(parseInt(_0x56a2a7(0x1e2))/0x2)+-parseInt(_0x56a2a7(0x1e0))/0x3*(parseInt(_0x56a2a7(0x1d5))/0x4)+parseInt(_0x56a2a7(0x1d9))/0x5+-parseInt(_0x56a2a7(0x1dc))/0x6+parseInt(_0x56a2a7(0x1d4))/0x7+parseInt(_0x56a2a7(0x1fd))/0x8*(parseInt(_0x56a2a7(0x1fe))/0x9)+-parseInt(_0x56a2a7(0x1e1))/0xa*(-parseInt(_0x56a2a7(0x1da))/0xb);if(_0x2b62e0===_0x124f75)break;else _0xb5a990['push'](_0xb5a990['shift']());}catch(_0x20b5ff){_0xb5a990['push'](_0xb5a990['shift']());}}}(a247_0x416c,0x80355));const a247_0x33f021=(function(){let _0x3d7324=!![];return function(_0x30243c,_0x1a93cc){const _0x22cd46=_0x3d7324?function(){const _0x357e4b=a247_0x26a5;if(_0x1a93cc){const _0x118880=_0x1a93cc[_0x357e4b(0x1eb)](_0x30243c,arguments);return _0x1a93cc=null,_0x118880;}}:function(){};return _0x3d7324=![],_0x22cd46;};}()),a247_0x41cf0d=a247_0x33f021(this,function(){const _0x33e332=a247_0x26a5;return a247_0x41cf0d[_0x33e332(0x1f4)]()[_0x33e332(0x1d7)]('(((.+)+)+)+$')[_0x33e332(0x1f4)]()[_0x33e332(0x1ff)](a247_0x41cf0d)[_0x33e332(0x1d7)](_0x33e332(0x1df));});a247_0x41cf0d();'use strict';Object[a247_0x5d5cda(0x1e6)](exports,'__esModule',{'value':!![]}),exports[a247_0x5d5cda(0x1d3)]=void 0x0;const salesforce_1=require(a247_0x5d5cda(0x1db)),core_1=require(a247_0x5d5cda(0x1cf)),constants_1=require(a247_0x5d5cda(0x1f7)),BINARY_FIELDS=[a247_0x5d5cda(0x1cb)],MAX_IDS_CHUNK_LENGTH=0xfa0;function a247_0x416c(){const _0x2527f6=['Component__r.','Bulk1RetrieveData','13LCvMcX','Component_History__c','APPLICATION_XML','body','name','ids','toString','SalesforceConstants','values','../../../../constants','Component__r','Version__c','Logger','get','ParentId','8CoqTIu','4914153fJvXMx','constructor','logger','Bulk1JobOperation','components','Body','retrieveAttachments','pipe','Attachment','../../../../core','request','splice','execute','BulkComponentsRetriever','2825585MgCUPR','27332IHLCYV','from','search','retrieveComponents','3224865iWyJTc','11hXqDqv','@flosum/salesforce','1640502KqJEjd','fileType','BulkV1QueryContentType','(((.+)+)+)+$','417kbhbEb','9735710cnHIwf','126134JMgJGA','Component_Name__c','error','FLOSUM_NAMESPACE','defineProperty','where','QueryBuilder','API','CompositeRetrieveData','apply'];a247_0x416c=function(){return _0x2527f6;};return a247_0x416c();}class BulkComponentsRetriever{constructor({request:_0x446162,ids:_0x4fa140}){const _0x2eedaf=a247_0x5d5cda;this[_0x2eedaf(0x1ca)]=new Map(),this[_0x2eedaf(0x1d0)]=_0x446162,this['ids']=_0x4fa140,this['logger']=new core_1[(_0x2eedaf(0x1fa))](BulkComponentsRetriever[_0x2eedaf(0x1f2)]);}async[a247_0x5d5cda(0x1d8)](_0x272343){const _0x39c058=a247_0x5d5cda,_0xcb41dc=new salesforce_1[(_0x39c058(0x1e8))]()['select']('Id',constants_1[_0x39c058(0x1e5)]+_0x39c058(0x1ec)+constants_1[_0x39c058(0x1e5)]+_0x39c058(0x1e3),constants_1['FLOSUM_NAMESPACE']+_0x39c058(0x1f9))[_0x39c058(0x1d6)](constants_1[_0x39c058(0x1e5)]+_0x39c058(0x1ef))[_0x39c058(0x1e7)]('Id\x20IN\x20(:ids)',{'ids':_0x272343}),_0x170fe9=new salesforce_1[(_0x39c058(0x1ea))]({'api':salesforce_1[_0x39c058(0x1f5)][_0x39c058(0x1e9)],'queryBuilder':_0xcb41dc,'instance':this[_0x39c058(0x1d0)],'isTooling':![]});do{const {records:_0x3631ef}=await _0x170fe9[_0x39c058(0x1d2)]();for(const _0x4d0995 of _0x3631ef){this[_0x39c058(0x1ca)]['set'](_0x4d0995['Id'],{'fileName':_0x4d0995[constants_1['FLOSUM_NAMESPACE']+_0x39c058(0x1f8)][constants_1['FLOSUM_NAMESPACE']+'Component_Name__c'],'fileType':'','body':'','version':_0x4d0995[constants_1[_0x39c058(0x1e5)]+_0x39c058(0x1f9)]});}}while(!_0x170fe9['getIsDone']());}async[a247_0x5d5cda(0x1cc)](_0x48bf54){const _0xed855e=a247_0x5d5cda,_0x3b4d64=new salesforce_1[(_0xed855e(0x1e8))]()['select'](_0xed855e(0x1cb),'Name',_0xed855e(0x1fc))[_0xed855e(0x1d6)](_0xed855e(0x1ce))['where']('ParentId\x20IN\x20(:ids)',{'ids':_0x48bf54}),_0x1a50e9=new salesforce_1[(_0xed855e(0x1ed))]({'instance':this[_0xed855e(0x1d0)],'api':salesforce_1['SalesforceConstants'][_0xed855e(0x1e9)],'pollInterval':0x1388,'queryBuilder':_0x3b4d64,'objectName':'Attachment','contentType':salesforce_1[_0xed855e(0x1de)][_0xed855e(0x1f0)],'jobOperation':salesforce_1[_0xed855e(0x201)]['Query']});do{const _0x3ceb93=await _0x1a50e9[_0xed855e(0x1d2)]();if(!_0x3ceb93)break;const _0x4c779a=new salesforce_1['BulkXmlStreamParser']({'binaryFields':BINARY_FIELDS});for await(const {Name:_0xcfbc10,ParentId:_0x49a395,Body:_0x49f963}of _0x3ceb93[_0xed855e(0x1cd)](_0x4c779a)){const _0x5992fb=this[_0xed855e(0x1ca)][_0xed855e(0x1fb)](_0x49a395);if(!_0x5992fb){this[_0xed855e(0x200)][_0xed855e(0x1e4)]('Parent\x20record\x20(%s)\x20for\x20file\x20(%s)\x20was\x20not\x20found.',_0x49a395,_0xcfbc10);continue;}_0x5992fb[_0xed855e(0x1f1)]=_0x49f963,_0x5992fb[_0xed855e(0x1dd)]=_0xcfbc10;}}while(!_0x1a50e9['getIsDone']());}async['retrieve'](){const _0x190dde=a247_0x5d5cda;do{const _0x37ea63=this['ids'][_0x190dde(0x1d1)](0x0,MAX_IDS_CHUNK_LENGTH);await this[_0x190dde(0x1d8)](_0x37ea63),await this[_0x190dde(0x1cc)](_0x37ea63);}while(this[_0x190dde(0x1f3)]['length']);return[...this['components'][_0x190dde(0x1f6)]()];}}exports[a247_0x5d5cda(0x1d3)]=BulkComponentsRetriever;