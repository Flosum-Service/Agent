const a257_0x436ad1=a257_0x11b8;(function(_0xc86b10,_0x446c5b){const _0x2c9425=a257_0x11b8,_0x28ce41=_0xc86b10();while(!![]){try{const _0x6bd316=parseInt(_0x2c9425(0xcc))/0x1+parseInt(_0x2c9425(0xcf))/0x2*(-parseInt(_0x2c9425(0xf3))/0x3)+parseInt(_0x2c9425(0xf2))/0x4*(parseInt(_0x2c9425(0xbf))/0x5)+-parseInt(_0x2c9425(0xc1))/0x6*(parseInt(_0x2c9425(0xd2))/0x7)+-parseInt(_0x2c9425(0xe1))/0x8*(-parseInt(_0x2c9425(0xc4))/0x9)+-parseInt(_0x2c9425(0xf5))/0xa*(-parseInt(_0x2c9425(0xeb))/0xb)+-parseInt(_0x2c9425(0xcb))/0xc*(-parseInt(_0x2c9425(0xf8))/0xd);if(_0x6bd316===_0x446c5b)break;else _0x28ce41['push'](_0x28ce41['shift']());}catch(_0xd7f339){_0x28ce41['push'](_0x28ce41['shift']());}}}(a257_0x2dc2,0xacf28));const a257_0x55766b=(function(){let _0x2b503b=!![];return function(_0x457aaa,_0x2f22e8){const _0x2470cc=_0x2b503b?function(){const _0x5a2b32=a257_0x11b8;if(_0x2f22e8){const _0xc48eae=_0x2f22e8[_0x5a2b32(0xf0)](_0x457aaa,arguments);return _0x2f22e8=null,_0xc48eae;}}:function(){};return _0x2b503b=![],_0x2470cc;};}()),a257_0x2c43c4=a257_0x55766b(this,function(){const _0x26f15b=a257_0x11b8;return a257_0x2c43c4[_0x26f15b(0xd9)]()[_0x26f15b(0xdb)](_0x26f15b(0xde))['toString']()['constructor'](a257_0x2c43c4)[_0x26f15b(0xdb)]('(((.+)+)+)+$');});a257_0x2c43c4();function a257_0x2dc2(){const _0x109555=['from','retrieveAttachments','request','Parent\x20record\x20(%s)\x20for\x20file\x20(%s)\x20was\x20not\x20found.','BulkV1QueryContentType','Version__c','execute','BulkComponentsRetriever','where','11xCsOqH','splice','Body','../../../../constants','Id\x20IN\x20(:ids)','apply','QueryBuilder','810484gkqmTF','3308487nJyWZC','Component_Name__c','3033900cmnJJk','length','API','1300SuGECb','Name','SalesforceConstants','name','../../../../core','logger','5HjScLE','get','606570OeSLHz','getIsDone','Component__r','7074PaGShI','@flosum/salesforce','APPLICATION_XML','select','set','FLOSUM_NAMESPACE','ids','189504suqcWd','903968CDDTQV','Component_History__c','error','2pDUXwT','Logger','retrieveComponents','98yozfRP','fileType','Bulk1JobOperation','Component__r.','defineProperty','ParentId','BulkXmlStreamParser','toString','Bulk1RetrieveData','search','ParentId\x20IN\x20(:ids)','Query','(((.+)+)+)+$','components','CompositeRetrieveData','2416cbyxLi'];a257_0x2dc2=function(){return _0x109555;};return a257_0x2dc2();}'use strict';Object[a257_0x436ad1(0xd6)](exports,'__esModule',{'value':!![]}),exports[a257_0x436ad1(0xe9)]=void 0x0;function a257_0x11b8(_0x4fc894,_0x1a924e){const _0x1c11a4=a257_0x2dc2();return a257_0x11b8=function(_0x2c43c4,_0x55766b){_0x2c43c4=_0x2c43c4-0xba;let _0x2dc2c8=_0x1c11a4[_0x2c43c4];return _0x2dc2c8;},a257_0x11b8(_0x4fc894,_0x1a924e);}const salesforce_1=require(a257_0x436ad1(0xc5)),core_1=require(a257_0x436ad1(0xbd)),constants_1=require(a257_0x436ad1(0xee)),BINARY_FIELDS=[a257_0x436ad1(0xed)],MAX_IDS_CHUNK_LENGTH=0xfa0;class BulkComponentsRetriever{constructor({request:_0x2be2af,ids:_0x20c977}){const _0x9e9a11=a257_0x436ad1;this['components']=new Map(),this[_0x9e9a11(0xe4)]=_0x2be2af,this[_0x9e9a11(0xca)]=_0x20c977,this[_0x9e9a11(0xbe)]=new core_1[(_0x9e9a11(0xd0))](BulkComponentsRetriever[_0x9e9a11(0xbc)]);}async[a257_0x436ad1(0xd1)](_0x4aa1d4){const _0x3aac2d=a257_0x436ad1,_0x6e5362=new salesforce_1[(_0x3aac2d(0xf1))]()[_0x3aac2d(0xc7)]('Id',constants_1[_0x3aac2d(0xc9)]+_0x3aac2d(0xd5)+constants_1['FLOSUM_NAMESPACE']+_0x3aac2d(0xf4),constants_1[_0x3aac2d(0xc9)]+_0x3aac2d(0xe7))[_0x3aac2d(0xe2)](constants_1['FLOSUM_NAMESPACE']+_0x3aac2d(0xcd))[_0x3aac2d(0xea)](_0x3aac2d(0xef),{'ids':_0x4aa1d4}),_0x4e0578=new salesforce_1[(_0x3aac2d(0xe0))]({'api':salesforce_1[_0x3aac2d(0xbb)][_0x3aac2d(0xf7)],'queryBuilder':_0x6e5362,'instance':this[_0x3aac2d(0xe4)],'isTooling':![]});do{const {records:_0x49c8d7}=await _0x4e0578[_0x3aac2d(0xe8)]();for(const _0x4b529d of _0x49c8d7){this[_0x3aac2d(0xdf)][_0x3aac2d(0xc8)](_0x4b529d['Id'],{'fileName':_0x4b529d[constants_1[_0x3aac2d(0xc9)]+_0x3aac2d(0xc3)][constants_1[_0x3aac2d(0xc9)]+_0x3aac2d(0xf4)],'fileType':'','body':'','version':_0x4b529d[constants_1[_0x3aac2d(0xc9)]+_0x3aac2d(0xe7)]});}}while(!_0x4e0578['getIsDone']());}async[a257_0x436ad1(0xe3)](_0xda4159){const _0x4bc87e=a257_0x436ad1,_0x5cd6c1=new salesforce_1[(_0x4bc87e(0xf1))]()[_0x4bc87e(0xc7)]('Body',_0x4bc87e(0xba),_0x4bc87e(0xd7))[_0x4bc87e(0xe2)]('Attachment')[_0x4bc87e(0xea)](_0x4bc87e(0xdc),{'ids':_0xda4159}),_0x29f530=new salesforce_1[(_0x4bc87e(0xda))]({'instance':this['request'],'api':salesforce_1[_0x4bc87e(0xbb)][_0x4bc87e(0xf7)],'pollInterval':0x1388,'queryBuilder':_0x5cd6c1,'objectName':'Attachment','contentType':salesforce_1[_0x4bc87e(0xe6)][_0x4bc87e(0xc6)],'jobOperation':salesforce_1[_0x4bc87e(0xd4)][_0x4bc87e(0xdd)]});do{const _0x40cc16=await _0x29f530[_0x4bc87e(0xe8)]();if(!_0x40cc16)break;const _0xc1a316=new salesforce_1[(_0x4bc87e(0xd8))]({'binaryFields':BINARY_FIELDS});for await(const {Name:_0x1e2800,ParentId:_0x7f2a5,Body:_0x2c3b46}of _0x40cc16['pipe'](_0xc1a316)){const _0x202c82=this[_0x4bc87e(0xdf)][_0x4bc87e(0xc0)](_0x7f2a5);if(!_0x202c82){this[_0x4bc87e(0xbe)][_0x4bc87e(0xce)](_0x4bc87e(0xe5),_0x7f2a5,_0x1e2800);continue;}_0x202c82['body']=_0x2c3b46,_0x202c82[_0x4bc87e(0xd3)]=_0x1e2800;}}while(!_0x29f530[_0x4bc87e(0xc2)]());}async['retrieve'](){const _0x3457cf=a257_0x436ad1;do{const _0xf510f=this[_0x3457cf(0xca)][_0x3457cf(0xec)](0x0,MAX_IDS_CHUNK_LENGTH);await this[_0x3457cf(0xd1)](_0xf510f),await this[_0x3457cf(0xe3)](_0xf510f);}while(this[_0x3457cf(0xca)][_0x3457cf(0xf6)]);return[...this['components']['values']()];}}exports['BulkComponentsRetriever']=BulkComponentsRetriever;