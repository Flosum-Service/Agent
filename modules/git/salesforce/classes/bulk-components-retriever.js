function a258_0x2d07(){const _0x19f4f6=['5604888qRcnay','Logger','ParentId\x20IN\x20(:ids)','request','values','set','API','splice','ids','../../../../core','Parent\x20record\x20(%s)\x20for\x20file\x20(%s)\x20was\x20not\x20found.','CompositeRetrieveData','apply','retrieve','6163010kkyxDW','129TIRewC','Component_Name__c','BulkComponentsRetriever','select','ParentId','constructor','APPLICATION_XML','18128CFDqaM','retrieveAttachments','retrieveComponents','Version__c','pipe','Component_History__c','Bulk1RetrieveData','(((.+)+)+)+$','getIsDone','QueryBuilder','5130dIYifH','get','Attachment','1214851hzKUqu','10926gFsadN','582vFonHu','BulkV1QueryContentType','444zbAcsw','Id\x20IN\x20(:ids)','components','length','fileType','Bulk1JobOperation','logger','__esModule','6951GWxOub','../../../../constants','Body','BulkXmlStreamParser','FLOSUM_NAMESPACE','103131LLBoLh','execute','Name','from','1876EztMgp','Query','search','name','Component__r','where','defineProperty'];a258_0x2d07=function(){return _0x19f4f6;};return a258_0x2d07();}const a258_0x3f6f44=a258_0x2a2a;(function(_0x9a031c,_0x1cbb17){const _0x194643=a258_0x2a2a,_0x4a5dc5=_0x9a031c();while(!![]){try{const _0x8a5bbe=parseInt(_0x194643(0x187))/0x1*(parseInt(_0x194643(0x18e))/0x2)+parseInt(_0x194643(0x168))/0x3*(parseInt(_0x194643(0x171))/0x4)+parseInt(_0x194643(0x186))/0x5+parseInt(_0x194643(0x15e))/0x6*(parseInt(_0x194643(0x16d))/0x7)+-parseInt(_0x194643(0x178))/0x8+-parseInt(_0x194643(0x15d))/0x9*(-parseInt(_0x194643(0x159))/0xa)+-parseInt(_0x194643(0x15c))/0xb*(parseInt(_0x194643(0x160))/0xc);if(_0x8a5bbe===_0x1cbb17)break;else _0x4a5dc5['push'](_0x4a5dc5['shift']());}catch(_0x28bbf3){_0x4a5dc5['push'](_0x4a5dc5['shift']());}}}(a258_0x2d07,0xb7f4e));const a258_0x1d27b8=(function(){let _0xd46384=!![];return function(_0x5791f0,_0x15d11f){const _0x21cd63=_0xd46384?function(){const _0x2be437=a258_0x2a2a;if(_0x15d11f){const _0x41f00e=_0x15d11f[_0x2be437(0x184)](_0x5791f0,arguments);return _0x15d11f=null,_0x41f00e;}}:function(){};return _0xd46384=![],_0x21cd63;};}()),a258_0x58afbe=a258_0x1d27b8(this,function(){const _0xdda88d=a258_0x2a2a;return a258_0x58afbe['toString']()['search'](_0xdda88d(0x195))['toString']()[_0xdda88d(0x18c)](a258_0x58afbe)[_0xdda88d(0x173)](_0xdda88d(0x195));});function a258_0x2a2a(_0x2e0797,_0x5e9fa4){const _0xfa3ffc=a258_0x2d07();return a258_0x2a2a=function(_0x58afbe,_0x1d27b8){_0x58afbe=_0x58afbe-0x159;let _0x2d074e=_0xfa3ffc[_0x58afbe];return _0x2d074e;},a258_0x2a2a(_0x2e0797,_0x5e9fa4);}a258_0x58afbe();'use strict';Object[a258_0x3f6f44(0x177)](exports,a258_0x3f6f44(0x167),{'value':!![]}),exports[a258_0x3f6f44(0x189)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),core_1=require(a258_0x3f6f44(0x181)),constants_1=require(a258_0x3f6f44(0x169)),BINARY_FIELDS=[a258_0x3f6f44(0x16a)],MAX_IDS_CHUNK_LENGTH=0xfa0;class BulkComponentsRetriever{constructor({request:_0x32fdb3,ids:_0x3e0c6b}){const _0x125bcb=a258_0x3f6f44;this[_0x125bcb(0x162)]=new Map(),this[_0x125bcb(0x17b)]=_0x32fdb3,this['ids']=_0x3e0c6b,this[_0x125bcb(0x166)]=new core_1[(_0x125bcb(0x179))](BulkComponentsRetriever[_0x125bcb(0x174)]);}async[a258_0x3f6f44(0x190)](_0x573246){const _0x5b83cd=a258_0x3f6f44,_0x20b432=new salesforce_1['QueryBuilder']()[_0x5b83cd(0x18a)]('Id',constants_1[_0x5b83cd(0x16c)]+'Component__r.'+constants_1[_0x5b83cd(0x16c)]+_0x5b83cd(0x188),constants_1[_0x5b83cd(0x16c)]+_0x5b83cd(0x191))[_0x5b83cd(0x170)](constants_1[_0x5b83cd(0x16c)]+_0x5b83cd(0x193))[_0x5b83cd(0x176)](_0x5b83cd(0x161),{'ids':_0x573246}),_0x3c969a=new salesforce_1[(_0x5b83cd(0x183))]({'api':salesforce_1['SalesforceConstants'][_0x5b83cd(0x17e)],'queryBuilder':_0x20b432,'instance':this[_0x5b83cd(0x17b)],'isTooling':![]});do{const {records:_0xbbd30d}=await _0x3c969a[_0x5b83cd(0x16e)]();for(const _0x135e9b of _0xbbd30d){this['components'][_0x5b83cd(0x17d)](_0x135e9b['Id'],{'fileName':_0x135e9b[constants_1[_0x5b83cd(0x16c)]+_0x5b83cd(0x175)][constants_1[_0x5b83cd(0x16c)]+_0x5b83cd(0x188)],'fileType':'','body':'','version':_0x135e9b[constants_1['FLOSUM_NAMESPACE']+'Version__c']});}}while(!_0x3c969a[_0x5b83cd(0x196)]());}async[a258_0x3f6f44(0x18f)](_0xaf59ce){const _0x3e94b1=a258_0x3f6f44,_0x58f65b=new salesforce_1[(_0x3e94b1(0x197))]()[_0x3e94b1(0x18a)](_0x3e94b1(0x16a),_0x3e94b1(0x16f),_0x3e94b1(0x18b))[_0x3e94b1(0x170)]('Attachment')['where'](_0x3e94b1(0x17a),{'ids':_0xaf59ce}),_0x392bf8=new salesforce_1[(_0x3e94b1(0x194))]({'instance':this[_0x3e94b1(0x17b)],'api':salesforce_1['SalesforceConstants']['API'],'pollInterval':0x1388,'queryBuilder':_0x58f65b,'objectName':_0x3e94b1(0x15b),'contentType':salesforce_1[_0x3e94b1(0x15f)][_0x3e94b1(0x18d)],'jobOperation':salesforce_1[_0x3e94b1(0x165)][_0x3e94b1(0x172)]});do{const _0x98c7fb=await _0x392bf8[_0x3e94b1(0x16e)]();if(!_0x98c7fb)break;const _0x120ea4=new salesforce_1[(_0x3e94b1(0x16b))]({'binaryFields':BINARY_FIELDS});for await(const {Name:_0x545c75,ParentId:_0xa8b3ab,Body:_0xec3d66}of _0x98c7fb[_0x3e94b1(0x192)](_0x120ea4)){const _0x1b33ac=this[_0x3e94b1(0x162)][_0x3e94b1(0x15a)](_0xa8b3ab);if(!_0x1b33ac){this[_0x3e94b1(0x166)]['error'](_0x3e94b1(0x182),_0xa8b3ab,_0x545c75);continue;}_0x1b33ac['body']=_0xec3d66,_0x1b33ac[_0x3e94b1(0x164)]=_0x545c75;}}while(!_0x392bf8['getIsDone']());}async[a258_0x3f6f44(0x185)](){const _0x40bb18=a258_0x3f6f44;do{const _0x447484=this[_0x40bb18(0x180)][_0x40bb18(0x17f)](0x0,MAX_IDS_CHUNK_LENGTH);await this[_0x40bb18(0x190)](_0x447484),await this[_0x40bb18(0x18f)](_0x447484);}while(this[_0x40bb18(0x180)][_0x40bb18(0x163)]);return[...this[_0x40bb18(0x162)][_0x40bb18(0x17c)]()];}}exports['BulkComponentsRetriever']=BulkComponentsRetriever;