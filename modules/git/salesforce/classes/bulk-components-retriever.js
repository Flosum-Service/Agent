function a258_0x5eda(){const _0x82e946=['ParentId','FLOSUM_NAMESPACE','get','retrieveComponents','41754gJdqnM','Component_History__c','constructor','apply','name','Logger','length','components','select','logger','Body','execute','pipe','__esModule','ParentId\x20IN\x20(:ids)','66984oVNejs','Component__r','10036653fsMyCK','defineProperty','APPLICATION_XML','fileType','values','BulkComponentsRetriever','423SCIbnY','Parent\x20record\x20(%s)\x20for\x20file\x20(%s)\x20was\x20not\x20found.','CompositeRetrieveData','QueryBuilder','Id\x20IN\x20(:ids)','2787036RXCSBL','@flosum/salesforce','(((.+)+)+)+$','request','splice','from','retrieveAttachments','BulkXmlStreamParser','Bulk1JobOperation','2YOgaRk','getIsDone','Attachment','10pszUOU','../../../../constants','2052Jghvvt','ids','996vaelYn','retrieve','API','Version__c','Name','set','2210110jksWYR','585213VwDbAV','where','search','SalesforceConstants','Bulk1RetrieveData','toString','Component_Name__c','Component__r.'];a258_0x5eda=function(){return _0x82e946;};return a258_0x5eda();}const a258_0x2a7ce8=a258_0x1cf9;function a258_0x1cf9(_0x499518,_0x87a811){const _0x4b1f79=a258_0x5eda();return a258_0x1cf9=function(_0x28fe37,_0x13a45d){_0x28fe37=_0x28fe37-0xd9;let _0x5eda25=_0x4b1f79[_0x28fe37];return _0x5eda25;},a258_0x1cf9(_0x499518,_0x87a811);}(function(_0xe203c9,_0x3c90a8){const _0xeed722=a258_0x1cf9,_0x173c53=_0xe203c9();while(!![]){try{const _0x5bf077=-parseInt(_0xeed722(0xfd))/0x1*(parseInt(_0xeed722(0xef))/0x2)+-parseInt(_0xeed722(0xf4))/0x3*(-parseInt(_0xeed722(0xf6))/0x4)+-parseInt(_0xeed722(0xf2))/0x5*(-parseInt(_0xeed722(0x109))/0x6)+parseInt(_0xeed722(0xe6))/0x7+parseInt(_0xeed722(0xd9))/0x8*(-parseInt(_0xeed722(0xe1))/0x9)+-parseInt(_0xeed722(0xfc))/0xa+parseInt(_0xeed722(0xdb))/0xb;if(_0x5bf077===_0x3c90a8)break;else _0x173c53['push'](_0x173c53['shift']());}catch(_0x5556cb){_0x173c53['push'](_0x173c53['shift']());}}}(a258_0x5eda,0x4808a));const a258_0x13a45d=(function(){let _0x7db290=!![];return function(_0x795517,_0x4d6da4){const _0x3fb5fb=_0x7db290?function(){const _0x30e472=a258_0x1cf9;if(_0x4d6da4){const _0x47afb5=_0x4d6da4[_0x30e472(0x10c)](_0x795517,arguments);return _0x4d6da4=null,_0x47afb5;}}:function(){};return _0x7db290=![],_0x3fb5fb;};}()),a258_0x28fe37=a258_0x13a45d(this,function(){const _0x5db36d=a258_0x1cf9;return a258_0x28fe37[_0x5db36d(0x102)]()[_0x5db36d(0xff)]('(((.+)+)+)+$')[_0x5db36d(0x102)]()[_0x5db36d(0x10b)](a258_0x28fe37)['search'](_0x5db36d(0xe8));});a258_0x28fe37();'use strict';Object[a258_0x2a7ce8(0xdc)](exports,a258_0x2a7ce8(0x116),{'value':!![]}),exports['BulkComponentsRetriever']=void 0x0;const salesforce_1=require(a258_0x2a7ce8(0xe7)),core_1=require('../../../../core'),constants_1=require(a258_0x2a7ce8(0xf3)),BINARY_FIELDS=['Body'],MAX_IDS_CHUNK_LENGTH=0xfa0;class BulkComponentsRetriever{constructor({request:_0x4aaa3f,ids:_0x45fbf7}){const _0x3c8468=a258_0x2a7ce8;this[_0x3c8468(0x110)]=new Map(),this[_0x3c8468(0xe9)]=_0x4aaa3f,this['ids']=_0x45fbf7,this[_0x3c8468(0x112)]=new core_1[(_0x3c8468(0x10e))](BulkComponentsRetriever[_0x3c8468(0x10d)]);}async[a258_0x2a7ce8(0x108)](_0x450f72){const _0x1b8ed4=a258_0x2a7ce8,_0x25e2d8=new salesforce_1[(_0x1b8ed4(0xe4))]()[_0x1b8ed4(0x111)]('Id',constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0x104)+constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0x103),constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0xf9))['from'](constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0x10a))[_0x1b8ed4(0xfe)](_0x1b8ed4(0xe5),{'ids':_0x450f72}),_0x5a30de=new salesforce_1[(_0x1b8ed4(0xe3))]({'api':salesforce_1[_0x1b8ed4(0x100)][_0x1b8ed4(0xf8)],'queryBuilder':_0x25e2d8,'instance':this[_0x1b8ed4(0xe9)],'isTooling':![]});do{const {records:_0x5a1283}=await _0x5a30de[_0x1b8ed4(0x114)]();for(const _0x454a29 of _0x5a1283){this[_0x1b8ed4(0x110)][_0x1b8ed4(0xfb)](_0x454a29['Id'],{'fileName':_0x454a29[constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0xda)][constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0x103)],'fileType':'','body':'','version':_0x454a29[constants_1[_0x1b8ed4(0x106)]+_0x1b8ed4(0xf9)]});}}while(!_0x5a30de[_0x1b8ed4(0xf0)]());}async[a258_0x2a7ce8(0xec)](_0x5a7c50){const _0x41c2bd=a258_0x2a7ce8,_0x40435b=new salesforce_1[(_0x41c2bd(0xe4))]()[_0x41c2bd(0x111)](_0x41c2bd(0x113),_0x41c2bd(0xfa),_0x41c2bd(0x105))[_0x41c2bd(0xeb)]('Attachment')[_0x41c2bd(0xfe)](_0x41c2bd(0x117),{'ids':_0x5a7c50}),_0x14f5d3=new salesforce_1[(_0x41c2bd(0x101))]({'instance':this['request'],'api':salesforce_1[_0x41c2bd(0x100)]['API'],'pollInterval':0x1388,'queryBuilder':_0x40435b,'objectName':_0x41c2bd(0xf1),'contentType':salesforce_1['BulkV1QueryContentType'][_0x41c2bd(0xdd)],'jobOperation':salesforce_1[_0x41c2bd(0xee)]['Query']});do{const _0x24255c=await _0x14f5d3[_0x41c2bd(0x114)]();if(!_0x24255c)break;const _0x435464=new salesforce_1[(_0x41c2bd(0xed))]({'binaryFields':BINARY_FIELDS});for await(const {Name:_0x2f795a,ParentId:_0x4c54ff,Body:_0x3d04f2}of _0x24255c[_0x41c2bd(0x115)](_0x435464)){const _0x5a4a7a=this[_0x41c2bd(0x110)][_0x41c2bd(0x107)](_0x4c54ff);if(!_0x5a4a7a){this[_0x41c2bd(0x112)]['error'](_0x41c2bd(0xe2),_0x4c54ff,_0x2f795a);continue;}_0x5a4a7a['body']=_0x3d04f2,_0x5a4a7a[_0x41c2bd(0xde)]=_0x2f795a;}}while(!_0x14f5d3[_0x41c2bd(0xf0)]());}async[a258_0x2a7ce8(0xf7)](){const _0x54f732=a258_0x2a7ce8;do{const _0x25acfd=this['ids'][_0x54f732(0xea)](0x0,MAX_IDS_CHUNK_LENGTH);await this[_0x54f732(0x108)](_0x25acfd),await this['retrieveAttachments'](_0x25acfd);}while(this[_0x54f732(0xf5)][_0x54f732(0x10f)]);return[...this[_0x54f732(0x110)][_0x54f732(0xdf)]()];}}exports[a258_0x2a7ce8(0xe0)]=BulkComponentsRetriever;