const a231_0x967ad=a231_0x27fb;(function(_0x34e400,_0x5e532c){const _0x2e702b=a231_0x27fb,_0x2d56dd=_0x34e400();while(!![]){try{const _0x135a61=-parseInt(_0x2e702b(0x17e))/0x1+parseInt(_0x2e702b(0x16a))/0x2*(parseInt(_0x2e702b(0x172))/0x3)+parseInt(_0x2e702b(0x14e))/0x4+-parseInt(_0x2e702b(0x14d))/0x5+parseInt(_0x2e702b(0x13f))/0x6*(parseInt(_0x2e702b(0x182))/0x7)+-parseInt(_0x2e702b(0x158))/0x8*(-parseInt(_0x2e702b(0x138))/0x9)+-parseInt(_0x2e702b(0x150))/0xa*(parseInt(_0x2e702b(0x14b))/0xb);if(_0x135a61===_0x5e532c)break;else _0x2d56dd['push'](_0x2d56dd['shift']());}catch(_0x19bf56){_0x2d56dd['push'](_0x2d56dd['shift']());}}}(a231_0x54bd,0xbc146));const a231_0x5cc130=(function(){let _0x584611=!![];return function(_0x1849f0,_0x4f8992){const _0x4f0e79=_0x584611?function(){if(_0x4f8992){const _0xc634dc=_0x4f8992['apply'](_0x1849f0,arguments);return _0x4f8992=null,_0xc634dc;}}:function(){};return _0x584611=![],_0x4f0e79;};}()),a231_0x2e4631=a231_0x5cc130(this,function(){const _0x1e5c11=a231_0x27fb;return a231_0x2e4631[_0x1e5c11(0x16f)]()[_0x1e5c11(0x169)](_0x1e5c11(0x156))['toString']()[_0x1e5c11(0x15e)](a231_0x2e4631)['search'](_0x1e5c11(0x156));});function a231_0x27fb(_0x1dd68e,_0x28145b){const _0x3e32b2=a231_0x54bd();return a231_0x27fb=function(_0x2e4631,_0x5cc130){_0x2e4631=_0x2e4631-0x12f;let _0x54bddc=_0x3e32b2[_0x2e4631];return _0x54bddc;},a231_0x27fb(_0x1dd68e,_0x28145b);}a231_0x2e4631();'use strict';var __decorate=this&&this['__decorate']||function(_0x5cef16,_0x4012eb,_0x423bee,_0x1a4d00){const _0x5a319e=a231_0x27fb;var _0x269d96=arguments[_0x5a319e(0x175)],_0x322ec5=_0x269d96<0x3?_0x4012eb:_0x1a4d00===null?_0x1a4d00=Object[_0x5a319e(0x131)](_0x4012eb,_0x423bee):_0x1a4d00,_0x320903;if(typeof Reflect==='object'&&typeof Reflect[_0x5a319e(0x142)]===_0x5a319e(0x159))_0x322ec5=Reflect['decorate'](_0x5cef16,_0x4012eb,_0x423bee,_0x1a4d00);else{for(var _0x57ada3=_0x5cef16[_0x5a319e(0x175)]-0x1;_0x57ada3>=0x0;_0x57ada3--)if(_0x320903=_0x5cef16[_0x57ada3])_0x322ec5=(_0x269d96<0x3?_0x320903(_0x322ec5):_0x269d96>0x3?_0x320903(_0x4012eb,_0x423bee,_0x322ec5):_0x320903(_0x4012eb,_0x423bee))||_0x322ec5;}return _0x269d96>0x3&&_0x322ec5&&Object[_0x5a319e(0x181)](_0x4012eb,_0x423bee,_0x322ec5),_0x322ec5;},__metadata=this&&this[a231_0x967ad(0x143)]||function(_0x599d8c,_0x486d0a){const _0xae8a25=a231_0x967ad;if(typeof Reflect===_0xae8a25(0x144)&&typeof Reflect[_0xae8a25(0x16e)]===_0xae8a25(0x159))return Reflect[_0xae8a25(0x16e)](_0x599d8c,_0x486d0a);};Object[a231_0x967ad(0x181)](exports,a231_0x967ad(0x13d),{'value':!![]}),exports['SalesforceGitSyncService']=void 0x0;const not_found_error_1=require(a231_0x967ad(0x148)),typedi_1=require(a231_0x967ad(0x145)),constants_1=require(a231_0x967ad(0x151)),queries_1=require(a231_0x967ad(0x134)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a231_0x967ad(0x14a)),salesforce_rest_service_1=require(a231_0x967ad(0x176));function a231_0x54bd(){const _0x28b4c0=['15291KofJZq','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','replace','SalesforceGitSyncService','Component_Type__c','__esModule','\x22\x20not\x20found\x20in\x20flosum.','46134MriOKl','map','%branchId%','decorate','__metadata','object','typedi','Version__c','FLOSUM_GIT_NAMESPACE','../../../../core/errors/not-found.error','GET_COMPONENT_RECORD_TYPES_QUERY','./salesforce-query.service','20152099LeZGxE','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','6624725FgOLjj','718148aERQlC','design:paramtypes','10TPzKzu','../../../../constants','fetchBranchComponents','%fileNames%','Is_From_Agent__c','Repository\x20\x22','(((.+)+)+)+$','extractFieldsFromRecord','6200XwTTLa','function','Commit_Name__c','post','queryService','GET_REPOSITORY_BY_NAME_QUERY','constructor','Service','restService','getBranchIdByName','GET_BRANCH_BY_NAME_QUERY','SalesforceRestService','%repositoryId%','Completed','getComponentRecordTypes','getRepositoryIdByName','File_Name__c','search','2bxfFFd','%name%','%componentIds%','Branch\x20\x22','metadata','toString','fetchRepositoryComponentsByFilenames','CRC32__c','3520959RxnqTq','GET_BRANCH_COMPONENTS_QUERY','query','length','./salesforce-rest.service','Component_Name__c','push','substr','fetchBranchComponentsByFilenames','NotFoundError','join','Status__c','80473VULuFR','extractComponentMetadataFromRecord','splice','defineProperty','1218nxitGU','FLOSUM_COMMIT','Repository__c','getOwnPropertyDescriptor','FLOSUM_NAMESPACE','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','../queries','createCommit','SalesforceQueryService','MAX_QUERY_ARRAY_ITEMS'];a231_0x54bd=function(){return _0x28b4c0;};return a231_0x54bd();}let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x49b1c6,_0x35d1a2){const _0x19d7ba=a231_0x967ad;this[_0x19d7ba(0x15c)]=_0x49b1c6,this[_0x19d7ba(0x160)]=_0x35d1a2,this[_0x19d7ba(0x137)]=0xc8;}[a231_0x967ad(0x17f)](_0x996924){const _0x4a911a=a231_0x967ad,_0x460f04=(0x0,flosum_naming_utils_1[_0x4a911a(0x157)])(_0x996924,[_0x4a911a(0x177),_0x4a911a(0x13c),_0x4a911a(0x171),_0x4a911a(0x168),_0x4a911a(0x146),'Id']);return{'id':_0x460f04['Id'],'name':_0x460f04[_0x4a911a(0x177)],'type':_0x460f04[_0x4a911a(0x13c)],'fileName':_0x460f04[_0x4a911a(0x168)],'crc32':_0x460f04[_0x4a911a(0x171)],'version':+_0x460f04[_0x4a911a(0x146)]};}async[a231_0x967ad(0x167)](_0x254fa6){const _0x5e30ee=a231_0x967ad,[_0x4d0ed8]=await this[_0x5e30ee(0x15c)][_0x5e30ee(0x174)](queries_1[_0x5e30ee(0x15d)]['replace'](_0x5e30ee(0x16b),_0x254fa6));if(!_0x4d0ed8)throw new not_found_error_1[(_0x5e30ee(0x17b))](_0x5e30ee(0x155)+_0x254fa6+_0x5e30ee(0x13e));return _0x4d0ed8['Id'];}async[a231_0x967ad(0x161)](_0x4c7fe9){const _0x1f190c=a231_0x967ad,[_0x48786b]=await this[_0x1f190c(0x15c)][_0x1f190c(0x174)](queries_1[_0x1f190c(0x162)][_0x1f190c(0x13a)](_0x1f190c(0x16b),_0x4c7fe9));if(!_0x48786b)throw new not_found_error_1[(_0x1f190c(0x17b))](_0x1f190c(0x16d)+_0x4c7fe9+_0x1f190c(0x13e));return _0x48786b['Id'];}async[a231_0x967ad(0x166)](){const _0x43fa56=a231_0x967ad,_0x32ac71=await this[_0x43fa56(0x15c)][_0x43fa56(0x174)](queries_1[_0x43fa56(0x149)]);return _0x32ac71[_0x43fa56(0x140)](_0x46bfb1=>(0x0,flosum_naming_utils_1[_0x43fa56(0x157)])(_0x46bfb1,['Id','Name']))[_0x43fa56(0x140)](_0x2ed8d3=>({'id':_0x2ed8d3['Id'],'name':_0x2ed8d3['Name']}));}async[a231_0x967ad(0x170)](_0x1506b3,_0x215c5f){const _0x2507a6=a231_0x967ad,_0x53610a=[];while(_0x1506b3[_0x2507a6(0x175)]){const _0x129e08=queries_1[_0x2507a6(0x14c)][_0x2507a6(0x13a)](_0x2507a6(0x153),_0x1506b3['splice'](0x0,this[_0x2507a6(0x137)])[_0x2507a6(0x140)](_0x1abc72=>'\x27'+_0x1abc72+'\x27')[_0x2507a6(0x17c)](','))[_0x2507a6(0x13a)](_0x2507a6(0x164),_0x215c5f),_0x104544=await this[_0x2507a6(0x15c)][_0x2507a6(0x174)](_0x129e08);_0x53610a[_0x2507a6(0x178)](..._0x104544);}return _0x53610a[_0x2507a6(0x140)](_0x3e5ae5=>this['extractComponentMetadataFromRecord'](_0x3e5ae5));}async[a231_0x967ad(0x17a)](_0x25e23c,_0x81f6e1){const _0x1ea459=a231_0x967ad,_0x198aeb=[];while(_0x25e23c[_0x1ea459(0x175)]){const _0x2dbc85=queries_1[_0x1ea459(0x139)][_0x1ea459(0x13a)](_0x1ea459(0x153),_0x25e23c[_0x1ea459(0x180)](0x0,this[_0x1ea459(0x137)])[_0x1ea459(0x140)](_0x42d979=>'\x27'+_0x42d979+'\x27')[_0x1ea459(0x17c)](','))[_0x1ea459(0x13a)](_0x1ea459(0x141),_0x81f6e1),_0x6e2a56=await this[_0x1ea459(0x15c)][_0x1ea459(0x174)](_0x2dbc85);_0x198aeb['push'](..._0x6e2a56);}return _0x198aeb[_0x1ea459(0x140)](_0x9ed8ee=>this[_0x1ea459(0x17f)](_0x9ed8ee));}async['fetchRepositoryComponents'](_0x3702f5){const _0x1fc7c=a231_0x967ad,_0xc3cc9c=queries_1['GET_REPOSITORY_COMPONENTS_QUERY'][_0x1fc7c(0x13a)]('%repositoryId%',_0x3702f5),_0x3edde0=await this[_0x1fc7c(0x15c)][_0x1fc7c(0x174)](_0xc3cc9c);return _0x3edde0[_0x1fc7c(0x140)](_0x3515cf=>this[_0x1fc7c(0x17f)](_0x3515cf));}async[a231_0x967ad(0x152)](_0x3dcf7b){const _0x498c56=a231_0x967ad,_0x4dab79=queries_1[_0x498c56(0x173)][_0x498c56(0x13a)](_0x498c56(0x141),_0x3dcf7b),_0x120ddc=await this[_0x498c56(0x15c)][_0x498c56(0x174)](_0x4dab79);return _0x120ddc['map'](_0x35555e=>this[_0x498c56(0x17f)](_0x35555e));}async['fetchCommitManifestsByComponentIds'](_0x332f52){const _0x442f83=a231_0x967ad,_0x41b9e6=[..._0x332f52],_0x34a50e=[];while(_0x41b9e6['length']){const _0xc281c3=queries_1[_0x442f83(0x133)][_0x442f83(0x13a)](_0x442f83(0x16c),_0x41b9e6['splice'](0x0,this[_0x442f83(0x137)])['map'](_0xad45d1=>'\x27'+_0xad45d1+'\x27')[_0x442f83(0x17c)](',')),_0x1c333c=await this[_0x442f83(0x15c)][_0x442f83(0x174)](_0xc281c3);_0x34a50e[_0x442f83(0x178)](..._0x1c333c[_0x442f83(0x140)](_0x1705b9=>_0x1705b9['Id']));}return _0x34a50e;}async[a231_0x967ad(0x135)](_0x533f81,_0x4f9bab){const _0x3c19a8=a231_0x967ad;return this[_0x3c19a8(0x160)][_0x3c19a8(0x15b)](constants_1[_0x3c19a8(0x12f)],{[constants_1[_0x3c19a8(0x132)]+_0x3c19a8(0x130)]:_0x4f9bab,[constants_1['FLOSUM_NAMESPACE']+_0x3c19a8(0x15a)]:_0x533f81[_0x3c19a8(0x179)](0x0,0xff),[constants_1[_0x3c19a8(0x132)]+_0x3c19a8(0x17d)]:_0x3c19a8(0x165),[constants_1[_0x3c19a8(0x147)]+_0x3c19a8(0x154)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a231_0x967ad(0x15f)])(),__metadata(a231_0x967ad(0x14f),[salesforce_query_service_1[a231_0x967ad(0x136)],salesforce_rest_service_1[a231_0x967ad(0x163)]])],SalesforceGitSyncService),exports[a231_0x967ad(0x13b)]=SalesforceGitSyncService;