function a275_0x2e57(_0x5ca77c,_0x3bfe4b){const _0x3e946b=a275_0x1c80();return a275_0x2e57=function(_0x55ef8,_0x377fb0){_0x55ef8=_0x55ef8-0xb3;let _0x1c8035=_0x3e946b[_0x55ef8];return _0x1c8035;},a275_0x2e57(_0x5ca77c,_0x3bfe4b);}const a275_0x5afa0c=a275_0x2e57;(function(_0x521304,_0x5c993d){const _0x145163=a275_0x2e57,_0x37ab40=_0x521304();while(!![]){try{const _0x7eb21c=parseInt(_0x145163(0xf1))/0x1+-parseInt(_0x145163(0xec))/0x2*(-parseInt(_0x145163(0xdf))/0x3)+parseInt(_0x145163(0xc4))/0x4*(-parseInt(_0x145163(0xce))/0x5)+-parseInt(_0x145163(0xfc))/0x6*(-parseInt(_0x145163(0xb8))/0x7)+-parseInt(_0x145163(0xf3))/0x8*(-parseInt(_0x145163(0xd7))/0x9)+parseInt(_0x145163(0xc5))/0xa*(-parseInt(_0x145163(0xba))/0xb)+-parseInt(_0x145163(0xe3))/0xc;if(_0x7eb21c===_0x5c993d)break;else _0x37ab40['push'](_0x37ab40['shift']());}catch(_0x5c875c){_0x37ab40['push'](_0x37ab40['shift']());}}}(a275_0x1c80,0x49080));const a275_0x377fb0=(function(){let _0x25914f=!![];return function(_0x7b0e26,_0x544790){const _0x500093=_0x25914f?function(){if(_0x544790){const _0x258a88=_0x544790['apply'](_0x7b0e26,arguments);return _0x544790=null,_0x258a88;}}:function(){};return _0x25914f=![],_0x500093;};}()),a275_0x55ef8=a275_0x377fb0(this,function(){const _0x1471d9=a275_0x2e57;return a275_0x55ef8['toString']()[_0x1471d9(0xcb)]('(((.+)+)+)+$')[_0x1471d9(0xc0)]()[_0x1471d9(0xf0)](a275_0x55ef8)[_0x1471d9(0xcb)](_0x1471d9(0xde));});a275_0x55ef8();function a275_0x1c80(){const _0x55473e=['%repositoryId%','GET_REPOSITORY_COMPONENTS_QUERY','FLOSUM_NAMESPACE','design:paramtypes','7Qwdjyf','restService','98340jRaXPZ','%name%','typedi','substr','../../../../constants','Repository__c','toString','Name','Repository\x20\x22','SalesforceGitSyncService','8bkikZR','200EfHELP','Completed','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','object','decorate','FLOSUM_COMMIT','search','length','extractComponentMetadataFromRecord','624125rqLZyC','Component_Name__c','__esModule','getOwnPropertyDescriptor','map','getBranchIdByName','NotFoundError','\x22\x20not\x20found\x20in\x20flosum.','File_Name__c','4716RRphjR','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','./salesforce-query.service','MAX_QUERY_ARRAY_ITEMS','SalesforceRestService','getRepositoryIdByName','fetchBranchComponents','(((.+)+)+)+$','3GawRGj','fetchRepositoryComponents','%fileNames%','metadata','10407456QBomTm','function','%componentIds%','push','GET_COMPONENT_RECORD_TYPES_QUERY','createCommit','post','../utils/flosum-naming.utils','fetchCommitManifestsByComponentIds','294836JoJlLd','Service','fetchBranchComponentsByFilenames','%branchId%','constructor','562333NQQivc','Version__c','8224UgqtRj','__decorate','GET_BRANCH_COMPONENTS_QUERY','queryService','extractFieldsFromRecord','../queries','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','splice','Component_Type__c','2078706IGKxGJ','query','replace','defineProperty','join'];a275_0x1c80=function(){return _0x55473e;};return a275_0x1c80();}'use strict';var __decorate=this&&this[a275_0x5afa0c(0xf4)]||function(_0x41f3ec,_0x178205,_0x12106d,_0x26975f){const _0xfd6ac5=a275_0x5afa0c;var _0x371606=arguments[_0xfd6ac5(0xcc)],_0x50b6ab=_0x371606<0x3?_0x178205:_0x26975f===null?_0x26975f=Object[_0xfd6ac5(0xd1)](_0x178205,_0x12106d):_0x26975f,_0x995d5f;if(typeof Reflect===_0xfd6ac5(0xc8)&&typeof Reflect[_0xfd6ac5(0xc9)]===_0xfd6ac5(0xe4))_0x50b6ab=Reflect['decorate'](_0x41f3ec,_0x178205,_0x12106d,_0x26975f);else{for(var _0x1e97bb=_0x41f3ec[_0xfd6ac5(0xcc)]-0x1;_0x1e97bb>=0x0;_0x1e97bb--)if(_0x995d5f=_0x41f3ec[_0x1e97bb])_0x50b6ab=(_0x371606<0x3?_0x995d5f(_0x50b6ab):_0x371606>0x3?_0x995d5f(_0x178205,_0x12106d,_0x50b6ab):_0x995d5f(_0x178205,_0x12106d))||_0x50b6ab;}return _0x371606>0x3&&_0x50b6ab&&Object[_0xfd6ac5(0xff)](_0x178205,_0x12106d,_0x50b6ab),_0x50b6ab;},__metadata=this&&this['__metadata']||function(_0x46d62b,_0x27ee35){const _0x5e4f78=a275_0x5afa0c;if(typeof Reflect===_0x5e4f78(0xc8)&&typeof Reflect[_0x5e4f78(0xe2)]===_0x5e4f78(0xe4))return Reflect[_0x5e4f78(0xe2)](_0x46d62b,_0x27ee35);};Object[a275_0x5afa0c(0xff)](exports,a275_0x5afa0c(0xd0),{'value':!![]}),exports[a275_0x5afa0c(0xc3)]=void 0x0;const not_found_error_1=require('../../../../core/errors/not-found.error'),typedi_1=require(a275_0x5afa0c(0xbc)),constants_1=require(a275_0x5afa0c(0xbe)),queries_1=require(a275_0x5afa0c(0xf8)),flosum_naming_utils_1=require(a275_0x5afa0c(0xea)),salesforce_query_service_1=require(a275_0x5afa0c(0xd9)),salesforce_rest_service_1=require('./salesforce-rest.service');let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x3fa8c5,_0x3b96e4){const _0x56c906=a275_0x5afa0c;this[_0x56c906(0xf6)]=_0x3fa8c5,this['restService']=_0x3b96e4,this[_0x56c906(0xda)]=0xc8;}[a275_0x5afa0c(0xcd)](_0x378aa9){const _0x38aac4=a275_0x5afa0c,_0x40c5e6=(0x0,flosum_naming_utils_1[_0x38aac4(0xf7)])(_0x378aa9,[_0x38aac4(0xcf),_0x38aac4(0xfb),'CRC32__c','File_Name__c',_0x38aac4(0xf2),'Id']);return{'id':_0x40c5e6['Id'],'name':_0x40c5e6[_0x38aac4(0xcf)],'type':_0x40c5e6[_0x38aac4(0xfb)],'fileName':_0x40c5e6[_0x38aac4(0xd6)],'crc32':_0x40c5e6['CRC32__c'],'version':+_0x40c5e6['Version__c']};}async[a275_0x5afa0c(0xdc)](_0x14c1af){const _0x2bb2bf=a275_0x5afa0c,[_0x334d41]=await this[_0x2bb2bf(0xf6)][_0x2bb2bf(0xfd)](queries_1['GET_REPOSITORY_BY_NAME_QUERY'][_0x2bb2bf(0xfe)](_0x2bb2bf(0xbb),_0x14c1af));if(!_0x334d41)throw new not_found_error_1[(_0x2bb2bf(0xd4))](_0x2bb2bf(0xc2)+_0x14c1af+_0x2bb2bf(0xd5));return _0x334d41['Id'];}async[a275_0x5afa0c(0xd3)](_0x1c45db){const _0x29b4f3=a275_0x5afa0c,[_0x19eb2d]=await this[_0x29b4f3(0xf6)][_0x29b4f3(0xfd)](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x29b4f3(0xfe)]('%name%',_0x1c45db));if(!_0x19eb2d)throw new not_found_error_1[(_0x29b4f3(0xd4))]('Branch\x20\x22'+_0x1c45db+_0x29b4f3(0xd5));return _0x19eb2d['Id'];}async['getComponentRecordTypes'](){const _0x2f51d6=a275_0x5afa0c,_0x251893=await this[_0x2f51d6(0xf6)][_0x2f51d6(0xfd)](queries_1[_0x2f51d6(0xe7)]);return _0x251893[_0x2f51d6(0xd2)](_0x475417=>(0x0,flosum_naming_utils_1[_0x2f51d6(0xf7)])(_0x475417,['Id',_0x2f51d6(0xc1)]))[_0x2f51d6(0xd2)](_0x1feab7=>({'id':_0x1feab7['Id'],'name':_0x1feab7[_0x2f51d6(0xc1)]}));}async['fetchRepositoryComponentsByFilenames'](_0x8b03c7,_0xf691a5){const _0x446830=a275_0x5afa0c,_0x31a05e=[];while(_0x8b03c7[_0x446830(0xcc)]){const _0x351911=queries_1[_0x446830(0xd8)][_0x446830(0xfe)](_0x446830(0xe1),_0x8b03c7[_0x446830(0xfa)](0x0,this[_0x446830(0xda)])[_0x446830(0xd2)](_0x5d50b2=>'\x27'+_0x5d50b2+'\x27')[_0x446830(0xb3)](','))['replace'](_0x446830(0xb4),_0xf691a5),_0x30941a=await this['queryService'][_0x446830(0xfd)](_0x351911);_0x31a05e[_0x446830(0xe6)](..._0x30941a);}return _0x31a05e['map'](_0x3fd046=>this[_0x446830(0xcd)](_0x3fd046));}async[a275_0x5afa0c(0xee)](_0x28f9ca,_0x1bec2a){const _0x1e0321=a275_0x5afa0c,_0x30bdbb=[];while(_0x28f9ca[_0x1e0321(0xcc)]){const _0x79cf65=queries_1[_0x1e0321(0xf9)]['replace']('%fileNames%',_0x28f9ca['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x1e0321(0xd2)](_0x23a3a2=>'\x27'+_0x23a3a2+'\x27')['join'](','))['replace'](_0x1e0321(0xef),_0x1bec2a),_0x3af90d=await this['queryService'][_0x1e0321(0xfd)](_0x79cf65);_0x30bdbb['push'](..._0x3af90d);}return _0x30bdbb[_0x1e0321(0xd2)](_0x23f7b1=>this[_0x1e0321(0xcd)](_0x23f7b1));}async[a275_0x5afa0c(0xe0)](_0x567f88){const _0x5d0336=a275_0x5afa0c,_0x21b548=queries_1[_0x5d0336(0xb5)][_0x5d0336(0xfe)](_0x5d0336(0xb4),_0x567f88),_0xd37b0a=await this[_0x5d0336(0xf6)]['query'](_0x21b548);return _0xd37b0a[_0x5d0336(0xd2)](_0x367d3e=>this[_0x5d0336(0xcd)](_0x367d3e));}async[a275_0x5afa0c(0xdd)](_0x3569df){const _0x179d64=a275_0x5afa0c,_0x1dacd5=queries_1[_0x179d64(0xf5)][_0x179d64(0xfe)]('%branchId%',_0x3569df),_0x6d9364=await this[_0x179d64(0xf6)]['query'](_0x1dacd5);return _0x6d9364[_0x179d64(0xd2)](_0x7b0eb7=>this[_0x179d64(0xcd)](_0x7b0eb7));}async[a275_0x5afa0c(0xeb)](_0x4f6d7a){const _0x209399=a275_0x5afa0c,_0x561527=[..._0x4f6d7a],_0x4f9c4f=[];while(_0x561527[_0x209399(0xcc)]){const _0x422d44=queries_1[_0x209399(0xc7)][_0x209399(0xfe)](_0x209399(0xe5),_0x561527['splice'](0x0,this[_0x209399(0xda)])[_0x209399(0xd2)](_0x1f028c=>'\x27'+_0x1f028c+'\x27')[_0x209399(0xb3)](',')),_0x5d4abe=await this[_0x209399(0xf6)][_0x209399(0xfd)](_0x422d44);_0x4f9c4f[_0x209399(0xe6)](..._0x5d4abe[_0x209399(0xd2)](_0x34ae9c=>_0x34ae9c['Id']));}return _0x4f9c4f;}async[a275_0x5afa0c(0xe8)](_0x381ab5,_0x5634fb){const _0x5a7d75=a275_0x5afa0c;return this[_0x5a7d75(0xb9)][_0x5a7d75(0xe9)](constants_1[_0x5a7d75(0xca)],{[constants_1[_0x5a7d75(0xb6)]+_0x5a7d75(0xbf)]:_0x5634fb,[constants_1[_0x5a7d75(0xb6)]+'Commit_Name__c']:_0x381ab5[_0x5a7d75(0xbd)](0x0,0xff),[constants_1['FLOSUM_NAMESPACE']+'Status__c']:_0x5a7d75(0xc6),[constants_1['FLOSUM_GIT_NAMESPACE']+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a275_0x5afa0c(0xed)])(),__metadata(a275_0x5afa0c(0xb7),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a275_0x5afa0c(0xdb)]])],SalesforceGitSyncService),exports['SalesforceGitSyncService']=SalesforceGitSyncService;