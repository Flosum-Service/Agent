function a231_0x28bf(_0x32722b,_0x1203e6){const _0x19e13c=a231_0x2852();return a231_0x28bf=function(_0x2776c5,_0x2c5a2c){_0x2776c5=_0x2776c5-0xf5;let _0x28520d=_0x19e13c[_0x2776c5];return _0x28520d;},a231_0x28bf(_0x32722b,_0x1203e6);}const a231_0x2c4b51=a231_0x28bf;(function(_0x498ef9,_0x5b96ea){const _0x19d1c3=a231_0x28bf,_0x5dc794=_0x498ef9();while(!![]){try{const _0x28ea76=-parseInt(_0x19d1c3(0x10e))/0x1*(-parseInt(_0x19d1c3(0xfa))/0x2)+parseInt(_0x19d1c3(0x128))/0x3*(-parseInt(_0x19d1c3(0x100))/0x4)+-parseInt(_0x19d1c3(0x118))/0x5*(-parseInt(_0x19d1c3(0x106))/0x6)+parseInt(_0x19d1c3(0x107))/0x7+parseInt(_0x19d1c3(0x13e))/0x8*(-parseInt(_0x19d1c3(0x11f))/0x9)+-parseInt(_0x19d1c3(0x11b))/0xa+-parseInt(_0x19d1c3(0x113))/0xb;if(_0x28ea76===_0x5b96ea)break;else _0x5dc794['push'](_0x5dc794['shift']());}catch(_0x1191e1){_0x5dc794['push'](_0x5dc794['shift']());}}}(a231_0x2852,0x59709));const a231_0x2c5a2c=(function(){let _0x202c53=!![];return function(_0xa848a0,_0x48e92e){const _0x19f35d=_0x202c53?function(){if(_0x48e92e){const _0x29d3c0=_0x48e92e['apply'](_0xa848a0,arguments);return _0x48e92e=null,_0x29d3c0;}}:function(){};return _0x202c53=![],_0x19f35d;};}()),a231_0x2776c5=a231_0x2c5a2c(this,function(){const _0x3f0437=a231_0x28bf;return a231_0x2776c5[_0x3f0437(0x111)]()[_0x3f0437(0xff)](_0x3f0437(0xf5))['toString']()[_0x3f0437(0x10c)](a231_0x2776c5)[_0x3f0437(0xff)](_0x3f0437(0xf5));});function a231_0x2852(){const _0x39967c=['push','Repository\x20\x22','constructor','defineProperty','1RNsCTd','restService','extractFieldsFromRecord','toString','Repository__c','2232824VLeMHy','SalesforceRestService','Commit_Name__c','%branchId%','MAX_QUERY_ARRAY_ITEMS','2621630UNPDza','File_Name__c','Completed','5792530wxQcJc','NotFoundError','Component_Type__c','%fileNames%','34398uKqRYs','__metadata','queryService','./salesforce-rest.service','%name%','fetchBranchComponents','Status__c','replace','Is_From_Agent__c','582939gkxYcA','length','Service','SalesforceGitSyncService','join','getBranchIdByName','GET_REPOSITORY_COMPONENTS_QUERY','__decorate','Name','GET_COMPONENT_RECORD_TYPES_QUERY','__esModule','CRC32__c','query','metadata','Version__c','../utils/flosum-naming.utils','design:paramtypes','Branch\x20\x22','decorate','FLOSUM_GIT_NAMESPACE','SalesforceQueryService','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','32dmKwfj','fetchRepositoryComponentsByFilenames','createCommit','fetchCommitManifestsByComponentIds','GET_BRANCH_COMPONENTS_QUERY','getRepositoryIdByName','map','object','\x22\x20not\x20found\x20in\x20flosum.','(((.+)+)+)+$','./salesforce-query.service','getOwnPropertyDescriptor','GET_REPOSITORY_BY_NAME_QUERY','Component_Name__c','1409446ObFEgi','extractComponentMetadataFromRecord','splice','FLOSUM_NAMESPACE','post','search','4WCJwNY','typedi','GET_BRANCH_BY_NAME_QUERY','fetchBranchComponentsByFilenames','%repositoryId%','fetchRepositoryComponents','6ErQncP','903938uTnKdZ','substr','../../../../core/errors/not-found.error'];a231_0x2852=function(){return _0x39967c;};return a231_0x2852();}a231_0x2776c5();'use strict';var __decorate=this&&this[a231_0x2c4b51(0x12f)]||function(_0x236e0a,_0x4b64a4,_0x3a0faf,_0x6f7585){const _0x23fc0a=a231_0x2c4b51;var _0x341269=arguments[_0x23fc0a(0x129)],_0x183711=_0x341269<0x3?_0x4b64a4:_0x6f7585===null?_0x6f7585=Object[_0x23fc0a(0xf7)](_0x4b64a4,_0x3a0faf):_0x6f7585,_0x3bfeb5;if(typeof Reflect===_0x23fc0a(0x145)&&typeof Reflect[_0x23fc0a(0x13a)]==='function')_0x183711=Reflect[_0x23fc0a(0x13a)](_0x236e0a,_0x4b64a4,_0x3a0faf,_0x6f7585);else{for(var _0x564f55=_0x236e0a[_0x23fc0a(0x129)]-0x1;_0x564f55>=0x0;_0x564f55--)if(_0x3bfeb5=_0x236e0a[_0x564f55])_0x183711=(_0x341269<0x3?_0x3bfeb5(_0x183711):_0x341269>0x3?_0x3bfeb5(_0x4b64a4,_0x3a0faf,_0x183711):_0x3bfeb5(_0x4b64a4,_0x3a0faf))||_0x183711;}return _0x341269>0x3&&_0x183711&&Object[_0x23fc0a(0x10d)](_0x4b64a4,_0x3a0faf,_0x183711),_0x183711;},__metadata=this&&this[a231_0x2c4b51(0x120)]||function(_0x1e5339,_0x46e354){const _0x4297ce=a231_0x2c4b51;if(typeof Reflect===_0x4297ce(0x145)&&typeof Reflect[_0x4297ce(0x135)]==='function')return Reflect['metadata'](_0x1e5339,_0x46e354);};Object['defineProperty'](exports,a231_0x2c4b51(0x132),{'value':!![]}),exports[a231_0x2c4b51(0x12b)]=void 0x0;const not_found_error_1=require(a231_0x2c4b51(0x109)),typedi_1=require(a231_0x2c4b51(0x101)),constants_1=require('../../../../constants'),queries_1=require('../queries'),flosum_naming_utils_1=require(a231_0x2c4b51(0x137)),salesforce_query_service_1=require(a231_0x2c4b51(0xf6)),salesforce_rest_service_1=require(a231_0x2c4b51(0x122));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x4fed35,_0x547780){const _0x196bb6=a231_0x2c4b51;this['queryService']=_0x4fed35,this[_0x196bb6(0x10f)]=_0x547780,this[_0x196bb6(0x117)]=0xc8;}['extractComponentMetadataFromRecord'](_0x14025){const _0x4d0b86=a231_0x2c4b51,_0x1ac421=(0x0,flosum_naming_utils_1[_0x4d0b86(0x110)])(_0x14025,[_0x4d0b86(0xf9),_0x4d0b86(0x11d),_0x4d0b86(0x133),_0x4d0b86(0x119),_0x4d0b86(0x136),'Id']);return{'id':_0x1ac421['Id'],'name':_0x1ac421[_0x4d0b86(0xf9)],'type':_0x1ac421[_0x4d0b86(0x11d)],'fileName':_0x1ac421[_0x4d0b86(0x119)],'crc32':_0x1ac421[_0x4d0b86(0x133)],'version':+_0x1ac421[_0x4d0b86(0x136)]};}async[a231_0x2c4b51(0x143)](_0x3b2c33){const _0x53e93c=a231_0x2c4b51,[_0x409d34]=await this[_0x53e93c(0x121)][_0x53e93c(0x134)](queries_1[_0x53e93c(0xf8)][_0x53e93c(0x126)](_0x53e93c(0x123),_0x3b2c33));if(!_0x409d34)throw new not_found_error_1[(_0x53e93c(0x11c))](_0x53e93c(0x10b)+_0x3b2c33+_0x53e93c(0x146));return _0x409d34['Id'];}async[a231_0x2c4b51(0x12d)](_0x148b97){const _0x4f1100=a231_0x2c4b51,[_0x8da670]=await this['queryService'][_0x4f1100(0x134)](queries_1[_0x4f1100(0x102)][_0x4f1100(0x126)](_0x4f1100(0x123),_0x148b97));if(!_0x8da670)throw new not_found_error_1['NotFoundError'](_0x4f1100(0x139)+_0x148b97+_0x4f1100(0x146));return _0x8da670['Id'];}async['getComponentRecordTypes'](){const _0x569011=a231_0x2c4b51,_0x741e1e=await this['queryService'][_0x569011(0x134)](queries_1[_0x569011(0x131)]);return _0x741e1e[_0x569011(0x144)](_0x14b773=>(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x14b773,['Id',_0x569011(0x130)]))['map'](_0x1d061e=>({'id':_0x1d061e['Id'],'name':_0x1d061e['Name']}));}async[a231_0x2c4b51(0x13f)](_0x232787,_0x5973f4){const _0x597ef6=a231_0x2c4b51,_0x34ba43=[];while(_0x232787[_0x597ef6(0x129)]){const _0x56bedd=queries_1['GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY'][_0x597ef6(0x126)](_0x597ef6(0x11e),_0x232787[_0x597ef6(0xfc)](0x0,this[_0x597ef6(0x117)])[_0x597ef6(0x144)](_0x29c077=>'\x27'+_0x29c077+'\x27')[_0x597ef6(0x12c)](','))[_0x597ef6(0x126)](_0x597ef6(0x104),_0x5973f4),_0x200970=await this[_0x597ef6(0x121)][_0x597ef6(0x134)](_0x56bedd);_0x34ba43[_0x597ef6(0x10a)](..._0x200970);}return _0x34ba43[_0x597ef6(0x144)](_0x303477=>this[_0x597ef6(0xfb)](_0x303477));}async[a231_0x2c4b51(0x103)](_0x114b69,_0x3caef4){const _0x4db7a8=a231_0x2c4b51,_0x89557b=[];while(_0x114b69[_0x4db7a8(0x129)]){const _0x62c6a4=queries_1[_0x4db7a8(0x13d)][_0x4db7a8(0x126)]('%fileNames%',_0x114b69[_0x4db7a8(0xfc)](0x0,this[_0x4db7a8(0x117)])[_0x4db7a8(0x144)](_0x4eba96=>'\x27'+_0x4eba96+'\x27')[_0x4db7a8(0x12c)](','))[_0x4db7a8(0x126)]('%branchId%',_0x3caef4),_0x8e3d57=await this[_0x4db7a8(0x121)]['query'](_0x62c6a4);_0x89557b[_0x4db7a8(0x10a)](..._0x8e3d57);}return _0x89557b[_0x4db7a8(0x144)](_0x4430eb=>this['extractComponentMetadataFromRecord'](_0x4430eb));}async[a231_0x2c4b51(0x105)](_0x457606){const _0x3dcd5f=a231_0x2c4b51,_0x2befbc=queries_1[_0x3dcd5f(0x12e)][_0x3dcd5f(0x126)](_0x3dcd5f(0x104),_0x457606),_0xec8bba=await this['queryService'][_0x3dcd5f(0x134)](_0x2befbc);return _0xec8bba[_0x3dcd5f(0x144)](_0x17eb65=>this[_0x3dcd5f(0xfb)](_0x17eb65));}async[a231_0x2c4b51(0x124)](_0x5baaff){const _0x4a8649=a231_0x2c4b51,_0x3522e7=queries_1[_0x4a8649(0x142)][_0x4a8649(0x126)](_0x4a8649(0x116),_0x5baaff),_0x3f3772=await this[_0x4a8649(0x121)][_0x4a8649(0x134)](_0x3522e7);return _0x3f3772[_0x4a8649(0x144)](_0x581f44=>this[_0x4a8649(0xfb)](_0x581f44));}async[a231_0x2c4b51(0x141)](_0x335b32){const _0x5c9eb2=a231_0x2c4b51,_0x1f1c52=[..._0x335b32],_0x289103=[];while(_0x1f1c52[_0x5c9eb2(0x129)]){const _0x4b4e8a=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS'][_0x5c9eb2(0x126)]('%componentIds%',_0x1f1c52[_0x5c9eb2(0xfc)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x5c9eb2(0x144)](_0x7b34a=>'\x27'+_0x7b34a+'\x27')[_0x5c9eb2(0x12c)](',')),_0x405200=await this[_0x5c9eb2(0x121)]['query'](_0x4b4e8a);_0x289103[_0x5c9eb2(0x10a)](..._0x405200[_0x5c9eb2(0x144)](_0x52247c=>_0x52247c['Id']));}return _0x289103;}async[a231_0x2c4b51(0x140)](_0x1ac368,_0x454461){const _0x83c45e=a231_0x2c4b51;return this[_0x83c45e(0x10f)][_0x83c45e(0xfe)](constants_1['FLOSUM_COMMIT'],{[constants_1['FLOSUM_NAMESPACE']+_0x83c45e(0x112)]:_0x454461,[constants_1[_0x83c45e(0xfd)]+_0x83c45e(0x115)]:_0x1ac368[_0x83c45e(0x108)](0x0,0xff),[constants_1[_0x83c45e(0xfd)]+_0x83c45e(0x125)]:_0x83c45e(0x11a),[constants_1[_0x83c45e(0x13b)]+_0x83c45e(0x127)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a231_0x2c4b51(0x12a)])(),__metadata(a231_0x2c4b51(0x138),[salesforce_query_service_1[a231_0x2c4b51(0x13c)],salesforce_rest_service_1[a231_0x2c4b51(0x114)]])],SalesforceGitSyncService),exports[a231_0x2c4b51(0x12b)]=SalesforceGitSyncService;