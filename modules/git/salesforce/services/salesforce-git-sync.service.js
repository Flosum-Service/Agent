function a236_0x2665(_0xefa9ec,_0xbca030){const _0x1ac18c=a236_0x2189();return a236_0x2665=function(_0x58613e,_0xd7a2c9){_0x58613e=_0x58613e-0xa8;let _0x218985=_0x1ac18c[_0x58613e];return _0x218985;},a236_0x2665(_0xefa9ec,_0xbca030);}const a236_0x28801c=a236_0x2665;(function(_0x2701b5,_0x4da34b){const _0x384dce=a236_0x2665,_0x361d20=_0x2701b5();while(!![]){try{const _0x42f622=-parseInt(_0x384dce(0xb3))/0x1+-parseInt(_0x384dce(0xc2))/0x2*(parseInt(_0x384dce(0xbd))/0x3)+parseInt(_0x384dce(0xf0))/0x4+parseInt(_0x384dce(0xf1))/0x5+-parseInt(_0x384dce(0xd2))/0x6+parseInt(_0x384dce(0xb5))/0x7+-parseInt(_0x384dce(0xc3))/0x8*(parseInt(_0x384dce(0xc5))/0x9);if(_0x42f622===_0x4da34b)break;else _0x361d20['push'](_0x361d20['shift']());}catch(_0x5703b6){_0x361d20['push'](_0x361d20['shift']());}}}(a236_0x2189,0x2fdd7));const a236_0xd7a2c9=(function(){let _0x4c3929=!![];return function(_0x206174,_0x5552b9){const _0x57fa7d=_0x4c3929?function(){if(_0x5552b9){const _0x2aecf4=_0x5552b9['apply'](_0x206174,arguments);return _0x5552b9=null,_0x2aecf4;}}:function(){};return _0x4c3929=![],_0x57fa7d;};}()),a236_0x58613e=a236_0xd7a2c9(this,function(){const _0x4d5eb7=a236_0x2665;return a236_0x58613e[_0x4d5eb7(0xb7)]()[_0x4d5eb7(0xdb)](_0x4d5eb7(0xee))['toString']()[_0x4d5eb7(0xdc)](a236_0x58613e)['search']('(((.+)+)+)+$');});a236_0x58613e();function a236_0x2189(){const _0xe7fef1=['82EOHoOo','456edrwSA','Component_Type__c','48285SbCoEu','\x22\x20not\x20found\x20in\x20flosum.','getComponentRecordTypes','GET_REPOSITORY_COMPONENTS_QUERY','restService','getOwnPropertyDescriptor','push','../../../../core/errors/not-found.error','%name%','decorate','GET_REPOSITORY_BY_NAME_QUERY','Commit_Name__c','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','1122870CgcCcb','__metadata','design:paramtypes','./salesforce-query.service','FLOSUM_GIT_NAMESPACE','fetchBranchComponents','object','metadata','queryService','search','constructor','%branchId%','NotFoundError','GET_BRANCH_BY_NAME_QUERY','fetchRepositoryComponentsByFilenames','post','function','query','FLOSUM_NAMESPACE','Service','Completed','defineProperty','extractComponentMetadataFromRecord','FLOSUM_COMMIT','fetchBranchComponentsByFilenames','Name','../utils/flosum-naming.utils','__decorate','(((.+)+)+)+$','Status__c','1447760sQscec','1650895lboqvN','__esModule','SalesforceGitSyncService','SalesforceRestService','splice','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','extractFieldsFromRecord','Branch\x20\x22','Version__c','File_Name__c','replace','join','substr','map','length','213502liboWq','fetchCommitManifestsByComponentIds','2569343vPreFS','CRC32__c','toString','MAX_QUERY_ARRAY_ITEMS','./salesforce-rest.service','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','typedi','getRepositoryIdByName','11463pvsAJl','createCommit','getBranchIdByName','fetchRepositoryComponents','%repositoryId%'];a236_0x2189=function(){return _0xe7fef1;};return a236_0x2189();}'use strict';var __decorate=this&&this[a236_0x28801c(0xed)]||function(_0x544c4c,_0x9024ae,_0x226e7a,_0x123054){const _0x5531cb=a236_0x28801c;var _0x4b5737=arguments[_0x5531cb(0xb2)],_0x3b4a8a=_0x4b5737<0x3?_0x9024ae:_0x123054===null?_0x123054=Object[_0x5531cb(0xca)](_0x9024ae,_0x226e7a):_0x123054,_0x4af26a;if(typeof Reflect===_0x5531cb(0xd8)&&typeof Reflect[_0x5531cb(0xce)]===_0x5531cb(0xe2))_0x3b4a8a=Reflect[_0x5531cb(0xce)](_0x544c4c,_0x9024ae,_0x226e7a,_0x123054);else{for(var _0x57f422=_0x544c4c['length']-0x1;_0x57f422>=0x0;_0x57f422--)if(_0x4af26a=_0x544c4c[_0x57f422])_0x3b4a8a=(_0x4b5737<0x3?_0x4af26a(_0x3b4a8a):_0x4b5737>0x3?_0x4af26a(_0x9024ae,_0x226e7a,_0x3b4a8a):_0x4af26a(_0x9024ae,_0x226e7a))||_0x3b4a8a;}return _0x4b5737>0x3&&_0x3b4a8a&&Object[_0x5531cb(0xe7)](_0x9024ae,_0x226e7a,_0x3b4a8a),_0x3b4a8a;},__metadata=this&&this[a236_0x28801c(0xd3)]||function(_0x207d33,_0x4c656b){const _0x22dfda=a236_0x28801c;if(typeof Reflect===_0x22dfda(0xd8)&&typeof Reflect[_0x22dfda(0xd9)]==='function')return Reflect['metadata'](_0x207d33,_0x4c656b);};Object[a236_0x28801c(0xe7)](exports,a236_0x28801c(0xf2),{'value':!![]}),exports[a236_0x28801c(0xf3)]=void 0x0;const not_found_error_1=require(a236_0x28801c(0xcc)),typedi_1=require(a236_0x28801c(0xbb)),constants_1=require('../../../../constants'),queries_1=require('../queries'),flosum_naming_utils_1=require(a236_0x28801c(0xec)),salesforce_query_service_1=require(a236_0x28801c(0xd5)),salesforce_rest_service_1=require(a236_0x28801c(0xb9));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x511944,_0x552f09){const _0x1a5e7e=a236_0x28801c;this[_0x1a5e7e(0xda)]=_0x511944,this[_0x1a5e7e(0xc9)]=_0x552f09,this[_0x1a5e7e(0xb8)]=0xc8;}[a236_0x28801c(0xe8)](_0x100aaf){const _0x3bfc94=a236_0x28801c,_0x7794bd=(0x0,flosum_naming_utils_1[_0x3bfc94(0xaa)])(_0x100aaf,['Component_Name__c',_0x3bfc94(0xc4),_0x3bfc94(0xb6),_0x3bfc94(0xad),_0x3bfc94(0xac),'Id']);return{'id':_0x7794bd['Id'],'name':_0x7794bd['Component_Name__c'],'type':_0x7794bd['Component_Type__c'],'fileName':_0x7794bd['File_Name__c'],'crc32':_0x7794bd[_0x3bfc94(0xb6)],'version':+_0x7794bd[_0x3bfc94(0xac)]};}async[a236_0x28801c(0xbc)](_0x3908d3){const _0x487624=a236_0x28801c,[_0xbaf95d]=await this[_0x487624(0xda)][_0x487624(0xe3)](queries_1[_0x487624(0xcf)][_0x487624(0xae)]('%name%',_0x3908d3));if(!_0xbaf95d)throw new not_found_error_1[(_0x487624(0xde))]('Repository\x20\x22'+_0x3908d3+_0x487624(0xc6));return _0xbaf95d['Id'];}async[a236_0x28801c(0xbf)](_0x3a2855){const _0x136e52=a236_0x28801c,[_0x46d96b]=await this['queryService'][_0x136e52(0xe3)](queries_1[_0x136e52(0xdf)][_0x136e52(0xae)](_0x136e52(0xcd),_0x3a2855));if(!_0x46d96b)throw new not_found_error_1['NotFoundError'](_0x136e52(0xab)+_0x3a2855+_0x136e52(0xc6));return _0x46d96b['Id'];}async[a236_0x28801c(0xc7)](){const _0x4fa372=a236_0x28801c,_0x42aac0=await this['queryService'][_0x4fa372(0xe3)](queries_1['GET_COMPONENT_RECORD_TYPES_QUERY']);return _0x42aac0[_0x4fa372(0xb1)](_0x2138de=>(0x0,flosum_naming_utils_1[_0x4fa372(0xaa)])(_0x2138de,['Id',_0x4fa372(0xeb)]))['map'](_0x255b8b=>({'id':_0x255b8b['Id'],'name':_0x255b8b[_0x4fa372(0xeb)]}));}async[a236_0x28801c(0xe0)](_0x578d51,_0xcb980a){const _0x56bd34=a236_0x28801c,_0x5239f9=[];while(_0x578d51[_0x56bd34(0xb2)]){const _0x3412e7=queries_1[_0x56bd34(0xd1)][_0x56bd34(0xae)]('%fileNames%',_0x578d51[_0x56bd34(0xa8)](0x0,this[_0x56bd34(0xb8)])[_0x56bd34(0xb1)](_0x166f8b=>'\x27'+_0x166f8b+'\x27')[_0x56bd34(0xaf)](','))[_0x56bd34(0xae)](_0x56bd34(0xc1),_0xcb980a),_0x3ff6fa=await this[_0x56bd34(0xda)][_0x56bd34(0xe3)](_0x3412e7);_0x5239f9[_0x56bd34(0xcb)](..._0x3ff6fa);}return _0x5239f9[_0x56bd34(0xb1)](_0x2d2f29=>this[_0x56bd34(0xe8)](_0x2d2f29));}async[a236_0x28801c(0xea)](_0x53360a,_0x1e3b9f){const _0x5d60f7=a236_0x28801c,_0x2b46d5=[];while(_0x53360a[_0x5d60f7(0xb2)]){const _0x374823=queries_1[_0x5d60f7(0xa9)]['replace']('%fileNames%',_0x53360a[_0x5d60f7(0xa8)](0x0,this[_0x5d60f7(0xb8)])['map'](_0x307871=>'\x27'+_0x307871+'\x27')[_0x5d60f7(0xaf)](','))[_0x5d60f7(0xae)]('%branchId%',_0x1e3b9f),_0x39ad04=await this[_0x5d60f7(0xda)]['query'](_0x374823);_0x2b46d5[_0x5d60f7(0xcb)](..._0x39ad04);}return _0x2b46d5[_0x5d60f7(0xb1)](_0x2d5f74=>this[_0x5d60f7(0xe8)](_0x2d5f74));}async[a236_0x28801c(0xc0)](_0x5b61b0){const _0x4d6b5e=a236_0x28801c,_0x49b40c=queries_1[_0x4d6b5e(0xc8)][_0x4d6b5e(0xae)](_0x4d6b5e(0xc1),_0x5b61b0),_0x2669f7=await this['queryService']['query'](_0x49b40c);return _0x2669f7[_0x4d6b5e(0xb1)](_0x57dcd3=>this['extractComponentMetadataFromRecord'](_0x57dcd3));}async[a236_0x28801c(0xd7)](_0x178594){const _0x4970fc=a236_0x28801c,_0x530483=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0x4970fc(0xae)](_0x4970fc(0xdd),_0x178594),_0x5a5ced=await this['queryService'][_0x4970fc(0xe3)](_0x530483);return _0x5a5ced[_0x4970fc(0xb1)](_0x1273c8=>this[_0x4970fc(0xe8)](_0x1273c8));}async[a236_0x28801c(0xb4)](_0x1d54b5){const _0x3c37d6=a236_0x28801c,_0x499a81=[..._0x1d54b5],_0x58c946=[];while(_0x499a81[_0x3c37d6(0xb2)]){const _0x48bfa5=queries_1[_0x3c37d6(0xba)][_0x3c37d6(0xae)]('%componentIds%',_0x499a81[_0x3c37d6(0xa8)](0x0,this[_0x3c37d6(0xb8)])[_0x3c37d6(0xb1)](_0x37f438=>'\x27'+_0x37f438+'\x27')['join'](',')),_0x6136ad=await this[_0x3c37d6(0xda)][_0x3c37d6(0xe3)](_0x48bfa5);_0x58c946[_0x3c37d6(0xcb)](..._0x6136ad[_0x3c37d6(0xb1)](_0x2780f9=>_0x2780f9['Id']));}return _0x58c946;}async[a236_0x28801c(0xbe)](_0x2589f4,_0x37056c){const _0x4fddcb=a236_0x28801c;return this[_0x4fddcb(0xc9)][_0x4fddcb(0xe1)](constants_1[_0x4fddcb(0xe9)],{[constants_1[_0x4fddcb(0xe4)]+'Repository__c']:_0x37056c,[constants_1['FLOSUM_NAMESPACE']+_0x4fddcb(0xd0)]:_0x2589f4[_0x4fddcb(0xb0)](0x0,0xff),[constants_1[_0x4fddcb(0xe4)]+_0x4fddcb(0xef)]:_0x4fddcb(0xe6),[constants_1[_0x4fddcb(0xd6)]+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a236_0x28801c(0xe5)])(),__metadata(a236_0x28801c(0xd4),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a236_0x28801c(0xf4)]])],SalesforceGitSyncService),exports[a236_0x28801c(0xf3)]=SalesforceGitSyncService;