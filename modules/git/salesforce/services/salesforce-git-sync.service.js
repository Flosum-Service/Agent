function a184_0x158a(_0x3fda28,_0x2da31a){const _0x3fc1a8=a184_0x245a();return a184_0x158a=function(_0x7d1fb0,_0x3041b6){_0x7d1fb0=_0x7d1fb0-0x1d5;let _0x245acd=_0x3fc1a8[_0x7d1fb0];return _0x245acd;},a184_0x158a(_0x3fda28,_0x2da31a);}const a184_0x73f071=a184_0x158a;(function(_0x2b9128,_0x1fc658){const _0x59e7f5=a184_0x158a,_0x1bfb3e=_0x2b9128();while(!![]){try{const _0x5b2413=parseInt(_0x59e7f5(0x1fd))/0x1*(parseInt(_0x59e7f5(0x225))/0x2)+parseInt(_0x59e7f5(0x21b))/0x3+-parseInt(_0x59e7f5(0x205))/0x4*(-parseInt(_0x59e7f5(0x1f8))/0x5)+parseInt(_0x59e7f5(0x1e1))/0x6+-parseInt(_0x59e7f5(0x220))/0x7+-parseInt(_0x59e7f5(0x212))/0x8+-parseInt(_0x59e7f5(0x219))/0x9;if(_0x5b2413===_0x1fc658)break;else _0x1bfb3e['push'](_0x1bfb3e['shift']());}catch(_0x979438){_0x1bfb3e['push'](_0x1bfb3e['shift']());}}}(a184_0x245a,0x52e0d));const a184_0x3041b6=(function(){let _0x34a091=!![];return function(_0x175ede,_0x1228b8){const _0x31e7d0=_0x34a091?function(){const _0x10ac6e=a184_0x158a;if(_0x1228b8){const _0x16a0b2=_0x1228b8[_0x10ac6e(0x1f7)](_0x175ede,arguments);return _0x1228b8=null,_0x16a0b2;}}:function(){};return _0x34a091=![],_0x31e7d0;};}()),a184_0x7d1fb0=a184_0x3041b6(this,function(){const _0x4208d7=a184_0x158a;return a184_0x7d1fb0['toString']()[_0x4208d7(0x201)](_0x4208d7(0x21a))[_0x4208d7(0x209)]()[_0x4208d7(0x1ea)](a184_0x7d1fb0)[_0x4208d7(0x201)](_0x4208d7(0x21a));});function a184_0x245a(){const _0x1915bd=['length','apply','5IrOUgQ','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','%branchId%','substr','FLOSUM_COMMIT','125156lOgIHn','restService','replace','query','search','Commit_Name__c','push','typedi','1977580JEFusf','__esModule','GET_REPOSITORY_BY_NAME_QUERY','SalesforceGitSyncService','toString','SalesforceRestService','%fileNames%','../utils/flosum-naming.utils','design:paramtypes','Status__c','Component_Type__c','createCommit','extractComponentMetadataFromRecord','2274152iDfCUX','fetchRepositoryComponents','getComponentRecordTypes','__metadata','Repository\x20\x22','function','defineProperty','2106765PDYxqa','(((.+)+)+)+$','657168KPxKwk','File_Name__c','GET_COMPONENT_RECORD_TYPES_QUERY','CRC32__c','%name%','3666397jTLGPs','extractFieldsFromRecord','Version__c','fetchBranchComponentsByFilenames','queryService','4GtqReX','getBranchIdByName','fetchCommitManifestsByComponentIds','GET_REPOSITORY_COMPONENTS_QUERY','Completed','Is_From_Agent__c','fetchBranchComponents','join','object','\x22\x20not\x20found\x20in\x20flosum.','Component_Name__c','splice','post','2506986frYNJj','FLOSUM_NAMESPACE','NotFoundError','decorate','./salesforce-query.service','map','../../../../core/errors/not-found.error','SalesforceQueryService','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','constructor','../../../../constants','./salesforce-rest.service','../queries','Branch\x20\x22','metadata','Service','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','Name','Repository__c','MAX_QUERY_ARRAY_ITEMS','%componentIds%'];a184_0x245a=function(){return _0x1915bd;};return a184_0x245a();}a184_0x7d1fb0();'use strict';var __decorate=this&&this['__decorate']||function(_0x576f7b,_0x2c708b,_0x1c31b2,_0x3df58c){const _0x3c78f4=a184_0x158a;var _0x2ba864=arguments[_0x3c78f4(0x1f6)],_0x55ed2a=_0x2ba864<0x3?_0x2c708b:_0x3df58c===null?_0x3df58c=Object['getOwnPropertyDescriptor'](_0x2c708b,_0x1c31b2):_0x3df58c,_0x5d6da7;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x3c78f4(0x217))_0x55ed2a=Reflect[_0x3c78f4(0x1e4)](_0x576f7b,_0x2c708b,_0x1c31b2,_0x3df58c);else{for(var _0x4d6b1d=_0x576f7b[_0x3c78f4(0x1f6)]-0x1;_0x4d6b1d>=0x0;_0x4d6b1d--)if(_0x5d6da7=_0x576f7b[_0x4d6b1d])_0x55ed2a=(_0x2ba864<0x3?_0x5d6da7(_0x55ed2a):_0x2ba864>0x3?_0x5d6da7(_0x2c708b,_0x1c31b2,_0x55ed2a):_0x5d6da7(_0x2c708b,_0x1c31b2))||_0x55ed2a;}return _0x2ba864>0x3&&_0x55ed2a&&Object[_0x3c78f4(0x218)](_0x2c708b,_0x1c31b2,_0x55ed2a),_0x55ed2a;},__metadata=this&&this[a184_0x73f071(0x215)]||function(_0x3dad6c,_0x15de35){const _0x2b519e=a184_0x73f071;if(typeof Reflect===_0x2b519e(0x1dc)&&typeof Reflect[_0x2b519e(0x1ef)]===_0x2b519e(0x217))return Reflect[_0x2b519e(0x1ef)](_0x3dad6c,_0x15de35);};Object[a184_0x73f071(0x218)](exports,a184_0x73f071(0x206),{'value':!![]}),exports['SalesforceGitSyncService']=void 0x0;const not_found_error_1=require(a184_0x73f071(0x1e7)),typedi_1=require(a184_0x73f071(0x204)),constants_1=require(a184_0x73f071(0x1eb)),queries_1=require(a184_0x73f071(0x1ed)),flosum_naming_utils_1=require(a184_0x73f071(0x20c)),salesforce_query_service_1=require(a184_0x73f071(0x1e5)),salesforce_rest_service_1=require(a184_0x73f071(0x1ec));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x34299f,_0x11efb8){const _0x3a314c=a184_0x73f071;this['queryService']=_0x34299f,this[_0x3a314c(0x1fe)]=_0x11efb8,this[_0x3a314c(0x1f4)]=0xc8;}[a184_0x73f071(0x211)](_0x16431a){const _0x5b2044=a184_0x73f071,_0x1c6495=flosum_naming_utils_1[_0x5b2044(0x221)](_0x16431a,[_0x5b2044(0x1de),_0x5b2044(0x20f),'CRC32__c',_0x5b2044(0x21c),_0x5b2044(0x222),'Id']);return{'id':_0x1c6495['Id'],'name':_0x1c6495[_0x5b2044(0x1de)],'type':_0x1c6495[_0x5b2044(0x20f)],'fileName':_0x1c6495[_0x5b2044(0x21c)],'crc32':_0x1c6495[_0x5b2044(0x21e)],'version':+_0x1c6495[_0x5b2044(0x222)]};}async['getRepositoryIdByName'](_0x42764d){const _0xd47e85=a184_0x73f071,[_0xff6156]=await this[_0xd47e85(0x224)][_0xd47e85(0x200)](queries_1[_0xd47e85(0x207)]['replace'](_0xd47e85(0x21f),_0x42764d));if(!_0xff6156)throw new not_found_error_1[(_0xd47e85(0x1e3))](_0xd47e85(0x216)+_0x42764d+_0xd47e85(0x1dd));return _0xff6156['Id'];}async[a184_0x73f071(0x1d5)](_0x140f62){const _0x4b44f8=a184_0x73f071,[_0x3f1459]=await this[_0x4b44f8(0x224)]['query'](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x4b44f8(0x1ff)](_0x4b44f8(0x21f),_0x140f62));if(!_0x3f1459)throw new not_found_error_1['NotFoundError'](_0x4b44f8(0x1ee)+_0x140f62+_0x4b44f8(0x1dd));return _0x3f1459['Id'];}async[a184_0x73f071(0x214)](){const _0x13eb80=a184_0x73f071,_0x3945aa=await this['queryService'][_0x13eb80(0x200)](queries_1[_0x13eb80(0x21d)]);return _0x3945aa[_0x13eb80(0x1e6)](_0x8017b3=>flosum_naming_utils_1[_0x13eb80(0x221)](_0x8017b3,['Id',_0x13eb80(0x1f2)]))['map'](_0x4cfd1c=>({'id':_0x4cfd1c['Id'],'name':_0x4cfd1c[_0x13eb80(0x1f2)]}));}async['fetchRepositoryComponentsByFilenames'](_0x1b20a8,_0x6a5a5f){const _0x4bdb3e=a184_0x73f071,_0x1e7ad1=[];while(_0x1b20a8[_0x4bdb3e(0x1f6)]){const _0x2ea3ef=queries_1[_0x4bdb3e(0x1f1)][_0x4bdb3e(0x1ff)]('%fileNames%',_0x1b20a8[_0x4bdb3e(0x1df)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])['map'](_0x133874=>'\x27'+_0x133874+'\x27')[_0x4bdb3e(0x1db)](','))[_0x4bdb3e(0x1ff)]('%repositoryId%',_0x6a5a5f),_0x2b31af=await this['queryService'][_0x4bdb3e(0x200)](_0x2ea3ef);_0x1e7ad1[_0x4bdb3e(0x203)](..._0x2b31af);}return _0x1e7ad1['map'](_0xb06be1=>this['extractComponentMetadataFromRecord'](_0xb06be1));}async[a184_0x73f071(0x223)](_0x49545f,_0x4724cb){const _0x4c63fb=a184_0x73f071,_0x3e8465=[];while(_0x49545f[_0x4c63fb(0x1f6)]){const _0xd3d03f=queries_1[_0x4c63fb(0x1e9)][_0x4c63fb(0x1ff)](_0x4c63fb(0x20b),_0x49545f[_0x4c63fb(0x1df)](0x0,this[_0x4c63fb(0x1f4)])[_0x4c63fb(0x1e6)](_0x3adc3d=>'\x27'+_0x3adc3d+'\x27')[_0x4c63fb(0x1db)](','))[_0x4c63fb(0x1ff)]('%branchId%',_0x4724cb),_0x3c91c4=await this[_0x4c63fb(0x224)][_0x4c63fb(0x200)](_0xd3d03f);_0x3e8465[_0x4c63fb(0x203)](..._0x3c91c4);}return _0x3e8465['map'](_0x3ad4bb=>this['extractComponentMetadataFromRecord'](_0x3ad4bb));}async[a184_0x73f071(0x213)](_0x57df28){const _0x24d1b7=a184_0x73f071,_0x17af5d=queries_1[_0x24d1b7(0x1d7)]['replace']('%repositoryId%',_0x57df28),_0x39ef5c=await this[_0x24d1b7(0x224)][_0x24d1b7(0x200)](_0x17af5d);return _0x39ef5c['map'](_0x375646=>this[_0x24d1b7(0x211)](_0x375646));}async[a184_0x73f071(0x1da)](_0x5695de){const _0x343525=a184_0x73f071,_0x65211a=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0x343525(0x1ff)](_0x343525(0x1fa),_0x5695de),_0x552cd2=await this[_0x343525(0x224)][_0x343525(0x200)](_0x65211a);return _0x552cd2[_0x343525(0x1e6)](_0x22dfc0=>this[_0x343525(0x211)](_0x22dfc0));}async[a184_0x73f071(0x1d6)](_0x41c54c){const _0x2de2c3=a184_0x73f071,_0x3dc683=[..._0x41c54c],_0x1b0104=[];while(_0x3dc683[_0x2de2c3(0x1f6)]){const _0x5c3e40=queries_1[_0x2de2c3(0x1f9)][_0x2de2c3(0x1ff)](_0x2de2c3(0x1f5),_0x3dc683['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x2de2c3(0x1e6)](_0x2e09c9=>'\x27'+_0x2e09c9+'\x27')['join'](',')),_0x143ae6=await this[_0x2de2c3(0x224)][_0x2de2c3(0x200)](_0x5c3e40);_0x1b0104[_0x2de2c3(0x203)](..._0x143ae6['map'](_0x17d581=>_0x17d581['Id']));}return _0x1b0104;}async[a184_0x73f071(0x210)](_0x56873d,_0x3baab7){const _0x4e8678=a184_0x73f071;return this['restService'][_0x4e8678(0x1e0)](constants_1[_0x4e8678(0x1fc)],{[constants_1['FLOSUM_NAMESPACE']+_0x4e8678(0x1f3)]:_0x3baab7,[constants_1[_0x4e8678(0x1e2)]+_0x4e8678(0x202)]:_0x56873d[_0x4e8678(0x1fb)](0x0,0xff),[constants_1[_0x4e8678(0x1e2)]+_0x4e8678(0x20e)]:_0x4e8678(0x1d8),[constants_1['FLOSUM_GIT_NAMESPACE']+_0x4e8678(0x1d9)]:!![]});}};SalesforceGitSyncService=__decorate([typedi_1[a184_0x73f071(0x1f0)](),__metadata(a184_0x73f071(0x20d),[salesforce_query_service_1[a184_0x73f071(0x1e8)],salesforce_rest_service_1[a184_0x73f071(0x20a)]])],SalesforceGitSyncService),exports[a184_0x73f071(0x208)]=SalesforceGitSyncService;