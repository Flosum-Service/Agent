const a274_0x40553d=a274_0x2586;function a274_0x2586(_0x42f658,_0x20ad5b){const _0x2bf5e7=a274_0x5a1f();return a274_0x2586=function(_0x29b860,_0x4911fa){_0x29b860=_0x29b860-0x13b;let _0x5a1f68=_0x2bf5e7[_0x29b860];return _0x5a1f68;},a274_0x2586(_0x42f658,_0x20ad5b);}function a274_0x5a1f(){const _0x4c75b3=['300780zDhpHy','GET_COMPONENT_RECORD_TYPES_QUERY','\x22\x20not\x20found\x20in\x20flosum.','%repositoryId%','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','Is_From_Agent__c','extractComponentMetadataFromRecord','1112270vehreD','apply','637695Qhlawz','49715SiUMsm','push','queryService','Version__c','Name','design:paramtypes','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','restService','Repository__c','95593vZYPOn','metadata','../queries','495576HZihcX','replace','search','21ijWpOS','%fileNames%','File_Name__c','Status__c','FLOSUM_GIT_NAMESPACE','join','getOwnPropertyDescriptor','Component_Name__c','__esModule','createCommit','Repository\x20\x22','getBranchIdByName','function','object','Commit_Name__c','fetchCommitManifestsByComponentIds','SalesforceQueryService','./salesforce-rest.service','%branchId%','decorate','toString','18rwuhUy','413720XUkJrP','48qziOqG','length','query','defineProperty','getComponentRecordTypes','splice','GET_REPOSITORY_BY_NAME_QUERY','map','(((.+)+)+)+$','../../../../core/errors/not-found.error','CRC32__c','NotFoundError','__decorate','fetchRepositoryComponents','./salesforce-query.service','__metadata','getRepositoryIdByName','post','FLOSUM_NAMESPACE','extractFieldsFromRecord','../../../../constants','Component_Type__c','%name%','Branch\x20\x22','SalesforceGitSyncService','substr','MAX_QUERY_ARRAY_ITEMS','Completed','%componentIds%'];a274_0x5a1f=function(){return _0x4c75b3;};return a274_0x5a1f();}(function(_0x521d53,_0x25ba4f){const _0x653840=a274_0x2586,_0x426831=_0x521d53();while(!![]){try{const _0x2acd99=parseInt(_0x653840(0x158))/0x1+parseInt(_0x653840(0x144))/0x2+parseInt(_0x653840(0x14e))/0x3+parseInt(_0x653840(0x15b))/0x4+-parseInt(_0x653840(0x14f))/0x5*(parseInt(_0x653840(0x175))/0x6)+-parseInt(_0x653840(0x15e))/0x7*(parseInt(_0x653840(0x174))/0x8)+-parseInt(_0x653840(0x173))/0x9*(parseInt(_0x653840(0x14c))/0xa);if(_0x2acd99===_0x25ba4f)break;else _0x426831['push'](_0x426831['shift']());}catch(_0x43cc9a){_0x426831['push'](_0x426831['shift']());}}}(a274_0x5a1f,0x1e973));const a274_0x4911fa=(function(){let _0x9422ea=!![];return function(_0x47fe89,_0x2701a3){const _0x53d003=_0x9422ea?function(){const _0x5d9a25=a274_0x2586;if(_0x2701a3){const _0x1187fe=_0x2701a3[_0x5d9a25(0x14d)](_0x47fe89,arguments);return _0x2701a3=null,_0x1187fe;}}:function(){};return _0x9422ea=![],_0x53d003;};}()),a274_0x29b860=a274_0x4911fa(this,function(){const _0x51d5ca=a274_0x2586;return a274_0x29b860[_0x51d5ca(0x172)]()[_0x51d5ca(0x15d)]('(((.+)+)+)+$')[_0x51d5ca(0x172)]()['constructor'](a274_0x29b860)[_0x51d5ca(0x15d)](_0x51d5ca(0x17d));});a274_0x29b860();'use strict';var __decorate=this&&this[a274_0x40553d(0x181)]||function(_0x16eb36,_0x142f01,_0x376cd6,_0x367dc6){const _0x14c92c=a274_0x40553d;var _0x2eabb0=arguments[_0x14c92c(0x176)],_0x7ac11e=_0x2eabb0<0x3?_0x142f01:_0x367dc6===null?_0x367dc6=Object[_0x14c92c(0x164)](_0x142f01,_0x376cd6):_0x367dc6,_0x5ef42f;if(typeof Reflect===_0x14c92c(0x16b)&&typeof Reflect[_0x14c92c(0x171)]===_0x14c92c(0x16a))_0x7ac11e=Reflect['decorate'](_0x16eb36,_0x142f01,_0x376cd6,_0x367dc6);else{for(var _0x564768=_0x16eb36[_0x14c92c(0x176)]-0x1;_0x564768>=0x0;_0x564768--)if(_0x5ef42f=_0x16eb36[_0x564768])_0x7ac11e=(_0x2eabb0<0x3?_0x5ef42f(_0x7ac11e):_0x2eabb0>0x3?_0x5ef42f(_0x142f01,_0x376cd6,_0x7ac11e):_0x5ef42f(_0x142f01,_0x376cd6))||_0x7ac11e;}return _0x2eabb0>0x3&&_0x7ac11e&&Object['defineProperty'](_0x142f01,_0x376cd6,_0x7ac11e),_0x7ac11e;},__metadata=this&&this[a274_0x40553d(0x184)]||function(_0xa37904,_0x1fe635){const _0x4547ca=a274_0x40553d;if(typeof Reflect===_0x4547ca(0x16b)&&typeof Reflect[_0x4547ca(0x159)]===_0x4547ca(0x16a))return Reflect[_0x4547ca(0x159)](_0xa37904,_0x1fe635);};Object[a274_0x40553d(0x178)](exports,a274_0x40553d(0x166),{'value':!![]}),exports[a274_0x40553d(0x13f)]=void 0x0;const not_found_error_1=require(a274_0x40553d(0x17e)),typedi_1=require('typedi'),constants_1=require(a274_0x40553d(0x13b)),queries_1=require(a274_0x40553d(0x15a)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a274_0x40553d(0x183)),salesforce_rest_service_1=require(a274_0x40553d(0x16f));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0xa32d60,_0x42db27){const _0x46ddf5=a274_0x40553d;this[_0x46ddf5(0x151)]=_0xa32d60,this[_0x46ddf5(0x156)]=_0x42db27,this[_0x46ddf5(0x141)]=0xc8;}['extractComponentMetadataFromRecord'](_0xc6eb1e){const _0x4ba4d0=a274_0x40553d,_0x53b3e4=(0x0,flosum_naming_utils_1[_0x4ba4d0(0x188)])(_0xc6eb1e,[_0x4ba4d0(0x165),_0x4ba4d0(0x13c),'CRC32__c','File_Name__c',_0x4ba4d0(0x152),'Id']);return{'id':_0x53b3e4['Id'],'name':_0x53b3e4[_0x4ba4d0(0x165)],'type':_0x53b3e4[_0x4ba4d0(0x13c)],'fileName':_0x53b3e4[_0x4ba4d0(0x160)],'crc32':_0x53b3e4[_0x4ba4d0(0x17f)],'version':+_0x53b3e4[_0x4ba4d0(0x152)]};}async[a274_0x40553d(0x185)](_0x417c59){const _0x46329f=a274_0x40553d,[_0x56dfc6]=await this[_0x46329f(0x151)][_0x46329f(0x177)](queries_1[_0x46329f(0x17b)][_0x46329f(0x15c)]('%name%',_0x417c59));if(!_0x56dfc6)throw new not_found_error_1[(_0x46329f(0x180))](_0x46329f(0x168)+_0x417c59+_0x46329f(0x146));return _0x56dfc6['Id'];}async[a274_0x40553d(0x169)](_0x2e4ea3){const _0x479168=a274_0x40553d,[_0x1bc571]=await this['queryService']['query'](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x479168(0x15c)](_0x479168(0x13d),_0x2e4ea3));if(!_0x1bc571)throw new not_found_error_1[(_0x479168(0x180))](_0x479168(0x13e)+_0x2e4ea3+_0x479168(0x146));return _0x1bc571['Id'];}async[a274_0x40553d(0x179)](){const _0x1ab261=a274_0x40553d,_0x940660=await this['queryService'][_0x1ab261(0x177)](queries_1[_0x1ab261(0x145)]);return _0x940660[_0x1ab261(0x17c)](_0x27bec8=>(0x0,flosum_naming_utils_1[_0x1ab261(0x188)])(_0x27bec8,['Id',_0x1ab261(0x153)]))[_0x1ab261(0x17c)](_0x3f87e2=>({'id':_0x3f87e2['Id'],'name':_0x3f87e2[_0x1ab261(0x153)]}));}async['fetchRepositoryComponentsByFilenames'](_0x3b4fa2,_0x1afd26){const _0x98507f=a274_0x40553d,_0x12d473=[];while(_0x3b4fa2[_0x98507f(0x176)]){const _0x3ac847=queries_1[_0x98507f(0x149)][_0x98507f(0x15c)](_0x98507f(0x15f),_0x3b4fa2['splice'](0x0,this[_0x98507f(0x141)])[_0x98507f(0x17c)](_0x487012=>'\x27'+_0x487012+'\x27')[_0x98507f(0x163)](','))['replace'](_0x98507f(0x147),_0x1afd26),_0x4cc0c9=await this[_0x98507f(0x151)][_0x98507f(0x177)](_0x3ac847);_0x12d473['push'](..._0x4cc0c9);}return _0x12d473['map'](_0x1131d4=>this['extractComponentMetadataFromRecord'](_0x1131d4));}async['fetchBranchComponentsByFilenames'](_0x13e5a3,_0x46d6fa){const _0x4795d8=a274_0x40553d,_0x2e1492=[];while(_0x13e5a3[_0x4795d8(0x176)]){const _0x330daf=queries_1[_0x4795d8(0x155)][_0x4795d8(0x15c)](_0x4795d8(0x15f),_0x13e5a3[_0x4795d8(0x17a)](0x0,this[_0x4795d8(0x141)])[_0x4795d8(0x17c)](_0x3d6532=>'\x27'+_0x3d6532+'\x27')[_0x4795d8(0x163)](','))['replace'](_0x4795d8(0x170),_0x46d6fa),_0x42d457=await this['queryService'][_0x4795d8(0x177)](_0x330daf);_0x2e1492['push'](..._0x42d457);}return _0x2e1492[_0x4795d8(0x17c)](_0x579500=>this['extractComponentMetadataFromRecord'](_0x579500));}async[a274_0x40553d(0x182)](_0x195bf3){const _0x220bfd=a274_0x40553d,_0x22df36=queries_1['GET_REPOSITORY_COMPONENTS_QUERY'][_0x220bfd(0x15c)](_0x220bfd(0x147),_0x195bf3),_0x4e98a6=await this['queryService'][_0x220bfd(0x177)](_0x22df36);return _0x4e98a6['map'](_0x24eb0a=>this['extractComponentMetadataFromRecord'](_0x24eb0a));}async['fetchBranchComponents'](_0x28cf89){const _0x34c004=a274_0x40553d,_0x437000=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0x34c004(0x15c)]('%branchId%',_0x28cf89),_0x1a9439=await this[_0x34c004(0x151)]['query'](_0x437000);return _0x1a9439[_0x34c004(0x17c)](_0x4314fe=>this[_0x34c004(0x14b)](_0x4314fe));}async[a274_0x40553d(0x16d)](_0x3390f2){const _0x446993=a274_0x40553d,_0x218ed8=[..._0x3390f2],_0x4c7225=[];while(_0x218ed8[_0x446993(0x176)]){const _0x29e5ba=queries_1[_0x446993(0x148)][_0x446993(0x15c)](_0x446993(0x143),_0x218ed8['splice'](0x0,this[_0x446993(0x141)])[_0x446993(0x17c)](_0x27fcdd=>'\x27'+_0x27fcdd+'\x27')[_0x446993(0x163)](',')),_0x4e06cf=await this[_0x446993(0x151)]['query'](_0x29e5ba);_0x4c7225[_0x446993(0x150)](..._0x4e06cf[_0x446993(0x17c)](_0xf25458=>_0xf25458['Id']));}return _0x4c7225;}async[a274_0x40553d(0x167)](_0x351ba5,_0x12c980){const _0x29c4cc=a274_0x40553d;return this[_0x29c4cc(0x156)][_0x29c4cc(0x186)](constants_1['FLOSUM_COMMIT'],{[constants_1['FLOSUM_NAMESPACE']+_0x29c4cc(0x157)]:_0x12c980,[constants_1['FLOSUM_NAMESPACE']+_0x29c4cc(0x16c)]:_0x351ba5[_0x29c4cc(0x140)](0x0,0xff),[constants_1[_0x29c4cc(0x187)]+_0x29c4cc(0x161)]:_0x29c4cc(0x142),[constants_1[_0x29c4cc(0x162)]+_0x29c4cc(0x14a)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata(a274_0x40553d(0x154),[salesforce_query_service_1[a274_0x40553d(0x16e)],salesforce_rest_service_1['SalesforceRestService']])],SalesforceGitSyncService),exports[a274_0x40553d(0x13f)]=SalesforceGitSyncService;