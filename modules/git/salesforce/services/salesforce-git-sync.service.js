const a196_0x361bdf=a196_0x4107;(function(_0x598346,_0x32b283){const _0x2fa575=a196_0x4107,_0x59eb05=_0x598346();while(!![]){try{const _0x3ed165=-parseInt(_0x2fa575(0xae))/0x1*(-parseInt(_0x2fa575(0xc0))/0x2)+-parseInt(_0x2fa575(0xc6))/0x3+-parseInt(_0x2fa575(0x9e))/0x4+parseInt(_0x2fa575(0x8a))/0x5+parseInt(_0x2fa575(0xbc))/0x6*(parseInt(_0x2fa575(0x92))/0x7)+-parseInt(_0x2fa575(0xa9))/0x8+parseInt(_0x2fa575(0xa4))/0x9*(parseInt(_0x2fa575(0x9c))/0xa);if(_0x3ed165===_0x32b283)break;else _0x59eb05['push'](_0x59eb05['shift']());}catch(_0x30bb37){_0x59eb05['push'](_0x59eb05['shift']());}}}(a196_0x33ce,0xef59f));const a196_0x427d04=(function(){let _0x200d2d=!![];return function(_0x5b2ed8,_0x5f1e13){const _0x76583=_0x200d2d?function(){const _0x4a79d7=a196_0x4107;if(_0x5f1e13){const _0x1d3ddb=_0x5f1e13[_0x4a79d7(0xb1)](_0x5b2ed8,arguments);return _0x5f1e13=null,_0x1d3ddb;}}:function(){};return _0x200d2d=![],_0x76583;};}()),a196_0x1aff42=a196_0x427d04(this,function(){const _0x59a3b2=a196_0x4107;return a196_0x1aff42['toString']()[_0x59a3b2(0xa5)](_0x59a3b2(0x96))['toString']()[_0x59a3b2(0xa6)](a196_0x1aff42)[_0x59a3b2(0xa5)]('(((.+)+)+)+$');});function a196_0x33ce(){const _0x311c6f=['getOwnPropertyDescriptor','./salesforce-rest.service','FLOSUM_NAMESPACE','__metadata','length','__decorate','query','Version__c','2415725khccWK','../queries','post','function','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','fetchCommitManifestsByComponentIds','FLOSUM_COMMIT','NotFoundError','144410YIrwvY','%name%','%fileNames%','replace','(((.+)+)+)+$','%repositoryId%','GET_COMPONENT_RECORD_TYPES_QUERY','push','fetchRepositoryComponents','Component_Name__c','5053490bUaqYH','splice','1588060vitePc','restService','Repository\x20\x22','Component_Type__c','design:paramtypes','SalesforceRestService','9zmssTf','search','constructor','map','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','9320480qkGDHY','fetchRepositoryComponentsByFilenames','%branchId%','Repository__c','extractComponentMetadataFromRecord','1215349grANdd','../utils/flosum-naming.utils','__esModule','apply','\x22\x20not\x20found\x20in\x20flosum.','Name','createCommit','fetchBranchComponents','File_Name__c','MAX_QUERY_ARRAY_ITEMS','fetchBranchComponentsByFilenames','getRepositoryIdByName','join','getComponentRecordTypes','258iNmFDn','object','%componentIds%','metadata','2rMrRpN','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','extractFieldsFromRecord','../../../../core/errors/not-found.error','GET_REPOSITORY_BY_NAME_QUERY','typedi','1645425fJRajG','GET_REPOSITORY_COMPONENTS_QUERY','./salesforce-query.service','Service','SalesforceGitSyncService','GET_BRANCH_COMPONENTS_QUERY','CRC32__c','queryService','defineProperty','Branch\x20\x22'];a196_0x33ce=function(){return _0x311c6f;};return a196_0x33ce();}a196_0x1aff42();'use strict';function a196_0x4107(_0x367d11,_0x37f214){const _0x23a4fc=a196_0x33ce();return a196_0x4107=function(_0x1aff42,_0x427d04){_0x1aff42=_0x1aff42-0x86;let _0x33ce50=_0x23a4fc[_0x1aff42];return _0x33ce50;},a196_0x4107(_0x367d11,_0x37f214);}var __decorate=this&&this[a196_0x361bdf(0x87)]||function(_0x465254,_0x1da9bf,_0xa60869,_0x56307e){const _0x35929d=a196_0x361bdf;var _0x258be4=arguments[_0x35929d(0x86)],_0x1064bc=_0x258be4<0x3?_0x1da9bf:_0x56307e===null?_0x56307e=Object[_0x35929d(0xd0)](_0x1da9bf,_0xa60869):_0x56307e,_0x5591df;if(typeof Reflect===_0x35929d(0xbd)&&typeof Reflect['decorate']===_0x35929d(0x8d))_0x1064bc=Reflect['decorate'](_0x465254,_0x1da9bf,_0xa60869,_0x56307e);else{for(var _0x330ec3=_0x465254[_0x35929d(0x86)]-0x1;_0x330ec3>=0x0;_0x330ec3--)if(_0x5591df=_0x465254[_0x330ec3])_0x1064bc=(_0x258be4<0x3?_0x5591df(_0x1064bc):_0x258be4>0x3?_0x5591df(_0x1da9bf,_0xa60869,_0x1064bc):_0x5591df(_0x1da9bf,_0xa60869))||_0x1064bc;}return _0x258be4>0x3&&_0x1064bc&&Object[_0x35929d(0xce)](_0x1da9bf,_0xa60869,_0x1064bc),_0x1064bc;},__metadata=this&&this[a196_0x361bdf(0xd3)]||function(_0x632bcb,_0x44f6f9){const _0x5bd83a=a196_0x361bdf;if(typeof Reflect===_0x5bd83a(0xbd)&&typeof Reflect[_0x5bd83a(0xbf)]==='function')return Reflect[_0x5bd83a(0xbf)](_0x632bcb,_0x44f6f9);};Object[a196_0x361bdf(0xce)](exports,a196_0x361bdf(0xb0),{'value':!![]}),exports[a196_0x361bdf(0xca)]=void 0x0;const not_found_error_1=require(a196_0x361bdf(0xc3)),typedi_1=require(a196_0x361bdf(0xc5)),constants_1=require('../../../../constants'),queries_1=require(a196_0x361bdf(0x8b)),flosum_naming_utils_1=require(a196_0x361bdf(0xaf)),salesforce_query_service_1=require(a196_0x361bdf(0xc8)),salesforce_rest_service_1=require(a196_0x361bdf(0xd1));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x551af9,_0x203e0c){const _0x40cc25=a196_0x361bdf;this[_0x40cc25(0xcd)]=_0x551af9,this[_0x40cc25(0x9f)]=_0x203e0c,this[_0x40cc25(0xb7)]=0xc8;}['extractComponentMetadataFromRecord'](_0x3feaf1){const _0x413762=a196_0x361bdf,_0x595a16=(0x0,flosum_naming_utils_1[_0x413762(0xc2)])(_0x3feaf1,['Component_Name__c',_0x413762(0xa1),'CRC32__c','File_Name__c',_0x413762(0x89),'Id']);return{'id':_0x595a16['Id'],'name':_0x595a16[_0x413762(0x9b)],'type':_0x595a16['Component_Type__c'],'fileName':_0x595a16[_0x413762(0xb6)],'crc32':_0x595a16[_0x413762(0xcc)],'version':+_0x595a16['Version__c']};}async[a196_0x361bdf(0xb9)](_0x55248c){const _0x583eb9=a196_0x361bdf,[_0x9bc5d6]=await this['queryService']['query'](queries_1[_0x583eb9(0xc4)][_0x583eb9(0x95)](_0x583eb9(0x93),_0x55248c));if(!_0x9bc5d6)throw new not_found_error_1[(_0x583eb9(0x91))](_0x583eb9(0xa0)+_0x55248c+_0x583eb9(0xb2));return _0x9bc5d6['Id'];}async['getBranchIdByName'](_0x2b6dd7){const _0x46160f=a196_0x361bdf,[_0x200a9d]=await this[_0x46160f(0xcd)][_0x46160f(0x88)](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x46160f(0x95)](_0x46160f(0x93),_0x2b6dd7));if(!_0x200a9d)throw new not_found_error_1[(_0x46160f(0x91))](_0x46160f(0xcf)+_0x2b6dd7+_0x46160f(0xb2));return _0x200a9d['Id'];}async[a196_0x361bdf(0xbb)](){const _0x39ba05=a196_0x361bdf,_0x5dd55f=await this[_0x39ba05(0xcd)][_0x39ba05(0x88)](queries_1[_0x39ba05(0x98)]);return _0x5dd55f[_0x39ba05(0xa7)](_0x2a0d69=>(0x0,flosum_naming_utils_1[_0x39ba05(0xc2)])(_0x2a0d69,['Id',_0x39ba05(0xb3)]))['map'](_0x11d5a4=>({'id':_0x11d5a4['Id'],'name':_0x11d5a4[_0x39ba05(0xb3)]}));}async[a196_0x361bdf(0xaa)](_0x39a409,_0x518b79){const _0x57c038=a196_0x361bdf,_0x11941b=[];while(_0x39a409['length']){const _0x57b846=queries_1[_0x57c038(0x8e)][_0x57c038(0x95)](_0x57c038(0x94),_0x39a409[_0x57c038(0x9d)](0x0,this[_0x57c038(0xb7)])[_0x57c038(0xa7)](_0x1e70e9=>'\x27'+_0x1e70e9+'\x27')[_0x57c038(0xba)](','))[_0x57c038(0x95)](_0x57c038(0x97),_0x518b79),_0x2ad92f=await this[_0x57c038(0xcd)]['query'](_0x57b846);_0x11941b['push'](..._0x2ad92f);}return _0x11941b['map'](_0x508a37=>this[_0x57c038(0xad)](_0x508a37));}async[a196_0x361bdf(0xb8)](_0x5f070f,_0x4e87b3){const _0x39ac6c=a196_0x361bdf,_0x541345=[];while(_0x5f070f[_0x39ac6c(0x86)]){const _0x6645be=queries_1[_0x39ac6c(0xc1)]['replace'](_0x39ac6c(0x94),_0x5f070f[_0x39ac6c(0x9d)](0x0,this[_0x39ac6c(0xb7)])['map'](_0x2618d3=>'\x27'+_0x2618d3+'\x27')[_0x39ac6c(0xba)](','))[_0x39ac6c(0x95)](_0x39ac6c(0xab),_0x4e87b3),_0x25649d=await this['queryService'][_0x39ac6c(0x88)](_0x6645be);_0x541345[_0x39ac6c(0x99)](..._0x25649d);}return _0x541345[_0x39ac6c(0xa7)](_0x1a8182=>this['extractComponentMetadataFromRecord'](_0x1a8182));}async[a196_0x361bdf(0x9a)](_0xa01aa0){const _0x3f1fc1=a196_0x361bdf,_0x477de7=queries_1[_0x3f1fc1(0xc7)][_0x3f1fc1(0x95)](_0x3f1fc1(0x97),_0xa01aa0),_0x3d5475=await this[_0x3f1fc1(0xcd)][_0x3f1fc1(0x88)](_0x477de7);return _0x3d5475['map'](_0x451656=>this[_0x3f1fc1(0xad)](_0x451656));}async[a196_0x361bdf(0xb5)](_0x10b7fb){const _0x1a11a3=a196_0x361bdf,_0x11af85=queries_1[_0x1a11a3(0xcb)][_0x1a11a3(0x95)](_0x1a11a3(0xab),_0x10b7fb),_0x328b73=await this[_0x1a11a3(0xcd)]['query'](_0x11af85);return _0x328b73[_0x1a11a3(0xa7)](_0x2236ad=>this['extractComponentMetadataFromRecord'](_0x2236ad));}async[a196_0x361bdf(0x8f)](_0x525278){const _0x5ea57b=a196_0x361bdf,_0x4f8760=[..._0x525278],_0x566277=[];while(_0x4f8760[_0x5ea57b(0x86)]){const _0x5ceca4=queries_1[_0x5ea57b(0xa8)][_0x5ea57b(0x95)](_0x5ea57b(0xbe),_0x4f8760[_0x5ea57b(0x9d)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x5ea57b(0xa7)](_0x2c8a57=>'\x27'+_0x2c8a57+'\x27')[_0x5ea57b(0xba)](',')),_0x3e8579=await this[_0x5ea57b(0xcd)][_0x5ea57b(0x88)](_0x5ceca4);_0x566277['push'](..._0x3e8579[_0x5ea57b(0xa7)](_0x2c77db=>_0x2c77db['Id']));}return _0x566277;}async[a196_0x361bdf(0xb4)](_0x56809f,_0x5dadf2){const _0x5769dd=a196_0x361bdf;return this[_0x5769dd(0x9f)][_0x5769dd(0x8c)](constants_1[_0x5769dd(0x90)],{[constants_1[_0x5769dd(0xd2)]+_0x5769dd(0xac)]:_0x5dadf2,[constants_1[_0x5769dd(0xd2)]+'Commit_Name__c']:_0x56809f['substr'](0x0,0xff),[constants_1[_0x5769dd(0xd2)]+'Status__c']:'Completed',[constants_1['FLOSUM_GIT_NAMESPACE']+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a196_0x361bdf(0xc9)])(),__metadata(a196_0x361bdf(0xa2),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a196_0x361bdf(0xa3)]])],SalesforceGitSyncService),exports[a196_0x361bdf(0xca)]=SalesforceGitSyncService;