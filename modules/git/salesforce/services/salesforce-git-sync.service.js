const a236_0x530f76=a236_0x3ad2;(function(_0x758a06,_0x5d309c){const _0x2547de=a236_0x3ad2,_0x480336=_0x758a06();while(!![]){try{const _0x443618=parseInt(_0x2547de(0x108))/0x1*(parseInt(_0x2547de(0x11a))/0x2)+parseInt(_0x2547de(0x11e))/0x3+parseInt(_0x2547de(0x145))/0x4*(-parseInt(_0x2547de(0x132))/0x5)+-parseInt(_0x2547de(0x10e))/0x6+-parseInt(_0x2547de(0x140))/0x7*(-parseInt(_0x2547de(0x126))/0x8)+parseInt(_0x2547de(0xfe))/0x9+-parseInt(_0x2547de(0x144))/0xa;if(_0x443618===_0x5d309c)break;else _0x480336['push'](_0x480336['shift']());}catch(_0x4f12b3){_0x480336['push'](_0x480336['shift']());}}}(a236_0x4b49,0x227d9));const a236_0x34ece2=(function(){let _0x3c4915=!![];return function(_0x4b2929,_0x3ed625){const _0x14527f=_0x3c4915?function(){const _0x2d3077=a236_0x3ad2;if(_0x3ed625){const _0x1f3e9e=_0x3ed625[_0x2d3077(0xfd)](_0x4b2929,arguments);return _0x3ed625=null,_0x1f3e9e;}}:function(){};return _0x3c4915=![],_0x14527f;};}()),a236_0x2bb7c4=a236_0x34ece2(this,function(){const _0x32f96a=a236_0x3ad2;return a236_0x2bb7c4['toString']()[_0x32f96a(0x111)]('(((.+)+)+)+$')['toString']()[_0x32f96a(0x125)](a236_0x2bb7c4)[_0x32f96a(0x111)](_0x32f96a(0x11f));});a236_0x2bb7c4();'use strict';function a236_0x4b49(){const _0x5164f1=['length','getRepositoryIdByName','fetchBranchComponentsByFilenames','design:paramtypes','fetchRepositoryComponents','../../../../core/errors/not-found.error','CRC32__c','Commit_Name__c','19929LlvIWl','%repositoryId%','__decorate','fetchBranchComponents','2525770xSGrwb','51556PTPhdS','GET_BRANCH_COMPONENTS_QUERY','GET_BRANCH_BY_NAME_QUERY','apply','589986DZLQtN','map','getComponentRecordTypes','query','decorate','object','File_Name__c','FLOSUM_GIT_NAMESPACE','SalesforceGitSyncService','../../../../constants','5tGPIRu','fetchRepositoryComponentsByFilenames','../queries','Component_Name__c','join','extractFieldsFromRecord','601644EapKSC','FLOSUM_NAMESPACE','%fileNames%','search','restService','\x22\x20not\x20found\x20in\x20flosum.','MAX_QUERY_ARRAY_ITEMS','Repository\x20\x22','Status__c','push','./salesforce-query.service','replace','53458YTinCs','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','extractComponentMetadataFromRecord','./salesforce-rest.service','587700noiLNp','(((.+)+)+)+$','createCommit','%branchId%','SalesforceRestService','GET_COMPONENT_RECORD_TYPES_QUERY','substr','constructor','568Ezzjnn','%componentIds%','defineProperty','typedi','__esModule','queryService','Name','post','Repository__c','%name%','Branch\x20\x22','metadata','40YqkueL','Version__c','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','GET_REPOSITORY_COMPONENTS_QUERY','function','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS'];a236_0x4b49=function(){return _0x5164f1;};return a236_0x4b49();}var __decorate=this&&this[a236_0x530f76(0x142)]||function(_0x1da027,_0x29d68f,_0x26d9bf,_0x336f56){const _0x4b679c=a236_0x530f76;var _0x2268a6=arguments['length'],_0x392ae6=_0x2268a6<0x3?_0x29d68f:_0x336f56===null?_0x336f56=Object['getOwnPropertyDescriptor'](_0x29d68f,_0x26d9bf):_0x336f56,_0x15df3d;if(typeof Reflect===_0x4b679c(0x103)&&typeof Reflect[_0x4b679c(0x102)]===_0x4b679c(0x136))_0x392ae6=Reflect[_0x4b679c(0x102)](_0x1da027,_0x29d68f,_0x26d9bf,_0x336f56);else{for(var _0x18ae8d=_0x1da027[_0x4b679c(0x138)]-0x1;_0x18ae8d>=0x0;_0x18ae8d--)if(_0x15df3d=_0x1da027[_0x18ae8d])_0x392ae6=(_0x2268a6<0x3?_0x15df3d(_0x392ae6):_0x2268a6>0x3?_0x15df3d(_0x29d68f,_0x26d9bf,_0x392ae6):_0x15df3d(_0x29d68f,_0x26d9bf))||_0x392ae6;}return _0x2268a6>0x3&&_0x392ae6&&Object[_0x4b679c(0x128)](_0x29d68f,_0x26d9bf,_0x392ae6),_0x392ae6;},__metadata=this&&this['__metadata']||function(_0x288f4b,_0x3e375b){const _0x3c303c=a236_0x530f76;if(typeof Reflect===_0x3c303c(0x103)&&typeof Reflect[_0x3c303c(0x131)]===_0x3c303c(0x136))return Reflect['metadata'](_0x288f4b,_0x3e375b);};function a236_0x3ad2(_0x2b3dce,_0x3df4bb){const _0x25174e=a236_0x4b49();return a236_0x3ad2=function(_0x2bb7c4,_0x34ece2){_0x2bb7c4=_0x2bb7c4-0xfd;let _0x4b4983=_0x25174e[_0x2bb7c4];return _0x4b4983;},a236_0x3ad2(_0x2b3dce,_0x3df4bb);}Object[a236_0x530f76(0x128)](exports,a236_0x530f76(0x12a),{'value':!![]}),exports[a236_0x530f76(0x106)]=void 0x0;const not_found_error_1=require(a236_0x530f76(0x13d)),typedi_1=require(a236_0x530f76(0x129)),constants_1=require(a236_0x530f76(0x107)),queries_1=require(a236_0x530f76(0x10a)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a236_0x530f76(0x118)),salesforce_rest_service_1=require(a236_0x530f76(0x11d));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x1f41bb,_0x4733bd){const _0x5269db=a236_0x530f76;this[_0x5269db(0x12b)]=_0x1f41bb,this[_0x5269db(0x112)]=_0x4733bd,this[_0x5269db(0x114)]=0xc8;}['extractComponentMetadataFromRecord'](_0xa6e2db){const _0x873e6a=a236_0x530f76,_0x46a0bd=(0x0,flosum_naming_utils_1[_0x873e6a(0x10d)])(_0xa6e2db,[_0x873e6a(0x10b),'Component_Type__c',_0x873e6a(0x13e),_0x873e6a(0x104),'Version__c','Id']);return{'id':_0x46a0bd['Id'],'name':_0x46a0bd[_0x873e6a(0x10b)],'type':_0x46a0bd['Component_Type__c'],'fileName':_0x46a0bd[_0x873e6a(0x104)],'crc32':_0x46a0bd[_0x873e6a(0x13e)],'version':+_0x46a0bd[_0x873e6a(0x133)]};}async[a236_0x530f76(0x139)](_0x5e06d9){const _0x4b943c=a236_0x530f76,[_0x403f8b]=await this[_0x4b943c(0x12b)][_0x4b943c(0x101)](queries_1['GET_REPOSITORY_BY_NAME_QUERY'][_0x4b943c(0x119)]('%name%',_0x5e06d9));if(!_0x403f8b)throw new not_found_error_1['NotFoundError'](_0x4b943c(0x115)+_0x5e06d9+'\x22\x20not\x20found\x20in\x20flosum.');return _0x403f8b['Id'];}async['getBranchIdByName'](_0x1027fc){const _0x331f72=a236_0x530f76,[_0x205541]=await this['queryService'][_0x331f72(0x101)](queries_1[_0x331f72(0x147)][_0x331f72(0x119)](_0x331f72(0x12f),_0x1027fc));if(!_0x205541)throw new not_found_error_1['NotFoundError'](_0x331f72(0x130)+_0x1027fc+_0x331f72(0x113));return _0x205541['Id'];}async[a236_0x530f76(0x100)](){const _0x1a521b=a236_0x530f76,_0x506c8b=await this[_0x1a521b(0x12b)][_0x1a521b(0x101)](queries_1[_0x1a521b(0x123)]);return _0x506c8b[_0x1a521b(0xff)](_0x1847ff=>(0x0,flosum_naming_utils_1[_0x1a521b(0x10d)])(_0x1847ff,['Id',_0x1a521b(0x12c)]))[_0x1a521b(0xff)](_0xe91ee5=>({'id':_0xe91ee5['Id'],'name':_0xe91ee5['Name']}));}async[a236_0x530f76(0x109)](_0x339a45,_0x204251){const _0x466304=a236_0x530f76,_0x1ac940=[];while(_0x339a45[_0x466304(0x138)]){const _0x12a92a=queries_1[_0x466304(0x11b)]['replace'](_0x466304(0x110),_0x339a45['splice'](0x0,this[_0x466304(0x114)])[_0x466304(0xff)](_0x1f8868=>'\x27'+_0x1f8868+'\x27')[_0x466304(0x10c)](','))[_0x466304(0x119)](_0x466304(0x141),_0x204251),_0x435876=await this[_0x466304(0x12b)][_0x466304(0x101)](_0x12a92a);_0x1ac940[_0x466304(0x117)](..._0x435876);}return _0x1ac940[_0x466304(0xff)](_0x53e857=>this[_0x466304(0x11c)](_0x53e857));}async[a236_0x530f76(0x13a)](_0x9debe1,_0x355c5b){const _0x40405e=a236_0x530f76,_0x3f880c=[];while(_0x9debe1[_0x40405e(0x138)]){const _0x4a2b62=queries_1[_0x40405e(0x134)][_0x40405e(0x119)](_0x40405e(0x110),_0x9debe1['splice'](0x0,this[_0x40405e(0x114)])[_0x40405e(0xff)](_0x2354f0=>'\x27'+_0x2354f0+'\x27')[_0x40405e(0x10c)](','))[_0x40405e(0x119)]('%branchId%',_0x355c5b),_0x2e8ce8=await this['queryService'][_0x40405e(0x101)](_0x4a2b62);_0x3f880c[_0x40405e(0x117)](..._0x2e8ce8);}return _0x3f880c[_0x40405e(0xff)](_0x1760d5=>this[_0x40405e(0x11c)](_0x1760d5));}async[a236_0x530f76(0x13c)](_0x384944){const _0x385dc0=a236_0x530f76,_0x2053f6=queries_1[_0x385dc0(0x135)][_0x385dc0(0x119)](_0x385dc0(0x141),_0x384944),_0x35cb4d=await this[_0x385dc0(0x12b)][_0x385dc0(0x101)](_0x2053f6);return _0x35cb4d[_0x385dc0(0xff)](_0x3ca943=>this[_0x385dc0(0x11c)](_0x3ca943));}async[a236_0x530f76(0x143)](_0x3c47e2){const _0x2bc91f=a236_0x530f76,_0x3d8c26=queries_1[_0x2bc91f(0x146)]['replace'](_0x2bc91f(0x121),_0x3c47e2),_0x5f1a26=await this[_0x2bc91f(0x12b)][_0x2bc91f(0x101)](_0x3d8c26);return _0x5f1a26[_0x2bc91f(0xff)](_0xc95d33=>this[_0x2bc91f(0x11c)](_0xc95d33));}async['fetchCommitManifestsByComponentIds'](_0x3618bd){const _0x4a18ea=a236_0x530f76,_0x2f3986=[..._0x3618bd],_0x46c229=[];while(_0x2f3986['length']){const _0x59537b=queries_1[_0x4a18ea(0x137)][_0x4a18ea(0x119)](_0x4a18ea(0x127),_0x2f3986['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])['map'](_0x5242bd=>'\x27'+_0x5242bd+'\x27')['join'](',')),_0x22aec6=await this[_0x4a18ea(0x12b)][_0x4a18ea(0x101)](_0x59537b);_0x46c229[_0x4a18ea(0x117)](..._0x22aec6[_0x4a18ea(0xff)](_0x5045f0=>_0x5045f0['Id']));}return _0x46c229;}async[a236_0x530f76(0x120)](_0x1348de,_0x4af940){const _0x5d5cf2=a236_0x530f76;return this[_0x5d5cf2(0x112)][_0x5d5cf2(0x12d)](constants_1['FLOSUM_COMMIT'],{[constants_1[_0x5d5cf2(0x10f)]+_0x5d5cf2(0x12e)]:_0x4af940,[constants_1[_0x5d5cf2(0x10f)]+_0x5d5cf2(0x13f)]:_0x1348de[_0x5d5cf2(0x124)](0x0,0xff),[constants_1[_0x5d5cf2(0x10f)]+_0x5d5cf2(0x116)]:'Completed',[constants_1[_0x5d5cf2(0x105)]+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata(a236_0x530f76(0x13b),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a236_0x530f76(0x122)]])],SalesforceGitSyncService),exports[a236_0x530f76(0x106)]=SalesforceGitSyncService;