function a197_0x2930(_0x424b53,_0x24733b){const _0x588c4c=a197_0x390a();return a197_0x2930=function(_0x52024b,_0x5a6382){_0x52024b=_0x52024b-0x191;let _0x390ad9=_0x588c4c[_0x52024b];return _0x390ad9;},a197_0x2930(_0x424b53,_0x24733b);}const a197_0x5bdde3=a197_0x2930;(function(_0x319bf9,_0x54c18e){const _0x2239ee=a197_0x2930,_0x564559=_0x319bf9();while(!![]){try{const _0x2100c2=parseInt(_0x2239ee(0x1a8))/0x1*(parseInt(_0x2239ee(0x191))/0x2)+parseInt(_0x2239ee(0x19a))/0x3*(-parseInt(_0x2239ee(0x1b1))/0x4)+-parseInt(_0x2239ee(0x1a2))/0x5*(-parseInt(_0x2239ee(0x1c9))/0x6)+-parseInt(_0x2239ee(0x1a1))/0x7*(parseInt(_0x2239ee(0x1a6))/0x8)+parseInt(_0x2239ee(0x193))/0x9+parseInt(_0x2239ee(0x1c4))/0xa+parseInt(_0x2239ee(0x1d3))/0xb;if(_0x2100c2===_0x54c18e)break;else _0x564559['push'](_0x564559['shift']());}catch(_0x558245){_0x564559['push'](_0x564559['shift']());}}}(a197_0x390a,0x7011c));const a197_0x5a6382=(function(){let _0x3f4aa7=!![];return function(_0x197045,_0x2b75f1){const _0x57d8d1=_0x3f4aa7?function(){if(_0x2b75f1){const _0x1ec914=_0x2b75f1['apply'](_0x197045,arguments);return _0x2b75f1=null,_0x1ec914;}}:function(){};return _0x3f4aa7=![],_0x57d8d1;};}()),a197_0x52024b=a197_0x5a6382(this,function(){const _0x40396b=a197_0x2930;return a197_0x52024b[_0x40396b(0x1b0)]()['search'](_0x40396b(0x1d8))['toString']()[_0x40396b(0x1bd)](a197_0x52024b)[_0x40396b(0x1cb)](_0x40396b(0x1d8));});a197_0x52024b();'use strict';var __decorate=this&&this[a197_0x5bdde3(0x1c5)]||function(_0x486302,_0xda689f,_0x2f200c,_0x146fdd){const _0x52fec0=a197_0x5bdde3;var _0xfc4191=arguments[_0x52fec0(0x1ad)],_0xcbabfe=_0xfc4191<0x3?_0xda689f:_0x146fdd===null?_0x146fdd=Object[_0x52fec0(0x19b)](_0xda689f,_0x2f200c):_0x146fdd,_0x4b617d;if(typeof Reflect===_0x52fec0(0x199)&&typeof Reflect['decorate']==='function')_0xcbabfe=Reflect['decorate'](_0x486302,_0xda689f,_0x2f200c,_0x146fdd);else{for(var _0x52b48d=_0x486302['length']-0x1;_0x52b48d>=0x0;_0x52b48d--)if(_0x4b617d=_0x486302[_0x52b48d])_0xcbabfe=(_0xfc4191<0x3?_0x4b617d(_0xcbabfe):_0xfc4191>0x3?_0x4b617d(_0xda689f,_0x2f200c,_0xcbabfe):_0x4b617d(_0xda689f,_0x2f200c))||_0xcbabfe;}return _0xfc4191>0x3&&_0xcbabfe&&Object[_0x52fec0(0x1c0)](_0xda689f,_0x2f200c,_0xcbabfe),_0xcbabfe;},__metadata=this&&this['__metadata']||function(_0x3835e5,_0x53c3a8){const _0x1def6d=a197_0x5bdde3;if(typeof Reflect===_0x1def6d(0x199)&&typeof Reflect[_0x1def6d(0x1ae)]===_0x1def6d(0x1a3))return Reflect[_0x1def6d(0x1ae)](_0x3835e5,_0x53c3a8);};Object[a197_0x5bdde3(0x1c0)](exports,'__esModule',{'value':!![]}),exports[a197_0x5bdde3(0x1c2)]=void 0x0;function a197_0x390a(){const _0x28713d=['extractComponentMetadataFromRecord','%fileNames%','push','Repository__c','GET_BRANCH_COMPONENTS_QUERY','Status__c','queryService','Service','constructor','%name%','design:paramtypes','defineProperty','typedi','SalesforceGitSyncService','extractFieldsFromRecord','2127510jFgCSI','__decorate','fetchBranchComponents','getBranchIdByName','splice','29112FgVtht','NotFoundError','search','SalesforceQueryService','createCommit','../utils/flosum-naming.utils','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','../queries','Repository\x20\x22','%componentIds%','3232856PjNACy','getRepositoryIdByName','Completed','FLOSUM_GIT_NAMESPACE','replace','(((.+)+)+)+$','%repositoryId%','substr','query','restService','join','Component_Name__c','22YkZUcY','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','1312956nBptYB','fetchRepositoryComponents','FLOSUM_NAMESPACE','Name','Is_From_Agent__c','FLOSUM_COMMIT','object','4341qanvTE','getOwnPropertyDescriptor','../../../../constants','File_Name__c','fetchBranchComponentsByFilenames','\x22\x20not\x20found\x20in\x20flosum.','map','58933nGUYWv','565nqumYu','function','GET_COMPONENT_RECORD_TYPES_QUERY','GET_REPOSITORY_COMPONENTS_QUERY','232MXuucI','%branchId%','26191VfBvOS','../../../../core/errors/not-found.error','Commit_Name__c','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','Component_Type__c','length','metadata','getComponentRecordTypes','toString','2172ujQJBN','MAX_QUERY_ARRAY_ITEMS','Branch\x20\x22','GET_BRANCH_BY_NAME_QUERY'];a197_0x390a=function(){return _0x28713d;};return a197_0x390a();}const not_found_error_1=require(a197_0x5bdde3(0x1a9)),typedi_1=require(a197_0x5bdde3(0x1c1)),constants_1=require(a197_0x5bdde3(0x19c)),queries_1=require(a197_0x5bdde3(0x1d0)),flosum_naming_utils_1=require(a197_0x5bdde3(0x1ce)),salesforce_query_service_1=require('./salesforce-query.service'),salesforce_rest_service_1=require('./salesforce-rest.service');let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x8c7bc4,_0x2a62f7){const _0x5030de=a197_0x5bdde3;this[_0x5030de(0x1bb)]=_0x8c7bc4,this[_0x5030de(0x1dc)]=_0x2a62f7,this[_0x5030de(0x1b2)]=0xc8;}['extractComponentMetadataFromRecord'](_0x3f4471){const _0x1801db=a197_0x5bdde3,_0x479ac3=(0x0,flosum_naming_utils_1[_0x1801db(0x1c3)])(_0x3f4471,['Component_Name__c','Component_Type__c','CRC32__c',_0x1801db(0x19d),'Version__c','Id']);return{'id':_0x479ac3['Id'],'name':_0x479ac3[_0x1801db(0x1de)],'type':_0x479ac3[_0x1801db(0x1ac)],'fileName':_0x479ac3[_0x1801db(0x19d)],'crc32':_0x479ac3['CRC32__c'],'version':+_0x479ac3['Version__c']};}async[a197_0x5bdde3(0x1d4)](_0x11a5e7){const _0x51ea28=a197_0x5bdde3,[_0x5d9f2c]=await this['queryService'][_0x51ea28(0x1db)](queries_1['GET_REPOSITORY_BY_NAME_QUERY'][_0x51ea28(0x1d7)](_0x51ea28(0x1be),_0x11a5e7));if(!_0x5d9f2c)throw new not_found_error_1[(_0x51ea28(0x1ca))](_0x51ea28(0x1d1)+_0x11a5e7+_0x51ea28(0x19f));return _0x5d9f2c['Id'];}async[a197_0x5bdde3(0x1c7)](_0x36e32f){const _0x3efebe=a197_0x5bdde3,[_0x14c1e4]=await this[_0x3efebe(0x1bb)]['query'](queries_1[_0x3efebe(0x1b4)][_0x3efebe(0x1d7)](_0x3efebe(0x1be),_0x36e32f));if(!_0x14c1e4)throw new not_found_error_1['NotFoundError'](_0x3efebe(0x1b3)+_0x36e32f+_0x3efebe(0x19f));return _0x14c1e4['Id'];}async[a197_0x5bdde3(0x1af)](){const _0x190cf8=a197_0x5bdde3,_0x37b648=await this[_0x190cf8(0x1bb)]['query'](queries_1[_0x190cf8(0x1a4)]);return _0x37b648[_0x190cf8(0x1a0)](_0x36ecfa=>(0x0,flosum_naming_utils_1[_0x190cf8(0x1c3)])(_0x36ecfa,['Id',_0x190cf8(0x196)]))['map'](_0x42e0b0=>({'id':_0x42e0b0['Id'],'name':_0x42e0b0['Name']}));}async['fetchRepositoryComponentsByFilenames'](_0x46414c,_0x3b7903){const _0x38d8a0=a197_0x5bdde3,_0x5d958b=[];while(_0x46414c['length']){const _0x2e78b5=queries_1[_0x38d8a0(0x1cf)][_0x38d8a0(0x1d7)](_0x38d8a0(0x1b6),_0x46414c[_0x38d8a0(0x1c8)](0x0,this[_0x38d8a0(0x1b2)])[_0x38d8a0(0x1a0)](_0x39e660=>'\x27'+_0x39e660+'\x27')[_0x38d8a0(0x1dd)](','))[_0x38d8a0(0x1d7)](_0x38d8a0(0x1d9),_0x3b7903),_0x1bcbd1=await this[_0x38d8a0(0x1bb)][_0x38d8a0(0x1db)](_0x2e78b5);_0x5d958b[_0x38d8a0(0x1b7)](..._0x1bcbd1);}return _0x5d958b[_0x38d8a0(0x1a0)](_0x5d89bf=>this[_0x38d8a0(0x1b5)](_0x5d89bf));}async[a197_0x5bdde3(0x19e)](_0x367504,_0x341236){const _0x232c8d=a197_0x5bdde3,_0x32b02f=[];while(_0x367504[_0x232c8d(0x1ad)]){const _0x2492a7=queries_1[_0x232c8d(0x192)]['replace'](_0x232c8d(0x1b6),_0x367504[_0x232c8d(0x1c8)](0x0,this[_0x232c8d(0x1b2)])['map'](_0xf7286d=>'\x27'+_0xf7286d+'\x27')['join'](','))['replace'](_0x232c8d(0x1a7),_0x341236),_0x3af53d=await this[_0x232c8d(0x1bb)][_0x232c8d(0x1db)](_0x2492a7);_0x32b02f['push'](..._0x3af53d);}return _0x32b02f[_0x232c8d(0x1a0)](_0x4dfa97=>this[_0x232c8d(0x1b5)](_0x4dfa97));}async[a197_0x5bdde3(0x194)](_0x5339dd){const _0x365a58=a197_0x5bdde3,_0x17ad56=queries_1[_0x365a58(0x1a5)][_0x365a58(0x1d7)](_0x365a58(0x1d9),_0x5339dd),_0x27e2c5=await this[_0x365a58(0x1bb)][_0x365a58(0x1db)](_0x17ad56);return _0x27e2c5[_0x365a58(0x1a0)](_0x460674=>this[_0x365a58(0x1b5)](_0x460674));}async[a197_0x5bdde3(0x1c6)](_0x59c008){const _0x2a63c7=a197_0x5bdde3,_0x26b76f=queries_1[_0x2a63c7(0x1b9)]['replace'](_0x2a63c7(0x1a7),_0x59c008),_0x12c16b=await this[_0x2a63c7(0x1bb)][_0x2a63c7(0x1db)](_0x26b76f);return _0x12c16b[_0x2a63c7(0x1a0)](_0x144620=>this[_0x2a63c7(0x1b5)](_0x144620));}async['fetchCommitManifestsByComponentIds'](_0x1c87b6){const _0x416615=a197_0x5bdde3,_0x57489b=[..._0x1c87b6],_0x121142=[];while(_0x57489b[_0x416615(0x1ad)]){const _0x13e806=queries_1[_0x416615(0x1ab)][_0x416615(0x1d7)](_0x416615(0x1d2),_0x57489b[_0x416615(0x1c8)](0x0,this[_0x416615(0x1b2)])[_0x416615(0x1a0)](_0x1a4032=>'\x27'+_0x1a4032+'\x27')[_0x416615(0x1dd)](',')),_0x448224=await this[_0x416615(0x1bb)][_0x416615(0x1db)](_0x13e806);_0x121142[_0x416615(0x1b7)](..._0x448224[_0x416615(0x1a0)](_0x1363ca=>_0x1363ca['Id']));}return _0x121142;}async[a197_0x5bdde3(0x1cd)](_0x2647ff,_0x12aef0){const _0x14dbc2=a197_0x5bdde3;return this[_0x14dbc2(0x1dc)]['post'](constants_1[_0x14dbc2(0x198)],{[constants_1[_0x14dbc2(0x195)]+_0x14dbc2(0x1b8)]:_0x12aef0,[constants_1[_0x14dbc2(0x195)]+_0x14dbc2(0x1aa)]:_0x2647ff[_0x14dbc2(0x1da)](0x0,0xff),[constants_1['FLOSUM_NAMESPACE']+_0x14dbc2(0x1ba)]:_0x14dbc2(0x1d5),[constants_1[_0x14dbc2(0x1d6)]+_0x14dbc2(0x197)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a197_0x5bdde3(0x1bc)])(),__metadata(a197_0x5bdde3(0x1bf),[salesforce_query_service_1[a197_0x5bdde3(0x1cc)],salesforce_rest_service_1['SalesforceRestService']])],SalesforceGitSyncService),exports[a197_0x5bdde3(0x1c2)]=SalesforceGitSyncService;