const a230_0xa822bd=a230_0x44eb;(function(_0x1de303,_0x3cda24){const _0x458939=a230_0x44eb,_0x4db276=_0x1de303();while(!![]){try{const _0x4e3fa9=parseInt(_0x458939(0x111))/0x1+-parseInt(_0x458939(0x143))/0x2*(-parseInt(_0x458939(0xfc))/0x3)+-parseInt(_0x458939(0x11f))/0x4*(parseInt(_0x458939(0x105))/0x5)+-parseInt(_0x458939(0x113))/0x6+parseInt(_0x458939(0x10a))/0x7+-parseInt(_0x458939(0x137))/0x8*(-parseInt(_0x458939(0x129))/0x9)+parseInt(_0x458939(0xf5))/0xa;if(_0x4e3fa9===_0x3cda24)break;else _0x4db276['push'](_0x4db276['shift']());}catch(_0x33d568){_0x4db276['push'](_0x4db276['shift']());}}}(a230_0x57d4,0x50756));const a230_0xddbede=(function(){let _0x1ef20e=!![];return function(_0x398216,_0x291380){const _0x3a4f48=_0x1ef20e?function(){const _0x368886=a230_0x44eb;if(_0x291380){const _0x38c617=_0x291380[_0x368886(0x10b)](_0x398216,arguments);return _0x291380=null,_0x38c617;}}:function(){};return _0x1ef20e=![],_0x3a4f48;};}()),a230_0x16034b=a230_0xddbede(this,function(){const _0x57a8fb=a230_0x44eb;return a230_0x16034b[_0x57a8fb(0x125)]()['search'](_0x57a8fb(0x11d))[_0x57a8fb(0x125)]()[_0x57a8fb(0x136)](a230_0x16034b)[_0x57a8fb(0x13b)](_0x57a8fb(0x11d));});a230_0x16034b();'use strict';var __decorate=this&&this[a230_0xa822bd(0x103)]||function(_0x32d80f,_0x578ab5,_0x192210,_0x523e28){const _0x3c6342=a230_0xa822bd;var _0x5122bc=arguments[_0x3c6342(0x131)],_0x45f4bb=_0x5122bc<0x3?_0x578ab5:_0x523e28===null?_0x523e28=Object[_0x3c6342(0x11c)](_0x578ab5,_0x192210):_0x523e28,_0xbef29e;if(typeof Reflect==='object'&&typeof Reflect[_0x3c6342(0x102)]==='function')_0x45f4bb=Reflect['decorate'](_0x32d80f,_0x578ab5,_0x192210,_0x523e28);else{for(var _0x3ce555=_0x32d80f[_0x3c6342(0x131)]-0x1;_0x3ce555>=0x0;_0x3ce555--)if(_0xbef29e=_0x32d80f[_0x3ce555])_0x45f4bb=(_0x5122bc<0x3?_0xbef29e(_0x45f4bb):_0x5122bc>0x3?_0xbef29e(_0x578ab5,_0x192210,_0x45f4bb):_0xbef29e(_0x578ab5,_0x192210))||_0x45f4bb;}return _0x5122bc>0x3&&_0x45f4bb&&Object[_0x3c6342(0x123)](_0x578ab5,_0x192210,_0x45f4bb),_0x45f4bb;},__metadata=this&&this[a230_0xa822bd(0xfa)]||function(_0x23efeb,_0x4f2340){const _0x20ee4d=a230_0xa822bd;if(typeof Reflect===_0x20ee4d(0x133)&&typeof Reflect[_0x20ee4d(0x110)]===_0x20ee4d(0x120))return Reflect['metadata'](_0x23efeb,_0x4f2340);};function a230_0x44eb(_0x5cf0a6,_0x1c12ed){const _0x59e26a=a230_0x57d4();return a230_0x44eb=function(_0x16034b,_0xddbede){_0x16034b=_0x16034b-0xf5;let _0x57d407=_0x59e26a[_0x16034b];return _0x57d407;},a230_0x44eb(_0x5cf0a6,_0x1c12ed);}Object[a230_0xa822bd(0x123)](exports,a230_0xa822bd(0x13d),{'value':!![]}),exports[a230_0xa822bd(0x119)]=void 0x0;const not_found_error_1=require(a230_0xa822bd(0x12a)),typedi_1=require(a230_0xa822bd(0x114)),constants_1=require(a230_0xa822bd(0x138)),queries_1=require(a230_0xa822bd(0x10c)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a230_0xa822bd(0x12b)),salesforce_rest_service_1=require(a230_0xa822bd(0x107));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x213b6a,_0xf6768c){const _0x31b507=a230_0xa822bd;this[_0x31b507(0x142)]=_0x213b6a,this[_0x31b507(0x127)]=_0xf6768c,this['MAX_QUERY_ARRAY_ITEMS']=0xc8;}[a230_0xa822bd(0x10e)](_0x27b077){const _0x4e527d=a230_0xa822bd,_0x196817=(0x0,flosum_naming_utils_1[_0x4e527d(0xf9)])(_0x27b077,[_0x4e527d(0x132),_0x4e527d(0x135),_0x4e527d(0x101),_0x4e527d(0x139),_0x4e527d(0xfe),'Id']);return{'id':_0x196817['Id'],'name':_0x196817[_0x4e527d(0x132)],'type':_0x196817['Component_Type__c'],'fileName':_0x196817[_0x4e527d(0x139)],'crc32':_0x196817[_0x4e527d(0x101)],'version':+_0x196817[_0x4e527d(0xfe)]};}async[a230_0xa822bd(0x100)](_0x137346){const _0x1f18c3=a230_0xa822bd,[_0x24ffb3]=await this['queryService']['query'](queries_1[_0x1f18c3(0xf6)][_0x1f18c3(0x141)](_0x1f18c3(0xf7),_0x137346));if(!_0x24ffb3)throw new not_found_error_1[(_0x1f18c3(0x117))](_0x1f18c3(0x116)+_0x137346+_0x1f18c3(0xfd));return _0x24ffb3['Id'];}async[a230_0xa822bd(0x12e)](_0x1ec258){const _0x15b2fa=a230_0xa822bd,[_0x1b2ca2]=await this['queryService'][_0x15b2fa(0x126)](queries_1['GET_BRANCH_BY_NAME_QUERY']['replace'](_0x15b2fa(0xf7),_0x1ec258));if(!_0x1b2ca2)throw new not_found_error_1['NotFoundError']('Branch\x20\x22'+_0x1ec258+_0x15b2fa(0xfd));return _0x1b2ca2['Id'];}async[a230_0xa822bd(0x13a)](){const _0x1c490f=a230_0xa822bd,_0x2eac76=await this[_0x1c490f(0x142)][_0x1c490f(0x126)](queries_1[_0x1c490f(0x11e)]);return _0x2eac76[_0x1c490f(0x11a)](_0x303f6e=>(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x303f6e,['Id',_0x1c490f(0x112)]))[_0x1c490f(0x11a)](_0x6f80f1=>({'id':_0x6f80f1['Id'],'name':_0x6f80f1['Name']}));}async[a230_0xa822bd(0x124)](_0x543a8e,_0x20b958){const _0x157bf6=a230_0xa822bd,_0x29452a=[];while(_0x543a8e['length']){const _0x5922c6=queries_1[_0x157bf6(0x106)][_0x157bf6(0x141)]('%fileNames%',_0x543a8e[_0x157bf6(0x122)](0x0,this[_0x157bf6(0x128)])[_0x157bf6(0x11a)](_0x1c948b=>'\x27'+_0x1c948b+'\x27')['join'](','))['replace'](_0x157bf6(0x118),_0x20b958),_0xee89d=await this[_0x157bf6(0x142)][_0x157bf6(0x126)](_0x5922c6);_0x29452a[_0x157bf6(0xf8)](..._0xee89d);}return _0x29452a[_0x157bf6(0x11a)](_0x5cfcef=>this[_0x157bf6(0x10e)](_0x5cfcef));}async['fetchBranchComponentsByFilenames'](_0x43366a,_0x3860b7){const _0x12a306=a230_0xa822bd,_0x484060=[];while(_0x43366a[_0x12a306(0x131)]){const _0x4737d9=queries_1[_0x12a306(0x12f)]['replace'](_0x12a306(0x109),_0x43366a['splice'](0x0,this[_0x12a306(0x128)])[_0x12a306(0x11a)](_0x22c160=>'\x27'+_0x22c160+'\x27')['join'](','))[_0x12a306(0x141)](_0x12a306(0x10f),_0x3860b7),_0x1b090a=await this[_0x12a306(0x142)]['query'](_0x4737d9);_0x484060['push'](..._0x1b090a);}return _0x484060[_0x12a306(0x11a)](_0x377fd1=>this[_0x12a306(0x10e)](_0x377fd1));}async['fetchRepositoryComponents'](_0x56f2d8){const _0x2da8f0=a230_0xa822bd,_0x136295=queries_1[_0x2da8f0(0x13e)]['replace'](_0x2da8f0(0x118),_0x56f2d8),_0x21f96d=await this[_0x2da8f0(0x142)]['query'](_0x136295);return _0x21f96d[_0x2da8f0(0x11a)](_0x30c00d=>this[_0x2da8f0(0x10e)](_0x30c00d));}async[a230_0xa822bd(0x115)](_0x5eaa2d){const _0x3fe77f=a230_0xa822bd,_0x14db1c=queries_1[_0x3fe77f(0x130)]['replace'](_0x3fe77f(0x10f),_0x5eaa2d),_0x3abca2=await this['queryService'][_0x3fe77f(0x126)](_0x14db1c);return _0x3abca2[_0x3fe77f(0x11a)](_0x511985=>this['extractComponentMetadataFromRecord'](_0x511985));}async[a230_0xa822bd(0xfb)](_0x57d04f){const _0x2857a1=a230_0xa822bd,_0x35aaf8=[..._0x57d04f],_0x29ae70=[];while(_0x35aaf8[_0x2857a1(0x131)]){const _0x55a24c=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS'][_0x2857a1(0x141)]('%componentIds%',_0x35aaf8[_0x2857a1(0x122)](0x0,this[_0x2857a1(0x128)])[_0x2857a1(0x11a)](_0x1bb212=>'\x27'+_0x1bb212+'\x27')[_0x2857a1(0xff)](',')),_0x6f2563=await this[_0x2857a1(0x142)][_0x2857a1(0x126)](_0x55a24c);_0x29ae70[_0x2857a1(0xf8)](..._0x6f2563[_0x2857a1(0x11a)](_0x397c28=>_0x397c28['Id']));}return _0x29ae70;}async[a230_0xa822bd(0x144)](_0x2f2a7f,_0x18a7c0){const _0x2f93dd=a230_0xa822bd;return this[_0x2f93dd(0x127)][_0x2f93dd(0x140)](constants_1['FLOSUM_COMMIT'],{[constants_1['FLOSUM_NAMESPACE']+_0x2f93dd(0x10d)]:_0x18a7c0,[constants_1[_0x2f93dd(0x13f)]+_0x2f93dd(0x12c)]:_0x2f2a7f[_0x2f93dd(0x108)](0x0,0xff),[constants_1[_0x2f93dd(0x13f)]+_0x2f93dd(0x12d)]:_0x2f93dd(0x13c),[constants_1[_0x2f93dd(0x134)]+_0x2f93dd(0x121)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata(a230_0xa822bd(0x104),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a230_0xa822bd(0x11b)]])],SalesforceGitSyncService),exports[a230_0xa822bd(0x119)]=SalesforceGitSyncService;function a230_0x57d4(){const _0x37fd41=['GET_REPOSITORY_BY_NAME_QUERY','%name%','push','extractFieldsFromRecord','__metadata','fetchCommitManifestsByComponentIds','13305LUdiNv','\x22\x20not\x20found\x20in\x20flosum.','Version__c','join','getRepositoryIdByName','CRC32__c','decorate','__decorate','design:paramtypes','1148585FgRWVj','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','./salesforce-rest.service','substr','%fileNames%','4310194uCvYWW','apply','../queries','Repository__c','extractComponentMetadataFromRecord','%branchId%','metadata','25149SMRfPX','Name','3503304nRFHcZ','typedi','fetchBranchComponents','Repository\x20\x22','NotFoundError','%repositoryId%','SalesforceGitSyncService','map','SalesforceRestService','getOwnPropertyDescriptor','(((.+)+)+)+$','GET_COMPONENT_RECORD_TYPES_QUERY','4LphCfd','function','Is_From_Agent__c','splice','defineProperty','fetchRepositoryComponentsByFilenames','toString','query','restService','MAX_QUERY_ARRAY_ITEMS','225153UmZKsy','../../../../core/errors/not-found.error','./salesforce-query.service','Commit_Name__c','Status__c','getBranchIdByName','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','GET_BRANCH_COMPONENTS_QUERY','length','Component_Name__c','object','FLOSUM_GIT_NAMESPACE','Component_Type__c','constructor','48wKdcjx','../../../../constants','File_Name__c','getComponentRecordTypes','search','Completed','__esModule','GET_REPOSITORY_COMPONENTS_QUERY','FLOSUM_NAMESPACE','post','replace','queryService','4CXSRQH','createCommit','3432960LBnjyn'];a230_0x57d4=function(){return _0x37fd41;};return a230_0x57d4();}