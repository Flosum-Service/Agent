const a236_0x53ae69=a236_0x2810;(function(_0x25da27,_0x178b45){const _0x5ba97f=a236_0x2810,_0x4fb743=_0x25da27();while(!![]){try{const _0x2d798f=parseInt(_0x5ba97f(0xcd))/0x1*(-parseInt(_0x5ba97f(0xeb))/0x2)+parseInt(_0x5ba97f(0xba))/0x3*(-parseInt(_0x5ba97f(0xb5))/0x4)+parseInt(_0x5ba97f(0xdb))/0x5*(-parseInt(_0x5ba97f(0xe0))/0x6)+-parseInt(_0x5ba97f(0xbd))/0x7*(-parseInt(_0x5ba97f(0xe8))/0x8)+-parseInt(_0x5ba97f(0xd6))/0x9+-parseInt(_0x5ba97f(0xc8))/0xa+parseInt(_0x5ba97f(0xcb))/0xb;if(_0x2d798f===_0x178b45)break;else _0x4fb743['push'](_0x4fb743['shift']());}catch(_0x1aa176){_0x4fb743['push'](_0x4fb743['shift']());}}}(a236_0x354d,0x59b3b));function a236_0x2810(_0x130955,_0x3636e3){const _0x4a55e1=a236_0x354d();return a236_0x2810=function(_0x2310ea,_0x18bbf1){_0x2310ea=_0x2310ea-0xb1;let _0x354d2b=_0x4a55e1[_0x2310ea];return _0x354d2b;},a236_0x2810(_0x130955,_0x3636e3);}const a236_0x18bbf1=(function(){let _0x422dcf=!![];return function(_0x500174,_0x55f0ba){const _0x3920a1=_0x422dcf?function(){const _0x3a4f02=a236_0x2810;if(_0x55f0ba){const _0x8c0ae7=_0x55f0ba[_0x3a4f02(0xc1)](_0x500174,arguments);return _0x55f0ba=null,_0x8c0ae7;}}:function(){};return _0x422dcf=![],_0x3920a1;};}()),a236_0x2310ea=a236_0x18bbf1(this,function(){const _0x4b6b95=a236_0x2810;return a236_0x2310ea['toString']()[_0x4b6b95(0xdf)](_0x4b6b95(0xe7))[_0x4b6b95(0xdc)]()[_0x4b6b95(0xb8)](a236_0x2310ea)[_0x4b6b95(0xdf)](_0x4b6b95(0xe7));});a236_0x2310ea();function a236_0x354d(){const _0x899a45=['splice','CRC32__c','search','6456nzoRlk','%branchId%','./salesforce-rest.service','fetchRepositoryComponents','FLOSUM_GIT_NAMESPACE','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','queryService','(((.+)+)+)+$','3366760sgTwTB','GET_REPOSITORY_COMPONENTS_QUERY','getComponentRecordTypes','66coWGhT','__metadata','join','decorate','FLOSUM_COMMIT','Component_Type__c','metadata','MAX_QUERY_ARRAY_ITEMS','query','Commit_Name__c','Is_From_Agent__c','FLOSUM_NAMESPACE','__decorate','map','Status__c','fetchRepositoryComponentsByFilenames','%fileNames%','fetchBranchComponents','Branch\x20\x22','%componentIds%','extractComponentMetadataFromRecord','replace','getRepositoryIdByName','push','Repository\x20\x22','1192628aSNbwB','../utils/flosum-naming.utils','%name%','constructor','../../../../constants','3iDazgn','createCommit','fetchBranchComponentsByFilenames','7JiMHOh','substr','SalesforceRestService','SalesforceQueryService','apply','GET_COMPONENT_RECORD_TYPES_QUERY','function','GET_REPOSITORY_BY_NAME_QUERY','Version__c','defineProperty','SalesforceGitSyncService','1284570HvZDsj','\x22\x20not\x20found\x20in\x20flosum.','File_Name__c','20388698zFwiWt','restService','16185BRloUi','getBranchIdByName','length','./salesforce-query.service','getOwnPropertyDescriptor','../../../../core/errors/not-found.error','extractFieldsFromRecord','Component_Name__c','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','6453333DIsZGM','%repositoryId%','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','post','Repository__c','1065NnbSPP','toString'];a236_0x354d=function(){return _0x899a45;};return a236_0x354d();}'use strict';var __decorate=this&&this[a236_0x53ae69(0xf7)]||function(_0x4b6973,_0x2a77ab,_0x513bc7,_0x48e695){const _0x4de511=a236_0x53ae69;var _0x23837c=arguments[_0x4de511(0xcf)],_0x464d42=_0x23837c<0x3?_0x2a77ab:_0x48e695===null?_0x48e695=Object[_0x4de511(0xd1)](_0x2a77ab,_0x513bc7):_0x48e695,_0x2930de;if(typeof Reflect==='object'&&typeof Reflect[_0x4de511(0xee)]==='function')_0x464d42=Reflect[_0x4de511(0xee)](_0x4b6973,_0x2a77ab,_0x513bc7,_0x48e695);else{for(var _0x4de84c=_0x4b6973['length']-0x1;_0x4de84c>=0x0;_0x4de84c--)if(_0x2930de=_0x4b6973[_0x4de84c])_0x464d42=(_0x23837c<0x3?_0x2930de(_0x464d42):_0x23837c>0x3?_0x2930de(_0x2a77ab,_0x513bc7,_0x464d42):_0x2930de(_0x2a77ab,_0x513bc7))||_0x464d42;}return _0x23837c>0x3&&_0x464d42&&Object[_0x4de511(0xc6)](_0x2a77ab,_0x513bc7,_0x464d42),_0x464d42;},__metadata=this&&this[a236_0x53ae69(0xec)]||function(_0x4b28f4,_0x422c6f){const _0x1dcfaa=a236_0x53ae69;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x1dcfaa(0xc3))return Reflect[_0x1dcfaa(0xf1)](_0x4b28f4,_0x422c6f);};Object[a236_0x53ae69(0xc6)](exports,'__esModule',{'value':!![]}),exports[a236_0x53ae69(0xc7)]=void 0x0;const not_found_error_1=require(a236_0x53ae69(0xd2)),typedi_1=require('typedi'),constants_1=require(a236_0x53ae69(0xb9)),queries_1=require('../queries'),flosum_naming_utils_1=require(a236_0x53ae69(0xb6)),salesforce_query_service_1=require(a236_0x53ae69(0xd0)),salesforce_rest_service_1=require(a236_0x53ae69(0xe2));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x249786,_0x1a3f15){const _0x4c48c9=a236_0x53ae69;this[_0x4c48c9(0xe6)]=_0x249786,this[_0x4c48c9(0xcc)]=_0x1a3f15,this[_0x4c48c9(0xf2)]=0xc8;}[a236_0x53ae69(0xff)](_0x55f189){const _0x26f018=a236_0x53ae69,_0x4e3f2a=(0x0,flosum_naming_utils_1[_0x26f018(0xd3)])(_0x55f189,[_0x26f018(0xd4),'Component_Type__c',_0x26f018(0xde),_0x26f018(0xca),_0x26f018(0xc5),'Id']);return{'id':_0x4e3f2a['Id'],'name':_0x4e3f2a[_0x26f018(0xd4)],'type':_0x4e3f2a[_0x26f018(0xf0)],'fileName':_0x4e3f2a[_0x26f018(0xca)],'crc32':_0x4e3f2a['CRC32__c'],'version':+_0x4e3f2a[_0x26f018(0xc5)]};}async[a236_0x53ae69(0xb2)](_0x177ca4){const _0x1659c0=a236_0x53ae69,[_0x51ee22]=await this['queryService'][_0x1659c0(0xf3)](queries_1[_0x1659c0(0xc4)]['replace'](_0x1659c0(0xb7),_0x177ca4));if(!_0x51ee22)throw new not_found_error_1['NotFoundError'](_0x1659c0(0xb4)+_0x177ca4+'\x22\x20not\x20found\x20in\x20flosum.');return _0x51ee22['Id'];}async[a236_0x53ae69(0xce)](_0x5d1037){const _0x30f9ca=a236_0x53ae69,[_0x416f8c]=await this[_0x30f9ca(0xe6)][_0x30f9ca(0xf3)](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x30f9ca(0xb1)](_0x30f9ca(0xb7),_0x5d1037));if(!_0x416f8c)throw new not_found_error_1['NotFoundError'](_0x30f9ca(0xfd)+_0x5d1037+_0x30f9ca(0xc9));return _0x416f8c['Id'];}async[a236_0x53ae69(0xea)](){const _0x1d4e24=a236_0x53ae69,_0x29292f=await this['queryService'][_0x1d4e24(0xf3)](queries_1[_0x1d4e24(0xc2)]);return _0x29292f[_0x1d4e24(0xf8)](_0x517268=>(0x0,flosum_naming_utils_1[_0x1d4e24(0xd3)])(_0x517268,['Id','Name']))[_0x1d4e24(0xf8)](_0x3a4ee9=>({'id':_0x3a4ee9['Id'],'name':_0x3a4ee9['Name']}));}async[a236_0x53ae69(0xfa)](_0x336af9,_0x301bc8){const _0x2bf4bc=a236_0x53ae69,_0x516d51=[];while(_0x336af9[_0x2bf4bc(0xcf)]){const _0x3c60b1=queries_1[_0x2bf4bc(0xd8)][_0x2bf4bc(0xb1)](_0x2bf4bc(0xfb),_0x336af9[_0x2bf4bc(0xdd)](0x0,this[_0x2bf4bc(0xf2)])[_0x2bf4bc(0xf8)](_0x310a2d=>'\x27'+_0x310a2d+'\x27')[_0x2bf4bc(0xed)](','))[_0x2bf4bc(0xb1)]('%repositoryId%',_0x301bc8),_0x36bbee=await this['queryService'][_0x2bf4bc(0xf3)](_0x3c60b1);_0x516d51[_0x2bf4bc(0xb3)](..._0x36bbee);}return _0x516d51[_0x2bf4bc(0xf8)](_0x159139=>this['extractComponentMetadataFromRecord'](_0x159139));}async[a236_0x53ae69(0xbc)](_0x318b36,_0x5aa0f5){const _0x3d9a92=a236_0x53ae69,_0x45c43b=[];while(_0x318b36[_0x3d9a92(0xcf)]){const _0x46b2e0=queries_1[_0x3d9a92(0xd5)][_0x3d9a92(0xb1)](_0x3d9a92(0xfb),_0x318b36['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x3d9a92(0xf8)](_0x399f6d=>'\x27'+_0x399f6d+'\x27')[_0x3d9a92(0xed)](','))[_0x3d9a92(0xb1)](_0x3d9a92(0xe1),_0x5aa0f5),_0x35b538=await this[_0x3d9a92(0xe6)]['query'](_0x46b2e0);_0x45c43b[_0x3d9a92(0xb3)](..._0x35b538);}return _0x45c43b[_0x3d9a92(0xf8)](_0x16c95c=>this[_0x3d9a92(0xff)](_0x16c95c));}async[a236_0x53ae69(0xe3)](_0x319a64){const _0x1b50f4=a236_0x53ae69,_0x3ecbc0=queries_1[_0x1b50f4(0xe9)][_0x1b50f4(0xb1)](_0x1b50f4(0xd7),_0x319a64),_0x4c3003=await this[_0x1b50f4(0xe6)][_0x1b50f4(0xf3)](_0x3ecbc0);return _0x4c3003['map'](_0x54c3c2=>this['extractComponentMetadataFromRecord'](_0x54c3c2));}async[a236_0x53ae69(0xfc)](_0x1adb19){const _0x1d8d40=a236_0x53ae69,_0xf420b9=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0x1d8d40(0xb1)](_0x1d8d40(0xe1),_0x1adb19),_0x3cd04e=await this['queryService'][_0x1d8d40(0xf3)](_0xf420b9);return _0x3cd04e[_0x1d8d40(0xf8)](_0x2559a7=>this[_0x1d8d40(0xff)](_0x2559a7));}async['fetchCommitManifestsByComponentIds'](_0x588586){const _0x4a256a=a236_0x53ae69,_0x583116=[..._0x588586],_0x553526=[];while(_0x583116[_0x4a256a(0xcf)]){const _0x4a57f9=queries_1[_0x4a256a(0xe5)][_0x4a256a(0xb1)](_0x4a256a(0xfe),_0x583116[_0x4a256a(0xdd)](0x0,this[_0x4a256a(0xf2)])[_0x4a256a(0xf8)](_0x2bcc23=>'\x27'+_0x2bcc23+'\x27')[_0x4a256a(0xed)](',')),_0xd50263=await this[_0x4a256a(0xe6)]['query'](_0x4a57f9);_0x553526['push'](..._0xd50263['map'](_0xfe4cb2=>_0xfe4cb2['Id']));}return _0x553526;}async[a236_0x53ae69(0xbb)](_0x1b0265,_0x50a285){const _0x57a9a5=a236_0x53ae69;return this['restService'][_0x57a9a5(0xd9)](constants_1[_0x57a9a5(0xef)],{[constants_1[_0x57a9a5(0xf6)]+_0x57a9a5(0xda)]:_0x50a285,[constants_1['FLOSUM_NAMESPACE']+_0x57a9a5(0xf4)]:_0x1b0265[_0x57a9a5(0xbe)](0x0,0xff),[constants_1[_0x57a9a5(0xf6)]+_0x57a9a5(0xf9)]:'Completed',[constants_1[_0x57a9a5(0xe4)]+_0x57a9a5(0xf5)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata('design:paramtypes',[salesforce_query_service_1[a236_0x53ae69(0xc0)],salesforce_rest_service_1[a236_0x53ae69(0xbf)]])],SalesforceGitSyncService),exports[a236_0x53ae69(0xc7)]=SalesforceGitSyncService;