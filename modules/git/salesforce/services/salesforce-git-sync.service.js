function a263_0x1e03(){const _0x2cfe06=['\x22\x20not\x20found\x20in\x20flosum.','splice','SalesforceRestService','Component_Type__c','extractComponentMetadataFromRecord','68rbFaNv','getRepositoryIdByName','86552oSMGOK','Component_Name__c','__esModule','Is_From_Agent__c','527853HgEyKw','../queries','Completed','FLOSUM_GIT_NAMESPACE','Repository\x20\x22','queryService','%branchId%','GET_BRANCH_BY_NAME_QUERY','4130137nsnUyy','NotFoundError','84thFzjW','6tVVyZJ','FLOSUM_NAMESPACE','function','1915669JWcySq','10xhSNaE','fetchCommitManifestsByComponentIds','../../../../core/errors/not-found.error','fetchRepositoryComponents','Service','Repository__c','createCommit','restService','__metadata','2234YCFrTP','1299QCzFQp','Commit_Name__c','CRC32__c','./salesforce-rest.service','object','typedi','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','279GzCkzo','decorate','toString','length','metadata','getBranchIdByName','push','FLOSUM_COMMIT','query','GET_REPOSITORY_BY_NAME_QUERY','SalesforceGitSyncService','%name%','fetchBranchComponentsByFilenames','extractFieldsFromRecord','join','apply','(((.+)+)+)+$','substr','Version__c','defineProperty','31615Kbjjeh','map','fetchBranchComponents','../utils/flosum-naming.utils','%componentIds%','%repositoryId%','__decorate','search','MAX_QUERY_ARRAY_ITEMS','SalesforceQueryService','./salesforce-query.service','File_Name__c','replace','GET_COMPONENT_RECORD_TYPES_QUERY','post','2114203NoQqif'];a263_0x1e03=function(){return _0x2cfe06;};return a263_0x1e03();}const a263_0x54b85a=a263_0x44f3;(function(_0x2988c5,_0x3b6fce){const _0x5efb64=a263_0x44f3,_0x49b413=_0x2988c5();while(!![]){try{const _0x5a4833=parseInt(_0x5efb64(0x1b1))/0x1+-parseInt(_0x5efb64(0x1c9))/0x2*(-parseInt(_0x5efb64(0x1ca))/0x3)+-parseInt(_0x5efb64(0x1ab))/0x4*(-parseInt(_0x5efb64(0x1e5))/0x5)+-parseInt(_0x5efb64(0x1bc))/0x6*(parseInt(_0x5efb64(0x1bf))/0x7)+-parseInt(_0x5efb64(0x1ad))/0x8*(-parseInt(_0x5efb64(0x1d1))/0x9)+-parseInt(_0x5efb64(0x1c0))/0xa*(-parseInt(_0x5efb64(0x1b9))/0xb)+parseInt(_0x5efb64(0x1bb))/0xc*(-parseInt(_0x5efb64(0x1f4))/0xd);if(_0x5a4833===_0x3b6fce)break;else _0x49b413['push'](_0x49b413['shift']());}catch(_0x196927){_0x49b413['push'](_0x49b413['shift']());}}}(a263_0x1e03,0x65ff1));const a263_0x4e8a55=(function(){let _0x53a9c1=!![];return function(_0x1dca32,_0x1917d5){const _0xcd6eee=_0x53a9c1?function(){const _0x9da48e=a263_0x44f3;if(_0x1917d5){const _0x2c844a=_0x1917d5[_0x9da48e(0x1e0)](_0x1dca32,arguments);return _0x1917d5=null,_0x2c844a;}}:function(){};return _0x53a9c1=![],_0xcd6eee;};}()),a263_0x250311=a263_0x4e8a55(this,function(){const _0x57c4a8=a263_0x44f3;return a263_0x250311['toString']()[_0x57c4a8(0x1ec)]('(((.+)+)+)+$')[_0x57c4a8(0x1d3)]()['constructor'](a263_0x250311)[_0x57c4a8(0x1ec)](_0x57c4a8(0x1e1));});a263_0x250311();'use strict';var __decorate=this&&this[a263_0x54b85a(0x1eb)]||function(_0x54acb2,_0x39e6c6,_0x1fdb7f,_0x46f55c){const _0x108f57=a263_0x54b85a;var _0x15f251=arguments[_0x108f57(0x1d4)],_0x58466a=_0x15f251<0x3?_0x39e6c6:_0x46f55c===null?_0x46f55c=Object['getOwnPropertyDescriptor'](_0x39e6c6,_0x1fdb7f):_0x46f55c,_0xaf33e7;if(typeof Reflect===_0x108f57(0x1ce)&&typeof Reflect[_0x108f57(0x1d2)]===_0x108f57(0x1be))_0x58466a=Reflect['decorate'](_0x54acb2,_0x39e6c6,_0x1fdb7f,_0x46f55c);else{for(var _0x4aeefd=_0x54acb2[_0x108f57(0x1d4)]-0x1;_0x4aeefd>=0x0;_0x4aeefd--)if(_0xaf33e7=_0x54acb2[_0x4aeefd])_0x58466a=(_0x15f251<0x3?_0xaf33e7(_0x58466a):_0x15f251>0x3?_0xaf33e7(_0x39e6c6,_0x1fdb7f,_0x58466a):_0xaf33e7(_0x39e6c6,_0x1fdb7f))||_0x58466a;}return _0x15f251>0x3&&_0x58466a&&Object[_0x108f57(0x1e4)](_0x39e6c6,_0x1fdb7f,_0x58466a),_0x58466a;},__metadata=this&&this[a263_0x54b85a(0x1c8)]||function(_0x16e26d,_0x4e4f84){const _0x1aac69=a263_0x54b85a;if(typeof Reflect==='object'&&typeof Reflect[_0x1aac69(0x1d5)]==='function')return Reflect[_0x1aac69(0x1d5)](_0x16e26d,_0x4e4f84);};Object[a263_0x54b85a(0x1e4)](exports,a263_0x54b85a(0x1af),{'value':!![]}),exports[a263_0x54b85a(0x1db)]=void 0x0;const not_found_error_1=require(a263_0x54b85a(0x1c2)),typedi_1=require(a263_0x54b85a(0x1cf)),constants_1=require('../../../../constants'),queries_1=require(a263_0x54b85a(0x1b2)),flosum_naming_utils_1=require(a263_0x54b85a(0x1e8)),salesforce_query_service_1=require(a263_0x54b85a(0x1ef)),salesforce_rest_service_1=require(a263_0x54b85a(0x1cd));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x9ec368,_0x4ce060){const _0x5246e1=a263_0x54b85a;this['queryService']=_0x9ec368,this[_0x5246e1(0x1c7)]=_0x4ce060,this[_0x5246e1(0x1ed)]=0xc8;}[a263_0x54b85a(0x1aa)](_0x204a66){const _0x321e14=a263_0x54b85a,_0x109356=(0x0,flosum_naming_utils_1[_0x321e14(0x1de)])(_0x204a66,['Component_Name__c',_0x321e14(0x1a9),_0x321e14(0x1cc),'File_Name__c',_0x321e14(0x1e3),'Id']);return{'id':_0x109356['Id'],'name':_0x109356[_0x321e14(0x1ae)],'type':_0x109356[_0x321e14(0x1a9)],'fileName':_0x109356[_0x321e14(0x1f0)],'crc32':_0x109356[_0x321e14(0x1cc)],'version':+_0x109356[_0x321e14(0x1e3)]};}async[a263_0x54b85a(0x1ac)](_0x4b6d11){const _0x473b41=a263_0x54b85a,[_0x31c053]=await this['queryService'][_0x473b41(0x1d9)](queries_1[_0x473b41(0x1da)][_0x473b41(0x1f1)](_0x473b41(0x1dc),_0x4b6d11));if(!_0x31c053)throw new not_found_error_1[(_0x473b41(0x1ba))](_0x473b41(0x1b5)+_0x4b6d11+_0x473b41(0x1f5));return _0x31c053['Id'];}async[a263_0x54b85a(0x1d6)](_0x24a9f7){const _0x29a6ad=a263_0x54b85a,[_0x34d79c]=await this[_0x29a6ad(0x1b6)][_0x29a6ad(0x1d9)](queries_1[_0x29a6ad(0x1b8)][_0x29a6ad(0x1f1)](_0x29a6ad(0x1dc),_0x24a9f7));if(!_0x34d79c)throw new not_found_error_1[(_0x29a6ad(0x1ba))]('Branch\x20\x22'+_0x24a9f7+_0x29a6ad(0x1f5));return _0x34d79c['Id'];}async['getComponentRecordTypes'](){const _0x506350=a263_0x54b85a,_0x316f82=await this[_0x506350(0x1b6)]['query'](queries_1[_0x506350(0x1f2)]);return _0x316f82[_0x506350(0x1e6)](_0x5ed47c=>(0x0,flosum_naming_utils_1[_0x506350(0x1de)])(_0x5ed47c,['Id','Name']))[_0x506350(0x1e6)](_0x49b5e2=>({'id':_0x49b5e2['Id'],'name':_0x49b5e2['Name']}));}async['fetchRepositoryComponentsByFilenames'](_0x3e7333,_0x4c5639){const _0x36d9e9=a263_0x54b85a,_0x3ce623=[];while(_0x3e7333['length']){const _0x4d7427=queries_1['GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY'][_0x36d9e9(0x1f1)]('%fileNames%',_0x3e7333[_0x36d9e9(0x1a7)](0x0,this[_0x36d9e9(0x1ed)])[_0x36d9e9(0x1e6)](_0xf3d79b=>'\x27'+_0xf3d79b+'\x27')[_0x36d9e9(0x1df)](','))[_0x36d9e9(0x1f1)](_0x36d9e9(0x1ea),_0x4c5639),_0x5d9c8b=await this[_0x36d9e9(0x1b6)][_0x36d9e9(0x1d9)](_0x4d7427);_0x3ce623[_0x36d9e9(0x1d7)](..._0x5d9c8b);}return _0x3ce623[_0x36d9e9(0x1e6)](_0x59f3f1=>this[_0x36d9e9(0x1aa)](_0x59f3f1));}async[a263_0x54b85a(0x1dd)](_0x29aee0,_0x5b2194){const _0x24b006=a263_0x54b85a,_0xd2ffdd=[];while(_0x29aee0['length']){const _0x580bab=queries_1[_0x24b006(0x1d0)][_0x24b006(0x1f1)]('%fileNames%',_0x29aee0['splice'](0x0,this[_0x24b006(0x1ed)])[_0x24b006(0x1e6)](_0x46922a=>'\x27'+_0x46922a+'\x27')[_0x24b006(0x1df)](','))[_0x24b006(0x1f1)](_0x24b006(0x1b7),_0x5b2194),_0x1611c9=await this[_0x24b006(0x1b6)]['query'](_0x580bab);_0xd2ffdd[_0x24b006(0x1d7)](..._0x1611c9);}return _0xd2ffdd[_0x24b006(0x1e6)](_0x2776e7=>this[_0x24b006(0x1aa)](_0x2776e7));}async[a263_0x54b85a(0x1c3)](_0x3dfd71){const _0x6a018b=a263_0x54b85a,_0xff584b=queries_1['GET_REPOSITORY_COMPONENTS_QUERY']['replace']('%repositoryId%',_0x3dfd71),_0x2974a8=await this[_0x6a018b(0x1b6)][_0x6a018b(0x1d9)](_0xff584b);return _0x2974a8[_0x6a018b(0x1e6)](_0x493dbc=>this['extractComponentMetadataFromRecord'](_0x493dbc));}async[a263_0x54b85a(0x1e7)](_0x23fea9){const _0x5d958e=a263_0x54b85a,_0x121600=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0x5d958e(0x1f1)](_0x5d958e(0x1b7),_0x23fea9),_0x138835=await this['queryService'][_0x5d958e(0x1d9)](_0x121600);return _0x138835['map'](_0x18f150=>this[_0x5d958e(0x1aa)](_0x18f150));}async[a263_0x54b85a(0x1c1)](_0x17da1b){const _0x5338e1=a263_0x54b85a,_0x2b7c10=[..._0x17da1b],_0x464fad=[];while(_0x2b7c10[_0x5338e1(0x1d4)]){const _0x305b01=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS'][_0x5338e1(0x1f1)](_0x5338e1(0x1e9),_0x2b7c10[_0x5338e1(0x1a7)](0x0,this[_0x5338e1(0x1ed)])[_0x5338e1(0x1e6)](_0x1efcc7=>'\x27'+_0x1efcc7+'\x27')[_0x5338e1(0x1df)](',')),_0x379e8f=await this[_0x5338e1(0x1b6)][_0x5338e1(0x1d9)](_0x305b01);_0x464fad[_0x5338e1(0x1d7)](..._0x379e8f[_0x5338e1(0x1e6)](_0x53fd90=>_0x53fd90['Id']));}return _0x464fad;}async[a263_0x54b85a(0x1c6)](_0x2a5828,_0x194f2a){const _0x5f0a2b=a263_0x54b85a;return this['restService'][_0x5f0a2b(0x1f3)](constants_1[_0x5f0a2b(0x1d8)],{[constants_1[_0x5f0a2b(0x1bd)]+_0x5f0a2b(0x1c5)]:_0x194f2a,[constants_1['FLOSUM_NAMESPACE']+_0x5f0a2b(0x1cb)]:_0x2a5828[_0x5f0a2b(0x1e2)](0x0,0xff),[constants_1['FLOSUM_NAMESPACE']+'Status__c']:_0x5f0a2b(0x1b3),[constants_1[_0x5f0a2b(0x1b4)]+_0x5f0a2b(0x1b0)]:!![]});}};function a263_0x44f3(_0x5263b6,_0x2bd974){const _0xade38d=a263_0x1e03();return a263_0x44f3=function(_0x250311,_0x4e8a55){_0x250311=_0x250311-0x1a7;let _0x1e03c3=_0xade38d[_0x250311];return _0x1e03c3;},a263_0x44f3(_0x5263b6,_0x2bd974);}SalesforceGitSyncService=__decorate([(0x0,typedi_1[a263_0x54b85a(0x1c4)])(),__metadata('design:paramtypes',[salesforce_query_service_1[a263_0x54b85a(0x1ee)],salesforce_rest_service_1[a263_0x54b85a(0x1a8)]])],SalesforceGitSyncService),exports['SalesforceGitSyncService']=SalesforceGitSyncService;