function a231_0xf8d4(){const _0x2b2bb8=['createCommit','extractComponentMetadataFromRecord','./salesforce-query.service','4541792oCbSar','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','toString','getOwnPropertyDescriptor','3lYxUss','map','Component_Type__c','Commit_Name__c','fetchRepositoryComponents','MAX_QUERY_ARRAY_ITEMS','../utils/flosum-naming.utils','3690612jxVxwo','GET_BRANCH_BY_NAME_QUERY','1439918gFXNEl','(((.+)+)+)+$','10qUQgYb','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','SalesforceGitSyncService','314918YjbuEM','FLOSUM_NAMESPACE','17845SWKKkG','defineProperty','replace','Version__c','../../../../core/errors/not-found.error','decorate','GET_COMPONENT_RECORD_TYPES_QUERY','GET_BRANCH_COMPONENTS_QUERY','function','design:paramtypes','length','__decorate','Is_From_Agent__c','fetchBranchComponentsByFilenames','Status__c','FLOSUM_GIT_NAMESPACE','object','%fileNames%','SalesforceRestService','push','query','8qbQusV','__esModule','splice','queryService','../queries','join','%repositoryId%','FLOSUM_COMMIT','extractFieldsFromRecord','Completed','15529085MGcpVr','504EOpxdT','apply','Repository\x20\x22','478744rqrPLh','metadata','getRepositoryIdByName','CRC32__c','Service','fetchBranchComponents','search','post','NotFoundError','getComponentRecordTypes','getBranchIdByName','fetchRepositoryComponentsByFilenames','%branchId%','constructor','__metadata','restService','fetchCommitManifestsByComponentIds','./salesforce-rest.service','Component_Name__c'];a231_0xf8d4=function(){return _0x2b2bb8;};return a231_0xf8d4();}const a231_0x35e63a=a231_0x1ff5;(function(_0x532665,_0x1b5d92){const _0x3a79d=a231_0x1ff5,_0x1e6bf5=_0x532665();while(!![]){try{const _0x20741d=parseInt(_0x3a79d(0xf0))/0x1+-parseInt(_0x3a79d(0xeb))/0x2*(-parseInt(_0x3a79d(0xe2))/0x3)+-parseInt(_0x3a79d(0xde))/0x4+parseInt(_0x3a79d(0xf2))/0x5*(-parseInt(_0x3a79d(0xc5))/0x6)+-parseInt(_0x3a79d(0xc8))/0x7*(-parseInt(_0x3a79d(0xba))/0x8)+parseInt(_0x3a79d(0xe9))/0x9*(-parseInt(_0x3a79d(0xed))/0xa)+parseInt(_0x3a79d(0xc4))/0xb;if(_0x20741d===_0x1b5d92)break;else _0x1e6bf5['push'](_0x1e6bf5['shift']());}catch(_0x463013){_0x1e6bf5['push'](_0x1e6bf5['shift']());}}}(a231_0xf8d4,0xa37fc));const a231_0x3a89a9=(function(){let _0x22b393=!![];return function(_0x2b273a,_0xd56fba){const _0x93009=_0x22b393?function(){const _0x2e65d9=a231_0x1ff5;if(_0xd56fba){const _0x30bee0=_0xd56fba[_0x2e65d9(0xc6)](_0x2b273a,arguments);return _0xd56fba=null,_0x30bee0;}}:function(){};return _0x22b393=![],_0x93009;};}()),a231_0x51f45c=a231_0x3a89a9(this,function(){const _0x14e222=a231_0x1ff5;return a231_0x51f45c[_0x14e222(0xe0)]()[_0x14e222(0xce)](_0x14e222(0xec))['toString']()[_0x14e222(0xd5)](a231_0x51f45c)[_0x14e222(0xce)](_0x14e222(0xec));});a231_0x51f45c();function a231_0x1ff5(_0x25d182,_0x27d465){const _0x54bf0b=a231_0xf8d4();return a231_0x1ff5=function(_0x51f45c,_0x3a89a9){_0x51f45c=_0x51f45c-0xb0;let _0xf8d462=_0x54bf0b[_0x51f45c];return _0xf8d462;},a231_0x1ff5(_0x25d182,_0x27d465);}'use strict';var __decorate=this&&this[a231_0x35e63a(0xb0)]||function(_0x2e7cd8,_0x4ce8e6,_0x3d1622,_0x291573){const _0x489a9d=a231_0x35e63a;var _0x47cce9=arguments[_0x489a9d(0xfc)],_0x5e0682=_0x47cce9<0x3?_0x4ce8e6:_0x291573===null?_0x291573=Object[_0x489a9d(0xe1)](_0x4ce8e6,_0x3d1622):_0x291573,_0x3ef336;if(typeof Reflect===_0x489a9d(0xb5)&&typeof Reflect[_0x489a9d(0xf7)]==='function')_0x5e0682=Reflect['decorate'](_0x2e7cd8,_0x4ce8e6,_0x3d1622,_0x291573);else{for(var _0x2ca42f=_0x2e7cd8['length']-0x1;_0x2ca42f>=0x0;_0x2ca42f--)if(_0x3ef336=_0x2e7cd8[_0x2ca42f])_0x5e0682=(_0x47cce9<0x3?_0x3ef336(_0x5e0682):_0x47cce9>0x3?_0x3ef336(_0x4ce8e6,_0x3d1622,_0x5e0682):_0x3ef336(_0x4ce8e6,_0x3d1622))||_0x5e0682;}return _0x47cce9>0x3&&_0x5e0682&&Object[_0x489a9d(0xf3)](_0x4ce8e6,_0x3d1622,_0x5e0682),_0x5e0682;},__metadata=this&&this[a231_0x35e63a(0xd6)]||function(_0x43d694,_0x2f5c23){const _0x52b760=a231_0x35e63a;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x52b760(0xfa))return Reflect[_0x52b760(0xc9)](_0x43d694,_0x2f5c23);};Object[a231_0x35e63a(0xf3)](exports,a231_0x35e63a(0xbb),{'value':!![]}),exports['SalesforceGitSyncService']=void 0x0;const not_found_error_1=require(a231_0x35e63a(0xf6)),typedi_1=require('typedi'),constants_1=require('../../../../constants'),queries_1=require(a231_0x35e63a(0xbe)),flosum_naming_utils_1=require(a231_0x35e63a(0xe8)),salesforce_query_service_1=require(a231_0x35e63a(0xdd)),salesforce_rest_service_1=require(a231_0x35e63a(0xd9));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x4f86eb,_0x2c968c){const _0x432278=a231_0x35e63a;this['queryService']=_0x4f86eb,this['restService']=_0x2c968c,this[_0x432278(0xe7)]=0xc8;}['extractComponentMetadataFromRecord'](_0x17bf61){const _0x38e349=a231_0x35e63a,_0x5395c1=(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x17bf61,[_0x38e349(0xda),_0x38e349(0xe4),_0x38e349(0xcb),'File_Name__c',_0x38e349(0xf5),'Id']);return{'id':_0x5395c1['Id'],'name':_0x5395c1[_0x38e349(0xda)],'type':_0x5395c1[_0x38e349(0xe4)],'fileName':_0x5395c1['File_Name__c'],'crc32':_0x5395c1[_0x38e349(0xcb)],'version':+_0x5395c1[_0x38e349(0xf5)]};}async[a231_0x35e63a(0xca)](_0x4981e2){const _0x1cf499=a231_0x35e63a,[_0x53160b]=await this['queryService'][_0x1cf499(0xb9)](queries_1['GET_REPOSITORY_BY_NAME_QUERY']['replace']('%name%',_0x4981e2));if(!_0x53160b)throw new not_found_error_1[(_0x1cf499(0xd0))](_0x1cf499(0xc7)+_0x4981e2+'\x22\x20not\x20found\x20in\x20flosum.');return _0x53160b['Id'];}async[a231_0x35e63a(0xd2)](_0x44c426){const _0x23c79f=a231_0x35e63a,[_0x3c9e5b]=await this[_0x23c79f(0xbd)]['query'](queries_1[_0x23c79f(0xea)][_0x23c79f(0xf4)]('%name%',_0x44c426));if(!_0x3c9e5b)throw new not_found_error_1[(_0x23c79f(0xd0))]('Branch\x20\x22'+_0x44c426+'\x22\x20not\x20found\x20in\x20flosum.');return _0x3c9e5b['Id'];}async[a231_0x35e63a(0xd1)](){const _0x5a667b=a231_0x35e63a,_0x52c613=await this[_0x5a667b(0xbd)][_0x5a667b(0xb9)](queries_1[_0x5a667b(0xf8)]);return _0x52c613[_0x5a667b(0xe3)](_0x7e9a75=>(0x0,flosum_naming_utils_1[_0x5a667b(0xc2)])(_0x7e9a75,['Id','Name']))[_0x5a667b(0xe3)](_0x204d3f=>({'id':_0x204d3f['Id'],'name':_0x204d3f['Name']}));}async[a231_0x35e63a(0xd3)](_0x5aca58,_0x30c0a7){const _0x5de659=a231_0x35e63a,_0x14bcce=[];while(_0x5aca58[_0x5de659(0xfc)]){const _0x3e72c1=queries_1[_0x5de659(0xdf)][_0x5de659(0xf4)](_0x5de659(0xb6),_0x5aca58[_0x5de659(0xbc)](0x0,this[_0x5de659(0xe7)])[_0x5de659(0xe3)](_0x4978f3=>'\x27'+_0x4978f3+'\x27')[_0x5de659(0xbf)](','))[_0x5de659(0xf4)](_0x5de659(0xc0),_0x30c0a7),_0x160849=await this[_0x5de659(0xbd)][_0x5de659(0xb9)](_0x3e72c1);_0x14bcce[_0x5de659(0xb8)](..._0x160849);}return _0x14bcce['map'](_0x37f3a1=>this[_0x5de659(0xdc)](_0x37f3a1));}async[a231_0x35e63a(0xb2)](_0x4181d2,_0xc7318e){const _0x4bdbef=a231_0x35e63a,_0x4db554=[];while(_0x4181d2[_0x4bdbef(0xfc)]){const _0x17fe7d=queries_1[_0x4bdbef(0xee)][_0x4bdbef(0xf4)](_0x4bdbef(0xb6),_0x4181d2[_0x4bdbef(0xbc)](0x0,this[_0x4bdbef(0xe7)])[_0x4bdbef(0xe3)](_0x53196c=>'\x27'+_0x53196c+'\x27')[_0x4bdbef(0xbf)](','))['replace'](_0x4bdbef(0xd4),_0xc7318e),_0x223efc=await this[_0x4bdbef(0xbd)][_0x4bdbef(0xb9)](_0x17fe7d);_0x4db554[_0x4bdbef(0xb8)](..._0x223efc);}return _0x4db554['map'](_0x19bad4=>this[_0x4bdbef(0xdc)](_0x19bad4));}async[a231_0x35e63a(0xe6)](_0x4f07d3){const _0x43745d=a231_0x35e63a,_0xc26a65=queries_1['GET_REPOSITORY_COMPONENTS_QUERY']['replace'](_0x43745d(0xc0),_0x4f07d3),_0x4c0848=await this[_0x43745d(0xbd)][_0x43745d(0xb9)](_0xc26a65);return _0x4c0848[_0x43745d(0xe3)](_0x586529=>this[_0x43745d(0xdc)](_0x586529));}async[a231_0x35e63a(0xcd)](_0x3c7067){const _0x52ecd1=a231_0x35e63a,_0x26f266=queries_1[_0x52ecd1(0xf9)][_0x52ecd1(0xf4)](_0x52ecd1(0xd4),_0x3c7067),_0x2bfd23=await this[_0x52ecd1(0xbd)][_0x52ecd1(0xb9)](_0x26f266);return _0x2bfd23[_0x52ecd1(0xe3)](_0x727773=>this[_0x52ecd1(0xdc)](_0x727773));}async[a231_0x35e63a(0xd8)](_0x532c61){const _0x4d8cbe=a231_0x35e63a,_0x4e8195=[..._0x532c61],_0x3ca2d0=[];while(_0x4e8195[_0x4d8cbe(0xfc)]){const _0x5cc81b=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS']['replace']('%componentIds%',_0x4e8195['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x4d8cbe(0xe3)](_0x4231c4=>'\x27'+_0x4231c4+'\x27')[_0x4d8cbe(0xbf)](',')),_0x4036a2=await this[_0x4d8cbe(0xbd)][_0x4d8cbe(0xb9)](_0x5cc81b);_0x3ca2d0[_0x4d8cbe(0xb8)](..._0x4036a2[_0x4d8cbe(0xe3)](_0x36a2f9=>_0x36a2f9['Id']));}return _0x3ca2d0;}async[a231_0x35e63a(0xdb)](_0x5aee7d,_0x2cb503){const _0x54e98d=a231_0x35e63a;return this[_0x54e98d(0xd7)][_0x54e98d(0xcf)](constants_1[_0x54e98d(0xc1)],{[constants_1[_0x54e98d(0xf1)]+'Repository__c']:_0x2cb503,[constants_1[_0x54e98d(0xf1)]+_0x54e98d(0xe5)]:_0x5aee7d['substr'](0x0,0xff),[constants_1[_0x54e98d(0xf1)]+_0x54e98d(0xb3)]:_0x54e98d(0xc3),[constants_1[_0x54e98d(0xb4)]+_0x54e98d(0xb1)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a231_0x35e63a(0xcc)])(),__metadata(a231_0x35e63a(0xfb),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a231_0x35e63a(0xb7)]])],SalesforceGitSyncService),exports[a231_0x35e63a(0xef)]=SalesforceGitSyncService;