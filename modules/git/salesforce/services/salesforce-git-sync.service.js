function a230_0x29a5(_0x1ccb9d,_0x513a51){const _0x13b328=a230_0xb5b6();return a230_0x29a5=function(_0x3ed6b6,_0x5b2bb6){_0x3ed6b6=_0x3ed6b6-0x151;let _0xb5b643=_0x13b328[_0x3ed6b6];return _0xb5b643;},a230_0x29a5(_0x1ccb9d,_0x513a51);}function a230_0xb5b6(){const _0x366588=['FLOSUM_NAMESPACE','%repositoryId%','getComponentRecordTypes','splice','240846oabFiX','%name%','Name','5WDcSwZ','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','search','extractComponentMetadataFromRecord','SalesforceRestService','%branchId%','./salesforce-query.service','getOwnPropertyDescriptor','Repository__c','apply','join','Commit_Name__c','MAX_QUERY_ARRAY_ITEMS','length','3835089dRgcOa','getBranchIdByName','typedi','File_Name__c','65457pkoVMf','../queries','extractFieldsFromRecord','Branch\x20\x22','FLOSUM_GIT_NAMESPACE','queryService','Component_Type__c','__metadata','query','SalesforceGitSyncService','createCommit','Component_Name__c','FLOSUM_COMMIT','NotFoundError','substr','35CoYGaq','\x22\x20not\x20found\x20in\x20flosum.','%fileNames%','Completed','Repository\x20\x22','__decorate','%componentIds%','CRC32__c','SalesforceQueryService','restService','push','332600lAFjdO','function','defineProperty','object','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','103200xaatOE','Service','131088FaoksT','map','571968ypRNpL','Status__c','__esModule','metadata','constructor','../../../../core/errors/not-found.error','getRepositoryIdByName','toString','replace'];a230_0xb5b6=function(){return _0x366588;};return a230_0xb5b6();}const a230_0x977a82=a230_0x29a5;(function(_0x5d3d95,_0x45c492){const _0x54170d=a230_0x29a5,_0x4845cb=_0x5d3d95();while(!![]){try{const _0x589dc=parseInt(_0x54170d(0x15f))/0x1+parseInt(_0x54170d(0x180))/0x2+parseInt(_0x54170d(0x17e))/0x3+parseInt(_0x54170d(0x182))/0x4*(parseInt(_0x54170d(0x192))/0x5)+parseInt(_0x54170d(0x18f))/0x6+-parseInt(_0x54170d(0x16e))/0x7*(-parseInt(_0x54170d(0x179))/0x8)+-parseInt(_0x54170d(0x15b))/0x9;if(_0x589dc===_0x45c492)break;else _0x4845cb['push'](_0x4845cb['shift']());}catch(_0x3fd94b){_0x4845cb['push'](_0x4845cb['shift']());}}}(a230_0xb5b6,0x1fcf0));const a230_0x5b2bb6=(function(){let _0x48194b=!![];return function(_0x358fe5,_0x2b919a){const _0x194e0f=_0x48194b?function(){const _0x3c6d1a=a230_0x29a5;if(_0x2b919a){const _0x5e07a2=_0x2b919a[_0x3c6d1a(0x156)](_0x358fe5,arguments);return _0x2b919a=null,_0x5e07a2;}}:function(){};return _0x48194b=![],_0x194e0f;};}()),a230_0x3ed6b6=a230_0x5b2bb6(this,function(){const _0x246120=a230_0x29a5;return a230_0x3ed6b6[_0x246120(0x189)]()['search']('(((.+)+)+)+$')[_0x246120(0x189)]()[_0x246120(0x186)](a230_0x3ed6b6)[_0x246120(0x194)]('(((.+)+)+)+$');});a230_0x3ed6b6();'use strict';var __decorate=this&&this[a230_0x977a82(0x173)]||function(_0x50a2f4,_0x364aff,_0x32a661,_0x14267e){const _0x49f96d=a230_0x977a82;var _0xa36766=arguments[_0x49f96d(0x15a)],_0x28bd82=_0xa36766<0x3?_0x364aff:_0x14267e===null?_0x14267e=Object[_0x49f96d(0x154)](_0x364aff,_0x32a661):_0x14267e,_0x53881d;if(typeof Reflect===_0x49f96d(0x17c)&&typeof Reflect['decorate']===_0x49f96d(0x17a))_0x28bd82=Reflect['decorate'](_0x50a2f4,_0x364aff,_0x32a661,_0x14267e);else{for(var _0xcffac2=_0x50a2f4['length']-0x1;_0xcffac2>=0x0;_0xcffac2--)if(_0x53881d=_0x50a2f4[_0xcffac2])_0x28bd82=(_0xa36766<0x3?_0x53881d(_0x28bd82):_0xa36766>0x3?_0x53881d(_0x364aff,_0x32a661,_0x28bd82):_0x53881d(_0x364aff,_0x32a661))||_0x28bd82;}return _0xa36766>0x3&&_0x28bd82&&Object[_0x49f96d(0x17b)](_0x364aff,_0x32a661,_0x28bd82),_0x28bd82;},__metadata=this&&this[a230_0x977a82(0x166)]||function(_0x104d90,_0x27c1d7){const _0x52802d=a230_0x977a82;if(typeof Reflect===_0x52802d(0x17c)&&typeof Reflect[_0x52802d(0x185)]===_0x52802d(0x17a))return Reflect[_0x52802d(0x185)](_0x104d90,_0x27c1d7);};Object[a230_0x977a82(0x17b)](exports,a230_0x977a82(0x184),{'value':!![]}),exports[a230_0x977a82(0x168)]=void 0x0;const not_found_error_1=require(a230_0x977a82(0x187)),typedi_1=require(a230_0x977a82(0x15d)),constants_1=require('../../../../constants'),queries_1=require(a230_0x977a82(0x160)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a230_0x977a82(0x153)),salesforce_rest_service_1=require('./salesforce-rest.service');let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x2f7fc4,_0x1cd7ba){this['queryService']=_0x2f7fc4,this['restService']=_0x1cd7ba,this['MAX_QUERY_ARRAY_ITEMS']=0xc8;}[a230_0x977a82(0x195)](_0x44b07a){const _0x46c156=a230_0x977a82,_0x57215f=(0x0,flosum_naming_utils_1[_0x46c156(0x161)])(_0x44b07a,[_0x46c156(0x16a),_0x46c156(0x165),_0x46c156(0x175),_0x46c156(0x15e),'Version__c','Id']);return{'id':_0x57215f['Id'],'name':_0x57215f[_0x46c156(0x16a)],'type':_0x57215f[_0x46c156(0x165)],'fileName':_0x57215f[_0x46c156(0x15e)],'crc32':_0x57215f[_0x46c156(0x175)],'version':+_0x57215f['Version__c']};}async[a230_0x977a82(0x188)](_0x5a8cef){const _0x15e1c2=a230_0x977a82,[_0x2dcf2a]=await this['queryService']['query'](queries_1['GET_REPOSITORY_BY_NAME_QUERY'][_0x15e1c2(0x18a)](_0x15e1c2(0x190),_0x5a8cef));if(!_0x2dcf2a)throw new not_found_error_1[(_0x15e1c2(0x16c))](_0x15e1c2(0x172)+_0x5a8cef+_0x15e1c2(0x16f));return _0x2dcf2a['Id'];}async[a230_0x977a82(0x15c)](_0x41cc9b){const _0x1a5620=a230_0x977a82,[_0x186998]=await this[_0x1a5620(0x164)]['query'](queries_1['GET_BRANCH_BY_NAME_QUERY']['replace'](_0x1a5620(0x190),_0x41cc9b));if(!_0x186998)throw new not_found_error_1[(_0x1a5620(0x16c))](_0x1a5620(0x162)+_0x41cc9b+_0x1a5620(0x16f));return _0x186998['Id'];}async[a230_0x977a82(0x18d)](){const _0x40020a=a230_0x977a82,_0x2d3ce0=await this[_0x40020a(0x164)]['query'](queries_1['GET_COMPONENT_RECORD_TYPES_QUERY']);return _0x2d3ce0['map'](_0x3ba47c=>(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x3ba47c,['Id',_0x40020a(0x191)]))[_0x40020a(0x181)](_0xbb3d9a=>({'id':_0xbb3d9a['Id'],'name':_0xbb3d9a[_0x40020a(0x191)]}));}async['fetchRepositoryComponentsByFilenames'](_0x29c2f4,_0x187a57){const _0x418725=a230_0x977a82,_0x23b037=[];while(_0x29c2f4['length']){const _0x2adf3d=queries_1[_0x418725(0x193)][_0x418725(0x18a)](_0x418725(0x170),_0x29c2f4[_0x418725(0x18e)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x418725(0x181)](_0x39b300=>'\x27'+_0x39b300+'\x27')['join'](','))[_0x418725(0x18a)](_0x418725(0x18c),_0x187a57),_0x48c0e5=await this[_0x418725(0x164)][_0x418725(0x167)](_0x2adf3d);_0x23b037[_0x418725(0x178)](..._0x48c0e5);}return _0x23b037[_0x418725(0x181)](_0x3e2035=>this[_0x418725(0x195)](_0x3e2035));}async['fetchBranchComponentsByFilenames'](_0x195bf3,_0x25a1ec){const _0x25c4ca=a230_0x977a82,_0x3c1486=[];while(_0x195bf3[_0x25c4ca(0x15a)]){const _0x3ab5e3=queries_1[_0x25c4ca(0x17d)][_0x25c4ca(0x18a)](_0x25c4ca(0x170),_0x195bf3[_0x25c4ca(0x18e)](0x0,this[_0x25c4ca(0x159)])[_0x25c4ca(0x181)](_0x5e2050=>'\x27'+_0x5e2050+'\x27')[_0x25c4ca(0x157)](','))['replace'](_0x25c4ca(0x152),_0x25a1ec),_0x16223e=await this[_0x25c4ca(0x164)][_0x25c4ca(0x167)](_0x3ab5e3);_0x3c1486['push'](..._0x16223e);}return _0x3c1486['map'](_0x2b8068=>this['extractComponentMetadataFromRecord'](_0x2b8068));}async['fetchRepositoryComponents'](_0x21cdde){const _0xd2ff58=a230_0x977a82,_0x37b257=queries_1['GET_REPOSITORY_COMPONENTS_QUERY'][_0xd2ff58(0x18a)](_0xd2ff58(0x18c),_0x21cdde),_0x1d9118=await this['queryService'][_0xd2ff58(0x167)](_0x37b257);return _0x1d9118[_0xd2ff58(0x181)](_0x134024=>this[_0xd2ff58(0x195)](_0x134024));}async['fetchBranchComponents'](_0x30e5d1){const _0x26ea8a=a230_0x977a82,_0x3bb973=queries_1['GET_BRANCH_COMPONENTS_QUERY']['replace'](_0x26ea8a(0x152),_0x30e5d1),_0x333fd8=await this[_0x26ea8a(0x164)][_0x26ea8a(0x167)](_0x3bb973);return _0x333fd8[_0x26ea8a(0x181)](_0x13312c=>this[_0x26ea8a(0x195)](_0x13312c));}async['fetchCommitManifestsByComponentIds'](_0x527372){const _0x168c1d=a230_0x977a82,_0x54f05d=[..._0x527372],_0x163afd=[];while(_0x54f05d['length']){const _0x2e0d37=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS']['replace'](_0x168c1d(0x174),_0x54f05d['splice'](0x0,this[_0x168c1d(0x159)])[_0x168c1d(0x181)](_0x75033a=>'\x27'+_0x75033a+'\x27')[_0x168c1d(0x157)](',')),_0x52fe5c=await this['queryService'][_0x168c1d(0x167)](_0x2e0d37);_0x163afd[_0x168c1d(0x178)](..._0x52fe5c[_0x168c1d(0x181)](_0x43abfb=>_0x43abfb['Id']));}return _0x163afd;}async[a230_0x977a82(0x169)](_0xad5a0d,_0xc21b38){const _0x45b9eb=a230_0x977a82;return this[_0x45b9eb(0x177)]['post'](constants_1[_0x45b9eb(0x16b)],{[constants_1[_0x45b9eb(0x18b)]+_0x45b9eb(0x155)]:_0xc21b38,[constants_1[_0x45b9eb(0x18b)]+_0x45b9eb(0x158)]:_0xad5a0d[_0x45b9eb(0x16d)](0x0,0xff),[constants_1['FLOSUM_NAMESPACE']+_0x45b9eb(0x183)]:_0x45b9eb(0x171),[constants_1[_0x45b9eb(0x163)]+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a230_0x977a82(0x17f)])(),__metadata('design:paramtypes',[salesforce_query_service_1[a230_0x977a82(0x176)],salesforce_rest_service_1[a230_0x977a82(0x151)]])],SalesforceGitSyncService),exports[a230_0x977a82(0x168)]=SalesforceGitSyncService;