function a196_0x5ada(){const _0x214fa0=['__decorate','Component_Name__c','FLOSUM_COMMIT','../../../../constants','NotFoundError','substr','Version__c','8551212HCTJeF','%fileNames%','constructor','getOwnPropertyDescriptor','map','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','object','Is_From_Agent__c','function','FLOSUM_NAMESPACE','../queries','extractComponentMetadataFromRecord','GET_BRANCH_COMPONENTS_QUERY','14568ZjDDPV','148TShjIS','splice','fetchRepositoryComponentsByFilenames','createCommit','Name','join','8GPQdNt','%branchId%','replace','search','SalesforceQueryService','getRepositoryIdByName','../../../../core/errors/not-found.error','%name%','Repository__c','Repository\x20\x22','toString','query','apply','GET_REPOSITORY_COMPONENTS_QUERY','\x22\x20not\x20found\x20in\x20flosum.','(((.+)+)+)+$','./salesforce-query.service','GET_BRANCH_BY_NAME_QUERY','Commit_Name__c','decorate','SalesforceGitSyncService','Component_Type__c','3689ftyAQO','design:paramtypes','__esModule','SalesforceRestService','post','7799ygBUEG','restService','File_Name__c','FLOSUM_GIT_NAMESPACE','push','21jnoLyv','5100wWZUab','297813nsxVSp','getComponentRecordTypes','Completed','%repositoryId%','../utils/flosum-naming.utils','length','fetchBranchComponentsByFilenames','75066SAzbRa','MAX_QUERY_ARRAY_ITEMS','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','getBranchIdByName','8410491lsYlTZ','queryService','CRC32__c','fetchCommitManifestsByComponentIds','45005GpHJzb','extractFieldsFromRecord','metadata'];a196_0x5ada=function(){return _0x214fa0;};return a196_0x5ada();}const a196_0x5d5276=a196_0x40ea;function a196_0x40ea(_0x148f88,_0x363f5){const _0x42c70f=a196_0x5ada();return a196_0x40ea=function(_0x3d8462,_0x10d905){_0x3d8462=_0x3d8462-0x1f2;let _0x5adadd=_0x42c70f[_0x3d8462];return _0x5adadd;},a196_0x40ea(_0x148f88,_0x363f5);}(function(_0x5912da,_0x4842b2){const _0x2f1256=a196_0x40ea,_0x53cf30=_0x5912da();while(!![]){try{const _0x3c3bd8=-parseInt(_0x2f1256(0x220))/0x1+-parseInt(_0x2f1256(0x227))/0x2*(-parseInt(_0x2f1256(0x21e))/0x3)+parseInt(_0x2f1256(0x1f8))/0x4*(-parseInt(_0x2f1256(0x22f))/0x5)+-parseInt(_0x2f1256(0x1f7))/0x6*(-parseInt(_0x2f1256(0x214))/0x7)+-parseInt(_0x2f1256(0x1fe))/0x8*(-parseInt(_0x2f1256(0x22b))/0x9)+parseInt(_0x2f1256(0x21f))/0xa*(-parseInt(_0x2f1256(0x219))/0xb)+-parseInt(_0x2f1256(0x239))/0xc;if(_0x3c3bd8===_0x4842b2)break;else _0x53cf30['push'](_0x53cf30['shift']());}catch(_0x175b17){_0x53cf30['push'](_0x53cf30['shift']());}}}(a196_0x5ada,0xbc6a1));const a196_0x10d905=(function(){let _0x3329d5=!![];return function(_0x1666d1,_0x392940){const _0x52a041=_0x3329d5?function(){const _0x4833a6=a196_0x40ea;if(_0x392940){const _0x457e58=_0x392940[_0x4833a6(0x20a)](_0x1666d1,arguments);return _0x392940=null,_0x457e58;}}:function(){};return _0x3329d5=![],_0x52a041;};}()),a196_0x3d8462=a196_0x10d905(this,function(){const _0x4e5f11=a196_0x40ea;return a196_0x3d8462[_0x4e5f11(0x208)]()[_0x4e5f11(0x201)](_0x4e5f11(0x20d))[_0x4e5f11(0x208)]()[_0x4e5f11(0x23b)](a196_0x3d8462)[_0x4e5f11(0x201)](_0x4e5f11(0x20d));});a196_0x3d8462();'use strict';var __decorate=this&&this[a196_0x5d5276(0x232)]||function(_0x3578c4,_0x1c2488,_0x1f25e1,_0x8a9154){const _0x2eca30=a196_0x5d5276;var _0x2d91cf=arguments[_0x2eca30(0x225)],_0x33faa9=_0x2d91cf<0x3?_0x1c2488:_0x8a9154===null?_0x8a9154=Object[_0x2eca30(0x23c)](_0x1c2488,_0x1f25e1):_0x8a9154,_0x31cabe;if(typeof Reflect===_0x2eca30(0x23f)&&typeof Reflect[_0x2eca30(0x211)]===_0x2eca30(0x1f2))_0x33faa9=Reflect['decorate'](_0x3578c4,_0x1c2488,_0x1f25e1,_0x8a9154);else{for(var _0x4d2e22=_0x3578c4[_0x2eca30(0x225)]-0x1;_0x4d2e22>=0x0;_0x4d2e22--)if(_0x31cabe=_0x3578c4[_0x4d2e22])_0x33faa9=(_0x2d91cf<0x3?_0x31cabe(_0x33faa9):_0x2d91cf>0x3?_0x31cabe(_0x1c2488,_0x1f25e1,_0x33faa9):_0x31cabe(_0x1c2488,_0x1f25e1))||_0x33faa9;}return _0x2d91cf>0x3&&_0x33faa9&&Object['defineProperty'](_0x1c2488,_0x1f25e1,_0x33faa9),_0x33faa9;},__metadata=this&&this['__metadata']||function(_0x579f25,_0x5cddb5){const _0x43e75c=a196_0x5d5276;if(typeof Reflect===_0x43e75c(0x23f)&&typeof Reflect[_0x43e75c(0x231)]===_0x43e75c(0x1f2))return Reflect[_0x43e75c(0x231)](_0x579f25,_0x5cddb5);};Object['defineProperty'](exports,a196_0x5d5276(0x216),{'value':!![]}),exports[a196_0x5d5276(0x212)]=void 0x0;const not_found_error_1=require(a196_0x5d5276(0x204)),typedi_1=require('typedi'),constants_1=require(a196_0x5d5276(0x235)),queries_1=require(a196_0x5d5276(0x1f4)),flosum_naming_utils_1=require(a196_0x5d5276(0x224)),salesforce_query_service_1=require(a196_0x5d5276(0x20e)),salesforce_rest_service_1=require('./salesforce-rest.service');let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x3149a8,_0x2b4456){const _0x19088e=a196_0x5d5276;this[_0x19088e(0x22c)]=_0x3149a8,this['restService']=_0x2b4456,this[_0x19088e(0x228)]=0xc8;}[a196_0x5d5276(0x1f5)](_0x41c4dc){const _0x1eec43=a196_0x5d5276,_0x4fef1c=(0x0,flosum_naming_utils_1[_0x1eec43(0x230)])(_0x41c4dc,['Component_Name__c',_0x1eec43(0x213),_0x1eec43(0x22d),_0x1eec43(0x21b),_0x1eec43(0x238),'Id']);return{'id':_0x4fef1c['Id'],'name':_0x4fef1c[_0x1eec43(0x233)],'type':_0x4fef1c[_0x1eec43(0x213)],'fileName':_0x4fef1c[_0x1eec43(0x21b)],'crc32':_0x4fef1c[_0x1eec43(0x22d)],'version':+_0x4fef1c[_0x1eec43(0x238)]};}async[a196_0x5d5276(0x203)](_0x3b9904){const _0x52b1fc=a196_0x5d5276,[_0x199df2]=await this['queryService']['query'](queries_1['GET_REPOSITORY_BY_NAME_QUERY']['replace'](_0x52b1fc(0x205),_0x3b9904));if(!_0x199df2)throw new not_found_error_1[(_0x52b1fc(0x236))](_0x52b1fc(0x207)+_0x3b9904+'\x22\x20not\x20found\x20in\x20flosum.');return _0x199df2['Id'];}async[a196_0x5d5276(0x22a)](_0x2bbc36){const _0x295dfa=a196_0x5d5276,[_0x27f125]=await this[_0x295dfa(0x22c)][_0x295dfa(0x209)](queries_1[_0x295dfa(0x20f)][_0x295dfa(0x200)](_0x295dfa(0x205),_0x2bbc36));if(!_0x27f125)throw new not_found_error_1['NotFoundError']('Branch\x20\x22'+_0x2bbc36+_0x295dfa(0x20c));return _0x27f125['Id'];}async[a196_0x5d5276(0x221)](){const _0x433021=a196_0x5d5276,_0x4ca636=await this[_0x433021(0x22c)][_0x433021(0x209)](queries_1['GET_COMPONENT_RECORD_TYPES_QUERY']);return _0x4ca636['map'](_0x1665ea=>(0x0,flosum_naming_utils_1[_0x433021(0x230)])(_0x1665ea,['Id',_0x433021(0x1fc)]))[_0x433021(0x23d)](_0x595d55=>({'id':_0x595d55['Id'],'name':_0x595d55['Name']}));}async[a196_0x5d5276(0x1fa)](_0x532176,_0x1dc844){const _0x40fc55=a196_0x5d5276,_0x218c8e=[];while(_0x532176[_0x40fc55(0x225)]){const _0x295c22=queries_1['GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY'][_0x40fc55(0x200)](_0x40fc55(0x23a),_0x532176['splice'](0x0,this[_0x40fc55(0x228)])['map'](_0x36470d=>'\x27'+_0x36470d+'\x27')[_0x40fc55(0x1fd)](','))[_0x40fc55(0x200)]('%repositoryId%',_0x1dc844),_0x1a94f0=await this['queryService'][_0x40fc55(0x209)](_0x295c22);_0x218c8e['push'](..._0x1a94f0);}return _0x218c8e[_0x40fc55(0x23d)](_0x321977=>this[_0x40fc55(0x1f5)](_0x321977));}async[a196_0x5d5276(0x226)](_0x3e656f,_0x1fab16){const _0x4e720e=a196_0x5d5276,_0x1b5f4d=[];while(_0x3e656f[_0x4e720e(0x225)]){const _0x3a533b=queries_1[_0x4e720e(0x229)][_0x4e720e(0x200)](_0x4e720e(0x23a),_0x3e656f[_0x4e720e(0x1f9)](0x0,this[_0x4e720e(0x228)])[_0x4e720e(0x23d)](_0x5bb0f8=>'\x27'+_0x5bb0f8+'\x27')[_0x4e720e(0x1fd)](','))[_0x4e720e(0x200)](_0x4e720e(0x1ff),_0x1fab16),_0x2616bb=await this[_0x4e720e(0x22c)]['query'](_0x3a533b);_0x1b5f4d[_0x4e720e(0x21d)](..._0x2616bb);}return _0x1b5f4d['map'](_0x533e90=>this[_0x4e720e(0x1f5)](_0x533e90));}async['fetchRepositoryComponents'](_0x41c28c){const _0x31d367=a196_0x5d5276,_0x3020ac=queries_1[_0x31d367(0x20b)]['replace'](_0x31d367(0x223),_0x41c28c),_0xe3e7ec=await this['queryService'][_0x31d367(0x209)](_0x3020ac);return _0xe3e7ec[_0x31d367(0x23d)](_0x39863a=>this['extractComponentMetadataFromRecord'](_0x39863a));}async['fetchBranchComponents'](_0x4ed08b){const _0x267860=a196_0x5d5276,_0x27d6c2=queries_1[_0x267860(0x1f6)][_0x267860(0x200)]('%branchId%',_0x4ed08b),_0x2a6b09=await this[_0x267860(0x22c)][_0x267860(0x209)](_0x27d6c2);return _0x2a6b09[_0x267860(0x23d)](_0x55170a=>this[_0x267860(0x1f5)](_0x55170a));}async[a196_0x5d5276(0x22e)](_0x45f058){const _0x527c0c=a196_0x5d5276,_0x2afe0e=[..._0x45f058],_0x544c50=[];while(_0x2afe0e[_0x527c0c(0x225)]){const _0x38b0f3=queries_1[_0x527c0c(0x23e)][_0x527c0c(0x200)]('%componentIds%',_0x2afe0e[_0x527c0c(0x1f9)](0x0,this[_0x527c0c(0x228)])['map'](_0x97538a=>'\x27'+_0x97538a+'\x27')[_0x527c0c(0x1fd)](',')),_0x13de7d=await this[_0x527c0c(0x22c)][_0x527c0c(0x209)](_0x38b0f3);_0x544c50[_0x527c0c(0x21d)](..._0x13de7d[_0x527c0c(0x23d)](_0x2ce5b9=>_0x2ce5b9['Id']));}return _0x544c50;}async[a196_0x5d5276(0x1fb)](_0x235756,_0x2b2d47){const _0x3ed6e0=a196_0x5d5276;return this[_0x3ed6e0(0x21a)][_0x3ed6e0(0x218)](constants_1[_0x3ed6e0(0x234)],{[constants_1[_0x3ed6e0(0x1f3)]+_0x3ed6e0(0x206)]:_0x2b2d47,[constants_1[_0x3ed6e0(0x1f3)]+_0x3ed6e0(0x210)]:_0x235756[_0x3ed6e0(0x237)](0x0,0xff),[constants_1[_0x3ed6e0(0x1f3)]+'Status__c']:_0x3ed6e0(0x222),[constants_1[_0x3ed6e0(0x21c)]+_0x3ed6e0(0x240)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata(a196_0x5d5276(0x215),[salesforce_query_service_1[a196_0x5d5276(0x202)],salesforce_rest_service_1[a196_0x5d5276(0x217)]])],SalesforceGitSyncService),exports[a196_0x5d5276(0x212)]=SalesforceGitSyncService;