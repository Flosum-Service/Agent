const a236_0x4a742b=a236_0x3074;(function(_0x5c5771,_0xf276a8){const _0x192615=a236_0x3074,_0x1d2247=_0x5c5771();while(!![]){try{const _0x2c6038=-parseInt(_0x192615(0x160))/0x1*(-parseInt(_0x192615(0x15c))/0x2)+parseInt(_0x192615(0x173))/0x3*(parseInt(_0x192615(0x16c))/0x4)+-parseInt(_0x192615(0x174))/0x5+parseInt(_0x192615(0x16e))/0x6*(-parseInt(_0x192615(0x15d))/0x7)+parseInt(_0x192615(0x13b))/0x8*(parseInt(_0x192615(0x163))/0x9)+parseInt(_0x192615(0x146))/0xa+-parseInt(_0x192615(0x162))/0xb*(-parseInt(_0x192615(0x126))/0xc);if(_0x2c6038===_0xf276a8)break;else _0x1d2247['push'](_0x1d2247['shift']());}catch(_0x301908){_0x1d2247['push'](_0x1d2247['shift']());}}}(a236_0x41ef,0x99967));const a236_0x1f4fe5=(function(){let _0xe2740d=!![];return function(_0xd4d213,_0x155814){const _0x216418=_0xe2740d?function(){const _0x210f7e=a236_0x3074;if(_0x155814){const _0x3a3855=_0x155814[_0x210f7e(0x15e)](_0xd4d213,arguments);return _0x155814=null,_0x3a3855;}}:function(){};return _0xe2740d=![],_0x216418;};}()),a236_0x33c43b=a236_0x1f4fe5(this,function(){const _0x2fae83=a236_0x3074;return a236_0x33c43b[_0x2fae83(0x138)]()[_0x2fae83(0x147)](_0x2fae83(0x16f))[_0x2fae83(0x138)]()[_0x2fae83(0x137)](a236_0x33c43b)[_0x2fae83(0x147)](_0x2fae83(0x16f));});a236_0x33c43b();'use strict';function a236_0x3074(_0x45bf9d,_0x17234d){const _0x249140=a236_0x41ef();return a236_0x3074=function(_0x33c43b,_0x1f4fe5){_0x33c43b=_0x33c43b-0x125;let _0x41efcb=_0x249140[_0x33c43b];return _0x41efcb;},a236_0x3074(_0x45bf9d,_0x17234d);}var __decorate=this&&this[a236_0x4a742b(0x128)]||function(_0x110617,_0x50aa3c,_0x332afb,_0x572888){const _0x566b0f=a236_0x4a742b;var _0x67d6e4=arguments[_0x566b0f(0x12d)],_0x4baddd=_0x67d6e4<0x3?_0x50aa3c:_0x572888===null?_0x572888=Object[_0x566b0f(0x12a)](_0x50aa3c,_0x332afb):_0x572888,_0x2d5844;if(typeof Reflect===_0x566b0f(0x167)&&typeof Reflect['decorate']==='function')_0x4baddd=Reflect[_0x566b0f(0x133)](_0x110617,_0x50aa3c,_0x332afb,_0x572888);else{for(var _0x23ee7c=_0x110617[_0x566b0f(0x12d)]-0x1;_0x23ee7c>=0x0;_0x23ee7c--)if(_0x2d5844=_0x110617[_0x23ee7c])_0x4baddd=(_0x67d6e4<0x3?_0x2d5844(_0x4baddd):_0x67d6e4>0x3?_0x2d5844(_0x50aa3c,_0x332afb,_0x4baddd):_0x2d5844(_0x50aa3c,_0x332afb))||_0x4baddd;}return _0x67d6e4>0x3&&_0x4baddd&&Object[_0x566b0f(0x15b)](_0x50aa3c,_0x332afb,_0x4baddd),_0x4baddd;},__metadata=this&&this[a236_0x4a742b(0x12f)]||function(_0x2d057b,_0x47e61b){const _0x3b4975=a236_0x4a742b;if(typeof Reflect===_0x3b4975(0x167)&&typeof Reflect['metadata']===_0x3b4975(0x14f))return Reflect[_0x3b4975(0x150)](_0x2d057b,_0x47e61b);};Object['defineProperty'](exports,a236_0x4a742b(0x159),{'value':!![]}),exports['SalesforceGitSyncService']=void 0x0;const not_found_error_1=require(a236_0x4a742b(0x144)),typedi_1=require(a236_0x4a742b(0x177)),constants_1=require(a236_0x4a742b(0x140)),queries_1=require(a236_0x4a742b(0x13c)),flosum_naming_utils_1=require(a236_0x4a742b(0x157)),salesforce_query_service_1=require(a236_0x4a742b(0x135)),salesforce_rest_service_1=require(a236_0x4a742b(0x164));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x2aa370,_0x5593b3){const _0x4a1e8e=a236_0x4a742b;this['queryService']=_0x2aa370,this[_0x4a1e8e(0x14a)]=_0x5593b3,this['MAX_QUERY_ARRAY_ITEMS']=0xc8;}[a236_0x4a742b(0x169)](_0x408631){const _0x3bc4c1=a236_0x4a742b,_0x1a15b4=(0x0,flosum_naming_utils_1[_0x3bc4c1(0x149)])(_0x408631,[_0x3bc4c1(0x155),_0x3bc4c1(0x148),_0x3bc4c1(0x13f),'File_Name__c',_0x3bc4c1(0x15f),'Id']);return{'id':_0x1a15b4['Id'],'name':_0x1a15b4[_0x3bc4c1(0x155)],'type':_0x1a15b4[_0x3bc4c1(0x148)],'fileName':_0x1a15b4[_0x3bc4c1(0x131)],'crc32':_0x1a15b4['CRC32__c'],'version':+_0x1a15b4[_0x3bc4c1(0x15f)]};}async[a236_0x4a742b(0x12e)](_0x33c0de){const _0xf198a3=a236_0x4a742b,[_0x54da58]=await this[_0xf198a3(0x151)]['query'](queries_1[_0xf198a3(0x165)][_0xf198a3(0x13e)](_0xf198a3(0x139),_0x33c0de));if(!_0x54da58)throw new not_found_error_1[(_0xf198a3(0x127))](_0xf198a3(0x12b)+_0x33c0de+_0xf198a3(0x176));return _0x54da58['Id'];}async[a236_0x4a742b(0x134)](_0x1b81ae){const _0x5d933c=a236_0x4a742b,[_0x17a58e]=await this['queryService']['query'](queries_1['GET_BRANCH_BY_NAME_QUERY'][_0x5d933c(0x13e)](_0x5d933c(0x139),_0x1b81ae));if(!_0x17a58e)throw new not_found_error_1[(_0x5d933c(0x127))](_0x5d933c(0x14b)+_0x1b81ae+'\x22\x20not\x20found\x20in\x20flosum.');return _0x17a58e['Id'];}async[a236_0x4a742b(0x13a)](){const _0x43babb=a236_0x4a742b,_0x37e0a2=await this[_0x43babb(0x151)]['query'](queries_1[_0x43babb(0x172)]);return _0x37e0a2[_0x43babb(0x15a)](_0x15ab38=>(0x0,flosum_naming_utils_1[_0x43babb(0x149)])(_0x15ab38,['Id','Name']))[_0x43babb(0x15a)](_0x452b21=>({'id':_0x452b21['Id'],'name':_0x452b21['Name']}));}async[a236_0x4a742b(0x145)](_0x54ea90,_0x30aebb){const _0x2de1e5=a236_0x4a742b,_0x33ac32=[];while(_0x54ea90[_0x2de1e5(0x12d)]){const _0x4e0472=queries_1['GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY']['replace'](_0x2de1e5(0x132),_0x54ea90[_0x2de1e5(0x171)](0x0,this[_0x2de1e5(0x125)])['map'](_0x22656e=>'\x27'+_0x22656e+'\x27')[_0x2de1e5(0x12c)](','))['replace']('%repositoryId%',_0x30aebb),_0x498958=await this[_0x2de1e5(0x151)][_0x2de1e5(0x156)](_0x4e0472);_0x33ac32[_0x2de1e5(0x153)](..._0x498958);}return _0x33ac32[_0x2de1e5(0x15a)](_0x4468f0=>this['extractComponentMetadataFromRecord'](_0x4468f0));}async[a236_0x4a742b(0x175)](_0x487efd,_0x1a2d8f){const _0x396ecf=a236_0x4a742b,_0x25006b=[];while(_0x487efd['length']){const _0x4bb048=queries_1[_0x396ecf(0x166)][_0x396ecf(0x13e)](_0x396ecf(0x132),_0x487efd[_0x396ecf(0x171)](0x0,this[_0x396ecf(0x125)])[_0x396ecf(0x15a)](_0x103c69=>'\x27'+_0x103c69+'\x27')[_0x396ecf(0x12c)](','))[_0x396ecf(0x13e)](_0x396ecf(0x130),_0x1a2d8f),_0x32f0bc=await this[_0x396ecf(0x151)]['query'](_0x4bb048);_0x25006b['push'](..._0x32f0bc);}return _0x25006b[_0x396ecf(0x15a)](_0x4f6463=>this[_0x396ecf(0x169)](_0x4f6463));}async['fetchRepositoryComponents'](_0x5d9e2c){const _0x86596=a236_0x4a742b,_0x206192=queries_1[_0x86596(0x16b)][_0x86596(0x13e)](_0x86596(0x14e),_0x5d9e2c),_0x8a774b=await this[_0x86596(0x151)]['query'](_0x206192);return _0x8a774b['map'](_0x3f5a8d=>this[_0x86596(0x169)](_0x3f5a8d));}async[a236_0x4a742b(0x16a)](_0x3aa5c3){const _0x4d50c7=a236_0x4a742b,_0x394bea=queries_1['GET_BRANCH_COMPONENTS_QUERY']['replace'](_0x4d50c7(0x130),_0x3aa5c3),_0x2d2b42=await this[_0x4d50c7(0x151)][_0x4d50c7(0x156)](_0x394bea);return _0x2d2b42[_0x4d50c7(0x15a)](_0x559f42=>this[_0x4d50c7(0x169)](_0x559f42));}async[a236_0x4a742b(0x13d)](_0x2845c7){const _0x42c53d=a236_0x4a742b,_0x5cf251=[..._0x2845c7],_0x7dc681=[];while(_0x5cf251[_0x42c53d(0x12d)]){const _0x554608=queries_1[_0x42c53d(0x14d)][_0x42c53d(0x13e)](_0x42c53d(0x142),_0x5cf251[_0x42c53d(0x171)](0x0,this[_0x42c53d(0x125)])[_0x42c53d(0x15a)](_0x13f83d=>'\x27'+_0x13f83d+'\x27')[_0x42c53d(0x12c)](',')),_0x7ef91=await this[_0x42c53d(0x151)][_0x42c53d(0x156)](_0x554608);_0x7dc681[_0x42c53d(0x153)](..._0x7ef91[_0x42c53d(0x15a)](_0x151337=>_0x151337['Id']));}return _0x7dc681;}async[a236_0x4a742b(0x16d)](_0x10f169,_0x12df50){const _0x5d8635=a236_0x4a742b;return this[_0x5d8635(0x14a)]['post'](constants_1['FLOSUM_COMMIT'],{[constants_1[_0x5d8635(0x168)]+_0x5d8635(0x14c)]:_0x12df50,[constants_1['FLOSUM_NAMESPACE']+_0x5d8635(0x170)]:_0x10f169[_0x5d8635(0x158)](0x0,0xff),[constants_1[_0x5d8635(0x168)]+_0x5d8635(0x136)]:_0x5d8635(0x129),[constants_1[_0x5d8635(0x152)]+_0x5d8635(0x141)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a236_0x4a742b(0x154)])(),__metadata('design:paramtypes',[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a236_0x4a742b(0x161)]])],SalesforceGitSyncService),exports[a236_0x4a742b(0x143)]=SalesforceGitSyncService;function a236_0x41ef(){const _0x45be7c=['%branchId%','File_Name__c','%fileNames%','decorate','getBranchIdByName','./salesforce-query.service','Status__c','constructor','toString','%name%','getComponentRecordTypes','1011352DSOUuc','../queries','fetchCommitManifestsByComponentIds','replace','CRC32__c','../../../../constants','Is_From_Agent__c','%componentIds%','SalesforceGitSyncService','../../../../core/errors/not-found.error','fetchRepositoryComponentsByFilenames','2699880DYppOy','search','Component_Type__c','extractFieldsFromRecord','restService','Branch\x20\x22','Repository__c','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','%repositoryId%','function','metadata','queryService','FLOSUM_GIT_NAMESPACE','push','Service','Component_Name__c','query','../utils/flosum-naming.utils','substr','__esModule','map','defineProperty','215504mUaNHO','4515077vwbgAI','apply','Version__c','4hsQMpM','SalesforceRestService','1348171UUTtGm','72PGOwbp','./salesforce-rest.service','GET_REPOSITORY_BY_NAME_QUERY','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','object','FLOSUM_NAMESPACE','extractComponentMetadataFromRecord','fetchBranchComponents','GET_REPOSITORY_COMPONENTS_QUERY','1927624lCcgxg','createCommit','6eMRdEs','(((.+)+)+)+$','Commit_Name__c','splice','GET_COMPONENT_RECORD_TYPES_QUERY','3bngUDW','5213545sHyUZq','fetchBranchComponentsByFilenames','\x22\x20not\x20found\x20in\x20flosum.','typedi','MAX_QUERY_ARRAY_ITEMS','12HNXztr','NotFoundError','__decorate','Completed','getOwnPropertyDescriptor','Repository\x20\x22','join','length','getRepositoryIdByName','__metadata'];a236_0x41ef=function(){return _0x45be7c;};return a236_0x41ef();}