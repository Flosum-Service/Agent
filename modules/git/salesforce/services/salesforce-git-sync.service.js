const a274_0x27bfb5=a274_0x1984;(function(_0x4d56bc,_0x5d0106){const _0x62c3d1=a274_0x1984,_0x20cd19=_0x4d56bc();while(!![]){try{const _0x3511c4=parseInt(_0x62c3d1(0xa7))/0x1*(parseInt(_0x62c3d1(0xbb))/0x2)+parseInt(_0x62c3d1(0x8f))/0x3*(parseInt(_0x62c3d1(0xc5))/0x4)+-parseInt(_0x62c3d1(0xc0))/0x5+-parseInt(_0x62c3d1(0xbd))/0x6+parseInt(_0x62c3d1(0x9c))/0x7*(-parseInt(_0x62c3d1(0xce))/0x8)+-parseInt(_0x62c3d1(0x9a))/0x9*(-parseInt(_0x62c3d1(0xb8))/0xa)+parseInt(_0x62c3d1(0xc3))/0xb*(parseInt(_0x62c3d1(0xbc))/0xc);if(_0x3511c4===_0x5d0106)break;else _0x20cd19['push'](_0x20cd19['shift']());}catch(_0x1b58f6){_0x20cd19['push'](_0x20cd19['shift']());}}}(a274_0x2833,0x3624c));const a274_0xdac21a=(function(){let _0x443ec4=!![];return function(_0x5e9c50,_0x46636e){const _0x30e883=_0x443ec4?function(){if(_0x46636e){const _0x36ca2c=_0x46636e['apply'](_0x5e9c50,arguments);return _0x46636e=null,_0x36ca2c;}}:function(){};return _0x443ec4=![],_0x30e883;};}()),a274_0x979b1a=a274_0xdac21a(this,function(){const _0xd1ab45=a274_0x1984;return a274_0x979b1a[_0xd1ab45(0x9e)]()['search'](_0xd1ab45(0xca))['toString']()[_0xd1ab45(0xa3)](a274_0x979b1a)[_0xd1ab45(0xc6)](_0xd1ab45(0xca));});function a274_0x2833(){const _0x571b9b=['FLOSUM_GIT_NAMESPACE','./salesforce-rest.service','Version__c','%name%','length','../../../../constants','NotFoundError','45etDRHX','Branch\x20\x22','__metadata','Commit_Name__c','getComponentRecordTypes','getOwnPropertyDescriptor','MAX_QUERY_ARRAY_ITEMS','Component_Name__c','%branchId%','function','design:paramtypes','882syHwUB','Completed','1642942ZRtuBs','replace','toString','%componentIds%','\x22\x20not\x20found\x20in\x20flosum.','GET_COMPONENT_RECORD_TYPES_QUERY','createCommit','constructor','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','splice','7069RbMEiY','queryService','../../../../core/errors/not-found.error','Repository__c','join','GET_BRANCH_COMPONENTS_QUERY','defineProperty','Name','push','Component_Type__c','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','../utils/flosum-naming.utils','__esModule','GET_BRANCH_BY_NAME_QUERY','extractComponentMetadataFromRecord','Service','../queries','9530CuRWdn','substr','extractFieldsFromRecord','50UCVQwe','1063308JFPohs','53748ypNMjS','object','FLOSUM_COMMIT','485130srzJxD','fetchRepositoryComponents','restService','22eljlWk','Is_From_Agent__c','30700kiCSAb','search','query','%repositoryId%','map','(((.+)+)+)+$','metadata','./salesforce-query.service','GET_REPOSITORY_COMPONENTS_QUERY','8yHLOuP','fetchBranchComponents','FLOSUM_NAMESPACE','%fileNames%','__decorate','SalesforceGitSyncService','fetchRepositoryComponentsByFilenames','decorate'];a274_0x2833=function(){return _0x571b9b;};return a274_0x2833();}function a274_0x1984(_0x44a56f,_0x446aa3){const _0x4f7ad0=a274_0x2833();return a274_0x1984=function(_0x979b1a,_0xdac21a){_0x979b1a=_0x979b1a-0x82;let _0x2833ac=_0x4f7ad0[_0x979b1a];return _0x2833ac;},a274_0x1984(_0x44a56f,_0x446aa3);}a274_0x979b1a();'use strict';var __decorate=this&&this[a274_0x27bfb5(0x84)]||function(_0x4d074b,_0x3359c8,_0x2f6a8c,_0x253a2e){const _0x4b7011=a274_0x27bfb5;var _0x133992=arguments[_0x4b7011(0x8c)],_0x3dfcdb=_0x133992<0x3?_0x3359c8:_0x253a2e===null?_0x253a2e=Object[_0x4b7011(0x94)](_0x3359c8,_0x2f6a8c):_0x253a2e,_0x1cb06d;if(typeof Reflect===_0x4b7011(0xbe)&&typeof Reflect[_0x4b7011(0x87)]===_0x4b7011(0x98))_0x3dfcdb=Reflect[_0x4b7011(0x87)](_0x4d074b,_0x3359c8,_0x2f6a8c,_0x253a2e);else{for(var _0x345faf=_0x4d074b[_0x4b7011(0x8c)]-0x1;_0x345faf>=0x0;_0x345faf--)if(_0x1cb06d=_0x4d074b[_0x345faf])_0x3dfcdb=(_0x133992<0x3?_0x1cb06d(_0x3dfcdb):_0x133992>0x3?_0x1cb06d(_0x3359c8,_0x2f6a8c,_0x3dfcdb):_0x1cb06d(_0x3359c8,_0x2f6a8c))||_0x3dfcdb;}return _0x133992>0x3&&_0x3dfcdb&&Object[_0x4b7011(0xad)](_0x3359c8,_0x2f6a8c,_0x3dfcdb),_0x3dfcdb;},__metadata=this&&this[a274_0x27bfb5(0x91)]||function(_0x5b4ed3,_0x39091a){const _0x9305d9=a274_0x27bfb5;if(typeof Reflect==='object'&&typeof Reflect[_0x9305d9(0xcb)]==='function')return Reflect[_0x9305d9(0xcb)](_0x5b4ed3,_0x39091a);};Object[a274_0x27bfb5(0xad)](exports,a274_0x27bfb5(0xb3),{'value':!![]}),exports[a274_0x27bfb5(0x85)]=void 0x0;const not_found_error_1=require(a274_0x27bfb5(0xa9)),typedi_1=require('typedi'),constants_1=require(a274_0x27bfb5(0x8d)),queries_1=require(a274_0x27bfb5(0xb7)),flosum_naming_utils_1=require(a274_0x27bfb5(0xb2)),salesforce_query_service_1=require(a274_0x27bfb5(0xcc)),salesforce_rest_service_1=require(a274_0x27bfb5(0x89));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x24bc56,_0xb49ce2){const _0x3f370c=a274_0x27bfb5;this[_0x3f370c(0xa8)]=_0x24bc56,this[_0x3f370c(0xc2)]=_0xb49ce2,this['MAX_QUERY_ARRAY_ITEMS']=0xc8;}[a274_0x27bfb5(0xb5)](_0x3f705e){const _0x21e01d=a274_0x27bfb5,_0x1f52de=(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x3f705e,[_0x21e01d(0x96),'Component_Type__c','CRC32__c','File_Name__c',_0x21e01d(0x8a),'Id']);return{'id':_0x1f52de['Id'],'name':_0x1f52de[_0x21e01d(0x96)],'type':_0x1f52de[_0x21e01d(0xb0)],'fileName':_0x1f52de['File_Name__c'],'crc32':_0x1f52de['CRC32__c'],'version':+_0x1f52de[_0x21e01d(0x8a)]};}async['getRepositoryIdByName'](_0x14c6e8){const _0x20c6e9=a274_0x27bfb5,[_0x31e9b7]=await this[_0x20c6e9(0xa8)]['query'](queries_1['GET_REPOSITORY_BY_NAME_QUERY'][_0x20c6e9(0x9d)](_0x20c6e9(0x8b),_0x14c6e8));if(!_0x31e9b7)throw new not_found_error_1[(_0x20c6e9(0x8e))]('Repository\x20\x22'+_0x14c6e8+_0x20c6e9(0xa0));return _0x31e9b7['Id'];}async['getBranchIdByName'](_0xff9eb7){const _0x12fc1f=a274_0x27bfb5,[_0x14fa2d]=await this['queryService']['query'](queries_1[_0x12fc1f(0xb4)][_0x12fc1f(0x9d)]('%name%',_0xff9eb7));if(!_0x14fa2d)throw new not_found_error_1[(_0x12fc1f(0x8e))](_0x12fc1f(0x90)+_0xff9eb7+_0x12fc1f(0xa0));return _0x14fa2d['Id'];}async[a274_0x27bfb5(0x93)](){const _0x456f21=a274_0x27bfb5,_0x2abe4d=await this[_0x456f21(0xa8)]['query'](queries_1[_0x456f21(0xa1)]);return _0x2abe4d['map'](_0x30de09=>(0x0,flosum_naming_utils_1[_0x456f21(0xba)])(_0x30de09,['Id','Name']))[_0x456f21(0xc9)](_0x31dd47=>({'id':_0x31dd47['Id'],'name':_0x31dd47[_0x456f21(0xae)]}));}async[a274_0x27bfb5(0x86)](_0x597b38,_0x454f85){const _0x5a339f=a274_0x27bfb5,_0xe1a369=[];while(_0x597b38['length']){const _0x2b879f=queries_1[_0x5a339f(0xa5)]['replace'](_0x5a339f(0x83),_0x597b38[_0x5a339f(0xa6)](0x0,this[_0x5a339f(0x95)])[_0x5a339f(0xc9)](_0x2300cd=>'\x27'+_0x2300cd+'\x27')[_0x5a339f(0xab)](','))['replace'](_0x5a339f(0xc8),_0x454f85),_0x4ef362=await this[_0x5a339f(0xa8)][_0x5a339f(0xc7)](_0x2b879f);_0xe1a369[_0x5a339f(0xaf)](..._0x4ef362);}return _0xe1a369[_0x5a339f(0xc9)](_0x3996bd=>this[_0x5a339f(0xb5)](_0x3996bd));}async['fetchBranchComponentsByFilenames'](_0xc49850,_0x248990){const _0x3afbcc=a274_0x27bfb5,_0x518a92=[];while(_0xc49850[_0x3afbcc(0x8c)]){const _0x5b26d7=queries_1[_0x3afbcc(0xb1)][_0x3afbcc(0x9d)](_0x3afbcc(0x83),_0xc49850['splice'](0x0,this[_0x3afbcc(0x95)])[_0x3afbcc(0xc9)](_0x432ced=>'\x27'+_0x432ced+'\x27')['join'](','))[_0x3afbcc(0x9d)](_0x3afbcc(0x97),_0x248990),_0x5e0d28=await this[_0x3afbcc(0xa8)][_0x3afbcc(0xc7)](_0x5b26d7);_0x518a92[_0x3afbcc(0xaf)](..._0x5e0d28);}return _0x518a92[_0x3afbcc(0xc9)](_0x429189=>this[_0x3afbcc(0xb5)](_0x429189));}async[a274_0x27bfb5(0xc1)](_0x18ca4b){const _0x144d06=a274_0x27bfb5,_0x1733d7=queries_1[_0x144d06(0xcd)]['replace'](_0x144d06(0xc8),_0x18ca4b),_0x48731e=await this[_0x144d06(0xa8)][_0x144d06(0xc7)](_0x1733d7);return _0x48731e[_0x144d06(0xc9)](_0x13e7e7=>this[_0x144d06(0xb5)](_0x13e7e7));}async[a274_0x27bfb5(0xcf)](_0x3d89d1){const _0x5cd915=a274_0x27bfb5,_0x16882b=queries_1[_0x5cd915(0xac)][_0x5cd915(0x9d)](_0x5cd915(0x97),_0x3d89d1),_0x23e951=await this[_0x5cd915(0xa8)]['query'](_0x16882b);return _0x23e951[_0x5cd915(0xc9)](_0x5f43fa=>this[_0x5cd915(0xb5)](_0x5f43fa));}async['fetchCommitManifestsByComponentIds'](_0x127619){const _0x4968e4=a274_0x27bfb5,_0x1a23e6=[..._0x127619],_0x396eb1=[];while(_0x1a23e6['length']){const _0x290fdd=queries_1[_0x4968e4(0xa4)][_0x4968e4(0x9d)](_0x4968e4(0x9f),_0x1a23e6[_0x4968e4(0xa6)](0x0,this[_0x4968e4(0x95)])[_0x4968e4(0xc9)](_0x1d61bd=>'\x27'+_0x1d61bd+'\x27')['join'](',')),_0xc97a2a=await this[_0x4968e4(0xa8)][_0x4968e4(0xc7)](_0x290fdd);_0x396eb1[_0x4968e4(0xaf)](..._0xc97a2a[_0x4968e4(0xc9)](_0x1d27da=>_0x1d27da['Id']));}return _0x396eb1;}async[a274_0x27bfb5(0xa2)](_0x2a989b,_0x350215){const _0x1fdb2f=a274_0x27bfb5;return this[_0x1fdb2f(0xc2)]['post'](constants_1[_0x1fdb2f(0xbf)],{[constants_1['FLOSUM_NAMESPACE']+_0x1fdb2f(0xaa)]:_0x350215,[constants_1[_0x1fdb2f(0x82)]+_0x1fdb2f(0x92)]:_0x2a989b[_0x1fdb2f(0xb9)](0x0,0xff),[constants_1[_0x1fdb2f(0x82)]+'Status__c']:_0x1fdb2f(0x9b),[constants_1[_0x1fdb2f(0x88)]+_0x1fdb2f(0xc4)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a274_0x27bfb5(0xb6)])(),__metadata(a274_0x27bfb5(0x99),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1['SalesforceRestService']])],SalesforceGitSyncService),exports[a274_0x27bfb5(0x85)]=SalesforceGitSyncService;