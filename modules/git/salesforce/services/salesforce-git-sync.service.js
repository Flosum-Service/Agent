function a236_0xa2c5(){const _0x390de1=['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','GET_BRANCH_BY_NAME_QUERY','../utils/flosum-naming.utils','push','724899ZhJRwO','../../../../core/errors/not-found.error','62280HpuoNU','12kQDTGp','(((.+)+)+)+$','splice','GET_BRANCH_COMPONENTS_QUERY','fetchBranchComponents','\x22\x20not\x20found\x20in\x20flosum.','decorate','join','metadata','GET_REPOSITORY_BY_NAME_QUERY','query','Repository\x20\x22','./salesforce-rest.service','1005102hjKomo','File_Name__c','function','%name%','apply','__decorate','length','getComponentRecordTypes','replace','%fileNames%','Component_Name__c','map','extractComponentMetadataFromRecord','fetchRepositoryComponents','NotFoundError','getBranchIdByName','restService','354785onkZID','Name','fetchCommitManifestsByComponentIds','toString','fetchRepositoryComponentsByFilenames','1031193yBieOK','constructor','getRepositoryIdByName','Component_Type__c','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','CRC32__c','10bLBgCq','Version__c','MAX_QUERY_ARRAY_ITEMS','5489UncejF','search','fetchBranchComponentsByFilenames','createCommit','2NBbcCA','Branch\x20\x22','%repositoryId%','__esModule','extractFieldsFromRecord','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','defineProperty','typedi','16JvyYaP','GET_COMPONENT_RECORD_TYPES_QUERY','Status__c','SalesforceGitSyncService','SalesforceQueryService','1587179RvJhes','Is_From_Agent__c','%branchId%','design:paramtypes','post','FLOSUM_GIT_NAMESPACE','FLOSUM_NAMESPACE','getOwnPropertyDescriptor','queryService','Completed','object'];a236_0xa2c5=function(){return _0x390de1;};return a236_0xa2c5();}const a236_0x565fc3=a236_0x3ebb;function a236_0x3ebb(_0x1bfb33,_0x5363f9){const _0xf35d6b=a236_0xa2c5();return a236_0x3ebb=function(_0x4f5681,_0x3589ea){_0x4f5681=_0x4f5681-0x182;let _0xa2c520=_0xf35d6b[_0x4f5681];return _0xa2c520;},a236_0x3ebb(_0x1bfb33,_0x5363f9);}(function(_0x4ebbd6,_0x3374e2){const _0x171dfd=a236_0x3ebb,_0x20244e=_0x4ebbd6();while(!![]){try{const _0x17b28d=-parseInt(_0x171dfd(0x1a1))/0x1*(-parseInt(_0x171dfd(0x1a5))/0x2)+parseInt(_0x171dfd(0x1c3))/0x3+-parseInt(_0x171dfd(0x1c4))/0x4*(parseInt(_0x171dfd(0x193))/0x5)+-parseInt(_0x171dfd(0x182))/0x6+parseInt(_0x171dfd(0x1c1))/0x7+-parseInt(_0x171dfd(0x1ad))/0x8*(-parseInt(_0x171dfd(0x198))/0x9)+-parseInt(_0x171dfd(0x19e))/0xa*(-parseInt(_0x171dfd(0x1b2))/0xb);if(_0x17b28d===_0x3374e2)break;else _0x20244e['push'](_0x20244e['shift']());}catch(_0x592662){_0x20244e['push'](_0x20244e['shift']());}}}(a236_0xa2c5,0x1dfed));const a236_0x3589ea=(function(){let _0x12c6e4=!![];return function(_0x4191b4,_0x7f09d7){const _0x257bec=_0x12c6e4?function(){const _0x4d7e65=a236_0x3ebb;if(_0x7f09d7){const _0x86632c=_0x7f09d7[_0x4d7e65(0x186)](_0x4191b4,arguments);return _0x7f09d7=null,_0x86632c;}}:function(){};return _0x12c6e4=![],_0x257bec;};}()),a236_0x4f5681=a236_0x3589ea(this,function(){const _0x16dc22=a236_0x3ebb;return a236_0x4f5681[_0x16dc22(0x196)]()[_0x16dc22(0x1a2)](_0x16dc22(0x1c5))[_0x16dc22(0x196)]()[_0x16dc22(0x199)](a236_0x4f5681)[_0x16dc22(0x1a2)](_0x16dc22(0x1c5));});a236_0x4f5681();'use strict';var __decorate=this&&this[a236_0x565fc3(0x187)]||function(_0x354358,_0x12b4d3,_0xcef69c,_0x3a7333){const _0x4425d7=a236_0x565fc3;var _0xcda3ed=arguments[_0x4425d7(0x188)],_0x211dbd=_0xcda3ed<0x3?_0x12b4d3:_0x3a7333===null?_0x3a7333=Object[_0x4425d7(0x1b9)](_0x12b4d3,_0xcef69c):_0x3a7333,_0x29a585;if(typeof Reflect===_0x4425d7(0x1bc)&&typeof Reflect['decorate']===_0x4425d7(0x184))_0x211dbd=Reflect[_0x4425d7(0x1ca)](_0x354358,_0x12b4d3,_0xcef69c,_0x3a7333);else{for(var _0x855e3b=_0x354358[_0x4425d7(0x188)]-0x1;_0x855e3b>=0x0;_0x855e3b--)if(_0x29a585=_0x354358[_0x855e3b])_0x211dbd=(_0xcda3ed<0x3?_0x29a585(_0x211dbd):_0xcda3ed>0x3?_0x29a585(_0x12b4d3,_0xcef69c,_0x211dbd):_0x29a585(_0x12b4d3,_0xcef69c))||_0x211dbd;}return _0xcda3ed>0x3&&_0x211dbd&&Object['defineProperty'](_0x12b4d3,_0xcef69c,_0x211dbd),_0x211dbd;},__metadata=this&&this['__metadata']||function(_0x43d633,_0x1b55d1){const _0x2298f2=a236_0x565fc3;if(typeof Reflect===_0x2298f2(0x1bc)&&typeof Reflect[_0x2298f2(0x1cc)]==='function')return Reflect[_0x2298f2(0x1cc)](_0x43d633,_0x1b55d1);};Object[a236_0x565fc3(0x1ab)](exports,a236_0x565fc3(0x1a8),{'value':!![]}),exports[a236_0x565fc3(0x1b0)]=void 0x0;const not_found_error_1=require(a236_0x565fc3(0x1c2)),typedi_1=require(a236_0x565fc3(0x1ac)),constants_1=require('../../../../constants'),queries_1=require('../queries'),flosum_naming_utils_1=require(a236_0x565fc3(0x1bf)),salesforce_query_service_1=require('./salesforce-query.service'),salesforce_rest_service_1=require(a236_0x565fc3(0x1d0));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x4e32ef,_0x37ad25){const _0x419bae=a236_0x565fc3;this[_0x419bae(0x1ba)]=_0x4e32ef,this['restService']=_0x37ad25,this[_0x419bae(0x1a0)]=0xc8;}['extractComponentMetadataFromRecord'](_0x42af31){const _0x1a88d0=a236_0x565fc3,_0x53f665=(0x0,flosum_naming_utils_1[_0x1a88d0(0x1a9)])(_0x42af31,['Component_Name__c',_0x1a88d0(0x19b),_0x1a88d0(0x19d),_0x1a88d0(0x183),_0x1a88d0(0x19f),'Id']);return{'id':_0x53f665['Id'],'name':_0x53f665[_0x1a88d0(0x18c)],'type':_0x53f665[_0x1a88d0(0x19b)],'fileName':_0x53f665[_0x1a88d0(0x183)],'crc32':_0x53f665[_0x1a88d0(0x19d)],'version':+_0x53f665['Version__c']};}async[a236_0x565fc3(0x19a)](_0x4b7e60){const _0x277e6f=a236_0x565fc3,[_0x3941ad]=await this[_0x277e6f(0x1ba)][_0x277e6f(0x1ce)](queries_1[_0x277e6f(0x1cd)]['replace'](_0x277e6f(0x185),_0x4b7e60));if(!_0x3941ad)throw new not_found_error_1['NotFoundError'](_0x277e6f(0x1cf)+_0x4b7e60+_0x277e6f(0x1c9));return _0x3941ad['Id'];}async[a236_0x565fc3(0x191)](_0x276f18){const _0x37ff84=a236_0x565fc3,[_0x50be1c]=await this[_0x37ff84(0x1ba)][_0x37ff84(0x1ce)](queries_1[_0x37ff84(0x1be)]['replace'](_0x37ff84(0x185),_0x276f18));if(!_0x50be1c)throw new not_found_error_1[(_0x37ff84(0x190))](_0x37ff84(0x1a6)+_0x276f18+_0x37ff84(0x1c9));return _0x50be1c['Id'];}async[a236_0x565fc3(0x189)](){const _0x2f36c8=a236_0x565fc3,_0x2b471a=await this['queryService'][_0x2f36c8(0x1ce)](queries_1[_0x2f36c8(0x1ae)]);return _0x2b471a['map'](_0x9b6a05=>(0x0,flosum_naming_utils_1[_0x2f36c8(0x1a9)])(_0x9b6a05,['Id',_0x2f36c8(0x194)]))['map'](_0x3f831d=>({'id':_0x3f831d['Id'],'name':_0x3f831d[_0x2f36c8(0x194)]}));}async[a236_0x565fc3(0x197)](_0x6e915f,_0x1556e1){const _0x583b77=a236_0x565fc3,_0x22233e=[];while(_0x6e915f[_0x583b77(0x188)]){const _0x313057=queries_1[_0x583b77(0x1aa)][_0x583b77(0x18a)](_0x583b77(0x18b),_0x6e915f[_0x583b77(0x1c6)](0x0,this[_0x583b77(0x1a0)])['map'](_0x587265=>'\x27'+_0x587265+'\x27')[_0x583b77(0x1cb)](','))[_0x583b77(0x18a)](_0x583b77(0x1a7),_0x1556e1),_0x574833=await this[_0x583b77(0x1ba)][_0x583b77(0x1ce)](_0x313057);_0x22233e[_0x583b77(0x1c0)](..._0x574833);}return _0x22233e['map'](_0x13bd09=>this['extractComponentMetadataFromRecord'](_0x13bd09));}async[a236_0x565fc3(0x1a3)](_0x649a00,_0x15268d){const _0x458324=a236_0x565fc3,_0x3e15e3=[];while(_0x649a00[_0x458324(0x188)]){const _0x10545d=queries_1[_0x458324(0x19c)][_0x458324(0x18a)](_0x458324(0x18b),_0x649a00['splice'](0x0,this[_0x458324(0x1a0)])['map'](_0xf6ca89=>'\x27'+_0xf6ca89+'\x27')['join'](','))['replace'](_0x458324(0x1b4),_0x15268d),_0xe26401=await this[_0x458324(0x1ba)]['query'](_0x10545d);_0x3e15e3[_0x458324(0x1c0)](..._0xe26401);}return _0x3e15e3['map'](_0x2e8763=>this['extractComponentMetadataFromRecord'](_0x2e8763));}async[a236_0x565fc3(0x18f)](_0x1af9c1){const _0x4a8db0=a236_0x565fc3,_0xcd339b=queries_1['GET_REPOSITORY_COMPONENTS_QUERY']['replace'](_0x4a8db0(0x1a7),_0x1af9c1),_0x232368=await this['queryService'][_0x4a8db0(0x1ce)](_0xcd339b);return _0x232368[_0x4a8db0(0x18d)](_0x52b6a5=>this[_0x4a8db0(0x18e)](_0x52b6a5));}async[a236_0x565fc3(0x1c8)](_0x26cc73){const _0x2dd4b4=a236_0x565fc3,_0x5eb2cc=queries_1[_0x2dd4b4(0x1c7)][_0x2dd4b4(0x18a)](_0x2dd4b4(0x1b4),_0x26cc73),_0xc8aa28=await this[_0x2dd4b4(0x1ba)][_0x2dd4b4(0x1ce)](_0x5eb2cc);return _0xc8aa28[_0x2dd4b4(0x18d)](_0xa67ac6=>this[_0x2dd4b4(0x18e)](_0xa67ac6));}async[a236_0x565fc3(0x195)](_0x34d837){const _0x185da8=a236_0x565fc3,_0x150d37=[..._0x34d837],_0x268184=[];while(_0x150d37[_0x185da8(0x188)]){const _0x3c671e=queries_1[_0x185da8(0x1bd)][_0x185da8(0x18a)]('%componentIds%',_0x150d37[_0x185da8(0x1c6)](0x0,this[_0x185da8(0x1a0)])['map'](_0x432e43=>'\x27'+_0x432e43+'\x27')[_0x185da8(0x1cb)](',')),_0x1ce4d4=await this['queryService'][_0x185da8(0x1ce)](_0x3c671e);_0x268184[_0x185da8(0x1c0)](..._0x1ce4d4['map'](_0x65d277=>_0x65d277['Id']));}return _0x268184;}async[a236_0x565fc3(0x1a4)](_0x1acede,_0x1132c3){const _0x124abb=a236_0x565fc3;return this[_0x124abb(0x192)][_0x124abb(0x1b6)](constants_1['FLOSUM_COMMIT'],{[constants_1[_0x124abb(0x1b8)]+'Repository__c']:_0x1132c3,[constants_1[_0x124abb(0x1b8)]+'Commit_Name__c']:_0x1acede['substr'](0x0,0xff),[constants_1[_0x124abb(0x1b8)]+_0x124abb(0x1af)]:_0x124abb(0x1bb),[constants_1[_0x124abb(0x1b7)]+_0x124abb(0x1b3)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata(a236_0x565fc3(0x1b5),[salesforce_query_service_1[a236_0x565fc3(0x1b1)],salesforce_rest_service_1['SalesforceRestService']])],SalesforceGitSyncService),exports['SalesforceGitSyncService']=SalesforceGitSyncService;