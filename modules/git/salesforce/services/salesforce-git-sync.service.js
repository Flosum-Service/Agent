function a275_0x1442(_0x2932fb,_0x1d0ba2){const _0xa2b2b5=a275_0x5e04();return a275_0x1442=function(_0x4e22da,_0x89b103){_0x4e22da=_0x4e22da-0x142;let _0x5e0483=_0xa2b2b5[_0x4e22da];return _0x5e0483;},a275_0x1442(_0x2932fb,_0x1d0ba2);}const a275_0x51b606=a275_0x1442;(function(_0x449a99,_0x4b86b8){const _0x162aa3=a275_0x1442,_0xc1fc4=_0x449a99();while(!![]){try{const _0x1096b3=-parseInt(_0x162aa3(0x174))/0x1+-parseInt(_0x162aa3(0x176))/0x2+-parseInt(_0x162aa3(0x155))/0x3+-parseInt(_0x162aa3(0x154))/0x4*(-parseInt(_0x162aa3(0x18b))/0x5)+-parseInt(_0x162aa3(0x159))/0x6+parseInt(_0x162aa3(0x169))/0x7+parseInt(_0x162aa3(0x15e))/0x8*(parseInt(_0x162aa3(0x15d))/0x9);if(_0x1096b3===_0x4b86b8)break;else _0xc1fc4['push'](_0xc1fc4['shift']());}catch(_0x3465c6){_0xc1fc4['push'](_0xc1fc4['shift']());}}}(a275_0x5e04,0xbf102));const a275_0x89b103=(function(){let _0x3c433c=!![];return function(_0xfca89d,_0x55882d){const _0x1c1fc0=_0x3c433c?function(){const _0x3e97cd=a275_0x1442;if(_0x55882d){const _0x1812a2=_0x55882d[_0x3e97cd(0x183)](_0xfca89d,arguments);return _0x55882d=null,_0x1812a2;}}:function(){};return _0x3c433c=![],_0x1c1fc0;};}()),a275_0x4e22da=a275_0x89b103(this,function(){const _0x42a780=a275_0x1442;return a275_0x4e22da['toString']()[_0x42a780(0x147)](_0x42a780(0x161))[_0x42a780(0x17d)]()['constructor'](a275_0x4e22da)[_0x42a780(0x147)]('(((.+)+)+)+$');});a275_0x4e22da();'use strict';var __decorate=this&&this[a275_0x51b606(0x16e)]||function(_0x32f708,_0x59d166,_0xe633e5,_0x440452){const _0x5cb671=a275_0x51b606;var _0x166a58=arguments[_0x5cb671(0x178)],_0xe04d93=_0x166a58<0x3?_0x59d166:_0x440452===null?_0x440452=Object['getOwnPropertyDescriptor'](_0x59d166,_0xe633e5):_0x440452,_0x494a36;if(typeof Reflect==='object'&&typeof Reflect[_0x5cb671(0x145)]===_0x5cb671(0x14a))_0xe04d93=Reflect['decorate'](_0x32f708,_0x59d166,_0xe633e5,_0x440452);else{for(var _0x4269c4=_0x32f708[_0x5cb671(0x178)]-0x1;_0x4269c4>=0x0;_0x4269c4--)if(_0x494a36=_0x32f708[_0x4269c4])_0xe04d93=(_0x166a58<0x3?_0x494a36(_0xe04d93):_0x166a58>0x3?_0x494a36(_0x59d166,_0xe633e5,_0xe04d93):_0x494a36(_0x59d166,_0xe633e5))||_0xe04d93;}return _0x166a58>0x3&&_0xe04d93&&Object[_0x5cb671(0x187)](_0x59d166,_0xe633e5,_0xe04d93),_0xe04d93;},__metadata=this&&this[a275_0x51b606(0x162)]||function(_0x3f2461,_0x3c82f0){const _0x5998e1=a275_0x51b606;if(typeof Reflect==='object'&&typeof Reflect[_0x5998e1(0x170)]===_0x5998e1(0x14a))return Reflect[_0x5998e1(0x170)](_0x3f2461,_0x3c82f0);};Object[a275_0x51b606(0x187)](exports,a275_0x51b606(0x156),{'value':!![]}),exports[a275_0x51b606(0x188)]=void 0x0;const not_found_error_1=require('../../../../core/errors/not-found.error'),typedi_1=require(a275_0x51b606(0x172)),constants_1=require('../../../../constants'),queries_1=require(a275_0x51b606(0x16a)),flosum_naming_utils_1=require(a275_0x51b606(0x173)),salesforce_query_service_1=require('./salesforce-query.service'),salesforce_rest_service_1=require(a275_0x51b606(0x152));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0xf7014b,_0x4d6020){const _0x1cb400=a275_0x51b606;this[_0x1cb400(0x182)]=_0xf7014b,this['restService']=_0x4d6020,this[_0x1cb400(0x180)]=0xc8;}['extractComponentMetadataFromRecord'](_0x10cc45){const _0x17ad66=a275_0x51b606,_0x28bfe2=(0x0,flosum_naming_utils_1[_0x17ad66(0x17b)])(_0x10cc45,['Component_Name__c',_0x17ad66(0x144),'CRC32__c',_0x17ad66(0x18a),_0x17ad66(0x160),'Id']);return{'id':_0x28bfe2['Id'],'name':_0x28bfe2[_0x17ad66(0x146)],'type':_0x28bfe2[_0x17ad66(0x144)],'fileName':_0x28bfe2[_0x17ad66(0x18a)],'crc32':_0x28bfe2[_0x17ad66(0x181)],'version':+_0x28bfe2['Version__c']};}async[a275_0x51b606(0x17f)](_0x457b9a){const _0x8f4e83=a275_0x51b606,[_0x3c1d1b]=await this[_0x8f4e83(0x182)][_0x8f4e83(0x184)](queries_1[_0x8f4e83(0x186)]['replace']('%name%',_0x457b9a));if(!_0x3c1d1b)throw new not_found_error_1[(_0x8f4e83(0x168))]('Repository\x20\x22'+_0x457b9a+'\x22\x20not\x20found\x20in\x20flosum.');return _0x3c1d1b['Id'];}async[a275_0x51b606(0x15a)](_0x1b18fb){const _0x5b7c4b=a275_0x51b606,[_0x1de1cb]=await this[_0x5b7c4b(0x182)]['query'](queries_1[_0x5b7c4b(0x14b)]['replace'](_0x5b7c4b(0x16c),_0x1b18fb));if(!_0x1de1cb)throw new not_found_error_1['NotFoundError']('Branch\x20\x22'+_0x1b18fb+_0x5b7c4b(0x153));return _0x1de1cb['Id'];}async['getComponentRecordTypes'](){const _0x46acd5=a275_0x51b606,_0x56e6f7=await this[_0x46acd5(0x182)][_0x46acd5(0x184)](queries_1[_0x46acd5(0x171)]);return _0x56e6f7['map'](_0x58376c=>(0x0,flosum_naming_utils_1[_0x46acd5(0x17b)])(_0x58376c,['Id',_0x46acd5(0x14f)]))['map'](_0x1f8c1c=>({'id':_0x1f8c1c['Id'],'name':_0x1f8c1c[_0x46acd5(0x14f)]}));}async[a275_0x51b606(0x175)](_0x4a1072,_0x2b9bc3){const _0x57b205=a275_0x51b606,_0x1f92b3=[];while(_0x4a1072[_0x57b205(0x178)]){const _0x570d42=queries_1[_0x57b205(0x164)][_0x57b205(0x157)](_0x57b205(0x165),_0x4a1072[_0x57b205(0x189)](0x0,this[_0x57b205(0x180)])[_0x57b205(0x143)](_0xa6e0d6=>'\x27'+_0xa6e0d6+'\x27')[_0x57b205(0x15f)](','))[_0x57b205(0x157)](_0x57b205(0x177),_0x2b9bc3),_0x47aa2b=await this['queryService'][_0x57b205(0x184)](_0x570d42);_0x1f92b3[_0x57b205(0x150)](..._0x47aa2b);}return _0x1f92b3[_0x57b205(0x143)](_0x54c099=>this[_0x57b205(0x148)](_0x54c099));}async[a275_0x51b606(0x16f)](_0xbd7242,_0x613a98){const _0x339f9b=a275_0x51b606,_0x21dcdb=[];while(_0xbd7242[_0x339f9b(0x178)]){const _0x3b5ab3=queries_1['GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY'][_0x339f9b(0x157)](_0x339f9b(0x165),_0xbd7242[_0x339f9b(0x189)](0x0,this[_0x339f9b(0x180)])[_0x339f9b(0x143)](_0x7a26b3=>'\x27'+_0x7a26b3+'\x27')[_0x339f9b(0x15f)](','))[_0x339f9b(0x157)](_0x339f9b(0x179),_0x613a98),_0x2fc996=await this[_0x339f9b(0x182)]['query'](_0x3b5ab3);_0x21dcdb[_0x339f9b(0x150)](..._0x2fc996);}return _0x21dcdb['map'](_0x266770=>this[_0x339f9b(0x148)](_0x266770));}async[a275_0x51b606(0x142)](_0x1f6a32){const _0x256f9d=a275_0x51b606,_0x403076=queries_1['GET_REPOSITORY_COMPONENTS_QUERY'][_0x256f9d(0x157)](_0x256f9d(0x177),_0x1f6a32),_0x2cb38a=await this[_0x256f9d(0x182)][_0x256f9d(0x184)](_0x403076);return _0x2cb38a[_0x256f9d(0x143)](_0x19c4be=>this[_0x256f9d(0x148)](_0x19c4be));}async[a275_0x51b606(0x16d)](_0x4ff2eb){const _0x481205=a275_0x51b606,_0x3b755a=queries_1[_0x481205(0x14e)]['replace'](_0x481205(0x179),_0x4ff2eb),_0x3e8241=await this['queryService']['query'](_0x3b755a);return _0x3e8241[_0x481205(0x143)](_0x17b940=>this[_0x481205(0x148)](_0x17b940));}async[a275_0x51b606(0x15c)](_0x2174e9){const _0x32e6b7=a275_0x51b606,_0x51e01b=[..._0x2174e9],_0x1ceb90=[];while(_0x51e01b[_0x32e6b7(0x178)]){const _0x49056f=queries_1[_0x32e6b7(0x16b)][_0x32e6b7(0x157)](_0x32e6b7(0x166),_0x51e01b[_0x32e6b7(0x189)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x32e6b7(0x143)](_0x500fda=>'\x27'+_0x500fda+'\x27')[_0x32e6b7(0x15f)](',')),_0x539742=await this[_0x32e6b7(0x182)][_0x32e6b7(0x184)](_0x49056f);_0x1ceb90['push'](..._0x539742[_0x32e6b7(0x143)](_0x308946=>_0x308946['Id']));}return _0x1ceb90;}async[a275_0x51b606(0x163)](_0x19b758,_0xec2d3){const _0x1f43f9=a275_0x51b606;return this[_0x1f43f9(0x149)]['post'](constants_1['FLOSUM_COMMIT'],{[constants_1['FLOSUM_NAMESPACE']+_0x1f43f9(0x15b)]:_0xec2d3,[constants_1['FLOSUM_NAMESPACE']+_0x1f43f9(0x158)]:_0x19b758[_0x1f43f9(0x185)](0x0,0xff),[constants_1[_0x1f43f9(0x17a)]+_0x1f43f9(0x17e)]:_0x1f43f9(0x14c),[constants_1[_0x1f43f9(0x167)]+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1[a275_0x51b606(0x18c)])(),__metadata(a275_0x51b606(0x14d),[salesforce_query_service_1[a275_0x51b606(0x151)],salesforce_rest_service_1[a275_0x51b606(0x17c)]])],SalesforceGitSyncService),exports[a275_0x51b606(0x188)]=SalesforceGitSyncService;function a275_0x5e04(){const _0x38ed2d=['Completed','design:paramtypes','GET_BRANCH_COMPONENTS_QUERY','Name','push','SalesforceQueryService','./salesforce-rest.service','\x22\x20not\x20found\x20in\x20flosum.','4oErFZZ','4445310coTOkg','__esModule','replace','Commit_Name__c','3523158Kjorra','getBranchIdByName','Repository__c','fetchCommitManifestsByComponentIds','23999265jpkstq','8EQBpKL','join','Version__c','(((.+)+)+)+$','__metadata','createCommit','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','%fileNames%','%componentIds%','FLOSUM_GIT_NAMESPACE','NotFoundError','9401084wLVRss','../queries','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','%name%','fetchBranchComponents','__decorate','fetchBranchComponentsByFilenames','metadata','GET_COMPONENT_RECORD_TYPES_QUERY','typedi','../utils/flosum-naming.utils','538500dGzxak','fetchRepositoryComponentsByFilenames','1611462iPmwBc','%repositoryId%','length','%branchId%','FLOSUM_NAMESPACE','extractFieldsFromRecord','SalesforceRestService','toString','Status__c','getRepositoryIdByName','MAX_QUERY_ARRAY_ITEMS','CRC32__c','queryService','apply','query','substr','GET_REPOSITORY_BY_NAME_QUERY','defineProperty','SalesforceGitSyncService','splice','File_Name__c','930955EtNgAK','Service','fetchRepositoryComponents','map','Component_Type__c','decorate','Component_Name__c','search','extractComponentMetadataFromRecord','restService','function','GET_BRANCH_BY_NAME_QUERY'];a275_0x5e04=function(){return _0x38ed2d;};return a275_0x5e04();}