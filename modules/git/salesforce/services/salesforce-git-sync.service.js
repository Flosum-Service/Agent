function a236_0xad89(){const _0x38cb4d=['Is_From_Agent__c','createCommit','GET_BRANCH_BY_NAME_QUERY','typedi','%name%','6281470fMBtlj','__esModule','../queries','substr','SalesforceRestService','toString','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','splice','defineProperty','map','decorate','38yalUts','Status__c','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','Branch\x20\x22','16iCMTzj','apply','%branchId%','FLOSUM_GIT_NAMESPACE','./salesforce-rest.service','Component_Type__c','5816760AepgFf','386300ncBbyP','\x22\x20not\x20found\x20in\x20flosum.','6737003DkMhMz','getComponentRecordTypes','%fileNames%','%repositoryId%','Name','../../../../constants','post','fetchBranchComponentsByFilenames','36455397pxMmZv','GET_REPOSITORY_BY_NAME_QUERY','getRepositoryIdByName','constructor','join','Version__c','SalesforceGitSyncService','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','replace','length','1407533PxvYvV','198oMnIzH','metadata','getOwnPropertyDescriptor','Component_Name__c','fetchRepositoryComponentsByFilenames','./salesforce-query.service','197502jOHoEe','4nvLsJb','CRC32__c','queryService','function','GET_BRANCH_COMPONENTS_QUERY','NotFoundError','push','MAX_QUERY_ARRAY_ITEMS','search','Repository\x20\x22','../utils/flosum-naming.utils','Commit_Name__c','getBranchIdByName','extractComponentMetadataFromRecord','FLOSUM_COMMIT','restService','fetchCommitManifestsByComponentIds','fetchRepositoryComponents','GET_COMPONENT_RECORD_TYPES_QUERY','FLOSUM_NAMESPACE','query','File_Name__c','extractFieldsFromRecord'];a236_0xad89=function(){return _0x38cb4d;};return a236_0xad89();}const a236_0x42ac06=a236_0x419b;(function(_0x4c13c5,_0x5d4b28){const _0x5966a2=a236_0x419b,_0xcd5394=_0x4c13c5();while(!![]){try{const _0x281ea7=parseInt(_0x5966a2(0x23c))/0x1+-parseInt(_0x5966a2(0x21d))/0x2*(parseInt(_0x5966a2(0x1f5))/0x3)+-parseInt(_0x5966a2(0x1f6))/0x4*(-parseInt(_0x5966a2(0x212))/0x5)+-parseInt(_0x5966a2(0x227))/0x6+parseInt(_0x5966a2(0x22a))/0x7*(-parseInt(_0x5966a2(0x221))/0x8)+-parseInt(_0x5966a2(0x23d))/0x9*(parseInt(_0x5966a2(0x228))/0xa)+parseInt(_0x5966a2(0x232))/0xb;if(_0x281ea7===_0x5d4b28)break;else _0xcd5394['push'](_0xcd5394['shift']());}catch(_0x297ce4){_0xcd5394['push'](_0xcd5394['shift']());}}}(a236_0xad89,0xeff92));const a236_0x5334f1=(function(){let _0x2c1261=!![];return function(_0x542c55,_0x5b86b8){const _0x43abdb=_0x2c1261?function(){const _0x280319=a236_0x419b;if(_0x5b86b8){const _0x562483=_0x5b86b8[_0x280319(0x222)](_0x542c55,arguments);return _0x5b86b8=null,_0x562483;}}:function(){};return _0x2c1261=![],_0x43abdb;};}()),a236_0x15403a=a236_0x5334f1(this,function(){const _0x5546ed=a236_0x419b;return a236_0x15403a[_0x5546ed(0x217)]()['search']('(((.+)+)+)+$')[_0x5546ed(0x217)]()[_0x5546ed(0x235)](a236_0x15403a)[_0x5546ed(0x1fe)]('(((.+)+)+)+$');});a236_0x15403a();'use strict';var __decorate=this&&this['__decorate']||function(_0x4ca315,_0x111987,_0x1148eb,_0x447712){const _0x138c94=a236_0x419b;var _0x467c62=arguments['length'],_0x3f98b6=_0x467c62<0x3?_0x111987:_0x447712===null?_0x447712=Object[_0x138c94(0x1f1)](_0x111987,_0x1148eb):_0x447712,_0x3f8a21;if(typeof Reflect==='object'&&typeof Reflect[_0x138c94(0x21c)]==='function')_0x3f98b6=Reflect[_0x138c94(0x21c)](_0x4ca315,_0x111987,_0x1148eb,_0x447712);else{for(var _0x4becd2=_0x4ca315[_0x138c94(0x23b)]-0x1;_0x4becd2>=0x0;_0x4becd2--)if(_0x3f8a21=_0x4ca315[_0x4becd2])_0x3f98b6=(_0x467c62<0x3?_0x3f8a21(_0x3f98b6):_0x467c62>0x3?_0x3f8a21(_0x111987,_0x1148eb,_0x3f98b6):_0x3f8a21(_0x111987,_0x1148eb))||_0x3f98b6;}return _0x467c62>0x3&&_0x3f98b6&&Object['defineProperty'](_0x111987,_0x1148eb,_0x3f98b6),_0x3f98b6;},__metadata=this&&this['__metadata']||function(_0x4909c2,_0x42d1f4){const _0x3225b9=a236_0x419b;if(typeof Reflect==='object'&&typeof Reflect[_0x3225b9(0x23e)]===_0x3225b9(0x1f9))return Reflect[_0x3225b9(0x23e)](_0x4909c2,_0x42d1f4);};Object[a236_0x42ac06(0x21a)](exports,a236_0x42ac06(0x213),{'value':!![]}),exports[a236_0x42ac06(0x238)]=void 0x0;function a236_0x419b(_0x55800e,_0xa458af){const _0x193eb9=a236_0xad89();return a236_0x419b=function(_0x15403a,_0x5334f1){_0x15403a=_0x15403a-0x1f1;let _0xad8975=_0x193eb9[_0x15403a];return _0xad8975;},a236_0x419b(_0x55800e,_0xa458af);}const not_found_error_1=require('../../../../core/errors/not-found.error'),typedi_1=require(a236_0x42ac06(0x210)),constants_1=require(a236_0x42ac06(0x22f)),queries_1=require(a236_0x42ac06(0x214)),flosum_naming_utils_1=require(a236_0x42ac06(0x200)),salesforce_query_service_1=require(a236_0x42ac06(0x1f4)),salesforce_rest_service_1=require(a236_0x42ac06(0x225));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x1b7f86,_0xe30d48){const _0x3b63a1=a236_0x42ac06;this['queryService']=_0x1b7f86,this[_0x3b63a1(0x205)]=_0xe30d48,this[_0x3b63a1(0x1fd)]=0xc8;}[a236_0x42ac06(0x203)](_0x447baa){const _0x22924e=a236_0x42ac06,_0x48dad2=(0x0,flosum_naming_utils_1[_0x22924e(0x20c)])(_0x447baa,[_0x22924e(0x1f2),'Component_Type__c',_0x22924e(0x1f7),_0x22924e(0x20b),_0x22924e(0x237),'Id']);return{'id':_0x48dad2['Id'],'name':_0x48dad2[_0x22924e(0x1f2)],'type':_0x48dad2[_0x22924e(0x226)],'fileName':_0x48dad2[_0x22924e(0x20b)],'crc32':_0x48dad2['CRC32__c'],'version':+_0x48dad2[_0x22924e(0x237)]};}async[a236_0x42ac06(0x234)](_0x77877d){const _0x4e737f=a236_0x42ac06,[_0x59a235]=await this['queryService'][_0x4e737f(0x20a)](queries_1[_0x4e737f(0x233)][_0x4e737f(0x23a)](_0x4e737f(0x211),_0x77877d));if(!_0x59a235)throw new not_found_error_1[(_0x4e737f(0x1fb))](_0x4e737f(0x1ff)+_0x77877d+_0x4e737f(0x229));return _0x59a235['Id'];}async[a236_0x42ac06(0x202)](_0x11d6d5){const _0x59c8ac=a236_0x42ac06,[_0x180a70]=await this[_0x59c8ac(0x1f8)]['query'](queries_1[_0x59c8ac(0x20f)][_0x59c8ac(0x23a)](_0x59c8ac(0x211),_0x11d6d5));if(!_0x180a70)throw new not_found_error_1[(_0x59c8ac(0x1fb))](_0x59c8ac(0x220)+_0x11d6d5+_0x59c8ac(0x229));return _0x180a70['Id'];}async[a236_0x42ac06(0x22b)](){const _0x438ba2=a236_0x42ac06,_0x4e0316=await this[_0x438ba2(0x1f8)][_0x438ba2(0x20a)](queries_1[_0x438ba2(0x208)]);return _0x4e0316['map'](_0x46ce6f=>(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x46ce6f,['Id','Name']))[_0x438ba2(0x21b)](_0x5cbf8a=>({'id':_0x5cbf8a['Id'],'name':_0x5cbf8a[_0x438ba2(0x22e)]}));}async[a236_0x42ac06(0x1f3)](_0x30adef,_0x352dc6){const _0x18b510=a236_0x42ac06,_0x2db808=[];while(_0x30adef[_0x18b510(0x23b)]){const _0xcacf46=queries_1[_0x18b510(0x239)][_0x18b510(0x23a)]('%fileNames%',_0x30adef[_0x18b510(0x219)](0x0,this[_0x18b510(0x1fd)])[_0x18b510(0x21b)](_0x60180e=>'\x27'+_0x60180e+'\x27')['join'](','))[_0x18b510(0x23a)](_0x18b510(0x22d),_0x352dc6),_0x5867e1=await this[_0x18b510(0x1f8)][_0x18b510(0x20a)](_0xcacf46);_0x2db808[_0x18b510(0x1fc)](..._0x5867e1);}return _0x2db808[_0x18b510(0x21b)](_0x4a2933=>this[_0x18b510(0x203)](_0x4a2933));}async[a236_0x42ac06(0x231)](_0x2c84c4,_0xb8e237){const _0x291bab=a236_0x42ac06,_0x548f4a=[];while(_0x2c84c4[_0x291bab(0x23b)]){const _0x4202a4=queries_1[_0x291bab(0x218)][_0x291bab(0x23a)](_0x291bab(0x22c),_0x2c84c4['splice'](0x0,this[_0x291bab(0x1fd)])[_0x291bab(0x21b)](_0x17b80a=>'\x27'+_0x17b80a+'\x27')[_0x291bab(0x236)](','))[_0x291bab(0x23a)](_0x291bab(0x223),_0xb8e237),_0x30f516=await this['queryService'][_0x291bab(0x20a)](_0x4202a4);_0x548f4a[_0x291bab(0x1fc)](..._0x30f516);}return _0x548f4a[_0x291bab(0x21b)](_0x58bcf5=>this[_0x291bab(0x203)](_0x58bcf5));}async[a236_0x42ac06(0x207)](_0x4f9868){const _0x456b68=a236_0x42ac06,_0xc8fbf6=queries_1['GET_REPOSITORY_COMPONENTS_QUERY']['replace'](_0x456b68(0x22d),_0x4f9868),_0x356cf5=await this[_0x456b68(0x1f8)]['query'](_0xc8fbf6);return _0x356cf5['map'](_0x4e26c8=>this[_0x456b68(0x203)](_0x4e26c8));}async['fetchBranchComponents'](_0x4bf426){const _0x51d86f=a236_0x42ac06,_0x2c0dc0=queries_1[_0x51d86f(0x1fa)]['replace'](_0x51d86f(0x223),_0x4bf426),_0x39ac99=await this[_0x51d86f(0x1f8)]['query'](_0x2c0dc0);return _0x39ac99[_0x51d86f(0x21b)](_0x40a1b1=>this[_0x51d86f(0x203)](_0x40a1b1));}async[a236_0x42ac06(0x206)](_0xee5c01){const _0x39e9ea=a236_0x42ac06,_0x235a3f=[..._0xee5c01],_0x49a821=[];while(_0x235a3f[_0x39e9ea(0x23b)]){const _0x53a5c5=queries_1[_0x39e9ea(0x21f)][_0x39e9ea(0x23a)]('%componentIds%',_0x235a3f[_0x39e9ea(0x219)](0x0,this[_0x39e9ea(0x1fd)])['map'](_0x3e77f3=>'\x27'+_0x3e77f3+'\x27')[_0x39e9ea(0x236)](',')),_0xfb3b3a=await this[_0x39e9ea(0x1f8)][_0x39e9ea(0x20a)](_0x53a5c5);_0x49a821[_0x39e9ea(0x1fc)](..._0xfb3b3a[_0x39e9ea(0x21b)](_0x4a2078=>_0x4a2078['Id']));}return _0x49a821;}async[a236_0x42ac06(0x20e)](_0x273a44,_0x39a26e){const _0x5107ce=a236_0x42ac06;return this['restService'][_0x5107ce(0x230)](constants_1[_0x5107ce(0x204)],{[constants_1[_0x5107ce(0x209)]+'Repository__c']:_0x39a26e,[constants_1[_0x5107ce(0x209)]+_0x5107ce(0x201)]:_0x273a44[_0x5107ce(0x215)](0x0,0xff),[constants_1[_0x5107ce(0x209)]+_0x5107ce(0x21e)]:'Completed',[constants_1[_0x5107ce(0x224)]+_0x5107ce(0x20d)]:!![]});}};SalesforceGitSyncService=__decorate([(0x0,typedi_1['Service'])(),__metadata('design:paramtypes',[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a236_0x42ac06(0x216)]])],SalesforceGitSyncService),exports[a236_0x42ac06(0x238)]=SalesforceGitSyncService;