const a193_0x975624=a193_0x1f7e;(function(_0x2d6eca,_0x3f3852){const _0x5a137a=a193_0x1f7e,_0x8a538b=_0x2d6eca();while(!![]){try{const _0x28e2da=parseInt(_0x5a137a(0xa4))/0x1*(-parseInt(_0x5a137a(0xbf))/0x2)+parseInt(_0x5a137a(0xc3))/0x3*(-parseInt(_0x5a137a(0x99))/0x4)+parseInt(_0x5a137a(0xbc))/0x5+parseInt(_0x5a137a(0xbd))/0x6*(parseInt(_0x5a137a(0xb7))/0x7)+parseInt(_0x5a137a(0x9b))/0x8*(parseInt(_0x5a137a(0xd8))/0x9)+parseInt(_0x5a137a(0xd9))/0xa*(-parseInt(_0x5a137a(0xcb))/0xb)+parseInt(_0x5a137a(0xa9))/0xc;if(_0x28e2da===_0x3f3852)break;else _0x8a538b['push'](_0x8a538b['shift']());}catch(_0x239f23){_0x8a538b['push'](_0x8a538b['shift']());}}}(a193_0x17c7,0xdf604));function a193_0x1f7e(_0x448655,_0x482b19){const _0x6f47d4=a193_0x17c7();return a193_0x1f7e=function(_0x35033e,_0x30ff90){_0x35033e=_0x35033e-0x97;let _0x17c7af=_0x6f47d4[_0x35033e];return _0x17c7af;},a193_0x1f7e(_0x448655,_0x482b19);}const a193_0x30ff90=(function(){let _0x2df695=!![];return function(_0xa1c195,_0x257808){const _0x51abc9=_0x2df695?function(){const _0xff04e8=a193_0x1f7e;if(_0x257808){const _0x2ae712=_0x257808[_0xff04e8(0xc9)](_0xa1c195,arguments);return _0x257808=null,_0x2ae712;}}:function(){};return _0x2df695=![],_0x51abc9;};}()),a193_0x35033e=a193_0x30ff90(this,function(){const _0x543aac=a193_0x1f7e;return a193_0x35033e[_0x543aac(0xc6)]()['search'](_0x543aac(0xd5))[_0x543aac(0xc6)]()[_0x543aac(0xb4)](a193_0x35033e)[_0x543aac(0x98)](_0x543aac(0xd5));});a193_0x35033e();'use strict';var __importDefault=this&&this[a193_0x975624(0xd0)]||function(_0x4bc560){const _0x3b342e=a193_0x975624;return _0x4bc560&&_0x4bc560[_0x3b342e(0xae)]?_0x4bc560:{'default':_0x4bc560};};Object[a193_0x975624(0xc5)](exports,a193_0x975624(0xae),{'value':!![]}),exports[a193_0x975624(0xc8)]=void 0x0;const core_1=require(a193_0x975624(0xdd)),typedi_1=__importDefault(require(a193_0x975624(0xb9))),constants_1=require(a193_0x975624(0xb0)),utils_1=require(a193_0x975624(0xcf)),salesforce_error_1=require(a193_0x975624(0x9e)),composite_utils_1=require('../utils/composite.utils'),salesforce_components_manager_service_1=require(a193_0x975624(0xbe)),salesforce_composite_service_1=require('./salesforce-composite.service');class SalesforceCommitsManager{constructor(_0x22537e){const _0x17d634=a193_0x975624;this[_0x17d634(0xc7)]=_0x22537e,this[_0x17d634(0xbb)]=0x3,this['logger']=new core_1[(_0x17d634(0xd6))](SalesforceCommitsManager[_0x17d634(0xdb)]),this[_0x17d634(0xaf)]=this[_0x17d634(0xc7)]['logger'],this[_0x17d634(0xd2)]=typedi_1['default'][_0x17d634(0xd1)](salesforce_composite_service_1['SalesforceCompositeService']),this[_0x17d634(0xa2)]=[];}async[a193_0x975624(0xba)](_0x235d88,_0xc7d16f=![]){const _0x29bd0b=a193_0x975624,_0x4d556b=(this[_0x29bd0b(0xbb)]+ +_0xc7d16f)*0x3,_0x5eabfd=(0x0,utils_1[_0x29bd0b(0xa3)])(_0x235d88,_0x4d556b);try{while(_0x5eabfd['length']){const _0x40426a=_0x5eabfd['splice'](0x0,Math[_0x29bd0b(0xb2)](constants_1[_0x29bd0b(0xad)]/_0x4d556b));await this[_0x29bd0b(0xc2)][_0x29bd0b(0xde)](_0x29bd0b(0xc4)+_0x40426a[_0x29bd0b(0xa6)]*_0x4d556b+_0x29bd0b(0xd7));const _0x4d1987=_0x40426a[_0x29bd0b(0xd4)]((_0x5c7023,_0xace1a0)=>({'graphId':_0x29bd0b(0xce)+_0xace1a0,'compositeRequest':_0x5c7023})),_0x2b797c=await this['composite'][_0x29bd0b(0xac)](_0x4d1987);if(_0xc7d16f){const _0xd3f3ff=(0x0,composite_utils_1['extractComponentIdsFromGraphsResponse'])(_0x2b797c);for(const {id:_0x165b95,ref:_0x1c3ca5}of _0xd3f3ff){const _0x17da20=this[_0x29bd0b(0xa2)][_0x29bd0b(0xab)](_0x2a1f46=>_0x2a1f46[_0x29bd0b(0x9a)]===_0x1c3ca5);_0x17da20&&(_0x17da20[_0x29bd0b(0xa8)]=_0x165b95);}}}}catch(_0x484ff8){this[_0x29bd0b(0xc2)]['error'](_0x484ff8 instanceof salesforce_error_1['SalesforceError']?JSON[_0x29bd0b(0xb6)](_0x484ff8['toJSON'](),null,0x2):_0x484ff8),this[_0x29bd0b(0xaf)]['log'](_0x484ff8 instanceof salesforce_error_1['SalesforceError']?JSON[_0x29bd0b(0xb6)](_0x484ff8[_0x29bd0b(0xb8)](),null,0x2):_0x484ff8['toString']());throw _0x484ff8;}}async[a193_0x975624(0xca)](_0x5d3ff7){const _0x51e05b=a193_0x975624;for(const _0x41d09a of _0x5d3ff7){if(!_0x41d09a[_0x51e05b(0xc1)][_0x51e05b(0xa6)]&&!_0x41d09a[_0x51e05b(0xda)][_0x51e05b(0xa6)]&&!_0x41d09a[_0x51e05b(0x9c)]['length'])continue;const _0x43a74d=[],_0x286b4d=[],_0x1d4b2d=new salesforce_components_manager_service_1[(_0x51e05b(0xa0))](this[_0x51e05b(0xc7)]['repositoryId'],this[_0x51e05b(0xc7)][_0x51e05b(0xa7)],_0x41d09a[_0x51e05b(0xd3)],this[_0x51e05b(0xc7)][_0x51e05b(0x9f)],this['proceededComponentsMeta']);_0x43a74d[_0x51e05b(0xaa)](...await _0x1d4b2d['insert'](_0x41d09a[_0x51e05b(0xc1)],this[_0x51e05b(0xc7)][_0x51e05b(0xa1)])),_0x43a74d[_0x51e05b(0xaa)](...await _0x1d4b2d['update'](_0x41d09a[_0x51e05b(0xda)],this['options'][_0x51e05b(0xa1)])),_0x286b4d[_0x51e05b(0xaa)](await _0x1d4b2d['delete'](_0x41d09a[_0x51e05b(0x9c)],!![])),this[_0x51e05b(0xa2)]=_0x1d4b2d[_0x51e05b(0xb1)](),await this[_0x51e05b(0xba)](_0x43a74d,!![]);for(const _0x16eb1f of _0x286b4d){_0x16eb1f[_0x51e05b(0xcd)][_0x51e05b(0xa6)]&&await this[_0x51e05b(0xba)](_0x16eb1f[_0x51e05b(0xcd)],!![]),_0x16eb1f[_0x51e05b(0xb5)][_0x51e05b(0xa6)]&&await this[_0x51e05b(0xba)](_0x16eb1f['componentsToUpdate'],!![]),_0x16eb1f[_0x51e05b(0xcc)][_0x51e05b(0xa6)]&&await this['proceedRequests'](_0x16eb1f[_0x51e05b(0xcc)],!![]);}this[_0x51e05b(0xc2)]['log'](_0x51e05b(0xb3),_0x43a74d['length']);}}async[a193_0x975624(0xa5)](_0x22d2e8){const _0xf90645=a193_0x975624,_0x25d601=[],_0x3e4f6c=[];for(const _0x40e9e6 of _0x22d2e8){if(!_0x40e9e6[_0xf90645(0xc1)][_0xf90645(0xa6)]&&!_0x40e9e6[_0xf90645(0xda)][_0xf90645(0xa6)]&&!_0x40e9e6[_0xf90645(0x9c)][_0xf90645(0xa6)])continue;const _0x41a5d3=new salesforce_components_manager_service_1['SalesforceComponentsManager'](this['options']['repositoryId'],this[_0xf90645(0xc7)]['branchId'],_0x40e9e6['author'],this[_0xf90645(0xc7)][_0xf90645(0x9f)],[]);_0x25d601[_0xf90645(0xaa)](...await _0x41a5d3[_0xf90645(0x97)](_0x40e9e6[_0xf90645(0xc1)])),_0x25d601[_0xf90645(0xaa)](...await _0x41a5d3[_0xf90645(0x9d)](_0x40e9e6['modified'])),_0x3e4f6c['push'](await _0x41a5d3['delete'](_0x40e9e6[_0xf90645(0x9c)]));}this[_0xf90645(0xc2)][_0xf90645(0xde)](_0xf90645(0xc0),_0x25d601['length']),await this[_0xf90645(0xba)](_0x25d601);const _0x2f194e=_0x3e4f6c[_0xf90645(0xdc)]((_0x31ee73,_0x12ec00)=>({'manifests':[..._0x31ee73['manifests'],..._0x12ec00[_0xf90645(0xcd)]],'componentsToDelete':[..._0x31ee73[_0xf90645(0xcc)],..._0x12ec00[_0xf90645(0xcc)]],'componentsToUpdate':[..._0x31ee73[_0xf90645(0xb5)],..._0x12ec00[_0xf90645(0xb5)]]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x2f194e['manifests'][_0xf90645(0xa6)]&&await this[_0xf90645(0xba)](_0x2f194e[_0xf90645(0xcd)],!![]),_0x2f194e['componentsToUpdate']['length']&&await this[_0xf90645(0xba)](_0x2f194e[_0xf90645(0xb5)],!![]),_0x2f194e[_0xf90645(0xcc)][_0xf90645(0xa6)]&&await this[_0xf90645(0xba)](_0x2f194e[_0xf90645(0xcc)],!![]);}async['proceedCommits'](_0x5b7b2a){const _0x9e3c9e=a193_0x975624;this[_0x9e3c9e(0xc7)]['branchId']?await this['proceedCommitsToBranch'](_0x5b7b2a):await this['proceedCommitsToRepository'](_0x5b7b2a);}}exports[a193_0x975624(0xc8)]=SalesforceCommitsManager;function a193_0x17c7(){const _0x320244=['\x20requests\x20to\x20composite\x20api.','9OZfqLW','512200aJTgFG','modified','name','reduce','../../../../core','log','insert','search','36WJWFZa','reference','14220344JYWcUp','removed','update','../errors/salesforce.error','recordTypes','SalesforceComponentsManager','commitId','proceededComponentsMeta','chunkArray','4UPtIpZ','proceedCommitsToBranch','length','branchId','componentId','7104972suFtth','push','find','executeGraphs','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','__esModule','sfLogger','../../../../constants','getProceededComponentsMeta','floor','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','constructor','componentsToUpdate','stringify','22624aesdwb','toJSON','typedi','proceedRequests','COMPONENTS_PER_CHUNK','2399790ARHcAN','1230GtKZSR','./salesforce-components-manager.service','357290vTWDpL','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','inserted','logger','576318ZNQYKz','Sending\x20','defineProperty','toString','options','SalesforceCommitsManager','apply','proceedCommitsToRepository','33gTBKKD','componentsToDelete','manifests','graph','../../../shared/utils','__importDefault','get','composite','author','map','(((.+)+)+)+$','Logger'];a193_0x17c7=function(){return _0x320244;};return a193_0x17c7();}