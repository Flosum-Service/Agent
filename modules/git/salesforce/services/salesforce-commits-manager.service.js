function a181_0x1631(_0x1f3a43,_0x2f5fc3){const _0x50bcd1=a181_0x4eae();return a181_0x1631=function(_0x172341,_0x50ca69){_0x172341=_0x172341-0x188;let _0x4eaefe=_0x50bcd1[_0x172341];return _0x4eaefe;},a181_0x1631(_0x1f3a43,_0x2f5fc3);}const a181_0x4f350e=a181_0x1631;(function(_0x6e17a3,_0x2335e1){const _0x4e8c28=a181_0x1631,_0x3b4a0=_0x6e17a3();while(!![]){try{const _0x3d5eeb=parseInt(_0x4e8c28(0x18d))/0x1+parseInt(_0x4e8c28(0x192))/0x2+-parseInt(_0x4e8c28(0x1c8))/0x3+parseInt(_0x4e8c28(0x1bc))/0x4+-parseInt(_0x4e8c28(0x19c))/0x5*(parseInt(_0x4e8c28(0x1ae))/0x6)+-parseInt(_0x4e8c28(0x19d))/0x7*(-parseInt(_0x4e8c28(0x1c9))/0x8)+parseInt(_0x4e8c28(0x1c0))/0x9*(-parseInt(_0x4e8c28(0x19f))/0xa);if(_0x3d5eeb===_0x2335e1)break;else _0x3b4a0['push'](_0x3b4a0['shift']());}catch(_0x233333){_0x3b4a0['push'](_0x3b4a0['shift']());}}}(a181_0x4eae,0xc62f2));const a181_0x50ca69=(function(){let _0x2dfe10=!![];return function(_0x491fc0,_0x4b9076){const _0x31512f=_0x2dfe10?function(){const _0x1c1493=a181_0x1631;if(_0x4b9076){const _0x25b3fa=_0x4b9076[_0x1c1493(0x1a6)](_0x491fc0,arguments);return _0x4b9076=null,_0x25b3fa;}}:function(){};return _0x2dfe10=![],_0x31512f;};}()),a181_0x172341=a181_0x50ca69(this,function(){const _0x131d07=a181_0x1631;return a181_0x172341[_0x131d07(0x190)]()['search'](_0x131d07(0x18e))[_0x131d07(0x190)]()['constructor'](a181_0x172341)[_0x131d07(0x1b9)](_0x131d07(0x18e));});function a181_0x4eae(){const _0x4b97a9=['SalesforceCommitsManager','graph','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','proceedCommitsToBranch','proceedCommitsToRepository','proceedCommits','641676mlGSoH','(((.+)+)+)+$','commitId','toString','executeGraphs','1068372glbNSj','update','delete','options','defineProperty','composite','branchId','extractComponentIdsFromGraphsResponse','proceedRequests','length','565tWFSvn','1211jlavMq','chunkArray','8395710wgcCbH','push','modified','componentsToUpdate','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','name','../../../../core','apply','map','typedi','__importDefault','SalesforceComponentsManager','Sending\x20','../../../../constants','componentId','23118SuKEjy','author','find','proceededComponentsMeta','SalesforceError','logger','reduce','removed','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','toJSON','getProceededComponentsMeta','search','\x20requests\x20to\x20composite\x20api.','repositoryId','5735092bXNaQk','sfLogger','componentsToDelete','../errors/salesforce.error','9eHsevB','inserted','./salesforce-composite.service','COMPONENTS_PER_CHUNK','Logger','log','recordTypes','get','2852745FawfUl','19792kAUgsZ','reference','SalesforceCompositeService','__esModule','./salesforce-components-manager.service','insert','manifests'];a181_0x4eae=function(){return _0x4b97a9;};return a181_0x4eae();}a181_0x172341();'use strict';var __importDefault=this&&this[a181_0x4f350e(0x1a9)]||function(_0x2047cf){const _0x208983=a181_0x4f350e;return _0x2047cf&&_0x2047cf[_0x208983(0x1cc)]?_0x2047cf:{'default':_0x2047cf};};Object[a181_0x4f350e(0x196)](exports,a181_0x4f350e(0x1cc),{'value':!![]}),exports['SalesforceCommitsManager']=void 0x0;const core_1=require(a181_0x4f350e(0x1a5)),typedi_1=__importDefault(require(a181_0x4f350e(0x1a8))),constants_1=require(a181_0x4f350e(0x1ac)),utils_1=require('../../../shared/utils'),salesforce_error_1=require(a181_0x4f350e(0x1bf)),composite_utils_1=require('../utils/composite.utils'),salesforce_components_manager_service_1=require(a181_0x4f350e(0x1cd)),salesforce_composite_service_1=require(a181_0x4f350e(0x1c2));class SalesforceCommitsManager{constructor(_0x3fd54d){const _0xc14b25=a181_0x4f350e;this[_0xc14b25(0x195)]=_0x3fd54d,this[_0xc14b25(0x1c3)]=0x3,this[_0xc14b25(0x1b3)]=new core_1[(_0xc14b25(0x1c4))](SalesforceCommitsManager[_0xc14b25(0x1a4)]),this[_0xc14b25(0x1bd)]=this[_0xc14b25(0x195)][_0xc14b25(0x1b3)],this[_0xc14b25(0x197)]=typedi_1['default'][_0xc14b25(0x1c7)](salesforce_composite_service_1[_0xc14b25(0x1cb)]),this[_0xc14b25(0x1b1)]=[];}async['proceedRequests'](_0x1b3632,_0x1a8198=![]){const _0x570d9c=a181_0x4f350e,_0x59e196=(this[_0x570d9c(0x1c3)]+ +_0x1a8198)*0x3,_0x167fc8=utils_1[_0x570d9c(0x19e)](_0x1b3632,_0x59e196);try{while(_0x167fc8[_0x570d9c(0x19b)]){const _0x5959ab=_0x167fc8['splice'](0x0,Math['floor'](constants_1[_0x570d9c(0x189)]/_0x59e196));await this[_0x570d9c(0x1b3)][_0x570d9c(0x1c5)](_0x570d9c(0x1ab)+_0x5959ab['length']*_0x59e196+_0x570d9c(0x1ba));const _0x5b94f8=_0x5959ab[_0x570d9c(0x1a7)]((_0x371a45,_0x218674)=>({'graphId':_0x570d9c(0x188)+_0x218674,'compositeRequest':_0x371a45})),_0x34976f=await this[_0x570d9c(0x197)][_0x570d9c(0x191)](_0x5b94f8);if(_0x1a8198){const _0x4bd4c6=composite_utils_1[_0x570d9c(0x199)](_0x34976f);for(const {id:_0x415607,ref:_0x233eb2}of _0x4bd4c6){const _0x744328=this[_0x570d9c(0x1b1)][_0x570d9c(0x1b0)](_0x522e0c=>_0x522e0c[_0x570d9c(0x1ca)]===_0x233eb2);_0x744328&&(_0x744328[_0x570d9c(0x1ad)]=_0x415607);}}}}catch(_0x3b1c9c){this[_0x570d9c(0x1b3)]['error'](_0x3b1c9c instanceof salesforce_error_1[_0x570d9c(0x1b2)]?JSON['stringify'](_0x3b1c9c[_0x570d9c(0x1b7)](),null,0x2):_0x3b1c9c),this[_0x570d9c(0x1bd)][_0x570d9c(0x1c5)](_0x3b1c9c instanceof salesforce_error_1[_0x570d9c(0x1b2)]?JSON['stringify'](_0x3b1c9c[_0x570d9c(0x1b7)](),null,0x2):_0x3b1c9c[_0x570d9c(0x190)]());throw _0x3b1c9c;}}async['proceedCommitsToRepository'](_0x453c11){const _0x4de14e=a181_0x4f350e;for(const _0xaff16e of _0x453c11){if(!_0xaff16e['inserted'][_0x4de14e(0x19b)]&&!_0xaff16e[_0x4de14e(0x1a1)]['length']&&!_0xaff16e['removed'][_0x4de14e(0x19b)])continue;const _0x24c52f=[],_0x2d725b=[],_0x190435=new salesforce_components_manager_service_1[(_0x4de14e(0x1aa))](this['options'][_0x4de14e(0x1bb)],this[_0x4de14e(0x195)][_0x4de14e(0x198)],_0xaff16e[_0x4de14e(0x1af)],this['options'][_0x4de14e(0x1c6)],this[_0x4de14e(0x1b1)]);_0x24c52f[_0x4de14e(0x1a0)](...await _0x190435[_0x4de14e(0x1ce)](_0xaff16e['inserted'],this[_0x4de14e(0x195)]['commitId'])),_0x24c52f[_0x4de14e(0x1a0)](...await _0x190435[_0x4de14e(0x193)](_0xaff16e[_0x4de14e(0x1a1)],this[_0x4de14e(0x195)][_0x4de14e(0x18f)])),_0x2d725b[_0x4de14e(0x1a0)](await _0x190435[_0x4de14e(0x194)](_0xaff16e[_0x4de14e(0x1b5)],!![])),this[_0x4de14e(0x1b1)]=_0x190435[_0x4de14e(0x1b8)](),await this['proceedRequests'](_0x24c52f,!![]);for(const _0xf80eb5 of _0x2d725b){_0xf80eb5[_0x4de14e(0x1cf)]['length']&&await this['proceedRequests'](_0xf80eb5[_0x4de14e(0x1cf)],!![]),_0xf80eb5[_0x4de14e(0x1a2)][_0x4de14e(0x19b)]&&await this[_0x4de14e(0x19a)](_0xf80eb5[_0x4de14e(0x1a2)],!![]),_0xf80eb5[_0x4de14e(0x1be)]['length']&&await this[_0x4de14e(0x19a)](_0xf80eb5[_0x4de14e(0x1be)],!![]);}this[_0x4de14e(0x1b3)]['log'](_0x4de14e(0x1b6),_0x24c52f[_0x4de14e(0x19b)]);}}async[a181_0x4f350e(0x18a)](_0x564a25){const _0x466b97=a181_0x4f350e,_0xd9907a=[],_0x1469cf=[];for(const _0xe7b478 of _0x564a25){if(!_0xe7b478[_0x466b97(0x1c1)][_0x466b97(0x19b)]&&!_0xe7b478['modified'][_0x466b97(0x19b)]&&!_0xe7b478[_0x466b97(0x1b5)]['length'])continue;const _0x442f80=new salesforce_components_manager_service_1[(_0x466b97(0x1aa))](this[_0x466b97(0x195)][_0x466b97(0x1bb)],this[_0x466b97(0x195)][_0x466b97(0x198)],_0xe7b478[_0x466b97(0x1af)],this[_0x466b97(0x195)][_0x466b97(0x1c6)],[]);_0xd9907a[_0x466b97(0x1a0)](...await _0x442f80['insert'](_0xe7b478['inserted'])),_0xd9907a[_0x466b97(0x1a0)](...await _0x442f80['update'](_0xe7b478[_0x466b97(0x1a1)])),_0x1469cf[_0x466b97(0x1a0)](await _0x442f80['delete'](_0xe7b478['removed']));}this[_0x466b97(0x1b3)][_0x466b97(0x1c5)](_0x466b97(0x1a3),_0xd9907a[_0x466b97(0x19b)]),await this[_0x466b97(0x19a)](_0xd9907a);const _0x516fe0=_0x1469cf[_0x466b97(0x1b4)]((_0xf5777,_0x14d0b8)=>({'manifests':[..._0xf5777['manifests'],..._0x14d0b8[_0x466b97(0x1cf)]],'componentsToDelete':[..._0xf5777[_0x466b97(0x1be)],..._0x14d0b8[_0x466b97(0x1be)]],'componentsToUpdate':[..._0xf5777['componentsToUpdate'],..._0x14d0b8[_0x466b97(0x1a2)]]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x516fe0['manifests']['length']&&await this[_0x466b97(0x19a)](_0x516fe0[_0x466b97(0x1cf)],!![]),_0x516fe0[_0x466b97(0x1a2)][_0x466b97(0x19b)]&&await this[_0x466b97(0x19a)](_0x516fe0[_0x466b97(0x1a2)],!![]),_0x516fe0[_0x466b97(0x1be)][_0x466b97(0x19b)]&&await this[_0x466b97(0x19a)](_0x516fe0['componentsToDelete'],!![]);}async[a181_0x4f350e(0x18c)](_0x35d7d7){const _0x2101e5=a181_0x4f350e;this[_0x2101e5(0x195)][_0x2101e5(0x198)]?await this[_0x2101e5(0x18a)](_0x35d7d7):await this[_0x2101e5(0x18b)](_0x35d7d7);}}exports[a181_0x4f350e(0x1d0)]=SalesforceCommitsManager;