function a194_0x3acf(_0x159ba5,_0x403707){const _0x9e746=a194_0x3da8();return a194_0x3acf=function(_0x1d184b,_0x51e778){_0x1d184b=_0x1d184b-0x16d;let _0x3da8a8=_0x9e746[_0x1d184b];return _0x3da8a8;},a194_0x3acf(_0x159ba5,_0x403707);}const a194_0x55cab4=a194_0x3acf;(function(_0x579af1,_0x3828d9){const _0x4a2223=a194_0x3acf,_0x18442c=_0x579af1();while(!![]){try{const _0x4f07e0=-parseInt(_0x4a2223(0x18b))/0x1+-parseInt(_0x4a2223(0x190))/0x2*(-parseInt(_0x4a2223(0x17f))/0x3)+parseInt(_0x4a2223(0x1a8))/0x4*(parseInt(_0x4a2223(0x1a6))/0x5)+-parseInt(_0x4a2223(0x18c))/0x6+parseInt(_0x4a2223(0x194))/0x7*(parseInt(_0x4a2223(0x185))/0x8)+-parseInt(_0x4a2223(0x1ae))/0x9+-parseInt(_0x4a2223(0x198))/0xa*(parseInt(_0x4a2223(0x187))/0xb);if(_0x4f07e0===_0x3828d9)break;else _0x18442c['push'](_0x18442c['shift']());}catch(_0x35e1d8){_0x18442c['push'](_0x18442c['shift']());}}}(a194_0x3da8,0x4cdb8));const a194_0x51e778=(function(){let _0x419470=!![];return function(_0x189497,_0x35df64){const _0x4714ee=_0x419470?function(){const _0x1dff67=a194_0x3acf;if(_0x35df64){const _0x2a9e27=_0x35df64[_0x1dff67(0x1ad)](_0x189497,arguments);return _0x35df64=null,_0x2a9e27;}}:function(){};return _0x419470=![],_0x4714ee;};}()),a194_0x1d184b=a194_0x51e778(this,function(){const _0x3cd004=a194_0x3acf;return a194_0x1d184b[_0x3cd004(0x180)]()[_0x3cd004(0x188)](_0x3cd004(0x183))[_0x3cd004(0x180)]()['constructor'](a194_0x1d184b)[_0x3cd004(0x188)]('(((.+)+)+)+$');});a194_0x1d184b();'use strict';function a194_0x3da8(){const _0xd1c3c7=['branchId','(((.+)+)+)+$','log','4109600CFIzME','../../../../constants','11SImAne','search','insert','splice','186642AetyQI','263622RaWJSc','componentId','../../../shared/utils','reference','377994NpHxjp','\x20requests\x20to\x20composite\x20api.','options','getProceededComponentsMeta','7rKiOeV','name','graph','componentsToUpdate','4291840oiEYDn','../utils/composite.utils','COMPONENTS_PER_CHUNK','proceedCommits','push','stringify','author','../../../../core','typedi','componentsToDelete','SalesforceCompositeService','proceedCommitsToRepository','manifests','modified','255iGjMSv','sfLogger','38204RVVgBS','defineProperty','map','executeGraphs','SalesforceCommitsManager','apply','1937043nBAuwO','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','__esModule','recordTypes','proceedCommitsToBranch','./salesforce-composite.service','./salesforce-components-manager.service','SalesforceComponentsManager','proceedRequests','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','delete','commitId','__importDefault','update','length','proceededComponentsMeta','repositoryId','inserted','get','floor','removed','error','Logger','logger','find','3OWagWv','toString','composite'];a194_0x3da8=function(){return _0xd1c3c7;};return a194_0x3da8();}var __importDefault=this&&this[a194_0x55cab4(0x172)]||function(_0xe1e4e0){const _0x32025d=a194_0x55cab4;return _0xe1e4e0&&_0xe1e4e0[_0x32025d(0x1b0)]?_0xe1e4e0:{'default':_0xe1e4e0};};Object[a194_0x55cab4(0x1a9)](exports,a194_0x55cab4(0x1b0),{'value':!![]}),exports[a194_0x55cab4(0x1ac)]=void 0x0;const core_1=require(a194_0x55cab4(0x19f)),typedi_1=__importDefault(require(a194_0x55cab4(0x1a0))),constants_1=require(a194_0x55cab4(0x186)),utils_1=require(a194_0x55cab4(0x18e)),salesforce_error_1=require('../errors/salesforce.error'),composite_utils_1=require(a194_0x55cab4(0x199)),salesforce_components_manager_service_1=require(a194_0x55cab4(0x1b4)),salesforce_composite_service_1=require(a194_0x55cab4(0x1b3));class SalesforceCommitsManager{constructor(_0x4f08f2){const _0x19e515=a194_0x55cab4;this['options']=_0x4f08f2,this['COMPONENTS_PER_CHUNK']=0x3,this[_0x19e515(0x17d)]=new core_1[(_0x19e515(0x17c))](SalesforceCommitsManager[_0x19e515(0x195)]),this[_0x19e515(0x1a7)]=this[_0x19e515(0x192)][_0x19e515(0x17d)],this[_0x19e515(0x181)]=typedi_1['default'][_0x19e515(0x178)](salesforce_composite_service_1[_0x19e515(0x1a2)]),this[_0x19e515(0x175)]=[];}async[a194_0x55cab4(0x16e)](_0x299f84,_0x1dc008=![]){const _0xe0345a=a194_0x55cab4,_0x21c2fd=(this[_0xe0345a(0x19a)]+ +_0x1dc008)*0x3,_0x121a83=(0x0,utils_1['chunkArray'])(_0x299f84,_0x21c2fd);try{while(_0x121a83[_0xe0345a(0x174)]){const _0x2f96d0=_0x121a83[_0xe0345a(0x18a)](0x0,Math[_0xe0345a(0x179)](constants_1['SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST']/_0x21c2fd));await this[_0xe0345a(0x17d)]['log']('Sending\x20'+_0x2f96d0[_0xe0345a(0x174)]*_0x21c2fd+_0xe0345a(0x191));const _0xc38ce3=_0x2f96d0[_0xe0345a(0x1aa)]((_0x35a810,_0x3cf6db)=>({'graphId':_0xe0345a(0x196)+_0x3cf6db,'compositeRequest':_0x35a810})),_0x220ab9=await this['composite'][_0xe0345a(0x1ab)](_0xc38ce3);if(_0x1dc008){const _0x1c94fe=(0x0,composite_utils_1['extractComponentIdsFromGraphsResponse'])(_0x220ab9);for(const {id:_0xb60c48,ref:_0x2db2c8}of _0x1c94fe){const _0x375185=this[_0xe0345a(0x175)][_0xe0345a(0x17e)](_0x3f96f2=>_0x3f96f2[_0xe0345a(0x18f)]===_0x2db2c8);_0x375185&&(_0x375185[_0xe0345a(0x18d)]=_0xb60c48);}}}}catch(_0x181b8f){this['logger'][_0xe0345a(0x17b)](_0x181b8f instanceof salesforce_error_1['SalesforceError']?JSON[_0xe0345a(0x19d)](_0x181b8f['toJSON'](),null,0x2):_0x181b8f),this['sfLogger']['log'](_0x181b8f instanceof salesforce_error_1['SalesforceError']?JSON[_0xe0345a(0x19d)](_0x181b8f['toJSON'](),null,0x2):_0x181b8f[_0xe0345a(0x180)]());throw _0x181b8f;}}async['proceedCommitsToRepository'](_0x4d7868){const _0x3a9975=a194_0x55cab4;for(const _0x533d41 of _0x4d7868){if(!_0x533d41[_0x3a9975(0x177)][_0x3a9975(0x174)]&&!_0x533d41[_0x3a9975(0x1a5)][_0x3a9975(0x174)]&&!_0x533d41[_0x3a9975(0x17a)]['length'])continue;const _0x3fbb60=[],_0x479021=[],_0x1d4481=new salesforce_components_manager_service_1['SalesforceComponentsManager'](this['options'][_0x3a9975(0x176)],this[_0x3a9975(0x192)][_0x3a9975(0x182)],_0x533d41[_0x3a9975(0x19e)],this['options'][_0x3a9975(0x1b1)],this[_0x3a9975(0x175)]);_0x3fbb60['push'](...await _0x1d4481[_0x3a9975(0x189)](_0x533d41['inserted'],this['options'][_0x3a9975(0x171)])),_0x3fbb60[_0x3a9975(0x19c)](...await _0x1d4481[_0x3a9975(0x173)](_0x533d41[_0x3a9975(0x1a5)],this[_0x3a9975(0x192)][_0x3a9975(0x171)])),_0x479021[_0x3a9975(0x19c)](await _0x1d4481[_0x3a9975(0x170)](_0x533d41['removed'],!![])),this[_0x3a9975(0x175)]=_0x1d4481[_0x3a9975(0x193)](),await this[_0x3a9975(0x16e)](_0x3fbb60,!![]);for(const _0x3e2d69 of _0x479021){_0x3e2d69['manifests'][_0x3a9975(0x174)]&&await this[_0x3a9975(0x16e)](_0x3e2d69['manifests'],!![]),_0x3e2d69['componentsToUpdate'][_0x3a9975(0x174)]&&await this[_0x3a9975(0x16e)](_0x3e2d69[_0x3a9975(0x197)],!![]),_0x3e2d69[_0x3a9975(0x1a1)]['length']&&await this[_0x3a9975(0x16e)](_0x3e2d69[_0x3a9975(0x1a1)],!![]);}this['logger']['log'](_0x3a9975(0x1af),_0x3fbb60['length']);}}async['proceedCommitsToBranch'](_0x26333f){const _0x59244a=a194_0x55cab4,_0x371a64=[],_0x3fc9c8=[];for(const _0x27ec66 of _0x26333f){if(!_0x27ec66[_0x59244a(0x177)][_0x59244a(0x174)]&&!_0x27ec66[_0x59244a(0x1a5)][_0x59244a(0x174)]&&!_0x27ec66[_0x59244a(0x17a)][_0x59244a(0x174)])continue;const _0x43e112=new salesforce_components_manager_service_1[(_0x59244a(0x16d))](this[_0x59244a(0x192)][_0x59244a(0x176)],this[_0x59244a(0x192)][_0x59244a(0x182)],_0x27ec66['author'],this[_0x59244a(0x192)][_0x59244a(0x1b1)],[]);_0x371a64[_0x59244a(0x19c)](...await _0x43e112['insert'](_0x27ec66[_0x59244a(0x177)])),_0x371a64[_0x59244a(0x19c)](...await _0x43e112[_0x59244a(0x173)](_0x27ec66[_0x59244a(0x1a5)])),_0x3fc9c8[_0x59244a(0x19c)](await _0x43e112['delete'](_0x27ec66[_0x59244a(0x17a)]));}this[_0x59244a(0x17d)][_0x59244a(0x184)](_0x59244a(0x16f),_0x371a64['length']),await this[_0x59244a(0x16e)](_0x371a64);const _0x5a2a9f=_0x3fc9c8['reduce']((_0x33088c,_0x5c217b)=>({'manifests':[..._0x33088c['manifests'],..._0x5c217b[_0x59244a(0x1a4)]],'componentsToDelete':[..._0x33088c[_0x59244a(0x1a1)],..._0x5c217b[_0x59244a(0x1a1)]],'componentsToUpdate':[..._0x33088c[_0x59244a(0x197)],..._0x5c217b['componentsToUpdate']]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x5a2a9f[_0x59244a(0x1a4)][_0x59244a(0x174)]&&await this[_0x59244a(0x16e)](_0x5a2a9f[_0x59244a(0x1a4)],!![]),_0x5a2a9f['componentsToUpdate'][_0x59244a(0x174)]&&await this['proceedRequests'](_0x5a2a9f[_0x59244a(0x197)],!![]),_0x5a2a9f[_0x59244a(0x1a1)][_0x59244a(0x174)]&&await this[_0x59244a(0x16e)](_0x5a2a9f[_0x59244a(0x1a1)],!![]);}async[a194_0x55cab4(0x19b)](_0x3f8cc7){const _0x37f706=a194_0x55cab4;this[_0x37f706(0x192)][_0x37f706(0x182)]?await this[_0x37f706(0x1b2)](_0x3f8cc7):await this[_0x37f706(0x1a3)](_0x3f8cc7);}}exports[a194_0x55cab4(0x1ac)]=SalesforceCommitsManager;