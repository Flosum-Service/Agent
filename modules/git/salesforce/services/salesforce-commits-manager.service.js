const a194_0x202b67=a194_0xacca;(function(_0x302f91,_0x423c2c){const _0x47a033=a194_0xacca,_0xea8049=_0x302f91();while(!![]){try{const _0x32db2a=parseInt(_0x47a033(0x1d0))/0x1*(-parseInt(_0x47a033(0x1a8))/0x2)+parseInt(_0x47a033(0x1e6))/0x3+parseInt(_0x47a033(0x1d3))/0x4+parseInt(_0x47a033(0x1ab))/0x5+-parseInt(_0x47a033(0x1e8))/0x6+parseInt(_0x47a033(0x1ce))/0x7+-parseInt(_0x47a033(0x1cc))/0x8*(parseInt(_0x47a033(0x1c4))/0x9);if(_0x32db2a===_0x423c2c)break;else _0xea8049['push'](_0xea8049['shift']());}catch(_0x49fd28){_0xea8049['push'](_0xea8049['shift']());}}}(a194_0x4064,0x478c3));const a194_0x539fdd=(function(){let _0x3c63b4=!![];return function(_0x5b9cb0,_0x4466dd){const _0x58745d=_0x3c63b4?function(){const _0x15657f=a194_0xacca;if(_0x4466dd){const _0x39cc1a=_0x4466dd[_0x15657f(0x1c9)](_0x5b9cb0,arguments);return _0x4466dd=null,_0x39cc1a;}}:function(){};return _0x3c63b4=![],_0x58745d;};}()),a194_0x5c8db7=a194_0x539fdd(this,function(){const _0x1af9df=a194_0xacca;return a194_0x5c8db7[_0x1af9df(0x1bc)]()[_0x1af9df(0x1e4)](_0x1af9df(0x1c2))[_0x1af9df(0x1bc)]()[_0x1af9df(0x1eb)](a194_0x5c8db7)['search'](_0x1af9df(0x1c2));});a194_0x5c8db7();function a194_0x4064(){const _0x38a3e0=['2023427HwbTAy','extractComponentIdsFromGraphsResponse','3rYuIwG','proceededComponentsMeta','length','1559700kuQeJB','proceedRequests','update','defineProperty','componentsToUpdate','proceedCommitsToRepository','toJSON','getProceededComponentsMeta','\x20requests\x20to\x20composite\x20api.','removed','logger','__importDefault','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','../../../../constants','chunkArray','graph','reference','search','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','35838mZmXWW','branchId','203250ZAufxE','../../../shared/utils','SalesforceCompositeService','constructor','Sending\x20','componentsToDelete','stringify','Logger','./salesforce-composite.service','212794DJmYEn','sfLogger','author','904585TarspP','get','./salesforce-components-manager.service','../../../../core','__esModule','manifests','options','proceedCommits','recordTypes','../errors/salesforce.error','name','SalesforceComponentsManager','push','repositoryId','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','COMPONENTS_PER_CHUNK','SalesforceCommitsManager','toString','executeGraphs','log','modified','inserted','insert','(((.+)+)+)+$','typedi','1015758WFpfoJ','commitId','floor','error','composite','apply','../utils/composite.utils','default','16BVrlYt','proceedCommitsToBranch'];a194_0x4064=function(){return _0x38a3e0;};return a194_0x4064();}function a194_0xacca(_0x35274e,_0x4e8277){const _0x2c829c=a194_0x4064();return a194_0xacca=function(_0x5c8db7,_0x539fdd){_0x5c8db7=_0x5c8db7-0x1a7;let _0x406495=_0x2c829c[_0x5c8db7];return _0x406495;},a194_0xacca(_0x35274e,_0x4e8277);}'use strict';var __importDefault=this&&this[a194_0x202b67(0x1de)]||function(_0x471ba2){const _0x4eb3eb=a194_0x202b67;return _0x471ba2&&_0x471ba2[_0x4eb3eb(0x1af)]?_0x471ba2:{'default':_0x471ba2};};Object[a194_0x202b67(0x1d6)](exports,a194_0x202b67(0x1af),{'value':!![]}),exports[a194_0x202b67(0x1bb)]=void 0x0;const core_1=require(a194_0x202b67(0x1ae)),typedi_1=__importDefault(require(a194_0x202b67(0x1c3))),constants_1=require(a194_0x202b67(0x1e0)),utils_1=require(a194_0x202b67(0x1e9)),salesforce_error_1=require(a194_0x202b67(0x1b4)),composite_utils_1=require(a194_0x202b67(0x1ca)),salesforce_components_manager_service_1=require(a194_0x202b67(0x1ad)),salesforce_composite_service_1=require(a194_0x202b67(0x1a7));class SalesforceCommitsManager{constructor(_0x3a03fa){const _0x10cf8c=a194_0x202b67;this[_0x10cf8c(0x1b1)]=_0x3a03fa,this[_0x10cf8c(0x1ba)]=0x3,this[_0x10cf8c(0x1dd)]=new core_1[(_0x10cf8c(0x1ef))](SalesforceCommitsManager[_0x10cf8c(0x1b5)]),this[_0x10cf8c(0x1a9)]=this[_0x10cf8c(0x1b1)][_0x10cf8c(0x1dd)],this[_0x10cf8c(0x1c8)]=typedi_1[_0x10cf8c(0x1cb)][_0x10cf8c(0x1ac)](salesforce_composite_service_1[_0x10cf8c(0x1ea)]),this[_0x10cf8c(0x1d1)]=[];}async[a194_0x202b67(0x1d4)](_0x3a9309,_0x18acb0=![]){const _0x349581=a194_0x202b67,_0x58b685=(this['COMPONENTS_PER_CHUNK']+ +_0x18acb0)*0x3,_0x3339ac=(0x0,utils_1[_0x349581(0x1e1)])(_0x3a9309,_0x58b685);try{while(_0x3339ac[_0x349581(0x1d2)]){const _0x2a4862=_0x3339ac['splice'](0x0,Math[_0x349581(0x1c6)](constants_1[_0x349581(0x1df)]/_0x58b685));await this[_0x349581(0x1dd)]['log'](_0x349581(0x1ec)+_0x2a4862[_0x349581(0x1d2)]*_0x58b685+_0x349581(0x1db));const _0x585b9d=_0x2a4862['map']((_0x4edc3e,_0x393d54)=>({'graphId':_0x349581(0x1e2)+_0x393d54,'compositeRequest':_0x4edc3e})),_0x3da500=await this[_0x349581(0x1c8)][_0x349581(0x1bd)](_0x585b9d);if(_0x18acb0){const _0x477afa=(0x0,composite_utils_1[_0x349581(0x1cf)])(_0x3da500);for(const {id:_0x5b8eb9,ref:_0x54b115}of _0x477afa){const _0x5d083b=this[_0x349581(0x1d1)]['find'](_0x3a8e6d=>_0x3a8e6d[_0x349581(0x1e3)]===_0x54b115);_0x5d083b&&(_0x5d083b['componentId']=_0x5b8eb9);}}}}catch(_0x1dc7cd){this[_0x349581(0x1dd)][_0x349581(0x1c7)](_0x1dc7cd instanceof salesforce_error_1['SalesforceError']?JSON[_0x349581(0x1ee)](_0x1dc7cd[_0x349581(0x1d9)](),null,0x2):_0x1dc7cd),this[_0x349581(0x1a9)][_0x349581(0x1be)](_0x1dc7cd instanceof salesforce_error_1['SalesforceError']?JSON['stringify'](_0x1dc7cd[_0x349581(0x1d9)](),null,0x2):_0x1dc7cd[_0x349581(0x1bc)]());throw _0x1dc7cd;}}async[a194_0x202b67(0x1d8)](_0x4564ec){const _0x3abf8e=a194_0x202b67;for(const _0x2c1ee1 of _0x4564ec){if(!_0x2c1ee1[_0x3abf8e(0x1c0)][_0x3abf8e(0x1d2)]&&!_0x2c1ee1['modified'][_0x3abf8e(0x1d2)]&&!_0x2c1ee1[_0x3abf8e(0x1dc)][_0x3abf8e(0x1d2)])continue;const _0x3d37c3=[],_0x4d225b=[],_0x273386=new salesforce_components_manager_service_1[(_0x3abf8e(0x1b6))](this['options'][_0x3abf8e(0x1b8)],this[_0x3abf8e(0x1b1)][_0x3abf8e(0x1e7)],_0x2c1ee1[_0x3abf8e(0x1aa)],this[_0x3abf8e(0x1b1)]['recordTypes'],this[_0x3abf8e(0x1d1)]);_0x3d37c3[_0x3abf8e(0x1b7)](...await _0x273386[_0x3abf8e(0x1c1)](_0x2c1ee1[_0x3abf8e(0x1c0)],this['options'][_0x3abf8e(0x1c5)])),_0x3d37c3[_0x3abf8e(0x1b7)](...await _0x273386[_0x3abf8e(0x1d5)](_0x2c1ee1[_0x3abf8e(0x1bf)],this[_0x3abf8e(0x1b1)][_0x3abf8e(0x1c5)])),_0x4d225b[_0x3abf8e(0x1b7)](await _0x273386['delete'](_0x2c1ee1[_0x3abf8e(0x1dc)],!![])),this[_0x3abf8e(0x1d1)]=_0x273386[_0x3abf8e(0x1da)](),await this['proceedRequests'](_0x3d37c3,!![]);for(const _0x5e1bc5 of _0x4d225b){_0x5e1bc5[_0x3abf8e(0x1b0)][_0x3abf8e(0x1d2)]&&await this[_0x3abf8e(0x1d4)](_0x5e1bc5[_0x3abf8e(0x1b0)],!![]),_0x5e1bc5[_0x3abf8e(0x1d7)]['length']&&await this[_0x3abf8e(0x1d4)](_0x5e1bc5[_0x3abf8e(0x1d7)],!![]),_0x5e1bc5[_0x3abf8e(0x1ed)][_0x3abf8e(0x1d2)]&&await this[_0x3abf8e(0x1d4)](_0x5e1bc5[_0x3abf8e(0x1ed)],!![]);}this[_0x3abf8e(0x1dd)][_0x3abf8e(0x1be)](_0x3abf8e(0x1b9),_0x3d37c3[_0x3abf8e(0x1d2)]);}}async[a194_0x202b67(0x1cd)](_0x507356){const _0x4306e2=a194_0x202b67,_0x1aaedd=[],_0x4c1c1a=[];for(const _0x19a158 of _0x507356){if(!_0x19a158[_0x4306e2(0x1c0)]['length']&&!_0x19a158[_0x4306e2(0x1bf)][_0x4306e2(0x1d2)]&&!_0x19a158[_0x4306e2(0x1dc)][_0x4306e2(0x1d2)])continue;const _0x21f395=new salesforce_components_manager_service_1[(_0x4306e2(0x1b6))](this[_0x4306e2(0x1b1)][_0x4306e2(0x1b8)],this[_0x4306e2(0x1b1)][_0x4306e2(0x1e7)],_0x19a158['author'],this[_0x4306e2(0x1b1)][_0x4306e2(0x1b3)],[]);_0x1aaedd[_0x4306e2(0x1b7)](...await _0x21f395[_0x4306e2(0x1c1)](_0x19a158[_0x4306e2(0x1c0)])),_0x1aaedd[_0x4306e2(0x1b7)](...await _0x21f395[_0x4306e2(0x1d5)](_0x19a158[_0x4306e2(0x1bf)])),_0x4c1c1a[_0x4306e2(0x1b7)](await _0x21f395['delete'](_0x19a158[_0x4306e2(0x1dc)]));}this[_0x4306e2(0x1dd)][_0x4306e2(0x1be)](_0x4306e2(0x1e5),_0x1aaedd[_0x4306e2(0x1d2)]),await this[_0x4306e2(0x1d4)](_0x1aaedd);const _0x28dbc7=_0x4c1c1a['reduce']((_0x5c4935,_0x30d5cd)=>({'manifests':[..._0x5c4935[_0x4306e2(0x1b0)],..._0x30d5cd['manifests']],'componentsToDelete':[..._0x5c4935[_0x4306e2(0x1ed)],..._0x30d5cd[_0x4306e2(0x1ed)]],'componentsToUpdate':[..._0x5c4935['componentsToUpdate'],..._0x30d5cd[_0x4306e2(0x1d7)]]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x28dbc7[_0x4306e2(0x1b0)]['length']&&await this[_0x4306e2(0x1d4)](_0x28dbc7[_0x4306e2(0x1b0)],!![]),_0x28dbc7[_0x4306e2(0x1d7)][_0x4306e2(0x1d2)]&&await this[_0x4306e2(0x1d4)](_0x28dbc7[_0x4306e2(0x1d7)],!![]),_0x28dbc7[_0x4306e2(0x1ed)]['length']&&await this['proceedRequests'](_0x28dbc7[_0x4306e2(0x1ed)],!![]);}async[a194_0x202b67(0x1b2)](_0xb1ccff){const _0x285367=a194_0x202b67;this[_0x285367(0x1b1)][_0x285367(0x1e7)]?await this[_0x285367(0x1cd)](_0xb1ccff):await this[_0x285367(0x1d8)](_0xb1ccff);}}exports[a194_0x202b67(0x1bb)]=SalesforceCommitsManager;