function a233_0x1d8a(){const _0x513b24=['length','componentsToUpdate','stringify','9lLldiW','401hCdAGB','COMPONENTS_PER_CHUNK','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','./salesforce-composite.service','SalesforceCommitsManager','19441620zCAwNY','chunkArray','reference','../errors/salesforce.error','push','extractComponentIdsFromGraphsResponse','error','3065888XZbpqv','splice','delete','branchId','getProceededComponentsMeta','3026016LlpScO','proceedChunksToUpload','4198QYHhel','constructor','1080978afyNLY','inserted','manifests','proceedCommitsToBranch','repositoryId','graph','reduce','commitId','sfLogger','__importDefault','(((.+)+)+)+$','6823864GvGphr','find','componentsToDelete','../../../shared/utils','insert','4PmFYNV','proceedRequests','SalesforceCompositeService','toString','Cannot\x20upload\x20components\x20due\x20to\x20size\x20-\x20MAX_SIZE\x20=\x20','executeGraphs','proceedCommitsToRepository','\x20requests\x20to\x20composite\x20api.','log','606255DGOKwj','update','get','__esModule','typedi','\x20COMPONENTS_SIZE\x20=\x20','../../../../constants','logger','removed','options','../utils/composite.utils','toJSON','SalesforceError','composite','Logger','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','SALESFORCE_MAX_REQUEST_SIZE_BYTES','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','search','apply','Sending\x20','proceededComponentsMeta','../../../../core','modified','author','SalesforceComponentsManager','recordTypes'];a233_0x1d8a=function(){return _0x513b24;};return a233_0x1d8a();}const a233_0x29ada8=a233_0x2693;(function(_0x1ef3e9,_0x14175a){const _0x1b65a6=a233_0x2693,_0x5c64b5=_0x1ef3e9();while(!![]){try{const _0x5a3472=parseInt(_0x1b65a6(0x1e8))/0x1*(parseInt(_0x1b65a6(0x1fb))/0x2)+parseInt(_0x1b65a6(0x1fd))/0x3*(-parseInt(_0x1b65a6(0x1c0))/0x4)+parseInt(_0x1b65a6(0x1c9))/0x5+parseInt(_0x1b65a6(0x1f9))/0x6+parseInt(_0x1b65a6(0x1f4))/0x7+parseInt(_0x1b65a6(0x1bb))/0x8+-parseInt(_0x1b65a6(0x1e7))/0x9*(parseInt(_0x1b65a6(0x1ed))/0xa);if(_0x5a3472===_0x14175a)break;else _0x5c64b5['push'](_0x5c64b5['shift']());}catch(_0x38f2ea){_0x5c64b5['push'](_0x5c64b5['shift']());}}}(a233_0x1d8a,0x6ec85));const a233_0x469ebc=(function(){let _0x4274a5=!![];return function(_0x527a24,_0x13bbcd){const _0x484118=_0x4274a5?function(){const _0x52a489=a233_0x2693;if(_0x13bbcd){const _0x39069f=_0x13bbcd[_0x52a489(0x1dc)](_0x527a24,arguments);return _0x13bbcd=null,_0x39069f;}}:function(){};return _0x4274a5=![],_0x484118;};}()),a233_0xafb379=a233_0x469ebc(this,function(){const _0x400d9e=a233_0x2693;return a233_0xafb379[_0x400d9e(0x1c3)]()[_0x400d9e(0x1db)]('(((.+)+)+)+$')[_0x400d9e(0x1c3)]()[_0x400d9e(0x1fc)](a233_0xafb379)[_0x400d9e(0x1db)](_0x400d9e(0x1ba));});a233_0xafb379();function a233_0x2693(_0x41638a,_0x39dc81){const _0x4f19c5=a233_0x1d8a();return a233_0x2693=function(_0xafb379,_0x469ebc){_0xafb379=_0xafb379-0x1b1;let _0x1d8a16=_0x4f19c5[_0xafb379];return _0x1d8a16;},a233_0x2693(_0x41638a,_0x39dc81);}'use strict';var __importDefault=this&&this[a233_0x29ada8(0x1b9)]||function(_0x1cbcad){const _0x45033a=a233_0x29ada8;return _0x1cbcad&&_0x1cbcad[_0x45033a(0x1cc)]?_0x1cbcad:{'default':_0x1cbcad};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a233_0x29ada8(0x1ec)]=void 0x0;const core_1=require(a233_0x29ada8(0x1df)),typedi_1=__importDefault(require(a233_0x29ada8(0x1cd))),constants_1=require(a233_0x29ada8(0x1cf)),utils_1=require(a233_0x29ada8(0x1be)),salesforce_error_1=require(a233_0x29ada8(0x1f0)),composite_utils_1=require(a233_0x29ada8(0x1d3)),salesforce_components_manager_service_1=require('./salesforce-components-manager.service'),salesforce_composite_service_1=require(a233_0x29ada8(0x1eb));class SalesforceCommitsManager{constructor(_0x58499f){const _0x15e1a3=a233_0x29ada8;this[_0x15e1a3(0x1d2)]=_0x58499f,this[_0x15e1a3(0x1e9)]=0x3,this[_0x15e1a3(0x1d0)]=new core_1[(_0x15e1a3(0x1d7))](SalesforceCommitsManager['name']),this[_0x15e1a3(0x1b8)]=this[_0x15e1a3(0x1d2)][_0x15e1a3(0x1d0)],this[_0x15e1a3(0x1d6)]=typedi_1['default'][_0x15e1a3(0x1cb)](salesforce_composite_service_1[_0x15e1a3(0x1c2)]),this[_0x15e1a3(0x1de)]=[];}async[a233_0x29ada8(0x1fa)](_0x4f7471,_0x111241=![]){const _0x10fc85=a233_0x29ada8,_0x35960d=async _0x470329=>{const _0x3c3021=a233_0x2693;await this[_0x3c3021(0x1d0)][_0x3c3021(0x1c8)](_0x3c3021(0x1dd)+_0x470329[_0x3c3021(0x1b6)]((_0x44e9a3,_0x31679c)=>_0x44e9a3+_0x31679c[_0x3c3021(0x1e4)],0x0)+_0x3c3021(0x1c7));const _0x1a5bbb=_0x470329['map']((_0x2bdfdb,_0x381dde)=>({'graphId':_0x3c3021(0x1b5)+_0x381dde,'compositeRequest':_0x2bdfdb})),_0x14409f=await this[_0x3c3021(0x1d6)][_0x3c3021(0x1c5)](_0x1a5bbb);if(_0x111241){const _0x4939d9=(0x0,composite_utils_1[_0x3c3021(0x1f2)])(_0x14409f);for(const {id:_0x364245,ref:_0x4aad65}of _0x4939d9){const _0x45aada=this['proceededComponentsMeta'][_0x3c3021(0x1bc)](_0x37555c=>_0x37555c[_0x3c3021(0x1ef)]===_0x4aad65);_0x45aada&&(_0x45aada['componentId']=_0x364245);}}},_0x4a9d88=0x1e8480;let _0x46251c=0x0,_0x19bcbd=[];for(const _0x5061e9 of _0x4f7471){const _0x54c01a=_0x5061e9[_0x10fc85(0x1b6)]((_0x5472b8,_0x2c46cb)=>{const _0x5e242e=_0x10fc85,_0x47f059=JSON['stringify'](_0x2c46cb)[_0x5e242e(0x1e4)]*0x2;return _0x5472b8+_0x47f059;},0x0);if(_0x54c01a>constants_1['SALESFORCE_MAX_REQUEST_SIZE_BYTES'])throw new salesforce_error_1[(_0x10fc85(0x1d5))](_0x10fc85(0x1c4)+constants_1[_0x10fc85(0x1d9)]+_0x10fc85(0x1ce)+_0x54c01a);_0x46251c+_0x54c01a>constants_1['SALESFORCE_MAX_REQUEST_SIZE_BYTES']-_0x4a9d88&&(await _0x35960d(_0x19bcbd),_0x19bcbd=[],_0x46251c=0x0),_0x46251c+=_0x54c01a,_0x19bcbd[_0x10fc85(0x1f1)](_0x5061e9);}_0x19bcbd[_0x10fc85(0x1e4)]&&await _0x35960d(_0x19bcbd);}async['proceedRequests'](_0x4a38a9,_0xac879e=![]){const _0x446abd=a233_0x29ada8,_0x545678=(this[_0x446abd(0x1e9)]+ +_0xac879e)*0x3,_0x179955=(0x0,utils_1[_0x446abd(0x1ee)])(_0x4a38a9,_0x545678);try{while(_0x179955[_0x446abd(0x1e4)]){const _0x5ee392=_0x179955[_0x446abd(0x1f5)](0x0,Math['floor'](constants_1[_0x446abd(0x1ea)]/_0x545678));await this[_0x446abd(0x1fa)](_0x5ee392,_0xac879e);}}catch(_0x945b5f){this['logger'][_0x446abd(0x1f3)](_0x945b5f instanceof salesforce_error_1[_0x446abd(0x1d5)]?JSON[_0x446abd(0x1e6)](_0x945b5f[_0x446abd(0x1d4)](),null,0x2):_0x945b5f),this[_0x446abd(0x1b8)][_0x446abd(0x1c8)](_0x945b5f instanceof salesforce_error_1[_0x446abd(0x1d5)]?JSON[_0x446abd(0x1e6)](_0x945b5f[_0x446abd(0x1d4)](),null,0x2):_0x945b5f[_0x446abd(0x1c3)]());throw _0x945b5f;}}async[a233_0x29ada8(0x1c6)](_0x1759db){const _0x264e5e=a233_0x29ada8;for(const _0x4a317d of _0x1759db){if(!_0x4a317d[_0x264e5e(0x1b1)][_0x264e5e(0x1e4)]&&!_0x4a317d[_0x264e5e(0x1e0)][_0x264e5e(0x1e4)]&&!_0x4a317d[_0x264e5e(0x1d1)][_0x264e5e(0x1e4)])continue;const _0x578fed=[],_0x132387=[],_0x176ad6=new salesforce_components_manager_service_1[(_0x264e5e(0x1e2))](this['options'][_0x264e5e(0x1b4)],this[_0x264e5e(0x1d2)][_0x264e5e(0x1f7)],_0x4a317d[_0x264e5e(0x1e1)],this[_0x264e5e(0x1d2)][_0x264e5e(0x1e3)],this['proceededComponentsMeta']);_0x578fed['push'](...await _0x176ad6['insert'](_0x4a317d[_0x264e5e(0x1b1)],this[_0x264e5e(0x1d2)][_0x264e5e(0x1b7)])),_0x578fed[_0x264e5e(0x1f1)](...await _0x176ad6[_0x264e5e(0x1ca)](_0x4a317d['modified'],this['options'][_0x264e5e(0x1b7)])),_0x132387[_0x264e5e(0x1f1)](await _0x176ad6[_0x264e5e(0x1f6)](_0x4a317d['removed'],!![])),this[_0x264e5e(0x1de)]=_0x176ad6[_0x264e5e(0x1f8)](),await this['proceedRequests'](_0x578fed,!![]);for(const _0x2c93be of _0x132387){_0x2c93be[_0x264e5e(0x1b2)][_0x264e5e(0x1e4)]&&await this[_0x264e5e(0x1c1)](_0x2c93be[_0x264e5e(0x1b2)],!![]),_0x2c93be[_0x264e5e(0x1e5)][_0x264e5e(0x1e4)]&&await this[_0x264e5e(0x1c1)](_0x2c93be[_0x264e5e(0x1e5)],!![]),_0x2c93be[_0x264e5e(0x1bd)]['length']&&await this[_0x264e5e(0x1c1)](_0x2c93be[_0x264e5e(0x1bd)],!![]);}this[_0x264e5e(0x1d0)][_0x264e5e(0x1c8)](_0x264e5e(0x1da),_0x578fed[_0x264e5e(0x1e4)]);}}async[a233_0x29ada8(0x1b3)](_0x321b9c){const _0x1f5f1c=a233_0x29ada8,_0x27f763=[],_0x4fc71f=[];for(const _0x5d0674 of _0x321b9c){if(!_0x5d0674[_0x1f5f1c(0x1b1)]['length']&&!_0x5d0674[_0x1f5f1c(0x1e0)]['length']&&!_0x5d0674[_0x1f5f1c(0x1d1)]['length'])continue;const _0x4b2e76=new salesforce_components_manager_service_1[(_0x1f5f1c(0x1e2))](this['options']['repositoryId'],this[_0x1f5f1c(0x1d2)][_0x1f5f1c(0x1f7)],_0x5d0674['author'],this[_0x1f5f1c(0x1d2)][_0x1f5f1c(0x1e3)],[]);_0x27f763[_0x1f5f1c(0x1f1)](...await _0x4b2e76[_0x1f5f1c(0x1bf)](_0x5d0674[_0x1f5f1c(0x1b1)])),_0x27f763[_0x1f5f1c(0x1f1)](...await _0x4b2e76[_0x1f5f1c(0x1ca)](_0x5d0674['modified'])),_0x4fc71f[_0x1f5f1c(0x1f1)](await _0x4b2e76[_0x1f5f1c(0x1f6)](_0x5d0674[_0x1f5f1c(0x1d1)]));}this[_0x1f5f1c(0x1d0)][_0x1f5f1c(0x1c8)](_0x1f5f1c(0x1d8),_0x27f763[_0x1f5f1c(0x1e4)]),await this[_0x1f5f1c(0x1c1)](_0x27f763);const _0x329531=_0x4fc71f[_0x1f5f1c(0x1b6)]((_0xd9fa4,_0x6ec4ac)=>({'manifests':[..._0xd9fa4[_0x1f5f1c(0x1b2)],..._0x6ec4ac[_0x1f5f1c(0x1b2)]],'componentsToDelete':[..._0xd9fa4['componentsToDelete'],..._0x6ec4ac['componentsToDelete']],'componentsToUpdate':[..._0xd9fa4[_0x1f5f1c(0x1e5)],..._0x6ec4ac['componentsToUpdate']]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x329531[_0x1f5f1c(0x1b2)]['length']&&await this['proceedRequests'](_0x329531[_0x1f5f1c(0x1b2)],!![]),_0x329531[_0x1f5f1c(0x1e5)][_0x1f5f1c(0x1e4)]&&await this[_0x1f5f1c(0x1c1)](_0x329531['componentsToUpdate'],!![]),_0x329531[_0x1f5f1c(0x1bd)][_0x1f5f1c(0x1e4)]&&await this[_0x1f5f1c(0x1c1)](_0x329531[_0x1f5f1c(0x1bd)],!![]);}async['proceedCommits'](_0x2f251e){const _0x27b3e7=a233_0x29ada8;this['options'][_0x27b3e7(0x1f7)]?await this[_0x27b3e7(0x1b3)](_0x2f251e):await this[_0x27b3e7(0x1c6)](_0x2f251e);}}exports[a233_0x29ada8(0x1ec)]=SalesforceCommitsManager;