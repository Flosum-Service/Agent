function a279_0x5dd7(){const _0x116ca9=['../../../../core','GET_ATTACHMENT_BY_PARENT_IDS_QUERY','retrieveAttachment','fileName','%ids%','salesforceService','info','FlosumComponentHistoryDto','all','typedi','Manually\x20retrieving\x20components\x20from\x20salesforce','COMPONENTS_PER_QUERY','2298QUTIKI','push','logger','624259XmeuVd','1030qirMLn','fromSalesforce','2197593ZDBHxI','get','Manually\x20retrieved\x20%d/%d\x20components','defineProperty','ParentId','retrieveComponentIdsFromHistoryIds','../queries','join','find','4247747mHDOjZ','length','toString','COMPONENTS_PER_REQUEST','search','SalesforceRetrieverService','SalesforceQueryService','(((.+)+)+)+$','apply','Name','base64','retrieveComponents','GET_COMPONENT_HISTORIES_BY_IDS','query','%parent_ids%','697126oFDrPT','./salesforce-query.service','replace','run','Manually\x20retrieving\x20component\x20ids\x20from\x20history\x20ids\x20(%d)','10676584GcJYiq','204352dNwiCa','retrieveLastComponents','then','filename','constructor','Logger'];a279_0x5dd7=function(){return _0x116ca9;};return a279_0x5dd7();}const a279_0x1a178a=a279_0x467a;(function(_0x39b782,_0x5cad32){const _0x359337=a279_0x467a,_0x4e5e0d=_0x39b782();while(!![]){try{const _0x4baff4=parseInt(_0x359337(0x1fa))/0x1+-parseInt(_0x359337(0x1df))/0x2+parseInt(_0x359337(0x1c7))/0x3+parseInt(_0x359337(0x1e5))/0x4+parseInt(_0x359337(0x1fb))/0x5*(parseInt(_0x359337(0x1f7))/0x6)+parseInt(_0x359337(0x1d0))/0x7+-parseInt(_0x359337(0x1e4))/0x8;if(_0x4baff4===_0x5cad32)break;else _0x4e5e0d['push'](_0x4e5e0d['shift']());}catch(_0x4e918e){_0x4e5e0d['push'](_0x4e5e0d['shift']());}}}(a279_0x5dd7,0x6435d));const a279_0x3e7544=(function(){let _0x2ac79a=!![];return function(_0x11528c,_0x550526){const _0x2624e2=_0x2ac79a?function(){const _0x137dae=a279_0x467a;if(_0x550526){const _0x367f5d=_0x550526[_0x137dae(0x1d8)](_0x11528c,arguments);return _0x550526=null,_0x367f5d;}}:function(){};return _0x2ac79a=![],_0x2624e2;};}()),a279_0x427be7=a279_0x3e7544(this,function(){const _0x1d4e38=a279_0x467a;return a279_0x427be7[_0x1d4e38(0x1d2)]()[_0x1d4e38(0x1d4)](_0x1d4e38(0x1d7))[_0x1d4e38(0x1d2)]()[_0x1d4e38(0x1e9)](a279_0x427be7)[_0x1d4e38(0x1d4)](_0x1d4e38(0x1d7));});a279_0x427be7();'use strict';function a279_0x467a(_0x5bc360,_0x13e148){const _0x34e7ec=a279_0x5dd7();return a279_0x467a=function(_0x427be7,_0x3e7544){_0x427be7=_0x427be7-0x1c7;let _0x5dd7df=_0x34e7ec[_0x427be7];return _0x5dd7df;},a279_0x467a(_0x5bc360,_0x13e148);}var __importDefault=this&&this['__importDefault']||function(_0x3569ac){return _0x3569ac&&_0x3569ac['__esModule']?_0x3569ac:{'default':_0x3569ac};};Object[a279_0x1a178a(0x1ca)](exports,'__esModule',{'value':!![]}),exports[a279_0x1a178a(0x1d5)]=void 0x0;const core_1=require(a279_0x1a178a(0x1eb)),typedi_1=__importDefault(require(a279_0x1a178a(0x1f4))),salesforce_query_service_1=require(a279_0x1a178a(0x1e0)),queries_1=require(a279_0x1a178a(0x1cd)),flosum_component_history_dto_1=require('../dto/flosum-component-history.dto');class SalesforceRetrieverService{constructor(_0x24df73){const _0x1284db=a279_0x1a178a;this[_0x1284db(0x1f0)]=_0x24df73,this[_0x1284db(0x1f9)]=new core_1[(_0x1284db(0x1ea))](SalesforceRetrieverService['name']),this[_0x1284db(0x1d3)]=0xbb8,this['COMPONENTS_PER_QUERY']=0x1f4;}async[a279_0x1a178a(0x1cc)](_0x20bd9c){const _0x25937c=a279_0x1a178a;this[_0x25937c(0x1f9)][_0x25937c(0x1f1)](_0x25937c(0x1e3),_0x20bd9c[_0x25937c(0x1d1)]);const _0x6dea80=typedi_1['default'][_0x25937c(0x1c8)](salesforce_query_service_1[_0x25937c(0x1d6)]),_0x29c2de=_0x20bd9c['map'](_0x61f9ff=>'\x27'+_0x61f9ff+'\x27'),_0x432c83=[];while(_0x29c2de['length']){const _0x46e84b=_0x29c2de['splice'](0x0,this[_0x25937c(0x1f6)]),_0x4f8062=_0x6dea80[_0x25937c(0x1dd)](queries_1[_0x25937c(0x1ec)][_0x25937c(0x1e1)](_0x25937c(0x1de),_0x46e84b[_0x25937c(0x1ce)]())),_0x58d682=_0x6dea80[_0x25937c(0x1dd)](queries_1[_0x25937c(0x1dc)][_0x25937c(0x1e1)](_0x25937c(0x1ef),_0x46e84b[_0x25937c(0x1ce)]()))[_0x25937c(0x1e7)](_0x5df621=>_0x5df621['map'](_0x4daf15=>flosum_component_history_dto_1[_0x25937c(0x1f2)][_0x25937c(0x1fc)](_0x4daf15))),[_0x547d2f,_0x324ca4]=await Promise[_0x25937c(0x1f3)]([_0x4f8062,_0x58d682]);for(const _0x75936d of _0x324ca4){const _0x5cb1c4=_0x547d2f[_0x25937c(0x1cf)](_0xcd49ee=>_0xcd49ee[_0x25937c(0x1cb)]===_0x75936d['id']);_0x5cb1c4&&_0x432c83[_0x25937c(0x1f8)]({'fileType':_0x5cb1c4[_0x25937c(0x1d9)],'fileName':_0x75936d[_0x25937c(0x1e8)],'attachmentId':_0x5cb1c4['Id']});}}return _0x432c83;}async[a279_0x1a178a(0x1e6)](_0x1fbda5){const _0x57c480=a279_0x1a178a,_0x29eeb6=await this[_0x57c480(0x1cc)](_0x1fbda5);this['logger'][_0x57c480(0x1f1)](_0x57c480(0x1f5));const _0xb165e3=[];for(const _0xc5eeb4 of _0x29eeb6){const _0x4bc02c=await this['salesforceService'][_0x57c480(0x1ed)](_0xc5eeb4['attachmentId'],!![]);_0xb165e3['push']({'body':_0x4bc02c[_0x57c480(0x1d2)](_0x57c480(0x1da)),'fileName':_0xc5eeb4[_0x57c480(0x1ee)],'fileType':_0xc5eeb4['fileType']}),this['logger'][_0x57c480(0x1f1)](_0x57c480(0x1c9),_0xb165e3[_0x57c480(0x1d1)],_0x1fbda5[_0x57c480(0x1d1)]);}return _0xb165e3;}async[a279_0x1a178a(0x1e2)](_0x52fc5f){const _0x1dafcf=a279_0x1a178a;if(!_0x52fc5f[_0x1dafcf(0x1d1)])return[];const _0x5312db=await this[_0x1dafcf(0x1f0)][_0x1dafcf(0x1db)](_0x52fc5f);return _0x5312db;}}exports[a279_0x1a178a(0x1d5)]=SalesforceRetrieverService;