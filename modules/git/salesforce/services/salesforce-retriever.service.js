function a280_0x5715(){const _0x49f511=['../dto/flosum-component-history.dto','query','1939770EHFRmu','default','SalesforceQueryService','Logger','splice','FlosumComponentHistoryDto','2083543eFUkrs','fileName','20016CqwTVx','%ids%','Manually\x20retrieving\x20components\x20from\x20salesforce','__esModule','map','all','retrieveAttachment','COMPONENTS_PER_QUERY','464ftzvaO','length','toString','GET_COMPONENT_HISTORIES_BY_IDS','join','79VPwkAq','retrieveComponents','replace','Manually\x20retrieving\x20component\x20ids\x20from\x20history\x20ids\x20(%d)','30051tZiMdt','./salesforce-query.service','20322IEKWgx','Manually\x20retrieved\x20%d/%d\x20components','36lXQAKi','push','retrieveLastComponents','attachmentId','fromSalesforce','logger','445EjpdgA','constructor','5144271jYFzNZ','then','typedi','COMPONENTS_PER_REQUEST','%parent_ids%','retrieveComponentIdsFromHistoryIds','../queries','apply','base64','(((.+)+)+)+$','SalesforceRetrieverService','salesforceService','fileType','info','4664cyuuxD','filename','GET_ATTACHMENT_BY_PARENT_IDS_QUERY','name','find','search'];a280_0x5715=function(){return _0x49f511;};return a280_0x5715();}const a280_0x409336=a280_0x1b3a;(function(_0x15e4ba,_0x5c7aa9){const _0x1cb244=a280_0x1b3a,_0x26c6fe=_0x15e4ba();while(!![]){try{const _0x16a4af=-parseInt(_0x1cb244(0x144))/0x1*(-parseInt(_0x1cb244(0x127))/0x2)+-parseInt(_0x1cb244(0x14c))/0x3*(-parseInt(_0x1cb244(0x137))/0x4)+-parseInt(_0x1cb244(0x152))/0x5*(-parseInt(_0x1cb244(0x14a))/0x6)+-parseInt(_0x1cb244(0x135))/0x7+parseInt(_0x1cb244(0x13f))/0x8*(parseInt(_0x1cb244(0x148))/0x9)+parseInt(_0x1cb244(0x12f))/0xa+-parseInt(_0x1cb244(0x154))/0xb;if(_0x16a4af===_0x5c7aa9)break;else _0x26c6fe['push'](_0x26c6fe['shift']());}catch(_0x55d5b6){_0x26c6fe['push'](_0x26c6fe['shift']());}}}(a280_0x5715,0x29070));const a280_0xa08a55=(function(){let _0x4aca5e=!![];return function(_0x198ab4,_0x35ed39){const _0x135d9f=_0x4aca5e?function(){const _0x1bf7d2=a280_0x1b3a;if(_0x35ed39){const _0x42ff7f=_0x35ed39[_0x1bf7d2(0x15b)](_0x198ab4,arguments);return _0x35ed39=null,_0x42ff7f;}}:function(){};return _0x4aca5e=![],_0x135d9f;};}()),a280_0x454a85=a280_0xa08a55(this,function(){const _0x1221fe=a280_0x1b3a;return a280_0x454a85[_0x1221fe(0x141)]()['search'](_0x1221fe(0x15d))[_0x1221fe(0x141)]()[_0x1221fe(0x153)](a280_0x454a85)[_0x1221fe(0x12c)](_0x1221fe(0x15d));});a280_0x454a85();function a280_0x1b3a(_0x1ab362,_0x1a617d){const _0x545906=a280_0x5715();return a280_0x1b3a=function(_0x454a85,_0xa08a55){_0x454a85=_0x454a85-0x127;let _0x571546=_0x545906[_0x454a85];return _0x571546;},a280_0x1b3a(_0x1ab362,_0x1a617d);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2846a9){return _0x2846a9&&_0x2846a9['__esModule']?_0x2846a9:{'default':_0x2846a9};};Object['defineProperty'](exports,a280_0x409336(0x13a),{'value':!![]}),exports[a280_0x409336(0x15e)]=void 0x0;const core_1=require('../../../../core'),typedi_1=__importDefault(require(a280_0x409336(0x156))),salesforce_query_service_1=require(a280_0x409336(0x149)),queries_1=require(a280_0x409336(0x15a)),flosum_component_history_dto_1=require(a280_0x409336(0x12d));class SalesforceRetrieverService{constructor(_0x465b3f){const _0x29dbff=a280_0x409336;this[_0x29dbff(0x15f)]=_0x465b3f,this[_0x29dbff(0x151)]=new core_1[(_0x29dbff(0x132))](SalesforceRetrieverService[_0x29dbff(0x12a)]),this[_0x29dbff(0x157)]=0xbb8,this['COMPONENTS_PER_QUERY']=0x1f4;}async[a280_0x409336(0x159)](_0x5cd989){const _0x1f918f=a280_0x409336;this[_0x1f918f(0x151)][_0x1f918f(0x161)](_0x1f918f(0x147),_0x5cd989[_0x1f918f(0x140)]);const _0x4aa25b=typedi_1[_0x1f918f(0x130)]['get'](salesforce_query_service_1[_0x1f918f(0x131)]),_0x2b523a=_0x5cd989[_0x1f918f(0x13b)](_0x24d163=>'\x27'+_0x24d163+'\x27'),_0x1f777a=[];while(_0x2b523a[_0x1f918f(0x140)]){const _0x51d012=_0x2b523a[_0x1f918f(0x133)](0x0,this[_0x1f918f(0x13e)]),_0x384ce8=_0x4aa25b[_0x1f918f(0x12e)](queries_1[_0x1f918f(0x129)][_0x1f918f(0x146)](_0x1f918f(0x158),_0x51d012[_0x1f918f(0x143)]())),_0x158d94=_0x4aa25b[_0x1f918f(0x12e)](queries_1[_0x1f918f(0x142)][_0x1f918f(0x146)](_0x1f918f(0x138),_0x51d012[_0x1f918f(0x143)]()))[_0x1f918f(0x155)](_0x15c185=>_0x15c185['map'](_0x30c936=>flosum_component_history_dto_1[_0x1f918f(0x134)][_0x1f918f(0x150)](_0x30c936))),[_0x39e754,_0x947ebd]=await Promise[_0x1f918f(0x13c)]([_0x384ce8,_0x158d94]);for(const _0x40d074 of _0x947ebd){const _0x31742a=_0x39e754[_0x1f918f(0x12b)](_0x519244=>_0x519244['ParentId']===_0x40d074['id']);_0x31742a&&_0x1f777a['push']({'fileType':_0x31742a['Name'],'fileName':_0x40d074[_0x1f918f(0x128)],'attachmentId':_0x31742a['Id']});}}return _0x1f777a;}async[a280_0x409336(0x14e)](_0x35931b){const _0x1b5346=a280_0x409336,_0x23a09b=await this[_0x1b5346(0x159)](_0x35931b);this[_0x1b5346(0x151)][_0x1b5346(0x161)](_0x1b5346(0x139));const _0x513fde=[];for(const _0x1f2917 of _0x23a09b){const _0x4bfd95=await this[_0x1b5346(0x15f)][_0x1b5346(0x13d)](_0x1f2917[_0x1b5346(0x14f)],!![]);_0x513fde[_0x1b5346(0x14d)]({'body':_0x4bfd95[_0x1b5346(0x141)](_0x1b5346(0x15c)),'fileName':_0x1f2917[_0x1b5346(0x136)],'fileType':_0x1f2917[_0x1b5346(0x160)]}),this['logger'][_0x1b5346(0x161)](_0x1b5346(0x14b),_0x513fde[_0x1b5346(0x140)],_0x35931b[_0x1b5346(0x140)]);}return _0x513fde;}async['run'](_0xcac53b){const _0x49974a=a280_0x409336;if(!_0xcac53b[_0x49974a(0x140)])return[];const _0x5e729f=await this[_0x49974a(0x15f)][_0x49974a(0x145)](_0xcac53b);return _0x5e729f;}}exports['SalesforceRetrieverService']=SalesforceRetrieverService;