const a256_0x58662e=a256_0x2156;(function(_0xcd1607,_0x13fb89){const _0x217c0f=a256_0x2156,_0x40d510=_0xcd1607();while(!![]){try{const _0x51d193=-parseInt(_0x217c0f(0x11a))/0x1+parseInt(_0x217c0f(0xfb))/0x2+parseInt(_0x217c0f(0x13e))/0x3+parseInt(_0x217c0f(0x107))/0x4+-parseInt(_0x217c0f(0x100))/0x5*(-parseInt(_0x217c0f(0x13b))/0x6)+parseInt(_0x217c0f(0x11c))/0x7+parseInt(_0x217c0f(0x11d))/0x8*(-parseInt(_0x217c0f(0x135))/0x9);if(_0x51d193===_0x13fb89)break;else _0x40d510['push'](_0x40d510['shift']());}catch(_0x48209c){_0x40d510['push'](_0x40d510['shift']());}}}(a256_0x8678,0x621ab));function a256_0x2156(_0x4833e6,_0x2ad3d9){const _0x98791c=a256_0x8678();return a256_0x2156=function(_0x1c6336,_0x3579bb){_0x1c6336=_0x1c6336-0xfb;let _0x86780e=_0x98791c[_0x1c6336];return _0x86780e;},a256_0x2156(_0x4833e6,_0x2ad3d9);}const a256_0x3579bb=(function(){let _0x5535cb=!![];return function(_0x3b7f0b,_0x52ba32){const _0x355b9c=_0x5535cb?function(){const _0x3bafa7=a256_0x2156;if(_0x52ba32){const _0x1c6e3f=_0x52ba32[_0x3bafa7(0x116)](_0x3b7f0b,arguments);return _0x52ba32=null,_0x1c6e3f;}}:function(){};return _0x5535cb=![],_0x355b9c;};}()),a256_0x1c6336=a256_0x3579bb(this,function(){const _0x240fba=a256_0x2156;return a256_0x1c6336['toString']()[_0x240fba(0x125)](_0x240fba(0x12d))['toString']()[_0x240fba(0x108)](a256_0x1c6336)[_0x240fba(0x125)](_0x240fba(0x12d));});a256_0x1c6336();'use strict';var __decorate=this&&this['__decorate']||function(_0x3943b9,_0x4b1e3a,_0x84d02c,_0x3ebaca){const _0x48511e=a256_0x2156;var _0x308926=arguments['length'],_0x13e3d4=_0x308926<0x3?_0x4b1e3a:_0x3ebaca===null?_0x3ebaca=Object[_0x48511e(0xfc)](_0x4b1e3a,_0x84d02c):_0x3ebaca,_0xf55231;if(typeof Reflect===_0x48511e(0x136)&&typeof Reflect[_0x48511e(0x12f)]===_0x48511e(0x137))_0x13e3d4=Reflect[_0x48511e(0x12f)](_0x3943b9,_0x4b1e3a,_0x84d02c,_0x3ebaca);else{for(var _0x1eacc8=_0x3943b9[_0x48511e(0x12e)]-0x1;_0x1eacc8>=0x0;_0x1eacc8--)if(_0xf55231=_0x3943b9[_0x1eacc8])_0x13e3d4=(_0x308926<0x3?_0xf55231(_0x13e3d4):_0x308926>0x3?_0xf55231(_0x4b1e3a,_0x84d02c,_0x13e3d4):_0xf55231(_0x4b1e3a,_0x84d02c))||_0x13e3d4;}return _0x308926>0x3&&_0x13e3d4&&Object[_0x48511e(0x111)](_0x4b1e3a,_0x84d02c,_0x13e3d4),_0x13e3d4;},__metadata=this&&this[a256_0x58662e(0xff)]||function(_0x454818,_0x438053){const _0x4144f8=a256_0x58662e;if(typeof Reflect==='object'&&typeof Reflect[_0x4144f8(0x122)]===_0x4144f8(0x137))return Reflect['metadata'](_0x454818,_0x438053);},__param=this&&this[a256_0x58662e(0x120)]||function(_0xec300,_0x150bbc){return function(_0x479071,_0x3e380d){_0x150bbc(_0x479071,_0x3e380d,_0xec300);};},SalesforceService_1;Object[a256_0x58662e(0x111)](exports,'__esModule',{'value':!![]}),exports[a256_0x58662e(0xfd)]=void 0x0;function a256_0x8678(){const _0x1d8e21=['Delete\x20attachment\x20%s\x20from\x20salesforce','then','/connection','loggerId','text','fetchConnection','1594268lKOxgU','constructor','sendLog','SalesforceError','createObject','../errors/salesforce.error','/attachments','request','log','SALESFORCE_API_VERSION','defineProperty','/sobjects/Attachment/','services/data/','post','deleteAttachment','apply','SalesforceAuthService','Retrieve\x20attachment\x20%s\x20from\x20salesforce','getLogger','52262WWbbGv','/body','1225847nhzXQQ','385360iPZBYM','error','logger','__param','Service','metadata','/sobjects/','delete','search','../../../../core','../utils/create-request.util','patchObject','./salesforce-logger.service','get','../dto/connection.dto','Inject','(((.+)+)+)+$','length','decorate','patch','./salesforce-auth.service','namespace','../../../../core/errors/internal-server.error','retrieveComponents','207YpEzxs','object','function','IGNORE_FLOSUM_GIT_NAMESPACE','InternalServerError','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','5682avZdvm','design:paramtypes','/logger','104817cdQJAU','services/apexrest','1359394fwRhPA','getOwnPropertyDescriptor','SalesforceService','internalLogger','__metadata','1445VQlRxf'];a256_0x8678=function(){return _0x1d8e21;};return a256_0x8678();}const typedi_1=require('typedi'),core_1=require(a256_0x58662e(0x126)),internal_server_error_1=require(a256_0x58662e(0x133)),salesforce_auth_service_1=require(a256_0x58662e(0x131)),constants_1=require('../../../../constants'),create_request_util_1=require(a256_0x58662e(0x127)),salesforce_logger_service_1=require(a256_0x58662e(0x129)),salesforce_error_1=require(a256_0x58662e(0x10c)),connection_dto_1=require(a256_0x58662e(0x12b));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x23fb4e){const _0x1a93f9=a256_0x58662e;this[_0x1a93f9(0x11f)]=new core_1['Logger'](SalesforceService_1['name']),this[_0x1a93f9(0x10e)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x23fb4e),this[_0x1a93f9(0x132)]=constants_1[_0x1a93f9(0x138)]?'':'/flosum_git';}['setLoggerId'](_0xdbf152){const _0x48d998=a256_0x58662e;this[_0x48d998(0x104)]=_0xdbf152,this[_0x48d998(0xfe)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a256_0x58662e(0x119)](){const _0x909ccc=a256_0x58662e;return this[_0x909ccc(0xfe)];}async[a256_0x58662e(0x134)](_0x5bedac){const _0x4bc77d=a256_0x58662e;try{this[_0x4bc77d(0x11f)][_0x4bc77d(0x10f)](_0x4bc77d(0x13a),_0x5bedac[_0x4bc77d(0x12e)]);const _0x15dab4=await this['request'][_0x4bc77d(0x114)](_0x4bc77d(0x13f)+this[_0x4bc77d(0x132)]+_0x4bc77d(0x10d),{'componentIds':_0x5bedac,'loggerId':this[_0x4bc77d(0x104)]})[_0x4bc77d(0x102)](({data:_0xe961a6})=>_0xe961a6);return _0x15dab4;}catch(_0x1edcdb){this[_0x4bc77d(0x11f)][_0x4bc77d(0x11e)](_0x1edcdb);throw new salesforce_error_1[(_0x4bc77d(0x10a))](_0x1edcdb);}}async[a256_0x58662e(0x115)](_0x2da7c9){const _0x4d3f1f=a256_0x58662e;try{this[_0x4d3f1f(0x11f)]['log'](_0x4d3f1f(0x101),_0x2da7c9),await this[_0x4d3f1f(0x10e)][_0x4d3f1f(0x124)](_0x4d3f1f(0x113)+constants_1['SALESFORCE_API_VERSION']+_0x4d3f1f(0x112)+_0x2da7c9);}catch(_0x50730e){this[_0x4d3f1f(0x11f)]['error'](_0x50730e);throw new salesforce_error_1[(_0x4d3f1f(0x10a))](_0x50730e);}}async['retrieveAttachment'](_0x47d7df,_0x4f4b91=![]){const _0x4e11d7=a256_0x58662e;try{this[_0x4e11d7(0x11f)]['log'](_0x4e11d7(0x118),_0x47d7df);const _0x316376=await this[_0x4e11d7(0x10e)][_0x4e11d7(0x12a)](_0x4e11d7(0x113)+constants_1['SALESFORCE_API_VERSION']+_0x4e11d7(0x112)+_0x47d7df+_0x4e11d7(0x11b),{'responseType':_0x4f4b91?'arraybuffer':_0x4e11d7(0x105)})[_0x4e11d7(0x102)](({data:_0x56b6b7})=>_0x56b6b7);return _0x316376;}catch(_0x522dd8){this[_0x4e11d7(0x11f)]['error'](_0x522dd8);throw new salesforce_error_1[(_0x4e11d7(0x10a))](_0x522dd8);}}async[a256_0x58662e(0x109)](_0x4691af){const _0xab7a4b=a256_0x58662e;try{_0x4691af['forEach'](_0x3a1350=>this['logger'][_0xab7a4b(0x10f)]('[message]\x20%s',_0x3a1350)),await this[_0xab7a4b(0x10e)][_0xab7a4b(0x114)]('services/apexrest'+this['namespace']+_0xab7a4b(0x13d),{'messages':_0x4691af,'loggerId':this[_0xab7a4b(0x104)]});}catch(_0x25840f){this[_0xab7a4b(0x11f)][_0xab7a4b(0x11e)](_0x25840f);throw new internal_server_error_1[(_0xab7a4b(0x139))](_0x25840f);}}async[a256_0x58662e(0x10b)](_0x419e31,_0x109c25){const _0x4420b2=a256_0x58662e;try{const {data:_0x195271}=await this[_0x4420b2(0x10e)][_0x4420b2(0x114)](_0x4420b2(0x113)+constants_1[_0x4420b2(0x110)]+_0x4420b2(0x123)+_0x419e31+'/',_0x109c25);return _0x195271['id'];}catch(_0x288198){throw new salesforce_error_1[(_0x4420b2(0x10a))](_0x288198);}}async[a256_0x58662e(0x128)](_0x3f719c,_0x4788ec,_0x3e819e){const _0x575d08=a256_0x58662e;try{await this['request'][_0x575d08(0x130)](_0x575d08(0x113)+constants_1[_0x575d08(0x110)]+_0x575d08(0x123)+_0x3f719c+'/'+_0x4788ec,_0x3e819e);}catch(_0x23672d){throw new salesforce_error_1['SalesforceError'](_0x23672d);}}async[a256_0x58662e(0x106)](_0x38084c){const _0x59e35a=a256_0x58662e;try{const {data:_0x5b4692}=await this[_0x59e35a(0x10e)]['get'](_0x59e35a(0x13f)+this[_0x59e35a(0x132)]+_0x59e35a(0x103),{'params':{'connectionId':_0x38084c}});return new connection_dto_1['ConnectionDto'](_0x5b4692);}catch(_0x51ada4){throw new salesforce_error_1[(_0x59e35a(0x10a))](_0x51ada4);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a256_0x58662e(0x121)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a256_0x58662e(0x12c)])()),__metadata(a256_0x58662e(0x13c),[salesforce_auth_service_1[a256_0x58662e(0x117)]])],SalesforceService),exports[a256_0x58662e(0xfd)]=SalesforceService;