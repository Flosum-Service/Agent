const a283_0x374080=a283_0x7bd1;(function(_0x8d3949,_0x40d5ab){const _0x5d811a=a283_0x7bd1,_0xa186e1=_0x8d3949();while(!![]){try{const _0x45834e=parseInt(_0x5d811a(0x109))/0x1*(-parseInt(_0x5d811a(0x135))/0x2)+-parseInt(_0x5d811a(0x102))/0x3+parseInt(_0x5d811a(0x133))/0x4+-parseInt(_0x5d811a(0x101))/0x5+parseInt(_0x5d811a(0xfa))/0x6*(parseInt(_0x5d811a(0xf7))/0x7)+parseInt(_0x5d811a(0x11f))/0x8+-parseInt(_0x5d811a(0x122))/0x9*(-parseInt(_0x5d811a(0xf9))/0xa);if(_0x45834e===_0x40d5ab)break;else _0xa186e1['push'](_0xa186e1['shift']());}catch(_0x227ffc){_0xa186e1['push'](_0xa186e1['shift']());}}}(a283_0x1e80,0x500ce));const a283_0x2a160d=(function(){let _0x2e99a0=!![];return function(_0x2e719f,_0xe4b914){const _0x1f2962=_0x2e99a0?function(){const _0x2b5651=a283_0x7bd1;if(_0xe4b914){const _0x2f749e=_0xe4b914[_0x2b5651(0x118)](_0x2e719f,arguments);return _0xe4b914=null,_0x2f749e;}}:function(){};return _0x2e99a0=![],_0x1f2962;};}()),a283_0x244968=a283_0x2a160d(this,function(){const _0x241dc5=a283_0x7bd1;return a283_0x244968[_0x241dc5(0x126)]()[_0x241dc5(0xf5)](_0x241dc5(0x137))['toString']()['constructor'](a283_0x244968)[_0x241dc5(0xf5)](_0x241dc5(0x137));});a283_0x244968();'use strict';var __decorate=this&&this['__decorate']||function(_0x15bb8b,_0x1fee73,_0x4b83d5,_0x31e41a){const _0x158a7f=a283_0x7bd1;var _0x1250f0=arguments[_0x158a7f(0x11e)],_0x1d5b3c=_0x1250f0<0x3?_0x1fee73:_0x31e41a===null?_0x31e41a=Object[_0x158a7f(0xf1)](_0x1fee73,_0x4b83d5):_0x31e41a,_0x1120b5;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x1d5b3c=Reflect[_0x158a7f(0x113)](_0x15bb8b,_0x1fee73,_0x4b83d5,_0x31e41a);else{for(var _0x805963=_0x15bb8b['length']-0x1;_0x805963>=0x0;_0x805963--)if(_0x1120b5=_0x15bb8b[_0x805963])_0x1d5b3c=(_0x1250f0<0x3?_0x1120b5(_0x1d5b3c):_0x1250f0>0x3?_0x1120b5(_0x1fee73,_0x4b83d5,_0x1d5b3c):_0x1120b5(_0x1fee73,_0x4b83d5))||_0x1d5b3c;}return _0x1250f0>0x3&&_0x1d5b3c&&Object['defineProperty'](_0x1fee73,_0x4b83d5,_0x1d5b3c),_0x1d5b3c;},__metadata=this&&this['__metadata']||function(_0x327c28,_0x2caf23){const _0x1d8101=a283_0x7bd1;if(typeof Reflect===_0x1d8101(0x111)&&typeof Reflect['metadata']===_0x1d8101(0x129))return Reflect['metadata'](_0x327c28,_0x2caf23);},__param=this&&this['__param']||function(_0x160442,_0x1ddf10){return function(_0x1cab8a,_0x2ee465){_0x1ddf10(_0x1cab8a,_0x2ee465,_0x160442);};},SalesforceService_1;Object[a283_0x374080(0x103)](exports,a283_0x374080(0x100),{'value':!![]}),exports[a283_0x374080(0x121)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a283_0x374080(0xfc)),internal_server_error_1=require(a283_0x374080(0xff)),salesforce_auth_service_1=require(a283_0x374080(0x120)),constants_1=require('../../../../constants'),create_request_util_1=require(a283_0x374080(0xee)),salesforce_logger_service_1=require(a283_0x374080(0x12a)),salesforce_error_1=require(a283_0x374080(0x139)),connection_dto_1=require(a283_0x374080(0x10c)),bulk_components_retriever_1=require(a283_0x374080(0x110));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1b2fb6){const _0x4bb56c=a283_0x374080;this[_0x4bb56c(0x106)]=new core_1[(_0x4bb56c(0x114))](SalesforceService_1[_0x4bb56c(0x104)]),this['request']=(0x0,create_request_util_1[_0x4bb56c(0x130)])(_0x1b2fb6),this[_0x4bb56c(0xfe)]=constants_1[_0x4bb56c(0xf3)]?'':'/flosum_git';}[a283_0x374080(0x12e)](_0x3e0efc){const _0x57295e=a283_0x374080;this[_0x57295e(0x116)]=_0x3e0efc,this[_0x57295e(0xf0)]=new salesforce_logger_service_1[(_0x57295e(0x12c))](this);}[a283_0x374080(0x128)](){const _0x511a66=a283_0x374080;return this[_0x511a66(0xf0)];}async[a283_0x374080(0xf4)](_0x45c99c){const _0x58778a=a283_0x374080;try{this[_0x58778a(0x106)][_0x58778a(0xf2)](_0x58778a(0xf8),_0x45c99c[_0x58778a(0x11e)]);const _0x116f4a=new bulk_components_retriever_1[(_0x58778a(0x125))]({'request':this[_0x58778a(0x117)],'ids':_0x45c99c}),_0x93830d=await _0x116f4a[_0x58778a(0xfd)]();return _0x93830d;}catch(_0x4b6122){this[_0x58778a(0x106)]['error'](_0x4b6122);throw new salesforce_error_1[(_0x58778a(0x131))](_0x4b6122);}}async[a283_0x374080(0x105)](_0x4bf87d){const _0x3aaf04=a283_0x374080;try{this[_0x3aaf04(0x106)][_0x3aaf04(0xf2)](_0x3aaf04(0x10b),_0x4bf87d),await this[_0x3aaf04(0x117)][_0x3aaf04(0x12d)](_0x3aaf04(0x11b)+constants_1[_0x3aaf04(0x123)]+_0x3aaf04(0x136)+_0x4bf87d);}catch(_0x27a976){this[_0x3aaf04(0x106)][_0x3aaf04(0x115)](_0x27a976);throw new salesforce_error_1['SalesforceError'](_0x27a976);}}async[a283_0x374080(0x10e)](_0x392bc6,_0x1a88f8=![]){const _0x20b7aa=a283_0x374080;try{this['logger']['log'](_0x20b7aa(0x134),_0x392bc6);const _0x516683=await this[_0x20b7aa(0x117)]['get'](_0x20b7aa(0x11b)+constants_1[_0x20b7aa(0x123)]+_0x20b7aa(0x136)+_0x392bc6+_0x20b7aa(0x12b),{'responseType':_0x1a88f8?_0x20b7aa(0x11a):_0x20b7aa(0xf6)})[_0x20b7aa(0x10d)](({data:_0x43692e})=>_0x43692e);return _0x516683;}catch(_0x782c6d){this[_0x20b7aa(0x106)][_0x20b7aa(0x115)](_0x782c6d);throw new salesforce_error_1[(_0x20b7aa(0x131))](_0x782c6d);}}async[a283_0x374080(0xfb)](_0x45c6df){const _0x5b1c17=a283_0x374080;try{_0x45c6df['forEach'](_0x4ffb05=>this['logger'][_0x5b1c17(0xf2)]('[message]\x20%s',_0x4ffb05)),await this[_0x5b1c17(0x117)][_0x5b1c17(0x10a)]('services/apexrest'+this[_0x5b1c17(0xfe)]+_0x5b1c17(0x127),{'messages':_0x45c6df,'loggerId':this['loggerId']});}catch(_0x34e829){this[_0x5b1c17(0x106)][_0x5b1c17(0x115)](_0x34e829);throw new internal_server_error_1['InternalServerError'](_0x34e829);}}async[a283_0x374080(0x11d)](_0x30af2f,_0x3d0f63){const _0x4693cf=a283_0x374080;try{const {data:_0x1f42be}=await this['request']['post'](_0x4693cf(0x11b)+constants_1[_0x4693cf(0x123)]+_0x4693cf(0x119)+_0x30af2f+'/',_0x3d0f63);return _0x1f42be['id'];}catch(_0x4a6bd4){throw new salesforce_error_1['SalesforceError'](_0x4a6bd4);}}async[a283_0x374080(0x107)](_0x3c503a,_0x59d786,_0x1bcb85){const _0x52aae5=a283_0x374080;try{await this[_0x52aae5(0x117)][_0x52aae5(0x11c)]('services/data/'+constants_1[_0x52aae5(0x123)]+_0x52aae5(0x119)+_0x3c503a+'/'+_0x59d786,_0x1bcb85);}catch(_0x4a590b){throw new salesforce_error_1[(_0x52aae5(0x131))](_0x4a590b);}}async[a283_0x374080(0x10f)](_0x566bd0){const _0x20865e=a283_0x374080;try{const {data:_0x486b8c}=await this['request'][_0x20865e(0x124)](_0x20865e(0x12f)+this['namespace']+_0x20865e(0x108),{'params':{'connectionId':_0x566bd0}});return new connection_dto_1['ConnectionDto'](_0x486b8c);}catch(_0x389a0e){throw new salesforce_error_1[(_0x20865e(0x131))](_0x389a0e);}}};function a283_0x7bd1(_0x24590a,_0x3b46e9){const _0x2c8b81=a283_0x1e80();return a283_0x7bd1=function(_0x244968,_0x2a160d){_0x244968=_0x244968-0xee;let _0x1e80ce=_0x2c8b81[_0x244968];return _0x1e80ce;},a283_0x7bd1(_0x24590a,_0x3b46e9);}function a283_0x1e80(){const _0x508009=['defineProperty','name','deleteAttachment','logger','patchObject','/connection','5CzAcpX','post','Delete\x20attachment\x20%s\x20from\x20salesforce','../dto/connection.dto','then','retrieveAttachment','fetchConnection','../classes/bulk-components-retriever','object','Service','decorate','Logger','error','loggerId','request','apply','/sobjects/','arraybuffer','services/data/','patch','createObject','length','3225312QaJXFC','./salesforce-auth.service','SalesforceService','19953TXswAP','SALESFORCE_API_VERSION','get','BulkComponentsRetriever','toString','/logger','getLogger','function','./salesforce-logger.service','/body','SalesforceLogger','delete','setLoggerId','services/apexrest','createSalesforceRequest','SalesforceError','Inject','1353056WZgktR','Retrieve\x20attachment\x20%s\x20from\x20salesforce','218364ISWpRm','/sobjects/Attachment/','(((.+)+)+)+$','design:paramtypes','../errors/salesforce.error','../utils/create-request.util','SalesforceAuthService','internalLogger','getOwnPropertyDescriptor','log','IGNORE_FLOSUM_GIT_NAMESPACE','retrieveComponents','search','text','35AgTYFi','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','2580rDohPo','409020uePCvo','sendLog','../../../../core','retrieve','namespace','../../../../core/errors/internal-server.error','__esModule','1130305vnQBUW','1663221yLUAZD'];a283_0x1e80=function(){return _0x508009;};return a283_0x1e80();}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a283_0x374080(0x112)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a283_0x374080(0x132)])()),__metadata(a283_0x374080(0x138),[salesforce_auth_service_1[a283_0x374080(0xef)]])],SalesforceService),exports[a283_0x374080(0x121)]=SalesforceService;