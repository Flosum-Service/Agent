const a284_0x940820=a284_0xa890;function a284_0x1126(){const _0x4cd17f=['Delete\x20attachment\x20%s\x20from\x20salesforce','services/data/','internalLogger','SalesforceLogger','namespace','design:paramtypes','metadata','createObject','[message]\x20%s','log','createSalesforceRequest','../dto/connection.dto','name','../../../../core/errors/internal-server.error','constructor','__decorate','loggerId','53HinAoR','4676388zUErSC','deleteAttachment','/logger','sendLog','error','toString','defineProperty','/flosum_git','decorate','3614568BbHMiX','IGNORE_FLOSUM_GIT_NAMESPACE','843984XTVROw','InternalServerError','retrieveComponents','Retrieve\x20attachment\x20%s\x20from\x20salesforce','./salesforce-logger.service','setLoggerId','function','SALESFORCE_API_VERSION','text','getLogger','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','object','56BZCSWc','1318257YfgZHc','Inject','(((.+)+)+)+$','search','9577782Ojtcys','__param','SalesforceAuthService','5893437CTdDoN','get','/connection','length','SalesforceError','5vbmmPa','logger','services/apexrest','36262dWShpU','post','retrieveAttachment','SalesforceService','request','../errors/salesforce.error','BulkComponentsRetriever','/sobjects/Attachment/','ConnectionDto','50BWqTiB','/sobjects/','retrieve','getOwnPropertyDescriptor'];a284_0x1126=function(){return _0x4cd17f;};return a284_0x1126();}(function(_0x1fadfa,_0x1d27e1){const _0x46bc7f=a284_0xa890,_0xbbc384=_0x1fadfa();while(!![]){try{const _0x21464e=-parseInt(_0x46bc7f(0x1be))/0x1*(-parseInt(_0x46bc7f(0x1e6))/0x2)+-parseInt(_0x46bc7f(0x1bf))/0x3+-parseInt(_0x46bc7f(0x1c8))/0x4*(-parseInt(_0x46bc7f(0x1e3))/0x5)+-parseInt(_0x46bc7f(0x1db))/0x6+-parseInt(_0x46bc7f(0x1d6))/0x7*(-parseInt(_0x46bc7f(0x1ca))/0x8)+-parseInt(_0x46bc7f(0x1d7))/0x9*(-parseInt(_0x46bc7f(0x1a9))/0xa)+parseInt(_0x46bc7f(0x1de))/0xb;if(_0x21464e===_0x1d27e1)break;else _0xbbc384['push'](_0xbbc384['shift']());}catch(_0x400445){_0xbbc384['push'](_0xbbc384['shift']());}}}(a284_0x1126,0xc8968));const a284_0x27a8dd=(function(){let _0x5c9507=!![];return function(_0x3fce0d,_0x55a8e7){const _0x42a84d=_0x5c9507?function(){if(_0x55a8e7){const _0x3b2740=_0x55a8e7['apply'](_0x3fce0d,arguments);return _0x55a8e7=null,_0x3b2740;}}:function(){};return _0x5c9507=![],_0x42a84d;};}()),a284_0x19def3=a284_0x27a8dd(this,function(){const _0x47b3af=a284_0xa890;return a284_0x19def3[_0x47b3af(0x1c4)]()['search'](_0x47b3af(0x1d9))[_0x47b3af(0x1c4)]()[_0x47b3af(0x1bb)](a284_0x19def3)[_0x47b3af(0x1da)](_0x47b3af(0x1d9));});a284_0x19def3();'use strict';var __decorate=this&&this[a284_0x940820(0x1bc)]||function(_0x613ea0,_0x1bcc4d,_0x2fc9ec,_0x459231){const _0x4aa453=a284_0x940820;var _0x4c1cbe=arguments['length'],_0x180805=_0x4c1cbe<0x3?_0x1bcc4d:_0x459231===null?_0x459231=Object[_0x4aa453(0x1ac)](_0x1bcc4d,_0x2fc9ec):_0x459231,_0x1d1202;if(typeof Reflect===_0x4aa453(0x1d5)&&typeof Reflect[_0x4aa453(0x1c7)]===_0x4aa453(0x1d0))_0x180805=Reflect['decorate'](_0x613ea0,_0x1bcc4d,_0x2fc9ec,_0x459231);else{for(var _0x4333ca=_0x613ea0[_0x4aa453(0x1e1)]-0x1;_0x4333ca>=0x0;_0x4333ca--)if(_0x1d1202=_0x613ea0[_0x4333ca])_0x180805=(_0x4c1cbe<0x3?_0x1d1202(_0x180805):_0x4c1cbe>0x3?_0x1d1202(_0x1bcc4d,_0x2fc9ec,_0x180805):_0x1d1202(_0x1bcc4d,_0x2fc9ec))||_0x180805;}return _0x4c1cbe>0x3&&_0x180805&&Object[_0x4aa453(0x1c5)](_0x1bcc4d,_0x2fc9ec,_0x180805),_0x180805;},__metadata=this&&this['__metadata']||function(_0x3f21c2,_0x1d3a1c){const _0x2c6dab=a284_0x940820;if(typeof Reflect===_0x2c6dab(0x1d5)&&typeof Reflect[_0x2c6dab(0x1b3)]===_0x2c6dab(0x1d0))return Reflect[_0x2c6dab(0x1b3)](_0x3f21c2,_0x1d3a1c);},__param=this&&this[a284_0x940820(0x1dc)]||function(_0x5927aa,_0x1c4dc3){return function(_0x1ae5cd,_0x5dd83a){_0x1c4dc3(_0x1ae5cd,_0x5dd83a,_0x5927aa);};},SalesforceService_1;Object[a284_0x940820(0x1c5)](exports,'__esModule',{'value':!![]}),exports[a284_0x940820(0x1e9)]=void 0x0;function a284_0xa890(_0x2e0e32,_0x374f47){const _0x143abb=a284_0x1126();return a284_0xa890=function(_0x19def3,_0x27a8dd){_0x19def3=_0x19def3-0x1a5;let _0x11262e=_0x143abb[_0x19def3];return _0x11262e;},a284_0xa890(_0x2e0e32,_0x374f47);}const typedi_1=require('typedi'),core_1=require('../../../../core'),internal_server_error_1=require(a284_0x940820(0x1ba)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require('../../../../constants'),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a284_0x940820(0x1ce)),salesforce_error_1=require(a284_0x940820(0x1a5)),connection_dto_1=require(a284_0x940820(0x1b8)),bulk_components_retriever_1=require('../classes/bulk-components-retriever');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x96a550){const _0x357ad2=a284_0x940820;this['logger']=new core_1['Logger'](SalesforceService_1[_0x357ad2(0x1b9)]),this[_0x357ad2(0x1ea)]=(0x0,create_request_util_1[_0x357ad2(0x1b7)])(_0x96a550),this[_0x357ad2(0x1b1)]=constants_1[_0x357ad2(0x1c9)]?'':_0x357ad2(0x1c6);}[a284_0x940820(0x1cf)](_0x4611e9){const _0x3dbafb=a284_0x940820;this['loggerId']=_0x4611e9,this[_0x3dbafb(0x1af)]=new salesforce_logger_service_1[(_0x3dbafb(0x1b0))](this);}[a284_0x940820(0x1d3)](){const _0x474d22=a284_0x940820;return this[_0x474d22(0x1af)];}async[a284_0x940820(0x1cc)](_0x327054){const _0x31e7bf=a284_0x940820;try{this['logger']['log'](_0x31e7bf(0x1d4),_0x327054['length']);const _0x42eaf9=new bulk_components_retriever_1[(_0x31e7bf(0x1a6))]({'request':this[_0x31e7bf(0x1ea)],'ids':_0x327054}),_0x20f8da=await _0x42eaf9[_0x31e7bf(0x1ab)]();return _0x20f8da;}catch(_0x15c380){this[_0x31e7bf(0x1e4)][_0x31e7bf(0x1c3)](_0x15c380);throw new salesforce_error_1[(_0x31e7bf(0x1e2))](_0x15c380);}}async[a284_0x940820(0x1c0)](_0x4164b7){const _0x68bdc6=a284_0x940820;try{this[_0x68bdc6(0x1e4)][_0x68bdc6(0x1b6)](_0x68bdc6(0x1ad),_0x4164b7),await this[_0x68bdc6(0x1ea)]['delete'](_0x68bdc6(0x1ae)+constants_1['SALESFORCE_API_VERSION']+_0x68bdc6(0x1a7)+_0x4164b7);}catch(_0x22e741){this['logger']['error'](_0x22e741);throw new salesforce_error_1[(_0x68bdc6(0x1e2))](_0x22e741);}}async[a284_0x940820(0x1e8)](_0x5296be,_0x1694c7=![]){const _0x3458bd=a284_0x940820;try{this[_0x3458bd(0x1e4)][_0x3458bd(0x1b6)](_0x3458bd(0x1cd),_0x5296be);const _0x126b4b=await this[_0x3458bd(0x1ea)]['get']('services/data/'+constants_1[_0x3458bd(0x1d1)]+_0x3458bd(0x1a7)+_0x5296be+'/body',{'responseType':_0x1694c7?'arraybuffer':_0x3458bd(0x1d2)})['then'](({data:_0xc28a30})=>_0xc28a30);return _0x126b4b;}catch(_0x58a270){this[_0x3458bd(0x1e4)][_0x3458bd(0x1c3)](_0x58a270);throw new salesforce_error_1[(_0x3458bd(0x1e2))](_0x58a270);}}async[a284_0x940820(0x1c2)](_0x349288){const _0x440229=a284_0x940820;try{_0x349288['forEach'](_0x52c829=>this['logger']['log'](_0x440229(0x1b5),_0x52c829)),await this[_0x440229(0x1ea)][_0x440229(0x1e7)](_0x440229(0x1e5)+this[_0x440229(0x1b1)]+_0x440229(0x1c1),{'messages':_0x349288,'loggerId':this[_0x440229(0x1bd)]});}catch(_0x49ecff){this['logger'][_0x440229(0x1c3)](_0x49ecff);throw new internal_server_error_1[(_0x440229(0x1cb))](_0x49ecff);}}async[a284_0x940820(0x1b4)](_0x807390,_0x440538){const _0x2f1cb8=a284_0x940820;try{const {data:_0x5ef0e2}=await this['request'][_0x2f1cb8(0x1e7)](_0x2f1cb8(0x1ae)+constants_1[_0x2f1cb8(0x1d1)]+_0x2f1cb8(0x1aa)+_0x807390+'/',_0x440538);return _0x5ef0e2['id'];}catch(_0x4df451){throw new salesforce_error_1[(_0x2f1cb8(0x1e2))](_0x4df451);}}async['patchObject'](_0x3798c9,_0x1e797d,_0xe00f22){const _0xfd4410=a284_0x940820;try{await this[_0xfd4410(0x1ea)]['patch'](_0xfd4410(0x1ae)+constants_1[_0xfd4410(0x1d1)]+'/sobjects/'+_0x3798c9+'/'+_0x1e797d,_0xe00f22);}catch(_0x3d4234){throw new salesforce_error_1[(_0xfd4410(0x1e2))](_0x3d4234);}}async['fetchConnection'](_0x4491b7){const _0x1a1904=a284_0x940820;try{const {data:_0x12ed26}=await this[_0x1a1904(0x1ea)][_0x1a1904(0x1df)](_0x1a1904(0x1e5)+this[_0x1a1904(0x1b1)]+_0x1a1904(0x1e0),{'params':{'connectionId':_0x4491b7}});return new connection_dto_1[(_0x1a1904(0x1a8))](_0x12ed26);}catch(_0x47f155){throw new salesforce_error_1['SalesforceError'](_0x47f155);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a284_0x940820(0x1d8)])()),__metadata(a284_0x940820(0x1b2),[salesforce_auth_service_1[a284_0x940820(0x1dd)]])],SalesforceService),exports['SalesforceService']=SalesforceService;