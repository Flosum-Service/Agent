const a193_0x6c1a38=a193_0x548d;(function(_0x3d4c89,_0x1c4518){const _0x2dcf40=a193_0x548d,_0xa7d49a=_0x3d4c89();while(!![]){try{const _0x25c1ac=parseInt(_0x2dcf40(0xc1))/0x1*(parseInt(_0x2dcf40(0xde))/0x2)+parseInt(_0x2dcf40(0xe4))/0x3+parseInt(_0x2dcf40(0x9e))/0x4+parseInt(_0x2dcf40(0xd3))/0x5*(parseInt(_0x2dcf40(0xac))/0x6)+parseInt(_0x2dcf40(0xd1))/0x7+parseInt(_0x2dcf40(0xc2))/0x8*(-parseInt(_0x2dcf40(0xc0))/0x9)+parseInt(_0x2dcf40(0xa2))/0xa*(-parseInt(_0x2dcf40(0xe2))/0xb);if(_0x25c1ac===_0x1c4518)break;else _0xa7d49a['push'](_0xa7d49a['shift']());}catch(_0x55c8dd){_0xa7d49a['push'](_0xa7d49a['shift']());}}}(a193_0x4ab4,0x8a57d));const a193_0x3a56df=(function(){let _0x54cdf8=!![];return function(_0xb57a52,_0x45f3b7){const _0x339082=_0x54cdf8?function(){const _0x51ca58=a193_0x548d;if(_0x45f3b7){const _0x242583=_0x45f3b7[_0x51ca58(0xb2)](_0xb57a52,arguments);return _0x45f3b7=null,_0x242583;}}:function(){};return _0x54cdf8=![],_0x339082;};}()),a193_0x11883f=a193_0x3a56df(this,function(){const _0x3c87b0=a193_0x548d;return a193_0x11883f[_0x3c87b0(0xbf)]()[_0x3c87b0(0xda)](_0x3c87b0(0xe0))[_0x3c87b0(0xbf)]()[_0x3c87b0(0xa0)](a193_0x11883f)[_0x3c87b0(0xda)]('(((.+)+)+)+$');});a193_0x11883f();'use strict';function a193_0x4ab4(){const _0x288367=['/sobjects/','__decorate','typedi','arraybuffer','search','../../../../core/errors/internal-server.error','design:paramtypes','./salesforce-logger.service','3882AGmivC','/body','(((.+)+)+)+$','name','165cRcKRW','../utils/create-request.util','1352835lAzmVL','namespace','InternalServerError','/sobjects/Attachment/','retrieveComponents','IGNORE_FLOSUM_GIT_NAMESPACE','decorate','function','metadata','loggerId','../errors/salesforce.error','2194124rCQhPi','delete','constructor','getOwnPropertyDescriptor','1004110STTsWw','retrieveAttachment','createObject','defineProperty','patchObject','object','Logger','SalesforceService','services/data/','then','270HqaklR','SalesforceError','request','[message]\x20%s','patch','../../../../core','apply','/logger','createSalesforceRequest','/attachments','__esModule','text','./salesforce-auth.service','deleteAttachment','setLoggerId','SALESFORCE_API_VERSION','__param','../../../../constants','services/apexrest','toString','20781BCAiuj','428ojnuqc','1336etlfSb','ConnectionDto','SalesforceAuthService','get','internalLogger','log','retrieve\x20components\x20\x20%d\x20from\x20salesforce','logger','sendLog','length','delete\x20attachment\x20%s\x20from\x20salesforce','Service','/connection','error','forEach','2163714EuslEM','post','35455nQZXkW','Inject','__metadata'];a193_0x4ab4=function(){return _0x288367;};return a193_0x4ab4();}var __decorate=this&&this[a193_0x6c1a38(0xd7)]||function(_0x116f13,_0xac9a99,_0x23ebd5,_0x543bbf){const _0x638b80=a193_0x6c1a38;var _0x2847e9=arguments['length'],_0x94b9b3=_0x2847e9<0x3?_0xac9a99:_0x543bbf===null?_0x543bbf=Object[_0x638b80(0xa1)](_0xac9a99,_0x23ebd5):_0x543bbf,_0x151793;if(typeof Reflect===_0x638b80(0xa7)&&typeof Reflect[_0x638b80(0x99)]===_0x638b80(0x9a))_0x94b9b3=Reflect[_0x638b80(0x99)](_0x116f13,_0xac9a99,_0x23ebd5,_0x543bbf);else{for(var _0xcf8311=_0x116f13['length']-0x1;_0xcf8311>=0x0;_0xcf8311--)if(_0x151793=_0x116f13[_0xcf8311])_0x94b9b3=(_0x2847e9<0x3?_0x151793(_0x94b9b3):_0x2847e9>0x3?_0x151793(_0xac9a99,_0x23ebd5,_0x94b9b3):_0x151793(_0xac9a99,_0x23ebd5))||_0x94b9b3;}return _0x2847e9>0x3&&_0x94b9b3&&Object[_0x638b80(0xa5)](_0xac9a99,_0x23ebd5,_0x94b9b3),_0x94b9b3;},__metadata=this&&this[a193_0x6c1a38(0xd5)]||function(_0x5645a9,_0x25dc9d){const _0x4a4bbe=a193_0x6c1a38;if(typeof Reflect===_0x4a4bbe(0xa7)&&typeof Reflect[_0x4a4bbe(0x9b)]===_0x4a4bbe(0x9a))return Reflect['metadata'](_0x5645a9,_0x25dc9d);},__param=this&&this[a193_0x6c1a38(0xbc)]||function(_0x20c955,_0xa3f6e3){return function(_0x460ff1,_0x52e5c5){_0xa3f6e3(_0x460ff1,_0x52e5c5,_0x20c955);};},SalesforceService_1;Object[a193_0x6c1a38(0xa5)](exports,a193_0x6c1a38(0xb6),{'value':!![]}),exports['SalesforceService']=void 0x0;function a193_0x548d(_0x25e9b1,_0x4df336){const _0x3111af=a193_0x4ab4();return a193_0x548d=function(_0x11883f,_0x3a56df){_0x11883f=_0x11883f-0x95;let _0x4ab4d6=_0x3111af[_0x11883f];return _0x4ab4d6;},a193_0x548d(_0x25e9b1,_0x4df336);}const typedi_1=require(a193_0x6c1a38(0xd8)),core_1=require(a193_0x6c1a38(0xb1)),internal_server_error_1=require(a193_0x6c1a38(0xdb)),salesforce_auth_service_1=require(a193_0x6c1a38(0xb8)),constants_1=require(a193_0x6c1a38(0xbd)),create_request_util_1=require(a193_0x6c1a38(0xe3)),salesforce_logger_service_1=require(a193_0x6c1a38(0xdd)),salesforce_error_1=require(a193_0x6c1a38(0x9d)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x5033d8){const _0x414c08=a193_0x6c1a38;this['logger']=new core_1[(_0x414c08(0xa8))](SalesforceService_1[_0x414c08(0xe1)]),this[_0x414c08(0xae)]=create_request_util_1[_0x414c08(0xb4)](_0x5033d8),this['namespace']=constants_1[_0x414c08(0x98)]?'':'/flosum_git';}[a193_0x6c1a38(0xba)](_0x31a13f){const _0x5a3608=a193_0x6c1a38;this['loggerId']=_0x31a13f,this[_0x5a3608(0xc6)]=new salesforce_logger_service_1['SalesforceLogger'](this);}['getLogger'](){const _0x5d4ddb=a193_0x6c1a38;return this[_0x5d4ddb(0xc6)];}async[a193_0x6c1a38(0x97)](_0x1e535c){const _0x1ce8d6=a193_0x6c1a38;try{this['logger']['log'](_0x1ce8d6(0xc8),_0x1e535c[_0x1ce8d6(0xcb)]);const _0x492374=await this['request'][_0x1ce8d6(0xd2)](_0x1ce8d6(0xbe)+this['namespace']+_0x1ce8d6(0xb5),{'componentIds':_0x1e535c,'loggerId':this[_0x1ce8d6(0x9c)]})[_0x1ce8d6(0xab)](({data:_0x268664})=>_0x268664);return _0x492374;}catch(_0x5d02be){this[_0x1ce8d6(0xc9)][_0x1ce8d6(0xcf)](_0x5d02be);throw new salesforce_error_1[(_0x1ce8d6(0xad))](_0x5d02be);}}async[a193_0x6c1a38(0xb9)](_0x39bfb0){const _0x9e3bfb=a193_0x6c1a38;try{this[_0x9e3bfb(0xc9)][_0x9e3bfb(0xc7)](_0x9e3bfb(0xcc),_0x39bfb0),await this[_0x9e3bfb(0xae)][_0x9e3bfb(0x9f)](_0x9e3bfb(0xaa)+constants_1[_0x9e3bfb(0xbb)]+_0x9e3bfb(0x96)+_0x39bfb0);}catch(_0x159ea0){this[_0x9e3bfb(0xc9)]['error'](_0x159ea0);throw new salesforce_error_1[(_0x9e3bfb(0xad))](_0x159ea0);}}async[a193_0x6c1a38(0xa3)](_0x33d734,_0x439864=![]){const _0x27a9a5=a193_0x6c1a38;try{this[_0x27a9a5(0xc9)]['log']('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x33d734);const _0x5aaf1e=await this[_0x27a9a5(0xae)][_0x27a9a5(0xc5)]('services/data/'+constants_1[_0x27a9a5(0xbb)]+_0x27a9a5(0x96)+_0x33d734+_0x27a9a5(0xdf),{'responseType':_0x439864?_0x27a9a5(0xd9):_0x27a9a5(0xb7)})[_0x27a9a5(0xab)](({data:_0xef2aa})=>_0xef2aa);return _0x5aaf1e;}catch(_0x5a3522){this['logger'][_0x27a9a5(0xcf)](_0x5a3522);throw new salesforce_error_1[(_0x27a9a5(0xad))](_0x5a3522);}}async[a193_0x6c1a38(0xca)](_0x5f1456){const _0x4fae83=a193_0x6c1a38;try{_0x5f1456[_0x4fae83(0xd0)](_0x9f63ff=>this[_0x4fae83(0xc9)][_0x4fae83(0xc7)](_0x4fae83(0xaf),_0x9f63ff)),await this[_0x4fae83(0xae)][_0x4fae83(0xd2)](_0x4fae83(0xbe)+this[_0x4fae83(0xe5)]+_0x4fae83(0xb3),{'messages':_0x5f1456,'loggerId':this['loggerId']});}catch(_0x56ef94){this[_0x4fae83(0xc9)][_0x4fae83(0xcf)](_0x56ef94);throw new internal_server_error_1[(_0x4fae83(0x95))](_0x56ef94);}}async[a193_0x6c1a38(0xa4)](_0x1ecac7,_0x47eefa){const _0x3b599e=a193_0x6c1a38;try{const {data:_0x7d83d1}=await this['request'][_0x3b599e(0xd2)](_0x3b599e(0xaa)+constants_1[_0x3b599e(0xbb)]+_0x3b599e(0xd6)+_0x1ecac7+'/',_0x47eefa);return _0x7d83d1['id'];}catch(_0x2d38d0){throw new salesforce_error_1['SalesforceError'](_0x2d38d0);}}async[a193_0x6c1a38(0xa6)](_0x1a9a9e,_0x5e6874,_0x438daf){const _0x5204c7=a193_0x6c1a38;try{await this['request'][_0x5204c7(0xb0)](_0x5204c7(0xaa)+constants_1[_0x5204c7(0xbb)]+_0x5204c7(0xd6)+_0x1a9a9e+'/'+_0x5e6874,_0x438daf);}catch(_0x229a81){throw new salesforce_error_1[(_0x5204c7(0xad))](_0x229a81);}}async['fetchConnection'](_0x266d69){const _0x28a682=a193_0x6c1a38;try{const {data:_0x47391d}=await this[_0x28a682(0xae)][_0x28a682(0xc5)](_0x28a682(0xbe)+this[_0x28a682(0xe5)]+_0x28a682(0xce),{'params':{'connectionId':_0x266d69}});return new connection_dto_1[(_0x28a682(0xc3))](_0x47391d);}catch(_0x28bdb0){throw new salesforce_error_1[(_0x28a682(0xad))](_0x28bdb0);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a193_0x6c1a38(0xcd)]({'transient':!![]}),__param(0x0,typedi_1[a193_0x6c1a38(0xd4)]()),__metadata(a193_0x6c1a38(0xdc),[salesforce_auth_service_1[a193_0x6c1a38(0xc4)]])],SalesforceService),exports[a193_0x6c1a38(0xa9)]=SalesforceService;