const a206_0x37a59a=a206_0x55af;(function(_0x4ff044,_0x6a4122){const _0x5e9737=a206_0x55af,_0x43a514=_0x4ff044();while(!![]){try{const _0x3f3304=-parseInt(_0x5e9737(0xff))/0x1+-parseInt(_0x5e9737(0x113))/0x2*(-parseInt(_0x5e9737(0x130))/0x3)+parseInt(_0x5e9737(0xfc))/0x4+parseInt(_0x5e9737(0x11a))/0x5+parseInt(_0x5e9737(0x12f))/0x6+-parseInt(_0x5e9737(0x114))/0x7*(parseInt(_0x5e9737(0xe7))/0x8)+-parseInt(_0x5e9737(0x11f))/0x9*(parseInt(_0x5e9737(0xf6))/0xa);if(_0x3f3304===_0x6a4122)break;else _0x43a514['push'](_0x43a514['shift']());}catch(_0x5927b4){_0x43a514['push'](_0x43a514['shift']());}}}(a206_0x1ab1,0x31fff));const a206_0x7c73b3=(function(){let _0x43beee=!![];return function(_0x333ad8,_0x2233ce){const _0x3d9761=_0x43beee?function(){const _0x84d469=a206_0x55af;if(_0x2233ce){const _0x16f43c=_0x2233ce[_0x84d469(0x12d)](_0x333ad8,arguments);return _0x2233ce=null,_0x16f43c;}}:function(){};return _0x43beee=![],_0x3d9761;};}()),a206_0x290c6e=a206_0x7c73b3(this,function(){const _0x5c5557=a206_0x55af;return a206_0x290c6e[_0x5c5557(0xf8)]()[_0x5c5557(0xf7)](_0x5c5557(0xf3))['toString']()[_0x5c5557(0xed)](a206_0x290c6e)[_0x5c5557(0xf7)](_0x5c5557(0xf3));});a206_0x290c6e();'use strict';var __decorate=this&&this[a206_0x37a59a(0x110)]||function(_0x6c2429,_0x24a703,_0x730530,_0x54b04a){const _0x2b1470=a206_0x37a59a;var _0x2e2f7c=arguments[_0x2b1470(0x10c)],_0x1c5cb5=_0x2e2f7c<0x3?_0x24a703:_0x54b04a===null?_0x54b04a=Object[_0x2b1470(0xfb)](_0x24a703,_0x730530):_0x54b04a,_0x3dfdff;if(typeof Reflect===_0x2b1470(0xee)&&typeof Reflect[_0x2b1470(0x112)]===_0x2b1470(0x10e))_0x1c5cb5=Reflect[_0x2b1470(0x112)](_0x6c2429,_0x24a703,_0x730530,_0x54b04a);else{for(var _0x4a6835=_0x6c2429['length']-0x1;_0x4a6835>=0x0;_0x4a6835--)if(_0x3dfdff=_0x6c2429[_0x4a6835])_0x1c5cb5=(_0x2e2f7c<0x3?_0x3dfdff(_0x1c5cb5):_0x2e2f7c>0x3?_0x3dfdff(_0x24a703,_0x730530,_0x1c5cb5):_0x3dfdff(_0x24a703,_0x730530))||_0x1c5cb5;}return _0x2e2f7c>0x3&&_0x1c5cb5&&Object[_0x2b1470(0x106)](_0x24a703,_0x730530,_0x1c5cb5),_0x1c5cb5;},__metadata=this&&this[a206_0x37a59a(0xf0)]||function(_0x247760,_0x21ced4){const _0x3fe283=a206_0x37a59a;if(typeof Reflect===_0x3fe283(0xee)&&typeof Reflect[_0x3fe283(0x120)]===_0x3fe283(0x10e))return Reflect[_0x3fe283(0x120)](_0x247760,_0x21ced4);},__param=this&&this[a206_0x37a59a(0xec)]||function(_0x41fd5b,_0x1baec7){return function(_0x334934,_0x4f2d0a){_0x1baec7(_0x334934,_0x4f2d0a,_0x41fd5b);};},SalesforceService_1;function a206_0x1ab1(){const _0x54fe2a=['patch','decorate','412546CykvOh','236299XwaTkp','services/data/','SalesforceError','InternalServerError','patchObject','createSalesforceRequest','91585jsjbqd','./salesforce-auth.service','/flosum_git','/sobjects/Attachment/','log','5139hosnzQ','metadata','namespace','../../../../constants','/connection','fetchConnection','getLogger','design:paramtypes','text','IGNORE_FLOSUM_GIT_NAMESPACE','/sobjects/','../errors/salesforce.error','name','get','apply','retrieveComponents','2397024rKyHJv','3qZoXvT','sendLog','arraybuffer','then','createObject','88UGyxiZ','typedi','SALESFORCE_API_VERSION','request','internalLogger','__param','constructor','object','SalesforceLogger','__metadata','loggerId','retrieveAttachment','(((.+)+)+)+$','setLoggerId','/logger','4430GSLoWo','search','toString','forEach','deleteAttachment','getOwnPropertyDescriptor','1316248xqHSOT','../utils/create-request.util','post','124077vYawmT','Service','../../../../core','logger','ConnectionDto','error','retrieve\x20components\x20\x20%d\x20from\x20salesforce','defineProperty','/body','retrieve\x20attachment\x20%s\x20from\x20salesforce','SalesforceAuthService','SalesforceService','delete\x20attachment\x20%s\x20from\x20salesforce','length','/attachments','function','__esModule','__decorate'];a206_0x1ab1=function(){return _0x54fe2a;};return a206_0x1ab1();}Object[a206_0x37a59a(0x106)](exports,a206_0x37a59a(0x10f),{'value':!![]}),exports[a206_0x37a59a(0x10a)]=void 0x0;const typedi_1=require(a206_0x37a59a(0xe8)),core_1=require(a206_0x37a59a(0x101)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a206_0x37a59a(0x11b)),constants_1=require(a206_0x37a59a(0x122)),create_request_util_1=require(a206_0x37a59a(0xfd)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a206_0x37a59a(0x12a)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x3654a7){const _0x34b4b5=a206_0x37a59a;this['logger']=new core_1['Logger'](SalesforceService_1[_0x34b4b5(0x12b)]),this['request']=(0x0,create_request_util_1[_0x34b4b5(0x119)])(_0x3654a7),this[_0x34b4b5(0x121)]=constants_1[_0x34b4b5(0x128)]?'':_0x34b4b5(0x11c);}[a206_0x37a59a(0xf4)](_0x5059c7){const _0x1d6c6d=a206_0x37a59a;this[_0x1d6c6d(0xf1)]=_0x5059c7,this[_0x1d6c6d(0xeb)]=new salesforce_logger_service_1[(_0x1d6c6d(0xef))](this);}[a206_0x37a59a(0x125)](){return this['internalLogger'];}async[a206_0x37a59a(0x12e)](_0x785503){const _0x531565=a206_0x37a59a;try{this[_0x531565(0x102)]['log'](_0x531565(0x105),_0x785503[_0x531565(0x10c)]);const _0x43c786=await this[_0x531565(0xea)][_0x531565(0xfe)]('services/apexrest'+this[_0x531565(0x121)]+_0x531565(0x10d),{'componentIds':_0x785503,'loggerId':this[_0x531565(0xf1)]})[_0x531565(0xe5)](({data:_0x53dd10})=>_0x53dd10);return _0x43c786;}catch(_0x2484e4){this[_0x531565(0x102)][_0x531565(0x104)](_0x2484e4);throw new salesforce_error_1[(_0x531565(0x116))](_0x2484e4);}}async[a206_0x37a59a(0xfa)](_0x3b5db7){const _0x3dcf29=a206_0x37a59a;try{this[_0x3dcf29(0x102)][_0x3dcf29(0x11e)](_0x3dcf29(0x10b),_0x3b5db7),await this[_0x3dcf29(0xea)]['delete'](_0x3dcf29(0x115)+constants_1[_0x3dcf29(0xe9)]+'/sobjects/Attachment/'+_0x3b5db7);}catch(_0x4bfe60){this['logger']['error'](_0x4bfe60);throw new salesforce_error_1[(_0x3dcf29(0x116))](_0x4bfe60);}}async[a206_0x37a59a(0xf2)](_0x19b1a3,_0x38f6c2=![]){const _0x72bb04=a206_0x37a59a;try{this[_0x72bb04(0x102)][_0x72bb04(0x11e)](_0x72bb04(0x108),_0x19b1a3);const _0xd30178=await this[_0x72bb04(0xea)][_0x72bb04(0x12c)](_0x72bb04(0x115)+constants_1[_0x72bb04(0xe9)]+_0x72bb04(0x11d)+_0x19b1a3+_0x72bb04(0x107),{'responseType':_0x38f6c2?_0x72bb04(0xe4):_0x72bb04(0x127)})[_0x72bb04(0xe5)](({data:_0x52d401})=>_0x52d401);return _0xd30178;}catch(_0x385be6){this['logger'][_0x72bb04(0x104)](_0x385be6);throw new salesforce_error_1[(_0x72bb04(0x116))](_0x385be6);}}async[a206_0x37a59a(0x131)](_0x50f008){const _0x53d5e7=a206_0x37a59a;try{_0x50f008[_0x53d5e7(0xf9)](_0x5dfc48=>this[_0x53d5e7(0x102)][_0x53d5e7(0x11e)]('[message]\x20%s',_0x5dfc48)),await this[_0x53d5e7(0xea)][_0x53d5e7(0xfe)]('services/apexrest'+this[_0x53d5e7(0x121)]+_0x53d5e7(0xf5),{'messages':_0x50f008,'loggerId':this[_0x53d5e7(0xf1)]});}catch(_0x4119ff){this[_0x53d5e7(0x102)][_0x53d5e7(0x104)](_0x4119ff);throw new internal_server_error_1[(_0x53d5e7(0x117))](_0x4119ff);}}async[a206_0x37a59a(0xe6)](_0x2ad70b,_0xbca544){const _0x36b5c0=a206_0x37a59a;try{const {data:_0x5c8847}=await this[_0x36b5c0(0xea)][_0x36b5c0(0xfe)](_0x36b5c0(0x115)+constants_1[_0x36b5c0(0xe9)]+_0x36b5c0(0x129)+_0x2ad70b+'/',_0xbca544);return _0x5c8847['id'];}catch(_0x1dc317){throw new salesforce_error_1[(_0x36b5c0(0x116))](_0x1dc317);}}async[a206_0x37a59a(0x118)](_0x332f9e,_0x63e99f,_0x42d63e){const _0xad0439=a206_0x37a59a;try{await this[_0xad0439(0xea)][_0xad0439(0x111)](_0xad0439(0x115)+constants_1[_0xad0439(0xe9)]+'/sobjects/'+_0x332f9e+'/'+_0x63e99f,_0x42d63e);}catch(_0x3935e0){throw new salesforce_error_1[(_0xad0439(0x116))](_0x3935e0);}}async[a206_0x37a59a(0x124)](_0xd1fcfc){const _0x5a6799=a206_0x37a59a;try{const {data:_0x35b865}=await this[_0x5a6799(0xea)][_0x5a6799(0x12c)]('services/apexrest'+this['namespace']+_0x5a6799(0x123),{'params':{'connectionId':_0xd1fcfc}});return new connection_dto_1[(_0x5a6799(0x103))](_0x35b865);}catch(_0x16a8de){throw new salesforce_error_1[(_0x5a6799(0x116))](_0x16a8de);}}};function a206_0x55af(_0x3384e6,_0x5371f6){const _0x3877ed=a206_0x1ab1();return a206_0x55af=function(_0x290c6e,_0x7c73b3){_0x290c6e=_0x290c6e-0xe4;let _0x1ab132=_0x3877ed[_0x290c6e];return _0x1ab132;},a206_0x55af(_0x3384e6,_0x5371f6);}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a206_0x37a59a(0x100)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a206_0x37a59a(0x126),[salesforce_auth_service_1[a206_0x37a59a(0x109)]])],SalesforceService),exports[a206_0x37a59a(0x10a)]=SalesforceService;