const a193_0x1ae0d7=a193_0x4818;(function(_0x5fe6ed,_0xfaf587){const _0x1cb199=a193_0x4818,_0xf7efee=_0x5fe6ed();while(!![]){try{const _0x20b8c3=parseInt(_0x1cb199(0xd3))/0x1*(parseInt(_0x1cb199(0xcf))/0x2)+-parseInt(_0x1cb199(0xd1))/0x3*(-parseInt(_0x1cb199(0xda))/0x4)+-parseInt(_0x1cb199(0xe9))/0x5+parseInt(_0x1cb199(0xf0))/0x6*(-parseInt(_0x1cb199(0xec))/0x7)+parseInt(_0x1cb199(0x107))/0x8*(-parseInt(_0x1cb199(0xd4))/0x9)+parseInt(_0x1cb199(0x100))/0xa+-parseInt(_0x1cb199(0xf7))/0xb;if(_0x20b8c3===_0xfaf587)break;else _0xf7efee['push'](_0xf7efee['shift']());}catch(_0x4940e6){_0xf7efee['push'](_0xf7efee['shift']());}}}(a193_0x1d06,0x6f2aa));function a193_0x1d06(){const _0x405b01=['Inject','InternalServerError','search','retrieveAttachment','function','log','116512FYIBUS','[message]\x20%s','15SVQDCZ','apply','13ijwIlg','57789qrXjHw','metadata','getLogger','object','arraybuffer','text','272940RDgnCH','sendLog','Service','/body','createSalesforceRequest','retrieveComponents','deleteAttachment','get','patch','SalesforceError','/sobjects/Attachment/','__esModule','../errors/salesforce.error','SalesforceAuthService','SALESFORCE_API_VERSION','2299990EloRpu','getOwnPropertyDescriptor','error','28dTRxss','services/data/','decorate','loggerId','204078eAsQRg','retrieve\x20components\x20\x20%d\x20from\x20salesforce','__metadata','typedi','delete','ConnectionDto','/connection','1216589ONcGUT','./salesforce-auth.service','./salesforce-logger.service','/logger','(((.+)+)+)+$','SalesforceLogger','setLoggerId','request','../../../../constants','6221110nyibyW','/sobjects/','../../../../core','../dto/connection.dto','fetchConnection','design:paramtypes','internalLogger','696YavVMh','/attachments','__param','SalesforceService','namespace','length','defineProperty','createObject','post','logger','constructor','then','forEach','services/apexrest','delete\x20attachment\x20%s\x20from\x20salesforce'];a193_0x1d06=function(){return _0x405b01;};return a193_0x1d06();}const a193_0xb0265b=(function(){let _0x2372bb=!![];return function(_0x1385c5,_0x4a8c09){const _0x41798f=_0x2372bb?function(){const _0x523e32=a193_0x4818;if(_0x4a8c09){const _0x45b281=_0x4a8c09[_0x523e32(0xd2)](_0x1385c5,arguments);return _0x4a8c09=null,_0x45b281;}}:function(){};return _0x2372bb=![],_0x41798f;};}()),a193_0x17949b=a193_0xb0265b(this,function(){const _0x37673f=a193_0x4818;return a193_0x17949b['toString']()[_0x37673f(0xcb)](_0x37673f(0xfb))['toString']()[_0x37673f(0xc4)](a193_0x17949b)[_0x37673f(0xcb)](_0x37673f(0xfb));});a193_0x17949b();'use strict';var __decorate=this&&this['__decorate']||function(_0x18a0ed,_0x25f6cc,_0x5cbc16,_0x2c7fe4){const _0x164ed9=a193_0x4818;var _0x56547b=arguments['length'],_0x37cab1=_0x56547b<0x3?_0x25f6cc:_0x2c7fe4===null?_0x2c7fe4=Object[_0x164ed9(0xea)](_0x25f6cc,_0x5cbc16):_0x2c7fe4,_0x24fed6;if(typeof Reflect===_0x164ed9(0xd7)&&typeof Reflect[_0x164ed9(0xee)]===_0x164ed9(0xcd))_0x37cab1=Reflect['decorate'](_0x18a0ed,_0x25f6cc,_0x5cbc16,_0x2c7fe4);else{for(var _0x92493c=_0x18a0ed[_0x164ed9(0x10c)]-0x1;_0x92493c>=0x0;_0x92493c--)if(_0x24fed6=_0x18a0ed[_0x92493c])_0x37cab1=(_0x56547b<0x3?_0x24fed6(_0x37cab1):_0x56547b>0x3?_0x24fed6(_0x25f6cc,_0x5cbc16,_0x37cab1):_0x24fed6(_0x25f6cc,_0x5cbc16))||_0x37cab1;}return _0x56547b>0x3&&_0x37cab1&&Object[_0x164ed9(0x10d)](_0x25f6cc,_0x5cbc16,_0x37cab1),_0x37cab1;},__metadata=this&&this[a193_0x1ae0d7(0xf2)]||function(_0x36ed8b,_0x377664){const _0x306ad3=a193_0x1ae0d7;if(typeof Reflect===_0x306ad3(0xd7)&&typeof Reflect[_0x306ad3(0xd5)]===_0x306ad3(0xcd))return Reflect[_0x306ad3(0xd5)](_0x36ed8b,_0x377664);},__param=this&&this[a193_0x1ae0d7(0x109)]||function(_0x4c83c6,_0x482a96){return function(_0x59399a,_0x176bc1){_0x482a96(_0x59399a,_0x176bc1,_0x4c83c6);};},SalesforceService_1;function a193_0x4818(_0x20af52,_0x19089f){const _0x37f7e1=a193_0x1d06();return a193_0x4818=function(_0x17949b,_0xb0265b){_0x17949b=_0x17949b-0xc1;let _0x1d0643=_0x37f7e1[_0x17949b];return _0x1d0643;},a193_0x4818(_0x20af52,_0x19089f);}Object[a193_0x1ae0d7(0x10d)](exports,a193_0x1ae0d7(0xe5),{'value':!![]}),exports[a193_0x1ae0d7(0x10a)]=void 0x0;const typedi_1=require(a193_0x1ae0d7(0xf3)),core_1=require(a193_0x1ae0d7(0x102)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a193_0x1ae0d7(0xf8)),constants_1=require(a193_0x1ae0d7(0xff)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a193_0x1ae0d7(0xf9)),salesforce_error_1=require(a193_0x1ae0d7(0xe6)),connection_dto_1=require(a193_0x1ae0d7(0x103));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1cb176){const _0x263db3=a193_0x1ae0d7;this[_0x263db3(0xc3)]=new core_1['Logger'](SalesforceService_1['name']),this[_0x263db3(0xfe)]=create_request_util_1[_0x263db3(0xde)](_0x1cb176),this[_0x263db3(0x10b)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':'/flosum_git';}[a193_0x1ae0d7(0xfd)](_0x39a5a3){const _0x361631=a193_0x1ae0d7;this[_0x361631(0xef)]=_0x39a5a3,this[_0x361631(0x106)]=new salesforce_logger_service_1[(_0x361631(0xfc))](this);}[a193_0x1ae0d7(0xd6)](){const _0x2beccf=a193_0x1ae0d7;return this[_0x2beccf(0x106)];}async[a193_0x1ae0d7(0xdf)](_0x4be146){const _0x462678=a193_0x1ae0d7;try{this[_0x462678(0xc3)]['log'](_0x462678(0xf1),_0x4be146[_0x462678(0x10c)]);const _0x441e94=await this['request']['post'](_0x462678(0xc7)+this[_0x462678(0x10b)]+_0x462678(0x108),{'componentIds':_0x4be146,'loggerId':this[_0x462678(0xef)]})[_0x462678(0xc5)](({data:_0x4af396})=>_0x4af396);return _0x441e94;}catch(_0x230828){this[_0x462678(0xc3)][_0x462678(0xeb)](_0x230828);throw new salesforce_error_1['SalesforceError'](_0x230828);}}async[a193_0x1ae0d7(0xe0)](_0x28033a){const _0x5a7132=a193_0x1ae0d7;try{this['logger'][_0x5a7132(0xce)](_0x5a7132(0xc8),_0x28033a),await this[_0x5a7132(0xfe)][_0x5a7132(0xf4)](_0x5a7132(0xed)+constants_1[_0x5a7132(0xe8)]+_0x5a7132(0xe4)+_0x28033a);}catch(_0x42f22f){this[_0x5a7132(0xc3)][_0x5a7132(0xeb)](_0x42f22f);throw new salesforce_error_1['SalesforceError'](_0x42f22f);}}async[a193_0x1ae0d7(0xcc)](_0x3e8993,_0x231db7=![]){const _0x40b4d4=a193_0x1ae0d7;try{this[_0x40b4d4(0xc3)][_0x40b4d4(0xce)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x3e8993);const _0x56658e=await this[_0x40b4d4(0xfe)][_0x40b4d4(0xe1)](_0x40b4d4(0xed)+constants_1[_0x40b4d4(0xe8)]+_0x40b4d4(0xe4)+_0x3e8993+_0x40b4d4(0xdd),{'responseType':_0x231db7?_0x40b4d4(0xd8):_0x40b4d4(0xd9)})[_0x40b4d4(0xc5)](({data:_0x3aa118})=>_0x3aa118);return _0x56658e;}catch(_0x4eb3f8){this[_0x40b4d4(0xc3)][_0x40b4d4(0xeb)](_0x4eb3f8);throw new salesforce_error_1[(_0x40b4d4(0xe3))](_0x4eb3f8);}}async[a193_0x1ae0d7(0xdb)](_0x4254ec){const _0x5aac35=a193_0x1ae0d7;try{_0x4254ec[_0x5aac35(0xc6)](_0x4b5b81=>this[_0x5aac35(0xc3)][_0x5aac35(0xce)](_0x5aac35(0xd0),_0x4b5b81)),await this[_0x5aac35(0xfe)][_0x5aac35(0xc2)](_0x5aac35(0xc7)+this[_0x5aac35(0x10b)]+_0x5aac35(0xfa),{'messages':_0x4254ec,'loggerId':this[_0x5aac35(0xef)]});}catch(_0x2ff016){this[_0x5aac35(0xc3)]['error'](_0x2ff016);throw new internal_server_error_1[(_0x5aac35(0xca))](_0x2ff016);}}async[a193_0x1ae0d7(0xc1)](_0x3883cb,_0x373a71){const _0x45854d=a193_0x1ae0d7;try{const {data:_0x3ad313}=await this[_0x45854d(0xfe)][_0x45854d(0xc2)](_0x45854d(0xed)+constants_1['SALESFORCE_API_VERSION']+_0x45854d(0x101)+_0x3883cb+'/',_0x373a71);return _0x3ad313['id'];}catch(_0x35713c){throw new salesforce_error_1[(_0x45854d(0xe3))](_0x35713c);}}async['patchObject'](_0xe6208,_0x30d471,_0x359fd1){const _0x441788=a193_0x1ae0d7;try{await this[_0x441788(0xfe)][_0x441788(0xe2)](_0x441788(0xed)+constants_1[_0x441788(0xe8)]+_0x441788(0x101)+_0xe6208+'/'+_0x30d471,_0x359fd1);}catch(_0x1612b0){throw new salesforce_error_1[(_0x441788(0xe3))](_0x1612b0);}}async[a193_0x1ae0d7(0x104)](_0x370355){const _0xd12b77=a193_0x1ae0d7;try{const {data:_0x728e7c}=await this[_0xd12b77(0xfe)][_0xd12b77(0xe1)](_0xd12b77(0xc7)+this[_0xd12b77(0x10b)]+_0xd12b77(0xf6),{'params':{'connectionId':_0x370355}});return new connection_dto_1[(_0xd12b77(0xf5))](_0x728e7c);}catch(_0x3f3a3f){throw new salesforce_error_1[(_0xd12b77(0xe3))](_0x3f3a3f);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a193_0x1ae0d7(0xdc)]({'transient':!![]}),__param(0x0,typedi_1[a193_0x1ae0d7(0xc9)]()),__metadata(a193_0x1ae0d7(0x105),[salesforce_auth_service_1[a193_0x1ae0d7(0xe7)]])],SalesforceService),exports[a193_0x1ae0d7(0x10a)]=SalesforceService;