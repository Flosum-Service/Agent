const a255_0x101ceb=a255_0x6207;function a255_0x6207(_0x67249a,_0x45a49a){const _0x361cb7=a255_0x2849();return a255_0x6207=function(_0x4f5e01,_0x32b3b0){_0x4f5e01=_0x4f5e01-0x72;let _0x284911=_0x361cb7[_0x4f5e01];return _0x284911;},a255_0x6207(_0x67249a,_0x45a49a);}(function(_0x3c90af,_0x4df4b5){const _0x27a831=a255_0x6207,_0x8a2f7d=_0x3c90af();while(!![]){try{const _0x2f060c=-parseInt(_0x27a831(0x8e))/0x1+-parseInt(_0x27a831(0xb2))/0x2*(parseInt(_0x27a831(0xa5))/0x3)+-parseInt(_0x27a831(0x9d))/0x4+-parseInt(_0x27a831(0xac))/0x5+parseInt(_0x27a831(0x96))/0x6+-parseInt(_0x27a831(0x95))/0x7+parseInt(_0x27a831(0x7d))/0x8;if(_0x2f060c===_0x4df4b5)break;else _0x8a2f7d['push'](_0x8a2f7d['shift']());}catch(_0x241ec0){_0x8a2f7d['push'](_0x8a2f7d['shift']());}}}(a255_0x2849,0xb0141));const a255_0x32b3b0=(function(){let _0x3d466d=!![];return function(_0x1d278c,_0xd5d9ce){const _0x4e8bd8=_0x3d466d?function(){const _0x273c6e=a255_0x6207;if(_0xd5d9ce){const _0x3e4bc1=_0xd5d9ce[_0x273c6e(0x98)](_0x1d278c,arguments);return _0xd5d9ce=null,_0x3e4bc1;}}:function(){};return _0x3d466d=![],_0x4e8bd8;};}()),a255_0x4f5e01=a255_0x32b3b0(this,function(){const _0x1d3e60=a255_0x6207;return a255_0x4f5e01[_0x1d3e60(0x9a)]()[_0x1d3e60(0xa1)](_0x1d3e60(0x97))['toString']()[_0x1d3e60(0x9c)](a255_0x4f5e01)[_0x1d3e60(0xa1)](_0x1d3e60(0x97));});a255_0x4f5e01();'use strict';var __decorate=this&&this[a255_0x101ceb(0xb4)]||function(_0x2adddb,_0x146eb4,_0x4ac507,_0x18bcac){const _0x30f1cc=a255_0x101ceb;var _0x1c5c68=arguments[_0x30f1cc(0x87)],_0x513d49=_0x1c5c68<0x3?_0x146eb4:_0x18bcac===null?_0x18bcac=Object[_0x30f1cc(0x8a)](_0x146eb4,_0x4ac507):_0x18bcac,_0x1ace50;if(typeof Reflect===_0x30f1cc(0xa3)&&typeof Reflect['decorate']===_0x30f1cc(0x76))_0x513d49=Reflect[_0x30f1cc(0xaf)](_0x2adddb,_0x146eb4,_0x4ac507,_0x18bcac);else{for(var _0xa4ac18=_0x2adddb[_0x30f1cc(0x87)]-0x1;_0xa4ac18>=0x0;_0xa4ac18--)if(_0x1ace50=_0x2adddb[_0xa4ac18])_0x513d49=(_0x1c5c68<0x3?_0x1ace50(_0x513d49):_0x1c5c68>0x3?_0x1ace50(_0x146eb4,_0x4ac507,_0x513d49):_0x1ace50(_0x146eb4,_0x4ac507))||_0x513d49;}return _0x1c5c68>0x3&&_0x513d49&&Object['defineProperty'](_0x146eb4,_0x4ac507,_0x513d49),_0x513d49;},__metadata=this&&this[a255_0x101ceb(0x94)]||function(_0x52fecc,_0x1917a1){const _0x5b333e=a255_0x101ceb;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x5b333e(0x79)](_0x52fecc,_0x1917a1);},__param=this&&this['__param']||function(_0x13b04e,_0x528add){return function(_0x393d84,_0x16130c){_0x528add(_0x393d84,_0x16130c,_0x13b04e);};},SalesforceService_1;Object[a255_0x101ceb(0xb1)](exports,a255_0x101ceb(0x78),{'value':!![]}),exports[a255_0x101ceb(0x7c)]=void 0x0;function a255_0x2849(){const _0x3607ed=['createObject','/sobjects/Attachment/','function','request','__esModule','metadata','loggerId','../../../../core','SalesforceService','30779568miaSqw','/sobjects/','post','../dto/connection.dto','IGNORE_FLOSUM_GIT_NAMESPACE','namespace','SALESFORCE_API_VERSION','patchObject','deleteAttachment','services/data/','length','Delete\x20attachment\x20%s\x20from\x20salesforce','Retrieve\x20attachment\x20%s\x20from\x20salesforce','getOwnPropertyDescriptor','delete','name','createSalesforceRequest','883504xNEUDb','internalLogger','retrieveAttachment','services/apexrest','typedi','./salesforce-auth.service','__metadata','3884286ZxddNv','498972kBMUQP','(((.+)+)+)+$','apply','get','toString','SalesforceAuthService','constructor','3316124ONUbaC','../errors/salesforce.error','logger','../../../../core/errors/internal-server.error','search','../../../../constants','object','/attachments','3DrPkBr','fetchConnection','../utils/create-request.util','[message]\x20%s','then','ConnectionDto','Logger','1074460vQDzNW','log','arraybuffer','decorate','design:paramtypes','defineProperty','1454132ImMCaP','SalesforceLogger','__decorate','retrieveComponents','/connection','SalesforceError','error','sendLog','getLogger','patch','/body'];a255_0x2849=function(){return _0x3607ed;};return a255_0x2849();}const typedi_1=require(a255_0x101ceb(0x92)),core_1=require(a255_0x101ceb(0x7b)),internal_server_error_1=require(a255_0x101ceb(0xa0)),salesforce_auth_service_1=require(a255_0x101ceb(0x93)),constants_1=require(a255_0x101ceb(0xa2)),create_request_util_1=require(a255_0x101ceb(0xa7)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a255_0x101ceb(0x9e)),connection_dto_1=require(a255_0x101ceb(0x80));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x593fa8){const _0x477bbd=a255_0x101ceb;this[_0x477bbd(0x9f)]=new core_1[(_0x477bbd(0xab))](SalesforceService_1[_0x477bbd(0x8c)]),this['request']=(0x0,create_request_util_1[_0x477bbd(0x8d)])(_0x593fa8),this[_0x477bbd(0x82)]=constants_1[_0x477bbd(0x81)]?'':'/flosum_git';}['setLoggerId'](_0x1b0a94){const _0x1e9a0d=a255_0x101ceb;this[_0x1e9a0d(0x7a)]=_0x1b0a94,this[_0x1e9a0d(0x8f)]=new salesforce_logger_service_1[(_0x1e9a0d(0xb3))](this);}[a255_0x101ceb(0xba)](){return this['internalLogger'];}async[a255_0x101ceb(0xb5)](_0x4d7322){const _0xd8cdde=a255_0x101ceb;try{this['logger'][_0xd8cdde(0xad)]('Retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x4d7322[_0xd8cdde(0x87)]);const _0x521354=await this['request'][_0xd8cdde(0x7f)]('services/apexrest'+this[_0xd8cdde(0x82)]+_0xd8cdde(0xa4),{'componentIds':_0x4d7322,'loggerId':this[_0xd8cdde(0x7a)]})['then'](({data:_0x3c5ab7})=>_0x3c5ab7);return _0x521354;}catch(_0x350813){this[_0xd8cdde(0x9f)][_0xd8cdde(0xb8)](_0x350813);throw new salesforce_error_1['SalesforceError'](_0x350813);}}async[a255_0x101ceb(0x85)](_0x1bcda1){const _0x5fe06b=a255_0x101ceb;try{this[_0x5fe06b(0x9f)][_0x5fe06b(0xad)](_0x5fe06b(0x88),_0x1bcda1),await this[_0x5fe06b(0x77)][_0x5fe06b(0x8b)](_0x5fe06b(0x86)+constants_1['SALESFORCE_API_VERSION']+_0x5fe06b(0x75)+_0x1bcda1);}catch(_0x4a3730){this[_0x5fe06b(0x9f)][_0x5fe06b(0xb8)](_0x4a3730);throw new salesforce_error_1[(_0x5fe06b(0xb7))](_0x4a3730);}}async[a255_0x101ceb(0x90)](_0x473e31,_0x3f97ef=![]){const _0x4bdece=a255_0x101ceb;try{this['logger']['log'](_0x4bdece(0x89),_0x473e31);const _0x462604=await this[_0x4bdece(0x77)]['get'](_0x4bdece(0x86)+constants_1[_0x4bdece(0x83)]+_0x4bdece(0x75)+_0x473e31+_0x4bdece(0x73),{'responseType':_0x3f97ef?_0x4bdece(0xae):'text'})[_0x4bdece(0xa9)](({data:_0x1d4e6a})=>_0x1d4e6a);return _0x462604;}catch(_0x5b49f7){this[_0x4bdece(0x9f)][_0x4bdece(0xb8)](_0x5b49f7);throw new salesforce_error_1['SalesforceError'](_0x5b49f7);}}async[a255_0x101ceb(0xb9)](_0x422489){const _0x78c53a=a255_0x101ceb;try{_0x422489['forEach'](_0x51792b=>this[_0x78c53a(0x9f)][_0x78c53a(0xad)](_0x78c53a(0xa8),_0x51792b)),await this[_0x78c53a(0x77)][_0x78c53a(0x7f)](_0x78c53a(0x91)+this['namespace']+'/logger',{'messages':_0x422489,'loggerId':this[_0x78c53a(0x7a)]});}catch(_0x261555){this['logger']['error'](_0x261555);throw new internal_server_error_1['InternalServerError'](_0x261555);}}async[a255_0x101ceb(0x74)](_0x39153e,_0x4761ec){const _0xab6459=a255_0x101ceb;try{const {data:_0x52b288}=await this[_0xab6459(0x77)][_0xab6459(0x7f)](_0xab6459(0x86)+constants_1[_0xab6459(0x83)]+_0xab6459(0x7e)+_0x39153e+'/',_0x4761ec);return _0x52b288['id'];}catch(_0x78a35b){throw new salesforce_error_1[(_0xab6459(0xb7))](_0x78a35b);}}async[a255_0x101ceb(0x84)](_0x375cf4,_0x1b35c6,_0x4df0ad){const _0x34dfc6=a255_0x101ceb;try{await this[_0x34dfc6(0x77)][_0x34dfc6(0x72)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x375cf4+'/'+_0x1b35c6,_0x4df0ad);}catch(_0x102070){throw new salesforce_error_1[(_0x34dfc6(0xb7))](_0x102070);}}async[a255_0x101ceb(0xa6)](_0x35db5f){const _0x1afa4d=a255_0x101ceb;try{const {data:_0x572e0e}=await this[_0x1afa4d(0x77)][_0x1afa4d(0x99)]('services/apexrest'+this['namespace']+_0x1afa4d(0xb6),{'params':{'connectionId':_0x35db5f}});return new connection_dto_1[(_0x1afa4d(0xaa))](_0x572e0e);}catch(_0x383265){throw new salesforce_error_1[(_0x1afa4d(0xb7))](_0x383265);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a255_0x101ceb(0xb0),[salesforce_auth_service_1[a255_0x101ceb(0x9b)]])],SalesforceService),exports[a255_0x101ceb(0x7c)]=SalesforceService;