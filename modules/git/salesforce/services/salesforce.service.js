const a245_0x26d9eb=a245_0x291b;(function(_0x58cf42,_0x51647d){const _0x3b25a3=a245_0x291b,_0x1d86a5=_0x58cf42();while(!![]){try{const _0x4a6e01=-parseInt(_0x3b25a3(0x101))/0x1*(-parseInt(_0x3b25a3(0x12a))/0x2)+-parseInt(_0x3b25a3(0x10e))/0x3+parseInt(_0x3b25a3(0x145))/0x4+parseInt(_0x3b25a3(0x144))/0x5+parseInt(_0x3b25a3(0x135))/0x6+parseInt(_0x3b25a3(0x112))/0x7*(-parseInt(_0x3b25a3(0x137))/0x8)+parseInt(_0x3b25a3(0x13b))/0x9*(-parseInt(_0x3b25a3(0x121))/0xa);if(_0x4a6e01===_0x51647d)break;else _0x1d86a5['push'](_0x1d86a5['shift']());}catch(_0x5994a8){_0x1d86a5['push'](_0x1d86a5['shift']());}}}(a245_0x4ebf,0x4bcdc));const a245_0x2428d1=(function(){let _0x3a384c=!![];return function(_0x1bb819,_0x567735){const _0x4634e4=_0x3a384c?function(){const _0x539668=a245_0x291b;if(_0x567735){const _0x4543b1=_0x567735[_0x539668(0x132)](_0x1bb819,arguments);return _0x567735=null,_0x4543b1;}}:function(){};return _0x3a384c=![],_0x4634e4;};}()),a245_0x53e023=a245_0x2428d1(this,function(){const _0xe5b79b=a245_0x291b;return a245_0x53e023[_0xe5b79b(0x123)]()['search']('(((.+)+)+)+$')[_0xe5b79b(0x123)]()[_0xe5b79b(0x136)](a245_0x53e023)[_0xe5b79b(0x138)](_0xe5b79b(0x146));});a245_0x53e023();'use strict';var __decorate=this&&this['__decorate']||function(_0x321c3b,_0xeb0611,_0x19178c,_0x1ceca8){const _0x5e0d00=a245_0x291b;var _0x5ac009=arguments[_0x5e0d00(0x13a)],_0x390483=_0x5ac009<0x3?_0xeb0611:_0x1ceca8===null?_0x1ceca8=Object[_0x5e0d00(0x148)](_0xeb0611,_0x19178c):_0x1ceca8,_0x3cdb97;if(typeof Reflect===_0x5e0d00(0x12b)&&typeof Reflect['decorate']==='function')_0x390483=Reflect[_0x5e0d00(0x124)](_0x321c3b,_0xeb0611,_0x19178c,_0x1ceca8);else{for(var _0x593885=_0x321c3b[_0x5e0d00(0x13a)]-0x1;_0x593885>=0x0;_0x593885--)if(_0x3cdb97=_0x321c3b[_0x593885])_0x390483=(_0x5ac009<0x3?_0x3cdb97(_0x390483):_0x5ac009>0x3?_0x3cdb97(_0xeb0611,_0x19178c,_0x390483):_0x3cdb97(_0xeb0611,_0x19178c))||_0x390483;}return _0x5ac009>0x3&&_0x390483&&Object[_0x5e0d00(0x11b)](_0xeb0611,_0x19178c,_0x390483),_0x390483;},__metadata=this&&this['__metadata']||function(_0x4bc152,_0x3142ce){const _0x2588d5=a245_0x291b;if(typeof Reflect===_0x2588d5(0x12b)&&typeof Reflect['metadata']===_0x2588d5(0x12f))return Reflect[_0x2588d5(0x11e)](_0x4bc152,_0x3142ce);},__param=this&&this[a245_0x26d9eb(0x13e)]||function(_0x1b3d4d,_0x1c9673){return function(_0x227119,_0x1cbd7d){_0x1c9673(_0x227119,_0x1cbd7d,_0x1b3d4d);};},SalesforceService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a245_0x26d9eb(0x133)]=void 0x0;const typedi_1=require(a245_0x26d9eb(0x10d)),core_1=require(a245_0x26d9eb(0x129)),internal_server_error_1=require(a245_0x26d9eb(0x142)),salesforce_auth_service_1=require(a245_0x26d9eb(0x10a)),constants_1=require('../../../../constants'),create_request_util_1=require(a245_0x26d9eb(0x11d)),salesforce_logger_service_1=require(a245_0x26d9eb(0x128)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require('../dto/connection.dto');function a245_0x291b(_0x446d9a,_0x3c7e55){const _0x43a1f2=a245_0x4ebf();return a245_0x291b=function(_0x53e023,_0x2428d1){_0x53e023=_0x53e023-0x101;let _0x4ebf65=_0x43a1f2[_0x53e023];return _0x4ebf65;},a245_0x291b(_0x446d9a,_0x3c7e55);}function a245_0x4ebf(){const _0x1c6fee=['retrieve\x20attachment\x20%s\x20from\x20salesforce','InternalServerError','typedi','740841mwWJoN','retrieve\x20components\x20\x20%d\x20from\x20salesforce','retrieveAttachment','name','12159kYjCYT','loggerId','arraybuffer','/logger','post','setLoggerId','delete\x20attachment\x20%s\x20from\x20salesforce','Service','logger','defineProperty','/flosum_git','../utils/create-request.util','metadata','/body','retrieveComponents','130nkiEgc','getLogger','toString','decorate','SALESFORCE_API_VERSION','deleteAttachment','get','./salesforce-logger.service','../../../../core','585006sBLGwh','object','/attachments','SalesforceLogger','/connection','function','/sobjects/Attachment/','then','apply','SalesforceService','error','2668008gcEsTs','constructor','1592IEMzJp','search','createObject','length','463725wODnog','patch','services/data/','__param','sendLog','IGNORE_FLOSUM_GIT_NAMESPACE','services/apexrest','../../../../core/errors/internal-server.error','request','413610ruYRul','1842124KOFbuX','(((.+)+)+)+$','ConnectionDto','getOwnPropertyDescriptor','2FShGsW','patchObject','fetchConnection','namespace','log','Logger','SalesforceError','text','createSalesforceRequest','./salesforce-auth.service'];a245_0x4ebf=function(){return _0x1c6fee;};return a245_0x4ebf();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0xf7e3f6){const _0x12ca0c=a245_0x26d9eb;this[_0x12ca0c(0x11a)]=new core_1[(_0x12ca0c(0x106))](SalesforceService_1[_0x12ca0c(0x111)]),this[_0x12ca0c(0x143)]=(0x0,create_request_util_1[_0x12ca0c(0x109)])(_0xf7e3f6),this[_0x12ca0c(0x104)]=constants_1[_0x12ca0c(0x140)]?'':_0x12ca0c(0x11c);}[a245_0x26d9eb(0x117)](_0x389538){const _0x37b95e=a245_0x26d9eb;this[_0x37b95e(0x113)]=_0x389538,this['internalLogger']=new salesforce_logger_service_1[(_0x37b95e(0x12d))](this);}[a245_0x26d9eb(0x122)](){return this['internalLogger'];}async[a245_0x26d9eb(0x120)](_0x3dca37){const _0x4e9156=a245_0x26d9eb;try{this['logger'][_0x4e9156(0x105)](_0x4e9156(0x10f),_0x3dca37[_0x4e9156(0x13a)]);const _0x173ac9=await this['request'][_0x4e9156(0x116)](_0x4e9156(0x141)+this[_0x4e9156(0x104)]+_0x4e9156(0x12c),{'componentIds':_0x3dca37,'loggerId':this[_0x4e9156(0x113)]})['then'](({data:_0x2ad7f9})=>_0x2ad7f9);return _0x173ac9;}catch(_0x55d1eb){this[_0x4e9156(0x11a)][_0x4e9156(0x134)](_0x55d1eb);throw new salesforce_error_1[(_0x4e9156(0x107))](_0x55d1eb);}}async[a245_0x26d9eb(0x126)](_0x40fa66){const _0x1643ea=a245_0x26d9eb;try{this['logger']['log'](_0x1643ea(0x118),_0x40fa66),await this[_0x1643ea(0x143)]['delete'](_0x1643ea(0x13d)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x40fa66);}catch(_0x346983){this[_0x1643ea(0x11a)][_0x1643ea(0x134)](_0x346983);throw new salesforce_error_1[(_0x1643ea(0x107))](_0x346983);}}async[a245_0x26d9eb(0x110)](_0x2b9791,_0x27af0c=![]){const _0x42fb1d=a245_0x26d9eb;try{this[_0x42fb1d(0x11a)][_0x42fb1d(0x105)](_0x42fb1d(0x10b),_0x2b9791);const _0xc04b14=await this[_0x42fb1d(0x143)]['get'](_0x42fb1d(0x13d)+constants_1['SALESFORCE_API_VERSION']+_0x42fb1d(0x130)+_0x2b9791+_0x42fb1d(0x11f),{'responseType':_0x27af0c?_0x42fb1d(0x114):_0x42fb1d(0x108)})[_0x42fb1d(0x131)](({data:_0x4886ae})=>_0x4886ae);return _0xc04b14;}catch(_0x1dfba9){this[_0x42fb1d(0x11a)][_0x42fb1d(0x134)](_0x1dfba9);throw new salesforce_error_1[(_0x42fb1d(0x107))](_0x1dfba9);}}async[a245_0x26d9eb(0x13f)](_0x3da436){const _0x115572=a245_0x26d9eb;try{_0x3da436['forEach'](_0x32d2b5=>this[_0x115572(0x11a)][_0x115572(0x105)]('[message]\x20%s',_0x32d2b5)),await this[_0x115572(0x143)][_0x115572(0x116)](_0x115572(0x141)+this[_0x115572(0x104)]+_0x115572(0x115),{'messages':_0x3da436,'loggerId':this[_0x115572(0x113)]});}catch(_0x13c505){this[_0x115572(0x11a)][_0x115572(0x134)](_0x13c505);throw new internal_server_error_1[(_0x115572(0x10c))](_0x13c505);}}async[a245_0x26d9eb(0x139)](_0x29643d,_0x464d3f){const _0x2e8480=a245_0x26d9eb;try{const {data:_0x48d46a}=await this[_0x2e8480(0x143)][_0x2e8480(0x116)](_0x2e8480(0x13d)+constants_1[_0x2e8480(0x125)]+'/sobjects/'+_0x29643d+'/',_0x464d3f);return _0x48d46a['id'];}catch(_0xc53afe){throw new salesforce_error_1['SalesforceError'](_0xc53afe);}}async[a245_0x26d9eb(0x102)](_0x2d19f2,_0x56dfd5,_0x20afb7){const _0x5162f6=a245_0x26d9eb;try{await this['request'][_0x5162f6(0x13c)]('services/data/'+constants_1[_0x5162f6(0x125)]+'/sobjects/'+_0x2d19f2+'/'+_0x56dfd5,_0x20afb7);}catch(_0x3d752b){throw new salesforce_error_1['SalesforceError'](_0x3d752b);}}async[a245_0x26d9eb(0x103)](_0xf55215){const _0x33de32=a245_0x26d9eb;try{const {data:_0x290b48}=await this[_0x33de32(0x143)][_0x33de32(0x127)]('services/apexrest'+this[_0x33de32(0x104)]+_0x33de32(0x12e),{'params':{'connectionId':_0xf55215}});return new connection_dto_1[(_0x33de32(0x147))](_0x290b48);}catch(_0x332e2d){throw new salesforce_error_1[(_0x33de32(0x107))](_0x332e2d);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a245_0x26d9eb(0x119)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a245_0x26d9eb(0x133)]=SalesforceService;