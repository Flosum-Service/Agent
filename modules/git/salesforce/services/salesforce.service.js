const a282_0x1644e6=a282_0x44c9;(function(_0x25e450,_0x196fa2){const _0x52c1a1=a282_0x44c9,_0x4c3e89=_0x25e450();while(!![]){try{const _0x1b792c=parseInt(_0x52c1a1(0x1b9))/0x1*(-parseInt(_0x52c1a1(0x1b3))/0x2)+-parseInt(_0x52c1a1(0x1bb))/0x3+-parseInt(_0x52c1a1(0x1a6))/0x4+-parseInt(_0x52c1a1(0x196))/0x5*(-parseInt(_0x52c1a1(0x199))/0x6)+-parseInt(_0x52c1a1(0x1bd))/0x7+parseInt(_0x52c1a1(0x1a2))/0x8+parseInt(_0x52c1a1(0x19b))/0x9;if(_0x1b792c===_0x196fa2)break;else _0x4c3e89['push'](_0x4c3e89['shift']());}catch(_0x6279da){_0x4c3e89['push'](_0x4c3e89['shift']());}}}(a282_0x339b,0xd9d67));const a282_0x427913=(function(){let _0x1072ab=!![];return function(_0x197d2c,_0x416f6e){const _0x3ba56c=_0x1072ab?function(){if(_0x416f6e){const _0x4cefb7=_0x416f6e['apply'](_0x197d2c,arguments);return _0x416f6e=null,_0x4cefb7;}}:function(){};return _0x1072ab=![],_0x3ba56c;};}()),a282_0xc72407=a282_0x427913(this,function(){const _0x576f34=a282_0x44c9;return a282_0xc72407[_0x576f34(0x1ba)]()[_0x576f34(0x1ae)]('(((.+)+)+)+$')[_0x576f34(0x1ba)]()[_0x576f34(0x1cd)](a282_0xc72407)[_0x576f34(0x1ae)]('(((.+)+)+)+$');});a282_0xc72407();'use strict';var __decorate=this&&this['__decorate']||function(_0x493494,_0x27a73f,_0x19c03c,_0x3d792f){const _0x1128ed=a282_0x44c9;var _0x444386=arguments[_0x1128ed(0x197)],_0x1f5cca=_0x444386<0x3?_0x27a73f:_0x3d792f===null?_0x3d792f=Object['getOwnPropertyDescriptor'](_0x27a73f,_0x19c03c):_0x3d792f,_0x988064;if(typeof Reflect===_0x1128ed(0x1b6)&&typeof Reflect[_0x1128ed(0x1b2)]===_0x1128ed(0x1a7))_0x1f5cca=Reflect['decorate'](_0x493494,_0x27a73f,_0x19c03c,_0x3d792f);else{for(var _0x237c50=_0x493494[_0x1128ed(0x197)]-0x1;_0x237c50>=0x0;_0x237c50--)if(_0x988064=_0x493494[_0x237c50])_0x1f5cca=(_0x444386<0x3?_0x988064(_0x1f5cca):_0x444386>0x3?_0x988064(_0x27a73f,_0x19c03c,_0x1f5cca):_0x988064(_0x27a73f,_0x19c03c))||_0x1f5cca;}return _0x444386>0x3&&_0x1f5cca&&Object[_0x1128ed(0x1b7)](_0x27a73f,_0x19c03c,_0x1f5cca),_0x1f5cca;},__metadata=this&&this[a282_0x1644e6(0x1af)]||function(_0x50511f,_0x235b7e){const _0x16124c=a282_0x1644e6;if(typeof Reflect==='object'&&typeof Reflect[_0x16124c(0x1b4)]===_0x16124c(0x1a7))return Reflect[_0x16124c(0x1b4)](_0x50511f,_0x235b7e);},__param=this&&this[a282_0x1644e6(0x1d1)]||function(_0x4ef955,_0x483d6f){return function(_0x5dc690,_0x146912){_0x483d6f(_0x5dc690,_0x146912,_0x4ef955);};},SalesforceService_1;function a282_0x44c9(_0x37cbcc,_0x50f481){const _0x327c80=a282_0x339b();return a282_0x44c9=function(_0xc72407,_0x427913){_0xc72407=_0xc72407-0x194;let _0x339bbf=_0x327c80[_0xc72407];return _0x339bbf;},a282_0x44c9(_0x37cbcc,_0x50f481);}Object[a282_0x1644e6(0x1b7)](exports,a282_0x1644e6(0x1cc),{'value':!![]}),exports[a282_0x1644e6(0x19d)]=void 0x0;function a282_0x339b(){const _0x4db9b7=['toString','2291160laxRsL','services/data/','10328052fQLLMr','../errors/salesforce.error','Service','typedi','internalLogger','namespace','error','patchObject','[message]\x20%s','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','log','IGNORE_FLOSUM_GIT_NAMESPACE','Inject','/logger','createSalesforceRequest','__esModule','constructor','SalesforceAuthService','deleteAttachment','/connection','__param','forEach','retrieveAttachment','./salesforce-auth.service','InternalServerError','post','/body','/sobjects/','SalesforceLogger','SalesforceError','213010krGgXA','length','patch','102bhEUeV','design:paramtypes','14724054ZkIdXB','Logger','SalesforceService','Delete\x20attachment\x20%s\x20from\x20salesforce','../classes/bulk-components-retriever','./salesforce-logger.service','fetchConnection','9922352wWTeZR','retrieve','Retrieve\x20attachment\x20%s\x20from\x20salesforce','loggerId','1055680htbmEz','function','ConnectionDto','get','SALESFORCE_API_VERSION','../../../../constants','delete','logger','search','__metadata','../dto/connection.dto','/flosum_git','decorate','82078YMKXFd','metadata','/sobjects/Attachment/','object','defineProperty','request','5cKGOzf'];a282_0x339b=function(){return _0x4db9b7;};return a282_0x339b();}const typedi_1=require(a282_0x1644e6(0x1c0)),core_1=require('../../../../core'),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a282_0x1644e6(0x1d4)),constants_1=require(a282_0x1644e6(0x1ab)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a282_0x1644e6(0x1a0)),salesforce_error_1=require(a282_0x1644e6(0x1be)),connection_dto_1=require(a282_0x1644e6(0x1b0)),bulk_components_retriever_1=require(a282_0x1644e6(0x19f));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x31dc62){const _0x37d7d4=a282_0x1644e6;this[_0x37d7d4(0x1ad)]=new core_1[(_0x37d7d4(0x19c))](SalesforceService_1['name']),this[_0x37d7d4(0x1b8)]=(0x0,create_request_util_1[_0x37d7d4(0x1cb)])(_0x31dc62),this['namespace']=constants_1[_0x37d7d4(0x1c8)]?'':_0x37d7d4(0x1b1);}['setLoggerId'](_0xae5574){const _0x2527e0=a282_0x1644e6;this[_0x2527e0(0x1a5)]=_0xae5574,this[_0x2527e0(0x1c1)]=new salesforce_logger_service_1[(_0x2527e0(0x194))](this);}['getLogger'](){const _0xb5224c=a282_0x1644e6;return this[_0xb5224c(0x1c1)];}async['retrieveComponents'](_0x1e6a9b){const _0xe0f218=a282_0x1644e6;try{this[_0xe0f218(0x1ad)][_0xe0f218(0x1c7)](_0xe0f218(0x1c6),_0x1e6a9b['length']);const _0x50eaba=new bulk_components_retriever_1['BulkComponentsRetriever']({'request':this[_0xe0f218(0x1b8)],'ids':_0x1e6a9b}),_0x1aad08=await _0x50eaba[_0xe0f218(0x1a3)]();return _0x1aad08;}catch(_0x410b87){this['logger']['error'](_0x410b87);throw new salesforce_error_1[(_0xe0f218(0x195))](_0x410b87);}}async[a282_0x1644e6(0x1cf)](_0x532723){const _0x1399a2=a282_0x1644e6;try{this[_0x1399a2(0x1ad)][_0x1399a2(0x1c7)](_0x1399a2(0x19e),_0x532723),await this[_0x1399a2(0x1b8)][_0x1399a2(0x1ac)](_0x1399a2(0x1bc)+constants_1[_0x1399a2(0x1aa)]+_0x1399a2(0x1b5)+_0x532723);}catch(_0xe9b433){this[_0x1399a2(0x1ad)][_0x1399a2(0x1c3)](_0xe9b433);throw new salesforce_error_1[(_0x1399a2(0x195))](_0xe9b433);}}async[a282_0x1644e6(0x1d3)](_0x1e4d0b,_0x387622=![]){const _0x590647=a282_0x1644e6;try{this[_0x590647(0x1ad)][_0x590647(0x1c7)](_0x590647(0x1a4),_0x1e4d0b);const _0x374b2b=await this['request'][_0x590647(0x1a9)](_0x590647(0x1bc)+constants_1[_0x590647(0x1aa)]+_0x590647(0x1b5)+_0x1e4d0b+_0x590647(0x1d7),{'responseType':_0x387622?'arraybuffer':'text'})['then'](({data:_0x5a704f})=>_0x5a704f);return _0x374b2b;}catch(_0xcbca98){this[_0x590647(0x1ad)][_0x590647(0x1c3)](_0xcbca98);throw new salesforce_error_1[(_0x590647(0x195))](_0xcbca98);}}async['sendLog'](_0x629f98){const _0xcaa086=a282_0x1644e6;try{_0x629f98[_0xcaa086(0x1d2)](_0x45f603=>this[_0xcaa086(0x1ad)][_0xcaa086(0x1c7)](_0xcaa086(0x1c5),_0x45f603)),await this[_0xcaa086(0x1b8)][_0xcaa086(0x1d6)]('services/apexrest'+this[_0xcaa086(0x1c2)]+_0xcaa086(0x1ca),{'messages':_0x629f98,'loggerId':this[_0xcaa086(0x1a5)]});}catch(_0x372a9){this[_0xcaa086(0x1ad)]['error'](_0x372a9);throw new internal_server_error_1[(_0xcaa086(0x1d5))](_0x372a9);}}async['createObject'](_0x16c178,_0x12863c){const _0x46e13a=a282_0x1644e6;try{const {data:_0x46e640}=await this[_0x46e13a(0x1b8)][_0x46e13a(0x1d6)](_0x46e13a(0x1bc)+constants_1[_0x46e13a(0x1aa)]+'/sobjects/'+_0x16c178+'/',_0x12863c);return _0x46e640['id'];}catch(_0x1b9cfc){throw new salesforce_error_1[(_0x46e13a(0x195))](_0x1b9cfc);}}async[a282_0x1644e6(0x1c4)](_0x2e137e,_0x217947,_0x4ecbec){const _0xf203c9=a282_0x1644e6;try{await this[_0xf203c9(0x1b8)][_0xf203c9(0x198)](_0xf203c9(0x1bc)+constants_1[_0xf203c9(0x1aa)]+_0xf203c9(0x1d8)+_0x2e137e+'/'+_0x217947,_0x4ecbec);}catch(_0x1870c8){throw new salesforce_error_1[(_0xf203c9(0x195))](_0x1870c8);}}async[a282_0x1644e6(0x1a1)](_0x66b460){const _0x14dabe=a282_0x1644e6;try{const {data:_0x552f40}=await this[_0x14dabe(0x1b8)][_0x14dabe(0x1a9)]('services/apexrest'+this[_0x14dabe(0x1c2)]+_0x14dabe(0x1d0),{'params':{'connectionId':_0x66b460}});return new connection_dto_1[(_0x14dabe(0x1a8))](_0x552f40);}catch(_0x1750b4){throw new salesforce_error_1['SalesforceError'](_0x1750b4);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a282_0x1644e6(0x1bf)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a282_0x1644e6(0x1c9)])()),__metadata(a282_0x1644e6(0x19a),[salesforce_auth_service_1[a282_0x1644e6(0x1ce)]])],SalesforceService),exports[a282_0x1644e6(0x19d)]=SalesforceService;