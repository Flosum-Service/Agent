const a206_0x311717=a206_0x548a;(function(_0x958545,_0xaa16d0){const _0x2c2f27=a206_0x548a,_0x8bb724=_0x958545();while(!![]){try{const _0x546cfd=parseInt(_0x2c2f27(0x146))/0x1*(-parseInt(_0x2c2f27(0x135))/0x2)+parseInt(_0x2c2f27(0x14d))/0x3+-parseInt(_0x2c2f27(0x12d))/0x4*(parseInt(_0x2c2f27(0x140))/0x5)+-parseInt(_0x2c2f27(0x151))/0x6+-parseInt(_0x2c2f27(0x15f))/0x7*(-parseInt(_0x2c2f27(0x123))/0x8)+-parseInt(_0x2c2f27(0x122))/0x9*(-parseInt(_0x2c2f27(0x12f))/0xa)+-parseInt(_0x2c2f27(0x134))/0xb;if(_0x546cfd===_0xaa16d0)break;else _0x8bb724['push'](_0x8bb724['shift']());}catch(_0x53f135){_0x8bb724['push'](_0x8bb724['shift']());}}}(a206_0x1114,0x5e2b5));const a206_0x1eaa57=(function(){let _0x346b1b=!![];return function(_0x16af1c,_0x1bae5f){const _0x450bd9=_0x346b1b?function(){if(_0x1bae5f){const _0x102175=_0x1bae5f['apply'](_0x16af1c,arguments);return _0x1bae5f=null,_0x102175;}}:function(){};return _0x346b1b=![],_0x450bd9;};}()),a206_0x1dcf7a=a206_0x1eaa57(this,function(){const _0x457462=a206_0x548a;return a206_0x1dcf7a[_0x457462(0x121)]()['search'](_0x457462(0x143))[_0x457462(0x121)]()[_0x457462(0x144)](a206_0x1dcf7a)[_0x457462(0x162)]('(((.+)+)+)+$');});function a206_0x548a(_0x54a47d,_0x227004){const _0x296ba3=a206_0x1114();return a206_0x548a=function(_0x1dcf7a,_0x1eaa57){_0x1dcf7a=_0x1dcf7a-0x11c;let _0x111477=_0x296ba3[_0x1dcf7a];return _0x111477;},a206_0x548a(_0x54a47d,_0x227004);}a206_0x1dcf7a();'use strict';var __decorate=this&&this[a206_0x311717(0x13a)]||function(_0x50ca3f,_0x43142e,_0x16ac85,_0x12d2e9){const _0x3aa957=a206_0x311717;var _0x3c6c8c=arguments[_0x3aa957(0x11c)],_0x2686df=_0x3c6c8c<0x3?_0x43142e:_0x12d2e9===null?_0x12d2e9=Object[_0x3aa957(0x148)](_0x43142e,_0x16ac85):_0x12d2e9,_0x148d3b;if(typeof Reflect===_0x3aa957(0x147)&&typeof Reflect[_0x3aa957(0x120)]==='function')_0x2686df=Reflect['decorate'](_0x50ca3f,_0x43142e,_0x16ac85,_0x12d2e9);else{for(var _0x39eb54=_0x50ca3f[_0x3aa957(0x11c)]-0x1;_0x39eb54>=0x0;_0x39eb54--)if(_0x148d3b=_0x50ca3f[_0x39eb54])_0x2686df=(_0x3c6c8c<0x3?_0x148d3b(_0x2686df):_0x3c6c8c>0x3?_0x148d3b(_0x43142e,_0x16ac85,_0x2686df):_0x148d3b(_0x43142e,_0x16ac85))||_0x2686df;}return _0x3c6c8c>0x3&&_0x2686df&&Object['defineProperty'](_0x43142e,_0x16ac85,_0x2686df),_0x2686df;},__metadata=this&&this[a206_0x311717(0x136)]||function(_0x58ea10,_0x567e97){const _0x3821fc=a206_0x311717;if(typeof Reflect===_0x3821fc(0x147)&&typeof Reflect['metadata']===_0x3821fc(0x15b))return Reflect[_0x3821fc(0x159)](_0x58ea10,_0x567e97);},__param=this&&this[a206_0x311717(0x129)]||function(_0x5a0d32,_0x75ef53){return function(_0x31f3c3,_0x363399){_0x75ef53(_0x31f3c3,_0x363399,_0x5a0d32);};},SalesforceService_1;function a206_0x1114(){const _0x1fe083=['/sobjects/Attachment/','metadata','typedi','function','deleteAttachment','SalesforceError','SALESFORCE_API_VERSION','21PKzVpF','patchObject','error','search','setLoggerId','/flosum_git','../utils/create-request.util','IGNORE_FLOSUM_GIT_NAMESPACE','retrieveComponents','text','length','design:paramtypes','retrieveAttachment','createObject','decorate','toString','2704941zsMJVQ','1738040EFtKBW','loggerId','Service','retrieve\x20components\x20\x20%d\x20from\x20salesforce','services/data/','/sobjects/','__param','../dto/connection.dto','/attachments','/body','311560EdzXQp','get','10yZacLL','../../../../core/errors/internal-server.error','logger','patch','request','1236081ofJNRn','66IIRmxK','__metadata','../errors/salesforce.error','getLogger','then','__decorate','./salesforce-auth.service','delete','post','services/apexrest','sendLog','30IEarUq','namespace','ConnectionDto','(((.+)+)+)+$','constructor','fetchConnection','16207ILDfKE','object','getOwnPropertyDescriptor','SalesforceService','arraybuffer','internalLogger','Inject','2271723xpICRX','../../../../constants','Logger','InternalServerError','1255776ACeFLb','defineProperty','SalesforceLogger','log','createSalesforceRequest','delete\x20attachment\x20%s\x20from\x20salesforce','../../../../core'];a206_0x1114=function(){return _0x1fe083;};return a206_0x1114();}Object[a206_0x311717(0x152)](exports,'__esModule',{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a206_0x311717(0x15a)),core_1=require(a206_0x311717(0x157)),internal_server_error_1=require(a206_0x311717(0x130)),salesforce_auth_service_1=require(a206_0x311717(0x13b)),constants_1=require(a206_0x311717(0x14e)),create_request_util_1=require(a206_0x311717(0x165)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a206_0x311717(0x137)),connection_dto_1=require(a206_0x311717(0x12a));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x48ec50){const _0x18eae8=a206_0x311717;this['logger']=new core_1[(_0x18eae8(0x14f))](SalesforceService_1['name']),this['request']=(0x0,create_request_util_1[_0x18eae8(0x155)])(_0x48ec50),this[_0x18eae8(0x141)]=constants_1[_0x18eae8(0x166)]?'':_0x18eae8(0x164);}[a206_0x311717(0x163)](_0x19dcd5){const _0x5baa38=a206_0x311717;this[_0x5baa38(0x124)]=_0x19dcd5,this[_0x5baa38(0x14b)]=new salesforce_logger_service_1[(_0x5baa38(0x153))](this);}[a206_0x311717(0x138)](){const _0x317a55=a206_0x311717;return this[_0x317a55(0x14b)];}async[a206_0x311717(0x167)](_0x290f15){const _0x2d9578=a206_0x311717;try{this[_0x2d9578(0x131)][_0x2d9578(0x154)](_0x2d9578(0x126),_0x290f15[_0x2d9578(0x11c)]);const _0x5b735f=await this['request'][_0x2d9578(0x13d)](_0x2d9578(0x13e)+this[_0x2d9578(0x141)]+_0x2d9578(0x12b),{'componentIds':_0x290f15,'loggerId':this[_0x2d9578(0x124)]})[_0x2d9578(0x139)](({data:_0x433d5f})=>_0x433d5f);return _0x5b735f;}catch(_0x3b7066){this[_0x2d9578(0x131)]['error'](_0x3b7066);throw new salesforce_error_1[(_0x2d9578(0x15d))](_0x3b7066);}}async[a206_0x311717(0x15c)](_0x21f8b7){const _0x37882e=a206_0x311717;try{this[_0x37882e(0x131)][_0x37882e(0x154)](_0x37882e(0x156),_0x21f8b7),await this[_0x37882e(0x133)][_0x37882e(0x13c)](_0x37882e(0x127)+constants_1[_0x37882e(0x15e)]+_0x37882e(0x158)+_0x21f8b7);}catch(_0x29e213){this[_0x37882e(0x131)]['error'](_0x29e213);throw new salesforce_error_1[(_0x37882e(0x15d))](_0x29e213);}}async[a206_0x311717(0x11e)](_0x3611a1,_0x5e0e1e=![]){const _0x3cd35e=a206_0x311717;try{this[_0x3cd35e(0x131)]['log']('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x3611a1);const _0x1744f5=await this[_0x3cd35e(0x133)][_0x3cd35e(0x12e)]('services/data/'+constants_1[_0x3cd35e(0x15e)]+_0x3cd35e(0x158)+_0x3611a1+_0x3cd35e(0x12c),{'responseType':_0x5e0e1e?_0x3cd35e(0x14a):_0x3cd35e(0x168)})[_0x3cd35e(0x139)](({data:_0x1dd9f5})=>_0x1dd9f5);return _0x1744f5;}catch(_0x15604d){this['logger']['error'](_0x15604d);throw new salesforce_error_1[(_0x3cd35e(0x15d))](_0x15604d);}}async[a206_0x311717(0x13f)](_0x556d52){const _0x221cda=a206_0x311717;try{_0x556d52['forEach'](_0x225265=>this['logger']['log']('[message]\x20%s',_0x225265)),await this[_0x221cda(0x133)][_0x221cda(0x13d)](_0x221cda(0x13e)+this['namespace']+'/logger',{'messages':_0x556d52,'loggerId':this[_0x221cda(0x124)]});}catch(_0x59f307){this[_0x221cda(0x131)][_0x221cda(0x161)](_0x59f307);throw new internal_server_error_1[(_0x221cda(0x150))](_0x59f307);}}async[a206_0x311717(0x11f)](_0x1dbd4c,_0x328fd5){const _0x4586ed=a206_0x311717;try{const {data:_0x5912d8}=await this['request']['post'](_0x4586ed(0x127)+constants_1[_0x4586ed(0x15e)]+_0x4586ed(0x128)+_0x1dbd4c+'/',_0x328fd5);return _0x5912d8['id'];}catch(_0xfe7eb9){throw new salesforce_error_1[(_0x4586ed(0x15d))](_0xfe7eb9);}}async[a206_0x311717(0x160)](_0x52db61,_0xd6d092,_0x4e3e8a){const _0x3f7a6d=a206_0x311717;try{await this[_0x3f7a6d(0x133)][_0x3f7a6d(0x132)](_0x3f7a6d(0x127)+constants_1[_0x3f7a6d(0x15e)]+'/sobjects/'+_0x52db61+'/'+_0xd6d092,_0x4e3e8a);}catch(_0x29151e){throw new salesforce_error_1['SalesforceError'](_0x29151e);}}async[a206_0x311717(0x145)](_0x5b7089){const _0x2d91c7=a206_0x311717;try{const {data:_0x4ea817}=await this[_0x2d91c7(0x133)][_0x2d91c7(0x12e)]('services/apexrest'+this['namespace']+'/connection',{'params':{'connectionId':_0x5b7089}});return new connection_dto_1[(_0x2d91c7(0x142))](_0x4ea817);}catch(_0x540592){throw new salesforce_error_1[(_0x2d91c7(0x15d))](_0x540592);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a206_0x311717(0x125)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a206_0x311717(0x14c)])()),__metadata(a206_0x311717(0x11d),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a206_0x311717(0x149)]=SalesforceService;