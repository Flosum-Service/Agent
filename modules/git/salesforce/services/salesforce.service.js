const a282_0x54b997=a282_0x4303;(function(_0x47f9ad,_0x40d454){const _0x59d1cd=a282_0x4303,_0xfaece9=_0x47f9ad();while(!![]){try{const _0x5bea03=parseInt(_0x59d1cd(0x1a2))/0x1+-parseInt(_0x59d1cd(0x1a0))/0x2*(parseInt(_0x59d1cd(0x193))/0x3)+parseInt(_0x59d1cd(0x1ac))/0x4+-parseInt(_0x59d1cd(0x1aa))/0x5+parseInt(_0x59d1cd(0x17c))/0x6*(parseInt(_0x59d1cd(0x191))/0x7)+parseInt(_0x59d1cd(0x16e))/0x8+-parseInt(_0x59d1cd(0x17d))/0x9*(parseInt(_0x59d1cd(0x176))/0xa);if(_0x5bea03===_0x40d454)break;else _0xfaece9['push'](_0xfaece9['shift']());}catch(_0x318ed6){_0xfaece9['push'](_0xfaece9['shift']());}}}(a282_0x347b,0x47d7d));function a282_0x347b(){const _0x328542=['toString','30ekUsRK','object','delete','ConnectionDto','[message]\x20%s','deleteAttachment','retrieveComponents','/logger','../../../../constants','SALESFORCE_API_VERSION','services/apexrest','get','constructor','18962NLtGyY','createObject','245940wpnEet','request','name','SalesforceLogger','getOwnPropertyDescriptor','text','../utils/create-request.util','../../../../core','75930PKtCPK','getLogger','1933300DLjuOD','__esModule','search','InternalServerError','BulkComponentsRetriever','(((.+)+)+)+$','retrieveAttachment','setLoggerId','defineProperty','function','logger','2171032buRlCN','../errors/salesforce.error','internalLogger','../../../../core/errors/internal-server.error','./salesforce-auth.service','SalesforceService','__metadata','services/data/','5642740SnHhZW','fetchConnection','length','design:paramtypes','post','SalesforceError','66zHkjnb','18UVBgdZ','../dto/connection.dto','apply','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','typedi','metadata','SalesforceAuthService','/flosum_git','then','Retrieve\x20attachment\x20%s\x20from\x20salesforce','namespace','retrieve','decorate','Service','/connection','error','log','__param','/sobjects/Attachment/','loggerId','338653kbZtHi'];a282_0x347b=function(){return _0x328542;};return a282_0x347b();}const a282_0x57d64c=(function(){let _0x5f335c=!![];return function(_0x2d9820,_0x8b334a){const _0x347de1=_0x5f335c?function(){const _0x2ae6ba=a282_0x4303;if(_0x8b334a){const _0x4ad634=_0x8b334a[_0x2ae6ba(0x17f)](_0x2d9820,arguments);return _0x8b334a=null,_0x4ad634;}}:function(){};return _0x5f335c=![],_0x347de1;};}()),a282_0x32fcee=a282_0x57d64c(this,function(){const _0x528c6c=a282_0x4303;return a282_0x32fcee[_0x528c6c(0x192)]()['search'](_0x528c6c(0x168))[_0x528c6c(0x192)]()[_0x528c6c(0x19f)](a282_0x32fcee)[_0x528c6c(0x165)](_0x528c6c(0x168));});a282_0x32fcee();'use strict';var __decorate=this&&this['__decorate']||function(_0x24dc10,_0x301a1f,_0x540376,_0xe7fc03){const _0x2b86ae=a282_0x4303;var _0x3b703e=arguments[_0x2b86ae(0x178)],_0x546ec3=_0x3b703e<0x3?_0x301a1f:_0xe7fc03===null?_0xe7fc03=Object[_0x2b86ae(0x1a6)](_0x301a1f,_0x540376):_0xe7fc03,_0x17577a;if(typeof Reflect===_0x2b86ae(0x194)&&typeof Reflect[_0x2b86ae(0x189)]==='function')_0x546ec3=Reflect[_0x2b86ae(0x189)](_0x24dc10,_0x301a1f,_0x540376,_0xe7fc03);else{for(var _0x2f7697=_0x24dc10[_0x2b86ae(0x178)]-0x1;_0x2f7697>=0x0;_0x2f7697--)if(_0x17577a=_0x24dc10[_0x2f7697])_0x546ec3=(_0x3b703e<0x3?_0x17577a(_0x546ec3):_0x3b703e>0x3?_0x17577a(_0x301a1f,_0x540376,_0x546ec3):_0x17577a(_0x301a1f,_0x540376))||_0x546ec3;}return _0x3b703e>0x3&&_0x546ec3&&Object[_0x2b86ae(0x16b)](_0x301a1f,_0x540376,_0x546ec3),_0x546ec3;},__metadata=this&&this[a282_0x54b997(0x174)]||function(_0x11417a,_0x2f15f3){const _0x554682=a282_0x54b997;if(typeof Reflect==='object'&&typeof Reflect[_0x554682(0x182)]===_0x554682(0x16c))return Reflect[_0x554682(0x182)](_0x11417a,_0x2f15f3);},__param=this&&this[a282_0x54b997(0x18e)]||function(_0x495845,_0x566174){return function(_0x2e327d,_0x42eb8d){_0x566174(_0x2e327d,_0x42eb8d,_0x495845);};},SalesforceService_1;Object[a282_0x54b997(0x16b)](exports,a282_0x54b997(0x1ad),{'value':!![]}),exports[a282_0x54b997(0x173)]=void 0x0;function a282_0x4303(_0x3a3c4b,_0x1cd4c9){const _0x30688e=a282_0x347b();return a282_0x4303=function(_0x32fcee,_0x57d64c){_0x32fcee=_0x32fcee-0x165;let _0x347b61=_0x30688e[_0x32fcee];return _0x347b61;},a282_0x4303(_0x3a3c4b,_0x1cd4c9);}const typedi_1=require(a282_0x54b997(0x181)),core_1=require(a282_0x54b997(0x1a9)),internal_server_error_1=require(a282_0x54b997(0x171)),salesforce_auth_service_1=require(a282_0x54b997(0x172)),constants_1=require(a282_0x54b997(0x19b)),create_request_util_1=require(a282_0x54b997(0x1a8)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a282_0x54b997(0x16f)),connection_dto_1=require(a282_0x54b997(0x17e)),bulk_components_retriever_1=require('../classes/bulk-components-retriever');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4236f8){const _0x1ef351=a282_0x54b997;this['logger']=new core_1['Logger'](SalesforceService_1[_0x1ef351(0x1a4)]),this[_0x1ef351(0x1a3)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x4236f8),this[_0x1ef351(0x187)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x1ef351(0x184);}[a282_0x54b997(0x16a)](_0x975a48){const _0x1c7e7e=a282_0x54b997;this['loggerId']=_0x975a48,this[_0x1c7e7e(0x170)]=new salesforce_logger_service_1[(_0x1c7e7e(0x1a5))](this);}[a282_0x54b997(0x1ab)](){return this['internalLogger'];}async[a282_0x54b997(0x199)](_0x4bac9b){const _0x18f74a=a282_0x54b997;try{this[_0x18f74a(0x16d)][_0x18f74a(0x18d)](_0x18f74a(0x180),_0x4bac9b[_0x18f74a(0x178)]);const _0xeb537f=new bulk_components_retriever_1[(_0x18f74a(0x167))]({'request':this['request'],'ids':_0x4bac9b}),_0x12b707=await _0xeb537f[_0x18f74a(0x188)]();return _0x12b707;}catch(_0x5ca335){this[_0x18f74a(0x16d)][_0x18f74a(0x18c)](_0x5ca335);throw new salesforce_error_1[(_0x18f74a(0x17b))](_0x5ca335);}}async[a282_0x54b997(0x198)](_0x396633){const _0x474291=a282_0x54b997;try{this[_0x474291(0x16d)][_0x474291(0x18d)]('Delete\x20attachment\x20%s\x20from\x20salesforce',_0x396633),await this[_0x474291(0x1a3)][_0x474291(0x195)](_0x474291(0x175)+constants_1[_0x474291(0x19c)]+_0x474291(0x18f)+_0x396633);}catch(_0x59ea16){this[_0x474291(0x16d)][_0x474291(0x18c)](_0x59ea16);throw new salesforce_error_1[(_0x474291(0x17b))](_0x59ea16);}}async[a282_0x54b997(0x169)](_0x19f641,_0x2a5234=![]){const _0x215dc2=a282_0x54b997;try{this[_0x215dc2(0x16d)][_0x215dc2(0x18d)](_0x215dc2(0x186),_0x19f641);const _0x2e69f2=await this[_0x215dc2(0x1a3)][_0x215dc2(0x19e)](_0x215dc2(0x175)+constants_1[_0x215dc2(0x19c)]+'/sobjects/Attachment/'+_0x19f641+'/body',{'responseType':_0x2a5234?'arraybuffer':_0x215dc2(0x1a7)})[_0x215dc2(0x185)](({data:_0x582c5b})=>_0x582c5b);return _0x2e69f2;}catch(_0x2213bb){this[_0x215dc2(0x16d)][_0x215dc2(0x18c)](_0x2213bb);throw new salesforce_error_1[(_0x215dc2(0x17b))](_0x2213bb);}}async['sendLog'](_0x1ee4b9){const _0x5458b8=a282_0x54b997;try{_0x1ee4b9['forEach'](_0x3821e4=>this[_0x5458b8(0x16d)][_0x5458b8(0x18d)](_0x5458b8(0x197),_0x3821e4)),await this['request']['post'](_0x5458b8(0x19d)+this['namespace']+_0x5458b8(0x19a),{'messages':_0x1ee4b9,'loggerId':this[_0x5458b8(0x190)]});}catch(_0x163fb8){this['logger'][_0x5458b8(0x18c)](_0x163fb8);throw new internal_server_error_1[(_0x5458b8(0x166))](_0x163fb8);}}async[a282_0x54b997(0x1a1)](_0x469f75,_0xd82ae9){const _0x256f8d=a282_0x54b997;try{const {data:_0x3a6278}=await this[_0x256f8d(0x1a3)][_0x256f8d(0x17a)](_0x256f8d(0x175)+constants_1[_0x256f8d(0x19c)]+'/sobjects/'+_0x469f75+'/',_0xd82ae9);return _0x3a6278['id'];}catch(_0x361e4e){throw new salesforce_error_1['SalesforceError'](_0x361e4e);}}async['patchObject'](_0x158cf1,_0x17daff,_0x2c6e4a){const _0x3032e6=a282_0x54b997;try{await this[_0x3032e6(0x1a3)]['patch'](_0x3032e6(0x175)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x158cf1+'/'+_0x17daff,_0x2c6e4a);}catch(_0x220790){throw new salesforce_error_1[(_0x3032e6(0x17b))](_0x220790);}}async[a282_0x54b997(0x177)](_0xcb5a72){const _0x5baaf5=a282_0x54b997;try{const {data:_0x3cd0b9}=await this[_0x5baaf5(0x1a3)][_0x5baaf5(0x19e)](_0x5baaf5(0x19d)+this[_0x5baaf5(0x187)]+_0x5baaf5(0x18b),{'params':{'connectionId':_0xcb5a72}});return new connection_dto_1[(_0x5baaf5(0x196))](_0x3cd0b9);}catch(_0x1f3cd2){throw new salesforce_error_1[(_0x5baaf5(0x17b))](_0x1f3cd2);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a282_0x54b997(0x18a)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a282_0x54b997(0x179),[salesforce_auth_service_1[a282_0x54b997(0x183)]])],SalesforceService),exports[a282_0x54b997(0x173)]=SalesforceService;