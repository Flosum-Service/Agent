const a283_0xbcc58=a283_0x206f;(function(_0x441309,_0x514a18){const _0x1f3968=a283_0x206f,_0x116702=_0x441309();while(!![]){try{const _0x111d44=-parseInt(_0x1f3968(0x1b9))/0x1*(-parseInt(_0x1f3968(0x1aa))/0x2)+parseInt(_0x1f3968(0x1a9))/0x3+-parseInt(_0x1f3968(0x1cc))/0x4*(parseInt(_0x1f3968(0x1b1))/0x5)+-parseInt(_0x1f3968(0x1af))/0x6*(-parseInt(_0x1f3968(0x1c2))/0x7)+parseInt(_0x1f3968(0x1be))/0x8+parseInt(_0x1f3968(0x18b))/0x9+-parseInt(_0x1f3968(0x1b0))/0xa*(parseInt(_0x1f3968(0x1a5))/0xb);if(_0x111d44===_0x514a18)break;else _0x116702['push'](_0x116702['shift']());}catch(_0x44b5df){_0x116702['push'](_0x116702['shift']());}}}(a283_0x281a,0x67bb7));const a283_0xdb00e2=(function(){let _0x3ab5b0=!![];return function(_0x88868a,_0x41e485){const _0x5ade90=_0x3ab5b0?function(){const _0x534ec6=a283_0x206f;if(_0x41e485){const _0x5c24c5=_0x41e485[_0x534ec6(0x1c5)](_0x88868a,arguments);return _0x41e485=null,_0x5c24c5;}}:function(){};return _0x3ab5b0=![],_0x5ade90;};}()),a283_0x34947d=a283_0xdb00e2(this,function(){const _0x41e13d=a283_0x206f;return a283_0x34947d[_0x41e13d(0x19a)]()[_0x41e13d(0x1c8)](_0x41e13d(0x1ad))[_0x41e13d(0x19a)]()[_0x41e13d(0x194)](a283_0x34947d)[_0x41e13d(0x1c8)](_0x41e13d(0x1ad));});function a283_0x206f(_0x4289e9,_0x1444cb){const _0x186bdf=a283_0x281a();return a283_0x206f=function(_0x34947d,_0xdb00e2){_0x34947d=_0x34947d-0x181;let _0x281a16=_0x186bdf[_0x34947d];return _0x281a16;},a283_0x206f(_0x4289e9,_0x1444cb);}a283_0x34947d();'use strict';var __decorate=this&&this[a283_0xbcc58(0x1b5)]||function(_0x100050,_0x3444fe,_0x5633e4,_0x4fc486){const _0xc8cbe4=a283_0xbcc58;var _0x59676d=arguments[_0xc8cbe4(0x196)],_0x5d01e7=_0x59676d<0x3?_0x3444fe:_0x4fc486===null?_0x4fc486=Object[_0xc8cbe4(0x1c1)](_0x3444fe,_0x5633e4):_0x4fc486,_0x59bf3d;if(typeof Reflect===_0xc8cbe4(0x1a3)&&typeof Reflect[_0xc8cbe4(0x1bd)]===_0xc8cbe4(0x187))_0x5d01e7=Reflect[_0xc8cbe4(0x1bd)](_0x100050,_0x3444fe,_0x5633e4,_0x4fc486);else{for(var _0x5dca01=_0x100050[_0xc8cbe4(0x196)]-0x1;_0x5dca01>=0x0;_0x5dca01--)if(_0x59bf3d=_0x100050[_0x5dca01])_0x5d01e7=(_0x59676d<0x3?_0x59bf3d(_0x5d01e7):_0x59676d>0x3?_0x59bf3d(_0x3444fe,_0x5633e4,_0x5d01e7):_0x59bf3d(_0x3444fe,_0x5633e4))||_0x5d01e7;}return _0x59676d>0x3&&_0x5d01e7&&Object[_0xc8cbe4(0x1ae)](_0x3444fe,_0x5633e4,_0x5d01e7),_0x5d01e7;},__metadata=this&&this[a283_0xbcc58(0x19d)]||function(_0x17183f,_0x20d5f1){const _0x2e3c08=a283_0xbcc58;if(typeof Reflect===_0x2e3c08(0x1a3)&&typeof Reflect[_0x2e3c08(0x182)]==='function')return Reflect[_0x2e3c08(0x182)](_0x17183f,_0x20d5f1);},__param=this&&this[a283_0xbcc58(0x191)]||function(_0x545caf,_0x22e22e){return function(_0x1b4d3c,_0x36f5d0){_0x22e22e(_0x1b4d3c,_0x36f5d0,_0x545caf);};},SalesforceService_1;Object['defineProperty'](exports,a283_0xbcc58(0x1c3),{'value':!![]}),exports[a283_0xbcc58(0x1ac)]=void 0x0;function a283_0x281a(){const _0x51b4e4=['84792XhfsGr','name','metadata','namespace','../../../../core/errors/internal-server.error','getLogger','forEach','function','post','./salesforce-auth.service','request','171459WKomlM','log','./salesforce-logger.service','../../../../core','../classes/bulk-components-retriever','createSalesforceRequest','__param','internalLogger','Delete\x20attachment\x20%s\x20from\x20salesforce','constructor','createObject','length','delete','text','deleteAttachment','toString','Logger','design:paramtypes','__metadata','fetchConnection','Inject','../errors/salesforce.error','/body','services/apexrest','object','Retrieve\x20attachment\x20%s\x20from\x20salesforce','99bBOHxK','logger','arraybuffer','sendLog','1957710coOqyY','26458VOLRUV','/sobjects/','SalesforceService','(((.+)+)+)+$','defineProperty','30tFKlIr','1373070TrxCZf','85CEDfly','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','InternalServerError','Service','__decorate','retrieveAttachment','SALESFORCE_API_VERSION','get','39yVBAqz','SalesforceError','/logger','error','decorate','1233472Zrhals','services/data/','ConnectionDto','getOwnPropertyDescriptor','950992EdwjaY','__esModule','SalesforceLogger','apply','../dto/connection.dto','loggerId','search','/sobjects/Attachment/','../../../../constants','setLoggerId'];a283_0x281a=function(){return _0x51b4e4;};return a283_0x281a();}const typedi_1=require('typedi'),core_1=require(a283_0xbcc58(0x18e)),internal_server_error_1=require(a283_0xbcc58(0x184)),salesforce_auth_service_1=require(a283_0xbcc58(0x189)),constants_1=require(a283_0xbcc58(0x1ca)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a283_0xbcc58(0x18d)),salesforce_error_1=require(a283_0xbcc58(0x1a0)),connection_dto_1=require(a283_0xbcc58(0x1c6)),bulk_components_retriever_1=require(a283_0xbcc58(0x18f));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4f7875){const _0x1ad06d=a283_0xbcc58;this[_0x1ad06d(0x1a6)]=new core_1[(_0x1ad06d(0x19b))](SalesforceService_1[_0x1ad06d(0x181)]),this[_0x1ad06d(0x18a)]=(0x0,create_request_util_1[_0x1ad06d(0x190)])(_0x4f7875),this[_0x1ad06d(0x183)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':'/flosum_git';}[a283_0xbcc58(0x1cb)](_0x30dc88){const _0x815aa4=a283_0xbcc58;this['loggerId']=_0x30dc88,this[_0x815aa4(0x192)]=new salesforce_logger_service_1[(_0x815aa4(0x1c4))](this);}[a283_0xbcc58(0x185)](){const _0x1219fb=a283_0xbcc58;return this[_0x1219fb(0x192)];}async['retrieveComponents'](_0x6e54b8){const _0x76b469=a283_0xbcc58;try{this[_0x76b469(0x1a6)][_0x76b469(0x18c)](_0x76b469(0x1b2),_0x6e54b8['length']);const _0x4f5ee5=new bulk_components_retriever_1['BulkComponentsRetriever']({'request':this['request'],'ids':_0x6e54b8}),_0x5ecd2f=await _0x4f5ee5['retrieve']();return _0x5ecd2f;}catch(_0x3110d1){this[_0x76b469(0x1a6)][_0x76b469(0x1bc)](_0x3110d1);throw new salesforce_error_1[(_0x76b469(0x1ba))](_0x3110d1);}}async[a283_0xbcc58(0x199)](_0x3473e7){const _0x455321=a283_0xbcc58;try{this['logger'][_0x455321(0x18c)](_0x455321(0x193),_0x3473e7),await this[_0x455321(0x18a)][_0x455321(0x197)](_0x455321(0x1bf)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x3473e7);}catch(_0x4d0f00){this[_0x455321(0x1a6)]['error'](_0x4d0f00);throw new salesforce_error_1[(_0x455321(0x1ba))](_0x4d0f00);}}async[a283_0xbcc58(0x1b6)](_0x250e1c,_0x2ffd1c=![]){const _0x5dee11=a283_0xbcc58;try{this[_0x5dee11(0x1a6)][_0x5dee11(0x18c)](_0x5dee11(0x1a4),_0x250e1c);const _0x2535dd=await this['request'][_0x5dee11(0x1b8)]('services/data/'+constants_1[_0x5dee11(0x1b7)]+_0x5dee11(0x1c9)+_0x250e1c+_0x5dee11(0x1a1),{'responseType':_0x2ffd1c?_0x5dee11(0x1a7):_0x5dee11(0x198)})['then'](({data:_0x263a68})=>_0x263a68);return _0x2535dd;}catch(_0x12b73e){this[_0x5dee11(0x1a6)]['error'](_0x12b73e);throw new salesforce_error_1['SalesforceError'](_0x12b73e);}}async[a283_0xbcc58(0x1a8)](_0x31e612){const _0x25f482=a283_0xbcc58;try{_0x31e612[_0x25f482(0x186)](_0x3f2273=>this[_0x25f482(0x1a6)][_0x25f482(0x18c)]('[message]\x20%s',_0x3f2273)),await this[_0x25f482(0x18a)][_0x25f482(0x188)](_0x25f482(0x1a2)+this[_0x25f482(0x183)]+_0x25f482(0x1bb),{'messages':_0x31e612,'loggerId':this[_0x25f482(0x1c7)]});}catch(_0x5c1b1c){this[_0x25f482(0x1a6)][_0x25f482(0x1bc)](_0x5c1b1c);throw new internal_server_error_1[(_0x25f482(0x1b3))](_0x5c1b1c);}}async[a283_0xbcc58(0x195)](_0x2c0889,_0x46f355){const _0x4a7eb7=a283_0xbcc58;try{const {data:_0x1309fe}=await this['request']['post'](_0x4a7eb7(0x1bf)+constants_1[_0x4a7eb7(0x1b7)]+_0x4a7eb7(0x1ab)+_0x2c0889+'/',_0x46f355);return _0x1309fe['id'];}catch(_0x2222d9){throw new salesforce_error_1[(_0x4a7eb7(0x1ba))](_0x2222d9);}}async['patchObject'](_0x2c6619,_0x2955c9,_0x54a0b6){const _0x5d0146=a283_0xbcc58;try{await this['request']['patch'](_0x5d0146(0x1bf)+constants_1[_0x5d0146(0x1b7)]+'/sobjects/'+_0x2c6619+'/'+_0x2955c9,_0x54a0b6);}catch(_0x255dad){throw new salesforce_error_1[(_0x5d0146(0x1ba))](_0x255dad);}}async[a283_0xbcc58(0x19e)](_0x2434b2){const _0x6e83ae=a283_0xbcc58;try{const {data:_0x5db11c}=await this[_0x6e83ae(0x18a)][_0x6e83ae(0x1b8)](_0x6e83ae(0x1a2)+this[_0x6e83ae(0x183)]+'/connection',{'params':{'connectionId':_0x2434b2}});return new connection_dto_1[(_0x6e83ae(0x1c0))](_0x5db11c);}catch(_0x5ba059){throw new salesforce_error_1['SalesforceError'](_0x5ba059);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a283_0xbcc58(0x1b4)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a283_0xbcc58(0x19f)])()),__metadata(a283_0xbcc58(0x19c),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a283_0xbcc58(0x1ac)]=SalesforceService;