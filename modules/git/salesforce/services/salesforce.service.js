const a256_0x1af330=a256_0x3446;(function(_0x4744cf,_0x3dc663){const _0x4a774b=a256_0x3446,_0x4edfa2=_0x4744cf();while(!![]){try{const _0x1edea9=-parseInt(_0x4a774b(0x188))/0x1*(-parseInt(_0x4a774b(0x17e))/0x2)+parseInt(_0x4a774b(0x1b1))/0x3+-parseInt(_0x4a774b(0x1c7))/0x4+parseInt(_0x4a774b(0x192))/0x5*(parseInt(_0x4a774b(0x191))/0x6)+parseInt(_0x4a774b(0x1bd))/0x7+-parseInt(_0x4a774b(0x1b7))/0x8*(-parseInt(_0x4a774b(0x1b8))/0x9)+-parseInt(_0x4a774b(0x181))/0xa*(parseInt(_0x4a774b(0x1a0))/0xb);if(_0x1edea9===_0x3dc663)break;else _0x4edfa2['push'](_0x4edfa2['shift']());}catch(_0x109672){_0x4edfa2['push'](_0x4edfa2['shift']());}}}(a256_0x2906,0xa7a6b));const a256_0x43f6ed=(function(){let _0x32bb90=!![];return function(_0x451220,_0x24a33e){const _0xb145dc=_0x32bb90?function(){const _0x34eb95=a256_0x3446;if(_0x24a33e){const _0x2649d4=_0x24a33e[_0x34eb95(0x1b5)](_0x451220,arguments);return _0x24a33e=null,_0x2649d4;}}:function(){};return _0x32bb90=![],_0xb145dc;};}()),a256_0x36a921=a256_0x43f6ed(this,function(){const _0x497611=a256_0x3446;return a256_0x36a921[_0x497611(0x18c)]()['search'](_0x497611(0x184))[_0x497611(0x18c)]()[_0x497611(0x183)](a256_0x36a921)[_0x497611(0x182)](_0x497611(0x184));});a256_0x36a921();'use strict';function a256_0x2906(){const _0x2cd434=['9152OpjFgk','decorate','error','object','SalesforceAuthService','services/apexrest','get','/logger','__decorate','./salesforce-logger.service','deleteAttachment','getLogger','length','Delete\x20attachment\x20%s\x20from\x20salesforce','retrieveAttachment','../dto/connection.dto','/sobjects/','2172972QuHFyj','log','Inject','function','apply','typedi','222648rWpccr','63qYGtVw','forEach','[message]\x20%s','design:paramtypes','/connection','3226013hKgEkV','loggerId','internalLogger','/flosum_git','fetchConnection','createSalesforceRequest','ConnectionDto','getOwnPropertyDescriptor','retrieveComponents','delete','2129240sFPiDp','SalesforceLogger','SalesforceService','27320TcKJqq','Retrieve\x20attachment\x20%s\x20from\x20salesforce','setLoggerId','29980HTNJMz','search','constructor','(((.+)+)+)+$','./salesforce-auth.service','createObject','request','77pcHPug','defineProperty','../../../../core/errors/internal-server.error','SALESFORCE_API_VERSION','toString','SalesforceError','services/data/','name','__param','1537830ALZRYo','25JyISVw','then','patchObject','namespace','../../../../constants','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','Service','logger','post','metadata','InternalServerError','/sobjects/Attachment/','__esModule','text'];a256_0x2906=function(){return _0x2cd434;};return a256_0x2906();}var __decorate=this&&this[a256_0x1af330(0x1a8)]||function(_0x39581b,_0x3aaf01,_0x48f1d4,_0x3ec2aa){const _0x3102ea=a256_0x1af330;var _0x1b68e5=arguments[_0x3102ea(0x1ac)],_0x25c5c3=_0x1b68e5<0x3?_0x3aaf01:_0x3ec2aa===null?_0x3ec2aa=Object[_0x3102ea(0x1c4)](_0x3aaf01,_0x48f1d4):_0x3ec2aa,_0x254111;if(typeof Reflect==='object'&&typeof Reflect[_0x3102ea(0x1a1)]==='function')_0x25c5c3=Reflect[_0x3102ea(0x1a1)](_0x39581b,_0x3aaf01,_0x48f1d4,_0x3ec2aa);else{for(var _0x457e84=_0x39581b[_0x3102ea(0x1ac)]-0x1;_0x457e84>=0x0;_0x457e84--)if(_0x254111=_0x39581b[_0x457e84])_0x25c5c3=(_0x1b68e5<0x3?_0x254111(_0x25c5c3):_0x1b68e5>0x3?_0x254111(_0x3aaf01,_0x48f1d4,_0x25c5c3):_0x254111(_0x3aaf01,_0x48f1d4))||_0x25c5c3;}return _0x1b68e5>0x3&&_0x25c5c3&&Object[_0x3102ea(0x189)](_0x3aaf01,_0x48f1d4,_0x25c5c3),_0x25c5c3;},__metadata=this&&this['__metadata']||function(_0xc8e6e,_0x32df81){const _0x942113=a256_0x1af330;if(typeof Reflect===_0x942113(0x1a3)&&typeof Reflect[_0x942113(0x19b)]===_0x942113(0x1b4))return Reflect['metadata'](_0xc8e6e,_0x32df81);},__param=this&&this[a256_0x1af330(0x190)]||function(_0xea7066,_0x4a1de6){return function(_0x1c049b,_0x42c710){_0x4a1de6(_0x1c049b,_0x42c710,_0xea7066);};},SalesforceService_1;Object[a256_0x1af330(0x189)](exports,a256_0x1af330(0x19e),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a256_0x1af330(0x1b6)),core_1=require('../../../../core'),internal_server_error_1=require(a256_0x1af330(0x18a)),salesforce_auth_service_1=require(a256_0x1af330(0x185)),constants_1=require(a256_0x1af330(0x196)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a256_0x1af330(0x1a9)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a256_0x1af330(0x1af));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x5b5128){const _0x5c8988=a256_0x1af330;this[_0x5c8988(0x199)]=new core_1['Logger'](SalesforceService_1[_0x5c8988(0x18f)]),this['request']=(0x0,create_request_util_1[_0x5c8988(0x1c2)])(_0x5b5128),this[_0x5c8988(0x195)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x5c8988(0x1c0);}[a256_0x1af330(0x180)](_0x1d11d6){const _0x4282da=a256_0x1af330;this[_0x4282da(0x1be)]=_0x1d11d6,this[_0x4282da(0x1bf)]=new salesforce_logger_service_1[(_0x4282da(0x17c))](this);}[a256_0x1af330(0x1ab)](){const _0x293e6e=a256_0x1af330;return this[_0x293e6e(0x1bf)];}async[a256_0x1af330(0x1c5)](_0x6df578){const _0x35490f=a256_0x1af330;try{this[_0x35490f(0x199)][_0x35490f(0x1b2)](_0x35490f(0x197),_0x6df578[_0x35490f(0x1ac)]);const _0x2bcd97=await this[_0x35490f(0x187)]['post'](_0x35490f(0x1a5)+this[_0x35490f(0x195)]+'/attachments',{'componentIds':_0x6df578,'loggerId':this[_0x35490f(0x1be)]})[_0x35490f(0x193)](({data:_0x4815e0})=>_0x4815e0);return _0x2bcd97;}catch(_0x1f822d){this[_0x35490f(0x199)][_0x35490f(0x1a2)](_0x1f822d);throw new salesforce_error_1[(_0x35490f(0x18d))](_0x1f822d);}}async[a256_0x1af330(0x1aa)](_0x3d352f){const _0x24fa8f=a256_0x1af330;try{this[_0x24fa8f(0x199)][_0x24fa8f(0x1b2)](_0x24fa8f(0x1ad),_0x3d352f),await this[_0x24fa8f(0x187)][_0x24fa8f(0x1c6)]('services/data/'+constants_1[_0x24fa8f(0x18b)]+'/sobjects/Attachment/'+_0x3d352f);}catch(_0x41e3f7){this[_0x24fa8f(0x199)][_0x24fa8f(0x1a2)](_0x41e3f7);throw new salesforce_error_1[(_0x24fa8f(0x18d))](_0x41e3f7);}}async[a256_0x1af330(0x1ae)](_0x123564,_0x3f6eeb=![]){const _0x536e8f=a256_0x1af330;try{this[_0x536e8f(0x199)][_0x536e8f(0x1b2)](_0x536e8f(0x17f),_0x123564);const _0x2e645e=await this['request'][_0x536e8f(0x1a6)](_0x536e8f(0x18e)+constants_1[_0x536e8f(0x18b)]+_0x536e8f(0x19d)+_0x123564+'/body',{'responseType':_0x3f6eeb?'arraybuffer':_0x536e8f(0x19f)})[_0x536e8f(0x193)](({data:_0x103139})=>_0x103139);return _0x2e645e;}catch(_0x35e6c9){this[_0x536e8f(0x199)][_0x536e8f(0x1a2)](_0x35e6c9);throw new salesforce_error_1[(_0x536e8f(0x18d))](_0x35e6c9);}}async['sendLog'](_0xbc8be5){const _0x571c11=a256_0x1af330;try{_0xbc8be5[_0x571c11(0x1b9)](_0x19774e=>this[_0x571c11(0x199)][_0x571c11(0x1b2)](_0x571c11(0x1ba),_0x19774e)),await this['request'][_0x571c11(0x19a)](_0x571c11(0x1a5)+this['namespace']+_0x571c11(0x1a7),{'messages':_0xbc8be5,'loggerId':this[_0x571c11(0x1be)]});}catch(_0x1a5e47){this[_0x571c11(0x199)][_0x571c11(0x1a2)](_0x1a5e47);throw new internal_server_error_1[(_0x571c11(0x19c))](_0x1a5e47);}}async[a256_0x1af330(0x186)](_0x1c4ff2,_0x3e12a){const _0x8b0acc=a256_0x1af330;try{const {data:_0x2b0769}=await this[_0x8b0acc(0x187)][_0x8b0acc(0x19a)](_0x8b0acc(0x18e)+constants_1[_0x8b0acc(0x18b)]+_0x8b0acc(0x1b0)+_0x1c4ff2+'/',_0x3e12a);return _0x2b0769['id'];}catch(_0x7072c1){throw new salesforce_error_1[(_0x8b0acc(0x18d))](_0x7072c1);}}async[a256_0x1af330(0x194)](_0x274995,_0x4e3353,_0x4caee3){const _0x569528=a256_0x1af330;try{await this[_0x569528(0x187)]['patch'](_0x569528(0x18e)+constants_1['SALESFORCE_API_VERSION']+_0x569528(0x1b0)+_0x274995+'/'+_0x4e3353,_0x4caee3);}catch(_0x5caf94){throw new salesforce_error_1[(_0x569528(0x18d))](_0x5caf94);}}async[a256_0x1af330(0x1c1)](_0x3c29bd){const _0x13e4c2=a256_0x1af330;try{const {data:_0x39eb9f}=await this[_0x13e4c2(0x187)][_0x13e4c2(0x1a6)](_0x13e4c2(0x1a5)+this[_0x13e4c2(0x195)]+_0x13e4c2(0x1bc),{'params':{'connectionId':_0x3c29bd}});return new connection_dto_1[(_0x13e4c2(0x1c3))](_0x39eb9f);}catch(_0x4df5c8){throw new salesforce_error_1['SalesforceError'](_0x4df5c8);}}};function a256_0x3446(_0x467cfa,_0xf681f9){const _0x498765=a256_0x2906();return a256_0x3446=function(_0x36a921,_0x43f6ed){_0x36a921=_0x36a921-0x17c;let _0x290681=_0x498765[_0x36a921];return _0x290681;},a256_0x3446(_0x467cfa,_0xf681f9);}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a256_0x1af330(0x198)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a256_0x1af330(0x1b3)])()),__metadata(a256_0x1af330(0x1bb),[salesforce_auth_service_1[a256_0x1af330(0x1a4)]])],SalesforceService),exports[a256_0x1af330(0x17d)]=SalesforceService;