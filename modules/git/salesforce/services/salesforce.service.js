function a206_0x1edb(_0x50be3c,_0x515096){const _0x4849d3=a206_0xec63();return a206_0x1edb=function(_0x3bb0d3,_0x3723f9){_0x3bb0d3=_0x3bb0d3-0xd2;let _0xec63bf=_0x4849d3[_0x3bb0d3];return _0xec63bf;},a206_0x1edb(_0x50be3c,_0x515096);}const a206_0x1ab723=a206_0x1edb;(function(_0x1fc7b4,_0x5d4947){const _0x23c304=a206_0x1edb,_0x973fb8=_0x1fc7b4();while(!![]){try{const _0xb3d01d=-parseInt(_0x23c304(0xfd))/0x1*(parseInt(_0x23c304(0x109))/0x2)+-parseInt(_0x23c304(0xe6))/0x3+-parseInt(_0x23c304(0xd7))/0x4*(-parseInt(_0x23c304(0x113))/0x5)+parseInt(_0x23c304(0x10c))/0x6*(parseInt(_0x23c304(0x10f))/0x7)+-parseInt(_0x23c304(0xff))/0x8*(parseInt(_0x23c304(0xfe))/0x9)+-parseInt(_0x23c304(0xd3))/0xa+parseInt(_0x23c304(0xe2))/0xb*(parseInt(_0x23c304(0x101))/0xc);if(_0xb3d01d===_0x5d4947)break;else _0x973fb8['push'](_0x973fb8['shift']());}catch(_0x3cccbe){_0x973fb8['push'](_0x973fb8['shift']());}}}(a206_0xec63,0x3eb31));const a206_0x3723f9=(function(){let _0xf8d75d=!![];return function(_0x140dc6,_0x287ee0){const _0x30d9a8=_0xf8d75d?function(){const _0x10f2f9=a206_0x1edb;if(_0x287ee0){const _0x6a6675=_0x287ee0[_0x10f2f9(0xdf)](_0x140dc6,arguments);return _0x287ee0=null,_0x6a6675;}}:function(){};return _0xf8d75d=![],_0x30d9a8;};}()),a206_0x3bb0d3=a206_0x3723f9(this,function(){const _0x1c9c0d=a206_0x1edb;return a206_0x3bb0d3[_0x1c9c0d(0xd6)]()['search']('(((.+)+)+)+$')[_0x1c9c0d(0xd6)]()[_0x1c9c0d(0x111)](a206_0x3bb0d3)[_0x1c9c0d(0xe9)]('(((.+)+)+)+$');});a206_0x3bb0d3();'use strict';var __decorate=this&&this[a206_0x1ab723(0xee)]||function(_0xa33e4f,_0x377c7a,_0x2567fc,_0xfbb8e3){const _0x2461dc=a206_0x1ab723;var _0x40e2a7=arguments[_0x2461dc(0xe5)],_0x379ad7=_0x40e2a7<0x3?_0x377c7a:_0xfbb8e3===null?_0xfbb8e3=Object[_0x2461dc(0xfa)](_0x377c7a,_0x2567fc):_0xfbb8e3,_0x45ec62;if(typeof Reflect==='object'&&typeof Reflect[_0x2461dc(0xdc)]===_0x2461dc(0xd5))_0x379ad7=Reflect['decorate'](_0xa33e4f,_0x377c7a,_0x2567fc,_0xfbb8e3);else{for(var _0x568141=_0xa33e4f[_0x2461dc(0xe5)]-0x1;_0x568141>=0x0;_0x568141--)if(_0x45ec62=_0xa33e4f[_0x568141])_0x379ad7=(_0x40e2a7<0x3?_0x45ec62(_0x379ad7):_0x40e2a7>0x3?_0x45ec62(_0x377c7a,_0x2567fc,_0x379ad7):_0x45ec62(_0x377c7a,_0x2567fc))||_0x379ad7;}return _0x40e2a7>0x3&&_0x379ad7&&Object['defineProperty'](_0x377c7a,_0x2567fc,_0x379ad7),_0x379ad7;},__metadata=this&&this[a206_0x1ab723(0x11b)]||function(_0x5be9ce,_0x3e6abc){const _0x40c837=a206_0x1ab723;if(typeof Reflect===_0x40c837(0xed)&&typeof Reflect['metadata']===_0x40c837(0xd5))return Reflect[_0x40c837(0xe1)](_0x5be9ce,_0x3e6abc);},__param=this&&this['__param']||function(_0x1cefae,_0x5594fb){return function(_0x10e01b,_0x146acb){_0x5594fb(_0x10e01b,_0x146acb,_0x1cefae);};},SalesforceService_1;Object[a206_0x1ab723(0xef)](exports,a206_0x1ab723(0x10e),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a206_0x1ab723(0x119)),core_1=require(a206_0x1ab723(0xde)),internal_server_error_1=require(a206_0x1ab723(0xea)),salesforce_auth_service_1=require(a206_0x1ab723(0xf9)),constants_1=require(a206_0x1ab723(0xec)),create_request_util_1=require(a206_0x1ab723(0x110)),salesforce_logger_service_1=require(a206_0x1ab723(0x108)),salesforce_error_1=require(a206_0x1ab723(0x112)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1637c6){const _0x2797ec=a206_0x1ab723;this[_0x2797ec(0xf6)]=new core_1['Logger'](SalesforceService_1[_0x2797ec(0xd4)]),this[_0x2797ec(0x117)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x1637c6),this[_0x2797ec(0xd8)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x2797ec(0xeb);}[a206_0x1ab723(0xe8)](_0x55c86b){const _0xcce2c5=a206_0x1ab723;this[_0xcce2c5(0xd9)]=_0x55c86b,this[_0xcce2c5(0xe4)]=new salesforce_logger_service_1[(_0xcce2c5(0x104))](this);}[a206_0x1ab723(0xf2)](){return this['internalLogger'];}async[a206_0x1ab723(0xd2)](_0x4860dd){const _0x20924e=a206_0x1ab723;try{this[_0x20924e(0xf6)][_0x20924e(0x100)](_0x20924e(0x116),_0x4860dd[_0x20924e(0xe5)]);const _0x47b84c=await this[_0x20924e(0x117)][_0x20924e(0xf1)]('services/apexrest'+this[_0x20924e(0xd8)]+_0x20924e(0x115),{'componentIds':_0x4860dd,'loggerId':this[_0x20924e(0xd9)]})[_0x20924e(0xf4)](({data:_0x3a2179})=>_0x3a2179);return _0x47b84c;}catch(_0x23cc38){this['logger'][_0x20924e(0x10a)](_0x23cc38);throw new salesforce_error_1[(_0x20924e(0xdd))](_0x23cc38);}}async['deleteAttachment'](_0x31f929){const _0x4576e6=a206_0x1ab723;try{this[_0x4576e6(0xf6)][_0x4576e6(0x100)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x31f929),await this['request'][_0x4576e6(0xf5)]('services/data/'+constants_1[_0x4576e6(0xf0)]+'/sobjects/Attachment/'+_0x31f929);}catch(_0x19aca8){this['logger'][_0x4576e6(0x10a)](_0x19aca8);throw new salesforce_error_1[(_0x4576e6(0xdd))](_0x19aca8);}}async[a206_0x1ab723(0xe7)](_0x4962d3,_0x312700=![]){const _0xbfdc66=a206_0x1ab723;try{this[_0xbfdc66(0xf6)][_0xbfdc66(0x100)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x4962d3);const _0x56eeb4=await this[_0xbfdc66(0x117)]['get'](_0xbfdc66(0xfb)+constants_1[_0xbfdc66(0xf0)]+'/sobjects/Attachment/'+_0x4962d3+_0xbfdc66(0x106),{'responseType':_0x312700?_0xbfdc66(0x105):_0xbfdc66(0x11a)})[_0xbfdc66(0xf4)](({data:_0xc63aef})=>_0xc63aef);return _0x56eeb4;}catch(_0x2c58bd){this[_0xbfdc66(0xf6)]['error'](_0x2c58bd);throw new salesforce_error_1[(_0xbfdc66(0xdd))](_0x2c58bd);}}async[a206_0x1ab723(0x102)](_0x5bd287){const _0x250147=a206_0x1ab723;try{_0x5bd287['forEach'](_0x47ccf3=>this['logger'][_0x250147(0x100)](_0x250147(0x118),_0x47ccf3)),await this[_0x250147(0x117)][_0x250147(0xf1)](_0x250147(0xe3)+this[_0x250147(0xd8)]+_0x250147(0xfc),{'messages':_0x5bd287,'loggerId':this[_0x250147(0xd9)]});}catch(_0x46df85){this[_0x250147(0xf6)][_0x250147(0x10a)](_0x46df85);throw new internal_server_error_1['InternalServerError'](_0x46df85);}}async[a206_0x1ab723(0x103)](_0x5af13a,_0x5771d2){const _0x3a9f63=a206_0x1ab723;try{const {data:_0x526ea0}=await this[_0x3a9f63(0x117)][_0x3a9f63(0xf1)]('services/data/'+constants_1[_0x3a9f63(0xf0)]+_0x3a9f63(0xda)+_0x5af13a+'/',_0x5771d2);return _0x526ea0['id'];}catch(_0x319ed3){throw new salesforce_error_1[(_0x3a9f63(0xdd))](_0x319ed3);}}async[a206_0x1ab723(0x107)](_0x330ceb,_0x4310de,_0x5eb346){const _0x471376=a206_0x1ab723;try{await this[_0x471376(0x117)][_0x471376(0x10b)](_0x471376(0xfb)+constants_1[_0x471376(0xf0)]+_0x471376(0xda)+_0x330ceb+'/'+_0x4310de,_0x5eb346);}catch(_0x2e4f58){throw new salesforce_error_1['SalesforceError'](_0x2e4f58);}}async['fetchConnection'](_0x51a7c2){const _0x2e0564=a206_0x1ab723;try{const {data:_0x2f66cf}=await this[_0x2e0564(0x117)][_0x2e0564(0xf7)](_0x2e0564(0xe3)+this[_0x2e0564(0xd8)]+_0x2e0564(0xe0),{'params':{'connectionId':_0x51a7c2}});return new connection_dto_1[(_0x2e0564(0x114))](_0x2f66cf);}catch(_0x5aacd4){throw new salesforce_error_1['SalesforceError'](_0x5aacd4);}}};function a206_0xec63(){const _0x1cc126=['apply','/connection','metadata','8928161eiOlYS','services/apexrest','internalLogger','length','223086fDlZoS','retrieveAttachment','setLoggerId','search','../../../../core/errors/internal-server.error','/flosum_git','../../../../constants','object','__decorate','defineProperty','SALESFORCE_API_VERSION','post','getLogger','Inject','then','delete','logger','get','design:paramtypes','./salesforce-auth.service','getOwnPropertyDescriptor','services/data/','/logger','3581pmRNyY','1223676kdpaBX','8kyFXKM','log','12JRtKBu','sendLog','createObject','SalesforceLogger','arraybuffer','/body','patchObject','./salesforce-logger.service','102dxauGG','error','patch','194808nhafRU','Service','__esModule','14TdILCv','../utils/create-request.util','constructor','../errors/salesforce.error','695CRHceH','ConnectionDto','/attachments','retrieve\x20components\x20\x20%d\x20from\x20salesforce','request','[message]\x20%s','typedi','text','__metadata','retrieveComponents','2419640iFFHTS','name','function','toString','436xBVdim','namespace','loggerId','/sobjects/','SalesforceAuthService','decorate','SalesforceError','../../../../core'];a206_0xec63=function(){return _0x1cc126;};return a206_0xec63();}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a206_0x1ab723(0x10d)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a206_0x1ab723(0xf3)])()),__metadata(a206_0x1ab723(0xf8),[salesforce_auth_service_1[a206_0x1ab723(0xdb)]])],SalesforceService),exports['SalesforceService']=SalesforceService;