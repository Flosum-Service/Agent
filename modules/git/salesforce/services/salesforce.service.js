const a245_0x14ffbd=a245_0x2aef;(function(_0x2bf676,_0xfa8fe9){const _0x5b028f=a245_0x2aef,_0x109025=_0x2bf676();while(!![]){try{const _0x6f6a8c=parseInt(_0x5b028f(0x137))/0x1+parseInt(_0x5b028f(0x12f))/0x2+-parseInt(_0x5b028f(0x115))/0x3*(parseInt(_0x5b028f(0x11a))/0x4)+parseInt(_0x5b028f(0x139))/0x5+parseInt(_0x5b028f(0x117))/0x6*(parseInt(_0x5b028f(0x134))/0x7)+parseInt(_0x5b028f(0x103))/0x8*(-parseInt(_0x5b028f(0x10b))/0x9)+-parseInt(_0x5b028f(0x123))/0xa*(parseInt(_0x5b028f(0x105))/0xb);if(_0x6f6a8c===_0xfa8fe9)break;else _0x109025['push'](_0x109025['shift']());}catch(_0x1d2689){_0x109025['push'](_0x109025['shift']());}}}(a245_0x5d5d,0x37fbf));const a245_0x4bb538=(function(){let _0x5bbce6=!![];return function(_0x5599c1,_0x241dfb){const _0x5e1cbc=_0x5bbce6?function(){if(_0x241dfb){const _0x456391=_0x241dfb['apply'](_0x5599c1,arguments);return _0x241dfb=null,_0x456391;}}:function(){};return _0x5bbce6=![],_0x5e1cbc;};}()),a245_0x5a23b8=a245_0x4bb538(this,function(){const _0x1c3e59=a245_0x2aef;return a245_0x5a23b8[_0x1c3e59(0x131)]()['search'](_0x1c3e59(0x126))['toString']()[_0x1c3e59(0x125)](a245_0x5a23b8)[_0x1c3e59(0x109)]('(((.+)+)+)+$');});function a245_0x2aef(_0x110d92,_0x34eade){const _0x202364=a245_0x5d5d();return a245_0x2aef=function(_0x5a23b8,_0x4bb538){_0x5a23b8=_0x5a23b8-0x103;let _0x5d5d68=_0x202364[_0x5a23b8];return _0x5d5d68;},a245_0x2aef(_0x110d92,_0x34eade);}a245_0x5a23b8();function a245_0x5d5d(){const _0x3e47ec=['/sobjects/','error','text','retrieve\x20components\x20\x20%d\x20from\x20salesforce','52230UMMLRU','/sobjects/Attachment/','21702vQYJah','IGNORE_FLOSUM_GIT_NAMESPACE','forEach','12KOIxDf','logger','[message]\x20%s','then','internalLogger','delete','../../../../constants','object','log','2252210ALOsdW','../utils/create-request.util','constructor','(((.+)+)+)+$','services/apexrest','defineProperty','get','/connection','delete\x20attachment\x20%s\x20from\x20salesforce','Inject','/logger','name','251006NHrQvm','arraybuffer','toString','../errors/salesforce.error','SalesforceAuthService','595UiuKsn','namespace','../../../../core','40557CiiZcs','getLogger','908680FbxNmM','patch','/attachments','post','length','./salesforce-logger.service','deleteAttachment','function','fetchConnection','__decorate','retrieveComponents','SalesforceService','Logger','design:paramtypes','SALESFORCE_API_VERSION','SalesforceLogger','/body','SalesforceError','./salesforce-auth.service','1032jqCkSh','__esModule','11tZTQBQ','typedi','metadata','decorate','search','services/data/','10359CnmzVe','Service','request','loggerId','retrieve\x20attachment\x20%s\x20from\x20salesforce','setLoggerId'];a245_0x5d5d=function(){return _0x3e47ec;};return a245_0x5d5d();}'use strict';var __decorate=this&&this[a245_0x14ffbd(0x142)]||function(_0x1d345d,_0xff8753,_0x22ee5a,_0x5142d1){const _0x3c3604=a245_0x14ffbd;var _0x418953=arguments[_0x3c3604(0x13d)],_0x38173c=_0x418953<0x3?_0xff8753:_0x5142d1===null?_0x5142d1=Object['getOwnPropertyDescriptor'](_0xff8753,_0x22ee5a):_0x5142d1,_0x323a6e;if(typeof Reflect===_0x3c3604(0x121)&&typeof Reflect[_0x3c3604(0x108)]==='function')_0x38173c=Reflect['decorate'](_0x1d345d,_0xff8753,_0x22ee5a,_0x5142d1);else{for(var _0x677e95=_0x1d345d[_0x3c3604(0x13d)]-0x1;_0x677e95>=0x0;_0x677e95--)if(_0x323a6e=_0x1d345d[_0x677e95])_0x38173c=(_0x418953<0x3?_0x323a6e(_0x38173c):_0x418953>0x3?_0x323a6e(_0xff8753,_0x22ee5a,_0x38173c):_0x323a6e(_0xff8753,_0x22ee5a))||_0x38173c;}return _0x418953>0x3&&_0x38173c&&Object[_0x3c3604(0x128)](_0xff8753,_0x22ee5a,_0x38173c),_0x38173c;},__metadata=this&&this['__metadata']||function(_0xf80386,_0x368f8d){const _0x46fd90=a245_0x14ffbd;if(typeof Reflect===_0x46fd90(0x121)&&typeof Reflect[_0x46fd90(0x107)]===_0x46fd90(0x140))return Reflect['metadata'](_0xf80386,_0x368f8d);},__param=this&&this['__param']||function(_0x515935,_0x4527c8){return function(_0x1bf88e,_0x4667be){_0x4527c8(_0x1bf88e,_0x4667be,_0x515935);};},SalesforceService_1;Object[a245_0x14ffbd(0x128)](exports,a245_0x14ffbd(0x104),{'value':!![]}),exports[a245_0x14ffbd(0x144)]=void 0x0;const typedi_1=require(a245_0x14ffbd(0x106)),core_1=require(a245_0x14ffbd(0x136)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a245_0x14ffbd(0x14b)),constants_1=require(a245_0x14ffbd(0x120)),create_request_util_1=require(a245_0x14ffbd(0x124)),salesforce_logger_service_1=require(a245_0x14ffbd(0x13e)),salesforce_error_1=require(a245_0x14ffbd(0x132)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0xef259f){const _0x46d60f=a245_0x14ffbd;this[_0x46d60f(0x11b)]=new core_1[(_0x46d60f(0x145))](SalesforceService_1[_0x46d60f(0x12e)]),this[_0x46d60f(0x10d)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0xef259f),this[_0x46d60f(0x135)]=constants_1[_0x46d60f(0x118)]?'':'/flosum_git';}[a245_0x14ffbd(0x110)](_0x18723c){const _0x2311ee=a245_0x14ffbd;this[_0x2311ee(0x10e)]=_0x18723c,this[_0x2311ee(0x11e)]=new salesforce_logger_service_1[(_0x2311ee(0x148))](this);}[a245_0x14ffbd(0x138)](){const _0x562da9=a245_0x14ffbd;return this[_0x562da9(0x11e)];}async[a245_0x14ffbd(0x143)](_0x50ded8){const _0x26cd99=a245_0x14ffbd;try{this[_0x26cd99(0x11b)][_0x26cd99(0x122)](_0x26cd99(0x114),_0x50ded8['length']);const _0x29938b=await this[_0x26cd99(0x10d)]['post'](_0x26cd99(0x127)+this[_0x26cd99(0x135)]+_0x26cd99(0x13b),{'componentIds':_0x50ded8,'loggerId':this['loggerId']})[_0x26cd99(0x11d)](({data:_0xd436f9})=>_0xd436f9);return _0x29938b;}catch(_0x3aa44c){this[_0x26cd99(0x11b)][_0x26cd99(0x112)](_0x3aa44c);throw new salesforce_error_1[(_0x26cd99(0x14a))](_0x3aa44c);}}async[a245_0x14ffbd(0x13f)](_0x559899){const _0x79cda8=a245_0x14ffbd;try{this['logger'][_0x79cda8(0x122)](_0x79cda8(0x12b),_0x559899),await this['request'][_0x79cda8(0x11f)](_0x79cda8(0x10a)+constants_1['SALESFORCE_API_VERSION']+_0x79cda8(0x116)+_0x559899);}catch(_0x1bdeba){this['logger'][_0x79cda8(0x112)](_0x1bdeba);throw new salesforce_error_1[(_0x79cda8(0x14a))](_0x1bdeba);}}async['retrieveAttachment'](_0x4ad57f,_0x38bd6a=![]){const _0x174f08=a245_0x14ffbd;try{this[_0x174f08(0x11b)]['log'](_0x174f08(0x10f),_0x4ad57f);const _0x366938=await this[_0x174f08(0x10d)][_0x174f08(0x129)](_0x174f08(0x10a)+constants_1['SALESFORCE_API_VERSION']+_0x174f08(0x116)+_0x4ad57f+_0x174f08(0x149),{'responseType':_0x38bd6a?_0x174f08(0x130):_0x174f08(0x113)})[_0x174f08(0x11d)](({data:_0x1619fd})=>_0x1619fd);return _0x366938;}catch(_0x141276){this[_0x174f08(0x11b)]['error'](_0x141276);throw new salesforce_error_1[(_0x174f08(0x14a))](_0x141276);}}async['sendLog'](_0xcf196f){const _0x3f9b26=a245_0x14ffbd;try{_0xcf196f[_0x3f9b26(0x119)](_0x3ddeb4=>this[_0x3f9b26(0x11b)][_0x3f9b26(0x122)](_0x3f9b26(0x11c),_0x3ddeb4)),await this[_0x3f9b26(0x10d)][_0x3f9b26(0x13c)](_0x3f9b26(0x127)+this[_0x3f9b26(0x135)]+_0x3f9b26(0x12d),{'messages':_0xcf196f,'loggerId':this['loggerId']});}catch(_0x2699be){this['logger'][_0x3f9b26(0x112)](_0x2699be);throw new internal_server_error_1['InternalServerError'](_0x2699be);}}async['createObject'](_0x3fb8a6,_0x310f94){const _0x4d3f41=a245_0x14ffbd;try{const {data:_0x2f3d18}=await this[_0x4d3f41(0x10d)][_0x4d3f41(0x13c)](_0x4d3f41(0x10a)+constants_1[_0x4d3f41(0x147)]+_0x4d3f41(0x111)+_0x3fb8a6+'/',_0x310f94);return _0x2f3d18['id'];}catch(_0x2d474a){throw new salesforce_error_1[(_0x4d3f41(0x14a))](_0x2d474a);}}async['patchObject'](_0x543abc,_0x33e8a3,_0x622e2e){const _0xe4065a=a245_0x14ffbd;try{await this[_0xe4065a(0x10d)][_0xe4065a(0x13a)]('services/data/'+constants_1[_0xe4065a(0x147)]+_0xe4065a(0x111)+_0x543abc+'/'+_0x33e8a3,_0x622e2e);}catch(_0x515f93){throw new salesforce_error_1[(_0xe4065a(0x14a))](_0x515f93);}}async[a245_0x14ffbd(0x141)](_0x58f55b){const _0xa95f99=a245_0x14ffbd;try{const {data:_0x3482e3}=await this[_0xa95f99(0x10d)][_0xa95f99(0x129)](_0xa95f99(0x127)+this[_0xa95f99(0x135)]+_0xa95f99(0x12a),{'params':{'connectionId':_0x58f55b}});return new connection_dto_1['ConnectionDto'](_0x3482e3);}catch(_0x3a936c){throw new salesforce_error_1[(_0xa95f99(0x14a))](_0x3a936c);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a245_0x14ffbd(0x10c)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x14ffbd(0x12c)])()),__metadata(a245_0x14ffbd(0x146),[salesforce_auth_service_1[a245_0x14ffbd(0x133)]])],SalesforceService),exports['SalesforceService']=SalesforceService;