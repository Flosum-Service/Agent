const a245_0x14361b=a245_0x26a9;function a245_0x26a9(_0x1bc242,_0x36a05a){const _0x279628=a245_0x5561();return a245_0x26a9=function(_0xc6095,_0xd5d07f){_0xc6095=_0xc6095-0x94;let _0x5561d7=_0x279628[_0xc6095];return _0x5561d7;},a245_0x26a9(_0x1bc242,_0x36a05a);}(function(_0x5e90b2,_0xfcb154){const _0x27a78d=a245_0x26a9,_0x381fdd=_0x5e90b2();while(!![]){try{const _0x3eacaf=-parseInt(_0x27a78d(0xab))/0x1+-parseInt(_0x27a78d(0xd2))/0x2*(parseInt(_0x27a78d(0xcf))/0x3)+-parseInt(_0x27a78d(0xba))/0x4*(-parseInt(_0x27a78d(0xad))/0x5)+parseInt(_0x27a78d(0xd1))/0x6*(-parseInt(_0x27a78d(0xca))/0x7)+-parseInt(_0x27a78d(0xb2))/0x8+parseInt(_0x27a78d(0xc0))/0x9+parseInt(_0x27a78d(0xb6))/0xa;if(_0x3eacaf===_0xfcb154)break;else _0x381fdd['push'](_0x381fdd['shift']());}catch(_0x135ecc){_0x381fdd['push'](_0x381fdd['shift']());}}}(a245_0x5561,0x5de75));const a245_0xd5d07f=(function(){let _0x3a0c8c=!![];return function(_0x53580b,_0x162110){const _0x4bf5d5=_0x3a0c8c?function(){const _0x319578=a245_0x26a9;if(_0x162110){const _0x24e9f3=_0x162110[_0x319578(0xd3)](_0x53580b,arguments);return _0x162110=null,_0x24e9f3;}}:function(){};return _0x3a0c8c=![],_0x4bf5d5;};}()),a245_0xc6095=a245_0xd5d07f(this,function(){const _0x5bba5c=a245_0x26a9;return a245_0xc6095[_0x5bba5c(0xc1)]()['search'](_0x5bba5c(0x9f))[_0x5bba5c(0xc1)]()[_0x5bba5c(0xc9)](a245_0xc6095)['search'](_0x5bba5c(0x9f));});a245_0xc6095();'use strict';var __decorate=this&&this[a245_0x14361b(0xaf)]||function(_0x2ba295,_0x8636c9,_0x3e1411,_0x2daacc){const _0x176893=a245_0x14361b;var _0xbaac3a=arguments['length'],_0x3f2796=_0xbaac3a<0x3?_0x8636c9:_0x2daacc===null?_0x2daacc=Object['getOwnPropertyDescriptor'](_0x8636c9,_0x3e1411):_0x2daacc,_0x250111;if(typeof Reflect==='object'&&typeof Reflect[_0x176893(0xa8)]===_0x176893(0xc8))_0x3f2796=Reflect['decorate'](_0x2ba295,_0x8636c9,_0x3e1411,_0x2daacc);else{for(var _0x148bde=_0x2ba295[_0x176893(0xbe)]-0x1;_0x148bde>=0x0;_0x148bde--)if(_0x250111=_0x2ba295[_0x148bde])_0x3f2796=(_0xbaac3a<0x3?_0x250111(_0x3f2796):_0xbaac3a>0x3?_0x250111(_0x8636c9,_0x3e1411,_0x3f2796):_0x250111(_0x8636c9,_0x3e1411))||_0x3f2796;}return _0xbaac3a>0x3&&_0x3f2796&&Object[_0x176893(0xaa)](_0x8636c9,_0x3e1411,_0x3f2796),_0x3f2796;},__metadata=this&&this[a245_0x14361b(0xcb)]||function(_0x552404,_0x272f7f){const _0x3f0f85=a245_0x14361b;if(typeof Reflect===_0x3f0f85(0xb5)&&typeof Reflect[_0x3f0f85(0xbd)]===_0x3f0f85(0xc8))return Reflect[_0x3f0f85(0xbd)](_0x552404,_0x272f7f);},__param=this&&this[a245_0x14361b(0xc5)]||function(_0xe43b1f,_0x18b601){return function(_0x2a4909,_0x529734){_0x18b601(_0x2a4909,_0x529734,_0xe43b1f);};},SalesforceService_1;function a245_0x5561(){const _0x573d49=['typedi','/logger','forEach','retrieveComponents','decorate','internalLogger','defineProperty','562598PMKQNe','arraybuffer','5QuPNOG','post','__decorate','get','services/data/','2606240KtlCrM','retrieveAttachment','Logger','object','10990170MOtKvk','./salesforce-logger.service','../../../../core','SalesforceService','2484244NpHKfR','deleteAttachment','IGNORE_FLOSUM_GIT_NAMESPACE','metadata','length','/connection','4689459qyULsa','toString','text','retrieve\x20attachment\x20%s\x20from\x20salesforce','error','__param','SalesforceError','/body','function','constructor','2481374KhNcFu','__metadata','design:paramtypes','../../../../constants','SalesforceAuthService','5514BVJYlw','retrieve\x20components\x20\x20%d\x20from\x20salesforce','12BEwOWu','282NqZMJW','apply','logger','request','sendLog','delete','SALESFORCE_API_VERSION','createObject','/attachments','loggerId','patchObject','__esModule','createSalesforceRequest','/flosum_git','Inject','services/apexrest','[message]\x20%s','/sobjects/Attachment/','../../../../core/errors/internal-server.error','log','../dto/connection.dto','getLogger','(((.+)+)+)+$','then','fetchConnection','/sobjects/','namespace'];a245_0x5561=function(){return _0x573d49;};return a245_0x5561();}Object[a245_0x14361b(0xaa)](exports,a245_0x14361b(0x94),{'value':!![]}),exports[a245_0x14361b(0xb9)]=void 0x0;const typedi_1=require(a245_0x14361b(0xa4)),core_1=require(a245_0x14361b(0xb8)),internal_server_error_1=require(a245_0x14361b(0x9b)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a245_0x14361b(0xcd)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a245_0x14361b(0xb7)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a245_0x14361b(0x9d));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x16835a){const _0x36ecc3=a245_0x14361b;this[_0x36ecc3(0xd4)]=new core_1[(_0x36ecc3(0xb4))](SalesforceService_1['name']),this[_0x36ecc3(0xd5)]=(0x0,create_request_util_1[_0x36ecc3(0x95)])(_0x16835a),this['namespace']=constants_1[_0x36ecc3(0xbc)]?'':_0x36ecc3(0x96);}['setLoggerId'](_0x2fb247){const _0xf33490=a245_0x14361b;this[_0xf33490(0xdb)]=_0x2fb247,this['internalLogger']=new salesforce_logger_service_1['SalesforceLogger'](this);}[a245_0x14361b(0x9e)](){const _0x2456a4=a245_0x14361b;return this[_0x2456a4(0xa9)];}async[a245_0x14361b(0xa7)](_0x41e133){const _0x446bf8=a245_0x14361b;try{this[_0x446bf8(0xd4)][_0x446bf8(0x9c)](_0x446bf8(0xd0),_0x41e133[_0x446bf8(0xbe)]);const _0x5ec569=await this[_0x446bf8(0xd5)][_0x446bf8(0xae)](_0x446bf8(0x98)+this[_0x446bf8(0xa3)]+_0x446bf8(0xda),{'componentIds':_0x41e133,'loggerId':this[_0x446bf8(0xdb)]})['then'](({data:_0x34cc73})=>_0x34cc73);return _0x5ec569;}catch(_0x30bd2d){this['logger'][_0x446bf8(0xc4)](_0x30bd2d);throw new salesforce_error_1[(_0x446bf8(0xc6))](_0x30bd2d);}}async[a245_0x14361b(0xbb)](_0x20affb){const _0x80e3b8=a245_0x14361b;try{this['logger']['log']('delete\x20attachment\x20%s\x20from\x20salesforce',_0x20affb),await this['request'][_0x80e3b8(0xd7)](_0x80e3b8(0xb1)+constants_1[_0x80e3b8(0xd8)]+_0x80e3b8(0x9a)+_0x20affb);}catch(_0x4065bd){this['logger']['error'](_0x4065bd);throw new salesforce_error_1[(_0x80e3b8(0xc6))](_0x4065bd);}}async[a245_0x14361b(0xb3)](_0x3e76dd,_0x380e0e=![]){const _0x1e5c69=a245_0x14361b;try{this[_0x1e5c69(0xd4)]['log'](_0x1e5c69(0xc3),_0x3e76dd);const _0xa20bc4=await this['request']['get'](_0x1e5c69(0xb1)+constants_1[_0x1e5c69(0xd8)]+_0x1e5c69(0x9a)+_0x3e76dd+_0x1e5c69(0xc7),{'responseType':_0x380e0e?_0x1e5c69(0xac):_0x1e5c69(0xc2)})[_0x1e5c69(0xa0)](({data:_0x4bce69})=>_0x4bce69);return _0xa20bc4;}catch(_0x3e8d89){this[_0x1e5c69(0xd4)][_0x1e5c69(0xc4)](_0x3e8d89);throw new salesforce_error_1[(_0x1e5c69(0xc6))](_0x3e8d89);}}async[a245_0x14361b(0xd6)](_0x4b2f92){const _0x59ad2e=a245_0x14361b;try{_0x4b2f92[_0x59ad2e(0xa6)](_0x33830c=>this['logger']['log'](_0x59ad2e(0x99),_0x33830c)),await this[_0x59ad2e(0xd5)][_0x59ad2e(0xae)](_0x59ad2e(0x98)+this[_0x59ad2e(0xa3)]+_0x59ad2e(0xa5),{'messages':_0x4b2f92,'loggerId':this[_0x59ad2e(0xdb)]});}catch(_0x3a6adc){this[_0x59ad2e(0xd4)]['error'](_0x3a6adc);throw new internal_server_error_1['InternalServerError'](_0x3a6adc);}}async[a245_0x14361b(0xd9)](_0x415927,_0xdfebe7){const _0x5d510e=a245_0x14361b;try{const {data:_0x243987}=await this['request'][_0x5d510e(0xae)]('services/data/'+constants_1[_0x5d510e(0xd8)]+_0x5d510e(0xa2)+_0x415927+'/',_0xdfebe7);return _0x243987['id'];}catch(_0x1a3453){throw new salesforce_error_1[(_0x5d510e(0xc6))](_0x1a3453);}}async[a245_0x14361b(0xdc)](_0x1b9b72,_0x5a6a7f,_0x55ca33){const _0x1f5599=a245_0x14361b;try{await this[_0x1f5599(0xd5)]['patch'](_0x1f5599(0xb1)+constants_1['SALESFORCE_API_VERSION']+_0x1f5599(0xa2)+_0x1b9b72+'/'+_0x5a6a7f,_0x55ca33);}catch(_0x461dfd){throw new salesforce_error_1[(_0x1f5599(0xc6))](_0x461dfd);}}async[a245_0x14361b(0xa1)](_0x52de48){const _0xf3885f=a245_0x14361b;try{const {data:_0x122918}=await this[_0xf3885f(0xd5)][_0xf3885f(0xb0)](_0xf3885f(0x98)+this['namespace']+_0xf3885f(0xbf),{'params':{'connectionId':_0x52de48}});return new connection_dto_1['ConnectionDto'](_0x122918);}catch(_0x3fa9f1){throw new salesforce_error_1['SalesforceError'](_0x3fa9f1);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x14361b(0x97)])()),__metadata(a245_0x14361b(0xcc),[salesforce_auth_service_1[a245_0x14361b(0xce)]])],SalesforceService),exports[a245_0x14361b(0xb9)]=SalesforceService;