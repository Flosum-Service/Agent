const a283_0x1ca313=a283_0x2a55;(function(_0x37a7f4,_0x3a977a){const _0x9923=a283_0x2a55,_0x2e8dd7=_0x37a7f4();while(!![]){try{const _0x282559=parseInt(_0x9923(0x77))/0x1*(-parseInt(_0x9923(0x71))/0x2)+-parseInt(_0x9923(0x7f))/0x3+-parseInt(_0x9923(0xa2))/0x4+-parseInt(_0x9923(0x6e))/0x5+parseInt(_0x9923(0xa8))/0x6+-parseInt(_0x9923(0x95))/0x7+parseInt(_0x9923(0x97))/0x8;if(_0x282559===_0x3a977a)break;else _0x2e8dd7['push'](_0x2e8dd7['shift']());}catch(_0x5e1a0f){_0x2e8dd7['push'](_0x2e8dd7['shift']());}}}(a283_0x4de5,0xc9a5a));function a283_0x2a55(_0x4d03ac,_0x3ac2c8){const _0x3d69e2=a283_0x4de5();return a283_0x2a55=function(_0x3fc795,_0x13fd2d){_0x3fc795=_0x3fc795-0x6b;let _0x4de534=_0x3d69e2[_0x3fc795];return _0x4de534;},a283_0x2a55(_0x4d03ac,_0x3ac2c8);}const a283_0x13fd2d=(function(){let _0x35d57f=!![];return function(_0x110ef8,_0x1f1737){const _0x5b3ebf=_0x35d57f?function(){if(_0x1f1737){const _0x12e92b=_0x1f1737['apply'](_0x110ef8,arguments);return _0x1f1737=null,_0x12e92b;}}:function(){};return _0x35d57f=![],_0x5b3ebf;};}()),a283_0x3fc795=a283_0x13fd2d(this,function(){const _0x3be1e6=a283_0x2a55;return a283_0x3fc795[_0x3be1e6(0xa0)]()[_0x3be1e6(0x7a)](_0x3be1e6(0x83))[_0x3be1e6(0xa0)]()[_0x3be1e6(0x9b)](a283_0x3fc795)[_0x3be1e6(0x7a)]('(((.+)+)+)+$');});a283_0x3fc795();'use strict';function a283_0x4de5(){const _0xe0929e=['../errors/salesforce.error','./salesforce-auth.service','../classes/bulk-components-retriever','5186400FwUZAU','loggerId','/logger','2lBlWZs','ConnectionDto','[message]\x20%s','Logger','../dto/connection.dto','text','803388wFDkVE','services/data/','/flosum_git','search','function','decorate','log','__esModule','2485203JLzJWc','Service','name','Delete\x20attachment\x20%s\x20from\x20salesforce','(((.+)+)+)+$','SALESFORCE_API_VERSION','createSalesforceRequest','arraybuffer','retrieve','length','defineProperty','Retrieve\x20attachment\x20%s\x20from\x20salesforce','design:paramtypes','retrieveComponents','logger','request','sendLog','../utils/create-request.util','Inject','then','deleteAttachment','get','9250899OgfVLc','services/apexrest','39062000zVYVJI','internalLogger','namespace','/sobjects/Attachment/','constructor','BulkComponentsRetriever','error','../../../../constants','../../../../core/errors/internal-server.error','toString','metadata','2651660AAtleD','post','../../../../core','patchObject','createObject','SalesforceError','3580422bbDjLz','getLogger','__metadata','getOwnPropertyDescriptor','IGNORE_FLOSUM_GIT_NAMESPACE','object','SalesforceService','/sobjects/'];a283_0x4de5=function(){return _0xe0929e;};return a283_0x4de5();}var __decorate=this&&this['__decorate']||function(_0x10ec7e,_0x366f4e,_0x320a8b,_0x265819){const _0x5c13a9=a283_0x2a55;var _0x1b0098=arguments[_0x5c13a9(0x88)],_0x2d797a=_0x1b0098<0x3?_0x366f4e:_0x265819===null?_0x265819=Object[_0x5c13a9(0xab)](_0x366f4e,_0x320a8b):_0x265819,_0x52f240;if(typeof Reflect===_0x5c13a9(0xad)&&typeof Reflect[_0x5c13a9(0x7c)]===_0x5c13a9(0x7b))_0x2d797a=Reflect[_0x5c13a9(0x7c)](_0x10ec7e,_0x366f4e,_0x320a8b,_0x265819);else{for(var _0x21e085=_0x10ec7e[_0x5c13a9(0x88)]-0x1;_0x21e085>=0x0;_0x21e085--)if(_0x52f240=_0x10ec7e[_0x21e085])_0x2d797a=(_0x1b0098<0x3?_0x52f240(_0x2d797a):_0x1b0098>0x3?_0x52f240(_0x366f4e,_0x320a8b,_0x2d797a):_0x52f240(_0x366f4e,_0x320a8b))||_0x2d797a;}return _0x1b0098>0x3&&_0x2d797a&&Object[_0x5c13a9(0x89)](_0x366f4e,_0x320a8b,_0x2d797a),_0x2d797a;},__metadata=this&&this[a283_0x1ca313(0xaa)]||function(_0x4772b1,_0x4f2ec9){const _0x378db8=a283_0x1ca313;if(typeof Reflect===_0x378db8(0xad)&&typeof Reflect['metadata']===_0x378db8(0x7b))return Reflect[_0x378db8(0xa1)](_0x4772b1,_0x4f2ec9);},__param=this&&this['__param']||function(_0xabae28,_0x48a6b1){return function(_0x1e409a,_0x41d90a){_0x48a6b1(_0x1e409a,_0x41d90a,_0xabae28);};},SalesforceService_1;Object[a283_0x1ca313(0x89)](exports,a283_0x1ca313(0x7e),{'value':!![]}),exports[a283_0x1ca313(0xae)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a283_0x1ca313(0xa4)),internal_server_error_1=require(a283_0x1ca313(0x9f)),salesforce_auth_service_1=require(a283_0x1ca313(0x6c)),constants_1=require(a283_0x1ca313(0x9e)),create_request_util_1=require(a283_0x1ca313(0x90)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a283_0x1ca313(0x6b)),connection_dto_1=require(a283_0x1ca313(0x75)),bulk_components_retriever_1=require(a283_0x1ca313(0x6d));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x2764fb){const _0x5202b4=a283_0x1ca313;this[_0x5202b4(0x8d)]=new core_1[(_0x5202b4(0x74))](SalesforceService_1[_0x5202b4(0x81)]),this[_0x5202b4(0x8e)]=(0x0,create_request_util_1[_0x5202b4(0x85)])(_0x2764fb),this[_0x5202b4(0x99)]=constants_1[_0x5202b4(0xac)]?'':_0x5202b4(0x79);}['setLoggerId'](_0xad198c){const _0x75b148=a283_0x1ca313;this[_0x75b148(0x6f)]=_0xad198c,this[_0x75b148(0x98)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a283_0x1ca313(0xa9)](){return this['internalLogger'];}async[a283_0x1ca313(0x8c)](_0x2badfc){const _0x56d4b3=a283_0x1ca313;try{this[_0x56d4b3(0x8d)]['log']('Retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x2badfc[_0x56d4b3(0x88)]);const _0x59b126=new bulk_components_retriever_1[(_0x56d4b3(0x9c))]({'request':this['request'],'ids':_0x2badfc}),_0x11cbfe=await _0x59b126[_0x56d4b3(0x87)]();return _0x11cbfe;}catch(_0xceaab){this[_0x56d4b3(0x8d)]['error'](_0xceaab);throw new salesforce_error_1[(_0x56d4b3(0xa7))](_0xceaab);}}async[a283_0x1ca313(0x93)](_0x37ad9d){const _0x262377=a283_0x1ca313;try{this[_0x262377(0x8d)][_0x262377(0x7d)](_0x262377(0x82),_0x37ad9d),await this[_0x262377(0x8e)]['delete']('services/data/'+constants_1[_0x262377(0x84)]+_0x262377(0x9a)+_0x37ad9d);}catch(_0x3487b4){this['logger']['error'](_0x3487b4);throw new salesforce_error_1['SalesforceError'](_0x3487b4);}}async['retrieveAttachment'](_0x5e7eec,_0x5eb355=![]){const _0x1e5920=a283_0x1ca313;try{this[_0x1e5920(0x8d)]['log'](_0x1e5920(0x8a),_0x5e7eec);const _0x4a5334=await this['request']['get'](_0x1e5920(0x78)+constants_1['SALESFORCE_API_VERSION']+_0x1e5920(0x9a)+_0x5e7eec+'/body',{'responseType':_0x5eb355?_0x1e5920(0x86):_0x1e5920(0x76)})[_0x1e5920(0x92)](({data:_0x478da6})=>_0x478da6);return _0x4a5334;}catch(_0x3c3773){this['logger'][_0x1e5920(0x9d)](_0x3c3773);throw new salesforce_error_1[(_0x1e5920(0xa7))](_0x3c3773);}}async[a283_0x1ca313(0x8f)](_0x393afc){const _0x1e26d4=a283_0x1ca313;try{_0x393afc['forEach'](_0x5c4f44=>this[_0x1e26d4(0x8d)][_0x1e26d4(0x7d)](_0x1e26d4(0x73),_0x5c4f44)),await this[_0x1e26d4(0x8e)][_0x1e26d4(0xa3)](_0x1e26d4(0x96)+this['namespace']+_0x1e26d4(0x70),{'messages':_0x393afc,'loggerId':this['loggerId']});}catch(_0x31d774){this['logger']['error'](_0x31d774);throw new internal_server_error_1['InternalServerError'](_0x31d774);}}async[a283_0x1ca313(0xa6)](_0x306ed3,_0x9f5d19){const _0x183d1a=a283_0x1ca313;try{const {data:_0x185be2}=await this[_0x183d1a(0x8e)][_0x183d1a(0xa3)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x306ed3+'/',_0x9f5d19);return _0x185be2['id'];}catch(_0x1efebb){throw new salesforce_error_1[(_0x183d1a(0xa7))](_0x1efebb);}}async[a283_0x1ca313(0xa5)](_0x20abd2,_0x59304f,_0xc383f0){const _0x43506c=a283_0x1ca313;try{await this[_0x43506c(0x8e)]['patch'](_0x43506c(0x78)+constants_1['SALESFORCE_API_VERSION']+_0x43506c(0xaf)+_0x20abd2+'/'+_0x59304f,_0xc383f0);}catch(_0x2a06f7){throw new salesforce_error_1[(_0x43506c(0xa7))](_0x2a06f7);}}async['fetchConnection'](_0x1bef68){const _0xa86576=a283_0x1ca313;try{const {data:_0x36a4cb}=await this[_0xa86576(0x8e)][_0xa86576(0x94)]('services/apexrest'+this[_0xa86576(0x99)]+'/connection',{'params':{'connectionId':_0x1bef68}});return new connection_dto_1[(_0xa86576(0x72))](_0x36a4cb);}catch(_0x489da9){throw new salesforce_error_1[(_0xa86576(0xa7))](_0x489da9);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a283_0x1ca313(0x80)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a283_0x1ca313(0x91)])()),__metadata(a283_0x1ca313(0x8b),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a283_0x1ca313(0xae)]=SalesforceService;