const a240_0x4a1619=a240_0x3087;(function(_0x5ea3ef,_0xd115cf){const _0x251f26=a240_0x3087,_0x5621ea=_0x5ea3ef();while(!![]){try{const _0x5d21ad=-parseInt(_0x251f26(0x1fc))/0x1*(parseInt(_0x251f26(0x1e2))/0x2)+parseInt(_0x251f26(0x1e4))/0x3+parseInt(_0x251f26(0x220))/0x4*(-parseInt(_0x251f26(0x21a))/0x5)+parseInt(_0x251f26(0x216))/0x6+parseInt(_0x251f26(0x1f4))/0x7*(parseInt(_0x251f26(0x1e1))/0x8)+parseInt(_0x251f26(0x1ec))/0x9*(parseInt(_0x251f26(0x1de))/0xa)+parseInt(_0x251f26(0x21b))/0xb*(parseInt(_0x251f26(0x1ee))/0xc);if(_0x5d21ad===_0xd115cf)break;else _0x5621ea['push'](_0x5621ea['shift']());}catch(_0x9ca89e){_0x5621ea['push'](_0x5621ea['shift']());}}}(a240_0x124b,0x75fa9));const a240_0x2854b9=(function(){let _0xba9970=!![];return function(_0x4e0ee6,_0x4b280b){const _0x1714b7=_0xba9970?function(){const _0x4b80f7=a240_0x3087;if(_0x4b280b){const _0x3d5773=_0x4b280b[_0x4b80f7(0x20e)](_0x4e0ee6,arguments);return _0x4b280b=null,_0x3d5773;}}:function(){};return _0xba9970=![],_0x1714b7;};}()),a240_0x57554d=a240_0x2854b9(this,function(){const _0x58708b=a240_0x3087;return a240_0x57554d['toString']()[_0x58708b(0x21c)](_0x58708b(0x1eb))[_0x58708b(0x225)]()[_0x58708b(0x1ef)](a240_0x57554d)['search'](_0x58708b(0x1eb));});a240_0x57554d();'use strict';var __decorate=this&&this['__decorate']||function(_0xd58ba3,_0x3859ef,_0xb4d015,_0x5b0da0){const _0x9bc96e=a240_0x3087;var _0x561e91=arguments[_0x9bc96e(0x1fb)],_0x7905de=_0x561e91<0x3?_0x3859ef:_0x5b0da0===null?_0x5b0da0=Object[_0x9bc96e(0x1f7)](_0x3859ef,_0xb4d015):_0x5b0da0,_0x51799a;if(typeof Reflect===_0x9bc96e(0x1f0)&&typeof Reflect['decorate']===_0x9bc96e(0x1f5))_0x7905de=Reflect[_0x9bc96e(0x1e3)](_0xd58ba3,_0x3859ef,_0xb4d015,_0x5b0da0);else{for(var _0x119bc4=_0xd58ba3[_0x9bc96e(0x1fb)]-0x1;_0x119bc4>=0x0;_0x119bc4--)if(_0x51799a=_0xd58ba3[_0x119bc4])_0x7905de=(_0x561e91<0x3?_0x51799a(_0x7905de):_0x561e91>0x3?_0x51799a(_0x3859ef,_0xb4d015,_0x7905de):_0x51799a(_0x3859ef,_0xb4d015))||_0x7905de;}return _0x561e91>0x3&&_0x7905de&&Object[_0x9bc96e(0x201)](_0x3859ef,_0xb4d015,_0x7905de),_0x7905de;},__metadata=this&&this['__metadata']||function(_0x3c2a85,_0x4d9bbe){const _0x5a9c10=a240_0x3087;if(typeof Reflect===_0x5a9c10(0x1f0)&&typeof Reflect['metadata']===_0x5a9c10(0x1f5))return Reflect[_0x5a9c10(0x206)](_0x3c2a85,_0x4d9bbe);},__param=this&&this[a240_0x4a1619(0x1e5)]||function(_0x17a94c,_0x3f9958){return function(_0x20cd6c,_0x57151e){_0x3f9958(_0x20cd6c,_0x57151e,_0x17a94c);};},SalesforceService_1;Object[a240_0x4a1619(0x201)](exports,a240_0x4a1619(0x1f3),{'value':!![]}),exports[a240_0x4a1619(0x1df)]=void 0x0;const typedi_1=require(a240_0x4a1619(0x213)),core_1=require(a240_0x4a1619(0x205)),internal_server_error_1=require(a240_0x4a1619(0x20a)),salesforce_auth_service_1=require(a240_0x4a1619(0x212)),constants_1=require(a240_0x4a1619(0x21e)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a240_0x4a1619(0x1ea)),salesforce_error_1=require(a240_0x4a1619(0x200)),connection_dto_1=require(a240_0x4a1619(0x211));function a240_0x3087(_0x54ca86,_0x55bd56){const _0x3047ce=a240_0x124b();return a240_0x3087=function(_0x57554d,_0x2854b9){_0x57554d=_0x57554d-0x1de;let _0x124bff=_0x3047ce[_0x57554d];return _0x124bff;},a240_0x3087(_0x54ca86,_0x55bd56);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x12ba5f){const _0x1f56d3=a240_0x4a1619;this[_0x1f56d3(0x202)]=new core_1['Logger'](SalesforceService_1[_0x1f56d3(0x218)]),this[_0x1f56d3(0x20f)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x12ba5f),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x1f56d3(0x21f);}[a240_0x4a1619(0x209)](_0x574224){this['loggerId']=_0x574224,this['internalLogger']=new salesforce_logger_service_1['SalesforceLogger'](this);}[a240_0x4a1619(0x21d)](){const _0x1f32ee=a240_0x4a1619;return this[_0x1f32ee(0x1f1)];}async[a240_0x4a1619(0x1ff)](_0x208081){const _0x3b54d0=a240_0x4a1619;try{this[_0x3b54d0(0x202)][_0x3b54d0(0x214)](_0x3b54d0(0x1f8),_0x208081[_0x3b54d0(0x1fb)]);const _0x395df5=await this[_0x3b54d0(0x20f)][_0x3b54d0(0x1e0)](_0x3b54d0(0x217)+this['namespace']+_0x3b54d0(0x20b),{'componentIds':_0x208081,'loggerId':this['loggerId']})[_0x3b54d0(0x222)](({data:_0x524887})=>_0x524887);return _0x395df5;}catch(_0x53f58e){this[_0x3b54d0(0x202)]['error'](_0x53f58e);throw new salesforce_error_1[(_0x3b54d0(0x208))](_0x53f58e);}}async[a240_0x4a1619(0x219)](_0x57bc7d){const _0x50d35d=a240_0x4a1619;try{this[_0x50d35d(0x202)][_0x50d35d(0x214)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x57bc7d),await this[_0x50d35d(0x20f)][_0x50d35d(0x207)](_0x50d35d(0x1f9)+constants_1[_0x50d35d(0x20d)]+_0x50d35d(0x1e7)+_0x57bc7d);}catch(_0x41cc61){this[_0x50d35d(0x202)][_0x50d35d(0x1fd)](_0x41cc61);throw new salesforce_error_1[(_0x50d35d(0x208))](_0x41cc61);}}async[a240_0x4a1619(0x1e9)](_0x163e1c,_0xe7beeb=![]){const _0x2ec7ec=a240_0x4a1619;try{this[_0x2ec7ec(0x202)][_0x2ec7ec(0x214)](_0x2ec7ec(0x210),_0x163e1c);const _0x151e9c=await this[_0x2ec7ec(0x20f)]['get'](_0x2ec7ec(0x1f9)+constants_1[_0x2ec7ec(0x20d)]+'/sobjects/Attachment/'+_0x163e1c+_0x2ec7ec(0x1ed),{'responseType':_0xe7beeb?'arraybuffer':_0x2ec7ec(0x20c)})[_0x2ec7ec(0x222)](({data:_0x216490})=>_0x216490);return _0x151e9c;}catch(_0x4396f0){this[_0x2ec7ec(0x202)][_0x2ec7ec(0x1fd)](_0x4396f0);throw new salesforce_error_1[(_0x2ec7ec(0x208))](_0x4396f0);}}async[a240_0x4a1619(0x204)](_0x2b0d4e){const _0x37d0c5=a240_0x4a1619;try{_0x2b0d4e[_0x37d0c5(0x221)](_0x35975c=>this[_0x37d0c5(0x202)][_0x37d0c5(0x214)](_0x37d0c5(0x1f2),_0x35975c)),await this[_0x37d0c5(0x20f)][_0x37d0c5(0x1e0)](_0x37d0c5(0x217)+this[_0x37d0c5(0x1e8)]+'/logger',{'messages':_0x2b0d4e,'loggerId':this[_0x37d0c5(0x203)]});}catch(_0x1a3e3e){this[_0x37d0c5(0x202)][_0x37d0c5(0x1fd)](_0x1a3e3e);throw new internal_server_error_1[(_0x37d0c5(0x226))](_0x1a3e3e);}}async[a240_0x4a1619(0x1f6)](_0x56dbd8,_0x5331d9){const _0x61558f=a240_0x4a1619;try{const {data:_0xa15ee6}=await this['request']['post'](_0x61558f(0x1f9)+constants_1[_0x61558f(0x20d)]+_0x61558f(0x215)+_0x56dbd8+'/',_0x5331d9);return _0xa15ee6['id'];}catch(_0x22ada0){throw new salesforce_error_1['SalesforceError'](_0x22ada0);}}async[a240_0x4a1619(0x224)](_0x5b61c7,_0x3301b0,_0x15357d){const _0x292d0f=a240_0x4a1619;try{await this[_0x292d0f(0x20f)][_0x292d0f(0x1fe)](_0x292d0f(0x1f9)+constants_1['SALESFORCE_API_VERSION']+_0x292d0f(0x215)+_0x5b61c7+'/'+_0x3301b0,_0x15357d);}catch(_0x25200b){throw new salesforce_error_1['SalesforceError'](_0x25200b);}}async[a240_0x4a1619(0x223)](_0x34f6c7){const _0x3a6ef0=a240_0x4a1619;try{const {data:_0x3f59bd}=await this[_0x3a6ef0(0x20f)][_0x3a6ef0(0x1fa)](_0x3a6ef0(0x217)+this['namespace']+'/connection',{'params':{'connectionId':_0x34f6c7}});return new connection_dto_1['ConnectionDto'](_0x3f59bd);}catch(_0x1ef92e){throw new salesforce_error_1['SalesforceError'](_0x1ef92e);}}};function a240_0x124b(){const _0x24543f=['constructor','object','internalLogger','[message]\x20%s','__esModule','1220527UyfXAa','function','createObject','getOwnPropertyDescriptor','retrieve\x20components\x20\x20%d\x20from\x20salesforce','services/data/','get','length','9454IBmbhS','error','patch','retrieveComponents','../errors/salesforce.error','defineProperty','logger','loggerId','sendLog','../../../../core','metadata','delete','SalesforceError','setLoggerId','../../../../core/errors/internal-server.error','/attachments','text','SALESFORCE_API_VERSION','apply','request','retrieve\x20attachment\x20%s\x20from\x20salesforce','../dto/connection.dto','./salesforce-auth.service','typedi','log','/sobjects/','5001810NcQeDT','services/apexrest','name','deleteAttachment','220dOZutH','2009546laJJeC','search','getLogger','../../../../constants','/flosum_git','68852HBxbSY','forEach','then','fetchConnection','patchObject','toString','InternalServerError','756170jLwsUM','SalesforceService','post','16zeDmHg','126DlWhFz','decorate','959814TDWVBW','__param','SalesforceAuthService','/sobjects/Attachment/','namespace','retrieveAttachment','./salesforce-logger.service','(((.+)+)+)+$','18zLexJP','/body','12SPlrsf'];a240_0x124b=function(){return _0x24543f;};return a240_0x124b();}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a240_0x4a1619(0x1e6)]])],SalesforceService),exports['SalesforceService']=SalesforceService;