const a282_0x3cde72=a282_0x47a9;(function(_0x4236db,_0x23e8e4){const _0x1ffd5a=a282_0x47a9,_0xf4a7f7=_0x4236db();while(!![]){try{const _0x45512e=parseInt(_0x1ffd5a(0x1c2))/0x1*(parseInt(_0x1ffd5a(0x1db))/0x2)+parseInt(_0x1ffd5a(0x1a0))/0x3+-parseInt(_0x1ffd5a(0x1b9))/0x4+parseInt(_0x1ffd5a(0x1ad))/0x5+-parseInt(_0x1ffd5a(0x1cc))/0x6*(-parseInt(_0x1ffd5a(0x19e))/0x7)+parseInt(_0x1ffd5a(0x1a4))/0x8*(-parseInt(_0x1ffd5a(0x1a5))/0x9)+-parseInt(_0x1ffd5a(0x1b8))/0xa;if(_0x45512e===_0x23e8e4)break;else _0xf4a7f7['push'](_0xf4a7f7['shift']());}catch(_0x474f66){_0xf4a7f7['push'](_0xf4a7f7['shift']());}}}(a282_0x29dd,0xc69c7));const a282_0x2f1075=(function(){let _0x1a45de=!![];return function(_0x229492,_0x37dce9){const _0x1068e7=_0x1a45de?function(){if(_0x37dce9){const _0x4acde5=_0x37dce9['apply'](_0x229492,arguments);return _0x37dce9=null,_0x4acde5;}}:function(){};return _0x1a45de=![],_0x1068e7;};}()),a282_0x18c819=a282_0x2f1075(this,function(){const _0x3efb0c=a282_0x47a9;return a282_0x18c819['toString']()[_0x3efb0c(0x1d2)](_0x3efb0c(0x1cd))[_0x3efb0c(0x1c4)]()['constructor'](a282_0x18c819)['search'](_0x3efb0c(0x1cd));});a282_0x18c819();'use strict';var __decorate=this&&this[a282_0x3cde72(0x1cf)]||function(_0x17dc8e,_0x4d5684,_0x5d7d56,_0x26e732){const _0x349a85=a282_0x3cde72;var _0x5093d1=arguments[_0x349a85(0x19d)],_0xb9ac1a=_0x5093d1<0x3?_0x4d5684:_0x26e732===null?_0x26e732=Object['getOwnPropertyDescriptor'](_0x4d5684,_0x5d7d56):_0x26e732,_0x511d7d;if(typeof Reflect==='object'&&typeof Reflect[_0x349a85(0x1da)]==='function')_0xb9ac1a=Reflect[_0x349a85(0x1da)](_0x17dc8e,_0x4d5684,_0x5d7d56,_0x26e732);else{for(var _0x33ff4a=_0x17dc8e['length']-0x1;_0x33ff4a>=0x0;_0x33ff4a--)if(_0x511d7d=_0x17dc8e[_0x33ff4a])_0xb9ac1a=(_0x5093d1<0x3?_0x511d7d(_0xb9ac1a):_0x5093d1>0x3?_0x511d7d(_0x4d5684,_0x5d7d56,_0xb9ac1a):_0x511d7d(_0x4d5684,_0x5d7d56))||_0xb9ac1a;}return _0x5093d1>0x3&&_0xb9ac1a&&Object[_0x349a85(0x1ac)](_0x4d5684,_0x5d7d56,_0xb9ac1a),_0xb9ac1a;},__metadata=this&&this[a282_0x3cde72(0x1d4)]||function(_0x4bcbd6,_0x37a383){const _0x585498=a282_0x3cde72;if(typeof Reflect===_0x585498(0x1a7)&&typeof Reflect[_0x585498(0x1bb)]===_0x585498(0x1aa))return Reflect['metadata'](_0x4bcbd6,_0x37a383);},__param=this&&this[a282_0x3cde72(0x1c9)]||function(_0x1d7ec1,_0x186736){return function(_0x4e0cca,_0x3e615c){_0x186736(_0x4e0cca,_0x3e615c,_0x1d7ec1);};},SalesforceService_1;function a282_0x29dd(){const _0x51a155=['SALESFORCE_API_VERSION','__metadata','/body','Inject','services/data/','SalesforceService','arraybuffer','decorate','10SUhJEx','services/apexrest','/logger','loggerId','createObject','delete','/sobjects/','InternalServerError','setLoggerId','log','length','21ePnVIG','error','3595257GvzqTu','[message]\x20%s','get','/connection','1020168JvWHMK','54ZiHlbF','post','object','./salesforce-auth.service','../../../../core/errors/internal-server.error','function','fetchConnection','defineProperty','4581010FmBUbm','forEach','createSalesforceRequest','typedi','/flosum_git','sendLog','retrieveComponents','design:paramtypes','retrieve','/sobjects/Attachment/','./salesforce-logger.service','26214730fyYcYD','2671372UVPuRR','name','metadata','patch','namespace','Logger','../../../../core','internalLogger','../../../../constants','247394PtlNgA','request','toString','Delete\x20attachment\x20%s\x20from\x20salesforce','Retrieve\x20attachment\x20%s\x20from\x20salesforce','logger','SalesforceAuthService','__param','SalesforceError','../classes/bulk-components-retriever','3032724iAzEKi','(((.+)+)+)+$','../errors/salesforce.error','__decorate','patchObject','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','search'];a282_0x29dd=function(){return _0x51a155;};return a282_0x29dd();}function a282_0x47a9(_0x416f1c,_0x186631){const _0x5ce13f=a282_0x29dd();return a282_0x47a9=function(_0x18c819,_0x2f1075){_0x18c819=_0x18c819-0x199;let _0x29dd55=_0x5ce13f[_0x18c819];return _0x29dd55;},a282_0x47a9(_0x416f1c,_0x186631);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a282_0x3cde72(0x1d8)]=void 0x0;const typedi_1=require(a282_0x3cde72(0x1b0)),core_1=require(a282_0x3cde72(0x1bf)),internal_server_error_1=require(a282_0x3cde72(0x1a9)),salesforce_auth_service_1=require(a282_0x3cde72(0x1a8)),constants_1=require(a282_0x3cde72(0x1c1)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a282_0x3cde72(0x1b7)),salesforce_error_1=require(a282_0x3cde72(0x1ce)),connection_dto_1=require('../dto/connection.dto'),bulk_components_retriever_1=require(a282_0x3cde72(0x1cb));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x336833){const _0x2dfb1a=a282_0x3cde72;this[_0x2dfb1a(0x1c7)]=new core_1[(_0x2dfb1a(0x1be))](SalesforceService_1[_0x2dfb1a(0x1ba)]),this[_0x2dfb1a(0x1c3)]=(0x0,create_request_util_1[_0x2dfb1a(0x1af)])(_0x336833),this[_0x2dfb1a(0x1bd)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x2dfb1a(0x1b1);}[a282_0x3cde72(0x19b)](_0x1bb272){const _0x3077f5=a282_0x3cde72;this[_0x3077f5(0x1de)]=_0x1bb272,this[_0x3077f5(0x1c0)]=new salesforce_logger_service_1['SalesforceLogger'](this);}['getLogger'](){const _0x4ab1d=a282_0x3cde72;return this[_0x4ab1d(0x1c0)];}async[a282_0x3cde72(0x1b3)](_0x6c9b1a){const _0x3f7101=a282_0x3cde72;try{this[_0x3f7101(0x1c7)][_0x3f7101(0x19c)](_0x3f7101(0x1d1),_0x6c9b1a[_0x3f7101(0x19d)]);const _0x4128d2=new bulk_components_retriever_1['BulkComponentsRetriever']({'request':this[_0x3f7101(0x1c3)],'ids':_0x6c9b1a}),_0x5416f0=await _0x4128d2[_0x3f7101(0x1b5)]();return _0x5416f0;}catch(_0x4eb310){this[_0x3f7101(0x1c7)][_0x3f7101(0x19f)](_0x4eb310);throw new salesforce_error_1[(_0x3f7101(0x1ca))](_0x4eb310);}}async['deleteAttachment'](_0x575ed3){const _0x329afe=a282_0x3cde72;try{this[_0x329afe(0x1c7)][_0x329afe(0x19c)](_0x329afe(0x1c5),_0x575ed3),await this[_0x329afe(0x1c3)][_0x329afe(0x1e0)](_0x329afe(0x1d7)+constants_1['SALESFORCE_API_VERSION']+_0x329afe(0x1b6)+_0x575ed3);}catch(_0x12d90a){this[_0x329afe(0x1c7)][_0x329afe(0x19f)](_0x12d90a);throw new salesforce_error_1[(_0x329afe(0x1ca))](_0x12d90a);}}async['retrieveAttachment'](_0x501e36,_0x3ab37a=![]){const _0x5bdf5e=a282_0x3cde72;try{this[_0x5bdf5e(0x1c7)][_0x5bdf5e(0x19c)](_0x5bdf5e(0x1c6),_0x501e36);const _0x563544=await this[_0x5bdf5e(0x1c3)][_0x5bdf5e(0x1a2)](_0x5bdf5e(0x1d7)+constants_1['SALESFORCE_API_VERSION']+_0x5bdf5e(0x1b6)+_0x501e36+_0x5bdf5e(0x1d5),{'responseType':_0x3ab37a?_0x5bdf5e(0x1d9):'text'})['then'](({data:_0x23a272})=>_0x23a272);return _0x563544;}catch(_0xa95412){this['logger'][_0x5bdf5e(0x19f)](_0xa95412);throw new salesforce_error_1[(_0x5bdf5e(0x1ca))](_0xa95412);}}async[a282_0x3cde72(0x1b2)](_0xe7dd81){const _0xdfd485=a282_0x3cde72;try{_0xe7dd81[_0xdfd485(0x1ae)](_0x2f8bf4=>this[_0xdfd485(0x1c7)][_0xdfd485(0x19c)](_0xdfd485(0x1a1),_0x2f8bf4)),await this[_0xdfd485(0x1c3)][_0xdfd485(0x1a6)](_0xdfd485(0x1dc)+this[_0xdfd485(0x1bd)]+_0xdfd485(0x1dd),{'messages':_0xe7dd81,'loggerId':this[_0xdfd485(0x1de)]});}catch(_0x596aac){this[_0xdfd485(0x1c7)][_0xdfd485(0x19f)](_0x596aac);throw new internal_server_error_1[(_0xdfd485(0x19a))](_0x596aac);}}async[a282_0x3cde72(0x1df)](_0x329600,_0x4a2ecb){const _0x5e6a8b=a282_0x3cde72;try{const {data:_0x4107b8}=await this['request']['post'](_0x5e6a8b(0x1d7)+constants_1[_0x5e6a8b(0x1d3)]+'/sobjects/'+_0x329600+'/',_0x4a2ecb);return _0x4107b8['id'];}catch(_0x38da63){throw new salesforce_error_1['SalesforceError'](_0x38da63);}}async[a282_0x3cde72(0x1d0)](_0x23ffb6,_0x48359d,_0x37051e){const _0x4bcc91=a282_0x3cde72;try{await this[_0x4bcc91(0x1c3)][_0x4bcc91(0x1bc)](_0x4bcc91(0x1d7)+constants_1[_0x4bcc91(0x1d3)]+_0x4bcc91(0x199)+_0x23ffb6+'/'+_0x48359d,_0x37051e);}catch(_0x540e29){throw new salesforce_error_1[(_0x4bcc91(0x1ca))](_0x540e29);}}async[a282_0x3cde72(0x1ab)](_0x1286d2){const _0x318ce2=a282_0x3cde72;try{const {data:_0x558e3b}=await this[_0x318ce2(0x1c3)]['get'](_0x318ce2(0x1dc)+this[_0x318ce2(0x1bd)]+_0x318ce2(0x1a3),{'params':{'connectionId':_0x1286d2}});return new connection_dto_1['ConnectionDto'](_0x558e3b);}catch(_0x2843e1){throw new salesforce_error_1[(_0x318ce2(0x1ca))](_0x2843e1);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a282_0x3cde72(0x1d6)])()),__metadata(a282_0x3cde72(0x1b4),[salesforce_auth_service_1[a282_0x3cde72(0x1c8)]])],SalesforceService),exports[a282_0x3cde72(0x1d8)]=SalesforceService;