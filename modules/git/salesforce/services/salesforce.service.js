const a245_0x40dd79=a245_0x10dc;(function(_0x5a94e2,_0x3f028f){const _0x10d1c4=a245_0x10dc,_0x3da2fa=_0x5a94e2();while(!![]){try{const _0x24f47a=-parseInt(_0x10d1c4(0x1e4))/0x1*(parseInt(_0x10d1c4(0x1ea))/0x2)+parseInt(_0x10d1c4(0x1f2))/0x3+parseInt(_0x10d1c4(0x1f1))/0x4*(parseInt(_0x10d1c4(0x1df))/0x5)+-parseInt(_0x10d1c4(0x1e1))/0x6*(-parseInt(_0x10d1c4(0x20b))/0x7)+-parseInt(_0x10d1c4(0x1d4))/0x8+-parseInt(_0x10d1c4(0x1e6))/0x9*(parseInt(_0x10d1c4(0x1d6))/0xa)+parseInt(_0x10d1c4(0x1ce))/0xb;if(_0x24f47a===_0x3f028f)break;else _0x3da2fa['push'](_0x3da2fa['shift']());}catch(_0x29bb7f){_0x3da2fa['push'](_0x3da2fa['shift']());}}}(a245_0x5776,0x8febc));const a245_0x40c6ee=(function(){let _0x5313e9=!![];return function(_0x1797ca,_0x3a8b74){const _0x5a8716=_0x5313e9?function(){const _0x2b55e9=a245_0x10dc;if(_0x3a8b74){const _0x51e058=_0x3a8b74[_0x2b55e9(0x202)](_0x1797ca,arguments);return _0x3a8b74=null,_0x51e058;}}:function(){};return _0x5313e9=![],_0x5a8716;};}()),a245_0x2a3779=a245_0x40c6ee(this,function(){const _0x1e4973=a245_0x10dc;return a245_0x2a3779[_0x1e4973(0x1f4)]()[_0x1e4973(0x1cc)]('(((.+)+)+)+$')[_0x1e4973(0x1f4)]()[_0x1e4973(0x1ed)](a245_0x2a3779)[_0x1e4973(0x1cc)]('(((.+)+)+)+$');});a245_0x2a3779();'use strict';var __decorate=this&&this[a245_0x40dd79(0x20a)]||function(_0x4c3030,_0x11e90e,_0x998627,_0x1d872e){const _0x2814ab=a245_0x40dd79;var _0x46eb05=arguments[_0x2814ab(0x1c8)],_0x8155b4=_0x46eb05<0x3?_0x11e90e:_0x1d872e===null?_0x1d872e=Object[_0x2814ab(0x1c5)](_0x11e90e,_0x998627):_0x1d872e,_0x39236e;if(typeof Reflect===_0x2814ab(0x1d3)&&typeof Reflect['decorate']===_0x2814ab(0x1da))_0x8155b4=Reflect[_0x2814ab(0x1e3)](_0x4c3030,_0x11e90e,_0x998627,_0x1d872e);else{for(var _0x4f1f21=_0x4c3030[_0x2814ab(0x1c8)]-0x1;_0x4f1f21>=0x0;_0x4f1f21--)if(_0x39236e=_0x4c3030[_0x4f1f21])_0x8155b4=(_0x46eb05<0x3?_0x39236e(_0x8155b4):_0x46eb05>0x3?_0x39236e(_0x11e90e,_0x998627,_0x8155b4):_0x39236e(_0x11e90e,_0x998627))||_0x8155b4;}return _0x46eb05>0x3&&_0x8155b4&&Object[_0x2814ab(0x206)](_0x11e90e,_0x998627,_0x8155b4),_0x8155b4;},__metadata=this&&this[a245_0x40dd79(0x1e9)]||function(_0x514b4a,_0x36d1d1){const _0x35d7b3=a245_0x40dd79;if(typeof Reflect==='object'&&typeof Reflect[_0x35d7b3(0x1d9)]===_0x35d7b3(0x1da))return Reflect[_0x35d7b3(0x1d9)](_0x514b4a,_0x36d1d1);},__param=this&&this[a245_0x40dd79(0x209)]||function(_0x1dad31,_0x319d68){return function(_0x3a495c,_0x118532){_0x319d68(_0x3a495c,_0x118532,_0x1dad31);};},SalesforceService_1;Object[a245_0x40dd79(0x206)](exports,a245_0x40dd79(0x1ec),{'value':!![]}),exports[a245_0x40dd79(0x1cf)]=void 0x0;const typedi_1=require(a245_0x40dd79(0x1d8)),core_1=require('../../../../core'),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a245_0x40dd79(0x203)),create_request_util_1=require(a245_0x40dd79(0x1ee)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a245_0x40dd79(0x1e2));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x46a922){const _0x316709=a245_0x40dd79;this[_0x316709(0x1d5)]=new core_1[(_0x316709(0x1f3))](SalesforceService_1[_0x316709(0x1d1)]),this['request']=(0x0,create_request_util_1[_0x316709(0x1dc)])(_0x46a922),this['namespace']=constants_1[_0x316709(0x1fe)]?'':'/flosum_git';}[a245_0x40dd79(0x1c6)](_0x4b059c){const _0x46937b=a245_0x40dd79;this[_0x46937b(0x1cb)]=_0x4b059c,this[_0x46937b(0x1cd)]=new salesforce_logger_service_1[(_0x46937b(0x1db))](this);}['getLogger'](){return this['internalLogger'];}async[a245_0x40dd79(0x1ef)](_0x59bb4c){const _0x9078c5=a245_0x40dd79;try{this['logger']['log'](_0x9078c5(0x1e8),_0x59bb4c['length']);const _0x1cded6=await this[_0x9078c5(0x200)][_0x9078c5(0x1e5)](_0x9078c5(0x205)+this[_0x9078c5(0x208)]+_0x9078c5(0x204),{'componentIds':_0x59bb4c,'loggerId':this[_0x9078c5(0x1cb)]})['then'](({data:_0x9da6a8})=>_0x9da6a8);return _0x1cded6;}catch(_0x2104d0){this[_0x9078c5(0x1d5)][_0x9078c5(0x1c9)](_0x2104d0);throw new salesforce_error_1[(_0x9078c5(0x1f0))](_0x2104d0);}}async[a245_0x40dd79(0x1eb)](_0x3f1f48){const _0x286a10=a245_0x40dd79;try{this[_0x286a10(0x1d5)][_0x286a10(0x1fa)](_0x286a10(0x1d7),_0x3f1f48),await this[_0x286a10(0x200)]['delete'](_0x286a10(0x207)+constants_1[_0x286a10(0x1fb)]+_0x286a10(0x1d2)+_0x3f1f48);}catch(_0xf61aee){this[_0x286a10(0x1d5)][_0x286a10(0x1c9)](_0xf61aee);throw new salesforce_error_1[(_0x286a10(0x1f0))](_0xf61aee);}}async[a245_0x40dd79(0x1fd)](_0x5ae33c,_0x35538c=![]){const _0x42aebb=a245_0x40dd79;try{this['logger'][_0x42aebb(0x1fa)](_0x42aebb(0x1de),_0x5ae33c);const _0xe98fc6=await this['request'][_0x42aebb(0x1e0)](_0x42aebb(0x207)+constants_1['SALESFORCE_API_VERSION']+_0x42aebb(0x1d2)+_0x5ae33c+_0x42aebb(0x1e7),{'responseType':_0x35538c?_0x42aebb(0x1f6):_0x42aebb(0x1f5)})[_0x42aebb(0x1f7)](({data:_0x20025d})=>_0x20025d);return _0xe98fc6;}catch(_0x2aca01){this[_0x42aebb(0x1d5)][_0x42aebb(0x1c9)](_0x2aca01);throw new salesforce_error_1[(_0x42aebb(0x1f0))](_0x2aca01);}}async['sendLog'](_0x454eee){const _0x18360b=a245_0x40dd79;try{_0x454eee[_0x18360b(0x201)](_0x1edc23=>this[_0x18360b(0x1d5)][_0x18360b(0x1fa)]('[message]\x20%s',_0x1edc23)),await this[_0x18360b(0x200)]['post']('services/apexrest'+this[_0x18360b(0x208)]+'/logger',{'messages':_0x454eee,'loggerId':this[_0x18360b(0x1cb)]});}catch(_0x3a41ac){this[_0x18360b(0x1d5)]['error'](_0x3a41ac);throw new internal_server_error_1[(_0x18360b(0x1f8))](_0x3a41ac);}}async[a245_0x40dd79(0x1f9)](_0x57a6e7,_0x136fc2){const _0x28f1c9=a245_0x40dd79;try{const {data:_0x1c01f2}=await this[_0x28f1c9(0x200)][_0x28f1c9(0x1e5)](_0x28f1c9(0x207)+constants_1[_0x28f1c9(0x1fb)]+_0x28f1c9(0x1ca)+_0x57a6e7+'/',_0x136fc2);return _0x1c01f2['id'];}catch(_0x58d74d){throw new salesforce_error_1[(_0x28f1c9(0x1f0))](_0x58d74d);}}async[a245_0x40dd79(0x1ff)](_0x3f58a0,_0x569d04,_0x2c5060){const _0x274ac6=a245_0x40dd79;try{await this[_0x274ac6(0x200)][_0x274ac6(0x1fc)]('services/data/'+constants_1[_0x274ac6(0x1fb)]+'/sobjects/'+_0x3f58a0+'/'+_0x569d04,_0x2c5060);}catch(_0x2a7daf){throw new salesforce_error_1[(_0x274ac6(0x1f0))](_0x2a7daf);}}async[a245_0x40dd79(0x1c7)](_0x31a07d){const _0x533ebf=a245_0x40dd79;try{const {data:_0x48f76b}=await this[_0x533ebf(0x200)][_0x533ebf(0x1e0)](_0x533ebf(0x205)+this[_0x533ebf(0x208)]+_0x533ebf(0x1d0),{'params':{'connectionId':_0x31a07d}});return new connection_dto_1[(_0x533ebf(0x1c4))](_0x48f76b);}catch(_0x1b0c49){throw new salesforce_error_1['SalesforceError'](_0x1b0c49);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a245_0x40dd79(0x1dd)]])],SalesforceService),exports[a245_0x40dd79(0x1cf)]=SalesforceService;function a245_0x10dc(_0x39ae84,_0x21dba4){const _0x5bf685=a245_0x5776();return a245_0x10dc=function(_0x2a3779,_0x40c6ee){_0x2a3779=_0x2a3779-0x1c4;let _0x5776d0=_0x5bf685[_0x2a3779];return _0x5776d0;},a245_0x10dc(_0x39ae84,_0x21dba4);}function a245_0x5776(){const _0x5133d0=['length','error','/sobjects/','loggerId','search','internalLogger','22796532jNexuc','SalesforceService','/connection','name','/sobjects/Attachment/','object','7768880GzHxud','logger','140SKjCSB','delete\x20attachment\x20%s\x20from\x20salesforce','typedi','metadata','function','SalesforceLogger','createSalesforceRequest','SalesforceAuthService','retrieve\x20attachment\x20%s\x20from\x20salesforce','665tXGelP','get','51690yASlgC','../dto/connection.dto','decorate','18951RSamZE','post','250272pbkodm','/body','retrieve\x20components\x20\x20%d\x20from\x20salesforce','__metadata','106lafmsB','deleteAttachment','__esModule','constructor','../utils/create-request.util','retrieveComponents','SalesforceError','3620FOoBmX','294579HlABwn','Logger','toString','text','arraybuffer','then','InternalServerError','createObject','log','SALESFORCE_API_VERSION','patch','retrieveAttachment','IGNORE_FLOSUM_GIT_NAMESPACE','patchObject','request','forEach','apply','../../../../constants','/attachments','services/apexrest','defineProperty','services/data/','namespace','__param','__decorate','539BAfnWh','ConnectionDto','getOwnPropertyDescriptor','setLoggerId','fetchConnection'];a245_0x5776=function(){return _0x5133d0;};return a245_0x5776();}