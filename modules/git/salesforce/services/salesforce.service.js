const a188_0x126045=a188_0x13f1;(function(_0x4d3677,_0x178530){const _0x225fdb=a188_0x13f1,_0x3e21ad=_0x4d3677();while(!![]){try{const _0x78bb75=parseInt(_0x225fdb(0x1bd))/0x1*(-parseInt(_0x225fdb(0x1bb))/0x2)+-parseInt(_0x225fdb(0x18f))/0x3*(-parseInt(_0x225fdb(0x1cc))/0x4)+parseInt(_0x225fdb(0x1cf))/0x5*(-parseInt(_0x225fdb(0x192))/0x6)+parseInt(_0x225fdb(0x191))/0x7*(-parseInt(_0x225fdb(0x1b3))/0x8)+parseInt(_0x225fdb(0x1c7))/0x9*(-parseInt(_0x225fdb(0x1d7))/0xa)+-parseInt(_0x225fdb(0x19d))/0xb*(parseInt(_0x225fdb(0x18a))/0xc)+parseInt(_0x225fdb(0x1a9))/0xd;if(_0x78bb75===_0x178530)break;else _0x3e21ad['push'](_0x3e21ad['shift']());}catch(_0x514a2e){_0x3e21ad['push'](_0x3e21ad['shift']());}}}(a188_0x4c6e,0xe4d93));function a188_0x13f1(_0x4df559,_0x24f133){const _0x16e4b8=a188_0x4c6e();return a188_0x13f1=function(_0x25b6ff,_0x236249){_0x25b6ff=_0x25b6ff-0x18a;let _0x4c6ef7=_0x16e4b8[_0x25b6ff];return _0x4c6ef7;},a188_0x13f1(_0x4df559,_0x24f133);}const a188_0x236249=(function(){let _0x22f734=!![];return function(_0x1b8e29,_0x72b75a){const _0x5237f6=_0x22f734?function(){const _0x2ec5af=a188_0x13f1;if(_0x72b75a){const _0x5dded4=_0x72b75a[_0x2ec5af(0x1d9)](_0x1b8e29,arguments);return _0x72b75a=null,_0x5dded4;}}:function(){};return _0x22f734=![],_0x5237f6;};}()),a188_0x25b6ff=a188_0x236249(this,function(){const _0x45ac64=a188_0x13f1;return a188_0x25b6ff['toString']()[_0x45ac64(0x18c)](_0x45ac64(0x1a7))[_0x45ac64(0x1b4)]()[_0x45ac64(0x1a6)](a188_0x25b6ff)['search']('(((.+)+)+)+$');});a188_0x25b6ff();function a188_0x4c6e(){const _0x1e9398=['Inject','patchObject','SalesforceError','/body','582926ekjbpH','../../../../core/errors/internal-server.error','5GLKALM','then','post','SalesforceAuthService','ConnectionDto','defineProperty','get','../dto/connection.dto','__metadata','getOwnPropertyDescriptor','15977277nsMFqa','__param','../errors/salesforce.error','createObject','Service','248mYIKyp','typedi','../../../../constants','2762470wWNthR','loggerId','SalesforceLogger','delete','delete\x20attachment\x20%s\x20from\x20salesforce','decorate','./salesforce-logger.service','/connection','10WIqiIt','setLoggerId','apply','length','12vUGHmr','request','search','design:paramtypes','services/apexrest','34896qRKSMv','logger','14aQTVAY','12FUlYpr','InternalServerError','arraybuffer','retrieveAttachment','deleteAttachment','IGNORE_FLOSUM_GIT_NAMESPACE','name','./salesforce-auth.service','../utils/create-request.util','SALESFORCE_API_VERSION','error','7818173iaxcwl','SalesforceService','/logger','log','/sobjects/','sendLog','function','__decorate','retrieveComponents','constructor','(((.+)+)+)+$','[message]\x20%s','80351284VJzNml','forEach','patch','fetchConnection','/flosum_git','../../../../core','namespace','/sobjects/Attachment/','retrieve\x20components\x20\x20%d\x20from\x20salesforce','object','3665560OjfdIY','toString','services/data/','metadata'];a188_0x4c6e=function(){return _0x1e9398;};return a188_0x4c6e();}'use strict';var __decorate=this&&this[a188_0x126045(0x1a4)]||function(_0x3d28a2,_0x338c20,_0x28378a,_0x5c450b){const _0x589307=a188_0x126045;var _0x36fd0e=arguments['length'],_0x48352c=_0x36fd0e<0x3?_0x338c20:_0x5c450b===null?_0x5c450b=Object[_0x589307(0x1c6)](_0x338c20,_0x28378a):_0x5c450b,_0x4233fa;if(typeof Reflect==='object'&&typeof Reflect[_0x589307(0x1d4)]===_0x589307(0x1a3))_0x48352c=Reflect[_0x589307(0x1d4)](_0x3d28a2,_0x338c20,_0x28378a,_0x5c450b);else{for(var _0x3b67e1=_0x3d28a2['length']-0x1;_0x3b67e1>=0x0;_0x3b67e1--)if(_0x4233fa=_0x3d28a2[_0x3b67e1])_0x48352c=(_0x36fd0e<0x3?_0x4233fa(_0x48352c):_0x36fd0e>0x3?_0x4233fa(_0x338c20,_0x28378a,_0x48352c):_0x4233fa(_0x338c20,_0x28378a))||_0x48352c;}return _0x36fd0e>0x3&&_0x48352c&&Object['defineProperty'](_0x338c20,_0x28378a,_0x48352c),_0x48352c;},__metadata=this&&this[a188_0x126045(0x1c5)]||function(_0x195b67,_0x71b695){const _0x58fc24=a188_0x126045;if(typeof Reflect===_0x58fc24(0x1b2)&&typeof Reflect[_0x58fc24(0x1b6)]===_0x58fc24(0x1a3))return Reflect['metadata'](_0x195b67,_0x71b695);},__param=this&&this[a188_0x126045(0x1c8)]||function(_0x3eec9c,_0x4ad204){return function(_0x2aeb0d,_0x513ec0){_0x4ad204(_0x2aeb0d,_0x513ec0,_0x3eec9c);};},SalesforceService_1;Object[a188_0x126045(0x1c2)](exports,'__esModule',{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a188_0x126045(0x1cd)),core_1=require(a188_0x126045(0x1ae)),internal_server_error_1=require(a188_0x126045(0x1bc)),salesforce_auth_service_1=require(a188_0x126045(0x199)),constants_1=require(a188_0x126045(0x1ce)),create_request_util_1=require(a188_0x126045(0x19a)),salesforce_logger_service_1=require(a188_0x126045(0x1d5)),salesforce_error_1=require(a188_0x126045(0x1c9)),connection_dto_1=require(a188_0x126045(0x1c4));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4d1a98){const _0x17e1ed=a188_0x126045;this[_0x17e1ed(0x190)]=new core_1['Logger'](SalesforceService_1[_0x17e1ed(0x198)]),this[_0x17e1ed(0x18b)]=create_request_util_1['createSalesforceRequest'](_0x4d1a98),this[_0x17e1ed(0x1af)]=constants_1[_0x17e1ed(0x197)]?'':_0x17e1ed(0x1ad);}[a188_0x126045(0x1d8)](_0x420a8b){const _0x1f0b56=a188_0x126045;this[_0x1f0b56(0x1d0)]=_0x420a8b,this['internalLogger']=new salesforce_logger_service_1[(_0x1f0b56(0x1d1))](this);}['getLogger'](){return this['internalLogger'];}async[a188_0x126045(0x1a5)](_0x5bcd27){const _0x2b43d0=a188_0x126045;try{this[_0x2b43d0(0x190)]['log'](_0x2b43d0(0x1b1),_0x5bcd27[_0x2b43d0(0x1da)]);const _0x2fdda8=await this[_0x2b43d0(0x18b)][_0x2b43d0(0x1bf)](_0x2b43d0(0x18e)+this[_0x2b43d0(0x1af)]+'/attachments',{'componentIds':_0x5bcd27,'loggerId':this[_0x2b43d0(0x1d0)]})[_0x2b43d0(0x1be)](({data:_0x455306})=>_0x455306);return _0x2fdda8;}catch(_0x3b74a3){this[_0x2b43d0(0x190)][_0x2b43d0(0x19c)](_0x3b74a3);throw new salesforce_error_1[(_0x2b43d0(0x1b9))](_0x3b74a3);}}async[a188_0x126045(0x196)](_0x2b98f4){const _0x41a377=a188_0x126045;try{this['logger']['log'](_0x41a377(0x1d3),_0x2b98f4),await this[_0x41a377(0x18b)][_0x41a377(0x1d2)]('services/data/'+constants_1[_0x41a377(0x19b)]+_0x41a377(0x1b0)+_0x2b98f4);}catch(_0x71d6d7){this[_0x41a377(0x190)][_0x41a377(0x19c)](_0x71d6d7);throw new salesforce_error_1[(_0x41a377(0x1b9))](_0x71d6d7);}}async[a188_0x126045(0x195)](_0x55823e,_0x35300f=![]){const _0x34879b=a188_0x126045;try{this['logger'][_0x34879b(0x1a0)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x55823e);const _0x48f919=await this[_0x34879b(0x18b)]['get']('services/data/'+constants_1[_0x34879b(0x19b)]+_0x34879b(0x1b0)+_0x55823e+_0x34879b(0x1ba),{'responseType':_0x35300f?_0x34879b(0x194):'text'})[_0x34879b(0x1be)](({data:_0x11d077})=>_0x11d077);return _0x48f919;}catch(_0x5430c2){this[_0x34879b(0x190)][_0x34879b(0x19c)](_0x5430c2);throw new salesforce_error_1[(_0x34879b(0x1b9))](_0x5430c2);}}async[a188_0x126045(0x1a2)](_0x541260){const _0xa3ebef=a188_0x126045;try{_0x541260[_0xa3ebef(0x1aa)](_0x1a166e=>this['logger'][_0xa3ebef(0x1a0)](_0xa3ebef(0x1a8),_0x1a166e)),await this['request']['post'](_0xa3ebef(0x18e)+this[_0xa3ebef(0x1af)]+_0xa3ebef(0x19f),{'messages':_0x541260,'loggerId':this[_0xa3ebef(0x1d0)]});}catch(_0x5aca23){this[_0xa3ebef(0x190)][_0xa3ebef(0x19c)](_0x5aca23);throw new internal_server_error_1[(_0xa3ebef(0x193))](_0x5aca23);}}async[a188_0x126045(0x1ca)](_0x34edff,_0x112d24){const _0x59dec7=a188_0x126045;try{const {data:_0x1fc904}=await this[_0x59dec7(0x18b)][_0x59dec7(0x1bf)]('services/data/'+constants_1[_0x59dec7(0x19b)]+_0x59dec7(0x1a1)+_0x34edff+'/',_0x112d24);return _0x1fc904['id'];}catch(_0x41d998){throw new salesforce_error_1['SalesforceError'](_0x41d998);}}async[a188_0x126045(0x1b8)](_0x45d4e9,_0x80c10b,_0x494fa2){const _0x297944=a188_0x126045;try{await this[_0x297944(0x18b)][_0x297944(0x1ab)](_0x297944(0x1b5)+constants_1['SALESFORCE_API_VERSION']+_0x297944(0x1a1)+_0x45d4e9+'/'+_0x80c10b,_0x494fa2);}catch(_0x51552d){throw new salesforce_error_1[(_0x297944(0x1b9))](_0x51552d);}}async[a188_0x126045(0x1ac)](_0x580ce9){const _0x2fc401=a188_0x126045;try{const {data:_0x2a2fe1}=await this[_0x2fc401(0x18b)][_0x2fc401(0x1c3)]('services/apexrest'+this[_0x2fc401(0x1af)]+_0x2fc401(0x1d6),{'params':{'connectionId':_0x580ce9}});return new connection_dto_1[(_0x2fc401(0x1c1))](_0x2a2fe1);}catch(_0x4ed99d){throw new salesforce_error_1[(_0x2fc401(0x1b9))](_0x4ed99d);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a188_0x126045(0x1cb)]({'transient':!![]}),__param(0x0,typedi_1[a188_0x126045(0x1b7)]()),__metadata(a188_0x126045(0x18d),[salesforce_auth_service_1[a188_0x126045(0x1c0)]])],SalesforceService),exports[a188_0x126045(0x19e)]=SalesforceService;