const a239_0x6bb6c5=a239_0x3a85;(function(_0x4ba76d,_0x32e743){const _0x4cde9d=a239_0x3a85,_0x280a65=_0x4ba76d();while(!![]){try{const _0x554f83=-parseInt(_0x4cde9d(0x1fe))/0x1+parseInt(_0x4cde9d(0x1f2))/0x2+-parseInt(_0x4cde9d(0x1ed))/0x3*(parseInt(_0x4cde9d(0x223))/0x4)+-parseInt(_0x4cde9d(0x20f))/0x5*(-parseInt(_0x4cde9d(0x20e))/0x6)+-parseInt(_0x4cde9d(0x1f7))/0x7+parseInt(_0x4cde9d(0x20a))/0x8*(parseInt(_0x4cde9d(0x1ea))/0x9)+parseInt(_0x4cde9d(0x213))/0xa;if(_0x554f83===_0x32e743)break;else _0x280a65['push'](_0x280a65['shift']());}catch(_0x9611a7){_0x280a65['push'](_0x280a65['shift']());}}}(a239_0x556b,0xee59a));const a239_0x264086=(function(){let _0x95eb46=!![];return function(_0x1f4b72,_0x2c855a){const _0x35867f=_0x95eb46?function(){const _0x31c34c=a239_0x3a85;if(_0x2c855a){const _0x2fd36a=_0x2c855a[_0x31c34c(0x1fb)](_0x1f4b72,arguments);return _0x2c855a=null,_0x2fd36a;}}:function(){};return _0x95eb46=![],_0x35867f;};}()),a239_0x18e5a6=a239_0x264086(this,function(){const _0x45aea3=a239_0x3a85;return a239_0x18e5a6[_0x45aea3(0x20b)]()[_0x45aea3(0x1f5)](_0x45aea3(0x1fa))['toString']()[_0x45aea3(0x20d)](a239_0x18e5a6)[_0x45aea3(0x1f5)](_0x45aea3(0x1fa));});a239_0x18e5a6();function a239_0x3a85(_0x50a609,_0x4a3033){const _0x14bd46=a239_0x556b();return a239_0x3a85=function(_0x18e5a6,_0x264086){_0x18e5a6=_0x18e5a6-0x1e7;let _0x556bf9=_0x14bd46[_0x18e5a6];return _0x556bf9;},a239_0x3a85(_0x50a609,_0x4a3033);}'use strict';function a239_0x556b(){const _0x3756fd=['./salesforce-logger.service','logger','(((.+)+)+)+$','apply','length','Logger','1781046iZVoUp','../errors/salesforce.error','__param','patchObject','getOwnPropertyDescriptor','log','Service','object','error','../dto/connection.dto','__metadata','forEach','584bTLIIB','toString','decorate','constructor','174TTpCqC','291865uBrlBG','fetchConnection','SalesforceService','defineProperty','25738670ihHnNg','function','SalesforceError','text','services/apexrest','deleteAttachment','request','SALESFORCE_API_VERSION','loggerId','retrieve\x20attachment\x20%s\x20from\x20salesforce','/logger','../../../../core/errors/internal-server.error','/flosum_git','arraybuffer','name','retrieve\x20components\x20\x20%d\x20from\x20salesforce','28UCoYOI','createSalesforceRequest','__esModule','SalesforceLogger','SalesforceAuthService','setLoggerId','../../../../constants','post','/body','namespace','/attachments','retrieveComponents','/sobjects/Attachment/','getLogger','services/data/','Inject','__decorate','49041IMfHia','then','../../../../core','186441zFdEHL','typedi','patch','/sobjects/','createObject','831272fBLjEB','metadata','./salesforce-auth.service','search','../utils/create-request.util','13214180wVliJH'];a239_0x556b=function(){return _0x3756fd;};return a239_0x556b();}var __decorate=this&&this[a239_0x6bb6c5(0x1e9)]||function(_0x2f06fd,_0x3c49c0,_0x3b4824,_0x34e863){const _0x299e17=a239_0x6bb6c5;var _0x202e68=arguments[_0x299e17(0x1fc)],_0x91e079=_0x202e68<0x3?_0x3c49c0:_0x34e863===null?_0x34e863=Object[_0x299e17(0x202)](_0x3c49c0,_0x3b4824):_0x34e863,_0x29c5dd;if(typeof Reflect==='object'&&typeof Reflect[_0x299e17(0x20c)]===_0x299e17(0x214))_0x91e079=Reflect[_0x299e17(0x20c)](_0x2f06fd,_0x3c49c0,_0x3b4824,_0x34e863);else{for(var _0x15aafa=_0x2f06fd[_0x299e17(0x1fc)]-0x1;_0x15aafa>=0x0;_0x15aafa--)if(_0x29c5dd=_0x2f06fd[_0x15aafa])_0x91e079=(_0x202e68<0x3?_0x29c5dd(_0x91e079):_0x202e68>0x3?_0x29c5dd(_0x3c49c0,_0x3b4824,_0x91e079):_0x29c5dd(_0x3c49c0,_0x3b4824))||_0x91e079;}return _0x202e68>0x3&&_0x91e079&&Object['defineProperty'](_0x3c49c0,_0x3b4824,_0x91e079),_0x91e079;},__metadata=this&&this[a239_0x6bb6c5(0x208)]||function(_0x184b7b,_0x172942){const _0x3251c0=a239_0x6bb6c5;if(typeof Reflect===_0x3251c0(0x205)&&typeof Reflect[_0x3251c0(0x1f3)]===_0x3251c0(0x214))return Reflect['metadata'](_0x184b7b,_0x172942);},__param=this&&this[a239_0x6bb6c5(0x200)]||function(_0x4de615,_0x305481){return function(_0x31733e,_0x2b7450){_0x305481(_0x31733e,_0x2b7450,_0x4de615);};},SalesforceService_1;Object[a239_0x6bb6c5(0x212)](exports,a239_0x6bb6c5(0x225),{'value':!![]}),exports[a239_0x6bb6c5(0x211)]=void 0x0;const typedi_1=require(a239_0x6bb6c5(0x1ee)),core_1=require(a239_0x6bb6c5(0x1ec)),internal_server_error_1=require(a239_0x6bb6c5(0x21e)),salesforce_auth_service_1=require(a239_0x6bb6c5(0x1f4)),constants_1=require(a239_0x6bb6c5(0x229)),create_request_util_1=require(a239_0x6bb6c5(0x1f6)),salesforce_logger_service_1=require(a239_0x6bb6c5(0x1f8)),salesforce_error_1=require(a239_0x6bb6c5(0x1ff)),connection_dto_1=require(a239_0x6bb6c5(0x207));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x410a6c){const _0x439582=a239_0x6bb6c5;this['logger']=new core_1[(_0x439582(0x1fd))](SalesforceService_1[_0x439582(0x221)]),this[_0x439582(0x219)]=(0x0,create_request_util_1[_0x439582(0x224)])(_0x410a6c),this[_0x439582(0x22c)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x439582(0x21f);}[a239_0x6bb6c5(0x228)](_0x355b68){const _0x87dd93=a239_0x6bb6c5;this[_0x87dd93(0x21b)]=_0x355b68,this['internalLogger']=new salesforce_logger_service_1[(_0x87dd93(0x226))](this);}[a239_0x6bb6c5(0x230)](){return this['internalLogger'];}async[a239_0x6bb6c5(0x22e)](_0x6e3cd0){const _0x114c48=a239_0x6bb6c5;try{this[_0x114c48(0x1f9)]['log'](_0x114c48(0x222),_0x6e3cd0[_0x114c48(0x1fc)]);const _0x51bc8a=await this[_0x114c48(0x219)][_0x114c48(0x22a)](_0x114c48(0x217)+this[_0x114c48(0x22c)]+_0x114c48(0x22d),{'componentIds':_0x6e3cd0,'loggerId':this[_0x114c48(0x21b)]})['then'](({data:_0x20967f})=>_0x20967f);return _0x51bc8a;}catch(_0x32c1d7){this[_0x114c48(0x1f9)]['error'](_0x32c1d7);throw new salesforce_error_1[(_0x114c48(0x215))](_0x32c1d7);}}async[a239_0x6bb6c5(0x218)](_0x22ef61){const _0x59cc62=a239_0x6bb6c5;try{this[_0x59cc62(0x1f9)][_0x59cc62(0x203)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x22ef61),await this[_0x59cc62(0x219)]['delete'](_0x59cc62(0x1e7)+constants_1[_0x59cc62(0x21a)]+'/sobjects/Attachment/'+_0x22ef61);}catch(_0x4c783f){this[_0x59cc62(0x1f9)][_0x59cc62(0x206)](_0x4c783f);throw new salesforce_error_1[(_0x59cc62(0x215))](_0x4c783f);}}async['retrieveAttachment'](_0x538c05,_0x3c0942=![]){const _0x6716f5=a239_0x6bb6c5;try{this[_0x6716f5(0x1f9)][_0x6716f5(0x203)](_0x6716f5(0x21c),_0x538c05);const _0x4cb9be=await this[_0x6716f5(0x219)]['get'](_0x6716f5(0x1e7)+constants_1[_0x6716f5(0x21a)]+_0x6716f5(0x22f)+_0x538c05+_0x6716f5(0x22b),{'responseType':_0x3c0942?_0x6716f5(0x220):_0x6716f5(0x216)})[_0x6716f5(0x1eb)](({data:_0x5126a5})=>_0x5126a5);return _0x4cb9be;}catch(_0x447713){this[_0x6716f5(0x1f9)][_0x6716f5(0x206)](_0x447713);throw new salesforce_error_1[(_0x6716f5(0x215))](_0x447713);}}async['sendLog'](_0x374dbc){const _0x88098d=a239_0x6bb6c5;try{_0x374dbc[_0x88098d(0x209)](_0x225265=>this[_0x88098d(0x1f9)][_0x88098d(0x203)]('[message]\x20%s',_0x225265)),await this[_0x88098d(0x219)][_0x88098d(0x22a)](_0x88098d(0x217)+this[_0x88098d(0x22c)]+_0x88098d(0x21d),{'messages':_0x374dbc,'loggerId':this[_0x88098d(0x21b)]});}catch(_0x1e83e3){this[_0x88098d(0x1f9)][_0x88098d(0x206)](_0x1e83e3);throw new internal_server_error_1['InternalServerError'](_0x1e83e3);}}async[a239_0x6bb6c5(0x1f1)](_0xadae,_0x1eee20){const _0x1f7c42=a239_0x6bb6c5;try{const {data:_0x3c5c57}=await this[_0x1f7c42(0x219)][_0x1f7c42(0x22a)]('services/data/'+constants_1[_0x1f7c42(0x21a)]+_0x1f7c42(0x1f0)+_0xadae+'/',_0x1eee20);return _0x3c5c57['id'];}catch(_0x5236b6){throw new salesforce_error_1['SalesforceError'](_0x5236b6);}}async[a239_0x6bb6c5(0x201)](_0x4a4a01,_0x5d925f,_0x2fb79d){const _0x461d01=a239_0x6bb6c5;try{await this[_0x461d01(0x219)][_0x461d01(0x1ef)](_0x461d01(0x1e7)+constants_1['SALESFORCE_API_VERSION']+_0x461d01(0x1f0)+_0x4a4a01+'/'+_0x5d925f,_0x2fb79d);}catch(_0xf21d2b){throw new salesforce_error_1[(_0x461d01(0x215))](_0xf21d2b);}}async[a239_0x6bb6c5(0x210)](_0x43066a){const _0x49289f=a239_0x6bb6c5;try{const {data:_0x117a95}=await this[_0x49289f(0x219)]['get'](_0x49289f(0x217)+this[_0x49289f(0x22c)]+'/connection',{'params':{'connectionId':_0x43066a}});return new connection_dto_1['ConnectionDto'](_0x117a95);}catch(_0x61b68e){throw new salesforce_error_1[(_0x49289f(0x215))](_0x61b68e);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a239_0x6bb6c5(0x204)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a239_0x6bb6c5(0x1e8)])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a239_0x6bb6c5(0x227)]])],SalesforceService),exports[a239_0x6bb6c5(0x211)]=SalesforceService;