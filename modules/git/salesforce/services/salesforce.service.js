const a240_0xd225ca=a240_0x2351;(function(_0x429a4f,_0x59e337){const _0x35d30d=a240_0x2351,_0x3ddaa6=_0x429a4f();while(!![]){try{const _0x2a0643=-parseInt(_0x35d30d(0x1cc))/0x1+-parseInt(_0x35d30d(0x1a7))/0x2*(parseInt(_0x35d30d(0x1d4))/0x3)+-parseInt(_0x35d30d(0x1ba))/0x4+parseInt(_0x35d30d(0x1a1))/0x5+parseInt(_0x35d30d(0x1dc))/0x6+-parseInt(_0x35d30d(0x1ac))/0x7*(parseInt(_0x35d30d(0x1af))/0x8)+parseInt(_0x35d30d(0x1b5))/0x9;if(_0x2a0643===_0x59e337)break;else _0x3ddaa6['push'](_0x3ddaa6['shift']());}catch(_0x109e2d){_0x3ddaa6['push'](_0x3ddaa6['shift']());}}}(a240_0x3d9d,0x92f46));const a240_0x2b0e14=(function(){let _0x15e848=!![];return function(_0x19f98c,_0x2c2b40){const _0x281c05=_0x15e848?function(){const _0x5121e5=a240_0x2351;if(_0x2c2b40){const _0x56159d=_0x2c2b40[_0x5121e5(0x1bd)](_0x19f98c,arguments);return _0x2c2b40=null,_0x56159d;}}:function(){};return _0x15e848=![],_0x281c05;};}()),a240_0x1f9546=a240_0x2b0e14(this,function(){const _0x5996c2=a240_0x2351;return a240_0x1f9546[_0x5996c2(0x1b6)]()['search'](_0x5996c2(0x1a3))[_0x5996c2(0x1b6)]()[_0x5996c2(0x1c8)](a240_0x1f9546)['search'](_0x5996c2(0x1a3));});function a240_0x2351(_0x21f9fb,_0x2c4674){const _0x2e5952=a240_0x3d9d();return a240_0x2351=function(_0x1f9546,_0x2b0e14){_0x1f9546=_0x1f9546-0x19a;let _0x3d9de3=_0x2e5952[_0x1f9546];return _0x3d9de3;},a240_0x2351(_0x21f9fb,_0x2c4674);}a240_0x1f9546();'use strict';var __decorate=this&&this[a240_0xd225ca(0x1e0)]||function(_0x8c9c79,_0x49c8e8,_0x234ef1,_0x15994e){const _0x5c52ec=a240_0xd225ca;var _0x41de91=arguments[_0x5c52ec(0x1a4)],_0x418fb1=_0x41de91<0x3?_0x49c8e8:_0x15994e===null?_0x15994e=Object[_0x5c52ec(0x19d)](_0x49c8e8,_0x234ef1):_0x15994e,_0x2c9401;if(typeof Reflect===_0x5c52ec(0x1ca)&&typeof Reflect[_0x5c52ec(0x1aa)]===_0x5c52ec(0x1dd))_0x418fb1=Reflect[_0x5c52ec(0x1aa)](_0x8c9c79,_0x49c8e8,_0x234ef1,_0x15994e);else{for(var _0x31c5b0=_0x8c9c79[_0x5c52ec(0x1a4)]-0x1;_0x31c5b0>=0x0;_0x31c5b0--)if(_0x2c9401=_0x8c9c79[_0x31c5b0])_0x418fb1=(_0x41de91<0x3?_0x2c9401(_0x418fb1):_0x41de91>0x3?_0x2c9401(_0x49c8e8,_0x234ef1,_0x418fb1):_0x2c9401(_0x49c8e8,_0x234ef1))||_0x418fb1;}return _0x41de91>0x3&&_0x418fb1&&Object[_0x5c52ec(0x1d3)](_0x49c8e8,_0x234ef1,_0x418fb1),_0x418fb1;},__metadata=this&&this[a240_0xd225ca(0x1c3)]||function(_0x50e47b,_0x40322f){const _0xbb2950=a240_0xd225ca;if(typeof Reflect===_0xbb2950(0x1ca)&&typeof Reflect[_0xbb2950(0x1a8)]===_0xbb2950(0x1dd))return Reflect[_0xbb2950(0x1a8)](_0x50e47b,_0x40322f);},__param=this&&this[a240_0xd225ca(0x19a)]||function(_0x189873,_0x217ad2){return function(_0x1976de,_0x2d5809){_0x217ad2(_0x1976de,_0x2d5809,_0x189873);};},SalesforceService_1;Object[a240_0xd225ca(0x1d3)](exports,a240_0xd225ca(0x1b1),{'value':!![]}),exports[a240_0xd225ca(0x1b4)]=void 0x0;const typedi_1=require(a240_0xd225ca(0x1db)),core_1=require(a240_0xd225ca(0x1d7)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a240_0xd225ca(0x1a9)),constants_1=require(a240_0xd225ca(0x19f)),create_request_util_1=require(a240_0xd225ca(0x1d8)),salesforce_logger_service_1=require(a240_0xd225ca(0x1e6)),salesforce_error_1=require(a240_0xd225ca(0x1cb)),connection_dto_1=require(a240_0xd225ca(0x1d2));function a240_0x3d9d(){const _0x2f1c30=['../../../../constants','Service','1462220zfBQaW','fetchConnection','(((.+)+)+)+$','length','SalesforceLogger','SalesforceAuthService','520340KxIoPp','metadata','./salesforce-auth.service','decorate','ConnectionDto','179935TXpYtB','log','Inject','328fdGdHL','then','__esModule','services/data/','patch','SalesforceService','26177463KJdMdd','toString','text','design:paramtypes','sendLog','4691016jArTzP','deleteAttachment','/flosum_git','apply','retrieve\x20attachment\x20%s\x20from\x20salesforce','SALESFORCE_API_VERSION','arraybuffer','error','services/apexrest','__metadata','delete\x20attachment\x20%s\x20from\x20salesforce','createSalesforceRequest','namespace','retrieveAttachment','constructor','SalesforceError','object','../errors/salesforce.error','149481iRKtEb','forEach','retrieve\x20components\x20\x20%d\x20from\x20salesforce','setLoggerId','patchObject','/connection','../dto/connection.dto','defineProperty','6lOJqeK','/attachments','IGNORE_FLOSUM_GIT_NAMESPACE','../../../../core','../utils/create-request.util','/body','post','typedi','1784130mSqRJP','function','internalLogger','retrieveComponents','__decorate','InternalServerError','name','loggerId','request','/logger','./salesforce-logger.service','__param','getLogger','logger','getOwnPropertyDescriptor','get'];a240_0x3d9d=function(){return _0x2f1c30;};return a240_0x3d9d();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x57c088){const _0x4bf43b=a240_0xd225ca;this['logger']=new core_1['Logger'](SalesforceService_1[_0x4bf43b(0x1e2)]),this[_0x4bf43b(0x1e4)]=(0x0,create_request_util_1[_0x4bf43b(0x1c5)])(_0x57c088),this['namespace']=constants_1[_0x4bf43b(0x1d6)]?'':_0x4bf43b(0x1bc);}[a240_0xd225ca(0x1cf)](_0x2f9110){const _0x2c97fa=a240_0xd225ca;this[_0x2c97fa(0x1e3)]=_0x2f9110,this[_0x2c97fa(0x1de)]=new salesforce_logger_service_1[(_0x2c97fa(0x1a5))](this);}[a240_0xd225ca(0x19b)](){const _0x514abd=a240_0xd225ca;return this[_0x514abd(0x1de)];}async[a240_0xd225ca(0x1df)](_0x1e9539){const _0x1dd492=a240_0xd225ca;try{this[_0x1dd492(0x19c)]['log'](_0x1dd492(0x1ce),_0x1e9539[_0x1dd492(0x1a4)]);const _0x3065ff=await this[_0x1dd492(0x1e4)]['post'](_0x1dd492(0x1c2)+this[_0x1dd492(0x1c6)]+_0x1dd492(0x1d5),{'componentIds':_0x1e9539,'loggerId':this[_0x1dd492(0x1e3)]})['then'](({data:_0x2538e6})=>_0x2538e6);return _0x3065ff;}catch(_0x23d328){this[_0x1dd492(0x19c)]['error'](_0x23d328);throw new salesforce_error_1['SalesforceError'](_0x23d328);}}async[a240_0xd225ca(0x1bb)](_0x4e7adb){const _0x262378=a240_0xd225ca;try{this[_0x262378(0x19c)][_0x262378(0x1ad)](_0x262378(0x1c4),_0x4e7adb),await this[_0x262378(0x1e4)]['delete'](_0x262378(0x1b2)+constants_1[_0x262378(0x1bf)]+'/sobjects/Attachment/'+_0x4e7adb);}catch(_0x1873c9){this[_0x262378(0x19c)][_0x262378(0x1c1)](_0x1873c9);throw new salesforce_error_1[(_0x262378(0x1c9))](_0x1873c9);}}async[a240_0xd225ca(0x1c7)](_0x451ad5,_0x3f3c29=![]){const _0x1bb716=a240_0xd225ca;try{this['logger']['log'](_0x1bb716(0x1be),_0x451ad5);const _0x32fc34=await this['request'][_0x1bb716(0x19e)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x451ad5+_0x1bb716(0x1d9),{'responseType':_0x3f3c29?_0x1bb716(0x1c0):_0x1bb716(0x1b7)})[_0x1bb716(0x1b0)](({data:_0x4bd256})=>_0x4bd256);return _0x32fc34;}catch(_0x1cd47f){this[_0x1bb716(0x19c)][_0x1bb716(0x1c1)](_0x1cd47f);throw new salesforce_error_1[(_0x1bb716(0x1c9))](_0x1cd47f);}}async[a240_0xd225ca(0x1b9)](_0x1de944){const _0x41beab=a240_0xd225ca;try{_0x1de944[_0x41beab(0x1cd)](_0x4bd730=>this[_0x41beab(0x19c)]['log']('[message]\x20%s',_0x4bd730)),await this[_0x41beab(0x1e4)][_0x41beab(0x1da)](_0x41beab(0x1c2)+this[_0x41beab(0x1c6)]+_0x41beab(0x1e5),{'messages':_0x1de944,'loggerId':this[_0x41beab(0x1e3)]});}catch(_0x207f92){this[_0x41beab(0x19c)][_0x41beab(0x1c1)](_0x207f92);throw new internal_server_error_1[(_0x41beab(0x1e1))](_0x207f92);}}async['createObject'](_0x447f67,_0x2cce29){const _0xda39f2=a240_0xd225ca;try{const {data:_0x5210e3}=await this['request'][_0xda39f2(0x1da)](_0xda39f2(0x1b2)+constants_1[_0xda39f2(0x1bf)]+'/sobjects/'+_0x447f67+'/',_0x2cce29);return _0x5210e3['id'];}catch(_0x3ce59e){throw new salesforce_error_1['SalesforceError'](_0x3ce59e);}}async[a240_0xd225ca(0x1d0)](_0x4406b9,_0x2b9e80,_0x4d86ac){const _0x7bc8bf=a240_0xd225ca;try{await this['request'][_0x7bc8bf(0x1b3)](_0x7bc8bf(0x1b2)+constants_1[_0x7bc8bf(0x1bf)]+'/sobjects/'+_0x4406b9+'/'+_0x2b9e80,_0x4d86ac);}catch(_0x3233eb){throw new salesforce_error_1[(_0x7bc8bf(0x1c9))](_0x3233eb);}}async[a240_0xd225ca(0x1a2)](_0x583430){const _0x3d2d7c=a240_0xd225ca;try{const {data:_0x22ffb9}=await this[_0x3d2d7c(0x1e4)][_0x3d2d7c(0x19e)](_0x3d2d7c(0x1c2)+this[_0x3d2d7c(0x1c6)]+_0x3d2d7c(0x1d1),{'params':{'connectionId':_0x583430}});return new connection_dto_1[(_0x3d2d7c(0x1ab))](_0x22ffb9);}catch(_0x3a8d55){throw new salesforce_error_1[(_0x3d2d7c(0x1c9))](_0x3a8d55);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a240_0xd225ca(0x1a0)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a240_0xd225ca(0x1ae)])()),__metadata(a240_0xd225ca(0x1b8),[salesforce_auth_service_1[a240_0xd225ca(0x1a6)]])],SalesforceService),exports[a240_0xd225ca(0x1b4)]=SalesforceService;