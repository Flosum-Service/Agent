const a239_0x3930cb=a239_0x522c;function a239_0x13a4(){const _0x30152c=['typedi','deleteAttachment','createObject','error','delete\x20attachment\x20%s\x20from\x20salesforce','957CrrZJF','constructor','SALESFORCE_API_VERSION','../utils/create-request.util','../../../../core','(((.+)+)+)+$','6xuzNWz','133945OReCxf','sendLog','getOwnPropertyDescriptor','services/data/','text','function','[message]\x20%s','length','retrieveAttachment','440zIOJdl','1698908EgolpT','internalLogger','object','request','InternalServerError','log','then','13666094FHnAWX','fetchConnection','Logger','namespace','./salesforce-auth.service','../../../../constants','setLoggerId','logger','delete','__esModule','SalesforceLogger','arraybuffer','services/apexrest','/attachments','getLogger','search','121977CGotMp','ConnectionDto','__metadata','1ilBlzQ','SalesforceAuthService','15gwyOCp','./salesforce-logger.service','SalesforceService','../../../../core/errors/internal-server.error','retrieveComponents','/logger','forEach','post','createSalesforceRequest','__param','12dVzkHh','SalesforceError','metadata','patchObject','/connection','/flosum_git','decorate','/sobjects/','/body','defineProperty','../dto/connection.dto','IGNORE_FLOSUM_GIT_NAMESPACE','toString','retrieve\x20attachment\x20%s\x20from\x20salesforce','2769836ayMbDs','get','../errors/salesforce.error','__decorate','Service','loggerId','patch','Inject','name','184890finTsA','187869HQMxsW'];a239_0x13a4=function(){return _0x30152c;};return a239_0x13a4();}(function(_0x581bb2,_0x40e70e){const _0x1cbf9e=a239_0x522c,_0x575d41=_0x581bb2();while(!![]){try{const _0x11d38a=parseInt(_0x1cbf9e(0x195))/0x1*(parseInt(_0x1cbf9e(0x15a))/0x2)+parseInt(_0x1cbf9e(0x164))/0x3+-parseInt(_0x1cbf9e(0x17b))/0x4*(-parseInt(_0x1cbf9e(0x197))/0x5)+-parseInt(_0x1cbf9e(0x170))/0x6*(-parseInt(_0x1cbf9e(0x171))/0x7)+-parseInt(_0x1cbf9e(0x17a))/0x8*(-parseInt(_0x1cbf9e(0x192))/0x9)+-parseInt(_0x1cbf9e(0x163))/0xa*(parseInt(_0x1cbf9e(0x16a))/0xb)+-parseInt(_0x1cbf9e(0x1a1))/0xc*(parseInt(_0x1cbf9e(0x182))/0xd);if(_0x11d38a===_0x40e70e)break;else _0x575d41['push'](_0x575d41['shift']());}catch(_0x5c29ae){_0x575d41['push'](_0x575d41['shift']());}}}(a239_0x13a4,0xc9c7b));const a239_0x1c0326=(function(){let _0x52222f=!![];return function(_0xe009c0,_0x9c44ff){const _0x4dc37a=_0x52222f?function(){if(_0x9c44ff){const _0x3db094=_0x9c44ff['apply'](_0xe009c0,arguments);return _0x9c44ff=null,_0x3db094;}}:function(){};return _0x52222f=![],_0x4dc37a;};}()),a239_0x91615c=a239_0x1c0326(this,function(){const _0x4c1fd3=a239_0x522c;return a239_0x91615c[_0x4c1fd3(0x158)]()['search'](_0x4c1fd3(0x16f))[_0x4c1fd3(0x158)]()[_0x4c1fd3(0x16b)](a239_0x91615c)[_0x4c1fd3(0x191)](_0x4c1fd3(0x16f));});a239_0x91615c();'use strict';var __decorate=this&&this[a239_0x3930cb(0x15d)]||function(_0x2f2c2a,_0x47680b,_0x4d6f17,_0x14b2d0){const _0xcdb059=a239_0x3930cb;var _0x37b060=arguments[_0xcdb059(0x178)],_0x2d18fb=_0x37b060<0x3?_0x47680b:_0x14b2d0===null?_0x14b2d0=Object[_0xcdb059(0x173)](_0x47680b,_0x4d6f17):_0x14b2d0,_0x4ac066;if(typeof Reflect===_0xcdb059(0x17d)&&typeof Reflect[_0xcdb059(0x152)]===_0xcdb059(0x176))_0x2d18fb=Reflect[_0xcdb059(0x152)](_0x2f2c2a,_0x47680b,_0x4d6f17,_0x14b2d0);else{for(var _0x15ee2a=_0x2f2c2a['length']-0x1;_0x15ee2a>=0x0;_0x15ee2a--)if(_0x4ac066=_0x2f2c2a[_0x15ee2a])_0x2d18fb=(_0x37b060<0x3?_0x4ac066(_0x2d18fb):_0x37b060>0x3?_0x4ac066(_0x47680b,_0x4d6f17,_0x2d18fb):_0x4ac066(_0x47680b,_0x4d6f17))||_0x2d18fb;}return _0x37b060>0x3&&_0x2d18fb&&Object[_0xcdb059(0x155)](_0x47680b,_0x4d6f17,_0x2d18fb),_0x2d18fb;},__metadata=this&&this[a239_0x3930cb(0x194)]||function(_0x50688e,_0x2bafe6){const _0x6471fc=a239_0x3930cb;if(typeof Reflect==='object'&&typeof Reflect[_0x6471fc(0x14e)]===_0x6471fc(0x176))return Reflect[_0x6471fc(0x14e)](_0x50688e,_0x2bafe6);},__param=this&&this[a239_0x3930cb(0x1a0)]||function(_0x218c71,_0x5ebb93){return function(_0x7cb327,_0x4f334e){_0x5ebb93(_0x7cb327,_0x4f334e,_0x218c71);};},SalesforceService_1;function a239_0x522c(_0x3d8c4b,_0x13cc55){const _0x2e3ecc=a239_0x13a4();return a239_0x522c=function(_0x91615c,_0x1c0326){_0x91615c=_0x91615c-0x14d;let _0x13a46e=_0x2e3ecc[_0x91615c];return _0x13a46e;},a239_0x522c(_0x3d8c4b,_0x13cc55);}Object[a239_0x3930cb(0x155)](exports,a239_0x3930cb(0x18b),{'value':!![]}),exports[a239_0x3930cb(0x199)]=void 0x0;const typedi_1=require(a239_0x3930cb(0x165)),core_1=require(a239_0x3930cb(0x16e)),internal_server_error_1=require(a239_0x3930cb(0x19a)),salesforce_auth_service_1=require(a239_0x3930cb(0x186)),constants_1=require(a239_0x3930cb(0x187)),create_request_util_1=require(a239_0x3930cb(0x16d)),salesforce_logger_service_1=require(a239_0x3930cb(0x198)),salesforce_error_1=require(a239_0x3930cb(0x15c)),connection_dto_1=require(a239_0x3930cb(0x156));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x5641c3){const _0x3dc46c=a239_0x3930cb;this[_0x3dc46c(0x189)]=new core_1[(_0x3dc46c(0x184))](SalesforceService_1[_0x3dc46c(0x162)]),this[_0x3dc46c(0x17e)]=(0x0,create_request_util_1[_0x3dc46c(0x19f)])(_0x5641c3),this['namespace']=constants_1[_0x3dc46c(0x157)]?'':_0x3dc46c(0x151);}[a239_0x3930cb(0x188)](_0x44b099){const _0x258430=a239_0x3930cb;this[_0x258430(0x15f)]=_0x44b099,this[_0x258430(0x17c)]=new salesforce_logger_service_1[(_0x258430(0x18c))](this);}[a239_0x3930cb(0x190)](){const _0x498aff=a239_0x3930cb;return this[_0x498aff(0x17c)];}async[a239_0x3930cb(0x19b)](_0x31c00d){const _0x44f0ff=a239_0x3930cb;try{this[_0x44f0ff(0x189)][_0x44f0ff(0x180)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x31c00d[_0x44f0ff(0x178)]);const _0x33efc2=await this[_0x44f0ff(0x17e)][_0x44f0ff(0x19e)]('services/apexrest'+this['namespace']+_0x44f0ff(0x18f),{'componentIds':_0x31c00d,'loggerId':this[_0x44f0ff(0x15f)]})[_0x44f0ff(0x181)](({data:_0x589f26})=>_0x589f26);return _0x33efc2;}catch(_0x3e9713){this['logger'][_0x44f0ff(0x168)](_0x3e9713);throw new salesforce_error_1[(_0x44f0ff(0x14d))](_0x3e9713);}}async[a239_0x3930cb(0x166)](_0x261fcf){const _0x3e4af6=a239_0x3930cb;try{this['logger'][_0x3e4af6(0x180)](_0x3e4af6(0x169),_0x261fcf),await this[_0x3e4af6(0x17e)][_0x3e4af6(0x18a)](_0x3e4af6(0x174)+constants_1[_0x3e4af6(0x16c)]+'/sobjects/Attachment/'+_0x261fcf);}catch(_0xb24203){this['logger']['error'](_0xb24203);throw new salesforce_error_1['SalesforceError'](_0xb24203);}}async[a239_0x3930cb(0x179)](_0xfd5cd5,_0x16e447=![]){const _0x580d7d=a239_0x3930cb;try{this[_0x580d7d(0x189)][_0x580d7d(0x180)](_0x580d7d(0x159),_0xfd5cd5);const _0x24e303=await this[_0x580d7d(0x17e)][_0x580d7d(0x15b)](_0x580d7d(0x174)+constants_1[_0x580d7d(0x16c)]+'/sobjects/Attachment/'+_0xfd5cd5+_0x580d7d(0x154),{'responseType':_0x16e447?_0x580d7d(0x18d):_0x580d7d(0x175)})['then'](({data:_0x1ef57b})=>_0x1ef57b);return _0x24e303;}catch(_0x230dc7){this[_0x580d7d(0x189)][_0x580d7d(0x168)](_0x230dc7);throw new salesforce_error_1[(_0x580d7d(0x14d))](_0x230dc7);}}async[a239_0x3930cb(0x172)](_0x23cc3a){const _0x31de3f=a239_0x3930cb;try{_0x23cc3a[_0x31de3f(0x19d)](_0x44c824=>this[_0x31de3f(0x189)][_0x31de3f(0x180)](_0x31de3f(0x177),_0x44c824)),await this[_0x31de3f(0x17e)]['post'](_0x31de3f(0x18e)+this['namespace']+_0x31de3f(0x19c),{'messages':_0x23cc3a,'loggerId':this[_0x31de3f(0x15f)]});}catch(_0xf8edfe){this['logger']['error'](_0xf8edfe);throw new internal_server_error_1[(_0x31de3f(0x17f))](_0xf8edfe);}}async[a239_0x3930cb(0x167)](_0xb58f75,_0xa0bb37){const _0x26d59a=a239_0x3930cb;try{const {data:_0x5720eb}=await this[_0x26d59a(0x17e)][_0x26d59a(0x19e)](_0x26d59a(0x174)+constants_1[_0x26d59a(0x16c)]+_0x26d59a(0x153)+_0xb58f75+'/',_0xa0bb37);return _0x5720eb['id'];}catch(_0x5317c0){throw new salesforce_error_1[(_0x26d59a(0x14d))](_0x5317c0);}}async[a239_0x3930cb(0x14f)](_0x3e84f3,_0x251eb4,_0x5a4cd2){const _0x22182a=a239_0x3930cb;try{await this[_0x22182a(0x17e)][_0x22182a(0x160)](_0x22182a(0x174)+constants_1[_0x22182a(0x16c)]+_0x22182a(0x153)+_0x3e84f3+'/'+_0x251eb4,_0x5a4cd2);}catch(_0x874b90){throw new salesforce_error_1[(_0x22182a(0x14d))](_0x874b90);}}async[a239_0x3930cb(0x183)](_0x53636e){const _0x189a80=a239_0x3930cb;try{const {data:_0xa7ed2a}=await this[_0x189a80(0x17e)][_0x189a80(0x15b)](_0x189a80(0x18e)+this[_0x189a80(0x185)]+_0x189a80(0x150),{'params':{'connectionId':_0x53636e}});return new connection_dto_1[(_0x189a80(0x193))](_0xa7ed2a);}catch(_0x15cede){throw new salesforce_error_1[(_0x189a80(0x14d))](_0x15cede);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a239_0x3930cb(0x15e)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a239_0x3930cb(0x161)])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a239_0x3930cb(0x196)]])],SalesforceService),exports[a239_0x3930cb(0x199)]=SalesforceService;