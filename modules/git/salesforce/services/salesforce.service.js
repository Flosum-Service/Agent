const a188_0x2e66e4=a188_0x3c39;(function(_0x2c8c6f,_0x13d090){const _0x34aec9=a188_0x3c39,_0x394a59=_0x2c8c6f();while(!![]){try{const _0x9a5f3d=parseInt(_0x34aec9(0x12c))/0x1*(parseInt(_0x34aec9(0x126))/0x2)+-parseInt(_0x34aec9(0x159))/0x3*(-parseInt(_0x34aec9(0x14e))/0x4)+-parseInt(_0x34aec9(0x157))/0x5*(-parseInt(_0x34aec9(0x135))/0x6)+parseInt(_0x34aec9(0x11e))/0x7+-parseInt(_0x34aec9(0x124))/0x8*(-parseInt(_0x34aec9(0x117))/0x9)+parseInt(_0x34aec9(0x133))/0xa+parseInt(_0x34aec9(0x121))/0xb*(-parseInt(_0x34aec9(0x119))/0xc);if(_0x9a5f3d===_0x13d090)break;else _0x394a59['push'](_0x394a59['shift']());}catch(_0x395d06){_0x394a59['push'](_0x394a59['shift']());}}}(a188_0x50cf,0x7707b));function a188_0x50cf(){const _0x57d892=['677982KglJgn','./salesforce-logger.service','object','function','metadata','ConnectionDto','retrieve\x20attachment\x20%s\x20from\x20salesforce','getOwnPropertyDescriptor','../dto/connection.dto','__metadata','IGNORE_FLOSUM_GIT_NAMESPACE','typedi','services/apexrest','delete','length','patchObject','../utils/create-request.util','search','/connection','SalesforceService','/logger','InternalServerError','fetchConnection','createSalesforceRequest','then','4HiRwOT','toString','/flosum_git','loggerId','retrieve\x20components\x20\x20%d\x20from\x20salesforce','services/data/','error','forEach','Inject','35ZMEHhJ','Logger','2209524jCrshO','../../../../core','SALESFORCE_API_VERSION','retrieveAttachment','log','__esModule','[message]\x20%s','decorate','get','internalLogger','../../../../core/errors/internal-server.error','delete\x20attachment\x20%s\x20from\x20salesforce','sendLog','SalesforceAuthService','10026OIgJWr','deleteAttachment','173076HuXvCK','logger','createObject','SalesforceLogger','post','1566670GxYggk','__decorate','namespace','1859qHAgwH','arraybuffer','__param','1720QbxOeE','name','4ojVpcK','(((.+)+)+)+$','design:paramtypes','./salesforce-auth.service','../../../../constants','constructor','229681kDJMFH','text','request','SalesforceError','apply','/sobjects/Attachment/','retrieveComponents','4748650okClFe','setLoggerId'];a188_0x50cf=function(){return _0x57d892;};return a188_0x50cf();}const a188_0x1706c9=(function(){let _0x18d374=!![];return function(_0x89abdb,_0x3c795a){const _0xae9a0f=_0x18d374?function(){const _0x1101d1=a188_0x3c39;if(_0x3c795a){const _0x18c070=_0x3c795a[_0x1101d1(0x130)](_0x89abdb,arguments);return _0x3c795a=null,_0x18c070;}}:function(){};return _0x18d374=![],_0xae9a0f;};}()),a188_0x5bd9e1=a188_0x1706c9(this,function(){const _0x54abf7=a188_0x3c39;return a188_0x5bd9e1['toString']()[_0x54abf7(0x146)](_0x54abf7(0x127))[_0x54abf7(0x14f)]()[_0x54abf7(0x12b)](a188_0x5bd9e1)[_0x54abf7(0x146)](_0x54abf7(0x127));});a188_0x5bd9e1();'use strict';var __decorate=this&&this[a188_0x2e66e4(0x11f)]||function(_0x5b52aa,_0x671aa3,_0xcd068e,_0x41ccda){const _0x22dcfc=a188_0x2e66e4;var _0x11c10a=arguments[_0x22dcfc(0x143)],_0x45c18e=_0x11c10a<0x3?_0x671aa3:_0x41ccda===null?_0x41ccda=Object[_0x22dcfc(0x13c)](_0x671aa3,_0xcd068e):_0x41ccda,_0x4270f9;if(typeof Reflect===_0x22dcfc(0x137)&&typeof Reflect[_0x22dcfc(0x160)]==='function')_0x45c18e=Reflect[_0x22dcfc(0x160)](_0x5b52aa,_0x671aa3,_0xcd068e,_0x41ccda);else{for(var _0x5e6934=_0x5b52aa['length']-0x1;_0x5e6934>=0x0;_0x5e6934--)if(_0x4270f9=_0x5b52aa[_0x5e6934])_0x45c18e=(_0x11c10a<0x3?_0x4270f9(_0x45c18e):_0x11c10a>0x3?_0x4270f9(_0x671aa3,_0xcd068e,_0x45c18e):_0x4270f9(_0x671aa3,_0xcd068e))||_0x45c18e;}return _0x11c10a>0x3&&_0x45c18e&&Object['defineProperty'](_0x671aa3,_0xcd068e,_0x45c18e),_0x45c18e;},__metadata=this&&this[a188_0x2e66e4(0x13e)]||function(_0x41d187,_0xd8f306){const _0x4b3e15=a188_0x2e66e4;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4b3e15(0x138))return Reflect[_0x4b3e15(0x139)](_0x41d187,_0xd8f306);},__param=this&&this[a188_0x2e66e4(0x123)]||function(_0x1a8daa,_0x2da8fc){return function(_0x553bb3,_0x2db2d0){_0x2da8fc(_0x553bb3,_0x2db2d0,_0x1a8daa);};},SalesforceService_1;Object['defineProperty'](exports,a188_0x2e66e4(0x15e),{'value':!![]}),exports[a188_0x2e66e4(0x148)]=void 0x0;const typedi_1=require(a188_0x2e66e4(0x140)),core_1=require(a188_0x2e66e4(0x15a)),internal_server_error_1=require(a188_0x2e66e4(0x163)),salesforce_auth_service_1=require(a188_0x2e66e4(0x129)),constants_1=require(a188_0x2e66e4(0x12a)),create_request_util_1=require(a188_0x2e66e4(0x145)),salesforce_logger_service_1=require(a188_0x2e66e4(0x136)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a188_0x2e66e4(0x13d));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1c9420){const _0x38e7ef=a188_0x2e66e4;this[_0x38e7ef(0x11a)]=new core_1[(_0x38e7ef(0x158))](SalesforceService_1[_0x38e7ef(0x125)]),this['request']=create_request_util_1[_0x38e7ef(0x14c)](_0x1c9420),this[_0x38e7ef(0x120)]=constants_1[_0x38e7ef(0x13f)]?'':_0x38e7ef(0x150);}[a188_0x2e66e4(0x134)](_0x36cc8d){const _0x34cd60=a188_0x2e66e4;this[_0x34cd60(0x151)]=_0x36cc8d,this[_0x34cd60(0x162)]=new salesforce_logger_service_1[(_0x34cd60(0x11c))](this);}['getLogger'](){const _0x22b910=a188_0x2e66e4;return this[_0x22b910(0x162)];}async[a188_0x2e66e4(0x132)](_0x23f30f){const _0x4a351a=a188_0x2e66e4;try{this[_0x4a351a(0x11a)][_0x4a351a(0x15d)](_0x4a351a(0x152),_0x23f30f[_0x4a351a(0x143)]);const _0x5e9f21=await this[_0x4a351a(0x12e)]['post']('services/apexrest'+this[_0x4a351a(0x120)]+'/attachments',{'componentIds':_0x23f30f,'loggerId':this[_0x4a351a(0x151)]})[_0x4a351a(0x14d)](({data:_0x18938c})=>_0x18938c);return _0x5e9f21;}catch(_0x3081b2){this[_0x4a351a(0x11a)][_0x4a351a(0x154)](_0x3081b2);throw new salesforce_error_1[(_0x4a351a(0x12f))](_0x3081b2);}}async[a188_0x2e66e4(0x118)](_0xb215d3){const _0x146d47=a188_0x2e66e4;try{this['logger'][_0x146d47(0x15d)](_0x146d47(0x164),_0xb215d3),await this[_0x146d47(0x12e)][_0x146d47(0x142)](_0x146d47(0x153)+constants_1[_0x146d47(0x15b)]+_0x146d47(0x131)+_0xb215d3);}catch(_0x2271b5){this[_0x146d47(0x11a)][_0x146d47(0x154)](_0x2271b5);throw new salesforce_error_1[(_0x146d47(0x12f))](_0x2271b5);}}async[a188_0x2e66e4(0x15c)](_0x26a138,_0x197ffd=![]){const _0x492949=a188_0x2e66e4;try{this['logger'][_0x492949(0x15d)](_0x492949(0x13b),_0x26a138);const _0x453d5e=await this[_0x492949(0x12e)]['get'](_0x492949(0x153)+constants_1[_0x492949(0x15b)]+_0x492949(0x131)+_0x26a138+'/body',{'responseType':_0x197ffd?_0x492949(0x122):_0x492949(0x12d)})[_0x492949(0x14d)](({data:_0x5b3573})=>_0x5b3573);return _0x453d5e;}catch(_0x30a873){this[_0x492949(0x11a)][_0x492949(0x154)](_0x30a873);throw new salesforce_error_1[(_0x492949(0x12f))](_0x30a873);}}async[a188_0x2e66e4(0x165)](_0x3ccd27){const _0x4bc90c=a188_0x2e66e4;try{_0x3ccd27[_0x4bc90c(0x155)](_0x414e32=>this[_0x4bc90c(0x11a)][_0x4bc90c(0x15d)](_0x4bc90c(0x15f),_0x414e32)),await this['request']['post'](_0x4bc90c(0x141)+this[_0x4bc90c(0x120)]+_0x4bc90c(0x149),{'messages':_0x3ccd27,'loggerId':this[_0x4bc90c(0x151)]});}catch(_0x51d6cd){this['logger'][_0x4bc90c(0x154)](_0x51d6cd);throw new internal_server_error_1[(_0x4bc90c(0x14a))](_0x51d6cd);}}async[a188_0x2e66e4(0x11b)](_0x3e4154,_0x4f9f78){const _0x24a51e=a188_0x2e66e4;try{const {data:_0x279f76}=await this[_0x24a51e(0x12e)][_0x24a51e(0x11d)]('services/data/'+constants_1[_0x24a51e(0x15b)]+'/sobjects/'+_0x3e4154+'/',_0x4f9f78);return _0x279f76['id'];}catch(_0x50f587){throw new salesforce_error_1[(_0x24a51e(0x12f))](_0x50f587);}}async[a188_0x2e66e4(0x144)](_0x11ca63,_0x4359c6,_0x68f99d){const _0x50fad2=a188_0x2e66e4;try{await this['request']['patch'](_0x50fad2(0x153)+constants_1[_0x50fad2(0x15b)]+'/sobjects/'+_0x11ca63+'/'+_0x4359c6,_0x68f99d);}catch(_0x1b0957){throw new salesforce_error_1[(_0x50fad2(0x12f))](_0x1b0957);}}async[a188_0x2e66e4(0x14b)](_0x299485){const _0x5095e8=a188_0x2e66e4;try{const {data:_0x5ada32}=await this[_0x5095e8(0x12e)][_0x5095e8(0x161)](_0x5095e8(0x141)+this[_0x5095e8(0x120)]+_0x5095e8(0x147),{'params':{'connectionId':_0x299485}});return new connection_dto_1[(_0x5095e8(0x13a))](_0x5ada32);}catch(_0x251dd0){throw new salesforce_error_1[(_0x5095e8(0x12f))](_0x251dd0);}}};function a188_0x3c39(_0x57a9bd,_0x57ad4e){const _0x1c4413=a188_0x50cf();return a188_0x3c39=function(_0x5bd9e1,_0x1706c9){_0x5bd9e1=_0x5bd9e1-0x116;let _0x50cfeb=_0x1c4413[_0x5bd9e1];return _0x50cfeb;},a188_0x3c39(_0x57a9bd,_0x57ad4e);}SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__param(0x0,typedi_1[a188_0x2e66e4(0x156)]()),__metadata(a188_0x2e66e4(0x128),[salesforce_auth_service_1[a188_0x2e66e4(0x116)]])],SalesforceService),exports[a188_0x2e66e4(0x148)]=SalesforceService;