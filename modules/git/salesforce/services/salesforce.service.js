const a188_0x26d994=a188_0x3df9;(function(_0x38731b,_0x45b2b9){const _0x5c2a2e=a188_0x3df9,_0xc2e0cd=_0x38731b();while(!![]){try{const _0x239737=-parseInt(_0x5c2a2e(0x19a))/0x1*(-parseInt(_0x5c2a2e(0x1a0))/0x2)+parseInt(_0x5c2a2e(0x194))/0x3*(-parseInt(_0x5c2a2e(0x1b5))/0x4)+-parseInt(_0x5c2a2e(0x1d2))/0x5*(-parseInt(_0x5c2a2e(0x1bb))/0x6)+parseInt(_0x5c2a2e(0x1ca))/0x7*(parseInt(_0x5c2a2e(0x1aa))/0x8)+parseInt(_0x5c2a2e(0x1a8))/0x9+parseInt(_0x5c2a2e(0x1c0))/0xa+-parseInt(_0x5c2a2e(0x1ac))/0xb;if(_0x239737===_0x45b2b9)break;else _0xc2e0cd['push'](_0xc2e0cd['shift']());}catch(_0x16bfd6){_0xc2e0cd['push'](_0xc2e0cd['shift']());}}}(a188_0x1ad3,0xc4a58));const a188_0x45e963=(function(){let _0x260f9e=!![];return function(_0x13d764,_0x12e70d){const _0xa9954f=_0x260f9e?function(){if(_0x12e70d){const _0x5af23c=_0x12e70d['apply'](_0x13d764,arguments);return _0x12e70d=null,_0x5af23c;}}:function(){};return _0x260f9e=![],_0xa9954f;};}()),a188_0x19d5f8=a188_0x45e963(this,function(){const _0x19884c=a188_0x3df9;return a188_0x19d5f8[_0x19884c(0x1ba)]()[_0x19884c(0x1c4)]('(((.+)+)+)+$')['toString']()[_0x19884c(0x1cc)](a188_0x19d5f8)[_0x19884c(0x1c4)](_0x19884c(0x19e));});function a188_0x3df9(_0x4e5db6,_0x361746){const _0x1ca7dc=a188_0x1ad3();return a188_0x3df9=function(_0x19d5f8,_0x45e963){_0x19d5f8=_0x19d5f8-0x186;let _0x1ad36c=_0x1ca7dc[_0x19d5f8];return _0x1ad36c;},a188_0x3df9(_0x4e5db6,_0x361746);}a188_0x19d5f8();'use strict';var __decorate=this&&this[a188_0x26d994(0x1a2)]||function(_0x57735f,_0x16d71c,_0x13506c,_0x3929c7){const _0x13ba91=a188_0x26d994;var _0x41246f=arguments[_0x13ba91(0x19b)],_0x4100c8=_0x41246f<0x3?_0x16d71c:_0x3929c7===null?_0x3929c7=Object['getOwnPropertyDescriptor'](_0x16d71c,_0x13506c):_0x3929c7,_0x2a8ee3;if(typeof Reflect==='object'&&typeof Reflect[_0x13ba91(0x18b)]===_0x13ba91(0x1b4))_0x4100c8=Reflect[_0x13ba91(0x18b)](_0x57735f,_0x16d71c,_0x13506c,_0x3929c7);else{for(var _0x4b15a3=_0x57735f['length']-0x1;_0x4b15a3>=0x0;_0x4b15a3--)if(_0x2a8ee3=_0x57735f[_0x4b15a3])_0x4100c8=(_0x41246f<0x3?_0x2a8ee3(_0x4100c8):_0x41246f>0x3?_0x2a8ee3(_0x16d71c,_0x13506c,_0x4100c8):_0x2a8ee3(_0x16d71c,_0x13506c))||_0x4100c8;}return _0x41246f>0x3&&_0x4100c8&&Object[_0x13ba91(0x189)](_0x16d71c,_0x13506c,_0x4100c8),_0x4100c8;},__metadata=this&&this['__metadata']||function(_0x5b3e82,_0x377cfc){const _0x19382d=a188_0x26d994;if(typeof Reflect===_0x19382d(0x1c6)&&typeof Reflect[_0x19382d(0x1cd)]==='function')return Reflect[_0x19382d(0x1cd)](_0x5b3e82,_0x377cfc);},__param=this&&this[a188_0x26d994(0x190)]||function(_0x30cb61,_0x555e1c){return function(_0x2470f1,_0x45fd1a){_0x555e1c(_0x2470f1,_0x45fd1a,_0x30cb61);};},SalesforceService_1;function a188_0x1ad3(){const _0x2d0031=['createObject','SalesforceService','get','loggerId','SalesforceLogger','2409102pnQQyO','/sobjects/Attachment/','2306912JEyvSQ','patchObject','8822880qpwECz','../errors/salesforce.error','services/apexrest','/sobjects/','services/data/','forEach','ConnectionDto','/body','function','4snuSKD','logger','request','../../../../constants','InternalServerError','toString','428418ptDrnp','delete','setLoggerId','/connection','text','2061640MCscQX','SalesforceAuthService','../../../../core/errors/internal-server.error','then','search','log','object','typedi','retrieveComponents','design:paramtypes','7pNfKwn','arraybuffer','constructor','metadata','retrieveAttachment','delete\x20attachment\x20%s\x20from\x20salesforce','__esModule','post','80yJhwMw','SALESFORCE_API_VERSION','internalLogger','deleteAttachment','SalesforceError','defineProperty','/flosum_git','decorate','error','./salesforce-auth.service','/attachments','namespace','__param','IGNORE_FLOSUM_GIT_NAMESPACE','[message]\x20%s','../dto/connection.dto','3900246DAFlQV','Service','name','getLogger','patch','sendLog','159EUPqRU','length','retrieve\x20components\x20\x20%d\x20from\x20salesforce','Logger','(((.+)+)+)+$','fetchConnection','12616LUSain','../../../../core','__decorate'];a188_0x1ad3=function(){return _0x2d0031;};return a188_0x1ad3();}Object[a188_0x26d994(0x189)](exports,a188_0x26d994(0x1d0),{'value':!![]}),exports[a188_0x26d994(0x1a4)]=void 0x0;const typedi_1=require(a188_0x26d994(0x1c7)),core_1=require(a188_0x26d994(0x1a1)),internal_server_error_1=require(a188_0x26d994(0x1c2)),salesforce_auth_service_1=require(a188_0x26d994(0x18d)),constants_1=require(a188_0x26d994(0x1b8)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a188_0x26d994(0x1ad)),connection_dto_1=require(a188_0x26d994(0x193));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x24a06e){const _0xfff5d9=a188_0x26d994;this[_0xfff5d9(0x1b6)]=new core_1[(_0xfff5d9(0x19d))](SalesforceService_1[_0xfff5d9(0x196)]),this[_0xfff5d9(0x1b7)]=create_request_util_1['createSalesforceRequest'](_0x24a06e),this[_0xfff5d9(0x18f)]=constants_1[_0xfff5d9(0x191)]?'':_0xfff5d9(0x18a);}[a188_0x26d994(0x1bd)](_0x1bde73){const _0x448dd7=a188_0x26d994;this[_0x448dd7(0x1a6)]=_0x1bde73,this[_0x448dd7(0x186)]=new salesforce_logger_service_1[(_0x448dd7(0x1a7))](this);}[a188_0x26d994(0x197)](){const _0x557e54=a188_0x26d994;return this[_0x557e54(0x186)];}async[a188_0x26d994(0x1c8)](_0x208571){const _0xd98fed=a188_0x26d994;try{this[_0xd98fed(0x1b6)]['log'](_0xd98fed(0x19c),_0x208571[_0xd98fed(0x19b)]);const _0x4acf59=await this[_0xd98fed(0x1b7)][_0xd98fed(0x1d1)](_0xd98fed(0x1ae)+this[_0xd98fed(0x18f)]+_0xd98fed(0x18e),{'componentIds':_0x208571,'loggerId':this['loggerId']})['then'](({data:_0x1fa0e5})=>_0x1fa0e5);return _0x4acf59;}catch(_0x423568){this[_0xd98fed(0x1b6)]['error'](_0x423568);throw new salesforce_error_1[(_0xd98fed(0x188))](_0x423568);}}async[a188_0x26d994(0x187)](_0x3e8426){const _0xd87a22=a188_0x26d994;try{this[_0xd87a22(0x1b6)][_0xd87a22(0x1c5)](_0xd87a22(0x1cf),_0x3e8426),await this['request'][_0xd87a22(0x1bc)]('services/data/'+constants_1[_0xd87a22(0x1d3)]+_0xd87a22(0x1a9)+_0x3e8426);}catch(_0x5693ce){this[_0xd87a22(0x1b6)][_0xd87a22(0x18c)](_0x5693ce);throw new salesforce_error_1[(_0xd87a22(0x188))](_0x5693ce);}}async[a188_0x26d994(0x1ce)](_0x1f820c,_0x484596=![]){const _0x1e9417=a188_0x26d994;try{this[_0x1e9417(0x1b6)][_0x1e9417(0x1c5)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x1f820c);const _0x4bc10a=await this['request'][_0x1e9417(0x1a5)](_0x1e9417(0x1b0)+constants_1['SALESFORCE_API_VERSION']+_0x1e9417(0x1a9)+_0x1f820c+_0x1e9417(0x1b3),{'responseType':_0x484596?_0x1e9417(0x1cb):_0x1e9417(0x1bf)})[_0x1e9417(0x1c3)](({data:_0x136f07})=>_0x136f07);return _0x4bc10a;}catch(_0x4e7d2e){this[_0x1e9417(0x1b6)][_0x1e9417(0x18c)](_0x4e7d2e);throw new salesforce_error_1[(_0x1e9417(0x188))](_0x4e7d2e);}}async[a188_0x26d994(0x199)](_0x2c72c5){const _0x41d08e=a188_0x26d994;try{_0x2c72c5[_0x41d08e(0x1b1)](_0x13e1c7=>this[_0x41d08e(0x1b6)][_0x41d08e(0x1c5)](_0x41d08e(0x192),_0x13e1c7)),await this['request'][_0x41d08e(0x1d1)](_0x41d08e(0x1ae)+this[_0x41d08e(0x18f)]+'/logger',{'messages':_0x2c72c5,'loggerId':this[_0x41d08e(0x1a6)]});}catch(_0x26fc94){this[_0x41d08e(0x1b6)][_0x41d08e(0x18c)](_0x26fc94);throw new internal_server_error_1[(_0x41d08e(0x1b9))](_0x26fc94);}}async[a188_0x26d994(0x1a3)](_0x397071,_0x5ef75f){const _0x4b59b4=a188_0x26d994;try{const {data:_0x62567a}=await this[_0x4b59b4(0x1b7)][_0x4b59b4(0x1d1)](_0x4b59b4(0x1b0)+constants_1[_0x4b59b4(0x1d3)]+_0x4b59b4(0x1af)+_0x397071+'/',_0x5ef75f);return _0x62567a['id'];}catch(_0x40a199){throw new salesforce_error_1[(_0x4b59b4(0x188))](_0x40a199);}}async[a188_0x26d994(0x1ab)](_0x46c406,_0x2067ca,_0x2f195f){const _0x5664dd=a188_0x26d994;try{await this[_0x5664dd(0x1b7)][_0x5664dd(0x198)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x46c406+'/'+_0x2067ca,_0x2f195f);}catch(_0x18e64f){throw new salesforce_error_1[(_0x5664dd(0x188))](_0x18e64f);}}async[a188_0x26d994(0x19f)](_0x3e60b4){const _0x12bfa1=a188_0x26d994;try{const {data:_0x2481c4}=await this[_0x12bfa1(0x1b7)][_0x12bfa1(0x1a5)](_0x12bfa1(0x1ae)+this[_0x12bfa1(0x18f)]+_0x12bfa1(0x1be),{'params':{'connectionId':_0x3e60b4}});return new connection_dto_1[(_0x12bfa1(0x1b2))](_0x2481c4);}catch(_0x309f8e){throw new salesforce_error_1[(_0x12bfa1(0x188))](_0x309f8e);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a188_0x26d994(0x195)]({'transient':!![]}),__param(0x0,typedi_1['Inject']()),__metadata(a188_0x26d994(0x1c9),[salesforce_auth_service_1[a188_0x26d994(0x1c1)]])],SalesforceService),exports['SalesforceService']=SalesforceService;