const a272_0x5a046f=a272_0x209c;(function(_0x1f2973,_0x9a9d9c){const _0x2b5682=a272_0x209c,_0x1818f1=_0x1f2973();while(!![]){try{const _0x5fda57=parseInt(_0x2b5682(0x233))/0x1*(parseInt(_0x2b5682(0x20a))/0x2)+parseInt(_0x2b5682(0x1f3))/0x3+-parseInt(_0x2b5682(0x226))/0x4+-parseInt(_0x2b5682(0x1f8))/0x5*(-parseInt(_0x2b5682(0x200))/0x6)+-parseInt(_0x2b5682(0x224))/0x7+parseInt(_0x2b5682(0x221))/0x8*(-parseInt(_0x2b5682(0x1fd))/0x9)+parseInt(_0x2b5682(0x1ec))/0xa*(parseInt(_0x2b5682(0x21d))/0xb);if(_0x5fda57===_0x9a9d9c)break;else _0x1818f1['push'](_0x1818f1['shift']());}catch(_0xddee9f){_0x1818f1['push'](_0x1818f1['shift']());}}}(a272_0x3f9f,0x4706d));function a272_0x209c(_0x8917af,_0xb3b1c3){const _0x2c419c=a272_0x3f9f();return a272_0x209c=function(_0x20bc4a,_0x2bbb60){_0x20bc4a=_0x20bc4a-0x1ec;let _0x3f9fa7=_0x2c419c[_0x20bc4a];return _0x3f9fa7;},a272_0x209c(_0x8917af,_0xb3b1c3);}const a272_0x2bbb60=(function(){let _0x224bd5=!![];return function(_0x454f10,_0x2db632){const _0x171195=_0x224bd5?function(){const _0x1c3ea5=a272_0x209c;if(_0x2db632){const _0x2561aa=_0x2db632[_0x1c3ea5(0x231)](_0x454f10,arguments);return _0x2db632=null,_0x2561aa;}}:function(){};return _0x224bd5=![],_0x171195;};}()),a272_0x20bc4a=a272_0x2bbb60(this,function(){const _0x2d2db6=a272_0x209c;return a272_0x20bc4a['toString']()[_0x2d2db6(0x203)](_0x2d2db6(0x1f0))[_0x2d2db6(0x227)]()['constructor'](a272_0x20bc4a)[_0x2d2db6(0x203)]('(((.+)+)+)+$');});a272_0x20bc4a();'use strict';function a272_0x3f9f(){const _0x459cf3=['../classes/bulk-components-retriever','patch','namespace','SalesforceService','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','error','../../../../core','apply','/logger','1CohxHc','services/apexrest','getLogger','retrieveComponents','delete','forEach','170ysHFrP','request','[message]\x20%s','SalesforceLogger','(((.+)+)+)+$','function','name','219924dvHLdI','__param','IGNORE_FLOSUM_GIT_NAMESPACE','Retrieve\x20attachment\x20%s\x20from\x20salesforce','services/data/','5tOqZwE','deleteAttachment','patchObject','object','Service','900ygpUGT','metadata','get','1622406JZWEJP','typedi','__decorate','search','BulkComponentsRetriever','/body','arraybuffer','log','sendLog','./salesforce-auth.service','573796JEbwoM','SalesforceError','createObject','setLoggerId','retrieve','Inject','SalesforceAuthService','SALESFORCE_API_VERSION','createSalesforceRequest','loggerId','../dto/connection.dto','Delete\x20attachment\x20%s\x20from\x20salesforce','../../../../core/errors/internal-server.error','/sobjects/Attachment/','post','fetchConnection','__metadata','/flosum_git','../utils/create-request.util','485111lxtJJC','length','__esModule','logger','31016OSQvAn','/sobjects/','defineProperty','1849981sITZDk','internalLogger','1749664zfhyYG','toString','ConnectionDto','text'];a272_0x3f9f=function(){return _0x459cf3;};return a272_0x3f9f();}var __decorate=this&&this[a272_0x5a046f(0x202)]||function(_0x557af6,_0x4eaf73,_0x229ee8,_0x5dc924){const _0x5d7855=a272_0x5a046f;var _0x3a4acf=arguments[_0x5d7855(0x21e)],_0x30c1b0=_0x3a4acf<0x3?_0x4eaf73:_0x5dc924===null?_0x5dc924=Object['getOwnPropertyDescriptor'](_0x4eaf73,_0x229ee8):_0x5dc924,_0x54f65b;if(typeof Reflect===_0x5d7855(0x1fb)&&typeof Reflect['decorate']===_0x5d7855(0x1f1))_0x30c1b0=Reflect['decorate'](_0x557af6,_0x4eaf73,_0x229ee8,_0x5dc924);else{for(var _0x3628fa=_0x557af6[_0x5d7855(0x21e)]-0x1;_0x3628fa>=0x0;_0x3628fa--)if(_0x54f65b=_0x557af6[_0x3628fa])_0x30c1b0=(_0x3a4acf<0x3?_0x54f65b(_0x30c1b0):_0x3a4acf>0x3?_0x54f65b(_0x4eaf73,_0x229ee8,_0x30c1b0):_0x54f65b(_0x4eaf73,_0x229ee8))||_0x30c1b0;}return _0x3a4acf>0x3&&_0x30c1b0&&Object[_0x5d7855(0x223)](_0x4eaf73,_0x229ee8,_0x30c1b0),_0x30c1b0;},__metadata=this&&this[a272_0x5a046f(0x21a)]||function(_0x2d713f,_0xf5c6d8){const _0x436a90=a272_0x5a046f;if(typeof Reflect===_0x436a90(0x1fb)&&typeof Reflect[_0x436a90(0x1fe)]===_0x436a90(0x1f1))return Reflect[_0x436a90(0x1fe)](_0x2d713f,_0xf5c6d8);},__param=this&&this[a272_0x5a046f(0x1f4)]||function(_0x513404,_0x3865d8){return function(_0x20a254,_0x11ee30){_0x3865d8(_0x20a254,_0x11ee30,_0x513404);};},SalesforceService_1;Object[a272_0x5a046f(0x223)](exports,a272_0x5a046f(0x21f),{'value':!![]}),exports[a272_0x5a046f(0x22d)]=void 0x0;const typedi_1=require(a272_0x5a046f(0x201)),core_1=require(a272_0x5a046f(0x230)),internal_server_error_1=require(a272_0x5a046f(0x216)),salesforce_auth_service_1=require(a272_0x5a046f(0x209)),constants_1=require('../../../../constants'),create_request_util_1=require(a272_0x5a046f(0x21c)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a272_0x5a046f(0x214)),bulk_components_retriever_1=require(a272_0x5a046f(0x22a));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x22c60c){const _0xdba031=a272_0x5a046f;this[_0xdba031(0x220)]=new core_1['Logger'](SalesforceService_1[_0xdba031(0x1f2)]),this[_0xdba031(0x1ed)]=(0x0,create_request_util_1[_0xdba031(0x212)])(_0x22c60c),this[_0xdba031(0x22c)]=constants_1[_0xdba031(0x1f5)]?'':_0xdba031(0x21b);}[a272_0x5a046f(0x20d)](_0x51e0eb){const _0x5935e9=a272_0x5a046f;this[_0x5935e9(0x213)]=_0x51e0eb,this['internalLogger']=new salesforce_logger_service_1[(_0x5935e9(0x1ef))](this);}[a272_0x5a046f(0x235)](){const _0x17bfb0=a272_0x5a046f;return this[_0x17bfb0(0x225)];}async[a272_0x5a046f(0x236)](_0x1002e6){const _0x2e9f2d=a272_0x5a046f;try{this['logger']['log'](_0x2e9f2d(0x22e),_0x1002e6[_0x2e9f2d(0x21e)]);const _0x7b4d2c=new bulk_components_retriever_1[(_0x2e9f2d(0x204))]({'request':this[_0x2e9f2d(0x1ed)],'ids':_0x1002e6}),_0x3333bc=await _0x7b4d2c[_0x2e9f2d(0x20e)]();return _0x3333bc;}catch(_0x3ff4fc){this[_0x2e9f2d(0x220)][_0x2e9f2d(0x22f)](_0x3ff4fc);throw new salesforce_error_1['SalesforceError'](_0x3ff4fc);}}async[a272_0x5a046f(0x1f9)](_0x4929a3){const _0x31df1b=a272_0x5a046f;try{this[_0x31df1b(0x220)][_0x31df1b(0x207)](_0x31df1b(0x215),_0x4929a3),await this[_0x31df1b(0x1ed)][_0x31df1b(0x237)](_0x31df1b(0x1f7)+constants_1[_0x31df1b(0x211)]+_0x31df1b(0x217)+_0x4929a3);}catch(_0x97692e){this[_0x31df1b(0x220)][_0x31df1b(0x22f)](_0x97692e);throw new salesforce_error_1[(_0x31df1b(0x20b))](_0x97692e);}}async['retrieveAttachment'](_0x330f64,_0x237d4f=![]){const _0x2ddd75=a272_0x5a046f;try{this['logger'][_0x2ddd75(0x207)](_0x2ddd75(0x1f6),_0x330f64);const _0x1ab5da=await this['request'][_0x2ddd75(0x1ff)](_0x2ddd75(0x1f7)+constants_1[_0x2ddd75(0x211)]+_0x2ddd75(0x217)+_0x330f64+_0x2ddd75(0x205),{'responseType':_0x237d4f?_0x2ddd75(0x206):_0x2ddd75(0x229)})['then'](({data:_0x66b707})=>_0x66b707);return _0x1ab5da;}catch(_0x2dabd8){this[_0x2ddd75(0x220)][_0x2ddd75(0x22f)](_0x2dabd8);throw new salesforce_error_1[(_0x2ddd75(0x20b))](_0x2dabd8);}}async[a272_0x5a046f(0x208)](_0x882ee8){const _0x3df739=a272_0x5a046f;try{_0x882ee8[_0x3df739(0x238)](_0x22da9f=>this[_0x3df739(0x220)]['log'](_0x3df739(0x1ee),_0x22da9f)),await this['request'][_0x3df739(0x218)](_0x3df739(0x234)+this[_0x3df739(0x22c)]+_0x3df739(0x232),{'messages':_0x882ee8,'loggerId':this[_0x3df739(0x213)]});}catch(_0x5421d8){this['logger'][_0x3df739(0x22f)](_0x5421d8);throw new internal_server_error_1['InternalServerError'](_0x5421d8);}}async[a272_0x5a046f(0x20c)](_0x4d6d83,_0x5d675b){const _0x301e43=a272_0x5a046f;try{const {data:_0x138519}=await this[_0x301e43(0x1ed)][_0x301e43(0x218)](_0x301e43(0x1f7)+constants_1[_0x301e43(0x211)]+_0x301e43(0x222)+_0x4d6d83+'/',_0x5d675b);return _0x138519['id'];}catch(_0x3c78d2){throw new salesforce_error_1[(_0x301e43(0x20b))](_0x3c78d2);}}async[a272_0x5a046f(0x1fa)](_0x3fd227,_0x42737f,_0x5b91dc){const _0x836c60=a272_0x5a046f;try{await this[_0x836c60(0x1ed)][_0x836c60(0x22b)](_0x836c60(0x1f7)+constants_1[_0x836c60(0x211)]+_0x836c60(0x222)+_0x3fd227+'/'+_0x42737f,_0x5b91dc);}catch(_0x3ea04d){throw new salesforce_error_1[(_0x836c60(0x20b))](_0x3ea04d);}}async[a272_0x5a046f(0x219)](_0x51ca9e){const _0x1d7348=a272_0x5a046f;try{const {data:_0xfe5468}=await this['request']['get'](_0x1d7348(0x234)+this[_0x1d7348(0x22c)]+'/connection',{'params':{'connectionId':_0x51ca9e}});return new connection_dto_1[(_0x1d7348(0x228))](_0xfe5468);}catch(_0xf44a5a){throw new salesforce_error_1[(_0x1d7348(0x20b))](_0xf44a5a);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a272_0x5a046f(0x1fc)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a272_0x5a046f(0x20f)])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a272_0x5a046f(0x210)]])],SalesforceService),exports[a272_0x5a046f(0x22d)]=SalesforceService;