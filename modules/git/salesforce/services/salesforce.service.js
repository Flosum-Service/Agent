const a245_0x53593d=a245_0x5a77;(function(_0x545822,_0x5ed9da){const _0x2fc44c=a245_0x5a77,_0x5c0cbd=_0x545822();while(!![]){try{const _0x52fc6b=-parseInt(_0x2fc44c(0x140))/0x1+-parseInt(_0x2fc44c(0x14e))/0x2*(-parseInt(_0x2fc44c(0x14f))/0x3)+parseInt(_0x2fc44c(0x135))/0x4+parseInt(_0x2fc44c(0x138))/0x5+-parseInt(_0x2fc44c(0x12f))/0x6+-parseInt(_0x2fc44c(0x151))/0x7*(-parseInt(_0x2fc44c(0x134))/0x8)+parseInt(_0x2fc44c(0x13a))/0x9;if(_0x52fc6b===_0x5ed9da)break;else _0x5c0cbd['push'](_0x5c0cbd['shift']());}catch(_0x1c3c93){_0x5c0cbd['push'](_0x5c0cbd['shift']());}}}(a245_0xbbe4,0xd7cf7));const a245_0x26db26=(function(){let _0x31ecea=!![];return function(_0xff8ba8,_0x1bf272){const _0x52dad6=_0x31ecea?function(){const _0x40f6a7=a245_0x5a77;if(_0x1bf272){const _0x26eb36=_0x1bf272[_0x40f6a7(0x14c)](_0xff8ba8,arguments);return _0x1bf272=null,_0x26eb36;}}:function(){};return _0x31ecea=![],_0x52dad6;};}()),a245_0x31123e=a245_0x26db26(this,function(){const _0x23dc2d=a245_0x5a77;return a245_0x31123e[_0x23dc2d(0x131)]()[_0x23dc2d(0x12c)](_0x23dc2d(0x111))[_0x23dc2d(0x131)]()[_0x23dc2d(0x12b)](a245_0x31123e)['search'](_0x23dc2d(0x111));});a245_0x31123e();'use strict';var __decorate=this&&this['__decorate']||function(_0x3a8a43,_0x3bd7ce,_0x58b5a5,_0x5a4fb5){const _0x49b40f=a245_0x5a77;var _0x6d3fdc=arguments[_0x49b40f(0x12e)],_0x21ba6f=_0x6d3fdc<0x3?_0x3bd7ce:_0x5a4fb5===null?_0x5a4fb5=Object[_0x49b40f(0x149)](_0x3bd7ce,_0x58b5a5):_0x5a4fb5,_0x23f2d8;if(typeof Reflect===_0x49b40f(0x133)&&typeof Reflect[_0x49b40f(0x10f)]===_0x49b40f(0x141))_0x21ba6f=Reflect[_0x49b40f(0x10f)](_0x3a8a43,_0x3bd7ce,_0x58b5a5,_0x5a4fb5);else{for(var _0x44278c=_0x3a8a43[_0x49b40f(0x12e)]-0x1;_0x44278c>=0x0;_0x44278c--)if(_0x23f2d8=_0x3a8a43[_0x44278c])_0x21ba6f=(_0x6d3fdc<0x3?_0x23f2d8(_0x21ba6f):_0x6d3fdc>0x3?_0x23f2d8(_0x3bd7ce,_0x58b5a5,_0x21ba6f):_0x23f2d8(_0x3bd7ce,_0x58b5a5))||_0x21ba6f;}return _0x6d3fdc>0x3&&_0x21ba6f&&Object[_0x49b40f(0x11a)](_0x3bd7ce,_0x58b5a5,_0x21ba6f),_0x21ba6f;},__metadata=this&&this[a245_0x53593d(0x146)]||function(_0x414cd1,_0x421c8e){const _0x3e68a9=a245_0x53593d;if(typeof Reflect===_0x3e68a9(0x133)&&typeof Reflect['metadata']===_0x3e68a9(0x141))return Reflect[_0x3e68a9(0x128)](_0x414cd1,_0x421c8e);},__param=this&&this['__param']||function(_0x3b8650,_0x27f14a){return function(_0x34ab50,_0x244cd6){_0x27f14a(_0x34ab50,_0x244cd6,_0x3b8650);};},SalesforceService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a245_0x53593d(0x132)]=void 0x0;function a245_0x5a77(_0x312a78,_0x491944){const _0x56943b=a245_0xbbe4();return a245_0x5a77=function(_0x31123e,_0x26db26){_0x31123e=_0x31123e-0x10a;let _0xbbe418=_0x56943b[_0x31123e];return _0xbbe418;},a245_0x5a77(_0x312a78,_0x491944);}function a245_0xbbe4(){const _0x4fce67=['2195860HJJODs','/logger','ConnectionDto','2229945lKsNlY','services/apexrest','301509iboXzN','../../../../constants','/attachments','/connection','createObject','error','1109925jzTnBy','function','retrieveAttachment','retrieve\x20components\x20\x20%d\x20from\x20salesforce','IGNORE_FLOSUM_GIT_NAMESPACE','logger','__metadata','[message]\x20%s','request','getOwnPropertyDescriptor','services/data/','Service','apply','fetchConnection','2OVVGEP','4825149peEtNf','../utils/create-request.util','945YuuVMU','/sobjects/','../dto/connection.dto','name','./salesforce-auth.service','log','decorate','/flosum_git','(((.+)+)+)+$','delete\x20attachment\x20%s\x20from\x20salesforce','SalesforceAuthService','./salesforce-logger.service','InternalServerError','../errors/salesforce.error','Logger','forEach','post','defineProperty','../../../../core','SalesforceError','patch','text','design:paramtypes','get','loggerId','/sobjects/Attachment/','retrieveComponents','internalLogger','delete','then','namespace','metadata','retrieve\x20attachment\x20%s\x20from\x20salesforce','SALESFORCE_API_VERSION','constructor','search','Inject','length','4716324SwxKRD','typedi','toString','SalesforceService','object','8480LmZwhl'];a245_0xbbe4=function(){return _0x4fce67;};return a245_0xbbe4();}const typedi_1=require(a245_0x53593d(0x130)),core_1=require(a245_0x53593d(0x11b)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a245_0x53593d(0x10d)),constants_1=require(a245_0x53593d(0x13b)),create_request_util_1=require(a245_0x53593d(0x150)),salesforce_logger_service_1=require(a245_0x53593d(0x114)),salesforce_error_1=require(a245_0x53593d(0x116)),connection_dto_1=require(a245_0x53593d(0x10b));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1f0c40){const _0x212472=a245_0x53593d;this[_0x212472(0x145)]=new core_1[(_0x212472(0x117))](SalesforceService_1[_0x212472(0x10c)]),this[_0x212472(0x148)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x1f0c40),this[_0x212472(0x127)]=constants_1[_0x212472(0x144)]?'':_0x212472(0x110);}['setLoggerId'](_0xe3140){const _0x3bf5c3=a245_0x53593d;this[_0x3bf5c3(0x121)]=_0xe3140,this[_0x3bf5c3(0x124)]=new salesforce_logger_service_1['SalesforceLogger'](this);}['getLogger'](){const _0x5c533c=a245_0x53593d;return this[_0x5c533c(0x124)];}async[a245_0x53593d(0x123)](_0x3a4762){const _0x2faa2a=a245_0x53593d;try{this[_0x2faa2a(0x145)][_0x2faa2a(0x10e)](_0x2faa2a(0x143),_0x3a4762['length']);const _0x3a795f=await this[_0x2faa2a(0x148)][_0x2faa2a(0x119)]('services/apexrest'+this[_0x2faa2a(0x127)]+_0x2faa2a(0x13c),{'componentIds':_0x3a4762,'loggerId':this[_0x2faa2a(0x121)]})[_0x2faa2a(0x126)](({data:_0xbfecc5})=>_0xbfecc5);return _0x3a795f;}catch(_0x4f830c){this[_0x2faa2a(0x145)][_0x2faa2a(0x13f)](_0x4f830c);throw new salesforce_error_1[(_0x2faa2a(0x11c))](_0x4f830c);}}async['deleteAttachment'](_0x334665){const _0x1475d0=a245_0x53593d;try{this[_0x1475d0(0x145)][_0x1475d0(0x10e)](_0x1475d0(0x112),_0x334665),await this['request'][_0x1475d0(0x125)]('services/data/'+constants_1[_0x1475d0(0x12a)]+_0x1475d0(0x122)+_0x334665);}catch(_0x2ecdbc){this['logger'][_0x1475d0(0x13f)](_0x2ecdbc);throw new salesforce_error_1[(_0x1475d0(0x11c))](_0x2ecdbc);}}async[a245_0x53593d(0x142)](_0x3f7960,_0xe30fa8=![]){const _0x136fb7=a245_0x53593d;try{this[_0x136fb7(0x145)][_0x136fb7(0x10e)](_0x136fb7(0x129),_0x3f7960);const _0xdd6b89=await this[_0x136fb7(0x148)][_0x136fb7(0x120)](_0x136fb7(0x14a)+constants_1[_0x136fb7(0x12a)]+_0x136fb7(0x122)+_0x3f7960+'/body',{'responseType':_0xe30fa8?'arraybuffer':_0x136fb7(0x11e)})[_0x136fb7(0x126)](({data:_0x36c673})=>_0x36c673);return _0xdd6b89;}catch(_0x341f4e){this[_0x136fb7(0x145)][_0x136fb7(0x13f)](_0x341f4e);throw new salesforce_error_1[(_0x136fb7(0x11c))](_0x341f4e);}}async['sendLog'](_0x461b7c){const _0x89aeee=a245_0x53593d;try{_0x461b7c[_0x89aeee(0x118)](_0x3aa7a3=>this['logger']['log'](_0x89aeee(0x147),_0x3aa7a3)),await this['request'][_0x89aeee(0x119)](_0x89aeee(0x139)+this['namespace']+_0x89aeee(0x136),{'messages':_0x461b7c,'loggerId':this[_0x89aeee(0x121)]});}catch(_0x4dcca9){this[_0x89aeee(0x145)]['error'](_0x4dcca9);throw new internal_server_error_1[(_0x89aeee(0x115))](_0x4dcca9);}}async[a245_0x53593d(0x13e)](_0x4bebcd,_0xa55b31){const _0x5b5953=a245_0x53593d;try{const {data:_0x207a28}=await this['request'][_0x5b5953(0x119)](_0x5b5953(0x14a)+constants_1[_0x5b5953(0x12a)]+'/sobjects/'+_0x4bebcd+'/',_0xa55b31);return _0x207a28['id'];}catch(_0x5f6c10){throw new salesforce_error_1[(_0x5b5953(0x11c))](_0x5f6c10);}}async['patchObject'](_0x4ee111,_0xcbd383,_0x125826){const _0x4b4f2b=a245_0x53593d;try{await this['request'][_0x4b4f2b(0x11d)](_0x4b4f2b(0x14a)+constants_1[_0x4b4f2b(0x12a)]+_0x4b4f2b(0x10a)+_0x4ee111+'/'+_0xcbd383,_0x125826);}catch(_0x831819){throw new salesforce_error_1['SalesforceError'](_0x831819);}}async[a245_0x53593d(0x14d)](_0x4cda3f){const _0x47086f=a245_0x53593d;try{const {data:_0x3bb8d9}=await this[_0x47086f(0x148)][_0x47086f(0x120)](_0x47086f(0x139)+this['namespace']+_0x47086f(0x13d),{'params':{'connectionId':_0x4cda3f}});return new connection_dto_1[(_0x47086f(0x137))](_0x3bb8d9);}catch(_0x8777cb){throw new salesforce_error_1[(_0x47086f(0x11c))](_0x8777cb);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a245_0x53593d(0x14b)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x53593d(0x12d)])()),__metadata(a245_0x53593d(0x11f),[salesforce_auth_service_1[a245_0x53593d(0x113)]])],SalesforceService),exports['SalesforceService']=SalesforceService;