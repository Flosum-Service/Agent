const a245_0x51d095=a245_0x3f4f;(function(_0x2036a2,_0x5d6651){const _0x32aada=a245_0x3f4f,_0x5d53ee=_0x2036a2();while(!![]){try{const _0x13783f=-parseInt(_0x32aada(0x1f4))/0x1+parseInt(_0x32aada(0x202))/0x2*(parseInt(_0x32aada(0x1d1))/0x3)+-parseInt(_0x32aada(0x1d4))/0x4+parseInt(_0x32aada(0x1c7))/0x5*(parseInt(_0x32aada(0x1cb))/0x6)+-parseInt(_0x32aada(0x1ec))/0x7+parseInt(_0x32aada(0x1d0))/0x8+parseInt(_0x32aada(0x1c9))/0x9*(parseInt(_0x32aada(0x1fb))/0xa);if(_0x13783f===_0x5d6651)break;else _0x5d53ee['push'](_0x5d53ee['shift']());}catch(_0x492719){_0x5d53ee['push'](_0x5d53ee['shift']());}}}(a245_0x252e,0xef896));const a245_0x1972fc=(function(){let _0x12d73f=!![];return function(_0xff2be8,_0x55753e){const _0x1b8393=_0x12d73f?function(){const _0x1bb8fe=a245_0x3f4f;if(_0x55753e){const _0x5e6516=_0x55753e[_0x1bb8fe(0x1cf)](_0xff2be8,arguments);return _0x55753e=null,_0x5e6516;}}:function(){};return _0x12d73f=![],_0x1b8393;};}()),a245_0x3eaabf=a245_0x1972fc(this,function(){const _0x5d70ad=a245_0x3f4f;return a245_0x3eaabf[_0x5d70ad(0x1fd)]()[_0x5d70ad(0x1e4)](_0x5d70ad(0x200))[_0x5d70ad(0x1fd)]()['constructor'](a245_0x3eaabf)[_0x5d70ad(0x1e4)](_0x5d70ad(0x200));});a245_0x3eaabf();function a245_0x252e(){const _0x1835dc=['InternalServerError','delete','get','__param','/flosum_git','SALESFORCE_API_VERSION','search','getLogger','../../../../core','then','retrieve\x20components\x20\x20%d\x20from\x20salesforce','deleteAttachment','/connection','IGNORE_FLOSUM_GIT_NAMESPACE','11438812NLJTIV','./salesforce-auth.service','fetchConnection','services/data/','delete\x20attachment\x20%s\x20from\x20salesforce','name','Logger','setLoggerId','48761xtATLN','defineProperty','retrieve\x20attachment\x20%s\x20from\x20salesforce','/body','patch','SalesforceLogger','logger','17912770WRQbAD','namespace','toString','Inject','ConnectionDto','(((.+)+)+)+$','Service','45956ECOSvL','SalesforceAuthService','length','services/apexrest','__decorate','log','SalesforceService','../dto/connection.dto','../utils/create-request.util','./salesforce-logger.service','post','/attachments','metadata','211920fGInYk','arraybuffer','9AsuVeX','internalLogger','96zGysaN','decorate','request','__metadata','apply','11956608abzJDV','33bRTHRh','getOwnPropertyDescriptor','__esModule','6210944AZlWXb','error','../../../../core/errors/internal-server.error','function','/sobjects/Attachment/','[message]\x20%s','loggerId','SalesforceError','patchObject','/sobjects/'];a245_0x252e=function(){return _0x1835dc;};return a245_0x252e();}'use strict';function a245_0x3f4f(_0x48460c,_0x4ff322){const _0x69a368=a245_0x252e();return a245_0x3f4f=function(_0x3eaabf,_0x1972fc){_0x3eaabf=_0x3eaabf-0x1c4;let _0x252e03=_0x69a368[_0x3eaabf];return _0x252e03;},a245_0x3f4f(_0x48460c,_0x4ff322);}var __decorate=this&&this[a245_0x51d095(0x206)]||function(_0xc25270,_0x5a14a9,_0x336828,_0x21a014){const _0xbbec7=a245_0x51d095;var _0x3338de=arguments['length'],_0x57779b=_0x3338de<0x3?_0x5a14a9:_0x21a014===null?_0x21a014=Object[_0xbbec7(0x1d2)](_0x5a14a9,_0x336828):_0x21a014,_0x1a0cbd;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xbbec7(0x1d7))_0x57779b=Reflect[_0xbbec7(0x1cc)](_0xc25270,_0x5a14a9,_0x336828,_0x21a014);else{for(var _0x518555=_0xc25270[_0xbbec7(0x204)]-0x1;_0x518555>=0x0;_0x518555--)if(_0x1a0cbd=_0xc25270[_0x518555])_0x57779b=(_0x3338de<0x3?_0x1a0cbd(_0x57779b):_0x3338de>0x3?_0x1a0cbd(_0x5a14a9,_0x336828,_0x57779b):_0x1a0cbd(_0x5a14a9,_0x336828))||_0x57779b;}return _0x3338de>0x3&&_0x57779b&&Object[_0xbbec7(0x1f5)](_0x5a14a9,_0x336828,_0x57779b),_0x57779b;},__metadata=this&&this[a245_0x51d095(0x1ce)]||function(_0x56e48e,_0x2d6442){const _0x37e2a2=a245_0x51d095;if(typeof Reflect==='object'&&typeof Reflect[_0x37e2a2(0x1c6)]===_0x37e2a2(0x1d7))return Reflect[_0x37e2a2(0x1c6)](_0x56e48e,_0x2d6442);},__param=this&&this[a245_0x51d095(0x1e1)]||function(_0x8a3278,_0x3e6133){return function(_0x5559c3,_0x5e5c29){_0x3e6133(_0x5559c3,_0x5e5c29,_0x8a3278);};},SalesforceService_1;Object['defineProperty'](exports,a245_0x51d095(0x1d3),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require('typedi'),core_1=require(a245_0x51d095(0x1e6)),internal_server_error_1=require(a245_0x51d095(0x1d6)),salesforce_auth_service_1=require(a245_0x51d095(0x1ed)),constants_1=require('../../../../constants'),create_request_util_1=require(a245_0x51d095(0x20a)),salesforce_logger_service_1=require(a245_0x51d095(0x20b)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a245_0x51d095(0x209));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0xaf9dd7){const _0x54d3d2=a245_0x51d095;this[_0x54d3d2(0x1fa)]=new core_1[(_0x54d3d2(0x1f2))](SalesforceService_1[_0x54d3d2(0x1f1)]),this['request']=(0x0,create_request_util_1['createSalesforceRequest'])(_0xaf9dd7),this[_0x54d3d2(0x1fc)]=constants_1[_0x54d3d2(0x1eb)]?'':_0x54d3d2(0x1e2);}[a245_0x51d095(0x1f3)](_0x407194){const _0x34868d=a245_0x51d095;this[_0x34868d(0x1da)]=_0x407194,this[_0x34868d(0x1ca)]=new salesforce_logger_service_1[(_0x34868d(0x1f9))](this);}[a245_0x51d095(0x1e5)](){const _0x5e5685=a245_0x51d095;return this[_0x5e5685(0x1ca)];}async['retrieveComponents'](_0x980e42){const _0x3ffd37=a245_0x51d095;try{this[_0x3ffd37(0x1fa)][_0x3ffd37(0x207)](_0x3ffd37(0x1e8),_0x980e42['length']);const _0x1725ca=await this['request'][_0x3ffd37(0x1c4)](_0x3ffd37(0x205)+this[_0x3ffd37(0x1fc)]+_0x3ffd37(0x1c5),{'componentIds':_0x980e42,'loggerId':this[_0x3ffd37(0x1da)]})[_0x3ffd37(0x1e7)](({data:_0x3ff942})=>_0x3ff942);return _0x1725ca;}catch(_0x2f4359){this['logger'][_0x3ffd37(0x1d5)](_0x2f4359);throw new salesforce_error_1[(_0x3ffd37(0x1db))](_0x2f4359);}}async[a245_0x51d095(0x1e9)](_0x15195f){const _0xf20cc6=a245_0x51d095;try{this['logger'][_0xf20cc6(0x207)](_0xf20cc6(0x1f0),_0x15195f),await this[_0xf20cc6(0x1cd)][_0xf20cc6(0x1df)](_0xf20cc6(0x1ef)+constants_1['SALESFORCE_API_VERSION']+_0xf20cc6(0x1d8)+_0x15195f);}catch(_0x5157e2){this[_0xf20cc6(0x1fa)][_0xf20cc6(0x1d5)](_0x5157e2);throw new salesforce_error_1['SalesforceError'](_0x5157e2);}}async['retrieveAttachment'](_0x267168,_0x1b05c9=![]){const _0x3377a6=a245_0x51d095;try{this[_0x3377a6(0x1fa)][_0x3377a6(0x207)](_0x3377a6(0x1f6),_0x267168);const _0x3238cd=await this['request'][_0x3377a6(0x1e0)](_0x3377a6(0x1ef)+constants_1[_0x3377a6(0x1e3)]+_0x3377a6(0x1d8)+_0x267168+_0x3377a6(0x1f7),{'responseType':_0x1b05c9?_0x3377a6(0x1c8):'text'})[_0x3377a6(0x1e7)](({data:_0x250858})=>_0x250858);return _0x3238cd;}catch(_0x27c57b){this[_0x3377a6(0x1fa)][_0x3377a6(0x1d5)](_0x27c57b);throw new salesforce_error_1[(_0x3377a6(0x1db))](_0x27c57b);}}async['sendLog'](_0x581667){const _0x42e9e5=a245_0x51d095;try{_0x581667['forEach'](_0x15f41c=>this[_0x42e9e5(0x1fa)][_0x42e9e5(0x207)](_0x42e9e5(0x1d9),_0x15f41c)),await this[_0x42e9e5(0x1cd)][_0x42e9e5(0x1c4)]('services/apexrest'+this['namespace']+'/logger',{'messages':_0x581667,'loggerId':this[_0x42e9e5(0x1da)]});}catch(_0x541f28){this['logger'][_0x42e9e5(0x1d5)](_0x541f28);throw new internal_server_error_1[(_0x42e9e5(0x1de))](_0x541f28);}}async['createObject'](_0x277ed3,_0x5aaf21){const _0x4806aa=a245_0x51d095;try{const {data:_0x5d7d55}=await this[_0x4806aa(0x1cd)][_0x4806aa(0x1c4)]('services/data/'+constants_1[_0x4806aa(0x1e3)]+_0x4806aa(0x1dd)+_0x277ed3+'/',_0x5aaf21);return _0x5d7d55['id'];}catch(_0x58c6df){throw new salesforce_error_1[(_0x4806aa(0x1db))](_0x58c6df);}}async[a245_0x51d095(0x1dc)](_0x2e04f1,_0x4e8e65,_0x11fb73){const _0x27d1c2=a245_0x51d095;try{await this[_0x27d1c2(0x1cd)][_0x27d1c2(0x1f8)]('services/data/'+constants_1[_0x27d1c2(0x1e3)]+_0x27d1c2(0x1dd)+_0x2e04f1+'/'+_0x4e8e65,_0x11fb73);}catch(_0x50a320){throw new salesforce_error_1[(_0x27d1c2(0x1db))](_0x50a320);}}async[a245_0x51d095(0x1ee)](_0x59cef3){const _0x1c6c89=a245_0x51d095;try{const {data:_0x96db14}=await this[_0x1c6c89(0x1cd)]['get'](_0x1c6c89(0x205)+this[_0x1c6c89(0x1fc)]+_0x1c6c89(0x1ea),{'params':{'connectionId':_0x59cef3}});return new connection_dto_1[(_0x1c6c89(0x1ff))](_0x96db14);}catch(_0xf20772){throw new salesforce_error_1[(_0x1c6c89(0x1db))](_0xf20772);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a245_0x51d095(0x201)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x51d095(0x1fe)])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a245_0x51d095(0x203)]])],SalesforceService),exports[a245_0x51d095(0x208)]=SalesforceService;