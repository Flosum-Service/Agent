function a240_0x3dea(){const _0x4313ce=['logger','services/data/','599484tmFVhF','log','Service','patch','arraybuffer','loggerId','services/apexrest','2843895pGZXkb','get','delete\x20attachment\x20%s\x20from\x20salesforce','/logger','761274TLtnlD','length','../dto/connection.dto','defineProperty','design:paramtypes','[message]\x20%s','delete','toString','then','SalesforceAuthService','decorate','__param','retrieve\x20attachment\x20%s\x20from\x20salesforce','Logger','patchObject','/body','3981576WRUNMk','error','10qJBSOT','./salesforce-auth.service','35vnpMEt','__esModule','apply','fetchConnection','/sobjects/','15288WkrrWR','SalesforceError','getOwnPropertyDescriptor','2kNmqnJ','metadata','sendLog','../../../../core','(((.+)+)+)+$','object','SALESFORCE_API_VERSION','/sobjects/Attachment/','__decorate','/flosum_git','retrieveComponents','post','createObject','search','constructor','function','__metadata','SalesforceService','/connection','./salesforce-logger.service','214456iNZwon','request','/attachments','409135HzdKzl','getLogger','namespace','createSalesforceRequest','name','internalLogger','deleteAttachment','ConnectionDto','retrieveAttachment'];a240_0x3dea=function(){return _0x4313ce;};return a240_0x3dea();}const a240_0x2165a8=a240_0x28e0;(function(_0x2dcbaa,_0x12f9d5){const _0x2667d2=a240_0x28e0,_0x1b3a51=_0x2dcbaa();while(!![]){try{const _0x1687b5=-parseInt(_0x2667d2(0xcc))/0x1+parseInt(_0x2667d2(0xcf))/0x2*(-parseInt(_0x2667d2(0xaf))/0x3)+parseInt(_0x2667d2(0xc3))/0x4+parseInt(_0x2667d2(0x9d))/0x5+-parseInt(_0x2667d2(0xa8))/0x6*(-parseInt(_0x2667d2(0xc7))/0x7)+parseInt(_0x2667d2(0x9a))/0x8+-parseInt(_0x2667d2(0xb3))/0x9*(parseInt(_0x2667d2(0xc5))/0xa);if(_0x1687b5===_0x12f9d5)break;else _0x1b3a51['push'](_0x1b3a51['shift']());}catch(_0x586934){_0x1b3a51['push'](_0x1b3a51['shift']());}}}(a240_0x3dea,0x87aef));const a240_0x8af265=(function(){let _0x3f1eff=!![];return function(_0x3f2805,_0xb82c6d){const _0x439a37=_0x3f1eff?function(){const _0x504f52=a240_0x28e0;if(_0xb82c6d){const _0x56d5ce=_0xb82c6d[_0x504f52(0xc9)](_0x3f2805,arguments);return _0xb82c6d=null,_0x56d5ce;}}:function(){};return _0x3f1eff=![],_0x439a37;};}()),a240_0x3b1448=a240_0x8af265(this,function(){const _0xff52d5=a240_0x28e0;return a240_0x3b1448[_0xff52d5(0xba)]()['search']('(((.+)+)+)+$')[_0xff52d5(0xba)]()[_0xff52d5(0x94)](a240_0x3b1448)[_0xff52d5(0x93)](_0xff52d5(0x8a));});a240_0x3b1448();'use strict';var __decorate=this&&this[a240_0x2165a8(0x8e)]||function(_0x4be6cb,_0x5d56a9,_0x232128,_0x558cac){const _0x7fb73a=a240_0x2165a8;var _0x4a1d08=arguments['length'],_0x259fd8=_0x4a1d08<0x3?_0x5d56a9:_0x558cac===null?_0x558cac=Object[_0x7fb73a(0xce)](_0x5d56a9,_0x232128):_0x558cac,_0x1a8097;if(typeof Reflect==='object'&&typeof Reflect[_0x7fb73a(0xbd)]===_0x7fb73a(0x95))_0x259fd8=Reflect['decorate'](_0x4be6cb,_0x5d56a9,_0x232128,_0x558cac);else{for(var _0x1ca49f=_0x4be6cb[_0x7fb73a(0xb4)]-0x1;_0x1ca49f>=0x0;_0x1ca49f--)if(_0x1a8097=_0x4be6cb[_0x1ca49f])_0x259fd8=(_0x4a1d08<0x3?_0x1a8097(_0x259fd8):_0x4a1d08>0x3?_0x1a8097(_0x5d56a9,_0x232128,_0x259fd8):_0x1a8097(_0x5d56a9,_0x232128))||_0x259fd8;}return _0x4a1d08>0x3&&_0x259fd8&&Object[_0x7fb73a(0xb6)](_0x5d56a9,_0x232128,_0x259fd8),_0x259fd8;},__metadata=this&&this[a240_0x2165a8(0x96)]||function(_0x101b35,_0x530360){const _0x5f4938=a240_0x2165a8;if(typeof Reflect===_0x5f4938(0x8b)&&typeof Reflect[_0x5f4938(0xd0)]===_0x5f4938(0x95))return Reflect[_0x5f4938(0xd0)](_0x101b35,_0x530360);},__param=this&&this[a240_0x2165a8(0xbe)]||function(_0x140787,_0x39ea7a){return function(_0x3d0346,_0x359ca2){_0x39ea7a(_0x3d0346,_0x359ca2,_0x140787);};},SalesforceService_1;Object[a240_0x2165a8(0xb6)](exports,a240_0x2165a8(0xc8),{'value':!![]}),exports[a240_0x2165a8(0x97)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a240_0x2165a8(0x89)),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a240_0x2165a8(0xc6)),constants_1=require('../../../../constants'),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a240_0x2165a8(0x99)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a240_0x2165a8(0xb5));function a240_0x28e0(_0x34e1d8,_0x598427){const _0x55cafd=a240_0x3dea();return a240_0x28e0=function(_0x3b1448,_0x8af265){_0x3b1448=_0x3b1448-0x89;let _0x3dea8c=_0x55cafd[_0x3b1448];return _0x3dea8c;},a240_0x28e0(_0x34e1d8,_0x598427);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1dc939){const _0x326a9c=a240_0x2165a8;this[_0x326a9c(0xa6)]=new core_1[(_0x326a9c(0xc0))](SalesforceService_1[_0x326a9c(0xa1)]),this[_0x326a9c(0x9b)]=(0x0,create_request_util_1[_0x326a9c(0xa0)])(_0x1dc939),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x326a9c(0x8f);}['setLoggerId'](_0x3bdd84){const _0x545a00=a240_0x2165a8;this[_0x545a00(0xad)]=_0x3bdd84,this[_0x545a00(0xa2)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a240_0x2165a8(0x9e)](){return this['internalLogger'];}async[a240_0x2165a8(0x90)](_0x43cbac){const _0xb9816c=a240_0x2165a8;try{this[_0xb9816c(0xa6)][_0xb9816c(0xa9)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x43cbac['length']);const _0x487c1e=await this['request'][_0xb9816c(0x91)](_0xb9816c(0xae)+this[_0xb9816c(0x9f)]+_0xb9816c(0x9c),{'componentIds':_0x43cbac,'loggerId':this[_0xb9816c(0xad)]})[_0xb9816c(0xbb)](({data:_0x415efe})=>_0x415efe);return _0x487c1e;}catch(_0x21f059){this['logger'][_0xb9816c(0xc4)](_0x21f059);throw new salesforce_error_1[(_0xb9816c(0xcd))](_0x21f059);}}async[a240_0x2165a8(0xa3)](_0x4f0509){const _0x3fd380=a240_0x2165a8;try{this[_0x3fd380(0xa6)][_0x3fd380(0xa9)](_0x3fd380(0xb1),_0x4f0509),await this[_0x3fd380(0x9b)][_0x3fd380(0xb9)](_0x3fd380(0xa7)+constants_1[_0x3fd380(0x8c)]+_0x3fd380(0x8d)+_0x4f0509);}catch(_0x47a9db){this[_0x3fd380(0xa6)][_0x3fd380(0xc4)](_0x47a9db);throw new salesforce_error_1[(_0x3fd380(0xcd))](_0x47a9db);}}async[a240_0x2165a8(0xa5)](_0x272970,_0x6130e9=![]){const _0x3243a8=a240_0x2165a8;try{this[_0x3243a8(0xa6)][_0x3243a8(0xa9)](_0x3243a8(0xbf),_0x272970);const _0x53fb32=await this[_0x3243a8(0x9b)][_0x3243a8(0xb0)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x3243a8(0x8d)+_0x272970+_0x3243a8(0xc2),{'responseType':_0x6130e9?_0x3243a8(0xac):'text'})['then'](({data:_0xdc009e})=>_0xdc009e);return _0x53fb32;}catch(_0x4f13fe){this[_0x3243a8(0xa6)][_0x3243a8(0xc4)](_0x4f13fe);throw new salesforce_error_1['SalesforceError'](_0x4f13fe);}}async[a240_0x2165a8(0xd1)](_0x334c44){const _0x49bd53=a240_0x2165a8;try{_0x334c44['forEach'](_0x6a6d1c=>this['logger'][_0x49bd53(0xa9)](_0x49bd53(0xb8),_0x6a6d1c)),await this[_0x49bd53(0x9b)][_0x49bd53(0x91)](_0x49bd53(0xae)+this[_0x49bd53(0x9f)]+_0x49bd53(0xb2),{'messages':_0x334c44,'loggerId':this[_0x49bd53(0xad)]});}catch(_0x14be6d){this[_0x49bd53(0xa6)][_0x49bd53(0xc4)](_0x14be6d);throw new internal_server_error_1['InternalServerError'](_0x14be6d);}}async[a240_0x2165a8(0x92)](_0x3b8b72,_0x33a1be){const _0x55b6fe=a240_0x2165a8;try{const {data:_0x4807}=await this['request'][_0x55b6fe(0x91)](_0x55b6fe(0xa7)+constants_1[_0x55b6fe(0x8c)]+_0x55b6fe(0xcb)+_0x3b8b72+'/',_0x33a1be);return _0x4807['id'];}catch(_0x148878){throw new salesforce_error_1[(_0x55b6fe(0xcd))](_0x148878);}}async[a240_0x2165a8(0xc1)](_0x5b96be,_0x4d45e2,_0x282eb1){const _0x3251f0=a240_0x2165a8;try{await this['request'][_0x3251f0(0xab)](_0x3251f0(0xa7)+constants_1[_0x3251f0(0x8c)]+_0x3251f0(0xcb)+_0x5b96be+'/'+_0x4d45e2,_0x282eb1);}catch(_0x39791d){throw new salesforce_error_1['SalesforceError'](_0x39791d);}}async[a240_0x2165a8(0xca)](_0x155ac8){const _0x937c2e=a240_0x2165a8;try{const {data:_0x5731fc}=await this[_0x937c2e(0x9b)][_0x937c2e(0xb0)]('services/apexrest'+this[_0x937c2e(0x9f)]+_0x937c2e(0x98),{'params':{'connectionId':_0x155ac8}});return new connection_dto_1[(_0x937c2e(0xa4))](_0x5731fc);}catch(_0x1f5933){throw new salesforce_error_1[(_0x937c2e(0xcd))](_0x1f5933);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a240_0x2165a8(0xaa)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a240_0x2165a8(0xb7),[salesforce_auth_service_1[a240_0x2165a8(0xbc)]])],SalesforceService),exports[a240_0x2165a8(0x97)]=SalesforceService;