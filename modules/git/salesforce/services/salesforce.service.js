const a240_0x40d803=a240_0x3e8a;(function(_0x34be1e,_0x1aeb1e){const _0x1f159a=a240_0x3e8a,_0x3a5e2c=_0x34be1e();while(!![]){try{const _0x278c18=parseInt(_0x1f159a(0x1b7))/0x1*(parseInt(_0x1f159a(0x1b8))/0x2)+-parseInt(_0x1f159a(0x1be))/0x3+parseInt(_0x1f159a(0x1ce))/0x4*(parseInt(_0x1f159a(0x1d1))/0x5)+-parseInt(_0x1f159a(0x1c2))/0x6+-parseInt(_0x1f159a(0x1ad))/0x7+parseInt(_0x1f159a(0x198))/0x8+-parseInt(_0x1f159a(0x1c5))/0x9*(-parseInt(_0x1f159a(0x1aa))/0xa);if(_0x278c18===_0x1aeb1e)break;else _0x3a5e2c['push'](_0x3a5e2c['shift']());}catch(_0x2229ac){_0x3a5e2c['push'](_0x3a5e2c['shift']());}}}(a240_0x24ed,0x3ecc6));function a240_0x24ed(){const _0x269e9a=['/attachments','arraybuffer','services/data/','retrieveComponents','decorate','error','metadata','then','(((.+)+)+)+$','/body','/sobjects/Attachment/','2117712PeFMtT','../errors/salesforce.error','text','__metadata','toString','services/apexrest','delete','InternalServerError','./salesforce-auth.service','function','SALESFORCE_API_VERSION','[message]\x20%s','../../../../core','search','name','ConnectionDto','loggerId','setLoggerId','190MEAyUZ','defineProperty','SalesforceLogger','2130646TtPflF','patch','createSalesforceRequest','apply','Inject','namespace','logger','get','sendLog','SalesforceError','74ZVLrNk','4656YEMgrh','log','../../../../constants','__param','createObject','/connection','1080105BOEWxY','typedi','design:paramtypes','delete\x20attachment\x20%s\x20from\x20salesforce','1846560hPSsMh','../utils/create-request.util','length','217674APVtyk','internalLogger','post','deleteAttachment','object','forEach','__esModule','request','SalesforceService','500BvEbWs','Service','getOwnPropertyDescriptor','13315FEdWgf','/logger','retrieve\x20attachment\x20%s\x20from\x20salesforce','../../../../core/errors/internal-server.error','retrieve\x20components\x20\x20%d\x20from\x20salesforce','./salesforce-logger.service'];a240_0x24ed=function(){return _0x269e9a;};return a240_0x24ed();}const a240_0x12627a=(function(){let _0x1931ad=!![];return function(_0x41a250,_0x5d86e6){const _0x4f73d8=_0x1931ad?function(){const _0x51f078=a240_0x3e8a;if(_0x5d86e6){const _0x19b956=_0x5d86e6[_0x51f078(0x1b0)](_0x41a250,arguments);return _0x5d86e6=null,_0x19b956;}}:function(){};return _0x1931ad=![],_0x4f73d8;};}()),a240_0x400839=a240_0x12627a(this,function(){const _0x51be14=a240_0x3e8a;return a240_0x400839[_0x51be14(0x19c)]()[_0x51be14(0x1a5)](_0x51be14(0x1df))['toString']()['constructor'](a240_0x400839)[_0x51be14(0x1a5)]('(((.+)+)+)+$');});a240_0x400839();'use strict';function a240_0x3e8a(_0x3d6b09,_0x3d1aaf){const _0x1528c7=a240_0x24ed();return a240_0x3e8a=function(_0x400839,_0x12627a){_0x400839=_0x400839-0x196;let _0x24ed2a=_0x1528c7[_0x400839];return _0x24ed2a;},a240_0x3e8a(_0x3d6b09,_0x3d1aaf);}var __decorate=this&&this['__decorate']||function(_0x30635d,_0x323b24,_0x149bb8,_0x4fc45a){const _0x10ba66=a240_0x3e8a;var _0x5e42d0=arguments[_0x10ba66(0x1c4)],_0x1c560a=_0x5e42d0<0x3?_0x323b24:_0x4fc45a===null?_0x4fc45a=Object[_0x10ba66(0x1d0)](_0x323b24,_0x149bb8):_0x4fc45a,_0x366301;if(typeof Reflect==='object'&&typeof Reflect[_0x10ba66(0x1db)]==='function')_0x1c560a=Reflect['decorate'](_0x30635d,_0x323b24,_0x149bb8,_0x4fc45a);else{for(var _0x366355=_0x30635d[_0x10ba66(0x1c4)]-0x1;_0x366355>=0x0;_0x366355--)if(_0x366301=_0x30635d[_0x366355])_0x1c560a=(_0x5e42d0<0x3?_0x366301(_0x1c560a):_0x5e42d0>0x3?_0x366301(_0x323b24,_0x149bb8,_0x1c560a):_0x366301(_0x323b24,_0x149bb8))||_0x1c560a;}return _0x5e42d0>0x3&&_0x1c560a&&Object[_0x10ba66(0x1ab)](_0x323b24,_0x149bb8,_0x1c560a),_0x1c560a;},__metadata=this&&this[a240_0x40d803(0x19b)]||function(_0x128a27,_0x69837){const _0x3428a0=a240_0x40d803;if(typeof Reflect===_0x3428a0(0x1c9)&&typeof Reflect[_0x3428a0(0x1dd)]===_0x3428a0(0x1a1))return Reflect[_0x3428a0(0x1dd)](_0x128a27,_0x69837);},__param=this&&this[a240_0x40d803(0x1bb)]||function(_0x3d2cfb,_0x34a86e){return function(_0x38a814,_0x4a62b7){_0x34a86e(_0x38a814,_0x4a62b7,_0x3d2cfb);};},SalesforceService_1;Object[a240_0x40d803(0x1ab)](exports,a240_0x40d803(0x1cb),{'value':!![]}),exports[a240_0x40d803(0x1cd)]=void 0x0;const typedi_1=require(a240_0x40d803(0x1bf)),core_1=require(a240_0x40d803(0x1a4)),internal_server_error_1=require(a240_0x40d803(0x1d4)),salesforce_auth_service_1=require(a240_0x40d803(0x1a0)),constants_1=require(a240_0x40d803(0x1ba)),create_request_util_1=require(a240_0x40d803(0x1c3)),salesforce_logger_service_1=require(a240_0x40d803(0x1d6)),salesforce_error_1=require(a240_0x40d803(0x199)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x21e375){const _0x5e5e9c=a240_0x40d803;this[_0x5e5e9c(0x1b3)]=new core_1['Logger'](SalesforceService_1[_0x5e5e9c(0x1a6)]),this[_0x5e5e9c(0x1cc)]=(0x0,create_request_util_1[_0x5e5e9c(0x1af)])(_0x21e375),this[_0x5e5e9c(0x1b2)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':'/flosum_git';}[a240_0x40d803(0x1a9)](_0x2b0c73){const _0x48bb06=a240_0x40d803;this['loggerId']=_0x2b0c73,this['internalLogger']=new salesforce_logger_service_1[(_0x48bb06(0x1ac))](this);}['getLogger'](){const _0x4fc331=a240_0x40d803;return this[_0x4fc331(0x1c6)];}async[a240_0x40d803(0x1da)](_0x523cfc){const _0x1aa169=a240_0x40d803;try{this[_0x1aa169(0x1b3)][_0x1aa169(0x1b9)](_0x1aa169(0x1d5),_0x523cfc[_0x1aa169(0x1c4)]);const _0x8905c9=await this['request'][_0x1aa169(0x1c7)]('services/apexrest'+this[_0x1aa169(0x1b2)]+_0x1aa169(0x1d7),{'componentIds':_0x523cfc,'loggerId':this[_0x1aa169(0x1a8)]})[_0x1aa169(0x1de)](({data:_0xd9e50})=>_0xd9e50);return _0x8905c9;}catch(_0x1aa692){this[_0x1aa169(0x1b3)][_0x1aa169(0x1dc)](_0x1aa692);throw new salesforce_error_1[(_0x1aa169(0x1b6))](_0x1aa692);}}async[a240_0x40d803(0x1c8)](_0x36244b){const _0x6ccba=a240_0x40d803;try{this[_0x6ccba(0x1b3)]['log'](_0x6ccba(0x1c1),_0x36244b),await this['request'][_0x6ccba(0x19e)](_0x6ccba(0x1d9)+constants_1[_0x6ccba(0x1a2)]+_0x6ccba(0x197)+_0x36244b);}catch(_0x4eeb22){this[_0x6ccba(0x1b3)][_0x6ccba(0x1dc)](_0x4eeb22);throw new salesforce_error_1['SalesforceError'](_0x4eeb22);}}async['retrieveAttachment'](_0x1ddc8c,_0x45d5e4=![]){const _0x24229f=a240_0x40d803;try{this[_0x24229f(0x1b3)][_0x24229f(0x1b9)](_0x24229f(0x1d3),_0x1ddc8c);const _0x1d8367=await this[_0x24229f(0x1cc)][_0x24229f(0x1b4)](_0x24229f(0x1d9)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x1ddc8c+_0x24229f(0x196),{'responseType':_0x45d5e4?_0x24229f(0x1d8):_0x24229f(0x19a)})['then'](({data:_0x2aaa89})=>_0x2aaa89);return _0x1d8367;}catch(_0x24412a){this['logger'][_0x24229f(0x1dc)](_0x24412a);throw new salesforce_error_1[(_0x24229f(0x1b6))](_0x24412a);}}async[a240_0x40d803(0x1b5)](_0x53d204){const _0x4c3917=a240_0x40d803;try{_0x53d204[_0x4c3917(0x1ca)](_0x16743d=>this['logger'][_0x4c3917(0x1b9)](_0x4c3917(0x1a3),_0x16743d)),await this[_0x4c3917(0x1cc)][_0x4c3917(0x1c7)](_0x4c3917(0x19d)+this[_0x4c3917(0x1b2)]+_0x4c3917(0x1d2),{'messages':_0x53d204,'loggerId':this[_0x4c3917(0x1a8)]});}catch(_0x80f8f1){this['logger'][_0x4c3917(0x1dc)](_0x80f8f1);throw new internal_server_error_1[(_0x4c3917(0x19f))](_0x80f8f1);}}async[a240_0x40d803(0x1bc)](_0x3550ca,_0x3b92e5){const _0x5d566b=a240_0x40d803;try{const {data:_0x2e3afc}=await this[_0x5d566b(0x1cc)][_0x5d566b(0x1c7)]('services/data/'+constants_1[_0x5d566b(0x1a2)]+'/sobjects/'+_0x3550ca+'/',_0x3b92e5);return _0x2e3afc['id'];}catch(_0xed193e){throw new salesforce_error_1[(_0x5d566b(0x1b6))](_0xed193e);}}async['patchObject'](_0x262ce6,_0x3587f9,_0x2f8b50){const _0x111f05=a240_0x40d803;try{await this[_0x111f05(0x1cc)][_0x111f05(0x1ae)](_0x111f05(0x1d9)+constants_1[_0x111f05(0x1a2)]+'/sobjects/'+_0x262ce6+'/'+_0x3587f9,_0x2f8b50);}catch(_0xad9a){throw new salesforce_error_1['SalesforceError'](_0xad9a);}}async['fetchConnection'](_0xd5546b){const _0x159e6c=a240_0x40d803;try{const {data:_0x578fad}=await this[_0x159e6c(0x1cc)][_0x159e6c(0x1b4)](_0x159e6c(0x19d)+this['namespace']+_0x159e6c(0x1bd),{'params':{'connectionId':_0xd5546b}});return new connection_dto_1[(_0x159e6c(0x1a7))](_0x578fad);}catch(_0x241b4e){throw new salesforce_error_1[(_0x159e6c(0x1b6))](_0x241b4e);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a240_0x40d803(0x1cf)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a240_0x40d803(0x1b1)])()),__metadata(a240_0x40d803(0x1c0),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a240_0x40d803(0x1cd)]=SalesforceService;