const a205_0x57310d=a205_0x1803;(function(_0x1243ce,_0x5a8220){const _0x2a8f6f=a205_0x1803,_0x595f94=_0x1243ce();while(!![]){try{const _0x2f2fcb=-parseInt(_0x2a8f6f(0x89))/0x1+-parseInt(_0x2a8f6f(0xcb))/0x2+-parseInt(_0x2a8f6f(0xa0))/0x3+-parseInt(_0x2a8f6f(0xc3))/0x4*(-parseInt(_0x2a8f6f(0xae))/0x5)+parseInt(_0x2a8f6f(0x98))/0x6*(-parseInt(_0x2a8f6f(0x9b))/0x7)+parseInt(_0x2a8f6f(0xc8))/0x8+parseInt(_0x2a8f6f(0xa3))/0x9;if(_0x2f2fcb===_0x5a8220)break;else _0x595f94['push'](_0x595f94['shift']());}catch(_0x2ebc78){_0x595f94['push'](_0x595f94['shift']());}}}(a205_0xcbc3,0xad46c));const a205_0x49cd0f=(function(){let _0x5829fa=!![];return function(_0x52eace,_0x5ea113){const _0x4b2d7f=_0x5829fa?function(){const _0x87e8f1=a205_0x1803;if(_0x5ea113){const _0x5f4392=_0x5ea113[_0x87e8f1(0xbf)](_0x52eace,arguments);return _0x5ea113=null,_0x5f4392;}}:function(){};return _0x5829fa=![],_0x4b2d7f;};}()),a205_0x1821d3=a205_0x49cd0f(this,function(){const _0x20d5c8=a205_0x1803;return a205_0x1821d3[_0x20d5c8(0x92)]()[_0x20d5c8(0xca)]('(((.+)+)+)+$')[_0x20d5c8(0x92)]()[_0x20d5c8(0xb3)](a205_0x1821d3)['search'](_0x20d5c8(0xab));});a205_0x1821d3();'use strict';var __decorate=this&&this[a205_0x57310d(0xc2)]||function(_0x10f9fd,_0x573d80,_0x4fbb64,_0x3009c0){const _0x13c5d7=a205_0x57310d;var _0x370e68=arguments[_0x13c5d7(0xb6)],_0x485455=_0x370e68<0x3?_0x573d80:_0x3009c0===null?_0x3009c0=Object[_0x13c5d7(0xc4)](_0x573d80,_0x4fbb64):_0x3009c0,_0x144ce3;if(typeof Reflect===_0x13c5d7(0x8f)&&typeof Reflect[_0x13c5d7(0xaf)]===_0x13c5d7(0xa2))_0x485455=Reflect['decorate'](_0x10f9fd,_0x573d80,_0x4fbb64,_0x3009c0);else{for(var _0x17c919=_0x10f9fd[_0x13c5d7(0xb6)]-0x1;_0x17c919>=0x0;_0x17c919--)if(_0x144ce3=_0x10f9fd[_0x17c919])_0x485455=(_0x370e68<0x3?_0x144ce3(_0x485455):_0x370e68>0x3?_0x144ce3(_0x573d80,_0x4fbb64,_0x485455):_0x144ce3(_0x573d80,_0x4fbb64))||_0x485455;}return _0x370e68>0x3&&_0x485455&&Object[_0x13c5d7(0xb9)](_0x573d80,_0x4fbb64,_0x485455),_0x485455;},__metadata=this&&this[a205_0x57310d(0x8e)]||function(_0xf0df82,_0x385047){const _0x404f4d=a205_0x57310d;if(typeof Reflect===_0x404f4d(0x8f)&&typeof Reflect[_0x404f4d(0xbc)]==='function')return Reflect[_0x404f4d(0xbc)](_0xf0df82,_0x385047);},__param=this&&this[a205_0x57310d(0xa6)]||function(_0x2ecc29,_0x1ec6a1){return function(_0xc818f1,_0x40adeb){_0x1ec6a1(_0xc818f1,_0x40adeb,_0x2ecc29);};},SalesforceService_1;function a205_0x1803(_0x1a3c83,_0xf51c31){const _0x23fc94=a205_0xcbc3();return a205_0x1803=function(_0x1821d3,_0x49cd0f){_0x1821d3=_0x1821d3-0x7d;let _0xcbc3f0=_0x23fc94[_0x1821d3];return _0xcbc3f0;},a205_0x1803(_0x1a3c83,_0xf51c31);}Object['defineProperty'](exports,a205_0x57310d(0x90),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a205_0x57310d(0x9d)),core_1=require(a205_0x57310d(0x87)),internal_server_error_1=require(a205_0x57310d(0x8b)),salesforce_auth_service_1=require(a205_0x57310d(0x8c)),constants_1=require(a205_0x57310d(0x84)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a205_0x57310d(0x7d)),connection_dto_1=require(a205_0x57310d(0xa4));function a205_0xcbc3(){const _0x1a0290=['__param','patch','services/apexrest','loggerId','IGNORE_FLOSUM_GIT_NAMESPACE','(((.+)+)+)+$','setLoggerId','InternalServerError','765cIZXKt','decorate','design:paramtypes','/sobjects/','get','constructor','delete\x20attachment\x20%s\x20from\x20salesforce','retrieveComponents','length','[message]\x20%s','Inject','defineProperty','/body','SALESFORCE_API_VERSION','metadata','arraybuffer','/attachments','apply','post','error','__decorate','30060mUVNgT','getOwnPropertyDescriptor','SalesforceService','/flosum_git','SalesforceLogger','3946800KksHhs','delete','search','824040ebaFOc','../errors/salesforce.error','/logger','getLogger','createSalesforceRequest','internalLogger','Service','logger','../../../../constants','SalesforceError','forEach','../../../../core','text','911523UbsTyc','sendLog','../../../../core/errors/internal-server.error','./salesforce-auth.service','log','__metadata','object','__esModule','patchObject','toString','SalesforceAuthService','services/data/','fetchConnection','/sobjects/Attachment/','retrieveAttachment','351642gduxtM','name','ConnectionDto','63jXYoaE','then','typedi','request','retrieve\x20attachment\x20%s\x20from\x20salesforce','1146012zKMiFN','deleteAttachment','function','11696445DKXxKM','../dto/connection.dto','namespace'];a205_0xcbc3=function(){return _0x1a0290;};return a205_0xcbc3();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4e6a22){const _0x3f8dc2=a205_0x57310d;this['logger']=new core_1['Logger'](SalesforceService_1[_0x3f8dc2(0x99)]),this[_0x3f8dc2(0x9e)]=(0x0,create_request_util_1[_0x3f8dc2(0x80)])(_0x4e6a22),this['namespace']=constants_1[_0x3f8dc2(0xaa)]?'':_0x3f8dc2(0xc6);}[a205_0x57310d(0xac)](_0x4794de){const _0xfcc005=a205_0x57310d;this[_0xfcc005(0xa9)]=_0x4794de,this[_0xfcc005(0x81)]=new salesforce_logger_service_1[(_0xfcc005(0xc7))](this);}[a205_0x57310d(0x7f)](){const _0x196426=a205_0x57310d;return this[_0x196426(0x81)];}async[a205_0x57310d(0xb5)](_0x1e7bb3){const _0x40393c=a205_0x57310d;try{this[_0x40393c(0x83)][_0x40393c(0x8d)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x1e7bb3['length']);const _0x2a6cf1=await this[_0x40393c(0x9e)][_0x40393c(0xc0)](_0x40393c(0xa8)+this[_0x40393c(0xa5)]+_0x40393c(0xbe),{'componentIds':_0x1e7bb3,'loggerId':this[_0x40393c(0xa9)]})[_0x40393c(0x9c)](({data:_0x837df2})=>_0x837df2);return _0x2a6cf1;}catch(_0x1319a2){this[_0x40393c(0x83)][_0x40393c(0xc1)](_0x1319a2);throw new salesforce_error_1['SalesforceError'](_0x1319a2);}}async[a205_0x57310d(0xa1)](_0x2b2eb6){const _0x442948=a205_0x57310d;try{this[_0x442948(0x83)]['log'](_0x442948(0xb4),_0x2b2eb6),await this['request'][_0x442948(0xc9)](_0x442948(0x94)+constants_1['SALESFORCE_API_VERSION']+_0x442948(0x96)+_0x2b2eb6);}catch(_0x2aee27){this[_0x442948(0x83)][_0x442948(0xc1)](_0x2aee27);throw new salesforce_error_1['SalesforceError'](_0x2aee27);}}async[a205_0x57310d(0x97)](_0x30832c,_0x498e7f=![]){const _0x17bdac=a205_0x57310d;try{this[_0x17bdac(0x83)]['log'](_0x17bdac(0x9f),_0x30832c);const _0xb2c418=await this[_0x17bdac(0x9e)][_0x17bdac(0xb2)](_0x17bdac(0x94)+constants_1[_0x17bdac(0xbb)]+_0x17bdac(0x96)+_0x30832c+_0x17bdac(0xba),{'responseType':_0x498e7f?_0x17bdac(0xbd):_0x17bdac(0x88)})[_0x17bdac(0x9c)](({data:_0x555003})=>_0x555003);return _0xb2c418;}catch(_0x7eeb74){this[_0x17bdac(0x83)]['error'](_0x7eeb74);throw new salesforce_error_1[(_0x17bdac(0x85))](_0x7eeb74);}}async[a205_0x57310d(0x8a)](_0x5190bd){const _0x3fe505=a205_0x57310d;try{_0x5190bd[_0x3fe505(0x86)](_0x2b952b=>this[_0x3fe505(0x83)][_0x3fe505(0x8d)](_0x3fe505(0xb7),_0x2b952b)),await this[_0x3fe505(0x9e)]['post'](_0x3fe505(0xa8)+this[_0x3fe505(0xa5)]+_0x3fe505(0x7e),{'messages':_0x5190bd,'loggerId':this[_0x3fe505(0xa9)]});}catch(_0x53479a){this[_0x3fe505(0x83)][_0x3fe505(0xc1)](_0x53479a);throw new internal_server_error_1[(_0x3fe505(0xad))](_0x53479a);}}async['createObject'](_0x5108e7,_0x204cc9){const _0x186dc2=a205_0x57310d;try{const {data:_0x3ef9d9}=await this[_0x186dc2(0x9e)][_0x186dc2(0xc0)](_0x186dc2(0x94)+constants_1[_0x186dc2(0xbb)]+_0x186dc2(0xb1)+_0x5108e7+'/',_0x204cc9);return _0x3ef9d9['id'];}catch(_0x4ddcf3){throw new salesforce_error_1[(_0x186dc2(0x85))](_0x4ddcf3);}}async[a205_0x57310d(0x91)](_0xdfbee2,_0x50a01f,_0xf9e713){const _0xa1ae9b=a205_0x57310d;try{await this[_0xa1ae9b(0x9e)][_0xa1ae9b(0xa7)](_0xa1ae9b(0x94)+constants_1[_0xa1ae9b(0xbb)]+'/sobjects/'+_0xdfbee2+'/'+_0x50a01f,_0xf9e713);}catch(_0x292ebc){throw new salesforce_error_1[(_0xa1ae9b(0x85))](_0x292ebc);}}async[a205_0x57310d(0x95)](_0x5ef025){const _0x5e8c4a=a205_0x57310d;try{const {data:_0x236992}=await this[_0x5e8c4a(0x9e)]['get'](_0x5e8c4a(0xa8)+this[_0x5e8c4a(0xa5)]+'/connection',{'params':{'connectionId':_0x5ef025}});return new connection_dto_1[(_0x5e8c4a(0x9a))](_0x236992);}catch(_0xbeff13){throw new salesforce_error_1[(_0x5e8c4a(0x85))](_0xbeff13);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a205_0x57310d(0x82)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a205_0x57310d(0xb8)])()),__metadata(a205_0x57310d(0xb0),[salesforce_auth_service_1[a205_0x57310d(0x93)]])],SalesforceService),exports[a205_0x57310d(0xc5)]=SalesforceService;