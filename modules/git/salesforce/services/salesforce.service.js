const a239_0xa6e503=a239_0xbd5b;(function(_0x190ec9,_0x129a1d){const _0x5240af=a239_0xbd5b,_0x2b3706=_0x190ec9();while(!![]){try{const _0x1027a2=parseInt(_0x5240af(0x18f))/0x1*(parseInt(_0x5240af(0x169))/0x2)+parseInt(_0x5240af(0x17a))/0x3*(parseInt(_0x5240af(0x155))/0x4)+-parseInt(_0x5240af(0x188))/0x5*(parseInt(_0x5240af(0x185))/0x6)+-parseInt(_0x5240af(0x162))/0x7*(-parseInt(_0x5240af(0x171))/0x8)+-parseInt(_0x5240af(0x17e))/0x9+-parseInt(_0x5240af(0x17c))/0xa+parseInt(_0x5240af(0x153))/0xb*(parseInt(_0x5240af(0x163))/0xc);if(_0x1027a2===_0x129a1d)break;else _0x2b3706['push'](_0x2b3706['shift']());}catch(_0x54e2ae){_0x2b3706['push'](_0x2b3706['shift']());}}}(a239_0xe6b7,0x8abf7));const a239_0x240b56=(function(){let _0x16b8d6=!![];return function(_0x48db24,_0x545b51){const _0x1b2090=_0x16b8d6?function(){const _0x2b2696=a239_0xbd5b;if(_0x545b51){const _0xf549ed=_0x545b51[_0x2b2696(0x160)](_0x48db24,arguments);return _0x545b51=null,_0xf549ed;}}:function(){};return _0x16b8d6=![],_0x1b2090;};}()),a239_0x59c78c=a239_0x240b56(this,function(){const _0x36a2c3=a239_0xbd5b;return a239_0x59c78c[_0x36a2c3(0x15e)]()[_0x36a2c3(0x18d)](_0x36a2c3(0x179))[_0x36a2c3(0x15e)]()[_0x36a2c3(0x193)](a239_0x59c78c)[_0x36a2c3(0x18d)]('(((.+)+)+)+$');});a239_0x59c78c();'use strict';function a239_0xe6b7(){const _0xb96d24=['delete\x20attachment\x20%s\x20from\x20salesforce','/sobjects/','../utils/create-request.util','Inject','2LcvEmI','loggerId','defineProperty','text','delete','decorate','metadata','SalesforceAuthService','84584sfXdRx','getOwnPropertyDescriptor','services/data/','get','then','SalesforceError','/flosum_git','[message]\x20%s','(((.+)+)+)+$','3HXNeRF','SalesforceLogger','2208060VABbAr','design:paramtypes','3516705oQNyjw','../../../../core/errors/internal-server.error','IGNORE_FLOSUM_GIT_NAMESPACE','../dto/connection.dto','internalLogger','logger','../errors/salesforce.error','236058pDMchD','deleteAttachment','post','60bVUepK','__param','services/apexrest','__decorate','error','search','InternalServerError','145492XlSkhj','request','fetchConnection','typedi','constructor','retrieve\x20attachment\x20%s\x20from\x20salesforce','function','getLogger','length','createSalesforceRequest','SALESFORCE_API_VERSION','__metadata','patchObject','patch','4873DJvyxD','./salesforce-auth.service','3362852VLoUnc','Logger','setLoggerId','object','namespace','arraybuffer','retrieveAttachment','name','SalesforceService','toString','/body','apply','/sobjects/Attachment/','322AKnEpY','4860bExLIQ','log'];a239_0xe6b7=function(){return _0xb96d24;};return a239_0xe6b7();}var __decorate=this&&this[a239_0xa6e503(0x18b)]||function(_0xcc4d5d,_0x52db14,_0x3268c2,_0x332282){const _0x135de6=a239_0xa6e503;var _0x44b097=arguments[_0x135de6(0x14d)],_0x4e8e37=_0x44b097<0x3?_0x52db14:_0x332282===null?_0x332282=Object[_0x135de6(0x172)](_0x52db14,_0x3268c2):_0x332282,_0x249249;if(typeof Reflect===_0x135de6(0x158)&&typeof Reflect[_0x135de6(0x16e)]==='function')_0x4e8e37=Reflect[_0x135de6(0x16e)](_0xcc4d5d,_0x52db14,_0x3268c2,_0x332282);else{for(var _0x5ef291=_0xcc4d5d[_0x135de6(0x14d)]-0x1;_0x5ef291>=0x0;_0x5ef291--)if(_0x249249=_0xcc4d5d[_0x5ef291])_0x4e8e37=(_0x44b097<0x3?_0x249249(_0x4e8e37):_0x44b097>0x3?_0x249249(_0x52db14,_0x3268c2,_0x4e8e37):_0x249249(_0x52db14,_0x3268c2))||_0x4e8e37;}return _0x44b097>0x3&&_0x4e8e37&&Object['defineProperty'](_0x52db14,_0x3268c2,_0x4e8e37),_0x4e8e37;},__metadata=this&&this[a239_0xa6e503(0x150)]||function(_0x2a1dc3,_0x514d9f){const _0x2aa8ca=a239_0xa6e503;if(typeof Reflect==='object'&&typeof Reflect[_0x2aa8ca(0x16f)]===_0x2aa8ca(0x195))return Reflect['metadata'](_0x2a1dc3,_0x514d9f);},__param=this&&this[a239_0xa6e503(0x189)]||function(_0x32d735,_0x44edc3){return function(_0x202897,_0x3934b9){_0x44edc3(_0x202897,_0x3934b9,_0x32d735);};},SalesforceService_1;Object[a239_0xa6e503(0x16b)](exports,'__esModule',{'value':!![]}),exports[a239_0xa6e503(0x15d)]=void 0x0;function a239_0xbd5b(_0x4f6e76,_0x8b41c7){const _0x2d6262=a239_0xe6b7();return a239_0xbd5b=function(_0x59c78c,_0x240b56){_0x59c78c=_0x59c78c-0x14d;let _0xe6b77e=_0x2d6262[_0x59c78c];return _0xe6b77e;},a239_0xbd5b(_0x4f6e76,_0x8b41c7);}const typedi_1=require(a239_0xa6e503(0x192)),core_1=require('../../../../core'),internal_server_error_1=require(a239_0xa6e503(0x17f)),salesforce_auth_service_1=require(a239_0xa6e503(0x154)),constants_1=require('../../../../constants'),create_request_util_1=require(a239_0xa6e503(0x167)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a239_0xa6e503(0x184)),connection_dto_1=require(a239_0xa6e503(0x181));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x718cc1){const _0x520bb0=a239_0xa6e503;this[_0x520bb0(0x183)]=new core_1[(_0x520bb0(0x156))](SalesforceService_1[_0x520bb0(0x15c)]),this['request']=(0x0,create_request_util_1[_0x520bb0(0x14e)])(_0x718cc1),this['namespace']=constants_1[_0x520bb0(0x180)]?'':_0x520bb0(0x177);}[a239_0xa6e503(0x157)](_0x5262cf){const _0x584703=a239_0xa6e503;this[_0x584703(0x16a)]=_0x5262cf,this[_0x584703(0x182)]=new salesforce_logger_service_1[(_0x584703(0x17b))](this);}[a239_0xa6e503(0x196)](){const _0x41068e=a239_0xa6e503;return this[_0x41068e(0x182)];}async['retrieveComponents'](_0x161b61){const _0x10144b=a239_0xa6e503;try{this[_0x10144b(0x183)][_0x10144b(0x164)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x161b61[_0x10144b(0x14d)]);const _0x4096bc=await this['request']['post'](_0x10144b(0x18a)+this[_0x10144b(0x159)]+'/attachments',{'componentIds':_0x161b61,'loggerId':this[_0x10144b(0x16a)]})['then'](({data:_0x4d9304})=>_0x4d9304);return _0x4096bc;}catch(_0x5eed27){this['logger'][_0x10144b(0x18c)](_0x5eed27);throw new salesforce_error_1[(_0x10144b(0x176))](_0x5eed27);}}async[a239_0xa6e503(0x186)](_0x2d6321){const _0x78f34e=a239_0xa6e503;try{this[_0x78f34e(0x183)][_0x78f34e(0x164)](_0x78f34e(0x165),_0x2d6321),await this[_0x78f34e(0x190)][_0x78f34e(0x16d)](_0x78f34e(0x173)+constants_1[_0x78f34e(0x14f)]+_0x78f34e(0x161)+_0x2d6321);}catch(_0x4249b9){this['logger'][_0x78f34e(0x18c)](_0x4249b9);throw new salesforce_error_1['SalesforceError'](_0x4249b9);}}async[a239_0xa6e503(0x15b)](_0x25b654,_0x8aa9e1=![]){const _0x5dee62=a239_0xa6e503;try{this['logger'][_0x5dee62(0x164)](_0x5dee62(0x194),_0x25b654);const _0x579caa=await this[_0x5dee62(0x190)]['get'](_0x5dee62(0x173)+constants_1[_0x5dee62(0x14f)]+_0x5dee62(0x161)+_0x25b654+_0x5dee62(0x15f),{'responseType':_0x8aa9e1?_0x5dee62(0x15a):_0x5dee62(0x16c)})[_0x5dee62(0x175)](({data:_0x140453})=>_0x140453);return _0x579caa;}catch(_0x3c23e2){this[_0x5dee62(0x183)][_0x5dee62(0x18c)](_0x3c23e2);throw new salesforce_error_1[(_0x5dee62(0x176))](_0x3c23e2);}}async['sendLog'](_0x5ae850){const _0x132c9d=a239_0xa6e503;try{_0x5ae850['forEach'](_0x3d043a=>this[_0x132c9d(0x183)][_0x132c9d(0x164)](_0x132c9d(0x178),_0x3d043a)),await this['request'][_0x132c9d(0x187)](_0x132c9d(0x18a)+this['namespace']+'/logger',{'messages':_0x5ae850,'loggerId':this[_0x132c9d(0x16a)]});}catch(_0x27ab1c){this[_0x132c9d(0x183)]['error'](_0x27ab1c);throw new internal_server_error_1[(_0x132c9d(0x18e))](_0x27ab1c);}}async['createObject'](_0x2f933a,_0x2e310c){const _0x2b0c7a=a239_0xa6e503;try{const {data:_0x40e659}=await this['request'][_0x2b0c7a(0x187)](_0x2b0c7a(0x173)+constants_1[_0x2b0c7a(0x14f)]+_0x2b0c7a(0x166)+_0x2f933a+'/',_0x2e310c);return _0x40e659['id'];}catch(_0x2e5ce7){throw new salesforce_error_1[(_0x2b0c7a(0x176))](_0x2e5ce7);}}async[a239_0xa6e503(0x151)](_0x93136a,_0x429b45,_0x4f9eea){const _0x1d90d6=a239_0xa6e503;try{await this['request'][_0x1d90d6(0x152)](_0x1d90d6(0x173)+constants_1['SALESFORCE_API_VERSION']+_0x1d90d6(0x166)+_0x93136a+'/'+_0x429b45,_0x4f9eea);}catch(_0x3bab40){throw new salesforce_error_1[(_0x1d90d6(0x176))](_0x3bab40);}}async[a239_0xa6e503(0x191)](_0x320233){const _0x56a6e9=a239_0xa6e503;try{const {data:_0x8c0513}=await this['request'][_0x56a6e9(0x174)](_0x56a6e9(0x18a)+this[_0x56a6e9(0x159)]+'/connection',{'params':{'connectionId':_0x320233}});return new connection_dto_1['ConnectionDto'](_0x8c0513);}catch(_0x1f009c){throw new salesforce_error_1[(_0x56a6e9(0x176))](_0x1f009c);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a239_0xa6e503(0x168)])()),__metadata(a239_0xa6e503(0x17d),[salesforce_auth_service_1[a239_0xa6e503(0x170)]])],SalesforceService),exports[a239_0xa6e503(0x15d)]=SalesforceService;