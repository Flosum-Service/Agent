const a245_0x16b92d=a245_0x4a79;(function(_0x354540,_0x425613){const _0x4ca967=a245_0x4a79,_0x25a041=_0x354540();while(!![]){try{const _0x517f15=parseInt(_0x4ca967(0xb2))/0x1*(-parseInt(_0x4ca967(0xba))/0x2)+parseInt(_0x4ca967(0xa5))/0x3+parseInt(_0x4ca967(0xb1))/0x4+-parseInt(_0x4ca967(0x9a))/0x5*(parseInt(_0x4ca967(0xcd))/0x6)+-parseInt(_0x4ca967(0xb6))/0x7*(parseInt(_0x4ca967(0xca))/0x8)+-parseInt(_0x4ca967(0x9c))/0x9+parseInt(_0x4ca967(0xbc))/0xa;if(_0x517f15===_0x425613)break;else _0x25a041['push'](_0x25a041['shift']());}catch(_0x311e8f){_0x25a041['push'](_0x25a041['shift']());}}}(a245_0x509f,0xeb680));const a245_0xdad817=(function(){let _0x2916df=!![];return function(_0x2d7d21,_0x276f79){const _0x211fc7=_0x2916df?function(){const _0x284985=a245_0x4a79;if(_0x276f79){const _0x2c851d=_0x276f79[_0x284985(0xc5)](_0x2d7d21,arguments);return _0x276f79=null,_0x2c851d;}}:function(){};return _0x2916df=![],_0x211fc7;};}()),a245_0x4a5bee=a245_0xdad817(this,function(){const _0x4d98b4=a245_0x4a79;return a245_0x4a5bee[_0x4d98b4(0xae)]()['search'](_0x4d98b4(0xa9))[_0x4d98b4(0xae)]()[_0x4d98b4(0xc1)](a245_0x4a5bee)[_0x4d98b4(0xad)](_0x4d98b4(0xa9));});a245_0x4a5bee();'use strict';var __decorate=this&&this['__decorate']||function(_0x3a6fa0,_0x5ff0f2,_0x1eed7c,_0x84c66b){const _0x2957c2=a245_0x4a79;var _0x2589b7=arguments[_0x2957c2(0xcf)],_0x1ba1ce=_0x2589b7<0x3?_0x5ff0f2:_0x84c66b===null?_0x84c66b=Object['getOwnPropertyDescriptor'](_0x5ff0f2,_0x1eed7c):_0x84c66b,_0x300d9e;if(typeof Reflect===_0x2957c2(0xa2)&&typeof Reflect[_0x2957c2(0xd3)]===_0x2957c2(0xc3))_0x1ba1ce=Reflect['decorate'](_0x3a6fa0,_0x5ff0f2,_0x1eed7c,_0x84c66b);else{for(var _0x3aecdb=_0x3a6fa0[_0x2957c2(0xcf)]-0x1;_0x3aecdb>=0x0;_0x3aecdb--)if(_0x300d9e=_0x3a6fa0[_0x3aecdb])_0x1ba1ce=(_0x2589b7<0x3?_0x300d9e(_0x1ba1ce):_0x2589b7>0x3?_0x300d9e(_0x5ff0f2,_0x1eed7c,_0x1ba1ce):_0x300d9e(_0x5ff0f2,_0x1eed7c))||_0x1ba1ce;}return _0x2589b7>0x3&&_0x1ba1ce&&Object['defineProperty'](_0x5ff0f2,_0x1eed7c,_0x1ba1ce),_0x1ba1ce;},__metadata=this&&this['__metadata']||function(_0x5e7780,_0x17df20){const _0x2dd9a3=a245_0x4a79;if(typeof Reflect===_0x2dd9a3(0xa2)&&typeof Reflect[_0x2dd9a3(0xb3)]==='function')return Reflect[_0x2dd9a3(0xb3)](_0x5e7780,_0x17df20);},__param=this&&this[a245_0x16b92d(0xa4)]||function(_0x5dc381,_0x4c2810){return function(_0x1d68ba,_0x5c5d4b){_0x4c2810(_0x1d68ba,_0x5c5d4b,_0x5dc381);};},SalesforceService_1;Object[a245_0x16b92d(0xa1)](exports,a245_0x16b92d(0x91),{'value':!![]}),exports[a245_0x16b92d(0xb4)]=void 0x0;const typedi_1=require(a245_0x16b92d(0xcc)),core_1=require('../../../../core'),internal_server_error_1=require('../../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a245_0x16b92d(0xbd)),constants_1=require('../../../../constants'),create_request_util_1=require(a245_0x16b92d(0x93)),salesforce_logger_service_1=require(a245_0x16b92d(0xb9)),salesforce_error_1=require(a245_0x16b92d(0xc6)),connection_dto_1=require(a245_0x16b92d(0xb8));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x311849){const _0x4d883e=a245_0x16b92d;this['logger']=new core_1['Logger'](SalesforceService_1['name']),this[_0x4d883e(0xc2)]=(0x0,create_request_util_1[_0x4d883e(0x9d)])(_0x311849),this[_0x4d883e(0xd0)]=constants_1[_0x4d883e(0xa3)]?'':_0x4d883e(0x98);}['setLoggerId'](_0x32c85f){const _0x3422db=a245_0x16b92d;this['loggerId']=_0x32c85f,this[_0x3422db(0xc0)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a245_0x16b92d(0xaa)](){return this['internalLogger'];}async[a245_0x16b92d(0xbf)](_0x420bd8){const _0x296439=a245_0x16b92d;try{this[_0x296439(0xbb)][_0x296439(0xa0)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x420bd8[_0x296439(0xcf)]);const _0x2459c6=await this['request']['post'](_0x296439(0xd4)+this[_0x296439(0xd0)]+_0x296439(0xb5),{'componentIds':_0x420bd8,'loggerId':this['loggerId']})[_0x296439(0xd6)](({data:_0x5dfa06})=>_0x5dfa06);return _0x2459c6;}catch(_0x12542){this[_0x296439(0xbb)]['error'](_0x12542);throw new salesforce_error_1[(_0x296439(0x99))](_0x12542);}}async['deleteAttachment'](_0x364f26){const _0x1e37d4=a245_0x16b92d;try{this[_0x1e37d4(0xbb)]['log']('delete\x20attachment\x20%s\x20from\x20salesforce',_0x364f26),await this[_0x1e37d4(0xc2)][_0x1e37d4(0xd1)](_0x1e37d4(0xac)+constants_1[_0x1e37d4(0x9b)]+'/sobjects/Attachment/'+_0x364f26);}catch(_0x21d7a6){this[_0x1e37d4(0xbb)]['error'](_0x21d7a6);throw new salesforce_error_1['SalesforceError'](_0x21d7a6);}}async[a245_0x16b92d(0xbe)](_0x2a7092,_0x4f4a8a=![]){const _0x3b66cc=a245_0x16b92d;try{this[_0x3b66cc(0xbb)]['log'](_0x3b66cc(0xb7),_0x2a7092);const _0x46ef74=await this[_0x3b66cc(0xc2)][_0x3b66cc(0xa6)]('services/data/'+constants_1[_0x3b66cc(0x9b)]+_0x3b66cc(0xc9)+_0x2a7092+_0x3b66cc(0xa7),{'responseType':_0x4f4a8a?_0x3b66cc(0xd5):_0x3b66cc(0xc4)})[_0x3b66cc(0xd6)](({data:_0x4d519e})=>_0x4d519e);return _0x46ef74;}catch(_0x3eba63){this[_0x3b66cc(0xbb)][_0x3b66cc(0xc8)](_0x3eba63);throw new salesforce_error_1[(_0x3b66cc(0x99))](_0x3eba63);}}async[a245_0x16b92d(0xcb)](_0x150b84){const _0x1f9dfa=a245_0x16b92d;try{_0x150b84[_0x1f9dfa(0xa8)](_0x1199bf=>this[_0x1f9dfa(0xbb)]['log'](_0x1f9dfa(0xc7),_0x1199bf)),await this[_0x1f9dfa(0xc2)][_0x1f9dfa(0xaf)]('services/apexrest'+this['namespace']+_0x1f9dfa(0x95),{'messages':_0x150b84,'loggerId':this[_0x1f9dfa(0x97)]});}catch(_0x532398){this[_0x1f9dfa(0xbb)][_0x1f9dfa(0xc8)](_0x532398);throw new internal_server_error_1[(_0x1f9dfa(0x92))](_0x532398);}}async[a245_0x16b92d(0xce)](_0x940233,_0x5aeac4){const _0x140025=a245_0x16b92d;try{const {data:_0x56d358}=await this[_0x140025(0xc2)][_0x140025(0xaf)](_0x140025(0xac)+constants_1['SALESFORCE_API_VERSION']+_0x140025(0x94)+_0x940233+'/',_0x5aeac4);return _0x56d358['id'];}catch(_0x226be3){throw new salesforce_error_1['SalesforceError'](_0x226be3);}}async[a245_0x16b92d(0xb0)](_0x20d46b,_0xaa73ac,_0x5c85d2){const _0x5b355f=a245_0x16b92d;try{await this[_0x5b355f(0xc2)][_0x5b355f(0x96)]('services/data/'+constants_1[_0x5b355f(0x9b)]+'/sobjects/'+_0x20d46b+'/'+_0xaa73ac,_0x5c85d2);}catch(_0x51c8c5){throw new salesforce_error_1[(_0x5b355f(0x99))](_0x51c8c5);}}async['fetchConnection'](_0x1438a1){const _0x396886=a245_0x16b92d;try{const {data:_0x30f98e}=await this[_0x396886(0xc2)]['get'](_0x396886(0xd4)+this['namespace']+'/connection',{'params':{'connectionId':_0x1438a1}});return new connection_dto_1[(_0x396886(0x9f))](_0x30f98e);}catch(_0x59dfd8){throw new salesforce_error_1[(_0x396886(0x99))](_0x59dfd8);}}};function a245_0x4a79(_0x5933c2,_0xdb6c77){const _0x1d4cfe=a245_0x509f();return a245_0x4a79=function(_0x4a5bee,_0xdad817){_0x4a5bee=_0x4a5bee-0x91;let _0x509f23=_0x1d4cfe[_0x4a5bee];return _0x509f23;},a245_0x4a79(_0x5933c2,_0xdb6c77);}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x16b92d(0xd2)])()),__metadata(a245_0x16b92d(0xab),[salesforce_auth_service_1[a245_0x16b92d(0x9e)]])],SalesforceService),exports[a245_0x16b92d(0xb4)]=SalesforceService;function a245_0x509f(){const _0x1e34a7=['getLogger','design:paramtypes','services/data/','search','toString','post','patchObject','5138588ysFwSe','1nrjspn','metadata','SalesforceService','/attachments','3196585VtEcoP','retrieve\x20attachment\x20%s\x20from\x20salesforce','../dto/connection.dto','./salesforce-logger.service','2670636AYmIFX','logger','10332500KIsqPw','./salesforce-auth.service','retrieveAttachment','retrieveComponents','internalLogger','constructor','request','function','text','apply','../errors/salesforce.error','[message]\x20%s','error','/sobjects/Attachment/','8sUpAmq','sendLog','typedi','2814bwOABW','createObject','length','namespace','delete','Inject','decorate','services/apexrest','arraybuffer','then','__esModule','InternalServerError','../utils/create-request.util','/sobjects/','/logger','patch','loggerId','/flosum_git','SalesforceError','1190zBmOsY','SALESFORCE_API_VERSION','4616073QFZwxR','createSalesforceRequest','SalesforceAuthService','ConnectionDto','log','defineProperty','object','IGNORE_FLOSUM_GIT_NAMESPACE','__param','3188457QHINDb','get','/body','forEach','(((.+)+)+)+$'];a245_0x509f=function(){return _0x1e34a7;};return a245_0x509f();}