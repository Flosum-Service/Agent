const a206_0x24e1e2=a206_0x2632;(function(_0x527029,_0x3b41d6){const _0x47ee75=a206_0x2632,_0x4ce396=_0x527029();while(!![]){try{const _0x213eb4=-parseInt(_0x47ee75(0x18e))/0x1*(-parseInt(_0x47ee75(0x1ac))/0x2)+parseInt(_0x47ee75(0x16f))/0x3*(-parseInt(_0x47ee75(0x199))/0x4)+-parseInt(_0x47ee75(0x16d))/0x5+-parseInt(_0x47ee75(0x197))/0x6+parseInt(_0x47ee75(0x19a))/0x7+parseInt(_0x47ee75(0x162))/0x8*(parseInt(_0x47ee75(0x18a))/0x9)+-parseInt(_0x47ee75(0x1a1))/0xa*(parseInt(_0x47ee75(0x172))/0xb);if(_0x213eb4===_0x3b41d6)break;else _0x4ce396['push'](_0x4ce396['shift']());}catch(_0x2de81a){_0x4ce396['push'](_0x4ce396['shift']());}}}(a206_0x405a,0xdf88d));const a206_0x369e6c=(function(){let _0x27061d=!![];return function(_0x49464a,_0x2273de){const _0x32285a=_0x27061d?function(){const _0x899107=a206_0x2632;if(_0x2273de){const _0x2f1b28=_0x2273de[_0x899107(0x166)](_0x49464a,arguments);return _0x2273de=null,_0x2f1b28;}}:function(){};return _0x27061d=![],_0x32285a;};}()),a206_0x1aadb4=a206_0x369e6c(this,function(){const _0x5582fb=a206_0x2632;return a206_0x1aadb4[_0x5582fb(0x17f)]()[_0x5582fb(0x187)](_0x5582fb(0x174))['toString']()[_0x5582fb(0x164)](a206_0x1aadb4)[_0x5582fb(0x187)](_0x5582fb(0x174));});function a206_0x405a(){const _0x53906f=['Service','namespace','SalesforceError','toString','error','IGNORE_FLOSUM_GIT_NAMESPACE','post','/attachments','/sobjects/','./salesforce-logger.service','object','search','patch','../dto/connection.dto','7265088EgsDKt','retrieve\x20attachment\x20%s\x20from\x20salesforce','/body','SalesforceAuthService','1llrYNj','/logger','__esModule','InternalServerError','__param','fetchConnection','./salesforce-auth.service','length','setLoggerId','7769808JVezdV','../../../../core','2228212YpJBnw','10802085HrYjAG','services/apexrest','../utils/create-request.util','retrieve\x20components\x20\x20%d\x20from\x20salesforce','sendLog','/flosum_git','SalesforceLogger','5572120YZZeBU','__decorate','text','createSalesforceRequest','metadata','log','services/data/','retrieveComponents','function','get','ConnectionDto','2136758HjnxIE','SalesforceService','16Dymeti','../../../../core/errors/internal-server.error','constructor','Logger','apply','/sobjects/Attachment/','arraybuffer','delete','getOwnPropertyDescriptor','defineProperty','request','1719780UhKqlL','SALESFORCE_API_VERSION','3rTCMAK','design:paramtypes','decorate','22asfFmG','logger','(((.+)+)+)+$','loggerId','/connection','createObject','then','name','deleteAttachment','internalLogger'];a206_0x405a=function(){return _0x53906f;};return a206_0x405a();}function a206_0x2632(_0xd00c7c,_0x38fca6){const _0x847310=a206_0x405a();return a206_0x2632=function(_0x1aadb4,_0x369e6c){_0x1aadb4=_0x1aadb4-0x161;let _0x405aaf=_0x847310[_0x1aadb4];return _0x405aaf;},a206_0x2632(_0xd00c7c,_0x38fca6);}a206_0x1aadb4();'use strict';var __decorate=this&&this[a206_0x24e1e2(0x1a2)]||function(_0x58e5fb,_0xb4a4c0,_0x3b2bd9,_0x5492f0){const _0x1e55a4=a206_0x24e1e2;var _0x459f8e=arguments[_0x1e55a4(0x195)],_0x1b6a86=_0x459f8e<0x3?_0xb4a4c0:_0x5492f0===null?_0x5492f0=Object[_0x1e55a4(0x16a)](_0xb4a4c0,_0x3b2bd9):_0x5492f0,_0x5d3f21;if(typeof Reflect==='object'&&typeof Reflect[_0x1e55a4(0x171)]===_0x1e55a4(0x1a9))_0x1b6a86=Reflect[_0x1e55a4(0x171)](_0x58e5fb,_0xb4a4c0,_0x3b2bd9,_0x5492f0);else{for(var _0x52011e=_0x58e5fb['length']-0x1;_0x52011e>=0x0;_0x52011e--)if(_0x5d3f21=_0x58e5fb[_0x52011e])_0x1b6a86=(_0x459f8e<0x3?_0x5d3f21(_0x1b6a86):_0x459f8e>0x3?_0x5d3f21(_0xb4a4c0,_0x3b2bd9,_0x1b6a86):_0x5d3f21(_0xb4a4c0,_0x3b2bd9))||_0x1b6a86;}return _0x459f8e>0x3&&_0x1b6a86&&Object[_0x1e55a4(0x16b)](_0xb4a4c0,_0x3b2bd9,_0x1b6a86),_0x1b6a86;},__metadata=this&&this['__metadata']||function(_0x96f675,_0x4d0f1c){const _0x1dceb1=a206_0x24e1e2;if(typeof Reflect===_0x1dceb1(0x186)&&typeof Reflect[_0x1dceb1(0x1a5)]===_0x1dceb1(0x1a9))return Reflect['metadata'](_0x96f675,_0x4d0f1c);},__param=this&&this[a206_0x24e1e2(0x192)]||function(_0x42b1c6,_0x2254b9){return function(_0x4bd38e,_0x4504a5){_0x2254b9(_0x4bd38e,_0x4504a5,_0x42b1c6);};},SalesforceService_1;Object[a206_0x24e1e2(0x16b)](exports,a206_0x24e1e2(0x190),{'value':!![]}),exports[a206_0x24e1e2(0x161)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a206_0x24e1e2(0x198)),internal_server_error_1=require(a206_0x24e1e2(0x163)),salesforce_auth_service_1=require(a206_0x24e1e2(0x194)),constants_1=require('../../../../constants'),create_request_util_1=require(a206_0x24e1e2(0x19c)),salesforce_logger_service_1=require(a206_0x24e1e2(0x185)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a206_0x24e1e2(0x189));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x54d197){const _0x47f0fa=a206_0x24e1e2;this[_0x47f0fa(0x173)]=new core_1[(_0x47f0fa(0x165))](SalesforceService_1[_0x47f0fa(0x179)]),this[_0x47f0fa(0x16c)]=(0x0,create_request_util_1[_0x47f0fa(0x1a4)])(_0x54d197),this[_0x47f0fa(0x17d)]=constants_1[_0x47f0fa(0x181)]?'':_0x47f0fa(0x19f);}[a206_0x24e1e2(0x196)](_0x2de2b0){const _0x48da66=a206_0x24e1e2;this[_0x48da66(0x175)]=_0x2de2b0,this[_0x48da66(0x17b)]=new salesforce_logger_service_1[(_0x48da66(0x1a0))](this);}['getLogger'](){return this['internalLogger'];}async[a206_0x24e1e2(0x1a8)](_0x2912f3){const _0x16510a=a206_0x24e1e2;try{this['logger'][_0x16510a(0x1a6)](_0x16510a(0x19d),_0x2912f3[_0x16510a(0x195)]);const _0x542760=await this['request'][_0x16510a(0x182)](_0x16510a(0x19b)+this[_0x16510a(0x17d)]+_0x16510a(0x183),{'componentIds':_0x2912f3,'loggerId':this[_0x16510a(0x175)]})['then'](({data:_0x79a52a})=>_0x79a52a);return _0x542760;}catch(_0x459fff){this['logger'][_0x16510a(0x180)](_0x459fff);throw new salesforce_error_1['SalesforceError'](_0x459fff);}}async[a206_0x24e1e2(0x17a)](_0x1428b6){const _0x4c3abd=a206_0x24e1e2;try{this[_0x4c3abd(0x173)]['log']('delete\x20attachment\x20%s\x20from\x20salesforce',_0x1428b6),await this[_0x4c3abd(0x16c)][_0x4c3abd(0x169)](_0x4c3abd(0x1a7)+constants_1[_0x4c3abd(0x16e)]+_0x4c3abd(0x167)+_0x1428b6);}catch(_0x452014){this[_0x4c3abd(0x173)][_0x4c3abd(0x180)](_0x452014);throw new salesforce_error_1['SalesforceError'](_0x452014);}}async['retrieveAttachment'](_0x1557e9,_0x18b3f3=![]){const _0x5d79fb=a206_0x24e1e2;try{this[_0x5d79fb(0x173)][_0x5d79fb(0x1a6)](_0x5d79fb(0x18b),_0x1557e9);const _0x5994a3=await this[_0x5d79fb(0x16c)]['get'](_0x5d79fb(0x1a7)+constants_1[_0x5d79fb(0x16e)]+_0x5d79fb(0x167)+_0x1557e9+_0x5d79fb(0x18c),{'responseType':_0x18b3f3?_0x5d79fb(0x168):_0x5d79fb(0x1a3)})[_0x5d79fb(0x178)](({data:_0x437cd7})=>_0x437cd7);return _0x5994a3;}catch(_0x2a0346){this['logger'][_0x5d79fb(0x180)](_0x2a0346);throw new salesforce_error_1[(_0x5d79fb(0x17e))](_0x2a0346);}}async[a206_0x24e1e2(0x19e)](_0x553ae5){const _0x546bb9=a206_0x24e1e2;try{_0x553ae5['forEach'](_0x2e895a=>this[_0x546bb9(0x173)][_0x546bb9(0x1a6)]('[message]\x20%s',_0x2e895a)),await this[_0x546bb9(0x16c)]['post'](_0x546bb9(0x19b)+this[_0x546bb9(0x17d)]+_0x546bb9(0x18f),{'messages':_0x553ae5,'loggerId':this[_0x546bb9(0x175)]});}catch(_0x5ccf2d){this[_0x546bb9(0x173)]['error'](_0x5ccf2d);throw new internal_server_error_1[(_0x546bb9(0x191))](_0x5ccf2d);}}async[a206_0x24e1e2(0x177)](_0x320f4c,_0x109511){const _0xdd35f3=a206_0x24e1e2;try{const {data:_0xf5b2b7}=await this['request'][_0xdd35f3(0x182)](_0xdd35f3(0x1a7)+constants_1['SALESFORCE_API_VERSION']+_0xdd35f3(0x184)+_0x320f4c+'/',_0x109511);return _0xf5b2b7['id'];}catch(_0x5af27a){throw new salesforce_error_1[(_0xdd35f3(0x17e))](_0x5af27a);}}async['patchObject'](_0x111245,_0x149ef6,_0x310672){const _0x20d39c=a206_0x24e1e2;try{await this[_0x20d39c(0x16c)][_0x20d39c(0x188)](_0x20d39c(0x1a7)+constants_1[_0x20d39c(0x16e)]+'/sobjects/'+_0x111245+'/'+_0x149ef6,_0x310672);}catch(_0x17222f){throw new salesforce_error_1['SalesforceError'](_0x17222f);}}async[a206_0x24e1e2(0x193)](_0x573f70){const _0x2f9dbf=a206_0x24e1e2;try{const {data:_0x3f9e75}=await this[_0x2f9dbf(0x16c)][_0x2f9dbf(0x1aa)](_0x2f9dbf(0x19b)+this[_0x2f9dbf(0x17d)]+_0x2f9dbf(0x176),{'params':{'connectionId':_0x573f70}});return new connection_dto_1[(_0x2f9dbf(0x1ab))](_0x3f9e75);}catch(_0x1e71c9){throw new salesforce_error_1['SalesforceError'](_0x1e71c9);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a206_0x24e1e2(0x17c)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a206_0x24e1e2(0x170),[salesforce_auth_service_1[a206_0x24e1e2(0x18d)]])],SalesforceService),exports['SalesforceService']=SalesforceService;