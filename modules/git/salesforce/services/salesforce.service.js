const a283_0x5a250a=a283_0x5073;(function(_0x2bd1b8,_0x14da04){const _0x578739=a283_0x5073,_0x1f25b3=_0x2bd1b8();while(!![]){try{const _0x46423a=-parseInt(_0x578739(0x130))/0x1+parseInt(_0x578739(0x149))/0x2+parseInt(_0x578739(0x139))/0x3*(-parseInt(_0x578739(0x13f))/0x4)+parseInt(_0x578739(0x154))/0x5*(parseInt(_0x578739(0x136))/0x6)+-parseInt(_0x578739(0x127))/0x7+-parseInt(_0x578739(0x15f))/0x8+-parseInt(_0x578739(0x150))/0x9*(-parseInt(_0x578739(0x13e))/0xa);if(_0x46423a===_0x14da04)break;else _0x1f25b3['push'](_0x1f25b3['shift']());}catch(_0x9ea781){_0x1f25b3['push'](_0x1f25b3['shift']());}}}(a283_0x4178,0xb9f45));const a283_0x1ab8fe=(function(){let _0xac918d=!![];return function(_0x29d1cb,_0xafd7f9){const _0x37a64c=_0xac918d?function(){const _0x4e017d=a283_0x5073;if(_0xafd7f9){const _0x396ff5=_0xafd7f9[_0x4e017d(0x16b)](_0x29d1cb,arguments);return _0xafd7f9=null,_0x396ff5;}}:function(){};return _0xac918d=![],_0x37a64c;};}()),a283_0x2e0958=a283_0x1ab8fe(this,function(){const _0x5b57a4=a283_0x5073;return a283_0x2e0958[_0x5b57a4(0x168)]()[_0x5b57a4(0x155)](_0x5b57a4(0x152))[_0x5b57a4(0x168)]()[_0x5b57a4(0x134)](a283_0x2e0958)[_0x5b57a4(0x155)](_0x5b57a4(0x152));});function a283_0x4178(){const _0x2b66d3=['then','object','1222071EGSvuh','post','Retrieve\x20attachment\x20%s\x20from\x20salesforce','Inject','createSalesforceRequest','570KEKJPo','4fmxSYr','typedi','getOwnPropertyDescriptor','services/apexrest','retrieveAttachment','IGNORE_FLOSUM_GIT_NAMESPACE','length','SalesforceService','../classes/bulk-components-retriever','sendLog','3002130SaHnMx','../errors/salesforce.error','../../../../core/errors/internal-server.error','function','SALESFORCE_API_VERSION','name','services/data/','223191BivHbL','InternalServerError','(((.+)+)+)+$','forEach','290XbYSOr','search','Service','get','/sobjects/','namespace','[message]\x20%s','./salesforce-auth.service','metadata','request','defineProperty','3626432iZfXOu','retrieveComponents','Delete\x20attachment\x20%s\x20from\x20salesforce','SalesforceLogger','patch','internalLogger','logger','ConnectionDto','/sobjects/Attachment/','toString','__metadata','log','apply','arraybuffer','patchObject','__param','/flosum_git','loggerId','createObject','getLogger','/logger','setLoggerId','4337459AFndxt','decorate','SalesforceAuthService','delete','/body','retrieve','BulkComponentsRetriever','deleteAttachment','error','1154853afTcnt','__esModule','Logger','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','constructor','SalesforceError','49884EsGFdX'];a283_0x4178=function(){return _0x2b66d3;};return a283_0x4178();}a283_0x2e0958();'use strict';var __decorate=this&&this['__decorate']||function(_0xa92966,_0x2134a8,_0x9a0209,_0x517984){const _0x3e4039=a283_0x5073;var _0x2f11dc=arguments[_0x3e4039(0x145)],_0x4c4aa5=_0x2f11dc<0x3?_0x2134a8:_0x517984===null?_0x517984=Object[_0x3e4039(0x141)](_0x2134a8,_0x9a0209):_0x517984,_0x53a352;if(typeof Reflect==='object'&&typeof Reflect[_0x3e4039(0x128)]===_0x3e4039(0x14c))_0x4c4aa5=Reflect[_0x3e4039(0x128)](_0xa92966,_0x2134a8,_0x9a0209,_0x517984);else{for(var _0x537b4b=_0xa92966[_0x3e4039(0x145)]-0x1;_0x537b4b>=0x0;_0x537b4b--)if(_0x53a352=_0xa92966[_0x537b4b])_0x4c4aa5=(_0x2f11dc<0x3?_0x53a352(_0x4c4aa5):_0x2f11dc>0x3?_0x53a352(_0x2134a8,_0x9a0209,_0x4c4aa5):_0x53a352(_0x2134a8,_0x9a0209))||_0x4c4aa5;}return _0x2f11dc>0x3&&_0x4c4aa5&&Object[_0x3e4039(0x15e)](_0x2134a8,_0x9a0209,_0x4c4aa5),_0x4c4aa5;},__metadata=this&&this[a283_0x5a250a(0x169)]||function(_0x2b783f,_0x52fc0a){const _0x25e3ef=a283_0x5a250a;if(typeof Reflect===_0x25e3ef(0x138)&&typeof Reflect['metadata']===_0x25e3ef(0x14c))return Reflect[_0x25e3ef(0x15c)](_0x2b783f,_0x52fc0a);},__param=this&&this[a283_0x5a250a(0x16e)]||function(_0x4a249d,_0xd4f5f){return function(_0x32b7b0,_0x3ea73b){_0xd4f5f(_0x32b7b0,_0x3ea73b,_0x4a249d);};},SalesforceService_1;function a283_0x5073(_0x3f48d1,_0x5226d0){const _0x10f5a8=a283_0x4178();return a283_0x5073=function(_0x2e0958,_0x1ab8fe){_0x2e0958=_0x2e0958-0x127;let _0x4178a8=_0x10f5a8[_0x2e0958];return _0x4178a8;},a283_0x5073(_0x3f48d1,_0x5226d0);}Object[a283_0x5a250a(0x15e)](exports,a283_0x5a250a(0x131),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a283_0x5a250a(0x140)),core_1=require('../../../../core'),internal_server_error_1=require(a283_0x5a250a(0x14b)),salesforce_auth_service_1=require(a283_0x5a250a(0x15b)),constants_1=require('../../../../constants'),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a283_0x5a250a(0x14a)),connection_dto_1=require('../dto/connection.dto'),bulk_components_retriever_1=require(a283_0x5a250a(0x147));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x5bc313){const _0x3a4337=a283_0x5a250a;this[_0x3a4337(0x165)]=new core_1[(_0x3a4337(0x132))](SalesforceService_1[_0x3a4337(0x14e)]),this[_0x3a4337(0x15d)]=(0x0,create_request_util_1[_0x3a4337(0x13d)])(_0x5bc313),this[_0x3a4337(0x159)]=constants_1[_0x3a4337(0x144)]?'':_0x3a4337(0x16f);}[a283_0x5a250a(0x174)](_0x3498d2){const _0x5ebc6e=a283_0x5a250a;this[_0x5ebc6e(0x170)]=_0x3498d2,this[_0x5ebc6e(0x164)]=new salesforce_logger_service_1[(_0x5ebc6e(0x162))](this);}[a283_0x5a250a(0x172)](){const _0x3c2f10=a283_0x5a250a;return this[_0x3c2f10(0x164)];}async[a283_0x5a250a(0x160)](_0x378a56){const _0x3c52ac=a283_0x5a250a;try{this[_0x3c52ac(0x165)][_0x3c52ac(0x16a)](_0x3c52ac(0x133),_0x378a56['length']);const _0x35a104=new bulk_components_retriever_1[(_0x3c52ac(0x12d))]({'request':this[_0x3c52ac(0x15d)],'ids':_0x378a56}),_0x20002a=await _0x35a104[_0x3c52ac(0x12c)]();return _0x20002a;}catch(_0x19303b){this['logger']['error'](_0x19303b);throw new salesforce_error_1[(_0x3c52ac(0x135))](_0x19303b);}}async[a283_0x5a250a(0x12e)](_0xd9272c){const _0x4a8e09=a283_0x5a250a;try{this[_0x4a8e09(0x165)][_0x4a8e09(0x16a)](_0x4a8e09(0x161),_0xd9272c),await this['request'][_0x4a8e09(0x12a)](_0x4a8e09(0x14f)+constants_1[_0x4a8e09(0x14d)]+_0x4a8e09(0x167)+_0xd9272c);}catch(_0x2a761f){this[_0x4a8e09(0x165)]['error'](_0x2a761f);throw new salesforce_error_1[(_0x4a8e09(0x135))](_0x2a761f);}}async[a283_0x5a250a(0x143)](_0x137fbf,_0x156668=![]){const _0x1a83ff=a283_0x5a250a;try{this[_0x1a83ff(0x165)][_0x1a83ff(0x16a)](_0x1a83ff(0x13b),_0x137fbf);const _0x5bd36b=await this[_0x1a83ff(0x15d)][_0x1a83ff(0x157)](_0x1a83ff(0x14f)+constants_1[_0x1a83ff(0x14d)]+_0x1a83ff(0x167)+_0x137fbf+_0x1a83ff(0x12b),{'responseType':_0x156668?_0x1a83ff(0x16c):'text'})[_0x1a83ff(0x137)](({data:_0x24ac32})=>_0x24ac32);return _0x5bd36b;}catch(_0x3c6783){this['logger'][_0x1a83ff(0x12f)](_0x3c6783);throw new salesforce_error_1[(_0x1a83ff(0x135))](_0x3c6783);}}async[a283_0x5a250a(0x148)](_0x3e2241){const _0x7395a0=a283_0x5a250a;try{_0x3e2241[_0x7395a0(0x153)](_0x258f10=>this[_0x7395a0(0x165)]['log'](_0x7395a0(0x15a),_0x258f10)),await this[_0x7395a0(0x15d)][_0x7395a0(0x13a)]('services/apexrest'+this['namespace']+_0x7395a0(0x173),{'messages':_0x3e2241,'loggerId':this[_0x7395a0(0x170)]});}catch(_0x348d63){this['logger'][_0x7395a0(0x12f)](_0x348d63);throw new internal_server_error_1[(_0x7395a0(0x151))](_0x348d63);}}async[a283_0x5a250a(0x171)](_0x4aee83,_0x3a476a){const _0xa184e2=a283_0x5a250a;try{const {data:_0x453697}=await this[_0xa184e2(0x15d)]['post'](_0xa184e2(0x14f)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x4aee83+'/',_0x3a476a);return _0x453697['id'];}catch(_0x417e68){throw new salesforce_error_1[(_0xa184e2(0x135))](_0x417e68);}}async[a283_0x5a250a(0x16d)](_0x4f1f65,_0x4eb59e,_0x16831f){const _0x3f6fc9=a283_0x5a250a;try{await this['request'][_0x3f6fc9(0x163)]('services/data/'+constants_1[_0x3f6fc9(0x14d)]+_0x3f6fc9(0x158)+_0x4f1f65+'/'+_0x4eb59e,_0x16831f);}catch(_0x38339c){throw new salesforce_error_1['SalesforceError'](_0x38339c);}}async['fetchConnection'](_0x37423c){const _0x24c80a=a283_0x5a250a;try{const {data:_0x49ad5b}=await this[_0x24c80a(0x15d)][_0x24c80a(0x157)](_0x24c80a(0x142)+this[_0x24c80a(0x159)]+'/connection',{'params':{'connectionId':_0x37423c}});return new connection_dto_1[(_0x24c80a(0x166))](_0x49ad5b);}catch(_0x8036a8){throw new salesforce_error_1['SalesforceError'](_0x8036a8);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a283_0x5a250a(0x156)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a283_0x5a250a(0x13c)])()),__metadata('design:paramtypes',[salesforce_auth_service_1[a283_0x5a250a(0x129)]])],SalesforceService),exports[a283_0x5a250a(0x146)]=SalesforceService;