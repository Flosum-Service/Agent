const a245_0x212b5f=a245_0x16a2;(function(_0x3c5573,_0xc28c6){const _0x1f35d7=a245_0x16a2,_0x2a8cb7=_0x3c5573();while(!![]){try{const _0x17f6ef=parseInt(_0x1f35d7(0xd6))/0x1*(parseInt(_0x1f35d7(0xc8))/0x2)+-parseInt(_0x1f35d7(0xf4))/0x3*(-parseInt(_0x1f35d7(0xf6))/0x4)+-parseInt(_0x1f35d7(0xd3))/0x5+-parseInt(_0x1f35d7(0xce))/0x6*(-parseInt(_0x1f35d7(0xf1))/0x7)+parseInt(_0x1f35d7(0xe7))/0x8*(parseInt(_0x1f35d7(0xca))/0x9)+parseInt(_0x1f35d7(0xfc))/0xa+-parseInt(_0x1f35d7(0xc5))/0xb*(parseInt(_0x1f35d7(0xdb))/0xc);if(_0x17f6ef===_0xc28c6)break;else _0x2a8cb7['push'](_0x2a8cb7['shift']());}catch(_0x447265){_0x2a8cb7['push'](_0x2a8cb7['shift']());}}}(a245_0x3d92,0x7941a));const a245_0x6d6183=(function(){let _0x51a201=!![];return function(_0x4b6cf3,_0x30ee7f){const _0x478e1e=_0x51a201?function(){const _0x4e128a=a245_0x16a2;if(_0x30ee7f){const _0x15a96c=_0x30ee7f[_0x4e128a(0xfa)](_0x4b6cf3,arguments);return _0x30ee7f=null,_0x15a96c;}}:function(){};return _0x51a201=![],_0x478e1e;};}()),a245_0x2b2680=a245_0x6d6183(this,function(){const _0x4559e4=a245_0x16a2;return a245_0x2b2680['toString']()[_0x4559e4(0xcb)](_0x4559e4(0xf2))[_0x4559e4(0x100)]()[_0x4559e4(0xe3)](a245_0x2b2680)[_0x4559e4(0xcb)]('(((.+)+)+)+$');});a245_0x2b2680();'use strict';var __decorate=this&&this[a245_0x212b5f(0xc6)]||function(_0x23148f,_0x11db57,_0x4ce609,_0x10aa19){const _0x3a2554=a245_0x212b5f;var _0x5bf6a8=arguments['length'],_0x171872=_0x5bf6a8<0x3?_0x11db57:_0x10aa19===null?_0x10aa19=Object[_0x3a2554(0xd0)](_0x11db57,_0x4ce609):_0x10aa19,_0x3daa48;if(typeof Reflect===_0x3a2554(0xd8)&&typeof Reflect['decorate']===_0x3a2554(0xcd))_0x171872=Reflect[_0x3a2554(0x102)](_0x23148f,_0x11db57,_0x4ce609,_0x10aa19);else{for(var _0x172336=_0x23148f[_0x3a2554(0xd7)]-0x1;_0x172336>=0x0;_0x172336--)if(_0x3daa48=_0x23148f[_0x172336])_0x171872=(_0x5bf6a8<0x3?_0x3daa48(_0x171872):_0x5bf6a8>0x3?_0x3daa48(_0x11db57,_0x4ce609,_0x171872):_0x3daa48(_0x11db57,_0x4ce609))||_0x171872;}return _0x5bf6a8>0x3&&_0x171872&&Object[_0x3a2554(0xeb)](_0x11db57,_0x4ce609,_0x171872),_0x171872;},__metadata=this&&this[a245_0x212b5f(0x109)]||function(_0x5e2927,_0x114d70){const _0x2f1f56=a245_0x212b5f;if(typeof Reflect===_0x2f1f56(0xd8)&&typeof Reflect[_0x2f1f56(0xec)]===_0x2f1f56(0xcd))return Reflect[_0x2f1f56(0xec)](_0x5e2927,_0x114d70);},__param=this&&this[a245_0x212b5f(0x10b)]||function(_0x40cf67,_0x47460c){return function(_0x5042ac,_0x404048){_0x47460c(_0x5042ac,_0x404048,_0x40cf67);};},SalesforceService_1;function a245_0x16a2(_0x5c371a,_0x176aed){const _0x1f6a70=a245_0x3d92();return a245_0x16a2=function(_0x2b2680,_0x6d6183){_0x2b2680=_0x2b2680-0xc3;let _0x3d92af=_0x1f6a70[_0x2b2680];return _0x3d92af;},a245_0x16a2(_0x5c371a,_0x176aed);}Object[a245_0x212b5f(0xeb)](exports,a245_0x212b5f(0x108),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a245_0x212b5f(0xe4)),core_1=require(a245_0x212b5f(0x10c)),internal_server_error_1=require(a245_0x212b5f(0xf3)),salesforce_auth_service_1=require(a245_0x212b5f(0xcf)),constants_1=require('../../../../constants'),create_request_util_1=require(a245_0x212b5f(0xda)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a245_0x212b5f(0xe1)),connection_dto_1=require(a245_0x212b5f(0xfd));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x402a99){const _0x528b7d=a245_0x212b5f;this['logger']=new core_1[(_0x528b7d(0x105))](SalesforceService_1[_0x528b7d(0xdf)]),this['request']=(0x0,create_request_util_1[_0x528b7d(0xf0)])(_0x402a99),this[_0x528b7d(0xea)]=constants_1[_0x528b7d(0x103)]?'':_0x528b7d(0xe5);}[a245_0x212b5f(0xdc)](_0x23af38){const _0x4cef6c=a245_0x212b5f;this[_0x4cef6c(0xf5)]=_0x23af38,this['internalLogger']=new salesforce_logger_service_1[(_0x4cef6c(0xc7))](this);}['getLogger'](){const _0xae9602=a245_0x212b5f;return this[_0xae9602(0xf8)];}async[a245_0x212b5f(0xd2)](_0x2462bd){const _0x2c4099=a245_0x212b5f;try{this[_0x2c4099(0xcc)]['log']('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x2462bd['length']);const _0x12a3de=await this[_0x2c4099(0x107)][_0x2c4099(0xe9)](_0x2c4099(0xc4)+this['namespace']+_0x2c4099(0x104),{'componentIds':_0x2462bd,'loggerId':this[_0x2c4099(0xf5)]})[_0x2c4099(0xc9)](({data:_0x786824})=>_0x786824);return _0x12a3de;}catch(_0x595907){this['logger'][_0x2c4099(0xe0)](_0x595907);throw new salesforce_error_1[(_0x2c4099(0xf9))](_0x595907);}}async[a245_0x212b5f(0xd1)](_0x54e937){const _0x798456=a245_0x212b5f;try{this['logger'][_0x798456(0xe8)](_0x798456(0x106),_0x54e937),await this[_0x798456(0x107)][_0x798456(0xdd)](_0x798456(0xe2)+constants_1[_0x798456(0xc3)]+_0x798456(0xee)+_0x54e937);}catch(_0x5f562f){this['logger'][_0x798456(0xe0)](_0x5f562f);throw new salesforce_error_1['SalesforceError'](_0x5f562f);}}async[a245_0x212b5f(0xd5)](_0xdbf127,_0x479794=![]){const _0x37be46=a245_0x212b5f;try{this[_0x37be46(0xcc)][_0x37be46(0xe8)](_0x37be46(0xe6),_0xdbf127);const _0x3b8fbc=await this[_0x37be46(0x107)][_0x37be46(0xde)](_0x37be46(0xe2)+constants_1[_0x37be46(0xc3)]+_0x37be46(0xee)+_0xdbf127+'/body',{'responseType':_0x479794?'arraybuffer':_0x37be46(0xf7)})[_0x37be46(0xc9)](({data:_0x53ef58})=>_0x53ef58);return _0x3b8fbc;}catch(_0x39979e){this[_0x37be46(0xcc)][_0x37be46(0xe0)](_0x39979e);throw new salesforce_error_1[(_0x37be46(0xf9))](_0x39979e);}}async['sendLog'](_0x2f073b){const _0x3d9afc=a245_0x212b5f;try{_0x2f073b['forEach'](_0x22eb29=>this[_0x3d9afc(0xcc)][_0x3d9afc(0xe8)](_0x3d9afc(0xfb),_0x22eb29)),await this[_0x3d9afc(0x107)][_0x3d9afc(0xe9)](_0x3d9afc(0xc4)+this[_0x3d9afc(0xea)]+'/logger',{'messages':_0x2f073b,'loggerId':this['loggerId']});}catch(_0x52505f){this[_0x3d9afc(0xcc)][_0x3d9afc(0xe0)](_0x52505f);throw new internal_server_error_1['InternalServerError'](_0x52505f);}}async[a245_0x212b5f(0x101)](_0x390da1,_0x399bd7){const _0x12635a=a245_0x212b5f;try{const {data:_0x2a6572}=await this[_0x12635a(0x107)][_0x12635a(0xe9)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x12635a(0xef)+_0x390da1+'/',_0x399bd7);return _0x2a6572['id'];}catch(_0x3d5356){throw new salesforce_error_1[(_0x12635a(0xf9))](_0x3d5356);}}async['patchObject'](_0x16f50e,_0x282a10,_0x1f6304){const _0x4776cd=a245_0x212b5f;try{await this[_0x4776cd(0x107)][_0x4776cd(0xd4)](_0x4776cd(0xe2)+constants_1[_0x4776cd(0xc3)]+_0x4776cd(0xef)+_0x16f50e+'/'+_0x282a10,_0x1f6304);}catch(_0x4775d2){throw new salesforce_error_1['SalesforceError'](_0x4775d2);}}async[a245_0x212b5f(0xff)](_0x3476ac){const _0x4265b5=a245_0x212b5f;try{const {data:_0x490240}=await this['request'][_0x4265b5(0xde)](_0x4265b5(0xc4)+this[_0x4265b5(0xea)]+'/connection',{'params':{'connectionId':_0x3476ac}});return new connection_dto_1[(_0x4265b5(0xfe))](_0x490240);}catch(_0xe6529d){throw new salesforce_error_1[(_0x4265b5(0xf9))](_0xe6529d);}}};function a245_0x3d92(){const _0x5c6a2a=['defineProperty','metadata','Service','/sobjects/Attachment/','/sobjects/','createSalesforceRequest','7zsJzLa','(((.+)+)+)+$','../../../../core/errors/internal-server.error','5523NiqqIT','loggerId','264DOcMev','text','internalLogger','SalesforceError','apply','[message]\x20%s','3042450WkGyTh','../dto/connection.dto','ConnectionDto','fetchConnection','toString','createObject','decorate','IGNORE_FLOSUM_GIT_NAMESPACE','/attachments','Logger','delete\x20attachment\x20%s\x20from\x20salesforce','request','__esModule','__metadata','Inject','__param','../../../../core','SALESFORCE_API_VERSION','services/apexrest','8710405uXhCng','__decorate','SalesforceLogger','10FrTQWK','then','8630217LMcJkd','search','logger','function','1873572GaYtwi','./salesforce-auth.service','getOwnPropertyDescriptor','deleteAttachment','retrieveComponents','4178000AUGuCi','patch','retrieveAttachment','85439xNuPDm','length','object','SalesforceService','../utils/create-request.util','12XkkUEZ','setLoggerId','delete','get','name','error','../errors/salesforce.error','services/data/','constructor','typedi','/flosum_git','retrieve\x20attachment\x20%s\x20from\x20salesforce','8NBrgVV','log','post','namespace'];a245_0x3d92=function(){return _0x5c6a2a;};return a245_0x3d92();}SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a245_0x212b5f(0xed)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a245_0x212b5f(0x10a)])()),__metadata('design:paramtypes',[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a245_0x212b5f(0xd9)]=SalesforceService;