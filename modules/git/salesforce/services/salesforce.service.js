const a240_0x13b9ad=a240_0x3a78;(function(_0x5e7f39,_0x28da28){const _0x53b43f=a240_0x3a78,_0x48edf4=_0x5e7f39();while(!![]){try{const _0x2f3cfa=parseInt(_0x53b43f(0x111))/0x1+parseInt(_0x53b43f(0xf8))/0x2+-parseInt(_0x53b43f(0xdb))/0x3+-parseInt(_0x53b43f(0xf6))/0x4*(-parseInt(_0x53b43f(0x109))/0x5)+parseInt(_0x53b43f(0xd6))/0x6+parseInt(_0x53b43f(0xea))/0x7*(parseInt(_0x53b43f(0xeb))/0x8)+-parseInt(_0x53b43f(0x10a))/0x9;if(_0x2f3cfa===_0x28da28)break;else _0x48edf4['push'](_0x48edf4['shift']());}catch(_0x55d98c){_0x48edf4['push'](_0x48edf4['shift']());}}}(a240_0x510c,0xe6fab));const a240_0xb90cd3=(function(){let _0x1564bf=!![];return function(_0x4d21fb,_0x2cd3ec){const _0x40f2bf=_0x1564bf?function(){const _0xace4bf=a240_0x3a78;if(_0x2cd3ec){const _0x15b3b7=_0x2cd3ec[_0xace4bf(0xf7)](_0x4d21fb,arguments);return _0x2cd3ec=null,_0x15b3b7;}}:function(){};return _0x1564bf=![],_0x40f2bf;};}()),a240_0x281ef3=a240_0xb90cd3(this,function(){const _0x53f692=a240_0x3a78;return a240_0x281ef3[_0x53f692(0xed)]()[_0x53f692(0x10b)](_0x53f692(0xe9))[_0x53f692(0xed)]()[_0x53f692(0x100)](a240_0x281ef3)[_0x53f692(0x10b)](_0x53f692(0xe9));});function a240_0x3a78(_0x287ac9,_0xe5456c){const _0x35293d=a240_0x510c();return a240_0x3a78=function(_0x281ef3,_0xb90cd3){_0x281ef3=_0x281ef3-0xcc;let _0x510c2d=_0x35293d[_0x281ef3];return _0x510c2d;},a240_0x3a78(_0x287ac9,_0xe5456c);}function a240_0x510c(){const _0x5d4680=['/sobjects/','../../../../core','request','660500WyesOd','metadata','typedi','__decorate','services/data/','SALESFORCE_API_VERSION','../../../../core/errors/internal-server.error','loggerId','SalesforceLogger','length','forEach','10237872KNjmEX','/connection','Service','logger','__metadata','1397391iMPrLO','./salesforce-auth.service','services/apexrest','decorate','IGNORE_FLOSUM_GIT_NAMESPACE','internalLogger','arraybuffer','error','__param','defineProperty','SalesforceError','createObject','createSalesforceRequest','/sobjects/Attachment/','(((.+)+)+)+$','223251TEVjuy','184yJeISH','delete','toString','retrieve\x20attachment\x20%s\x20from\x20salesforce','deleteAttachment','get','__esModule','getLogger','log','object','patch','25124wwAuLz','apply','1906236GnjeYp','then','post','../../../../constants','Logger','design:paramtypes','namespace','sendLog','constructor','patchObject','/flosum_git','/attachments','text','delete\x20attachment\x20%s\x20from\x20salesforce','getOwnPropertyDescriptor','retrieveComponents','SalesforceService','1275GKSYSS','38189124eRXFOl','search','../utils/create-request.util','ConnectionDto'];a240_0x510c=function(){return _0x5d4680;};return a240_0x510c();}a240_0x281ef3();'use strict';var __decorate=this&&this[a240_0x13b9ad(0xce)]||function(_0x45d0c0,_0x378b71,_0x2a3280,_0x577d3a){const _0x25cf6b=a240_0x13b9ad;var _0x5c0d4b=arguments['length'],_0x344bac=_0x5c0d4b<0x3?_0x378b71:_0x577d3a===null?_0x577d3a=Object[_0x25cf6b(0x106)](_0x378b71,_0x2a3280):_0x577d3a,_0x3b94da;if(typeof Reflect===_0x25cf6b(0xf4)&&typeof Reflect[_0x25cf6b(0xde)]==='function')_0x344bac=Reflect[_0x25cf6b(0xde)](_0x45d0c0,_0x378b71,_0x2a3280,_0x577d3a);else{for(var _0x1129ff=_0x45d0c0[_0x25cf6b(0xd4)]-0x1;_0x1129ff>=0x0;_0x1129ff--)if(_0x3b94da=_0x45d0c0[_0x1129ff])_0x344bac=(_0x5c0d4b<0x3?_0x3b94da(_0x344bac):_0x5c0d4b>0x3?_0x3b94da(_0x378b71,_0x2a3280,_0x344bac):_0x3b94da(_0x378b71,_0x2a3280))||_0x344bac;}return _0x5c0d4b>0x3&&_0x344bac&&Object[_0x25cf6b(0xe4)](_0x378b71,_0x2a3280,_0x344bac),_0x344bac;},__metadata=this&&this[a240_0x13b9ad(0xda)]||function(_0x3b96ba,_0x1100f6){const _0x311f28=a240_0x13b9ad;if(typeof Reflect==='object'&&typeof Reflect[_0x311f28(0xcc)]==='function')return Reflect['metadata'](_0x3b96ba,_0x1100f6);},__param=this&&this[a240_0x13b9ad(0xe3)]||function(_0x550c37,_0x3b65c7){return function(_0x1c6fc0,_0x19df53){_0x3b65c7(_0x1c6fc0,_0x19df53,_0x550c37);};},SalesforceService_1;Object['defineProperty'](exports,a240_0x13b9ad(0xf1),{'value':!![]}),exports[a240_0x13b9ad(0x108)]=void 0x0;const typedi_1=require(a240_0x13b9ad(0xcd)),core_1=require(a240_0x13b9ad(0x10f)),internal_server_error_1=require(a240_0x13b9ad(0xd1)),salesforce_auth_service_1=require(a240_0x13b9ad(0xdc)),constants_1=require(a240_0x13b9ad(0xfb)),create_request_util_1=require(a240_0x13b9ad(0x10c)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x43da55){const _0x2cc47b=a240_0x13b9ad;this[_0x2cc47b(0xd9)]=new core_1[(_0x2cc47b(0xfc))](SalesforceService_1['name']),this['request']=(0x0,create_request_util_1[_0x2cc47b(0xe7)])(_0x43da55),this['namespace']=constants_1[_0x2cc47b(0xdf)]?'':_0x2cc47b(0x102);}['setLoggerId'](_0x1e1821){const _0x394e56=a240_0x13b9ad;this[_0x394e56(0xd2)]=_0x1e1821,this[_0x394e56(0xe0)]=new salesforce_logger_service_1[(_0x394e56(0xd3))](this);}[a240_0x13b9ad(0xf2)](){return this['internalLogger'];}async[a240_0x13b9ad(0x107)](_0x107fb9){const _0x3f331d=a240_0x13b9ad;try{this[_0x3f331d(0xd9)][_0x3f331d(0xf3)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x107fb9['length']);const _0x3b9d2f=await this[_0x3f331d(0x110)][_0x3f331d(0xfa)](_0x3f331d(0xdd)+this[_0x3f331d(0xfe)]+_0x3f331d(0x103),{'componentIds':_0x107fb9,'loggerId':this[_0x3f331d(0xd2)]})[_0x3f331d(0xf9)](({data:_0xa0bf80})=>_0xa0bf80);return _0x3b9d2f;}catch(_0x301514){this[_0x3f331d(0xd9)]['error'](_0x301514);throw new salesforce_error_1[(_0x3f331d(0xe5))](_0x301514);}}async[a240_0x13b9ad(0xef)](_0x54580e){const _0x59d3f4=a240_0x13b9ad;try{this[_0x59d3f4(0xd9)][_0x59d3f4(0xf3)](_0x59d3f4(0x105),_0x54580e),await this[_0x59d3f4(0x110)][_0x59d3f4(0xec)](_0x59d3f4(0xcf)+constants_1[_0x59d3f4(0xd0)]+_0x59d3f4(0xe8)+_0x54580e);}catch(_0x4ca8cb){this[_0x59d3f4(0xd9)][_0x59d3f4(0xe2)](_0x4ca8cb);throw new salesforce_error_1[(_0x59d3f4(0xe5))](_0x4ca8cb);}}async['retrieveAttachment'](_0xc698f3,_0x98bbc0=![]){const _0x11290b=a240_0x13b9ad;try{this[_0x11290b(0xd9)][_0x11290b(0xf3)](_0x11290b(0xee),_0xc698f3);const _0x154be4=await this[_0x11290b(0x110)][_0x11290b(0xf0)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x11290b(0xe8)+_0xc698f3+'/body',{'responseType':_0x98bbc0?_0x11290b(0xe1):_0x11290b(0x104)})['then'](({data:_0x4536})=>_0x4536);return _0x154be4;}catch(_0x430fcc){this[_0x11290b(0xd9)][_0x11290b(0xe2)](_0x430fcc);throw new salesforce_error_1[(_0x11290b(0xe5))](_0x430fcc);}}async[a240_0x13b9ad(0xff)](_0x127378){const _0x32cef3=a240_0x13b9ad;try{_0x127378[_0x32cef3(0xd5)](_0x223328=>this['logger'][_0x32cef3(0xf3)]('[message]\x20%s',_0x223328)),await this[_0x32cef3(0x110)][_0x32cef3(0xfa)](_0x32cef3(0xdd)+this['namespace']+'/logger',{'messages':_0x127378,'loggerId':this['loggerId']});}catch(_0x40dee1){this[_0x32cef3(0xd9)]['error'](_0x40dee1);throw new internal_server_error_1['InternalServerError'](_0x40dee1);}}async[a240_0x13b9ad(0xe6)](_0x47b8ce,_0x461e4a){const _0x3e44f7=a240_0x13b9ad;try{const {data:_0x2a1ce7}=await this[_0x3e44f7(0x110)][_0x3e44f7(0xfa)](_0x3e44f7(0xcf)+constants_1[_0x3e44f7(0xd0)]+'/sobjects/'+_0x47b8ce+'/',_0x461e4a);return _0x2a1ce7['id'];}catch(_0x1e50bd){throw new salesforce_error_1['SalesforceError'](_0x1e50bd);}}async[a240_0x13b9ad(0x101)](_0x20d9f9,_0x3d3565,_0x2cb225){const _0x3d5973=a240_0x13b9ad;try{await this[_0x3d5973(0x110)][_0x3d5973(0xf5)](_0x3d5973(0xcf)+constants_1[_0x3d5973(0xd0)]+_0x3d5973(0x10e)+_0x20d9f9+'/'+_0x3d3565,_0x2cb225);}catch(_0x28d904){throw new salesforce_error_1['SalesforceError'](_0x28d904);}}async['fetchConnection'](_0x49da50){const _0x2c9353=a240_0x13b9ad;try{const {data:_0x16a555}=await this['request']['get'](_0x2c9353(0xdd)+this['namespace']+_0x2c9353(0xd7),{'params':{'connectionId':_0x49da50}});return new connection_dto_1[(_0x2c9353(0x10d))](_0x16a555);}catch(_0x37fdeb){throw new salesforce_error_1[(_0x2c9353(0xe5))](_0x37fdeb);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a240_0x13b9ad(0xd8)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a240_0x13b9ad(0xfd),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a240_0x13b9ad(0x108)]=SalesforceService;