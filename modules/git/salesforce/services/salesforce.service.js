const a282_0x13f5a9=a282_0x3ff8;function a282_0x1997(){const _0x105d8d=['log','2830632PQeevR','createSalesforceRequest','SalesforceService','80IEqVVO','length','arraybuffer','text','../utils/create-request.util','logger','29161610SYvVDf','request','services/data/','/sobjects/','SALESFORCE_API_VERSION','[message]\x20%s','object','services/apexrest','__metadata','deleteAttachment','Delete\x20attachment\x20%s\x20from\x20salesforce','error','design:paramtypes','constructor','3938610nzfKlA','BulkComponentsRetriever','/sobjects/Attachment/','metadata','function','Retrieve\x20attachment\x20%s\x20from\x20salesforce','/flosum_git','defineProperty','SalesforceAuthService','__decorate','typedi','/connection','../dto/connection.dto','./salesforce-logger.service','SalesforceError','2JHJHZu','./salesforce-auth.service','post','../../../../core','internalLogger','forEach','1757Kwlwhn','delete','toString','getLogger','retrieveComponents','retrieve','../../../../constants','fetchConnection','21378LSeGAu','namespace','2593848vowbdz','getOwnPropertyDescriptor','setLoggerId','/logger','patch','loggerId','Service','Retrieve\x20components\x20\x20%d\x20from\x20salesforce','__esModule','../../../../core/errors/internal-server.error','__param','decorate','name','309069UisqIn','SalesforceLogger','/body','215499bwerlq','get'];a282_0x1997=function(){return _0x105d8d;};return a282_0x1997();}function a282_0x3ff8(_0x4fa01d,_0x142a81){const _0x45d3be=a282_0x1997();return a282_0x3ff8=function(_0x528fb1,_0xa80e9d){_0x528fb1=_0x528fb1-0x1cc;let _0x1997de=_0x45d3be[_0x528fb1];return _0x1997de;},a282_0x3ff8(_0x4fa01d,_0x142a81);}(function(_0x25c4f0,_0x1aaed8){const _0xcc97de=a282_0x3ff8,_0x2ebaac=_0x25c4f0();while(!![]){try{const _0x467a66=-parseInt(_0xcc97de(0x203))/0x1+-parseInt(_0xcc97de(0x1e3))/0x2*(-parseInt(_0xcc97de(0x206))/0x3)+parseInt(_0xcc97de(0x1f3))/0x4+parseInt(_0xcc97de(0x1d4))/0x5+parseInt(_0xcc97de(0x1f1))/0x6*(parseInt(_0xcc97de(0x1e9))/0x7)+-parseInt(_0xcc97de(0x209))/0x8*(-parseInt(_0xcc97de(0x200))/0x9)+-parseInt(_0xcc97de(0x20f))/0xa;if(_0x467a66===_0x1aaed8)break;else _0x2ebaac['push'](_0x2ebaac['shift']());}catch(_0x17bdee){_0x2ebaac['push'](_0x2ebaac['shift']());}}}(a282_0x1997,0x7699f));const a282_0xa80e9d=(function(){let _0x2db7a5=!![];return function(_0x2c3e6b,_0x594e10){const _0x148315=_0x2db7a5?function(){if(_0x594e10){const _0x57b703=_0x594e10['apply'](_0x2c3e6b,arguments);return _0x594e10=null,_0x57b703;}}:function(){};return _0x2db7a5=![],_0x148315;};}()),a282_0x528fb1=a282_0xa80e9d(this,function(){const _0x1c6a36=a282_0x3ff8;return a282_0x528fb1['toString']()['search']('(((.+)+)+)+$')[_0x1c6a36(0x1eb)]()[_0x1c6a36(0x1d3)](a282_0x528fb1)['search']('(((.+)+)+)+$');});a282_0x528fb1();'use strict';var __decorate=this&&this[a282_0x13f5a9(0x1dd)]||function(_0x481557,_0x1d9d10,_0x25a57d,_0x5539fe){const _0x1992e6=a282_0x13f5a9;var _0x1daee0=arguments[_0x1992e6(0x20a)],_0x37b623=_0x1daee0<0x3?_0x1d9d10:_0x5539fe===null?_0x5539fe=Object[_0x1992e6(0x1f4)](_0x1d9d10,_0x25a57d):_0x5539fe,_0x55808a;if(typeof Reflect===_0x1992e6(0x1cc)&&typeof Reflect[_0x1992e6(0x1fe)]===_0x1992e6(0x1d8))_0x37b623=Reflect[_0x1992e6(0x1fe)](_0x481557,_0x1d9d10,_0x25a57d,_0x5539fe);else{for(var _0x122247=_0x481557[_0x1992e6(0x20a)]-0x1;_0x122247>=0x0;_0x122247--)if(_0x55808a=_0x481557[_0x122247])_0x37b623=(_0x1daee0<0x3?_0x55808a(_0x37b623):_0x1daee0>0x3?_0x55808a(_0x1d9d10,_0x25a57d,_0x37b623):_0x55808a(_0x1d9d10,_0x25a57d))||_0x37b623;}return _0x1daee0>0x3&&_0x37b623&&Object['defineProperty'](_0x1d9d10,_0x25a57d,_0x37b623),_0x37b623;},__metadata=this&&this[a282_0x13f5a9(0x1ce)]||function(_0x513b2f,_0x2c44c1){const _0x752bc2=a282_0x13f5a9;if(typeof Reflect==='object'&&typeof Reflect[_0x752bc2(0x1d7)]===_0x752bc2(0x1d8))return Reflect[_0x752bc2(0x1d7)](_0x513b2f,_0x2c44c1);},__param=this&&this[a282_0x13f5a9(0x1fd)]||function(_0xf6634c,_0x1538ba){return function(_0x3d5fd1,_0x41c976){_0x1538ba(_0x3d5fd1,_0x41c976,_0xf6634c);};},SalesforceService_1;Object[a282_0x13f5a9(0x1db)](exports,a282_0x13f5a9(0x1fb),{'value':!![]}),exports[a282_0x13f5a9(0x208)]=void 0x0;const typedi_1=require(a282_0x13f5a9(0x1de)),core_1=require(a282_0x13f5a9(0x1e6)),internal_server_error_1=require(a282_0x13f5a9(0x1fc)),salesforce_auth_service_1=require(a282_0x13f5a9(0x1e4)),constants_1=require(a282_0x13f5a9(0x1ef)),create_request_util_1=require(a282_0x13f5a9(0x20d)),salesforce_logger_service_1=require(a282_0x13f5a9(0x1e1)),salesforce_error_1=require('../errors/salesforce.error'),connection_dto_1=require(a282_0x13f5a9(0x1e0)),bulk_components_retriever_1=require('../classes/bulk-components-retriever');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x531669){const _0x13e06c=a282_0x13f5a9;this['logger']=new core_1['Logger'](SalesforceService_1[_0x13e06c(0x1ff)]),this[_0x13e06c(0x210)]=(0x0,create_request_util_1[_0x13e06c(0x207)])(_0x531669),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x13e06c(0x1da);}[a282_0x13f5a9(0x1f5)](_0x2f375c){const _0x4af8ca=a282_0x13f5a9;this['loggerId']=_0x2f375c,this[_0x4af8ca(0x1e7)]=new salesforce_logger_service_1[(_0x4af8ca(0x201))](this);}[a282_0x13f5a9(0x1ec)](){const _0x327d72=a282_0x13f5a9;return this[_0x327d72(0x1e7)];}async[a282_0x13f5a9(0x1ed)](_0x325a1d){const _0x83ec84=a282_0x13f5a9;try{this[_0x83ec84(0x20e)][_0x83ec84(0x205)](_0x83ec84(0x1fa),_0x325a1d[_0x83ec84(0x20a)]);const _0x302985=new bulk_components_retriever_1[(_0x83ec84(0x1d5))]({'request':this[_0x83ec84(0x210)],'ids':_0x325a1d}),_0x4e74b5=await _0x302985[_0x83ec84(0x1ee)]();return _0x4e74b5;}catch(_0x11bc84){this[_0x83ec84(0x20e)][_0x83ec84(0x1d1)](_0x11bc84);throw new salesforce_error_1[(_0x83ec84(0x1e2))](_0x11bc84);}}async[a282_0x13f5a9(0x1cf)](_0x1a8b4e){const _0x56ba4a=a282_0x13f5a9;try{this[_0x56ba4a(0x20e)][_0x56ba4a(0x205)](_0x56ba4a(0x1d0),_0x1a8b4e),await this[_0x56ba4a(0x210)][_0x56ba4a(0x1ea)](_0x56ba4a(0x211)+constants_1['SALESFORCE_API_VERSION']+_0x56ba4a(0x1d6)+_0x1a8b4e);}catch(_0x1888e1){this[_0x56ba4a(0x20e)][_0x56ba4a(0x1d1)](_0x1888e1);throw new salesforce_error_1[(_0x56ba4a(0x1e2))](_0x1888e1);}}async['retrieveAttachment'](_0x59b212,_0x5a1aa9=![]){const _0x1778a2=a282_0x13f5a9;try{this[_0x1778a2(0x20e)][_0x1778a2(0x205)](_0x1778a2(0x1d9),_0x59b212);const _0x35fbf4=await this[_0x1778a2(0x210)][_0x1778a2(0x204)]('services/data/'+constants_1[_0x1778a2(0x213)]+_0x1778a2(0x1d6)+_0x59b212+_0x1778a2(0x202),{'responseType':_0x5a1aa9?_0x1778a2(0x20b):_0x1778a2(0x20c)})['then'](({data:_0x2ec360})=>_0x2ec360);return _0x35fbf4;}catch(_0x3a87b6){this[_0x1778a2(0x20e)][_0x1778a2(0x1d1)](_0x3a87b6);throw new salesforce_error_1[(_0x1778a2(0x1e2))](_0x3a87b6);}}async['sendLog'](_0x3c8bca){const _0x1996a7=a282_0x13f5a9;try{_0x3c8bca[_0x1996a7(0x1e8)](_0x23bc06=>this[_0x1996a7(0x20e)]['log'](_0x1996a7(0x214),_0x23bc06)),await this[_0x1996a7(0x210)][_0x1996a7(0x1e5)](_0x1996a7(0x1cd)+this[_0x1996a7(0x1f2)]+_0x1996a7(0x1f6),{'messages':_0x3c8bca,'loggerId':this[_0x1996a7(0x1f8)]});}catch(_0x3cdeb5){this['logger']['error'](_0x3cdeb5);throw new internal_server_error_1['InternalServerError'](_0x3cdeb5);}}async['createObject'](_0x5438b7,_0x317113){const _0x15a6ef=a282_0x13f5a9;try{const {data:_0x2b4a5f}=await this[_0x15a6ef(0x210)][_0x15a6ef(0x1e5)](_0x15a6ef(0x211)+constants_1[_0x15a6ef(0x213)]+_0x15a6ef(0x212)+_0x5438b7+'/',_0x317113);return _0x2b4a5f['id'];}catch(_0x2da0e2){throw new salesforce_error_1[(_0x15a6ef(0x1e2))](_0x2da0e2);}}async['patchObject'](_0x2e89e0,_0x14a8cd,_0x423037){const _0xf3f077=a282_0x13f5a9;try{await this[_0xf3f077(0x210)][_0xf3f077(0x1f7)](_0xf3f077(0x211)+constants_1[_0xf3f077(0x213)]+_0xf3f077(0x212)+_0x2e89e0+'/'+_0x14a8cd,_0x423037);}catch(_0x5f26cf){throw new salesforce_error_1[(_0xf3f077(0x1e2))](_0x5f26cf);}}async[a282_0x13f5a9(0x1f0)](_0x5db917){const _0x187029=a282_0x13f5a9;try{const {data:_0x240edc}=await this[_0x187029(0x210)][_0x187029(0x204)](_0x187029(0x1cd)+this[_0x187029(0x1f2)]+_0x187029(0x1df),{'params':{'connectionId':_0x5db917}});return new connection_dto_1['ConnectionDto'](_0x240edc);}catch(_0x7783c6){throw new salesforce_error_1[(_0x187029(0x1e2))](_0x7783c6);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a282_0x13f5a9(0x1f9)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a282_0x13f5a9(0x1d2),[salesforce_auth_service_1[a282_0x13f5a9(0x1dc)]])],SalesforceService),exports[a282_0x13f5a9(0x208)]=SalesforceService;