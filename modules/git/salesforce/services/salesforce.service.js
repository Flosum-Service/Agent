function a240_0x513f(){const _0x1f60fb=['retrieve\x20components\x20\x20%d\x20from\x20salesforce','__metadata','services/data/','services/apexrest','../../../../core/errors/internal-server.error','object','(((.+)+)+)+$','Logger','internalLogger','InternalServerError','__param','createSalesforceRequest','deleteAttachment','length','398032DPeeUB','toString','loggerId','../errors/salesforce.error','../../../../constants','./salesforce-auth.service','typedi','text','__esModule','/attachments','search','design:paramtypes','[message]\x20%s','function','../../../../core','SalesforceAuthService','apply','namespace','defineProperty','6qTDeSu','decorate','retrieveAttachment','2136215xkXeEo','fetchConnection','SALESFORCE_API_VERSION','/connection','__decorate','SalesforceError','request','delete','log','3670400LeGvjm','110CUUGEa','4829720rCrPZa','error','constructor','ConnectionDto','get','then','/sobjects/','SalesforceService','logger','sendLog','arraybuffer','356109SaiOfX','patch','../dto/connection.dto','setLoggerId','metadata','patchObject','120169fDczCh','IGNORE_FLOSUM_GIT_NAMESPACE','SalesforceLogger','10nHtwFT','retrieveComponents','944874bJOGza'];a240_0x513f=function(){return _0x1f60fb;};return a240_0x513f();}function a240_0x1907(_0x4c194e,_0x2b4b74){const _0x4732c7=a240_0x513f();return a240_0x1907=function(_0x5d4188,_0x5980df){_0x5d4188=_0x5d4188-0x111;let _0x513fc9=_0x4732c7[_0x5d4188];return _0x513fc9;},a240_0x1907(_0x4c194e,_0x2b4b74);}const a240_0x834e9f=a240_0x1907;(function(_0x446270,_0xf69c0d){const _0xd5abe8=a240_0x1907,_0x30f788=_0x446270();while(!![]){try{const _0xc03c3e=-parseInt(_0xd5abe8(0x156))/0x1*(parseInt(_0xd5abe8(0x113))/0x2)+-parseInt(_0xd5abe8(0x150))/0x3+-parseInt(_0xd5abe8(0x124))/0x4+parseInt(_0xd5abe8(0x13a))/0x5*(parseInt(_0xd5abe8(0x137))/0x6)+-parseInt(_0xd5abe8(0x145))/0x7+parseInt(_0xd5abe8(0x143))/0x8+-parseInt(_0xd5abe8(0x115))/0x9*(-parseInt(_0xd5abe8(0x144))/0xa);if(_0xc03c3e===_0xf69c0d)break;else _0x30f788['push'](_0x30f788['shift']());}catch(_0x3e5763){_0x30f788['push'](_0x30f788['shift']());}}}(a240_0x513f,0x81da1));const a240_0x5980df=(function(){let _0x39dee4=!![];return function(_0x3b04cc,_0x1041fb){const _0x25407f=_0x39dee4?function(){const _0x213940=a240_0x1907;if(_0x1041fb){const _0x29566f=_0x1041fb[_0x213940(0x134)](_0x3b04cc,arguments);return _0x1041fb=null,_0x29566f;}}:function(){};return _0x39dee4=![],_0x25407f;};}()),a240_0x5d4188=a240_0x5980df(this,function(){const _0x44f646=a240_0x1907;return a240_0x5d4188[_0x44f646(0x125)]()[_0x44f646(0x12e)](_0x44f646(0x11c))[_0x44f646(0x125)]()[_0x44f646(0x147)](a240_0x5d4188)[_0x44f646(0x12e)](_0x44f646(0x11c));});a240_0x5d4188();'use strict';var __decorate=this&&this[a240_0x834e9f(0x13e)]||function(_0x52dcb5,_0x2d8191,_0x14ec30,_0x5e063d){const _0x8341c8=a240_0x834e9f;var _0x55efb1=arguments[_0x8341c8(0x123)],_0x102c4f=_0x55efb1<0x3?_0x2d8191:_0x5e063d===null?_0x5e063d=Object['getOwnPropertyDescriptor'](_0x2d8191,_0x14ec30):_0x5e063d,_0x2a63fe;if(typeof Reflect===_0x8341c8(0x11b)&&typeof Reflect[_0x8341c8(0x138)]===_0x8341c8(0x131))_0x102c4f=Reflect[_0x8341c8(0x138)](_0x52dcb5,_0x2d8191,_0x14ec30,_0x5e063d);else{for(var _0x4648c9=_0x52dcb5[_0x8341c8(0x123)]-0x1;_0x4648c9>=0x0;_0x4648c9--)if(_0x2a63fe=_0x52dcb5[_0x4648c9])_0x102c4f=(_0x55efb1<0x3?_0x2a63fe(_0x102c4f):_0x55efb1>0x3?_0x2a63fe(_0x2d8191,_0x14ec30,_0x102c4f):_0x2a63fe(_0x2d8191,_0x14ec30))||_0x102c4f;}return _0x55efb1>0x3&&_0x102c4f&&Object['defineProperty'](_0x2d8191,_0x14ec30,_0x102c4f),_0x102c4f;},__metadata=this&&this[a240_0x834e9f(0x117)]||function(_0x3daded,_0x23f96f){const _0x49de73=a240_0x834e9f;if(typeof Reflect===_0x49de73(0x11b)&&typeof Reflect[_0x49de73(0x154)]===_0x49de73(0x131))return Reflect[_0x49de73(0x154)](_0x3daded,_0x23f96f);},__param=this&&this[a240_0x834e9f(0x120)]||function(_0x1951a9,_0x546212){return function(_0x161927,_0x45b917){_0x546212(_0x161927,_0x45b917,_0x1951a9);};},SalesforceService_1;Object[a240_0x834e9f(0x136)](exports,a240_0x834e9f(0x12c),{'value':!![]}),exports[a240_0x834e9f(0x14c)]=void 0x0;const typedi_1=require(a240_0x834e9f(0x12a)),core_1=require(a240_0x834e9f(0x132)),internal_server_error_1=require(a240_0x834e9f(0x11a)),salesforce_auth_service_1=require(a240_0x834e9f(0x129)),constants_1=require(a240_0x834e9f(0x128)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a240_0x834e9f(0x127)),connection_dto_1=require(a240_0x834e9f(0x152));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4673ec){const _0x5bacb9=a240_0x834e9f;this[_0x5bacb9(0x14d)]=new core_1[(_0x5bacb9(0x11d))](SalesforceService_1['name']),this[_0x5bacb9(0x140)]=(0x0,create_request_util_1[_0x5bacb9(0x121)])(_0x4673ec),this[_0x5bacb9(0x135)]=constants_1[_0x5bacb9(0x111)]?'':'/flosum_git';}[a240_0x834e9f(0x153)](_0x2a5e3d){const _0x28d7cb=a240_0x834e9f;this[_0x28d7cb(0x126)]=_0x2a5e3d,this[_0x28d7cb(0x11e)]=new salesforce_logger_service_1[(_0x28d7cb(0x112))](this);}['getLogger'](){const _0x5420cb=a240_0x834e9f;return this[_0x5420cb(0x11e)];}async[a240_0x834e9f(0x114)](_0x49cc66){const _0x48148b=a240_0x834e9f;try{this[_0x48148b(0x14d)][_0x48148b(0x142)](_0x48148b(0x116),_0x49cc66[_0x48148b(0x123)]);const _0x1ae6d8=await this[_0x48148b(0x140)]['post'](_0x48148b(0x119)+this['namespace']+_0x48148b(0x12d),{'componentIds':_0x49cc66,'loggerId':this[_0x48148b(0x126)]})[_0x48148b(0x14a)](({data:_0x24eea0})=>_0x24eea0);return _0x1ae6d8;}catch(_0xe5a9cc){this[_0x48148b(0x14d)][_0x48148b(0x146)](_0xe5a9cc);throw new salesforce_error_1[(_0x48148b(0x13f))](_0xe5a9cc);}}async[a240_0x834e9f(0x122)](_0x5acd41){const _0xf5d526=a240_0x834e9f;try{this[_0xf5d526(0x14d)][_0xf5d526(0x142)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x5acd41),await this[_0xf5d526(0x140)][_0xf5d526(0x141)](_0xf5d526(0x118)+constants_1[_0xf5d526(0x13c)]+'/sobjects/Attachment/'+_0x5acd41);}catch(_0x300921){this['logger']['error'](_0x300921);throw new salesforce_error_1['SalesforceError'](_0x300921);}}async[a240_0x834e9f(0x139)](_0x20f09d,_0x39a8ef=![]){const _0x934834=a240_0x834e9f;try{this[_0x934834(0x14d)][_0x934834(0x142)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x20f09d);const _0x28a951=await this[_0x934834(0x140)][_0x934834(0x149)](_0x934834(0x118)+constants_1[_0x934834(0x13c)]+'/sobjects/Attachment/'+_0x20f09d+'/body',{'responseType':_0x39a8ef?_0x934834(0x14f):_0x934834(0x12b)})[_0x934834(0x14a)](({data:_0x467007})=>_0x467007);return _0x28a951;}catch(_0x2f6105){this['logger']['error'](_0x2f6105);throw new salesforce_error_1['SalesforceError'](_0x2f6105);}}async[a240_0x834e9f(0x14e)](_0x3412ba){const _0x273469=a240_0x834e9f;try{_0x3412ba['forEach'](_0x49b497=>this[_0x273469(0x14d)][_0x273469(0x142)](_0x273469(0x130),_0x49b497)),await this[_0x273469(0x140)]['post'](_0x273469(0x119)+this[_0x273469(0x135)]+'/logger',{'messages':_0x3412ba,'loggerId':this[_0x273469(0x126)]});}catch(_0xf614f8){this[_0x273469(0x14d)][_0x273469(0x146)](_0xf614f8);throw new internal_server_error_1[(_0x273469(0x11f))](_0xf614f8);}}async['createObject'](_0x3e93d7,_0x4ca56a){const _0x4edeb9=a240_0x834e9f;try{const {data:_0x2b7e8f}=await this[_0x4edeb9(0x140)]['post'](_0x4edeb9(0x118)+constants_1[_0x4edeb9(0x13c)]+_0x4edeb9(0x14b)+_0x3e93d7+'/',_0x4ca56a);return _0x2b7e8f['id'];}catch(_0x40583a){throw new salesforce_error_1['SalesforceError'](_0x40583a);}}async[a240_0x834e9f(0x155)](_0x1cd861,_0x465f95,_0x41488d){const _0x16575b=a240_0x834e9f;try{await this['request'][_0x16575b(0x151)](_0x16575b(0x118)+constants_1[_0x16575b(0x13c)]+'/sobjects/'+_0x1cd861+'/'+_0x465f95,_0x41488d);}catch(_0xdc79c8){throw new salesforce_error_1['SalesforceError'](_0xdc79c8);}}async[a240_0x834e9f(0x13b)](_0x47f667){const _0x2e8099=a240_0x834e9f;try{const {data:_0x238416}=await this[_0x2e8099(0x140)][_0x2e8099(0x149)](_0x2e8099(0x119)+this['namespace']+_0x2e8099(0x13d),{'params':{'connectionId':_0x47f667}});return new connection_dto_1[(_0x2e8099(0x148))](_0x238416);}catch(_0x4bf844){throw new salesforce_error_1[(_0x2e8099(0x13f))](_0x4bf844);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a240_0x834e9f(0x12f),[salesforce_auth_service_1[a240_0x834e9f(0x133)]])],SalesforceService),exports['SalesforceService']=SalesforceService;