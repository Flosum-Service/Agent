function a189_0x44c1(_0xc728ac,_0x191ace){const _0x3d9918=a189_0x5a7a();return a189_0x44c1=function(_0x55bd75,_0x33cd7d){_0x55bd75=_0x55bd75-0x19b;let _0x5a7af3=_0x3d9918[_0x55bd75];return _0x5a7af3;},a189_0x44c1(_0xc728ac,_0x191ace);}function a189_0x5a7a(){const _0x209c2e=['3405MoGFCo','../utils/create-request.util','495AFaZAU','internalLogger','__esModule','services/apexrest','log','retrieveAttachment','(((.+)+)+)+$','setLoggerId','toString','182240HfDzJh','IGNORE_FLOSUM_GIT_NAMESPACE','then','SalesforceError','InternalServerError','metadata','get','../dto/connection.dto','194GNRYqn','17912YIILjP','post','services/data/','retrieve\x20attachment\x20%s\x20from\x20salesforce','search','object','apply','decorate','createSalesforceRequest','function','length','forEach','patch','error','defineProperty','684635JTeSTV','logger','__param','/logger','namespace','Service','name','3327QODwPr','../../../../constants','/connection','/sobjects/','delete\x20attachment\x20%s\x20from\x20salesforce','loggerId','1391634sJrLad','SalesforceService','patchObject','retrieve\x20components\x20\x20%d\x20from\x20salesforce','Inject','getLogger','createObject','deleteAttachment','arraybuffer','design:paramtypes','request','16QDSFST','./salesforce-auth.service','../../../../core/errors/internal-server.error','./salesforce-logger.service','23055ySwdvG','../errors/salesforce.error','constructor','text','SALESFORCE_API_VERSION'];a189_0x5a7a=function(){return _0x209c2e;};return a189_0x5a7a();}const a189_0x4e054b=a189_0x44c1;(function(_0x43dab1,_0x110b0e){const _0x4ac9e8=a189_0x44c1,_0x369566=_0x43dab1();while(!![]){try{const _0xb67612=parseInt(_0x4ac9e8(0x1b8))/0x1+parseInt(_0x4ac9e8(0x1a1))/0x2*(-parseInt(_0x4ac9e8(0x1d2))/0x3)+parseInt(_0x4ac9e8(0x1c9))/0x4*(-parseInt(_0x4ac9e8(0x1cd))/0x5)+parseInt(_0x4ac9e8(0x1be))/0x6+parseInt(_0x4ac9e8(0x1b1))/0x7+-parseInt(_0x4ac9e8(0x1a2))/0x8*(-parseInt(_0x4ac9e8(0x1d4))/0x9)+parseInt(_0x4ac9e8(0x1dd))/0xa;if(_0xb67612===_0x110b0e)break;else _0x369566['push'](_0x369566['shift']());}catch(_0x5836af){_0x369566['push'](_0x369566['shift']());}}}(a189_0x5a7a,0x5472d));const a189_0x33cd7d=(function(){let _0x20d08e=!![];return function(_0xe42df9,_0x5bab67){const _0x53c54b=_0x20d08e?function(){const _0x24280a=a189_0x44c1;if(_0x5bab67){const _0x16c4d9=_0x5bab67[_0x24280a(0x1a8)](_0xe42df9,arguments);return _0x5bab67=null,_0x16c4d9;}}:function(){};return _0x20d08e=![],_0x53c54b;};}()),a189_0x55bd75=a189_0x33cd7d(this,function(){const _0x55973e=a189_0x44c1;return a189_0x55bd75['toString']()[_0x55973e(0x1a6)]('(((.+)+)+)+$')[_0x55973e(0x1dc)]()[_0x55973e(0x1cf)](a189_0x55bd75)['search'](_0x55973e(0x1da));});a189_0x55bd75();'use strict';var __decorate=this&&this['__decorate']||function(_0x4e0973,_0x325f80,_0x200e11,_0x7cee74){const _0x13c29b=a189_0x44c1;var _0x1f0e6d=arguments[_0x13c29b(0x1ac)],_0x532a9a=_0x1f0e6d<0x3?_0x325f80:_0x7cee74===null?_0x7cee74=Object['getOwnPropertyDescriptor'](_0x325f80,_0x200e11):_0x7cee74,_0x35b88e;if(typeof Reflect===_0x13c29b(0x1a7)&&typeof Reflect[_0x13c29b(0x1a9)]===_0x13c29b(0x1ab))_0x532a9a=Reflect['decorate'](_0x4e0973,_0x325f80,_0x200e11,_0x7cee74);else{for(var _0x250fbc=_0x4e0973[_0x13c29b(0x1ac)]-0x1;_0x250fbc>=0x0;_0x250fbc--)if(_0x35b88e=_0x4e0973[_0x250fbc])_0x532a9a=(_0x1f0e6d<0x3?_0x35b88e(_0x532a9a):_0x1f0e6d>0x3?_0x35b88e(_0x325f80,_0x200e11,_0x532a9a):_0x35b88e(_0x325f80,_0x200e11))||_0x532a9a;}return _0x1f0e6d>0x3&&_0x532a9a&&Object[_0x13c29b(0x1b0)](_0x325f80,_0x200e11,_0x532a9a),_0x532a9a;},__metadata=this&&this['__metadata']||function(_0x33e66a,_0x206958){const _0x4180d3=a189_0x44c1;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4180d3(0x1ab))return Reflect[_0x4180d3(0x19e)](_0x33e66a,_0x206958);},__param=this&&this[a189_0x4e054b(0x1b3)]||function(_0x432caa,_0x6a2a07){return function(_0x4c61b5,_0x4319a2){_0x6a2a07(_0x4c61b5,_0x4319a2,_0x432caa);};},SalesforceService_1;Object[a189_0x4e054b(0x1b0)](exports,a189_0x4e054b(0x1d6),{'value':!![]}),exports[a189_0x4e054b(0x1bf)]=void 0x0;const typedi_1=require('typedi'),core_1=require('../../../../core'),internal_server_error_1=require(a189_0x4e054b(0x1cb)),salesforce_auth_service_1=require(a189_0x4e054b(0x1ca)),constants_1=require(a189_0x4e054b(0x1b9)),create_request_util_1=require(a189_0x4e054b(0x1d3)),salesforce_logger_service_1=require(a189_0x4e054b(0x1cc)),salesforce_error_1=require(a189_0x4e054b(0x1ce)),connection_dto_1=require(a189_0x4e054b(0x1a0));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x63373b){const _0x589c15=a189_0x4e054b;this[_0x589c15(0x1b2)]=new core_1['Logger'](SalesforceService_1[_0x589c15(0x1b7)]),this[_0x589c15(0x1c8)]=create_request_util_1[_0x589c15(0x1aa)](_0x63373b),this[_0x589c15(0x1b5)]=constants_1[_0x589c15(0x1de)]?'':'/flosum_git';}[a189_0x4e054b(0x1db)](_0x407a2e){const _0x53d73c=a189_0x4e054b;this['loggerId']=_0x407a2e,this[_0x53d73c(0x1d5)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a189_0x4e054b(0x1c3)](){const _0x573413=a189_0x4e054b;return this[_0x573413(0x1d5)];}async['retrieveComponents'](_0x3a3216){const _0x2ee1af=a189_0x4e054b;try{this[_0x2ee1af(0x1b2)][_0x2ee1af(0x1d8)](_0x2ee1af(0x1c1),_0x3a3216[_0x2ee1af(0x1ac)]);const _0x4e6693=await this[_0x2ee1af(0x1c8)][_0x2ee1af(0x1a3)](_0x2ee1af(0x1d7)+this[_0x2ee1af(0x1b5)]+'/attachments',{'componentIds':_0x3a3216,'loggerId':this[_0x2ee1af(0x1bd)]})[_0x2ee1af(0x19b)](({data:_0xe29975})=>_0xe29975);return _0x4e6693;}catch(_0x23fb50){this[_0x2ee1af(0x1b2)][_0x2ee1af(0x1af)](_0x23fb50);throw new salesforce_error_1[(_0x2ee1af(0x19c))](_0x23fb50);}}async[a189_0x4e054b(0x1c5)](_0x335304){const _0x39b694=a189_0x4e054b;try{this[_0x39b694(0x1b2)][_0x39b694(0x1d8)](_0x39b694(0x1bc),_0x335304),await this['request']['delete'](_0x39b694(0x1a4)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x335304);}catch(_0x1ac0e0){this[_0x39b694(0x1b2)][_0x39b694(0x1af)](_0x1ac0e0);throw new salesforce_error_1[(_0x39b694(0x19c))](_0x1ac0e0);}}async[a189_0x4e054b(0x1d9)](_0x16abb3,_0x2d1a93=![]){const _0x30a9c3=a189_0x4e054b;try{this[_0x30a9c3(0x1b2)][_0x30a9c3(0x1d8)](_0x30a9c3(0x1a5),_0x16abb3);const _0x4d2bd4=await this['request']['get'](_0x30a9c3(0x1a4)+constants_1[_0x30a9c3(0x1d1)]+'/sobjects/Attachment/'+_0x16abb3+'/body',{'responseType':_0x2d1a93?_0x30a9c3(0x1c6):_0x30a9c3(0x1d0)})[_0x30a9c3(0x19b)](({data:_0x4d5347})=>_0x4d5347);return _0x4d2bd4;}catch(_0x8a02d6){this['logger'][_0x30a9c3(0x1af)](_0x8a02d6);throw new salesforce_error_1['SalesforceError'](_0x8a02d6);}}async['sendLog'](_0x4cb508){const _0x2e954a=a189_0x4e054b;try{_0x4cb508[_0x2e954a(0x1ad)](_0xd0912c=>this[_0x2e954a(0x1b2)][_0x2e954a(0x1d8)]('[message]\x20%s',_0xd0912c)),await this[_0x2e954a(0x1c8)][_0x2e954a(0x1a3)](_0x2e954a(0x1d7)+this[_0x2e954a(0x1b5)]+_0x2e954a(0x1b4),{'messages':_0x4cb508,'loggerId':this['loggerId']});}catch(_0x5c2613){this['logger'][_0x2e954a(0x1af)](_0x5c2613);throw new internal_server_error_1[(_0x2e954a(0x19d))](_0x5c2613);}}async[a189_0x4e054b(0x1c4)](_0x3d4ebd,_0x585529){const _0x2fc4f9=a189_0x4e054b;try{const {data:_0x2cd853}=await this[_0x2fc4f9(0x1c8)][_0x2fc4f9(0x1a3)](_0x2fc4f9(0x1a4)+constants_1[_0x2fc4f9(0x1d1)]+'/sobjects/'+_0x3d4ebd+'/',_0x585529);return _0x2cd853['id'];}catch(_0x2a3007){throw new salesforce_error_1['SalesforceError'](_0x2a3007);}}async[a189_0x4e054b(0x1c0)](_0x4f132e,_0x49e8c5,_0x50a842){const _0x363a64=a189_0x4e054b;try{await this[_0x363a64(0x1c8)][_0x363a64(0x1ae)](_0x363a64(0x1a4)+constants_1[_0x363a64(0x1d1)]+_0x363a64(0x1bb)+_0x4f132e+'/'+_0x49e8c5,_0x50a842);}catch(_0xeacf63){throw new salesforce_error_1[(_0x363a64(0x19c))](_0xeacf63);}}async['fetchConnection'](_0x149dc7){const _0x152897=a189_0x4e054b;try{const {data:_0x57f1c4}=await this[_0x152897(0x1c8)][_0x152897(0x19f)](_0x152897(0x1d7)+this['namespace']+_0x152897(0x1ba),{'params':{'connectionId':_0x149dc7}});return new connection_dto_1['ConnectionDto'](_0x57f1c4);}catch(_0x5a9d07){throw new salesforce_error_1[(_0x152897(0x19c))](_0x5a9d07);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a189_0x4e054b(0x1b6)]({'transient':!![]}),__param(0x0,typedi_1[a189_0x4e054b(0x1c2)]()),__metadata(a189_0x4e054b(0x1c7),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a189_0x4e054b(0x1bf)]=SalesforceService;