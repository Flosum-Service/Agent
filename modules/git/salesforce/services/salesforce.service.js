const a206_0x25a854=a206_0x2874;(function(_0x2fb2a9,_0x53832e){const _0x3fbd20=a206_0x2874,_0x25770f=_0x2fb2a9();while(!![]){try{const _0x4f9b7d=parseInt(_0x3fbd20(0x1b9))/0x1*(-parseInt(_0x3fbd20(0x1e8))/0x2)+parseInt(_0x3fbd20(0x1dd))/0x3+-parseInt(_0x3fbd20(0x202))/0x4+parseInt(_0x3fbd20(0x1b7))/0x5+-parseInt(_0x3fbd20(0x1e7))/0x6*(-parseInt(_0x3fbd20(0x1fd))/0x7)+parseInt(_0x3fbd20(0x1f7))/0x8*(parseInt(_0x3fbd20(0x1ec))/0x9)+parseInt(_0x3fbd20(0x1cb))/0xa*(-parseInt(_0x3fbd20(0x1cc))/0xb);if(_0x4f9b7d===_0x53832e)break;else _0x25770f['push'](_0x25770f['shift']());}catch(_0x1aa113){_0x25770f['push'](_0x25770f['shift']());}}}(a206_0x1e71,0x6ffe0));function a206_0x1e71(){const _0x3b3212=['log','typedi','retrieve\x20components\x20\x20%d\x20from\x20salesforce','defineProperty','decorate','arraybuffer','72ZdMQIr','218302zhOOnO','./salesforce-logger.service','SALESFORCE_API_VERSION','setLoggerId','5732577cBNQAO','patch','/sobjects/','fetchConnection','../../../../constants','error','design:paramtypes','post','/flosum_git','function','search','8ungQlx','/sobjects/Attachment/','SalesforceAuthService','internalLogger','sendLog','ConnectionDto','356552aKKDAs','constructor','delete\x20attachment\x20%s\x20from\x20salesforce','../../../../core/errors/internal-server.error','then','2775368vePmsu','3604305XfEckh','SalesforceError','3NXShWD','/logger','getOwnPropertyDescriptor','object','createSalesforceRequest','get','forEach','namespace','request','metadata','logger','services/apexrest','retrieveAttachment','../errors/salesforce.error','/connection','loggerId','(((.+)+)+)+$','Inject','3414890RIzmXq','44eCrssY','__esModule','length','InternalServerError','text','SalesforceService','services/data/','[message]\x20%s','getLogger','__param','createObject','deleteAttachment','toString','patchObject','../../../../core','Service','apply','2630775SDBLOs','SalesforceLogger','delete','/body'];a206_0x1e71=function(){return _0x3b3212;};return a206_0x1e71();}const a206_0x3b1385=(function(){let _0x2b24f3=!![];return function(_0x38a31a,_0x2ad6ba){const _0x244674=_0x2b24f3?function(){const _0x6d77ff=a206_0x2874;if(_0x2ad6ba){const _0xaf4a63=_0x2ad6ba[_0x6d77ff(0x1dc)](_0x38a31a,arguments);return _0x2ad6ba=null,_0xaf4a63;}}:function(){};return _0x2b24f3=![],_0x244674;};}()),a206_0x4a9186=a206_0x3b1385(this,function(){const _0x4dfcec=a206_0x2874;return a206_0x4a9186[_0x4dfcec(0x1d8)]()[_0x4dfcec(0x1f6)](_0x4dfcec(0x1c9))[_0x4dfcec(0x1d8)]()[_0x4dfcec(0x1fe)](a206_0x4a9186)['search']('(((.+)+)+)+$');});a206_0x4a9186();function a206_0x2874(_0x6b316b,_0x2fa126){const _0x3e28e2=a206_0x1e71();return a206_0x2874=function(_0x4a9186,_0x3b1385){_0x4a9186=_0x4a9186-0x1b7;let _0x1e71b7=_0x3e28e2[_0x4a9186];return _0x1e71b7;},a206_0x2874(_0x6b316b,_0x2fa126);}'use strict';var __decorate=this&&this['__decorate']||function(_0x3e5855,_0x18c78b,_0x5017a5,_0x1126ef){const _0x22af2e=a206_0x2874;var _0x466375=arguments['length'],_0xeb7663=_0x466375<0x3?_0x18c78b:_0x1126ef===null?_0x1126ef=Object[_0x22af2e(0x1bb)](_0x18c78b,_0x5017a5):_0x1126ef,_0xddd027;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0xeb7663=Reflect[_0x22af2e(0x1e5)](_0x3e5855,_0x18c78b,_0x5017a5,_0x1126ef);else{for(var _0x481eed=_0x3e5855[_0x22af2e(0x1ce)]-0x1;_0x481eed>=0x0;_0x481eed--)if(_0xddd027=_0x3e5855[_0x481eed])_0xeb7663=(_0x466375<0x3?_0xddd027(_0xeb7663):_0x466375>0x3?_0xddd027(_0x18c78b,_0x5017a5,_0xeb7663):_0xddd027(_0x18c78b,_0x5017a5))||_0xeb7663;}return _0x466375>0x3&&_0xeb7663&&Object['defineProperty'](_0x18c78b,_0x5017a5,_0xeb7663),_0xeb7663;},__metadata=this&&this['__metadata']||function(_0x1a08af,_0x540ab7){const _0x270737=a206_0x2874;if(typeof Reflect===_0x270737(0x1bc)&&typeof Reflect[_0x270737(0x1c2)]===_0x270737(0x1f5))return Reflect[_0x270737(0x1c2)](_0x1a08af,_0x540ab7);},__param=this&&this[a206_0x25a854(0x1d5)]||function(_0x5cf0c8,_0x563f85){return function(_0x296a27,_0x3d3e80){_0x563f85(_0x296a27,_0x3d3e80,_0x5cf0c8);};},SalesforceService_1;Object[a206_0x25a854(0x1e4)](exports,a206_0x25a854(0x1cd),{'value':!![]}),exports[a206_0x25a854(0x1d1)]=void 0x0;const typedi_1=require(a206_0x25a854(0x1e2)),core_1=require(a206_0x25a854(0x1da)),internal_server_error_1=require(a206_0x25a854(0x200)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a206_0x25a854(0x1f0)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a206_0x25a854(0x1e9)),salesforce_error_1=require(a206_0x25a854(0x1c6)),connection_dto_1=require('../dto/connection.dto');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x3c0a07){const _0x4c3217=a206_0x25a854;this[_0x4c3217(0x1c3)]=new core_1['Logger'](SalesforceService_1['name']),this[_0x4c3217(0x1c1)]=(0x0,create_request_util_1[_0x4c3217(0x1bd)])(_0x3c0a07),this[_0x4c3217(0x1c0)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x4c3217(0x1f4);}[a206_0x25a854(0x1eb)](_0x146958){const _0xff87ce=a206_0x25a854;this[_0xff87ce(0x1c8)]=_0x146958,this[_0xff87ce(0x1fa)]=new salesforce_logger_service_1[(_0xff87ce(0x1de))](this);}[a206_0x25a854(0x1d4)](){const _0x3f2c8f=a206_0x25a854;return this[_0x3f2c8f(0x1fa)];}async['retrieveComponents'](_0x59c322){const _0x18e35c=a206_0x25a854;try{this[_0x18e35c(0x1c3)][_0x18e35c(0x1e1)](_0x18e35c(0x1e3),_0x59c322[_0x18e35c(0x1ce)]);const _0xe8bb81=await this[_0x18e35c(0x1c1)][_0x18e35c(0x1f3)](_0x18e35c(0x1c4)+this[_0x18e35c(0x1c0)]+'/attachments',{'componentIds':_0x59c322,'loggerId':this[_0x18e35c(0x1c8)]})[_0x18e35c(0x201)](({data:_0x17c708})=>_0x17c708);return _0xe8bb81;}catch(_0x5cf7a9){this[_0x18e35c(0x1c3)][_0x18e35c(0x1f1)](_0x5cf7a9);throw new salesforce_error_1['SalesforceError'](_0x5cf7a9);}}async[a206_0x25a854(0x1d7)](_0x2d4e70){const _0x5b99f0=a206_0x25a854;try{this[_0x5b99f0(0x1c3)]['log'](_0x5b99f0(0x1ff),_0x2d4e70),await this['request'][_0x5b99f0(0x1df)](_0x5b99f0(0x1d2)+constants_1[_0x5b99f0(0x1ea)]+_0x5b99f0(0x1f8)+_0x2d4e70);}catch(_0x63ac3c){this[_0x5b99f0(0x1c3)][_0x5b99f0(0x1f1)](_0x63ac3c);throw new salesforce_error_1[(_0x5b99f0(0x1b8))](_0x63ac3c);}}async[a206_0x25a854(0x1c5)](_0x232ce2,_0x4a2bd3=![]){const _0x5945c2=a206_0x25a854;try{this[_0x5945c2(0x1c3)][_0x5945c2(0x1e1)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x232ce2);const _0x18fc4f=await this[_0x5945c2(0x1c1)][_0x5945c2(0x1be)](_0x5945c2(0x1d2)+constants_1[_0x5945c2(0x1ea)]+'/sobjects/Attachment/'+_0x232ce2+_0x5945c2(0x1e0),{'responseType':_0x4a2bd3?_0x5945c2(0x1e6):_0x5945c2(0x1d0)})[_0x5945c2(0x201)](({data:_0x1e1c19})=>_0x1e1c19);return _0x18fc4f;}catch(_0x2417ce){this['logger'][_0x5945c2(0x1f1)](_0x2417ce);throw new salesforce_error_1[(_0x5945c2(0x1b8))](_0x2417ce);}}async[a206_0x25a854(0x1fb)](_0x79e4f2){const _0x195472=a206_0x25a854;try{_0x79e4f2[_0x195472(0x1bf)](_0x260190=>this[_0x195472(0x1c3)][_0x195472(0x1e1)](_0x195472(0x1d3),_0x260190)),await this[_0x195472(0x1c1)][_0x195472(0x1f3)]('services/apexrest'+this[_0x195472(0x1c0)]+_0x195472(0x1ba),{'messages':_0x79e4f2,'loggerId':this[_0x195472(0x1c8)]});}catch(_0x58f550){this[_0x195472(0x1c3)][_0x195472(0x1f1)](_0x58f550);throw new internal_server_error_1[(_0x195472(0x1cf))](_0x58f550);}}async[a206_0x25a854(0x1d6)](_0x53616e,_0x284c6d){const _0x56da8d=a206_0x25a854;try{const {data:_0xcfd01c}=await this[_0x56da8d(0x1c1)][_0x56da8d(0x1f3)](_0x56da8d(0x1d2)+constants_1[_0x56da8d(0x1ea)]+_0x56da8d(0x1ee)+_0x53616e+'/',_0x284c6d);return _0xcfd01c['id'];}catch(_0x3c44ff){throw new salesforce_error_1[(_0x56da8d(0x1b8))](_0x3c44ff);}}async[a206_0x25a854(0x1d9)](_0x8555b,_0x48a92f,_0x2cd94b){const _0x5c2317=a206_0x25a854;try{await this[_0x5c2317(0x1c1)][_0x5c2317(0x1ed)](_0x5c2317(0x1d2)+constants_1['SALESFORCE_API_VERSION']+_0x5c2317(0x1ee)+_0x8555b+'/'+_0x48a92f,_0x2cd94b);}catch(_0x4e3152){throw new salesforce_error_1['SalesforceError'](_0x4e3152);}}async[a206_0x25a854(0x1ef)](_0x20cc32){const _0x12cb91=a206_0x25a854;try{const {data:_0x1a69c9}=await this['request'][_0x12cb91(0x1be)](_0x12cb91(0x1c4)+this[_0x12cb91(0x1c0)]+_0x12cb91(0x1c7),{'params':{'connectionId':_0x20cc32}});return new connection_dto_1[(_0x12cb91(0x1fc))](_0x1a69c9);}catch(_0x487306){throw new salesforce_error_1['SalesforceError'](_0x487306);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a206_0x25a854(0x1db)])({'transient':!![]}),__param(0x0,(0x0,typedi_1[a206_0x25a854(0x1ca)])()),__metadata(a206_0x25a854(0x1f2),[salesforce_auth_service_1[a206_0x25a854(0x1f9)]])],SalesforceService),exports[a206_0x25a854(0x1d1)]=SalesforceService;