const a239_0x289edb=a239_0x29b1;(function(_0x41e47d,_0x1c2c6c){const _0x3d0014=a239_0x29b1,_0x1db542=_0x41e47d();while(!![]){try{const _0x3a9319=-parseInt(_0x3d0014(0x1ba))/0x1+-parseInt(_0x3d0014(0x1b8))/0x2*(-parseInt(_0x3d0014(0x1fb))/0x3)+parseInt(_0x3d0014(0x1d1))/0x4+-parseInt(_0x3d0014(0x1bb))/0x5+parseInt(_0x3d0014(0x1d2))/0x6*(-parseInt(_0x3d0014(0x1d6))/0x7)+parseInt(_0x3d0014(0x1c0))/0x8*(-parseInt(_0x3d0014(0x1f8))/0x9)+parseInt(_0x3d0014(0x1ef))/0xa;if(_0x3a9319===_0x1c2c6c)break;else _0x1db542['push'](_0x1db542['shift']());}catch(_0x261412){_0x1db542['push'](_0x1db542['shift']());}}}(a239_0x14aa,0xd600d));const a239_0x543d1e=(function(){let _0x1eb431=!![];return function(_0x585529,_0x1176a4){const _0x275896=_0x1eb431?function(){if(_0x1176a4){const _0x52e3ba=_0x1176a4['apply'](_0x585529,arguments);return _0x1176a4=null,_0x52e3ba;}}:function(){};return _0x1eb431=![],_0x275896;};}()),a239_0x5d9851=a239_0x543d1e(this,function(){const _0xabfe88=a239_0x29b1;return a239_0x5d9851[_0xabfe88(0x1df)]()[_0xabfe88(0x1de)](_0xabfe88(0x1ec))[_0xabfe88(0x1df)]()[_0xabfe88(0x1cf)](a239_0x5d9851)[_0xabfe88(0x1de)](_0xabfe88(0x1ec));});a239_0x5d9851();'use strict';var __decorate=this&&this[a239_0x289edb(0x1bf)]||function(_0x247a8c,_0x421693,_0x56fc5a,_0x4bcbd5){const _0x13ba29=a239_0x289edb;var _0x2ee3e3=arguments[_0x13ba29(0x1d7)],_0xcebc3e=_0x2ee3e3<0x3?_0x421693:_0x4bcbd5===null?_0x4bcbd5=Object[_0x13ba29(0x1fc)](_0x421693,_0x56fc5a):_0x4bcbd5,_0x2063c3;if(typeof Reflect===_0x13ba29(0x1e6)&&typeof Reflect[_0x13ba29(0x1dc)]===_0x13ba29(0x1c4))_0xcebc3e=Reflect[_0x13ba29(0x1dc)](_0x247a8c,_0x421693,_0x56fc5a,_0x4bcbd5);else{for(var _0x38363f=_0x247a8c[_0x13ba29(0x1d7)]-0x1;_0x38363f>=0x0;_0x38363f--)if(_0x2063c3=_0x247a8c[_0x38363f])_0xcebc3e=(_0x2ee3e3<0x3?_0x2063c3(_0xcebc3e):_0x2ee3e3>0x3?_0x2063c3(_0x421693,_0x56fc5a,_0xcebc3e):_0x2063c3(_0x421693,_0x56fc5a))||_0xcebc3e;}return _0x2ee3e3>0x3&&_0xcebc3e&&Object[_0x13ba29(0x1f9)](_0x421693,_0x56fc5a,_0xcebc3e),_0xcebc3e;},__metadata=this&&this[a239_0x289edb(0x1b5)]||function(_0x5b8fb6,_0x583534){const _0x28f0c6=a239_0x289edb;if(typeof Reflect==='object'&&typeof Reflect[_0x28f0c6(0x1b9)]===_0x28f0c6(0x1c4))return Reflect[_0x28f0c6(0x1b9)](_0x5b8fb6,_0x583534);},__param=this&&this[a239_0x289edb(0x1cb)]||function(_0x331327,_0x5e9f05){return function(_0x274c47,_0x5941ee){_0x5e9f05(_0x274c47,_0x5941ee,_0x331327);};},SalesforceService_1;Object[a239_0x289edb(0x1f9)](exports,a239_0x289edb(0x1e1),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require('typedi'),core_1=require(a239_0x289edb(0x1dd)),internal_server_error_1=require(a239_0x289edb(0x1f6)),salesforce_auth_service_1=require(a239_0x289edb(0x1e2)),constants_1=require(a239_0x289edb(0x1f5)),create_request_util_1=require(a239_0x289edb(0x1e0)),salesforce_logger_service_1=require(a239_0x289edb(0x1d9)),salesforce_error_1=require(a239_0x289edb(0x1d8)),connection_dto_1=require(a239_0x289edb(0x1fa));function a239_0x29b1(_0x5e2521,_0x4ed0bd){const _0x4578a9=a239_0x14aa();return a239_0x29b1=function(_0x5d9851,_0x543d1e){_0x5d9851=_0x5d9851-0x1b5;let _0x14aa94=_0x4578a9[_0x5d9851];return _0x14aa94;},a239_0x29b1(_0x5e2521,_0x4ed0bd);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x210f92){const _0x330eef=a239_0x289edb;this[_0x330eef(0x1cd)]=new core_1[(_0x330eef(0x1ff))](SalesforceService_1[_0x330eef(0x1b6)]),this[_0x330eef(0x1c9)]=(0x0,create_request_util_1['createSalesforceRequest'])(_0x210f92),this['namespace']=constants_1[_0x330eef(0x1cc)]?'':'/flosum_git';}[a239_0x289edb(0x1f7)](_0x13f617){const _0x153480=a239_0x289edb;this[_0x153480(0x1d3)]=_0x13f617,this[_0x153480(0x1d0)]=new salesforce_logger_service_1[(_0x153480(0x1f2))](this);}[a239_0x289edb(0x1be)](){const _0x4d2d96=a239_0x289edb;return this[_0x4d2d96(0x1d0)];}async['retrieveComponents'](_0x3bada2){const _0x1125fa=a239_0x289edb;try{this[_0x1125fa(0x1cd)]['log'](_0x1125fa(0x1f4),_0x3bada2[_0x1125fa(0x1d7)]);const _0x27d695=await this[_0x1125fa(0x1c9)][_0x1125fa(0x1e7)](_0x1125fa(0x1da)+this[_0x1125fa(0x1db)]+_0x1125fa(0x1ea),{'componentIds':_0x3bada2,'loggerId':this[_0x1125fa(0x1d3)]})[_0x1125fa(0x1e3)](({data:_0x56438a})=>_0x56438a);return _0x27d695;}catch(_0x573ed6){this['logger'][_0x1125fa(0x1ce)](_0x573ed6);throw new salesforce_error_1['SalesforceError'](_0x573ed6);}}async[a239_0x289edb(0x1fd)](_0xf0ddaf){const _0x56953f=a239_0x289edb;try{this[_0x56953f(0x1cd)]['log'](_0x56953f(0x1e4),_0xf0ddaf),await this[_0x56953f(0x1c9)][_0x56953f(0x1ed)](_0x56953f(0x200)+constants_1[_0x56953f(0x1e8)]+'/sobjects/Attachment/'+_0xf0ddaf);}catch(_0x3cfaa6){this[_0x56953f(0x1cd)][_0x56953f(0x1ce)](_0x3cfaa6);throw new salesforce_error_1['SalesforceError'](_0x3cfaa6);}}async[a239_0x289edb(0x1c7)](_0xc8611f,_0x1d1f18=![]){const _0x56e012=a239_0x289edb;try{this[_0x56e012(0x1cd)]['log'](_0x56e012(0x1c3),_0xc8611f);const _0x39f8a3=await this[_0x56e012(0x1c9)][_0x56e012(0x1b7)](_0x56e012(0x200)+constants_1[_0x56e012(0x1e8)]+'/sobjects/Attachment/'+_0xc8611f+_0x56e012(0x1fe),{'responseType':_0x1d1f18?_0x56e012(0x1f0):_0x56e012(0x1e9)})[_0x56e012(0x1e3)](({data:_0x46b8e1})=>_0x46b8e1);return _0x39f8a3;}catch(_0x3874a6){this['logger'][_0x56e012(0x1ce)](_0x3874a6);throw new salesforce_error_1[(_0x56e012(0x1eb))](_0x3874a6);}}async[a239_0x289edb(0x1bc)](_0x36a672){const _0x1bce1d=a239_0x289edb;try{_0x36a672[_0x1bce1d(0x1e5)](_0x121a12=>this[_0x1bce1d(0x1cd)]['log'](_0x1bce1d(0x1c2),_0x121a12)),await this['request']['post']('services/apexrest'+this[_0x1bce1d(0x1db)]+_0x1bce1d(0x1f3),{'messages':_0x36a672,'loggerId':this[_0x1bce1d(0x1d3)]});}catch(_0x2116a5){this['logger'][_0x1bce1d(0x1ce)](_0x2116a5);throw new internal_server_error_1['InternalServerError'](_0x2116a5);}}async[a239_0x289edb(0x1f1)](_0x7fe761,_0x2e54ad){const _0x1e235e=a239_0x289edb;try{const {data:_0x5d710c}=await this[_0x1e235e(0x1c9)][_0x1e235e(0x1e7)](_0x1e235e(0x200)+constants_1['SALESFORCE_API_VERSION']+_0x1e235e(0x1bd)+_0x7fe761+'/',_0x2e54ad);return _0x5d710c['id'];}catch(_0x1308e5){throw new salesforce_error_1[(_0x1e235e(0x1eb))](_0x1308e5);}}async[a239_0x289edb(0x1c5)](_0x20eed4,_0x3277f8,_0x1f6262){const _0x3a38d9=a239_0x289edb;try{await this['request'][_0x3a38d9(0x1d5)](_0x3a38d9(0x200)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x20eed4+'/'+_0x3277f8,_0x1f6262);}catch(_0x5a5d00){throw new salesforce_error_1[(_0x3a38d9(0x1eb))](_0x5a5d00);}}async[a239_0x289edb(0x1d4)](_0x3a839e){const _0x1069df=a239_0x289edb;try{const {data:_0x5df7b6}=await this[_0x1069df(0x1c9)][_0x1069df(0x1b7)](_0x1069df(0x1da)+this[_0x1069df(0x1db)]+_0x1069df(0x1ca),{'params':{'connectionId':_0x3a839e}});return new connection_dto_1[(_0x1069df(0x1ee))](_0x5df7b6);}catch(_0x11e0a6){throw new salesforce_error_1[(_0x1069df(0x1eb))](_0x11e0a6);}}};SalesforceService=SalesforceService_1=__decorate([(0x0,typedi_1[a239_0x289edb(0x1c1)])({'transient':!![]}),__param(0x0,(0x0,typedi_1['Inject'])()),__metadata(a239_0x289edb(0x1c6),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a239_0x289edb(0x1c8)]=SalesforceService;function a239_0x14aa(){const _0x36d290=['toString','../utils/create-request.util','__esModule','./salesforce-auth.service','then','delete\x20attachment\x20%s\x20from\x20salesforce','forEach','object','post','SALESFORCE_API_VERSION','text','/attachments','SalesforceError','(((.+)+)+)+$','delete','ConnectionDto','23435170pKvwBc','arraybuffer','createObject','SalesforceLogger','/logger','retrieve\x20components\x20\x20%d\x20from\x20salesforce','../../../../constants','../../../../core/errors/internal-server.error','setLoggerId','99TaszOY','defineProperty','../dto/connection.dto','16533hoEBoy','getOwnPropertyDescriptor','deleteAttachment','/body','Logger','services/data/','__metadata','name','get','306OpXvoS','metadata','1291827EeRpuy','1273965erhOaD','sendLog','/sobjects/','getLogger','__decorate','581352tFHJDC','Service','[message]\x20%s','retrieve\x20attachment\x20%s\x20from\x20salesforce','function','patchObject','design:paramtypes','retrieveAttachment','SalesforceService','request','/connection','__param','IGNORE_FLOSUM_GIT_NAMESPACE','logger','error','constructor','internalLogger','4873220KqaYPf','102NPkgZL','loggerId','fetchConnection','patch','486899rjwdxt','length','../errors/salesforce.error','./salesforce-logger.service','services/apexrest','namespace','decorate','../../../../core','search'];a239_0x14aa=function(){return _0x36d290;};return a239_0x14aa();}