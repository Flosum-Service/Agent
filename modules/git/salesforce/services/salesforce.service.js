const a193_0x9d698c=a193_0xb70d;(function(_0x1dbad5,_0x54f844){const _0x232704=a193_0xb70d,_0x3ae893=_0x1dbad5();while(!![]){try{const _0xcbd6d8=parseInt(_0x232704(0x1e7))/0x1+parseInt(_0x232704(0x1bd))/0x2*(-parseInt(_0x232704(0x1f0))/0x3)+-parseInt(_0x232704(0x1b2))/0x4*(parseInt(_0x232704(0x1d6))/0x5)+-parseInt(_0x232704(0x1d5))/0x6+parseInt(_0x232704(0x1b1))/0x7+parseInt(_0x232704(0x1c3))/0x8+-parseInt(_0x232704(0x1c9))/0x9;if(_0xcbd6d8===_0x54f844)break;else _0x3ae893['push'](_0x3ae893['shift']());}catch(_0x257f23){_0x3ae893['push'](_0x3ae893['shift']());}}}(a193_0x3523,0xba1b2));const a193_0x581f47=(function(){let _0x1dc499=!![];return function(_0x19c828,_0x10b820){const _0x50cce8=_0x1dc499?function(){const _0x4bf71d=a193_0xb70d;if(_0x10b820){const _0x5b9640=_0x10b820[_0x4bf71d(0x1d1)](_0x19c828,arguments);return _0x10b820=null,_0x5b9640;}}:function(){};return _0x1dc499=![],_0x50cce8;};}()),a193_0x559324=a193_0x581f47(this,function(){const _0x2f2d32=a193_0xb70d;return a193_0x559324[_0x2f2d32(0x1cb)]()[_0x2f2d32(0x1f1)](_0x2f2d32(0x1d8))[_0x2f2d32(0x1cb)]()[_0x2f2d32(0x1e2)](a193_0x559324)[_0x2f2d32(0x1f1)]('(((.+)+)+)+$');});a193_0x559324();'use strict';var __decorate=this&&this[a193_0x9d698c(0x1e6)]||function(_0x2c4af0,_0x3a4ecb,_0x1db199,_0x238bca){const _0x4e32ae=a193_0x9d698c;var _0x426b53=arguments[_0x4e32ae(0x1c8)],_0x3a74e6=_0x426b53<0x3?_0x3a4ecb:_0x238bca===null?_0x238bca=Object[_0x4e32ae(0x1ca)](_0x3a4ecb,_0x1db199):_0x238bca,_0x427252;if(typeof Reflect===_0x4e32ae(0x1e3)&&typeof Reflect['decorate']===_0x4e32ae(0x1c7))_0x3a74e6=Reflect[_0x4e32ae(0x1f3)](_0x2c4af0,_0x3a4ecb,_0x1db199,_0x238bca);else{for(var _0x2b1b43=_0x2c4af0['length']-0x1;_0x2b1b43>=0x0;_0x2b1b43--)if(_0x427252=_0x2c4af0[_0x2b1b43])_0x3a74e6=(_0x426b53<0x3?_0x427252(_0x3a74e6):_0x426b53>0x3?_0x427252(_0x3a4ecb,_0x1db199,_0x3a74e6):_0x427252(_0x3a4ecb,_0x1db199))||_0x3a74e6;}return _0x426b53>0x3&&_0x3a74e6&&Object[_0x4e32ae(0x1ea)](_0x3a4ecb,_0x1db199,_0x3a74e6),_0x3a74e6;},__metadata=this&&this['__metadata']||function(_0x4a8323,_0x732383){const _0x55d5ed=a193_0x9d698c;if(typeof Reflect===_0x55d5ed(0x1e3)&&typeof Reflect[_0x55d5ed(0x1ec)]===_0x55d5ed(0x1c7))return Reflect[_0x55d5ed(0x1ec)](_0x4a8323,_0x732383);},__param=this&&this[a193_0x9d698c(0x1d3)]||function(_0xc511f4,_0x572ca2){return function(_0x5b6dc9,_0x516f2d){_0x572ca2(_0x5b6dc9,_0x516f2d,_0xc511f4);};},SalesforceService_1;Object[a193_0x9d698c(0x1ea)](exports,a193_0x9d698c(0x1dc),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require('typedi'),core_1=require(a193_0x9d698c(0x1c6)),internal_server_error_1=require(a193_0x9d698c(0x1cf)),salesforce_auth_service_1=require(a193_0x9d698c(0x1b6)),constants_1=require(a193_0x9d698c(0x1df)),create_request_util_1=require(a193_0x9d698c(0x1b8)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a193_0x9d698c(0x1ae)),connection_dto_1=require('../dto/connection.dto');function a193_0x3523(){const _0x143528=['text','apply','delete\x20attachment\x20%s\x20from\x20salesforce','__param','SalesforceService','1972794RBdGXt','227590BpyxZt','patchObject','(((.+)+)+)+$','/body','/sobjects/Attachment/','arraybuffer','__esModule','ConnectionDto','logger','../../../../constants','loggerId','delete','constructor','object','SalesforceLogger','forEach','__decorate','836618iAwPlW','createObject','/connection','defineProperty','sendLog','metadata','/flosum_git','/sobjects/','retrieveComponents','4362hdmfxz','search','get','decorate','../errors/salesforce.error','request','retrieve\x20components\x20\x20%d\x20from\x20salesforce','9487408qTATsi','124LkGbae','internalLogger','error','then','./salesforce-auth.service','[message]\x20%s','../utils/create-request.util','SalesforceError','post','fetchConnection','namespace','178yHOcic','retrieveAttachment','InternalServerError','services/apexrest','services/data/','patch','10697872iStplk','retrieve\x20attachment\x20%s\x20from\x20salesforce','SALESFORCE_API_VERSION','../../../../core','function','length','8078787kxHvVa','getOwnPropertyDescriptor','toString','Inject','Service','log','../../../../core/errors/internal-server.error'];a193_0x3523=function(){return _0x143528;};return a193_0x3523();}function a193_0xb70d(_0x3956f5,_0x39f971){const _0x5632a6=a193_0x3523();return a193_0xb70d=function(_0x559324,_0x581f47){_0x559324=_0x559324-0x1ae;let _0x352316=_0x5632a6[_0x559324];return _0x352316;},a193_0xb70d(_0x3956f5,_0x39f971);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x8c7603){const _0x447c47=a193_0x9d698c;this[_0x447c47(0x1de)]=new core_1['Logger'](SalesforceService_1['name']),this[_0x447c47(0x1af)]=create_request_util_1['createSalesforceRequest'](_0x8c7603),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x447c47(0x1ed);}['setLoggerId'](_0x3ed5f3){const _0xdf9275=a193_0x9d698c;this[_0xdf9275(0x1e0)]=_0x3ed5f3,this[_0xdf9275(0x1b3)]=new salesforce_logger_service_1[(_0xdf9275(0x1e4))](this);}['getLogger'](){const _0x40206c=a193_0x9d698c;return this[_0x40206c(0x1b3)];}async[a193_0x9d698c(0x1ef)](_0x314b41){const _0x5624c2=a193_0x9d698c;try{this[_0x5624c2(0x1de)][_0x5624c2(0x1ce)](_0x5624c2(0x1b0),_0x314b41['length']);const _0x1c78eb=await this[_0x5624c2(0x1af)][_0x5624c2(0x1ba)]('services/apexrest'+this['namespace']+'/attachments',{'componentIds':_0x314b41,'loggerId':this[_0x5624c2(0x1e0)]})[_0x5624c2(0x1b5)](({data:_0x52c2a0})=>_0x52c2a0);return _0x1c78eb;}catch(_0x237a2e){this[_0x5624c2(0x1de)]['error'](_0x237a2e);throw new salesforce_error_1[(_0x5624c2(0x1b9))](_0x237a2e);}}async['deleteAttachment'](_0x2db087){const _0x308a88=a193_0x9d698c;try{this['logger'][_0x308a88(0x1ce)](_0x308a88(0x1d2),_0x2db087),await this[_0x308a88(0x1af)][_0x308a88(0x1e1)](_0x308a88(0x1c1)+constants_1[_0x308a88(0x1c5)]+_0x308a88(0x1da)+_0x2db087);}catch(_0x411f8a){this[_0x308a88(0x1de)][_0x308a88(0x1b4)](_0x411f8a);throw new salesforce_error_1[(_0x308a88(0x1b9))](_0x411f8a);}}async[a193_0x9d698c(0x1be)](_0x313925,_0x12308f=![]){const _0x56b48f=a193_0x9d698c;try{this[_0x56b48f(0x1de)][_0x56b48f(0x1ce)](_0x56b48f(0x1c4),_0x313925);const _0x250f7c=await this[_0x56b48f(0x1af)][_0x56b48f(0x1f2)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x56b48f(0x1da)+_0x313925+_0x56b48f(0x1d9),{'responseType':_0x12308f?_0x56b48f(0x1db):_0x56b48f(0x1d0)})[_0x56b48f(0x1b5)](({data:_0x1bd9a8})=>_0x1bd9a8);return _0x250f7c;}catch(_0x43b6e0){this[_0x56b48f(0x1de)][_0x56b48f(0x1b4)](_0x43b6e0);throw new salesforce_error_1[(_0x56b48f(0x1b9))](_0x43b6e0);}}async[a193_0x9d698c(0x1eb)](_0x492d12){const _0x86ad48=a193_0x9d698c;try{_0x492d12[_0x86ad48(0x1e5)](_0x247710=>this['logger']['log'](_0x86ad48(0x1b7),_0x247710)),await this[_0x86ad48(0x1af)][_0x86ad48(0x1ba)](_0x86ad48(0x1c0)+this[_0x86ad48(0x1bc)]+'/logger',{'messages':_0x492d12,'loggerId':this['loggerId']});}catch(_0x8a258b){this[_0x86ad48(0x1de)]['error'](_0x8a258b);throw new internal_server_error_1[(_0x86ad48(0x1bf))](_0x8a258b);}}async[a193_0x9d698c(0x1e8)](_0x32a157,_0x485888){const _0x70d648=a193_0x9d698c;try{const {data:_0x36e1d1}=await this[_0x70d648(0x1af)][_0x70d648(0x1ba)](_0x70d648(0x1c1)+constants_1[_0x70d648(0x1c5)]+'/sobjects/'+_0x32a157+'/',_0x485888);return _0x36e1d1['id'];}catch(_0x12b117){throw new salesforce_error_1['SalesforceError'](_0x12b117);}}async[a193_0x9d698c(0x1d7)](_0x3c3cae,_0x3bc882,_0x2349fc){const _0x115198=a193_0x9d698c;try{await this['request'][_0x115198(0x1c2)](_0x115198(0x1c1)+constants_1[_0x115198(0x1c5)]+_0x115198(0x1ee)+_0x3c3cae+'/'+_0x3bc882,_0x2349fc);}catch(_0x51f88a){throw new salesforce_error_1[(_0x115198(0x1b9))](_0x51f88a);}}async[a193_0x9d698c(0x1bb)](_0x80c892){const _0x303e11=a193_0x9d698c;try{const {data:_0x4956b4}=await this['request'][_0x303e11(0x1f2)](_0x303e11(0x1c0)+this[_0x303e11(0x1bc)]+_0x303e11(0x1e9),{'params':{'connectionId':_0x80c892}});return new connection_dto_1[(_0x303e11(0x1dd))](_0x4956b4);}catch(_0x26fbc0){throw new salesforce_error_1[(_0x303e11(0x1b9))](_0x26fbc0);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a193_0x9d698c(0x1cd)]({'transient':!![]}),__param(0x0,typedi_1[a193_0x9d698c(0x1cc)]()),__metadata('design:paramtypes',[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a193_0x9d698c(0x1d4)]=SalesforceService;