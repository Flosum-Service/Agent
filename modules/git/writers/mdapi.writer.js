const a293_0x5b35e8=a293_0x5a5d;(function(_0x3fb0f4,_0x240c2e){const _0x2e5e38=a293_0x5a5d,_0x33484d=_0x3fb0f4();while(!![]){try{const _0xdf11a8=parseInt(_0x2e5e38(0x1e3))/0x1+-parseInt(_0x2e5e38(0x1d5))/0x2*(-parseInt(_0x2e5e38(0x1cf))/0x3)+-parseInt(_0x2e5e38(0x1b7))/0x4*(parseInt(_0x2e5e38(0x1b8))/0x5)+parseInt(_0x2e5e38(0x1de))/0x6*(parseInt(_0x2e5e38(0x1c9))/0x7)+parseInt(_0x2e5e38(0x1e8))/0x8+-parseInt(_0x2e5e38(0x1d2))/0x9+-parseInt(_0x2e5e38(0x1bc))/0xa;if(_0xdf11a8===_0x240c2e)break;else _0x33484d['push'](_0x33484d['shift']());}catch(_0x5bb2d6){_0x33484d['push'](_0x33484d['shift']());}}}(a293_0x610a,0x4d9b7));const a293_0x1b0e5d=(function(){let _0x3f86ed=!![];return function(_0x3d487d,_0x20c0ed){const _0x2ca528=_0x3f86ed?function(){if(_0x20c0ed){const _0x37f1a2=_0x20c0ed['apply'](_0x3d487d,arguments);return _0x20c0ed=null,_0x37f1a2;}}:function(){};return _0x3f86ed=![],_0x2ca528;};}()),a293_0x175544=a293_0x1b0e5d(this,function(){const _0x2bdc17=a293_0x5a5d;return a293_0x175544[_0x2bdc17(0x1e6)]()[_0x2bdc17(0x1ce)](_0x2bdc17(0x1d9))[_0x2bdc17(0x1e6)]()[_0x2bdc17(0x1d7)](a293_0x175544)['search'](_0x2bdc17(0x1d9));});a293_0x175544();'use strict';function a293_0x5a5d(_0x2a98c2,_0x6e6440){const _0x3d6769=a293_0x610a();return a293_0x5a5d=function(_0x175544,_0x1b0e5d){_0x175544=_0x175544-0x1b5;let _0x610ae5=_0x3d6769[_0x175544];return _0x610ae5;},a293_0x5a5d(_0x2a98c2,_0x6e6440);}function a293_0x610a(){const _0x4058b6=['588176CoZPIz','10bHzHJY','join','../parsers/utils/xml-v2','sourceDir','6216850ceVpZh','Have\x20to\x20write\x20%d\x20files','BaseWriter','all','parse','writeChild','push','handleXmlParsingError','splice','includes','XmlV2','skipChildErrors','__importDefault','6839gcUutV','length','logger','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','parentComponents','search','3yZXmqJ','InvalidXmlError','components','1609038SmVSkn','defineProperty','path','1113916XamZbb','readFile','constructor','MAX_WRITES_PER_TICK','(((.+)+)+)+$','].\x20Original\x20error:\x20','writeParent','keys','./base.writer','2454VYjVWr','fileType','default','../parsers/data/child-types','../internal/fs.internal','73197fooLrB','exists','writeFile','toString','MDApiWriter','3061488OPbSYF','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','fileName','readZip','__esModule','map','body'];a293_0x610a=function(){return _0x4058b6;};return a293_0x610a();}var __importDefault=this&&this[a293_0x5b35e8(0x1c8)]||function(_0x4a3353){const _0x15985d=a293_0x5b35e8;return _0x4a3353&&_0x4a3353[_0x15985d(0x1ec)]?_0x4a3353:{'default':_0x4a3353};};Object[a293_0x5b35e8(0x1d3)](exports,a293_0x5b35e8(0x1ec),{'value':!![]}),exports[a293_0x5b35e8(0x1e7)]=void 0x0;const path_1=__importDefault(require(a293_0x5b35e8(0x1d4))),fs_internal_1=require(a293_0x5b35e8(0x1e2)),invalid_xml_error_1=require('../parsers/errors/invalid-xml.error'),xml_v2_1=require(a293_0x5b35e8(0x1ba)),child_types_1=__importDefault(require(a293_0x5b35e8(0x1e1))),base_writer_1=require(a293_0x5b35e8(0x1dd));class MDApiWriter extends base_writer_1[a293_0x5b35e8(0x1be)]{constructor({components:_0x1de404,sourceDir:_0x192485,skipChildErrors:_0x509345}){const _0x4f35bc=a293_0x5b35e8;super({'components':_0x1de404,'sourceDir':_0x192485},MDApiWriter['name']),this[_0x4f35bc(0x1d8)]=0x64,this['parentComponents']={},this[_0x4f35bc(0x1c7)]=_0x509345;}async[a293_0x5b35e8(0x1db)](_0x3b6ec6){const _0x2960a6=a293_0x5b35e8;try{const _0xdf9e23=await this[_0x2960a6(0x1eb)](_0x3b6ec6[_0x2960a6(0x1b6)],!![]);await Promise[_0x2960a6(0x1bf)](_0xdf9e23[_0x2960a6(0x1b5)](({filename:_0x37e1b0,body:_0x50c7f6})=>fs_internal_1['FS'][_0x2960a6(0x1e5)](path_1['default'][_0x2960a6(0x1b9)](this[_0x2960a6(0x1bb)],_0x37e1b0),_0x50c7f6)));}catch(_0x84670a){throw new Error(_0x2960a6(0x1e9)+_0x3b6ec6['fileName']+'\x20['+_0x3b6ec6[_0x2960a6(0x1df)]+_0x2960a6(0x1da)+_0x84670a);}}[a293_0x5b35e8(0x1c3)](_0x16a1c0,_0x5a1395){const _0x102a7e=a293_0x5b35e8;throw new invalid_xml_error_1[(_0x102a7e(0x1d0))](_0x102a7e(0x1cc)+_0x5a1395[_0x102a7e(0x1ea)]+'\x20['+_0x5a1395[_0x102a7e(0x1df)]+_0x102a7e(0x1da)+_0x16a1c0);}async['writeChild'](_0x16bb0f){const _0x849c66=a293_0x5b35e8,{filename:_0x23e6e8,body:_0x1e5338}=(await this['readZip'](_0x16bb0f[_0x849c66(0x1b6)]))[0x0];try{if(!this[_0x849c66(0x1cd)][_0x23e6e8]){const _0x526ac6=path_1['default']['join'](this[_0x849c66(0x1bb)],_0x23e6e8);if(await fs_internal_1['FS'][_0x849c66(0x1e4)](_0x526ac6)){const _0x29e816=await fs_internal_1['FS'][_0x849c66(0x1d6)](_0x526ac6);this[_0x849c66(0x1cd)][_0x23e6e8]=await xml_v2_1[_0x849c66(0x1c6)][_0x849c66(0x1c0)](_0x29e816)['catch'](_0x4ad072=>this[_0x849c66(0x1c3)](_0x4ad072,_0x16bb0f));}else{this[_0x849c66(0x1cd)][_0x23e6e8]=await xml_v2_1[_0x849c66(0x1c6)][_0x849c66(0x1c0)](_0x1e5338)['catch'](_0x328931=>this[_0x849c66(0x1c3)](_0x328931,_0x16bb0f));return;}}const _0x2c7e42=this[_0x849c66(0x1cd)][_0x23e6e8],_0x3a1058=await xml_v2_1['XmlV2']['parse'](_0x1e5338)['catch'](_0x47ab2d=>this[_0x849c66(0x1c3)](_0x47ab2d,_0x16bb0f));xml_v2_1[_0x849c66(0x1c6)]['replaceOrAppend'](_0x2c7e42,_0x3a1058);}catch(_0x42bd6e){if(_0x42bd6e instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x849c66(0x1c7)])return;else throw _0x42bd6e;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x16bb0f[_0x849c66(0x1ea)]+'\x20['+_0x16bb0f[_0x849c66(0x1df)]+_0x849c66(0x1da)+_0x42bd6e);}}async['execute'](){const _0x25fb3d=a293_0x5b35e8;!await fs_internal_1['FS'][_0x25fb3d(0x1e4)](this[_0x25fb3d(0x1bb)])&&await fs_internal_1['FS']['makeDir'](this[_0x25fb3d(0x1bb)]);const _0xca7d3e=[],_0x3962ca=[];for(const _0xbeb2d5 of this['components']){child_types_1['default'][_0x25fb3d(0x1c5)](_0xbeb2d5[_0x25fb3d(0x1df)])?_0x3962ca[_0x25fb3d(0x1c2)](_0xbeb2d5):_0xca7d3e[_0x25fb3d(0x1c2)](_0xbeb2d5);}for(const _0x8c0776 of _0xca7d3e){await this['writeParent'](_0x8c0776);}for(const _0x1ae05b of _0x3962ca){await this[_0x25fb3d(0x1c1)](_0x1ae05b);}const _0x27b216=Object[_0x25fb3d(0x1dc)](this[_0x25fb3d(0x1cd)]);this[_0x25fb3d(0x1cb)]['log'](_0x25fb3d(0x1bd),this[_0x25fb3d(0x1d1)]['length']);while(_0x27b216[_0x25fb3d(0x1ca)]){const _0x3a440d=_0x27b216[_0x25fb3d(0x1c4)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x512314 of _0x3a440d){await fs_internal_1['FS'][_0x25fb3d(0x1e5)](path_1[_0x25fb3d(0x1e0)]['join'](this[_0x25fb3d(0x1bb)],_0x512314),xml_v2_1[_0x25fb3d(0x1c6)]['convertToString'](this[_0x25fb3d(0x1cd)][_0x512314]));}}this['parentComponents']={};}}exports['MDApiWriter']=MDApiWriter;