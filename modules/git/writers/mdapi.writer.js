const a304_0x5646b6=a304_0x5464;(function(_0x16e70c,_0x1404df){const _0x38f894=a304_0x5464,_0x3092ac=_0x16e70c();while(!![]){try{const _0x22a0f7=-parseInt(_0x38f894(0xc9))/0x1*(parseInt(_0x38f894(0xde))/0x2)+parseInt(_0x38f894(0xe7))/0x3+-parseInt(_0x38f894(0xf0))/0x4+-parseInt(_0x38f894(0xca))/0x5*(parseInt(_0x38f894(0xe2))/0x6)+parseInt(_0x38f894(0xc8))/0x7*(-parseInt(_0x38f894(0xe6))/0x8)+parseInt(_0x38f894(0xea))/0x9*(parseInt(_0x38f894(0xda))/0xa)+parseInt(_0x38f894(0xd9))/0xb;if(_0x22a0f7===_0x1404df)break;else _0x3092ac['push'](_0x3092ac['shift']());}catch(_0x5488e5){_0x3092ac['push'](_0x3092ac['shift']());}}}(a304_0x1790,0x6b0f9));const a304_0x1da318=(function(){let _0x194ff1=!![];return function(_0x2ac5fd,_0x2e2f6d){const _0x5775ba=_0x194ff1?function(){const _0x3b74ce=a304_0x5464;if(_0x2e2f6d){const _0x41f0dd=_0x2e2f6d[_0x3b74ce(0xd0)](_0x2ac5fd,arguments);return _0x2e2f6d=null,_0x41f0dd;}}:function(){};return _0x194ff1=![],_0x5775ba;};}()),a304_0x4b4db5=a304_0x1da318(this,function(){const _0x5efed4=a304_0x5464;return a304_0x4b4db5['toString']()[_0x5efed4(0xd1)](_0x5efed4(0xcb))['toString']()[_0x5efed4(0xec)](a304_0x4b4db5)['search']('(((.+)+)+)+$');});a304_0x4b4db5();'use strict';var __importDefault=this&&this[a304_0x5646b6(0xd4)]||function(_0x452e8a){return _0x452e8a&&_0x452e8a['__esModule']?_0x452e8a:{'default':_0x452e8a};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a304_0x5646b6(0xef)]=void 0x0;function a304_0x1790(){const _0x2a3640=['parse','sourceDir','components','includes','convertToString','fileName','body','InvalidXmlError','push','BaseWriter','writeParent','default','writeFile','14805pRweLM','16jBSgKj','5knEKSl','(((.+)+)+)+$','keys','join','map','exists','apply','search','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','splice','__importDefault','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','../parsers/utils/xml-v2','readZip','name','7857234BYlrBB','171660xufRoO','log','../parsers/errors/invalid-xml.error','makeDir','14998WqJrot','XmlV2','logger','catch','2938938ICcBPy','].\x20Original\x20error:\x20','../internal/fs.internal','path','2776OxSPug','2181594RHOYul','handleXmlParsingError','readFile','387trxWQy','MAX_WRITES_PER_TICK','constructor','skipChildErrors','parentComponents','MDApiWriter','1589588SEVdqU','fileType','execute'];a304_0x1790=function(){return _0x2a3640;};return a304_0x1790();}const path_1=__importDefault(require(a304_0x5646b6(0xe5))),fs_internal_1=require(a304_0x5646b6(0xe4)),invalid_xml_error_1=require(a304_0x5646b6(0xdc)),xml_v2_1=require(a304_0x5646b6(0xd6)),child_types_1=__importDefault(require('../parsers/data/child-types')),base_writer_1=require('./base.writer');class MDApiWriter extends base_writer_1[a304_0x5646b6(0xc4)]{constructor({components:_0xa87297,sourceDir:_0x3ff738,skipChildErrors:_0x5f45f7}){const _0x32f723=a304_0x5646b6;super({'components':_0xa87297,'sourceDir':_0x3ff738},MDApiWriter[_0x32f723(0xd8)]),this[_0x32f723(0xeb)]=0x64,this[_0x32f723(0xee)]={},this['skipChildErrors']=_0x5f45f7;}async[a304_0x5646b6(0xc5)](_0x3eb033){const _0x6dd2aa=a304_0x5646b6;try{const _0x19b9da=await this['readZip'](_0x3eb033[_0x6dd2aa(0xc1)],!![]);await Promise['all'](_0x19b9da[_0x6dd2aa(0xce)](({filename:_0x46bfb6,body:_0x55ec52})=>fs_internal_1['FS'][_0x6dd2aa(0xc7)](path_1[_0x6dd2aa(0xc6)][_0x6dd2aa(0xcd)](this['sourceDir'],_0x46bfb6),_0x55ec52)));}catch(_0x4f8bb2){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x3eb033[_0x6dd2aa(0xc0)]+'\x20['+_0x3eb033[_0x6dd2aa(0xf1)]+_0x6dd2aa(0xe3)+_0x4f8bb2);}}[a304_0x5646b6(0xe8)](_0x1b9ef7,_0x2c4903){const _0x474f0f=a304_0x5646b6;throw new invalid_xml_error_1['InvalidXmlError'](_0x474f0f(0xd5)+_0x2c4903[_0x474f0f(0xc0)]+'\x20['+_0x2c4903[_0x474f0f(0xf1)]+_0x474f0f(0xe3)+_0x1b9ef7);}async['writeChild'](_0x10f1ab){const _0x5ca40b=a304_0x5646b6,{filename:_0x3d86a4,body:_0x39c076}=(await this[_0x5ca40b(0xd7)](_0x10f1ab[_0x5ca40b(0xc1)]))[0x0];try{if(!this[_0x5ca40b(0xee)][_0x3d86a4]){const _0x2f4575=path_1['default']['join'](this[_0x5ca40b(0xf4)],_0x3d86a4);if(await fs_internal_1['FS'][_0x5ca40b(0xcf)](_0x2f4575)){const _0x41b11e=await fs_internal_1['FS'][_0x5ca40b(0xe9)](_0x2f4575);this[_0x5ca40b(0xee)][_0x3d86a4]=await xml_v2_1['XmlV2']['parse'](_0x41b11e)[_0x5ca40b(0xe1)](_0x106f51=>this[_0x5ca40b(0xe8)](_0x106f51,_0x10f1ab));}else{this[_0x5ca40b(0xee)][_0x3d86a4]=await xml_v2_1[_0x5ca40b(0xdf)][_0x5ca40b(0xf3)](_0x39c076)[_0x5ca40b(0xe1)](_0x2a4aa5=>this[_0x5ca40b(0xe8)](_0x2a4aa5,_0x10f1ab));return;}}const _0x1d3c40=this[_0x5ca40b(0xee)][_0x3d86a4],_0x5a6e46=await xml_v2_1['XmlV2'][_0x5ca40b(0xf3)](_0x39c076)['catch'](_0x3f1a9a=>this[_0x5ca40b(0xe8)](_0x3f1a9a,_0x10f1ab));xml_v2_1[_0x5ca40b(0xdf)]['replaceOrAppend'](_0x1d3c40,_0x5a6e46);}catch(_0x38cc89){if(_0x38cc89 instanceof invalid_xml_error_1[_0x5ca40b(0xc2)]){if(this[_0x5ca40b(0xed)])return;else throw _0x38cc89;}throw new Error(_0x5ca40b(0xd2)+_0x10f1ab[_0x5ca40b(0xc0)]+'\x20['+_0x10f1ab['fileType']+_0x5ca40b(0xe3)+_0x38cc89);}}async[a304_0x5646b6(0xf2)](){const _0x1bc80c=a304_0x5646b6;!await fs_internal_1['FS'][_0x1bc80c(0xcf)](this[_0x1bc80c(0xf4)])&&await fs_internal_1['FS'][_0x1bc80c(0xdd)](this[_0x1bc80c(0xf4)]);const _0x3c7e72=[],_0x267d7f=[];for(const _0x1371e5 of this['components']){child_types_1['default'][_0x1bc80c(0xbe)](_0x1371e5['fileType'])?_0x267d7f[_0x1bc80c(0xc3)](_0x1371e5):_0x3c7e72[_0x1bc80c(0xc3)](_0x1371e5);}for(const _0x422619 of _0x3c7e72){await this[_0x1bc80c(0xc5)](_0x422619);}for(const _0x2578f9 of _0x267d7f){await this['writeChild'](_0x2578f9);}const _0x2f5306=Object[_0x1bc80c(0xcc)](this[_0x1bc80c(0xee)]);this[_0x1bc80c(0xe0)][_0x1bc80c(0xdb)]('Have\x20to\x20write\x20%d\x20files',this[_0x1bc80c(0xf5)]['length']);while(_0x2f5306['length']){const _0x52d134=_0x2f5306[_0x1bc80c(0xd3)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x11be45 of _0x52d134){await fs_internal_1['FS'][_0x1bc80c(0xc7)](path_1[_0x1bc80c(0xc6)][_0x1bc80c(0xcd)](this[_0x1bc80c(0xf4)],_0x11be45),xml_v2_1[_0x1bc80c(0xdf)][_0x1bc80c(0xbf)](this[_0x1bc80c(0xee)][_0x11be45]));}}this['parentComponents']={};}}function a304_0x5464(_0x552b98,_0x4367a9){const _0x199195=a304_0x1790();return a304_0x5464=function(_0x4b4db5,_0x1da318){_0x4b4db5=_0x4b4db5-0xbe;let _0x1790b3=_0x199195[_0x4b4db5];return _0x1790b3;},a304_0x5464(_0x552b98,_0x4367a9);}exports[a304_0x5646b6(0xef)]=MDApiWriter;