const a277_0xc4957c=a277_0x3421;function a277_0x2ec3(){const _0x1b4508=['push','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','skipChildErrors','__esModule','writeFile','fileType','logger','constructor','toString','235554WhSPcW','readFile','body','writeParent','parse','MAX_WRITES_PER_TICK','6169120BXHpce','(((.+)+)+)+$','log','InvalidXmlError','../internal/fs.internal','./base.writer','includes','makeDir','all','splice','handleXmlParsingError','catch','../parsers/errors/invalid-xml.error','length','XmlV2','5iYMVpV','default','2313iqXNyV','].\x20Original\x20error:\x20','execute','3780119JvjiHY','join','BaseWriter','3137304HLIGuB','4zZiBGI','defineProperty','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','__importDefault','writeChild','apply','search','../parsers/data/child-types','383748XgTyms','sourceDir','fileName','12488jTrdPU','keys','../parsers/utils/xml-v2','exists','MDApiWriter','components','path','readZip','399731DUjesw','replaceOrAppend','parentComponents'];a277_0x2ec3=function(){return _0x1b4508;};return a277_0x2ec3();}(function(_0x29f905,_0x2bdd31){const _0x1caf27=a277_0x3421,_0x48146f=_0x29f905();while(!![]){try{const _0x3cffb0=parseInt(_0x1caf27(0xf2))/0x1*(parseInt(_0x1caf27(0xdf))/0x2)+parseInt(_0x1caf27(0xe7))/0x3+parseInt(_0x1caf27(0xde))/0x4*(-parseInt(_0x1caf27(0xd6))/0x5)+-parseInt(_0x1caf27(0xfe))/0x6+-parseInt(_0x1caf27(0xdb))/0x7+-parseInt(_0x1caf27(0xea))/0x8*(-parseInt(_0x1caf27(0xd8))/0x9)+parseInt(_0x1caf27(0xc7))/0xa;if(_0x3cffb0===_0x2bdd31)break;else _0x48146f['push'](_0x48146f['shift']());}catch(_0x109a8c){_0x48146f['push'](_0x48146f['shift']());}}}(a277_0x2ec3,0x8e0e9));const a277_0x150a33=(function(){let _0x4a8dfd=!![];return function(_0x54b61d,_0x1ac20a){const _0x32de37=_0x4a8dfd?function(){const _0x8c2f5d=a277_0x3421;if(_0x1ac20a){const _0x512bc1=_0x1ac20a[_0x8c2f5d(0xe4)](_0x54b61d,arguments);return _0x1ac20a=null,_0x512bc1;}}:function(){};return _0x4a8dfd=![],_0x32de37;};}()),a277_0x5e4a7d=a277_0x150a33(this,function(){const _0x15e4df=a277_0x3421;return a277_0x5e4a7d[_0x15e4df(0xfd)]()['search'](_0x15e4df(0xc8))[_0x15e4df(0xfd)]()[_0x15e4df(0xfc)](a277_0x5e4a7d)[_0x15e4df(0xe5)](_0x15e4df(0xc8));});a277_0x5e4a7d();function a277_0x3421(_0x5b96e1,_0x16f9ce){const _0x2278e1=a277_0x2ec3();return a277_0x3421=function(_0x5e4a7d,_0x150a33){_0x5e4a7d=_0x5e4a7d-0xc7;let _0x2ec320=_0x2278e1[_0x5e4a7d];return _0x2ec320;},a277_0x3421(_0x5b96e1,_0x16f9ce);}'use strict';var __importDefault=this&&this[a277_0xc4957c(0xe2)]||function(_0x76eafc){const _0x1c0211=a277_0xc4957c;return _0x76eafc&&_0x76eafc[_0x1c0211(0xf8)]?_0x76eafc:{'default':_0x76eafc};};Object[a277_0xc4957c(0xe0)](exports,'__esModule',{'value':!![]}),exports[a277_0xc4957c(0xee)]=void 0x0;const path_1=__importDefault(require(a277_0xc4957c(0xf0))),fs_internal_1=require(a277_0xc4957c(0xcb)),invalid_xml_error_1=require(a277_0xc4957c(0xd3)),xml_v2_1=require(a277_0xc4957c(0xec)),child_types_1=__importDefault(require(a277_0xc4957c(0xe6))),base_writer_1=require(a277_0xc4957c(0xcc));class MDApiWriter extends base_writer_1[a277_0xc4957c(0xdd)]{constructor({components:_0x22a330,sourceDir:_0xe6e924,skipChildErrors:_0x4e8182}){super({'components':_0x22a330,'sourceDir':_0xe6e924},MDApiWriter['name']),this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={},this['skipChildErrors']=_0x4e8182;}async[a277_0xc4957c(0x101)](_0x410bb4){const _0x211340=a277_0xc4957c;try{const _0x2efa22=await this[_0x211340(0xf1)](_0x410bb4['body'],!![]);await Promise[_0x211340(0xcf)](_0x2efa22['map'](({filename:_0xc49cff,body:_0x4722a7})=>fs_internal_1['FS'][_0x211340(0xf9)](path_1['default'][_0x211340(0xdc)](this['sourceDir'],_0xc49cff),_0x4722a7)));}catch(_0x4aec2f){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x410bb4[_0x211340(0xe9)]+'\x20['+_0x410bb4['fileType']+_0x211340(0xd9)+_0x4aec2f);}}[a277_0xc4957c(0xd1)](_0xf768b9,_0x56bd74){const _0x344c47=a277_0xc4957c;throw new invalid_xml_error_1[(_0x344c47(0xca))](_0x344c47(0xe1)+_0x56bd74[_0x344c47(0xe9)]+'\x20['+_0x56bd74[_0x344c47(0xfa)]+_0x344c47(0xd9)+_0xf768b9);}async['writeChild'](_0x29e28f){const _0xf274e=a277_0xc4957c,{filename:_0x197738,body:_0x5c3c48}=(await this[_0xf274e(0xf1)](_0x29e28f[_0xf274e(0x100)]))[0x0];try{if(!this[_0xf274e(0xf4)][_0x197738]){const _0x4c7835=path_1[_0xf274e(0xd7)][_0xf274e(0xdc)](this[_0xf274e(0xe8)],_0x197738);if(await fs_internal_1['FS'][_0xf274e(0xed)](_0x4c7835)){const _0x30a2ab=await fs_internal_1['FS'][_0xf274e(0xff)](_0x4c7835);this[_0xf274e(0xf4)][_0x197738]=await xml_v2_1[_0xf274e(0xd5)][_0xf274e(0x102)](_0x30a2ab)[_0xf274e(0xd2)](_0x5d2063=>this[_0xf274e(0xd1)](_0x5d2063,_0x29e28f));}else{this['parentComponents'][_0x197738]=await xml_v2_1[_0xf274e(0xd5)][_0xf274e(0x102)](_0x5c3c48)[_0xf274e(0xd2)](_0x1f6941=>this[_0xf274e(0xd1)](_0x1f6941,_0x29e28f));return;}}const _0x3d5f9d=this[_0xf274e(0xf4)][_0x197738],_0x425375=await xml_v2_1['XmlV2'][_0xf274e(0x102)](_0x5c3c48)['catch'](_0x30646b=>this['handleXmlParsingError'](_0x30646b,_0x29e28f));xml_v2_1[_0xf274e(0xd5)][_0xf274e(0xf3)](_0x3d5f9d,_0x425375);}catch(_0x39c021){if(_0x39c021 instanceof invalid_xml_error_1[_0xf274e(0xca)]){if(this[_0xf274e(0xf7)])return;else throw _0x39c021;}throw new Error(_0xf274e(0xf6)+_0x29e28f['fileName']+'\x20['+_0x29e28f[_0xf274e(0xfa)]+_0xf274e(0xd9)+_0x39c021);}}async[a277_0xc4957c(0xda)](){const _0x1e7863=a277_0xc4957c;!await fs_internal_1['FS'][_0x1e7863(0xed)](this[_0x1e7863(0xe8)])&&await fs_internal_1['FS'][_0x1e7863(0xce)](this['sourceDir']);const _0x2449ee=[],_0x5e56f2=[];for(const _0x2efd72 of this[_0x1e7863(0xef)]){child_types_1['default'][_0x1e7863(0xcd)](_0x2efd72[_0x1e7863(0xfa)])?_0x5e56f2[_0x1e7863(0xf5)](_0x2efd72):_0x2449ee[_0x1e7863(0xf5)](_0x2efd72);}for(const _0xec7c39 of _0x2449ee){await this[_0x1e7863(0x101)](_0xec7c39);}for(const _0x562a98 of _0x5e56f2){await this[_0x1e7863(0xe3)](_0x562a98);}const _0x16376b=Object[_0x1e7863(0xeb)](this[_0x1e7863(0xf4)]);this[_0x1e7863(0xfb)][_0x1e7863(0xc9)]('Have\x20to\x20write\x20%d\x20files',this[_0x1e7863(0xef)]['length']);while(_0x16376b[_0x1e7863(0xd4)]){const _0x14a8c8=_0x16376b[_0x1e7863(0xd0)](0x0,this[_0x1e7863(0x103)]);for(const _0x58de64 of _0x14a8c8){await fs_internal_1['FS'][_0x1e7863(0xf9)](path_1[_0x1e7863(0xd7)]['join'](this[_0x1e7863(0xe8)],_0x58de64),xml_v2_1[_0x1e7863(0xd5)]['convertToString'](this[_0x1e7863(0xf4)][_0x58de64]));}}this[_0x1e7863(0xf4)]={};}}exports['MDApiWriter']=MDApiWriter;