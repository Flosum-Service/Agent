const a304_0x36d208=a304_0x5ed8;(function(_0xcacb0d,_0x512c48){const _0x30cf80=a304_0x5ed8,_0x429c22=_0xcacb0d();while(!![]){try{const _0x4d7572=-parseInt(_0x30cf80(0x117))/0x1*(parseInt(_0x30cf80(0x112))/0x2)+parseInt(_0x30cf80(0x125))/0x3*(parseInt(_0x30cf80(0x12f))/0x4)+parseInt(_0x30cf80(0x11f))/0x5+parseInt(_0x30cf80(0x115))/0x6+parseInt(_0x30cf80(0x11a))/0x7+parseInt(_0x30cf80(0x10a))/0x8*(-parseInt(_0x30cf80(0x12d))/0x9)+parseInt(_0x30cf80(0x124))/0xa;if(_0x4d7572===_0x512c48)break;else _0x429c22['push'](_0x429c22['shift']());}catch(_0x3a2c69){_0x429c22['push'](_0x429c22['shift']());}}}(a304_0x5dc0,0x8058c));function a304_0x5ed8(_0x1bd52e,_0x25f88a){const _0x125ac0=a304_0x5dc0();return a304_0x5ed8=function(_0x426410,_0x129338){_0x426410=_0x426410-0x109;let _0x5dc059=_0x125ac0[_0x426410];return _0x5dc059;},a304_0x5ed8(_0x1bd52e,_0x25f88a);}const a304_0x129338=(function(){let _0x1c24c6=!![];return function(_0x66049e,_0x200137){const _0xb99c01=_0x1c24c6?function(){const _0x431403=a304_0x5ed8;if(_0x200137){const _0xe69d6e=_0x200137[_0x431403(0x10c)](_0x66049e,arguments);return _0x200137=null,_0xe69d6e;}}:function(){};return _0x1c24c6=![],_0xb99c01;};}()),a304_0x426410=a304_0x129338(this,function(){const _0x38d534=a304_0x5ed8;return a304_0x426410[_0x38d534(0x13f)]()['search'](_0x38d534(0x111))[_0x38d534(0x13f)]()[_0x38d534(0x143)](a304_0x426410)['search']('(((.+)+)+)+$');});a304_0x426410();'use strict';var __importDefault=this&&this[a304_0x36d208(0x116)]||function(_0x3d36eb){return _0x3d36eb&&_0x3d36eb['__esModule']?_0x3d36eb:{'default':_0x3d36eb};};Object['defineProperty'](exports,a304_0x36d208(0x141),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a304_0x36d208(0x109))),fs_internal_1=require(a304_0x36d208(0x12b)),invalid_xml_error_1=require('../parsers/errors/invalid-xml.error'),xml_v2_1=require(a304_0x36d208(0x110)),child_types_1=__importDefault(require(a304_0x36d208(0x134))),base_writer_1=require(a304_0x36d208(0x13d));function a304_0x5dc0(){const _0x194ac9=['MDApiWriter','catch','join','XmlV2','../internal/fs.internal','parentComponents','9ziUUEU','InvalidXmlError','20paGGVm','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','map','fileName','includes','../parsers/data/child-types','exists','MAX_WRITES_PER_TICK','log','sourceDir','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','fileType','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','replaceOrAppend','./base.writer','skipChildErrors','toString','logger','__esModule','components','constructor','path','7642248lqOasb','default','apply','BaseWriter','handleXmlParsingError','readFile','../parsers/utils/xml-v2','(((.+)+)+)+$','7586VUrgxv','push','readZip','2789754szmwId','__importDefault','175BZSgPp','parse','length','1137647yAFFOr','].\x20Original\x20error:\x20','writeFile','writeParent','execute','3101770IQKvYK','splice','convertToString','makeDir','writeChild','8483700XSguZb','29136NdNiCU','name'];a304_0x5dc0=function(){return _0x194ac9;};return a304_0x5dc0();}class MDApiWriter extends base_writer_1[a304_0x36d208(0x10d)]{constructor({components:_0x5f57bf,sourceDir:_0x27a1a8,skipChildErrors:_0x52c657}){const _0x18c1ed=a304_0x36d208;super({'components':_0x5f57bf,'sourceDir':_0x27a1a8},MDApiWriter[_0x18c1ed(0x126)]),this['MAX_WRITES_PER_TICK']=0x64,this[_0x18c1ed(0x12c)]={},this[_0x18c1ed(0x13e)]=_0x52c657;}async[a304_0x36d208(0x11d)](_0x368b53){const _0x337fbc=a304_0x36d208;try{const _0x3b219a=await this[_0x337fbc(0x114)](_0x368b53['body'],!![]);await Promise['all'](_0x3b219a[_0x337fbc(0x131)](({filename:_0x194952,body:_0x4b7520})=>fs_internal_1['FS'][_0x337fbc(0x11c)](path_1['default']['join'](this[_0x337fbc(0x138)],_0x194952),_0x4b7520)));}catch(_0xc78032){throw new Error(_0x337fbc(0x130)+_0x368b53[_0x337fbc(0x132)]+'\x20['+_0x368b53[_0x337fbc(0x13a)]+_0x337fbc(0x11b)+_0xc78032);}}['handleXmlParsingError'](_0x24508e,_0x4d5198){const _0x108b17=a304_0x36d208;throw new invalid_xml_error_1[(_0x108b17(0x12e))](_0x108b17(0x13b)+_0x4d5198['fileName']+'\x20['+_0x4d5198[_0x108b17(0x13a)]+_0x108b17(0x11b)+_0x24508e);}async[a304_0x36d208(0x123)](_0x1fb95f){const _0x165617=a304_0x36d208,{filename:_0x504074,body:_0x56fce0}=(await this[_0x165617(0x114)](_0x1fb95f['body']))[0x0];try{if(!this[_0x165617(0x12c)][_0x504074]){const _0x2ee170=path_1['default'][_0x165617(0x129)](this[_0x165617(0x138)],_0x504074);if(await fs_internal_1['FS'][_0x165617(0x135)](_0x2ee170)){const _0x61f1ee=await fs_internal_1['FS'][_0x165617(0x10f)](_0x2ee170);this['parentComponents'][_0x504074]=await xml_v2_1['XmlV2'][_0x165617(0x118)](_0x61f1ee)[_0x165617(0x128)](_0x40cdb0=>this[_0x165617(0x10e)](_0x40cdb0,_0x1fb95f));}else{this[_0x165617(0x12c)][_0x504074]=await xml_v2_1[_0x165617(0x12a)][_0x165617(0x118)](_0x56fce0)[_0x165617(0x128)](_0x56ceb6=>this['handleXmlParsingError'](_0x56ceb6,_0x1fb95f));return;}}const _0x49a119=this['parentComponents'][_0x504074],_0x2ffb9d=await xml_v2_1[_0x165617(0x12a)]['parse'](_0x56fce0)[_0x165617(0x128)](_0x46e75f=>this[_0x165617(0x10e)](_0x46e75f,_0x1fb95f));xml_v2_1[_0x165617(0x12a)][_0x165617(0x13c)](_0x49a119,_0x2ffb9d);}catch(_0x4b4e8b){if(_0x4b4e8b instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x165617(0x13e)])return;else throw _0x4b4e8b;}throw new Error(_0x165617(0x139)+_0x1fb95f['fileName']+'\x20['+_0x1fb95f['fileType']+_0x165617(0x11b)+_0x4b4e8b);}}async[a304_0x36d208(0x11e)](){const _0x7cf34e=a304_0x36d208;!await fs_internal_1['FS'][_0x7cf34e(0x135)](this[_0x7cf34e(0x138)])&&await fs_internal_1['FS'][_0x7cf34e(0x122)](this[_0x7cf34e(0x138)]);const _0x38b7e0=[],_0x54f76e=[];for(const _0x5c98a8 of this[_0x7cf34e(0x142)]){child_types_1[_0x7cf34e(0x10b)][_0x7cf34e(0x133)](_0x5c98a8[_0x7cf34e(0x13a)])?_0x54f76e[_0x7cf34e(0x113)](_0x5c98a8):_0x38b7e0['push'](_0x5c98a8);}for(const _0x27150c of _0x38b7e0){await this[_0x7cf34e(0x11d)](_0x27150c);}for(const _0x41aca5 of _0x54f76e){await this[_0x7cf34e(0x123)](_0x41aca5);}const _0x432cca=Object['keys'](this[_0x7cf34e(0x12c)]);this[_0x7cf34e(0x140)][_0x7cf34e(0x137)]('Have\x20to\x20write\x20%d\x20files',this[_0x7cf34e(0x142)][_0x7cf34e(0x119)]);while(_0x432cca[_0x7cf34e(0x119)]){const _0x36a756=_0x432cca[_0x7cf34e(0x120)](0x0,this[_0x7cf34e(0x136)]);for(const _0x395496 of _0x36a756){await fs_internal_1['FS'][_0x7cf34e(0x11c)](path_1['default'][_0x7cf34e(0x129)](this[_0x7cf34e(0x138)],_0x395496),xml_v2_1[_0x7cf34e(0x12a)][_0x7cf34e(0x121)](this[_0x7cf34e(0x12c)][_0x395496]));}}this[_0x7cf34e(0x12c)]={};}}exports[a304_0x36d208(0x127)]=MDApiWriter;