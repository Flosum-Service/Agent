const a305_0x1d5f19=a305_0x3282;(function(_0x4b7775,_0x25087a){const _0x30da62=a305_0x3282,_0x4cbb92=_0x4b7775();while(!![]){try{const _0x15154a=parseInt(_0x30da62(0x156))/0x1+parseInt(_0x30da62(0x185))/0x2*(-parseInt(_0x30da62(0x153))/0x3)+parseInt(_0x30da62(0x179))/0x4+-parseInt(_0x30da62(0x160))/0x5*(-parseInt(_0x30da62(0x186))/0x6)+parseInt(_0x30da62(0x189))/0x7+-parseInt(_0x30da62(0x171))/0x8*(parseInt(_0x30da62(0x177))/0x9)+-parseInt(_0x30da62(0x17a))/0xa;if(_0x15154a===_0x25087a)break;else _0x4cbb92['push'](_0x4cbb92['shift']());}catch(_0x445a40){_0x4cbb92['push'](_0x4cbb92['shift']());}}}(a305_0x2ce5,0x55388));const a305_0x2b96c4=(function(){let _0x37a634=!![];return function(_0x50613b,_0xe0f21e){const _0x435ac8=_0x37a634?function(){if(_0xe0f21e){const _0x513a27=_0xe0f21e['apply'](_0x50613b,arguments);return _0xe0f21e=null,_0x513a27;}}:function(){};return _0x37a634=![],_0x435ac8;};}()),a305_0x37e178=a305_0x2b96c4(this,function(){const _0x219002=a305_0x3282;return a305_0x37e178['toString']()[_0x219002(0x174)](_0x219002(0x158))[_0x219002(0x16a)]()[_0x219002(0x168)](a305_0x37e178)['search'](_0x219002(0x158));});a305_0x37e178();function a305_0x2ce5(){const _0xf57833=['handleXmlParsingError','exists','BaseWriter','writeChild','./base.writer','4868nhirwC','6CmNabP','includes','fileType','603113xVDjmc','writeFile','66ubqoYo','map','execute','43487fLjPUC','parentComponents','(((.+)+)+)+$','default','catch','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','components','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','makeDir','1356715KWHSdl','body','skipChildErrors','sourceDir','../parsers/errors/invalid-xml.error','name','splice','push','constructor','path','toString','Have\x20to\x20write\x20%d\x20files','XmlV2','keys','logger','../parsers/utils/xml-v2','__esModule','21680XqPKYq','length','MDApiWriter','search','].\x20Original\x20error:\x20','fileName','513uIbeEk','replaceOrAppend','2424720PYGsJF','4500870UVDiBN','join','convertToString','readFile','readZip','parse'];a305_0x2ce5=function(){return _0xf57833;};return a305_0x2ce5();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0xa56f84){const _0x4e0d02=a305_0x3282;return _0xa56f84&&_0xa56f84[_0x4e0d02(0x170)]?_0xa56f84:{'default':_0xa56f84};};Object['defineProperty'](exports,a305_0x1d5f19(0x170),{'value':!![]}),exports[a305_0x1d5f19(0x173)]=void 0x0;const path_1=__importDefault(require(a305_0x1d5f19(0x169))),fs_internal_1=require('../internal/fs.internal'),invalid_xml_error_1=require(a305_0x1d5f19(0x164)),xml_v2_1=require(a305_0x1d5f19(0x16f)),child_types_1=__importDefault(require('../parsers/data/child-types')),base_writer_1=require(a305_0x1d5f19(0x184));function a305_0x3282(_0x5d1a7d,_0x33a1e2){const _0xb0cf49=a305_0x2ce5();return a305_0x3282=function(_0x37e178,_0x2b96c4){_0x37e178=_0x37e178-0x152;let _0x2ce5ad=_0xb0cf49[_0x37e178];return _0x2ce5ad;},a305_0x3282(_0x5d1a7d,_0x33a1e2);}class MDApiWriter extends base_writer_1[a305_0x1d5f19(0x182)]{constructor({components:_0xb829df,sourceDir:_0x3df560,skipChildErrors:_0x599106}){const _0x47f09a=a305_0x1d5f19;super({'components':_0xb829df,'sourceDir':_0x3df560},MDApiWriter[_0x47f09a(0x165)]),this['MAX_WRITES_PER_TICK']=0x64,this[_0x47f09a(0x157)]={},this[_0x47f09a(0x162)]=_0x599106;}async['writeParent'](_0x255e76){const _0x19a5a8=a305_0x1d5f19;try{const _0x4765d1=await this[_0x19a5a8(0x17e)](_0x255e76[_0x19a5a8(0x161)],!![]);await Promise['all'](_0x4765d1[_0x19a5a8(0x154)](({filename:_0x1097e7,body:_0x18f7ec})=>fs_internal_1['FS'][_0x19a5a8(0x152)](path_1[_0x19a5a8(0x159)][_0x19a5a8(0x17b)](this[_0x19a5a8(0x163)],_0x1097e7),_0x18f7ec)));}catch(_0x5cb7d0){throw new Error(_0x19a5a8(0x15b)+_0x255e76[_0x19a5a8(0x176)]+'\x20['+_0x255e76[_0x19a5a8(0x188)]+'].\x20Original\x20error:\x20'+_0x5cb7d0);}}[a305_0x1d5f19(0x180)](_0x343206,_0x2331df){const _0x4c896a=a305_0x1d5f19;throw new invalid_xml_error_1['InvalidXmlError'](_0x4c896a(0x15c)+_0x2331df['fileName']+'\x20['+_0x2331df[_0x4c896a(0x188)]+'].\x20Original\x20error:\x20'+_0x343206);}async[a305_0x1d5f19(0x183)](_0x261cca){const _0x3293d5=a305_0x1d5f19,{filename:_0x2a01dd,body:_0x110f00}=(await this['readZip'](_0x261cca[_0x3293d5(0x161)]))[0x0];try{if(!this[_0x3293d5(0x157)][_0x2a01dd]){const _0x59346a=path_1[_0x3293d5(0x159)][_0x3293d5(0x17b)](this[_0x3293d5(0x163)],_0x2a01dd);if(await fs_internal_1['FS'][_0x3293d5(0x181)](_0x59346a)){const _0x30a0a4=await fs_internal_1['FS'][_0x3293d5(0x17d)](_0x59346a);this['parentComponents'][_0x2a01dd]=await xml_v2_1[_0x3293d5(0x16c)]['parse'](_0x30a0a4)[_0x3293d5(0x15a)](_0xd6ebc2=>this[_0x3293d5(0x180)](_0xd6ebc2,_0x261cca));}else{this[_0x3293d5(0x157)][_0x2a01dd]=await xml_v2_1[_0x3293d5(0x16c)][_0x3293d5(0x17f)](_0x110f00)['catch'](_0x39bfee=>this[_0x3293d5(0x180)](_0x39bfee,_0x261cca));return;}}const _0x28ff03=this['parentComponents'][_0x2a01dd],_0x333f41=await xml_v2_1[_0x3293d5(0x16c)][_0x3293d5(0x17f)](_0x110f00)['catch'](_0x208975=>this[_0x3293d5(0x180)](_0x208975,_0x261cca));xml_v2_1['XmlV2'][_0x3293d5(0x178)](_0x28ff03,_0x333f41);}catch(_0x47d778){if(_0x47d778 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x3293d5(0x162)])return;else throw _0x47d778;}throw new Error(_0x3293d5(0x15e)+_0x261cca['fileName']+'\x20['+_0x261cca[_0x3293d5(0x188)]+_0x3293d5(0x175)+_0x47d778);}}async[a305_0x1d5f19(0x155)](){const _0x3e7a31=a305_0x1d5f19;!await fs_internal_1['FS'][_0x3e7a31(0x181)](this[_0x3e7a31(0x163)])&&await fs_internal_1['FS'][_0x3e7a31(0x15f)](this['sourceDir']);const _0x8575d7=[],_0x1cc2df=[];for(const _0x2cc840 of this[_0x3e7a31(0x15d)]){child_types_1['default'][_0x3e7a31(0x187)](_0x2cc840['fileType'])?_0x1cc2df[_0x3e7a31(0x167)](_0x2cc840):_0x8575d7['push'](_0x2cc840);}for(const _0x401f00 of _0x8575d7){await this['writeParent'](_0x401f00);}for(const _0x3a511b of _0x1cc2df){await this['writeChild'](_0x3a511b);}const _0x1ee74d=Object[_0x3e7a31(0x16d)](this[_0x3e7a31(0x157)]);this[_0x3e7a31(0x16e)]['log'](_0x3e7a31(0x16b),this[_0x3e7a31(0x15d)][_0x3e7a31(0x172)]);while(_0x1ee74d['length']){const _0x328f11=_0x1ee74d[_0x3e7a31(0x166)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x249273 of _0x328f11){await fs_internal_1['FS'][_0x3e7a31(0x152)](path_1[_0x3e7a31(0x159)][_0x3e7a31(0x17b)](this['sourceDir'],_0x249273),xml_v2_1[_0x3e7a31(0x16c)][_0x3e7a31(0x17c)](this[_0x3e7a31(0x157)][_0x249273]));}}this[_0x3e7a31(0x157)]={};}}exports[a305_0x1d5f19(0x173)]=MDApiWriter;