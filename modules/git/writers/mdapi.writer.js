const a293_0x376c26=a293_0x5d7c;(function(_0x60428b,_0x53a350){const _0x47acb4=a293_0x5d7c,_0xc22871=_0x60428b();while(!![]){try{const _0x8b2751=parseInt(_0x47acb4(0x121))/0x1+parseInt(_0x47acb4(0x120))/0x2+-parseInt(_0x47acb4(0x117))/0x3*(-parseInt(_0x47acb4(0x113))/0x4)+parseInt(_0x47acb4(0xfe))/0x5*(-parseInt(_0x47acb4(0x112))/0x6)+parseInt(_0x47acb4(0xfa))/0x7+parseInt(_0x47acb4(0xfd))/0x8+-parseInt(_0x47acb4(0x106))/0x9;if(_0x8b2751===_0x53a350)break;else _0xc22871['push'](_0xc22871['shift']());}catch(_0x4378d2){_0xc22871['push'](_0xc22871['shift']());}}}(a293_0x4bf0,0xaf026));const a293_0x153cc3=(function(){let _0x8804fb=!![];return function(_0x160be2,_0x10d825){const _0x5aadad=_0x8804fb?function(){const _0x226b16=a293_0x5d7c;if(_0x10d825){const _0x3e4606=_0x10d825[_0x226b16(0x105)](_0x160be2,arguments);return _0x10d825=null,_0x3e4606;}}:function(){};return _0x8804fb=![],_0x5aadad;};}()),a293_0x18cfd2=a293_0x153cc3(this,function(){const _0x359ae0=a293_0x5d7c;return a293_0x18cfd2['toString']()[_0x359ae0(0x11d)]('(((.+)+)+)+$')[_0x359ae0(0xff)]()[_0x359ae0(0x102)](a293_0x18cfd2)[_0x359ae0(0x11d)](_0x359ae0(0xf9));});a293_0x18cfd2();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x41047c){const _0x1376ca=a293_0x5d7c;return _0x41047c&&_0x41047c[_0x1376ca(0xef)]?_0x41047c:{'default':_0x41047c};};Object[a293_0x376c26(0x11a)](exports,a293_0x376c26(0xef),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a293_0x376c26(0x115))),fs_internal_1=require(a293_0x376c26(0x109)),invalid_xml_error_1=require(a293_0x376c26(0xf1)),xml_v2_1=require(a293_0x376c26(0xf0)),child_types_1=__importDefault(require('../parsers/data/child-types')),base_writer_1=require('./base.writer');class MDApiWriter extends base_writer_1['BaseWriter']{constructor({components:_0x503d01,sourceDir:_0x59f0f9,skipChildErrors:_0x41f7fa}){const _0x21d370=a293_0x376c26;super({'components':_0x503d01,'sourceDir':_0x59f0f9},MDApiWriter['name']),this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={},this[_0x21d370(0x10f)]=_0x41f7fa;}async[a293_0x376c26(0x107)](_0xc93f18){const _0xb29628=a293_0x376c26;try{const _0x2f0189=await this[_0xb29628(0x11e)](_0xc93f18['body'],!![]);await Promise['all'](_0x2f0189['map'](({filename:_0x336972,body:_0x3d2f38})=>fs_internal_1['FS'][_0xb29628(0x103)](path_1['default'][_0xb29628(0x116)](this[_0xb29628(0x11c)],_0x336972),_0x3d2f38)));}catch(_0x2e604b){throw new Error(_0xb29628(0xfb)+_0xc93f18[_0xb29628(0x11b)]+'\x20['+_0xc93f18[_0xb29628(0x114)]+_0xb29628(0xf4)+_0x2e604b);}}['handleXmlParsingError'](_0x39f4ce,_0x2728f4){const _0x361898=a293_0x376c26;throw new invalid_xml_error_1[(_0x361898(0x118))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x2728f4['fileName']+'\x20['+_0x2728f4[_0x361898(0x114)]+'].\x20Original\x20error:\x20'+_0x39f4ce);}async['writeChild'](_0x14f3e3){const _0x2eafbf=a293_0x376c26,{filename:_0x565a07,body:_0x51cdd4}=(await this[_0x2eafbf(0x11e)](_0x14f3e3['body']))[0x0];try{if(!this[_0x2eafbf(0x119)][_0x565a07]){const _0x55de40=path_1['default']['join'](this[_0x2eafbf(0x11c)],_0x565a07);if(await fs_internal_1['FS'][_0x2eafbf(0x10b)](_0x55de40)){const _0x1d2d3a=await fs_internal_1['FS'][_0x2eafbf(0x10e)](_0x55de40);this[_0x2eafbf(0x119)][_0x565a07]=await xml_v2_1[_0x2eafbf(0x101)][_0x2eafbf(0x108)](_0x1d2d3a)[_0x2eafbf(0x11f)](_0x4f26da=>this[_0x2eafbf(0x110)](_0x4f26da,_0x14f3e3));}else{this[_0x2eafbf(0x119)][_0x565a07]=await xml_v2_1[_0x2eafbf(0x101)][_0x2eafbf(0x108)](_0x51cdd4)['catch'](_0x2ff8fb=>this[_0x2eafbf(0x110)](_0x2ff8fb,_0x14f3e3));return;}}const _0x31b8ff=this['parentComponents'][_0x565a07],_0x1c0f7f=await xml_v2_1[_0x2eafbf(0x101)][_0x2eafbf(0x108)](_0x51cdd4)['catch'](_0x2b5b1c=>this[_0x2eafbf(0x110)](_0x2b5b1c,_0x14f3e3));xml_v2_1[_0x2eafbf(0x101)]['replaceOrAppend'](_0x31b8ff,_0x1c0f7f);}catch(_0x7454b1){if(_0x7454b1 instanceof invalid_xml_error_1[_0x2eafbf(0x118)]){if(this[_0x2eafbf(0x10f)])return;else throw _0x7454b1;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x14f3e3[_0x2eafbf(0x11b)]+'\x20['+_0x14f3e3[_0x2eafbf(0x114)]+_0x2eafbf(0xf4)+_0x7454b1);}}async[a293_0x376c26(0xf2)](){const _0x23f983=a293_0x376c26;!await fs_internal_1['FS']['exists'](this['sourceDir'])&&await fs_internal_1['FS'][_0x23f983(0x10d)](this[_0x23f983(0x11c)]);const _0x491698=[],_0x1e2e02=[];for(const _0x2e2df0 of this[_0x23f983(0xf8)]){child_types_1[_0x23f983(0x100)][_0x23f983(0xf5)](_0x2e2df0[_0x23f983(0x114)])?_0x1e2e02[_0x23f983(0x111)](_0x2e2df0):_0x491698[_0x23f983(0x111)](_0x2e2df0);}for(const _0x2d1e30 of _0x491698){await this[_0x23f983(0x107)](_0x2d1e30);}for(const _0x1ba06d of _0x1e2e02){await this['writeChild'](_0x1ba06d);}const _0x57ce03=Object[_0x23f983(0xf7)](this['parentComponents']);this[_0x23f983(0x104)][_0x23f983(0x10a)]('Have\x20to\x20write\x20%d\x20files',this[_0x23f983(0xf8)][_0x23f983(0xf6)]);while(_0x57ce03['length']){const _0x269565=_0x57ce03[_0x23f983(0xf3)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x44a4bc of _0x269565){await fs_internal_1['FS'][_0x23f983(0x103)](path_1[_0x23f983(0x100)][_0x23f983(0x116)](this[_0x23f983(0x11c)],_0x44a4bc),xml_v2_1[_0x23f983(0x101)][_0x23f983(0xfc)](this[_0x23f983(0x119)][_0x44a4bc]));}}this[_0x23f983(0x119)]={};}}exports[a293_0x376c26(0x10c)]=MDApiWriter;function a293_0x5d7c(_0x25f57a,_0x2dddde){const _0xd54bd5=a293_0x4bf0();return a293_0x5d7c=function(_0x18cfd2,_0x153cc3){_0x18cfd2=_0x18cfd2-0xef;let _0x4bf0a3=_0xd54bd5[_0x18cfd2];return _0x4bf0a3;},a293_0x5d7c(_0x25f57a,_0x2dddde);}function a293_0x4bf0(){const _0x1c23a1=['MDApiWriter','makeDir','readFile','skipChildErrors','handleXmlParsingError','push','104418yyoFId','709396ZRIMZF','fileType','path','join','24MEpmJy','InvalidXmlError','parentComponents','defineProperty','fileName','sourceDir','search','readZip','catch','1067260PHwThM','891420BuyEuq','__esModule','../parsers/utils/xml-v2','../parsers/errors/invalid-xml.error','execute','splice','].\x20Original\x20error:\x20','includes','length','keys','components','(((.+)+)+)+$','2605645xVCkkZ','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','convertToString','7330896HezCts','265ygxZGt','toString','default','XmlV2','constructor','writeFile','logger','apply','22439178HfguyT','writeParent','parse','../internal/fs.internal','log','exists'];a293_0x4bf0=function(){return _0x1c23a1;};return a293_0x4bf0();}