const a305_0x97a009=a305_0x4ef1;(function(_0x3bda60,_0x46ed4e){const _0x4c7fde=a305_0x4ef1,_0x31a340=_0x3bda60();while(!![]){try{const _0x19dd6b=-parseInt(_0x4c7fde(0x1fa))/0x1+parseInt(_0x4c7fde(0x220))/0x2+-parseInt(_0x4c7fde(0x217))/0x3*(-parseInt(_0x4c7fde(0x206))/0x4)+parseInt(_0x4c7fde(0x218))/0x5+parseInt(_0x4c7fde(0x21b))/0x6+-parseInt(_0x4c7fde(0x21e))/0x7*(-parseInt(_0x4c7fde(0x20d))/0x8)+parseInt(_0x4c7fde(0x21f))/0x9;if(_0x19dd6b===_0x46ed4e)break;else _0x31a340['push'](_0x31a340['shift']());}catch(_0x1f9836){_0x31a340['push'](_0x31a340['shift']());}}}(a305_0x391a,0xebf43));function a305_0x391a(){const _0x50f2ed=['8PAyXCy','path','name','writeParent','MAX_WRITES_PER_TICK','Have\x20to\x20write\x20%d\x20files','splice','../parsers/data/child-types','fileName','parse','543fMoyzV','1735385cixpIZ','apply','readFile','5560656wCYuIU','writeFile','exists','6156976KRhkAw','2123550OLDJCV','29694dyLoki','BaseWriter','../internal/fs.internal','all','logger','readZip','fileType','push','./base.writer','../parsers/utils/xml-v2','execute','makeDir','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','parentComponents','InvalidXmlError','handleXmlParsingError','../parsers/errors/invalid-xml.error','length','constructor','toString','1890975mEKqEF','default','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','keys','map','convertToString','].\x20Original\x20error:\x20','(((.+)+)+)+$','sourceDir','log','catch','MDApiWriter','10016WrFhfv','XmlV2','__esModule','join','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','skipChildErrors','body'];a305_0x391a=function(){return _0x50f2ed;};return a305_0x391a();}function a305_0x4ef1(_0x5e1537,_0x45b24b){const _0x31aa13=a305_0x391a();return a305_0x4ef1=function(_0x2cce12,_0x20bdf9){_0x2cce12=_0x2cce12-0x1f3;let _0x391ab0=_0x31aa13[_0x2cce12];return _0x391ab0;},a305_0x4ef1(_0x5e1537,_0x45b24b);}const a305_0x20bdf9=(function(){let _0x5c0f40=!![];return function(_0x33cfe9,_0x4a0d92){const _0x127b67=_0x5c0f40?function(){const _0x30eeba=a305_0x4ef1;if(_0x4a0d92){const _0x5adfb5=_0x4a0d92[_0x30eeba(0x219)](_0x33cfe9,arguments);return _0x4a0d92=null,_0x5adfb5;}}:function(){};return _0x5c0f40=![],_0x127b67;};}()),a305_0x2cce12=a305_0x20bdf9(this,function(){const _0x223b9f=a305_0x4ef1;return a305_0x2cce12[_0x223b9f(0x1f9)]()['search'](_0x223b9f(0x201))[_0x223b9f(0x1f9)]()[_0x223b9f(0x1f8)](a305_0x2cce12)['search'](_0x223b9f(0x201));});a305_0x2cce12();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x633b50){const _0xb16a3e=a305_0x4ef1;return _0x633b50&&_0x633b50[_0xb16a3e(0x208)]?_0x633b50:{'default':_0x633b50};};Object['defineProperty'](exports,a305_0x97a009(0x208),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a305_0x97a009(0x20e))),fs_internal_1=require(a305_0x97a009(0x222)),invalid_xml_error_1=require(a305_0x97a009(0x1f6)),xml_v2_1=require(a305_0x97a009(0x229)),child_types_1=__importDefault(require(a305_0x97a009(0x214))),base_writer_1=require(a305_0x97a009(0x228));class MDApiWriter extends base_writer_1[a305_0x97a009(0x221)]{constructor({components:_0x2354a0,sourceDir:_0x3881cb,skipChildErrors:_0x4c986f}){const _0x33e3b7=a305_0x97a009;super({'components':_0x2354a0,'sourceDir':_0x3881cb},MDApiWriter[_0x33e3b7(0x20f)]),this[_0x33e3b7(0x211)]=0x64,this['parentComponents']={},this[_0x33e3b7(0x20b)]=_0x4c986f;}async[a305_0x97a009(0x210)](_0x5c5212){const _0x10c7e4=a305_0x97a009;try{const _0x1f9804=await this[_0x10c7e4(0x225)](_0x5c5212[_0x10c7e4(0x20c)],!![]);await Promise[_0x10c7e4(0x223)](_0x1f9804[_0x10c7e4(0x1fe)](({filename:_0x1e9de1,body:_0x3a461f})=>fs_internal_1['FS'][_0x10c7e4(0x21c)](path_1['default']['join'](this[_0x10c7e4(0x202)],_0x1e9de1),_0x3a461f)));}catch(_0x4ae6ea){throw new Error(_0x10c7e4(0x20a)+_0x5c5212[_0x10c7e4(0x215)]+'\x20['+_0x5c5212[_0x10c7e4(0x226)]+_0x10c7e4(0x200)+_0x4ae6ea);}}['handleXmlParsingError'](_0x1a6d35,_0x5a40a9){const _0x3232eb=a305_0x97a009;throw new invalid_xml_error_1[(_0x3232eb(0x1f4))](_0x3232eb(0x22c)+_0x5a40a9[_0x3232eb(0x215)]+'\x20['+_0x5a40a9[_0x3232eb(0x226)]+_0x3232eb(0x200)+_0x1a6d35);}async['writeChild'](_0x228b13){const _0x122469=a305_0x97a009,{filename:_0x3987ee,body:_0x36d917}=(await this['readZip'](_0x228b13[_0x122469(0x20c)]))[0x0];try{if(!this[_0x122469(0x1f3)][_0x3987ee]){const _0x5db363=path_1[_0x122469(0x1fb)][_0x122469(0x209)](this[_0x122469(0x202)],_0x3987ee);if(await fs_internal_1['FS'][_0x122469(0x21d)](_0x5db363)){const _0x37bb4c=await fs_internal_1['FS'][_0x122469(0x21a)](_0x5db363);this[_0x122469(0x1f3)][_0x3987ee]=await xml_v2_1[_0x122469(0x207)][_0x122469(0x216)](_0x37bb4c)[_0x122469(0x204)](_0x3baf03=>this[_0x122469(0x1f5)](_0x3baf03,_0x228b13));}else{this[_0x122469(0x1f3)][_0x3987ee]=await xml_v2_1[_0x122469(0x207)]['parse'](_0x36d917)['catch'](_0x4d32a1=>this[_0x122469(0x1f5)](_0x4d32a1,_0x228b13));return;}}const _0x3088c5=this[_0x122469(0x1f3)][_0x3987ee],_0x1141e5=await xml_v2_1[_0x122469(0x207)][_0x122469(0x216)](_0x36d917)['catch'](_0x5c2908=>this[_0x122469(0x1f5)](_0x5c2908,_0x228b13));xml_v2_1[_0x122469(0x207)]['replaceOrAppend'](_0x3088c5,_0x1141e5);}catch(_0x530b8c){if(_0x530b8c instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x122469(0x20b)])return;else throw _0x530b8c;}throw new Error(_0x122469(0x1fc)+_0x228b13['fileName']+'\x20['+_0x228b13[_0x122469(0x226)]+'].\x20Original\x20error:\x20'+_0x530b8c);}}async[a305_0x97a009(0x22a)](){const _0x429686=a305_0x97a009;!await fs_internal_1['FS'][_0x429686(0x21d)](this[_0x429686(0x202)])&&await fs_internal_1['FS'][_0x429686(0x22b)](this[_0x429686(0x202)]);const _0x3af53e=[],_0x57c037=[];for(const _0x4b4a57 of this['components']){child_types_1['default']['includes'](_0x4b4a57[_0x429686(0x226)])?_0x57c037['push'](_0x4b4a57):_0x3af53e[_0x429686(0x227)](_0x4b4a57);}for(const _0x147040 of _0x3af53e){await this[_0x429686(0x210)](_0x147040);}for(const _0x5212a4 of _0x57c037){await this['writeChild'](_0x5212a4);}const _0x2c338a=Object[_0x429686(0x1fd)](this['parentComponents']);this[_0x429686(0x224)][_0x429686(0x203)](_0x429686(0x212),this['components'][_0x429686(0x1f7)]);while(_0x2c338a[_0x429686(0x1f7)]){const _0x305d53=_0x2c338a[_0x429686(0x213)](0x0,this[_0x429686(0x211)]);for(const _0x4ba977 of _0x305d53){await fs_internal_1['FS'][_0x429686(0x21c)](path_1[_0x429686(0x1fb)][_0x429686(0x209)](this[_0x429686(0x202)],_0x4ba977),xml_v2_1['XmlV2'][_0x429686(0x1ff)](this[_0x429686(0x1f3)][_0x4ba977]));}}this[_0x429686(0x1f3)]={};}}exports[a305_0x97a009(0x205)]=MDApiWriter;