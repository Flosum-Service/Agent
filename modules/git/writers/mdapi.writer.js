const a305_0x32cd57=a305_0x1039;(function(_0x5bcd86,_0x5bea70){const _0x5272b3=a305_0x1039,_0x3c5346=_0x5bcd86();while(!![]){try{const _0x392404=-parseInt(_0x5272b3(0x92))/0x1*(parseInt(_0x5272b3(0x7e))/0x2)+-parseInt(_0x5272b3(0x74))/0x3+-parseInt(_0x5272b3(0x6a))/0x4+-parseInt(_0x5272b3(0x88))/0x5*(parseInt(_0x5272b3(0x9e))/0x6)+parseInt(_0x5272b3(0x96))/0x7+parseInt(_0x5272b3(0x75))/0x8*(-parseInt(_0x5272b3(0x76))/0x9)+parseInt(_0x5272b3(0x95))/0xa;if(_0x392404===_0x5bea70)break;else _0x3c5346['push'](_0x3c5346['shift']());}catch(_0x4984ff){_0x3c5346['push'](_0x3c5346['shift']());}}}(a305_0x38e3,0xe8ada));const a305_0x403390=(function(){let _0x562b62=!![];return function(_0x559cbb,_0x56e2b7){const _0x350560=_0x562b62?function(){const _0x5cefbe=a305_0x1039;if(_0x56e2b7){const _0x1eb81b=_0x56e2b7[_0x5cefbe(0x70)](_0x559cbb,arguments);return _0x56e2b7=null,_0x1eb81b;}}:function(){};return _0x562b62=![],_0x350560;};}()),a305_0x1d4578=a305_0x403390(this,function(){const _0xb93e94=a305_0x1039;return a305_0x1d4578['toString']()[_0xb93e94(0x91)](_0xb93e94(0xa4))[_0xb93e94(0xa3)]()[_0xb93e94(0x81)](a305_0x1d4578)[_0xb93e94(0x91)](_0xb93e94(0xa4));});function a305_0x1039(_0x3905de,_0x22ee53){const _0x4aa1e5=a305_0x38e3();return a305_0x1039=function(_0x1d4578,_0x403390){_0x1d4578=_0x1d4578-0x6a;let _0x38e321=_0x4aa1e5[_0x1d4578];return _0x38e321;},a305_0x1039(_0x3905de,_0x22ee53);}a305_0x1d4578();'use strict';var __importDefault=this&&this[a305_0x32cd57(0x6b)]||function(_0x2a50d9){const _0x79225c=a305_0x32cd57;return _0x2a50d9&&_0x2a50d9[_0x79225c(0x77)]?_0x2a50d9:{'default':_0x2a50d9};};function a305_0x38e3(){const _0x365bdf=['../internal/fs.internal','45840210RNEVcw','6525596aHDtxQ','makeDir','handleXmlParsingError','../parsers/errors/invalid-xml.error','path','skipChildErrors','XmlV2','parse','447324FXxAPa','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','name','writeParent','keys','toString','(((.+)+)+)+$','all','6247152zJDDsn','__importDefault','log','push','defineProperty','convertToString','apply','exists','BaseWriter','components','4234773lAqsQV','168920DWAKkb','441bfklGt','__esModule','length','MDApiWriter','sourceDir','writeChild','catch','].\x20Original\x20error:\x20','38dXgEba','join','logger','constructor','parentComponents','includes','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../parsers/data/child-types','map','InvalidXmlError','35oZTIYD','fileName','execute','./base.writer','readFile','readZip','fileType','default','../parsers/utils/xml-v2','search','1753dhWFop','body'];a305_0x38e3=function(){return _0x365bdf;};return a305_0x38e3();}Object[a305_0x32cd57(0x6e)](exports,'__esModule',{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a305_0x32cd57(0x9a))),fs_internal_1=require(a305_0x32cd57(0x94)),invalid_xml_error_1=require(a305_0x32cd57(0x99)),xml_v2_1=require(a305_0x32cd57(0x90)),child_types_1=__importDefault(require(a305_0x32cd57(0x85))),base_writer_1=require(a305_0x32cd57(0x8b));class MDApiWriter extends base_writer_1[a305_0x32cd57(0x72)]{constructor({components:_0x23aa7d,sourceDir:_0x53978b,skipChildErrors:_0x8104dd}){const _0x4d36e1=a305_0x32cd57;super({'components':_0x23aa7d,'sourceDir':_0x53978b},MDApiWriter[_0x4d36e1(0xa0)]),this['MAX_WRITES_PER_TICK']=0x64,this[_0x4d36e1(0x82)]={},this[_0x4d36e1(0x9b)]=_0x8104dd;}async['writeParent'](_0x3cb514){const _0x5bee14=a305_0x32cd57;try{const _0x5e683a=await this[_0x5bee14(0x8d)](_0x3cb514[_0x5bee14(0x93)],!![]);await Promise[_0x5bee14(0xa5)](_0x5e683a[_0x5bee14(0x86)](({filename:_0x5fda07,body:_0x35fc53})=>fs_internal_1['FS']['writeFile'](path_1[_0x5bee14(0x8f)][_0x5bee14(0x7f)](this['sourceDir'],_0x5fda07),_0x35fc53)));}catch(_0x432ccf){throw new Error(_0x5bee14(0x84)+_0x3cb514[_0x5bee14(0x89)]+'\x20['+_0x3cb514[_0x5bee14(0x8e)]+_0x5bee14(0x7d)+_0x432ccf);}}[a305_0x32cd57(0x98)](_0x41c732,_0x4e58ff){const _0x2aee9b=a305_0x32cd57;throw new invalid_xml_error_1[(_0x2aee9b(0x87))](_0x2aee9b(0x9f)+_0x4e58ff[_0x2aee9b(0x89)]+'\x20['+_0x4e58ff[_0x2aee9b(0x8e)]+_0x2aee9b(0x7d)+_0x41c732);}async[a305_0x32cd57(0x7b)](_0x55cbc9){const _0x107c69=a305_0x32cd57,{filename:_0x133a22,body:_0x5840b9}=(await this['readZip'](_0x55cbc9[_0x107c69(0x93)]))[0x0];try{if(!this[_0x107c69(0x82)][_0x133a22]){const _0x2d5d4e=path_1['default'][_0x107c69(0x7f)](this['sourceDir'],_0x133a22);if(await fs_internal_1['FS'][_0x107c69(0x71)](_0x2d5d4e)){const _0x487595=await fs_internal_1['FS'][_0x107c69(0x8c)](_0x2d5d4e);this[_0x107c69(0x82)][_0x133a22]=await xml_v2_1['XmlV2']['parse'](_0x487595)['catch'](_0x414fa6=>this[_0x107c69(0x98)](_0x414fa6,_0x55cbc9));}else{this[_0x107c69(0x82)][_0x133a22]=await xml_v2_1[_0x107c69(0x9c)][_0x107c69(0x9d)](_0x5840b9)['catch'](_0x16ce16=>this[_0x107c69(0x98)](_0x16ce16,_0x55cbc9));return;}}const _0x42c596=this[_0x107c69(0x82)][_0x133a22],_0x251fd5=await xml_v2_1[_0x107c69(0x9c)][_0x107c69(0x9d)](_0x5840b9)[_0x107c69(0x7c)](_0x5a3a2b=>this['handleXmlParsingError'](_0x5a3a2b,_0x55cbc9));xml_v2_1[_0x107c69(0x9c)]['replaceOrAppend'](_0x42c596,_0x251fd5);}catch(_0xbfc9c8){if(_0xbfc9c8 instanceof invalid_xml_error_1[_0x107c69(0x87)]){if(this[_0x107c69(0x9b)])return;else throw _0xbfc9c8;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x55cbc9['fileName']+'\x20['+_0x55cbc9[_0x107c69(0x8e)]+_0x107c69(0x7d)+_0xbfc9c8);}}async[a305_0x32cd57(0x8a)](){const _0x375ba5=a305_0x32cd57;!await fs_internal_1['FS'][_0x375ba5(0x71)](this[_0x375ba5(0x7a)])&&await fs_internal_1['FS'][_0x375ba5(0x97)](this[_0x375ba5(0x7a)]);const _0x4340b2=[],_0x52be9d=[];for(const _0x493c47 of this['components']){child_types_1[_0x375ba5(0x8f)][_0x375ba5(0x83)](_0x493c47[_0x375ba5(0x8e)])?_0x52be9d[_0x375ba5(0x6d)](_0x493c47):_0x4340b2[_0x375ba5(0x6d)](_0x493c47);}for(const _0xdd68bb of _0x4340b2){await this[_0x375ba5(0xa1)](_0xdd68bb);}for(const _0x5f4f5c of _0x52be9d){await this[_0x375ba5(0x7b)](_0x5f4f5c);}const _0x4e5cc6=Object[_0x375ba5(0xa2)](this['parentComponents']);this[_0x375ba5(0x80)][_0x375ba5(0x6c)]('Have\x20to\x20write\x20%d\x20files',this[_0x375ba5(0x73)][_0x375ba5(0x78)]);while(_0x4e5cc6[_0x375ba5(0x78)]){const _0x3a4b1f=_0x4e5cc6['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x320181 of _0x3a4b1f){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x375ba5(0x7f)](this[_0x375ba5(0x7a)],_0x320181),xml_v2_1[_0x375ba5(0x9c)][_0x375ba5(0x6f)](this['parentComponents'][_0x320181]));}}this[_0x375ba5(0x82)]={};}}exports[a305_0x32cd57(0x79)]=MDApiWriter;