const a304_0x5d5266=a304_0xdbec;(function(_0x2e35c8,_0x36ce34){const _0x1df52b=a304_0xdbec,_0x444b6f=_0x2e35c8();while(!![]){try{const _0x513360=parseInt(_0x1df52b(0x1d1))/0x1+parseInt(_0x1df52b(0x1a6))/0x2+parseInt(_0x1df52b(0x1ca))/0x3*(-parseInt(_0x1df52b(0x1b5))/0x4)+parseInt(_0x1df52b(0x1cf))/0x5+-parseInt(_0x1df52b(0x1b0))/0x6+-parseInt(_0x1df52b(0x1ae))/0x7*(parseInt(_0x1df52b(0x1b3))/0x8)+-parseInt(_0x1df52b(0x1c4))/0x9*(-parseInt(_0x1df52b(0x1ba))/0xa);if(_0x513360===_0x36ce34)break;else _0x444b6f['push'](_0x444b6f['shift']());}catch(_0x1b36b5){_0x444b6f['push'](_0x444b6f['shift']());}}}(a304_0x44ca,0xbe3e1));const a304_0x39ee8d=(function(){let _0x4cf5d7=!![];return function(_0x48ec03,_0x55adc9){const _0x39ce3b=_0x4cf5d7?function(){const _0x24888=a304_0xdbec;if(_0x55adc9){const _0x4e989c=_0x55adc9[_0x24888(0x1a4)](_0x48ec03,arguments);return _0x55adc9=null,_0x4e989c;}}:function(){};return _0x4cf5d7=![],_0x39ce3b;};}()),a304_0x405a9c=a304_0x39ee8d(this,function(){const _0x19941a=a304_0xdbec;return a304_0x405a9c[_0x19941a(0x1c1)]()['search'](_0x19941a(0x1b6))[_0x19941a(0x1c1)]()[_0x19941a(0x1cb)](a304_0x405a9c)[_0x19941a(0x1da)](_0x19941a(0x1b6));});a304_0x405a9c();function a304_0xdbec(_0x5aa74a,_0x5efa37){const _0x4db087=a304_0x44ca();return a304_0xdbec=function(_0x405a9c,_0x39ee8d){_0x405a9c=_0x405a9c-0x1a1;let _0x44ca0e=_0x4db087[_0x405a9c];return _0x44ca0e;},a304_0xdbec(_0x5aa74a,_0x5efa37);}'use strict';var __importDefault=this&&this[a304_0x5d5266(0x1a9)]||function(_0x405e9f){return _0x405e9f&&_0x405e9f['__esModule']?_0x405e9f:{'default':_0x405e9f};};Object[a304_0x5d5266(0x1ac)](exports,a304_0x5d5266(0x1b8),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a304_0x5d5266(0x1b7))),fs_internal_1=require('../internal/fs.internal'),invalid_xml_error_1=require(a304_0x5d5266(0x1c0)),xml_v2_1=require(a304_0x5d5266(0x1bd)),child_types_1=__importDefault(require('../parsers/data/child-types')),base_writer_1=require(a304_0x5d5266(0x1c5));function a304_0x44ca(){const _0x25c4d6=['].\x20Original\x20error:\x20','apply','convertToString','2273852IOMtFr','keys','InvalidXmlError','__importDefault','parentComponents','writeParent','defineProperty','replaceOrAppend','126tMxCUp','length','9183426yuKzJQ','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','map','365336BEDFhn','logger','1172OOeZLy','(((.+)+)+)+$','path','__esModule','MDApiWriter','20JFsMOo','join','default','../parsers/utils/xml-v2','execute','XmlV2','../parsers/errors/invalid-xml.error','toString','writeChild','handleXmlParsingError','7725627iDBdvI','./base.writer','push','Have\x20to\x20write\x20%d\x20files','readZip','splice','8121iyXAyS','constructor','sourceDir','parse','includes','216490aNjPYZ','body','1027931CvhpdU','components','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','writeFile','catch','MAX_WRITES_PER_TICK','fileName','fileType','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','search','BaseWriter','makeDir','skipChildErrors'];a304_0x44ca=function(){return _0x25c4d6;};return a304_0x44ca();}class MDApiWriter extends base_writer_1[a304_0x5d5266(0x1db)]{constructor({components:_0x2e0a85,sourceDir:_0x23670f,skipChildErrors:_0x5a7c0a}){const _0x2a55ad=a304_0x5d5266;super({'components':_0x2e0a85,'sourceDir':_0x23670f},MDApiWriter['name']),this['MAX_WRITES_PER_TICK']=0x64,this[_0x2a55ad(0x1aa)]={},this[_0x2a55ad(0x1a2)]=_0x5a7c0a;}async[a304_0x5d5266(0x1ab)](_0x1f2232){const _0xbb0944=a304_0x5d5266;try{const _0x56e30a=await this['readZip'](_0x1f2232[_0xbb0944(0x1d0)],!![]);await Promise['all'](_0x56e30a[_0xbb0944(0x1b2)](({filename:_0x338a5c,body:_0x4a57ae})=>fs_internal_1['FS'][_0xbb0944(0x1d4)](path_1[_0xbb0944(0x1bc)][_0xbb0944(0x1bb)](this[_0xbb0944(0x1cc)],_0x338a5c),_0x4a57ae)));}catch(_0x7bd60b){throw new Error(_0xbb0944(0x1d9)+_0x1f2232[_0xbb0944(0x1d7)]+'\x20['+_0x1f2232[_0xbb0944(0x1d8)]+_0xbb0944(0x1a3)+_0x7bd60b);}}[a304_0x5d5266(0x1c3)](_0x246a60,_0x39bfa3){const _0x34e74a=a304_0x5d5266;throw new invalid_xml_error_1[(_0x34e74a(0x1a8))](_0x34e74a(0x1b1)+_0x39bfa3[_0x34e74a(0x1d7)]+'\x20['+_0x39bfa3[_0x34e74a(0x1d8)]+_0x34e74a(0x1a3)+_0x246a60);}async[a304_0x5d5266(0x1c2)](_0x2d1b59){const _0x799745=a304_0x5d5266,{filename:_0x118e4e,body:_0x56a3c0}=(await this[_0x799745(0x1c8)](_0x2d1b59[_0x799745(0x1d0)]))[0x0];try{if(!this[_0x799745(0x1aa)][_0x118e4e]){const _0x57bdea=path_1[_0x799745(0x1bc)]['join'](this[_0x799745(0x1cc)],_0x118e4e);if(await fs_internal_1['FS']['exists'](_0x57bdea)){const _0x2d1117=await fs_internal_1['FS']['readFile'](_0x57bdea);this[_0x799745(0x1aa)][_0x118e4e]=await xml_v2_1[_0x799745(0x1bf)][_0x799745(0x1cd)](_0x2d1117)[_0x799745(0x1d5)](_0x274f36=>this[_0x799745(0x1c3)](_0x274f36,_0x2d1b59));}else{this[_0x799745(0x1aa)][_0x118e4e]=await xml_v2_1[_0x799745(0x1bf)][_0x799745(0x1cd)](_0x56a3c0)['catch'](_0x47d5b0=>this[_0x799745(0x1c3)](_0x47d5b0,_0x2d1b59));return;}}const _0x29b735=this[_0x799745(0x1aa)][_0x118e4e],_0x39a876=await xml_v2_1['XmlV2']['parse'](_0x56a3c0)[_0x799745(0x1d5)](_0x51be69=>this[_0x799745(0x1c3)](_0x51be69,_0x2d1b59));xml_v2_1[_0x799745(0x1bf)][_0x799745(0x1ad)](_0x29b735,_0x39a876);}catch(_0x2a9a5e){if(_0x2a9a5e instanceof invalid_xml_error_1[_0x799745(0x1a8)]){if(this[_0x799745(0x1a2)])return;else throw _0x2a9a5e;}throw new Error(_0x799745(0x1d3)+_0x2d1b59[_0x799745(0x1d7)]+'\x20['+_0x2d1b59[_0x799745(0x1d8)]+_0x799745(0x1a3)+_0x2a9a5e);}}async[a304_0x5d5266(0x1be)](){const _0x6688de=a304_0x5d5266;!await fs_internal_1['FS']['exists'](this[_0x6688de(0x1cc)])&&await fs_internal_1['FS'][_0x6688de(0x1a1)](this[_0x6688de(0x1cc)]);const _0x1fe6ac=[],_0x19e415=[];for(const _0x253007 of this[_0x6688de(0x1d2)]){child_types_1[_0x6688de(0x1bc)][_0x6688de(0x1ce)](_0x253007[_0x6688de(0x1d8)])?_0x19e415[_0x6688de(0x1c6)](_0x253007):_0x1fe6ac['push'](_0x253007);}for(const _0x2b198c of _0x1fe6ac){await this[_0x6688de(0x1ab)](_0x2b198c);}for(const _0x4e6478 of _0x19e415){await this['writeChild'](_0x4e6478);}const _0x147689=Object[_0x6688de(0x1a7)](this[_0x6688de(0x1aa)]);this[_0x6688de(0x1b4)]['log'](_0x6688de(0x1c7),this[_0x6688de(0x1d2)]['length']);while(_0x147689[_0x6688de(0x1af)]){const _0x3117e2=_0x147689[_0x6688de(0x1c9)](0x0,this[_0x6688de(0x1d6)]);for(const _0x59e69f of _0x3117e2){await fs_internal_1['FS'][_0x6688de(0x1d4)](path_1[_0x6688de(0x1bc)][_0x6688de(0x1bb)](this[_0x6688de(0x1cc)],_0x59e69f),xml_v2_1[_0x6688de(0x1bf)][_0x6688de(0x1a5)](this[_0x6688de(0x1aa)][_0x59e69f]));}}this['parentComponents']={};}}exports[a304_0x5d5266(0x1b9)]=MDApiWriter;