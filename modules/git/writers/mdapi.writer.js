const a277_0x1831a7=a277_0x1e3a;(function(_0x4862aa,_0x31d501){const _0x129be7=a277_0x1e3a,_0x21ce8e=_0x4862aa();while(!![]){try{const _0x3c7475=-parseInt(_0x129be7(0x1fa))/0x1*(-parseInt(_0x129be7(0x20f))/0x2)+parseInt(_0x129be7(0x1ef))/0x3*(-parseInt(_0x129be7(0x1fc))/0x4)+-parseInt(_0x129be7(0x20b))/0x5+-parseInt(_0x129be7(0x1ee))/0x6*(-parseInt(_0x129be7(0x206))/0x7)+parseInt(_0x129be7(0x1f4))/0x8*(-parseInt(_0x129be7(0x209))/0x9)+parseInt(_0x129be7(0x201))/0xa+-parseInt(_0x129be7(0x1eb))/0xb;if(_0x3c7475===_0x31d501)break;else _0x21ce8e['push'](_0x21ce8e['shift']());}catch(_0x3605aa){_0x21ce8e['push'](_0x21ce8e['shift']());}}}(a277_0x21b9,0xa54c1));const a277_0x26eec5=(function(){let _0x25a039=!![];return function(_0x38a5a1,_0x44b145){const _0x23f7cc=_0x25a039?function(){const _0x2d7c8a=a277_0x1e3a;if(_0x44b145){const _0x5d3eb4=_0x44b145[_0x2d7c8a(0x1e7)](_0x38a5a1,arguments);return _0x44b145=null,_0x5d3eb4;}}:function(){};return _0x25a039=![],_0x23f7cc;};}()),a277_0x3d8ce9=a277_0x26eec5(this,function(){const _0x4ea2b5=a277_0x1e3a;return a277_0x3d8ce9['toString']()[_0x4ea2b5(0x203)](_0x4ea2b5(0x1e5))['toString']()[_0x4ea2b5(0x210)](a277_0x3d8ce9)[_0x4ea2b5(0x203)](_0x4ea2b5(0x1e5));});function a277_0x21b9(){const _0x508ebe=['skipChildErrors','35TlojCj','../parsers/errors/invalid-xml.error','sourceDir','344511dDyWFg','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','1402945oPyeIK','].\x20Original\x20error:\x20','exists','InvalidXmlError','2668026oKAyLz','constructor','../internal/fs.internal','execute','readZip','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','handleXmlParsingError','push','__esModule','body','convertToString','./base.writer','catch','writeParent','(((.+)+)+)+$','MDApiWriter','apply','MAX_WRITES_PER_TICK','name','Have\x20to\x20write\x20%d\x20files','5063091YlsDau','defineProperty','join','931038EgQYkc','13701zNCBfs','parse','components','parentComponents','../parsers/utils/xml-v2','160OMPVlC','includes','logger','map','fileType','fileName','1oBwLhU','path','988bUKFZk','writeFile','default','length','XmlV2','12016780VPNMYA','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','search','writeChild'];a277_0x21b9=function(){return _0x508ebe;};return a277_0x21b9();}a277_0x3d8ce9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x356124){const _0x3814f0=a277_0x1e3a;return _0x356124&&_0x356124[_0x3814f0(0x1df)]?_0x356124:{'default':_0x356124};};Object[a277_0x1831a7(0x1ec)](exports,a277_0x1831a7(0x1df),{'value':!![]}),exports[a277_0x1831a7(0x1e6)]=void 0x0;const path_1=__importDefault(require(a277_0x1831a7(0x1fb))),fs_internal_1=require(a277_0x1831a7(0x211)),invalid_xml_error_1=require(a277_0x1831a7(0x207)),xml_v2_1=require(a277_0x1831a7(0x1f3)),child_types_1=__importDefault(require('../parsers/data/child-types')),base_writer_1=require(a277_0x1831a7(0x1e2));function a277_0x1e3a(_0x5d4940,_0x3e48f9){const _0x1ba02a=a277_0x21b9();return a277_0x1e3a=function(_0x3d8ce9,_0x26eec5){_0x3d8ce9=_0x3d8ce9-0x1de;let _0x21b92b=_0x1ba02a[_0x3d8ce9];return _0x21b92b;},a277_0x1e3a(_0x5d4940,_0x3e48f9);}class MDApiWriter extends base_writer_1['BaseWriter']{constructor({components:_0x1d7b6b,sourceDir:_0x5c425e,skipChildErrors:_0x20f5b9}){const _0x994ebb=a277_0x1831a7;super({'components':_0x1d7b6b,'sourceDir':_0x5c425e},MDApiWriter[_0x994ebb(0x1e9)]),this[_0x994ebb(0x1e8)]=0x64,this[_0x994ebb(0x1f2)]={},this[_0x994ebb(0x205)]=_0x20f5b9;}async[a277_0x1831a7(0x1e4)](_0x35b03b){const _0x778c3e=a277_0x1831a7;try{const _0x1d6829=await this['readZip'](_0x35b03b['body'],!![]);await Promise['all'](_0x1d6829[_0x778c3e(0x1f7)](({filename:_0x19554e,body:_0x1770af})=>fs_internal_1['FS'][_0x778c3e(0x1fd)](path_1[_0x778c3e(0x1fe)][_0x778c3e(0x1ed)](this[_0x778c3e(0x208)],_0x19554e),_0x1770af)));}catch(_0x1b9325){throw new Error(_0x778c3e(0x20a)+_0x35b03b[_0x778c3e(0x1f9)]+'\x20['+_0x35b03b['fileType']+_0x778c3e(0x20c)+_0x1b9325);}}['handleXmlParsingError'](_0x404be9,_0x5b172b){const _0x5d1c3d=a277_0x1831a7;throw new invalid_xml_error_1[(_0x5d1c3d(0x20e))](_0x5d1c3d(0x202)+_0x5b172b['fileName']+'\x20['+_0x5b172b[_0x5d1c3d(0x1f8)]+_0x5d1c3d(0x20c)+_0x404be9);}async['writeChild'](_0x41fc43){const _0x4efe38=a277_0x1831a7,{filename:_0x57b282,body:_0xba6d7b}=(await this[_0x4efe38(0x213)](_0x41fc43[_0x4efe38(0x1e0)]))[0x0];try{if(!this['parentComponents'][_0x57b282]){const _0xa1bb8b=path_1[_0x4efe38(0x1fe)][_0x4efe38(0x1ed)](this[_0x4efe38(0x208)],_0x57b282);if(await fs_internal_1['FS'][_0x4efe38(0x20d)](_0xa1bb8b)){const _0x4c454e=await fs_internal_1['FS']['readFile'](_0xa1bb8b);this[_0x4efe38(0x1f2)][_0x57b282]=await xml_v2_1[_0x4efe38(0x200)][_0x4efe38(0x1f0)](_0x4c454e)['catch'](_0x151482=>this[_0x4efe38(0x215)](_0x151482,_0x41fc43));}else{this['parentComponents'][_0x57b282]=await xml_v2_1['XmlV2'][_0x4efe38(0x1f0)](_0xba6d7b)[_0x4efe38(0x1e3)](_0xfb019c=>this[_0x4efe38(0x215)](_0xfb019c,_0x41fc43));return;}}const _0x55ec12=this[_0x4efe38(0x1f2)][_0x57b282],_0x57f4e9=await xml_v2_1[_0x4efe38(0x200)]['parse'](_0xba6d7b)[_0x4efe38(0x1e3)](_0x460ab2=>this['handleXmlParsingError'](_0x460ab2,_0x41fc43));xml_v2_1[_0x4efe38(0x200)]['replaceOrAppend'](_0x55ec12,_0x57f4e9);}catch(_0x236c6d){if(_0x236c6d instanceof invalid_xml_error_1[_0x4efe38(0x20e)]){if(this[_0x4efe38(0x205)])return;else throw _0x236c6d;}throw new Error(_0x4efe38(0x214)+_0x41fc43[_0x4efe38(0x1f9)]+'\x20['+_0x41fc43[_0x4efe38(0x1f8)]+_0x4efe38(0x20c)+_0x236c6d);}}async[a277_0x1831a7(0x212)](){const _0x29655e=a277_0x1831a7;!await fs_internal_1['FS'][_0x29655e(0x20d)](this[_0x29655e(0x208)])&&await fs_internal_1['FS']['makeDir'](this[_0x29655e(0x208)]);const _0x209059=[],_0x2f7334=[];for(const _0x33566f of this[_0x29655e(0x1f1)]){child_types_1[_0x29655e(0x1fe)][_0x29655e(0x1f5)](_0x33566f[_0x29655e(0x1f8)])?_0x2f7334[_0x29655e(0x1de)](_0x33566f):_0x209059[_0x29655e(0x1de)](_0x33566f);}for(const _0x4fcf74 of _0x209059){await this[_0x29655e(0x1e4)](_0x4fcf74);}for(const _0x4442db of _0x2f7334){await this[_0x29655e(0x204)](_0x4442db);}const _0x50cae2=Object['keys'](this[_0x29655e(0x1f2)]);this[_0x29655e(0x1f6)]['log'](_0x29655e(0x1ea),this[_0x29655e(0x1f1)][_0x29655e(0x1ff)]);while(_0x50cae2[_0x29655e(0x1ff)]){const _0x27c568=_0x50cae2['splice'](0x0,this[_0x29655e(0x1e8)]);for(const _0x5025d6 of _0x27c568){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x29655e(0x1ed)](this[_0x29655e(0x208)],_0x5025d6),xml_v2_1[_0x29655e(0x200)][_0x29655e(0x1e1)](this[_0x29655e(0x1f2)][_0x5025d6]));}}this[_0x29655e(0x1f2)]={};}}exports[a277_0x1831a7(0x1e6)]=MDApiWriter;