const a277_0x223c9b=a277_0x4265;(function(_0x3f565c,_0x5f325a){const _0x128d71=a277_0x4265,_0x14fdfb=_0x3f565c();while(!![]){try{const _0x25cedb=parseInt(_0x128d71(0x1f0))/0x1*(parseInt(_0x128d71(0x1dc))/0x2)+parseInt(_0x128d71(0x1f6))/0x3+parseInt(_0x128d71(0x1fe))/0x4*(parseInt(_0x128d71(0x1d3))/0x5)+-parseInt(_0x128d71(0x201))/0x6*(parseInt(_0x128d71(0x1f4))/0x7)+-parseInt(_0x128d71(0x1e8))/0x8*(parseInt(_0x128d71(0x1e2))/0x9)+-parseInt(_0x128d71(0x1d2))/0xa*(parseInt(_0x128d71(0x1dd))/0xb)+parseInt(_0x128d71(0x1de))/0xc*(-parseInt(_0x128d71(0x1f5))/0xd);if(_0x25cedb===_0x5f325a)break;else _0x14fdfb['push'](_0x14fdfb['shift']());}catch(_0x39871f){_0x14fdfb['push'](_0x14fdfb['shift']());}}}(a277_0x2c1f,0xd50ba));const a277_0x20f732=(function(){let _0x38a492=!![];return function(_0x3b95a3,_0x496bbd){const _0x1fd80e=_0x38a492?function(){if(_0x496bbd){const _0x4374a6=_0x496bbd['apply'](_0x3b95a3,arguments);return _0x496bbd=null,_0x4374a6;}}:function(){};return _0x38a492=![],_0x1fd80e;};}()),a277_0x21eb59=a277_0x20f732(this,function(){const _0x52a246=a277_0x4265;return a277_0x21eb59[_0x52a246(0x1ea)]()[_0x52a246(0x1e9)](_0x52a246(0x1ef))[_0x52a246(0x1ea)]()[_0x52a246(0x1d0)](a277_0x21eb59)[_0x52a246(0x1e9)]('(((.+)+)+)+$');});a277_0x21eb59();function a277_0x4265(_0x321e36,_0x14eb1c){const _0x574829=a277_0x2c1f();return a277_0x4265=function(_0x21eb59,_0x20f732){_0x21eb59=_0x21eb59-0x1d0;let _0x2c1f0c=_0x574829[_0x21eb59];return _0x2c1f0c;},a277_0x4265(_0x321e36,_0x14eb1c);}'use strict';var __importDefault=this&&this[a277_0x223c9b(0x20a)]||function(_0x1cd7a8){const _0x10d386=a277_0x223c9b;return _0x1cd7a8&&_0x1cd7a8[_0x10d386(0x205)]?_0x1cd7a8:{'default':_0x1cd7a8};};Object['defineProperty'](exports,a277_0x223c9b(0x205),{'value':!![]}),exports[a277_0x223c9b(0x1ed)]=void 0x0;function a277_0x2c1f(){const _0x289f20=['168AiOAhM','execute','replaceOrAppend','writeParent','45vYFQSJ','Have\x20to\x20write\x20%d\x20files','fileName','parse','push','../internal/fs.internal','368752UuMytZ','search','toString','sourceDir','all','MDApiWriter','keys','(((.+)+)+)+$','1JDVfkP','parentComponents','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','exists','63BtDTir','697463zauAER','2909193OOQkEZ','writeChild','logger','XmlV2','components','BaseWriter','convertToString','body','4QjaHSr','./base.writer','path','409140LrtoEh','../parsers/data/child-types','fileType','MAX_WRITES_PER_TICK','__esModule','length','join','../parsers/utils/xml-v2','InvalidXmlError','__importDefault','catch','default','constructor','log','75620XZojsI','5934360pVctSU','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','splice','handleXmlParsingError','readFile','map','].\x20Original\x20error:\x20','writeFile','skipChildErrors','3178606kETLyb','1859QwJVIC'];a277_0x2c1f=function(){return _0x289f20;};return a277_0x2c1f();}const path_1=__importDefault(require(a277_0x223c9b(0x200))),fs_internal_1=require(a277_0x223c9b(0x1e7)),invalid_xml_error_1=require('../parsers/errors/invalid-xml.error'),xml_v2_1=require(a277_0x223c9b(0x208)),child_types_1=__importDefault(require(a277_0x223c9b(0x202))),base_writer_1=require(a277_0x223c9b(0x1ff));class MDApiWriter extends base_writer_1[a277_0x223c9b(0x1fb)]{constructor({components:_0x28f4c2,sourceDir:_0x480843,skipChildErrors:_0x11350d}){const _0x12a768=a277_0x223c9b;super({'components':_0x28f4c2,'sourceDir':_0x480843},MDApiWriter['name']),this[_0x12a768(0x204)]=0x64,this[_0x12a768(0x1f1)]={},this[_0x12a768(0x1db)]=_0x11350d;}async[a277_0x223c9b(0x1e1)](_0x14b944){const _0x3bce32=a277_0x223c9b;try{const _0x210b87=await this['readZip'](_0x14b944[_0x3bce32(0x1fd)],!![]);await Promise[_0x3bce32(0x1ec)](_0x210b87[_0x3bce32(0x1d8)](({filename:_0xde6680,body:_0x56d61e})=>fs_internal_1['FS'][_0x3bce32(0x1da)](path_1[_0x3bce32(0x20c)][_0x3bce32(0x207)](this[_0x3bce32(0x1eb)],_0xde6680),_0x56d61e)));}catch(_0x27114d){throw new Error(_0x3bce32(0x1f2)+_0x14b944[_0x3bce32(0x1e4)]+'\x20['+_0x14b944[_0x3bce32(0x203)]+'].\x20Original\x20error:\x20'+_0x27114d);}}[a277_0x223c9b(0x1d6)](_0x4fe1b8,_0x1cda77){const _0x3182c8=a277_0x223c9b;throw new invalid_xml_error_1[(_0x3182c8(0x209))](_0x3182c8(0x1d4)+_0x1cda77[_0x3182c8(0x1e4)]+'\x20['+_0x1cda77['fileType']+'].\x20Original\x20error:\x20'+_0x4fe1b8);}async[a277_0x223c9b(0x1f7)](_0x2fa9cf){const _0x2b7a9e=a277_0x223c9b,{filename:_0x5b937e,body:_0x27a1b9}=(await this['readZip'](_0x2fa9cf['body']))[0x0];try{if(!this['parentComponents'][_0x5b937e]){const _0x1e2be3=path_1['default'][_0x2b7a9e(0x207)](this[_0x2b7a9e(0x1eb)],_0x5b937e);if(await fs_internal_1['FS'][_0x2b7a9e(0x1f3)](_0x1e2be3)){const _0x2e98e5=await fs_internal_1['FS'][_0x2b7a9e(0x1d7)](_0x1e2be3);this[_0x2b7a9e(0x1f1)][_0x5b937e]=await xml_v2_1[_0x2b7a9e(0x1f9)]['parse'](_0x2e98e5)[_0x2b7a9e(0x20b)](_0x4cddfc=>this[_0x2b7a9e(0x1d6)](_0x4cddfc,_0x2fa9cf));}else{this['parentComponents'][_0x5b937e]=await xml_v2_1['XmlV2']['parse'](_0x27a1b9)[_0x2b7a9e(0x20b)](_0x3238d8=>this['handleXmlParsingError'](_0x3238d8,_0x2fa9cf));return;}}const _0x2d1b62=this['parentComponents'][_0x5b937e],_0xc5f6c9=await xml_v2_1[_0x2b7a9e(0x1f9)][_0x2b7a9e(0x1e5)](_0x27a1b9)['catch'](_0x58eedf=>this['handleXmlParsingError'](_0x58eedf,_0x2fa9cf));xml_v2_1[_0x2b7a9e(0x1f9)][_0x2b7a9e(0x1e0)](_0x2d1b62,_0xc5f6c9);}catch(_0xe5241f){if(_0xe5241f instanceof invalid_xml_error_1[_0x2b7a9e(0x209)]){if(this[_0x2b7a9e(0x1db)])return;else throw _0xe5241f;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x2fa9cf[_0x2b7a9e(0x1e4)]+'\x20['+_0x2fa9cf[_0x2b7a9e(0x203)]+_0x2b7a9e(0x1d9)+_0xe5241f);}}async[a277_0x223c9b(0x1df)](){const _0x5501fc=a277_0x223c9b;!await fs_internal_1['FS'][_0x5501fc(0x1f3)](this[_0x5501fc(0x1eb)])&&await fs_internal_1['FS']['makeDir'](this[_0x5501fc(0x1eb)]);const _0x324944=[],_0x46fa6c=[];for(const _0x428400 of this[_0x5501fc(0x1fa)]){child_types_1[_0x5501fc(0x20c)]['includes'](_0x428400['fileType'])?_0x46fa6c['push'](_0x428400):_0x324944[_0x5501fc(0x1e6)](_0x428400);}for(const _0x2b1aac of _0x324944){await this['writeParent'](_0x2b1aac);}for(const _0x413c75 of _0x46fa6c){await this['writeChild'](_0x413c75);}const _0x425e09=Object[_0x5501fc(0x1ee)](this[_0x5501fc(0x1f1)]);this[_0x5501fc(0x1f8)][_0x5501fc(0x1d1)](_0x5501fc(0x1e3),this['components'][_0x5501fc(0x206)]);while(_0x425e09[_0x5501fc(0x206)]){const _0x14755b=_0x425e09[_0x5501fc(0x1d5)](0x0,this[_0x5501fc(0x204)]);for(const _0x1365eb of _0x14755b){await fs_internal_1['FS'][_0x5501fc(0x1da)](path_1[_0x5501fc(0x20c)][_0x5501fc(0x207)](this['sourceDir'],_0x1365eb),xml_v2_1[_0x5501fc(0x1f9)][_0x5501fc(0x1fc)](this[_0x5501fc(0x1f1)][_0x1365eb]));}}this[_0x5501fc(0x1f1)]={};}}exports[a277_0x223c9b(0x1ed)]=MDApiWriter;