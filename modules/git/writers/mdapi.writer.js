const a292_0xe211d2=a292_0x577c;(function(_0x21c877,_0x43ed6c){const _0xa30601=a292_0x577c,_0x578c36=_0x21c877();while(!![]){try{const _0x54a6ef=-parseInt(_0xa30601(0x220))/0x1+parseInt(_0xa30601(0x1eb))/0x2+-parseInt(_0xa30601(0x200))/0x3*(-parseInt(_0xa30601(0x206))/0x4)+parseInt(_0xa30601(0x21e))/0x5+-parseInt(_0xa30601(0x205))/0x6*(parseInt(_0xa30601(0x222))/0x7)+parseInt(_0xa30601(0x1f7))/0x8+-parseInt(_0xa30601(0x203))/0x9;if(_0x54a6ef===_0x43ed6c)break;else _0x578c36['push'](_0x578c36['shift']());}catch(_0x27965d){_0x578c36['push'](_0x578c36['shift']());}}}(a292_0x3914,0x818df));const a292_0x201033=(function(){let _0x97f461=!![];return function(_0x17fd28,_0x21f114){const _0x1de824=_0x97f461?function(){if(_0x21f114){const _0x43ada0=_0x21f114['apply'](_0x17fd28,arguments);return _0x21f114=null,_0x43ada0;}}:function(){};return _0x97f461=![],_0x1de824;};}()),a292_0x4d4584=a292_0x201033(this,function(){const _0x3afeb1=a292_0x577c;return a292_0x4d4584[_0x3afeb1(0x21c)]()[_0x3afeb1(0x212)](_0x3afeb1(0x204))[_0x3afeb1(0x21c)]()[_0x3afeb1(0x215)](a292_0x4d4584)[_0x3afeb1(0x212)]('(((.+)+)+)+$');});a292_0x4d4584();'use strict';var __importDefault=this&&this[a292_0xe211d2(0x1f8)]||function(_0x253ce8){return _0x253ce8&&_0x253ce8['__esModule']?_0x253ce8:{'default':_0x253ce8};};Object[a292_0xe211d2(0x207)](exports,'__esModule',{'value':!![]}),exports[a292_0xe211d2(0x1ff)]=void 0x0;function a292_0x577c(_0x48d1c4,_0x3b207b){const _0x4e7949=a292_0x3914();return a292_0x577c=function(_0x4d4584,_0x201033){_0x4d4584=_0x4d4584-0x1ea;let _0x391456=_0x4e7949[_0x4d4584];return _0x391456;},a292_0x577c(_0x48d1c4,_0x3b207b);}const path_1=__importDefault(require('path')),fs_internal_1=require(a292_0xe211d2(0x201)),invalid_xml_error_1=require(a292_0xe211d2(0x1f1)),xml_v2_1=require(a292_0xe211d2(0x1fc)),child_types_1=__importDefault(require(a292_0xe211d2(0x218))),base_writer_1=require(a292_0xe211d2(0x1ea));function a292_0x3914(){const _0x4562f3=['push','splice','].\x20Original\x20error:\x20','execute','map','body','skipChildErrors','readZip','default','search','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','InvalidXmlError','constructor','name','all','../parsers/data/child-types','parse','writeChild','XmlV2','toString','join','3813070XkmRFQ','writeFile','156736vSrwuM','convertToString','77bWEHlL','./base.writer','494338LgFCOB','catch','keys','MAX_WRITES_PER_TICK','components','parentComponents','../parsers/errors/invalid-xml.error','fileType','BaseWriter','readFile','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','handleXmlParsingError','5220088bgbXNp','__importDefault','log','sourceDir','replaceOrAppend','../parsers/utils/xml-v2','writeParent','logger','MDApiWriter','3LZSzEH','../internal/fs.internal','fileName','13166640XZqXAK','(((.+)+)+)+$','274296KWLfla','3963732bdzuLg','defineProperty','exists'];a292_0x3914=function(){return _0x4562f3;};return a292_0x3914();}class MDApiWriter extends base_writer_1[a292_0xe211d2(0x1f3)]{constructor({components:_0x4fd10d,sourceDir:_0x503204,skipChildErrors:_0x198148}){const _0x3cbbf5=a292_0xe211d2;super({'components':_0x4fd10d,'sourceDir':_0x503204},MDApiWriter[_0x3cbbf5(0x216)]),this['MAX_WRITES_PER_TICK']=0x64,this[_0x3cbbf5(0x1f0)]={},this[_0x3cbbf5(0x20f)]=_0x198148;}async[a292_0xe211d2(0x1fd)](_0x48cdb6){const _0x106e55=a292_0xe211d2;try{const _0x5de3c4=await this[_0x106e55(0x210)](_0x48cdb6['body'],!![]);await Promise[_0x106e55(0x217)](_0x5de3c4[_0x106e55(0x20d)](({filename:_0xe35e22,body:_0x17f620})=>fs_internal_1['FS'][_0x106e55(0x21f)](path_1[_0x106e55(0x211)][_0x106e55(0x21d)](this['sourceDir'],_0xe35e22),_0x17f620)));}catch(_0x3533f3){throw new Error(_0x106e55(0x213)+_0x48cdb6[_0x106e55(0x202)]+'\x20['+_0x48cdb6[_0x106e55(0x1f2)]+'].\x20Original\x20error:\x20'+_0x3533f3);}}[a292_0xe211d2(0x1f6)](_0x879391,_0x530afc){const _0x27f9b3=a292_0xe211d2;throw new invalid_xml_error_1['InvalidXmlError']('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x530afc[_0x27f9b3(0x202)]+'\x20['+_0x530afc[_0x27f9b3(0x1f2)]+_0x27f9b3(0x20b)+_0x879391);}async[a292_0xe211d2(0x21a)](_0x4711d0){const _0x14d6b1=a292_0xe211d2,{filename:_0x40b1e0,body:_0x1aeb0b}=(await this[_0x14d6b1(0x210)](_0x4711d0[_0x14d6b1(0x20e)]))[0x0];try{if(!this[_0x14d6b1(0x1f0)][_0x40b1e0]){const _0x40ce77=path_1['default']['join'](this[_0x14d6b1(0x1fa)],_0x40b1e0);if(await fs_internal_1['FS'][_0x14d6b1(0x208)](_0x40ce77)){const _0x53f0f7=await fs_internal_1['FS'][_0x14d6b1(0x1f4)](_0x40ce77);this['parentComponents'][_0x40b1e0]=await xml_v2_1[_0x14d6b1(0x21b)][_0x14d6b1(0x219)](_0x53f0f7)[_0x14d6b1(0x1ec)](_0x173f27=>this[_0x14d6b1(0x1f6)](_0x173f27,_0x4711d0));}else{this[_0x14d6b1(0x1f0)][_0x40b1e0]=await xml_v2_1[_0x14d6b1(0x21b)]['parse'](_0x1aeb0b)[_0x14d6b1(0x1ec)](_0x26e898=>this['handleXmlParsingError'](_0x26e898,_0x4711d0));return;}}const _0x627d72=this[_0x14d6b1(0x1f0)][_0x40b1e0],_0x419840=await xml_v2_1[_0x14d6b1(0x21b)][_0x14d6b1(0x219)](_0x1aeb0b)[_0x14d6b1(0x1ec)](_0x5c87cb=>this['handleXmlParsingError'](_0x5c87cb,_0x4711d0));xml_v2_1[_0x14d6b1(0x21b)][_0x14d6b1(0x1fb)](_0x627d72,_0x419840);}catch(_0x2b38d7){if(_0x2b38d7 instanceof invalid_xml_error_1[_0x14d6b1(0x214)]){if(this[_0x14d6b1(0x20f)])return;else throw _0x2b38d7;}throw new Error(_0x14d6b1(0x1f5)+_0x4711d0[_0x14d6b1(0x202)]+'\x20['+_0x4711d0[_0x14d6b1(0x1f2)]+_0x14d6b1(0x20b)+_0x2b38d7);}}async[a292_0xe211d2(0x20c)](){const _0x26bc51=a292_0xe211d2;!await fs_internal_1['FS']['exists'](this[_0x26bc51(0x1fa)])&&await fs_internal_1['FS']['makeDir'](this[_0x26bc51(0x1fa)]);const _0x231df4=[],_0x16edd8=[];for(const _0x1e0c09 of this['components']){child_types_1['default']['includes'](_0x1e0c09['fileType'])?_0x16edd8['push'](_0x1e0c09):_0x231df4[_0x26bc51(0x209)](_0x1e0c09);}for(const _0x520275 of _0x231df4){await this['writeParent'](_0x520275);}for(const _0x4150cc of _0x16edd8){await this['writeChild'](_0x4150cc);}const _0x7fd116=Object[_0x26bc51(0x1ed)](this['parentComponents']);this[_0x26bc51(0x1fe)][_0x26bc51(0x1f9)]('Have\x20to\x20write\x20%d\x20files',this[_0x26bc51(0x1ef)]['length']);while(_0x7fd116['length']){const _0x4c6eab=_0x7fd116[_0x26bc51(0x20a)](0x0,this[_0x26bc51(0x1ee)]);for(const _0x1c6071 of _0x4c6eab){await fs_internal_1['FS'][_0x26bc51(0x21f)](path_1[_0x26bc51(0x211)]['join'](this[_0x26bc51(0x1fa)],_0x1c6071),xml_v2_1[_0x26bc51(0x21b)][_0x26bc51(0x221)](this[_0x26bc51(0x1f0)][_0x1c6071]));}}this['parentComponents']={};}}exports[a292_0xe211d2(0x1ff)]=MDApiWriter;