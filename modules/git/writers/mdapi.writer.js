const a305_0x21331d=a305_0x2b35;(function(_0x34d76f,_0xaf3ff){const _0x19b163=a305_0x2b35,_0x210923=_0x34d76f();while(!![]){try{const _0x4d11dc=parseInt(_0x19b163(0x14c))/0x1+-parseInt(_0x19b163(0x15b))/0x2+parseInt(_0x19b163(0x149))/0x3+-parseInt(_0x19b163(0x170))/0x4+-parseInt(_0x19b163(0x142))/0x5+parseInt(_0x19b163(0x146))/0x6+parseInt(_0x19b163(0x15a))/0x7;if(_0x4d11dc===_0xaf3ff)break;else _0x210923['push'](_0x210923['shift']());}catch(_0x5ab3c6){_0x210923['push'](_0x210923['shift']());}}}(a305_0x5e7b,0xd1289));const a305_0x4d8730=(function(){let _0x263c32=!![];return function(_0x1b932e,_0x3053e2){const _0x376d48=_0x263c32?function(){if(_0x3053e2){const _0x4272f0=_0x3053e2['apply'](_0x1b932e,arguments);return _0x3053e2=null,_0x4272f0;}}:function(){};return _0x263c32=![],_0x376d48;};}()),a305_0x50601f=a305_0x4d8730(this,function(){const _0x8e975=a305_0x2b35;return a305_0x50601f[_0x8e975(0x16a)]()['search'](_0x8e975(0x167))['toString']()[_0x8e975(0x14e)](a305_0x50601f)[_0x8e975(0x15e)](_0x8e975(0x167));});a305_0x50601f();'use strict';var __importDefault=this&&this[a305_0x21331d(0x16c)]||function(_0x41704e){const _0x3e6e68=a305_0x21331d;return _0x41704e&&_0x41704e[_0x3e6e68(0x145)]?_0x41704e:{'default':_0x41704e};};Object[a305_0x21331d(0x152)](exports,a305_0x21331d(0x145),{'value':!![]}),exports[a305_0x21331d(0x16d)]=void 0x0;function a305_0x2b35(_0xec84ef,_0x42607a){const _0x647dff=a305_0x5e7b();return a305_0x2b35=function(_0x50601f,_0x4d8730){_0x50601f=_0x50601f-0x13f;let _0x5e7b81=_0x647dff[_0x50601f];return _0x5e7b81;},a305_0x2b35(_0xec84ef,_0x42607a);}const path_1=__importDefault(require(a305_0x21331d(0x163))),fs_internal_1=require(a305_0x21331d(0x140)),invalid_xml_error_1=require(a305_0x21331d(0x154)),xml_v2_1=require(a305_0x21331d(0x147)),child_types_1=__importDefault(require(a305_0x21331d(0x160))),base_writer_1=require(a305_0x21331d(0x172));function a305_0x5e7b(){const _0x3031b4=['skipChildErrors','XmlV2','push','4906125ZbWZoK','402186EopPco','components','Have\x20to\x20write\x20%d\x20files','search','parse','../parsers/data/child-types','body','].\x20Original\x20error:\x20','path','default','length','splice','(((.+)+)+)+$','readFile','keys','toString','sourceDir','__importDefault','MDApiWriter','convertToString','map','4327464VAmcyj','writeChild','./base.writer','fileName','fileType','parentComponents','all','writeFile','../internal/fs.internal','handleXmlParsingError','4959525wduHtR','readZip','name','__esModule','4303968kcXoOs','../parsers/utils/xml-v2','exists','4557519FdZsGl','MAX_WRITES_PER_TICK','catch','194201zncdmr','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','constructor','InvalidXmlError','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','logger','defineProperty','join','../parsers/errors/invalid-xml.error','replaceOrAppend','writeParent'];a305_0x5e7b=function(){return _0x3031b4;};return a305_0x5e7b();}class MDApiWriter extends base_writer_1['BaseWriter']{constructor({components:_0x4a7caf,sourceDir:_0x91b338,skipChildErrors:_0xf7b582}){const _0x89fc30=a305_0x21331d;super({'components':_0x4a7caf,'sourceDir':_0x91b338},MDApiWriter[_0x89fc30(0x144)]),this[_0x89fc30(0x14a)]=0x64,this['parentComponents']={},this[_0x89fc30(0x157)]=_0xf7b582;}async['writeParent'](_0x890ca8){const _0x5c8b00=a305_0x21331d;try{const _0xe2b984=await this[_0x5c8b00(0x143)](_0x890ca8[_0x5c8b00(0x161)],!![]);await Promise[_0x5c8b00(0x176)](_0xe2b984[_0x5c8b00(0x16f)](({filename:_0x38bd51,body:_0x48eb4b})=>fs_internal_1['FS']['writeFile'](path_1[_0x5c8b00(0x164)][_0x5c8b00(0x153)](this[_0x5c8b00(0x16b)],_0x38bd51),_0x48eb4b)));}catch(_0x19ca0c){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x890ca8['fileName']+'\x20['+_0x890ca8[_0x5c8b00(0x174)]+_0x5c8b00(0x162)+_0x19ca0c);}}[a305_0x21331d(0x141)](_0x5dbbdc,_0x3c8774){const _0x1fba77=a305_0x21331d;throw new invalid_xml_error_1[(_0x1fba77(0x14f))](_0x1fba77(0x150)+_0x3c8774[_0x1fba77(0x173)]+'\x20['+_0x3c8774[_0x1fba77(0x174)]+_0x1fba77(0x162)+_0x5dbbdc);}async[a305_0x21331d(0x171)](_0xdb6569){const _0xc5e4e9=a305_0x21331d,{filename:_0x3919fb,body:_0x300b36}=(await this[_0xc5e4e9(0x143)](_0xdb6569[_0xc5e4e9(0x161)]))[0x0];try{if(!this['parentComponents'][_0x3919fb]){const _0x11c0c1=path_1['default'][_0xc5e4e9(0x153)](this['sourceDir'],_0x3919fb);if(await fs_internal_1['FS'][_0xc5e4e9(0x148)](_0x11c0c1)){const _0x4f17db=await fs_internal_1['FS'][_0xc5e4e9(0x168)](_0x11c0c1);this[_0xc5e4e9(0x175)][_0x3919fb]=await xml_v2_1['XmlV2'][_0xc5e4e9(0x15f)](_0x4f17db)['catch'](_0x450432=>this[_0xc5e4e9(0x141)](_0x450432,_0xdb6569));}else{this[_0xc5e4e9(0x175)][_0x3919fb]=await xml_v2_1[_0xc5e4e9(0x158)][_0xc5e4e9(0x15f)](_0x300b36)[_0xc5e4e9(0x14b)](_0x4ea884=>this[_0xc5e4e9(0x141)](_0x4ea884,_0xdb6569));return;}}const _0x38a6c6=this[_0xc5e4e9(0x175)][_0x3919fb],_0x1c2571=await xml_v2_1[_0xc5e4e9(0x158)][_0xc5e4e9(0x15f)](_0x300b36)[_0xc5e4e9(0x14b)](_0x1684e2=>this[_0xc5e4e9(0x141)](_0x1684e2,_0xdb6569));xml_v2_1['XmlV2'][_0xc5e4e9(0x155)](_0x38a6c6,_0x1c2571);}catch(_0x2ce35c){if(_0x2ce35c instanceof invalid_xml_error_1[_0xc5e4e9(0x14f)]){if(this['skipChildErrors'])return;else throw _0x2ce35c;}throw new Error(_0xc5e4e9(0x14d)+_0xdb6569['fileName']+'\x20['+_0xdb6569[_0xc5e4e9(0x174)]+_0xc5e4e9(0x162)+_0x2ce35c);}}async['execute'](){const _0x530eb5=a305_0x21331d;!await fs_internal_1['FS'][_0x530eb5(0x148)](this[_0x530eb5(0x16b)])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);const _0xb5bafd=[],_0x4a5735=[];for(const _0x63a3bb of this[_0x530eb5(0x15c)]){child_types_1[_0x530eb5(0x164)]['includes'](_0x63a3bb[_0x530eb5(0x174)])?_0x4a5735[_0x530eb5(0x159)](_0x63a3bb):_0xb5bafd['push'](_0x63a3bb);}for(const _0x143976 of _0xb5bafd){await this[_0x530eb5(0x156)](_0x143976);}for(const _0x99bcb3 of _0x4a5735){await this[_0x530eb5(0x171)](_0x99bcb3);}const _0x184af6=Object[_0x530eb5(0x169)](this['parentComponents']);this[_0x530eb5(0x151)]['log'](_0x530eb5(0x15d),this[_0x530eb5(0x15c)]['length']);while(_0x184af6[_0x530eb5(0x165)]){const _0x4d950d=_0x184af6[_0x530eb5(0x166)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0xd4d02c of _0x4d950d){await fs_internal_1['FS'][_0x530eb5(0x13f)](path_1[_0x530eb5(0x164)][_0x530eb5(0x153)](this[_0x530eb5(0x16b)],_0xd4d02c),xml_v2_1['XmlV2'][_0x530eb5(0x16e)](this[_0x530eb5(0x175)][_0xd4d02c]));}}this[_0x530eb5(0x175)]={};}}exports[a305_0x21331d(0x16d)]=MDApiWriter;