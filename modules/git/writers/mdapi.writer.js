const a304_0x5a6284=a304_0x223d;(function(_0x2ad904,_0x4263bd){const _0x1c7f05=a304_0x223d,_0x2c5e86=_0x2ad904();while(!![]){try{const _0x5ced65=-parseInt(_0x1c7f05(0x8b))/0x1+-parseInt(_0x1c7f05(0x95))/0x2+-parseInt(_0x1c7f05(0x8d))/0x3*(-parseInt(_0x1c7f05(0x9d))/0x4)+-parseInt(_0x1c7f05(0x70))/0x5*(-parseInt(_0x1c7f05(0x9e))/0x6)+-parseInt(_0x1c7f05(0x7c))/0x7*(parseInt(_0x1c7f05(0x8f))/0x8)+parseInt(_0x1c7f05(0x6f))/0x9+parseInt(_0x1c7f05(0x90))/0xa;if(_0x5ced65===_0x4263bd)break;else _0x2c5e86['push'](_0x2c5e86['shift']());}catch(_0x17d3ef){_0x2c5e86['push'](_0x2c5e86['shift']());}}}(a304_0x217e,0x9ca17));const a304_0x5e635a=(function(){let _0x1145e8=!![];return function(_0x31f2e2,_0x1492c8){const _0x4ab03e=_0x1145e8?function(){if(_0x1492c8){const _0x332e66=_0x1492c8['apply'](_0x31f2e2,arguments);return _0x1492c8=null,_0x332e66;}}:function(){};return _0x1145e8=![],_0x4ab03e;};}()),a304_0x16b410=a304_0x5e635a(this,function(){const _0x5c1509=a304_0x223d;return a304_0x16b410[_0x5c1509(0x6d)]()['search']('(((.+)+)+)+$')[_0x5c1509(0x6d)]()['constructor'](a304_0x16b410)[_0x5c1509(0x96)](_0x5c1509(0x83));});a304_0x16b410();'use strict';function a304_0x217e(){const _0x4aadba=['writeFile','8fgEhZK','25989370kYgNoR','convertToString','MDApiWriter','logger','XmlV2','2421652sEgGsd','search','skipChildErrors','parse','].\x20Original\x20error:\x20','includes','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','../parsers/errors/invalid-xml.error','768xjnBgX','197958gcIpGg','name','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','log','../parsers/data/child-types','../internal/fs.internal','body','length','toString','readZip','6473961KGcvPz','25ZahttR','__esModule','path','fileName','./base.writer','splice','makeDir','InvalidXmlError','Have\x20to\x20write\x20%d\x20files','keys','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','default','5214643UbVVyL','join','components','writeParent','readFile','sourceDir','replaceOrAppend','(((.+)+)+)+$','parentComponents','handleXmlParsingError','execute','push','writeChild','all','MAX_WRITES_PER_TICK','926601IUlTDk','exists','636IqASHK'];a304_0x217e=function(){return _0x4aadba;};return a304_0x217e();}function a304_0x223d(_0x24d604,_0x2d5627){const _0x16662b=a304_0x217e();return a304_0x223d=function(_0x16b410,_0x5e635a){_0x16b410=_0x16b410-0x68;let _0x217e69=_0x16662b[_0x16b410];return _0x217e69;},a304_0x223d(_0x24d604,_0x2d5627);}var __importDefault=this&&this['__importDefault']||function(_0x801dfd){const _0x4e7899=a304_0x223d;return _0x801dfd&&_0x801dfd[_0x4e7899(0x71)]?_0x801dfd:{'default':_0x801dfd};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a304_0x5a6284(0x92)]=void 0x0;const path_1=__importDefault(require(a304_0x5a6284(0x72))),fs_internal_1=require(a304_0x5a6284(0x6a)),invalid_xml_error_1=require(a304_0x5a6284(0x9c)),xml_v2_1=require('../parsers/utils/xml-v2'),child_types_1=__importDefault(require(a304_0x5a6284(0x69))),base_writer_1=require(a304_0x5a6284(0x74));class MDApiWriter extends base_writer_1['BaseWriter']{constructor({components:_0x57f59f,sourceDir:_0x3043c2,skipChildErrors:_0x1cdddd}){const _0x2fcd4b=a304_0x5a6284;super({'components':_0x57f59f,'sourceDir':_0x3043c2},MDApiWriter[_0x2fcd4b(0x9f)]),this[_0x2fcd4b(0x8a)]=0x64,this['parentComponents']={},this[_0x2fcd4b(0x97)]=_0x1cdddd;}async[a304_0x5a6284(0x7f)](_0x390f6e){const _0x28c0ba=a304_0x5a6284;try{const _0x394e13=await this[_0x28c0ba(0x6e)](_0x390f6e['body'],!![]);await Promise[_0x28c0ba(0x89)](_0x394e13['map'](({filename:_0x565b15,body:_0x5aedcc})=>fs_internal_1['FS'][_0x28c0ba(0x8e)](path_1[_0x28c0ba(0x7b)][_0x28c0ba(0x7d)](this[_0x28c0ba(0x81)],_0x565b15),_0x5aedcc)));}catch(_0x1f597d){throw new Error(_0x28c0ba(0xa0)+_0x390f6e[_0x28c0ba(0x73)]+'\x20['+_0x390f6e['fileType']+_0x28c0ba(0x99)+_0x1f597d);}}[a304_0x5a6284(0x85)](_0x263e6e,_0x1a000d){const _0x8d3c27=a304_0x5a6284;throw new invalid_xml_error_1[(_0x8d3c27(0x77))](_0x8d3c27(0x9b)+_0x1a000d[_0x8d3c27(0x73)]+'\x20['+_0x1a000d['fileType']+'].\x20Original\x20error:\x20'+_0x263e6e);}async['writeChild'](_0xe9ae6e){const _0xcb2bbd=a304_0x5a6284,{filename:_0x68d1dd,body:_0x5949eb}=(await this[_0xcb2bbd(0x6e)](_0xe9ae6e[_0xcb2bbd(0x6b)]))[0x0];try{if(!this[_0xcb2bbd(0x84)][_0x68d1dd]){const _0x41f89b=path_1[_0xcb2bbd(0x7b)][_0xcb2bbd(0x7d)](this['sourceDir'],_0x68d1dd);if(await fs_internal_1['FS'][_0xcb2bbd(0x8c)](_0x41f89b)){const _0x30c980=await fs_internal_1['FS'][_0xcb2bbd(0x80)](_0x41f89b);this['parentComponents'][_0x68d1dd]=await xml_v2_1[_0xcb2bbd(0x94)][_0xcb2bbd(0x98)](_0x30c980)['catch'](_0xf9b2cd=>this['handleXmlParsingError'](_0xf9b2cd,_0xe9ae6e));}else{this[_0xcb2bbd(0x84)][_0x68d1dd]=await xml_v2_1[_0xcb2bbd(0x94)]['parse'](_0x5949eb)['catch'](_0x3d2baa=>this['handleXmlParsingError'](_0x3d2baa,_0xe9ae6e));return;}}const _0x46b046=this[_0xcb2bbd(0x84)][_0x68d1dd],_0x89d85e=await xml_v2_1['XmlV2'][_0xcb2bbd(0x98)](_0x5949eb)['catch'](_0x2c095c=>this['handleXmlParsingError'](_0x2c095c,_0xe9ae6e));xml_v2_1[_0xcb2bbd(0x94)][_0xcb2bbd(0x82)](_0x46b046,_0x89d85e);}catch(_0x126cde){if(_0x126cde instanceof invalid_xml_error_1[_0xcb2bbd(0x77)]){if(this[_0xcb2bbd(0x97)])return;else throw _0x126cde;}throw new Error(_0xcb2bbd(0x7a)+_0xe9ae6e[_0xcb2bbd(0x73)]+'\x20['+_0xe9ae6e['fileType']+_0xcb2bbd(0x99)+_0x126cde);}}async[a304_0x5a6284(0x86)](){const _0x47227d=a304_0x5a6284;!await fs_internal_1['FS'][_0x47227d(0x8c)](this[_0x47227d(0x81)])&&await fs_internal_1['FS'][_0x47227d(0x76)](this[_0x47227d(0x81)]);const _0xcf11a6=[],_0x4cfcd4=[];for(const _0x48bf80 of this[_0x47227d(0x7e)]){child_types_1['default'][_0x47227d(0x9a)](_0x48bf80['fileType'])?_0x4cfcd4[_0x47227d(0x87)](_0x48bf80):_0xcf11a6[_0x47227d(0x87)](_0x48bf80);}for(const _0x5dbd81 of _0xcf11a6){await this['writeParent'](_0x5dbd81);}for(const _0x3b1426 of _0x4cfcd4){await this[_0x47227d(0x88)](_0x3b1426);}const _0x2c5905=Object[_0x47227d(0x79)](this['parentComponents']);this[_0x47227d(0x93)][_0x47227d(0x68)](_0x47227d(0x78),this[_0x47227d(0x7e)][_0x47227d(0x6c)]);while(_0x2c5905[_0x47227d(0x6c)]){const _0x48d851=_0x2c5905[_0x47227d(0x75)](0x0,this[_0x47227d(0x8a)]);for(const _0x2e0e15 of _0x48d851){await fs_internal_1['FS']['writeFile'](path_1[_0x47227d(0x7b)]['join'](this[_0x47227d(0x81)],_0x2e0e15),xml_v2_1[_0x47227d(0x94)][_0x47227d(0x91)](this[_0x47227d(0x84)][_0x2e0e15]));}}this[_0x47227d(0x84)]={};}}exports[a304_0x5a6284(0x92)]=MDApiWriter;