const a153_0xa49881=a153_0x3af6;(function(_0x25f983,_0x29192a){const _0x205c6a=a153_0x3af6,_0x4aa52a=_0x25f983();while(!![]){try{const _0x3a3062=parseInt(_0x205c6a(0xdd))/0x1+parseInt(_0x205c6a(0xda))/0x2+-parseInt(_0x205c6a(0x108))/0x3*(-parseInt(_0x205c6a(0xfa))/0x4)+-parseInt(_0x205c6a(0x102))/0x5+parseInt(_0x205c6a(0xd7))/0x6*(-parseInt(_0x205c6a(0xff))/0x7)+parseInt(_0x205c6a(0xd1))/0x8+-parseInt(_0x205c6a(0xd2))/0x9*(parseInt(_0x205c6a(0xf0))/0xa);if(_0x3a3062===_0x29192a)break;else _0x4aa52a['push'](_0x4aa52a['shift']());}catch(_0x303a2b){_0x4aa52a['push'](_0x4aa52a['shift']());}}}(a153_0x4d7b,0x4a1da));const a153_0xd1e21b=(function(){let _0x12dd43=!![];return function(_0x1a6956,_0x2d507e){const _0x16353d=_0x12dd43?function(){if(_0x2d507e){const _0x2b981f=_0x2d507e['apply'](_0x1a6956,arguments);return _0x2d507e=null,_0x2b981f;}}:function(){};return _0x12dd43=![],_0x16353d;};}()),a153_0x41dcfa=a153_0xd1e21b(this,function(){const _0xbd76dd=a153_0x3af6;return a153_0x41dcfa[_0xbd76dd(0xd4)]()[_0xbd76dd(0xd8)](_0xbd76dd(0xea))[_0xbd76dd(0xd4)]()[_0xbd76dd(0xf4)](a153_0x41dcfa)[_0xbd76dd(0xd8)](_0xbd76dd(0xea));});a153_0x41dcfa();'use strict';var __importDefault=this&&this[a153_0xa49881(0xe6)]||function(_0x3cc93f){const _0x59fee5=a153_0xa49881;return _0x3cc93f&&_0x3cc93f[_0x59fee5(0xd6)]?_0x3cc93f:{'default':_0x3cc93f};};Object[a153_0xa49881(0xef)](exports,a153_0xa49881(0xd6),{'value':!![]}),exports[a153_0xa49881(0xcc)]=exports[a153_0xa49881(0x101)]=exports[a153_0xa49881(0xee)]=exports['createChildComponentsFromParent']=exports[a153_0xa49881(0xfc)]=exports['isParentComponentFile']=exports['isParentComponent']=exports[a153_0xa49881(0xf5)]=exports[a153_0xa49881(0xfe)]=exports[a153_0xa49881(0xfb)]=exports[a153_0xa49881(0x10c)]=void 0x0;const constants_1=require('../../../../constants'),path_1=__importDefault(require(a153_0xa49881(0xdf))),child_types_map_1=__importDefault(require(a153_0xa49881(0x106))),parent_xml_types_1=__importDefault(require(a153_0xa49881(0xe7))),xml_v2_1=require(a153_0xa49881(0x107)),crc_32_1=__importDefault(require('crc-32')),parent_xml_types_map_1=__importDefault(require(a153_0xa49881(0xe4))),fs_internal_1=require(a153_0xa49881(0xed));function convertToCleanPaths(_0x24b79c){const _0x4274d7=a153_0xa49881,_0x15ae61=_0x24b79c[_0x4274d7(0xd3)](_0x30bc4a=>_0x30bc4a[_0x4274d7(0x10a)](constants_1[_0x4274d7(0xe2)])),_0x3ecb8c=_0x15ae61[_0x4274d7(0x103)](_0x26262b=>_0x26262b['replace'](new RegExp(constants_1[_0x4274d7(0xe2)]+'$'),'')),_0x1f3ca4=_0x24b79c[_0x4274d7(0xd3)](_0x2a643f=>!_0x15ae61[_0x4274d7(0xd0)](_0x2a643f));return[...new Set([..._0x1f3ca4,..._0x3ecb8c])];}exports['convertToCleanPaths']=convertToCleanPaths;function filterParserPaths(_0x5df9d0){const _0x7388ba=a153_0xa49881,_0x4ceb1b=[...new Set(_0x5df9d0['filter'](_0x34c2de=>!_0x34c2de['endsWith'](constants_1[_0x7388ba(0xe2)])))],_0x365b78=_0x5df9d0[_0x7388ba(0xd3)](_0x444099=>_0x444099[_0x7388ba(0x10a)](constants_1['META_XML_EXTENSION']))[_0x7388ba(0xd3)](_0xee7952=>!_0x4ceb1b[_0x7388ba(0xd0)](_0xee7952['replace'](constants_1[_0x7388ba(0xe2)],'')));return[..._0x365b78,..._0x4ceb1b];}exports[a153_0xa49881(0xfb)]=filterParserPaths;function getChildComponentTypeByChildNodeName(_0xf6c04){const _0x4dd2ee=a153_0xa49881,_0x1cce6e=Object['entries'](child_types_map_1[_0x4dd2ee(0xcb)])['find'](([_0x416515,_0x3cf9bd])=>_0x3cf9bd===_0xf6c04);if(!_0x1cce6e)throw new Error(_0x4dd2ee(0x104)+_0xf6c04);return _0x1cce6e[0x0];}exports['getChildComponentTypeByChildNodeName']=getChildComponentTypeByChildNodeName;function extractFilenameFromPath(_0x55e84c){const _0x3524f4=a153_0xa49881,_0x2d231b=_0x55e84c['split'](path_1[_0x3524f4(0xcb)][_0x3524f4(0xf7)]),_0x59c9ab=path_1[_0x3524f4(0xcb)][_0x3524f4(0xf2)](_0x55e84c[_0x3524f4(0xe3)](constants_1[_0x3524f4(0xe2)],''),path_1[_0x3524f4(0xcb)][_0x3524f4(0xdc)](_0x55e84c));if(_0x2d231b[_0x3524f4(0xdb)]>0x2)return _0x2d231b[_0x2d231b['length']-0x2]+'/'+_0x59c9ab;return _0x59c9ab;}exports[a153_0xa49881(0xf5)]=extractFilenameFromPath;function isParentComponent({type:_0x4d9543}){const _0x30c08b=a153_0xa49881;return parent_xml_types_1['default'][_0x30c08b(0xd0)](_0x4d9543);}exports['isParentComponent']=isParentComponent;function isParentComponentFile(_0x4d06b7){const _0x248348=a153_0xa49881,_0x153a22=path_1[_0x248348(0xcb)][_0x248348(0xec)](_0x4d06b7);return Object[_0x248348(0xe5)](parent_xml_types_map_1[_0x248348(0xcb)])[_0x248348(0xf9)](_0xa3d91=>_0x153a22['dir'][_0x248348(0x10a)](_0xa3d91));}exports['isParentComponentFile']=isParentComponentFile;function calculateCRC32(_0x58d3ed){const _0xf308c8=a153_0xa49881,_0x34707b=Object[_0xf308c8(0x10b)](_0x58d3ed[_0xf308c8(0xe0)])['sort']();switch(_0x34707b[_0xf308c8(0xdb)]){case 0x1:{const [_0x419cfa]=_0x34707b,_0x2a683f=_0x58d3ed[_0xf308c8(0xe0)][_0x419cfa];return crc_32_1[_0xf308c8(0xcb)]['str'](_0x2a683f[_0xf308c8(0xd4)]('utf-8'),0x20)[_0xf308c8(0xd4)]();}case 0x2:{const [_0x43f84f,_0x58f790]=_0x34707b,_0x24f14d=_0x58d3ed['files'][_0x43f84f],_0x2985e0=_0x58d3ed['files'][_0x58f790];return crc_32_1['default']['str'](_0x24f14d[_0xf308c8(0xd4)]('utf-8'),0x20)[_0xf308c8(0xd4)]()+'\x20'+crc_32_1[_0xf308c8(0xcb)][_0xf308c8(0x10e)](_0x2985e0[_0xf308c8(0xd4)](_0xf308c8(0x105)),0x20)[_0xf308c8(0xd4)]();}default:{let _0x2c3287=0x0;if(_0x34707b[_0xf308c8(0xdb)]>0x0)_0x2c3287=crc_32_1[_0xf308c8(0xcb)]['str'](_0x58d3ed['files'][_0x34707b[0x0]]['toString'](_0xf308c8(0x105)),0x20);for(let _0x5e0cf0=0x1;_0x5e0cf0<_0x34707b['length'];_0x5e0cf0++){const _0xc490ee=crc_32_1['default'][_0xf308c8(0x10e)](_0x58d3ed[_0xf308c8(0xe0)][_0x34707b[_0x5e0cf0]][_0xf308c8(0xd4)](_0xf308c8(0x105)),0x20);_0x2c3287=Math['round']((_0xc490ee+_0x2c3287)/0x2);}return _0x2c3287['toString']();}}}exports['calculateCRC32']=calculateCRC32;function createChildComponentsFromParent(_0x21422a,_0x27fa8c,_0x179823){const _0x43ae10=a153_0xa49881,_0x1de906=[];for(const _0x25e749 of _0x179823){const _0x270aaf=xml_v2_1[_0x43ae10(0xe8)]['addChildNode'](xml_v2_1['XmlV2'][_0x43ae10(0xcf)](_0x27fa8c),_0x25e749[_0x43ae10(0xce)],_0x25e749['nodeData']),_0x4d285c={};_0x4d285c['filePath']=_0x21422a[_0x43ae10(0xd9)],_0x4d285c['type']=getChildComponentTypeByChildNodeName(_0x25e749[_0x43ae10(0xce)]),_0x21422a['type']===_0x43ae10(0xeb)?_0x4d285c['name']=_0x25e749[_0x43ae10(0xfd)][_0x43ae10(0xe9)]:_0x4d285c['name']=_0x21422a[_0x43ae10(0xf1)]+'.'+_0x25e749[_0x43ae10(0xfd)][_0x43ae10(0xe9)],_0x4d285c['files']={[Object[_0x43ae10(0x10b)](_0x21422a['files'])[0x0]]:Buffer[_0x43ae10(0xe1)](xml_v2_1['XmlV2']['convertToString'](_0x270aaf,![]))},_0x4d285c[_0x43ae10(0xd5)]=calculateCRC32(_0x4d285c),_0x1de906['push'](_0x4d285c);}return _0x1de906;}exports[a153_0xa49881(0x10d)]=createChildComponentsFromParent;function a153_0x3af6(_0x55a01b,_0x165ceb){const _0x42d2a1=a153_0x4d7b();return a153_0x3af6=function(_0x41dcfa,_0xd1e21b){_0x41dcfa=_0x41dcfa-0xcb;let _0x4d7ba3=_0x42d2a1[_0x41dcfa];return _0x4d7ba3;},a153_0x3af6(_0x55a01b,_0x165ceb);}function extractFileNameFromFiles({files:_0x23224f}){const _0xb1fe4d=a153_0xa49881;var _0x2ae034;const _0x1de9ae=Object[_0xb1fe4d(0x10b)](_0x23224f);return((_0x2ae034=_0x1de9ae[0x0])===null||_0x2ae034===void 0x0?void 0x0:_0x2ae034['replace'](constants_1['META_XML_EXTENSION'],''))||'';}exports['extractFileNameFromFiles']=extractFileNameFromFiles;async function extractComponentTypeFromFiles({files:_0x359ee2}){const _0x2a7698=a153_0xa49881,_0x2bdf05=Object['keys'](_0x359ee2),_0x10d5e7=_0x2bdf05[_0x2a7698(0xf8)](_0x21a005=>_0x21a005[_0x2a7698(0x10a)](constants_1[_0x2a7698(0xe2)]))||_0x2bdf05[0x0];try{const _0x5a4c2c=await xml_v2_1[_0x2a7698(0xe8)]['parse'](_0x359ee2[_0x10d5e7][_0x2a7698(0xd4)]('utf-8')),_0x373c50=Object['keys'](_0x5a4c2c)[0x0];if(!_0x373c50)throw new Error();return _0x373c50;}catch(_0x3b4055){throw new Error('Cannot\x20identify\x20component\x20type.\x20At\x20file\x20['+_0x2bdf05['indexOf'](_0x10d5e7)+_0x2a7698(0xde)+_0x2bdf05[_0x2a7698(0xf3)](',\x20')+')');}}function a153_0x4d7b(){const _0x50831b=['convertToCleanPaths','createChildComponentsFromParent','str','default','readFilesByFilename','relative','nodeName','createEmptyRootNodeFrom','includes','939664OKzmYk','8172LyqshM','filter','toString','crc','__esModule','6MSyQdM','search','filePath','621378eGsstw','length','extname','468423wLclNZ',']\x20index\x20in\x20(','path','files','from','META_XML_EXTENSION','replace','../data/parent-xml-types-map','values','__importDefault','../data/parent-xml-types','XmlV2','fullName','(((.+)+)+)+$','CustomLabels','parse','../../internal/fs.internal','extractFileNameFromFiles','defineProperty','3940VGqija','name','basename','join','constructor','extractFilenameFromPath','match','sep','find','some','355876EPJvPM','filterParserPaths','calculateCRC32','nodeData','getChildComponentTypeByChildNodeName','66486AJYxOM','readDir','extractComponentTypeFromFiles','1573555UvQIfO','map','Unknown\x20child\x20type\x20for\x20','utf-8','../data/child-types-map','./xml-v2','3gVZefz','dirname','endsWith','keys'];a153_0x4d7b=function(){return _0x50831b;};return a153_0x4d7b();}exports['extractComponentTypeFromFiles']=extractComponentTypeFromFiles;async function readFilesByFilename(_0x355a8a,_0x339477){const _0x49ed83=a153_0xa49881,_0x5b571a=path_1[_0x49ed83(0xcb)][_0x49ed83(0x109)](_0x355a8a),_0x3ba8e4=path_1[_0x49ed83(0xcb)][_0x49ed83(0xf3)](_0x339477,_0x5b571a),_0x82e814=await fs_internal_1['FS'][_0x49ed83(0x100)](_0x3ba8e4,!![]),_0x30d126=_0x82e814[_0x49ed83(0x103)](_0x36ecc0=>path_1[_0x49ed83(0xcb)][_0x49ed83(0xcd)](_0x339477,_0x36ecc0)),_0x49b428=new RegExp('^'+_0x355a8a+'[./-]{1}');return _0x30d126[_0x49ed83(0xd3)](_0x37568c=>_0x37568c[_0x49ed83(0xf6)](_0x49b428));}exports[a153_0xa49881(0xcc)]=readFilesByFilename;