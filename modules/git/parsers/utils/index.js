const a152_0x2bda5e=a152_0x1653;(function(_0x4c7b77,_0x40a9b7){const _0x3b816c=a152_0x1653,_0x3ed2a7=_0x4c7b77();while(!![]){try{const _0x10e18e=-parseInt(_0x3b816c(0x105))/0x1*(parseInt(_0x3b816c(0xef))/0x2)+-parseInt(_0x3b816c(0x117))/0x3*(-parseInt(_0x3b816c(0x11a))/0x4)+parseInt(_0x3b816c(0xd9))/0x5+parseInt(_0x3b816c(0xe5))/0x6+parseInt(_0x3b816c(0xd2))/0x7*(parseInt(_0x3b816c(0x103))/0x8)+-parseInt(_0x3b816c(0xe3))/0x9*(-parseInt(_0x3b816c(0xff))/0xa)+-parseInt(_0x3b816c(0xf8))/0xb;if(_0x10e18e===_0x40a9b7)break;else _0x3ed2a7['push'](_0x3ed2a7['shift']());}catch(_0x21fd6d){_0x3ed2a7['push'](_0x3ed2a7['shift']());}}}(a152_0x37de,0xb358f));const a152_0xbe4592=(function(){let _0x4487d0=!![];return function(_0x36f53a,_0x6ac0e2){const _0x1fbdce=_0x4487d0?function(){const _0x2d1595=a152_0x1653;if(_0x6ac0e2){const _0x2e7ca2=_0x6ac0e2[_0x2d1595(0xdc)](_0x36f53a,arguments);return _0x6ac0e2=null,_0x2e7ca2;}}:function(){};return _0x4487d0=![],_0x1fbdce;};}()),a152_0x1b8c3e=a152_0xbe4592(this,function(){const _0x4eb5d9=a152_0x1653;return a152_0x1b8c3e[_0x4eb5d9(0xfb)]()[_0x4eb5d9(0xfa)](_0x4eb5d9(0xf5))[_0x4eb5d9(0xfb)]()['constructor'](a152_0x1b8c3e)['search'](_0x4eb5d9(0xf5));});a152_0x1b8c3e();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3ef589){return _0x3ef589&&_0x3ef589['__esModule']?_0x3ef589:{'default':_0x3ef589};};Object[a152_0x2bda5e(0xda)](exports,a152_0x2bda5e(0x10a),{'value':!![]}),exports[a152_0x2bda5e(0xf3)]=exports[a152_0x2bda5e(0x106)]=exports[a152_0x2bda5e(0xed)]=exports[a152_0x2bda5e(0xd7)]=exports[a152_0x2bda5e(0x10f)]=exports[a152_0x2bda5e(0xd6)]=exports[a152_0x2bda5e(0x119)]=exports[a152_0x2bda5e(0xe2)]=exports[a152_0x2bda5e(0xe9)]=exports[a152_0x2bda5e(0x104)]=exports['convertToCleanPaths']=void 0x0;function a152_0x37de(){const _0x812039=['crc-32','addChildNode','endsWith','extractFileNameFromFiles','find','20902oYKXvv','utf-8','type','join','readFilesByFilename','relative','(((.+)+)+)+$','fullName','replace','18934399ECAJfo','from','search','toString','convertToCleanPaths','[./-]{1}','str','40CKJvdK','entries','some','push','4888uthcOp','filterParserPaths','78LxBfWn','extractComponentTypeFromFiles','../data/child-types-map','length','./xml-v2','__esModule','XmlV2','readDir','META_XML_EXTENSION','map','calculateCRC32','../data/parent-xml-types-map',']\x20index\x20in\x20(','name','sort','indexOf','crc','round','69VCxCDl','sep','isParentComponent','47332NiOPNq','nodeName','11459PNZFHx','nodeData','../data/parent-xml-types','default','isParentComponentFile','createChildComponentsFromParent','filePath','6998230pMvdMw','defineProperty','../../internal/fs.internal','apply','parse','Cannot\x20identify\x20component\x20type.\x20At\x20file\x20[','extname','filter','keys','extractFilenameFromPath','1208997XFpDQw','basename','370500jBVJHc','split','includes','files','getChildComponentTypeByChildNodeName'];a152_0x37de=function(){return _0x812039;};return a152_0x37de();}const constants_1=require('../../../../constants'),path_1=__importDefault(require('path')),child_types_map_1=__importDefault(require(a152_0x2bda5e(0x107))),parent_xml_types_1=__importDefault(require(a152_0x2bda5e(0xd4))),xml_v2_1=require(a152_0x2bda5e(0x109)),crc_32_1=__importDefault(require(a152_0x2bda5e(0xea))),parent_xml_types_map_1=__importDefault(require(a152_0x2bda5e(0x110))),fs_internal_1=require(a152_0x2bda5e(0xdb));function convertToCleanPaths(_0x2e7bc9){const _0x25d656=a152_0x2bda5e,_0x21b573=_0x2e7bc9[_0x25d656(0xe0)](_0x10c60c=>_0x10c60c[_0x25d656(0xec)](constants_1[_0x25d656(0x10d)])),_0x23929a=_0x21b573[_0x25d656(0x10e)](_0x372a09=>_0x372a09[_0x25d656(0xf7)](new RegExp(constants_1['META_XML_EXTENSION']+'$'),'')),_0x186fb8=_0x2e7bc9[_0x25d656(0xe0)](_0x11bec0=>!_0x21b573[_0x25d656(0xe7)](_0x11bec0));return[...new Set([..._0x186fb8,..._0x23929a])];}exports[a152_0x2bda5e(0xfc)]=convertToCleanPaths;function filterParserPaths(_0x116233){const _0x3200a5=a152_0x2bda5e,_0x238160=[...new Set(_0x116233['filter'](_0x8ee585=>!_0x8ee585[_0x3200a5(0xec)](constants_1[_0x3200a5(0x10d)])))],_0x1c95fe=_0x116233[_0x3200a5(0xe0)](_0x58a262=>_0x58a262[_0x3200a5(0xec)](constants_1[_0x3200a5(0x10d)]))['filter'](_0x6483e=>!_0x238160['includes'](_0x6483e[_0x3200a5(0xf7)](constants_1[_0x3200a5(0x10d)],'')));return[..._0x1c95fe,..._0x238160];}exports[a152_0x2bda5e(0x104)]=filterParserPaths;function getChildComponentTypeByChildNodeName(_0x1531e9){const _0x571a67=a152_0x2bda5e,_0x1ee60e=Object[_0x571a67(0x100)](child_types_map_1['default'])[_0x571a67(0xee)](([_0x2c46d0,_0x47b389])=>_0x47b389===_0x1531e9);if(!_0x1ee60e)throw new Error('Unknown\x20child\x20type\x20for\x20'+_0x1531e9);return _0x1ee60e[0x0];}exports['getChildComponentTypeByChildNodeName']=getChildComponentTypeByChildNodeName;function extractFilenameFromPath(_0x27c73b){const _0x1644dd=a152_0x2bda5e,_0xe708e9=_0x27c73b[_0x1644dd(0xe6)](path_1[_0x1644dd(0xd5)][_0x1644dd(0x118)]),_0x105f8f=path_1[_0x1644dd(0xd5)][_0x1644dd(0xe4)](_0x27c73b[_0x1644dd(0xf7)](constants_1[_0x1644dd(0x10d)],''),path_1[_0x1644dd(0xd5)][_0x1644dd(0xdf)](_0x27c73b));if(_0xe708e9[_0x1644dd(0x108)]>0x2)return _0xe708e9[_0xe708e9[_0x1644dd(0x108)]-0x2]+'/'+_0x105f8f;return _0x105f8f;}exports[a152_0x2bda5e(0xe2)]=extractFilenameFromPath;function isParentComponent({type:_0x3715c9}){const _0x4f8200=a152_0x2bda5e;return parent_xml_types_1[_0x4f8200(0xd5)]['includes'](_0x3715c9);}exports[a152_0x2bda5e(0x119)]=isParentComponent;function isParentComponentFile(_0x183496){const _0x30d624=a152_0x2bda5e,_0x2b83b9=path_1[_0x30d624(0xd5)][_0x30d624(0xdd)](_0x183496);return Object['values'](parent_xml_types_map_1['default'])[_0x30d624(0x101)](_0x375cda=>_0x2b83b9['dir'][_0x30d624(0xec)](_0x375cda));}exports[a152_0x2bda5e(0xd6)]=isParentComponentFile;function calculateCRC32(_0x3fe15d){const _0x3d3487=a152_0x2bda5e,_0x53aca4=Object[_0x3d3487(0xe1)](_0x3fe15d[_0x3d3487(0xe8)])[_0x3d3487(0x113)]();switch(_0x53aca4[_0x3d3487(0x108)]){case 0x1:{const [_0x4fb271]=_0x53aca4,_0x1a67b4=_0x3fe15d[_0x3d3487(0xe8)][_0x4fb271];return crc_32_1['default']['str'](_0x1a67b4[_0x3d3487(0xfb)](_0x3d3487(0xf0)),0x20)[_0x3d3487(0xfb)]();}case 0x2:{const [_0x14424b,_0x5120df]=_0x53aca4,_0x39c649=_0x3fe15d[_0x3d3487(0xe8)][_0x14424b],_0x33bf84=_0x3fe15d[_0x3d3487(0xe8)][_0x5120df];return crc_32_1[_0x3d3487(0xd5)][_0x3d3487(0xfe)](_0x39c649[_0x3d3487(0xfb)](_0x3d3487(0xf0)),0x20)[_0x3d3487(0xfb)]()+'\x20'+crc_32_1[_0x3d3487(0xd5)][_0x3d3487(0xfe)](_0x33bf84[_0x3d3487(0xfb)](_0x3d3487(0xf0)),0x20)[_0x3d3487(0xfb)]();}default:{let _0x4aee40=0x0;if(_0x53aca4['length']>0x0)_0x4aee40=crc_32_1['default'][_0x3d3487(0xfe)](_0x3fe15d[_0x3d3487(0xe8)][_0x53aca4[0x0]][_0x3d3487(0xfb)](_0x3d3487(0xf0)),0x20);for(let _0x23ad0f=0x1;_0x23ad0f<_0x53aca4[_0x3d3487(0x108)];_0x23ad0f++){const _0xcb154d=crc_32_1[_0x3d3487(0xd5)][_0x3d3487(0xfe)](_0x3fe15d[_0x3d3487(0xe8)][_0x53aca4[_0x23ad0f]][_0x3d3487(0xfb)](_0x3d3487(0xf0)),0x20);_0x4aee40=Math[_0x3d3487(0x116)]((_0xcb154d+_0x4aee40)/0x2);}return _0x4aee40[_0x3d3487(0xfb)]();}}}exports[a152_0x2bda5e(0x10f)]=calculateCRC32;function createChildComponentsFromParent(_0x2bbfea,_0xf17cee,_0x103f10){const _0xecc5=a152_0x2bda5e,_0x568440=[];for(const _0x4a448c of _0x103f10){const _0x564e78=xml_v2_1[_0xecc5(0x10b)][_0xecc5(0xeb)](xml_v2_1[_0xecc5(0x10b)]['createEmptyRootNodeFrom'](_0xf17cee),_0x4a448c['nodeName'],_0x4a448c[_0xecc5(0xd3)]),_0x507b6c={};_0x507b6c['filePath']=_0x2bbfea[_0xecc5(0xd8)],_0x507b6c[_0xecc5(0xf1)]=getChildComponentTypeByChildNodeName(_0x4a448c[_0xecc5(0xd1)]),_0x2bbfea[_0xecc5(0xf1)]==='CustomLabels'?_0x507b6c['name']=_0x4a448c[_0xecc5(0xd3)][_0xecc5(0xf6)]:_0x507b6c[_0xecc5(0x112)]=_0x2bbfea['name']+'.'+_0x4a448c[_0xecc5(0xd3)][_0xecc5(0xf6)],_0x507b6c['files']={[Object[_0xecc5(0xe1)](_0x2bbfea['files'])[0x0]]:Buffer[_0xecc5(0xf9)](xml_v2_1[_0xecc5(0x10b)]['convertToString'](_0x564e78,![]))},_0x507b6c[_0xecc5(0x115)]=calculateCRC32(_0x507b6c),_0x568440[_0xecc5(0x102)](_0x507b6c);}return _0x568440;}exports['createChildComponentsFromParent']=createChildComponentsFromParent;function extractFileNameFromFiles({files:_0x3d22a7}){const _0x223efd=a152_0x2bda5e;var _0x4c25f9;const _0x31a2cc=Object['keys'](_0x3d22a7);return((_0x4c25f9=_0x31a2cc[0x0])===null||_0x4c25f9===void 0x0?void 0x0:_0x4c25f9[_0x223efd(0xf7)](constants_1[_0x223efd(0x10d)],''))||'';}exports[a152_0x2bda5e(0xed)]=extractFileNameFromFiles;async function extractComponentTypeFromFiles({files:_0x31350b}){const _0xc3908d=a152_0x2bda5e,_0x4def49=Object[_0xc3908d(0xe1)](_0x31350b),_0x58a603=_0x4def49[_0xc3908d(0xee)](_0x41be2c=>_0x41be2c[_0xc3908d(0xec)](constants_1[_0xc3908d(0x10d)]))||_0x4def49[0x0];try{const _0x4d38ac=await xml_v2_1['XmlV2'][_0xc3908d(0xdd)](_0x31350b[_0x58a603][_0xc3908d(0xfb)](_0xc3908d(0xf0))),_0x2712bd=Object[_0xc3908d(0xe1)](_0x4d38ac)[0x0];if(!_0x2712bd)throw new Error();return _0x2712bd;}catch(_0x1a94dd){throw new Error(_0xc3908d(0xde)+_0x4def49[_0xc3908d(0x114)](_0x58a603)+_0xc3908d(0x111)+_0x4def49[_0xc3908d(0xf2)](',\x20')+')');}}exports[a152_0x2bda5e(0x106)]=extractComponentTypeFromFiles;function a152_0x1653(_0x3608bb,_0x1d37c2){const _0x350e57=a152_0x37de();return a152_0x1653=function(_0x1b8c3e,_0xbe4592){_0x1b8c3e=_0x1b8c3e-0xd1;let _0x37ded1=_0x350e57[_0x1b8c3e];return _0x37ded1;},a152_0x1653(_0x3608bb,_0x1d37c2);}async function readFilesByFilename(_0x370137,_0x25d369){const _0x33f0ef=a152_0x2bda5e,_0x5849a2=path_1[_0x33f0ef(0xd5)]['dirname'](_0x370137),_0x50eda9=path_1[_0x33f0ef(0xd5)]['join'](_0x25d369,_0x5849a2),_0x587a2f=await fs_internal_1['FS'][_0x33f0ef(0x10c)](_0x50eda9,!![]),_0x109e89=_0x587a2f[_0x33f0ef(0x10e)](_0x5ae1d7=>path_1[_0x33f0ef(0xd5)][_0x33f0ef(0xf4)](_0x25d369,_0x5ae1d7)),_0x130119=new RegExp('^'+_0x370137+_0x33f0ef(0xfd));return _0x109e89['filter'](_0x5c34fa=>_0x5c34fa['match'](_0x130119));}exports[a152_0x2bda5e(0xf3)]=readFilesByFilename;