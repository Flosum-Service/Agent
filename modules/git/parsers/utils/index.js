const a120_0x39b007=a120_0x1fc6;(function(_0x11a48a,_0x68901a){const _0x3ca8c7=a120_0x1fc6,_0x1f9cfb=_0x11a48a();while(!![]){try{const _0x37bbac=-parseInt(_0x3ca8c7(0x10c))/0x1*(parseInt(_0x3ca8c7(0xea))/0x2)+parseInt(_0x3ca8c7(0xe8))/0x3+parseInt(_0x3ca8c7(0xfe))/0x4+parseInt(_0x3ca8c7(0xf3))/0x5+-parseInt(_0x3ca8c7(0xfd))/0x6*(parseInt(_0x3ca8c7(0xf7))/0x7)+parseInt(_0x3ca8c7(0xf1))/0x8*(-parseInt(_0x3ca8c7(0x100))/0x9)+-parseInt(_0x3ca8c7(0x125))/0xa*(-parseInt(_0x3ca8c7(0x10a))/0xb);if(_0x37bbac===_0x68901a)break;else _0x1f9cfb['push'](_0x1f9cfb['shift']());}catch(_0x469a1b){_0x1f9cfb['push'](_0x1f9cfb['shift']());}}}(a120_0x2ddf,0xdfb88));const a120_0x1f0235=(function(){let _0x5b7638=!![];return function(_0x11ec20,_0x4019fe){const _0x165b0e=_0x5b7638?function(){if(_0x4019fe){const _0x38e0b8=_0x4019fe['apply'](_0x11ec20,arguments);return _0x4019fe=null,_0x38e0b8;}}:function(){};return _0x5b7638=![],_0x165b0e;};}()),a120_0x507d56=a120_0x1f0235(this,function(){const _0x546621=a120_0x1fc6;return a120_0x507d56[_0x546621(0xe7)]()[_0x546621(0x109)](_0x546621(0x11e))[_0x546621(0xe7)]()[_0x546621(0x102)](a120_0x507d56)[_0x546621(0x109)](_0x546621(0x11e));});a120_0x507d56();'use strict';var __importDefault=this&&this[a120_0x39b007(0x11f)]||function(_0xd45aa1){return _0xd45aa1&&_0xd45aa1['__esModule']?_0xd45aa1:{'default':_0xd45aa1};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['readFilesByFilename']=exports[a120_0x39b007(0xfa)]=exports['extractFileNameFromFiles']=exports[a120_0x39b007(0x11a)]=exports['calculateCRC32']=exports[a120_0x39b007(0x103)]=exports[a120_0x39b007(0xe3)]=exports['extractFilenameFromPath']=exports['getChildComponentTypeByChildNodeName']=exports['filterParserPaths']=exports[a120_0x39b007(0xfb)]=void 0x0;const constants_1=require(a120_0x39b007(0x113)),path_1=__importDefault(require(a120_0x39b007(0xe9))),child_types_map_1=__importDefault(require(a120_0x39b007(0x10b))),parent_xml_types_1=__importDefault(require(a120_0x39b007(0x106))),xml_1=require('./xml'),crc_32_1=__importDefault(require('crc-32')),parent_xml_types_map_1=__importDefault(require(a120_0x39b007(0x119))),fs_internal_1=require('../../internal/fs.internal');function convertToCleanPaths(_0x11e26a){const _0x438ab0=a120_0x39b007,_0x3a586f=_0x11e26a[_0x438ab0(0xf5)](_0xbf058f=>_0xbf058f[_0x438ab0(0xee)](constants_1['META_XML_EXTENSION'])),_0x20b8e4=_0x3a586f[_0x438ab0(0x117)](_0x281e48=>_0x281e48[_0x438ab0(0xf4)](new RegExp(constants_1[_0x438ab0(0x116)]+'$'),'')),_0x572403=_0x11e26a[_0x438ab0(0xf5)](_0x3bdc5f=>!_0x3a586f[_0x438ab0(0x104)](_0x3bdc5f));return[...new Set([..._0x572403,..._0x20b8e4])];}exports[a120_0x39b007(0xfb)]=convertToCleanPaths;function filterParserPaths(_0x5cfd86){const _0x3a1a1a=a120_0x39b007,_0x4c911d=[...new Set(_0x5cfd86[_0x3a1a1a(0xf5)](_0x42355f=>!_0x42355f[_0x3a1a1a(0xee)](constants_1[_0x3a1a1a(0x116)])))],_0x11ab22=_0x5cfd86[_0x3a1a1a(0xf5)](_0x41fe1f=>_0x41fe1f[_0x3a1a1a(0xee)](constants_1[_0x3a1a1a(0x116)]))[_0x3a1a1a(0xf5)](_0xe8971b=>!_0x4c911d[_0x3a1a1a(0x104)](_0xe8971b[_0x3a1a1a(0xf4)](constants_1[_0x3a1a1a(0x116)],'')));return[..._0x11ab22,..._0x4c911d];}exports[a120_0x39b007(0x112)]=filterParserPaths;function getChildComponentTypeByChildNodeName(_0x5b4cc6){const _0x267a61=a120_0x39b007,_0x136bb3=Object['entries'](child_types_map_1[_0x267a61(0x10e)])[_0x267a61(0x122)](([_0x1383c0,_0x3281f4])=>_0x3281f4===_0x5b4cc6);if(!_0x136bb3)throw new Error(_0x267a61(0x121)+_0x5b4cc6);return _0x136bb3[0x0];}exports[a120_0x39b007(0xe6)]=getChildComponentTypeByChildNodeName;function a120_0x2ddf(){const _0x1761c9=['5848318DvVBmP','nodeName','fullName','extractComponentTypeFromFiles','convertToCleanPaths','dirname','6bwlCIU','4144760BlklSl','nodeData','358254hSqaEV','push','constructor','isParentComponentFile','includes','CustomLabels','../data/parent-xml-types','files','type','search','20185hZbhmj','../data/child-types-map','113bjcmpe','extractFilenameFromPath','default','addChildNode','join','dir','filterParserPaths','../../../../constants','relative','round','META_XML_EXTENSION','map','createEmptyRootNodeFrom','../data/parent-xml-types-map','createChildComponentsFromParent','sort','length','Xml','(((.+)+)+)+$','__importDefault','convertToString','Unknown\x20child\x20type\x20for\x20','find','[./-]{1}','str','680aJUQYV','name','utf-8','some','parse','isParentComponent','indexOf','extname','getChildComponentTypeByChildNodeName','toString','1789827EFtRby','path','7698nPKVwT','sep','keys','split','endsWith','match','from','184LVAojC','filePath','6723650zNujKo','replace','filter','values'];a120_0x2ddf=function(){return _0x1761c9;};return a120_0x2ddf();}function extractFilenameFromPath(_0x5723a1){const _0x2299e7=a120_0x39b007,_0x2c0b74=_0x5723a1[_0x2299e7(0xed)](path_1[_0x2299e7(0x10e)][_0x2299e7(0xeb)]),_0x5b14d6=path_1[_0x2299e7(0x10e)]['basename'](_0x5723a1[_0x2299e7(0xf4)](constants_1[_0x2299e7(0x116)],''),path_1['default'][_0x2299e7(0xe5)](_0x5723a1));if(_0x2c0b74[_0x2299e7(0x11c)]>0x2)return _0x2c0b74[_0x2c0b74[_0x2299e7(0x11c)]-0x2]+'/'+_0x5b14d6;return _0x5b14d6;}exports[a120_0x39b007(0x10d)]=extractFilenameFromPath;function isParentComponent({type:_0x2de029}){return parent_xml_types_1['default']['includes'](_0x2de029);}exports[a120_0x39b007(0xe3)]=isParentComponent;function isParentComponentFile(_0x55b5ed){const _0x4df0c2=a120_0x39b007,_0x245516=path_1[_0x4df0c2(0x10e)][_0x4df0c2(0xe2)](_0x55b5ed);return Object[_0x4df0c2(0xf6)](parent_xml_types_map_1[_0x4df0c2(0x10e)])[_0x4df0c2(0x128)](_0x435218=>_0x245516[_0x4df0c2(0x111)][_0x4df0c2(0xee)](_0x435218));}exports[a120_0x39b007(0x103)]=isParentComponentFile;function calculateCRC32(_0x386339){const _0x4a4a5b=a120_0x39b007,_0x55d52f=Object[_0x4a4a5b(0xec)](_0x386339[_0x4a4a5b(0x107)])[_0x4a4a5b(0x11b)]();switch(_0x55d52f[_0x4a4a5b(0x11c)]){case 0x1:{const [_0x22c262]=_0x55d52f,_0x3ba1cb=_0x386339[_0x4a4a5b(0x107)][_0x22c262];return crc_32_1[_0x4a4a5b(0x10e)][_0x4a4a5b(0x124)](_0x3ba1cb[_0x4a4a5b(0xe7)](_0x4a4a5b(0x127)),0x20)[_0x4a4a5b(0xe7)]();}case 0x2:{const [_0xfa9682,_0x24aa65]=_0x55d52f,_0x55475e=_0x386339['files'][_0xfa9682],_0xea8b57=_0x386339[_0x4a4a5b(0x107)][_0x24aa65];return crc_32_1['default']['str'](_0x55475e['toString'](_0x4a4a5b(0x127)),0x20)['toString']()+'\x20'+crc_32_1[_0x4a4a5b(0x10e)][_0x4a4a5b(0x124)](_0xea8b57[_0x4a4a5b(0xe7)](_0x4a4a5b(0x127)),0x20)[_0x4a4a5b(0xe7)]();}default:{let _0x301266=0x0;if(_0x55d52f[_0x4a4a5b(0x11c)]>0x0)_0x301266=crc_32_1[_0x4a4a5b(0x10e)][_0x4a4a5b(0x124)](_0x386339['files'][_0x55d52f[0x0]][_0x4a4a5b(0xe7)](_0x4a4a5b(0x127)),0x20);for(let _0x5f5506=0x1;_0x5f5506<_0x55d52f[_0x4a4a5b(0x11c)];_0x5f5506++){const _0x16f9f2=crc_32_1[_0x4a4a5b(0x10e)][_0x4a4a5b(0x124)](_0x386339[_0x4a4a5b(0x107)][_0x55d52f[_0x5f5506]][_0x4a4a5b(0xe7)](_0x4a4a5b(0x127)),0x20);_0x301266=Math[_0x4a4a5b(0x115)]((_0x16f9f2+_0x301266)/0x2);}return _0x301266['toString']();}}}exports['calculateCRC32']=calculateCRC32;function a120_0x1fc6(_0x565c10,_0x3558f4){const _0xb63a0a=a120_0x2ddf();return a120_0x1fc6=function(_0x507d56,_0x1f0235){_0x507d56=_0x507d56-0xe2;let _0x2ddf78=_0xb63a0a[_0x507d56];return _0x2ddf78;},a120_0x1fc6(_0x565c10,_0x3558f4);}function createChildComponentsFromParent(_0x2bbbd2,_0xd26fb3,_0x88669e){const _0x1980c4=a120_0x39b007,_0xd7b7f4=[];for(const _0x56955b of _0x88669e){const _0x23ae0f=xml_1[_0x1980c4(0x11d)][_0x1980c4(0x10f)](xml_1[_0x1980c4(0x11d)][_0x1980c4(0x118)](_0xd26fb3),_0x56955b[_0x1980c4(0xf8)],_0x56955b[_0x1980c4(0xff)]),_0x4b0523={};_0x4b0523['filePath']=_0x2bbbd2[_0x1980c4(0xf2)],_0x4b0523[_0x1980c4(0x108)]=getChildComponentTypeByChildNodeName(_0x56955b[_0x1980c4(0xf8)]),_0x2bbbd2[_0x1980c4(0x108)]===_0x1980c4(0x105)?_0x4b0523[_0x1980c4(0x126)]=_0x56955b['nodeData'][_0x1980c4(0xf9)][0x0]:_0x4b0523[_0x1980c4(0x126)]=_0x2bbbd2[_0x1980c4(0x126)]+'.'+_0x56955b['nodeData']['fullName'][0x0],_0x4b0523[_0x1980c4(0x107)]={[Object[_0x1980c4(0xec)](_0x2bbbd2['files'])[0x0]]:Buffer[_0x1980c4(0xf0)](xml_1[_0x1980c4(0x11d)][_0x1980c4(0x120)](_0x23ae0f,![]))},_0x4b0523['crc']=calculateCRC32(_0x4b0523),_0xd7b7f4[_0x1980c4(0x101)](_0x4b0523);}return _0xd7b7f4;}exports[a120_0x39b007(0x11a)]=createChildComponentsFromParent;function extractFileNameFromFiles({files:_0xc993b3}){const _0xa8f3f4=a120_0x39b007;var _0xedd62b;const _0x14f154=Object[_0xa8f3f4(0xec)](_0xc993b3);return((_0xedd62b=_0x14f154[0x0])===null||_0xedd62b===void 0x0?void 0x0:_0xedd62b[_0xa8f3f4(0xf4)](constants_1[_0xa8f3f4(0x116)],''))||'';}exports['extractFileNameFromFiles']=extractFileNameFromFiles;async function extractComponentTypeFromFiles({files:_0x4f120b}){const _0x48835e=a120_0x39b007,_0x47808a=Object[_0x48835e(0xec)](_0x4f120b),_0x534129=_0x47808a[_0x48835e(0x122)](_0x5a688d=>_0x5a688d[_0x48835e(0xee)](constants_1[_0x48835e(0x116)]))||_0x47808a[0x0];try{const _0x1e0d19=await xml_1[_0x48835e(0x11d)][_0x48835e(0xe2)](_0x4f120b[_0x534129]['toString'](_0x48835e(0x127))),_0x43963c=Object[_0x48835e(0xec)](_0x1e0d19)[0x0];if(!_0x43963c)throw new Error();return _0x43963c;}catch(_0x4391f5){throw new Error('Cannot\x20identify\x20component\x20type.\x20At\x20file\x20['+_0x47808a[_0x48835e(0xe4)](_0x534129)+']\x20index\x20in\x20('+_0x47808a[_0x48835e(0x110)](',\x20')+')');}}exports[a120_0x39b007(0xfa)]=extractComponentTypeFromFiles;async function readFilesByFilename(_0x89d28e,_0x52bca4){const _0x2214c7=a120_0x39b007,_0x46c27a=path_1['default'][_0x2214c7(0xfc)](_0x89d28e),_0x2cb8be=path_1[_0x2214c7(0x10e)]['join'](_0x52bca4,_0x46c27a),_0x4676a2=await fs_internal_1['FS']['readDir'](_0x2cb8be,!![]),_0x2f230d=_0x4676a2[_0x2214c7(0x117)](_0x3892fa=>path_1[_0x2214c7(0x10e)][_0x2214c7(0x114)](_0x52bca4,_0x3892fa)),_0x43b1ad=new RegExp('^'+_0x89d28e+_0x2214c7(0x123));return _0x2f230d[_0x2214c7(0xf5)](_0x357d62=>_0x357d62[_0x2214c7(0xef)](_0x43b1ad));}exports['readFilesByFilename']=readFilesByFilename;