const a150_0x1bc317=a150_0x2351;(function(_0x170631,_0x2f2f5f){const _0x58fa88=a150_0x2351,_0x364a18=_0x170631();while(!![]){try{const _0x4a12ac=parseInt(_0x58fa88(0x1ce))/0x1+parseInt(_0x58fa88(0x1b7))/0x2+parseInt(_0x58fa88(0x1fb))/0x3+parseInt(_0x58fa88(0x1db))/0x4+parseInt(_0x58fa88(0x1be))/0x5+parseInt(_0x58fa88(0x1b6))/0x6*(-parseInt(_0x58fa88(0x200))/0x7)+-parseInt(_0x58fa88(0x1c2))/0x8;if(_0x4a12ac===_0x2f2f5f)break;else _0x364a18['push'](_0x364a18['shift']());}catch(_0x419f44){_0x364a18['push'](_0x364a18['shift']());}}}(a150_0x3234,0xb5c4b));const a150_0xa26353=(function(){let _0x32eeb8=!![];return function(_0x2638cd,_0x27d55b){const _0x4a2e4c=_0x32eeb8?function(){const _0x3c62c0=a150_0x2351;if(_0x27d55b){const _0x4e7165=_0x27d55b[_0x3c62c0(0x1f2)](_0x2638cd,arguments);return _0x27d55b=null,_0x4e7165;}}:function(){};return _0x32eeb8=![],_0x4a2e4c;};}()),a150_0x56b53c=a150_0xa26353(this,function(){const _0x208f0e=a150_0x2351;return a150_0x56b53c['toString']()[_0x208f0e(0x1e9)](_0x208f0e(0x1e4))[_0x208f0e(0x1ed)]()[_0x208f0e(0x1ba)](a150_0x56b53c)[_0x208f0e(0x1e9)](_0x208f0e(0x1e4));});a150_0x56b53c();function a150_0x3234(){const _0x524fb8=['readChildComponents','__importDefault','../../devops/utils/git-commit.utils','35086384ZJtsnT','includes','BUNDLED_FOLDERS_REGEXP','test','__esModule','type','endsWith','path','startsWith','filePath','files','waveTemplates','1338458OuSdpR','reduce','filter','getChildsByName','all','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','join','convertToCleanPaths','createChildComponentsFromParent','defineProperty','readComponentFiles','exists','\x22\x20not\x20found\x20in\x20\x22','4080160hAZbwT','crc','catch','WaveTemplateBundle','Settings','isSFDXProject','push','relative','../utils/xml','(((.+)+)+)+$','isDir','Component\x20\x22','default','calculateCRC32','search','isParentComponent','../utils','name','toString','readDir','META_EXPERIENCES_EXTENSION','logger','parse','apply','Logger','utf-8','META_EXTENSION','experiences','MDApiParser','readFile','Xml','-meta.xml','2609865MwyXWi','init','../data/folder-types','paths','extractFileNameFromFiles','28rDLBYn','../../../../core','464154LQmeQx','2925884CLnUrN','extname','values','constructor','../utils/crc32','readBundledFiles','dir','3741810UIqVKf'];a150_0x3234=function(){return _0x524fb8;};return a150_0x3234();}'use strict';var __importDefault=this&&this[a150_0x1bc317(0x1c0)]||function(_0x2b6e81){const _0x5d5525=a150_0x1bc317;return _0x2b6e81&&_0x2b6e81[_0x5d5525(0x1c6)]?_0x2b6e81:{'default':_0x2b6e81};};Object[a150_0x1bc317(0x1d7)](exports,a150_0x1bc317(0x1c6),{'value':!![]}),exports[a150_0x1bc317(0x1f7)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a150_0x1bc317(0x1eb)),path_1=require(a150_0x1bc317(0x1c9)),xml_1=require(a150_0x1bc317(0x1e3)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require(a150_0x1bc317(0x1b5)),git_commit_utils_1=require(a150_0x1bc317(0x1c1)),crc32_1=require(a150_0x1bc317(0x1bb)),folder_types_1=__importDefault(require(a150_0x1bc317(0x1fd))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a150_0x1bc317(0x1b9)](child_types_map_1[a150_0x1bc317(0x1e7)]);class MDApiParser{constructor(_0x2f8e52,_0x51305f,_0x3408e3){const _0x432528=a150_0x1bc317;this['dir']=_0x2f8e52,this[_0x432528(0x1e0)]=_0x3408e3,this['logger']=new core_1[(_0x432528(0x1f3))](MDApiParser[_0x432528(0x1ec)]),this[_0x432528(0x1f5)]=_0x432528(0x1fa),this['META_EXPERIENCES_EXTENSION']='.site-meta.xml',this[_0x432528(0x1fe)]=_0x51305f;}async[a150_0x1bc317(0x1bf)](_0x23f2c5){const _0x30781b=a150_0x1bc317;try{const _0x3dd276=await xml_1[_0x30781b(0x1f9)][_0x30781b(0x1f1)](Object[_0x30781b(0x1b9)](_0x23f2c5[_0x30781b(0x1cc)])[0x0][_0x30781b(0x1ed)](_0x30781b(0x1f4))),_0x16ddb6=CHILD_XML_KEYS[_0x30781b(0x1d0)](_0x133fe4=>xml_1[_0x30781b(0x1f9)]['hasChildNodes'](_0x3dd276,_0x133fe4))[_0x30781b(0x1cf)]((_0x2d4b34,_0xd358e0)=>[..._0x2d4b34,...xml_1['Xml'][_0x30781b(0x1d1)](_0x3dd276,_0xd358e0)],[]);return(0x0,utils_1[_0x30781b(0x1d6)])(_0x23f2c5,_0x3dd276,_0x16ddb6);}catch(_0x28fce6){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x23f2c5['name']+'\x20['+_0x23f2c5['type']+']');}}async[a150_0x1bc317(0x1bc)](_0x49a13b){const _0x8ddbc5=a150_0x1bc317,_0x549b22=(0x0,path_1[_0x8ddbc5(0x1d4)])(this['dir'],_0x49a13b),_0x78ac3=_0x49a13b+(_0x49a13b[_0x8ddbc5(0x1ca)](_0x8ddbc5(0x1f6))?this[_0x8ddbc5(0x1ef)]:this[_0x8ddbc5(0x1f5)]),_0x27a195=await fs_internal_1['FS'][_0x8ddbc5(0x1ee)](_0x549b22,!![]),_0x3f8a67=await fs_internal_1['FS'][_0x8ddbc5(0x1f8)]((0x0,path_1[_0x8ddbc5(0x1d4)])(this['dir'],_0x78ac3),!![])[_0x8ddbc5(0x1dd)](()=>null),_0x531377={};for(const _0xac5ba7 of _0x27a195){_0x531377[(0x0,path_1[_0x8ddbc5(0x1e2)])(this[_0x8ddbc5(0x1bd)],_0xac5ba7)]=await fs_internal_1['FS'][_0x8ddbc5(0x1f8)](_0xac5ba7,!![]);}return _0x3f8a67&&(_0x531377[(0x0,path_1[_0x8ddbc5(0x1e2)])(this[_0x8ddbc5(0x1bd)],_0x78ac3)]=_0x3f8a67),_0x531377;}async[a150_0x1bc317(0x1d8)](_0x30fbc3){const _0x22e78e=a150_0x1bc317;let _0x5a67bb=_0x30fbc3+this[_0x22e78e(0x1f5)];if(constants_1[_0x22e78e(0x1c4)][_0x22e78e(0x1c5)](_0x30fbc3))return this[_0x22e78e(0x1bc)](_0x30fbc3);if(await fs_internal_1['FS'][_0x22e78e(0x1e5)]((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x30fbc3))||await fs_internal_1['FS'][_0x22e78e(0x1d9)]((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x5a67bb))){const _0x114a49=await fs_internal_1['FS'][_0x22e78e(0x1f8)]((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x5a67bb),!![]),_0x30f14f=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x5a67bb]:_0x114a49}})[_0x22e78e(0x1dd)](()=>null);if(_0x30f14f&&folder_types_1['default'][_0x22e78e(0x1c3)](_0x30f14f))return{[_0x5a67bb]:await fs_internal_1['FS'][_0x22e78e(0x1f8)]((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x5a67bb),!![])};}if(!(0x0,path_1[_0x22e78e(0x1b8)])(_0x30fbc3)&&this[_0x22e78e(0x1e0)]){const _0x3ee815=_0x30fbc3['split']('/')[0x0],_0x305033=(await fs_internal_1['FS'][_0x22e78e(0x1ee)]((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x3ee815)))['find'](_0x2d0027=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x2d0027,(0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x30fbc3)));if(!_0x305033)throw new Error(_0x22e78e(0x1e6)+_0x30fbc3+_0x22e78e(0x1da)+_0x3ee815+'\x22');_0x30fbc3=(0x0,path_1[_0x22e78e(0x1e2)])(this[_0x22e78e(0x1bd)],_0x305033),_0x5a67bb=_0x30fbc3+this[_0x22e78e(0x1f5)];}const [_0x532fee,_0x96241a]=await Promise[_0x22e78e(0x1d2)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x22e78e(0x1d4)])(this[_0x22e78e(0x1bd)],_0x30fbc3),!![])[_0x22e78e(0x1dd)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0x5a67bb),!![])[_0x22e78e(0x1dd)](()=>null)]);return{..._0x532fee?{[_0x30fbc3]:_0x532fee}:{},..._0x96241a?{[_0x5a67bb]:_0x96241a}:{}};}async[a150_0x1bc317(0x1fc)](){const _0x1b7b48=a150_0x1bc317,_0x5d3a36=[...this['paths']];if(this[_0x1b7b48(0x1e0)])for(const _0x2eabb4 of _0x5d3a36){if(constants_1[_0x1b7b48(0x1c4)][_0x1b7b48(0x1c5)](_0x2eabb4))continue;if(await fs_internal_1['FS'][_0x1b7b48(0x1e5)]((0x0,path_1[_0x1b7b48(0x1d4)])(this[_0x1b7b48(0x1bd)],_0x2eabb4))){const _0x3969a9=await fs_internal_1['FS'][_0x1b7b48(0x1ee)]((0x0,path_1['join'])(this[_0x1b7b48(0x1bd)],_0x2eabb4),!![]);_0x5d3a36['push'](..._0x3969a9['map'](_0x54fd96=>(0x0,path_1[_0x1b7b48(0x1e2)])(this['dir'],_0x54fd96)));}}this[_0x1b7b48(0x1fe)]=(0x0,utils_1[_0x1b7b48(0x1d5)])(_0x5d3a36);}async[a150_0x1bc317(0x1f1)](){const _0x3b0a92=a150_0x1bc317;await this[_0x3b0a92(0x1fc)]();const _0x2af657=[];for(const _0x209ed5 of this[_0x3b0a92(0x1fe)]){if(_0x209ed5[_0x3b0a92(0x1c8)]('package.xml'))continue;const _0x1b1efb={};try{_0x1b1efb['files']=await this[_0x3b0a92(0x1d8)](_0x209ed5),_0x1b1efb[_0x3b0a92(0x1cb)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3b0a92(0x1c5)](_0x209ed5)?_0x209ed5:(0x0,utils_1[_0x3b0a92(0x1ff)])({'files':_0x1b1efb[_0x3b0a92(0x1cc)]}),_0x209ed5[_0x3b0a92(0x1ca)](_0x3b0a92(0x1cd))?_0x1b1efb[_0x3b0a92(0x1c7)]=_0x3b0a92(0x1de):_0x1b1efb[_0x3b0a92(0x1c7)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x1b1efb[_0x3b0a92(0x1cc)]});}catch(_0x3551c9){this[_0x3b0a92(0x1f0)]['error'](_0x3b0a92(0x1d3),_0x209ed5,_0x3551c9);continue;}_0x1b1efb['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x209ed5),_0x1b1efb[_0x3b0a92(0x1dc)]=(0x0,crc32_1[_0x3b0a92(0x1e8)])(_0x1b1efb);if((0x0,utils_1[_0x3b0a92(0x1ea)])(_0x1b1efb)){const _0x490491=await this[_0x3b0a92(0x1bf)](_0x1b1efb);_0x2af657[_0x3b0a92(0x1e1)](..._0x490491);}if(_0x1b1efb[_0x3b0a92(0x1c7)]==='CustomLabels')continue;settings_types_list_1[_0x3b0a92(0x1e7)]['includes'](_0x1b1efb[_0x3b0a92(0x1c7)])&&(_0x1b1efb['type']=_0x3b0a92(0x1df)),_0x2af657[_0x3b0a92(0x1e1)](_0x1b1efb);}return _0x2af657;}}function a150_0x2351(_0x4e2f4f,_0x5b3590){const _0x2d3305=a150_0x3234();return a150_0x2351=function(_0x56b53c,_0xa26353){_0x56b53c=_0x56b53c-0x1b5;let _0x323495=_0x2d3305[_0x56b53c];return _0x323495;},a150_0x2351(_0x4e2f4f,_0x5b3590);}exports[a150_0x1bc317(0x1f7)]=MDApiParser;