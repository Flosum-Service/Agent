const a147_0x2f9823=a147_0x59f7;(function(_0x4d6c39,_0x34a735){const _0x41371c=a147_0x59f7,_0x41ae8a=_0x4d6c39();while(!![]){try{const _0x1cc9dd=-parseInt(_0x41371c(0x131))/0x1*(-parseInt(_0x41371c(0x12a))/0x2)+parseInt(_0x41371c(0x106))/0x3*(parseInt(_0x41371c(0x118))/0x4)+-parseInt(_0x41371c(0x10e))/0x5*(-parseInt(_0x41371c(0x12c))/0x6)+-parseInt(_0x41371c(0x143))/0x7+-parseInt(_0x41371c(0x13f))/0x8+-parseInt(_0x41371c(0x10c))/0x9*(-parseInt(_0x41371c(0x116))/0xa)+-parseInt(_0x41371c(0x105))/0xb;if(_0x1cc9dd===_0x34a735)break;else _0x41ae8a['push'](_0x41ae8a['shift']());}catch(_0x21e6b4){_0x41ae8a['push'](_0x41ae8a['shift']());}}}(a147_0x2822,0xcb159));function a147_0x59f7(_0x10d632,_0xe3f908){const _0x45e77d=a147_0x2822();return a147_0x59f7=function(_0xba1755,_0x43fcd4){_0xba1755=_0xba1755-0xf0;let _0x282280=_0x45e77d[_0xba1755];return _0x282280;},a147_0x59f7(_0x10d632,_0xe3f908);}const a147_0x43fcd4=(function(){let _0x13b2e7=!![];return function(_0x5969c4,_0x100566){const _0x78cbe0=_0x13b2e7?function(){if(_0x100566){const _0x4ea56d=_0x100566['apply'](_0x5969c4,arguments);return _0x100566=null,_0x4ea56d;}}:function(){};return _0x13b2e7=![],_0x78cbe0;};}()),a147_0xba1755=a147_0x43fcd4(this,function(){const _0x49f1bb=a147_0x59f7;return a147_0xba1755['toString']()['search'](_0x49f1bb(0x11c))[_0x49f1bb(0x136)]()[_0x49f1bb(0x130)](a147_0xba1755)[_0x49f1bb(0x113)]('(((.+)+)+)+$');});a147_0xba1755();function a147_0x2822(){const _0x360aba=['extname','experiences','2736BPxMOF','filter','12bTMDOv','../utils/xml','hasChildNodes','extractFileNameFromFiles','constructor','509SFLZHO','../../internal/fs.internal','paths','readComponentFiles','join','toString','extractComponentTypeFromFiles','Logger','convertToCleanPaths','endsWith','readFile','parse','../data/child-types-map','readBundledFiles','13191896brDioS','calculateCRC32','isParentComponent','default','869519tISUHA','reduce','readDir','../data/folder-types','BUNDLED_FOLDERS_REGEXP','\x22\x20not\x20found\x20in\x20\x22','path','utf-8','startsWith','Settings','-meta.xml','META_EXPERIENCES_EXTENSION','isSFDXProject','test','exists','find','createChildComponentsFromParent','META_EXTENSION','values','name','__importDefault','Cannot\x20parse\x20childs\x20in\x20','type','CustomLabels','13723226lLdeUY','8637gSkQIO','isDir','Xml','relative','filePath','../utils/crc32','101232jybdyF','MDApiParser','3935665YfLifn','includes','extractFilenameFromPath','WaveTemplateBundle','error','search','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','push','1020ZPdpAD','.site-meta.xml','604nBuSXo','getChildsByName','dir','init','(((.+)+)+)+$','Component\x20\x22','isPathsEquals','readChildComponents','files','logger','all','catch','map','waveTemplates','package.xml','__esModule'];a147_0x2822=function(){return _0x360aba;};return a147_0x2822();}'use strict';var __importDefault=this&&this[a147_0x2f9823(0x101)]||function(_0x5e0b85){const _0x10e9ae=a147_0x2f9823;return _0x5e0b85&&_0x5e0b85[_0x10e9ae(0x127)]?_0x5e0b85:{'default':_0x5e0b85};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a147_0x2f9823(0x132)),utils_1=require('../utils'),path_1=require(a147_0x2f9823(0xf3)),xml_1=require(a147_0x2f9823(0x12d)),child_types_map_1=__importDefault(require(a147_0x2f9823(0x13d))),constants_1=require('../../../../constants'),core_1=require('../../../../core'),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a147_0x2f9823(0x10b)),folder_types_1=__importDefault(require(a147_0x2f9823(0xf0))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a147_0x2f9823(0xff)](child_types_map_1[a147_0x2f9823(0x142)]);class MDApiParser{constructor(_0x14b175,_0x49037e,_0x48a2ad){const _0x552c83=a147_0x2f9823;this[_0x552c83(0x11a)]=_0x14b175,this[_0x552c83(0xf9)]=_0x48a2ad,this['logger']=new core_1[(_0x552c83(0x138))](MDApiParser[_0x552c83(0x100)]),this[_0x552c83(0xfe)]=_0x552c83(0xf7),this[_0x552c83(0xf8)]=_0x552c83(0x117),this[_0x552c83(0x133)]=_0x49037e;}async['readChildComponents'](_0x770a85){const _0x10f5e8=a147_0x2f9823;try{const _0x119d11=await xml_1[_0x10f5e8(0x108)][_0x10f5e8(0x13c)](Object[_0x10f5e8(0xff)](_0x770a85['files'])[0x0][_0x10f5e8(0x136)](_0x10f5e8(0xf4))),_0x530038=CHILD_XML_KEYS[_0x10f5e8(0x12b)](_0x3c1430=>xml_1['Xml'][_0x10f5e8(0x12e)](_0x119d11,_0x3c1430))[_0x10f5e8(0x144)]((_0x3cfba5,_0x52428d)=>[..._0x3cfba5,...xml_1[_0x10f5e8(0x108)][_0x10f5e8(0x119)](_0x119d11,_0x52428d)],[]);return(0x0,utils_1[_0x10f5e8(0xfd)])(_0x770a85,_0x119d11,_0x530038);}catch(_0x2fdd80){throw new Error(_0x10f5e8(0x102)+_0x770a85[_0x10f5e8(0x100)]+'\x20['+_0x770a85[_0x10f5e8(0x103)]+']');}}async[a147_0x2f9823(0x13e)](_0x1eed48){const _0x3edd4b=a147_0x2f9823,_0xe24330=(0x0,path_1[_0x3edd4b(0x135)])(this[_0x3edd4b(0x11a)],_0x1eed48),_0x860152=_0x1eed48+(_0x1eed48[_0x3edd4b(0xf5)](_0x3edd4b(0x129))?this['META_EXPERIENCES_EXTENSION']:this[_0x3edd4b(0xfe)]),_0x39d8f1=await fs_internal_1['FS'][_0x3edd4b(0x145)](_0xe24330,!![]),_0x5b57ee=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x3edd4b(0x135)])(this[_0x3edd4b(0x11a)],_0x860152),!![])[_0x3edd4b(0x123)](()=>null),_0x4db226={};for(const _0x46ffef of _0x39d8f1){_0x4db226[(0x0,path_1[_0x3edd4b(0x109)])(this[_0x3edd4b(0x11a)],_0x46ffef)]=await fs_internal_1['FS'][_0x3edd4b(0x13b)](_0x46ffef,!![]);}return _0x5b57ee&&(_0x4db226[(0x0,path_1[_0x3edd4b(0x109)])(this[_0x3edd4b(0x11a)],_0x860152)]=_0x5b57ee),_0x4db226;}async['readComponentFiles'](_0x11fdce){const _0x29ecdc=a147_0x2f9823;let _0x352bdb=_0x11fdce+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x29ecdc(0xfa)](_0x11fdce))return this[_0x29ecdc(0x13e)](_0x11fdce);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x29ecdc(0x135)])(this[_0x29ecdc(0x11a)],_0x11fdce))||await fs_internal_1['FS'][_0x29ecdc(0xfb)]((0x0,path_1[_0x29ecdc(0x135)])(this['dir'],_0x352bdb))){const _0x5bf26e=await fs_internal_1['FS'][_0x29ecdc(0x13b)]((0x0,path_1[_0x29ecdc(0x135)])(this[_0x29ecdc(0x11a)],_0x352bdb),!![]),_0x335d0c=await(0x0,utils_1[_0x29ecdc(0x137)])({'files':{[_0x352bdb]:_0x5bf26e}})[_0x29ecdc(0x123)](()=>null);if(_0x335d0c&&folder_types_1[_0x29ecdc(0x142)][_0x29ecdc(0x10f)](_0x335d0c))return{[_0x352bdb]:await fs_internal_1['FS'][_0x29ecdc(0x13b)]((0x0,path_1['join'])(this[_0x29ecdc(0x11a)],_0x352bdb),!![])};}if(!(0x0,path_1[_0x29ecdc(0x128)])(_0x11fdce)&&this[_0x29ecdc(0xf9)]){const _0x1c9dff=_0x11fdce['split']('/')[0x0],_0x588694=(await fs_internal_1['FS'][_0x29ecdc(0x145)]((0x0,path_1['join'])(this[_0x29ecdc(0x11a)],_0x1c9dff)))[_0x29ecdc(0xfc)](_0x421a93=>(0x0,git_commit_utils_1[_0x29ecdc(0x11e)])(_0x421a93,(0x0,path_1[_0x29ecdc(0x135)])(this[_0x29ecdc(0x11a)],_0x11fdce)));if(!_0x588694)throw new Error(_0x29ecdc(0x11d)+_0x11fdce+_0x29ecdc(0xf2)+_0x1c9dff+'\x22');_0x11fdce=(0x0,path_1[_0x29ecdc(0x109)])(this['dir'],_0x588694),_0x352bdb=_0x11fdce+this['META_EXTENSION'];}const [_0x3226a6,_0x2d3f4c]=await Promise[_0x29ecdc(0x122)]([fs_internal_1['FS'][_0x29ecdc(0x13b)]((0x0,path_1[_0x29ecdc(0x135)])(this[_0x29ecdc(0x11a)],_0x11fdce),!![])[_0x29ecdc(0x123)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x29ecdc(0x135)])(this[_0x29ecdc(0x11a)],_0x352bdb),!![])['catch'](()=>null)]);return{..._0x3226a6?{[_0x11fdce]:_0x3226a6}:{},..._0x2d3f4c?{[_0x352bdb]:_0x2d3f4c}:{}};}async[a147_0x2f9823(0x11b)](){const _0x3e84eb=a147_0x2f9823,_0x26a477=[...this[_0x3e84eb(0x133)]];if(this[_0x3e84eb(0xf9)])for(const _0x52aafb of _0x26a477){if(constants_1[_0x3e84eb(0xf1)]['test'](_0x52aafb))continue;if(await fs_internal_1['FS'][_0x3e84eb(0x107)]((0x0,path_1[_0x3e84eb(0x135)])(this['dir'],_0x52aafb))){const _0x27827d=await fs_internal_1['FS'][_0x3e84eb(0x145)]((0x0,path_1[_0x3e84eb(0x135)])(this[_0x3e84eb(0x11a)],_0x52aafb),!![]);_0x26a477[_0x3e84eb(0x115)](..._0x27827d[_0x3e84eb(0x124)](_0x5d1373=>(0x0,path_1['relative'])(this[_0x3e84eb(0x11a)],_0x5d1373)));}}this[_0x3e84eb(0x133)]=(0x0,utils_1[_0x3e84eb(0x139)])(_0x26a477);}async[a147_0x2f9823(0x13c)](){const _0x1c5fd9=a147_0x2f9823;await this[_0x1c5fd9(0x11b)]();const _0x4a377c=[];for(const _0x5af477 of this[_0x1c5fd9(0x133)]){if(_0x5af477[_0x1c5fd9(0x13a)](_0x1c5fd9(0x126)))continue;const _0x39c0f4={};try{_0x39c0f4[_0x1c5fd9(0x120)]=await this[_0x1c5fd9(0x134)](_0x5af477),_0x39c0f4[_0x1c5fd9(0x10a)]=constants_1[_0x1c5fd9(0xf1)][_0x1c5fd9(0xfa)](_0x5af477)?_0x5af477:(0x0,utils_1[_0x1c5fd9(0x12f)])({'files':_0x39c0f4['files']}),_0x5af477[_0x1c5fd9(0xf5)](_0x1c5fd9(0x125))?_0x39c0f4[_0x1c5fd9(0x103)]=_0x1c5fd9(0x111):_0x39c0f4['type']=await(0x0,utils_1[_0x1c5fd9(0x137)])({'files':_0x39c0f4['files']});}catch(_0x1835dc){this[_0x1c5fd9(0x121)][_0x1c5fd9(0x112)](_0x1c5fd9(0x114),_0x5af477,_0x1835dc);continue;}_0x39c0f4[_0x1c5fd9(0x100)]=(0x0,utils_1[_0x1c5fd9(0x110)])(_0x5af477),_0x39c0f4['crc']=(0x0,crc32_1[_0x1c5fd9(0x140)])(_0x39c0f4);if((0x0,utils_1[_0x1c5fd9(0x141)])(_0x39c0f4)){const _0x481466=await this[_0x1c5fd9(0x11f)](_0x39c0f4);_0x4a377c['push'](..._0x481466);}if(_0x39c0f4[_0x1c5fd9(0x103)]===_0x1c5fd9(0x104))continue;settings_types_list_1[_0x1c5fd9(0x142)]['includes'](_0x39c0f4[_0x1c5fd9(0x103)])&&(_0x39c0f4[_0x1c5fd9(0x103)]=_0x1c5fd9(0xf6)),_0x4a377c[_0x1c5fd9(0x115)](_0x39c0f4);}return _0x4a377c;}}exports[a147_0x2f9823(0x10d)]=MDApiParser;