const a115_0x472139=a115_0x40a0;function a115_0x40a0(_0x16d2e8,_0x4ca558){const _0x5d35e6=a115_0x45eb();return a115_0x40a0=function(_0x1edba8,_0x139a42){_0x1edba8=_0x1edba8-0xd7;let _0x45eb7a=_0x5d35e6[_0x1edba8];return _0x45eb7a;},a115_0x40a0(_0x16d2e8,_0x4ca558);}(function(_0x2085ee,_0x58182f){const _0x422611=a115_0x40a0,_0x10e1c8=_0x2085ee();while(!![]){try{const _0x4afd27=-parseInt(_0x422611(0xf0))/0x1*(parseInt(_0x422611(0xe1))/0x2)+-parseInt(_0x422611(0x11a))/0x3*(-parseInt(_0x422611(0x101))/0x4)+-parseInt(_0x422611(0xea))/0x5*(parseInt(_0x422611(0x120))/0x6)+parseInt(_0x422611(0x113))/0x7+-parseInt(_0x422611(0x11c))/0x8*(parseInt(_0x422611(0x112))/0x9)+-parseInt(_0x422611(0x11e))/0xa+parseInt(_0x422611(0x11f))/0xb;if(_0x4afd27===_0x58182f)break;else _0x10e1c8['push'](_0x10e1c8['shift']());}catch(_0x575f56){_0x10e1c8['push'](_0x10e1c8['shift']());}}}(a115_0x45eb,0x484ca));const a115_0x139a42=(function(){let _0x573aca=!![];return function(_0x5da5c6,_0x236f5a){const _0x18e38d=_0x573aca?function(){if(_0x236f5a){const _0x53b3a7=_0x236f5a['apply'](_0x5da5c6,arguments);return _0x236f5a=null,_0x53b3a7;}}:function(){};return _0x573aca=![],_0x18e38d;};}()),a115_0x1edba8=a115_0x139a42(this,function(){const _0x7460b2=a115_0x40a0;return a115_0x1edba8[_0x7460b2(0x122)]()[_0x7460b2(0x106)](_0x7460b2(0xe5))[_0x7460b2(0x122)]()['constructor'](a115_0x1edba8)[_0x7460b2(0x106)](_0x7460b2(0xe5));});a115_0x1edba8();'use strict';function a115_0x45eb(){const _0x3b441b=['test','META_EXPERIENCES_EXTENSION','isSFDXProject','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','paths','3qOwAEY','files','48DVPKvQ','__esModule','107610znYPOF','1987667eNmJzw','6nktIop','extractComponentTypeFromFiles','toString','includes','../../devops/utils/git-commit.utils','readBundledFiles','MDApiParser','map','crc','startsWith','waveTemplates','utf-8','extname','146LUGvdr','hasChildNodes','isPathsEquals','dir','(((.+)+)+)+$','readFile','getChildsByName','Xml','CustomLabels','1329370VISyeO','BUNDLED_FOLDERS_REGEXP','META_EXTENSION','all','convertToCleanPaths','path','1161lpCJFX','find','isDir','extractFileNameFromFiles','readDir','readChildComponents','filter','endsWith','name','defineProperty','parse','calculateCRC32','Cannot\x20parse\x20childs\x20in\x20','isParentComponent','readComponentFiles','.site-meta.xml','../utils/xml','542396hjIhiw','default','exists','type','init','search','-meta.xml','../data/child-types-map','Component\x20\x22','package.xml','extractFilenameFromPath','catch','logger','createChildComponentsFromParent','join','push','relative','59256IbOGov','2665138JDTzAE','reduce'];a115_0x45eb=function(){return _0x3b441b;};return a115_0x45eb();}var __importDefault=this&&this['__importDefault']||function(_0x1062fe){const _0x36c398=a115_0x40a0;return _0x1062fe&&_0x1062fe[_0x36c398(0x11d)]?_0x1062fe:{'default':_0x1062fe};};Object[a115_0x472139(0xf9)](exports,a115_0x472139(0x11d),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require('../utils'),path_1=require(a115_0x472139(0xef)),xml_1=require(a115_0x472139(0x100)),child_types_map_1=__importDefault(require(a115_0x472139(0x108))),constants_1=require('../../../../constants'),core_1=require('../../../../core'),git_commit_utils_1=require(a115_0x472139(0xd8)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require('../data/folder-types')),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0x9d4dd7,_0x73a4b7,_0x428267){const _0x3e1a5f=a115_0x472139;this[_0x3e1a5f(0xe4)]=_0x9d4dd7,this[_0x3e1a5f(0x117)]=_0x428267,this[_0x3e1a5f(0x10d)]=new core_1['Logger'](MDApiParser[_0x3e1a5f(0xf8)]),this[_0x3e1a5f(0xec)]=_0x3e1a5f(0x107),this[_0x3e1a5f(0x116)]=_0x3e1a5f(0xff),this[_0x3e1a5f(0x119)]=_0x73a4b7;}async[a115_0x472139(0xf5)](_0x4f76ab){const _0x51dcc0=a115_0x472139;try{const _0x3ebb3b=await xml_1[_0x51dcc0(0xe8)][_0x51dcc0(0xfa)](Object['values'](_0x4f76ab[_0x51dcc0(0x11b)])[0x0][_0x51dcc0(0x122)](_0x51dcc0(0xdf))),_0x3c7c27=CHILD_XML_KEYS[_0x51dcc0(0xf6)](_0x279a7e=>xml_1[_0x51dcc0(0xe8)][_0x51dcc0(0xe2)](_0x3ebb3b,_0x279a7e))[_0x51dcc0(0x114)]((_0x5ef7e4,_0xdb44f9)=>[..._0x5ef7e4,...xml_1[_0x51dcc0(0xe8)][_0x51dcc0(0xe7)](_0x3ebb3b,_0xdb44f9)],[]);return(0x0,utils_1[_0x51dcc0(0x10e)])(_0x4f76ab,_0x3ebb3b,_0x3c7c27);}catch(_0x2a1489){throw new Error(_0x51dcc0(0xfc)+_0x4f76ab[_0x51dcc0(0xf8)]+'\x20['+_0x4f76ab[_0x51dcc0(0x104)]+']');}}async['readBundledFiles'](_0x2d6ef1){const _0x4d4e6a=a115_0x472139,_0x362df3=(0x0,path_1[_0x4d4e6a(0x10f)])(this['dir'],_0x2d6ef1),_0x4dc907=_0x2d6ef1+(_0x2d6ef1['startsWith']('experiences')?this['META_EXPERIENCES_EXTENSION']:this[_0x4d4e6a(0xec)]),_0x40b686=await fs_internal_1['FS'][_0x4d4e6a(0xf4)](_0x362df3,!![]),_0x28038e=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x4d4e6a(0x10f)])(this[_0x4d4e6a(0xe4)],_0x4dc907),!![])[_0x4d4e6a(0x10c)](()=>null),_0x1f79bc={};for(const _0x58643d of _0x40b686){_0x1f79bc[(0x0,path_1[_0x4d4e6a(0x111)])(this[_0x4d4e6a(0xe4)],_0x58643d)]=await fs_internal_1['FS'][_0x4d4e6a(0xe6)](_0x58643d,!![]);}return _0x28038e&&(_0x1f79bc[(0x0,path_1[_0x4d4e6a(0x111)])(this[_0x4d4e6a(0xe4)],_0x4dc907)]=_0x28038e),_0x1f79bc;}async[a115_0x472139(0xfe)](_0x4757dd){const _0x54d5fa=a115_0x472139;let _0x40938b=_0x4757dd+this[_0x54d5fa(0xec)];if(constants_1[_0x54d5fa(0xeb)][_0x54d5fa(0x115)](_0x4757dd))return this[_0x54d5fa(0xd9)](_0x4757dd);if(await fs_internal_1['FS'][_0x54d5fa(0xf2)]((0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x4757dd))||await fs_internal_1['FS'][_0x54d5fa(0x103)]((0x0,path_1['join'])(this[_0x54d5fa(0xe4)],_0x40938b))){const _0xb7e651=await fs_internal_1['FS'][_0x54d5fa(0xe6)]((0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x40938b),!![]),_0x16c531=await(0x0,utils_1[_0x54d5fa(0x121)])({'files':{[_0x40938b]:_0xb7e651}})[_0x54d5fa(0x10c)](()=>null);if(_0x16c531&&folder_types_1[_0x54d5fa(0x102)][_0x54d5fa(0xd7)](_0x16c531))return{[_0x40938b]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x54d5fa(0xe4)],_0x40938b),!![])};}if(!(0x0,path_1[_0x54d5fa(0xe0)])(_0x4757dd)&&this[_0x54d5fa(0x117)]){const _0x26762d=_0x4757dd['split']('/')[0x0],_0x4c8f02=(await fs_internal_1['FS'][_0x54d5fa(0xf4)]((0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x26762d)))[_0x54d5fa(0xf1)](_0x4d17e2=>(0x0,git_commit_utils_1[_0x54d5fa(0xe3)])(_0x4d17e2,(0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x4757dd)));if(!_0x4c8f02)throw new Error(_0x54d5fa(0x109)+_0x4757dd+'\x22\x20not\x20found\x20in\x20\x22'+_0x26762d+'\x22');_0x4757dd=(0x0,path_1['relative'])(this[_0x54d5fa(0xe4)],_0x4c8f02),_0x40938b=_0x4757dd+this[_0x54d5fa(0xec)];}const [_0x4dbdcc,_0x26948b]=await Promise[_0x54d5fa(0xed)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x4757dd),!![])[_0x54d5fa(0x10c)](()=>null),fs_internal_1['FS'][_0x54d5fa(0xe6)]((0x0,path_1[_0x54d5fa(0x10f)])(this[_0x54d5fa(0xe4)],_0x40938b),!![])[_0x54d5fa(0x10c)](()=>null)]);return{..._0x4dbdcc?{[_0x4757dd]:_0x4dbdcc}:{},..._0x26948b?{[_0x40938b]:_0x26948b}:{}};}async[a115_0x472139(0x105)](){const _0x2e6442=a115_0x472139,_0x530a6f=[...this[_0x2e6442(0x119)]];if(this[_0x2e6442(0x117)])for(const _0x344595 of _0x530a6f){if(constants_1[_0x2e6442(0xeb)][_0x2e6442(0x115)](_0x344595))continue;if(await fs_internal_1['FS'][_0x2e6442(0xf2)]((0x0,path_1['join'])(this[_0x2e6442(0xe4)],_0x344595))){const _0x1a637c=await fs_internal_1['FS'][_0x2e6442(0xf4)]((0x0,path_1[_0x2e6442(0x10f)])(this[_0x2e6442(0xe4)],_0x344595),!![]);_0x530a6f[_0x2e6442(0x110)](..._0x1a637c[_0x2e6442(0xdb)](_0x2067f1=>(0x0,path_1[_0x2e6442(0x111)])(this[_0x2e6442(0xe4)],_0x2067f1)));}}this[_0x2e6442(0x119)]=(0x0,utils_1[_0x2e6442(0xee)])(_0x530a6f);}async[a115_0x472139(0xfa)](){const _0x530261=a115_0x472139;await this['init']();const _0x11b3b5=[];for(const _0x5db19c of this['paths']){if(_0x5db19c[_0x530261(0xf7)](_0x530261(0x10a)))continue;const _0x4a677f={};try{_0x4a677f[_0x530261(0x11b)]=await this[_0x530261(0xfe)](_0x5db19c),_0x4a677f['filePath']=constants_1[_0x530261(0xeb)][_0x530261(0x115)](_0x5db19c)?_0x5db19c:(0x0,utils_1[_0x530261(0xf3)])({'files':_0x4a677f['files']}),_0x5db19c[_0x530261(0xdd)](_0x530261(0xde))?_0x4a677f['type']='WaveTemplateBundle':_0x4a677f['type']=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x4a677f['files']});}catch(_0x2f1ad4){this[_0x530261(0x10d)]['error'](_0x530261(0x118),_0x5db19c,_0x2f1ad4);continue;}_0x4a677f['name']=(0x0,utils_1[_0x530261(0x10b)])(_0x5db19c),_0x4a677f[_0x530261(0xdc)]=(0x0,crc32_1[_0x530261(0xfb)])(_0x4a677f);if((0x0,utils_1[_0x530261(0xfd)])(_0x4a677f)){const _0xc9b399=await this['readChildComponents'](_0x4a677f);_0x11b3b5[_0x530261(0x110)](..._0xc9b399);}if(_0x4a677f[_0x530261(0x104)]===_0x530261(0xe9))continue;_0x11b3b5[_0x530261(0x110)](_0x4a677f);}return _0x11b3b5;}}exports[a115_0x472139(0xda)]=MDApiParser;