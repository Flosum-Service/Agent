const a115_0x3f43d9=a115_0x2738;(function(_0x1b2ef4,_0x92852f){const _0x464775=a115_0x2738,_0x40be2d=_0x1b2ef4();while(!![]){try{const _0x1e73e6=-parseInt(_0x464775(0x1d9))/0x1+-parseInt(_0x464775(0x1d8))/0x2+parseInt(_0x464775(0x1fc))/0x3+parseInt(_0x464775(0x1e3))/0x4*(-parseInt(_0x464775(0x1fa))/0x5)+-parseInt(_0x464775(0x21e))/0x6+-parseInt(_0x464775(0x1d6))/0x7*(parseInt(_0x464775(0x1ef))/0x8)+parseInt(_0x464775(0x1e4))/0x9;if(_0x1e73e6===_0x92852f)break;else _0x40be2d['push'](_0x40be2d['shift']());}catch(_0x252892){_0x40be2d['push'](_0x40be2d['shift']());}}}(a115_0x296b,0x9bb76));const a115_0xefe4bd=(function(){let _0x34348b=!![];return function(_0x5038c2,_0x2e4144){const _0x41e090=_0x34348b?function(){const _0x5766c6=a115_0x2738;if(_0x2e4144){const _0x4177bf=_0x2e4144[_0x5766c6(0x219)](_0x5038c2,arguments);return _0x2e4144=null,_0x4177bf;}}:function(){};return _0x34348b=![],_0x41e090;};}()),a115_0x3de5cd=a115_0xefe4bd(this,function(){const _0x130d85=a115_0x2738;return a115_0x3de5cd['toString']()[_0x130d85(0x1ec)](_0x130d85(0x209))[_0x130d85(0x1e2)]()[_0x130d85(0x217)](a115_0x3de5cd)[_0x130d85(0x1ec)](_0x130d85(0x209));});a115_0x3de5cd();'use strict';var __importDefault=this&&this[a115_0x3f43d9(0x1e5)]||function(_0x5134cd){const _0x4c9313=a115_0x3f43d9;return _0x5134cd&&_0x5134cd[_0x4c9313(0x21b)]?_0x5134cd:{'default':_0x5134cd};};Object[a115_0x3f43d9(0x206)](exports,a115_0x3f43d9(0x21b),{'value':!![]}),exports[a115_0x3f43d9(0x21d)]=void 0x0;function a115_0x2738(_0x2f8b77,_0x221142){const _0x53e086=a115_0x296b();return a115_0x2738=function(_0x3de5cd,_0xefe4bd){_0x3de5cd=_0x3de5cd-0x1d5;let _0x296b58=_0x53e086[_0x3de5cd];return _0x296b58;},a115_0x2738(_0x2f8b77,_0x221142);}function a115_0x296b(){const _0x41fafe=['CustomLabels','toString','28BhlCyN','27353304HDTXlV','__importDefault','test','WaveTemplateBundle','default','META_EXTENSION','isDir','readBundledFiles','search','Logger','logger','54208cyRbZB','readDir','catch','hasChildNodes','includes','extractComponentTypeFromFiles','dir','values','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','BUNDLED_FOLDERS_REGEXP','type','81610TDuGMp','createChildComponentsFromParent','1294509BUbuKG','extname','isParentComponent','all','endsWith','../utils','package.xml','META_EXPERIENCES_EXTENSION','../data/child-types-map','getChildsByName','defineProperty','../utils/crc32','convertToCleanPaths','(((.+)+)+)+$','name','filter','../data/folder-types','\x22\x20not\x20found\x20in\x20\x22','utf-8','path','isPathsEquals','map','../../../../constants','calculateCRC32','filePath','experiences','split','constructor','isSFDXProject','apply','../../devops/utils/git-commit.utils','__esModule','reduce','MDApiParser','4429662TrWsXR','paths','join','readFile','.site-meta.xml','Cannot\x20parse\x20childs\x20in\x20','../../../../core','extractFileNameFromFiles','616NzIKWn','relative','985506UILXMG','891373slnelL','Xml','extractFilenameFromPath','parse','startsWith','init','push','files'];a115_0x296b=function(){return _0x41fafe;};return a115_0x296b();}const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a115_0x3f43d9(0x201)),path_1=require(a115_0x3f43d9(0x20f)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a115_0x3f43d9(0x204))),constants_1=require(a115_0x3f43d9(0x212)),core_1=require(a115_0x3f43d9(0x224)),git_commit_utils_1=require(a115_0x3f43d9(0x21a)),crc32_1=require(a115_0x3f43d9(0x207)),folder_types_1=__importDefault(require(a115_0x3f43d9(0x20c))),CHILD_XML_KEYS=Object[a115_0x3f43d9(0x1f6)](child_types_map_1[a115_0x3f43d9(0x1e8)]);class MDApiParser{constructor(_0x2c996d,_0x5dd6e7,_0x26dd88){const _0xaefcb0=a115_0x3f43d9;this[_0xaefcb0(0x1f5)]=_0x2c996d,this[_0xaefcb0(0x218)]=_0x26dd88,this[_0xaefcb0(0x1ee)]=new core_1[(_0xaefcb0(0x1ed))](MDApiParser[_0xaefcb0(0x20a)]),this[_0xaefcb0(0x1e9)]='-meta.xml',this['META_EXPERIENCES_EXTENSION']=_0xaefcb0(0x222),this[_0xaefcb0(0x21f)]=_0x5dd6e7;}async['readChildComponents'](_0x4c6c38){const _0x374401=a115_0x3f43d9;try{const _0x3c4927=await xml_1[_0x374401(0x1da)][_0x374401(0x1dc)](Object[_0x374401(0x1f6)](_0x4c6c38['files'])[0x0][_0x374401(0x1e2)](_0x374401(0x20e))),_0x7855f3=CHILD_XML_KEYS[_0x374401(0x20b)](_0x3f2610=>xml_1['Xml'][_0x374401(0x1f2)](_0x3c4927,_0x3f2610))[_0x374401(0x21c)]((_0x5edae6,_0x1e8b2)=>[..._0x5edae6,...xml_1[_0x374401(0x1da)][_0x374401(0x205)](_0x3c4927,_0x1e8b2)],[]);return(0x0,utils_1[_0x374401(0x1fb)])(_0x4c6c38,_0x3c4927,_0x7855f3);}catch(_0xa4007f){throw new Error(_0x374401(0x223)+_0x4c6c38[_0x374401(0x20a)]+'\x20['+_0x4c6c38[_0x374401(0x1f9)]+']');}}async[a115_0x3f43d9(0x1eb)](_0x1ae5d2){const _0x266c04=a115_0x3f43d9,_0x10c4a0=(0x0,path_1[_0x266c04(0x220)])(this[_0x266c04(0x1f5)],_0x1ae5d2),_0x40e147=_0x1ae5d2+(_0x1ae5d2['startsWith'](_0x266c04(0x215))?this[_0x266c04(0x203)]:this['META_EXTENSION']),_0x4006be=await fs_internal_1['FS'][_0x266c04(0x1f0)](_0x10c4a0,!![]),_0x553ca8=await fs_internal_1['FS'][_0x266c04(0x221)]((0x0,path_1[_0x266c04(0x220)])(this[_0x266c04(0x1f5)],_0x40e147),!![])[_0x266c04(0x1f1)](()=>null),_0x3725ed={};for(const _0x413d90 of _0x4006be){_0x3725ed[(0x0,path_1[_0x266c04(0x1d7)])(this['dir'],_0x413d90)]=await fs_internal_1['FS'][_0x266c04(0x221)](_0x413d90,!![]);}return _0x553ca8&&(_0x3725ed[(0x0,path_1[_0x266c04(0x1d7)])(this[_0x266c04(0x1f5)],_0x40e147)]=_0x553ca8),_0x3725ed;}async['readComponentFiles'](_0x238eaf){const _0x363d5a=a115_0x3f43d9;let _0x2c8be9=_0x238eaf+this[_0x363d5a(0x1e9)];if(constants_1[_0x363d5a(0x1f8)]['test'](_0x238eaf))return this['readBundledFiles'](_0x238eaf);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x363d5a(0x220)])(this[_0x363d5a(0x1f5)],_0x238eaf))||await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this['dir'],_0x2c8be9))){const _0x25efb0=await fs_internal_1['FS'][_0x363d5a(0x221)]((0x0,path_1[_0x363d5a(0x220)])(this[_0x363d5a(0x1f5)],_0x2c8be9),!![]),_0x49b770=await(0x0,utils_1[_0x363d5a(0x1f4)])({'files':{[_0x2c8be9]:_0x25efb0}})['catch'](()=>null);if(_0x49b770&&folder_types_1['default'][_0x363d5a(0x1f3)](_0x49b770))return{[_0x2c8be9]:await fs_internal_1['FS'][_0x363d5a(0x221)]((0x0,path_1[_0x363d5a(0x220)])(this[_0x363d5a(0x1f5)],_0x2c8be9),!![])};}if(!(0x0,path_1[_0x363d5a(0x1fd)])(_0x238eaf)&&this[_0x363d5a(0x218)]){const _0x23bea3=_0x238eaf[_0x363d5a(0x216)]('/')[0x0],_0x43a36d=(await fs_internal_1['FS'][_0x363d5a(0x1f0)]((0x0,path_1[_0x363d5a(0x220)])(this['dir'],_0x23bea3)))['find'](_0x45c348=>(0x0,git_commit_utils_1[_0x363d5a(0x210)])(_0x45c348,(0x0,path_1['join'])(this['dir'],_0x238eaf)));if(!_0x43a36d)throw new Error('Component\x20\x22'+_0x238eaf+_0x363d5a(0x20d)+_0x23bea3+'\x22');_0x238eaf=(0x0,path_1[_0x363d5a(0x1d7)])(this['dir'],_0x43a36d),_0x2c8be9=_0x238eaf+this[_0x363d5a(0x1e9)];}const [_0xac3a7e,_0x44a10c]=await Promise[_0x363d5a(0x1ff)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x363d5a(0x220)])(this[_0x363d5a(0x1f5)],_0x238eaf),!![])[_0x363d5a(0x1f1)](()=>null),fs_internal_1['FS'][_0x363d5a(0x221)]((0x0,path_1[_0x363d5a(0x220)])(this[_0x363d5a(0x1f5)],_0x2c8be9),!![])[_0x363d5a(0x1f1)](()=>null)]);return{..._0xac3a7e?{[_0x238eaf]:_0xac3a7e}:{},..._0x44a10c?{[_0x2c8be9]:_0x44a10c}:{}};}async[a115_0x3f43d9(0x1de)](){const _0xe479f8=a115_0x3f43d9,_0x1e0423=[...this[_0xe479f8(0x21f)]];if(this[_0xe479f8(0x218)])for(const _0x5be006 of _0x1e0423){if(constants_1[_0xe479f8(0x1f8)][_0xe479f8(0x1e6)](_0x5be006))continue;if(await fs_internal_1['FS'][_0xe479f8(0x1ea)]((0x0,path_1[_0xe479f8(0x220)])(this[_0xe479f8(0x1f5)],_0x5be006))){const _0x2567e5=await fs_internal_1['FS']['readDir']((0x0,path_1[_0xe479f8(0x220)])(this[_0xe479f8(0x1f5)],_0x5be006),!![]);_0x1e0423[_0xe479f8(0x1df)](..._0x2567e5[_0xe479f8(0x211)](_0xf0f1c5=>(0x0,path_1[_0xe479f8(0x1d7)])(this[_0xe479f8(0x1f5)],_0xf0f1c5)));}}this[_0xe479f8(0x21f)]=(0x0,utils_1[_0xe479f8(0x208)])(_0x1e0423);}async[a115_0x3f43d9(0x1dc)](){const _0x7bf1e1=a115_0x3f43d9;await this[_0x7bf1e1(0x1de)]();const _0x4fc57d=[];for(const _0x14d34a of this['paths']){if(_0x14d34a[_0x7bf1e1(0x200)](_0x7bf1e1(0x202)))continue;const _0x221540={};try{_0x221540['files']=await this['readComponentFiles'](_0x14d34a),_0x221540[_0x7bf1e1(0x214)]=constants_1[_0x7bf1e1(0x1f8)][_0x7bf1e1(0x1e6)](_0x14d34a)?_0x14d34a:(0x0,utils_1[_0x7bf1e1(0x1d5)])({'files':_0x221540[_0x7bf1e1(0x1e0)]}),_0x14d34a[_0x7bf1e1(0x1dd)]('waveTemplates')?_0x221540['type']=_0x7bf1e1(0x1e7):_0x221540['type']=await(0x0,utils_1[_0x7bf1e1(0x1f4)])({'files':_0x221540[_0x7bf1e1(0x1e0)]});}catch(_0x4644a4){this['logger']['error'](_0x7bf1e1(0x1f7),_0x14d34a,_0x4644a4);continue;}_0x221540[_0x7bf1e1(0x20a)]=(0x0,utils_1[_0x7bf1e1(0x1db)])(_0x14d34a),_0x221540['crc']=(0x0,crc32_1[_0x7bf1e1(0x213)])(_0x221540);if((0x0,utils_1[_0x7bf1e1(0x1fe)])(_0x221540)){const _0x1523d5=await this['readChildComponents'](_0x221540);_0x4fc57d[_0x7bf1e1(0x1df)](..._0x1523d5);}if(_0x221540['type']===_0x7bf1e1(0x1e1))continue;_0x4fc57d[_0x7bf1e1(0x1df)](_0x221540);}return _0x4fc57d;}}exports[a115_0x3f43d9(0x21d)]=MDApiParser;