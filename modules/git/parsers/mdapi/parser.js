const a147_0xd2c490=a147_0x5e97;(function(_0xbc7413,_0x3c5dfc){const _0x48e3f4=a147_0x5e97,_0x15aceb=_0xbc7413();while(!![]){try{const _0x546fe6=parseInt(_0x48e3f4(0x1c9))/0x1*(parseInt(_0x48e3f4(0x1a1))/0x2)+parseInt(_0x48e3f4(0x1a8))/0x3+parseInt(_0x48e3f4(0x19c))/0x4+-parseInt(_0x48e3f4(0x1aa))/0x5+-parseInt(_0x48e3f4(0x18b))/0x6*(parseInt(_0x48e3f4(0x1cb))/0x7)+-parseInt(_0x48e3f4(0x1b5))/0x8*(-parseInt(_0x48e3f4(0x185))/0x9)+-parseInt(_0x48e3f4(0x194))/0xa*(parseInt(_0x48e3f4(0x182))/0xb);if(_0x546fe6===_0x3c5dfc)break;else _0x15aceb['push'](_0x15aceb['shift']());}catch(_0x3befa3){_0x15aceb['push'](_0x15aceb['shift']());}}}(a147_0x390a,0xee988));const a147_0x3bbeff=(function(){let _0x3f1455=!![];return function(_0x3e7309,_0x1ffe6f){const _0x481738=_0x3f1455?function(){if(_0x1ffe6f){const _0x4fd076=_0x1ffe6f['apply'](_0x3e7309,arguments);return _0x1ffe6f=null,_0x4fd076;}}:function(){};return _0x3f1455=![],_0x481738;};}()),a147_0x1d0e02=a147_0x3bbeff(this,function(){const _0x17f7ab=a147_0x5e97;return a147_0x1d0e02[_0x17f7ab(0x1a0)]()[_0x17f7ab(0x188)](_0x17f7ab(0x1c3))[_0x17f7ab(0x1a0)]()[_0x17f7ab(0x1b2)](a147_0x1d0e02)[_0x17f7ab(0x188)](_0x17f7ab(0x1c3));});a147_0x1d0e02();'use strict';var __importDefault=this&&this[a147_0xd2c490(0x1b9)]||function(_0x3fd7bf){const _0x2ea652=a147_0xd2c490;return _0x3fd7bf&&_0x3fd7bf[_0x2ea652(0x1a4)]?_0x3fd7bf:{'default':_0x3fd7bf};};Object['defineProperty'](exports,a147_0xd2c490(0x1a4),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a147_0xd2c490(0x1a9)),utils_1=require(a147_0xd2c490(0x18c)),path_1=require(a147_0xd2c490(0x1a5)),xml_1=require(a147_0xd2c490(0x183)),child_types_map_1=__importDefault(require(a147_0xd2c490(0x1c0))),constants_1=require(a147_0xd2c490(0x1b7)),core_1=require(a147_0xd2c490(0x17d)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a147_0xd2c490(0x1b8)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a147_0xd2c490(0x1c6))),CHILD_XML_KEYS=Object[a147_0xd2c490(0x17a)](child_types_map_1[a147_0xd2c490(0x191)]);function a147_0x390a(){const _0x54ea8c=['startsWith','filePath','utf-8','../data/child-types-map','BUNDLED_FOLDERS_REGEXP','logger','(((.+)+)+)+$','META_EXPERIENCES_EXTENSION','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../data/settings-types-list','hasChildNodes','relative','13967OPwmxP','split','5509iQcwHS','readChildComponents','waveTemplates','error','reduce','init','values','isDir','push','../../../../core','test','MDApiParser','join','map','220rGVnqa','../utils/xml','dir','7230672fuibgn','readComponentFiles','extractComponentTypeFromFiles','search','parse','endsWith','8460ecrnxo','../utils','name','filter','Settings','calculateCRC32','default','convertToCleanPaths','package.xml','372730QjeaZD','.site-meta.xml','Xml','paths','META_EXTENSION','\x22\x20not\x20found\x20in\x20\x22','-meta.xml','type','7203968BnXcEH','isSFDXProject','files','createChildComponentsFromParent','toString','100hxkJpH','getChildsByName','WaveTemplateBundle','__esModule','path','exists','Logger','116121pORGfk','../../internal/fs.internal','2545195zQQDdH','extractFileNameFromFiles','Cannot\x20parse\x20childs\x20in\x20','readDir','readBundledFiles','catch','crc','extname','constructor','includes','all','8CXVrCs','CustomLabels','../../../../constants','../utils/crc32','__importDefault','Component\x20\x22','readFile','isParentComponent'];a147_0x390a=function(){return _0x54ea8c;};return a147_0x390a();}function a147_0x5e97(_0x59da30,_0x5e7fa9){const _0x4a6db4=a147_0x390a();return a147_0x5e97=function(_0x1d0e02,_0x3bbeff){_0x1d0e02=_0x1d0e02-0x177;let _0x390a37=_0x4a6db4[_0x1d0e02];return _0x390a37;},a147_0x5e97(_0x59da30,_0x5e7fa9);}class MDApiParser{constructor(_0x2f5dda,_0xac5a09,_0x332e5c){const _0x5dadc1=a147_0xd2c490;this['dir']=_0x2f5dda,this[_0x5dadc1(0x19d)]=_0x332e5c,this['logger']=new core_1[(_0x5dadc1(0x1a7))](MDApiParser[_0x5dadc1(0x18d)]),this['META_EXTENSION']=_0x5dadc1(0x19a),this[_0x5dadc1(0x1c4)]=_0x5dadc1(0x195),this[_0x5dadc1(0x197)]=_0xac5a09;}async['readChildComponents'](_0x2a057c){const _0x50cde6=a147_0xd2c490;try{const _0x218d75=await xml_1['Xml'][_0x50cde6(0x189)](Object[_0x50cde6(0x17a)](_0x2a057c[_0x50cde6(0x19e)])[0x0][_0x50cde6(0x1a0)](_0x50cde6(0x1bf))),_0x178487=CHILD_XML_KEYS[_0x50cde6(0x18e)](_0x4dae42=>xml_1[_0x50cde6(0x196)][_0x50cde6(0x1c7)](_0x218d75,_0x4dae42))[_0x50cde6(0x178)]((_0x2e2d9e,_0xcbd8c6)=>[..._0x2e2d9e,...xml_1[_0x50cde6(0x196)][_0x50cde6(0x1a2)](_0x218d75,_0xcbd8c6)],[]);return(0x0,utils_1[_0x50cde6(0x19f)])(_0x2a057c,_0x218d75,_0x178487);}catch(_0x2360c1){throw new Error(_0x50cde6(0x1ac)+_0x2a057c['name']+'\x20['+_0x2a057c[_0x50cde6(0x19b)]+']');}}async[a147_0xd2c490(0x1ae)](_0x51835c){const _0x3e9198=a147_0xd2c490,_0x56e477=(0x0,path_1[_0x3e9198(0x180)])(this[_0x3e9198(0x184)],_0x51835c),_0x4e0507=_0x51835c+(_0x51835c[_0x3e9198(0x1bd)]('experiences')?this[_0x3e9198(0x1c4)]:this[_0x3e9198(0x198)]),_0x448ee8=await fs_internal_1['FS'][_0x3e9198(0x1ad)](_0x56e477,!![]),_0x5dc2ca=await fs_internal_1['FS'][_0x3e9198(0x1bb)]((0x0,path_1['join'])(this['dir'],_0x4e0507),!![])[_0x3e9198(0x1af)](()=>null),_0x26897c={};for(const _0x3bf4dd of _0x448ee8){_0x26897c[(0x0,path_1['relative'])(this[_0x3e9198(0x184)],_0x3bf4dd)]=await fs_internal_1['FS']['readFile'](_0x3bf4dd,!![]);}return _0x5dc2ca&&(_0x26897c[(0x0,path_1[_0x3e9198(0x1c8)])(this['dir'],_0x4e0507)]=_0x5dc2ca),_0x26897c;}async['readComponentFiles'](_0xb6af6d){const _0x476e41=a147_0xd2c490;let _0x52e6e2=_0xb6af6d+this[_0x476e41(0x198)];if(constants_1[_0x476e41(0x1c1)]['test'](_0xb6af6d))return this[_0x476e41(0x1ae)](_0xb6af6d);if(await fs_internal_1['FS']['isDir']((0x0,path_1['join'])(this[_0x476e41(0x184)],_0xb6af6d))||await fs_internal_1['FS'][_0x476e41(0x1a6)]((0x0,path_1['join'])(this[_0x476e41(0x184)],_0x52e6e2))){const _0x4b10c7=await fs_internal_1['FS'][_0x476e41(0x1bb)]((0x0,path_1[_0x476e41(0x180)])(this[_0x476e41(0x184)],_0x52e6e2),!![]),_0x18cb7b=await(0x0,utils_1[_0x476e41(0x187)])({'files':{[_0x52e6e2]:_0x4b10c7}})[_0x476e41(0x1af)](()=>null);if(_0x18cb7b&&folder_types_1[_0x476e41(0x191)][_0x476e41(0x1b3)](_0x18cb7b))return{[_0x52e6e2]:await fs_internal_1['FS'][_0x476e41(0x1bb)]((0x0,path_1[_0x476e41(0x180)])(this[_0x476e41(0x184)],_0x52e6e2),!![])};}if(!(0x0,path_1[_0x476e41(0x1b1)])(_0xb6af6d)&&this[_0x476e41(0x19d)]){const _0x19bd4e=_0xb6af6d[_0x476e41(0x1ca)]('/')[0x0],_0x474b86=(await fs_internal_1['FS']['readDir']((0x0,path_1[_0x476e41(0x180)])(this[_0x476e41(0x184)],_0x19bd4e)))['find'](_0x6d3a3=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x6d3a3,(0x0,path_1[_0x476e41(0x180)])(this['dir'],_0xb6af6d)));if(!_0x474b86)throw new Error(_0x476e41(0x1ba)+_0xb6af6d+_0x476e41(0x199)+_0x19bd4e+'\x22');_0xb6af6d=(0x0,path_1[_0x476e41(0x1c8)])(this[_0x476e41(0x184)],_0x474b86),_0x52e6e2=_0xb6af6d+this[_0x476e41(0x198)];}const [_0x132d8b,_0x262931]=await Promise[_0x476e41(0x1b4)]([fs_internal_1['FS'][_0x476e41(0x1bb)]((0x0,path_1['join'])(this[_0x476e41(0x184)],_0xb6af6d),!![])[_0x476e41(0x1af)](()=>null),fs_internal_1['FS'][_0x476e41(0x1bb)]((0x0,path_1[_0x476e41(0x180)])(this[_0x476e41(0x184)],_0x52e6e2),!![])[_0x476e41(0x1af)](()=>null)]);return{..._0x132d8b?{[_0xb6af6d]:_0x132d8b}:{},..._0x262931?{[_0x52e6e2]:_0x262931}:{}};}async[a147_0xd2c490(0x179)](){const _0x58a1c7=a147_0xd2c490,_0x1101bb=[...this['paths']];if(this[_0x58a1c7(0x19d)])for(const _0x159ba2 of _0x1101bb){if(constants_1[_0x58a1c7(0x1c1)]['test'](_0x159ba2))continue;if(await fs_internal_1['FS'][_0x58a1c7(0x17b)]((0x0,path_1['join'])(this[_0x58a1c7(0x184)],_0x159ba2))){const _0x230551=await fs_internal_1['FS'][_0x58a1c7(0x1ad)]((0x0,path_1[_0x58a1c7(0x180)])(this[_0x58a1c7(0x184)],_0x159ba2),!![]);_0x1101bb[_0x58a1c7(0x17c)](..._0x230551[_0x58a1c7(0x181)](_0x4d0069=>(0x0,path_1[_0x58a1c7(0x1c8)])(this[_0x58a1c7(0x184)],_0x4d0069)));}}this[_0x58a1c7(0x197)]=(0x0,utils_1[_0x58a1c7(0x192)])(_0x1101bb);}async[a147_0xd2c490(0x189)](){const _0x400381=a147_0xd2c490;await this[_0x400381(0x179)]();const _0x4a91c3=[];for(const _0x508647 of this[_0x400381(0x197)]){if(_0x508647[_0x400381(0x18a)](_0x400381(0x193)))continue;const _0x3b6475={};try{_0x3b6475[_0x400381(0x19e)]=await this[_0x400381(0x186)](_0x508647),_0x3b6475[_0x400381(0x1be)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x400381(0x17e)](_0x508647)?_0x508647:(0x0,utils_1[_0x400381(0x1ab)])({'files':_0x3b6475['files']}),_0x508647[_0x400381(0x1bd)](_0x400381(0x1cd))?_0x3b6475[_0x400381(0x19b)]=_0x400381(0x1a3):_0x3b6475[_0x400381(0x19b)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x3b6475['files']});}catch(_0x5ec6bc){this[_0x400381(0x1c2)][_0x400381(0x177)](_0x400381(0x1c5),_0x508647,_0x5ec6bc);continue;}_0x3b6475[_0x400381(0x18d)]=(0x0,utils_1['extractFilenameFromPath'])(_0x508647),_0x3b6475[_0x400381(0x1b0)]=(0x0,crc32_1[_0x400381(0x190)])(_0x3b6475);if((0x0,utils_1[_0x400381(0x1bc)])(_0x3b6475)){const _0x291e2b=await this[_0x400381(0x1cc)](_0x3b6475);_0x4a91c3[_0x400381(0x17c)](..._0x291e2b);}if(_0x3b6475[_0x400381(0x19b)]===_0x400381(0x1b6))continue;settings_types_list_1[_0x400381(0x191)][_0x400381(0x1b3)](_0x3b6475['type'])&&(_0x3b6475[_0x400381(0x19b)]=_0x400381(0x18f)),_0x4a91c3[_0x400381(0x17c)](_0x3b6475);}return _0x4a91c3;}}exports[a147_0xd2c490(0x17f)]=MDApiParser;