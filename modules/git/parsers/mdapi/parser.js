const a102_0x10d49a=a102_0x4f03;(function(_0x4e7cf4,_0x6caf5b){const _0x2ab734=a102_0x4f03,_0x3e8c8e=_0x4e7cf4();while(!![]){try{const _0x2d93ed=-parseInt(_0x2ab734(0x18c))/0x1+parseInt(_0x2ab734(0x1b8))/0x2+-parseInt(_0x2ab734(0x1a3))/0x3*(parseInt(_0x2ab734(0x1af))/0x4)+-parseInt(_0x2ab734(0x1a6))/0x5+-parseInt(_0x2ab734(0x1d0))/0x6+parseInt(_0x2ab734(0x1c1))/0x7+parseInt(_0x2ab734(0x196))/0x8;if(_0x2d93ed===_0x6caf5b)break;else _0x3e8c8e['push'](_0x3e8c8e['shift']());}catch(_0x105c1d){_0x3e8c8e['push'](_0x3e8c8e['shift']());}}}(a102_0x4897,0xea521));function a102_0x4f03(_0x5aaeae,_0x52ea0f){const _0xc8cbee=a102_0x4897();return a102_0x4f03=function(_0x34e829,_0x2edad6){_0x34e829=_0x34e829-0x18a;let _0x48973b=_0xc8cbee[_0x34e829];return _0x48973b;},a102_0x4f03(_0x5aaeae,_0x52ea0f);}const a102_0x2edad6=(function(){let _0x3440f8=!![];return function(_0x4a66b8,_0x383fb8){const _0x47590c=_0x3440f8?function(){const _0x1c5b10=a102_0x4f03;if(_0x383fb8){const _0xa7fcc2=_0x383fb8[_0x1c5b10(0x1bd)](_0x4a66b8,arguments);return _0x383fb8=null,_0xa7fcc2;}}:function(){};return _0x3440f8=![],_0x47590c;};}()),a102_0x34e829=a102_0x2edad6(this,function(){const _0x23b97e=a102_0x4f03;return a102_0x34e829['toString']()[_0x23b97e(0x1c7)](_0x23b97e(0x1d4))[_0x23b97e(0x1cc)]()['constructor'](a102_0x34e829)[_0x23b97e(0x1c7)](_0x23b97e(0x1d4));});a102_0x34e829();'use strict';function a102_0x4897(){const _0x3b0457=['endsWith','readDir','isPathsEquals','exists','Cannot\x20parse\x20childs\x20in\x20','__esModule','../data/child-types-map','join','2990482AcVESg','filter','extractFilenameFromPath','extname','paths','apply','../../devops/utils/git-commit.utils','../utils/xml','convertToCleanPaths','5994464ZDjRFM','filePath','startsWith','createChildComponentsFromParent','values','readChildComponents','search','-meta.xml','hasChildNodes','readFile','isSFDXProject','toString','META_EXTENSION','BUNDLED_FOLDERS_REGEXP','calculateCRC32','3622350wSzldL','experiences','init','push','(((.+)+)+)+$','relative','../utils/crc32','../../internal/fs.internal','Xml','dir','\x22\x20not\x20found\x20in\x20\x22','files','460031oJDWcV','../../../../constants','../utils','../../../../core','catch','readComponentFiles','logger','isParentComponent','MDApiParser','name','14244560UDlmEo','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','map','__importDefault','waveTemplates','split','crc','getChildsByName','.site-meta.xml','CustomLabels','error','package.xml','default','226311yotBoQ','defineProperty','reduce','9411595lwNrBO','test','META_EXPERIENCES_EXTENSION','includes','type','utf-8','extractComponentTypeFromFiles','parse','readBundledFiles','12FzSNog'];a102_0x4897=function(){return _0x3b0457;};return a102_0x4897();}var __importDefault=this&&this[a102_0x10d49a(0x199)]||function(_0x5a9e5e){const _0xf056c7=a102_0x10d49a;return _0x5a9e5e&&_0x5a9e5e[_0xf056c7(0x1b5)]?_0x5a9e5e:{'default':_0x5a9e5e};};Object[a102_0x10d49a(0x1a4)](exports,a102_0x10d49a(0x1b5),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a102_0x10d49a(0x1d7)),utils_1=require(a102_0x10d49a(0x18e)),path_1=require('path'),xml_1=require(a102_0x10d49a(0x1bf)),child_types_map_1=__importDefault(require(a102_0x10d49a(0x1b6))),constants_1=require(a102_0x10d49a(0x18d)),core_1=require(a102_0x10d49a(0x18f)),git_commit_utils_1=require(a102_0x10d49a(0x1be)),crc32_1=require(a102_0x10d49a(0x1d6)),folder_types_1=__importDefault(require('../data/folder-types')),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0x319b46,_0x18efd7,_0x1cc0b1){const _0x46d015=a102_0x10d49a;this['dir']=_0x319b46,this['isSFDXProject']=_0x1cc0b1,this[_0x46d015(0x192)]=new core_1['Logger'](MDApiParser[_0x46d015(0x195)]),this[_0x46d015(0x1cd)]=_0x46d015(0x1c8),this['META_EXPERIENCES_EXTENSION']=_0x46d015(0x19e),this[_0x46d015(0x1bc)]=_0x18efd7;}async['readChildComponents'](_0x3abfbc){const _0x4c3a89=a102_0x10d49a;try{const _0x3ecb18=await xml_1[_0x4c3a89(0x1d8)][_0x4c3a89(0x1ad)](Object[_0x4c3a89(0x1c5)](_0x3abfbc[_0x4c3a89(0x18b)])[0x0][_0x4c3a89(0x1cc)](_0x4c3a89(0x1ab))),_0x824409=CHILD_XML_KEYS[_0x4c3a89(0x1b9)](_0xbebbfb=>xml_1[_0x4c3a89(0x1d8)][_0x4c3a89(0x1c9)](_0x3ecb18,_0xbebbfb))[_0x4c3a89(0x1a5)]((_0x56e4bf,_0x2469b6)=>[..._0x56e4bf,...xml_1['Xml'][_0x4c3a89(0x19d)](_0x3ecb18,_0x2469b6)],[]);return utils_1[_0x4c3a89(0x1c4)](_0x3abfbc,_0x3ecb18,_0x824409);}catch(_0x48b5db){throw new Error(_0x4c3a89(0x1b4)+_0x3abfbc['name']+'\x20['+_0x3abfbc[_0x4c3a89(0x1aa)]+']');}}async[a102_0x10d49a(0x1ae)](_0x119452){const _0x5d422e=a102_0x10d49a,_0x491864=path_1[_0x5d422e(0x1b7)](this['dir'],_0x119452),_0x12b420=_0x119452+(_0x119452[_0x5d422e(0x1c3)](_0x5d422e(0x1d1))?this[_0x5d422e(0x1a8)]:this['META_EXTENSION']),_0x5d9ab9=await fs_internal_1['FS'][_0x5d422e(0x1b1)](_0x491864,!![]),_0x58912b=await fs_internal_1['FS'][_0x5d422e(0x1ca)](path_1[_0x5d422e(0x1b7)](this['dir'],_0x12b420),!![])[_0x5d422e(0x190)](()=>null),_0x463c30={};for(const _0x8faced of _0x5d9ab9){_0x463c30[path_1[_0x5d422e(0x1d5)](this['dir'],_0x8faced)]=await fs_internal_1['FS']['readFile'](_0x8faced,!![]);}return _0x58912b&&(_0x463c30[path_1['relative'](this[_0x5d422e(0x1d9)],_0x12b420)]=_0x58912b),_0x463c30;}async[a102_0x10d49a(0x191)](_0x357121){const _0x3fb581=a102_0x10d49a;let _0x38396b=_0x357121+this[_0x3fb581(0x1cd)];if(constants_1[_0x3fb581(0x1ce)][_0x3fb581(0x1a7)](_0x357121))return this[_0x3fb581(0x1ae)](_0x357121);if(await fs_internal_1['FS']['isDir'](path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x357121))||await fs_internal_1['FS'][_0x3fb581(0x1b3)](path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x38396b))){const _0x4bab9c=await fs_internal_1['FS'][_0x3fb581(0x1ca)](path_1['join'](this[_0x3fb581(0x1d9)],_0x38396b),!![]),_0x1fe386=await utils_1[_0x3fb581(0x1ac)]({'files':{[_0x38396b]:_0x4bab9c}})[_0x3fb581(0x190)](()=>null);if(_0x1fe386&&folder_types_1[_0x3fb581(0x1a2)][_0x3fb581(0x1a9)](_0x1fe386))return{[_0x38396b]:await fs_internal_1['FS'][_0x3fb581(0x1ca)](path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x38396b),!![])};}if(!path_1[_0x3fb581(0x1bb)](_0x357121)&&this['isSFDXProject']){const _0x58a080=_0x357121[_0x3fb581(0x19b)]('/')[0x0],_0xa9f01d=(await fs_internal_1['FS'][_0x3fb581(0x1b1)](path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x58a080)))['find'](_0x5b09c3=>git_commit_utils_1[_0x3fb581(0x1b2)](_0x5b09c3,path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x357121)));if(!_0xa9f01d)throw new Error('Component\x20\x22'+_0x357121+_0x3fb581(0x18a)+_0x58a080+'\x22');_0x357121=path_1[_0x3fb581(0x1d5)](this[_0x3fb581(0x1d9)],_0xa9f01d),_0x38396b=_0x357121+this['META_EXTENSION'];}const [_0x1433db,_0x403413]=await Promise['all']([fs_internal_1['FS']['readFile'](path_1['join'](this[_0x3fb581(0x1d9)],_0x357121),!![])[_0x3fb581(0x190)](()=>null),fs_internal_1['FS'][_0x3fb581(0x1ca)](path_1[_0x3fb581(0x1b7)](this[_0x3fb581(0x1d9)],_0x38396b),!![])[_0x3fb581(0x190)](()=>null)]);return{..._0x1433db?{[_0x357121]:_0x1433db}:{},..._0x403413?{[_0x38396b]:_0x403413}:{}};}async[a102_0x10d49a(0x1d2)](){const _0x535458=a102_0x10d49a,_0x25de9a=[...this[_0x535458(0x1bc)]];if(this[_0x535458(0x1cb)])for(const _0x34119c of _0x25de9a){if(constants_1[_0x535458(0x1ce)][_0x535458(0x1a7)](_0x34119c))continue;if(await fs_internal_1['FS']['isDir'](path_1[_0x535458(0x1b7)](this[_0x535458(0x1d9)],_0x34119c))){const _0x1a4814=await fs_internal_1['FS'][_0x535458(0x1b1)](path_1[_0x535458(0x1b7)](this[_0x535458(0x1d9)],_0x34119c),!![]);_0x25de9a['push'](..._0x1a4814[_0x535458(0x198)](_0xfb158d=>path_1[_0x535458(0x1d5)](this[_0x535458(0x1d9)],_0xfb158d)));}}this[_0x535458(0x1bc)]=utils_1[_0x535458(0x1c0)](_0x25de9a);}async[a102_0x10d49a(0x1ad)](){const _0x18d1cf=a102_0x10d49a;await this[_0x18d1cf(0x1d2)]();const _0x32effd=[];for(const _0x564b9c of this[_0x18d1cf(0x1bc)]){if(_0x564b9c[_0x18d1cf(0x1b0)](_0x18d1cf(0x1a1)))continue;const _0x12df9e={};try{_0x12df9e[_0x18d1cf(0x18b)]=await this[_0x18d1cf(0x191)](_0x564b9c),_0x12df9e[_0x18d1cf(0x1c2)]=constants_1[_0x18d1cf(0x1ce)][_0x18d1cf(0x1a7)](_0x564b9c)?_0x564b9c:utils_1['extractFileNameFromFiles']({'files':_0x12df9e[_0x18d1cf(0x18b)]}),_0x564b9c[_0x18d1cf(0x1c3)](_0x18d1cf(0x19a))?_0x12df9e['type']='WaveTemplateBundle':_0x12df9e[_0x18d1cf(0x1aa)]=await utils_1['extractComponentTypeFromFiles']({'files':_0x12df9e[_0x18d1cf(0x18b)]});}catch(_0x190997){this['logger'][_0x18d1cf(0x1a0)](_0x18d1cf(0x197),_0x564b9c,_0x190997);continue;}_0x12df9e['name']=utils_1[_0x18d1cf(0x1ba)](_0x564b9c),_0x12df9e[_0x18d1cf(0x19c)]=crc32_1[_0x18d1cf(0x1cf)](_0x12df9e);if(utils_1[_0x18d1cf(0x193)](_0x12df9e)){const _0x1ecab1=await this[_0x18d1cf(0x1c6)](_0x12df9e);_0x32effd[_0x18d1cf(0x1d3)](..._0x1ecab1);}if(_0x12df9e[_0x18d1cf(0x1aa)]===_0x18d1cf(0x19f))continue;_0x32effd[_0x18d1cf(0x1d3)](_0x12df9e);}return _0x32effd;}}exports[a102_0x10d49a(0x194)]=MDApiParser;