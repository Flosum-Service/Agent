const a150_0x348ed0=a150_0x1cae;(function(_0x29e317,_0x33a805){const _0x163482=a150_0x1cae,_0x46407a=_0x29e317();while(!![]){try{const _0x1a1612=parseInt(_0x163482(0x174))/0x1*(-parseInt(_0x163482(0x173))/0x2)+parseInt(_0x163482(0x18f))/0x3*(parseInt(_0x163482(0x19f))/0x4)+parseInt(_0x163482(0x195))/0x5+parseInt(_0x163482(0x1ac))/0x6*(parseInt(_0x163482(0x164))/0x7)+parseInt(_0x163482(0x192))/0x8*(-parseInt(_0x163482(0x16b))/0x9)+-parseInt(_0x163482(0x177))/0xa+parseInt(_0x163482(0x1aa))/0xb*(parseInt(_0x163482(0x166))/0xc);if(_0x1a1612===_0x33a805)break;else _0x46407a['push'](_0x46407a['shift']());}catch(_0x14d50d){_0x46407a['push'](_0x46407a['shift']());}}}(a150_0x5673,0xa37e2));const a150_0x465c63=(function(){let _0x25b17e=!![];return function(_0x4ef0fc,_0x29f532){const _0x17a591=_0x25b17e?function(){const _0x2d13ae=a150_0x1cae;if(_0x29f532){const _0x399b8c=_0x29f532[_0x2d13ae(0x165)](_0x4ef0fc,arguments);return _0x29f532=null,_0x399b8c;}}:function(){};return _0x25b17e=![],_0x17a591;};}()),a150_0x4b32eb=a150_0x465c63(this,function(){const _0x10af90=a150_0x1cae;return a150_0x4b32eb[_0x10af90(0x18c)]()[_0x10af90(0x18e)](_0x10af90(0x169))[_0x10af90(0x18c)]()[_0x10af90(0x180)](a150_0x4b32eb)['search']('(((.+)+)+)+$');});a150_0x4b32eb();'use strict';var __importDefault=this&&this[a150_0x348ed0(0x182)]||function(_0x4f56f8){return _0x4f56f8&&_0x4f56f8['__esModule']?_0x4f56f8:{'default':_0x4f56f8};};Object[a150_0x348ed0(0x196)](exports,a150_0x348ed0(0x199),{'value':!![]}),exports[a150_0x348ed0(0x167)]=void 0x0;const fs_internal_1=require(a150_0x348ed0(0x19d)),utils_1=require('../utils'),path_1=require(a150_0x348ed0(0x1a4)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a150_0x348ed0(0x1af))),constants_1=require(a150_0x348ed0(0x17d)),core_1=require(a150_0x348ed0(0x1a0)),git_commit_utils_1=require(a150_0x348ed0(0x184)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a150_0x348ed0(0x1a9))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a150_0x348ed0(0x176)](child_types_map_1[a150_0x348ed0(0x168)]);function a150_0x1cae(_0x15183a,_0x30237e){const _0x3df221=a150_0x5673();return a150_0x1cae=function(_0x4b32eb,_0x465c63){_0x4b32eb=_0x4b32eb-0x162;let _0x5673bd=_0x3df221[_0x4b32eb];return _0x5673bd;},a150_0x1cae(_0x15183a,_0x30237e);}function a150_0x5673(){const _0x308b5b=['8MAbDyu','Xml','Settings','3504750CRTSJb','defineProperty','all','WaveTemplateBundle','__esModule','name','relative','BUNDLED_FOLDERS_REGEXP','../../internal/fs.internal','isDir','4hpvkqX','../../../../core','init','type','readBundledFiles','path','filter','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','isPathsEquals','paths','../data/folder-types','5816877ZNQLzN','dir','2574924mmSrvA','filePath','CustomLabels','../data/child-types-map','join','calculateCRC32','\x22\x20not\x20found\x20in\x20\x22','catch','.site-meta.xml','14fOxyiT','apply','24XhfzAs','MDApiParser','default','(((.+)+)+)+$','crc','11390067czxnnW','includes','files','map','readComponentFiles','startsWith','reduce','extractComponentTypeFromFiles','834PiOZAG','1069zjDuld','logger','values','12390240qiKlbn','getChildsByName','Component\x20\x22','package.xml','isParentComponent','parse','../../../../constants','readFile','hasChildNodes','constructor','META_EXPERIENCES_EXTENSION','__importDefault','Cannot\x20parse\x20childs\x20in\x20','../../devops/utils/git-commit.utils','META_EXTENSION','push','extname','waveTemplates','readChildComponents','readDir','-meta.xml','toString','utf-8','search','3009462dFXahL','extractFileNameFromFiles','experiences'];a150_0x5673=function(){return _0x308b5b;};return a150_0x5673();}class MDApiParser{constructor(_0x2f6fe7,_0x4f7a1d,_0x1543bb){const _0x4bb80a=a150_0x348ed0;this[_0x4bb80a(0x1ab)]=_0x2f6fe7,this['isSFDXProject']=_0x1543bb,this['logger']=new core_1['Logger'](MDApiParser[_0x4bb80a(0x19a)]),this['META_EXTENSION']=_0x4bb80a(0x18b),this[_0x4bb80a(0x181)]=_0x4bb80a(0x163),this['paths']=_0x4f7a1d;}async[a150_0x348ed0(0x189)](_0x5d83c7){const _0x4adefe=a150_0x348ed0;try{const _0x313062=await xml_1[_0x4adefe(0x193)]['parse'](Object[_0x4adefe(0x176)](_0x5d83c7[_0x4adefe(0x16d)])[0x0]['toString'](_0x4adefe(0x18d))),_0x13b283=CHILD_XML_KEYS[_0x4adefe(0x1a5)](_0x6382e0=>xml_1['Xml'][_0x4adefe(0x17f)](_0x313062,_0x6382e0))[_0x4adefe(0x171)]((_0x34d12e,_0x250ee6)=>[..._0x34d12e,...xml_1[_0x4adefe(0x193)][_0x4adefe(0x178)](_0x313062,_0x250ee6)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x5d83c7,_0x313062,_0x13b283);}catch(_0x3bc171){throw new Error(_0x4adefe(0x183)+_0x5d83c7[_0x4adefe(0x19a)]+'\x20['+_0x5d83c7[_0x4adefe(0x1a2)]+']');}}async['readBundledFiles'](_0x277b88){const _0x3e4460=a150_0x348ed0,_0x583a18=(0x0,path_1['join'])(this[_0x3e4460(0x1ab)],_0x277b88),_0x3756bd=_0x277b88+(_0x277b88['startsWith'](_0x3e4460(0x191))?this['META_EXPERIENCES_EXTENSION']:this[_0x3e4460(0x185)]),_0x2324da=await fs_internal_1['FS']['readDir'](_0x583a18,!![]),_0x2bac37=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x3e4460(0x1b0)])(this[_0x3e4460(0x1ab)],_0x3756bd),!![])[_0x3e4460(0x162)](()=>null),_0x53d503={};for(const _0x100aa1 of _0x2324da){_0x53d503[(0x0,path_1[_0x3e4460(0x19b)])(this[_0x3e4460(0x1ab)],_0x100aa1)]=await fs_internal_1['FS'][_0x3e4460(0x17e)](_0x100aa1,!![]);}return _0x2bac37&&(_0x53d503[(0x0,path_1[_0x3e4460(0x19b)])(this[_0x3e4460(0x1ab)],_0x3756bd)]=_0x2bac37),_0x53d503;}async[a150_0x348ed0(0x16f)](_0x5dc548){const _0x2e5f56=a150_0x348ed0;let _0x172297=_0x5dc548+this[_0x2e5f56(0x185)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x5dc548))return this[_0x2e5f56(0x1a3)](_0x5dc548);if(await fs_internal_1['FS'][_0x2e5f56(0x19e)]((0x0,path_1[_0x2e5f56(0x1b0)])(this[_0x2e5f56(0x1ab)],_0x5dc548))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x2e5f56(0x1b0)])(this[_0x2e5f56(0x1ab)],_0x172297))){const _0x24e21c=await fs_internal_1['FS'][_0x2e5f56(0x17e)]((0x0,path_1['join'])(this[_0x2e5f56(0x1ab)],_0x172297),!![]),_0x1350c2=await(0x0,utils_1[_0x2e5f56(0x172)])({'files':{[_0x172297]:_0x24e21c}})['catch'](()=>null);if(_0x1350c2&&folder_types_1[_0x2e5f56(0x168)][_0x2e5f56(0x16c)](_0x1350c2))return{[_0x172297]:await fs_internal_1['FS'][_0x2e5f56(0x17e)]((0x0,path_1['join'])(this[_0x2e5f56(0x1ab)],_0x172297),!![])};}if(!(0x0,path_1[_0x2e5f56(0x187)])(_0x5dc548)&&this['isSFDXProject']){const _0x94014=_0x5dc548['split']('/')[0x0],_0x51625a=(await fs_internal_1['FS'][_0x2e5f56(0x18a)]((0x0,path_1[_0x2e5f56(0x1b0)])(this[_0x2e5f56(0x1ab)],_0x94014)))['find'](_0x448c34=>(0x0,git_commit_utils_1[_0x2e5f56(0x1a7)])(_0x448c34,(0x0,path_1[_0x2e5f56(0x1b0)])(this[_0x2e5f56(0x1ab)],_0x5dc548)));if(!_0x51625a)throw new Error(_0x2e5f56(0x179)+_0x5dc548+_0x2e5f56(0x1b2)+_0x94014+'\x22');_0x5dc548=(0x0,path_1[_0x2e5f56(0x19b)])(this[_0x2e5f56(0x1ab)],_0x51625a),_0x172297=_0x5dc548+this[_0x2e5f56(0x185)];}const [_0x31506c,_0x570572]=await Promise[_0x2e5f56(0x197)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x2e5f56(0x1b0)])(this['dir'],_0x5dc548),!![])[_0x2e5f56(0x162)](()=>null),fs_internal_1['FS'][_0x2e5f56(0x17e)]((0x0,path_1[_0x2e5f56(0x1b0)])(this[_0x2e5f56(0x1ab)],_0x172297),!![])['catch'](()=>null)]);return{..._0x31506c?{[_0x5dc548]:_0x31506c}:{},..._0x570572?{[_0x172297]:_0x570572}:{}};}async[a150_0x348ed0(0x1a1)](){const _0x2a705d=a150_0x348ed0,_0x5c6167=[...this[_0x2a705d(0x1a8)]];if(this['isSFDXProject'])for(const _0x14f803 of _0x5c6167){if(constants_1[_0x2a705d(0x19c)]['test'](_0x14f803))continue;if(await fs_internal_1['FS'][_0x2a705d(0x19e)]((0x0,path_1[_0x2a705d(0x1b0)])(this[_0x2a705d(0x1ab)],_0x14f803))){const _0x5c9460=await fs_internal_1['FS'][_0x2a705d(0x18a)]((0x0,path_1['join'])(this[_0x2a705d(0x1ab)],_0x14f803),!![]);_0x5c6167['push'](..._0x5c9460[_0x2a705d(0x16e)](_0x5b6e1f=>(0x0,path_1['relative'])(this['dir'],_0x5b6e1f)));}}this[_0x2a705d(0x1a8)]=(0x0,utils_1['convertToCleanPaths'])(_0x5c6167);}async[a150_0x348ed0(0x17c)](){const _0xba2e6a=a150_0x348ed0;await this['init']();const _0x464dcc=[];for(const _0x139611 of this[_0xba2e6a(0x1a8)]){if(_0x139611['endsWith'](_0xba2e6a(0x17a)))continue;const _0x482a31={};try{_0x482a31[_0xba2e6a(0x16d)]=await this[_0xba2e6a(0x16f)](_0x139611),_0x482a31[_0xba2e6a(0x1ad)]=constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x139611)?_0x139611:(0x0,utils_1[_0xba2e6a(0x190)])({'files':_0x482a31['files']}),_0x139611[_0xba2e6a(0x170)](_0xba2e6a(0x188))?_0x482a31[_0xba2e6a(0x1a2)]=_0xba2e6a(0x198):_0x482a31[_0xba2e6a(0x1a2)]=await(0x0,utils_1[_0xba2e6a(0x172)])({'files':_0x482a31[_0xba2e6a(0x16d)]});}catch(_0x4553eb){this[_0xba2e6a(0x175)]['error'](_0xba2e6a(0x1a6),_0x139611,_0x4553eb);continue;}_0x482a31['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x139611),_0x482a31[_0xba2e6a(0x16a)]=(0x0,crc32_1[_0xba2e6a(0x1b1)])(_0x482a31);if((0x0,utils_1[_0xba2e6a(0x17b)])(_0x482a31)){const _0x8b2601=await this['readChildComponents'](_0x482a31);_0x464dcc[_0xba2e6a(0x186)](..._0x8b2601);}if(_0x482a31[_0xba2e6a(0x1a2)]===_0xba2e6a(0x1ae))continue;settings_types_list_1[_0xba2e6a(0x168)][_0xba2e6a(0x16c)](_0x482a31['type'])&&(_0x482a31[_0xba2e6a(0x1a2)]=_0xba2e6a(0x194)),_0x464dcc[_0xba2e6a(0x186)](_0x482a31);}return _0x464dcc;}}exports[a150_0x348ed0(0x167)]=MDApiParser;