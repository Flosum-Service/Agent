const a150_0x1efb49=a150_0x53b9;(function(_0x19a281,_0xda1b93){const _0x3aa934=a150_0x53b9,_0xe36eff=_0x19a281();while(!![]){try{const _0x22d9b2=parseInt(_0x3aa934(0xcf))/0x1+parseInt(_0x3aa934(0xc1))/0x2*(parseInt(_0x3aa934(0xd8))/0x3)+parseInt(_0x3aa934(0xd4))/0x4+parseInt(_0x3aa934(0xcb))/0x5+-parseInt(_0x3aa934(0xc6))/0x6+parseInt(_0x3aa934(0xe6))/0x7*(-parseInt(_0x3aa934(0xfe))/0x8)+-parseInt(_0x3aa934(0xd5))/0x9*(parseInt(_0x3aa934(0xc7))/0xa);if(_0x22d9b2===_0xda1b93)break;else _0xe36eff['push'](_0xe36eff['shift']());}catch(_0x1a7546){_0xe36eff['push'](_0xe36eff['shift']());}}}(a150_0xa33c,0xaa91f));const a150_0x523660=(function(){let _0x151b69=!![];return function(_0x57616d,_0x3ad905){const _0xd36f5=_0x151b69?function(){if(_0x3ad905){const _0x48bf3e=_0x3ad905['apply'](_0x57616d,arguments);return _0x3ad905=null,_0x48bf3e;}}:function(){};return _0x151b69=![],_0xd36f5;};}()),a150_0x39c725=a150_0x523660(this,function(){const _0xb48c65=a150_0x53b9;return a150_0x39c725['toString']()[_0xb48c65(0xd1)](_0xb48c65(0xef))[_0xb48c65(0xe2)]()['constructor'](a150_0x39c725)['search'](_0xb48c65(0xef));});a150_0x39c725();function a150_0x53b9(_0x2964f,_0x1caf50){const _0x51fbbc=a150_0xa33c();return a150_0x53b9=function(_0x39c725,_0x523660){_0x39c725=_0x39c725-0xbe;let _0xa33c3a=_0x51fbbc[_0x39c725];return _0xa33c3a;},a150_0x53b9(_0x2964f,_0x1caf50);}function a150_0xa33c(){const _0x4d521e=['push','-meta.xml','../data/child-types-map','init','crc','extractComponentTypeFromFiles','WaveTemplateBundle','all','74920LUSOrl','Xml','error','getChildsByName','isDir','default','__importDefault','isPathsEquals','parse','Cannot\x20parse\x20childs\x20in\x20','catch','../utils','type','extractFilenameFromPath','2HstkyQ','.site-meta.xml','__esModule','readBundledFiles','relative','2699814nTLjCF','20GchHvL','BUNDLED_FOLDERS_REGEXP','test','files','2547035hTFMRB','hasChildNodes','readComponentFiles','logger','970546gsoDHF','MDApiParser','search','../../devops/utils/git-commit.utils','startsWith','4080228KOcMqI','6002235fIPCMU','waveTemplates','../utils/xml','3522eivplY','Logger','reduce','isSFDXProject','META_EXTENSION','paths','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','path','../../internal/fs.internal','experiences','toString','exists','readDir','readChildComponents','14bUQFro','calculateCRC32','utf-8','join','dir','../../../../core','createChildComponentsFromParent','readFile','../data/settings-types-list','(((.+)+)+)+$','name','Component\x20\x22','extractFileNameFromFiles','values','filter','includes'];a150_0xa33c=function(){return _0x4d521e;};return a150_0xa33c();}'use strict';var __importDefault=this&&this[a150_0x1efb49(0x104)]||function(_0x26c160){const _0x53d470=a150_0x1efb49;return _0x26c160&&_0x26c160[_0x53d470(0xc3)]?_0x26c160:{'default':_0x26c160};};Object['defineProperty'](exports,a150_0x1efb49(0xc3),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a150_0x1efb49(0xe0)),utils_1=require(a150_0x1efb49(0xbe)),path_1=require(a150_0x1efb49(0xdf)),xml_1=require(a150_0x1efb49(0xd7)),child_types_map_1=__importDefault(require(a150_0x1efb49(0xf8))),constants_1=require('../../../../constants'),core_1=require(a150_0x1efb49(0xeb)),git_commit_utils_1=require(a150_0x1efb49(0xd2)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a150_0x1efb49(0xee))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a150_0x1efb49(0x103)]);class MDApiParser{constructor(_0x3f3195,_0x22c911,_0x327eef){const _0x2b9099=a150_0x1efb49;this[_0x2b9099(0xea)]=_0x3f3195,this[_0x2b9099(0xdb)]=_0x327eef,this['logger']=new core_1[(_0x2b9099(0xd9))](MDApiParser[_0x2b9099(0xf0)]),this[_0x2b9099(0xdc)]=_0x2b9099(0xf7),this['META_EXPERIENCES_EXTENSION']=_0x2b9099(0xc2),this[_0x2b9099(0xdd)]=_0x22c911;}async[a150_0x1efb49(0xe5)](_0x174488){const _0x1ca008=a150_0x1efb49;try{const _0x1aee62=await xml_1[_0x1ca008(0xff)][_0x1ca008(0x106)](Object[_0x1ca008(0xf3)](_0x174488[_0x1ca008(0xca)])[0x0][_0x1ca008(0xe2)](_0x1ca008(0xe8))),_0x21ef69=CHILD_XML_KEYS[_0x1ca008(0xf4)](_0x2fffc7=>xml_1[_0x1ca008(0xff)][_0x1ca008(0xcc)](_0x1aee62,_0x2fffc7))[_0x1ca008(0xda)]((_0x5b1e42,_0x1409a4)=>[..._0x5b1e42,...xml_1['Xml'][_0x1ca008(0x101)](_0x1aee62,_0x1409a4)],[]);return(0x0,utils_1[_0x1ca008(0xec)])(_0x174488,_0x1aee62,_0x21ef69);}catch(_0x2eeda0){throw new Error(_0x1ca008(0x107)+_0x174488[_0x1ca008(0xf0)]+'\x20['+_0x174488[_0x1ca008(0xbf)]+']');}}async[a150_0x1efb49(0xc4)](_0x434223){const _0x26f4a0=a150_0x1efb49,_0x538f0e=(0x0,path_1[_0x26f4a0(0xe9)])(this[_0x26f4a0(0xea)],_0x434223),_0x2afeab=_0x434223+(_0x434223['startsWith'](_0x26f4a0(0xe1))?this['META_EXPERIENCES_EXTENSION']:this[_0x26f4a0(0xdc)]),_0x20fe12=await fs_internal_1['FS'][_0x26f4a0(0xe4)](_0x538f0e,!![]),_0x26934a=await fs_internal_1['FS'][_0x26f4a0(0xed)]((0x0,path_1[_0x26f4a0(0xe9)])(this[_0x26f4a0(0xea)],_0x2afeab),!![])[_0x26f4a0(0x108)](()=>null),_0x411962={};for(const _0x263127 of _0x20fe12){_0x411962[(0x0,path_1['relative'])(this['dir'],_0x263127)]=await fs_internal_1['FS']['readFile'](_0x263127,!![]);}return _0x26934a&&(_0x411962[(0x0,path_1[_0x26f4a0(0xc5)])(this[_0x26f4a0(0xea)],_0x2afeab)]=_0x26934a),_0x411962;}async[a150_0x1efb49(0xcd)](_0x2962d1){const _0x1cec54=a150_0x1efb49;let _0x4c6f95=_0x2962d1+this[_0x1cec54(0xdc)];if(constants_1[_0x1cec54(0xc8)][_0x1cec54(0xc9)](_0x2962d1))return this[_0x1cec54(0xc4)](_0x2962d1);if(await fs_internal_1['FS'][_0x1cec54(0x102)]((0x0,path_1['join'])(this[_0x1cec54(0xea)],_0x2962d1))||await fs_internal_1['FS'][_0x1cec54(0xe3)]((0x0,path_1['join'])(this[_0x1cec54(0xea)],_0x4c6f95))){const _0x244c6a=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x1cec54(0xe9)])(this['dir'],_0x4c6f95),!![]),_0x44283c=await(0x0,utils_1[_0x1cec54(0xfb)])({'files':{[_0x4c6f95]:_0x244c6a}})[_0x1cec54(0x108)](()=>null);if(_0x44283c&&folder_types_1['default'][_0x1cec54(0xf5)](_0x44283c))return{[_0x4c6f95]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x1cec54(0xe9)])(this[_0x1cec54(0xea)],_0x4c6f95),!![])};}if(!(0x0,path_1['extname'])(_0x2962d1)&&this[_0x1cec54(0xdb)]){const _0x1261a8=_0x2962d1['split']('/')[0x0],_0x6284d9=(await fs_internal_1['FS'][_0x1cec54(0xe4)]((0x0,path_1[_0x1cec54(0xe9)])(this[_0x1cec54(0xea)],_0x1261a8)))['find'](_0x3ad6bf=>(0x0,git_commit_utils_1[_0x1cec54(0x105)])(_0x3ad6bf,(0x0,path_1['join'])(this[_0x1cec54(0xea)],_0x2962d1)));if(!_0x6284d9)throw new Error(_0x1cec54(0xf1)+_0x2962d1+'\x22\x20not\x20found\x20in\x20\x22'+_0x1261a8+'\x22');_0x2962d1=(0x0,path_1['relative'])(this[_0x1cec54(0xea)],_0x6284d9),_0x4c6f95=_0x2962d1+this[_0x1cec54(0xdc)];}const [_0x26dbee,_0x3206ba]=await Promise[_0x1cec54(0xfd)]([fs_internal_1['FS'][_0x1cec54(0xed)]((0x0,path_1['join'])(this[_0x1cec54(0xea)],_0x2962d1),!![])['catch'](()=>null),fs_internal_1['FS'][_0x1cec54(0xed)]((0x0,path_1['join'])(this[_0x1cec54(0xea)],_0x4c6f95),!![])[_0x1cec54(0x108)](()=>null)]);return{..._0x26dbee?{[_0x2962d1]:_0x26dbee}:{},..._0x3206ba?{[_0x4c6f95]:_0x3206ba}:{}};}async[a150_0x1efb49(0xf9)](){const _0x282101=a150_0x1efb49,_0x2bb5a3=[...this[_0x282101(0xdd)]];if(this[_0x282101(0xdb)])for(const _0x350862 of _0x2bb5a3){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x282101(0xc9)](_0x350862))continue;if(await fs_internal_1['FS'][_0x282101(0x102)]((0x0,path_1[_0x282101(0xe9)])(this[_0x282101(0xea)],_0x350862))){const _0x17b5cf=await fs_internal_1['FS'][_0x282101(0xe4)]((0x0,path_1['join'])(this[_0x282101(0xea)],_0x350862),!![]);_0x2bb5a3[_0x282101(0xf6)](..._0x17b5cf['map'](_0x24cc19=>(0x0,path_1[_0x282101(0xc5)])(this[_0x282101(0xea)],_0x24cc19)));}}this[_0x282101(0xdd)]=(0x0,utils_1['convertToCleanPaths'])(_0x2bb5a3);}async[a150_0x1efb49(0x106)](){const _0x1c5754=a150_0x1efb49;await this[_0x1c5754(0xf9)]();const _0x306286=[];for(const _0x17d220 of this[_0x1c5754(0xdd)]){if(_0x17d220['endsWith']('package.xml'))continue;const _0x2a1d90={};try{_0x2a1d90[_0x1c5754(0xca)]=await this[_0x1c5754(0xcd)](_0x17d220),_0x2a1d90['filePath']=constants_1[_0x1c5754(0xc8)][_0x1c5754(0xc9)](_0x17d220)?_0x17d220:(0x0,utils_1[_0x1c5754(0xf2)])({'files':_0x2a1d90[_0x1c5754(0xca)]}),_0x17d220[_0x1c5754(0xd3)](_0x1c5754(0xd6))?_0x2a1d90[_0x1c5754(0xbf)]=_0x1c5754(0xfc):_0x2a1d90[_0x1c5754(0xbf)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x2a1d90[_0x1c5754(0xca)]});}catch(_0x4c3098){this[_0x1c5754(0xce)][_0x1c5754(0x100)](_0x1c5754(0xde),_0x17d220,_0x4c3098);continue;}_0x2a1d90[_0x1c5754(0xf0)]=(0x0,utils_1[_0x1c5754(0xc0)])(_0x17d220),_0x2a1d90[_0x1c5754(0xfa)]=(0x0,crc32_1[_0x1c5754(0xe7)])(_0x2a1d90);if((0x0,utils_1['isParentComponent'])(_0x2a1d90)){const _0x312afc=await this[_0x1c5754(0xe5)](_0x2a1d90);_0x306286[_0x1c5754(0xf6)](..._0x312afc);}if(_0x2a1d90[_0x1c5754(0xbf)]==='CustomLabels')continue;settings_types_list_1[_0x1c5754(0x103)]['includes'](_0x2a1d90[_0x1c5754(0xbf)])&&(_0x2a1d90[_0x1c5754(0xbf)]='Settings'),_0x306286[_0x1c5754(0xf6)](_0x2a1d90);}return _0x306286;}}exports[a150_0x1efb49(0xd0)]=MDApiParser;