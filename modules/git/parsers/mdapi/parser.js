const a115_0x5068c1=a115_0x301f;(function(_0x2dea34,_0x421b77){const _0x4571a5=a115_0x301f,_0x1b565b=_0x2dea34();while(!![]){try{const _0x1f84a5=parseInt(_0x4571a5(0xb1))/0x1*(parseInt(_0x4571a5(0xbf))/0x2)+-parseInt(_0x4571a5(0xd1))/0x3+-parseInt(_0x4571a5(0xc4))/0x4*(parseInt(_0x4571a5(0xca))/0x5)+parseInt(_0x4571a5(0xf3))/0x6*(parseInt(_0x4571a5(0xe3))/0x7)+-parseInt(_0x4571a5(0xde))/0x8+-parseInt(_0x4571a5(0xf0))/0x9*(parseInt(_0x4571a5(0xc3))/0xa)+-parseInt(_0x4571a5(0xaf))/0xb*(-parseInt(_0x4571a5(0xb4))/0xc);if(_0x1f84a5===_0x421b77)break;else _0x1b565b['push'](_0x1b565b['shift']());}catch(_0xc3f35b){_0x1b565b['push'](_0x1b565b['shift']());}}}(a115_0x244b,0x22bb4));function a115_0x301f(_0x5bc7e8,_0x31103f){const _0x1aec69=a115_0x244b();return a115_0x301f=function(_0x4c4e1b,_0x348b13){_0x4c4e1b=_0x4c4e1b-0xa7;let _0x244bb5=_0x1aec69[_0x4c4e1b];return _0x244bb5;},a115_0x301f(_0x5bc7e8,_0x31103f);}const a115_0x348b13=(function(){let _0x1bbcee=!![];return function(_0x72f242,_0x50788c){const _0x40c38c=_0x1bbcee?function(){const _0x33a442=a115_0x301f;if(_0x50788c){const _0x4fb110=_0x50788c[_0x33a442(0xb8)](_0x72f242,arguments);return _0x50788c=null,_0x4fb110;}}:function(){};return _0x1bbcee=![],_0x40c38c;};}()),a115_0x4c4e1b=a115_0x348b13(this,function(){const _0x34a503=a115_0x301f;return a115_0x4c4e1b[_0x34a503(0xe6)]()['search'](_0x34a503(0xce))['toString']()[_0x34a503(0xf6)](a115_0x4c4e1b)[_0x34a503(0xea)](_0x34a503(0xce));});a115_0x4c4e1b();'use strict';var __importDefault=this&&this[a115_0x5068c1(0xa7)]||function(_0x424e97){const _0x3a6746=a115_0x5068c1;return _0x424e97&&_0x424e97[_0x3a6746(0xb2)]?_0x424e97:{'default':_0x424e97};};function a115_0x244b(){const _0x5bb81c=['name','extname','extractComponentTypeFromFiles','values','.site-meta.xml','CustomLabels','66mmujLP','../data/folder-types','5895vjzKXm','__esModule','test','1066428HNjDPi','all','catch','../data/child-types-map','apply','../../../../core','default','path','package.xml','init','join','12AqNzoT','../../devops/utils/git-commit.utils','isPathsEquals','dir','224630mmqOSt','404bGwdQl','hasChildNodes','Logger','getChildsByName','META_EXTENSION','readBundledFiles','1490PCKYgL','waveTemplates','type','convertToCleanPaths','(((.+)+)+)+$','includes','readDir','567627LfrFfz','readChildComponents','Xml','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','isSFDXProject','map','Cannot\x20parse\x20childs\x20in\x20','Component\x20\x22','../utils/xml','files','filter','parse','logger','1233280qnRKjh','META_EXPERIENCES_EXTENSION','readFile','\x22\x20not\x20found\x20in\x20\x22','relative','27307QTEuwE','push','-meta.xml','toString','crc','find','isDir','search','isParentComponent','defineProperty','../utils','extractFileNameFromFiles','MDApiParser','54FHRlJM','BUNDLED_FOLDERS_REGEXP','endsWith','126lKCupL','readComponentFiles','split','constructor','paths','__importDefault','startsWith'];a115_0x244b=function(){return _0x5bb81c;};return a115_0x244b();}Object[a115_0x5068c1(0xec)](exports,a115_0x5068c1(0xb2),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a115_0x5068c1(0xed)),path_1=require(a115_0x5068c1(0xbb)),xml_1=require(a115_0x5068c1(0xd9)),child_types_map_1=__importDefault(require(a115_0x5068c1(0xb7))),constants_1=require('../../../../constants'),core_1=require(a115_0x5068c1(0xb9)),git_commit_utils_1=require(a115_0x5068c1(0xc0)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a115_0x5068c1(0xb0))),CHILD_XML_KEYS=Object[a115_0x5068c1(0xac)](child_types_map_1[a115_0x5068c1(0xba)]);class MDApiParser{constructor(_0x33b641,_0x117c72,_0x196367){const _0x49b57e=a115_0x5068c1;this[_0x49b57e(0xc2)]=_0x33b641,this[_0x49b57e(0xd5)]=_0x196367,this[_0x49b57e(0xdd)]=new core_1[(_0x49b57e(0xc6))](MDApiParser[_0x49b57e(0xa9)]),this[_0x49b57e(0xc8)]=_0x49b57e(0xe5),this[_0x49b57e(0xdf)]=_0x49b57e(0xad),this['paths']=_0x117c72;}async[a115_0x5068c1(0xd2)](_0x5bc4ff){const _0x3b93bd=a115_0x5068c1;try{const _0x304d99=await xml_1[_0x3b93bd(0xd3)]['parse'](Object[_0x3b93bd(0xac)](_0x5bc4ff['files'])[0x0][_0x3b93bd(0xe6)]('utf-8')),_0x231f23=CHILD_XML_KEYS[_0x3b93bd(0xdb)](_0x2ba4e1=>xml_1['Xml'][_0x3b93bd(0xc5)](_0x304d99,_0x2ba4e1))['reduce']((_0x1fc7d5,_0x4b16aa)=>[..._0x1fc7d5,...xml_1[_0x3b93bd(0xd3)][_0x3b93bd(0xc7)](_0x304d99,_0x4b16aa)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x5bc4ff,_0x304d99,_0x231f23);}catch(_0x230dd8){throw new Error(_0x3b93bd(0xd7)+_0x5bc4ff['name']+'\x20['+_0x5bc4ff[_0x3b93bd(0xcc)]+']');}}async['readBundledFiles'](_0x5f2d11){const _0x75248f=a115_0x5068c1,_0x571765=(0x0,path_1[_0x75248f(0xbe)])(this[_0x75248f(0xc2)],_0x5f2d11),_0x4423d5=_0x5f2d11+(_0x5f2d11[_0x75248f(0xa8)]('experiences')?this['META_EXPERIENCES_EXTENSION']:this[_0x75248f(0xc8)]),_0x7a1fb9=await fs_internal_1['FS'][_0x75248f(0xd0)](_0x571765,!![]),_0x2e71f2=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x75248f(0xbe)])(this['dir'],_0x4423d5),!![])[_0x75248f(0xb6)](()=>null),_0x1810da={};for(const _0x44e2d2 of _0x7a1fb9){_0x1810da[(0x0,path_1[_0x75248f(0xe2)])(this[_0x75248f(0xc2)],_0x44e2d2)]=await fs_internal_1['FS']['readFile'](_0x44e2d2,!![]);}return _0x2e71f2&&(_0x1810da[(0x0,path_1[_0x75248f(0xe2)])(this['dir'],_0x4423d5)]=_0x2e71f2),_0x1810da;}async[a115_0x5068c1(0xf4)](_0x1d5dda){const _0x761010=a115_0x5068c1;let _0x13c6b6=_0x1d5dda+this[_0x761010(0xc8)];if(constants_1[_0x761010(0xf1)][_0x761010(0xb3)](_0x1d5dda))return this[_0x761010(0xc9)](_0x1d5dda);if(await fs_internal_1['FS']['isDir']((0x0,path_1['join'])(this['dir'],_0x1d5dda))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x761010(0xbe)])(this['dir'],_0x13c6b6))){const _0x4d8c97=await fs_internal_1['FS'][_0x761010(0xe0)]((0x0,path_1[_0x761010(0xbe)])(this['dir'],_0x13c6b6),!![]),_0x13610b=await(0x0,utils_1[_0x761010(0xab)])({'files':{[_0x13c6b6]:_0x4d8c97}})[_0x761010(0xb6)](()=>null);if(_0x13610b&&folder_types_1['default'][_0x761010(0xcf)](_0x13610b))return{[_0x13c6b6]:await fs_internal_1['FS'][_0x761010(0xe0)]((0x0,path_1[_0x761010(0xbe)])(this[_0x761010(0xc2)],_0x13c6b6),!![])};}if(!(0x0,path_1[_0x761010(0xaa)])(_0x1d5dda)&&this[_0x761010(0xd5)]){const _0x1d916a=_0x1d5dda[_0x761010(0xf5)]('/')[0x0],_0x32c541=(await fs_internal_1['FS'][_0x761010(0xd0)]((0x0,path_1['join'])(this[_0x761010(0xc2)],_0x1d916a)))[_0x761010(0xe8)](_0x263ca6=>(0x0,git_commit_utils_1[_0x761010(0xc1)])(_0x263ca6,(0x0,path_1[_0x761010(0xbe)])(this[_0x761010(0xc2)],_0x1d5dda)));if(!_0x32c541)throw new Error(_0x761010(0xd8)+_0x1d5dda+_0x761010(0xe1)+_0x1d916a+'\x22');_0x1d5dda=(0x0,path_1[_0x761010(0xe2)])(this['dir'],_0x32c541),_0x13c6b6=_0x1d5dda+this[_0x761010(0xc8)];}const [_0x4140c0,_0x3c102c]=await Promise[_0x761010(0xb5)]([fs_internal_1['FS'][_0x761010(0xe0)]((0x0,path_1['join'])(this[_0x761010(0xc2)],_0x1d5dda),!![])['catch'](()=>null),fs_internal_1['FS'][_0x761010(0xe0)]((0x0,path_1['join'])(this[_0x761010(0xc2)],_0x13c6b6),!![])[_0x761010(0xb6)](()=>null)]);return{..._0x4140c0?{[_0x1d5dda]:_0x4140c0}:{},..._0x3c102c?{[_0x13c6b6]:_0x3c102c}:{}};}async[a115_0x5068c1(0xbd)](){const _0x79b421=a115_0x5068c1,_0x4f1f7f=[...this[_0x79b421(0xf7)]];if(this['isSFDXProject'])for(const _0x2a1fe9 of _0x4f1f7f){if(constants_1[_0x79b421(0xf1)][_0x79b421(0xb3)](_0x2a1fe9))continue;if(await fs_internal_1['FS'][_0x79b421(0xe9)]((0x0,path_1[_0x79b421(0xbe)])(this[_0x79b421(0xc2)],_0x2a1fe9))){const _0x305bcf=await fs_internal_1['FS'][_0x79b421(0xd0)]((0x0,path_1['join'])(this[_0x79b421(0xc2)],_0x2a1fe9),!![]);_0x4f1f7f[_0x79b421(0xe4)](..._0x305bcf[_0x79b421(0xd6)](_0x39fa56=>(0x0,path_1[_0x79b421(0xe2)])(this[_0x79b421(0xc2)],_0x39fa56)));}}this[_0x79b421(0xf7)]=(0x0,utils_1[_0x79b421(0xcd)])(_0x4f1f7f);}async[a115_0x5068c1(0xdc)](){const _0x3d8744=a115_0x5068c1;await this[_0x3d8744(0xbd)]();const _0x1354f4=[];for(const _0x25cfdf of this['paths']){if(_0x25cfdf[_0x3d8744(0xf2)](_0x3d8744(0xbc)))continue;const _0x56398e={};try{_0x56398e[_0x3d8744(0xda)]=await this[_0x3d8744(0xf4)](_0x25cfdf),_0x56398e['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3d8744(0xb3)](_0x25cfdf)?_0x25cfdf:(0x0,utils_1[_0x3d8744(0xee)])({'files':_0x56398e['files']}),_0x25cfdf['startsWith'](_0x3d8744(0xcb))?_0x56398e[_0x3d8744(0xcc)]='WaveTemplateBundle':_0x56398e['type']=await(0x0,utils_1[_0x3d8744(0xab)])({'files':_0x56398e['files']});}catch(_0x346253){this['logger']['error'](_0x3d8744(0xd4),_0x25cfdf,_0x346253);continue;}_0x56398e[_0x3d8744(0xa9)]=(0x0,utils_1['extractFilenameFromPath'])(_0x25cfdf),_0x56398e[_0x3d8744(0xe7)]=(0x0,crc32_1['calculateCRC32'])(_0x56398e);if((0x0,utils_1[_0x3d8744(0xeb)])(_0x56398e)){const _0x423864=await this[_0x3d8744(0xd2)](_0x56398e);_0x1354f4[_0x3d8744(0xe4)](..._0x423864);}if(_0x56398e[_0x3d8744(0xcc)]===_0x3d8744(0xae))continue;_0x1354f4[_0x3d8744(0xe4)](_0x56398e);}return _0x1354f4;}}exports[a115_0x5068c1(0xef)]=MDApiParser;