const a150_0x31e87b=a150_0x440d;(function(_0x1e69ce,_0x3ccedf){const _0x658f13=a150_0x440d,_0x448765=_0x1e69ce();while(!![]){try{const _0x541ac6=parseInt(_0x658f13(0xdc))/0x1+parseInt(_0x658f13(0xbb))/0x2*(parseInt(_0x658f13(0xe4))/0x3)+-parseInt(_0x658f13(0xc1))/0x4*(parseInt(_0x658f13(0xdb))/0x5)+parseInt(_0x658f13(0xd2))/0x6+-parseInt(_0x658f13(0xda))/0x7*(-parseInt(_0x658f13(0xc0))/0x8)+parseInt(_0x658f13(0xb4))/0x9+-parseInt(_0x658f13(0xd9))/0xa;if(_0x541ac6===_0x3ccedf)break;else _0x448765['push'](_0x448765['shift']());}catch(_0x4db915){_0x448765['push'](_0x448765['shift']());}}}(a150_0x15d1,0xdf97e));function a150_0x15d1(){const _0x5724db=['(((.+)+)+)+$','readChildComponents','7334814XHcWLX','experiences','isSFDXProject','logger','createChildComponentsFromParent','../../internal/fs.internal','extractComponentTypeFromFiles','28642770Obtmig','4249quOSOV','145HwWeWn','1759115wwBkXp','startsWith','Settings','relative','default','reduce','META_EXTENSION','WaveTemplateBundle','17994FljZvL','path','catch','crc','find','type','filter','__esModule','constructor','paths','../utils/xml','../../../../core','utf-8','META_EXPERIENCES_EXTENSION','search','join','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','all','includes','../../../../constants','test','Component\x20\x22','defineProperty','parse','toString','files','split','values','__importDefault','Xml','7906320RcpUyK','BUNDLED_FOLDERS_REGEXP','isPathsEquals','../utils','extractFilenameFromPath','dir','../utils/crc32','4nWTgEr','readDir','apply','../data/folder-types','extname','4352HlPPbg','58228lMhcCN','hasChildNodes','readComponentFiles','name','calculateCRC32','../../devops/utils/git-commit.utils','readFile','init','../data/child-types-map','Cannot\x20parse\x20childs\x20in\x20','convertToCleanPaths','\x22\x20not\x20found\x20in\x20\x22','MDApiParser','package.xml','error'];a150_0x15d1=function(){return _0x5724db;};return a150_0x15d1();}function a150_0x440d(_0xdd27d0,_0x52a87e){const _0x58e57b=a150_0x15d1();return a150_0x440d=function(_0x295338,_0x25c70b){_0x295338=_0x295338-0xa7;let _0x15d1c6=_0x58e57b[_0x295338];return _0x15d1c6;},a150_0x440d(_0xdd27d0,_0x52a87e);}const a150_0x25c70b=(function(){let _0x3647e3=!![];return function(_0x1f2fe6,_0x35c11c){const _0x49e3ae=_0x3647e3?function(){const _0x10a829=a150_0x440d;if(_0x35c11c){const _0x51abc8=_0x35c11c[_0x10a829(0xbd)](_0x1f2fe6,arguments);return _0x35c11c=null,_0x51abc8;}}:function(){};return _0x3647e3=![],_0x49e3ae;};}()),a150_0x295338=a150_0x25c70b(this,function(){const _0x22e379=a150_0x440d;return a150_0x295338[_0x22e379(0xae)]()[_0x22e379(0xf2)](_0x22e379(0xd0))[_0x22e379(0xae)]()[_0x22e379(0xec)](a150_0x295338)[_0x22e379(0xf2)]('(((.+)+)+)+$');});a150_0x295338();'use strict';var __importDefault=this&&this[a150_0x31e87b(0xb2)]||function(_0x1a8c77){const _0x530f39=a150_0x31e87b;return _0x1a8c77&&_0x1a8c77[_0x530f39(0xeb)]?_0x1a8c77:{'default':_0x1a8c77};};Object[a150_0x31e87b(0xac)](exports,a150_0x31e87b(0xeb),{'value':!![]}),exports[a150_0x31e87b(0xcd)]=void 0x0;const fs_internal_1=require(a150_0x31e87b(0xd7)),utils_1=require(a150_0x31e87b(0xb7)),path_1=require(a150_0x31e87b(0xe5)),xml_1=require(a150_0x31e87b(0xee)),child_types_map_1=__importDefault(require(a150_0x31e87b(0xc9))),constants_1=require(a150_0x31e87b(0xa9)),core_1=require(a150_0x31e87b(0xef)),git_commit_utils_1=require(a150_0x31e87b(0xc6)),crc32_1=require(a150_0x31e87b(0xba)),folder_types_1=__importDefault(require(a150_0x31e87b(0xbe))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a150_0x31e87b(0xb1)](child_types_map_1[a150_0x31e87b(0xe0)]);class MDApiParser{constructor(_0x49fba6,_0x35f220,_0x2ff104){const _0x4d2a67=a150_0x31e87b;this['dir']=_0x49fba6,this['isSFDXProject']=_0x2ff104,this[_0x4d2a67(0xd5)]=new core_1['Logger'](MDApiParser['name']),this['META_EXTENSION']='-meta.xml',this[_0x4d2a67(0xf1)]='.site-meta.xml',this[_0x4d2a67(0xed)]=_0x35f220;}async[a150_0x31e87b(0xd1)](_0x481b80){const _0x6ae3b=a150_0x31e87b;try{const _0x5cf3c1=await xml_1[_0x6ae3b(0xb3)][_0x6ae3b(0xad)](Object[_0x6ae3b(0xb1)](_0x481b80[_0x6ae3b(0xaf)])[0x0][_0x6ae3b(0xae)](_0x6ae3b(0xf0))),_0x4eba59=CHILD_XML_KEYS[_0x6ae3b(0xea)](_0x413804=>xml_1[_0x6ae3b(0xb3)][_0x6ae3b(0xc2)](_0x5cf3c1,_0x413804))[_0x6ae3b(0xe1)]((_0x35e82c,_0x39816e)=>[..._0x35e82c,...xml_1[_0x6ae3b(0xb3)]['getChildsByName'](_0x5cf3c1,_0x39816e)],[]);return(0x0,utils_1[_0x6ae3b(0xd6)])(_0x481b80,_0x5cf3c1,_0x4eba59);}catch(_0x48d125){throw new Error(_0x6ae3b(0xca)+_0x481b80['name']+'\x20['+_0x481b80[_0x6ae3b(0xe9)]+']');}}async['readBundledFiles'](_0x5a7f80){const _0x1c6691=a150_0x31e87b,_0x21bca3=(0x0,path_1[_0x1c6691(0xf3)])(this[_0x1c6691(0xb9)],_0x5a7f80),_0x578901=_0x5a7f80+(_0x5a7f80[_0x1c6691(0xdd)](_0x1c6691(0xd3))?this[_0x1c6691(0xf1)]:this[_0x1c6691(0xe2)]),_0x403666=await fs_internal_1['FS'][_0x1c6691(0xbc)](_0x21bca3,!![]),_0x14def9=await fs_internal_1['FS'][_0x1c6691(0xc7)]((0x0,path_1[_0x1c6691(0xf3)])(this[_0x1c6691(0xb9)],_0x578901),!![])[_0x1c6691(0xe6)](()=>null),_0x154207={};for(const _0x396c15 of _0x403666){_0x154207[(0x0,path_1['relative'])(this[_0x1c6691(0xb9)],_0x396c15)]=await fs_internal_1['FS']['readFile'](_0x396c15,!![]);}return _0x14def9&&(_0x154207[(0x0,path_1['relative'])(this['dir'],_0x578901)]=_0x14def9),_0x154207;}async[a150_0x31e87b(0xc3)](_0x307c88){const _0x4b6811=a150_0x31e87b;let _0xe261bf=_0x307c88+this['META_EXTENSION'];if(constants_1[_0x4b6811(0xb5)]['test'](_0x307c88))return this['readBundledFiles'](_0x307c88);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x4b6811(0xf3)])(this[_0x4b6811(0xb9)],_0x307c88))||await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x4b6811(0xb9)],_0xe261bf))){const _0xd38f10=await fs_internal_1['FS'][_0x4b6811(0xc7)]((0x0,path_1['join'])(this[_0x4b6811(0xb9)],_0xe261bf),!![]),_0x34cab6=await(0x0,utils_1[_0x4b6811(0xd8)])({'files':{[_0xe261bf]:_0xd38f10}})[_0x4b6811(0xe6)](()=>null);if(_0x34cab6&&folder_types_1['default'][_0x4b6811(0xa8)](_0x34cab6))return{[_0xe261bf]:await fs_internal_1['FS'][_0x4b6811(0xc7)]((0x0,path_1[_0x4b6811(0xf3)])(this[_0x4b6811(0xb9)],_0xe261bf),!![])};}if(!(0x0,path_1[_0x4b6811(0xbf)])(_0x307c88)&&this['isSFDXProject']){const _0x4d3b15=_0x307c88[_0x4b6811(0xb0)]('/')[0x0],_0x59499b=(await fs_internal_1['FS'][_0x4b6811(0xbc)]((0x0,path_1['join'])(this[_0x4b6811(0xb9)],_0x4d3b15)))[_0x4b6811(0xe8)](_0x56f180=>(0x0,git_commit_utils_1[_0x4b6811(0xb6)])(_0x56f180,(0x0,path_1[_0x4b6811(0xf3)])(this['dir'],_0x307c88)));if(!_0x59499b)throw new Error(_0x4b6811(0xab)+_0x307c88+_0x4b6811(0xcc)+_0x4d3b15+'\x22');_0x307c88=(0x0,path_1['relative'])(this[_0x4b6811(0xb9)],_0x59499b),_0xe261bf=_0x307c88+this[_0x4b6811(0xe2)];}const [_0x73d889,_0x341d14]=await Promise[_0x4b6811(0xa7)]([fs_internal_1['FS'][_0x4b6811(0xc7)]((0x0,path_1[_0x4b6811(0xf3)])(this[_0x4b6811(0xb9)],_0x307c88),!![])[_0x4b6811(0xe6)](()=>null),fs_internal_1['FS'][_0x4b6811(0xc7)]((0x0,path_1[_0x4b6811(0xf3)])(this[_0x4b6811(0xb9)],_0xe261bf),!![])[_0x4b6811(0xe6)](()=>null)]);return{..._0x73d889?{[_0x307c88]:_0x73d889}:{},..._0x341d14?{[_0xe261bf]:_0x341d14}:{}};}async[a150_0x31e87b(0xc8)](){const _0x2c7361=a150_0x31e87b,_0x287367=[...this[_0x2c7361(0xed)]];if(this[_0x2c7361(0xd4)])for(const _0x2fb8dc of _0x287367){if(constants_1[_0x2c7361(0xb5)]['test'](_0x2fb8dc))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x2c7361(0xf3)])(this[_0x2c7361(0xb9)],_0x2fb8dc))){const _0x205000=await fs_internal_1['FS'][_0x2c7361(0xbc)]((0x0,path_1['join'])(this[_0x2c7361(0xb9)],_0x2fb8dc),!![]);_0x287367['push'](..._0x205000['map'](_0x37fb40=>(0x0,path_1[_0x2c7361(0xdf)])(this['dir'],_0x37fb40)));}}this['paths']=(0x0,utils_1[_0x2c7361(0xcb)])(_0x287367);}async[a150_0x31e87b(0xad)](){const _0x1fe7ad=a150_0x31e87b;await this['init']();const _0x1c381d=[];for(const _0x5bd8d6 of this['paths']){if(_0x5bd8d6['endsWith'](_0x1fe7ad(0xce)))continue;const _0x331180={};try{_0x331180['files']=await this['readComponentFiles'](_0x5bd8d6),_0x331180['filePath']=constants_1[_0x1fe7ad(0xb5)][_0x1fe7ad(0xaa)](_0x5bd8d6)?_0x5bd8d6:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x331180[_0x1fe7ad(0xaf)]}),_0x5bd8d6[_0x1fe7ad(0xdd)]('waveTemplates')?_0x331180[_0x1fe7ad(0xe9)]=_0x1fe7ad(0xe3):_0x331180[_0x1fe7ad(0xe9)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x331180[_0x1fe7ad(0xaf)]});}catch(_0x314835){this[_0x1fe7ad(0xd5)][_0x1fe7ad(0xcf)](_0x1fe7ad(0xf4),_0x5bd8d6,_0x314835);continue;}_0x331180[_0x1fe7ad(0xc4)]=(0x0,utils_1[_0x1fe7ad(0xb8)])(_0x5bd8d6),_0x331180[_0x1fe7ad(0xe7)]=(0x0,crc32_1[_0x1fe7ad(0xc5)])(_0x331180);if((0x0,utils_1['isParentComponent'])(_0x331180)){const _0x5075d1=await this[_0x1fe7ad(0xd1)](_0x331180);_0x1c381d['push'](..._0x5075d1);}if(_0x331180[_0x1fe7ad(0xe9)]==='CustomLabels')continue;settings_types_list_1[_0x1fe7ad(0xe0)][_0x1fe7ad(0xa8)](_0x331180[_0x1fe7ad(0xe9)])&&(_0x331180['type']=_0x1fe7ad(0xde)),_0x1c381d['push'](_0x331180);}return _0x1c381d;}}exports['MDApiParser']=MDApiParser;