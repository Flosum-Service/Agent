const a147_0x59b37f=a147_0x29f9;(function(_0x451f0b,_0x5b4f2c){const _0x13e499=a147_0x29f9,_0xdd5730=_0x451f0b();while(!![]){try{const _0x54a58a=parseInt(_0x13e499(0x84))/0x1*(parseInt(_0x13e499(0x88))/0x2)+-parseInt(_0x13e499(0xb0))/0x3*(parseInt(_0x13e499(0x96))/0x4)+-parseInt(_0x13e499(0x72))/0x5+parseInt(_0x13e499(0x86))/0x6*(parseInt(_0x13e499(0xbc))/0x7)+-parseInt(_0x13e499(0xaf))/0x8+-parseInt(_0x13e499(0x99))/0x9*(parseInt(_0x13e499(0x92))/0xa)+parseInt(_0x13e499(0x85))/0xb;if(_0x54a58a===_0x5b4f2c)break;else _0xdd5730['push'](_0xdd5730['shift']());}catch(_0x873e3f){_0xdd5730['push'](_0xdd5730['shift']());}}}(a147_0x2a95,0x8a950));const a147_0x171911=(function(){let _0x419f44=!![];return function(_0x1b92ba,_0x2139d2){const _0x3829d6=_0x419f44?function(){if(_0x2139d2){const _0x3b1c46=_0x2139d2['apply'](_0x1b92ba,arguments);return _0x2139d2=null,_0x3b1c46;}}:function(){};return _0x419f44=![],_0x3829d6;};}()),a147_0x1cba0d=a147_0x171911(this,function(){const _0x5f03f7=a147_0x29f9;return a147_0x1cba0d[_0x5f03f7(0x81)]()[_0x5f03f7(0x94)](_0x5f03f7(0xab))['toString']()[_0x5f03f7(0xbf)](a147_0x1cba0d)[_0x5f03f7(0x94)]('(((.+)+)+)+$');});function a147_0x29f9(_0x5b3559,_0x111713){const _0x4e78b6=a147_0x2a95();return a147_0x29f9=function(_0x1cba0d,_0x171911){_0x1cba0d=_0x1cba0d-0x70;let _0x2a958d=_0x4e78b6[_0x1cba0d];return _0x2a958d;},a147_0x29f9(_0x5b3559,_0x111713);}a147_0x1cba0d();'use strict';function a147_0x2a95(){const _0x275fda=['relative','readFile','BUNDLED_FOLDERS_REGEXP','utf-8','Settings','default','(((.+)+)+)+$','Component\x20\x22','files','isParentComponent','4742128jaEOxX','462jJvVuo','readDir','.site-meta.xml','endsWith','isSFDXProject','../utils/crc32','path','../../../../core','WaveTemplateBundle','all','logger','isDir','7lnTJfx','extname','find','constructor','test','filter','2746610pyhYNk','startsWith','extractFileNameFromFiles','extractFilenameFromPath','isPathsEquals','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXTENSION','readBundledFiles','experiences','dir','META_EXPERIENCES_EXTENSION','package.xml','MDApiParser','\x22\x20not\x20found\x20in\x20\x22','join','toString','push','values','175341KyhzFW','19006823LIDdZg','2633478cXpUNo','../utils/xml','2ZgglxK','__importDefault','catch','parse','error','CustomLabels','readChildComponents','split','-meta.xml','../../../../constants','17470MuyBzy','Xml','search','paths','8032nAPAuq','defineProperty','Cannot\x20parse\x20childs\x20in\x20','1665VcAXEb','filePath','../data/child-types-map','Logger','init','extractComponentTypeFromFiles','__esModule','createChildComponentsFromParent','includes','../../devops/utils/git-commit.utils','type','readComponentFiles'];a147_0x2a95=function(){return _0x275fda;};return a147_0x2a95();}var __importDefault=this&&this[a147_0x59b37f(0x89)]||function(_0x46b29b){return _0x46b29b&&_0x46b29b['__esModule']?_0x46b29b:{'default':_0x46b29b};};Object[a147_0x59b37f(0x97)](exports,a147_0x59b37f(0x9f),{'value':!![]}),exports[a147_0x59b37f(0x7e)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require('../utils'),path_1=require(a147_0x59b37f(0xb6)),xml_1=require(a147_0x59b37f(0x87)),child_types_map_1=__importDefault(require(a147_0x59b37f(0x9b))),constants_1=require(a147_0x59b37f(0x91)),core_1=require(a147_0x59b37f(0xb7)),git_commit_utils_1=require(a147_0x59b37f(0xa2)),crc32_1=require(a147_0x59b37f(0xb5)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a147_0x59b37f(0x83)](child_types_map_1[a147_0x59b37f(0xaa)]);class MDApiParser{constructor(_0x56f8d9,_0xfaf8d9,_0x1425cb){const _0x2bf4e6=a147_0x59b37f;this['dir']=_0x56f8d9,this[_0x2bf4e6(0xb4)]=_0x1425cb,this[_0x2bf4e6(0xba)]=new core_1[(_0x2bf4e6(0x9c))](MDApiParser['name']),this[_0x2bf4e6(0x78)]=_0x2bf4e6(0x90),this[_0x2bf4e6(0x7c)]=_0x2bf4e6(0xb2),this['paths']=_0xfaf8d9;}async[a147_0x59b37f(0x8e)](_0x48f60c){const _0x36b7aa=a147_0x59b37f;try{const _0x2a27ea=await xml_1['Xml'][_0x36b7aa(0x8b)](Object[_0x36b7aa(0x83)](_0x48f60c[_0x36b7aa(0xad)])[0x0][_0x36b7aa(0x81)](_0x36b7aa(0xa8))),_0x25f31f=CHILD_XML_KEYS[_0x36b7aa(0x71)](_0x33915e=>xml_1[_0x36b7aa(0x93)]['hasChildNodes'](_0x2a27ea,_0x33915e))['reduce']((_0xfc4966,_0x4a071d)=>[..._0xfc4966,...xml_1[_0x36b7aa(0x93)]['getChildsByName'](_0x2a27ea,_0x4a071d)],[]);return(0x0,utils_1[_0x36b7aa(0xa0)])(_0x48f60c,_0x2a27ea,_0x25f31f);}catch(_0x36c2a8){throw new Error(_0x36b7aa(0x98)+_0x48f60c['name']+'\x20['+_0x48f60c[_0x36b7aa(0xa3)]+']');}}async[a147_0x59b37f(0x79)](_0x4ae6e2){const _0x278535=a147_0x59b37f,_0x335ed9=(0x0,path_1[_0x278535(0x80)])(this['dir'],_0x4ae6e2),_0x18d805=_0x4ae6e2+(_0x4ae6e2['startsWith'](_0x278535(0x7a))?this['META_EXPERIENCES_EXTENSION']:this[_0x278535(0x78)]),_0x225d5e=await fs_internal_1['FS'][_0x278535(0xb1)](_0x335ed9,!![]),_0x53a29d=await fs_internal_1['FS'][_0x278535(0xa6)]((0x0,path_1[_0x278535(0x80)])(this[_0x278535(0x7b)],_0x18d805),!![])[_0x278535(0x8a)](()=>null),_0x1b40e9={};for(const _0x3102e1 of _0x225d5e){_0x1b40e9[(0x0,path_1[_0x278535(0xa5)])(this[_0x278535(0x7b)],_0x3102e1)]=await fs_internal_1['FS'][_0x278535(0xa6)](_0x3102e1,!![]);}return _0x53a29d&&(_0x1b40e9[(0x0,path_1['relative'])(this[_0x278535(0x7b)],_0x18d805)]=_0x53a29d),_0x1b40e9;}async[a147_0x59b37f(0xa4)](_0x1d55ff){const _0x41d01c=a147_0x59b37f;let _0x383cb4=_0x1d55ff+this[_0x41d01c(0x78)];if(constants_1[_0x41d01c(0xa7)]['test'](_0x1d55ff))return this['readBundledFiles'](_0x1d55ff);if(await fs_internal_1['FS'][_0x41d01c(0xbb)]((0x0,path_1[_0x41d01c(0x80)])(this[_0x41d01c(0x7b)],_0x1d55ff))||await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x41d01c(0x7b)],_0x383cb4))){const _0x49b45=await fs_internal_1['FS'][_0x41d01c(0xa6)]((0x0,path_1[_0x41d01c(0x80)])(this['dir'],_0x383cb4),!![]),_0x33fd4c=await(0x0,utils_1[_0x41d01c(0x9e)])({'files':{[_0x383cb4]:_0x49b45}})['catch'](()=>null);if(_0x33fd4c&&folder_types_1[_0x41d01c(0xaa)]['includes'](_0x33fd4c))return{[_0x383cb4]:await fs_internal_1['FS'][_0x41d01c(0xa6)]((0x0,path_1[_0x41d01c(0x80)])(this[_0x41d01c(0x7b)],_0x383cb4),!![])};}if(!(0x0,path_1[_0x41d01c(0xbd)])(_0x1d55ff)&&this[_0x41d01c(0xb4)]){const _0x8251f7=_0x1d55ff[_0x41d01c(0x8f)]('/')[0x0],_0x556f06=(await fs_internal_1['FS'][_0x41d01c(0xb1)]((0x0,path_1[_0x41d01c(0x80)])(this[_0x41d01c(0x7b)],_0x8251f7)))[_0x41d01c(0xbe)](_0x23bdff=>(0x0,git_commit_utils_1[_0x41d01c(0x76)])(_0x23bdff,(0x0,path_1[_0x41d01c(0x80)])(this[_0x41d01c(0x7b)],_0x1d55ff)));if(!_0x556f06)throw new Error(_0x41d01c(0xac)+_0x1d55ff+_0x41d01c(0x7f)+_0x8251f7+'\x22');_0x1d55ff=(0x0,path_1['relative'])(this[_0x41d01c(0x7b)],_0x556f06),_0x383cb4=_0x1d55ff+this[_0x41d01c(0x78)];}const [_0x97b1d2,_0x32fd98]=await Promise[_0x41d01c(0xb9)]([fs_internal_1['FS'][_0x41d01c(0xa6)]((0x0,path_1['join'])(this[_0x41d01c(0x7b)],_0x1d55ff),!![])[_0x41d01c(0x8a)](()=>null),fs_internal_1['FS'][_0x41d01c(0xa6)]((0x0,path_1[_0x41d01c(0x80)])(this[_0x41d01c(0x7b)],_0x383cb4),!![])[_0x41d01c(0x8a)](()=>null)]);return{..._0x97b1d2?{[_0x1d55ff]:_0x97b1d2}:{},..._0x32fd98?{[_0x383cb4]:_0x32fd98}:{}};}async['init'](){const _0xef67=a147_0x59b37f,_0x566488=[...this[_0xef67(0x95)]];if(this[_0xef67(0xb4)])for(const _0x28b3e3 of _0x566488){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0xef67(0x70)](_0x28b3e3))continue;if(await fs_internal_1['FS'][_0xef67(0xbb)]((0x0,path_1['join'])(this[_0xef67(0x7b)],_0x28b3e3))){const _0x499e84=await fs_internal_1['FS'][_0xef67(0xb1)]((0x0,path_1[_0xef67(0x80)])(this[_0xef67(0x7b)],_0x28b3e3),!![]);_0x566488[_0xef67(0x82)](..._0x499e84['map'](_0x4a707f=>(0x0,path_1[_0xef67(0xa5)])(this['dir'],_0x4a707f)));}}this[_0xef67(0x95)]=(0x0,utils_1['convertToCleanPaths'])(_0x566488);}async[a147_0x59b37f(0x8b)](){const _0x4bbbac=a147_0x59b37f;await this[_0x4bbbac(0x9d)]();const _0x36f88e=[];for(const _0x226ece of this[_0x4bbbac(0x95)]){if(_0x226ece[_0x4bbbac(0xb3)](_0x4bbbac(0x7d)))continue;const _0x12dd90={};try{_0x12dd90[_0x4bbbac(0xad)]=await this[_0x4bbbac(0xa4)](_0x226ece),_0x12dd90[_0x4bbbac(0x9a)]=constants_1[_0x4bbbac(0xa7)][_0x4bbbac(0x70)](_0x226ece)?_0x226ece:(0x0,utils_1[_0x4bbbac(0x74)])({'files':_0x12dd90[_0x4bbbac(0xad)]}),_0x226ece[_0x4bbbac(0x73)]('waveTemplates')?_0x12dd90['type']=_0x4bbbac(0xb8):_0x12dd90[_0x4bbbac(0xa3)]=await(0x0,utils_1[_0x4bbbac(0x9e)])({'files':_0x12dd90[_0x4bbbac(0xad)]});}catch(_0x59f72a){this[_0x4bbbac(0xba)][_0x4bbbac(0x8c)](_0x4bbbac(0x77),_0x226ece,_0x59f72a);continue;}_0x12dd90['name']=(0x0,utils_1[_0x4bbbac(0x75)])(_0x226ece),_0x12dd90['crc']=(0x0,crc32_1['calculateCRC32'])(_0x12dd90);if((0x0,utils_1[_0x4bbbac(0xae)])(_0x12dd90)){const _0x7629b1=await this[_0x4bbbac(0x8e)](_0x12dd90);_0x36f88e[_0x4bbbac(0x82)](..._0x7629b1);}if(_0x12dd90[_0x4bbbac(0xa3)]===_0x4bbbac(0x8d))continue;settings_types_list_1[_0x4bbbac(0xaa)][_0x4bbbac(0xa1)](_0x12dd90[_0x4bbbac(0xa3)])&&(_0x12dd90[_0x4bbbac(0xa3)]=_0x4bbbac(0xa9)),_0x36f88e[_0x4bbbac(0x82)](_0x12dd90);}return _0x36f88e;}}exports[a147_0x59b37f(0x7e)]=MDApiParser;