const a150_0xe014c1=a150_0x1f57;(function(_0x599a2f,_0x5d2d6c){const _0x764ec7=a150_0x1f57,_0x3dc26c=_0x599a2f();while(!![]){try{const _0x49088f=parseInt(_0x764ec7(0x1bb))/0x1*(-parseInt(_0x764ec7(0x1ae))/0x2)+parseInt(_0x764ec7(0x1d9))/0x3+-parseInt(_0x764ec7(0x1aa))/0x4+-parseInt(_0x764ec7(0x1ea))/0x5+parseInt(_0x764ec7(0x1a8))/0x6+-parseInt(_0x764ec7(0x1c8))/0x7*(-parseInt(_0x764ec7(0x1de))/0x8)+parseInt(_0x764ec7(0x1e2))/0x9*(parseInt(_0x764ec7(0x1f1))/0xa);if(_0x49088f===_0x5d2d6c)break;else _0x3dc26c['push'](_0x3dc26c['shift']());}catch(_0x3cbe95){_0x3dc26c['push'](_0x3dc26c['shift']());}}}(a150_0x2649,0xc9979));const a150_0x12bf0f=(function(){let _0x33b21b=!![];return function(_0x447714,_0x25ecb4){const _0x3be3d3=_0x33b21b?function(){const _0x3852aa=a150_0x1f57;if(_0x25ecb4){const _0x575bc4=_0x25ecb4[_0x3852aa(0x1dd)](_0x447714,arguments);return _0x25ecb4=null,_0x575bc4;}}:function(){};return _0x33b21b=![],_0x3be3d3;};}()),a150_0x5deb95=a150_0x12bf0f(this,function(){const _0xf689a5=a150_0x1f57;return a150_0x5deb95['toString']()[_0xf689a5(0x1ec)](_0xf689a5(0x1d2))['toString']()['constructor'](a150_0x5deb95)[_0xf689a5(0x1ec)](_0xf689a5(0x1d2));});a150_0x5deb95();'use strict';var __importDefault=this&&this[a150_0xe014c1(0x1b3)]||function(_0x2023e7){const _0x7550da=a150_0xe014c1;return _0x2023e7&&_0x2023e7[_0x7550da(0x1e9)]?_0x2023e7:{'default':_0x2023e7};};function a150_0x1f57(_0x47cf60,_0x2ffcf0){const _0x359f08=a150_0x2649();return a150_0x1f57=function(_0x5deb95,_0x12bf0f){_0x5deb95=_0x5deb95-0x1a7;let _0x2649cb=_0x359f08[_0x5deb95];return _0x2649cb;},a150_0x1f57(_0x47cf60,_0x2ffcf0);}Object[a150_0xe014c1(0x1b2)](exports,a150_0xe014c1(0x1e9),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a150_0xe014c1(0x1cc)),utils_1=require(a150_0xe014c1(0x1cf)),path_1=require(a150_0xe014c1(0x1b1)),xml_1=require(a150_0xe014c1(0x1d0)),child_types_map_1=__importDefault(require(a150_0xe014c1(0x1d4))),constants_1=require(a150_0xe014c1(0x1f0)),core_1=require(a150_0xe014c1(0x1cd)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a150_0xe014c1(0x1d6)),folder_types_1=__importDefault(require(a150_0xe014c1(0x1df))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a150_0xe014c1(0x1a9)](child_types_map_1['default']);class MDApiParser{constructor(_0x3a1584,_0xd2691f,_0x34f785){const _0x58ac4a=a150_0xe014c1;this['dir']=_0x3a1584,this[_0x58ac4a(0x1e1)]=_0x34f785,this['logger']=new core_1[(_0x58ac4a(0x1c0))](MDApiParser['name']),this[_0x58ac4a(0x1e8)]=_0x58ac4a(0x1ba),this[_0x58ac4a(0x1b5)]='.site-meta.xml',this['paths']=_0xd2691f;}async[a150_0xe014c1(0x1e6)](_0xe41eea){const _0x2f2fa7=a150_0xe014c1;try{const _0xe2ee0d=await xml_1[_0x2f2fa7(0x1d7)][_0x2f2fa7(0x1b4)](Object[_0x2f2fa7(0x1a9)](_0xe41eea['files'])[0x0]['toString']('utf-8')),_0x1e7d1b=CHILD_XML_KEYS['filter'](_0x299463=>xml_1[_0x2f2fa7(0x1d7)][_0x2f2fa7(0x1b7)](_0xe2ee0d,_0x299463))[_0x2f2fa7(0x1c5)]((_0x2bd1e7,_0xee69d3)=>[..._0x2bd1e7,...xml_1['Xml']['getChildsByName'](_0xe2ee0d,_0xee69d3)],[]);return(0x0,utils_1[_0x2f2fa7(0x1e0)])(_0xe41eea,_0xe2ee0d,_0x1e7d1b);}catch(_0x11a6d9){throw new Error(_0x2f2fa7(0x1f2)+_0xe41eea[_0x2f2fa7(0x1d1)]+'\x20['+_0xe41eea[_0x2f2fa7(0x1f3)]+']');}}async[a150_0xe014c1(0x1e7)](_0x14170e){const _0x119d5f=a150_0xe014c1,_0x234516=(0x0,path_1[_0x119d5f(0x1eb)])(this[_0x119d5f(0x1ca)],_0x14170e),_0x368217=_0x14170e+(_0x14170e[_0x119d5f(0x1c7)](_0x119d5f(0x1b0))?this[_0x119d5f(0x1b5)]:this['META_EXTENSION']),_0x1861a0=await fs_internal_1['FS'][_0x119d5f(0x1c3)](_0x234516,!![]),_0x44c848=await fs_internal_1['FS'][_0x119d5f(0x1bc)]((0x0,path_1['join'])(this[_0x119d5f(0x1ca)],_0x368217),!![])[_0x119d5f(0x1ee)](()=>null),_0x4440c6={};for(const _0x10d65 of _0x1861a0){_0x4440c6[(0x0,path_1[_0x119d5f(0x1af)])(this[_0x119d5f(0x1ca)],_0x10d65)]=await fs_internal_1['FS']['readFile'](_0x10d65,!![]);}return _0x44c848&&(_0x4440c6[(0x0,path_1[_0x119d5f(0x1af)])(this['dir'],_0x368217)]=_0x44c848),_0x4440c6;}async[a150_0xe014c1(0x1d3)](_0x1c9135){const _0x40503d=a150_0xe014c1;let _0x4dcf0f=_0x1c9135+this[_0x40503d(0x1e8)];if(constants_1[_0x40503d(0x1ed)][_0x40503d(0x1c2)](_0x1c9135))return this['readBundledFiles'](_0x1c9135);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x40503d(0x1eb)])(this[_0x40503d(0x1ca)],_0x1c9135))||await fs_internal_1['FS'][_0x40503d(0x1b6)]((0x0,path_1['join'])(this[_0x40503d(0x1ca)],_0x4dcf0f))){const _0x52ff07=await fs_internal_1['FS'][_0x40503d(0x1bc)]((0x0,path_1[_0x40503d(0x1eb)])(this[_0x40503d(0x1ca)],_0x4dcf0f),!![]),_0x169a28=await(0x0,utils_1[_0x40503d(0x1c1)])({'files':{[_0x4dcf0f]:_0x52ff07}})[_0x40503d(0x1ee)](()=>null);if(_0x169a28&&folder_types_1[_0x40503d(0x1be)][_0x40503d(0x1cb)](_0x169a28))return{[_0x4dcf0f]:await fs_internal_1['FS'][_0x40503d(0x1bc)]((0x0,path_1[_0x40503d(0x1eb)])(this[_0x40503d(0x1ca)],_0x4dcf0f),!![])};}if(!(0x0,path_1[_0x40503d(0x1f4)])(_0x1c9135)&&this[_0x40503d(0x1e1)]){const _0x37ba2b=_0x1c9135[_0x40503d(0x1bd)]('/')[0x0],_0x52e753=(await fs_internal_1['FS'][_0x40503d(0x1c3)]((0x0,path_1[_0x40503d(0x1eb)])(this['dir'],_0x37ba2b)))['find'](_0x277aea=>(0x0,git_commit_utils_1[_0x40503d(0x1db)])(_0x277aea,(0x0,path_1[_0x40503d(0x1eb)])(this['dir'],_0x1c9135)));if(!_0x52e753)throw new Error('Component\x20\x22'+_0x1c9135+_0x40503d(0x1ef)+_0x37ba2b+'\x22');_0x1c9135=(0x0,path_1[_0x40503d(0x1af)])(this[_0x40503d(0x1ca)],_0x52e753),_0x4dcf0f=_0x1c9135+this['META_EXTENSION'];}const [_0x587f0a,_0x4e642e]=await Promise[_0x40503d(0x1e3)]([fs_internal_1['FS'][_0x40503d(0x1bc)]((0x0,path_1[_0x40503d(0x1eb)])(this['dir'],_0x1c9135),!![])[_0x40503d(0x1ee)](()=>null),fs_internal_1['FS'][_0x40503d(0x1bc)]((0x0,path_1['join'])(this['dir'],_0x4dcf0f),!![])[_0x40503d(0x1ee)](()=>null)]);return{..._0x587f0a?{[_0x1c9135]:_0x587f0a}:{},..._0x4e642e?{[_0x4dcf0f]:_0x4e642e}:{}};}async[a150_0xe014c1(0x1bf)](){const _0x5556dd=a150_0xe014c1,_0x31f398=[...this[_0x5556dd(0x1e4)]];if(this['isSFDXProject'])for(const _0x4221f0 of _0x31f398){if(constants_1[_0x5556dd(0x1ed)][_0x5556dd(0x1c2)](_0x4221f0))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x5556dd(0x1eb)])(this['dir'],_0x4221f0))){const _0x652323=await fs_internal_1['FS'][_0x5556dd(0x1c3)]((0x0,path_1[_0x5556dd(0x1eb)])(this[_0x5556dd(0x1ca)],_0x4221f0),!![]);_0x31f398['push'](..._0x652323[_0x5556dd(0x1c6)](_0x5c37ae=>(0x0,path_1[_0x5556dd(0x1af)])(this[_0x5556dd(0x1ca)],_0x5c37ae)));}}this[_0x5556dd(0x1e4)]=(0x0,utils_1[_0x5556dd(0x1c4)])(_0x31f398);}async['parse'](){const _0x153276=a150_0xe014c1;await this['init']();const _0x376b74=[];for(const _0x29b67a of this[_0x153276(0x1e4)]){if(_0x29b67a[_0x153276(0x1ad)]('package.xml'))continue;const _0x5c4efa={};try{_0x5c4efa['files']=await this[_0x153276(0x1d3)](_0x29b67a),_0x5c4efa['filePath']=constants_1[_0x153276(0x1ed)]['test'](_0x29b67a)?_0x29b67a:(0x0,utils_1[_0x153276(0x1b9)])({'files':_0x5c4efa[_0x153276(0x1b8)]}),_0x29b67a[_0x153276(0x1c7)]('waveTemplates')?_0x5c4efa[_0x153276(0x1f3)]=_0x153276(0x1d8):_0x5c4efa[_0x153276(0x1f3)]=await(0x0,utils_1[_0x153276(0x1c1)])({'files':_0x5c4efa[_0x153276(0x1b8)]});}catch(_0x17c379){this[_0x153276(0x1c9)][_0x153276(0x1dc)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x29b67a,_0x17c379);continue;}_0x5c4efa['name']=(0x0,utils_1[_0x153276(0x1e5)])(_0x29b67a),_0x5c4efa[_0x153276(0x1ac)]=(0x0,crc32_1[_0x153276(0x1da)])(_0x5c4efa);if((0x0,utils_1['isParentComponent'])(_0x5c4efa)){const _0x10421b=await this[_0x153276(0x1e6)](_0x5c4efa);_0x376b74[_0x153276(0x1d5)](..._0x10421b);}if(_0x5c4efa[_0x153276(0x1f3)]===_0x153276(0x1ab))continue;settings_types_list_1[_0x153276(0x1be)][_0x153276(0x1cb)](_0x5c4efa[_0x153276(0x1f3)])&&(_0x5c4efa[_0x153276(0x1f3)]=_0x153276(0x1a7)),_0x376b74[_0x153276(0x1d5)](_0x5c4efa);}return _0x376b74;}}function a150_0x2649(){const _0x3f5ba5=['50NVxgBR','Cannot\x20parse\x20childs\x20in\x20','type','extname','Settings','7114458IuLCsb','values','5972760OCVhcm','CustomLabels','crc','endsWith','27258obSlJb','relative','experiences','path','defineProperty','__importDefault','parse','META_EXPERIENCES_EXTENSION','exists','hasChildNodes','files','extractFileNameFromFiles','-meta.xml','81Ctkowc','readFile','split','default','init','Logger','extractComponentTypeFromFiles','test','readDir','convertToCleanPaths','reduce','map','startsWith','1441769bSBOIq','logger','dir','includes','../../internal/fs.internal','../../../../core','MDApiParser','../utils','../utils/xml','name','(((.+)+)+)+$','readComponentFiles','../data/child-types-map','push','../utils/crc32','Xml','WaveTemplateBundle','690630yyVWZK','calculateCRC32','isPathsEquals','error','apply','32MzSCHR','../data/folder-types','createChildComponentsFromParent','isSFDXProject','3150315TQxqvc','all','paths','extractFilenameFromPath','readChildComponents','readBundledFiles','META_EXTENSION','__esModule','2835680lGlTiZ','join','search','BUNDLED_FOLDERS_REGEXP','catch','\x22\x20not\x20found\x20in\x20\x22','../../../../constants'];a150_0x2649=function(){return _0x3f5ba5;};return a150_0x2649();}exports[a150_0xe014c1(0x1ce)]=MDApiParser;