const a150_0x3d485f=a150_0x3694;(function(_0x84be16,_0x2b7de4){const _0xcddaa9=a150_0x3694,_0xa09320=_0x84be16();while(!![]){try{const _0x377ba0=-parseInt(_0xcddaa9(0x1b2))/0x1*(parseInt(_0xcddaa9(0x186))/0x2)+-parseInt(_0xcddaa9(0x1a9))/0x3+-parseInt(_0xcddaa9(0x194))/0x4+parseInt(_0xcddaa9(0x1c5))/0x5+parseInt(_0xcddaa9(0x188))/0x6+parseInt(_0xcddaa9(0x1b9))/0x7*(-parseInt(_0xcddaa9(0x184))/0x8)+parseInt(_0xcddaa9(0x1c7))/0x9;if(_0x377ba0===_0x2b7de4)break;else _0xa09320['push'](_0xa09320['shift']());}catch(_0xd99945){_0xa09320['push'](_0xa09320['shift']());}}}(a150_0x130e,0x5b070));function a150_0x3694(_0x3d04a4,_0x4e716d){const _0x29f282=a150_0x130e();return a150_0x3694=function(_0x2d5322,_0x2c5b3d){_0x2d5322=_0x2d5322-0x17f;let _0x130ef4=_0x29f282[_0x2d5322];return _0x130ef4;},a150_0x3694(_0x3d04a4,_0x4e716d);}const a150_0x2c5b3d=(function(){let _0x3fe6b9=!![];return function(_0x1fbfdd,_0x15848d){const _0x507e72=_0x3fe6b9?function(){const _0x3bb63f=a150_0x3694;if(_0x15848d){const _0x5e8351=_0x15848d[_0x3bb63f(0x19f)](_0x1fbfdd,arguments);return _0x15848d=null,_0x5e8351;}}:function(){};return _0x3fe6b9=![],_0x507e72;};}()),a150_0x2d5322=a150_0x2c5b3d(this,function(){const _0x21f312=a150_0x3694;return a150_0x2d5322[_0x21f312(0x1c4)]()[_0x21f312(0x1a5)](_0x21f312(0x1ac))[_0x21f312(0x1c4)]()['constructor'](a150_0x2d5322)[_0x21f312(0x1a5)](_0x21f312(0x1ac));});a150_0x2d5322();function a150_0x130e(){const _0x250ef=['META_EXTENSION','4227525UyRyiN','BUNDLED_FOLDERS_REGEXP','../../devops/utils/git-commit.utils','catch','isPathsEquals','type','extractComponentTypeFromFiles','push','3638392VnCJzj','../data/settings-types-list','2enAoDQ','META_EXPERIENCES_EXTENSION','2981088LNuDhH','Xml','getChildsByName','isParentComponent','.site-meta.xml','extname','experiences','find','parse','readChildComponents','logger','__esModule','215916kBumZO','isDir','startsWith','defineProperty','__importDefault','values','reduce','join','readDir','endsWith','Logger','apply','includes','name','readFile','WaveTemplateBundle','../utils/xml','search','../data/folder-types','default','utf-8','1421940DsvQCO','Component\x20\x22','init','(((.+)+)+)+$','filter','extractFilenameFromPath','paths','readComponentFiles','Cannot\x20parse\x20childs\x20in\x20','134507UmHWQQ','package.xml','dir','test','calculateCRC32','MDApiParser','../utils/crc32','7COqKje','map','readBundledFiles','isSFDXProject','\x22\x20not\x20found\x20in\x20\x22','convertToCleanPaths','files','createChildComponentsFromParent','hasChildNodes','relative','../utils','toString','2617700UMZJpA'];a150_0x130e=function(){return _0x250ef;};return a150_0x130e();}'use strict';var __importDefault=this&&this[a150_0x3d485f(0x198)]||function(_0x40a2c4){return _0x40a2c4&&_0x40a2c4['__esModule']?_0x40a2c4:{'default':_0x40a2c4};};Object[a150_0x3d485f(0x197)](exports,a150_0x3d485f(0x193),{'value':!![]}),exports[a150_0x3d485f(0x1b7)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a150_0x3d485f(0x1c3)),path_1=require('path'),xml_1=require(a150_0x3d485f(0x1a4)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require('../../../../core'),git_commit_utils_1=require(a150_0x3d485f(0x1c9)),crc32_1=require(a150_0x3d485f(0x1b8)),folder_types_1=__importDefault(require(a150_0x3d485f(0x1a6))),settings_types_list_1=__importDefault(require(a150_0x3d485f(0x185))),CHILD_XML_KEYS=Object[a150_0x3d485f(0x199)](child_types_map_1[a150_0x3d485f(0x1a7)]);class MDApiParser{constructor(_0x3a964e,_0xc9266f,_0x46ecbd){const _0xcff2c=a150_0x3d485f;this['dir']=_0x3a964e,this[_0xcff2c(0x1bc)]=_0x46ecbd,this[_0xcff2c(0x192)]=new core_1[(_0xcff2c(0x19e))](MDApiParser['name']),this[_0xcff2c(0x1c6)]='-meta.xml',this[_0xcff2c(0x187)]=_0xcff2c(0x18c),this[_0xcff2c(0x1af)]=_0xc9266f;}async[a150_0x3d485f(0x191)](_0x5ec8e3){const _0x5325f3=a150_0x3d485f;try{const _0x3b8a79=await xml_1[_0x5325f3(0x189)][_0x5325f3(0x190)](Object[_0x5325f3(0x199)](_0x5ec8e3['files'])[0x0][_0x5325f3(0x1c4)](_0x5325f3(0x1a8))),_0x4e0136=CHILD_XML_KEYS[_0x5325f3(0x1ad)](_0x15a6be=>xml_1['Xml'][_0x5325f3(0x1c1)](_0x3b8a79,_0x15a6be))[_0x5325f3(0x19a)]((_0x10b4cf,_0x5ecebb)=>[..._0x10b4cf,...xml_1[_0x5325f3(0x189)][_0x5325f3(0x18a)](_0x3b8a79,_0x5ecebb)],[]);return(0x0,utils_1[_0x5325f3(0x1c0)])(_0x5ec8e3,_0x3b8a79,_0x4e0136);}catch(_0x3fffba){throw new Error(_0x5325f3(0x1b1)+_0x5ec8e3[_0x5325f3(0x1a1)]+'\x20['+_0x5ec8e3['type']+']');}}async[a150_0x3d485f(0x1bb)](_0x275ae6){const _0x2c77b7=a150_0x3d485f,_0x377e3d=(0x0,path_1[_0x2c77b7(0x19b)])(this[_0x2c77b7(0x1b4)],_0x275ae6),_0x35f12f=_0x275ae6+(_0x275ae6[_0x2c77b7(0x196)](_0x2c77b7(0x18e))?this[_0x2c77b7(0x187)]:this[_0x2c77b7(0x1c6)]),_0x117523=await fs_internal_1['FS']['readDir'](_0x377e3d,!![]),_0x1aac91=await fs_internal_1['FS'][_0x2c77b7(0x1a2)]((0x0,path_1['join'])(this[_0x2c77b7(0x1b4)],_0x35f12f),!![])[_0x2c77b7(0x17f)](()=>null),_0x31f3e4={};for(const _0x14d5c9 of _0x117523){_0x31f3e4[(0x0,path_1[_0x2c77b7(0x1c2)])(this[_0x2c77b7(0x1b4)],_0x14d5c9)]=await fs_internal_1['FS'][_0x2c77b7(0x1a2)](_0x14d5c9,!![]);}return _0x1aac91&&(_0x31f3e4[(0x0,path_1[_0x2c77b7(0x1c2)])(this[_0x2c77b7(0x1b4)],_0x35f12f)]=_0x1aac91),_0x31f3e4;}async[a150_0x3d485f(0x1b0)](_0x38520e){const _0x2a78db=a150_0x3d485f;let _0x4e1d55=_0x38520e+this[_0x2a78db(0x1c6)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x38520e))return this[_0x2a78db(0x1bb)](_0x38520e);if(await fs_internal_1['FS'][_0x2a78db(0x195)]((0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x38520e))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x2a78db(0x19b)])(this['dir'],_0x4e1d55))){const _0x2dcab9=await fs_internal_1['FS'][_0x2a78db(0x1a2)]((0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x4e1d55),!![]),_0x2ba3d3=await(0x0,utils_1[_0x2a78db(0x182)])({'files':{[_0x4e1d55]:_0x2dcab9}})['catch'](()=>null);if(_0x2ba3d3&&folder_types_1['default'][_0x2a78db(0x1a0)](_0x2ba3d3))return{[_0x4e1d55]:await fs_internal_1['FS'][_0x2a78db(0x1a2)]((0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x4e1d55),!![])};}if(!(0x0,path_1[_0x2a78db(0x18d)])(_0x38520e)&&this['isSFDXProject']){const _0x2538a9=_0x38520e['split']('/')[0x0],_0x1dc919=(await fs_internal_1['FS'][_0x2a78db(0x19c)]((0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x2538a9)))[_0x2a78db(0x18f)](_0x4bfe6a=>(0x0,git_commit_utils_1[_0x2a78db(0x180)])(_0x4bfe6a,(0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x38520e)));if(!_0x1dc919)throw new Error(_0x2a78db(0x1aa)+_0x38520e+_0x2a78db(0x1bd)+_0x2538a9+'\x22');_0x38520e=(0x0,path_1[_0x2a78db(0x1c2)])(this['dir'],_0x1dc919),_0x4e1d55=_0x38520e+this[_0x2a78db(0x1c6)];}const [_0x3e7791,_0x42623c]=await Promise['all']([fs_internal_1['FS'][_0x2a78db(0x1a2)]((0x0,path_1[_0x2a78db(0x19b)])(this['dir'],_0x38520e),!![])[_0x2a78db(0x17f)](()=>null),fs_internal_1['FS'][_0x2a78db(0x1a2)]((0x0,path_1[_0x2a78db(0x19b)])(this[_0x2a78db(0x1b4)],_0x4e1d55),!![])[_0x2a78db(0x17f)](()=>null)]);return{..._0x3e7791?{[_0x38520e]:_0x3e7791}:{},..._0x42623c?{[_0x4e1d55]:_0x42623c}:{}};}async[a150_0x3d485f(0x1ab)](){const _0x3020fe=a150_0x3d485f,_0x3e0b4f=[...this[_0x3020fe(0x1af)]];if(this[_0x3020fe(0x1bc)])for(const _0x15e0a of _0x3e0b4f){if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x15e0a))continue;if(await fs_internal_1['FS'][_0x3020fe(0x195)]((0x0,path_1[_0x3020fe(0x19b)])(this['dir'],_0x15e0a))){const _0x14933e=await fs_internal_1['FS'][_0x3020fe(0x19c)]((0x0,path_1[_0x3020fe(0x19b)])(this['dir'],_0x15e0a),!![]);_0x3e0b4f[_0x3020fe(0x183)](..._0x14933e[_0x3020fe(0x1ba)](_0x1003a1=>(0x0,path_1['relative'])(this[_0x3020fe(0x1b4)],_0x1003a1)));}}this[_0x3020fe(0x1af)]=(0x0,utils_1[_0x3020fe(0x1be)])(_0x3e0b4f);}async[a150_0x3d485f(0x190)](){const _0x222496=a150_0x3d485f;await this[_0x222496(0x1ab)]();const _0x249fa3=[];for(const _0x54ae34 of this[_0x222496(0x1af)]){if(_0x54ae34[_0x222496(0x19d)](_0x222496(0x1b3)))continue;const _0x1df931={};try{_0x1df931['files']=await this[_0x222496(0x1b0)](_0x54ae34),_0x1df931['filePath']=constants_1[_0x222496(0x1c8)][_0x222496(0x1b5)](_0x54ae34)?_0x54ae34:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x1df931[_0x222496(0x1bf)]}),_0x54ae34[_0x222496(0x196)]('waveTemplates')?_0x1df931[_0x222496(0x181)]=_0x222496(0x1a3):_0x1df931[_0x222496(0x181)]=await(0x0,utils_1[_0x222496(0x182)])({'files':_0x1df931[_0x222496(0x1bf)]});}catch(_0x2e0065){this['logger']['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x54ae34,_0x2e0065);continue;}_0x1df931[_0x222496(0x1a1)]=(0x0,utils_1[_0x222496(0x1ae)])(_0x54ae34),_0x1df931['crc']=(0x0,crc32_1[_0x222496(0x1b6)])(_0x1df931);if((0x0,utils_1[_0x222496(0x18b)])(_0x1df931)){const _0x3db76d=await this[_0x222496(0x191)](_0x1df931);_0x249fa3['push'](..._0x3db76d);}if(_0x1df931[_0x222496(0x181)]==='CustomLabels')continue;settings_types_list_1[_0x222496(0x1a7)][_0x222496(0x1a0)](_0x1df931[_0x222496(0x181)])&&(_0x1df931[_0x222496(0x181)]='Settings'),_0x249fa3[_0x222496(0x183)](_0x1df931);}return _0x249fa3;}}exports[a150_0x3d485f(0x1b7)]=MDApiParser;