const a147_0x5325cd=a147_0x5c39;(function(_0x5edc2c,_0xc21f2f){const _0x555d7e=a147_0x5c39,_0xb82d33=_0x5edc2c();while(!![]){try{const _0x58150a=parseInt(_0x555d7e(0x168))/0x1+parseInt(_0x555d7e(0x196))/0x2+-parseInt(_0x555d7e(0x1ae))/0x3+-parseInt(_0x555d7e(0x188))/0x4*(-parseInt(_0x555d7e(0x198))/0x5)+-parseInt(_0x555d7e(0x16f))/0x6*(parseInt(_0x555d7e(0x169))/0x7)+parseInt(_0x555d7e(0x189))/0x8+parseInt(_0x555d7e(0x19e))/0x9*(-parseInt(_0x555d7e(0x179))/0xa);if(_0x58150a===_0xc21f2f)break;else _0xb82d33['push'](_0xb82d33['shift']());}catch(_0x1e8e24){_0xb82d33['push'](_0xb82d33['shift']());}}}(a147_0x3ae3,0x772b0));const a147_0x2215f8=(function(){let _0x450038=!![];return function(_0x4bfd28,_0x41ef6f){const _0xc39137=_0x450038?function(){const _0x50f938=a147_0x5c39;if(_0x41ef6f){const _0x45b0ef=_0x41ef6f[_0x50f938(0x172)](_0x4bfd28,arguments);return _0x41ef6f=null,_0x45b0ef;}}:function(){};return _0x450038=![],_0xc39137;};}()),a147_0x1d3d41=a147_0x2215f8(this,function(){const _0x437790=a147_0x5c39;return a147_0x1d3d41[_0x437790(0x164)]()[_0x437790(0x17b)](_0x437790(0x1a4))[_0x437790(0x164)]()[_0x437790(0x193)](a147_0x1d3d41)[_0x437790(0x17b)](_0x437790(0x1a4));});function a147_0x5c39(_0x6c5b1b,_0x50a033){const _0x22fa7b=a147_0x3ae3();return a147_0x5c39=function(_0x1d3d41,_0x2215f8){_0x1d3d41=_0x1d3d41-0x160;let _0x3ae3a9=_0x22fa7b[_0x1d3d41];return _0x3ae3a9;},a147_0x5c39(_0x6c5b1b,_0x50a033);}function a147_0x3ae3(){const _0x2bf74e=['init','extractComponentTypeFromFiles','../../../../core','defineProperty','../utils/xml','find','readBundledFiles','readChildComponents','toString','all','../../devops/utils/git-commit.utils','parse','633145KhEqBU','21OhVxUE','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','reduce','paths','isSFDXProject','crc','810246bquBRZ','META_EXTENSION','extractFileNameFromFiles','apply','package.xml','Settings','hasChildNodes','Xml','test','WaveTemplateBundle','9007610tDeRfq','startsWith','search','readDir','calculateCRC32','extractFilenameFromPath','logger','map','../data/child-types-map','relative','includes','waveTemplates','push','readFile','MDApiParser','4PtlOAy','6934720KCqFbz','name','exists','isPathsEquals','.site-meta.xml','__esModule','files','type','catch','dir','constructor','../utils/crc32','utf-8','1672410IxjCHA','BUNDLED_FOLDERS_REGEXP','1245555eFZIyC','default','-meta.xml','error','values','getChildsByName','9TiEsOs','join','../data/folder-types','\x22\x20not\x20found\x20in\x20\x22','createChildComponentsFromParent','filePath','(((.+)+)+)+$','__importDefault','experiences','Cannot\x20parse\x20childs\x20in\x20','../../../../constants','META_EXPERIENCES_EXTENSION','../../internal/fs.internal','Component\x20\x22','../utils','convertToCleanPaths','2373915HWuKzi','../data/settings-types-list'];a147_0x3ae3=function(){return _0x2bf74e;};return a147_0x3ae3();}a147_0x1d3d41();'use strict';var __importDefault=this&&this[a147_0x5325cd(0x1a5)]||function(_0x165e77){const _0x304436=a147_0x5325cd;return _0x165e77&&_0x165e77[_0x304436(0x18e)]?_0x165e77:{'default':_0x165e77};};Object[a147_0x5325cd(0x1b3)](exports,a147_0x5325cd(0x18e),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a147_0x5325cd(0x1aa)),utils_1=require(a147_0x5325cd(0x1ac)),path_1=require('path'),xml_1=require(a147_0x5325cd(0x160)),child_types_map_1=__importDefault(require(a147_0x5325cd(0x181))),constants_1=require(a147_0x5325cd(0x1a8)),core_1=require(a147_0x5325cd(0x1b2)),git_commit_utils_1=require(a147_0x5325cd(0x166)),crc32_1=require(a147_0x5325cd(0x194)),folder_types_1=__importDefault(require(a147_0x5325cd(0x1a0))),settings_types_list_1=__importDefault(require(a147_0x5325cd(0x1af))),CHILD_XML_KEYS=Object[a147_0x5325cd(0x19c)](child_types_map_1['default']);class MDApiParser{constructor(_0x4ed1d6,_0x368f07,_0xc129f9){const _0x1ede06=a147_0x5325cd;this[_0x1ede06(0x192)]=_0x4ed1d6,this[_0x1ede06(0x16d)]=_0xc129f9,this[_0x1ede06(0x17f)]=new core_1['Logger'](MDApiParser['name']),this[_0x1ede06(0x170)]=_0x1ede06(0x19a),this['META_EXPERIENCES_EXTENSION']=_0x1ede06(0x18d),this['paths']=_0x368f07;}async[a147_0x5325cd(0x163)](_0x1a67fa){const _0x228766=a147_0x5325cd;try{const _0x3af68c=await xml_1[_0x228766(0x176)][_0x228766(0x167)](Object['values'](_0x1a67fa['files'])[0x0][_0x228766(0x164)](_0x228766(0x195))),_0x1aa773=CHILD_XML_KEYS['filter'](_0x5cc86b=>xml_1[_0x228766(0x176)][_0x228766(0x175)](_0x3af68c,_0x5cc86b))[_0x228766(0x16b)]((_0x1e9299,_0x4616ba)=>[..._0x1e9299,...xml_1[_0x228766(0x176)][_0x228766(0x19d)](_0x3af68c,_0x4616ba)],[]);return(0x0,utils_1[_0x228766(0x1a2)])(_0x1a67fa,_0x3af68c,_0x1aa773);}catch(_0x1f83ca){throw new Error(_0x228766(0x1a7)+_0x1a67fa['name']+'\x20['+_0x1a67fa['type']+']');}}async[a147_0x5325cd(0x162)](_0x5b99b0){const _0x35e483=a147_0x5325cd,_0x543f92=(0x0,path_1[_0x35e483(0x19f)])(this[_0x35e483(0x192)],_0x5b99b0),_0x376b5e=_0x5b99b0+(_0x5b99b0[_0x35e483(0x17a)](_0x35e483(0x1a6))?this[_0x35e483(0x1a9)]:this[_0x35e483(0x170)]),_0x86e56b=await fs_internal_1['FS'][_0x35e483(0x17c)](_0x543f92,!![]),_0x1c095a=await fs_internal_1['FS'][_0x35e483(0x186)]((0x0,path_1[_0x35e483(0x19f)])(this[_0x35e483(0x192)],_0x376b5e),!![])['catch'](()=>null),_0x18d312={};for(const _0x4c3f17 of _0x86e56b){_0x18d312[(0x0,path_1['relative'])(this[_0x35e483(0x192)],_0x4c3f17)]=await fs_internal_1['FS'][_0x35e483(0x186)](_0x4c3f17,!![]);}return _0x1c095a&&(_0x18d312[(0x0,path_1[_0x35e483(0x182)])(this[_0x35e483(0x192)],_0x376b5e)]=_0x1c095a),_0x18d312;}async['readComponentFiles'](_0x9187f0){const _0x36dda7=a147_0x5325cd;let _0x1abe9d=_0x9187f0+this[_0x36dda7(0x170)];if(constants_1[_0x36dda7(0x197)][_0x36dda7(0x177)](_0x9187f0))return this[_0x36dda7(0x162)](_0x9187f0);if(await fs_internal_1['FS']['isDir']((0x0,path_1['join'])(this[_0x36dda7(0x192)],_0x9187f0))||await fs_internal_1['FS'][_0x36dda7(0x18b)]((0x0,path_1[_0x36dda7(0x19f)])(this['dir'],_0x1abe9d))){const _0x1c8efc=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x36dda7(0x192)],_0x1abe9d),!![]),_0x44923e=await(0x0,utils_1[_0x36dda7(0x1b1)])({'files':{[_0x1abe9d]:_0x1c8efc}})['catch'](()=>null);if(_0x44923e&&folder_types_1['default'][_0x36dda7(0x183)](_0x44923e))return{[_0x1abe9d]:await fs_internal_1['FS'][_0x36dda7(0x186)]((0x0,path_1['join'])(this[_0x36dda7(0x192)],_0x1abe9d),!![])};}if(!(0x0,path_1['extname'])(_0x9187f0)&&this['isSFDXProject']){const _0x144eff=_0x9187f0['split']('/')[0x0],_0x58ceec=(await fs_internal_1['FS']['readDir']((0x0,path_1[_0x36dda7(0x19f)])(this[_0x36dda7(0x192)],_0x144eff)))[_0x36dda7(0x161)](_0x5072dd=>(0x0,git_commit_utils_1[_0x36dda7(0x18c)])(_0x5072dd,(0x0,path_1[_0x36dda7(0x19f)])(this[_0x36dda7(0x192)],_0x9187f0)));if(!_0x58ceec)throw new Error(_0x36dda7(0x1ab)+_0x9187f0+_0x36dda7(0x1a1)+_0x144eff+'\x22');_0x9187f0=(0x0,path_1[_0x36dda7(0x182)])(this[_0x36dda7(0x192)],_0x58ceec),_0x1abe9d=_0x9187f0+this['META_EXTENSION'];}const [_0x30a91e,_0x311128]=await Promise[_0x36dda7(0x165)]([fs_internal_1['FS'][_0x36dda7(0x186)]((0x0,path_1[_0x36dda7(0x19f)])(this[_0x36dda7(0x192)],_0x9187f0),!![])[_0x36dda7(0x191)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x36dda7(0x19f)])(this[_0x36dda7(0x192)],_0x1abe9d),!![])[_0x36dda7(0x191)](()=>null)]);return{..._0x30a91e?{[_0x9187f0]:_0x30a91e}:{},..._0x311128?{[_0x1abe9d]:_0x311128}:{}};}async[a147_0x5325cd(0x1b0)](){const _0x302a76=a147_0x5325cd,_0x25abf5=[...this[_0x302a76(0x16c)]];if(this[_0x302a76(0x16d)])for(const _0x101a7f of _0x25abf5){if(constants_1[_0x302a76(0x197)]['test'](_0x101a7f))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x302a76(0x19f)])(this[_0x302a76(0x192)],_0x101a7f))){const _0x5d1264=await fs_internal_1['FS'][_0x302a76(0x17c)]((0x0,path_1['join'])(this['dir'],_0x101a7f),!![]);_0x25abf5[_0x302a76(0x185)](..._0x5d1264[_0x302a76(0x180)](_0x3b09b4=>(0x0,path_1['relative'])(this['dir'],_0x3b09b4)));}}this[_0x302a76(0x16c)]=(0x0,utils_1[_0x302a76(0x1ad)])(_0x25abf5);}async['parse'](){const _0x33ca5c=a147_0x5325cd;await this[_0x33ca5c(0x1b0)]();const _0x86ecff=[];for(const _0x6fb0ef of this['paths']){if(_0x6fb0ef['endsWith'](_0x33ca5c(0x173)))continue;const _0x4c8ce6={};try{_0x4c8ce6['files']=await this['readComponentFiles'](_0x6fb0ef),_0x4c8ce6[_0x33ca5c(0x1a3)]=constants_1[_0x33ca5c(0x197)][_0x33ca5c(0x177)](_0x6fb0ef)?_0x6fb0ef:(0x0,utils_1[_0x33ca5c(0x171)])({'files':_0x4c8ce6[_0x33ca5c(0x18f)]}),_0x6fb0ef[_0x33ca5c(0x17a)](_0x33ca5c(0x184))?_0x4c8ce6[_0x33ca5c(0x190)]=_0x33ca5c(0x178):_0x4c8ce6['type']=await(0x0,utils_1[_0x33ca5c(0x1b1)])({'files':_0x4c8ce6['files']});}catch(_0x42ad7d){this[_0x33ca5c(0x17f)][_0x33ca5c(0x19b)](_0x33ca5c(0x16a),_0x6fb0ef,_0x42ad7d);continue;}_0x4c8ce6[_0x33ca5c(0x18a)]=(0x0,utils_1[_0x33ca5c(0x17e)])(_0x6fb0ef),_0x4c8ce6[_0x33ca5c(0x16e)]=(0x0,crc32_1[_0x33ca5c(0x17d)])(_0x4c8ce6);if((0x0,utils_1['isParentComponent'])(_0x4c8ce6)){const _0x2fa7f9=await this[_0x33ca5c(0x163)](_0x4c8ce6);_0x86ecff[_0x33ca5c(0x185)](..._0x2fa7f9);}if(_0x4c8ce6[_0x33ca5c(0x190)]==='CustomLabels')continue;settings_types_list_1[_0x33ca5c(0x199)][_0x33ca5c(0x183)](_0x4c8ce6['type'])&&(_0x4c8ce6[_0x33ca5c(0x190)]=_0x33ca5c(0x174)),_0x86ecff[_0x33ca5c(0x185)](_0x4c8ce6);}return _0x86ecff;}}exports[a147_0x5325cd(0x187)]=MDApiParser;