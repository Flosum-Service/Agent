const a147_0x5c7d21=a147_0x4d22;(function(_0x440f35,_0x343b9b){const _0x5bdb1a=a147_0x4d22,_0x40ec17=_0x440f35();while(!![]){try{const _0xe7dae6=parseInt(_0x5bdb1a(0x147))/0x1+parseInt(_0x5bdb1a(0x160))/0x2*(parseInt(_0x5bdb1a(0x17a))/0x3)+parseInt(_0x5bdb1a(0x150))/0x4+-parseInt(_0x5bdb1a(0x155))/0x5*(-parseInt(_0x5bdb1a(0x149))/0x6)+parseInt(_0x5bdb1a(0x15c))/0x7*(-parseInt(_0x5bdb1a(0x17c))/0x8)+-parseInt(_0x5bdb1a(0x148))/0x9+-parseInt(_0x5bdb1a(0x15f))/0xa;if(_0xe7dae6===_0x343b9b)break;else _0x40ec17['push'](_0x40ec17['shift']());}catch(_0x47f580){_0x40ec17['push'](_0x40ec17['shift']());}}}(a147_0x58b1,0x7e00a));function a147_0x4d22(_0x2bc4c3,_0x4d157b){const _0x6aaa0c=a147_0x58b1();return a147_0x4d22=function(_0x2267de,_0x5ca994){_0x2267de=_0x2267de-0x133;let _0x58b133=_0x6aaa0c[_0x2267de];return _0x58b133;},a147_0x4d22(_0x2bc4c3,_0x4d157b);}const a147_0x5ca994=(function(){let _0x4a8452=!![];return function(_0x28b4a3,_0x1abb04){const _0x24ae19=_0x4a8452?function(){if(_0x1abb04){const _0x34d8a7=_0x1abb04['apply'](_0x28b4a3,arguments);return _0x1abb04=null,_0x34d8a7;}}:function(){};return _0x4a8452=![],_0x24ae19;};}()),a147_0x2267de=a147_0x5ca994(this,function(){const _0x19c3dc=a147_0x4d22;return a147_0x2267de[_0x19c3dc(0x156)]()['search'](_0x19c3dc(0x17b))[_0x19c3dc(0x156)]()[_0x19c3dc(0x142)](a147_0x2267de)['search'](_0x19c3dc(0x17b));});a147_0x2267de();function a147_0x58b1(){const _0x2e07b5=['init','isDir','Settings','extractFilenameFromPath','constructor','name','getChildsByName','type','extractFileNameFromFiles','386727GbpcQo','767097XDHjnf','78OPxVjA','endsWith','parse','map','createChildComponentsFromParent','../../../../core','relative','591676QflDOW','files','exists','Logger','Xml','244585akYMft','toString','isSFDXProject','.site-meta.xml','startsWith','dir','__esModule','4494WoqXld','\x22\x20not\x20found\x20in\x20\x22','join','7361730HuSXBB','2nymypm','../data/child-types-map','find','BUNDLED_FOLDERS_REGEXP','MDApiParser','package.xml','extractComponentTypeFromFiles','waveTemplates','utf-8','readDir','META_EXTENSION','includes','WaveTemplateBundle','Cannot\x20parse\x20childs\x20in\x20','convertToCleanPaths','all','reduce','../utils/xml','../utils/crc32','values','calculateCRC32','../../internal/fs.internal','isPathsEquals','filePath','split','experiences','2469207gxICZX','(((.+)+)+)+$','8176uhGAGV','-meta.xml','Component\x20\x22','catch','readFile','push','test','readChildComponents','readComponentFiles','../../../../constants','path','hasChildNodes','logger','paths','default','defineProperty','CustomLabels'];a147_0x58b1=function(){return _0x2e07b5;};return a147_0x58b1();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x33125e){const _0x193709=a147_0x4d22;return _0x33125e&&_0x33125e[_0x193709(0x15b)]?_0x33125e:{'default':_0x33125e};};Object[a147_0x5c7d21(0x13c)](exports,a147_0x5c7d21(0x15b),{'value':!![]}),exports[a147_0x5c7d21(0x164)]=void 0x0;const fs_internal_1=require(a147_0x5c7d21(0x175)),utils_1=require('../utils'),path_1=require(a147_0x5c7d21(0x137)),xml_1=require(a147_0x5c7d21(0x171)),child_types_map_1=__importDefault(require(a147_0x5c7d21(0x161))),constants_1=require(a147_0x5c7d21(0x136)),core_1=require(a147_0x5c7d21(0x14e)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a147_0x5c7d21(0x172)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a147_0x5c7d21(0x173)](child_types_map_1[a147_0x5c7d21(0x13b)]);class MDApiParser{constructor(_0x5b81fa,_0x32fe3f,_0x5143d0){const _0x43f6fe=a147_0x5c7d21;this[_0x43f6fe(0x15a)]=_0x5b81fa,this[_0x43f6fe(0x157)]=_0x5143d0,this['logger']=new core_1[(_0x43f6fe(0x153))](MDApiParser[_0x43f6fe(0x143)]),this['META_EXTENSION']=_0x43f6fe(0x17d),this['META_EXPERIENCES_EXTENSION']=_0x43f6fe(0x158),this[_0x43f6fe(0x13a)]=_0x32fe3f;}async[a147_0x5c7d21(0x134)](_0xb7392d){const _0x130465=a147_0x5c7d21;try{const _0x5f2a97=await xml_1[_0x130465(0x154)][_0x130465(0x14b)](Object[_0x130465(0x173)](_0xb7392d[_0x130465(0x151)])[0x0][_0x130465(0x156)](_0x130465(0x168))),_0x4e0bfe=CHILD_XML_KEYS['filter'](_0x1f53be=>xml_1['Xml'][_0x130465(0x138)](_0x5f2a97,_0x1f53be))[_0x130465(0x170)]((_0x3b7864,_0x5f27b7)=>[..._0x3b7864,...xml_1[_0x130465(0x154)][_0x130465(0x144)](_0x5f2a97,_0x5f27b7)],[]);return(0x0,utils_1[_0x130465(0x14d)])(_0xb7392d,_0x5f2a97,_0x4e0bfe);}catch(_0x5548b1){throw new Error(_0x130465(0x16d)+_0xb7392d[_0x130465(0x143)]+'\x20['+_0xb7392d[_0x130465(0x145)]+']');}}async['readBundledFiles'](_0x1fc608){const _0x3d57c9=a147_0x5c7d21,_0x23b90c=(0x0,path_1[_0x3d57c9(0x15e)])(this[_0x3d57c9(0x15a)],_0x1fc608),_0x5d3234=_0x1fc608+(_0x1fc608[_0x3d57c9(0x159)](_0x3d57c9(0x179))?this['META_EXPERIENCES_EXTENSION']:this[_0x3d57c9(0x16a)]),_0x153c30=await fs_internal_1['FS'][_0x3d57c9(0x169)](_0x23b90c,!![]),_0x4c6bda=await fs_internal_1['FS'][_0x3d57c9(0x180)]((0x0,path_1[_0x3d57c9(0x15e)])(this['dir'],_0x5d3234),!![])[_0x3d57c9(0x17f)](()=>null),_0x49a5fb={};for(const _0x66d633 of _0x153c30){_0x49a5fb[(0x0,path_1['relative'])(this[_0x3d57c9(0x15a)],_0x66d633)]=await fs_internal_1['FS'][_0x3d57c9(0x180)](_0x66d633,!![]);}return _0x4c6bda&&(_0x49a5fb[(0x0,path_1[_0x3d57c9(0x14f)])(this[_0x3d57c9(0x15a)],_0x5d3234)]=_0x4c6bda),_0x49a5fb;}async['readComponentFiles'](_0x3bb266){const _0x1fadd7=a147_0x5c7d21;let _0x3cbe70=_0x3bb266+this[_0x1fadd7(0x16a)];if(constants_1[_0x1fadd7(0x163)]['test'](_0x3bb266))return this['readBundledFiles'](_0x3bb266);if(await fs_internal_1['FS'][_0x1fadd7(0x13f)]((0x0,path_1['join'])(this[_0x1fadd7(0x15a)],_0x3bb266))||await fs_internal_1['FS'][_0x1fadd7(0x152)]((0x0,path_1[_0x1fadd7(0x15e)])(this['dir'],_0x3cbe70))){const _0x54957d=await fs_internal_1['FS'][_0x1fadd7(0x180)]((0x0,path_1[_0x1fadd7(0x15e)])(this[_0x1fadd7(0x15a)],_0x3cbe70),!![]),_0x453a56=await(0x0,utils_1[_0x1fadd7(0x166)])({'files':{[_0x3cbe70]:_0x54957d}})['catch'](()=>null);if(_0x453a56&&folder_types_1[_0x1fadd7(0x13b)][_0x1fadd7(0x16b)](_0x453a56))return{[_0x3cbe70]:await fs_internal_1['FS'][_0x1fadd7(0x180)]((0x0,path_1[_0x1fadd7(0x15e)])(this['dir'],_0x3cbe70),!![])};}if(!(0x0,path_1['extname'])(_0x3bb266)&&this[_0x1fadd7(0x157)]){const _0x19dfd2=_0x3bb266[_0x1fadd7(0x178)]('/')[0x0],_0x2ccd52=(await fs_internal_1['FS'][_0x1fadd7(0x169)]((0x0,path_1[_0x1fadd7(0x15e)])(this[_0x1fadd7(0x15a)],_0x19dfd2)))[_0x1fadd7(0x162)](_0x332946=>(0x0,git_commit_utils_1[_0x1fadd7(0x176)])(_0x332946,(0x0,path_1['join'])(this[_0x1fadd7(0x15a)],_0x3bb266)));if(!_0x2ccd52)throw new Error(_0x1fadd7(0x17e)+_0x3bb266+_0x1fadd7(0x15d)+_0x19dfd2+'\x22');_0x3bb266=(0x0,path_1['relative'])(this[_0x1fadd7(0x15a)],_0x2ccd52),_0x3cbe70=_0x3bb266+this[_0x1fadd7(0x16a)];}const [_0x394d2b,_0x2c0878]=await Promise[_0x1fadd7(0x16f)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x1fadd7(0x15e)])(this['dir'],_0x3bb266),!![])[_0x1fadd7(0x17f)](()=>null),fs_internal_1['FS'][_0x1fadd7(0x180)]((0x0,path_1[_0x1fadd7(0x15e)])(this[_0x1fadd7(0x15a)],_0x3cbe70),!![])['catch'](()=>null)]);return{..._0x394d2b?{[_0x3bb266]:_0x394d2b}:{},..._0x2c0878?{[_0x3cbe70]:_0x2c0878}:{}};}async[a147_0x5c7d21(0x13e)](){const _0x3fbf24=a147_0x5c7d21,_0x46b19f=[...this[_0x3fbf24(0x13a)]];if(this[_0x3fbf24(0x157)])for(const _0x5228af of _0x46b19f){if(constants_1[_0x3fbf24(0x163)][_0x3fbf24(0x133)](_0x5228af))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x3fbf24(0x15e)])(this[_0x3fbf24(0x15a)],_0x5228af))){const _0x272bce=await fs_internal_1['FS'][_0x3fbf24(0x169)]((0x0,path_1[_0x3fbf24(0x15e)])(this[_0x3fbf24(0x15a)],_0x5228af),!![]);_0x46b19f[_0x3fbf24(0x181)](..._0x272bce[_0x3fbf24(0x14c)](_0x4ec949=>(0x0,path_1['relative'])(this[_0x3fbf24(0x15a)],_0x4ec949)));}}this[_0x3fbf24(0x13a)]=(0x0,utils_1[_0x3fbf24(0x16e)])(_0x46b19f);}async['parse'](){const _0x385b07=a147_0x5c7d21;await this[_0x385b07(0x13e)]();const _0x242eaf=[];for(const _0x351dc3 of this[_0x385b07(0x13a)]){if(_0x351dc3[_0x385b07(0x14a)](_0x385b07(0x165)))continue;const _0x208329={};try{_0x208329[_0x385b07(0x151)]=await this[_0x385b07(0x135)](_0x351dc3),_0x208329[_0x385b07(0x177)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x385b07(0x133)](_0x351dc3)?_0x351dc3:(0x0,utils_1[_0x385b07(0x146)])({'files':_0x208329[_0x385b07(0x151)]}),_0x351dc3[_0x385b07(0x159)](_0x385b07(0x167))?_0x208329[_0x385b07(0x145)]=_0x385b07(0x16c):_0x208329[_0x385b07(0x145)]=await(0x0,utils_1[_0x385b07(0x166)])({'files':_0x208329['files']});}catch(_0x358415){this[_0x385b07(0x139)]['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x351dc3,_0x358415);continue;}_0x208329[_0x385b07(0x143)]=(0x0,utils_1[_0x385b07(0x141)])(_0x351dc3),_0x208329['crc']=(0x0,crc32_1[_0x385b07(0x174)])(_0x208329);if((0x0,utils_1['isParentComponent'])(_0x208329)){const _0x5b2e8e=await this[_0x385b07(0x134)](_0x208329);_0x242eaf['push'](..._0x5b2e8e);}if(_0x208329['type']===_0x385b07(0x13d))continue;settings_types_list_1['default']['includes'](_0x208329[_0x385b07(0x145)])&&(_0x208329[_0x385b07(0x145)]=_0x385b07(0x140)),_0x242eaf[_0x385b07(0x181)](_0x208329);}return _0x242eaf;}}exports[a147_0x5c7d21(0x164)]=MDApiParser;