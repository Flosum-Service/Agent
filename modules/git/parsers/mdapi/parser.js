const a147_0x31056d=a147_0xf4c1;(function(_0x22a4a0,_0x33cab3){const _0x4e4b55=a147_0xf4c1,_0x4f79c0=_0x22a4a0();while(!![]){try{const _0x144d09=parseInt(_0x4e4b55(0x1f3))/0x1*(-parseInt(_0x4e4b55(0x207))/0x2)+-parseInt(_0x4e4b55(0x1d8))/0x3+-parseInt(_0x4e4b55(0x1e5))/0x4+-parseInt(_0x4e4b55(0x1dd))/0x5+parseInt(_0x4e4b55(0x1c9))/0x6*(parseInt(_0x4e4b55(0x1e1))/0x7)+parseInt(_0x4e4b55(0x200))/0x8+-parseInt(_0x4e4b55(0x20d))/0x9*(-parseInt(_0x4e4b55(0x209))/0xa);if(_0x144d09===_0x33cab3)break;else _0x4f79c0['push'](_0x4f79c0['shift']());}catch(_0x105062){_0x4f79c0['push'](_0x4f79c0['shift']());}}}(a147_0x32cd,0x2bfae));const a147_0x3feb6e=(function(){let _0x198a06=!![];return function(_0x4eff7f,_0x1184c6){const _0x362448=_0x198a06?function(){const _0x904fef=a147_0xf4c1;if(_0x1184c6){const _0x2a835a=_0x1184c6[_0x904fef(0x1d7)](_0x4eff7f,arguments);return _0x1184c6=null,_0x2a835a;}}:function(){};return _0x198a06=![],_0x362448;};}()),a147_0x5d6e5c=a147_0x3feb6e(this,function(){const _0x4f1146=a147_0xf4c1;return a147_0x5d6e5c[_0x4f1146(0x1d2)]()[_0x4f1146(0x215)](_0x4f1146(0x206))[_0x4f1146(0x1d2)]()[_0x4f1146(0x202)](a147_0x5d6e5c)['search'](_0x4f1146(0x206));});a147_0x5d6e5c();'use strict';function a147_0x32cd(){const _0x4cbd91=['paths','utf-8','(((.+)+)+)+$','647072nngcvy','hasChildNodes','470Boynxm','extractComponentTypeFromFiles','Logger','filter','106317ZpQnpM','readDir','test','readChildComponents','init','-meta.xml','extname','isSFDXProject','search','MDApiParser','readComponentFiles','7188OlGviU','crc','extractFilenameFromPath','name','relative','CustomLabels','isPathsEquals','getChildsByName','Settings','toString','join','__esModule','values','readBundledFiles','apply','489399iHXaXp','extractFileNameFromFiles','parse','readFile','path','405295JlqbbM','all','../../devops/utils/git-commit.utils','logger','1841YexiWa','../utils','push','package.xml','1345800CMTVZz','includes','../../../../core','files','reduce','BUNDLED_FOLDERS_REGEXP','startsWith','../../internal/fs.internal','.site-meta.xml','dir','find','META_EXPERIENCES_EXTENSION','Cannot\x20parse\x20childs\x20in\x20','calculateCRC32','1KkskCh','Xml','WaveTemplateBundle','waveTemplates','../utils/xml','__importDefault','../utils/crc32','isDir','catch','default','exists','../data/settings-types-list','META_EXTENSION','1712280VYZPLB','type','constructor','\x22\x20not\x20found\x20in\x20\x22'];a147_0x32cd=function(){return _0x4cbd91;};return a147_0x32cd();}function a147_0xf4c1(_0x10a178,_0x16e623){const _0x4d33da=a147_0x32cd();return a147_0xf4c1=function(_0x5d6e5c,_0x3feb6e){_0x5d6e5c=_0x5d6e5c-0x1c7;let _0x32cded=_0x4d33da[_0x5d6e5c];return _0x32cded;},a147_0xf4c1(_0x10a178,_0x16e623);}var __importDefault=this&&this[a147_0x31056d(0x1f8)]||function(_0x26bdc4){return _0x26bdc4&&_0x26bdc4['__esModule']?_0x26bdc4:{'default':_0x26bdc4};};Object['defineProperty'](exports,a147_0x31056d(0x1d4),{'value':!![]}),exports[a147_0x31056d(0x1c7)]=void 0x0;const fs_internal_1=require(a147_0x31056d(0x1ec)),utils_1=require(a147_0x31056d(0x1e2)),path_1=require(a147_0x31056d(0x1dc)),xml_1=require(a147_0x31056d(0x1f7)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require(a147_0x31056d(0x1e7)),git_commit_utils_1=require(a147_0x31056d(0x1df)),crc32_1=require(a147_0x31056d(0x1f9)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a147_0x31056d(0x1fe))),CHILD_XML_KEYS=Object[a147_0x31056d(0x1d5)](child_types_map_1[a147_0x31056d(0x1fc)]);class MDApiParser{constructor(_0xfe0b34,_0x3f98db,_0x27dc17){const _0x33191e=a147_0x31056d;this[_0x33191e(0x1ee)]=_0xfe0b34,this[_0x33191e(0x214)]=_0x27dc17,this['logger']=new core_1[(_0x33191e(0x20b))](MDApiParser[_0x33191e(0x1cc)]),this['META_EXTENSION']=_0x33191e(0x212),this[_0x33191e(0x1f0)]=_0x33191e(0x1ed),this[_0x33191e(0x204)]=_0x3f98db;}async[a147_0x31056d(0x210)](_0x5407c6){const _0x13c30b=a147_0x31056d;try{const _0x5ef6b1=await xml_1['Xml'][_0x13c30b(0x1da)](Object[_0x13c30b(0x1d5)](_0x5407c6['files'])[0x0][_0x13c30b(0x1d2)](_0x13c30b(0x205))),_0x1d7067=CHILD_XML_KEYS[_0x13c30b(0x20c)](_0x397143=>xml_1[_0x13c30b(0x1f4)][_0x13c30b(0x208)](_0x5ef6b1,_0x397143))[_0x13c30b(0x1e9)]((_0x131132,_0x45d2ad)=>[..._0x131132,...xml_1[_0x13c30b(0x1f4)][_0x13c30b(0x1d0)](_0x5ef6b1,_0x45d2ad)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x5407c6,_0x5ef6b1,_0x1d7067);}catch(_0x463083){throw new Error(_0x13c30b(0x1f1)+_0x5407c6['name']+'\x20['+_0x5407c6['type']+']');}}async['readBundledFiles'](_0x446307){const _0x2bc6ca=a147_0x31056d,_0x472f6a=(0x0,path_1[_0x2bc6ca(0x1d3)])(this['dir'],_0x446307),_0x57033f=_0x446307+(_0x446307[_0x2bc6ca(0x1eb)]('experiences')?this[_0x2bc6ca(0x1f0)]:this[_0x2bc6ca(0x1ff)]),_0x47d5e9=await fs_internal_1['FS'][_0x2bc6ca(0x20e)](_0x472f6a,!![]),_0x55d4d=await fs_internal_1['FS'][_0x2bc6ca(0x1db)]((0x0,path_1['join'])(this[_0x2bc6ca(0x1ee)],_0x57033f),!![])[_0x2bc6ca(0x1fb)](()=>null),_0x5d8060={};for(const _0x66f156 of _0x47d5e9){_0x5d8060[(0x0,path_1[_0x2bc6ca(0x1cd)])(this['dir'],_0x66f156)]=await fs_internal_1['FS'][_0x2bc6ca(0x1db)](_0x66f156,!![]);}return _0x55d4d&&(_0x5d8060[(0x0,path_1[_0x2bc6ca(0x1cd)])(this[_0x2bc6ca(0x1ee)],_0x57033f)]=_0x55d4d),_0x5d8060;}async[a147_0x31056d(0x1c8)](_0x367eaf){const _0xe742c1=a147_0x31056d;let _0x369031=_0x367eaf+this[_0xe742c1(0x1ff)];if(constants_1[_0xe742c1(0x1ea)][_0xe742c1(0x20f)](_0x367eaf))return this[_0xe742c1(0x1d6)](_0x367eaf);if(await fs_internal_1['FS'][_0xe742c1(0x1fa)]((0x0,path_1['join'])(this[_0xe742c1(0x1ee)],_0x367eaf))||await fs_internal_1['FS'][_0xe742c1(0x1fd)]((0x0,path_1[_0xe742c1(0x1d3)])(this[_0xe742c1(0x1ee)],_0x369031))){const _0x191d83=await fs_internal_1['FS']['readFile']((0x0,path_1[_0xe742c1(0x1d3)])(this[_0xe742c1(0x1ee)],_0x369031),!![]),_0xfe7470=await(0x0,utils_1[_0xe742c1(0x20a)])({'files':{[_0x369031]:_0x191d83}})[_0xe742c1(0x1fb)](()=>null);if(_0xfe7470&&folder_types_1[_0xe742c1(0x1fc)][_0xe742c1(0x1e6)](_0xfe7470))return{[_0x369031]:await fs_internal_1['FS'][_0xe742c1(0x1db)]((0x0,path_1['join'])(this[_0xe742c1(0x1ee)],_0x369031),!![])};}if(!(0x0,path_1[_0xe742c1(0x213)])(_0x367eaf)&&this[_0xe742c1(0x214)]){const _0x74a1ba=_0x367eaf['split']('/')[0x0],_0x356f86=(await fs_internal_1['FS'][_0xe742c1(0x20e)]((0x0,path_1['join'])(this[_0xe742c1(0x1ee)],_0x74a1ba)))[_0xe742c1(0x1ef)](_0x38ab74=>(0x0,git_commit_utils_1[_0xe742c1(0x1cf)])(_0x38ab74,(0x0,path_1['join'])(this[_0xe742c1(0x1ee)],_0x367eaf)));if(!_0x356f86)throw new Error('Component\x20\x22'+_0x367eaf+_0xe742c1(0x203)+_0x74a1ba+'\x22');_0x367eaf=(0x0,path_1[_0xe742c1(0x1cd)])(this[_0xe742c1(0x1ee)],_0x356f86),_0x369031=_0x367eaf+this[_0xe742c1(0x1ff)];}const [_0x2e6957,_0x544471]=await Promise[_0xe742c1(0x1de)]([fs_internal_1['FS'][_0xe742c1(0x1db)]((0x0,path_1[_0xe742c1(0x1d3)])(this[_0xe742c1(0x1ee)],_0x367eaf),!![])[_0xe742c1(0x1fb)](()=>null),fs_internal_1['FS'][_0xe742c1(0x1db)]((0x0,path_1[_0xe742c1(0x1d3)])(this[_0xe742c1(0x1ee)],_0x369031),!![])[_0xe742c1(0x1fb)](()=>null)]);return{..._0x2e6957?{[_0x367eaf]:_0x2e6957}:{},..._0x544471?{[_0x369031]:_0x544471}:{}};}async[a147_0x31056d(0x211)](){const _0x4ee8fd=a147_0x31056d,_0x12c043=[...this[_0x4ee8fd(0x204)]];if(this['isSFDXProject'])for(const _0x57b548 of _0x12c043){if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x57b548))continue;if(await fs_internal_1['FS'][_0x4ee8fd(0x1fa)]((0x0,path_1['join'])(this[_0x4ee8fd(0x1ee)],_0x57b548))){const _0x5e13bf=await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x4ee8fd(0x1ee)],_0x57b548),!![]);_0x12c043[_0x4ee8fd(0x1e3)](..._0x5e13bf['map'](_0x33b3c4=>(0x0,path_1[_0x4ee8fd(0x1cd)])(this['dir'],_0x33b3c4)));}}this[_0x4ee8fd(0x204)]=(0x0,utils_1['convertToCleanPaths'])(_0x12c043);}async[a147_0x31056d(0x1da)](){const _0x21cce7=a147_0x31056d;await this[_0x21cce7(0x211)]();const _0x2a843=[];for(const _0x5c9eea of this[_0x21cce7(0x204)]){if(_0x5c9eea['endsWith'](_0x21cce7(0x1e4)))continue;const _0x23eb5a={};try{_0x23eb5a[_0x21cce7(0x1e8)]=await this[_0x21cce7(0x1c8)](_0x5c9eea),_0x23eb5a['filePath']=constants_1[_0x21cce7(0x1ea)][_0x21cce7(0x20f)](_0x5c9eea)?_0x5c9eea:(0x0,utils_1[_0x21cce7(0x1d9)])({'files':_0x23eb5a[_0x21cce7(0x1e8)]}),_0x5c9eea['startsWith'](_0x21cce7(0x1f6))?_0x23eb5a['type']=_0x21cce7(0x1f5):_0x23eb5a[_0x21cce7(0x201)]=await(0x0,utils_1[_0x21cce7(0x20a)])({'files':_0x23eb5a['files']});}catch(_0x4fe88f){this[_0x21cce7(0x1e0)]['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x5c9eea,_0x4fe88f);continue;}_0x23eb5a[_0x21cce7(0x1cc)]=(0x0,utils_1[_0x21cce7(0x1cb)])(_0x5c9eea),_0x23eb5a[_0x21cce7(0x1ca)]=(0x0,crc32_1[_0x21cce7(0x1f2)])(_0x23eb5a);if((0x0,utils_1['isParentComponent'])(_0x23eb5a)){const _0x302933=await this[_0x21cce7(0x210)](_0x23eb5a);_0x2a843[_0x21cce7(0x1e3)](..._0x302933);}if(_0x23eb5a[_0x21cce7(0x201)]===_0x21cce7(0x1ce))continue;settings_types_list_1[_0x21cce7(0x1fc)][_0x21cce7(0x1e6)](_0x23eb5a[_0x21cce7(0x201)])&&(_0x23eb5a[_0x21cce7(0x201)]=_0x21cce7(0x1d1)),_0x2a843[_0x21cce7(0x1e3)](_0x23eb5a);}return _0x2a843;}}exports['MDApiParser']=MDApiParser;