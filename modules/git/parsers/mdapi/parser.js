const a147_0x6855f4=a147_0xc24e;(function(_0x841d83,_0x475566){const _0x191b0d=a147_0xc24e,_0x164fd4=_0x841d83();while(!![]){try{const _0x2ffc49=parseInt(_0x191b0d(0x142))/0x1*(parseInt(_0x191b0d(0x13f))/0x2)+parseInt(_0x191b0d(0x10b))/0x3+-parseInt(_0x191b0d(0x123))/0x4*(-parseInt(_0x191b0d(0x11e))/0x5)+parseInt(_0x191b0d(0x149))/0x6*(parseInt(_0x191b0d(0x128))/0x7)+parseInt(_0x191b0d(0x133))/0x8+-parseInt(_0x191b0d(0x120))/0x9+parseInt(_0x191b0d(0x115))/0xa*(-parseInt(_0x191b0d(0x10a))/0xb);if(_0x2ffc49===_0x475566)break;else _0x164fd4['push'](_0x164fd4['shift']());}catch(_0xa4d012){_0x164fd4['push'](_0x164fd4['shift']());}}}(a147_0x4acd,0xe4607));const a147_0x430ff7=(function(){let _0x51d9aa=!![];return function(_0x255cad,_0x10899e){const _0x59fe96=_0x51d9aa?function(){const _0x4ca22f=a147_0xc24e;if(_0x10899e){const _0x38220b=_0x10899e[_0x4ca22f(0x127)](_0x255cad,arguments);return _0x10899e=null,_0x38220b;}}:function(){};return _0x51d9aa=![],_0x59fe96;};}()),a147_0x3dd380=a147_0x430ff7(this,function(){const _0x257f23=a147_0xc24e;return a147_0x3dd380['toString']()[_0x257f23(0x131)](_0x257f23(0x143))[_0x257f23(0x137)]()[_0x257f23(0x14b)](a147_0x3dd380)[_0x257f23(0x131)](_0x257f23(0x143));});function a147_0xc24e(_0x59ad34,_0x338339){const _0x49a873=a147_0x4acd();return a147_0xc24e=function(_0x3dd380,_0x430ff7){_0x3dd380=_0x3dd380-0x107;let _0x4acdf4=_0x49a873[_0x3dd380];return _0x4acdf4;},a147_0xc24e(_0x59ad34,_0x338339);}a147_0x3dd380();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4aabfb){const _0x17bff8=a147_0xc24e;return _0x4aabfb&&_0x4aabfb[_0x17bff8(0x14c)]?_0x4aabfb:{'default':_0x4aabfb};};Object['defineProperty'](exports,a147_0x6855f4(0x14c),{'value':!![]}),exports[a147_0x6855f4(0x12b)]=void 0x0;const fs_internal_1=require(a147_0x6855f4(0x147)),utils_1=require(a147_0x6855f4(0x13e)),path_1=require(a147_0x6855f4(0x134)),xml_1=require(a147_0x6855f4(0x11c)),child_types_map_1=__importDefault(require(a147_0x6855f4(0x129))),constants_1=require('../../../../constants'),core_1=require(a147_0x6855f4(0x113)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a147_0x6855f4(0x11b))),settings_types_list_1=__importDefault(require(a147_0x6855f4(0x140))),CHILD_XML_KEYS=Object[a147_0x6855f4(0x158)](child_types_map_1['default']);function a147_0x4acd(){const _0x101c36=['164jgKsDe','../data/settings-types-list','calculateCRC32','14483cPuzNa','(((.+)+)+)+$','Xml','isParentComponent','join','../../internal/fs.internal','createChildComponentsFromParent','1626KOenpm','map','constructor','__esModule','exists','-meta.xml','META_EXPERIENCES_EXTENSION','find','startsWith','package.xml','default','filePath','WaveTemplateBundle','type','extname','values','Component\x20\x22','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','.site-meta.xml','143YEijxb','5135814jBiHCV','parse','readDir','isDir','BUNDLED_FOLDERS_REGEXP','extractFilenameFromPath','META_EXTENSION','isPathsEquals','../../../../core','dir','1644890TakqwZ','readChildComponents','isSFDXProject','readBundledFiles','init','extractComponentTypeFromFiles','../data/folder-types','../utils/xml','utf-8','20FzbEwL','Logger','12457251ZKyXvw','error','catch','332076bEIldk','includes','relative','waveTemplates','apply','19789kFIRmU','../data/child-types-map','readFile','MDApiParser','push','split','crc','files','CustomLabels','search','paths','3681520ECdoPf','path','getChildsByName','logger','toString','name','hasChildNodes','experiences','endsWith','test','readComponentFiles','../utils'];a147_0x4acd=function(){return _0x101c36;};return a147_0x4acd();}class MDApiParser{constructor(_0x4d45cd,_0x5e0794,_0x30b3ed){const _0x3e6c9d=a147_0x6855f4;this['dir']=_0x4d45cd,this[_0x3e6c9d(0x117)]=_0x30b3ed,this[_0x3e6c9d(0x136)]=new core_1[(_0x3e6c9d(0x11f))](MDApiParser[_0x3e6c9d(0x138)]),this[_0x3e6c9d(0x111)]=_0x3e6c9d(0x14e),this[_0x3e6c9d(0x14f)]=_0x3e6c9d(0x109),this[_0x3e6c9d(0x132)]=_0x5e0794;}async[a147_0x6855f4(0x116)](_0x31d4db){const _0x5b6e43=a147_0x6855f4;try{const _0x577758=await xml_1['Xml'][_0x5b6e43(0x10c)](Object[_0x5b6e43(0x158)](_0x31d4db[_0x5b6e43(0x12f)])[0x0][_0x5b6e43(0x137)](_0x5b6e43(0x11d))),_0x53c7a2=CHILD_XML_KEYS['filter'](_0x102dd3=>xml_1['Xml'][_0x5b6e43(0x139)](_0x577758,_0x102dd3))['reduce']((_0x181ce8,_0x1c1fcd)=>[..._0x181ce8,...xml_1[_0x5b6e43(0x144)][_0x5b6e43(0x135)](_0x577758,_0x1c1fcd)],[]);return(0x0,utils_1[_0x5b6e43(0x148)])(_0x31d4db,_0x577758,_0x53c7a2);}catch(_0x1c68b3){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x31d4db[_0x5b6e43(0x138)]+'\x20['+_0x31d4db[_0x5b6e43(0x156)]+']');}}async['readBundledFiles'](_0x55992b){const _0x4960f5=a147_0x6855f4,_0x523842=(0x0,path_1[_0x4960f5(0x146)])(this[_0x4960f5(0x114)],_0x55992b),_0x59e589=_0x55992b+(_0x55992b['startsWith'](_0x4960f5(0x13a))?this['META_EXPERIENCES_EXTENSION']:this[_0x4960f5(0x111)]),_0x415f24=await fs_internal_1['FS'][_0x4960f5(0x10d)](_0x523842,!![]),_0x117ac9=await fs_internal_1['FS'][_0x4960f5(0x12a)]((0x0,path_1['join'])(this['dir'],_0x59e589),!![])[_0x4960f5(0x122)](()=>null),_0x21e215={};for(const _0x93fd48 of _0x415f24){_0x21e215[(0x0,path_1[_0x4960f5(0x125)])(this[_0x4960f5(0x114)],_0x93fd48)]=await fs_internal_1['FS'][_0x4960f5(0x12a)](_0x93fd48,!![]);}return _0x117ac9&&(_0x21e215[(0x0,path_1[_0x4960f5(0x125)])(this[_0x4960f5(0x114)],_0x59e589)]=_0x117ac9),_0x21e215;}async['readComponentFiles'](_0x21e58d){const _0x547d8d=a147_0x6855f4;let _0x13c3ce=_0x21e58d+this[_0x547d8d(0x111)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x547d8d(0x13c)](_0x21e58d))return this[_0x547d8d(0x118)](_0x21e58d);if(await fs_internal_1['FS'][_0x547d8d(0x10e)]((0x0,path_1[_0x547d8d(0x146)])(this['dir'],_0x21e58d))||await fs_internal_1['FS'][_0x547d8d(0x14d)]((0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x13c3ce))){const _0x244fee=await fs_internal_1['FS'][_0x547d8d(0x12a)]((0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x13c3ce),!![]),_0x3965a8=await(0x0,utils_1[_0x547d8d(0x11a)])({'files':{[_0x13c3ce]:_0x244fee}})[_0x547d8d(0x122)](()=>null);if(_0x3965a8&&folder_types_1[_0x547d8d(0x153)][_0x547d8d(0x124)](_0x3965a8))return{[_0x13c3ce]:await fs_internal_1['FS'][_0x547d8d(0x12a)]((0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x13c3ce),!![])};}if(!(0x0,path_1[_0x547d8d(0x157)])(_0x21e58d)&&this[_0x547d8d(0x117)]){const _0x464da4=_0x21e58d[_0x547d8d(0x12d)]('/')[0x0],_0x3e18f5=(await fs_internal_1['FS'][_0x547d8d(0x10d)]((0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x464da4)))[_0x547d8d(0x150)](_0xf1b5c0=>(0x0,git_commit_utils_1[_0x547d8d(0x112)])(_0xf1b5c0,(0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x21e58d)));if(!_0x3e18f5)throw new Error(_0x547d8d(0x107)+_0x21e58d+'\x22\x20not\x20found\x20in\x20\x22'+_0x464da4+'\x22');_0x21e58d=(0x0,path_1[_0x547d8d(0x125)])(this['dir'],_0x3e18f5),_0x13c3ce=_0x21e58d+this[_0x547d8d(0x111)];}const [_0x330c3a,_0x2d850e]=await Promise['all']([fs_internal_1['FS'][_0x547d8d(0x12a)]((0x0,path_1[_0x547d8d(0x146)])(this[_0x547d8d(0x114)],_0x21e58d),!![])[_0x547d8d(0x122)](()=>null),fs_internal_1['FS'][_0x547d8d(0x12a)]((0x0,path_1['join'])(this[_0x547d8d(0x114)],_0x13c3ce),!![])[_0x547d8d(0x122)](()=>null)]);return{..._0x330c3a?{[_0x21e58d]:_0x330c3a}:{},..._0x2d850e?{[_0x13c3ce]:_0x2d850e}:{}};}async['init'](){const _0x46d28a=a147_0x6855f4,_0x543e4a=[...this[_0x46d28a(0x132)]];if(this[_0x46d28a(0x117)])for(const _0x29aaa2 of _0x543e4a){if(constants_1[_0x46d28a(0x10f)][_0x46d28a(0x13c)](_0x29aaa2))continue;if(await fs_internal_1['FS'][_0x46d28a(0x10e)]((0x0,path_1['join'])(this['dir'],_0x29aaa2))){const _0x1548e8=await fs_internal_1['FS'][_0x46d28a(0x10d)]((0x0,path_1[_0x46d28a(0x146)])(this[_0x46d28a(0x114)],_0x29aaa2),!![]);_0x543e4a[_0x46d28a(0x12c)](..._0x1548e8[_0x46d28a(0x14a)](_0x3de8e6=>(0x0,path_1[_0x46d28a(0x125)])(this[_0x46d28a(0x114)],_0x3de8e6)));}}this[_0x46d28a(0x132)]=(0x0,utils_1['convertToCleanPaths'])(_0x543e4a);}async['parse'](){const _0x2961f5=a147_0x6855f4;await this[_0x2961f5(0x119)]();const _0x2a4737=[];for(const _0x46c3be of this[_0x2961f5(0x132)]){if(_0x46c3be[_0x2961f5(0x13b)](_0x2961f5(0x152)))continue;const _0x16f9e7={};try{_0x16f9e7['files']=await this[_0x2961f5(0x13d)](_0x46c3be),_0x16f9e7[_0x2961f5(0x154)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x2961f5(0x13c)](_0x46c3be)?_0x46c3be:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x16f9e7['files']}),_0x46c3be[_0x2961f5(0x151)](_0x2961f5(0x126))?_0x16f9e7[_0x2961f5(0x156)]=_0x2961f5(0x155):_0x16f9e7[_0x2961f5(0x156)]=await(0x0,utils_1[_0x2961f5(0x11a)])({'files':_0x16f9e7[_0x2961f5(0x12f)]});}catch(_0x4b7d82){this[_0x2961f5(0x136)][_0x2961f5(0x121)](_0x2961f5(0x108),_0x46c3be,_0x4b7d82);continue;}_0x16f9e7[_0x2961f5(0x138)]=(0x0,utils_1[_0x2961f5(0x110)])(_0x46c3be),_0x16f9e7[_0x2961f5(0x12e)]=(0x0,crc32_1[_0x2961f5(0x141)])(_0x16f9e7);if((0x0,utils_1[_0x2961f5(0x145)])(_0x16f9e7)){const _0x557a05=await this[_0x2961f5(0x116)](_0x16f9e7);_0x2a4737[_0x2961f5(0x12c)](..._0x557a05);}if(_0x16f9e7[_0x2961f5(0x156)]===_0x2961f5(0x130))continue;settings_types_list_1['default']['includes'](_0x16f9e7[_0x2961f5(0x156)])&&(_0x16f9e7[_0x2961f5(0x156)]='Settings'),_0x2a4737[_0x2961f5(0x12c)](_0x16f9e7);}return _0x2a4737;}}exports[a147_0x6855f4(0x12b)]=MDApiParser;