const a114_0x21f58c=a114_0x38da;function a114_0x38dd(){const _0x2eeede=['extractFileNameFromFiles','../utils','3494854mlkgql','776245wewUDe','readDir','112866uVmKsY','reduce','20gCFYGi','join','endsWith','../../internal/fs.internal','startsWith','MDApiParser','files','waveTemplates','readBundledFiles','values','calculateCRC32','test','isParentComponent','readComponentFiles','252wLssei','isDir','search','.site-meta.xml','(((.+)+)+)+$','META_EXPERIENCES_EXTENSION','package.xml','utf-8','2tGYyPO','../data/folder-types','extractComponentTypeFromFiles','toString','93330gjUmFP','exists','filter','relative','isSFDXProject','Logger','all','push','find','14HWEzjT','experiences','../../../../constants','extname','dir','logger','constructor','Component\x20\x22','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','__esModule','error','parse','init','Xml','extractFilenameFromPath','BUNDLED_FOLDERS_REGEXP','readFile','default','type','name','readChildComponents','17222ynCLAB','hasChildNodes','catch','convertToCleanPaths','6243pTJoMm','isPathsEquals','875240pnqlab','createChildComponentsFromParent','paths','META_EXTENSION','defineProperty','map','Cannot\x20parse\x20childs\x20in\x20','WaveTemplateBundle','../data/child-types-map'];a114_0x38dd=function(){return _0x2eeede;};return a114_0x38dd();}function a114_0x38da(_0x2488c0,_0x4eb8c8){const _0x77ac65=a114_0x38dd();return a114_0x38da=function(_0x16c866,_0x3e7c18){_0x16c866=_0x16c866-0x115;let _0x38dd1b=_0x77ac65[_0x16c866];return _0x38dd1b;},a114_0x38da(_0x2488c0,_0x4eb8c8);}(function(_0x21b952,_0x586ce3){const _0x2ed70e=a114_0x38da,_0x42093a=_0x21b952();while(!![]){try{const _0x2ac28a=parseInt(_0x2ed70e(0x119))/0x1*(parseInt(_0x2ed70e(0x13b))/0x2)+parseInt(_0x2ed70e(0x13f))/0x3*(parseInt(_0x2ed70e(0x15f))/0x4)+parseInt(_0x2ed70e(0x14d))/0x5+-parseInt(_0x2ed70e(0x14f))/0x6*(-parseInt(_0x2ed70e(0x126))/0x7)+parseInt(_0x2ed70e(0x141))/0x8+parseInt(_0x2ed70e(0x11d))/0x9*(parseInt(_0x2ed70e(0x151))/0xa)+-parseInt(_0x2ed70e(0x14c))/0xb;if(_0x2ac28a===_0x586ce3)break;else _0x42093a['push'](_0x42093a['shift']());}catch(_0x129b0f){_0x42093a['push'](_0x42093a['shift']());}}}(a114_0x38dd,0x2581b));const a114_0x3e7c18=(function(){let _0x7aaae7=!![];return function(_0x24a6a1,_0x393ace){const _0x29261a=_0x7aaae7?function(){if(_0x393ace){const _0x440606=_0x393ace['apply'](_0x24a6a1,arguments);return _0x393ace=null,_0x440606;}}:function(){};return _0x7aaae7=![],_0x29261a;};}()),a114_0x16c866=a114_0x3e7c18(this,function(){const _0x13039c=a114_0x38da;return a114_0x16c866[_0x13039c(0x11c)]()[_0x13039c(0x161)](_0x13039c(0x115))[_0x13039c(0x11c)]()[_0x13039c(0x12c)](a114_0x16c866)[_0x13039c(0x161)](_0x13039c(0x115));});a114_0x16c866();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x468d35){const _0x28eca4=a114_0x38da;return _0x468d35&&_0x468d35[_0x28eca4(0x12f)]?_0x468d35:{'default':_0x468d35};};Object[a114_0x21f58c(0x145)](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a114_0x21f58c(0x154)),utils_1=require(a114_0x21f58c(0x14b)),path_1=require('path'),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a114_0x21f58c(0x149))),constants_1=require(a114_0x21f58c(0x128)),core_1=require('../../../../core'),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a114_0x21f58c(0x11a))),CHILD_XML_KEYS=Object[a114_0x21f58c(0x15a)](child_types_map_1[a114_0x21f58c(0x137)]);class MDApiParser{constructor(_0x51e229,_0x929d26,_0x58211c){const _0x351bf4=a114_0x21f58c;this[_0x351bf4(0x12a)]=_0x51e229,this[_0x351bf4(0x121)]=_0x58211c,this[_0x351bf4(0x12b)]=new core_1[(_0x351bf4(0x122))](MDApiParser[_0x351bf4(0x139)]),this[_0x351bf4(0x144)]='-meta.xml',this[_0x351bf4(0x116)]=_0x351bf4(0x162),this['paths']=_0x929d26;}async[a114_0x21f58c(0x13a)](_0x1b9513){const _0x62dcd6=a114_0x21f58c;try{const _0x1d6158=await xml_1['Xml'][_0x62dcd6(0x131)](Object[_0x62dcd6(0x15a)](_0x1b9513[_0x62dcd6(0x157)])[0x0][_0x62dcd6(0x11c)](_0x62dcd6(0x118))),_0x1e0dab=CHILD_XML_KEYS[_0x62dcd6(0x11f)](_0xa2e5b=>xml_1[_0x62dcd6(0x133)][_0x62dcd6(0x13c)](_0x1d6158,_0xa2e5b))[_0x62dcd6(0x150)]((_0x1b699f,_0x5254e2)=>[..._0x1b699f,...xml_1[_0x62dcd6(0x133)]['getChildsByName'](_0x1d6158,_0x5254e2)],[]);return(0x0,utils_1[_0x62dcd6(0x142)])(_0x1b9513,_0x1d6158,_0x1e0dab);}catch(_0x26962b){throw new Error(_0x62dcd6(0x147)+_0x1b9513[_0x62dcd6(0x139)]+'\x20['+_0x1b9513['type']+']');}}async[a114_0x21f58c(0x159)](_0x4f81b7){const _0x1777b5=a114_0x21f58c,_0x5ecd1d=(0x0,path_1[_0x1777b5(0x152)])(this['dir'],_0x4f81b7),_0x287b4d=_0x4f81b7+(_0x4f81b7['startsWith'](_0x1777b5(0x127))?this[_0x1777b5(0x116)]:this[_0x1777b5(0x144)]),_0x1e4564=await fs_internal_1['FS']['readDir'](_0x5ecd1d,!![]),_0x5b2d9c=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x1777b5(0x12a)],_0x287b4d),!![])[_0x1777b5(0x13d)](()=>null),_0x2f1c74={};for(const _0x2680af of _0x1e4564){_0x2f1c74[(0x0,path_1['relative'])(this[_0x1777b5(0x12a)],_0x2680af)]=await fs_internal_1['FS'][_0x1777b5(0x136)](_0x2680af,!![]);}return _0x5b2d9c&&(_0x2f1c74[(0x0,path_1['relative'])(this[_0x1777b5(0x12a)],_0x287b4d)]=_0x5b2d9c),_0x2f1c74;}async['readComponentFiles'](_0x318f00){const _0x257a53=a114_0x21f58c;let _0x2878a9=_0x318f00+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x318f00))return this[_0x257a53(0x159)](_0x318f00);if(await fs_internal_1['FS'][_0x257a53(0x160)]((0x0,path_1['join'])(this[_0x257a53(0x12a)],_0x318f00))||await fs_internal_1['FS'][_0x257a53(0x11e)]((0x0,path_1[_0x257a53(0x152)])(this[_0x257a53(0x12a)],_0x2878a9))){const _0x5abdbb=await fs_internal_1['FS'][_0x257a53(0x136)]((0x0,path_1['join'])(this['dir'],_0x2878a9),!![]),_0x552ee8=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x2878a9]:_0x5abdbb}})[_0x257a53(0x13d)](()=>null);if(_0x552ee8&&folder_types_1[_0x257a53(0x137)]['includes'](_0x552ee8))return{[_0x2878a9]:await fs_internal_1['FS'][_0x257a53(0x136)]((0x0,path_1[_0x257a53(0x152)])(this['dir'],_0x2878a9),!![])};}if(!(0x0,path_1[_0x257a53(0x129)])(_0x318f00)&&this[_0x257a53(0x121)]){const _0x54c37a=_0x318f00['split']('/')[0x0],_0x1b1907=(await fs_internal_1['FS'][_0x257a53(0x14e)]((0x0,path_1[_0x257a53(0x152)])(this['dir'],_0x54c37a)))[_0x257a53(0x125)](_0x1702e8=>(0x0,git_commit_utils_1[_0x257a53(0x140)])(_0x1702e8,(0x0,path_1['join'])(this['dir'],_0x318f00)));if(!_0x1b1907)throw new Error(_0x257a53(0x12d)+_0x318f00+'\x22\x20not\x20found\x20in\x20\x22'+_0x54c37a+'\x22');_0x318f00=(0x0,path_1[_0x257a53(0x120)])(this['dir'],_0x1b1907),_0x2878a9=_0x318f00+this[_0x257a53(0x144)];}const [_0x2ba373,_0x4e3215]=await Promise[_0x257a53(0x123)]([fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x257a53(0x12a)],_0x318f00),!![])[_0x257a53(0x13d)](()=>null),fs_internal_1['FS'][_0x257a53(0x136)]((0x0,path_1[_0x257a53(0x152)])(this['dir'],_0x2878a9),!![])[_0x257a53(0x13d)](()=>null)]);return{..._0x2ba373?{[_0x318f00]:_0x2ba373}:{},..._0x4e3215?{[_0x2878a9]:_0x4e3215}:{}};}async[a114_0x21f58c(0x132)](){const _0x5ceb03=a114_0x21f58c,_0x3f20b4=[...this['paths']];if(this[_0x5ceb03(0x121)])for(const _0x578020 of _0x3f20b4){if(constants_1[_0x5ceb03(0x135)]['test'](_0x578020))continue;if(await fs_internal_1['FS'][_0x5ceb03(0x160)]((0x0,path_1[_0x5ceb03(0x152)])(this[_0x5ceb03(0x12a)],_0x578020))){const _0x3ce97c=await fs_internal_1['FS'][_0x5ceb03(0x14e)]((0x0,path_1[_0x5ceb03(0x152)])(this[_0x5ceb03(0x12a)],_0x578020),!![]);_0x3f20b4[_0x5ceb03(0x124)](..._0x3ce97c[_0x5ceb03(0x146)](_0x280251=>(0x0,path_1['relative'])(this[_0x5ceb03(0x12a)],_0x280251)));}}this['paths']=(0x0,utils_1[_0x5ceb03(0x13e)])(_0x3f20b4);}async[a114_0x21f58c(0x131)](){const _0x217d5f=a114_0x21f58c;await this[_0x217d5f(0x132)]();const _0x18c5bb=[];for(const _0x3d32c6 of this[_0x217d5f(0x143)]){if(_0x3d32c6[_0x217d5f(0x153)](_0x217d5f(0x117)))continue;const _0x164e4c={};try{_0x164e4c[_0x217d5f(0x157)]=await this[_0x217d5f(0x15e)](_0x3d32c6),_0x164e4c['filePath']=constants_1[_0x217d5f(0x135)][_0x217d5f(0x15c)](_0x3d32c6)?_0x3d32c6:(0x0,utils_1[_0x217d5f(0x14a)])({'files':_0x164e4c[_0x217d5f(0x157)]}),_0x3d32c6[_0x217d5f(0x155)](_0x217d5f(0x158))?_0x164e4c[_0x217d5f(0x138)]=_0x217d5f(0x148):_0x164e4c[_0x217d5f(0x138)]=await(0x0,utils_1[_0x217d5f(0x11b)])({'files':_0x164e4c[_0x217d5f(0x157)]});}catch(_0x3dc838){this[_0x217d5f(0x12b)][_0x217d5f(0x130)](_0x217d5f(0x12e),_0x3d32c6,_0x3dc838);continue;}_0x164e4c[_0x217d5f(0x139)]=(0x0,utils_1[_0x217d5f(0x134)])(_0x3d32c6),_0x164e4c['crc']=(0x0,crc32_1[_0x217d5f(0x15b)])(_0x164e4c);if((0x0,utils_1[_0x217d5f(0x15d)])(_0x164e4c)){const _0x184131=await this[_0x217d5f(0x13a)](_0x164e4c);_0x18c5bb[_0x217d5f(0x124)](..._0x184131);}if(_0x164e4c[_0x217d5f(0x138)]==='CustomLabels')continue;_0x18c5bb[_0x217d5f(0x124)](_0x164e4c);}return _0x18c5bb;}}exports[a114_0x21f58c(0x156)]=MDApiParser;