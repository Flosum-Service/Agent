const a102_0x131852=a102_0x11f7;(function(_0x483236,_0x33e200){const _0x53fed3=a102_0x11f7,_0x2fe841=_0x483236();while(!![]){try{const _0x475e9c=-parseInt(_0x53fed3(0xfa))/0x1*(-parseInt(_0x53fed3(0x11c))/0x2)+-parseInt(_0x53fed3(0x127))/0x3*(parseInt(_0x53fed3(0xee))/0x4)+-parseInt(_0x53fed3(0x112))/0x5*(parseInt(_0x53fed3(0x12f))/0x6)+parseInt(_0x53fed3(0x10c))/0x7+-parseInt(_0x53fed3(0xff))/0x8+parseInt(_0x53fed3(0xf7))/0x9+parseInt(_0x53fed3(0xf0))/0xa;if(_0x475e9c===_0x33e200)break;else _0x2fe841['push'](_0x2fe841['shift']());}catch(_0x1dcd7f){_0x2fe841['push'](_0x2fe841['shift']());}}}(a102_0x3884,0x53755));const a102_0x2b82ef=(function(){let _0x2409fb=!![];return function(_0x6ec41a,_0x3f0fdc){const _0x1a4510=_0x2409fb?function(){const _0x2f8b1d=a102_0x11f7;if(_0x3f0fdc){const _0x56cefd=_0x3f0fdc[_0x2f8b1d(0x108)](_0x6ec41a,arguments);return _0x3f0fdc=null,_0x56cefd;}}:function(){};return _0x2409fb=![],_0x1a4510;};}()),a102_0x43a455=a102_0x2b82ef(this,function(){const _0x372e73=a102_0x11f7;return a102_0x43a455[_0x372e73(0x12e)]()['search'](_0x372e73(0xf9))['toString']()[_0x372e73(0x125)](a102_0x43a455)[_0x372e73(0x10b)](_0x372e73(0xf9));});a102_0x43a455();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x467369){const _0x557066=a102_0x11f7;return _0x467369&&_0x467369[_0x557066(0x118)]?_0x467369:{'default':_0x467369};};function a102_0x3884(){const _0x272b87=['test','../utils/crc32','Xml','includes','../../internal/fs.internal','../../../../core','apply','catch','isPathsEquals','search','3325091RPsvoG','CustomLabels','push','split','dir','parse','811050acRgRY','BUNDLED_FOLDERS_REGEXP','readFile','relative','calculateCRC32','files','__esModule','defineProperty','exists','default','1276570reAmek','Logger','META_EXPERIENCES_EXTENSION','type','package.xml','logger','Component\x20\x22','Cannot\x20parse\x20childs\x20in\x20','startsWith','constructor','readChildComponents','3VJDfHS','endsWith','../utils/xml','isDir','extname','.site-meta.xml','\x22\x20not\x20found\x20in\x20\x22','toString','6aZdQih','META_EXTENSION','experiences','../data/folder-types','extractComponentTypeFromFiles','name','utf-8','readBundledFiles','hasChildNodes','2255996rSlGFy','extractFileNameFromFiles','1620100mQfaIJ','readDir','map','convertToCleanPaths','join','readComponentFiles','../utils','2313036aFVPxN','WaveTemplateBundle','(((.+)+)+)+$','1yorHZY','../../devops/utils/git-commit.utils','MDApiParser','getChildsByName','init','3714064iHJSCZ','isSFDXProject','paths'];a102_0x3884=function(){return _0x272b87;};return a102_0x3884();}Object[a102_0x131852(0x119)](exports,a102_0x131852(0x118),{'value':!![]}),exports[a102_0x131852(0xfc)]=void 0x0;function a102_0x11f7(_0x413160,_0x447733){const _0x23377e=a102_0x3884();return a102_0x11f7=function(_0x43a455,_0x2b82ef){_0x43a455=_0x43a455-0xec;let _0x3884bc=_0x23377e[_0x43a455];return _0x3884bc;},a102_0x11f7(_0x413160,_0x447733);}const fs_internal_1=require(a102_0x131852(0x106)),utils_1=require(a102_0x131852(0xf6)),path_1=require('path'),xml_1=require(a102_0x131852(0x129)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require(a102_0x131852(0x107)),git_commit_utils_1=require(a102_0x131852(0xfb)),crc32_1=require(a102_0x131852(0x103)),folder_types_1=__importDefault(require(a102_0x131852(0x132))),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0x38c19d,_0x241dd5,_0x5421a6){const _0x21be9f=a102_0x131852;this[_0x21be9f(0x110)]=_0x38c19d,this[_0x21be9f(0x100)]=_0x5421a6,this[_0x21be9f(0x121)]=new core_1[(_0x21be9f(0x11d))](MDApiParser[_0x21be9f(0x134)]),this[_0x21be9f(0x130)]='-meta.xml',this[_0x21be9f(0x11e)]=_0x21be9f(0x12c),this[_0x21be9f(0x101)]=_0x241dd5;}async['readChildComponents'](_0x31a4fe){const _0x4df438=a102_0x131852;try{const _0x41cb27=await xml_1[_0x4df438(0x104)][_0x4df438(0x111)](Object['values'](_0x31a4fe['files'])[0x0]['toString'](_0x4df438(0x135))),_0x4b2242=CHILD_XML_KEYS['filter'](_0x1a0961=>xml_1[_0x4df438(0x104)][_0x4df438(0xed)](_0x41cb27,_0x1a0961))['reduce']((_0x43c387,_0x237cc2)=>[..._0x43c387,...xml_1['Xml'][_0x4df438(0xfd)](_0x41cb27,_0x237cc2)],[]);return utils_1['createChildComponentsFromParent'](_0x31a4fe,_0x41cb27,_0x4b2242);}catch(_0x5ef6f5){throw new Error(_0x4df438(0x123)+_0x31a4fe[_0x4df438(0x134)]+'\x20['+_0x31a4fe[_0x4df438(0x11f)]+']');}}async[a102_0x131852(0xec)](_0x298697){const _0x253612=a102_0x131852,_0xdebe7=path_1['join'](this['dir'],_0x298697),_0xddd44=_0x298697+(_0x298697[_0x253612(0x124)](_0x253612(0x131))?this[_0x253612(0x11e)]:this[_0x253612(0x130)]),_0x15d774=await fs_internal_1['FS']['readDir'](_0xdebe7,!![]),_0x239741=await fs_internal_1['FS'][_0x253612(0x114)](path_1[_0x253612(0xf4)](this[_0x253612(0x110)],_0xddd44),!![])[_0x253612(0x109)](()=>null),_0x28c3a6={};for(const _0x56ee99 of _0x15d774){_0x28c3a6[path_1['relative'](this[_0x253612(0x110)],_0x56ee99)]=await fs_internal_1['FS'][_0x253612(0x114)](_0x56ee99,!![]);}return _0x239741&&(_0x28c3a6[path_1[_0x253612(0x115)](this[_0x253612(0x110)],_0xddd44)]=_0x239741),_0x28c3a6;}async[a102_0x131852(0xf5)](_0x15da37){const _0x213f73=a102_0x131852;let _0xe0192=_0x15da37+this[_0x213f73(0x130)];if(constants_1[_0x213f73(0x113)][_0x213f73(0x102)](_0x15da37))return this[_0x213f73(0xec)](_0x15da37);if(await fs_internal_1['FS'][_0x213f73(0x12a)](path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0x15da37))||await fs_internal_1['FS'][_0x213f73(0x11a)](path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0xe0192))){const _0x4536c9=await fs_internal_1['FS']['readFile'](path_1['join'](this[_0x213f73(0x110)],_0xe0192),!![]),_0x1c1854=await utils_1[_0x213f73(0x133)]({'files':{[_0xe0192]:_0x4536c9}})['catch'](()=>null);if(_0x1c1854&&folder_types_1[_0x213f73(0x11b)][_0x213f73(0x105)](_0x1c1854))return{[_0xe0192]:await fs_internal_1['FS'][_0x213f73(0x114)](path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0xe0192),!![])};}if(!path_1[_0x213f73(0x12b)](_0x15da37)&&this[_0x213f73(0x100)]){const _0x26f1a2=_0x15da37[_0x213f73(0x10f)]('/')[0x0],_0x578715=(await fs_internal_1['FS'][_0x213f73(0xf1)](path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0x26f1a2)))['find'](_0x1c42e5=>git_commit_utils_1[_0x213f73(0x10a)](_0x1c42e5,path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0x15da37)));if(!_0x578715)throw new Error(_0x213f73(0x122)+_0x15da37+_0x213f73(0x12d)+_0x26f1a2+'\x22');_0x15da37=path_1[_0x213f73(0x115)](this['dir'],_0x578715),_0xe0192=_0x15da37+this[_0x213f73(0x130)];}const [_0x2ff971,_0x241d87]=await Promise['all']([fs_internal_1['FS']['readFile'](path_1['join'](this[_0x213f73(0x110)],_0x15da37),!![])['catch'](()=>null),fs_internal_1['FS'][_0x213f73(0x114)](path_1[_0x213f73(0xf4)](this[_0x213f73(0x110)],_0xe0192),!![])[_0x213f73(0x109)](()=>null)]);return{..._0x2ff971?{[_0x15da37]:_0x2ff971}:{},..._0x241d87?{[_0xe0192]:_0x241d87}:{}};}async[a102_0x131852(0xfe)](){const _0x2c964d=a102_0x131852,_0xfbe80a=[...this[_0x2c964d(0x101)]];if(this[_0x2c964d(0x100)])for(const _0x5759f8 of _0xfbe80a){if(constants_1[_0x2c964d(0x113)][_0x2c964d(0x102)](_0x5759f8))continue;if(await fs_internal_1['FS'][_0x2c964d(0x12a)](path_1[_0x2c964d(0xf4)](this[_0x2c964d(0x110)],_0x5759f8))){const _0x2724b9=await fs_internal_1['FS'][_0x2c964d(0xf1)](path_1[_0x2c964d(0xf4)](this[_0x2c964d(0x110)],_0x5759f8),!![]);_0xfbe80a[_0x2c964d(0x10e)](..._0x2724b9[_0x2c964d(0xf2)](_0x4fbd57=>path_1[_0x2c964d(0x115)](this[_0x2c964d(0x110)],_0x4fbd57)));}}this[_0x2c964d(0x101)]=utils_1[_0x2c964d(0xf3)](_0xfbe80a);}async[a102_0x131852(0x111)](){const _0x2ac301=a102_0x131852;await this[_0x2ac301(0xfe)]();const _0x555bf4=[];for(const _0x447642 of this[_0x2ac301(0x101)]){if(_0x447642[_0x2ac301(0x128)](_0x2ac301(0x120)))continue;const _0x13318d={};try{_0x13318d[_0x2ac301(0x117)]=await this[_0x2ac301(0xf5)](_0x447642),_0x13318d['filePath']=constants_1[_0x2ac301(0x113)][_0x2ac301(0x102)](_0x447642)?_0x447642:utils_1[_0x2ac301(0xef)]({'files':_0x13318d[_0x2ac301(0x117)]}),_0x447642[_0x2ac301(0x124)]('waveTemplates')?_0x13318d['type']=_0x2ac301(0xf8):_0x13318d[_0x2ac301(0x11f)]=await utils_1[_0x2ac301(0x133)]({'files':_0x13318d[_0x2ac301(0x117)]});}catch(_0x1c30bd){this['logger']['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x447642,_0x1c30bd);continue;}_0x13318d[_0x2ac301(0x134)]=utils_1['extractFilenameFromPath'](_0x447642),_0x13318d['crc']=crc32_1[_0x2ac301(0x116)](_0x13318d);if(utils_1['isParentComponent'](_0x13318d)){const _0x4aa36b=await this[_0x2ac301(0x126)](_0x13318d);_0x555bf4[_0x2ac301(0x10e)](..._0x4aa36b);}if(_0x13318d[_0x2ac301(0x11f)]===_0x2ac301(0x10d))continue;_0x555bf4[_0x2ac301(0x10e)](_0x13318d);}return _0x555bf4;}}exports['MDApiParser']=MDApiParser;