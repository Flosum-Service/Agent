const a147_0x3e4b86=a147_0x4315;(function(_0x463cfd,_0x11f713){const _0x1789fd=a147_0x4315,_0x51aeec=_0x463cfd();while(!![]){try{const _0x51b46b=parseInt(_0x1789fd(0x15b))/0x1*(parseInt(_0x1789fd(0x113))/0x2)+-parseInt(_0x1789fd(0x150))/0x3+parseInt(_0x1789fd(0x14c))/0x4+-parseInt(_0x1789fd(0x118))/0x5+parseInt(_0x1789fd(0x155))/0x6*(parseInt(_0x1789fd(0x124))/0x7)+parseInt(_0x1789fd(0x123))/0x8*(parseInt(_0x1789fd(0x142))/0x9)+-parseInt(_0x1789fd(0x127))/0xa;if(_0x51b46b===_0x11f713)break;else _0x51aeec['push'](_0x51aeec['shift']());}catch(_0x32dcea){_0x51aeec['push'](_0x51aeec['shift']());}}}(a147_0x5a43,0xb3894));const a147_0x103d9a=(function(){let _0x5c59df=!![];return function(_0x1636ce,_0x4a7e9e){const _0xc34dd=_0x5c59df?function(){if(_0x4a7e9e){const _0x34db8b=_0x4a7e9e['apply'](_0x1636ce,arguments);return _0x4a7e9e=null,_0x34db8b;}}:function(){};return _0x5c59df=![],_0xc34dd;};}()),a147_0x384a9e=a147_0x103d9a(this,function(){const _0x369394=a147_0x4315;return a147_0x384a9e[_0x369394(0x134)]()[_0x369394(0x154)](_0x369394(0x13d))[_0x369394(0x134)]()[_0x369394(0x122)](a147_0x384a9e)[_0x369394(0x154)](_0x369394(0x13d));});a147_0x384a9e();function a147_0x5a43(){const _0xd6b42f=['../data/settings-types-list','readDir','parse','5736765kFYUoN','defineProperty','../data/folder-types','paths','Logger','push','../../../../constants','exists','Settings','files','constructor','1000fbgryx','7yVdAuR','../../internal/fs.internal','all','6682900sLnlXQ','Xml','BUNDLED_FOLDERS_REGEXP','readChildComponents','../../devops/utils/git-commit.utils','../utils/xml','isParentComponent','\x22\x20not\x20found\x20in\x20\x22','values','getChildsByName','../../../../core','name','waveTemplates','toString','readFile','readComponentFiles','extractComponentTypeFromFiles','MDApiParser','../utils','package.xml','__importDefault','startsWith','(((.+)+)+)+$','experiences','../utils/crc32','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','logger','70326GTNKwl','isSFDXProject','type','__esModule','reduce','filter','utf-8','catch','hasChildNodes','error','3547148MHhhUW','extractFileNameFromFiles','-meta.xml','META_EXTENSION','1957128uFONiS','.site-meta.xml','isDir','default','search','2282574nKcudN','split','find','isPathsEquals','Cannot\x20parse\x20childs\x20in\x20','relative','1TUpBsb','join','init','includes','dir','Component\x20\x22','readBundledFiles','1918866DWfXOO','endsWith'];a147_0x5a43=function(){return _0xd6b42f;};return a147_0x5a43();}'use strict';var __importDefault=this&&this[a147_0x3e4b86(0x13b)]||function(_0x1d382f){return _0x1d382f&&_0x1d382f['__esModule']?_0x1d382f:{'default':_0x1d382f};};Object[a147_0x3e4b86(0x119)](exports,a147_0x3e4b86(0x145),{'value':!![]}),exports[a147_0x3e4b86(0x138)]=void 0x0;const fs_internal_1=require(a147_0x3e4b86(0x125)),utils_1=require(a147_0x3e4b86(0x139)),path_1=require('path'),xml_1=require(a147_0x3e4b86(0x12c)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a147_0x3e4b86(0x11e)),core_1=require(a147_0x3e4b86(0x131)),git_commit_utils_1=require(a147_0x3e4b86(0x12b)),crc32_1=require(a147_0x3e4b86(0x13f)),folder_types_1=__importDefault(require(a147_0x3e4b86(0x11a))),settings_types_list_1=__importDefault(require(a147_0x3e4b86(0x115))),CHILD_XML_KEYS=Object[a147_0x3e4b86(0x12f)](child_types_map_1['default']);class MDApiParser{constructor(_0x44a478,_0x45b04f,_0x32db13){const _0x419d7d=a147_0x3e4b86;this[_0x419d7d(0x110)]=_0x44a478,this[_0x419d7d(0x143)]=_0x32db13,this[_0x419d7d(0x141)]=new core_1[(_0x419d7d(0x11c))](MDApiParser['name']),this[_0x419d7d(0x14f)]=_0x419d7d(0x14e),this['META_EXPERIENCES_EXTENSION']=_0x419d7d(0x151),this[_0x419d7d(0x11b)]=_0x45b04f;}async[a147_0x3e4b86(0x12a)](_0x375856){const _0x2a5966=a147_0x3e4b86;try{const _0x27988a=await xml_1['Xml'][_0x2a5966(0x117)](Object[_0x2a5966(0x12f)](_0x375856[_0x2a5966(0x121)])[0x0][_0x2a5966(0x134)](_0x2a5966(0x148))),_0x38180b=CHILD_XML_KEYS[_0x2a5966(0x147)](_0x2eac3f=>xml_1[_0x2a5966(0x128)][_0x2a5966(0x14a)](_0x27988a,_0x2eac3f))[_0x2a5966(0x146)]((_0x2fcc9c,_0x5c434a)=>[..._0x2fcc9c,...xml_1[_0x2a5966(0x128)][_0x2a5966(0x130)](_0x27988a,_0x5c434a)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x375856,_0x27988a,_0x38180b);}catch(_0x368634){throw new Error(_0x2a5966(0x159)+_0x375856[_0x2a5966(0x132)]+'\x20['+_0x375856[_0x2a5966(0x144)]+']');}}async[a147_0x3e4b86(0x112)](_0x263c47){const _0x56ca31=a147_0x3e4b86,_0x271cde=(0x0,path_1[_0x56ca31(0x15c)])(this[_0x56ca31(0x110)],_0x263c47),_0xa9e176=_0x263c47+(_0x263c47['startsWith'](_0x56ca31(0x13e))?this['META_EXPERIENCES_EXTENSION']:this[_0x56ca31(0x14f)]),_0x363149=await fs_internal_1['FS'][_0x56ca31(0x116)](_0x271cde,!![]),_0x3f5b0e=await fs_internal_1['FS'][_0x56ca31(0x135)]((0x0,path_1['join'])(this['dir'],_0xa9e176),!![])[_0x56ca31(0x149)](()=>null),_0x4c61cb={};for(const _0x500765 of _0x363149){_0x4c61cb[(0x0,path_1[_0x56ca31(0x15a)])(this['dir'],_0x500765)]=await fs_internal_1['FS'][_0x56ca31(0x135)](_0x500765,!![]);}return _0x3f5b0e&&(_0x4c61cb[(0x0,path_1[_0x56ca31(0x15a)])(this[_0x56ca31(0x110)],_0xa9e176)]=_0x3f5b0e),_0x4c61cb;}async[a147_0x3e4b86(0x136)](_0x408b1e){const _0xc33bb0=a147_0x3e4b86;let _0x1e2b42=_0x408b1e+this[_0xc33bb0(0x14f)];if(constants_1[_0xc33bb0(0x129)]['test'](_0x408b1e))return this['readBundledFiles'](_0x408b1e);if(await fs_internal_1['FS'][_0xc33bb0(0x152)]((0x0,path_1[_0xc33bb0(0x15c)])(this[_0xc33bb0(0x110)],_0x408b1e))||await fs_internal_1['FS'][_0xc33bb0(0x11f)]((0x0,path_1[_0xc33bb0(0x15c)])(this[_0xc33bb0(0x110)],_0x1e2b42))){const _0x16bae9=await fs_internal_1['FS'][_0xc33bb0(0x135)]((0x0,path_1[_0xc33bb0(0x15c)])(this[_0xc33bb0(0x110)],_0x1e2b42),!![]),_0x611525=await(0x0,utils_1[_0xc33bb0(0x137)])({'files':{[_0x1e2b42]:_0x16bae9}})['catch'](()=>null);if(_0x611525&&folder_types_1['default']['includes'](_0x611525))return{[_0x1e2b42]:await fs_internal_1['FS'][_0xc33bb0(0x135)]((0x0,path_1['join'])(this[_0xc33bb0(0x110)],_0x1e2b42),!![])};}if(!(0x0,path_1['extname'])(_0x408b1e)&&this['isSFDXProject']){const _0x35f973=_0x408b1e[_0xc33bb0(0x156)]('/')[0x0],_0x1da4e2=(await fs_internal_1['FS'][_0xc33bb0(0x116)]((0x0,path_1['join'])(this['dir'],_0x35f973)))[_0xc33bb0(0x157)](_0x3603e1=>(0x0,git_commit_utils_1[_0xc33bb0(0x158)])(_0x3603e1,(0x0,path_1['join'])(this[_0xc33bb0(0x110)],_0x408b1e)));if(!_0x1da4e2)throw new Error(_0xc33bb0(0x111)+_0x408b1e+_0xc33bb0(0x12e)+_0x35f973+'\x22');_0x408b1e=(0x0,path_1[_0xc33bb0(0x15a)])(this[_0xc33bb0(0x110)],_0x1da4e2),_0x1e2b42=_0x408b1e+this[_0xc33bb0(0x14f)];}const [_0x444775,_0x23c51c]=await Promise[_0xc33bb0(0x126)]([fs_internal_1['FS'][_0xc33bb0(0x135)]((0x0,path_1[_0xc33bb0(0x15c)])(this[_0xc33bb0(0x110)],_0x408b1e),!![])[_0xc33bb0(0x149)](()=>null),fs_internal_1['FS'][_0xc33bb0(0x135)]((0x0,path_1['join'])(this[_0xc33bb0(0x110)],_0x1e2b42),!![])[_0xc33bb0(0x149)](()=>null)]);return{..._0x444775?{[_0x408b1e]:_0x444775}:{},..._0x23c51c?{[_0x1e2b42]:_0x23c51c}:{}};}async[a147_0x3e4b86(0x15d)](){const _0x2c4985=a147_0x3e4b86,_0xa64b30=[...this[_0x2c4985(0x11b)]];if(this[_0x2c4985(0x143)])for(const _0x5ea91e of _0xa64b30){if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x5ea91e))continue;if(await fs_internal_1['FS'][_0x2c4985(0x152)]((0x0,path_1['join'])(this[_0x2c4985(0x110)],_0x5ea91e))){const _0x1f3ec8=await fs_internal_1['FS'][_0x2c4985(0x116)]((0x0,path_1[_0x2c4985(0x15c)])(this['dir'],_0x5ea91e),!![]);_0xa64b30[_0x2c4985(0x11d)](..._0x1f3ec8['map'](_0x514220=>(0x0,path_1[_0x2c4985(0x15a)])(this[_0x2c4985(0x110)],_0x514220)));}}this[_0x2c4985(0x11b)]=(0x0,utils_1['convertToCleanPaths'])(_0xa64b30);}async[a147_0x3e4b86(0x117)](){const _0x3b4ef6=a147_0x3e4b86;await this[_0x3b4ef6(0x15d)]();const _0x3771b2=[];for(const _0x5b5bda of this[_0x3b4ef6(0x11b)]){if(_0x5b5bda[_0x3b4ef6(0x114)](_0x3b4ef6(0x13a)))continue;const _0x421267={};try{_0x421267['files']=await this['readComponentFiles'](_0x5b5bda),_0x421267['filePath']=constants_1[_0x3b4ef6(0x129)]['test'](_0x5b5bda)?_0x5b5bda:(0x0,utils_1[_0x3b4ef6(0x14d)])({'files':_0x421267[_0x3b4ef6(0x121)]}),_0x5b5bda[_0x3b4ef6(0x13c)](_0x3b4ef6(0x133))?_0x421267[_0x3b4ef6(0x144)]='WaveTemplateBundle':_0x421267[_0x3b4ef6(0x144)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x421267['files']});}catch(_0x11deff){this[_0x3b4ef6(0x141)][_0x3b4ef6(0x14b)](_0x3b4ef6(0x140),_0x5b5bda,_0x11deff);continue;}_0x421267[_0x3b4ef6(0x132)]=(0x0,utils_1['extractFilenameFromPath'])(_0x5b5bda),_0x421267['crc']=(0x0,crc32_1['calculateCRC32'])(_0x421267);if((0x0,utils_1[_0x3b4ef6(0x12d)])(_0x421267)){const _0x40bc92=await this[_0x3b4ef6(0x12a)](_0x421267);_0x3771b2[_0x3b4ef6(0x11d)](..._0x40bc92);}if(_0x421267[_0x3b4ef6(0x144)]==='CustomLabels')continue;settings_types_list_1[_0x3b4ef6(0x153)][_0x3b4ef6(0x10f)](_0x421267[_0x3b4ef6(0x144)])&&(_0x421267[_0x3b4ef6(0x144)]=_0x3b4ef6(0x120)),_0x3771b2[_0x3b4ef6(0x11d)](_0x421267);}return _0x3771b2;}}function a147_0x4315(_0x1ea17a,_0x43538f){const _0x20f760=a147_0x5a43();return a147_0x4315=function(_0x384a9e,_0x103d9a){_0x384a9e=_0x384a9e-0x10f;let _0x5a437e=_0x20f760[_0x384a9e];return _0x5a437e;},a147_0x4315(_0x1ea17a,_0x43538f);}exports[a147_0x3e4b86(0x138)]=MDApiParser;