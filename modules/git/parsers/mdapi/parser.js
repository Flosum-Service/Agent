const a150_0x47b45d=a150_0x269d;function a150_0x269d(_0x18d46e,_0x3b6342){const _0x2cb102=a150_0x2dab();return a150_0x269d=function(_0x5e933f,_0xc7b3dd){_0x5e933f=_0x5e933f-0x15c;let _0x2dab5f=_0x2cb102[_0x5e933f];return _0x2dab5f;},a150_0x269d(_0x18d46e,_0x3b6342);}(function(_0x540f9e,_0x2bc1e1){const _0x474bcd=a150_0x269d,_0x17889b=_0x540f9e();while(!![]){try{const _0x230223=-parseInt(_0x474bcd(0x174))/0x1+parseInt(_0x474bcd(0x189))/0x2+parseInt(_0x474bcd(0x1a4))/0x3+parseInt(_0x474bcd(0x15f))/0x4*(parseInt(_0x474bcd(0x196))/0x5)+parseInt(_0x474bcd(0x17c))/0x6*(-parseInt(_0x474bcd(0x176))/0x7)+-parseInt(_0x474bcd(0x192))/0x8+parseInt(_0x474bcd(0x195))/0x9;if(_0x230223===_0x2bc1e1)break;else _0x17889b['push'](_0x17889b['shift']());}catch(_0xca7a17){_0x17889b['push'](_0x17889b['shift']());}}}(a150_0x2dab,0x329a8));const a150_0xc7b3dd=(function(){let _0x16051=!![];return function(_0x5791d7,_0x206a40){const _0xe32236=_0x16051?function(){const _0x2c4ad6=a150_0x269d;if(_0x206a40){const _0x8c4946=_0x206a40[_0x2c4ad6(0x16d)](_0x5791d7,arguments);return _0x206a40=null,_0x8c4946;}}:function(){};return _0x16051=![],_0xe32236;};}()),a150_0x5e933f=a150_0xc7b3dd(this,function(){const _0x493088=a150_0x269d;return a150_0x5e933f[_0x493088(0x199)]()['search'](_0x493088(0x18a))[_0x493088(0x199)]()[_0x493088(0x191)](a150_0x5e933f)[_0x493088(0x1a5)]('(((.+)+)+)+$');});a150_0x5e933f();'use strict';var __importDefault=this&&this[a150_0x47b45d(0x15c)]||function(_0x382828){const _0x596be7=a150_0x47b45d;return _0x382828&&_0x382828[_0x596be7(0x172)]?_0x382828:{'default':_0x382828};};Object[a150_0x47b45d(0x17b)](exports,a150_0x47b45d(0x172),{'value':!![]}),exports[a150_0x47b45d(0x168)]=void 0x0;const fs_internal_1=require(a150_0x47b45d(0x169)),utils_1=require(a150_0x47b45d(0x1ab)),path_1=require('path'),xml_1=require(a150_0x47b45d(0x1a8)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require(a150_0x47b45d(0x1aa)),git_commit_utils_1=require(a150_0x47b45d(0x16f)),crc32_1=require(a150_0x47b45d(0x170)),folder_types_1=__importDefault(require(a150_0x47b45d(0x175))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a150_0x47b45d(0x190)](child_types_map_1['default']);class MDApiParser{constructor(_0x410f1c,_0x4c6b50,_0x2a895a){const _0x2a1358=a150_0x47b45d;this[_0x2a1358(0x1a6)]=_0x410f1c,this[_0x2a1358(0x17f)]=_0x2a895a,this[_0x2a1358(0x184)]=new core_1[(_0x2a1358(0x185))](MDApiParser[_0x2a1358(0x18d)]),this[_0x2a1358(0x161)]=_0x2a1358(0x193),this[_0x2a1358(0x19c)]=_0x2a1358(0x179),this[_0x2a1358(0x173)]=_0x4c6b50;}async[a150_0x47b45d(0x1a1)](_0x572133){const _0x40ecc0=a150_0x47b45d;try{const _0x4f1812=await xml_1['Xml'][_0x40ecc0(0x19f)](Object[_0x40ecc0(0x190)](_0x572133['files'])[0x0][_0x40ecc0(0x199)](_0x40ecc0(0x19a))),_0x3ddb87=CHILD_XML_KEYS[_0x40ecc0(0x182)](_0x4ae5f3=>xml_1[_0x40ecc0(0x167)]['hasChildNodes'](_0x4f1812,_0x4ae5f3))[_0x40ecc0(0x18f)]((_0x500709,_0x1283c6)=>[..._0x500709,...xml_1[_0x40ecc0(0x167)][_0x40ecc0(0x16e)](_0x4f1812,_0x1283c6)],[]);return(0x0,utils_1[_0x40ecc0(0x17a)])(_0x572133,_0x4f1812,_0x3ddb87);}catch(_0x49cb3a){throw new Error(_0x40ecc0(0x194)+_0x572133[_0x40ecc0(0x18d)]+'\x20['+_0x572133['type']+']');}}async['readBundledFiles'](_0x27dc48){const _0x38997a=a150_0x47b45d,_0x208c41=(0x0,path_1[_0x38997a(0x186)])(this[_0x38997a(0x1a6)],_0x27dc48),_0x44da07=_0x27dc48+(_0x27dc48[_0x38997a(0x17d)](_0x38997a(0x1a9))?this[_0x38997a(0x19c)]:this[_0x38997a(0x161)]),_0xbd4701=await fs_internal_1['FS'][_0x38997a(0x19e)](_0x208c41,!![]),_0x5b0821=await fs_internal_1['FS'][_0x38997a(0x1a3)]((0x0,path_1[_0x38997a(0x186)])(this[_0x38997a(0x1a6)],_0x44da07),!![])[_0x38997a(0x181)](()=>null),_0x239c6a={};for(const _0x4beaad of _0xbd4701){_0x239c6a[(0x0,path_1['relative'])(this[_0x38997a(0x1a6)],_0x4beaad)]=await fs_internal_1['FS']['readFile'](_0x4beaad,!![]);}return _0x5b0821&&(_0x239c6a[(0x0,path_1[_0x38997a(0x177)])(this[_0x38997a(0x1a6)],_0x44da07)]=_0x5b0821),_0x239c6a;}async[a150_0x47b45d(0x164)](_0x200d14){const _0x2e79d6=a150_0x47b45d;let _0x47b274=_0x200d14+this['META_EXTENSION'];if(constants_1[_0x2e79d6(0x165)]['test'](_0x200d14))return this['readBundledFiles'](_0x200d14);if(await fs_internal_1['FS'][_0x2e79d6(0x1a0)]((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x200d14))||await fs_internal_1['FS'][_0x2e79d6(0x198)]((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x47b274))){const _0x2f0739=await fs_internal_1['FS'][_0x2e79d6(0x1a3)]((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x47b274),!![]),_0x1a354f=await(0x0,utils_1[_0x2e79d6(0x18e)])({'files':{[_0x47b274]:_0x2f0739}})[_0x2e79d6(0x181)](()=>null);if(_0x1a354f&&folder_types_1['default'][_0x2e79d6(0x197)](_0x1a354f))return{[_0x47b274]:await fs_internal_1['FS'][_0x2e79d6(0x1a3)]((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x47b274),!![])};}if(!(0x0,path_1[_0x2e79d6(0x17e)])(_0x200d14)&&this[_0x2e79d6(0x17f)]){const _0x42780e=_0x200d14[_0x2e79d6(0x18b)]('/')[0x0],_0x5de75f=(await fs_internal_1['FS'][_0x2e79d6(0x19e)]((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x42780e)))[_0x2e79d6(0x162)](_0xf72447=>(0x0,git_commit_utils_1[_0x2e79d6(0x16a)])(_0xf72447,(0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x200d14)));if(!_0x5de75f)throw new Error(_0x2e79d6(0x160)+_0x200d14+'\x22\x20not\x20found\x20in\x20\x22'+_0x42780e+'\x22');_0x200d14=(0x0,path_1[_0x2e79d6(0x177)])(this[_0x2e79d6(0x1a6)],_0x5de75f),_0x47b274=_0x200d14+this[_0x2e79d6(0x161)];}const [_0x3636a0,_0x4d9a9b]=await Promise[_0x2e79d6(0x171)]([fs_internal_1['FS'][_0x2e79d6(0x1a3)]((0x0,path_1['join'])(this['dir'],_0x200d14),!![])['catch'](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x2e79d6(0x186)])(this[_0x2e79d6(0x1a6)],_0x47b274),!![])[_0x2e79d6(0x181)](()=>null)]);return{..._0x3636a0?{[_0x200d14]:_0x3636a0}:{},..._0x4d9a9b?{[_0x47b274]:_0x4d9a9b}:{}};}async['init'](){const _0x48786=a150_0x47b45d,_0x320417=[...this[_0x48786(0x173)]];if(this[_0x48786(0x17f)])for(const _0x3f481b of _0x320417){if(constants_1[_0x48786(0x165)]['test'](_0x3f481b))continue;if(await fs_internal_1['FS'][_0x48786(0x1a0)]((0x0,path_1[_0x48786(0x186)])(this[_0x48786(0x1a6)],_0x3f481b))){const _0x18c722=await fs_internal_1['FS']['readDir']((0x0,path_1[_0x48786(0x186)])(this[_0x48786(0x1a6)],_0x3f481b),!![]);_0x320417[_0x48786(0x1a7)](..._0x18c722[_0x48786(0x163)](_0x2259f3=>(0x0,path_1[_0x48786(0x177)])(this['dir'],_0x2259f3)));}}this[_0x48786(0x173)]=(0x0,utils_1['convertToCleanPaths'])(_0x320417);}async[a150_0x47b45d(0x19f)](){const _0x2b36f8=a150_0x47b45d;await this[_0x2b36f8(0x180)]();const _0x5c3936=[];for(const _0x1139c1 of this['paths']){if(_0x1139c1[_0x2b36f8(0x19b)](_0x2b36f8(0x18c)))continue;const _0x2298b0={};try{_0x2298b0[_0x2b36f8(0x188)]=await this['readComponentFiles'](_0x1139c1),_0x2298b0['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x2b36f8(0x19d)](_0x1139c1)?_0x1139c1:(0x0,utils_1[_0x2b36f8(0x178)])({'files':_0x2298b0[_0x2b36f8(0x188)]}),_0x1139c1[_0x2b36f8(0x17d)](_0x2b36f8(0x16c))?_0x2298b0['type']=_0x2b36f8(0x15d):_0x2298b0[_0x2b36f8(0x1ac)]=await(0x0,utils_1[_0x2b36f8(0x18e)])({'files':_0x2298b0[_0x2b36f8(0x188)]});}catch(_0xc5e8a1){this['logger'][_0x2b36f8(0x187)](_0x2b36f8(0x1a2),_0x1139c1,_0xc5e8a1);continue;}_0x2298b0['name']=(0x0,utils_1[_0x2b36f8(0x15e)])(_0x1139c1),_0x2298b0['crc']=(0x0,crc32_1['calculateCRC32'])(_0x2298b0);if((0x0,utils_1[_0x2b36f8(0x183)])(_0x2298b0)){const _0x4c977a=await this[_0x2b36f8(0x1a1)](_0x2298b0);_0x5c3936['push'](..._0x4c977a);}if(_0x2298b0[_0x2b36f8(0x1ac)]===_0x2b36f8(0x16b))continue;settings_types_list_1['default'][_0x2b36f8(0x197)](_0x2298b0['type'])&&(_0x2298b0[_0x2b36f8(0x1ac)]=_0x2b36f8(0x166)),_0x5c3936[_0x2b36f8(0x1a7)](_0x2298b0);}return _0x5c3936;}}function a150_0x2dab(){const _0x48469d=['extname','isSFDXProject','init','catch','filter','isParentComponent','logger','Logger','join','error','files','390210XyzWkU','(((.+)+)+)+$','split','package.xml','name','extractComponentTypeFromFiles','reduce','values','constructor','229720xQVILj','-meta.xml','Cannot\x20parse\x20childs\x20in\x20','1450638OdjonL','670xbwFAj','includes','exists','toString','utf-8','endsWith','META_EXPERIENCES_EXTENSION','test','readDir','parse','isDir','readChildComponents','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readFile','735684bbCfiY','search','dir','push','../utils/xml','experiences','../../../../core','../utils','type','__importDefault','WaveTemplateBundle','extractFilenameFromPath','5484pTnFft','Component\x20\x22','META_EXTENSION','find','map','readComponentFiles','BUNDLED_FOLDERS_REGEXP','Settings','Xml','MDApiParser','../../internal/fs.internal','isPathsEquals','CustomLabels','waveTemplates','apply','getChildsByName','../../devops/utils/git-commit.utils','../utils/crc32','all','__esModule','paths','175841ZpfhpB','../data/folder-types','871269JugSNG','relative','extractFileNameFromFiles','.site-meta.xml','createChildComponentsFromParent','defineProperty','18lxqYLP','startsWith'];a150_0x2dab=function(){return _0x48469d;};return a150_0x2dab();}exports[a150_0x47b45d(0x168)]=MDApiParser;