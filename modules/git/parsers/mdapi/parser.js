const a114_0x2d1f0a=a114_0x4ce6;function a114_0x5792(){const _0x1de900=['paths','WaveTemplateBundle','parse','calculateCRC32','../utils','META_EXTENSION','\x22\x20not\x20found\x20in\x20\x22','-meta.xml','readFile','5526312YKpOgL','../utils/xml','search','hasChildNodes','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','Component\x20\x22','../../internal/fs.internal','map','extractComponentTypeFromFiles','Logger','Cannot\x20parse\x20childs\x20in\x20','isParentComponent','394456yVPdPT','convertToCleanPaths','push','__importDefault','waveTemplates','155588SEXGdO','name','reduce','__esModule','test','isSFDXProject','extractFilenameFromPath','extractFileNameFromFiles','../data/child-types-map','startsWith','package.xml','42rGGqIy','CustomLabels','join','1723416AzOSMl','catch','META_EXPERIENCES_EXTENSION','147847zvuWhl','../utils/crc32','default','path','constructor','includes','MDApiParser','readChildComponents','54MzUqnF','(((.+)+)+)+$','isPathsEquals','apply','experiences','init','readBundledFiles','186zSLKcW','values','4GCnjlz','logger','.site-meta.xml','toString','find','split','relative','10587260ZGzOUN','utf-8','5127035toxaPc','BUNDLED_FOLDERS_REGEXP','filePath','dir','readDir','../../../../constants','readComponentFiles','filter','all','Xml','../../devops/utils/git-commit.utils','getChildsByName','files','type'];a114_0x5792=function(){return _0x1de900;};return a114_0x5792();}(function(_0x3df258,_0x3b9ef4){const _0x1d7aef=a114_0x4ce6,_0x59b81d=_0x3df258();while(!![]){try{const _0x1facae=parseInt(_0x1d7aef(0x173))/0x1+-parseInt(_0x1d7aef(0x178))/0x2*(parseInt(_0x1d7aef(0x183))/0x3)+parseInt(_0x1d7aef(0x19a))/0x4*(parseInt(_0x1d7aef(0x1a3))/0x5)+-parseInt(_0x1d7aef(0x198))/0x6*(-parseInt(_0x1d7aef(0x189))/0x7)+parseInt(_0x1d7aef(0x186))/0x8*(parseInt(_0x1d7aef(0x191))/0x9)+-parseInt(_0x1d7aef(0x1a1))/0xa+-parseInt(_0x1d7aef(0x167))/0xb;if(_0x1facae===_0x3b9ef4)break;else _0x59b81d['push'](_0x59b81d['shift']());}catch(_0x46b249){_0x59b81d['push'](_0x59b81d['shift']());}}}(a114_0x5792,0xaf08e));function a114_0x4ce6(_0x529f2b,_0x4953bf){const _0xb080f4=a114_0x5792();return a114_0x4ce6=function(_0x47a1ce,_0x5c7a46){_0x47a1ce=_0x47a1ce-0x165;let _0x579258=_0xb080f4[_0x47a1ce];return _0x579258;},a114_0x4ce6(_0x529f2b,_0x4953bf);}const a114_0x5c7a46=(function(){let _0x214319=!![];return function(_0x81002a,_0x269e16){const _0x3af2ee=_0x214319?function(){const _0x5739a3=a114_0x4ce6;if(_0x269e16){const _0x1b1345=_0x269e16[_0x5739a3(0x194)](_0x81002a,arguments);return _0x269e16=null,_0x1b1345;}}:function(){};return _0x214319=![],_0x3af2ee;};}()),a114_0x47a1ce=a114_0x5c7a46(this,function(){const _0x96c64c=a114_0x4ce6;return a114_0x47a1ce[_0x96c64c(0x19d)]()[_0x96c64c(0x169)]('(((.+)+)+)+$')['toString']()[_0x96c64c(0x18d)](a114_0x47a1ce)[_0x96c64c(0x169)](_0x96c64c(0x192));});a114_0x47a1ce();'use strict';var __importDefault=this&&this[a114_0x2d1f0a(0x176)]||function(_0x54cff8){const _0x168e67=a114_0x2d1f0a;return _0x54cff8&&_0x54cff8[_0x168e67(0x17b)]?_0x54cff8:{'default':_0x54cff8};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a114_0x2d1f0a(0x18f)]=void 0x0;const fs_internal_1=require(a114_0x2d1f0a(0x16d)),utils_1=require(a114_0x2d1f0a(0x1b5)),path_1=require(a114_0x2d1f0a(0x18c)),xml_1=require(a114_0x2d1f0a(0x168)),child_types_map_1=__importDefault(require(a114_0x2d1f0a(0x180))),constants_1=require(a114_0x2d1f0a(0x1a8)),core_1=require('../../../../core'),git_commit_utils_1=require(a114_0x2d1f0a(0x1ad)),crc32_1=require(a114_0x2d1f0a(0x18a)),folder_types_1=__importDefault(require('../data/folder-types')),CHILD_XML_KEYS=Object[a114_0x2d1f0a(0x199)](child_types_map_1[a114_0x2d1f0a(0x18b)]);class MDApiParser{constructor(_0x44afb0,_0x7751e2,_0x3d8698){const _0x3b8080=a114_0x2d1f0a;this[_0x3b8080(0x1a6)]=_0x44afb0,this[_0x3b8080(0x17d)]=_0x3d8698,this[_0x3b8080(0x19b)]=new core_1[(_0x3b8080(0x170))](MDApiParser['name']),this[_0x3b8080(0x1b6)]=_0x3b8080(0x165),this[_0x3b8080(0x188)]=_0x3b8080(0x19c),this[_0x3b8080(0x1b1)]=_0x7751e2;}async[a114_0x2d1f0a(0x190)](_0x482b01){const _0x7542ec=a114_0x2d1f0a;try{const _0x3f4650=await xml_1[_0x7542ec(0x1ac)]['parse'](Object[_0x7542ec(0x199)](_0x482b01[_0x7542ec(0x1af)])[0x0][_0x7542ec(0x19d)](_0x7542ec(0x1a2))),_0x75fc09=CHILD_XML_KEYS[_0x7542ec(0x1aa)](_0x75f0db=>xml_1['Xml'][_0x7542ec(0x16a)](_0x3f4650,_0x75f0db))[_0x7542ec(0x17a)]((_0x1e858f,_0x2c88b8)=>[..._0x1e858f,...xml_1[_0x7542ec(0x1ac)][_0x7542ec(0x1ae)](_0x3f4650,_0x2c88b8)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x482b01,_0x3f4650,_0x75fc09);}catch(_0x5e582c){throw new Error(_0x7542ec(0x171)+_0x482b01[_0x7542ec(0x179)]+'\x20['+_0x482b01[_0x7542ec(0x1b0)]+']');}}async[a114_0x2d1f0a(0x197)](_0x4d3be0){const _0x29a345=a114_0x2d1f0a,_0xb197b9=(0x0,path_1['join'])(this[_0x29a345(0x1a6)],_0x4d3be0),_0x40cd67=_0x4d3be0+(_0x4d3be0['startsWith'](_0x29a345(0x195))?this[_0x29a345(0x188)]:this[_0x29a345(0x1b6)]),_0x41ba00=await fs_internal_1['FS']['readDir'](_0xb197b9,!![]),_0x596e64=await fs_internal_1['FS'][_0x29a345(0x166)]((0x0,path_1[_0x29a345(0x185)])(this[_0x29a345(0x1a6)],_0x40cd67),!![])[_0x29a345(0x187)](()=>null),_0x236aa1={};for(const _0x2e615d of _0x41ba00){_0x236aa1[(0x0,path_1[_0x29a345(0x1a0)])(this[_0x29a345(0x1a6)],_0x2e615d)]=await fs_internal_1['FS'][_0x29a345(0x166)](_0x2e615d,!![]);}return _0x596e64&&(_0x236aa1[(0x0,path_1[_0x29a345(0x1a0)])(this['dir'],_0x40cd67)]=_0x596e64),_0x236aa1;}async[a114_0x2d1f0a(0x1a9)](_0x26b584){const _0x56b3ec=a114_0x2d1f0a;let _0x47bc67=_0x26b584+this[_0x56b3ec(0x1b6)];if(constants_1[_0x56b3ec(0x1a4)][_0x56b3ec(0x17c)](_0x26b584))return this[_0x56b3ec(0x197)](_0x26b584);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x56b3ec(0x185)])(this[_0x56b3ec(0x1a6)],_0x26b584))||await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x56b3ec(0x1a6)],_0x47bc67))){const _0x3d9011=await fs_internal_1['FS'][_0x56b3ec(0x166)]((0x0,path_1[_0x56b3ec(0x185)])(this[_0x56b3ec(0x1a6)],_0x47bc67),!![]),_0x4ca0c8=await(0x0,utils_1[_0x56b3ec(0x16f)])({'files':{[_0x47bc67]:_0x3d9011}})[_0x56b3ec(0x187)](()=>null);if(_0x4ca0c8&&folder_types_1[_0x56b3ec(0x18b)][_0x56b3ec(0x18e)](_0x4ca0c8))return{[_0x47bc67]:await fs_internal_1['FS'][_0x56b3ec(0x166)]((0x0,path_1[_0x56b3ec(0x185)])(this[_0x56b3ec(0x1a6)],_0x47bc67),!![])};}if(!(0x0,path_1['extname'])(_0x26b584)&&this['isSFDXProject']){const _0x3e1877=_0x26b584[_0x56b3ec(0x19f)]('/')[0x0],_0x1cb4c8=(await fs_internal_1['FS'][_0x56b3ec(0x1a7)]((0x0,path_1[_0x56b3ec(0x185)])(this['dir'],_0x3e1877)))[_0x56b3ec(0x19e)](_0x1e1129=>(0x0,git_commit_utils_1[_0x56b3ec(0x193)])(_0x1e1129,(0x0,path_1['join'])(this[_0x56b3ec(0x1a6)],_0x26b584)));if(!_0x1cb4c8)throw new Error(_0x56b3ec(0x16c)+_0x26b584+_0x56b3ec(0x1b7)+_0x3e1877+'\x22');_0x26b584=(0x0,path_1[_0x56b3ec(0x1a0)])(this[_0x56b3ec(0x1a6)],_0x1cb4c8),_0x47bc67=_0x26b584+this[_0x56b3ec(0x1b6)];}const [_0x1675ac,_0x162283]=await Promise[_0x56b3ec(0x1ab)]([fs_internal_1['FS'][_0x56b3ec(0x166)]((0x0,path_1[_0x56b3ec(0x185)])(this[_0x56b3ec(0x1a6)],_0x26b584),!![])['catch'](()=>null),fs_internal_1['FS'][_0x56b3ec(0x166)]((0x0,path_1[_0x56b3ec(0x185)])(this[_0x56b3ec(0x1a6)],_0x47bc67),!![])[_0x56b3ec(0x187)](()=>null)]);return{..._0x1675ac?{[_0x26b584]:_0x1675ac}:{},..._0x162283?{[_0x47bc67]:_0x162283}:{}};}async[a114_0x2d1f0a(0x196)](){const _0x3d2280=a114_0x2d1f0a,_0x570baa=[...this[_0x3d2280(0x1b1)]];if(this[_0x3d2280(0x17d)])for(const _0x489c64 of _0x570baa){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3d2280(0x17c)](_0x489c64))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1['join'])(this['dir'],_0x489c64))){const _0x36498e=await fs_internal_1['FS'][_0x3d2280(0x1a7)]((0x0,path_1[_0x3d2280(0x185)])(this[_0x3d2280(0x1a6)],_0x489c64),!![]);_0x570baa[_0x3d2280(0x175)](..._0x36498e[_0x3d2280(0x16e)](_0x180778=>(0x0,path_1[_0x3d2280(0x1a0)])(this[_0x3d2280(0x1a6)],_0x180778)));}}this['paths']=(0x0,utils_1[_0x3d2280(0x174)])(_0x570baa);}async[a114_0x2d1f0a(0x1b3)](){const _0xc2c310=a114_0x2d1f0a;await this['init']();const _0x250396=[];for(const _0x4ac3e2 of this['paths']){if(_0x4ac3e2['endsWith'](_0xc2c310(0x182)))continue;const _0x1236ae={};try{_0x1236ae[_0xc2c310(0x1af)]=await this['readComponentFiles'](_0x4ac3e2),_0x1236ae[_0xc2c310(0x1a5)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0xc2c310(0x17c)](_0x4ac3e2)?_0x4ac3e2:(0x0,utils_1[_0xc2c310(0x17f)])({'files':_0x1236ae['files']}),_0x4ac3e2[_0xc2c310(0x181)](_0xc2c310(0x177))?_0x1236ae[_0xc2c310(0x1b0)]=_0xc2c310(0x1b2):_0x1236ae[_0xc2c310(0x1b0)]=await(0x0,utils_1[_0xc2c310(0x16f)])({'files':_0x1236ae[_0xc2c310(0x1af)]});}catch(_0x4495ae){this[_0xc2c310(0x19b)]['error'](_0xc2c310(0x16b),_0x4ac3e2,_0x4495ae);continue;}_0x1236ae[_0xc2c310(0x179)]=(0x0,utils_1[_0xc2c310(0x17e)])(_0x4ac3e2),_0x1236ae['crc']=(0x0,crc32_1[_0xc2c310(0x1b4)])(_0x1236ae);if((0x0,utils_1[_0xc2c310(0x172)])(_0x1236ae)){const _0x5cad85=await this[_0xc2c310(0x190)](_0x1236ae);_0x250396['push'](..._0x5cad85);}if(_0x1236ae[_0xc2c310(0x1b0)]===_0xc2c310(0x184))continue;_0x250396[_0xc2c310(0x175)](_0x1236ae);}return _0x250396;}}exports[a114_0x2d1f0a(0x18f)]=MDApiParser;