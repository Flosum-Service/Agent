const a146_0x50a0b6=a146_0x25e4;(function(_0x419cba,_0x39c8c6){const _0x136d29=a146_0x25e4,_0x3c6af8=_0x419cba();while(!![]){try{const _0x3328eb=-parseInt(_0x136d29(0x13b))/0x1*(-parseInt(_0x136d29(0x15d))/0x2)+parseInt(_0x136d29(0x142))/0x3+-parseInt(_0x136d29(0x11e))/0x4*(parseInt(_0x136d29(0x13f))/0x5)+-parseInt(_0x136d29(0x12c))/0x6+-parseInt(_0x136d29(0x156))/0x7*(-parseInt(_0x136d29(0x133))/0x8)+parseInt(_0x136d29(0x152))/0x9*(-parseInt(_0x136d29(0x15e))/0xa)+parseInt(_0x136d29(0x14d))/0xb*(parseInt(_0x136d29(0x125))/0xc);if(_0x3328eb===_0x39c8c6)break;else _0x3c6af8['push'](_0x3c6af8['shift']());}catch(_0x66d1cf){_0x3c6af8['push'](_0x3c6af8['shift']());}}}(a146_0x45bc,0x32749));function a146_0x25e4(_0x409ff3,_0x28c5fb){const _0x27b44b=a146_0x45bc();return a146_0x25e4=function(_0x3adb90,_0x32c63d){_0x3adb90=_0x3adb90-0x11b;let _0x45bcd9=_0x27b44b[_0x3adb90];return _0x45bcd9;},a146_0x25e4(_0x409ff3,_0x28c5fb);}function a146_0x45bc(){const _0x1794f6=['readDir','Settings','extractComponentTypeFromFiles','BUNDLED_FOLDERS_REGEXP','4GUKQlJ','experiences','calculateCRC32','WaveTemplateBundle','split','waveTemplates','error','43956lTxynY','META_EXPERIENCES_EXTENSION','path','map','filePath','find','filter','361608VPXzws','__importDefault','convertToCleanPaths','../data/settings-types-list','-meta.xml','type','apply','1414616PhgbsC','utf-8','../data/folder-types','relative','init','default','dir','isSFDXProject','7VAUZhR','name','getChildsByName','startsWith','1928170hTHyeq','defineProperty','../../internal/fs.internal','688101ycHGXz','readComponentFiles','values','(((.+)+)+)+$','Component\x20\x22','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','parse','../../devops/utils/git-commit.utils','endsWith','__esModule','paths','121ftWESd','../../../../constants','../../../../core','\x22\x20not\x20found\x20in\x20\x22','readFile','2349nbBMnn','isPathsEquals','join','readChildComponents','7MkKFoO','Xml','../utils','extname','logger','../utils/xml','catch','59924IlDOXx','140zXiHzS','MDApiParser','toString','test','files','hasChildNodes','readBundledFiles','../data/child-types-map','extractFileNameFromFiles','search','includes','isParentComponent','META_EXTENSION','Cannot\x20parse\x20childs\x20in\x20','push'];a146_0x45bc=function(){return _0x1794f6;};return a146_0x45bc();}const a146_0x32c63d=(function(){let _0x173158=!![];return function(_0x4993bb,_0x4ab36b){const _0x385bc0=_0x173158?function(){const _0x5843d8=a146_0x25e4;if(_0x4ab36b){const _0x1a9d16=_0x4ab36b[_0x5843d8(0x132)](_0x4993bb,arguments);return _0x4ab36b=null,_0x1a9d16;}}:function(){};return _0x173158=![],_0x385bc0;};}()),a146_0x3adb90=a146_0x32c63d(this,function(){const _0x3b4abf=a146_0x25e4;return a146_0x3adb90[_0x3b4abf(0x160)]()[_0x3b4abf(0x167)](_0x3b4abf(0x145))[_0x3b4abf(0x160)]()['constructor'](a146_0x3adb90)[_0x3b4abf(0x167)](_0x3b4abf(0x145));});a146_0x3adb90();'use strict';var __importDefault=this&&this[a146_0x50a0b6(0x12d)]||function(_0x36e075){const _0x16cc43=a146_0x50a0b6;return _0x36e075&&_0x36e075[_0x16cc43(0x14b)]?_0x36e075:{'default':_0x36e075};};Object[a146_0x50a0b6(0x140)](exports,'__esModule',{'value':!![]}),exports[a146_0x50a0b6(0x15f)]=void 0x0;const fs_internal_1=require(a146_0x50a0b6(0x141)),utils_1=require(a146_0x50a0b6(0x158)),path_1=require(a146_0x50a0b6(0x127)),xml_1=require(a146_0x50a0b6(0x15b)),child_types_map_1=__importDefault(require(a146_0x50a0b6(0x165))),constants_1=require(a146_0x50a0b6(0x14e)),core_1=require(a146_0x50a0b6(0x14f)),git_commit_utils_1=require(a146_0x50a0b6(0x149)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x50a0b6(0x135))),settings_types_list_1=__importDefault(require(a146_0x50a0b6(0x12f))),CHILD_XML_KEYS=Object[a146_0x50a0b6(0x144)](child_types_map_1[a146_0x50a0b6(0x138)]);class MDApiParser{constructor(_0x5108ea,_0x2ff481,_0x2a7068){const _0x3bb351=a146_0x50a0b6;this[_0x3bb351(0x139)]=_0x5108ea,this[_0x3bb351(0x13a)]=_0x2a7068,this['logger']=new core_1['Logger'](MDApiParser[_0x3bb351(0x13c)]),this[_0x3bb351(0x16a)]=_0x3bb351(0x130),this['META_EXPERIENCES_EXTENSION']='.site-meta.xml',this['paths']=_0x2ff481;}async[a146_0x50a0b6(0x155)](_0x30e973){const _0x308c04=a146_0x50a0b6;try{const _0x2edc99=await xml_1[_0x308c04(0x157)]['parse'](Object[_0x308c04(0x144)](_0x30e973[_0x308c04(0x162)])[0x0][_0x308c04(0x160)](_0x308c04(0x134))),_0x2f2295=CHILD_XML_KEYS[_0x308c04(0x12b)](_0x2c892e=>xml_1[_0x308c04(0x157)][_0x308c04(0x163)](_0x2edc99,_0x2c892e))['reduce']((_0x17bbf0,_0x4aef6d)=>[..._0x17bbf0,...xml_1[_0x308c04(0x157)][_0x308c04(0x13d)](_0x2edc99,_0x4aef6d)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x30e973,_0x2edc99,_0x2f2295);}catch(_0x5c762f){throw new Error(_0x308c04(0x16b)+_0x30e973[_0x308c04(0x13c)]+'\x20['+_0x30e973['type']+']');}}async[a146_0x50a0b6(0x164)](_0x3b68ad){const _0x1efa9d=a146_0x50a0b6,_0x574bab=(0x0,path_1[_0x1efa9d(0x154)])(this[_0x1efa9d(0x139)],_0x3b68ad),_0x3189d0=_0x3b68ad+(_0x3b68ad[_0x1efa9d(0x13e)](_0x1efa9d(0x11f))?this[_0x1efa9d(0x126)]:this[_0x1efa9d(0x16a)]),_0xe9e75b=await fs_internal_1['FS']['readDir'](_0x574bab,!![]),_0x5ca098=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x1efa9d(0x154)])(this[_0x1efa9d(0x139)],_0x3189d0),!![])['catch'](()=>null),_0x49663f={};for(const _0x489389 of _0xe9e75b){_0x49663f[(0x0,path_1[_0x1efa9d(0x136)])(this[_0x1efa9d(0x139)],_0x489389)]=await fs_internal_1['FS'][_0x1efa9d(0x151)](_0x489389,!![]);}return _0x5ca098&&(_0x49663f[(0x0,path_1['relative'])(this[_0x1efa9d(0x139)],_0x3189d0)]=_0x5ca098),_0x49663f;}async['readComponentFiles'](_0x1b2a89){const _0x25e798=a146_0x50a0b6;let _0x1e4227=_0x1b2a89+this['META_EXTENSION'];if(constants_1[_0x25e798(0x11d)][_0x25e798(0x161)](_0x1b2a89))return this[_0x25e798(0x164)](_0x1b2a89);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x25e798(0x154)])(this[_0x25e798(0x139)],_0x1b2a89))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x25e798(0x154)])(this['dir'],_0x1e4227))){const _0x42ab7a=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x25e798(0x154)])(this[_0x25e798(0x139)],_0x1e4227),!![]),_0x72377f=await(0x0,utils_1[_0x25e798(0x11c)])({'files':{[_0x1e4227]:_0x42ab7a}})[_0x25e798(0x15c)](()=>null);if(_0x72377f&&folder_types_1['default'][_0x25e798(0x168)](_0x72377f))return{[_0x1e4227]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x25e798(0x154)])(this['dir'],_0x1e4227),!![])};}if(!(0x0,path_1[_0x25e798(0x159)])(_0x1b2a89)&&this[_0x25e798(0x13a)]){const _0x2cfb5c=_0x1b2a89[_0x25e798(0x122)]('/')[0x0],_0x10ce1c=(await fs_internal_1['FS'][_0x25e798(0x16d)]((0x0,path_1[_0x25e798(0x154)])(this[_0x25e798(0x139)],_0x2cfb5c)))[_0x25e798(0x12a)](_0x2e0d49=>(0x0,git_commit_utils_1[_0x25e798(0x153)])(_0x2e0d49,(0x0,path_1['join'])(this[_0x25e798(0x139)],_0x1b2a89)));if(!_0x10ce1c)throw new Error(_0x25e798(0x146)+_0x1b2a89+_0x25e798(0x150)+_0x2cfb5c+'\x22');_0x1b2a89=(0x0,path_1[_0x25e798(0x136)])(this[_0x25e798(0x139)],_0x10ce1c),_0x1e4227=_0x1b2a89+this[_0x25e798(0x16a)];}const [_0x297387,_0x532978]=await Promise['all']([fs_internal_1['FS']['readFile']((0x0,path_1[_0x25e798(0x154)])(this[_0x25e798(0x139)],_0x1b2a89),!![])[_0x25e798(0x15c)](()=>null),fs_internal_1['FS'][_0x25e798(0x151)]((0x0,path_1['join'])(this[_0x25e798(0x139)],_0x1e4227),!![])[_0x25e798(0x15c)](()=>null)]);return{..._0x297387?{[_0x1b2a89]:_0x297387}:{},..._0x532978?{[_0x1e4227]:_0x532978}:{}};}async[a146_0x50a0b6(0x137)](){const _0x2d65ef=a146_0x50a0b6,_0x496ba8=[...this[_0x2d65ef(0x14c)]];if(this['isSFDXProject'])for(const _0x447b63 of _0x496ba8){if(constants_1[_0x2d65ef(0x11d)][_0x2d65ef(0x161)](_0x447b63))continue;if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x2d65ef(0x154)])(this[_0x2d65ef(0x139)],_0x447b63))){const _0x415ac8=await fs_internal_1['FS']['readDir']((0x0,path_1[_0x2d65ef(0x154)])(this['dir'],_0x447b63),!![]);_0x496ba8[_0x2d65ef(0x16c)](..._0x415ac8[_0x2d65ef(0x128)](_0x169bdf=>(0x0,path_1[_0x2d65ef(0x136)])(this[_0x2d65ef(0x139)],_0x169bdf)));}}this[_0x2d65ef(0x14c)]=(0x0,utils_1[_0x2d65ef(0x12e)])(_0x496ba8);}async[a146_0x50a0b6(0x148)](){const _0x309373=a146_0x50a0b6;await this['init']();const _0x395b51=[];for(const _0x524848 of this['paths']){if(_0x524848[_0x309373(0x14a)]('package.xml'))continue;const _0x536315={};try{_0x536315['files']=await this[_0x309373(0x143)](_0x524848),_0x536315[_0x309373(0x129)]=constants_1[_0x309373(0x11d)][_0x309373(0x161)](_0x524848)?_0x524848:(0x0,utils_1[_0x309373(0x166)])({'files':_0x536315['files']}),_0x524848['startsWith'](_0x309373(0x123))?_0x536315['type']=_0x309373(0x121):_0x536315[_0x309373(0x131)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x536315[_0x309373(0x162)]});}catch(_0x36b193){this[_0x309373(0x15a)][_0x309373(0x124)](_0x309373(0x147),_0x524848,_0x36b193);continue;}_0x536315[_0x309373(0x13c)]=(0x0,utils_1['extractFilenameFromPath'])(_0x524848),_0x536315['crc']=(0x0,crc32_1[_0x309373(0x120)])(_0x536315);if((0x0,utils_1[_0x309373(0x169)])(_0x536315)){const _0x3ae20f=await this[_0x309373(0x155)](_0x536315);_0x395b51[_0x309373(0x16c)](..._0x3ae20f);}if(_0x536315[_0x309373(0x131)]==='CustomLabels')continue;settings_types_list_1[_0x309373(0x138)]['includes'](_0x536315['type'])&&(_0x536315[_0x309373(0x131)]=_0x309373(0x11b)),_0x395b51[_0x309373(0x16c)](_0x536315);}return _0x395b51;}}exports[a146_0x50a0b6(0x15f)]=MDApiParser;