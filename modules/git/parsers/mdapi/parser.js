const a150_0x332600=a150_0x56f5;(function(_0x169cf7,_0x451849){const _0x23c37b=a150_0x56f5,_0x4f9cc8=_0x169cf7();while(!![]){try{const _0x43fd17=parseInt(_0x23c37b(0x1a0))/0x1*(parseInt(_0x23c37b(0x19c))/0x2)+-parseInt(_0x23c37b(0x175))/0x3+parseInt(_0x23c37b(0x180))/0x4*(-parseInt(_0x23c37b(0x15a))/0x5)+parseInt(_0x23c37b(0x1a5))/0x6*(parseInt(_0x23c37b(0x16a))/0x7)+parseInt(_0x23c37b(0x161))/0x8*(-parseInt(_0x23c37b(0x191))/0x9)+-parseInt(_0x23c37b(0x1a9))/0xa*(parseInt(_0x23c37b(0x17f))/0xb)+parseInt(_0x23c37b(0x19e))/0xc;if(_0x43fd17===_0x451849)break;else _0x4f9cc8['push'](_0x4f9cc8['shift']());}catch(_0x579730){_0x4f9cc8['push'](_0x4f9cc8['shift']());}}}(a150_0x305d,0x7e780));const a150_0x673670=(function(){let _0x4bdcc6=!![];return function(_0x58d857,_0x5d040f){const _0x42d930=_0x4bdcc6?function(){const _0x2f69a1=a150_0x56f5;if(_0x5d040f){const _0x50bfc2=_0x5d040f[_0x2f69a1(0x169)](_0x58d857,arguments);return _0x5d040f=null,_0x50bfc2;}}:function(){};return _0x4bdcc6=![],_0x42d930;};}()),a150_0x4fa6e0=a150_0x673670(this,function(){const _0x2aaf7d=a150_0x56f5;return a150_0x4fa6e0[_0x2aaf7d(0x15e)]()[_0x2aaf7d(0x181)]('(((.+)+)+)+$')[_0x2aaf7d(0x15e)]()[_0x2aaf7d(0x183)](a150_0x4fa6e0)[_0x2aaf7d(0x181)](_0x2aaf7d(0x198));});a150_0x4fa6e0();'use strict';var __importDefault=this&&this[a150_0x332600(0x190)]||function(_0x2ee511){return _0x2ee511&&_0x2ee511['__esModule']?_0x2ee511:{'default':_0x2ee511};};Object[a150_0x332600(0x15f)](exports,a150_0x332600(0x166),{'value':!![]}),exports[a150_0x332600(0x182)]=void 0x0;function a150_0x305d(){const _0xc102b6=['push','247780hKYBGw','isSFDXProject','33575mCsrVc','filter','../../internal/fs.internal','../utils','toString','defineProperty','path','1008088PBtlxh','../../../../core','Cannot\x20parse\x20childs\x20in\x20','paths','utf-8','__esModule','exists','Settings','apply','7EyNdiR','CustomLabels','init','extname','type','readFile','Xml','waveTemplates','isDir','\x22\x20not\x20found\x20in\x20\x22','logger','767178qmWNOy','values','map','relative','META_EXPERIENCES_EXTENSION','Logger','../data/settings-types-list','join','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readDir','352fXyajF','56RQVevo','search','MDApiParser','constructor','readComponentFiles','-meta.xml','extractFileNameFromFiles','../../devops/utils/git-commit.utils','../utils/xml','startsWith','dir','hasChildNodes','readBundledFiles','files','default','META_EXTENSION','__importDefault','9BmbeJq','package.xml','isParentComponent','extractComponentTypeFromFiles','readChildComponents','all','test','(((.+)+)+)+$','includes','convertToCleanPaths','catch','101624wFztRY','split','15491400vGIsrV','find','1Vrehfd','BUNDLED_FOLDERS_REGEXP','getChildsByName','Component\x20\x22','error','2669382oJkDZA','name','parse'];a150_0x305d=function(){return _0xc102b6;};return a150_0x305d();}const fs_internal_1=require(a150_0x332600(0x15c)),utils_1=require(a150_0x332600(0x15d)),path_1=require(a150_0x332600(0x160)),xml_1=require(a150_0x332600(0x188)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),core_1=require(a150_0x332600(0x162)),git_commit_utils_1=require(a150_0x332600(0x187)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a150_0x332600(0x17b))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a150_0x332600(0x18e)]);class MDApiParser{constructor(_0x256549,_0x2bfc04,_0x120c83){const _0x5d4cb0=a150_0x332600;this[_0x5d4cb0(0x18a)]=_0x256549,this['isSFDXProject']=_0x120c83,this['logger']=new core_1[(_0x5d4cb0(0x17a))](MDApiParser['name']),this[_0x5d4cb0(0x18f)]=_0x5d4cb0(0x185),this[_0x5d4cb0(0x179)]='.site-meta.xml',this[_0x5d4cb0(0x164)]=_0x2bfc04;}async[a150_0x332600(0x195)](_0xe54323){const _0x1fcf9b=a150_0x332600;try{const _0x2ba232=await xml_1[_0x1fcf9b(0x170)][_0x1fcf9b(0x1a7)](Object[_0x1fcf9b(0x176)](_0xe54323[_0x1fcf9b(0x18d)])[0x0][_0x1fcf9b(0x15e)](_0x1fcf9b(0x165))),_0x26ff5d=CHILD_XML_KEYS[_0x1fcf9b(0x15b)](_0x4009ab=>xml_1[_0x1fcf9b(0x170)][_0x1fcf9b(0x18b)](_0x2ba232,_0x4009ab))['reduce']((_0x5b348a,_0x3f69a6)=>[..._0x5b348a,...xml_1[_0x1fcf9b(0x170)][_0x1fcf9b(0x1a2)](_0x2ba232,_0x3f69a6)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0xe54323,_0x2ba232,_0x26ff5d);}catch(_0x3870c2){throw new Error(_0x1fcf9b(0x163)+_0xe54323[_0x1fcf9b(0x1a6)]+'\x20['+_0xe54323['type']+']');}}async[a150_0x332600(0x18c)](_0x1a0848){const _0x114fdf=a150_0x332600,_0x3673be=(0x0,path_1['join'])(this['dir'],_0x1a0848),_0x347660=_0x1a0848+(_0x1a0848[_0x114fdf(0x189)]('experiences')?this[_0x114fdf(0x179)]:this[_0x114fdf(0x18f)]),_0x4efa8b=await fs_internal_1['FS'][_0x114fdf(0x17e)](_0x3673be,!![]),_0x4622a0=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x114fdf(0x18a)],_0x347660),!![])[_0x114fdf(0x19b)](()=>null),_0x2e6fc7={};for(const _0x453497 of _0x4efa8b){_0x2e6fc7[(0x0,path_1[_0x114fdf(0x178)])(this['dir'],_0x453497)]=await fs_internal_1['FS'][_0x114fdf(0x16f)](_0x453497,!![]);}return _0x4622a0&&(_0x2e6fc7[(0x0,path_1[_0x114fdf(0x178)])(this[_0x114fdf(0x18a)],_0x347660)]=_0x4622a0),_0x2e6fc7;}async['readComponentFiles'](_0x15e6d6){const _0x8984b5=a150_0x332600;let _0x4efc7a=_0x15e6d6+this[_0x8984b5(0x18f)];if(constants_1[_0x8984b5(0x1a1)]['test'](_0x15e6d6))return this[_0x8984b5(0x18c)](_0x15e6d6);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x8984b5(0x17c)])(this[_0x8984b5(0x18a)],_0x15e6d6))||await fs_internal_1['FS'][_0x8984b5(0x167)]((0x0,path_1[_0x8984b5(0x17c)])(this[_0x8984b5(0x18a)],_0x4efc7a))){const _0x453dcd=await fs_internal_1['FS'][_0x8984b5(0x16f)]((0x0,path_1[_0x8984b5(0x17c)])(this['dir'],_0x4efc7a),!![]),_0x2c4c6a=await(0x0,utils_1[_0x8984b5(0x194)])({'files':{[_0x4efc7a]:_0x453dcd}})[_0x8984b5(0x19b)](()=>null);if(_0x2c4c6a&&folder_types_1[_0x8984b5(0x18e)][_0x8984b5(0x199)](_0x2c4c6a))return{[_0x4efc7a]:await fs_internal_1['FS'][_0x8984b5(0x16f)]((0x0,path_1[_0x8984b5(0x17c)])(this[_0x8984b5(0x18a)],_0x4efc7a),!![])};}if(!(0x0,path_1[_0x8984b5(0x16d)])(_0x15e6d6)&&this[_0x8984b5(0x1aa)]){const _0x123ee0=_0x15e6d6[_0x8984b5(0x19d)]('/')[0x0],_0x21ceb4=(await fs_internal_1['FS'][_0x8984b5(0x17e)]((0x0,path_1[_0x8984b5(0x17c)])(this[_0x8984b5(0x18a)],_0x123ee0)))[_0x8984b5(0x19f)](_0x3d1e9d=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x3d1e9d,(0x0,path_1[_0x8984b5(0x17c)])(this['dir'],_0x15e6d6)));if(!_0x21ceb4)throw new Error(_0x8984b5(0x1a3)+_0x15e6d6+_0x8984b5(0x173)+_0x123ee0+'\x22');_0x15e6d6=(0x0,path_1[_0x8984b5(0x178)])(this[_0x8984b5(0x18a)],_0x21ceb4),_0x4efc7a=_0x15e6d6+this[_0x8984b5(0x18f)];}const [_0x2e0850,_0x516f8b]=await Promise[_0x8984b5(0x196)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x8984b5(0x17c)])(this['dir'],_0x15e6d6),!![])[_0x8984b5(0x19b)](()=>null),fs_internal_1['FS'][_0x8984b5(0x16f)]((0x0,path_1[_0x8984b5(0x17c)])(this['dir'],_0x4efc7a),!![])[_0x8984b5(0x19b)](()=>null)]);return{..._0x2e0850?{[_0x15e6d6]:_0x2e0850}:{},..._0x516f8b?{[_0x4efc7a]:_0x516f8b}:{}};}async[a150_0x332600(0x16c)](){const _0x289cac=a150_0x332600,_0x43acac=[...this[_0x289cac(0x164)]];if(this['isSFDXProject'])for(const _0x8d1419 of _0x43acac){if(constants_1[_0x289cac(0x1a1)][_0x289cac(0x197)](_0x8d1419))continue;if(await fs_internal_1['FS'][_0x289cac(0x172)]((0x0,path_1['join'])(this[_0x289cac(0x18a)],_0x8d1419))){const _0x1cb7ac=await fs_internal_1['FS'][_0x289cac(0x17e)]((0x0,path_1[_0x289cac(0x17c)])(this['dir'],_0x8d1419),!![]);_0x43acac[_0x289cac(0x1a8)](..._0x1cb7ac[_0x289cac(0x177)](_0x17355c=>(0x0,path_1[_0x289cac(0x178)])(this['dir'],_0x17355c)));}}this[_0x289cac(0x164)]=(0x0,utils_1[_0x289cac(0x19a)])(_0x43acac);}async['parse'](){const _0x3bb9d5=a150_0x332600;await this[_0x3bb9d5(0x16c)]();const _0x852cbc=[];for(const _0x45211e of this['paths']){if(_0x45211e['endsWith'](_0x3bb9d5(0x192)))continue;const _0x446d71={};try{_0x446d71[_0x3bb9d5(0x18d)]=await this[_0x3bb9d5(0x184)](_0x45211e),_0x446d71['filePath']=constants_1[_0x3bb9d5(0x1a1)][_0x3bb9d5(0x197)](_0x45211e)?_0x45211e:(0x0,utils_1[_0x3bb9d5(0x186)])({'files':_0x446d71[_0x3bb9d5(0x18d)]}),_0x45211e[_0x3bb9d5(0x189)](_0x3bb9d5(0x171))?_0x446d71[_0x3bb9d5(0x16e)]='WaveTemplateBundle':_0x446d71[_0x3bb9d5(0x16e)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x446d71[_0x3bb9d5(0x18d)]});}catch(_0x95bfcd){this[_0x3bb9d5(0x174)][_0x3bb9d5(0x1a4)](_0x3bb9d5(0x17d),_0x45211e,_0x95bfcd);continue;}_0x446d71['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x45211e),_0x446d71['crc']=(0x0,crc32_1['calculateCRC32'])(_0x446d71);if((0x0,utils_1[_0x3bb9d5(0x193)])(_0x446d71)){const _0x37e38f=await this[_0x3bb9d5(0x195)](_0x446d71);_0x852cbc[_0x3bb9d5(0x1a8)](..._0x37e38f);}if(_0x446d71[_0x3bb9d5(0x16e)]===_0x3bb9d5(0x16b))continue;settings_types_list_1[_0x3bb9d5(0x18e)]['includes'](_0x446d71[_0x3bb9d5(0x16e)])&&(_0x446d71[_0x3bb9d5(0x16e)]=_0x3bb9d5(0x168)),_0x852cbc[_0x3bb9d5(0x1a8)](_0x446d71);}return _0x852cbc;}}function a150_0x56f5(_0xd1ae1f,_0x3251bb){const _0x1f6737=a150_0x305d();return a150_0x56f5=function(_0x4fa6e0,_0x673670){_0x4fa6e0=_0x4fa6e0-0x15a;let _0x305d1c=_0x1f6737[_0x4fa6e0];return _0x305d1c;},a150_0x56f5(_0xd1ae1f,_0x3251bb);}exports[a150_0x332600(0x182)]=MDApiParser;