const a115_0x72183e=a115_0x3021;(function(_0x933dc4,_0x361da1){const _0x57ac0c=a115_0x3021,_0x8704bb=_0x933dc4();while(!![]){try{const _0x1fe451=-parseInt(_0x57ac0c(0xb7))/0x1+parseInt(_0x57ac0c(0xcf))/0x2*(parseInt(_0x57ac0c(0xd1))/0x3)+-parseInt(_0x57ac0c(0xb2))/0x4+-parseInt(_0x57ac0c(0xdf))/0x5+parseInt(_0x57ac0c(0xa3))/0x6+-parseInt(_0x57ac0c(0xcc))/0x7*(-parseInt(_0x57ac0c(0xcb))/0x8)+parseInt(_0x57ac0c(0xe6))/0x9;if(_0x1fe451===_0x361da1)break;else _0x8704bb['push'](_0x8704bb['shift']());}catch(_0x17c2cc){_0x8704bb['push'](_0x8704bb['shift']());}}}(a115_0x468d,0x96c23));const a115_0x5a9049=(function(){let _0x482087=!![];return function(_0x16a3a6,_0x22b7be){const _0x142f4d=_0x482087?function(){const _0x5166fc=a115_0x3021;if(_0x22b7be){const _0xfb7e37=_0x22b7be[_0x5166fc(0x9d)](_0x16a3a6,arguments);return _0x22b7be=null,_0xfb7e37;}}:function(){};return _0x482087=![],_0x142f4d;};}()),a115_0xbc2d77=a115_0x5a9049(this,function(){const _0x5e7048=a115_0x3021;return a115_0xbc2d77[_0x5e7048(0xad)]()[_0x5e7048(0xa4)](_0x5e7048(0xe5))[_0x5e7048(0xad)]()['constructor'](a115_0xbc2d77)[_0x5e7048(0xa4)](_0x5e7048(0xe5));});a115_0xbc2d77();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xfe58b9){const _0x28ea9b=a115_0x3021;return _0xfe58b9&&_0xfe58b9[_0x28ea9b(0xb1)]?_0xfe58b9:{'default':_0xfe58b9};};Object[a115_0x72183e(0xaa)](exports,'__esModule',{'value':!![]}),exports[a115_0x72183e(0xe7)]=void 0x0;function a115_0x468d(){const _0x9b525c=['16rOZLlW','2324693JYaEPh','type','utf-8','74qyzCRs','relative','47253EbYQzl','push','convertToCleanPaths','../../../../core','META_EXPERIENCES_EXTENSION','error','readDir','waveTemplates','Logger','path','isParentComponent','CustomLabels','files','isDir','3178605Ekaars','init','crc','../utils','readFile','../../internal/fs.internal','(((.+)+)+)+$','4156938GVdKuB','MDApiParser','experiences','filePath','../data/child-types-map','name','apply','hasChildNodes','isPathsEquals','extractComponentTypeFromFiles','../data/folder-types','parse','5789622aINGBY','search','readChildComponents','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../../../../constants','WaveTemplateBundle','readComponentFiles','defineProperty','values','logger','toString','startsWith','extractFileNameFromFiles','calculateCRC32','__esModule','4292844nriPcM','join','\x22\x20not\x20found\x20in\x20\x22','../utils/xml','split','347365nftuwa','dir','extname','readBundledFiles','Xml','exists','test','getChildsByName','reduce','Component\x20\x22','isSFDXProject','META_EXTENSION','BUNDLED_FOLDERS_REGEXP','catch','default','paths','includes','createChildComponentsFromParent','.site-meta.xml','find'];a115_0x468d=function(){return _0x9b525c;};return a115_0x468d();}const fs_internal_1=require(a115_0x72183e(0xe4)),utils_1=require(a115_0x72183e(0xe2)),path_1=require(a115_0x72183e(0xda)),xml_1=require(a115_0x72183e(0xb5)),child_types_map_1=__importDefault(require(a115_0x72183e(0x9b))),constants_1=require(a115_0x72183e(0xa7)),core_1=require(a115_0x72183e(0xd4)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a115_0x72183e(0xa1))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a115_0x72183e(0xc5)]);function a115_0x3021(_0x52148a,_0x8d6725){const _0x554b34=a115_0x468d();return a115_0x3021=function(_0xbc2d77,_0x5a9049){_0xbc2d77=_0xbc2d77-0x9b;let _0x468d6d=_0x554b34[_0xbc2d77];return _0x468d6d;},a115_0x3021(_0x52148a,_0x8d6725);}class MDApiParser{constructor(_0x50aeea,_0xb8c7cd,_0x5567cb){const _0x44eb67=a115_0x72183e;this[_0x44eb67(0xb8)]=_0x50aeea,this['isSFDXProject']=_0x5567cb,this[_0x44eb67(0xac)]=new core_1[(_0x44eb67(0xd9))](MDApiParser['name']),this[_0x44eb67(0xc2)]='-meta.xml',this['META_EXPERIENCES_EXTENSION']=_0x44eb67(0xc9),this[_0x44eb67(0xc6)]=_0xb8c7cd;}async[a115_0x72183e(0xa5)](_0x13b62a){const _0x788791=a115_0x72183e;try{const _0x27c4c8=await xml_1[_0x788791(0xbb)][_0x788791(0xa2)](Object[_0x788791(0xab)](_0x13b62a[_0x788791(0xdd)])[0x0][_0x788791(0xad)](_0x788791(0xce))),_0x2d6881=CHILD_XML_KEYS['filter'](_0x4e669d=>xml_1[_0x788791(0xbb)][_0x788791(0x9e)](_0x27c4c8,_0x4e669d))[_0x788791(0xbf)]((_0x1a813d,_0x4c41de)=>[..._0x1a813d,...xml_1[_0x788791(0xbb)][_0x788791(0xbe)](_0x27c4c8,_0x4c41de)],[]);return(0x0,utils_1[_0x788791(0xc8)])(_0x13b62a,_0x27c4c8,_0x2d6881);}catch(_0x4f4561){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x13b62a[_0x788791(0x9c)]+'\x20['+_0x13b62a[_0x788791(0xcd)]+']');}}async[a115_0x72183e(0xba)](_0x27b380){const _0x8b462d=a115_0x72183e,_0x43ef34=(0x0,path_1[_0x8b462d(0xb3)])(this[_0x8b462d(0xb8)],_0x27b380),_0xa59e8b=_0x27b380+(_0x27b380[_0x8b462d(0xae)](_0x8b462d(0xe8))?this[_0x8b462d(0xd5)]:this[_0x8b462d(0xc2)]),_0x5aa24b=await fs_internal_1['FS'][_0x8b462d(0xd7)](_0x43ef34,!![]),_0x5d02dc=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x8b462d(0xb3)])(this[_0x8b462d(0xb8)],_0xa59e8b),!![])[_0x8b462d(0xc4)](()=>null),_0x12bfa7={};for(const _0x121d7c of _0x5aa24b){_0x12bfa7[(0x0,path_1[_0x8b462d(0xd0)])(this[_0x8b462d(0xb8)],_0x121d7c)]=await fs_internal_1['FS'][_0x8b462d(0xe3)](_0x121d7c,!![]);}return _0x5d02dc&&(_0x12bfa7[(0x0,path_1[_0x8b462d(0xd0)])(this[_0x8b462d(0xb8)],_0xa59e8b)]=_0x5d02dc),_0x12bfa7;}async[a115_0x72183e(0xa9)](_0xaca7b9){const _0x36c6cf=a115_0x72183e;let _0x4c1cc0=_0xaca7b9+this[_0x36c6cf(0xc2)];if(constants_1[_0x36c6cf(0xc3)][_0x36c6cf(0xbd)](_0xaca7b9))return this[_0x36c6cf(0xba)](_0xaca7b9);if(await fs_internal_1['FS'][_0x36c6cf(0xde)]((0x0,path_1[_0x36c6cf(0xb3)])(this[_0x36c6cf(0xb8)],_0xaca7b9))||await fs_internal_1['FS'][_0x36c6cf(0xbc)]((0x0,path_1[_0x36c6cf(0xb3)])(this[_0x36c6cf(0xb8)],_0x4c1cc0))){const _0x5d4a59=await fs_internal_1['FS'][_0x36c6cf(0xe3)]((0x0,path_1[_0x36c6cf(0xb3)])(this[_0x36c6cf(0xb8)],_0x4c1cc0),!![]),_0x1bb3b0=await(0x0,utils_1[_0x36c6cf(0xa0)])({'files':{[_0x4c1cc0]:_0x5d4a59}})['catch'](()=>null);if(_0x1bb3b0&&folder_types_1['default'][_0x36c6cf(0xc7)](_0x1bb3b0))return{[_0x4c1cc0]:await fs_internal_1['FS'][_0x36c6cf(0xe3)]((0x0,path_1[_0x36c6cf(0xb3)])(this[_0x36c6cf(0xb8)],_0x4c1cc0),!![])};}if(!(0x0,path_1[_0x36c6cf(0xb9)])(_0xaca7b9)&&this[_0x36c6cf(0xc1)]){const _0x2ece29=_0xaca7b9[_0x36c6cf(0xb6)]('/')[0x0],_0x5f138d=(await fs_internal_1['FS']['readDir']((0x0,path_1[_0x36c6cf(0xb3)])(this['dir'],_0x2ece29)))[_0x36c6cf(0xca)](_0x39995f=>(0x0,git_commit_utils_1[_0x36c6cf(0x9f)])(_0x39995f,(0x0,path_1[_0x36c6cf(0xb3)])(this['dir'],_0xaca7b9)));if(!_0x5f138d)throw new Error(_0x36c6cf(0xc0)+_0xaca7b9+_0x36c6cf(0xb4)+_0x2ece29+'\x22');_0xaca7b9=(0x0,path_1[_0x36c6cf(0xd0)])(this['dir'],_0x5f138d),_0x4c1cc0=_0xaca7b9+this['META_EXTENSION'];}const [_0x5024a1,_0x39b2fb]=await Promise['all']([fs_internal_1['FS']['readFile']((0x0,path_1[_0x36c6cf(0xb3)])(this['dir'],_0xaca7b9),!![])[_0x36c6cf(0xc4)](()=>null),fs_internal_1['FS'][_0x36c6cf(0xe3)]((0x0,path_1[_0x36c6cf(0xb3)])(this[_0x36c6cf(0xb8)],_0x4c1cc0),!![])[_0x36c6cf(0xc4)](()=>null)]);return{..._0x5024a1?{[_0xaca7b9]:_0x5024a1}:{},..._0x39b2fb?{[_0x4c1cc0]:_0x39b2fb}:{}};}async[a115_0x72183e(0xe0)](){const _0x4409f6=a115_0x72183e,_0x48faa9=[...this['paths']];if(this[_0x4409f6(0xc1)])for(const _0x56b6aa of _0x48faa9){if(constants_1[_0x4409f6(0xc3)][_0x4409f6(0xbd)](_0x56b6aa))continue;if(await fs_internal_1['FS'][_0x4409f6(0xde)]((0x0,path_1[_0x4409f6(0xb3)])(this['dir'],_0x56b6aa))){const _0x5563a1=await fs_internal_1['FS']['readDir']((0x0,path_1[_0x4409f6(0xb3)])(this[_0x4409f6(0xb8)],_0x56b6aa),!![]);_0x48faa9[_0x4409f6(0xd2)](..._0x5563a1['map'](_0x35e8c7=>(0x0,path_1[_0x4409f6(0xd0)])(this[_0x4409f6(0xb8)],_0x35e8c7)));}}this[_0x4409f6(0xc6)]=(0x0,utils_1[_0x4409f6(0xd3)])(_0x48faa9);}async['parse'](){const _0x498543=a115_0x72183e;await this[_0x498543(0xe0)]();const _0x35837f=[];for(const _0x336923 of this[_0x498543(0xc6)]){if(_0x336923['endsWith']('package.xml'))continue;const _0x30a2ab={};try{_0x30a2ab['files']=await this[_0x498543(0xa9)](_0x336923),_0x30a2ab[_0x498543(0xe9)]=constants_1[_0x498543(0xc3)]['test'](_0x336923)?_0x336923:(0x0,utils_1[_0x498543(0xaf)])({'files':_0x30a2ab['files']}),_0x336923[_0x498543(0xae)](_0x498543(0xd8))?_0x30a2ab[_0x498543(0xcd)]=_0x498543(0xa8):_0x30a2ab[_0x498543(0xcd)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x30a2ab[_0x498543(0xdd)]});}catch(_0xc7e8f1){this[_0x498543(0xac)][_0x498543(0xd6)](_0x498543(0xa6),_0x336923,_0xc7e8f1);continue;}_0x30a2ab[_0x498543(0x9c)]=(0x0,utils_1['extractFilenameFromPath'])(_0x336923),_0x30a2ab[_0x498543(0xe1)]=(0x0,crc32_1[_0x498543(0xb0)])(_0x30a2ab);if((0x0,utils_1[_0x498543(0xdb)])(_0x30a2ab)){const _0x40cc08=await this[_0x498543(0xa5)](_0x30a2ab);_0x35837f[_0x498543(0xd2)](..._0x40cc08);}if(_0x30a2ab[_0x498543(0xcd)]===_0x498543(0xdc))continue;_0x35837f[_0x498543(0xd2)](_0x30a2ab);}return _0x35837f;}}exports[a115_0x72183e(0xe7)]=MDApiParser;