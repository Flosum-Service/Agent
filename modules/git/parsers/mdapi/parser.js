const a147_0x4a3a35=a147_0x1d72;(function(_0x576f87,_0x3694c6){const _0x328431=a147_0x1d72,_0x20a840=_0x576f87();while(!![]){try{const _0x279558=-parseInt(_0x328431(0x189))/0x1*(-parseInt(_0x328431(0x16c))/0x2)+parseInt(_0x328431(0x162))/0x3*(-parseInt(_0x328431(0x1a5))/0x4)+-parseInt(_0x328431(0x196))/0x5*(parseInt(_0x328431(0x15d))/0x6)+parseInt(_0x328431(0x182))/0x7*(-parseInt(_0x328431(0x199))/0x8)+parseInt(_0x328431(0x188))/0x9*(parseInt(_0x328431(0x1a4))/0xa)+-parseInt(_0x328431(0x1a7))/0xb+parseInt(_0x328431(0x181))/0xc*(parseInt(_0x328431(0x16f))/0xd);if(_0x279558===_0x3694c6)break;else _0x20a840['push'](_0x20a840['shift']());}catch(_0x2526c2){_0x20a840['push'](_0x20a840['shift']());}}}(a147_0x1d3e,0x3122f));const a147_0x486ee9=(function(){let _0x234947=!![];return function(_0x2f25f6,_0x18d0d5){const _0x1502f5=_0x234947?function(){const _0x38ccac=a147_0x1d72;if(_0x18d0d5){const _0x3c9b04=_0x18d0d5[_0x38ccac(0x1a0)](_0x2f25f6,arguments);return _0x18d0d5=null,_0x3c9b04;}}:function(){};return _0x234947=![],_0x1502f5;};}()),a147_0x16a0ab=a147_0x486ee9(this,function(){const _0x2ad16d=a147_0x1d72;return a147_0x16a0ab[_0x2ad16d(0x160)]()[_0x2ad16d(0x166)](_0x2ad16d(0x176))[_0x2ad16d(0x160)]()[_0x2ad16d(0x192)](a147_0x16a0ab)[_0x2ad16d(0x166)](_0x2ad16d(0x176));});a147_0x16a0ab();function a147_0x1d3e(){const _0x57b0bd=['includes','readFile','startsWith','values','constructor','extractFilenameFromPath','logger','files','5pbcpRa','readBundledFiles','dir','16mlfXCT','createChildComponentsFromParent','catch','defineProperty','test','default','../utils/crc32','apply','../data/folder-types','../utils/xml','getChildsByName','30MSPrRf','52jKvXDA','readChildComponents','1051325VOOLly','BUNDLED_FOLDERS_REGEXP','Logger','relative','type','\x22\x20not\x20found\x20in\x20\x22','../../../../core','filePath','Component\x20\x22','909042uQyohf','__esModule','init','toString','META_EXPERIENCES_EXTENSION','14109ShLbUc','join','experiences','isDir','search','Cannot\x20parse\x20childs\x20in\x20','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','isPathsEquals','push','../utils','12OqYxYg','split','hasChildNodes','8710LuEciC','paths','extractComponentTypeFromFiles','exists','MDApiParser','CustomLabels','name','(((.+)+)+)+$','__importDefault','META_EXTENSION','../data/settings-types-list','readComponentFiles','reduce','find','utf-8','extractFileNameFromFiles','../../internal/fs.internal','error','6540eZXNZq','593089ybksWR','package.xml','Xml','map','endsWith','../../../../constants','902142xoNeBY','2179AIBTvG','all','parse','isSFDXProject','-meta.xml'];a147_0x1d3e=function(){return _0x57b0bd;};return a147_0x1d3e();}'use strict';var __importDefault=this&&this[a147_0x4a3a35(0x177)]||function(_0x1c3d37){const _0x56c344=a147_0x4a3a35;return _0x1c3d37&&_0x1c3d37[_0x56c344(0x15e)]?_0x1c3d37:{'default':_0x1c3d37};};Object[a147_0x4a3a35(0x19c)](exports,a147_0x4a3a35(0x15e),{'value':!![]}),exports[a147_0x4a3a35(0x173)]=void 0x0;function a147_0x1d72(_0x23fb76,_0x4feaae){const _0x4a8fa3=a147_0x1d3e();return a147_0x1d72=function(_0x16a0ab,_0x486ee9){_0x16a0ab=_0x16a0ab-0x15b;let _0x1d3ecd=_0x4a8fa3[_0x16a0ab];return _0x1d3ecd;},a147_0x1d72(_0x23fb76,_0x4feaae);}const fs_internal_1=require(a147_0x4a3a35(0x17f)),utils_1=require(a147_0x4a3a35(0x16b)),path_1=require('path'),xml_1=require(a147_0x4a3a35(0x1a2)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a147_0x4a3a35(0x187)),core_1=require(a147_0x4a3a35(0x1ad)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a147_0x4a3a35(0x19f)),folder_types_1=__importDefault(require(a147_0x4a3a35(0x1a1))),settings_types_list_1=__importDefault(require(a147_0x4a3a35(0x179))),CHILD_XML_KEYS=Object[a147_0x4a3a35(0x191)](child_types_map_1[a147_0x4a3a35(0x19e)]);class MDApiParser{constructor(_0x1fe83d,_0x4b2ac9,_0x5d5fce){const _0x24b84f=a147_0x4a3a35;this[_0x24b84f(0x198)]=_0x1fe83d,this['isSFDXProject']=_0x5d5fce,this['logger']=new core_1[(_0x24b84f(0x1a9))](MDApiParser[_0x24b84f(0x175)]),this[_0x24b84f(0x178)]=_0x24b84f(0x18d),this[_0x24b84f(0x161)]='.site-meta.xml',this['paths']=_0x4b2ac9;}async[a147_0x4a3a35(0x1a6)](_0x38ae76){const _0x1bd85a=a147_0x4a3a35;try{const _0x8c4192=await xml_1['Xml'][_0x1bd85a(0x18b)](Object['values'](_0x38ae76[_0x1bd85a(0x195)])[0x0][_0x1bd85a(0x160)](_0x1bd85a(0x17d))),_0x5dda3d=CHILD_XML_KEYS['filter'](_0x157781=>xml_1[_0x1bd85a(0x184)][_0x1bd85a(0x16e)](_0x8c4192,_0x157781))[_0x1bd85a(0x17b)]((_0x375eae,_0x14b032)=>[..._0x375eae,...xml_1['Xml'][_0x1bd85a(0x1a3)](_0x8c4192,_0x14b032)],[]);return(0x0,utils_1[_0x1bd85a(0x19a)])(_0x38ae76,_0x8c4192,_0x5dda3d);}catch(_0x222a5e){throw new Error(_0x1bd85a(0x167)+_0x38ae76[_0x1bd85a(0x175)]+'\x20['+_0x38ae76[_0x1bd85a(0x1ab)]+']');}}async[a147_0x4a3a35(0x197)](_0x31e5c0){const _0xb78913=a147_0x4a3a35,_0x2d64c2=(0x0,path_1[_0xb78913(0x163)])(this['dir'],_0x31e5c0),_0x47f2e7=_0x31e5c0+(_0x31e5c0[_0xb78913(0x190)](_0xb78913(0x164))?this[_0xb78913(0x161)]:this[_0xb78913(0x178)]),_0x3425e9=await fs_internal_1['FS']['readDir'](_0x2d64c2,!![]),_0x57ed5f=await fs_internal_1['FS']['readFile']((0x0,path_1[_0xb78913(0x163)])(this[_0xb78913(0x198)],_0x47f2e7),!![])[_0xb78913(0x19b)](()=>null),_0x2f671a={};for(const _0x85e17 of _0x3425e9){_0x2f671a[(0x0,path_1[_0xb78913(0x1aa)])(this[_0xb78913(0x198)],_0x85e17)]=await fs_internal_1['FS'][_0xb78913(0x18f)](_0x85e17,!![]);}return _0x57ed5f&&(_0x2f671a[(0x0,path_1[_0xb78913(0x1aa)])(this[_0xb78913(0x198)],_0x47f2e7)]=_0x57ed5f),_0x2f671a;}async[a147_0x4a3a35(0x17a)](_0x3fd79f){const _0x333623=a147_0x4a3a35;let _0x1984b5=_0x3fd79f+this['META_EXTENSION'];if(constants_1[_0x333623(0x1a8)][_0x333623(0x19d)](_0x3fd79f))return this[_0x333623(0x197)](_0x3fd79f);if(await fs_internal_1['FS'][_0x333623(0x165)]((0x0,path_1[_0x333623(0x163)])(this[_0x333623(0x198)],_0x3fd79f))||await fs_internal_1['FS'][_0x333623(0x172)]((0x0,path_1[_0x333623(0x163)])(this[_0x333623(0x198)],_0x1984b5))){const _0x2fe6c9=await fs_internal_1['FS'][_0x333623(0x18f)]((0x0,path_1[_0x333623(0x163)])(this['dir'],_0x1984b5),!![]),_0x11c25a=await(0x0,utils_1[_0x333623(0x171)])({'files':{[_0x1984b5]:_0x2fe6c9}})[_0x333623(0x19b)](()=>null);if(_0x11c25a&&folder_types_1[_0x333623(0x19e)][_0x333623(0x18e)](_0x11c25a))return{[_0x1984b5]:await fs_internal_1['FS'][_0x333623(0x18f)]((0x0,path_1['join'])(this['dir'],_0x1984b5),!![])};}if(!(0x0,path_1['extname'])(_0x3fd79f)&&this[_0x333623(0x18c)]){const _0xa5fe8a=_0x3fd79f[_0x333623(0x16d)]('/')[0x0],_0x3b41a6=(await fs_internal_1['FS']['readDir']((0x0,path_1[_0x333623(0x163)])(this[_0x333623(0x198)],_0xa5fe8a)))[_0x333623(0x17c)](_0x4c7546=>(0x0,git_commit_utils_1[_0x333623(0x169)])(_0x4c7546,(0x0,path_1['join'])(this[_0x333623(0x198)],_0x3fd79f)));if(!_0x3b41a6)throw new Error(_0x333623(0x15c)+_0x3fd79f+_0x333623(0x1ac)+_0xa5fe8a+'\x22');_0x3fd79f=(0x0,path_1[_0x333623(0x1aa)])(this[_0x333623(0x198)],_0x3b41a6),_0x1984b5=_0x3fd79f+this[_0x333623(0x178)];}const [_0x2bf575,_0x2275a0]=await Promise[_0x333623(0x18a)]([fs_internal_1['FS'][_0x333623(0x18f)]((0x0,path_1[_0x333623(0x163)])(this[_0x333623(0x198)],_0x3fd79f),!![])[_0x333623(0x19b)](()=>null),fs_internal_1['FS'][_0x333623(0x18f)]((0x0,path_1[_0x333623(0x163)])(this[_0x333623(0x198)],_0x1984b5),!![])[_0x333623(0x19b)](()=>null)]);return{..._0x2bf575?{[_0x3fd79f]:_0x2bf575}:{},..._0x2275a0?{[_0x1984b5]:_0x2275a0}:{}};}async[a147_0x4a3a35(0x15f)](){const _0x58d4ef=a147_0x4a3a35,_0x2a257b=[...this[_0x58d4ef(0x170)]];if(this[_0x58d4ef(0x18c)])for(const _0x11c6d0 of _0x2a257b){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x58d4ef(0x19d)](_0x11c6d0))continue;if(await fs_internal_1['FS'][_0x58d4ef(0x165)]((0x0,path_1['join'])(this[_0x58d4ef(0x198)],_0x11c6d0))){const _0x4085cd=await fs_internal_1['FS']['readDir']((0x0,path_1[_0x58d4ef(0x163)])(this['dir'],_0x11c6d0),!![]);_0x2a257b[_0x58d4ef(0x16a)](..._0x4085cd[_0x58d4ef(0x185)](_0xef5da7=>(0x0,path_1[_0x58d4ef(0x1aa)])(this[_0x58d4ef(0x198)],_0xef5da7)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x2a257b);}async[a147_0x4a3a35(0x18b)](){const _0x18888d=a147_0x4a3a35;await this['init']();const _0x325f5e=[];for(const _0x136168 of this[_0x18888d(0x170)]){if(_0x136168[_0x18888d(0x186)](_0x18888d(0x183)))continue;const _0x1b847a={};try{_0x1b847a[_0x18888d(0x195)]=await this[_0x18888d(0x17a)](_0x136168),_0x1b847a[_0x18888d(0x15b)]=constants_1[_0x18888d(0x1a8)][_0x18888d(0x19d)](_0x136168)?_0x136168:(0x0,utils_1[_0x18888d(0x17e)])({'files':_0x1b847a['files']}),_0x136168[_0x18888d(0x190)]('waveTemplates')?_0x1b847a['type']='WaveTemplateBundle':_0x1b847a[_0x18888d(0x1ab)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x1b847a[_0x18888d(0x195)]});}catch(_0xf47890){this[_0x18888d(0x194)][_0x18888d(0x180)](_0x18888d(0x168),_0x136168,_0xf47890);continue;}_0x1b847a[_0x18888d(0x175)]=(0x0,utils_1[_0x18888d(0x193)])(_0x136168),_0x1b847a['crc']=(0x0,crc32_1['calculateCRC32'])(_0x1b847a);if((0x0,utils_1['isParentComponent'])(_0x1b847a)){const _0xf7524=await this[_0x18888d(0x1a6)](_0x1b847a);_0x325f5e['push'](..._0xf7524);}if(_0x1b847a[_0x18888d(0x1ab)]===_0x18888d(0x174))continue;settings_types_list_1[_0x18888d(0x19e)]['includes'](_0x1b847a[_0x18888d(0x1ab)])&&(_0x1b847a[_0x18888d(0x1ab)]='Settings'),_0x325f5e[_0x18888d(0x16a)](_0x1b847a);}return _0x325f5e;}}exports['MDApiParser']=MDApiParser;