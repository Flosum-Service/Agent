const a150_0x4471b6=a150_0xf9ef;function a150_0xf9ef(_0x46b823,_0x29725d){const _0x161e19=a150_0xcd99();return a150_0xf9ef=function(_0x428e7f,_0x51bf8e){_0x428e7f=_0x428e7f-0x110;let _0xcd9903=_0x161e19[_0x428e7f];return _0xcd9903;},a150_0xf9ef(_0x46b823,_0x29725d);}(function(_0x25a570,_0x47f4e8){const _0x204f9c=a150_0xf9ef,_0x406081=_0x25a570();while(!![]){try{const _0x397380=-parseInt(_0x204f9c(0x146))/0x1+-parseInt(_0x204f9c(0x131))/0x2+-parseInt(_0x204f9c(0x149))/0x3*(-parseInt(_0x204f9c(0x14b))/0x4)+-parseInt(_0x204f9c(0x126))/0x5*(-parseInt(_0x204f9c(0x160))/0x6)+parseInt(_0x204f9c(0x15d))/0x7+parseInt(_0x204f9c(0x13b))/0x8*(-parseInt(_0x204f9c(0x157))/0x9)+-parseInt(_0x204f9c(0x139))/0xa*(-parseInt(_0x204f9c(0x14c))/0xb);if(_0x397380===_0x47f4e8)break;else _0x406081['push'](_0x406081['shift']());}catch(_0x1f77e2){_0x406081['push'](_0x406081['shift']());}}}(a150_0xcd99,0x46bba));const a150_0x51bf8e=(function(){let _0x5f3946=!![];return function(_0x380a81,_0x29faba){const _0x3dc90c=_0x5f3946?function(){const _0x468af5=a150_0xf9ef;if(_0x29faba){const _0x28741d=_0x29faba[_0x468af5(0x13c)](_0x380a81,arguments);return _0x29faba=null,_0x28741d;}}:function(){};return _0x5f3946=![],_0x3dc90c;};}()),a150_0x428e7f=a150_0x51bf8e(this,function(){const _0x4b4a60=a150_0xf9ef;return a150_0x428e7f[_0x4b4a60(0x14f)]()[_0x4b4a60(0x155)](_0x4b4a60(0x12d))[_0x4b4a60(0x14f)]()[_0x4b4a60(0x119)](a150_0x428e7f)['search'](_0x4b4a60(0x12d));});a150_0x428e7f();'use strict';var __importDefault=this&&this[a150_0x4471b6(0x11f)]||function(_0x151b19){const _0x383b4c=a150_0x4471b6;return _0x151b19&&_0x151b19[_0x383b4c(0x11b)]?_0x151b19:{'default':_0x151b19};};Object[a150_0x4471b6(0x135)](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a150_0x4471b6(0x151)),path_1=require(a150_0x4471b6(0x13e)),xml_1=require(a150_0x4471b6(0x13d)),child_types_map_1=__importDefault(require(a150_0x4471b6(0x123))),constants_1=require(a150_0x4471b6(0x130)),core_1=require('../../../../core'),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a150_0x4471b6(0x144)),folder_types_1=__importDefault(require(a150_0x4471b6(0x150))),settings_types_list_1=__importDefault(require(a150_0x4471b6(0x142))),CHILD_XML_KEYS=Object[a150_0x4471b6(0x112)](child_types_map_1[a150_0x4471b6(0x152)]);class MDApiParser{constructor(_0x146299,_0x3c0857,_0x68a700){const _0x54c481=a150_0x4471b6;this[_0x54c481(0x145)]=_0x146299,this[_0x54c481(0x13a)]=_0x68a700,this[_0x54c481(0x14a)]=new core_1[(_0x54c481(0x14e))](MDApiParser[_0x54c481(0x11e)]),this[_0x54c481(0x134)]=_0x54c481(0x14d),this[_0x54c481(0x125)]=_0x54c481(0x15b),this[_0x54c481(0x141)]=_0x3c0857;}async[a150_0x4471b6(0x158)](_0x3d9287){const _0x537d9e=a150_0x4471b6;try{const _0x48f329=await xml_1[_0x537d9e(0x116)][_0x537d9e(0x122)](Object['values'](_0x3d9287[_0x537d9e(0x121)])[0x0][_0x537d9e(0x14f)](_0x537d9e(0x12f))),_0x5bbe0b=CHILD_XML_KEYS[_0x537d9e(0x13f)](_0x33ae95=>xml_1[_0x537d9e(0x116)][_0x537d9e(0x154)](_0x48f329,_0x33ae95))[_0x537d9e(0x136)]((_0x583d71,_0x1bdf48)=>[..._0x583d71,...xml_1['Xml'][_0x537d9e(0x128)](_0x48f329,_0x1bdf48)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x3d9287,_0x48f329,_0x5bbe0b);}catch(_0x3ce45b){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x3d9287[_0x537d9e(0x11e)]+'\x20['+_0x3d9287[_0x537d9e(0x132)]+']');}}async[a150_0x4471b6(0x129)](_0x4416b8){const _0x19b14d=a150_0x4471b6,_0x1ea02c=(0x0,path_1[_0x19b14d(0x153)])(this['dir'],_0x4416b8),_0x322ddc=_0x4416b8+(_0x4416b8[_0x19b14d(0x115)](_0x19b14d(0x11a))?this[_0x19b14d(0x125)]:this[_0x19b14d(0x134)]),_0x19c9be=await fs_internal_1['FS'][_0x19b14d(0x147)](_0x1ea02c,!![]),_0x32367a=await fs_internal_1['FS'][_0x19b14d(0x15c)]((0x0,path_1[_0x19b14d(0x153)])(this[_0x19b14d(0x145)],_0x322ddc),!![])[_0x19b14d(0x124)](()=>null),_0x1a86d8={};for(const _0x22761b of _0x19c9be){_0x1a86d8[(0x0,path_1[_0x19b14d(0x161)])(this[_0x19b14d(0x145)],_0x22761b)]=await fs_internal_1['FS'][_0x19b14d(0x15c)](_0x22761b,!![]);}return _0x32367a&&(_0x1a86d8[(0x0,path_1[_0x19b14d(0x161)])(this['dir'],_0x322ddc)]=_0x32367a),_0x1a86d8;}async[a150_0x4471b6(0x156)](_0x56813e){const _0x41a813=a150_0x4471b6;let _0xf1eba7=_0x56813e+this['META_EXTENSION'];if(constants_1[_0x41a813(0x113)][_0x41a813(0x140)](_0x56813e))return this[_0x41a813(0x129)](_0x56813e);if(await fs_internal_1['FS'][_0x41a813(0x11d)]((0x0,path_1['join'])(this[_0x41a813(0x145)],_0x56813e))||await fs_internal_1['FS'][_0x41a813(0x15f)]((0x0,path_1[_0x41a813(0x153)])(this['dir'],_0xf1eba7))){const _0xacdf22=await fs_internal_1['FS'][_0x41a813(0x15c)]((0x0,path_1[_0x41a813(0x153)])(this[_0x41a813(0x145)],_0xf1eba7),!![]),_0x5e3a8b=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0xf1eba7]:_0xacdf22}})[_0x41a813(0x124)](()=>null);if(_0x5e3a8b&&folder_types_1['default'][_0x41a813(0x127)](_0x5e3a8b))return{[_0xf1eba7]:await fs_internal_1['FS'][_0x41a813(0x15c)]((0x0,path_1[_0x41a813(0x153)])(this[_0x41a813(0x145)],_0xf1eba7),!![])};}if(!(0x0,path_1[_0x41a813(0x110)])(_0x56813e)&&this[_0x41a813(0x13a)]){const _0x289c7e=_0x56813e['split']('/')[0x0],_0x3ec11d=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x41a813(0x145)],_0x289c7e)))[_0x41a813(0x15e)](_0x594b04=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x594b04,(0x0,path_1[_0x41a813(0x153)])(this[_0x41a813(0x145)],_0x56813e)));if(!_0x3ec11d)throw new Error(_0x41a813(0x12a)+_0x56813e+_0x41a813(0x12c)+_0x289c7e+'\x22');_0x56813e=(0x0,path_1[_0x41a813(0x161)])(this['dir'],_0x3ec11d),_0xf1eba7=_0x56813e+this[_0x41a813(0x134)];}const [_0x3fec92,_0x50811e]=await Promise[_0x41a813(0x148)]([fs_internal_1['FS'][_0x41a813(0x15c)]((0x0,path_1['join'])(this[_0x41a813(0x145)],_0x56813e),!![])[_0x41a813(0x124)](()=>null),fs_internal_1['FS'][_0x41a813(0x15c)]((0x0,path_1['join'])(this[_0x41a813(0x145)],_0xf1eba7),!![])[_0x41a813(0x124)](()=>null)]);return{..._0x3fec92?{[_0x56813e]:_0x3fec92}:{},..._0x50811e?{[_0xf1eba7]:_0x50811e}:{}};}async[a150_0x4471b6(0x118)](){const _0x5afd71=a150_0x4471b6,_0x25f99a=[...this[_0x5afd71(0x141)]];if(this[_0x5afd71(0x13a)])for(const _0x4796e4 of _0x25f99a){if(constants_1[_0x5afd71(0x113)]['test'](_0x4796e4))continue;if(await fs_internal_1['FS'][_0x5afd71(0x11d)]((0x0,path_1[_0x5afd71(0x153)])(this[_0x5afd71(0x145)],_0x4796e4))){const _0x348c02=await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x5afd71(0x145)],_0x4796e4),!![]);_0x25f99a[_0x5afd71(0x15a)](..._0x348c02[_0x5afd71(0x143)](_0x5c5fb6=>(0x0,path_1[_0x5afd71(0x161)])(this[_0x5afd71(0x145)],_0x5c5fb6)));}}this[_0x5afd71(0x141)]=(0x0,utils_1['convertToCleanPaths'])(_0x25f99a);}async[a150_0x4471b6(0x122)](){const _0x435aac=a150_0x4471b6;await this[_0x435aac(0x118)]();const _0x336e3f=[];for(const _0x4babb7 of this['paths']){if(_0x4babb7[_0x435aac(0x12b)](_0x435aac(0x114)))continue;const _0x46b8a6={};try{_0x46b8a6[_0x435aac(0x121)]=await this[_0x435aac(0x156)](_0x4babb7),_0x46b8a6[_0x435aac(0x111)]=constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x4babb7)?_0x4babb7:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x46b8a6[_0x435aac(0x121)]}),_0x4babb7[_0x435aac(0x115)]('waveTemplates')?_0x46b8a6['type']=_0x435aac(0x133):_0x46b8a6[_0x435aac(0x132)]=await(0x0,utils_1[_0x435aac(0x117)])({'files':_0x46b8a6[_0x435aac(0x121)]});}catch(_0x29c129){this['logger'][_0x435aac(0x137)](_0x435aac(0x12e),_0x4babb7,_0x29c129);continue;}_0x46b8a6[_0x435aac(0x11e)]=(0x0,utils_1[_0x435aac(0x159)])(_0x4babb7),_0x46b8a6[_0x435aac(0x120)]=(0x0,crc32_1['calculateCRC32'])(_0x46b8a6);if((0x0,utils_1['isParentComponent'])(_0x46b8a6)){const _0x1eb997=await this[_0x435aac(0x158)](_0x46b8a6);_0x336e3f[_0x435aac(0x15a)](..._0x1eb997);}if(_0x46b8a6[_0x435aac(0x132)]==='CustomLabels')continue;settings_types_list_1['default'][_0x435aac(0x127)](_0x46b8a6['type'])&&(_0x46b8a6[_0x435aac(0x132)]=_0x435aac(0x138)),_0x336e3f['push'](_0x46b8a6);}return _0x336e3f;}}exports[a150_0x4471b6(0x11c)]=MDApiParser;function a150_0xcd99(){const _0x9d9e87=['281429ANkgSq','readDir','all','74625yXKDLi','logger','60FlJlxS','52492HZBJPL','-meta.xml','Logger','toString','../data/folder-types','../utils','default','join','hasChildNodes','search','readComponentFiles','2043oMDIJJ','readChildComponents','extractFilenameFromPath','push','.site-meta.xml','readFile','3794490TZHOcg','find','exists','1886934LaajbP','relative','extname','filePath','values','BUNDLED_FOLDERS_REGEXP','package.xml','startsWith','Xml','extractComponentTypeFromFiles','init','constructor','experiences','__esModule','MDApiParser','isDir','name','__importDefault','crc','files','parse','../data/child-types-map','catch','META_EXPERIENCES_EXTENSION','5mdZhRW','includes','getChildsByName','readBundledFiles','Component\x20\x22','endsWith','\x22\x20not\x20found\x20in\x20\x22','(((.+)+)+)+$','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','utf-8','../../../../constants','1072066avJERA','type','WaveTemplateBundle','META_EXTENSION','defineProperty','reduce','error','Settings','160KGoVkl','isSFDXProject','7008urIWLX','apply','../utils/xml','path','filter','test','paths','../data/settings-types-list','map','../utils/crc32','dir'];a150_0xcd99=function(){return _0x9d9e87;};return a150_0xcd99();}