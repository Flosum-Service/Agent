const a115_0x59ee4f=a115_0x1177;(function(_0xa56072,_0x148621){const _0x561b22=a115_0x1177,_0x434b56=_0xa56072();while(!![]){try{const _0x2524a8=-parseInt(_0x561b22(0x137))/0x1+parseInt(_0x561b22(0x16f))/0x2*(-parseInt(_0x561b22(0x153))/0x3)+parseInt(_0x561b22(0x136))/0x4*(-parseInt(_0x561b22(0x13e))/0x5)+parseInt(_0x561b22(0x163))/0x6*(-parseInt(_0x561b22(0x169))/0x7)+parseInt(_0x561b22(0x14e))/0x8+parseInt(_0x561b22(0x141))/0x9+parseInt(_0x561b22(0x165))/0xa;if(_0x2524a8===_0x148621)break;else _0x434b56['push'](_0x434b56['shift']());}catch(_0x4dcef6){_0x434b56['push'](_0x434b56['shift']());}}}(a115_0x26bb,0xf2156));const a115_0x1f7816=(function(){let _0x140513=!![];return function(_0x475fd5,_0x4d3ccd){const _0x135ed6=_0x140513?function(){const _0x2ad6ad=a115_0x1177;if(_0x4d3ccd){const _0x76b100=_0x4d3ccd[_0x2ad6ad(0x161)](_0x475fd5,arguments);return _0x4d3ccd=null,_0x76b100;}}:function(){};return _0x140513=![],_0x135ed6;};}()),a115_0x18528c=a115_0x1f7816(this,function(){const _0x4ac2f4=a115_0x1177;return a115_0x18528c['toString']()[_0x4ac2f4(0x175)](_0x4ac2f4(0x157))['toString']()[_0x4ac2f4(0x173)](a115_0x18528c)['search'](_0x4ac2f4(0x157));});function a115_0x26bb(){const _0x1052f4=['../utils/xml','split','default','readChildComponents','extractComponentTypeFromFiles','1520lOGEsd','458258zOvaSv','toString','startsWith','../utils/crc32','../data/child-types-map','MDApiParser','readFile','20185UlQkuS','../../internal/fs.internal','name','11408841QPffxY','experiences','readDir','logger','relative','Logger','parse','endsWith','package.xml','isSFDXProject','isDir','dir','test','8718776bywozy','defineProperty','extractFilenameFromPath','../../../../core','exists','1151817RdgRni','readBundledFiles','isParentComponent','waveTemplates','(((.+)+)+)+$','includes','__importDefault','META_EXPERIENCES_EXTENSION','values','__esModule','paths','createChildComponentsFromParent','reduce','../utils','apply','utf-8','624180qvgfNJ','extname','27541510grjyKN','META_EXTENSION','readComponentFiles','join','14fVjyEx','-meta.xml','type','error','path','Xml','10IaXldW','CustomLabels','BUNDLED_FOLDERS_REGEXP','catch','constructor','files','search','.site-meta.xml','WaveTemplateBundle','all','isPathsEquals','Cannot\x20parse\x20childs\x20in\x20','push','../data/folder-types'];a115_0x26bb=function(){return _0x1052f4;};return a115_0x26bb();}a115_0x18528c();function a115_0x1177(_0x54c54e,_0x2c3be1){const _0x21e5af=a115_0x26bb();return a115_0x1177=function(_0x18528c,_0x1f7816){_0x18528c=_0x18528c-0x12d;let _0x26bbc8=_0x21e5af[_0x18528c];return _0x26bbc8;},a115_0x1177(_0x54c54e,_0x2c3be1);}'use strict';var __importDefault=this&&this[a115_0x59ee4f(0x159)]||function(_0x1e157c){const _0xa71400=a115_0x59ee4f;return _0x1e157c&&_0x1e157c[_0xa71400(0x15c)]?_0x1e157c:{'default':_0x1e157c};};Object[a115_0x59ee4f(0x14f)](exports,'__esModule',{'value':!![]}),exports[a115_0x59ee4f(0x13c)]=void 0x0;const fs_internal_1=require(a115_0x59ee4f(0x13f)),utils_1=require(a115_0x59ee4f(0x160)),path_1=require(a115_0x59ee4f(0x16d)),xml_1=require(a115_0x59ee4f(0x131)),child_types_map_1=__importDefault(require(a115_0x59ee4f(0x13b))),constants_1=require('../../../../constants'),core_1=require(a115_0x59ee4f(0x151)),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a115_0x59ee4f(0x13a)),folder_types_1=__importDefault(require(a115_0x59ee4f(0x130))),CHILD_XML_KEYS=Object[a115_0x59ee4f(0x15b)](child_types_map_1[a115_0x59ee4f(0x133)]);class MDApiParser{constructor(_0x32248c,_0x1bb5b7,_0x2fa305){const _0x5a5301=a115_0x59ee4f;this[_0x5a5301(0x14c)]=_0x32248c,this[_0x5a5301(0x14a)]=_0x2fa305,this['logger']=new core_1[(_0x5a5301(0x146))](MDApiParser[_0x5a5301(0x140)]),this['META_EXTENSION']=_0x5a5301(0x16a),this['META_EXPERIENCES_EXTENSION']=_0x5a5301(0x176),this[_0x5a5301(0x15d)]=_0x1bb5b7;}async['readChildComponents'](_0x35c131){const _0x9c424f=a115_0x59ee4f;try{const _0x1be27a=await xml_1[_0x9c424f(0x16e)]['parse'](Object[_0x9c424f(0x15b)](_0x35c131[_0x9c424f(0x174)])[0x0][_0x9c424f(0x138)](_0x9c424f(0x162))),_0x479ae6=CHILD_XML_KEYS['filter'](_0x9c83d8=>xml_1['Xml']['hasChildNodes'](_0x1be27a,_0x9c83d8))[_0x9c424f(0x15f)]((_0x818936,_0x39c144)=>[..._0x818936,...xml_1[_0x9c424f(0x16e)]['getChildsByName'](_0x1be27a,_0x39c144)],[]);return(0x0,utils_1[_0x9c424f(0x15e)])(_0x35c131,_0x1be27a,_0x479ae6);}catch(_0x1fb4bc){throw new Error(_0x9c424f(0x12e)+_0x35c131[_0x9c424f(0x140)]+'\x20['+_0x35c131['type']+']');}}async[a115_0x59ee4f(0x154)](_0x144591){const _0x1eaf16=a115_0x59ee4f,_0x1502b8=(0x0,path_1['join'])(this[_0x1eaf16(0x14c)],_0x144591),_0x518465=_0x144591+(_0x144591['startsWith'](_0x1eaf16(0x142))?this[_0x1eaf16(0x15a)]:this[_0x1eaf16(0x166)]),_0x42832d=await fs_internal_1['FS'][_0x1eaf16(0x143)](_0x1502b8,!![]),_0x19fefe=await fs_internal_1['FS'][_0x1eaf16(0x13d)]((0x0,path_1[_0x1eaf16(0x168)])(this[_0x1eaf16(0x14c)],_0x518465),!![])[_0x1eaf16(0x172)](()=>null),_0x2be0a4={};for(const _0x8a886c of _0x42832d){_0x2be0a4[(0x0,path_1[_0x1eaf16(0x145)])(this[_0x1eaf16(0x14c)],_0x8a886c)]=await fs_internal_1['FS'][_0x1eaf16(0x13d)](_0x8a886c,!![]);}return _0x19fefe&&(_0x2be0a4[(0x0,path_1['relative'])(this[_0x1eaf16(0x14c)],_0x518465)]=_0x19fefe),_0x2be0a4;}async[a115_0x59ee4f(0x167)](_0x97f0b4){const _0x286f95=a115_0x59ee4f;let _0x378abc=_0x97f0b4+this['META_EXTENSION'];if(constants_1[_0x286f95(0x171)][_0x286f95(0x14d)](_0x97f0b4))return this[_0x286f95(0x154)](_0x97f0b4);if(await fs_internal_1['FS'][_0x286f95(0x14b)]((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x97f0b4))||await fs_internal_1['FS'][_0x286f95(0x152)]((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x378abc))){const _0x2f10c0=await fs_internal_1['FS'][_0x286f95(0x13d)]((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x378abc),!![]),_0x4605e6=await(0x0,utils_1[_0x286f95(0x135)])({'files':{[_0x378abc]:_0x2f10c0}})['catch'](()=>null);if(_0x4605e6&&folder_types_1[_0x286f95(0x133)][_0x286f95(0x158)](_0x4605e6))return{[_0x378abc]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0x378abc),!![])};}if(!(0x0,path_1[_0x286f95(0x164)])(_0x97f0b4)&&this[_0x286f95(0x14a)]){const _0x4efdcc=_0x97f0b4[_0x286f95(0x132)]('/')[0x0],_0x35943d=(await fs_internal_1['FS'][_0x286f95(0x143)]((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x4efdcc)))['find'](_0x468732=>(0x0,git_commit_utils_1[_0x286f95(0x12d)])(_0x468732,(0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x97f0b4)));if(!_0x35943d)throw new Error('Component\x20\x22'+_0x97f0b4+'\x22\x20not\x20found\x20in\x20\x22'+_0x4efdcc+'\x22');_0x97f0b4=(0x0,path_1[_0x286f95(0x145)])(this[_0x286f95(0x14c)],_0x35943d),_0x378abc=_0x97f0b4+this['META_EXTENSION'];}const [_0x1ca037,_0x5bb77f]=await Promise[_0x286f95(0x178)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x97f0b4),!![])['catch'](()=>null),fs_internal_1['FS'][_0x286f95(0x13d)]((0x0,path_1[_0x286f95(0x168)])(this[_0x286f95(0x14c)],_0x378abc),!![])[_0x286f95(0x172)](()=>null)]);return{..._0x1ca037?{[_0x97f0b4]:_0x1ca037}:{},..._0x5bb77f?{[_0x378abc]:_0x5bb77f}:{}};}async['init'](){const _0x14ffcc=a115_0x59ee4f,_0x1dcfdd=[...this[_0x14ffcc(0x15d)]];if(this[_0x14ffcc(0x14a)])for(const _0xc4ff4 of _0x1dcfdd){if(constants_1[_0x14ffcc(0x171)][_0x14ffcc(0x14d)](_0xc4ff4))continue;if(await fs_internal_1['FS'][_0x14ffcc(0x14b)]((0x0,path_1['join'])(this['dir'],_0xc4ff4))){const _0x4068c=await fs_internal_1['FS'][_0x14ffcc(0x143)]((0x0,path_1[_0x14ffcc(0x168)])(this['dir'],_0xc4ff4),!![]);_0x1dcfdd[_0x14ffcc(0x12f)](..._0x4068c['map'](_0xc470a5=>(0x0,path_1[_0x14ffcc(0x145)])(this[_0x14ffcc(0x14c)],_0xc470a5)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x1dcfdd);}async[a115_0x59ee4f(0x147)](){const _0x8e3ef5=a115_0x59ee4f;await this['init']();const _0x47d26d=[];for(const _0x3f38ce of this[_0x8e3ef5(0x15d)]){if(_0x3f38ce[_0x8e3ef5(0x148)](_0x8e3ef5(0x149)))continue;const _0x14c40a={};try{_0x14c40a['files']=await this[_0x8e3ef5(0x167)](_0x3f38ce),_0x14c40a['filePath']=constants_1[_0x8e3ef5(0x171)][_0x8e3ef5(0x14d)](_0x3f38ce)?_0x3f38ce:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x14c40a['files']}),_0x3f38ce[_0x8e3ef5(0x139)](_0x8e3ef5(0x156))?_0x14c40a[_0x8e3ef5(0x16b)]=_0x8e3ef5(0x177):_0x14c40a[_0x8e3ef5(0x16b)]=await(0x0,utils_1[_0x8e3ef5(0x135)])({'files':_0x14c40a[_0x8e3ef5(0x174)]});}catch(_0x17af95){this[_0x8e3ef5(0x144)][_0x8e3ef5(0x16c)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x3f38ce,_0x17af95);continue;}_0x14c40a[_0x8e3ef5(0x140)]=(0x0,utils_1[_0x8e3ef5(0x150)])(_0x3f38ce),_0x14c40a['crc']=(0x0,crc32_1['calculateCRC32'])(_0x14c40a);if((0x0,utils_1[_0x8e3ef5(0x155)])(_0x14c40a)){const _0x512501=await this[_0x8e3ef5(0x134)](_0x14c40a);_0x47d26d[_0x8e3ef5(0x12f)](..._0x512501);}if(_0x14c40a['type']===_0x8e3ef5(0x170))continue;_0x47d26d[_0x8e3ef5(0x12f)](_0x14c40a);}return _0x47d26d;}}exports[a115_0x59ee4f(0x13c)]=MDApiParser;