const a146_0x263859=a146_0x456c;(function(_0xa10356,_0x5e0d23){const _0x128658=a146_0x456c,_0x49dc86=_0xa10356();while(!![]){try{const _0x2229cf=parseInt(_0x128658(0x1d3))/0x1+parseInt(_0x128658(0x1af))/0x2*(parseInt(_0x128658(0x1b2))/0x3)+parseInt(_0x128658(0x1bb))/0x4+-parseInt(_0x128658(0x1cf))/0x5+-parseInt(_0x128658(0x1c0))/0x6*(parseInt(_0x128658(0x1e9))/0x7)+parseInt(_0x128658(0x1ac))/0x8+parseInt(_0x128658(0x1c2))/0x9;if(_0x2229cf===_0x5e0d23)break;else _0x49dc86['push'](_0x49dc86['shift']());}catch(_0x17affe){_0x49dc86['push'](_0x49dc86['shift']());}}}(a146_0x2d4d,0x4874a));const a146_0x528eaa=(function(){let _0x360295=!![];return function(_0x2796eb,_0x4b885c){const _0x1852d7=_0x360295?function(){if(_0x4b885c){const _0x91fa51=_0x4b885c['apply'](_0x2796eb,arguments);return _0x4b885c=null,_0x91fa51;}}:function(){};return _0x360295=![],_0x1852d7;};}()),a146_0x26717b=a146_0x528eaa(this,function(){const _0x38b05b=a146_0x456c;return a146_0x26717b['toString']()[_0x38b05b(0x1ea)](_0x38b05b(0x1d1))[_0x38b05b(0x1cb)]()[_0x38b05b(0x1d2)](a146_0x26717b)[_0x38b05b(0x1ea)](_0x38b05b(0x1d1));});function a146_0x456c(_0x57fff5,_0x3834f7){const _0x5c2ba3=a146_0x2d4d();return a146_0x456c=function(_0x26717b,_0x528eaa){_0x26717b=_0x26717b-0x1a5;let _0x2d4d04=_0x5c2ba3[_0x26717b];return _0x2d4d04;},a146_0x456c(_0x57fff5,_0x3834f7);}a146_0x26717b();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xfc9a1e){const _0x48206b=a146_0x456c;return _0xfc9a1e&&_0xfc9a1e[_0x48206b(0x1b9)]?_0xfc9a1e:{'default':_0xfc9a1e};};function a146_0x2d4d(){const _0x39bf70=['extractFilenameFromPath','readDir','.site-meta.xml','relative','all','catch','values','../../devops/utils/git-commit.utils','\x22\x20not\x20found\x20in\x20\x22','utf-8','isParentComponent','logger','isDir','../data/folder-types','filePath','readComponentFiles','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../../../../constants','crc','package.xml','238eDDgzg','search','Xml','Cannot\x20parse\x20childs\x20in\x20','WaveTemplateBundle','calculateCRC32','META_EXPERIENCES_EXTENSION','map','startsWith','files','Logger','hasChildNodes','-meta.xml','BUNDLED_FOLDERS_REGEXP','find','../data/child-types-map','filter','dir','../utils/xml','2965432eoGfQF','CustomLabels','../../internal/fs.internal','1102DTEdsa','reduce','split','1203nSfPBX','path','test','Settings','extname','paths','readBundledFiles','__esModule','convertToCleanPaths','405936WpQhlV','push','waveTemplates','name','isSFDXProject','15384DXDqBT','readFile','149976WHkFWK','default','join','Component\x20\x22','createChildComponentsFromParent','extractComponentTypeFromFiles','init','defineProperty','MDApiParser','toString','META_EXTENSION','parse','endsWith','2679340MqdLre','type','(((.+)+)+)+$','constructor','210044TRSFGs','error'];a146_0x2d4d=function(){return _0x39bf70;};return a146_0x2d4d();}Object[a146_0x263859(0x1c9)](exports,a146_0x263859(0x1b9),{'value':!![]}),exports[a146_0x263859(0x1ca)]=void 0x0;const fs_internal_1=require(a146_0x263859(0x1ae)),utils_1=require('../utils'),path_1=require(a146_0x263859(0x1b3)),xml_1=require(a146_0x263859(0x1ab)),child_types_map_1=__importDefault(require(a146_0x263859(0x1a8))),constants_1=require(a146_0x263859(0x1e6)),core_1=require('../../../../core'),git_commit_utils_1=require(a146_0x263859(0x1dc)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x263859(0x1e2))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object[a146_0x263859(0x1db)](child_types_map_1['default']);class MDApiParser{constructor(_0x499bbf,_0x338c0b,_0x16bbda){const _0x55010b=a146_0x263859;this[_0x55010b(0x1aa)]=_0x499bbf,this[_0x55010b(0x1bf)]=_0x16bbda,this['logger']=new core_1[(_0x55010b(0x1f3))](MDApiParser[_0x55010b(0x1be)]),this[_0x55010b(0x1cc)]=_0x55010b(0x1a5),this['META_EXPERIENCES_EXTENSION']=_0x55010b(0x1d7),this['paths']=_0x338c0b;}async['readChildComponents'](_0x210227){const _0x152855=a146_0x263859;try{const _0x44d5b2=await xml_1[_0x152855(0x1eb)][_0x152855(0x1cd)](Object[_0x152855(0x1db)](_0x210227[_0x152855(0x1f2)])[0x0]['toString'](_0x152855(0x1de))),_0x5d605c=CHILD_XML_KEYS[_0x152855(0x1a9)](_0x350db1=>xml_1[_0x152855(0x1eb)][_0x152855(0x1f4)](_0x44d5b2,_0x350db1))[_0x152855(0x1b0)]((_0x5c0e93,_0x43ba77)=>[..._0x5c0e93,...xml_1[_0x152855(0x1eb)]['getChildsByName'](_0x44d5b2,_0x43ba77)],[]);return(0x0,utils_1[_0x152855(0x1c6)])(_0x210227,_0x44d5b2,_0x5d605c);}catch(_0x181b82){throw new Error(_0x152855(0x1ec)+_0x210227['name']+'\x20['+_0x210227[_0x152855(0x1d0)]+']');}}async[a146_0x263859(0x1b8)](_0x3642bf){const _0x2b36d3=a146_0x263859,_0xe17985=(0x0,path_1[_0x2b36d3(0x1c4)])(this['dir'],_0x3642bf),_0x2dfc0b=_0x3642bf+(_0x3642bf['startsWith']('experiences')?this[_0x2b36d3(0x1ef)]:this[_0x2b36d3(0x1cc)]),_0x4e4d0f=await fs_internal_1['FS']['readDir'](_0xe17985,!![]),_0x56aa1d=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x2b36d3(0x1c4)])(this['dir'],_0x2dfc0b),!![])['catch'](()=>null),_0x8c962b={};for(const _0x23969d of _0x4e4d0f){_0x8c962b[(0x0,path_1['relative'])(this['dir'],_0x23969d)]=await fs_internal_1['FS'][_0x2b36d3(0x1c1)](_0x23969d,!![]);}return _0x56aa1d&&(_0x8c962b[(0x0,path_1['relative'])(this[_0x2b36d3(0x1aa)],_0x2dfc0b)]=_0x56aa1d),_0x8c962b;}async[a146_0x263859(0x1e4)](_0x303a35){const _0x5318bb=a146_0x263859;let _0xcc8e8d=_0x303a35+this[_0x5318bb(0x1cc)];if(constants_1[_0x5318bb(0x1a6)][_0x5318bb(0x1b4)](_0x303a35))return this[_0x5318bb(0x1b8)](_0x303a35);if(await fs_internal_1['FS'][_0x5318bb(0x1e1)]((0x0,path_1[_0x5318bb(0x1c4)])(this[_0x5318bb(0x1aa)],_0x303a35))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x5318bb(0x1c4)])(this[_0x5318bb(0x1aa)],_0xcc8e8d))){const _0x25b836=await fs_internal_1['FS'][_0x5318bb(0x1c1)]((0x0,path_1['join'])(this['dir'],_0xcc8e8d),!![]),_0xbcf5d3=await(0x0,utils_1[_0x5318bb(0x1c7)])({'files':{[_0xcc8e8d]:_0x25b836}})[_0x5318bb(0x1da)](()=>null);if(_0xbcf5d3&&folder_types_1[_0x5318bb(0x1c3)]['includes'](_0xbcf5d3))return{[_0xcc8e8d]:await fs_internal_1['FS'][_0x5318bb(0x1c1)]((0x0,path_1[_0x5318bb(0x1c4)])(this[_0x5318bb(0x1aa)],_0xcc8e8d),!![])};}if(!(0x0,path_1[_0x5318bb(0x1b6)])(_0x303a35)&&this['isSFDXProject']){const _0x2d031f=_0x303a35[_0x5318bb(0x1b1)]('/')[0x0],_0x333b2d=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x5318bb(0x1aa)],_0x2d031f)))[_0x5318bb(0x1a7)](_0x4abd86=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x4abd86,(0x0,path_1['join'])(this[_0x5318bb(0x1aa)],_0x303a35)));if(!_0x333b2d)throw new Error(_0x5318bb(0x1c5)+_0x303a35+_0x5318bb(0x1dd)+_0x2d031f+'\x22');_0x303a35=(0x0,path_1[_0x5318bb(0x1d8)])(this['dir'],_0x333b2d),_0xcc8e8d=_0x303a35+this[_0x5318bb(0x1cc)];}const [_0x5affc5,_0x5377ec]=await Promise[_0x5318bb(0x1d9)]([fs_internal_1['FS'][_0x5318bb(0x1c1)]((0x0,path_1['join'])(this['dir'],_0x303a35),!![])[_0x5318bb(0x1da)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x5318bb(0x1c4)])(this[_0x5318bb(0x1aa)],_0xcc8e8d),!![])[_0x5318bb(0x1da)](()=>null)]);return{..._0x5affc5?{[_0x303a35]:_0x5affc5}:{},..._0x5377ec?{[_0xcc8e8d]:_0x5377ec}:{}};}async[a146_0x263859(0x1c8)](){const _0x11aa8d=a146_0x263859,_0xd1b2d3=[...this[_0x11aa8d(0x1b7)]];if(this[_0x11aa8d(0x1bf)])for(const _0x29af84 of _0xd1b2d3){if(constants_1[_0x11aa8d(0x1a6)][_0x11aa8d(0x1b4)](_0x29af84))continue;if(await fs_internal_1['FS'][_0x11aa8d(0x1e1)]((0x0,path_1[_0x11aa8d(0x1c4)])(this['dir'],_0x29af84))){const _0x8c6d09=await fs_internal_1['FS'][_0x11aa8d(0x1d6)]((0x0,path_1[_0x11aa8d(0x1c4)])(this[_0x11aa8d(0x1aa)],_0x29af84),!![]);_0xd1b2d3['push'](..._0x8c6d09[_0x11aa8d(0x1f0)](_0x330599=>(0x0,path_1['relative'])(this[_0x11aa8d(0x1aa)],_0x330599)));}}this[_0x11aa8d(0x1b7)]=(0x0,utils_1[_0x11aa8d(0x1ba)])(_0xd1b2d3);}async['parse'](){const _0x12906f=a146_0x263859;await this[_0x12906f(0x1c8)]();const _0x167989=[];for(const _0x390619 of this[_0x12906f(0x1b7)]){if(_0x390619[_0x12906f(0x1ce)](_0x12906f(0x1e8)))continue;const _0x23134b={};try{_0x23134b[_0x12906f(0x1f2)]=await this[_0x12906f(0x1e4)](_0x390619),_0x23134b[_0x12906f(0x1e3)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x12906f(0x1b4)](_0x390619)?_0x390619:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x23134b[_0x12906f(0x1f2)]}),_0x390619[_0x12906f(0x1f1)](_0x12906f(0x1bd))?_0x23134b['type']=_0x12906f(0x1ed):_0x23134b[_0x12906f(0x1d0)]=await(0x0,utils_1[_0x12906f(0x1c7)])({'files':_0x23134b['files']});}catch(_0x17278a){this[_0x12906f(0x1e0)][_0x12906f(0x1d4)](_0x12906f(0x1e5),_0x390619,_0x17278a);continue;}_0x23134b[_0x12906f(0x1be)]=(0x0,utils_1[_0x12906f(0x1d5)])(_0x390619),_0x23134b[_0x12906f(0x1e7)]=(0x0,crc32_1[_0x12906f(0x1ee)])(_0x23134b);if((0x0,utils_1[_0x12906f(0x1df)])(_0x23134b)){const _0x2a62f3=await this['readChildComponents'](_0x23134b);_0x167989[_0x12906f(0x1bc)](..._0x2a62f3);}if(_0x23134b['type']===_0x12906f(0x1ad))continue;settings_types_list_1['default']['includes'](_0x23134b['type'])&&(_0x23134b[_0x12906f(0x1d0)]=_0x12906f(0x1b5)),_0x167989[_0x12906f(0x1bc)](_0x23134b);}return _0x167989;}}exports[a146_0x263859(0x1ca)]=MDApiParser;