const a146_0x1b9879=a146_0x3e62;function a146_0xe566(){const _0x4463e8=['isDir','isParentComponent','../../../../constants','1544970cAsmXv','map','../data/folder-types','error','join','278165TWxsyp','calculateCRC32','parse','files','extractFileNameFromFiles','Xml','../utils','MDApiParser','constructor','extractFilenameFromPath','hasChildNodes','defineProperty','type','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','filePath','Logger','../../internal/fs.internal','find','values','readBundledFiles','dir','__importDefault','../data/settings-types-list','readDir','1kOOJZK','startsWith','split','-meta.xml','META_EXPERIENCES_EXTENSION','exists','readChildComponents','../../devops/utils/git-commit.utils','crc','../utils/xml','path','extractComponentTypeFromFiles','paths','WaveTemplateBundle','includes','readFile','(((.+)+)+)+$','init','catch','endsWith','7844184axuxHi','META_EXTENSION','search','reduce','2901411vrTnEn','404626eEoYXW','getChildsByName','__esModule','utf-8','apply','15755410mReBBl','logger','Settings','.site-meta.xml','package.xml','default','56lDRUzM','push','toString','isSFDXProject','relative','CustomLabels','filter','test','16282aiCvhn','552BCQZAv','waveTemplates','createChildComponentsFromParent','name'];a146_0xe566=function(){return _0x4463e8;};return a146_0xe566();}(function(_0x5366b4,_0x316e29){const _0x73613a=a146_0x3e62,_0x404d54=_0x5366b4();while(!![]){try{const _0x47be76=-parseInt(_0x73613a(0xcb))/0x1*(parseInt(_0x73613a(0x93))/0x2)+-parseInt(_0x73613a(0xae))/0x3+-parseInt(_0x73613a(0x9e))/0x4*(-parseInt(_0x73613a(0xb3))/0x5)+-parseInt(_0x73613a(0xa7))/0x6*(-parseInt(_0x73613a(0xa6))/0x7)+-parseInt(_0x73613a(0x8e))/0x8+-parseInt(_0x73613a(0x92))/0x9+parseInt(_0x73613a(0x98))/0xa;if(_0x47be76===_0x316e29)break;else _0x404d54['push'](_0x404d54['shift']());}catch(_0x5973bd){_0x404d54['push'](_0x404d54['shift']());}}}(a146_0xe566,0x85d5e));const a146_0x5da55e=(function(){let _0x46379d=!![];return function(_0x237635,_0x53b518){const _0x5b4309=_0x46379d?function(){const _0x361376=a146_0x3e62;if(_0x53b518){const _0x33537a=_0x53b518[_0x361376(0x97)](_0x237635,arguments);return _0x53b518=null,_0x33537a;}}:function(){};return _0x46379d=![],_0x5b4309;};}()),a146_0x44c461=a146_0x5da55e(this,function(){const _0x3f6907=a146_0x3e62;return a146_0x44c461[_0x3f6907(0xa0)]()[_0x3f6907(0x90)]('(((.+)+)+)+$')['toString']()[_0x3f6907(0xbb)](a146_0x44c461)['search'](_0x3f6907(0x8a));});a146_0x44c461();function a146_0x3e62(_0x368ae2,_0x590910){const _0x3ca389=a146_0xe566();return a146_0x3e62=function(_0x44c461,_0x5da55e){_0x44c461=_0x44c461-0x81;let _0xe56698=_0x3ca389[_0x44c461];return _0xe56698;},a146_0x3e62(_0x368ae2,_0x590910);}'use strict';var __importDefault=this&&this[a146_0x1b9879(0xc8)]||function(_0x4e8309){const _0x97c4db=a146_0x1b9879;return _0x4e8309&&_0x4e8309[_0x97c4db(0x95)]?_0x4e8309:{'default':_0x4e8309};};Object[a146_0x1b9879(0xbe)](exports,a146_0x1b9879(0x95),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a146_0x1b9879(0xc3)),utils_1=require(a146_0x1b9879(0xb9)),path_1=require(a146_0x1b9879(0x84)),xml_1=require(a146_0x1b9879(0x83)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a146_0x1b9879(0xad)),core_1=require('../../../../core'),git_commit_utils_1=require(a146_0x1b9879(0x81)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x1b9879(0xb0))),settings_types_list_1=__importDefault(require(a146_0x1b9879(0xc9))),CHILD_XML_KEYS=Object[a146_0x1b9879(0xc5)](child_types_map_1[a146_0x1b9879(0x9d)]);class MDApiParser{constructor(_0x754a4f,_0x5c81e9,_0x2af94a){const _0x29d87e=a146_0x1b9879;this[_0x29d87e(0xc7)]=_0x754a4f,this[_0x29d87e(0xa1)]=_0x2af94a,this[_0x29d87e(0x99)]=new core_1[(_0x29d87e(0xc2))](MDApiParser[_0x29d87e(0xaa)]),this[_0x29d87e(0x8f)]=_0x29d87e(0xce),this['META_EXPERIENCES_EXTENSION']=_0x29d87e(0x9b),this[_0x29d87e(0x86)]=_0x5c81e9;}async[a146_0x1b9879(0xd1)](_0xe23ea0){const _0x58d92b=a146_0x1b9879;try{const _0x9cd890=await xml_1['Xml'][_0x58d92b(0xb5)](Object['values'](_0xe23ea0['files'])[0x0][_0x58d92b(0xa0)](_0x58d92b(0x96))),_0x545594=CHILD_XML_KEYS[_0x58d92b(0xa4)](_0x1434f9=>xml_1[_0x58d92b(0xb8)][_0x58d92b(0xbd)](_0x9cd890,_0x1434f9))[_0x58d92b(0x91)]((_0x43545d,_0x1ef3e8)=>[..._0x43545d,...xml_1[_0x58d92b(0xb8)][_0x58d92b(0x94)](_0x9cd890,_0x1ef3e8)],[]);return(0x0,utils_1[_0x58d92b(0xa9)])(_0xe23ea0,_0x9cd890,_0x545594);}catch(_0x58c20e){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0xe23ea0[_0x58d92b(0xaa)]+'\x20['+_0xe23ea0[_0x58d92b(0xbf)]+']');}}async[a146_0x1b9879(0xc6)](_0x49a4b9){const _0xed2a5b=a146_0x1b9879,_0x4c585d=(0x0,path_1['join'])(this['dir'],_0x49a4b9),_0x3a4a5c=_0x49a4b9+(_0x49a4b9[_0xed2a5b(0xcc)]('experiences')?this[_0xed2a5b(0xcf)]:this[_0xed2a5b(0x8f)]),_0x4995a1=await fs_internal_1['FS'][_0xed2a5b(0xca)](_0x4c585d,!![]),_0x136980=await fs_internal_1['FS'][_0xed2a5b(0x89)]((0x0,path_1[_0xed2a5b(0xb2)])(this[_0xed2a5b(0xc7)],_0x3a4a5c),!![])['catch'](()=>null),_0x40c122={};for(const _0x1ccfbb of _0x4995a1){_0x40c122[(0x0,path_1[_0xed2a5b(0xa2)])(this[_0xed2a5b(0xc7)],_0x1ccfbb)]=await fs_internal_1['FS'][_0xed2a5b(0x89)](_0x1ccfbb,!![]);}return _0x136980&&(_0x40c122[(0x0,path_1['relative'])(this[_0xed2a5b(0xc7)],_0x3a4a5c)]=_0x136980),_0x40c122;}async['readComponentFiles'](_0x311f43){const _0x261dbb=a146_0x1b9879;let _0x2ef6d4=_0x311f43+this[_0x261dbb(0x8f)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x261dbb(0xa5)](_0x311f43))return this[_0x261dbb(0xc6)](_0x311f43);if(await fs_internal_1['FS'][_0x261dbb(0xab)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x311f43))||await fs_internal_1['FS'][_0x261dbb(0xd0)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x2ef6d4))){const _0xa0be5d=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x261dbb(0xc7)],_0x2ef6d4),!![]),_0x2dee44=await(0x0,utils_1[_0x261dbb(0x85)])({'files':{[_0x2ef6d4]:_0xa0be5d}})['catch'](()=>null);if(_0x2dee44&&folder_types_1[_0x261dbb(0x9d)][_0x261dbb(0x88)](_0x2dee44))return{[_0x2ef6d4]:await fs_internal_1['FS'][_0x261dbb(0x89)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x2ef6d4),!![])};}if(!(0x0,path_1['extname'])(_0x311f43)&&this[_0x261dbb(0xa1)]){const _0x18a51d=_0x311f43[_0x261dbb(0xcd)]('/')[0x0],_0x35f28a=(await fs_internal_1['FS'][_0x261dbb(0xca)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x18a51d)))[_0x261dbb(0xc4)](_0x37e6a2=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x37e6a2,(0x0,path_1['join'])(this[_0x261dbb(0xc7)],_0x311f43)));if(!_0x35f28a)throw new Error('Component\x20\x22'+_0x311f43+'\x22\x20not\x20found\x20in\x20\x22'+_0x18a51d+'\x22');_0x311f43=(0x0,path_1['relative'])(this[_0x261dbb(0xc7)],_0x35f28a),_0x2ef6d4=_0x311f43+this[_0x261dbb(0x8f)];}const [_0x3b7847,_0x3aa839]=await Promise['all']([fs_internal_1['FS'][_0x261dbb(0x89)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x311f43),!![])['catch'](()=>null),fs_internal_1['FS'][_0x261dbb(0x89)]((0x0,path_1[_0x261dbb(0xb2)])(this[_0x261dbb(0xc7)],_0x2ef6d4),!![])[_0x261dbb(0x8c)](()=>null)]);return{..._0x3b7847?{[_0x311f43]:_0x3b7847}:{},..._0x3aa839?{[_0x2ef6d4]:_0x3aa839}:{}};}async[a146_0x1b9879(0x8b)](){const _0x4f8bbb=a146_0x1b9879,_0x30a0ac=[...this[_0x4f8bbb(0x86)]];if(this[_0x4f8bbb(0xa1)])for(const _0x3defe3 of _0x30a0ac){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x4f8bbb(0xa5)](_0x3defe3))continue;if(await fs_internal_1['FS'][_0x4f8bbb(0xab)]((0x0,path_1[_0x4f8bbb(0xb2)])(this['dir'],_0x3defe3))){const _0x27d679=await fs_internal_1['FS'][_0x4f8bbb(0xca)]((0x0,path_1[_0x4f8bbb(0xb2)])(this[_0x4f8bbb(0xc7)],_0x3defe3),!![]);_0x30a0ac[_0x4f8bbb(0x9f)](..._0x27d679[_0x4f8bbb(0xaf)](_0x44b97f=>(0x0,path_1['relative'])(this[_0x4f8bbb(0xc7)],_0x44b97f)));}}this[_0x4f8bbb(0x86)]=(0x0,utils_1['convertToCleanPaths'])(_0x30a0ac);}async[a146_0x1b9879(0xb5)](){const _0x40677e=a146_0x1b9879;await this['init']();const _0xffefc=[];for(const _0x454749 of this[_0x40677e(0x86)]){if(_0x454749[_0x40677e(0x8d)](_0x40677e(0x9c)))continue;const _0x49ff7d={};try{_0x49ff7d[_0x40677e(0xb6)]=await this['readComponentFiles'](_0x454749),_0x49ff7d[_0x40677e(0xc1)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x40677e(0xa5)](_0x454749)?_0x454749:(0x0,utils_1[_0x40677e(0xb7)])({'files':_0x49ff7d[_0x40677e(0xb6)]}),_0x454749[_0x40677e(0xcc)](_0x40677e(0xa8))?_0x49ff7d[_0x40677e(0xbf)]=_0x40677e(0x87):_0x49ff7d[_0x40677e(0xbf)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x49ff7d['files']});}catch(_0x39b135){this[_0x40677e(0x99)][_0x40677e(0xb1)](_0x40677e(0xc0),_0x454749,_0x39b135);continue;}_0x49ff7d[_0x40677e(0xaa)]=(0x0,utils_1[_0x40677e(0xbc)])(_0x454749),_0x49ff7d[_0x40677e(0x82)]=(0x0,crc32_1[_0x40677e(0xb4)])(_0x49ff7d);if((0x0,utils_1[_0x40677e(0xac)])(_0x49ff7d)){const _0x9f7f40=await this[_0x40677e(0xd1)](_0x49ff7d);_0xffefc[_0x40677e(0x9f)](..._0x9f7f40);}if(_0x49ff7d[_0x40677e(0xbf)]===_0x40677e(0xa3))continue;settings_types_list_1['default'][_0x40677e(0x88)](_0x49ff7d['type'])&&(_0x49ff7d['type']=_0x40677e(0x9a)),_0xffefc[_0x40677e(0x9f)](_0x49ff7d);}return _0xffefc;}}exports[a146_0x1b9879(0xba)]=MDApiParser;