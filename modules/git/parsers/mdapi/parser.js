const a102_0x1db8ea=a102_0x18ed;(function(_0x461f60,_0xf06d66){const _0x1384a9=a102_0x18ed,_0x58047d=_0x461f60();while(!![]){try{const _0x3a95fe=-parseInt(_0x1384a9(0x156))/0x1+parseInt(_0x1384a9(0x129))/0x2*(parseInt(_0x1384a9(0x13b))/0x3)+-parseInt(_0x1384a9(0x139))/0x4+-parseInt(_0x1384a9(0x119))/0x5*(parseInt(_0x1384a9(0x165))/0x6)+parseInt(_0x1384a9(0x11e))/0x7+parseInt(_0x1384a9(0x146))/0x8*(parseInt(_0x1384a9(0x140))/0x9)+parseInt(_0x1384a9(0x158))/0xa;if(_0x3a95fe===_0xf06d66)break;else _0x58047d['push'](_0x58047d['shift']());}catch(_0x447834){_0x58047d['push'](_0x58047d['shift']());}}}(a102_0x9638,0x6c030));const a102_0x329e8d=(function(){let _0x26f8e2=!![];return function(_0x544569,_0x124dca){const _0x48971c=_0x26f8e2?function(){const _0x5b842a=a102_0x18ed;if(_0x124dca){const _0x2efa1e=_0x124dca[_0x5b842a(0x12b)](_0x544569,arguments);return _0x124dca=null,_0x2efa1e;}}:function(){};return _0x26f8e2=![],_0x48971c;};}()),a102_0x52b9c4=a102_0x329e8d(this,function(){const _0x1d0c8e=a102_0x18ed;return a102_0x52b9c4[_0x1d0c8e(0x135)]()[_0x1d0c8e(0x12a)](_0x1d0c8e(0x132))[_0x1d0c8e(0x135)]()['constructor'](a102_0x52b9c4)[_0x1d0c8e(0x12a)]('(((.+)+)+)+$');});a102_0x52b9c4();'use strict';var __importDefault=this&&this[a102_0x1db8ea(0x13d)]||function(_0x352a05){return _0x352a05&&_0x352a05['__esModule']?_0x352a05:{'default':_0x352a05};};Object[a102_0x1db8ea(0x14f)](exports,a102_0x1db8ea(0x11f),{'value':!![]}),exports[a102_0x1db8ea(0x16b)]=void 0x0;function a102_0x9638(){const _0x5318bc=['isPathsEquals','join','default','493733KXHbTV','parse','2097170zHtWEP','createChildComponentsFromParent','readFile','.site-meta.xml','filter','isParentComponent','../../devops/utils/git-commit.utils','paths','push','CustomLabels','../../internal/fs.internal','startsWith','hasChildNodes','24GJiBxq','extractComponentTypeFromFiles','readChildComponents','test','META_EXTENSION','BUNDLED_FOLDERS_REGEXP','MDApiParser','262095gqYmmN','readDir','path','readBundledFiles','utf-8','4382434cuAWcI','__esModule','exists','init','error','extractFileNameFromFiles','package.xml','split','waveTemplates','Logger','isDir','2nCXIgN','search','apply','type','../utils','crc','\x22\x20not\x20found\x20in\x20\x22','readComponentFiles','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','(((.+)+)+)+$','filePath','convertToCleanPaths','toString','values','../utils/xml','dir','2399552piMwKE','extname','2268606artDtU','endsWith','__importDefault','Xml','../../../../constants','108pwAajK','map','-meta.xml','isSFDXProject','getChildsByName','../utils/crc32','102488cqGaoH','META_EXPERIENCES_EXTENSION','files','../../../../core','../data/child-types-map','relative','name','all','find','defineProperty','catch','../data/folder-types','includes'];a102_0x9638=function(){return _0x5318bc;};return a102_0x9638();}const fs_internal_1=require(a102_0x1db8ea(0x162)),utils_1=require(a102_0x1db8ea(0x12d)),path_1=require(a102_0x1db8ea(0x11b)),xml_1=require(a102_0x1db8ea(0x137)),child_types_map_1=__importDefault(require(a102_0x1db8ea(0x14a))),constants_1=require(a102_0x1db8ea(0x13f)),core_1=require(a102_0x1db8ea(0x149)),git_commit_utils_1=require(a102_0x1db8ea(0x15e)),crc32_1=require(a102_0x1db8ea(0x145)),folder_types_1=__importDefault(require(a102_0x1db8ea(0x151))),CHILD_XML_KEYS=Object[a102_0x1db8ea(0x136)](child_types_map_1[a102_0x1db8ea(0x155)]);class MDApiParser{constructor(_0x1335ed,_0xc008bb,_0x39613d){const _0x421287=a102_0x1db8ea;this['dir']=_0x1335ed,this[_0x421287(0x143)]=_0x39613d,this['logger']=new core_1[(_0x421287(0x127))](MDApiParser[_0x421287(0x14c)]),this[_0x421287(0x169)]=_0x421287(0x142),this[_0x421287(0x147)]=_0x421287(0x15b),this[_0x421287(0x15f)]=_0xc008bb;}async[a102_0x1db8ea(0x167)](_0xe895b2){const _0x3b93b7=a102_0x1db8ea;try{const _0x49f3a5=await xml_1[_0x3b93b7(0x13e)][_0x3b93b7(0x157)](Object[_0x3b93b7(0x136)](_0xe895b2[_0x3b93b7(0x148)])[0x0][_0x3b93b7(0x135)](_0x3b93b7(0x11d))),_0x34e4c0=CHILD_XML_KEYS[_0x3b93b7(0x15c)](_0x356113=>xml_1[_0x3b93b7(0x13e)][_0x3b93b7(0x164)](_0x49f3a5,_0x356113))['reduce']((_0x292eb1,_0x2f0480)=>[..._0x292eb1,...xml_1[_0x3b93b7(0x13e)][_0x3b93b7(0x144)](_0x49f3a5,_0x2f0480)],[]);return utils_1[_0x3b93b7(0x159)](_0xe895b2,_0x49f3a5,_0x34e4c0);}catch(_0x54619f){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0xe895b2[_0x3b93b7(0x14c)]+'\x20['+_0xe895b2[_0x3b93b7(0x12c)]+']');}}async[a102_0x1db8ea(0x11c)](_0xd96205){const _0x1d126a=a102_0x1db8ea,_0x36a1be=path_1[_0x1d126a(0x154)](this[_0x1d126a(0x138)],_0xd96205),_0x1f79de=_0xd96205+(_0xd96205[_0x1d126a(0x163)]('experiences')?this[_0x1d126a(0x147)]:this[_0x1d126a(0x169)]),_0x220f7d=await fs_internal_1['FS'][_0x1d126a(0x11a)](_0x36a1be,!![]),_0x598131=await fs_internal_1['FS'][_0x1d126a(0x15a)](path_1[_0x1d126a(0x154)](this['dir'],_0x1f79de),!![])['catch'](()=>null),_0x14adb3={};for(const _0x5ecfef of _0x220f7d){_0x14adb3[path_1[_0x1d126a(0x14b)](this[_0x1d126a(0x138)],_0x5ecfef)]=await fs_internal_1['FS'][_0x1d126a(0x15a)](_0x5ecfef,!![]);}return _0x598131&&(_0x14adb3[path_1['relative'](this[_0x1d126a(0x138)],_0x1f79de)]=_0x598131),_0x14adb3;}async['readComponentFiles'](_0x509170){const _0xbcbb29=a102_0x1db8ea;let _0xcfc8bd=_0x509170+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0xbcbb29(0x168)](_0x509170))return this[_0xbcbb29(0x11c)](_0x509170);if(await fs_internal_1['FS'][_0xbcbb29(0x128)](path_1[_0xbcbb29(0x154)](this['dir'],_0x509170))||await fs_internal_1['FS'][_0xbcbb29(0x120)](path_1['join'](this[_0xbcbb29(0x138)],_0xcfc8bd))){const _0x45155d=await fs_internal_1['FS'][_0xbcbb29(0x15a)](path_1[_0xbcbb29(0x154)](this[_0xbcbb29(0x138)],_0xcfc8bd),!![]),_0x4a63bb=await utils_1['extractComponentTypeFromFiles']({'files':{[_0xcfc8bd]:_0x45155d}})[_0xbcbb29(0x150)](()=>null);if(_0x4a63bb&&folder_types_1['default'][_0xbcbb29(0x152)](_0x4a63bb))return{[_0xcfc8bd]:await fs_internal_1['FS'][_0xbcbb29(0x15a)](path_1[_0xbcbb29(0x154)](this[_0xbcbb29(0x138)],_0xcfc8bd),!![])};}if(!path_1[_0xbcbb29(0x13a)](_0x509170)&&this['isSFDXProject']){const _0x20313b=_0x509170[_0xbcbb29(0x125)]('/')[0x0],_0x45fa86=(await fs_internal_1['FS'][_0xbcbb29(0x11a)](path_1[_0xbcbb29(0x154)](this['dir'],_0x20313b)))[_0xbcbb29(0x14e)](_0x1e1086=>git_commit_utils_1[_0xbcbb29(0x153)](_0x1e1086,path_1[_0xbcbb29(0x154)](this[_0xbcbb29(0x138)],_0x509170)));if(!_0x45fa86)throw new Error('Component\x20\x22'+_0x509170+_0xbcbb29(0x12f)+_0x20313b+'\x22');_0x509170=path_1['relative'](this[_0xbcbb29(0x138)],_0x45fa86),_0xcfc8bd=_0x509170+this[_0xbcbb29(0x169)];}const [_0x24ea2f,_0x3abe31]=await Promise[_0xbcbb29(0x14d)]([fs_internal_1['FS'][_0xbcbb29(0x15a)](path_1[_0xbcbb29(0x154)](this['dir'],_0x509170),!![])[_0xbcbb29(0x150)](()=>null),fs_internal_1['FS'][_0xbcbb29(0x15a)](path_1[_0xbcbb29(0x154)](this[_0xbcbb29(0x138)],_0xcfc8bd),!![])[_0xbcbb29(0x150)](()=>null)]);return{..._0x24ea2f?{[_0x509170]:_0x24ea2f}:{},..._0x3abe31?{[_0xcfc8bd]:_0x3abe31}:{}};}async['init'](){const _0xf486d4=a102_0x1db8ea,_0x4525cd=[...this[_0xf486d4(0x15f)]];if(this['isSFDXProject'])for(const _0x50ac11 of _0x4525cd){if(constants_1[_0xf486d4(0x16a)][_0xf486d4(0x168)](_0x50ac11))continue;if(await fs_internal_1['FS']['isDir'](path_1['join'](this[_0xf486d4(0x138)],_0x50ac11))){const _0x591ab1=await fs_internal_1['FS'][_0xf486d4(0x11a)](path_1[_0xf486d4(0x154)](this['dir'],_0x50ac11),!![]);_0x4525cd[_0xf486d4(0x160)](..._0x591ab1[_0xf486d4(0x141)](_0x3a7795=>path_1[_0xf486d4(0x14b)](this[_0xf486d4(0x138)],_0x3a7795)));}}this[_0xf486d4(0x15f)]=utils_1[_0xf486d4(0x134)](_0x4525cd);}async['parse'](){const _0x454fd9=a102_0x1db8ea;await this[_0x454fd9(0x121)]();const _0x44dda7=[];for(const _0x20ad3b of this['paths']){if(_0x20ad3b[_0x454fd9(0x13c)](_0x454fd9(0x124)))continue;const _0x15b941={};try{_0x15b941[_0x454fd9(0x148)]=await this[_0x454fd9(0x130)](_0x20ad3b),_0x15b941[_0x454fd9(0x133)]=constants_1[_0x454fd9(0x16a)][_0x454fd9(0x168)](_0x20ad3b)?_0x20ad3b:utils_1[_0x454fd9(0x123)]({'files':_0x15b941[_0x454fd9(0x148)]}),_0x20ad3b[_0x454fd9(0x163)](_0x454fd9(0x126))?_0x15b941['type']='WaveTemplateBundle':_0x15b941[_0x454fd9(0x12c)]=await utils_1[_0x454fd9(0x166)]({'files':_0x15b941['files']});}catch(_0x5ab561){this['logger'][_0x454fd9(0x122)](_0x454fd9(0x131),_0x20ad3b,_0x5ab561);continue;}_0x15b941[_0x454fd9(0x14c)]=utils_1['extractFilenameFromPath'](_0x20ad3b),_0x15b941[_0x454fd9(0x12e)]=crc32_1['calculateCRC32'](_0x15b941);if(utils_1[_0x454fd9(0x15d)](_0x15b941)){const _0xc95f3f=await this[_0x454fd9(0x167)](_0x15b941);_0x44dda7['push'](..._0xc95f3f);}if(_0x15b941['type']===_0x454fd9(0x161))continue;_0x44dda7[_0x454fd9(0x160)](_0x15b941);}return _0x44dda7;}}function a102_0x18ed(_0x61bf70,_0x111e56){const _0x3e6bb6=a102_0x9638();return a102_0x18ed=function(_0x52b9c4,_0x329e8d){_0x52b9c4=_0x52b9c4-0x119;let _0x96384d=_0x3e6bb6[_0x52b9c4];return _0x96384d;},a102_0x18ed(_0x61bf70,_0x111e56);}exports[a102_0x1db8ea(0x16b)]=MDApiParser;