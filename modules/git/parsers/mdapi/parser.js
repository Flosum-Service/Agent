const a99_0x25b10e=a99_0xde2a;(function(_0x1891ad,_0x48ad8a){const _0x5640fd=a99_0xde2a,_0x3e74ea=_0x1891ad();while(!![]){try{const _0x1e74cf=-parseInt(_0x5640fd(0x1ae))/0x1*(parseInt(_0x5640fd(0x1d8))/0x2)+parseInt(_0x5640fd(0x1c6))/0x3*(parseInt(_0x5640fd(0x1af))/0x4)+-parseInt(_0x5640fd(0x1b9))/0x5+-parseInt(_0x5640fd(0x1da))/0x6+-parseInt(_0x5640fd(0x1d0))/0x7+parseInt(_0x5640fd(0x1f7))/0x8+parseInt(_0x5640fd(0x1e2))/0x9;if(_0x1e74cf===_0x48ad8a)break;else _0x3e74ea['push'](_0x3e74ea['shift']());}catch(_0x1d36b2){_0x3e74ea['push'](_0x3e74ea['shift']());}}}(a99_0x4d40,0xdc26c));function a99_0x4d40(){const _0x302c79=['../utils/xml','files','utf-8','calculateCRC32','1989135rMSpot','package.xml','type','readChildComponents','../../devops/utils/git-commit.utils','extname','filePath','error','extractFilenameFromPath','isPathsEquals','values','apply','path','69KCHOTp','readDir','dir','convertToCleanPaths','__esModule','filter','extractFileNameFromFiles','../data/child-types-map','reduce','Component\x20\x22','5494629RCtrAz','CustomLabels','parse','../../../../core','../../internal/fs.internal','paths','Logger','name','924230qdUswp','push','9540252FnrpgN','(((.+)+)+)+$','map','catch','waveTemplates','META_EXTENSION','-meta.xml','test','30374010omrpYP','MDApiParser','isSFDXProject','Xml','relative','readComponentFiles','defineProperty','error\x20occured\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readBundledFiles','endsWith','BUNDLED_FOLDERS_REGEXP','experiences','readFile','../utils','../../../../constants','hasChildNodes','search','default','join','crc','\x22\x20not\x20found\x20in\x20\x22','1498296bvCJZU','toString','extractComponentTypeFromFiles','1xhwFcn','99912eYbNNi','META_EXPERIENCES_EXTENSION','isDir','init','startsWith','all'];a99_0x4d40=function(){return _0x302c79;};return a99_0x4d40();}const a99_0x30fbc0=(function(){let _0x4e7dd2=!![];return function(_0x29161b,_0x150b24){const _0x301c0d=_0x4e7dd2?function(){const _0x58a475=a99_0xde2a;if(_0x150b24){const _0x3fec99=_0x150b24[_0x58a475(0x1c4)](_0x29161b,arguments);return _0x150b24=null,_0x3fec99;}}:function(){};return _0x4e7dd2=![],_0x301c0d;};}()),a99_0x11a828=a99_0x30fbc0(this,function(){const _0x202fde=a99_0xde2a;return a99_0x11a828[_0x202fde(0x1ac)]()[_0x202fde(0x1f2)](_0x202fde(0x1db))[_0x202fde(0x1ac)]()['constructor'](a99_0x11a828)[_0x202fde(0x1f2)](_0x202fde(0x1db));});a99_0x11a828();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x446862){const _0x7e9543=a99_0xde2a;return _0x446862&&_0x446862[_0x7e9543(0x1ca)]?_0x446862:{'default':_0x446862};};Object[a99_0x25b10e(0x1e8)](exports,a99_0x25b10e(0x1ca),{'value':!![]}),exports[a99_0x25b10e(0x1e3)]=void 0x0;function a99_0xde2a(_0x2594b4,_0x451d04){const _0xeae1cd=a99_0x4d40();return a99_0xde2a=function(_0x11a828,_0x30fbc0){_0x11a828=_0x11a828-0x1ac;let _0x4d402b=_0xeae1cd[_0x11a828];return _0x4d402b;},a99_0xde2a(_0x2594b4,_0x451d04);}const fs_internal_1=require(a99_0x25b10e(0x1d4)),utils_1=require(a99_0x25b10e(0x1ef)),path_1=require(a99_0x25b10e(0x1c5)),xml_1=require(a99_0x25b10e(0x1b5)),child_types_map_1=__importDefault(require(a99_0x25b10e(0x1cd))),constants_1=require(a99_0x25b10e(0x1f0)),core_1=require(a99_0x25b10e(0x1d3)),git_commit_utils_1=require(a99_0x25b10e(0x1bd)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a99_0x25b10e(0x1f3)]);class MDApiParser{constructor(_0x30bf78,_0x3ce64a,_0x36b028){const _0x325578=a99_0x25b10e;this[_0x325578(0x1c8)]=_0x30bf78,this['isSFDXProject']=_0x36b028,this['logger']=new core_1[(_0x325578(0x1d6))](MDApiParser[_0x325578(0x1d7)]),this['META_EXTENSION']=_0x325578(0x1e0),this[_0x325578(0x1b0)]='.site-meta.xml',this[_0x325578(0x1d5)]=_0x3ce64a;}async[a99_0x25b10e(0x1bc)](_0x176387){const _0x5cd82b=a99_0x25b10e;try{const _0x1c703a=await xml_1['Xml'][_0x5cd82b(0x1d2)](Object[_0x5cd82b(0x1c3)](_0x176387[_0x5cd82b(0x1b6)])[0x0][_0x5cd82b(0x1ac)](_0x5cd82b(0x1b7))),_0x10426d=CHILD_XML_KEYS[_0x5cd82b(0x1cb)](_0xf9ee6f=>xml_1[_0x5cd82b(0x1e5)][_0x5cd82b(0x1f1)](_0x1c703a,_0xf9ee6f))[_0x5cd82b(0x1ce)]((_0x34066e,_0xad3dcc)=>[..._0x34066e,...xml_1[_0x5cd82b(0x1e5)]['getChildsByName'](_0x1c703a,_0xad3dcc)],[]);return utils_1['createChildComponentsFromParent'](_0x176387,_0x1c703a,_0x10426d);}catch(_0x484a8c){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x176387[_0x5cd82b(0x1d7)]+'\x20['+_0x176387['type']+']');}}async['readBundledFiles'](_0x1b8dfe){const _0x1565e6=a99_0x25b10e,_0x32ab01=path_1[_0x1565e6(0x1f4)](this[_0x1565e6(0x1c8)],_0x1b8dfe),_0x124063=_0x1b8dfe+(_0x1b8dfe[_0x1565e6(0x1b3)](_0x1565e6(0x1ed))?this[_0x1565e6(0x1b0)]:this[_0x1565e6(0x1df)]),_0x4b9255=await fs_internal_1['FS'][_0x1565e6(0x1c7)](_0x32ab01,!![]),_0x95d745=await fs_internal_1['FS'][_0x1565e6(0x1ee)](path_1[_0x1565e6(0x1f4)](this[_0x1565e6(0x1c8)],_0x124063),!![])[_0x1565e6(0x1dd)](()=>null),_0x118819={};for(const _0x4ee018 of _0x4b9255){_0x118819[path_1[_0x1565e6(0x1e6)](this[_0x1565e6(0x1c8)],_0x4ee018)]=await fs_internal_1['FS'][_0x1565e6(0x1ee)](_0x4ee018,!![]);}return _0x95d745&&(_0x118819[path_1[_0x1565e6(0x1e6)](this['dir'],_0x124063)]=_0x95d745),_0x118819;}async[a99_0x25b10e(0x1e7)](_0x4cce62){const _0x25405f=a99_0x25b10e;let _0x5e292d=_0x4cce62+this[_0x25405f(0x1df)];if(constants_1[_0x25405f(0x1ec)][_0x25405f(0x1e1)](_0x4cce62))return this[_0x25405f(0x1ea)](_0x4cce62);if(await fs_internal_1['FS'][_0x25405f(0x1b1)](path_1[_0x25405f(0x1f4)](this[_0x25405f(0x1c8)],_0x4cce62)))return{[_0x5e292d]:await fs_internal_1['FS'][_0x25405f(0x1ee)](path_1[_0x25405f(0x1f4)](this['dir'],_0x5e292d),!![])};if(!path_1[_0x25405f(0x1be)](_0x4cce62)&&this[_0x25405f(0x1e4)]){const _0x2ee0ac=_0x4cce62['split']('/')[0x0],_0xa34528=(await fs_internal_1['FS'][_0x25405f(0x1c7)](path_1[_0x25405f(0x1f4)](this[_0x25405f(0x1c8)],_0x2ee0ac)))['find'](_0x2d6a48=>git_commit_utils_1[_0x25405f(0x1c2)](_0x2d6a48,path_1[_0x25405f(0x1f4)](this[_0x25405f(0x1c8)],_0x4cce62)));if(!_0xa34528)throw new Error(_0x25405f(0x1cf)+_0x4cce62+_0x25405f(0x1f6)+_0x2ee0ac+'\x22');_0x4cce62=path_1[_0x25405f(0x1e6)](this[_0x25405f(0x1c8)],_0xa34528),_0x5e292d=_0x4cce62+this[_0x25405f(0x1df)];}const [_0x5325c7,_0x3b370c]=await Promise[_0x25405f(0x1b4)]([fs_internal_1['FS'][_0x25405f(0x1ee)](path_1[_0x25405f(0x1f4)](this[_0x25405f(0x1c8)],_0x4cce62),!![])['catch'](()=>null),fs_internal_1['FS'][_0x25405f(0x1ee)](path_1[_0x25405f(0x1f4)](this[_0x25405f(0x1c8)],_0x5e292d),!![])[_0x25405f(0x1dd)](()=>null)]);return{..._0x5325c7?{[_0x4cce62]:_0x5325c7}:{},..._0x3b370c?{[_0x5e292d]:_0x3b370c}:{}};}async[a99_0x25b10e(0x1b2)](){const _0x29e46f=a99_0x25b10e,_0x33e79c=[...this['paths']];if(this[_0x29e46f(0x1e4)])for(const _0xaeed2 of _0x33e79c){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x29e46f(0x1e1)](_0xaeed2))continue;if(await fs_internal_1['FS'][_0x29e46f(0x1b1)](path_1[_0x29e46f(0x1f4)](this[_0x29e46f(0x1c8)],_0xaeed2))){const _0x51d0ae=await fs_internal_1['FS'][_0x29e46f(0x1c7)](path_1[_0x29e46f(0x1f4)](this['dir'],_0xaeed2),!![]);_0x33e79c[_0x29e46f(0x1d9)](..._0x51d0ae[_0x29e46f(0x1dc)](_0x410dc3=>path_1[_0x29e46f(0x1e6)](this['dir'],_0x410dc3)));}}this[_0x29e46f(0x1d5)]=utils_1[_0x29e46f(0x1c9)](_0x33e79c);}async[a99_0x25b10e(0x1d2)](){const _0x1aa201=a99_0x25b10e;await this['init']();const _0x4f018e=[];for(const _0x12a708 of this[_0x1aa201(0x1d5)]){if(_0x12a708[_0x1aa201(0x1eb)](_0x1aa201(0x1ba)))continue;const _0x29d902={};try{_0x29d902[_0x1aa201(0x1b6)]=await this[_0x1aa201(0x1e7)](_0x12a708),_0x29d902[_0x1aa201(0x1bf)]=constants_1[_0x1aa201(0x1ec)]['test'](_0x12a708)?_0x12a708:utils_1[_0x1aa201(0x1cc)]({'files':_0x29d902[_0x1aa201(0x1b6)]}),_0x12a708[_0x1aa201(0x1b3)](_0x1aa201(0x1de))?_0x29d902['type']='WaveTemplateBundle':_0x29d902['type']=await utils_1[_0x1aa201(0x1ad)]({'files':_0x29d902[_0x1aa201(0x1b6)]});}catch(_0x3841ff){this['logger'][_0x1aa201(0x1c0)](_0x1aa201(0x1e9),_0x12a708,_0x3841ff);continue;}_0x29d902[_0x1aa201(0x1d7)]=utils_1[_0x1aa201(0x1c1)](_0x12a708),_0x29d902[_0x1aa201(0x1f5)]=utils_1[_0x1aa201(0x1b8)](_0x29d902);if(utils_1['isParentComponent'](_0x29d902)){const _0x5eea19=await this['readChildComponents'](_0x29d902);_0x4f018e[_0x1aa201(0x1d9)](..._0x5eea19);}if(_0x29d902[_0x1aa201(0x1bb)]===_0x1aa201(0x1d1))continue;_0x4f018e[_0x1aa201(0x1d9)](_0x29d902);}return _0x4f018e;}}exports[a99_0x25b10e(0x1e3)]=MDApiParser;