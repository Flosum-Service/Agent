const a146_0x18cbc2=a146_0x544a;function a146_0x544a(_0x5c06d3,_0xaccda1){const _0x85944a=a146_0x2b52();return a146_0x544a=function(_0x27acc3,_0x10542a){_0x27acc3=_0x27acc3-0x9d;let _0x2b52f0=_0x85944a[_0x27acc3];return _0x2b52f0;},a146_0x544a(_0x5c06d3,_0xaccda1);}(function(_0x10ce0c,_0x334b43){const _0x4e20fe=a146_0x544a,_0xfcd1e0=_0x10ce0c();while(!![]){try{const _0x49d88d=-parseInt(_0x4e20fe(0xdb))/0x1+parseInt(_0x4e20fe(0xcb))/0x2+-parseInt(_0x4e20fe(0xcc))/0x3*(-parseInt(_0x4e20fe(0xd5))/0x4)+-parseInt(_0x4e20fe(0xe5))/0x5+-parseInt(_0x4e20fe(0xac))/0x6*(-parseInt(_0x4e20fe(0xe8))/0x7)+-parseInt(_0x4e20fe(0xeb))/0x8+-parseInt(_0x4e20fe(0xd3))/0x9*(parseInt(_0x4e20fe(0xb4))/0xa);if(_0x49d88d===_0x334b43)break;else _0xfcd1e0['push'](_0xfcd1e0['shift']());}catch(_0x2a7f62){_0xfcd1e0['push'](_0xfcd1e0['shift']());}}}(a146_0x2b52,0xc36d4));const a146_0x10542a=(function(){let _0x761507=!![];return function(_0x321c16,_0x16acfe){const _0x3cbaf9=_0x761507?function(){if(_0x16acfe){const _0x5cdec8=_0x16acfe['apply'](_0x321c16,arguments);return _0x16acfe=null,_0x5cdec8;}}:function(){};return _0x761507=![],_0x3cbaf9;};}()),a146_0x27acc3=a146_0x10542a(this,function(){const _0x3c41c0=a146_0x544a;return a146_0x27acc3[_0x3c41c0(0x9f)]()[_0x3c41c0(0xb2)](_0x3c41c0(0xd8))['toString']()['constructor'](a146_0x27acc3)['search']('(((.+)+)+)+$');});a146_0x27acc3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1e926d){const _0x54eca5=a146_0x544a;return _0x1e926d&&_0x1e926d[_0x54eca5(0xb5)]?_0x1e926d:{'default':_0x1e926d};};function a146_0x2b52(){const _0x4dfba4=['CustomLabels','extractComponentTypeFromFiles','values','../utils/xml','catch','endsWith','WaveTemplateBundle','init','META_EXTENSION','extname','type','../utils','2931920TdEWHd','3lgHsvL','crc','Settings','exists','dir','calculateCRC32','createChildComponentsFromParent','68535LvjFDL','extractFilenameFromPath','3160584EnpMGK','test','convertToCleanPaths','(((.+)+)+)+$','\x22\x20not\x20found\x20in\x20\x22','../utils/crc32','458728bKQQkH','utf-8','../data/folder-types','push','readComponentFiles','files','parse','relative','BUNDLED_FOLDERS_REGEXP','extractFileNameFromFiles','2164170nUXtqA','isSFDXProject','readFile','2135zEIKGs','getChildsByName','defineProperty','5972568QfuXMk','isDir','logger','Xml','toString','path','../data/child-types-map','filePath','default','MDApiParser','package.xml','join','../data/settings-types-list','filter','startsWith','reduce','includes','28008udtFkV','readDir','isParentComponent','Component\x20\x22','paths','name','search','../../internal/fs.internal','1630kqCVXi','__esModule','readChildComponents','waveTemplates','all','split','-meta.xml','map','find','META_EXPERIENCES_EXTENSION','readBundledFiles'];a146_0x2b52=function(){return _0x4dfba4;};return a146_0x2b52();}Object[a146_0x18cbc2(0xea)](exports,a146_0x18cbc2(0xb5),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a146_0x18cbc2(0xb3)),utils_1=require(a146_0x18cbc2(0xca)),path_1=require(a146_0x18cbc2(0xa0)),xml_1=require(a146_0x18cbc2(0xc2)),child_types_map_1=__importDefault(require(a146_0x18cbc2(0xa1))),constants_1=require('../../../../constants'),core_1=require('../../../../core'),git_commit_utils_1=require('../../devops/utils/git-commit.utils'),crc32_1=require(a146_0x18cbc2(0xda)),folder_types_1=__importDefault(require(a146_0x18cbc2(0xdd))),settings_types_list_1=__importDefault(require(a146_0x18cbc2(0xa7))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a146_0x18cbc2(0xa3)]);class MDApiParser{constructor(_0x506a72,_0x17bb16,_0x179c3b){const _0x3643d8=a146_0x18cbc2;this[_0x3643d8(0xd0)]=_0x506a72,this[_0x3643d8(0xe6)]=_0x179c3b,this['logger']=new core_1['Logger'](MDApiParser[_0x3643d8(0xb1)]),this[_0x3643d8(0xc7)]=_0x3643d8(0xba),this[_0x3643d8(0xbd)]='.site-meta.xml',this[_0x3643d8(0xb0)]=_0x17bb16;}async[a146_0x18cbc2(0xb6)](_0x29f562){const _0x4b7905=a146_0x18cbc2;try{const _0x4cab8e=await xml_1[_0x4b7905(0x9e)]['parse'](Object[_0x4b7905(0xc1)](_0x29f562[_0x4b7905(0xe0)])[0x0][_0x4b7905(0x9f)](_0x4b7905(0xdc))),_0x4b8cb3=CHILD_XML_KEYS[_0x4b7905(0xa8)](_0x148ddd=>xml_1[_0x4b7905(0x9e)]['hasChildNodes'](_0x4cab8e,_0x148ddd))[_0x4b7905(0xaa)]((_0x2a0061,_0x52cb0a)=>[..._0x2a0061,...xml_1[_0x4b7905(0x9e)][_0x4b7905(0xe9)](_0x4cab8e,_0x52cb0a)],[]);return(0x0,utils_1[_0x4b7905(0xd2)])(_0x29f562,_0x4cab8e,_0x4b8cb3);}catch(_0x38a4e2){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x29f562[_0x4b7905(0xb1)]+'\x20['+_0x29f562[_0x4b7905(0xc9)]+']');}}async[a146_0x18cbc2(0xbe)](_0x43c875){const _0x8bf6e6=a146_0x18cbc2,_0x3011d2=(0x0,path_1[_0x8bf6e6(0xa6)])(this[_0x8bf6e6(0xd0)],_0x43c875),_0x1c28c9=_0x43c875+(_0x43c875['startsWith']('experiences')?this[_0x8bf6e6(0xbd)]:this[_0x8bf6e6(0xc7)]),_0x59acdc=await fs_internal_1['FS'][_0x8bf6e6(0xad)](_0x3011d2,!![]),_0x1f1574=await fs_internal_1['FS'][_0x8bf6e6(0xe7)]((0x0,path_1[_0x8bf6e6(0xa6)])(this[_0x8bf6e6(0xd0)],_0x1c28c9),!![])[_0x8bf6e6(0xc3)](()=>null),_0x18cbbc={};for(const _0x55e198 of _0x59acdc){_0x18cbbc[(0x0,path_1[_0x8bf6e6(0xe2)])(this[_0x8bf6e6(0xd0)],_0x55e198)]=await fs_internal_1['FS'][_0x8bf6e6(0xe7)](_0x55e198,!![]);}return _0x1f1574&&(_0x18cbbc[(0x0,path_1[_0x8bf6e6(0xe2)])(this['dir'],_0x1c28c9)]=_0x1f1574),_0x18cbbc;}async[a146_0x18cbc2(0xdf)](_0xcb964){const _0x2d3295=a146_0x18cbc2;let _0x495a53=_0xcb964+this[_0x2d3295(0xc7)];if(constants_1[_0x2d3295(0xe3)]['test'](_0xcb964))return this['readBundledFiles'](_0xcb964);if(await fs_internal_1['FS'][_0x2d3295(0xec)]((0x0,path_1['join'])(this['dir'],_0xcb964))||await fs_internal_1['FS'][_0x2d3295(0xcf)]((0x0,path_1[_0x2d3295(0xa6)])(this['dir'],_0x495a53))){const _0x3b7add=await fs_internal_1['FS'][_0x2d3295(0xe7)]((0x0,path_1[_0x2d3295(0xa6)])(this[_0x2d3295(0xd0)],_0x495a53),!![]),_0x5ad95d=await(0x0,utils_1[_0x2d3295(0xc0)])({'files':{[_0x495a53]:_0x3b7add}})[_0x2d3295(0xc3)](()=>null);if(_0x5ad95d&&folder_types_1[_0x2d3295(0xa3)][_0x2d3295(0xab)](_0x5ad95d))return{[_0x495a53]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x2d3295(0xa6)])(this[_0x2d3295(0xd0)],_0x495a53),!![])};}if(!(0x0,path_1[_0x2d3295(0xc8)])(_0xcb964)&&this[_0x2d3295(0xe6)]){const _0x4f751f=_0xcb964[_0x2d3295(0xb9)]('/')[0x0],_0xa6c738=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this['dir'],_0x4f751f)))[_0x2d3295(0xbc)](_0x1f45aa=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x1f45aa,(0x0,path_1[_0x2d3295(0xa6)])(this['dir'],_0xcb964)));if(!_0xa6c738)throw new Error(_0x2d3295(0xaf)+_0xcb964+_0x2d3295(0xd9)+_0x4f751f+'\x22');_0xcb964=(0x0,path_1[_0x2d3295(0xe2)])(this[_0x2d3295(0xd0)],_0xa6c738),_0x495a53=_0xcb964+this['META_EXTENSION'];}const [_0x3b10de,_0x295e5d]=await Promise[_0x2d3295(0xb8)]([fs_internal_1['FS'][_0x2d3295(0xe7)]((0x0,path_1[_0x2d3295(0xa6)])(this[_0x2d3295(0xd0)],_0xcb964),!![])[_0x2d3295(0xc3)](()=>null),fs_internal_1['FS'][_0x2d3295(0xe7)]((0x0,path_1[_0x2d3295(0xa6)])(this[_0x2d3295(0xd0)],_0x495a53),!![])[_0x2d3295(0xc3)](()=>null)]);return{..._0x3b10de?{[_0xcb964]:_0x3b10de}:{},..._0x295e5d?{[_0x495a53]:_0x295e5d}:{}};}async[a146_0x18cbc2(0xc6)](){const _0xb7f328=a146_0x18cbc2,_0x23f445=[...this['paths']];if(this['isSFDXProject'])for(const _0x1a602b of _0x23f445){if(constants_1[_0xb7f328(0xe3)]['test'](_0x1a602b))continue;if(await fs_internal_1['FS'][_0xb7f328(0xec)]((0x0,path_1[_0xb7f328(0xa6)])(this[_0xb7f328(0xd0)],_0x1a602b))){const _0x2bc276=await fs_internal_1['FS'][_0xb7f328(0xad)]((0x0,path_1['join'])(this[_0xb7f328(0xd0)],_0x1a602b),!![]);_0x23f445[_0xb7f328(0xde)](..._0x2bc276[_0xb7f328(0xbb)](_0x4ced0d=>(0x0,path_1[_0xb7f328(0xe2)])(this['dir'],_0x4ced0d)));}}this['paths']=(0x0,utils_1[_0xb7f328(0xd7)])(_0x23f445);}async[a146_0x18cbc2(0xe1)](){const _0x117a6e=a146_0x18cbc2;await this['init']();const _0x1470ef=[];for(const _0x40e249 of this[_0x117a6e(0xb0)]){if(_0x40e249[_0x117a6e(0xc4)](_0x117a6e(0xa5)))continue;const _0x19c840={};try{_0x19c840[_0x117a6e(0xe0)]=await this[_0x117a6e(0xdf)](_0x40e249),_0x19c840[_0x117a6e(0xa2)]=constants_1[_0x117a6e(0xe3)][_0x117a6e(0xd6)](_0x40e249)?_0x40e249:(0x0,utils_1[_0x117a6e(0xe4)])({'files':_0x19c840[_0x117a6e(0xe0)]}),_0x40e249[_0x117a6e(0xa9)](_0x117a6e(0xb7))?_0x19c840['type']=_0x117a6e(0xc5):_0x19c840[_0x117a6e(0xc9)]=await(0x0,utils_1[_0x117a6e(0xc0)])({'files':_0x19c840[_0x117a6e(0xe0)]});}catch(_0x530caa){this[_0x117a6e(0x9d)]['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x40e249,_0x530caa);continue;}_0x19c840[_0x117a6e(0xb1)]=(0x0,utils_1[_0x117a6e(0xd4)])(_0x40e249),_0x19c840[_0x117a6e(0xcd)]=(0x0,crc32_1[_0x117a6e(0xd1)])(_0x19c840);if((0x0,utils_1[_0x117a6e(0xae)])(_0x19c840)){const _0x5e574a=await this[_0x117a6e(0xb6)](_0x19c840);_0x1470ef[_0x117a6e(0xde)](..._0x5e574a);}if(_0x19c840['type']===_0x117a6e(0xbf))continue;settings_types_list_1[_0x117a6e(0xa3)][_0x117a6e(0xab)](_0x19c840[_0x117a6e(0xc9)])&&(_0x19c840[_0x117a6e(0xc9)]=_0x117a6e(0xce)),_0x1470ef[_0x117a6e(0xde)](_0x19c840);}return _0x1470ef;}}exports[a146_0x18cbc2(0xa4)]=MDApiParser;