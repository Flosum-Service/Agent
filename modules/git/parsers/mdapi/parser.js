const a150_0x3f4d63=a150_0x44d6;(function(_0xb10925,_0x5d156b){const _0x5d2b33=a150_0x44d6,_0x4847c5=_0xb10925();while(!![]){try{const _0x3064be=parseInt(_0x5d2b33(0x108))/0x1*(-parseInt(_0x5d2b33(0x147))/0x2)+parseInt(_0x5d2b33(0x13a))/0x3+parseInt(_0x5d2b33(0x11f))/0x4*(parseInt(_0x5d2b33(0x100))/0x5)+-parseInt(_0x5d2b33(0x132))/0x6+-parseInt(_0x5d2b33(0x131))/0x7*(-parseInt(_0x5d2b33(0x13c))/0x8)+-parseInt(_0x5d2b33(0x127))/0x9*(parseInt(_0x5d2b33(0xf9))/0xa)+-parseInt(_0x5d2b33(0x120))/0xb;if(_0x3064be===_0x5d156b)break;else _0x4847c5['push'](_0x4847c5['shift']());}catch(_0xa3f1d4){_0x4847c5['push'](_0x4847c5['shift']());}}}(a150_0x2d12,0xed54b));const a150_0x4518ac=(function(){let _0x2ca15d=!![];return function(_0xe4736a,_0x258ede){const _0xac112b=_0x2ca15d?function(){const _0x11959f=a150_0x44d6;if(_0x258ede){const _0x4bc019=_0x258ede[_0x11959f(0xfc)](_0xe4736a,arguments);return _0x258ede=null,_0x4bc019;}}:function(){};return _0x2ca15d=![],_0xac112b;};}()),a150_0x15d081=a150_0x4518ac(this,function(){const _0x1b2caf=a150_0x44d6;return a150_0x15d081['toString']()[_0x1b2caf(0x142)](_0x1b2caf(0x12b))[_0x1b2caf(0x10b)]()[_0x1b2caf(0x13d)](a150_0x15d081)[_0x1b2caf(0x142)](_0x1b2caf(0x12b));});function a150_0x44d6(_0x323b04,_0x559851){const _0x1b0db6=a150_0x2d12();return a150_0x44d6=function(_0x15d081,_0x4518ac){_0x15d081=_0x15d081-0xf5;let _0x2d1205=_0x1b0db6[_0x15d081];return _0x2d1205;},a150_0x44d6(_0x323b04,_0x559851);}a150_0x15d081();'use strict';var __importDefault=this&&this[a150_0x3f4d63(0x134)]||function(_0x1bf43a){return _0x1bf43a&&_0x1bf43a['__esModule']?_0x1bf43a:{'default':_0x1bf43a};};function a150_0x2d12(){const _0x26f4c8=['calculateCRC32','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','toString','extractComponentTypeFromFiles','../data/folder-types','../../../../core','startsWith','catch','exists','../data/child-types-map','Settings','all','isDir','WaveTemplateBundle','readFile','Cannot\x20parse\x20childs\x20in\x20','BUNDLED_FOLDERS_REGEXP','../utils','META_EXPERIENCES_EXTENSION','utf-8','split','extractFileNameFromFiles','292AOYVel','6810419bGRPtS','../utils/crc32','crc','META_EXTENSION','extractFilenameFromPath','push','logger','3923622mMlKWh','readComponentFiles','experiences','../data/settings-types-list','(((.+)+)+)+$','filter','paths','default','../utils/xml','readDir','1031926aSvkzS','2359752vPgNsW','MDApiParser','__importDefault','init','isPathsEquals','Xml','relative','type','5663220OoZNki','name','8bZSfbl','constructor','reduce','getChildsByName','isSFDXProject','\x22\x20not\x20found\x20in\x20\x22','search','find','parse','hasChildNodes','../../devops/utils/git-commit.utils','4438VQdjwx','test','dir','join','readBundledFiles','30LudnzZ','../../internal/fs.internal','readChildComponents','apply','waveTemplates','values','extname','103895zQOzvU','filePath','-meta.xml','convertToCleanPaths','files','Component\x20\x22','defineProperty','createChildComponentsFromParent','117oOmekm'];a150_0x2d12=function(){return _0x26f4c8;};return a150_0x2d12();}Object[a150_0x3f4d63(0x106)](exports,'__esModule',{'value':!![]}),exports[a150_0x3f4d63(0x133)]=void 0x0;const fs_internal_1=require(a150_0x3f4d63(0xfa)),utils_1=require(a150_0x3f4d63(0x11a)),path_1=require('path'),xml_1=require(a150_0x3f4d63(0x12f)),child_types_map_1=__importDefault(require(a150_0x3f4d63(0x112))),constants_1=require('../../../../constants'),core_1=require(a150_0x3f4d63(0x10e)),git_commit_utils_1=require(a150_0x3f4d63(0x146)),crc32_1=require(a150_0x3f4d63(0x121)),folder_types_1=__importDefault(require(a150_0x3f4d63(0x10d))),settings_types_list_1=__importDefault(require(a150_0x3f4d63(0x12a))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a150_0x3f4d63(0x12e)]);class MDApiParser{constructor(_0x171a11,_0x256cad,_0xf912bb){const _0x4d599d=a150_0x3f4d63;this['dir']=_0x171a11,this['isSFDXProject']=_0xf912bb,this[_0x4d599d(0x126)]=new core_1['Logger'](MDApiParser[_0x4d599d(0x13b)]),this['META_EXTENSION']=_0x4d599d(0x102),this[_0x4d599d(0x11b)]='.site-meta.xml',this[_0x4d599d(0x12d)]=_0x256cad;}async[a150_0x3f4d63(0xfb)](_0x1ec71f){const _0xd6c2cd=a150_0x3f4d63;try{const _0x294934=await xml_1[_0xd6c2cd(0x137)]['parse'](Object[_0xd6c2cd(0xfe)](_0x1ec71f[_0xd6c2cd(0x104)])[0x0][_0xd6c2cd(0x10b)](_0xd6c2cd(0x11c))),_0x44ef78=CHILD_XML_KEYS[_0xd6c2cd(0x12c)](_0x51285d=>xml_1[_0xd6c2cd(0x137)][_0xd6c2cd(0x145)](_0x294934,_0x51285d))[_0xd6c2cd(0x13e)]((_0x49a906,_0x2dc4a2)=>[..._0x49a906,...xml_1[_0xd6c2cd(0x137)][_0xd6c2cd(0x13f)](_0x294934,_0x2dc4a2)],[]);return(0x0,utils_1[_0xd6c2cd(0x107)])(_0x1ec71f,_0x294934,_0x44ef78);}catch(_0xe6cf21){throw new Error(_0xd6c2cd(0x118)+_0x1ec71f[_0xd6c2cd(0x13b)]+'\x20['+_0x1ec71f[_0xd6c2cd(0x139)]+']');}}async[a150_0x3f4d63(0xf8)](_0x1f0e0c){const _0x2b6433=a150_0x3f4d63,_0x5dd75f=(0x0,path_1[_0x2b6433(0xf7)])(this['dir'],_0x1f0e0c),_0x37869b=_0x1f0e0c+(_0x1f0e0c['startsWith'](_0x2b6433(0x129))?this[_0x2b6433(0x11b)]:this[_0x2b6433(0x123)]),_0x24763b=await fs_internal_1['FS'][_0x2b6433(0x130)](_0x5dd75f,!![]),_0x1ced79=await fs_internal_1['FS'][_0x2b6433(0x117)]((0x0,path_1[_0x2b6433(0xf7)])(this[_0x2b6433(0xf6)],_0x37869b),!![])[_0x2b6433(0x110)](()=>null),_0x533e55={};for(const _0xe2dfd6 of _0x24763b){_0x533e55[(0x0,path_1[_0x2b6433(0x138)])(this[_0x2b6433(0xf6)],_0xe2dfd6)]=await fs_internal_1['FS'][_0x2b6433(0x117)](_0xe2dfd6,!![]);}return _0x1ced79&&(_0x533e55[(0x0,path_1['relative'])(this[_0x2b6433(0xf6)],_0x37869b)]=_0x1ced79),_0x533e55;}async[a150_0x3f4d63(0x128)](_0x582483){const _0xe9726b=a150_0x3f4d63;let _0x1608bc=_0x582483+this[_0xe9726b(0x123)];if(constants_1[_0xe9726b(0x119)][_0xe9726b(0xf5)](_0x582483))return this['readBundledFiles'](_0x582483);if(await fs_internal_1['FS'][_0xe9726b(0x115)]((0x0,path_1['join'])(this[_0xe9726b(0xf6)],_0x582483))||await fs_internal_1['FS'][_0xe9726b(0x111)]((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x1608bc))){const _0x56fe3a=await fs_internal_1['FS'][_0xe9726b(0x117)]((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x1608bc),!![]),_0xf65eaa=await(0x0,utils_1[_0xe9726b(0x10c)])({'files':{[_0x1608bc]:_0x56fe3a}})[_0xe9726b(0x110)](()=>null);if(_0xf65eaa&&folder_types_1[_0xe9726b(0x12e)]['includes'](_0xf65eaa))return{[_0x1608bc]:await fs_internal_1['FS'][_0xe9726b(0x117)]((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x1608bc),!![])};}if(!(0x0,path_1[_0xe9726b(0xff)])(_0x582483)&&this[_0xe9726b(0x140)]){const _0x12ad2d=_0x582483[_0xe9726b(0x11d)]('/')[0x0],_0x265f9f=(await fs_internal_1['FS'][_0xe9726b(0x130)]((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x12ad2d)))[_0xe9726b(0x143)](_0x31b471=>(0x0,git_commit_utils_1[_0xe9726b(0x136)])(_0x31b471,(0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x582483)));if(!_0x265f9f)throw new Error(_0xe9726b(0x105)+_0x582483+_0xe9726b(0x141)+_0x12ad2d+'\x22');_0x582483=(0x0,path_1['relative'])(this[_0xe9726b(0xf6)],_0x265f9f),_0x1608bc=_0x582483+this['META_EXTENSION'];}const [_0x1f6d9a,_0x11730a]=await Promise[_0xe9726b(0x114)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x582483),!![])[_0xe9726b(0x110)](()=>null),fs_internal_1['FS'][_0xe9726b(0x117)]((0x0,path_1[_0xe9726b(0xf7)])(this[_0xe9726b(0xf6)],_0x1608bc),!![])[_0xe9726b(0x110)](()=>null)]);return{..._0x1f6d9a?{[_0x582483]:_0x1f6d9a}:{},..._0x11730a?{[_0x1608bc]:_0x11730a}:{}};}async[a150_0x3f4d63(0x135)](){const _0xb7d387=a150_0x3f4d63,_0x531f8c=[...this[_0xb7d387(0x12d)]];if(this[_0xb7d387(0x140)])for(const _0xb0b3f2 of _0x531f8c){if(constants_1[_0xb7d387(0x119)][_0xb7d387(0xf5)](_0xb0b3f2))continue;if(await fs_internal_1['FS'][_0xb7d387(0x115)]((0x0,path_1[_0xb7d387(0xf7)])(this[_0xb7d387(0xf6)],_0xb0b3f2))){const _0x1c2cc7=await fs_internal_1['FS'][_0xb7d387(0x130)]((0x0,path_1['join'])(this[_0xb7d387(0xf6)],_0xb0b3f2),!![]);_0x531f8c['push'](..._0x1c2cc7['map'](_0x4b8ef1=>(0x0,path_1[_0xb7d387(0x138)])(this[_0xb7d387(0xf6)],_0x4b8ef1)));}}this[_0xb7d387(0x12d)]=(0x0,utils_1[_0xb7d387(0x103)])(_0x531f8c);}async[a150_0x3f4d63(0x144)](){const _0x3d6463=a150_0x3f4d63;await this['init']();const _0x576619=[];for(const _0x13bb32 of this[_0x3d6463(0x12d)]){if(_0x13bb32['endsWith']('package.xml'))continue;const _0x52f2c9={};try{_0x52f2c9[_0x3d6463(0x104)]=await this[_0x3d6463(0x128)](_0x13bb32),_0x52f2c9[_0x3d6463(0x101)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3d6463(0xf5)](_0x13bb32)?_0x13bb32:(0x0,utils_1[_0x3d6463(0x11e)])({'files':_0x52f2c9['files']}),_0x13bb32[_0x3d6463(0x10f)](_0x3d6463(0xfd))?_0x52f2c9[_0x3d6463(0x139)]=_0x3d6463(0x116):_0x52f2c9[_0x3d6463(0x139)]=await(0x0,utils_1[_0x3d6463(0x10c)])({'files':_0x52f2c9[_0x3d6463(0x104)]});}catch(_0x29a5de){this[_0x3d6463(0x126)]['error'](_0x3d6463(0x10a),_0x13bb32,_0x29a5de);continue;}_0x52f2c9[_0x3d6463(0x13b)]=(0x0,utils_1[_0x3d6463(0x124)])(_0x13bb32),_0x52f2c9[_0x3d6463(0x122)]=(0x0,crc32_1[_0x3d6463(0x109)])(_0x52f2c9);if((0x0,utils_1['isParentComponent'])(_0x52f2c9)){const _0x41cd80=await this[_0x3d6463(0xfb)](_0x52f2c9);_0x576619[_0x3d6463(0x125)](..._0x41cd80);}if(_0x52f2c9[_0x3d6463(0x139)]==='CustomLabels')continue;settings_types_list_1[_0x3d6463(0x12e)]['includes'](_0x52f2c9['type'])&&(_0x52f2c9[_0x3d6463(0x139)]=_0x3d6463(0x113)),_0x576619[_0x3d6463(0x125)](_0x52f2c9);}return _0x576619;}}exports[a150_0x3f4d63(0x133)]=MDApiParser;