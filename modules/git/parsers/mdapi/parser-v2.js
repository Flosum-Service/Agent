const a146_0x56ecac=a146_0x2be0;(function(_0x16a6a6,_0x1bc572){const _0x2d58eb=a146_0x2be0,_0x464be7=_0x16a6a6();while(!![]){try{const _0x1eec8a=-parseInt(_0x2d58eb(0x1c6))/0x1+-parseInt(_0x2d58eb(0x1b4))/0x2+parseInt(_0x2d58eb(0x1c9))/0x3+parseInt(_0x2d58eb(0x1ba))/0x4*(-parseInt(_0x2d58eb(0x1c7))/0x5)+parseInt(_0x2d58eb(0x1a1))/0x6+parseInt(_0x2d58eb(0x1d8))/0x7*(-parseInt(_0x2d58eb(0x1e9))/0x8)+parseInt(_0x2d58eb(0x1b0))/0x9;if(_0x1eec8a===_0x1bc572)break;else _0x464be7['push'](_0x464be7['shift']());}catch(_0x4ef2ae){_0x464be7['push'](_0x464be7['shift']());}}}(a146_0x12d9,0x2d701));const a146_0x7884ae=(function(){let _0x416f8a=!![];return function(_0xbfdf89,_0x58b288){const _0x1ee901=_0x416f8a?function(){if(_0x58b288){const _0x26bb3f=_0x58b288['apply'](_0xbfdf89,arguments);return _0x58b288=null,_0x26bb3f;}}:function(){};return _0x416f8a=![],_0x1ee901;};}()),a146_0x4ff0d3=a146_0x7884ae(this,function(){const _0x32d659=a146_0x2be0;return a146_0x4ff0d3[_0x32d659(0x1a9)]()[_0x32d659(0x1d2)](_0x32d659(0x1a4))[_0x32d659(0x1a9)]()[_0x32d659(0x1d3)](a146_0x4ff0d3)[_0x32d659(0x1d2)](_0x32d659(0x1a4));});a146_0x4ff0d3();function a146_0x2be0(_0x1ba663,_0x46048e){const _0x280e3d=a146_0x12d9();return a146_0x2be0=function(_0x4ff0d3,_0x7884ae){_0x4ff0d3=_0x4ff0d3-0x1a1;let _0x12d994=_0x280e3d[_0x4ff0d3];return _0x12d994;},a146_0x2be0(_0x1ba663,_0x46048e);}'use strict';var __importDefault=this&&this[a146_0x56ecac(0x1dd)]||function(_0x1fc760){const _0x1f6815=a146_0x56ecac;return _0x1fc760&&_0x1fc760[_0x1f6815(0x1dc)]?_0x1fc760:{'default':_0x1fc760};};Object[a146_0x56ecac(0x1d1)](exports,a146_0x56ecac(0x1dc),{'value':!![]}),exports[a146_0x56ecac(0x1cd)]=void 0x0;const fs_internal_1=require(a146_0x56ecac(0x1b2)),utils_1=require(a146_0x56ecac(0x1db)),path_1=require(a146_0x56ecac(0x1b7)),xml_v2_1=require(a146_0x56ecac(0x1b1)),child_types_map_1=__importDefault(require(a146_0x56ecac(0x1aa))),constants_1=require(a146_0x56ecac(0x1b6)),core_1=require(a146_0x56ecac(0x1cc)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x56ecac(0x1ce))),settings_types_list_1=__importDefault(require(a146_0x56ecac(0x1b9))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a146_0x56ecac(0x1d6)]);class MDApiParserV2{constructor(_0x3b2aa1,_0x7b75d2){const _0x2b53ec=a146_0x56ecac;this[_0x2b53ec(0x1c2)]=_0x3b2aa1,this[_0x2b53ec(0x1e5)]=_0x7b75d2,this[_0x2b53ec(0x1d7)]=new core_1[(_0x2b53ec(0x1a5))](MDApiParserV2[_0x2b53ec(0x1a6)]),this[_0x2b53ec(0x1c3)]=_0x2b53ec(0x1ac),this[_0x2b53ec(0x1e3)]=_0x2b53ec(0x1da);}async[a146_0x56ecac(0x1af)](_0x39bf3c){const _0x42a6a5=a146_0x56ecac;try{const _0x35866d=await xml_v2_1[_0x42a6a5(0x1a2)]['parse'](Object[_0x42a6a5(0x1b3)](_0x39bf3c[_0x42a6a5(0x1cf)])[0x0][_0x42a6a5(0x1a9)](_0x42a6a5(0x1c5))),_0x37a373=CHILD_XML_KEYS[_0x42a6a5(0x1e1)](_0x4a6be4=>xml_v2_1[_0x42a6a5(0x1a2)]['hasChildNodes'](_0x35866d,_0x4a6be4))[_0x42a6a5(0x1e7)]((_0x41c867,_0x44cc57)=>[..._0x41c867,...xml_v2_1[_0x42a6a5(0x1a2)][_0x42a6a5(0x1bb)](_0x35866d,_0x44cc57)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x39bf3c,_0x35866d,_0x37a373);}catch(_0x3dbb9e){throw new Error(_0x42a6a5(0x1bd)+_0x39bf3c[_0x42a6a5(0x1a6)]+'\x20['+_0x39bf3c[_0x42a6a5(0x1ad)]+']');}}async[a146_0x56ecac(0x1bf)](_0x540f5d){const _0x377a05=a146_0x56ecac,_0x18f84=(0x0,path_1[_0x377a05(0x1b8)])(this[_0x377a05(0x1c2)],_0x540f5d),_0x1613e1=_0x540f5d+(_0x540f5d[_0x377a05(0x1be)](_0x377a05(0x1cb))?this[_0x377a05(0x1e3)]:this['META_EXTENSION']),_0x36a232=await fs_internal_1['FS'][_0x377a05(0x1ae)](_0x18f84,!![]),_0x1e249a=await fs_internal_1['FS'][_0x377a05(0x1de)]((0x0,path_1[_0x377a05(0x1b8)])(this[_0x377a05(0x1c2)],_0x1613e1),!![])[_0x377a05(0x1a8)](()=>null),_0xd8ae70={};for(const _0x3a2814 of _0x36a232){_0xd8ae70[(0x0,path_1['relative'])(this[_0x377a05(0x1c2)],_0x3a2814)[_0x377a05(0x1a7)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x3a2814,!![]);}return _0x1e249a&&(_0xd8ae70[(0x0,path_1[_0x377a05(0x1ab)])(this['dir'],_0x1613e1)[_0x377a05(0x1a7)](/\\/g,'/')]=_0x1e249a),_0xd8ae70;}async[a146_0x56ecac(0x1d0)](_0xfe18ec){const _0x774ab4=a146_0x56ecac,_0x55a1dc=_0xfe18ec+this['META_EXTENSION'];if(constants_1[_0x774ab4(0x1e6)]['test'](_0xfe18ec))return this[_0x774ab4(0x1bf)](_0xfe18ec);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x774ab4(0x1b8)])(this[_0x774ab4(0x1c2)],_0x55a1dc))){const _0x45b361=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x774ab4(0x1b8)])(this[_0x774ab4(0x1c2)],_0x55a1dc),!![]),_0x2d35ce=await(0x0,utils_1[_0x774ab4(0x1e0)])({'files':{[_0x55a1dc]:_0x45b361}})[_0x774ab4(0x1a8)](()=>null);if(_0x2d35ce&&folder_types_1[_0x774ab4(0x1d6)][_0x774ab4(0x1c8)](_0x2d35ce))return{[_0x55a1dc]:_0x45b361};return{[_0x55a1dc]:_0x45b361,[_0xfe18ec]:await fs_internal_1['FS'][_0x774ab4(0x1de)]((0x0,path_1[_0x774ab4(0x1b8)])(this[_0x774ab4(0x1c2)],_0xfe18ec),!![])};}return{[_0xfe18ec]:await fs_internal_1['FS'][_0x774ab4(0x1de)]((0x0,path_1['join'])(this[_0x774ab4(0x1c2)],_0xfe18ec),!![])};}[a146_0x56ecac(0x1c1)](){const _0x567da3=a146_0x56ecac;this[_0x567da3(0x1e5)]=this[_0x567da3(0x1e5)]['map'](_0x3ca604=>constants_1[_0x567da3(0x1e6)][_0x567da3(0x1c4)](_0x3ca604)?_0x3ca604['split']('/')[_0x567da3(0x1e4)](0x0,0x2)[_0x567da3(0x1b8)]('/'):_0x3ca604),this['paths']=[...new Set(this[_0x567da3(0x1e5)])];}async[a146_0x56ecac(0x1a3)](){const _0x358168=a146_0x56ecac,_0xefadd2=[];this[_0x358168(0x1c1)]();for(const _0x44d449 of this['paths']){if(_0x44d449[_0x358168(0x1b5)](_0x358168(0x1c0)))continue;const _0x15c29f={};try{_0x15c29f[_0x358168(0x1cf)]=await this[_0x358168(0x1d0)](_0x44d449),_0x15c29f[_0x358168(0x1d4)]=constants_1[_0x358168(0x1e6)][_0x358168(0x1c4)](_0x44d449)?_0x44d449:(0x0,utils_1[_0x358168(0x1d9)])({'files':_0x15c29f['files']}),_0x44d449[_0x358168(0x1be)]('waveTemplates')?_0x15c29f[_0x358168(0x1ad)]='WaveTemplateBundle':_0x15c29f['type']=await(0x0,utils_1[_0x358168(0x1e0)])({'files':_0x15c29f[_0x358168(0x1cf)]});}catch(_0x280b1b){this[_0x358168(0x1d7)][_0x358168(0x1e2)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x44d449,_0x280b1b);continue;}_0x15c29f['name']=(0x0,utils_1[_0x358168(0x1df)])(_0x44d449),_0x15c29f[_0x358168(0x1ca)]=(0x0,crc32_1[_0x358168(0x1d5)])(_0x15c29f);if((0x0,utils_1[_0x358168(0x1e8)])(_0x15c29f)){const _0x545f79=await this['readChildComponents'](_0x15c29f);_0xefadd2['push'](..._0x545f79);}if(_0x15c29f['type']==='CustomLabels')continue;settings_types_list_1[_0x358168(0x1d6)][_0x358168(0x1c8)](_0x15c29f[_0x358168(0x1ad)])&&(_0x15c29f[_0x358168(0x1ad)]=_0x358168(0x1bc)),_0xefadd2['push'](_0x15c29f);}return _0xefadd2;}}function a146_0x12d9(){const _0x25cbd5=['replace','catch','toString','../data/child-types-map','relative','-meta.xml','type','readDir','readChildComponents','10545057cmsYhl','../utils/xml-v2','../../internal/fs.internal','values','645898CXhvrc','endsWith','../../../../constants','path','join','../data/settings-types-list','8msxWij','getChildsByName','Settings','Cannot\x20parse\x20children\x20in\x20','startsWith','readBundledComponent','package.xml','foldBundledComponentsPaths','dir','META_EXTENSION','test','utf-8','321246lYapgw','904715lmNbqc','includes','490551RuGfII','crc','experiences','../../../../core','MDApiParserV2','../data/folder-types','files','readComponent','defineProperty','search','constructor','filePath','calculateCRC32','default','logger','245KglejS','extractFileNameFromFiles','.site-meta.xml','../utils','__esModule','__importDefault','readFile','extractFilenameFromPath','extractComponentTypeFromFiles','filter','error','META_EXPERIENCES_EXTENSION','slice','paths','BUNDLED_FOLDERS_REGEXP','reduce','isParentComponent','34280jQvfRL','41874USmPdr','XmlV2','parse','(((.+)+)+)+$','Logger','name'];a146_0x12d9=function(){return _0x25cbd5;};return a146_0x12d9();}exports[a146_0x56ecac(0x1cd)]=MDApiParserV2;