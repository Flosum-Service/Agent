const a146_0x56d06b=a146_0x3372;function a146_0x3372(_0xf5fa6a,_0x1d03fa){const _0x4f4e81=a146_0x3e65();return a146_0x3372=function(_0x54c06c,_0x497f70){_0x54c06c=_0x54c06c-0x70;let _0x3e656b=_0x4f4e81[_0x54c06c];return _0x3e656b;},a146_0x3372(_0xf5fa6a,_0x1d03fa);}(function(_0x3eda14,_0x47812d){const _0x24fbea=a146_0x3372,_0x38db99=_0x3eda14();while(!![]){try{const _0x758caa=-parseInt(_0x24fbea(0xa1))/0x1*(parseInt(_0x24fbea(0x72))/0x2)+parseInt(_0x24fbea(0xa2))/0x3+-parseInt(_0x24fbea(0x91))/0x4*(-parseInt(_0x24fbea(0x7f))/0x5)+parseInt(_0x24fbea(0xb0))/0x6+-parseInt(_0x24fbea(0x74))/0x7+parseInt(_0x24fbea(0x71))/0x8+-parseInt(_0x24fbea(0xb4))/0x9;if(_0x758caa===_0x47812d)break;else _0x38db99['push'](_0x38db99['shift']());}catch(_0x53df0a){_0x38db99['push'](_0x38db99['shift']());}}}(a146_0x3e65,0x82e2f));const a146_0x497f70=(function(){let _0x1e3855=!![];return function(_0x5122d6,_0x252d78){const _0x292fa1=_0x1e3855?function(){const _0x1852a9=a146_0x3372;if(_0x252d78){const _0x5e1ed7=_0x252d78[_0x1852a9(0x86)](_0x5122d6,arguments);return _0x252d78=null,_0x5e1ed7;}}:function(){};return _0x1e3855=![],_0x292fa1;};}()),a146_0x54c06c=a146_0x497f70(this,function(){const _0x477d24=a146_0x3372;return a146_0x54c06c['toString']()[_0x477d24(0x8a)]('(((.+)+)+)+$')[_0x477d24(0x76)]()['constructor'](a146_0x54c06c)[_0x477d24(0x8a)]('(((.+)+)+)+$');});a146_0x54c06c();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x246738){const _0x3290a3=a146_0x3372;return _0x246738&&_0x246738[_0x3290a3(0xaa)]?_0x246738:{'default':_0x246738};};Object[a146_0x56d06b(0x9f)](exports,'__esModule',{'value':!![]}),exports[a146_0x56d06b(0x8e)]=void 0x0;const fs_internal_1=require(a146_0x56d06b(0x85)),utils_1=require(a146_0x56d06b(0xac)),path_1=require(a146_0x56d06b(0xb3)),xml_v2_1=require(a146_0x56d06b(0x87)),child_types_map_1=__importDefault(require(a146_0x56d06b(0x7c))),constants_1=require(a146_0x56d06b(0x82)),core_1=require('../../../../core'),crc32_1=require(a146_0x56d06b(0xad)),folder_types_1=__importDefault(require(a146_0x56d06b(0x80))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),CHILD_XML_KEYS=Object['values'](child_types_map_1[a146_0x56d06b(0x98)]);class MDApiParserV2{constructor(_0x1c201b,_0x4765bd){const _0x2a347d=a146_0x56d06b;this['dir']=_0x1c201b,this[_0x2a347d(0x70)]=_0x4765bd,this['logger']=new core_1[(_0x2a347d(0x90))](MDApiParserV2[_0x2a347d(0xa5)]),this[_0x2a347d(0x9a)]='-meta.xml',this[_0x2a347d(0x88)]=_0x2a347d(0x9b);}async[a146_0x56d06b(0xa6)](_0x57a6d8){const _0x56a539=a146_0x56d06b;try{const _0x55da05=await xml_v2_1[_0x56a539(0xa7)][_0x56a539(0x77)](Object[_0x56a539(0x79)](_0x57a6d8[_0x56a539(0x93)])[0x0]['toString']('utf-8')),_0x252618=CHILD_XML_KEYS['filter'](_0x1afb6f=>xml_v2_1[_0x56a539(0xa7)][_0x56a539(0xb6)](_0x55da05,_0x1afb6f))[_0x56a539(0xb5)]((_0x52acbb,_0x28f757)=>[..._0x52acbb,...xml_v2_1[_0x56a539(0xa7)]['getChildsByName'](_0x55da05,_0x28f757)],[]);return(0x0,utils_1[_0x56a539(0x83)])(_0x57a6d8,_0x55da05,_0x252618);}catch(_0x834d8c){throw new Error(_0x56a539(0x96)+_0x57a6d8[_0x56a539(0xa5)]+'\x20['+_0x57a6d8[_0x56a539(0x92)]+']');}}async[a146_0x56d06b(0x8d)](_0x3299fd){const _0x20ef11=a146_0x56d06b,_0x4ea758=(0x0,path_1['join'])(this[_0x20ef11(0x8f)],_0x3299fd),_0x401e8c=_0x3299fd+(_0x3299fd[_0x20ef11(0x9e)](_0x20ef11(0xaf))?this[_0x20ef11(0x88)]:this['META_EXTENSION']),_0x39be1b=await fs_internal_1['FS']['readDir'](_0x4ea758,!![]),_0x19781f=await fs_internal_1['FS'][_0x20ef11(0xa8)]((0x0,path_1['join'])(this['dir'],_0x401e8c),!![])[_0x20ef11(0x94)](()=>null),_0x2a1276={};for(const _0x285135 of _0x39be1b){_0x2a1276[(0x0,path_1[_0x20ef11(0x78)])(this[_0x20ef11(0x8f)],_0x285135)[_0x20ef11(0xb7)](/\\/g,'/')]=await fs_internal_1['FS'][_0x20ef11(0xa8)](_0x285135,!![]);}return _0x19781f&&(_0x2a1276[(0x0,path_1['relative'])(this[_0x20ef11(0x8f)],_0x401e8c)[_0x20ef11(0xb7)](/\\/g,'/')]=_0x19781f),_0x2a1276;}async['readComponent'](_0x146615){const _0x50ffc7=a146_0x56d06b,_0x3270dc=_0x146615+this[_0x50ffc7(0x9a)];if(constants_1[_0x50ffc7(0xab)][_0x50ffc7(0x84)](_0x146615))return this[_0x50ffc7(0x8d)](_0x146615);if(await fs_internal_1['FS'][_0x50ffc7(0x99)]((0x0,path_1[_0x50ffc7(0x81)])(this['dir'],_0x3270dc))){const _0x3e3a07=await fs_internal_1['FS'][_0x50ffc7(0xa8)]((0x0,path_1[_0x50ffc7(0x81)])(this[_0x50ffc7(0x8f)],_0x3270dc),!![]),_0x20a6d2=await(0x0,utils_1[_0x50ffc7(0xa4)])({'files':{[_0x3270dc]:_0x3e3a07}})[_0x50ffc7(0x94)](()=>null);if(_0x20a6d2&&folder_types_1[_0x50ffc7(0x98)][_0x50ffc7(0x89)](_0x20a6d2))return{[_0x3270dc]:_0x3e3a07};return{[_0x3270dc]:_0x3e3a07,[_0x146615]:await fs_internal_1['FS'][_0x50ffc7(0xa8)]((0x0,path_1['join'])(this[_0x50ffc7(0x8f)],_0x146615),!![])};}return{[_0x146615]:await fs_internal_1['FS'][_0x50ffc7(0xa8)]((0x0,path_1[_0x50ffc7(0x81)])(this['dir'],_0x146615),!![])};}[a146_0x56d06b(0x73)](){const _0x4be041=a146_0x56d06b;this[_0x4be041(0x70)]=this['paths'][_0x4be041(0xae)](_0x1af44f=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x4be041(0x84)](_0x1af44f)?_0x1af44f['split']('/')[_0x4be041(0xa9)](0x0,0x2)[_0x4be041(0x81)]('/'):_0x1af44f),this['paths']=[...new Set(this['paths'])];}async[a146_0x56d06b(0x77)](){const _0x531ccb=a146_0x56d06b,_0x53830a=[];this['foldBundledComponentsPaths']();for(const _0x42857c of this[_0x531ccb(0x70)]){if(_0x42857c['endsWith'](_0x531ccb(0x8b)))continue;const _0x2dfc32={};try{_0x2dfc32['files']=await this[_0x531ccb(0x8c)](_0x42857c),_0x2dfc32[_0x531ccb(0x7b)]=constants_1[_0x531ccb(0xab)][_0x531ccb(0x84)](_0x42857c)?_0x42857c:(0x0,utils_1[_0x531ccb(0xb2)])({'files':_0x2dfc32[_0x531ccb(0x93)]}),_0x42857c[_0x531ccb(0x9e)](_0x531ccb(0xa3))?_0x2dfc32['type']=_0x531ccb(0xb1):_0x2dfc32[_0x531ccb(0x92)]=await(0x0,utils_1[_0x531ccb(0xa4)])({'files':_0x2dfc32[_0x531ccb(0x93)]});}catch(_0x235abc){this[_0x531ccb(0x95)][_0x531ccb(0xa0)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x42857c,_0x235abc);continue;}_0x2dfc32[_0x531ccb(0xa5)]=(0x0,utils_1[_0x531ccb(0x75)])(_0x42857c),_0x2dfc32[_0x531ccb(0x9c)]=(0x0,crc32_1[_0x531ccb(0x9d)])(_0x2dfc32);if((0x0,utils_1[_0x531ccb(0x97)])(_0x2dfc32)){const _0x200087=await this[_0x531ccb(0xa6)](_0x2dfc32);_0x53830a[_0x531ccb(0x7a)](..._0x200087);}if(_0x2dfc32[_0x531ccb(0x92)]===_0x531ccb(0x7e))continue;settings_types_list_1[_0x531ccb(0x98)]['includes'](_0x2dfc32[_0x531ccb(0x92)])&&(_0x2dfc32[_0x531ccb(0x92)]=_0x531ccb(0x7d)),_0x53830a[_0x531ccb(0x7a)](_0x2dfc32);}return _0x53830a;}}exports[a146_0x56d06b(0x8e)]=MDApiParserV2;function a146_0x3e65(){const _0x124afe=['MDApiParserV2','dir','Logger','8dzrvZh','type','files','catch','logger','Cannot\x20parse\x20children\x20in\x20','isParentComponent','default','exists','META_EXTENSION','.site-meta.xml','crc','calculateCRC32','startsWith','defineProperty','error','1cSsBYb','757062bFOsjO','waveTemplates','extractComponentTypeFromFiles','name','readChildComponents','XmlV2','readFile','slice','__esModule','BUNDLED_FOLDERS_REGEXP','../utils','../utils/crc32','map','experiences','2309892jxhcAG','WaveTemplateBundle','extractFileNameFromFiles','path','3713877YZTOlT','reduce','hasChildNodes','replace','paths','3695480aBddPg','430834XZCxAF','foldBundledComponentsPaths','3335864IrbhGp','extractFilenameFromPath','toString','parse','relative','values','push','filePath','../data/child-types-map','Settings','CustomLabels','1353655GCcOGB','../data/folder-types','join','../../../../constants','createChildComponentsFromParent','test','../../internal/fs.internal','apply','../utils/xml-v2','META_EXPERIENCES_EXTENSION','includes','search','package.xml','readComponent','readBundledComponent'];a146_0x3e65=function(){return _0x124afe;};return a146_0x3e65();}