const a101_0xb1736=a101_0x1c49;(function(_0x289f1b,_0x34f45d){const _0x3c66aa=a101_0x1c49,_0xa7155b=_0x289f1b();while(!![]){try{const _0x8edd5b=parseInt(_0x3c66aa(0x10d))/0x1+parseInt(_0x3c66aa(0x13b))/0x2*(-parseInt(_0x3c66aa(0x121))/0x3)+parseInt(_0x3c66aa(0x146))/0x4*(parseInt(_0x3c66aa(0x13e))/0x5)+-parseInt(_0x3c66aa(0x10f))/0x6*(parseInt(_0x3c66aa(0x10b))/0x7)+-parseInt(_0x3c66aa(0x136))/0x8+-parseInt(_0x3c66aa(0x10c))/0x9*(parseInt(_0x3c66aa(0x111))/0xa)+parseInt(_0x3c66aa(0x123))/0xb*(parseInt(_0x3c66aa(0x129))/0xc);if(_0x8edd5b===_0x34f45d)break;else _0xa7155b['push'](_0xa7155b['shift']());}catch(_0x3e9e52){_0xa7155b['push'](_0xa7155b['shift']());}}}(a101_0x3775,0x1ed12));const a101_0x285009=(function(){let _0x39dd59=!![];return function(_0x31f33e,_0xece38c){const _0x31952f=_0x39dd59?function(){const _0x361118=a101_0x1c49;if(_0xece38c){const _0x3f6571=_0xece38c[_0x361118(0x124)](_0x31f33e,arguments);return _0xece38c=null,_0x3f6571;}}:function(){};return _0x39dd59=![],_0x31952f;};}()),a101_0x155387=a101_0x285009(this,function(){const _0x211691=a101_0x1c49;return a101_0x155387[_0x211691(0x115)]()[_0x211691(0x12a)](_0x211691(0x12d))[_0x211691(0x115)]()['constructor'](a101_0x155387)[_0x211691(0x12a)](_0x211691(0x12d));});a101_0x155387();'use strict';var __importDefault=this&&this[a101_0xb1736(0x12b)]||function(_0x72d8ab){const _0x5d1315=a101_0xb1736;return _0x72d8ab&&_0x72d8ab[_0x5d1315(0x12f)]?_0x72d8ab:{'default':_0x72d8ab};};function a101_0x3775(){const _0x106c59=['waveTemplates','BUNDLED_FOLDERS_REGEXP','relative','dir','extractFileNameFromFiles','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXPERIENCES_EXTENSION','7xZIwYq','117BzMhdV','134865iCDlhz','map','16782uUyqxT','values','93830DfrhhN','experiences','startsWith','readDir','toString','../data/child-types-map','readChildComponents','exists','files','error','join','readFile','isParentComponent','readComponent','default','WaveTemplateBundle','81qcZeIH','filePath','55lroHrz','apply','path','name','reduce','includes','600252cKNYHU','search','__importDefault','logger','(((.+)+)+)+$','CustomLabels','__esModule','createChildComponentsFromParent','filter','parse','../../../../constants','MDApiParserV2','../utils/crc32','659536rloKeY','catch','utf-8','extractFilenameFromPath','slice','10756ZCckmZ','../utils/xml','replace','10OeuDke','extractComponentTypeFromFiles','paths','split','type','test','foldBundledComponentsPaths','Cannot\x20parse\x20children\x20in\x20','187360XLVVLa','Xml','calculateCRC32','push','readBundledComponent','endsWith'];a101_0x3775=function(){return _0x106c59;};return a101_0x3775();}Object['defineProperty'](exports,a101_0xb1736(0x12f),{'value':!![]}),exports[a101_0xb1736(0x134)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require('../utils'),path_1=require(a101_0xb1736(0x125)),xml_1=require(a101_0xb1736(0x13c)),child_types_map_1=__importDefault(require(a101_0xb1736(0x116))),constants_1=require(a101_0xb1736(0x133)),core_1=require('../../../../core'),crc32_1=require(a101_0xb1736(0x135)),folder_types_1=__importDefault(require('../data/folder-types')),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);function a101_0x1c49(_0x584a1f,_0x5dc7e9){const _0x2c67cc=a101_0x3775();return a101_0x1c49=function(_0x155387,_0x285009){_0x155387=_0x155387-0x106;let _0x37752f=_0x2c67cc[_0x155387];return _0x37752f;},a101_0x1c49(_0x584a1f,_0x5dc7e9);}class MDApiParserV2{constructor(_0x106143,_0xfe83fd){const _0x8287a7=a101_0xb1736;this[_0x8287a7(0x107)]=_0x106143,this[_0x8287a7(0x140)]=_0xfe83fd,this[_0x8287a7(0x12c)]=new core_1['Logger'](MDApiParserV2[_0x8287a7(0x126)]),this['META_EXTENSION']='-meta.xml',this[_0x8287a7(0x10a)]='.site-meta.xml';}async[a101_0xb1736(0x117)](_0x3a75b0){const _0x19f4e4=a101_0xb1736;try{const _0x54ec3b=await xml_1[_0x19f4e4(0x147)]['parse'](Object[_0x19f4e4(0x110)](_0x3a75b0[_0x19f4e4(0x119)])[0x0][_0x19f4e4(0x115)](_0x19f4e4(0x138))),_0x48c7ba=CHILD_XML_KEYS[_0x19f4e4(0x131)](_0x2cc383=>xml_1['Xml']['hasChildNodes'](_0x54ec3b,_0x2cc383))[_0x19f4e4(0x127)]((_0x14d305,_0x4d05ee)=>[..._0x14d305,...xml_1[_0x19f4e4(0x147)]['getChildsByName'](_0x54ec3b,_0x4d05ee)],[]);return utils_1[_0x19f4e4(0x130)](_0x3a75b0,_0x54ec3b,_0x48c7ba);}catch(_0x3fed5a){throw new Error(_0x19f4e4(0x145)+_0x3a75b0[_0x19f4e4(0x126)]+'\x20['+_0x3a75b0[_0x19f4e4(0x142)]+']');}}async['readBundledComponent'](_0x43847e){const _0x5ba6e9=a101_0xb1736,_0x58e3ed=path_1[_0x5ba6e9(0x11b)](this['dir'],_0x43847e),_0x99f5db=_0x43847e+(_0x43847e[_0x5ba6e9(0x113)](_0x5ba6e9(0x112))?this[_0x5ba6e9(0x10a)]:this['META_EXTENSION']),_0x62aaf4=await fs_internal_1['FS'][_0x5ba6e9(0x114)](_0x58e3ed,!![]),_0x2bcf99=await fs_internal_1['FS'][_0x5ba6e9(0x11c)](path_1['join'](this['dir'],_0x99f5db),!![])[_0x5ba6e9(0x137)](()=>null),_0x2e73f0={};for(const _0x350899 of _0x62aaf4){_0x2e73f0[path_1[_0x5ba6e9(0x106)](this['dir'],_0x350899)[_0x5ba6e9(0x13d)](/\\/g,'/')]=await fs_internal_1['FS'][_0x5ba6e9(0x11c)](_0x350899,!![]);}return _0x2bcf99&&(_0x2e73f0[path_1[_0x5ba6e9(0x106)](this['dir'],_0x99f5db)[_0x5ba6e9(0x13d)](/\\/g,'/')]=_0x2bcf99),_0x2e73f0;}async[a101_0xb1736(0x11e)](_0x2a4e39){const _0x193e6d=a101_0xb1736,_0x1c0346=_0x2a4e39+this['META_EXTENSION'];if(constants_1[_0x193e6d(0x14d)][_0x193e6d(0x143)](_0x2a4e39))return this[_0x193e6d(0x14a)](_0x2a4e39);if(await fs_internal_1['FS'][_0x193e6d(0x118)](path_1[_0x193e6d(0x11b)](this[_0x193e6d(0x107)],_0x1c0346))){const _0x5c119d=await fs_internal_1['FS']['readFile'](path_1[_0x193e6d(0x11b)](this[_0x193e6d(0x107)],_0x1c0346),!![]),_0xbc1c9d=await utils_1[_0x193e6d(0x13f)]({'files':{[_0x1c0346]:_0x5c119d}})['catch'](()=>null);if(_0xbc1c9d&&folder_types_1[_0x193e6d(0x11f)][_0x193e6d(0x128)](_0xbc1c9d))return{[_0x1c0346]:_0x5c119d};return{[_0x1c0346]:_0x5c119d,[_0x2a4e39]:await fs_internal_1['FS']['readFile'](path_1['join'](this['dir'],_0x2a4e39),!![])};}return{[_0x2a4e39]:await fs_internal_1['FS']['readFile'](path_1[_0x193e6d(0x11b)](this[_0x193e6d(0x107)],_0x2a4e39),!![])};}[a101_0xb1736(0x144)](){const _0x4e1a56=a101_0xb1736;this['paths']=this[_0x4e1a56(0x140)][_0x4e1a56(0x10e)](_0x44bab1=>constants_1[_0x4e1a56(0x14d)][_0x4e1a56(0x143)](_0x44bab1)?_0x44bab1[_0x4e1a56(0x141)]('/')[_0x4e1a56(0x13a)](0x0,0x2)[_0x4e1a56(0x11b)]('/'):_0x44bab1),this[_0x4e1a56(0x140)]=[...new Set(this[_0x4e1a56(0x140)])];}async[a101_0xb1736(0x132)](){const _0x18dfde=a101_0xb1736,_0x5efb59=[];this['foldBundledComponentsPaths']();for(const _0x909b73 of this['paths']){if(_0x909b73[_0x18dfde(0x14b)]('package.xml'))continue;const _0x1e56bd={};try{_0x1e56bd[_0x18dfde(0x119)]=await this[_0x18dfde(0x11e)](_0x909b73),_0x1e56bd[_0x18dfde(0x122)]=constants_1[_0x18dfde(0x14d)][_0x18dfde(0x143)](_0x909b73)?_0x909b73:utils_1[_0x18dfde(0x108)]({'files':_0x1e56bd['files']}),_0x909b73[_0x18dfde(0x113)](_0x18dfde(0x14c))?_0x1e56bd[_0x18dfde(0x142)]=_0x18dfde(0x120):_0x1e56bd[_0x18dfde(0x142)]=await utils_1[_0x18dfde(0x13f)]({'files':_0x1e56bd[_0x18dfde(0x119)]});}catch(_0x4029af){this['logger'][_0x18dfde(0x11a)](_0x18dfde(0x109),_0x909b73,_0x4029af);continue;}_0x1e56bd[_0x18dfde(0x126)]=utils_1[_0x18dfde(0x139)](_0x909b73),_0x1e56bd['crc']=crc32_1[_0x18dfde(0x148)](_0x1e56bd);if(utils_1[_0x18dfde(0x11d)](_0x1e56bd)){const _0x394b9f=await this['readChildComponents'](_0x1e56bd);_0x5efb59[_0x18dfde(0x149)](..._0x394b9f);}if(_0x1e56bd[_0x18dfde(0x142)]===_0x18dfde(0x12e))continue;_0x5efb59['push'](_0x1e56bd);}return _0x5efb59;}}exports[a101_0xb1736(0x134)]=MDApiParserV2;