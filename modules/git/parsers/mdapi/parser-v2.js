const a149_0xc780ca=a149_0x4363;(function(_0xd7b953,_0x234ab3){const _0x36fc77=a149_0x4363,_0x1df2a9=_0xd7b953();while(!![]){try{const _0x5c2a65=-parseInt(_0x36fc77(0x183))/0x1+-parseInt(_0x36fc77(0x1ad))/0x2+parseInt(_0x36fc77(0x199))/0x3+-parseInt(_0x36fc77(0x17f))/0x4*(-parseInt(_0x36fc77(0x180))/0x5)+parseInt(_0x36fc77(0x1b5))/0x6*(-parseInt(_0x36fc77(0x1c0))/0x7)+parseInt(_0x36fc77(0x194))/0x8*(-parseInt(_0x36fc77(0x1bf))/0x9)+parseInt(_0x36fc77(0x18a))/0xa*(parseInt(_0x36fc77(0x19c))/0xb);if(_0x5c2a65===_0x234ab3)break;else _0x1df2a9['push'](_0x1df2a9['shift']());}catch(_0x7c5fb2){_0x1df2a9['push'](_0x1df2a9['shift']());}}}(a149_0x52fa,0xd41be));const a149_0x127354=(function(){let _0x1b845b=!![];return function(_0x5adc54,_0x948f3c){const _0x1750e9=_0x1b845b?function(){if(_0x948f3c){const _0x37bb73=_0x948f3c['apply'](_0x5adc54,arguments);return _0x948f3c=null,_0x37bb73;}}:function(){};return _0x1b845b=![],_0x1750e9;};}()),a149_0x206aae=a149_0x127354(this,function(){const _0x12df17=a149_0x4363;return a149_0x206aae[_0x12df17(0x178)]()[_0x12df17(0x1be)](_0x12df17(0x1a9))[_0x12df17(0x178)]()[_0x12df17(0x177)](a149_0x206aae)[_0x12df17(0x1be)]('(((.+)+)+)+$');});a149_0x206aae();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x122c89){return _0x122c89&&_0x122c89['__esModule']?_0x122c89:{'default':_0x122c89};};Object[a149_0xc780ca(0x17a)](exports,a149_0xc780ca(0x190),{'value':!![]}),exports[a149_0xc780ca(0x18f)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a149_0xc780ca(0x18c)),path_1=require(a149_0xc780ca(0x1a3)),xml_v2_1=require(a149_0xc780ca(0x1b3)),child_types_map_1=__importDefault(require(a149_0xc780ca(0x1b8))),constants_1=require(a149_0xc780ca(0x1ac)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a149_0xc780ca(0x197))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a149_0xc780ca(0x192)](child_types_map_1[a149_0xc780ca(0x193)]);function a149_0x4363(_0x4d0466,_0x48d57a){const _0x4c7cb8=a149_0x52fa();return a149_0x4363=function(_0x206aae,_0x127354){_0x206aae=_0x206aae-0x177;let _0x52fa7e=_0x4c7cb8[_0x206aae];return _0x52fa7e;},a149_0x4363(_0x4d0466,_0x48d57a);}function a149_0x52fa(){const _0x1565dc=['push','(((.+)+)+)+$','reduce','BaseParser','../../../../constants','33680TtSRXe','extractComponentTypeFromFiles','foldBundledComponentsPaths','calculateCRC32','join','readFile','../utils/xml-v2','extractFilenameFromPath','89574qrxOoa','includes','utf-8','../data/child-types-map','readBundledComponent','name','isParentComponent','readDir','BUNDLED_FOLDERS_REGEXP','search','1405386kdsitw','154ydczTp','constructor','toString','META_EXPERIENCES_EXTENSION','defineProperty','META_EXTENSION','test','extractFileNameFromFiles','WaveTemplateBundle','1432oaNgHd','3740iMJCoO','hasChildNodes','XmlV2','387728rIWaYw','dir','type','waveTemplates','package.xml','endsWith','slice','8453970sRBEwJ','createChildComponentsFromParent','../utils','relative','getChildsByName','MDApiParserV2','__esModule','experiences','values','default','56hKLYFu','split','catch','../data/folder-types','Cannot\x20parse\x20children\x20in\x20','4745103VHmaCK','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','error','11JgKfOS','crc','readChildComponents','logger','readComponent','-meta.xml','files','path','paths','Settings','startsWith','parse'];a149_0x52fa=function(){return _0x1565dc;};return a149_0x52fa();}class MDApiParserV2 extends base_parser_1[a149_0xc780ca(0x1ab)]{constructor(_0x3f8b9d,_0x1b8b0c){const _0x189d72=a149_0xc780ca;super(MDApiParserV2[_0x189d72(0x1ba)],_0x3f8b9d,_0x1b8b0c),this[_0x189d72(0x17b)]=_0x189d72(0x1a1),this[_0x189d72(0x179)]='.site-meta.xml';}async[a149_0xc780ca(0x19e)](_0x150149){const _0x221fc9=a149_0xc780ca;try{const _0x2873a2=await xml_v2_1['XmlV2']['parse'](Object['values'](_0x150149['files'])[0x0][_0x221fc9(0x178)](_0x221fc9(0x1b7))),_0x3e58ac=CHILD_XML_KEYS['filter'](_0x3a5e7a=>xml_v2_1[_0x221fc9(0x182)][_0x221fc9(0x181)](_0x2873a2,_0x3a5e7a))[_0x221fc9(0x1aa)]((_0x3a8414,_0x3b7534)=>[..._0x3a8414,...xml_v2_1[_0x221fc9(0x182)][_0x221fc9(0x18e)](_0x2873a2,_0x3b7534)],[]);return(0x0,utils_1[_0x221fc9(0x18b)])(_0x150149,_0x2873a2,_0x3e58ac);}catch(_0x6f8f68){throw new Error(_0x221fc9(0x198)+_0x150149['name']+'\x20['+_0x150149[_0x221fc9(0x185)]+']');}}async[a149_0xc780ca(0x1b9)](_0x5c9ff3){const _0x15fc6e=a149_0xc780ca,_0x1b067f=(0x0,path_1['join'])(this[_0x15fc6e(0x184)],_0x5c9ff3),_0x245fc1=_0x5c9ff3+(_0x5c9ff3['startsWith'](_0x15fc6e(0x191))?this[_0x15fc6e(0x179)]:this[_0x15fc6e(0x17b)]),_0x48ce95=await fs_internal_1['FS'][_0x15fc6e(0x1bc)](_0x1b067f,!![]),_0x2b0e6e=await fs_internal_1['FS'][_0x15fc6e(0x1b2)]((0x0,path_1[_0x15fc6e(0x1b1)])(this[_0x15fc6e(0x184)],_0x245fc1),!![])[_0x15fc6e(0x196)](()=>null),_0x212a85={};for(const _0x4a3091 of _0x48ce95){_0x212a85[(0x0,path_1[_0x15fc6e(0x18d)])(this[_0x15fc6e(0x184)],_0x4a3091)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x15fc6e(0x1b2)](_0x4a3091,!![]);}return _0x2b0e6e&&(_0x212a85[(0x0,path_1[_0x15fc6e(0x18d)])(this[_0x15fc6e(0x184)],_0x245fc1)['replace'](/\\/g,'/')]=_0x2b0e6e),_0x212a85;}async[a149_0xc780ca(0x1a0)](_0x17d5be){const _0xa0eaa3=a149_0xc780ca,_0x458b62=_0x17d5be+this[_0xa0eaa3(0x17b)];if(constants_1[_0xa0eaa3(0x1bd)]['test'](_0x17d5be))return this[_0xa0eaa3(0x1b9)](_0x17d5be);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0xa0eaa3(0x1b1)])(this[_0xa0eaa3(0x184)],_0x458b62))){const _0x4d2c96=await fs_internal_1['FS']['readFile']((0x0,path_1[_0xa0eaa3(0x1b1)])(this[_0xa0eaa3(0x184)],_0x458b62),!![]),_0x11745d=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x458b62]:_0x4d2c96}})[_0xa0eaa3(0x196)](()=>null);if(_0x11745d&&folder_types_1['default'][_0xa0eaa3(0x1b6)](_0x11745d))return{[_0x458b62]:_0x4d2c96};return{[_0x458b62]:_0x4d2c96,[_0x17d5be]:await fs_internal_1['FS'][_0xa0eaa3(0x1b2)]((0x0,path_1[_0xa0eaa3(0x1b1)])(this[_0xa0eaa3(0x184)],_0x17d5be),!![])};}return{[_0x17d5be]:await fs_internal_1['FS'][_0xa0eaa3(0x1b2)]((0x0,path_1[_0xa0eaa3(0x1b1)])(this[_0xa0eaa3(0x184)],_0x17d5be),!![])};}[a149_0xc780ca(0x1af)](){const _0x316813=a149_0xc780ca;this[_0x316813(0x1a4)]=this[_0x316813(0x1a4)]['map'](_0x4addec=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x316813(0x17c)](_0x4addec)?_0x4addec[_0x316813(0x195)]('/')[_0x316813(0x189)](0x0,0x2)[_0x316813(0x1b1)]('/'):_0x4addec),this[_0x316813(0x1a4)]=[...new Set(this[_0x316813(0x1a4)])];}async[a149_0xc780ca(0x1a7)](){const _0x44a77d=a149_0xc780ca,_0x10e743=[];this['foldBundledComponentsPaths']();for(const _0x388783 of this['paths']){if(_0x388783[_0x44a77d(0x188)](_0x44a77d(0x187)))continue;const _0x33b171={};try{_0x33b171[_0x44a77d(0x1a2)]=await this['readComponent'](_0x388783),_0x33b171['filePath']=constants_1[_0x44a77d(0x1bd)][_0x44a77d(0x17c)](_0x388783)?_0x388783:(0x0,utils_1[_0x44a77d(0x17d)])({'files':_0x33b171[_0x44a77d(0x1a2)]}),_0x388783[_0x44a77d(0x1a6)](_0x44a77d(0x186))?_0x33b171[_0x44a77d(0x185)]=_0x44a77d(0x17e):_0x33b171[_0x44a77d(0x185)]=await(0x0,utils_1[_0x44a77d(0x1ae)])({'files':_0x33b171[_0x44a77d(0x1a2)]});}catch(_0x9dad56){this[_0x44a77d(0x19f)][_0x44a77d(0x19b)](_0x44a77d(0x19a),_0x388783,_0x9dad56);continue;}_0x33b171[_0x44a77d(0x1ba)]=(0x0,utils_1[_0x44a77d(0x1b4)])(_0x388783),_0x33b171[_0x44a77d(0x19d)]=(0x0,crc32_1[_0x44a77d(0x1b0)])(_0x33b171);if((0x0,utils_1[_0x44a77d(0x1bb)])(_0x33b171)){const _0x2cf14f=await this['readChildComponents'](_0x33b171);_0x10e743['push'](..._0x2cf14f);}if(_0x33b171[_0x44a77d(0x185)]==='CustomLabels')continue;settings_types_list_1[_0x44a77d(0x193)]['includes'](_0x33b171[_0x44a77d(0x185)])&&(_0x33b171[_0x44a77d(0x185)]=_0x44a77d(0x1a5)),_0x10e743[_0x44a77d(0x1a8)](_0x33b171);}return _0x10e743;}}exports[a149_0xc780ca(0x18f)]=MDApiParserV2;