const a149_0x1d8b8c=a149_0x2fae;(function(_0x2018cf,_0x3cf0e6){const _0x351dee=a149_0x2fae,_0x54fa61=_0x2018cf();while(!![]){try{const _0x2053e1=-parseInt(_0x351dee(0x125))/0x1*(parseInt(_0x351dee(0x12f))/0x2)+-parseInt(_0x351dee(0x14a))/0x3+-parseInt(_0x351dee(0x132))/0x4*(-parseInt(_0x351dee(0x133))/0x5)+parseInt(_0x351dee(0x10d))/0x6+parseInt(_0x351dee(0x144))/0x7*(parseInt(_0x351dee(0x13f))/0x8)+parseInt(_0x351dee(0x126))/0x9*(-parseInt(_0x351dee(0x13e))/0xa)+parseInt(_0x351dee(0x116))/0xb;if(_0x2053e1===_0x3cf0e6)break;else _0x54fa61['push'](_0x54fa61['shift']());}catch(_0x44fcdc){_0x54fa61['push'](_0x54fa61['shift']());}}}(a149_0x36c9,0x8f940));const a149_0x5416d8=(function(){let _0x36ee4e=!![];return function(_0x2e42de,_0x17efbd){const _0x5af64e=_0x36ee4e?function(){if(_0x17efbd){const _0x77313=_0x17efbd['apply'](_0x2e42de,arguments);return _0x17efbd=null,_0x77313;}}:function(){};return _0x36ee4e=![],_0x5af64e;};}()),a149_0x4b060a=a149_0x5416d8(this,function(){const _0x593ee0=a149_0x2fae;return a149_0x4b060a[_0x593ee0(0x148)]()[_0x593ee0(0x12b)](_0x593ee0(0x11c))[_0x593ee0(0x148)]()[_0x593ee0(0x10a)](a149_0x4b060a)['search'](_0x593ee0(0x11c));});a149_0x4b060a();function a149_0x36c9(){const _0x491076=['test','../data/child-types-map','type','hasChildNodes','(((.+)+)+)+$','readChildComponents','readComponent','experiences','readBundledComponent','join','WaveTemplateBundle','logger','META_EXTENSION','4bULpnQ','594MYobTL','dir','META_EXPERIENCES_EXTENSION','../utils','parse','search','reduce','readDir','../utils/crc32','126222IjeSMu','paths','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','4HNuIhJ','352325DFShso','includes','replace','startsWith','default','CustomLabels','values','BUNDLED_FOLDERS_REGEXP','../data/folder-types','utf-8','files','132220aZFmSX','8sqelJM','filter','path','catch','createChildComponentsFromParent','2269141FfuAzs','error','crc','name','toString','endsWith','1985682sFFnrk','defineProperty','readFile','map','foldBundledComponentsPaths','./base.parser','__importDefault','waveTemplates','constructor','getChildsByName','relative','4311624EzwSil','slice','-meta.xml','extractFileNameFromFiles','package.xml','XmlV2','split','MDApiParserV2','../utils/xml-v2','13880394AXXASG','extractComponentTypeFromFiles'];a149_0x36c9=function(){return _0x491076;};return a149_0x36c9();}'use strict';var __importDefault=this&&this[a149_0x1d8b8c(0x108)]||function(_0x16a1f8){return _0x16a1f8&&_0x16a1f8['__esModule']?_0x16a1f8:{'default':_0x16a1f8};};Object[a149_0x1d8b8c(0x14b)](exports,'__esModule',{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a149_0x1d8b8c(0x129)),path_1=require(a149_0x1d8b8c(0x141)),xml_v2_1=require(a149_0x1d8b8c(0x115)),child_types_map_1=__importDefault(require(a149_0x1d8b8c(0x119))),constants_1=require('../../../../constants'),crc32_1=require(a149_0x1d8b8c(0x12e)),folder_types_1=__importDefault(require(a149_0x1d8b8c(0x13b))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),base_parser_1=require(a149_0x1d8b8c(0x107)),CHILD_XML_KEYS=Object[a149_0x1d8b8c(0x139)](child_types_map_1[a149_0x1d8b8c(0x137)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor(_0x3e8da7,_0x208261){const _0x32c069=a149_0x1d8b8c;super(MDApiParserV2[_0x32c069(0x147)],_0x3e8da7,_0x208261),this[_0x32c069(0x124)]=_0x32c069(0x10f),this[_0x32c069(0x128)]='.site-meta.xml';}async[a149_0x1d8b8c(0x11d)](_0x49e695){const _0x1c2f0a=a149_0x1d8b8c;try{const _0x4507f6=await xml_v2_1[_0x1c2f0a(0x112)][_0x1c2f0a(0x12a)](Object[_0x1c2f0a(0x139)](_0x49e695[_0x1c2f0a(0x13d)])[0x0][_0x1c2f0a(0x148)](_0x1c2f0a(0x13c))),_0x5caa20=CHILD_XML_KEYS[_0x1c2f0a(0x140)](_0x268909=>xml_v2_1['XmlV2'][_0x1c2f0a(0x11b)](_0x4507f6,_0x268909))[_0x1c2f0a(0x12c)]((_0x1f3d51,_0x3cbc7f)=>[..._0x1f3d51,...xml_v2_1['XmlV2'][_0x1c2f0a(0x10b)](_0x4507f6,_0x3cbc7f)],[]);return(0x0,utils_1[_0x1c2f0a(0x143)])(_0x49e695,_0x4507f6,_0x5caa20);}catch(_0x357ba7){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x49e695['name']+'\x20['+_0x49e695[_0x1c2f0a(0x11a)]+']');}}async['readBundledComponent'](_0x33d11c){const _0x1d90f5=a149_0x1d8b8c,_0x5743d4=(0x0,path_1[_0x1d90f5(0x121)])(this[_0x1d90f5(0x127)],_0x33d11c),_0x11bd8f=_0x33d11c+(_0x33d11c[_0x1d90f5(0x136)](_0x1d90f5(0x11f))?this['META_EXPERIENCES_EXTENSION']:this[_0x1d90f5(0x124)]),_0x1b9c83=await fs_internal_1['FS'][_0x1d90f5(0x12d)](_0x5743d4,!![]),_0x51bc7a=await fs_internal_1['FS'][_0x1d90f5(0x104)]((0x0,path_1[_0x1d90f5(0x121)])(this[_0x1d90f5(0x127)],_0x11bd8f),!![])[_0x1d90f5(0x142)](()=>null),_0xf57863={};for(const _0x4345a4 of _0x1b9c83){_0xf57863[(0x0,path_1['relative'])(this[_0x1d90f5(0x127)],_0x4345a4)['replace'](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x4345a4,!![]);}return _0x51bc7a&&(_0xf57863[(0x0,path_1[_0x1d90f5(0x10c)])(this[_0x1d90f5(0x127)],_0x11bd8f)[_0x1d90f5(0x135)](/\\/g,'/')]=_0x51bc7a),_0xf57863;}async[a149_0x1d8b8c(0x11e)](_0x2c69f5){const _0x469d07=a149_0x1d8b8c,_0x20b7d0=_0x2c69f5+this[_0x469d07(0x124)];if(constants_1[_0x469d07(0x13a)][_0x469d07(0x118)](_0x2c69f5))return this[_0x469d07(0x120)](_0x2c69f5);if(await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x469d07(0x127)],_0x20b7d0))){const _0x210afd=await fs_internal_1['FS'][_0x469d07(0x104)]((0x0,path_1[_0x469d07(0x121)])(this[_0x469d07(0x127)],_0x20b7d0),!![]),_0x420ac0=await(0x0,utils_1[_0x469d07(0x117)])({'files':{[_0x20b7d0]:_0x210afd}})['catch'](()=>null);if(_0x420ac0&&folder_types_1[_0x469d07(0x137)]['includes'](_0x420ac0))return{[_0x20b7d0]:_0x210afd};return{[_0x20b7d0]:_0x210afd,[_0x2c69f5]:await fs_internal_1['FS'][_0x469d07(0x104)]((0x0,path_1[_0x469d07(0x121)])(this['dir'],_0x2c69f5),!![])};}return{[_0x2c69f5]:await fs_internal_1['FS'][_0x469d07(0x104)]((0x0,path_1[_0x469d07(0x121)])(this[_0x469d07(0x127)],_0x2c69f5),!![])};}[a149_0x1d8b8c(0x106)](){const _0x456391=a149_0x1d8b8c;this[_0x456391(0x130)]=this[_0x456391(0x130)][_0x456391(0x105)](_0x213579=>constants_1[_0x456391(0x13a)][_0x456391(0x118)](_0x213579)?_0x213579[_0x456391(0x113)]('/')[_0x456391(0x10e)](0x0,0x2)[_0x456391(0x121)]('/'):_0x213579),this[_0x456391(0x130)]=[...new Set(this[_0x456391(0x130)])];}async['parse'](){const _0x2a7f56=a149_0x1d8b8c,_0xfaa9fa=[];this[_0x2a7f56(0x106)]();for(const _0x2da940 of this[_0x2a7f56(0x130)]){if(_0x2da940[_0x2a7f56(0x149)](_0x2a7f56(0x111)))continue;const _0x54824a={};try{_0x54824a['files']=await this[_0x2a7f56(0x11e)](_0x2da940),_0x54824a['filePath']=constants_1[_0x2a7f56(0x13a)][_0x2a7f56(0x118)](_0x2da940)?_0x2da940:(0x0,utils_1[_0x2a7f56(0x110)])({'files':_0x54824a['files']}),_0x2da940[_0x2a7f56(0x136)](_0x2a7f56(0x109))?_0x54824a[_0x2a7f56(0x11a)]=_0x2a7f56(0x122):_0x54824a[_0x2a7f56(0x11a)]=await(0x0,utils_1[_0x2a7f56(0x117)])({'files':_0x54824a[_0x2a7f56(0x13d)]});}catch(_0x5c7716){this[_0x2a7f56(0x123)][_0x2a7f56(0x145)](_0x2a7f56(0x131),_0x2da940,_0x5c7716);continue;}_0x54824a[_0x2a7f56(0x147)]=(0x0,utils_1['extractFilenameFromPath'])(_0x2da940),_0x54824a[_0x2a7f56(0x146)]=(0x0,crc32_1['calculateCRC32'])(_0x54824a);if((0x0,utils_1['isParentComponent'])(_0x54824a)){const _0x14a256=await this['readChildComponents'](_0x54824a);_0xfaa9fa['push'](..._0x14a256);}if(_0x54824a['type']===_0x2a7f56(0x138))continue;settings_types_list_1[_0x2a7f56(0x137)][_0x2a7f56(0x134)](_0x54824a[_0x2a7f56(0x11a)])&&(_0x54824a[_0x2a7f56(0x11a)]='Settings'),_0xfaa9fa['push'](_0x54824a);}return _0xfaa9fa;}}function a149_0x2fae(_0x4d9076,_0x4a1808){const _0x5e51c7=a149_0x36c9();return a149_0x2fae=function(_0x4b060a,_0x5416d8){_0x4b060a=_0x4b060a-0x104;let _0x36c946=_0x5e51c7[_0x4b060a];return _0x36c946;},a149_0x2fae(_0x4d9076,_0x4a1808);}exports[a149_0x1d8b8c(0x114)]=MDApiParserV2;