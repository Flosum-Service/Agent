const a145_0x12ae5a=a145_0x1944;(function(_0x1c5746,_0x9eb786){const _0x5c3008=a145_0x1944,_0x7a28ae=_0x1c5746();while(!![]){try{const _0x1bdd8d=parseInt(_0x5c3008(0x88))/0x1*(-parseInt(_0x5c3008(0xb9))/0x2)+parseInt(_0x5c3008(0x94))/0x3*(parseInt(_0x5c3008(0x98))/0x4)+parseInt(_0x5c3008(0xb8))/0x5+parseInt(_0x5c3008(0x82))/0x6*(-parseInt(_0x5c3008(0x80))/0x7)+-parseInt(_0x5c3008(0x74))/0x8+parseInt(_0x5c3008(0xac))/0x9+-parseInt(_0x5c3008(0x75))/0xa*(parseInt(_0x5c3008(0xb0))/0xb);if(_0x1bdd8d===_0x9eb786)break;else _0x7a28ae['push'](_0x7a28ae['shift']());}catch(_0x1d69d0){_0x7a28ae['push'](_0x7a28ae['shift']());}}}(a145_0x4623,0xd50a2));const a145_0x5b3daa=(function(){let _0x11257f=!![];return function(_0x5d5d53,_0x464317){const _0xce4bfc=_0x11257f?function(){const _0x274dc4=a145_0x1944;if(_0x464317){const _0xea9114=_0x464317[_0x274dc4(0x76)](_0x5d5d53,arguments);return _0x464317=null,_0xea9114;}}:function(){};return _0x11257f=![],_0xce4bfc;};}()),a145_0x115086=a145_0x5b3daa(this,function(){const _0x225536=a145_0x1944;return a145_0x115086[_0x225536(0x8a)]()[_0x225536(0x77)]('(((.+)+)+)+$')[_0x225536(0x8a)]()[_0x225536(0xaf)](a145_0x115086)['search']('(((.+)+)+)+$');});a145_0x115086();function a145_0x1944(_0xc286be,_0x164782){const _0x860ae7=a145_0x4623();return a145_0x1944=function(_0x115086,_0x5b3daa){_0x115086=_0x115086-0x6f;let _0x462343=_0x860ae7[_0x115086];return _0x462343;},a145_0x1944(_0xc286be,_0x164782);}'use strict';var __importDefault=this&&this[a145_0x12ae5a(0xa3)]||function(_0x8e56f7){return _0x8e56f7&&_0x8e56f7['__esModule']?_0x8e56f7:{'default':_0x8e56f7};};Object[a145_0x12ae5a(0xad)](exports,a145_0x12ae5a(0x87),{'value':!![]}),exports[a145_0x12ae5a(0x85)]=void 0x0;const fs_internal_1=require(a145_0x12ae5a(0x7a)),utils_1=require(a145_0x12ae5a(0xa6)),path_1=require(a145_0x12ae5a(0x99)),xml_v2_1=require(a145_0x12ae5a(0xb6)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a145_0x12ae5a(0xb2)),core_1=require(a145_0x12ae5a(0x8e)),crc32_1=require(a145_0x12ae5a(0x70)),folder_types_1=__importDefault(require(a145_0x12ae5a(0xb1))),settings_types_list_1=__importDefault(require(a145_0x12ae5a(0x9a))),CHILD_XML_KEYS=Object[a145_0x12ae5a(0x97)](child_types_map_1[a145_0x12ae5a(0x7d)]);class MDApiParserV2{constructor(_0x246c9a,_0x1fae78){const _0x95f2a7=a145_0x12ae5a;this[_0x95f2a7(0x95)]=_0x246c9a,this['paths']=_0x1fae78,this['logger']=new core_1[(_0x95f2a7(0x91))](MDApiParserV2[_0x95f2a7(0xa2)]),this[_0x95f2a7(0x92)]=_0x95f2a7(0x84),this[_0x95f2a7(0x86)]=_0x95f2a7(0x73);}async['readChildComponents'](_0x59235a){const _0x5e2ad6=a145_0x12ae5a;try{const _0x3bf7c3=await xml_v2_1[_0x5e2ad6(0xa0)][_0x5e2ad6(0x93)](Object['values'](_0x59235a['files'])[0x0][_0x5e2ad6(0x8a)]('utf-8')),_0xd14bfb=CHILD_XML_KEYS[_0x5e2ad6(0x9c)](_0x9cc7d=>xml_v2_1[_0x5e2ad6(0xa0)][_0x5e2ad6(0x81)](_0x3bf7c3,_0x9cc7d))[_0x5e2ad6(0x9b)]((_0xd8394e,_0x44125f)=>[..._0xd8394e,...xml_v2_1[_0x5e2ad6(0xa0)][_0x5e2ad6(0xae)](_0x3bf7c3,_0x44125f)],[]);return(0x0,utils_1[_0x5e2ad6(0x7b)])(_0x59235a,_0x3bf7c3,_0xd14bfb);}catch(_0x52d2c8){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x59235a[_0x5e2ad6(0xa2)]+'\x20['+_0x59235a[_0x5e2ad6(0xb4)]+']');}}async[a145_0x12ae5a(0xb7)](_0x406dde){const _0x7bc1ff=a145_0x12ae5a,_0x304a6f=(0x0,path_1['join'])(this[_0x7bc1ff(0x95)],_0x406dde),_0x4dfbcd=_0x406dde+(_0x406dde[_0x7bc1ff(0x8f)](_0x7bc1ff(0xa5))?this[_0x7bc1ff(0x86)]:this['META_EXTENSION']),_0x204bc1=await fs_internal_1['FS'][_0x7bc1ff(0x89)](_0x304a6f,!![]),_0x308f1f=await fs_internal_1['FS'][_0x7bc1ff(0x8d)]((0x0,path_1['join'])(this[_0x7bc1ff(0x95)],_0x4dfbcd),!![])[_0x7bc1ff(0x7f)](()=>null),_0x1db2c1={};for(const _0x1f979d of _0x204bc1){_0x1db2c1[(0x0,path_1['relative'])(this[_0x7bc1ff(0x95)],_0x1f979d)[_0x7bc1ff(0x9d)](/\\/g,'/')]=await fs_internal_1['FS'][_0x7bc1ff(0x8d)](_0x1f979d,!![]);}return _0x308f1f&&(_0x1db2c1[(0x0,path_1[_0x7bc1ff(0x71)])(this['dir'],_0x4dfbcd)[_0x7bc1ff(0x9d)](/\\/g,'/')]=_0x308f1f),_0x1db2c1;}async['readComponent'](_0x1f1ee0){const _0x38f778=a145_0x12ae5a,_0x26ee66=_0x1f1ee0+this[_0x38f778(0x92)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x38f778(0x6f)](_0x1f1ee0))return this[_0x38f778(0xb7)](_0x1f1ee0);if(await fs_internal_1['FS'][_0x38f778(0xb3)]((0x0,path_1[_0x38f778(0x9e)])(this[_0x38f778(0x95)],_0x26ee66))){const _0x37db11=await fs_internal_1['FS'][_0x38f778(0x8d)]((0x0,path_1[_0x38f778(0x9e)])(this['dir'],_0x26ee66),!![]),_0x3cca82=await(0x0,utils_1[_0x38f778(0x90)])({'files':{[_0x26ee66]:_0x37db11}})[_0x38f778(0x7f)](()=>null);if(_0x3cca82&&folder_types_1['default'][_0x38f778(0x8c)](_0x3cca82))return{[_0x26ee66]:_0x37db11};return{[_0x26ee66]:_0x37db11,[_0x1f1ee0]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x38f778(0x9e)])(this[_0x38f778(0x95)],_0x1f1ee0),!![])};}return{[_0x1f1ee0]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x38f778(0x9e)])(this[_0x38f778(0x95)],_0x1f1ee0),!![])};}['foldBundledComponentsPaths'](){const _0x2fd6a4=a145_0x12ae5a;this[_0x2fd6a4(0x78)]=this[_0x2fd6a4(0x78)][_0x2fd6a4(0xb5)](_0xf8d129=>constants_1[_0x2fd6a4(0xa7)][_0x2fd6a4(0x6f)](_0xf8d129)?_0xf8d129[_0x2fd6a4(0x96)]('/')[_0x2fd6a4(0x83)](0x0,0x2)[_0x2fd6a4(0x9e)]('/'):_0xf8d129),this[_0x2fd6a4(0x78)]=[...new Set(this[_0x2fd6a4(0x78)])];}async[a145_0x12ae5a(0x93)](){const _0x5a4661=a145_0x12ae5a,_0x2e5584=[];this[_0x5a4661(0x9f)]();for(const _0x6aa0b of this[_0x5a4661(0x78)]){if(_0x6aa0b['endsWith'](_0x5a4661(0x7c)))continue;const _0x2f1709={};try{_0x2f1709[_0x5a4661(0xa1)]=await this[_0x5a4661(0x7e)](_0x6aa0b),_0x2f1709['filePath']=constants_1[_0x5a4661(0xa7)]['test'](_0x6aa0b)?_0x6aa0b:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x2f1709['files']}),_0x6aa0b[_0x5a4661(0x8f)](_0x5a4661(0x72))?_0x2f1709[_0x5a4661(0xb4)]='WaveTemplateBundle':_0x2f1709['type']=await(0x0,utils_1[_0x5a4661(0x90)])({'files':_0x2f1709[_0x5a4661(0xa1)]});}catch(_0x176410){this['logger'][_0x5a4661(0xaa)](_0x5a4661(0xa8),_0x6aa0b,_0x176410);continue;}_0x2f1709[_0x5a4661(0xa2)]=(0x0,utils_1[_0x5a4661(0xab)])(_0x6aa0b),_0x2f1709[_0x5a4661(0x79)]=(0x0,crc32_1['calculateCRC32'])(_0x2f1709);if((0x0,utils_1[_0x5a4661(0xa4)])(_0x2f1709)){const _0x1c06f8=await this[_0x5a4661(0x8b)](_0x2f1709);_0x2e5584['push'](..._0x1c06f8);}if(_0x2f1709[_0x5a4661(0xb4)]===_0x5a4661(0xa9))continue;settings_types_list_1[_0x5a4661(0x7d)][_0x5a4661(0x8c)](_0x2f1709['type'])&&(_0x2f1709[_0x5a4661(0xb4)]=_0x5a4661(0xba)),_0x2e5584['push'](_0x2f1709);}return _0x2e5584;}}function a145_0x4623(){const _0x952780=['META_EXTENSION','parse','32193eoGnXt','dir','split','values','580mdCpSi','path','../data/settings-types-list','reduce','filter','replace','join','foldBundledComponentsPaths','XmlV2','files','name','__importDefault','isParentComponent','experiences','../utils','BUNDLED_FOLDERS_REGEXP','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','CustomLabels','error','extractFilenameFromPath','879138MpZIBi','defineProperty','getChildsByName','constructor','11INVncJ','../data/folder-types','../../../../constants','exists','type','map','../utils/xml-v2','readBundledComponent','8518830QqSMzW','818fmQZUW','Settings','test','../utils/crc32','relative','waveTemplates','.site-meta.xml','7204416osrnxM','3473170EVVUqK','apply','search','paths','crc','../../internal/fs.internal','createChildComponentsFromParent','package.xml','default','readComponent','catch','25109HGuEig','hasChildNodes','1818zhICcI','slice','-meta.xml','MDApiParserV2','META_EXPERIENCES_EXTENSION','__esModule','367FPLEcD','readDir','toString','readChildComponents','includes','readFile','../../../../core','startsWith','extractComponentTypeFromFiles','Logger'];a145_0x4623=function(){return _0x952780;};return a145_0x4623();}exports[a145_0x12ae5a(0x85)]=MDApiParserV2;