const a149_0x200039=a149_0x3a23;(function(_0xce0c5,_0xb6543a){const _0x21ce6a=a149_0x3a23,_0x2f72b0=_0xce0c5();while(!![]){try{const _0x26311d=-parseInt(_0x21ce6a(0xc4))/0x1+-parseInt(_0x21ce6a(0xc2))/0x2+parseInt(_0x21ce6a(0x8d))/0x3+-parseInt(_0x21ce6a(0xc7))/0x4*(-parseInt(_0x21ce6a(0x90))/0x5)+-parseInt(_0x21ce6a(0x82))/0x6*(parseInt(_0x21ce6a(0xbb))/0x7)+parseInt(_0x21ce6a(0x89))/0x8*(parseInt(_0x21ce6a(0x85))/0x9)+parseInt(_0x21ce6a(0x9d))/0xa*(-parseInt(_0x21ce6a(0x8b))/0xb);if(_0x26311d===_0xb6543a)break;else _0x2f72b0['push'](_0x2f72b0['shift']());}catch(_0x1fa801){_0x2f72b0['push'](_0x2f72b0['shift']());}}}(a149_0x1014,0x27ebb));const a149_0x3ae3ba=(function(){let _0x352ebd=!![];return function(_0x1a53b6,_0x15d4b9){const _0x548e26=_0x352ebd?function(){const _0x47b867=a149_0x3a23;if(_0x15d4b9){const _0x13b23e=_0x15d4b9[_0x47b867(0xbf)](_0x1a53b6,arguments);return _0x15d4b9=null,_0x13b23e;}}:function(){};return _0x352ebd=![],_0x548e26;};}()),a149_0x434e2f=a149_0x3ae3ba(this,function(){const _0x521aab=a149_0x3a23;return a149_0x434e2f[_0x521aab(0xc6)]()[_0x521aab(0x9f)](_0x521aab(0xa5))[_0x521aab(0xc6)]()[_0x521aab(0xb4)](a149_0x434e2f)['search'](_0x521aab(0xa5));});a149_0x434e2f();'use strict';var __importDefault=this&&this[a149_0x200039(0xb8)]||function(_0x4fcc15){const _0x4a627d=a149_0x200039;return _0x4fcc15&&_0x4fcc15[_0x4a627d(0x86)]?_0x4fcc15:{'default':_0x4fcc15};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a149_0x200039(0xa2)]=void 0x0;const fs_internal_1=require(a149_0x200039(0xc3)),utils_1=require(a149_0x200039(0x88)),path_1=require('path'),xml_v2_1=require(a149_0x200039(0x8a)),child_types_map_1=__importDefault(require(a149_0x200039(0xbd))),constants_1=require(a149_0x200039(0x98)),crc32_1=require(a149_0x200039(0x8e)),folder_types_1=__importDefault(require(a149_0x200039(0x9c))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),base_parser_1=require(a149_0x200039(0xa3)),CHILD_XML_KEYS=Object[a149_0x200039(0xae)](child_types_map_1['default']);function a149_0x3a23(_0x439038,_0x337175){const _0x1fb9a=a149_0x1014();return a149_0x3a23=function(_0x434e2f,_0x3ae3ba){_0x434e2f=_0x434e2f-0x80;let _0x1014a2=_0x1fb9a[_0x434e2f];return _0x1014a2;},a149_0x3a23(_0x439038,_0x337175);}function a149_0x1014(){const _0x33920b=['487226glcBvc','../../internal/fs.internal','229627CLVDWb','endsWith','toString','925368GPYdrE','META_EXPERIENCES_EXTENSION','BaseParser','dir','paths','54558OaJPEt','readBundledComponent','map','981kxzEZu','__esModule','package.xml','../utils','19544lOSugV','../utils/xml-v2','670307fLauNt','startsWith','845700wEoeWU','../utils/crc32','calculateCRC32','5aVvGXV','catch','Settings','experiences','replace','files','reduce','join','../../../../constants','hasChildNodes','filter','exists','../data/folder-types','10SiqGFG','crc','search','META_EXTENSION','name','MDApiParserV2','./base.parser','readFile','(((.+)+)+)+$','extractComponentTypeFromFiles','extractFileNameFromFiles','CustomLabels','-meta.xml','slice','test','default','isParentComponent','values','readChildComponents','.site-meta.xml','type','push','readComponent','constructor','logger','parse','includes','__importDefault','BUNDLED_FOLDERS_REGEXP','createChildComponentsFromParent','63UawuQm','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../data/child-types-map','XmlV2','apply','split','WaveTemplateBundle'];a149_0x1014=function(){return _0x33920b;};return a149_0x1014();}class MDApiParserV2 extends base_parser_1[a149_0x200039(0xc9)]{constructor(_0x5a1625,_0x10ed97){const _0x3ac0ae=a149_0x200039;super(MDApiParserV2[_0x3ac0ae(0xa1)],_0x5a1625,_0x10ed97),this['META_EXTENSION']=_0x3ac0ae(0xa9),this['META_EXPERIENCES_EXTENSION']=_0x3ac0ae(0xb0);}async[a149_0x200039(0xaf)](_0x39f449){const _0x1922b9=a149_0x200039;try{const _0x30fd00=await xml_v2_1[_0x1922b9(0xbe)][_0x1922b9(0xb6)](Object[_0x1922b9(0xae)](_0x39f449[_0x1922b9(0x95)])[0x0][_0x1922b9(0xc6)]('utf-8')),_0x491f36=CHILD_XML_KEYS[_0x1922b9(0x9a)](_0x28d1d2=>xml_v2_1['XmlV2'][_0x1922b9(0x99)](_0x30fd00,_0x28d1d2))[_0x1922b9(0x96)]((_0x444c11,_0x2e774b)=>[..._0x444c11,...xml_v2_1[_0x1922b9(0xbe)]['getChildsByName'](_0x30fd00,_0x2e774b)],[]);return(0x0,utils_1[_0x1922b9(0xba)])(_0x39f449,_0x30fd00,_0x491f36);}catch(_0x7cff2f){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x39f449[_0x1922b9(0xa1)]+'\x20['+_0x39f449[_0x1922b9(0xb1)]+']');}}async['readBundledComponent'](_0x5e00e2){const _0x1cab68=a149_0x200039,_0x371445=(0x0,path_1[_0x1cab68(0x97)])(this[_0x1cab68(0x80)],_0x5e00e2),_0x28961e=_0x5e00e2+(_0x5e00e2[_0x1cab68(0x8c)](_0x1cab68(0x93))?this[_0x1cab68(0xc8)]:this[_0x1cab68(0xa0)]),_0x3c9449=await fs_internal_1['FS']['readDir'](_0x371445,!![]),_0x5867f0=await fs_internal_1['FS'][_0x1cab68(0xa4)]((0x0,path_1[_0x1cab68(0x97)])(this['dir'],_0x28961e),!![])['catch'](()=>null),_0x3549c0={};for(const _0x46e837 of _0x3c9449){_0x3549c0[(0x0,path_1['relative'])(this['dir'],_0x46e837)[_0x1cab68(0x94)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x46e837,!![]);}return _0x5867f0&&(_0x3549c0[(0x0,path_1['relative'])(this[_0x1cab68(0x80)],_0x28961e)[_0x1cab68(0x94)](/\\/g,'/')]=_0x5867f0),_0x3549c0;}async[a149_0x200039(0xb3)](_0x3b0208){const _0x16c9b6=a149_0x200039,_0xa753e8=_0x3b0208+this[_0x16c9b6(0xa0)];if(constants_1[_0x16c9b6(0xb9)]['test'](_0x3b0208))return this[_0x16c9b6(0x83)](_0x3b0208);if(await fs_internal_1['FS'][_0x16c9b6(0x9b)]((0x0,path_1[_0x16c9b6(0x97)])(this[_0x16c9b6(0x80)],_0xa753e8))){const _0x3dc701=await fs_internal_1['FS'][_0x16c9b6(0xa4)]((0x0,path_1[_0x16c9b6(0x97)])(this['dir'],_0xa753e8),!![]),_0x19992a=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0xa753e8]:_0x3dc701}})[_0x16c9b6(0x91)](()=>null);if(_0x19992a&&folder_types_1[_0x16c9b6(0xac)][_0x16c9b6(0xb7)](_0x19992a))return{[_0xa753e8]:_0x3dc701};return{[_0xa753e8]:_0x3dc701,[_0x3b0208]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x16c9b6(0x97)])(this[_0x16c9b6(0x80)],_0x3b0208),!![])};}return{[_0x3b0208]:await fs_internal_1['FS'][_0x16c9b6(0xa4)]((0x0,path_1[_0x16c9b6(0x97)])(this[_0x16c9b6(0x80)],_0x3b0208),!![])};}['foldBundledComponentsPaths'](){const _0xa2343b=a149_0x200039;this[_0xa2343b(0x81)]=this['paths'][_0xa2343b(0x84)](_0x5a2772=>constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x5a2772)?_0x5a2772[_0xa2343b(0xc0)]('/')[_0xa2343b(0xaa)](0x0,0x2)[_0xa2343b(0x97)]('/'):_0x5a2772),this['paths']=[...new Set(this[_0xa2343b(0x81)])];}async['parse'](){const _0x534d77=a149_0x200039,_0x586cdd=[];this['foldBundledComponentsPaths']();for(const _0xcccbef of this['paths']){if(_0xcccbef[_0x534d77(0xc5)](_0x534d77(0x87)))continue;const _0x3c81e5={};try{_0x3c81e5[_0x534d77(0x95)]=await this[_0x534d77(0xb3)](_0xcccbef),_0x3c81e5['filePath']=constants_1[_0x534d77(0xb9)][_0x534d77(0xab)](_0xcccbef)?_0xcccbef:(0x0,utils_1[_0x534d77(0xa7)])({'files':_0x3c81e5[_0x534d77(0x95)]}),_0xcccbef[_0x534d77(0x8c)]('waveTemplates')?_0x3c81e5[_0x534d77(0xb1)]=_0x534d77(0xc1):_0x3c81e5[_0x534d77(0xb1)]=await(0x0,utils_1[_0x534d77(0xa6)])({'files':_0x3c81e5[_0x534d77(0x95)]});}catch(_0x1c51dd){this[_0x534d77(0xb5)]['error'](_0x534d77(0xbc),_0xcccbef,_0x1c51dd);continue;}_0x3c81e5[_0x534d77(0xa1)]=(0x0,utils_1['extractFilenameFromPath'])(_0xcccbef),_0x3c81e5[_0x534d77(0x9e)]=(0x0,crc32_1[_0x534d77(0x8f)])(_0x3c81e5);if((0x0,utils_1[_0x534d77(0xad)])(_0x3c81e5)){const _0x30319d=await this[_0x534d77(0xaf)](_0x3c81e5);_0x586cdd[_0x534d77(0xb2)](..._0x30319d);}if(_0x3c81e5[_0x534d77(0xb1)]===_0x534d77(0xa8))continue;settings_types_list_1[_0x534d77(0xac)][_0x534d77(0xb7)](_0x3c81e5['type'])&&(_0x3c81e5[_0x534d77(0xb1)]=_0x534d77(0x92)),_0x586cdd[_0x534d77(0xb2)](_0x3c81e5);}return _0x586cdd;}}exports[a149_0x200039(0xa2)]=MDApiParserV2;