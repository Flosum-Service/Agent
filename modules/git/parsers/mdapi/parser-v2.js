const a101_0xd26e27=a101_0x5bd7;(function(_0x330944,_0x193264){const _0x229375=a101_0x5bd7,_0x1a7c29=_0x330944();while(!![]){try{const _0x5f2b94=-parseInt(_0x229375(0x1c0))/0x1*(-parseInt(_0x229375(0x1bf))/0x2)+parseInt(_0x229375(0x1b8))/0x3*(parseInt(_0x229375(0x1f1))/0x4)+parseInt(_0x229375(0x1c5))/0x5+-parseInt(_0x229375(0x1e0))/0x6+-parseInt(_0x229375(0x1b2))/0x7*(parseInt(_0x229375(0x1d9))/0x8)+parseInt(_0x229375(0x1bb))/0x9+parseInt(_0x229375(0x1fd))/0xa;if(_0x5f2b94===_0x193264)break;else _0x1a7c29['push'](_0x1a7c29['shift']());}catch(_0x224f39){_0x1a7c29['push'](_0x1a7c29['shift']());}}}(a101_0x1782,0x54b99));function a101_0x5bd7(_0x41f014,_0x546e5c){const _0x25c07b=a101_0x1782();return a101_0x5bd7=function(_0x3a7932,_0x2f71c2){_0x3a7932=_0x3a7932-0x1b2;let _0x1782a0=_0x25c07b[_0x3a7932];return _0x1782a0;},a101_0x5bd7(_0x41f014,_0x546e5c);}const a101_0x2f71c2=(function(){let _0xedaa8f=!![];return function(_0x3b8d90,_0x569580){const _0x4722e5=_0xedaa8f?function(){const _0x259638=a101_0x5bd7;if(_0x569580){const _0x38103f=_0x569580[_0x259638(0x1ba)](_0x3b8d90,arguments);return _0x569580=null,_0x38103f;}}:function(){};return _0xedaa8f=![],_0x4722e5;};}()),a101_0x3a7932=a101_0x2f71c2(this,function(){const _0x4b4b24=a101_0x5bd7;return a101_0x3a7932['toString']()['search']('(((.+)+)+)+$')[_0x4b4b24(0x1ea)]()[_0x4b4b24(0x201)](a101_0x3a7932)[_0x4b4b24(0x1e8)](_0x4b4b24(0x1c9));});a101_0x3a7932();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x613e){const _0x584013=a101_0x5bd7;return _0x613e&&_0x613e[_0x584013(0x1ee)]?_0x613e:{'default':_0x613e};};Object[a101_0xd26e27(0x1cf)](exports,a101_0xd26e27(0x1ee),{'value':!![]}),exports[a101_0xd26e27(0x1e4)]=void 0x0;const fs_internal_1=require(a101_0xd26e27(0x1f8)),utils_1=require(a101_0xd26e27(0x1d0)),path_1=require(a101_0xd26e27(0x1ca)),xml_1=require(a101_0xd26e27(0x1b9)),child_types_map_1=__importDefault(require(a101_0xd26e27(0x1f6))),constants_1=require(a101_0xd26e27(0x1e9)),core_1=require('../../../../core'),crc32_1=require(a101_0xd26e27(0x1ed)),folder_types_1=__importDefault(require(a101_0xd26e27(0x1c4))),CHILD_XML_KEYS=Object[a101_0xd26e27(0x200)](child_types_map_1[a101_0xd26e27(0x1c8)]);function a101_0x1782(){const _0x325f26=['join','MDApiParserV2','paths','catch','map','search','../../../../constants','toString','readFile','crc','../utils/crc32','__esModule','extractFileNameFromFiles','parse','252SbIQkh','META_EXTENSION','includes','experiences','Logger','../data/child-types-map','readComponent','../../internal/fs.internal','readDir','error','extractComponentTypeFromFiles','name','5210980wGjrFe','startsWith','reduce','values','constructor','414071wThGWx','slice','push','endsWith','extractFilenameFromPath','-meta.xml','4281ZpUork','../utils/xml','apply','2171862VVQsKW','filePath','relative','split','2756NAKqiT','202oUZGAn','replace','readChildComponents','logger','../data/folder-types','395385TndXve','Cannot\x20parse\x20children\x20in\x20','filter','default','(((.+)+)+)+$','path','package.xml','BUNDLED_FOLDERS_REGEXP','CustomLabels','utf-8','defineProperty','../utils','files','calculateCRC32','getChildsByName','.site-meta.xml','exists','hasChildNodes','foldBundledComponentsPaths','META_EXPERIENCES_EXTENSION','40cknZIS','WaveTemplateBundle','test','readBundledComponent','Xml','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','type','3401712bXtFRc','dir','isParentComponent'];a101_0x1782=function(){return _0x325f26;};return a101_0x1782();}class MDApiParserV2{constructor(_0x4ff5eb,_0xce7984){const _0x332f36=a101_0xd26e27;this['dir']=_0x4ff5eb,this['paths']=_0xce7984,this['logger']=new core_1[(_0x332f36(0x1f5))](MDApiParserV2[_0x332f36(0x1fc)]),this[_0x332f36(0x1f2)]=_0x332f36(0x1b7),this[_0x332f36(0x1d8)]=_0x332f36(0x1d4);}async[a101_0xd26e27(0x1c2)](_0xd1270){const _0xe501ab=a101_0xd26e27;try{const _0x3459fd=await xml_1['Xml'][_0xe501ab(0x1f0)](Object[_0xe501ab(0x200)](_0xd1270['files'])[0x0][_0xe501ab(0x1ea)](_0xe501ab(0x1ce))),_0x5cc3b0=CHILD_XML_KEYS[_0xe501ab(0x1c7)](_0x1c29c5=>xml_1['Xml'][_0xe501ab(0x1d6)](_0x3459fd,_0x1c29c5))[_0xe501ab(0x1ff)]((_0x524a5a,_0x4c8764)=>[..._0x524a5a,...xml_1[_0xe501ab(0x1dd)][_0xe501ab(0x1d3)](_0x3459fd,_0x4c8764)],[]);return utils_1['createChildComponentsFromParent'](_0xd1270,_0x3459fd,_0x5cc3b0);}catch(_0x596054){throw new Error(_0xe501ab(0x1c6)+_0xd1270['name']+'\x20['+_0xd1270[_0xe501ab(0x1df)]+']');}}async[a101_0xd26e27(0x1dc)](_0x2bfdb0){const _0x346565=a101_0xd26e27,_0x2069d3=path_1[_0x346565(0x1e3)](this['dir'],_0x2bfdb0),_0x36af02=_0x2bfdb0+(_0x2bfdb0[_0x346565(0x1fe)](_0x346565(0x1f4))?this[_0x346565(0x1d8)]:this[_0x346565(0x1f2)]),_0x37fbb4=await fs_internal_1['FS'][_0x346565(0x1f9)](_0x2069d3,!![]),_0x5b69b7=await fs_internal_1['FS'][_0x346565(0x1eb)](path_1['join'](this['dir'],_0x36af02),!![])[_0x346565(0x1e6)](()=>null),_0x3297c7={};for(const _0x41f173 of _0x37fbb4){_0x3297c7[path_1[_0x346565(0x1bd)](this[_0x346565(0x1e1)],_0x41f173)[_0x346565(0x1c1)](/\\/g,'/')]=await fs_internal_1['FS'][_0x346565(0x1eb)](_0x41f173,!![]);}return _0x5b69b7&&(_0x3297c7[path_1[_0x346565(0x1bd)](this['dir'],_0x36af02)[_0x346565(0x1c1)](/\\/g,'/')]=_0x5b69b7),_0x3297c7;}async['readComponent'](_0x4166f6){const _0x56aa73=a101_0xd26e27,_0x56e5c4=_0x4166f6+this[_0x56aa73(0x1f2)];if(constants_1[_0x56aa73(0x1cc)][_0x56aa73(0x1db)](_0x4166f6))return this[_0x56aa73(0x1dc)](_0x4166f6);if(await fs_internal_1['FS'][_0x56aa73(0x1d5)](path_1['join'](this['dir'],_0x56e5c4))){const _0xbde1a0=await fs_internal_1['FS'][_0x56aa73(0x1eb)](path_1[_0x56aa73(0x1e3)](this[_0x56aa73(0x1e1)],_0x56e5c4),!![]),_0xda7c2b=await utils_1[_0x56aa73(0x1fb)]({'files':{[_0x56e5c4]:_0xbde1a0}})[_0x56aa73(0x1e6)](()=>null);if(_0xda7c2b&&folder_types_1[_0x56aa73(0x1c8)][_0x56aa73(0x1f3)](_0xda7c2b))return{[_0x56e5c4]:_0xbde1a0};return{[_0x56e5c4]:_0xbde1a0,[_0x4166f6]:await fs_internal_1['FS']['readFile'](path_1[_0x56aa73(0x1e3)](this[_0x56aa73(0x1e1)],_0x4166f6),!![])};}return{[_0x4166f6]:await fs_internal_1['FS'][_0x56aa73(0x1eb)](path_1[_0x56aa73(0x1e3)](this['dir'],_0x4166f6),!![])};}[a101_0xd26e27(0x1d7)](){const _0x3bcca1=a101_0xd26e27;this[_0x3bcca1(0x1e5)]=this[_0x3bcca1(0x1e5)][_0x3bcca1(0x1e7)](_0x11456c=>constants_1[_0x3bcca1(0x1cc)][_0x3bcca1(0x1db)](_0x11456c)?_0x11456c[_0x3bcca1(0x1be)]('/')[_0x3bcca1(0x1b3)](0x0,0x2)['join']('/'):_0x11456c),this[_0x3bcca1(0x1e5)]=[...new Set(this[_0x3bcca1(0x1e5)])];}async[a101_0xd26e27(0x1f0)](){const _0x57ca24=a101_0xd26e27,_0xfe745d=[];this[_0x57ca24(0x1d7)]();for(const _0x2c812d of this[_0x57ca24(0x1e5)]){if(_0x2c812d[_0x57ca24(0x1b5)](_0x57ca24(0x1cb)))continue;const _0x39a327={};try{_0x39a327['files']=await this[_0x57ca24(0x1f7)](_0x2c812d),_0x39a327[_0x57ca24(0x1bc)]=constants_1[_0x57ca24(0x1cc)][_0x57ca24(0x1db)](_0x2c812d)?_0x2c812d:utils_1[_0x57ca24(0x1ef)]({'files':_0x39a327[_0x57ca24(0x1d1)]}),_0x2c812d[_0x57ca24(0x1fe)]('waveTemplates')?_0x39a327[_0x57ca24(0x1df)]=_0x57ca24(0x1da):_0x39a327['type']=await utils_1[_0x57ca24(0x1fb)]({'files':_0x39a327[_0x57ca24(0x1d1)]});}catch(_0x573eb4){this[_0x57ca24(0x1c3)][_0x57ca24(0x1fa)](_0x57ca24(0x1de),_0x2c812d,_0x573eb4);continue;}_0x39a327[_0x57ca24(0x1fc)]=utils_1[_0x57ca24(0x1b6)](_0x2c812d),_0x39a327[_0x57ca24(0x1ec)]=crc32_1[_0x57ca24(0x1d2)](_0x39a327);if(utils_1[_0x57ca24(0x1e2)](_0x39a327)){const _0x32a771=await this[_0x57ca24(0x1c2)](_0x39a327);_0xfe745d[_0x57ca24(0x1b4)](..._0x32a771);}if(_0x39a327[_0x57ca24(0x1df)]===_0x57ca24(0x1cd))continue;_0xfe745d[_0x57ca24(0x1b4)](_0x39a327);}return _0xfe745d;}}exports['MDApiParserV2']=MDApiParserV2;