const a145_0x5812e9=a145_0x1b5d;(function(_0x100d6a,_0x5bfc0c){const _0x4931f9=a145_0x1b5d,_0x46e333=_0x100d6a();while(!![]){try{const _0x35a967=parseInt(_0x4931f9(0x104))/0x1*(parseInt(_0x4931f9(0x135))/0x2)+parseInt(_0x4931f9(0x116))/0x3+parseInt(_0x4931f9(0x11f))/0x4+parseInt(_0x4931f9(0x131))/0x5+-parseInt(_0x4931f9(0x133))/0x6+-parseInt(_0x4931f9(0x12b))/0x7+-parseInt(_0x4931f9(0x12c))/0x8*(parseInt(_0x4931f9(0x142))/0x9);if(_0x35a967===_0x5bfc0c)break;else _0x46e333['push'](_0x46e333['shift']());}catch(_0x2bff37){_0x46e333['push'](_0x46e333['shift']());}}}(a145_0x396a,0x5fc44));const a145_0x25aadd=(function(){let _0x1ee46f=!![];return function(_0x24487e,_0x493b5b){const _0x5130d7=_0x1ee46f?function(){if(_0x493b5b){const _0x85d331=_0x493b5b['apply'](_0x24487e,arguments);return _0x493b5b=null,_0x85d331;}}:function(){};return _0x1ee46f=![],_0x5130d7;};}()),a145_0x26c893=a145_0x25aadd(this,function(){const _0xd5a914=a145_0x1b5d;return a145_0x26c893[_0xd5a914(0x102)]()[_0xd5a914(0x141)]('(((.+)+)+)+$')[_0xd5a914(0x102)]()[_0xd5a914(0x108)](a145_0x26c893)[_0xd5a914(0x141)]('(((.+)+)+)+$');});a145_0x26c893();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1225dd){return _0x1225dd&&_0x1225dd['__esModule']?_0x1225dd:{'default':_0x1225dd};};Object['defineProperty'](exports,a145_0x5812e9(0x139),{'value':!![]}),exports[a145_0x5812e9(0x13a)]=void 0x0;function a145_0x1b5d(_0x2540d3,_0x435a28){const _0x1f77bf=a145_0x396a();return a145_0x1b5d=function(_0x26c893,_0x25aadd){_0x26c893=_0x26c893-0xf5;let _0x396aab=_0x1f77bf[_0x26c893];return _0x396aab;},a145_0x1b5d(_0x2540d3,_0x435a28);}function a145_0x396a(){const _0x5bd41d=['values','relative','experiences','logger','default','type','extractComponentTypeFromFiles','startsWith','join','readChildComponents','includes','../data/folder-types','1568451uBgTUx','catch','split','crc','utf-8','.site-meta.xml','../../../../core','filePath','getChildsByName','1764132AKPkca','path','../utils','WaveTemplateBundle','waveTemplates','../../../../constants','replace','hasChildNodes','XmlV2','../utils/crc32','readFile','push','3405283rnrvIn','1067576VlHXvq','dir','../data/settings-types-list','package.xml','createChildComponentsFromParent','1556780VUmocY','../utils/xml-v2','1746306NHPISd','test','2BUTSbv','BUNDLED_FOLDERS_REGEXP','readBundledComponent','../../internal/fs.internal','__esModule','MDApiParserV2','readDir','files','slice','map','foldBundledComponentsPaths','filter','search','36NzfjZm','name','extractFilenameFromPath','paths','isParentComponent','-meta.xml','../data/child-types-map','CustomLabels','Settings','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','Cannot\x20parse\x20children\x20in\x20','extractFileNameFromFiles','error','exists','toString','readComponent','428362xmoKwP','endsWith','META_EXTENSION','parse','constructor','META_EXPERIENCES_EXTENSION'];a145_0x396a=function(){return _0x5bd41d;};return a145_0x396a();}const fs_internal_1=require(a145_0x5812e9(0x138)),utils_1=require(a145_0x5812e9(0x121)),path_1=require(a145_0x5812e9(0x120)),xml_v2_1=require(a145_0x5812e9(0x132)),child_types_map_1=__importDefault(require(a145_0x5812e9(0xfa))),constants_1=require(a145_0x5812e9(0x124)),core_1=require(a145_0x5812e9(0x11c)),crc32_1=require(a145_0x5812e9(0x128)),folder_types_1=__importDefault(require(a145_0x5812e9(0x115))),settings_types_list_1=__importDefault(require(a145_0x5812e9(0x12e))),CHILD_XML_KEYS=Object[a145_0x5812e9(0x10a)](child_types_map_1[a145_0x5812e9(0x10e)]);class MDApiParserV2{constructor(_0x764b74,_0x3a29fa){const _0x3428f0=a145_0x5812e9;this[_0x3428f0(0x12d)]=_0x764b74,this[_0x3428f0(0xf7)]=_0x3a29fa,this['logger']=new core_1['Logger'](MDApiParserV2[_0x3428f0(0xf5)]),this['META_EXTENSION']=_0x3428f0(0xf9),this[_0x3428f0(0x109)]=_0x3428f0(0x11b);}async['readChildComponents'](_0x3bb64e){const _0xb7cad0=a145_0x5812e9;try{const _0x5335c2=await xml_v2_1[_0xb7cad0(0x127)]['parse'](Object[_0xb7cad0(0x10a)](_0x3bb64e['files'])[0x0][_0xb7cad0(0x102)](_0xb7cad0(0x11a))),_0x41f30d=CHILD_XML_KEYS[_0xb7cad0(0x140)](_0x32bfe9=>xml_v2_1['XmlV2'][_0xb7cad0(0x126)](_0x5335c2,_0x32bfe9))['reduce']((_0x7de02a,_0x38207f)=>[..._0x7de02a,...xml_v2_1[_0xb7cad0(0x127)][_0xb7cad0(0x11e)](_0x5335c2,_0x38207f)],[]);return(0x0,utils_1[_0xb7cad0(0x130)])(_0x3bb64e,_0x5335c2,_0x41f30d);}catch(_0x45cf54){throw new Error(_0xb7cad0(0xfe)+_0x3bb64e['name']+'\x20['+_0x3bb64e[_0xb7cad0(0x10f)]+']');}}async[a145_0x5812e9(0x137)](_0xe3c6a7){const _0x25c7ed=a145_0x5812e9,_0x54b033=(0x0,path_1[_0x25c7ed(0x112)])(this[_0x25c7ed(0x12d)],_0xe3c6a7),_0x978cbe=_0xe3c6a7+(_0xe3c6a7[_0x25c7ed(0x111)](_0x25c7ed(0x10c))?this[_0x25c7ed(0x109)]:this[_0x25c7ed(0x106)]),_0x1d7f20=await fs_internal_1['FS'][_0x25c7ed(0x13b)](_0x54b033,!![]),_0x1e587f=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x25c7ed(0x12d)],_0x978cbe),!![])[_0x25c7ed(0x117)](()=>null),_0x5d2ef7={};for(const _0xa50b06 of _0x1d7f20){_0x5d2ef7[(0x0,path_1['relative'])(this['dir'],_0xa50b06)[_0x25c7ed(0x125)](/\\/g,'/')]=await fs_internal_1['FS'][_0x25c7ed(0x129)](_0xa50b06,!![]);}return _0x1e587f&&(_0x5d2ef7[(0x0,path_1[_0x25c7ed(0x10b)])(this[_0x25c7ed(0x12d)],_0x978cbe)[_0x25c7ed(0x125)](/\\/g,'/')]=_0x1e587f),_0x5d2ef7;}async['readComponent'](_0x1cf49b){const _0x541cdb=a145_0x5812e9,_0x37ad34=_0x1cf49b+this[_0x541cdb(0x106)];if(constants_1[_0x541cdb(0x136)][_0x541cdb(0x134)](_0x1cf49b))return this[_0x541cdb(0x137)](_0x1cf49b);if(await fs_internal_1['FS'][_0x541cdb(0x101)]((0x0,path_1['join'])(this['dir'],_0x37ad34))){const _0x52c017=await fs_internal_1['FS'][_0x541cdb(0x129)]((0x0,path_1[_0x541cdb(0x112)])(this[_0x541cdb(0x12d)],_0x37ad34),!![]),_0x521ed7=await(0x0,utils_1[_0x541cdb(0x110)])({'files':{[_0x37ad34]:_0x52c017}})[_0x541cdb(0x117)](()=>null);if(_0x521ed7&&folder_types_1['default'][_0x541cdb(0x114)](_0x521ed7))return{[_0x37ad34]:_0x52c017};return{[_0x37ad34]:_0x52c017,[_0x1cf49b]:await fs_internal_1['FS'][_0x541cdb(0x129)]((0x0,path_1['join'])(this[_0x541cdb(0x12d)],_0x1cf49b),!![])};}return{[_0x1cf49b]:await fs_internal_1['FS'][_0x541cdb(0x129)]((0x0,path_1[_0x541cdb(0x112)])(this['dir'],_0x1cf49b),!![])};}[a145_0x5812e9(0x13f)](){const _0x400660=a145_0x5812e9;this[_0x400660(0xf7)]=this[_0x400660(0xf7)][_0x400660(0x13e)](_0x1f9010=>constants_1[_0x400660(0x136)][_0x400660(0x134)](_0x1f9010)?_0x1f9010[_0x400660(0x118)]('/')[_0x400660(0x13d)](0x0,0x2)[_0x400660(0x112)]('/'):_0x1f9010),this[_0x400660(0xf7)]=[...new Set(this[_0x400660(0xf7)])];}async[a145_0x5812e9(0x107)](){const _0x2551b0=a145_0x5812e9,_0x49af9b=[];this[_0x2551b0(0x13f)]();for(const _0x3e7e35 of this['paths']){if(_0x3e7e35[_0x2551b0(0x105)](_0x2551b0(0x12f)))continue;const _0x3f1ca0={};try{_0x3f1ca0[_0x2551b0(0x13c)]=await this[_0x2551b0(0x103)](_0x3e7e35),_0x3f1ca0[_0x2551b0(0x11d)]=constants_1[_0x2551b0(0x136)][_0x2551b0(0x134)](_0x3e7e35)?_0x3e7e35:(0x0,utils_1[_0x2551b0(0xff)])({'files':_0x3f1ca0[_0x2551b0(0x13c)]}),_0x3e7e35[_0x2551b0(0x111)](_0x2551b0(0x123))?_0x3f1ca0[_0x2551b0(0x10f)]=_0x2551b0(0x122):_0x3f1ca0['type']=await(0x0,utils_1[_0x2551b0(0x110)])({'files':_0x3f1ca0['files']});}catch(_0x579b79){this[_0x2551b0(0x10d)][_0x2551b0(0x100)](_0x2551b0(0xfd),_0x3e7e35,_0x579b79);continue;}_0x3f1ca0[_0x2551b0(0xf5)]=(0x0,utils_1[_0x2551b0(0xf6)])(_0x3e7e35),_0x3f1ca0[_0x2551b0(0x119)]=(0x0,crc32_1['calculateCRC32'])(_0x3f1ca0);if((0x0,utils_1[_0x2551b0(0xf8)])(_0x3f1ca0)){const _0xead9b1=await this[_0x2551b0(0x113)](_0x3f1ca0);_0x49af9b[_0x2551b0(0x12a)](..._0xead9b1);}if(_0x3f1ca0[_0x2551b0(0x10f)]===_0x2551b0(0xfb))continue;settings_types_list_1[_0x2551b0(0x10e)][_0x2551b0(0x114)](_0x3f1ca0[_0x2551b0(0x10f)])&&(_0x3f1ca0[_0x2551b0(0x10f)]=_0x2551b0(0xfc)),_0x49af9b[_0x2551b0(0x12a)](_0x3f1ca0);}return _0x49af9b;}}exports[a145_0x5812e9(0x13a)]=MDApiParserV2;