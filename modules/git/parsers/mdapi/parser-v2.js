const a146_0x46a551=a146_0x8c38;function a146_0x4136(){const _0x37df63=['error','../utils','default','../data/folder-types','12298BcqdJI','.site-meta.xml','startsWith','../data/settings-types-list','1625250TQtIbd','toString','exists','defineProperty','../../../../constants','WaveTemplateBundle','BUNDLED_FOLDERS_REGEXP','logger','push','map','files','dir','relative','extractFileNameFromFiles','test','../utils/xml-v2','extractComponentTypeFromFiles','XmlV2','2008803vfSeqh','__importDefault','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','join','name','600510cTGdDw','foldBundledComponentsPaths','3245264cvMCbH','../../internal/fs.internal','slice','7RbglLS','getChildsByName','readDir','package.xml','includes','CustomLabels','5700024vJNPoz','split','replace','-meta.xml','../../../../core','Settings','utf-8','readBundledComponent','endsWith','type','parse','catch','isParentComponent','calculateCRC32','readFile','waveTemplates','search','(((.+)+)+)+$','readComponent','Logger','constructor','paths','../utils/crc32','extractFilenameFromPath','877940pQxPvb','Cannot\x20parse\x20children\x20in\x20','META_EXTENSION','4PEQYuE','readChildComponents','META_EXPERIENCES_EXTENSION','values','108OqLhdv','path','MDApiParserV2','filePath','hasChildNodes','__esModule'];a146_0x4136=function(){return _0x37df63;};return a146_0x4136();}(function(_0x3f5f5c,_0x233df3){const _0x43997e=a146_0x8c38,_0x37ccfd=_0x3f5f5c();while(!![]){try{const _0x11fc61=parseInt(_0x43997e(0xe9))/0x1*(-parseInt(_0x43997e(0x12e))/0x2)+-parseInt(_0x43997e(0xff))/0x3*(-parseInt(_0x43997e(0x12a))/0x4)+-parseInt(_0x43997e(0x127))/0x5+parseInt(_0x43997e(0xed))/0x6*(-parseInt(_0x43997e(0x109))/0x7)+parseInt(_0x43997e(0x106))/0x8+parseInt(_0x43997e(0x10f))/0x9+-parseInt(_0x43997e(0x104))/0xa;if(_0x11fc61===_0x233df3)break;else _0x37ccfd['push'](_0x37ccfd['shift']());}catch(_0x471bbc){_0x37ccfd['push'](_0x37ccfd['shift']());}}}(a146_0x4136,0x83585));const a146_0x19d174=(function(){let _0x5be28d=!![];return function(_0x5dfced,_0x40fbb6){const _0x380fc7=_0x5be28d?function(){if(_0x40fbb6){const _0x130be=_0x40fbb6['apply'](_0x5dfced,arguments);return _0x40fbb6=null,_0x130be;}}:function(){};return _0x5be28d=![],_0x380fc7;};}()),a146_0x1e0fb7=a146_0x19d174(this,function(){const _0xdc4902=a146_0x8c38;return a146_0x1e0fb7['toString']()['search'](_0xdc4902(0x120))[_0xdc4902(0xee)]()[_0xdc4902(0x123)](a146_0x1e0fb7)[_0xdc4902(0x11f)](_0xdc4902(0x120));});a146_0x1e0fb7();'use strict';function a146_0x8c38(_0x2aa575,_0x54001d){const _0x2eb97a=a146_0x4136();return a146_0x8c38=function(_0x1e0fb7,_0x19d174){_0x1e0fb7=_0x1e0fb7-0xe2;let _0x413653=_0x2eb97a[_0x1e0fb7];return _0x413653;},a146_0x8c38(_0x2aa575,_0x54001d);}var __importDefault=this&&this[a146_0x46a551(0x100)]||function(_0x2b95e2){const _0x21c091=a146_0x46a551;return _0x2b95e2&&_0x2b95e2[_0x21c091(0xe4)]?_0x2b95e2:{'default':_0x2b95e2};};Object[a146_0x46a551(0xf0)](exports,a146_0x46a551(0xe4),{'value':!![]}),exports[a146_0x46a551(0x130)]=void 0x0;const fs_internal_1=require(a146_0x46a551(0x107)),utils_1=require(a146_0x46a551(0xe6)),path_1=require(a146_0x46a551(0x12f)),xml_v2_1=require(a146_0x46a551(0xfc)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a146_0x46a551(0xf1)),core_1=require(a146_0x46a551(0x113)),crc32_1=require(a146_0x46a551(0x125)),folder_types_1=__importDefault(require(a146_0x46a551(0xe8))),settings_types_list_1=__importDefault(require(a146_0x46a551(0xec))),CHILD_XML_KEYS=Object[a146_0x46a551(0x12d)](child_types_map_1[a146_0x46a551(0xe7)]);class MDApiParserV2{constructor(_0x2a4ad1,_0x365b82){const _0x5441e9=a146_0x46a551;this[_0x5441e9(0xf8)]=_0x2a4ad1,this[_0x5441e9(0x124)]=_0x365b82,this[_0x5441e9(0xf4)]=new core_1[(_0x5441e9(0x122))](MDApiParserV2['name']),this['META_EXTENSION']=_0x5441e9(0x112),this[_0x5441e9(0x12c)]=_0x5441e9(0xea);}async[a146_0x46a551(0x12b)](_0x1abf41){const _0xd5ca20=a146_0x46a551;try{const _0x435b1a=await xml_v2_1[_0xd5ca20(0xfe)][_0xd5ca20(0x119)](Object[_0xd5ca20(0x12d)](_0x1abf41[_0xd5ca20(0xf7)])[0x0]['toString'](_0xd5ca20(0x115))),_0x2b9c81=CHILD_XML_KEYS['filter'](_0x160796=>xml_v2_1[_0xd5ca20(0xfe)][_0xd5ca20(0xe3)](_0x435b1a,_0x160796))['reduce']((_0x29d7b0,_0x2c0710)=>[..._0x29d7b0,...xml_v2_1[_0xd5ca20(0xfe)][_0xd5ca20(0x10a)](_0x435b1a,_0x2c0710)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x1abf41,_0x435b1a,_0x2b9c81);}catch(_0x2b6555){throw new Error(_0xd5ca20(0x128)+_0x1abf41[_0xd5ca20(0x103)]+'\x20['+_0x1abf41[_0xd5ca20(0x118)]+']');}}async[a146_0x46a551(0x116)](_0x587df9){const _0x3a3cf2=a146_0x46a551,_0x541b12=(0x0,path_1[_0x3a3cf2(0x102)])(this[_0x3a3cf2(0xf8)],_0x587df9),_0x5d9e12=_0x587df9+(_0x587df9[_0x3a3cf2(0xeb)]('experiences')?this[_0x3a3cf2(0x12c)]:this['META_EXTENSION']),_0x36ecc8=await fs_internal_1['FS'][_0x3a3cf2(0x10b)](_0x541b12,!![]),_0x3de176=await fs_internal_1['FS'][_0x3a3cf2(0x11d)]((0x0,path_1['join'])(this[_0x3a3cf2(0xf8)],_0x5d9e12),!![])[_0x3a3cf2(0x11a)](()=>null),_0x40fa96={};for(const _0x453cd6 of _0x36ecc8){_0x40fa96[(0x0,path_1[_0x3a3cf2(0xf9)])(this[_0x3a3cf2(0xf8)],_0x453cd6)[_0x3a3cf2(0x111)](/\\/g,'/')]=await fs_internal_1['FS'][_0x3a3cf2(0x11d)](_0x453cd6,!![]);}return _0x3de176&&(_0x40fa96[(0x0,path_1[_0x3a3cf2(0xf9)])(this[_0x3a3cf2(0xf8)],_0x5d9e12)['replace'](/\\/g,'/')]=_0x3de176),_0x40fa96;}async[a146_0x46a551(0x121)](_0x326154){const _0x590303=a146_0x46a551,_0x49fac6=_0x326154+this[_0x590303(0x129)];if(constants_1[_0x590303(0xf3)][_0x590303(0xfb)](_0x326154))return this[_0x590303(0x116)](_0x326154);if(await fs_internal_1['FS'][_0x590303(0xef)]((0x0,path_1[_0x590303(0x102)])(this['dir'],_0x49fac6))){const _0x307c49=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x590303(0x102)])(this[_0x590303(0xf8)],_0x49fac6),!![]),_0x263cd7=await(0x0,utils_1[_0x590303(0xfd)])({'files':{[_0x49fac6]:_0x307c49}})[_0x590303(0x11a)](()=>null);if(_0x263cd7&&folder_types_1[_0x590303(0xe7)][_0x590303(0x10d)](_0x263cd7))return{[_0x49fac6]:_0x307c49};return{[_0x49fac6]:_0x307c49,[_0x326154]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x590303(0x102)])(this[_0x590303(0xf8)],_0x326154),!![])};}return{[_0x326154]:await fs_internal_1['FS'][_0x590303(0x11d)]((0x0,path_1['join'])(this[_0x590303(0xf8)],_0x326154),!![])};}[a146_0x46a551(0x105)](){const _0x5f258f=a146_0x46a551;this[_0x5f258f(0x124)]=this['paths'][_0x5f258f(0xf6)](_0x252904=>constants_1[_0x5f258f(0xf3)][_0x5f258f(0xfb)](_0x252904)?_0x252904[_0x5f258f(0x110)]('/')[_0x5f258f(0x108)](0x0,0x2)[_0x5f258f(0x102)]('/'):_0x252904),this[_0x5f258f(0x124)]=[...new Set(this['paths'])];}async['parse'](){const _0x3b7749=a146_0x46a551,_0x5610f5=[];this['foldBundledComponentsPaths']();for(const _0x49f1c9 of this[_0x3b7749(0x124)]){if(_0x49f1c9[_0x3b7749(0x117)](_0x3b7749(0x10c)))continue;const _0x5c9324={};try{_0x5c9324[_0x3b7749(0xf7)]=await this['readComponent'](_0x49f1c9),_0x5c9324[_0x3b7749(0xe2)]=constants_1[_0x3b7749(0xf3)][_0x3b7749(0xfb)](_0x49f1c9)?_0x49f1c9:(0x0,utils_1[_0x3b7749(0xfa)])({'files':_0x5c9324[_0x3b7749(0xf7)]}),_0x49f1c9[_0x3b7749(0xeb)](_0x3b7749(0x11e))?_0x5c9324[_0x3b7749(0x118)]=_0x3b7749(0xf2):_0x5c9324['type']=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x5c9324[_0x3b7749(0xf7)]});}catch(_0x4857db){this[_0x3b7749(0xf4)][_0x3b7749(0xe5)](_0x3b7749(0x101),_0x49f1c9,_0x4857db);continue;}_0x5c9324[_0x3b7749(0x103)]=(0x0,utils_1[_0x3b7749(0x126)])(_0x49f1c9),_0x5c9324['crc']=(0x0,crc32_1[_0x3b7749(0x11c)])(_0x5c9324);if((0x0,utils_1[_0x3b7749(0x11b)])(_0x5c9324)){const _0x1605b3=await this[_0x3b7749(0x12b)](_0x5c9324);_0x5610f5[_0x3b7749(0xf5)](..._0x1605b3);}if(_0x5c9324[_0x3b7749(0x118)]===_0x3b7749(0x10e))continue;settings_types_list_1[_0x3b7749(0xe7)][_0x3b7749(0x10d)](_0x5c9324[_0x3b7749(0x118)])&&(_0x5c9324[_0x3b7749(0x118)]=_0x3b7749(0x114)),_0x5610f5[_0x3b7749(0xf5)](_0x5c9324);}return _0x5610f5;}}exports[a146_0x46a551(0x130)]=MDApiParserV2;