const a114_0x3761e5=a114_0x14a6;(function(_0x2ad0c0,_0x36b2a5){const _0x2f9210=a114_0x14a6,_0x1b54f4=_0x2ad0c0();while(!![]){try{const _0x472626=-parseInt(_0x2f9210(0xa7))/0x1*(-parseInt(_0x2f9210(0x86))/0x2)+parseInt(_0x2f9210(0x81))/0x3+parseInt(_0x2f9210(0xb1))/0x4+-parseInt(_0x2f9210(0x89))/0x5+-parseInt(_0x2f9210(0xb6))/0x6*(parseInt(_0x2f9210(0x8a))/0x7)+-parseInt(_0x2f9210(0x96))/0x8+parseInt(_0x2f9210(0xa8))/0x9;if(_0x472626===_0x36b2a5)break;else _0x1b54f4['push'](_0x1b54f4['shift']());}catch(_0x5626f9){_0x1b54f4['push'](_0x1b54f4['shift']());}}}(a114_0x382e,0x34c12));const a114_0x5d596e=(function(){let _0x470ffc=!![];return function(_0x3ff8b3,_0x4105fe){const _0x53679f=_0x470ffc?function(){const _0x3866a5=a114_0x14a6;if(_0x4105fe){const _0x298ce1=_0x4105fe[_0x3866a5(0xab)](_0x3ff8b3,arguments);return _0x4105fe=null,_0x298ce1;}}:function(){};return _0x470ffc=![],_0x53679f;};}()),a114_0x3e2e68=a114_0x5d596e(this,function(){const _0x1307c2=a114_0x14a6;return a114_0x3e2e68['toString']()['search'](_0x1307c2(0x84))[_0x1307c2(0x8e)]()['constructor'](a114_0x3e2e68)[_0x1307c2(0x88)]('(((.+)+)+)+$');});a114_0x3e2e68();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x47eb1a){const _0x5094a3=a114_0x14a6;return _0x47eb1a&&_0x47eb1a[_0x5094a3(0xb2)]?_0x47eb1a:{'default':_0x47eb1a};};Object['defineProperty'](exports,a114_0x3761e5(0xb2),{'value':!![]}),exports[a114_0x3761e5(0xb9)]=void 0x0;const fs_internal_1=require(a114_0x3761e5(0x90)),utils_1=require(a114_0x3761e5(0x91)),path_1=require(a114_0x3761e5(0x92)),xml_1=require(a114_0x3761e5(0xae)),child_types_map_1=__importDefault(require(a114_0x3761e5(0x7c))),constants_1=require('../../../../constants'),core_1=require(a114_0x3761e5(0x9c)),crc32_1=require(a114_0x3761e5(0x9a)),folder_types_1=__importDefault(require(a114_0x3761e5(0xad))),CHILD_XML_KEYS=Object[a114_0x3761e5(0x7f)](child_types_map_1['default']);function a114_0x382e(){const _0x342801=['endsWith','extractComponentTypeFromFiles','Logger','replace','error','META_EXTENSION','12394IYipPB','65331vTGHjb','paths','test','apply','hasChildNodes','../data/folder-types','../utils/xml','join','push','941192iEPUgu','__esModule','logger','CustomLabels','includes','510zaFgZn','filter','readChildComponents','MDApiParserV2','readDir','readBundledComponent','startsWith','utf-8','exists','slice','parse','../data/child-types-map','calculateCRC32','dir','values','experiences','622866wKngvx','reduce','foldBundledComponentsPaths','(((.+)+)+)+$','readFile','58Wnwdca','readComponent','search','1748335APCiPr','3262odzCyd','isParentComponent','crc','type','toString','relative','../../internal/fs.internal','../utils','path','files','waveTemplates','META_EXPERIENCES_EXTENSION','1633968jasQub','name','getChildsByName','extractFileNameFromFiles','../utils/crc32','BUNDLED_FOLDERS_REGEXP','../../../../core','Xml','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','filePath','catch'];a114_0x382e=function(){return _0x342801;};return a114_0x382e();}function a114_0x14a6(_0x33e05d,_0x49e22a){const _0x2b68fa=a114_0x382e();return a114_0x14a6=function(_0x3e2e68,_0x5d596e){_0x3e2e68=_0x3e2e68-0x75;let _0x382e50=_0x2b68fa[_0x3e2e68];return _0x382e50;},a114_0x14a6(_0x33e05d,_0x49e22a);}class MDApiParserV2{constructor(_0x48d823,_0x39a30e){const _0x58f117=a114_0x3761e5;this[_0x58f117(0x7e)]=_0x48d823,this[_0x58f117(0xa9)]=_0x39a30e,this[_0x58f117(0xb3)]=new core_1[(_0x58f117(0xa3))](MDApiParserV2[_0x58f117(0x97)]),this[_0x58f117(0xa6)]='-meta.xml',this[_0x58f117(0x95)]='.site-meta.xml';}async[a114_0x3761e5(0xb8)](_0x4d1e41){const _0x3d8ad0=a114_0x3761e5;try{const _0x58b829=await xml_1[_0x3d8ad0(0x9d)][_0x3d8ad0(0x7b)](Object['values'](_0x4d1e41[_0x3d8ad0(0x93)])[0x0][_0x3d8ad0(0x8e)](_0x3d8ad0(0x78))),_0x433f73=CHILD_XML_KEYS[_0x3d8ad0(0xb7)](_0x206182=>xml_1[_0x3d8ad0(0x9d)][_0x3d8ad0(0xac)](_0x58b829,_0x206182))[_0x3d8ad0(0x82)]((_0x48b995,_0x4c039c)=>[..._0x48b995,...xml_1[_0x3d8ad0(0x9d)][_0x3d8ad0(0x98)](_0x58b829,_0x4c039c)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x4d1e41,_0x58b829,_0x433f73);}catch(_0x2a3d7e){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x4d1e41['name']+'\x20['+_0x4d1e41[_0x3d8ad0(0x8d)]+']');}}async['readBundledComponent'](_0x49e0d2){const _0x348388=a114_0x3761e5,_0x313547=(0x0,path_1[_0x348388(0xaf)])(this[_0x348388(0x7e)],_0x49e0d2),_0x2e3198=_0x49e0d2+(_0x49e0d2[_0x348388(0x77)](_0x348388(0x80))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x51c04e=await fs_internal_1['FS'][_0x348388(0x75)](_0x313547,!![]),_0x3ecdc1=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x348388(0xaf)])(this[_0x348388(0x7e)],_0x2e3198),!![])[_0x348388(0xa0)](()=>null),_0x224ae2={};for(const _0x40b334 of _0x51c04e){_0x224ae2[(0x0,path_1[_0x348388(0x8f)])(this['dir'],_0x40b334)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x348388(0x85)](_0x40b334,!![]);}return _0x3ecdc1&&(_0x224ae2[(0x0,path_1[_0x348388(0x8f)])(this[_0x348388(0x7e)],_0x2e3198)[_0x348388(0xa4)](/\\/g,'/')]=_0x3ecdc1),_0x224ae2;}async[a114_0x3761e5(0x87)](_0x376ece){const _0x3069f2=a114_0x3761e5,_0x6eef00=_0x376ece+this['META_EXTENSION'];if(constants_1[_0x3069f2(0x9b)][_0x3069f2(0xaa)](_0x376ece))return this[_0x3069f2(0x76)](_0x376ece);if(await fs_internal_1['FS'][_0x3069f2(0x79)]((0x0,path_1[_0x3069f2(0xaf)])(this[_0x3069f2(0x7e)],_0x6eef00))){const _0x4b93a9=await fs_internal_1['FS'][_0x3069f2(0x85)]((0x0,path_1[_0x3069f2(0xaf)])(this['dir'],_0x6eef00),!![]),_0x448a52=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x6eef00]:_0x4b93a9}})[_0x3069f2(0xa0)](()=>null);if(_0x448a52&&folder_types_1['default'][_0x3069f2(0xb5)](_0x448a52))return{[_0x6eef00]:_0x4b93a9};return{[_0x6eef00]:_0x4b93a9,[_0x376ece]:await fs_internal_1['FS'][_0x3069f2(0x85)]((0x0,path_1[_0x3069f2(0xaf)])(this[_0x3069f2(0x7e)],_0x376ece),!![])};}return{[_0x376ece]:await fs_internal_1['FS'][_0x3069f2(0x85)]((0x0,path_1[_0x3069f2(0xaf)])(this['dir'],_0x376ece),!![])};}[a114_0x3761e5(0x83)](){const _0x15d559=a114_0x3761e5;this['paths']=this[_0x15d559(0xa9)]['map'](_0x3f5ebb=>constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x3f5ebb)?_0x3f5ebb['split']('/')[_0x15d559(0x7a)](0x0,0x2)[_0x15d559(0xaf)]('/'):_0x3f5ebb),this[_0x15d559(0xa9)]=[...new Set(this['paths'])];}async['parse'](){const _0x3d6799=a114_0x3761e5,_0x45495e=[];this[_0x3d6799(0x83)]();for(const _0x76b846 of this[_0x3d6799(0xa9)]){if(_0x76b846[_0x3d6799(0xa1)]('package.xml'))continue;const _0x38d205={};try{_0x38d205[_0x3d6799(0x93)]=await this['readComponent'](_0x76b846),_0x38d205[_0x3d6799(0x9f)]=constants_1[_0x3d6799(0x9b)]['test'](_0x76b846)?_0x76b846:(0x0,utils_1[_0x3d6799(0x99)])({'files':_0x38d205['files']}),_0x76b846[_0x3d6799(0x77)](_0x3d6799(0x94))?_0x38d205[_0x3d6799(0x8d)]='WaveTemplateBundle':_0x38d205['type']=await(0x0,utils_1[_0x3d6799(0xa2)])({'files':_0x38d205[_0x3d6799(0x93)]});}catch(_0x2b6be4){this[_0x3d6799(0xb3)][_0x3d6799(0xa5)](_0x3d6799(0x9e),_0x76b846,_0x2b6be4);continue;}_0x38d205[_0x3d6799(0x97)]=(0x0,utils_1['extractFilenameFromPath'])(_0x76b846),_0x38d205[_0x3d6799(0x8c)]=(0x0,crc32_1[_0x3d6799(0x7d)])(_0x38d205);if((0x0,utils_1[_0x3d6799(0x8b)])(_0x38d205)){const _0x4fa8ef=await this[_0x3d6799(0xb8)](_0x38d205);_0x45495e[_0x3d6799(0xb0)](..._0x4fa8ef);}if(_0x38d205[_0x3d6799(0x8d)]===_0x3d6799(0xb4))continue;_0x45495e['push'](_0x38d205);}return _0x45495e;}}exports['MDApiParserV2']=MDApiParserV2;