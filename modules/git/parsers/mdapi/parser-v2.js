const a146_0x1cd1e4=a146_0x2201;(function(_0x46d405,_0x544ee9){const _0x3d0df6=a146_0x2201,_0x4fa266=_0x46d405();while(!![]){try{const _0x25ab41=-parseInt(_0x3d0df6(0x1b0))/0x1*(-parseInt(_0x3d0df6(0x1b3))/0x2)+parseInt(_0x3d0df6(0x1a0))/0x3*(-parseInt(_0x3d0df6(0x18f))/0x4)+-parseInt(_0x3d0df6(0x17d))/0x5*(-parseInt(_0x3d0df6(0x18d))/0x6)+-parseInt(_0x3d0df6(0x1b5))/0x7+-parseInt(_0x3d0df6(0x189))/0x8*(-parseInt(_0x3d0df6(0x1b7))/0x9)+parseInt(_0x3d0df6(0x1bf))/0xa*(parseInt(_0x3d0df6(0x17b))/0xb)+parseInt(_0x3d0df6(0x192))/0xc*(-parseInt(_0x3d0df6(0x1a6))/0xd);if(_0x25ab41===_0x544ee9)break;else _0x4fa266['push'](_0x4fa266['shift']());}catch(_0x12769d){_0x4fa266['push'](_0x4fa266['shift']());}}}(a146_0x5156,0xaccca));const a146_0x249e5a=(function(){let _0x1f025b=!![];return function(_0xf01dcf,_0x577e2c){const _0x37c572=_0x1f025b?function(){if(_0x577e2c){const _0x32d520=_0x577e2c['apply'](_0xf01dcf,arguments);return _0x577e2c=null,_0x32d520;}}:function(){};return _0x1f025b=![],_0x37c572;};}()),a146_0x502293=a146_0x249e5a(this,function(){const _0x26c7a1=a146_0x2201;return a146_0x502293['toString']()[_0x26c7a1(0x1ba)](_0x26c7a1(0x19a))[_0x26c7a1(0x19d)]()[_0x26c7a1(0x1b9)](a146_0x502293)[_0x26c7a1(0x1ba)]('(((.+)+)+)+$');});a146_0x502293();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x26f230){const _0x43197c=a146_0x2201;return _0x26f230&&_0x26f230[_0x43197c(0x1aa)]?_0x26f230:{'default':_0x26f230};};function a146_0x5156(){const _0xa61c01=['startsWith','readBundledComponent','toString','paths','join','4431UzZHQp','package.xml','../data/folder-types','values','path','name','52mDqrNO','readComponent','../../internal/fs.internal','readChildComponents','__esModule','error','META_EXPERIENCES_EXTENSION','type','../utils/xml-v2','endsWith','138kHVxao','isParentComponent','catch','1490Xshdwk','../data/settings-types-list','1036224pAXhQH','utf-8','1024092MiDlWZ','dir','constructor','search','foldBundledComponentsPaths','test','slice','.site-meta.xml','10bCkWoF','MDApiParserV2','../utils','WaveTemplateBundle','10517782YujCkC','map','45rJKwhI','logger','META_EXTENSION','-meta.xml','experiences','readFile','relative','Cannot\x20parse\x20children\x20in\x20','extractFilenameFromPath','default','createChildComponentsFromParent','XmlV2','88sRsrLK','includes','extractFileNameFromFiles','defineProperty','795174ASUgHp','waveTemplates','508aMehUU','split','../../../../constants','7380012QpTqFJ','getChildsByName','parse','push','extractComponentTypeFromFiles','files','crc','hasChildNodes','(((.+)+)+)+$'];a146_0x5156=function(){return _0xa61c01;};return a146_0x5156();}function a146_0x2201(_0x53200d,_0x2df256){const _0x4ff9ad=a146_0x5156();return a146_0x2201=function(_0x502293,_0x249e5a){_0x502293=_0x502293-0x178;let _0x515612=_0x4ff9ad[_0x502293];return _0x515612;},a146_0x2201(_0x53200d,_0x2df256);}Object[a146_0x1cd1e4(0x18c)](exports,a146_0x1cd1e4(0x1aa),{'value':!![]}),exports[a146_0x1cd1e4(0x178)]=void 0x0;const fs_internal_1=require(a146_0x1cd1e4(0x1a8)),utils_1=require(a146_0x1cd1e4(0x179)),path_1=require(a146_0x1cd1e4(0x1a4)),xml_v2_1=require(a146_0x1cd1e4(0x1ae)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a146_0x1cd1e4(0x191)),core_1=require('../../../../core'),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x1cd1e4(0x1a2))),settings_types_list_1=__importDefault(require(a146_0x1cd1e4(0x1b4))),CHILD_XML_KEYS=Object[a146_0x1cd1e4(0x1a3)](child_types_map_1[a146_0x1cd1e4(0x186)]);class MDApiParserV2{constructor(_0x2e10e2,_0x3e46c4){const _0x185224=a146_0x1cd1e4;this['dir']=_0x2e10e2,this['paths']=_0x3e46c4,this[_0x185224(0x17e)]=new core_1['Logger'](MDApiParserV2[_0x185224(0x1a5)]),this[_0x185224(0x17f)]=_0x185224(0x180),this[_0x185224(0x1ac)]=_0x185224(0x1be);}async[a146_0x1cd1e4(0x1a9)](_0x21b93f){const _0x3f0df7=a146_0x1cd1e4;try{const _0x463754=await xml_v2_1[_0x3f0df7(0x188)][_0x3f0df7(0x194)](Object[_0x3f0df7(0x1a3)](_0x21b93f[_0x3f0df7(0x197)])[0x0][_0x3f0df7(0x19d)](_0x3f0df7(0x1b6))),_0x3b6d2b=CHILD_XML_KEYS['filter'](_0x136305=>xml_v2_1['XmlV2'][_0x3f0df7(0x199)](_0x463754,_0x136305))['reduce']((_0x2e5223,_0xbe32b6)=>[..._0x2e5223,...xml_v2_1[_0x3f0df7(0x188)][_0x3f0df7(0x193)](_0x463754,_0xbe32b6)],[]);return(0x0,utils_1[_0x3f0df7(0x187)])(_0x21b93f,_0x463754,_0x3b6d2b);}catch(_0x3988de){throw new Error(_0x3f0df7(0x184)+_0x21b93f['name']+'\x20['+_0x21b93f[_0x3f0df7(0x1ad)]+']');}}async[a146_0x1cd1e4(0x19c)](_0x114dbf){const _0x4672f6=a146_0x1cd1e4,_0x23c788=(0x0,path_1[_0x4672f6(0x19f)])(this[_0x4672f6(0x1b8)],_0x114dbf),_0x3bcaec=_0x114dbf+(_0x114dbf[_0x4672f6(0x19b)](_0x4672f6(0x181))?this[_0x4672f6(0x1ac)]:this[_0x4672f6(0x17f)]),_0x26c498=await fs_internal_1['FS']['readDir'](_0x23c788,!![]),_0x1f2b06=await fs_internal_1['FS'][_0x4672f6(0x182)]((0x0,path_1[_0x4672f6(0x19f)])(this[_0x4672f6(0x1b8)],_0x3bcaec),!![])[_0x4672f6(0x1b2)](()=>null),_0x2c2b84={};for(const _0x5eb057 of _0x26c498){_0x2c2b84[(0x0,path_1[_0x4672f6(0x183)])(this[_0x4672f6(0x1b8)],_0x5eb057)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x4672f6(0x182)](_0x5eb057,!![]);}return _0x1f2b06&&(_0x2c2b84[(0x0,path_1[_0x4672f6(0x183)])(this[_0x4672f6(0x1b8)],_0x3bcaec)['replace'](/\\/g,'/')]=_0x1f2b06),_0x2c2b84;}async[a146_0x1cd1e4(0x1a7)](_0x3b5fcf){const _0x30821d=a146_0x1cd1e4,_0x1e15c9=_0x3b5fcf+this[_0x30821d(0x17f)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x30821d(0x1bc)](_0x3b5fcf))return this[_0x30821d(0x19c)](_0x3b5fcf);if(await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x30821d(0x1b8)],_0x1e15c9))){const _0x510c58=await fs_internal_1['FS'][_0x30821d(0x182)]((0x0,path_1[_0x30821d(0x19f)])(this[_0x30821d(0x1b8)],_0x1e15c9),!![]),_0x48229c=await(0x0,utils_1[_0x30821d(0x196)])({'files':{[_0x1e15c9]:_0x510c58}})['catch'](()=>null);if(_0x48229c&&folder_types_1[_0x30821d(0x186)][_0x30821d(0x18a)](_0x48229c))return{[_0x1e15c9]:_0x510c58};return{[_0x1e15c9]:_0x510c58,[_0x3b5fcf]:await fs_internal_1['FS'][_0x30821d(0x182)]((0x0,path_1[_0x30821d(0x19f)])(this['dir'],_0x3b5fcf),!![])};}return{[_0x3b5fcf]:await fs_internal_1['FS'][_0x30821d(0x182)]((0x0,path_1[_0x30821d(0x19f)])(this['dir'],_0x3b5fcf),!![])};}[a146_0x1cd1e4(0x1bb)](){const _0x5bd213=a146_0x1cd1e4;this['paths']=this[_0x5bd213(0x19e)][_0x5bd213(0x17c)](_0x5defce=>constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x5defce)?_0x5defce[_0x5bd213(0x190)]('/')[_0x5bd213(0x1bd)](0x0,0x2)[_0x5bd213(0x19f)]('/'):_0x5defce),this[_0x5bd213(0x19e)]=[...new Set(this[_0x5bd213(0x19e)])];}async[a146_0x1cd1e4(0x194)](){const _0x531499=a146_0x1cd1e4,_0x39116b=[];this['foldBundledComponentsPaths']();for(const _0x408ea2 of this[_0x531499(0x19e)]){if(_0x408ea2[_0x531499(0x1af)](_0x531499(0x1a1)))continue;const _0x2d68e5={};try{_0x2d68e5[_0x531499(0x197)]=await this[_0x531499(0x1a7)](_0x408ea2),_0x2d68e5['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x531499(0x1bc)](_0x408ea2)?_0x408ea2:(0x0,utils_1[_0x531499(0x18b)])({'files':_0x2d68e5[_0x531499(0x197)]}),_0x408ea2[_0x531499(0x19b)](_0x531499(0x18e))?_0x2d68e5['type']=_0x531499(0x17a):_0x2d68e5[_0x531499(0x1ad)]=await(0x0,utils_1[_0x531499(0x196)])({'files':_0x2d68e5['files']});}catch(_0x59a949){this[_0x531499(0x17e)][_0x531499(0x1ab)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x408ea2,_0x59a949);continue;}_0x2d68e5[_0x531499(0x1a5)]=(0x0,utils_1[_0x531499(0x185)])(_0x408ea2),_0x2d68e5[_0x531499(0x198)]=(0x0,crc32_1['calculateCRC32'])(_0x2d68e5);if((0x0,utils_1[_0x531499(0x1b1)])(_0x2d68e5)){const _0x1bf9da=await this[_0x531499(0x1a9)](_0x2d68e5);_0x39116b['push'](..._0x1bf9da);}if(_0x2d68e5[_0x531499(0x1ad)]==='CustomLabels')continue;settings_types_list_1['default'][_0x531499(0x18a)](_0x2d68e5[_0x531499(0x1ad)])&&(_0x2d68e5[_0x531499(0x1ad)]='Settings'),_0x39116b[_0x531499(0x195)](_0x2d68e5);}return _0x39116b;}}exports[a146_0x1cd1e4(0x178)]=MDApiParserV2;