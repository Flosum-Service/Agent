const a145_0x297b36=a145_0x6476;(function(_0x1d3165,_0x516074){const _0x12e0b7=a145_0x6476,_0x48b389=_0x1d3165();while(!![]){try{const _0xbaae81=parseInt(_0x12e0b7(0xec))/0x1+-parseInt(_0x12e0b7(0xdc))/0x2*(parseInt(_0x12e0b7(0xc8))/0x3)+parseInt(_0x12e0b7(0xd9))/0x4*(-parseInt(_0x12e0b7(0xe5))/0x5)+parseInt(_0x12e0b7(0xcc))/0x6+-parseInt(_0x12e0b7(0x107))/0x7*(-parseInt(_0x12e0b7(0xf2))/0x8)+parseInt(_0x12e0b7(0xf7))/0x9*(parseInt(_0x12e0b7(0xe9))/0xa)+parseInt(_0x12e0b7(0xde))/0xb*(parseInt(_0x12e0b7(0xcb))/0xc);if(_0xbaae81===_0x516074)break;else _0x48b389['push'](_0x48b389['shift']());}catch(_0x41e025){_0x48b389['push'](_0x48b389['shift']());}}}(a145_0x3be2,0xa37e5));const a145_0x116581=(function(){let _0x5dac73=!![];return function(_0x3374ad,_0x2dcaf9){const _0x3fb3eb=_0x5dac73?function(){const _0x2484da=a145_0x6476;if(_0x2dcaf9){const _0x160914=_0x2dcaf9[_0x2484da(0xdd)](_0x3374ad,arguments);return _0x2dcaf9=null,_0x160914;}}:function(){};return _0x5dac73=![],_0x3fb3eb;};}()),a145_0x553cbd=a145_0x116581(this,function(){const _0x4152e9=a145_0x6476;return a145_0x553cbd[_0x4152e9(0xe8)]()[_0x4152e9(0xea)](_0x4152e9(0xd7))[_0x4152e9(0xe8)]()['constructor'](a145_0x553cbd)['search']('(((.+)+)+)+$');});a145_0x553cbd();function a145_0x3be2(){const _0x2fca29=['experiences','replace','isParentComponent','hasChildNodes','(((.+)+)+)+$','.site-meta.xml','4601316Crkhiy','META_EXTENSION','name','55732vnqkVF','apply','55qNaTYQ','XmlV2','waveTemplates','filePath','dir','../data/settings-types-list','MDApiParserV2','5LWsUUH','../utils/xml-v2','catch','toString','1777950RDioKt','search','join','187721PXyMDT','package.xml','parse','Logger','Cannot\x20parse\x20children\x20in\x20','CustomLabels','1241784rEaUIc','__esModule','map','type','readChildComponents','36WLHGCb','endsWith','split','Settings','paths','logger','WaveTemplateBundle','values','../utils','error','readFile','path','crc','readComponent','defineProperty','startsWith','35KrBbzs','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readDir','utf-8','default','../data/child-types-map','push','META_EXPERIENCES_EXTENSION','files','extractFileNameFromFiles','test','120gsLBNy','includes','extractFilenameFromPath','197196JWMCgv','7064742RBkmCK','../../../../core','../utils/crc32','BUNDLED_FOLDERS_REGEXP','extractComponentTypeFromFiles','relative','filter'];a145_0x3be2=function(){return _0x2fca29;};return a145_0x3be2();}function a145_0x6476(_0x136213,_0x2e1fdb){const _0x24e41a=a145_0x3be2();return a145_0x6476=function(_0x553cbd,_0x116581){_0x553cbd=_0x553cbd-0xbf;let _0x3be268=_0x24e41a[_0x553cbd];return _0x3be268;},a145_0x6476(_0x136213,_0x2e1fdb);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0xdc4160){const _0x55d1c9=a145_0x6476;return _0xdc4160&&_0xdc4160[_0x55d1c9(0xf3)]?_0xdc4160:{'default':_0xdc4160};};Object[a145_0x297b36(0x105)](exports,a145_0x297b36(0xf3),{'value':!![]}),exports[a145_0x297b36(0xe4)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a145_0x297b36(0xff)),path_1=require(a145_0x297b36(0x102)),xml_v2_1=require(a145_0x297b36(0xe6)),child_types_map_1=__importDefault(require(a145_0x297b36(0xc2))),constants_1=require('../../../../constants'),core_1=require(a145_0x297b36(0xcd)),crc32_1=require(a145_0x297b36(0xce)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a145_0x297b36(0xe3))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a145_0x297b36(0xc1)]);class MDApiParserV2{constructor(_0x6199c0,_0x19cdc4){const _0x3093d1=a145_0x297b36;this[_0x3093d1(0xe2)]=_0x6199c0,this[_0x3093d1(0xfb)]=_0x19cdc4,this[_0x3093d1(0xfc)]=new core_1[(_0x3093d1(0xef))](MDApiParserV2['name']),this[_0x3093d1(0xda)]='-meta.xml',this[_0x3093d1(0xc4)]=_0x3093d1(0xd8);}async[a145_0x297b36(0xf6)](_0x5af172){const _0x1137f3=a145_0x297b36;try{const _0x39a6b6=await xml_v2_1[_0x1137f3(0xdf)][_0x1137f3(0xee)](Object[_0x1137f3(0xfe)](_0x5af172[_0x1137f3(0xc5)])[0x0][_0x1137f3(0xe8)](_0x1137f3(0xc0))),_0x20996c=CHILD_XML_KEYS[_0x1137f3(0xd2)](_0x4e98cd=>xml_v2_1[_0x1137f3(0xdf)][_0x1137f3(0xd6)](_0x39a6b6,_0x4e98cd))['reduce']((_0x2cf6de,_0x2307d3)=>[..._0x2cf6de,...xml_v2_1[_0x1137f3(0xdf)]['getChildsByName'](_0x39a6b6,_0x2307d3)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x5af172,_0x39a6b6,_0x20996c);}catch(_0x212941){throw new Error(_0x1137f3(0xf0)+_0x5af172[_0x1137f3(0xdb)]+'\x20['+_0x5af172['type']+']');}}async['readBundledComponent'](_0x23369e){const _0x2828cf=a145_0x297b36,_0x1a9616=(0x0,path_1['join'])(this[_0x2828cf(0xe2)],_0x23369e),_0x24337a=_0x23369e+(_0x23369e[_0x2828cf(0x106)](_0x2828cf(0xd3))?this[_0x2828cf(0xc4)]:this['META_EXTENSION']),_0x278bb2=await fs_internal_1['FS'][_0x2828cf(0xbf)](_0x1a9616,!![]),_0x1fe406=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0x24337a),!![])[_0x2828cf(0xe7)](()=>null),_0x1a2031={};for(const _0x5bb2f2 of _0x278bb2){_0x1a2031[(0x0,path_1[_0x2828cf(0xd1)])(this[_0x2828cf(0xe2)],_0x5bb2f2)[_0x2828cf(0xd4)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x5bb2f2,!![]);}return _0x1fe406&&(_0x1a2031[(0x0,path_1[_0x2828cf(0xd1)])(this[_0x2828cf(0xe2)],_0x24337a)['replace'](/\\/g,'/')]=_0x1fe406),_0x1a2031;}async[a145_0x297b36(0x104)](_0x5e4b74){const _0x2ef4fe=a145_0x297b36,_0x103a19=_0x5e4b74+this[_0x2ef4fe(0xda)];if(constants_1[_0x2ef4fe(0xcf)][_0x2ef4fe(0xc7)](_0x5e4b74))return this['readBundledComponent'](_0x5e4b74);if(await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x2ef4fe(0xe2)],_0x103a19))){const _0x4a72c5=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x2ef4fe(0xeb)])(this[_0x2ef4fe(0xe2)],_0x103a19),!![]),_0x57e7b9=await(0x0,utils_1[_0x2ef4fe(0xd0)])({'files':{[_0x103a19]:_0x4a72c5}})['catch'](()=>null);if(_0x57e7b9&&folder_types_1['default'][_0x2ef4fe(0xc9)](_0x57e7b9))return{[_0x103a19]:_0x4a72c5};return{[_0x103a19]:_0x4a72c5,[_0x5e4b74]:await fs_internal_1['FS'][_0x2ef4fe(0x101)]((0x0,path_1['join'])(this[_0x2ef4fe(0xe2)],_0x5e4b74),!![])};}return{[_0x5e4b74]:await fs_internal_1['FS'][_0x2ef4fe(0x101)]((0x0,path_1[_0x2ef4fe(0xeb)])(this[_0x2ef4fe(0xe2)],_0x5e4b74),!![])};}['foldBundledComponentsPaths'](){const _0x4e6f03=a145_0x297b36;this[_0x4e6f03(0xfb)]=this['paths'][_0x4e6f03(0xf4)](_0x29ed42=>constants_1[_0x4e6f03(0xcf)]['test'](_0x29ed42)?_0x29ed42[_0x4e6f03(0xf9)]('/')['slice'](0x0,0x2)[_0x4e6f03(0xeb)]('/'):_0x29ed42),this[_0x4e6f03(0xfb)]=[...new Set(this[_0x4e6f03(0xfb)])];}async[a145_0x297b36(0xee)](){const _0x15455c=a145_0x297b36,_0xdbe827=[];this['foldBundledComponentsPaths']();for(const _0x132994 of this[_0x15455c(0xfb)]){if(_0x132994[_0x15455c(0xf8)](_0x15455c(0xed)))continue;const _0xf09662={};try{_0xf09662[_0x15455c(0xc5)]=await this[_0x15455c(0x104)](_0x132994),_0xf09662[_0x15455c(0xe1)]=constants_1[_0x15455c(0xcf)][_0x15455c(0xc7)](_0x132994)?_0x132994:(0x0,utils_1[_0x15455c(0xc6)])({'files':_0xf09662['files']}),_0x132994[_0x15455c(0x106)](_0x15455c(0xe0))?_0xf09662[_0x15455c(0xf5)]=_0x15455c(0xfd):_0xf09662[_0x15455c(0xf5)]=await(0x0,utils_1[_0x15455c(0xd0)])({'files':_0xf09662[_0x15455c(0xc5)]});}catch(_0x1ad03c){this['logger'][_0x15455c(0x100)](_0x15455c(0x108),_0x132994,_0x1ad03c);continue;}_0xf09662[_0x15455c(0xdb)]=(0x0,utils_1[_0x15455c(0xca)])(_0x132994),_0xf09662[_0x15455c(0x103)]=(0x0,crc32_1['calculateCRC32'])(_0xf09662);if((0x0,utils_1[_0x15455c(0xd5)])(_0xf09662)){const _0x261606=await this['readChildComponents'](_0xf09662);_0xdbe827[_0x15455c(0xc3)](..._0x261606);}if(_0xf09662[_0x15455c(0xf5)]===_0x15455c(0xf1))continue;settings_types_list_1['default']['includes'](_0xf09662[_0x15455c(0xf5)])&&(_0xf09662[_0x15455c(0xf5)]=_0x15455c(0xfa)),_0xdbe827['push'](_0xf09662);}return _0xdbe827;}}exports[a145_0x297b36(0xe4)]=MDApiParserV2;