const a114_0x3da812=a114_0x1c04;(function(_0x4b660f,_0x4171e7){const _0x486368=a114_0x1c04,_0x5c54a4=_0x4b660f();while(!![]){try{const _0x58fcc4=parseInt(_0x486368(0xef))/0x1+parseInt(_0x486368(0x108))/0x2*(-parseInt(_0x486368(0x10a))/0x3)+-parseInt(_0x486368(0x10f))/0x4+-parseInt(_0x486368(0xf5))/0x5*(parseInt(_0x486368(0x103))/0x6)+-parseInt(_0x486368(0xe8))/0x7+-parseInt(_0x486368(0xe6))/0x8+parseInt(_0x486368(0xe0))/0x9;if(_0x58fcc4===_0x4171e7)break;else _0x5c54a4['push'](_0x5c54a4['shift']());}catch(_0x505feb){_0x5c54a4['push'](_0x5c54a4['shift']());}}}(a114_0x25b4,0xb1b96));const a114_0x54dff0=(function(){let _0x40903f=!![];return function(_0xcdcae9,_0x28d5cb){const _0x2ca816=_0x40903f?function(){const _0x4e0934=a114_0x1c04;if(_0x28d5cb){const _0x49e4b0=_0x28d5cb[_0x4e0934(0xfc)](_0xcdcae9,arguments);return _0x28d5cb=null,_0x49e4b0;}}:function(){};return _0x40903f=![],_0x2ca816;};}()),a114_0x4e6b48=a114_0x54dff0(this,function(){const _0x20179c=a114_0x1c04;return a114_0x4e6b48[_0x20179c(0xd8)]()[_0x20179c(0x109)]('(((.+)+)+)+$')[_0x20179c(0xd8)]()[_0x20179c(0x10c)](a114_0x4e6b48)[_0x20179c(0x109)](_0x20179c(0xdd));});function a114_0x1c04(_0xcb00f8,_0x417fea){const _0x2ca9cf=a114_0x25b4();return a114_0x1c04=function(_0x4e6b48,_0x54dff0){_0x4e6b48=_0x4e6b48-0xcf;let _0x25b45c=_0x2ca9cf[_0x4e6b48];return _0x25b45c;},a114_0x1c04(_0xcb00f8,_0x417fea);}a114_0x4e6b48();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x37209f){const _0x4d5e41=a114_0x1c04;return _0x37209f&&_0x37209f[_0x4d5e41(0xdb)]?_0x37209f:{'default':_0x37209f};};Object[a114_0x3da812(0xdc)](exports,a114_0x3da812(0xdb),{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require(a114_0x3da812(0x102)),utils_1=require('../utils'),path_1=require(a114_0x3da812(0xe7)),xml_1=require(a114_0x3da812(0xf0)),child_types_map_1=__importDefault(require(a114_0x3da812(0xe3))),constants_1=require(a114_0x3da812(0xec)),core_1=require(a114_0x3da812(0xd7)),crc32_1=require(a114_0x3da812(0x100)),folder_types_1=__importDefault(require(a114_0x3da812(0xe5))),CHILD_XML_KEYS=Object[a114_0x3da812(0xd4)](child_types_map_1['default']);function a114_0x25b4(){const _0x55e915=['package.xml','push','15HJOJcb','dir','relative','slice','catch','readDir','hasChildNodes','apply','utf-8','extractComponentTypeFromFiles','WaveTemplateBundle','../utils/crc32','Logger','../../internal/fs.internal','2644752qrOHkJ','extractFilenameFromPath','paths','error','foldBundledComponentsPaths','1008492IGktRA','search','3GJNkhs','parse','constructor','crc','CustomLabels','3583564ZZbdQP','filePath','Xml','getChildsByName','MDApiParserV2','BUNDLED_FOLDERS_REGEXP','extractFileNameFromFiles','waveTemplates','META_EXTENSION','readComponent','isParentComponent','logger','join','Cannot\x20parse\x20children\x20in\x20','values','test','META_EXPERIENCES_EXTENSION','../../../../core','toString','type','reduce','__esModule','defineProperty','(((.+)+)+)+$','name','endsWith','51830262LhClKB','readFile','calculateCRC32','../data/child-types-map','exists','../data/folder-types','11169616JMJFrQ','path','9865597ZQfnQn','split','startsWith','readBundledComponent','../../../../constants','files','default','497126QlgQvX','../utils/xml','experiences','.site-meta.xml'];a114_0x25b4=function(){return _0x55e915;};return a114_0x25b4();}class MDApiParserV2{constructor(_0x3b2fc4,_0x5240e8){const _0x1be304=a114_0x3da812;this['dir']=_0x3b2fc4,this['paths']=_0x5240e8,this[_0x1be304(0xd1)]=new core_1[(_0x1be304(0x101))](MDApiParserV2['name']),this[_0x1be304(0x117)]='-meta.xml',this[_0x1be304(0xd6)]=_0x1be304(0xf2);}async['readChildComponents'](_0x5d3ee1){const _0x100ac8=a114_0x3da812;try{const _0x534ab1=await xml_1['Xml']['parse'](Object[_0x100ac8(0xd4)](_0x5d3ee1[_0x100ac8(0xed)])[0x0][_0x100ac8(0xd8)](_0x100ac8(0xfd))),_0x5145c8=CHILD_XML_KEYS['filter'](_0x31496a=>xml_1[_0x100ac8(0x111)][_0x100ac8(0xfb)](_0x534ab1,_0x31496a))[_0x100ac8(0xda)]((_0x61a182,_0x184869)=>[..._0x61a182,...xml_1[_0x100ac8(0x111)][_0x100ac8(0x112)](_0x534ab1,_0x184869)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x5d3ee1,_0x534ab1,_0x5145c8);}catch(_0x479b6c){throw new Error(_0x100ac8(0xd3)+_0x5d3ee1[_0x100ac8(0xde)]+'\x20['+_0x5d3ee1[_0x100ac8(0xd9)]+']');}}async[a114_0x3da812(0xeb)](_0x42c5ab){const _0x3154e2=a114_0x3da812,_0x18647c=(0x0,path_1[_0x3154e2(0xd2)])(this['dir'],_0x42c5ab),_0x415711=_0x42c5ab+(_0x42c5ab['startsWith'](_0x3154e2(0xf1))?this[_0x3154e2(0xd6)]:this['META_EXTENSION']),_0x34c4ce=await fs_internal_1['FS'][_0x3154e2(0xfa)](_0x18647c,!![]),_0x164ed2=await fs_internal_1['FS'][_0x3154e2(0xe1)]((0x0,path_1[_0x3154e2(0xd2)])(this[_0x3154e2(0xf6)],_0x415711),!![])['catch'](()=>null),_0x39d327={};for(const _0x5ae6d3 of _0x34c4ce){_0x39d327[(0x0,path_1['relative'])(this[_0x3154e2(0xf6)],_0x5ae6d3)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x3154e2(0xe1)](_0x5ae6d3,!![]);}return _0x164ed2&&(_0x39d327[(0x0,path_1[_0x3154e2(0xf7)])(this[_0x3154e2(0xf6)],_0x415711)['replace'](/\\/g,'/')]=_0x164ed2),_0x39d327;}async[a114_0x3da812(0xcf)](_0x2b1776){const _0x11ee1e=a114_0x3da812,_0x4d3ee9=_0x2b1776+this[_0x11ee1e(0x117)];if(constants_1[_0x11ee1e(0x114)][_0x11ee1e(0xd5)](_0x2b1776))return this[_0x11ee1e(0xeb)](_0x2b1776);if(await fs_internal_1['FS'][_0x11ee1e(0xe4)]((0x0,path_1[_0x11ee1e(0xd2)])(this[_0x11ee1e(0xf6)],_0x4d3ee9))){const _0x314fb3=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x11ee1e(0xd2)])(this[_0x11ee1e(0xf6)],_0x4d3ee9),!![]),_0x38c819=await(0x0,utils_1[_0x11ee1e(0xfe)])({'files':{[_0x4d3ee9]:_0x314fb3}})[_0x11ee1e(0xf9)](()=>null);if(_0x38c819&&folder_types_1[_0x11ee1e(0xee)]['includes'](_0x38c819))return{[_0x4d3ee9]:_0x314fb3};return{[_0x4d3ee9]:_0x314fb3,[_0x2b1776]:await fs_internal_1['FS'][_0x11ee1e(0xe1)]((0x0,path_1[_0x11ee1e(0xd2)])(this[_0x11ee1e(0xf6)],_0x2b1776),!![])};}return{[_0x2b1776]:await fs_internal_1['FS'][_0x11ee1e(0xe1)]((0x0,path_1[_0x11ee1e(0xd2)])(this[_0x11ee1e(0xf6)],_0x2b1776),!![])};}['foldBundledComponentsPaths'](){const _0x5efa7b=a114_0x3da812;this['paths']=this[_0x5efa7b(0x105)]['map'](_0x26cebd=>constants_1[_0x5efa7b(0x114)]['test'](_0x26cebd)?_0x26cebd[_0x5efa7b(0xe9)]('/')[_0x5efa7b(0xf8)](0x0,0x2)['join']('/'):_0x26cebd),this[_0x5efa7b(0x105)]=[...new Set(this[_0x5efa7b(0x105)])];}async[a114_0x3da812(0x10b)](){const _0x17020e=a114_0x3da812,_0x28bd4a=[];this[_0x17020e(0x107)]();for(const _0x1be3c8 of this[_0x17020e(0x105)]){if(_0x1be3c8[_0x17020e(0xdf)](_0x17020e(0xf3)))continue;const _0x48b069={};try{_0x48b069[_0x17020e(0xed)]=await this[_0x17020e(0xcf)](_0x1be3c8),_0x48b069[_0x17020e(0x110)]=constants_1[_0x17020e(0x114)][_0x17020e(0xd5)](_0x1be3c8)?_0x1be3c8:(0x0,utils_1[_0x17020e(0x115)])({'files':_0x48b069[_0x17020e(0xed)]}),_0x1be3c8[_0x17020e(0xea)](_0x17020e(0x116))?_0x48b069[_0x17020e(0xd9)]=_0x17020e(0xff):_0x48b069[_0x17020e(0xd9)]=await(0x0,utils_1[_0x17020e(0xfe)])({'files':_0x48b069[_0x17020e(0xed)]});}catch(_0x178062){this[_0x17020e(0xd1)][_0x17020e(0x106)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x1be3c8,_0x178062);continue;}_0x48b069[_0x17020e(0xde)]=(0x0,utils_1[_0x17020e(0x104)])(_0x1be3c8),_0x48b069[_0x17020e(0x10d)]=(0x0,crc32_1[_0x17020e(0xe2)])(_0x48b069);if((0x0,utils_1[_0x17020e(0xd0)])(_0x48b069)){const _0x169730=await this['readChildComponents'](_0x48b069);_0x28bd4a[_0x17020e(0xf4)](..._0x169730);}if(_0x48b069[_0x17020e(0xd9)]===_0x17020e(0x10e))continue;_0x28bd4a[_0x17020e(0xf4)](_0x48b069);}return _0x28bd4a;}}exports[a114_0x3da812(0x113)]=MDApiParserV2;