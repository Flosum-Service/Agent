const a146_0x31f908=a146_0x5911;function a146_0x23ce(){const _0x2fb5cd=['catch','push','../data/folder-types','7869762QpsEIE','experiences','values','1398486WJGGyc','search','logger','49651oOtdtt','902482pQzVdp','META_EXPERIENCES_EXTENSION','Cannot\x20parse\x20children\x20in\x20','calculateCRC32','readDir','readChildComponents','../../../../core','dir','extractFilenameFromPath','1857wyjOAD','META_EXTENSION','Logger','readFile','extractComponentTypeFromFiles','parse','reduce','isParentComponent','__esModule','../data/child-types-map','startsWith','waveTemplates','(((.+)+)+)+$','filePath','WaveTemplateBundle','../utils/xml-v2','type','.site-meta.xml','hasChildNodes','../utils','foldBundledComponentsPaths','XmlV2','constructor','BUNDLED_FOLDERS_REGEXP','createChildComponentsFromParent','5pvHKht','readComponent','../utils/crc32','382QFQlYY','includes','readBundledComponent','toString','paths','MDApiParserV2','extractFileNameFromFiles','__importDefault','default','../../../../constants','4445748FxPKqm','getChildsByName','test','join','slice','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','endsWith','3462920pGXGJr','72uyndhb','CustomLabels','-meta.xml','files','replace','error','map','../data/settings-types-list','name'];a146_0x23ce=function(){return _0x2fb5cd;};return a146_0x23ce();}(function(_0xa3e139,_0x26acb3){const _0x5c8a95=a146_0x5911,_0x4b4ae4=_0xa3e139();while(!![]){try{const _0x335ff1=-parseInt(_0x5c8a95(0x13e))/0x1+-parseInt(_0x5c8a95(0x163))/0x2*(parseInt(_0x5c8a95(0x147))/0x3)+parseInt(_0x5c8a95(0x123))/0x4+-parseInt(_0x5c8a95(0x160))/0x5*(-parseInt(_0x5c8a95(0x13a))/0x6)+-parseInt(_0x5c8a95(0x13d))/0x7*(parseInt(_0x5c8a95(0x12b))/0x8)+parseInt(_0x5c8a95(0x137))/0x9+-parseInt(_0x5c8a95(0x12a))/0xa;if(_0x335ff1===_0x26acb3)break;else _0x4b4ae4['push'](_0x4b4ae4['shift']());}catch(_0x448ba5){_0x4b4ae4['push'](_0x4b4ae4['shift']());}}}(a146_0x23ce,0xc0680));function a146_0x5911(_0x4770fc,_0x1e499c){const _0x46272f=a146_0x23ce();return a146_0x5911=function(_0x225933,_0x50ddfb){_0x225933=_0x225933-0x121;let _0x23ce70=_0x46272f[_0x225933];return _0x23ce70;},a146_0x5911(_0x4770fc,_0x1e499c);}const a146_0x50ddfb=(function(){let _0x34fb22=!![];return function(_0x6d1943,_0x4e7fee){const _0x1d9530=_0x34fb22?function(){if(_0x4e7fee){const _0x57054b=_0x4e7fee['apply'](_0x6d1943,arguments);return _0x4e7fee=null,_0x57054b;}}:function(){};return _0x34fb22=![],_0x1d9530;};}()),a146_0x225933=a146_0x50ddfb(this,function(){const _0x5238c0=a146_0x5911;return a146_0x225933[_0x5238c0(0x166)]()['search'](_0x5238c0(0x153))[_0x5238c0(0x166)]()[_0x5238c0(0x15d)](a146_0x225933)[_0x5238c0(0x13b)](_0x5238c0(0x153));});a146_0x225933();'use strict';var __importDefault=this&&this[a146_0x31f908(0x16a)]||function(_0x3b1e0b){const _0x7f0992=a146_0x31f908;return _0x3b1e0b&&_0x3b1e0b[_0x7f0992(0x14f)]?_0x3b1e0b:{'default':_0x3b1e0b};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a146_0x31f908(0x168)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a146_0x31f908(0x15a)),path_1=require('path'),xml_v2_1=require(a146_0x31f908(0x156)),child_types_map_1=__importDefault(require(a146_0x31f908(0x150))),constants_1=require(a146_0x31f908(0x122)),core_1=require(a146_0x31f908(0x144)),crc32_1=require(a146_0x31f908(0x162)),folder_types_1=__importDefault(require(a146_0x31f908(0x136))),settings_types_list_1=__importDefault(require(a146_0x31f908(0x132))),CHILD_XML_KEYS=Object[a146_0x31f908(0x139)](child_types_map_1[a146_0x31f908(0x121)]);class MDApiParserV2{constructor(_0x613c97,_0x1393ad){const _0x35a04e=a146_0x31f908;this[_0x35a04e(0x145)]=_0x613c97,this[_0x35a04e(0x167)]=_0x1393ad,this[_0x35a04e(0x13c)]=new core_1[(_0x35a04e(0x149))](MDApiParserV2[_0x35a04e(0x133)]),this[_0x35a04e(0x148)]=_0x35a04e(0x12d),this[_0x35a04e(0x13f)]=_0x35a04e(0x158);}async[a146_0x31f908(0x143)](_0x357aca){const _0x4bdff0=a146_0x31f908;try{const _0x26afc5=await xml_v2_1['XmlV2'][_0x4bdff0(0x14c)](Object[_0x4bdff0(0x139)](_0x357aca[_0x4bdff0(0x12e)])[0x0][_0x4bdff0(0x166)]('utf-8')),_0x2f26c7=CHILD_XML_KEYS['filter'](_0x31f315=>xml_v2_1['XmlV2'][_0x4bdff0(0x159)](_0x26afc5,_0x31f315))[_0x4bdff0(0x14d)]((_0x5fa121,_0x4e0b9b)=>[..._0x5fa121,...xml_v2_1[_0x4bdff0(0x15c)][_0x4bdff0(0x124)](_0x26afc5,_0x4e0b9b)],[]);return(0x0,utils_1[_0x4bdff0(0x15f)])(_0x357aca,_0x26afc5,_0x2f26c7);}catch(_0x570742){throw new Error(_0x4bdff0(0x140)+_0x357aca[_0x4bdff0(0x133)]+'\x20['+_0x357aca[_0x4bdff0(0x157)]+']');}}async['readBundledComponent'](_0x438998){const _0x120dff=a146_0x31f908,_0x26b4da=(0x0,path_1[_0x120dff(0x126)])(this['dir'],_0x438998),_0x62f601=_0x438998+(_0x438998[_0x120dff(0x151)](_0x120dff(0x138))?this[_0x120dff(0x13f)]:this[_0x120dff(0x148)]),_0x3ccc04=await fs_internal_1['FS'][_0x120dff(0x142)](_0x26b4da,!![]),_0x221dec=await fs_internal_1['FS'][_0x120dff(0x14a)]((0x0,path_1[_0x120dff(0x126)])(this[_0x120dff(0x145)],_0x62f601),!![])[_0x120dff(0x134)](()=>null),_0x31e8d8={};for(const _0x33d967 of _0x3ccc04){_0x31e8d8[(0x0,path_1['relative'])(this[_0x120dff(0x145)],_0x33d967)[_0x120dff(0x12f)](/\\/g,'/')]=await fs_internal_1['FS'][_0x120dff(0x14a)](_0x33d967,!![]);}return _0x221dec&&(_0x31e8d8[(0x0,path_1['relative'])(this[_0x120dff(0x145)],_0x62f601)[_0x120dff(0x12f)](/\\/g,'/')]=_0x221dec),_0x31e8d8;}async[a146_0x31f908(0x161)](_0xc39b6a){const _0x4b134b=a146_0x31f908,_0x9baca5=_0xc39b6a+this[_0x4b134b(0x148)];if(constants_1[_0x4b134b(0x15e)][_0x4b134b(0x125)](_0xc39b6a))return this[_0x4b134b(0x165)](_0xc39b6a);if(await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x4b134b(0x145)],_0x9baca5))){const _0x2d044a=await fs_internal_1['FS'][_0x4b134b(0x14a)]((0x0,path_1[_0x4b134b(0x126)])(this[_0x4b134b(0x145)],_0x9baca5),!![]),_0x349100=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x9baca5]:_0x2d044a}})[_0x4b134b(0x134)](()=>null);if(_0x349100&&folder_types_1[_0x4b134b(0x121)]['includes'](_0x349100))return{[_0x9baca5]:_0x2d044a};return{[_0x9baca5]:_0x2d044a,[_0xc39b6a]:await fs_internal_1['FS'][_0x4b134b(0x14a)]((0x0,path_1[_0x4b134b(0x126)])(this[_0x4b134b(0x145)],_0xc39b6a),!![])};}return{[_0xc39b6a]:await fs_internal_1['FS'][_0x4b134b(0x14a)]((0x0,path_1[_0x4b134b(0x126)])(this[_0x4b134b(0x145)],_0xc39b6a),!![])};}[a146_0x31f908(0x15b)](){const _0x30a25a=a146_0x31f908;this[_0x30a25a(0x167)]=this[_0x30a25a(0x167)][_0x30a25a(0x131)](_0x50852c=>constants_1[_0x30a25a(0x15e)][_0x30a25a(0x125)](_0x50852c)?_0x50852c['split']('/')[_0x30a25a(0x127)](0x0,0x2)['join']('/'):_0x50852c),this[_0x30a25a(0x167)]=[...new Set(this['paths'])];}async[a146_0x31f908(0x14c)](){const _0x3a150b=a146_0x31f908,_0x1f0623=[];this[_0x3a150b(0x15b)]();for(const _0x4fc8af of this['paths']){if(_0x4fc8af[_0x3a150b(0x129)]('package.xml'))continue;const _0x46ccb1={};try{_0x46ccb1['files']=await this[_0x3a150b(0x161)](_0x4fc8af),_0x46ccb1[_0x3a150b(0x154)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3a150b(0x125)](_0x4fc8af)?_0x4fc8af:(0x0,utils_1[_0x3a150b(0x169)])({'files':_0x46ccb1[_0x3a150b(0x12e)]}),_0x4fc8af[_0x3a150b(0x151)](_0x3a150b(0x152))?_0x46ccb1[_0x3a150b(0x157)]=_0x3a150b(0x155):_0x46ccb1['type']=await(0x0,utils_1[_0x3a150b(0x14b)])({'files':_0x46ccb1[_0x3a150b(0x12e)]});}catch(_0x5972a2){this['logger'][_0x3a150b(0x130)](_0x3a150b(0x128),_0x4fc8af,_0x5972a2);continue;}_0x46ccb1[_0x3a150b(0x133)]=(0x0,utils_1[_0x3a150b(0x146)])(_0x4fc8af),_0x46ccb1['crc']=(0x0,crc32_1[_0x3a150b(0x141)])(_0x46ccb1);if((0x0,utils_1[_0x3a150b(0x14e)])(_0x46ccb1)){const _0x1f1f87=await this[_0x3a150b(0x143)](_0x46ccb1);_0x1f0623[_0x3a150b(0x135)](..._0x1f1f87);}if(_0x46ccb1[_0x3a150b(0x157)]===_0x3a150b(0x12c))continue;settings_types_list_1[_0x3a150b(0x121)][_0x3a150b(0x164)](_0x46ccb1['type'])&&(_0x46ccb1[_0x3a150b(0x157)]='Settings'),_0x1f0623[_0x3a150b(0x135)](_0x46ccb1);}return _0x1f0623;}}exports[a146_0x31f908(0x168)]=MDApiParserV2;