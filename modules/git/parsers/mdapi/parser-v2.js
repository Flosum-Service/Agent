const a101_0x105d78=a101_0x2fd8;(function(_0x4bece6,_0x5016bc){const _0x39b72a=a101_0x2fd8,_0x4d0f68=_0x4bece6();while(!![]){try{const _0x178e4e=parseInt(_0x39b72a(0xee))/0x1+-parseInt(_0x39b72a(0x11a))/0x2*(-parseInt(_0x39b72a(0xfb))/0x3)+parseInt(_0x39b72a(0xdc))/0x4+parseInt(_0x39b72a(0xd6))/0x5*(parseInt(_0x39b72a(0xe3))/0x6)+parseInt(_0x39b72a(0xfa))/0x7+parseInt(_0x39b72a(0xec))/0x8*(-parseInt(_0x39b72a(0x103))/0x9)+-parseInt(_0x39b72a(0x10d))/0xa;if(_0x178e4e===_0x5016bc)break;else _0x4d0f68['push'](_0x4d0f68['shift']());}catch(_0x6d1094){_0x4d0f68['push'](_0x4d0f68['shift']());}}}(a101_0x4d1c,0x9a1a7));const a101_0x52cba1=(function(){let _0x171ff5=!![];return function(_0x357404,_0x240736){const _0xdd5e30=_0x171ff5?function(){const _0x3fbf25=a101_0x2fd8;if(_0x240736){const _0x39c467=_0x240736[_0x3fbf25(0xed)](_0x357404,arguments);return _0x240736=null,_0x39c467;}}:function(){};return _0x171ff5=![],_0xdd5e30;};}()),a101_0xead58a=a101_0x52cba1(this,function(){const _0x560472=a101_0x2fd8;return a101_0xead58a['toString']()[_0x560472(0xd5)](_0x560472(0xf4))[_0x560472(0xe7)]()[_0x560472(0x108)](a101_0xead58a)['search'](_0x560472(0xf4));});function a101_0x2fd8(_0x27d8ef,_0x405ec1){const _0x33e862=a101_0x4d1c();return a101_0x2fd8=function(_0xead58a,_0x52cba1){_0xead58a=_0xead58a-0xd4;let _0x4d1c7f=_0x33e862[_0xead58a];return _0x4d1c7f;},a101_0x2fd8(_0x27d8ef,_0x405ec1);}a101_0xead58a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1fbbb5){const _0x43dab4=a101_0x2fd8;return _0x1fbbb5&&_0x1fbbb5[_0x43dab4(0x10e)]?_0x1fbbb5:{'default':_0x1fbbb5};};Object[a101_0x105d78(0x115)](exports,a101_0x105d78(0x10e),{'value':!![]}),exports[a101_0x105d78(0x102)]=void 0x0;function a101_0x4d1c(){const _0x4fbffc=['waveTemplates','readComponent','2272232KvKOuk','apply','60014DAFMSL','files','calculateCRC32','path','logger','foldBundledComponentsPaths','(((.+)+)+)+$','readDir','filter','../utils/crc32','test','parse','2049439kNZntD','441olZbrT','extractFileNameFromFiles','../../../../constants','readFile','hasChildNodes','reduce','extractFilenameFromPath','MDApiParserV2','27CeoriU','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','relative','replace','../utils/xml','constructor','map','join','getChildsByName','catch','5443520UxqEKX','__esModule','BUNDLED_FOLDERS_REGEXP','Cannot\x20parse\x20children\x20in\x20','name','../data/folder-types','default','slice','defineProperty','type','META_EXPERIENCES_EXTENSION','push','startsWith','11626wYTOxx','.site-meta.xml','isParentComponent','experiences','search','10ubQVIa','dir','utf-8','-meta.xml','WaveTemplateBundle','endsWith','1298984jDISkW','createChildComponentsFromParent','exists','paths','META_EXTENSION','includes','Xml','1486794fTGUxz','CustomLabels','filePath','Logger','toString','values','error'];a101_0x4d1c=function(){return _0x4fbffc;};return a101_0x4d1c();}const fs_internal_1=require('../../internal/fs.internal'),utils_1=require('../utils'),path_1=require(a101_0x105d78(0xf1)),xml_1=require(a101_0x105d78(0x107)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a101_0x105d78(0xfd)),core_1=require('../../../../core'),crc32_1=require(a101_0x105d78(0xf7)),folder_types_1=__importDefault(require(a101_0x105d78(0x112))),CHILD_XML_KEYS=Object[a101_0x105d78(0xe8)](child_types_map_1['default']);class MDApiParserV2{constructor(_0x5bc05e,_0x4b9236){const _0x34ac2b=a101_0x105d78;this[_0x34ac2b(0xd7)]=_0x5bc05e,this[_0x34ac2b(0xdf)]=_0x4b9236,this[_0x34ac2b(0xf2)]=new core_1[(_0x34ac2b(0xe6))](MDApiParserV2['name']),this[_0x34ac2b(0xe0)]=_0x34ac2b(0xd9),this[_0x34ac2b(0x117)]=_0x34ac2b(0x11b);}async['readChildComponents'](_0x19c617){const _0x4f7a94=a101_0x105d78;try{const _0x32c186=await xml_1[_0x4f7a94(0xe2)]['parse'](Object[_0x4f7a94(0xe8)](_0x19c617[_0x4f7a94(0xef)])[0x0][_0x4f7a94(0xe7)](_0x4f7a94(0xd8))),_0x47df42=CHILD_XML_KEYS[_0x4f7a94(0xf6)](_0x4e1f08=>xml_1[_0x4f7a94(0xe2)][_0x4f7a94(0xff)](_0x32c186,_0x4e1f08))[_0x4f7a94(0x100)]((_0x92d083,_0x568d00)=>[..._0x92d083,...xml_1['Xml'][_0x4f7a94(0x10b)](_0x32c186,_0x568d00)],[]);return utils_1[_0x4f7a94(0xdd)](_0x19c617,_0x32c186,_0x47df42);}catch(_0x110fcc){throw new Error(_0x4f7a94(0x110)+_0x19c617['name']+'\x20['+_0x19c617['type']+']');}}async['readBundledComponent'](_0x3bfb03){const _0x5306ec=a101_0x105d78,_0x1a072d=path_1[_0x5306ec(0x10a)](this[_0x5306ec(0xd7)],_0x3bfb03),_0x5c3837=_0x3bfb03+(_0x3bfb03[_0x5306ec(0x119)](_0x5306ec(0xd4))?this[_0x5306ec(0x117)]:this[_0x5306ec(0xe0)]),_0x9f7d59=await fs_internal_1['FS'][_0x5306ec(0xf5)](_0x1a072d,!![]),_0x12a809=await fs_internal_1['FS']['readFile'](path_1[_0x5306ec(0x10a)](this[_0x5306ec(0xd7)],_0x5c3837),!![])[_0x5306ec(0x10c)](()=>null),_0x460e31={};for(const _0x24101d of _0x9f7d59){_0x460e31[path_1[_0x5306ec(0x105)](this[_0x5306ec(0xd7)],_0x24101d)[_0x5306ec(0x106)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x24101d,!![]);}return _0x12a809&&(_0x460e31[path_1[_0x5306ec(0x105)](this[_0x5306ec(0xd7)],_0x5c3837)['replace'](/\\/g,'/')]=_0x12a809),_0x460e31;}async[a101_0x105d78(0xeb)](_0x30255d){const _0x3aa601=a101_0x105d78,_0x54ee22=_0x30255d+this[_0x3aa601(0xe0)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3aa601(0xf8)](_0x30255d))return this['readBundledComponent'](_0x30255d);if(await fs_internal_1['FS'][_0x3aa601(0xde)](path_1[_0x3aa601(0x10a)](this['dir'],_0x54ee22))){const _0x20183b=await fs_internal_1['FS'][_0x3aa601(0xfe)](path_1[_0x3aa601(0x10a)](this[_0x3aa601(0xd7)],_0x54ee22),!![]),_0x328954=await utils_1['extractComponentTypeFromFiles']({'files':{[_0x54ee22]:_0x20183b}})[_0x3aa601(0x10c)](()=>null);if(_0x328954&&folder_types_1[_0x3aa601(0x113)][_0x3aa601(0xe1)](_0x328954))return{[_0x54ee22]:_0x20183b};return{[_0x54ee22]:_0x20183b,[_0x30255d]:await fs_internal_1['FS']['readFile'](path_1[_0x3aa601(0x10a)](this[_0x3aa601(0xd7)],_0x30255d),!![])};}return{[_0x30255d]:await fs_internal_1['FS'][_0x3aa601(0xfe)](path_1[_0x3aa601(0x10a)](this['dir'],_0x30255d),!![])};}[a101_0x105d78(0xf3)](){const _0x95f7=a101_0x105d78;this[_0x95f7(0xdf)]=this[_0x95f7(0xdf)][_0x95f7(0x109)](_0x18672e=>constants_1[_0x95f7(0x10f)][_0x95f7(0xf8)](_0x18672e)?_0x18672e['split']('/')[_0x95f7(0x114)](0x0,0x2)['join']('/'):_0x18672e),this[_0x95f7(0xdf)]=[...new Set(this['paths'])];}async[a101_0x105d78(0xf9)](){const _0x4f3f8f=a101_0x105d78,_0x50e760=[];this[_0x4f3f8f(0xf3)]();for(const _0x3e6c1f of this[_0x4f3f8f(0xdf)]){if(_0x3e6c1f[_0x4f3f8f(0xdb)]('package.xml'))continue;const _0x51ef8a={};try{_0x51ef8a[_0x4f3f8f(0xef)]=await this['readComponent'](_0x3e6c1f),_0x51ef8a[_0x4f3f8f(0xe5)]=constants_1[_0x4f3f8f(0x10f)][_0x4f3f8f(0xf8)](_0x3e6c1f)?_0x3e6c1f:utils_1[_0x4f3f8f(0xfc)]({'files':_0x51ef8a[_0x4f3f8f(0xef)]}),_0x3e6c1f[_0x4f3f8f(0x119)](_0x4f3f8f(0xea))?_0x51ef8a[_0x4f3f8f(0x116)]=_0x4f3f8f(0xda):_0x51ef8a[_0x4f3f8f(0x116)]=await utils_1['extractComponentTypeFromFiles']({'files':_0x51ef8a[_0x4f3f8f(0xef)]});}catch(_0x43c94c){this[_0x4f3f8f(0xf2)][_0x4f3f8f(0xe9)](_0x4f3f8f(0x104),_0x3e6c1f,_0x43c94c);continue;}_0x51ef8a[_0x4f3f8f(0x111)]=utils_1[_0x4f3f8f(0x101)](_0x3e6c1f),_0x51ef8a['crc']=crc32_1[_0x4f3f8f(0xf0)](_0x51ef8a);if(utils_1[_0x4f3f8f(0x11c)](_0x51ef8a)){const _0x12a640=await this['readChildComponents'](_0x51ef8a);_0x50e760['push'](..._0x12a640);}if(_0x51ef8a[_0x4f3f8f(0x116)]===_0x4f3f8f(0xe4))continue;_0x50e760[_0x4f3f8f(0x118)](_0x51ef8a);}return _0x50e760;}}exports[a101_0x105d78(0x102)]=MDApiParserV2;