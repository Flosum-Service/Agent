const a146_0x2d5c6c=a146_0x2ba3;(function(_0x5cec20,_0x40028e){const _0xb55eed=a146_0x2ba3,_0x1257d5=_0x5cec20();while(!![]){try{const _0x350922=-parseInt(_0xb55eed(0x214))/0x1*(-parseInt(_0xb55eed(0x20b))/0x2)+parseInt(_0xb55eed(0x202))/0x3+parseInt(_0xb55eed(0x1d0))/0x4+parseInt(_0xb55eed(0x1d3))/0x5+parseInt(_0xb55eed(0x1cf))/0x6+parseInt(_0xb55eed(0x1d7))/0x7+parseInt(_0xb55eed(0x1d2))/0x8*(-parseInt(_0xb55eed(0x1d1))/0x9);if(_0x350922===_0x40028e)break;else _0x1257d5['push'](_0x1257d5['shift']());}catch(_0x5dc180){_0x1257d5['push'](_0x1257d5['shift']());}}}(a146_0x6ea8,0x48483));const a146_0x288fb7=(function(){let _0x191af0=!![];return function(_0x2ea57f,_0x191e43){const _0x261d6e=_0x191af0?function(){const _0x31129b=a146_0x2ba3;if(_0x191e43){const _0x16924d=_0x191e43[_0x31129b(0x1f0)](_0x2ea57f,arguments);return _0x191e43=null,_0x16924d;}}:function(){};return _0x191af0=![],_0x261d6e;};}()),a146_0x23cf21=a146_0x288fb7(this,function(){const _0xb099fd=a146_0x2ba3;return a146_0x23cf21['toString']()['search'](_0xb099fd(0x206))[_0xb099fd(0x216)]()['constructor'](a146_0x23cf21)[_0xb099fd(0x1dc)](_0xb099fd(0x206));});a146_0x23cf21();'use strict';function a146_0x6ea8(){const _0x3ec336=['Logger','META_EXPERIENCES_EXTENSION','MDApiParserV2','join','name','experiences','logger','readBundledComponent','Settings','test','-meta.xml','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXTENSION','CustomLabels','error','../data/folder-types','919155OBTStc','replace','waveTemplates','__esModule','(((.+)+)+)+$','crc','createChildComponentsFromParent','foldBundledComponentsPaths','exists','732254ewBFgX','BUNDLED_FOLDERS_REGEXP','readComponent','../data/settings-types-list','package.xml','dir','filePath','reduce','parse','1ogZxdw','paths','toString','extractFilenameFromPath','1072704jaJEDp','1903092tfMcLB','2304nyQIsg','57144xrRJvu','1860315UMGAzu','files','calculateCRC32','values','2978801SHEVCZ','__importDefault','../../../../constants','split','../../../../core','search','type','utf-8','readChildComponents','includes','relative','catch','default','startsWith','../utils','WaveTemplateBundle','isParentComponent','push','.site-meta.xml','readDir','readFile','extractFileNameFromFiles','slice','../data/child-types-map','XmlV2','apply','Cannot\x20parse\x20children\x20in\x20'];a146_0x6ea8=function(){return _0x3ec336;};return a146_0x6ea8();}var __importDefault=this&&this[a146_0x2d5c6c(0x1d8)]||function(_0xf94f59){return _0xf94f59&&_0xf94f59['__esModule']?_0xf94f59:{'default':_0xf94f59};};function a146_0x2ba3(_0x5432a8,_0x37051){const _0x13114a=a146_0x6ea8();return a146_0x2ba3=function(_0x23cf21,_0x288fb7){_0x23cf21=_0x23cf21-0x1cf;let _0x6ea86a=_0x13114a[_0x23cf21];return _0x6ea86a;},a146_0x2ba3(_0x5432a8,_0x37051);}Object['defineProperty'](exports,a146_0x2d5c6c(0x205),{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a146_0x2d5c6c(0x1e5)),path_1=require('path'),xml_v2_1=require('../utils/xml-v2'),child_types_map_1=__importDefault(require(a146_0x2d5c6c(0x1ee))),constants_1=require(a146_0x2d5c6c(0x1d9)),core_1=require(a146_0x2d5c6c(0x1db)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a146_0x2d5c6c(0x201))),settings_types_list_1=__importDefault(require(a146_0x2d5c6c(0x20e))),CHILD_XML_KEYS=Object[a146_0x2d5c6c(0x1d6)](child_types_map_1['default']);class MDApiParserV2{constructor(_0x278768,_0x1ab480){const _0x27dc33=a146_0x2d5c6c;this[_0x27dc33(0x210)]=_0x278768,this[_0x27dc33(0x215)]=_0x1ab480,this['logger']=new core_1[(_0x27dc33(0x1f2))](MDApiParserV2[_0x27dc33(0x1f6)]),this[_0x27dc33(0x1fe)]=_0x27dc33(0x1fc),this['META_EXPERIENCES_EXTENSION']=_0x27dc33(0x1e9);}async[a146_0x2d5c6c(0x1df)](_0xbdd64d){const _0x24072c=a146_0x2d5c6c;try{const _0x438396=await xml_v2_1[_0x24072c(0x1ef)][_0x24072c(0x213)](Object[_0x24072c(0x1d6)](_0xbdd64d[_0x24072c(0x1d4)])[0x0][_0x24072c(0x216)](_0x24072c(0x1de))),_0x3bf729=CHILD_XML_KEYS['filter'](_0x36c07d=>xml_v2_1['XmlV2']['hasChildNodes'](_0x438396,_0x36c07d))[_0x24072c(0x212)]((_0x137984,_0x319fa5)=>[..._0x137984,...xml_v2_1['XmlV2']['getChildsByName'](_0x438396,_0x319fa5)],[]);return(0x0,utils_1[_0x24072c(0x208)])(_0xbdd64d,_0x438396,_0x3bf729);}catch(_0x28a1df){throw new Error(_0x24072c(0x1f1)+_0xbdd64d[_0x24072c(0x1f6)]+'\x20['+_0xbdd64d[_0x24072c(0x1dd)]+']');}}async[a146_0x2d5c6c(0x1f9)](_0x12ac80){const _0x23fb3a=a146_0x2d5c6c,_0x3ac0d1=(0x0,path_1['join'])(this[_0x23fb3a(0x210)],_0x12ac80),_0x2af3a1=_0x12ac80+(_0x12ac80[_0x23fb3a(0x1e4)](_0x23fb3a(0x1f7))?this[_0x23fb3a(0x1f3)]:this[_0x23fb3a(0x1fe)]),_0x48e0ed=await fs_internal_1['FS'][_0x23fb3a(0x1ea)](_0x3ac0d1,!![]),_0xb3aac5=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x23fb3a(0x1f5)])(this[_0x23fb3a(0x210)],_0x2af3a1),!![])[_0x23fb3a(0x1e2)](()=>null),_0x5e887b={};for(const _0x152cfe of _0x48e0ed){_0x5e887b[(0x0,path_1[_0x23fb3a(0x1e1)])(this[_0x23fb3a(0x210)],_0x152cfe)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x23fb3a(0x1eb)](_0x152cfe,!![]);}return _0xb3aac5&&(_0x5e887b[(0x0,path_1[_0x23fb3a(0x1e1)])(this[_0x23fb3a(0x210)],_0x2af3a1)[_0x23fb3a(0x203)](/\\/g,'/')]=_0xb3aac5),_0x5e887b;}async[a146_0x2d5c6c(0x20d)](_0x5a0a50){const _0x13ae03=a146_0x2d5c6c,_0x52ffb1=_0x5a0a50+this[_0x13ae03(0x1fe)];if(constants_1[_0x13ae03(0x20c)][_0x13ae03(0x1fb)](_0x5a0a50))return this[_0x13ae03(0x1f9)](_0x5a0a50);if(await fs_internal_1['FS'][_0x13ae03(0x20a)]((0x0,path_1[_0x13ae03(0x1f5)])(this[_0x13ae03(0x210)],_0x52ffb1))){const _0x34953b=await fs_internal_1['FS'][_0x13ae03(0x1eb)]((0x0,path_1['join'])(this['dir'],_0x52ffb1),!![]),_0xb4ac23=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x52ffb1]:_0x34953b}})[_0x13ae03(0x1e2)](()=>null);if(_0xb4ac23&&folder_types_1[_0x13ae03(0x1e3)]['includes'](_0xb4ac23))return{[_0x52ffb1]:_0x34953b};return{[_0x52ffb1]:_0x34953b,[_0x5a0a50]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x13ae03(0x210)],_0x5a0a50),!![])};}return{[_0x5a0a50]:await fs_internal_1['FS'][_0x13ae03(0x1eb)]((0x0,path_1['join'])(this[_0x13ae03(0x210)],_0x5a0a50),!![])};}[a146_0x2d5c6c(0x209)](){const _0x32e2a5=a146_0x2d5c6c;this[_0x32e2a5(0x215)]=this['paths']['map'](_0x4cd40b=>constants_1[_0x32e2a5(0x20c)][_0x32e2a5(0x1fb)](_0x4cd40b)?_0x4cd40b[_0x32e2a5(0x1da)]('/')[_0x32e2a5(0x1ed)](0x0,0x2)['join']('/'):_0x4cd40b),this['paths']=[...new Set(this['paths'])];}async[a146_0x2d5c6c(0x213)](){const _0x4db007=a146_0x2d5c6c,_0x1bfa20=[];this[_0x4db007(0x209)]();for(const _0x1daadf of this[_0x4db007(0x215)]){if(_0x1daadf['endsWith'](_0x4db007(0x20f)))continue;const _0xc51a41={};try{_0xc51a41[_0x4db007(0x1d4)]=await this['readComponent'](_0x1daadf),_0xc51a41[_0x4db007(0x211)]=constants_1[_0x4db007(0x20c)]['test'](_0x1daadf)?_0x1daadf:(0x0,utils_1[_0x4db007(0x1ec)])({'files':_0xc51a41['files']}),_0x1daadf[_0x4db007(0x1e4)](_0x4db007(0x204))?_0xc51a41['type']=_0x4db007(0x1e6):_0xc51a41[_0x4db007(0x1dd)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0xc51a41['files']});}catch(_0x302495){this[_0x4db007(0x1f8)][_0x4db007(0x200)](_0x4db007(0x1fd),_0x1daadf,_0x302495);continue;}_0xc51a41[_0x4db007(0x1f6)]=(0x0,utils_1[_0x4db007(0x217)])(_0x1daadf),_0xc51a41[_0x4db007(0x207)]=(0x0,crc32_1[_0x4db007(0x1d5)])(_0xc51a41);if((0x0,utils_1[_0x4db007(0x1e7)])(_0xc51a41)){const _0x51f4c3=await this['readChildComponents'](_0xc51a41);_0x1bfa20['push'](..._0x51f4c3);}if(_0xc51a41[_0x4db007(0x1dd)]===_0x4db007(0x1ff))continue;settings_types_list_1[_0x4db007(0x1e3)][_0x4db007(0x1e0)](_0xc51a41['type'])&&(_0xc51a41[_0x4db007(0x1dd)]=_0x4db007(0x1fa)),_0x1bfa20[_0x4db007(0x1e8)](_0xc51a41);}return _0x1bfa20;}}exports[a146_0x2d5c6c(0x1f4)]=MDApiParserV2;