const a145_0x5c6421=a145_0x2160;(function(_0x5e4ae5,_0x104108){const _0x18603a=a145_0x2160,_0x27b40b=_0x5e4ae5();while(!![]){try{const _0x45281e=parseInt(_0x18603a(0x175))/0x1+parseInt(_0x18603a(0x163))/0x2*(-parseInt(_0x18603a(0x169))/0x3)+-parseInt(_0x18603a(0x146))/0x4+parseInt(_0x18603a(0x156))/0x5*(parseInt(_0x18603a(0x12d))/0x6)+-parseInt(_0x18603a(0x15a))/0x7*(parseInt(_0x18603a(0x154))/0x8)+parseInt(_0x18603a(0x16b))/0x9*(parseInt(_0x18603a(0x135))/0xa)+-parseInt(_0x18603a(0x150))/0xb*(-parseInt(_0x18603a(0x149))/0xc);if(_0x45281e===_0x104108)break;else _0x27b40b['push'](_0x27b40b['shift']());}catch(_0x571630){_0x27b40b['push'](_0x27b40b['shift']());}}}(a145_0x52b9,0x5e2c4));const a145_0x41d5cd=(function(){let _0x17b223=!![];return function(_0x5a61bf,_0x11d856){const _0x22b411=_0x17b223?function(){if(_0x11d856){const _0x5445a4=_0x11d856['apply'](_0x5a61bf,arguments);return _0x11d856=null,_0x5445a4;}}:function(){};return _0x17b223=![],_0x22b411;};}()),a145_0x2cdbc9=a145_0x41d5cd(this,function(){const _0x27e3ba=a145_0x2160;return a145_0x2cdbc9['toString']()[_0x27e3ba(0x133)](_0x27e3ba(0x16c))['toString']()[_0x27e3ba(0x15f)](a145_0x2cdbc9)[_0x27e3ba(0x133)]('(((.+)+)+)+$');});a145_0x2cdbc9();'use strict';function a145_0x2160(_0x1acea2,_0x2bacb5){const _0x5a568f=a145_0x52b9();return a145_0x2160=function(_0x2cdbc9,_0x41d5cd){_0x2cdbc9=_0x2cdbc9-0x12d;let _0x52b99b=_0x5a568f[_0x2cdbc9];return _0x52b99b;},a145_0x2160(_0x1acea2,_0x2bacb5);}function a145_0x52b9(){const _0xe128ee=['includes','values','24wzFqDY','filter','extractComponentTypeFromFiles','startsWith','../data/folder-types','files','readComponent','2732059vQmtMX','Logger','Cannot\x20parse\x20children\x20in\x20','../data/settings-types-list','2269392ArzTxE','slice','5AoNHHE','-meta.xml','default','readDir','14JKHNag','replace','.site-meta.xml','relative','calculateCRC32','constructor','filePath','test','crc','2IqSIFy','experiences','hasChildNodes','foldBundledComponentsPaths','../data/child-types-map','push','1311390IpcIuU','../../internal/fs.internal','202347Aexjem','(((.+)+)+)+$','../../../../constants','readFile','__importDefault','Settings','readBundledComponent','isParentComponent','META_EXPERIENCES_EXTENSION','type','544396reQqmc','extractFileNameFromFiles','utf-8','4310250pcfcFy','endsWith','BUNDLED_FOLDERS_REGEXP','../utils/crc32','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','paths','search','error','120evSYja','catch','logger','dir','__esModule','../utils','map','join','getChildsByName','extractFilenameFromPath','defineProperty','name','XmlV2','waveTemplates','META_EXTENSION','CustomLabels','readChildComponents','2556380xnfPrt'];a145_0x52b9=function(){return _0xe128ee;};return a145_0x52b9();}var __importDefault=this&&this[a145_0x5c6421(0x16f)]||function(_0x39c8cb){return _0x39c8cb&&_0x39c8cb['__esModule']?_0x39c8cb:{'default':_0x39c8cb};};Object[a145_0x5c6421(0x13f)](exports,a145_0x5c6421(0x139),{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require(a145_0x5c6421(0x16a)),utils_1=require(a145_0x5c6421(0x13a)),path_1=require('path'),xml_v2_1=require('../utils/xml-v2'),child_types_map_1=__importDefault(require(a145_0x5c6421(0x167))),constants_1=require(a145_0x5c6421(0x16d)),core_1=require('../../../../core'),crc32_1=require(a145_0x5c6421(0x130)),folder_types_1=__importDefault(require(a145_0x5c6421(0x14d))),settings_types_list_1=__importDefault(require(a145_0x5c6421(0x153))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a145_0x5c6421(0x158)]);class MDApiParserV2{constructor(_0x1862b5,_0xea48d0){const _0x305b50=a145_0x5c6421;this[_0x305b50(0x138)]=_0x1862b5,this[_0x305b50(0x132)]=_0xea48d0,this['logger']=new core_1[(_0x305b50(0x151))](MDApiParserV2[_0x305b50(0x140)]),this[_0x305b50(0x143)]=_0x305b50(0x157),this[_0x305b50(0x173)]=_0x305b50(0x15c);}async[a145_0x5c6421(0x145)](_0x6388f){const _0xee3f97=a145_0x5c6421;try{const _0x147429=await xml_v2_1['XmlV2']['parse'](Object[_0xee3f97(0x148)](_0x6388f[_0xee3f97(0x14e)])[0x0]['toString'](_0xee3f97(0x177))),_0x385afe=CHILD_XML_KEYS[_0xee3f97(0x14a)](_0x955498=>xml_v2_1[_0xee3f97(0x141)][_0xee3f97(0x165)](_0x147429,_0x955498))['reduce']((_0x10d71a,_0x33f837)=>[..._0x10d71a,...xml_v2_1[_0xee3f97(0x141)][_0xee3f97(0x13d)](_0x147429,_0x33f837)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x6388f,_0x147429,_0x385afe);}catch(_0x432239){throw new Error(_0xee3f97(0x152)+_0x6388f['name']+'\x20['+_0x6388f['type']+']');}}async[a145_0x5c6421(0x171)](_0x5e6b21){const _0x37ccf9=a145_0x5c6421,_0x4e4471=(0x0,path_1[_0x37ccf9(0x13c)])(this[_0x37ccf9(0x138)],_0x5e6b21),_0x3e38ad=_0x5e6b21+(_0x5e6b21[_0x37ccf9(0x14c)](_0x37ccf9(0x164))?this[_0x37ccf9(0x173)]:this[_0x37ccf9(0x143)]),_0x167c70=await fs_internal_1['FS'][_0x37ccf9(0x159)](_0x4e4471,!![]),_0x9566d2=await fs_internal_1['FS'][_0x37ccf9(0x16e)]((0x0,path_1[_0x37ccf9(0x13c)])(this[_0x37ccf9(0x138)],_0x3e38ad),!![])[_0x37ccf9(0x136)](()=>null),_0x46b6aa={};for(const _0x59fff3 of _0x167c70){_0x46b6aa[(0x0,path_1[_0x37ccf9(0x15d)])(this[_0x37ccf9(0x138)],_0x59fff3)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x37ccf9(0x16e)](_0x59fff3,!![]);}return _0x9566d2&&(_0x46b6aa[(0x0,path_1[_0x37ccf9(0x15d)])(this[_0x37ccf9(0x138)],_0x3e38ad)[_0x37ccf9(0x15b)](/\\/g,'/')]=_0x9566d2),_0x46b6aa;}async[a145_0x5c6421(0x14f)](_0x12d3f6){const _0x227f81=a145_0x5c6421,_0x397992=_0x12d3f6+this[_0x227f81(0x143)];if(constants_1[_0x227f81(0x12f)][_0x227f81(0x161)](_0x12d3f6))return this[_0x227f81(0x171)](_0x12d3f6);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x227f81(0x13c)])(this[_0x227f81(0x138)],_0x397992))){const _0x32b7c1=await fs_internal_1['FS'][_0x227f81(0x16e)]((0x0,path_1[_0x227f81(0x13c)])(this[_0x227f81(0x138)],_0x397992),!![]),_0x22afdb=await(0x0,utils_1[_0x227f81(0x14b)])({'files':{[_0x397992]:_0x32b7c1}})[_0x227f81(0x136)](()=>null);if(_0x22afdb&&folder_types_1[_0x227f81(0x158)]['includes'](_0x22afdb))return{[_0x397992]:_0x32b7c1};return{[_0x397992]:_0x32b7c1,[_0x12d3f6]:await fs_internal_1['FS'][_0x227f81(0x16e)]((0x0,path_1[_0x227f81(0x13c)])(this[_0x227f81(0x138)],_0x12d3f6),!![])};}return{[_0x12d3f6]:await fs_internal_1['FS'][_0x227f81(0x16e)]((0x0,path_1[_0x227f81(0x13c)])(this['dir'],_0x12d3f6),!![])};}[a145_0x5c6421(0x166)](){const _0x54ecf1=a145_0x5c6421;this[_0x54ecf1(0x132)]=this[_0x54ecf1(0x132)][_0x54ecf1(0x13b)](_0x1e524c=>constants_1[_0x54ecf1(0x12f)][_0x54ecf1(0x161)](_0x1e524c)?_0x1e524c['split']('/')[_0x54ecf1(0x155)](0x0,0x2)[_0x54ecf1(0x13c)]('/'):_0x1e524c),this[_0x54ecf1(0x132)]=[...new Set(this['paths'])];}async['parse'](){const _0x56ec68=a145_0x5c6421,_0x1def92=[];this[_0x56ec68(0x166)]();for(const _0x3c7d70 of this[_0x56ec68(0x132)]){if(_0x3c7d70[_0x56ec68(0x12e)]('package.xml'))continue;const _0x5863af={};try{_0x5863af[_0x56ec68(0x14e)]=await this['readComponent'](_0x3c7d70),_0x5863af[_0x56ec68(0x160)]=constants_1[_0x56ec68(0x12f)][_0x56ec68(0x161)](_0x3c7d70)?_0x3c7d70:(0x0,utils_1[_0x56ec68(0x176)])({'files':_0x5863af[_0x56ec68(0x14e)]}),_0x3c7d70[_0x56ec68(0x14c)](_0x56ec68(0x142))?_0x5863af[_0x56ec68(0x174)]='WaveTemplateBundle':_0x5863af[_0x56ec68(0x174)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x5863af['files']});}catch(_0x5f3b10){this[_0x56ec68(0x137)][_0x56ec68(0x134)](_0x56ec68(0x131),_0x3c7d70,_0x5f3b10);continue;}_0x5863af[_0x56ec68(0x140)]=(0x0,utils_1[_0x56ec68(0x13e)])(_0x3c7d70),_0x5863af[_0x56ec68(0x162)]=(0x0,crc32_1[_0x56ec68(0x15e)])(_0x5863af);if((0x0,utils_1[_0x56ec68(0x172)])(_0x5863af)){const _0x2a69d4=await this[_0x56ec68(0x145)](_0x5863af);_0x1def92[_0x56ec68(0x168)](..._0x2a69d4);}if(_0x5863af['type']===_0x56ec68(0x144))continue;settings_types_list_1['default'][_0x56ec68(0x147)](_0x5863af[_0x56ec68(0x174)])&&(_0x5863af[_0x56ec68(0x174)]=_0x56ec68(0x170)),_0x1def92[_0x56ec68(0x168)](_0x5863af);}return _0x1def92;}}exports['MDApiParserV2']=MDApiParserV2;