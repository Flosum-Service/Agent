const a149_0x30b336=a149_0x15c3;(function(_0x466892,_0x292736){const _0x298bc5=a149_0x15c3,_0x1af2b4=_0x466892();while(!![]){try{const _0x48917d=parseInt(_0x298bc5(0x1ed))/0x1+parseInt(_0x298bc5(0x1c5))/0x2*(-parseInt(_0x298bc5(0x1d1))/0x3)+-parseInt(_0x298bc5(0x1c9))/0x4*(parseInt(_0x298bc5(0x1ae))/0x5)+-parseInt(_0x298bc5(0x1da))/0x6+parseInt(_0x298bc5(0x1c6))/0x7*(-parseInt(_0x298bc5(0x1b4))/0x8)+parseInt(_0x298bc5(0x1a7))/0x9*(-parseInt(_0x298bc5(0x1bc))/0xa)+parseInt(_0x298bc5(0x1cf))/0xb;if(_0x48917d===_0x292736)break;else _0x1af2b4['push'](_0x1af2b4['shift']());}catch(_0x4a2f10){_0x1af2b4['push'](_0x1af2b4['shift']());}}}(a149_0x1d43,0xd8795));const a149_0x672c0=(function(){let _0x419d7c=!![];return function(_0x426dc5,_0x429737){const _0x367d5b=_0x419d7c?function(){const _0x37a676=a149_0x15c3;if(_0x429737){const _0x325e2e=_0x429737[_0x37a676(0x1e2)](_0x426dc5,arguments);return _0x429737=null,_0x325e2e;}}:function(){};return _0x419d7c=![],_0x367d5b;};}()),a149_0x23928e=a149_0x672c0(this,function(){const _0x357706=a149_0x15c3;return a149_0x23928e[_0x357706(0x1e9)]()[_0x357706(0x1a9)](_0x357706(0x1c4))[_0x357706(0x1e9)]()[_0x357706(0x1db)](a149_0x23928e)[_0x357706(0x1a9)]('(((.+)+)+)+$');});a149_0x23928e();'use strict';function a149_0x1d43(){const _0x5e900=['extractFilenameFromPath','161310qlnCMF','constructor','calculateCRC32','endsWith','createChildComponentsFromParent','readFile','META_EXTENSION','META_EXPERIENCES_EXTENSION','apply','type','WaveTemplateBundle','relative','filter','readDir','path','toString','push','BUNDLED_FOLDERS_REGEXP','crc','1366050udguce','values','../utils/xml-v2','122769sHCsCL','exists','search','readChildComponents','startsWith','extractFileNameFromFiles','XmlV2','25QqKrBR','__esModule','../../../../constants','error','name','files','3200WhnAJv','../data/folder-types','slice','paths','hasChildNodes','default','test','../utils','910fijsMt','dir','readBundledComponent','../data/settings-types-list','logger','replace','__importDefault','../../internal/fs.internal','(((.+)+)+)+$','51530DhpeSE','2779dZKHHO','includes','join','638468ESkXIH','package.xml','parse','foldBundledComponentsPaths','utf-8','experiences','20620083mhHWDo','filePath','15UliIan','BaseParser','.site-meta.xml','-meta.xml','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','extractComponentTypeFromFiles','readComponent','MDApiParserV2'];a149_0x1d43=function(){return _0x5e900;};return a149_0x1d43();}var __importDefault=this&&this[a149_0x30b336(0x1c2)]||function(_0x5c6d93){const _0xbdcf33=a149_0x30b336;return _0x5c6d93&&_0x5c6d93[_0xbdcf33(0x1af)]?_0x5c6d93:{'default':_0x5c6d93};};function a149_0x15c3(_0x4de087,_0x1c0b59){const _0x43870f=a149_0x1d43();return a149_0x15c3=function(_0x23928e,_0x672c0){_0x23928e=_0x23928e-0x1a5;let _0x1d43a2=_0x43870f[_0x23928e];return _0x1d43a2;},a149_0x15c3(_0x4de087,_0x1c0b59);}Object['defineProperty'](exports,a149_0x30b336(0x1af),{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require(a149_0x30b336(0x1c3)),utils_1=require(a149_0x30b336(0x1bb)),path_1=require(a149_0x30b336(0x1e8)),xml_v2_1=require(a149_0x30b336(0x1a6)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a149_0x30b336(0x1b0)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require(a149_0x30b336(0x1b5))),settings_types_list_1=__importDefault(require(a149_0x30b336(0x1bf))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a149_0x30b336(0x1a5)](child_types_map_1[a149_0x30b336(0x1b9)]);class MDApiParserV2 extends base_parser_1[a149_0x30b336(0x1d2)]{constructor(_0x10a837,_0x35a167){const _0x267782=a149_0x30b336;super(MDApiParserV2[_0x267782(0x1b2)],_0x10a837,_0x35a167),this['META_EXTENSION']=_0x267782(0x1d4),this[_0x267782(0x1e1)]=_0x267782(0x1d3);}async[a149_0x30b336(0x1aa)](_0x5f426f){const _0x4c3d1b=a149_0x30b336;try{const _0x1dbe1c=await xml_v2_1[_0x4c3d1b(0x1ad)][_0x4c3d1b(0x1cb)](Object['values'](_0x5f426f[_0x4c3d1b(0x1b3)])[0x0][_0x4c3d1b(0x1e9)](_0x4c3d1b(0x1cd))),_0x35e07a=CHILD_XML_KEYS[_0x4c3d1b(0x1e6)](_0x5649ac=>xml_v2_1[_0x4c3d1b(0x1ad)][_0x4c3d1b(0x1b8)](_0x1dbe1c,_0x5649ac))['reduce']((_0x1f0d6c,_0x4713c4)=>[..._0x1f0d6c,...xml_v2_1[_0x4c3d1b(0x1ad)]['getChildsByName'](_0x1dbe1c,_0x4713c4)],[]);return(0x0,utils_1[_0x4c3d1b(0x1de)])(_0x5f426f,_0x1dbe1c,_0x35e07a);}catch(_0x6c4dc4){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x5f426f[_0x4c3d1b(0x1b2)]+'\x20['+_0x5f426f['type']+']');}}async['readBundledComponent'](_0x752d6f){const _0x51c488=a149_0x30b336,_0x45f8f5=(0x0,path_1['join'])(this[_0x51c488(0x1bd)],_0x752d6f),_0x22fcea=_0x752d6f+(_0x752d6f[_0x51c488(0x1ab)](_0x51c488(0x1ce))?this[_0x51c488(0x1e1)]:this[_0x51c488(0x1e0)]),_0x420265=await fs_internal_1['FS'][_0x51c488(0x1e7)](_0x45f8f5,!![]),_0x510879=await fs_internal_1['FS'][_0x51c488(0x1df)]((0x0,path_1[_0x51c488(0x1c8)])(this[_0x51c488(0x1bd)],_0x22fcea),!![])['catch'](()=>null),_0x5de2d4={};for(const _0x4ced78 of _0x420265){_0x5de2d4[(0x0,path_1['relative'])(this[_0x51c488(0x1bd)],_0x4ced78)[_0x51c488(0x1c1)](/\\/g,'/')]=await fs_internal_1['FS'][_0x51c488(0x1df)](_0x4ced78,!![]);}return _0x510879&&(_0x5de2d4[(0x0,path_1[_0x51c488(0x1e5)])(this[_0x51c488(0x1bd)],_0x22fcea)[_0x51c488(0x1c1)](/\\/g,'/')]=_0x510879),_0x5de2d4;}async[a149_0x30b336(0x1d7)](_0x4c498f){const _0x307229=a149_0x30b336,_0x538ed8=_0x4c498f+this['META_EXTENSION'];if(constants_1[_0x307229(0x1eb)][_0x307229(0x1ba)](_0x4c498f))return this[_0x307229(0x1be)](_0x4c498f);if(await fs_internal_1['FS'][_0x307229(0x1a8)]((0x0,path_1[_0x307229(0x1c8)])(this[_0x307229(0x1bd)],_0x538ed8))){const _0x35e1ed=await fs_internal_1['FS'][_0x307229(0x1df)]((0x0,path_1[_0x307229(0x1c8)])(this[_0x307229(0x1bd)],_0x538ed8),!![]),_0x315dae=await(0x0,utils_1[_0x307229(0x1d6)])({'files':{[_0x538ed8]:_0x35e1ed}})['catch'](()=>null);if(_0x315dae&&folder_types_1['default']['includes'](_0x315dae))return{[_0x538ed8]:_0x35e1ed};return{[_0x538ed8]:_0x35e1ed,[_0x4c498f]:await fs_internal_1['FS'][_0x307229(0x1df)]((0x0,path_1[_0x307229(0x1c8)])(this[_0x307229(0x1bd)],_0x4c498f),!![])};}return{[_0x4c498f]:await fs_internal_1['FS'][_0x307229(0x1df)]((0x0,path_1[_0x307229(0x1c8)])(this[_0x307229(0x1bd)],_0x4c498f),!![])};}[a149_0x30b336(0x1cc)](){const _0x3f7587=a149_0x30b336;this[_0x3f7587(0x1b7)]=this['paths']['map'](_0x26c7e8=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3f7587(0x1ba)](_0x26c7e8)?_0x26c7e8['split']('/')[_0x3f7587(0x1b6)](0x0,0x2)[_0x3f7587(0x1c8)]('/'):_0x26c7e8),this[_0x3f7587(0x1b7)]=[...new Set(this[_0x3f7587(0x1b7)])];}async[a149_0x30b336(0x1cb)](){const _0x2d8f73=a149_0x30b336,_0x492012=[];this[_0x2d8f73(0x1cc)]();for(const _0x1972a9 of this[_0x2d8f73(0x1b7)]){if(_0x1972a9[_0x2d8f73(0x1dd)](_0x2d8f73(0x1ca)))continue;const _0x466aab={};try{_0x466aab[_0x2d8f73(0x1b3)]=await this['readComponent'](_0x1972a9),_0x466aab[_0x2d8f73(0x1d0)]=constants_1[_0x2d8f73(0x1eb)][_0x2d8f73(0x1ba)](_0x1972a9)?_0x1972a9:(0x0,utils_1[_0x2d8f73(0x1ac)])({'files':_0x466aab['files']}),_0x1972a9['startsWith']('waveTemplates')?_0x466aab[_0x2d8f73(0x1e3)]=_0x2d8f73(0x1e4):_0x466aab[_0x2d8f73(0x1e3)]=await(0x0,utils_1[_0x2d8f73(0x1d6)])({'files':_0x466aab[_0x2d8f73(0x1b3)]});}catch(_0x38b5d2){this[_0x2d8f73(0x1c0)][_0x2d8f73(0x1b1)](_0x2d8f73(0x1d5),_0x1972a9,_0x38b5d2);continue;}_0x466aab[_0x2d8f73(0x1b2)]=(0x0,utils_1[_0x2d8f73(0x1d9)])(_0x1972a9),_0x466aab[_0x2d8f73(0x1ec)]=(0x0,crc32_1[_0x2d8f73(0x1dc)])(_0x466aab);if((0x0,utils_1['isParentComponent'])(_0x466aab)){const _0x2a2d8b=await this['readChildComponents'](_0x466aab);_0x492012['push'](..._0x2a2d8b);}if(_0x466aab[_0x2d8f73(0x1e3)]==='CustomLabels')continue;settings_types_list_1[_0x2d8f73(0x1b9)][_0x2d8f73(0x1c7)](_0x466aab[_0x2d8f73(0x1e3)])&&(_0x466aab[_0x2d8f73(0x1e3)]='Settings'),_0x492012[_0x2d8f73(0x1ea)](_0x466aab);}return _0x492012;}}exports[a149_0x30b336(0x1d8)]=MDApiParserV2;