const a114_0x46501f=a114_0x3aff;(function(_0x431aa8,_0x18d274){const _0x3bd0d0=a114_0x3aff,_0x667ba5=_0x431aa8();while(!![]){try{const _0x59ffb5=parseInt(_0x3bd0d0(0x9f))/0x1+-parseInt(_0x3bd0d0(0x98))/0x2*(parseInt(_0x3bd0d0(0xb4))/0x3)+parseInt(_0x3bd0d0(0x82))/0x4*(parseInt(_0x3bd0d0(0xb2))/0x5)+-parseInt(_0x3bd0d0(0x72))/0x6*(parseInt(_0x3bd0d0(0xac))/0x7)+parseInt(_0x3bd0d0(0x8a))/0x8*(-parseInt(_0x3bd0d0(0xb3))/0x9)+-parseInt(_0x3bd0d0(0x8b))/0xa+parseInt(_0x3bd0d0(0xa6))/0xb*(parseInt(_0x3bd0d0(0x81))/0xc);if(_0x59ffb5===_0x18d274)break;else _0x667ba5['push'](_0x667ba5['shift']());}catch(_0x4c0cf5){_0x667ba5['push'](_0x667ba5['shift']());}}}(a114_0x4e09,0x6e2f0));const a114_0x436c79=(function(){let _0x1148bd=!![];return function(_0x3e859f,_0x1fc318){const _0x17747a=_0x1148bd?function(){const _0x2c21b1=a114_0x3aff;if(_0x1fc318){const _0x4ccc53=_0x1fc318[_0x2c21b1(0x7a)](_0x3e859f,arguments);return _0x1fc318=null,_0x4ccc53;}}:function(){};return _0x1148bd=![],_0x17747a;};}()),a114_0x2b4487=a114_0x436c79(this,function(){const _0x1744b9=a114_0x3aff;return a114_0x2b4487[_0x1744b9(0x97)]()[_0x1744b9(0x99)](_0x1744b9(0x84))[_0x1744b9(0x97)]()['constructor'](a114_0x2b4487)[_0x1744b9(0x99)](_0x1744b9(0x84));});function a114_0x3aff(_0xa79e2a,_0x43a645){const _0x25d146=a114_0x4e09();return a114_0x3aff=function(_0x2b4487,_0x436c79){_0x2b4487=_0x2b4487-0x6e;let _0x4e0945=_0x25d146[_0x2b4487];return _0x4e0945;},a114_0x3aff(_0xa79e2a,_0x43a645);}a114_0x2b4487();'use strict';var __importDefault=this&&this[a114_0x46501f(0x87)]||function(_0x30ea42){const _0x3aac55=a114_0x46501f;return _0x30ea42&&_0x30ea42[_0x3aac55(0x85)]?_0x30ea42:{'default':_0x30ea42};};Object['defineProperty'](exports,a114_0x46501f(0x85),{'value':!![]}),exports[a114_0x46501f(0x8e)]=void 0x0;function a114_0x4e09(){const _0x271628=['catch','readFile','-meta.xml','replace','logger','values','3223WhEugR','readDir','slice','WaveTemplateBundle','BUNDLED_FOLDERS_REGEXP','extractComponentTypeFromFiles','364euotIg','utf-8','Xml','paths','push','package.xml','1095rgRSDj','1249578LtKopy','1960815QwefPt','../../internal/fs.internal','extractFileNameFromFiles','default','getChildsByName','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXTENSION','experiences','crc','parse','59304RaYtsi','dir','../utils/xml','test','extractFilenameFromPath','exists','readComponent','map','apply','error','filter','../utils','../utils/crc32','isParentComponent','../data/folder-types','43032TVcmuN','12952kaCzhp','META_EXPERIENCES_EXTENSION','(((.+)+)+)+$','__esModule','includes','__importDefault','name','reduce','32ygbaSZ','2184030qYisCG','../data/child-types-map','Cannot\x20parse\x20children\x20in\x20','MDApiParserV2','join','Logger','relative','split','readBundledComponent','createChildComponentsFromParent','startsWith','readChildComponents','toString','2mAoOUX','search','type','../../../../core','CustomLabels','foldBundledComponentsPaths','files','632836OWUCuD'];a114_0x4e09=function(){return _0x271628;};return a114_0x4e09();}const fs_internal_1=require(a114_0x46501f(0xb5)),utils_1=require(a114_0x46501f(0x7d)),path_1=require('path'),xml_1=require(a114_0x46501f(0x74)),child_types_map_1=__importDefault(require(a114_0x46501f(0x8c))),constants_1=require('../../../../constants'),core_1=require(a114_0x46501f(0x9b)),crc32_1=require(a114_0x46501f(0x7e)),folder_types_1=__importDefault(require(a114_0x46501f(0x80))),CHILD_XML_KEYS=Object[a114_0x46501f(0xa5)](child_types_map_1[a114_0x46501f(0xb7)]);class MDApiParserV2{constructor(_0xd6c49a,_0xd2ea47){const _0x7304e7=a114_0x46501f;this[_0x7304e7(0x73)]=_0xd6c49a,this[_0x7304e7(0xaf)]=_0xd2ea47,this[_0x7304e7(0xa4)]=new core_1[(_0x7304e7(0x90))](MDApiParserV2['name']),this[_0x7304e7(0x6e)]=_0x7304e7(0xa2),this[_0x7304e7(0x83)]='.site-meta.xml';}async[a114_0x46501f(0x96)](_0x3efac8){const _0x36d3b0=a114_0x46501f;try{const _0x35dd18=await xml_1[_0x36d3b0(0xae)][_0x36d3b0(0x71)](Object[_0x36d3b0(0xa5)](_0x3efac8[_0x36d3b0(0x9e)])[0x0][_0x36d3b0(0x97)](_0x36d3b0(0xad))),_0x4fd294=CHILD_XML_KEYS[_0x36d3b0(0x7c)](_0x1a2b4d=>xml_1[_0x36d3b0(0xae)]['hasChildNodes'](_0x35dd18,_0x1a2b4d))[_0x36d3b0(0x89)]((_0x3ac6ba,_0x570fdd)=>[..._0x3ac6ba,...xml_1[_0x36d3b0(0xae)][_0x36d3b0(0xb8)](_0x35dd18,_0x570fdd)],[]);return(0x0,utils_1[_0x36d3b0(0x94)])(_0x3efac8,_0x35dd18,_0x4fd294);}catch(_0x544919){throw new Error(_0x36d3b0(0x8d)+_0x3efac8[_0x36d3b0(0x88)]+'\x20['+_0x3efac8['type']+']');}}async[a114_0x46501f(0x93)](_0xfd6c4e){const _0x3988a8=a114_0x46501f,_0x9308b1=(0x0,path_1[_0x3988a8(0x8f)])(this[_0x3988a8(0x73)],_0xfd6c4e),_0x8284d6=_0xfd6c4e+(_0xfd6c4e[_0x3988a8(0x95)](_0x3988a8(0x6f))?this[_0x3988a8(0x83)]:this[_0x3988a8(0x6e)]),_0x86683d=await fs_internal_1['FS'][_0x3988a8(0xa7)](_0x9308b1,!![]),_0x2d672d=await fs_internal_1['FS'][_0x3988a8(0xa1)]((0x0,path_1[_0x3988a8(0x8f)])(this[_0x3988a8(0x73)],_0x8284d6),!![])['catch'](()=>null),_0x3947d5={};for(const _0xbed83 of _0x86683d){_0x3947d5[(0x0,path_1['relative'])(this['dir'],_0xbed83)[_0x3988a8(0xa3)](/\\/g,'/')]=await fs_internal_1['FS'][_0x3988a8(0xa1)](_0xbed83,!![]);}return _0x2d672d&&(_0x3947d5[(0x0,path_1[_0x3988a8(0x91)])(this[_0x3988a8(0x73)],_0x8284d6)[_0x3988a8(0xa3)](/\\/g,'/')]=_0x2d672d),_0x3947d5;}async[a114_0x46501f(0x78)](_0x3e1e78){const _0x477862=a114_0x46501f,_0x17d1cf=_0x3e1e78+this[_0x477862(0x6e)];if(constants_1[_0x477862(0xaa)][_0x477862(0x75)](_0x3e1e78))return this['readBundledComponent'](_0x3e1e78);if(await fs_internal_1['FS'][_0x477862(0x77)]((0x0,path_1[_0x477862(0x8f)])(this[_0x477862(0x73)],_0x17d1cf))){const _0x149ea4=await fs_internal_1['FS'][_0x477862(0xa1)]((0x0,path_1[_0x477862(0x8f)])(this['dir'],_0x17d1cf),!![]),_0x4da7c4=await(0x0,utils_1[_0x477862(0xab)])({'files':{[_0x17d1cf]:_0x149ea4}})[_0x477862(0xa0)](()=>null);if(_0x4da7c4&&folder_types_1[_0x477862(0xb7)][_0x477862(0x86)](_0x4da7c4))return{[_0x17d1cf]:_0x149ea4};return{[_0x17d1cf]:_0x149ea4,[_0x3e1e78]:await fs_internal_1['FS'][_0x477862(0xa1)]((0x0,path_1[_0x477862(0x8f)])(this[_0x477862(0x73)],_0x3e1e78),!![])};}return{[_0x3e1e78]:await fs_internal_1['FS'][_0x477862(0xa1)]((0x0,path_1['join'])(this[_0x477862(0x73)],_0x3e1e78),!![])};}[a114_0x46501f(0x9d)](){const _0x272fa9=a114_0x46501f;this['paths']=this[_0x272fa9(0xaf)][_0x272fa9(0x79)](_0x3058b9=>constants_1[_0x272fa9(0xaa)][_0x272fa9(0x75)](_0x3058b9)?_0x3058b9[_0x272fa9(0x92)]('/')[_0x272fa9(0xa8)](0x0,0x2)[_0x272fa9(0x8f)]('/'):_0x3058b9),this['paths']=[...new Set(this[_0x272fa9(0xaf)])];}async[a114_0x46501f(0x71)](){const _0x32f28a=a114_0x46501f,_0x2413c2=[];this[_0x32f28a(0x9d)]();for(const _0x505a06 of this[_0x32f28a(0xaf)]){if(_0x505a06['endsWith'](_0x32f28a(0xb1)))continue;const _0x220369={};try{_0x220369[_0x32f28a(0x9e)]=await this[_0x32f28a(0x78)](_0x505a06),_0x220369['filePath']=constants_1[_0x32f28a(0xaa)]['test'](_0x505a06)?_0x505a06:(0x0,utils_1[_0x32f28a(0xb6)])({'files':_0x220369[_0x32f28a(0x9e)]}),_0x505a06[_0x32f28a(0x95)]('waveTemplates')?_0x220369[_0x32f28a(0x9a)]=_0x32f28a(0xa9):_0x220369[_0x32f28a(0x9a)]=await(0x0,utils_1[_0x32f28a(0xab)])({'files':_0x220369[_0x32f28a(0x9e)]});}catch(_0x103d25){this['logger'][_0x32f28a(0x7b)](_0x32f28a(0xb9),_0x505a06,_0x103d25);continue;}_0x220369[_0x32f28a(0x88)]=(0x0,utils_1[_0x32f28a(0x76)])(_0x505a06),_0x220369[_0x32f28a(0x70)]=(0x0,crc32_1['calculateCRC32'])(_0x220369);if((0x0,utils_1[_0x32f28a(0x7f)])(_0x220369)){const _0x89357e=await this[_0x32f28a(0x96)](_0x220369);_0x2413c2[_0x32f28a(0xb0)](..._0x89357e);}if(_0x220369['type']===_0x32f28a(0x9c))continue;_0x2413c2[_0x32f28a(0xb0)](_0x220369);}return _0x2413c2;}}exports['MDApiParserV2']=MDApiParserV2;