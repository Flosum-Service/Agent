const a149_0x768a79=a149_0x268c;(function(_0xa0d80c,_0x5e45ea){const _0x1bbbc3=a149_0x268c,_0x355990=_0xa0d80c();while(!![]){try{const _0x57432a=-parseInt(_0x1bbbc3(0x15d))/0x1*(parseInt(_0x1bbbc3(0x142))/0x2)+parseInt(_0x1bbbc3(0x149))/0x3*(-parseInt(_0x1bbbc3(0x13a))/0x4)+parseInt(_0x1bbbc3(0x145))/0x5+-parseInt(_0x1bbbc3(0x174))/0x6+-parseInt(_0x1bbbc3(0x147))/0x7*(parseInt(_0x1bbbc3(0x16c))/0x8)+parseInt(_0x1bbbc3(0x150))/0x9+parseInt(_0x1bbbc3(0x138))/0xa;if(_0x57432a===_0x5e45ea)break;else _0x355990['push'](_0x355990['shift']());}catch(_0x368e08){_0x355990['push'](_0x355990['shift']());}}}(a149_0x27f8,0x1cec9));const a149_0x23241e=(function(){let _0x54761f=!![];return function(_0x1df9d7,_0x44cb8e){const _0x551526=_0x54761f?function(){const _0x5865e0=a149_0x268c;if(_0x44cb8e){const _0x1c9894=_0x44cb8e[_0x5865e0(0x170)](_0x1df9d7,arguments);return _0x44cb8e=null,_0x1c9894;}}:function(){};return _0x54761f=![],_0x551526;};}()),a149_0xe68e35=a149_0x23241e(this,function(){const _0x2928dd=a149_0x268c;return a149_0xe68e35['toString']()[_0x2928dd(0x153)](_0x2928dd(0x16e))[_0x2928dd(0x165)]()[_0x2928dd(0x168)](a149_0xe68e35)[_0x2928dd(0x153)](_0x2928dd(0x16e));});a149_0xe68e35();'use strict';function a149_0x268c(_0x1e77ee,_0x22d894){const _0x1a26ff=a149_0x27f8();return a149_0x268c=function(_0xe68e35,_0x23241e){_0xe68e35=_0xe68e35-0x12d;let _0x27f8d2=_0x1a26ff[_0xe68e35];return _0x27f8d2;},a149_0x268c(_0x1e77ee,_0x22d894);}var __importDefault=this&&this[a149_0x768a79(0x157)]||function(_0x378205){const _0x5e9d28=a149_0x768a79;return _0x378205&&_0x378205[_0x5e9d28(0x13e)]?_0x378205:{'default':_0x378205};};Object[a149_0x768a79(0x151)](exports,a149_0x768a79(0x13e),{'value':!![]}),exports[a149_0x768a79(0x134)]=void 0x0;const fs_internal_1=require(a149_0x768a79(0x15f)),utils_1=require(a149_0x768a79(0x135)),path_1=require(a149_0x768a79(0x131)),xml_v2_1=require('../utils/xml-v2'),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require('../../../../constants'),crc32_1=require(a149_0x768a79(0x171)),folder_types_1=__importDefault(require(a149_0x768a79(0x166))),settings_types_list_1=__importDefault(require(a149_0x768a79(0x176))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a149_0x768a79(0x15c)](child_types_map_1[a149_0x768a79(0x14d)]);function a149_0x27f8(){const _0x527165=['66yqGwLe','split','name','package.xml','default','Settings','reduce','1737648itlWOa','defineProperty','Cannot\x20parse\x20children\x20in\x20','search','waveTemplates','getChildsByName','error','__importDefault','WaveTemplateBundle','map','relative','endsWith','values','32938VulaMv','utf-8','../../internal/fs.internal','XmlV2','readChildComponents','createChildComponentsFromParent','BUNDLED_FOLDERS_REGEXP','isParentComponent','toString','../data/folder-types','extractComponentTypeFromFiles','constructor','includes','type','dir','264jGUnTC','test','(((.+)+)+)+$','crc','apply','../utils/crc32','readDir','logger','85470anylri','startsWith','../data/settings-types-list','push','paths','hasChildNodes','META_EXPERIENCES_EXTENSION','parse','path','filter','replace','MDApiParserV2','../utils','slice','META_EXTENSION','1451390FPBFRN','CustomLabels','25924MXapDi','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','foldBundledComponentsPaths','catch','__esModule','-meta.xml','join','files','4GJSEuO','readFile','filePath','1019345MGsebr','readBundledComponent','42616NXSdNY','readComponent'];a149_0x27f8=function(){return _0x527165;};return a149_0x27f8();}class MDApiParserV2 extends base_parser_1['BaseParser']{constructor(_0x4a4d70,_0x15872c){const _0x3c04fc=a149_0x768a79;super(MDApiParserV2[_0x3c04fc(0x14b)],_0x4a4d70,_0x15872c),this[_0x3c04fc(0x137)]=_0x3c04fc(0x13f),this[_0x3c04fc(0x12f)]='.site-meta.xml';}async[a149_0x768a79(0x161)](_0x53a1c8){const _0x460de1=a149_0x768a79;try{const _0x45962f=await xml_v2_1[_0x460de1(0x160)][_0x460de1(0x130)](Object[_0x460de1(0x15c)](_0x53a1c8[_0x460de1(0x141)])[0x0]['toString'](_0x460de1(0x15e))),_0xbddf94=CHILD_XML_KEYS[_0x460de1(0x132)](_0x1261d7=>xml_v2_1[_0x460de1(0x160)][_0x460de1(0x12e)](_0x45962f,_0x1261d7))[_0x460de1(0x14f)]((_0x2c6c63,_0x527b5d)=>[..._0x2c6c63,...xml_v2_1[_0x460de1(0x160)][_0x460de1(0x155)](_0x45962f,_0x527b5d)],[]);return(0x0,utils_1[_0x460de1(0x162)])(_0x53a1c8,_0x45962f,_0xbddf94);}catch(_0x176d10){throw new Error(_0x460de1(0x152)+_0x53a1c8[_0x460de1(0x14b)]+'\x20['+_0x53a1c8[_0x460de1(0x16a)]+']');}}async['readBundledComponent'](_0x4c25bd){const _0x4c41d4=a149_0x768a79,_0x2544f1=(0x0,path_1['join'])(this[_0x4c41d4(0x16b)],_0x4c25bd),_0x2ce7d2=_0x4c25bd+(_0x4c25bd[_0x4c41d4(0x175)]('experiences')?this[_0x4c41d4(0x12f)]:this[_0x4c41d4(0x137)]),_0x51e1b7=await fs_internal_1['FS'][_0x4c41d4(0x172)](_0x2544f1,!![]),_0x5ac689=await fs_internal_1['FS'][_0x4c41d4(0x143)]((0x0,path_1[_0x4c41d4(0x140)])(this[_0x4c41d4(0x16b)],_0x2ce7d2),!![])[_0x4c41d4(0x13d)](()=>null),_0x3fd436={};for(const _0x9cba4b of _0x51e1b7){_0x3fd436[(0x0,path_1[_0x4c41d4(0x15a)])(this[_0x4c41d4(0x16b)],_0x9cba4b)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x4c41d4(0x143)](_0x9cba4b,!![]);}return _0x5ac689&&(_0x3fd436[(0x0,path_1[_0x4c41d4(0x15a)])(this[_0x4c41d4(0x16b)],_0x2ce7d2)[_0x4c41d4(0x133)](/\\/g,'/')]=_0x5ac689),_0x3fd436;}async[a149_0x768a79(0x148)](_0x590755){const _0x50ce1a=a149_0x768a79,_0x2743d2=_0x590755+this[_0x50ce1a(0x137)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x50ce1a(0x16d)](_0x590755))return this[_0x50ce1a(0x146)](_0x590755);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x50ce1a(0x140)])(this['dir'],_0x2743d2))){const _0x507c63=await fs_internal_1['FS'][_0x50ce1a(0x143)]((0x0,path_1['join'])(this[_0x50ce1a(0x16b)],_0x2743d2),!![]),_0x52b74e=await(0x0,utils_1[_0x50ce1a(0x167)])({'files':{[_0x2743d2]:_0x507c63}})[_0x50ce1a(0x13d)](()=>null);if(_0x52b74e&&folder_types_1[_0x50ce1a(0x14d)][_0x50ce1a(0x169)](_0x52b74e))return{[_0x2743d2]:_0x507c63};return{[_0x2743d2]:_0x507c63,[_0x590755]:await fs_internal_1['FS'][_0x50ce1a(0x143)]((0x0,path_1[_0x50ce1a(0x140)])(this[_0x50ce1a(0x16b)],_0x590755),!![])};}return{[_0x590755]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x50ce1a(0x140)])(this['dir'],_0x590755),!![])};}[a149_0x768a79(0x13c)](){const _0x1824f0=a149_0x768a79;this['paths']=this[_0x1824f0(0x12d)][_0x1824f0(0x159)](_0x2aa114=>constants_1[_0x1824f0(0x163)]['test'](_0x2aa114)?_0x2aa114[_0x1824f0(0x14a)]('/')[_0x1824f0(0x136)](0x0,0x2)[_0x1824f0(0x140)]('/'):_0x2aa114),this[_0x1824f0(0x12d)]=[...new Set(this['paths'])];}async[a149_0x768a79(0x130)](){const _0xdbdd4c=a149_0x768a79,_0xe037b7=[];this[_0xdbdd4c(0x13c)]();for(const _0x125384 of this[_0xdbdd4c(0x12d)]){if(_0x125384[_0xdbdd4c(0x15b)](_0xdbdd4c(0x14c)))continue;const _0x397bde={};try{_0x397bde['files']=await this[_0xdbdd4c(0x148)](_0x125384),_0x397bde[_0xdbdd4c(0x144)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0xdbdd4c(0x16d)](_0x125384)?_0x125384:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x397bde['files']}),_0x125384['startsWith'](_0xdbdd4c(0x154))?_0x397bde[_0xdbdd4c(0x16a)]=_0xdbdd4c(0x158):_0x397bde[_0xdbdd4c(0x16a)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x397bde[_0xdbdd4c(0x141)]});}catch(_0x211d04){this[_0xdbdd4c(0x173)][_0xdbdd4c(0x156)](_0xdbdd4c(0x13b),_0x125384,_0x211d04);continue;}_0x397bde[_0xdbdd4c(0x14b)]=(0x0,utils_1['extractFilenameFromPath'])(_0x125384),_0x397bde[_0xdbdd4c(0x16f)]=(0x0,crc32_1['calculateCRC32'])(_0x397bde);if((0x0,utils_1[_0xdbdd4c(0x164)])(_0x397bde)){const _0x418bca=await this[_0xdbdd4c(0x161)](_0x397bde);_0xe037b7[_0xdbdd4c(0x177)](..._0x418bca);}if(_0x397bde[_0xdbdd4c(0x16a)]===_0xdbdd4c(0x139))continue;settings_types_list_1['default']['includes'](_0x397bde['type'])&&(_0x397bde['type']=_0xdbdd4c(0x14e)),_0xe037b7[_0xdbdd4c(0x177)](_0x397bde);}return _0xe037b7;}}exports['MDApiParserV2']=MDApiParserV2;