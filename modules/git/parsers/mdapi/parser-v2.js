const a149_0x5b25a5=a149_0x4fe9;(function(_0x213cc8,_0x21bc0f){const _0xc0f7f2=a149_0x4fe9,_0x314f78=_0x213cc8();while(!![]){try{const _0x310c0a=parseInt(_0xc0f7f2(0xb7))/0x1*(parseInt(_0xc0f7f2(0xb9))/0x2)+parseInt(_0xc0f7f2(0xe3))/0x3*(parseInt(_0xc0f7f2(0xea))/0x4)+-parseInt(_0xc0f7f2(0xbe))/0x5*(-parseInt(_0xc0f7f2(0xda))/0x6)+-parseInt(_0xc0f7f2(0xc6))/0x7*(parseInt(_0xc0f7f2(0xf5))/0x8)+-parseInt(_0xc0f7f2(0xf4))/0x9+-parseInt(_0xc0f7f2(0xb8))/0xa+-parseInt(_0xc0f7f2(0xcf))/0xb*(-parseInt(_0xc0f7f2(0xaf))/0xc);if(_0x310c0a===_0x21bc0f)break;else _0x314f78['push'](_0x314f78['shift']());}catch(_0x3b5b41){_0x314f78['push'](_0x314f78['shift']());}}}(a149_0x6b14,0xd6f65));const a149_0x47e1e7=(function(){let _0x51ee39=!![];return function(_0x3f2b92,_0x4e6432){const _0x3890a7=_0x51ee39?function(){if(_0x4e6432){const _0x41bee9=_0x4e6432['apply'](_0x3f2b92,arguments);return _0x4e6432=null,_0x41bee9;}}:function(){};return _0x51ee39=![],_0x3890a7;};}()),a149_0x27baa4=a149_0x47e1e7(this,function(){const _0x14abc3=a149_0x4fe9;return a149_0x27baa4[_0x14abc3(0xd9)]()[_0x14abc3(0xc5)]('(((.+)+)+)+$')[_0x14abc3(0xd9)]()['constructor'](a149_0x27baa4)[_0x14abc3(0xc5)](_0x14abc3(0xb6));});a149_0x27baa4();'use strict';var __importDefault=this&&this[a149_0x5b25a5(0xb2)]||function(_0x1d1eb9){return _0x1d1eb9&&_0x1d1eb9['__esModule']?_0x1d1eb9:{'default':_0x1d1eb9};};Object[a149_0x5b25a5(0xdd)](exports,a149_0x5b25a5(0xe9),{'value':!![]}),exports[a149_0x5b25a5(0xec)]=void 0x0;const fs_internal_1=require(a149_0x5b25a5(0xbc)),utils_1=require(a149_0x5b25a5(0xcb)),path_1=require(a149_0x5b25a5(0xc9)),xml_v2_1=require(a149_0x5b25a5(0xc2)),child_types_map_1=__importDefault(require(a149_0x5b25a5(0xe6))),constants_1=require(a149_0x5b25a5(0xc0)),crc32_1=require(a149_0x5b25a5(0xdb)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a149_0x5b25a5(0xe4))),base_parser_1=require(a149_0x5b25a5(0xc3)),CHILD_XML_KEYS=Object[a149_0x5b25a5(0xd2)](child_types_map_1[a149_0x5b25a5(0xf7)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor(_0x3463bb,_0x4ebc35){const _0xd7a19=a149_0x5b25a5;super(MDApiParserV2['name'],_0x3463bb,_0x4ebc35),this[_0xd7a19(0xce)]='-meta.xml',this[_0xd7a19(0xb5)]='.site-meta.xml';}async[a149_0x5b25a5(0xf1)](_0x1732f0){const _0xf5bf31=a149_0x5b25a5;try{const _0x485c63=await xml_v2_1['XmlV2'][_0xf5bf31(0xb1)](Object[_0xf5bf31(0xd2)](_0x1732f0['files'])[0x0][_0xf5bf31(0xd9)](_0xf5bf31(0xef))),_0x58f47f=CHILD_XML_KEYS['filter'](_0xa978c7=>xml_v2_1[_0xf5bf31(0xc8)][_0xf5bf31(0xd6)](_0x485c63,_0xa978c7))[_0xf5bf31(0xee)]((_0x1fcccc,_0x2a3ce8)=>[..._0x1fcccc,...xml_v2_1['XmlV2'][_0xf5bf31(0xd8)](_0x485c63,_0x2a3ce8)],[]);return(0x0,utils_1[_0xf5bf31(0xd1)])(_0x1732f0,_0x485c63,_0x58f47f);}catch(_0x308a41){throw new Error(_0xf5bf31(0xe5)+_0x1732f0['name']+'\x20['+_0x1732f0['type']+']');}}async[a149_0x5b25a5(0xed)](_0x4dfeaa){const _0x404b5b=a149_0x5b25a5,_0x4695a8=(0x0,path_1[_0x404b5b(0xe2)])(this[_0x404b5b(0xba)],_0x4dfeaa),_0x510dc8=_0x4dfeaa+(_0x4dfeaa[_0x404b5b(0xdc)](_0x404b5b(0xc1))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x417f77=await fs_internal_1['FS'][_0x404b5b(0xde)](_0x4695a8,!![]),_0xb851b5=await fs_internal_1['FS'][_0x404b5b(0xbf)]((0x0,path_1['join'])(this[_0x404b5b(0xba)],_0x510dc8),!![])[_0x404b5b(0xca)](()=>null),_0x1c2d32={};for(const _0x574080 of _0x417f77){_0x1c2d32[(0x0,path_1[_0x404b5b(0xcd)])(this[_0x404b5b(0xba)],_0x574080)[_0x404b5b(0xc7)](/\\/g,'/')]=await fs_internal_1['FS'][_0x404b5b(0xbf)](_0x574080,!![]);}return _0xb851b5&&(_0x1c2d32[(0x0,path_1[_0x404b5b(0xcd)])(this[_0x404b5b(0xba)],_0x510dc8)['replace'](/\\/g,'/')]=_0xb851b5),_0x1c2d32;}async[a149_0x5b25a5(0xd5)](_0x2eec69){const _0x54dbe0=a149_0x5b25a5,_0xba4a23=_0x2eec69+this['META_EXTENSION'];if(constants_1[_0x54dbe0(0xdf)][_0x54dbe0(0xd4)](_0x2eec69))return this[_0x54dbe0(0xed)](_0x2eec69);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x54dbe0(0xe2)])(this[_0x54dbe0(0xba)],_0xba4a23))){const _0x5e08a6=await fs_internal_1['FS'][_0x54dbe0(0xbf)]((0x0,path_1[_0x54dbe0(0xe2)])(this['dir'],_0xba4a23),!![]),_0x11ed65=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0xba4a23]:_0x5e08a6}})[_0x54dbe0(0xca)](()=>null);if(_0x11ed65&&folder_types_1[_0x54dbe0(0xf7)][_0x54dbe0(0xf3)](_0x11ed65))return{[_0xba4a23]:_0x5e08a6};return{[_0xba4a23]:_0x5e08a6,[_0x2eec69]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x54dbe0(0xe2)])(this[_0x54dbe0(0xba)],_0x2eec69),!![])};}return{[_0x2eec69]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x54dbe0(0xe2)])(this[_0x54dbe0(0xba)],_0x2eec69),!![])};}['foldBundledComponentsPaths'](){const _0x4a20d9=a149_0x5b25a5;this[_0x4a20d9(0xbd)]=this[_0x4a20d9(0xbd)][_0x4a20d9(0xeb)](_0x3cd199=>constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x3cd199)?_0x3cd199['split']('/')[_0x4a20d9(0xe0)](0x0,0x2)[_0x4a20d9(0xe2)]('/'):_0x3cd199),this[_0x4a20d9(0xbd)]=[...new Set(this[_0x4a20d9(0xbd)])];}async['parse'](){const _0x359c1f=a149_0x5b25a5,_0x55bd58=[];this[_0x359c1f(0xd0)]();for(const _0x1cf1e2 of this[_0x359c1f(0xbd)]){if(_0x1cf1e2[_0x359c1f(0xb4)]('package.xml'))continue;const _0x36a2a2={};try{_0x36a2a2['files']=await this[_0x359c1f(0xd5)](_0x1cf1e2),_0x36a2a2[_0x359c1f(0xf0)]=constants_1[_0x359c1f(0xdf)][_0x359c1f(0xd4)](_0x1cf1e2)?_0x1cf1e2:(0x0,utils_1[_0x359c1f(0xe8)])({'files':_0x36a2a2[_0x359c1f(0xe7)]}),_0x1cf1e2['startsWith']('waveTemplates')?_0x36a2a2[_0x359c1f(0xcc)]=_0x359c1f(0xb0):_0x36a2a2[_0x359c1f(0xcc)]=await(0x0,utils_1[_0x359c1f(0xd3)])({'files':_0x36a2a2[_0x359c1f(0xe7)]});}catch(_0x546999){this['logger'][_0x359c1f(0xc4)](_0x359c1f(0xf6),_0x1cf1e2,_0x546999);continue;}_0x36a2a2['name']=(0x0,utils_1[_0x359c1f(0xd7)])(_0x1cf1e2),_0x36a2a2[_0x359c1f(0xf2)]=(0x0,crc32_1['calculateCRC32'])(_0x36a2a2);if((0x0,utils_1[_0x359c1f(0xae)])(_0x36a2a2)){const _0x426da4=await this[_0x359c1f(0xf1)](_0x36a2a2);_0x55bd58['push'](..._0x426da4);}if(_0x36a2a2['type']===_0x359c1f(0xbb))continue;settings_types_list_1[_0x359c1f(0xf7)][_0x359c1f(0xf3)](_0x36a2a2['type'])&&(_0x36a2a2[_0x359c1f(0xcc)]=_0x359c1f(0xb3)),_0x55bd58[_0x359c1f(0xe1)](_0x36a2a2);}return _0x55bd58;}}function a149_0x4fe9(_0x141bee,_0x29499c){const _0x48cc74=a149_0x6b14();return a149_0x4fe9=function(_0x27baa4,_0x47e1e7){_0x27baa4=_0x27baa4-0xae;let _0x6b1473=_0x48cc74[_0x27baa4];return _0x6b1473;},a149_0x4fe9(_0x141bee,_0x29499c);}function a149_0x6b14(){const _0x2972ee=['slice','push','join','3HpVAMm','../data/settings-types-list','Cannot\x20parse\x20children\x20in\x20','../data/child-types-map','files','extractFileNameFromFiles','__esModule','70552PPHGmN','map','MDApiParserV2','readBundledComponent','reduce','utf-8','filePath','readChildComponents','crc','includes','13347657myjeVq','104fVsHTo','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','default','isParentComponent','24ewzrFB','WaveTemplateBundle','parse','__importDefault','Settings','endsWith','META_EXPERIENCES_EXTENSION','(((.+)+)+)+$','22955EMhDvT','3990640GwKTPn','62awAAUN','dir','CustomLabels','../../internal/fs.internal','paths','1201875haGgcU','readFile','../../../../constants','experiences','../utils/xml-v2','./base.parser','error','search','562618LYNWys','replace','XmlV2','path','catch','../utils','type','relative','META_EXTENSION','15608263inQYxJ','foldBundledComponentsPaths','createChildComponentsFromParent','values','extractComponentTypeFromFiles','test','readComponent','hasChildNodes','extractFilenameFromPath','getChildsByName','toString','6PkxnFG','../utils/crc32','startsWith','defineProperty','readDir','BUNDLED_FOLDERS_REGEXP'];a149_0x6b14=function(){return _0x2972ee;};return a149_0x6b14();}exports[a149_0x5b25a5(0xec)]=MDApiParserV2;