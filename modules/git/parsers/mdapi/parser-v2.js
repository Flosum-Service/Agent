function a146_0x4e6a(){const _0x4e672e=['type','files','endsWith','../data/settings-types-list','readBundledComponent','slice','isParentComponent','catch','MDApiParserV2','readFile','6027940ovmDpW','name','META_EXPERIENCES_EXTENSION','readChildComponents','default','filter','join','__importDefault','../../../../core','210568AEDqry','constructor','replace','../../internal/fs.internal','11091420gweSyU','readComponent','apply','WaveTemplateBundle','startsWith','toString','defineProperty','reduce','exists','../utils/xml-v2','378693dirTKN','readDir','102jiwIBC','../utils/crc32','31SFpQvt','../data/child-types-map','XmlV2','../../../../constants','map','META_EXTENSION','extractComponentTypeFromFiles','test','-meta.xml','../utils','.site-meta.xml','parse','values','50988EWcnlC','includes','waveTemplates','36237751JndVcD','logger','package.xml','4872988crRizu','relative','calculateCRC32','dir','paths','Settings','Logger','__esModule','push','117dMGMQo','search','3fBTAbU','crc','createChildComponentsFromParent','BUNDLED_FOLDERS_REGEXP','(((.+)+)+)+$'];a146_0x4e6a=function(){return _0x4e672e;};return a146_0x4e6a();}const a146_0x4bcadd=a146_0x260b;(function(_0x1a6bca,_0x13287e){const _0x57598d=a146_0x260b,_0x32cafb=_0x1a6bca();while(!![]){try{const _0x3b74f5=parseInt(_0x57598d(0x106))/0x1*(-parseInt(_0x57598d(0x113))/0x2)+parseInt(_0x57598d(0xdc))/0x3*(-parseInt(_0x57598d(0x119))/0x4)+-parseInt(_0x57598d(0xeb))/0x5+-parseInt(_0x57598d(0x104))/0x6*(parseInt(_0x57598d(0x102))/0x7)+-parseInt(_0x57598d(0xf4))/0x8*(-parseInt(_0x57598d(0xda))/0x9)+parseInt(_0x57598d(0xf8))/0xa+parseInt(_0x57598d(0x116))/0xb;if(_0x3b74f5===_0x13287e)break;else _0x32cafb['push'](_0x32cafb['shift']());}catch(_0x2f7439){_0x32cafb['push'](_0x32cafb['shift']());}}}(a146_0x4e6a,0x955f0));function a146_0x260b(_0x494410,_0x22d639){const _0x530b03=a146_0x4e6a();return a146_0x260b=function(_0x5480aa,_0x18ef9b){_0x5480aa=_0x5480aa-0xd7;let _0x4e6a50=_0x530b03[_0x5480aa];return _0x4e6a50;},a146_0x260b(_0x494410,_0x22d639);}const a146_0x18ef9b=(function(){let _0x390aa4=!![];return function(_0x143088,_0x15dfd5){const _0x1edef0=_0x390aa4?function(){const _0x290d8b=a146_0x260b;if(_0x15dfd5){const _0x1b0adb=_0x15dfd5[_0x290d8b(0xfa)](_0x143088,arguments);return _0x15dfd5=null,_0x1b0adb;}}:function(){};return _0x390aa4=![],_0x1edef0;};}()),a146_0x5480aa=a146_0x18ef9b(this,function(){const _0x489161=a146_0x260b;return a146_0x5480aa[_0x489161(0xfd)]()[_0x489161(0xdb)](_0x489161(0xe0))[_0x489161(0xfd)]()[_0x489161(0xf5)](a146_0x5480aa)[_0x489161(0xdb)]('(((.+)+)+)+$');});a146_0x5480aa();'use strict';var __importDefault=this&&this[a146_0x4bcadd(0xf2)]||function(_0x229c91){const _0x55c51e=a146_0x4bcadd;return _0x229c91&&_0x229c91[_0x55c51e(0xd8)]?_0x229c91:{'default':_0x229c91};};Object[a146_0x4bcadd(0xfe)](exports,a146_0x4bcadd(0xd8),{'value':!![]}),exports[a146_0x4bcadd(0xe9)]=void 0x0;const fs_internal_1=require(a146_0x4bcadd(0xf7)),utils_1=require(a146_0x4bcadd(0x10f)),path_1=require('path'),xml_v2_1=require(a146_0x4bcadd(0x101)),child_types_map_1=__importDefault(require(a146_0x4bcadd(0x107))),constants_1=require(a146_0x4bcadd(0x109)),core_1=require(a146_0x4bcadd(0xf3)),crc32_1=require(a146_0x4bcadd(0x105)),folder_types_1=__importDefault(require('../data/folder-types')),settings_types_list_1=__importDefault(require(a146_0x4bcadd(0xe4))),CHILD_XML_KEYS=Object[a146_0x4bcadd(0x112)](child_types_map_1[a146_0x4bcadd(0xef)]);class MDApiParserV2{constructor(_0x5c8440,_0x2b0d93){const _0x143caf=a146_0x4bcadd;this[_0x143caf(0x11c)]=_0x5c8440,this['paths']=_0x2b0d93,this[_0x143caf(0x117)]=new core_1[(_0x143caf(0xd7))](MDApiParserV2[_0x143caf(0xec)]),this[_0x143caf(0x10b)]=_0x143caf(0x10e),this[_0x143caf(0xed)]=_0x143caf(0x110);}async[a146_0x4bcadd(0xee)](_0x1123f3){const _0x20aa4e=a146_0x4bcadd;try{const _0x5e876a=await xml_v2_1[_0x20aa4e(0x108)]['parse'](Object['values'](_0x1123f3[_0x20aa4e(0xe2)])[0x0][_0x20aa4e(0xfd)]('utf-8')),_0x3a7e5f=CHILD_XML_KEYS[_0x20aa4e(0xf0)](_0x57579d=>xml_v2_1[_0x20aa4e(0x108)]['hasChildNodes'](_0x5e876a,_0x57579d))[_0x20aa4e(0xff)]((_0x304285,_0x2c1ea2)=>[..._0x304285,...xml_v2_1[_0x20aa4e(0x108)]['getChildsByName'](_0x5e876a,_0x2c1ea2)],[]);return(0x0,utils_1[_0x20aa4e(0xde)])(_0x1123f3,_0x5e876a,_0x3a7e5f);}catch(_0x2daf90){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x1123f3[_0x20aa4e(0xec)]+'\x20['+_0x1123f3[_0x20aa4e(0xe1)]+']');}}async['readBundledComponent'](_0x553a54){const _0x390ba=a146_0x4bcadd,_0x37756b=(0x0,path_1['join'])(this['dir'],_0x553a54),_0x29334f=_0x553a54+(_0x553a54[_0x390ba(0xfc)]('experiences')?this[_0x390ba(0xed)]:this[_0x390ba(0x10b)]),_0x44deea=await fs_internal_1['FS'][_0x390ba(0x103)](_0x37756b,!![]),_0x2f0f7f=await fs_internal_1['FS'][_0x390ba(0xea)]((0x0,path_1['join'])(this['dir'],_0x29334f),!![])[_0x390ba(0xe8)](()=>null),_0x3f3b90={};for(const _0xa2f47d of _0x44deea){_0x3f3b90[(0x0,path_1[_0x390ba(0x11a)])(this[_0x390ba(0x11c)],_0xa2f47d)[_0x390ba(0xf6)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0xa2f47d,!![]);}return _0x2f0f7f&&(_0x3f3b90[(0x0,path_1[_0x390ba(0x11a)])(this[_0x390ba(0x11c)],_0x29334f)['replace'](/\\/g,'/')]=_0x2f0f7f),_0x3f3b90;}async[a146_0x4bcadd(0xf9)](_0xdfe3d0){const _0x56fd8a=a146_0x4bcadd,_0x389537=_0xdfe3d0+this[_0x56fd8a(0x10b)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x56fd8a(0x10d)](_0xdfe3d0))return this[_0x56fd8a(0xe5)](_0xdfe3d0);if(await fs_internal_1['FS'][_0x56fd8a(0x100)]((0x0,path_1[_0x56fd8a(0xf1)])(this[_0x56fd8a(0x11c)],_0x389537))){const _0x3715f3=await fs_internal_1['FS'][_0x56fd8a(0xea)]((0x0,path_1['join'])(this[_0x56fd8a(0x11c)],_0x389537),!![]),_0x4430b2=await(0x0,utils_1[_0x56fd8a(0x10c)])({'files':{[_0x389537]:_0x3715f3}})[_0x56fd8a(0xe8)](()=>null);if(_0x4430b2&&folder_types_1[_0x56fd8a(0xef)][_0x56fd8a(0x114)](_0x4430b2))return{[_0x389537]:_0x3715f3};return{[_0x389537]:_0x3715f3,[_0xdfe3d0]:await fs_internal_1['FS'][_0x56fd8a(0xea)]((0x0,path_1['join'])(this[_0x56fd8a(0x11c)],_0xdfe3d0),!![])};}return{[_0xdfe3d0]:await fs_internal_1['FS'][_0x56fd8a(0xea)]((0x0,path_1[_0x56fd8a(0xf1)])(this[_0x56fd8a(0x11c)],_0xdfe3d0),!![])};}['foldBundledComponentsPaths'](){const _0x161ed6=a146_0x4bcadd;this[_0x161ed6(0x11d)]=this[_0x161ed6(0x11d)][_0x161ed6(0x10a)](_0x4f19d2=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x161ed6(0x10d)](_0x4f19d2)?_0x4f19d2['split']('/')[_0x161ed6(0xe6)](0x0,0x2)[_0x161ed6(0xf1)]('/'):_0x4f19d2),this[_0x161ed6(0x11d)]=[...new Set(this['paths'])];}async[a146_0x4bcadd(0x111)](){const _0x52d360=a146_0x4bcadd,_0x377a6e=[];this['foldBundledComponentsPaths']();for(const _0x269de4 of this['paths']){if(_0x269de4[_0x52d360(0xe3)](_0x52d360(0x118)))continue;const _0x4a2d0c={};try{_0x4a2d0c[_0x52d360(0xe2)]=await this['readComponent'](_0x269de4),_0x4a2d0c['filePath']=constants_1[_0x52d360(0xdf)]['test'](_0x269de4)?_0x269de4:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x4a2d0c[_0x52d360(0xe2)]}),_0x269de4[_0x52d360(0xfc)](_0x52d360(0x115))?_0x4a2d0c[_0x52d360(0xe1)]=_0x52d360(0xfb):_0x4a2d0c[_0x52d360(0xe1)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x4a2d0c[_0x52d360(0xe2)]});}catch(_0xf9f28c){this[_0x52d360(0x117)]['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x269de4,_0xf9f28c);continue;}_0x4a2d0c['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x269de4),_0x4a2d0c[_0x52d360(0xdd)]=(0x0,crc32_1[_0x52d360(0x11b)])(_0x4a2d0c);if((0x0,utils_1[_0x52d360(0xe7)])(_0x4a2d0c)){const _0x51bbbc=await this[_0x52d360(0xee)](_0x4a2d0c);_0x377a6e['push'](..._0x51bbbc);}if(_0x4a2d0c[_0x52d360(0xe1)]==='CustomLabels')continue;settings_types_list_1[_0x52d360(0xef)][_0x52d360(0x114)](_0x4a2d0c[_0x52d360(0xe1)])&&(_0x4a2d0c['type']=_0x52d360(0x11e)),_0x377a6e[_0x52d360(0xd9)](_0x4a2d0c);}return _0x377a6e;}}exports[a146_0x4bcadd(0xe9)]=MDApiParserV2;