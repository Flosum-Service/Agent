const a149_0x1eb054=a149_0x3382;(function(_0x508d2a,_0x459e7e){const _0x367934=a149_0x3382,_0x3ec2a1=_0x508d2a();while(!![]){try{const _0x1b55f4=-parseInt(_0x367934(0x111))/0x1*(-parseInt(_0x367934(0xdd))/0x2)+parseInt(_0x367934(0xe8))/0x3+parseInt(_0x367934(0x117))/0x4*(parseInt(_0x367934(0xff))/0x5)+parseInt(_0x367934(0xcf))/0x6*(parseInt(_0x367934(0xfb))/0x7)+-parseInt(_0x367934(0xf2))/0x8*(parseInt(_0x367934(0xdb))/0x9)+-parseInt(_0x367934(0xd0))/0xa*(-parseInt(_0x367934(0xf8))/0xb)+parseInt(_0x367934(0xe4))/0xc*(-parseInt(_0x367934(0xdf))/0xd);if(_0x1b55f4===_0x459e7e)break;else _0x3ec2a1['push'](_0x3ec2a1['shift']());}catch(_0x292529){_0x3ec2a1['push'](_0x3ec2a1['shift']());}}}(a149_0x2205,0x44d9d));function a149_0x2205(){const _0x43c7fe=['BUNDLED_FOLDERS_REGEXP','../../internal/fs.internal','dir','1SlhoKA','readChildComponents','../data/child-types-map','parse','CustomLabels','slice','8dLhQUs','test','META_EXTENSION','12baokDc','2277160CZSWft','foldBundledComponentsPaths','XmlV2','filter','package.xml','MDApiParserV2','error','(((.+)+)+)+$','split','WaveTemplateBundle','name','36OBZuHh','readFile','866778KkIeUi','toString','13bqRMdB','values','waveTemplates','startsWith','search','6587340VZpcAL','../data/settings-types-list','__importDefault','paths','377253ZeMPwI','META_EXPERIENCES_EXTENSION','../../../../constants','crc','__esModule','extractComponentTypeFromFiles','Settings','experiences','../utils/crc32','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','848728MxtfxP','relative','includes','endsWith','logger','./base.parser','11EzqImz','files','../utils','267134mbYDAZ','getChildsByName','readDir','replace','980355dJgMcC','catch','reduce','extractFileNameFromFiles','defineProperty','readBundledComponent','extractFilenameFromPath','join','../utils/xml-v2','type','default','../data/folder-types','push','BaseParser','createChildComponentsFromParent'];a149_0x2205=function(){return _0x43c7fe;};return a149_0x2205();}const a149_0x542b43=(function(){let _0x1bb343=!![];return function(_0x3ac008,_0x35cabe){const _0x2af9ff=_0x1bb343?function(){if(_0x35cabe){const _0x576cbc=_0x35cabe['apply'](_0x3ac008,arguments);return _0x35cabe=null,_0x576cbc;}}:function(){};return _0x1bb343=![],_0x2af9ff;};}()),a149_0x4381df=a149_0x542b43(this,function(){const _0x56a5b9=a149_0x3382;return a149_0x4381df['toString']()[_0x56a5b9(0xe3)]('(((.+)+)+)+$')[_0x56a5b9(0xde)]()['constructor'](a149_0x4381df)[_0x56a5b9(0xe3)](_0x56a5b9(0xd7));});a149_0x4381df();'use strict';var __importDefault=this&&this[a149_0x1eb054(0xe6)]||function(_0x1e9b8a){return _0x1e9b8a&&_0x1e9b8a['__esModule']?_0x1e9b8a:{'default':_0x1e9b8a};};function a149_0x3382(_0xb615d8,_0x20f44d){const _0x339064=a149_0x2205();return a149_0x3382=function(_0x4381df,_0x542b43){_0x4381df=_0x4381df-0xce;let _0x220501=_0x339064[_0x4381df];return _0x220501;},a149_0x3382(_0xb615d8,_0x20f44d);}Object[a149_0x1eb054(0x103)](exports,a149_0x1eb054(0xec),{'value':!![]}),exports[a149_0x1eb054(0xd5)]=void 0x0;const fs_internal_1=require(a149_0x1eb054(0x10f)),utils_1=require(a149_0x1eb054(0xfa)),path_1=require('path'),xml_v2_1=require(a149_0x1eb054(0x107)),child_types_map_1=__importDefault(require(a149_0x1eb054(0x113))),constants_1=require(a149_0x1eb054(0xea)),crc32_1=require(a149_0x1eb054(0xf0)),folder_types_1=__importDefault(require(a149_0x1eb054(0x10a))),settings_types_list_1=__importDefault(require(a149_0x1eb054(0xe5))),base_parser_1=require(a149_0x1eb054(0xf7)),CHILD_XML_KEYS=Object[a149_0x1eb054(0xe0)](child_types_map_1[a149_0x1eb054(0x109)]);class MDApiParserV2 extends base_parser_1[a149_0x1eb054(0x10c)]{constructor(_0x1f46e7,_0x377c2e){const _0x39e0da=a149_0x1eb054;super(MDApiParserV2['name'],_0x1f46e7,_0x377c2e),this[_0x39e0da(0xce)]='-meta.xml',this[_0x39e0da(0xe9)]='.site-meta.xml';}async[a149_0x1eb054(0x112)](_0x2376c6){const _0x3b1a94=a149_0x1eb054;try{const _0x1e0298=await xml_v2_1[_0x3b1a94(0xd2)]['parse'](Object[_0x3b1a94(0xe0)](_0x2376c6[_0x3b1a94(0xf9)])[0x0]['toString']('utf-8')),_0x268ccc=CHILD_XML_KEYS[_0x3b1a94(0xd3)](_0xb533df=>xml_v2_1['XmlV2']['hasChildNodes'](_0x1e0298,_0xb533df))[_0x3b1a94(0x101)]((_0x3e5e17,_0x4732fc)=>[..._0x3e5e17,...xml_v2_1[_0x3b1a94(0xd2)][_0x3b1a94(0xfc)](_0x1e0298,_0x4732fc)],[]);return(0x0,utils_1[_0x3b1a94(0x10d)])(_0x2376c6,_0x1e0298,_0x268ccc);}catch(_0x4fe8f6){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x2376c6[_0x3b1a94(0xda)]+'\x20['+_0x2376c6[_0x3b1a94(0x108)]+']');}}async[a149_0x1eb054(0x104)](_0xb8dbbf){const _0x5468fe=a149_0x1eb054,_0x39cc5c=(0x0,path_1[_0x5468fe(0x106)])(this[_0x5468fe(0x110)],_0xb8dbbf),_0x122551=_0xb8dbbf+(_0xb8dbbf[_0x5468fe(0xe2)](_0x5468fe(0xef))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x1ec7a1=await fs_internal_1['FS'][_0x5468fe(0xfd)](_0x39cc5c,!![]),_0x55950b=await fs_internal_1['FS'][_0x5468fe(0xdc)]((0x0,path_1[_0x5468fe(0x106)])(this[_0x5468fe(0x110)],_0x122551),!![])[_0x5468fe(0x100)](()=>null),_0x1ebc30={};for(const _0x517983 of _0x1ec7a1){_0x1ebc30[(0x0,path_1[_0x5468fe(0xf3)])(this[_0x5468fe(0x110)],_0x517983)[_0x5468fe(0xfe)](/\\/g,'/')]=await fs_internal_1['FS'][_0x5468fe(0xdc)](_0x517983,!![]);}return _0x55950b&&(_0x1ebc30[(0x0,path_1['relative'])(this[_0x5468fe(0x110)],_0x122551)[_0x5468fe(0xfe)](/\\/g,'/')]=_0x55950b),_0x1ebc30;}async['readComponent'](_0x16e18c){const _0x2fe859=a149_0x1eb054,_0xc06068=_0x16e18c+this[_0x2fe859(0xce)];if(constants_1[_0x2fe859(0x10e)][_0x2fe859(0x118)](_0x16e18c))return this[_0x2fe859(0x104)](_0x16e18c);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x2fe859(0x106)])(this['dir'],_0xc06068))){const _0x42b87c=await fs_internal_1['FS'][_0x2fe859(0xdc)]((0x0,path_1[_0x2fe859(0x106)])(this[_0x2fe859(0x110)],_0xc06068),!![]),_0x400bc0=await(0x0,utils_1[_0x2fe859(0xed)])({'files':{[_0xc06068]:_0x42b87c}})[_0x2fe859(0x100)](()=>null);if(_0x400bc0&&folder_types_1[_0x2fe859(0x109)][_0x2fe859(0xf4)](_0x400bc0))return{[_0xc06068]:_0x42b87c};return{[_0xc06068]:_0x42b87c,[_0x16e18c]:await fs_internal_1['FS'][_0x2fe859(0xdc)]((0x0,path_1[_0x2fe859(0x106)])(this[_0x2fe859(0x110)],_0x16e18c),!![])};}return{[_0x16e18c]:await fs_internal_1['FS'][_0x2fe859(0xdc)]((0x0,path_1['join'])(this[_0x2fe859(0x110)],_0x16e18c),!![])};}['foldBundledComponentsPaths'](){const _0x5947ce=a149_0x1eb054;this[_0x5947ce(0xe7)]=this[_0x5947ce(0xe7)]['map'](_0x123926=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5947ce(0x118)](_0x123926)?_0x123926[_0x5947ce(0xd8)]('/')[_0x5947ce(0x116)](0x0,0x2)[_0x5947ce(0x106)]('/'):_0x123926),this['paths']=[...new Set(this[_0x5947ce(0xe7)])];}async[a149_0x1eb054(0x114)](){const _0x5a046c=a149_0x1eb054,_0x4f15a2=[];this[_0x5a046c(0xd1)]();for(const _0x2ddc4d of this[_0x5a046c(0xe7)]){if(_0x2ddc4d[_0x5a046c(0xf5)](_0x5a046c(0xd4)))continue;const _0xf8ecf={};try{_0xf8ecf['files']=await this['readComponent'](_0x2ddc4d),_0xf8ecf['filePath']=constants_1[_0x5a046c(0x10e)][_0x5a046c(0x118)](_0x2ddc4d)?_0x2ddc4d:(0x0,utils_1[_0x5a046c(0x102)])({'files':_0xf8ecf[_0x5a046c(0xf9)]}),_0x2ddc4d[_0x5a046c(0xe2)](_0x5a046c(0xe1))?_0xf8ecf[_0x5a046c(0x108)]=_0x5a046c(0xd9):_0xf8ecf[_0x5a046c(0x108)]=await(0x0,utils_1[_0x5a046c(0xed)])({'files':_0xf8ecf['files']});}catch(_0x36db16){this[_0x5a046c(0xf6)][_0x5a046c(0xd6)](_0x5a046c(0xf1),_0x2ddc4d,_0x36db16);continue;}_0xf8ecf['name']=(0x0,utils_1[_0x5a046c(0x105)])(_0x2ddc4d),_0xf8ecf[_0x5a046c(0xeb)]=(0x0,crc32_1['calculateCRC32'])(_0xf8ecf);if((0x0,utils_1['isParentComponent'])(_0xf8ecf)){const _0x522e96=await this[_0x5a046c(0x112)](_0xf8ecf);_0x4f15a2['push'](..._0x522e96);}if(_0xf8ecf[_0x5a046c(0x108)]===_0x5a046c(0x115))continue;settings_types_list_1[_0x5a046c(0x109)]['includes'](_0xf8ecf[_0x5a046c(0x108)])&&(_0xf8ecf[_0x5a046c(0x108)]=_0x5a046c(0xee)),_0x4f15a2[_0x5a046c(0x10b)](_0xf8ecf);}return _0x4f15a2;}}exports['MDApiParserV2']=MDApiParserV2;