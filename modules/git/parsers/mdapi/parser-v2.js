const a149_0xfadb74=a149_0x2bfb;(function(_0x876921,_0xa7c5ac){const _0x52f1b7=a149_0x2bfb,_0x4366ab=_0x876921();while(!![]){try{const _0x51584b=-parseInt(_0x52f1b7(0x8b))/0x1*(-parseInt(_0x52f1b7(0xab))/0x2)+parseInt(_0x52f1b7(0xbb))/0x3+parseInt(_0x52f1b7(0xc9))/0x4*(-parseInt(_0x52f1b7(0x96))/0x5)+parseInt(_0x52f1b7(0xb4))/0x6*(-parseInt(_0x52f1b7(0x98))/0x7)+parseInt(_0x52f1b7(0xb5))/0x8+-parseInt(_0x52f1b7(0xbd))/0x9*(-parseInt(_0x52f1b7(0xa0))/0xa)+-parseInt(_0x52f1b7(0xad))/0xb;if(_0x51584b===_0xa7c5ac)break;else _0x4366ab['push'](_0x4366ab['shift']());}catch(_0x2ef401){_0x4366ab['push'](_0x4366ab['shift']());}}}(a149_0x5c41,0x22c78));function a149_0x5c41(){const _0x409b6f=['apply','path','crc','search','values','relative','391916hGesrQ','startsWith','5193133QJviwo','CustomLabels','files','.site-meta.xml','../utils','../data/child-types-map','replace','263454HvhUrN','1484480OyhIUF','push','includes','./base.parser','exists','parse','786711IGRawI','filePath','90QaFlYz','META_EXPERIENCES_EXTENSION','package.xml','utf-8','endsWith','../../internal/fs.internal','__esModule','(((.+)+)+)+$','extractComponentTypeFromFiles','../data/folder-types','extractFilenameFromPath','default','3812uapFej','META_EXTENSION','hasChildNodes','type','dir','test','BUNDLED_FOLDERS_REGEXP','name','1OIsTBs','waveTemplates','createChildComponentsFromParent','../utils/xml-v2','experiences','readFile','foldBundledComponentsPaths','-meta.xml','calculateCRC32','toString','readDir','545zlkPQZ','constructor','7mQMlcX','XmlV2','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','join','readComponent','slice','WaveTemplateBundle','../utils/crc32','118590pZzBBr','paths','MDApiParserV2','readBundledComponent','error'];a149_0x5c41=function(){return _0x409b6f;};return a149_0x5c41();}const a149_0x14d648=(function(){let _0x37ef55=!![];return function(_0xbdbcb,_0x2d9103){const _0x14ae25=_0x37ef55?function(){const _0x5931ee=a149_0x2bfb;if(_0x2d9103){const _0x1e51f7=_0x2d9103[_0x5931ee(0xa5)](_0xbdbcb,arguments);return _0x2d9103=null,_0x1e51f7;}}:function(){};return _0x37ef55=![],_0x14ae25;};}()),a149_0x2c7302=a149_0x14d648(this,function(){const _0x322058=a149_0x2bfb;return a149_0x2c7302['toString']()[_0x322058(0xa8)](_0x322058(0xc4))[_0x322058(0x94)]()[_0x322058(0x97)](a149_0x2c7302)[_0x322058(0xa8)](_0x322058(0xc4));});a149_0x2c7302();function a149_0x2bfb(_0x34bd17,_0x3d78ba){const _0xe02bfc=a149_0x5c41();return a149_0x2bfb=function(_0x2c7302,_0x14d648){_0x2c7302=_0x2c7302-0x8a;let _0x5c4176=_0xe02bfc[_0x2c7302];return _0x5c4176;},a149_0x2bfb(_0x34bd17,_0x3d78ba);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x24198b){return _0x24198b&&_0x24198b['__esModule']?_0x24198b:{'default':_0x24198b};};Object['defineProperty'](exports,a149_0xfadb74(0xc3),{'value':!![]}),exports[a149_0xfadb74(0xa2)]=void 0x0;const fs_internal_1=require(a149_0xfadb74(0xc2)),utils_1=require(a149_0xfadb74(0xb1)),path_1=require(a149_0xfadb74(0xa6)),xml_v2_1=require(a149_0xfadb74(0x8e)),child_types_map_1=__importDefault(require(a149_0xfadb74(0xb2))),constants_1=require('../../../../constants'),crc32_1=require(a149_0xfadb74(0x9f)),folder_types_1=__importDefault(require(a149_0xfadb74(0xc6))),settings_types_list_1=__importDefault(require('../data/settings-types-list')),base_parser_1=require(a149_0xfadb74(0xb8)),CHILD_XML_KEYS=Object[a149_0xfadb74(0xa9)](child_types_map_1[a149_0xfadb74(0xc8)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor(_0x33dc2f,_0x52a138){const _0x4097be=a149_0xfadb74;super(MDApiParserV2[_0x4097be(0x8a)],_0x33dc2f,_0x52a138),this[_0x4097be(0xca)]=_0x4097be(0x92),this['META_EXPERIENCES_EXTENSION']=_0x4097be(0xb0);}async['readChildComponents'](_0x465140){const _0x530c67=a149_0xfadb74;try{const _0x5b21f4=await xml_v2_1[_0x530c67(0x99)][_0x530c67(0xba)](Object[_0x530c67(0xa9)](_0x465140[_0x530c67(0xaf)])[0x0][_0x530c67(0x94)](_0x530c67(0xc0))),_0x1c5561=CHILD_XML_KEYS['filter'](_0x1625f9=>xml_v2_1[_0x530c67(0x99)][_0x530c67(0xcb)](_0x5b21f4,_0x1625f9))['reduce']((_0x551e36,_0x1eeabe)=>[..._0x551e36,...xml_v2_1[_0x530c67(0x99)]['getChildsByName'](_0x5b21f4,_0x1eeabe)],[]);return(0x0,utils_1[_0x530c67(0x8d)])(_0x465140,_0x5b21f4,_0x1c5561);}catch(_0x56a4ca){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x465140[_0x530c67(0x8a)]+'\x20['+_0x465140['type']+']');}}async[a149_0xfadb74(0xa3)](_0x57c669){const _0x4fe4c6=a149_0xfadb74,_0x47960f=(0x0,path_1[_0x4fe4c6(0x9b)])(this['dir'],_0x57c669),_0x2de6ce=_0x57c669+(_0x57c669['startsWith'](_0x4fe4c6(0x8f))?this[_0x4fe4c6(0xbe)]:this[_0x4fe4c6(0xca)]),_0x81797=await fs_internal_1['FS'][_0x4fe4c6(0x95)](_0x47960f,!![]),_0x5f1cfe=await fs_internal_1['FS'][_0x4fe4c6(0x90)]((0x0,path_1[_0x4fe4c6(0x9b)])(this['dir'],_0x2de6ce),!![])['catch'](()=>null),_0x3e8099={};for(const _0x4a4d40 of _0x81797){_0x3e8099[(0x0,path_1[_0x4fe4c6(0xaa)])(this[_0x4fe4c6(0xcd)],_0x4a4d40)[_0x4fe4c6(0xb3)](/\\/g,'/')]=await fs_internal_1['FS'][_0x4fe4c6(0x90)](_0x4a4d40,!![]);}return _0x5f1cfe&&(_0x3e8099[(0x0,path_1[_0x4fe4c6(0xaa)])(this[_0x4fe4c6(0xcd)],_0x2de6ce)['replace'](/\\/g,'/')]=_0x5f1cfe),_0x3e8099;}async[a149_0xfadb74(0x9c)](_0xf81828){const _0x4b217a=a149_0xfadb74,_0x276ccd=_0xf81828+this[_0x4b217a(0xca)];if(constants_1[_0x4b217a(0xcf)][_0x4b217a(0xce)](_0xf81828))return this[_0x4b217a(0xa3)](_0xf81828);if(await fs_internal_1['FS'][_0x4b217a(0xb9)]((0x0,path_1[_0x4b217a(0x9b)])(this['dir'],_0x276ccd))){const _0x1d8152=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x4b217a(0x9b)])(this['dir'],_0x276ccd),!![]),_0x4bb725=await(0x0,utils_1[_0x4b217a(0xc5)])({'files':{[_0x276ccd]:_0x1d8152}})['catch'](()=>null);if(_0x4bb725&&folder_types_1[_0x4b217a(0xc8)][_0x4b217a(0xb7)](_0x4bb725))return{[_0x276ccd]:_0x1d8152};return{[_0x276ccd]:_0x1d8152,[_0xf81828]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0xf81828),!![])};}return{[_0xf81828]:await fs_internal_1['FS'][_0x4b217a(0x90)]((0x0,path_1['join'])(this[_0x4b217a(0xcd)],_0xf81828),!![])};}[a149_0xfadb74(0x91)](){const _0x45839b=a149_0xfadb74;this[_0x45839b(0xa1)]=this['paths']['map'](_0x4ce413=>constants_1[_0x45839b(0xcf)]['test'](_0x4ce413)?_0x4ce413['split']('/')[_0x45839b(0x9d)](0x0,0x2)[_0x45839b(0x9b)]('/'):_0x4ce413),this[_0x45839b(0xa1)]=[...new Set(this[_0x45839b(0xa1)])];}async[a149_0xfadb74(0xba)](){const _0x361c4b=a149_0xfadb74,_0xdb753d=[];this[_0x361c4b(0x91)]();for(const _0x5bec32 of this[_0x361c4b(0xa1)]){if(_0x5bec32[_0x361c4b(0xc1)](_0x361c4b(0xbf)))continue;const _0x4dfd73={};try{_0x4dfd73['files']=await this['readComponent'](_0x5bec32),_0x4dfd73[_0x361c4b(0xbc)]=constants_1[_0x361c4b(0xcf)][_0x361c4b(0xce)](_0x5bec32)?_0x5bec32:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x4dfd73[_0x361c4b(0xaf)]}),_0x5bec32[_0x361c4b(0xac)](_0x361c4b(0x8c))?_0x4dfd73[_0x361c4b(0xcc)]=_0x361c4b(0x9e):_0x4dfd73['type']=await(0x0,utils_1[_0x361c4b(0xc5)])({'files':_0x4dfd73['files']});}catch(_0x790f69){this['logger'][_0x361c4b(0xa4)](_0x361c4b(0x9a),_0x5bec32,_0x790f69);continue;}_0x4dfd73[_0x361c4b(0x8a)]=(0x0,utils_1[_0x361c4b(0xc7)])(_0x5bec32),_0x4dfd73[_0x361c4b(0xa7)]=(0x0,crc32_1[_0x361c4b(0x93)])(_0x4dfd73);if((0x0,utils_1['isParentComponent'])(_0x4dfd73)){const _0x3e1e0c=await this['readChildComponents'](_0x4dfd73);_0xdb753d[_0x361c4b(0xb6)](..._0x3e1e0c);}if(_0x4dfd73[_0x361c4b(0xcc)]===_0x361c4b(0xae))continue;settings_types_list_1[_0x361c4b(0xc8)][_0x361c4b(0xb7)](_0x4dfd73['type'])&&(_0x4dfd73['type']='Settings'),_0xdb753d['push'](_0x4dfd73);}return _0xdb753d;}}exports[a149_0xfadb74(0xa2)]=MDApiParserV2;