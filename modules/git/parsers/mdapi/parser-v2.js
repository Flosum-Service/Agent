const a149_0x50dfaa=a149_0x27a4;(function(_0x5af283,_0x4b4489){const _0x9dd458=a149_0x27a4,_0x159e44=_0x5af283();while(!![]){try{const _0x3ba58a=parseInt(_0x9dd458(0x1e1))/0x1+-parseInt(_0x9dd458(0x1e7))/0x2*(-parseInt(_0x9dd458(0x1d3))/0x3)+-parseInt(_0x9dd458(0x1ce))/0x4*(-parseInt(_0x9dd458(0x1e5))/0x5)+-parseInt(_0x9dd458(0x1e8))/0x6*(parseInt(_0x9dd458(0x1e2))/0x7)+parseInt(_0x9dd458(0x1d9))/0x8*(parseInt(_0x9dd458(0x1d4))/0x9)+-parseInt(_0x9dd458(0x200))/0xa+-parseInt(_0x9dd458(0x20a))/0xb*(parseInt(_0x9dd458(0x1d2))/0xc);if(_0x3ba58a===_0x4b4489)break;else _0x159e44['push'](_0x159e44['shift']());}catch(_0x5b4f18){_0x159e44['push'](_0x159e44['shift']());}}}(a149_0x57a3,0xe58c5));function a149_0x27a4(_0x1cca3b,_0x12c415){const _0x39e100=a149_0x57a3();return a149_0x27a4=function(_0x4dfce6,_0x37d3f8){_0x4dfce6=_0x4dfce6-0x1ca;let _0x57a39d=_0x39e100[_0x4dfce6];return _0x57a39d;},a149_0x27a4(_0x1cca3b,_0x12c415);}const a149_0x37d3f8=(function(){let _0x1bf6b3=!![];return function(_0xb3126,_0x493502){const _0x488704=_0x1bf6b3?function(){const _0x1a663a=a149_0x27a4;if(_0x493502){const _0x1a16b6=_0x493502[_0x1a663a(0x1f9)](_0xb3126,arguments);return _0x493502=null,_0x1a16b6;}}:function(){};return _0x1bf6b3=![],_0x488704;};}()),a149_0x4dfce6=a149_0x37d3f8(this,function(){const _0x1e2c3e=a149_0x27a4;return a149_0x4dfce6[_0x1e2c3e(0x212)]()[_0x1e2c3e(0x208)](_0x1e2c3e(0x1fb))[_0x1e2c3e(0x212)]()[_0x1e2c3e(0x1e3)](a149_0x4dfce6)[_0x1e2c3e(0x208)]('(((.+)+)+)+$');});a149_0x4dfce6();'use strict';var __importDefault=this&&this[a149_0x50dfaa(0x1ed)]||function(_0x2d67d0){const _0x15ae0=a149_0x50dfaa;return _0x2d67d0&&_0x2d67d0[_0x15ae0(0x1d1)]?_0x2d67d0:{'default':_0x2d67d0};};function a149_0x57a3(){const _0x1d16a1=['reduce','error','../utils/crc32','experiences','CustomLabels','1278561IHnJXA','3203963qIINOY','constructor','META_EXTENSION','86840nXRYRY','paths','2TFjAZJ','18lqaaBd','foldBundledComponentsPaths','parse','readChildComponents','values','__importDefault','utf-8','push','exists','files','startsWith','readComponent','name','readBundledComponent','-meta.xml','test','META_EXPERIENCES_EXTENSION','apply','extractFilenameFromPath','(((.+)+)+)+$','crc','../utils/xml-v2','../utils','MDApiParserV2','2438810fucFuB','slice','extractComponentTypeFromFiles','../data/child-types-map','includes','BaseParser','replace','BUNDLED_FOLDERS_REGEXP','search','package.xml','11539NIojNZ','../data/folder-types','XmlV2','waveTemplates','filter','logger','map','hasChildNodes','toString','../../internal/fs.internal','path','relative','WaveTemplateBundle','dir','336WFOXsA','createChildComponentsFromParent','Settings','__esModule','24216QndPzq','2442465nwrJfk','10102419MBAhXY','readFile','isParentComponent','type','split','8ubURMi','join','../data/settings-types-list'];a149_0x57a3=function(){return _0x1d16a1;};return a149_0x57a3();}Object['defineProperty'](exports,a149_0x50dfaa(0x1d1),{'value':!![]}),exports[a149_0x50dfaa(0x1ff)]=void 0x0;const fs_internal_1=require(a149_0x50dfaa(0x213)),utils_1=require(a149_0x50dfaa(0x1fe)),path_1=require(a149_0x50dfaa(0x1ca)),xml_v2_1=require(a149_0x50dfaa(0x1fd)),child_types_map_1=__importDefault(require(a149_0x50dfaa(0x203))),constants_1=require('../../../../constants'),crc32_1=require(a149_0x50dfaa(0x1de)),folder_types_1=__importDefault(require(a149_0x50dfaa(0x20b))),settings_types_list_1=__importDefault(require(a149_0x50dfaa(0x1db))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a149_0x50dfaa(0x1ec)](child_types_map_1['default']);class MDApiParserV2 extends base_parser_1[a149_0x50dfaa(0x205)]{constructor(_0x3e9649,_0x3e9070){const _0x34d24d=a149_0x50dfaa;super(MDApiParserV2[_0x34d24d(0x1f4)],_0x3e9649,_0x3e9070),this[_0x34d24d(0x1e4)]=_0x34d24d(0x1f6),this[_0x34d24d(0x1f8)]='.site-meta.xml';}async[a149_0x50dfaa(0x1eb)](_0x2354c8){const _0x2edbd6=a149_0x50dfaa;try{const _0x37e496=await xml_v2_1[_0x2edbd6(0x20c)][_0x2edbd6(0x1ea)](Object[_0x2edbd6(0x1ec)](_0x2354c8[_0x2edbd6(0x1f1)])[0x0]['toString'](_0x2edbd6(0x1ee))),_0x8da9c6=CHILD_XML_KEYS[_0x2edbd6(0x20e)](_0x24c4f7=>xml_v2_1['XmlV2'][_0x2edbd6(0x211)](_0x37e496,_0x24c4f7))[_0x2edbd6(0x1dc)]((_0x1ba9f1,_0x57b105)=>[..._0x1ba9f1,...xml_v2_1['XmlV2']['getChildsByName'](_0x37e496,_0x57b105)],[]);return(0x0,utils_1[_0x2edbd6(0x1cf)])(_0x2354c8,_0x37e496,_0x8da9c6);}catch(_0x1c4ca1){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x2354c8[_0x2edbd6(0x1f4)]+'\x20['+_0x2354c8[_0x2edbd6(0x1d7)]+']');}}async[a149_0x50dfaa(0x1f5)](_0x51f2f7){const _0x2fe185=a149_0x50dfaa,_0x22ca22=(0x0,path_1[_0x2fe185(0x1da)])(this[_0x2fe185(0x1cd)],_0x51f2f7),_0x31b3fd=_0x51f2f7+(_0x51f2f7['startsWith'](_0x2fe185(0x1df))?this[_0x2fe185(0x1f8)]:this[_0x2fe185(0x1e4)]),_0x22bfda=await fs_internal_1['FS']['readDir'](_0x22ca22,!![]),_0x6d7ccb=await fs_internal_1['FS'][_0x2fe185(0x1d5)]((0x0,path_1[_0x2fe185(0x1da)])(this[_0x2fe185(0x1cd)],_0x31b3fd),!![])['catch'](()=>null),_0x41dd30={};for(const _0xab1f39 of _0x22bfda){_0x41dd30[(0x0,path_1[_0x2fe185(0x1cb)])(this[_0x2fe185(0x1cd)],_0xab1f39)[_0x2fe185(0x206)](/\\/g,'/')]=await fs_internal_1['FS'][_0x2fe185(0x1d5)](_0xab1f39,!![]);}return _0x6d7ccb&&(_0x41dd30[(0x0,path_1[_0x2fe185(0x1cb)])(this[_0x2fe185(0x1cd)],_0x31b3fd)[_0x2fe185(0x206)](/\\/g,'/')]=_0x6d7ccb),_0x41dd30;}async['readComponent'](_0x4dd71e){const _0x426b02=a149_0x50dfaa,_0x1007d7=_0x4dd71e+this[_0x426b02(0x1e4)];if(constants_1[_0x426b02(0x207)][_0x426b02(0x1f7)](_0x4dd71e))return this['readBundledComponent'](_0x4dd71e);if(await fs_internal_1['FS'][_0x426b02(0x1f0)]((0x0,path_1[_0x426b02(0x1da)])(this[_0x426b02(0x1cd)],_0x1007d7))){const _0x518629=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x426b02(0x1da)])(this[_0x426b02(0x1cd)],_0x1007d7),!![]),_0x2e8f9f=await(0x0,utils_1[_0x426b02(0x202)])({'files':{[_0x1007d7]:_0x518629}})['catch'](()=>null);if(_0x2e8f9f&&folder_types_1['default'][_0x426b02(0x204)](_0x2e8f9f))return{[_0x1007d7]:_0x518629};return{[_0x1007d7]:_0x518629,[_0x4dd71e]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x426b02(0x1da)])(this['dir'],_0x4dd71e),!![])};}return{[_0x4dd71e]:await fs_internal_1['FS'][_0x426b02(0x1d5)]((0x0,path_1[_0x426b02(0x1da)])(this[_0x426b02(0x1cd)],_0x4dd71e),!![])};}[a149_0x50dfaa(0x1e9)](){const _0x24ea60=a149_0x50dfaa;this[_0x24ea60(0x1e6)]=this[_0x24ea60(0x1e6)][_0x24ea60(0x210)](_0x3f568c=>constants_1[_0x24ea60(0x207)][_0x24ea60(0x1f7)](_0x3f568c)?_0x3f568c[_0x24ea60(0x1d8)]('/')[_0x24ea60(0x201)](0x0,0x2)[_0x24ea60(0x1da)]('/'):_0x3f568c),this[_0x24ea60(0x1e6)]=[...new Set(this[_0x24ea60(0x1e6)])];}async[a149_0x50dfaa(0x1ea)](){const _0x403c31=a149_0x50dfaa,_0x348c34=[];this[_0x403c31(0x1e9)]();for(const _0x35143f of this[_0x403c31(0x1e6)]){if(_0x35143f['endsWith'](_0x403c31(0x209)))continue;const _0x2f833f={};try{_0x2f833f[_0x403c31(0x1f1)]=await this[_0x403c31(0x1f3)](_0x35143f),_0x2f833f['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x403c31(0x1f7)](_0x35143f)?_0x35143f:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x2f833f['files']}),_0x35143f[_0x403c31(0x1f2)](_0x403c31(0x20d))?_0x2f833f[_0x403c31(0x1d7)]=_0x403c31(0x1cc):_0x2f833f['type']=await(0x0,utils_1[_0x403c31(0x202)])({'files':_0x2f833f['files']});}catch(_0x19c699){this[_0x403c31(0x20f)][_0x403c31(0x1dd)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x35143f,_0x19c699);continue;}_0x2f833f[_0x403c31(0x1f4)]=(0x0,utils_1[_0x403c31(0x1fa)])(_0x35143f),_0x2f833f[_0x403c31(0x1fc)]=(0x0,crc32_1['calculateCRC32'])(_0x2f833f);if((0x0,utils_1[_0x403c31(0x1d6)])(_0x2f833f)){const _0x2ff3b2=await this[_0x403c31(0x1eb)](_0x2f833f);_0x348c34[_0x403c31(0x1ef)](..._0x2ff3b2);}if(_0x2f833f[_0x403c31(0x1d7)]===_0x403c31(0x1e0))continue;settings_types_list_1['default']['includes'](_0x2f833f[_0x403c31(0x1d7)])&&(_0x2f833f[_0x403c31(0x1d7)]=_0x403c31(0x1d0)),_0x348c34[_0x403c31(0x1ef)](_0x2f833f);}return _0x348c34;}}exports[a149_0x50dfaa(0x1ff)]=MDApiParserV2;