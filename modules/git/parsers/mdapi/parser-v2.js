const a114_0x821946=a114_0x2f85;(function(_0x2b6743,_0xbdcf43){const _0x4040d3=a114_0x2f85,_0x133bfe=_0x2b6743();while(!![]){try{const _0x74d651=parseInt(_0x4040d3(0x1ef))/0x1+parseInt(_0x4040d3(0x1ff))/0x2*(-parseInt(_0x4040d3(0x219))/0x3)+-parseInt(_0x4040d3(0x227))/0x4+parseInt(_0x4040d3(0x21f))/0x5*(-parseInt(_0x4040d3(0x1f4))/0x6)+parseInt(_0x4040d3(0x22a))/0x7+parseInt(_0x4040d3(0x221))/0x8*(parseInt(_0x4040d3(0x20d))/0x9)+parseInt(_0x4040d3(0x211))/0xa;if(_0x74d651===_0xbdcf43)break;else _0x133bfe['push'](_0x133bfe['shift']());}catch(_0xa307a4){_0x133bfe['push'](_0x133bfe['shift']());}}}(a114_0xc84f,0x97f49));const a114_0x71d4d=(function(){let _0x4d1102=!![];return function(_0x20cc04,_0x212c10){const _0x5b2467=_0x4d1102?function(){const _0xae190c=a114_0x2f85;if(_0x212c10){const _0x471c62=_0x212c10[_0xae190c(0x22e)](_0x20cc04,arguments);return _0x212c10=null,_0x471c62;}}:function(){};return _0x4d1102=![],_0x5b2467;};}()),a114_0x18a866=a114_0x71d4d(this,function(){const _0x22dbb8=a114_0x2f85;return a114_0x18a866[_0x22dbb8(0x208)]()['search'](_0x22dbb8(0x220))[_0x22dbb8(0x208)]()[_0x22dbb8(0x1f9)](a114_0x18a866)[_0x22dbb8(0x1f0)](_0x22dbb8(0x220));});a114_0x18a866();'use strict';function a114_0xc84f(){const _0x5450d9=['defineProperty','-meta.xml','apply','dir','catch','__importDefault','406310NlBeOs','search','readComponent','readBundledComponent','../data/folder-types','2928UFRrbH','package.xml','endsWith','readDir','test','constructor','readFile','BUNDLED_FOLDERS_REGEXP','extractFilenameFromPath','foldBundledComponentsPaths','META_EXPERIENCES_EXTENSION','6NKjtDA','default','utf-8','filePath','files','paths','join','replace','readChildComponents','toString','path','META_EXTENSION','values','WaveTemplateBundle','90UlJAlu','../../../../constants','experiences','filter','6784860bqKVFl','type','Xml','../utils/xml','../utils','extractComponentTypeFromFiles','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','../utils/crc32','908403ricjHw','split','parse','push','relative','MDApiParserV2','8045xAfZzD','(((.+)+)+)+$','821896DepcQk','__esModule','error','slice','createChildComponentsFromParent','name','951216KhRAKj','includes','Cannot\x20parse\x20children\x20in\x20','3091494tGAfMx','startsWith'];a114_0xc84f=function(){return _0x5450d9;};return a114_0xc84f();}var __importDefault=this&&this[a114_0x821946(0x1ee)]||function(_0x4999ab){const _0x43873d=a114_0x821946;return _0x4999ab&&_0x4999ab[_0x43873d(0x222)]?_0x4999ab:{'default':_0x4999ab};};Object[a114_0x821946(0x22c)](exports,a114_0x821946(0x222),{'value':!![]}),exports[a114_0x821946(0x21e)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a114_0x821946(0x215)),path_1=require(a114_0x821946(0x209)),xml_1=require(a114_0x821946(0x214)),child_types_map_1=__importDefault(require('../data/child-types-map')),constants_1=require(a114_0x821946(0x20e)),core_1=require('../../../../core'),crc32_1=require(a114_0x821946(0x218)),folder_types_1=__importDefault(require(a114_0x821946(0x1f3))),CHILD_XML_KEYS=Object[a114_0x821946(0x20b)](child_types_map_1['default']);function a114_0x2f85(_0x6fe547,_0x4cf6bf){const _0x8f206a=a114_0xc84f();return a114_0x2f85=function(_0x18a866,_0x71d4d){_0x18a866=_0x18a866-0x1ec;let _0xc84f9=_0x8f206a[_0x18a866];return _0xc84f9;},a114_0x2f85(_0x6fe547,_0x4cf6bf);}class MDApiParserV2{constructor(_0x7ec16d,_0x20a0c8){const _0x519dab=a114_0x821946;this['dir']=_0x7ec16d,this[_0x519dab(0x204)]=_0x20a0c8,this['logger']=new core_1['Logger'](MDApiParserV2[_0x519dab(0x226)]),this[_0x519dab(0x20a)]=_0x519dab(0x22d),this[_0x519dab(0x1fe)]='.site-meta.xml';}async[a114_0x821946(0x207)](_0x711df1){const _0x2222d1=a114_0x821946;try{const _0x4f4922=await xml_1['Xml'][_0x2222d1(0x21b)](Object[_0x2222d1(0x20b)](_0x711df1[_0x2222d1(0x203)])[0x0][_0x2222d1(0x208)](_0x2222d1(0x201))),_0x3b8021=CHILD_XML_KEYS[_0x2222d1(0x210)](_0x5e1173=>xml_1[_0x2222d1(0x213)]['hasChildNodes'](_0x4f4922,_0x5e1173))['reduce']((_0x36e6d8,_0x2806a6)=>[..._0x36e6d8,...xml_1[_0x2222d1(0x213)]['getChildsByName'](_0x4f4922,_0x2806a6)],[]);return(0x0,utils_1[_0x2222d1(0x225)])(_0x711df1,_0x4f4922,_0x3b8021);}catch(_0x591f04){throw new Error(_0x2222d1(0x229)+_0x711df1[_0x2222d1(0x226)]+'\x20['+_0x711df1[_0x2222d1(0x212)]+']');}}async[a114_0x821946(0x1f2)](_0x315dee){const _0x1e7ad1=a114_0x821946,_0x3e58d3=(0x0,path_1[_0x1e7ad1(0x205)])(this[_0x1e7ad1(0x1ec)],_0x315dee),_0x30d634=_0x315dee+(_0x315dee[_0x1e7ad1(0x22b)](_0x1e7ad1(0x20f))?this['META_EXPERIENCES_EXTENSION']:this[_0x1e7ad1(0x20a)]),_0x4bea48=await fs_internal_1['FS'][_0x1e7ad1(0x1f7)](_0x3e58d3,!![]),_0x48290e=await fs_internal_1['FS'][_0x1e7ad1(0x1fa)]((0x0,path_1[_0x1e7ad1(0x205)])(this[_0x1e7ad1(0x1ec)],_0x30d634),!![])[_0x1e7ad1(0x1ed)](()=>null),_0x28b42d={};for(const _0x370d4e of _0x4bea48){_0x28b42d[(0x0,path_1[_0x1e7ad1(0x21d)])(this[_0x1e7ad1(0x1ec)],_0x370d4e)[_0x1e7ad1(0x206)](/\\/g,'/')]=await fs_internal_1['FS'][_0x1e7ad1(0x1fa)](_0x370d4e,!![]);}return _0x48290e&&(_0x28b42d[(0x0,path_1[_0x1e7ad1(0x21d)])(this['dir'],_0x30d634)[_0x1e7ad1(0x206)](/\\/g,'/')]=_0x48290e),_0x28b42d;}async[a114_0x821946(0x1f1)](_0x3500e7){const _0x12cf41=a114_0x821946,_0x52ac11=_0x3500e7+this[_0x12cf41(0x20a)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x12cf41(0x1f8)](_0x3500e7))return this[_0x12cf41(0x1f2)](_0x3500e7);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x12cf41(0x205)])(this[_0x12cf41(0x1ec)],_0x52ac11))){const _0x1761a3=await fs_internal_1['FS'][_0x12cf41(0x1fa)]((0x0,path_1[_0x12cf41(0x205)])(this[_0x12cf41(0x1ec)],_0x52ac11),!![]),_0x651d2=await(0x0,utils_1[_0x12cf41(0x216)])({'files':{[_0x52ac11]:_0x1761a3}})[_0x12cf41(0x1ed)](()=>null);if(_0x651d2&&folder_types_1[_0x12cf41(0x200)][_0x12cf41(0x228)](_0x651d2))return{[_0x52ac11]:_0x1761a3};return{[_0x52ac11]:_0x1761a3,[_0x3500e7]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x12cf41(0x205)])(this[_0x12cf41(0x1ec)],_0x3500e7),!![])};}return{[_0x3500e7]:await fs_internal_1['FS'][_0x12cf41(0x1fa)]((0x0,path_1[_0x12cf41(0x205)])(this[_0x12cf41(0x1ec)],_0x3500e7),!![])};}['foldBundledComponentsPaths'](){const _0x3b5080=a114_0x821946;this[_0x3b5080(0x204)]=this['paths']['map'](_0x169bce=>constants_1[_0x3b5080(0x1fb)][_0x3b5080(0x1f8)](_0x169bce)?_0x169bce[_0x3b5080(0x21a)]('/')[_0x3b5080(0x224)](0x0,0x2)[_0x3b5080(0x205)]('/'):_0x169bce),this[_0x3b5080(0x204)]=[...new Set(this['paths'])];}async['parse'](){const _0x21d9b7=a114_0x821946,_0x4334a4=[];this[_0x21d9b7(0x1fd)]();for(const _0x59ef1c of this['paths']){if(_0x59ef1c[_0x21d9b7(0x1f6)](_0x21d9b7(0x1f5)))continue;const _0x29798e={};try{_0x29798e['files']=await this['readComponent'](_0x59ef1c),_0x29798e[_0x21d9b7(0x202)]=constants_1[_0x21d9b7(0x1fb)]['test'](_0x59ef1c)?_0x59ef1c:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x29798e[_0x21d9b7(0x203)]}),_0x59ef1c[_0x21d9b7(0x22b)]('waveTemplates')?_0x29798e[_0x21d9b7(0x212)]=_0x21d9b7(0x20c):_0x29798e['type']=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x29798e[_0x21d9b7(0x203)]});}catch(_0x308357){this['logger'][_0x21d9b7(0x223)](_0x21d9b7(0x217),_0x59ef1c,_0x308357);continue;}_0x29798e[_0x21d9b7(0x226)]=(0x0,utils_1[_0x21d9b7(0x1fc)])(_0x59ef1c),_0x29798e['crc']=(0x0,crc32_1['calculateCRC32'])(_0x29798e);if((0x0,utils_1['isParentComponent'])(_0x29798e)){const _0x3b8096=await this['readChildComponents'](_0x29798e);_0x4334a4['push'](..._0x3b8096);}if(_0x29798e[_0x21d9b7(0x212)]==='CustomLabels')continue;_0x4334a4[_0x21d9b7(0x21c)](_0x29798e);}return _0x4334a4;}}exports[a114_0x821946(0x21e)]=MDApiParserV2;