const a149_0x27a7d9=a149_0x2ce1;(function(_0xae7614,_0x1e176d){const _0x3bed84=a149_0x2ce1,_0x23593c=_0xae7614();while(!![]){try{const _0x42e598=parseInt(_0x3bed84(0x12a))/0x1*(-parseInt(_0x3bed84(0xf9))/0x2)+parseInt(_0x3bed84(0x114))/0x3*(parseInt(_0x3bed84(0x121))/0x4)+-parseInt(_0x3bed84(0x124))/0x5+parseInt(_0x3bed84(0xf2))/0x6*(-parseInt(_0x3bed84(0x11c))/0x7)+parseInt(_0x3bed84(0xf0))/0x8*(-parseInt(_0x3bed84(0xf4))/0x9)+-parseInt(_0x3bed84(0x11f))/0xa*(parseInt(_0x3bed84(0x10d))/0xb)+parseInt(_0x3bed84(0x126))/0xc*(parseInt(_0x3bed84(0x11e))/0xd);if(_0x42e598===_0x1e176d)break;else _0x23593c['push'](_0x23593c['shift']());}catch(_0x4543d3){_0x23593c['push'](_0x23593c['shift']());}}}(a149_0x477b,0xd62d2));const a149_0xf765c1=(function(){let _0x35904d=!![];return function(_0x435181,_0xba766e){const _0x5e239b=_0x35904d?function(){const _0x368a11=a149_0x2ce1;if(_0xba766e){const _0x11d622=_0xba766e[_0x368a11(0x105)](_0x435181,arguments);return _0xba766e=null,_0x11d622;}}:function(){};return _0x35904d=![],_0x5e239b;};}()),a149_0x44a21e=a149_0xf765c1(this,function(){const _0x58e9dc=a149_0x2ce1;return a149_0x44a21e[_0x58e9dc(0x12e)]()['search'](_0x58e9dc(0x12d))['toString']()[_0x58e9dc(0x111)](a149_0x44a21e)[_0x58e9dc(0x106)]('(((.+)+)+)+$');});a149_0x44a21e();'use strict';var __importDefault=this&&this[a149_0x27a7d9(0x135)]||function(_0x38460a){const _0x56b6e4=a149_0x27a7d9;return _0x38460a&&_0x38460a[_0x56b6e4(0xec)]?_0x38460a:{'default':_0x38460a};};function a149_0x2ce1(_0x3f055a,_0x3ad9d6){const _0x46ba1f=a149_0x477b();return a149_0x2ce1=function(_0x44a21e,_0xf765c1){_0x44a21e=_0x44a21e-0xec;let _0x477b63=_0x46ba1f[_0x44a21e];return _0x477b63;},a149_0x2ce1(_0x3f055a,_0x3ad9d6);}Object[a149_0x27a7d9(0x132)](exports,'__esModule',{'value':!![]}),exports[a149_0x27a7d9(0x138)]=void 0x0;const fs_internal_1=require(a149_0x27a7d9(0x120)),utils_1=require('../utils'),path_1=require(a149_0x27a7d9(0x129)),xml_v2_1=require(a149_0x27a7d9(0x116)),child_types_map_1=__importDefault(require(a149_0x27a7d9(0x117))),constants_1=require('../../../../constants'),crc32_1=require(a149_0x27a7d9(0xfd)),folder_types_1=__importDefault(require(a149_0x27a7d9(0x118))),settings_types_list_1=__importDefault(require(a149_0x27a7d9(0xfa))),base_parser_1=require(a149_0x27a7d9(0x136)),CHILD_XML_KEYS=Object[a149_0x27a7d9(0x137)](child_types_map_1[a149_0x27a7d9(0x112)]);function a149_0x477b(){const _0xba2bdb=['../data/settings-types-list','utf-8','foldBundledComponentsPaths','../utils/crc32','waveTemplates','join','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','filter','slice','experiences','-meta.xml','apply','search','paths','package.xml','test','CustomLabels','replace','readComponent','11WVpCpm','filePath','createChildComponentsFromParent','includes','constructor','default','name','6iQciMV','parse','../utils/xml-v2','../data/child-types-map','../data/folder-types','getChildsByName','files','readFile','2330279gJvBXd','crc','468NfYsKt','510190tWgGih','../../internal/fs.internal','2566516faSUSh','extractFilenameFromPath','type','2118155EEOigA','WaveTemplateBundle','768648xRLzmT','startsWith','map','path','311711PDinBC','readChildComponents','push','(((.+)+)+)+$','toString','META_EXPERIENCES_EXTENSION','dir','readDir','defineProperty','extractFileNameFromFiles','hasChildNodes','__importDefault','./base.parser','values','MDApiParserV2','Settings','XmlV2','__esModule','endsWith','.site-meta.xml','split','136LGFXzm','extractComponentTypeFromFiles','6gWKHEP','META_EXTENSION','678159QfRbFp','BaseParser','relative','BUNDLED_FOLDERS_REGEXP','catch','4EqxfLH'];a149_0x477b=function(){return _0xba2bdb;};return a149_0x477b();}class MDApiParserV2 extends base_parser_1[a149_0x27a7d9(0xf5)]{constructor(_0x3ca10e,_0xd3121b){const _0x3cf9d5=a149_0x27a7d9;super(MDApiParserV2[_0x3cf9d5(0x113)],_0x3ca10e,_0xd3121b),this[_0x3cf9d5(0xf3)]=_0x3cf9d5(0x104),this[_0x3cf9d5(0x12f)]=_0x3cf9d5(0xee);}async[a149_0x27a7d9(0x12b)](_0x4e5b69){const _0x4d2b14=a149_0x27a7d9;try{const _0x19a004=await xml_v2_1[_0x4d2b14(0x13a)]['parse'](Object[_0x4d2b14(0x137)](_0x4e5b69[_0x4d2b14(0x11a)])[0x0][_0x4d2b14(0x12e)](_0x4d2b14(0xfb))),_0x2d0bd2=CHILD_XML_KEYS[_0x4d2b14(0x101)](_0x53e866=>xml_v2_1[_0x4d2b14(0x13a)][_0x4d2b14(0x134)](_0x19a004,_0x53e866))['reduce']((_0xac12e0,_0xc68a0a)=>[..._0xac12e0,...xml_v2_1['XmlV2'][_0x4d2b14(0x119)](_0x19a004,_0xc68a0a)],[]);return(0x0,utils_1[_0x4d2b14(0x10f)])(_0x4e5b69,_0x19a004,_0x2d0bd2);}catch(_0xa9f938){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x4e5b69[_0x4d2b14(0x113)]+'\x20['+_0x4e5b69[_0x4d2b14(0x123)]+']');}}async['readBundledComponent'](_0x19ee94){const _0x564e88=a149_0x27a7d9,_0x20024d=(0x0,path_1[_0x564e88(0xff)])(this[_0x564e88(0x130)],_0x19ee94),_0x5c864e=_0x19ee94+(_0x19ee94[_0x564e88(0x127)](_0x564e88(0x103))?this[_0x564e88(0x12f)]:this[_0x564e88(0xf3)]),_0x338837=await fs_internal_1['FS'][_0x564e88(0x131)](_0x20024d,!![]),_0xa348ed=await fs_internal_1['FS'][_0x564e88(0x11b)]((0x0,path_1[_0x564e88(0xff)])(this['dir'],_0x5c864e),!![])[_0x564e88(0xf8)](()=>null),_0xbf447={};for(const _0x585754 of _0x338837){_0xbf447[(0x0,path_1[_0x564e88(0xf6)])(this[_0x564e88(0x130)],_0x585754)[_0x564e88(0x10b)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x585754,!![]);}return _0xa348ed&&(_0xbf447[(0x0,path_1[_0x564e88(0xf6)])(this['dir'],_0x5c864e)[_0x564e88(0x10b)](/\\/g,'/')]=_0xa348ed),_0xbf447;}async[a149_0x27a7d9(0x10c)](_0x101928){const _0x5ee492=a149_0x27a7d9,_0x3f67e0=_0x101928+this['META_EXTENSION'];if(constants_1[_0x5ee492(0xf7)][_0x5ee492(0x109)](_0x101928))return this['readBundledComponent'](_0x101928);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x5ee492(0xff)])(this[_0x5ee492(0x130)],_0x3f67e0))){const _0x17158f=await fs_internal_1['FS'][_0x5ee492(0x11b)]((0x0,path_1[_0x5ee492(0xff)])(this[_0x5ee492(0x130)],_0x3f67e0),!![]),_0x28d79e=await(0x0,utils_1[_0x5ee492(0xf1)])({'files':{[_0x3f67e0]:_0x17158f}})[_0x5ee492(0xf8)](()=>null);if(_0x28d79e&&folder_types_1[_0x5ee492(0x112)][_0x5ee492(0x110)](_0x28d79e))return{[_0x3f67e0]:_0x17158f};return{[_0x3f67e0]:_0x17158f,[_0x101928]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x5ee492(0x130)],_0x101928),!![])};}return{[_0x101928]:await fs_internal_1['FS'][_0x5ee492(0x11b)]((0x0,path_1[_0x5ee492(0xff)])(this[_0x5ee492(0x130)],_0x101928),!![])};}[a149_0x27a7d9(0xfc)](){const _0x166d5c=a149_0x27a7d9;this[_0x166d5c(0x107)]=this['paths'][_0x166d5c(0x128)](_0x7ed23b=>constants_1[_0x166d5c(0xf7)][_0x166d5c(0x109)](_0x7ed23b)?_0x7ed23b[_0x166d5c(0xef)]('/')[_0x166d5c(0x102)](0x0,0x2)['join']('/'):_0x7ed23b),this['paths']=[...new Set(this[_0x166d5c(0x107)])];}async[a149_0x27a7d9(0x115)](){const _0x2c19f0=a149_0x27a7d9,_0x46c803=[];this[_0x2c19f0(0xfc)]();for(const _0x21af67 of this[_0x2c19f0(0x107)]){if(_0x21af67[_0x2c19f0(0xed)](_0x2c19f0(0x108)))continue;const _0x1868bd={};try{_0x1868bd[_0x2c19f0(0x11a)]=await this[_0x2c19f0(0x10c)](_0x21af67),_0x1868bd[_0x2c19f0(0x10e)]=constants_1[_0x2c19f0(0xf7)][_0x2c19f0(0x109)](_0x21af67)?_0x21af67:(0x0,utils_1[_0x2c19f0(0x133)])({'files':_0x1868bd[_0x2c19f0(0x11a)]}),_0x21af67[_0x2c19f0(0x127)](_0x2c19f0(0xfe))?_0x1868bd[_0x2c19f0(0x123)]=_0x2c19f0(0x125):_0x1868bd[_0x2c19f0(0x123)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x1868bd[_0x2c19f0(0x11a)]});}catch(_0x2cd193){this['logger']['error'](_0x2c19f0(0x100),_0x21af67,_0x2cd193);continue;}_0x1868bd[_0x2c19f0(0x113)]=(0x0,utils_1[_0x2c19f0(0x122)])(_0x21af67),_0x1868bd[_0x2c19f0(0x11d)]=(0x0,crc32_1['calculateCRC32'])(_0x1868bd);if((0x0,utils_1['isParentComponent'])(_0x1868bd)){const _0x35edd7=await this[_0x2c19f0(0x12b)](_0x1868bd);_0x46c803[_0x2c19f0(0x12c)](..._0x35edd7);}if(_0x1868bd[_0x2c19f0(0x123)]===_0x2c19f0(0x10a))continue;settings_types_list_1[_0x2c19f0(0x112)][_0x2c19f0(0x110)](_0x1868bd[_0x2c19f0(0x123)])&&(_0x1868bd[_0x2c19f0(0x123)]=_0x2c19f0(0x139)),_0x46c803[_0x2c19f0(0x12c)](_0x1868bd);}return _0x46c803;}}exports['MDApiParserV2']=MDApiParserV2;