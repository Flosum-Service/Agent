const a114_0x138ed0=a114_0x5ead;(function(_0x5134df,_0xf8f4b2){const _0x564f82=a114_0x5ead,_0xf0616e=_0x5134df();while(!![]){try{const _0x400f20=parseInt(_0x564f82(0x18e))/0x1+-parseInt(_0x564f82(0x15e))/0x2+-parseInt(_0x564f82(0x18a))/0x3+-parseInt(_0x564f82(0x199))/0x4*(parseInt(_0x564f82(0x181))/0x5)+-parseInt(_0x564f82(0x190))/0x6+parseInt(_0x564f82(0x164))/0x7+parseInt(_0x564f82(0x170))/0x8;if(_0x400f20===_0xf8f4b2)break;else _0xf0616e['push'](_0xf0616e['shift']());}catch(_0x49d935){_0xf0616e['push'](_0xf0616e['shift']());}}}(a114_0xf3fd,0x72b92));const a114_0x300804=(function(){let _0x9a0b1a=!![];return function(_0x577232,_0xb51f49){const _0x395e76=_0x9a0b1a?function(){if(_0xb51f49){const _0x4da8ce=_0xb51f49['apply'](_0x577232,arguments);return _0xb51f49=null,_0x4da8ce;}}:function(){};return _0x9a0b1a=![],_0x395e76;};}()),a114_0x46aff4=a114_0x300804(this,function(){const _0x35ac32=a114_0x5ead;return a114_0x46aff4[_0x35ac32(0x18d)]()['search'](_0x35ac32(0x166))[_0x35ac32(0x18d)]()['constructor'](a114_0x46aff4)[_0x35ac32(0x192)]('(((.+)+)+)+$');});a114_0x46aff4();'use strict';var __importDefault=this&&this[a114_0x138ed0(0x180)]||function(_0x5a5dab){const _0x2ef7b4=a114_0x138ed0;return _0x5a5dab&&_0x5a5dab[_0x2ef7b4(0x198)]?_0x5a5dab:{'default':_0x5a5dab};};Object[a114_0x138ed0(0x17a)](exports,'__esModule',{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),utils_1=require(a114_0x138ed0(0x173)),path_1=require(a114_0x138ed0(0x168)),xml_1=require('../utils/xml'),child_types_map_1=__importDefault(require(a114_0x138ed0(0x15c))),constants_1=require(a114_0x138ed0(0x16e)),core_1=require(a114_0x138ed0(0x16d)),crc32_1=require('../utils/crc32'),folder_types_1=__importDefault(require('../data/folder-types')),CHILD_XML_KEYS=Object[a114_0x138ed0(0x195)](child_types_map_1[a114_0x138ed0(0x187)]);class MDApiParserV2{constructor(_0x40b6e1,_0x5a16ce){const _0x85404a=a114_0x138ed0;this['dir']=_0x40b6e1,this[_0x85404a(0x193)]=_0x5a16ce,this[_0x85404a(0x185)]=new core_1[(_0x85404a(0x159))](MDApiParserV2[_0x85404a(0x174)]),this['META_EXTENSION']='-meta.xml',this[_0x85404a(0x169)]='.site-meta.xml';}async['readChildComponents'](_0x16fd3f){const _0x104ae2=a114_0x138ed0;try{const _0x460b13=await xml_1['Xml'][_0x104ae2(0x183)](Object['values'](_0x16fd3f[_0x104ae2(0x17c)])[0x0]['toString'](_0x104ae2(0x17d))),_0x778780=CHILD_XML_KEYS['filter'](_0x5c5f31=>xml_1['Xml'][_0x104ae2(0x158)](_0x460b13,_0x5c5f31))[_0x104ae2(0x165)]((_0xe85195,_0x1eef63)=>[..._0xe85195,...xml_1['Xml'][_0x104ae2(0x163)](_0x460b13,_0x1eef63)],[]);return(0x0,utils_1[_0x104ae2(0x186)])(_0x16fd3f,_0x460b13,_0x778780);}catch(_0x23015d){throw new Error(_0x104ae2(0x184)+_0x16fd3f['name']+'\x20['+_0x16fd3f[_0x104ae2(0x177)]+']');}}async['readBundledComponent'](_0x423d42){const _0x1e7d9f=a114_0x138ed0,_0x6ce21c=(0x0,path_1['join'])(this['dir'],_0x423d42),_0x3856f8=_0x423d42+(_0x423d42[_0x1e7d9f(0x162)](_0x1e7d9f(0x16c))?this['META_EXPERIENCES_EXTENSION']:this[_0x1e7d9f(0x189)]),_0x4034bb=await fs_internal_1['FS']['readDir'](_0x6ce21c,!![]),_0x3e0e77=await fs_internal_1['FS'][_0x1e7d9f(0x16a)]((0x0,path_1['join'])(this[_0x1e7d9f(0x179)],_0x3856f8),!![])['catch'](()=>null),_0x1eb40a={};for(const _0x19efb3 of _0x4034bb){_0x1eb40a[(0x0,path_1['relative'])(this[_0x1e7d9f(0x179)],_0x19efb3)[_0x1e7d9f(0x18c)](/\\/g,'/')]=await fs_internal_1['FS'][_0x1e7d9f(0x16a)](_0x19efb3,!![]);}return _0x3e0e77&&(_0x1eb40a[(0x0,path_1['relative'])(this[_0x1e7d9f(0x179)],_0x3856f8)[_0x1e7d9f(0x18c)](/\\/g,'/')]=_0x3e0e77),_0x1eb40a;}async['readComponent'](_0x1d7233){const _0x105caf=a114_0x138ed0,_0x205de9=_0x1d7233+this[_0x105caf(0x189)];if(constants_1[_0x105caf(0x17f)][_0x105caf(0x15d)](_0x1d7233))return this[_0x105caf(0x18f)](_0x1d7233);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x105caf(0x182)])(this[_0x105caf(0x179)],_0x205de9))){const _0x5e08f8=await fs_internal_1['FS'][_0x105caf(0x16a)]((0x0,path_1[_0x105caf(0x182)])(this[_0x105caf(0x179)],_0x205de9),!![]),_0x5cad14=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x205de9]:_0x5e08f8}})[_0x105caf(0x161)](()=>null);if(_0x5cad14&&folder_types_1[_0x105caf(0x187)][_0x105caf(0x178)](_0x5cad14))return{[_0x205de9]:_0x5e08f8};return{[_0x205de9]:_0x5e08f8,[_0x1d7233]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x105caf(0x182)])(this['dir'],_0x1d7233),!![])};}return{[_0x1d7233]:await fs_internal_1['FS'][_0x105caf(0x16a)]((0x0,path_1['join'])(this['dir'],_0x1d7233),!![])};}[a114_0x138ed0(0x191)](){const _0x5f3307=a114_0x138ed0;this['paths']=this['paths'][_0x5f3307(0x17b)](_0x44d3a4=>constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x44d3a4)?_0x44d3a4[_0x5f3307(0x15a)]('/')[_0x5f3307(0x176)](0x0,0x2)[_0x5f3307(0x182)]('/'):_0x44d3a4),this[_0x5f3307(0x193)]=[...new Set(this[_0x5f3307(0x193)])];}async[a114_0x138ed0(0x183)](){const _0x177065=a114_0x138ed0,_0x110065=[];this['foldBundledComponentsPaths']();for(const _0x59f0cf of this['paths']){if(_0x59f0cf['endsWith'](_0x177065(0x15f)))continue;const _0x2d1171={};try{_0x2d1171[_0x177065(0x17c)]=await this[_0x177065(0x194)](_0x59f0cf),_0x2d1171[_0x177065(0x188)]=constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x59f0cf)?_0x59f0cf:(0x0,utils_1[_0x177065(0x16f)])({'files':_0x2d1171[_0x177065(0x17c)]}),_0x59f0cf[_0x177065(0x162)](_0x177065(0x18b))?_0x2d1171[_0x177065(0x177)]=_0x177065(0x17e):_0x2d1171[_0x177065(0x177)]=await(0x0,utils_1[_0x177065(0x175)])({'files':_0x2d1171['files']});}catch(_0xa9f7c2){this['logger'][_0x177065(0x171)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x59f0cf,_0xa9f7c2);continue;}_0x2d1171[_0x177065(0x174)]=(0x0,utils_1[_0x177065(0x172)])(_0x59f0cf),_0x2d1171[_0x177065(0x16b)]=(0x0,crc32_1[_0x177065(0x167)])(_0x2d1171);if((0x0,utils_1['isParentComponent'])(_0x2d1171)){const _0x20718a=await this[_0x177065(0x196)](_0x2d1171);_0x110065[_0x177065(0x15b)](..._0x20718a);}if(_0x2d1171[_0x177065(0x177)]===_0x177065(0x160))continue;_0x110065[_0x177065(0x15b)](_0x2d1171);}return _0x110065;}}function a114_0x5ead(_0x29708d,_0x185896){const _0x69da8d=a114_0xf3fd();return a114_0x5ead=function(_0x46aff4,_0x300804){_0x46aff4=_0x46aff4-0x158;let _0xf3fd5d=_0x69da8d[_0x46aff4];return _0xf3fd5d;},a114_0x5ead(_0x29708d,_0x185896);}function a114_0xf3fd(){const _0x2bc0bf=['Logger','split','push','../data/child-types-map','test','1208258oNVqqm','package.xml','CustomLabels','catch','startsWith','getChildsByName','83818DvhXsU','reduce','(((.+)+)+)+$','calculateCRC32','path','META_EXPERIENCES_EXTENSION','readFile','crc','experiences','../../../../core','../../../../constants','extractFileNameFromFiles','9846816Spwqqs','error','extractFilenameFromPath','../utils','name','extractComponentTypeFromFiles','slice','type','includes','dir','defineProperty','map','files','utf-8','WaveTemplateBundle','BUNDLED_FOLDERS_REGEXP','__importDefault','1935EcpodJ','join','parse','Cannot\x20parse\x20children\x20in\x20','logger','createChildComponentsFromParent','default','filePath','META_EXTENSION','1370439NpwsbO','waveTemplates','replace','toString','751217dFxzXv','readBundledComponent','436272UWhBfV','foldBundledComponentsPaths','search','paths','readComponent','values','readChildComponents','MDApiParserV2','__esModule','4036wXfZnD','hasChildNodes'];a114_0xf3fd=function(){return _0x2bc0bf;};return a114_0xf3fd();}exports[a114_0x138ed0(0x197)]=MDApiParserV2;