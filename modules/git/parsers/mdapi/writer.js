const a153_0x908d7d=a153_0x54f8;(function(_0x5669c8,_0x546579){const _0x4a666c=a153_0x54f8,_0x4e95ba=_0x5669c8();while(!![]){try{const _0xb43fec=-parseInt(_0x4a666c(0x184))/0x1+-parseInt(_0x4a666c(0x1ab))/0x2+-parseInt(_0x4a666c(0x181))/0x3*(-parseInt(_0x4a666c(0x1a0))/0x4)+-parseInt(_0x4a666c(0x1b3))/0x5+parseInt(_0x4a666c(0x1b1))/0x6*(parseInt(_0x4a666c(0x19e))/0x7)+-parseInt(_0x4a666c(0x18c))/0x8*(-parseInt(_0x4a666c(0x186))/0x9)+-parseInt(_0x4a666c(0x18f))/0xa;if(_0xb43fec===_0x546579)break;else _0x4e95ba['push'](_0x4e95ba['shift']());}catch(_0x2258a1){_0x4e95ba['push'](_0x4e95ba['shift']());}}}(a153_0x508e,0xbe334));const a153_0x40d968=(function(){let _0x5635df=!![];return function(_0x3e069e,_0x3c44cd){const _0x53b2b8=_0x5635df?function(){const _0x42363e=a153_0x54f8;if(_0x3c44cd){const _0x26f799=_0x3c44cd[_0x42363e(0x189)](_0x3e069e,arguments);return _0x3c44cd=null,_0x26f799;}}:function(){};return _0x5635df=![],_0x53b2b8;};}()),a153_0x3be2f0=a153_0x40d968(this,function(){const _0x466cb0=a153_0x54f8;return a153_0x3be2f0[_0x466cb0(0x1a2)]()[_0x466cb0(0x19f)](_0x466cb0(0x17b))[_0x466cb0(0x1a2)]()[_0x466cb0(0x19b)](a153_0x3be2f0)[_0x466cb0(0x19f)](_0x466cb0(0x17b));});a153_0x3be2f0();'use strict';function a153_0x508e(){const _0x5d2f8d=['search','2014444JBodhl','keys','toString','sourceDir','readZip','../../../../core','fileName','InvalidXmlError','skipChildErrors','text','__importDefault','2096542moQCpY','../utils/zip','all','fileType','path','handleXmlParsingError','3482310RyRSRe','writeFile','105615voESuM','Logger','../utils/xml-v2','Zip','exists','(((.+)+)+)+$','MDApiWriter','catch','join','__esModule','writeParent','3WwvGGI','parentComponents','nodebuffer','288482NuUtfu','log','18vvyXbX','start','MAX_WRITES_PER_TICK','apply','components','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','3881272eLazzS','dir','parse','4977630aGoTun','body','../data/child-types','map','internalLogger','length','default','XmlV2','async','have\x20to\x20write\x20%d\x20files','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','name','constructor','files','../../internal/fs.internal','14kECxkO'];a153_0x508e=function(){return _0x5d2f8d;};return a153_0x508e();}var __importDefault=this&&this[a153_0x908d7d(0x1aa)]||function(_0x26bfd9){const _0x3d848b=a153_0x908d7d;return _0x26bfd9&&_0x26bfd9[_0x3d848b(0x17f)]?_0x26bfd9:{'default':_0x26bfd9};};Object['defineProperty'](exports,a153_0x908d7d(0x17f),{'value':!![]}),exports[a153_0x908d7d(0x17c)]=void 0x0;function a153_0x54f8(_0xa9b2a9,_0x3d84e1){const _0x523e91=a153_0x508e();return a153_0x54f8=function(_0x3be2f0,_0x40d968){_0x3be2f0=_0x3be2f0-0x17b;let _0x508e07=_0x523e91[_0x3be2f0];return _0x508e07;},a153_0x54f8(_0xa9b2a9,_0x3d84e1);}const path_1=__importDefault(require(a153_0x908d7d(0x1af))),core_1=require(a153_0x908d7d(0x1a5)),fs_internal_1=require(a153_0x908d7d(0x19d)),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_v2_1=require(a153_0x908d7d(0x1b5)),zip_1=require(a153_0x908d7d(0x1ac)),child_types_1=__importDefault(require(a153_0x908d7d(0x191)));class MDApiWriter{constructor({components:_0x46a2be,sourceDir:_0x53e955,skipChildErrors:_0x469724}){const _0x15f28d=a153_0x908d7d;this[_0x15f28d(0x188)]=0x64,this[_0x15f28d(0x182)]={},this[_0x15f28d(0x193)]=new core_1[(_0x15f28d(0x1b4))](MDApiWriter[_0x15f28d(0x19a)]),this['components']=_0x46a2be,this[_0x15f28d(0x1a3)]=_0x53e955,this['skipChildErrors']=_0x469724;}async[a153_0x908d7d(0x1a4)](_0x2b0b6b,_0x3239bd=![]){const _0x4f4ec2=a153_0x908d7d,_0x1dc5bc=await zip_1[_0x4f4ec2(0x1b6)]['unzip'](_0x2b0b6b),_0x576d21=[];for(const _0x1ab16c of Object[_0x4f4ec2(0x1a1)](_0x1dc5bc[_0x4f4ec2(0x19c)])){!_0x1dc5bc[_0x4f4ec2(0x19c)][_0x1ab16c][_0x4f4ec2(0x18d)]&&_0x576d21['push']({'filename':_0x1ab16c,'body':await _0x1dc5bc['files'][_0x1ab16c][_0x4f4ec2(0x197)](_0x3239bd?_0x4f4ec2(0x183):_0x4f4ec2(0x1a9))});}return _0x576d21;}async['writeParent'](_0x996db8){const _0x56fe98=a153_0x908d7d;try{const _0x50a2a7=await this[_0x56fe98(0x1a4)](_0x996db8['body'],!![]);await Promise[_0x56fe98(0x1ad)](_0x50a2a7[_0x56fe98(0x192)](({filename:_0x5e0ff1,body:_0x355ccf})=>fs_internal_1['FS'][_0x56fe98(0x1b2)](path_1[_0x56fe98(0x195)][_0x56fe98(0x17e)](this[_0x56fe98(0x1a3)],_0x5e0ff1),_0x355ccf)));}catch(_0x1fa019){throw new Error(_0x56fe98(0x18b)+_0x996db8[_0x56fe98(0x1a6)]+'\x20['+_0x996db8[_0x56fe98(0x1ae)]+'].\x20Original\x20error:\x20'+_0x1fa019);}}['handleXmlParsingError'](_0x2c4554,_0x6e2c4b){const _0x2ade73=a153_0x908d7d;throw new invalid_xml_error_1[(_0x2ade73(0x1a7))](_0x2ade73(0x199)+_0x6e2c4b[_0x2ade73(0x1a6)]+'\x20['+_0x6e2c4b[_0x2ade73(0x1ae)]+'].\x20Original\x20error:\x20'+_0x2c4554);}async['writeChild'](_0x31f237){const _0x4c93bc=a153_0x908d7d,{filename:_0x679dbc,body:_0xa65cae}=(await this[_0x4c93bc(0x1a4)](_0x31f237[_0x4c93bc(0x190)]))[0x0];try{if(!this[_0x4c93bc(0x182)][_0x679dbc]){const _0x12113d=path_1[_0x4c93bc(0x195)][_0x4c93bc(0x17e)](this[_0x4c93bc(0x1a3)],_0x679dbc);if(await fs_internal_1['FS'][_0x4c93bc(0x1b7)](_0x12113d)){const _0xbc1c0a=await fs_internal_1['FS']['readFile'](_0x12113d);this[_0x4c93bc(0x182)][_0x679dbc]=await xml_v2_1[_0x4c93bc(0x196)][_0x4c93bc(0x18e)](_0xbc1c0a)['catch'](_0x2147dd=>this[_0x4c93bc(0x1b0)](_0x2147dd,_0x31f237));}else{this['parentComponents'][_0x679dbc]=await xml_v2_1[_0x4c93bc(0x196)]['parse'](_0xa65cae)[_0x4c93bc(0x17d)](_0x36ef8d=>this[_0x4c93bc(0x1b0)](_0x36ef8d,_0x31f237));return;}}const _0x315f91=this[_0x4c93bc(0x182)][_0x679dbc],_0x59efd6=await xml_v2_1[_0x4c93bc(0x196)][_0x4c93bc(0x18e)](_0xa65cae)[_0x4c93bc(0x17d)](_0x5d9dcb=>this['handleXmlParsingError'](_0x5d9dcb,_0x31f237));xml_v2_1[_0x4c93bc(0x196)]['replaceOrAppend'](_0x315f91,_0x59efd6);}catch(_0x2cd07c){if(_0x2cd07c instanceof invalid_xml_error_1[_0x4c93bc(0x1a7)]){if(this[_0x4c93bc(0x1a8)])return;else throw _0x2cd07c;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x31f237[_0x4c93bc(0x1a6)]+'\x20['+_0x31f237[_0x4c93bc(0x1ae)]+'].\x20Original\x20error:\x20'+_0x2cd07c);}}async[a153_0x908d7d(0x187)](){const _0x473b37=a153_0x908d7d;!await fs_internal_1['FS'][_0x473b37(0x1b7)](this[_0x473b37(0x1a3)])&&await fs_internal_1['FS']['makeDir'](this[_0x473b37(0x1a3)]);for(const _0x434d83 of this[_0x473b37(0x18a)]){!child_types_1[_0x473b37(0x195)]['includes'](_0x434d83[_0x473b37(0x1ae)])?await this[_0x473b37(0x180)](_0x434d83):await this['writeChild'](_0x434d83);}const _0x4be467=Object[_0x473b37(0x1a1)](this[_0x473b37(0x182)]);this[_0x473b37(0x193)][_0x473b37(0x185)](_0x473b37(0x198),this[_0x473b37(0x18a)][_0x473b37(0x194)]);while(_0x4be467[_0x473b37(0x194)]){const _0x58b740=_0x4be467['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x255d77 of _0x58b740){await fs_internal_1['FS']['writeFile'](path_1[_0x473b37(0x195)][_0x473b37(0x17e)](this[_0x473b37(0x1a3)],_0x255d77),xml_v2_1[_0x473b37(0x196)]['convertToString'](this[_0x473b37(0x182)][_0x255d77]));}}this[_0x473b37(0x182)]={};}}exports['MDApiWriter']=MDApiWriter;