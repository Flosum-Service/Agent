const a153_0x37bf98=a153_0x3e93;(function(_0x4ff1bd,_0xa8e713){const _0x5490ec=a153_0x3e93,_0x4c1b05=_0x4ff1bd();while(!![]){try{const _0x948eeb=-parseInt(_0x5490ec(0x1fa))/0x1+-parseInt(_0x5490ec(0x1e6))/0x2+-parseInt(_0x5490ec(0x1d4))/0x3*(-parseInt(_0x5490ec(0x1f9))/0x4)+-parseInt(_0x5490ec(0x1d7))/0x5+-parseInt(_0x5490ec(0x1fc))/0x6+parseInt(_0x5490ec(0x1da))/0x7*(-parseInt(_0x5490ec(0x1c6))/0x8)+parseInt(_0x5490ec(0x1fd))/0x9*(parseInt(_0x5490ec(0x1dc))/0xa);if(_0x948eeb===_0xa8e713)break;else _0x4c1b05['push'](_0x4c1b05['shift']());}catch(_0x1bf9b8){_0x4c1b05['push'](_0x4c1b05['shift']());}}}(a153_0x5ba5,0x67be8));const a153_0x2f9a38=(function(){let _0x53f696=!![];return function(_0x10fd96,_0x3d637f){const _0x24ec16=_0x53f696?function(){const _0x853706=a153_0x3e93;if(_0x3d637f){const _0x24727d=_0x3d637f[_0x853706(0x1df)](_0x10fd96,arguments);return _0x3d637f=null,_0x24727d;}}:function(){};return _0x53f696=![],_0x24ec16;};}()),a153_0x33ecf4=a153_0x2f9a38(this,function(){const _0x377427=a153_0x3e93;return a153_0x33ecf4[_0x377427(0x203)]()[_0x377427(0x1ff)]('(((.+)+)+)+$')[_0x377427(0x203)]()['constructor'](a153_0x33ecf4)[_0x377427(0x1ff)](_0x377427(0x1dd));});a153_0x33ecf4();'use strict';var __importDefault=this&&this[a153_0x37bf98(0x1d2)]||function(_0x51709c){return _0x51709c&&_0x51709c['__esModule']?_0x51709c:{'default':_0x51709c};};function a153_0x3e93(_0x408b99,_0x26a88c){const _0x597ea3=a153_0x5ba5();return a153_0x3e93=function(_0x33ecf4,_0x2f9a38){_0x33ecf4=_0x33ecf4-0x1c1;let _0x5ba5bb=_0x597ea3[_0x33ecf4];return _0x5ba5bb;},a153_0x3e93(_0x408b99,_0x26a88c);}Object[a153_0x37bf98(0x1c9)](exports,a153_0x37bf98(0x1e3),{'value':!![]}),exports[a153_0x37bf98(0x1c4)]=void 0x0;function a153_0x5ba5(){const _0x36a044=['3449975KBjRny','includes','convertToString','4545121UyVTkm','path','4756260Agahbw','(((.+)+)+)+$','log','apply','all','parentComponents','replaceOrAppend','__esModule','components','push','165296kbQZBq','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','fileName','body','internalLogger','writeFile','length','../../internal/fs.internal','exists','text','../utils/xml-v2','].\x20Original\x20error:\x20','files','skipChildErrors','MAX_WRITES_PER_TICK','default','keys','join','Zip','172uPwXsG','145945bqGvXJ','handleXmlParsingError','629898nIhhgN','36PospcS','readZip','search','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','async','sourceDir','toString','nodebuffer','dir','fileType','MDApiWriter','parse','8hrMcoY','XmlV2','readFile','defineProperty','catch','start','InvalidXmlError','../utils/zip','writeChild','writeParent','Logger','splice','__importDefault','makeDir','13626EgebMY','map','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'];a153_0x5ba5=function(){return _0x36a044;};return a153_0x5ba5();}const path_1=__importDefault(require(a153_0x37bf98(0x1db))),core_1=require('../../../../core'),fs_internal_1=require(a153_0x37bf98(0x1ed)),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_v2_1=require(a153_0x37bf98(0x1f0)),zip_1=require(a153_0x37bf98(0x1cd)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x28fb7d,sourceDir:_0x2d949f,skipChildErrors:_0x565392}){const _0xe6786=a153_0x37bf98;this[_0xe6786(0x1f4)]=0x64,this[_0xe6786(0x1e1)]={},this[_0xe6786(0x1ea)]=new core_1[(_0xe6786(0x1d0))](MDApiWriter['name']),this[_0xe6786(0x1e4)]=_0x28fb7d,this[_0xe6786(0x202)]=_0x2d949f,this[_0xe6786(0x1f3)]=_0x565392;}async['readZip'](_0xc2145f,_0x55f543=![]){const _0x46a9f9=a153_0x37bf98,_0x4731f1=await zip_1[_0x46a9f9(0x1f8)]['unzip'](_0xc2145f),_0x31c208=[];for(const _0x173a8d of Object[_0x46a9f9(0x1f6)](_0x4731f1[_0x46a9f9(0x1f2)])){!_0x4731f1[_0x46a9f9(0x1f2)][_0x173a8d][_0x46a9f9(0x1c2)]&&_0x31c208[_0x46a9f9(0x1e5)]({'filename':_0x173a8d,'body':await _0x4731f1[_0x46a9f9(0x1f2)][_0x173a8d][_0x46a9f9(0x201)](_0x55f543?_0x46a9f9(0x1c1):_0x46a9f9(0x1ef))});}return _0x31c208;}async[a153_0x37bf98(0x1cf)](_0x3e988b){const _0x17a28c=a153_0x37bf98;try{const _0xfb92f2=await this[_0x17a28c(0x1fe)](_0x3e988b[_0x17a28c(0x1e9)],!![]);await Promise[_0x17a28c(0x1e0)](_0xfb92f2[_0x17a28c(0x1d5)](({filename:_0x212b0b,body:_0x120660})=>fs_internal_1['FS'][_0x17a28c(0x1eb)](path_1[_0x17a28c(0x1f5)][_0x17a28c(0x1f7)](this[_0x17a28c(0x202)],_0x212b0b),_0x120660)));}catch(_0x2dcc45){throw new Error(_0x17a28c(0x1e7)+_0x3e988b['fileName']+'\x20['+_0x3e988b[_0x17a28c(0x1c3)]+_0x17a28c(0x1f1)+_0x2dcc45);}}[a153_0x37bf98(0x1fb)](_0x571df0,_0x2c1821){const _0x43bb40=a153_0x37bf98;throw new invalid_xml_error_1[(_0x43bb40(0x1cc))](_0x43bb40(0x1d6)+_0x2c1821[_0x43bb40(0x1e8)]+'\x20['+_0x2c1821[_0x43bb40(0x1c3)]+_0x43bb40(0x1f1)+_0x571df0);}async[a153_0x37bf98(0x1ce)](_0x27ff1d){const _0x116a26=a153_0x37bf98,{filename:_0x439d70,body:_0x18b0c3}=(await this[_0x116a26(0x1fe)](_0x27ff1d[_0x116a26(0x1e9)]))[0x0];try{if(!this[_0x116a26(0x1e1)][_0x439d70]){const _0x450fd0=path_1[_0x116a26(0x1f5)][_0x116a26(0x1f7)](this[_0x116a26(0x202)],_0x439d70);if(await fs_internal_1['FS'][_0x116a26(0x1ee)](_0x450fd0)){const _0x304e79=await fs_internal_1['FS'][_0x116a26(0x1c8)](_0x450fd0);this[_0x116a26(0x1e1)][_0x439d70]=await xml_v2_1['XmlV2']['parse'](_0x304e79)['catch'](_0xb2261=>this[_0x116a26(0x1fb)](_0xb2261,_0x27ff1d));}else{this[_0x116a26(0x1e1)][_0x439d70]=await xml_v2_1[_0x116a26(0x1c7)][_0x116a26(0x1c5)](_0x18b0c3)['catch'](_0x4f708d=>this['handleXmlParsingError'](_0x4f708d,_0x27ff1d));return;}}const _0x4e5d73=this['parentComponents'][_0x439d70],_0x2f4c07=await xml_v2_1[_0x116a26(0x1c7)][_0x116a26(0x1c5)](_0x18b0c3)[_0x116a26(0x1ca)](_0x4cc356=>this['handleXmlParsingError'](_0x4cc356,_0x27ff1d));xml_v2_1[_0x116a26(0x1c7)][_0x116a26(0x1e2)](_0x4e5d73,_0x2f4c07);}catch(_0x2833c1){if(_0x2833c1 instanceof invalid_xml_error_1[_0x116a26(0x1cc)]){if(this['skipChildErrors'])return;else throw _0x2833c1;}throw new Error(_0x116a26(0x200)+_0x27ff1d[_0x116a26(0x1e8)]+'\x20['+_0x27ff1d[_0x116a26(0x1c3)]+'].\x20Original\x20error:\x20'+_0x2833c1);}}async[a153_0x37bf98(0x1cb)](){const _0x3d9974=a153_0x37bf98;!await fs_internal_1['FS'][_0x3d9974(0x1ee)](this[_0x3d9974(0x202)])&&await fs_internal_1['FS'][_0x3d9974(0x1d3)](this[_0x3d9974(0x202)]);for(const _0x453a54 of this[_0x3d9974(0x1e4)]){!child_types_1[_0x3d9974(0x1f5)][_0x3d9974(0x1d8)](_0x453a54[_0x3d9974(0x1c3)])?await this['writeParent'](_0x453a54):await this[_0x3d9974(0x1ce)](_0x453a54);}const _0x2bcefa=Object[_0x3d9974(0x1f6)](this['parentComponents']);this[_0x3d9974(0x1ea)][_0x3d9974(0x1de)]('have\x20to\x20write\x20%d\x20files',this[_0x3d9974(0x1e4)][_0x3d9974(0x1ec)]);while(_0x2bcefa[_0x3d9974(0x1ec)]){const _0x2a77ab=_0x2bcefa[_0x3d9974(0x1d1)](0x0,this[_0x3d9974(0x1f4)]);for(const _0x22df64 of _0x2a77ab){await fs_internal_1['FS'][_0x3d9974(0x1eb)](path_1[_0x3d9974(0x1f5)][_0x3d9974(0x1f7)](this[_0x3d9974(0x202)],_0x22df64),xml_v2_1[_0x3d9974(0x1c7)][_0x3d9974(0x1d9)](this[_0x3d9974(0x1e1)][_0x22df64]));}}this['parentComponents']={};}}exports[a153_0x37bf98(0x1c4)]=MDApiWriter;