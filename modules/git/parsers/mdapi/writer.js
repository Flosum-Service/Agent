const a153_0x25882a=a153_0x3785;function a153_0x3785(_0x5b6c62,_0x29114f){const _0x1f353b=a153_0x2b35();return a153_0x3785=function(_0x24c951,_0x1f9dc1){_0x24c951=_0x24c951-0x8f;let _0x2b3521=_0x1f353b[_0x24c951];return _0x2b3521;},a153_0x3785(_0x5b6c62,_0x29114f);}(function(_0x55de53,_0x1cb3be){const _0x208923=a153_0x3785,_0x270546=_0x55de53();while(!![]){try{const _0x1e0642=parseInt(_0x208923(0x95))/0x1*(-parseInt(_0x208923(0xc5))/0x2)+-parseInt(_0x208923(0xad))/0x3*(-parseInt(_0x208923(0xa9))/0x4)+-parseInt(_0x208923(0xac))/0x5*(parseInt(_0x208923(0x90))/0x6)+parseInt(_0x208923(0xb3))/0x7*(parseInt(_0x208923(0xc1))/0x8)+parseInt(_0x208923(0xd1))/0x9+parseInt(_0x208923(0xb2))/0xa*(parseInt(_0x208923(0xa8))/0xb)+-parseInt(_0x208923(0xba))/0xc;if(_0x1e0642===_0x1cb3be)break;else _0x270546['push'](_0x270546['shift']());}catch(_0x3e39b9){_0x270546['push'](_0x270546['shift']());}}}(a153_0x2b35,0x4cc52));const a153_0x1f9dc1=(function(){let _0x1e51ad=!![];return function(_0x4ec91d,_0x4decdf){const _0x4b5133=_0x1e51ad?function(){const _0x139d21=a153_0x3785;if(_0x4decdf){const _0x14a8dc=_0x4decdf[_0x139d21(0xb0)](_0x4ec91d,arguments);return _0x4decdf=null,_0x14a8dc;}}:function(){};return _0x1e51ad=![],_0x4b5133;};}()),a153_0x24c951=a153_0x1f9dc1(this,function(){const _0x35e13e=a153_0x3785;return a153_0x24c951[_0x35e13e(0xae)]()[_0x35e13e(0xb5)]('(((.+)+)+)+$')[_0x35e13e(0xae)]()[_0x35e13e(0xc4)](a153_0x24c951)['search']('(((.+)+)+)+$');});a153_0x24c951();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4c5cb5){const _0x119b33=a153_0x3785;return _0x4c5cb5&&_0x4c5cb5[_0x119b33(0x9d)]?_0x4c5cb5:{'default':_0x4c5cb5};};Object[a153_0x25882a(0xbf)](exports,a153_0x25882a(0x9d),{'value':!![]}),exports[a153_0x25882a(0xa2)]=void 0x0;const path_1=__importDefault(require(a153_0x25882a(0x93))),core_1=require(a153_0x25882a(0xb6)),fs_internal_1=require(a153_0x25882a(0xcb)),invalid_xml_error_1=require(a153_0x25882a(0xce)),xml_v2_1=require(a153_0x25882a(0xc2)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x428092,sourceDir:_0x72f16,skipChildErrors:_0x4ec5a2}){const _0x160ef9=a153_0x25882a;this[_0x160ef9(0x8f)]=0x64,this[_0x160ef9(0xd2)]={},this['internalLogger']=new core_1[(_0x160ef9(0xcf))](MDApiWriter[_0x160ef9(0xbc)]),this[_0x160ef9(0xaa)]=_0x428092,this[_0x160ef9(0xc8)]=_0x72f16,this['skipChildErrors']=_0x4ec5a2;}async['readZip'](_0x1c3fb8,_0x5af6fa=![]){const _0x274108=a153_0x25882a,_0x3072a5=await zip_1[_0x274108(0xcc)][_0x274108(0x9c)](_0x1c3fb8),_0x1d1e58=[];for(const _0x274c14 of Object[_0x274108(0xa4)](_0x3072a5[_0x274108(0xa5)])){!_0x3072a5[_0x274108(0xa5)][_0x274c14][_0x274108(0x98)]&&_0x1d1e58[_0x274108(0x91)]({'filename':_0x274c14,'body':await _0x3072a5[_0x274108(0xa5)][_0x274c14][_0x274108(0x9a)](_0x5af6fa?_0x274108(0xa6):_0x274108(0x97))});}return _0x1d1e58;}async['writeParent'](_0xa332d9){const _0x560558=a153_0x25882a;try{const _0x241be3=await this[_0x560558(0xaf)](_0xa332d9[_0x560558(0xa3)],!![]);await Promise[_0x560558(0xc9)](_0x241be3[_0x560558(0xcd)](({filename:_0x444036,body:_0x498c9a})=>fs_internal_1['FS'][_0x560558(0xa0)](path_1[_0x560558(0x92)][_0x560558(0xbd)](this[_0x560558(0xc8)],_0x444036),_0x498c9a)));}catch(_0x39e3f5){throw new Error(_0x560558(0xbb)+_0xa332d9['fileName']+'\x20['+_0xa332d9['fileType']+_0x560558(0xab)+_0x39e3f5);}}[a153_0x25882a(0x9e)](_0xd9735b,_0x4e4263){const _0x4d49f7=a153_0x25882a;throw new invalid_xml_error_1[(_0x4d49f7(0x96))](_0x4d49f7(0xc0)+_0x4e4263[_0x4d49f7(0xa7)]+'\x20['+_0x4e4263[_0x4d49f7(0xb1)]+_0x4d49f7(0xab)+_0xd9735b);}async[a153_0x25882a(0x9f)](_0x22e3ca){const _0x1af1fe=a153_0x25882a,{filename:_0x5e1ec9,body:_0x2f5e3c}=(await this[_0x1af1fe(0xaf)](_0x22e3ca['body']))[0x0];try{if(!this[_0x1af1fe(0xd2)][_0x5e1ec9]){const _0x426a7a=path_1['default']['join'](this[_0x1af1fe(0xc8)],_0x5e1ec9);if(await fs_internal_1['FS'][_0x1af1fe(0xb8)](_0x426a7a)){const _0x745025=await fs_internal_1['FS'][_0x1af1fe(0xb4)](_0x426a7a);this[_0x1af1fe(0xd2)][_0x5e1ec9]=await xml_v2_1[_0x1af1fe(0xa1)]['parse'](_0x745025)[_0x1af1fe(0xc3)](_0x1e02dc=>this['handleXmlParsingError'](_0x1e02dc,_0x22e3ca));}else{this[_0x1af1fe(0xd2)][_0x5e1ec9]=await xml_v2_1[_0x1af1fe(0xa1)][_0x1af1fe(0xc6)](_0x2f5e3c)[_0x1af1fe(0xc3)](_0x56265e=>this[_0x1af1fe(0x9e)](_0x56265e,_0x22e3ca));return;}}const _0x5204ed=this[_0x1af1fe(0xd2)][_0x5e1ec9],_0x29ff1f=await xml_v2_1['XmlV2']['parse'](_0x2f5e3c)[_0x1af1fe(0xc3)](_0x3319ef=>this['handleXmlParsingError'](_0x3319ef,_0x22e3ca));xml_v2_1[_0x1af1fe(0xa1)]['replaceOrAppend'](_0x5204ed,_0x29ff1f);}catch(_0x2ab080){if(_0x2ab080 instanceof invalid_xml_error_1[_0x1af1fe(0x96)]){if(this[_0x1af1fe(0xb7)])return;else throw _0x2ab080;}throw new Error(_0x1af1fe(0xc7)+_0x22e3ca[_0x1af1fe(0xa7)]+'\x20['+_0x22e3ca['fileType']+_0x1af1fe(0xab)+_0x2ab080);}}async[a153_0x25882a(0xca)](){const _0x4ff9d6=a153_0x25882a;!await fs_internal_1['FS'][_0x4ff9d6(0xb8)](this['sourceDir'])&&await fs_internal_1['FS'][_0x4ff9d6(0x9b)](this['sourceDir']);for(const _0x4c6895 of this['components']){!child_types_1[_0x4ff9d6(0x92)]['includes'](_0x4c6895[_0x4ff9d6(0xb1)])?await this[_0x4ff9d6(0x99)](_0x4c6895):await this['writeChild'](_0x4c6895);}const _0x3aee0b=Object[_0x4ff9d6(0xa4)](this[_0x4ff9d6(0xd2)]);this[_0x4ff9d6(0xbe)][_0x4ff9d6(0x94)](_0x4ff9d6(0xb9),this['components']['length']);while(_0x3aee0b['length']){const _0x288ea5=_0x3aee0b[_0x4ff9d6(0xd0)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x59b71d of _0x288ea5){await fs_internal_1['FS'][_0x4ff9d6(0xa0)](path_1[_0x4ff9d6(0x92)][_0x4ff9d6(0xbd)](this[_0x4ff9d6(0xc8)],_0x59b71d),xml_v2_1['XmlV2']['convertToString'](this['parentComponents'][_0x59b71d]));}}this[_0x4ff9d6(0xd2)]={};}}exports[a153_0x25882a(0xa2)]=MDApiWriter;function a153_0x2b35(){const _0x3ef04e=['fileType','1069070yQSAWI','7fkdhhE','readFile','search','../../../../core','skipChildErrors','exists','have\x20to\x20write\x20%d\x20files','1616964OCIIhd','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','name','join','internalLogger','defineProperty','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','1701136ZxPApv','../utils/xml-v2','catch','constructor','4GXxtZa','parse','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','sourceDir','all','start','../../internal/fs.internal','Zip','map','../errors/invalid-xml.error','Logger','splice','2649240akttbF','parentComponents','MAX_WRITES_PER_TICK','60zFcFKb','push','default','path','log','113788GdQKwv','InvalidXmlError','text','dir','writeParent','async','makeDir','unzip','__esModule','handleXmlParsingError','writeChild','writeFile','XmlV2','MDApiWriter','body','keys','files','nodebuffer','fileName','11HqAgmW','1034888uOaUxQ','components','].\x20Original\x20error:\x20','227290eqObuf','6UedHZS','toString','readZip','apply'];a153_0x2b35=function(){return _0x3ef04e;};return a153_0x2b35();}