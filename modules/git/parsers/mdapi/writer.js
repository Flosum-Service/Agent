const a101_0x2a2c59=a101_0x3371;function a101_0x364a(){const _0x2fdeb4=['search','Xml','length','readFile','all','push','body','fileType','async','convertToString','map','skipChildErrors','log','Zip','272076SoauWo','handleXmlParsingError','have\x20to\x20write\x20%d\x20files','default','toString','splice','259157FZSZpR','1397760tprruZ','parentComponents','fileName','files','catch','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','parse','includes','writeChild','readZip','start','defineProperty','writeFile','text','50676QvgYSK','name','6520003iTvpKm','InvalidXmlError','Logger','exists','join','../utils/xml','../errors/invalid-xml.error','internalLogger','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','../../internal/fs.internal','replaceOrAppend','sourceDir','unzip','228uKAoLQ','../data/child-types','apply','path','writeParent','MAX_WRITES_PER_TICK','MDApiWriter','(((.+)+)+)+$','1265388eSLENC','__importDefault','components','].\x20Original\x20error:\x20','41800ZVavFe'];a101_0x364a=function(){return _0x2fdeb4;};return a101_0x364a();}function a101_0x3371(_0x1641fc,_0x39f4d8){const _0x418d58=a101_0x364a();return a101_0x3371=function(_0x499982,_0x392604){_0x499982=_0x499982-0xde;let _0x364a85=_0x418d58[_0x499982];return _0x364a85;},a101_0x3371(_0x1641fc,_0x39f4d8);}(function(_0x3ab06b,_0x483418){const _0x273a71=a101_0x3371,_0x32055f=_0x3ab06b();while(!![]){try{const _0x37e4b6=-parseInt(_0x273a71(0xea))/0x1+-parseInt(_0x273a71(0x111))/0x2+parseInt(_0x273a71(0xf9))/0x3*(parseInt(_0x273a71(0x109))/0x4)+-parseInt(_0x273a71(0xeb))/0x5+-parseInt(_0x273a71(0xe4))/0x6+parseInt(_0x273a71(0xfb))/0x7+-parseInt(_0x273a71(0x115))/0x8;if(_0x37e4b6===_0x483418)break;else _0x32055f['push'](_0x32055f['shift']());}catch(_0xa7f37d){_0x32055f['push'](_0x32055f['shift']());}}}(a101_0x364a,0xa422b));const a101_0x392604=(function(){let _0x445871=!![];return function(_0x15fe79,_0xe93841){const _0x1c4e7d=_0x445871?function(){const _0x18d963=a101_0x3371;if(_0xe93841){const _0x3e0368=_0xe93841[_0x18d963(0x10b)](_0x15fe79,arguments);return _0xe93841=null,_0x3e0368;}}:function(){};return _0x445871=![],_0x1c4e7d;};}()),a101_0x499982=a101_0x392604(this,function(){const _0x567dac=a101_0x3371;return a101_0x499982[_0x567dac(0xe8)]()[_0x567dac(0x116)](_0x567dac(0x110))['toString']()['constructor'](a101_0x499982)[_0x567dac(0x116)](_0x567dac(0x110));});a101_0x499982();'use strict';var __importDefault=this&&this[a101_0x2a2c59(0x112)]||function(_0x2044b5){return _0x2044b5&&_0x2044b5['__esModule']?_0x2044b5:{'default':_0x2044b5};};Object[a101_0x2a2c59(0xf6)](exports,'__esModule',{'value':!![]}),exports[a101_0x2a2c59(0x10f)]=void 0x0;const path_1=__importDefault(require(a101_0x2a2c59(0x10c))),core_1=require('../../../../core'),fs_internal_1=require(a101_0x2a2c59(0x105)),invalid_xml_error_1=require(a101_0x2a2c59(0x101)),xml_1=require(a101_0x2a2c59(0x100)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a101_0x2a2c59(0x10a)));class MDApiWriter{constructor({components:_0x449395,sourceDir:_0x1d1bee,skipChildErrors:_0x3193dd}){const _0x13a84d=a101_0x2a2c59;this[_0x13a84d(0x10e)]=0x64,this[_0x13a84d(0xec)]={},this[_0x13a84d(0x102)]=new core_1[(_0x13a84d(0xfd))](MDApiWriter[_0x13a84d(0xfa)]),this[_0x13a84d(0x113)]=_0x449395,this[_0x13a84d(0x107)]=_0x1d1bee,this['skipChildErrors']=_0x3193dd;}async[a101_0x2a2c59(0xf4)](_0x3e4f56,_0x2b6df5=![]){const _0x5625ba=a101_0x2a2c59,_0x4ef6f6=await zip_1[_0x5625ba(0xe3)][_0x5625ba(0x108)](_0x3e4f56),_0x55e129=[];for(const _0x4d584e of Object['keys'](_0x4ef6f6['files'])){!_0x4ef6f6[_0x5625ba(0xee)][_0x4d584e]['dir']&&_0x55e129[_0x5625ba(0x11b)]({'filename':_0x4d584e,'body':await _0x4ef6f6[_0x5625ba(0xee)][_0x4d584e][_0x5625ba(0xde)](_0x2b6df5?'nodebuffer':_0x5625ba(0xf8))});}return _0x55e129;}async[a101_0x2a2c59(0x10d)](_0x3b0ed1){const _0x23e9f4=a101_0x2a2c59;try{const _0xa51102=await this[_0x23e9f4(0xf4)](_0x3b0ed1[_0x23e9f4(0x11c)],!![]);await Promise[_0x23e9f4(0x11a)](_0xa51102[_0x23e9f4(0xe0)](({filename:_0x464a3c,body:_0x57ed61})=>fs_internal_1['FS']['writeFile'](path_1[_0x23e9f4(0xe7)][_0x23e9f4(0xff)](this[_0x23e9f4(0x107)],_0x464a3c),_0x57ed61)));}catch(_0x267ea9){throw new Error(_0x23e9f4(0x104)+_0x3b0ed1[_0x23e9f4(0xed)]+'\x20['+_0x3b0ed1[_0x23e9f4(0x11d)]+_0x23e9f4(0x114)+_0x267ea9);}}[a101_0x2a2c59(0xe5)](_0x24ae48,_0x3ab627){const _0x4cf386=a101_0x2a2c59;throw new invalid_xml_error_1[(_0x4cf386(0xfc))](_0x4cf386(0xf0)+_0x3ab627[_0x4cf386(0xed)]+'\x20['+_0x3ab627[_0x4cf386(0x11d)]+_0x4cf386(0x114)+_0x24ae48);}async[a101_0x2a2c59(0xf3)](_0x5b71a5){const _0x5958a4=a101_0x2a2c59,{filename:_0x5b3d0a,body:_0x5971e5}=(await this[_0x5958a4(0xf4)](_0x5b71a5[_0x5958a4(0x11c)]))[0x0];try{if(!this['parentComponents'][_0x5b3d0a]){const _0x75e2ed=path_1['default'][_0x5958a4(0xff)](this[_0x5958a4(0x107)],_0x5b3d0a);if(await fs_internal_1['FS'][_0x5958a4(0xfe)](_0x75e2ed)){const _0x5b3e8f=await fs_internal_1['FS'][_0x5958a4(0x119)](_0x75e2ed);this['parentComponents'][_0x5b3d0a]=await xml_1[_0x5958a4(0x117)][_0x5958a4(0xf1)](_0x5b3e8f)['catch'](_0xdc365=>this[_0x5958a4(0xe5)](_0xdc365,_0x5b71a5));}else{this[_0x5958a4(0xec)][_0x5b3d0a]=await xml_1[_0x5958a4(0x117)][_0x5958a4(0xf1)](_0x5971e5)['catch'](_0x1113fb=>this[_0x5958a4(0xe5)](_0x1113fb,_0x5b71a5));return;}}const _0x2fc0ac=this[_0x5958a4(0xec)][_0x5b3d0a],_0x4f4965=await xml_1[_0x5958a4(0x117)][_0x5958a4(0xf1)](_0x5971e5)[_0x5958a4(0xef)](_0x4ac8f6=>this[_0x5958a4(0xe5)](_0x4ac8f6,_0x5b71a5));xml_1[_0x5958a4(0x117)][_0x5958a4(0x106)](_0x2fc0ac,_0x4f4965);}catch(_0x57f834){if(_0x57f834 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x5958a4(0xe1)])return;else throw _0x57f834;}throw new Error(_0x5958a4(0x103)+_0x5b71a5[_0x5958a4(0xed)]+'\x20['+_0x5b71a5[_0x5958a4(0x11d)]+_0x5958a4(0x114)+_0x57f834);}}async[a101_0x2a2c59(0xf5)](){const _0x571c16=a101_0x2a2c59;!await fs_internal_1['FS'][_0x571c16(0xfe)](this[_0x571c16(0x107)])&&await fs_internal_1['FS']['makeDir'](this[_0x571c16(0x107)]);for(const _0x4858c7 of this[_0x571c16(0x113)]){!child_types_1[_0x571c16(0xe7)][_0x571c16(0xf2)](_0x4858c7[_0x571c16(0x11d)])?await this[_0x571c16(0x10d)](_0x4858c7):await this['writeChild'](_0x4858c7);}const _0x4e70d0=Object['keys'](this[_0x571c16(0xec)]);this[_0x571c16(0x102)][_0x571c16(0xe2)](_0x571c16(0xe6),this[_0x571c16(0x113)][_0x571c16(0x118)]);while(_0x4e70d0[_0x571c16(0x118)]){const _0x3ea84c=_0x4e70d0[_0x571c16(0xe9)](0x0,this[_0x571c16(0x10e)]);for(const _0x5012e8 of _0x3ea84c){await fs_internal_1['FS'][_0x571c16(0xf7)](path_1[_0x571c16(0xe7)][_0x571c16(0xff)](this[_0x571c16(0x107)],_0x5012e8),xml_1[_0x571c16(0x117)][_0x571c16(0xdf)](this[_0x571c16(0xec)][_0x5012e8]));}}this['parentComponents']={};}}exports[a101_0x2a2c59(0x10f)]=MDApiWriter;