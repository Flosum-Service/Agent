const a149_0x93ecd=a149_0x273c;(function(_0x6a3eb9,_0x4b3f58){const _0x85ecb5=a149_0x273c,_0x414623=_0x6a3eb9();while(!![]){try{const _0x55d003=parseInt(_0x85ecb5(0x189))/0x1*(-parseInt(_0x85ecb5(0x174))/0x2)+parseInt(_0x85ecb5(0x197))/0x3+-parseInt(_0x85ecb5(0x180))/0x4*(-parseInt(_0x85ecb5(0x16a))/0x5)+-parseInt(_0x85ecb5(0x194))/0x6+-parseInt(_0x85ecb5(0x171))/0x7*(parseInt(_0x85ecb5(0x16f))/0x8)+-parseInt(_0x85ecb5(0x170))/0x9+parseInt(_0x85ecb5(0x185))/0xa;if(_0x55d003===_0x4b3f58)break;else _0x414623['push'](_0x414623['shift']());}catch(_0x2da12d){_0x414623['push'](_0x414623['shift']());}}}(a149_0x5eac,0x9b32b));const a149_0x30da82=(function(){let _0x5af147=!![];return function(_0x36e401,_0x194959){const _0x57ca2f=_0x5af147?function(){const _0x116944=a149_0x273c;if(_0x194959){const _0xd219d=_0x194959[_0x116944(0x191)](_0x36e401,arguments);return _0x194959=null,_0xd219d;}}:function(){};return _0x5af147=![],_0x57ca2f;};}()),a149_0x50f9cf=a149_0x30da82(this,function(){const _0x4db6b9=a149_0x273c;return a149_0x50f9cf['toString']()[_0x4db6b9(0x18c)](_0x4db6b9(0x195))[_0x4db6b9(0x175)]()[_0x4db6b9(0x15b)](a149_0x50f9cf)[_0x4db6b9(0x18c)](_0x4db6b9(0x195));});a149_0x50f9cf();'use strict';function a149_0x273c(_0x468bea,_0xa21a7f){const _0x48a70a=a149_0x5eac();return a149_0x273c=function(_0x50f9cf,_0x30da82){_0x50f9cf=_0x50f9cf-0x15a;let _0x5eac48=_0x48a70a[_0x50f9cf];return _0x5eac48;},a149_0x273c(_0x468bea,_0xa21a7f);}var __importDefault=this&&this[a149_0x93ecd(0x160)]||function(_0x181ae8){const _0x677dc5=a149_0x93ecd;return _0x181ae8&&_0x181ae8[_0x677dc5(0x178)]?_0x181ae8:{'default':_0x181ae8};};Object[a149_0x93ecd(0x17f)](exports,a149_0x93ecd(0x178),{'value':!![]}),exports[a149_0x93ecd(0x182)]=void 0x0;const path_1=__importDefault(require(a149_0x93ecd(0x172))),core_1=require(a149_0x93ecd(0x17c)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a149_0x93ecd(0x15c)),xml_v2_1=require(a149_0x93ecd(0x179)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a149_0x93ecd(0x18a)));class MDApiWriter{constructor({components:_0x2ee637,sourceDir:_0x191438,skipChildErrors:_0x27e70d}){const _0x17c8ab=a149_0x93ecd;this['MAX_WRITES_PER_TICK']=0x64,this['parentComponents']={},this[_0x17c8ab(0x166)]=new core_1['Logger'](MDApiWriter[_0x17c8ab(0x173)]),this[_0x17c8ab(0x162)]=_0x2ee637,this['sourceDir']=_0x191438,this['skipChildErrors']=_0x27e70d;}async[a149_0x93ecd(0x17d)](_0xe1cd20,_0x5f209c=![]){const _0x205f69=a149_0x93ecd,_0x3e78bd=await zip_1[_0x205f69(0x16e)][_0x205f69(0x167)](_0xe1cd20),_0x292764=[];for(const _0xc94b54 of Object[_0x205f69(0x15d)](_0x3e78bd[_0x205f69(0x187)])){!_0x3e78bd[_0x205f69(0x187)][_0xc94b54][_0x205f69(0x184)]&&_0x292764[_0x205f69(0x183)]({'filename':_0xc94b54,'body':await _0x3e78bd[_0x205f69(0x187)][_0xc94b54][_0x205f69(0x15f)](_0x5f209c?_0x205f69(0x18e):'text')});}return _0x292764;}async['writeParent'](_0x52b986){const _0x48546a=a149_0x93ecd;try{const _0x3705fb=await this[_0x48546a(0x17d)](_0x52b986[_0x48546a(0x196)],!![]);await Promise[_0x48546a(0x18b)](_0x3705fb['map'](({filename:_0x8ee0e,body:_0x317416})=>fs_internal_1['FS']['writeFile'](path_1[_0x48546a(0x15e)][_0x48546a(0x163)](this[_0x48546a(0x169)],_0x8ee0e),_0x317416)));}catch(_0x52f42a){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x52b986[_0x48546a(0x188)]+'\x20['+_0x52b986['fileType']+_0x48546a(0x17a)+_0x52f42a);}}['handleXmlParsingError'](_0x14f9d9,_0x152377){const _0xdbe9e=a149_0x93ecd;throw new invalid_xml_error_1[(_0xdbe9e(0x176))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x152377[_0xdbe9e(0x188)]+'\x20['+_0x152377['fileType']+_0xdbe9e(0x17a)+_0x14f9d9);}async[a149_0x93ecd(0x161)](_0x541bd9){const _0x23adda=a149_0x93ecd,{filename:_0x38bfe3,body:_0x3069c7}=(await this[_0x23adda(0x17d)](_0x541bd9['body']))[0x0];try{if(!this[_0x23adda(0x16d)][_0x38bfe3]){const _0x36cf82=path_1[_0x23adda(0x15e)][_0x23adda(0x163)](this[_0x23adda(0x169)],_0x38bfe3);if(await fs_internal_1['FS'][_0x23adda(0x15a)](_0x36cf82)){const _0x188183=await fs_internal_1['FS'][_0x23adda(0x199)](_0x36cf82);this[_0x23adda(0x16d)][_0x38bfe3]=await xml_v2_1[_0x23adda(0x181)][_0x23adda(0x164)](_0x188183)[_0x23adda(0x177)](_0x46ca67=>this[_0x23adda(0x18d)](_0x46ca67,_0x541bd9));}else{this['parentComponents'][_0x38bfe3]=await xml_v2_1['XmlV2'][_0x23adda(0x164)](_0x3069c7)[_0x23adda(0x177)](_0x675682=>this[_0x23adda(0x18d)](_0x675682,_0x541bd9));return;}}const _0x23da58=this[_0x23adda(0x16d)][_0x38bfe3],_0x14af2a=await xml_v2_1[_0x23adda(0x181)]['parse'](_0x3069c7)[_0x23adda(0x177)](_0x1ca86d=>this[_0x23adda(0x18d)](_0x1ca86d,_0x541bd9));xml_v2_1[_0x23adda(0x181)][_0x23adda(0x17e)](_0x23da58,_0x14af2a);}catch(_0x387417){if(_0x387417 instanceof invalid_xml_error_1[_0x23adda(0x176)]){if(this[_0x23adda(0x18f)])return;else throw _0x387417;}throw new Error(_0x23adda(0x192)+_0x541bd9[_0x23adda(0x188)]+'\x20['+_0x541bd9[_0x23adda(0x168)]+_0x23adda(0x17a)+_0x387417);}}async[a149_0x93ecd(0x198)](){const _0x46308d=a149_0x93ecd;!await fs_internal_1['FS'][_0x46308d(0x15a)](this[_0x46308d(0x169)])&&await fs_internal_1['FS']['makeDir'](this[_0x46308d(0x169)]);for(const _0x163119 of this[_0x46308d(0x162)]){!child_types_1[_0x46308d(0x15e)]['includes'](_0x163119['fileType'])?await this['writeParent'](_0x163119):await this[_0x46308d(0x161)](_0x163119);}const _0x441bc9=Object[_0x46308d(0x15d)](this[_0x46308d(0x16d)]);this[_0x46308d(0x166)][_0x46308d(0x193)](_0x46308d(0x186),this[_0x46308d(0x162)][_0x46308d(0x190)]);while(_0x441bc9[_0x46308d(0x190)]){const _0x44a85e=_0x441bc9[_0x46308d(0x165)](0x0,this[_0x46308d(0x16c)]);for(const _0x45c468 of _0x44a85e){await fs_internal_1['FS'][_0x46308d(0x16b)](path_1[_0x46308d(0x15e)][_0x46308d(0x163)](this[_0x46308d(0x169)],_0x45c468),xml_v2_1['XmlV2'][_0x46308d(0x17b)](this['parentComponents'][_0x45c468]));}}this[_0x46308d(0x16d)]={};}}function a149_0x5eac(){const _0x77542a=['splice','internalLogger','unzip','fileType','sourceDir','5615IiqItJ','writeFile','MAX_WRITES_PER_TICK','parentComponents','Zip','76624vKBXZr','5314581GWRJch','868SBswnp','path','name','116534FqgYRu','toString','InvalidXmlError','catch','__esModule','../utils/xml-v2','].\x20Original\x20error:\x20','convertToString','../../../../core','readZip','replaceOrAppend','defineProperty','1372LwBFla','XmlV2','MDApiWriter','push','dir','28361630pmlcWv','have\x20to\x20write\x20%d\x20files','files','fileName','12tFgLXY','../data/child-types','all','search','handleXmlParsingError','nodebuffer','skipChildErrors','length','apply','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','log','5872320mOYGQW','(((.+)+)+)+$','body','2611332KlFAzF','start','readFile','exists','constructor','../errors/invalid-xml.error','keys','default','async','__importDefault','writeChild','components','join','parse'];a149_0x5eac=function(){return _0x77542a;};return a149_0x5eac();}exports[a149_0x93ecd(0x182)]=MDApiWriter;