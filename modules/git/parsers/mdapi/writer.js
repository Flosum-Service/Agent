const a117_0x34eeae=a117_0x2097;(function(_0x3e12d6,_0x21a219){const _0x516564=a117_0x2097,_0x1090c5=_0x3e12d6();while(!![]){try{const _0xe5fe0a=parseInt(_0x516564(0xdb))/0x1+parseInt(_0x516564(0xea))/0x2+-parseInt(_0x516564(0x10f))/0x3*(parseInt(_0x516564(0xee))/0x4)+parseInt(_0x516564(0x109))/0x5+-parseInt(_0x516564(0xdc))/0x6*(-parseInt(_0x516564(0xf4))/0x7)+-parseInt(_0x516564(0xec))/0x8+parseInt(_0x516564(0x112))/0x9*(-parseInt(_0x516564(0x10d))/0xa);if(_0xe5fe0a===_0x21a219)break;else _0x1090c5['push'](_0x1090c5['shift']());}catch(_0x569436){_0x1090c5['push'](_0x1090c5['shift']());}}}(a117_0x1948,0x58c31));const a117_0x298e9a=(function(){let _0x450bdc=!![];return function(_0xd1a13f,_0x36391b){const _0x4e103c=_0x450bdc?function(){if(_0x36391b){const _0x653d66=_0x36391b['apply'](_0xd1a13f,arguments);return _0x36391b=null,_0x653d66;}}:function(){};return _0x450bdc=![],_0x4e103c;};}()),a117_0xd42567=a117_0x298e9a(this,function(){const _0x33bceb=a117_0x2097;return a117_0xd42567[_0x33bceb(0xfd)]()[_0x33bceb(0xf5)](_0x33bceb(0x117))[_0x33bceb(0xfd)]()[_0x33bceb(0xe9)](a117_0xd42567)[_0x33bceb(0xf5)](_0x33bceb(0x117));});a117_0xd42567();'use strict';var __importDefault=this&&this[a117_0x34eeae(0xde)]||function(_0x3c9dc9){const _0x49208b=a117_0x34eeae;return _0x3c9dc9&&_0x3c9dc9[_0x49208b(0xe7)]?_0x3c9dc9:{'default':_0x3c9dc9};};function a117_0x1948(){const _0xf33b58=['writeChild','defineProperty','push','].\x20Original\x20error:\x20','files','Zip','readZip','readFile','handleXmlParsingError','../utils/xml','Logger','3077250FfECed','keys','skipChildErrors','join','780690vBJpSH','replaceOrAppend','15ZFCeDi','dir','length','153RtApmL','InvalidXmlError','start','all','async','(((.+)+)+)+$','default','writeParent','fileName','parentComponents','internalLogger','text','600544AROIvH','6ZWdEDZ','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','__importDefault','catch','have\x20to\x20write\x20%d\x20files','convertToString','includes','../../internal/fs.internal','components','MDApiWriter','MAX_WRITES_PER_TICK','__esModule','exists','constructor','661446kexqoF','sourceDir','701512lmCDnr','fileType','190648QjAkMy','parse','body','splice','log','writeFile','3290168zBuPQQ','search','../utils/zip','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','../../../../core','unzip','../errors/invalid-xml.error','name','Xml','toString'];a117_0x1948=function(){return _0xf33b58;};return a117_0x1948();}function a117_0x2097(_0x4edbbc,_0x827e71){const _0x24349b=a117_0x1948();return a117_0x2097=function(_0xd42567,_0x298e9a){_0xd42567=_0xd42567-0xdb;let _0x19484a=_0x24349b[_0xd42567];return _0x19484a;},a117_0x2097(_0x4edbbc,_0x827e71);}Object[a117_0x34eeae(0xff)](exports,a117_0x34eeae(0xe7),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a117_0x34eeae(0xf8)),fs_internal_1=require(a117_0x34eeae(0xe3)),invalid_xml_error_1=require(a117_0x34eeae(0xfa)),xml_1=require(a117_0x34eeae(0x107)),zip_1=require(a117_0x34eeae(0xf6)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x507b97,sourceDir:_0x2ad625,skipChildErrors:_0x56bc03}){const _0x5b285d=a117_0x34eeae;this['MAX_WRITES_PER_TICK']=0x64,this[_0x5b285d(0x11b)]={},this['internalLogger']=new core_1[(_0x5b285d(0x108))](MDApiWriter[_0x5b285d(0xfb)]),this[_0x5b285d(0xe4)]=_0x507b97,this[_0x5b285d(0xeb)]=_0x2ad625,this[_0x5b285d(0x10b)]=_0x56bc03;}async[a117_0x34eeae(0x104)](_0x3c2902,_0x17555b=![]){const _0x42c8c3=a117_0x34eeae,_0x6dd5ea=await zip_1[_0x42c8c3(0x103)][_0x42c8c3(0xf9)](_0x3c2902),_0x4fe924=[];for(const _0x1104bd of Object[_0x42c8c3(0x10a)](_0x6dd5ea[_0x42c8c3(0x102)])){!_0x6dd5ea[_0x42c8c3(0x102)][_0x1104bd][_0x42c8c3(0x110)]&&_0x4fe924[_0x42c8c3(0x100)]({'filename':_0x1104bd,'body':await _0x6dd5ea[_0x42c8c3(0x102)][_0x1104bd][_0x42c8c3(0x116)](_0x17555b?'nodebuffer':_0x42c8c3(0x11d))});}return _0x4fe924;}async[a117_0x34eeae(0x119)](_0x46fe75){const _0x362c91=a117_0x34eeae;try{const _0x10adfc=await this[_0x362c91(0x104)](_0x46fe75['body'],!![]);await Promise[_0x362c91(0x115)](_0x10adfc['map'](({filename:_0x3cbc07,body:_0x367739})=>fs_internal_1['FS'][_0x362c91(0xf3)](path_1['default'][_0x362c91(0x10c)](this[_0x362c91(0xeb)],_0x3cbc07),_0x367739)));}catch(_0x982f53){throw new Error(_0x362c91(0xf7)+_0x46fe75[_0x362c91(0x11a)]+'\x20['+_0x46fe75[_0x362c91(0xed)]+_0x362c91(0x101)+_0x982f53);}}[a117_0x34eeae(0x106)](_0x5e8a12,_0x4a0983){const _0x15bb01=a117_0x34eeae;throw new invalid_xml_error_1[(_0x15bb01(0x113))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x4a0983[_0x15bb01(0x11a)]+'\x20['+_0x4a0983[_0x15bb01(0xed)]+_0x15bb01(0x101)+_0x5e8a12);}async[a117_0x34eeae(0xfe)](_0x6fe42b){const _0x53772b=a117_0x34eeae,{filename:_0x253647,body:_0x22b137}=(await this[_0x53772b(0x104)](_0x6fe42b[_0x53772b(0xf0)]))[0x0];try{if(!this[_0x53772b(0x11b)][_0x253647]){const _0x5d4130=path_1['default'][_0x53772b(0x10c)](this[_0x53772b(0xeb)],_0x253647);if(await fs_internal_1['FS'][_0x53772b(0xe8)](_0x5d4130)){const _0x2f4d63=await fs_internal_1['FS'][_0x53772b(0x105)](_0x5d4130);this['parentComponents'][_0x253647]=await xml_1[_0x53772b(0xfc)][_0x53772b(0xef)](_0x2f4d63)[_0x53772b(0xdf)](_0x37927e=>this['handleXmlParsingError'](_0x37927e,_0x6fe42b));}else{this[_0x53772b(0x11b)][_0x253647]=await xml_1[_0x53772b(0xfc)][_0x53772b(0xef)](_0x22b137)[_0x53772b(0xdf)](_0x29a941=>this[_0x53772b(0x106)](_0x29a941,_0x6fe42b));return;}}const _0x5bb00d=this[_0x53772b(0x11b)][_0x253647],_0x6a5dd3=await xml_1['Xml']['parse'](_0x22b137)[_0x53772b(0xdf)](_0x8495ab=>this['handleXmlParsingError'](_0x8495ab,_0x6fe42b));xml_1['Xml'][_0x53772b(0x10e)](_0x5bb00d,_0x6a5dd3);}catch(_0x16cc3c){if(_0x16cc3c instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x53772b(0x10b)])return;else throw _0x16cc3c;}throw new Error(_0x53772b(0xdd)+_0x6fe42b[_0x53772b(0x11a)]+'\x20['+_0x6fe42b[_0x53772b(0xed)]+_0x53772b(0x101)+_0x16cc3c);}}async[a117_0x34eeae(0x114)](){const _0x5aa6ed=a117_0x34eeae;!await fs_internal_1['FS'][_0x5aa6ed(0xe8)](this[_0x5aa6ed(0xeb)])&&await fs_internal_1['FS']['makeDir'](this[_0x5aa6ed(0xeb)]);for(const _0x39b738 of this[_0x5aa6ed(0xe4)]){!child_types_1[_0x5aa6ed(0x118)][_0x5aa6ed(0xe2)](_0x39b738[_0x5aa6ed(0xed)])?await this[_0x5aa6ed(0x119)](_0x39b738):await this[_0x5aa6ed(0xfe)](_0x39b738);}const _0x28c0d6=Object[_0x5aa6ed(0x10a)](this['parentComponents']);this[_0x5aa6ed(0x11c)][_0x5aa6ed(0xf2)](_0x5aa6ed(0xe0),this[_0x5aa6ed(0xe4)][_0x5aa6ed(0x111)]);while(_0x28c0d6['length']){const _0x2940e7=_0x28c0d6[_0x5aa6ed(0xf1)](0x0,this[_0x5aa6ed(0xe6)]);for(const _0x30f7c7 of _0x2940e7){await fs_internal_1['FS'][_0x5aa6ed(0xf3)](path_1['default']['join'](this[_0x5aa6ed(0xeb)],_0x30f7c7),xml_1[_0x5aa6ed(0xfc)][_0x5aa6ed(0xe1)](this[_0x5aa6ed(0x11b)][_0x30f7c7]));}}this[_0x5aa6ed(0x11b)]={};}}exports[a117_0x34eeae(0xe5)]=MDApiWriter;