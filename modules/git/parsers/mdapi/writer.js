const a153_0x549c44=a153_0x27e0;(function(_0x1678f6,_0x2941a1){const _0x458212=a153_0x27e0,_0x52a80e=_0x1678f6();while(!![]){try{const _0x1388f1=-parseInt(_0x458212(0x9c))/0x1*(parseInt(_0x458212(0xc6))/0x2)+-parseInt(_0x458212(0xad))/0x3*(parseInt(_0x458212(0xb4))/0x4)+parseInt(_0x458212(0xc5))/0x5*(-parseInt(_0x458212(0xb9))/0x6)+parseInt(_0x458212(0xa0))/0x7+parseInt(_0x458212(0x97))/0x8*(parseInt(_0x458212(0xaf))/0x9)+-parseInt(_0x458212(0xce))/0xa+parseInt(_0x458212(0xcc))/0xb;if(_0x1388f1===_0x2941a1)break;else _0x52a80e['push'](_0x52a80e['shift']());}catch(_0x489996){_0x52a80e['push'](_0x52a80e['shift']());}}}(a153_0x590f,0xb2608));const a153_0x3a6300=(function(){let _0xc08acb=!![];return function(_0x168a97,_0x35501d){const _0xde79c5=_0xc08acb?function(){const _0x36fddc=a153_0x27e0;if(_0x35501d){const _0x17ea87=_0x35501d[_0x36fddc(0x8e)](_0x168a97,arguments);return _0x35501d=null,_0x17ea87;}}:function(){};return _0xc08acb=![],_0xde79c5;};}()),a153_0x3fef0c=a153_0x3a6300(this,function(){const _0x5d57d3=a153_0x27e0;return a153_0x3fef0c[_0x5d57d3(0x9d)]()[_0x5d57d3(0xc9)](_0x5d57d3(0xbf))[_0x5d57d3(0x9d)]()[_0x5d57d3(0xb3)](a153_0x3fef0c)[_0x5d57d3(0xc9)]('(((.+)+)+)+$');});function a153_0x27e0(_0x53f864,_0xb96b4c){const _0x190e0d=a153_0x590f();return a153_0x27e0=function(_0x3fef0c,_0x3a6300){_0x3fef0c=_0x3fef0c-0x8b;let _0x590fcb=_0x190e0d[_0x3fef0c];return _0x590fcb;},a153_0x27e0(_0x53f864,_0xb96b4c);}a153_0x3fef0c();'use strict';var __importDefault=this&&this[a153_0x549c44(0xab)]||function(_0x5e5ea7){const _0x19a203=a153_0x549c44;return _0x5e5ea7&&_0x5e5ea7[_0x19a203(0xa8)]?_0x5e5ea7:{'default':_0x5e5ea7};};Object[a153_0x549c44(0x99)](exports,'__esModule',{'value':!![]}),exports[a153_0x549c44(0xa4)]=void 0x0;const path_1=__importDefault(require(a153_0x549c44(0x8f))),core_1=require(a153_0x549c44(0x91)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a153_0x549c44(0xb0)),xml_v2_1=require(a153_0x549c44(0xc4)),zip_1=require(a153_0x549c44(0xbe)),child_types_1=__importDefault(require(a153_0x549c44(0xcb)));class MDApiWriter{constructor({components:_0x2a8e51,sourceDir:_0x35643b,skipChildErrors:_0x2ecc25}){const _0x5001a1=a153_0x549c44;this[_0x5001a1(0xba)]=0x64,this[_0x5001a1(0xa6)]={},this[_0x5001a1(0xc3)]=new core_1[(_0x5001a1(0x9a))](MDApiWriter[_0x5001a1(0xaa)]),this['components']=_0x2a8e51,this['sourceDir']=_0x35643b,this[_0x5001a1(0xb7)]=_0x2ecc25;}async[a153_0x549c44(0x9b)](_0x1ec289,_0x4e0e79=![]){const _0x457691=a153_0x549c44,_0x8bc61b=await zip_1['Zip'][_0x457691(0xc7)](_0x1ec289),_0x7f08be=[];for(const _0x2b2d50 of Object[_0x457691(0xcd)](_0x8bc61b[_0x457691(0x92)])){!_0x8bc61b[_0x457691(0x92)][_0x2b2d50][_0x457691(0xbc)]&&_0x7f08be['push']({'filename':_0x2b2d50,'body':await _0x8bc61b[_0x457691(0x92)][_0x2b2d50][_0x457691(0x90)](_0x4e0e79?_0x457691(0xae):_0x457691(0xc8))});}return _0x7f08be;}async[a153_0x549c44(0x8b)](_0x699067){const _0x102a31=a153_0x549c44;try{const _0x1c76f0=await this[_0x102a31(0x9b)](_0x699067[_0x102a31(0x8c)],!![]);await Promise[_0x102a31(0xb2)](_0x1c76f0[_0x102a31(0xb6)](({filename:_0x2c6eb4,body:_0xb9415})=>fs_internal_1['FS'][_0x102a31(0xc1)](path_1[_0x102a31(0xa2)][_0x102a31(0xa9)](this['sourceDir'],_0x2c6eb4),_0xb9415)));}catch(_0x1f7297){throw new Error(_0x102a31(0xa3)+_0x699067[_0x102a31(0xb8)]+'\x20['+_0x699067[_0x102a31(0xb1)]+_0x102a31(0x9e)+_0x1f7297);}}[a153_0x549c44(0xa7)](_0x78e815,_0x2435fb){const _0x5c08d3=a153_0x549c44;throw new invalid_xml_error_1[(_0x5c08d3(0x8d))](_0x5c08d3(0xb5)+_0x2435fb[_0x5c08d3(0xb8)]+'\x20['+_0x2435fb[_0x5c08d3(0xb1)]+_0x5c08d3(0x9e)+_0x78e815);}async['writeChild'](_0x5641c8){const _0x1f9912=a153_0x549c44,{filename:_0x742a33,body:_0x400f70}=(await this['readZip'](_0x5641c8[_0x1f9912(0x8c)]))[0x0];try{if(!this[_0x1f9912(0xa6)][_0x742a33]){const _0x2d8385=path_1[_0x1f9912(0xa2)]['join'](this[_0x1f9912(0xbd)],_0x742a33);if(await fs_internal_1['FS'][_0x1f9912(0x94)](_0x2d8385)){const _0x3e2a8d=await fs_internal_1['FS'][_0x1f9912(0xa5)](_0x2d8385);this['parentComponents'][_0x742a33]=await xml_v2_1[_0x1f9912(0xc0)]['parse'](_0x3e2a8d)[_0x1f9912(0x96)](_0x5de4c1=>this[_0x1f9912(0xa7)](_0x5de4c1,_0x5641c8));}else{this['parentComponents'][_0x742a33]=await xml_v2_1[_0x1f9912(0xc0)][_0x1f9912(0x98)](_0x400f70)['catch'](_0x35cec9=>this['handleXmlParsingError'](_0x35cec9,_0x5641c8));return;}}const _0xcac551=this[_0x1f9912(0xa6)][_0x742a33],_0x5f063d=await xml_v2_1[_0x1f9912(0xc0)][_0x1f9912(0x98)](_0x400f70)[_0x1f9912(0x96)](_0x4468d3=>this['handleXmlParsingError'](_0x4468d3,_0x5641c8));xml_v2_1[_0x1f9912(0xc0)][_0x1f9912(0x93)](_0xcac551,_0x5f063d);}catch(_0x23b709){if(_0x23b709 instanceof invalid_xml_error_1[_0x1f9912(0x8d)]){if(this['skipChildErrors'])return;else throw _0x23b709;}throw new Error(_0x1f9912(0xbb)+_0x5641c8[_0x1f9912(0xb8)]+'\x20['+_0x5641c8[_0x1f9912(0xb1)]+_0x1f9912(0x9e)+_0x23b709);}}async[a153_0x549c44(0xca)](){const _0x336621=a153_0x549c44;!await fs_internal_1['FS'][_0x336621(0x94)](this[_0x336621(0xbd)])&&await fs_internal_1['FS']['makeDir'](this[_0x336621(0xbd)]);for(const _0x127216 of this[_0x336621(0xac)]){!child_types_1['default'][_0x336621(0x9f)](_0x127216[_0x336621(0xb1)])?await this[_0x336621(0x8b)](_0x127216):await this[_0x336621(0xa1)](_0x127216);}const _0x51757c=Object[_0x336621(0xcd)](this[_0x336621(0xa6)]);this['internalLogger']['log']('have\x20to\x20write\x20%d\x20files',this[_0x336621(0xac)][_0x336621(0xc2)]);while(_0x51757c[_0x336621(0xc2)]){const _0x2f726e=_0x51757c['splice'](0x0,this[_0x336621(0xba)]);for(const _0x2b1ffc of _0x2f726e){await fs_internal_1['FS'][_0x336621(0xc1)](path_1[_0x336621(0xa2)][_0x336621(0xa9)](this[_0x336621(0xbd)],_0x2b1ffc),xml_v2_1[_0x336621(0xc0)][_0x336621(0x95)](this[_0x336621(0xa6)][_0x2b1ffc]));}}this['parentComponents']={};}}exports[a153_0x549c44(0xa4)]=MDApiWriter;function a153_0x590f(){const _0x323b61=['internalLogger','../utils/xml-v2','475oKFgQa','2CKZJgD','unzip','text','search','start','../data/child-types','22580811IHCNVI','keys','2556310cSTqNp','writeParent','body','InvalidXmlError','apply','path','async','../../../../core','files','replaceOrAppend','exists','convertToString','catch','23600ZKNFmF','parse','defineProperty','Logger','readZip','1008915sEKNKA','toString','].\x20Original\x20error:\x20','includes','3195437oMXBJh','writeChild','default','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','MDApiWriter','readFile','parentComponents','handleXmlParsingError','__esModule','join','name','__importDefault','components','2040927gBqFZZ','nodebuffer','3663dSjTmH','../errors/invalid-xml.error','fileType','all','constructor','4IUQCmL','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','map','skipChildErrors','fileName','65334hGFirV','MAX_WRITES_PER_TICK','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','dir','sourceDir','../utils/zip','(((.+)+)+)+$','XmlV2','writeFile','length'];a153_0x590f=function(){return _0x323b61;};return a153_0x590f();}