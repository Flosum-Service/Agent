const a148_0xcc2731=a148_0x5033;(function(_0x269cb8,_0x32b820){const _0x3b4b79=a148_0x5033,_0x4f8ec9=_0x269cb8();while(!![]){try{const _0x327d69=parseInt(_0x3b4b79(0x152))/0x1*(parseInt(_0x3b4b79(0x133))/0x2)+-parseInt(_0x3b4b79(0x157))/0x3*(-parseInt(_0x3b4b79(0x15c))/0x4)+parseInt(_0x3b4b79(0x144))/0x5*(-parseInt(_0x3b4b79(0x147))/0x6)+parseInt(_0x3b4b79(0x155))/0x7+-parseInt(_0x3b4b79(0x13e))/0x8*(-parseInt(_0x3b4b79(0x166))/0x9)+parseInt(_0x3b4b79(0x148))/0xa+-parseInt(_0x3b4b79(0x15a))/0xb;if(_0x327d69===_0x32b820)break;else _0x4f8ec9['push'](_0x4f8ec9['shift']());}catch(_0x1fceef){_0x4f8ec9['push'](_0x4f8ec9['shift']());}}}(a148_0x4977,0x59ec7));const a148_0x929ce6=(function(){let _0x3babd7=!![];return function(_0x4e1199,_0x39a89b){const _0x130fcb=_0x3babd7?function(){if(_0x39a89b){const _0x5538a1=_0x39a89b['apply'](_0x4e1199,arguments);return _0x39a89b=null,_0x5538a1;}}:function(){};return _0x3babd7=![],_0x130fcb;};}()),a148_0x5d1c98=a148_0x929ce6(this,function(){const _0x1e0fdc=a148_0x5033;return a148_0x5d1c98[_0x1e0fdc(0x143)]()['search'](_0x1e0fdc(0x132))[_0x1e0fdc(0x143)]()[_0x1e0fdc(0x149)](a148_0x5d1c98)[_0x1e0fdc(0x160)](_0x1e0fdc(0x132));});a148_0x5d1c98();'use strict';var __importDefault=this&&this[a148_0xcc2731(0x135)]||function(_0x4750eb){const _0x2e3f7a=a148_0xcc2731;return _0x4750eb&&_0x4750eb[_0x2e3f7a(0x14b)]?_0x4750eb:{'default':_0x4750eb};};function a148_0x4977(){const _0x26fd61=['convertToString','__importDefault','makeDir','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','text','async','XmlV2','skipChildErrors','../utils/zip','unzip','17424LznmXT','readZip','parse','join','readFile','toString','675175UYeLVg','path','Zip','18LOYymI','564830YIUYnd','constructor','../errors/invalid-xml.error','__esModule','default','catch','components','keys','handleXmlParsingError','exists','16NEWtly','internalLogger','MAX_WRITES_PER_TICK','5149382pInXrN','name','3vwMsTZ','defineProperty','push','10765018bMUVmq','fileName','1645948FRvkwM','sourceDir','writeChild','../../../../core','search','start','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','writeParent','InvalidXmlError','length','2133eDljwf','files','nodebuffer','body','map','].\x20Original\x20error:\x20','dir','log','all','parentComponents','Logger','writeFile','MDApiWriter','fileType','(((.+)+)+)+$','4036pVZqaN'];a148_0x4977=function(){return _0x26fd61;};return a148_0x4977();}function a148_0x5033(_0x40b320,_0x295a87){const _0x3e3fab=a148_0x4977();return a148_0x5033=function(_0x5d1c98,_0x929ce6){_0x5d1c98=_0x5d1c98-0x130;let _0x497759=_0x3e3fab[_0x5d1c98];return _0x497759;},a148_0x5033(_0x40b320,_0x295a87);}Object[a148_0xcc2731(0x158)](exports,a148_0xcc2731(0x14b),{'value':!![]}),exports[a148_0xcc2731(0x130)]=void 0x0;const path_1=__importDefault(require(a148_0xcc2731(0x145))),core_1=require(a148_0xcc2731(0x15f)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a148_0xcc2731(0x14a)),xml_v2_1=require('../utils/xml-v2'),zip_1=require(a148_0xcc2731(0x13c)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x5648fc,sourceDir:_0x244b0b,skipChildErrors:_0x3f1d38}){const _0x19dd8b=a148_0xcc2731;this[_0x19dd8b(0x154)]=0x64,this[_0x19dd8b(0x16f)]={},this[_0x19dd8b(0x153)]=new core_1[(_0x19dd8b(0x170))](MDApiWriter[_0x19dd8b(0x156)]),this[_0x19dd8b(0x14e)]=_0x5648fc,this[_0x19dd8b(0x15d)]=_0x244b0b,this[_0x19dd8b(0x13b)]=_0x3f1d38;}async[a148_0xcc2731(0x13f)](_0x2dd27a,_0x56a5ec=![]){const _0x1f6be3=a148_0xcc2731,_0x19bb07=await zip_1[_0x1f6be3(0x146)][_0x1f6be3(0x13d)](_0x2dd27a),_0x45d0ec=[];for(const _0x39a77e of Object['keys'](_0x19bb07[_0x1f6be3(0x167)])){!_0x19bb07['files'][_0x39a77e][_0x1f6be3(0x16c)]&&_0x45d0ec[_0x1f6be3(0x159)]({'filename':_0x39a77e,'body':await _0x19bb07['files'][_0x39a77e][_0x1f6be3(0x139)](_0x56a5ec?_0x1f6be3(0x168):_0x1f6be3(0x138))});}return _0x45d0ec;}async[a148_0xcc2731(0x163)](_0x312c0b){const _0x1c330d=a148_0xcc2731;try{const _0x11f6e0=await this['readZip'](_0x312c0b['body'],!![]);await Promise[_0x1c330d(0x16e)](_0x11f6e0[_0x1c330d(0x16a)](({filename:_0x2703a0,body:_0x5bedf9})=>fs_internal_1['FS']['writeFile'](path_1[_0x1c330d(0x14c)][_0x1c330d(0x141)](this[_0x1c330d(0x15d)],_0x2703a0),_0x5bedf9)));}catch(_0x2508c2){throw new Error(_0x1c330d(0x162)+_0x312c0b[_0x1c330d(0x15b)]+'\x20['+_0x312c0b[_0x1c330d(0x131)]+'].\x20Original\x20error:\x20'+_0x2508c2);}}[a148_0xcc2731(0x150)](_0x33e1f7,_0x45cb31){const _0x27b696=a148_0xcc2731;throw new invalid_xml_error_1['InvalidXmlError'](_0x27b696(0x137)+_0x45cb31[_0x27b696(0x15b)]+'\x20['+_0x45cb31[_0x27b696(0x131)]+_0x27b696(0x16b)+_0x33e1f7);}async[a148_0xcc2731(0x15e)](_0x56ea4e){const _0x2a8694=a148_0xcc2731,{filename:_0x4aeaa2,body:_0x4e6aa3}=(await this['readZip'](_0x56ea4e[_0x2a8694(0x169)]))[0x0];try{if(!this[_0x2a8694(0x16f)][_0x4aeaa2]){const _0x4bcf5b=path_1[_0x2a8694(0x14c)][_0x2a8694(0x141)](this['sourceDir'],_0x4aeaa2);if(await fs_internal_1['FS'][_0x2a8694(0x151)](_0x4bcf5b)){const _0xdffd6c=await fs_internal_1['FS'][_0x2a8694(0x142)](_0x4bcf5b);this[_0x2a8694(0x16f)][_0x4aeaa2]=await xml_v2_1['XmlV2'][_0x2a8694(0x140)](_0xdffd6c)[_0x2a8694(0x14d)](_0x502896=>this[_0x2a8694(0x150)](_0x502896,_0x56ea4e));}else{this[_0x2a8694(0x16f)][_0x4aeaa2]=await xml_v2_1[_0x2a8694(0x13a)][_0x2a8694(0x140)](_0x4e6aa3)[_0x2a8694(0x14d)](_0x1e2a19=>this[_0x2a8694(0x150)](_0x1e2a19,_0x56ea4e));return;}}const _0x1a3764=this[_0x2a8694(0x16f)][_0x4aeaa2],_0x1d6d1b=await xml_v2_1['XmlV2'][_0x2a8694(0x140)](_0x4e6aa3)[_0x2a8694(0x14d)](_0x56fcbb=>this[_0x2a8694(0x150)](_0x56fcbb,_0x56ea4e));xml_v2_1[_0x2a8694(0x13a)]['replaceOrAppend'](_0x1a3764,_0x1d6d1b);}catch(_0x30d5cc){if(_0x30d5cc instanceof invalid_xml_error_1[_0x2a8694(0x164)]){if(this[_0x2a8694(0x13b)])return;else throw _0x30d5cc;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x56ea4e[_0x2a8694(0x15b)]+'\x20['+_0x56ea4e[_0x2a8694(0x131)]+_0x2a8694(0x16b)+_0x30d5cc);}}async[a148_0xcc2731(0x161)](){const _0x50a181=a148_0xcc2731;!await fs_internal_1['FS']['exists'](this[_0x50a181(0x15d)])&&await fs_internal_1['FS'][_0x50a181(0x136)](this[_0x50a181(0x15d)]);for(const _0x3818a9 of this[_0x50a181(0x14e)]){!child_types_1[_0x50a181(0x14c)]['includes'](_0x3818a9[_0x50a181(0x131)])?await this[_0x50a181(0x163)](_0x3818a9):await this[_0x50a181(0x15e)](_0x3818a9);}const _0x3da2dd=Object[_0x50a181(0x14f)](this[_0x50a181(0x16f)]);this[_0x50a181(0x153)][_0x50a181(0x16d)]('have\x20to\x20write\x20%d\x20files',this[_0x50a181(0x14e)][_0x50a181(0x165)]);while(_0x3da2dd['length']){const _0x28d1cb=_0x3da2dd['splice'](0x0,this[_0x50a181(0x154)]);for(const _0xeda658 of _0x28d1cb){await fs_internal_1['FS'][_0x50a181(0x171)](path_1['default'][_0x50a181(0x141)](this[_0x50a181(0x15d)],_0xeda658),xml_v2_1[_0x50a181(0x13a)][_0x50a181(0x134)](this[_0x50a181(0x16f)][_0xeda658]));}}this[_0x50a181(0x16f)]={};}}exports[a148_0xcc2731(0x130)]=MDApiWriter;