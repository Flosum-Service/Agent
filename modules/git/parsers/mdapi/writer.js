const a117_0x1ba437=a117_0x39f5;function a117_0x39f5(_0x57a06a,_0x3f81fc){const _0x5e828a=a117_0x3221();return a117_0x39f5=function(_0x3980e4,_0x50ea1a){_0x3980e4=_0x3980e4-0x196;let _0x322180=_0x5e828a[_0x3980e4];return _0x322180;},a117_0x39f5(_0x57a06a,_0x3f81fc);}(function(_0xad5971,_0xb56a23){const _0x470e38=a117_0x39f5,_0x5534fd=_0xad5971();while(!![]){try{const _0x5ab793=-parseInt(_0x470e38(0x1d4))/0x1+-parseInt(_0x470e38(0x1b2))/0x2+parseInt(_0x470e38(0x19d))/0x3*(parseInt(_0x470e38(0x199))/0x4)+parseInt(_0x470e38(0x1c1))/0x5*(-parseInt(_0x470e38(0x1bc))/0x6)+-parseInt(_0x470e38(0x1be))/0x7+-parseInt(_0x470e38(0x1a1))/0x8+parseInt(_0x470e38(0x1a6))/0x9;if(_0x5ab793===_0xb56a23)break;else _0x5534fd['push'](_0x5534fd['shift']());}catch(_0x4bfde7){_0x5534fd['push'](_0x5534fd['shift']());}}}(a117_0x3221,0xadc30));const a117_0x50ea1a=(function(){let _0x45ea17=!![];return function(_0x5bc5a1,_0x3c7cc5){const _0x2976e2=_0x45ea17?function(){if(_0x3c7cc5){const _0x1b5435=_0x3c7cc5['apply'](_0x5bc5a1,arguments);return _0x3c7cc5=null,_0x1b5435;}}:function(){};return _0x45ea17=![],_0x2976e2;};}()),a117_0x3980e4=a117_0x50ea1a(this,function(){const _0x10f840=a117_0x39f5;return a117_0x3980e4[_0x10f840(0x19f)]()['search'](_0x10f840(0x1ad))[_0x10f840(0x19f)]()[_0x10f840(0x1bf)](a117_0x3980e4)[_0x10f840(0x1ba)]('(((.+)+)+)+$');});a117_0x3980e4();function a117_0x3221(){const _0x48e2a0=['replaceOrAppend','exists','skipChildErrors','length','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','(((.+)+)+)+$','files','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','convertToString','__esModule','1754258kJNbWz','internalLogger','dir','../errors/invalid-xml.error','readZip','../utils/xml','Xml','../data/child-types','search','catch','906YqCYCR','map','403242anDmNy','constructor','async','23710QgNsZE','unzip','keys','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','writeChild','text','default','../../../../core','sourceDir','].\x20Original\x20error:\x20','handleXmlParsingError','push','components','MAX_WRITES_PER_TICK','MDApiWriter','log','parentComponents','writeFile','have\x20to\x20write\x20%d\x20files','587721GwRMmR','nodebuffer','makeDir','start','2395796LZEfFP','includes','path','fileName','3nFoSjA','all','toString','fileType','321040SpLSwX','../../internal/fs.internal','join','parse','InvalidXmlError','21522663VjPnER','Zip'];a117_0x3221=function(){return _0x48e2a0;};return a117_0x3221();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x31413c){const _0x613d58=a117_0x39f5;return _0x31413c&&_0x31413c[_0x613d58(0x1b1)]?_0x31413c:{'default':_0x31413c};};Object['defineProperty'](exports,a117_0x1ba437(0x1b1),{'value':!![]}),exports[a117_0x1ba437(0x1cf)]=void 0x0;const path_1=__importDefault(require(a117_0x1ba437(0x19b))),core_1=require(a117_0x1ba437(0x1c8)),fs_internal_1=require(a117_0x1ba437(0x1a2)),invalid_xml_error_1=require(a117_0x1ba437(0x1b5)),xml_1=require(a117_0x1ba437(0x1b7)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a117_0x1ba437(0x1b9)));class MDApiWriter{constructor({components:_0x2e5507,sourceDir:_0x42448d,skipChildErrors:_0x17c22d}){const _0x259822=a117_0x1ba437;this['MAX_WRITES_PER_TICK']=0x64,this[_0x259822(0x1d1)]={},this[_0x259822(0x1b3)]=new core_1['Logger'](MDApiWriter['name']),this['components']=_0x2e5507,this[_0x259822(0x1c9)]=_0x42448d,this['skipChildErrors']=_0x17c22d;}async[a117_0x1ba437(0x1b6)](_0x57f5ee,_0x11f158=![]){const _0x2d0e4f=a117_0x1ba437,_0x20beb0=await zip_1[_0x2d0e4f(0x1a7)][_0x2d0e4f(0x1c2)](_0x57f5ee),_0x564e58=[];for(const _0x384e2c of Object[_0x2d0e4f(0x1c3)](_0x20beb0[_0x2d0e4f(0x1ae)])){!_0x20beb0['files'][_0x384e2c][_0x2d0e4f(0x1b4)]&&_0x564e58[_0x2d0e4f(0x1cc)]({'filename':_0x384e2c,'body':await _0x20beb0[_0x2d0e4f(0x1ae)][_0x384e2c][_0x2d0e4f(0x1c0)](_0x11f158?_0x2d0e4f(0x196):_0x2d0e4f(0x1c6))});}return _0x564e58;}async['writeParent'](_0x3f566b){const _0xfa299=a117_0x1ba437;try{const _0x42dbc5=await this[_0xfa299(0x1b6)](_0x3f566b['body'],!![]);await Promise[_0xfa299(0x19e)](_0x42dbc5[_0xfa299(0x1bd)](({filename:_0x341ecd,body:_0x193017})=>fs_internal_1['FS'][_0xfa299(0x1d2)](path_1[_0xfa299(0x1c7)]['join'](this[_0xfa299(0x1c9)],_0x341ecd),_0x193017)));}catch(_0x3ee895){throw new Error(_0xfa299(0x1af)+_0x3f566b[_0xfa299(0x19c)]+'\x20['+_0x3f566b[_0xfa299(0x1a0)]+_0xfa299(0x1ca)+_0x3ee895);}}['handleXmlParsingError'](_0x2f2453,_0x15429f){const _0x3e7f51=a117_0x1ba437;throw new invalid_xml_error_1[(_0x3e7f51(0x1a5))](_0x3e7f51(0x1c4)+_0x15429f['fileName']+'\x20['+_0x15429f['fileType']+_0x3e7f51(0x1ca)+_0x2f2453);}async[a117_0x1ba437(0x1c5)](_0x29b1a4){const _0x14b1f9=a117_0x1ba437,{filename:_0x47bedc,body:_0x4480fb}=(await this[_0x14b1f9(0x1b6)](_0x29b1a4['body']))[0x0];try{if(!this[_0x14b1f9(0x1d1)][_0x47bedc]){const _0x501510=path_1[_0x14b1f9(0x1c7)][_0x14b1f9(0x1a3)](this[_0x14b1f9(0x1c9)],_0x47bedc);if(await fs_internal_1['FS']['exists'](_0x501510)){const _0x4fbe56=await fs_internal_1['FS']['readFile'](_0x501510);this[_0x14b1f9(0x1d1)][_0x47bedc]=await xml_1[_0x14b1f9(0x1b8)][_0x14b1f9(0x1a4)](_0x4fbe56)[_0x14b1f9(0x1bb)](_0x40c74d=>this['handleXmlParsingError'](_0x40c74d,_0x29b1a4));}else{this[_0x14b1f9(0x1d1)][_0x47bedc]=await xml_1[_0x14b1f9(0x1b8)][_0x14b1f9(0x1a4)](_0x4480fb)['catch'](_0x2797e6=>this['handleXmlParsingError'](_0x2797e6,_0x29b1a4));return;}}const _0x3a4740=this['parentComponents'][_0x47bedc],_0x2374ad=await xml_1[_0x14b1f9(0x1b8)]['parse'](_0x4480fb)[_0x14b1f9(0x1bb)](_0x51de4d=>this[_0x14b1f9(0x1cb)](_0x51de4d,_0x29b1a4));xml_1[_0x14b1f9(0x1b8)][_0x14b1f9(0x1a8)](_0x3a4740,_0x2374ad);}catch(_0x3f32d4){if(_0x3f32d4 instanceof invalid_xml_error_1[_0x14b1f9(0x1a5)]){if(this[_0x14b1f9(0x1aa)])return;else throw _0x3f32d4;}throw new Error(_0x14b1f9(0x1ac)+_0x29b1a4[_0x14b1f9(0x19c)]+'\x20['+_0x29b1a4[_0x14b1f9(0x1a0)]+_0x14b1f9(0x1ca)+_0x3f32d4);}}async[a117_0x1ba437(0x198)](){const _0x5534c2=a117_0x1ba437;!await fs_internal_1['FS'][_0x5534c2(0x1a9)](this['sourceDir'])&&await fs_internal_1['FS'][_0x5534c2(0x197)](this[_0x5534c2(0x1c9)]);for(const _0x2b5dd7 of this[_0x5534c2(0x1cd)]){!child_types_1[_0x5534c2(0x1c7)][_0x5534c2(0x19a)](_0x2b5dd7['fileType'])?await this['writeParent'](_0x2b5dd7):await this['writeChild'](_0x2b5dd7);}const _0x247b0b=Object['keys'](this[_0x5534c2(0x1d1)]);this[_0x5534c2(0x1b3)][_0x5534c2(0x1d0)](_0x5534c2(0x1d3),this[_0x5534c2(0x1cd)][_0x5534c2(0x1ab)]);while(_0x247b0b[_0x5534c2(0x1ab)]){const _0x20adf0=_0x247b0b['splice'](0x0,this[_0x5534c2(0x1ce)]);for(const _0xda5ab7 of _0x20adf0){await fs_internal_1['FS']['writeFile'](path_1[_0x5534c2(0x1c7)][_0x5534c2(0x1a3)](this[_0x5534c2(0x1c9)],_0xda5ab7),xml_1[_0x5534c2(0x1b8)][_0x5534c2(0x1b0)](this['parentComponents'][_0xda5ab7]));}}this['parentComponents']={};}}exports[a117_0x1ba437(0x1cf)]=MDApiWriter;