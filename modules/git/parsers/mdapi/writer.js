const a117_0x5334ca=a117_0x5214;(function(_0x113ad5,_0x474212){const _0x3ac94e=a117_0x5214,_0x19fdcc=_0x113ad5();while(!![]){try{const _0x15cb30=-parseInt(_0x3ac94e(0xa5))/0x1+parseInt(_0x3ac94e(0x8f))/0x2*(parseInt(_0x3ac94e(0xb4))/0x3)+-parseInt(_0x3ac94e(0x84))/0x4*(-parseInt(_0x3ac94e(0x88))/0x5)+-parseInt(_0x3ac94e(0xb6))/0x6+parseInt(_0x3ac94e(0x81))/0x7*(-parseInt(_0x3ac94e(0x86))/0x8)+parseInt(_0x3ac94e(0x9e))/0x9*(-parseInt(_0x3ac94e(0x9c))/0xa)+-parseInt(_0x3ac94e(0x91))/0xb*(-parseInt(_0x3ac94e(0x89))/0xc);if(_0x15cb30===_0x474212)break;else _0x19fdcc['push'](_0x19fdcc['shift']());}catch(_0x4a82dd){_0x19fdcc['push'](_0x19fdcc['shift']());}}}(a117_0x1190,0xe03d0));function a117_0x1190(){const _0x4226e2=['fileType','745480iTKEhQ','components','36WbWFdA','unzip','InvalidXmlError','path','parentComponents','start','writeFile','1753919IwdlZA','makeDir','parse','files','nodebuffer','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','constructor','have\x20to\x20write\x20%d\x20files','writeParent','catch','Logger','../utils/zip','search','replaceOrAppend','toString','2196645RXQUYm','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','1424070ZEQkmp','internalLogger','handleXmlParsingError','defineProperty','all','7lHnZyq','default','exists','7456OnqcmK','push','7127656YDZlWi','splice','2690MTSIfV','12ScziQS','MDApiWriter','writeChild','../utils/xml','body','readZip','2LVyYQD','../../../../core','26002306wUXnQd','keys','fileName','MAX_WRITES_PER_TICK','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','join','Xml','../data/child-types','sourceDir','__esModule'];a117_0x1190=function(){return _0x4226e2;};return a117_0x1190();}function a117_0x5214(_0x403b2f,_0x477feb){const _0x574517=a117_0x1190();return a117_0x5214=function(_0x527be9,_0x3122b9){_0x527be9=_0x527be9-0x7d;let _0x11906c=_0x574517[_0x527be9];return _0x11906c;},a117_0x5214(_0x403b2f,_0x477feb);}const a117_0x3122b9=(function(){let _0x4de84f=!![];return function(_0x4f908a,_0x37d3fe){const _0x1eab7b=_0x4de84f?function(){if(_0x37d3fe){const _0x33846c=_0x37d3fe['apply'](_0x4f908a,arguments);return _0x37d3fe=null,_0x33846c;}}:function(){};return _0x4de84f=![],_0x1eab7b;};}()),a117_0x527be9=a117_0x3122b9(this,function(){const _0x1314e0=a117_0x5214;return a117_0x527be9[_0x1314e0(0xb3)]()[_0x1314e0(0xb1)]('(((.+)+)+)+$')[_0x1314e0(0xb3)]()[_0x1314e0(0xab)](a117_0x527be9)['search']('(((.+)+)+)+$');});a117_0x527be9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x152ba9){return _0x152ba9&&_0x152ba9['__esModule']?_0x152ba9:{'default':_0x152ba9};};Object[a117_0x5334ca(0x7f)](exports,a117_0x5334ca(0x9a),{'value':!![]}),exports[a117_0x5334ca(0x8a)]=void 0x0;const path_1=__importDefault(require(a117_0x5334ca(0xa1))),core_1=require(a117_0x5334ca(0x90)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_1=require(a117_0x5334ca(0x8c)),zip_1=require(a117_0x5334ca(0xb0)),child_types_1=__importDefault(require(a117_0x5334ca(0x98)));class MDApiWriter{constructor({components:_0x50af42,sourceDir:_0x41e9c6,skipChildErrors:_0x6f4d14}){const _0x471790=a117_0x5334ca;this[_0x471790(0x94)]=0x64,this[_0x471790(0xa2)]={},this[_0x471790(0x7d)]=new core_1[(_0x471790(0xaf))](MDApiWriter['name']),this[_0x471790(0x9d)]=_0x50af42,this['sourceDir']=_0x41e9c6,this['skipChildErrors']=_0x6f4d14;}async[a117_0x5334ca(0x8e)](_0x64d3a5,_0x1846b4=![]){const _0x2ddcac=a117_0x5334ca,_0x31ac69=await zip_1['Zip'][_0x2ddcac(0x9f)](_0x64d3a5),_0x1fe000=[];for(const _0x3fcd9f of Object[_0x2ddcac(0x92)](_0x31ac69[_0x2ddcac(0xa8)])){!_0x31ac69[_0x2ddcac(0xa8)][_0x3fcd9f]['dir']&&_0x1fe000[_0x2ddcac(0x85)]({'filename':_0x3fcd9f,'body':await _0x31ac69[_0x2ddcac(0xa8)][_0x3fcd9f]['async'](_0x1846b4?_0x2ddcac(0xa9):'text')});}return _0x1fe000;}async[a117_0x5334ca(0xad)](_0x537ac5){const _0x4895f2=a117_0x5334ca;try{const _0x3b0e8=await this[_0x4895f2(0x8e)](_0x537ac5[_0x4895f2(0x8d)],!![]);await Promise[_0x4895f2(0x80)](_0x3b0e8['map'](({filename:_0x117b84,body:_0x13718a})=>fs_internal_1['FS'][_0x4895f2(0xa4)](path_1[_0x4895f2(0x82)][_0x4895f2(0x96)](this['sourceDir'],_0x117b84),_0x13718a)));}catch(_0xdf68a5){throw new Error(_0x4895f2(0xb5)+_0x537ac5[_0x4895f2(0x93)]+'\x20['+_0x537ac5[_0x4895f2(0x9b)]+'].\x20Original\x20error:\x20'+_0xdf68a5);}}['handleXmlParsingError'](_0x4eb68b,_0x12e35e){const _0x4f2983=a117_0x5334ca;throw new invalid_xml_error_1['InvalidXmlError'](_0x4f2983(0x95)+_0x12e35e['fileName']+'\x20['+_0x12e35e[_0x4f2983(0x9b)]+'].\x20Original\x20error:\x20'+_0x4eb68b);}async[a117_0x5334ca(0x8b)](_0x99545b){const _0x27b049=a117_0x5334ca,{filename:_0x31e39c,body:_0x16bdaf}=(await this['readZip'](_0x99545b[_0x27b049(0x8d)]))[0x0];try{if(!this[_0x27b049(0xa2)][_0x31e39c]){const _0x51b616=path_1['default'][_0x27b049(0x96)](this[_0x27b049(0x99)],_0x31e39c);if(await fs_internal_1['FS'][_0x27b049(0x83)](_0x51b616)){const _0x34130b=await fs_internal_1['FS']['readFile'](_0x51b616);this[_0x27b049(0xa2)][_0x31e39c]=await xml_1['Xml']['parse'](_0x34130b)[_0x27b049(0xae)](_0x1520a1=>this[_0x27b049(0x7e)](_0x1520a1,_0x99545b));}else{this['parentComponents'][_0x31e39c]=await xml_1[_0x27b049(0x97)][_0x27b049(0xa7)](_0x16bdaf)[_0x27b049(0xae)](_0xe2c462=>this[_0x27b049(0x7e)](_0xe2c462,_0x99545b));return;}}const _0x5bcd85=this['parentComponents'][_0x31e39c],_0x4a8c13=await xml_1['Xml'][_0x27b049(0xa7)](_0x16bdaf)[_0x27b049(0xae)](_0x1cc1d4=>this[_0x27b049(0x7e)](_0x1cc1d4,_0x99545b));xml_1[_0x27b049(0x97)][_0x27b049(0xb2)](_0x5bcd85,_0x4a8c13);}catch(_0x3eee75){if(_0x3eee75 instanceof invalid_xml_error_1[_0x27b049(0xa0)]){if(this['skipChildErrors'])return;else throw _0x3eee75;}throw new Error(_0x27b049(0xaa)+_0x99545b[_0x27b049(0x93)]+'\x20['+_0x99545b['fileType']+'].\x20Original\x20error:\x20'+_0x3eee75);}}async[a117_0x5334ca(0xa3)](){const _0x462fd7=a117_0x5334ca;!await fs_internal_1['FS'][_0x462fd7(0x83)](this[_0x462fd7(0x99)])&&await fs_internal_1['FS'][_0x462fd7(0xa6)](this['sourceDir']);for(const _0x1516e6 of this[_0x462fd7(0x9d)]){!child_types_1[_0x462fd7(0x82)]['includes'](_0x1516e6[_0x462fd7(0x9b)])?await this[_0x462fd7(0xad)](_0x1516e6):await this[_0x462fd7(0x8b)](_0x1516e6);}const _0x1b841a=Object[_0x462fd7(0x92)](this[_0x462fd7(0xa2)]);this[_0x462fd7(0x7d)]['log'](_0x462fd7(0xac),this[_0x462fd7(0x9d)]['length']);while(_0x1b841a['length']){const _0x3fc096=_0x1b841a[_0x462fd7(0x87)](0x0,this[_0x462fd7(0x94)]);for(const _0x43c31e of _0x3fc096){await fs_internal_1['FS'][_0x462fd7(0xa4)](path_1[_0x462fd7(0x82)][_0x462fd7(0x96)](this[_0x462fd7(0x99)],_0x43c31e),xml_1[_0x462fd7(0x97)]['convertToString'](this[_0x462fd7(0xa2)][_0x43c31e]));}}this[_0x462fd7(0xa2)]={};}}exports[a117_0x5334ca(0x8a)]=MDApiWriter;