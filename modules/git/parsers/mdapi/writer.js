function a153_0x87b2(){const _0x4ba95e=['fileName','text','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../../../../core','internalLogger','671080RDbXWi','readFile','dir','handleXmlParsingError','writeFile','XmlV2','apply','../utils/zip','Logger','keys','catch','name','1931514XYfxvh','InvalidXmlError','push','parentComponents','1686GFHXAb','].\x20Original\x20error:\x20','unzip','replaceOrAppend','start','async','317718VceUyv','join','toString','__esModule','(((.+)+)+)+$','4sbtxAx','../utils/xml-v2','readZip','default','map','defineProperty','components','Zip','MAX_WRITES_PER_TICK','have\x20to\x20write\x20%d\x20files','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','exists','body','fileType','convertToString','all','2544465UDhsGv','writeParent','__importDefault','parse','path','MDApiWriter','sourceDir','length','writeChild','constructor','2545BjsXlf','files','skipChildErrors','8477397SJvhpp','splice','4563440GWSFkk','log'];a153_0x87b2=function(){return _0x4ba95e;};return a153_0x87b2();}const a153_0xb63d33=a153_0x4990;(function(_0x15eab9,_0x49ee27){const _0x52fc8d=a153_0x4990,_0x5e30a3=_0x15eab9();while(!![]){try{const _0x2b147f=parseInt(_0x52fc8d(0x1b7))/0x1+-parseInt(_0x52fc8d(0x1e2))/0x2+-parseInt(_0x52fc8d(0x1ee))/0x3*(-parseInt(_0x52fc8d(0x1bc))/0x4)+-parseInt(_0x52fc8d(0x1d6))/0x5*(parseInt(_0x52fc8d(0x1f2))/0x6)+-parseInt(_0x52fc8d(0x1cc))/0x7+-parseInt(_0x52fc8d(0x1db))/0x8+parseInt(_0x52fc8d(0x1d9))/0x9;if(_0x2b147f===_0x49ee27)break;else _0x5e30a3['push'](_0x5e30a3['shift']());}catch(_0x38852d){_0x5e30a3['push'](_0x5e30a3['shift']());}}}(a153_0x87b2,0x77df3));const a153_0x185477=(function(){let _0x1d0009=!![];return function(_0x2a075d,_0x45a9b4){const _0x27314b=_0x1d0009?function(){const _0x151915=a153_0x4990;if(_0x45a9b4){const _0x4ee800=_0x45a9b4[_0x151915(0x1e8)](_0x2a075d,arguments);return _0x45a9b4=null,_0x4ee800;}}:function(){};return _0x1d0009=![],_0x27314b;};}()),a153_0x377e02=a153_0x185477(this,function(){const _0x17b083=a153_0x4990;return a153_0x377e02['toString']()['search'](_0x17b083(0x1bb))[_0x17b083(0x1b9)]()[_0x17b083(0x1d5)](a153_0x377e02)['search'](_0x17b083(0x1bb));});a153_0x377e02();'use strict';var __importDefault=this&&this[a153_0xb63d33(0x1ce)]||function(_0x555a50){const _0x4c28a2=a153_0xb63d33;return _0x555a50&&_0x555a50[_0x4c28a2(0x1ba)]?_0x555a50:{'default':_0x555a50};};Object[a153_0xb63d33(0x1c1)](exports,a153_0xb63d33(0x1ba),{'value':!![]}),exports[a153_0xb63d33(0x1d1)]=void 0x0;const path_1=__importDefault(require(a153_0xb63d33(0x1d0))),core_1=require(a153_0xb63d33(0x1e0)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_v2_1=require(a153_0xb63d33(0x1bd)),zip_1=require(a153_0xb63d33(0x1e9)),child_types_1=__importDefault(require('../data/child-types'));function a153_0x4990(_0x2017f3,_0x5ac2b0){const _0x35eca2=a153_0x87b2();return a153_0x4990=function(_0x377e02,_0x185477){_0x377e02=_0x377e02-0x1b6;let _0x87b238=_0x35eca2[_0x377e02];return _0x87b238;},a153_0x4990(_0x2017f3,_0x5ac2b0);}class MDApiWriter{constructor({components:_0x44883d,sourceDir:_0x194a88,skipChildErrors:_0x583ab7}){const _0x1c8b8a=a153_0xb63d33;this[_0x1c8b8a(0x1c4)]=0x64,this[_0x1c8b8a(0x1f1)]={},this['internalLogger']=new core_1[(_0x1c8b8a(0x1ea))](MDApiWriter[_0x1c8b8a(0x1ed)]),this[_0x1c8b8a(0x1c2)]=_0x44883d,this[_0x1c8b8a(0x1d2)]=_0x194a88,this[_0x1c8b8a(0x1d8)]=_0x583ab7;}async[a153_0xb63d33(0x1be)](_0x27116e,_0x3a54cf=![]){const _0x3dae28=a153_0xb63d33,_0x150bf3=await zip_1[_0x3dae28(0x1c3)][_0x3dae28(0x1f4)](_0x27116e),_0x307638=[];for(const _0x68e61f of Object['keys'](_0x150bf3['files'])){!_0x150bf3[_0x3dae28(0x1d7)][_0x68e61f][_0x3dae28(0x1e4)]&&_0x307638[_0x3dae28(0x1f0)]({'filename':_0x68e61f,'body':await _0x150bf3[_0x3dae28(0x1d7)][_0x68e61f][_0x3dae28(0x1b6)](_0x3a54cf?'nodebuffer':_0x3dae28(0x1de))});}return _0x307638;}async[a153_0xb63d33(0x1cd)](_0x19064e){const _0x4b6918=a153_0xb63d33;try{const _0x4c0a91=await this['readZip'](_0x19064e['body'],!![]);await Promise[_0x4b6918(0x1cb)](_0x4c0a91[_0x4b6918(0x1c0)](({filename:_0x5e8451,body:_0x5bf32f})=>fs_internal_1['FS'][_0x4b6918(0x1e6)](path_1[_0x4b6918(0x1bf)][_0x4b6918(0x1b8)](this[_0x4b6918(0x1d2)],_0x5e8451),_0x5bf32f)));}catch(_0x3f0c0f){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x19064e['fileName']+'\x20['+_0x19064e['fileType']+_0x4b6918(0x1f3)+_0x3f0c0f);}}['handleXmlParsingError'](_0x345466,_0x485024){const _0x2a8de8=a153_0xb63d33;throw new invalid_xml_error_1[(_0x2a8de8(0x1ef))](_0x2a8de8(0x1c6)+_0x485024['fileName']+'\x20['+_0x485024['fileType']+_0x2a8de8(0x1f3)+_0x345466);}async[a153_0xb63d33(0x1d4)](_0x4dd95a){const _0x218b16=a153_0xb63d33,{filename:_0x5eef0a,body:_0x122843}=(await this[_0x218b16(0x1be)](_0x4dd95a[_0x218b16(0x1c8)]))[0x0];try{if(!this['parentComponents'][_0x5eef0a]){const _0x1f2590=path_1[_0x218b16(0x1bf)][_0x218b16(0x1b8)](this[_0x218b16(0x1d2)],_0x5eef0a);if(await fs_internal_1['FS'][_0x218b16(0x1c7)](_0x1f2590)){const _0x6fe54a=await fs_internal_1['FS'][_0x218b16(0x1e3)](_0x1f2590);this[_0x218b16(0x1f1)][_0x5eef0a]=await xml_v2_1[_0x218b16(0x1e7)][_0x218b16(0x1cf)](_0x6fe54a)[_0x218b16(0x1ec)](_0x19445c=>this[_0x218b16(0x1e5)](_0x19445c,_0x4dd95a));}else{this[_0x218b16(0x1f1)][_0x5eef0a]=await xml_v2_1[_0x218b16(0x1e7)][_0x218b16(0x1cf)](_0x122843)[_0x218b16(0x1ec)](_0x2ffa5c=>this[_0x218b16(0x1e5)](_0x2ffa5c,_0x4dd95a));return;}}const _0x5431d4=this['parentComponents'][_0x5eef0a],_0x4b5bb8=await xml_v2_1[_0x218b16(0x1e7)][_0x218b16(0x1cf)](_0x122843)[_0x218b16(0x1ec)](_0x3560ac=>this['handleXmlParsingError'](_0x3560ac,_0x4dd95a));xml_v2_1[_0x218b16(0x1e7)][_0x218b16(0x1f5)](_0x5431d4,_0x4b5bb8);}catch(_0x31d57c){if(_0x31d57c instanceof invalid_xml_error_1[_0x218b16(0x1ef)]){if(this[_0x218b16(0x1d8)])return;else throw _0x31d57c;}throw new Error(_0x218b16(0x1df)+_0x4dd95a[_0x218b16(0x1dd)]+'\x20['+_0x4dd95a[_0x218b16(0x1c9)]+_0x218b16(0x1f3)+_0x31d57c);}}async[a153_0xb63d33(0x1f6)](){const _0xb11941=a153_0xb63d33;!await fs_internal_1['FS']['exists'](this[_0xb11941(0x1d2)])&&await fs_internal_1['FS']['makeDir'](this['sourceDir']);const _0x489a9f=[],_0x5eada7=[];for(const _0x10d202 of this['components']){child_types_1[_0xb11941(0x1bf)]['includes'](_0x10d202[_0xb11941(0x1c9)])?_0x5eada7[_0xb11941(0x1f0)](_0x10d202):_0x489a9f[_0xb11941(0x1f0)](_0x10d202);}for(const _0x1fae85 of _0x489a9f){await this['writeParent'](_0x1fae85);}for(const _0x42f3d1 of _0x5eada7){await this['writeChild'](_0x42f3d1);}const _0x549901=Object[_0xb11941(0x1eb)](this[_0xb11941(0x1f1)]);this[_0xb11941(0x1e1)][_0xb11941(0x1dc)](_0xb11941(0x1c5),this[_0xb11941(0x1c2)][_0xb11941(0x1d3)]);while(_0x549901[_0xb11941(0x1d3)]){const _0x4dd779=_0x549901[_0xb11941(0x1da)](0x0,this[_0xb11941(0x1c4)]);for(const _0x15da98 of _0x4dd779){await fs_internal_1['FS']['writeFile'](path_1[_0xb11941(0x1bf)][_0xb11941(0x1b8)](this[_0xb11941(0x1d2)],_0x15da98),xml_v2_1[_0xb11941(0x1e7)][_0xb11941(0x1ca)](this[_0xb11941(0x1f1)][_0x15da98]));}}this[_0xb11941(0x1f1)]={};}}exports[a153_0xb63d33(0x1d1)]=MDApiWriter;