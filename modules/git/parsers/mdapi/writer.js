const a149_0x5f0401=a149_0x9de7;(function(_0x4414c8,_0x4f0bf6){const _0x573ec4=a149_0x9de7,_0x8657cf=_0x4414c8();while(!![]){try{const _0x3bf390=parseInt(_0x573ec4(0x152))/0x1*(parseInt(_0x573ec4(0x171))/0x2)+-parseInt(_0x573ec4(0x161))/0x3*(parseInt(_0x573ec4(0x13d))/0x4)+parseInt(_0x573ec4(0x13c))/0x5+parseInt(_0x573ec4(0x138))/0x6*(parseInt(_0x573ec4(0x15c))/0x7)+parseInt(_0x573ec4(0x153))/0x8+parseInt(_0x573ec4(0x13e))/0x9*(-parseInt(_0x573ec4(0x169))/0xa)+-parseInt(_0x573ec4(0x147))/0xb*(-parseInt(_0x573ec4(0x134))/0xc);if(_0x3bf390===_0x4f0bf6)break;else _0x8657cf['push'](_0x8657cf['shift']());}catch(_0x323e9a){_0x8657cf['push'](_0x8657cf['shift']());}}}(a149_0x2f8f,0xf0bdb));const a149_0x2a7137=(function(){let _0x1c4d06=!![];return function(_0x5bbf59,_0xbcb309){const _0x33dcd3=_0x1c4d06?function(){if(_0xbcb309){const _0x440372=_0xbcb309['apply'](_0x5bbf59,arguments);return _0xbcb309=null,_0x440372;}}:function(){};return _0x1c4d06=![],_0x33dcd3;};}()),a149_0x3906cb=a149_0x2a7137(this,function(){const _0x5ec5a0=a149_0x9de7;return a149_0x3906cb[_0x5ec5a0(0x145)]()['search'](_0x5ec5a0(0x143))['toString']()[_0x5ec5a0(0x160)](a149_0x3906cb)['search'](_0x5ec5a0(0x143));});a149_0x3906cb();'use strict';var __importDefault=this&&this[a149_0x5f0401(0x137)]||function(_0x5b2fbc){const _0xb62468=a149_0x5f0401;return _0x5b2fbc&&_0x5b2fbc[_0xb62468(0x16c)]?_0x5b2fbc:{'default':_0x5b2fbc};};Object[a149_0x5f0401(0x14b)](exports,a149_0x5f0401(0x16c),{'value':!![]}),exports[a149_0x5f0401(0x14c)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require('../../../../core'),fs_internal_1=require(a149_0x5f0401(0x156)),invalid_xml_error_1=require(a149_0x5f0401(0x16f)),xml_v2_1=require(a149_0x5f0401(0x170)),zip_1=require(a149_0x5f0401(0x146)),child_types_1=__importDefault(require(a149_0x5f0401(0x151)));function a149_0x9de7(_0x246c83,_0x15b1e2){const _0x124bcc=a149_0x2f8f();return a149_0x9de7=function(_0x3906cb,_0x2a7137){_0x3906cb=_0x3906cb-0x131;let _0x2f8f9e=_0x124bcc[_0x3906cb];return _0x2f8f9e;},a149_0x9de7(_0x246c83,_0x15b1e2);}class MDApiWriter{constructor({components:_0x39873e,sourceDir:_0x450fae,skipChildErrors:_0x5c73a1}){const _0x17b1b6=a149_0x5f0401;this[_0x17b1b6(0x139)]=0x64,this[_0x17b1b6(0x168)]={},this[_0x17b1b6(0x163)]=new core_1['Logger'](MDApiWriter[_0x17b1b6(0x14a)]),this['components']=_0x39873e,this[_0x17b1b6(0x141)]=_0x450fae,this[_0x17b1b6(0x150)]=_0x5c73a1;}async[a149_0x5f0401(0x149)](_0x21830d,_0x5d6560=![]){const _0x336f8b=a149_0x5f0401,_0x13e01f=await zip_1[_0x336f8b(0x14f)][_0x336f8b(0x16e)](_0x21830d),_0x23883a=[];for(const _0x4642f0 of Object[_0x336f8b(0x157)](_0x13e01f[_0x336f8b(0x15d)])){!_0x13e01f[_0x336f8b(0x15d)][_0x4642f0][_0x336f8b(0x13b)]&&_0x23883a[_0x336f8b(0x136)]({'filename':_0x4642f0,'body':await _0x13e01f[_0x336f8b(0x15d)][_0x4642f0][_0x336f8b(0x15b)](_0x5d6560?_0x336f8b(0x13f):_0x336f8b(0x144))});}return _0x23883a;}async['writeParent'](_0x317f80){const _0x3334b3=a149_0x5f0401;try{const _0x268571=await this[_0x3334b3(0x149)](_0x317f80[_0x3334b3(0x131)],!![]);await Promise[_0x3334b3(0x133)](_0x268571[_0x3334b3(0x162)](({filename:_0x4139f6,body:_0x5882e2})=>fs_internal_1['FS'][_0x3334b3(0x14d)](path_1[_0x3334b3(0x14e)][_0x3334b3(0x140)](this['sourceDir'],_0x4139f6),_0x5882e2)));}catch(_0xe4b58f){throw new Error(_0x3334b3(0x165)+_0x317f80[_0x3334b3(0x16b)]+'\x20['+_0x317f80[_0x3334b3(0x16a)]+_0x3334b3(0x16d)+_0xe4b58f);}}[a149_0x5f0401(0x154)](_0x3f67b7,_0x3390b5){const _0x5b3017=a149_0x5f0401;throw new invalid_xml_error_1['InvalidXmlError'](_0x5b3017(0x15a)+_0x3390b5[_0x5b3017(0x16b)]+'\x20['+_0x3390b5[_0x5b3017(0x16a)]+_0x5b3017(0x16d)+_0x3f67b7);}async[a149_0x5f0401(0x15f)](_0x4e7d23){const _0x3e7faa=a149_0x5f0401,{filename:_0x1108b0,body:_0x4f5752}=(await this[_0x3e7faa(0x149)](_0x4e7d23['body']))[0x0];try{if(!this[_0x3e7faa(0x168)][_0x1108b0]){const _0x1bec34=path_1[_0x3e7faa(0x14e)][_0x3e7faa(0x140)](this['sourceDir'],_0x1108b0);if(await fs_internal_1['FS'][_0x3e7faa(0x158)](_0x1bec34)){const _0x2c349a=await fs_internal_1['FS']['readFile'](_0x1bec34);this[_0x3e7faa(0x168)][_0x1108b0]=await xml_v2_1[_0x3e7faa(0x135)][_0x3e7faa(0x132)](_0x2c349a)['catch'](_0x25fb28=>this[_0x3e7faa(0x154)](_0x25fb28,_0x4e7d23));}else{this[_0x3e7faa(0x168)][_0x1108b0]=await xml_v2_1[_0x3e7faa(0x135)][_0x3e7faa(0x132)](_0x4f5752)['catch'](_0x5100d4=>this[_0x3e7faa(0x154)](_0x5100d4,_0x4e7d23));return;}}const _0x509c90=this[_0x3e7faa(0x168)][_0x1108b0],_0x1d4f02=await xml_v2_1[_0x3e7faa(0x135)][_0x3e7faa(0x132)](_0x4f5752)['catch'](_0x51f565=>this[_0x3e7faa(0x154)](_0x51f565,_0x4e7d23));xml_v2_1[_0x3e7faa(0x135)]['replaceOrAppend'](_0x509c90,_0x1d4f02);}catch(_0x325a66){if(_0x325a66 instanceof invalid_xml_error_1[_0x3e7faa(0x148)]){if(this[_0x3e7faa(0x150)])return;else throw _0x325a66;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x4e7d23[_0x3e7faa(0x16b)]+'\x20['+_0x4e7d23[_0x3e7faa(0x16a)]+_0x3e7faa(0x16d)+_0x325a66);}}async['start'](){const _0x82f120=a149_0x5f0401;!await fs_internal_1['FS'][_0x82f120(0x158)](this[_0x82f120(0x141)])&&await fs_internal_1['FS'][_0x82f120(0x166)](this[_0x82f120(0x141)]);for(const _0x2a7c80 of this[_0x82f120(0x167)]){!child_types_1[_0x82f120(0x14e)][_0x82f120(0x159)](_0x2a7c80[_0x82f120(0x16a)])?await this[_0x82f120(0x142)](_0x2a7c80):await this[_0x82f120(0x15f)](_0x2a7c80);}const _0x3a82cf=Object[_0x82f120(0x157)](this[_0x82f120(0x168)]);this[_0x82f120(0x163)][_0x82f120(0x13a)]('have\x20to\x20write\x20%d\x20files',this[_0x82f120(0x167)][_0x82f120(0x15e)]);while(_0x3a82cf[_0x82f120(0x15e)]){const _0x598f87=_0x3a82cf[_0x82f120(0x164)](0x0,this[_0x82f120(0x139)]);for(const _0x121c95 of _0x598f87){await fs_internal_1['FS'][_0x82f120(0x14d)](path_1[_0x82f120(0x14e)][_0x82f120(0x140)](this['sourceDir'],_0x121c95),xml_v2_1[_0x82f120(0x135)][_0x82f120(0x155)](this[_0x82f120(0x168)][_0x121c95]));}}this[_0x82f120(0x168)]={};}}function a149_0x2f8f(){const _0x47bf0c=['MDApiWriter','writeFile','default','Zip','skipChildErrors','../data/child-types','23LOTrgB','6657112sFFYum','handleXmlParsingError','convertToString','../../internal/fs.internal','keys','exists','includes','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','async','63FWipsa','files','length','writeChild','constructor','1455837TYCNVe','map','internalLogger','splice','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','makeDir','components','parentComponents','19016950isjZrt','fileType','fileName','__esModule','].\x20Original\x20error:\x20','unzip','../errors/invalid-xml.error','../utils/xml-v2','64966aZXShM','body','parse','all','12uakSZH','XmlV2','push','__importDefault','934098cFtTNB','MAX_WRITES_PER_TICK','log','dir','1054910exGJFo','16fqFrDN','9zHaVoj','nodebuffer','join','sourceDir','writeParent','(((.+)+)+)+$','text','toString','../utils/zip','18012599QKeGyn','InvalidXmlError','readZip','name','defineProperty'];a149_0x2f8f=function(){return _0x47bf0c;};return a149_0x2f8f();}exports[a149_0x5f0401(0x14c)]=MDApiWriter;