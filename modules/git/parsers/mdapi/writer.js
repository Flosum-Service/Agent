const a153_0x4c7dd7=a153_0x1521;(function(_0x5eecdc,_0x28562f){const _0x3e1ec3=a153_0x1521,_0x4ee60a=_0x5eecdc();while(!![]){try{const _0x2b2ee4=-parseInt(_0x3e1ec3(0x1fc))/0x1+-parseInt(_0x3e1ec3(0x211))/0x2+-parseInt(_0x3e1ec3(0x1e7))/0x3+parseInt(_0x3e1ec3(0x20e))/0x4*(-parseInt(_0x3e1ec3(0x200))/0x5)+parseInt(_0x3e1ec3(0x1e6))/0x6*(-parseInt(_0x3e1ec3(0x209))/0x7)+-parseInt(_0x3e1ec3(0x204))/0x8+parseInt(_0x3e1ec3(0x1df))/0x9*(parseInt(_0x3e1ec3(0x1de))/0xa);if(_0x2b2ee4===_0x28562f)break;else _0x4ee60a['push'](_0x4ee60a['shift']());}catch(_0x2a0bbb){_0x4ee60a['push'](_0x4ee60a['shift']());}}}(a153_0x8713,0x39eb9));const a153_0x101bfc=(function(){let _0x1ef684=!![];return function(_0x4b17d7,_0x56d3a8){const _0x5b2cfa=_0x1ef684?function(){const _0x2d2fd6=a153_0x1521;if(_0x56d3a8){const _0x40fc20=_0x56d3a8[_0x2d2fd6(0x1ee)](_0x4b17d7,arguments);return _0x56d3a8=null,_0x40fc20;}}:function(){};return _0x1ef684=![],_0x5b2cfa;};}()),a153_0x39274=a153_0x101bfc(this,function(){const _0x476ba4=a153_0x1521;return a153_0x39274[_0x476ba4(0x20a)]()[_0x476ba4(0x1f9)](_0x476ba4(0x1eb))['toString']()[_0x476ba4(0x1e3)](a153_0x39274)[_0x476ba4(0x1f9)](_0x476ba4(0x1eb));});function a153_0x8713(){const _0x4ae9c6=['skipChildErrors','unzip','../utils/zip','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','MDApiWriter','catch','keys','sourceDir','components','fileType','1180080nBkpAU','117NbTswM','handleXmlParsingError','splice','readFile','constructor','nodebuffer','fileName','6LyMEHU','184740NyrtnO','].\x20Original\x20error:\x20','files','log','(((.+)+)+)+$','start','replaceOrAppend','apply','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../../../../core','Zip','MAX_WRITES_PER_TICK','convertToString','parse','__esModule','Logger','__importDefault','../errors/invalid-xml.error','search','all','writeFile','120343zjBZnN','writeChild','exists','path','1090AYQMzi','join','includes','body','2725848uMFIHb','internalLogger','InvalidXmlError','XmlV2','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','2426221fdFWBQ','toString','have\x20to\x20write\x20%d\x20files','parentComponents','length','4244AgEfJw','readZip','../../internal/fs.internal','392616WAUXeb','map','writeParent','default','dir'];a153_0x8713=function(){return _0x4ae9c6;};return a153_0x8713();}a153_0x39274();function a153_0x1521(_0x3e8902,_0x52e9e7){const _0x113518=a153_0x8713();return a153_0x1521=function(_0x39274,_0x101bfc){_0x39274=_0x39274-0x1da;let _0x87131=_0x113518[_0x39274];return _0x87131;},a153_0x1521(_0x3e8902,_0x52e9e7);}'use strict';var __importDefault=this&&this[a153_0x4c7dd7(0x1f7)]||function(_0x16ced5){const _0x4d2636=a153_0x4c7dd7;return _0x16ced5&&_0x16ced5[_0x4d2636(0x1f5)]?_0x16ced5:{'default':_0x16ced5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a153_0x4c7dd7(0x21a)]=void 0x0;const path_1=__importDefault(require(a153_0x4c7dd7(0x1ff))),core_1=require(a153_0x4c7dd7(0x1f0)),fs_internal_1=require(a153_0x4c7dd7(0x210)),invalid_xml_error_1=require(a153_0x4c7dd7(0x1f8)),xml_v2_1=require('../utils/xml-v2'),zip_1=require(a153_0x4c7dd7(0x218)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x1931e5,sourceDir:_0x343479,skipChildErrors:_0x4b2004}){const _0x426d58=a153_0x4c7dd7;this[_0x426d58(0x1f2)]=0x64,this[_0x426d58(0x20c)]={},this['internalLogger']=new core_1[(_0x426d58(0x1f6))](MDApiWriter['name']),this['components']=_0x1931e5,this['sourceDir']=_0x343479,this[_0x426d58(0x216)]=_0x4b2004;}async['readZip'](_0x616405,_0x390473=![]){const _0x32c39c=a153_0x4c7dd7,_0x2207e3=await zip_1[_0x32c39c(0x1f1)][_0x32c39c(0x217)](_0x616405),_0x152378=[];for(const _0x3c8fb2 of Object['keys'](_0x2207e3[_0x32c39c(0x1e9)])){!_0x2207e3[_0x32c39c(0x1e9)][_0x3c8fb2][_0x32c39c(0x215)]&&_0x152378['push']({'filename':_0x3c8fb2,'body':await _0x2207e3[_0x32c39c(0x1e9)][_0x3c8fb2]['async'](_0x390473?_0x32c39c(0x1e4):'text')});}return _0x152378;}async[a153_0x4c7dd7(0x213)](_0x1ae710){const _0x92b42d=a153_0x4c7dd7;try{const _0x13d9be=await this['readZip'](_0x1ae710[_0x92b42d(0x203)],!![]);await Promise[_0x92b42d(0x1fa)](_0x13d9be[_0x92b42d(0x212)](({filename:_0x4dc036,body:_0x40cad0})=>fs_internal_1['FS'][_0x92b42d(0x1fb)](path_1[_0x92b42d(0x214)][_0x92b42d(0x201)](this[_0x92b42d(0x1db)],_0x4dc036),_0x40cad0)));}catch(_0x4494c9){throw new Error(_0x92b42d(0x219)+_0x1ae710[_0x92b42d(0x1e5)]+'\x20['+_0x1ae710[_0x92b42d(0x1dd)]+_0x92b42d(0x1e8)+_0x4494c9);}}['handleXmlParsingError'](_0x4937af,_0x51cb63){const _0x382a38=a153_0x4c7dd7;throw new invalid_xml_error_1[(_0x382a38(0x206))](_0x382a38(0x208)+_0x51cb63[_0x382a38(0x1e5)]+'\x20['+_0x51cb63[_0x382a38(0x1dd)]+_0x382a38(0x1e8)+_0x4937af);}async[a153_0x4c7dd7(0x1fd)](_0x416ede){const _0x1ee925=a153_0x4c7dd7,{filename:_0x586e75,body:_0x1b255f}=(await this[_0x1ee925(0x20f)](_0x416ede[_0x1ee925(0x203)]))[0x0];try{if(!this['parentComponents'][_0x586e75]){const _0x5dc8f2=path_1[_0x1ee925(0x214)][_0x1ee925(0x201)](this[_0x1ee925(0x1db)],_0x586e75);if(await fs_internal_1['FS'][_0x1ee925(0x1fe)](_0x5dc8f2)){const _0x446003=await fs_internal_1['FS'][_0x1ee925(0x1e2)](_0x5dc8f2);this[_0x1ee925(0x20c)][_0x586e75]=await xml_v2_1['XmlV2'][_0x1ee925(0x1f4)](_0x446003)['catch'](_0x2235c0=>this['handleXmlParsingError'](_0x2235c0,_0x416ede));}else{this[_0x1ee925(0x20c)][_0x586e75]=await xml_v2_1[_0x1ee925(0x207)]['parse'](_0x1b255f)[_0x1ee925(0x21b)](_0x3acaa4=>this[_0x1ee925(0x1e0)](_0x3acaa4,_0x416ede));return;}}const _0x25d18a=this[_0x1ee925(0x20c)][_0x586e75],_0x5b6e9c=await xml_v2_1[_0x1ee925(0x207)]['parse'](_0x1b255f)['catch'](_0x2a707a=>this['handleXmlParsingError'](_0x2a707a,_0x416ede));xml_v2_1[_0x1ee925(0x207)][_0x1ee925(0x1ed)](_0x25d18a,_0x5b6e9c);}catch(_0x50bdb2){if(_0x50bdb2 instanceof invalid_xml_error_1[_0x1ee925(0x206)]){if(this[_0x1ee925(0x216)])return;else throw _0x50bdb2;}throw new Error(_0x1ee925(0x1ef)+_0x416ede[_0x1ee925(0x1e5)]+'\x20['+_0x416ede['fileType']+_0x1ee925(0x1e8)+_0x50bdb2);}}async[a153_0x4c7dd7(0x1ec)](){const _0x5c53d9=a153_0x4c7dd7;!await fs_internal_1['FS'][_0x5c53d9(0x1fe)](this[_0x5c53d9(0x1db)])&&await fs_internal_1['FS']['makeDir'](this[_0x5c53d9(0x1db)]);for(const _0x111122 of this[_0x5c53d9(0x1dc)]){!child_types_1['default'][_0x5c53d9(0x202)](_0x111122[_0x5c53d9(0x1dd)])?await this[_0x5c53d9(0x213)](_0x111122):await this[_0x5c53d9(0x1fd)](_0x111122);}const _0x4c37e6=Object[_0x5c53d9(0x1da)](this['parentComponents']);this[_0x5c53d9(0x205)][_0x5c53d9(0x1ea)](_0x5c53d9(0x20b),this[_0x5c53d9(0x1dc)][_0x5c53d9(0x20d)]);while(_0x4c37e6[_0x5c53d9(0x20d)]){const _0x157443=_0x4c37e6[_0x5c53d9(0x1e1)](0x0,this[_0x5c53d9(0x1f2)]);for(const _0x1c9db1 of _0x157443){await fs_internal_1['FS'][_0x5c53d9(0x1fb)](path_1[_0x5c53d9(0x214)][_0x5c53d9(0x201)](this[_0x5c53d9(0x1db)],_0x1c9db1),xml_v2_1[_0x5c53d9(0x207)][_0x5c53d9(0x1f3)](this[_0x5c53d9(0x20c)][_0x1c9db1]));}}this[_0x5c53d9(0x20c)]={};}}exports[a153_0x4c7dd7(0x21a)]=MDApiWriter;