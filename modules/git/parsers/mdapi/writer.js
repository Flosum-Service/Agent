const a153_0x76f317=a153_0x5ec2;(function(_0x568849,_0x499955){const _0xb70630=a153_0x5ec2,_0xacca9e=_0x568849();while(!![]){try{const _0x40e45a=parseInt(_0xb70630(0x151))/0x1+-parseInt(_0xb70630(0x145))/0x2*(parseInt(_0xb70630(0x146))/0x3)+-parseInt(_0xb70630(0x12a))/0x4+-parseInt(_0xb70630(0x129))/0x5*(parseInt(_0xb70630(0x130))/0x6)+-parseInt(_0xb70630(0x14d))/0x7+-parseInt(_0xb70630(0x127))/0x8+parseInt(_0xb70630(0x155))/0x9*(parseInt(_0xb70630(0x135))/0xa);if(_0x40e45a===_0x499955)break;else _0xacca9e['push'](_0xacca9e['shift']());}catch(_0x146c6e){_0xacca9e['push'](_0xacca9e['shift']());}}}(a153_0x322a,0xc80e6));const a153_0x243233=(function(){let _0x25b510=!![];return function(_0x5749cc,_0x73cbb5){const _0x3f9b1e=_0x25b510?function(){const _0x3b272b=a153_0x5ec2;if(_0x73cbb5){const _0x10b253=_0x73cbb5[_0x3b272b(0x134)](_0x5749cc,arguments);return _0x73cbb5=null,_0x10b253;}}:function(){};return _0x25b510=![],_0x3f9b1e;};}()),a153_0x3b1123=a153_0x243233(this,function(){const _0x4ef5a1=a153_0x5ec2;return a153_0x3b1123['toString']()[_0x4ef5a1(0x139)]('(((.+)+)+)+$')[_0x4ef5a1(0x149)]()[_0x4ef5a1(0x153)](a153_0x3b1123)['search'](_0x4ef5a1(0x141));});a153_0x3b1123();function a153_0x322a(){const _0x1236a3=['525995NTLjoR','318120ZqeJbO','../../../../core','sourceDir','keys','../data/child-types','log','48bLyLAD','parse','writeFile','../errors/invalid-xml.error','apply','9424530kxqMUA','join','../../internal/fs.internal','../utils/zip','search','handleXmlParsingError','Logger','../utils/xml-v2','makeDir','XmlV2','length','text','(((.+)+)+)+$','unzip','readFile','fileType','404rRmExa','15621YncrFz','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','replaceOrAppend','toString','nodebuffer','InvalidXmlError','skipChildErrors','11044089OxqNgm','includes','all','components','419940EwhIMP','exists','constructor','async','45lwoQOL','Zip','default','].\x20Original\x20error:\x20','internalLogger','readZip','fileName','push','writeParent','catch','parentComponents','MAX_WRITES_PER_TICK','files','writeChild','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','__importDefault','MDApiWriter','6096896YAkQWq','body'];a153_0x322a=function(){return _0x1236a3;};return a153_0x322a();}'use strict';var __importDefault=this&&this[a153_0x76f317(0x125)]||function(_0x4e3de0){return _0x4e3de0&&_0x4e3de0['__esModule']?_0x4e3de0:{'default':_0x4e3de0};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a153_0x76f317(0x126)]=void 0x0;function a153_0x5ec2(_0x4d05c5,_0x36c383){const _0x168cef=a153_0x322a();return a153_0x5ec2=function(_0x3b1123,_0x243233){_0x3b1123=_0x3b1123-0x11a;let _0x322aac=_0x168cef[_0x3b1123];return _0x322aac;},a153_0x5ec2(_0x4d05c5,_0x36c383);}const path_1=__importDefault(require('path')),core_1=require(a153_0x76f317(0x12b)),fs_internal_1=require(a153_0x76f317(0x137)),invalid_xml_error_1=require(a153_0x76f317(0x133)),xml_v2_1=require(a153_0x76f317(0x13c)),zip_1=require(a153_0x76f317(0x138)),child_types_1=__importDefault(require(a153_0x76f317(0x12e)));class MDApiWriter{constructor({components:_0x3c0bd3,sourceDir:_0x35bfb2,skipChildErrors:_0x42d181}){const _0xcb4971=a153_0x76f317;this[_0xcb4971(0x121)]=0x64,this[_0xcb4971(0x120)]={},this[_0xcb4971(0x11a)]=new core_1[(_0xcb4971(0x13b))](MDApiWriter['name']),this['components']=_0x3c0bd3,this[_0xcb4971(0x12c)]=_0x35bfb2,this[_0xcb4971(0x14c)]=_0x42d181;}async[a153_0x76f317(0x11b)](_0x17260d,_0x54d959=![]){const _0x2e8929=a153_0x76f317,_0x578d0c=await zip_1[_0x2e8929(0x156)][_0x2e8929(0x142)](_0x17260d),_0x2c43fc=[];for(const _0x392cb9 of Object[_0x2e8929(0x12d)](_0x578d0c['files'])){!_0x578d0c['files'][_0x392cb9]['dir']&&_0x2c43fc[_0x2e8929(0x11d)]({'filename':_0x392cb9,'body':await _0x578d0c[_0x2e8929(0x122)][_0x392cb9][_0x2e8929(0x154)](_0x54d959?_0x2e8929(0x14a):_0x2e8929(0x140))});}return _0x2c43fc;}async[a153_0x76f317(0x11e)](_0x461d56){const _0x504930=a153_0x76f317;try{const _0x4543a8=await this[_0x504930(0x11b)](_0x461d56[_0x504930(0x128)],!![]);await Promise[_0x504930(0x14f)](_0x4543a8['map'](({filename:_0x392f6e,body:_0xa796c9})=>fs_internal_1['FS'][_0x504930(0x132)](path_1['default'][_0x504930(0x136)](this[_0x504930(0x12c)],_0x392f6e),_0xa796c9)));}catch(_0x4b68f1){throw new Error('[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x461d56['fileName']+'\x20['+_0x461d56[_0x504930(0x144)]+_0x504930(0x158)+_0x4b68f1);}}[a153_0x76f317(0x13a)](_0x4e8680,_0x3645d6){const _0x2dd7eb=a153_0x76f317;throw new invalid_xml_error_1['InvalidXmlError'](_0x2dd7eb(0x147)+_0x3645d6[_0x2dd7eb(0x11c)]+'\x20['+_0x3645d6['fileType']+_0x2dd7eb(0x158)+_0x4e8680);}async[a153_0x76f317(0x123)](_0x3282c3){const _0x243c82=a153_0x76f317,{filename:_0xbd56dc,body:_0x1ade92}=(await this[_0x243c82(0x11b)](_0x3282c3[_0x243c82(0x128)]))[0x0];try{if(!this['parentComponents'][_0xbd56dc]){const _0x42079c=path_1['default'][_0x243c82(0x136)](this[_0x243c82(0x12c)],_0xbd56dc);if(await fs_internal_1['FS']['exists'](_0x42079c)){const _0x366493=await fs_internal_1['FS'][_0x243c82(0x143)](_0x42079c);this[_0x243c82(0x120)][_0xbd56dc]=await xml_v2_1['XmlV2'][_0x243c82(0x131)](_0x366493)[_0x243c82(0x11f)](_0x1038f3=>this[_0x243c82(0x13a)](_0x1038f3,_0x3282c3));}else{this[_0x243c82(0x120)][_0xbd56dc]=await xml_v2_1[_0x243c82(0x13e)][_0x243c82(0x131)](_0x1ade92)[_0x243c82(0x11f)](_0x430dd3=>this[_0x243c82(0x13a)](_0x430dd3,_0x3282c3));return;}}const _0x2b6f70=this[_0x243c82(0x120)][_0xbd56dc],_0x3dd982=await xml_v2_1[_0x243c82(0x13e)][_0x243c82(0x131)](_0x1ade92)[_0x243c82(0x11f)](_0x37d21d=>this[_0x243c82(0x13a)](_0x37d21d,_0x3282c3));xml_v2_1[_0x243c82(0x13e)][_0x243c82(0x148)](_0x2b6f70,_0x3dd982);}catch(_0x428462){if(_0x428462 instanceof invalid_xml_error_1[_0x243c82(0x14b)]){if(this[_0x243c82(0x14c)])return;else throw _0x428462;}throw new Error(_0x243c82(0x124)+_0x3282c3[_0x243c82(0x11c)]+'\x20['+_0x3282c3[_0x243c82(0x144)]+_0x243c82(0x158)+_0x428462);}}async['start'](){const _0x1c35b3=a153_0x76f317;!await fs_internal_1['FS'][_0x1c35b3(0x152)](this[_0x1c35b3(0x12c)])&&await fs_internal_1['FS'][_0x1c35b3(0x13d)](this[_0x1c35b3(0x12c)]);for(const _0x2266c9 of this[_0x1c35b3(0x150)]){!child_types_1[_0x1c35b3(0x157)][_0x1c35b3(0x14e)](_0x2266c9['fileType'])?await this[_0x1c35b3(0x11e)](_0x2266c9):await this['writeChild'](_0x2266c9);}const _0x131639=Object[_0x1c35b3(0x12d)](this[_0x1c35b3(0x120)]);this[_0x1c35b3(0x11a)][_0x1c35b3(0x12f)]('have\x20to\x20write\x20%d\x20files',this[_0x1c35b3(0x150)][_0x1c35b3(0x13f)]);while(_0x131639[_0x1c35b3(0x13f)]){const _0x533d23=_0x131639['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1f1566 of _0x533d23){await fs_internal_1['FS'][_0x1c35b3(0x132)](path_1[_0x1c35b3(0x157)]['join'](this[_0x1c35b3(0x12c)],_0x1f1566),xml_v2_1[_0x1c35b3(0x13e)]['convertToString'](this[_0x1c35b3(0x120)][_0x1f1566]));}}this['parentComponents']={};}}exports['MDApiWriter']=MDApiWriter;