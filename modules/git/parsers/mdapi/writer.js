const a148_0x409c97=a148_0x5ecf;(function(_0x459555,_0x4fbaa1){const _0x746bd8=a148_0x5ecf,_0x28b0a6=_0x459555();while(!![]){try{const _0x3f26ba=-parseInt(_0x746bd8(0xea))/0x1+-parseInt(_0x746bd8(0x102))/0x2*(-parseInt(_0x746bd8(0x104))/0x3)+parseInt(_0x746bd8(0xfd))/0x4*(-parseInt(_0x746bd8(0xf7))/0x5)+parseInt(_0x746bd8(0xe6))/0x6+-parseInt(_0x746bd8(0xe8))/0x7*(parseInt(_0x746bd8(0xe2))/0x8)+parseInt(_0x746bd8(0xfe))/0x9+parseInt(_0x746bd8(0xf5))/0xa;if(_0x3f26ba===_0x4fbaa1)break;else _0x28b0a6['push'](_0x28b0a6['shift']());}catch(_0x1361d5){_0x28b0a6['push'](_0x28b0a6['shift']());}}}(a148_0x3bbb,0xb3f37));function a148_0x3bbb(){const _0xf79ae=['handleXmlParsingError','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','writeParent','MDApiWriter','unzip','__importDefault','../errors/invalid-xml.error','defineProperty','name','fileName','1799608EQxNvV','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','nodebuffer','search','2088192IAGyAn','readFile','35djMoKq','internalLogger','1253375thWBTK','__esModule','files','length','(((.+)+)+)+$','constructor','../data/child-types','parentComponents','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','catch','includes','20963810Pmufkw','keys','230JKxLNa','parse','../utils/zip','].\x20Original\x20error:\x20','sourceDir','../../../../core','93452ofbyJL','11608317bjDSsJ','../../internal/fs.internal','default','body','911362XyqJJv','fileType','3HdvHhd','replaceOrAppend','XmlV2','have\x20to\x20write\x20%d\x20files','exists','async','push','InvalidXmlError','components','skipChildErrors','makeDir','readZip','start','writeFile','join','toString','MAX_WRITES_PER_TICK'];a148_0x3bbb=function(){return _0xf79ae;};return a148_0x3bbb();}const a148_0x15a94d=(function(){let _0x2a0115=!![];return function(_0x566b57,_0xc67166){const _0x58a57a=_0x2a0115?function(){if(_0xc67166){const _0x521b50=_0xc67166['apply'](_0x566b57,arguments);return _0xc67166=null,_0x521b50;}}:function(){};return _0x2a0115=![],_0x58a57a;};}()),a148_0x3d0fba=a148_0x15a94d(this,function(){const _0x30dc54=a148_0x5ecf;return a148_0x3d0fba[_0x30dc54(0xd6)]()[_0x30dc54(0xe5)](_0x30dc54(0xee))[_0x30dc54(0xd6)]()[_0x30dc54(0xef)](a148_0x3d0fba)[_0x30dc54(0xe5)](_0x30dc54(0xee));});a148_0x3d0fba();'use strict';var __importDefault=this&&this[a148_0x409c97(0xdd)]||function(_0x5798c1){const _0x4460a7=a148_0x409c97;return _0x5798c1&&_0x5798c1[_0x4460a7(0xeb)]?_0x5798c1:{'default':_0x5798c1};};Object[a148_0x409c97(0xdf)](exports,'__esModule',{'value':!![]}),exports['MDApiWriter']=void 0x0;function a148_0x5ecf(_0x3ada65,_0x4235ce){const _0x3b9a31=a148_0x3bbb();return a148_0x5ecf=function(_0x3d0fba,_0x15a94d){_0x3d0fba=_0x3d0fba-0xd1;let _0x3bbb0b=_0x3b9a31[_0x3d0fba];return _0x3bbb0b;},a148_0x5ecf(_0x3ada65,_0x4235ce);}const path_1=__importDefault(require('path')),core_1=require(a148_0x409c97(0xfc)),fs_internal_1=require(a148_0x409c97(0xff)),invalid_xml_error_1=require(a148_0x409c97(0xde)),xml_v2_1=require('../utils/xml-v2'),zip_1=require(a148_0x409c97(0xf9)),child_types_1=__importDefault(require(a148_0x409c97(0xf0)));class MDApiWriter{constructor({components:_0x44bc99,sourceDir:_0x128646,skipChildErrors:_0x1a4140}){const _0x2df1b0=a148_0x409c97;this[_0x2df1b0(0xd7)]=0x64,this[_0x2df1b0(0xf1)]={},this['internalLogger']=new core_1['Logger'](MDApiWriter[_0x2df1b0(0xe0)]),this[_0x2df1b0(0x10c)]=_0x44bc99,this[_0x2df1b0(0xfb)]=_0x128646,this[_0x2df1b0(0x10d)]=_0x1a4140;}async[a148_0x409c97(0xd2)](_0x380688,_0x1a328c=![]){const _0x5eb99a=a148_0x409c97,_0x5e3e4c=await zip_1['Zip'][_0x5eb99a(0xdc)](_0x380688),_0x2c673e=[];for(const _0x57286c of Object[_0x5eb99a(0xf6)](_0x5e3e4c[_0x5eb99a(0xec)])){!_0x5e3e4c[_0x5eb99a(0xec)][_0x57286c]['dir']&&_0x2c673e[_0x5eb99a(0x10a)]({'filename':_0x57286c,'body':await _0x5e3e4c[_0x5eb99a(0xec)][_0x57286c][_0x5eb99a(0x109)](_0x1a328c?_0x5eb99a(0xe4):'text')});}return _0x2c673e;}async[a148_0x409c97(0xda)](_0x95cdd9){const _0x2c4b3d=a148_0x409c97;try{const _0x191b1d=await this[_0x2c4b3d(0xd2)](_0x95cdd9[_0x2c4b3d(0x101)],!![]);await Promise['all'](_0x191b1d['map'](({filename:_0x4035b4,body:_0x37c70f})=>fs_internal_1['FS'][_0x2c4b3d(0xd4)](path_1[_0x2c4b3d(0x100)]['join'](this[_0x2c4b3d(0xfb)],_0x4035b4),_0x37c70f)));}catch(_0x1f39df){throw new Error(_0x2c4b3d(0xd9)+_0x95cdd9['fileName']+'\x20['+_0x95cdd9[_0x2c4b3d(0x103)]+_0x2c4b3d(0xfa)+_0x1f39df);}}['handleXmlParsingError'](_0x2b3e78,_0x5364b4){const _0xedce6a=a148_0x409c97;throw new invalid_xml_error_1[(_0xedce6a(0x10b))](_0xedce6a(0xe3)+_0x5364b4[_0xedce6a(0xe1)]+'\x20['+_0x5364b4[_0xedce6a(0x103)]+_0xedce6a(0xfa)+_0x2b3e78);}async['writeChild'](_0x186e9a){const _0x26a9fb=a148_0x409c97,{filename:_0x2aa083,body:_0x5278fb}=(await this[_0x26a9fb(0xd2)](_0x186e9a['body']))[0x0];try{if(!this['parentComponents'][_0x2aa083]){const _0x4f272f=path_1[_0x26a9fb(0x100)]['join'](this[_0x26a9fb(0xfb)],_0x2aa083);if(await fs_internal_1['FS'][_0x26a9fb(0x108)](_0x4f272f)){const _0x5bdeb3=await fs_internal_1['FS'][_0x26a9fb(0xe7)](_0x4f272f);this['parentComponents'][_0x2aa083]=await xml_v2_1[_0x26a9fb(0x106)][_0x26a9fb(0xf8)](_0x5bdeb3)[_0x26a9fb(0xf3)](_0x1b7252=>this[_0x26a9fb(0xd8)](_0x1b7252,_0x186e9a));}else{this[_0x26a9fb(0xf1)][_0x2aa083]=await xml_v2_1[_0x26a9fb(0x106)]['parse'](_0x5278fb)[_0x26a9fb(0xf3)](_0x3433e3=>this[_0x26a9fb(0xd8)](_0x3433e3,_0x186e9a));return;}}const _0x5a9a35=this['parentComponents'][_0x2aa083],_0x4693a0=await xml_v2_1['XmlV2'][_0x26a9fb(0xf8)](_0x5278fb)[_0x26a9fb(0xf3)](_0x6201a9=>this[_0x26a9fb(0xd8)](_0x6201a9,_0x186e9a));xml_v2_1[_0x26a9fb(0x106)][_0x26a9fb(0x105)](_0x5a9a35,_0x4693a0);}catch(_0x25ee4c){if(_0x25ee4c instanceof invalid_xml_error_1[_0x26a9fb(0x10b)]){if(this[_0x26a9fb(0x10d)])return;else throw _0x25ee4c;}throw new Error(_0x26a9fb(0xf2)+_0x186e9a[_0x26a9fb(0xe1)]+'\x20['+_0x186e9a['fileType']+_0x26a9fb(0xfa)+_0x25ee4c);}}async[a148_0x409c97(0xd3)](){const _0x539c56=a148_0x409c97;!await fs_internal_1['FS'][_0x539c56(0x108)](this['sourceDir'])&&await fs_internal_1['FS'][_0x539c56(0xd1)](this[_0x539c56(0xfb)]);for(const _0x511c3e of this[_0x539c56(0x10c)]){!child_types_1['default'][_0x539c56(0xf4)](_0x511c3e['fileType'])?await this[_0x539c56(0xda)](_0x511c3e):await this['writeChild'](_0x511c3e);}const _0x307d9a=Object[_0x539c56(0xf6)](this[_0x539c56(0xf1)]);this[_0x539c56(0xe9)]['log'](_0x539c56(0x107),this['components']['length']);while(_0x307d9a[_0x539c56(0xed)]){const _0x4800a3=_0x307d9a['splice'](0x0,this[_0x539c56(0xd7)]);for(const _0x55736f of _0x4800a3){await fs_internal_1['FS'][_0x539c56(0xd4)](path_1[_0x539c56(0x100)][_0x539c56(0xd5)](this[_0x539c56(0xfb)],_0x55736f),xml_v2_1['XmlV2']['convertToString'](this[_0x539c56(0xf1)][_0x55736f]));}}this['parentComponents']={};}}exports[a148_0x409c97(0xdb)]=MDApiWriter;