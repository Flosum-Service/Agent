const a153_0x1eebf6=a153_0x28c4;(function(_0x3f4e72,_0x254217){const _0x399a8b=a153_0x28c4,_0xeedeb2=_0x3f4e72();while(!![]){try{const _0x285387=parseInt(_0x399a8b(0x128))/0x1*(-parseInt(_0x399a8b(0x13b))/0x2)+parseInt(_0x399a8b(0x14a))/0x3*(parseInt(_0x399a8b(0x13f))/0x4)+-parseInt(_0x399a8b(0x120))/0x5+-parseInt(_0x399a8b(0x13a))/0x6+parseInt(_0x399a8b(0x121))/0x7*(-parseInt(_0x399a8b(0x11d))/0x8)+-parseInt(_0x399a8b(0x150))/0x9*(parseInt(_0x399a8b(0x127))/0xa)+-parseInt(_0x399a8b(0x110))/0xb*(-parseInt(_0x399a8b(0x115))/0xc);if(_0x285387===_0x254217)break;else _0xeedeb2['push'](_0xeedeb2['shift']());}catch(_0x215efb){_0xeedeb2['push'](_0xeedeb2['shift']());}}}(a153_0x3d4e,0x60549));const a153_0x4f5511=(function(){let _0x194ec9=!![];return function(_0x14045e,_0x4b6f1b){const _0x4d9780=_0x194ec9?function(){const _0x2299b0=a153_0x28c4;if(_0x4b6f1b){const _0x4d2d6d=_0x4b6f1b[_0x2299b0(0x111)](_0x14045e,arguments);return _0x4b6f1b=null,_0x4d2d6d;}}:function(){};return _0x194ec9=![],_0x4d9780;};}()),a153_0x485c9b=a153_0x4f5511(this,function(){const _0x3a0ebd=a153_0x28c4;return a153_0x485c9b['toString']()[_0x3a0ebd(0x134)](_0x3a0ebd(0x12e))[_0x3a0ebd(0x11a)]()[_0x3a0ebd(0x117)](a153_0x485c9b)[_0x3a0ebd(0x134)](_0x3a0ebd(0x12e));});a153_0x485c9b();function a153_0x3d4e(){const _0x14dd12=['replaceOrAppend','332919ZmnXXb','have\x20to\x20write\x20%d\x20files','parse','unzip','15029179RCfTHP','apply','keys','internalLogger','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','12SQHpGq','all','constructor','writeChild','push','toString','MDApiWriter','parentComponents','8NCDqva','Logger','writeFile','263290MsUlLn','677299jKFTLu','writeParent','map','readZip','fileName','MAX_WRITES_PER_TICK','10HmsbQq','9QNyhie','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','readFile','../utils/zip','splice','fileType','(((.+)+)+)+$','../utils/xml-v2','__esModule','log','body','default','search','length','handleXmlParsingError','../../internal/fs.internal','sourceDir','XmlV2','3697614nDHDTI','116570QLTnpK','../data/child-types','].\x20Original\x20error:\x20','../errors/invalid-xml.error','880EGxfre','skipChildErrors','exists','makeDir','path','files','text','join','../../../../core','nodebuffer','name','4848knXrdW','catch','defineProperty','InvalidXmlError','components'];a153_0x3d4e=function(){return _0x14dd12;};return a153_0x3d4e();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x41da05){const _0x250122=a153_0x28c4;return _0x41da05&&_0x41da05[_0x250122(0x130)]?_0x41da05:{'default':_0x41da05};};Object[a153_0x1eebf6(0x14c)](exports,a153_0x1eebf6(0x130),{'value':!![]}),exports[a153_0x1eebf6(0x11b)]=void 0x0;const path_1=__importDefault(require(a153_0x1eebf6(0x143))),core_1=require(a153_0x1eebf6(0x147)),fs_internal_1=require(a153_0x1eebf6(0x137)),invalid_xml_error_1=require(a153_0x1eebf6(0x13e)),xml_v2_1=require(a153_0x1eebf6(0x12f)),zip_1=require(a153_0x1eebf6(0x12b)),child_types_1=__importDefault(require(a153_0x1eebf6(0x13c)));class MDApiWriter{constructor({components:_0x1e4252,sourceDir:_0x371624,skipChildErrors:_0x21fec5}){const _0x4f80f0=a153_0x1eebf6;this[_0x4f80f0(0x126)]=0x64,this[_0x4f80f0(0x11c)]={},this['internalLogger']=new core_1[(_0x4f80f0(0x11e))](MDApiWriter[_0x4f80f0(0x149)]),this['components']=_0x1e4252,this[_0x4f80f0(0x138)]=_0x371624,this[_0x4f80f0(0x140)]=_0x21fec5;}async['readZip'](_0x476a94,_0x2305d8=![]){const _0x4819fb=a153_0x1eebf6,_0x3ed931=await zip_1['Zip'][_0x4819fb(0x10f)](_0x476a94),_0xebdf1d=[];for(const _0x2dbd66 of Object['keys'](_0x3ed931[_0x4819fb(0x144)])){!_0x3ed931[_0x4819fb(0x144)][_0x2dbd66]['dir']&&_0xebdf1d[_0x4819fb(0x119)]({'filename':_0x2dbd66,'body':await _0x3ed931[_0x4819fb(0x144)][_0x2dbd66]['async'](_0x2305d8?_0x4819fb(0x148):_0x4819fb(0x145))});}return _0xebdf1d;}async['writeParent'](_0x436a34){const _0x3fed8c=a153_0x1eebf6;try{const _0x32c723=await this[_0x3fed8c(0x124)](_0x436a34[_0x3fed8c(0x132)],!![]);await Promise[_0x3fed8c(0x116)](_0x32c723[_0x3fed8c(0x123)](({filename:_0x23eddf,body:_0x415fe})=>fs_internal_1['FS']['writeFile'](path_1[_0x3fed8c(0x133)][_0x3fed8c(0x146)](this['sourceDir'],_0x23eddf),_0x415fe)));}catch(_0x48bc3e){throw new Error(_0x3fed8c(0x114)+_0x436a34[_0x3fed8c(0x125)]+'\x20['+_0x436a34['fileType']+_0x3fed8c(0x13d)+_0x48bc3e);}}[a153_0x1eebf6(0x136)](_0xa5e097,_0x4f578d){const _0x52bbd9=a153_0x1eebf6;throw new invalid_xml_error_1[(_0x52bbd9(0x14d))](_0x52bbd9(0x129)+_0x4f578d[_0x52bbd9(0x125)]+'\x20['+_0x4f578d[_0x52bbd9(0x12d)]+_0x52bbd9(0x13d)+_0xa5e097);}async[a153_0x1eebf6(0x118)](_0x5db4af){const _0x293ec7=a153_0x1eebf6,{filename:_0x28805c,body:_0x475edb}=(await this[_0x293ec7(0x124)](_0x5db4af['body']))[0x0];try{if(!this['parentComponents'][_0x28805c]){const _0x130ca1=path_1['default']['join'](this[_0x293ec7(0x138)],_0x28805c);if(await fs_internal_1['FS']['exists'](_0x130ca1)){const _0x2749be=await fs_internal_1['FS'][_0x293ec7(0x12a)](_0x130ca1);this[_0x293ec7(0x11c)][_0x28805c]=await xml_v2_1['XmlV2']['parse'](_0x2749be)['catch'](_0x10f05d=>this[_0x293ec7(0x136)](_0x10f05d,_0x5db4af));}else{this[_0x293ec7(0x11c)][_0x28805c]=await xml_v2_1[_0x293ec7(0x139)][_0x293ec7(0x10e)](_0x475edb)['catch'](_0x359070=>this['handleXmlParsingError'](_0x359070,_0x5db4af));return;}}const _0x293c1a=this['parentComponents'][_0x28805c],_0x415321=await xml_v2_1[_0x293ec7(0x139)]['parse'](_0x475edb)[_0x293ec7(0x14b)](_0x548bdf=>this[_0x293ec7(0x136)](_0x548bdf,_0x5db4af));xml_v2_1[_0x293ec7(0x139)][_0x293ec7(0x14f)](_0x293c1a,_0x415321);}catch(_0x4276e1){if(_0x4276e1 instanceof invalid_xml_error_1[_0x293ec7(0x14d)]){if(this[_0x293ec7(0x140)])return;else throw _0x4276e1;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x5db4af[_0x293ec7(0x125)]+'\x20['+_0x5db4af[_0x293ec7(0x12d)]+_0x293ec7(0x13d)+_0x4276e1);}}async['start'](){const _0xce984c=a153_0x1eebf6;!await fs_internal_1['FS'][_0xce984c(0x141)](this[_0xce984c(0x138)])&&await fs_internal_1['FS'][_0xce984c(0x142)](this[_0xce984c(0x138)]);for(const _0x236ac6 of this[_0xce984c(0x14e)]){!child_types_1['default']['includes'](_0x236ac6['fileType'])?await this[_0xce984c(0x122)](_0x236ac6):await this[_0xce984c(0x118)](_0x236ac6);}const _0x499ced=Object[_0xce984c(0x112)](this['parentComponents']);this[_0xce984c(0x113)][_0xce984c(0x131)](_0xce984c(0x151),this[_0xce984c(0x14e)]['length']);while(_0x499ced[_0xce984c(0x135)]){const _0x197903=_0x499ced[_0xce984c(0x12c)](0x0,this[_0xce984c(0x126)]);for(const _0x1d41c1 of _0x197903){await fs_internal_1['FS'][_0xce984c(0x11f)](path_1[_0xce984c(0x133)]['join'](this[_0xce984c(0x138)],_0x1d41c1),xml_v2_1['XmlV2']['convertToString'](this['parentComponents'][_0x1d41c1]));}}this['parentComponents']={};}}function a153_0x28c4(_0x217519,_0x5d525a){const _0x132d6=a153_0x3d4e();return a153_0x28c4=function(_0x485c9b,_0x4f5511){_0x485c9b=_0x485c9b-0x10e;let _0x3d4e7c=_0x132d6[_0x485c9b];return _0x3d4e7c;},a153_0x28c4(_0x217519,_0x5d525a);}exports[a153_0x1eebf6(0x11b)]=MDApiWriter;