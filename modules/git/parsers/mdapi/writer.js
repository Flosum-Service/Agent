const a148_0x1a7de5=a148_0x452d;function a148_0x5c7f(){const _0x33165c=['(((.+)+)+)+$','text','23603bTRNYo','have\x20to\x20write\x20%d\x20files','].\x20Original\x20error:\x20','join','../utils/xml-v2','readFile','914291NGooAo','replaceOrAppend','convertToString','parse','internalLogger','map','InvalidXmlError','search','defineProperty','constructor','344510stSVwl','includes','8hynAlf','1928772IGVLVI','apply','nodebuffer','MAX_WRITES_PER_TICK','exists','XmlV2','../utils/zip','name','components','readZip','Logger','657484eDGLCr','all','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','handleXmlParsingError','5OtzfGN','body','../../../../core','path','makeDir','MDApiWriter','splice','skipChildErrors','sourceDir','parentComponents','341580ePcLEW','toString','keys','fileName','async','../data/child-types','default','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','files','length','__importDefault','617160RkDlIE','fileType','unzip','writeParent','writeFile','catch','__esModule'];a148_0x5c7f=function(){return _0x33165c;};return a148_0x5c7f();}function a148_0x452d(_0x36a8f1,_0x102e75){const _0x4bb17e=a148_0x5c7f();return a148_0x452d=function(_0x525323,_0x15503c){_0x525323=_0x525323-0x1f4;let _0x5c7fdc=_0x4bb17e[_0x525323];return _0x5c7fdc;},a148_0x452d(_0x36a8f1,_0x102e75);}(function(_0x3640b0,_0x3f9aae){const _0x293402=a148_0x452d,_0x1153df=_0x3640b0();while(!![]){try{const _0x5cddce=-parseInt(_0x293402(0x20d))/0x1+parseInt(_0x293402(0x21d))/0x2+-parseInt(_0x293402(0x204))/0x3+-parseInt(_0x293402(0x22b))/0x4*(-parseInt(_0x293402(0x22f))/0x5)+-parseInt(_0x293402(0x1f9))/0x6+parseInt(_0x293402(0x213))/0x7*(-parseInt(_0x293402(0x21f))/0x8)+parseInt(_0x293402(0x220))/0x9;if(_0x5cddce===_0x3f9aae)break;else _0x1153df['push'](_0x1153df['shift']());}catch(_0x118d68){_0x1153df['push'](_0x1153df['shift']());}}}(a148_0x5c7f,0x20bb4));const a148_0x15503c=(function(){let _0x3d6897=!![];return function(_0x2dc17a,_0x325a39){const _0x38f26e=_0x3d6897?function(){const _0x4e0a4a=a148_0x452d;if(_0x325a39){const _0x49eb62=_0x325a39[_0x4e0a4a(0x221)](_0x2dc17a,arguments);return _0x325a39=null,_0x49eb62;}}:function(){};return _0x3d6897=![],_0x38f26e;};}()),a148_0x525323=a148_0x15503c(this,function(){const _0x1828fc=a148_0x452d;return a148_0x525323[_0x1828fc(0x1fa)]()['search'](_0x1828fc(0x20b))['toString']()[_0x1828fc(0x21c)](a148_0x525323)[_0x1828fc(0x21a)](_0x1828fc(0x20b));});a148_0x525323();'use strict';var __importDefault=this&&this[a148_0x1a7de5(0x203)]||function(_0x43dd04){const _0x4cef1e=a148_0x1a7de5;return _0x43dd04&&_0x43dd04[_0x4cef1e(0x20a)]?_0x43dd04:{'default':_0x43dd04};};Object[a148_0x1a7de5(0x21b)](exports,a148_0x1a7de5(0x20a),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a148_0x1a7de5(0x232))),core_1=require(a148_0x1a7de5(0x231)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require('../errors/invalid-xml.error'),xml_v2_1=require(a148_0x1a7de5(0x211)),zip_1=require(a148_0x1a7de5(0x226)),child_types_1=__importDefault(require(a148_0x1a7de5(0x1fe)));class MDApiWriter{constructor({components:_0x1944db,sourceDir:_0x22b9ff,skipChildErrors:_0x9ad782}){const _0x33b114=a148_0x1a7de5;this[_0x33b114(0x223)]=0x64,this[_0x33b114(0x1f8)]={},this[_0x33b114(0x217)]=new core_1[(_0x33b114(0x22a))](MDApiWriter[_0x33b114(0x227)]),this['components']=_0x1944db,this['sourceDir']=_0x22b9ff,this[_0x33b114(0x1f6)]=_0x9ad782;}async[a148_0x1a7de5(0x229)](_0x1925c0,_0x233aef=![]){const _0x514d44=a148_0x1a7de5,_0x5bab0e=await zip_1['Zip'][_0x514d44(0x206)](_0x1925c0),_0x205ae6=[];for(const _0x4bc10f of Object[_0x514d44(0x1fb)](_0x5bab0e['files'])){!_0x5bab0e['files'][_0x4bc10f]['dir']&&_0x205ae6['push']({'filename':_0x4bc10f,'body':await _0x5bab0e[_0x514d44(0x201)][_0x4bc10f][_0x514d44(0x1fd)](_0x233aef?_0x514d44(0x222):_0x514d44(0x20c))});}return _0x205ae6;}async[a148_0x1a7de5(0x207)](_0x466582){const _0x29c15b=a148_0x1a7de5;try{const _0x1eb09d=await this[_0x29c15b(0x229)](_0x466582[_0x29c15b(0x230)],!![]);await Promise[_0x29c15b(0x22c)](_0x1eb09d[_0x29c15b(0x218)](({filename:_0x5a4232,body:_0xe8ae4a})=>fs_internal_1['FS'][_0x29c15b(0x208)](path_1[_0x29c15b(0x1ff)]['join'](this['sourceDir'],_0x5a4232),_0xe8ae4a)));}catch(_0x37ef93){throw new Error(_0x29c15b(0x22d)+_0x466582[_0x29c15b(0x1fc)]+'\x20['+_0x466582['fileType']+'].\x20Original\x20error:\x20'+_0x37ef93);}}[a148_0x1a7de5(0x22e)](_0x2e378e,_0x2f1774){const _0x1750a7=a148_0x1a7de5;throw new invalid_xml_error_1[(_0x1750a7(0x219))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x2f1774['fileName']+'\x20['+_0x2f1774[_0x1750a7(0x205)]+_0x1750a7(0x20f)+_0x2e378e);}async['writeChild'](_0x45bec5){const _0x222893=a148_0x1a7de5,{filename:_0x5ce708,body:_0x4360b9}=(await this[_0x222893(0x229)](_0x45bec5[_0x222893(0x230)]))[0x0];try{if(!this[_0x222893(0x1f8)][_0x5ce708]){const _0x39da19=path_1['default'][_0x222893(0x210)](this[_0x222893(0x1f7)],_0x5ce708);if(await fs_internal_1['FS'][_0x222893(0x224)](_0x39da19)){const _0x2ab2a9=await fs_internal_1['FS'][_0x222893(0x212)](_0x39da19);this['parentComponents'][_0x5ce708]=await xml_v2_1['XmlV2'][_0x222893(0x216)](_0x2ab2a9)['catch'](_0x2d48a3=>this[_0x222893(0x22e)](_0x2d48a3,_0x45bec5));}else{this[_0x222893(0x1f8)][_0x5ce708]=await xml_v2_1[_0x222893(0x225)][_0x222893(0x216)](_0x4360b9)[_0x222893(0x209)](_0x420bc5=>this[_0x222893(0x22e)](_0x420bc5,_0x45bec5));return;}}const _0xd1089c=this[_0x222893(0x1f8)][_0x5ce708],_0x3c5be0=await xml_v2_1[_0x222893(0x225)][_0x222893(0x216)](_0x4360b9)[_0x222893(0x209)](_0x1003ee=>this[_0x222893(0x22e)](_0x1003ee,_0x45bec5));xml_v2_1[_0x222893(0x225)][_0x222893(0x214)](_0xd1089c,_0x3c5be0);}catch(_0x46f793){if(_0x46f793 instanceof invalid_xml_error_1[_0x222893(0x219)]){if(this['skipChildErrors'])return;else throw _0x46f793;}throw new Error(_0x222893(0x200)+_0x45bec5['fileName']+'\x20['+_0x45bec5[_0x222893(0x205)]+_0x222893(0x20f)+_0x46f793);}}async['start'](){const _0x560299=a148_0x1a7de5;!await fs_internal_1['FS']['exists'](this[_0x560299(0x1f7)])&&await fs_internal_1['FS'][_0x560299(0x233)](this[_0x560299(0x1f7)]);for(const _0x54e92c of this[_0x560299(0x228)]){!child_types_1[_0x560299(0x1ff)][_0x560299(0x21e)](_0x54e92c['fileType'])?await this[_0x560299(0x207)](_0x54e92c):await this['writeChild'](_0x54e92c);}const _0x1fbed8=Object['keys'](this[_0x560299(0x1f8)]);this[_0x560299(0x217)]['log'](_0x560299(0x20e),this[_0x560299(0x228)][_0x560299(0x202)]);while(_0x1fbed8['length']){const _0x41df48=_0x1fbed8[_0x560299(0x1f5)](0x0,this[_0x560299(0x223)]);for(const _0x52f276 of _0x41df48){await fs_internal_1['FS'][_0x560299(0x208)](path_1['default'][_0x560299(0x210)](this['sourceDir'],_0x52f276),xml_v2_1[_0x560299(0x225)][_0x560299(0x215)](this[_0x560299(0x1f8)][_0x52f276]));}}this[_0x560299(0x1f8)]={};}}exports[a148_0x1a7de5(0x1f4)]=MDApiWriter;