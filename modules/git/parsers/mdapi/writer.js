const a117_0x49bd5b=a117_0x4b9e;(function(_0xbc8243,_0x418bae){const _0x436efe=a117_0x4b9e,_0x1b3605=_0xbc8243();while(!![]){try{const _0x20aa45=-parseInt(_0x436efe(0xdc))/0x1+parseInt(_0x436efe(0xda))/0x2*(-parseInt(_0x436efe(0xee))/0x3)+-parseInt(_0x436efe(0xdb))/0x4+parseInt(_0x436efe(0xe8))/0x5+parseInt(_0x436efe(0xcf))/0x6*(parseInt(_0x436efe(0xba))/0x7)+parseInt(_0x436efe(0xcc))/0x8*(-parseInt(_0x436efe(0xbd))/0x9)+-parseInt(_0x436efe(0xf3))/0xa*(-parseInt(_0x436efe(0xcb))/0xb);if(_0x20aa45===_0x418bae)break;else _0x1b3605['push'](_0x1b3605['shift']());}catch(_0x508714){_0x1b3605['push'](_0x1b3605['shift']());}}}(a117_0x1091,0xc1a48));const a117_0x14531f=(function(){let _0x341e8a=!![];return function(_0x1614e5,_0x580813){const _0x317bb4=_0x341e8a?function(){const _0xa5e904=a117_0x4b9e;if(_0x580813){const _0x503c3b=_0x580813[_0xa5e904(0xe4)](_0x1614e5,arguments);return _0x580813=null,_0x503c3b;}}:function(){};return _0x341e8a=![],_0x317bb4;};}()),a117_0x276a12=a117_0x14531f(this,function(){const _0x383011=a117_0x4b9e;return a117_0x276a12[_0x383011(0xce)]()['search']('(((.+)+)+)+$')[_0x383011(0xce)]()[_0x383011(0xc9)](a117_0x276a12)['search'](_0x383011(0xea));});a117_0x276a12();'use strict';var __importDefault=this&&this[a117_0x49bd5b(0xe6)]||function(_0x4758df){return _0x4758df&&_0x4758df['__esModule']?_0x4758df:{'default':_0x4758df};};Object[a117_0x49bd5b(0xe1)](exports,a117_0x49bd5b(0xc8),{'value':!![]}),exports[a117_0x49bd5b(0xe7)]=void 0x0;function a117_0x4b9e(_0x190c05,_0x2c9b4f){const _0x4bea77=a117_0x1091();return a117_0x4b9e=function(_0x276a12,_0x14531f){_0x276a12=_0x276a12-0xb6;let _0x109129=_0x4bea77[_0x276a12];return _0x109129;},a117_0x4b9e(_0x190c05,_0x2c9b4f);}function a117_0x1091(){const _0x260977=['join','readZip','3jHGHOG','map','../../../../core','../utils/xml','Zip','20jCkNDZ','convertToString','../errors/invalid-xml.error','components','name','have\x20to\x20write\x20%d\x20files','449113poyGVJ','body','all','18648rnHIES','makeDir','replaceOrAppend','default','internalLogger','splice','Logger','skipChildErrors','writeChild','async','path','__esModule','constructor','MAX_WRITES_PER_TICK','5696229EqDBiz','584AtNfHN','parentComponents','toString','6PenQgZ','exists','readFile','fileType','handleXmlParsingError','fileName','log','keys','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','start','703394hMxtLI','3923020tqrXyp','109728UPEMTX','].\x20Original\x20error:\x20','files','catch','Xml','defineProperty','text','length','apply','../data/child-types','__importDefault','MDApiWriter','6433795TZFCTH','parse','(((.+)+)+)+$','sourceDir'];a117_0x1091=function(){return _0x260977;};return a117_0x1091();}const path_1=__importDefault(require(a117_0x49bd5b(0xc7))),core_1=require(a117_0x49bd5b(0xf0)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a117_0x49bd5b(0xb6)),xml_1=require(a117_0x49bd5b(0xf1)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a117_0x49bd5b(0xe5)));class MDApiWriter{constructor({components:_0x3189be,sourceDir:_0x1271af,skipChildErrors:_0x179b76}){const _0x15ca45=a117_0x49bd5b;this[_0x15ca45(0xca)]=0x64,this['parentComponents']={},this[_0x15ca45(0xc1)]=new core_1[(_0x15ca45(0xc3))](MDApiWriter[_0x15ca45(0xb8)]),this[_0x15ca45(0xb7)]=_0x3189be,this[_0x15ca45(0xeb)]=_0x1271af,this[_0x15ca45(0xc4)]=_0x179b76;}async[a117_0x49bd5b(0xed)](_0x3ad7db,_0x35ea5c=![]){const _0x3cec0a=a117_0x49bd5b,_0x315659=await zip_1[_0x3cec0a(0xf2)]['unzip'](_0x3ad7db),_0x3d3bdf=[];for(const _0x12c5c3 of Object[_0x3cec0a(0xd6)](_0x315659[_0x3cec0a(0xde)])){!_0x315659[_0x3cec0a(0xde)][_0x12c5c3]['dir']&&_0x3d3bdf['push']({'filename':_0x12c5c3,'body':await _0x315659[_0x3cec0a(0xde)][_0x12c5c3][_0x3cec0a(0xc6)](_0x35ea5c?'nodebuffer':_0x3cec0a(0xe2))});}return _0x3d3bdf;}async['writeParent'](_0x3b665a){const _0x2dfb80=a117_0x49bd5b;try{const _0x17059c=await this[_0x2dfb80(0xed)](_0x3b665a['body'],!![]);await Promise[_0x2dfb80(0xbc)](_0x17059c[_0x2dfb80(0xef)](({filename:_0x2ad547,body:_0x3b09f2})=>fs_internal_1['FS']['writeFile'](path_1[_0x2dfb80(0xc0)]['join'](this[_0x2dfb80(0xeb)],_0x2ad547),_0x3b09f2)));}catch(_0x31ecda){throw new Error(_0x2dfb80(0xd8)+_0x3b665a[_0x2dfb80(0xd4)]+'\x20['+_0x3b665a[_0x2dfb80(0xd2)]+'].\x20Original\x20error:\x20'+_0x31ecda);}}[a117_0x49bd5b(0xd3)](_0x33a0e9,_0x11475f){const _0x489664=a117_0x49bd5b;throw new invalid_xml_error_1['InvalidXmlError']('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x11475f[_0x489664(0xd4)]+'\x20['+_0x11475f[_0x489664(0xd2)]+'].\x20Original\x20error:\x20'+_0x33a0e9);}async[a117_0x49bd5b(0xc5)](_0x5c7620){const _0x2b4f49=a117_0x49bd5b,{filename:_0x14d518,body:_0x19a958}=(await this[_0x2b4f49(0xed)](_0x5c7620[_0x2b4f49(0xbb)]))[0x0];try{if(!this[_0x2b4f49(0xcd)][_0x14d518]){const _0x2e327e=path_1[_0x2b4f49(0xc0)]['join'](this['sourceDir'],_0x14d518);if(await fs_internal_1['FS'][_0x2b4f49(0xd0)](_0x2e327e)){const _0x46c012=await fs_internal_1['FS'][_0x2b4f49(0xd1)](_0x2e327e);this[_0x2b4f49(0xcd)][_0x14d518]=await xml_1[_0x2b4f49(0xe0)][_0x2b4f49(0xe9)](_0x46c012)['catch'](_0x392686=>this['handleXmlParsingError'](_0x392686,_0x5c7620));}else{this[_0x2b4f49(0xcd)][_0x14d518]=await xml_1[_0x2b4f49(0xe0)][_0x2b4f49(0xe9)](_0x19a958)['catch'](_0x143ab5=>this[_0x2b4f49(0xd3)](_0x143ab5,_0x5c7620));return;}}const _0x22b4fc=this[_0x2b4f49(0xcd)][_0x14d518],_0x2a49ea=await xml_1[_0x2b4f49(0xe0)][_0x2b4f49(0xe9)](_0x19a958)[_0x2b4f49(0xdf)](_0x1fad08=>this[_0x2b4f49(0xd3)](_0x1fad08,_0x5c7620));xml_1[_0x2b4f49(0xe0)][_0x2b4f49(0xbf)](_0x22b4fc,_0x2a49ea);}catch(_0x2fff7d){if(_0x2fff7d instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x2b4f49(0xc4)])return;else throw _0x2fff7d;}throw new Error(_0x2b4f49(0xd7)+_0x5c7620[_0x2b4f49(0xd4)]+'\x20['+_0x5c7620['fileType']+_0x2b4f49(0xdd)+_0x2fff7d);}}async[a117_0x49bd5b(0xd9)](){const _0x484760=a117_0x49bd5b;!await fs_internal_1['FS'][_0x484760(0xd0)](this[_0x484760(0xeb)])&&await fs_internal_1['FS'][_0x484760(0xbe)](this[_0x484760(0xeb)]);for(const _0x1d79fd of this[_0x484760(0xb7)]){!child_types_1[_0x484760(0xc0)]['includes'](_0x1d79fd[_0x484760(0xd2)])?await this['writeParent'](_0x1d79fd):await this['writeChild'](_0x1d79fd);}const _0x29ca0f=Object[_0x484760(0xd6)](this[_0x484760(0xcd)]);this['internalLogger'][_0x484760(0xd5)](_0x484760(0xb9),this[_0x484760(0xb7)]['length']);while(_0x29ca0f[_0x484760(0xe3)]){const _0x1921e8=_0x29ca0f[_0x484760(0xc2)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x39f6ba of _0x1921e8){await fs_internal_1['FS']['writeFile'](path_1[_0x484760(0xc0)][_0x484760(0xec)](this[_0x484760(0xeb)],_0x39f6ba),xml_1[_0x484760(0xe0)][_0x484760(0xf4)](this[_0x484760(0xcd)][_0x39f6ba]));}}this[_0x484760(0xcd)]={};}}exports[a117_0x49bd5b(0xe7)]=MDApiWriter;