const a104_0x1d3c75=a104_0x375b;(function(_0x2e8a23,_0x3f371d){const _0x2bd090=a104_0x375b,_0x29b370=_0x2e8a23();while(!![]){try{const _0x1489e2=-parseInt(_0x2bd090(0x1d1))/0x1*(parseInt(_0x2bd090(0x1cd))/0x2)+parseInt(_0x2bd090(0x1b8))/0x3*(parseInt(_0x2bd090(0x1e2))/0x4)+-parseInt(_0x2bd090(0x1e3))/0x5*(-parseInt(_0x2bd090(0x1de))/0x6)+-parseInt(_0x2bd090(0x1ea))/0x7*(-parseInt(_0x2bd090(0x1bb))/0x8)+parseInt(_0x2bd090(0x1cb))/0x9+-parseInt(_0x2bd090(0x1c3))/0xa+-parseInt(_0x2bd090(0x1e5))/0xb;if(_0x1489e2===_0x3f371d)break;else _0x29b370['push'](_0x29b370['shift']());}catch(_0x24cb3b){_0x29b370['push'](_0x29b370['shift']());}}}(a104_0x54b8,0x43c4d));const a104_0x386e40=(function(){let _0x5b36be=!![];return function(_0x50ac06,_0x24775d){const _0x49a070=_0x5b36be?function(){const _0xd8cef8=a104_0x375b;if(_0x24775d){const _0x397cd5=_0x24775d[_0xd8cef8(0x1c0)](_0x50ac06,arguments);return _0x24775d=null,_0x397cd5;}}:function(){};return _0x5b36be=![],_0x49a070;};}()),a104_0x3f532d=a104_0x386e40(this,function(){const _0x463672=a104_0x375b;return a104_0x3f532d[_0x463672(0x1b5)]()['search'](_0x463672(0x1c6))[_0x463672(0x1b5)]()['constructor'](a104_0x3f532d)['search'](_0x463672(0x1c6));});a104_0x3f532d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x150203){const _0x53b492=a104_0x375b;return _0x150203&&_0x150203[_0x53b492(0x1e8)]?_0x150203:{'default':_0x150203};};Object['defineProperty'](exports,a104_0x1d3c75(0x1e8),{'value':!![]}),exports[a104_0x1d3c75(0x1db)]=void 0x0;const path_1=__importDefault(require(a104_0x1d3c75(0x1d2))),core_1=require(a104_0x1d3c75(0x1c5)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a104_0x1d3c75(0x1ca)),xml_1=require(a104_0x1d3c75(0x1bd)),zip_1=require('../utils/zip'),child_types_1=__importDefault(require(a104_0x1d3c75(0x1d5)));class MDApiWriter{constructor({components:_0x17c9a1,sourceDir:_0x3678d5,skipChildErrors:_0x4d54db}){const _0x466dd4=a104_0x1d3c75;this[_0x466dd4(0x1cc)]=0x64,this[_0x466dd4(0x1c4)]={},this[_0x466dd4(0x1b7)]=new core_1[(_0x466dd4(0x1b4))](MDApiWriter[_0x466dd4(0x1bc)]),this[_0x466dd4(0x1e1)]=_0x17c9a1,this[_0x466dd4(0x1d4)]=_0x3678d5,this['skipChildErrors']=_0x4d54db;}async[a104_0x1d3c75(0x1c7)](_0x46f9b8,_0x124ca8=![]){const _0x56eb01=a104_0x1d3c75,_0x3f6811=await zip_1[_0x56eb01(0x1b9)][_0x56eb01(0x1c9)](_0x46f9b8),_0x2f9f82=[];for(const _0x28c894 of Object['keys'](_0x3f6811['files'])){!_0x3f6811[_0x56eb01(0x1da)][_0x28c894]['dir']&&_0x2f9f82[_0x56eb01(0x1c8)]({'filename':_0x28c894,'body':await _0x3f6811[_0x56eb01(0x1da)][_0x28c894][_0x56eb01(0x1dc)](_0x124ca8?_0x56eb01(0x1e6):_0x56eb01(0x1e9))});}return _0x2f9f82;}async['writeParent'](_0xb2f928){const _0x4c45b5=a104_0x1d3c75;try{const _0x425a79=await this[_0x4c45b5(0x1c7)](_0xb2f928[_0x4c45b5(0x1d7)],!![]);await Promise[_0x4c45b5(0x1bf)](_0x425a79[_0x4c45b5(0x1d3)](({filename:_0x5d6d2b,body:_0x3e6445})=>fs_internal_1['FS'][_0x4c45b5(0x1d9)](path_1[_0x4c45b5(0x1ce)][_0x4c45b5(0x1ed)](this['sourceDir'],_0x5d6d2b),_0x3e6445)));}catch(_0x888a3e){throw new Error(_0x4c45b5(0x1ec)+_0xb2f928[_0x4c45b5(0x1d8)]+'\x20['+_0xb2f928[_0x4c45b5(0x1dd)]+'].\x20Original\x20error:\x20'+_0x888a3e);}}[a104_0x1d3c75(0x1e7)](_0x236762,_0x2e0ca9){const _0x90527b=a104_0x1d3c75;throw new invalid_xml_error_1[(_0x90527b(0x1df))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x2e0ca9[_0x90527b(0x1d8)]+'\x20['+_0x2e0ca9['fileType']+_0x90527b(0x1b3)+_0x236762);}async[a104_0x1d3c75(0x1d6)](_0x3a822a){const _0x3ea9da=a104_0x1d3c75,{filename:_0x24ca0d,body:_0x206d50}=(await this['readZip'](_0x3a822a['body']))[0x0];try{if(!this[_0x3ea9da(0x1c4)][_0x24ca0d]){const _0xca1211=path_1[_0x3ea9da(0x1ce)]['join'](this['sourceDir'],_0x24ca0d);if(await fs_internal_1['FS'][_0x3ea9da(0x1d0)](_0xca1211)){const _0x4c144c=await fs_internal_1['FS'][_0x3ea9da(0x1e4)](_0xca1211);this[_0x3ea9da(0x1c4)][_0x24ca0d]=await xml_1['Xml']['parse'](_0x4c144c)[_0x3ea9da(0x1e0)](_0x42c59d=>this[_0x3ea9da(0x1e7)](_0x42c59d,_0x3a822a));}else{this[_0x3ea9da(0x1c4)][_0x24ca0d]=await xml_1[_0x3ea9da(0x1c2)]['parse'](_0x206d50)[_0x3ea9da(0x1e0)](_0x15b6f8=>this[_0x3ea9da(0x1e7)](_0x15b6f8,_0x3a822a));return;}}const _0x22b59c=this[_0x3ea9da(0x1c4)][_0x24ca0d],_0x1f3be1=await xml_1[_0x3ea9da(0x1c2)][_0x3ea9da(0x1cf)](_0x206d50)[_0x3ea9da(0x1e0)](_0x5be811=>this[_0x3ea9da(0x1e7)](_0x5be811,_0x3a822a));xml_1[_0x3ea9da(0x1c2)]['replaceOrAppend'](_0x22b59c,_0x1f3be1);}catch(_0x1724b2){if(_0x1724b2 instanceof invalid_xml_error_1[_0x3ea9da(0x1df)]){if(this[_0x3ea9da(0x1ba)])return;else throw _0x1724b2;}throw new Error('[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20'+_0x3a822a[_0x3ea9da(0x1d8)]+'\x20['+_0x3a822a[_0x3ea9da(0x1dd)]+'].\x20Original\x20error:\x20'+_0x1724b2);}}async['start'](){const _0x135d23=a104_0x1d3c75;!await fs_internal_1['FS'][_0x135d23(0x1d0)](this[_0x135d23(0x1d4)])&&await fs_internal_1['FS'][_0x135d23(0x1be)](this[_0x135d23(0x1d4)]);for(const _0x22789d of this['components']){!child_types_1[_0x135d23(0x1ce)]['includes'](_0x22789d[_0x135d23(0x1dd)])?await this['writeParent'](_0x22789d):await this[_0x135d23(0x1d6)](_0x22789d);}const _0x1d6ab0=Object[_0x135d23(0x1eb)](this[_0x135d23(0x1c4)]);this[_0x135d23(0x1b7)]['log'](_0x135d23(0x1b2),this['components'][_0x135d23(0x1b6)]);while(_0x1d6ab0[_0x135d23(0x1b6)]){const _0x589d27=_0x1d6ab0[_0x135d23(0x1c1)](0x0,this[_0x135d23(0x1cc)]);for(const _0x3878ff of _0x589d27){await fs_internal_1['FS'][_0x135d23(0x1d9)](path_1['default'][_0x135d23(0x1ed)](this[_0x135d23(0x1d4)],_0x3878ff),xml_1[_0x135d23(0x1c2)]['convertToString'](this[_0x135d23(0x1c4)][_0x3878ff]));}}this['parentComponents']={};}}function a104_0x375b(_0x48b687,_0x589c22){const _0x1123b9=a104_0x54b8();return a104_0x375b=function(_0x3f532d,_0x386e40){_0x3f532d=_0x3f532d-0x1b2;let _0x54b8de=_0x1123b9[_0x3f532d];return _0x54b8de;},a104_0x375b(_0x48b687,_0x589c22);}exports['MDApiWriter']=MDApiWriter;function a104_0x54b8(){const _0x136322=['../utils/xml','makeDir','all','apply','splice','Xml','3813190NmRdkl','parentComponents','../../../../core','(((.+)+)+)+$','readZip','push','unzip','../errors/invalid-xml.error','4450635NmCdId','MAX_WRITES_PER_TICK','414gScDMB','default','parse','exists','1201HCgvxl','path','map','sourceDir','../data/child-types','writeChild','body','fileName','writeFile','files','MDApiWriter','async','fileType','3558mtendV','InvalidXmlError','catch','components','4jycsfB','85OULCLS','readFile','1120526bdfZpd','nodebuffer','handleXmlParsingError','__esModule','text','333655RmEWiE','keys','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','join','have\x20to\x20write\x20%d\x20files','].\x20Original\x20error:\x20','Logger','toString','length','internalLogger','1228341HAMqkz','Zip','skipChildErrors','16MdAJpK','name'];a104_0x54b8=function(){return _0x136322;};return a104_0x54b8();}