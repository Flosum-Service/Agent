const a149_0x577e64=a149_0x4986;(function(_0xa0af5f,_0x5ebae0){const _0x1a099b=a149_0x4986,_0xb37185=_0xa0af5f();while(!![]){try{const _0x3a77fb=-parseInt(_0x1a099b(0x13c))/0x1*(parseInt(_0x1a099b(0x16a))/0x2)+-parseInt(_0x1a099b(0x166))/0x3+-parseInt(_0x1a099b(0x168))/0x4*(parseInt(_0x1a099b(0x158))/0x5)+-parseInt(_0x1a099b(0x178))/0x6+-parseInt(_0x1a099b(0x16c))/0x7*(parseInt(_0x1a099b(0x17a))/0x8)+-parseInt(_0x1a099b(0x145))/0x9*(parseInt(_0x1a099b(0x148))/0xa)+parseInt(_0x1a099b(0x14c))/0xb;if(_0x3a77fb===_0x5ebae0)break;else _0xb37185['push'](_0xb37185['shift']());}catch(_0x232bdc){_0xb37185['push'](_0xb37185['shift']());}}}(a149_0x5c1f,0x90350));const a149_0x205042=(function(){let _0x14ed90=!![];return function(_0xf18361,_0x5d2761){const _0x109fef=_0x14ed90?function(){if(_0x5d2761){const _0x2df783=_0x5d2761['apply'](_0xf18361,arguments);return _0x5d2761=null,_0x2df783;}}:function(){};return _0x14ed90=![],_0x109fef;};}()),a149_0x5bd88a=a149_0x205042(this,function(){const _0x60cd37=a149_0x4986;return a149_0x5bd88a['toString']()[_0x60cd37(0x13f)]('(((.+)+)+)+$')[_0x60cd37(0x141)]()[_0x60cd37(0x172)](a149_0x5bd88a)[_0x60cd37(0x13f)](_0x60cd37(0x147));});function a149_0x4986(_0x521d82,_0x5531ca){const _0x20b49=a149_0x5c1f();return a149_0x4986=function(_0x5bd88a,_0x205042){_0x5bd88a=_0x5bd88a-0x135;let _0x5c1f83=_0x20b49[_0x5bd88a];return _0x5c1f83;},a149_0x4986(_0x521d82,_0x5531ca);}a149_0x5bd88a();function a149_0x5c1f(){const _0x21479f=['files','nodebuffer','dir','map','MDApiWriter','readFile','join','log','1756584gLDEgI','have\x20to\x20write\x20%d\x20files','7952XSdpXU','InvalidXmlError','148660StazDg','path','7OSYCGh','fileType','start','../utils/xml-v2','replaceOrAppend','internalLogger','constructor','sourceDir','convertToString','name','__importDefault','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','6805380VEWbYF','async','2228536DxdERU','__esModule','fileName','writeParent','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../../internal/fs.internal','body','../utils/zip','Zip','5zIUoEv','splice','all','search','readZip','toString','length','../data/child-types','MAX_WRITES_PER_TICK','9hAIVWk','../errors/invalid-xml.error','(((.+)+)+)+$','9122860AXtRFX','parentComponents','includes','catch','45751255xmvQyR','components','parse','exists','keys','defineProperty','writeChild','makeDir','Logger','].\x20Original\x20error:\x20','unzip','default','720YrsGKk','text','handleXmlParsingError','XmlV2','skipChildErrors','writeFile'];a149_0x5c1f=function(){return _0x21479f;};return a149_0x5c1f();}'use strict';var __importDefault=this&&this[a149_0x577e64(0x176)]||function(_0x59700a){const _0x370b4c=a149_0x577e64;return _0x59700a&&_0x59700a[_0x370b4c(0x17b)]?_0x59700a:{'default':_0x59700a};};Object[a149_0x577e64(0x151)](exports,a149_0x577e64(0x17b),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a149_0x577e64(0x16b))),core_1=require('../../../../core'),fs_internal_1=require(a149_0x577e64(0x138)),invalid_xml_error_1=require(a149_0x577e64(0x146)),xml_v2_1=require(a149_0x577e64(0x16f)),zip_1=require(a149_0x577e64(0x13a)),child_types_1=__importDefault(require(a149_0x577e64(0x143)));class MDApiWriter{constructor({components:_0x29a893,sourceDir:_0xe9e3a1,skipChildErrors:_0x2a2e22}){const _0x47ab97=a149_0x577e64;this[_0x47ab97(0x144)]=0x64,this[_0x47ab97(0x149)]={},this[_0x47ab97(0x171)]=new core_1[(_0x47ab97(0x154))](MDApiWriter[_0x47ab97(0x175)]),this[_0x47ab97(0x14d)]=_0x29a893,this[_0x47ab97(0x173)]=_0xe9e3a1,this[_0x47ab97(0x15c)]=_0x2a2e22;}async[a149_0x577e64(0x140)](_0x5aaf45,_0x58bd5a=![]){const _0x59f9ac=a149_0x577e64,_0x154bf7=await zip_1[_0x59f9ac(0x13b)][_0x59f9ac(0x156)](_0x5aaf45),_0x423429=[];for(const _0x4f4de3 of Object[_0x59f9ac(0x150)](_0x154bf7[_0x59f9ac(0x15e)])){!_0x154bf7[_0x59f9ac(0x15e)][_0x4f4de3][_0x59f9ac(0x160)]&&_0x423429['push']({'filename':_0x4f4de3,'body':await _0x154bf7[_0x59f9ac(0x15e)][_0x4f4de3][_0x59f9ac(0x179)](_0x58bd5a?_0x59f9ac(0x15f):_0x59f9ac(0x159))});}return _0x423429;}async[a149_0x577e64(0x136)](_0x304945){const _0x11c0fa=a149_0x577e64;try{const _0x427576=await this['readZip'](_0x304945[_0x11c0fa(0x139)],!![]);await Promise[_0x11c0fa(0x13e)](_0x427576[_0x11c0fa(0x161)](({filename:_0x18008a,body:_0x405373})=>fs_internal_1['FS'][_0x11c0fa(0x15d)](path_1[_0x11c0fa(0x157)][_0x11c0fa(0x164)](this[_0x11c0fa(0x173)],_0x18008a),_0x405373)));}catch(_0x286c20){throw new Error(_0x11c0fa(0x177)+_0x304945[_0x11c0fa(0x135)]+'\x20['+_0x304945['fileType']+_0x11c0fa(0x155)+_0x286c20);}}[a149_0x577e64(0x15a)](_0x5d6bc7,_0x22f493){const _0xd6e490=a149_0x577e64;throw new invalid_xml_error_1['InvalidXmlError']('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x22f493[_0xd6e490(0x135)]+'\x20['+_0x22f493[_0xd6e490(0x16d)]+_0xd6e490(0x155)+_0x5d6bc7);}async['writeChild'](_0x5305c5){const _0x190c96=a149_0x577e64,{filename:_0x2bbb7e,body:_0xbae23b}=(await this[_0x190c96(0x140)](_0x5305c5[_0x190c96(0x139)]))[0x0];try{if(!this[_0x190c96(0x149)][_0x2bbb7e]){const _0x3e7501=path_1[_0x190c96(0x157)][_0x190c96(0x164)](this['sourceDir'],_0x2bbb7e);if(await fs_internal_1['FS']['exists'](_0x3e7501)){const _0x2cb9a4=await fs_internal_1['FS'][_0x190c96(0x163)](_0x3e7501);this[_0x190c96(0x149)][_0x2bbb7e]=await xml_v2_1[_0x190c96(0x15b)][_0x190c96(0x14e)](_0x2cb9a4)[_0x190c96(0x14b)](_0x5296a6=>this[_0x190c96(0x15a)](_0x5296a6,_0x5305c5));}else{this[_0x190c96(0x149)][_0x2bbb7e]=await xml_v2_1[_0x190c96(0x15b)][_0x190c96(0x14e)](_0xbae23b)['catch'](_0x1297be=>this[_0x190c96(0x15a)](_0x1297be,_0x5305c5));return;}}const _0x21bdce=this[_0x190c96(0x149)][_0x2bbb7e],_0x13c6d0=await xml_v2_1['XmlV2'][_0x190c96(0x14e)](_0xbae23b)[_0x190c96(0x14b)](_0x273e76=>this['handleXmlParsingError'](_0x273e76,_0x5305c5));xml_v2_1[_0x190c96(0x15b)][_0x190c96(0x170)](_0x21bdce,_0x13c6d0);}catch(_0x57a79f){if(_0x57a79f instanceof invalid_xml_error_1[_0x190c96(0x169)]){if(this[_0x190c96(0x15c)])return;else throw _0x57a79f;}throw new Error(_0x190c96(0x137)+_0x5305c5[_0x190c96(0x135)]+'\x20['+_0x5305c5['fileType']+_0x190c96(0x155)+_0x57a79f);}}async[a149_0x577e64(0x16e)](){const _0x5c5150=a149_0x577e64;!await fs_internal_1['FS'][_0x5c5150(0x14f)](this['sourceDir'])&&await fs_internal_1['FS'][_0x5c5150(0x153)](this['sourceDir']);for(const _0x39cfd7 of this[_0x5c5150(0x14d)]){!child_types_1[_0x5c5150(0x157)][_0x5c5150(0x14a)](_0x39cfd7[_0x5c5150(0x16d)])?await this['writeParent'](_0x39cfd7):await this[_0x5c5150(0x152)](_0x39cfd7);}const _0x5e5941=Object[_0x5c5150(0x150)](this['parentComponents']);this['internalLogger'][_0x5c5150(0x165)](_0x5c5150(0x167),this[_0x5c5150(0x14d)][_0x5c5150(0x142)]);while(_0x5e5941[_0x5c5150(0x142)]){const _0xd385d6=_0x5e5941[_0x5c5150(0x13d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x17fa95 of _0xd385d6){await fs_internal_1['FS'][_0x5c5150(0x15d)](path_1[_0x5c5150(0x157)]['join'](this[_0x5c5150(0x173)],_0x17fa95),xml_v2_1[_0x5c5150(0x15b)][_0x5c5150(0x174)](this[_0x5c5150(0x149)][_0x17fa95]));}}this[_0x5c5150(0x149)]={};}}exports[a149_0x577e64(0x162)]=MDApiWriter;