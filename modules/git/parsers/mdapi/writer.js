const a117_0x2d24e5=a117_0x2cb6;(function(_0x120f92,_0x4b2d43){const _0x52ad70=a117_0x2cb6,_0x44f384=_0x120f92();while(!![]){try{const _0x387b3c=-parseInt(_0x52ad70(0x15c))/0x1+-parseInt(_0x52ad70(0x164))/0x2+parseInt(_0x52ad70(0x16d))/0x3*(parseInt(_0x52ad70(0x150))/0x4)+parseInt(_0x52ad70(0x17e))/0x5*(-parseInt(_0x52ad70(0x154))/0x6)+parseInt(_0x52ad70(0x16b))/0x7+-parseInt(_0x52ad70(0x163))/0x8*(parseInt(_0x52ad70(0x160))/0x9)+parseInt(_0x52ad70(0x16f))/0xa;if(_0x387b3c===_0x4b2d43)break;else _0x44f384['push'](_0x44f384['shift']());}catch(_0x5d5cb0){_0x44f384['push'](_0x44f384['shift']());}}}(a117_0x56e2,0x8575e));function a117_0x2cb6(_0x48f446,_0x529dbc){const _0x58ab0d=a117_0x56e2();return a117_0x2cb6=function(_0x456170,_0x21bbe3){_0x456170=_0x456170-0x14b;let _0x56e219=_0x58ab0d[_0x456170];return _0x56e219;},a117_0x2cb6(_0x48f446,_0x529dbc);}const a117_0x21bbe3=(function(){let _0x4c8618=!![];return function(_0x264987,_0x477d3d){const _0x4d844d=_0x4c8618?function(){if(_0x477d3d){const _0x168cd8=_0x477d3d['apply'](_0x264987,arguments);return _0x477d3d=null,_0x168cd8;}}:function(){};return _0x4c8618=![],_0x4d844d;};}()),a117_0x456170=a117_0x21bbe3(this,function(){const _0x5e7ac9=a117_0x2cb6;return a117_0x456170['toString']()[_0x5e7ac9(0x185)](_0x5e7ac9(0x161))[_0x5e7ac9(0x17f)]()['constructor'](a117_0x456170)[_0x5e7ac9(0x185)](_0x5e7ac9(0x161));});a117_0x456170();'use strict';var __importDefault=this&&this[a117_0x2d24e5(0x180)]||function(_0xd89b69){const _0x52970c=a117_0x2d24e5;return _0xd89b69&&_0xd89b69[_0x52970c(0x184)]?_0xd89b69:{'default':_0xd89b69};};function a117_0x56e2(){const _0x3ae9ee=['search','exists','includes','Logger','log','readFile','keys','1192ftfkNc','catch','writeParent','makeDir','120732dKKdRi','Xml','Zip','readZip','start','length','fileType','MAX_WRITES_PER_TICK','522146gMitgO','InvalidXmlError','../../../../core','files','1734588eVimKs','(((.+)+)+)+$','internalLogger','8suExTg','2038906yksZoz','skipChildErrors','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','handleXmlParsingError','].\x20Original\x20error:\x20','../utils/zip','writeChild','3536596pIkSJO','unzip','2427NnuJih','join','23797990wnIHAy','body','push','all','default','../utils/xml','sourceDir','components','have\x20to\x20write\x20%d\x20files','MDApiWriter','replaceOrAppend','../errors/invalid-xml.error','parentComponents','[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20','parse','210KvhDBk','toString','__importDefault','fileName','splice','map','__esModule'];a117_0x56e2=function(){return _0x3ae9ee;};return a117_0x56e2();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a117_0x2d24e5(0x178)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a117_0x2d24e5(0x15e)),fs_internal_1=require('../../internal/fs.internal'),invalid_xml_error_1=require(a117_0x2d24e5(0x17a)),xml_1=require(a117_0x2d24e5(0x174)),zip_1=require(a117_0x2d24e5(0x169)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x3bddfd,sourceDir:_0x5d0d5a,skipChildErrors:_0x3b2da2}){const _0x45f3a6=a117_0x2d24e5;this[_0x45f3a6(0x15b)]=0x64,this[_0x45f3a6(0x17b)]={},this[_0x45f3a6(0x162)]=new core_1[(_0x45f3a6(0x14c))](MDApiWriter['name']),this['components']=_0x3bddfd,this[_0x45f3a6(0x175)]=_0x5d0d5a,this['skipChildErrors']=_0x3b2da2;}async['readZip'](_0x2d3ba4,_0x5097ef=![]){const _0x4fcf58=a117_0x2d24e5,_0x198378=await zip_1[_0x4fcf58(0x156)][_0x4fcf58(0x16c)](_0x2d3ba4),_0x21b31e=[];for(const _0x10ecf8 of Object[_0x4fcf58(0x14f)](_0x198378[_0x4fcf58(0x15f)])){!_0x198378['files'][_0x10ecf8]['dir']&&_0x21b31e[_0x4fcf58(0x171)]({'filename':_0x10ecf8,'body':await _0x198378[_0x4fcf58(0x15f)][_0x10ecf8]['async'](_0x5097ef?'nodebuffer':'text')});}return _0x21b31e;}async['writeParent'](_0x41b86f){const _0x15da68=a117_0x2d24e5;try{const _0x36f92a=await this[_0x15da68(0x157)](_0x41b86f[_0x15da68(0x170)],!![]);await Promise[_0x15da68(0x172)](_0x36f92a[_0x15da68(0x183)](({filename:_0x546008,body:_0x27b979})=>fs_internal_1['FS']['writeFile'](path_1[_0x15da68(0x173)]['join'](this[_0x15da68(0x175)],_0x546008),_0x27b979)));}catch(_0x3b45fc){throw new Error('[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20'+_0x41b86f[_0x15da68(0x181)]+'\x20['+_0x41b86f[_0x15da68(0x15a)]+'].\x20Original\x20error:\x20'+_0x3b45fc);}}['handleXmlParsingError'](_0x29c32a,_0x3e20ec){const _0x273b1b=a117_0x2d24e5;throw new invalid_xml_error_1[(_0x273b1b(0x15d))](_0x273b1b(0x17c)+_0x3e20ec[_0x273b1b(0x181)]+'\x20['+_0x3e20ec[_0x273b1b(0x15a)]+_0x273b1b(0x168)+_0x29c32a);}async[a117_0x2d24e5(0x16a)](_0x38ea06){const _0x44827b=a117_0x2d24e5,{filename:_0x291501,body:_0xe7213d}=(await this[_0x44827b(0x157)](_0x38ea06['body']))[0x0];try{if(!this['parentComponents'][_0x291501]){const _0xf0704f=path_1[_0x44827b(0x173)][_0x44827b(0x16e)](this[_0x44827b(0x175)],_0x291501);if(await fs_internal_1['FS'][_0x44827b(0x186)](_0xf0704f)){const _0x3e6206=await fs_internal_1['FS'][_0x44827b(0x14e)](_0xf0704f);this[_0x44827b(0x17b)][_0x291501]=await xml_1[_0x44827b(0x155)]['parse'](_0x3e6206)['catch'](_0x2d70de=>this['handleXmlParsingError'](_0x2d70de,_0x38ea06));}else{this[_0x44827b(0x17b)][_0x291501]=await xml_1[_0x44827b(0x155)]['parse'](_0xe7213d)[_0x44827b(0x151)](_0x407a88=>this[_0x44827b(0x167)](_0x407a88,_0x38ea06));return;}}const _0x5db668=this[_0x44827b(0x17b)][_0x291501],_0x335d00=await xml_1[_0x44827b(0x155)][_0x44827b(0x17d)](_0xe7213d)[_0x44827b(0x151)](_0xbd1117=>this[_0x44827b(0x167)](_0xbd1117,_0x38ea06));xml_1[_0x44827b(0x155)][_0x44827b(0x179)](_0x5db668,_0x335d00);}catch(_0x148286){if(_0x148286 instanceof invalid_xml_error_1['InvalidXmlError']){if(this[_0x44827b(0x165)])return;else throw _0x148286;}throw new Error(_0x44827b(0x166)+_0x38ea06['fileName']+'\x20['+_0x38ea06[_0x44827b(0x15a)]+_0x44827b(0x168)+_0x148286);}}async[a117_0x2d24e5(0x158)](){const _0x18db89=a117_0x2d24e5;!await fs_internal_1['FS'][_0x18db89(0x186)](this[_0x18db89(0x175)])&&await fs_internal_1['FS'][_0x18db89(0x153)](this[_0x18db89(0x175)]);for(const _0x11a68c of this[_0x18db89(0x176)]){!child_types_1['default'][_0x18db89(0x14b)](_0x11a68c[_0x18db89(0x15a)])?await this[_0x18db89(0x152)](_0x11a68c):await this[_0x18db89(0x16a)](_0x11a68c);}const _0x51212f=Object[_0x18db89(0x14f)](this[_0x18db89(0x17b)]);this[_0x18db89(0x162)][_0x18db89(0x14d)](_0x18db89(0x177),this[_0x18db89(0x176)][_0x18db89(0x159)]);while(_0x51212f[_0x18db89(0x159)]){const _0x25dba0=_0x51212f[_0x18db89(0x182)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1ea2c8 of _0x25dba0){await fs_internal_1['FS']['writeFile'](path_1['default']['join'](this['sourceDir'],_0x1ea2c8),xml_1[_0x18db89(0x155)]['convertToString'](this[_0x18db89(0x17b)][_0x1ea2c8]));}}this['parentComponents']={};}}exports[a117_0x2d24e5(0x178)]=MDApiWriter;