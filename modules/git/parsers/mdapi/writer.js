const a117_0xc4412d=a117_0x56d5;(function(_0x2efa0c,_0x9995f1){const _0x32f99e=a117_0x56d5,_0x36eaaa=_0x2efa0c();while(!![]){try{const _0x32b5d8=parseInt(_0x32f99e(0x81))/0x1+parseInt(_0x32f99e(0xae))/0x2+-parseInt(_0x32f99e(0xbd))/0x3*(parseInt(_0x32f99e(0xa3))/0x4)+parseInt(_0x32f99e(0x7e))/0x5*(parseInt(_0x32f99e(0xab))/0x6)+parseInt(_0x32f99e(0x8b))/0x7+parseInt(_0x32f99e(0xb1))/0x8+-parseInt(_0x32f99e(0x90))/0x9*(parseInt(_0x32f99e(0xbc))/0xa);if(_0x32b5d8===_0x9995f1)break;else _0x36eaaa['push'](_0x36eaaa['shift']());}catch(_0x4a9409){_0x36eaaa['push'](_0x36eaaa['shift']());}}}(a117_0x5141,0x9b4c1));const a117_0x343a61=(function(){let _0x3a7cb0=!![];return function(_0x5c4cea,_0x46dca8){const _0x51fc9e=_0x3a7cb0?function(){const _0x35e196=a117_0x56d5;if(_0x46dca8){const _0x347ff8=_0x46dca8[_0x35e196(0xa4)](_0x5c4cea,arguments);return _0x46dca8=null,_0x347ff8;}}:function(){};return _0x3a7cb0=![],_0x51fc9e;};}()),a117_0x3225ca=a117_0x343a61(this,function(){const _0x2d2580=a117_0x56d5;return a117_0x3225ca[_0x2d2580(0xb7)]()[_0x2d2580(0xb3)](_0x2d2580(0x80))[_0x2d2580(0xb7)]()['constructor'](a117_0x3225ca)[_0x2d2580(0xb3)](_0x2d2580(0x80));});a117_0x3225ca();'use strict';var __importDefault=this&&this[a117_0xc4412d(0xa9)]||function(_0xf737ca){return _0xf737ca&&_0xf737ca['__esModule']?_0xf737ca:{'default':_0xf737ca};};function a117_0x56d5(_0x29996b,_0x59f44a){const _0x23c6f6=a117_0x5141();return a117_0x56d5=function(_0x3225ca,_0x343a61){_0x3225ca=_0x3225ca-0x7c;let _0x5141bf=_0x23c6f6[_0x3225ca];return _0x5141bf;},a117_0x56d5(_0x29996b,_0x59f44a);}Object[a117_0xc4412d(0x8f)](exports,a117_0xc4412d(0xa6),{'value':!![]}),exports['MDApiWriter']=void 0x0;const path_1=__importDefault(require(a117_0xc4412d(0x99))),core_1=require(a117_0xc4412d(0xa8)),fs_internal_1=require(a117_0xc4412d(0x86)),invalid_xml_error_1=require(a117_0xc4412d(0xa5)),xml_1=require(a117_0xc4412d(0xbf)),zip_1=require(a117_0xc4412d(0xb5)),child_types_1=__importDefault(require(a117_0xc4412d(0xb2)));function a117_0x5141(){const _0x2eb790=['keys','(((.+)+)+)+$','1181663YlBoQI','handleXmlParsingError','makeDir','dir','Xml','../../internal/fs.internal','includes','catch','sourceDir','writeFile','2147019LsDqoS','parse','log','exists','defineProperty','3928599ucUbLI','files','start','fileName','Logger','readZip','replaceOrAppend','name','all','path','map','join','have\x20to\x20write\x20%d\x20files','splice','MAX_WRITES_PER_TICK','internalLogger','length','].\x20Original\x20error:\x20','MDApiWriter','354476ovlexs','apply','../errors/invalid-xml.error','__esModule','body','../../../../core','__importDefault','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','2956386XKCDkl','nodebuffer','unzip','1281552BUljcP','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','skipChildErrors','2992024xuiBAK','../data/child-types','search','push','../utils/zip','writeParent','toString','components','writeChild','parentComponents','default','50gxDxbO','6cVQuQs','fileType','../utils/xml','InvalidXmlError','async','5yhjyfv'];a117_0x5141=function(){return _0x2eb790;};return a117_0x5141();}class MDApiWriter{constructor({components:_0x5225b7,sourceDir:_0x3e2864,skipChildErrors:_0x17e2f9}){const _0x13f8a8=a117_0xc4412d;this[_0x13f8a8(0x9e)]=0x64,this[_0x13f8a8(0xba)]={},this[_0x13f8a8(0x9f)]=new core_1[(_0x13f8a8(0x94))](MDApiWriter[_0x13f8a8(0x97)]),this[_0x13f8a8(0xb8)]=_0x5225b7,this[_0x13f8a8(0x89)]=_0x3e2864,this[_0x13f8a8(0xb0)]=_0x17e2f9;}async['readZip'](_0x4836df,_0x4307a5=![]){const _0x4f5c1f=a117_0xc4412d,_0x4d17c9=await zip_1['Zip'][_0x4f5c1f(0xad)](_0x4836df),_0x4cfaf0=[];for(const _0x460376 of Object[_0x4f5c1f(0x7f)](_0x4d17c9['files'])){!_0x4d17c9[_0x4f5c1f(0x91)][_0x460376][_0x4f5c1f(0x84)]&&_0x4cfaf0[_0x4f5c1f(0xb4)]({'filename':_0x460376,'body':await _0x4d17c9['files'][_0x460376][_0x4f5c1f(0x7d)](_0x4307a5?_0x4f5c1f(0xac):'text')});}return _0x4cfaf0;}async['writeParent'](_0x515258){const _0x26e745=a117_0xc4412d;try{const _0x55b0eb=await this['readZip'](_0x515258[_0x26e745(0xa7)],!![]);await Promise[_0x26e745(0x98)](_0x55b0eb[_0x26e745(0x9a)](({filename:_0x2e10aa,body:_0x39aec7})=>fs_internal_1['FS'][_0x26e745(0x8a)](path_1[_0x26e745(0xbb)][_0x26e745(0x9b)](this[_0x26e745(0x89)],_0x2e10aa),_0x39aec7)));}catch(_0x2c0d84){throw new Error(_0x26e745(0xaa)+_0x515258[_0x26e745(0x93)]+'\x20['+_0x515258[_0x26e745(0xbe)]+_0x26e745(0xa1)+_0x2c0d84);}}[a117_0xc4412d(0x82)](_0x1c3eb3,_0x271f81){const _0x55368f=a117_0xc4412d;throw new invalid_xml_error_1['InvalidXmlError']('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x271f81[_0x55368f(0x93)]+'\x20['+_0x271f81['fileType']+'].\x20Original\x20error:\x20'+_0x1c3eb3);}async[a117_0xc4412d(0xb9)](_0x3ebb02){const _0x5aa712=a117_0xc4412d,{filename:_0x163d9c,body:_0x2e862c}=(await this[_0x5aa712(0x95)](_0x3ebb02[_0x5aa712(0xa7)]))[0x0];try{if(!this[_0x5aa712(0xba)][_0x163d9c]){const _0x3b2911=path_1['default'][_0x5aa712(0x9b)](this[_0x5aa712(0x89)],_0x163d9c);if(await fs_internal_1['FS'][_0x5aa712(0x8e)](_0x3b2911)){const _0x951c93=await fs_internal_1['FS']['readFile'](_0x3b2911);this['parentComponents'][_0x163d9c]=await xml_1[_0x5aa712(0x85)][_0x5aa712(0x8c)](_0x951c93)['catch'](_0x97dba1=>this['handleXmlParsingError'](_0x97dba1,_0x3ebb02));}else{this['parentComponents'][_0x163d9c]=await xml_1['Xml'][_0x5aa712(0x8c)](_0x2e862c)['catch'](_0x239f6f=>this[_0x5aa712(0x82)](_0x239f6f,_0x3ebb02));return;}}const _0x20d2b8=this[_0x5aa712(0xba)][_0x163d9c],_0x5555e9=await xml_1[_0x5aa712(0x85)][_0x5aa712(0x8c)](_0x2e862c)[_0x5aa712(0x88)](_0x2bda00=>this[_0x5aa712(0x82)](_0x2bda00,_0x3ebb02));xml_1[_0x5aa712(0x85)][_0x5aa712(0x96)](_0x20d2b8,_0x5555e9);}catch(_0x3f089d){if(_0x3f089d instanceof invalid_xml_error_1[_0x5aa712(0x7c)]){if(this[_0x5aa712(0xb0)])return;else throw _0x3f089d;}throw new Error(_0x5aa712(0xaf)+_0x3ebb02[_0x5aa712(0x93)]+'\x20['+_0x3ebb02[_0x5aa712(0xbe)]+'].\x20Original\x20error:\x20'+_0x3f089d);}}async[a117_0xc4412d(0x92)](){const _0x23b76a=a117_0xc4412d;!await fs_internal_1['FS'][_0x23b76a(0x8e)](this[_0x23b76a(0x89)])&&await fs_internal_1['FS'][_0x23b76a(0x83)](this['sourceDir']);for(const _0x508fdd of this[_0x23b76a(0xb8)]){!child_types_1[_0x23b76a(0xbb)][_0x23b76a(0x87)](_0x508fdd[_0x23b76a(0xbe)])?await this[_0x23b76a(0xb6)](_0x508fdd):await this[_0x23b76a(0xb9)](_0x508fdd);}const _0x3bd07d=Object[_0x23b76a(0x7f)](this[_0x23b76a(0xba)]);this[_0x23b76a(0x9f)][_0x23b76a(0x8d)](_0x23b76a(0x9c),this[_0x23b76a(0xb8)][_0x23b76a(0xa0)]);while(_0x3bd07d[_0x23b76a(0xa0)]){const _0x2d5008=_0x3bd07d[_0x23b76a(0x9d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3d4ce2 of _0x2d5008){await fs_internal_1['FS'][_0x23b76a(0x8a)](path_1['default'][_0x23b76a(0x9b)](this[_0x23b76a(0x89)],_0x3d4ce2),xml_1[_0x23b76a(0x85)]['convertToString'](this[_0x23b76a(0xba)][_0x3d4ce2]));}}this[_0x23b76a(0xba)]={};}}exports[a117_0xc4412d(0xa2)]=MDApiWriter;