const a116_0x111259=a116_0x2453;(function(_0x5bc037,_0x53db00){const _0x1741db=a116_0x2453,_0x1d743d=_0x5bc037();while(!![]){try{const _0x2c68e8=parseInt(_0x1741db(0xca))/0x1+parseInt(_0x1741db(0xc7))/0x2+parseInt(_0x1741db(0xbf))/0x3+parseInt(_0x1741db(0xb4))/0x4*(parseInt(_0x1741db(0xa6))/0x5)+-parseInt(_0x1741db(0x90))/0x6+-parseInt(_0x1741db(0xae))/0x7+parseInt(_0x1741db(0x8d))/0x8;if(_0x2c68e8===_0x53db00)break;else _0x1d743d['push'](_0x1d743d['shift']());}catch(_0x875208){_0x1d743d['push'](_0x1d743d['shift']());}}}(a116_0x1bdd,0x316b7));const a116_0x45f30a=(function(){let _0x3f4af5=!![];return function(_0xfb18a2,_0x428906){const _0x496d5c=_0x3f4af5?function(){if(_0x428906){const _0x32f140=_0x428906['apply'](_0xfb18a2,arguments);return _0x428906=null,_0x32f140;}}:function(){};return _0x3f4af5=![],_0x496d5c;};}()),a116_0x44f67a=a116_0x45f30a(this,function(){const _0x38501c=a116_0x2453;return a116_0x44f67a[_0x38501c(0x96)]()[_0x38501c(0xa7)](_0x38501c(0xb9))['toString']()[_0x38501c(0xbd)](a116_0x44f67a)[_0x38501c(0xa7)](_0x38501c(0xb9));});function a116_0x1bdd(){const _0x42b2e2=['log','fileType','__esModule','splice','(((.+)+)+)+$','sourceDir','writeParent','all','constructor','join','121257tywPRX','push','nodebuffer','parse','async','start','__importDefault','internalLogger','477200kTvmgE','text','convertToString','370468IbWcvB','handleXmlParsingError','readFile','files','MAX_WRITES_PER_TICK','6528xGjmoY','Xml','writeChild','1018974qwjNZm','fileName','default','../errors/invalid-xml.error','skipChildErrors','keys','toString','Zip','Logger','exists','components','../utils/zip','../../../../core','path','defineProperty','InvalidXmlError','../../internal/fs.internal','map','makeDir','body','writeFile','length','195lCRfAO','search','MDApiWriter','].\x20Original\x20error:\x20','[WriteParent]\x20An\x20error\x20occured\x20while\x20proceeding\x20component\x20','unzip','name','parentComponents','2637320aNiDGJ','replaceOrAppend','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','../utils/xml','have\x20to\x20write\x20%d\x20files','catch','10124yRFXmP'];a116_0x1bdd=function(){return _0x42b2e2;};return a116_0x1bdd();}a116_0x44f67a();function a116_0x2453(_0x332f25,_0x57b66e){const _0x421a67=a116_0x1bdd();return a116_0x2453=function(_0x44f67a,_0x45f30a){_0x44f67a=_0x44f67a-0x8c;let _0x1bddf1=_0x421a67[_0x44f67a];return _0x1bddf1;},a116_0x2453(_0x332f25,_0x57b66e);}'use strict';var __importDefault=this&&this[a116_0x111259(0xc5)]||function(_0x5b65e2){const _0x3b3b8a=a116_0x111259;return _0x5b65e2&&_0x5b65e2[_0x3b3b8a(0xb7)]?_0x5b65e2:{'default':_0x5b65e2};};Object[a116_0x111259(0x9e)](exports,'__esModule',{'value':!![]}),exports[a116_0x111259(0xa8)]=void 0x0;const path_1=__importDefault(require(a116_0x111259(0x9d))),core_1=require(a116_0x111259(0x9c)),fs_internal_1=require(a116_0x111259(0xa0)),invalid_xml_error_1=require(a116_0x111259(0x93)),xml_1=require(a116_0x111259(0xb1)),zip_1=require(a116_0x111259(0x9b)),child_types_1=__importDefault(require('../data/child-types'));class MDApiWriter{constructor({components:_0x10c490,sourceDir:_0x4ee457,skipChildErrors:_0xd071e9}){const _0x390b53=a116_0x111259;this[_0x390b53(0x8c)]=0x64,this[_0x390b53(0xad)]={},this[_0x390b53(0xc6)]=new core_1[(_0x390b53(0x98))](MDApiWriter[_0x390b53(0xac)]),this[_0x390b53(0x9a)]=_0x10c490,this[_0x390b53(0xba)]=_0x4ee457,this['skipChildErrors']=_0xd071e9;}async['readZip'](_0x31747e,_0x2f0df7=![]){const _0x4ca8d7=a116_0x111259,_0x1c41a1=await zip_1[_0x4ca8d7(0x97)][_0x4ca8d7(0xab)](_0x31747e),_0x1d00e2=[];for(const _0x1cba98 of Object[_0x4ca8d7(0x95)](_0x1c41a1[_0x4ca8d7(0xcd)])){!_0x1c41a1['files'][_0x1cba98]['dir']&&_0x1d00e2[_0x4ca8d7(0xc0)]({'filename':_0x1cba98,'body':await _0x1c41a1['files'][_0x1cba98][_0x4ca8d7(0xc3)](_0x2f0df7?_0x4ca8d7(0xc1):_0x4ca8d7(0xc8))});}return _0x1d00e2;}async['writeParent'](_0x37a912){const _0x54ec7e=a116_0x111259;try{const _0x5540bd=await this['readZip'](_0x37a912[_0x54ec7e(0xa3)],!![]);await Promise[_0x54ec7e(0xbc)](_0x5540bd[_0x54ec7e(0xa1)](({filename:_0x5aab98,body:_0x4e5ad2})=>fs_internal_1['FS'][_0x54ec7e(0xa4)](path_1[_0x54ec7e(0x92)][_0x54ec7e(0xbe)](this['sourceDir'],_0x5aab98),_0x4e5ad2)));}catch(_0x59f7d7){throw new Error(_0x54ec7e(0xaa)+_0x37a912[_0x54ec7e(0x91)]+'\x20['+_0x37a912[_0x54ec7e(0xb6)]+_0x54ec7e(0xa9)+_0x59f7d7);}}[a116_0x111259(0xcb)](_0x232dc9,_0x2aa6f1){const _0x3908ed=a116_0x111259;throw new invalid_xml_error_1[(_0x3908ed(0x9f))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x2aa6f1['fileName']+'\x20['+_0x2aa6f1[_0x3908ed(0xb6)]+_0x3908ed(0xa9)+_0x232dc9);}async[a116_0x111259(0x8f)](_0x500736){const _0xee33df=a116_0x111259,{filename:_0x1abf32,body:_0x2c5655}=(await this['readZip'](_0x500736[_0xee33df(0xa3)]))[0x0];try{if(!this[_0xee33df(0xad)][_0x1abf32]){const _0x1bad78=path_1[_0xee33df(0x92)][_0xee33df(0xbe)](this['sourceDir'],_0x1abf32);if(await fs_internal_1['FS'][_0xee33df(0x99)](_0x1bad78)){const _0xa6b982=await fs_internal_1['FS'][_0xee33df(0xcc)](_0x1bad78);this[_0xee33df(0xad)][_0x1abf32]=await xml_1['Xml'][_0xee33df(0xc2)](_0xa6b982)[_0xee33df(0xb3)](_0x15a1e6=>this[_0xee33df(0xcb)](_0x15a1e6,_0x500736));}else{this[_0xee33df(0xad)][_0x1abf32]=await xml_1[_0xee33df(0x8e)]['parse'](_0x2c5655)[_0xee33df(0xb3)](_0x517dcc=>this[_0xee33df(0xcb)](_0x517dcc,_0x500736));return;}}const _0x1df353=this[_0xee33df(0xad)][_0x1abf32],_0x4bf9b0=await xml_1[_0xee33df(0x8e)]['parse'](_0x2c5655)[_0xee33df(0xb3)](_0x4d63d7=>this[_0xee33df(0xcb)](_0x4d63d7,_0x500736));xml_1[_0xee33df(0x8e)][_0xee33df(0xaf)](_0x1df353,_0x4bf9b0);}catch(_0x434d8c){if(_0x434d8c instanceof invalid_xml_error_1[_0xee33df(0x9f)]){if(this[_0xee33df(0x94)])return;else throw _0x434d8c;}throw new Error(_0xee33df(0xb0)+_0x500736[_0xee33df(0x91)]+'\x20['+_0x500736[_0xee33df(0xb6)]+'].\x20Original\x20error:\x20'+_0x434d8c);}}async[a116_0x111259(0xc4)](){const _0x7593dc=a116_0x111259;!await fs_internal_1['FS']['exists'](this[_0x7593dc(0xba)])&&await fs_internal_1['FS'][_0x7593dc(0xa2)](this[_0x7593dc(0xba)]);for(const _0x243cef of this[_0x7593dc(0x9a)]){!child_types_1['default']['includes'](_0x243cef['fileType'])?await this[_0x7593dc(0xbb)](_0x243cef):await this[_0x7593dc(0x8f)](_0x243cef);}const _0x1b38a0=Object[_0x7593dc(0x95)](this[_0x7593dc(0xad)]);this[_0x7593dc(0xc6)][_0x7593dc(0xb5)](_0x7593dc(0xb2),this[_0x7593dc(0x9a)][_0x7593dc(0xa5)]);while(_0x1b38a0[_0x7593dc(0xa5)]){const _0x39f190=_0x1b38a0[_0x7593dc(0xb8)](0x0,this[_0x7593dc(0x8c)]);for(const _0x29dfff of _0x39f190){await fs_internal_1['FS'][_0x7593dc(0xa4)](path_1['default'][_0x7593dc(0xbe)](this['sourceDir'],_0x29dfff),xml_1[_0x7593dc(0x8e)][_0x7593dc(0xc9)](this['parentComponents'][_0x29dfff]));}}this[_0x7593dc(0xad)]={};}}exports[a116_0x111259(0xa8)]=MDApiWriter;