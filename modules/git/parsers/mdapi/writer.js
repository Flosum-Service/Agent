const a153_0x3c3550=a153_0x649e;(function(_0x20aff5,_0x49cb15){const _0x355d43=a153_0x649e,_0x33864a=_0x20aff5();while(!![]){try{const _0x31240b=-parseInt(_0x355d43(0x8b))/0x1*(parseInt(_0x355d43(0x9a))/0x2)+parseInt(_0x355d43(0xad))/0x3+-parseInt(_0x355d43(0x90))/0x4+-parseInt(_0x355d43(0xa5))/0x5*(parseInt(_0x355d43(0x87))/0x6)+-parseInt(_0x355d43(0x9b))/0x7*(parseInt(_0x355d43(0x8f))/0x8)+parseInt(_0x355d43(0xa3))/0x9+parseInt(_0x355d43(0x7f))/0xa;if(_0x31240b===_0x49cb15)break;else _0x33864a['push'](_0x33864a['shift']());}catch(_0x4fb53f){_0x33864a['push'](_0x33864a['shift']());}}}(a153_0x31a8,0x1b3f8));const a153_0x54ff3d=(function(){let _0x3f55b2=!![];return function(_0x49d499,_0x39e856){const _0x141c4d=_0x3f55b2?function(){const _0x58d947=a153_0x649e;if(_0x39e856){const _0xcf5eff=_0x39e856[_0x58d947(0x83)](_0x49d499,arguments);return _0x39e856=null,_0xcf5eff;}}:function(){};return _0x3f55b2=![],_0x141c4d;};}()),a153_0xe98ac9=a153_0x54ff3d(this,function(){const _0x2a6209=a153_0x649e;return a153_0xe98ac9[_0x2a6209(0xb9)]()['search'](_0x2a6209(0xb2))[_0x2a6209(0xb9)]()['constructor'](a153_0xe98ac9)[_0x2a6209(0xab)](_0x2a6209(0xb2));});function a153_0x649e(_0xc910ce,_0x30dacd){const _0x541365=a153_0x31a8();return a153_0x649e=function(_0xe98ac9,_0x54ff3d){_0xe98ac9=_0xe98ac9-0x78;let _0x31a852=_0x541365[_0xe98ac9];return _0x31a852;},a153_0x649e(_0xc910ce,_0x30dacd);}a153_0xe98ac9();'use strict';var __importDefault=this&&this[a153_0x3c3550(0x84)]||function(_0x7c5e5f){const _0x51cce6=a153_0x3c3550;return _0x7c5e5f&&_0x7c5e5f[_0x51cce6(0xae)]?_0x7c5e5f:{'default':_0x7c5e5f};};function a153_0x31a8(){const _0x32366e=['7EnbOQm','MDApiWriter','../utils/zip','files','writeParent','writeChild','join','../../internal/fs.internal','940788lyTxCm','defineProperty','1765NUcpNR','sourceDir','Zip','skipChildErrors','body','dir','search','[WriteChild]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','472077cqQvYg','__esModule','includes','nodebuffer','all','(((.+)+)+)+$','readZip','writeFile','replaceOrAppend','unzip','].\x20Original\x20error:\x20','components','toString','[WriteParent]\x20An\x20error\x20occurred\x20while\x20proceeding\x20component\x20','map','push','../data/child-types','name','../errors/invalid-xml.error','length','splice','2048760dtruor','MAX_WRITES_PER_TICK','have\x20to\x20write\x20%d\x20files','parentComponents','apply','__importDefault','internalLogger','start','2298FwjZKb','handleXmlParsingError','default','exists','18269uXCrhC','../../../../core','keys','fileName','1160624jzPKEx','153376xGYmpQ','parse','InvalidXmlError','convertToString','XmlV2','readFile','log','makeDir','catch','fileType','4TbYGYU'];a153_0x31a8=function(){return _0x32366e;};return a153_0x31a8();}Object[a153_0x3c3550(0xa4)](exports,'__esModule',{'value':!![]}),exports[a153_0x3c3550(0x9c)]=void 0x0;const path_1=__importDefault(require('path')),core_1=require(a153_0x3c3550(0x8c)),fs_internal_1=require(a153_0x3c3550(0xa2)),invalid_xml_error_1=require(a153_0x3c3550(0x7c)),xml_v2_1=require('../utils/xml-v2'),zip_1=require(a153_0x3c3550(0x9d)),child_types_1=__importDefault(require(a153_0x3c3550(0x7a)));class MDApiWriter{constructor({components:_0x15ab76,sourceDir:_0x422912,skipChildErrors:_0x815114}){const _0x2035e4=a153_0x3c3550;this[_0x2035e4(0x80)]=0x64,this[_0x2035e4(0x82)]={},this['internalLogger']=new core_1['Logger'](MDApiWriter[_0x2035e4(0x7b)]),this[_0x2035e4(0xb8)]=_0x15ab76,this[_0x2035e4(0xa6)]=_0x422912,this['skipChildErrors']=_0x815114;}async[a153_0x3c3550(0xb3)](_0x4243c2,_0x2a70d0=![]){const _0x4a2612=a153_0x3c3550,_0x3debaa=await zip_1[_0x4a2612(0xa7)][_0x4a2612(0xb6)](_0x4243c2),_0x34cc2c=[];for(const _0xfcfcf6 of Object[_0x4a2612(0x8d)](_0x3debaa[_0x4a2612(0x9e)])){!_0x3debaa[_0x4a2612(0x9e)][_0xfcfcf6][_0x4a2612(0xaa)]&&_0x34cc2c[_0x4a2612(0x79)]({'filename':_0xfcfcf6,'body':await _0x3debaa[_0x4a2612(0x9e)][_0xfcfcf6]['async'](_0x2a70d0?_0x4a2612(0xb0):'text')});}return _0x34cc2c;}async[a153_0x3c3550(0x9f)](_0xf6f85e){const _0x4680ab=a153_0x3c3550;try{const _0x37dc3c=await this[_0x4680ab(0xb3)](_0xf6f85e[_0x4680ab(0xa9)],!![]);await Promise[_0x4680ab(0xb1)](_0x37dc3c[_0x4680ab(0x78)](({filename:_0x620fcf,body:_0x4e5277})=>fs_internal_1['FS'][_0x4680ab(0xb4)](path_1['default'][_0x4680ab(0xa1)](this[_0x4680ab(0xa6)],_0x620fcf),_0x4e5277)));}catch(_0x4503e2){throw new Error(_0x4680ab(0xba)+_0xf6f85e[_0x4680ab(0x8e)]+'\x20['+_0xf6f85e['fileType']+_0x4680ab(0xb7)+_0x4503e2);}}[a153_0x3c3550(0x88)](_0x287013,_0x3d08ce){const _0x37c6c2=a153_0x3c3550;throw new invalid_xml_error_1[(_0x37c6c2(0x92))]('[InvalidXmlError]\x20An\x20error\x20occurred\x20while\x20proceeding\x20XML\x20'+_0x3d08ce[_0x37c6c2(0x8e)]+'\x20['+_0x3d08ce[_0x37c6c2(0x99)]+'].\x20Original\x20error:\x20'+_0x287013);}async['writeChild'](_0x54e46d){const _0x1522b4=a153_0x3c3550,{filename:_0x13933b,body:_0x1b981f}=(await this[_0x1522b4(0xb3)](_0x54e46d['body']))[0x0];try{if(!this[_0x1522b4(0x82)][_0x13933b]){const _0x20a5e0=path_1[_0x1522b4(0x89)][_0x1522b4(0xa1)](this['sourceDir'],_0x13933b);if(await fs_internal_1['FS'][_0x1522b4(0x8a)](_0x20a5e0)){const _0x4bf1f3=await fs_internal_1['FS'][_0x1522b4(0x95)](_0x20a5e0);this[_0x1522b4(0x82)][_0x13933b]=await xml_v2_1[_0x1522b4(0x94)]['parse'](_0x4bf1f3)[_0x1522b4(0x98)](_0x59bc04=>this[_0x1522b4(0x88)](_0x59bc04,_0x54e46d));}else{this[_0x1522b4(0x82)][_0x13933b]=await xml_v2_1[_0x1522b4(0x94)]['parse'](_0x1b981f)['catch'](_0x1db11a=>this['handleXmlParsingError'](_0x1db11a,_0x54e46d));return;}}const _0x505729=this[_0x1522b4(0x82)][_0x13933b],_0x281519=await xml_v2_1[_0x1522b4(0x94)][_0x1522b4(0x91)](_0x1b981f)[_0x1522b4(0x98)](_0x436f69=>this[_0x1522b4(0x88)](_0x436f69,_0x54e46d));xml_v2_1['XmlV2'][_0x1522b4(0xb5)](_0x505729,_0x281519);}catch(_0x113bb3){if(_0x113bb3 instanceof invalid_xml_error_1[_0x1522b4(0x92)]){if(this[_0x1522b4(0xa8)])return;else throw _0x113bb3;}throw new Error(_0x1522b4(0xac)+_0x54e46d[_0x1522b4(0x8e)]+'\x20['+_0x54e46d[_0x1522b4(0x99)]+_0x1522b4(0xb7)+_0x113bb3);}}async[a153_0x3c3550(0x86)](){const _0x1a688a=a153_0x3c3550;!await fs_internal_1['FS'][_0x1a688a(0x8a)](this[_0x1a688a(0xa6)])&&await fs_internal_1['FS'][_0x1a688a(0x97)](this['sourceDir']);for(const _0x52c25f of this[_0x1a688a(0xb8)]){!child_types_1['default'][_0x1a688a(0xaf)](_0x52c25f[_0x1a688a(0x99)])?await this[_0x1a688a(0x9f)](_0x52c25f):await this[_0x1a688a(0xa0)](_0x52c25f);}const _0x17884c=Object[_0x1a688a(0x8d)](this[_0x1a688a(0x82)]);this[_0x1a688a(0x85)][_0x1a688a(0x96)](_0x1a688a(0x81),this[_0x1a688a(0xb8)][_0x1a688a(0x7d)]);while(_0x17884c['length']){const _0x395794=_0x17884c[_0x1a688a(0x7e)](0x0,this[_0x1a688a(0x80)]);for(const _0x9968e0 of _0x395794){await fs_internal_1['FS'][_0x1a688a(0xb4)](path_1[_0x1a688a(0x89)]['join'](this['sourceDir'],_0x9968e0),xml_v2_1[_0x1a688a(0x94)][_0x1a688a(0x93)](this[_0x1a688a(0x82)][_0x9968e0]));}}this['parentComponents']={};}}exports[a153_0x3c3550(0x9c)]=MDApiWriter;