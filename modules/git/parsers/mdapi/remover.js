function a147_0x22af(){const _0x56b803=['default','fileName','have\x20to\x20update\x20%d\x20files','Unknown\x20child\x20type\x20','isDir','5188050adlUOV','remove\x20parent\x20component\x20%s\x20[%s]','ExperienceBundle','META_EXTENSION','3498552agFsxA','writeFile','remove\x20component\x20\x20%s\x20[%s]','defineProperty','../utils/xml-v2','path','removeParent','sourceDir','__esModule','remove\x20component\x20directory\x20%s\x20[%s]','MDApiRemover','removeAt','toString','isEmptyXml','(((.+)+)+)+$','convertToString','log','../../internal/fs.internal','includes','exists','remove\x20child\x20component\x20%s\x20[%s]','components','pop','MAX_WRITES_PER_TICK','start','join','2718948RwFfbg','constructor','split','search','length','catch','1428940sZaFzs','all','../../../../core','2664855RMgVgn','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','removeDir','removeFile','makeDir','keys','type','XmlV2','META_EXPERIENCE_BUNDLE','splice','976980sODOjj','56NfbumH','parentComponents','677058aozWCq','8xyWZFm','Logger','parse','site-meta.xml','name','logger'];a147_0x22af=function(){return _0x56b803;};return a147_0x22af();}const a147_0x1e6b98=a147_0x1fd2;(function(_0x5b4cc1,_0x1fcdfe){const _0x56c5e0=a147_0x1fd2,_0x37d0f6=_0x5b4cc1();while(!![]){try{const _0x1b4113=parseInt(_0x56c5e0(0x15c))/0x1+-parseInt(_0x56c5e0(0x160))/0x2*(-parseInt(_0x56c5e0(0x15f))/0x3)+-parseInt(_0x56c5e0(0x189))/0x4+parseInt(_0x56c5e0(0x18f))/0x5+parseInt(_0x56c5e0(0x16f))/0x6+parseInt(_0x56c5e0(0x16b))/0x7+-parseInt(_0x56c5e0(0x15d))/0x8*(parseInt(_0x56c5e0(0x192))/0x9);if(_0x1b4113===_0x1fcdfe)break;else _0x37d0f6['push'](_0x37d0f6['shift']());}catch(_0x46efb2){_0x37d0f6['push'](_0x37d0f6['shift']());}}}(a147_0x22af,0xb4048));const a147_0x68edf0=(function(){let _0x2d2fba=!![];return function(_0x195ff5,_0x586d92){const _0x158150=_0x2d2fba?function(){if(_0x586d92){const _0x189a9b=_0x586d92['apply'](_0x195ff5,arguments);return _0x586d92=null,_0x189a9b;}}:function(){};return _0x2d2fba=![],_0x158150;};}()),a147_0x4e51f2=a147_0x68edf0(this,function(){const _0x5d5241=a147_0x1fd2;return a147_0x4e51f2[_0x5d5241(0x17b)]()['search'](_0x5d5241(0x17d))[_0x5d5241(0x17b)]()[_0x5d5241(0x18a)](a147_0x4e51f2)[_0x5d5241(0x18c)](_0x5d5241(0x17d));});a147_0x4e51f2();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4c1766){const _0x1f66fe=a147_0x1fd2;return _0x4c1766&&_0x4c1766[_0x1f66fe(0x177)]?_0x4c1766:{'default':_0x4c1766};};function a147_0x1fd2(_0x4c5975,_0x2f75bf){const _0x56b3c2=a147_0x22af();return a147_0x1fd2=function(_0x4e51f2,_0x68edf0){_0x4e51f2=_0x4e51f2-0x159;let _0x22af5f=_0x56b3c2[_0x4e51f2];return _0x22af5f;},a147_0x1fd2(_0x4c5975,_0x2f75bf);}Object[a147_0x1e6b98(0x172)](exports,a147_0x1e6b98(0x177),{'value':!![]}),exports[a147_0x1e6b98(0x179)]=void 0x0;const fs_internal_1=require(a147_0x1e6b98(0x180)),core_1=require(a147_0x1e6b98(0x191)),xml_v2_1=require(a147_0x1e6b98(0x173)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x19d923,_0x2e3a9a){const _0x2d61fc=a147_0x1e6b98;this[_0x2d61fc(0x184)]=_0x19d923,this[_0x2d61fc(0x176)]=_0x2e3a9a,this[_0x2d61fc(0x16e)]='-meta.xml',this[_0x2d61fc(0x15a)]=_0x2d61fc(0x163),this[_0x2d61fc(0x186)]=0x64,this[_0x2d61fc(0x165)]=new core_1[(_0x2d61fc(0x161))](MDApiRemover[_0x2d61fc(0x164)]),this[_0x2d61fc(0x15e)]={};}async[a147_0x1e6b98(0x175)](_0x509de2){const _0x11af17=a147_0x1e6b98,_0x5a2fa5=path_1[_0x11af17(0x166)][_0x11af17(0x188)](this['sourceDir'],_0x509de2[_0x11af17(0x174)]),_0x12b84e=path_1[_0x11af17(0x166)][_0x11af17(0x188)](this[_0x11af17(0x176)],''+_0x509de2[_0x11af17(0x174)]+this['META_EXTENSION']);this[_0x11af17(0x15e)][_0x509de2['path']]&&delete this['parentComponents'][_0x509de2[_0x11af17(0x174)]];const _0x30b44e=await fs_internal_1['FS'][_0x11af17(0x16a)](_0x5a2fa5)[_0x11af17(0x18e)](()=>![]);if(_0x30b44e){this[_0x11af17(0x165)][_0x11af17(0x17f)](_0x11af17(0x178),_0x5a2fa5,_0x509de2[_0x11af17(0x198)]),await fs_internal_1['FS'][_0x11af17(0x194)](_0x5a2fa5);_0x509de2['type']===_0x11af17(0x16d)?await fs_internal_1['FS'][_0x11af17(0x195)](''+_0x5a2fa5+this[_0x11af17(0x15a)])[_0x11af17(0x18e)](()=>void 0x0):(this[_0x11af17(0x165)][_0x11af17(0x17f)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x5a2fa5,_0x509de2[_0x11af17(0x198)]),await fs_internal_1['FS'][_0x11af17(0x195)](''+_0x5a2fa5+this['META_EXTENSION'])[_0x11af17(0x18e)](()=>void 0x0));return;}this[_0x11af17(0x165)][_0x11af17(0x17f)](_0x11af17(0x171),_0x5a2fa5,_0x509de2['type']),await Promise[_0x11af17(0x190)]([fs_internal_1['FS'][_0x11af17(0x195)](_0x5a2fa5),fs_internal_1['FS']['removeFile'](_0x12b84e)]);}async['removeChild'](_0x297127){const _0x2e9a3f=a147_0x1e6b98,{fileName:_0x463a26,type:_0x573ae9,path:_0x616286}=_0x297127,_0x28ad82=child_types_map_1[_0x2e9a3f(0x166)][_0x573ae9];if(!_0x28ad82)throw new Error(_0x2e9a3f(0x169)+_0x573ae9);if(!this[_0x2e9a3f(0x15e)][_0x616286]){const _0x43183b=path_1[_0x2e9a3f(0x166)][_0x2e9a3f(0x188)](this[_0x2e9a3f(0x176)],_0x616286),_0x10689e=await fs_internal_1['FS']['exists'](_0x43183b);if(!_0x10689e)return;const _0x1e4450=await fs_internal_1['FS']['readFile'](_0x43183b);this[_0x2e9a3f(0x15e)][_0x616286]=await xml_v2_1['XmlV2'][_0x2e9a3f(0x162)](_0x1e4450);}const _0x28558b=this['parentComponents'][_0x616286],_0x861de4=_0x463a26[_0x2e9a3f(0x18b)]('.')[_0x2e9a3f(0x185)]();xml_v2_1['XmlV2'][_0x2e9a3f(0x17a)](_0x28558b,_0x28ad82,_0x861de4||_0x463a26),xml_v2_1[_0x2e9a3f(0x159)][_0x2e9a3f(0x17c)](_0x28558b)?(this['logger'][_0x2e9a3f(0x17f)](_0x2e9a3f(0x193),_0x297127[_0x2e9a3f(0x174)],_0x297127[_0x2e9a3f(0x167)]),await this['removeParent'](_0x297127),delete this[_0x2e9a3f(0x15e)][_0x616286]):this[_0x2e9a3f(0x15e)][_0x616286]=_0x28558b;}async[a147_0x1e6b98(0x187)](){const _0x26a850=a147_0x1e6b98;!await fs_internal_1['FS'][_0x26a850(0x182)](this[_0x26a850(0x176)])&&await fs_internal_1['FS'][_0x26a850(0x196)](this[_0x26a850(0x176)]);for(const _0x103219 of this['components']){!child_types_1[_0x26a850(0x166)][_0x26a850(0x181)](_0x103219['type'])?(this[_0x26a850(0x165)][_0x26a850(0x17f)](_0x26a850(0x16c),_0x103219['fileName'],_0x103219[_0x26a850(0x198)]),await this[_0x26a850(0x175)](_0x103219)):(this[_0x26a850(0x165)][_0x26a850(0x17f)](_0x26a850(0x183),_0x103219[_0x26a850(0x167)],_0x103219['type']),await this['removeChild'](_0x103219));}const _0x497579=Object[_0x26a850(0x197)](this[_0x26a850(0x15e)]);this[_0x26a850(0x165)]['log'](_0x26a850(0x168),this[_0x26a850(0x184)][_0x26a850(0x18d)]);while(_0x497579[_0x26a850(0x18d)]){const _0x4dc134=_0x497579[_0x26a850(0x15b)](0x0,this[_0x26a850(0x186)]);for(const _0x254592 of _0x4dc134){await fs_internal_1['FS'][_0x26a850(0x170)](path_1[_0x26a850(0x166)]['join'](this[_0x26a850(0x176)],_0x254592),xml_v2_1['XmlV2'][_0x26a850(0x17e)](this[_0x26a850(0x15e)][_0x254592]));}}this[_0x26a850(0x15e)]={};}}exports[a147_0x1e6b98(0x179)]=MDApiRemover;