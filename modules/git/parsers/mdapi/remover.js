const a147_0x4a62bf=a147_0x4826;(function(_0x5db86d,_0x300325){const _0x692a89=a147_0x4826,_0x2f898d=_0x5db86d();while(!![]){try{const _0x581151=parseInt(_0x692a89(0x16b))/0x1*(parseInt(_0x692a89(0x164))/0x2)+-parseInt(_0x692a89(0x149))/0x3+-parseInt(_0x692a89(0x144))/0x4+parseInt(_0x692a89(0x140))/0x5+-parseInt(_0x692a89(0x141))/0x6+parseInt(_0x692a89(0x143))/0x7*(parseInt(_0x692a89(0x16f))/0x8)+parseInt(_0x692a89(0x17a))/0x9;if(_0x581151===_0x300325)break;else _0x2f898d['push'](_0x2f898d['shift']());}catch(_0x1da90f){_0x2f898d['push'](_0x2f898d['shift']());}}}(a147_0x5ea2,0x84f48));const a147_0x360ae7=(function(){let _0x1ff7e4=!![];return function(_0x427185,_0x1c500a){const _0x109f2d=_0x1ff7e4?function(){const _0x2e85b9=a147_0x4826;if(_0x1c500a){const _0x3e10b6=_0x1c500a[_0x2e85b9(0x145)](_0x427185,arguments);return _0x1c500a=null,_0x3e10b6;}}:function(){};return _0x1ff7e4=![],_0x109f2d;};}()),a147_0x5c22c9=a147_0x360ae7(this,function(){const _0x45a96e=a147_0x4826;return a147_0x5c22c9[_0x45a96e(0x169)]()[_0x45a96e(0x158)](_0x45a96e(0x15d))['toString']()['constructor'](a147_0x5c22c9)[_0x45a96e(0x158)](_0x45a96e(0x15d));});a147_0x5c22c9();'use strict';var __importDefault=this&&this[a147_0x4a62bf(0x157)]||function(_0x45a5c7){const _0x282dab=a147_0x4a62bf;return _0x45a5c7&&_0x45a5c7[_0x282dab(0x16a)]?_0x45a5c7:{'default':_0x45a5c7};};Object[a147_0x4a62bf(0x15c)](exports,a147_0x4a62bf(0x16a),{'value':!![]}),exports['MDApiRemover']=void 0x0;function a147_0x5ea2(){const _0x1aa55d=['keys','logger','have\x20to\x20update\x20%d\x20files','225880tEeeVl','XmlV2','name','makeDir','remove\x20parent\x20component\x20%s\x20[%s]','catch','ExperienceBundle','isEmptyXml','removeChild','parse','isDir','1401012foePum','../utils/xml-v2','writeFile','removeDir','join','-meta.xml','site-meta.xml','3998570OQuhLL','6091434aOSDtv','remove\x20component\x20\x20%s\x20[%s]','238OhIakd','2200072DLzPCZ','apply','exists','removeFile','../../internal/fs.internal','1961997flvptO','splice','convertToString','MAX_WRITES_PER_TICK','readFile','Logger','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','removeParent','META_EXPERIENCE_BUNDLE','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','default','parentComponents','start','../../../../core','__importDefault','search','includes','log','fileName','defineProperty','(((.+)+)+)+$','../data/child-types-map','pop','sourceDir','META_EXTENSION','type','length','8XuVtlT','components','../data/child-types','path','remove\x20component\x20directory\x20%s\x20[%s]','toString','__esModule','212117bsfgWQ'];a147_0x5ea2=function(){return _0x1aa55d;};return a147_0x5ea2();}const fs_internal_1=require(a147_0x4a62bf(0x148)),core_1=require(a147_0x4a62bf(0x156)),xml_v2_1=require(a147_0x4a62bf(0x13a)),child_types_1=__importDefault(require(a147_0x4a62bf(0x166))),child_types_map_1=__importDefault(require(a147_0x4a62bf(0x15e))),path_1=__importDefault(require('path'));function a147_0x4826(_0x423d9b,_0x4e675c){const _0x4dcef2=a147_0x5ea2();return a147_0x4826=function(_0x5c22c9,_0x360ae7){_0x5c22c9=_0x5c22c9-0x13a;let _0x5ea226=_0x4dcef2[_0x5c22c9];return _0x5ea226;},a147_0x4826(_0x423d9b,_0x4e675c);}class MDApiRemover{constructor(_0x26e818,_0x47785e){const _0x1bfdfd=a147_0x4a62bf;this[_0x1bfdfd(0x165)]=_0x26e818,this['sourceDir']=_0x47785e,this[_0x1bfdfd(0x161)]=_0x1bfdfd(0x13e),this[_0x1bfdfd(0x151)]=_0x1bfdfd(0x13f),this[_0x1bfdfd(0x14c)]=0x64,this[_0x1bfdfd(0x16d)]=new core_1[(_0x1bfdfd(0x14e))](MDApiRemover[_0x1bfdfd(0x171)]),this['parentComponents']={};}async[a147_0x4a62bf(0x150)](_0x117a0e){const _0xf2ea6b=a147_0x4a62bf,_0x30a4af=path_1[_0xf2ea6b(0x153)][_0xf2ea6b(0x13d)](this['sourceDir'],_0x117a0e[_0xf2ea6b(0x167)]),_0x30de6d=path_1[_0xf2ea6b(0x153)][_0xf2ea6b(0x13d)](this[_0xf2ea6b(0x160)],''+_0x117a0e['path']+this[_0xf2ea6b(0x161)]);this[_0xf2ea6b(0x154)][_0x117a0e['path']]&&delete this[_0xf2ea6b(0x154)][_0x117a0e[_0xf2ea6b(0x167)]];const _0x10bc4a=await fs_internal_1['FS'][_0xf2ea6b(0x179)](_0x30a4af)[_0xf2ea6b(0x174)](()=>![]);if(_0x10bc4a){this[_0xf2ea6b(0x16d)][_0xf2ea6b(0x15a)](_0xf2ea6b(0x168),_0x30a4af,_0x117a0e[_0xf2ea6b(0x162)]),await fs_internal_1['FS'][_0xf2ea6b(0x13c)](_0x30a4af);_0x117a0e['type']===_0xf2ea6b(0x175)?await fs_internal_1['FS']['removeFile'](''+_0x30a4af+this[_0xf2ea6b(0x151)])[_0xf2ea6b(0x174)](()=>void 0x0):(this[_0xf2ea6b(0x16d)][_0xf2ea6b(0x15a)](_0xf2ea6b(0x152),_0x30a4af,_0x117a0e[_0xf2ea6b(0x162)]),await fs_internal_1['FS'][_0xf2ea6b(0x147)](''+_0x30a4af+this[_0xf2ea6b(0x161)])['catch'](()=>void 0x0));return;}this[_0xf2ea6b(0x16d)][_0xf2ea6b(0x15a)](_0xf2ea6b(0x142),_0x30a4af,_0x117a0e[_0xf2ea6b(0x162)]),await Promise['all']([fs_internal_1['FS'][_0xf2ea6b(0x147)](_0x30a4af),fs_internal_1['FS'][_0xf2ea6b(0x147)](_0x30de6d)]);}async[a147_0x4a62bf(0x177)](_0x1a5a20){const _0x191612=a147_0x4a62bf,{fileName:_0x2cdf7d,type:_0x45719e,path:_0x2a0472}=_0x1a5a20,_0x10c2b2=child_types_map_1[_0x191612(0x153)][_0x45719e];if(!_0x10c2b2)throw new Error('Unknown\x20child\x20type\x20'+_0x45719e);if(!this[_0x191612(0x154)][_0x2a0472]){const _0x1b6dc9=path_1[_0x191612(0x153)]['join'](this[_0x191612(0x160)],_0x2a0472),_0x54071c=await fs_internal_1['FS'][_0x191612(0x146)](_0x1b6dc9);if(!_0x54071c)return;const _0x3800ff=await fs_internal_1['FS'][_0x191612(0x14d)](_0x1b6dc9);this[_0x191612(0x154)][_0x2a0472]=await xml_v2_1[_0x191612(0x170)][_0x191612(0x178)](_0x3800ff);}const _0x3608e7=this[_0x191612(0x154)][_0x2a0472],_0x2ae5c9=_0x2cdf7d['split']('.')[_0x191612(0x15f)]();xml_v2_1[_0x191612(0x170)]['removeAt'](_0x3608e7,_0x10c2b2,_0x2ae5c9||_0x2cdf7d),xml_v2_1[_0x191612(0x170)][_0x191612(0x176)](_0x3608e7)?(this[_0x191612(0x16d)][_0x191612(0x15a)](_0x191612(0x14f),_0x1a5a20[_0x191612(0x167)],_0x1a5a20[_0x191612(0x15b)]),await this[_0x191612(0x150)](_0x1a5a20),delete this[_0x191612(0x154)][_0x2a0472]):this['parentComponents'][_0x2a0472]=_0x3608e7;}async[a147_0x4a62bf(0x155)](){const _0x4ac05e=a147_0x4a62bf;!await fs_internal_1['FS'][_0x4ac05e(0x146)](this['sourceDir'])&&await fs_internal_1['FS'][_0x4ac05e(0x172)](this[_0x4ac05e(0x160)]);for(const _0x46617c of this[_0x4ac05e(0x165)]){!child_types_1[_0x4ac05e(0x153)][_0x4ac05e(0x159)](_0x46617c[_0x4ac05e(0x162)])?(this[_0x4ac05e(0x16d)][_0x4ac05e(0x15a)](_0x4ac05e(0x173),_0x46617c[_0x4ac05e(0x15b)],_0x46617c[_0x4ac05e(0x162)]),await this[_0x4ac05e(0x150)](_0x46617c)):(this['logger']['log']('remove\x20child\x20component\x20%s\x20[%s]',_0x46617c[_0x4ac05e(0x15b)],_0x46617c[_0x4ac05e(0x162)]),await this[_0x4ac05e(0x177)](_0x46617c));}const _0x30700a=Object[_0x4ac05e(0x16c)](this[_0x4ac05e(0x154)]);this[_0x4ac05e(0x16d)][_0x4ac05e(0x15a)](_0x4ac05e(0x16e),this[_0x4ac05e(0x165)][_0x4ac05e(0x163)]);while(_0x30700a[_0x4ac05e(0x163)]){const _0x106e4d=_0x30700a[_0x4ac05e(0x14a)](0x0,this[_0x4ac05e(0x14c)]);for(const _0x2582db of _0x106e4d){await fs_internal_1['FS'][_0x4ac05e(0x13b)](path_1[_0x4ac05e(0x153)][_0x4ac05e(0x13d)](this[_0x4ac05e(0x160)],_0x2582db),xml_v2_1['XmlV2'][_0x4ac05e(0x14b)](this[_0x4ac05e(0x154)][_0x2582db]));}}this[_0x4ac05e(0x154)]={};}}exports['MDApiRemover']=MDApiRemover;