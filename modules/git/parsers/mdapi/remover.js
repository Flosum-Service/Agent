const a151_0x49f04a=a151_0x212d;(function(_0xfd5b50,_0x1cdc95){const _0x1426e0=a151_0x212d,_0x34bc08=_0xfd5b50();while(!![]){try{const _0x3e63a8=parseInt(_0x1426e0(0x1b2))/0x1*(parseInt(_0x1426e0(0x192))/0x2)+-parseInt(_0x1426e0(0x1a6))/0x3+-parseInt(_0x1426e0(0x1be))/0x4*(-parseInt(_0x1426e0(0x1bb))/0x5)+-parseInt(_0x1426e0(0x1b7))/0x6+-parseInt(_0x1426e0(0x1c4))/0x7*(parseInt(_0x1426e0(0x1c0))/0x8)+-parseInt(_0x1426e0(0x1b4))/0x9*(-parseInt(_0x1426e0(0x1a0))/0xa)+parseInt(_0x1426e0(0x1a3))/0xb;if(_0x3e63a8===_0x1cdc95)break;else _0x34bc08['push'](_0x34bc08['shift']());}catch(_0x305a8c){_0x34bc08['push'](_0x34bc08['shift']());}}}(a151_0x5542,0x8d222));const a151_0x119204=(function(){let _0x9ac104=!![];return function(_0x5afb3d,_0x195d14){const _0x18eff6=_0x9ac104?function(){const _0x2df0fd=a151_0x212d;if(_0x195d14){const _0x4a54e0=_0x195d14[_0x2df0fd(0x19d)](_0x5afb3d,arguments);return _0x195d14=null,_0x4a54e0;}}:function(){};return _0x9ac104=![],_0x18eff6;};}()),a151_0x2fd795=a151_0x119204(this,function(){const _0x170078=a151_0x212d;return a151_0x2fd795[_0x170078(0x196)]()[_0x170078(0x1ae)](_0x170078(0x1bd))[_0x170078(0x196)]()[_0x170078(0x1a9)](a151_0x2fd795)[_0x170078(0x1ae)]('(((.+)+)+)+$');});function a151_0x5542(){const _0x4fcd6a=['site-meta.xml','__importDefault','exists','removeChild','split','makeDir','pop','394vCtPGk','META_EXPERIENCE_BUNDLE','have\x20to\x20update\x20%d\x20files','removeFile','toString','../data/child-types-map','path','length','type','start','catch','apply','sourceDir','isEmptyXml','1970atmzVd','Logger','log','8202964lYKyws','remove\x20child\x20component\x20%s\x20[%s]','join','1021209jTJOhe','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','META_EXTENSION','constructor','removeDir','default','parentComponents','MAX_WRITES_PER_TICK','search','XmlV2','../../internal/fs.internal','../data/child-types','1467RljZZS','components','6939OvAsNg','../../../../core','defineProperty','3605094uYKUwl','splice','includes','Unknown\x20child\x20type\x20','845pnVgGE','MDApiRemover','(((.+)+)+)+$','14108cmbEZR','../utils/xml-v2','568vEdZrM','ExperienceBundle','logger','convertToString','25963USOiuw','writeFile','remove\x20parent\x20component\x20%s\x20[%s]','isDir','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file'];a151_0x5542=function(){return _0x4fcd6a;};return a151_0x5542();}a151_0x2fd795();'use strict';function a151_0x212d(_0x14207c,_0x5e8a05){const _0x52c1ba=a151_0x5542();return a151_0x212d=function(_0x2fd795,_0x119204){_0x2fd795=_0x2fd795-0x18c;let _0x55420d=_0x52c1ba[_0x2fd795];return _0x55420d;},a151_0x212d(_0x14207c,_0x5e8a05);}var __importDefault=this&&this[a151_0x49f04a(0x18c)]||function(_0x52cc19){return _0x52cc19&&_0x52cc19['__esModule']?_0x52cc19:{'default':_0x52cc19};};Object[a151_0x49f04a(0x1b6)](exports,'__esModule',{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a151_0x49f04a(0x1b0)),core_1=require(a151_0x49f04a(0x1b5)),xml_v2_1=require(a151_0x49f04a(0x1bf)),child_types_1=__importDefault(require(a151_0x49f04a(0x1b1))),child_types_map_1=__importDefault(require(a151_0x49f04a(0x197))),path_1=__importDefault(require(a151_0x49f04a(0x198)));class MDApiRemover{constructor(_0x32fa3d,_0xac5285){const _0x2b1368=a151_0x49f04a;this[_0x2b1368(0x1b3)]=_0x32fa3d,this[_0x2b1368(0x19e)]=_0xac5285,this['META_EXTENSION']='-meta.xml',this['META_EXPERIENCE_BUNDLE']=_0x2b1368(0x1c9),this[_0x2b1368(0x1ad)]=0x64,this[_0x2b1368(0x1c2)]=new core_1[(_0x2b1368(0x1a1))](MDApiRemover['name']),this[_0x2b1368(0x1ac)]={};}async['removeParent'](_0x58cbca){const _0x3db035=a151_0x49f04a,_0x3b92a2=path_1[_0x3db035(0x1ab)][_0x3db035(0x1a5)](this[_0x3db035(0x19e)],_0x58cbca['path']),_0x326f3c=path_1[_0x3db035(0x1ab)][_0x3db035(0x1a5)](this['sourceDir'],''+_0x58cbca[_0x3db035(0x198)]+this['META_EXTENSION']);this['parentComponents'][_0x58cbca[_0x3db035(0x198)]]&&delete this[_0x3db035(0x1ac)][_0x58cbca[_0x3db035(0x198)]];const _0x45403a=await fs_internal_1['FS'][_0x3db035(0x1c7)](_0x3b92a2)['catch'](()=>![]);if(_0x45403a){this['logger'][_0x3db035(0x1a2)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x3b92a2,_0x58cbca[_0x3db035(0x19a)]),await fs_internal_1['FS'][_0x3db035(0x1aa)](_0x3b92a2);_0x58cbca['type']===_0x3db035(0x1c1)?await fs_internal_1['FS']['removeFile'](''+_0x3b92a2+this[_0x3db035(0x193)])[_0x3db035(0x19c)](()=>void 0x0):(this[_0x3db035(0x1c2)]['log'](_0x3db035(0x1c8),_0x3b92a2,_0x58cbca['type']),await fs_internal_1['FS']['removeFile'](''+_0x3b92a2+this[_0x3db035(0x1a8)])[_0x3db035(0x19c)](()=>void 0x0));return;}this[_0x3db035(0x1c2)]['log']('remove\x20component\x20\x20%s\x20[%s]',_0x3b92a2,_0x58cbca[_0x3db035(0x19a)]),await Promise['all']([fs_internal_1['FS'][_0x3db035(0x195)](_0x3b92a2),fs_internal_1['FS'][_0x3db035(0x195)](_0x326f3c)]);}async[a151_0x49f04a(0x18e)](_0x459922){const _0x1ed7a3=a151_0x49f04a,{fileName:_0x3d18d2,type:_0x3ed7a3,path:_0x2f190b}=_0x459922,_0x39646b=child_types_map_1[_0x1ed7a3(0x1ab)][_0x3ed7a3];if(!_0x39646b)throw new Error(_0x1ed7a3(0x1ba)+_0x3ed7a3);if(!this['parentComponents'][_0x2f190b]){const _0x207554=path_1['default']['join'](this['sourceDir'],_0x2f190b),_0x163d75=await fs_internal_1['FS'][_0x1ed7a3(0x18d)](_0x207554);if(!_0x163d75)return;const _0x55798e=await fs_internal_1['FS']['readFile'](_0x207554);this[_0x1ed7a3(0x1ac)][_0x2f190b]=await xml_v2_1[_0x1ed7a3(0x1af)]['parse'](_0x55798e);}const _0x53127e=this[_0x1ed7a3(0x1ac)][_0x2f190b],_0x4fe0d6=_0x3d18d2[_0x1ed7a3(0x18f)]('.')[_0x1ed7a3(0x191)]();xml_v2_1[_0x1ed7a3(0x1af)]['removeAt'](_0x53127e,_0x39646b,_0x4fe0d6||_0x3d18d2),xml_v2_1[_0x1ed7a3(0x1af)][_0x1ed7a3(0x19f)](_0x53127e)?(this[_0x1ed7a3(0x1c2)][_0x1ed7a3(0x1a2)](_0x1ed7a3(0x1a7),_0x459922['path'],_0x459922['fileName']),await this['removeParent'](_0x459922),delete this[_0x1ed7a3(0x1ac)][_0x2f190b]):this['parentComponents'][_0x2f190b]=_0x53127e;}async[a151_0x49f04a(0x19b)](){const _0x583f34=a151_0x49f04a;!await fs_internal_1['FS'][_0x583f34(0x18d)](this[_0x583f34(0x19e)])&&await fs_internal_1['FS'][_0x583f34(0x190)](this[_0x583f34(0x19e)]);for(const _0x4c0c32 of this['components']){!child_types_1['default'][_0x583f34(0x1b9)](_0x4c0c32[_0x583f34(0x19a)])?(this['logger'][_0x583f34(0x1a2)](_0x583f34(0x1c6),_0x4c0c32['fileName'],_0x4c0c32[_0x583f34(0x19a)]),await this['removeParent'](_0x4c0c32)):(this[_0x583f34(0x1c2)]['log'](_0x583f34(0x1a4),_0x4c0c32['fileName'],_0x4c0c32[_0x583f34(0x19a)]),await this[_0x583f34(0x18e)](_0x4c0c32));}const _0x4eb313=Object['keys'](this[_0x583f34(0x1ac)]);this[_0x583f34(0x1c2)]['log'](_0x583f34(0x194),this[_0x583f34(0x1b3)][_0x583f34(0x199)]);while(_0x4eb313[_0x583f34(0x199)]){const _0xe4964f=_0x4eb313[_0x583f34(0x1b8)](0x0,this[_0x583f34(0x1ad)]);for(const _0x328432 of _0xe4964f){await fs_internal_1['FS'][_0x583f34(0x1c5)](path_1['default'][_0x583f34(0x1a5)](this['sourceDir'],_0x328432),xml_v2_1[_0x583f34(0x1af)][_0x583f34(0x1c3)](this[_0x583f34(0x1ac)][_0x328432]));}}this[_0x583f34(0x1ac)]={};}}exports[a151_0x49f04a(0x1bc)]=MDApiRemover;