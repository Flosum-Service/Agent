function a103_0xbaab(_0x4a93a2,_0x657f42){const _0x93addf=a103_0x2475();return a103_0xbaab=function(_0x53ff15,_0x29222f){_0x53ff15=_0x53ff15-0x157;let _0x2475c9=_0x93addf[_0x53ff15];return _0x2475c9;},a103_0xbaab(_0x4a93a2,_0x657f42);}const a103_0x1bd60c=a103_0xbaab;(function(_0x36bb76,_0x598d29){const _0x405f2c=a103_0xbaab,_0x5b3e30=_0x36bb76();while(!![]){try{const _0x5649df=-parseInt(_0x405f2c(0x15a))/0x1+parseInt(_0x405f2c(0x170))/0x2+-parseInt(_0x405f2c(0x187))/0x3+-parseInt(_0x405f2c(0x189))/0x4*(parseInt(_0x405f2c(0x172))/0x5)+-parseInt(_0x405f2c(0x15b))/0x6+-parseInt(_0x405f2c(0x18b))/0x7+parseInt(_0x405f2c(0x15e))/0x8;if(_0x5649df===_0x598d29)break;else _0x5b3e30['push'](_0x5b3e30['shift']());}catch(_0xd94ec0){_0x5b3e30['push'](_0x5b3e30['shift']());}}}(a103_0x2475,0xf28e3));const a103_0x29222f=(function(){let _0x7b895=!![];return function(_0x18ae30,_0x3271d2){const _0x148571=_0x7b895?function(){const _0x3d2497=a103_0xbaab;if(_0x3271d2){const _0x24827a=_0x3271d2[_0x3d2497(0x193)](_0x18ae30,arguments);return _0x3271d2=null,_0x24827a;}}:function(){};return _0x7b895=![],_0x148571;};}()),a103_0x53ff15=a103_0x29222f(this,function(){const _0x515cd6=a103_0xbaab;return a103_0x53ff15[_0x515cd6(0x17e)]()['search'](_0x515cd6(0x17a))['toString']()[_0x515cd6(0x166)](a103_0x53ff15)[_0x515cd6(0x183)]('(((.+)+)+)+$');});a103_0x53ff15();'use strict';var __importDefault=this&&this[a103_0x1bd60c(0x164)]||function(_0x46a2b7){const _0x59a020=a103_0x1bd60c;return _0x46a2b7&&_0x46a2b7[_0x59a020(0x18f)]?_0x46a2b7:{'default':_0x46a2b7};};Object[a103_0x1bd60c(0x17b)](exports,a103_0x1bd60c(0x18f),{'value':!![]}),exports[a103_0x1bd60c(0x181)]=void 0x0;function a103_0x2475(){const _0x527b0c=['META_EXPERIENCE_BUNDLE','convertToString','remove\x20parent\x20component\x20%s\x20[%s]','length','isEmptyXml','__importDefault','../data/child-types','constructor','components','parse','log','catch','splice','makeDir','removeChild','remove\x20component\x20\x20%s\x20[%s]','default','71366ggwNxg','includes','339405wXBipA','removeDir','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','logger','removeParent','META_EXTENSION','Xml','site-meta.xml','(((.+)+)+)+$','defineProperty','remove\x20child\x20component\x20%s\x20[%s]','have\x20to\x20update\x20%d\x20files','toString','MAX_WRITES_PER_TICK','exists','MDApiRemover','isDir','search','pop','start','ExperienceBundle','2898189kNysif','path','12xoZJyW','fileName','9704730qIGIjl','writeFile','removeFile','all','__esModule','remove\x20component\x20directory\x20%s\x20[%s]','parentComponents','Logger','apply','keys','split','sourceDir','name','type','Unknown\x20child\x20type\x20','../data/child-types-map','60062VUjOFr','11216406QnCevM','../../../../core','join','43547064DUzEJi'];a103_0x2475=function(){return _0x527b0c;};return a103_0x2475();}const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a103_0x1bd60c(0x15c)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require(a103_0x1bd60c(0x165))),child_types_map_1=__importDefault(require(a103_0x1bd60c(0x159))),path_1=__importDefault(require(a103_0x1bd60c(0x188)));class MDApiRemover{constructor(_0x45adb0,_0x438d4b){const _0x28129f=a103_0x1bd60c;this[_0x28129f(0x167)]=_0x45adb0,this[_0x28129f(0x196)]=_0x438d4b,this[_0x28129f(0x177)]='-meta.xml',this['META_EXPERIENCE_BUNDLE']=_0x28129f(0x179),this[_0x28129f(0x17f)]=0x64,this[_0x28129f(0x175)]=new core_1[(_0x28129f(0x192))](MDApiRemover[_0x28129f(0x197)]),this[_0x28129f(0x191)]={};}async['removeParent'](_0x1f6404){const _0x3a7c61=a103_0x1bd60c,_0x573516=path_1[_0x3a7c61(0x16f)][_0x3a7c61(0x15d)](this[_0x3a7c61(0x196)],_0x1f6404[_0x3a7c61(0x188)]),_0x3c2b82=path_1[_0x3a7c61(0x16f)]['join'](this[_0x3a7c61(0x196)],''+_0x1f6404['path']+this[_0x3a7c61(0x177)]);this['parentComponents'][_0x1f6404['path']]&&delete this[_0x3a7c61(0x191)][_0x1f6404[_0x3a7c61(0x188)]];const _0xc49c69=await fs_internal_1['FS'][_0x3a7c61(0x182)](_0x573516)[_0x3a7c61(0x16a)](()=>![]);if(_0xc49c69){this['logger'][_0x3a7c61(0x169)](_0x3a7c61(0x190),_0x573516,_0x1f6404[_0x3a7c61(0x157)]),await fs_internal_1['FS'][_0x3a7c61(0x173)](_0x573516);_0x1f6404[_0x3a7c61(0x157)]===_0x3a7c61(0x186)?await fs_internal_1['FS'][_0x3a7c61(0x18d)](''+_0x573516+this[_0x3a7c61(0x15f)])[_0x3a7c61(0x16a)](()=>void 0x0):(this[_0x3a7c61(0x175)]['log']('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x573516,_0x1f6404['type']),await fs_internal_1['FS'][_0x3a7c61(0x18d)](''+_0x573516+this[_0x3a7c61(0x177)])[_0x3a7c61(0x16a)](()=>void 0x0));return;}this['logger']['log'](_0x3a7c61(0x16e),_0x573516,_0x1f6404[_0x3a7c61(0x157)]),await Promise[_0x3a7c61(0x18e)]([fs_internal_1['FS']['removeFile'](_0x573516),fs_internal_1['FS'][_0x3a7c61(0x18d)](_0x3c2b82)]);}async[a103_0x1bd60c(0x16d)](_0x5695d5){const _0x453589=a103_0x1bd60c,{fileName:_0x48c661,type:_0x5a6cfa,path:_0x193cf7}=_0x5695d5,_0x41c18b=child_types_map_1['default'][_0x5a6cfa];if(!_0x41c18b)throw new Error(_0x453589(0x158)+_0x5a6cfa);if(!this[_0x453589(0x191)][_0x193cf7]){const _0x227f48=path_1[_0x453589(0x16f)]['join'](this[_0x453589(0x196)],_0x193cf7),_0x500409=await fs_internal_1['FS'][_0x453589(0x180)](_0x227f48);if(!_0x500409)return;const _0x459df9=await fs_internal_1['FS']['readFile'](_0x227f48);this[_0x453589(0x191)][_0x193cf7]=await xml_1[_0x453589(0x178)][_0x453589(0x168)](_0x459df9);}const _0x430e70=this[_0x453589(0x191)][_0x193cf7],_0x42be3b=_0x48c661[_0x453589(0x195)]('.')[_0x453589(0x184)]();xml_1['Xml']['removeAt'](_0x430e70,_0x41c18b,_0x42be3b||_0x48c661),xml_1[_0x453589(0x178)][_0x453589(0x163)](_0x430e70)?(this[_0x453589(0x175)][_0x453589(0x169)](_0x453589(0x174),_0x5695d5[_0x453589(0x188)],_0x5695d5['fileName']),await this['removeParent'](_0x5695d5),delete this[_0x453589(0x191)][_0x193cf7]):this['parentComponents'][_0x193cf7]=_0x430e70;}async[a103_0x1bd60c(0x185)](){const _0x1ea224=a103_0x1bd60c;!await fs_internal_1['FS'][_0x1ea224(0x180)](this[_0x1ea224(0x196)])&&await fs_internal_1['FS'][_0x1ea224(0x16c)](this['sourceDir']);for(const _0x200b02 of this[_0x1ea224(0x167)]){!child_types_1[_0x1ea224(0x16f)][_0x1ea224(0x171)](_0x200b02[_0x1ea224(0x157)])?(this[_0x1ea224(0x175)][_0x1ea224(0x169)](_0x1ea224(0x161),_0x200b02[_0x1ea224(0x18a)],_0x200b02[_0x1ea224(0x157)]),await this[_0x1ea224(0x176)](_0x200b02)):(this[_0x1ea224(0x175)][_0x1ea224(0x169)](_0x1ea224(0x17c),_0x200b02[_0x1ea224(0x18a)],_0x200b02[_0x1ea224(0x157)]),await this[_0x1ea224(0x16d)](_0x200b02));}const _0x2aa954=Object[_0x1ea224(0x194)](this[_0x1ea224(0x191)]);this['logger'][_0x1ea224(0x169)](_0x1ea224(0x17d),this[_0x1ea224(0x167)]['length']);while(_0x2aa954[_0x1ea224(0x162)]){const _0x32dfbd=_0x2aa954[_0x1ea224(0x16b)](0x0,this[_0x1ea224(0x17f)]);for(const _0x579dd2 of _0x32dfbd){await fs_internal_1['FS'][_0x1ea224(0x18c)](path_1[_0x1ea224(0x16f)]['join'](this[_0x1ea224(0x196)],_0x579dd2),xml_1[_0x1ea224(0x178)][_0x1ea224(0x160)](this['parentComponents'][_0x579dd2]));}}this[_0x1ea224(0x191)]={};}}exports['MDApiRemover']=MDApiRemover;