const a116_0x1f2038=a116_0x42af;(function(_0x569d4c,_0x43515e){const _0x8edefc=a116_0x42af,_0x2a6dca=_0x569d4c();while(!![]){try{const _0x5b517c=parseInt(_0x8edefc(0x209))/0x1+parseInt(_0x8edefc(0x1f4))/0x2+-parseInt(_0x8edefc(0x218))/0x3*(-parseInt(_0x8edefc(0x1f6))/0x4)+parseInt(_0x8edefc(0x1fb))/0x5+-parseInt(_0x8edefc(0x1de))/0x6*(parseInt(_0x8edefc(0x1fc))/0x7)+parseInt(_0x8edefc(0x1df))/0x8+parseInt(_0x8edefc(0x207))/0x9*(-parseInt(_0x8edefc(0x1e4))/0xa);if(_0x5b517c===_0x43515e)break;else _0x2a6dca['push'](_0x2a6dca['shift']());}catch(_0x19df8d){_0x2a6dca['push'](_0x2a6dca['shift']());}}}(a116_0x2c3e,0x612b8));const a116_0x1e1941=(function(){let _0x136425=!![];return function(_0x500ff9,_0x19f9f1){const _0x1e5374=_0x136425?function(){const _0x2234a3=a116_0x42af;if(_0x19f9f1){const _0x56e8bf=_0x19f9f1[_0x2234a3(0x1e6)](_0x500ff9,arguments);return _0x19f9f1=null,_0x56e8bf;}}:function(){};return _0x136425=![],_0x1e5374;};}()),a116_0x57c75c=a116_0x1e1941(this,function(){const _0x409543=a116_0x42af;return a116_0x57c75c[_0x409543(0x1f8)]()[_0x409543(0x1f9)](_0x409543(0x205))[_0x409543(0x1f8)]()[_0x409543(0x200)](a116_0x57c75c)['search']('(((.+)+)+)+$');});a116_0x57c75c();'use strict';var __importDefault=this&&this[a116_0x1f2038(0x1e0)]||function(_0xc6ea81){return _0xc6ea81&&_0xc6ea81['__esModule']?_0xc6ea81:{'default':_0xc6ea81};};Object[a116_0x1f2038(0x20b)](exports,a116_0x1f2038(0x1db),{'value':!![]}),exports[a116_0x1f2038(0x1fd)]=void 0x0;const fs_internal_1=require(a116_0x1f2038(0x201)),core_1=require(a116_0x1f2038(0x1ea)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require(a116_0x1f2038(0x1e1))),child_types_map_1=__importDefault(require(a116_0x1f2038(0x204))),path_1=__importDefault(require(a116_0x1f2038(0x214)));function a116_0x42af(_0x2cd1bb,_0x3e2d34){const _0x133bfa=a116_0x2c3e();return a116_0x42af=function(_0x57c75c,_0x1e1941){_0x57c75c=_0x57c75c-0x1d7;let _0x2c3e5f=_0x133bfa[_0x57c75c];return _0x2c3e5f;},a116_0x42af(_0x2cd1bb,_0x3e2d34);}class MDApiRemover{constructor(_0x350983,_0x9e681d){const _0x3f80c5=a116_0x1f2038;this[_0x3f80c5(0x1fe)]=_0x350983,this['sourceDir']=_0x9e681d,this[_0x3f80c5(0x1e5)]=_0x3f80c5(0x217),this[_0x3f80c5(0x215)]=_0x3f80c5(0x1e3),this['MAX_WRITES_PER_TICK']=0x64,this['logger']=new core_1[(_0x3f80c5(0x210))](MDApiRemover[_0x3f80c5(0x1d9)]),this[_0x3f80c5(0x1f5)]={};}async[a116_0x1f2038(0x20e)](_0x23a655){const _0x1349e6=a116_0x1f2038,_0x253708=path_1[_0x1349e6(0x1d8)]['join'](this[_0x1349e6(0x1f1)],_0x23a655['path']),_0x2ee69c=path_1[_0x1349e6(0x1d8)][_0x1349e6(0x20a)](this['sourceDir'],''+_0x23a655[_0x1349e6(0x214)]+this[_0x1349e6(0x1e5)]);this[_0x1349e6(0x1f5)][_0x23a655['path']]&&delete this[_0x1349e6(0x1f5)][_0x23a655[_0x1349e6(0x214)]];const _0x3f6808=await fs_internal_1['FS'][_0x1349e6(0x1fa)](_0x253708)['catch'](()=>![]);if(_0x3f6808){this[_0x1349e6(0x1f2)][_0x1349e6(0x1d7)](_0x1349e6(0x1ec),_0x253708,_0x23a655[_0x1349e6(0x1e2)]),await fs_internal_1['FS']['removeDir'](_0x253708);_0x23a655[_0x1349e6(0x1e2)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x1349e6(0x1e8)](''+_0x253708+this[_0x1349e6(0x215)])[_0x1349e6(0x1e7)](()=>void 0x0):(this[_0x1349e6(0x1f2)]['log'](_0x1349e6(0x1ef),_0x253708,_0x23a655['type']),await fs_internal_1['FS']['removeFile'](''+_0x253708+this['META_EXTENSION'])[_0x1349e6(0x1e7)](()=>void 0x0));return;}this[_0x1349e6(0x1f2)]['log'](_0x1349e6(0x202),_0x253708,_0x23a655['type']),await Promise[_0x1349e6(0x219)]([fs_internal_1['FS'][_0x1349e6(0x1e8)](_0x253708),fs_internal_1['FS'][_0x1349e6(0x1e8)](_0x2ee69c)]);}async[a116_0x1f2038(0x20c)](_0xf1b55c){const _0x32b4e1=a116_0x1f2038,{fileName:_0x1ab4fc,type:_0xc306e3,path:_0x186cbf}=_0xf1b55c,_0x1fd8e6=child_types_map_1[_0x32b4e1(0x1d8)][_0xc306e3];if(!_0x1fd8e6)throw new Error(_0x32b4e1(0x213)+_0xc306e3);if(!this[_0x32b4e1(0x1f5)][_0x186cbf]){const _0x13987a=path_1[_0x32b4e1(0x1d8)][_0x32b4e1(0x20a)](this[_0x32b4e1(0x1f1)],_0x186cbf),_0x321489=await fs_internal_1['FS']['exists'](_0x13987a);if(!_0x321489)return;const _0x6e5ec3=await fs_internal_1['FS'][_0x32b4e1(0x211)](_0x13987a);this['parentComponents'][_0x186cbf]=await xml_1['Xml'][_0x32b4e1(0x1eb)](_0x6e5ec3);}const _0x152d8b=this[_0x32b4e1(0x1f5)][_0x186cbf],_0x4d2368=_0x1ab4fc[_0x32b4e1(0x1dd)]('.')[_0x32b4e1(0x208)]();xml_1['Xml'][_0x32b4e1(0x1da)](_0x152d8b,_0x1fd8e6,_0x4d2368||_0x1ab4fc),xml_1[_0x32b4e1(0x206)][_0x32b4e1(0x1f3)](_0x152d8b)?(this['logger'][_0x32b4e1(0x1d7)](_0x32b4e1(0x20d),_0xf1b55c['path'],_0xf1b55c['fileName']),await this['removeParent'](_0xf1b55c),delete this[_0x32b4e1(0x1f5)][_0x186cbf]):this[_0x32b4e1(0x1f5)][_0x186cbf]=_0x152d8b;}async['start'](){const _0xed9aa2=a116_0x1f2038;!await fs_internal_1['FS'][_0xed9aa2(0x20f)](this[_0xed9aa2(0x1f1)])&&await fs_internal_1['FS'][_0xed9aa2(0x1ed)](this[_0xed9aa2(0x1f1)]);for(const _0x5e6266 of this[_0xed9aa2(0x1fe)]){!child_types_1[_0xed9aa2(0x1d8)][_0xed9aa2(0x1f7)](_0x5e6266[_0xed9aa2(0x1e2)])?(this[_0xed9aa2(0x1f2)][_0xed9aa2(0x1d7)](_0xed9aa2(0x1dc),_0x5e6266[_0xed9aa2(0x216)],_0x5e6266[_0xed9aa2(0x1e2)]),await this['removeParent'](_0x5e6266)):(this['logger']['log'](_0xed9aa2(0x1f0),_0x5e6266[_0xed9aa2(0x216)],_0x5e6266[_0xed9aa2(0x1e2)]),await this[_0xed9aa2(0x20c)](_0x5e6266));}const _0x4ea178=Object[_0xed9aa2(0x203)](this[_0xed9aa2(0x1f5)]);this[_0xed9aa2(0x1f2)][_0xed9aa2(0x1d7)](_0xed9aa2(0x1ff),this[_0xed9aa2(0x1fe)][_0xed9aa2(0x1ee)]);while(_0x4ea178[_0xed9aa2(0x1ee)]){const _0x2a1f12=_0x4ea178['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x564d9f of _0x2a1f12){await fs_internal_1['FS'][_0xed9aa2(0x212)](path_1[_0xed9aa2(0x1d8)][_0xed9aa2(0x20a)](this['sourceDir'],_0x564d9f),xml_1[_0xed9aa2(0x206)][_0xed9aa2(0x1e9)](this[_0xed9aa2(0x1f5)][_0x564d9f]));}}this[_0xed9aa2(0x1f5)]={};}}exports[a116_0x1f2038(0x1fd)]=MDApiRemover;function a116_0x2c3e(){const _0x307cf7=['6hYdOyC','3934016JyKEPp','__importDefault','../data/child-types','type','site-meta.xml','3665270JcpLeJ','META_EXTENSION','apply','catch','removeFile','convertToString','../../../../core','parse','remove\x20component\x20directory\x20%s\x20[%s]','makeDir','length','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','remove\x20child\x20component\x20%s\x20[%s]','sourceDir','logger','isEmptyXml','700764TgGoTD','parentComponents','1724gQnKNn','includes','toString','search','isDir','2626465RirhyD','4188065rZSvtk','MDApiRemover','components','have\x20to\x20update\x20%d\x20files','constructor','../../internal/fs.internal','remove\x20component\x20\x20%s\x20[%s]','keys','../data/child-types-map','(((.+)+)+)+$','Xml','36rcwzcO','pop','508824azSYFW','join','defineProperty','removeChild','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','removeParent','exists','Logger','readFile','writeFile','Unknown\x20child\x20type\x20','path','META_EXPERIENCE_BUNDLE','fileName','-meta.xml','4080RMEhrc','all','log','default','name','removeAt','__esModule','remove\x20parent\x20component\x20%s\x20[%s]','split'];a116_0x2c3e=function(){return _0x307cf7;};return a116_0x2c3e();}