const a100_0x20253c=a100_0x24ce;(function(_0x4c273f,_0x239d6b){const _0x4efcdb=a100_0x24ce,_0x3293db=_0x4c273f();while(!![]){try{const _0x182efa=-parseInt(_0x4efcdb(0x82))/0x1*(parseInt(_0x4efcdb(0xb0))/0x2)+-parseInt(_0x4efcdb(0xa7))/0x3*(parseInt(_0x4efcdb(0x8a))/0x4)+parseInt(_0x4efcdb(0xa6))/0x5*(-parseInt(_0x4efcdb(0xaa))/0x6)+-parseInt(_0x4efcdb(0x85))/0x7+-parseInt(_0x4efcdb(0x94))/0x8+-parseInt(_0x4efcdb(0xaf))/0x9+-parseInt(_0x4efcdb(0x86))/0xa*(-parseInt(_0x4efcdb(0x71))/0xb);if(_0x182efa===_0x239d6b)break;else _0x3293db['push'](_0x3293db['shift']());}catch(_0x3a0aaf){_0x3293db['push'](_0x3293db['shift']());}}}(a100_0x169f,0x8d538));function a100_0x24ce(_0xc44ba6,_0x3c4d3f){const _0x1a9642=a100_0x169f();return a100_0x24ce=function(_0x3faf84,_0x55f737){_0x3faf84=_0x3faf84-0x71;let _0x169fdf=_0x1a9642[_0x3faf84];return _0x169fdf;},a100_0x24ce(_0xc44ba6,_0x3c4d3f);}const a100_0x55f737=(function(){let _0x4270f2=!![];return function(_0x530233,_0x22ca1f){const _0x137960=_0x4270f2?function(){if(_0x22ca1f){const _0x3b1ffd=_0x22ca1f['apply'](_0x530233,arguments);return _0x22ca1f=null,_0x3b1ffd;}}:function(){};return _0x4270f2=![],_0x137960;};}()),a100_0x3faf84=a100_0x55f737(this,function(){const _0x189b2e=a100_0x24ce;return a100_0x3faf84[_0x189b2e(0x7c)]()[_0x189b2e(0x88)]('(((.+)+)+)+$')[_0x189b2e(0x7c)]()[_0x189b2e(0x97)](a100_0x3faf84)[_0x189b2e(0x88)](_0x189b2e(0x96));});function a100_0x169f(){const _0x5c36b3=['MAX_WRITES_PER_TICK','keys','splice','META_EXTENSION','catch','isEmptyXml','pop','name','6805304MPYyKs','log','(((.+)+)+)+$','constructor','split','__importDefault','logger','META_EXPERIENCE_BUNDLE','remove\x20component\x20directory\x20%s\x20[%s]','Xml','includes','parse','convertToString','Unknown\x20child\x20type\x20','sourceDir','writeFile','removeChild','length','110195TmlhrO','506055mUpeYP','-meta.xml','removeFile','42iIRNSV','makeDir','exists','readFile','parentComponents','3768426plIgJj','38510eqeSDJ','have\x20to\x20update\x20%d\x20files','__esModule','remove\x20component\x20\x20%s\x20[%s]','11lOXZqT','removeParent','default','join','../../../../core','components','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','path','../data/child-types','remove\x20child\x20component\x20%s\x20[%s]','MDApiRemover','toString','site-meta.xml','type','removeDir','fileName','../../internal/fs.internal','45ofitFU','Logger','all','961352NiSGKa','36810730zIGwqK','isDir','search','defineProperty','16xtLvvJ','start'];a100_0x169f=function(){return _0x5c36b3;};return a100_0x169f();}a100_0x3faf84();'use strict';var __importDefault=this&&this[a100_0x20253c(0x99)]||function(_0x47e20e){const _0xe87063=a100_0x20253c;return _0x47e20e&&_0x47e20e[_0xe87063(0xb2)]?_0x47e20e:{'default':_0x47e20e};};Object[a100_0x20253c(0x89)](exports,a100_0x20253c(0xb2),{'value':!![]}),exports[a100_0x20253c(0x7b)]=void 0x0;const fs_internal_1=require(a100_0x20253c(0x81)),core_1=require(a100_0x20253c(0x75)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require(a100_0x20253c(0x79))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require(a100_0x20253c(0x78)));class MDApiRemover{constructor(_0x142014,_0x3828e1){const _0x5ef53c=a100_0x20253c;this[_0x5ef53c(0x76)]=_0x142014,this[_0x5ef53c(0xa2)]=_0x3828e1,this['META_EXTENSION']=_0x5ef53c(0xa8),this[_0x5ef53c(0x9b)]=_0x5ef53c(0x7d),this[_0x5ef53c(0x8c)]=0x64,this[_0x5ef53c(0x9a)]=new core_1[(_0x5ef53c(0x83))](MDApiRemover[_0x5ef53c(0x93)]),this[_0x5ef53c(0xae)]={};}async[a100_0x20253c(0x72)](_0x4c0941){const _0x3517b4=a100_0x20253c,_0x59e1fe=path_1['default'][_0x3517b4(0x74)](this['sourceDir'],_0x4c0941[_0x3517b4(0x78)]),_0x2799b9=path_1[_0x3517b4(0x73)][_0x3517b4(0x74)](this[_0x3517b4(0xa2)],''+_0x4c0941['path']+this['META_EXTENSION']);this[_0x3517b4(0xae)][_0x4c0941[_0x3517b4(0x78)]]&&delete this[_0x3517b4(0xae)][_0x4c0941['path']];const _0x1e27af=await fs_internal_1['FS'][_0x3517b4(0x87)](_0x59e1fe)['catch'](()=>![]);if(_0x1e27af){this[_0x3517b4(0x9a)]['log'](_0x3517b4(0x9c),_0x59e1fe,_0x4c0941[_0x3517b4(0x7e)]),await fs_internal_1['FS'][_0x3517b4(0x7f)](_0x59e1fe);_0x4c0941[_0x3517b4(0x7e)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x3517b4(0xa9)](''+_0x59e1fe+this[_0x3517b4(0x9b)])['catch'](()=>void 0x0):(this['logger'][_0x3517b4(0x95)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x59e1fe,_0x4c0941[_0x3517b4(0x7e)]),await fs_internal_1['FS']['removeFile'](''+_0x59e1fe+this[_0x3517b4(0x8f)])[_0x3517b4(0x90)](()=>void 0x0));return;}this[_0x3517b4(0x9a)]['log'](_0x3517b4(0xb3),_0x59e1fe,_0x4c0941[_0x3517b4(0x7e)]),await Promise[_0x3517b4(0x84)]([fs_internal_1['FS'][_0x3517b4(0xa9)](_0x59e1fe),fs_internal_1['FS'][_0x3517b4(0xa9)](_0x2799b9)]);}async[a100_0x20253c(0xa4)](_0x565351){const _0x545ba6=a100_0x20253c,{fileName:_0x299f10,type:_0x145ff2,path:_0x289914}=_0x565351,_0x27881=child_types_map_1[_0x545ba6(0x73)][_0x145ff2];if(!_0x27881)throw new Error(_0x545ba6(0xa1)+_0x145ff2);if(!this['parentComponents'][_0x289914]){const _0x3e4246=path_1[_0x545ba6(0x73)][_0x545ba6(0x74)](this[_0x545ba6(0xa2)],_0x289914),_0x88d319=await fs_internal_1['FS'][_0x545ba6(0xac)](_0x3e4246);if(!_0x88d319)return;const _0x30234f=await fs_internal_1['FS'][_0x545ba6(0xad)](_0x3e4246);this[_0x545ba6(0xae)][_0x289914]=await xml_1['Xml'][_0x545ba6(0x9f)](_0x30234f);}const _0x468412=this[_0x545ba6(0xae)][_0x289914],_0x19ae80=_0x299f10[_0x545ba6(0x98)]('.')[_0x545ba6(0x92)]();xml_1[_0x545ba6(0x9d)]['removeAt'](_0x468412,_0x27881,_0x19ae80||_0x299f10),xml_1[_0x545ba6(0x9d)][_0x545ba6(0x91)](_0x468412)?(this['logger'][_0x545ba6(0x95)](_0x545ba6(0x77),_0x565351[_0x545ba6(0x78)],_0x565351[_0x545ba6(0x80)]),await this['removeParent'](_0x565351),delete this['parentComponents'][_0x289914]):this['parentComponents'][_0x289914]=_0x468412;}async[a100_0x20253c(0x8b)](){const _0x5beca0=a100_0x20253c;!await fs_internal_1['FS'][_0x5beca0(0xac)](this[_0x5beca0(0xa2)])&&await fs_internal_1['FS'][_0x5beca0(0xab)](this['sourceDir']);for(const _0x1e36e2 of this[_0x5beca0(0x76)]){!child_types_1[_0x5beca0(0x73)][_0x5beca0(0x9e)](_0x1e36e2[_0x5beca0(0x7e)])?(this['logger'][_0x5beca0(0x95)]('remove\x20parent\x20component\x20%s\x20[%s]',_0x1e36e2[_0x5beca0(0x80)],_0x1e36e2[_0x5beca0(0x7e)]),await this[_0x5beca0(0x72)](_0x1e36e2)):(this['logger'][_0x5beca0(0x95)](_0x5beca0(0x7a),_0x1e36e2[_0x5beca0(0x80)],_0x1e36e2[_0x5beca0(0x7e)]),await this[_0x5beca0(0xa4)](_0x1e36e2));}const _0x469d44=Object[_0x5beca0(0x8d)](this['parentComponents']);this[_0x5beca0(0x9a)]['log'](_0x5beca0(0xb1),this[_0x5beca0(0x76)]['length']);while(_0x469d44[_0x5beca0(0xa5)]){const _0x4dce33=_0x469d44[_0x5beca0(0x8e)](0x0,this[_0x5beca0(0x8c)]);for(const _0x718b6d of _0x4dce33){await fs_internal_1['FS'][_0x5beca0(0xa3)](path_1[_0x5beca0(0x73)][_0x5beca0(0x74)](this['sourceDir'],_0x718b6d),xml_1[_0x5beca0(0x9d)][_0x5beca0(0xa0)](this[_0x5beca0(0xae)][_0x718b6d]));}}this[_0x5beca0(0xae)]={};}}exports[a100_0x20253c(0x7b)]=MDApiRemover;