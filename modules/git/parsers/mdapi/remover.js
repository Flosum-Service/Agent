const a151_0x49f852=a151_0x398a;(function(_0x4f9d2f,_0x304479){const _0x519660=a151_0x398a,_0x48888f=_0x4f9d2f();while(!![]){try{const _0x12e861=-parseInt(_0x519660(0x1e9))/0x1*(parseInt(_0x519660(0x1de))/0x2)+parseInt(_0x519660(0x1ec))/0x3*(parseInt(_0x519660(0x213))/0x4)+parseInt(_0x519660(0x200))/0x5+parseInt(_0x519660(0x1e8))/0x6*(-parseInt(_0x519660(0x1f3))/0x7)+parseInt(_0x519660(0x20b))/0x8*(-parseInt(_0x519660(0x20c))/0x9)+parseInt(_0x519660(0x1cf))/0xa*(-parseInt(_0x519660(0x1e3))/0xb)+parseInt(_0x519660(0x1ff))/0xc;if(_0x12e861===_0x304479)break;else _0x48888f['push'](_0x48888f['shift']());}catch(_0x4fa59c){_0x48888f['push'](_0x48888f['shift']());}}}(a151_0x3b0f,0x7f6d9));const a151_0x39c6d3=(function(){let _0x4d24f4=!![];return function(_0x51108d,_0x21b632){const _0x5138da=_0x4d24f4?function(){const _0x2f098d=a151_0x398a;if(_0x21b632){const _0x1b9643=_0x21b632[_0x2f098d(0x1fe)](_0x51108d,arguments);return _0x21b632=null,_0x1b9643;}}:function(){};return _0x4d24f4=![],_0x5138da;};}()),a151_0xc870d4=a151_0x39c6d3(this,function(){const _0x43f631=a151_0x398a;return a151_0xc870d4[_0x43f631(0x1db)]()[_0x43f631(0x1d7)](_0x43f631(0x1e1))[_0x43f631(0x1db)]()['constructor'](a151_0xc870d4)[_0x43f631(0x1d7)](_0x43f631(0x1e1));});a151_0xc870d4();'use strict';var __importDefault=this&&this[a151_0x49f852(0x1fb)]||function(_0x3a1e96){const _0x5b3861=a151_0x49f852;return _0x3a1e96&&_0x3a1e96[_0x5b3861(0x1eb)]?_0x3a1e96:{'default':_0x3a1e96};};function a151_0x398a(_0x177df1,_0x4bcacf){const _0x36160d=a151_0x3b0f();return a151_0x398a=function(_0xc870d4,_0x39c6d3){_0xc870d4=_0xc870d4-0x1cf;let _0x3b0fe1=_0x36160d[_0xc870d4];return _0x3b0fe1;},a151_0x398a(_0x177df1,_0x4bcacf);}Object[a151_0x49f852(0x1dd)](exports,a151_0x49f852(0x1eb),{'value':!![]}),exports[a151_0x49f852(0x1f2)]=void 0x0;const fs_internal_1=require(a151_0x49f852(0x1fa)),core_1=require('../../../../core'),xml_v2_1=require(a151_0x49f852(0x1d3)),child_types_1=__importDefault(require(a151_0x49f852(0x1d2))),child_types_map_1=__importDefault(require(a151_0x49f852(0x1ef))),path_1=__importDefault(require(a151_0x49f852(0x1f6)));class MDApiRemover{constructor(_0x30dd93,_0x6b7612){const _0xbfea5=a151_0x49f852;this[_0xbfea5(0x1e0)]=_0x30dd93,this[_0xbfea5(0x1f5)]=_0x6b7612,this[_0xbfea5(0x210)]=_0xbfea5(0x1ea),this['META_EXPERIENCE_BUNDLE']='site-meta.xml',this[_0xbfea5(0x1d0)]=0x64,this[_0xbfea5(0x1d4)]=new core_1[(_0xbfea5(0x1da))](MDApiRemover[_0xbfea5(0x206)]),this[_0xbfea5(0x1d8)]={};}async[a151_0x49f852(0x207)](_0x2e8b53){const _0x4f106f=a151_0x49f852,_0x44f6bf=path_1[_0x4f106f(0x1ee)][_0x4f106f(0x1d5)](this[_0x4f106f(0x1f5)],_0x2e8b53[_0x4f106f(0x1f6)]),_0x4095c4=path_1[_0x4f106f(0x1ee)][_0x4f106f(0x1d5)](this[_0x4f106f(0x1f5)],''+_0x2e8b53[_0x4f106f(0x1f6)]+this[_0x4f106f(0x210)]);this[_0x4f106f(0x1d8)][_0x2e8b53[_0x4f106f(0x1f6)]]&&delete this[_0x4f106f(0x1d8)][_0x2e8b53[_0x4f106f(0x1f6)]];const _0x125806=await fs_internal_1['FS'][_0x4f106f(0x1ed)](_0x44f6bf)[_0x4f106f(0x1f0)](()=>![]);if(_0x125806){this[_0x4f106f(0x1d4)][_0x4f106f(0x20d)](_0x4f106f(0x20e),_0x44f6bf,_0x2e8b53[_0x4f106f(0x1d9)]),await fs_internal_1['FS'][_0x4f106f(0x203)](_0x44f6bf);_0x2e8b53[_0x4f106f(0x1d9)]===_0x4f106f(0x212)?await fs_internal_1['FS'][_0x4f106f(0x1fd)](''+_0x44f6bf+this['META_EXPERIENCE_BUNDLE'])[_0x4f106f(0x1f0)](()=>void 0x0):(this[_0x4f106f(0x1d4)][_0x4f106f(0x20d)](_0x4f106f(0x204),_0x44f6bf,_0x2e8b53['type']),await fs_internal_1['FS']['removeFile'](''+_0x44f6bf+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x4f106f(0x1d4)]['log'](_0x4f106f(0x1e5),_0x44f6bf,_0x2e8b53[_0x4f106f(0x1d9)]),await Promise[_0x4f106f(0x201)]([fs_internal_1['FS'][_0x4f106f(0x1fd)](_0x44f6bf),fs_internal_1['FS'][_0x4f106f(0x1fd)](_0x4095c4)]);}async[a151_0x49f852(0x1dc)](_0x11f295){const _0x3f8be6=a151_0x49f852,{fileName:_0x49af0d,type:_0x48bc28,path:_0x50b3e5}=_0x11f295,_0x2f118a=child_types_map_1[_0x3f8be6(0x1ee)][_0x48bc28];if(!_0x2f118a)throw new Error(_0x3f8be6(0x205)+_0x48bc28);if(!this[_0x3f8be6(0x1d8)][_0x50b3e5]){const _0x380234=path_1[_0x3f8be6(0x1ee)][_0x3f8be6(0x1d5)](this[_0x3f8be6(0x1f5)],_0x50b3e5),_0x4122c1=await fs_internal_1['FS'][_0x3f8be6(0x1d6)](_0x380234);if(!_0x4122c1)return;const _0x2a2e67=await fs_internal_1['FS'][_0x3f8be6(0x1fc)](_0x380234);this['parentComponents'][_0x50b3e5]=await xml_v2_1[_0x3f8be6(0x1df)][_0x3f8be6(0x209)](_0x2a2e67);}const _0x2f1ef1=this[_0x3f8be6(0x1d8)][_0x50b3e5],_0xbd79fa=_0x49af0d[_0x3f8be6(0x1e6)]('.')[_0x3f8be6(0x208)]();xml_v2_1['XmlV2'][_0x3f8be6(0x20a)](_0x2f1ef1,_0x2f118a,_0xbd79fa||_0x49af0d),xml_v2_1[_0x3f8be6(0x1df)][_0x3f8be6(0x1f7)](_0x2f1ef1)?(this[_0x3f8be6(0x1d4)]['log'](_0x3f8be6(0x1f8),_0x11f295[_0x3f8be6(0x1f6)],_0x11f295['fileName']),await this['removeParent'](_0x11f295),delete this[_0x3f8be6(0x1d8)][_0x50b3e5]):this['parentComponents'][_0x50b3e5]=_0x2f1ef1;}async[a151_0x49f852(0x1e2)](){const _0x4ffe89=a151_0x49f852;!await fs_internal_1['FS'][_0x4ffe89(0x1d6)](this[_0x4ffe89(0x1f5)])&&await fs_internal_1['FS'][_0x4ffe89(0x20f)](this[_0x4ffe89(0x1f5)]);for(const _0x5ac772 of this['components']){!child_types_1[_0x4ffe89(0x1ee)][_0x4ffe89(0x202)](_0x5ac772['type'])?(this[_0x4ffe89(0x1d4)][_0x4ffe89(0x20d)](_0x4ffe89(0x1f4),_0x5ac772[_0x4ffe89(0x1f1)],_0x5ac772[_0x4ffe89(0x1d9)]),await this['removeParent'](_0x5ac772)):(this[_0x4ffe89(0x1d4)][_0x4ffe89(0x20d)]('remove\x20child\x20component\x20%s\x20[%s]',_0x5ac772[_0x4ffe89(0x1f1)],_0x5ac772[_0x4ffe89(0x1d9)]),await this[_0x4ffe89(0x1dc)](_0x5ac772));}const _0x5db2f2=Object[_0x4ffe89(0x1f9)](this['parentComponents']);this['logger']['log']('have\x20to\x20update\x20%d\x20files',this[_0x4ffe89(0x1e0)][_0x4ffe89(0x1e7)]);while(_0x5db2f2[_0x4ffe89(0x1e7)]){const _0x36495c=_0x5db2f2[_0x4ffe89(0x1d1)](0x0,this[_0x4ffe89(0x1d0)]);for(const _0x1147db of _0x36495c){await fs_internal_1['FS'][_0x4ffe89(0x211)](path_1[_0x4ffe89(0x1ee)][_0x4ffe89(0x1d5)](this['sourceDir'],_0x1147db),xml_v2_1[_0x4ffe89(0x1df)][_0x4ffe89(0x1e4)](this[_0x4ffe89(0x1d8)][_0x1147db]));}}this['parentComponents']={};}}exports[a151_0x49f852(0x1f2)]=MDApiRemover;function a151_0x3b0f(){const _0x1d3316=['../data/child-types','../utils/xml-v2','logger','join','exists','search','parentComponents','type','Logger','toString','removeChild','defineProperty','116966RooCEZ','XmlV2','components','(((.+)+)+)+$','start','4941233NwnNKY','convertToString','remove\x20component\x20\x20%s\x20[%s]','split','length','475986vceFqp','3ipLxYD','-meta.xml','__esModule','57ZyXZHl','isDir','default','../data/child-types-map','catch','fileName','MDApiRemover','49PoVtcv','remove\x20parent\x20component\x20%s\x20[%s]','sourceDir','path','isEmptyXml','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','keys','../../internal/fs.internal','__importDefault','readFile','removeFile','apply','4128384WEgrga','4496425fcEcCX','all','includes','removeDir','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','Unknown\x20child\x20type\x20','name','removeParent','pop','parse','removeAt','15064gfimaL','261iNQisc','log','remove\x20component\x20directory\x20%s\x20[%s]','makeDir','META_EXTENSION','writeFile','ExperienceBundle','202612BrtNfU','20DxlRPI','MAX_WRITES_PER_TICK','splice'];a151_0x3b0f=function(){return _0x1d3316;};return a151_0x3b0f();}