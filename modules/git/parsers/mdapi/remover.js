const a103_0x666895=a103_0x3b1e;(function(_0x2d3846,_0x579e4b){const _0xfbca22=a103_0x3b1e,_0x1f1ab2=_0x2d3846();while(!![]){try{const _0x39d9d3=-parseInt(_0xfbca22(0x194))/0x1+-parseInt(_0xfbca22(0x1a3))/0x2*(parseInt(_0xfbca22(0x185))/0x3)+parseInt(_0xfbca22(0x1af))/0x4+-parseInt(_0xfbca22(0x180))/0x5*(parseInt(_0xfbca22(0x199))/0x6)+parseInt(_0xfbca22(0x18a))/0x7*(-parseInt(_0xfbca22(0x191))/0x8)+-parseInt(_0xfbca22(0x1a9))/0x9+parseInt(_0xfbca22(0x19f))/0xa;if(_0x39d9d3===_0x579e4b)break;else _0x1f1ab2['push'](_0x1f1ab2['shift']());}catch(_0x340a78){_0x1f1ab2['push'](_0x1f1ab2['shift']());}}}(a103_0x741f,0x53e81));const a103_0x116881=(function(){let _0x3ddcfa=!![];return function(_0x2bd940,_0x22f5a4){const _0x2b8148=_0x3ddcfa?function(){const _0x57f39c=a103_0x3b1e;if(_0x22f5a4){const _0x43c333=_0x22f5a4[_0x57f39c(0x1a7)](_0x2bd940,arguments);return _0x22f5a4=null,_0x43c333;}}:function(){};return _0x3ddcfa=![],_0x2b8148;};}()),a103_0xaa3ee1=a103_0x116881(this,function(){const _0x2f359b=a103_0x3b1e;return a103_0xaa3ee1[_0x2f359b(0x19c)]()[_0x2f359b(0x177)](_0x2f359b(0x184))[_0x2f359b(0x19c)]()['constructor'](a103_0xaa3ee1)[_0x2f359b(0x177)](_0x2f359b(0x184));});a103_0xaa3ee1();'use strict';var __importDefault=this&&this[a103_0x666895(0x182)]||function(_0x42d271){const _0x5d2369=a103_0x666895;return _0x42d271&&_0x42d271[_0x5d2369(0x1b4)]?_0x42d271:{'default':_0x42d271};};Object['defineProperty'](exports,a103_0x666895(0x1b4),{'value':!![]}),exports[a103_0x666895(0x193)]=void 0x0;function a103_0x3b1e(_0x291895,_0x104925){const _0x2090a3=a103_0x741f();return a103_0x3b1e=function(_0xaa3ee1,_0x116881){_0xaa3ee1=_0xaa3ee1-0x177;let _0x741f32=_0x2090a3[_0xaa3ee1];return _0x741f32;},a103_0x3b1e(_0x291895,_0x104925);}const fs_internal_1=require(a103_0x666895(0x17d)),core_1=require('../../../../core'),xml_1=require(a103_0x666895(0x1a2)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a103_0x666895(0x19e))),path_1=__importDefault(require(a103_0x666895(0x195)));class MDApiRemover{constructor(_0x187d16,_0x1777ca){const _0x342fb1=a103_0x666895;this[_0x342fb1(0x1a8)]=_0x187d16,this['sourceDir']=_0x1777ca,this[_0x342fb1(0x188)]=_0x342fb1(0x189),this['META_EXPERIENCE_BUNDLE']=_0x342fb1(0x17a),this[_0x342fb1(0x197)]=0x64,this['logger']=new core_1['Logger'](MDApiRemover[_0x342fb1(0x19b)]),this[_0x342fb1(0x1a4)]={};}async[a103_0x666895(0x17e)](_0x59d6e5){const _0x103cf3=a103_0x666895,_0x7fc81a=path_1[_0x103cf3(0x1ad)][_0x103cf3(0x18f)](this[_0x103cf3(0x18d)],_0x59d6e5['path']),_0x473e3c=path_1['default'][_0x103cf3(0x18f)](this[_0x103cf3(0x18d)],''+_0x59d6e5['path']+this[_0x103cf3(0x188)]);this['parentComponents'][_0x59d6e5[_0x103cf3(0x195)]]&&delete this[_0x103cf3(0x1a4)][_0x59d6e5['path']];const _0x5e6680=await fs_internal_1['FS'][_0x103cf3(0x1b3)](_0x7fc81a)[_0x103cf3(0x198)](()=>![]);if(_0x5e6680){this['logger'][_0x103cf3(0x1aa)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x7fc81a,_0x59d6e5['type']),await fs_internal_1['FS'][_0x103cf3(0x19a)](_0x7fc81a);_0x59d6e5[_0x103cf3(0x179)]===_0x103cf3(0x187)?await fs_internal_1['FS']['removeFile'](''+_0x7fc81a+this[_0x103cf3(0x1ab)])[_0x103cf3(0x198)](()=>void 0x0):(this[_0x103cf3(0x18e)]['log'](_0x103cf3(0x196),_0x7fc81a,_0x59d6e5[_0x103cf3(0x179)]),await fs_internal_1['FS'][_0x103cf3(0x17b)](''+_0x7fc81a+this[_0x103cf3(0x188)])[_0x103cf3(0x198)](()=>void 0x0));return;}this[_0x103cf3(0x18e)][_0x103cf3(0x1aa)]('remove\x20component\x20\x20%s\x20[%s]',_0x7fc81a,_0x59d6e5[_0x103cf3(0x179)]),await Promise['all']([fs_internal_1['FS'][_0x103cf3(0x17b)](_0x7fc81a),fs_internal_1['FS'][_0x103cf3(0x17b)](_0x473e3c)]);}async[a103_0x666895(0x1b1)](_0x1b23df){const _0x5944e7=a103_0x666895,{fileName:_0x343877,type:_0x14ba4f,path:_0x1ae5d3}=_0x1b23df,_0x359a63=child_types_map_1['default'][_0x14ba4f];if(!_0x359a63)throw new Error('Unknown\x20child\x20type\x20'+_0x14ba4f);if(!this['parentComponents'][_0x1ae5d3]){const _0x536c4d=path_1[_0x5944e7(0x1ad)]['join'](this[_0x5944e7(0x18d)],_0x1ae5d3),_0x1434a3=await fs_internal_1['FS'][_0x5944e7(0x186)](_0x536c4d);if(!_0x1434a3)return;const _0x372932=await fs_internal_1['FS'][_0x5944e7(0x1a5)](_0x536c4d);this[_0x5944e7(0x1a4)][_0x1ae5d3]=await xml_1['Xml'][_0x5944e7(0x181)](_0x372932);}const _0x334c46=this[_0x5944e7(0x1a4)][_0x1ae5d3],_0x3bfa74=_0x343877[_0x5944e7(0x17f)]('.')[_0x5944e7(0x1b0)]();xml_1[_0x5944e7(0x18b)][_0x5944e7(0x1a1)](_0x334c46,_0x359a63,_0x3bfa74||_0x343877),xml_1[_0x5944e7(0x18b)][_0x5944e7(0x183)](_0x334c46)?(this[_0x5944e7(0x18e)][_0x5944e7(0x1aa)](_0x5944e7(0x17c),_0x1b23df['path'],_0x1b23df[_0x5944e7(0x1b2)]),await this['removeParent'](_0x1b23df),delete this[_0x5944e7(0x1a4)][_0x1ae5d3]):this[_0x5944e7(0x1a4)][_0x1ae5d3]=_0x334c46;}async[a103_0x666895(0x18c)](){const _0x1d52e1=a103_0x666895;!await fs_internal_1['FS']['exists'](this[_0x1d52e1(0x18d)])&&await fs_internal_1['FS'][_0x1d52e1(0x1ae)](this[_0x1d52e1(0x18d)]);for(const _0x5c4557 of this[_0x1d52e1(0x1a8)]){!child_types_1[_0x1d52e1(0x1ad)][_0x1d52e1(0x190)](_0x5c4557[_0x1d52e1(0x179)])?(this[_0x1d52e1(0x18e)][_0x1d52e1(0x1aa)](_0x1d52e1(0x1a6),_0x5c4557[_0x1d52e1(0x1b2)],_0x5c4557[_0x1d52e1(0x179)]),await this[_0x1d52e1(0x17e)](_0x5c4557)):(this[_0x1d52e1(0x18e)][_0x1d52e1(0x1aa)](_0x1d52e1(0x178),_0x5c4557[_0x1d52e1(0x1b2)],_0x5c4557[_0x1d52e1(0x179)]),await this[_0x1d52e1(0x1b1)](_0x5c4557));}const _0x32a4=Object['keys'](this[_0x1d52e1(0x1a4)]);this['logger'][_0x1d52e1(0x1aa)](_0x1d52e1(0x1a0),this[_0x1d52e1(0x1a8)][_0x1d52e1(0x192)]);while(_0x32a4['length']){const _0x1f6d4d=_0x32a4[_0x1d52e1(0x19d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x227bf7 of _0x1f6d4d){await fs_internal_1['FS'][_0x1d52e1(0x1ac)](path_1[_0x1d52e1(0x1ad)]['join'](this[_0x1d52e1(0x18d)],_0x227bf7),xml_1[_0x1d52e1(0x18b)]['convertToString'](this[_0x1d52e1(0x1a4)][_0x227bf7]));}}this[_0x1d52e1(0x1a4)]={};}}exports[a103_0x666895(0x193)]=MDApiRemover;function a103_0x741f(){const _0x36a347=['logger','join','includes','8yOogtU','length','MDApiRemover','330870QqMtmv','path','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','MAX_WRITES_PER_TICK','catch','54MhHfkA','removeDir','name','toString','splice','../data/child-types-map','16503510xfEwWV','have\x20to\x20update\x20%d\x20files','removeAt','../utils/xml','427828jmioRa','parentComponents','readFile','remove\x20parent\x20component\x20%s\x20[%s]','apply','components','5340519FgxyIx','log','META_EXPERIENCE_BUNDLE','writeFile','default','makeDir','1158924iMFLUo','pop','removeChild','fileName','isDir','__esModule','search','remove\x20child\x20component\x20%s\x20[%s]','type','site-meta.xml','removeFile','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','../../internal/fs.internal','removeParent','split','122035oQqGzl','parse','__importDefault','isEmptyXml','(((.+)+)+)+$','6XecfET','exists','ExperienceBundle','META_EXTENSION','-meta.xml','172543aTJpHO','Xml','start','sourceDir'];a103_0x741f=function(){return _0x36a347;};return a103_0x741f();}