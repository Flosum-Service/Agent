const a151_0x2d377d=a151_0x2ae0;(function(_0x5c76aa,_0x31fd1b){const _0x106920=a151_0x2ae0,_0x4e98aa=_0x5c76aa();while(!![]){try{const _0x14d70c=-parseInt(_0x106920(0x1c3))/0x1*(-parseInt(_0x106920(0x1d0))/0x2)+parseInt(_0x106920(0x1f4))/0x3*(parseInt(_0x106920(0x1ce))/0x4)+parseInt(_0x106920(0x1b9))/0x5+parseInt(_0x106920(0x1f2))/0x6+parseInt(_0x106920(0x1cf))/0x7*(-parseInt(_0x106920(0x1d3))/0x8)+-parseInt(_0x106920(0x1e2))/0x9*(parseInt(_0x106920(0x1ec))/0xa)+parseInt(_0x106920(0x1d5))/0xb;if(_0x14d70c===_0x31fd1b)break;else _0x4e98aa['push'](_0x4e98aa['shift']());}catch(_0x1117ac){_0x4e98aa['push'](_0x4e98aa['shift']());}}}(a151_0x49a2,0x48b9b));const a151_0x20f552=(function(){let _0x11fff6=!![];return function(_0xde7127,_0x183e50){const _0x532a0b=_0x11fff6?function(){const _0x19fe62=a151_0x2ae0;if(_0x183e50){const _0x5e445f=_0x183e50[_0x19fe62(0x1da)](_0xde7127,arguments);return _0x183e50=null,_0x5e445f;}}:function(){};return _0x11fff6=![],_0x532a0b;};}()),a151_0x2a3265=a151_0x20f552(this,function(){const _0x5ee2ab=a151_0x2ae0;return a151_0x2a3265[_0x5ee2ab(0x1f1)]()[_0x5ee2ab(0x1dd)](_0x5ee2ab(0x1d7))[_0x5ee2ab(0x1f1)]()[_0x5ee2ab(0x1f7)](a151_0x2a3265)[_0x5ee2ab(0x1dd)](_0x5ee2ab(0x1d7));});a151_0x2a3265();'use strict';function a151_0x49a2(){const _0x6e5cab=['2024721yNHWiB','convertToString','includes','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','parentComponents','remove\x20child\x20component\x20%s\x20[%s]','isDir','isEmptyXml','keys','ExperienceBundle','20uECDDI','readFile','XmlV2','../utils/xml-v2','../../../../core','toString','253098DiIVUp','length','141EIBhMd','name','remove\x20component\x20\x20%s\x20[%s]','constructor','type','log','1253160imJVGb','parse','path','start','sourceDir','removeParent','writeFile','split','makeDir','all','243anSDeM','default','../data/child-types','logger','exists','__esModule','join','remove\x20component\x20directory\x20%s\x20[%s]','META_EXPERIENCE_BUNDLE','Logger','catch','48028ikMEYZ','86345ieVjnp','886hfDEUS','MAX_WRITES_PER_TICK','fileName','240NXhuMk','removeFile','1683858WwFhpH','removeChild','(((.+)+)+)+$','remove\x20parent\x20component\x20%s\x20[%s]','site-meta.xml','apply','Unknown\x20child\x20type\x20','MDApiRemover','search','META_EXTENSION','defineProperty','components','../../internal/fs.internal'];a151_0x49a2=function(){return _0x6e5cab;};return a151_0x49a2();}function a151_0x2ae0(_0x141c35,_0x215dc4){const _0x434c7b=a151_0x49a2();return a151_0x2ae0=function(_0x2a3265,_0x20f552){_0x2a3265=_0x2a3265-0x1b7;let _0x49a229=_0x434c7b[_0x2a3265];return _0x49a229;},a151_0x2ae0(_0x141c35,_0x215dc4);}var __importDefault=this&&this['__importDefault']||function(_0x4e33db){const _0x4f4fba=a151_0x2ae0;return _0x4e33db&&_0x4e33db[_0x4f4fba(0x1c8)]?_0x4e33db:{'default':_0x4e33db};};Object[a151_0x2d377d(0x1df)](exports,a151_0x2d377d(0x1c8),{'value':!![]}),exports[a151_0x2d377d(0x1dc)]=void 0x0;const fs_internal_1=require(a151_0x2d377d(0x1e1)),core_1=require(a151_0x2d377d(0x1f0)),xml_v2_1=require(a151_0x2d377d(0x1ef)),child_types_1=__importDefault(require(a151_0x2d377d(0x1c5))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require(a151_0x2d377d(0x1bb)));class MDApiRemover{constructor(_0x323622,_0x37fe26){const _0x53aec8=a151_0x2d377d;this['components']=_0x323622,this[_0x53aec8(0x1bd)]=_0x37fe26,this[_0x53aec8(0x1de)]='-meta.xml',this[_0x53aec8(0x1cb)]=_0x53aec8(0x1d9),this[_0x53aec8(0x1d1)]=0x64,this[_0x53aec8(0x1c6)]=new core_1[(_0x53aec8(0x1cc))](MDApiRemover[_0x53aec8(0x1f5)]),this[_0x53aec8(0x1e6)]={};}async[a151_0x2d377d(0x1be)](_0x4e6b3f){const _0x2ab51d=a151_0x2d377d,_0xa89470=path_1[_0x2ab51d(0x1c4)][_0x2ab51d(0x1c9)](this[_0x2ab51d(0x1bd)],_0x4e6b3f[_0x2ab51d(0x1bb)]),_0x1c28c2=path_1[_0x2ab51d(0x1c4)][_0x2ab51d(0x1c9)](this[_0x2ab51d(0x1bd)],''+_0x4e6b3f[_0x2ab51d(0x1bb)]+this[_0x2ab51d(0x1de)]);this['parentComponents'][_0x4e6b3f[_0x2ab51d(0x1bb)]]&&delete this[_0x2ab51d(0x1e6)][_0x4e6b3f['path']];const _0x3e1e0a=await fs_internal_1['FS'][_0x2ab51d(0x1e8)](_0xa89470)['catch'](()=>![]);if(_0x3e1e0a){this[_0x2ab51d(0x1c6)][_0x2ab51d(0x1b8)](_0x2ab51d(0x1ca),_0xa89470,_0x4e6b3f[_0x2ab51d(0x1b7)]),await fs_internal_1['FS']['removeDir'](_0xa89470);_0x4e6b3f[_0x2ab51d(0x1b7)]===_0x2ab51d(0x1eb)?await fs_internal_1['FS'][_0x2ab51d(0x1d4)](''+_0xa89470+this[_0x2ab51d(0x1cb)])[_0x2ab51d(0x1cd)](()=>void 0x0):(this['logger'][_0x2ab51d(0x1b8)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0xa89470,_0x4e6b3f[_0x2ab51d(0x1b7)]),await fs_internal_1['FS'][_0x2ab51d(0x1d4)](''+_0xa89470+this['META_EXTENSION'])[_0x2ab51d(0x1cd)](()=>void 0x0));return;}this[_0x2ab51d(0x1c6)][_0x2ab51d(0x1b8)](_0x2ab51d(0x1f6),_0xa89470,_0x4e6b3f[_0x2ab51d(0x1b7)]),await Promise[_0x2ab51d(0x1c2)]([fs_internal_1['FS'][_0x2ab51d(0x1d4)](_0xa89470),fs_internal_1['FS'][_0x2ab51d(0x1d4)](_0x1c28c2)]);}async[a151_0x2d377d(0x1d6)](_0x129597){const _0x32f4d8=a151_0x2d377d,{fileName:_0x31a1e0,type:_0x3dc236,path:_0x3ab51b}=_0x129597,_0x496113=child_types_map_1[_0x32f4d8(0x1c4)][_0x3dc236];if(!_0x496113)throw new Error(_0x32f4d8(0x1db)+_0x3dc236);if(!this[_0x32f4d8(0x1e6)][_0x3ab51b]){const _0xeb302e=path_1['default']['join'](this[_0x32f4d8(0x1bd)],_0x3ab51b),_0x381524=await fs_internal_1['FS'][_0x32f4d8(0x1c7)](_0xeb302e);if(!_0x381524)return;const _0xe4ca09=await fs_internal_1['FS'][_0x32f4d8(0x1ed)](_0xeb302e);this[_0x32f4d8(0x1e6)][_0x3ab51b]=await xml_v2_1['XmlV2'][_0x32f4d8(0x1ba)](_0xe4ca09);}const _0x1b16b5=this[_0x32f4d8(0x1e6)][_0x3ab51b],_0x25a8da=_0x31a1e0[_0x32f4d8(0x1c0)]('.')['pop']();xml_v2_1[_0x32f4d8(0x1ee)]['removeAt'](_0x1b16b5,_0x496113,_0x25a8da||_0x31a1e0),xml_v2_1['XmlV2'][_0x32f4d8(0x1e9)](_0x1b16b5)?(this['logger']['log'](_0x32f4d8(0x1e5),_0x129597[_0x32f4d8(0x1bb)],_0x129597[_0x32f4d8(0x1d2)]),await this[_0x32f4d8(0x1be)](_0x129597),delete this['parentComponents'][_0x3ab51b]):this[_0x32f4d8(0x1e6)][_0x3ab51b]=_0x1b16b5;}async[a151_0x2d377d(0x1bc)](){const _0x52749e=a151_0x2d377d;!await fs_internal_1['FS'][_0x52749e(0x1c7)](this[_0x52749e(0x1bd)])&&await fs_internal_1['FS'][_0x52749e(0x1c1)](this[_0x52749e(0x1bd)]);for(const _0x1bced0 of this[_0x52749e(0x1e0)]){!child_types_1[_0x52749e(0x1c4)][_0x52749e(0x1e4)](_0x1bced0['type'])?(this[_0x52749e(0x1c6)][_0x52749e(0x1b8)](_0x52749e(0x1d8),_0x1bced0[_0x52749e(0x1d2)],_0x1bced0[_0x52749e(0x1b7)]),await this[_0x52749e(0x1be)](_0x1bced0)):(this[_0x52749e(0x1c6)][_0x52749e(0x1b8)](_0x52749e(0x1e7),_0x1bced0[_0x52749e(0x1d2)],_0x1bced0[_0x52749e(0x1b7)]),await this[_0x52749e(0x1d6)](_0x1bced0));}const _0x34e0c5=Object[_0x52749e(0x1ea)](this[_0x52749e(0x1e6)]);this[_0x52749e(0x1c6)][_0x52749e(0x1b8)]('have\x20to\x20update\x20%d\x20files',this['components'][_0x52749e(0x1f3)]);while(_0x34e0c5[_0x52749e(0x1f3)]){const _0x4276b9=_0x34e0c5['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x81a7e7 of _0x4276b9){await fs_internal_1['FS'][_0x52749e(0x1bf)](path_1[_0x52749e(0x1c4)]['join'](this['sourceDir'],_0x81a7e7),xml_v2_1['XmlV2'][_0x52749e(0x1e3)](this[_0x52749e(0x1e6)][_0x81a7e7]));}}this[_0x52749e(0x1e6)]={};}}exports[a151_0x2d377d(0x1dc)]=MDApiRemover;