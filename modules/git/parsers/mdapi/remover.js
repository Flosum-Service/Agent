function a151_0x5676(){const _0x3eca0e=['removeAt','3869160kqNRQD','../../internal/fs.internal','3030951kPGRSQ','Logger','2JQtEYl','includes','XmlV2','ExperienceBundle','fileName','parentComponents','convertToString','MDApiRemover','toString','exists','defineProperty','../data/child-types-map','default','remove\x20component\x20\x20%s\x20[%s]','log','logger','remove\x20parent\x20component\x20%s\x20[%s]','path','removeChild','split','876600boJmCh','name','META_EXTENSION','__importDefault','pop','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isDir','removeParent','sourceDir','apply','-meta.xml','splice','9690736kDybrz','24268XkxFTR','have\x20to\x20update\x20%d\x20files','catch','3CNtjFz','removeFile','../utils/xml-v2','parse','removeDir','569176BXOFxk','type','search','writeFile','site-meta.xml','remove\x20component\x20directory\x20%s\x20[%s]','join','remove\x20child\x20component\x20%s\x20[%s]','constructor','12uNHbTK','37617740vTpmgE','MAX_WRITES_PER_TICK','(((.+)+)+)+$','__esModule','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','Unknown\x20child\x20type\x20','META_EXPERIENCE_BUNDLE'];a151_0x5676=function(){return _0x3eca0e;};return a151_0x5676();}const a151_0x2d7434=a151_0x5ace;(function(_0x5cca24,_0x2bd6a7){const _0x36ded0=a151_0x5ace,_0x51bbe5=_0x5cca24();while(!![]){try{const _0x5d3695=-parseInt(_0x36ded0(0x1fa))/0x1*(parseInt(_0x36ded0(0x218))/0x2)+parseInt(_0x36ded0(0x1fd))/0x3*(parseInt(_0x36ded0(0x202))/0x4)+-parseInt(_0x36ded0(0x214))/0x5+-parseInt(_0x36ded0(0x20b))/0x6*(parseInt(_0x36ded0(0x216))/0x7)+-parseInt(_0x36ded0(0x1f9))/0x8+-parseInt(_0x36ded0(0x22c))/0x9+parseInt(_0x36ded0(0x20c))/0xa;if(_0x5d3695===_0x2bd6a7)break;else _0x51bbe5['push'](_0x51bbe5['shift']());}catch(_0x30101f){_0x51bbe5['push'](_0x51bbe5['shift']());}}}(a151_0x5676,0xe35a8));const a151_0x48a066=(function(){let _0x1728dc=!![];return function(_0x172753,_0x44d18a){const _0x332260=_0x1728dc?function(){const _0x307a47=a151_0x5ace;if(_0x44d18a){const _0x1772f4=_0x44d18a[_0x307a47(0x1f6)](_0x172753,arguments);return _0x44d18a=null,_0x1772f4;}}:function(){};return _0x1728dc=![],_0x332260;};}()),a151_0x558f44=a151_0x48a066(this,function(){const _0x174746=a151_0x5ace;return a151_0x558f44[_0x174746(0x220)]()[_0x174746(0x204)](_0x174746(0x20e))['toString']()[_0x174746(0x20a)](a151_0x558f44)[_0x174746(0x204)](_0x174746(0x20e));});a151_0x558f44();'use strict';var __importDefault=this&&this[a151_0x2d7434(0x1f0)]||function(_0x258641){return _0x258641&&_0x258641['__esModule']?_0x258641:{'default':_0x258641};};Object[a151_0x2d7434(0x222)](exports,a151_0x2d7434(0x20f),{'value':!![]}),exports[a151_0x2d7434(0x21f)]=void 0x0;const fs_internal_1=require(a151_0x2d7434(0x215)),core_1=require('../../../../core'),xml_v2_1=require(a151_0x2d7434(0x1ff)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a151_0x2d7434(0x223))),path_1=__importDefault(require(a151_0x2d7434(0x229)));class MDApiRemover{constructor(_0x5ee560,_0x3a0d38){const _0x14cf4f=a151_0x2d7434;this['components']=_0x5ee560,this[_0x14cf4f(0x1f5)]=_0x3a0d38,this[_0x14cf4f(0x22e)]=_0x14cf4f(0x1f7),this[_0x14cf4f(0x212)]=_0x14cf4f(0x206),this['MAX_WRITES_PER_TICK']=0x64,this[_0x14cf4f(0x227)]=new core_1[(_0x14cf4f(0x217))](MDApiRemover[_0x14cf4f(0x22d)]),this[_0x14cf4f(0x21d)]={};}async[a151_0x2d7434(0x1f4)](_0x26a8ef){const _0x14328c=a151_0x2d7434,_0x15cea7=path_1['default'][_0x14328c(0x208)](this[_0x14328c(0x1f5)],_0x26a8ef[_0x14328c(0x229)]),_0xe8b2d6=path_1[_0x14328c(0x224)][_0x14328c(0x208)](this[_0x14328c(0x1f5)],''+_0x26a8ef[_0x14328c(0x229)]+this[_0x14328c(0x22e)]);this['parentComponents'][_0x26a8ef[_0x14328c(0x229)]]&&delete this[_0x14328c(0x21d)][_0x26a8ef[_0x14328c(0x229)]];const _0x2b51bf=await fs_internal_1['FS'][_0x14328c(0x1f3)](_0x15cea7)[_0x14328c(0x1fc)](()=>![]);if(_0x2b51bf){this['logger'][_0x14328c(0x226)](_0x14328c(0x207),_0x15cea7,_0x26a8ef[_0x14328c(0x203)]),await fs_internal_1['FS'][_0x14328c(0x201)](_0x15cea7);_0x26a8ef[_0x14328c(0x203)]===_0x14328c(0x21b)?await fs_internal_1['FS'][_0x14328c(0x1fe)](''+_0x15cea7+this[_0x14328c(0x212)])[_0x14328c(0x1fc)](()=>void 0x0):(this[_0x14328c(0x227)][_0x14328c(0x226)](_0x14328c(0x210),_0x15cea7,_0x26a8ef[_0x14328c(0x203)]),await fs_internal_1['FS'][_0x14328c(0x1fe)](''+_0x15cea7+this[_0x14328c(0x22e)])[_0x14328c(0x1fc)](()=>void 0x0));return;}this['logger'][_0x14328c(0x226)](_0x14328c(0x225),_0x15cea7,_0x26a8ef[_0x14328c(0x203)]),await Promise['all']([fs_internal_1['FS']['removeFile'](_0x15cea7),fs_internal_1['FS'][_0x14328c(0x1fe)](_0xe8b2d6)]);}async[a151_0x2d7434(0x22a)](_0x4dc9a0){const _0x3e82d4=a151_0x2d7434,{fileName:_0xbcb652,type:_0x306855,path:_0x324d76}=_0x4dc9a0,_0x5151f9=child_types_map_1[_0x3e82d4(0x224)][_0x306855];if(!_0x5151f9)throw new Error(_0x3e82d4(0x211)+_0x306855);if(!this['parentComponents'][_0x324d76]){const _0xf63f99=path_1[_0x3e82d4(0x224)][_0x3e82d4(0x208)](this[_0x3e82d4(0x1f5)],_0x324d76),_0x54ed11=await fs_internal_1['FS'][_0x3e82d4(0x221)](_0xf63f99);if(!_0x54ed11)return;const _0x324224=await fs_internal_1['FS']['readFile'](_0xf63f99);this[_0x3e82d4(0x21d)][_0x324d76]=await xml_v2_1[_0x3e82d4(0x21a)][_0x3e82d4(0x200)](_0x324224);}const _0x3e37e1=this[_0x3e82d4(0x21d)][_0x324d76],_0x5a1e5e=_0xbcb652[_0x3e82d4(0x22b)]('.')[_0x3e82d4(0x1f1)]();xml_v2_1['XmlV2'][_0x3e82d4(0x213)](_0x3e37e1,_0x5151f9,_0x5a1e5e||_0xbcb652),xml_v2_1[_0x3e82d4(0x21a)]['isEmptyXml'](_0x3e37e1)?(this[_0x3e82d4(0x227)][_0x3e82d4(0x226)](_0x3e82d4(0x1f2),_0x4dc9a0[_0x3e82d4(0x229)],_0x4dc9a0[_0x3e82d4(0x21c)]),await this[_0x3e82d4(0x1f4)](_0x4dc9a0),delete this[_0x3e82d4(0x21d)][_0x324d76]):this[_0x3e82d4(0x21d)][_0x324d76]=_0x3e37e1;}async['start'](){const _0x3daff5=a151_0x2d7434;!await fs_internal_1['FS'][_0x3daff5(0x221)](this[_0x3daff5(0x1f5)])&&await fs_internal_1['FS']['makeDir'](this[_0x3daff5(0x1f5)]);for(const _0x4b761c of this['components']){!child_types_1['default'][_0x3daff5(0x219)](_0x4b761c[_0x3daff5(0x203)])?(this['logger'][_0x3daff5(0x226)](_0x3daff5(0x228),_0x4b761c[_0x3daff5(0x21c)],_0x4b761c[_0x3daff5(0x203)]),await this['removeParent'](_0x4b761c)):(this['logger'][_0x3daff5(0x226)](_0x3daff5(0x209),_0x4b761c['fileName'],_0x4b761c[_0x3daff5(0x203)]),await this[_0x3daff5(0x22a)](_0x4b761c));}const _0x837078=Object['keys'](this[_0x3daff5(0x21d)]);this[_0x3daff5(0x227)][_0x3daff5(0x226)](_0x3daff5(0x1fb),this['components']['length']);while(_0x837078['length']){const _0x409eb7=_0x837078[_0x3daff5(0x1f8)](0x0,this[_0x3daff5(0x20d)]);for(const _0xff7e8d of _0x409eb7){await fs_internal_1['FS'][_0x3daff5(0x205)](path_1['default']['join'](this['sourceDir'],_0xff7e8d),xml_v2_1['XmlV2'][_0x3daff5(0x21e)](this['parentComponents'][_0xff7e8d]));}}this[_0x3daff5(0x21d)]={};}}function a151_0x5ace(_0x5cd12d,_0x346df6){const _0x17a2c7=a151_0x5676();return a151_0x5ace=function(_0x558f44,_0x48a066){_0x558f44=_0x558f44-0x1f0;let _0x567644=_0x17a2c7[_0x558f44];return _0x567644;},a151_0x5ace(_0x5cd12d,_0x346df6);}exports[a151_0x2d7434(0x21f)]=MDApiRemover;