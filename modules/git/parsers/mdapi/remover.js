const a148_0x20f517=a148_0x36c9;(function(_0x502b5a,_0x1dc317){const _0x187514=a148_0x36c9,_0x29ccd9=_0x502b5a();while(!![]){try{const _0x13cc1e=-parseInt(_0x187514(0x110))/0x1+parseInt(_0x187514(0x11c))/0x2*(parseInt(_0x187514(0x105))/0x3)+parseInt(_0x187514(0x104))/0x4+-parseInt(_0x187514(0x11f))/0x5+parseInt(_0x187514(0x102))/0x6*(-parseInt(_0x187514(0x136))/0x7)+-parseInt(_0x187514(0x118))/0x8+parseInt(_0x187514(0x12e))/0x9;if(_0x13cc1e===_0x1dc317)break;else _0x29ccd9['push'](_0x29ccd9['shift']());}catch(_0x3f4afb){_0x29ccd9['push'](_0x29ccd9['shift']());}}}(a148_0x1112,0xcbefc));const a148_0x30fd98=(function(){let _0x5180f5=!![];return function(_0x3a7b90,_0x5de62d){const _0x4ddb04=_0x5180f5?function(){if(_0x5de62d){const _0x497d16=_0x5de62d['apply'](_0x3a7b90,arguments);return _0x5de62d=null,_0x497d16;}}:function(){};return _0x5180f5=![],_0x4ddb04;};}()),a148_0x2eb841=a148_0x30fd98(this,function(){const _0x3665fb=a148_0x36c9;return a148_0x2eb841['toString']()[_0x3665fb(0x106)](_0x3665fb(0x116))[_0x3665fb(0x124)]()[_0x3665fb(0x133)](a148_0x2eb841)[_0x3665fb(0x106)](_0x3665fb(0x116));});a148_0x2eb841();function a148_0x1112(){const _0x184e29=['8876XWdXbQ','removeDir','readFile','MDApiRemover','__importDefault','remove\x20parent\x20component\x20%s\x20[%s]','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','Logger','XmlV2','includes','logger','5628SRJPTW','path','3269544tAClyw','255dwUxEP','search','removeParent','split','MAX_WRITES_PER_TICK','log','convertToString','name','__esModule','remove\x20component\x20directory\x20%s\x20[%s]','parentComponents','1344890RXzLIa','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isEmptyXml','META_EXPERIENCE_BUNDLE','fileName','../utils/xml-v2','(((.+)+)+)+$','../../internal/fs.internal','870736XglDOm','parse','site-meta.xml','removeFile','28774ibsvNO','Unknown\x20child\x20type\x20','exists','1885425lEeerr','-meta.xml','pop','start','remove\x20child\x20component\x20%s\x20[%s]','toString','length','have\x20to\x20update\x20%d\x20files','../data/child-types','all','catch','components','sourceDir','../data/child-types-map','defineProperty','16337196JNHgsm','type','META_EXTENSION','default','join','constructor','ExperienceBundle','removeChild'];a148_0x1112=function(){return _0x184e29;};return a148_0x1112();}function a148_0x36c9(_0x4c6cfd,_0x5654a1){const _0x1cc732=a148_0x1112();return a148_0x36c9=function(_0x2eb841,_0x30fd98){_0x2eb841=_0x2eb841-0xf8;let _0x11129d=_0x1cc732[_0x2eb841];return _0x11129d;},a148_0x36c9(_0x4c6cfd,_0x5654a1);}'use strict';var __importDefault=this&&this[a148_0x20f517(0xfb)]||function(_0x46e0d5){const _0x20eb3b=a148_0x20f517;return _0x46e0d5&&_0x46e0d5[_0x20eb3b(0x10d)]?_0x46e0d5:{'default':_0x46e0d5};};Object[a148_0x20f517(0x12d)](exports,'__esModule',{'value':!![]}),exports[a148_0x20f517(0xfa)]=void 0x0;const fs_internal_1=require(a148_0x20f517(0x117)),core_1=require('../../../../core'),xml_v2_1=require(a148_0x20f517(0x115)),child_types_1=__importDefault(require(a148_0x20f517(0x127))),child_types_map_1=__importDefault(require(a148_0x20f517(0x12c))),path_1=__importDefault(require(a148_0x20f517(0x103)));class MDApiRemover{constructor(_0x2ae564,_0x42ce77){const _0x4b0878=a148_0x20f517;this[_0x4b0878(0x12a)]=_0x2ae564,this[_0x4b0878(0x12b)]=_0x42ce77,this[_0x4b0878(0x130)]=_0x4b0878(0x120),this[_0x4b0878(0x113)]=_0x4b0878(0x11a),this[_0x4b0878(0x109)]=0x64,this[_0x4b0878(0x101)]=new core_1[(_0x4b0878(0xfe))](MDApiRemover[_0x4b0878(0x10c)]),this[_0x4b0878(0x10f)]={};}async[a148_0x20f517(0x107)](_0x1ebd80){const _0x10a1ad=a148_0x20f517,_0x5a1069=path_1[_0x10a1ad(0x131)][_0x10a1ad(0x132)](this[_0x10a1ad(0x12b)],_0x1ebd80['path']),_0xb53efa=path_1['default']['join'](this['sourceDir'],''+_0x1ebd80[_0x10a1ad(0x103)]+this[_0x10a1ad(0x130)]);this[_0x10a1ad(0x10f)][_0x1ebd80['path']]&&delete this[_0x10a1ad(0x10f)][_0x1ebd80['path']];const _0x5970fc=await fs_internal_1['FS']['isDir'](_0x5a1069)[_0x10a1ad(0x129)](()=>![]);if(_0x5970fc){this[_0x10a1ad(0x101)][_0x10a1ad(0x10a)](_0x10a1ad(0x10e),_0x5a1069,_0x1ebd80[_0x10a1ad(0x12f)]),await fs_internal_1['FS'][_0x10a1ad(0xf8)](_0x5a1069);_0x1ebd80[_0x10a1ad(0x12f)]===_0x10a1ad(0x134)?await fs_internal_1['FS'][_0x10a1ad(0x11b)](''+_0x5a1069+this[_0x10a1ad(0x113)])[_0x10a1ad(0x129)](()=>void 0x0):(this[_0x10a1ad(0x101)][_0x10a1ad(0x10a)](_0x10a1ad(0xfd),_0x5a1069,_0x1ebd80['type']),await fs_internal_1['FS'][_0x10a1ad(0x11b)](''+_0x5a1069+this[_0x10a1ad(0x130)])[_0x10a1ad(0x129)](()=>void 0x0));return;}this['logger'][_0x10a1ad(0x10a)]('remove\x20component\x20\x20%s\x20[%s]',_0x5a1069,_0x1ebd80[_0x10a1ad(0x12f)]),await Promise[_0x10a1ad(0x128)]([fs_internal_1['FS'][_0x10a1ad(0x11b)](_0x5a1069),fs_internal_1['FS'][_0x10a1ad(0x11b)](_0xb53efa)]);}async[a148_0x20f517(0x135)](_0x8f05a7){const _0x1a4090=a148_0x20f517,{fileName:_0x4b5ed0,type:_0x4738b5,path:_0x3c1c41}=_0x8f05a7,_0x3c999d=child_types_map_1['default'][_0x4738b5];if(!_0x3c999d)throw new Error(_0x1a4090(0x11d)+_0x4738b5);if(!this[_0x1a4090(0x10f)][_0x3c1c41]){const _0x47d9db=path_1[_0x1a4090(0x131)][_0x1a4090(0x132)](this[_0x1a4090(0x12b)],_0x3c1c41),_0x84fc4d=await fs_internal_1['FS'][_0x1a4090(0x11e)](_0x47d9db);if(!_0x84fc4d)return;const _0x42851c=await fs_internal_1['FS'][_0x1a4090(0xf9)](_0x47d9db);this[_0x1a4090(0x10f)][_0x3c1c41]=await xml_v2_1[_0x1a4090(0xff)][_0x1a4090(0x119)](_0x42851c);}const _0x49f77d=this[_0x1a4090(0x10f)][_0x3c1c41],_0x222461=_0x4b5ed0[_0x1a4090(0x108)]('.')[_0x1a4090(0x121)]();xml_v2_1[_0x1a4090(0xff)]['removeAt'](_0x49f77d,_0x3c999d,_0x222461||_0x4b5ed0),xml_v2_1['XmlV2'][_0x1a4090(0x112)](_0x49f77d)?(this[_0x1a4090(0x101)][_0x1a4090(0x10a)](_0x1a4090(0x111),_0x8f05a7[_0x1a4090(0x103)],_0x8f05a7[_0x1a4090(0x114)]),await this[_0x1a4090(0x107)](_0x8f05a7),delete this[_0x1a4090(0x10f)][_0x3c1c41]):this[_0x1a4090(0x10f)][_0x3c1c41]=_0x49f77d;}async[a148_0x20f517(0x122)](){const _0x3ee513=a148_0x20f517;!await fs_internal_1['FS'][_0x3ee513(0x11e)](this['sourceDir'])&&await fs_internal_1['FS']['makeDir'](this[_0x3ee513(0x12b)]);for(const _0x4b77a4 of this[_0x3ee513(0x12a)]){!child_types_1[_0x3ee513(0x131)][_0x3ee513(0x100)](_0x4b77a4[_0x3ee513(0x12f)])?(this[_0x3ee513(0x101)][_0x3ee513(0x10a)](_0x3ee513(0xfc),_0x4b77a4[_0x3ee513(0x114)],_0x4b77a4['type']),await this[_0x3ee513(0x107)](_0x4b77a4)):(this[_0x3ee513(0x101)]['log'](_0x3ee513(0x123),_0x4b77a4['fileName'],_0x4b77a4[_0x3ee513(0x12f)]),await this['removeChild'](_0x4b77a4));}const _0x569051=Object['keys'](this['parentComponents']);this['logger'][_0x3ee513(0x10a)](_0x3ee513(0x126),this[_0x3ee513(0x12a)][_0x3ee513(0x125)]);while(_0x569051['length']){const _0x51782e=_0x569051['splice'](0x0,this[_0x3ee513(0x109)]);for(const _0x6f1151 of _0x51782e){await fs_internal_1['FS']['writeFile'](path_1['default'][_0x3ee513(0x132)](this[_0x3ee513(0x12b)],_0x6f1151),xml_v2_1['XmlV2'][_0x3ee513(0x10b)](this['parentComponents'][_0x6f1151]));}}this[_0x3ee513(0x10f)]={};}}exports[a148_0x20f517(0xfa)]=MDApiRemover;