const a147_0x13f332=a147_0x5aec;(function(_0x73740a,_0x5bf39a){const _0x266d02=a147_0x5aec,_0xe7e1d1=_0x73740a();while(!![]){try{const _0xd3e62e=parseInt(_0x266d02(0x204))/0x1+parseInt(_0x266d02(0x1df))/0x2*(parseInt(_0x266d02(0x1e0))/0x3)+-parseInt(_0x266d02(0x1f1))/0x4*(-parseInt(_0x266d02(0x215))/0x5)+parseInt(_0x266d02(0x1ed))/0x6+parseInt(_0x266d02(0x210))/0x7+-parseInt(_0x266d02(0x1ea))/0x8*(parseInt(_0x266d02(0x1f3))/0x9)+parseInt(_0x266d02(0x1fb))/0xa*(-parseInt(_0x266d02(0x1fc))/0xb);if(_0xd3e62e===_0x5bf39a)break;else _0xe7e1d1['push'](_0xe7e1d1['shift']());}catch(_0x7bbab4){_0xe7e1d1['push'](_0xe7e1d1['shift']());}}}(a147_0x33ac,0x6ae9a));const a147_0x1b116e=(function(){let _0x1366e5=!![];return function(_0x2af749,_0x1e79c7){const _0x4bf1a7=_0x1366e5?function(){const _0x19040c=a147_0x5aec;if(_0x1e79c7){const _0x523222=_0x1e79c7[_0x19040c(0x202)](_0x2af749,arguments);return _0x1e79c7=null,_0x523222;}}:function(){};return _0x1366e5=![],_0x4bf1a7;};}()),a147_0x20335b=a147_0x1b116e(this,function(){const _0x239361=a147_0x5aec;return a147_0x20335b[_0x239361(0x1fa)]()[_0x239361(0x1dd)](_0x239361(0x201))[_0x239361(0x1fa)]()[_0x239361(0x1f0)](a147_0x20335b)['search'](_0x239361(0x201));});a147_0x20335b();'use strict';function a147_0x33ac(){const _0x326cbe=['1707IaIMHZ','isDir','ExperienceBundle','fileName','Logger','../utils/xml-v2','log','removeFile','../data/child-types','isEmptyXml','584zerewB','../data/child-types-map','default','1034514jJBjSs','remove\x20component\x20directory\x20%s\x20[%s]','name','constructor','616580jrsHGg','MDApiRemover','70299KBqZjU','META_EXPERIENCE_BUNDLE','defineProperty','remove\x20component\x20\x20%s\x20[%s]','../../internal/fs.internal','removeParent','__esModule','toString','15601990AOCOQN','11QNnBHG','components','have\x20to\x20update\x20%d\x20files','join','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','(((.+)+)+)+$','apply','makeDir','687622aqYFbx','parse','length','site-meta.xml','MAX_WRITES_PER_TICK','__importDefault','start','catch','sourceDir','writeFile','removeChild','logger','5665163KrCaSj','type','path','keys','removeAt','5lyXVfe','all','../../../../core','remove\x20parent\x20component\x20%s\x20[%s]','parentComponents','XmlV2','removeDir','exists','META_EXTENSION','remove\x20child\x20component\x20%s\x20[%s]','search','-meta.xml','2618wjrlxX'];a147_0x33ac=function(){return _0x326cbe;};return a147_0x33ac();}function a147_0x5aec(_0x29e50f,_0xf7be1d){const _0x31cc6e=a147_0x33ac();return a147_0x5aec=function(_0x20335b,_0x1b116e){_0x20335b=_0x20335b-0x1d4;let _0x33ac12=_0x31cc6e[_0x20335b];return _0x33ac12;},a147_0x5aec(_0x29e50f,_0xf7be1d);}var __importDefault=this&&this[a147_0x13f332(0x209)]||function(_0x5a6603){const _0x37f3d4=a147_0x13f332;return _0x5a6603&&_0x5a6603[_0x37f3d4(0x1f9)]?_0x5a6603:{'default':_0x5a6603};};Object[a147_0x13f332(0x1f5)](exports,a147_0x13f332(0x1f9),{'value':!![]}),exports[a147_0x13f332(0x1f2)]=void 0x0;const fs_internal_1=require(a147_0x13f332(0x1f7)),core_1=require(a147_0x13f332(0x1d5)),xml_v2_1=require(a147_0x13f332(0x1e5)),child_types_1=__importDefault(require(a147_0x13f332(0x1e8))),child_types_map_1=__importDefault(require(a147_0x13f332(0x1eb))),path_1=__importDefault(require(a147_0x13f332(0x212)));class MDApiRemover{constructor(_0x36fd29,_0x290a81){const _0x5e6b22=a147_0x13f332;this[_0x5e6b22(0x1fd)]=_0x36fd29,this[_0x5e6b22(0x20c)]=_0x290a81,this[_0x5e6b22(0x1db)]=_0x5e6b22(0x1de),this[_0x5e6b22(0x1f4)]=_0x5e6b22(0x207),this['MAX_WRITES_PER_TICK']=0x64,this[_0x5e6b22(0x20f)]=new core_1[(_0x5e6b22(0x1e4))](MDApiRemover[_0x5e6b22(0x1ef)]),this[_0x5e6b22(0x1d7)]={};}async['removeParent'](_0x16cc00){const _0x39c451=a147_0x13f332,_0x291eed=path_1['default']['join'](this[_0x39c451(0x20c)],_0x16cc00[_0x39c451(0x212)]),_0x2c6e62=path_1[_0x39c451(0x1ec)][_0x39c451(0x1ff)](this['sourceDir'],''+_0x16cc00[_0x39c451(0x212)]+this[_0x39c451(0x1db)]);this[_0x39c451(0x1d7)][_0x16cc00[_0x39c451(0x212)]]&&delete this[_0x39c451(0x1d7)][_0x16cc00[_0x39c451(0x212)]];const _0x19de9c=await fs_internal_1['FS'][_0x39c451(0x1e1)](_0x291eed)[_0x39c451(0x20b)](()=>![]);if(_0x19de9c){this[_0x39c451(0x20f)]['log'](_0x39c451(0x1ee),_0x291eed,_0x16cc00['type']),await fs_internal_1['FS'][_0x39c451(0x1d9)](_0x291eed);_0x16cc00[_0x39c451(0x211)]===_0x39c451(0x1e2)?await fs_internal_1['FS']['removeFile'](''+_0x291eed+this['META_EXPERIENCE_BUNDLE'])[_0x39c451(0x20b)](()=>void 0x0):(this[_0x39c451(0x20f)][_0x39c451(0x1e6)](_0x39c451(0x200),_0x291eed,_0x16cc00[_0x39c451(0x211)]),await fs_internal_1['FS'][_0x39c451(0x1e7)](''+_0x291eed+this['META_EXTENSION'])[_0x39c451(0x20b)](()=>void 0x0));return;}this[_0x39c451(0x20f)][_0x39c451(0x1e6)](_0x39c451(0x1f6),_0x291eed,_0x16cc00['type']),await Promise[_0x39c451(0x1d4)]([fs_internal_1['FS']['removeFile'](_0x291eed),fs_internal_1['FS'][_0x39c451(0x1e7)](_0x2c6e62)]);}async[a147_0x13f332(0x20e)](_0x4e49c9){const _0x4300bd=a147_0x13f332,{fileName:_0x431faf,type:_0x1d4f0e,path:_0x37e754}=_0x4e49c9,_0x5e1379=child_types_map_1[_0x4300bd(0x1ec)][_0x1d4f0e];if(!_0x5e1379)throw new Error('Unknown\x20child\x20type\x20'+_0x1d4f0e);if(!this['parentComponents'][_0x37e754]){const _0x587de0=path_1[_0x4300bd(0x1ec)]['join'](this[_0x4300bd(0x20c)],_0x37e754),_0x4a13fc=await fs_internal_1['FS'][_0x4300bd(0x1da)](_0x587de0);if(!_0x4a13fc)return;const _0x4daf19=await fs_internal_1['FS']['readFile'](_0x587de0);this[_0x4300bd(0x1d7)][_0x37e754]=await xml_v2_1[_0x4300bd(0x1d8)][_0x4300bd(0x205)](_0x4daf19);}const _0x16aadb=this[_0x4300bd(0x1d7)][_0x37e754],_0x1ce47c=_0x431faf['split']('.')['pop']();xml_v2_1['XmlV2'][_0x4300bd(0x214)](_0x16aadb,_0x5e1379,_0x1ce47c||_0x431faf),xml_v2_1['XmlV2'][_0x4300bd(0x1e9)](_0x16aadb)?(this['logger'][_0x4300bd(0x1e6)]('remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x4e49c9[_0x4300bd(0x212)],_0x4e49c9[_0x4300bd(0x1e3)]),await this[_0x4300bd(0x1f8)](_0x4e49c9),delete this[_0x4300bd(0x1d7)][_0x37e754]):this['parentComponents'][_0x37e754]=_0x16aadb;}async[a147_0x13f332(0x20a)](){const _0x143fee=a147_0x13f332;!await fs_internal_1['FS'][_0x143fee(0x1da)](this[_0x143fee(0x20c)])&&await fs_internal_1['FS'][_0x143fee(0x203)](this[_0x143fee(0x20c)]);for(const _0x363f74 of this['components']){!child_types_1[_0x143fee(0x1ec)]['includes'](_0x363f74[_0x143fee(0x211)])?(this[_0x143fee(0x20f)][_0x143fee(0x1e6)](_0x143fee(0x1d6),_0x363f74['fileName'],_0x363f74[_0x143fee(0x211)]),await this[_0x143fee(0x1f8)](_0x363f74)):(this[_0x143fee(0x20f)]['log'](_0x143fee(0x1dc),_0x363f74[_0x143fee(0x1e3)],_0x363f74[_0x143fee(0x211)]),await this['removeChild'](_0x363f74));}const _0x3ba391=Object[_0x143fee(0x213)](this[_0x143fee(0x1d7)]);this['logger'][_0x143fee(0x1e6)](_0x143fee(0x1fe),this[_0x143fee(0x1fd)][_0x143fee(0x206)]);while(_0x3ba391[_0x143fee(0x206)]){const _0x425362=_0x3ba391['splice'](0x0,this[_0x143fee(0x208)]);for(const _0x5a9fb5 of _0x425362){await fs_internal_1['FS'][_0x143fee(0x20d)](path_1[_0x143fee(0x1ec)][_0x143fee(0x1ff)](this[_0x143fee(0x20c)],_0x5a9fb5),xml_v2_1[_0x143fee(0x1d8)]['convertToString'](this[_0x143fee(0x1d7)][_0x5a9fb5]));}}this[_0x143fee(0x1d7)]={};}}exports[a147_0x13f332(0x1f2)]=MDApiRemover;