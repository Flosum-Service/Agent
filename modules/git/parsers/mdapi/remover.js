function a115_0x24e1(_0x71866f,_0x59043d){const _0x4984ae=a115_0x4824();return a115_0x24e1=function(_0x1c7def,_0x24e33c){_0x1c7def=_0x1c7def-0xe8;let _0x4824e=_0x4984ae[_0x1c7def];return _0x4824e;},a115_0x24e1(_0x71866f,_0x59043d);}const a115_0x359674=a115_0x24e1;(function(_0x45a159,_0x226845){const _0x106563=a115_0x24e1,_0x201c30=_0x45a159();while(!![]){try{const _0x32f243=-parseInt(_0x106563(0xf0))/0x1+-parseInt(_0x106563(0x11a))/0x2+-parseInt(_0x106563(0x116))/0x3+parseInt(_0x106563(0x10f))/0x4*(parseInt(_0x106563(0x10e))/0x5)+parseInt(_0x106563(0x10c))/0x6+parseInt(_0x106563(0x112))/0x7*(-parseInt(_0x106563(0xfb))/0x8)+parseInt(_0x106563(0xf7))/0x9;if(_0x32f243===_0x226845)break;else _0x201c30['push'](_0x201c30['shift']());}catch(_0x55d666){_0x201c30['push'](_0x201c30['shift']());}}}(a115_0x4824,0x75329));const a115_0x24e33c=(function(){let _0x4ea532=!![];return function(_0x44a08d,_0x2dd687){const _0x50fda0=_0x4ea532?function(){if(_0x2dd687){const _0x5d3706=_0x2dd687['apply'](_0x44a08d,arguments);return _0x2dd687=null,_0x5d3706;}}:function(){};return _0x4ea532=![],_0x50fda0;};}()),a115_0x1c7def=a115_0x24e33c(this,function(){const _0x22c5d5=a115_0x24e1;return a115_0x1c7def['toString']()['search'](_0x22c5d5(0x101))[_0x22c5d5(0xf6)]()[_0x22c5d5(0xf3)](a115_0x1c7def)[_0x22c5d5(0xf8)](_0x22c5d5(0x101));});function a115_0x4824(){const _0x455ecd=['join','remove\x20component\x20directory\x20%s\x20[%s]','MDApiRemover','exists','writeFile','../../../../core','components','359788sQVNGW','remove\x20component\x20\x20%s\x20[%s]','../data/child-types','constructor','sourceDir','log','toString','23361048YXkLuY','search','convertToString','__esModule','3791240nNfEqb','MAX_WRITES_PER_TICK','META_EXTENSION','META_EXPERIENCE_BUNDLE','remove\x20child\x20component\x20%s\x20[%s]','start','(((.+)+)+)+$','fileName','includes','catch','isDir','removeFile','parentComponents','removeAt','removeChild','logger','split','1252332TknLVZ','__importDefault','5645iXpvjr','324zWlFVm','readFile','site-meta.xml','14tbDgKO','name','../data/child-types-map','makeDir','1399029aHQwmW','parse','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','ExperienceBundle','1283722wHCSSR','keys','XmlV2','type','path','Logger','removeParent','default','isEmptyXml','length'];a115_0x4824=function(){return _0x455ecd;};return a115_0x4824();}a115_0x1c7def();'use strict';var __importDefault=this&&this[a115_0x359674(0x10d)]||function(_0x275548){const _0xf7047e=a115_0x359674;return _0x275548&&_0x275548[_0xf7047e(0xfa)]?_0x275548:{'default':_0x275548};};Object['defineProperty'](exports,a115_0x359674(0xfa),{'value':!![]}),exports[a115_0x359674(0xeb)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a115_0x359674(0xee)),xml_v2_1=require('../utils/xml-v2'),child_types_1=__importDefault(require(a115_0x359674(0xf2))),child_types_map_1=__importDefault(require(a115_0x359674(0x114))),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x5ee797,_0x4da626){const _0x4c3239=a115_0x359674;this[_0x4c3239(0xef)]=_0x5ee797,this[_0x4c3239(0xf4)]=_0x4da626,this['META_EXTENSION']='-meta.xml',this[_0x4c3239(0xfe)]=_0x4c3239(0x111),this[_0x4c3239(0xfc)]=0x64,this[_0x4c3239(0x10a)]=new core_1[(_0x4c3239(0x11f))](MDApiRemover[_0x4c3239(0x113)]),this[_0x4c3239(0x107)]={};}async[a115_0x359674(0x120)](_0x11c92b){const _0x3f15bf=a115_0x359674,_0x5c4eb0=path_1[_0x3f15bf(0x121)][_0x3f15bf(0xe9)](this['sourceDir'],_0x11c92b['path']),_0x353aa0=path_1[_0x3f15bf(0x121)][_0x3f15bf(0xe9)](this['sourceDir'],''+_0x11c92b[_0x3f15bf(0x11e)]+this[_0x3f15bf(0xfd)]);this[_0x3f15bf(0x107)][_0x11c92b[_0x3f15bf(0x11e)]]&&delete this[_0x3f15bf(0x107)][_0x11c92b[_0x3f15bf(0x11e)]];const _0x17db9f=await fs_internal_1['FS'][_0x3f15bf(0x105)](_0x5c4eb0)[_0x3f15bf(0x104)](()=>![]);if(_0x17db9f){this[_0x3f15bf(0x10a)][_0x3f15bf(0xf5)](_0x3f15bf(0xea),_0x5c4eb0,_0x11c92b[_0x3f15bf(0x11d)]),await fs_internal_1['FS']['removeDir'](_0x5c4eb0);_0x11c92b[_0x3f15bf(0x11d)]===_0x3f15bf(0x119)?await fs_internal_1['FS'][_0x3f15bf(0x106)](''+_0x5c4eb0+this[_0x3f15bf(0xfe)])[_0x3f15bf(0x104)](()=>void 0x0):(this[_0x3f15bf(0x10a)][_0x3f15bf(0xf5)](_0x3f15bf(0x118),_0x5c4eb0,_0x11c92b[_0x3f15bf(0x11d)]),await fs_internal_1['FS']['removeFile'](''+_0x5c4eb0+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this['logger'][_0x3f15bf(0xf5)](_0x3f15bf(0xf1),_0x5c4eb0,_0x11c92b[_0x3f15bf(0x11d)]),await Promise['all']([fs_internal_1['FS'][_0x3f15bf(0x106)](_0x5c4eb0),fs_internal_1['FS'][_0x3f15bf(0x106)](_0x353aa0)]);}async[a115_0x359674(0x109)](_0x5c3b4a){const _0x15fd2a=a115_0x359674,{fileName:_0x4d4d2c,type:_0x2ad234,path:_0x3c4b46}=_0x5c3b4a,_0x2912b1=child_types_map_1[_0x15fd2a(0x121)][_0x2ad234];if(!_0x2912b1)throw new Error('Unknown\x20child\x20type\x20'+_0x2ad234);if(!this[_0x15fd2a(0x107)][_0x3c4b46]){const _0x5b311e=path_1[_0x15fd2a(0x121)][_0x15fd2a(0xe9)](this['sourceDir'],_0x3c4b46),_0x587e07=await fs_internal_1['FS']['exists'](_0x5b311e);if(!_0x587e07)return;const _0x8bf0e0=await fs_internal_1['FS'][_0x15fd2a(0x110)](_0x5b311e);this[_0x15fd2a(0x107)][_0x3c4b46]=await xml_v2_1[_0x15fd2a(0x11c)][_0x15fd2a(0x117)](_0x8bf0e0);}const _0x5ec63f=this['parentComponents'][_0x3c4b46],_0x1d5a6c=_0x4d4d2c[_0x15fd2a(0x10b)]('.')['pop']();xml_v2_1[_0x15fd2a(0x11c)][_0x15fd2a(0x108)](_0x5ec63f,_0x2912b1,_0x1d5a6c||_0x4d4d2c),xml_v2_1['XmlV2'][_0x15fd2a(0x122)](_0x5ec63f)?(this[_0x15fd2a(0x10a)][_0x15fd2a(0xf5)]('remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x5c3b4a[_0x15fd2a(0x11e)],_0x5c3b4a[_0x15fd2a(0x102)]),await this[_0x15fd2a(0x120)](_0x5c3b4a),delete this[_0x15fd2a(0x107)][_0x3c4b46]):this[_0x15fd2a(0x107)][_0x3c4b46]=_0x5ec63f;}async[a115_0x359674(0x100)](){const _0x3b5c0d=a115_0x359674;!await fs_internal_1['FS'][_0x3b5c0d(0xec)](this[_0x3b5c0d(0xf4)])&&await fs_internal_1['FS'][_0x3b5c0d(0x115)](this[_0x3b5c0d(0xf4)]);for(const _0x3d3e84 of this[_0x3b5c0d(0xef)]){!child_types_1[_0x3b5c0d(0x121)][_0x3b5c0d(0x103)](_0x3d3e84[_0x3b5c0d(0x11d)])?(this[_0x3b5c0d(0x10a)][_0x3b5c0d(0xf5)]('remove\x20parent\x20component\x20%s\x20[%s]',_0x3d3e84[_0x3b5c0d(0x102)],_0x3d3e84[_0x3b5c0d(0x11d)]),await this[_0x3b5c0d(0x120)](_0x3d3e84)):(this[_0x3b5c0d(0x10a)][_0x3b5c0d(0xf5)](_0x3b5c0d(0xff),_0x3d3e84['fileName'],_0x3d3e84[_0x3b5c0d(0x11d)]),await this['removeChild'](_0x3d3e84));}const _0x205436=Object[_0x3b5c0d(0x11b)](this['parentComponents']);this[_0x3b5c0d(0x10a)][_0x3b5c0d(0xf5)]('have\x20to\x20update\x20%d\x20files',this[_0x3b5c0d(0xef)]['length']);while(_0x205436[_0x3b5c0d(0xe8)]){const _0x40b93b=_0x205436['splice'](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x46bd74 of _0x40b93b){await fs_internal_1['FS'][_0x3b5c0d(0xed)](path_1[_0x3b5c0d(0x121)][_0x3b5c0d(0xe9)](this['sourceDir'],_0x46bd74),xml_v2_1[_0x3b5c0d(0x11c)][_0x3b5c0d(0xf9)](this['parentComponents'][_0x46bd74]));}}this[_0x3b5c0d(0x107)]={};}}exports[a115_0x359674(0xeb)]=MDApiRemover;