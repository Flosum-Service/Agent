const a100_0x248eae=a100_0xf105;function a100_0x3d93(){const _0x46300f=['4747221XmuRlp','readFile','146sLeqgl','makeDir','logger','type','(((.+)+)+)+$','12JxuFiP','MAX_WRITES_PER_TICK','default','length','exists','components','log','pop','keys','META_EXTENSION','have\x20to\x20update\x20%d\x20files','path','6138946LdHBIc','__esModule','META_EXPERIENCE_BUNDLE','parse','catch','Logger','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','-meta.xml','parentComponents','ExperienceBundle','split','Unknown\x20child\x20type\x20','../data/child-types','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','16192397eyUgMW','apply','remove\x20parent\x20component\x20%s\x20[%s]','sourceDir','toString','all','removeAt','../../internal/fs.internal','removeParent','226728qcXzQu','Xml','../utils/xml','site-meta.xml','6citHhE','removeChild','126ENKLLP','includes','convertToString','fileName','4156TmKIBM','start','isEmptyXml','MDApiRemover','isDir','1998070novoGw','../data/child-types-map','splice','2124153CwqPQu','4zgYOje','removeFile','join','remove\x20component\x20directory\x20%s\x20[%s]','__importDefault','writeFile','10dOXJWo'];a100_0x3d93=function(){return _0x46300f;};return a100_0x3d93();}(function(_0x51711c,_0x548b11){const _0x1ac6b8=a100_0xf105,_0x58518f=_0x51711c();while(!![]){try{const _0x4f997b=parseInt(_0x1ac6b8(0x138))/0x1*(-parseInt(_0x1ac6b8(0x16a))/0x2)+parseInt(_0x1ac6b8(0x12e))/0x3*(-parseInt(_0x1ac6b8(0x12f))/0x4)+parseInt(_0x1ac6b8(0x16f))/0x5*(-parseInt(_0x1ac6b8(0x164))/0x6)+-parseInt(_0x1ac6b8(0x166))/0x7*(parseInt(_0x1ac6b8(0x160))/0x8)+parseInt(_0x1ac6b8(0x136))/0x9+parseInt(_0x1ac6b8(0x135))/0xa*(parseInt(_0x1ac6b8(0x149))/0xb)+-parseInt(_0x1ac6b8(0x13d))/0xc*(-parseInt(_0x1ac6b8(0x157))/0xd);if(_0x4f997b===_0x548b11)break;else _0x58518f['push'](_0x58518f['shift']());}catch(_0x30f980){_0x58518f['push'](_0x58518f['shift']());}}}(a100_0x3d93,0x6414d));const a100_0x48677b=(function(){let _0x2d20bd=!![];return function(_0x576a16,_0x39962e){const _0x30b392=_0x2d20bd?function(){const _0x5b8529=a100_0xf105;if(_0x39962e){const _0x1ce124=_0x39962e[_0x5b8529(0x158)](_0x576a16,arguments);return _0x39962e=null,_0x1ce124;}}:function(){};return _0x2d20bd=![],_0x30b392;};}()),a100_0x230901=a100_0x48677b(this,function(){const _0x2fe7c7=a100_0xf105;return a100_0x230901['toString']()['search'](_0x2fe7c7(0x13c))[_0x2fe7c7(0x15b)]()['constructor'](a100_0x230901)['search'](_0x2fe7c7(0x13c));});a100_0x230901();'use strict';var __importDefault=this&&this[a100_0x248eae(0x133)]||function(_0x30697e){return _0x30697e&&_0x30697e['__esModule']?_0x30697e:{'default':_0x30697e};};Object['defineProperty'](exports,a100_0x248eae(0x14a),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a100_0x248eae(0x15e)),core_1=require('../../../../core'),xml_1=require(a100_0x248eae(0x162)),child_types_1=__importDefault(require(a100_0x248eae(0x155))),child_types_map_1=__importDefault(require(a100_0x248eae(0x170))),path_1=__importDefault(require(a100_0x248eae(0x148)));class MDApiRemover{constructor(_0xe9146a,_0x57f449){const _0x17d327=a100_0x248eae;this['components']=_0xe9146a,this[_0x17d327(0x15a)]=_0x57f449,this[_0x17d327(0x146)]=_0x17d327(0x150),this[_0x17d327(0x14b)]=_0x17d327(0x163),this[_0x17d327(0x13e)]=0x64,this['logger']=new core_1[(_0x17d327(0x14e))](MDApiRemover['name']),this['parentComponents']={};}async[a100_0x248eae(0x15f)](_0x5f73b7){const _0x5ef3f4=a100_0x248eae,_0x17851e=path_1[_0x5ef3f4(0x13f)][_0x5ef3f4(0x131)](this['sourceDir'],_0x5f73b7[_0x5ef3f4(0x148)]),_0x54a52d=path_1[_0x5ef3f4(0x13f)][_0x5ef3f4(0x131)](this[_0x5ef3f4(0x15a)],''+_0x5f73b7[_0x5ef3f4(0x148)]+this[_0x5ef3f4(0x146)]);this[_0x5ef3f4(0x151)][_0x5f73b7[_0x5ef3f4(0x148)]]&&delete this[_0x5ef3f4(0x151)][_0x5f73b7[_0x5ef3f4(0x148)]];const _0x40bf56=await fs_internal_1['FS'][_0x5ef3f4(0x16e)](_0x17851e)[_0x5ef3f4(0x14d)](()=>![]);if(_0x40bf56){this[_0x5ef3f4(0x13a)][_0x5ef3f4(0x143)](_0x5ef3f4(0x132),_0x17851e,_0x5f73b7[_0x5ef3f4(0x13b)]),await fs_internal_1['FS']['removeDir'](_0x17851e);_0x5f73b7[_0x5ef3f4(0x13b)]===_0x5ef3f4(0x152)?await fs_internal_1['FS']['removeFile'](''+_0x17851e+this[_0x5ef3f4(0x14b)])['catch'](()=>void 0x0):(this[_0x5ef3f4(0x13a)][_0x5ef3f4(0x143)](_0x5ef3f4(0x156),_0x17851e,_0x5f73b7[_0x5ef3f4(0x13b)]),await fs_internal_1['FS'][_0x5ef3f4(0x130)](''+_0x17851e+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this['logger'][_0x5ef3f4(0x143)]('remove\x20component\x20\x20%s\x20[%s]',_0x17851e,_0x5f73b7[_0x5ef3f4(0x13b)]),await Promise[_0x5ef3f4(0x15c)]([fs_internal_1['FS']['removeFile'](_0x17851e),fs_internal_1['FS'][_0x5ef3f4(0x130)](_0x54a52d)]);}async[a100_0x248eae(0x165)](_0x21a57c){const _0x315222=a100_0x248eae,{fileName:_0x1a4c7b,type:_0x46ccd5,path:_0x8156f4}=_0x21a57c,_0xd26bc1=child_types_map_1[_0x315222(0x13f)][_0x46ccd5];if(!_0xd26bc1)throw new Error(_0x315222(0x154)+_0x46ccd5);if(!this['parentComponents'][_0x8156f4]){const _0x40592a=path_1[_0x315222(0x13f)][_0x315222(0x131)](this['sourceDir'],_0x8156f4),_0x2021c4=await fs_internal_1['FS'][_0x315222(0x141)](_0x40592a);if(!_0x2021c4)return;const _0x4573b1=await fs_internal_1['FS'][_0x315222(0x137)](_0x40592a);this['parentComponents'][_0x8156f4]=await xml_1[_0x315222(0x161)][_0x315222(0x14c)](_0x4573b1);}const _0x2d1aa6=this['parentComponents'][_0x8156f4],_0x43bfe9=_0x1a4c7b[_0x315222(0x153)]('.')[_0x315222(0x144)]();xml_1[_0x315222(0x161)][_0x315222(0x15d)](_0x2d1aa6,_0xd26bc1,_0x43bfe9||_0x1a4c7b),xml_1[_0x315222(0x161)][_0x315222(0x16c)](_0x2d1aa6)?(this[_0x315222(0x13a)]['log'](_0x315222(0x14f),_0x21a57c[_0x315222(0x148)],_0x21a57c['fileName']),await this[_0x315222(0x15f)](_0x21a57c),delete this[_0x315222(0x151)][_0x8156f4]):this['parentComponents'][_0x8156f4]=_0x2d1aa6;}async[a100_0x248eae(0x16b)](){const _0x4f6a30=a100_0x248eae;!await fs_internal_1['FS']['exists'](this[_0x4f6a30(0x15a)])&&await fs_internal_1['FS'][_0x4f6a30(0x139)](this[_0x4f6a30(0x15a)]);for(const _0x171ed4 of this[_0x4f6a30(0x142)]){!child_types_1[_0x4f6a30(0x13f)][_0x4f6a30(0x167)](_0x171ed4['type'])?(this[_0x4f6a30(0x13a)][_0x4f6a30(0x143)](_0x4f6a30(0x159),_0x171ed4[_0x4f6a30(0x169)],_0x171ed4[_0x4f6a30(0x13b)]),await this[_0x4f6a30(0x15f)](_0x171ed4)):(this['logger'][_0x4f6a30(0x143)]('remove\x20child\x20component\x20%s\x20[%s]',_0x171ed4[_0x4f6a30(0x169)],_0x171ed4[_0x4f6a30(0x13b)]),await this[_0x4f6a30(0x165)](_0x171ed4));}const _0x599bb0=Object[_0x4f6a30(0x145)](this[_0x4f6a30(0x151)]);this[_0x4f6a30(0x13a)]['log'](_0x4f6a30(0x147),this[_0x4f6a30(0x142)][_0x4f6a30(0x140)]);while(_0x599bb0[_0x4f6a30(0x140)]){const _0x5091cc=_0x599bb0[_0x4f6a30(0x12d)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x1cf50e of _0x5091cc){await fs_internal_1['FS'][_0x4f6a30(0x134)](path_1['default']['join'](this['sourceDir'],_0x1cf50e),xml_1[_0x4f6a30(0x161)][_0x4f6a30(0x168)](this[_0x4f6a30(0x151)][_0x1cf50e]));}}this[_0x4f6a30(0x151)]={};}}function a100_0xf105(_0x326b82,_0x42bf7e){const _0x431e07=a100_0x3d93();return a100_0xf105=function(_0x230901,_0x48677b){_0x230901=_0x230901-0x12d;let _0x3d93e0=_0x431e07[_0x230901];return _0x3d93e0;},a100_0xf105(_0x326b82,_0x42bf7e);}exports[a100_0x248eae(0x16d)]=MDApiRemover;