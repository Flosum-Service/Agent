const a151_0x48fe41=a151_0x1f0d;(function(_0x546f11,_0x2f70fc){const _0x4ec973=a151_0x1f0d,_0x251370=_0x546f11();while(!![]){try{const _0x39d971=-parseInt(_0x4ec973(0x20a))/0x1+-parseInt(_0x4ec973(0x1e9))/0x2*(parseInt(_0x4ec973(0x1e7))/0x3)+-parseInt(_0x4ec973(0x1f6))/0x4*(parseInt(_0x4ec973(0x1dc))/0x5)+parseInt(_0x4ec973(0x1da))/0x6*(parseInt(_0x4ec973(0x1f4))/0x7)+parseInt(_0x4ec973(0x1df))/0x8+parseInt(_0x4ec973(0x1e3))/0x9+-parseInt(_0x4ec973(0x20b))/0xa*(-parseInt(_0x4ec973(0x203))/0xb);if(_0x39d971===_0x2f70fc)break;else _0x251370['push'](_0x251370['shift']());}catch(_0x2416a2){_0x251370['push'](_0x251370['shift']());}}}(a151_0x111a,0xa6a4d));const a151_0xddfc99=(function(){let _0x3f9da4=!![];return function(_0x57b71c,_0x189f82){const _0x570aea=_0x3f9da4?function(){const _0x3c99be=a151_0x1f0d;if(_0x189f82){const _0x37342b=_0x189f82[_0x3c99be(0x1d4)](_0x57b71c,arguments);return _0x189f82=null,_0x37342b;}}:function(){};return _0x3f9da4=![],_0x570aea;};}()),a151_0x3e3f0f=a151_0xddfc99(this,function(){const _0x1c86fb=a151_0x1f0d;return a151_0x3e3f0f[_0x1c86fb(0x1e2)]()[_0x1c86fb(0x1f2)](_0x1c86fb(0x207))[_0x1c86fb(0x1e2)]()[_0x1c86fb(0x1cc)](a151_0x3e3f0f)[_0x1c86fb(0x1f2)](_0x1c86fb(0x207));});function a151_0x111a(){const _0x5e6f44=['constructor','META_EXTENSION','../data/child-types-map','name','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','parse','includes','isDir','apply','catch','Unknown\x20child\x20type\x20','convertToString','start','META_EXPERIENCE_BUNDLE','280524PWtgEZ','logger','13235wRqEuQ','remove\x20component\x20\x20%s\x20[%s]','readFile','9032640uWtkkD','splice','exists','toString','3818043ZYgiir','MAX_WRITES_PER_TICK','Logger','removeChild','18mCWxox','default','340378KKTUAO','remove\x20parent\x20component\x20%s\x20[%s]','removeDir','isEmptyXml','removeAt','components','ExperienceBundle','writeFile','XmlV2','search','all','7BqAaJy','type','1908zxmgrC','../utils/xml-v2','-meta.xml','parentComponents','log','sourceDir','site-meta.xml','MDApiRemover','__esModule','pop','remove\x20component\x20directory\x20%s\x20[%s]','fileName','../../../../core','11icRNbY','path','keys','makeDir','(((.+)+)+)+$','removeParent','join','548675RfUxhH','19149400XUalvn','removeFile','length','defineProperty'];a151_0x111a=function(){return _0x5e6f44;};return a151_0x111a();}a151_0x3e3f0f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xa098c5){const _0x1f29a5=a151_0x1f0d;return _0xa098c5&&_0xa098c5[_0x1f29a5(0x1fe)]?_0xa098c5:{'default':_0xa098c5};};function a151_0x1f0d(_0x405616,_0x1764ed){const _0x2def7c=a151_0x111a();return a151_0x1f0d=function(_0x3e3f0f,_0xddfc99){_0x3e3f0f=_0x3e3f0f-0x1cb;let _0x111a52=_0x2def7c[_0x3e3f0f];return _0x111a52;},a151_0x1f0d(_0x405616,_0x1764ed);}Object[a151_0x48fe41(0x1cb)](exports,a151_0x48fe41(0x1fe),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a151_0x48fe41(0x202)),xml_v2_1=require(a151_0x48fe41(0x1f7)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a151_0x48fe41(0x1ce))),path_1=__importDefault(require(a151_0x48fe41(0x204)));class MDApiRemover{constructor(_0x5bd798,_0x153796){const _0x52b0ee=a151_0x48fe41;this[_0x52b0ee(0x1ee)]=_0x5bd798,this[_0x52b0ee(0x1fb)]=_0x153796,this[_0x52b0ee(0x1cd)]=_0x52b0ee(0x1f8),this[_0x52b0ee(0x1d9)]=_0x52b0ee(0x1fc),this[_0x52b0ee(0x1e4)]=0x64,this[_0x52b0ee(0x1db)]=new core_1[(_0x52b0ee(0x1e5))](MDApiRemover[_0x52b0ee(0x1cf)]),this[_0x52b0ee(0x1f9)]={};}async[a151_0x48fe41(0x208)](_0x2d772d){const _0x14cad3=a151_0x48fe41,_0x2b0a8c=path_1[_0x14cad3(0x1e8)][_0x14cad3(0x209)](this[_0x14cad3(0x1fb)],_0x2d772d[_0x14cad3(0x204)]),_0x46aba2=path_1['default']['join'](this[_0x14cad3(0x1fb)],''+_0x2d772d[_0x14cad3(0x204)]+this[_0x14cad3(0x1cd)]);this[_0x14cad3(0x1f9)][_0x2d772d[_0x14cad3(0x204)]]&&delete this[_0x14cad3(0x1f9)][_0x2d772d['path']];const _0xeddf2a=await fs_internal_1['FS'][_0x14cad3(0x1d3)](_0x2b0a8c)[_0x14cad3(0x1d5)](()=>![]);if(_0xeddf2a){this[_0x14cad3(0x1db)][_0x14cad3(0x1fa)](_0x14cad3(0x200),_0x2b0a8c,_0x2d772d[_0x14cad3(0x1f5)]),await fs_internal_1['FS'][_0x14cad3(0x1eb)](_0x2b0a8c);_0x2d772d['type']===_0x14cad3(0x1ef)?await fs_internal_1['FS']['removeFile'](''+_0x2b0a8c+this[_0x14cad3(0x1d9)])[_0x14cad3(0x1d5)](()=>void 0x0):(this[_0x14cad3(0x1db)][_0x14cad3(0x1fa)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x2b0a8c,_0x2d772d[_0x14cad3(0x1f5)]),await fs_internal_1['FS'][_0x14cad3(0x20c)](''+_0x2b0a8c+this[_0x14cad3(0x1cd)])['catch'](()=>void 0x0));return;}this[_0x14cad3(0x1db)]['log'](_0x14cad3(0x1dd),_0x2b0a8c,_0x2d772d['type']),await Promise[_0x14cad3(0x1f3)]([fs_internal_1['FS'][_0x14cad3(0x20c)](_0x2b0a8c),fs_internal_1['FS'][_0x14cad3(0x20c)](_0x46aba2)]);}async['removeChild'](_0x4ab7e2){const _0x5230e2=a151_0x48fe41,{fileName:_0x52db27,type:_0x4d5ef7,path:_0xb786f0}=_0x4ab7e2,_0x3cb213=child_types_map_1[_0x5230e2(0x1e8)][_0x4d5ef7];if(!_0x3cb213)throw new Error(_0x5230e2(0x1d6)+_0x4d5ef7);if(!this[_0x5230e2(0x1f9)][_0xb786f0]){const _0xfd78be=path_1[_0x5230e2(0x1e8)][_0x5230e2(0x209)](this['sourceDir'],_0xb786f0),_0x82521d=await fs_internal_1['FS'][_0x5230e2(0x1e1)](_0xfd78be);if(!_0x82521d)return;const _0x3c2eef=await fs_internal_1['FS'][_0x5230e2(0x1de)](_0xfd78be);this['parentComponents'][_0xb786f0]=await xml_v2_1[_0x5230e2(0x1f1)][_0x5230e2(0x1d1)](_0x3c2eef);}const _0x2f690b=this['parentComponents'][_0xb786f0],_0x113c72=_0x52db27['split']('.')[_0x5230e2(0x1ff)]();xml_v2_1[_0x5230e2(0x1f1)][_0x5230e2(0x1ed)](_0x2f690b,_0x3cb213,_0x113c72||_0x52db27),xml_v2_1[_0x5230e2(0x1f1)][_0x5230e2(0x1ec)](_0x2f690b)?(this['logger']['log'](_0x5230e2(0x1d0),_0x4ab7e2[_0x5230e2(0x204)],_0x4ab7e2['fileName']),await this[_0x5230e2(0x208)](_0x4ab7e2),delete this[_0x5230e2(0x1f9)][_0xb786f0]):this[_0x5230e2(0x1f9)][_0xb786f0]=_0x2f690b;}async[a151_0x48fe41(0x1d8)](){const _0x5e4577=a151_0x48fe41;!await fs_internal_1['FS'][_0x5e4577(0x1e1)](this[_0x5e4577(0x1fb)])&&await fs_internal_1['FS'][_0x5e4577(0x206)](this[_0x5e4577(0x1fb)]);for(const _0x25319a of this[_0x5e4577(0x1ee)]){!child_types_1['default'][_0x5e4577(0x1d2)](_0x25319a[_0x5e4577(0x1f5)])?(this['logger'][_0x5e4577(0x1fa)](_0x5e4577(0x1ea),_0x25319a[_0x5e4577(0x201)],_0x25319a[_0x5e4577(0x1f5)]),await this[_0x5e4577(0x208)](_0x25319a)):(this[_0x5e4577(0x1db)]['log']('remove\x20child\x20component\x20%s\x20[%s]',_0x25319a[_0x5e4577(0x201)],_0x25319a[_0x5e4577(0x1f5)]),await this[_0x5e4577(0x1e6)](_0x25319a));}const _0x1c546d=Object[_0x5e4577(0x205)](this[_0x5e4577(0x1f9)]);this[_0x5e4577(0x1db)][_0x5e4577(0x1fa)]('have\x20to\x20update\x20%d\x20files',this['components'][_0x5e4577(0x20d)]);while(_0x1c546d[_0x5e4577(0x20d)]){const _0x9d02fd=_0x1c546d[_0x5e4577(0x1e0)](0x0,this[_0x5e4577(0x1e4)]);for(const _0x33403a of _0x9d02fd){await fs_internal_1['FS'][_0x5e4577(0x1f0)](path_1['default'][_0x5e4577(0x209)](this[_0x5e4577(0x1fb)],_0x33403a),xml_v2_1[_0x5e4577(0x1f1)][_0x5e4577(0x1d7)](this['parentComponents'][_0x33403a]));}}this['parentComponents']={};}}exports[a151_0x48fe41(0x1fd)]=MDApiRemover;