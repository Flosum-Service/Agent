function a151_0x4821(_0x5d00d,_0x40586b){const _0x4f7208=a151_0x1900();return a151_0x4821=function(_0x532ed2,_0x473dfd){_0x532ed2=_0x532ed2-0xe1;let _0x19001c=_0x4f7208[_0x532ed2];return _0x19001c;},a151_0x4821(_0x5d00d,_0x40586b);}const a151_0x560123=a151_0x4821;(function(_0x30a347,_0x3d16dd){const _0x5df52d=a151_0x4821,_0x5dde98=_0x30a347();while(!![]){try{const _0x572a38=parseInt(_0x5df52d(0xee))/0x1*(-parseInt(_0x5df52d(0xf7))/0x2)+parseInt(_0x5df52d(0x10b))/0x3+parseInt(_0x5df52d(0x119))/0x4+-parseInt(_0x5df52d(0x113))/0x5+-parseInt(_0x5df52d(0x10d))/0x6*(parseInt(_0x5df52d(0x115))/0x7)+-parseInt(_0x5df52d(0x118))/0x8*(parseInt(_0x5df52d(0x10a))/0x9)+parseInt(_0x5df52d(0x103))/0xa*(parseInt(_0x5df52d(0x116))/0xb);if(_0x572a38===_0x3d16dd)break;else _0x5dde98['push'](_0x5dde98['shift']());}catch(_0x4c1bc9){_0x5dde98['push'](_0x5dde98['shift']());}}}(a151_0x1900,0xa350e));const a151_0x473dfd=(function(){let _0x5bb87c=!![];return function(_0x577467,_0x4841bf){const _0x2742e8=_0x5bb87c?function(){const _0x43837a=a151_0x4821;if(_0x4841bf){const _0x4556e4=_0x4841bf[_0x43837a(0x108)](_0x577467,arguments);return _0x4841bf=null,_0x4556e4;}}:function(){};return _0x5bb87c=![],_0x2742e8;};}()),a151_0x532ed2=a151_0x473dfd(this,function(){const _0xf275a0=a151_0x4821;return a151_0x532ed2['toString']()[_0xf275a0(0x11e)](_0xf275a0(0xf3))['toString']()['constructor'](a151_0x532ed2)[_0xf275a0(0x11e)](_0xf275a0(0xf3));});a151_0x532ed2();'use strict';var __importDefault=this&&this[a151_0x560123(0xf1)]||function(_0x559238){const _0x4fc2c7=a151_0x560123;return _0x559238&&_0x559238[_0x4fc2c7(0x104)]?_0x559238:{'default':_0x559238};};function a151_0x1900(){const _0x3776bf=['removeFile','start','search','remove\x20child\x20component\x20%s\x20[%s]','parentComponents','path','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','META_EXTENSION','removeChild','catch','components','../data/child-types-map','convertToString','removeAt','MAX_WRITES_PER_TICK','includes','name','META_EXPERIENCE_BUNDLE','1CAmRyV','../../../../core','default','__importDefault','makeDir','(((.+)+)+)+$','remove\x20component\x20directory\x20%s\x20[%s]','Unknown\x20child\x20type\x20','sourceDir','1743986qjqzNx','removeParent','log','defineProperty','logger','XmlV2','fileName','join','keys','splice','removeDir','type','10kxzvGS','__esModule','remove\x20parent\x20component\x20%s\x20[%s]','Logger','../data/child-types','apply','site-meta.xml','9549HgSHMb','103083ybvPwc','remove\x20component\x20\x20%s\x20[%s]','408nhTuaA','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','MDApiRemover','writeFile','parse','ExperienceBundle','114475CqzEkD','isEmptyXml','51016RfDjIC','25810829ZZzmmQ','exists','3176QhQhze','399324dIVHHY','../utils/xml-v2','-meta.xml'];a151_0x1900=function(){return _0x3776bf;};return a151_0x1900();}Object[a151_0x560123(0xfa)](exports,a151_0x560123(0x104),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a151_0x560123(0xef)),xml_v2_1=require(a151_0x560123(0x11a)),child_types_1=__importDefault(require(a151_0x560123(0x107))),child_types_map_1=__importDefault(require(a151_0x560123(0xe7))),path_1=__importDefault(require(a151_0x560123(0xe1)));class MDApiRemover{constructor(_0x43ae05,_0x52500e){const _0x30412e=a151_0x560123;this[_0x30412e(0xe6)]=_0x43ae05,this[_0x30412e(0xf6)]=_0x52500e,this['META_EXTENSION']=_0x30412e(0x11b),this[_0x30412e(0xed)]=_0x30412e(0x109),this[_0x30412e(0xea)]=0x64,this['logger']=new core_1[(_0x30412e(0x106))](MDApiRemover[_0x30412e(0xec)]),this[_0x30412e(0x120)]={};}async[a151_0x560123(0xf8)](_0x4269ef){const _0x5bdd7f=a151_0x560123,_0x14b0a7=path_1[_0x5bdd7f(0xf0)]['join'](this[_0x5bdd7f(0xf6)],_0x4269ef['path']),_0x162812=path_1[_0x5bdd7f(0xf0)][_0x5bdd7f(0xfe)](this[_0x5bdd7f(0xf6)],''+_0x4269ef['path']+this[_0x5bdd7f(0xe3)]);this[_0x5bdd7f(0x120)][_0x4269ef[_0x5bdd7f(0xe1)]]&&delete this[_0x5bdd7f(0x120)][_0x4269ef[_0x5bdd7f(0xe1)]];const _0x1d12ba=await fs_internal_1['FS']['isDir'](_0x14b0a7)[_0x5bdd7f(0xe5)](()=>![]);if(_0x1d12ba){this[_0x5bdd7f(0xfb)][_0x5bdd7f(0xf9)](_0x5bdd7f(0xf4),_0x14b0a7,_0x4269ef[_0x5bdd7f(0x102)]),await fs_internal_1['FS'][_0x5bdd7f(0x101)](_0x14b0a7);_0x4269ef[_0x5bdd7f(0x102)]===_0x5bdd7f(0x112)?await fs_internal_1['FS']['removeFile'](''+_0x14b0a7+this[_0x5bdd7f(0xed)])[_0x5bdd7f(0xe5)](()=>void 0x0):(this[_0x5bdd7f(0xfb)][_0x5bdd7f(0xf9)](_0x5bdd7f(0xe2),_0x14b0a7,_0x4269ef[_0x5bdd7f(0x102)]),await fs_internal_1['FS']['removeFile'](''+_0x14b0a7+this[_0x5bdd7f(0xe3)])[_0x5bdd7f(0xe5)](()=>void 0x0));return;}this[_0x5bdd7f(0xfb)][_0x5bdd7f(0xf9)](_0x5bdd7f(0x10c),_0x14b0a7,_0x4269ef[_0x5bdd7f(0x102)]),await Promise['all']([fs_internal_1['FS'][_0x5bdd7f(0x11c)](_0x14b0a7),fs_internal_1['FS'][_0x5bdd7f(0x11c)](_0x162812)]);}async[a151_0x560123(0xe4)](_0x1e4e1f){const _0x1d11a5=a151_0x560123,{fileName:_0x3a3a14,type:_0x32619f,path:_0x5062ea}=_0x1e4e1f,_0x29d08c=child_types_map_1[_0x1d11a5(0xf0)][_0x32619f];if(!_0x29d08c)throw new Error(_0x1d11a5(0xf5)+_0x32619f);if(!this[_0x1d11a5(0x120)][_0x5062ea]){const _0x10a941=path_1[_0x1d11a5(0xf0)]['join'](this['sourceDir'],_0x5062ea),_0x5e8c00=await fs_internal_1['FS']['exists'](_0x10a941);if(!_0x5e8c00)return;const _0xaaefc5=await fs_internal_1['FS']['readFile'](_0x10a941);this[_0x1d11a5(0x120)][_0x5062ea]=await xml_v2_1['XmlV2'][_0x1d11a5(0x111)](_0xaaefc5);}const _0x18b969=this[_0x1d11a5(0x120)][_0x5062ea],_0x3f3dee=_0x3a3a14['split']('.')['pop']();xml_v2_1[_0x1d11a5(0xfc)][_0x1d11a5(0xe9)](_0x18b969,_0x29d08c,_0x3f3dee||_0x3a3a14),xml_v2_1[_0x1d11a5(0xfc)][_0x1d11a5(0x114)](_0x18b969)?(this[_0x1d11a5(0xfb)][_0x1d11a5(0xf9)](_0x1d11a5(0x10e),_0x1e4e1f[_0x1d11a5(0xe1)],_0x1e4e1f[_0x1d11a5(0xfd)]),await this[_0x1d11a5(0xf8)](_0x1e4e1f),delete this[_0x1d11a5(0x120)][_0x5062ea]):this[_0x1d11a5(0x120)][_0x5062ea]=_0x18b969;}async[a151_0x560123(0x11d)](){const _0x41f26f=a151_0x560123;!await fs_internal_1['FS'][_0x41f26f(0x117)](this[_0x41f26f(0xf6)])&&await fs_internal_1['FS'][_0x41f26f(0xf2)](this['sourceDir']);for(const _0x12e8db of this[_0x41f26f(0xe6)]){!child_types_1[_0x41f26f(0xf0)][_0x41f26f(0xeb)](_0x12e8db[_0x41f26f(0x102)])?(this[_0x41f26f(0xfb)][_0x41f26f(0xf9)](_0x41f26f(0x105),_0x12e8db[_0x41f26f(0xfd)],_0x12e8db['type']),await this[_0x41f26f(0xf8)](_0x12e8db)):(this[_0x41f26f(0xfb)]['log'](_0x41f26f(0x11f),_0x12e8db['fileName'],_0x12e8db[_0x41f26f(0x102)]),await this[_0x41f26f(0xe4)](_0x12e8db));}const _0x5625b5=Object[_0x41f26f(0xff)](this[_0x41f26f(0x120)]);this[_0x41f26f(0xfb)][_0x41f26f(0xf9)]('have\x20to\x20update\x20%d\x20files',this['components']['length']);while(_0x5625b5['length']){const _0xffd1a=_0x5625b5[_0x41f26f(0x100)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3afd13 of _0xffd1a){await fs_internal_1['FS'][_0x41f26f(0x110)](path_1[_0x41f26f(0xf0)][_0x41f26f(0xfe)](this[_0x41f26f(0xf6)],_0x3afd13),xml_v2_1['XmlV2'][_0x41f26f(0xe8)](this['parentComponents'][_0x3afd13]));}}this[_0x41f26f(0x120)]={};}}exports[a151_0x560123(0x10f)]=MDApiRemover;