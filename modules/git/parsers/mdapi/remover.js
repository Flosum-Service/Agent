const a147_0x3c97eb=a147_0x7e02;(function(_0x239bd9,_0x3d5838){const _0x234f99=a147_0x7e02,_0x41dd03=_0x239bd9();while(!![]){try{const _0x21b802=-parseInt(_0x234f99(0xb4))/0x1*(-parseInt(_0x234f99(0xca))/0x2)+parseInt(_0x234f99(0xba))/0x3*(-parseInt(_0x234f99(0x92))/0x4)+parseInt(_0x234f99(0xc1))/0x5+-parseInt(_0x234f99(0xb6))/0x6*(-parseInt(_0x234f99(0x97))/0x7)+-parseInt(_0x234f99(0xbe))/0x8+parseInt(_0x234f99(0xa3))/0x9*(parseInt(_0x234f99(0x8c))/0xa)+parseInt(_0x234f99(0x9e))/0xb;if(_0x21b802===_0x3d5838)break;else _0x41dd03['push'](_0x41dd03['shift']());}catch(_0x21a582){_0x41dd03['push'](_0x41dd03['shift']());}}}(a147_0x4755,0x503f4));function a147_0x4755(){const _0xdd4307=['default','2781136FBXetB','readFile','defineProperty','1493155FLswsj','ExperienceBundle','remove\x20child\x20component\x20%s\x20[%s]','sourceDir','search','removeChild','remove\x20parent\x20component\x20%s\x20[%s]','split','makeDir','4694EgWFUL','../data/child-types-map','MDApiRemover','removeDir','type','1630GRQwcb','have\x20to\x20update\x20%d\x20files','exists','removeParent','-meta.xml','start','128jPWNqA','convertToString','all','XmlV2','keys','98XEbCaZ','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','../utils/xml-v2','Unknown\x20child\x20type\x20','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','META_EXPERIENCE_BUNDLE','isDir','4414124AKNkTL','../../internal/fs.internal','remove\x20component\x20\x20%s\x20[%s]','join','parentComponents','2637RWOIXt','remove\x20component\x20directory\x20%s\x20[%s]','fileName','length','name','path','parse','logger','META_EXTENSION','removeFile','site-meta.xml','(((.+)+)+)+$','apply','__importDefault','splice','__esModule','removeAt','42wkxjzx','MAX_WRITES_PER_TICK','71646QADzPc','components','toString','catch','31602ZikFmw','constructor','log'];a147_0x4755=function(){return _0xdd4307;};return a147_0x4755();}const a147_0x3e8bc5=(function(){let _0x4e2598=!![];return function(_0x3db191,_0x5e0fc6){const _0x3888fb=_0x4e2598?function(){const _0xba21e3=a147_0x7e02;if(_0x5e0fc6){const _0x2fa2bd=_0x5e0fc6[_0xba21e3(0xaf)](_0x3db191,arguments);return _0x5e0fc6=null,_0x2fa2bd;}}:function(){};return _0x4e2598=![],_0x3888fb;};}()),a147_0x1931e4=a147_0x3e8bc5(this,function(){const _0x47f2ba=a147_0x7e02;return a147_0x1931e4[_0x47f2ba(0xb8)]()[_0x47f2ba(0xc5)]('(((.+)+)+)+$')[_0x47f2ba(0xb8)]()[_0x47f2ba(0xbb)](a147_0x1931e4)['search'](_0x47f2ba(0xae));});a147_0x1931e4();'use strict';var __importDefault=this&&this[a147_0x3c97eb(0xb0)]||function(_0x14028c){const _0x5f3e55=a147_0x3c97eb;return _0x14028c&&_0x14028c[_0x5f3e55(0xb2)]?_0x14028c:{'default':_0x14028c};};Object[a147_0x3c97eb(0xc0)](exports,a147_0x3c97eb(0xb2),{'value':!![]}),exports[a147_0x3c97eb(0xcc)]=void 0x0;function a147_0x7e02(_0x53d60e,_0x1ee9f0){const _0x52a71f=a147_0x4755();return a147_0x7e02=function(_0x1931e4,_0x3e8bc5){_0x1931e4=_0x1931e4-0x8a;let _0x47554d=_0x52a71f[_0x1931e4];return _0x47554d;},a147_0x7e02(_0x53d60e,_0x1ee9f0);}const fs_internal_1=require(a147_0x3c97eb(0x9f)),core_1=require('../../../../core'),xml_v2_1=require(a147_0x3c97eb(0x99)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a147_0x3c97eb(0xcb))),path_1=__importDefault(require(a147_0x3c97eb(0xa8)));class MDApiRemover{constructor(_0x2def9c,_0xeef6cd){const _0x16ece6=a147_0x3c97eb;this[_0x16ece6(0xb7)]=_0x2def9c,this[_0x16ece6(0xc4)]=_0xeef6cd,this[_0x16ece6(0xab)]=_0x16ece6(0x90),this[_0x16ece6(0x9c)]=_0x16ece6(0xad),this[_0x16ece6(0xb5)]=0x64,this[_0x16ece6(0xaa)]=new core_1['Logger'](MDApiRemover[_0x16ece6(0xa7)]),this['parentComponents']={};}async[a147_0x3c97eb(0x8f)](_0x252999){const _0x16e387=a147_0x3c97eb,_0x568680=path_1['default'][_0x16e387(0xa1)](this[_0x16e387(0xc4)],_0x252999['path']),_0x1afa60=path_1[_0x16e387(0xbd)][_0x16e387(0xa1)](this['sourceDir'],''+_0x252999[_0x16e387(0xa8)]+this[_0x16e387(0xab)]);this[_0x16e387(0xa2)][_0x252999[_0x16e387(0xa8)]]&&delete this[_0x16e387(0xa2)][_0x252999['path']];const _0x59fa6b=await fs_internal_1['FS'][_0x16e387(0x9d)](_0x568680)[_0x16e387(0xb9)](()=>![]);if(_0x59fa6b){this[_0x16e387(0xaa)]['log'](_0x16e387(0xa4),_0x568680,_0x252999[_0x16e387(0x8b)]),await fs_internal_1['FS'][_0x16e387(0x8a)](_0x568680);_0x252999[_0x16e387(0x8b)]===_0x16e387(0xc2)?await fs_internal_1['FS'][_0x16e387(0xac)](''+_0x568680+this[_0x16e387(0x9c)])[_0x16e387(0xb9)](()=>void 0x0):(this[_0x16e387(0xaa)][_0x16e387(0xbc)](_0x16e387(0x9b),_0x568680,_0x252999[_0x16e387(0x8b)]),await fs_internal_1['FS']['removeFile'](''+_0x568680+this[_0x16e387(0xab)])[_0x16e387(0xb9)](()=>void 0x0));return;}this['logger'][_0x16e387(0xbc)](_0x16e387(0xa0),_0x568680,_0x252999[_0x16e387(0x8b)]),await Promise[_0x16e387(0x94)]([fs_internal_1['FS'][_0x16e387(0xac)](_0x568680),fs_internal_1['FS'][_0x16e387(0xac)](_0x1afa60)]);}async[a147_0x3c97eb(0xc6)](_0x20b7bd){const _0x385f37=a147_0x3c97eb,{fileName:_0x5331ab,type:_0x13fb21,path:_0x51c301}=_0x20b7bd,_0x4de812=child_types_map_1[_0x385f37(0xbd)][_0x13fb21];if(!_0x4de812)throw new Error(_0x385f37(0x9a)+_0x13fb21);if(!this[_0x385f37(0xa2)][_0x51c301]){const _0x2d40f0=path_1['default'][_0x385f37(0xa1)](this[_0x385f37(0xc4)],_0x51c301),_0x337cec=await fs_internal_1['FS'][_0x385f37(0x8e)](_0x2d40f0);if(!_0x337cec)return;const _0xc3ab7b=await fs_internal_1['FS'][_0x385f37(0xbf)](_0x2d40f0);this['parentComponents'][_0x51c301]=await xml_v2_1['XmlV2'][_0x385f37(0xa9)](_0xc3ab7b);}const _0x58edbd=this[_0x385f37(0xa2)][_0x51c301],_0x1d6977=_0x5331ab[_0x385f37(0xc8)]('.')['pop']();xml_v2_1[_0x385f37(0x95)][_0x385f37(0xb3)](_0x58edbd,_0x4de812,_0x1d6977||_0x5331ab),xml_v2_1[_0x385f37(0x95)]['isEmptyXml'](_0x58edbd)?(this[_0x385f37(0xaa)][_0x385f37(0xbc)](_0x385f37(0x98),_0x20b7bd[_0x385f37(0xa8)],_0x20b7bd[_0x385f37(0xa5)]),await this[_0x385f37(0x8f)](_0x20b7bd),delete this['parentComponents'][_0x51c301]):this[_0x385f37(0xa2)][_0x51c301]=_0x58edbd;}async[a147_0x3c97eb(0x91)](){const _0x384992=a147_0x3c97eb;!await fs_internal_1['FS'][_0x384992(0x8e)](this[_0x384992(0xc4)])&&await fs_internal_1['FS'][_0x384992(0xc9)](this['sourceDir']);for(const _0x14f56f of this[_0x384992(0xb7)]){!child_types_1[_0x384992(0xbd)]['includes'](_0x14f56f[_0x384992(0x8b)])?(this['logger'][_0x384992(0xbc)](_0x384992(0xc7),_0x14f56f[_0x384992(0xa5)],_0x14f56f[_0x384992(0x8b)]),await this[_0x384992(0x8f)](_0x14f56f)):(this[_0x384992(0xaa)][_0x384992(0xbc)](_0x384992(0xc3),_0x14f56f['fileName'],_0x14f56f['type']),await this[_0x384992(0xc6)](_0x14f56f));}const _0x5dd814=Object[_0x384992(0x96)](this[_0x384992(0xa2)]);this['logger'][_0x384992(0xbc)](_0x384992(0x8d),this[_0x384992(0xb7)]['length']);while(_0x5dd814[_0x384992(0xa6)]){const _0x2f02ec=_0x5dd814[_0x384992(0xb1)](0x0,this[_0x384992(0xb5)]);for(const _0x2005a0 of _0x2f02ec){await fs_internal_1['FS']['writeFile'](path_1[_0x384992(0xbd)][_0x384992(0xa1)](this[_0x384992(0xc4)],_0x2005a0),xml_v2_1[_0x384992(0x95)][_0x384992(0x93)](this[_0x384992(0xa2)][_0x2005a0]));}}this[_0x384992(0xa2)]={};}}exports['MDApiRemover']=MDApiRemover;