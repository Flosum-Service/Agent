const a148_0x2bb615=a148_0x4add;(function(_0x5ac89e,_0x4935bb){const _0x2ef086=a148_0x4add,_0x2a736f=_0x5ac89e();while(!![]){try{const _0x3841cf=parseInt(_0x2ef086(0xc6))/0x1*(parseInt(_0x2ef086(0xe3))/0x2)+-parseInt(_0x2ef086(0xe0))/0x3*(-parseInt(_0x2ef086(0xfd))/0x4)+parseInt(_0x2ef086(0xcc))/0x5+parseInt(_0x2ef086(0xe2))/0x6*(-parseInt(_0x2ef086(0xc8))/0x7)+-parseInt(_0x2ef086(0x100))/0x8+parseInt(_0x2ef086(0x104))/0x9*(parseInt(_0x2ef086(0xe5))/0xa)+parseInt(_0x2ef086(0x103))/0xb*(-parseInt(_0x2ef086(0xe1))/0xc);if(_0x3841cf===_0x4935bb)break;else _0x2a736f['push'](_0x2a736f['shift']());}catch(_0x825d88){_0x2a736f['push'](_0x2a736f['shift']());}}}(a148_0x2de3,0x1dc1f));const a148_0x5e9d36=(function(){let _0x4fd59b=!![];return function(_0x4d489b,_0x418d95){const _0x4a9917=_0x4fd59b?function(){const _0x3dc0b7=a148_0x4add;if(_0x418d95){const _0x7fa4fb=_0x418d95[_0x3dc0b7(0xd0)](_0x4d489b,arguments);return _0x418d95=null,_0x7fa4fb;}}:function(){};return _0x4fd59b=![],_0x4a9917;};}()),a148_0xf6ccbf=a148_0x5e9d36(this,function(){const _0x35bb60=a148_0x4add;return a148_0xf6ccbf[_0x35bb60(0xf3)]()[_0x35bb60(0xd9)]('(((.+)+)+)+$')[_0x35bb60(0xf3)]()[_0x35bb60(0xf2)](a148_0xf6ccbf)[_0x35bb60(0xd9)]('(((.+)+)+)+$');});a148_0xf6ccbf();function a148_0x2de3(){const _0xc71edd=['type','MDApiRemover','Unknown\x20child\x20type\x20','catch','search','remove\x20child\x20component\x20%s\x20[%s]','writeFile','split','defineProperty','site-meta.xml','MAX_WRITES_PER_TICK','6IIJsZs','4285692eVnmIt','6906tqTcZn','1202zVaUGY','log','1727530hkdAcg','convertToString','Logger','removeAt','../../../../core','__importDefault','join','default','META_EXPERIENCE_BUNDLE','__esModule','readFile','-meta.xml','../../internal/fs.internal','constructor','toString','have\x20to\x20update\x20%d\x20files','start','removeFile','length','parentComponents','path','XmlV2','remove\x20component\x20directory\x20%s\x20[%s]','splice','464076olVwfq','keys','logger','275576WAdyug','fileName','remove\x20parent\x20component\x20%s\x20[%s]','11wDqisL','9gYygkv','382JtPEvF','removeDir','987fKyfCd','includes','../data/child-types-map','sourceDir','206965yuVgRP','components','META_EXTENSION','name','apply','ExperienceBundle','removeParent','removeChild','parse'];a148_0x2de3=function(){return _0xc71edd;};return a148_0x2de3();}'use strict';var __importDefault=this&&this[a148_0x2bb615(0xea)]||function(_0x1f0bac){const _0x11331b=a148_0x2bb615;return _0x1f0bac&&_0x1f0bac[_0x11331b(0xee)]?_0x1f0bac:{'default':_0x1f0bac};};Object[a148_0x2bb615(0xdd)](exports,'__esModule',{'value':!![]}),exports[a148_0x2bb615(0xd6)]=void 0x0;function a148_0x4add(_0x23ab82,_0x2bdda5){const _0x3271a0=a148_0x2de3();return a148_0x4add=function(_0xf6ccbf,_0x5e9d36){_0xf6ccbf=_0xf6ccbf-0xc6;let _0x2de328=_0x3271a0[_0xf6ccbf];return _0x2de328;},a148_0x4add(_0x23ab82,_0x2bdda5);}const fs_internal_1=require(a148_0x2bb615(0xf1)),core_1=require(a148_0x2bb615(0xe9)),xml_v2_1=require('../utils/xml-v2'),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a148_0x2bb615(0xca))),path_1=__importDefault(require(a148_0x2bb615(0xf9)));class MDApiRemover{constructor(_0x2bed9b,_0x2ccde6){const _0x5b7342=a148_0x2bb615;this[_0x5b7342(0xcd)]=_0x2bed9b,this['sourceDir']=_0x2ccde6,this['META_EXTENSION']=_0x5b7342(0xf0),this[_0x5b7342(0xed)]=_0x5b7342(0xde),this[_0x5b7342(0xdf)]=0x64,this[_0x5b7342(0xff)]=new core_1[(_0x5b7342(0xe7))](MDApiRemover[_0x5b7342(0xcf)]),this[_0x5b7342(0xf8)]={};}async['removeParent'](_0x28da53){const _0x6a8074=a148_0x2bb615,_0x43337c=path_1[_0x6a8074(0xec)][_0x6a8074(0xeb)](this['sourceDir'],_0x28da53[_0x6a8074(0xf9)]),_0x14c7fd=path_1[_0x6a8074(0xec)]['join'](this[_0x6a8074(0xcb)],''+_0x28da53['path']+this[_0x6a8074(0xce)]);this[_0x6a8074(0xf8)][_0x28da53[_0x6a8074(0xf9)]]&&delete this[_0x6a8074(0xf8)][_0x28da53['path']];const _0x45063c=await fs_internal_1['FS']['isDir'](_0x43337c)[_0x6a8074(0xd8)](()=>![]);if(_0x45063c){this[_0x6a8074(0xff)]['log'](_0x6a8074(0xfb),_0x43337c,_0x28da53[_0x6a8074(0xd5)]),await fs_internal_1['FS'][_0x6a8074(0xc7)](_0x43337c);_0x28da53[_0x6a8074(0xd5)]===_0x6a8074(0xd1)?await fs_internal_1['FS']['removeFile'](''+_0x43337c+this[_0x6a8074(0xed)])[_0x6a8074(0xd8)](()=>void 0x0):(this[_0x6a8074(0xff)]['log']('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x43337c,_0x28da53[_0x6a8074(0xd5)]),await fs_internal_1['FS']['removeFile'](''+_0x43337c+this[_0x6a8074(0xce)])[_0x6a8074(0xd8)](()=>void 0x0));return;}this[_0x6a8074(0xff)][_0x6a8074(0xe4)]('remove\x20component\x20\x20%s\x20[%s]',_0x43337c,_0x28da53[_0x6a8074(0xd5)]),await Promise['all']([fs_internal_1['FS'][_0x6a8074(0xf6)](_0x43337c),fs_internal_1['FS'][_0x6a8074(0xf6)](_0x14c7fd)]);}async[a148_0x2bb615(0xd3)](_0x3fbe05){const _0x12756a=a148_0x2bb615,{fileName:_0x2c4c13,type:_0x5f5764,path:_0x34b5da}=_0x3fbe05,_0x4ad2ed=child_types_map_1[_0x12756a(0xec)][_0x5f5764];if(!_0x4ad2ed)throw new Error(_0x12756a(0xd7)+_0x5f5764);if(!this[_0x12756a(0xf8)][_0x34b5da]){const _0x2bb051=path_1['default'][_0x12756a(0xeb)](this[_0x12756a(0xcb)],_0x34b5da),_0x7d5e0b=await fs_internal_1['FS']['exists'](_0x2bb051);if(!_0x7d5e0b)return;const _0x21882a=await fs_internal_1['FS'][_0x12756a(0xef)](_0x2bb051);this[_0x12756a(0xf8)][_0x34b5da]=await xml_v2_1[_0x12756a(0xfa)][_0x12756a(0xd4)](_0x21882a);}const _0x3c3673=this[_0x12756a(0xf8)][_0x34b5da],_0x520ef9=_0x2c4c13[_0x12756a(0xdc)]('.')['pop']();xml_v2_1['XmlV2'][_0x12756a(0xe8)](_0x3c3673,_0x4ad2ed,_0x520ef9||_0x2c4c13),xml_v2_1['XmlV2']['isEmptyXml'](_0x3c3673)?(this[_0x12756a(0xff)][_0x12756a(0xe4)]('remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x3fbe05['path'],_0x3fbe05[_0x12756a(0x101)]),await this[_0x12756a(0xd2)](_0x3fbe05),delete this[_0x12756a(0xf8)][_0x34b5da]):this['parentComponents'][_0x34b5da]=_0x3c3673;}async[a148_0x2bb615(0xf5)](){const _0x520f81=a148_0x2bb615;!await fs_internal_1['FS']['exists'](this[_0x520f81(0xcb)])&&await fs_internal_1['FS']['makeDir'](this[_0x520f81(0xcb)]);for(const _0x34b8a6 of this[_0x520f81(0xcd)]){!child_types_1[_0x520f81(0xec)][_0x520f81(0xc9)](_0x34b8a6[_0x520f81(0xd5)])?(this['logger'][_0x520f81(0xe4)](_0x520f81(0x102),_0x34b8a6[_0x520f81(0x101)],_0x34b8a6[_0x520f81(0xd5)]),await this['removeParent'](_0x34b8a6)):(this[_0x520f81(0xff)][_0x520f81(0xe4)](_0x520f81(0xda),_0x34b8a6[_0x520f81(0x101)],_0x34b8a6['type']),await this['removeChild'](_0x34b8a6));}const _0x416018=Object[_0x520f81(0xfe)](this[_0x520f81(0xf8)]);this[_0x520f81(0xff)][_0x520f81(0xe4)](_0x520f81(0xf4),this[_0x520f81(0xcd)][_0x520f81(0xf7)]);while(_0x416018[_0x520f81(0xf7)]){const _0x3299d6=_0x416018[_0x520f81(0xfc)](0x0,this[_0x520f81(0xdf)]);for(const _0x278fb7 of _0x3299d6){await fs_internal_1['FS'][_0x520f81(0xdb)](path_1['default'][_0x520f81(0xeb)](this[_0x520f81(0xcb)],_0x278fb7),xml_v2_1[_0x520f81(0xfa)][_0x520f81(0xe6)](this['parentComponents'][_0x278fb7]));}}this['parentComponents']={};}}exports[a148_0x2bb615(0xd6)]=MDApiRemover;