const a116_0x82aa11=a116_0x5912;(function(_0x54eb7d,_0x38c44b){const _0x98a45a=a116_0x5912,_0x3e8a77=_0x54eb7d();while(!![]){try{const _0x564be4=parseInt(_0x98a45a(0x153))/0x1+parseInt(_0x98a45a(0x12f))/0x2+-parseInt(_0x98a45a(0x145))/0x3*(-parseInt(_0x98a45a(0x142))/0x4)+parseInt(_0x98a45a(0x130))/0x5*(parseInt(_0x98a45a(0x13c))/0x6)+parseInt(_0x98a45a(0x13e))/0x7*(parseInt(_0x98a45a(0x159))/0x8)+-parseInt(_0x98a45a(0x15a))/0x9+-parseInt(_0x98a45a(0x14a))/0xa;if(_0x564be4===_0x38c44b)break;else _0x3e8a77['push'](_0x3e8a77['shift']());}catch(_0x5b3417){_0x3e8a77['push'](_0x3e8a77['shift']());}}}(a116_0x25a7,0x28124));function a116_0x25a7(){const _0x18c811=['ExperienceBundle','writeFile','includes','168078LMWhMs','../../internal/fs.internal','default','components','splice','defineProperty','8992IaOfbD','2268675SirilK','path','remove\x20child\x20component\x20%s\x20[%s]','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','type','pop','isEmptyXml','remove\x20parent\x20component\x20%s\x20[%s]','MDApiRemover','removeChild','toString','join','Unknown\x20child\x20type\x20','exists','log','removeFile','name','338484kwzWeq','15sVlvwI','MAX_WRITES_PER_TICK','convertToString','../../../../core','logger','start','catch','-meta.xml','fileName','parse','Xml','readFile','430062XsSnAF','removeAt','623yWzVmn','(((.+)+)+)+$','META_EXTENSION','parentComponents','4dgjzKh','sourceDir','META_EXPERIENCE_BUNDLE','938739WJIpyI','remove\x20component\x20\x20%s\x20[%s]','makeDir','../utils/xml','removeParent','5490930KtrSPM','split','../data/child-types','length','__importDefault','site-meta.xml'];a116_0x25a7=function(){return _0x18c811;};return a116_0x25a7();}const a116_0x82a41f=(function(){let _0x250231=!![];return function(_0x5bf329,_0x56c214){const _0x3f6a7a=_0x250231?function(){if(_0x56c214){const _0x6eec09=_0x56c214['apply'](_0x5bf329,arguments);return _0x56c214=null,_0x6eec09;}}:function(){};return _0x250231=![],_0x3f6a7a;};}()),a116_0x1707c1=a116_0x82a41f(this,function(){const _0x3f6a60=a116_0x5912;return a116_0x1707c1[_0x3f6a60(0x164)]()['search'](_0x3f6a60(0x13f))[_0x3f6a60(0x164)]()['constructor'](a116_0x1707c1)['search']('(((.+)+)+)+$');});a116_0x1707c1();'use strict';var __importDefault=this&&this[a116_0x82aa11(0x14e)]||function(_0x108dee){return _0x108dee&&_0x108dee['__esModule']?_0x108dee:{'default':_0x108dee};};Object[a116_0x82aa11(0x158)](exports,'__esModule',{'value':!![]}),exports[a116_0x82aa11(0x162)]=void 0x0;const fs_internal_1=require(a116_0x82aa11(0x154)),core_1=require(a116_0x82aa11(0x133)),xml_1=require(a116_0x82aa11(0x148)),child_types_1=__importDefault(require(a116_0x82aa11(0x14c))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x5d4db2,_0x5cd58b){const _0x40d4e6=a116_0x82aa11;this[_0x40d4e6(0x156)]=_0x5d4db2,this['sourceDir']=_0x5cd58b,this[_0x40d4e6(0x140)]=_0x40d4e6(0x137),this['META_EXPERIENCE_BUNDLE']=_0x40d4e6(0x14f),this[_0x40d4e6(0x131)]=0x64,this['logger']=new core_1['Logger'](MDApiRemover[_0x40d4e6(0x12e)]),this[_0x40d4e6(0x141)]={};}async['removeParent'](_0x2dc3dc){const _0x488567=a116_0x82aa11,_0x336446=path_1[_0x488567(0x155)][_0x488567(0x129)](this['sourceDir'],_0x2dc3dc['path']),_0x574875=path_1['default'][_0x488567(0x129)](this[_0x488567(0x143)],''+_0x2dc3dc['path']+this['META_EXTENSION']);this[_0x488567(0x141)][_0x2dc3dc[_0x488567(0x15b)]]&&delete this[_0x488567(0x141)][_0x2dc3dc[_0x488567(0x15b)]];const _0x45126f=await fs_internal_1['FS']['isDir'](_0x336446)['catch'](()=>![]);if(_0x45126f){this[_0x488567(0x134)][_0x488567(0x12c)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x336446,_0x2dc3dc[_0x488567(0x15e)]),await fs_internal_1['FS']['removeDir'](_0x336446);_0x2dc3dc[_0x488567(0x15e)]===_0x488567(0x150)?await fs_internal_1['FS']['removeFile'](''+_0x336446+this[_0x488567(0x144)])[_0x488567(0x136)](()=>void 0x0):(this['logger'][_0x488567(0x12c)](_0x488567(0x15d),_0x336446,_0x2dc3dc['type']),await fs_internal_1['FS']['removeFile'](''+_0x336446+this['META_EXTENSION'])['catch'](()=>void 0x0));return;}this[_0x488567(0x134)][_0x488567(0x12c)](_0x488567(0x146),_0x336446,_0x2dc3dc[_0x488567(0x15e)]),await Promise['all']([fs_internal_1['FS'][_0x488567(0x12d)](_0x336446),fs_internal_1['FS']['removeFile'](_0x574875)]);}async[a116_0x82aa11(0x163)](_0x3baf3a){const _0x2934b2=a116_0x82aa11,{fileName:_0x32f475,type:_0x41374c,path:_0x306ccd}=_0x3baf3a,_0x3bbe93=child_types_map_1[_0x2934b2(0x155)][_0x41374c];if(!_0x3bbe93)throw new Error(_0x2934b2(0x12a)+_0x41374c);if(!this[_0x2934b2(0x141)][_0x306ccd]){const _0x405177=path_1[_0x2934b2(0x155)]['join'](this[_0x2934b2(0x143)],_0x306ccd),_0x277d66=await fs_internal_1['FS']['exists'](_0x405177);if(!_0x277d66)return;const _0x273a4a=await fs_internal_1['FS'][_0x2934b2(0x13b)](_0x405177);this['parentComponents'][_0x306ccd]=await xml_1[_0x2934b2(0x13a)][_0x2934b2(0x139)](_0x273a4a);}const _0x1ab499=this[_0x2934b2(0x141)][_0x306ccd],_0x327dc0=_0x32f475[_0x2934b2(0x14b)]('.')[_0x2934b2(0x15f)]();xml_1[_0x2934b2(0x13a)][_0x2934b2(0x13d)](_0x1ab499,_0x3bbe93,_0x327dc0||_0x32f475),xml_1['Xml'][_0x2934b2(0x160)](_0x1ab499)?(this[_0x2934b2(0x134)][_0x2934b2(0x12c)]('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x3baf3a['path'],_0x3baf3a[_0x2934b2(0x138)]),await this['removeParent'](_0x3baf3a),delete this[_0x2934b2(0x141)][_0x306ccd]):this[_0x2934b2(0x141)][_0x306ccd]=_0x1ab499;}async[a116_0x82aa11(0x135)](){const _0x3d2120=a116_0x82aa11;!await fs_internal_1['FS'][_0x3d2120(0x12b)](this[_0x3d2120(0x143)])&&await fs_internal_1['FS'][_0x3d2120(0x147)](this['sourceDir']);for(const _0xa4e8ab of this[_0x3d2120(0x156)]){!child_types_1[_0x3d2120(0x155)][_0x3d2120(0x152)](_0xa4e8ab[_0x3d2120(0x15e)])?(this['logger']['log'](_0x3d2120(0x161),_0xa4e8ab[_0x3d2120(0x138)],_0xa4e8ab[_0x3d2120(0x15e)]),await this[_0x3d2120(0x149)](_0xa4e8ab)):(this[_0x3d2120(0x134)][_0x3d2120(0x12c)](_0x3d2120(0x15c),_0xa4e8ab['fileName'],_0xa4e8ab[_0x3d2120(0x15e)]),await this[_0x3d2120(0x163)](_0xa4e8ab));}const _0xb1e603=Object['keys'](this[_0x3d2120(0x141)]);this[_0x3d2120(0x134)][_0x3d2120(0x12c)]('have\x20to\x20update\x20%d\x20files',this['components'][_0x3d2120(0x14d)]);while(_0xb1e603[_0x3d2120(0x14d)]){const _0x386c4c=_0xb1e603[_0x3d2120(0x157)](0x0,this[_0x3d2120(0x131)]);for(const _0x5e0611 of _0x386c4c){await fs_internal_1['FS'][_0x3d2120(0x151)](path_1[_0x3d2120(0x155)][_0x3d2120(0x129)](this[_0x3d2120(0x143)],_0x5e0611),xml_1[_0x3d2120(0x13a)][_0x3d2120(0x132)](this[_0x3d2120(0x141)][_0x5e0611]));}}this[_0x3d2120(0x141)]={};}}function a116_0x5912(_0x54be55,_0x203e21){const _0x4b2fe4=a116_0x25a7();return a116_0x5912=function(_0x1707c1,_0x82a41f){_0x1707c1=_0x1707c1-0x129;let _0x25a78d=_0x4b2fe4[_0x1707c1];return _0x25a78d;},a116_0x5912(_0x54be55,_0x203e21);}exports['MDApiRemover']=MDApiRemover;