function a115_0x1e52(){const _0x30dcda=['all','default','META_EXPERIENCE_BUNDLE','constructor','readFile','removeFile','META_EXTENSION','4sHeEng','includes','Xml','split','399800qGDyGK','length','toString','removeDir','pop','__importDefault','5760QlvnQU','../../../../core','../data/child-types-map','isDir','18jQCMDU','MDApiRemover','remove\x20component\x20directory\x20%s\x20[%s]','removeParent','path','have\x20to\x20update\x20%d\x20files','site-meta.xml','Unknown\x20child\x20type\x20','../data/child-types','7506UiLIjH','parentComponents','exists','67UfjolS','remove\x20child\x20component\x20%s\x20[%s]','2980197DEFBFu','Logger','convertToString','175284BCwJvI','catch','logger','removeChild','sourceDir','remove\x20parent\x20component\x20%s\x20[%s]','-meta.xml','__esModule','6650AqXsyj','../utils/xml','log','search','start','removeAt','4215392JLSGyf','join','type','(((.+)+)+)+$','../../internal/fs.internal','fileName','parse','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isEmptyXml','MAX_WRITES_PER_TICK','components','1081563VBrWKt'];a115_0x1e52=function(){return _0x30dcda;};return a115_0x1e52();}const a115_0x598968=a115_0x177e;(function(_0x43a09d,_0x2e43df){const _0x5de138=a115_0x177e,_0x5aabf8=_0x43a09d();while(!![]){try{const _0x194159=-parseInt(_0x5de138(0xcd))/0x1*(parseInt(_0x5de138(0xfd))/0x2)+parseInt(_0x5de138(0xd2))/0x3*(parseInt(_0x5de138(0xf3))/0x4)+parseInt(_0x5de138(0xf7))/0x5*(-parseInt(_0x5de138(0x101))/0x6)+-parseInt(_0x5de138(0xeb))/0x7+parseInt(_0x5de138(0xe0))/0x8+-parseInt(_0x5de138(0xca))/0x9*(-parseInt(_0x5de138(0xda))/0xa)+-parseInt(_0x5de138(0xcf))/0xb;if(_0x194159===_0x2e43df)break;else _0x5aabf8['push'](_0x5aabf8['shift']());}catch(_0x5ccd06){_0x5aabf8['push'](_0x5aabf8['shift']());}}}(a115_0x1e52,0x44c56));const a115_0x157df5=(function(){let _0x414837=!![];return function(_0x17cd7a,_0x1d5f1d){const _0x263962=_0x414837?function(){if(_0x1d5f1d){const _0x4fe1e0=_0x1d5f1d['apply'](_0x17cd7a,arguments);return _0x1d5f1d=null,_0x4fe1e0;}}:function(){};return _0x414837=![],_0x263962;};}()),a115_0x538682=a115_0x157df5(this,function(){const _0x2ac093=a115_0x177e;return a115_0x538682[_0x2ac093(0xf9)]()[_0x2ac093(0xdd)](_0x2ac093(0xe3))[_0x2ac093(0xf9)]()[_0x2ac093(0xef)](a115_0x538682)[_0x2ac093(0xdd)](_0x2ac093(0xe3));});a115_0x538682();function a115_0x177e(_0x5bb227,_0x42b12e){const _0x509601=a115_0x1e52();return a115_0x177e=function(_0x538682,_0x157df5){_0x538682=_0x538682-0xc3;let _0x1e522c=_0x509601[_0x538682];return _0x1e522c;},a115_0x177e(_0x5bb227,_0x42b12e);}'use strict';var __importDefault=this&&this[a115_0x598968(0xfc)]||function(_0x131c08){const _0x44ec35=a115_0x598968;return _0x131c08&&_0x131c08[_0x44ec35(0xd9)]?_0x131c08:{'default':_0x131c08};};Object['defineProperty'](exports,a115_0x598968(0xd9),{'value':!![]}),exports[a115_0x598968(0x102)]=void 0x0;const fs_internal_1=require(a115_0x598968(0xe4)),core_1=require(a115_0x598968(0xfe)),xml_1=require(a115_0x598968(0xdb)),child_types_1=__importDefault(require(a115_0x598968(0xc9))),child_types_map_1=__importDefault(require(a115_0x598968(0xff))),path_1=__importDefault(require(a115_0x598968(0xc5)));class MDApiRemover{constructor(_0x533df7,_0x4f1196){const _0x4fde15=a115_0x598968;this[_0x4fde15(0xea)]=_0x533df7,this[_0x4fde15(0xd6)]=_0x4f1196,this[_0x4fde15(0xf2)]=_0x4fde15(0xd8),this[_0x4fde15(0xee)]=_0x4fde15(0xc7),this['MAX_WRITES_PER_TICK']=0x64,this[_0x4fde15(0xd4)]=new core_1[(_0x4fde15(0xd0))](MDApiRemover['name']),this[_0x4fde15(0xcb)]={};}async['removeParent'](_0x5e6399){const _0x35c595=a115_0x598968,_0x60485e=path_1[_0x35c595(0xed)][_0x35c595(0xe1)](this[_0x35c595(0xd6)],_0x5e6399[_0x35c595(0xc5)]),_0x24717f=path_1[_0x35c595(0xed)]['join'](this[_0x35c595(0xd6)],''+_0x5e6399['path']+this['META_EXTENSION']);this[_0x35c595(0xcb)][_0x5e6399[_0x35c595(0xc5)]]&&delete this[_0x35c595(0xcb)][_0x5e6399[_0x35c595(0xc5)]];const _0x54426e=await fs_internal_1['FS'][_0x35c595(0x100)](_0x60485e)['catch'](()=>![]);if(_0x54426e){this[_0x35c595(0xd4)][_0x35c595(0xdc)](_0x35c595(0xc3),_0x60485e,_0x5e6399['type']),await fs_internal_1['FS'][_0x35c595(0xfa)](_0x60485e);_0x5e6399[_0x35c595(0xe2)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x35c595(0xf1)](''+_0x60485e+this[_0x35c595(0xee)])[_0x35c595(0xd3)](()=>void 0x0):(this[_0x35c595(0xd4)][_0x35c595(0xdc)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x60485e,_0x5e6399[_0x35c595(0xe2)]),await fs_internal_1['FS']['removeFile'](''+_0x60485e+this[_0x35c595(0xf2)])[_0x35c595(0xd3)](()=>void 0x0));return;}this[_0x35c595(0xd4)][_0x35c595(0xdc)]('remove\x20component\x20\x20%s\x20[%s]',_0x60485e,_0x5e6399[_0x35c595(0xe2)]),await Promise[_0x35c595(0xec)]([fs_internal_1['FS'][_0x35c595(0xf1)](_0x60485e),fs_internal_1['FS']['removeFile'](_0x24717f)]);}async[a115_0x598968(0xd5)](_0x159ac0){const _0x103a88=a115_0x598968,{fileName:_0x28f943,type:_0x462231,path:_0xb87159}=_0x159ac0,_0x46b245=child_types_map_1['default'][_0x462231];if(!_0x46b245)throw new Error(_0x103a88(0xc8)+_0x462231);if(!this[_0x103a88(0xcb)][_0xb87159]){const _0x14c4e1=path_1[_0x103a88(0xed)][_0x103a88(0xe1)](this['sourceDir'],_0xb87159),_0x2f45e6=await fs_internal_1['FS'][_0x103a88(0xcc)](_0x14c4e1);if(!_0x2f45e6)return;const _0x6c58a5=await fs_internal_1['FS'][_0x103a88(0xf0)](_0x14c4e1);this[_0x103a88(0xcb)][_0xb87159]=await xml_1[_0x103a88(0xf5)][_0x103a88(0xe6)](_0x6c58a5);}const _0x267cd8=this[_0x103a88(0xcb)][_0xb87159],_0x4bbca8=_0x28f943[_0x103a88(0xf6)]('.')[_0x103a88(0xfb)]();xml_1[_0x103a88(0xf5)][_0x103a88(0xdf)](_0x267cd8,_0x46b245,_0x4bbca8||_0x28f943),xml_1[_0x103a88(0xf5)][_0x103a88(0xe8)](_0x267cd8)?(this[_0x103a88(0xd4)][_0x103a88(0xdc)](_0x103a88(0xe7),_0x159ac0[_0x103a88(0xc5)],_0x159ac0['fileName']),await this[_0x103a88(0xc4)](_0x159ac0),delete this[_0x103a88(0xcb)][_0xb87159]):this[_0x103a88(0xcb)][_0xb87159]=_0x267cd8;}async[a115_0x598968(0xde)](){const _0x2fe565=a115_0x598968;!await fs_internal_1['FS'][_0x2fe565(0xcc)](this[_0x2fe565(0xd6)])&&await fs_internal_1['FS']['makeDir'](this[_0x2fe565(0xd6)]);for(const _0x533e0a of this[_0x2fe565(0xea)]){!child_types_1[_0x2fe565(0xed)][_0x2fe565(0xf4)](_0x533e0a['type'])?(this['logger'][_0x2fe565(0xdc)](_0x2fe565(0xd7),_0x533e0a[_0x2fe565(0xe5)],_0x533e0a[_0x2fe565(0xe2)]),await this['removeParent'](_0x533e0a)):(this[_0x2fe565(0xd4)][_0x2fe565(0xdc)](_0x2fe565(0xce),_0x533e0a[_0x2fe565(0xe5)],_0x533e0a[_0x2fe565(0xe2)]),await this['removeChild'](_0x533e0a));}const _0x5ee76f=Object['keys'](this[_0x2fe565(0xcb)]);this[_0x2fe565(0xd4)]['log'](_0x2fe565(0xc6),this[_0x2fe565(0xea)][_0x2fe565(0xf8)]);while(_0x5ee76f[_0x2fe565(0xf8)]){const _0x227b79=_0x5ee76f['splice'](0x0,this[_0x2fe565(0xe9)]);for(const _0x43beb8 of _0x227b79){await fs_internal_1['FS']['writeFile'](path_1[_0x2fe565(0xed)][_0x2fe565(0xe1)](this[_0x2fe565(0xd6)],_0x43beb8),xml_1[_0x2fe565(0xf5)][_0x2fe565(0xd1)](this['parentComponents'][_0x43beb8]));}}this['parentComponents']={};}}exports[a115_0x598968(0x102)]=MDApiRemover;