const a151_0x2ea4c4=a151_0x22f4;(function(_0x187d65,_0x3a70dd){const _0x449495=a151_0x22f4,_0x28c30f=_0x187d65();while(!![]){try{const _0x569a2c=parseInt(_0x449495(0xb4))/0x1*(parseInt(_0x449495(0xd4))/0x2)+-parseInt(_0x449495(0xd8))/0x3+parseInt(_0x449495(0xbc))/0x4*(parseInt(_0x449495(0xd5))/0x5)+-parseInt(_0x449495(0xb5))/0x6*(-parseInt(_0x449495(0xcf))/0x7)+parseInt(_0x449495(0xbd))/0x8+-parseInt(_0x449495(0xe5))/0x9*(parseInt(_0x449495(0xda))/0xa)+-parseInt(_0x449495(0xca))/0xb;if(_0x569a2c===_0x3a70dd)break;else _0x28c30f['push'](_0x28c30f['shift']());}catch(_0x4fbd94){_0x28c30f['push'](_0x28c30f['shift']());}}}(a151_0x5552,0xda80b));const a151_0x91055b=(function(){let _0x14411e=!![];return function(_0xcbe019,_0x2d14bf){const _0x58d0f1=_0x14411e?function(){if(_0x2d14bf){const _0x4fa1a8=_0x2d14bf['apply'](_0xcbe019,arguments);return _0x2d14bf=null,_0x4fa1a8;}}:function(){};return _0x14411e=![],_0x58d0f1;};}()),a151_0x5ba85a=a151_0x91055b(this,function(){const _0x104c66=a151_0x22f4;return a151_0x5ba85a[_0x104c66(0xbf)]()[_0x104c66(0xe8)](_0x104c66(0xe6))[_0x104c66(0xbf)]()[_0x104c66(0xba)](a151_0x5ba85a)[_0x104c66(0xe8)](_0x104c66(0xe6));});a151_0x5ba85a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4b230b){const _0x539dca=a151_0x22f4;return _0x4b230b&&_0x4b230b[_0x539dca(0xc3)]?_0x4b230b:{'default':_0x4b230b};};Object[a151_0x2ea4c4(0xee)](exports,'__esModule',{'value':!![]}),exports[a151_0x2ea4c4(0xde)]=void 0x0;const fs_internal_1=require(a151_0x2ea4c4(0xdc)),core_1=require(a151_0x2ea4c4(0xd9)),xml_v2_1=require(a151_0x2ea4c4(0xf2)),child_types_1=__importDefault(require(a151_0x2ea4c4(0xdb))),child_types_map_1=__importDefault(require(a151_0x2ea4c4(0xc5))),path_1=__importDefault(require(a151_0x2ea4c4(0xeb)));class MDApiRemover{constructor(_0x14f815,_0x4c553b){const _0x250a51=a151_0x2ea4c4;this[_0x250a51(0xe2)]=_0x14f815,this['sourceDir']=_0x4c553b,this[_0x250a51(0xd3)]=_0x250a51(0xe4),this[_0x250a51(0xc0)]=_0x250a51(0xc2),this[_0x250a51(0xbe)]=0x64,this[_0x250a51(0xd0)]=new core_1[(_0x250a51(0xc7))](MDApiRemover[_0x250a51(0xd7)]),this['parentComponents']={};}async[a151_0x2ea4c4(0xcc)](_0xe69a9e){const _0x63e027=a151_0x2ea4c4,_0x13828e=path_1['default'][_0x63e027(0xf0)](this[_0x63e027(0xc4)],_0xe69a9e['path']),_0x4e85d6=path_1[_0x63e027(0xdd)][_0x63e027(0xf0)](this[_0x63e027(0xc4)],''+_0xe69a9e[_0x63e027(0xeb)]+this[_0x63e027(0xd3)]);this[_0x63e027(0xcd)][_0xe69a9e[_0x63e027(0xeb)]]&&delete this[_0x63e027(0xcd)][_0xe69a9e[_0x63e027(0xeb)]];const _0x7c6ca8=await fs_internal_1['FS']['isDir'](_0x13828e)['catch'](()=>![]);if(_0x7c6ca8){this[_0x63e027(0xd0)]['log']('remove\x20component\x20directory\x20%s\x20[%s]',_0x13828e,_0xe69a9e[_0x63e027(0xe9)]),await fs_internal_1['FS']['removeDir'](_0x13828e);_0xe69a9e[_0x63e027(0xe9)]===_0x63e027(0xb6)?await fs_internal_1['FS'][_0x63e027(0xec)](''+_0x13828e+this[_0x63e027(0xc0)])[_0x63e027(0xd2)](()=>void 0x0):(this[_0x63e027(0xd0)][_0x63e027(0xc9)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x13828e,_0xe69a9e['type']),await fs_internal_1['FS']['removeFile'](''+_0x13828e+this[_0x63e027(0xd3)])[_0x63e027(0xd2)](()=>void 0x0));return;}this[_0x63e027(0xd0)][_0x63e027(0xc9)]('remove\x20component\x20\x20%s\x20[%s]',_0x13828e,_0xe69a9e[_0x63e027(0xe9)]),await Promise[_0x63e027(0xf1)]([fs_internal_1['FS'][_0x63e027(0xec)](_0x13828e),fs_internal_1['FS'][_0x63e027(0xec)](_0x4e85d6)]);}async[a151_0x2ea4c4(0xea)](_0x527e13){const _0x27268b=a151_0x2ea4c4,{fileName:_0x35a6ef,type:_0x3ce503,path:_0x3ce18c}=_0x527e13,_0x2edc62=child_types_map_1[_0x27268b(0xdd)][_0x3ce503];if(!_0x2edc62)throw new Error('Unknown\x20child\x20type\x20'+_0x3ce503);if(!this['parentComponents'][_0x3ce18c]){const _0x1e7662=path_1[_0x27268b(0xdd)][_0x27268b(0xf0)](this[_0x27268b(0xc4)],_0x3ce18c),_0x39d4ae=await fs_internal_1['FS']['exists'](_0x1e7662);if(!_0x39d4ae)return;const _0x427479=await fs_internal_1['FS'][_0x27268b(0xc8)](_0x1e7662);this[_0x27268b(0xcd)][_0x3ce18c]=await xml_v2_1[_0x27268b(0xe3)][_0x27268b(0xed)](_0x427479);}const _0x1fe6c9=this[_0x27268b(0xcd)][_0x3ce18c],_0x3ebbd9=_0x35a6ef[_0x27268b(0xcb)]('.')[_0x27268b(0xd6)]();xml_v2_1[_0x27268b(0xe3)][_0x27268b(0xb8)](_0x1fe6c9,_0x2edc62,_0x3ebbd9||_0x35a6ef),xml_v2_1[_0x27268b(0xe3)]['isEmptyXml'](_0x1fe6c9)?(this[_0x27268b(0xd0)][_0x27268b(0xc9)]('remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x527e13[_0x27268b(0xeb)],_0x527e13[_0x27268b(0xe0)]),await this[_0x27268b(0xcc)](_0x527e13),delete this[_0x27268b(0xcd)][_0x3ce18c]):this['parentComponents'][_0x3ce18c]=_0x1fe6c9;}async[a151_0x2ea4c4(0xbb)](){const _0x4e6fc0=a151_0x2ea4c4;!await fs_internal_1['FS'][_0x4e6fc0(0xc6)](this[_0x4e6fc0(0xc4)])&&await fs_internal_1['FS'][_0x4e6fc0(0xc1)](this[_0x4e6fc0(0xc4)]);for(const _0x1ea520 of this[_0x4e6fc0(0xe2)]){!child_types_1['default'][_0x4e6fc0(0xce)](_0x1ea520[_0x4e6fc0(0xe9)])?(this[_0x4e6fc0(0xd0)][_0x4e6fc0(0xc9)](_0x4e6fc0(0xd1),_0x1ea520[_0x4e6fc0(0xe0)],_0x1ea520[_0x4e6fc0(0xe9)]),await this[_0x4e6fc0(0xcc)](_0x1ea520)):(this[_0x4e6fc0(0xd0)][_0x4e6fc0(0xc9)](_0x4e6fc0(0xb7),_0x1ea520['fileName'],_0x1ea520[_0x4e6fc0(0xe9)]),await this['removeChild'](_0x1ea520));}const _0x126826=Object[_0x4e6fc0(0xe7)](this['parentComponents']);this[_0x4e6fc0(0xd0)][_0x4e6fc0(0xc9)](_0x4e6fc0(0xef),this[_0x4e6fc0(0xe2)][_0x4e6fc0(0xb9)]);while(_0x126826[_0x4e6fc0(0xb9)]){const _0x584d93=_0x126826['splice'](0x0,this[_0x4e6fc0(0xbe)]);for(const _0xfd7fc5 of _0x584d93){await fs_internal_1['FS'][_0x4e6fc0(0xe1)](path_1['default'][_0x4e6fc0(0xf0)](this[_0x4e6fc0(0xc4)],_0xfd7fc5),xml_v2_1[_0x4e6fc0(0xe3)][_0x4e6fc0(0xdf)](this[_0x4e6fc0(0xcd)][_0xfd7fc5]));}}this['parentComponents']={};}}function a151_0x22f4(_0x2083e0,_0x1cd01a){const _0x49f130=a151_0x5552();return a151_0x22f4=function(_0x5ba85a,_0x91055b){_0x5ba85a=_0x5ba85a-0xb4;let _0x555265=_0x49f130[_0x5ba85a];return _0x555265;},a151_0x22f4(_0x2083e0,_0x1cd01a);}function a151_0x5552(){const _0x4443ab=['convertToString','fileName','writeFile','components','XmlV2','-meta.xml','122319ePEITP','(((.+)+)+)+$','keys','search','type','removeChild','path','removeFile','parse','defineProperty','have\x20to\x20update\x20%d\x20files','join','all','../utils/xml-v2','28132PMZPWx','42VIifps','ExperienceBundle','remove\x20child\x20component\x20%s\x20[%s]','removeAt','length','constructor','start','28JSmYPO','9965568bbkPWt','MAX_WRITES_PER_TICK','toString','META_EXPERIENCE_BUNDLE','makeDir','site-meta.xml','__esModule','sourceDir','../data/child-types-map','exists','Logger','readFile','log','20460858aZlCcW','split','removeParent','parentComponents','includes','1331547qTASQL','logger','remove\x20parent\x20component\x20%s\x20[%s]','catch','META_EXTENSION','118NFWVtG','333910fbJZtE','pop','name','5155179rnaWNk','../../../../core','170unMWlC','../data/child-types','../../internal/fs.internal','default','MDApiRemover'];a151_0x5552=function(){return _0x4443ab;};return a151_0x5552();}exports[a151_0x2ea4c4(0xde)]=MDApiRemover;