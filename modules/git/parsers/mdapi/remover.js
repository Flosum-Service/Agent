function a148_0x4c77(_0x458d53,_0x39e759){const _0x52499b=a148_0x5ca8();return a148_0x4c77=function(_0x314f8e,_0x2ce380){_0x314f8e=_0x314f8e-0x141;let _0x5ca89a=_0x52499b[_0x314f8e];return _0x5ca89a;},a148_0x4c77(_0x458d53,_0x39e759);}const a148_0x57773a=a148_0x4c77;(function(_0x182b40,_0x549300){const _0x23f34e=a148_0x4c77,_0x595277=_0x182b40();while(!![]){try{const _0x262993=parseInt(_0x23f34e(0x141))/0x1*(-parseInt(_0x23f34e(0x14b))/0x2)+-parseInt(_0x23f34e(0x179))/0x3+parseInt(_0x23f34e(0x169))/0x4+parseInt(_0x23f34e(0x147))/0x5*(parseInt(_0x23f34e(0x174))/0x6)+-parseInt(_0x23f34e(0x164))/0x7*(parseInt(_0x23f34e(0x15b))/0x8)+parseInt(_0x23f34e(0x162))/0x9+parseInt(_0x23f34e(0x175))/0xa*(parseInt(_0x23f34e(0x150))/0xb);if(_0x262993===_0x549300)break;else _0x595277['push'](_0x595277['shift']());}catch(_0x219de7){_0x595277['push'](_0x595277['shift']());}}}(a148_0x5ca8,0x964fb));const a148_0x2ce380=(function(){let _0x4a5823=!![];return function(_0x4a4258,_0x11354e){const _0x3a756f=_0x4a5823?function(){const _0x2522e6=a148_0x4c77;if(_0x11354e){const _0x28b219=_0x11354e[_0x2522e6(0x17d)](_0x4a4258,arguments);return _0x11354e=null,_0x28b219;}}:function(){};return _0x4a5823=![],_0x3a756f;};}()),a148_0x314f8e=a148_0x2ce380(this,function(){const _0x343e67=a148_0x4c77;return a148_0x314f8e[_0x343e67(0x181)]()[_0x343e67(0x16e)]('(((.+)+)+)+$')[_0x343e67(0x181)]()[_0x343e67(0x154)](a148_0x314f8e)['search'](_0x343e67(0x176));});a148_0x314f8e();'use strict';var __importDefault=this&&this[a148_0x57773a(0x185)]||function(_0x381172){const _0x34187a=a148_0x57773a;return _0x381172&&_0x381172[_0x34187a(0x142)]?_0x381172:{'default':_0x381172};};Object[a148_0x57773a(0x15a)](exports,a148_0x57773a(0x142),{'value':!![]}),exports['MDApiRemover']=void 0x0;const fs_internal_1=require(a148_0x57773a(0x16d)),core_1=require(a148_0x57773a(0x152)),xml_v2_1=require('../utils/xml-v2'),child_types_1=__importDefault(require(a148_0x57773a(0x15d))),child_types_map_1=__importDefault(require(a148_0x57773a(0x184))),path_1=__importDefault(require(a148_0x57773a(0x157)));function a148_0x5ca8(){const _0x45d60b=['parentComponents','../../internal/fs.internal','search','remove\x20component\x20directory\x20%s\x20[%s]','splice','name','start','removeChild','1244946EaXbpb','751830zRXUwm','(((.+)+)+)+$','removeParent','join','958245TEQPsF','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','logger','remove\x20parent\x20component\x20%s\x20[%s]','apply','catch','length','log','toString','removeFile','pop','../data/child-types-map','__importDefault','49wywbsj','__esModule','convertToString','split','includes','fileName','25RdvrPU','makeDir','site-meta.xml','removeDir','26938wbzeoI','components','remove\x20child\x20component\x20%s\x20[%s]','default','isDir','55psMACr','META_EXPERIENCE_BUNDLE','../../../../core','writeFile','constructor','Unknown\x20child\x20type\x20','sourceDir','path','parse','META_EXTENSION','defineProperty','808poaAZM','type','../data/child-types','removeAt','keys','MAX_WRITES_PER_TICK','readFile','7633188AqEHCc','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','60487neZmSa','exists','have\x20to\x20update\x20%d\x20files','Logger','all','825240JraCoC','-meta.xml','XmlV2'];a148_0x5ca8=function(){return _0x45d60b;};return a148_0x5ca8();}class MDApiRemover{constructor(_0x2cea22,_0x536173){const _0x19347e=a148_0x57773a;this[_0x19347e(0x14c)]=_0x2cea22,this[_0x19347e(0x156)]=_0x536173,this[_0x19347e(0x159)]=_0x19347e(0x16a),this[_0x19347e(0x151)]=_0x19347e(0x149),this[_0x19347e(0x160)]=0x64,this[_0x19347e(0x17b)]=new core_1[(_0x19347e(0x167))](MDApiRemover[_0x19347e(0x171)]),this['parentComponents']={};}async[a148_0x57773a(0x177)](_0x1dedd8){const _0x1cc887=a148_0x57773a,_0x43e982=path_1[_0x1cc887(0x14e)]['join'](this['sourceDir'],_0x1dedd8['path']),_0x5989a1=path_1[_0x1cc887(0x14e)]['join'](this['sourceDir'],''+_0x1dedd8['path']+this[_0x1cc887(0x159)]);this[_0x1cc887(0x16c)][_0x1dedd8['path']]&&delete this[_0x1cc887(0x16c)][_0x1dedd8[_0x1cc887(0x157)]];const _0x1b7ae0=await fs_internal_1['FS'][_0x1cc887(0x14f)](_0x43e982)[_0x1cc887(0x17e)](()=>![]);if(_0x1b7ae0){this[_0x1cc887(0x17b)][_0x1cc887(0x180)](_0x1cc887(0x16f),_0x43e982,_0x1dedd8[_0x1cc887(0x15c)]),await fs_internal_1['FS'][_0x1cc887(0x14a)](_0x43e982);_0x1dedd8[_0x1cc887(0x15c)]==='ExperienceBundle'?await fs_internal_1['FS'][_0x1cc887(0x182)](''+_0x43e982+this[_0x1cc887(0x151)])['catch'](()=>void 0x0):(this[_0x1cc887(0x17b)][_0x1cc887(0x180)](_0x1cc887(0x17a),_0x43e982,_0x1dedd8[_0x1cc887(0x15c)]),await fs_internal_1['FS'][_0x1cc887(0x182)](''+_0x43e982+this[_0x1cc887(0x159)])[_0x1cc887(0x17e)](()=>void 0x0));return;}this['logger']['log']('remove\x20component\x20\x20%s\x20[%s]',_0x43e982,_0x1dedd8[_0x1cc887(0x15c)]),await Promise[_0x1cc887(0x168)]([fs_internal_1['FS'][_0x1cc887(0x182)](_0x43e982),fs_internal_1['FS'][_0x1cc887(0x182)](_0x5989a1)]);}async[a148_0x57773a(0x173)](_0xda5ecf){const _0x43fbe4=a148_0x57773a,{fileName:_0x4b20e8,type:_0x22fff4,path:_0x3bf81b}=_0xda5ecf,_0x783a77=child_types_map_1[_0x43fbe4(0x14e)][_0x22fff4];if(!_0x783a77)throw new Error(_0x43fbe4(0x155)+_0x22fff4);if(!this[_0x43fbe4(0x16c)][_0x3bf81b]){const _0x21b800=path_1[_0x43fbe4(0x14e)]['join'](this[_0x43fbe4(0x156)],_0x3bf81b),_0x8c1a24=await fs_internal_1['FS']['exists'](_0x21b800);if(!_0x8c1a24)return;const _0x4f3717=await fs_internal_1['FS'][_0x43fbe4(0x161)](_0x21b800);this[_0x43fbe4(0x16c)][_0x3bf81b]=await xml_v2_1[_0x43fbe4(0x16b)][_0x43fbe4(0x158)](_0x4f3717);}const _0x1a158d=this[_0x43fbe4(0x16c)][_0x3bf81b],_0x5409e5=_0x4b20e8[_0x43fbe4(0x144)]('.')[_0x43fbe4(0x183)]();xml_v2_1[_0x43fbe4(0x16b)][_0x43fbe4(0x15e)](_0x1a158d,_0x783a77,_0x5409e5||_0x4b20e8),xml_v2_1[_0x43fbe4(0x16b)]['isEmptyXml'](_0x1a158d)?(this[_0x43fbe4(0x17b)][_0x43fbe4(0x180)](_0x43fbe4(0x163),_0xda5ecf['path'],_0xda5ecf[_0x43fbe4(0x146)]),await this[_0x43fbe4(0x177)](_0xda5ecf),delete this['parentComponents'][_0x3bf81b]):this[_0x43fbe4(0x16c)][_0x3bf81b]=_0x1a158d;}async[a148_0x57773a(0x172)](){const _0x30646b=a148_0x57773a;!await fs_internal_1['FS'][_0x30646b(0x165)](this['sourceDir'])&&await fs_internal_1['FS'][_0x30646b(0x148)](this['sourceDir']);for(const _0x4ae9d9 of this[_0x30646b(0x14c)]){!child_types_1[_0x30646b(0x14e)][_0x30646b(0x145)](_0x4ae9d9[_0x30646b(0x15c)])?(this[_0x30646b(0x17b)][_0x30646b(0x180)](_0x30646b(0x17c),_0x4ae9d9[_0x30646b(0x146)],_0x4ae9d9[_0x30646b(0x15c)]),await this[_0x30646b(0x177)](_0x4ae9d9)):(this[_0x30646b(0x17b)][_0x30646b(0x180)](_0x30646b(0x14d),_0x4ae9d9['fileName'],_0x4ae9d9[_0x30646b(0x15c)]),await this['removeChild'](_0x4ae9d9));}const _0x5dd76e=Object[_0x30646b(0x15f)](this[_0x30646b(0x16c)]);this[_0x30646b(0x17b)][_0x30646b(0x180)](_0x30646b(0x166),this[_0x30646b(0x14c)][_0x30646b(0x17f)]);while(_0x5dd76e[_0x30646b(0x17f)]){const _0x228e96=_0x5dd76e[_0x30646b(0x170)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x19fe8e of _0x228e96){await fs_internal_1['FS'][_0x30646b(0x153)](path_1['default'][_0x30646b(0x178)](this['sourceDir'],_0x19fe8e),xml_v2_1[_0x30646b(0x16b)][_0x30646b(0x143)](this[_0x30646b(0x16c)][_0x19fe8e]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;