const a147_0xf08dd5=a147_0x423b;(function(_0x55190c,_0x2c3d00){const _0x16384e=a147_0x423b,_0x293ac7=_0x55190c();while(!![]){try{const _0x737257=-parseInt(_0x16384e(0x208))/0x1*(parseInt(_0x16384e(0x210))/0x2)+-parseInt(_0x16384e(0x1d2))/0x3*(parseInt(_0x16384e(0x1e7))/0x4)+-parseInt(_0x16384e(0x1e5))/0x5+parseInt(_0x16384e(0x1d0))/0x6+-parseInt(_0x16384e(0x204))/0x7*(parseInt(_0x16384e(0x1d9))/0x8)+parseInt(_0x16384e(0x1f2))/0x9*(-parseInt(_0x16384e(0x1f1))/0xa)+parseInt(_0x16384e(0x1f4))/0xb;if(_0x737257===_0x2c3d00)break;else _0x293ac7['push'](_0x293ac7['shift']());}catch(_0xc9c6a7){_0x293ac7['push'](_0x293ac7['shift']());}}}(a147_0x5431,0x2bedc));function a147_0x423b(_0x1d710a,_0x3a6171){const _0x523e86=a147_0x5431();return a147_0x423b=function(_0x26644d,_0xd23ffc){_0x26644d=_0x26644d-0x1ce;let _0x543113=_0x523e86[_0x26644d];return _0x543113;},a147_0x423b(_0x1d710a,_0x3a6171);}const a147_0xd23ffc=(function(){let _0x3ce3d5=!![];return function(_0x233e1b,_0x35cb76){const _0x28e362=_0x3ce3d5?function(){const _0x112a85=a147_0x423b;if(_0x35cb76){const _0x14ee0a=_0x35cb76[_0x112a85(0x1dc)](_0x233e1b,arguments);return _0x35cb76=null,_0x14ee0a;}}:function(){};return _0x3ce3d5=![],_0x28e362;};}()),a147_0x26644d=a147_0xd23ffc(this,function(){const _0x39698a=a147_0x423b;return a147_0x26644d[_0x39698a(0x202)]()[_0x39698a(0x20c)](_0x39698a(0x201))[_0x39698a(0x202)]()[_0x39698a(0x1e9)](a147_0x26644d)['search'](_0x39698a(0x201));});function a147_0x5431(){const _0x41f6a8=['../utils/xml-v2','sourceDir','857646TjKxJL','log','3yAOoCj','splice','pop','MDApiRemover','includes','path','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','216tbuPVx','removeDir','readFile','apply','removeFile','ExperienceBundle','defineProperty','convertToString','makeDir','join','start','__esModule','1450105cocCUC','../data/child-types-map','605092ajWUfc','parentComponents','constructor','writeFile','META_EXPERIENCE_BUNDLE','removeParent','../../internal/fs.internal','remove\x20parent\x20component\x20%s\x20[%s]','Unknown\x20child\x20type\x20','fileName','2585510mLkcRv','9EUlLvK','all','11621610SxRVqt','parse','exists','have\x20to\x20update\x20%d\x20files','XmlV2','../../../../core','logger','__importDefault','-meta.xml','remove\x20child\x20component\x20%s\x20[%s]','isEmptyXml','MAX_WRITES_PER_TICK','META_EXTENSION','(((.+)+)+)+$','toString','isDir','30849NAeYne','catch','removeAt','components','787uYHXTw','length','removeChild','type','search','name','Logger','split','510qBexfo','default'];a147_0x5431=function(){return _0x41f6a8;};return a147_0x5431();}a147_0x26644d();'use strict';var __importDefault=this&&this[a147_0xf08dd5(0x1fb)]||function(_0x403613){return _0x403613&&_0x403613['__esModule']?_0x403613:{'default':_0x403613};};Object[a147_0xf08dd5(0x1df)](exports,a147_0xf08dd5(0x1e4),{'value':!![]}),exports[a147_0xf08dd5(0x1d5)]=void 0x0;const fs_internal_1=require(a147_0xf08dd5(0x1ed)),core_1=require(a147_0xf08dd5(0x1f9)),xml_v2_1=require(a147_0xf08dd5(0x1ce)),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a147_0xf08dd5(0x1e6))),path_1=__importDefault(require(a147_0xf08dd5(0x1d7)));class MDApiRemover{constructor(_0x11ee55,_0xb9c91b){const _0x73846c=a147_0xf08dd5;this['components']=_0x11ee55,this[_0x73846c(0x1cf)]=_0xb9c91b,this[_0x73846c(0x200)]=_0x73846c(0x1fc),this[_0x73846c(0x1eb)]='site-meta.xml',this[_0x73846c(0x1ff)]=0x64,this[_0x73846c(0x1fa)]=new core_1[(_0x73846c(0x20e))](MDApiRemover[_0x73846c(0x20d)]),this[_0x73846c(0x1e8)]={};}async[a147_0xf08dd5(0x1ec)](_0x2539a7){const _0x54ebaf=a147_0xf08dd5,_0x4ce5e9=path_1[_0x54ebaf(0x211)][_0x54ebaf(0x1e2)](this[_0x54ebaf(0x1cf)],_0x2539a7['path']),_0x3685c0=path_1[_0x54ebaf(0x211)][_0x54ebaf(0x1e2)](this[_0x54ebaf(0x1cf)],''+_0x2539a7[_0x54ebaf(0x1d7)]+this[_0x54ebaf(0x200)]);this[_0x54ebaf(0x1e8)][_0x2539a7['path']]&&delete this[_0x54ebaf(0x1e8)][_0x2539a7['path']];const _0x10a006=await fs_internal_1['FS'][_0x54ebaf(0x203)](_0x4ce5e9)['catch'](()=>![]);if(_0x10a006){this[_0x54ebaf(0x1fa)][_0x54ebaf(0x1d1)]('remove\x20component\x20directory\x20%s\x20[%s]',_0x4ce5e9,_0x2539a7[_0x54ebaf(0x20b)]),await fs_internal_1['FS'][_0x54ebaf(0x1da)](_0x4ce5e9);_0x2539a7[_0x54ebaf(0x20b)]===_0x54ebaf(0x1de)?await fs_internal_1['FS'][_0x54ebaf(0x1dd)](''+_0x4ce5e9+this[_0x54ebaf(0x1eb)])[_0x54ebaf(0x205)](()=>void 0x0):(this[_0x54ebaf(0x1fa)][_0x54ebaf(0x1d1)](_0x54ebaf(0x1d8),_0x4ce5e9,_0x2539a7[_0x54ebaf(0x20b)]),await fs_internal_1['FS']['removeFile'](''+_0x4ce5e9+this[_0x54ebaf(0x200)])[_0x54ebaf(0x205)](()=>void 0x0));return;}this[_0x54ebaf(0x1fa)]['log']('remove\x20component\x20\x20%s\x20[%s]',_0x4ce5e9,_0x2539a7[_0x54ebaf(0x20b)]),await Promise[_0x54ebaf(0x1f3)]([fs_internal_1['FS'][_0x54ebaf(0x1dd)](_0x4ce5e9),fs_internal_1['FS']['removeFile'](_0x3685c0)]);}async[a147_0xf08dd5(0x20a)](_0x1002c7){const _0x2fe579=a147_0xf08dd5,{fileName:_0x454a6b,type:_0x4496e6,path:_0x850f19}=_0x1002c7,_0x39411c=child_types_map_1['default'][_0x4496e6];if(!_0x39411c)throw new Error(_0x2fe579(0x1ef)+_0x4496e6);if(!this['parentComponents'][_0x850f19]){const _0x1b0cd4=path_1['default'][_0x2fe579(0x1e2)](this[_0x2fe579(0x1cf)],_0x850f19),_0x25e6f2=await fs_internal_1['FS'][_0x2fe579(0x1f6)](_0x1b0cd4);if(!_0x25e6f2)return;const _0x537f0e=await fs_internal_1['FS'][_0x2fe579(0x1db)](_0x1b0cd4);this[_0x2fe579(0x1e8)][_0x850f19]=await xml_v2_1[_0x2fe579(0x1f8)][_0x2fe579(0x1f5)](_0x537f0e);}const _0x409014=this[_0x2fe579(0x1e8)][_0x850f19],_0x3eb6f4=_0x454a6b[_0x2fe579(0x20f)]('.')[_0x2fe579(0x1d4)]();xml_v2_1[_0x2fe579(0x1f8)][_0x2fe579(0x206)](_0x409014,_0x39411c,_0x3eb6f4||_0x454a6b),xml_v2_1[_0x2fe579(0x1f8)][_0x2fe579(0x1fe)](_0x409014)?(this[_0x2fe579(0x1fa)][_0x2fe579(0x1d1)]('remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x1002c7['path'],_0x1002c7[_0x2fe579(0x1f0)]),await this['removeParent'](_0x1002c7),delete this['parentComponents'][_0x850f19]):this[_0x2fe579(0x1e8)][_0x850f19]=_0x409014;}async[a147_0xf08dd5(0x1e3)](){const _0x5a1b74=a147_0xf08dd5;!await fs_internal_1['FS'][_0x5a1b74(0x1f6)](this[_0x5a1b74(0x1cf)])&&await fs_internal_1['FS'][_0x5a1b74(0x1e1)](this[_0x5a1b74(0x1cf)]);for(const _0x2359cb of this[_0x5a1b74(0x207)]){!child_types_1[_0x5a1b74(0x211)][_0x5a1b74(0x1d6)](_0x2359cb[_0x5a1b74(0x20b)])?(this[_0x5a1b74(0x1fa)]['log'](_0x5a1b74(0x1ee),_0x2359cb[_0x5a1b74(0x1f0)],_0x2359cb[_0x5a1b74(0x20b)]),await this[_0x5a1b74(0x1ec)](_0x2359cb)):(this[_0x5a1b74(0x1fa)][_0x5a1b74(0x1d1)](_0x5a1b74(0x1fd),_0x2359cb['fileName'],_0x2359cb[_0x5a1b74(0x20b)]),await this[_0x5a1b74(0x20a)](_0x2359cb));}const _0x2b419f=Object['keys'](this['parentComponents']);this[_0x5a1b74(0x1fa)][_0x5a1b74(0x1d1)](_0x5a1b74(0x1f7),this[_0x5a1b74(0x207)][_0x5a1b74(0x209)]);while(_0x2b419f[_0x5a1b74(0x209)]){const _0x1e50c4=_0x2b419f[_0x5a1b74(0x1d3)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x3771e4 of _0x1e50c4){await fs_internal_1['FS'][_0x5a1b74(0x1ea)](path_1[_0x5a1b74(0x211)][_0x5a1b74(0x1e2)](this[_0x5a1b74(0x1cf)],_0x3771e4),xml_v2_1[_0x5a1b74(0x1f8)][_0x5a1b74(0x1e0)](this[_0x5a1b74(0x1e8)][_0x3771e4]));}}this[_0x5a1b74(0x1e8)]={};}}exports[a147_0xf08dd5(0x1d5)]=MDApiRemover;