function a116_0xb24d(){const _0x16c8f0=['../data/child-types-map','includes','makeDir','catch','apply','type','4574948MeLbGu','__esModule','515686XraOTN','removeDir','../data/child-types','path','isDir','5ICORqI','writeFile','split','__importDefault','MAX_WRITES_PER_TICK','Xml','convertToString','fileName','default','removeChild','remove\x20component\x20\x20%s\x20[%s]','ExperienceBundle','MDApiRemover','1710657heUQmZ','pop','removeFile','remove\x20parent\x20component\x20%s\x20[%s]','../utils/xml','logger','parse','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','Unknown\x20child\x20type\x20','toString','all','constructor','components','join','removeParent','sourceDir','readFile','remove\x20component\x20directory\x20%s\x20[%s]','exists','isEmptyXml','name','parentComponents','defineProperty','2534408YYkzFd','(((.+)+)+)+$','128kXFJxA','log','start','removeAt','247310uDtyjQ','5875836AxvYnL','META_EXTENSION','search','META_EXPERIENCE_BUNDLE','2037099eCpHXS','length','../../../../core'];a116_0xb24d=function(){return _0x16c8f0;};return a116_0xb24d();}const a116_0x933018=a116_0x4b61;function a116_0x4b61(_0x1ded4c,_0x2eef7e){const _0x342f21=a116_0xb24d();return a116_0x4b61=function(_0x5b8085,_0x524125){_0x5b8085=_0x5b8085-0x7e;let _0xb24d73=_0x342f21[_0x5b8085];return _0xb24d73;},a116_0x4b61(_0x1ded4c,_0x2eef7e);}(function(_0x5929e1,_0x120577){const _0x4bf71f=a116_0x4b61,_0x31ab3e=_0x5929e1();while(!![]){try{const _0x1892aa=parseInt(_0x4bf71f(0x8c))/0x1+parseInt(_0x4bf71f(0xbb))/0x2+parseInt(_0x4bf71f(0x81))/0x3+parseInt(_0x4bf71f(0xb5))/0x4+-parseInt(_0x4bf71f(0x91))/0x5*(-parseInt(_0x4bf71f(0xbc))/0x6)+parseInt(_0x4bf71f(0x8a))/0x7+parseInt(_0x4bf71f(0xb7))/0x8*(-parseInt(_0x4bf71f(0x9e))/0x9);if(_0x1892aa===_0x120577)break;else _0x31ab3e['push'](_0x31ab3e['shift']());}catch(_0x12fef8){_0x31ab3e['push'](_0x31ab3e['shift']());}}}(a116_0xb24d,0x84bbe));const a116_0x524125=(function(){let _0x139448=!![];return function(_0x588ac2,_0x243f35){const _0x2b625a=_0x139448?function(){const _0x47bbad=a116_0x4b61;if(_0x243f35){const _0x55623a=_0x243f35[_0x47bbad(0x88)](_0x588ac2,arguments);return _0x243f35=null,_0x55623a;}}:function(){};return _0x139448=![],_0x2b625a;};}()),a116_0x5b8085=a116_0x524125(this,function(){const _0x2eb3df=a116_0x4b61;return a116_0x5b8085[_0x2eb3df(0xa7)]()['search'](_0x2eb3df(0xb6))[_0x2eb3df(0xa7)]()[_0x2eb3df(0xa9)](a116_0x5b8085)[_0x2eb3df(0x7f)](_0x2eb3df(0xb6));});a116_0x5b8085();'use strict';var __importDefault=this&&this[a116_0x933018(0x94)]||function(_0x2d581d){const _0xfa9a10=a116_0x933018;return _0x2d581d&&_0x2d581d[_0xfa9a10(0x8b)]?_0x2d581d:{'default':_0x2d581d};};Object[a116_0x933018(0xb4)](exports,a116_0x933018(0x8b),{'value':!![]}),exports[a116_0x933018(0x9d)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a116_0x933018(0x83)),xml_1=require(a116_0x933018(0xa2)),child_types_1=__importDefault(require(a116_0x933018(0x8e))),child_types_map_1=__importDefault(require(a116_0x933018(0x84))),path_1=__importDefault(require('path'));class MDApiRemover{constructor(_0x1a4bb9,_0x3c5fb0){const _0x2f6ae4=a116_0x933018;this[_0x2f6ae4(0xaa)]=_0x1a4bb9,this[_0x2f6ae4(0xad)]=_0x3c5fb0,this[_0x2f6ae4(0x7e)]='-meta.xml',this[_0x2f6ae4(0x80)]='site-meta.xml',this['MAX_WRITES_PER_TICK']=0x64,this[_0x2f6ae4(0xa3)]=new core_1['Logger'](MDApiRemover[_0x2f6ae4(0xb2)]),this[_0x2f6ae4(0xb3)]={};}async['removeParent'](_0x4e59eb){const _0x1f5b38=a116_0x933018,_0x3697d9=path_1['default']['join'](this['sourceDir'],_0x4e59eb[_0x1f5b38(0x8f)]),_0x372cc3=path_1[_0x1f5b38(0x99)][_0x1f5b38(0xab)](this['sourceDir'],''+_0x4e59eb[_0x1f5b38(0x8f)]+this[_0x1f5b38(0x7e)]);this[_0x1f5b38(0xb3)][_0x4e59eb['path']]&&delete this['parentComponents'][_0x4e59eb[_0x1f5b38(0x8f)]];const _0x4cb09d=await fs_internal_1['FS'][_0x1f5b38(0x90)](_0x3697d9)[_0x1f5b38(0x87)](()=>![]);if(_0x4cb09d){this['logger']['log'](_0x1f5b38(0xaf),_0x3697d9,_0x4e59eb[_0x1f5b38(0x89)]),await fs_internal_1['FS'][_0x1f5b38(0x8d)](_0x3697d9);_0x4e59eb[_0x1f5b38(0x89)]===_0x1f5b38(0x9c)?await fs_internal_1['FS']['removeFile'](''+_0x3697d9+this[_0x1f5b38(0x80)])['catch'](()=>void 0x0):(this['logger'][_0x1f5b38(0xb8)](_0x1f5b38(0xa5),_0x3697d9,_0x4e59eb['type']),await fs_internal_1['FS'][_0x1f5b38(0xa0)](''+_0x3697d9+this[_0x1f5b38(0x7e)])['catch'](()=>void 0x0));return;}this[_0x1f5b38(0xa3)][_0x1f5b38(0xb8)](_0x1f5b38(0x9b),_0x3697d9,_0x4e59eb[_0x1f5b38(0x89)]),await Promise[_0x1f5b38(0xa8)]([fs_internal_1['FS']['removeFile'](_0x3697d9),fs_internal_1['FS'][_0x1f5b38(0xa0)](_0x372cc3)]);}async[a116_0x933018(0x9a)](_0x558460){const _0x19e656=a116_0x933018,{fileName:_0x52eb33,type:_0x55f81a,path:_0x593c91}=_0x558460,_0x21dce9=child_types_map_1['default'][_0x55f81a];if(!_0x21dce9)throw new Error(_0x19e656(0xa6)+_0x55f81a);if(!this['parentComponents'][_0x593c91]){const _0x3de091=path_1[_0x19e656(0x99)]['join'](this['sourceDir'],_0x593c91),_0x4e7878=await fs_internal_1['FS'][_0x19e656(0xb0)](_0x3de091);if(!_0x4e7878)return;const _0x1c95df=await fs_internal_1['FS'][_0x19e656(0xae)](_0x3de091);this[_0x19e656(0xb3)][_0x593c91]=await xml_1[_0x19e656(0x96)][_0x19e656(0xa4)](_0x1c95df);}const _0x5d953f=this[_0x19e656(0xb3)][_0x593c91],_0x464a15=_0x52eb33[_0x19e656(0x93)]('.')[_0x19e656(0x9f)]();xml_1['Xml'][_0x19e656(0xba)](_0x5d953f,_0x21dce9,_0x464a15||_0x52eb33),xml_1[_0x19e656(0x96)][_0x19e656(0xb1)](_0x5d953f)?(this['logger']['log']('remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]',_0x558460['path'],_0x558460[_0x19e656(0x98)]),await this[_0x19e656(0xac)](_0x558460),delete this[_0x19e656(0xb3)][_0x593c91]):this[_0x19e656(0xb3)][_0x593c91]=_0x5d953f;}async[a116_0x933018(0xb9)](){const _0x39d985=a116_0x933018;!await fs_internal_1['FS'][_0x39d985(0xb0)](this[_0x39d985(0xad)])&&await fs_internal_1['FS'][_0x39d985(0x86)](this['sourceDir']);for(const _0x22337d of this[_0x39d985(0xaa)]){!child_types_1['default'][_0x39d985(0x85)](_0x22337d['type'])?(this['logger'][_0x39d985(0xb8)](_0x39d985(0xa1),_0x22337d['fileName'],_0x22337d[_0x39d985(0x89)]),await this[_0x39d985(0xac)](_0x22337d)):(this[_0x39d985(0xa3)][_0x39d985(0xb8)]('remove\x20child\x20component\x20%s\x20[%s]',_0x22337d[_0x39d985(0x98)],_0x22337d[_0x39d985(0x89)]),await this['removeChild'](_0x22337d));}const _0x55ae90=Object['keys'](this[_0x39d985(0xb3)]);this['logger']['log']('have\x20to\x20update\x20%d\x20files',this[_0x39d985(0xaa)][_0x39d985(0x82)]);while(_0x55ae90[_0x39d985(0x82)]){const _0x3c00bf=_0x55ae90['splice'](0x0,this[_0x39d985(0x95)]);for(const _0x160f11 of _0x3c00bf){await fs_internal_1['FS'][_0x39d985(0x92)](path_1[_0x39d985(0x99)][_0x39d985(0xab)](this[_0x39d985(0xad)],_0x160f11),xml_1[_0x39d985(0x96)][_0x39d985(0x97)](this[_0x39d985(0xb3)][_0x160f11]));}}this['parentComponents']={};}}exports['MDApiRemover']=MDApiRemover;