const a148_0x25db9c=a148_0x4c62;function a148_0x4c62(_0x2e79d9,_0x3810c1){const _0xc2ea57=a148_0x3e4a();return a148_0x4c62=function(_0x526d44,_0x133908){_0x526d44=_0x526d44-0x156;let _0x3e4af9=_0xc2ea57[_0x526d44];return _0x3e4af9;},a148_0x4c62(_0x2e79d9,_0x3810c1);}(function(_0x571419,_0xe913d9){const _0x43799d=a148_0x4c62,_0x10bf37=_0x571419();while(!![]){try{const _0x1f5895=-parseInt(_0x43799d(0x176))/0x1+-parseInt(_0x43799d(0x164))/0x2*(parseInt(_0x43799d(0x194))/0x3)+parseInt(_0x43799d(0x169))/0x4+parseInt(_0x43799d(0x17c))/0x5*(parseInt(_0x43799d(0x17a))/0x6)+-parseInt(_0x43799d(0x173))/0x7*(parseInt(_0x43799d(0x177))/0x8)+-parseInt(_0x43799d(0x192))/0x9+-parseInt(_0x43799d(0x185))/0xa*(-parseInt(_0x43799d(0x16d))/0xb);if(_0x1f5895===_0xe913d9)break;else _0x10bf37['push'](_0x10bf37['shift']());}catch(_0x9afa37){_0x10bf37['push'](_0x10bf37['shift']());}}}(a148_0x3e4a,0xa0ffe));const a148_0x133908=(function(){let _0x388722=!![];return function(_0x17260c,_0x3b6547){const _0x428d37=_0x388722?function(){const _0x3d6da5=a148_0x4c62;if(_0x3b6547){const _0x59c93e=_0x3b6547[_0x3d6da5(0x186)](_0x17260c,arguments);return _0x3b6547=null,_0x59c93e;}}:function(){};return _0x388722=![],_0x428d37;};}()),a148_0x526d44=a148_0x133908(this,function(){const _0x14a937=a148_0x4c62;return a148_0x526d44['toString']()[_0x14a937(0x18e)]('(((.+)+)+)+$')[_0x14a937(0x183)]()[_0x14a937(0x158)](a148_0x526d44)['search'](_0x14a937(0x15f));});a148_0x526d44();'use strict';function a148_0x3e4a(){const _0x5c77d2=['search','keys','sourceDir','have\x20to\x20update\x20%d\x20files','7168086MmoKpC','type','6qqETTm','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','site-meta.xml','removeFile','writeFile','constructor','path','ExperienceBundle','components','removeAt','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','Unknown\x20child\x20type\x20','(((.+)+)+)+$','META_EXPERIENCE_BUNDLE','__importDefault','META_EXTENSION','../../../../core','518554ViOXeH','name','XmlV2','parentComponents','readFile','2771588PzHzsX','includes','removeChild','__esModule','11QwFEWe','-meta.xml','parse','convertToString','remove\x20component\x20directory\x20%s\x20[%s]','../utils/xml-v2','609392OYRFVR','MAX_WRITES_PER_TICK','splice','601690gERVcL','8PASMcY','default','join','12522TpFMrA','length','2970OjwqNe','MDApiRemover','../../internal/fs.internal','all','defineProperty','remove\x20child\x20component\x20%s\x20[%s]','logger','toString','split','7306330Syuasi','apply','fileName','exists','removeDir','log','../data/child-types','removeParent','isDir'];a148_0x3e4a=function(){return _0x5c77d2;};return a148_0x3e4a();}var __importDefault=this&&this[a148_0x25db9c(0x161)]||function(_0x12451f){const _0x5cdddf=a148_0x25db9c;return _0x12451f&&_0x12451f[_0x5cdddf(0x16c)]?_0x12451f:{'default':_0x12451f};};Object[a148_0x25db9c(0x180)](exports,a148_0x25db9c(0x16c),{'value':!![]}),exports[a148_0x25db9c(0x17d)]=void 0x0;const fs_internal_1=require(a148_0x25db9c(0x17e)),core_1=require(a148_0x25db9c(0x163)),xml_v2_1=require(a148_0x25db9c(0x172)),child_types_1=__importDefault(require(a148_0x25db9c(0x18b))),child_types_map_1=__importDefault(require('../data/child-types-map')),path_1=__importDefault(require(a148_0x25db9c(0x159)));class MDApiRemover{constructor(_0x36ccb2,_0x204aab){const _0x28f273=a148_0x25db9c;this[_0x28f273(0x15b)]=_0x36ccb2,this[_0x28f273(0x190)]=_0x204aab,this[_0x28f273(0x162)]=_0x28f273(0x16e),this[_0x28f273(0x160)]=_0x28f273(0x196),this['MAX_WRITES_PER_TICK']=0x64,this[_0x28f273(0x182)]=new core_1['Logger'](MDApiRemover[_0x28f273(0x165)]),this[_0x28f273(0x167)]={};}async[a148_0x25db9c(0x18c)](_0x2cf78a){const _0x1e25dc=a148_0x25db9c,_0x3f7330=path_1[_0x1e25dc(0x178)][_0x1e25dc(0x179)](this[_0x1e25dc(0x190)],_0x2cf78a[_0x1e25dc(0x159)]),_0x29f737=path_1[_0x1e25dc(0x178)][_0x1e25dc(0x179)](this[_0x1e25dc(0x190)],''+_0x2cf78a[_0x1e25dc(0x159)]+this[_0x1e25dc(0x162)]);this[_0x1e25dc(0x167)][_0x2cf78a[_0x1e25dc(0x159)]]&&delete this[_0x1e25dc(0x167)][_0x2cf78a[_0x1e25dc(0x159)]];const _0x5f2686=await fs_internal_1['FS'][_0x1e25dc(0x18d)](_0x3f7330)['catch'](()=>![]);if(_0x5f2686){this['logger'][_0x1e25dc(0x18a)](_0x1e25dc(0x171),_0x3f7330,_0x2cf78a[_0x1e25dc(0x193)]),await fs_internal_1['FS'][_0x1e25dc(0x189)](_0x3f7330);_0x2cf78a[_0x1e25dc(0x193)]===_0x1e25dc(0x15a)?await fs_internal_1['FS']['removeFile'](''+_0x3f7330+this[_0x1e25dc(0x160)])['catch'](()=>void 0x0):(this['logger'][_0x1e25dc(0x18a)](_0x1e25dc(0x195),_0x3f7330,_0x2cf78a[_0x1e25dc(0x193)]),await fs_internal_1['FS']['removeFile'](''+_0x3f7330+this[_0x1e25dc(0x162)])['catch'](()=>void 0x0));return;}this[_0x1e25dc(0x182)][_0x1e25dc(0x18a)]('remove\x20component\x20\x20%s\x20[%s]',_0x3f7330,_0x2cf78a[_0x1e25dc(0x193)]),await Promise[_0x1e25dc(0x17f)]([fs_internal_1['FS'][_0x1e25dc(0x156)](_0x3f7330),fs_internal_1['FS'][_0x1e25dc(0x156)](_0x29f737)]);}async[a148_0x25db9c(0x16b)](_0x5b3a6d){const _0x342a4e=a148_0x25db9c,{fileName:_0x3e715f,type:_0xa3ad57,path:_0x253bf2}=_0x5b3a6d,_0xb3e13d=child_types_map_1[_0x342a4e(0x178)][_0xa3ad57];if(!_0xb3e13d)throw new Error(_0x342a4e(0x15e)+_0xa3ad57);if(!this[_0x342a4e(0x167)][_0x253bf2]){const _0x58c4dd=path_1['default'][_0x342a4e(0x179)](this[_0x342a4e(0x190)],_0x253bf2),_0x410e25=await fs_internal_1['FS']['exists'](_0x58c4dd);if(!_0x410e25)return;const _0x74654f=await fs_internal_1['FS'][_0x342a4e(0x168)](_0x58c4dd);this[_0x342a4e(0x167)][_0x253bf2]=await xml_v2_1[_0x342a4e(0x166)][_0x342a4e(0x16f)](_0x74654f);}const _0x3e0e01=this[_0x342a4e(0x167)][_0x253bf2],_0x2345da=_0x3e715f[_0x342a4e(0x184)]('.')['pop']();xml_v2_1[_0x342a4e(0x166)][_0x342a4e(0x15c)](_0x3e0e01,_0xb3e13d,_0x2345da||_0x3e715f),xml_v2_1[_0x342a4e(0x166)]['isEmptyXml'](_0x3e0e01)?(this['logger'][_0x342a4e(0x18a)](_0x342a4e(0x15d),_0x5b3a6d[_0x342a4e(0x159)],_0x5b3a6d[_0x342a4e(0x187)]),await this[_0x342a4e(0x18c)](_0x5b3a6d),delete this[_0x342a4e(0x167)][_0x253bf2]):this[_0x342a4e(0x167)][_0x253bf2]=_0x3e0e01;}async['start'](){const _0x513ae7=a148_0x25db9c;!await fs_internal_1['FS'][_0x513ae7(0x188)](this[_0x513ae7(0x190)])&&await fs_internal_1['FS']['makeDir'](this[_0x513ae7(0x190)]);for(const _0x14d681 of this['components']){!child_types_1[_0x513ae7(0x178)][_0x513ae7(0x16a)](_0x14d681[_0x513ae7(0x193)])?(this['logger'][_0x513ae7(0x18a)]('remove\x20parent\x20component\x20%s\x20[%s]',_0x14d681['fileName'],_0x14d681[_0x513ae7(0x193)]),await this['removeParent'](_0x14d681)):(this[_0x513ae7(0x182)]['log'](_0x513ae7(0x181),_0x14d681[_0x513ae7(0x187)],_0x14d681['type']),await this[_0x513ae7(0x16b)](_0x14d681));}const _0x17d562=Object[_0x513ae7(0x18f)](this[_0x513ae7(0x167)]);this[_0x513ae7(0x182)][_0x513ae7(0x18a)](_0x513ae7(0x191),this[_0x513ae7(0x15b)][_0x513ae7(0x17b)]);while(_0x17d562[_0x513ae7(0x17b)]){const _0x1b778e=_0x17d562[_0x513ae7(0x175)](0x0,this[_0x513ae7(0x174)]);for(const _0x1aefee of _0x1b778e){await fs_internal_1['FS'][_0x513ae7(0x157)](path_1[_0x513ae7(0x178)][_0x513ae7(0x179)](this[_0x513ae7(0x190)],_0x1aefee),xml_v2_1[_0x513ae7(0x166)][_0x513ae7(0x170)](this['parentComponents'][_0x1aefee]));}}this[_0x513ae7(0x167)]={};}}exports[a148_0x25db9c(0x17d)]=MDApiRemover;