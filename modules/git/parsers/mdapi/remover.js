function a151_0x2648(_0x383595,_0x23e486){const _0x55e5c4=a151_0x1b44();return a151_0x2648=function(_0x2566a3,_0x4dab81){_0x2566a3=_0x2566a3-0x19a;let _0x1b4445=_0x55e5c4[_0x2566a3];return _0x1b4445;},a151_0x2648(_0x383595,_0x23e486);}const a151_0x1c4571=a151_0x2648;(function(_0x35bd6d,_0x1f421d){const _0x32aba7=a151_0x2648,_0xf57a0c=_0x35bd6d();while(!![]){try{const _0x27c148=-parseInt(_0x32aba7(0x19c))/0x1+parseInt(_0x32aba7(0x1a2))/0x2+parseInt(_0x32aba7(0x1c8))/0x3+parseInt(_0x32aba7(0x1c3))/0x4*(-parseInt(_0x32aba7(0x19e))/0x5)+parseInt(_0x32aba7(0x1b3))/0x6*(parseInt(_0x32aba7(0x1c5))/0x7)+parseInt(_0x32aba7(0x19d))/0x8+parseInt(_0x32aba7(0x1cc))/0x9*(-parseInt(_0x32aba7(0x1c0))/0xa);if(_0x27c148===_0x1f421d)break;else _0xf57a0c['push'](_0xf57a0c['shift']());}catch(_0x58a278){_0xf57a0c['push'](_0xf57a0c['shift']());}}}(a151_0x1b44,0xb08ec));const a151_0x4dab81=(function(){let _0x1c2eb2=!![];return function(_0x41d2e5,_0x254fff){const _0x60ec1d=_0x1c2eb2?function(){const _0x30b614=a151_0x2648;if(_0x254fff){const _0xb4721b=_0x254fff[_0x30b614(0x1ae)](_0x41d2e5,arguments);return _0x254fff=null,_0xb4721b;}}:function(){};return _0x1c2eb2=![],_0x60ec1d;};}()),a151_0x2566a3=a151_0x4dab81(this,function(){const _0x626ce9=a151_0x2648;return a151_0x2566a3['toString']()[_0x626ce9(0x1d2)](_0x626ce9(0x1d3))[_0x626ce9(0x1a4)]()[_0x626ce9(0x1a8)](a151_0x2566a3)[_0x626ce9(0x1d2)](_0x626ce9(0x1d3));});a151_0x2566a3();function a151_0x1b44(){const _0x411b63=['join','4FSZUIr','split','882161JBkidk','__importDefault','remove\x20component\x20\x20%s\x20[%s]','1271859Zsyztl','remove\x20parent\x20component\x20%s\x20[%s]','log','convertToString','99kDjcsd','META_EXTENSION','ExperienceBundle','../../../../core','pop','path','search','(((.+)+)+)+$','MAX_WRITES_PER_TICK','fileName','site-meta.xml','type','parentComponents','removeChild','catch','222336eTDFna','4296640uDvSXS','3897640jgaLUz','isEmptyXml','../data/child-types','start','2115286ClDWfq','META_EXPERIENCE_BUNDLE','toString','../data/child-types-map','makeDir','removeAt','constructor','writeFile','Logger','components','remove\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isDir','apply','removeParent','XmlV2','-meta.xml','__esModule','30ITrDcZ','default','all','parse','MDApiRemover','readFile','Unknown\x20child\x20type\x20','sourceDir','length','defineProperty','have\x20to\x20update\x20%d\x20files','removeFile','logger','839770UpmmoA','name'];a151_0x1b44=function(){return _0x411b63;};return a151_0x1b44();}'use strict';var __importDefault=this&&this[a151_0x1c4571(0x1c6)]||function(_0x39e12c){const _0x1af258=a151_0x1c4571;return _0x39e12c&&_0x39e12c[_0x1af258(0x1b2)]?_0x39e12c:{'default':_0x39e12c};};Object[a151_0x1c4571(0x1bc)](exports,'__esModule',{'value':!![]}),exports[a151_0x1c4571(0x1b7)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),core_1=require(a151_0x1c4571(0x1cf)),xml_v2_1=require('../utils/xml-v2'),child_types_1=__importDefault(require(a151_0x1c4571(0x1a0))),child_types_map_1=__importDefault(require(a151_0x1c4571(0x1a5))),path_1=__importDefault(require(a151_0x1c4571(0x1d1)));class MDApiRemover{constructor(_0x34fe10,_0x1ab090){const _0x518cb8=a151_0x1c4571;this[_0x518cb8(0x1ab)]=_0x34fe10,this[_0x518cb8(0x1ba)]=_0x1ab090,this[_0x518cb8(0x1cd)]=_0x518cb8(0x1b1),this[_0x518cb8(0x1a3)]=_0x518cb8(0x1d6),this[_0x518cb8(0x1d4)]=0x64,this[_0x518cb8(0x1bf)]=new core_1[(_0x518cb8(0x1aa))](MDApiRemover[_0x518cb8(0x1c1)]),this['parentComponents']={};}async[a151_0x1c4571(0x1af)](_0xe94797){const _0x1edd71=a151_0x1c4571,_0x56d072=path_1['default']['join'](this[_0x1edd71(0x1ba)],_0xe94797[_0x1edd71(0x1d1)]),_0x1d0cdc=path_1[_0x1edd71(0x1b4)][_0x1edd71(0x1c2)](this['sourceDir'],''+_0xe94797[_0x1edd71(0x1d1)]+this[_0x1edd71(0x1cd)]);this[_0x1edd71(0x1d8)][_0xe94797[_0x1edd71(0x1d1)]]&&delete this[_0x1edd71(0x1d8)][_0xe94797['path']];const _0x4cc386=await fs_internal_1['FS'][_0x1edd71(0x1ad)](_0x56d072)['catch'](()=>![]);if(_0x4cc386){this['logger']['log']('remove\x20component\x20directory\x20%s\x20[%s]',_0x56d072,_0xe94797[_0x1edd71(0x1d7)]),await fs_internal_1['FS']['removeDir'](_0x56d072);_0xe94797[_0x1edd71(0x1d7)]===_0x1edd71(0x1ce)?await fs_internal_1['FS'][_0x1edd71(0x1be)](''+_0x56d072+this[_0x1edd71(0x1a3)])[_0x1edd71(0x19b)](()=>void 0x0):(this[_0x1edd71(0x1bf)][_0x1edd71(0x1ca)]('remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file',_0x56d072,_0xe94797[_0x1edd71(0x1d7)]),await fs_internal_1['FS']['removeFile'](''+_0x56d072+this[_0x1edd71(0x1cd)])['catch'](()=>void 0x0));return;}this[_0x1edd71(0x1bf)][_0x1edd71(0x1ca)](_0x1edd71(0x1c7),_0x56d072,_0xe94797['type']),await Promise[_0x1edd71(0x1b5)]([fs_internal_1['FS'][_0x1edd71(0x1be)](_0x56d072),fs_internal_1['FS'][_0x1edd71(0x1be)](_0x1d0cdc)]);}async[a151_0x1c4571(0x19a)](_0x40f9ab){const _0x576706=a151_0x1c4571,{fileName:_0x58086c,type:_0xd9a60,path:_0x3e8e8c}=_0x40f9ab,_0x5506dc=child_types_map_1[_0x576706(0x1b4)][_0xd9a60];if(!_0x5506dc)throw new Error(_0x576706(0x1b9)+_0xd9a60);if(!this['parentComponents'][_0x3e8e8c]){const _0x1b0b6b=path_1['default']['join'](this[_0x576706(0x1ba)],_0x3e8e8c),_0x4fe70a=await fs_internal_1['FS']['exists'](_0x1b0b6b);if(!_0x4fe70a)return;const _0x41c7b7=await fs_internal_1['FS'][_0x576706(0x1b8)](_0x1b0b6b);this[_0x576706(0x1d8)][_0x3e8e8c]=await xml_v2_1[_0x576706(0x1b0)][_0x576706(0x1b6)](_0x41c7b7);}const _0xe37937=this[_0x576706(0x1d8)][_0x3e8e8c],_0x1785d6=_0x58086c[_0x576706(0x1c4)]('.')[_0x576706(0x1d0)]();xml_v2_1[_0x576706(0x1b0)][_0x576706(0x1a7)](_0xe37937,_0x5506dc,_0x1785d6||_0x58086c),xml_v2_1[_0x576706(0x1b0)][_0x576706(0x19f)](_0xe37937)?(this['logger'][_0x576706(0x1ca)](_0x576706(0x1ac),_0x40f9ab['path'],_0x40f9ab[_0x576706(0x1d5)]),await this[_0x576706(0x1af)](_0x40f9ab),delete this[_0x576706(0x1d8)][_0x3e8e8c]):this[_0x576706(0x1d8)][_0x3e8e8c]=_0xe37937;}async[a151_0x1c4571(0x1a1)](){const _0x59e6df=a151_0x1c4571;!await fs_internal_1['FS']['exists'](this[_0x59e6df(0x1ba)])&&await fs_internal_1['FS'][_0x59e6df(0x1a6)](this[_0x59e6df(0x1ba)]);for(const _0x5cb7af of this['components']){!child_types_1['default']['includes'](_0x5cb7af[_0x59e6df(0x1d7)])?(this[_0x59e6df(0x1bf)][_0x59e6df(0x1ca)](_0x59e6df(0x1c9),_0x5cb7af['fileName'],_0x5cb7af[_0x59e6df(0x1d7)]),await this[_0x59e6df(0x1af)](_0x5cb7af)):(this[_0x59e6df(0x1bf)][_0x59e6df(0x1ca)]('remove\x20child\x20component\x20%s\x20[%s]',_0x5cb7af['fileName'],_0x5cb7af['type']),await this[_0x59e6df(0x19a)](_0x5cb7af));}const _0xa85aec=Object['keys'](this[_0x59e6df(0x1d8)]);this[_0x59e6df(0x1bf)][_0x59e6df(0x1ca)](_0x59e6df(0x1bd),this[_0x59e6df(0x1ab)]['length']);while(_0xa85aec[_0x59e6df(0x1bb)]){const _0xf09219=_0xa85aec['splice'](0x0,this[_0x59e6df(0x1d4)]);for(const _0x23b533 of _0xf09219){await fs_internal_1['FS'][_0x59e6df(0x1a9)](path_1[_0x59e6df(0x1b4)]['join'](this[_0x59e6df(0x1ba)],_0x23b533),xml_v2_1[_0x59e6df(0x1b0)][_0x59e6df(0x1cb)](this[_0x59e6df(0x1d8)][_0x23b533]));}}this[_0x59e6df(0x1d8)]={};}}exports['MDApiRemover']=MDApiRemover;