function a116_0x367b(_0x31509f,_0x485737){const _0x3e6d10=a116_0x4932();return a116_0x367b=function(_0x55e064,_0x1f3bba){_0x55e064=_0x55e064-0x147;let _0x493221=_0x3e6d10[_0x55e064];return _0x493221;},a116_0x367b(_0x31509f,_0x485737);}const a116_0x5f0d07=a116_0x367b;(function(_0x14a6c0,_0x146072){const _0x3ea408=a116_0x367b,_0x1698cf=_0x14a6c0();while(!![]){try{const _0x280d3d=-parseInt(_0x3ea408(0x154))/0x1+parseInt(_0x3ea408(0x181))/0x2*(-parseInt(_0x3ea408(0x172))/0x3)+-parseInt(_0x3ea408(0x157))/0x4*(parseInt(_0x3ea408(0x165))/0x5)+parseInt(_0x3ea408(0x16d))/0x6+-parseInt(_0x3ea408(0x162))/0x7+-parseInt(_0x3ea408(0x150))/0x8+parseInt(_0x3ea408(0x17b))/0x9;if(_0x280d3d===_0x146072)break;else _0x1698cf['push'](_0x1698cf['shift']());}catch(_0x4bc33e){_0x1698cf['push'](_0x1698cf['shift']());}}}(a116_0x4932,0x94e84));const a116_0x1f3bba=(function(){let _0x184670=!![];return function(_0xf579bd,_0x3adb06){const _0x368e7e=_0x184670?function(){if(_0x3adb06){const _0x1360db=_0x3adb06['apply'](_0xf579bd,arguments);return _0x3adb06=null,_0x1360db;}}:function(){};return _0x184670=![],_0x368e7e;};}()),a116_0x55e064=a116_0x1f3bba(this,function(){const _0x2ef509=a116_0x367b;return a116_0x55e064[_0x2ef509(0x160)]()[_0x2ef509(0x14d)](_0x2ef509(0x175))[_0x2ef509(0x160)]()[_0x2ef509(0x15f)](a116_0x55e064)[_0x2ef509(0x14d)](_0x2ef509(0x175));});a116_0x55e064();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x34a36){const _0x1fa8c1=a116_0x367b;return _0x34a36&&_0x34a36[_0x1fa8c1(0x17e)]?_0x34a36:{'default':_0x34a36};};Object[a116_0x5f0d07(0x156)](exports,'__esModule',{'value':!![]}),exports[a116_0x5f0d07(0x16f)]=void 0x0;const fs_internal_1=require(a116_0x5f0d07(0x183)),core_1=require(a116_0x5f0d07(0x169)),xml_1=require('../utils/xml'),child_types_1=__importDefault(require('../data/child-types')),child_types_map_1=__importDefault(require(a116_0x5f0d07(0x15a))),path_1=__importDefault(require(a116_0x5f0d07(0x168)));class MDApiRemover{constructor(_0x25a293,_0x41bbd0){const _0x532ffd=a116_0x5f0d07;this[_0x532ffd(0x15e)]=_0x25a293,this[_0x532ffd(0x14b)]=_0x41bbd0,this[_0x532ffd(0x17a)]='-meta.xml',this[_0x532ffd(0x153)]=_0x532ffd(0x179),this[_0x532ffd(0x148)]=0x64,this['logger']=new core_1['Logger'](MDApiRemover[_0x532ffd(0x163)]),this['parentComponents']={};}async[a116_0x5f0d07(0x164)](_0x29d2fe){const _0x465154=a116_0x5f0d07,_0x37b347=path_1[_0x465154(0x17d)][_0x465154(0x176)](this[_0x465154(0x14b)],_0x29d2fe[_0x465154(0x168)]),_0x31740b=path_1[_0x465154(0x17d)][_0x465154(0x176)](this[_0x465154(0x14b)],''+_0x29d2fe[_0x465154(0x168)]+this[_0x465154(0x17a)]);this[_0x465154(0x166)][_0x29d2fe[_0x465154(0x168)]]&&delete this['parentComponents'][_0x29d2fe[_0x465154(0x168)]];const _0x2c3fdc=await fs_internal_1['FS']['isDir'](_0x37b347)[_0x465154(0x171)](()=>![]);if(_0x2c3fdc){this['logger'][_0x465154(0x152)](_0x465154(0x14a),_0x37b347,_0x29d2fe[_0x465154(0x180)]),await fs_internal_1['FS'][_0x465154(0x182)](_0x37b347);_0x29d2fe[_0x465154(0x180)]===_0x465154(0x178)?await fs_internal_1['FS']['removeFile'](''+_0x37b347+this['META_EXPERIENCE_BUNDLE'])[_0x465154(0x171)](()=>void 0x0):(this[_0x465154(0x17f)][_0x465154(0x152)](_0x465154(0x16a),_0x37b347,_0x29d2fe[_0x465154(0x180)]),await fs_internal_1['FS'][_0x465154(0x147)](''+_0x37b347+this[_0x465154(0x17a)])[_0x465154(0x171)](()=>void 0x0));return;}this[_0x465154(0x17f)][_0x465154(0x152)](_0x465154(0x149),_0x37b347,_0x29d2fe[_0x465154(0x180)]),await Promise['all']([fs_internal_1['FS'][_0x465154(0x147)](_0x37b347),fs_internal_1['FS'][_0x465154(0x147)](_0x31740b)]);}async[a116_0x5f0d07(0x158)](_0x3d2354){const _0x49fd41=a116_0x5f0d07,{fileName:_0xe8a648,type:_0x4ac730,path:_0x357160}=_0x3d2354,_0x480640=child_types_map_1[_0x49fd41(0x17d)][_0x4ac730];if(!_0x480640)throw new Error('Unknown\x20child\x20type\x20'+_0x4ac730);if(!this['parentComponents'][_0x357160]){const _0x2bfc84=path_1['default'][_0x49fd41(0x176)](this[_0x49fd41(0x14b)],_0x357160),_0x44d359=await fs_internal_1['FS']['exists'](_0x2bfc84);if(!_0x44d359)return;const _0x165a8c=await fs_internal_1['FS'][_0x49fd41(0x174)](_0x2bfc84);this[_0x49fd41(0x166)][_0x357160]=await xml_1[_0x49fd41(0x161)]['parse'](_0x165a8c);}const _0x3ce324=this[_0x49fd41(0x166)][_0x357160],_0x5644a3=_0xe8a648[_0x49fd41(0x15b)]('.')[_0x49fd41(0x170)]();xml_1[_0x49fd41(0x161)][_0x49fd41(0x16c)](_0x3ce324,_0x480640,_0x5644a3||_0xe8a648),xml_1['Xml'][_0x49fd41(0x14f)](_0x3ce324)?(this[_0x49fd41(0x17f)][_0x49fd41(0x152)](_0x49fd41(0x14e),_0x3d2354[_0x49fd41(0x168)],_0x3d2354[_0x49fd41(0x15c)]),await this['removeParent'](_0x3d2354),delete this['parentComponents'][_0x357160]):this[_0x49fd41(0x166)][_0x357160]=_0x3ce324;}async[a116_0x5f0d07(0x14c)](){const _0x3cd49b=a116_0x5f0d07;!await fs_internal_1['FS'][_0x3cd49b(0x15d)](this['sourceDir'])&&await fs_internal_1['FS'][_0x3cd49b(0x177)](this['sourceDir']);for(const _0x42b9f6 of this[_0x3cd49b(0x15e)]){!child_types_1[_0x3cd49b(0x17d)][_0x3cd49b(0x16e)](_0x42b9f6[_0x3cd49b(0x180)])?(this['logger'][_0x3cd49b(0x152)](_0x3cd49b(0x16b),_0x42b9f6[_0x3cd49b(0x15c)],_0x42b9f6[_0x3cd49b(0x180)]),await this[_0x3cd49b(0x164)](_0x42b9f6)):(this[_0x3cd49b(0x17f)][_0x3cd49b(0x152)](_0x3cd49b(0x155),_0x42b9f6[_0x3cd49b(0x15c)],_0x42b9f6[_0x3cd49b(0x180)]),await this['removeChild'](_0x42b9f6));}const _0x5e2dbb=Object[_0x3cd49b(0x151)](this['parentComponents']);this[_0x3cd49b(0x17f)][_0x3cd49b(0x152)](_0x3cd49b(0x167),this[_0x3cd49b(0x15e)][_0x3cd49b(0x159)]);while(_0x5e2dbb[_0x3cd49b(0x159)]){const _0x2845b=_0x5e2dbb[_0x3cd49b(0x173)](0x0,this['MAX_WRITES_PER_TICK']);for(const _0x30d9f7 of _0x2845b){await fs_internal_1['FS']['writeFile'](path_1[_0x3cd49b(0x17d)][_0x3cd49b(0x176)](this['sourceDir'],_0x30d9f7),xml_1[_0x3cd49b(0x161)][_0x3cd49b(0x17c)](this[_0x3cd49b(0x166)][_0x30d9f7]));}}this[_0x3cd49b(0x166)]={};}}function a116_0x4932(){const _0x2c53a3=['path','../../../../core','remove\x20component\x20directory\x20%s\x20[%s]\x20meta\x20file','remove\x20parent\x20component\x20%s\x20[%s]','removeAt','1093308jSaeEA','includes','MDApiRemover','pop','catch','75MUJIuy','splice','readFile','(((.+)+)+)+$','join','makeDir','ExperienceBundle','site-meta.xml','META_EXTENSION','35037837CdNQjA','convertToString','default','__esModule','logger','type','52948wbfOZU','removeDir','../../internal/fs.internal','removeFile','MAX_WRITES_PER_TICK','remove\x20component\x20\x20%s\x20[%s]','remove\x20component\x20directory\x20%s\x20[%s]','sourceDir','start','search','remote\x20empty\x20parent\x20component\x20file\x20%s\x20[%s]','isEmptyXml','7714664hmADCb','keys','log','META_EXPERIENCE_BUNDLE','489534XXziwd','remove\x20child\x20component\x20%s\x20[%s]','defineProperty','282992hShUwP','removeChild','length','../data/child-types-map','split','fileName','exists','components','constructor','toString','Xml','2019150jkxReg','name','removeParent','75vsXCLb','parentComponents','have\x20to\x20update\x20%d\x20files'];a116_0x4932=function(){return _0x2c53a3;};return a116_0x4932();}exports['MDApiRemover']=MDApiRemover;