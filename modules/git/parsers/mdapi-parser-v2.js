const a156_0x4bf9dd=a156_0x6401;(function(_0x1d7d7c,_0x49a06d){const _0xd10f95=a156_0x6401,_0x5c434f=_0x1d7d7c();while(!![]){try{const _0x488563=parseInt(_0xd10f95(0x103))/0x1+parseInt(_0xd10f95(0x115))/0x2*(-parseInt(_0xd10f95(0x122))/0x3)+parseInt(_0xd10f95(0x143))/0x4+-parseInt(_0xd10f95(0x112))/0x5*(parseInt(_0xd10f95(0x146))/0x6)+-parseInt(_0xd10f95(0x107))/0x7+-parseInt(_0xd10f95(0x10b))/0x8+parseInt(_0xd10f95(0x145))/0x9;if(_0x488563===_0x49a06d)break;else _0x5c434f['push'](_0x5c434f['shift']());}catch(_0x439e13){_0x5c434f['push'](_0x5c434f['shift']());}}}(a156_0x2be4,0x3bb83));const a156_0x46bae7=(function(){let _0x6c435f=!![];return function(_0x5a1546,_0x466fe1){const _0xdc99cf=_0x6c435f?function(){const _0x391b39=a156_0x6401;if(_0x466fe1){const _0xea7acd=_0x466fe1[_0x391b39(0x105)](_0x5a1546,arguments);return _0x466fe1=null,_0xea7acd;}}:function(){};return _0x6c435f=![],_0xdc99cf;};}()),a156_0xae79ab=a156_0x46bae7(this,function(){const _0x36b85e=a156_0x6401;return a156_0xae79ab['toString']()[_0x36b85e(0x126)](_0x36b85e(0x137))[_0x36b85e(0x13f)]()[_0x36b85e(0x12a)](a156_0xae79ab)['search'](_0x36b85e(0x137));});a156_0xae79ab();'use strict';function a156_0x6401(_0x89bd79,_0x3c9106){const _0x3864d1=a156_0x2be4();return a156_0x6401=function(_0xae79ab,_0x46bae7){_0xae79ab=_0xae79ab-0x102;let _0x2be4ed=_0x3864d1[_0xae79ab];return _0x2be4ed;},a156_0x6401(_0x89bd79,_0x3c9106);}var __importDefault=this&&this['__importDefault']||function(_0xc0ae6d){return _0xc0ae6d&&_0xc0ae6d['__esModule']?_0xc0ae6d:{'default':_0xc0ae6d};};Object[a156_0x4bf9dd(0x118)](exports,a156_0x4bf9dd(0x141),{'value':!![]}),exports[a156_0x4bf9dd(0x11a)]=void 0x0;const fs_internal_1=require(a156_0x4bf9dd(0x12d)),utils_1=require(a156_0x4bf9dd(0x12b)),path_1=require(a156_0x4bf9dd(0x140)),xml_v2_1=require(a156_0x4bf9dd(0x129)),child_types_map_1=__importDefault(require(a156_0x4bf9dd(0x120))),constants_1=require(a156_0x4bf9dd(0x13e)),crc32_1=require(a156_0x4bf9dd(0x139)),folder_types_1=__importDefault(require(a156_0x4bf9dd(0x10e))),settings_types_list_1=__importDefault(require('./data/settings-types-list')),base_parser_1=require(a156_0x4bf9dd(0x113)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a156_0x4bf9dd(0x12e)]);function a156_0x2be4(){const _0x1f6dd3=['2370613YUvzdc','readComponent','.site-meta.xml','readChildComponents','2489608DIEVSI','BaseParser','catch','./data/folder-types','replace','sourceDir','filter','65zIswKh','./base.parser','-meta.xml','11614edtAxO','filePath','createChildComponentsFromParent','defineProperty','META_EXPERIENCES_EXTENSION','MDApiParserV2','hasChildNodes','push','test','files','META_EXTENSION','./data/child-types-map','experiences','48gelVpz','exists','readBundledComponent','extractComponentTypeFromFiles','search','type','WaveTemplateBundle','./utils/xml-v2','constructor','./utils','getChildsByName','../internal/fs.internal','default','name','readFile','reduce','readDir','execute','package.xml','paths','XmlV2','(((.+)+)+)+$','BUNDLED_FOLDERS_REGEXP','./utils/crc32','CustomLabels','relative','includes','isParentComponent','../../../constants','toString','path','__esModule','crc','1173240rpZEMM','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','9292104DPbHWJ','176574AhriyF','endsWith','join','foldBundledComponentsPaths','utf-8','calculateCRC32','44194LKUoiu','startsWith','apply','map'];a156_0x2be4=function(){return _0x1f6dd3;};return a156_0x2be4();}class MDApiParserV2 extends base_parser_1[a156_0x4bf9dd(0x10c)]{constructor({sourceDir:_0x2ca724,paths:_0x17c2fd}){const _0x4e6514=a156_0x4bf9dd;super({'sourceDir':_0x2ca724,'paths':_0x17c2fd},MDApiParserV2[_0x4e6514(0x12f)]),this[_0x4e6514(0x11f)]=_0x4e6514(0x114),this[_0x4e6514(0x119)]=_0x4e6514(0x109);}async[a156_0x4bf9dd(0x10a)](_0x40e6a4){const _0x1519ed=a156_0x4bf9dd;try{const _0x209695=await xml_v2_1['XmlV2']['parse'](Object['values'](_0x40e6a4[_0x1519ed(0x11e)])[0x0][_0x1519ed(0x13f)](_0x1519ed(0x14a))),_0x43fede=CHILD_XML_KEYS[_0x1519ed(0x111)](_0x3d0e25=>xml_v2_1[_0x1519ed(0x136)][_0x1519ed(0x11b)](_0x209695,_0x3d0e25))[_0x1519ed(0x131)]((_0x1de0cf,_0x42477e)=>[..._0x1de0cf,...xml_v2_1['XmlV2'][_0x1519ed(0x12c)](_0x209695,_0x42477e)],[]);return(0x0,utils_1[_0x1519ed(0x117)])(_0x40e6a4,_0x209695,_0x43fede);}catch(_0xd7a7c0){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x40e6a4[_0x1519ed(0x12f)]+'\x20['+_0x40e6a4['type']+']');}}async['readBundledComponent'](_0x57b7be){const _0x14a9fd=a156_0x4bf9dd,_0x3a085d=(0x0,path_1[_0x14a9fd(0x148)])(this['sourceDir'],_0x57b7be),_0xfbe77b=_0x57b7be+(_0x57b7be['startsWith'](_0x14a9fd(0x121))?this['META_EXPERIENCES_EXTENSION']:this[_0x14a9fd(0x11f)]),_0x1cb481=await fs_internal_1['FS'][_0x14a9fd(0x132)](_0x3a085d,!![]),_0x5675c8=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x14a9fd(0x148)])(this[_0x14a9fd(0x110)],_0xfbe77b),!![])['catch'](()=>null),_0x308404={};for(const _0x552ca1 of _0x1cb481){_0x308404[(0x0,path_1[_0x14a9fd(0x13b)])(this['sourceDir'],_0x552ca1)[_0x14a9fd(0x10f)](/\\/g,'/')]=await fs_internal_1['FS'][_0x14a9fd(0x130)](_0x552ca1,!![]);}return _0x5675c8&&(_0x308404[(0x0,path_1[_0x14a9fd(0x13b)])(this[_0x14a9fd(0x110)],_0xfbe77b)[_0x14a9fd(0x10f)](/\\/g,'/')]=_0x5675c8),_0x308404;}async[a156_0x4bf9dd(0x108)](_0x303381){const _0x4eb63e=a156_0x4bf9dd,_0x5bc78b=_0x303381+this[_0x4eb63e(0x11f)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x4eb63e(0x11d)](_0x303381))return this[_0x4eb63e(0x124)](_0x303381);if(await fs_internal_1['FS'][_0x4eb63e(0x123)]((0x0,path_1['join'])(this[_0x4eb63e(0x110)],_0x5bc78b))){const _0x43f7e1=await fs_internal_1['FS'][_0x4eb63e(0x130)]((0x0,path_1[_0x4eb63e(0x148)])(this[_0x4eb63e(0x110)],_0x5bc78b),!![]),_0x150d6a=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x5bc78b]:_0x43f7e1}})[_0x4eb63e(0x10d)](()=>null);if(_0x150d6a&&folder_types_1['default']['includes'](_0x150d6a))return{[_0x5bc78b]:_0x43f7e1};return{[_0x5bc78b]:_0x43f7e1,[_0x303381]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['sourceDir'],_0x303381),!![])};}return{[_0x303381]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x4eb63e(0x148)])(this['sourceDir'],_0x303381),!![])};}[a156_0x4bf9dd(0x149)](){const _0x53fd31=a156_0x4bf9dd;this['paths']=this[_0x53fd31(0x135)][_0x53fd31(0x106)](_0x2a9dd0=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x53fd31(0x11d)](_0x2a9dd0)?_0x2a9dd0['split']('/')['slice'](0x0,0x2)[_0x53fd31(0x148)]('/'):_0x2a9dd0),this[_0x53fd31(0x135)]=[...new Set(this[_0x53fd31(0x135)])];}async[a156_0x4bf9dd(0x133)](){const _0xcbba09=a156_0x4bf9dd,_0xcc47ba=[];this['foldBundledComponentsPaths']();for(const _0x352017 of this['paths']){if(_0x352017[_0xcbba09(0x147)](_0xcbba09(0x134)))continue;const _0x4ec0e2={};try{_0x4ec0e2[_0xcbba09(0x11e)]=await this[_0xcbba09(0x108)](_0x352017),_0x4ec0e2[_0xcbba09(0x116)]=constants_1[_0xcbba09(0x138)][_0xcbba09(0x11d)](_0x352017)?_0x352017:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x4ec0e2['files']}),_0x352017[_0xcbba09(0x104)]('waveTemplates')?_0x4ec0e2[_0xcbba09(0x127)]=_0xcbba09(0x128):_0x4ec0e2['type']=await(0x0,utils_1[_0xcbba09(0x125)])({'files':_0x4ec0e2[_0xcbba09(0x11e)]});}catch(_0x5a2678){this['logger']['error'](_0xcbba09(0x144),_0x352017,_0x5a2678);continue;}_0x4ec0e2['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x352017),_0x4ec0e2[_0xcbba09(0x142)]=(0x0,crc32_1[_0xcbba09(0x102)])(_0x4ec0e2);if((0x0,utils_1[_0xcbba09(0x13d)])(_0x4ec0e2)){const _0x1197fd=await this[_0xcbba09(0x10a)](_0x4ec0e2);_0xcc47ba['push'](..._0x1197fd);}if(_0x4ec0e2[_0xcbba09(0x127)]===_0xcbba09(0x13a))continue;settings_types_list_1['default'][_0xcbba09(0x13c)](_0x4ec0e2[_0xcbba09(0x127)])&&(_0x4ec0e2['type']='Settings'),_0xcc47ba[_0xcbba09(0x11c)](_0x4ec0e2);}return _0xcc47ba;}}exports[a156_0x4bf9dd(0x11a)]=MDApiParserV2;