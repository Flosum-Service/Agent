const a171_0x36f7bf=a171_0x3e6d;(function(_0x562520,_0xebdc76){const _0x6f9bd5=a171_0x3e6d,_0x60e16d=_0x562520();while(!![]){try{const _0x288266=-parseInt(_0x6f9bd5(0xa6))/0x1+parseInt(_0x6f9bd5(0xa4))/0x2*(-parseInt(_0x6f9bd5(0x8c))/0x3)+parseInt(_0x6f9bd5(0xc8))/0x4+-parseInt(_0x6f9bd5(0x98))/0x5*(parseInt(_0x6f9bd5(0xce))/0x6)+-parseInt(_0x6f9bd5(0x95))/0x7*(parseInt(_0x6f9bd5(0xb2))/0x8)+-parseInt(_0x6f9bd5(0x9d))/0x9+parseInt(_0x6f9bd5(0xa1))/0xa;if(_0x288266===_0xebdc76)break;else _0x60e16d['push'](_0x60e16d['shift']());}catch(_0x29e2f3){_0x60e16d['push'](_0x60e16d['shift']());}}}(a171_0x125e,0x1e039));const a171_0x22935a=(function(){let _0x33cebe=!![];return function(_0x40a1c9,_0x3e7c77){const _0x2f1bc2=_0x33cebe?function(){const _0x3aae52=a171_0x3e6d;if(_0x3e7c77){const _0x39544e=_0x3e7c77[_0x3aae52(0x8b)](_0x40a1c9,arguments);return _0x3e7c77=null,_0x39544e;}}:function(){};return _0x33cebe=![],_0x2f1bc2;};}()),a171_0x1a2cd2=a171_0x22935a(this,function(){const _0xab8b4b=a171_0x3e6d;return a171_0x1a2cd2[_0xab8b4b(0x99)]()[_0xab8b4b(0x9f)](_0xab8b4b(0xb3))[_0xab8b4b(0x99)]()['constructor'](a171_0x1a2cd2)['search'](_0xab8b4b(0xb3));});a171_0x1a2cd2();'use strict';function a171_0x125e(){const _0xca29ec=['XmlV2','foldBundledComponentsPaths','1306701TmGjTD','test','search','relative','5886430ysbXUk','./utils','exists','2aTYUxu','error','103481juUdHb','endsWith','WaveTemplateBundle','replace','package.xml','default','readBundledComponent','BUNDLED_FOLDERS_REGEXP','waveTemplates','execute','extractFilenameFromPath','readDir','16WfJYBB','(((.+)+)+)+$','CustomLabels','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','crc','hasChildNodes','type','defineProperty','./data/folder-types','logger','sourceDir','MDApiParserV2','readChildComponents','files','-meta.xml','extractComponentTypeFromFiles','.site-meta.xml','join','split','META_EXTENSION','includes','readComponent','242136UxJlvS','filePath','calculateCRC32','experiences','parse','isParentComponent','43842vZCiQo','readFile','../../../constants','filter','map','__importDefault','./data/child-types-map','./data/settings-types-list','path','./utils/crc32','createChildComponentsFromParent','./utils/xml-v2','getChildsByName','apply','134781uuNkHS','name','__esModule','startsWith','paths','Cannot\x20parse\x20children\x20in\x20','./base.parser','reduce','values','123739NGBgIX','catch','Settings','135uUPNYD','toString','META_EXPERIENCES_EXTENSION'];a171_0x125e=function(){return _0xca29ec;};return a171_0x125e();}function a171_0x3e6d(_0x33ebd2,_0x5d4fe5){const _0x102f01=a171_0x125e();return a171_0x3e6d=function(_0x1a2cd2,_0x22935a){_0x1a2cd2=_0x1a2cd2-0x87;let _0x125e50=_0x102f01[_0x1a2cd2];return _0x125e50;},a171_0x3e6d(_0x33ebd2,_0x5d4fe5);}var __importDefault=this&&this[a171_0x36f7bf(0xd3)]||function(_0x521114){const _0x2ece20=a171_0x36f7bf;return _0x521114&&_0x521114[_0x2ece20(0x8e)]?_0x521114:{'default':_0x521114};};Object[a171_0x36f7bf(0xb9)](exports,a171_0x36f7bf(0x8e),{'value':!![]}),exports[a171_0x36f7bf(0xbd)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a171_0x36f7bf(0xa2)),path_1=require(a171_0x36f7bf(0xd6)),xml_v2_1=require(a171_0x36f7bf(0x89)),child_types_map_1=__importDefault(require(a171_0x36f7bf(0xd4))),constants_1=require(a171_0x36f7bf(0xd0)),crc32_1=require(a171_0x36f7bf(0x87)),folder_types_1=__importDefault(require(a171_0x36f7bf(0xba))),settings_types_list_1=__importDefault(require(a171_0x36f7bf(0xd5))),base_parser_1=require(a171_0x36f7bf(0x92)),CHILD_XML_KEYS=Object[a171_0x36f7bf(0x94)](child_types_map_1[a171_0x36f7bf(0xab)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0x127488,paths:_0x295aaf}){const _0xf76d9e=a171_0x36f7bf;super({'sourceDir':_0x127488,'paths':_0x295aaf},MDApiParserV2[_0xf76d9e(0x8d)]),this[_0xf76d9e(0xc5)]=_0xf76d9e(0xc0),this[_0xf76d9e(0x9a)]=_0xf76d9e(0xc2);}async['readChildComponents'](_0x594e31){const _0x455066=a171_0x36f7bf;try{const _0x3cdcdd=await xml_v2_1[_0x455066(0x9b)][_0x455066(0xcc)](Object[_0x455066(0x94)](_0x594e31[_0x455066(0xbf)])[0x0][_0x455066(0x99)]('utf-8')),_0x16d7ce=CHILD_XML_KEYS[_0x455066(0xd1)](_0x17474c=>xml_v2_1['XmlV2'][_0x455066(0xb7)](_0x3cdcdd,_0x17474c))[_0x455066(0x93)]((_0x571b30,_0xe6c78a)=>[..._0x571b30,...xml_v2_1['XmlV2'][_0x455066(0x8a)](_0x3cdcdd,_0xe6c78a)],[]);return(0x0,utils_1[_0x455066(0x88)])(_0x594e31,_0x3cdcdd,_0x16d7ce);}catch(_0x362eb0){throw new Error(_0x455066(0x91)+_0x594e31[_0x455066(0x8d)]+'\x20['+_0x594e31[_0x455066(0xb8)]+']');}}async[a171_0x36f7bf(0xac)](_0x45be9a){const _0x1ef3f0=a171_0x36f7bf,_0x2a2f50=(0x0,path_1[_0x1ef3f0(0xc3)])(this[_0x1ef3f0(0xbc)],_0x45be9a),_0x25cb14=_0x45be9a+(_0x45be9a[_0x1ef3f0(0x8f)](_0x1ef3f0(0xcb))?this[_0x1ef3f0(0x9a)]:this['META_EXTENSION']),_0x3adc99=await fs_internal_1['FS'][_0x1ef3f0(0xb1)](_0x2a2f50,!![]),_0x17c05b=await fs_internal_1['FS'][_0x1ef3f0(0xcf)]((0x0,path_1['join'])(this['sourceDir'],_0x25cb14),!![])[_0x1ef3f0(0x96)](()=>null),_0x1f5404={};for(const _0x3ef3f4 of _0x3adc99){_0x1f5404[(0x0,path_1[_0x1ef3f0(0xa0)])(this[_0x1ef3f0(0xbc)],_0x3ef3f4)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x1ef3f0(0xcf)](_0x3ef3f4,!![]);}return _0x17c05b&&(_0x1f5404[(0x0,path_1[_0x1ef3f0(0xa0)])(this[_0x1ef3f0(0xbc)],_0x25cb14)[_0x1ef3f0(0xa9)](/\\/g,'/')]=_0x17c05b),_0x1f5404;}async[a171_0x36f7bf(0xc7)](_0x34b435){const _0x34765a=a171_0x36f7bf,_0x25bc42=_0x34b435+this['META_EXTENSION'];if(constants_1[_0x34765a(0xad)][_0x34765a(0x9e)](_0x34b435))return this[_0x34765a(0xac)](_0x34b435);if(await fs_internal_1['FS'][_0x34765a(0xa3)]((0x0,path_1[_0x34765a(0xc3)])(this[_0x34765a(0xbc)],_0x25bc42))){const _0x511624=await fs_internal_1['FS'][_0x34765a(0xcf)]((0x0,path_1[_0x34765a(0xc3)])(this[_0x34765a(0xbc)],_0x25bc42),!![]),_0x2f5882=await(0x0,utils_1[_0x34765a(0xc1)])({'files':{[_0x25bc42]:_0x511624}})[_0x34765a(0x96)](()=>null);if(_0x2f5882&&folder_types_1[_0x34765a(0xab)][_0x34765a(0xc6)](_0x2f5882))return{[_0x25bc42]:_0x511624};return{[_0x25bc42]:_0x511624,[_0x34b435]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x34765a(0xc3)])(this['sourceDir'],_0x34b435),!![])};}return{[_0x34b435]:await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x34765a(0xbc)],_0x34b435),!![])};}[a171_0x36f7bf(0x9c)](){const _0x2d4fde=a171_0x36f7bf;this[_0x2d4fde(0x90)]=this[_0x2d4fde(0x90)][_0x2d4fde(0xd2)](_0x1392cb=>constants_1[_0x2d4fde(0xad)][_0x2d4fde(0x9e)](_0x1392cb)?_0x1392cb[_0x2d4fde(0xc4)]('/')['slice'](0x0,0x2)[_0x2d4fde(0xc3)]('/'):_0x1392cb),this[_0x2d4fde(0x90)]=[...new Set(this[_0x2d4fde(0x90)])];}async[a171_0x36f7bf(0xaf)](){const _0x13eba3=a171_0x36f7bf,_0x1dcc15=[];this['foldBundledComponentsPaths']();for(const _0x38eb17 of this[_0x13eba3(0x90)]){if(_0x38eb17[_0x13eba3(0xa7)](_0x13eba3(0xaa)))continue;const _0x17ff89={};try{_0x17ff89[_0x13eba3(0xbf)]=await this[_0x13eba3(0xc7)](_0x38eb17),_0x17ff89[_0x13eba3(0xc9)]=constants_1[_0x13eba3(0xad)][_0x13eba3(0x9e)](_0x38eb17)?_0x38eb17:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x17ff89[_0x13eba3(0xbf)]}),_0x38eb17[_0x13eba3(0x8f)](_0x13eba3(0xae))?_0x17ff89['type']=_0x13eba3(0xa8):_0x17ff89['type']=await(0x0,utils_1[_0x13eba3(0xc1)])({'files':_0x17ff89[_0x13eba3(0xbf)]});}catch(_0x241ecf){this[_0x13eba3(0xbb)][_0x13eba3(0xa5)](_0x13eba3(0xb5),_0x38eb17,_0x241ecf);continue;}_0x17ff89['name']=(0x0,utils_1[_0x13eba3(0xb0)])(_0x38eb17),_0x17ff89[_0x13eba3(0xb6)]=(0x0,crc32_1[_0x13eba3(0xca)])(_0x17ff89);if((0x0,utils_1[_0x13eba3(0xcd)])(_0x17ff89)){const _0x5ad751=await this[_0x13eba3(0xbe)](_0x17ff89);_0x1dcc15['push'](..._0x5ad751);}if(_0x17ff89[_0x13eba3(0xb8)]===_0x13eba3(0xb4))continue;settings_types_list_1[_0x13eba3(0xab)][_0x13eba3(0xc6)](_0x17ff89[_0x13eba3(0xb8)])&&(_0x17ff89[_0x13eba3(0xb8)]=_0x13eba3(0x97)),_0x1dcc15['push'](_0x17ff89);}return _0x1dcc15;}}exports[a171_0x36f7bf(0xbd)]=MDApiParserV2;