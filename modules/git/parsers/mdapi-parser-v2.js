const a171_0x544f0a=a171_0x2749;(function(_0x397d30,_0x1a3c65){const _0x2b33d3=a171_0x2749,_0x5089eb=_0x397d30();while(!![]){try{const _0xbbdfca=-parseInt(_0x2b33d3(0x13a))/0x1*(parseInt(_0x2b33d3(0x158))/0x2)+-parseInt(_0x2b33d3(0x14f))/0x3*(parseInt(_0x2b33d3(0x163))/0x4)+parseInt(_0x2b33d3(0x162))/0x5*(parseInt(_0x2b33d3(0x157))/0x6)+-parseInt(_0x2b33d3(0x173))/0x7+-parseInt(_0x2b33d3(0x13f))/0x8+-parseInt(_0x2b33d3(0x140))/0x9*(parseInt(_0x2b33d3(0x15d))/0xa)+-parseInt(_0x2b33d3(0x16f))/0xb*(-parseInt(_0x2b33d3(0x147))/0xc);if(_0xbbdfca===_0x1a3c65)break;else _0x5089eb['push'](_0x5089eb['shift']());}catch(_0x1e4404){_0x5089eb['push'](_0x5089eb['shift']());}}}(a171_0x5e9c,0x868bc));const a171_0x3d30bc=(function(){let _0xeb5558=!![];return function(_0x5c7c0a,_0x14ff62){const _0x352694=_0xeb5558?function(){const _0x5d5948=a171_0x2749;if(_0x14ff62){const _0x2daf57=_0x14ff62[_0x5d5948(0x160)](_0x5c7c0a,arguments);return _0x14ff62=null,_0x2daf57;}}:function(){};return _0xeb5558=![],_0x352694;};}()),a171_0x509cdb=a171_0x3d30bc(this,function(){const _0x21fad5=a171_0x2749;return a171_0x509cdb['toString']()[_0x21fad5(0x14a)]('(((.+)+)+)+$')[_0x21fad5(0x136)]()[_0x21fad5(0x14d)](a171_0x509cdb)[_0x21fad5(0x14a)](_0x21fad5(0x139));});a171_0x509cdb();'use strict';function a171_0x2749(_0x5fc751,_0xaee7a6){const _0x572121=a171_0x5e9c();return a171_0x2749=function(_0x509cdb,_0x3d30bc){_0x509cdb=_0x509cdb-0x132;let _0x5e9c4d=_0x572121[_0x509cdb];return _0x5e9c4d;},a171_0x2749(_0x5fc751,_0xaee7a6);}var __importDefault=this&&this[a171_0x544f0a(0x171)]||function(_0x15754b){const _0x51e0ed=a171_0x544f0a;return _0x15754b&&_0x15754b[_0x51e0ed(0x152)]?_0x15754b:{'default':_0x15754b};};function a171_0x5e9c(){const _0x262255=['exists','toString','Settings','reduce','(((.+)+)+)+$','1zLUxXy','relative','waveTemplates','sourceDir','readChildComponents','6659056kwYiVy','3306267uUXJHr','name','BUNDLED_FOLDERS_REGEXP','execute','map','error','join','60WudVRO','extractFilenameFromPath','startsWith','search','./data/folder-types','utf-8','constructor','./utils/xml-v2','33pmORYE','crc','path','__esModule','.site-meta.xml','createChildComponentsFromParent','hasChildNodes','files','6kjKthg','1520756kaDvSC','META_EXPERIENCES_EXTENSION','includes','package.xml','BaseParser','10mOiEGi','./utils','readBundledComponent','apply','default','2363390vFKgQW','72736muZdWQ','readFile','calculateCRC32','defineProperty','./data/child-types-map','slice','../internal/fs.internal','MDApiParserV2','XmlV2','split','./base.parser','logger','7110246sPDJZR','catch','__importDefault','Cannot\x20parse\x20children\x20in\x20','6953527HVAbWa','paths','parse','META_EXTENSION','filter','readComponent','foldBundledComponentsPaths','push','experiences','getChildsByName','test','CustomLabels','type','readDir','extractFileNameFromFiles','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','replace','extractComponentTypeFromFiles','./data/settings-types-list','endsWith'];a171_0x5e9c=function(){return _0x262255;};return a171_0x5e9c();}Object[a171_0x544f0a(0x166)](exports,'__esModule',{'value':!![]}),exports[a171_0x544f0a(0x16a)]=void 0x0;const fs_internal_1=require(a171_0x544f0a(0x169)),utils_1=require(a171_0x544f0a(0x15e)),path_1=require(a171_0x544f0a(0x151)),xml_v2_1=require(a171_0x544f0a(0x14e)),child_types_map_1=__importDefault(require(a171_0x544f0a(0x167))),constants_1=require('../../../constants'),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a171_0x544f0a(0x14b))),settings_types_list_1=__importDefault(require(a171_0x544f0a(0x133))),base_parser_1=require(a171_0x544f0a(0x16d)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a171_0x544f0a(0x161)]);class MDApiParserV2 extends base_parser_1[a171_0x544f0a(0x15c)]{constructor({sourceDir:_0x1a896e,paths:_0x1649aa}){const _0x3afe00=a171_0x544f0a;super({'sourceDir':_0x1a896e,'paths':_0x1649aa},MDApiParserV2[_0x3afe00(0x141)]),this[_0x3afe00(0x176)]='-meta.xml',this[_0x3afe00(0x159)]=_0x3afe00(0x153);}async[a171_0x544f0a(0x13e)](_0x45fc6c){const _0x195d68=a171_0x544f0a;try{const _0x39cebc=await xml_v2_1[_0x195d68(0x16b)][_0x195d68(0x175)](Object['values'](_0x45fc6c['files'])[0x0][_0x195d68(0x136)](_0x195d68(0x14c))),_0x396415=CHILD_XML_KEYS[_0x195d68(0x177)](_0x3bdb12=>xml_v2_1[_0x195d68(0x16b)][_0x195d68(0x155)](_0x39cebc,_0x3bdb12))[_0x195d68(0x138)]((_0x454b1d,_0xd00e6f)=>[..._0x454b1d,...xml_v2_1[_0x195d68(0x16b)][_0x195d68(0x17c)](_0x39cebc,_0xd00e6f)],[]);return(0x0,utils_1[_0x195d68(0x154)])(_0x45fc6c,_0x39cebc,_0x396415);}catch(_0x4cd102){throw new Error(_0x195d68(0x172)+_0x45fc6c[_0x195d68(0x141)]+'\x20['+_0x45fc6c[_0x195d68(0x17f)]+']');}}async[a171_0x544f0a(0x15f)](_0xa1ca0f){const _0x2cc68b=a171_0x544f0a,_0x9b766a=(0x0,path_1['join'])(this[_0x2cc68b(0x13d)],_0xa1ca0f),_0x3a3c35=_0xa1ca0f+(_0xa1ca0f['startsWith'](_0x2cc68b(0x17b))?this[_0x2cc68b(0x159)]:this['META_EXTENSION']),_0x4c9313=await fs_internal_1['FS'][_0x2cc68b(0x180)](_0x9b766a,!![]),_0x194dbc=await fs_internal_1['FS'][_0x2cc68b(0x164)]((0x0,path_1[_0x2cc68b(0x146)])(this['sourceDir'],_0x3a3c35),!![])['catch'](()=>null),_0x22b188={};for(const _0xa931b6 of _0x4c9313){_0x22b188[(0x0,path_1['relative'])(this[_0x2cc68b(0x13d)],_0xa931b6)[_0x2cc68b(0x183)](/\\/g,'/')]=await fs_internal_1['FS'][_0x2cc68b(0x164)](_0xa931b6,!![]);}return _0x194dbc&&(_0x22b188[(0x0,path_1[_0x2cc68b(0x13b)])(this[_0x2cc68b(0x13d)],_0x3a3c35)['replace'](/\\/g,'/')]=_0x194dbc),_0x22b188;}async[a171_0x544f0a(0x178)](_0x3a1db7){const _0x51911e=a171_0x544f0a,_0x335a12=_0x3a1db7+this[_0x51911e(0x176)];if(constants_1[_0x51911e(0x142)][_0x51911e(0x17d)](_0x3a1db7))return this['readBundledComponent'](_0x3a1db7);if(await fs_internal_1['FS'][_0x51911e(0x135)]((0x0,path_1[_0x51911e(0x146)])(this[_0x51911e(0x13d)],_0x335a12))){const _0x378c99=await fs_internal_1['FS'][_0x51911e(0x164)]((0x0,path_1[_0x51911e(0x146)])(this[_0x51911e(0x13d)],_0x335a12),!![]),_0x590594=await(0x0,utils_1[_0x51911e(0x132)])({'files':{[_0x335a12]:_0x378c99}})[_0x51911e(0x170)](()=>null);if(_0x590594&&folder_types_1['default'][_0x51911e(0x15a)](_0x590594))return{[_0x335a12]:_0x378c99};return{[_0x335a12]:_0x378c99,[_0x3a1db7]:await fs_internal_1['FS'][_0x51911e(0x164)]((0x0,path_1[_0x51911e(0x146)])(this['sourceDir'],_0x3a1db7),!![])};}return{[_0x3a1db7]:await fs_internal_1['FS'][_0x51911e(0x164)]((0x0,path_1[_0x51911e(0x146)])(this[_0x51911e(0x13d)],_0x3a1db7),!![])};}['foldBundledComponentsPaths'](){const _0x3fac9e=a171_0x544f0a;this[_0x3fac9e(0x174)]=this[_0x3fac9e(0x174)][_0x3fac9e(0x144)](_0x206aaf=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3fac9e(0x17d)](_0x206aaf)?_0x206aaf[_0x3fac9e(0x16c)]('/')[_0x3fac9e(0x168)](0x0,0x2)[_0x3fac9e(0x146)]('/'):_0x206aaf),this[_0x3fac9e(0x174)]=[...new Set(this[_0x3fac9e(0x174)])];}async[a171_0x544f0a(0x143)](){const _0x4b1229=a171_0x544f0a,_0x47c193=[];this[_0x4b1229(0x179)]();for(const _0x3aca16 of this[_0x4b1229(0x174)]){if(_0x3aca16[_0x4b1229(0x134)](_0x4b1229(0x15b)))continue;const _0x1dc5c0={};try{_0x1dc5c0[_0x4b1229(0x156)]=await this[_0x4b1229(0x178)](_0x3aca16),_0x1dc5c0['filePath']=constants_1[_0x4b1229(0x142)]['test'](_0x3aca16)?_0x3aca16:(0x0,utils_1[_0x4b1229(0x181)])({'files':_0x1dc5c0['files']}),_0x3aca16[_0x4b1229(0x149)](_0x4b1229(0x13c))?_0x1dc5c0[_0x4b1229(0x17f)]='WaveTemplateBundle':_0x1dc5c0[_0x4b1229(0x17f)]=await(0x0,utils_1[_0x4b1229(0x132)])({'files':_0x1dc5c0[_0x4b1229(0x156)]});}catch(_0x319d05){this[_0x4b1229(0x16e)][_0x4b1229(0x145)](_0x4b1229(0x182),_0x3aca16,_0x319d05);continue;}_0x1dc5c0['name']=(0x0,utils_1[_0x4b1229(0x148)])(_0x3aca16),_0x1dc5c0[_0x4b1229(0x150)]=(0x0,crc32_1[_0x4b1229(0x165)])(_0x1dc5c0);if((0x0,utils_1['isParentComponent'])(_0x1dc5c0)){const _0x2de49a=await this[_0x4b1229(0x13e)](_0x1dc5c0);_0x47c193['push'](..._0x2de49a);}if(_0x1dc5c0['type']===_0x4b1229(0x17e))continue;settings_types_list_1[_0x4b1229(0x161)][_0x4b1229(0x15a)](_0x1dc5c0[_0x4b1229(0x17f)])&&(_0x1dc5c0[_0x4b1229(0x17f)]=_0x4b1229(0x137)),_0x47c193[_0x4b1229(0x17a)](_0x1dc5c0);}return _0x47c193;}}exports['MDApiParserV2']=MDApiParserV2;