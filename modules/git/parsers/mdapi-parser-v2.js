const a181_0x558b1b=a181_0x8086;(function(_0x1c4c84,_0x333729){const _0x5f0770=a181_0x8086,_0x3ee41b=_0x1c4c84();while(!![]){try{const _0x39e391=-parseInt(_0x5f0770(0x1aa))/0x1*(parseInt(_0x5f0770(0x1bd))/0x2)+-parseInt(_0x5f0770(0x1bf))/0x3*(parseInt(_0x5f0770(0x1b8))/0x4)+-parseInt(_0x5f0770(0x1c8))/0x5*(-parseInt(_0x5f0770(0x1d4))/0x6)+parseInt(_0x5f0770(0x1e0))/0x7*(-parseInt(_0x5f0770(0x1ac))/0x8)+parseInt(_0x5f0770(0x1a5))/0x9+-parseInt(_0x5f0770(0x1cb))/0xa+-parseInt(_0x5f0770(0x1b0))/0xb*(-parseInt(_0x5f0770(0x1c5))/0xc);if(_0x39e391===_0x333729)break;else _0x3ee41b['push'](_0x3ee41b['shift']());}catch(_0x585eae){_0x3ee41b['push'](_0x3ee41b['shift']());}}}(a181_0x109f,0x5a763));function a181_0x8086(_0x341985,_0x58787d){const _0x837208=a181_0x109f();return a181_0x8086=function(_0x53173b,_0x25ac2d){_0x53173b=_0x53173b-0x19c;let _0x109f17=_0x837208[_0x53173b];return _0x109f17;},a181_0x8086(_0x341985,_0x58787d);}const a181_0x25ac2d=(function(){let _0x59a16c=!![];return function(_0x4d97b7,_0x213859){const _0x1a1b4c=_0x59a16c?function(){const _0x58d866=a181_0x8086;if(_0x213859){const _0xb24e29=_0x213859[_0x58d866(0x1b5)](_0x4d97b7,arguments);return _0x213859=null,_0xb24e29;}}:function(){};return _0x59a16c=![],_0x1a1b4c;};}()),a181_0x53173b=a181_0x25ac2d(this,function(){const _0x456492=a181_0x8086;return a181_0x53173b['toString']()[_0x456492(0x1a8)](_0x456492(0x1dd))[_0x456492(0x1b9)]()[_0x456492(0x1cc)](a181_0x53173b)[_0x456492(0x1a8)](_0x456492(0x1dd));});a181_0x53173b();'use strict';var __importDefault=this&&this[a181_0x558b1b(0x1e7)]||function(_0x2667d9){const _0x38b159=a181_0x558b1b;return _0x2667d9&&_0x2667d9[_0x38b159(0x1d8)]?_0x2667d9:{'default':_0x2667d9};};Object[a181_0x558b1b(0x1d3)](exports,'__esModule',{'value':!![]}),exports[a181_0x558b1b(0x19d)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a181_0x558b1b(0x1d7)),path_1=require('path'),xml_v2_1=require(a181_0x558b1b(0x1df)),child_types_map_1=__importDefault(require(a181_0x558b1b(0x1b4))),constants_1=require(a181_0x558b1b(0x1ae)),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require('./data/folder-types')),settings_types_list_1=__importDefault(require(a181_0x558b1b(0x1c3))),base_parser_1=require(a181_0x558b1b(0x1c0)),CHILD_XML_KEYS=Object[a181_0x558b1b(0x1b2)](child_types_map_1['default']);function a181_0x109f(){const _0x3b7866=['sourceDir','waveTemplates','catch','readComponent','exists','2495214bSRHxu','files','paths','search','parse','8573vUNiig','name','138848XysUru','createChildComponentsFromParent','../../../constants','extractFileNameFromFiles','11lkmlIK','map','values','-meta.xml','./data/child-types-map','apply','type','foldBundledComponentsPaths','2320JAgfOT','toString','META_EXTENSION','readDir','WaveTemplateBundle','102HuDtLG','relative','630uIJbsY','./base.parser','filter','Cannot\x20parse\x20children\x20in\x20','./data/settings-types-list','readFile','17126556eEjpcV','extractComponentTypeFromFiles','extractFilenameFromPath','725950WKUXZE','META_EXPERIENCES_EXTENSION','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','3363330cyrBBY','constructor','error','BUNDLED_FOLDERS_REGEXP','default','isParentComponent','.site-meta.xml','calculateCRC32','defineProperty','12TJmxGl','includes','endsWith','./utils','__esModule','startsWith','XmlV2','filePath','test','(((.+)+)+)+$','slice','./utils/xml-v2','294WJJgZA','BaseParser','getChildsByName','execute','readChildComponents','join','hasChildNodes','__importDefault','logger','replace','readBundledComponent','push','MDApiParserV2','package.xml','reduce'];a181_0x109f=function(){return _0x3b7866;};return a181_0x109f();}class MDApiParserV2 extends base_parser_1[a181_0x558b1b(0x1e1)]{constructor({sourceDir:_0x410c4d,paths:_0x5ccad1}){const _0x4ad8e9=a181_0x558b1b;super({'sourceDir':_0x410c4d,'paths':_0x5ccad1},MDApiParserV2[_0x4ad8e9(0x1ab)]),this[_0x4ad8e9(0x1ba)]=_0x4ad8e9(0x1b3),this[_0x4ad8e9(0x1c9)]=_0x4ad8e9(0x1d1);}async[a181_0x558b1b(0x1e4)](_0x4e90a7){const _0x346092=a181_0x558b1b;try{const _0x1d5f1e=await xml_v2_1[_0x346092(0x1da)][_0x346092(0x1a9)](Object[_0x346092(0x1b2)](_0x4e90a7[_0x346092(0x1a6)])[0x0]['toString']('utf-8')),_0x4a9c04=CHILD_XML_KEYS[_0x346092(0x1c1)](_0x1ae0e2=>xml_v2_1[_0x346092(0x1da)][_0x346092(0x1e6)](_0x1d5f1e,_0x1ae0e2))[_0x346092(0x19f)]((_0x8b458b,_0x1657ef)=>[..._0x8b458b,...xml_v2_1[_0x346092(0x1da)][_0x346092(0x1e2)](_0x1d5f1e,_0x1657ef)],[]);return(0x0,utils_1[_0x346092(0x1ad)])(_0x4e90a7,_0x1d5f1e,_0x4a9c04);}catch(_0x544dc5){throw new Error(_0x346092(0x1c2)+_0x4e90a7[_0x346092(0x1ab)]+'\x20['+_0x4e90a7[_0x346092(0x1b6)]+']');}}async[a181_0x558b1b(0x1ea)](_0x41e9d6){const _0x242ec9=a181_0x558b1b,_0x5c9f0=(0x0,path_1[_0x242ec9(0x1e5)])(this['sourceDir'],_0x41e9d6),_0xc68c94=_0x41e9d6+(_0x41e9d6[_0x242ec9(0x1d9)]('experiences')?this['META_EXPERIENCES_EXTENSION']:this[_0x242ec9(0x1ba)]),_0x2b1c68=await fs_internal_1['FS'][_0x242ec9(0x1bb)](_0x5c9f0,!![]),_0x1b0549=await fs_internal_1['FS'][_0x242ec9(0x1c4)]((0x0,path_1[_0x242ec9(0x1e5)])(this[_0x242ec9(0x1a0)],_0xc68c94),!![])[_0x242ec9(0x1a2)](()=>null),_0x4f3747={};for(const _0x41cc9a of _0x2b1c68){_0x4f3747[(0x0,path_1[_0x242ec9(0x1be)])(this[_0x242ec9(0x1a0)],_0x41cc9a)[_0x242ec9(0x1e9)](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0x41cc9a,!![]);}return _0x1b0549&&(_0x4f3747[(0x0,path_1['relative'])(this[_0x242ec9(0x1a0)],_0xc68c94)['replace'](/\\/g,'/')]=_0x1b0549),_0x4f3747;}async['readComponent'](_0x305deb){const _0x21118e=a181_0x558b1b,_0x3247d6=_0x305deb+this[_0x21118e(0x1ba)];if(constants_1[_0x21118e(0x1ce)][_0x21118e(0x1dc)](_0x305deb))return this['readBundledComponent'](_0x305deb);if(await fs_internal_1['FS'][_0x21118e(0x1a4)]((0x0,path_1[_0x21118e(0x1e5)])(this[_0x21118e(0x1a0)],_0x3247d6))){const _0x57c954=await fs_internal_1['FS'][_0x21118e(0x1c4)]((0x0,path_1[_0x21118e(0x1e5)])(this['sourceDir'],_0x3247d6),!![]),_0x4c3555=await(0x0,utils_1[_0x21118e(0x1c6)])({'files':{[_0x3247d6]:_0x57c954}})[_0x21118e(0x1a2)](()=>null);if(_0x4c3555&&folder_types_1[_0x21118e(0x1cf)][_0x21118e(0x1d5)](_0x4c3555))return{[_0x3247d6]:_0x57c954};return{[_0x3247d6]:_0x57c954,[_0x305deb]:await fs_internal_1['FS'][_0x21118e(0x1c4)]((0x0,path_1[_0x21118e(0x1e5)])(this[_0x21118e(0x1a0)],_0x305deb),!![])};}return{[_0x305deb]:await fs_internal_1['FS'][_0x21118e(0x1c4)]((0x0,path_1['join'])(this[_0x21118e(0x1a0)],_0x305deb),!![])};}[a181_0x558b1b(0x1b7)](){const _0x2d94eb=a181_0x558b1b;this['paths']=this[_0x2d94eb(0x1a7)][_0x2d94eb(0x1b1)](_0x39d013=>constants_1[_0x2d94eb(0x1ce)][_0x2d94eb(0x1dc)](_0x39d013)?_0x39d013['split']('/')[_0x2d94eb(0x1de)](0x0,0x2)[_0x2d94eb(0x1e5)]('/'):_0x39d013),this[_0x2d94eb(0x1a7)]=[...new Set(this[_0x2d94eb(0x1a7)])];}async[a181_0x558b1b(0x1e3)](){const _0x196ab1=a181_0x558b1b,_0x458d80=[];this[_0x196ab1(0x1b7)]();for(const _0x3711f8 of this[_0x196ab1(0x1a7)]){if(_0x3711f8[_0x196ab1(0x1d6)](_0x196ab1(0x19e)))continue;const _0x304a0f={};try{_0x304a0f['files']=await this[_0x196ab1(0x1a3)](_0x3711f8),_0x304a0f[_0x196ab1(0x1db)]=constants_1[_0x196ab1(0x1ce)][_0x196ab1(0x1dc)](_0x3711f8)?_0x3711f8:(0x0,utils_1[_0x196ab1(0x1af)])({'files':_0x304a0f[_0x196ab1(0x1a6)]}),_0x3711f8[_0x196ab1(0x1d9)](_0x196ab1(0x1a1))?_0x304a0f['type']=_0x196ab1(0x1bc):_0x304a0f[_0x196ab1(0x1b6)]=await(0x0,utils_1[_0x196ab1(0x1c6)])({'files':_0x304a0f['files']});}catch(_0x6a6771){this[_0x196ab1(0x1e8)][_0x196ab1(0x1cd)](_0x196ab1(0x1ca),_0x3711f8,_0x6a6771);continue;}_0x304a0f[_0x196ab1(0x1ab)]=(0x0,utils_1[_0x196ab1(0x1c7)])(_0x3711f8),_0x304a0f['crc']=(0x0,crc32_1[_0x196ab1(0x1d2)])(_0x304a0f);if((0x0,utils_1[_0x196ab1(0x1d0)])(_0x304a0f)){const _0x4235be=await this[_0x196ab1(0x1e4)](_0x304a0f);_0x458d80[_0x196ab1(0x19c)](..._0x4235be);}if(_0x304a0f[_0x196ab1(0x1b6)]==='CustomLabels')continue;settings_types_list_1[_0x196ab1(0x1cf)][_0x196ab1(0x1d5)](_0x304a0f[_0x196ab1(0x1b6)])&&(_0x304a0f[_0x196ab1(0x1b6)]='Settings'),_0x458d80[_0x196ab1(0x19c)](_0x304a0f);}return _0x458d80;}}exports['MDApiParserV2']=MDApiParserV2;