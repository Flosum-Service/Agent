const a171_0x3ba0ea=a171_0x5d26;(function(_0x50f1c5,_0x4ad19a){const _0x45b1a3=a171_0x5d26,_0x2e4a0f=_0x50f1c5();while(!![]){try{const _0x1e1313=parseInt(_0x45b1a3(0xe3))/0x1*(-parseInt(_0x45b1a3(0xf2))/0x2)+parseInt(_0x45b1a3(0xe7))/0x3+parseInt(_0x45b1a3(0xdb))/0x4*(parseInt(_0x45b1a3(0xdc))/0x5)+parseInt(_0x45b1a3(0xfc))/0x6*(parseInt(_0x45b1a3(0xc9))/0x7)+-parseInt(_0x45b1a3(0xf8))/0x8*(-parseInt(_0x45b1a3(0xcc))/0x9)+-parseInt(_0x45b1a3(0xc5))/0xa+-parseInt(_0x45b1a3(0xe2))/0xb;if(_0x1e1313===_0x4ad19a)break;else _0x2e4a0f['push'](_0x2e4a0f['shift']());}catch(_0x440e3a){_0x2e4a0f['push'](_0x2e4a0f['shift']());}}}(a171_0x36df,0xc46af));const a171_0x211f0e=(function(){let _0x43a327=!![];return function(_0x5a0dc7,_0x551fc7){const _0x38d9dc=_0x43a327?function(){const _0x18dbf2=a171_0x5d26;if(_0x551fc7){const _0x147916=_0x551fc7[_0x18dbf2(0xee)](_0x5a0dc7,arguments);return _0x551fc7=null,_0x147916;}}:function(){};return _0x43a327=![],_0x38d9dc;};}()),a171_0x7f4c64=a171_0x211f0e(this,function(){const _0x148aab=a171_0x5d26;return a171_0x7f4c64['toString']()[_0x148aab(0xd3)]('(((.+)+)+)+$')[_0x148aab(0xd7)]()[_0x148aab(0xb9)](a171_0x7f4c64)[_0x148aab(0xd3)](_0x148aab(0xf1));});a171_0x7f4c64();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x152bfd){return _0x152bfd&&_0x152bfd['__esModule']?_0x152bfd:{'default':_0x152bfd};};function a171_0x5d26(_0x37debc,_0x294c9e){const _0x180c40=a171_0x36df();return a171_0x5d26=function(_0x7f4c64,_0x211f0e){_0x7f4c64=_0x7f4c64-0xb4;let _0x36df6d=_0x180c40[_0x7f4c64];return _0x36df6d;},a171_0x5d26(_0x37debc,_0x294c9e);}Object[a171_0x3ba0ea(0xf3)](exports,a171_0x3ba0ea(0xb7),{'value':!![]}),exports[a171_0x3ba0ea(0xd4)]=void 0x0;const fs_internal_1=require(a171_0x3ba0ea(0xe9)),utils_1=require(a171_0x3ba0ea(0xe1)),path_1=require(a171_0x3ba0ea(0xc6)),xml_v2_1=require(a171_0x3ba0ea(0xde)),child_types_map_1=__importDefault(require(a171_0x3ba0ea(0xb6))),constants_1=require(a171_0x3ba0ea(0xc1)),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a171_0x3ba0ea(0xed))),settings_types_list_1=__importDefault(require('./data/settings-types-list')),base_parser_1=require(a171_0x3ba0ea(0xb4)),CHILD_XML_KEYS=Object[a171_0x3ba0ea(0xe8)](child_types_map_1[a171_0x3ba0ea(0xba)]);function a171_0x36df(){const _0x4985c7=['Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','createChildComponentsFromParent','readComponent','10124170qTjXLH','path','isParentComponent','sourceDir','63BktjQp','parse','relative','1791RLyhdA','META_EXTENSION','filePath','execute','experiences','utf-8','Settings','search','MDApiParserV2','extractFilenameFromPath','logger','toString','error','reduce','push','21516GpTTDj','40bFzMfR','META_EXPERIENCES_EXTENSION','./utils/xml-v2','name','BaseParser','./utils','12507737QfjphF','84595YSlNPU','CustomLabels','map','extractFileNameFromFiles','3652905jjpWcU','values','../internal/fs.internal','readDir','hasChildNodes','paths','./data/folder-types','apply','crc','readBundledComponent','(((.+)+)+)+$','20woRcji','defineProperty','readChildComponents','split','join','waveTemplates','43256BVdlRj','Cannot\x20parse\x20children\x20in\x20','extractComponentTypeFromFiles','readFile','975534ROxUMY','test','type','files','./base.parser','XmlV2','./data/child-types-map','__esModule','exists','constructor','default','foldBundledComponentsPaths','slice','includes','catch','BUNDLED_FOLDERS_REGEXP','package.xml','../../../constants'];a171_0x36df=function(){return _0x4985c7;};return a171_0x36df();}class MDApiParserV2 extends base_parser_1[a171_0x3ba0ea(0xe0)]{constructor({sourceDir:_0x4dc270,paths:_0xe21723}){const _0x23a821=a171_0x3ba0ea;super({'sourceDir':_0x4dc270,'paths':_0xe21723},MDApiParserV2['name']),this[_0x23a821(0xcd)]='-meta.xml',this[_0x23a821(0xdd)]='.site-meta.xml';}async[a171_0x3ba0ea(0xf4)](_0x48dbaa){const _0x2a1b78=a171_0x3ba0ea;try{const _0x39c9a3=await xml_v2_1['XmlV2'][_0x2a1b78(0xca)](Object[_0x2a1b78(0xe8)](_0x48dbaa[_0x2a1b78(0xff)])[0x0][_0x2a1b78(0xd7)](_0x2a1b78(0xd1))),_0x4e422f=CHILD_XML_KEYS['filter'](_0xfaf9be=>xml_v2_1['XmlV2'][_0x2a1b78(0xeb)](_0x39c9a3,_0xfaf9be))[_0x2a1b78(0xd9)]((_0x5be039,_0x3ea9c6)=>[..._0x5be039,...xml_v2_1[_0x2a1b78(0xb5)]['getChildsByName'](_0x39c9a3,_0x3ea9c6)],[]);return(0x0,utils_1[_0x2a1b78(0xc3)])(_0x48dbaa,_0x39c9a3,_0x4e422f);}catch(_0x4c765f){throw new Error(_0x2a1b78(0xf9)+_0x48dbaa[_0x2a1b78(0xdf)]+'\x20['+_0x48dbaa[_0x2a1b78(0xfe)]+']');}}async[a171_0x3ba0ea(0xf0)](_0x43ce9c){const _0x3fc1f9=a171_0x3ba0ea,_0x47563d=(0x0,path_1[_0x3fc1f9(0xf6)])(this[_0x3fc1f9(0xc8)],_0x43ce9c),_0x75609f=_0x43ce9c+(_0x43ce9c['startsWith'](_0x3fc1f9(0xd0))?this[_0x3fc1f9(0xdd)]:this['META_EXTENSION']),_0x46de2c=await fs_internal_1['FS'][_0x3fc1f9(0xea)](_0x47563d,!![]),_0x595f9c=await fs_internal_1['FS'][_0x3fc1f9(0xfb)]((0x0,path_1['join'])(this[_0x3fc1f9(0xc8)],_0x75609f),!![])[_0x3fc1f9(0xbe)](()=>null),_0x2abfdc={};for(const _0x37b91f of _0x46de2c){_0x2abfdc[(0x0,path_1[_0x3fc1f9(0xcb)])(this[_0x3fc1f9(0xc8)],_0x37b91f)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x3fc1f9(0xfb)](_0x37b91f,!![]);}return _0x595f9c&&(_0x2abfdc[(0x0,path_1['relative'])(this[_0x3fc1f9(0xc8)],_0x75609f)['replace'](/\\/g,'/')]=_0x595f9c),_0x2abfdc;}async[a171_0x3ba0ea(0xc4)](_0x55b6b6){const _0x238ea7=a171_0x3ba0ea,_0x4f6871=_0x55b6b6+this['META_EXTENSION'];if(constants_1[_0x238ea7(0xbf)][_0x238ea7(0xfd)](_0x55b6b6))return this[_0x238ea7(0xf0)](_0x55b6b6);if(await fs_internal_1['FS'][_0x238ea7(0xb8)]((0x0,path_1[_0x238ea7(0xf6)])(this[_0x238ea7(0xc8)],_0x4f6871))){const _0x1ff484=await fs_internal_1['FS'][_0x238ea7(0xfb)]((0x0,path_1['join'])(this['sourceDir'],_0x4f6871),!![]),_0x40e6d0=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x4f6871]:_0x1ff484}})[_0x238ea7(0xbe)](()=>null);if(_0x40e6d0&&folder_types_1['default'][_0x238ea7(0xbd)](_0x40e6d0))return{[_0x4f6871]:_0x1ff484};return{[_0x4f6871]:_0x1ff484,[_0x55b6b6]:await fs_internal_1['FS'][_0x238ea7(0xfb)]((0x0,path_1['join'])(this[_0x238ea7(0xc8)],_0x55b6b6),!![])};}return{[_0x55b6b6]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x238ea7(0xf6)])(this[_0x238ea7(0xc8)],_0x55b6b6),!![])};}[a171_0x3ba0ea(0xbb)](){const _0x8f0174=a171_0x3ba0ea;this[_0x8f0174(0xec)]=this[_0x8f0174(0xec)][_0x8f0174(0xe5)](_0x8481a3=>constants_1[_0x8f0174(0xbf)][_0x8f0174(0xfd)](_0x8481a3)?_0x8481a3[_0x8f0174(0xf5)]('/')[_0x8f0174(0xbc)](0x0,0x2)['join']('/'):_0x8481a3),this['paths']=[...new Set(this[_0x8f0174(0xec)])];}async[a171_0x3ba0ea(0xcf)](){const _0x75478f=a171_0x3ba0ea,_0x34274c=[];this[_0x75478f(0xbb)]();for(const _0x512f8e of this['paths']){if(_0x512f8e['endsWith'](_0x75478f(0xc0)))continue;const _0xc15764={};try{_0xc15764[_0x75478f(0xff)]=await this[_0x75478f(0xc4)](_0x512f8e),_0xc15764[_0x75478f(0xce)]=constants_1[_0x75478f(0xbf)][_0x75478f(0xfd)](_0x512f8e)?_0x512f8e:(0x0,utils_1[_0x75478f(0xe6)])({'files':_0xc15764['files']}),_0x512f8e['startsWith'](_0x75478f(0xf7))?_0xc15764[_0x75478f(0xfe)]='WaveTemplateBundle':_0xc15764[_0x75478f(0xfe)]=await(0x0,utils_1[_0x75478f(0xfa)])({'files':_0xc15764[_0x75478f(0xff)]});}catch(_0x49f4fb){this[_0x75478f(0xd6)][_0x75478f(0xd8)](_0x75478f(0xc2),_0x512f8e,_0x49f4fb);continue;}_0xc15764['name']=(0x0,utils_1[_0x75478f(0xd5)])(_0x512f8e),_0xc15764[_0x75478f(0xef)]=(0x0,crc32_1['calculateCRC32'])(_0xc15764);if((0x0,utils_1[_0x75478f(0xc7)])(_0xc15764)){const _0x4bba18=await this[_0x75478f(0xf4)](_0xc15764);_0x34274c[_0x75478f(0xda)](..._0x4bba18);}if(_0xc15764[_0x75478f(0xfe)]===_0x75478f(0xe4))continue;settings_types_list_1[_0x75478f(0xba)][_0x75478f(0xbd)](_0xc15764[_0x75478f(0xfe)])&&(_0xc15764['type']=_0x75478f(0xd2)),_0x34274c[_0x75478f(0xda)](_0xc15764);}return _0x34274c;}}exports['MDApiParserV2']=MDApiParserV2;