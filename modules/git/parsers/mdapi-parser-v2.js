const a182_0x1a2598=a182_0x4b0d;(function(_0xde88f8,_0xb9cff){const _0x5cc783=a182_0x4b0d,_0x3c419f=_0xde88f8();while(!![]){try{const _0x27635a=-parseInt(_0x5cc783(0x1bb))/0x1*(parseInt(_0x5cc783(0x1a2))/0x2)+parseInt(_0x5cc783(0x17f))/0x3*(-parseInt(_0x5cc783(0x1a9))/0x4)+parseInt(_0x5cc783(0x1bd))/0x5+parseInt(_0x5cc783(0x186))/0x6*(parseInt(_0x5cc783(0x190))/0x7)+-parseInt(_0x5cc783(0x1aa))/0x8+parseInt(_0x5cc783(0x1b1))/0x9*(parseInt(_0x5cc783(0x1a6))/0xa)+parseInt(_0x5cc783(0x18d))/0xb;if(_0x27635a===_0xb9cff)break;else _0x3c419f['push'](_0x3c419f['shift']());}catch(_0x52b28a){_0x3c419f['push'](_0x3c419f['shift']());}}}(a182_0x1b2c,0x8b7dc));const a182_0x47fab5=(function(){let _0x405e1f=!![];return function(_0xb10c40,_0x31ac22){const _0x5e5400=_0x405e1f?function(){const _0x3ba45a=a182_0x4b0d;if(_0x31ac22){const _0x555e09=_0x31ac22[_0x3ba45a(0x19e)](_0xb10c40,arguments);return _0x31ac22=null,_0x555e09;}}:function(){};return _0x405e1f=![],_0x5e5400;};}()),a182_0x825b21=a182_0x47fab5(this,function(){const _0x5b47ad=a182_0x4b0d;return a182_0x825b21[_0x5b47ad(0x180)]()['search'](_0x5b47ad(0x195))[_0x5b47ad(0x180)]()[_0x5b47ad(0x192)](a182_0x825b21)['search'](_0x5b47ad(0x195));});a182_0x825b21();'use strict';var __importDefault=this&&this[a182_0x1a2598(0x19b)]||function(_0x44c79a){const _0x1da58c=a182_0x1a2598;return _0x44c79a&&_0x44c79a[_0x1da58c(0x187)]?_0x44c79a:{'default':_0x44c79a};};function a182_0x1b2c(){const _0x311293=['85634bVGvDx','type','readDir','calculateCRC32','10wRRVtm','hasChildNodes','relative','4ajRuQW','8609528PVibxn','CustomLabels','MDApiParserV2','../../../constants','-meta.xml','defineProperty','./data/folder-types','360657iNblfJ','readFile','./utils/crc32','values','BUNDLED_FOLDERS_REGEXP','.site-meta.xml','readBundledComponent','foldBundledComponentsPaths','BaseParser','./data/child-types-map','23WAgHLM','readChildComponents','2432645lRBsKn','path','./utils','XmlV2','META_EXTENSION','extractComponentTypeFromFiles','split','replace','1814439UKwMtD','toString','paths','readComponent','getChildsByName','catch','package.xml','2943342hDVlcH','__esModule','map','push','utf-8','join','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','24419912odkIHq','isParentComponent','name','7apJSrr','sourceDir','constructor','META_EXPERIENCES_EXTENSION','test','(((.+)+)+)+$','./data/settings-types-list','default','waveTemplates','createChildComponentsFromParent','Settings','__importDefault','includes','./base.parser','apply','files','parse','error'];a182_0x1b2c=function(){return _0x311293;};return a182_0x1b2c();}function a182_0x4b0d(_0x2a8946,_0x557886){const _0x4897ec=a182_0x1b2c();return a182_0x4b0d=function(_0x825b21,_0x47fab5){_0x825b21=_0x825b21-0x179;let _0x1b2c32=_0x4897ec[_0x825b21];return _0x1b2c32;},a182_0x4b0d(_0x2a8946,_0x557886);}Object[a182_0x1a2598(0x1af)](exports,a182_0x1a2598(0x187),{'value':!![]}),exports[a182_0x1a2598(0x1ac)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a182_0x1a2598(0x179)),path_1=require(a182_0x1a2598(0x1be)),xml_v2_1=require('./utils/xml-v2'),child_types_map_1=__importDefault(require(a182_0x1a2598(0x1ba))),constants_1=require(a182_0x1a2598(0x1ad)),crc32_1=require(a182_0x1a2598(0x1b3)),folder_types_1=__importDefault(require(a182_0x1a2598(0x1b0))),settings_types_list_1=__importDefault(require(a182_0x1a2598(0x196))),base_parser_1=require(a182_0x1a2598(0x19d)),CHILD_XML_KEYS=Object[a182_0x1a2598(0x1b4)](child_types_map_1[a182_0x1a2598(0x197)]);class MDApiParserV2 extends base_parser_1[a182_0x1a2598(0x1b9)]{constructor({sourceDir:_0x2d3876,paths:_0x5c8d10}){const _0x474bf7=a182_0x1a2598;super({'sourceDir':_0x2d3876,'paths':_0x5c8d10},MDApiParserV2[_0x474bf7(0x18f)]),this[_0x474bf7(0x17b)]=_0x474bf7(0x1ae),this[_0x474bf7(0x193)]=_0x474bf7(0x1b6);}async[a182_0x1a2598(0x1bc)](_0x14724b){const _0x1f3614=a182_0x1a2598;try{const _0x518bdb=await xml_v2_1[_0x1f3614(0x17a)][_0x1f3614(0x1a0)](Object[_0x1f3614(0x1b4)](_0x14724b[_0x1f3614(0x19f)])[0x0]['toString'](_0x1f3614(0x18a))),_0x40d13d=CHILD_XML_KEYS['filter'](_0x1f48e7=>xml_v2_1[_0x1f3614(0x17a)][_0x1f3614(0x1a7)](_0x518bdb,_0x1f48e7))['reduce']((_0x21a49d,_0x2c1ec1)=>[..._0x21a49d,...xml_v2_1[_0x1f3614(0x17a)][_0x1f3614(0x183)](_0x518bdb,_0x2c1ec1)],[]);return(0x0,utils_1[_0x1f3614(0x199)])(_0x14724b,_0x518bdb,_0x40d13d);}catch(_0x348216){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x14724b['name']+'\x20['+_0x14724b[_0x1f3614(0x1a3)]+']');}}async[a182_0x1a2598(0x1b7)](_0x10ede2){const _0x2c0689=a182_0x1a2598,_0x46c774=(0x0,path_1[_0x2c0689(0x18b)])(this['sourceDir'],_0x10ede2),_0x1b6ddf=_0x10ede2+(_0x10ede2['startsWith']('experiences')?this[_0x2c0689(0x193)]:this[_0x2c0689(0x17b)]),_0xe255ad=await fs_internal_1['FS'][_0x2c0689(0x1a4)](_0x46c774,!![]),_0x18ca9a=await fs_internal_1['FS'][_0x2c0689(0x1b2)]((0x0,path_1[_0x2c0689(0x18b)])(this['sourceDir'],_0x1b6ddf),!![])[_0x2c0689(0x184)](()=>null),_0x1da323={};for(const _0x837e5f of _0xe255ad){_0x1da323[(0x0,path_1[_0x2c0689(0x1a8)])(this[_0x2c0689(0x191)],_0x837e5f)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x2c0689(0x1b2)](_0x837e5f,!![]);}return _0x18ca9a&&(_0x1da323[(0x0,path_1[_0x2c0689(0x1a8)])(this[_0x2c0689(0x191)],_0x1b6ddf)[_0x2c0689(0x17e)](/\\/g,'/')]=_0x18ca9a),_0x1da323;}async[a182_0x1a2598(0x182)](_0x4507d3){const _0x556383=a182_0x1a2598,_0x4e5db5=_0x4507d3+this['META_EXTENSION'];if(constants_1[_0x556383(0x1b5)][_0x556383(0x194)](_0x4507d3))return this[_0x556383(0x1b7)](_0x4507d3);if(await fs_internal_1['FS']['exists']((0x0,path_1['join'])(this[_0x556383(0x191)],_0x4e5db5))){const _0x1a0d36=await fs_internal_1['FS'][_0x556383(0x1b2)]((0x0,path_1[_0x556383(0x18b)])(this[_0x556383(0x191)],_0x4e5db5),!![]),_0x4fe605=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x4e5db5]:_0x1a0d36}})[_0x556383(0x184)](()=>null);if(_0x4fe605&&folder_types_1[_0x556383(0x197)][_0x556383(0x19c)](_0x4fe605))return{[_0x4e5db5]:_0x1a0d36};return{[_0x4e5db5]:_0x1a0d36,[_0x4507d3]:await fs_internal_1['FS'][_0x556383(0x1b2)]((0x0,path_1[_0x556383(0x18b)])(this[_0x556383(0x191)],_0x4507d3),!![])};}return{[_0x4507d3]:await fs_internal_1['FS'][_0x556383(0x1b2)]((0x0,path_1[_0x556383(0x18b)])(this[_0x556383(0x191)],_0x4507d3),!![])};}[a182_0x1a2598(0x1b8)](){const _0x47f451=a182_0x1a2598;this[_0x47f451(0x181)]=this[_0x47f451(0x181)][_0x47f451(0x188)](_0x12e926=>constants_1[_0x47f451(0x1b5)]['test'](_0x12e926)?_0x12e926[_0x47f451(0x17d)]('/')['slice'](0x0,0x2)[_0x47f451(0x18b)]('/'):_0x12e926),this[_0x47f451(0x181)]=[...new Set(this[_0x47f451(0x181)])];}async['execute'](){const _0x2c1c1a=a182_0x1a2598,_0x3a279b=[];this['foldBundledComponentsPaths']();for(const _0x3f8492 of this[_0x2c1c1a(0x181)]){if(_0x3f8492['endsWith'](_0x2c1c1a(0x185)))continue;const _0x41b139={};try{_0x41b139['files']=await this[_0x2c1c1a(0x182)](_0x3f8492),_0x41b139['filePath']=constants_1[_0x2c1c1a(0x1b5)][_0x2c1c1a(0x194)](_0x3f8492)?_0x3f8492:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x41b139[_0x2c1c1a(0x19f)]}),_0x3f8492['startsWith'](_0x2c1c1a(0x198))?_0x41b139['type']='WaveTemplateBundle':_0x41b139[_0x2c1c1a(0x1a3)]=await(0x0,utils_1[_0x2c1c1a(0x17c)])({'files':_0x41b139['files']});}catch(_0x35c040){this['logger'][_0x2c1c1a(0x1a1)](_0x2c1c1a(0x18c),_0x3f8492,_0x35c040);continue;}_0x41b139[_0x2c1c1a(0x18f)]=(0x0,utils_1['extractFilenameFromPath'])(_0x3f8492),_0x41b139['crc']=(0x0,crc32_1[_0x2c1c1a(0x1a5)])(_0x41b139);if((0x0,utils_1[_0x2c1c1a(0x18e)])(_0x41b139)){const _0x4cff7e=await this['readChildComponents'](_0x41b139);_0x3a279b['push'](..._0x4cff7e);}if(_0x41b139['type']===_0x2c1c1a(0x1ab))continue;settings_types_list_1[_0x2c1c1a(0x197)][_0x2c1c1a(0x19c)](_0x41b139[_0x2c1c1a(0x1a3)])&&(_0x41b139[_0x2c1c1a(0x1a3)]=_0x2c1c1a(0x19a)),_0x3a279b[_0x2c1c1a(0x189)](_0x41b139);}return _0x3a279b;}}exports[a182_0x1a2598(0x1ac)]=MDApiParserV2;