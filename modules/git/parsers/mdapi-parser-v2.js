function a171_0x557b(_0x478695,_0x34e822){const _0x185211=a171_0xd917();return a171_0x557b=function(_0xe3619f,_0x11cbff){_0xe3619f=_0xe3619f-0x169;let _0xd917f8=_0x185211[_0xe3619f];return _0xd917f8;},a171_0x557b(_0x478695,_0x34e822);}const a171_0x95f5de=a171_0x557b;(function(_0x502f98,_0x1d6275){const _0x2af10d=a171_0x557b,_0x5d8e73=_0x502f98();while(!![]){try{const _0x1a0a2f=-parseInt(_0x2af10d(0x190))/0x1+parseInt(_0x2af10d(0x17e))/0x2+parseInt(_0x2af10d(0x17c))/0x3+-parseInt(_0x2af10d(0x16b))/0x4*(parseInt(_0x2af10d(0x16c))/0x5)+-parseInt(_0x2af10d(0x16e))/0x6+-parseInt(_0x2af10d(0x1a8))/0x7+-parseInt(_0x2af10d(0x1aa))/0x8*(-parseInt(_0x2af10d(0x17b))/0x9);if(_0x1a0a2f===_0x1d6275)break;else _0x5d8e73['push'](_0x5d8e73['shift']());}catch(_0xd59c42){_0x5d8e73['push'](_0x5d8e73['shift']());}}}(a171_0xd917,0x50eb3));const a171_0x11cbff=(function(){let _0x1ebacc=!![];return function(_0x57d4e9,_0x1c19b7){const _0x143868=_0x1ebacc?function(){if(_0x1c19b7){const _0x17c2dc=_0x1c19b7['apply'](_0x57d4e9,arguments);return _0x1c19b7=null,_0x17c2dc;}}:function(){};return _0x1ebacc=![],_0x143868;};}()),a171_0xe3619f=a171_0x11cbff(this,function(){const _0x2e1ae1=a171_0x557b;return a171_0xe3619f[_0x2e1ae1(0x174)]()[_0x2e1ae1(0x182)](_0x2e1ae1(0x192))[_0x2e1ae1(0x174)]()[_0x2e1ae1(0x19b)](a171_0xe3619f)[_0x2e1ae1(0x182)](_0x2e1ae1(0x192));});a171_0xe3619f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1143b1){return _0x1143b1&&_0x1143b1['__esModule']?_0x1143b1:{'default':_0x1143b1};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require(a171_0x95f5de(0x197)),utils_1=require(a171_0x95f5de(0x18c)),path_1=require(a171_0x95f5de(0x19f)),xml_v2_1=require('./utils/xml-v2'),child_types_map_1=__importDefault(require('./data/child-types-map')),constants_1=require(a171_0x95f5de(0x171)),crc32_1=require(a171_0x95f5de(0x198)),folder_types_1=__importDefault(require(a171_0x95f5de(0x187))),settings_types_list_1=__importDefault(require(a171_0x95f5de(0x188))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a171_0x95f5de(0x1a0)](child_types_map_1['default']);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0xc2195a,paths:_0x5ac386}){const _0x48baf0=a171_0x95f5de;super({'sourceDir':_0xc2195a,'paths':_0x5ac386},MDApiParserV2[_0x48baf0(0x185)]),this['META_EXTENSION']=_0x48baf0(0x196),this[_0x48baf0(0x19a)]='.site-meta.xml';}async[a171_0x95f5de(0x19e)](_0x3ef11d){const _0x2a65d7=a171_0x95f5de;try{const _0x1f8ce7=await xml_v2_1[_0x2a65d7(0x184)][_0x2a65d7(0x18e)](Object[_0x2a65d7(0x1a0)](_0x3ef11d[_0x2a65d7(0x173)])[0x0][_0x2a65d7(0x174)](_0x2a65d7(0x1a2))),_0x3c6d36=CHILD_XML_KEYS[_0x2a65d7(0x16f)](_0x51021d=>xml_v2_1[_0x2a65d7(0x184)]['hasChildNodes'](_0x1f8ce7,_0x51021d))['reduce']((_0x4b96eb,_0x5c788a)=>[..._0x4b96eb,...xml_v2_1[_0x2a65d7(0x184)]['getChildsByName'](_0x1f8ce7,_0x5c788a)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x3ef11d,_0x1f8ce7,_0x3c6d36);}catch(_0x4c42f8){throw new Error('Cannot\x20parse\x20children\x20in\x20'+_0x3ef11d[_0x2a65d7(0x185)]+'\x20['+_0x3ef11d['type']+']');}}async['readBundledComponent'](_0x52dc9a){const _0xde754=a171_0x95f5de,_0x38e9e9=(0x0,path_1[_0xde754(0x1a5)])(this[_0xde754(0x18b)],_0x52dc9a),_0x18a73c=_0x52dc9a+(_0x52dc9a[_0xde754(0x172)](_0xde754(0x18f))?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x735dfd=await fs_internal_1['FS'][_0xde754(0x176)](_0x38e9e9,!![]),_0x417097=await fs_internal_1['FS'][_0xde754(0x19d)]((0x0,path_1[_0xde754(0x1a5)])(this['sourceDir'],_0x18a73c),!![])['catch'](()=>null),_0x5cef8c={};for(const _0x57e8d5 of _0x735dfd){_0x5cef8c[(0x0,path_1[_0xde754(0x1a3)])(this[_0xde754(0x18b)],_0x57e8d5)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0xde754(0x19d)](_0x57e8d5,!![]);}return _0x417097&&(_0x5cef8c[(0x0,path_1[_0xde754(0x1a3)])(this[_0xde754(0x18b)],_0x18a73c)[_0xde754(0x1a1)](/\\/g,'/')]=_0x417097),_0x5cef8c;}async[a171_0x95f5de(0x16a)](_0x569468){const _0x411a82=a171_0x95f5de,_0x194146=_0x569468+this['META_EXTENSION'];if(constants_1[_0x411a82(0x199)][_0x411a82(0x179)](_0x569468))return this[_0x411a82(0x1a4)](_0x569468);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x411a82(0x1a5)])(this[_0x411a82(0x18b)],_0x194146))){const _0x5968de=await fs_internal_1['FS'][_0x411a82(0x19d)]((0x0,path_1[_0x411a82(0x1a5)])(this[_0x411a82(0x18b)],_0x194146),!![]),_0xd496d3=await(0x0,utils_1[_0x411a82(0x18a)])({'files':{[_0x194146]:_0x5968de}})['catch'](()=>null);if(_0xd496d3&&folder_types_1['default'][_0x411a82(0x178)](_0xd496d3))return{[_0x194146]:_0x5968de};return{[_0x194146]:_0x5968de,[_0x569468]:await fs_internal_1['FS'][_0x411a82(0x19d)]((0x0,path_1[_0x411a82(0x1a5)])(this['sourceDir'],_0x569468),!![])};}return{[_0x569468]:await fs_internal_1['FS'][_0x411a82(0x19d)]((0x0,path_1['join'])(this['sourceDir'],_0x569468),!![])};}[a171_0x95f5de(0x189)](){const _0x52ab5f=a171_0x95f5de;this[_0x52ab5f(0x16d)]=this[_0x52ab5f(0x16d)]['map'](_0x2f2df5=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0x52ab5f(0x179)](_0x2f2df5)?_0x2f2df5[_0x52ab5f(0x186)]('/')[_0x52ab5f(0x18d)](0x0,0x2)['join']('/'):_0x2f2df5),this['paths']=[...new Set(this[_0x52ab5f(0x16d)])];}async[a171_0x95f5de(0x193)](){const _0x6366fd=a171_0x95f5de,_0x2d1888=[];this[_0x6366fd(0x189)]();for(const _0x4e4764 of this[_0x6366fd(0x16d)]){if(_0x4e4764[_0x6366fd(0x183)]('package.xml'))continue;const _0x1487f1={};try{_0x1487f1['files']=await this[_0x6366fd(0x16a)](_0x4e4764),_0x1487f1[_0x6366fd(0x194)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x6366fd(0x179)](_0x4e4764)?_0x4e4764:(0x0,utils_1[_0x6366fd(0x175)])({'files':_0x1487f1[_0x6366fd(0x173)]}),_0x4e4764[_0x6366fd(0x172)](_0x6366fd(0x170))?_0x1487f1[_0x6366fd(0x19c)]=_0x6366fd(0x1a9):_0x1487f1[_0x6366fd(0x19c)]=await(0x0,utils_1[_0x6366fd(0x18a)])({'files':_0x1487f1[_0x6366fd(0x173)]});}catch(_0x3e679b){this[_0x6366fd(0x1a6)][_0x6366fd(0x177)](_0x6366fd(0x1a7),_0x4e4764,_0x3e679b);continue;}_0x1487f1[_0x6366fd(0x185)]=(0x0,utils_1[_0x6366fd(0x181)])(_0x4e4764),_0x1487f1[_0x6366fd(0x17a)]=(0x0,crc32_1[_0x6366fd(0x17d)])(_0x1487f1);if((0x0,utils_1[_0x6366fd(0x17f)])(_0x1487f1)){const _0x31ff1d=await this[_0x6366fd(0x19e)](_0x1487f1);_0x2d1888[_0x6366fd(0x169)](..._0x31ff1d);}if(_0x1487f1[_0x6366fd(0x19c)]==='CustomLabels')continue;settings_types_list_1[_0x6366fd(0x195)][_0x6366fd(0x178)](_0x1487f1['type'])&&(_0x1487f1['type']=_0x6366fd(0x180)),_0x2d1888[_0x6366fd(0x169)](_0x1487f1);}return _0x2d1888;}}exports[a171_0x95f5de(0x191)]=MDApiParserV2;function a171_0xd917(){const _0x359698=['files','toString','extractFileNameFromFiles','readDir','error','includes','test','crc','2010303HvaLwL','1372464JiIOMg','calculateCRC32','724494vBrehZ','isParentComponent','Settings','extractFilenameFromPath','search','endsWith','XmlV2','name','split','./data/folder-types','./data/settings-types-list','foldBundledComponentsPaths','extractComponentTypeFromFiles','sourceDir','./utils','slice','parse','experiences','47636OPAguC','MDApiParserV2','(((.+)+)+)+$','execute','filePath','default','-meta.xml','../internal/fs.internal','./utils/crc32','BUNDLED_FOLDERS_REGEXP','META_EXPERIENCES_EXTENSION','constructor','type','readFile','readChildComponents','path','values','replace','utf-8','relative','readBundledComponent','join','logger','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','3237325ytFFGg','WaveTemplateBundle','24PTggBW','push','readComponent','4qfXOjO','1000390HbIvQV','paths','2689224eZjIhE','filter','waveTemplates','../../../constants','startsWith'];a171_0xd917=function(){return _0x359698;};return a171_0xd917();}