const a156_0x2e1999=a156_0x53f2;(function(_0x2bd361,_0x438949){const _0x57f49b=a156_0x53f2,_0x45d92d=_0x2bd361();while(!![]){try{const _0x3e3d35=-parseInt(_0x57f49b(0x14e))/0x1+parseInt(_0x57f49b(0x12a))/0x2*(parseInt(_0x57f49b(0x133))/0x3)+parseInt(_0x57f49b(0x155))/0x4*(parseInt(_0x57f49b(0x14c))/0x5)+-parseInt(_0x57f49b(0x123))/0x6+parseInt(_0x57f49b(0x11e))/0x7+-parseInt(_0x57f49b(0x118))/0x8*(parseInt(_0x57f49b(0x11a))/0x9)+parseInt(_0x57f49b(0x15a))/0xa;if(_0x3e3d35===_0x438949)break;else _0x45d92d['push'](_0x45d92d['shift']());}catch(_0x1a6e5d){_0x45d92d['push'](_0x45d92d['shift']());}}}(a156_0x54dc,0xccaf8));function a156_0x53f2(_0x5a50fb,_0x447069){const _0x36890c=a156_0x54dc();return a156_0x53f2=function(_0x210019,_0xdaba4c){_0x210019=_0x210019-0x115;let _0x54dc95=_0x36890c[_0x210019];return _0x54dc95;},a156_0x53f2(_0x5a50fb,_0x447069);}const a156_0xdaba4c=(function(){let _0x468f7f=!![];return function(_0x77a601,_0x108ffa){const _0x166750=_0x468f7f?function(){const _0xf48b67=a156_0x53f2;if(_0x108ffa){const _0x16b238=_0x108ffa[_0xf48b67(0x146)](_0x77a601,arguments);return _0x108ffa=null,_0x16b238;}}:function(){};return _0x468f7f=![],_0x166750;};}()),a156_0x210019=a156_0xdaba4c(this,function(){const _0x409343=a156_0x53f2;return a156_0x210019[_0x409343(0x13e)]()[_0x409343(0x140)](_0x409343(0x12e))['toString']()[_0x409343(0x12d)](a156_0x210019)[_0x409343(0x140)](_0x409343(0x12e));});a156_0x210019();function a156_0x54dc(){const _0x40bd44=['experiences','getChildsByName','extractFileNameFromFiles','15qdizDq','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readDir','files','filePath','map','default','MDApiParserV2','./utils/crc32','META_EXTENSION','sourceDir','toString','includes','search','./data/settings-types-list','__esModule','readComponent','startsWith','isParentComponent','apply','relative','Cannot\x20parse\x20children\x20in\x20','paths','logger','Settings','985ONmsoM','join','850156ehTHpd','foldBundledComponentsPaths','catch','values','parse','push','.site-meta.xml','18820jBJKxz','name','WaveTemplateBundle','waveTemplates','__importDefault','2381640WtQruU','crc','reduce','XmlV2','229048RmIIec','readFile','9rLAKxy','defineProperty','../internal/fs.internal','replace','5912942ieEAgG','filter','./data/child-types-map','type','META_EXPERIENCES_EXTENSION','8163246bLGzpW','BUNDLED_FOLDERS_REGEXP','./base.parser','readChildComponents','extractComponentTypeFromFiles','test','utf-8','427186AWEJNt','readBundledComponent','./utils/xml-v2','constructor','(((.+)+)+)+$','endsWith'];a156_0x54dc=function(){return _0x40bd44;};return a156_0x54dc();}'use strict';var __importDefault=this&&this[a156_0x2e1999(0x159)]||function(_0x2f5371){const _0x5981bb=a156_0x2e1999;return _0x2f5371&&_0x2f5371[_0x5981bb(0x142)]?_0x2f5371:{'default':_0x2f5371};};Object[a156_0x2e1999(0x11b)](exports,a156_0x2e1999(0x142),{'value':!![]}),exports[a156_0x2e1999(0x13a)]=void 0x0;const fs_internal_1=require(a156_0x2e1999(0x11c)),utils_1=require('./utils'),path_1=require('path'),xml_v2_1=require(a156_0x2e1999(0x12c)),child_types_map_1=__importDefault(require(a156_0x2e1999(0x120))),constants_1=require('../../../constants'),crc32_1=require(a156_0x2e1999(0x13b)),folder_types_1=__importDefault(require('./data/folder-types')),settings_types_list_1=__importDefault(require(a156_0x2e1999(0x141))),base_parser_1=require(a156_0x2e1999(0x125)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a156_0x2e1999(0x139)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0x5b6df2,paths:_0x291876}){const _0x994f07=a156_0x2e1999;super({'sourceDir':_0x5b6df2,'paths':_0x291876},MDApiParserV2['name']),this[_0x994f07(0x13c)]='-meta.xml',this[_0x994f07(0x122)]=_0x994f07(0x154);}async['readChildComponents'](_0x19e512){const _0x19b3f1=a156_0x2e1999;try{const _0x4925f5=await xml_v2_1['XmlV2'][_0x19b3f1(0x152)](Object[_0x19b3f1(0x151)](_0x19e512[_0x19b3f1(0x136)])[0x0][_0x19b3f1(0x13e)](_0x19b3f1(0x129))),_0x160d6c=CHILD_XML_KEYS[_0x19b3f1(0x11f)](_0x2defec=>xml_v2_1[_0x19b3f1(0x117)]['hasChildNodes'](_0x4925f5,_0x2defec))[_0x19b3f1(0x116)]((_0x4ab9e8,_0x2a468e)=>[..._0x4ab9e8,...xml_v2_1[_0x19b3f1(0x117)][_0x19b3f1(0x131)](_0x4925f5,_0x2a468e)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x19e512,_0x4925f5,_0x160d6c);}catch(_0x2db1e6){throw new Error(_0x19b3f1(0x148)+_0x19e512[_0x19b3f1(0x156)]+'\x20['+_0x19e512[_0x19b3f1(0x121)]+']');}}async[a156_0x2e1999(0x12b)](_0x2a1061){const _0x48eb12=a156_0x2e1999,_0x4278eb=(0x0,path_1[_0x48eb12(0x14d)])(this[_0x48eb12(0x13d)],_0x2a1061),_0x3c2e7f=_0x2a1061+(_0x2a1061[_0x48eb12(0x144)](_0x48eb12(0x130))?this['META_EXPERIENCES_EXTENSION']:this[_0x48eb12(0x13c)]),_0x27af43=await fs_internal_1['FS'][_0x48eb12(0x135)](_0x4278eb,!![]),_0x4ed001=await fs_internal_1['FS'][_0x48eb12(0x119)]((0x0,path_1[_0x48eb12(0x14d)])(this[_0x48eb12(0x13d)],_0x3c2e7f),!![])[_0x48eb12(0x150)](()=>null),_0x43c452={};for(const _0x536a37 of _0x27af43){_0x43c452[(0x0,path_1[_0x48eb12(0x147)])(this[_0x48eb12(0x13d)],_0x536a37)[_0x48eb12(0x11d)](/\\/g,'/')]=await fs_internal_1['FS'][_0x48eb12(0x119)](_0x536a37,!![]);}return _0x4ed001&&(_0x43c452[(0x0,path_1[_0x48eb12(0x147)])(this['sourceDir'],_0x3c2e7f)['replace'](/\\/g,'/')]=_0x4ed001),_0x43c452;}async[a156_0x2e1999(0x143)](_0x1719f9){const _0xb54aee=a156_0x2e1999,_0x359b76=_0x1719f9+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0xb54aee(0x128)](_0x1719f9))return this[_0xb54aee(0x12b)](_0x1719f9);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0xb54aee(0x14d)])(this[_0xb54aee(0x13d)],_0x359b76))){const _0x3b2661=await fs_internal_1['FS'][_0xb54aee(0x119)]((0x0,path_1[_0xb54aee(0x14d)])(this[_0xb54aee(0x13d)],_0x359b76),!![]),_0x435272=await(0x0,utils_1[_0xb54aee(0x127)])({'files':{[_0x359b76]:_0x3b2661}})[_0xb54aee(0x150)](()=>null);if(_0x435272&&folder_types_1[_0xb54aee(0x139)]['includes'](_0x435272))return{[_0x359b76]:_0x3b2661};return{[_0x359b76]:_0x3b2661,[_0x1719f9]:await fs_internal_1['FS'][_0xb54aee(0x119)]((0x0,path_1[_0xb54aee(0x14d)])(this['sourceDir'],_0x1719f9),!![])};}return{[_0x1719f9]:await fs_internal_1['FS'][_0xb54aee(0x119)]((0x0,path_1[_0xb54aee(0x14d)])(this[_0xb54aee(0x13d)],_0x1719f9),!![])};}[a156_0x2e1999(0x14f)](){const _0x3f3523=a156_0x2e1999;this[_0x3f3523(0x149)]=this[_0x3f3523(0x149)][_0x3f3523(0x138)](_0x4c85d2=>constants_1[_0x3f3523(0x124)]['test'](_0x4c85d2)?_0x4c85d2['split']('/')['slice'](0x0,0x2)[_0x3f3523(0x14d)]('/'):_0x4c85d2),this[_0x3f3523(0x149)]=[...new Set(this[_0x3f3523(0x149)])];}async['execute'](){const _0xa8880b=a156_0x2e1999,_0x3dda4c=[];this[_0xa8880b(0x14f)]();for(const _0x30a8d2 of this[_0xa8880b(0x149)]){if(_0x30a8d2[_0xa8880b(0x12f)]('package.xml'))continue;const _0x4b89ac={};try{_0x4b89ac[_0xa8880b(0x136)]=await this[_0xa8880b(0x143)](_0x30a8d2),_0x4b89ac[_0xa8880b(0x137)]=constants_1[_0xa8880b(0x124)][_0xa8880b(0x128)](_0x30a8d2)?_0x30a8d2:(0x0,utils_1[_0xa8880b(0x132)])({'files':_0x4b89ac[_0xa8880b(0x136)]}),_0x30a8d2[_0xa8880b(0x144)](_0xa8880b(0x158))?_0x4b89ac[_0xa8880b(0x121)]=_0xa8880b(0x157):_0x4b89ac[_0xa8880b(0x121)]=await(0x0,utils_1[_0xa8880b(0x127)])({'files':_0x4b89ac[_0xa8880b(0x136)]});}catch(_0x2e2ec1){this[_0xa8880b(0x14a)]['error'](_0xa8880b(0x134),_0x30a8d2,_0x2e2ec1);continue;}_0x4b89ac[_0xa8880b(0x156)]=(0x0,utils_1['extractFilenameFromPath'])(_0x30a8d2),_0x4b89ac[_0xa8880b(0x115)]=(0x0,crc32_1['calculateCRC32'])(_0x4b89ac);if((0x0,utils_1[_0xa8880b(0x145)])(_0x4b89ac)){const _0x50e1b4=await this[_0xa8880b(0x126)](_0x4b89ac);_0x3dda4c[_0xa8880b(0x153)](..._0x50e1b4);}if(_0x4b89ac['type']==='CustomLabels')continue;settings_types_list_1['default'][_0xa8880b(0x13f)](_0x4b89ac[_0xa8880b(0x121)])&&(_0x4b89ac[_0xa8880b(0x121)]=_0xa8880b(0x14b)),_0x3dda4c['push'](_0x4b89ac);}return _0x3dda4c;}}exports['MDApiParserV2']=MDApiParserV2;