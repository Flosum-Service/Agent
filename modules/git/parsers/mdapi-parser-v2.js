const a183_0x4455b3=a183_0x54a9;(function(_0x3728b0,_0x3f48ac){const _0x38cd02=a183_0x54a9,_0x4795a3=_0x3728b0();while(!![]){try{const _0x517c39=parseInt(_0x38cd02(0x178))/0x1*(-parseInt(_0x38cd02(0x1a2))/0x2)+-parseInt(_0x38cd02(0x17d))/0x3*(parseInt(_0x38cd02(0x193))/0x4)+parseInt(_0x38cd02(0x1a6))/0x5*(parseInt(_0x38cd02(0x179))/0x6)+-parseInt(_0x38cd02(0x1a8))/0x7*(-parseInt(_0x38cd02(0x199))/0x8)+-parseInt(_0x38cd02(0x196))/0x9*(parseInt(_0x38cd02(0x1ae))/0xa)+parseInt(_0x38cd02(0x19d))/0xb+parseInt(_0x38cd02(0x18e))/0xc;if(_0x517c39===_0x3f48ac)break;else _0x4795a3['push'](_0x4795a3['shift']());}catch(_0x19b17f){_0x4795a3['push'](_0x4795a3['shift']());}}}(a183_0x46ee,0xa306a));const a183_0x1dd69b=(function(){let _0xe1d476=!![];return function(_0x1f6467,_0x47603a){const _0x14ad0c=_0xe1d476?function(){const _0x5623f4=a183_0x54a9;if(_0x47603a){const _0x8edf1c=_0x47603a[_0x5623f4(0x186)](_0x1f6467,arguments);return _0x47603a=null,_0x8edf1c;}}:function(){};return _0xe1d476=![],_0x14ad0c;};}()),a183_0x9ac47d=a183_0x1dd69b(this,function(){const _0x3dbe0d=a183_0x54a9;return a183_0x9ac47d['toString']()[_0x3dbe0d(0x1a0)]('(((.+)+)+)+$')['toString']()[_0x3dbe0d(0x1b8)](a183_0x9ac47d)[_0x3dbe0d(0x1a0)](_0x3dbe0d(0x19f));});function a183_0x54a9(_0x51d60b,_0x42eafa){const _0x3d491b=a183_0x46ee();return a183_0x54a9=function(_0x9ac47d,_0x1dd69b){_0x9ac47d=_0x9ac47d-0x173;let _0x46ee08=_0x3d491b[_0x9ac47d];return _0x46ee08;},a183_0x54a9(_0x51d60b,_0x42eafa);}a183_0x9ac47d();'use strict';var __importDefault=this&&this[a183_0x4455b3(0x1bb)]||function(_0x3d01f1){const _0xdf5ea6=a183_0x4455b3;return _0x3d01f1&&_0x3d01f1[_0xdf5ea6(0x1a9)]?_0x3d01f1:{'default':_0x3d01f1};};function a183_0x46ee(){const _0x299d91=['sourceDir','crc','default','Settings','extractFilenameFromPath','reduce','endsWith','apply','META_EXPERIENCES_EXTENSION','filter','join','replace','readBundledComponent','test','XmlV2','17660664HKucPY','values','META_EXTENSION','readDir','Cannot\x20parse\x20children\x20in\x20','4bHCpGn','logger','files','4239BDXsix','name','type','4162904beilMt','readComponent','paths','includes','1401400CnEVDV','./data/child-types-map','(((.+)+)+)+$','search','parse','2nTznIm','readChildComponents','execute','extractComponentTypeFromFiles','48085NloXGo','BUNDLED_FOLDERS_REGEXP','7zDQtEZ','__esModule','relative','startsWith','readFile','../internal/fs.internal','5070MYLcVH','experiences','foldBundledComponentsPaths','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','getChildsByName','./base.parser','error','catch','path','./data/folder-types','constructor','MDApiParserV2','waveTemplates','__importDefault','split','exists','./data/settings-types-list','calculateCRC32','utf-8','WaveTemplateBundle','108760CEKPxG','6ceTRpY','CustomLabels','.site-meta.xml','./utils','3341373rCcbBX','hasChildNodes'];a183_0x46ee=function(){return _0x299d91;};return a183_0x46ee();}Object['defineProperty'](exports,a183_0x4455b3(0x1a9),{'value':!![]}),exports[a183_0x4455b3(0x1b9)]=void 0x0;const fs_internal_1=require(a183_0x4455b3(0x1ad)),utils_1=require(a183_0x4455b3(0x17c)),path_1=require(a183_0x4455b3(0x1b6)),xml_v2_1=require('./utils/xml-v2'),child_types_map_1=__importDefault(require(a183_0x4455b3(0x19e))),constants_1=require('../../../constants'),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a183_0x4455b3(0x1b7))),settings_types_list_1=__importDefault(require(a183_0x4455b3(0x174))),base_parser_1=require(a183_0x4455b3(0x1b3)),CHILD_XML_KEYS=Object[a183_0x4455b3(0x18f)](child_types_map_1['default']);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0x4c1c6b,paths:_0x3db70c}){const _0xb48e81=a183_0x4455b3;super({'sourceDir':_0x4c1c6b,'paths':_0x3db70c},MDApiParserV2[_0xb48e81(0x197)]),this[_0xb48e81(0x190)]='-meta.xml',this[_0xb48e81(0x187)]=_0xb48e81(0x17b);}async['readChildComponents'](_0x19d9d1){const _0x1d4e32=a183_0x4455b3;try{const _0x2be9d9=await xml_v2_1[_0x1d4e32(0x18d)][_0x1d4e32(0x1a1)](Object['values'](_0x19d9d1[_0x1d4e32(0x195)])[0x0]['toString'](_0x1d4e32(0x176))),_0x529332=CHILD_XML_KEYS[_0x1d4e32(0x188)](_0x52f6c1=>xml_v2_1[_0x1d4e32(0x18d)][_0x1d4e32(0x17e)](_0x2be9d9,_0x52f6c1))[_0x1d4e32(0x184)]((_0x354279,_0x4b3a4d)=>[..._0x354279,...xml_v2_1[_0x1d4e32(0x18d)][_0x1d4e32(0x1b2)](_0x2be9d9,_0x4b3a4d)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x19d9d1,_0x2be9d9,_0x529332);}catch(_0x1bce5d){throw new Error(_0x1d4e32(0x192)+_0x19d9d1[_0x1d4e32(0x197)]+'\x20['+_0x19d9d1['type']+']');}}async[a183_0x4455b3(0x18b)](_0x2f2448){const _0x4373ef=a183_0x4455b3,_0x1cda89=(0x0,path_1['join'])(this['sourceDir'],_0x2f2448),_0x5cbeb3=_0x2f2448+(_0x2f2448['startsWith'](_0x4373ef(0x1af))?this[_0x4373ef(0x187)]:this[_0x4373ef(0x190)]),_0x25bee1=await fs_internal_1['FS'][_0x4373ef(0x191)](_0x1cda89,!![]),_0x3a3117=await fs_internal_1['FS'][_0x4373ef(0x1ac)]((0x0,path_1['join'])(this[_0x4373ef(0x17f)],_0x5cbeb3),!![])[_0x4373ef(0x1b5)](()=>null),_0x359b68={};for(const _0x2bafe1 of _0x25bee1){_0x359b68[(0x0,path_1[_0x4373ef(0x1aa)])(this[_0x4373ef(0x17f)],_0x2bafe1)[_0x4373ef(0x18a)](/\\/g,'/')]=await fs_internal_1['FS'][_0x4373ef(0x1ac)](_0x2bafe1,!![]);}return _0x3a3117&&(_0x359b68[(0x0,path_1[_0x4373ef(0x1aa)])(this[_0x4373ef(0x17f)],_0x5cbeb3)[_0x4373ef(0x18a)](/\\/g,'/')]=_0x3a3117),_0x359b68;}async['readComponent'](_0x2a9375){const _0x59d243=a183_0x4455b3,_0x5bf0c4=_0x2a9375+this[_0x59d243(0x190)];if(constants_1[_0x59d243(0x1a7)][_0x59d243(0x18c)](_0x2a9375))return this[_0x59d243(0x18b)](_0x2a9375);if(await fs_internal_1['FS'][_0x59d243(0x173)]((0x0,path_1['join'])(this[_0x59d243(0x17f)],_0x5bf0c4))){const _0x1e4c98=await fs_internal_1['FS'][_0x59d243(0x1ac)]((0x0,path_1[_0x59d243(0x189)])(this[_0x59d243(0x17f)],_0x5bf0c4),!![]),_0x4f289e=await(0x0,utils_1[_0x59d243(0x1a5)])({'files':{[_0x5bf0c4]:_0x1e4c98}})['catch'](()=>null);if(_0x4f289e&&folder_types_1['default']['includes'](_0x4f289e))return{[_0x5bf0c4]:_0x1e4c98};return{[_0x5bf0c4]:_0x1e4c98,[_0x2a9375]:await fs_internal_1['FS'][_0x59d243(0x1ac)]((0x0,path_1['join'])(this[_0x59d243(0x17f)],_0x2a9375),!![])};}return{[_0x2a9375]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x59d243(0x189)])(this[_0x59d243(0x17f)],_0x2a9375),!![])};}[a183_0x4455b3(0x1b0)](){const _0xeb4f1e=a183_0x4455b3;this[_0xeb4f1e(0x19b)]=this[_0xeb4f1e(0x19b)]['map'](_0x46a1c7=>constants_1['BUNDLED_FOLDERS_REGEXP'][_0xeb4f1e(0x18c)](_0x46a1c7)?_0x46a1c7[_0xeb4f1e(0x1bc)]('/')['slice'](0x0,0x2)['join']('/'):_0x46a1c7),this['paths']=[...new Set(this[_0xeb4f1e(0x19b)])];}async[a183_0x4455b3(0x1a4)](){const _0x46a724=a183_0x4455b3,_0x4d8186=[];this[_0x46a724(0x1b0)]();for(const _0x2c23c8 of this[_0x46a724(0x19b)]){if(_0x2c23c8[_0x46a724(0x185)]('package.xml'))continue;const _0x28d7fd={};try{_0x28d7fd[_0x46a724(0x195)]=await this[_0x46a724(0x19a)](_0x2c23c8),_0x28d7fd['filePath']=constants_1[_0x46a724(0x1a7)][_0x46a724(0x18c)](_0x2c23c8)?_0x2c23c8:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x28d7fd[_0x46a724(0x195)]}),_0x2c23c8[_0x46a724(0x1ab)](_0x46a724(0x1ba))?_0x28d7fd[_0x46a724(0x198)]=_0x46a724(0x177):_0x28d7fd[_0x46a724(0x198)]=await(0x0,utils_1[_0x46a724(0x1a5)])({'files':_0x28d7fd[_0x46a724(0x195)]});}catch(_0x354393){this[_0x46a724(0x194)][_0x46a724(0x1b4)](_0x46a724(0x1b1),_0x2c23c8,_0x354393);continue;}_0x28d7fd[_0x46a724(0x197)]=(0x0,utils_1[_0x46a724(0x183)])(_0x2c23c8),_0x28d7fd[_0x46a724(0x180)]=(0x0,crc32_1[_0x46a724(0x175)])(_0x28d7fd);if((0x0,utils_1['isParentComponent'])(_0x28d7fd)){const _0x43ef90=await this[_0x46a724(0x1a3)](_0x28d7fd);_0x4d8186['push'](..._0x43ef90);}if(_0x28d7fd['type']===_0x46a724(0x17a))continue;settings_types_list_1[_0x46a724(0x181)][_0x46a724(0x19c)](_0x28d7fd[_0x46a724(0x198)])&&(_0x28d7fd['type']=_0x46a724(0x182)),_0x4d8186['push'](_0x28d7fd);}return _0x4d8186;}}exports[a183_0x4455b3(0x1b9)]=MDApiParserV2;