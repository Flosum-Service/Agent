const a182_0x29b66a=a182_0x3800;(function(_0xc4c021,_0x44f89b){const _0x27df59=a182_0x3800,_0x3eb3b2=_0xc4c021();while(!![]){try{const _0x28ce61=parseInt(_0x27df59(0x169))/0x1*(-parseInt(_0x27df59(0x16d))/0x2)+parseInt(_0x27df59(0x137))/0x3*(-parseInt(_0x27df59(0x14b))/0x4)+-parseInt(_0x27df59(0x15a))/0x5*(-parseInt(_0x27df59(0x15d))/0x6)+parseInt(_0x27df59(0x12a))/0x7*(-parseInt(_0x27df59(0x145))/0x8)+-parseInt(_0x27df59(0x151))/0x9+-parseInt(_0x27df59(0x16f))/0xa+-parseInt(_0x27df59(0x152))/0xb*(-parseInt(_0x27df59(0x171))/0xc);if(_0x28ce61===_0x44f89b)break;else _0x3eb3b2['push'](_0x3eb3b2['shift']());}catch(_0x85687a){_0x3eb3b2['push'](_0x3eb3b2['shift']());}}}(a182_0x3a66,0x51beb));const a182_0x3224dd=(function(){let _0x2c1f86=!![];return function(_0x4cecad,_0x44f5ad){const _0xbdff93=_0x2c1f86?function(){const _0x36cb56=a182_0x3800;if(_0x44f5ad){const _0x2e3be0=_0x44f5ad[_0x36cb56(0x170)](_0x4cecad,arguments);return _0x44f5ad=null,_0x2e3be0;}}:function(){};return _0x2c1f86=![],_0xbdff93;};}()),a182_0x208060=a182_0x3224dd(this,function(){const _0x53de71=a182_0x3800;return a182_0x208060[_0x53de71(0x161)]()['search'](_0x53de71(0x12e))[_0x53de71(0x161)]()[_0x53de71(0x149)](a182_0x208060)['search'](_0x53de71(0x12e));});a182_0x208060();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x16997b){const _0x2d3488=a182_0x3800;return _0x16997b&&_0x16997b[_0x2d3488(0x13c)]?_0x16997b:{'default':_0x16997b};};Object[a182_0x29b66a(0x142)](exports,a182_0x29b66a(0x13c),{'value':!![]}),exports[a182_0x29b66a(0x140)]=void 0x0;const fs_internal_1=require(a182_0x29b66a(0x162)),utils_1=require(a182_0x29b66a(0x14c)),path_1=require(a182_0x29b66a(0x14a)),xml_v2_1=require('./utils/xml-v2'),child_types_map_1=__importDefault(require(a182_0x29b66a(0x132))),constants_1=require(a182_0x29b66a(0x15f)),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a182_0x29b66a(0x131))),settings_types_list_1=__importDefault(require(a182_0x29b66a(0x173))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a182_0x29b66a(0x133)](child_types_map_1[a182_0x29b66a(0x167)]);function a182_0x3800(_0x31c315,_0x275878){const _0xd4b5a4=a182_0x3a66();return a182_0x3800=function(_0x208060,_0x3224dd){_0x208060=_0x208060-0x12a;let _0x3a66b9=_0xd4b5a4[_0x208060];return _0x3a66b9;},a182_0x3800(_0x31c315,_0x275878);}function a182_0x3a66(){const _0x5fc3e2=['utf-8','-meta.xml','(((.+)+)+)+$','extractComponentTypeFromFiles','Cannot\x20parse\x20children\x20in\x20','./data/folder-types','./data/child-types-map','values','calculateCRC32','extractFileNameFromFiles','crc','103758bUOsVN','map','logger','exists','package.xml','__esModule','hasChildNodes','META_EXTENSION','reduce','MDApiParserV2','slice','defineProperty','readComponent','name','4504BUJZNW','endsWith','extractFilenameFromPath','BUNDLED_FOLDERS_REGEXP','constructor','path','24WyAgQG','./utils','readChildComponents','startsWith','readBundledComponent','readDir','4770108USvxoD','2242405gsCFsx','waveTemplates','sourceDir','Settings','getChildsByName','experiences','catch','execute','5JVtexG','push','relative','3941940iKJKkF','filePath','../../../constants','.site-meta.xml','toString','../internal/fs.internal','XmlV2','files','includes','isParentComponent','default','join','109xHWMXk','readFile','test','parse','8528mUuGeK','foldBundledComponentsPaths','5441760EPFbcK','apply','120exyJXN','type','./data/settings-types-list','paths','replace','7637YCXNTb','split'];a182_0x3a66=function(){return _0x5fc3e2;};return a182_0x3a66();}class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0x31aad3,paths:_0x1e2ab3}){const _0x4559d6=a182_0x29b66a;super({'sourceDir':_0x31aad3,'paths':_0x1e2ab3},MDApiParserV2[_0x4559d6(0x144)]),this[_0x4559d6(0x13e)]=_0x4559d6(0x12d),this['META_EXPERIENCES_EXTENSION']=_0x4559d6(0x160);}async[a182_0x29b66a(0x14d)](_0x2e3cd4){const _0x176156=a182_0x29b66a;try{const _0x2b96bb=await xml_v2_1[_0x176156(0x163)][_0x176156(0x16c)](Object[_0x176156(0x133)](_0x2e3cd4[_0x176156(0x164)])[0x0][_0x176156(0x161)](_0x176156(0x12c))),_0x54caa7=CHILD_XML_KEYS['filter'](_0x21ddc6=>xml_v2_1[_0x176156(0x163)][_0x176156(0x13d)](_0x2b96bb,_0x21ddc6))[_0x176156(0x13f)]((_0x5f588f,_0x336d3f)=>[..._0x5f588f,...xml_v2_1[_0x176156(0x163)][_0x176156(0x156)](_0x2b96bb,_0x336d3f)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x2e3cd4,_0x2b96bb,_0x54caa7);}catch(_0x4cc897){throw new Error(_0x176156(0x130)+_0x2e3cd4[_0x176156(0x144)]+'\x20['+_0x2e3cd4['type']+']');}}async[a182_0x29b66a(0x14f)](_0x2b89c7){const _0x1f725d=a182_0x29b66a,_0x506e4c=(0x0,path_1[_0x1f725d(0x168)])(this[_0x1f725d(0x154)],_0x2b89c7),_0x159984=_0x2b89c7+(_0x2b89c7['startsWith'](_0x1f725d(0x157))?this['META_EXPERIENCES_EXTENSION']:this[_0x1f725d(0x13e)]),_0x2ac8ab=await fs_internal_1['FS'][_0x1f725d(0x150)](_0x506e4c,!![]),_0x55b9fa=await fs_internal_1['FS'][_0x1f725d(0x16a)]((0x0,path_1[_0x1f725d(0x168)])(this[_0x1f725d(0x154)],_0x159984),!![])[_0x1f725d(0x158)](()=>null),_0x2d175b={};for(const _0x47419f of _0x2ac8ab){_0x2d175b[(0x0,path_1['relative'])(this[_0x1f725d(0x154)],_0x47419f)[_0x1f725d(0x175)](/\\/g,'/')]=await fs_internal_1['FS'][_0x1f725d(0x16a)](_0x47419f,!![]);}return _0x55b9fa&&(_0x2d175b[(0x0,path_1[_0x1f725d(0x15c)])(this[_0x1f725d(0x154)],_0x159984)[_0x1f725d(0x175)](/\\/g,'/')]=_0x55b9fa),_0x2d175b;}async[a182_0x29b66a(0x143)](_0xa58f0c){const _0x373200=a182_0x29b66a,_0x3a8896=_0xa58f0c+this[_0x373200(0x13e)];if(constants_1[_0x373200(0x148)][_0x373200(0x16b)](_0xa58f0c))return this[_0x373200(0x14f)](_0xa58f0c);if(await fs_internal_1['FS'][_0x373200(0x13a)]((0x0,path_1[_0x373200(0x168)])(this[_0x373200(0x154)],_0x3a8896))){const _0x1543f4=await fs_internal_1['FS'][_0x373200(0x16a)]((0x0,path_1[_0x373200(0x168)])(this[_0x373200(0x154)],_0x3a8896),!![]),_0x1d30e0=await(0x0,utils_1[_0x373200(0x12f)])({'files':{[_0x3a8896]:_0x1543f4}})[_0x373200(0x158)](()=>null);if(_0x1d30e0&&folder_types_1['default'][_0x373200(0x165)](_0x1d30e0))return{[_0x3a8896]:_0x1543f4};return{[_0x3a8896]:_0x1543f4,[_0xa58f0c]:await fs_internal_1['FS'][_0x373200(0x16a)]((0x0,path_1[_0x373200(0x168)])(this['sourceDir'],_0xa58f0c),!![])};}return{[_0xa58f0c]:await fs_internal_1['FS'][_0x373200(0x16a)]((0x0,path_1[_0x373200(0x168)])(this['sourceDir'],_0xa58f0c),!![])};}[a182_0x29b66a(0x16e)](){const _0x7d2f9f=a182_0x29b66a;this[_0x7d2f9f(0x174)]=this[_0x7d2f9f(0x174)][_0x7d2f9f(0x138)](_0xdcf174=>constants_1[_0x7d2f9f(0x148)][_0x7d2f9f(0x16b)](_0xdcf174)?_0xdcf174[_0x7d2f9f(0x12b)]('/')[_0x7d2f9f(0x141)](0x0,0x2)[_0x7d2f9f(0x168)]('/'):_0xdcf174),this[_0x7d2f9f(0x174)]=[...new Set(this[_0x7d2f9f(0x174)])];}async[a182_0x29b66a(0x159)](){const _0x9c876a=a182_0x29b66a,_0x28f02d=[];this[_0x9c876a(0x16e)]();for(const _0x2e95fe of this['paths']){if(_0x2e95fe[_0x9c876a(0x146)](_0x9c876a(0x13b)))continue;const _0x27e8a8={};try{_0x27e8a8[_0x9c876a(0x164)]=await this[_0x9c876a(0x143)](_0x2e95fe),_0x27e8a8[_0x9c876a(0x15e)]=constants_1[_0x9c876a(0x148)]['test'](_0x2e95fe)?_0x2e95fe:(0x0,utils_1[_0x9c876a(0x135)])({'files':_0x27e8a8[_0x9c876a(0x164)]}),_0x2e95fe[_0x9c876a(0x14e)](_0x9c876a(0x153))?_0x27e8a8[_0x9c876a(0x172)]='WaveTemplateBundle':_0x27e8a8['type']=await(0x0,utils_1[_0x9c876a(0x12f)])({'files':_0x27e8a8[_0x9c876a(0x164)]});}catch(_0x3e698f){this[_0x9c876a(0x139)]['error']('Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x2e95fe,_0x3e698f);continue;}_0x27e8a8[_0x9c876a(0x144)]=(0x0,utils_1[_0x9c876a(0x147)])(_0x2e95fe),_0x27e8a8[_0x9c876a(0x136)]=(0x0,crc32_1[_0x9c876a(0x134)])(_0x27e8a8);if((0x0,utils_1[_0x9c876a(0x166)])(_0x27e8a8)){const _0xe11608=await this[_0x9c876a(0x14d)](_0x27e8a8);_0x28f02d[_0x9c876a(0x15b)](..._0xe11608);}if(_0x27e8a8[_0x9c876a(0x172)]==='CustomLabels')continue;settings_types_list_1[_0x9c876a(0x167)][_0x9c876a(0x165)](_0x27e8a8[_0x9c876a(0x172)])&&(_0x27e8a8[_0x9c876a(0x172)]=_0x9c876a(0x155)),_0x28f02d[_0x9c876a(0x15b)](_0x27e8a8);}return _0x28f02d;}}exports[a182_0x29b66a(0x140)]=MDApiParserV2;