const a181_0x41f741=a181_0x5a6d;(function(_0x1aa294,_0x45a395){const _0x5c9500=a181_0x5a6d,_0xd5b62=_0x1aa294();while(!![]){try{const _0x66730e=-parseInt(_0x5c9500(0xad))/0x1*(-parseInt(_0x5c9500(0x96))/0x2)+-parseInt(_0x5c9500(0x92))/0x3+-parseInt(_0x5c9500(0xbe))/0x4*(parseInt(_0x5c9500(0x91))/0x5)+parseInt(_0x5c9500(0x7e))/0x6*(parseInt(_0x5c9500(0x80))/0x7)+-parseInt(_0x5c9500(0x99))/0x8*(-parseInt(_0x5c9500(0xb1))/0x9)+parseInt(_0x5c9500(0x90))/0xa+parseInt(_0x5c9500(0x78))/0xb*(parseInt(_0x5c9500(0x97))/0xc);if(_0x66730e===_0x45a395)break;else _0xd5b62['push'](_0xd5b62['shift']());}catch(_0x28dcee){_0xd5b62['push'](_0xd5b62['shift']());}}}(a181_0x5e42,0x38ebb));function a181_0x5a6d(_0x396f1b,_0x285e43){const _0x41219c=a181_0x5e42();return a181_0x5a6d=function(_0x49ab07,_0x3b559){_0x49ab07=_0x49ab07-0x75;let _0x5e42c=_0x41219c[_0x49ab07];return _0x5e42c;},a181_0x5a6d(_0x396f1b,_0x285e43);}const a181_0x3b559=(function(){let _0x2e6e60=!![];return function(_0x3ddde1,_0x38aaf9){const _0x47ba03=_0x2e6e60?function(){if(_0x38aaf9){const _0x553e6e=_0x38aaf9['apply'](_0x3ddde1,arguments);return _0x38aaf9=null,_0x553e6e;}}:function(){};return _0x2e6e60=![],_0x47ba03;};}()),a181_0x49ab07=a181_0x3b559(this,function(){const _0x2fa58b=a181_0x5a6d;return a181_0x49ab07[_0x2fa58b(0xa8)]()[_0x2fa58b(0xbf)](_0x2fa58b(0xb8))[_0x2fa58b(0xa8)]()['constructor'](a181_0x49ab07)[_0x2fa58b(0xbf)](_0x2fa58b(0xb8));});a181_0x49ab07();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xbfd8db){const _0x26f633=a181_0x5a6d;return _0xbfd8db&&_0xbfd8db[_0x26f633(0x93)]?_0xbfd8db:{'default':_0xbfd8db};};Object[a181_0x41f741(0xae)](exports,a181_0x41f741(0x93),{'value':!![]}),exports['MDApiParserV2']=void 0x0;function a181_0x5e42(){const _0x17ee9a=['crc','reduce','waveTemplates','extractFilenameFromPath','push','logger','calculateCRC32','createChildComponentsFromParent','WaveTemplateBundle','default','join','MDApiParserV2','hasChildNodes','1670810YUHUsd','15YQwvKF','1077555SpLAtL','__esModule','split','slice','2DEuBrr','2203116PsKKmj','type','811904DjGcWM','execute','parse','readFile','sourceDir','error','exists','./utils/xml-v2','test','./data/child-types-map','-meta.xml','readBundledComponent','BUNDLED_FOLDERS_REGEXP','.site-meta.xml','readDir','toString','paths','readComponent','isParentComponent','name','438854WJUicB','defineProperty','extractFileNameFromFiles','filePath','9doJEvf','startsWith','includes','catch','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','META_EXPERIENCES_EXTENSION','../../../constants','(((.+)+)+)+$','relative','path','experiences','utf-8','CustomLabels','563812pQmCHh','search','XmlV2','values','foldBundledComponentsPaths','11KxeQGk','META_EXTENSION','Cannot\x20parse\x20children\x20in\x20','./data/settings-types-list','BaseParser','extractComponentTypeFromFiles','6bntPPz','readChildComponents','869225HlmHxB','Settings','files'];a181_0x5e42=function(){return _0x17ee9a;};return a181_0x5e42();}const fs_internal_1=require('../internal/fs.internal'),utils_1=require('./utils'),path_1=require(a181_0x41f741(0xba)),xml_v2_1=require(a181_0x41f741(0xa0)),child_types_map_1=__importDefault(require(a181_0x41f741(0xa2))),constants_1=require(a181_0x41f741(0xb7)),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require('./data/folder-types')),settings_types_list_1=__importDefault(require(a181_0x41f741(0x7b))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a181_0x41f741(0x76)](child_types_map_1[a181_0x41f741(0x8c)]);class MDApiParserV2 extends base_parser_1[a181_0x41f741(0x7c)]{constructor({sourceDir:_0x4f3031,paths:_0x3af469}){const _0x148b17=a181_0x41f741;super({'sourceDir':_0x4f3031,'paths':_0x3af469},MDApiParserV2[_0x148b17(0xac)]),this[_0x148b17(0x79)]=_0x148b17(0xa3),this[_0x148b17(0xb6)]=_0x148b17(0xa6);}async[a181_0x41f741(0x7f)](_0x1069f1){const _0x3f361a=a181_0x41f741;try{const _0x3cda89=await xml_v2_1['XmlV2'][_0x3f361a(0x9b)](Object[_0x3f361a(0x76)](_0x1069f1['files'])[0x0][_0x3f361a(0xa8)](_0x3f361a(0xbc))),_0x5a1c52=CHILD_XML_KEYS['filter'](_0x4ad414=>xml_v2_1['XmlV2'][_0x3f361a(0x8f)](_0x3cda89,_0x4ad414))[_0x3f361a(0x84)]((_0x372265,_0x5126e6)=>[..._0x372265,...xml_v2_1[_0x3f361a(0x75)]['getChildsByName'](_0x3cda89,_0x5126e6)],[]);return(0x0,utils_1[_0x3f361a(0x8a)])(_0x1069f1,_0x3cda89,_0x5a1c52);}catch(_0x560bd0){throw new Error(_0x3f361a(0x7a)+_0x1069f1[_0x3f361a(0xac)]+'\x20['+_0x1069f1['type']+']');}}async['readBundledComponent'](_0x27fe92){const _0x5f1195=a181_0x41f741,_0x4e9174=(0x0,path_1['join'])(this['sourceDir'],_0x27fe92),_0xb5e20f=_0x27fe92+(_0x27fe92['startsWith'](_0x5f1195(0xbb))?this[_0x5f1195(0xb6)]:this[_0x5f1195(0x79)]),_0x446da9=await fs_internal_1['FS'][_0x5f1195(0xa7)](_0x4e9174,!![]),_0x2274bf=await fs_internal_1['FS'][_0x5f1195(0x9c)]((0x0,path_1['join'])(this[_0x5f1195(0x9d)],_0xb5e20f),!![])[_0x5f1195(0xb4)](()=>null),_0x5267dd={};for(const _0xb6dcd8 of _0x446da9){_0x5267dd[(0x0,path_1['relative'])(this[_0x5f1195(0x9d)],_0xb6dcd8)['replace'](/\\/g,'/')]=await fs_internal_1['FS']['readFile'](_0xb6dcd8,!![]);}return _0x2274bf&&(_0x5267dd[(0x0,path_1[_0x5f1195(0xb9)])(this[_0x5f1195(0x9d)],_0xb5e20f)['replace'](/\\/g,'/')]=_0x2274bf),_0x5267dd;}async[a181_0x41f741(0xaa)](_0x81ae6e){const _0x36a3ad=a181_0x41f741,_0x5515f2=_0x81ae6e+this[_0x36a3ad(0x79)];if(constants_1[_0x36a3ad(0xa5)][_0x36a3ad(0xa1)](_0x81ae6e))return this[_0x36a3ad(0xa4)](_0x81ae6e);if(await fs_internal_1['FS'][_0x36a3ad(0x9f)]((0x0,path_1[_0x36a3ad(0x8d)])(this[_0x36a3ad(0x9d)],_0x5515f2))){const _0x34caf0=await fs_internal_1['FS'][_0x36a3ad(0x9c)]((0x0,path_1[_0x36a3ad(0x8d)])(this[_0x36a3ad(0x9d)],_0x5515f2),!![]),_0x1c87ab=await(0x0,utils_1[_0x36a3ad(0x7d)])({'files':{[_0x5515f2]:_0x34caf0}})[_0x36a3ad(0xb4)](()=>null);if(_0x1c87ab&&folder_types_1[_0x36a3ad(0x8c)][_0x36a3ad(0xb3)](_0x1c87ab))return{[_0x5515f2]:_0x34caf0};return{[_0x5515f2]:_0x34caf0,[_0x81ae6e]:await fs_internal_1['FS'][_0x36a3ad(0x9c)]((0x0,path_1['join'])(this[_0x36a3ad(0x9d)],_0x81ae6e),!![])};}return{[_0x81ae6e]:await fs_internal_1['FS'][_0x36a3ad(0x9c)]((0x0,path_1[_0x36a3ad(0x8d)])(this[_0x36a3ad(0x9d)],_0x81ae6e),!![])};}[a181_0x41f741(0x77)](){const _0x113588=a181_0x41f741;this[_0x113588(0xa9)]=this[_0x113588(0xa9)]['map'](_0xb4e3a4=>constants_1[_0x113588(0xa5)]['test'](_0xb4e3a4)?_0xb4e3a4[_0x113588(0x94)]('/')[_0x113588(0x95)](0x0,0x2)['join']('/'):_0xb4e3a4),this[_0x113588(0xa9)]=[...new Set(this[_0x113588(0xa9)])];}async[a181_0x41f741(0x9a)](){const _0x25062c=a181_0x41f741,_0x326427=[];this[_0x25062c(0x77)]();for(const _0x3cbd35 of this[_0x25062c(0xa9)]){if(_0x3cbd35['endsWith']('package.xml'))continue;const _0x23a42f={};try{_0x23a42f[_0x25062c(0x82)]=await this[_0x25062c(0xaa)](_0x3cbd35),_0x23a42f[_0x25062c(0xb0)]=constants_1[_0x25062c(0xa5)][_0x25062c(0xa1)](_0x3cbd35)?_0x3cbd35:(0x0,utils_1[_0x25062c(0xaf)])({'files':_0x23a42f[_0x25062c(0x82)]}),_0x3cbd35[_0x25062c(0xb2)](_0x25062c(0x85))?_0x23a42f['type']=_0x25062c(0x8b):_0x23a42f[_0x25062c(0x98)]=await(0x0,utils_1[_0x25062c(0x7d)])({'files':_0x23a42f[_0x25062c(0x82)]});}catch(_0x38bcef){this[_0x25062c(0x88)][_0x25062c(0x9e)](_0x25062c(0xb5),_0x3cbd35,_0x38bcef);continue;}_0x23a42f[_0x25062c(0xac)]=(0x0,utils_1[_0x25062c(0x86)])(_0x3cbd35),_0x23a42f[_0x25062c(0x83)]=(0x0,crc32_1[_0x25062c(0x89)])(_0x23a42f);if((0x0,utils_1[_0x25062c(0xab)])(_0x23a42f)){const _0x3d7e5f=await this[_0x25062c(0x7f)](_0x23a42f);_0x326427[_0x25062c(0x87)](..._0x3d7e5f);}if(_0x23a42f[_0x25062c(0x98)]===_0x25062c(0xbd))continue;settings_types_list_1[_0x25062c(0x8c)][_0x25062c(0xb3)](_0x23a42f['type'])&&(_0x23a42f[_0x25062c(0x98)]=_0x25062c(0x81)),_0x326427[_0x25062c(0x87)](_0x23a42f);}return _0x326427;}}exports[a181_0x41f741(0x8e)]=MDApiParserV2;