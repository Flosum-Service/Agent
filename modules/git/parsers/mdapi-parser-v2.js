const a183_0x446bd8=a183_0x41f4;(function(_0x2c313d,_0x26c2a1){const _0x573f61=a183_0x41f4,_0x33e92f=_0x2c313d();while(!![]){try{const _0x637df0=-parseInt(_0x573f61(0x9b))/0x1*(-parseInt(_0x573f61(0xbb))/0x2)+parseInt(_0x573f61(0x9c))/0x3*(-parseInt(_0x573f61(0x9f))/0x4)+parseInt(_0x573f61(0xa7))/0x5*(parseInt(_0x573f61(0xce))/0x6)+parseInt(_0x573f61(0x98))/0x7+parseInt(_0x573f61(0xcb))/0x8+-parseInt(_0x573f61(0xb1))/0x9*(parseInt(_0x573f61(0xbd))/0xa)+-parseInt(_0x573f61(0x95))/0xb*(parseInt(_0x573f61(0xb9))/0xc);if(_0x637df0===_0x26c2a1)break;else _0x33e92f['push'](_0x33e92f['shift']());}catch(_0xaf5e03){_0x33e92f['push'](_0x33e92f['shift']());}}}(a183_0x1795,0xa8707));const a183_0x3eacd1=(function(){let _0x3c23ed=!![];return function(_0x3a707e,_0x14acb0){const _0x487c47=_0x3c23ed?function(){if(_0x14acb0){const _0x126f98=_0x14acb0['apply'](_0x3a707e,arguments);return _0x14acb0=null,_0x126f98;}}:function(){};return _0x3c23ed=![],_0x487c47;};}()),a183_0x49472b=a183_0x3eacd1(this,function(){const _0x24e846=a183_0x41f4;return a183_0x49472b[_0x24e846(0xc2)]()['search'](_0x24e846(0xbf))['toString']()['constructor'](a183_0x49472b)['search'](_0x24e846(0xbf));});a183_0x49472b();'use strict';function a183_0x41f4(_0x489713,_0x2454a4){const _0x53472d=a183_0x1795();return a183_0x41f4=function(_0x49472b,_0x3eacd1){_0x49472b=_0x49472b-0x88;let _0x1795c1=_0x53472d[_0x49472b];return _0x1795c1;},a183_0x41f4(_0x489713,_0x2454a4);}var __importDefault=this&&this[a183_0x446bd8(0x96)]||function(_0x1dc7ac){const _0x47824c=a183_0x446bd8;return _0x1dc7ac&&_0x1dc7ac[_0x47824c(0xb2)]?_0x1dc7ac:{'default':_0x1dc7ac};};Object[a183_0x446bd8(0xca)](exports,a183_0x446bd8(0xb2),{'value':!![]}),exports[a183_0x446bd8(0xb7)]=void 0x0;const fs_internal_1=require(a183_0x446bd8(0x9d)),utils_1=require(a183_0x446bd8(0x8f)),path_1=require(a183_0x446bd8(0x99)),xml_v2_1=require(a183_0x446bd8(0xc7)),child_types_map_1=__importDefault(require('./data/child-types-map')),constants_1=require('../../../constants'),crc32_1=require(a183_0x446bd8(0x8a)),folder_types_1=__importDefault(require(a183_0x446bd8(0x8d))),settings_types_list_1=__importDefault(require(a183_0x446bd8(0x93))),base_parser_1=require('./base.parser'),CHILD_XML_KEYS=Object[a183_0x446bd8(0xa1)](child_types_map_1[a183_0x446bd8(0x97)]);function a183_0x1795(){const _0x3a3a60=['Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','test','experiences','MDApiParserV2','exists','12LHEkBw','CustomLabels','28876UcIUEf','filePath','250PVHNtU','name','(((.+)+)+)+$','META_EXTENSION','readBundledComponent','toString','readFile','Settings','package.xml','paths','./utils/xml-v2','createChildComponentsFromParent','extractComponentTypeFromFiles','defineProperty','10735104DDlYLW','BUNDLED_FOLDERS_REGEXP','waveTemplates','12nTRWBv','WaveTemplateBundle','slice','split','join','sourceDir','filter','META_EXPERIENCES_EXTENSION','extractFileNameFromFiles','./utils/crc32','includes','relative','./data/folder-types','hasChildNodes','./utils','catch','push','parse','./data/settings-types-list','type','8438034PlnDYn','__importDefault','default','3424162YnEIja','path','isParentComponent','19iXEnvl','1673052bBTigL','../internal/fs.internal','logger','4Pivuzf','crc','values','execute','readComponent','foldBundledComponentsPaths','files','-meta.xml','196010hpftTL','reduce','readDir','XmlV2','utf-8','calculateCRC32','BaseParser','.site-meta.xml','readChildComponents','getChildsByName','60867sAzcYE','__esModule','Cannot\x20parse\x20children\x20in\x20'];a183_0x1795=function(){return _0x3a3a60;};return a183_0x1795();}class MDApiParserV2 extends base_parser_1[a183_0x446bd8(0xad)]{constructor({sourceDir:_0x2f7715,paths:_0x4768fe}){const _0x59e3d6=a183_0x446bd8;super({'sourceDir':_0x2f7715,'paths':_0x4768fe},MDApiParserV2[_0x59e3d6(0xbe)]),this[_0x59e3d6(0xc0)]=_0x59e3d6(0xa6),this[_0x59e3d6(0x88)]=_0x59e3d6(0xae);}async[a183_0x446bd8(0xaf)](_0x4dc018){const _0x265dd1=a183_0x446bd8;try{const _0x2a9dd5=await xml_v2_1[_0x265dd1(0xaa)][_0x265dd1(0x92)](Object[_0x265dd1(0xa1)](_0x4dc018['files'])[0x0][_0x265dd1(0xc2)](_0x265dd1(0xab))),_0x3142da=CHILD_XML_KEYS[_0x265dd1(0xd4)](_0x250eeb=>xml_v2_1[_0x265dd1(0xaa)][_0x265dd1(0x8e)](_0x2a9dd5,_0x250eeb))[_0x265dd1(0xa8)]((_0x2251f0,_0x465d62)=>[..._0x2251f0,...xml_v2_1[_0x265dd1(0xaa)][_0x265dd1(0xb0)](_0x2a9dd5,_0x465d62)],[]);return(0x0,utils_1[_0x265dd1(0xc8)])(_0x4dc018,_0x2a9dd5,_0x3142da);}catch(_0x50ee5a){throw new Error(_0x265dd1(0xb3)+_0x4dc018[_0x265dd1(0xbe)]+'\x20['+_0x4dc018['type']+']');}}async[a183_0x446bd8(0xc1)](_0x18c175){const _0x504ed5=a183_0x446bd8,_0x4658af=(0x0,path_1[_0x504ed5(0xd2)])(this['sourceDir'],_0x18c175),_0x573692=_0x18c175+(_0x18c175['startsWith'](_0x504ed5(0xb6))?this[_0x504ed5(0x88)]:this[_0x504ed5(0xc0)]),_0x1573b5=await fs_internal_1['FS'][_0x504ed5(0xa9)](_0x4658af,!![]),_0xa7f96d=await fs_internal_1['FS'][_0x504ed5(0xc3)]((0x0,path_1['join'])(this[_0x504ed5(0xd3)],_0x573692),!![])['catch'](()=>null),_0x5161db={};for(const _0x569798 of _0x1573b5){_0x5161db[(0x0,path_1[_0x504ed5(0x8c)])(this['sourceDir'],_0x569798)['replace'](/\\/g,'/')]=await fs_internal_1['FS'][_0x504ed5(0xc3)](_0x569798,!![]);}return _0xa7f96d&&(_0x5161db[(0x0,path_1[_0x504ed5(0x8c)])(this[_0x504ed5(0xd3)],_0x573692)['replace'](/\\/g,'/')]=_0xa7f96d),_0x5161db;}async[a183_0x446bd8(0xa3)](_0x12c51f){const _0x494ca1=a183_0x446bd8,_0x5caf63=_0x12c51f+this['META_EXTENSION'];if(constants_1[_0x494ca1(0xcc)]['test'](_0x12c51f))return this[_0x494ca1(0xc1)](_0x12c51f);if(await fs_internal_1['FS'][_0x494ca1(0xb8)]((0x0,path_1[_0x494ca1(0xd2)])(this[_0x494ca1(0xd3)],_0x5caf63))){const _0x32e25b=await fs_internal_1['FS'][_0x494ca1(0xc3)]((0x0,path_1[_0x494ca1(0xd2)])(this[_0x494ca1(0xd3)],_0x5caf63),!![]),_0x3e146a=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':{[_0x5caf63]:_0x32e25b}})[_0x494ca1(0x90)](()=>null);if(_0x3e146a&&folder_types_1[_0x494ca1(0x97)][_0x494ca1(0x8b)](_0x3e146a))return{[_0x5caf63]:_0x32e25b};return{[_0x5caf63]:_0x32e25b,[_0x12c51f]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x494ca1(0xd2)])(this[_0x494ca1(0xd3)],_0x12c51f),!![])};}return{[_0x12c51f]:await fs_internal_1['FS'][_0x494ca1(0xc3)]((0x0,path_1[_0x494ca1(0xd2)])(this[_0x494ca1(0xd3)],_0x12c51f),!![])};}['foldBundledComponentsPaths'](){const _0x5bcdf6=a183_0x446bd8;this[_0x5bcdf6(0xc6)]=this[_0x5bcdf6(0xc6)]['map'](_0x269298=>constants_1[_0x5bcdf6(0xcc)][_0x5bcdf6(0xb5)](_0x269298)?_0x269298[_0x5bcdf6(0xd1)]('/')[_0x5bcdf6(0xd0)](0x0,0x2)[_0x5bcdf6(0xd2)]('/'):_0x269298),this[_0x5bcdf6(0xc6)]=[...new Set(this[_0x5bcdf6(0xc6)])];}async[a183_0x446bd8(0xa2)](){const _0x1abc01=a183_0x446bd8,_0x56a6c6=[];this[_0x1abc01(0xa4)]();for(const _0x5e8dd8 of this[_0x1abc01(0xc6)]){if(_0x5e8dd8['endsWith'](_0x1abc01(0xc5)))continue;const _0x256978={};try{_0x256978[_0x1abc01(0xa5)]=await this[_0x1abc01(0xa3)](_0x5e8dd8),_0x256978[_0x1abc01(0xbc)]=constants_1[_0x1abc01(0xcc)][_0x1abc01(0xb5)](_0x5e8dd8)?_0x5e8dd8:(0x0,utils_1[_0x1abc01(0x89)])({'files':_0x256978['files']}),_0x5e8dd8['startsWith'](_0x1abc01(0xcd))?_0x256978[_0x1abc01(0x94)]=_0x1abc01(0xcf):_0x256978[_0x1abc01(0x94)]=await(0x0,utils_1[_0x1abc01(0xc9)])({'files':_0x256978[_0x1abc01(0xa5)]});}catch(_0x4240a6){this[_0x1abc01(0x9e)]['error'](_0x1abc01(0xb4),_0x5e8dd8,_0x4240a6);continue;}_0x256978[_0x1abc01(0xbe)]=(0x0,utils_1['extractFilenameFromPath'])(_0x5e8dd8),_0x256978[_0x1abc01(0xa0)]=(0x0,crc32_1[_0x1abc01(0xac)])(_0x256978);if((0x0,utils_1[_0x1abc01(0x9a)])(_0x256978)){const _0x52da5f=await this[_0x1abc01(0xaf)](_0x256978);_0x56a6c6['push'](..._0x52da5f);}if(_0x256978['type']===_0x1abc01(0xba))continue;settings_types_list_1[_0x1abc01(0x97)][_0x1abc01(0x8b)](_0x256978[_0x1abc01(0x94)])&&(_0x256978['type']=_0x1abc01(0xc4)),_0x56a6c6[_0x1abc01(0x91)](_0x256978);}return _0x56a6c6;}}exports['MDApiParserV2']=MDApiParserV2;