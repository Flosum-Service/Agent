const a183_0x45574f=a183_0xa637;(function(_0x5bab6b,_0x1f03fe){const _0x468d1a=a183_0xa637,_0x47bec5=_0x5bab6b();while(!![]){try{const _0x21f8d0=parseInt(_0x468d1a(0x1fb))/0x1*(parseInt(_0x468d1a(0x1fc))/0x2)+-parseInt(_0x468d1a(0x209))/0x3*(parseInt(_0x468d1a(0x1ef))/0x4)+parseInt(_0x468d1a(0x1dc))/0x5*(parseInt(_0x468d1a(0x1ec))/0x6)+-parseInt(_0x468d1a(0x201))/0x7*(-parseInt(_0x468d1a(0x1d8))/0x8)+-parseInt(_0x468d1a(0x1f9))/0x9+-parseInt(_0x468d1a(0x20f))/0xa*(parseInt(_0x468d1a(0x1e0))/0xb)+-parseInt(_0x468d1a(0x1f4))/0xc;if(_0x21f8d0===_0x1f03fe)break;else _0x47bec5['push'](_0x47bec5['shift']());}catch(_0x541b08){_0x47bec5['push'](_0x47bec5['shift']());}}}(a183_0x359f,0xf4095));const a183_0x37b671=(function(){let _0x4c934f=!![];return function(_0x113fbd,_0x58b0de){const _0x5f0edb=_0x4c934f?function(){const _0x493bf5=a183_0xa637;if(_0x58b0de){const _0x3e4348=_0x58b0de[_0x493bf5(0x1e4)](_0x113fbd,arguments);return _0x58b0de=null,_0x3e4348;}}:function(){};return _0x4c934f=![],_0x5f0edb;};}()),a183_0x30270b=a183_0x37b671(this,function(){const _0x7279a=a183_0xa637;return a183_0x30270b[_0x7279a(0x1e7)]()[_0x7279a(0x1f8)](_0x7279a(0x208))[_0x7279a(0x1e7)]()[_0x7279a(0x218)](a183_0x30270b)[_0x7279a(0x1f8)](_0x7279a(0x208));});a183_0x30270b();'use strict';var __importDefault=this&&this[a183_0x45574f(0x204)]||function(_0x3f7aee){const _0x24cce1=a183_0x45574f;return _0x3f7aee&&_0x3f7aee[_0x24cce1(0x219)]?_0x3f7aee:{'default':_0x3f7aee};};function a183_0xa637(_0x1e348a,_0xe3e1a9){const _0x3a5e6f=a183_0x359f();return a183_0xa637=function(_0x30270b,_0x37b671){_0x30270b=_0x30270b-0x1d6;let _0x359fe2=_0x3a5e6f[_0x30270b];return _0x359fe2;},a183_0xa637(_0x1e348a,_0xe3e1a9);}function a183_0x359f(){const _0x7aa2a1=['28464OoMQTZ','isParentComponent','foldBundledComponentsPaths','4808zsUHZD','hasChildNodes','error','readBundledComponent','./data/settings-types-list','11714868AtnoKZ','extractComponentTypeFromFiles','BUNDLED_FOLDERS_REGEXP','readFile','search','4674474uCkfff','replace','24FIIbaR','50222TghYks','sourceDir','push','createChildComponentsFromParent','parse','5614GRbkys','META_EXPERIENCES_EXTENSION','utf-8','__importDefault','./utils/crc32','CustomLabels','./data/child-types-map','(((.+)+)+)+$','1011OBTizB','calculateCRC32','getChildsByName','reduce','extractFilenameFromPath','relative','230QjrVzB','filter','type','Settings','WaveTemplateBundle','./data/folder-types','readChildComponents','test','extractFileNameFromFiles','constructor','__esModule','logger','endsWith','META_EXTENSION','split','default','paths','execute','files','XmlV2','waveTemplates','values','.site-meta.xml','12872CmobjX','-meta.xml','join','includes','1435gavOQv','Cannot\x20parse\x20children\x20in\x20','map','name','169466FXafwV','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','catch','crc','apply','path','experiences','toString','./utils','./base.parser','readComponent','../internal/fs.internal'];a183_0x359f=function(){return _0x7aa2a1;};return a183_0x359f();}Object['defineProperty'](exports,a183_0x45574f(0x219),{'value':!![]}),exports['MDApiParserV2']=void 0x0;const fs_internal_1=require(a183_0x45574f(0x1eb)),utils_1=require(a183_0x45574f(0x1e8)),path_1=require(a183_0x45574f(0x1e5)),xml_v2_1=require('./utils/xml-v2'),child_types_map_1=__importDefault(require(a183_0x45574f(0x207))),constants_1=require('../../../constants'),crc32_1=require(a183_0x45574f(0x205)),folder_types_1=__importDefault(require(a183_0x45574f(0x214))),settings_types_list_1=__importDefault(require(a183_0x45574f(0x1f3))),base_parser_1=require(a183_0x45574f(0x1e9)),CHILD_XML_KEYS=Object['values'](child_types_map_1[a183_0x45574f(0x21e)]);class MDApiParserV2 extends base_parser_1['BaseParser']{constructor({sourceDir:_0x47f35d,paths:_0x5696cc}){const _0xfff54c=a183_0x45574f;super({'sourceDir':_0x47f35d,'paths':_0x5696cc},MDApiParserV2[_0xfff54c(0x1df)]),this[_0xfff54c(0x21c)]=_0xfff54c(0x1d9),this[_0xfff54c(0x202)]=_0xfff54c(0x1d7);}async['readChildComponents'](_0x32e2a5){const _0x4d5b5c=a183_0x45574f;try{const _0x51c10a=await xml_v2_1[_0x4d5b5c(0x222)][_0x4d5b5c(0x200)](Object[_0x4d5b5c(0x1d6)](_0x32e2a5['files'])[0x0][_0x4d5b5c(0x1e7)](_0x4d5b5c(0x203))),_0x1060e1=CHILD_XML_KEYS[_0x4d5b5c(0x210)](_0x54b0df=>xml_v2_1['XmlV2'][_0x4d5b5c(0x1f0)](_0x51c10a,_0x54b0df))[_0x4d5b5c(0x20c)]((_0x4eda44,_0x252a68)=>[..._0x4eda44,...xml_v2_1[_0x4d5b5c(0x222)][_0x4d5b5c(0x20b)](_0x51c10a,_0x252a68)],[]);return(0x0,utils_1[_0x4d5b5c(0x1ff)])(_0x32e2a5,_0x51c10a,_0x1060e1);}catch(_0x502ad6){throw new Error(_0x4d5b5c(0x1dd)+_0x32e2a5[_0x4d5b5c(0x1df)]+'\x20['+_0x32e2a5[_0x4d5b5c(0x211)]+']');}}async[a183_0x45574f(0x1f2)](_0x5ddd99){const _0x58296b=a183_0x45574f,_0x534a17=(0x0,path_1[_0x58296b(0x1da)])(this[_0x58296b(0x1fd)],_0x5ddd99),_0x28df10=_0x5ddd99+(_0x5ddd99['startsWith'](_0x58296b(0x1e6))?this[_0x58296b(0x202)]:this[_0x58296b(0x21c)]),_0x4136f8=await fs_internal_1['FS']['readDir'](_0x534a17,!![]),_0x2a0baa=await fs_internal_1['FS'][_0x58296b(0x1f7)]((0x0,path_1[_0x58296b(0x1da)])(this[_0x58296b(0x1fd)],_0x28df10),!![])[_0x58296b(0x1e2)](()=>null),_0x202234={};for(const _0x3bf6d0 of _0x4136f8){_0x202234[(0x0,path_1[_0x58296b(0x20e)])(this[_0x58296b(0x1fd)],_0x3bf6d0)[_0x58296b(0x1fa)](/\\/g,'/')]=await fs_internal_1['FS'][_0x58296b(0x1f7)](_0x3bf6d0,!![]);}return _0x2a0baa&&(_0x202234[(0x0,path_1[_0x58296b(0x20e)])(this[_0x58296b(0x1fd)],_0x28df10)[_0x58296b(0x1fa)](/\\/g,'/')]=_0x2a0baa),_0x202234;}async[a183_0x45574f(0x1ea)](_0x2879c2){const _0x4b9fcb=a183_0x45574f,_0x461ba8=_0x2879c2+this['META_EXTENSION'];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x4b9fcb(0x216)](_0x2879c2))return this[_0x4b9fcb(0x1f2)](_0x2879c2);if(await fs_internal_1['FS']['exists']((0x0,path_1[_0x4b9fcb(0x1da)])(this[_0x4b9fcb(0x1fd)],_0x461ba8))){const _0x48f8ed=await fs_internal_1['FS'][_0x4b9fcb(0x1f7)]((0x0,path_1[_0x4b9fcb(0x1da)])(this[_0x4b9fcb(0x1fd)],_0x461ba8),!![]),_0x35bf78=await(0x0,utils_1[_0x4b9fcb(0x1f5)])({'files':{[_0x461ba8]:_0x48f8ed}})[_0x4b9fcb(0x1e2)](()=>null);if(_0x35bf78&&folder_types_1['default'][_0x4b9fcb(0x1db)](_0x35bf78))return{[_0x461ba8]:_0x48f8ed};return{[_0x461ba8]:_0x48f8ed,[_0x2879c2]:await fs_internal_1['FS'][_0x4b9fcb(0x1f7)]((0x0,path_1[_0x4b9fcb(0x1da)])(this['sourceDir'],_0x2879c2),!![])};}return{[_0x2879c2]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x4b9fcb(0x1da)])(this['sourceDir'],_0x2879c2),!![])};}[a183_0x45574f(0x1ee)](){const _0x44a647=a183_0x45574f;this[_0x44a647(0x21f)]=this['paths'][_0x44a647(0x1de)](_0x164890=>constants_1[_0x44a647(0x1f6)][_0x44a647(0x216)](_0x164890)?_0x164890[_0x44a647(0x21d)]('/')['slice'](0x0,0x2)[_0x44a647(0x1da)]('/'):_0x164890),this['paths']=[...new Set(this['paths'])];}async[a183_0x45574f(0x220)](){const _0x38137e=a183_0x45574f,_0x2fd3c1=[];this[_0x38137e(0x1ee)]();for(const _0x4bfb03 of this['paths']){if(_0x4bfb03[_0x38137e(0x21b)]('package.xml'))continue;const _0x30422a={};try{_0x30422a[_0x38137e(0x221)]=await this[_0x38137e(0x1ea)](_0x4bfb03),_0x30422a['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x38137e(0x216)](_0x4bfb03)?_0x4bfb03:(0x0,utils_1[_0x38137e(0x217)])({'files':_0x30422a['files']}),_0x4bfb03['startsWith'](_0x38137e(0x223))?_0x30422a[_0x38137e(0x211)]=_0x38137e(0x213):_0x30422a[_0x38137e(0x211)]=await(0x0,utils_1[_0x38137e(0x1f5)])({'files':_0x30422a[_0x38137e(0x221)]});}catch(_0x58958b){this[_0x38137e(0x21a)][_0x38137e(0x1f1)](_0x38137e(0x1e1),_0x4bfb03,_0x58958b);continue;}_0x30422a['name']=(0x0,utils_1[_0x38137e(0x20d)])(_0x4bfb03),_0x30422a[_0x38137e(0x1e3)]=(0x0,crc32_1[_0x38137e(0x20a)])(_0x30422a);if((0x0,utils_1[_0x38137e(0x1ed)])(_0x30422a)){const _0xfe7d71=await this[_0x38137e(0x215)](_0x30422a);_0x2fd3c1[_0x38137e(0x1fe)](..._0xfe7d71);}if(_0x30422a[_0x38137e(0x211)]===_0x38137e(0x206))continue;settings_types_list_1[_0x38137e(0x21e)][_0x38137e(0x1db)](_0x30422a[_0x38137e(0x211)])&&(_0x30422a[_0x38137e(0x211)]=_0x38137e(0x212)),_0x2fd3c1['push'](_0x30422a);}return _0x2fd3c1;}}exports['MDApiParserV2']=MDApiParserV2;