const a182_0x497b81=a182_0x28fe;(function(_0x2c116c,_0x796715){const _0x1eb49b=a182_0x28fe,_0x444da1=_0x2c116c();while(!![]){try{const _0x65c38a=-parseInt(_0x1eb49b(0x12b))/0x1*(-parseInt(_0x1eb49b(0x100))/0x2)+parseInt(_0x1eb49b(0x121))/0x3+-parseInt(_0x1eb49b(0xe9))/0x4*(parseInt(_0x1eb49b(0x117))/0x5)+parseInt(_0x1eb49b(0x128))/0x6*(parseInt(_0x1eb49b(0xf4))/0x7)+parseInt(_0x1eb49b(0x107))/0x8*(parseInt(_0x1eb49b(0xe0))/0x9)+parseInt(_0x1eb49b(0xef))/0xa*(parseInt(_0x1eb49b(0xee))/0xb)+-parseInt(_0x1eb49b(0x12c))/0xc*(parseInt(_0x1eb49b(0xe5))/0xd);if(_0x65c38a===_0x796715)break;else _0x444da1['push'](_0x444da1['shift']());}catch(_0x43a900){_0x444da1['push'](_0x444da1['shift']());}}}(a182_0x9b6d,0xbfe44));const a182_0x4cc731=(function(){let _0x54b57c=!![];return function(_0x2799aa,_0x4a8003){const _0x2ff318=_0x54b57c?function(){const _0x442ad2=a182_0x28fe;if(_0x4a8003){const _0x69a518=_0x4a8003[_0x442ad2(0x11e)](_0x2799aa,arguments);return _0x4a8003=null,_0x69a518;}}:function(){};return _0x54b57c=![],_0x2ff318;};}()),a182_0x88db8c=a182_0x4cc731(this,function(){const _0xf1887=a182_0x28fe;return a182_0x88db8c[_0xf1887(0xea)]()[_0xf1887(0xe1)]('(((.+)+)+)+$')['toString']()[_0xf1887(0x122)](a182_0x88db8c)[_0xf1887(0xe1)](_0xf1887(0x10b));});a182_0x88db8c();function a182_0x9b6d(){const _0x14f804=['exists','-meta.xml','WaveTemplateBundle','dir','__importDefault','push','BUNDLED_FOLDERS_REGEXP','startsWith','5sQTXZF','readChildComponents','MDApiParser','package.xml','readDir','isDir','name','apply','.site-meta.xml','default','3783408lhfqFV','constructor','find','experiences','logger','map','getChildsByName','18mXmueQ','createChildComponentsFromParent','Xml','1095623dqlXNU','108YjihWH','isPathsEquals','readFile','META_EXPERIENCES_EXTENSION','utf-8','filePath','values','Settings','8964XvmBhV','search','all','test','../../../core','7472647IdfWaS','path','extractComponentTypeFromFiles','join','1045652CPejiA','toString','convertToCleanPaths','Cannot\x20parse\x20childs\x20in\x20','split','22PawoIQ','7615730bGNCdF','relative','type','files','./utils/xml','2454767iNVOvU','paths','readBundledFiles','./utils/crc32','catch','../internal/fs.internal','__esModule','META_EXTENSION','CustomLabels','endsWith','parse','./data/folder-types','2FuaIAS','error','includes','waveTemplates','./data/child-types-map','isSFDXProject','./utils','10352FoJlto','Component\x20\x22','calculateCRC32','\x22\x20not\x20found\x20in\x20\x22','(((.+)+)+)+$','../devops/utils/git-commit.utils','init','crc'];a182_0x9b6d=function(){return _0x14f804;};return a182_0x9b6d();}'use strict';var __importDefault=this&&this[a182_0x497b81(0x113)]||function(_0x589ffd){const _0x52c8c3=a182_0x497b81;return _0x589ffd&&_0x589ffd[_0x52c8c3(0xfa)]?_0x589ffd:{'default':_0x589ffd};};Object['defineProperty'](exports,a182_0x497b81(0xfa),{'value':!![]}),exports[a182_0x497b81(0x119)]=void 0x0;const fs_internal_1=require(a182_0x497b81(0xf9)),utils_1=require(a182_0x497b81(0x106)),path_1=require(a182_0x497b81(0xe6)),xml_1=require(a182_0x497b81(0xf3)),child_types_map_1=__importDefault(require(a182_0x497b81(0x104))),constants_1=require('../../../constants'),core_1=require(a182_0x497b81(0xe4)),git_commit_utils_1=require(a182_0x497b81(0x10c)),crc32_1=require(a182_0x497b81(0xf7)),folder_types_1=__importDefault(require(a182_0x497b81(0xff))),settings_types_list_1=__importDefault(require('./data/settings-types-list')),CHILD_XML_KEYS=Object[a182_0x497b81(0xde)](child_types_map_1[a182_0x497b81(0x120)]);function a182_0x28fe(_0x3318b5,_0x556a2a){const _0x1088e8=a182_0x9b6d();return a182_0x28fe=function(_0x88db8c,_0x4cc731){_0x88db8c=_0x88db8c-0xdb;let _0x9b6d87=_0x1088e8[_0x88db8c];return _0x9b6d87;},a182_0x28fe(_0x3318b5,_0x556a2a);}class MDApiParser{constructor(_0x255dd3,_0x6b3471,_0x1ccfb4){const _0x16bf7d=a182_0x497b81;this[_0x16bf7d(0x112)]=_0x255dd3,this[_0x16bf7d(0x105)]=_0x1ccfb4,this[_0x16bf7d(0x125)]=new core_1['Logger'](MDApiParser[_0x16bf7d(0x11d)]),this[_0x16bf7d(0xfb)]=_0x16bf7d(0x110),this[_0x16bf7d(0xdb)]=_0x16bf7d(0x11f),this[_0x16bf7d(0xf5)]=_0x6b3471;}async[a182_0x497b81(0x118)](_0x68c5ff){const _0x4736ad=a182_0x497b81;try{const _0x3b57b2=await xml_1[_0x4736ad(0x12a)]['parse'](Object[_0x4736ad(0xde)](_0x68c5ff['files'])[0x0][_0x4736ad(0xea)](_0x4736ad(0xdc))),_0x2470b9=CHILD_XML_KEYS['filter'](_0x1e12dd=>xml_1[_0x4736ad(0x12a)]['hasChildNodes'](_0x3b57b2,_0x1e12dd))['reduce']((_0x1a6f6a,_0x2892b1)=>[..._0x1a6f6a,...xml_1[_0x4736ad(0x12a)][_0x4736ad(0x127)](_0x3b57b2,_0x2892b1)],[]);return(0x0,utils_1[_0x4736ad(0x129)])(_0x68c5ff,_0x3b57b2,_0x2470b9);}catch(_0x482c21){throw new Error(_0x4736ad(0xec)+_0x68c5ff[_0x4736ad(0x11d)]+'\x20['+_0x68c5ff['type']+']');}}async[a182_0x497b81(0xf6)](_0x19cf0e){const _0x51684b=a182_0x497b81,_0x5c791d=(0x0,path_1[_0x51684b(0xe8)])(this['dir'],_0x19cf0e),_0x54e20a=_0x19cf0e+(_0x19cf0e[_0x51684b(0x116)](_0x51684b(0x124))?this[_0x51684b(0xdb)]:this[_0x51684b(0xfb)]),_0x458912=await fs_internal_1['FS'][_0x51684b(0x11b)](_0x5c791d,!![]),_0x777e4b=await fs_internal_1['FS'][_0x51684b(0x12e)]((0x0,path_1[_0x51684b(0xe8)])(this[_0x51684b(0x112)],_0x54e20a),!![])['catch'](()=>null),_0x4e3d91={};for(const _0x2906b8 of _0x458912){_0x4e3d91[(0x0,path_1[_0x51684b(0xf0)])(this[_0x51684b(0x112)],_0x2906b8)]=await fs_internal_1['FS'][_0x51684b(0x12e)](_0x2906b8,!![]);}return _0x777e4b&&(_0x4e3d91[(0x0,path_1['relative'])(this[_0x51684b(0x112)],_0x54e20a)]=_0x777e4b),_0x4e3d91;}async['readComponentFiles'](_0x34f89b){const _0x76bbec=a182_0x497b81;let _0x105cd8=_0x34f89b+this[_0x76bbec(0xfb)];if(constants_1[_0x76bbec(0x115)][_0x76bbec(0xe3)](_0x34f89b))return this[_0x76bbec(0xf6)](_0x34f89b);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x76bbec(0xe8)])(this[_0x76bbec(0x112)],_0x34f89b))||await fs_internal_1['FS'][_0x76bbec(0x10f)]((0x0,path_1[_0x76bbec(0xe8)])(this[_0x76bbec(0x112)],_0x105cd8))){const _0x159d15=await fs_internal_1['FS'][_0x76bbec(0x12e)]((0x0,path_1['join'])(this['dir'],_0x105cd8),!![]),_0x2c7ebb=await(0x0,utils_1[_0x76bbec(0xe7)])({'files':{[_0x105cd8]:_0x159d15}})['catch'](()=>null);if(_0x2c7ebb&&folder_types_1[_0x76bbec(0x120)][_0x76bbec(0x102)](_0x2c7ebb))return{[_0x105cd8]:await fs_internal_1['FS'][_0x76bbec(0x12e)]((0x0,path_1[_0x76bbec(0xe8)])(this[_0x76bbec(0x112)],_0x105cd8),!![])};}if(!(0x0,path_1['extname'])(_0x34f89b)&&this[_0x76bbec(0x105)]){const _0x23bf68=_0x34f89b[_0x76bbec(0xed)]('/')[0x0],_0x522ddc=(await fs_internal_1['FS'][_0x76bbec(0x11b)]((0x0,path_1[_0x76bbec(0xe8)])(this['dir'],_0x23bf68)))[_0x76bbec(0x123)](_0x155224=>(0x0,git_commit_utils_1[_0x76bbec(0x12d)])(_0x155224,(0x0,path_1[_0x76bbec(0xe8)])(this['dir'],_0x34f89b)));if(!_0x522ddc)throw new Error(_0x76bbec(0x108)+_0x34f89b+_0x76bbec(0x10a)+_0x23bf68+'\x22');_0x34f89b=(0x0,path_1['relative'])(this['dir'],_0x522ddc),_0x105cd8=_0x34f89b+this['META_EXTENSION'];}const [_0x2d70c3,_0x3efdbc]=await Promise[_0x76bbec(0xe2)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x76bbec(0xe8)])(this[_0x76bbec(0x112)],_0x34f89b),!![])['catch'](()=>null),fs_internal_1['FS'][_0x76bbec(0x12e)]((0x0,path_1[_0x76bbec(0xe8)])(this['dir'],_0x105cd8),!![])[_0x76bbec(0xf8)](()=>null)]);return{..._0x2d70c3?{[_0x34f89b]:_0x2d70c3}:{},..._0x3efdbc?{[_0x105cd8]:_0x3efdbc}:{}};}async[a182_0x497b81(0x10d)](){const _0x3113a8=a182_0x497b81,_0x46793a=[...this['paths']];if(this[_0x3113a8(0x105)])for(const _0x1f04ec of _0x46793a){if(constants_1[_0x3113a8(0x115)]['test'](_0x1f04ec))continue;if(await fs_internal_1['FS'][_0x3113a8(0x11c)]((0x0,path_1[_0x3113a8(0xe8)])(this[_0x3113a8(0x112)],_0x1f04ec))){const _0x100e27=await fs_internal_1['FS'][_0x3113a8(0x11b)]((0x0,path_1[_0x3113a8(0xe8)])(this['dir'],_0x1f04ec),!![]);_0x46793a[_0x3113a8(0x114)](..._0x100e27[_0x3113a8(0x126)](_0x3114c2=>(0x0,path_1['relative'])(this['dir'],_0x3114c2)));}}this[_0x3113a8(0xf5)]=(0x0,utils_1[_0x3113a8(0xeb)])(_0x46793a);}async[a182_0x497b81(0xfe)](){const _0x43c72f=a182_0x497b81;await this[_0x43c72f(0x10d)]();const _0x42e389=[];for(const _0x40d2a6 of this[_0x43c72f(0xf5)]){if(_0x40d2a6[_0x43c72f(0xfd)](_0x43c72f(0x11a)))continue;const _0x208418={};try{_0x208418[_0x43c72f(0xf2)]=await this['readComponentFiles'](_0x40d2a6),_0x208418[_0x43c72f(0xdd)]=constants_1[_0x43c72f(0x115)][_0x43c72f(0xe3)](_0x40d2a6)?_0x40d2a6:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x208418[_0x43c72f(0xf2)]}),_0x40d2a6[_0x43c72f(0x116)](_0x43c72f(0x103))?_0x208418['type']=_0x43c72f(0x111):_0x208418[_0x43c72f(0xf1)]=await(0x0,utils_1[_0x43c72f(0xe7)])({'files':_0x208418[_0x43c72f(0xf2)]});}catch(_0x221e7a){this[_0x43c72f(0x125)][_0x43c72f(0x101)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x40d2a6,_0x221e7a);continue;}_0x208418['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x40d2a6),_0x208418[_0x43c72f(0x10e)]=(0x0,crc32_1[_0x43c72f(0x109)])(_0x208418);if((0x0,utils_1['isParentComponent'])(_0x208418)){const _0x54775d=await this['readChildComponents'](_0x208418);_0x42e389[_0x43c72f(0x114)](..._0x54775d);}if(_0x208418[_0x43c72f(0xf1)]===_0x43c72f(0xfc))continue;settings_types_list_1['default'][_0x43c72f(0x102)](_0x208418['type'])&&(_0x208418[_0x43c72f(0xf1)]=_0x43c72f(0xdf)),_0x42e389['push'](_0x208418);}return _0x42e389;}}exports[a182_0x497b81(0x119)]=MDApiParser;