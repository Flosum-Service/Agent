const a182_0x587692=a182_0x687e;function a182_0x32e6(){const _0x9388bc=['split','2201654avyLFH','readComponentFiles','Xml','./data/settings-types-list','../../../core','relative','1195174vGayhx','type','getChildsByName','dir','values','readFile','WaveTemplateBundle','readChildComponents','endsWith','extractComponentTypeFromFiles','./utils','META_EXTENSION','64662MJmxCu','exists','files','isPathsEquals','catch','92mHDQhw','CustomLabels','default','apply','error','reduce','8315OrJPgp','Settings','hasChildNodes','(((.+)+)+)+$','paths','defineProperty','package.xml','name','parse','calculateCRC32','__esModule','../../../constants','1140LgGqtM','filePath','extractFilenameFromPath','search','test','readDir','init','isParentComponent','isDir','filter','find','logger','createChildComponentsFromParent','-meta.xml','includes','./data/folder-types','__importDefault','join','constructor','6971112optquf','24UqBfbl','Cannot\x20parse\x20childs\x20in\x20','BUNDLED_FOLDERS_REGEXP','path','push','convertToCleanPaths','22108WpYNed','extractFileNameFromFiles','MDApiParser','isSFDXProject','../internal/fs.internal','7970040vHWrWL','all','extname','startsWith','toString'];a182_0x32e6=function(){return _0x9388bc;};return a182_0x32e6();}(function(_0x76bd76,_0x44c74d){const _0xce759a=a182_0x687e,_0x3090f6=_0x76bd76();while(!![]){try{const _0x1432ef=-parseInt(_0xce759a(0xf2))/0x1+-parseInt(_0xce759a(0x103))/0x2+-parseInt(_0xce759a(0x10f))/0x3*(-parseInt(_0xce759a(0x114))/0x4)+-parseInt(_0xce759a(0xcc))/0x5*(parseInt(_0xce759a(0xd8))/0x6)+parseInt(_0xce759a(0xfd))/0x7*(parseInt(_0xce759a(0xec))/0x8)+parseInt(_0xce759a(0xeb))/0x9+-parseInt(_0xce759a(0xf7))/0xa;if(_0x1432ef===_0x44c74d)break;else _0x3090f6['push'](_0x3090f6['shift']());}catch(_0x8c8a88){_0x3090f6['push'](_0x3090f6['shift']());}}}(a182_0x32e6,0x757b7));function a182_0x687e(_0x247aef,_0x825215){const _0x43767c=a182_0x32e6();return a182_0x687e=function(_0x5c5d45,_0x192057){_0x5c5d45=_0x5c5d45-0xc8;let _0x32e6e1=_0x43767c[_0x5c5d45];return _0x32e6e1;},a182_0x687e(_0x247aef,_0x825215);}const a182_0x192057=(function(){let _0x56b324=!![];return function(_0x554955,_0xea6321){const _0x1a82ea=_0x56b324?function(){const _0x573237=a182_0x687e;if(_0xea6321){const _0x284fc5=_0xea6321[_0x573237(0xc9)](_0x554955,arguments);return _0xea6321=null,_0x284fc5;}}:function(){};return _0x56b324=![],_0x1a82ea;};}()),a182_0x5c5d45=a182_0x192057(this,function(){const _0x2eb3a0=a182_0x687e;return a182_0x5c5d45[_0x2eb3a0(0xfb)]()[_0x2eb3a0(0xdb)]('(((.+)+)+)+$')[_0x2eb3a0(0xfb)]()[_0x2eb3a0(0xea)](a182_0x5c5d45)[_0x2eb3a0(0xdb)](_0x2eb3a0(0xcf));});a182_0x5c5d45();'use strict';var __importDefault=this&&this[a182_0x587692(0xe8)]||function(_0x72f7b9){const _0x5e9c7e=a182_0x587692;return _0x72f7b9&&_0x72f7b9[_0x5e9c7e(0xd6)]?_0x72f7b9:{'default':_0x72f7b9};};Object[a182_0x587692(0xd1)](exports,a182_0x587692(0xd6),{'value':!![]}),exports[a182_0x587692(0xf4)]=void 0x0;const fs_internal_1=require(a182_0x587692(0xf6)),utils_1=require(a182_0x587692(0x10d)),path_1=require(a182_0x587692(0xef)),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require('./data/child-types-map')),constants_1=require(a182_0x587692(0xd7)),core_1=require(a182_0x587692(0x101)),git_commit_utils_1=require('../devops/utils/git-commit.utils'),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a182_0x587692(0xe7))),settings_types_list_1=__importDefault(require(a182_0x587692(0x100))),CHILD_XML_KEYS=Object[a182_0x587692(0x107)](child_types_map_1[a182_0x587692(0xc8)]);class MDApiParser{constructor(_0x52d687,_0x4ab99f,_0x21c35d){const _0x5aacfb=a182_0x587692;this[_0x5aacfb(0x106)]=_0x52d687,this[_0x5aacfb(0xf5)]=_0x21c35d,this['logger']=new core_1['Logger'](MDApiParser[_0x5aacfb(0xd3)]),this['META_EXTENSION']=_0x5aacfb(0xe5),this['META_EXPERIENCES_EXTENSION']='.site-meta.xml',this['paths']=_0x4ab99f;}async[a182_0x587692(0x10a)](_0x159049){const _0x4e6c5d=a182_0x587692;try{const _0x1e3f88=await xml_1['Xml'][_0x4e6c5d(0xd4)](Object['values'](_0x159049['files'])[0x0][_0x4e6c5d(0xfb)]('utf-8')),_0x43b387=CHILD_XML_KEYS[_0x4e6c5d(0xe1)](_0x39df42=>xml_1[_0x4e6c5d(0xff)][_0x4e6c5d(0xce)](_0x1e3f88,_0x39df42))[_0x4e6c5d(0xcb)]((_0x52452c,_0x413e8c)=>[..._0x52452c,...xml_1['Xml'][_0x4e6c5d(0x105)](_0x1e3f88,_0x413e8c)],[]);return(0x0,utils_1[_0x4e6c5d(0xe4)])(_0x159049,_0x1e3f88,_0x43b387);}catch(_0xc50c70){throw new Error(_0x4e6c5d(0xed)+_0x159049[_0x4e6c5d(0xd3)]+'\x20['+_0x159049[_0x4e6c5d(0x104)]+']');}}async['readBundledFiles'](_0x45c865){const _0x3da532=a182_0x587692,_0x3dab2=(0x0,path_1[_0x3da532(0xe9)])(this[_0x3da532(0x106)],_0x45c865),_0x2f22a6=_0x45c865+(_0x45c865[_0x3da532(0xfa)]('experiences')?this['META_EXPERIENCES_EXTENSION']:this['META_EXTENSION']),_0x38c901=await fs_internal_1['FS'][_0x3da532(0xdd)](_0x3dab2,!![]),_0x1e59e2=await fs_internal_1['FS'][_0x3da532(0x108)]((0x0,path_1['join'])(this[_0x3da532(0x106)],_0x2f22a6),!![])['catch'](()=>null),_0x2531b8={};for(const _0x370b66 of _0x38c901){_0x2531b8[(0x0,path_1['relative'])(this[_0x3da532(0x106)],_0x370b66)]=await fs_internal_1['FS'][_0x3da532(0x108)](_0x370b66,!![]);}return _0x1e59e2&&(_0x2531b8[(0x0,path_1['relative'])(this[_0x3da532(0x106)],_0x2f22a6)]=_0x1e59e2),_0x2531b8;}async[a182_0x587692(0xfe)](_0x1d0bce){const _0x16adea=a182_0x587692;let _0x7c1d70=_0x1d0bce+this['META_EXTENSION'];if(constants_1[_0x16adea(0xee)]['test'](_0x1d0bce))return this['readBundledFiles'](_0x1d0bce);if(await fs_internal_1['FS'][_0x16adea(0xe0)]((0x0,path_1['join'])(this[_0x16adea(0x106)],_0x1d0bce))||await fs_internal_1['FS'][_0x16adea(0x110)]((0x0,path_1[_0x16adea(0xe9)])(this[_0x16adea(0x106)],_0x7c1d70))){const _0x4e48f9=await fs_internal_1['FS'][_0x16adea(0x108)]((0x0,path_1[_0x16adea(0xe9)])(this[_0x16adea(0x106)],_0x7c1d70),!![]),_0x31e747=await(0x0,utils_1[_0x16adea(0x10c)])({'files':{[_0x7c1d70]:_0x4e48f9}})[_0x16adea(0x113)](()=>null);if(_0x31e747&&folder_types_1[_0x16adea(0xc8)][_0x16adea(0xe6)](_0x31e747))return{[_0x7c1d70]:await fs_internal_1['FS'][_0x16adea(0x108)]((0x0,path_1[_0x16adea(0xe9)])(this[_0x16adea(0x106)],_0x7c1d70),!![])};}if(!(0x0,path_1[_0x16adea(0xf9)])(_0x1d0bce)&&this[_0x16adea(0xf5)]){const _0x14133b=_0x1d0bce[_0x16adea(0xfc)]('/')[0x0],_0x1c0c83=(await fs_internal_1['FS'][_0x16adea(0xdd)]((0x0,path_1[_0x16adea(0xe9)])(this[_0x16adea(0x106)],_0x14133b)))[_0x16adea(0xe2)](_0x5eeab2=>(0x0,git_commit_utils_1[_0x16adea(0x112)])(_0x5eeab2,(0x0,path_1[_0x16adea(0xe9)])(this[_0x16adea(0x106)],_0x1d0bce)));if(!_0x1c0c83)throw new Error('Component\x20\x22'+_0x1d0bce+'\x22\x20not\x20found\x20in\x20\x22'+_0x14133b+'\x22');_0x1d0bce=(0x0,path_1[_0x16adea(0x102)])(this[_0x16adea(0x106)],_0x1c0c83),_0x7c1d70=_0x1d0bce+this[_0x16adea(0x10e)];}const [_0x5c69ff,_0x2d5ce0]=await Promise[_0x16adea(0xf8)]([fs_internal_1['FS'][_0x16adea(0x108)]((0x0,path_1[_0x16adea(0xe9)])(this['dir'],_0x1d0bce),!![])[_0x16adea(0x113)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x16adea(0xe9)])(this['dir'],_0x7c1d70),!![])[_0x16adea(0x113)](()=>null)]);return{..._0x5c69ff?{[_0x1d0bce]:_0x5c69ff}:{},..._0x2d5ce0?{[_0x7c1d70]:_0x2d5ce0}:{}};}async[a182_0x587692(0xde)](){const _0x469c70=a182_0x587692,_0x5da293=[...this[_0x469c70(0xd0)]];if(this[_0x469c70(0xf5)])for(const _0x590cdc of _0x5da293){if(constants_1[_0x469c70(0xee)][_0x469c70(0xdc)](_0x590cdc))continue;if(await fs_internal_1['FS'][_0x469c70(0xe0)]((0x0,path_1[_0x469c70(0xe9)])(this[_0x469c70(0x106)],_0x590cdc))){const _0x3a8422=await fs_internal_1['FS'][_0x469c70(0xdd)]((0x0,path_1[_0x469c70(0xe9)])(this[_0x469c70(0x106)],_0x590cdc),!![]);_0x5da293[_0x469c70(0xf0)](..._0x3a8422['map'](_0x41724b=>(0x0,path_1[_0x469c70(0x102)])(this[_0x469c70(0x106)],_0x41724b)));}}this['paths']=(0x0,utils_1[_0x469c70(0xf1)])(_0x5da293);}async[a182_0x587692(0xd4)](){const _0x1dedb9=a182_0x587692;await this[_0x1dedb9(0xde)]();const _0x39ecc7=[];for(const _0x408641 of this[_0x1dedb9(0xd0)]){if(_0x408641[_0x1dedb9(0x10b)](_0x1dedb9(0xd2)))continue;const _0xa2db36={};try{_0xa2db36[_0x1dedb9(0x111)]=await this[_0x1dedb9(0xfe)](_0x408641),_0xa2db36[_0x1dedb9(0xd9)]=constants_1[_0x1dedb9(0xee)]['test'](_0x408641)?_0x408641:(0x0,utils_1[_0x1dedb9(0xf3)])({'files':_0xa2db36['files']}),_0x408641['startsWith']('waveTemplates')?_0xa2db36['type']=_0x1dedb9(0x109):_0xa2db36[_0x1dedb9(0x104)]=await(0x0,utils_1[_0x1dedb9(0x10c)])({'files':_0xa2db36['files']});}catch(_0x13ec9e){this[_0x1dedb9(0xe3)][_0x1dedb9(0xca)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x408641,_0x13ec9e);continue;}_0xa2db36[_0x1dedb9(0xd3)]=(0x0,utils_1[_0x1dedb9(0xda)])(_0x408641),_0xa2db36['crc']=(0x0,crc32_1[_0x1dedb9(0xd5)])(_0xa2db36);if((0x0,utils_1[_0x1dedb9(0xdf)])(_0xa2db36)){const _0x497f7b=await this[_0x1dedb9(0x10a)](_0xa2db36);_0x39ecc7['push'](..._0x497f7b);}if(_0xa2db36[_0x1dedb9(0x104)]===_0x1dedb9(0x115))continue;settings_types_list_1['default']['includes'](_0xa2db36[_0x1dedb9(0x104)])&&(_0xa2db36[_0x1dedb9(0x104)]=_0x1dedb9(0xcd)),_0x39ecc7[_0x1dedb9(0xf0)](_0xa2db36);}return _0x39ecc7;}}exports[a182_0x587692(0xf4)]=MDApiParser;