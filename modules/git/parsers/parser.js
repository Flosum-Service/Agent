const a184_0x1d418c=a184_0x6e47;(function(_0x25c510,_0xfc5673){const _0x4f886f=a184_0x6e47,_0x24149c=_0x25c510();while(!![]){try{const _0x42951b=parseInt(_0x4f886f(0xe1))/0x1*(-parseInt(_0x4f886f(0x10e))/0x2)+-parseInt(_0x4f886f(0xfa))/0x3+parseInt(_0x4f886f(0xe4))/0x4+-parseInt(_0x4f886f(0xdd))/0x5+parseInt(_0x4f886f(0x117))/0x6+-parseInt(_0x4f886f(0x106))/0x7+parseInt(_0x4f886f(0x109))/0x8*(parseInt(_0x4f886f(0xe3))/0x9);if(_0x42951b===_0xfc5673)break;else _0x24149c['push'](_0x24149c['shift']());}catch(_0x27458d){_0x24149c['push'](_0x24149c['shift']());}}}(a184_0xcd08,0x9f618));const a184_0x3c20a8=(function(){let _0x38af14=!![];return function(_0x53e9d6,_0x37a1ba){const _0x314ba8=_0x38af14?function(){if(_0x37a1ba){const _0x2c9484=_0x37a1ba['apply'](_0x53e9d6,arguments);return _0x37a1ba=null,_0x2c9484;}}:function(){};return _0x38af14=![],_0x314ba8;};}()),a184_0x4996e9=a184_0x3c20a8(this,function(){const _0x280d39=a184_0x6e47;return a184_0x4996e9[_0x280d39(0x10f)]()[_0x280d39(0x114)]('(((.+)+)+)+$')[_0x280d39(0x10f)]()[_0x280d39(0x10d)](a184_0x4996e9)[_0x280d39(0x114)]('(((.+)+)+)+$');});a184_0x4996e9();'use strict';function a184_0xcd08(){const _0x4b7e03=['extractComponentTypeFromFiles','utf-8','.site-meta.xml','all','error','MDApiParser','readFile','relative','startsWith','readChildComponents','readBundledFiles','logger','defineProperty','__importDefault','./data/folder-types','BUNDLED_FOLDERS_REGEXP','3795720eWjcHE','WaveTemplateBundle','paths','name','509243gCWjLn','catch','9hDuKaG','3936396Xgntql','extname','../internal/fs.internal','./utils/crc32','extractFileNameFromFiles','readComponentFiles','package.xml','calculateCRC32','./data/settings-types-list','\x22\x20not\x20found\x20in\x20\x22','test','dir','isSFDXProject','readDir','waveTemplates','find','./utils/xml','map','./utils','Logger','isDir','isPathsEquals','3227799fBhyGA','__esModule','hasChildNodes','files','crc','push','init','META_EXTENSION','parse','Component\x20\x22','Xml','extractFilenameFromPath','8584303EfUdDX','createChildComponentsFromParent','../../../constants','19556616ZeyryZ','values','exists','./data/child-types-map','constructor','4VxUweT','toString','join','Cannot\x20parse\x20childs\x20in\x20','Settings','reduce','search','../../../core','filter','7824240mgfsDr','filePath','type','default','includes','META_EXPERIENCES_EXTENSION'];a184_0xcd08=function(){return _0x4b7e03;};return a184_0xcd08();}function a184_0x6e47(_0x32490d,_0x181f0f){const _0x106a93=a184_0xcd08();return a184_0x6e47=function(_0x4996e9,_0x3c20a8){_0x4996e9=_0x4996e9-0xca;let _0xcd082=_0x106a93[_0x4996e9];return _0xcd082;},a184_0x6e47(_0x32490d,_0x181f0f);}var __importDefault=this&&this[a184_0x1d418c(0xda)]||function(_0x28c737){const _0x3186d6=a184_0x1d418c;return _0x28c737&&_0x28c737[_0x3186d6(0xfb)]?_0x28c737:{'default':_0x28c737};};Object[a184_0x1d418c(0xd9)](exports,a184_0x1d418c(0xfb),{'value':!![]}),exports[a184_0x1d418c(0xd2)]=void 0x0;const fs_internal_1=require(a184_0x1d418c(0xe6)),utils_1=require(a184_0x1d418c(0xf6)),path_1=require('path'),xml_1=require(a184_0x1d418c(0xf4)),child_types_map_1=__importDefault(require(a184_0x1d418c(0x10c))),constants_1=require(a184_0x1d418c(0x108)),core_1=require(a184_0x1d418c(0x115)),git_commit_utils_1=require('../devops/utils/git-commit.utils'),crc32_1=require(a184_0x1d418c(0xe7)),folder_types_1=__importDefault(require(a184_0x1d418c(0xdb))),settings_types_list_1=__importDefault(require(a184_0x1d418c(0xec))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a184_0x1d418c(0xca)]);class MDApiParser{constructor(_0x5e5fac,_0x530042,_0x3d9881){const _0x2d5f49=a184_0x1d418c;this[_0x2d5f49(0xef)]=_0x5e5fac,this[_0x2d5f49(0xf0)]=_0x3d9881,this['logger']=new core_1[(_0x2d5f49(0xf7))](MDApiParser[_0x2d5f49(0xe0)]),this[_0x2d5f49(0x101)]='-meta.xml',this[_0x2d5f49(0xcc)]=_0x2d5f49(0xcf),this[_0x2d5f49(0xdf)]=_0x530042;}async['readChildComponents'](_0x4e82f4){const _0x5c5be1=a184_0x1d418c;try{const _0x7895f6=await xml_1['Xml'][_0x5c5be1(0x102)](Object[_0x5c5be1(0x10a)](_0x4e82f4[_0x5c5be1(0xfd)])[0x0][_0x5c5be1(0x10f)](_0x5c5be1(0xce))),_0x211db4=CHILD_XML_KEYS[_0x5c5be1(0x116)](_0x4d3d0e=>xml_1[_0x5c5be1(0x104)][_0x5c5be1(0xfc)](_0x7895f6,_0x4d3d0e))[_0x5c5be1(0x113)]((_0x18cadd,_0x4a0995)=>[..._0x18cadd,...xml_1[_0x5c5be1(0x104)]['getChildsByName'](_0x7895f6,_0x4a0995)],[]);return(0x0,utils_1[_0x5c5be1(0x107)])(_0x4e82f4,_0x7895f6,_0x211db4);}catch(_0x58e7a4){throw new Error(_0x5c5be1(0x111)+_0x4e82f4[_0x5c5be1(0xe0)]+'\x20['+_0x4e82f4['type']+']');}}async[a184_0x1d418c(0xd7)](_0xc654d1){const _0xba453e=a184_0x1d418c,_0x45c58c=(0x0,path_1['join'])(this[_0xba453e(0xef)],_0xc654d1),_0x4c279b=_0xc654d1+(_0xc654d1['startsWith']('experiences')?this[_0xba453e(0xcc)]:this['META_EXTENSION']),_0x1795a9=await fs_internal_1['FS'][_0xba453e(0xf1)](_0x45c58c,!![]),_0xd1bbaa=await fs_internal_1['FS']['readFile']((0x0,path_1[_0xba453e(0x110)])(this[_0xba453e(0xef)],_0x4c279b),!![])[_0xba453e(0xe2)](()=>null),_0x2662d2={};for(const _0xdb95f9 of _0x1795a9){_0x2662d2[(0x0,path_1[_0xba453e(0xd4)])(this['dir'],_0xdb95f9)]=await fs_internal_1['FS'][_0xba453e(0xd3)](_0xdb95f9,!![]);}return _0xd1bbaa&&(_0x2662d2[(0x0,path_1[_0xba453e(0xd4)])(this[_0xba453e(0xef)],_0x4c279b)]=_0xd1bbaa),_0x2662d2;}async[a184_0x1d418c(0xe9)](_0x4f4d60){const _0x593870=a184_0x1d418c;let _0x5c0d00=_0x4f4d60+this[_0x593870(0x101)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x4f4d60))return this['readBundledFiles'](_0x4f4d60);if(await fs_internal_1['FS'][_0x593870(0xf8)]((0x0,path_1[_0x593870(0x110)])(this[_0x593870(0xef)],_0x4f4d60))||await fs_internal_1['FS'][_0x593870(0x10b)]((0x0,path_1[_0x593870(0x110)])(this[_0x593870(0xef)],_0x5c0d00))){const _0x3385c9=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0x5c0d00),!![]),_0x11d84e=await(0x0,utils_1[_0x593870(0xcd)])({'files':{[_0x5c0d00]:_0x3385c9}})[_0x593870(0xe2)](()=>null);if(_0x11d84e&&folder_types_1[_0x593870(0xca)][_0x593870(0xcb)](_0x11d84e))return{[_0x5c0d00]:await fs_internal_1['FS'][_0x593870(0xd3)]((0x0,path_1['join'])(this[_0x593870(0xef)],_0x5c0d00),!![])};}if(!(0x0,path_1[_0x593870(0xe5)])(_0x4f4d60)&&this[_0x593870(0xf0)]){const _0x5488a5=_0x4f4d60['split']('/')[0x0],_0x243911=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x593870(0xef)],_0x5488a5)))[_0x593870(0xf3)](_0x5963b4=>(0x0,git_commit_utils_1[_0x593870(0xf9)])(_0x5963b4,(0x0,path_1[_0x593870(0x110)])(this['dir'],_0x4f4d60)));if(!_0x243911)throw new Error(_0x593870(0x103)+_0x4f4d60+_0x593870(0xed)+_0x5488a5+'\x22');_0x4f4d60=(0x0,path_1[_0x593870(0xd4)])(this[_0x593870(0xef)],_0x243911),_0x5c0d00=_0x4f4d60+this['META_EXTENSION'];}const [_0x11e499,_0x5c26b8]=await Promise[_0x593870(0xd0)]([fs_internal_1['FS'][_0x593870(0xd3)]((0x0,path_1[_0x593870(0x110)])(this['dir'],_0x4f4d60),!![])[_0x593870(0xe2)](()=>null),fs_internal_1['FS'][_0x593870(0xd3)]((0x0,path_1[_0x593870(0x110)])(this[_0x593870(0xef)],_0x5c0d00),!![])['catch'](()=>null)]);return{..._0x11e499?{[_0x4f4d60]:_0x11e499}:{},..._0x5c26b8?{[_0x5c0d00]:_0x5c26b8}:{}};}async[a184_0x1d418c(0x100)](){const _0x2f85d9=a184_0x1d418c,_0x3f4970=[...this['paths']];if(this[_0x2f85d9(0xf0)])for(const _0x2728cf of _0x3f4970){if(constants_1[_0x2f85d9(0xdc)][_0x2f85d9(0xee)](_0x2728cf))continue;if(await fs_internal_1['FS'][_0x2f85d9(0xf8)]((0x0,path_1[_0x2f85d9(0x110)])(this['dir'],_0x2728cf))){const _0x5ecf63=await fs_internal_1['FS'][_0x2f85d9(0xf1)]((0x0,path_1[_0x2f85d9(0x110)])(this[_0x2f85d9(0xef)],_0x2728cf),!![]);_0x3f4970[_0x2f85d9(0xff)](..._0x5ecf63[_0x2f85d9(0xf5)](_0x4777f2=>(0x0,path_1[_0x2f85d9(0xd4)])(this[_0x2f85d9(0xef)],_0x4777f2)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x3f4970);}async[a184_0x1d418c(0x102)](){const _0x5d13ce=a184_0x1d418c;await this[_0x5d13ce(0x100)]();const _0x3b3edb=[];for(const _0x211a0b of this[_0x5d13ce(0xdf)]){if(_0x211a0b['endsWith'](_0x5d13ce(0xea)))continue;const _0x4d1b32={};try{_0x4d1b32[_0x5d13ce(0xfd)]=await this[_0x5d13ce(0xe9)](_0x211a0b),_0x4d1b32[_0x5d13ce(0x118)]=constants_1[_0x5d13ce(0xdc)][_0x5d13ce(0xee)](_0x211a0b)?_0x211a0b:(0x0,utils_1[_0x5d13ce(0xe8)])({'files':_0x4d1b32[_0x5d13ce(0xfd)]}),_0x211a0b[_0x5d13ce(0xd5)](_0x5d13ce(0xf2))?_0x4d1b32[_0x5d13ce(0x119)]=_0x5d13ce(0xde):_0x4d1b32[_0x5d13ce(0x119)]=await(0x0,utils_1[_0x5d13ce(0xcd)])({'files':_0x4d1b32[_0x5d13ce(0xfd)]});}catch(_0x5e85c9){this[_0x5d13ce(0xd8)][_0x5d13ce(0xd1)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x211a0b,_0x5e85c9);continue;}_0x4d1b32['name']=(0x0,utils_1[_0x5d13ce(0x105)])(_0x211a0b),_0x4d1b32[_0x5d13ce(0xfe)]=(0x0,crc32_1[_0x5d13ce(0xeb)])(_0x4d1b32);if((0x0,utils_1['isParentComponent'])(_0x4d1b32)){const _0xa9a6a9=await this[_0x5d13ce(0xd6)](_0x4d1b32);_0x3b3edb[_0x5d13ce(0xff)](..._0xa9a6a9);}if(_0x4d1b32[_0x5d13ce(0x119)]==='CustomLabels')continue;settings_types_list_1[_0x5d13ce(0xca)][_0x5d13ce(0xcb)](_0x4d1b32['type'])&&(_0x4d1b32[_0x5d13ce(0x119)]=_0x5d13ce(0x112)),_0x3b3edb[_0x5d13ce(0xff)](_0x4d1b32);}return _0x3b3edb;}}exports['MDApiParser']=MDApiParser;