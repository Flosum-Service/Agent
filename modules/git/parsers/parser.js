const a173_0x4e5f13=a173_0x381c;(function(_0xb40154,_0x34a62f){const _0x21f62d=a173_0x381c,_0xe633fa=_0xb40154();while(!![]){try{const _0x42126a=parseInt(_0x21f62d(0x102))/0x1+-parseInt(_0x21f62d(0x11f))/0x2+parseInt(_0x21f62d(0x10e))/0x3*(-parseInt(_0x21f62d(0xed))/0x4)+-parseInt(_0x21f62d(0x103))/0x5*(parseInt(_0x21f62d(0xdb))/0x6)+-parseInt(_0x21f62d(0x105))/0x7+parseInt(_0x21f62d(0x10b))/0x8*(parseInt(_0x21f62d(0x10d))/0x9)+parseInt(_0x21f62d(0x120))/0xa;if(_0x42126a===_0x34a62f)break;else _0xe633fa['push'](_0xe633fa['shift']());}catch(_0x504a17){_0xe633fa['push'](_0xe633fa['shift']());}}}(a173_0x4572,0x46af2));const a173_0x74c86a=(function(){let _0x2ab99e=!![];return function(_0x48602d,_0x4ae297){const _0x20a423=_0x2ab99e?function(){if(_0x4ae297){const _0x3ddbcf=_0x4ae297['apply'](_0x48602d,arguments);return _0x4ae297=null,_0x3ddbcf;}}:function(){};return _0x2ab99e=![],_0x20a423;};}()),a173_0x234172=a173_0x74c86a(this,function(){const _0x4451c9=a173_0x381c;return a173_0x234172['toString']()['search'](_0x4451c9(0x115))[_0x4451c9(0x111)]()[_0x4451c9(0xf9)](a173_0x234172)[_0x4451c9(0xfd)](_0x4451c9(0x115));});a173_0x234172();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4d3ea8){const _0xa860c9=a173_0x381c;return _0x4d3ea8&&_0x4d3ea8[_0xa860c9(0x123)]?_0x4d3ea8:{'default':_0x4d3ea8};};function a173_0x4572(){const _0x1804c3=['convertToCleanPaths','search','parse','META_EXTENSION','extractComponentTypeFromFiles','filter','85031jVnDfE','50XGvkOn','utf-8','2288685WZJGFO','.site-meta.xml','isSFDXProject','filePath','META_EXPERIENCES_EXTENSION','calculateCRC32','110416HucyrF','./data/child-types-map','279iyRbPB','12ieNrhi','../devops/utils/git-commit.utils','MDApiParser','toString','extractFileNameFromFiles','path','values','(((.+)+)+)+$','init','defineProperty','./utils/crc32','crc','exists','readBundledFiles','../../../constants','default','relative','5238ylGjNo','1787210JOKysz','isDir','./utils/xml','__esModule','./data/settings-types-list','catch','isPathsEquals','BUNDLED_FOLDERS_REGEXP','dir','./data/folder-types','name','-meta.xml','readFile','error','\x22\x20not\x20found\x20in\x20\x22','type','package.xml','5622HQYLDu','split','extractFilenameFromPath','../internal/fs.internal','readDir','CustomLabels','Xml','push','hasChildNodes','files','join','Settings','all','startsWith','logger','map','includes','paths','63148vlxKuK','readChildComponents','isParentComponent','find','test','readComponentFiles','createChildComponentsFromParent','Component\x20\x22','WaveTemplateBundle','Cannot\x20parse\x20childs\x20in\x20','./utils','waveTemplates','constructor','getChildsByName','reduce'];a173_0x4572=function(){return _0x1804c3;};return a173_0x4572();}Object[a173_0x4e5f13(0x117)](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require(a173_0x4e5f13(0xde)),utils_1=require(a173_0x4e5f13(0xf7)),path_1=require(a173_0x4e5f13(0x113)),xml_1=require(a173_0x4e5f13(0x122)),child_types_map_1=__importDefault(require(a173_0x4e5f13(0x10c))),constants_1=require(a173_0x4e5f13(0x11c)),core_1=require('../../../core'),git_commit_utils_1=require(a173_0x4e5f13(0x10f)),crc32_1=require(a173_0x4e5f13(0x118)),folder_types_1=__importDefault(require(a173_0x4e5f13(0xd3))),settings_types_list_1=__importDefault(require(a173_0x4e5f13(0xce))),CHILD_XML_KEYS=Object[a173_0x4e5f13(0x114)](child_types_map_1[a173_0x4e5f13(0x11d)]);class MDApiParser{constructor(_0x139b02,_0x57da88,_0x1c3439){const _0x2ec258=a173_0x4e5f13;this[_0x2ec258(0xd2)]=_0x139b02,this[_0x2ec258(0x107)]=_0x1c3439,this[_0x2ec258(0xe9)]=new core_1['Logger'](MDApiParser[_0x2ec258(0xd4)]),this[_0x2ec258(0xff)]=_0x2ec258(0xd5),this[_0x2ec258(0x109)]=_0x2ec258(0x106),this[_0x2ec258(0xec)]=_0x57da88;}async[a173_0x4e5f13(0xee)](_0x108f98){const _0x2cc850=a173_0x4e5f13;try{const _0x44988a=await xml_1[_0x2cc850(0xe1)][_0x2cc850(0xfe)](Object[_0x2cc850(0x114)](_0x108f98[_0x2cc850(0xe4)])[0x0]['toString'](_0x2cc850(0x104))),_0x3ff627=CHILD_XML_KEYS[_0x2cc850(0x101)](_0x1e03f8=>xml_1[_0x2cc850(0xe1)][_0x2cc850(0xe3)](_0x44988a,_0x1e03f8))[_0x2cc850(0xfb)]((_0x28d86c,_0x585226)=>[..._0x28d86c,...xml_1['Xml'][_0x2cc850(0xfa)](_0x44988a,_0x585226)],[]);return(0x0,utils_1[_0x2cc850(0xf3)])(_0x108f98,_0x44988a,_0x3ff627);}catch(_0x4e4445){throw new Error(_0x2cc850(0xf6)+_0x108f98[_0x2cc850(0xd4)]+'\x20['+_0x108f98[_0x2cc850(0xd9)]+']');}}async[a173_0x4e5f13(0x11b)](_0x445742){const _0x42ffdd=a173_0x4e5f13,_0x46be74=(0x0,path_1[_0x42ffdd(0xe5)])(this[_0x42ffdd(0xd2)],_0x445742),_0x4ec600=_0x445742+(_0x445742[_0x42ffdd(0xe8)]('experiences')?this[_0x42ffdd(0x109)]:this[_0x42ffdd(0xff)]),_0x8ef0a8=await fs_internal_1['FS'][_0x42ffdd(0xdf)](_0x46be74,!![]),_0x3291e6=await fs_internal_1['FS'][_0x42ffdd(0xd6)]((0x0,path_1[_0x42ffdd(0xe5)])(this['dir'],_0x4ec600),!![])[_0x42ffdd(0xcf)](()=>null),_0x445fe6={};for(const _0x300773 of _0x8ef0a8){_0x445fe6[(0x0,path_1[_0x42ffdd(0x11e)])(this[_0x42ffdd(0xd2)],_0x300773)]=await fs_internal_1['FS'][_0x42ffdd(0xd6)](_0x300773,!![]);}return _0x3291e6&&(_0x445fe6[(0x0,path_1[_0x42ffdd(0x11e)])(this[_0x42ffdd(0xd2)],_0x4ec600)]=_0x3291e6),_0x445fe6;}async[a173_0x4e5f13(0xf2)](_0x11ff62){const _0x43e86b=a173_0x4e5f13;let _0x3d5dd5=_0x11ff62+this[_0x43e86b(0xff)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x43e86b(0xf1)](_0x11ff62))return this['readBundledFiles'](_0x11ff62);if(await fs_internal_1['FS'][_0x43e86b(0x121)]((0x0,path_1['join'])(this[_0x43e86b(0xd2)],_0x11ff62))||await fs_internal_1['FS'][_0x43e86b(0x11a)]((0x0,path_1[_0x43e86b(0xe5)])(this[_0x43e86b(0xd2)],_0x3d5dd5))){const _0x262686=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x43e86b(0xe5)])(this[_0x43e86b(0xd2)],_0x3d5dd5),!![]),_0x14aa8f=await(0x0,utils_1[_0x43e86b(0x100)])({'files':{[_0x3d5dd5]:_0x262686}})[_0x43e86b(0xcf)](()=>null);if(_0x14aa8f&&folder_types_1[_0x43e86b(0x11d)][_0x43e86b(0xeb)](_0x14aa8f))return{[_0x3d5dd5]:await fs_internal_1['FS'][_0x43e86b(0xd6)]((0x0,path_1[_0x43e86b(0xe5)])(this[_0x43e86b(0xd2)],_0x3d5dd5),!![])};}if(!(0x0,path_1['extname'])(_0x11ff62)&&this[_0x43e86b(0x107)]){const _0x225f70=_0x11ff62[_0x43e86b(0xdc)]('/')[0x0],_0x51fc3b=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x43e86b(0xd2)],_0x225f70)))[_0x43e86b(0xf0)](_0x479fee=>(0x0,git_commit_utils_1[_0x43e86b(0xd0)])(_0x479fee,(0x0,path_1[_0x43e86b(0xe5)])(this[_0x43e86b(0xd2)],_0x11ff62)));if(!_0x51fc3b)throw new Error(_0x43e86b(0xf4)+_0x11ff62+_0x43e86b(0xd8)+_0x225f70+'\x22');_0x11ff62=(0x0,path_1[_0x43e86b(0x11e)])(this[_0x43e86b(0xd2)],_0x51fc3b),_0x3d5dd5=_0x11ff62+this[_0x43e86b(0xff)];}const [_0x4e8f02,_0x469e38]=await Promise[_0x43e86b(0xe7)]([fs_internal_1['FS'][_0x43e86b(0xd6)]((0x0,path_1[_0x43e86b(0xe5)])(this['dir'],_0x11ff62),!![])['catch'](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1[_0x43e86b(0xe5)])(this[_0x43e86b(0xd2)],_0x3d5dd5),!![])[_0x43e86b(0xcf)](()=>null)]);return{..._0x4e8f02?{[_0x11ff62]:_0x4e8f02}:{},..._0x469e38?{[_0x3d5dd5]:_0x469e38}:{}};}async[a173_0x4e5f13(0x116)](){const _0x5644d4=a173_0x4e5f13,_0x24e6b7=[...this[_0x5644d4(0xec)]];if(this[_0x5644d4(0x107)])for(const _0x263038 of _0x24e6b7){if(constants_1[_0x5644d4(0xd1)][_0x5644d4(0xf1)](_0x263038))continue;if(await fs_internal_1['FS'][_0x5644d4(0x121)]((0x0,path_1['join'])(this[_0x5644d4(0xd2)],_0x263038))){const _0x3c195e=await fs_internal_1['FS'][_0x5644d4(0xdf)]((0x0,path_1[_0x5644d4(0xe5)])(this[_0x5644d4(0xd2)],_0x263038),!![]);_0x24e6b7[_0x5644d4(0xe2)](..._0x3c195e[_0x5644d4(0xea)](_0x25a055=>(0x0,path_1['relative'])(this['dir'],_0x25a055)));}}this[_0x5644d4(0xec)]=(0x0,utils_1[_0x5644d4(0xfc)])(_0x24e6b7);}async[a173_0x4e5f13(0xfe)](){const _0x4ac0b5=a173_0x4e5f13;await this[_0x4ac0b5(0x116)]();const _0xd5007e=[];for(const _0x302dce of this[_0x4ac0b5(0xec)]){if(_0x302dce['endsWith'](_0x4ac0b5(0xda)))continue;const _0x12844a={};try{_0x12844a[_0x4ac0b5(0xe4)]=await this[_0x4ac0b5(0xf2)](_0x302dce),_0x12844a[_0x4ac0b5(0x108)]=constants_1[_0x4ac0b5(0xd1)]['test'](_0x302dce)?_0x302dce:(0x0,utils_1[_0x4ac0b5(0x112)])({'files':_0x12844a[_0x4ac0b5(0xe4)]}),_0x302dce[_0x4ac0b5(0xe8)](_0x4ac0b5(0xf8))?_0x12844a[_0x4ac0b5(0xd9)]=_0x4ac0b5(0xf5):_0x12844a['type']=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x12844a[_0x4ac0b5(0xe4)]});}catch(_0x3bce48){this[_0x4ac0b5(0xe9)][_0x4ac0b5(0xd7)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x302dce,_0x3bce48);continue;}_0x12844a[_0x4ac0b5(0xd4)]=(0x0,utils_1[_0x4ac0b5(0xdd)])(_0x302dce),_0x12844a[_0x4ac0b5(0x119)]=(0x0,crc32_1[_0x4ac0b5(0x10a)])(_0x12844a);if((0x0,utils_1[_0x4ac0b5(0xef)])(_0x12844a)){const _0x3ca97c=await this['readChildComponents'](_0x12844a);_0xd5007e[_0x4ac0b5(0xe2)](..._0x3ca97c);}if(_0x12844a['type']===_0x4ac0b5(0xe0))continue;settings_types_list_1[_0x4ac0b5(0x11d)][_0x4ac0b5(0xeb)](_0x12844a[_0x4ac0b5(0xd9)])&&(_0x12844a[_0x4ac0b5(0xd9)]=_0x4ac0b5(0xe6)),_0xd5007e[_0x4ac0b5(0xe2)](_0x12844a);}return _0xd5007e;}}function a173_0x381c(_0x148fc3,_0x480aaf){const _0x5ae646=a173_0x4572();return a173_0x381c=function(_0x234172,_0x74c86a){_0x234172=_0x234172-0xce;let _0x4572e4=_0x5ae646[_0x234172];return _0x4572e4;},a173_0x381c(_0x148fc3,_0x480aaf);}exports[a173_0x4e5f13(0x110)]=MDApiParser;