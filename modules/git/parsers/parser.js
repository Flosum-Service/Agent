const a182_0x33e20a=a182_0x5de5;(function(_0x277de9,_0x26c7c2){const _0x442da7=a182_0x5de5,_0x3f7df0=_0x277de9();while(!![]){try{const _0x5e68e1=parseInt(_0x442da7(0x139))/0x1*(-parseInt(_0x442da7(0x145))/0x2)+-parseInt(_0x442da7(0x172))/0x3+parseInt(_0x442da7(0x14b))/0x4+-parseInt(_0x442da7(0x171))/0x5*(parseInt(_0x442da7(0x141))/0x6)+-parseInt(_0x442da7(0x13e))/0x7*(-parseInt(_0x442da7(0x173))/0x8)+parseInt(_0x442da7(0x131))/0x9*(-parseInt(_0x442da7(0x16c))/0xa)+-parseInt(_0x442da7(0x151))/0xb*(-parseInt(_0x442da7(0x177))/0xc);if(_0x5e68e1===_0x26c7c2)break;else _0x3f7df0['push'](_0x3f7df0['shift']());}catch(_0x31ee83){_0x3f7df0['push'](_0x3f7df0['shift']());}}}(a182_0x4f63,0xbf151));const a182_0x36ae07=(function(){let _0x5f5c61=!![];return function(_0x2edb5c,_0x9493d5){const _0x520a04=_0x5f5c61?function(){if(_0x9493d5){const _0x537316=_0x9493d5['apply'](_0x2edb5c,arguments);return _0x9493d5=null,_0x537316;}}:function(){};return _0x5f5c61=![],_0x520a04;};}()),a182_0x32b1e7=a182_0x36ae07(this,function(){const _0x37193a=a182_0x5de5;return a182_0x32b1e7['toString']()[_0x37193a(0x14f)](_0x37193a(0x14a))[_0x37193a(0x161)]()[_0x37193a(0x159)](a182_0x32b1e7)[_0x37193a(0x14f)]('(((.+)+)+)+$');});a182_0x32b1e7();function a182_0x4f63(){const _0x9af483=['./data/settings-types-list','Settings','relative','values','type','logger','Logger','constructor','default','catch','extractComponentTypeFromFiles','../devops/utils/git-commit.utils','push','CustomLabels','MDApiParser','toString','parse','exists','isDir','__esModule','includes','./utils/crc32','test','readDir','./data/child-types-map','files','39230oMyuZE','experiences','init','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','extractFilenameFromPath','5dBwPSj','2703282ixcbIS','14360XYKWfM','createChildComponentsFromParent','path','package.xml','348KmQnrY','../../../constants','../../../core','utf-8','startsWith','readComponentFiles','3366bWmXlv','\x22\x20not\x20found\x20in\x20\x22','readFile','readBundledFiles','__importDefault','readChildComponents','join','reduce','5091eNpbyG','Xml','waveTemplates','dir','META_EXTENSION','5768saoCWH','META_EXPERIENCES_EXTENSION','defineProperty','4224966iBYYMN','../internal/fs.internal','paths','extname','134ZdKrwp','split','calculateCRC32','map','name','(((.+)+)+)+$','4276656fHwCrU','isParentComponent','filter','filePath','search','.site-meta.xml','625097tYagOq'];a182_0x4f63=function(){return _0x9af483;};return a182_0x4f63();}'use strict';var __importDefault=this&&this[a182_0x33e20a(0x135)]||function(_0x213722){return _0x213722&&_0x213722['__esModule']?_0x213722:{'default':_0x213722};};Object[a182_0x33e20a(0x140)](exports,a182_0x33e20a(0x165),{'value':!![]}),exports['MDApiParser']=void 0x0;function a182_0x5de5(_0x1104f6,_0x49e573){const _0x27c622=a182_0x4f63();return a182_0x5de5=function(_0x32b1e7,_0x36ae07){_0x32b1e7=_0x32b1e7-0x12e;let _0x4f6346=_0x27c622[_0x32b1e7];return _0x4f6346;},a182_0x5de5(_0x1104f6,_0x49e573);}const fs_internal_1=require(a182_0x33e20a(0x142)),utils_1=require('./utils'),path_1=require(a182_0x33e20a(0x175)),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require(a182_0x33e20a(0x16a))),constants_1=require(a182_0x33e20a(0x178)),core_1=require(a182_0x33e20a(0x179)),git_commit_utils_1=require(a182_0x33e20a(0x15d)),crc32_1=require(a182_0x33e20a(0x167)),folder_types_1=__importDefault(require('./data/folder-types')),settings_types_list_1=__importDefault(require(a182_0x33e20a(0x152))),CHILD_XML_KEYS=Object[a182_0x33e20a(0x155)](child_types_map_1[a182_0x33e20a(0x15a)]);class MDApiParser{constructor(_0xd3b32d,_0x41c792,_0x22c0d4){const _0x113f1c=a182_0x33e20a;this[_0x113f1c(0x13c)]=_0xd3b32d,this['isSFDXProject']=_0x22c0d4,this['logger']=new core_1[(_0x113f1c(0x158))](MDApiParser[_0x113f1c(0x149)]),this['META_EXTENSION']='-meta.xml',this[_0x113f1c(0x13f)]=_0x113f1c(0x150),this[_0x113f1c(0x143)]=_0x41c792;}async[a182_0x33e20a(0x136)](_0x20bbbc){const _0xb7584b=a182_0x33e20a;try{const _0x1c2581=await xml_1['Xml']['parse'](Object[_0xb7584b(0x155)](_0x20bbbc[_0xb7584b(0x16b)])[0x0]['toString'](_0xb7584b(0x12e))),_0x506cc0=CHILD_XML_KEYS[_0xb7584b(0x14d)](_0x377130=>xml_1[_0xb7584b(0x13a)]['hasChildNodes'](_0x1c2581,_0x377130))[_0xb7584b(0x138)]((_0x557c41,_0x724cf6)=>[..._0x557c41,...xml_1[_0xb7584b(0x13a)]['getChildsByName'](_0x1c2581,_0x724cf6)],[]);return(0x0,utils_1[_0xb7584b(0x174)])(_0x20bbbc,_0x1c2581,_0x506cc0);}catch(_0x78e67a){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x20bbbc[_0xb7584b(0x149)]+'\x20['+_0x20bbbc[_0xb7584b(0x156)]+']');}}async[a182_0x33e20a(0x134)](_0x10b34d){const _0x325574=a182_0x33e20a,_0x2489a9=(0x0,path_1[_0x325574(0x137)])(this[_0x325574(0x13c)],_0x10b34d),_0x30f39a=_0x10b34d+(_0x10b34d[_0x325574(0x12f)](_0x325574(0x16d))?this[_0x325574(0x13f)]:this[_0x325574(0x13d)]),_0x3dee17=await fs_internal_1['FS'][_0x325574(0x169)](_0x2489a9,!![]),_0x2f108c=await fs_internal_1['FS'][_0x325574(0x133)]((0x0,path_1[_0x325574(0x137)])(this[_0x325574(0x13c)],_0x30f39a),!![])[_0x325574(0x15b)](()=>null),_0x1937ed={};for(const _0x4e8a34 of _0x3dee17){_0x1937ed[(0x0,path_1[_0x325574(0x154)])(this[_0x325574(0x13c)],_0x4e8a34)]=await fs_internal_1['FS'][_0x325574(0x133)](_0x4e8a34,!![]);}return _0x2f108c&&(_0x1937ed[(0x0,path_1[_0x325574(0x154)])(this[_0x325574(0x13c)],_0x30f39a)]=_0x2f108c),_0x1937ed;}async[a182_0x33e20a(0x130)](_0x7d584f){const _0x5da012=a182_0x33e20a;let _0x587094=_0x7d584f+this[_0x5da012(0x13d)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5da012(0x168)](_0x7d584f))return this[_0x5da012(0x134)](_0x7d584f);if(await fs_internal_1['FS'][_0x5da012(0x164)]((0x0,path_1['join'])(this[_0x5da012(0x13c)],_0x7d584f))||await fs_internal_1['FS'][_0x5da012(0x163)]((0x0,path_1[_0x5da012(0x137)])(this['dir'],_0x587094))){const _0x17e7b5=await fs_internal_1['FS'][_0x5da012(0x133)]((0x0,path_1[_0x5da012(0x137)])(this['dir'],_0x587094),!![]),_0x8f0f78=await(0x0,utils_1[_0x5da012(0x15c)])({'files':{[_0x587094]:_0x17e7b5}})[_0x5da012(0x15b)](()=>null);if(_0x8f0f78&&folder_types_1[_0x5da012(0x15a)][_0x5da012(0x166)](_0x8f0f78))return{[_0x587094]:await fs_internal_1['FS'][_0x5da012(0x133)]((0x0,path_1[_0x5da012(0x137)])(this['dir'],_0x587094),!![])};}if(!(0x0,path_1[_0x5da012(0x144)])(_0x7d584f)&&this['isSFDXProject']){const _0x1230fb=_0x7d584f[_0x5da012(0x146)]('/')[0x0],_0x1d161d=(await fs_internal_1['FS'][_0x5da012(0x169)]((0x0,path_1[_0x5da012(0x137)])(this['dir'],_0x1230fb)))['find'](_0x4dff69=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x4dff69,(0x0,path_1[_0x5da012(0x137)])(this['dir'],_0x7d584f)));if(!_0x1d161d)throw new Error('Component\x20\x22'+_0x7d584f+_0x5da012(0x132)+_0x1230fb+'\x22');_0x7d584f=(0x0,path_1[_0x5da012(0x154)])(this['dir'],_0x1d161d),_0x587094=_0x7d584f+this[_0x5da012(0x13d)];}const [_0xfb9327,_0x5c0903]=await Promise['all']([fs_internal_1['FS']['readFile']((0x0,path_1[_0x5da012(0x137)])(this[_0x5da012(0x13c)],_0x7d584f),!![])[_0x5da012(0x15b)](()=>null),fs_internal_1['FS'][_0x5da012(0x133)]((0x0,path_1[_0x5da012(0x137)])(this[_0x5da012(0x13c)],_0x587094),!![])['catch'](()=>null)]);return{..._0xfb9327?{[_0x7d584f]:_0xfb9327}:{},..._0x5c0903?{[_0x587094]:_0x5c0903}:{}};}async[a182_0x33e20a(0x16e)](){const _0x5d2ef8=a182_0x33e20a,_0x5787d3=[...this['paths']];if(this['isSFDXProject'])for(const _0x4008c6 of _0x5787d3){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5d2ef8(0x168)](_0x4008c6))continue;if(await fs_internal_1['FS'][_0x5d2ef8(0x164)]((0x0,path_1[_0x5d2ef8(0x137)])(this[_0x5d2ef8(0x13c)],_0x4008c6))){const _0x5f4467=await fs_internal_1['FS'][_0x5d2ef8(0x169)]((0x0,path_1['join'])(this[_0x5d2ef8(0x13c)],_0x4008c6),!![]);_0x5787d3[_0x5d2ef8(0x15e)](..._0x5f4467[_0x5d2ef8(0x148)](_0x2ab2ac=>(0x0,path_1[_0x5d2ef8(0x154)])(this[_0x5d2ef8(0x13c)],_0x2ab2ac)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x5787d3);}async[a182_0x33e20a(0x162)](){const _0x10d7d8=a182_0x33e20a;await this[_0x10d7d8(0x16e)]();const _0x899a92=[];for(const _0x266fac of this[_0x10d7d8(0x143)]){if(_0x266fac['endsWith'](_0x10d7d8(0x176)))continue;const _0x2ba7ee={};try{_0x2ba7ee['files']=await this[_0x10d7d8(0x130)](_0x266fac),_0x2ba7ee[_0x10d7d8(0x14e)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x10d7d8(0x168)](_0x266fac)?_0x266fac:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x2ba7ee[_0x10d7d8(0x16b)]}),_0x266fac[_0x10d7d8(0x12f)](_0x10d7d8(0x13b))?_0x2ba7ee[_0x10d7d8(0x156)]='WaveTemplateBundle':_0x2ba7ee['type']=await(0x0,utils_1[_0x10d7d8(0x15c)])({'files':_0x2ba7ee['files']});}catch(_0x48fcf2){this[_0x10d7d8(0x157)]['error'](_0x10d7d8(0x16f),_0x266fac,_0x48fcf2);continue;}_0x2ba7ee[_0x10d7d8(0x149)]=(0x0,utils_1[_0x10d7d8(0x170)])(_0x266fac),_0x2ba7ee['crc']=(0x0,crc32_1[_0x10d7d8(0x147)])(_0x2ba7ee);if((0x0,utils_1[_0x10d7d8(0x14c)])(_0x2ba7ee)){const _0x32150f=await this['readChildComponents'](_0x2ba7ee);_0x899a92[_0x10d7d8(0x15e)](..._0x32150f);}if(_0x2ba7ee['type']===_0x10d7d8(0x15f))continue;settings_types_list_1[_0x10d7d8(0x15a)][_0x10d7d8(0x166)](_0x2ba7ee['type'])&&(_0x2ba7ee[_0x10d7d8(0x156)]=_0x10d7d8(0x153)),_0x899a92['push'](_0x2ba7ee);}return _0x899a92;}}exports[a182_0x33e20a(0x160)]=MDApiParser;