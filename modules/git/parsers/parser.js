const a172_0x54ef72=a172_0x5939;(function(_0xa9ab43,_0x3ec061){const _0x1357c7=a172_0x5939,_0x3d7a69=_0xa9ab43();while(!![]){try{const _0x4a2812=parseInt(_0x1357c7(0x138))/0x1*(-parseInt(_0x1357c7(0x15d))/0x2)+-parseInt(_0x1357c7(0x164))/0x3*(parseInt(_0x1357c7(0x12a))/0x4)+-parseInt(_0x1357c7(0x150))/0x5*(parseInt(_0x1357c7(0x15c))/0x6)+parseInt(_0x1357c7(0x16a))/0x7+-parseInt(_0x1357c7(0x147))/0x8+parseInt(_0x1357c7(0x134))/0x9+-parseInt(_0x1357c7(0x163))/0xa*(-parseInt(_0x1357c7(0x129))/0xb);if(_0x4a2812===_0x3ec061)break;else _0x3d7a69['push'](_0x3d7a69['shift']());}catch(_0x57bd67){_0x3d7a69['push'](_0x3d7a69['shift']());}}}(a172_0x1f3e,0xecb23));const a172_0x318e03=(function(){let _0xdd1ebd=!![];return function(_0x56da3c,_0x1c25cf){const _0x53ff32=_0xdd1ebd?function(){const _0xb1fd4e=a172_0x5939;if(_0x1c25cf){const _0x32f862=_0x1c25cf[_0xb1fd4e(0x14e)](_0x56da3c,arguments);return _0x1c25cf=null,_0x32f862;}}:function(){};return _0xdd1ebd=![],_0x53ff32;};}()),a172_0x3d4d6d=a172_0x318e03(this,function(){const _0x57986d=a172_0x5939;return a172_0x3d4d6d[_0x57986d(0x16d)]()[_0x57986d(0x139)](_0x57986d(0x12f))[_0x57986d(0x16d)]()[_0x57986d(0x167)](a172_0x3d4d6d)[_0x57986d(0x139)](_0x57986d(0x12f));});a172_0x3d4d6d();'use strict';var __importDefault=this&&this[a172_0x54ef72(0x159)]||function(_0x421c71){const _0x14ff9f=a172_0x54ef72;return _0x421c71&&_0x421c71[_0x14ff9f(0x12b)]?_0x421c71:{'default':_0x421c71};};Object[a172_0x54ef72(0x170)](exports,'__esModule',{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require('./utils'),path_1=require('path'),xml_1=require(a172_0x54ef72(0x15a)),child_types_map_1=__importDefault(require(a172_0x54ef72(0x175))),constants_1=require(a172_0x54ef72(0x145)),core_1=require('../../../core'),git_commit_utils_1=require('../devops/utils/git-commit.utils'),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a172_0x54ef72(0x142))),settings_types_list_1=__importDefault(require(a172_0x54ef72(0x133))),CHILD_XML_KEYS=Object['values'](child_types_map_1['default']);class MDApiParser{constructor(_0x4a1121,_0x4c1ec8,_0x5964b3){const _0x486dbb=a172_0x54ef72;this['dir']=_0x4a1121,this[_0x486dbb(0x14d)]=_0x5964b3,this[_0x486dbb(0x12d)]=new core_1['Logger'](MDApiParser[_0x486dbb(0x14f)]),this[_0x486dbb(0x15b)]=_0x486dbb(0x161),this['META_EXPERIENCES_EXTENSION']=_0x486dbb(0x156),this[_0x486dbb(0x171)]=_0x4c1ec8;}async[a172_0x54ef72(0x160)](_0x5f2b5f){const _0x3e02bb=a172_0x54ef72;try{const _0x7bf458=await xml_1[_0x3e02bb(0x128)][_0x3e02bb(0x149)](Object[_0x3e02bb(0x172)](_0x5f2b5f[_0x3e02bb(0x136)])[0x0]['toString'](_0x3e02bb(0x131))),_0xe4bfce=CHILD_XML_KEYS[_0x3e02bb(0x151)](_0x561b36=>xml_1['Xml']['hasChildNodes'](_0x7bf458,_0x561b36))['reduce']((_0x1f054e,_0x579415)=>[..._0x1f054e,...xml_1['Xml'][_0x3e02bb(0x152)](_0x7bf458,_0x579415)],[]);return(0x0,utils_1[_0x3e02bb(0x157)])(_0x5f2b5f,_0x7bf458,_0xe4bfce);}catch(_0x348488){throw new Error(_0x3e02bb(0x16f)+_0x5f2b5f[_0x3e02bb(0x14f)]+'\x20['+_0x5f2b5f[_0x3e02bb(0x135)]+']');}}async[a172_0x54ef72(0x174)](_0x29aa23){const _0x444799=a172_0x54ef72,_0x43b600=(0x0,path_1[_0x444799(0x166)])(this[_0x444799(0x165)],_0x29aa23),_0x343059=_0x29aa23+(_0x29aa23['startsWith'](_0x444799(0x14a))?this[_0x444799(0x173)]:this[_0x444799(0x15b)]),_0xe29860=await fs_internal_1['FS'][_0x444799(0x13d)](_0x43b600,!![]),_0x1a2f4a=await fs_internal_1['FS'][_0x444799(0x13f)]((0x0,path_1[_0x444799(0x166)])(this['dir'],_0x343059),!![])['catch'](()=>null),_0x2d5725={};for(const _0xa3ade8 of _0xe29860){_0x2d5725[(0x0,path_1['relative'])(this['dir'],_0xa3ade8)]=await fs_internal_1['FS'][_0x444799(0x13f)](_0xa3ade8,!![]);}return _0x1a2f4a&&(_0x2d5725[(0x0,path_1[_0x444799(0x140)])(this[_0x444799(0x165)],_0x343059)]=_0x1a2f4a),_0x2d5725;}async[a172_0x54ef72(0x12e)](_0x16f433){const _0x55e2d4=a172_0x54ef72;let _0x2adf06=_0x16f433+this[_0x55e2d4(0x15b)];if(constants_1[_0x55e2d4(0x168)][_0x55e2d4(0x146)](_0x16f433))return this[_0x55e2d4(0x174)](_0x16f433);if(await fs_internal_1['FS'][_0x55e2d4(0x143)]((0x0,path_1[_0x55e2d4(0x166)])(this['dir'],_0x16f433))||await fs_internal_1['FS'][_0x55e2d4(0x16e)]((0x0,path_1[_0x55e2d4(0x166)])(this[_0x55e2d4(0x165)],_0x2adf06))){const _0x3aa498=await fs_internal_1['FS'][_0x55e2d4(0x13f)]((0x0,path_1[_0x55e2d4(0x166)])(this[_0x55e2d4(0x165)],_0x2adf06),!![]),_0x3f45d8=await(0x0,utils_1[_0x55e2d4(0x127)])({'files':{[_0x2adf06]:_0x3aa498}})[_0x55e2d4(0x15e)](()=>null);if(_0x3f45d8&&folder_types_1[_0x55e2d4(0x162)][_0x55e2d4(0x137)](_0x3f45d8))return{[_0x2adf06]:await fs_internal_1['FS'][_0x55e2d4(0x13f)]((0x0,path_1[_0x55e2d4(0x166)])(this[_0x55e2d4(0x165)],_0x2adf06),!![])};}if(!(0x0,path_1['extname'])(_0x16f433)&&this[_0x55e2d4(0x14d)]){const _0x7abaa5=_0x16f433[_0x55e2d4(0x132)]('/')[0x0],_0x2da7c2=(await fs_internal_1['FS']['readDir']((0x0,path_1['join'])(this[_0x55e2d4(0x165)],_0x7abaa5)))[_0x55e2d4(0x14b)](_0x1db4e8=>(0x0,git_commit_utils_1[_0x55e2d4(0x148)])(_0x1db4e8,(0x0,path_1[_0x55e2d4(0x166)])(this['dir'],_0x16f433)));if(!_0x2da7c2)throw new Error(_0x55e2d4(0x16c)+_0x16f433+'\x22\x20not\x20found\x20in\x20\x22'+_0x7abaa5+'\x22');_0x16f433=(0x0,path_1['relative'])(this[_0x55e2d4(0x165)],_0x2da7c2),_0x2adf06=_0x16f433+this[_0x55e2d4(0x15b)];}const [_0x3b097b,_0x4d3150]=await Promise[_0x55e2d4(0x155)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x55e2d4(0x166)])(this[_0x55e2d4(0x165)],_0x16f433),!![])[_0x55e2d4(0x15e)](()=>null),fs_internal_1['FS'][_0x55e2d4(0x13f)]((0x0,path_1['join'])(this[_0x55e2d4(0x165)],_0x2adf06),!![])['catch'](()=>null)]);return{..._0x3b097b?{[_0x16f433]:_0x3b097b}:{},..._0x4d3150?{[_0x2adf06]:_0x4d3150}:{}};}async[a172_0x54ef72(0x14c)](){const _0x2b6a57=a172_0x54ef72,_0x3d4899=[...this['paths']];if(this['isSFDXProject'])for(const _0x1816b4 of _0x3d4899){if(constants_1[_0x2b6a57(0x168)][_0x2b6a57(0x146)](_0x1816b4))continue;if(await fs_internal_1['FS'][_0x2b6a57(0x143)]((0x0,path_1[_0x2b6a57(0x166)])(this[_0x2b6a57(0x165)],_0x1816b4))){const _0x118b14=await fs_internal_1['FS'][_0x2b6a57(0x13d)]((0x0,path_1['join'])(this['dir'],_0x1816b4),!![]);_0x3d4899[_0x2b6a57(0x13b)](..._0x118b14[_0x2b6a57(0x13e)](_0x514598=>(0x0,path_1[_0x2b6a57(0x140)])(this[_0x2b6a57(0x165)],_0x514598)));}}this[_0x2b6a57(0x171)]=(0x0,utils_1[_0x2b6a57(0x13c)])(_0x3d4899);}async[a172_0x54ef72(0x149)](){const _0x42beb5=a172_0x54ef72;await this[_0x42beb5(0x14c)]();const _0xca6e3=[];for(const _0x2268b6 of this['paths']){if(_0x2268b6[_0x42beb5(0x154)]('package.xml'))continue;const _0x53a6bf={};try{_0x53a6bf[_0x42beb5(0x136)]=await this[_0x42beb5(0x12e)](_0x2268b6),_0x53a6bf['filePath']=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x42beb5(0x146)](_0x2268b6)?_0x2268b6:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x53a6bf[_0x42beb5(0x136)]}),_0x2268b6[_0x42beb5(0x153)](_0x42beb5(0x13a))?_0x53a6bf[_0x42beb5(0x135)]='WaveTemplateBundle':_0x53a6bf[_0x42beb5(0x135)]=await(0x0,utils_1[_0x42beb5(0x127)])({'files':_0x53a6bf[_0x42beb5(0x136)]});}catch(_0x4f1fb8){this[_0x42beb5(0x12d)][_0x42beb5(0x169)](_0x42beb5(0x16b),_0x2268b6,_0x4f1fb8);continue;}_0x53a6bf['name']=(0x0,utils_1['extractFilenameFromPath'])(_0x2268b6),_0x53a6bf[_0x42beb5(0x15f)]=(0x0,crc32_1[_0x42beb5(0x141)])(_0x53a6bf);if((0x0,utils_1[_0x42beb5(0x130)])(_0x53a6bf)){const _0x14f935=await this[_0x42beb5(0x160)](_0x53a6bf);_0xca6e3[_0x42beb5(0x13b)](..._0x14f935);}if(_0x53a6bf[_0x42beb5(0x135)]===_0x42beb5(0x158))continue;settings_types_list_1['default'][_0x42beb5(0x137)](_0x53a6bf[_0x42beb5(0x135)])&&(_0x53a6bf['type']=_0x42beb5(0x144)),_0xca6e3[_0x42beb5(0x13b)](_0x53a6bf);}return _0xca6e3;}}function a172_0x5939(_0x25a558,_0x6c898d){const _0x1c5869=a172_0x1f3e();return a172_0x5939=function(_0x3d4d6d,_0x318e03){_0x3d4d6d=_0x3d4d6d-0x127;let _0x1f3e58=_0x1c5869[_0x3d4d6d];return _0x1f3e58;},a172_0x5939(_0x25a558,_0x6c898d);}exports[a172_0x54ef72(0x12c)]=MDApiParser;function a172_0x1f3e(){const _0x239602=['parse','experiences','find','init','isSFDXProject','apply','name','614155wmhhSA','filter','getChildsByName','startsWith','endsWith','all','.site-meta.xml','createChildComponentsFromParent','CustomLabels','__importDefault','./utils/xml','META_EXTENSION','12gfIRsb','604kJTiXN','catch','crc','readChildComponents','-meta.xml','default','50QQxKKT','1863RQhBpZ','dir','join','constructor','BUNDLED_FOLDERS_REGEXP','error','11921910CYfAFg','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','Component\x20\x22','toString','exists','Cannot\x20parse\x20childs\x20in\x20','defineProperty','paths','values','META_EXPERIENCES_EXTENSION','readBundledFiles','./data/child-types-map','extractComponentTypeFromFiles','Xml','4422473YEHIwd','11868gixpFg','__esModule','MDApiParser','logger','readComponentFiles','(((.+)+)+)+$','isParentComponent','utf-8','split','./data/settings-types-list','5922117kWUSug','type','files','includes','223eiEAlk','search','waveTemplates','push','convertToCleanPaths','readDir','map','readFile','relative','calculateCRC32','./data/folder-types','isDir','Settings','../../../constants','test','9970688cvTGyP','isPathsEquals'];a172_0x1f3e=function(){return _0x239602;};return a172_0x1f3e();}