const a183_0x332f44=a183_0x7123;function a183_0x3549(){const _0x504b83=['736836MpljQN','./utils/crc32','path','extractComponentTypeFromFiles','extractFilenameFromPath','push','../devops/utils/git-commit.utils','readDir','dir','155679nBxBbf','paths','isParentComponent','readFile','.site-meta.xml','20ZlNnFK','./data/folder-types','601080gmzCeA','Xml','../../../core','META_EXPERIENCES_EXTENSION','toString','readComponentFiles','files','./data/settings-types-list','parse','experiences','isPathsEquals','waveTemplates','readBundledFiles','\x22\x20not\x20found\x20in\x20\x22','CustomLabels','__importDefault','Component\x20\x22','getChildsByName','exists','isSFDXProject','1454180GgPeqr','-meta.xml','WaveTemplateBundle','constructor','extractFileNameFromFiles','find','type','includes','map','calculateCRC32','utf-8','4270128LEPtej','BUNDLED_FOLDERS_REGEXP','startsWith','__esModule','MDApiParser','join','name','./utils','isDir','Cannot\x20parse\x20childs\x20in\x20','apply','Logger','catch','endsWith','all','1190815rIXDIp','convertToCleanPaths','97172DLMFEt','init','relative','(((.+)+)+)+$','Settings','split','default','META_EXTENSION','test','values','readChildComponents','search'];a183_0x3549=function(){return _0x504b83;};return a183_0x3549();}(function(_0x30768e,_0x557534){const _0x21107f=a183_0x7123,_0x4083e7=_0x30768e();while(!![]){try{const _0x3da0b6=parseInt(_0x21107f(0xb0))/0x1+parseInt(_0x21107f(0x80))/0x2+-parseInt(_0x21107f(0x79))/0x3*(parseInt(_0x21107f(0x7e))/0x4)+parseInt(_0x21107f(0xae))/0x5+parseInt(_0x21107f(0x70))/0x6+parseInt(_0x21107f(0x94))/0x7+-parseInt(_0x21107f(0x9f))/0x8;if(_0x3da0b6===_0x557534)break;else _0x4083e7['push'](_0x4083e7['shift']());}catch(_0x55fa35){_0x4083e7['push'](_0x4083e7['shift']());}}}(a183_0x3549,0x2a486));const a183_0x4581e9=(function(){let _0x503019=!![];return function(_0x21d067,_0x351345){const _0x187686=_0x503019?function(){const _0x376fb6=a183_0x7123;if(_0x351345){const _0x2a3394=_0x351345[_0x376fb6(0xa9)](_0x21d067,arguments);return _0x351345=null,_0x2a3394;}}:function(){};return _0x503019=![],_0x187686;};}()),a183_0x43edc4=a183_0x4581e9(this,function(){const _0xa23e52=a183_0x7123;return a183_0x43edc4[_0xa23e52(0x84)]()[_0xa23e52(0x6f)](_0xa23e52(0x67))['toString']()[_0xa23e52(0x97)](a183_0x43edc4)[_0xa23e52(0x6f)](_0xa23e52(0x67));});a183_0x43edc4();'use strict';var __importDefault=this&&this[a183_0x332f44(0x8f)]||function(_0x256b72){const _0x4703c0=a183_0x332f44;return _0x256b72&&_0x256b72[_0x4703c0(0xa2)]?_0x256b72:{'default':_0x256b72};};function a183_0x7123(_0x304fe6,_0x3b2e2e){const _0x579ce9=a183_0x3549();return a183_0x7123=function(_0x43edc4,_0x4581e9){_0x43edc4=_0x43edc4-0x66;let _0x354976=_0x579ce9[_0x43edc4];return _0x354976;},a183_0x7123(_0x304fe6,_0x3b2e2e);}Object['defineProperty'](exports,a183_0x332f44(0xa2),{'value':!![]}),exports['MDApiParser']=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a183_0x332f44(0xa6)),path_1=require(a183_0x332f44(0x72)),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require('./data/child-types-map')),constants_1=require('../../../constants'),core_1=require(a183_0x332f44(0x82)),git_commit_utils_1=require(a183_0x332f44(0x76)),crc32_1=require(a183_0x332f44(0x71)),folder_types_1=__importDefault(require(a183_0x332f44(0x7f))),settings_types_list_1=__importDefault(require(a183_0x332f44(0x87))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a183_0x332f44(0x6a)]);class MDApiParser{constructor(_0x1ff74a,_0x1e4842,_0x3018c1){const _0x47f067=a183_0x332f44;this[_0x47f067(0x78)]=_0x1ff74a,this['isSFDXProject']=_0x3018c1,this['logger']=new core_1[(_0x47f067(0xaa))](MDApiParser[_0x47f067(0xa5)]),this[_0x47f067(0x6b)]=_0x47f067(0x95),this['META_EXPERIENCES_EXTENSION']=_0x47f067(0x7d),this[_0x47f067(0x7a)]=_0x1e4842;}async['readChildComponents'](_0x2a3826){const _0x94e657=a183_0x332f44;try{const _0xc678c=await xml_1[_0x94e657(0x81)][_0x94e657(0x88)](Object[_0x94e657(0x6d)](_0x2a3826[_0x94e657(0x86)])[0x0][_0x94e657(0x84)](_0x94e657(0x9e))),_0x5f27fe=CHILD_XML_KEYS['filter'](_0x489e2f=>xml_1[_0x94e657(0x81)]['hasChildNodes'](_0xc678c,_0x489e2f))['reduce']((_0x510476,_0x24f0ff)=>[..._0x510476,...xml_1['Xml'][_0x94e657(0x91)](_0xc678c,_0x24f0ff)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x2a3826,_0xc678c,_0x5f27fe);}catch(_0x29f519){throw new Error(_0x94e657(0xa8)+_0x2a3826[_0x94e657(0xa5)]+'\x20['+_0x2a3826[_0x94e657(0x9a)]+']');}}async['readBundledFiles'](_0x319390){const _0x172e44=a183_0x332f44,_0x4fee27=(0x0,path_1['join'])(this[_0x172e44(0x78)],_0x319390),_0x1c9b0e=_0x319390+(_0x319390[_0x172e44(0xa1)](_0x172e44(0x89))?this[_0x172e44(0x83)]:this[_0x172e44(0x6b)]),_0x24e326=await fs_internal_1['FS'][_0x172e44(0x77)](_0x4fee27,!![]),_0x5e0941=await fs_internal_1['FS'][_0x172e44(0x7c)]((0x0,path_1[_0x172e44(0xa4)])(this[_0x172e44(0x78)],_0x1c9b0e),!![])['catch'](()=>null),_0x3a895c={};for(const _0x140328 of _0x24e326){_0x3a895c[(0x0,path_1[_0x172e44(0x66)])(this[_0x172e44(0x78)],_0x140328)]=await fs_internal_1['FS'][_0x172e44(0x7c)](_0x140328,!![]);}return _0x5e0941&&(_0x3a895c[(0x0,path_1['relative'])(this[_0x172e44(0x78)],_0x1c9b0e)]=_0x5e0941),_0x3a895c;}async[a183_0x332f44(0x85)](_0x549ff1){const _0x2daec1=a183_0x332f44;let _0x498afc=_0x549ff1+this[_0x2daec1(0x6b)];if(constants_1[_0x2daec1(0xa0)][_0x2daec1(0x6c)](_0x549ff1))return this[_0x2daec1(0x8c)](_0x549ff1);if(await fs_internal_1['FS'][_0x2daec1(0xa7)]((0x0,path_1['join'])(this[_0x2daec1(0x78)],_0x549ff1))||await fs_internal_1['FS'][_0x2daec1(0x92)]((0x0,path_1[_0x2daec1(0xa4)])(this[_0x2daec1(0x78)],_0x498afc))){const _0x1e6e51=await fs_internal_1['FS'][_0x2daec1(0x7c)]((0x0,path_1[_0x2daec1(0xa4)])(this[_0x2daec1(0x78)],_0x498afc),!![]),_0x5b2c2b=await(0x0,utils_1[_0x2daec1(0x73)])({'files':{[_0x498afc]:_0x1e6e51}})[_0x2daec1(0xab)](()=>null);if(_0x5b2c2b&&folder_types_1[_0x2daec1(0x6a)][_0x2daec1(0x9b)](_0x5b2c2b))return{[_0x498afc]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x2daec1(0xa4)])(this[_0x2daec1(0x78)],_0x498afc),!![])};}if(!(0x0,path_1['extname'])(_0x549ff1)&&this[_0x2daec1(0x93)]){const _0x4877c5=_0x549ff1[_0x2daec1(0x69)]('/')[0x0],_0x27d192=(await fs_internal_1['FS'][_0x2daec1(0x77)]((0x0,path_1[_0x2daec1(0xa4)])(this[_0x2daec1(0x78)],_0x4877c5)))[_0x2daec1(0x99)](_0x21ed9a=>(0x0,git_commit_utils_1[_0x2daec1(0x8a)])(_0x21ed9a,(0x0,path_1[_0x2daec1(0xa4)])(this['dir'],_0x549ff1)));if(!_0x27d192)throw new Error(_0x2daec1(0x90)+_0x549ff1+_0x2daec1(0x8d)+_0x4877c5+'\x22');_0x549ff1=(0x0,path_1[_0x2daec1(0x66)])(this['dir'],_0x27d192),_0x498afc=_0x549ff1+this[_0x2daec1(0x6b)];}const [_0x21af40,_0x47112a]=await Promise[_0x2daec1(0xad)]([fs_internal_1['FS']['readFile']((0x0,path_1[_0x2daec1(0xa4)])(this[_0x2daec1(0x78)],_0x549ff1),!![])[_0x2daec1(0xab)](()=>null),fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x2daec1(0x78)],_0x498afc),!![])[_0x2daec1(0xab)](()=>null)]);return{..._0x21af40?{[_0x549ff1]:_0x21af40}:{},..._0x47112a?{[_0x498afc]:_0x47112a}:{}};}async[a183_0x332f44(0xb1)](){const _0x34a7b2=a183_0x332f44,_0x423209=[...this[_0x34a7b2(0x7a)]];if(this[_0x34a7b2(0x93)])for(const _0x30fb1d of _0x423209){if(constants_1[_0x34a7b2(0xa0)]['test'](_0x30fb1d))continue;if(await fs_internal_1['FS'][_0x34a7b2(0xa7)]((0x0,path_1[_0x34a7b2(0xa4)])(this[_0x34a7b2(0x78)],_0x30fb1d))){const _0x2d2fe5=await fs_internal_1['FS'][_0x34a7b2(0x77)]((0x0,path_1[_0x34a7b2(0xa4)])(this['dir'],_0x30fb1d),!![]);_0x423209[_0x34a7b2(0x75)](..._0x2d2fe5[_0x34a7b2(0x9c)](_0x17f4ec=>(0x0,path_1[_0x34a7b2(0x66)])(this['dir'],_0x17f4ec)));}}this[_0x34a7b2(0x7a)]=(0x0,utils_1[_0x34a7b2(0xaf)])(_0x423209);}async[a183_0x332f44(0x88)](){const _0x156ea3=a183_0x332f44;await this['init']();const _0x249cf5=[];for(const _0x5ac4d0 of this[_0x156ea3(0x7a)]){if(_0x5ac4d0[_0x156ea3(0xac)]('package.xml'))continue;const _0x4e7be8={};try{_0x4e7be8['files']=await this['readComponentFiles'](_0x5ac4d0),_0x4e7be8['filePath']=constants_1[_0x156ea3(0xa0)]['test'](_0x5ac4d0)?_0x5ac4d0:(0x0,utils_1[_0x156ea3(0x98)])({'files':_0x4e7be8[_0x156ea3(0x86)]}),_0x5ac4d0[_0x156ea3(0xa1)](_0x156ea3(0x8b))?_0x4e7be8[_0x156ea3(0x9a)]=_0x156ea3(0x96):_0x4e7be8[_0x156ea3(0x9a)]=await(0x0,utils_1[_0x156ea3(0x73)])({'files':_0x4e7be8['files']});}catch(_0xdd09e6){this['logger']['error']('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x5ac4d0,_0xdd09e6);continue;}_0x4e7be8[_0x156ea3(0xa5)]=(0x0,utils_1[_0x156ea3(0x74)])(_0x5ac4d0),_0x4e7be8['crc']=(0x0,crc32_1[_0x156ea3(0x9d)])(_0x4e7be8);if((0x0,utils_1[_0x156ea3(0x7b)])(_0x4e7be8)){const _0x28ab4f=await this[_0x156ea3(0x6e)](_0x4e7be8);_0x249cf5['push'](..._0x28ab4f);}if(_0x4e7be8[_0x156ea3(0x9a)]===_0x156ea3(0x8e))continue;settings_types_list_1[_0x156ea3(0x6a)][_0x156ea3(0x9b)](_0x4e7be8[_0x156ea3(0x9a)])&&(_0x4e7be8[_0x156ea3(0x9a)]=_0x156ea3(0x68)),_0x249cf5['push'](_0x4e7be8);}return _0x249cf5;}}exports[a183_0x332f44(0xa3)]=MDApiParser;