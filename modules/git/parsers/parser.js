const a183_0x417e5a=a183_0x160b;(function(_0x5ea5dc,_0xb74944){const _0x103b23=a183_0x160b,_0xaf0d78=_0x5ea5dc();while(!![]){try{const _0x55c62c=-parseInt(_0x103b23(0x1ed))/0x1*(-parseInt(_0x103b23(0x1e0))/0x2)+parseInt(_0x103b23(0x1cc))/0x3+-parseInt(_0x103b23(0x1f7))/0x4*(-parseInt(_0x103b23(0x20b))/0x5)+parseInt(_0x103b23(0x1f3))/0x6*(parseInt(_0x103b23(0x206))/0x7)+-parseInt(_0x103b23(0x1e1))/0x8+-parseInt(_0x103b23(0x204))/0x9*(-parseInt(_0x103b23(0x20f))/0xa)+parseInt(_0x103b23(0x1de))/0xb*(-parseInt(_0x103b23(0x1d6))/0xc);if(_0x55c62c===_0xb74944)break;else _0xaf0d78['push'](_0xaf0d78['shift']());}catch(_0x542f15){_0xaf0d78['push'](_0xaf0d78['shift']());}}}(a183_0x4f54,0x7d42f));const a183_0x12eaff=(function(){let _0x406cb2=!![];return function(_0x1e0834,_0x52aef0){const _0x3c8aeb=_0x406cb2?function(){if(_0x52aef0){const _0x5c887b=_0x52aef0['apply'](_0x1e0834,arguments);return _0x52aef0=null,_0x5c887b;}}:function(){};return _0x406cb2=![],_0x3c8aeb;};}()),a183_0x5d4eb8=a183_0x12eaff(this,function(){const _0x3000e1=a183_0x160b;return a183_0x5d4eb8['toString']()[_0x3000e1(0x1d8)]('(((.+)+)+)+$')[_0x3000e1(0x1ca)]()[_0x3000e1(0x1f6)](a183_0x5d4eb8)[_0x3000e1(0x1d8)](_0x3000e1(0x1d0));});function a183_0x160b(_0x24a5d1,_0x4b1e21){const _0x1b8fd6=a183_0x4f54();return a183_0x160b=function(_0x5d4eb8,_0x12eaff){_0x5d4eb8=_0x5d4eb8-0x1c9;let _0x4f54e1=_0x1b8fd6[_0x5d4eb8];return _0x4f54e1;},a183_0x160b(_0x24a5d1,_0x4b1e21);}a183_0x5d4eb8();'use strict';var __importDefault=this&&this[a183_0x417e5a(0x216)]||function(_0x29d2ea){const _0x49abc0=a183_0x417e5a;return _0x29d2ea&&_0x29d2ea[_0x49abc0(0x1cb)]?_0x29d2ea:{'default':_0x29d2ea};};Object[a183_0x417e5a(0x1e5)](exports,a183_0x417e5a(0x1cb),{'value':!![]}),exports[a183_0x417e5a(0x1e8)]=void 0x0;const fs_internal_1=require(a183_0x417e5a(0x1ee)),utils_1=require(a183_0x417e5a(0x201)),path_1=require(a183_0x417e5a(0x1f4)),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require(a183_0x417e5a(0x215))),constants_1=require(a183_0x417e5a(0x209)),core_1=require(a183_0x417e5a(0x213)),git_commit_utils_1=require(a183_0x417e5a(0x1f9)),crc32_1=require(a183_0x417e5a(0x1fa)),folder_types_1=__importDefault(require(a183_0x417e5a(0x1fc))),settings_types_list_1=__importDefault(require(a183_0x417e5a(0x205))),CHILD_XML_KEYS=Object[a183_0x417e5a(0x1da)](child_types_map_1[a183_0x417e5a(0x1db)]);function a183_0x4f54(){const _0x2af172=['./data/folder-types','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','relative','parse','readFile','./utils','CustomLabels','crc','2151MdIXdo','./data/settings-types-list','1776131PrZGFi','waveTemplates','META_EXTENSION','../../../constants','Xml','25iayUYH','test','filePath','filter','23020TmAeYN','join','META_EXPERIENCES_EXTENSION','Logger','../../../core','logger','./data/child-types-map','__importDefault','paths','toString','__esModule','1722753NZlIhb','readDir','split','package.xml','(((.+)+)+)+$','includes','name','readComponentFiles','catch','readChildComponents','24qdrTzV','extractComponentTypeFromFiles','search','type','values','default','init','isSFDXProject','6143137wQhLuX','BUNDLED_FOLDERS_REGEXP','87154jnXNzm','7025304rsXZpm','isPathsEquals','isDir','find','defineProperty','\x22\x20not\x20found\x20in\x20\x22','dir','MDApiParser','endsWith','calculateCRC32','readBundledFiles','getChildsByName','13OKzUsk','../internal/fs.internal','Cannot\x20parse\x20childs\x20in\x20','error','Settings','isParentComponent','6jlJLZx','path','-meta.xml','constructor','450804ERjDGD','experiences','../devops/utils/git-commit.utils','./utils/crc32','push'];a183_0x4f54=function(){return _0x2af172;};return a183_0x4f54();}class MDApiParser{constructor(_0x181543,_0x1a64f7,_0x3dc275){const _0x2511e0=a183_0x417e5a;this[_0x2511e0(0x1e7)]=_0x181543,this[_0x2511e0(0x1dd)]=_0x3dc275,this['logger']=new core_1[(_0x2511e0(0x212))](MDApiParser[_0x2511e0(0x1d2)]),this['META_EXTENSION']=_0x2511e0(0x1f5),this[_0x2511e0(0x211)]='.site-meta.xml',this[_0x2511e0(0x1c9)]=_0x1a64f7;}async[a183_0x417e5a(0x1d5)](_0x439a48){const _0x399560=a183_0x417e5a;try{const _0x5c72be=await xml_1[_0x399560(0x20a)][_0x399560(0x1ff)](Object[_0x399560(0x1da)](_0x439a48['files'])[0x0][_0x399560(0x1ca)]('utf-8')),_0x27e4d2=CHILD_XML_KEYS[_0x399560(0x20e)](_0x25d010=>xml_1['Xml']['hasChildNodes'](_0x5c72be,_0x25d010))['reduce']((_0x2e5e22,_0x4aa930)=>[..._0x2e5e22,...xml_1[_0x399560(0x20a)][_0x399560(0x1ec)](_0x5c72be,_0x4aa930)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x439a48,_0x5c72be,_0x27e4d2);}catch(_0x46804c){throw new Error(_0x399560(0x1ef)+_0x439a48[_0x399560(0x1d2)]+'\x20['+_0x439a48[_0x399560(0x1d9)]+']');}}async[a183_0x417e5a(0x1eb)](_0x5d2b71){const _0x46a06b=a183_0x417e5a,_0x911555=(0x0,path_1[_0x46a06b(0x210)])(this[_0x46a06b(0x1e7)],_0x5d2b71),_0x5f2ea1=_0x5d2b71+(_0x5d2b71['startsWith'](_0x46a06b(0x1f8))?this[_0x46a06b(0x211)]:this[_0x46a06b(0x208)]),_0x3d1161=await fs_internal_1['FS']['readDir'](_0x911555,!![]),_0x12d3cd=await fs_internal_1['FS'][_0x46a06b(0x200)]((0x0,path_1[_0x46a06b(0x210)])(this['dir'],_0x5f2ea1),!![])[_0x46a06b(0x1d4)](()=>null),_0x539fde={};for(const _0x59fc39 of _0x3d1161){_0x539fde[(0x0,path_1[_0x46a06b(0x1fe)])(this[_0x46a06b(0x1e7)],_0x59fc39)]=await fs_internal_1['FS'][_0x46a06b(0x200)](_0x59fc39,!![]);}return _0x12d3cd&&(_0x539fde[(0x0,path_1[_0x46a06b(0x1fe)])(this[_0x46a06b(0x1e7)],_0x5f2ea1)]=_0x12d3cd),_0x539fde;}async[a183_0x417e5a(0x1d3)](_0x1ea6d7){const _0x5dd467=a183_0x417e5a;let _0x4a50f3=_0x1ea6d7+this[_0x5dd467(0x208)];if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5dd467(0x20c)](_0x1ea6d7))return this[_0x5dd467(0x1eb)](_0x1ea6d7);if(await fs_internal_1['FS'][_0x5dd467(0x1e3)]((0x0,path_1['join'])(this[_0x5dd467(0x1e7)],_0x1ea6d7))||await fs_internal_1['FS']['exists']((0x0,path_1[_0x5dd467(0x210)])(this[_0x5dd467(0x1e7)],_0x4a50f3))){const _0x5efb71=await fs_internal_1['FS'][_0x5dd467(0x200)]((0x0,path_1['join'])(this[_0x5dd467(0x1e7)],_0x4a50f3),!![]),_0x2f507b=await(0x0,utils_1[_0x5dd467(0x1d7)])({'files':{[_0x4a50f3]:_0x5efb71}})[_0x5dd467(0x1d4)](()=>null);if(_0x2f507b&&folder_types_1[_0x5dd467(0x1db)][_0x5dd467(0x1d1)](_0x2f507b))return{[_0x4a50f3]:await fs_internal_1['FS'][_0x5dd467(0x200)]((0x0,path_1[_0x5dd467(0x210)])(this[_0x5dd467(0x1e7)],_0x4a50f3),!![])};}if(!(0x0,path_1['extname'])(_0x1ea6d7)&&this['isSFDXProject']){const _0x5378c1=_0x1ea6d7[_0x5dd467(0x1ce)]('/')[0x0],_0x1ad4a7=(await fs_internal_1['FS'][_0x5dd467(0x1cd)]((0x0,path_1[_0x5dd467(0x210)])(this['dir'],_0x5378c1)))[_0x5dd467(0x1e4)](_0xda8e9c=>(0x0,git_commit_utils_1[_0x5dd467(0x1e2)])(_0xda8e9c,(0x0,path_1[_0x5dd467(0x210)])(this[_0x5dd467(0x1e7)],_0x1ea6d7)));if(!_0x1ad4a7)throw new Error('Component\x20\x22'+_0x1ea6d7+_0x5dd467(0x1e6)+_0x5378c1+'\x22');_0x1ea6d7=(0x0,path_1[_0x5dd467(0x1fe)])(this[_0x5dd467(0x1e7)],_0x1ad4a7),_0x4a50f3=_0x1ea6d7+this[_0x5dd467(0x208)];}const [_0x505ec2,_0x17f061]=await Promise['all']([fs_internal_1['FS']['readFile']((0x0,path_1[_0x5dd467(0x210)])(this[_0x5dd467(0x1e7)],_0x1ea6d7),!![])[_0x5dd467(0x1d4)](()=>null),fs_internal_1['FS'][_0x5dd467(0x200)]((0x0,path_1[_0x5dd467(0x210)])(this[_0x5dd467(0x1e7)],_0x4a50f3),!![])['catch'](()=>null)]);return{..._0x505ec2?{[_0x1ea6d7]:_0x505ec2}:{},..._0x17f061?{[_0x4a50f3]:_0x17f061}:{}};}async[a183_0x417e5a(0x1dc)](){const _0x547b39=a183_0x417e5a,_0x96afb=[...this['paths']];if(this['isSFDXProject'])for(const _0x49f8b0 of _0x96afb){if(constants_1[_0x547b39(0x1df)][_0x547b39(0x20c)](_0x49f8b0))continue;if(await fs_internal_1['FS'][_0x547b39(0x1e3)]((0x0,path_1[_0x547b39(0x210)])(this[_0x547b39(0x1e7)],_0x49f8b0))){const _0x4a0602=await fs_internal_1['FS'][_0x547b39(0x1cd)]((0x0,path_1['join'])(this[_0x547b39(0x1e7)],_0x49f8b0),!![]);_0x96afb[_0x547b39(0x1fb)](..._0x4a0602['map'](_0x2ebae4=>(0x0,path_1['relative'])(this['dir'],_0x2ebae4)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x96afb);}async['parse'](){const _0x1966e7=a183_0x417e5a;await this['init']();const _0x3efdb0=[];for(const _0x313ed5 of this[_0x1966e7(0x1c9)]){if(_0x313ed5[_0x1966e7(0x1e9)](_0x1966e7(0x1cf)))continue;const _0x314a56={};try{_0x314a56['files']=await this[_0x1966e7(0x1d3)](_0x313ed5),_0x314a56[_0x1966e7(0x20d)]=constants_1[_0x1966e7(0x1df)][_0x1966e7(0x20c)](_0x313ed5)?_0x313ed5:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x314a56['files']}),_0x313ed5['startsWith'](_0x1966e7(0x207))?_0x314a56[_0x1966e7(0x1d9)]='WaveTemplateBundle':_0x314a56[_0x1966e7(0x1d9)]=await(0x0,utils_1[_0x1966e7(0x1d7)])({'files':_0x314a56['files']});}catch(_0x5f38c6){this[_0x1966e7(0x214)][_0x1966e7(0x1f0)](_0x1966e7(0x1fd),_0x313ed5,_0x5f38c6);continue;}_0x314a56[_0x1966e7(0x1d2)]=(0x0,utils_1['extractFilenameFromPath'])(_0x313ed5),_0x314a56[_0x1966e7(0x203)]=(0x0,crc32_1[_0x1966e7(0x1ea)])(_0x314a56);if((0x0,utils_1[_0x1966e7(0x1f2)])(_0x314a56)){const _0x5d011c=await this[_0x1966e7(0x1d5)](_0x314a56);_0x3efdb0[_0x1966e7(0x1fb)](..._0x5d011c);}if(_0x314a56[_0x1966e7(0x1d9)]===_0x1966e7(0x202))continue;settings_types_list_1[_0x1966e7(0x1db)][_0x1966e7(0x1d1)](_0x314a56[_0x1966e7(0x1d9)])&&(_0x314a56[_0x1966e7(0x1d9)]=_0x1966e7(0x1f1)),_0x3efdb0[_0x1966e7(0x1fb)](_0x314a56);}return _0x3efdb0;}}exports[a183_0x417e5a(0x1e8)]=MDApiParser;