const a183_0x3b1b2e=a183_0x151a;(function(_0x5a4f0e,_0x140dbc){const _0x6bbccf=a183_0x151a,_0xc90cd2=_0x5a4f0e();while(!![]){try{const _0x47f52a=parseInt(_0x6bbccf(0x174))/0x1+-parseInt(_0x6bbccf(0x13b))/0x2*(-parseInt(_0x6bbccf(0x128))/0x3)+parseInt(_0x6bbccf(0x142))/0x4*(parseInt(_0x6bbccf(0x158))/0x5)+parseInt(_0x6bbccf(0x16a))/0x6*(-parseInt(_0x6bbccf(0x16d))/0x7)+-parseInt(_0x6bbccf(0x163))/0x8*(parseInt(_0x6bbccf(0x13c))/0x9)+-parseInt(_0x6bbccf(0x171))/0xa+parseInt(_0x6bbccf(0x12d))/0xb;if(_0x47f52a===_0x140dbc)break;else _0xc90cd2['push'](_0xc90cd2['shift']());}catch(_0x2afed3){_0xc90cd2['push'](_0xc90cd2['shift']());}}}(a183_0x48b3,0x93cf5));const a183_0x4f160a=(function(){let _0x1d99ec=!![];return function(_0xf7af44,_0x546b2f){const _0x52e738=_0x1d99ec?function(){const _0x9b7405=a183_0x151a;if(_0x546b2f){const _0x4e87fd=_0x546b2f[_0x9b7405(0x145)](_0xf7af44,arguments);return _0x546b2f=null,_0x4e87fd;}}:function(){};return _0x1d99ec=![],_0x52e738;};}()),a183_0x110ae7=a183_0x4f160a(this,function(){const _0x42cf9f=a183_0x151a;return a183_0x110ae7['toString']()['search']('(((.+)+)+)+$')[_0x42cf9f(0x172)]()['constructor'](a183_0x110ae7)[_0x42cf9f(0x137)](_0x42cf9f(0x143));});a183_0x110ae7();'use strict';var __importDefault=this&&this[a183_0x3b1b2e(0x15b)]||function(_0x421fe7){return _0x421fe7&&_0x421fe7['__esModule']?_0x421fe7:{'default':_0x421fe7};};Object[a183_0x3b1b2e(0x159)](exports,a183_0x3b1b2e(0x154),{'value':!![]}),exports[a183_0x3b1b2e(0x13f)]=void 0x0;const fs_internal_1=require(a183_0x3b1b2e(0x133)),utils_1=require(a183_0x3b1b2e(0x136)),path_1=require('path'),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require(a183_0x3b1b2e(0x152))),constants_1=require(a183_0x3b1b2e(0x175)),core_1=require(a183_0x3b1b2e(0x162)),git_commit_utils_1=require(a183_0x3b1b2e(0x150)),crc32_1=require(a183_0x3b1b2e(0x14a)),folder_types_1=__importDefault(require(a183_0x3b1b2e(0x164))),settings_types_list_1=__importDefault(require(a183_0x3b1b2e(0x16e))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a183_0x3b1b2e(0x14f)]);function a183_0x48b3(){const _0xfd947a=['endsWith','utf-8','isParentComponent','15397481FsXXmW','extname','isDir','name','experiences','readDir','../internal/fs.internal','Settings','catch','./utils','search','crc','META_EXPERIENCES_EXTENSION','\x22\x20not\x20found\x20in\x20\x22','713494Wdkfil','67167gwXhjq','CustomLabels','readChildComponents','MDApiParser','extractFilenameFromPath','WaveTemplateBundle','92GuOAwO','(((.+)+)+)+$','init','apply','readFile','readComponentFiles','logger','Logger','./utils/crc32','hasChildNodes','exists','all','error','default','../devops/utils/git-commit.utils','BUNDLED_FOLDERS_REGEXP','./data/child-types-map','type','__esModule','push','paths','find','89945QYZkNq','defineProperty','join','__importDefault','test','.site-meta.xml','includes','parse','Xml','files','../../../core','1184yvJWYw','./data/folder-types','META_EXTENSION','dir','waveTemplates','createChildComponentsFromParent','filter','499458wTYqOY','getChildsByName','extractComponentTypeFromFiles','70ZpuyKD','./data/settings-types-list','package.xml','readBundledFiles','8003620YrRBWu','toString','relative','1172480GsomRz','../../../constants','startsWith','3IErCdQ','filePath'];a183_0x48b3=function(){return _0xfd947a;};return a183_0x48b3();}function a183_0x151a(_0xed41fb,_0x56f76b){const _0x46fb21=a183_0x48b3();return a183_0x151a=function(_0x110ae7,_0x4f160a){_0x110ae7=_0x110ae7-0x128;let _0x48b387=_0x46fb21[_0x110ae7];return _0x48b387;},a183_0x151a(_0xed41fb,_0x56f76b);}class MDApiParser{constructor(_0x36e150,_0x153c75,_0x30f283){const _0x493793=a183_0x3b1b2e;this[_0x493793(0x166)]=_0x36e150,this['isSFDXProject']=_0x30f283,this[_0x493793(0x148)]=new core_1[(_0x493793(0x149))](MDApiParser[_0x493793(0x130)]),this['META_EXTENSION']='-meta.xml',this[_0x493793(0x139)]=_0x493793(0x15d),this['paths']=_0x153c75;}async['readChildComponents'](_0x187485){const _0x579ca5=a183_0x3b1b2e;try{const _0x207e8b=await xml_1[_0x579ca5(0x160)][_0x579ca5(0x15f)](Object['values'](_0x187485[_0x579ca5(0x161)])[0x0][_0x579ca5(0x172)](_0x579ca5(0x12b))),_0x2a1b96=CHILD_XML_KEYS[_0x579ca5(0x169)](_0x5beea4=>xml_1[_0x579ca5(0x160)][_0x579ca5(0x14b)](_0x207e8b,_0x5beea4))['reduce']((_0x10eb9f,_0x296fce)=>[..._0x10eb9f,...xml_1['Xml'][_0x579ca5(0x16b)](_0x207e8b,_0x296fce)],[]);return(0x0,utils_1[_0x579ca5(0x168)])(_0x187485,_0x207e8b,_0x2a1b96);}catch(_0x2319ab){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x187485[_0x579ca5(0x130)]+'\x20['+_0x187485[_0x579ca5(0x153)]+']');}}async[a183_0x3b1b2e(0x170)](_0x275c02){const _0x3335c3=a183_0x3b1b2e,_0x4bdb52=(0x0,path_1[_0x3335c3(0x15a)])(this[_0x3335c3(0x166)],_0x275c02),_0x476b5e=_0x275c02+(_0x275c02[_0x3335c3(0x176)](_0x3335c3(0x131))?this[_0x3335c3(0x139)]:this['META_EXTENSION']),_0x3a6df7=await fs_internal_1['FS']['readDir'](_0x4bdb52,!![]),_0x21995d=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x3335c3(0x15a)])(this['dir'],_0x476b5e),!![])[_0x3335c3(0x135)](()=>null),_0x4851e2={};for(const _0x492d2d of _0x3a6df7){_0x4851e2[(0x0,path_1[_0x3335c3(0x173)])(this[_0x3335c3(0x166)],_0x492d2d)]=await fs_internal_1['FS']['readFile'](_0x492d2d,!![]);}return _0x21995d&&(_0x4851e2[(0x0,path_1[_0x3335c3(0x173)])(this[_0x3335c3(0x166)],_0x476b5e)]=_0x21995d),_0x4851e2;}async['readComponentFiles'](_0x217bff){const _0x1c487e=a183_0x3b1b2e;let _0x537b9f=_0x217bff+this[_0x1c487e(0x165)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x217bff))return this[_0x1c487e(0x170)](_0x217bff);if(await fs_internal_1['FS']['isDir']((0x0,path_1[_0x1c487e(0x15a)])(this[_0x1c487e(0x166)],_0x217bff))||await fs_internal_1['FS'][_0x1c487e(0x14c)]((0x0,path_1['join'])(this[_0x1c487e(0x166)],_0x537b9f))){const _0xb599c4=await fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this['dir'],_0x537b9f),!![]),_0x19a253=await(0x0,utils_1[_0x1c487e(0x16c)])({'files':{[_0x537b9f]:_0xb599c4}})['catch'](()=>null);if(_0x19a253&&folder_types_1[_0x1c487e(0x14f)]['includes'](_0x19a253))return{[_0x537b9f]:await fs_internal_1['FS'][_0x1c487e(0x146)]((0x0,path_1['join'])(this[_0x1c487e(0x166)],_0x537b9f),!![])};}if(!(0x0,path_1[_0x1c487e(0x12e)])(_0x217bff)&&this['isSFDXProject']){const _0x15cf70=_0x217bff['split']('/')[0x0],_0x40e5d5=(await fs_internal_1['FS'][_0x1c487e(0x132)]((0x0,path_1['join'])(this['dir'],_0x15cf70)))[_0x1c487e(0x157)](_0x1c5d84=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x1c5d84,(0x0,path_1[_0x1c487e(0x15a)])(this['dir'],_0x217bff)));if(!_0x40e5d5)throw new Error('Component\x20\x22'+_0x217bff+_0x1c487e(0x13a)+_0x15cf70+'\x22');_0x217bff=(0x0,path_1['relative'])(this[_0x1c487e(0x166)],_0x40e5d5),_0x537b9f=_0x217bff+this[_0x1c487e(0x165)];}const [_0x368444,_0x4b4a1f]=await Promise[_0x1c487e(0x14d)]([fs_internal_1['FS']['readFile']((0x0,path_1['join'])(this[_0x1c487e(0x166)],_0x217bff),!![])[_0x1c487e(0x135)](()=>null),fs_internal_1['FS'][_0x1c487e(0x146)]((0x0,path_1['join'])(this[_0x1c487e(0x166)],_0x537b9f),!![])[_0x1c487e(0x135)](()=>null)]);return{..._0x368444?{[_0x217bff]:_0x368444}:{},..._0x4b4a1f?{[_0x537b9f]:_0x4b4a1f}:{}};}async['init'](){const _0x2dd96f=a183_0x3b1b2e,_0x6bf79f=[...this[_0x2dd96f(0x156)]];if(this['isSFDXProject'])for(const _0x2f60cc of _0x6bf79f){if(constants_1[_0x2dd96f(0x151)][_0x2dd96f(0x15c)](_0x2f60cc))continue;if(await fs_internal_1['FS'][_0x2dd96f(0x12f)]((0x0,path_1[_0x2dd96f(0x15a)])(this[_0x2dd96f(0x166)],_0x2f60cc))){const _0xb74e7e=await fs_internal_1['FS'][_0x2dd96f(0x132)]((0x0,path_1[_0x2dd96f(0x15a)])(this[_0x2dd96f(0x166)],_0x2f60cc),!![]);_0x6bf79f[_0x2dd96f(0x155)](..._0xb74e7e['map'](_0x39f1ea=>(0x0,path_1[_0x2dd96f(0x173)])(this[_0x2dd96f(0x166)],_0x39f1ea)));}}this['paths']=(0x0,utils_1['convertToCleanPaths'])(_0x6bf79f);}async['parse'](){const _0x554d48=a183_0x3b1b2e;await this[_0x554d48(0x144)]();const _0xdf3e4d=[];for(const _0x4163b5 of this['paths']){if(_0x4163b5[_0x554d48(0x12a)](_0x554d48(0x16f)))continue;const _0x275b83={};try{_0x275b83[_0x554d48(0x161)]=await this[_0x554d48(0x147)](_0x4163b5),_0x275b83[_0x554d48(0x129)]=constants_1[_0x554d48(0x151)][_0x554d48(0x15c)](_0x4163b5)?_0x4163b5:(0x0,utils_1['extractFileNameFromFiles'])({'files':_0x275b83['files']}),_0x4163b5[_0x554d48(0x176)](_0x554d48(0x167))?_0x275b83[_0x554d48(0x153)]=_0x554d48(0x141):_0x275b83['type']=await(0x0,utils_1[_0x554d48(0x16c)])({'files':_0x275b83[_0x554d48(0x161)]});}catch(_0x5ced06){this[_0x554d48(0x148)][_0x554d48(0x14e)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x4163b5,_0x5ced06);continue;}_0x275b83[_0x554d48(0x130)]=(0x0,utils_1[_0x554d48(0x140)])(_0x4163b5),_0x275b83[_0x554d48(0x138)]=(0x0,crc32_1['calculateCRC32'])(_0x275b83);if((0x0,utils_1[_0x554d48(0x12c)])(_0x275b83)){const _0x4934ab=await this[_0x554d48(0x13e)](_0x275b83);_0xdf3e4d['push'](..._0x4934ab);}if(_0x275b83[_0x554d48(0x153)]===_0x554d48(0x13d))continue;settings_types_list_1[_0x554d48(0x14f)][_0x554d48(0x15e)](_0x275b83[_0x554d48(0x153)])&&(_0x275b83[_0x554d48(0x153)]=_0x554d48(0x134)),_0xdf3e4d['push'](_0x275b83);}return _0xdf3e4d;}}exports['MDApiParser']=MDApiParser;