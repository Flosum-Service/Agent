const a182_0x33e275=a182_0x5f0e;function a182_0x5f0e(_0x39be31,_0x1bc6d5){const _0x330631=a182_0x13a3();return a182_0x5f0e=function(_0x411b2d,_0x1eb0f6){_0x411b2d=_0x411b2d-0x6a;let _0x13a348=_0x330631[_0x411b2d];return _0x13a348;},a182_0x5f0e(_0x39be31,_0x1bc6d5);}(function(_0x65a107,_0x446614){const _0x5f1c83=a182_0x5f0e,_0x33fce4=_0x65a107();while(!![]){try{const _0x577e3d=parseInt(_0x5f1c83(0xae))/0x1*(-parseInt(_0x5f1c83(0x80))/0x2)+-parseInt(_0x5f1c83(0x8d))/0x3*(-parseInt(_0x5f1c83(0xb2))/0x4)+-parseInt(_0x5f1c83(0xa5))/0x5*(parseInt(_0x5f1c83(0x7b))/0x6)+parseInt(_0x5f1c83(0x9a))/0x7+-parseInt(_0x5f1c83(0x82))/0x8*(parseInt(_0x5f1c83(0xad))/0x9)+-parseInt(_0x5f1c83(0x73))/0xa+parseInt(_0x5f1c83(0x77))/0xb;if(_0x577e3d===_0x446614)break;else _0x33fce4['push'](_0x33fce4['shift']());}catch(_0x3c0467){_0x33fce4['push'](_0x33fce4['shift']());}}}(a182_0x13a3,0x4a10b));const a182_0x1eb0f6=(function(){let _0x245692=!![];return function(_0x16c3a3,_0x53bcdf){const _0x19e343=_0x245692?function(){const _0x7fc864=a182_0x5f0e;if(_0x53bcdf){const _0x315d79=_0x53bcdf[_0x7fc864(0x75)](_0x16c3a3,arguments);return _0x53bcdf=null,_0x315d79;}}:function(){};return _0x245692=![],_0x19e343;};}()),a182_0x411b2d=a182_0x1eb0f6(this,function(){const _0x250ece=a182_0x5f0e;return a182_0x411b2d[_0x250ece(0x92)]()[_0x250ece(0x7f)]('(((.+)+)+)+$')['toString']()[_0x250ece(0x8c)](a182_0x411b2d)[_0x250ece(0x7f)](_0x250ece(0x8e));});a182_0x411b2d();'use strict';function a182_0x13a3(){const _0x1ed574=['isParentComponent','join','default','package.xml','filter','../devops/utils/git-commit.utils','CustomLabels','experiences','relative','MDApiParser','extractFileNameFromFiles','BUNDLED_FOLDERS_REGEXP','4548480Tqsmfn','push','apply','all','11057123AItpTd','startsWith','./data/settings-types-list','createChildComponentsFromParent','6KopmaH','calculateCRC32','filePath','values','search','34bKqbXK','files','7224WCjlXU','parse','dir','error','readChildComponents','reduce','Xml','split','utf-8','getChildsByName','constructor','183LMYSkZ','(((.+)+)+)+$','exists','paths','extractComponentTypeFromFiles','toString','META_EXTENSION','name','find','../../../core','type','META_EXPERIENCES_EXTENSION','isPathsEquals','1974532NSsGio','isSFDXProject','Logger','./utils/crc32','includes','isDir','catch','WaveTemplateBundle','readDir','-meta.xml','defineProperty','1346225WkvXSB','readFile','readBundledFiles','init','Settings','extractFilenameFromPath','Component\x20\x22','./data/child-types-map','1080kESvZo','25357BROKMn','logger','waveTemplates','.site-meta.xml','18336sfsXnH','__esModule','./data/folder-types','./utils','test','endsWith','__importDefault'];a182_0x13a3=function(){return _0x1ed574;};return a182_0x13a3();}var __importDefault=this&&this[a182_0x33e275(0xb8)]||function(_0xb161){const _0x19e025=a182_0x33e275;return _0xb161&&_0xb161[_0x19e025(0xb3)]?_0xb161:{'default':_0xb161};};Object[a182_0x33e275(0xa4)](exports,a182_0x33e275(0xb3),{'value':!![]}),exports[a182_0x33e275(0x70)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a182_0x33e275(0xb5)),path_1=require('path'),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require(a182_0x33e275(0xac))),constants_1=require('../../../constants'),core_1=require(a182_0x33e275(0x96)),git_commit_utils_1=require(a182_0x33e275(0x6c)),crc32_1=require(a182_0x33e275(0x9d)),folder_types_1=__importDefault(require(a182_0x33e275(0xb4))),settings_types_list_1=__importDefault(require(a182_0x33e275(0x79))),CHILD_XML_KEYS=Object[a182_0x33e275(0x7e)](child_types_map_1[a182_0x33e275(0xbb)]);class MDApiParser{constructor(_0x8e7f47,_0x59cb81,_0x2f18a3){const _0x3ecd87=a182_0x33e275;this[_0x3ecd87(0x84)]=_0x8e7f47,this[_0x3ecd87(0x9b)]=_0x2f18a3,this['logger']=new core_1[(_0x3ecd87(0x9c))](MDApiParser[_0x3ecd87(0x94)]),this[_0x3ecd87(0x93)]=_0x3ecd87(0xa3),this[_0x3ecd87(0x98)]=_0x3ecd87(0xb1),this['paths']=_0x59cb81;}async[a182_0x33e275(0x86)](_0x63cb9a){const _0x418251=a182_0x33e275;try{const _0x365d12=await xml_1[_0x418251(0x88)][_0x418251(0x83)](Object['values'](_0x63cb9a[_0x418251(0x81)])[0x0][_0x418251(0x92)](_0x418251(0x8a))),_0x3d0d8d=CHILD_XML_KEYS[_0x418251(0x6b)](_0x349f36=>xml_1['Xml']['hasChildNodes'](_0x365d12,_0x349f36))[_0x418251(0x87)]((_0x31b501,_0x113ee3)=>[..._0x31b501,...xml_1['Xml'][_0x418251(0x8b)](_0x365d12,_0x113ee3)],[]);return(0x0,utils_1[_0x418251(0x7a)])(_0x63cb9a,_0x365d12,_0x3d0d8d);}catch(_0x4b6058){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x63cb9a[_0x418251(0x94)]+'\x20['+_0x63cb9a[_0x418251(0x97)]+']');}}async[a182_0x33e275(0xa7)](_0xc543fc){const _0x2b21dc=a182_0x33e275,_0x54d4dd=(0x0,path_1['join'])(this[_0x2b21dc(0x84)],_0xc543fc),_0x2e7df6=_0xc543fc+(_0xc543fc[_0x2b21dc(0x78)](_0x2b21dc(0x6e))?this[_0x2b21dc(0x98)]:this[_0x2b21dc(0x93)]),_0x5af332=await fs_internal_1['FS'][_0x2b21dc(0xa2)](_0x54d4dd,!![]),_0x3e259=await fs_internal_1['FS'][_0x2b21dc(0xa6)]((0x0,path_1[_0x2b21dc(0xba)])(this[_0x2b21dc(0x84)],_0x2e7df6),!![])['catch'](()=>null),_0x13ae27={};for(const _0x206308 of _0x5af332){_0x13ae27[(0x0,path_1['relative'])(this['dir'],_0x206308)]=await fs_internal_1['FS'][_0x2b21dc(0xa6)](_0x206308,!![]);}return _0x3e259&&(_0x13ae27[(0x0,path_1[_0x2b21dc(0x6f)])(this[_0x2b21dc(0x84)],_0x2e7df6)]=_0x3e259),_0x13ae27;}async['readComponentFiles'](_0x5be844){const _0x203b62=a182_0x33e275;let _0x1d3551=_0x5be844+this[_0x203b62(0x93)];if(constants_1[_0x203b62(0x72)]['test'](_0x5be844))return this[_0x203b62(0xa7)](_0x5be844);if(await fs_internal_1['FS'][_0x203b62(0x9f)]((0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x5be844))||await fs_internal_1['FS'][_0x203b62(0x8f)]((0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x1d3551))){const _0x336e64=await fs_internal_1['FS'][_0x203b62(0xa6)]((0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x1d3551),!![]),_0x348175=await(0x0,utils_1[_0x203b62(0x91)])({'files':{[_0x1d3551]:_0x336e64}})[_0x203b62(0xa0)](()=>null);if(_0x348175&&folder_types_1[_0x203b62(0xbb)][_0x203b62(0x9e)](_0x348175))return{[_0x1d3551]:await fs_internal_1['FS']['readFile']((0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x1d3551),!![])};}if(!(0x0,path_1['extname'])(_0x5be844)&&this['isSFDXProject']){const _0x71f5a5=_0x5be844[_0x203b62(0x89)]('/')[0x0],_0x273d21=(await fs_internal_1['FS'][_0x203b62(0xa2)]((0x0,path_1['join'])(this[_0x203b62(0x84)],_0x71f5a5)))[_0x203b62(0x95)](_0x1d1cd3=>(0x0,git_commit_utils_1[_0x203b62(0x99)])(_0x1d1cd3,(0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x5be844)));if(!_0x273d21)throw new Error(_0x203b62(0xab)+_0x5be844+'\x22\x20not\x20found\x20in\x20\x22'+_0x71f5a5+'\x22');_0x5be844=(0x0,path_1[_0x203b62(0x6f)])(this[_0x203b62(0x84)],_0x273d21),_0x1d3551=_0x5be844+this[_0x203b62(0x93)];}const [_0x5c356c,_0x58ad3a]=await Promise[_0x203b62(0x76)]([fs_internal_1['FS'][_0x203b62(0xa6)]((0x0,path_1['join'])(this[_0x203b62(0x84)],_0x5be844),!![])[_0x203b62(0xa0)](()=>null),fs_internal_1['FS'][_0x203b62(0xa6)]((0x0,path_1[_0x203b62(0xba)])(this[_0x203b62(0x84)],_0x1d3551),!![])[_0x203b62(0xa0)](()=>null)]);return{..._0x5c356c?{[_0x5be844]:_0x5c356c}:{},..._0x58ad3a?{[_0x1d3551]:_0x58ad3a}:{}};}async[a182_0x33e275(0xa8)](){const _0x17f277=a182_0x33e275,_0xd6d42d=[...this[_0x17f277(0x90)]];if(this[_0x17f277(0x9b)])for(const _0x22f90a of _0xd6d42d){if(constants_1[_0x17f277(0x72)][_0x17f277(0xb6)](_0x22f90a))continue;if(await fs_internal_1['FS'][_0x17f277(0x9f)]((0x0,path_1[_0x17f277(0xba)])(this[_0x17f277(0x84)],_0x22f90a))){const _0x3d60c8=await fs_internal_1['FS'][_0x17f277(0xa2)]((0x0,path_1[_0x17f277(0xba)])(this[_0x17f277(0x84)],_0x22f90a),!![]);_0xd6d42d[_0x17f277(0x74)](..._0x3d60c8['map'](_0x2f0ae0=>(0x0,path_1[_0x17f277(0x6f)])(this[_0x17f277(0x84)],_0x2f0ae0)));}}this[_0x17f277(0x90)]=(0x0,utils_1['convertToCleanPaths'])(_0xd6d42d);}async[a182_0x33e275(0x83)](){const _0x595d3a=a182_0x33e275;await this[_0x595d3a(0xa8)]();const _0x2a06d0=[];for(const _0x197f9a of this['paths']){if(_0x197f9a[_0x595d3a(0xb7)](_0x595d3a(0x6a)))continue;const _0x55f8a2={};try{_0x55f8a2[_0x595d3a(0x81)]=await this['readComponentFiles'](_0x197f9a),_0x55f8a2[_0x595d3a(0x7d)]=constants_1[_0x595d3a(0x72)][_0x595d3a(0xb6)](_0x197f9a)?_0x197f9a:(0x0,utils_1[_0x595d3a(0x71)])({'files':_0x55f8a2[_0x595d3a(0x81)]}),_0x197f9a[_0x595d3a(0x78)](_0x595d3a(0xb0))?_0x55f8a2[_0x595d3a(0x97)]=_0x595d3a(0xa1):_0x55f8a2[_0x595d3a(0x97)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x55f8a2[_0x595d3a(0x81)]});}catch(_0x5d6d0c){this[_0x595d3a(0xaf)][_0x595d3a(0x85)]('error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20',_0x197f9a,_0x5d6d0c);continue;}_0x55f8a2[_0x595d3a(0x94)]=(0x0,utils_1[_0x595d3a(0xaa)])(_0x197f9a),_0x55f8a2['crc']=(0x0,crc32_1[_0x595d3a(0x7c)])(_0x55f8a2);if((0x0,utils_1[_0x595d3a(0xb9)])(_0x55f8a2)){const _0x2e58d6=await this[_0x595d3a(0x86)](_0x55f8a2);_0x2a06d0[_0x595d3a(0x74)](..._0x2e58d6);}if(_0x55f8a2[_0x595d3a(0x97)]===_0x595d3a(0x6d))continue;settings_types_list_1[_0x595d3a(0xbb)][_0x595d3a(0x9e)](_0x55f8a2[_0x595d3a(0x97)])&&(_0x55f8a2[_0x595d3a(0x97)]=_0x595d3a(0xa9)),_0x2a06d0[_0x595d3a(0x74)](_0x55f8a2);}return _0x2a06d0;}}exports['MDApiParser']=MDApiParser;