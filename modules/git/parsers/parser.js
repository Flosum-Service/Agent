const a183_0x188d8c=a183_0x2a64;(function(_0xc394a0,_0xdc0bf2){const _0x51fc29=a183_0x2a64,_0x1a4f9a=_0xc394a0();while(!![]){try{const _0x2e5816=parseInt(_0x51fc29(0xfc))/0x1*(-parseInt(_0x51fc29(0xff))/0x2)+parseInt(_0x51fc29(0xf5))/0x3+parseInt(_0x51fc29(0xf6))/0x4*(-parseInt(_0x51fc29(0xcc))/0x5)+parseInt(_0x51fc29(0xe6))/0x6*(parseInt(_0x51fc29(0x10e))/0x7)+-parseInt(_0x51fc29(0x102))/0x8+-parseInt(_0x51fc29(0x112))/0x9+parseInt(_0x51fc29(0xf8))/0xa;if(_0x2e5816===_0xdc0bf2)break;else _0x1a4f9a['push'](_0x1a4f9a['shift']());}catch(_0x479861){_0x1a4f9a['push'](_0x1a4f9a['shift']());}}}(a183_0x212f,0x8efae));function a183_0x212f(){const _0x5a03ca=['convertToCleanPaths','type','./data/settings-types-list','map','Settings','logger','relative','.site-meta.xml','../internal/fs.internal','join','search','Xml','MDApiParser','(((.+)+)+)+$','extractFilenameFromPath','__esModule','readBundledFiles','crc','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','readFile','reduce','error','dir','values','isParentComponent','592878lmydfU','exists','isSFDXProject','isPathsEquals','readDir','parse','isDir','extractFileNameFromFiles','calculateCRC32','readChildComponents','init','utf-8','getChildsByName','toString','hasChildNodes','338988kZehnP','2749588aaUIHc','__importDefault','29426890XMDPDU','./utils/xml','default','extractComponentTypeFromFiles','481427LadZTw','extname','all','2clsrVV','createChildComponentsFromParent','defineProperty','9088456bgzDZU','name','startsWith','../../../core','META_EXTENSION','waveTemplates','CustomLabels','Logger','files','WaveTemplateBundle','paths','test','63MbbpNA','readComponentFiles','META_EXPERIENCES_EXTENSION','-meta.xml','9490275ObIYxs','filePath','./data/folder-types','experiences','push','split','includes','catch','filter','5smClDj'];a183_0x212f=function(){return _0x5a03ca;};return a183_0x212f();}const a183_0x54dd50=(function(){let _0x196247=!![];return function(_0x388aeb,_0x145f58){const _0x106755=_0x196247?function(){if(_0x145f58){const _0x5b5d8e=_0x145f58['apply'](_0x388aeb,arguments);return _0x145f58=null,_0x5b5d8e;}}:function(){};return _0x196247=![],_0x106755;};}()),a183_0x4ab3ef=a183_0x54dd50(this,function(){const _0x5d58e3=a183_0x2a64;return a183_0x4ab3ef[_0x5d58e3(0xf3)]()[_0x5d58e3(0xd7)](_0x5d58e3(0xda))[_0x5d58e3(0xf3)]()['constructor'](a183_0x4ab3ef)[_0x5d58e3(0xd7)](_0x5d58e3(0xda));});function a183_0x2a64(_0x3135e0,_0x3ed614){const _0xc7b1b0=a183_0x212f();return a183_0x2a64=function(_0x4ab3ef,_0x54dd50){_0x4ab3ef=_0x4ab3ef-0xc9;let _0x212fb0=_0xc7b1b0[_0x4ab3ef];return _0x212fb0;},a183_0x2a64(_0x3135e0,_0x3ed614);}a183_0x4ab3ef();'use strict';var __importDefault=this&&this[a183_0x188d8c(0xf7)]||function(_0x3668a2){return _0x3668a2&&_0x3668a2['__esModule']?_0x3668a2:{'default':_0x3668a2};};Object[a183_0x188d8c(0x101)](exports,a183_0x188d8c(0xdc),{'value':!![]}),exports[a183_0x188d8c(0xd9)]=void 0x0;const fs_internal_1=require(a183_0x188d8c(0xd5)),utils_1=require('./utils'),path_1=require('path'),xml_1=require(a183_0x188d8c(0xf9)),child_types_map_1=__importDefault(require('./data/child-types-map')),constants_1=require('../../../constants'),core_1=require(a183_0x188d8c(0x105)),git_commit_utils_1=require('../devops/utils/git-commit.utils'),crc32_1=require('./utils/crc32'),folder_types_1=__importDefault(require(a183_0x188d8c(0x114))),settings_types_list_1=__importDefault(require(a183_0x188d8c(0xcf))),CHILD_XML_KEYS=Object[a183_0x188d8c(0xe4)](child_types_map_1['default']);class MDApiParser{constructor(_0x5096d3,_0x28bd47,_0x1177bf){const _0x3e3398=a183_0x188d8c;this[_0x3e3398(0xe3)]=_0x5096d3,this[_0x3e3398(0xe8)]=_0x1177bf,this[_0x3e3398(0xd2)]=new core_1[(_0x3e3398(0x109))](MDApiParser[_0x3e3398(0x103)]),this['META_EXTENSION']=_0x3e3398(0x111),this[_0x3e3398(0x110)]=_0x3e3398(0xd4),this['paths']=_0x28bd47;}async[a183_0x188d8c(0xef)](_0x46bb82){const _0x258746=a183_0x188d8c;try{const _0x46d6d5=await xml_1[_0x258746(0xd8)][_0x258746(0xeb)](Object[_0x258746(0xe4)](_0x46bb82['files'])[0x0][_0x258746(0xf3)](_0x258746(0xf1))),_0xa53d7f=CHILD_XML_KEYS[_0x258746(0xcb)](_0x2b1052=>xml_1[_0x258746(0xd8)][_0x258746(0xf4)](_0x46d6d5,_0x2b1052))[_0x258746(0xe1)]((_0x7e108f,_0x342b5c)=>[..._0x7e108f,...xml_1[_0x258746(0xd8)][_0x258746(0xf2)](_0x46d6d5,_0x342b5c)],[]);return(0x0,utils_1[_0x258746(0x100)])(_0x46bb82,_0x46d6d5,_0xa53d7f);}catch(_0x441e60){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x46bb82[_0x258746(0x103)]+'\x20['+_0x46bb82[_0x258746(0xce)]+']');}}async[a183_0x188d8c(0xdd)](_0x1b4944){const _0x266687=a183_0x188d8c,_0x170734=(0x0,path_1['join'])(this[_0x266687(0xe3)],_0x1b4944),_0x253787=_0x1b4944+(_0x1b4944[_0x266687(0x104)](_0x266687(0x115))?this[_0x266687(0x110)]:this['META_EXTENSION']),_0x493d13=await fs_internal_1['FS'][_0x266687(0xea)](_0x170734,!![]),_0x163845=await fs_internal_1['FS']['readFile']((0x0,path_1[_0x266687(0xd6)])(this[_0x266687(0xe3)],_0x253787),!![])['catch'](()=>null),_0x1fe1a2={};for(const _0x1f3ce6 of _0x493d13){_0x1fe1a2[(0x0,path_1[_0x266687(0xd3)])(this[_0x266687(0xe3)],_0x1f3ce6)]=await fs_internal_1['FS'][_0x266687(0xe0)](_0x1f3ce6,!![]);}return _0x163845&&(_0x1fe1a2[(0x0,path_1[_0x266687(0xd3)])(this[_0x266687(0xe3)],_0x253787)]=_0x163845),_0x1fe1a2;}async[a183_0x188d8c(0x10f)](_0x2f24ef){const _0x40a0a9=a183_0x188d8c;let _0x59745f=_0x2f24ef+this[_0x40a0a9(0x106)];if(constants_1['BUNDLED_FOLDERS_REGEXP']['test'](_0x2f24ef))return this[_0x40a0a9(0xdd)](_0x2f24ef);if(await fs_internal_1['FS'][_0x40a0a9(0xec)]((0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x2f24ef))||await fs_internal_1['FS'][_0x40a0a9(0xe7)]((0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x59745f))){const _0x5994c9=await fs_internal_1['FS'][_0x40a0a9(0xe0)]((0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x59745f),!![]),_0x2dd3fd=await(0x0,utils_1[_0x40a0a9(0xfb)])({'files':{[_0x59745f]:_0x5994c9}})[_0x40a0a9(0xca)](()=>null);if(_0x2dd3fd&&folder_types_1[_0x40a0a9(0xfa)][_0x40a0a9(0xc9)](_0x2dd3fd))return{[_0x59745f]:await fs_internal_1['FS'][_0x40a0a9(0xe0)]((0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x59745f),!![])};}if(!(0x0,path_1[_0x40a0a9(0xfd)])(_0x2f24ef)&&this[_0x40a0a9(0xe8)]){const _0x3aadaf=_0x2f24ef[_0x40a0a9(0x117)]('/')[0x0],_0x247d72=(await fs_internal_1['FS'][_0x40a0a9(0xea)]((0x0,path_1['join'])(this[_0x40a0a9(0xe3)],_0x3aadaf)))['find'](_0x14b7a2=>(0x0,git_commit_utils_1[_0x40a0a9(0xe9)])(_0x14b7a2,(0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x2f24ef)));if(!_0x247d72)throw new Error('Component\x20\x22'+_0x2f24ef+'\x22\x20not\x20found\x20in\x20\x22'+_0x3aadaf+'\x22');_0x2f24ef=(0x0,path_1['relative'])(this[_0x40a0a9(0xe3)],_0x247d72),_0x59745f=_0x2f24ef+this['META_EXTENSION'];}const [_0x1bbff8,_0x149c86]=await Promise[_0x40a0a9(0xfe)]([fs_internal_1['FS'][_0x40a0a9(0xe0)]((0x0,path_1[_0x40a0a9(0xd6)])(this[_0x40a0a9(0xe3)],_0x2f24ef),!![])[_0x40a0a9(0xca)](()=>null),fs_internal_1['FS'][_0x40a0a9(0xe0)]((0x0,path_1[_0x40a0a9(0xd6)])(this['dir'],_0x59745f),!![])[_0x40a0a9(0xca)](()=>null)]);return{..._0x1bbff8?{[_0x2f24ef]:_0x1bbff8}:{},..._0x149c86?{[_0x59745f]:_0x149c86}:{}};}async[a183_0x188d8c(0xf0)](){const _0x5d61c2=a183_0x188d8c,_0x4083e8=[...this['paths']];if(this[_0x5d61c2(0xe8)])for(const _0x2a2875 of _0x4083e8){if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5d61c2(0x10d)](_0x2a2875))continue;if(await fs_internal_1['FS'][_0x5d61c2(0xec)]((0x0,path_1[_0x5d61c2(0xd6)])(this[_0x5d61c2(0xe3)],_0x2a2875))){const _0x107d07=await fs_internal_1['FS'][_0x5d61c2(0xea)]((0x0,path_1['join'])(this['dir'],_0x2a2875),!![]);_0x4083e8[_0x5d61c2(0x116)](..._0x107d07[_0x5d61c2(0xd0)](_0x530172=>(0x0,path_1[_0x5d61c2(0xd3)])(this['dir'],_0x530172)));}}this[_0x5d61c2(0x10c)]=(0x0,utils_1[_0x5d61c2(0xcd)])(_0x4083e8);}async[a183_0x188d8c(0xeb)](){const _0x5f1d49=a183_0x188d8c;await this[_0x5f1d49(0xf0)]();const _0x5cb30c=[];for(const _0x41b3bd of this[_0x5f1d49(0x10c)]){if(_0x41b3bd['endsWith']('package.xml'))continue;const _0x43b713={};try{_0x43b713[_0x5f1d49(0x10a)]=await this['readComponentFiles'](_0x41b3bd),_0x43b713[_0x5f1d49(0x113)]=constants_1['BUNDLED_FOLDERS_REGEXP'][_0x5f1d49(0x10d)](_0x41b3bd)?_0x41b3bd:(0x0,utils_1[_0x5f1d49(0xed)])({'files':_0x43b713[_0x5f1d49(0x10a)]}),_0x41b3bd['startsWith'](_0x5f1d49(0x107))?_0x43b713[_0x5f1d49(0xce)]=_0x5f1d49(0x10b):_0x43b713[_0x5f1d49(0xce)]=await(0x0,utils_1[_0x5f1d49(0xfb)])({'files':_0x43b713[_0x5f1d49(0x10a)]});}catch(_0x256e2b){this['logger'][_0x5f1d49(0xe2)](_0x5f1d49(0xdf),_0x41b3bd,_0x256e2b);continue;}_0x43b713['name']=(0x0,utils_1[_0x5f1d49(0xdb)])(_0x41b3bd),_0x43b713[_0x5f1d49(0xde)]=(0x0,crc32_1[_0x5f1d49(0xee)])(_0x43b713);if((0x0,utils_1[_0x5f1d49(0xe5)])(_0x43b713)){const _0x42ad21=await this[_0x5f1d49(0xef)](_0x43b713);_0x5cb30c[_0x5f1d49(0x116)](..._0x42ad21);}if(_0x43b713[_0x5f1d49(0xce)]===_0x5f1d49(0x108))continue;settings_types_list_1[_0x5f1d49(0xfa)][_0x5f1d49(0xc9)](_0x43b713[_0x5f1d49(0xce)])&&(_0x43b713[_0x5f1d49(0xce)]=_0x5f1d49(0xd1)),_0x5cb30c[_0x5f1d49(0x116)](_0x43b713);}return _0x5cb30c;}}exports[a183_0x188d8c(0xd9)]=MDApiParser;