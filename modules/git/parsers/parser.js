const a172_0x2f48d6=a172_0x4eb0;(function(_0x3ec775,_0x44d2d3){const _0x2a618d=a172_0x4eb0,_0x8643ff=_0x3ec775();while(!![]){try{const _0x42fc60=parseInt(_0x2a618d(0x15d))/0x1+-parseInt(_0x2a618d(0x125))/0x2*(-parseInt(_0x2a618d(0x141))/0x3)+parseInt(_0x2a618d(0x11d))/0x4*(parseInt(_0x2a618d(0x139))/0x5)+parseInt(_0x2a618d(0x12c))/0x6*(parseInt(_0x2a618d(0x16b))/0x7)+parseInt(_0x2a618d(0x146))/0x8*(-parseInt(_0x2a618d(0x131))/0x9)+-parseInt(_0x2a618d(0x14b))/0xa*(-parseInt(_0x2a618d(0x148))/0xb)+parseInt(_0x2a618d(0x16d))/0xc*(-parseInt(_0x2a618d(0x14c))/0xd);if(_0x42fc60===_0x44d2d3)break;else _0x8643ff['push'](_0x8643ff['shift']());}catch(_0x4971f8){_0x8643ff['push'](_0x8643ff['shift']());}}}(a172_0x39f3,0xb65e6));const a172_0xa6eb5c=(function(){let _0x31d807=!![];return function(_0x66fc93,_0x560fff){const _0x207c1d=_0x31d807?function(){const _0x345160=a172_0x4eb0;if(_0x560fff){const _0xf01b4e=_0x560fff[_0x345160(0x144)](_0x66fc93,arguments);return _0x560fff=null,_0xf01b4e;}}:function(){};return _0x31d807=![],_0x207c1d;};}()),a172_0xaf5b7d=a172_0xa6eb5c(this,function(){const _0x2818c9=a172_0x4eb0;return a172_0xaf5b7d[_0x2818c9(0x13e)]()[_0x2818c9(0x13d)](_0x2818c9(0x159))['toString']()[_0x2818c9(0x136)](a172_0xaf5b7d)['search'](_0x2818c9(0x159));});a172_0xaf5b7d();'use strict';var __importDefault=this&&this[a172_0x2f48d6(0x154)]||function(_0x488b08){const _0x3722a2=a172_0x2f48d6;return _0x488b08&&_0x488b08[_0x3722a2(0x12f)]?_0x488b08:{'default':_0x488b08};};Object[a172_0x2f48d6(0x151)](exports,a172_0x2f48d6(0x12f),{'value':!![]}),exports[a172_0x2f48d6(0x16c)]=void 0x0;const fs_internal_1=require('../internal/fs.internal'),utils_1=require(a172_0x2f48d6(0x153)),path_1=require(a172_0x2f48d6(0x166)),xml_1=require('./utils/xml'),child_types_map_1=__importDefault(require(a172_0x2f48d6(0x160))),constants_1=require('../../../constants'),core_1=require('../../../core'),git_commit_utils_1=require(a172_0x2f48d6(0x122)),crc32_1=require(a172_0x2f48d6(0x162)),folder_types_1=__importDefault(require(a172_0x2f48d6(0x15b))),settings_types_list_1=__importDefault(require(a172_0x2f48d6(0x167))),CHILD_XML_KEYS=Object['values'](child_types_map_1[a172_0x2f48d6(0x12b)]);class MDApiParser{constructor(_0x4e532b,_0x2eb401,_0x3a9d49){const _0x475406=a172_0x2f48d6;this[_0x475406(0x155)]=_0x4e532b,this[_0x475406(0x168)]=_0x3a9d49,this[_0x475406(0x133)]=new core_1[(_0x475406(0x14d))](MDApiParser[_0x475406(0x16a)]),this[_0x475406(0x161)]=_0x475406(0x15e),this['META_EXPERIENCES_EXTENSION']=_0x475406(0x12a),this[_0x475406(0x157)]=_0x2eb401;}async[a172_0x2f48d6(0x11f)](_0x6b390){const _0x4398d5=a172_0x2f48d6;try{const _0x177424=await xml_1[_0x4398d5(0x11c)]['parse'](Object[_0x4398d5(0x150)](_0x6b390[_0x4398d5(0x130)])[0x0][_0x4398d5(0x13e)](_0x4398d5(0x152))),_0x34e860=CHILD_XML_KEYS[_0x4398d5(0x135)](_0x3f136c=>xml_1[_0x4398d5(0x11c)][_0x4398d5(0x15a)](_0x177424,_0x3f136c))['reduce']((_0x27411d,_0x43cd93)=>[..._0x27411d,...xml_1['Xml']['getChildsByName'](_0x177424,_0x43cd93)],[]);return(0x0,utils_1['createChildComponentsFromParent'])(_0x6b390,_0x177424,_0x34e860);}catch(_0x323954){throw new Error('Cannot\x20parse\x20childs\x20in\x20'+_0x6b390['name']+'\x20['+_0x6b390['type']+']');}}async[a172_0x2f48d6(0x11e)](_0x81873a){const _0x4cda61=a172_0x2f48d6,_0x728081=(0x0,path_1[_0x4cda61(0x127)])(this[_0x4cda61(0x155)],_0x81873a),_0x2f3dd7=_0x81873a+(_0x81873a[_0x4cda61(0x13a)](_0x4cda61(0x158))?this[_0x4cda61(0x163)]:this[_0x4cda61(0x161)]),_0x2cea5e=await fs_internal_1['FS'][_0x4cda61(0x11a)](_0x728081,!![]),_0x10b6a=await fs_internal_1['FS'][_0x4cda61(0x14f)]((0x0,path_1['join'])(this[_0x4cda61(0x155)],_0x2f3dd7),!![])[_0x4cda61(0x11b)](()=>null),_0x2280f5={};for(const _0x51dd16 of _0x2cea5e){_0x2280f5[(0x0,path_1[_0x4cda61(0x129)])(this[_0x4cda61(0x155)],_0x51dd16)]=await fs_internal_1['FS'][_0x4cda61(0x14f)](_0x51dd16,!![]);}return _0x10b6a&&(_0x2280f5[(0x0,path_1['relative'])(this['dir'],_0x2f3dd7)]=_0x10b6a),_0x2280f5;}async[a172_0x2f48d6(0x169)](_0x3e334e){const _0x433bde=a172_0x2f48d6;let _0x1f7106=_0x3e334e+this[_0x433bde(0x161)];if(constants_1[_0x433bde(0x137)]['test'](_0x3e334e))return this[_0x433bde(0x11e)](_0x3e334e);if(await fs_internal_1['FS'][_0x433bde(0x134)]((0x0,path_1[_0x433bde(0x127)])(this[_0x433bde(0x155)],_0x3e334e))||await fs_internal_1['FS'][_0x433bde(0x156)]((0x0,path_1['join'])(this[_0x433bde(0x155)],_0x1f7106))){const _0x1a2d10=await fs_internal_1['FS'][_0x433bde(0x14f)]((0x0,path_1[_0x433bde(0x127)])(this[_0x433bde(0x155)],_0x1f7106),!![]),_0x444835=await(0x0,utils_1[_0x433bde(0x13c)])({'files':{[_0x1f7106]:_0x1a2d10}})[_0x433bde(0x11b)](()=>null);if(_0x444835&&folder_types_1['default'][_0x433bde(0x132)](_0x444835))return{[_0x1f7106]:await fs_internal_1['FS'][_0x433bde(0x14f)]((0x0,path_1[_0x433bde(0x127)])(this[_0x433bde(0x155)],_0x1f7106),!![])};}if(!(0x0,path_1[_0x433bde(0x124)])(_0x3e334e)&&this[_0x433bde(0x168)]){const _0x29b02d=_0x3e334e[_0x433bde(0x165)]('/')[0x0],_0x5637f4=(await fs_internal_1['FS']['readDir']((0x0,path_1[_0x433bde(0x127)])(this[_0x433bde(0x155)],_0x29b02d)))['find'](_0x409393=>(0x0,git_commit_utils_1['isPathsEquals'])(_0x409393,(0x0,path_1[_0x433bde(0x127)])(this[_0x433bde(0x155)],_0x3e334e)));if(!_0x5637f4)throw new Error(_0x433bde(0x120)+_0x3e334e+_0x433bde(0x123)+_0x29b02d+'\x22');_0x3e334e=(0x0,path_1[_0x433bde(0x129)])(this[_0x433bde(0x155)],_0x5637f4),_0x1f7106=_0x3e334e+this[_0x433bde(0x161)];}const [_0x4183e5,_0x46debb]=await Promise[_0x433bde(0x140)]([fs_internal_1['FS'][_0x433bde(0x14f)]((0x0,path_1['join'])(this['dir'],_0x3e334e),!![])[_0x433bde(0x11b)](()=>null),fs_internal_1['FS'][_0x433bde(0x14f)]((0x0,path_1['join'])(this[_0x433bde(0x155)],_0x1f7106),!![])[_0x433bde(0x11b)](()=>null)]);return{..._0x4183e5?{[_0x3e334e]:_0x4183e5}:{},..._0x46debb?{[_0x1f7106]:_0x46debb}:{}};}async[a172_0x2f48d6(0x15c)](){const _0x288202=a172_0x2f48d6,_0x44d402=[...this[_0x288202(0x157)]];if(this[_0x288202(0x168)])for(const _0x208f02 of _0x44d402){if(constants_1[_0x288202(0x137)][_0x288202(0x12e)](_0x208f02))continue;if(await fs_internal_1['FS'][_0x288202(0x134)]((0x0,path_1[_0x288202(0x127)])(this[_0x288202(0x155)],_0x208f02))){const _0x361d1e=await fs_internal_1['FS'][_0x288202(0x11a)]((0x0,path_1[_0x288202(0x127)])(this[_0x288202(0x155)],_0x208f02),!![]);_0x44d402['push'](..._0x361d1e['map'](_0x233722=>(0x0,path_1[_0x288202(0x129)])(this[_0x288202(0x155)],_0x233722)));}}this[_0x288202(0x157)]=(0x0,utils_1[_0x288202(0x13f)])(_0x44d402);}async[a172_0x2f48d6(0x14a)](){const _0x1a96d9=a172_0x2f48d6;await this[_0x1a96d9(0x15c)]();const _0x7ae2d0=[];for(const _0x4cf813 of this[_0x1a96d9(0x157)]){if(_0x4cf813['endsWith'](_0x1a96d9(0x14e)))continue;const _0x13ad1b={};try{_0x13ad1b[_0x1a96d9(0x130)]=await this['readComponentFiles'](_0x4cf813),_0x13ad1b[_0x1a96d9(0x13b)]=constants_1[_0x1a96d9(0x137)]['test'](_0x4cf813)?_0x4cf813:(0x0,utils_1[_0x1a96d9(0x145)])({'files':_0x13ad1b[_0x1a96d9(0x130)]}),_0x4cf813['startsWith'](_0x1a96d9(0x128))?_0x13ad1b['type']='WaveTemplateBundle':_0x13ad1b[_0x1a96d9(0x138)]=await(0x0,utils_1['extractComponentTypeFromFiles'])({'files':_0x13ad1b[_0x1a96d9(0x130)]});}catch(_0x21b359){this[_0x1a96d9(0x133)][_0x1a96d9(0x126)](_0x1a96d9(0x164),_0x4cf813,_0x21b359);continue;}_0x13ad1b[_0x1a96d9(0x16a)]=(0x0,utils_1[_0x1a96d9(0x121)])(_0x4cf813),_0x13ad1b[_0x1a96d9(0x142)]=(0x0,crc32_1[_0x1a96d9(0x143)])(_0x13ad1b);if((0x0,utils_1[_0x1a96d9(0x12d)])(_0x13ad1b)){const _0x4b9a79=await this[_0x1a96d9(0x11f)](_0x13ad1b);_0x7ae2d0['push'](..._0x4b9a79);}if(_0x13ad1b[_0x1a96d9(0x138)]===_0x1a96d9(0x149))continue;settings_types_list_1[_0x1a96d9(0x12b)][_0x1a96d9(0x132)](_0x13ad1b[_0x1a96d9(0x138)])&&(_0x13ad1b[_0x1a96d9(0x138)]=_0x1a96d9(0x147)),_0x7ae2d0[_0x1a96d9(0x15f)](_0x13ad1b);}return _0x7ae2d0;}}exports[a172_0x2f48d6(0x16c)]=MDApiParser;function a172_0x4eb0(_0x27c2de,_0x1b2822){const _0x8a6dd0=a172_0x39f3();return a172_0x4eb0=function(_0xaf5b7d,_0xa6eb5c){_0xaf5b7d=_0xaf5b7d-0x11a;let _0x39f30e=_0x8a6dd0[_0xaf5b7d];return _0x39f30e;},a172_0x4eb0(_0x27c2de,_0x1b2822);}function a172_0x39f3(){const _0x5b0f0f=['exists','paths','experiences','(((.+)+)+)+$','hasChildNodes','./data/folder-types','init','799170qnsUgf','-meta.xml','push','./data/child-types-map','META_EXTENSION','./utils/crc32','META_EXPERIENCES_EXTENSION','error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','split','path','./data/settings-types-list','isSFDXProject','readComponentFiles','name','4277TikuxX','MDApiParser','1296YsCpMv','readDir','catch','Xml','20GPEpCP','readBundledFiles','readChildComponents','Component\x20\x22','extractFilenameFromPath','../devops/utils/git-commit.utils','\x22\x20not\x20found\x20in\x20\x22','extname','2LVahuw','error','join','waveTemplates','relative','.site-meta.xml','default','3414EdZQGS','isParentComponent','test','__esModule','files','2808477suOmOr','includes','logger','isDir','filter','constructor','BUNDLED_FOLDERS_REGEXP','type','89750SxoeSW','startsWith','filePath','extractComponentTypeFromFiles','search','toString','convertToCleanPaths','all','3195117ygjSbr','crc','calculateCRC32','apply','extractFileNameFromFiles','16NMWElX','Settings','55ucuLyH','CustomLabels','parse','86180EcNjnI','117195LHUNta','Logger','package.xml','readFile','values','defineProperty','utf-8','./utils','__importDefault','dir'];a172_0x39f3=function(){return _0x5b0f0f;};return a172_0x39f3();}