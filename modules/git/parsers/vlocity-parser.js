const a167_0x16114d=a167_0xe35d;function a167_0x10d3(){const _0x803eeb=['extractFileNameFromFiles','(((.+)+)+)+$','Name','sourceDir','sep','../internal/fs.internal','entries','readDir','search','endsWith','8290jLDBCy','readFile','__esModule','readComponent','411534dlspPR','Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s.\x20Original\x20error:\x20','718159QcXnvV','848354OYzPCX','45CsGeBT','paths','./base.parser','BaseParser','33612YKefRE','name','124GXzIRA','_DataPack.json','error','VlocityParser','logger','relative','410332CoNXLf','VLOCITY_DATA_PACK_EXTENSION','find','42pIPaOq','toString','replace','defineProperty','2013bCOCQa','constructor','log','30fbAtYk','1501592QnpmtA','crc','path','split','12QITJAH','apply'];a167_0x10d3=function(){return _0x803eeb;};return a167_0x10d3();}(function(_0x553d71,_0x4fa50a){const _0x346a3a=a167_0xe35d,_0x113791=_0x553d71();while(!![]){try{const _0x110729=-parseInt(_0x346a3a(0x94))/0x1+parseInt(_0x346a3a(0x9b))/0x2*(parseInt(_0x346a3a(0x99))/0x3)+parseInt(_0x346a3a(0x72))/0x4*(-parseInt(_0x346a3a(0x7c))/0x5)+parseInt(_0x346a3a(0x91))/0x6*(parseInt(_0x346a3a(0x75))/0x7)+parseInt(_0x346a3a(0x7d))/0x8*(parseInt(_0x346a3a(0x95))/0x9)+-parseInt(_0x346a3a(0x8d))/0xa*(parseInt(_0x346a3a(0x79))/0xb)+-parseInt(_0x346a3a(0x81))/0xc*(-parseInt(_0x346a3a(0x93))/0xd);if(_0x110729===_0x4fa50a)break;else _0x113791['push'](_0x113791['shift']());}catch(_0x4a5435){_0x113791['push'](_0x113791['shift']());}}}(a167_0x10d3,0x76409));const a167_0x4515ed=(function(){let _0x4981dc=!![];return function(_0x51e672,_0x1ae2d9){const _0xd5af3d=_0x4981dc?function(){const _0x5b1847=a167_0xe35d;if(_0x1ae2d9){const _0x3ae715=_0x1ae2d9[_0x5b1847(0x82)](_0x51e672,arguments);return _0x1ae2d9=null,_0x3ae715;}}:function(){};return _0x4981dc=![],_0xd5af3d;};}()),a167_0x2b1a12=a167_0x4515ed(this,function(){const _0x4bac7b=a167_0xe35d;return a167_0x2b1a12[_0x4bac7b(0x76)]()[_0x4bac7b(0x8b)](_0x4bac7b(0x84))[_0x4bac7b(0x76)]()[_0x4bac7b(0x7a)](a167_0x2b1a12)['search'](_0x4bac7b(0x84));});function a167_0xe35d(_0xf63085,_0x5db841){const _0x455cb2=a167_0x10d3();return a167_0xe35d=function(_0x2b1a12,_0x4515ed){_0x2b1a12=_0x2b1a12-0x6e;let _0x10d3f9=_0x455cb2[_0x2b1a12];return _0x10d3f9;},a167_0xe35d(_0xf63085,_0x5db841);}a167_0x2b1a12();'use strict';Object[a167_0x16114d(0x78)](exports,a167_0x16114d(0x8f),{'value':!![]}),exports[a167_0x16114d(0x6f)]=void 0x0;const base_parser_1=require(a167_0x16114d(0x97)),fs_internal_1=require(a167_0x16114d(0x88)),crc32_1=require('./utils/crc32'),path_1=require(a167_0x16114d(0x7f));class VlocityParser extends base_parser_1[a167_0x16114d(0x98)]{constructor({sourceDir:_0x3eff98,paths:_0x2628be}){const _0xbb0a9d=a167_0x16114d;super({'sourceDir':_0x3eff98,'paths':_0x2628be},VlocityParser[_0xbb0a9d(0x9a)]),this[_0xbb0a9d(0x73)]=_0xbb0a9d(0x9c);}async[a167_0x16114d(0x90)](_0x2c2373){const _0x22ae01=a167_0x16114d,_0x1214af=(0x0,path_1['join'])(this[_0x22ae01(0x86)],_0x2c2373),_0x3a6cb1=await fs_internal_1['FS'][_0x22ae01(0x8a)](_0x1214af,!![]),_0x29fd50={};for(const _0x5d3687 of _0x3a6cb1){_0x29fd50[(0x0,path_1[_0x22ae01(0x71)])(this['sourceDir'],_0x5d3687)[_0x22ae01(0x77)](/\\/g,'/')]=await fs_internal_1['FS'][_0x22ae01(0x8e)](_0x5d3687,!![]);}return _0x29fd50;}['extractFileNameFromFiles']({files:_0x365fbe}){const _0x43512d=a167_0x16114d,_0xbad586=Object[_0x43512d(0x89)](_0x365fbe)[_0x43512d(0x74)](([_0x32ccf8])=>_0x32ccf8[_0x43512d(0x8c)](this[_0x43512d(0x73)]));if(!_0xbad586)throw new Error('Can\x20not\x20find\x20DataPack\x20file\x20in\x20Vlocity\x20component.');const _0x7a8c73=JSON['parse'](_0xbad586[0x1][_0x43512d(0x76)]());return _0x7a8c73[_0x43512d(0x85)];}async['execute'](){const _0x11510f=a167_0x16114d,_0x46a7d1=this[_0x11510f(0x96)][0x0],[_0x2fbcd2,_0x1a91b3]=_0x46a7d1[_0x11510f(0x80)](path_1[_0x11510f(0x87)]);let _0x414e98,_0x16a644=_0x1a91b3;try{_0x414e98=await this[_0x11510f(0x90)](_0x46a7d1);}catch(_0x1c2446){return this['logger'][_0x11510f(0x6e)](_0x11510f(0x92),_0x46a7d1,_0x1c2446),[];}try{_0x16a644=this[_0x11510f(0x83)]({'files':_0x414e98});}catch(_0x5917da){this[_0x11510f(0x70)][_0x11510f(0x7b)]('Error\x20occurred\x20when\x20parsing\x20file/folder\x20%s\x20to\x20get\x20component\x20name.\x20Original\x20error:\x20',_0x46a7d1,_0x5917da);}const _0x4bacd2={'files':_0x414e98,'vlocityComponentName':_0x16a644,'filePath':_0x46a7d1,'type':_0x2fbcd2,'name':_0x1a91b3,'crc':'','isVlocityComponent':!![]},_0xdebaf9=(0x0,crc32_1['calculateCRC32'])(_0x4bacd2);return _0x4bacd2[_0x11510f(0x7e)]=_0xdebaf9,[_0x4bacd2];}}exports['VlocityParser']=VlocityParser;