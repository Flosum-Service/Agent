const a95_0x53460d=a95_0x21a5;(function(_0x322748,_0x1d526a){const _0x233b97=a95_0x21a5,_0x16cb51=_0x322748();while(!![]){try{const _0x520ade=-parseInt(_0x233b97(0x160))/0x1+parseInt(_0x233b97(0x158))/0x2*(parseInt(_0x233b97(0x166))/0x3)+-parseInt(_0x233b97(0x159))/0x4+-parseInt(_0x233b97(0x170))/0x5*(parseInt(_0x233b97(0x13f))/0x6)+-parseInt(_0x233b97(0x132))/0x7*(-parseInt(_0x233b97(0x13b))/0x8)+parseInt(_0x233b97(0x125))/0x9*(parseInt(_0x233b97(0x121))/0xa)+parseInt(_0x233b97(0x15e))/0xb;if(_0x520ade===_0x1d526a)break;else _0x16cb51['push'](_0x16cb51['shift']());}catch(_0x459a0c){_0x16cb51['push'](_0x16cb51['shift']());}}}(a95_0x30bc,0x2bfc0));const a95_0x4b919b=(function(){let _0x5edf25=!![];return function(_0x44e718,_0x297feb){const _0x1a8203=_0x5edf25?function(){const _0x3ba185=a95_0x21a5;if(_0x297feb){const _0x3c52c8=_0x297feb[_0x3ba185(0x144)](_0x44e718,arguments);return _0x297feb=null,_0x3c52c8;}}:function(){};return _0x5edf25=![],_0x1a8203;};}()),a95_0x2ebed0=a95_0x4b919b(this,function(){const _0x5460e6=a95_0x21a5;return a95_0x2ebed0[_0x5460e6(0x14a)]()[_0x5460e6(0x124)](_0x5460e6(0x15f))[_0x5460e6(0x14a)]()['constructor'](a95_0x2ebed0)[_0x5460e6(0x124)]('(((.+)+)+)+$');});function a95_0x30bc(){const _0x5e071e=['../../shared/utils','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','search','63wdbzqG','../providers/branches/dto/branch.dto','createEmptyBranch','.temp','log','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','baseDir','getRepositoryBranches','extractAuthorFromCommitDescribe','then','BranchDto','map','logger','87374OGhsNj','getRemoteHash','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','sha','extractMessageFromCommitDescribe','Shell','commit','replace','extractChangesFromCommitDescribe','176eGewfL','getCurrentHash','\x20&&\x20git\x20init','push','6lNJgKl','clone','checkout','./shell.internal','setCredentials','apply','\x20&&\x20git\x20checkout\x20--orphan\x20','name','_repoPath','path','://','toString','commit\x20message\x20\x22%s\x22','Git','cd\x20','default','../../../core','DEFAULT_CLONE_PATH','makeDir','gitUrl','\x20&&\x20git\x20remote\x20add\x20origin\x20','push\x20changes\x20to\x20%s','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','INITIAL_COMMIT','82962cWGYxp','1078564ednTca','\x20&&\x20git\x20checkout\x20','describeCommit','\x20&&\x20git\x20commit\x20-m\x20\x22','git','2244363YvQWQp','(((.+)+)+)+$','12787BBMzdv','getGitShellAuthorizationString','exec','__esModule','\x20&&\x20git\x20rev-parse\x20HEAD','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','12piJpOC','getProtocol','refs/heads/','\x20--single-branch\x20','removeDir','filter','git\x20ls-remote\x20','DEFAULT_GIT_USER_NAME','./fs.internal','git\x20clone\x20-b\x20','1649415JTQqRB','join','checkout\x20to\x20%s','211300VubnSf'];a95_0x30bc=function(){return _0x5e071e;};return a95_0x30bc();}a95_0x2ebed0();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x284dd2){const _0x3fb182=a95_0x21a5;return _0x284dd2&&_0x284dd2[_0x3fb182(0x163)]?_0x284dd2:{'default':_0x284dd2};};Object['defineProperty'](exports,a95_0x53460d(0x163),{'value':!![]}),exports[a95_0x53460d(0x14c)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a95_0x53460d(0x14f)),path_1=__importDefault(require(a95_0x53460d(0x148))),branch_dto_1=require(a95_0x53460d(0x126)),utils_1=require(a95_0x53460d(0x122)),fs_internal_1=require(a95_0x53460d(0x16e)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a95_0x53460d(0x142));function a95_0x21a5(_0x24831c,_0x153822){const _0x2454cd=a95_0x30bc();return a95_0x21a5=function(_0x2ebed0,_0x4b919b){_0x2ebed0=_0x2ebed0-0x11f;let _0x30bc1b=_0x2454cd[_0x2ebed0];return _0x30bc1b;},a95_0x21a5(_0x24831c,_0x153822);}class Git{constructor(_0x21f54c){this['_repoPath']=_0x21f54c;}get['baseDir'](){const _0x148796=a95_0x53460d;return this[_0x148796(0x147)];}async[a95_0x53460d(0x143)](_0x24efb6,_0x5b40c5){const _0x3b19f0=a95_0x53460d;await shell_internal_1[_0x3b19f0(0x137)][_0x3b19f0(0x162)]('cd\x20'+this[_0x3b19f0(0x147)]+_0x3b19f0(0x165)+_0x24efb6+_0x3b19f0(0x123)+_0x5b40c5+'\x22');}async['add'](..._0x42cac3){const _0x12f0b1=a95_0x53460d;await shell_internal_1[_0x12f0b1(0x137)]['exec'](_0x12f0b1(0x14d)+this[_0x12f0b1(0x147)]+'\x20&&\x20git\x20add\x20'+_0x42cac3[_0x12f0b1(0x11f)]('\x20'));}async['status'](){const _0x234d66=a95_0x53460d;return shell_internal_1[_0x234d66(0x137)]['exec'](_0x234d66(0x14d)+this[_0x234d66(0x147)]+'\x20&&\x20git\x20status');}async[a95_0x53460d(0x138)](_0x589ea9){const _0x1ed5dd=a95_0x53460d;Git[_0x1ed5dd(0x131)]['log'](_0x1ed5dd(0x14b),_0x589ea9),await shell_internal_1[_0x1ed5dd(0x137)][_0x1ed5dd(0x162)](_0x1ed5dd(0x14d)+this[_0x1ed5dd(0x147)]+_0x1ed5dd(0x15c)+_0x589ea9+'\x22');}async[a95_0x53460d(0x13e)](_0x16f7b7){const _0xb85e02=a95_0x53460d;Git['logger'][_0xb85e02(0x129)](_0xb85e02(0x154),_0x16f7b7),await shell_internal_1[_0xb85e02(0x137)]['exec'](_0xb85e02(0x14d)+this[_0xb85e02(0x147)]+_0xb85e02(0x155)+_0x16f7b7+'\x20--quiet');}async[a95_0x53460d(0x141)](_0x40e650){const _0x2df3d0=a95_0x53460d;Git[_0x2df3d0(0x131)][_0x2df3d0(0x129)](_0x2df3d0(0x120),_0x40e650),await shell_internal_1[_0x2df3d0(0x137)][_0x2df3d0(0x162)](_0x2df3d0(0x14d)+this[_0x2df3d0(0x147)]+_0x2df3d0(0x15a)+_0x40e650);}async[a95_0x53460d(0x13c)](){const _0x92f5af=a95_0x53460d,_0x27512f=await shell_internal_1[_0x92f5af(0x137)][_0x92f5af(0x162)](_0x92f5af(0x14d)+this['_repoPath']+_0x92f5af(0x164));return _0x27512f[_0x92f5af(0x139)]('\x0a','');}async[a95_0x53460d(0x15b)](_0x2e1937){const _0x5374ff=a95_0x53460d;Git[_0x5374ff(0x131)][_0x5374ff(0x129)]('describe\x20commit\x20%s',_0x2e1937);const _0x7b9afe=await shell_internal_1['Shell'][_0x5374ff(0x162)](_0x5374ff(0x14d)+this['_repoPath']+_0x5374ff(0x156)+_0x2e1937);return{'author':(0x0,internal_utils_1[_0x5374ff(0x12d)])(_0x7b9afe),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x7b9afe),'message':(0x0,internal_utils_1[_0x5374ff(0x136)])(_0x7b9afe),'changes':(0x0,internal_utils_1[_0x5374ff(0x13a)])(_0x7b9afe)};}static async[a95_0x53460d(0x133)](_0xf7a9cf,_0x4c8e6d){const _0x27b223=a95_0x53460d,[_0x3f843]=await shell_internal_1[_0x27b223(0x137)][_0x27b223(0x162)]('git\x20ls-remote\x20'+_0xf7a9cf+'\x20'+_0x4c8e6d+'\x20--refs')[_0x27b223(0x12e)](_0x5857e5=>_0x5857e5['replace'](/\s/g,'\x20')['split']('\x20'));return _0x3f843;}static async[a95_0x53460d(0x140)](_0x50af18,_0x126d48,_0xb64ada){const _0x4f962d=a95_0x53460d,_0x30e832=path_1['default']['join'](this[_0x4f962d(0x150)],_0x126d48),_0x3a87c3=new Git(_0x30e832);return Git[_0x4f962d(0x131)]['log'](_0x4f962d(0x134),_0xb64ada,_0x50af18,_0x30e832),await fs_internal_1['FS']['removeDir'](_0x30e832),await shell_internal_1[_0x4f962d(0x137)][_0x4f962d(0x162)](_0x4f962d(0x16f)+_0xb64ada+_0x4f962d(0x169)+_0x50af18+'\x20'+_0x30e832),_0x3a87c3;}static async[a95_0x53460d(0x12c)](_0x46ce1c,_0x22d9ef){const _0x5c995e=a95_0x53460d,_0x52f9a4=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0xada03b=_0x46ce1c[_0x5c995e(0x152)][_0x5c995e(0x139)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x46ce1c[_0x5c995e(0x152)])+_0x5c995e(0x149)+_0x22d9ef['getGitShellAuthorizationString']()+'@'),_0x1e3fe9=await shell_internal_1[_0x5c995e(0x137)][_0x5c995e(0x162)](_0x5c995e(0x16c)+_0xada03b),_0x575801=_0x1e3fe9['split']('\x0a')[_0x5c995e(0x16b)](_0x16102f=>_0x52f9a4['test'](_0x16102f))[_0x5c995e(0x130)](_0xadc524=>{const _0x1b1633=_0x5c995e,[,_0xc8a621,_0x46f708]=_0xadc524['match'](_0x52f9a4),_0x197997=new branch_dto_1[(_0x1b1633(0x12f))]();return _0x197997[_0x1b1633(0x135)]=_0xc8a621,_0x197997[_0x1b1633(0x146)]=_0x46f708[_0x1b1633(0x139)](_0x1b1633(0x168),''),_0x197997;});return _0x575801;}static async[a95_0x53460d(0x127)](_0x2ced8d,_0x12f93d,_0x202a6d,_0xd1fdab){const _0x3239cc=a95_0x53460d,_0x307899=_0x2ced8d['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x3239cc(0x167)])(_0x2ced8d[_0x3239cc(0x152)])+_0x3239cc(0x149)+_0xd1fdab[_0x3239cc(0x161)]()+'@'),_0x25d92e=path_1[_0x3239cc(0x14e)]['join'](this[_0x3239cc(0x150)],_0x2ced8d[_0x3239cc(0x146)]);Git[_0x3239cc(0x131)][_0x3239cc(0x129)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x2ced8d[_0x3239cc(0x146)],_0x12f93d,_0x25d92e,_0x307899),await fs_internal_1['FS'][_0x3239cc(0x16a)](_0x25d92e),await fs_internal_1['FS'][_0x3239cc(0x151)](_0x25d92e);const _0x4dabef=new Git(_0x25d92e);await shell_internal_1['Shell'][_0x3239cc(0x162)](_0x3239cc(0x14d)+_0x4dabef[_0x3239cc(0x12b)]+_0x3239cc(0x13d)),await shell_internal_1[_0x3239cc(0x137)][_0x3239cc(0x162)]('cd\x20'+_0x4dabef[_0x3239cc(0x12b)]+_0x3239cc(0x153)+_0x307899),await _0x4dabef['setCredentials'](constants_1[_0x3239cc(0x16d)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x3239cc(0x137)]['exec'](_0x3239cc(0x14d)+_0x4dabef[_0x3239cc(0x12b)]+_0x3239cc(0x145)+_0x12f93d),await shell_internal_1['Shell'][_0x3239cc(0x162)](_0x3239cc(0x14d)+_0x4dabef[_0x3239cc(0x12b)]+_0x3239cc(0x15c)+(_0x202a6d||constants_1[_0x3239cc(0x157)])+'\x22\x20--allow-empty'),await _0x4dabef[_0x3239cc(0x13e)](_0x12f93d),Git[_0x3239cc(0x131)]['log'](_0x3239cc(0x12a)),await fs_internal_1['FS'][_0x3239cc(0x16a)](_0x4dabef[_0x3239cc(0x12b)]);}}exports[a95_0x53460d(0x14c)]=Git,Git[a95_0x53460d(0x150)]=path_1[a95_0x53460d(0x14e)]['join'](process['cwd'](),a95_0x53460d(0x128),a95_0x53460d(0x15d)),Git[a95_0x53460d(0x131)]=new core_1['Logger'](Git[a95_0x53460d(0x146)]);