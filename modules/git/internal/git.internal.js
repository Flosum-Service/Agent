const a126_0x54c747=a126_0x22bc;function a126_0x22bc(_0x148cf0,_0x575ac7){const _0x3def09=a126_0x1821();return a126_0x22bc=function(_0x3d01a7,_0x340f0a){_0x3d01a7=_0x3d01a7-0xa6;let _0x18216e=_0x3def09[_0x3d01a7];return _0x18216e;},a126_0x22bc(_0x148cf0,_0x575ac7);}(function(_0x1ea607,_0x28a4e7){const _0x100dbb=a126_0x22bc,_0x4ac2ba=_0x1ea607();while(!![]){try{const _0x58d1f7=parseInt(_0x100dbb(0xeb))/0x1+-parseInt(_0x100dbb(0xc6))/0x2+parseInt(_0x100dbb(0xfa))/0x3+parseInt(_0x100dbb(0xa9))/0x4+-parseInt(_0x100dbb(0xe3))/0x5+-parseInt(_0x100dbb(0xc0))/0x6+-parseInt(_0x100dbb(0xaa))/0x7;if(_0x58d1f7===_0x28a4e7)break;else _0x4ac2ba['push'](_0x4ac2ba['shift']());}catch(_0x188d1f){_0x4ac2ba['push'](_0x4ac2ba['shift']());}}}(a126_0x1821,0xcd8a9));const a126_0x340f0a=(function(){let _0x1de227=!![];return function(_0x3f06c5,_0x4edeec){const _0x5cfd9a=_0x1de227?function(){const _0x2e1cda=a126_0x22bc;if(_0x4edeec){const _0x269490=_0x4edeec[_0x2e1cda(0xbf)](_0x3f06c5,arguments);return _0x4edeec=null,_0x269490;}}:function(){};return _0x1de227=![],_0x5cfd9a;};}()),a126_0x3d01a7=a126_0x340f0a(this,function(){const _0x25d7af=a126_0x22bc;return a126_0x3d01a7['toString']()['search'](_0x25d7af(0xc2))[_0x25d7af(0xe4)]()[_0x25d7af(0xc7)](a126_0x3d01a7)[_0x25d7af(0xc4)](_0x25d7af(0xc2));});a126_0x3d01a7();function a126_0x1821(){const _0x4cc1a5=['git\x20ls-remote\x20','841448RfBInP','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','checkout','getRemoteHash','\x20&&\x20git\x20remote\x20add\x20origin\x20','map','push','ChildProcessUtils','gitUrl','clone\x20repository\x20branch\x20%s\x20to\x20%s','\x20&&\x20git\x20add\x20','getGitShellAuthorizationString','.temp','\x20&&\x20git\x20commit\x20-m\x20\x22','setCredentials','3328479TAaQVK','getRepositoryBranches','__esModule','\x20&&\x20git\x20init','../../../core','3643024JJdtPp','1132768TYHigj','git','default','../../../constants','makeDir','DEFAULT_GIT_USER_EMAIL','describeCommit','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','getProtocol','removeDir','clone','test','cd\x20','\x20--quiet','name','_repoPath','push\x20changes\x20to\x20%s','add','../../shared/utils','commit','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','apply','8093328ROIBgD','describe\x20commit\x20%s','(((.+)+)+)+$','commit\x20message\x20\x22%s\x22','search','cwd','963218fMtCWn','constructor','./internal.utils','extractChangesFromCommitDescribe','path','@flosum/utils','extractMessageFromCommitDescribe','Git','checkout\x20to\x20%s','\x20&&\x20git\x20rev-parse\x20HEAD','sha','refs/heads/','split','://','extractAuthorFromCommitDescribe','logger','baseDir','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','log','join','spawnPromise','git\x20clone\x20-b\x20','then','defineProperty','\x20--single-branch\x20','__importDefault','\x20&&\x20git\x20checkout\x20--orphan\x20','DEFAULT_CLONE_PATH','replace','137395SxJpOb','toString','\x20--refs','INITIAL_COMMIT','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','BranchDto','status'];a126_0x1821=function(){return _0x4cc1a5;};return a126_0x1821();}'use strict';var __importDefault=this&&this[a126_0x54c747(0xdf)]||function(_0x11c51a){const _0x33edb0=a126_0x54c747;return _0x11c51a&&_0x11c51a[_0x33edb0(0xa6)]?_0x11c51a:{'default':_0x11c51a};};Object[a126_0x54c747(0xdd)](exports,a126_0x54c747(0xa6),{'value':!![]}),exports[a126_0x54c747(0xcd)]=void 0x0;const constants_1=require(a126_0x54c747(0xad)),core_1=require(a126_0x54c747(0xa8)),path_1=__importDefault(require(a126_0x54c747(0xca))),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a126_0x54c747(0xbc)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a126_0x54c747(0xc8)),utils_2=require(a126_0x54c747(0xcb));class Git{constructor(_0x27c478){const _0x194a92=a126_0x54c747;this[_0x194a92(0xb9)]=_0x27c478;}get['baseDir'](){const _0x435faa=a126_0x54c747;return this[_0x435faa(0xb9)];}async[a126_0x54c747(0xf9)](_0x1f127b,_0x4051db){const _0x10bef6=a126_0x54c747;await utils_2['ChildProcessUtils'][_0x10bef6(0xda)](_0x10bef6(0xb6)+this['_repoPath']+_0x10bef6(0xe7)+_0x1f127b+_0x10bef6(0xbe)+_0x4051db+'\x22','');}async[a126_0x54c747(0xbb)](..._0x5c9a36){const _0x37122c=a126_0x54c747;await utils_2['ChildProcessUtils'][_0x37122c(0xda)](_0x37122c(0xb6)+this[_0x37122c(0xb9)]+_0x37122c(0xf5)+_0x5c9a36[_0x37122c(0xd9)]('\x20'),'');}async[a126_0x54c747(0xe9)](){const _0x4e1e4e=a126_0x54c747;return utils_2[_0x4e1e4e(0xf2)][_0x4e1e4e(0xda)]('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20status','');}async[a126_0x54c747(0xbd)](_0x31f8b1){const _0x25695e=a126_0x54c747;Git[_0x25695e(0xd5)][_0x25695e(0xd8)](_0x25695e(0xc3),_0x31f8b1),await utils_2[_0x25695e(0xf2)][_0x25695e(0xda)](_0x25695e(0xb6)+this['_repoPath']+_0x25695e(0xf8)+_0x31f8b1+'\x22','');}async[a126_0x54c747(0xf1)](_0x44d80f){const _0x432727=a126_0x54c747;Git[_0x432727(0xd5)]['log'](_0x432727(0xba),_0x44d80f),await utils_2[_0x432727(0xf2)][_0x432727(0xda)]('cd\x20'+this[_0x432727(0xb9)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x44d80f+_0x432727(0xb7),'');}async[a126_0x54c747(0xed)](_0x50d881){const _0x440070=a126_0x54c747;Git[_0x440070(0xd5)]['log'](_0x440070(0xce),_0x50d881),await utils_2[_0x440070(0xf2)]['spawnPromise'](_0x440070(0xb6)+this[_0x440070(0xb9)]+'\x20&&\x20git\x20checkout\x20'+_0x50d881,'');}async['getCurrentHash'](){const _0x2f53ff=a126_0x54c747,_0x616c48=await utils_2['ChildProcessUtils']['spawnPromise'](_0x2f53ff(0xb6)+this[_0x2f53ff(0xb9)]+_0x2f53ff(0xcf),'');return _0x616c48[_0x2f53ff(0xe2)]('\x0a','');}async[a126_0x54c747(0xb0)](_0x725b5f){const _0x2c4c0b=a126_0x54c747;Git[_0x2c4c0b(0xd5)]['log'](_0x2c4c0b(0xc1),_0x725b5f);const _0x39041f=await utils_2[_0x2c4c0b(0xf2)]['spawnPromise'](_0x2c4c0b(0xb6)+this[_0x2c4c0b(0xb9)]+_0x2c4c0b(0xb1)+_0x725b5f,'');return{'author':(0x0,internal_utils_1[_0x2c4c0b(0xd4)])(_0x39041f),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x39041f),'message':(0x0,internal_utils_1[_0x2c4c0b(0xcc)])(_0x39041f),'changes':(0x0,internal_utils_1[_0x2c4c0b(0xc9)])(_0x39041f)};}static async[a126_0x54c747(0xee)](_0x4a4377,_0x2ad6fd){const _0x29d300=a126_0x54c747,[_0x22acb7]=await utils_2['ChildProcessUtils']['spawnPromise'](_0x29d300(0xea)+_0x4a4377+'\x20'+_0x2ad6fd+_0x29d300(0xe5),'')[_0x29d300(0xdc)](_0x482ab7=>_0x482ab7['replace'](/\s/g,'\x20')[_0x29d300(0xd2)]('\x20'));return _0x22acb7;}static async[a126_0x54c747(0xb4)](_0x2523f7,_0x5a1715,_0x3c64c9){const _0x4b1037=a126_0x54c747,_0x30d784=path_1['default']['join'](this[_0x4b1037(0xe1)],_0x5a1715),_0x30dd08=new Git(_0x30d784);return Git['logger']['log'](_0x4b1037(0xf4),_0x3c64c9,_0x30d784),await fs_internal_1['FS'][_0x4b1037(0xb3)](_0x30d784),await utils_2[_0x4b1037(0xf2)]['spawnPromise'](_0x4b1037(0xdb)+_0x3c64c9+_0x4b1037(0xde)+_0x2523f7+'\x20'+_0x30d784,''),_0x30dd08;}static async[a126_0x54c747(0xfb)](_0x57a28d,_0x2f0beb){const _0x491aa4=a126_0x54c747,_0x13a99c=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x25392b=_0x57a28d[_0x491aa4(0xf3)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x491aa4(0xb2)])(_0x57a28d['gitUrl'])+_0x491aa4(0xd3)+_0x2f0beb[_0x491aa4(0xf6)]()+'@'),_0x461a18=await utils_2[_0x491aa4(0xf2)][_0x491aa4(0xda)](_0x491aa4(0xea)+_0x25392b,'');return _0x461a18[_0x491aa4(0xd2)]('\x0a')['filter'](_0x4c5514=>_0x13a99c[_0x491aa4(0xb5)](_0x4c5514))[_0x491aa4(0xf0)](_0x5b2f0c=>{const _0x5a80ff=_0x491aa4,[,_0xe1167d,_0x43c4d1]=_0x5b2f0c['match'](_0x13a99c),_0x4c81cb=new branch_dto_1[(_0x5a80ff(0xe8))]();return _0x4c81cb[_0x5a80ff(0xd0)]=_0xe1167d,_0x4c81cb[_0x5a80ff(0xb8)]=_0x43c4d1[_0x5a80ff(0xe2)](_0x5a80ff(0xd1),''),_0x4c81cb;});}static async['createEmptyBranch'](_0x19ddfe,_0x39544e,_0x3a8746,_0xcaf332){const _0x5c102a=a126_0x54c747,_0x5c3116=_0x19ddfe[_0x5c102a(0xf3)][_0x5c102a(0xe2)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x19ddfe['gitUrl'])+_0x5c102a(0xd3)+_0xcaf332[_0x5c102a(0xf6)]()+'@'),_0x1e410a=path_1[_0x5c102a(0xac)][_0x5c102a(0xd9)](this[_0x5c102a(0xe1)],_0x19ddfe[_0x5c102a(0xb8)]);Git[_0x5c102a(0xd5)][_0x5c102a(0xd8)](_0x5c102a(0xd7),_0x19ddfe[_0x5c102a(0xb8)],_0x39544e,_0x1e410a),await fs_internal_1['FS']['removeDir'](_0x1e410a),await fs_internal_1['FS'][_0x5c102a(0xae)](_0x1e410a);const _0x1282ed=new Git(_0x1e410a);await utils_2[_0x5c102a(0xf2)]['spawnPromise'](_0x5c102a(0xb6)+_0x1282ed[_0x5c102a(0xd6)]+_0x5c102a(0xa7),''),await utils_2[_0x5c102a(0xf2)]['spawnPromise']('cd\x20'+_0x1282ed[_0x5c102a(0xd6)]+_0x5c102a(0xef)+_0x5c3116,''),await _0x1282ed[_0x5c102a(0xf9)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x5c102a(0xaf)]),await utils_2[_0x5c102a(0xf2)][_0x5c102a(0xda)](_0x5c102a(0xb6)+_0x1282ed[_0x5c102a(0xd6)]+_0x5c102a(0xe0)+_0x39544e,''),await utils_2[_0x5c102a(0xf2)][_0x5c102a(0xda)]('cd\x20'+_0x1282ed[_0x5c102a(0xd6)]+_0x5c102a(0xf8)+(_0x3a8746||constants_1[_0x5c102a(0xe6)])+'\x22\x20--allow-empty',''),await _0x1282ed['push'](_0x39544e),Git[_0x5c102a(0xd5)]['log'](_0x5c102a(0xec)),await fs_internal_1['FS']['removeDir'](_0x1282ed['baseDir']);}}exports[a126_0x54c747(0xcd)]=Git,Git[a126_0x54c747(0xe1)]=path_1['default']['join'](process[a126_0x54c747(0xc5)](),a126_0x54c747(0xf7),a126_0x54c747(0xab)),Git[a126_0x54c747(0xd5)]=new core_1['Logger'](Git[a126_0x54c747(0xb8)]);