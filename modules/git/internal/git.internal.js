const a126_0x152aec=a126_0x3521;(function(_0x1e649d,_0x38aad2){const _0x56bc6e=a126_0x3521,_0x4cb063=_0x1e649d();while(!![]){try{const _0x4aa3ac=-parseInt(_0x56bc6e(0x106))/0x1+parseInt(_0x56bc6e(0xfe))/0x2+-parseInt(_0x56bc6e(0x111))/0x3*(parseInt(_0x56bc6e(0xed))/0x4)+parseInt(_0x56bc6e(0x104))/0x5+parseInt(_0x56bc6e(0xec))/0x6*(parseInt(_0x56bc6e(0xda))/0x7)+parseInt(_0x56bc6e(0x11d))/0x8*(-parseInt(_0x56bc6e(0xfd))/0x9)+-parseInt(_0x56bc6e(0x119))/0xa;if(_0x4aa3ac===_0x38aad2)break;else _0x4cb063['push'](_0x4cb063['shift']());}catch(_0x3e607b){_0x4cb063['push'](_0x4cb063['shift']());}}}(a126_0x5b86,0x5aa6e));const a126_0x5714a7=(function(){let _0x3304a3=!![];return function(_0xa8e5a2,_0x14ec64){const _0x53802e=_0x3304a3?function(){const _0x24dc99=a126_0x3521;if(_0x14ec64){const _0xffcdd6=_0x14ec64[_0x24dc99(0xf1)](_0xa8e5a2,arguments);return _0x14ec64=null,_0xffcdd6;}}:function(){};return _0x3304a3=![],_0x53802e;};}()),a126_0x130fc9=a126_0x5714a7(this,function(){const _0x3699f7=a126_0x3521;return a126_0x130fc9[_0x3699f7(0xe7)]()['search']('(((.+)+)+)+$')[_0x3699f7(0xe7)]()[_0x3699f7(0x116)](a126_0x130fc9)[_0x3699f7(0x109)]('(((.+)+)+)+$');});a126_0x130fc9();'use strict';var __importDefault=this&&this[a126_0x152aec(0x10c)]||function(_0xccdd64){const _0x520492=a126_0x152aec;return _0xccdd64&&_0xccdd64[_0x520492(0xd9)]?_0xccdd64:{'default':_0xccdd64};};function a126_0x5b86(){const _0x298bdc=['apply','\x20&&\x20git\x20checkout\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','then','name','DEFAULT_CLONE_PATH','INITIAL_COMMIT','git\x20ls-remote\x20','\x20&&\x20git\x20init','spawnPromise','\x20--single-branch\x20','81IojElj','1396856gbzhOs','../../../core','BranchDto','commit','.temp','removeDir','1762950oujjmM','git\x20clone\x20-b\x20','32852eepKpK','gitUrl','createEmptyBranch','search','path','\x20&&\x20git\x20rev-parse\x20HEAD','__importDefault','commit\x20message\x20\x22%s\x22','describe\x20commit\x20%s','Git','\x22\x20--allow-empty','837wXNhhz','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','DEFAULT_GIT_USER_EMAIL','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','constructor','baseDir','describeCommit','4435240bYjcgP','../../shared/utils','replace','\x20--quiet','413912bHlzrt','\x20&&\x20git\x20add\x20','extractEmailFromCommitDescribe','clone\x20repository\x20branch\x20%s\x20to\x20%s','_repoPath','./fs.internal','push','../../../constants','default','\x20&&\x20git\x20status','checkout','filter','logger','defineProperty','__esModule','1106InSAuc','git','makeDir','ChildProcessUtils','checkout\x20to\x20%s','\x20&&\x20git\x20checkout\x20--orphan\x20','join','getGitShellAuthorizationString','getCurrentHash','log','://','DEFAULT_GIT_USER_NAME','refs/heads/','toString','split','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','cd\x20','test','10968MYiLIj','380kDYtUC','cwd','status','../providers/branches/dto/branch.dto'];a126_0x5b86=function(){return _0x298bdc;};return a126_0x5b86();}Object[a126_0x152aec(0xd8)](exports,a126_0x152aec(0xd9),{'value':!![]}),exports[a126_0x152aec(0x10f)]=void 0x0;function a126_0x3521(_0x291ee6,_0x388643){const _0x104817=a126_0x5b86();return a126_0x3521=function(_0x130fc9,_0x5714a7){_0x130fc9=_0x130fc9-0xd3;let _0x5b864e=_0x104817[_0x130fc9];return _0x5b864e;},a126_0x3521(_0x291ee6,_0x388643);}const constants_1=require(a126_0x152aec(0x124)),core_1=require(a126_0x152aec(0xff)),path_1=__importDefault(require(a126_0x152aec(0x10a))),branch_dto_1=require(a126_0x152aec(0xf0)),utils_1=require(a126_0x152aec(0x11a)),fs_internal_1=require(a126_0x152aec(0x122)),internal_utils_1=require('./internal.utils'),utils_2=require('@flosum/utils');class Git{constructor(_0x4d5ac1){const _0x5e515d=a126_0x152aec;this[_0x5e515d(0x121)]=_0x4d5ac1;}get[a126_0x152aec(0x117)](){return this['_repoPath'];}async['setCredentials'](_0xc8d9f4,_0x6418d4){const _0x3307c8=a126_0x152aec;await utils_2[_0x3307c8(0xdd)][_0x3307c8(0xfb)](_0x3307c8(0xea)+this[_0x3307c8(0x121)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0xc8d9f4+_0x3307c8(0xf4)+_0x6418d4+'\x22','');}async['add'](..._0x1bd8eb){const _0x544b7b=a126_0x152aec;await utils_2[_0x544b7b(0xdd)]['spawnPromise'](_0x544b7b(0xea)+this[_0x544b7b(0x121)]+_0x544b7b(0x11e)+_0x1bd8eb[_0x544b7b(0xe0)]('\x20'),'');}async[a126_0x152aec(0xef)](){const _0x545b31=a126_0x152aec;return utils_2['ChildProcessUtils'][_0x545b31(0xfb)](_0x545b31(0xea)+this['_repoPath']+_0x545b31(0xd4),'');}async[a126_0x152aec(0x101)](_0x5df862){const _0x10adc9=a126_0x152aec;Git[_0x10adc9(0xd7)][_0x10adc9(0xe3)](_0x10adc9(0x10d),_0x5df862),await utils_2['ChildProcessUtils'][_0x10adc9(0xfb)](_0x10adc9(0xea)+this['_repoPath']+_0x10adc9(0x115)+_0x5df862+'\x22','');}async['push'](_0x55e6b3){const _0x5b05fb=a126_0x152aec;Git[_0x5b05fb(0xd7)][_0x5b05fb(0xe3)]('push\x20changes\x20to\x20%s',_0x55e6b3),await utils_2[_0x5b05fb(0xdd)][_0x5b05fb(0xfb)](_0x5b05fb(0xea)+this[_0x5b05fb(0x121)]+_0x5b05fb(0x114)+_0x55e6b3+_0x5b05fb(0x11c),'');}async[a126_0x152aec(0xd5)](_0x2b5307){const _0x551088=a126_0x152aec;Git['logger'][_0x551088(0xe3)](_0x551088(0xde),_0x2b5307),await utils_2[_0x551088(0xdd)][_0x551088(0xfb)]('cd\x20'+this['_repoPath']+_0x551088(0xf2)+_0x2b5307,'');}async[a126_0x152aec(0xe2)](){const _0x2b46e2=a126_0x152aec,_0x2d761f=await utils_2['ChildProcessUtils'][_0x2b46e2(0xfb)](_0x2b46e2(0xea)+this['_repoPath']+_0x2b46e2(0x10b),'');return _0x2d761f[_0x2b46e2(0x11b)]('\x0a','');}async[a126_0x152aec(0x118)](_0x584ccf){const _0x4c6fc6=a126_0x152aec;Git[_0x4c6fc6(0xd7)][_0x4c6fc6(0xe3)](_0x4c6fc6(0x10e),_0x584ccf);const _0x2b362d=await utils_2[_0x4c6fc6(0xdd)][_0x4c6fc6(0xfb)](_0x4c6fc6(0xea)+this['_repoPath']+_0x4c6fc6(0xf3)+_0x584ccf,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x2b362d),'email':(0x0,internal_utils_1[_0x4c6fc6(0x11f)])(_0x2b362d),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x2b362d),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x2b362d)};}static async['getRemoteHash'](_0x9decd3,_0x24ea54){const _0x4e4270=a126_0x152aec,[_0x4c13dd]=await utils_2['ChildProcessUtils'][_0x4e4270(0xfb)](_0x4e4270(0xf9)+_0x9decd3+'\x20'+_0x24ea54+'\x20--refs','')[_0x4e4270(0xf5)](_0xeaf657=>_0xeaf657['replace'](/\s/g,'\x20')[_0x4e4270(0xe8)]('\x20'));return _0x4c13dd;}static async['clone'](_0x54b344,_0x183fb4,_0x145f20){const _0x57fa5e=a126_0x152aec,_0x22a095=path_1[_0x57fa5e(0xd3)]['join'](this[_0x57fa5e(0xf7)],_0x183fb4),_0x38c2e8=new Git(_0x22a095);return Git['logger'][_0x57fa5e(0xe3)](_0x57fa5e(0x120),_0x145f20,_0x22a095),await fs_internal_1['FS']['removeDir'](_0x22a095),await utils_2[_0x57fa5e(0xdd)]['spawnPromise'](_0x57fa5e(0x105)+_0x145f20+_0x57fa5e(0xfc)+_0x54b344+'\x20'+_0x22a095,''),_0x38c2e8;}static async['getRepositoryBranches'](_0x4bdf8a,_0x4d12df){const _0x221658=a126_0x152aec,_0x333a96=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x13a87d=_0x4bdf8a[_0x221658(0x107)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x4bdf8a[_0x221658(0x107)])+_0x221658(0xe4)+_0x4d12df[_0x221658(0xe1)]()+'@'),_0xc6f2d2=await utils_2[_0x221658(0xdd)][_0x221658(0xfb)](_0x221658(0xf9)+_0x13a87d,'');return _0xc6f2d2[_0x221658(0xe8)]('\x0a')[_0x221658(0xd6)](_0xc6342e=>_0x333a96[_0x221658(0xeb)](_0xc6342e))['map'](_0x30aeeb=>{const _0x365213=_0x221658,[,_0x3db72b,_0x875c38]=_0x30aeeb['match'](_0x333a96),_0x40e772=new branch_dto_1[(_0x365213(0x100))]();return _0x40e772['sha']=_0x3db72b,_0x40e772[_0x365213(0xf6)]=_0x875c38['replace'](_0x365213(0xe6),''),_0x40e772;});}static async[a126_0x152aec(0x108)](_0x29ee05,_0x2564fe,_0x5169ab,_0x444e00){const _0x45350a=a126_0x152aec,_0x502129=_0x29ee05['gitUrl'][_0x45350a(0x11b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x29ee05[_0x45350a(0x107)])+'://'+_0x444e00['getGitShellAuthorizationString']()+'@'),_0x52f1f5=path_1[_0x45350a(0xd3)][_0x45350a(0xe0)](this[_0x45350a(0xf7)],_0x29ee05[_0x45350a(0xf6)]);Git[_0x45350a(0xd7)][_0x45350a(0xe3)](_0x45350a(0x112),_0x29ee05['name'],_0x2564fe,_0x52f1f5),await fs_internal_1['FS']['removeDir'](_0x52f1f5),await fs_internal_1['FS'][_0x45350a(0xdc)](_0x52f1f5);const _0x20533a=new Git(_0x52f1f5);await utils_2['ChildProcessUtils'][_0x45350a(0xfb)](_0x45350a(0xea)+_0x20533a[_0x45350a(0x117)]+_0x45350a(0xfa),''),await utils_2[_0x45350a(0xdd)]['spawnPromise'](_0x45350a(0xea)+_0x20533a[_0x45350a(0x117)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x502129,''),await _0x20533a['setCredentials'](constants_1[_0x45350a(0xe5)],constants_1[_0x45350a(0x113)]),await utils_2[_0x45350a(0xdd)][_0x45350a(0xfb)]('cd\x20'+_0x20533a['baseDir']+_0x45350a(0xdf)+_0x2564fe,''),await utils_2[_0x45350a(0xdd)]['spawnPromise'](_0x45350a(0xea)+_0x20533a[_0x45350a(0x117)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x5169ab||constants_1[_0x45350a(0xf8)])+_0x45350a(0x110),''),await _0x20533a[_0x45350a(0x123)](_0x2564fe),Git[_0x45350a(0xd7)]['log'](_0x45350a(0xe9)),await fs_internal_1['FS'][_0x45350a(0x103)](_0x20533a[_0x45350a(0x117)]);}}exports['Git']=Git,Git[a126_0x152aec(0xf7)]=path_1[a126_0x152aec(0xd3)][a126_0x152aec(0xe0)](process[a126_0x152aec(0xee)](),a126_0x152aec(0x102),a126_0x152aec(0xdb)),Git[a126_0x152aec(0xd7)]=new core_1['Logger'](Git[a126_0x152aec(0xf6)]);