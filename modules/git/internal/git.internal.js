const a149_0x55e8a3=a149_0x16d3;(function(_0x463d9d,_0xa1f3b6){const _0xe9a943=a149_0x16d3,_0x4433ab=_0x463d9d();while(!![]){try{const _0x29705e=-parseInt(_0xe9a943(0x1db))/0x1+parseInt(_0xe9a943(0x1ca))/0x2*(-parseInt(_0xe9a943(0x1c0))/0x3)+-parseInt(_0xe9a943(0x19f))/0x4*(parseInt(_0xe9a943(0x1bf))/0x5)+-parseInt(_0xe9a943(0x18c))/0x6+-parseInt(_0xe9a943(0x198))/0x7*(parseInt(_0xe9a943(0x19e))/0x8)+parseInt(_0xe9a943(0x194))/0x9*(-parseInt(_0xe9a943(0x1c6))/0xa)+parseInt(_0xe9a943(0x190))/0xb;if(_0x29705e===_0xa1f3b6)break;else _0x4433ab['push'](_0x4433ab['shift']());}catch(_0x4c4a2b){_0x4433ab['push'](_0x4433ab['shift']());}}}(a149_0xf2f3,0xb5f21));const a149_0x50317c=(function(){let _0x5c9d56=!![];return function(_0x2ead9a,_0x18b4d6){const _0x265a90=_0x5c9d56?function(){const _0x3cf236=a149_0x16d3;if(_0x18b4d6){const _0x4757b3=_0x18b4d6[_0x3cf236(0x1b3)](_0x2ead9a,arguments);return _0x18b4d6=null,_0x4757b3;}}:function(){};return _0x5c9d56=![],_0x265a90;};}()),a149_0x4c8bde=a149_0x50317c(this,function(){const _0x136f0e=a149_0x16d3;return a149_0x4c8bde[_0x136f0e(0x18f)]()[_0x136f0e(0x1ce)](_0x136f0e(0x199))[_0x136f0e(0x18f)]()['constructor'](a149_0x4c8bde)[_0x136f0e(0x1ce)](_0x136f0e(0x199));});function a149_0xf2f3(){const _0x4502a1=['BranchDto','Commit\x20message\x20\x22%s\x22','toString','77661738VZtKAC','__esModule','email','../../../core','117txmOpK','log','Describe\x20commit\x20%s','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','7bYSjBr','(((.+)+)+)+$','Checkout\x20to\x20%s','getRepositoryBranches','add','baseDir','9645848TJWAhC','4kEDEZp','../providers/branches/dto/branch.dto','describeCommit','\x20&&\x20git\x20commit\x20-m\x20\x22','makeDir','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','getRemoteHash','DEFAULT_CLONE_PATH','\x20&&\x20git\x20rev-parse\x20HEAD','refs/heads/','removeDir','\x20--single-branch\x20','Push\x20changes\x20to\x20%s','\x20&&\x20git\x20init','map','DEFAULT_GIT_USER_NAME','push','Git','logger','setCredentials','apply','sha','name','getProtocol','git\x20clone\x20-b\x20','getCurrentHash','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','status','cwd','match','git\x20ls-remote\x20','cd\x20','7104200MFUSJe','252vYOSlG','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','\x20--refs','INITIAL_COMMIT','join','ChildProcessUtils','859710VOYOVr','user','extractChangesFromCommitDescribe','then','21490OwPYcv','\x20&&\x20git\x20add\x20','defineProperty','\x20&&\x20git\x20checkout\x20','search','getGitShellAuthorizationString','extractAuthorFromCommitDescribe','://','spawnPromise','Clone\x20repository\x20branch\x20%s\x20to\x20%s','_repoPath','.temp','split','\x20&&\x20git\x20checkout\x20--orphan\x20','gitUrl','\x20&&\x20git\x20remote\x20add\x20origin\x20','replace','179984RpXKCj','default','git','8928906NivMbf'];a149_0xf2f3=function(){return _0x4502a1;};return a149_0xf2f3();}a149_0x4c8bde();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3e618f){const _0x5aa906=a149_0x16d3;return _0x3e618f&&_0x3e618f[_0x5aa906(0x191)]?_0x3e618f:{'default':_0x3e618f};};Object[a149_0x55e8a3(0x1cc)](exports,a149_0x55e8a3(0x191),{'value':!![]}),exports[a149_0x55e8a3(0x1b0)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a149_0x55e8a3(0x193)),path_1=__importDefault(require('path')),branch_dto_1=require(a149_0x55e8a3(0x1a0)),utils_1=require('../../shared/utils'),fs_internal_1=require('./fs.internal'),internal_utils_1=require('./internal.utils'),utils_2=require('@flosum/utils');class Git{constructor(_0x135e63){const _0x3e44cb=a149_0x55e8a3;this[_0x3e44cb(0x1d4)]=_0x135e63;}get['baseDir'](){const _0x528612=a149_0x55e8a3;return this[_0x528612(0x1d4)];}async[a149_0x55e8a3(0x1b2)](_0x2f8301,_0x17c4f2){const _0x26abf6=a149_0x55e8a3;await utils_2[_0x26abf6(0x1c5)]['spawnPromise'](_0x26abf6(0x1be)+this[_0x26abf6(0x1d4)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x2f8301+_0x26abf6(0x1c1)+_0x17c4f2+'\x22','');}async[a149_0x55e8a3(0x19c)](..._0x55b975){const _0x3c2c48=a149_0x55e8a3;await utils_2[_0x3c2c48(0x1c5)][_0x3c2c48(0x1d2)](_0x3c2c48(0x1be)+this[_0x3c2c48(0x1d4)]+_0x3c2c48(0x1cb)+_0x55b975[_0x3c2c48(0x1c4)]('\x20'),'');}async[a149_0x55e8a3(0x1ba)](){const _0x5c3457=a149_0x55e8a3;return utils_2[_0x5c3457(0x1c5)][_0x5c3457(0x1d2)](_0x5c3457(0x1be)+this[_0x5c3457(0x1d4)]+'\x20&&\x20git\x20status','');}async['commit'](_0x3bc5b5){const _0x4b5d01=a149_0x55e8a3;Git['logger'][_0x4b5d01(0x195)](_0x4b5d01(0x18e),_0x3bc5b5),await utils_2['ChildProcessUtils'][_0x4b5d01(0x1d2)]('cd\x20'+this['_repoPath']+_0x4b5d01(0x1a2)+_0x3bc5b5+'\x22','');}async[a149_0x55e8a3(0x1af)](_0x40139c){const _0x3266f9=a149_0x55e8a3;Git['logger'][_0x3266f9(0x195)](_0x3266f9(0x1ab),_0x40139c),await utils_2['ChildProcessUtils'][_0x3266f9(0x1d2)](_0x3266f9(0x1be)+this[_0x3266f9(0x1d4)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x40139c+'\x20--quiet','');}async['checkout'](_0xf7540e){const _0x4e34c2=a149_0x55e8a3;Git[_0x4e34c2(0x1b1)][_0x4e34c2(0x195)](_0x4e34c2(0x19a),_0xf7540e),await utils_2[_0x4e34c2(0x1c5)][_0x4e34c2(0x1d2)]('cd\x20'+this[_0x4e34c2(0x1d4)]+_0x4e34c2(0x1cd)+_0xf7540e,'');}async[a149_0x55e8a3(0x1b8)](){const _0x33a2c1=a149_0x55e8a3,_0x57b23d=await utils_2[_0x33a2c1(0x1c5)]['spawnPromise'](_0x33a2c1(0x1be)+this['_repoPath']+_0x33a2c1(0x1a7),'');return _0x57b23d[_0x33a2c1(0x1da)]('\x0a','');}async[a149_0x55e8a3(0x1a1)](_0x397de6){const _0x58ac73=a149_0x55e8a3;Git[_0x58ac73(0x1b1)][_0x58ac73(0x195)](_0x58ac73(0x196),_0x397de6);const _0x204622=await utils_2[_0x58ac73(0x1c5)]['spawnPromise']('cd\x20'+this['_repoPath']+_0x58ac73(0x197)+_0x397de6,'');return{'author':(0x0,internal_utils_1[_0x58ac73(0x1d0)])(_0x204622),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x204622),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x204622),'changes':(0x0,internal_utils_1[_0x58ac73(0x1c8)])(_0x204622)};}static async[a149_0x55e8a3(0x1a5)](_0xa0ea8f,_0x26b608){const _0x46512c=a149_0x55e8a3,[_0x35e5df]=await utils_2['ChildProcessUtils'][_0x46512c(0x1d2)](_0x46512c(0x1bd)+_0xa0ea8f+'\x20'+_0x26b608+_0x46512c(0x1c2),'')[_0x46512c(0x1c9)](_0x366b23=>_0x366b23['replace'](/\s/g,'\x20')[_0x46512c(0x1d6)]('\x20'));return _0x35e5df;}static async['clone'](_0x55c6d2,_0x25c732,_0x323edc){const _0x4d7cd5=a149_0x55e8a3,_0x43d5b7=path_1['default'][_0x4d7cd5(0x1c4)](this[_0x4d7cd5(0x1a6)],_0x25c732),_0x9d19bd=new Git(_0x43d5b7);return Git[_0x4d7cd5(0x1b1)][_0x4d7cd5(0x195)](_0x4d7cd5(0x1d3),_0x323edc,_0x43d5b7),await fs_internal_1['FS'][_0x4d7cd5(0x1a9)](_0x43d5b7),await utils_2[_0x4d7cd5(0x1c5)][_0x4d7cd5(0x1d2)](_0x4d7cd5(0x1b7)+_0x323edc+_0x4d7cd5(0x1aa)+_0x55c6d2+'\x20'+_0x43d5b7,''),_0x9d19bd;}static async[a149_0x55e8a3(0x19b)](_0x195398,_0xbc9640){const _0x3c326b=a149_0x55e8a3,_0x16e04b=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x56fb75=_0x195398[_0x3c326b(0x1d8)][_0x3c326b(0x1da)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x3c326b(0x1b6)])(_0x195398[_0x3c326b(0x1d8)])+_0x3c326b(0x1d1)+_0xbc9640['getGitShellAuthorizationString']()+'@'),_0x416b66=await utils_2['ChildProcessUtils']['spawnPromise'](_0x3c326b(0x1bd)+_0x56fb75,'');return _0x416b66[_0x3c326b(0x1d6)]('\x0a')['filter'](_0x1a9461=>_0x16e04b['test'](_0x1a9461))[_0x3c326b(0x1ad)](_0x325176=>{const _0x1f16ff=_0x3c326b,[,_0x1ca427,_0x34f102]=_0x325176[_0x1f16ff(0x1bc)](_0x16e04b),_0x2ce18f=new branch_dto_1[(_0x1f16ff(0x18d))]();return _0x2ce18f[_0x1f16ff(0x1b4)]=_0x1ca427,_0x2ce18f[_0x1f16ff(0x1b5)]=_0x34f102[_0x1f16ff(0x1da)](_0x1f16ff(0x1a8),''),_0x2ce18f;});}static async['createEmptyBranch'](_0x2827d6,_0x1adf53,_0x22aca3,_0x412412){const _0x3096b5=a149_0x55e8a3;var _0x2335b5,_0xf7804c;const _0x1f0637=_0x2827d6['gitUrl'][_0x3096b5(0x1da)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2827d6[_0x3096b5(0x1d8)])+_0x3096b5(0x1d1)+_0x412412[_0x3096b5(0x1cf)]()+'@'),_0x453806=path_1[_0x3096b5(0x1dc)]['join'](this[_0x3096b5(0x1a6)],_0x2827d6[_0x3096b5(0x1b5)]);Git[_0x3096b5(0x1b1)][_0x3096b5(0x195)](_0x3096b5(0x1a4),_0x2827d6[_0x3096b5(0x1b5)],_0x1adf53[_0x3096b5(0x1b5)],_0x453806),await fs_internal_1['FS']['removeDir'](_0x453806),await fs_internal_1['FS'][_0x3096b5(0x1a3)](_0x453806);const _0x24f043=new Git(_0x453806);await utils_2[_0x3096b5(0x1c5)][_0x3096b5(0x1d2)]('cd\x20'+_0x24f043[_0x3096b5(0x19d)]+_0x3096b5(0x1ac),''),await utils_2['ChildProcessUtils'][_0x3096b5(0x1d2)](_0x3096b5(0x1be)+_0x24f043[_0x3096b5(0x19d)]+_0x3096b5(0x1d9)+_0x1f0637,''),await _0x24f043[_0x3096b5(0x1b2)](((_0x2335b5=_0x1adf53[_0x3096b5(0x1c7)])===null||_0x2335b5===void 0x0?void 0x0:_0x2335b5['name'])||constants_1[_0x3096b5(0x1ae)],((_0xf7804c=_0x1adf53[_0x3096b5(0x1c7)])===null||_0xf7804c===void 0x0?void 0x0:_0xf7804c[_0x3096b5(0x192)])||constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2['ChildProcessUtils']['spawnPromise'](_0x3096b5(0x1be)+_0x24f043['baseDir']+_0x3096b5(0x1d7)+_0x1adf53[_0x3096b5(0x1b5)],''),await utils_2['ChildProcessUtils']['spawnPromise'](_0x3096b5(0x1be)+_0x24f043['baseDir']+_0x3096b5(0x1a2)+(_0x22aca3||constants_1[_0x3096b5(0x1c3)])+'\x22\x20--allow-empty',''),await _0x24f043[_0x3096b5(0x1af)](_0x1adf53[_0x3096b5(0x1b5)]),Git[_0x3096b5(0x1b1)][_0x3096b5(0x195)](_0x3096b5(0x1b9)),await fs_internal_1['FS'][_0x3096b5(0x1a9)](_0x24f043[_0x3096b5(0x19d)]);}}function a149_0x16d3(_0x590329,_0x1eab12){const _0x16adea=a149_0xf2f3();return a149_0x16d3=function(_0x4c8bde,_0x50317c){_0x4c8bde=_0x4c8bde-0x18b;let _0xf2f36b=_0x16adea[_0x4c8bde];return _0xf2f36b;},a149_0x16d3(_0x590329,_0x1eab12);}exports[a149_0x55e8a3(0x1b0)]=Git,Git[a149_0x55e8a3(0x1a6)]=path_1[a149_0x55e8a3(0x1dc)][a149_0x55e8a3(0x1c4)](process[a149_0x55e8a3(0x1bb)](),a149_0x55e8a3(0x1d5),a149_0x55e8a3(0x18b)),Git[a149_0x55e8a3(0x1b1)]=new core_1['Logger'](Git[a149_0x55e8a3(0x1b5)]);