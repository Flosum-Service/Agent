const a126_0x598f9d=a126_0xa37d;function a126_0xa37d(_0x11a38d,_0xe417de){const _0x12202b=a126_0x3de5();return a126_0xa37d=function(_0x55cb60,_0x4a9aa9){_0x55cb60=_0x55cb60-0xe8;let _0x3de509=_0x12202b[_0x55cb60];return _0x3de509;},a126_0xa37d(_0x11a38d,_0xe417de);}(function(_0x1af9ba,_0x3740b6){const _0x8b384e=a126_0xa37d,_0x1704b3=_0x1af9ba();while(!![]){try{const _0x11fa28=parseInt(_0x8b384e(0x112))/0x1*(-parseInt(_0x8b384e(0x10b))/0x2)+parseInt(_0x8b384e(0x10d))/0x3*(-parseInt(_0x8b384e(0xfc))/0x4)+-parseInt(_0x8b384e(0xef))/0x5*(parseInt(_0x8b384e(0x123))/0x6)+-parseInt(_0x8b384e(0xf6))/0x7+parseInt(_0x8b384e(0x12a))/0x8*(parseInt(_0x8b384e(0xf2))/0x9)+-parseInt(_0x8b384e(0x106))/0xa*(parseInt(_0x8b384e(0xfa))/0xb)+parseInt(_0x8b384e(0xf4))/0xc;if(_0x11fa28===_0x3740b6)break;else _0x1704b3['push'](_0x1704b3['shift']());}catch(_0x902365){_0x1704b3['push'](_0x1704b3['shift']());}}}(a126_0x3de5,0xa910e));const a126_0x4a9aa9=(function(){let _0x3b286a=!![];return function(_0x4a0bfa,_0x3f046e){const _0x2afb8e=_0x3b286a?function(){const _0x44aed8=a126_0xa37d;if(_0x3f046e){const _0x4d4093=_0x3f046e[_0x44aed8(0x11e)](_0x4a0bfa,arguments);return _0x3f046e=null,_0x4d4093;}}:function(){};return _0x3b286a=![],_0x2afb8e;};}()),a126_0x55cb60=a126_0x4a9aa9(this,function(){const _0x3a70be=a126_0xa37d;return a126_0x55cb60[_0x3a70be(0xfb)]()[_0x3a70be(0x108)]('(((.+)+)+)+$')['toString']()['constructor'](a126_0x55cb60)[_0x3a70be(0x108)](_0x3a70be(0x126));});function a126_0x3de5(){const _0x226e09=['name','then','13254494iydpzg','toString','196tnLmzs','spawnPromise','createEmptyBranch','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','logger','\x20&&\x20git\x20rev-parse\x20HEAD','describeCommit','DEFAULT_CLONE_PATH','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','getRepositoryBranches','10EPfVpQ','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','search','\x20&&\x20git\x20status','split','14GdIgJL','\x20&&\x20git\x20checkout\x20','2175bzYXAM','.temp','Git','git\x20ls-remote\x20','../../../core','178658ZRNBqi','./fs.internal','\x22\x20--allow-empty','setCredentials','clone','defineProperty','DEFAULT_GIT_USER_EMAIL','getRemoteHash','extractEmailFromCommitDescribe','removeDir','checkout','\x20&&\x20git\x20push\x20origin\x20','apply','cwd','\x20&&\x20git\x20init','commit\x20message\x20\x22%s\x22','../providers/branches/dto/branch.dto','5667258dAUSAh','\x20&&\x20git\x20commit\x20-m\x20\x22','default','(((.+)+)+)+$','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','://','baseDir','6355936yRhHIg','\x20&&\x20git\x20add\x20','\x20&&\x20git\x20checkout\x20--orphan\x20','join','Logger','_repoPath','../../../constants','./internal.utils','extractChangesFromCommitDescribe','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','add','\x20--single-branch\x20','__importDefault','log','\x20&&\x20git\x20remote\x20add\x20origin\x20','__esModule','push','map','extractMessageFromCommitDescribe','getProtocol','match','test','gitUrl','BranchDto','ChildProcessUtils','push\x20changes\x20to\x20%s','cd\x20','checkout\x20to\x20%s','commit','replace','INITIAL_COMMIT','5uUkkqt','extractAuthorFromCommitDescribe','git','9rukFoa','path','45026988XPXUOC','../../shared/utils','2930333tbMpLW','clone\x20repository\x20branch\x20%s\x20to\x20%s'];a126_0x3de5=function(){return _0x226e09;};return a126_0x3de5();}a126_0x55cb60();'use strict';var __importDefault=this&&this[a126_0x598f9d(0x136)]||function(_0x371c44){return _0x371c44&&_0x371c44['__esModule']?_0x371c44:{'default':_0x371c44};};Object[a126_0x598f9d(0x117)](exports,a126_0x598f9d(0x139),{'value':!![]}),exports[a126_0x598f9d(0x10f)]=void 0x0;const constants_1=require(a126_0x598f9d(0x130)),core_1=require(a126_0x598f9d(0x111)),path_1=__importDefault(require(a126_0x598f9d(0xf3))),branch_dto_1=require(a126_0x598f9d(0x122)),utils_1=require(a126_0x598f9d(0xf5)),fs_internal_1=require(a126_0x598f9d(0x113)),internal_utils_1=require(a126_0x598f9d(0x131)),utils_2=require('@flosum/utils');class Git{constructor(_0x27d4ab){const _0x14e3bf=a126_0x598f9d;this[_0x14e3bf(0x12f)]=_0x27d4ab;}get[a126_0x598f9d(0x129)](){const _0x854128=a126_0x598f9d;return this[_0x854128(0x12f)];}async[a126_0x598f9d(0x115)](_0x3b2019,_0x1181ab){const _0x250730=a126_0x598f9d;await utils_2[_0x250730(0xe8)][_0x250730(0xfd)](_0x250730(0xea)+this[_0x250730(0x12f)]+_0x250730(0x133)+_0x3b2019+_0x250730(0xff)+_0x1181ab+'\x22','');}async[a126_0x598f9d(0x134)](..._0x973836){const _0x4870e3=a126_0x598f9d;await utils_2['ChildProcessUtils'][_0x4870e3(0xfd)]('cd\x20'+this[_0x4870e3(0x12f)]+_0x4870e3(0x12b)+_0x973836[_0x4870e3(0x12d)]('\x20'),'');}async['status'](){const _0x59709a=a126_0x598f9d;return utils_2[_0x59709a(0xe8)]['spawnPromise'](_0x59709a(0xea)+this[_0x59709a(0x12f)]+_0x59709a(0x109),'');}async[a126_0x598f9d(0xec)](_0x194033){const _0x1bfb66=a126_0x598f9d;Git[_0x1bfb66(0x100)][_0x1bfb66(0x137)](_0x1bfb66(0x121),_0x194033),await utils_2[_0x1bfb66(0xe8)][_0x1bfb66(0xfd)](_0x1bfb66(0xea)+this['_repoPath']+_0x1bfb66(0x124)+_0x194033+'\x22','');}async[a126_0x598f9d(0x13a)](_0x426d6e){const _0xbc2549=a126_0x598f9d;Git[_0xbc2549(0x100)][_0xbc2549(0x137)](_0xbc2549(0xe9),_0x426d6e),await utils_2[_0xbc2549(0xe8)][_0xbc2549(0xfd)](_0xbc2549(0xea)+this[_0xbc2549(0x12f)]+_0xbc2549(0x11d)+_0x426d6e+'\x20--quiet','');}async[a126_0x598f9d(0x11c)](_0x1f9c5b){const _0x37e9ae=a126_0x598f9d;Git[_0x37e9ae(0x100)][_0x37e9ae(0x137)](_0x37e9ae(0xeb),_0x1f9c5b),await utils_2[_0x37e9ae(0xe8)][_0x37e9ae(0xfd)](_0x37e9ae(0xea)+this['_repoPath']+_0x37e9ae(0x10c)+_0x1f9c5b,'');}async['getCurrentHash'](){const _0x5c5065=a126_0x598f9d,_0x11f9cb=await utils_2[_0x5c5065(0xe8)][_0x5c5065(0xfd)](_0x5c5065(0xea)+this['_repoPath']+_0x5c5065(0x101),'');return _0x11f9cb['replace']('\x0a','');}async[a126_0x598f9d(0x102)](_0x189afc){const _0x2d407a=a126_0x598f9d;Git[_0x2d407a(0x100)][_0x2d407a(0x137)]('describe\x20commit\x20%s',_0x189afc);const _0x4b2969=await utils_2[_0x2d407a(0xe8)][_0x2d407a(0xfd)](_0x2d407a(0xea)+this[_0x2d407a(0x12f)]+_0x2d407a(0x107)+_0x189afc,'');return{'author':(0x0,internal_utils_1[_0x2d407a(0xf0)])(_0x4b2969),'email':(0x0,internal_utils_1[_0x2d407a(0x11a)])(_0x4b2969),'message':(0x0,internal_utils_1[_0x2d407a(0x13c)])(_0x4b2969),'changes':(0x0,internal_utils_1[_0x2d407a(0x132)])(_0x4b2969)};}static async[a126_0x598f9d(0x119)](_0x434330,_0x257a92){const _0x23da9a=a126_0x598f9d,[_0x324f2b]=await utils_2[_0x23da9a(0xe8)]['spawnPromise'](_0x23da9a(0x110)+_0x434330+'\x20'+_0x257a92+'\x20--refs','')[_0x23da9a(0xf9)](_0x2762cf=>_0x2762cf[_0x23da9a(0xed)](/\s/g,'\x20')['split']('\x20'));return _0x324f2b;}static async[a126_0x598f9d(0x116)](_0x252fb3,_0x4fe560,_0x52b753){const _0x4f51fd=a126_0x598f9d,_0x2eb19b=path_1[_0x4f51fd(0x125)][_0x4f51fd(0x12d)](this['DEFAULT_CLONE_PATH'],_0x4fe560),_0x1a5dc7=new Git(_0x2eb19b);return Git['logger'][_0x4f51fd(0x137)](_0x4f51fd(0xf7),_0x52b753,_0x2eb19b),await fs_internal_1['FS']['removeDir'](_0x2eb19b),await utils_2['ChildProcessUtils']['spawnPromise']('git\x20clone\x20-b\x20'+_0x52b753+_0x4f51fd(0x135)+_0x252fb3+'\x20'+_0x2eb19b,''),_0x1a5dc7;}static async[a126_0x598f9d(0x105)](_0xa10a50,_0x1c1f90){const _0x4e33c8=a126_0x598f9d,_0x2f032f=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x1f024e=_0xa10a50[_0x4e33c8(0x140)][_0x4e33c8(0xed)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0xa10a50['gitUrl'])+'://'+_0x1c1f90['getGitShellAuthorizationString']()+'@'),_0x4021b3=await utils_2['ChildProcessUtils']['spawnPromise']('git\x20ls-remote\x20'+_0x1f024e,'');return _0x4021b3[_0x4e33c8(0x10a)]('\x0a')['filter'](_0x36336f=>_0x2f032f[_0x4e33c8(0x13f)](_0x36336f))[_0x4e33c8(0x13b)](_0x498afd=>{const _0x1487d3=_0x4e33c8,[,_0x3e8940,_0x298bcf]=_0x498afd[_0x1487d3(0x13e)](_0x2f032f),_0x579a87=new branch_dto_1[(_0x1487d3(0x141))]();return _0x579a87['sha']=_0x3e8940,_0x579a87[_0x1487d3(0xf8)]=_0x298bcf[_0x1487d3(0xed)]('refs/heads/',''),_0x579a87;});}static async[a126_0x598f9d(0xfe)](_0x238791,_0x516381,_0x24b218,_0x4392fe){const _0x9b6a5f=a126_0x598f9d,_0x132454=_0x238791[_0x9b6a5f(0x140)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x9b6a5f(0x13d)])(_0x238791[_0x9b6a5f(0x140)])+_0x9b6a5f(0x128)+_0x4392fe['getGitShellAuthorizationString']()+'@'),_0x2a674f=path_1[_0x9b6a5f(0x125)]['join'](this[_0x9b6a5f(0x103)],_0x238791[_0x9b6a5f(0xf8)]);Git['logger'][_0x9b6a5f(0x137)](_0x9b6a5f(0x104),_0x238791[_0x9b6a5f(0xf8)],_0x516381,_0x2a674f),await fs_internal_1['FS'][_0x9b6a5f(0x11b)](_0x2a674f),await fs_internal_1['FS']['makeDir'](_0x2a674f);const _0x31bfa0=new Git(_0x2a674f);await utils_2[_0x9b6a5f(0xe8)][_0x9b6a5f(0xfd)](_0x9b6a5f(0xea)+_0x31bfa0[_0x9b6a5f(0x129)]+_0x9b6a5f(0x120),''),await utils_2[_0x9b6a5f(0xe8)]['spawnPromise']('cd\x20'+_0x31bfa0[_0x9b6a5f(0x129)]+_0x9b6a5f(0x138)+_0x132454,''),await _0x31bfa0[_0x9b6a5f(0x115)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x9b6a5f(0x118)]),await utils_2[_0x9b6a5f(0xe8)][_0x9b6a5f(0xfd)]('cd\x20'+_0x31bfa0['baseDir']+_0x9b6a5f(0x12c)+_0x516381,''),await utils_2['ChildProcessUtils'][_0x9b6a5f(0xfd)](_0x9b6a5f(0xea)+_0x31bfa0[_0x9b6a5f(0x129)]+_0x9b6a5f(0x124)+(_0x24b218||constants_1[_0x9b6a5f(0xee)])+_0x9b6a5f(0x114),''),await _0x31bfa0['push'](_0x516381),Git[_0x9b6a5f(0x100)][_0x9b6a5f(0x137)](_0x9b6a5f(0x127)),await fs_internal_1['FS'][_0x9b6a5f(0x11b)](_0x31bfa0['baseDir']);}}exports[a126_0x598f9d(0x10f)]=Git,Git[a126_0x598f9d(0x103)]=path_1['default'][a126_0x598f9d(0x12d)](process[a126_0x598f9d(0x11f)](),a126_0x598f9d(0x10e),a126_0x598f9d(0xf1)),Git[a126_0x598f9d(0x100)]=new core_1[(a126_0x598f9d(0x12e))](Git[a126_0x598f9d(0xf8)]);