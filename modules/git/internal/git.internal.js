const a146_0xe68093=a146_0x433c;function a146_0xa138(){const _0x21b428=['\x20&&\x20git\x20status','Commit\x20message\x20\x22%s\x22','match','ChildProcessUtils','cwd','commit','clone','17811666UMLdoe','\x20--single-branch\x20','600540LgRDCn','11160OyXRIf','\x20&&\x20git\x20add\x20','default','4161760KGJBGX','spawnPromise','extractEmailFromCommitDescribe','baseDir','removeDir','\x20&&\x20git\x20push\x20origin\x20','../../../core','./fs.internal','filter','join','276864MNrnVj','4809532fdfokY','DEFAULT_GIT_USER_EMAIL','getRepositoryBranches','cd\x20','createEmptyBranch','\x20&&\x20git\x20remote\x20add\x20origin\x20','BranchDto','git\x20ls-remote\x20','defineProperty','__esModule','../providers/branches/dto/branch.dto','search','DEFAULT_CLONE_PATH','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','DEFAULT_GIT_USER_NAME','log','Clone\x20repository\x20branch\x20%s\x20to\x20%s','getCurrentHash','://','add','Push\x20changes\x20to\x20%s','gitUrl','(((.+)+)+)+$','status','12svJlUG','push','extractAuthorFromCommitDescribe','sha','extractMessageFromCommitDescribe','./internal.utils','\x22\x20--allow-empty','.temp','apply','Checkout\x20to\x20%s','\x20&&\x20git\x20rev-parse\x20HEAD','refs/heads/','21PpfXzN','Describe\x20commit\x20%s','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','_repoPath','__importDefault','map','replace','path','test','git\x20clone\x20-b\x20','@flosum/utils','getGitShellAuthorizationString','\x20--quiet','382260uuEQrL','Git','name','\x20&&\x20git\x20commit\x20-m\x20\x22','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','getRemoteHash','logger','\x20&&\x20git\x20checkout\x20','then','\x20&&\x20git\x20checkout\x20--orphan\x20'];a146_0xa138=function(){return _0x21b428;};return a146_0xa138();}(function(_0x2a7272,_0x318920){const _0x475ebb=a146_0x433c,_0x519cc4=_0x2a7272();while(!![]){try{const _0x3152b6=-parseInt(_0x475ebb(0x132))/0x1+-parseInt(_0x475ebb(0x125))/0x2+parseInt(_0x475ebb(0x157))/0x3*(-parseInt(_0x475ebb(0x164))/0x4)+parseInt(_0x475ebb(0x124))/0x5*(-parseInt(_0x475ebb(0x14b))/0x6)+-parseInt(_0x475ebb(0x133))/0x7+parseInt(_0x475ebb(0x128))/0x8+parseInt(_0x475ebb(0x122))/0x9;if(_0x3152b6===_0x318920)break;else _0x519cc4['push'](_0x519cc4['shift']());}catch(_0x211e50){_0x519cc4['push'](_0x519cc4['shift']());}}}(a146_0xa138,0x9783b));const a146_0x4f1b4c=(function(){let _0x10f7ff=!![];return function(_0x5e4ea3,_0x371d99){const _0x1a7901=_0x10f7ff?function(){const _0x3458aa=a146_0x433c;if(_0x371d99){const _0x12a645=_0x371d99[_0x3458aa(0x153)](_0x5e4ea3,arguments);return _0x371d99=null,_0x12a645;}}:function(){};return _0x10f7ff=![],_0x1a7901;};}()),a146_0x3972e1=a146_0x4f1b4c(this,function(){const _0x127c92=a146_0x433c;return a146_0x3972e1['toString']()[_0x127c92(0x13e)](_0x127c92(0x149))['toString']()['constructor'](a146_0x3972e1)['search']('(((.+)+)+)+$');});a146_0x3972e1();function a146_0x433c(_0x662f91,_0x399dea){const _0x11d972=a146_0xa138();return a146_0x433c=function(_0x3972e1,_0x4f1b4c){_0x3972e1=_0x3972e1-0x11f;let _0xa1387c=_0x11d972[_0x3972e1];return _0xa1387c;},a146_0x433c(_0x662f91,_0x399dea);}'use strict';var __importDefault=this&&this[a146_0xe68093(0x15b)]||function(_0x2965ef){return _0x2965ef&&_0x2965ef['__esModule']?_0x2965ef:{'default':_0x2965ef};};Object[a146_0xe68093(0x13b)](exports,a146_0xe68093(0x13c),{'value':!![]}),exports[a146_0xe68093(0x165)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a146_0xe68093(0x12e)),path_1=__importDefault(require(a146_0xe68093(0x15e))),branch_dto_1=require(a146_0xe68093(0x13d)),utils_1=require('../../shared/utils'),fs_internal_1=require(a146_0xe68093(0x12f)),internal_utils_1=require(a146_0xe68093(0x150)),utils_2=require(a146_0xe68093(0x161));class Git{constructor(_0x1241e2){const _0x24fd83=a146_0xe68093;this[_0x24fd83(0x15a)]=_0x1241e2;}get[a146_0xe68093(0x12b)](){const _0x2e8e2e=a146_0xe68093;return this[_0x2e8e2e(0x15a)];}async['setCredentials'](_0x426a5f,_0x4f0d28){const _0x5dc36a=a146_0xe68093;await utils_2['ChildProcessUtils'][_0x5dc36a(0x129)](_0x5dc36a(0x136)+this[_0x5dc36a(0x15a)]+_0x5dc36a(0x169)+_0x426a5f+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x4f0d28+'\x22','');}async[a146_0xe68093(0x146)](..._0x5be57a){const _0x3356b5=a146_0xe68093;await utils_2['ChildProcessUtils']['spawnPromise'](_0x3356b5(0x136)+this[_0x3356b5(0x15a)]+_0x3356b5(0x126)+_0x5be57a[_0x3356b5(0x131)]('\x20'),'');}async[a146_0xe68093(0x14a)](){const _0x25364a=a146_0xe68093;return utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+this[_0x25364a(0x15a)]+_0x25364a(0x16f),'');}async[a146_0xe68093(0x120)](_0xb52d84){const _0x181fe5=a146_0xe68093;Git['logger'][_0x181fe5(0x142)](_0x181fe5(0x170),_0xb52d84),await utils_2[_0x181fe5(0x172)][_0x181fe5(0x129)](_0x181fe5(0x136)+this[_0x181fe5(0x15a)]+_0x181fe5(0x167)+_0xb52d84+'\x22','');}async[a146_0xe68093(0x14c)](_0x151565){const _0x2d9534=a146_0xe68093;Git[_0x2d9534(0x16b)][_0x2d9534(0x142)](_0x2d9534(0x147),_0x151565),await utils_2[_0x2d9534(0x172)]['spawnPromise'](_0x2d9534(0x136)+this['_repoPath']+_0x2d9534(0x12d)+_0x151565+_0x2d9534(0x163),'');}async['checkout'](_0x4d24e7){const _0x287325=a146_0xe68093;Git[_0x287325(0x16b)][_0x287325(0x142)](_0x287325(0x154),_0x4d24e7),await utils_2[_0x287325(0x172)][_0x287325(0x129)](_0x287325(0x136)+this[_0x287325(0x15a)]+_0x287325(0x16c)+_0x4d24e7,'');}async[a146_0xe68093(0x144)](){const _0x42f958=a146_0xe68093,_0xcefd0b=await utils_2[_0x42f958(0x172)][_0x42f958(0x129)](_0x42f958(0x136)+this['_repoPath']+_0x42f958(0x155),'');return _0xcefd0b['replace']('\x0a','');}async['describeCommit'](_0x2539ca){const _0x34d9cc=a146_0xe68093;Git[_0x34d9cc(0x16b)]['log'](_0x34d9cc(0x158),_0x2539ca);const _0x2b7c21=await utils_2[_0x34d9cc(0x172)][_0x34d9cc(0x129)](_0x34d9cc(0x136)+this[_0x34d9cc(0x15a)]+_0x34d9cc(0x159)+_0x2539ca,'');return{'author':(0x0,internal_utils_1[_0x34d9cc(0x14d)])(_0x2b7c21),'email':(0x0,internal_utils_1[_0x34d9cc(0x12a)])(_0x2b7c21),'message':(0x0,internal_utils_1[_0x34d9cc(0x14f)])(_0x2b7c21),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x2b7c21)};}static async[a146_0xe68093(0x16a)](_0x479c06,_0x50ae0c){const _0x1553ef=a146_0xe68093,[_0x2316c6]=await utils_2['ChildProcessUtils'][_0x1553ef(0x129)](_0x1553ef(0x13a)+_0x479c06+'\x20'+_0x50ae0c+'\x20--refs','')[_0x1553ef(0x16d)](_0x1a2f23=>_0x1a2f23[_0x1553ef(0x15d)](/\s/g,'\x20')['split']('\x20'));return _0x2316c6;}static async[a146_0xe68093(0x121)](_0x1c2b66,_0x336672,_0x5a6570){const _0x92a574=a146_0xe68093,_0xb4439d=path_1[_0x92a574(0x127)][_0x92a574(0x131)](this[_0x92a574(0x13f)],_0x336672),_0x23337a=new Git(_0xb4439d);return Git[_0x92a574(0x16b)][_0x92a574(0x142)](_0x92a574(0x143),_0x5a6570,_0xb4439d),await fs_internal_1['FS'][_0x92a574(0x12c)](_0xb4439d),await utils_2[_0x92a574(0x172)]['spawnPromise'](_0x92a574(0x160)+_0x5a6570+_0x92a574(0x123)+_0x1c2b66+'\x20'+_0xb4439d,''),_0x23337a;}static async[a146_0xe68093(0x135)](_0x249b33,_0x4efb5e){const _0x5e3f02=a146_0xe68093,_0x3acafa=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x1c8a5e=_0x249b33[_0x5e3f02(0x148)][_0x5e3f02(0x15d)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x249b33['gitUrl'])+'://'+_0x4efb5e[_0x5e3f02(0x162)]()+'@'),_0x48edc6=await utils_2[_0x5e3f02(0x172)]['spawnPromise'](_0x5e3f02(0x13a)+_0x1c8a5e,'');return _0x48edc6['split']('\x0a')[_0x5e3f02(0x130)](_0xe19c2f=>_0x3acafa[_0x5e3f02(0x15f)](_0xe19c2f))[_0x5e3f02(0x15c)](_0x30fba5=>{const _0xcf54cb=_0x5e3f02,[,_0x4408a3,_0x4c59e8]=_0x30fba5[_0xcf54cb(0x171)](_0x3acafa),_0x43bb8e=new branch_dto_1[(_0xcf54cb(0x139))]();return _0x43bb8e[_0xcf54cb(0x14e)]=_0x4408a3,_0x43bb8e[_0xcf54cb(0x166)]=_0x4c59e8[_0xcf54cb(0x15d)](_0xcf54cb(0x156),''),_0x43bb8e;});}static async[a146_0xe68093(0x137)](_0x4a0bdb,_0x3afc24,_0x4f0989,_0xe95f9f){const _0x4b5099=a146_0xe68093,_0x3dd35f=_0x4a0bdb[_0x4b5099(0x148)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x4a0bdb[_0x4b5099(0x148)])+_0x4b5099(0x145)+_0xe95f9f[_0x4b5099(0x162)]()+'@'),_0xcaae58=path_1[_0x4b5099(0x127)][_0x4b5099(0x131)](this[_0x4b5099(0x13f)],_0x4a0bdb['name']);Git[_0x4b5099(0x16b)]['log'](_0x4b5099(0x140),_0x4a0bdb[_0x4b5099(0x166)],_0x3afc24,_0xcaae58),await fs_internal_1['FS']['removeDir'](_0xcaae58),await fs_internal_1['FS']['makeDir'](_0xcaae58);const _0x568149=new Git(_0xcaae58);await utils_2[_0x4b5099(0x172)][_0x4b5099(0x129)](_0x4b5099(0x136)+_0x568149[_0x4b5099(0x12b)]+'\x20&&\x20git\x20init',''),await utils_2[_0x4b5099(0x172)]['spawnPromise'](_0x4b5099(0x136)+_0x568149[_0x4b5099(0x12b)]+_0x4b5099(0x138)+_0x3dd35f,''),await _0x568149['setCredentials'](constants_1[_0x4b5099(0x141)],constants_1[_0x4b5099(0x134)]),await utils_2[_0x4b5099(0x172)][_0x4b5099(0x129)](_0x4b5099(0x136)+_0x568149[_0x4b5099(0x12b)]+_0x4b5099(0x16e)+_0x3afc24,''),await utils_2[_0x4b5099(0x172)]['spawnPromise'](_0x4b5099(0x136)+_0x568149['baseDir']+_0x4b5099(0x167)+(_0x4f0989||constants_1['INITIAL_COMMIT'])+_0x4b5099(0x151),''),await _0x568149[_0x4b5099(0x14c)](_0x3afc24),Git[_0x4b5099(0x16b)]['log'](_0x4b5099(0x168)),await fs_internal_1['FS']['removeDir'](_0x568149['baseDir']);}}exports[a146_0xe68093(0x165)]=Git,Git[a146_0xe68093(0x13f)]=path_1[a146_0xe68093(0x127)][a146_0xe68093(0x131)](process[a146_0xe68093(0x11f)](),a146_0xe68093(0x152),'git'),Git['logger']=new core_1['Logger'](Git['name']);