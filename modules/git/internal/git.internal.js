const a130_0x25fcca=a130_0x5f4b;(function(_0x290f19,_0x1bdd9c){const _0x1bb476=a130_0x5f4b,_0xcbaef8=_0x290f19();while(!![]){try{const _0x6c37ae=-parseInt(_0x1bb476(0xc2))/0x1*(-parseInt(_0x1bb476(0xa7))/0x2)+-parseInt(_0x1bb476(0x92))/0x3+-parseInt(_0x1bb476(0x72))/0x4*(parseInt(_0x1bb476(0x8a))/0x5)+-parseInt(_0x1bb476(0x96))/0x6+-parseInt(_0x1bb476(0xa2))/0x7+-parseInt(_0x1bb476(0x73))/0x8*(parseInt(_0x1bb476(0xbe))/0x9)+parseInt(_0x1bb476(0x8f))/0xa*(parseInt(_0x1bb476(0x94))/0xb);if(_0x6c37ae===_0x1bdd9c)break;else _0xcbaef8['push'](_0xcbaef8['shift']());}catch(_0x2139e5){_0xcbaef8['push'](_0xcbaef8['shift']());}}}(a130_0x1240,0x1d764));function a130_0x1240(){const _0x25ad6f=['git\x20clone\x20-b\x20','sha','371061qfscUB','map','1912229LYWVMK','spawnPromise','1260390xpIIYB','git\x20ls-remote\x20','describeCommit','\x20&&\x20git\x20status','replace','ChildProcessUtils','name','DEFAULT_GIT_USER_EMAIL','getProtocol','checkout','\x20&&\x20git\x20push\x20origin\x20','toString','1460144iyOysQ','__importDefault','default','setCredentials','getRemoteHash','746JBzclf','baseDir','\x20&&\x20git\x20checkout\x20','cd\x20','cwd','\x20&&\x20git\x20rev-parse\x20HEAD','\x22\x20--allow-empty','Commit\x20message\x20\x22%s\x22','../../../constants','join','Logger','then','log','Clone\x20repository\x20branch\x20%s\x20to\x20%s','search','add','Push\x20changes\x20to\x20%s','status','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','../providers/branches/dto/branch.dto','\x20&&\x20git\x20remote\x20add\x20origin\x20','Checkout\x20to\x20%s','removeDir','400563qLJzLX','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','DEFAULT_GIT_USER_NAME','../../../core','119YwpyKl','apply','path','extractChangesFromCommitDescribe','getCurrentHash','../../shared/utils','468164uarnlJ','24lFkeDb','DEFAULT_CLONE_PATH','match','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','logger','\x20&&\x20git\x20init','constructor','__esModule','\x20--quiet','.temp','git','://','\x20--refs','Git','getRepositoryBranches','INITIAL_COMMIT','push','clone','_repoPath','\x20&&\x20git\x20commit\x20-m\x20\x22','getGitShellAuthorizationString','\x20&&\x20git\x20add\x20','test','5LHsWzR','extractMessageFromCommitDescribe','gitUrl','./internal.utils','split','50dPxRqo'];a130_0x1240=function(){return _0x25ad6f;};return a130_0x1240();}function a130_0x5f4b(_0xa4ae46,_0x4f9445){const _0x37f0e9=a130_0x1240();return a130_0x5f4b=function(_0x179802,_0x4014e5){_0x179802=_0x179802-0x6e;let _0x1240c6=_0x37f0e9[_0x179802];return _0x1240c6;},a130_0x5f4b(_0xa4ae46,_0x4f9445);}const a130_0x4014e5=(function(){let _0x359e77=!![];return function(_0x181f65,_0x30c0f6){const _0x419a9c=_0x359e77?function(){const _0x1ffbf7=a130_0x5f4b;if(_0x30c0f6){const _0x14cfe7=_0x30c0f6[_0x1ffbf7(0xc3)](_0x181f65,arguments);return _0x30c0f6=null,_0x14cfe7;}}:function(){};return _0x359e77=![],_0x419a9c;};}()),a130_0x179802=a130_0x4014e5(this,function(){const _0x4c980a=a130_0x5f4b;return a130_0x179802[_0x4c980a(0xa1)]()['search']('(((.+)+)+)+$')[_0x4c980a(0xa1)]()[_0x4c980a(0x79)](a130_0x179802)[_0x4c980a(0xb5)]('(((.+)+)+)+$');});a130_0x179802();'use strict';var __importDefault=this&&this[a130_0x25fcca(0xa3)]||function(_0x483308){const _0x265002=a130_0x25fcca;return _0x483308&&_0x483308[_0x265002(0x7a)]?_0x483308:{'default':_0x483308};};Object['defineProperty'](exports,a130_0x25fcca(0x7a),{'value':!![]}),exports[a130_0x25fcca(0x80)]=void 0x0;const constants_1=require(a130_0x25fcca(0xaf)),core_1=require(a130_0x25fcca(0xc1)),path_1=__importDefault(require(a130_0x25fcca(0x6e))),branch_dto_1=require(a130_0x25fcca(0xba)),utils_1=require(a130_0x25fcca(0x71)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a130_0x25fcca(0x8d)),utils_2=require('@flosum/utils');class Git{constructor(_0x53f0f2){const _0x163d85=a130_0x25fcca;this[_0x163d85(0x85)]=_0x53f0f2;}get[a130_0x25fcca(0xa8)](){const _0x47821f=a130_0x25fcca;return this[_0x47821f(0x85)];}async[a130_0x25fcca(0xa5)](_0x475a92,_0x2de39f){const _0x14fa37=a130_0x25fcca;await utils_2[_0x14fa37(0x9b)][_0x14fa37(0x95)]('cd\x20'+this[_0x14fa37(0x85)]+_0x14fa37(0xbf)+_0x475a92+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x2de39f+'\x22','');}async[a130_0x25fcca(0xb6)](..._0x3f151a){const _0x467ba4=a130_0x25fcca;await utils_2[_0x467ba4(0x9b)][_0x467ba4(0x95)](_0x467ba4(0xaa)+this[_0x467ba4(0x85)]+_0x467ba4(0x88)+_0x3f151a[_0x467ba4(0xb0)]('\x20'),'');}async[a130_0x25fcca(0xb8)](){const _0x38bba1=a130_0x25fcca;return utils_2[_0x38bba1(0x9b)][_0x38bba1(0x95)](_0x38bba1(0xaa)+this[_0x38bba1(0x85)]+_0x38bba1(0x99),'');}async['commit'](_0x487b5a){const _0x45d20a=a130_0x25fcca;Git[_0x45d20a(0x77)][_0x45d20a(0xb3)](_0x45d20a(0xae),_0x487b5a),await utils_2[_0x45d20a(0x9b)][_0x45d20a(0x95)](_0x45d20a(0xaa)+this[_0x45d20a(0x85)]+_0x45d20a(0x86)+_0x487b5a+'\x22','');}async[a130_0x25fcca(0x83)](_0x11748a){const _0x35858f=a130_0x25fcca;Git[_0x35858f(0x77)][_0x35858f(0xb3)](_0x35858f(0xb7),_0x11748a),await utils_2['ChildProcessUtils'][_0x35858f(0x95)]('cd\x20'+this[_0x35858f(0x85)]+_0x35858f(0xa0)+_0x11748a+_0x35858f(0x7b),'');}async[a130_0x25fcca(0x9f)](_0x19acac){const _0x2a735e=a130_0x25fcca;Git[_0x2a735e(0x77)][_0x2a735e(0xb3)](_0x2a735e(0xbc),_0x19acac),await utils_2[_0x2a735e(0x9b)][_0x2a735e(0x95)](_0x2a735e(0xaa)+this[_0x2a735e(0x85)]+_0x2a735e(0xa9)+_0x19acac,'');}async[a130_0x25fcca(0x70)](){const _0x3a6bf3=a130_0x25fcca,_0x26bd50=await utils_2[_0x3a6bf3(0x9b)]['spawnPromise']('cd\x20'+this[_0x3a6bf3(0x85)]+_0x3a6bf3(0xac),'');return _0x26bd50[_0x3a6bf3(0x9a)]('\x0a','');}async[a130_0x25fcca(0x98)](_0x491dc6){const _0x4bf44=a130_0x25fcca;Git[_0x4bf44(0x77)][_0x4bf44(0xb3)]('Describe\x20commit\x20%s',_0x491dc6);const _0x12dc2f=await utils_2['ChildProcessUtils'][_0x4bf44(0x95)](_0x4bf44(0xaa)+this[_0x4bf44(0x85)]+_0x4bf44(0x76)+_0x491dc6,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x12dc2f),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x12dc2f),'message':(0x0,internal_utils_1[_0x4bf44(0x8b)])(_0x12dc2f),'changes':(0x0,internal_utils_1[_0x4bf44(0x6f)])(_0x12dc2f)};}static async[a130_0x25fcca(0xa6)](_0x1aa6d7,_0x711ae9){const _0xbbe933=a130_0x25fcca,[_0x14fa1d]=await utils_2[_0xbbe933(0x9b)][_0xbbe933(0x95)](_0xbbe933(0x97)+_0x1aa6d7+'\x20'+_0x711ae9+_0xbbe933(0x7f),'')[_0xbbe933(0xb2)](_0x5813d2=>_0x5813d2[_0xbbe933(0x9a)](/\s/g,'\x20')[_0xbbe933(0x8e)]('\x20'));return _0x14fa1d;}static async[a130_0x25fcca(0x84)](_0xbd9433,_0x3383fe,_0x273508){const _0x35925d=a130_0x25fcca,_0x48fb6e=path_1[_0x35925d(0xa4)]['join'](this[_0x35925d(0x74)],_0x3383fe),_0x3248ca=new Git(_0x48fb6e);return Git[_0x35925d(0x77)][_0x35925d(0xb3)](_0x35925d(0xb4),_0x273508,_0x48fb6e),await fs_internal_1['FS'][_0x35925d(0xbd)](_0x48fb6e),await utils_2[_0x35925d(0x9b)][_0x35925d(0x95)](_0x35925d(0x90)+_0x273508+'\x20--single-branch\x20'+_0xbd9433+'\x20'+_0x48fb6e,''),_0x3248ca;}static async[a130_0x25fcca(0x81)](_0x4f32ec,_0x34b3d8){const _0x49cf16=a130_0x25fcca,_0x34d752=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x487040=_0x4f32ec[_0x49cf16(0x8c)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x49cf16(0x9e)])(_0x4f32ec[_0x49cf16(0x8c)])+_0x49cf16(0x7e)+_0x34b3d8[_0x49cf16(0x87)]()+'@'),_0x480948=await utils_2[_0x49cf16(0x9b)][_0x49cf16(0x95)](_0x49cf16(0x97)+_0x487040,'');return _0x480948['split']('\x0a')['filter'](_0x24fd78=>_0x34d752[_0x49cf16(0x89)](_0x24fd78))[_0x49cf16(0x93)](_0x59b028=>{const _0x4e85e6=_0x49cf16,[,_0x509af4,_0x2a1c28]=_0x59b028[_0x4e85e6(0x75)](_0x34d752),_0x1ceb34=new branch_dto_1['BranchDto']();return _0x1ceb34[_0x4e85e6(0x91)]=_0x509af4,_0x1ceb34[_0x4e85e6(0x9c)]=_0x2a1c28[_0x4e85e6(0x9a)]('refs/heads/',''),_0x1ceb34;});}static async['createEmptyBranch'](_0x33791d,_0x37a5e0,_0x43b102,_0x432d49){const _0x118b3f=a130_0x25fcca,_0x22461a=_0x33791d[_0x118b3f(0x8c)][_0x118b3f(0x9a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x118b3f(0x9e)])(_0x33791d[_0x118b3f(0x8c)])+_0x118b3f(0x7e)+_0x432d49[_0x118b3f(0x87)]()+'@'),_0x9bdac3=path_1['default']['join'](this[_0x118b3f(0x74)],_0x33791d[_0x118b3f(0x9c)]);Git[_0x118b3f(0x77)]['log']('Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x33791d[_0x118b3f(0x9c)],_0x37a5e0,_0x9bdac3),await fs_internal_1['FS']['removeDir'](_0x9bdac3),await fs_internal_1['FS']['makeDir'](_0x9bdac3);const _0x1f8952=new Git(_0x9bdac3);await utils_2[_0x118b3f(0x9b)][_0x118b3f(0x95)]('cd\x20'+_0x1f8952[_0x118b3f(0xa8)]+_0x118b3f(0x78),''),await utils_2[_0x118b3f(0x9b)][_0x118b3f(0x95)]('cd\x20'+_0x1f8952[_0x118b3f(0xa8)]+_0x118b3f(0xbb)+_0x22461a,''),await _0x1f8952[_0x118b3f(0xa5)](constants_1[_0x118b3f(0xc0)],constants_1[_0x118b3f(0x9d)]),await utils_2[_0x118b3f(0x9b)][_0x118b3f(0x95)](_0x118b3f(0xaa)+_0x1f8952['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x37a5e0,''),await utils_2[_0x118b3f(0x9b)][_0x118b3f(0x95)](_0x118b3f(0xaa)+_0x1f8952[_0x118b3f(0xa8)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x43b102||constants_1[_0x118b3f(0x82)])+_0x118b3f(0xad),''),await _0x1f8952[_0x118b3f(0x83)](_0x37a5e0),Git[_0x118b3f(0x77)][_0x118b3f(0xb3)](_0x118b3f(0xb9)),await fs_internal_1['FS']['removeDir'](_0x1f8952['baseDir']);}}exports[a130_0x25fcca(0x80)]=Git,Git[a130_0x25fcca(0x74)]=path_1[a130_0x25fcca(0xa4)][a130_0x25fcca(0xb0)](process[a130_0x25fcca(0xab)](),a130_0x25fcca(0x7c),a130_0x25fcca(0x7d)),Git[a130_0x25fcca(0x77)]=new core_1[(a130_0x25fcca(0xb1))](Git[a130_0x25fcca(0x9c)]);