function a126_0x2d6d(){const _0x3936f2=['2871372KdZvNZ','__esModule','_repoPath','INITIAL_COMMIT','\x20&&\x20git\x20rev-parse\x20HEAD','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','getProtocol','\x20&&\x20git\x20add\x20','getRemoteHash','default','filter','describe\x20commit\x20%s','replace','join','log','55269ZbwjGs','git','BranchDto','push\x20changes\x20to\x20%s','../../../constants','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','commit','name','\x20&&\x20git\x20checkout\x20','status','extractMessageFromCommitDescribe','6856145DNLUhP','./fs.internal','extractEmailFromCommitDescribe','\x20&&\x20git\x20push\x20origin\x20','git\x20ls-remote\x20','://','match','./internal.utils','890833KspKPG','../../shared/utils','\x20&&\x20git\x20checkout\x20--orphan\x20','git\x20clone\x20-b\x20','\x20&&\x20git\x20init','DEFAULT_GIT_USER_NAME','1736NvpLwS','gitUrl','cd\x20','describeCommit','4386282UqYKiO','getRepositoryBranches','ChildProcessUtils','\x20&&\x20git\x20status','Git','../../../core','18SVvvDn','.temp','clone','../providers/branches/dto/branch.dto','logger','__importDefault','(((.+)+)+)+$','path','Logger','apply','baseDir','setCredentials','search','constructor','clone\x20repository\x20branch\x20%s\x20to\x20%s','extractAuthorFromCommitDescribe','2625728cxPxFe','spawnPromise','removeDir','then','\x20--quiet','push','toString','DEFAULT_CLONE_PATH','1434620SGOumi','map','DEFAULT_GIT_USER_EMAIL','extractChangesFromCommitDescribe','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20commit\x20-m\x20\x22','getGitShellAuthorizationString','\x20--single-branch\x20'];a126_0x2d6d=function(){return _0x3936f2;};return a126_0x2d6d();}const a126_0x144ef5=a126_0x18e7;(function(_0x5b0f72,_0x3be616){const _0x2006ec=a126_0x18e7,_0x4201b2=_0x5b0f72();while(!![]){try{const _0x199044=parseInt(_0x2006ec(0x130))/0x1+parseInt(_0x2006ec(0x105))/0x2+parseInt(_0x2006ec(0x13a))/0x3+-parseInt(_0x2006ec(0x10e))/0x4+-parseInt(_0x2006ec(0x128))/0x5+parseInt(_0x2006ec(0x140))/0x6*(parseInt(_0x2006ec(0x150))/0x7)+parseInt(_0x2006ec(0x136))/0x8*(-parseInt(_0x2006ec(0x11d))/0x9);if(_0x199044===_0x3be616)break;else _0x4201b2['push'](_0x4201b2['shift']());}catch(_0x1c0b88){_0x4201b2['push'](_0x4201b2['shift']());}}}(a126_0x2d6d,0xbcef8));const a126_0x4414cc=(function(){let _0x2d8cb7=!![];return function(_0x2452af,_0x2588ba){const _0x19f372=_0x2d8cb7?function(){const _0xa317f5=a126_0x18e7;if(_0x2588ba){const _0x20d274=_0x2588ba[_0xa317f5(0x149)](_0x2452af,arguments);return _0x2588ba=null,_0x20d274;}}:function(){};return _0x2d8cb7=![],_0x19f372;};}()),a126_0x30e858=a126_0x4414cc(this,function(){const _0x1b59aa=a126_0x18e7;return a126_0x30e858[_0x1b59aa(0x103)]()[_0x1b59aa(0x14c)]('(((.+)+)+)+$')[_0x1b59aa(0x103)]()[_0x1b59aa(0x14d)](a126_0x30e858)[_0x1b59aa(0x14c)](_0x1b59aa(0x146));});a126_0x30e858();function a126_0x18e7(_0x43e250,_0x38068f){const _0x368478=a126_0x2d6d();return a126_0x18e7=function(_0x30e858,_0x4414cc){_0x30e858=_0x30e858-0xfe;let _0x2d6d20=_0x368478[_0x30e858];return _0x2d6d20;},a126_0x18e7(_0x43e250,_0x38068f);}'use strict';var __importDefault=this&&this[a126_0x144ef5(0x145)]||function(_0x533802){const _0x729824=a126_0x144ef5;return _0x533802&&_0x533802[_0x729824(0x10f)]?_0x533802:{'default':_0x533802};};Object['defineProperty'](exports,a126_0x144ef5(0x10f),{'value':!![]}),exports[a126_0x144ef5(0x13e)]=void 0x0;const constants_1=require(a126_0x144ef5(0x121)),core_1=require(a126_0x144ef5(0x13f)),path_1=__importDefault(require(a126_0x144ef5(0x147))),branch_dto_1=require(a126_0x144ef5(0x143)),utils_1=require(a126_0x144ef5(0x131)),fs_internal_1=require(a126_0x144ef5(0x129)),internal_utils_1=require(a126_0x144ef5(0x12f)),utils_2=require('@flosum/utils');class Git{constructor(_0x5d2083){const _0x1c143a=a126_0x144ef5;this[_0x1c143a(0x110)]=_0x5d2083;}get[a126_0x144ef5(0x14a)](){return this['_repoPath'];}async['setCredentials'](_0x340107,_0x3c6ba9){const _0x505bc9=a126_0x144ef5;await utils_2[_0x505bc9(0x13c)][_0x505bc9(0xfe)](_0x505bc9(0x138)+this[_0x505bc9(0x110)]+_0x505bc9(0x122)+_0x340107+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x3c6ba9+'\x22','');}async['add'](..._0x43c237){const _0x1fe341=a126_0x144ef5;await utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+this['_repoPath']+_0x1fe341(0x115)+_0x43c237['join']('\x20'),'');}async[a126_0x144ef5(0x126)](){const _0x48dc21=a126_0x144ef5;return utils_2[_0x48dc21(0x13c)][_0x48dc21(0xfe)](_0x48dc21(0x138)+this[_0x48dc21(0x110)]+_0x48dc21(0x13d),'');}async[a126_0x144ef5(0x123)](_0x585be9){const _0x1bdcd4=a126_0x144ef5;Git[_0x1bdcd4(0x144)]['log'](_0x1bdcd4(0x10a),_0x585be9),await utils_2[_0x1bdcd4(0x13c)][_0x1bdcd4(0xfe)]('cd\x20'+this[_0x1bdcd4(0x110)]+_0x1bdcd4(0x10b)+_0x585be9+'\x22','');}async[a126_0x144ef5(0x102)](_0x3f60da){const _0x2222ef=a126_0x144ef5;Git[_0x2222ef(0x144)][_0x2222ef(0x11c)](_0x2222ef(0x120),_0x3f60da),await utils_2['ChildProcessUtils'][_0x2222ef(0xfe)](_0x2222ef(0x138)+this[_0x2222ef(0x110)]+_0x2222ef(0x12b)+_0x3f60da+_0x2222ef(0x101),'');}async['checkout'](_0x20a927){const _0x126a2a=a126_0x144ef5;Git['logger']['log']('checkout\x20to\x20%s',_0x20a927),await utils_2[_0x126a2a(0x13c)][_0x126a2a(0xfe)]('cd\x20'+this[_0x126a2a(0x110)]+_0x126a2a(0x125)+_0x20a927,'');}async['getCurrentHash'](){const _0x5ba788=a126_0x144ef5,_0x25d62d=await utils_2['ChildProcessUtils']['spawnPromise'](_0x5ba788(0x138)+this[_0x5ba788(0x110)]+_0x5ba788(0x112),'');return _0x25d62d[_0x5ba788(0x11a)]('\x0a','');}async[a126_0x144ef5(0x139)](_0xbb972b){const _0x45be31=a126_0x144ef5;Git[_0x45be31(0x144)][_0x45be31(0x11c)](_0x45be31(0x119),_0xbb972b);const _0x4ffa18=await utils_2['ChildProcessUtils']['spawnPromise'](_0x45be31(0x138)+this['_repoPath']+_0x45be31(0x113)+_0xbb972b,'');return{'author':(0x0,internal_utils_1[_0x45be31(0x14f)])(_0x4ffa18),'email':(0x0,internal_utils_1[_0x45be31(0x12a)])(_0x4ffa18),'message':(0x0,internal_utils_1[_0x45be31(0x127)])(_0x4ffa18),'changes':(0x0,internal_utils_1[_0x45be31(0x108)])(_0x4ffa18)};}static async[a126_0x144ef5(0x116)](_0x40f1ec,_0x1f350d){const _0x1b4412=a126_0x144ef5,[_0x23921e]=await utils_2[_0x1b4412(0x13c)][_0x1b4412(0xfe)](_0x1b4412(0x12c)+_0x40f1ec+'\x20'+_0x1f350d+'\x20--refs','')[_0x1b4412(0x100)](_0x1324cf=>_0x1324cf[_0x1b4412(0x11a)](/\s/g,'\x20')['split']('\x20'));return _0x23921e;}static async[a126_0x144ef5(0x142)](_0xcf5cfb,_0x1d77bd,_0x126edf){const _0x5f1ec8=a126_0x144ef5,_0x2840d8=path_1['default'][_0x5f1ec8(0x11b)](this[_0x5f1ec8(0x104)],_0x1d77bd),_0x41873e=new Git(_0x2840d8);return Git[_0x5f1ec8(0x144)][_0x5f1ec8(0x11c)](_0x5f1ec8(0x14e),_0x126edf,_0x2840d8),await fs_internal_1['FS']['removeDir'](_0x2840d8),await utils_2[_0x5f1ec8(0x13c)][_0x5f1ec8(0xfe)](_0x5f1ec8(0x133)+_0x126edf+_0x5f1ec8(0x10d)+_0xcf5cfb+'\x20'+_0x2840d8,''),_0x41873e;}static async[a126_0x144ef5(0x13b)](_0x1743f4,_0x3e342){const _0x1fb9d6=a126_0x144ef5,_0x1083b9=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x52216e=_0x1743f4['gitUrl'][_0x1fb9d6(0x11a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x1743f4[_0x1fb9d6(0x137)])+_0x1fb9d6(0x12d)+_0x3e342[_0x1fb9d6(0x10c)]()+'@'),_0x463875=await utils_2[_0x1fb9d6(0x13c)][_0x1fb9d6(0xfe)]('git\x20ls-remote\x20'+_0x52216e,'');return _0x463875['split']('\x0a')[_0x1fb9d6(0x118)](_0x3bf10c=>_0x1083b9['test'](_0x3bf10c))[_0x1fb9d6(0x106)](_0x1b09e8=>{const _0x56bcc1=_0x1fb9d6,[,_0x5e3042,_0x5b2410]=_0x1b09e8[_0x56bcc1(0x12e)](_0x1083b9),_0x561c64=new branch_dto_1[(_0x56bcc1(0x11f))]();return _0x561c64['sha']=_0x5e3042,_0x561c64[_0x56bcc1(0x124)]=_0x5b2410[_0x56bcc1(0x11a)]('refs/heads/',''),_0x561c64;});}static async['createEmptyBranch'](_0x43271e,_0x5d2944,_0x124e09,_0xb10c29){const _0x141ad5=a126_0x144ef5,_0x25cef3=_0x43271e[_0x141ad5(0x137)][_0x141ad5(0x11a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x141ad5(0x114)])(_0x43271e[_0x141ad5(0x137)])+_0x141ad5(0x12d)+_0xb10c29['getGitShellAuthorizationString']()+'@'),_0x1b370b=path_1[_0x141ad5(0x117)][_0x141ad5(0x11b)](this[_0x141ad5(0x104)],_0x43271e[_0x141ad5(0x124)]);Git['logger']['log'](_0x141ad5(0x109),_0x43271e[_0x141ad5(0x124)],_0x5d2944,_0x1b370b),await fs_internal_1['FS']['removeDir'](_0x1b370b),await fs_internal_1['FS']['makeDir'](_0x1b370b);const _0x430640=new Git(_0x1b370b);await utils_2[_0x141ad5(0x13c)][_0x141ad5(0xfe)](_0x141ad5(0x138)+_0x430640['baseDir']+_0x141ad5(0x134),''),await utils_2[_0x141ad5(0x13c)][_0x141ad5(0xfe)](_0x141ad5(0x138)+_0x430640[_0x141ad5(0x14a)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x25cef3,''),await _0x430640[_0x141ad5(0x14b)](constants_1[_0x141ad5(0x135)],constants_1[_0x141ad5(0x107)]),await utils_2[_0x141ad5(0x13c)][_0x141ad5(0xfe)](_0x141ad5(0x138)+_0x430640[_0x141ad5(0x14a)]+_0x141ad5(0x132)+_0x5d2944,''),await utils_2[_0x141ad5(0x13c)][_0x141ad5(0xfe)]('cd\x20'+_0x430640['baseDir']+_0x141ad5(0x10b)+(_0x124e09||constants_1[_0x141ad5(0x111)])+'\x22\x20--allow-empty',''),await _0x430640[_0x141ad5(0x102)](_0x5d2944),Git[_0x141ad5(0x144)][_0x141ad5(0x11c)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x141ad5(0xff)](_0x430640[_0x141ad5(0x14a)]);}}exports[a126_0x144ef5(0x13e)]=Git,Git[a126_0x144ef5(0x104)]=path_1[a126_0x144ef5(0x117)][a126_0x144ef5(0x11b)](process['cwd'](),a126_0x144ef5(0x141),a126_0x144ef5(0x11e)),Git[a126_0x144ef5(0x144)]=new core_1[(a126_0x144ef5(0x148))](Git['name']);