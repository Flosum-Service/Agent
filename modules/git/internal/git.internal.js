const a126_0x4b6796=a126_0x5f79;(function(_0x48319c,_0x1883e5){const _0x50af13=a126_0x5f79,_0x26bc29=_0x48319c();while(!![]){try{const _0x1c2ade=-parseInt(_0x50af13(0x1bc))/0x1+-parseInt(_0x50af13(0x1cc))/0x2+parseInt(_0x50af13(0x1d3))/0x3*(parseInt(_0x50af13(0x1f3))/0x4)+-parseInt(_0x50af13(0x1cf))/0x5+-parseInt(_0x50af13(0x1f8))/0x6*(parseInt(_0x50af13(0x1c7))/0x7)+-parseInt(_0x50af13(0x1e2))/0x8+parseInt(_0x50af13(0x1f5))/0x9*(parseInt(_0x50af13(0x1e0))/0xa);if(_0x1c2ade===_0x1883e5)break;else _0x26bc29['push'](_0x26bc29['shift']());}catch(_0x41d2aa){_0x26bc29['push'](_0x26bc29['shift']());}}}(a126_0x80f8,0xac9a0));const a126_0x51299c=(function(){let _0x46bbbc=!![];return function(_0x11b431,_0x537d60){const _0x5db9fd=_0x46bbbc?function(){const _0x495602=a126_0x5f79;if(_0x537d60){const _0x348e80=_0x537d60[_0x495602(0x1bb)](_0x11b431,arguments);return _0x537d60=null,_0x348e80;}}:function(){};return _0x46bbbc=![],_0x5db9fd;};}()),a126_0x57ae2d=a126_0x51299c(this,function(){const _0x534270=a126_0x5f79;return a126_0x57ae2d[_0x534270(0x1e6)]()[_0x534270(0x1ef)](_0x534270(0x1b9))['toString']()[_0x534270(0x1fc)](a126_0x57ae2d)[_0x534270(0x1ef)]('(((.+)+)+)+$');});a126_0x57ae2d();function a126_0x5f79(_0x2eb18e,_0x222760){const _0x18755a=a126_0x80f8();return a126_0x5f79=function(_0x57ae2d,_0x51299c){_0x57ae2d=_0x57ae2d-0x1b6;let _0x80f840=_0x18755a[_0x57ae2d];return _0x80f840;},a126_0x5f79(_0x2eb18e,_0x222760);}'use strict';function a126_0x80f8(){const _0x5d9557=['590XxQjQN','replace','10261968icoUWC','extractChangesFromCommitDescribe','describeCommit','match','toString','name','extractEmailFromCommitDescribe','\x20&&\x20git\x20commit\x20-m\x20\x22','clone','\x20--single-branch\x20','cwd','\x22\x20--allow-empty','.temp','search','://','clone\x20repository\x20branch\x20%s\x20to\x20%s','\x20&&\x20git\x20remote\x20add\x20origin\x20','5051896QZlpdE','git','511389uZiDAX','__importDefault','filter','12nweJYh','../providers/branches/dto/branch.dto','\x20&&\x20git\x20push\x20origin\x20','baseDir','constructor','BranchDto','removeDir','path','makeDir','default','\x20--refs','createEmptyBranch','getCurrentHash','setCredentials','INITIAL_COMMIT','../../../core','getRepositoryBranches','DEFAULT_CLONE_PATH','getProtocol','describe\x20commit\x20%s','Logger','split','cd\x20','(((.+)+)+)+$','getRemoteHash','apply','339284pglTBS','./internal.utils','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','logger','_repoPath','gitUrl','\x20&&\x20git\x20add\x20','defineProperty','../../shared/utils','ChildProcessUtils','3829140Rdrnpr','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','refs/heads/','\x20--quiet','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','592676VjjCQS','checkout','map','4480145skzJOK','__esModule','git\x20ls-remote\x20','log','3tOEElb','extractMessageFromCommitDescribe','test','\x20&&\x20git\x20rev-parse\x20HEAD','getGitShellAuthorizationString','DEFAULT_GIT_USER_NAME','spawnPromise','\x20&&\x20git\x20status','commit','join','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','Git','push'];a126_0x80f8=function(){return _0x5d9557;};return a126_0x80f8();}var __importDefault=this&&this[a126_0x4b6796(0x1f6)]||function(_0x1d333f){const _0x3e35ca=a126_0x4b6796;return _0x1d333f&&_0x1d333f[_0x3e35ca(0x1d0)]?_0x1d333f:{'default':_0x1d333f};};Object[a126_0x4b6796(0x1c4)](exports,'__esModule',{'value':!![]}),exports[a126_0x4b6796(0x1de)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a126_0x4b6796(0x207)),path_1=__importDefault(require(a126_0x4b6796(0x1ff))),branch_dto_1=require(a126_0x4b6796(0x1f9)),utils_1=require(a126_0x4b6796(0x1c5)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a126_0x4b6796(0x1bd)),utils_2=require('@flosum/utils');class Git{constructor(_0x2946ba){const _0x51bf74=a126_0x4b6796;this[_0x51bf74(0x1c1)]=_0x2946ba;}get[a126_0x4b6796(0x1fb)](){const _0x5604d9=a126_0x4b6796;return this[_0x5604d9(0x1c1)];}async['setCredentials'](_0x2a1bcd,_0x4451e5){const _0x400e68=a126_0x4b6796;await utils_2['ChildProcessUtils'][_0x400e68(0x1d9)](_0x400e68(0x1b8)+this[_0x400e68(0x1c1)]+_0x400e68(0x1cb)+_0x2a1bcd+_0x400e68(0x1c8)+_0x4451e5+'\x22','');}async['add'](..._0x584df7){const _0x43c63c=a126_0x4b6796;await utils_2[_0x43c63c(0x1c6)][_0x43c63c(0x1d9)](_0x43c63c(0x1b8)+this['_repoPath']+_0x43c63c(0x1c3)+_0x584df7[_0x43c63c(0x1dc)]('\x20'),'');}async['status'](){const _0x257e8e=a126_0x4b6796;return utils_2[_0x257e8e(0x1c6)][_0x257e8e(0x1d9)](_0x257e8e(0x1b8)+this[_0x257e8e(0x1c1)]+_0x257e8e(0x1da),'');}async[a126_0x4b6796(0x1db)](_0x23db66){const _0x50d7dc=a126_0x4b6796;Git[_0x50d7dc(0x1c0)]['log']('commit\x20message\x20\x22%s\x22',_0x23db66),await utils_2['ChildProcessUtils'][_0x50d7dc(0x1d9)]('cd\x20'+this[_0x50d7dc(0x1c1)]+_0x50d7dc(0x1e9)+_0x23db66+'\x22','');}async[a126_0x4b6796(0x1df)](_0x5d0aee){const _0x372387=a126_0x4b6796;Git[_0x372387(0x1c0)][_0x372387(0x1d2)]('push\x20changes\x20to\x20%s',_0x5d0aee),await utils_2[_0x372387(0x1c6)][_0x372387(0x1d9)](_0x372387(0x1b8)+this[_0x372387(0x1c1)]+_0x372387(0x1fa)+_0x5d0aee+_0x372387(0x1ca),'');}async[a126_0x4b6796(0x1cd)](_0x5d44a4){const _0x5da53e=a126_0x4b6796;Git[_0x5da53e(0x1c0)][_0x5da53e(0x1d2)]('checkout\x20to\x20%s',_0x5d44a4),await utils_2[_0x5da53e(0x1c6)][_0x5da53e(0x1d9)](_0x5da53e(0x1b8)+this[_0x5da53e(0x1c1)]+'\x20&&\x20git\x20checkout\x20'+_0x5d44a4,'');}async[a126_0x4b6796(0x204)](){const _0x92df5e=a126_0x4b6796,_0x827567=await utils_2[_0x92df5e(0x1c6)][_0x92df5e(0x1d9)](_0x92df5e(0x1b8)+this[_0x92df5e(0x1c1)]+_0x92df5e(0x1d6),'');return _0x827567[_0x92df5e(0x1e1)]('\x0a','');}async[a126_0x4b6796(0x1e4)](_0xd99cbb){const _0xef5970=a126_0x4b6796;Git[_0xef5970(0x1c0)][_0xef5970(0x1d2)](_0xef5970(0x20b),_0xd99cbb);const _0x1fd8a7=await utils_2['ChildProcessUtils'][_0xef5970(0x1d9)]('cd\x20'+this[_0xef5970(0x1c1)]+_0xef5970(0x1bf)+_0xd99cbb,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x1fd8a7),'email':(0x0,internal_utils_1[_0xef5970(0x1e8)])(_0x1fd8a7),'message':(0x0,internal_utils_1[_0xef5970(0x1d4)])(_0x1fd8a7),'changes':(0x0,internal_utils_1[_0xef5970(0x1e3)])(_0x1fd8a7)};}static async[a126_0x4b6796(0x1ba)](_0x1f3ab8,_0x5f56a9){const _0x4f882a=a126_0x4b6796,[_0x4f1de8]=await utils_2[_0x4f882a(0x1c6)][_0x4f882a(0x1d9)](_0x4f882a(0x1d1)+_0x1f3ab8+'\x20'+_0x5f56a9+_0x4f882a(0x202),'')['then'](_0x11d379=>_0x11d379['replace'](/\s/g,'\x20')['split']('\x20'));return _0x4f1de8;}static async[a126_0x4b6796(0x1ea)](_0x341943,_0x3f6ca2,_0x27e211){const _0x891fd1=a126_0x4b6796,_0x3bcf25=path_1[_0x891fd1(0x201)]['join'](this[_0x891fd1(0x209)],_0x3f6ca2),_0x33ddee=new Git(_0x3bcf25);return Git[_0x891fd1(0x1c0)][_0x891fd1(0x1d2)](_0x891fd1(0x1f1),_0x27e211,_0x3bcf25),await fs_internal_1['FS'][_0x891fd1(0x1fe)](_0x3bcf25),await utils_2[_0x891fd1(0x1c6)]['spawnPromise']('git\x20clone\x20-b\x20'+_0x27e211+_0x891fd1(0x1eb)+_0x341943+'\x20'+_0x3bcf25,''),_0x33ddee;}static async[a126_0x4b6796(0x208)](_0x1f34b9,_0x23f9f1){const _0x1ce335=a126_0x4b6796,_0x386741=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x5892b7=_0x1f34b9['gitUrl'][_0x1ce335(0x1e1)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1ce335(0x20a)])(_0x1f34b9['gitUrl'])+'://'+_0x23f9f1[_0x1ce335(0x1d7)]()+'@'),_0x15a7df=await utils_2[_0x1ce335(0x1c6)]['spawnPromise']('git\x20ls-remote\x20'+_0x5892b7,'');return _0x15a7df[_0x1ce335(0x1b7)]('\x0a')[_0x1ce335(0x1f7)](_0x38d0dd=>_0x386741[_0x1ce335(0x1d5)](_0x38d0dd))[_0x1ce335(0x1ce)](_0x47b3aa=>{const _0x4476e4=_0x1ce335,[,_0x126844,_0x509499]=_0x47b3aa[_0x4476e4(0x1e5)](_0x386741),_0x47a2b6=new branch_dto_1[(_0x4476e4(0x1fd))]();return _0x47a2b6['sha']=_0x126844,_0x47a2b6[_0x4476e4(0x1e7)]=_0x509499[_0x4476e4(0x1e1)](_0x4476e4(0x1c9),''),_0x47a2b6;});}static async[a126_0x4b6796(0x203)](_0x5ec6bc,_0x324eac,_0x4ec26f,_0x155b8f){const _0x12d2c7=a126_0x4b6796,_0x1ea609=_0x5ec6bc[_0x12d2c7(0x1c2)][_0x12d2c7(0x1e1)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x5ec6bc[_0x12d2c7(0x1c2)])+_0x12d2c7(0x1f0)+_0x155b8f[_0x12d2c7(0x1d7)]()+'@'),_0x491102=path_1[_0x12d2c7(0x201)][_0x12d2c7(0x1dc)](this[_0x12d2c7(0x209)],_0x5ec6bc[_0x12d2c7(0x1e7)]);Git[_0x12d2c7(0x1c0)]['log'](_0x12d2c7(0x1dd),_0x5ec6bc[_0x12d2c7(0x1e7)],_0x324eac,_0x491102),await fs_internal_1['FS']['removeDir'](_0x491102),await fs_internal_1['FS'][_0x12d2c7(0x200)](_0x491102);const _0x2563ba=new Git(_0x491102);await utils_2[_0x12d2c7(0x1c6)][_0x12d2c7(0x1d9)](_0x12d2c7(0x1b8)+_0x2563ba[_0x12d2c7(0x1fb)]+'\x20&&\x20git\x20init',''),await utils_2['ChildProcessUtils'][_0x12d2c7(0x1d9)]('cd\x20'+_0x2563ba[_0x12d2c7(0x1fb)]+_0x12d2c7(0x1f2)+_0x1ea609,''),await _0x2563ba[_0x12d2c7(0x205)](constants_1[_0x12d2c7(0x1d8)],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0x12d2c7(0x1c6)][_0x12d2c7(0x1d9)](_0x12d2c7(0x1b8)+_0x2563ba[_0x12d2c7(0x1fb)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x324eac,''),await utils_2[_0x12d2c7(0x1c6)][_0x12d2c7(0x1d9)]('cd\x20'+_0x2563ba[_0x12d2c7(0x1fb)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x4ec26f||constants_1[_0x12d2c7(0x206)])+_0x12d2c7(0x1ed),''),await _0x2563ba[_0x12d2c7(0x1df)](_0x324eac),Git[_0x12d2c7(0x1c0)][_0x12d2c7(0x1d2)](_0x12d2c7(0x1be)),await fs_internal_1['FS']['removeDir'](_0x2563ba['baseDir']);}}exports[a126_0x4b6796(0x1de)]=Git,Git[a126_0x4b6796(0x209)]=path_1[a126_0x4b6796(0x201)]['join'](process[a126_0x4b6796(0x1ec)](),a126_0x4b6796(0x1ee),a126_0x4b6796(0x1f4)),Git[a126_0x4b6796(0x1c0)]=new core_1[(a126_0x4b6796(0x1b6))](Git[a126_0x4b6796(0x1e7)]);