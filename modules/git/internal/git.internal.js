const a148_0x42f4fd=a148_0xeb3a;(function(_0x20af76,_0x56ec34){const _0xf2423d=a148_0xeb3a,_0x31fb9d=_0x20af76();while(!![]){try{const _0x561737=-parseInt(_0xf2423d(0xfa))/0x1*(-parseInt(_0xf2423d(0xd9))/0x2)+parseInt(_0xf2423d(0x117))/0x3*(parseInt(_0xf2423d(0x125))/0x4)+parseInt(_0xf2423d(0x106))/0x5+-parseInt(_0xf2423d(0xf8))/0x6*(parseInt(_0xf2423d(0x114))/0x7)+-parseInt(_0xf2423d(0xf2))/0x8*(parseInt(_0xf2423d(0x11e))/0x9)+-parseInt(_0xf2423d(0x129))/0xa+parseInt(_0xf2423d(0xe2))/0xb;if(_0x561737===_0x56ec34)break;else _0x31fb9d['push'](_0x31fb9d['shift']());}catch(_0x5d5e7f){_0x31fb9d['push'](_0x31fb9d['shift']());}}}(a148_0x1dd7,0x3104b));const a148_0x426dc9=(function(){let _0x15b14b=!![];return function(_0x4cf8d3,_0x5a9ea7){const _0x4b8d31=_0x15b14b?function(){if(_0x5a9ea7){const _0x52ee0e=_0x5a9ea7['apply'](_0x4cf8d3,arguments);return _0x5a9ea7=null,_0x52ee0e;}}:function(){};return _0x15b14b=![],_0x4b8d31;};}()),a148_0x124863=a148_0x426dc9(this,function(){const _0x853ee6=a148_0xeb3a;return a148_0x124863[_0x853ee6(0x109)]()[_0x853ee6(0xf4)](_0x853ee6(0x12a))[_0x853ee6(0x109)]()[_0x853ee6(0x120)](a148_0x124863)[_0x853ee6(0xf4)](_0x853ee6(0x12a));});a148_0x124863();'use strict';function a148_0xeb3a(_0x4433d8,_0x5ac158){const _0x399a98=a148_0x1dd7();return a148_0xeb3a=function(_0x124863,_0x426dc9){_0x124863=_0x124863-0xd7;let _0x1dd75a=_0x399a98[_0x124863];return _0x1dd75a;},a148_0xeb3a(_0x4433d8,_0x5ac158);}var __importDefault=this&&this[a148_0x42f4fd(0xf0)]||function(_0x2d5f6e){const _0x30b618=a148_0x42f4fd;return _0x2d5f6e&&_0x2d5f6e[_0x30b618(0xf6)]?_0x2d5f6e:{'default':_0x2d5f6e};};function a148_0x1dd7(){const _0xe3d2a8=['search','path','__esModule','ChildProcessUtils','929700tKdYMc','://','6cikKvk','logger','Clone\x20repository\x20branch\x20%s\x20to\x20%s','match','test','\x20--refs','sha','\x20&&\x20git\x20checkout\x20--orphan\x20','baseDir','cd\x20','DEFAULT_CLONE_PATH','DEFAULT_GIT_USER_EMAIL','513215HrrWWY','then','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','toString','checkout','INITIAL_COMMIT','\x20&&\x20git\x20commit\x20-m\x20\x22','cwd','email','removeDir','spawnPromise','getProtocol','commit','refs/heads/','14KMEloq','\x20&&\x20git\x20push\x20origin\x20','user','33vuCSwq','default','\x20&&\x20git\x20status','Commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20init','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','getRepositoryBranches','1205964zllMdB','log','constructor','git\x20clone\x20-b\x20','filter','split','gitUrl','125612QMBMQn','clone','../../shared/utils','Push\x20changes\x20to\x20%s','2350310kANQcn','(((.+)+)+)+$','BranchDto','Git','.temp','getRemoteHash','107972vknIcb','_repoPath','join','extractMessageFromCommitDescribe','getGitShellAuthorizationString','\x20--quiet','\x22\x20--allow-empty','extractEmailFromCommitDescribe','makeDir','2658810AHPqnp','Logger','../providers/branches/dto/branch.dto','./fs.internal','git','name','Describe\x20commit\x20%s','replace','\x20&&\x20git\x20checkout\x20','git\x20ls-remote\x20','\x20&&\x20git\x20add\x20','\x20&&\x20git\x20remote\x20add\x20origin\x20','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','setCredentials','__importDefault','createEmptyBranch','16bWcmCc','defineProperty'];a148_0x1dd7=function(){return _0xe3d2a8;};return a148_0x1dd7();}Object[a148_0x42f4fd(0xf3)](exports,'__esModule',{'value':!![]}),exports['Git']=void 0x0;const constants_1=require('../../../constants'),core_1=require('../../../core'),path_1=__importDefault(require(a148_0x42f4fd(0xf5))),branch_dto_1=require(a148_0x42f4fd(0xe4)),utils_1=require(a148_0x42f4fd(0x127)),fs_internal_1=require(a148_0x42f4fd(0xe5)),internal_utils_1=require('./internal.utils'),utils_2=require('@flosum/utils');class Git{constructor(_0xf0a7aa){const _0x156f6e=a148_0x42f4fd;this[_0x156f6e(0xda)]=_0xf0a7aa;}get['baseDir'](){const _0x108365=a148_0x42f4fd;return this[_0x108365(0xda)];}async[a148_0x42f4fd(0xef)](_0x18b328,_0x30e51f){const _0x25173b=a148_0x42f4fd;await utils_2[_0x25173b(0xf7)][_0x25173b(0x110)]('cd\x20'+this[_0x25173b(0xda)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x18b328+_0x25173b(0x11c)+_0x30e51f+'\x22','');}async['add'](..._0x29e5dd){const _0x97de0f=a148_0x42f4fd;await utils_2[_0x97de0f(0xf7)][_0x97de0f(0x110)](_0x97de0f(0x103)+this[_0x97de0f(0xda)]+_0x97de0f(0xec)+_0x29e5dd[_0x97de0f(0xdb)]('\x20'),'');}async['status'](){const _0x3fc299=a148_0x42f4fd;return utils_2[_0x3fc299(0xf7)][_0x3fc299(0x110)](_0x3fc299(0x103)+this[_0x3fc299(0xda)]+_0x3fc299(0x119),'');}async[a148_0x42f4fd(0x112)](_0x13786f){const _0x2d4641=a148_0x42f4fd;Git['logger'][_0x2d4641(0x11f)](_0x2d4641(0x11a),_0x13786f),await utils_2['ChildProcessUtils'][_0x2d4641(0x110)](_0x2d4641(0x103)+this[_0x2d4641(0xda)]+_0x2d4641(0x10c)+_0x13786f+'\x22','');}async['push'](_0x4757a5){const _0x2feede=a148_0x42f4fd;Git['logger']['log'](_0x2feede(0x128),_0x4757a5),await utils_2[_0x2feede(0xf7)]['spawnPromise'](_0x2feede(0x103)+this[_0x2feede(0xda)]+_0x2feede(0x115)+_0x4757a5+_0x2feede(0xde),'');}async[a148_0x42f4fd(0x10a)](_0x2a87b1){const _0x50e12d=a148_0x42f4fd;Git['logger'][_0x50e12d(0x11f)]('Checkout\x20to\x20%s',_0x2a87b1),await utils_2['ChildProcessUtils'][_0x50e12d(0x110)](_0x50e12d(0x103)+this[_0x50e12d(0xda)]+_0x50e12d(0xea)+_0x2a87b1,'');}async['getCurrentHash'](){const _0x444108=a148_0x42f4fd,_0x51979b=await utils_2['ChildProcessUtils'][_0x444108(0x110)](_0x444108(0x103)+this[_0x444108(0xda)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x51979b[_0x444108(0xe9)]('\x0a','');}async['describeCommit'](_0x37d8f0){const _0x4c9776=a148_0x42f4fd;Git['logger'][_0x4c9776(0x11f)](_0x4c9776(0xe8),_0x37d8f0);const _0x577be7=await utils_2[_0x4c9776(0xf7)][_0x4c9776(0x110)]('cd\x20'+this[_0x4c9776(0xda)]+_0x4c9776(0x108)+_0x37d8f0,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x577be7),'email':(0x0,internal_utils_1[_0x4c9776(0xe0)])(_0x577be7),'message':(0x0,internal_utils_1[_0x4c9776(0xdc)])(_0x577be7),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x577be7)};}static async[a148_0x42f4fd(0xd8)](_0x5b7434,_0x10139b){const _0x529e91=a148_0x42f4fd,[_0x3fc0cd]=await utils_2['ChildProcessUtils']['spawnPromise'](_0x529e91(0xeb)+_0x5b7434+'\x20'+_0x10139b+_0x529e91(0xff),'')[_0x529e91(0x107)](_0x29d7e2=>_0x29d7e2[_0x529e91(0xe9)](/\s/g,'\x20')[_0x529e91(0x123)]('\x20'));return _0x3fc0cd;}static async[a148_0x42f4fd(0x126)](_0x316be7,_0x33e683,_0x58ac9a){const _0x56288e=a148_0x42f4fd,_0x1b86df=path_1[_0x56288e(0x118)][_0x56288e(0xdb)](this[_0x56288e(0x104)],_0x33e683),_0x414fd0=new Git(_0x1b86df);return Git['logger'][_0x56288e(0x11f)](_0x56288e(0xfc),_0x58ac9a,_0x1b86df),await fs_internal_1['FS'][_0x56288e(0x10f)](_0x1b86df),await utils_2[_0x56288e(0xf7)][_0x56288e(0x110)](_0x56288e(0x121)+_0x58ac9a+'\x20--single-branch\x20'+_0x316be7+'\x20'+_0x1b86df,''),_0x414fd0;}static async[a148_0x42f4fd(0x11d)](_0x1c159e,_0x4a2c29){const _0xc1bad9=a148_0x42f4fd,_0x4dfae2=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3cabd0=_0x1c159e[_0xc1bad9(0x124)][_0xc1bad9(0xe9)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0xc1bad9(0x111)])(_0x1c159e[_0xc1bad9(0x124)])+'://'+_0x4a2c29[_0xc1bad9(0xdd)]()+'@'),_0xd81be0=await utils_2[_0xc1bad9(0xf7)][_0xc1bad9(0x110)]('git\x20ls-remote\x20'+_0x3cabd0,'');return _0xd81be0[_0xc1bad9(0x123)]('\x0a')[_0xc1bad9(0x122)](_0x3b308b=>_0x4dfae2[_0xc1bad9(0xfe)](_0x3b308b))['map'](_0x502c80=>{const _0x2d1c90=_0xc1bad9,[,_0x59338f,_0x264e92]=_0x502c80[_0x2d1c90(0xfd)](_0x4dfae2),_0x3768b9=new branch_dto_1[(_0x2d1c90(0x12b))]();return _0x3768b9[_0x2d1c90(0x100)]=_0x59338f,_0x3768b9[_0x2d1c90(0xe7)]=_0x264e92[_0x2d1c90(0xe9)](_0x2d1c90(0x113),''),_0x3768b9;});}static async[a148_0x42f4fd(0xf1)](_0x314699,_0x4cffac,_0x30c853,_0x2a4878){const _0x25876c=a148_0x42f4fd;var _0x4e9e44,_0x5426d1;const _0xb398a9=_0x314699[_0x25876c(0x124)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x25876c(0x111)])(_0x314699[_0x25876c(0x124)])+_0x25876c(0xf9)+_0x2a4878[_0x25876c(0xdd)]()+'@'),_0x1bc575=path_1[_0x25876c(0x118)]['join'](this[_0x25876c(0x104)],_0x314699[_0x25876c(0xe7)]);Git[_0x25876c(0xfb)][_0x25876c(0x11f)]('Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x314699[_0x25876c(0xe7)],_0x4cffac[_0x25876c(0xe7)],_0x1bc575),await fs_internal_1['FS']['removeDir'](_0x1bc575),await fs_internal_1['FS'][_0x25876c(0xe1)](_0x1bc575);const _0x35102b=new Git(_0x1bc575);await utils_2[_0x25876c(0xf7)][_0x25876c(0x110)]('cd\x20'+_0x35102b[_0x25876c(0x102)]+_0x25876c(0x11b),''),await utils_2[_0x25876c(0xf7)][_0x25876c(0x110)]('cd\x20'+_0x35102b['baseDir']+_0x25876c(0xed)+_0xb398a9,''),await _0x35102b[_0x25876c(0xef)](((_0x4e9e44=_0x4cffac[_0x25876c(0x116)])===null||_0x4e9e44===void 0x0?void 0x0:_0x4e9e44['name'])||constants_1['DEFAULT_GIT_USER_NAME'],((_0x5426d1=_0x4cffac['user'])===null||_0x5426d1===void 0x0?void 0x0:_0x5426d1[_0x25876c(0x10e)])||constants_1[_0x25876c(0x105)]),await utils_2['ChildProcessUtils']['spawnPromise'](_0x25876c(0x103)+_0x35102b[_0x25876c(0x102)]+_0x25876c(0x101)+_0x4cffac[_0x25876c(0xe7)],''),await utils_2['ChildProcessUtils']['spawnPromise'](_0x25876c(0x103)+_0x35102b['baseDir']+_0x25876c(0x10c)+(_0x30c853||constants_1[_0x25876c(0x10b)])+_0x25876c(0xdf),''),await _0x35102b['push'](_0x4cffac['name']),Git[_0x25876c(0xfb)]['log'](_0x25876c(0xee)),await fs_internal_1['FS'][_0x25876c(0x10f)](_0x35102b[_0x25876c(0x102)]);}}exports[a148_0x42f4fd(0x12c)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a148_0x42f4fd(0x118)][a148_0x42f4fd(0xdb)](process[a148_0x42f4fd(0x10d)](),a148_0x42f4fd(0xd7),a148_0x42f4fd(0xe6)),Git[a148_0x42f4fd(0xfb)]=new core_1[(a148_0x42f4fd(0xe3))](Git['name']);