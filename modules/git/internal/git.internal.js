const a149_0x194947=a149_0x2312;(function(_0x2ff8c6,_0x598b1b){const _0x1e9897=a149_0x2312,_0x494b32=_0x2ff8c6();while(!![]){try{const _0x1842e7=parseInt(_0x1e9897(0x201))/0x1*(parseInt(_0x1e9897(0x223))/0x2)+-parseInt(_0x1e9897(0x1fb))/0x3*(parseInt(_0x1e9897(0x1e8))/0x4)+parseInt(_0x1e9897(0x1f0))/0x5*(parseInt(_0x1e9897(0x209))/0x6)+parseInt(_0x1e9897(0x220))/0x7*(parseInt(_0x1e9897(0x1e7))/0x8)+parseInt(_0x1e9897(0x227))/0x9+parseInt(_0x1e9897(0x22c))/0xa+-parseInt(_0x1e9897(0x1e9))/0xb*(parseInt(_0x1e9897(0x1e6))/0xc);if(_0x1842e7===_0x598b1b)break;else _0x494b32['push'](_0x494b32['shift']());}catch(_0x538e5f){_0x494b32['push'](_0x494b32['shift']());}}}(a149_0x937a,0xe129a));const a149_0x508112=(function(){let _0x1c0e01=!![];return function(_0x590259,_0x397eb6){const _0x274882=_0x1c0e01?function(){const _0x18d32e=a149_0x2312;if(_0x397eb6){const _0x5e2f67=_0x397eb6[_0x18d32e(0x217)](_0x590259,arguments);return _0x397eb6=null,_0x5e2f67;}}:function(){};return _0x1c0e01=![],_0x274882;};}()),a149_0x10feae=a149_0x508112(this,function(){const _0x33237f=a149_0x2312;return a149_0x10feae[_0x33237f(0x1f8)]()[_0x33237f(0x1ea)](_0x33237f(0x236))[_0x33237f(0x1f8)]()[_0x33237f(0x1f2)](a149_0x10feae)[_0x33237f(0x1ea)](_0x33237f(0x236));});a149_0x10feae();'use strict';function a149_0x937a(){const _0x25a050=['cwd','getCurrentHash','Describe\x20commit\x20%s','8PwPVYc','\x20--quiet','push','email','getRepositoryBranches','getProtocol','\x20&&\x20git\x20remote\x20add\x20origin\x20','_repoPath','13026lJvHra','filter','\x20&&\x20git\x20commit\x20-m\x20\x22','replace','://','spawnPromise','DEFAULT_GIT_USER_NAME','git\x20clone\x20-b\x20','describeCommit','removeDir','extractEmailFromCommitDescribe','baseDir','match','checkout','apply','DEFAULT_CLONE_PATH','Push\x20changes\x20to\x20%s','makeDir','log','setCredentials','gitUrl','./internal.utils','extractMessageFromCommitDescribe','21ToMmKn','DEFAULT_GIT_USER_EMAIL','Commit\x20message\x20\x22%s\x22','29990fquHTt','test','\x20&&\x20git\x20add\x20','name','7628121hTwejE','../../../constants','commit','extractChangesFromCommitDescribe','defineProperty','14589240FcSSDL','user','split','Checkout\x20to\x20%s','sha','\x20--single-branch\x20','\x22\x20--allow-empty','ChildProcessUtils','../providers/branches/dto/branch.dto','./fs.internal','(((.+)+)+)+$','cd\x20','clone','Clone\x20repository\x20branch\x20%s\x20to\x20%s','extractAuthorFromCommitDescribe','26838996WpcTnl','1846456zvGWEn','6057844RuXeVB','11iKiUbL','search','\x20&&\x20git\x20init','git\x20ls-remote\x20','status','map','Git','3580pwQdzO','@flosum/utils','constructor','\x20&&\x20git\x20status','\x20&&\x20git\x20rev-parse\x20HEAD','__importDefault','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','git','toString','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','getGitShellAuthorizationString','3TLICBL','logger','join'];a149_0x937a=function(){return _0x25a050;};return a149_0x937a();}var __importDefault=this&&this[a149_0x194947(0x1f5)]||function(_0x1deaf1){return _0x1deaf1&&_0x1deaf1['__esModule']?_0x1deaf1:{'default':_0x1deaf1};};Object[a149_0x194947(0x22b)](exports,'__esModule',{'value':!![]}),exports['Git']=void 0x0;function a149_0x2312(_0x7d0749,_0x4ad59e){const _0x4bb1d9=a149_0x937a();return a149_0x2312=function(_0x10feae,_0x508112){_0x10feae=_0x10feae-0x1e5;let _0x937a42=_0x4bb1d9[_0x10feae];return _0x937a42;},a149_0x2312(_0x7d0749,_0x4ad59e);}const constants_1=require(a149_0x194947(0x228)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a149_0x194947(0x234)),utils_1=require('../../shared/utils'),fs_internal_1=require(a149_0x194947(0x235)),internal_utils_1=require(a149_0x194947(0x21e)),utils_2=require(a149_0x194947(0x1f1));class Git{constructor(_0x4b3279){this['_repoPath']=_0x4b3279;}get[a149_0x194947(0x214)](){const _0x44a1b7=a149_0x194947;return this[_0x44a1b7(0x208)];}async[a149_0x194947(0x21c)](_0x10d09c,_0x4c7906){const _0x1173e2=a149_0x194947;await utils_2[_0x1173e2(0x233)][_0x1173e2(0x20e)](_0x1173e2(0x237)+this[_0x1173e2(0x208)]+_0x1173e2(0x1f6)+_0x10d09c+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x4c7906+'\x22','');}async['add'](..._0x519f50){const _0x31fcf6=a149_0x194947;await utils_2['ChildProcessUtils'][_0x31fcf6(0x20e)](_0x31fcf6(0x237)+this[_0x31fcf6(0x208)]+_0x31fcf6(0x225)+_0x519f50[_0x31fcf6(0x1fd)]('\x20'),'');}async[a149_0x194947(0x1ed)](){const _0xe75200=a149_0x194947;return utils_2[_0xe75200(0x233)][_0xe75200(0x20e)]('cd\x20'+this['_repoPath']+_0xe75200(0x1f3),'');}async[a149_0x194947(0x229)](_0xaa7aac){const _0x5e0be5=a149_0x194947;Git[_0x5e0be5(0x1fc)][_0x5e0be5(0x21b)](_0x5e0be5(0x222),_0xaa7aac),await utils_2[_0x5e0be5(0x233)]['spawnPromise'](_0x5e0be5(0x237)+this[_0x5e0be5(0x208)]+_0x5e0be5(0x20b)+_0xaa7aac+'\x22','');}async[a149_0x194947(0x203)](_0x105b41){const _0x33db42=a149_0x194947;Git['logger'][_0x33db42(0x21b)](_0x33db42(0x219),_0x105b41),await utils_2[_0x33db42(0x233)]['spawnPromise'](_0x33db42(0x237)+this[_0x33db42(0x208)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x105b41+_0x33db42(0x202),'');}async[a149_0x194947(0x216)](_0x4bc539){const _0x5d7273=a149_0x194947;Git['logger'][_0x5d7273(0x21b)](_0x5d7273(0x22f),_0x4bc539),await utils_2[_0x5d7273(0x233)]['spawnPromise'](_0x5d7273(0x237)+this[_0x5d7273(0x208)]+'\x20&&\x20git\x20checkout\x20'+_0x4bc539,'');}async[a149_0x194947(0x1ff)](){const _0x40a8d1=a149_0x194947,_0x2d7aca=await utils_2[_0x40a8d1(0x233)]['spawnPromise'](_0x40a8d1(0x237)+this[_0x40a8d1(0x208)]+_0x40a8d1(0x1f4),'');return _0x2d7aca[_0x40a8d1(0x20c)]('\x0a','');}async[a149_0x194947(0x211)](_0x53fdcf){const _0x3b408d=a149_0x194947;Git[_0x3b408d(0x1fc)][_0x3b408d(0x21b)](_0x3b408d(0x200),_0x53fdcf);const _0x4376a0=await utils_2[_0x3b408d(0x233)][_0x3b408d(0x20e)](_0x3b408d(0x237)+this[_0x3b408d(0x208)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x53fdcf,'');return{'author':(0x0,internal_utils_1[_0x3b408d(0x1e5)])(_0x4376a0),'email':(0x0,internal_utils_1[_0x3b408d(0x213)])(_0x4376a0),'message':(0x0,internal_utils_1[_0x3b408d(0x21f)])(_0x4376a0),'changes':(0x0,internal_utils_1[_0x3b408d(0x22a)])(_0x4376a0)};}static async['getRemoteHash'](_0x22d652,_0x3a8d04){const _0x3a295e=a149_0x194947,[_0x1f31b9]=await utils_2[_0x3a295e(0x233)][_0x3a295e(0x20e)]('git\x20ls-remote\x20'+_0x22d652+'\x20'+_0x3a8d04+'\x20--refs','')['then'](_0x44b433=>_0x44b433[_0x3a295e(0x20c)](/\s/g,'\x20')[_0x3a295e(0x22e)]('\x20'));return _0x1f31b9;}static async[a149_0x194947(0x238)](_0x51df7b,_0x3eff24,_0x2a1351){const _0x395165=a149_0x194947,_0x345251=path_1['default'][_0x395165(0x1fd)](this[_0x395165(0x218)],_0x3eff24),_0x2b206d=new Git(_0x345251);return Git[_0x395165(0x1fc)][_0x395165(0x21b)](_0x395165(0x239),_0x2a1351,_0x345251),await fs_internal_1['FS'][_0x395165(0x212)](_0x345251),await utils_2[_0x395165(0x233)][_0x395165(0x20e)](_0x395165(0x210)+_0x2a1351+_0x395165(0x231)+_0x51df7b+'\x20'+_0x345251,''),_0x2b206d;}static async[a149_0x194947(0x205)](_0x1b312f,_0x9f6c5e){const _0x3fba50=a149_0x194947,_0x553163=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x60d627=_0x1b312f[_0x3fba50(0x21d)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x3fba50(0x206)])(_0x1b312f[_0x3fba50(0x21d)])+_0x3fba50(0x20d)+_0x9f6c5e[_0x3fba50(0x1fa)]()+'@'),_0x1329c5=await utils_2['ChildProcessUtils'][_0x3fba50(0x20e)](_0x3fba50(0x1ec)+_0x60d627,'');return _0x1329c5[_0x3fba50(0x22e)]('\x0a')[_0x3fba50(0x20a)](_0x36cae8=>_0x553163[_0x3fba50(0x224)](_0x36cae8))[_0x3fba50(0x1ee)](_0x407f58=>{const _0x12dd74=_0x3fba50,[,_0x1d7321,_0x47732a]=_0x407f58[_0x12dd74(0x215)](_0x553163),_0x428f4a=new branch_dto_1['BranchDto']();return _0x428f4a[_0x12dd74(0x230)]=_0x1d7321,_0x428f4a[_0x12dd74(0x226)]=_0x47732a[_0x12dd74(0x20c)]('refs/heads/',''),_0x428f4a;});}static async['createEmptyBranch'](_0x1ab035,_0x5d2939,_0xa10d8c,_0x457754){const _0x34d1f7=a149_0x194947;var _0x52f1f5,_0x1e5fa5;const _0x521f77=_0x1ab035['gitUrl'][_0x34d1f7(0x20c)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x34d1f7(0x206)])(_0x1ab035['gitUrl'])+'://'+_0x457754['getGitShellAuthorizationString']()+'@'),_0x21f2d6=path_1['default'][_0x34d1f7(0x1fd)](this[_0x34d1f7(0x218)],_0x1ab035[_0x34d1f7(0x226)]);Git[_0x34d1f7(0x1fc)]['log']('Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x1ab035['name'],_0x5d2939[_0x34d1f7(0x226)],_0x21f2d6),await fs_internal_1['FS']['removeDir'](_0x21f2d6),await fs_internal_1['FS'][_0x34d1f7(0x21a)](_0x21f2d6);const _0x25a637=new Git(_0x21f2d6);await utils_2[_0x34d1f7(0x233)][_0x34d1f7(0x20e)](_0x34d1f7(0x237)+_0x25a637[_0x34d1f7(0x214)]+_0x34d1f7(0x1eb),''),await utils_2[_0x34d1f7(0x233)][_0x34d1f7(0x20e)](_0x34d1f7(0x237)+_0x25a637['baseDir']+_0x34d1f7(0x207)+_0x521f77,''),await _0x25a637['setCredentials'](((_0x52f1f5=_0x5d2939[_0x34d1f7(0x22d)])===null||_0x52f1f5===void 0x0?void 0x0:_0x52f1f5['name'])||constants_1[_0x34d1f7(0x20f)],((_0x1e5fa5=_0x5d2939['user'])===null||_0x1e5fa5===void 0x0?void 0x0:_0x1e5fa5[_0x34d1f7(0x204)])||constants_1[_0x34d1f7(0x221)]),await utils_2[_0x34d1f7(0x233)][_0x34d1f7(0x20e)](_0x34d1f7(0x237)+_0x25a637['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x5d2939[_0x34d1f7(0x226)],''),await utils_2[_0x34d1f7(0x233)]['spawnPromise'](_0x34d1f7(0x237)+_0x25a637['baseDir']+_0x34d1f7(0x20b)+(_0xa10d8c||constants_1['INITIAL_COMMIT'])+_0x34d1f7(0x232),''),await _0x25a637['push'](_0x5d2939[_0x34d1f7(0x226)]),Git[_0x34d1f7(0x1fc)][_0x34d1f7(0x21b)](_0x34d1f7(0x1f9)),await fs_internal_1['FS'][_0x34d1f7(0x212)](_0x25a637[_0x34d1f7(0x214)]);}}exports[a149_0x194947(0x1ef)]=Git,Git[a149_0x194947(0x218)]=path_1['default'][a149_0x194947(0x1fd)](process[a149_0x194947(0x1fe)](),'.temp',a149_0x194947(0x1f7)),Git[a149_0x194947(0x1fc)]=new core_1['Logger'](Git[a149_0x194947(0x226)]);