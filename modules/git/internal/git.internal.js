const a126_0x309a42=a126_0x2577;(function(_0x45da64,_0x49c692){const _0x84fa6=a126_0x2577,_0x2eb979=_0x45da64();while(!![]){try{const _0x2b8f91=-parseInt(_0x84fa6(0x210))/0x1*(-parseInt(_0x84fa6(0x201))/0x2)+parseInt(_0x84fa6(0x1fd))/0x3*(parseInt(_0x84fa6(0x1f6))/0x4)+parseInt(_0x84fa6(0x21f))/0x5+-parseInt(_0x84fa6(0x1ed))/0x6+parseInt(_0x84fa6(0x213))/0x7*(parseInt(_0x84fa6(0x224))/0x8)+-parseInt(_0x84fa6(0x1e5))/0x9+parseInt(_0x84fa6(0x20a))/0xa;if(_0x2b8f91===_0x49c692)break;else _0x2eb979['push'](_0x2eb979['shift']());}catch(_0xe4cb52){_0x2eb979['push'](_0x2eb979['shift']());}}}(a126_0x4bd4,0x4f94e));function a126_0x2577(_0x262a8c,_0x40ae19){const _0x47bb64=a126_0x4bd4();return a126_0x2577=function(_0x20ca3e,_0x3408e7){_0x20ca3e=_0x20ca3e-0x1dd;let _0x4bd435=_0x47bb64[_0x20ca3e];return _0x4bd435;},a126_0x2577(_0x262a8c,_0x40ae19);}const a126_0x3408e7=(function(){let _0x5af0ad=!![];return function(_0x3bf4f4,_0x4466eb){const _0x300a5a=_0x5af0ad?function(){if(_0x4466eb){const _0x29f059=_0x4466eb['apply'](_0x3bf4f4,arguments);return _0x4466eb=null,_0x29f059;}}:function(){};return _0x5af0ad=![],_0x300a5a;};}()),a126_0x20ca3e=a126_0x3408e7(this,function(){const _0x2b1b95=a126_0x2577;return a126_0x20ca3e[_0x2b1b95(0x22f)]()[_0x2b1b95(0x22a)]('(((.+)+)+)+$')['toString']()[_0x2b1b95(0x215)](a126_0x20ca3e)['search'](_0x2b1b95(0x1e8));});a126_0x20ca3e();function a126_0x4bd4(){const _0x4878b1=['log','../../../constants','BranchDto','then','3712311GTYXuc','\x20&&\x20git\x20remote\x20add\x20origin\x20','git\x20clone\x20-b\x20','(((.+)+)+)+$','\x20&&\x20git\x20commit\x20-m\x20\x22','Logger','__esModule','makeDir','3848424dxaZxO','getProtocol','createEmptyBranch','replace','./internal.utils','clone','INITIAL_COMMIT','extractEmailFromCommitDescribe','test','2292AUJCGJ','status','describeCommit','join','../../shared/utils','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','Git','909FbhYum','map','extractAuthorFromCommitDescribe','git','933488kKhmmU','default','__importDefault','getRepositoryBranches','\x20&&\x20git\x20init','\x20&&\x20git\x20push\x20origin\x20','removeDir','DEFAULT_GIT_USER_EMAIL','refs/heads/','919060ERTZDX','_repoPath','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','@flosum/utils','\x22\x20--allow-empty','spawnPromise','1YgVxjN','logger','filter','100639DZPucY','cd\x20','constructor','getGitShellAuthorizationString','git\x20ls-remote\x20','\x20&&\x20git\x20rev-parse\x20HEAD','setCredentials','split','name','\x20&&\x20git\x20status','commit\x20message\x20\x22%s\x22','extractMessageFromCommitDescribe','1584545ayyyiZ','baseDir','match','gitUrl','.temp','184bhEEnE','defineProperty','push\x20changes\x20to\x20%s','./fs.internal','describe\x20commit\x20%s','clone\x20repository\x20branch\x20%s\x20to\x20%s','search','DEFAULT_CLONE_PATH','ChildProcessUtils','\x20&&\x20git\x20checkout\x20','sha','toString','checkout\x20to\x20%s','path','push','\x20--quiet','../providers/branches/dto/branch.dto'];a126_0x4bd4=function(){return _0x4878b1;};return a126_0x4bd4();}'use strict';var __importDefault=this&&this[a126_0x309a42(0x203)]||function(_0x3c5970){const _0x560c49=a126_0x309a42;return _0x3c5970&&_0x3c5970[_0x560c49(0x1eb)]?_0x3c5970:{'default':_0x3c5970};};Object[a126_0x309a42(0x225)](exports,a126_0x309a42(0x1eb),{'value':!![]}),exports[a126_0x309a42(0x1fc)]=void 0x0;const constants_1=require(a126_0x309a42(0x1e2)),core_1=require('../../../core'),path_1=__importDefault(require(a126_0x309a42(0x1dd))),branch_dto_1=require(a126_0x309a42(0x1e0)),utils_1=require(a126_0x309a42(0x1fa)),fs_internal_1=require(a126_0x309a42(0x227)),internal_utils_1=require(a126_0x309a42(0x1f1)),utils_2=require(a126_0x309a42(0x20d));class Git{constructor(_0x2fecf5){this['_repoPath']=_0x2fecf5;}get[a126_0x309a42(0x220)](){return this['_repoPath'];}async[a126_0x309a42(0x219)](_0x234614,_0x16493d){const _0x1bf068=a126_0x309a42;await utils_2[_0x1bf068(0x22c)]['spawnPromise'](_0x1bf068(0x214)+this['_repoPath']+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x234614+_0x1bf068(0x1fb)+_0x16493d+'\x22','');}async['add'](..._0x24defa){const _0x5e9586=a126_0x309a42;await utils_2[_0x5e9586(0x22c)][_0x5e9586(0x20f)](_0x5e9586(0x214)+this['_repoPath']+'\x20&&\x20git\x20add\x20'+_0x24defa[_0x5e9586(0x1f9)]('\x20'),'');}async[a126_0x309a42(0x1f7)](){const _0x4ef625=a126_0x309a42;return utils_2[_0x4ef625(0x22c)][_0x4ef625(0x20f)](_0x4ef625(0x214)+this[_0x4ef625(0x20b)]+_0x4ef625(0x21c),'');}async['commit'](_0x7968c8){const _0x190900=a126_0x309a42;Git['logger']['log'](_0x190900(0x21d),_0x7968c8),await utils_2[_0x190900(0x22c)][_0x190900(0x20f)]('cd\x20'+this['_repoPath']+_0x190900(0x1e9)+_0x7968c8+'\x22','');}async['push'](_0x1953db){const _0x49269f=a126_0x309a42;Git[_0x49269f(0x211)][_0x49269f(0x1e1)](_0x49269f(0x226),_0x1953db),await utils_2[_0x49269f(0x22c)]['spawnPromise'](_0x49269f(0x214)+this[_0x49269f(0x20b)]+_0x49269f(0x206)+_0x1953db+_0x49269f(0x1df),'');}async['checkout'](_0x13238b){const _0x3a02cd=a126_0x309a42;Git[_0x3a02cd(0x211)][_0x3a02cd(0x1e1)](_0x3a02cd(0x230),_0x13238b),await utils_2[_0x3a02cd(0x22c)][_0x3a02cd(0x20f)](_0x3a02cd(0x214)+this[_0x3a02cd(0x20b)]+_0x3a02cd(0x22d)+_0x13238b,'');}async['getCurrentHash'](){const _0x1c877b=a126_0x309a42,_0x1f18e1=await utils_2[_0x1c877b(0x22c)]['spawnPromise']('cd\x20'+this['_repoPath']+_0x1c877b(0x218),'');return _0x1f18e1[_0x1c877b(0x1f0)]('\x0a','');}async[a126_0x309a42(0x1f8)](_0x20f3e5){const _0x1b3a4b=a126_0x309a42;Git[_0x1b3a4b(0x211)][_0x1b3a4b(0x1e1)](_0x1b3a4b(0x228),_0x20f3e5);const _0x26c4a7=await utils_2[_0x1b3a4b(0x22c)][_0x1b3a4b(0x20f)](_0x1b3a4b(0x214)+this[_0x1b3a4b(0x20b)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x20f3e5,'');return{'author':(0x0,internal_utils_1[_0x1b3a4b(0x1ff)])(_0x26c4a7),'email':(0x0,internal_utils_1[_0x1b3a4b(0x1f4)])(_0x26c4a7),'message':(0x0,internal_utils_1[_0x1b3a4b(0x21e)])(_0x26c4a7),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x26c4a7)};}static async['getRemoteHash'](_0x2d3a57,_0x28f377){const _0x29c4c0=a126_0x309a42,[_0x1e31b3]=await utils_2[_0x29c4c0(0x22c)]['spawnPromise'](_0x29c4c0(0x217)+_0x2d3a57+'\x20'+_0x28f377+'\x20--refs','')[_0x29c4c0(0x1e4)](_0x5257df=>_0x5257df['replace'](/\s/g,'\x20')[_0x29c4c0(0x21a)]('\x20'));return _0x1e31b3;}static async[a126_0x309a42(0x1f2)](_0x5e9552,_0x3afb6a,_0x2d523b){const _0xa7b3e0=a126_0x309a42,_0x38c207=path_1[_0xa7b3e0(0x202)][_0xa7b3e0(0x1f9)](this[_0xa7b3e0(0x22b)],_0x3afb6a),_0x16e8b3=new Git(_0x38c207);return Git[_0xa7b3e0(0x211)][_0xa7b3e0(0x1e1)](_0xa7b3e0(0x229),_0x2d523b,_0x38c207),await fs_internal_1['FS'][_0xa7b3e0(0x207)](_0x38c207),await utils_2[_0xa7b3e0(0x22c)][_0xa7b3e0(0x20f)](_0xa7b3e0(0x1e7)+_0x2d523b+'\x20--single-branch\x20'+_0x5e9552+'\x20'+_0x38c207,''),_0x16e8b3;}static async[a126_0x309a42(0x204)](_0x1abc78,_0x38ac34){const _0x38fdae=a126_0x309a42,_0x427971=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x15884c=_0x1abc78[_0x38fdae(0x222)][_0x38fdae(0x1f0)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x38fdae(0x1ee)])(_0x1abc78[_0x38fdae(0x222)])+'://'+_0x38ac34[_0x38fdae(0x216)]()+'@'),_0x4f6690=await utils_2['ChildProcessUtils'][_0x38fdae(0x20f)](_0x38fdae(0x217)+_0x15884c,'');return _0x4f6690['split']('\x0a')[_0x38fdae(0x212)](_0x853098=>_0x427971[_0x38fdae(0x1f5)](_0x853098))[_0x38fdae(0x1fe)](_0x1f9817=>{const _0x153c48=_0x38fdae,[,_0x5a43f6,_0x5e3f54]=_0x1f9817[_0x153c48(0x221)](_0x427971),_0x2a8584=new branch_dto_1[(_0x153c48(0x1e3))]();return _0x2a8584[_0x153c48(0x22e)]=_0x5a43f6,_0x2a8584[_0x153c48(0x21b)]=_0x5e3f54['replace'](_0x153c48(0x209),''),_0x2a8584;});}static async[a126_0x309a42(0x1ef)](_0x220d51,_0x40ba64,_0x2027e5,_0x30f131){const _0x2e1262=a126_0x309a42,_0x195a99=_0x220d51[_0x2e1262(0x222)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2e1262(0x1ee)])(_0x220d51[_0x2e1262(0x222)])+'://'+_0x30f131[_0x2e1262(0x216)]()+'@'),_0x5dd722=path_1['default']['join'](this[_0x2e1262(0x22b)],_0x220d51[_0x2e1262(0x21b)]);Git[_0x2e1262(0x211)][_0x2e1262(0x1e1)](_0x2e1262(0x20c),_0x220d51[_0x2e1262(0x21b)],_0x40ba64,_0x5dd722),await fs_internal_1['FS'][_0x2e1262(0x207)](_0x5dd722),await fs_internal_1['FS'][_0x2e1262(0x1ec)](_0x5dd722);const _0x3c66d0=new Git(_0x5dd722);await utils_2[_0x2e1262(0x22c)]['spawnPromise'](_0x2e1262(0x214)+_0x3c66d0[_0x2e1262(0x220)]+_0x2e1262(0x205),''),await utils_2[_0x2e1262(0x22c)][_0x2e1262(0x20f)](_0x2e1262(0x214)+_0x3c66d0['baseDir']+_0x2e1262(0x1e6)+_0x195a99,''),await _0x3c66d0[_0x2e1262(0x219)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x2e1262(0x208)]),await utils_2['ChildProcessUtils'][_0x2e1262(0x20f)](_0x2e1262(0x214)+_0x3c66d0[_0x2e1262(0x220)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x40ba64,''),await utils_2['ChildProcessUtils'][_0x2e1262(0x20f)](_0x2e1262(0x214)+_0x3c66d0[_0x2e1262(0x220)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x2027e5||constants_1[_0x2e1262(0x1f3)])+_0x2e1262(0x20e),''),await _0x3c66d0[_0x2e1262(0x1de)](_0x40ba64),Git[_0x2e1262(0x211)][_0x2e1262(0x1e1)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x2e1262(0x207)](_0x3c66d0[_0x2e1262(0x220)]);}}exports[a126_0x309a42(0x1fc)]=Git,Git[a126_0x309a42(0x22b)]=path_1[a126_0x309a42(0x202)]['join'](process['cwd'](),a126_0x309a42(0x223),a126_0x309a42(0x200)),Git[a126_0x309a42(0x211)]=new core_1[(a126_0x309a42(0x1ea))](Git[a126_0x309a42(0x21b)]);