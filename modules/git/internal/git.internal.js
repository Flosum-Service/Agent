const a149_0x2ff625=a149_0x55da;function a149_0x22ca(){const _0xb70930=['test','.temp','./internal.utils','2076948BxCQXJ','\x20&&\x20git\x20checkout\x20','extractEmailFromCommitDescribe','toString','../../../core','git\x20ls-remote\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','131832Lvzprf','722682YAQLqY','extractAuthorFromCommitDescribe','removeDir','filter','log','Push\x20changes\x20to\x20%s','Commit\x20message\x20\x22%s\x22','defineProperty','(((.+)+)+)+$','83046CSGXAZ','email','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','cd\x20','getRepositoryBranches','DEFAULT_CLONE_PATH','217fFKyqE','checkout','join','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','replace','search','constructor','INITIAL_COMMIT','2959830OZMKAx','clone','\x20--refs','split','name','_repoPath','@flosum/utils','map','getProtocol','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','apply','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20rev-parse\x20HEAD','sha','../../../constants','user','logger','./fs.internal','../../shared/utils','Git','://','__importDefault','\x20--quiet','__esModule','gitUrl','baseDir','76012ylIWQU','\x20&&\x20git\x20add\x20','spawnPromise','\x20&&\x20git\x20push\x20origin\x20','setCredentials','makeDir','24dGKHgt','push','extractChangesFromCommitDescribe','Checkout\x20to\x20%s','Logger','default','refs/heads/','307934EQiPak','\x20&&\x20git\x20status','ChildProcessUtils','getCurrentHash','extractMessageFromCommitDescribe','add','70EDVuzy','getGitShellAuthorizationString'];a149_0x22ca=function(){return _0xb70930;};return a149_0x22ca();}(function(_0x103095,_0x31f678){const _0x54d63d=a149_0x55da,_0x5ccb12=_0x103095();while(!![]){try{const _0x26b580=parseInt(_0x54d63d(0x1f6))/0x1+-parseInt(_0x54d63d(0x209))/0x2+parseInt(_0x54d63d(0x1ef))/0x3*(parseInt(_0x54d63d(0x1e9))/0x4)+parseInt(_0x54d63d(0x1fc))/0x5*(parseInt(_0x54d63d(0x212))/0x6)+parseInt(_0x54d63d(0x218))/0x7*(parseInt(_0x54d63d(0x208))/0x8)+-parseInt(_0x54d63d(0x201))/0x9+-parseInt(_0x54d63d(0x1cf))/0xa;if(_0x26b580===_0x31f678)break;else _0x5ccb12['push'](_0x5ccb12['shift']());}catch(_0x5571ad){_0x5ccb12['push'](_0x5ccb12['shift']());}}}(a149_0x22ca,0x43805));const a149_0x5b7212=(function(){let _0x48bd31=!![];return function(_0x21ed4f,_0x4e6692){const _0x3bcce0=_0x48bd31?function(){const _0x371d7e=a149_0x55da;if(_0x4e6692){const _0x3a36dc=_0x4e6692[_0x371d7e(0x1d9)](_0x21ed4f,arguments);return _0x4e6692=null,_0x3a36dc;}}:function(){};return _0x48bd31=![],_0x3bcce0;};}()),a149_0x62c772=a149_0x5b7212(this,function(){const _0x54f3b2=a149_0x55da;return a149_0x62c772[_0x54f3b2(0x204)]()['search']('(((.+)+)+)+$')[_0x54f3b2(0x204)]()[_0x54f3b2(0x1cd)](a149_0x62c772)[_0x54f3b2(0x21e)](_0x54f3b2(0x211));});a149_0x62c772();'use strict';function a149_0x55da(_0x55aa14,_0x2d4d75){const _0x1a7d4d=a149_0x22ca();return a149_0x55da=function(_0x62c772,_0x5b7212){_0x62c772=_0x62c772-0x1cd;let _0x22caed=_0x1a7d4d[_0x62c772];return _0x22caed;},a149_0x55da(_0x55aa14,_0x2d4d75);}var __importDefault=this&&this[a149_0x2ff625(0x1e4)]||function(_0x2d25f2){const _0x5baa2d=a149_0x2ff625;return _0x2d25f2&&_0x2d25f2[_0x5baa2d(0x1e6)]?_0x2d25f2:{'default':_0x2d25f2};};Object[a149_0x2ff625(0x210)](exports,'__esModule',{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a149_0x2ff625(0x1dd)),core_1=require(a149_0x2ff625(0x205)),path_1=__importDefault(require('path')),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a149_0x2ff625(0x1e1)),fs_internal_1=require(a149_0x2ff625(0x1e0)),internal_utils_1=require(a149_0x2ff625(0x200)),utils_2=require(a149_0x2ff625(0x1d5));class Git{constructor(_0x5cb491){const _0xca3f8a=a149_0x2ff625;this[_0xca3f8a(0x1d4)]=_0x5cb491;}get[a149_0x2ff625(0x1e8)](){const _0x29d34c=a149_0x2ff625;return this[_0x29d34c(0x1d4)];}async['setCredentials'](_0x5f3dfe,_0x4f0d23){const _0x42b1d2=a149_0x2ff625;await utils_2[_0x42b1d2(0x1f8)][_0x42b1d2(0x1eb)]('cd\x20'+this[_0x42b1d2(0x1d4)]+_0x42b1d2(0x1d8)+_0x5f3dfe+_0x42b1d2(0x214)+_0x4f0d23+'\x22','');}async[a149_0x2ff625(0x1fb)](..._0x1c3637){const _0x3df433=a149_0x2ff625;await utils_2[_0x3df433(0x1f8)][_0x3df433(0x1eb)]('cd\x20'+this[_0x3df433(0x1d4)]+_0x3df433(0x1ea)+_0x1c3637['join']('\x20'),'');}async['status'](){const _0x1a0e3b=a149_0x2ff625;return utils_2['ChildProcessUtils'][_0x1a0e3b(0x1eb)]('cd\x20'+this[_0x1a0e3b(0x1d4)]+_0x1a0e3b(0x1f7),'');}async['commit'](_0x3befc1){const _0x1cc26c=a149_0x2ff625;Git['logger'][_0x1cc26c(0x20d)](_0x1cc26c(0x20f),_0x3befc1),await utils_2[_0x1cc26c(0x1f8)][_0x1cc26c(0x1eb)](_0x1cc26c(0x215)+this[_0x1cc26c(0x1d4)]+_0x1cc26c(0x1da)+_0x3befc1+'\x22','');}async[a149_0x2ff625(0x1f0)](_0x2be0e3){const _0x29f173=a149_0x2ff625;Git[_0x29f173(0x1df)]['log'](_0x29f173(0x20e),_0x2be0e3),await utils_2[_0x29f173(0x1f8)][_0x29f173(0x1eb)]('cd\x20'+this['_repoPath']+_0x29f173(0x1ec)+_0x2be0e3+_0x29f173(0x1e5),'');}async[a149_0x2ff625(0x219)](_0x3a9f52){const _0x25be6e=a149_0x2ff625;Git[_0x25be6e(0x1df)][_0x25be6e(0x20d)](_0x25be6e(0x1f2),_0x3a9f52),await utils_2[_0x25be6e(0x1f8)][_0x25be6e(0x1eb)](_0x25be6e(0x215)+this[_0x25be6e(0x1d4)]+_0x25be6e(0x202)+_0x3a9f52,'');}async[a149_0x2ff625(0x1f9)](){const _0x1df69b=a149_0x2ff625,_0x261ff6=await utils_2[_0x1df69b(0x1f8)]['spawnPromise']('cd\x20'+this[_0x1df69b(0x1d4)]+_0x1df69b(0x1db),'');return _0x261ff6[_0x1df69b(0x21d)]('\x0a','');}async['describeCommit'](_0xf5410){const _0x1cd7b3=a149_0x2ff625;Git[_0x1cd7b3(0x1df)][_0x1cd7b3(0x20d)]('Describe\x20commit\x20%s',_0xf5410);const _0x521e10=await utils_2[_0x1cd7b3(0x1f8)][_0x1cd7b3(0x1eb)](_0x1cd7b3(0x215)+this[_0x1cd7b3(0x1d4)]+_0x1cd7b3(0x207)+_0xf5410,'');return{'author':(0x0,internal_utils_1[_0x1cd7b3(0x20a)])(_0x521e10),'email':(0x0,internal_utils_1[_0x1cd7b3(0x203)])(_0x521e10),'message':(0x0,internal_utils_1[_0x1cd7b3(0x1fa)])(_0x521e10),'changes':(0x0,internal_utils_1[_0x1cd7b3(0x1f1)])(_0x521e10)};}static async['getRemoteHash'](_0x3127a6,_0x29fe8b){const _0x44a84e=a149_0x2ff625,[_0x2b93e5]=await utils_2[_0x44a84e(0x1f8)][_0x44a84e(0x1eb)](_0x44a84e(0x206)+_0x3127a6+'\x20'+_0x29fe8b+_0x44a84e(0x1d1),'')['then'](_0x24a3b1=>_0x24a3b1[_0x44a84e(0x21d)](/\s/g,'\x20')[_0x44a84e(0x1d2)]('\x20'));return _0x2b93e5;}static async[a149_0x2ff625(0x1d0)](_0x263dca,_0x19e19c,_0x528da9){const _0x2ec47d=a149_0x2ff625,_0x4e0894=path_1[_0x2ec47d(0x1f4)][_0x2ec47d(0x21a)](this[_0x2ec47d(0x217)],_0x19e19c),_0x176430=new Git(_0x4e0894);return Git[_0x2ec47d(0x1df)]['log']('Clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x528da9,_0x4e0894),await fs_internal_1['FS'][_0x2ec47d(0x20b)](_0x4e0894),await utils_2['ChildProcessUtils'][_0x2ec47d(0x1eb)]('git\x20clone\x20-b\x20'+_0x528da9+'\x20--single-branch\x20'+_0x263dca+'\x20'+_0x4e0894,''),_0x176430;}static async[a149_0x2ff625(0x216)](_0x2cbf1d,_0x1f0839){const _0x6961e1=a149_0x2ff625,_0x2fd2ed=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x5117d5=_0x2cbf1d['gitUrl'][_0x6961e1(0x21d)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x6961e1(0x1d7)])(_0x2cbf1d['gitUrl'])+_0x6961e1(0x1e3)+_0x1f0839['getGitShellAuthorizationString']()+'@'),_0x1be2d6=await utils_2['ChildProcessUtils'][_0x6961e1(0x1eb)]('git\x20ls-remote\x20'+_0x5117d5,'');return _0x1be2d6[_0x6961e1(0x1d2)]('\x0a')[_0x6961e1(0x20c)](_0x55a04d=>_0x2fd2ed[_0x6961e1(0x1fe)](_0x55a04d))[_0x6961e1(0x1d6)](_0x5a5389=>{const _0x3e2ed3=_0x6961e1,[,_0x330ac9,_0x38b6d6]=_0x5a5389['match'](_0x2fd2ed),_0x1b8577=new branch_dto_1['BranchDto']();return _0x1b8577[_0x3e2ed3(0x1dc)]=_0x330ac9,_0x1b8577[_0x3e2ed3(0x1d3)]=_0x38b6d6[_0x3e2ed3(0x21d)](_0x3e2ed3(0x1f5),''),_0x1b8577;});}static async['createEmptyBranch'](_0x351ab,_0x5bf18a,_0x509415,_0x1154f6){const _0x4b9570=a149_0x2ff625;var _0x35296e,_0x5f4861;const _0x1f307d=_0x351ab[_0x4b9570(0x1e7)][_0x4b9570(0x21d)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x351ab[_0x4b9570(0x1e7)])+_0x4b9570(0x1e3)+_0x1154f6[_0x4b9570(0x1fd)]()+'@'),_0x157c23=path_1['default'][_0x4b9570(0x21a)](this[_0x4b9570(0x217)],_0x351ab[_0x4b9570(0x1d3)]);Git['logger']['log'](_0x4b9570(0x21c),_0x351ab[_0x4b9570(0x1d3)],_0x5bf18a[_0x4b9570(0x1d3)],_0x157c23),await fs_internal_1['FS']['removeDir'](_0x157c23),await fs_internal_1['FS'][_0x4b9570(0x1ee)](_0x157c23);const _0x539c45=new Git(_0x157c23);await utils_2[_0x4b9570(0x1f8)][_0x4b9570(0x1eb)](_0x4b9570(0x215)+_0x539c45[_0x4b9570(0x1e8)]+'\x20&&\x20git\x20init',''),await utils_2[_0x4b9570(0x1f8)][_0x4b9570(0x1eb)](_0x4b9570(0x215)+_0x539c45[_0x4b9570(0x1e8)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x1f307d,''),await _0x539c45[_0x4b9570(0x1ed)](((_0x35296e=_0x5bf18a[_0x4b9570(0x1de)])===null||_0x35296e===void 0x0?void 0x0:_0x35296e[_0x4b9570(0x1d3)])||constants_1['DEFAULT_GIT_USER_NAME'],((_0x5f4861=_0x5bf18a[_0x4b9570(0x1de)])===null||_0x5f4861===void 0x0?void 0x0:_0x5f4861[_0x4b9570(0x213)])||constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2['ChildProcessUtils'][_0x4b9570(0x1eb)](_0x4b9570(0x215)+_0x539c45['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x5bf18a['name'],''),await utils_2['ChildProcessUtils']['spawnPromise'](_0x4b9570(0x215)+_0x539c45[_0x4b9570(0x1e8)]+_0x4b9570(0x1da)+(_0x509415||constants_1[_0x4b9570(0x1ce)])+'\x22\x20--allow-empty',''),await _0x539c45['push'](_0x5bf18a[_0x4b9570(0x1d3)]),Git['logger']['log'](_0x4b9570(0x21b)),await fs_internal_1['FS']['removeDir'](_0x539c45[_0x4b9570(0x1e8)]);}}exports[a149_0x2ff625(0x1e2)]=Git,Git[a149_0x2ff625(0x217)]=path_1[a149_0x2ff625(0x1f4)][a149_0x2ff625(0x21a)](process['cwd'](),a149_0x2ff625(0x1ff),'git'),Git[a149_0x2ff625(0x1df)]=new core_1[(a149_0x2ff625(0x1f3))](Git[a149_0x2ff625(0x1d3)]);