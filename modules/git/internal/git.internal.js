const a126_0x13ce2c=a126_0x4c87;(function(_0x3ad98f,_0x5bd3e8){const _0x5ec3cb=a126_0x4c87,_0x2815f0=_0x3ad98f();while(!![]){try{const _0x2fa2c7=-parseInt(_0x5ec3cb(0x13b))/0x1*(-parseInt(_0x5ec3cb(0x11d))/0x2)+-parseInt(_0x5ec3cb(0x13a))/0x3+parseInt(_0x5ec3cb(0x130))/0x4+parseInt(_0x5ec3cb(0x12b))/0x5*(-parseInt(_0x5ec3cb(0x125))/0x6)+parseInt(_0x5ec3cb(0x140))/0x7*(-parseInt(_0x5ec3cb(0x142))/0x8)+-parseInt(_0x5ec3cb(0xfe))/0x9+parseInt(_0x5ec3cb(0x120))/0xa;if(_0x2fa2c7===_0x5bd3e8)break;else _0x2815f0['push'](_0x2815f0['shift']());}catch(_0x35dbc6){_0x2815f0['push'](_0x2815f0['shift']());}}}(a126_0x2fd2,0xf257e));const a126_0x5db74e=(function(){let _0x42e6f6=!![];return function(_0xcc5427,_0x221cd2){const _0x4797bd=_0x42e6f6?function(){const _0x418000=a126_0x4c87;if(_0x221cd2){const _0xfb4dd4=_0x221cd2[_0x418000(0xff)](_0xcc5427,arguments);return _0x221cd2=null,_0xfb4dd4;}}:function(){};return _0x42e6f6=![],_0x4797bd;};}()),a126_0x2b4427=a126_0x5db74e(this,function(){const _0x5e8d78=a126_0x4c87;return a126_0x2b4427[_0x5e8d78(0x137)]()[_0x5e8d78(0x12f)](_0x5e8d78(0x101))['toString']()[_0x5e8d78(0x13c)](a126_0x2b4427)[_0x5e8d78(0x12f)](_0x5e8d78(0x101));});a126_0x2b4427();function a126_0x4c87(_0x180bf4,_0x313c8d){const _0x58ab48=a126_0x2fd2();return a126_0x4c87=function(_0x2b4427,_0x5db74e){_0x2b4427=_0x2b4427-0xf1;let _0x2fd295=_0x58ab48[_0x2b4427];return _0x2fd295;},a126_0x4c87(_0x180bf4,_0x313c8d);}'use strict';var __importDefault=this&&this[a126_0x13ce2c(0x114)]||function(_0x6c28b6){const _0x120893=a126_0x13ce2c;return _0x6c28b6&&_0x6c28b6[_0x120893(0xf5)]?_0x6c28b6:{'default':_0x6c28b6};};Object['defineProperty'](exports,a126_0x13ce2c(0xf5),{'value':!![]}),exports[a126_0x13ce2c(0x119)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a126_0x13ce2c(0xfd)),path_1=__importDefault(require(a126_0x13ce2c(0x102))),branch_dto_1=require(a126_0x13ce2c(0x103)),utils_1=require(a126_0x13ce2c(0x131)),fs_internal_1=require(a126_0x13ce2c(0x105)),internal_utils_1=require(a126_0x13ce2c(0x12a)),utils_2=require('@flosum/utils');class Git{constructor(_0x153233){const _0x4079d9=a126_0x13ce2c;this[_0x4079d9(0x104)]=_0x153233;}get[a126_0x13ce2c(0x112)](){const _0x110c21=a126_0x13ce2c;return this[_0x110c21(0x104)];}async['setCredentials'](_0x32255c,_0x29a137){const _0x4b307a=a126_0x13ce2c;await utils_2[_0x4b307a(0x110)][_0x4b307a(0x127)]('cd\x20'+this[_0x4b307a(0x104)]+_0x4b307a(0x132)+_0x32255c+_0x4b307a(0x121)+_0x29a137+'\x22','');}async[a126_0x13ce2c(0x111)](..._0xc2a54c){const _0x5b476a=a126_0x13ce2c;await utils_2[_0x5b476a(0x110)][_0x5b476a(0x127)](_0x5b476a(0x113)+this['_repoPath']+'\x20&&\x20git\x20add\x20'+_0xc2a54c[_0x5b476a(0x108)]('\x20'),'');}async[a126_0x13ce2c(0x129)](){const _0x49965a=a126_0x13ce2c;return utils_2[_0x49965a(0x110)]['spawnPromise']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20status','');}async[a126_0x13ce2c(0xfa)](_0x276f28){const _0x2d6d12=a126_0x13ce2c;Git[_0x2d6d12(0x13d)][_0x2d6d12(0x12c)](_0x2d6d12(0x123),_0x276f28),await utils_2[_0x2d6d12(0x110)][_0x2d6d12(0x127)](_0x2d6d12(0x113)+this['_repoPath']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x276f28+'\x22','');}async[a126_0x13ce2c(0xf1)](_0x5b494d){const _0xeb7087=a126_0x13ce2c;Git['logger'][_0xeb7087(0x12c)]('push\x20changes\x20to\x20%s',_0x5b494d),await utils_2[_0xeb7087(0x110)][_0xeb7087(0x127)](_0xeb7087(0x113)+this[_0xeb7087(0x104)]+_0xeb7087(0x11c)+_0x5b494d+_0xeb7087(0x117),'');}async['checkout'](_0x4dd595){const _0x34311f=a126_0x13ce2c;Git[_0x34311f(0x13d)][_0x34311f(0x12c)]('checkout\x20to\x20%s',_0x4dd595),await utils_2[_0x34311f(0x110)][_0x34311f(0x127)](_0x34311f(0x113)+this[_0x34311f(0x104)]+_0x34311f(0x12e)+_0x4dd595,'');}async[a126_0x13ce2c(0x13f)](){const _0x3b0a73=a126_0x13ce2c,_0xedef41=await utils_2[_0x3b0a73(0x110)][_0x3b0a73(0x127)](_0x3b0a73(0x113)+this[_0x3b0a73(0x104)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0xedef41['replace']('\x0a','');}async[a126_0x13ce2c(0x143)](_0x133e29){const _0x342fa5=a126_0x13ce2c;Git[_0x342fa5(0x13d)]['log'](_0x342fa5(0x107),_0x133e29);const _0x495c14=await utils_2['ChildProcessUtils'][_0x342fa5(0x127)](_0x342fa5(0x113)+this['_repoPath']+_0x342fa5(0x10e)+_0x133e29,'');return{'author':(0x0,internal_utils_1[_0x342fa5(0x135)])(_0x495c14),'email':(0x0,internal_utils_1[_0x342fa5(0x122)])(_0x495c14),'message':(0x0,internal_utils_1[_0x342fa5(0x10c)])(_0x495c14),'changes':(0x0,internal_utils_1[_0x342fa5(0xfc)])(_0x495c14)};}static async['getRemoteHash'](_0x14e759,_0x59cae4){const _0x13f991=a126_0x13ce2c,[_0x3aae20]=await utils_2[_0x13f991(0x110)][_0x13f991(0x127)](_0x13f991(0xf3)+_0x14e759+'\x20'+_0x59cae4+_0x13f991(0x115),'')[_0x13f991(0x128)](_0x36d683=>_0x36d683[_0x13f991(0x106)](/\s/g,'\x20')[_0x13f991(0x11b)]('\x20'));return _0x3aae20;}static async[a126_0x13ce2c(0x10b)](_0x103f17,_0x3cc526,_0x5f419f){const _0xa2e37e=a126_0x13ce2c,_0x174b36=path_1[_0xa2e37e(0xf6)][_0xa2e37e(0x108)](this[_0xa2e37e(0xf8)],_0x3cc526),_0x23a366=new Git(_0x174b36);return Git[_0xa2e37e(0x13d)][_0xa2e37e(0x12c)](_0xa2e37e(0x134),_0x5f419f,_0x174b36),await fs_internal_1['FS'][_0xa2e37e(0xf7)](_0x174b36),await utils_2['ChildProcessUtils'][_0xa2e37e(0x127)](_0xa2e37e(0x124)+_0x5f419f+_0xa2e37e(0x10d)+_0x103f17+'\x20'+_0x174b36,''),_0x23a366;}static async[a126_0x13ce2c(0x144)](_0x3881ee,_0x265ff4){const _0x2f6b54=a126_0x13ce2c,_0x49c420=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3e9e2c=_0x3881ee[_0x2f6b54(0x141)][_0x2f6b54(0x106)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2f6b54(0x138)])(_0x3881ee[_0x2f6b54(0x141)])+'://'+_0x265ff4[_0x2f6b54(0xfb)]()+'@'),_0x2fb1ce=await utils_2['ChildProcessUtils'][_0x2f6b54(0x127)](_0x2f6b54(0xf3)+_0x3e9e2c,'');return _0x2fb1ce[_0x2f6b54(0x11b)]('\x0a')['filter'](_0x3dd324=>_0x49c420[_0x2f6b54(0x139)](_0x3dd324))[_0x2f6b54(0x10a)](_0x585f9a=>{const _0x1fed65=_0x2f6b54,[,_0x555a33,_0xb6cd0d]=_0x585f9a[_0x1fed65(0x133)](_0x49c420),_0x13b121=new branch_dto_1['BranchDto']();return _0x13b121[_0x1fed65(0x126)]=_0x555a33,_0x13b121[_0x1fed65(0x116)]=_0xb6cd0d[_0x1fed65(0x106)]('refs/heads/',''),_0x13b121;});}static async[a126_0x13ce2c(0x10f)](_0x33ed47,_0x2d030b,_0x53e7c8,_0xce82fa){const _0xcf5507=a126_0x13ce2c,_0x5c284e=_0x33ed47[_0xcf5507(0x141)][_0xcf5507(0x106)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x33ed47[_0xcf5507(0x141)])+_0xcf5507(0x11e)+_0xce82fa[_0xcf5507(0xfb)]()+'@'),_0x57f040=path_1[_0xcf5507(0xf6)][_0xcf5507(0x108)](this[_0xcf5507(0xf8)],_0x33ed47[_0xcf5507(0x116)]);Git['logger'][_0xcf5507(0x12c)](_0xcf5507(0x136),_0x33ed47[_0xcf5507(0x116)],_0x2d030b,_0x57f040),await fs_internal_1['FS'][_0xcf5507(0xf7)](_0x57f040),await fs_internal_1['FS'][_0xcf5507(0xf2)](_0x57f040);const _0x4d099e=new Git(_0x57f040);await utils_2[_0xcf5507(0x110)][_0xcf5507(0x127)](_0xcf5507(0x113)+_0x4d099e[_0xcf5507(0x112)]+_0xcf5507(0x100),''),await utils_2[_0xcf5507(0x110)][_0xcf5507(0x127)](_0xcf5507(0x113)+_0x4d099e['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x5c284e,''),await _0x4d099e[_0xcf5507(0xf9)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0xcf5507(0x110)][_0xcf5507(0x127)](_0xcf5507(0x113)+_0x4d099e['baseDir']+_0xcf5507(0x11a)+_0x2d030b,''),await utils_2['ChildProcessUtils'][_0xcf5507(0x127)](_0xcf5507(0x113)+_0x4d099e[_0xcf5507(0x112)]+_0xcf5507(0x109)+(_0x53e7c8||constants_1['INITIAL_COMMIT'])+_0xcf5507(0x11f),''),await _0x4d099e['push'](_0x2d030b),Git[_0xcf5507(0x13d)][_0xcf5507(0x12c)](_0xcf5507(0x13e)),await fs_internal_1['FS'][_0xcf5507(0xf7)](_0x4d099e[_0xcf5507(0x112)]);}}exports['Git']=Git,Git['DEFAULT_CLONE_PATH']=path_1[a126_0x13ce2c(0xf6)][a126_0x13ce2c(0x108)](process['cwd'](),a126_0x13ce2c(0xf4),a126_0x13ce2c(0x12d)),Git['logger']=new core_1[(a126_0x13ce2c(0x118))](Git['name']);function a126_0x2fd2(){const _0x103102=['apply','\x20&&\x20git\x20init','(((.+)+)+)+$','path','../providers/branches/dto/branch.dto','_repoPath','./fs.internal','replace','describe\x20commit\x20%s','join','\x20&&\x20git\x20commit\x20-m\x20\x22','map','clone','extractMessageFromCommitDescribe','\x20--single-branch\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','createEmptyBranch','ChildProcessUtils','add','baseDir','cd\x20','__importDefault','\x20--refs','name','\x20--quiet','Logger','Git','\x20&&\x20git\x20checkout\x20--orphan\x20','split','\x20&&\x20git\x20push\x20origin\x20','2266NVeWRH','://','\x22\x20--allow-empty','32933400MkmeEI','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','extractEmailFromCommitDescribe','commit\x20message\x20\x22%s\x22','git\x20clone\x20-b\x20','8257254CwUmuU','sha','spawnPromise','then','status','./internal.utils','5rgTnBy','log','git','\x20&&\x20git\x20checkout\x20','search','1823604Jphelr','../../shared/utils','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','match','clone\x20repository\x20branch\x20%s\x20to\x20%s','extractAuthorFromCommitDescribe','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','toString','getProtocol','test','1440507RleVbJ','733ilTeLv','constructor','logger','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','getCurrentHash','479129aneeLt','gitUrl','160kFmZdc','describeCommit','getRepositoryBranches','push','makeDir','git\x20ls-remote\x20','.temp','__esModule','default','removeDir','DEFAULT_CLONE_PATH','setCredentials','commit','getGitShellAuthorizationString','extractChangesFromCommitDescribe','../../../core','3255966dGWeBE'];a126_0x2fd2=function(){return _0x103102;};return a126_0x2fd2();}