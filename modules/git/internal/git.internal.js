const a126_0x3d0935=a126_0x17ee;(function(_0x1a5839,_0x405ede){const _0x4d18e1=a126_0x17ee,_0x5a2386=_0x1a5839();while(!![]){try{const _0x4f9925=parseInt(_0x4d18e1(0x1f8))/0x1+parseInt(_0x4d18e1(0x1e9))/0x2*(parseInt(_0x4d18e1(0x1eb))/0x3)+parseInt(_0x4d18e1(0x1dd))/0x4*(parseInt(_0x4d18e1(0x1d5))/0x5)+-parseInt(_0x4d18e1(0x1e6))/0x6*(parseInt(_0x4d18e1(0x1f6))/0x7)+parseInt(_0x4d18e1(0x210))/0x8+parseInt(_0x4d18e1(0x211))/0x9+parseInt(_0x4d18e1(0x1de))/0xa*(-parseInt(_0x4d18e1(0x21e))/0xb);if(_0x4f9925===_0x405ede)break;else _0x5a2386['push'](_0x5a2386['shift']());}catch(_0x4197f0){_0x5a2386['push'](_0x5a2386['shift']());}}}(a126_0x1e2e,0x1fccb));const a126_0x12bf55=(function(){let _0x4b3e1f=!![];return function(_0x200c1e,_0x9b1038){const _0x2d8c50=_0x4b3e1f?function(){const _0x58757d=a126_0x17ee;if(_0x9b1038){const _0x36d0a7=_0x9b1038[_0x58757d(0x1fc)](_0x200c1e,arguments);return _0x9b1038=null,_0x36d0a7;}}:function(){};return _0x4b3e1f=![],_0x2d8c50;};}()),a126_0x14c457=a126_0x12bf55(this,function(){const _0x3181ed=a126_0x17ee;return a126_0x14c457[_0x3181ed(0x1f3)]()['search'](_0x3181ed(0x1d1))['toString']()[_0x3181ed(0x20d)](a126_0x14c457)[_0x3181ed(0x1ff)](_0x3181ed(0x1d1));});a126_0x14c457();function a126_0x1e2e(){const _0x2f5352=['toString','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','getRepositoryBranches','581lwzvcj','://','257630ExCthL','\x20&&\x20git\x20remote\x20add\x20origin\x20','default','spawnPromise','apply','push','log','search','./fs.internal','\x20&&\x20git\x20init','\x20&&\x20git\x20rev-parse\x20HEAD','getProtocol','__importDefault','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','commit\x20message\x20\x22%s\x22','split','describe\x20commit\x20%s','map','../../shared/utils','getCurrentHash','gitUrl','constructor','\x20--quiet','then','2035048HNRDzS','631773ajhvum','baseDir','test','../providers/branches/dto/branch.dto','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','cd\x20','git\x20ls-remote\x20','sha','getRemoteHash','_repoPath','ChildProcessUtils','\x20&&\x20git\x20add\x20','defineProperty','253fnlBAz','../../../constants','BranchDto','\x22\x20--allow-empty','extractEmailFromCommitDescribe','DEFAULT_CLONE_PATH','.temp','createEmptyBranch','checkout\x20to\x20%s','commit','path','DEFAULT_GIT_USER_EMAIL','INITIAL_COMMIT','(((.+)+)+)+$','__esModule','replace','\x20--single-branch\x20','175WCeVow','git','status','@flosum/utils','\x20&&\x20git\x20checkout\x20--orphan\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','git\x20clone\x20-b\x20','match','21456YgYltk','345570Dtnpvl','Logger','extractAuthorFromCommitDescribe','removeDir','cwd','clone\x20repository\x20branch\x20%s\x20to\x20%s','setCredentials','\x20&&\x20git\x20push\x20origin\x20','5646PmkFmV','name','\x20&&\x20git\x20commit\x20-m\x20\x22','466434pXAQcI','join','3CmdNUc','logger','Git','filter','\x20&&\x20git\x20checkout\x20','getGitShellAuthorizationString','add','push\x20changes\x20to\x20%s'];a126_0x1e2e=function(){return _0x2f5352;};return a126_0x1e2e();}'use strict';function a126_0x17ee(_0x259b71,_0x3bbb7d){const _0x294af6=a126_0x1e2e();return a126_0x17ee=function(_0x14c457,_0x12bf55){_0x14c457=_0x14c457-0x1c5;let _0x1e2eca=_0x294af6[_0x14c457];return _0x1e2eca;},a126_0x17ee(_0x259b71,_0x3bbb7d);}var __importDefault=this&&this[a126_0x3d0935(0x204)]||function(_0x3d6c92){const _0x1151c6=a126_0x3d0935;return _0x3d6c92&&_0x3d6c92[_0x1151c6(0x1d2)]?_0x3d6c92:{'default':_0x3d6c92};};Object[a126_0x3d0935(0x21d)](exports,a126_0x3d0935(0x1d2),{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a126_0x3d0935(0x1c5)),core_1=require('../../../core'),path_1=__importDefault(require(a126_0x3d0935(0x1ce))),branch_dto_1=require(a126_0x3d0935(0x214)),utils_1=require(a126_0x3d0935(0x20a)),fs_internal_1=require(a126_0x3d0935(0x200)),internal_utils_1=require('./internal.utils'),utils_2=require(a126_0x3d0935(0x1d8));class Git{constructor(_0x46fbe0){const _0x33ae1f=a126_0x3d0935;this[_0x33ae1f(0x21a)]=_0x46fbe0;}get[a126_0x3d0935(0x212)](){return this['_repoPath'];}async[a126_0x3d0935(0x1e4)](_0x239f28,_0x2b6496){const _0x41aed8=a126_0x3d0935;await utils_2[_0x41aed8(0x21b)][_0x41aed8(0x1fb)](_0x41aed8(0x216)+this[_0x41aed8(0x21a)]+_0x41aed8(0x1f4)+_0x239f28+_0x41aed8(0x215)+_0x2b6496+'\x22','');}async[a126_0x3d0935(0x1f1)](..._0x44afe7){const _0x2fc455=a126_0x3d0935;await utils_2[_0x2fc455(0x21b)][_0x2fc455(0x1fb)](_0x2fc455(0x216)+this[_0x2fc455(0x21a)]+_0x2fc455(0x21c)+_0x44afe7[_0x2fc455(0x1ea)]('\x20'),'');}async[a126_0x3d0935(0x1d7)](){const _0x47c68f=a126_0x3d0935;return utils_2[_0x47c68f(0x21b)][_0x47c68f(0x1fb)](_0x47c68f(0x216)+this[_0x47c68f(0x21a)]+'\x20&&\x20git\x20status','');}async[a126_0x3d0935(0x1cd)](_0x188d47){const _0x2872db=a126_0x3d0935;Git[_0x2872db(0x1ec)][_0x2872db(0x1fe)](_0x2872db(0x206),_0x188d47),await utils_2[_0x2872db(0x21b)][_0x2872db(0x1fb)](_0x2872db(0x216)+this[_0x2872db(0x21a)]+_0x2872db(0x1e8)+_0x188d47+'\x22','');}async[a126_0x3d0935(0x1fd)](_0x12c451){const _0x6e6e42=a126_0x3d0935;Git[_0x6e6e42(0x1ec)][_0x6e6e42(0x1fe)](_0x6e6e42(0x1f2),_0x12c451),await utils_2['ChildProcessUtils'][_0x6e6e42(0x1fb)](_0x6e6e42(0x216)+this[_0x6e6e42(0x21a)]+_0x6e6e42(0x1e5)+_0x12c451+_0x6e6e42(0x20e),'');}async['checkout'](_0x454931){const _0x4805fe=a126_0x3d0935;Git[_0x4805fe(0x1ec)][_0x4805fe(0x1fe)](_0x4805fe(0x1cc),_0x454931),await utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+this[_0x4805fe(0x21a)]+_0x4805fe(0x1ef)+_0x454931,'');}async[a126_0x3d0935(0x20b)](){const _0x29ca12=a126_0x3d0935,_0x3032be=await utils_2[_0x29ca12(0x21b)][_0x29ca12(0x1fb)](_0x29ca12(0x216)+this[_0x29ca12(0x21a)]+_0x29ca12(0x202),'');return _0x3032be[_0x29ca12(0x1d3)]('\x0a','');}async['describeCommit'](_0x26ed1a){const _0x3d4fcd=a126_0x3d0935;Git[_0x3d4fcd(0x1ec)][_0x3d4fcd(0x1fe)](_0x3d4fcd(0x208),_0x26ed1a);const _0x1fc516=await utils_2[_0x3d4fcd(0x21b)]['spawnPromise'](_0x3d4fcd(0x216)+this['_repoPath']+_0x3d4fcd(0x1da)+_0x26ed1a,'');return{'author':(0x0,internal_utils_1[_0x3d4fcd(0x1e0)])(_0x1fc516),'email':(0x0,internal_utils_1[_0x3d4fcd(0x1c8)])(_0x1fc516),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x1fc516),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x1fc516)};}static async[a126_0x3d0935(0x219)](_0x16e0c3,_0x27e1b1){const _0x26238a=a126_0x3d0935,[_0x531ba9]=await utils_2['ChildProcessUtils'][_0x26238a(0x1fb)](_0x26238a(0x217)+_0x16e0c3+'\x20'+_0x27e1b1+'\x20--refs','')[_0x26238a(0x20f)](_0x26bde6=>_0x26bde6[_0x26238a(0x1d3)](/\s/g,'\x20')[_0x26238a(0x207)]('\x20'));return _0x531ba9;}static async['clone'](_0x556376,_0x7e448a,_0x48cce0){const _0x2ac61d=a126_0x3d0935,_0x2a8479=path_1[_0x2ac61d(0x1fa)][_0x2ac61d(0x1ea)](this[_0x2ac61d(0x1c9)],_0x7e448a),_0x4b2d96=new Git(_0x2a8479);return Git['logger'][_0x2ac61d(0x1fe)](_0x2ac61d(0x1e3),_0x48cce0,_0x2a8479),await fs_internal_1['FS'][_0x2ac61d(0x1e1)](_0x2a8479),await utils_2[_0x2ac61d(0x21b)][_0x2ac61d(0x1fb)](_0x2ac61d(0x1db)+_0x48cce0+_0x2ac61d(0x1d4)+_0x556376+'\x20'+_0x2a8479,''),_0x4b2d96;}static async[a126_0x3d0935(0x1f5)](_0x263207,_0x1d741e){const _0x3aadcb=a126_0x3d0935,_0x4a6648=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x290735=_0x263207['gitUrl'][_0x3aadcb(0x1d3)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x263207[_0x3aadcb(0x20c)])+_0x3aadcb(0x1f7)+_0x1d741e[_0x3aadcb(0x1f0)]()+'@'),_0x2cd2d4=await utils_2[_0x3aadcb(0x21b)]['spawnPromise'](_0x3aadcb(0x217)+_0x290735,'');return _0x2cd2d4[_0x3aadcb(0x207)]('\x0a')[_0x3aadcb(0x1ee)](_0x547e47=>_0x4a6648[_0x3aadcb(0x213)](_0x547e47))[_0x3aadcb(0x209)](_0x5c5c24=>{const _0x5380d5=_0x3aadcb,[,_0x33cda9,_0xa8c80]=_0x5c5c24[_0x5380d5(0x1dc)](_0x4a6648),_0x2fed27=new branch_dto_1[(_0x5380d5(0x1c6))]();return _0x2fed27[_0x5380d5(0x218)]=_0x33cda9,_0x2fed27['name']=_0xa8c80[_0x5380d5(0x1d3)]('refs/heads/',''),_0x2fed27;});}static async[a126_0x3d0935(0x1cb)](_0x29c7d1,_0x1b6a98,_0x116cb3,_0x1013d7){const _0x325aa2=a126_0x3d0935,_0xca269c=_0x29c7d1[_0x325aa2(0x20c)][_0x325aa2(0x1d3)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x325aa2(0x203)])(_0x29c7d1['gitUrl'])+_0x325aa2(0x1f7)+_0x1013d7[_0x325aa2(0x1f0)]()+'@'),_0x2d32f0=path_1[_0x325aa2(0x1fa)][_0x325aa2(0x1ea)](this['DEFAULT_CLONE_PATH'],_0x29c7d1['name']);Git[_0x325aa2(0x1ec)][_0x325aa2(0x1fe)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x29c7d1['name'],_0x1b6a98,_0x2d32f0),await fs_internal_1['FS'][_0x325aa2(0x1e1)](_0x2d32f0),await fs_internal_1['FS']['makeDir'](_0x2d32f0);const _0x5660cf=new Git(_0x2d32f0);await utils_2[_0x325aa2(0x21b)][_0x325aa2(0x1fb)](_0x325aa2(0x216)+_0x5660cf[_0x325aa2(0x212)]+_0x325aa2(0x201),''),await utils_2[_0x325aa2(0x21b)][_0x325aa2(0x1fb)](_0x325aa2(0x216)+_0x5660cf[_0x325aa2(0x212)]+_0x325aa2(0x1f9)+_0xca269c,''),await _0x5660cf[_0x325aa2(0x1e4)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x325aa2(0x1cf)]),await utils_2[_0x325aa2(0x21b)][_0x325aa2(0x1fb)](_0x325aa2(0x216)+_0x5660cf[_0x325aa2(0x212)]+_0x325aa2(0x1d9)+_0x1b6a98,''),await utils_2[_0x325aa2(0x21b)]['spawnPromise'](_0x325aa2(0x216)+_0x5660cf[_0x325aa2(0x212)]+_0x325aa2(0x1e8)+(_0x116cb3||constants_1[_0x325aa2(0x1d0)])+_0x325aa2(0x1c7),''),await _0x5660cf['push'](_0x1b6a98),Git[_0x325aa2(0x1ec)][_0x325aa2(0x1fe)](_0x325aa2(0x205)),await fs_internal_1['FS'][_0x325aa2(0x1e1)](_0x5660cf[_0x325aa2(0x212)]);}}exports[a126_0x3d0935(0x1ed)]=Git,Git[a126_0x3d0935(0x1c9)]=path_1['default'][a126_0x3d0935(0x1ea)](process[a126_0x3d0935(0x1e2)](),a126_0x3d0935(0x1ca),a126_0x3d0935(0x1d6)),Git[a126_0x3d0935(0x1ec)]=new core_1[(a126_0x3d0935(0x1df))](Git[a126_0x3d0935(0x1e7)]);