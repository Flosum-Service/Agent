const a145_0x26dc1c=a145_0x3d6f;function a145_0x3d6f(_0x2683d9,_0x235cb4){const _0x281efa=a145_0x2d9f();return a145_0x3d6f=function(_0x17c41d,_0xd0e605){_0x17c41d=_0x17c41d-0xd9;let _0x2d9f0f=_0x281efa[_0x17c41d];return _0x2d9f0f;},a145_0x3d6f(_0x2683d9,_0x235cb4);}(function(_0x42d582,_0x386675){const _0x4b87b7=a145_0x3d6f,_0x1bb25f=_0x42d582();while(!![]){try{const _0x3fb3c3=-parseInt(_0x4b87b7(0x10c))/0x1*(parseInt(_0x4b87b7(0xdb))/0x2)+parseInt(_0x4b87b7(0xe7))/0x3+parseInt(_0x4b87b7(0xef))/0x4*(parseInt(_0x4b87b7(0x123))/0x5)+-parseInt(_0x4b87b7(0xe5))/0x6+-parseInt(_0x4b87b7(0xf5))/0x7+parseInt(_0x4b87b7(0xe1))/0x8+parseInt(_0x4b87b7(0xe9))/0x9;if(_0x3fb3c3===_0x386675)break;else _0x1bb25f['push'](_0x1bb25f['shift']());}catch(_0x13f6c4){_0x1bb25f['push'](_0x1bb25f['shift']());}}}(a145_0x2d9f,0x72f92));const a145_0xd0e605=(function(){let _0x5e7664=!![];return function(_0x2d64f1,_0x1e6f31){const _0x1ef970=_0x5e7664?function(){const _0x1898ec=a145_0x3d6f;if(_0x1e6f31){const _0x228795=_0x1e6f31[_0x1898ec(0x10d)](_0x2d64f1,arguments);return _0x1e6f31=null,_0x228795;}}:function(){};return _0x5e7664=![],_0x1ef970;};}()),a145_0x17c41d=a145_0xd0e605(this,function(){const _0x47512f=a145_0x3d6f;return a145_0x17c41d['toString']()[_0x47512f(0x100)](_0x47512f(0xf0))[_0x47512f(0x102)]()[_0x47512f(0xf9)](a145_0x17c41d)[_0x47512f(0x100)](_0x47512f(0xf0));});a145_0x17c41d();'use strict';function a145_0x2d9f(){const _0x19a6b8=['1187KcXnrJ','apply','extractChangesFromCommitDescribe','spawnPromise','cwd','\x20&&\x20git\x20rev-parse\x20HEAD','replace','map','../../shared/utils','getRepositoryBranches','Describe\x20commit\x20%s','extractEmailFromCommitDescribe','Push\x20changes\x20to\x20%s','__esModule','@flosum/utils','clone','getGitShellAuthorizationString','\x20&&\x20git\x20push\x20origin\x20','gitUrl','default','cd\x20','extractAuthorFromCommitDescribe','defineProperty','25xsrHrN','extractMessageFromCommitDescribe','add','Checkout\x20to\x20%s','Clone\x20repository\x20branch\x20%s\x20to\x20%s','.temp','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','checkout','removeDir','Git','38SWoBbl','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','\x20--single-branch\x20','\x20&&\x20git\x20checkout\x20','DEFAULT_CLONE_PATH','makeDir','5490760YemMAx','\x20&&\x20git\x20checkout\x20--orphan\x20','name','\x20&&\x20git\x20remote\x20add\x20origin\x20','4763898ZeEWRp','commit','888666cKnUfw','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','38574xNSEgk','describeCommit','git\x20ls-remote\x20','then','\x20&&\x20git\x20commit\x20-m\x20\x22','\x22\x20--allow-empty','421136zYEOao','(((.+)+)+)+$','_repoPath','getProtocol','git','\x20&&\x20git\x20add\x20','1580649rxUjrO','INITIAL_COMMIT','Commit\x20message\x20\x22%s\x22','BranchDto','constructor','join','git\x20clone\x20-b\x20','sha','baseDir','log','createEmptyBranch','search','push','toString','path','../providers/branches/dto/branch.dto','test','ChildProcessUtils','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','Logger','split','logger','://'];a145_0x2d9f=function(){return _0x19a6b8;};return a145_0x2d9f();}var __importDefault=this&&this['__importDefault']||function(_0x5ec1b7){const _0x4cc1f4=a145_0x3d6f;return _0x5ec1b7&&_0x5ec1b7[_0x4cc1f4(0x119)]?_0x5ec1b7:{'default':_0x5ec1b7};};Object[a145_0x26dc1c(0x122)](exports,a145_0x26dc1c(0x119),{'value':!![]}),exports[a145_0x26dc1c(0xda)]=void 0x0;const constants_1=require('../../../constants'),core_1=require('../../../core'),path_1=__importDefault(require(a145_0x26dc1c(0x103))),branch_dto_1=require(a145_0x26dc1c(0x104)),utils_1=require(a145_0x26dc1c(0x114)),fs_internal_1=require('./fs.internal'),internal_utils_1=require('./internal.utils'),utils_2=require(a145_0x26dc1c(0x11a));class Git{constructor(_0x4dcecd){const _0x844e2e=a145_0x26dc1c;this[_0x844e2e(0xf1)]=_0x4dcecd;}get[a145_0x26dc1c(0xfd)](){const _0x526aab=a145_0x26dc1c;return this[_0x526aab(0xf1)];}async['setCredentials'](_0x12070c,_0x5db217){const _0x30a637=a145_0x26dc1c;await utils_2[_0x30a637(0x106)]['spawnPromise'](_0x30a637(0x120)+this[_0x30a637(0xf1)]+_0x30a637(0x129)+_0x12070c+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x5db217+'\x22','');}async[a145_0x26dc1c(0x125)](..._0xe4e7c6){const _0x493b18=a145_0x26dc1c;await utils_2[_0x493b18(0x106)][_0x493b18(0x10f)]('cd\x20'+this['_repoPath']+_0x493b18(0xf4)+_0xe4e7c6[_0x493b18(0xfa)]('\x20'),'');}async['status'](){const _0x42317a=a145_0x26dc1c;return utils_2[_0x42317a(0x106)][_0x42317a(0x10f)](_0x42317a(0x120)+this['_repoPath']+'\x20&&\x20git\x20status','');}async[a145_0x26dc1c(0xe6)](_0x27c022){const _0xccab62=a145_0x26dc1c;Git[_0xccab62(0x10a)][_0xccab62(0xfe)](_0xccab62(0xf7),_0x27c022),await utils_2[_0xccab62(0x106)][_0xccab62(0x10f)](_0xccab62(0x120)+this[_0xccab62(0xf1)]+_0xccab62(0xed)+_0x27c022+'\x22','');}async[a145_0x26dc1c(0x101)](_0x594e5d){const _0x18fb0b=a145_0x26dc1c;Git[_0x18fb0b(0x10a)][_0x18fb0b(0xfe)](_0x18fb0b(0x118),_0x594e5d),await utils_2[_0x18fb0b(0x106)][_0x18fb0b(0x10f)](_0x18fb0b(0x120)+this['_repoPath']+_0x18fb0b(0x11d)+_0x594e5d+'\x20--quiet','');}async[a145_0x26dc1c(0x12a)](_0x21fcad){const _0x24a2a3=a145_0x26dc1c;Git[_0x24a2a3(0x10a)][_0x24a2a3(0xfe)](_0x24a2a3(0x126),_0x21fcad),await utils_2[_0x24a2a3(0x106)]['spawnPromise'](_0x24a2a3(0x120)+this[_0x24a2a3(0xf1)]+_0x24a2a3(0xde)+_0x21fcad,'');}async['getCurrentHash'](){const _0x20e7a2=a145_0x26dc1c,_0x561c0=await utils_2['ChildProcessUtils']['spawnPromise'](_0x20e7a2(0x120)+this['_repoPath']+_0x20e7a2(0x111),'');return _0x561c0[_0x20e7a2(0x112)]('\x0a','');}async[a145_0x26dc1c(0xea)](_0x34af7f){const _0xde6c23=a145_0x26dc1c;Git[_0xde6c23(0x10a)][_0xde6c23(0xfe)](_0xde6c23(0x116),_0x34af7f);const _0x4098d7=await utils_2[_0xde6c23(0x106)][_0xde6c23(0x10f)](_0xde6c23(0x120)+this['_repoPath']+_0xde6c23(0x107)+_0x34af7f,'');return{'author':(0x0,internal_utils_1[_0xde6c23(0x121)])(_0x4098d7),'email':(0x0,internal_utils_1[_0xde6c23(0x117)])(_0x4098d7),'message':(0x0,internal_utils_1[_0xde6c23(0x124)])(_0x4098d7),'changes':(0x0,internal_utils_1[_0xde6c23(0x10e)])(_0x4098d7)};}static async['getRemoteHash'](_0x46e4d8,_0x4b6c58){const _0x113f44=a145_0x26dc1c,[_0x3626ad]=await utils_2[_0x113f44(0x106)][_0x113f44(0x10f)](_0x113f44(0xeb)+_0x46e4d8+'\x20'+_0x4b6c58+'\x20--refs','')[_0x113f44(0xec)](_0x5df9d6=>_0x5df9d6[_0x113f44(0x112)](/\s/g,'\x20')[_0x113f44(0x109)]('\x20'));return _0x3626ad;}static async[a145_0x26dc1c(0x11b)](_0x210186,_0x4aa4c3,_0x53cec4){const _0xe5f0bd=a145_0x26dc1c,_0x2d515e=path_1[_0xe5f0bd(0x11f)][_0xe5f0bd(0xfa)](this[_0xe5f0bd(0xdf)],_0x4aa4c3),_0x2ad724=new Git(_0x2d515e);return Git[_0xe5f0bd(0x10a)][_0xe5f0bd(0xfe)](_0xe5f0bd(0x127),_0x53cec4,_0x2d515e),await fs_internal_1['FS'][_0xe5f0bd(0xd9)](_0x2d515e),await utils_2[_0xe5f0bd(0x106)]['spawnPromise'](_0xe5f0bd(0xfb)+_0x53cec4+_0xe5f0bd(0xdd)+_0x210186+'\x20'+_0x2d515e,''),_0x2ad724;}static async[a145_0x26dc1c(0x115)](_0x788dd6,_0x40c98a){const _0x27a606=a145_0x26dc1c,_0x2651c9=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x2f2002=_0x788dd6[_0x27a606(0x11e)][_0x27a606(0x112)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x788dd6[_0x27a606(0x11e)])+_0x27a606(0x10b)+_0x40c98a['getGitShellAuthorizationString']()+'@'),_0x1cff2c=await utils_2[_0x27a606(0x106)]['spawnPromise']('git\x20ls-remote\x20'+_0x2f2002,'');return _0x1cff2c['split']('\x0a')['filter'](_0x377b8b=>_0x2651c9[_0x27a606(0x105)](_0x377b8b))[_0x27a606(0x113)](_0x48623d=>{const _0x3dc7f4=_0x27a606,[,_0x1add15,_0x4c8098]=_0x48623d['match'](_0x2651c9),_0x22430b=new branch_dto_1[(_0x3dc7f4(0xf8))]();return _0x22430b[_0x3dc7f4(0xfc)]=_0x1add15,_0x22430b[_0x3dc7f4(0xe3)]=_0x4c8098['replace']('refs/heads/',''),_0x22430b;});}static async[a145_0x26dc1c(0xff)](_0x11e4a5,_0x391502,_0x55ba27,_0x20a9e3){const _0x4cf7f6=a145_0x26dc1c,_0x4a0b72=_0x11e4a5[_0x4cf7f6(0x11e)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4cf7f6(0xf2)])(_0x11e4a5['gitUrl'])+_0x4cf7f6(0x10b)+_0x20a9e3[_0x4cf7f6(0x11c)]()+'@'),_0x438f93=path_1[_0x4cf7f6(0x11f)][_0x4cf7f6(0xfa)](this[_0x4cf7f6(0xdf)],_0x11e4a5['name']);Git['logger']['log'](_0x4cf7f6(0xdc),_0x11e4a5['name'],_0x391502,_0x438f93),await fs_internal_1['FS'][_0x4cf7f6(0xd9)](_0x438f93),await fs_internal_1['FS'][_0x4cf7f6(0xe0)](_0x438f93);const _0x4edcc4=new Git(_0x438f93);await utils_2['ChildProcessUtils'][_0x4cf7f6(0x10f)]('cd\x20'+_0x4edcc4[_0x4cf7f6(0xfd)]+'\x20&&\x20git\x20init',''),await utils_2[_0x4cf7f6(0x106)][_0x4cf7f6(0x10f)](_0x4cf7f6(0x120)+_0x4edcc4[_0x4cf7f6(0xfd)]+_0x4cf7f6(0xe4)+_0x4a0b72,''),await _0x4edcc4['setCredentials'](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+_0x4edcc4['baseDir']+_0x4cf7f6(0xe2)+_0x391502,''),await utils_2[_0x4cf7f6(0x106)][_0x4cf7f6(0x10f)]('cd\x20'+_0x4edcc4[_0x4cf7f6(0xfd)]+_0x4cf7f6(0xed)+(_0x55ba27||constants_1[_0x4cf7f6(0xf6)])+_0x4cf7f6(0xee),''),await _0x4edcc4[_0x4cf7f6(0x101)](_0x391502),Git[_0x4cf7f6(0x10a)][_0x4cf7f6(0xfe)](_0x4cf7f6(0xe8)),await fs_internal_1['FS'][_0x4cf7f6(0xd9)](_0x4edcc4[_0x4cf7f6(0xfd)]);}}exports['Git']=Git,Git[a145_0x26dc1c(0xdf)]=path_1[a145_0x26dc1c(0x11f)][a145_0x26dc1c(0xfa)](process[a145_0x26dc1c(0x110)](),a145_0x26dc1c(0x128),a145_0x26dc1c(0xf3)),Git[a145_0x26dc1c(0x10a)]=new core_1[(a145_0x26dc1c(0x108))](Git[a145_0x26dc1c(0xe3)]);