const a147_0x46072c=a147_0x2053;(function(_0x6e2f23,_0xcb5127){const _0x30cb9a=a147_0x2053,_0x1da53a=_0x6e2f23();while(!![]){try{const _0x51acfa=parseInt(_0x30cb9a(0x1bd))/0x1+parseInt(_0x30cb9a(0x1ad))/0x2*(parseInt(_0x30cb9a(0x1b9))/0x3)+parseInt(_0x30cb9a(0x1ea))/0x4*(-parseInt(_0x30cb9a(0x1d7))/0x5)+parseInt(_0x30cb9a(0x1e1))/0x6+parseInt(_0x30cb9a(0x1bf))/0x7+parseInt(_0x30cb9a(0x1d4))/0x8*(-parseInt(_0x30cb9a(0x1ec))/0x9)+-parseInt(_0x30cb9a(0x1d2))/0xa;if(_0x51acfa===_0xcb5127)break;else _0x1da53a['push'](_0x1da53a['shift']());}catch(_0x4141ba){_0x1da53a['push'](_0x1da53a['shift']());}}}(a147_0x5544,0x1b0c5));const a147_0x3549d6=(function(){let _0x37866d=!![];return function(_0x34e68a,_0x2e22b9){const _0xb452cb=_0x37866d?function(){if(_0x2e22b9){const _0x1267df=_0x2e22b9['apply'](_0x34e68a,arguments);return _0x2e22b9=null,_0x1267df;}}:function(){};return _0x37866d=![],_0xb452cb;};}()),a147_0xb19bd9=a147_0x3549d6(this,function(){const _0x55505a=a147_0x2053;return a147_0xb19bd9[_0x55505a(0x1b0)]()[_0x55505a(0x1a2)]('(((.+)+)+)+$')[_0x55505a(0x1b0)]()[_0x55505a(0x1c8)](a147_0xb19bd9)['search'](_0x55505a(0x1b7));});a147_0xb19bd9();function a147_0x5544(){const _0x2d4df1=['sha','261475umzqWz','extractEmailFromCommitDescribe','INITIAL_COMMIT','gitUrl','split','describeCommit','../../shared/utils','refs/heads/','createEmptyBranch','\x20&&\x20git\x20rev-parse\x20HEAD','1266492bkdWrk','join','defineProperty','map','://','setCredentials','../providers/branches/dto/branch.dto','DEFAULT_GIT_USER_EMAIL','getGitShellAuthorizationString','4xsgUuW','baseDir','178011TTJVpx','\x20--single-branch\x20','\x20&&\x20git\x20remote\x20add\x20origin\x20','extractMessageFromCommitDescribe','git','match','\x20&&\x20git\x20checkout\x20--orphan\x20','\x20&&\x20git\x20init','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','git\x20clone\x20-b\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','search','ChildProcessUtils','extractAuthorFromCommitDescribe','clone','status','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','getCurrentHash','getProtocol','default','test','removeDir','62oHtXxp','log','__esModule','toString','./internal.utils','../../../constants','replace','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','Commit\x20message\x20\x22%s\x22','name','(((.+)+)+)+$','@flosum/utils','6354hVmEkl','\x20--quiet','_repoPath','logger','187770xqorAk','push','619647bssERm','git\x20ls-remote\x20','cd\x20','add','.temp','\x22\x20--allow-empty','DEFAULT_GIT_USER_NAME','\x20&&\x20git\x20checkout\x20','commit','constructor','\x20&&\x20git\x20commit\x20-m\x20\x22','Push\x20changes\x20to\x20%s','./fs.internal','checkout','Logger','extractChangesFromCommitDescribe','spawnPromise','DEFAULT_CLONE_PATH','\x20--refs','2119360fzzPEC','\x20&&\x20git\x20add\x20','72wnDXut','Checkout\x20to\x20%s'];a147_0x5544=function(){return _0x2d4df1;};return a147_0x5544();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2cc8a0){const _0x317d72=a147_0x2053;return _0x2cc8a0&&_0x2cc8a0[_0x317d72(0x1af)]?_0x2cc8a0:{'default':_0x2cc8a0};};Object[a147_0x46072c(0x1e3)](exports,a147_0x46072c(0x1af),{'value':!![]}),exports['Git']=void 0x0;function a147_0x2053(_0x33c2ac,_0x363667){const _0x599219=a147_0x5544();return a147_0x2053=function(_0xb19bd9,_0x3549d6){_0xb19bd9=_0xb19bd9-0x19b;let _0x554455=_0x599219[_0xb19bd9];return _0x554455;},a147_0x2053(_0x33c2ac,_0x363667);}const constants_1=require(a147_0x46072c(0x1b2)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a147_0x46072c(0x1e7)),utils_1=require(a147_0x46072c(0x1dd)),fs_internal_1=require(a147_0x46072c(0x1cb)),internal_utils_1=require(a147_0x46072c(0x1b1)),utils_2=require(a147_0x46072c(0x1b8));class Git{constructor(_0x2e25ea){const _0x1959cf=a147_0x46072c;this[_0x1959cf(0x1bb)]=_0x2e25ea;}get['baseDir'](){return this['_repoPath'];}async[a147_0x46072c(0x1e6)](_0x342625,_0x28c7a5){const _0x5755bf=a147_0x46072c;await utils_2[_0x5755bf(0x1a3)][_0x5755bf(0x1cf)](_0x5755bf(0x1c1)+this[_0x5755bf(0x1bb)]+_0x5755bf(0x19e)+_0x342625+_0x5755bf(0x1a7)+_0x28c7a5+'\x22','');}async[a147_0x46072c(0x1c2)](..._0x48953e){const _0x21739b=a147_0x46072c;await utils_2[_0x21739b(0x1a3)]['spawnPromise'](_0x21739b(0x1c1)+this[_0x21739b(0x1bb)]+_0x21739b(0x1d3)+_0x48953e[_0x21739b(0x1e2)]('\x20'),'');}async[a147_0x46072c(0x1a6)](){const _0x88b29d=a147_0x46072c;return utils_2[_0x88b29d(0x1a3)][_0x88b29d(0x1cf)](_0x88b29d(0x1c1)+this[_0x88b29d(0x1bb)]+'\x20&&\x20git\x20status','');}async[a147_0x46072c(0x1c7)](_0x3b503c){const _0xcd5d3d=a147_0x46072c;Git['logger']['log'](_0xcd5d3d(0x1b5),_0x3b503c),await utils_2[_0xcd5d3d(0x1a3)][_0xcd5d3d(0x1cf)](_0xcd5d3d(0x1c1)+this[_0xcd5d3d(0x1bb)]+_0xcd5d3d(0x1c9)+_0x3b503c+'\x22','');}async[a147_0x46072c(0x1be)](_0x3b32a8){const _0x2a6330=a147_0x46072c;Git[_0x2a6330(0x1bc)][_0x2a6330(0x1ae)](_0x2a6330(0x1ca),_0x3b32a8),await utils_2[_0x2a6330(0x1a3)][_0x2a6330(0x1cf)](_0x2a6330(0x1c1)+this['_repoPath']+'\x20&&\x20git\x20push\x20origin\x20'+_0x3b32a8+_0x2a6330(0x1ba),'');}async[a147_0x46072c(0x1cc)](_0x188743){const _0x221780=a147_0x46072c;Git['logger'][_0x221780(0x1ae)](_0x221780(0x1d5),_0x188743),await utils_2[_0x221780(0x1a3)][_0x221780(0x1cf)](_0x221780(0x1c1)+this[_0x221780(0x1bb)]+_0x221780(0x1c6)+_0x188743,'');}async[a147_0x46072c(0x1a8)](){const _0x31e07a=a147_0x46072c,_0x4fc357=await utils_2[_0x31e07a(0x1a3)]['spawnPromise'](_0x31e07a(0x1c1)+this['_repoPath']+_0x31e07a(0x1e0),'');return _0x4fc357[_0x31e07a(0x1b3)]('\x0a','');}async[a147_0x46072c(0x1dc)](_0x335912){const _0x5e0f8f=a147_0x46072c;Git['logger']['log']('Describe\x20commit\x20%s',_0x335912);const _0x689334=await utils_2[_0x5e0f8f(0x1a3)]['spawnPromise'](_0x5e0f8f(0x1c1)+this['_repoPath']+_0x5e0f8f(0x1a0)+_0x335912,'');return{'author':(0x0,internal_utils_1[_0x5e0f8f(0x1a4)])(_0x689334),'email':(0x0,internal_utils_1[_0x5e0f8f(0x1d8)])(_0x689334),'message':(0x0,internal_utils_1[_0x5e0f8f(0x1ef)])(_0x689334),'changes':(0x0,internal_utils_1[_0x5e0f8f(0x1ce)])(_0x689334)};}static async['getRemoteHash'](_0x51a951,_0x2e266f){const _0x23d50e=a147_0x46072c,[_0x249715]=await utils_2[_0x23d50e(0x1a3)][_0x23d50e(0x1cf)](_0x23d50e(0x1c0)+_0x51a951+'\x20'+_0x2e266f+_0x23d50e(0x1d1),'')['then'](_0x262e1d=>_0x262e1d[_0x23d50e(0x1b3)](/\s/g,'\x20')[_0x23d50e(0x1db)]('\x20'));return _0x249715;}static async[a147_0x46072c(0x1a5)](_0x4b41c0,_0x42339b,_0x151363){const _0x780f2e=a147_0x46072c,_0x49ede1=path_1[_0x780f2e(0x1aa)][_0x780f2e(0x1e2)](this[_0x780f2e(0x1d0)],_0x42339b),_0x53c2c8=new Git(_0x49ede1);return Git[_0x780f2e(0x1bc)][_0x780f2e(0x1ae)]('Clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x151363,_0x49ede1),await fs_internal_1['FS'][_0x780f2e(0x1ac)](_0x49ede1),await utils_2[_0x780f2e(0x1a3)][_0x780f2e(0x1cf)](_0x780f2e(0x19f)+_0x151363+_0x780f2e(0x1ed)+_0x4b41c0+'\x20'+_0x49ede1,''),_0x53c2c8;}static async['getRepositoryBranches'](_0xbc7c12,_0x53ffe4){const _0x15a331=a147_0x46072c,_0x22a33a=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3e0272=_0xbc7c12['gitUrl'][_0x15a331(0x1b3)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x15a331(0x1a9)])(_0xbc7c12[_0x15a331(0x1da)])+'://'+_0x53ffe4[_0x15a331(0x1e9)]()+'@'),_0x4c5ebf=await utils_2[_0x15a331(0x1a3)][_0x15a331(0x1cf)]('git\x20ls-remote\x20'+_0x3e0272,'');return _0x4c5ebf[_0x15a331(0x1db)]('\x0a')['filter'](_0xc464da=>_0x22a33a[_0x15a331(0x1ab)](_0xc464da))[_0x15a331(0x1e4)](_0x499a38=>{const _0x1e760d=_0x15a331,[,_0x2ea905,_0x99d4ea]=_0x499a38[_0x1e760d(0x19b)](_0x22a33a),_0x55d58e=new branch_dto_1['BranchDto']();return _0x55d58e[_0x1e760d(0x1d6)]=_0x2ea905,_0x55d58e[_0x1e760d(0x1b6)]=_0x99d4ea[_0x1e760d(0x1b3)](_0x1e760d(0x1de),''),_0x55d58e;});}static async[a147_0x46072c(0x1df)](_0x27db66,_0x3b1dcb,_0x368c89,_0x1c95c9){const _0x4236e1=a147_0x46072c,_0x125780=_0x27db66['gitUrl'][_0x4236e1(0x1b3)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x27db66[_0x4236e1(0x1da)])+_0x4236e1(0x1e5)+_0x1c95c9[_0x4236e1(0x1e9)]()+'@'),_0x529f29=path_1[_0x4236e1(0x1aa)][_0x4236e1(0x1e2)](this['DEFAULT_CLONE_PATH'],_0x27db66[_0x4236e1(0x1b6)]);Git[_0x4236e1(0x1bc)][_0x4236e1(0x1ae)](_0x4236e1(0x1b4),_0x27db66[_0x4236e1(0x1b6)],_0x3b1dcb,_0x529f29),await fs_internal_1['FS'][_0x4236e1(0x1ac)](_0x529f29),await fs_internal_1['FS']['makeDir'](_0x529f29);const _0x5f3a4d=new Git(_0x529f29);await utils_2[_0x4236e1(0x1a3)][_0x4236e1(0x1cf)](_0x4236e1(0x1c1)+_0x5f3a4d[_0x4236e1(0x1eb)]+_0x4236e1(0x19d),''),await utils_2[_0x4236e1(0x1a3)][_0x4236e1(0x1cf)](_0x4236e1(0x1c1)+_0x5f3a4d[_0x4236e1(0x1eb)]+_0x4236e1(0x1ee)+_0x125780,''),await _0x5f3a4d[_0x4236e1(0x1e6)](constants_1[_0x4236e1(0x1c5)],constants_1[_0x4236e1(0x1e8)]),await utils_2['ChildProcessUtils'][_0x4236e1(0x1cf)](_0x4236e1(0x1c1)+_0x5f3a4d[_0x4236e1(0x1eb)]+_0x4236e1(0x19c)+_0x3b1dcb,''),await utils_2[_0x4236e1(0x1a3)]['spawnPromise'](_0x4236e1(0x1c1)+_0x5f3a4d[_0x4236e1(0x1eb)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x368c89||constants_1[_0x4236e1(0x1d9)])+_0x4236e1(0x1c4),''),await _0x5f3a4d['push'](_0x3b1dcb),Git[_0x4236e1(0x1bc)][_0x4236e1(0x1ae)](_0x4236e1(0x1a1)),await fs_internal_1['FS'][_0x4236e1(0x1ac)](_0x5f3a4d[_0x4236e1(0x1eb)]);}}exports['Git']=Git,Git[a147_0x46072c(0x1d0)]=path_1[a147_0x46072c(0x1aa)][a147_0x46072c(0x1e2)](process['cwd'](),a147_0x46072c(0x1c3),a147_0x46072c(0x1f0)),Git[a147_0x46072c(0x1bc)]=new core_1[(a147_0x46072c(0x1cd))](Git[a147_0x46072c(0x1b6)]);