const a95_0x1a5bc1=a95_0x4b04;function a95_0x4b04(_0x53a170,_0x2fa94c){const _0x2b2dee=a95_0x3dc0();return a95_0x4b04=function(_0x5466e4,_0x1a7b3f){_0x5466e4=_0x5466e4-0xfd;let _0x3dc06a=_0x2b2dee[_0x5466e4];return _0x3dc06a;},a95_0x4b04(_0x53a170,_0x2fa94c);}(function(_0x4bc0aa,_0x417240){const _0x54f0f1=a95_0x4b04,_0x48be71=_0x4bc0aa();while(!![]){try{const _0x277b5f=parseInt(_0x54f0f1(0x100))/0x1+parseInt(_0x54f0f1(0x108))/0x2+-parseInt(_0x54f0f1(0x12e))/0x3*(-parseInt(_0x54f0f1(0x12a))/0x4)+-parseInt(_0x54f0f1(0x12d))/0x5*(-parseInt(_0x54f0f1(0x127))/0x6)+parseInt(_0x54f0f1(0x112))/0x7*(parseInt(_0x54f0f1(0xfe))/0x8)+-parseInt(_0x54f0f1(0x130))/0x9*(parseInt(_0x54f0f1(0x12f))/0xa)+-parseInt(_0x54f0f1(0x13b))/0xb;if(_0x277b5f===_0x417240)break;else _0x48be71['push'](_0x48be71['shift']());}catch(_0x44172f){_0x48be71['push'](_0x48be71['shift']());}}}(a95_0x3dc0,0x715e6));function a95_0x3dc0(){const _0x590355=['git','git\x20ls-remote\x20','gitUrl','.temp','DEFAULT_CLONE_PATH','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','constructor','../../../core','4004388ECVSkn','(((.+)+)+)+$','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','8adTboL','getRepositoryBranches','test','5QhrARI','728439actGkB','192910dzxvfY','36yGSgVZ','log','defineProperty','replace','BranchDto','baseDir','search','cd\x20','push','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20status','14003638viLODv','getCurrentHash','extractEmailFromCommitDescribe','../../shared/utils','Git','makeDir','\x20&&\x20git\x20checkout\x20--orphan\x20','toString','__esModule','createEmptyBranch','\x20--quiet','\x20&&\x20git\x20checkout\x20','./fs.internal','DEFAULT_GIT_USER_NAME','\x20&&\x20git\x20rev-parse\x20HEAD','name','commit\x20message\x20\x22%s\x22','split','refs/heads/','match','git\x20clone\x20-b\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','apply','../../../constants','\x20--single-branch\x20','DEFAULT_GIT_USER_EMAIL','152AlXTZj','://','52679aKHPwX','\x20&&\x20git\x20push\x20origin\x20','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','removeDir','INITIAL_COMMIT','commit','cwd','108724dItGSY','logger','getGitShellAuthorizationString','../providers/branches/dto/branch.dto','path','\x20&&\x20git\x20add\x20','add','exec','setCredentials','map','204295xHysOI','default','join','then','Logger','_repoPath','./shell.internal','\x20--refs','push\x20changes\x20to\x20%s','filter','Shell','extractChangesFromCommitDescribe','checkout'];a95_0x3dc0=function(){return _0x590355;};return a95_0x3dc0();}const a95_0x1a7b3f=(function(){let _0x1788e6=!![];return function(_0x187293,_0x39e152){const _0xcd39f4=_0x1788e6?function(){const _0x4dab99=a95_0x4b04;if(_0x39e152){const _0x2800e8=_0x39e152[_0x4dab99(0x151)](_0x187293,arguments);return _0x39e152=null,_0x2800e8;}}:function(){};return _0x1788e6=![],_0xcd39f4;};}()),a95_0x5466e4=a95_0x1a7b3f(this,function(){const _0xfb55ab=a95_0x4b04;return a95_0x5466e4[_0xfb55ab(0x142)]()[_0xfb55ab(0x136)](_0xfb55ab(0x128))['toString']()[_0xfb55ab(0x125)](a95_0x5466e4)[_0xfb55ab(0x136)](_0xfb55ab(0x128));});a95_0x5466e4();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4a1e99){const _0xb8af6c=a95_0x4b04;return _0x4a1e99&&_0x4a1e99[_0xb8af6c(0x143)]?_0x4a1e99:{'default':_0x4a1e99};};Object[a95_0x1a5bc1(0x132)](exports,a95_0x1a5bc1(0x143),{'value':!![]}),exports[a95_0x1a5bc1(0x13f)]=void 0x0;const constants_1=require(a95_0x1a5bc1(0x152)),core_1=require(a95_0x1a5bc1(0x126)),path_1=__importDefault(require(a95_0x1a5bc1(0x10c))),branch_dto_1=require(a95_0x1a5bc1(0x10b)),utils_1=require(a95_0x1a5bc1(0x13e)),fs_internal_1=require(a95_0x1a5bc1(0x147)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a95_0x1a5bc1(0x118));class Git{constructor(_0x2841f0){this['_repoPath']=_0x2841f0;}get[a95_0x1a5bc1(0x135)](){const _0x16f768=a95_0x1a5bc1;return this[_0x16f768(0x117)];}async[a95_0x1a5bc1(0x110)](_0x4eb946,_0x144211){const _0x112832=a95_0x1a5bc1;await shell_internal_1[_0x112832(0x11c)]['exec'](_0x112832(0x137)+this[_0x112832(0x117)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x4eb946+_0x112832(0x150)+_0x144211+'\x22');}async[a95_0x1a5bc1(0x10e)](..._0x38e897){const _0x3fdfb3=a95_0x1a5bc1;await shell_internal_1[_0x3fdfb3(0x11c)][_0x3fdfb3(0x10f)](_0x3fdfb3(0x137)+this[_0x3fdfb3(0x117)]+_0x3fdfb3(0x10d)+_0x38e897[_0x3fdfb3(0x114)]('\x20'));}async['status'](){const _0x3d5280=a95_0x1a5bc1;return shell_internal_1[_0x3d5280(0x11c)]['exec'](_0x3d5280(0x137)+this['_repoPath']+_0x3d5280(0x13a));}async[a95_0x1a5bc1(0x106)](_0x3f4db3){const _0x2c0f5c=a95_0x1a5bc1;Git['logger'][_0x2c0f5c(0x131)](_0x2c0f5c(0x14b),_0x3f4db3),await shell_internal_1['Shell'][_0x2c0f5c(0x10f)]('cd\x20'+this['_repoPath']+_0x2c0f5c(0x139)+_0x3f4db3+'\x22');}async[a95_0x1a5bc1(0x138)](_0x55026a){const _0x308152=a95_0x1a5bc1;Git['logger'][_0x308152(0x131)](_0x308152(0x11a),_0x55026a),await shell_internal_1[_0x308152(0x11c)]['exec']('cd\x20'+this[_0x308152(0x117)]+_0x308152(0x101)+_0x55026a+_0x308152(0x145));}async[a95_0x1a5bc1(0x11e)](_0x1fe3f8){const _0x24d20f=a95_0x1a5bc1;Git['logger']['log']('checkout\x20to\x20%s',_0x1fe3f8),await shell_internal_1[_0x24d20f(0x11c)]['exec'](_0x24d20f(0x137)+this[_0x24d20f(0x117)]+_0x24d20f(0x146)+_0x1fe3f8);}async[a95_0x1a5bc1(0x13c)](){const _0x268028=a95_0x1a5bc1,_0x44f1c4=await shell_internal_1['Shell'][_0x268028(0x10f)](_0x268028(0x137)+this[_0x268028(0x117)]+_0x268028(0x149));return _0x44f1c4['replace']('\x0a','');}async['describeCommit'](_0x1cf746){const _0x37e593=a95_0x1a5bc1;Git['logger'][_0x37e593(0x131)]('describe\x20commit\x20%s',_0x1cf746);const _0x377c8e=await shell_internal_1[_0x37e593(0x11c)][_0x37e593(0x10f)](_0x37e593(0x137)+this[_0x37e593(0x117)]+_0x37e593(0x124)+_0x1cf746);return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x377c8e),'email':(0x0,internal_utils_1[_0x37e593(0x13d)])(_0x377c8e),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x377c8e),'changes':(0x0,internal_utils_1[_0x37e593(0x11d)])(_0x377c8e)};}static async['getRemoteHash'](_0x4c077b,_0x42c0ed){const _0x498831=a95_0x1a5bc1,[_0x1dafaa]=await shell_internal_1['Shell'][_0x498831(0x10f)](_0x498831(0x120)+_0x4c077b+'\x20'+_0x42c0ed+_0x498831(0x119))[_0x498831(0x115)](_0x5786ff=>_0x5786ff[_0x498831(0x133)](/\s/g,'\x20')[_0x498831(0x14c)]('\x20'));return _0x1dafaa;}static async['clone'](_0x5440f5,_0xe22b8c,_0x583262){const _0x2be773=a95_0x1a5bc1,_0x38bd4f=path_1['default'][_0x2be773(0x114)](this[_0x2be773(0x123)],_0xe22b8c),_0x3c2a6f=new Git(_0x38bd4f);return Git[_0x2be773(0x109)][_0x2be773(0x131)](_0x2be773(0x129),_0x583262,_0x5440f5,_0x38bd4f),await fs_internal_1['FS'][_0x2be773(0x104)](_0x38bd4f),await shell_internal_1[_0x2be773(0x11c)]['exec'](_0x2be773(0x14f)+_0x583262+_0x2be773(0x153)+_0x5440f5+'\x20'+_0x38bd4f),_0x3c2a6f;}static async[a95_0x1a5bc1(0x12b)](_0x1cd8eb,_0x161ede){const _0x3260d1=a95_0x1a5bc1,_0x5e0e72=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x53f9ae=_0x1cd8eb[_0x3260d1(0x121)]['replace'](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x1cd8eb['gitUrl'])+_0x3260d1(0xff)+_0x161ede[_0x3260d1(0x10a)]()+'@'),_0x213c0e=await shell_internal_1['Shell'][_0x3260d1(0x10f)](_0x3260d1(0x120)+_0x53f9ae),_0x53494f=_0x213c0e['split']('\x0a')[_0x3260d1(0x11b)](_0x598278=>_0x5e0e72[_0x3260d1(0x12c)](_0x598278))[_0x3260d1(0x111)](_0x1a62c9=>{const _0x508c57=_0x3260d1,[,_0x52bdc7,_0x3d4661]=_0x1a62c9[_0x508c57(0x14e)](_0x5e0e72),_0x3de4e2=new branch_dto_1[(_0x508c57(0x134))]();return _0x3de4e2['sha']=_0x52bdc7,_0x3de4e2[_0x508c57(0x14a)]=_0x3d4661[_0x508c57(0x133)](_0x508c57(0x14d),''),_0x3de4e2;});return _0x53494f;}static async[a95_0x1a5bc1(0x144)](_0x2c351a,_0x392f39,_0x2d4f6f,_0x4fdeed){const _0xbc52=a95_0x1a5bc1,_0x1ffc15=_0x2c351a[_0xbc52(0x121)][_0xbc52(0x133)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2c351a['gitUrl'])+_0xbc52(0xff)+_0x4fdeed[_0xbc52(0x10a)]()+'@'),_0x24a934=path_1[_0xbc52(0x113)][_0xbc52(0x114)](this[_0xbc52(0x123)],_0x2c351a['name']);Git[_0xbc52(0x109)]['log'](_0xbc52(0x103),_0x2c351a['name'],_0x392f39,_0x24a934,_0x1ffc15),await fs_internal_1['FS'][_0xbc52(0x104)](_0x24a934),await fs_internal_1['FS'][_0xbc52(0x140)](_0x24a934);const _0x5c0eda=new Git(_0x24a934);await shell_internal_1[_0xbc52(0x11c)][_0xbc52(0x10f)](_0xbc52(0x137)+_0x5c0eda[_0xbc52(0x135)]+'\x20&&\x20git\x20init'),await shell_internal_1[_0xbc52(0x11c)][_0xbc52(0x10f)](_0xbc52(0x137)+_0x5c0eda[_0xbc52(0x135)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x1ffc15),await _0x5c0eda['setCredentials'](constants_1[_0xbc52(0x148)],constants_1[_0xbc52(0xfd)]),await shell_internal_1[_0xbc52(0x11c)]['exec']('cd\x20'+_0x5c0eda['baseDir']+_0xbc52(0x141)+_0x392f39),await shell_internal_1['Shell'][_0xbc52(0x10f)](_0xbc52(0x137)+_0x5c0eda[_0xbc52(0x135)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x2d4f6f||constants_1[_0xbc52(0x105)])+'\x22\x20--allow-empty'),await _0x5c0eda[_0xbc52(0x138)](_0x392f39),Git[_0xbc52(0x109)]['log'](_0xbc52(0x102)),await fs_internal_1['FS'][_0xbc52(0x104)](_0x5c0eda[_0xbc52(0x135)]);}}exports[a95_0x1a5bc1(0x13f)]=Git,Git['DEFAULT_CLONE_PATH']=path_1['default']['join'](process[a95_0x1a5bc1(0x107)](),a95_0x1a5bc1(0x122),a95_0x1a5bc1(0x11f)),Git[a95_0x1a5bc1(0x109)]=new core_1[(a95_0x1a5bc1(0x116))](Git[a95_0x1a5bc1(0x14a)]);