const a145_0xb7ad49=a145_0x14be;(function(_0x30f3e1,_0x26a886){const _0x2b8668=a145_0x14be,_0x51e1e4=_0x30f3e1();while(!![]){try{const _0x525409=-parseInt(_0x2b8668(0x112))/0x1*(-parseInt(_0x2b8668(0x138))/0x2)+-parseInt(_0x2b8668(0x13b))/0x3*(parseInt(_0x2b8668(0x14c))/0x4)+-parseInt(_0x2b8668(0x10a))/0x5*(-parseInt(_0x2b8668(0x13e))/0x6)+-parseInt(_0x2b8668(0x13a))/0x7*(parseInt(_0x2b8668(0x142))/0x8)+-parseInt(_0x2b8668(0x13c))/0x9+parseInt(_0x2b8668(0x10f))/0xa*(-parseInt(_0x2b8668(0x121))/0xb)+parseInt(_0x2b8668(0x13d))/0xc*(parseInt(_0x2b8668(0x134))/0xd);if(_0x525409===_0x26a886)break;else _0x51e1e4['push'](_0x51e1e4['shift']());}catch(_0xd43800){_0x51e1e4['push'](_0x51e1e4['shift']());}}}(a145_0x31ed,0xec93f));function a145_0x14be(_0xc70a28,_0x54c64e){const _0x155b81=a145_0x31ed();return a145_0x14be=function(_0x695afd,_0x4a7885){_0x695afd=_0x695afd-0x108;let _0x31ed53=_0x155b81[_0x695afd];return _0x31ed53;},a145_0x14be(_0xc70a28,_0x54c64e);}const a145_0x4a7885=(function(){let _0x1612cd=!![];return function(_0x563edd,_0x475365){const _0x5ad4bf=_0x1612cd?function(){const _0x6d4091=a145_0x14be;if(_0x475365){const _0x1b772d=_0x475365[_0x6d4091(0x11f)](_0x563edd,arguments);return _0x475365=null,_0x1b772d;}}:function(){};return _0x1612cd=![],_0x5ad4bf;};}()),a145_0x695afd=a145_0x4a7885(this,function(){const _0x3e3588=a145_0x14be;return a145_0x695afd[_0x3e3588(0x156)]()[_0x3e3588(0x12f)](_0x3e3588(0x147))['toString']()[_0x3e3588(0x119)](a145_0x695afd)['search'](_0x3e3588(0x147));});a145_0x695afd();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x53849f){return _0x53849f&&_0x53849f['__esModule']?_0x53849f:{'default':_0x53849f};};function a145_0x31ed(){const _0x3598cf=['filter','4EchHlb','getProtocol','push','path','\x20&&\x20git\x20init','logger','setCredentials','constructor','\x20&&\x20git\x20checkout\x20','getCurrentHash','ChildProcessUtils','test','then','apply','baseDir','62029NMMMLh','removeDir','\x20&&\x20git\x20commit\x20-m\x20\x22','_repoPath','defineProperty','add','replace','Checkout\x20to\x20%s','extractChangesFromCommitDescribe','log','\x20&&\x20git\x20rev-parse\x20HEAD','gitUrl','makeDir','\x20&&\x20git\x20remote\x20add\x20origin\x20','search','name','checkout','Describe\x20commit\x20%s','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','26615329WUxrxD','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','sha','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','271910lOoXmP','../../shared/utils','673169aTnrfd','5115hJOQAf','4421259ioKJBB','12gPWGtR','3218568MSGNcL','\x20--quiet','refs/heads/','git\x20ls-remote\x20','8zOjozN','DEFAULT_CLONE_PATH','Push\x20changes\x20to\x20%s','createEmptyBranch','../providers/branches/dto/branch.dto','(((.+)+)+)+$','cwd','Clone\x20repository\x20branch\x20%s\x20to\x20%s','://','BranchDto','1900ieDoTY','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','../../../core','join','cd\x20','split','DEFAULT_GIT_USER_EMAIL','spawnPromise','commit','toString','\x20&&\x20git\x20add\x20','Git','./fs.internal','getRepositoryBranches','Logger','getGitShellAuthorizationString','INITIAL_COMMIT','Commit\x20message\x20\x22%s\x22','5iLArsB','\x22\x20--allow-empty','\x20&&\x20git\x20checkout\x20--orphan\x20','map','./internal.utils','1350VQRruq','match'];a145_0x31ed=function(){return _0x3598cf;};return a145_0x31ed();}Object[a145_0xb7ad49(0x125)](exports,'__esModule',{'value':!![]}),exports[a145_0xb7ad49(0x158)]=void 0x0;const constants_1=require('../../../constants'),core_1=require(a145_0xb7ad49(0x14f)),path_1=__importDefault(require(a145_0xb7ad49(0x115))),branch_dto_1=require(a145_0xb7ad49(0x146)),utils_1=require(a145_0xb7ad49(0x139)),fs_internal_1=require(a145_0xb7ad49(0x159)),internal_utils_1=require(a145_0xb7ad49(0x10e)),utils_2=require('@flosum/utils');class Git{constructor(_0x3f5a7a){const _0x2a470e=a145_0xb7ad49;this[_0x2a470e(0x124)]=_0x3f5a7a;}get['baseDir'](){return this['_repoPath'];}async[a145_0xb7ad49(0x118)](_0x374def,_0x1d0707){const _0xff6826=a145_0xb7ad49;await utils_2[_0xff6826(0x11c)][_0xff6826(0x154)](_0xff6826(0x151)+this['_repoPath']+_0xff6826(0x137)+_0x374def+_0xff6826(0x14e)+_0x1d0707+'\x22','');}async[a145_0xb7ad49(0x126)](..._0x8c2bec){const _0x19a482=a145_0xb7ad49;await utils_2[_0x19a482(0x11c)][_0x19a482(0x154)](_0x19a482(0x151)+this[_0x19a482(0x124)]+_0x19a482(0x157)+_0x8c2bec[_0x19a482(0x150)]('\x20'),'');}async['status'](){const _0x164afd=a145_0xb7ad49;return utils_2[_0x164afd(0x11c)][_0x164afd(0x154)](_0x164afd(0x151)+this[_0x164afd(0x124)]+'\x20&&\x20git\x20status','');}async[a145_0xb7ad49(0x155)](_0xbf1a5d){const _0x28ab51=a145_0xb7ad49;Git[_0x28ab51(0x117)][_0x28ab51(0x12a)](_0x28ab51(0x109),_0xbf1a5d),await utils_2[_0x28ab51(0x11c)][_0x28ab51(0x154)](_0x28ab51(0x151)+this[_0x28ab51(0x124)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0xbf1a5d+'\x22','');}async[a145_0xb7ad49(0x114)](_0x20eab8){const _0xd69ba1=a145_0xb7ad49;Git[_0xd69ba1(0x117)][_0xd69ba1(0x12a)](_0xd69ba1(0x144),_0x20eab8),await utils_2['ChildProcessUtils'][_0xd69ba1(0x154)]('cd\x20'+this[_0xd69ba1(0x124)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x20eab8+_0xd69ba1(0x13f),'');}async[a145_0xb7ad49(0x131)](_0x49acb9){const _0x350bce=a145_0xb7ad49;Git[_0x350bce(0x117)][_0x350bce(0x12a)](_0x350bce(0x128),_0x49acb9),await utils_2[_0x350bce(0x11c)]['spawnPromise'](_0x350bce(0x151)+this[_0x350bce(0x124)]+_0x350bce(0x11a)+_0x49acb9,'');}async[a145_0xb7ad49(0x11b)](){const _0x54ccd3=a145_0xb7ad49,_0x2b7ada=await utils_2['ChildProcessUtils']['spawnPromise'](_0x54ccd3(0x151)+this['_repoPath']+_0x54ccd3(0x12b),'');return _0x2b7ada[_0x54ccd3(0x127)]('\x0a','');}async['describeCommit'](_0x352cc0){const _0x4c1516=a145_0xb7ad49;Git['logger'][_0x4c1516(0x12a)](_0x4c1516(0x132),_0x352cc0);const _0x295bd0=await utils_2['ChildProcessUtils'][_0x4c1516(0x154)]('cd\x20'+this[_0x4c1516(0x124)]+_0x4c1516(0x135)+_0x352cc0,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x295bd0),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x295bd0),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x295bd0),'changes':(0x0,internal_utils_1[_0x4c1516(0x129)])(_0x295bd0)};}static async['getRemoteHash'](_0x504a40,_0xfa4076){const _0x2bba5f=a145_0xb7ad49,[_0x351269]=await utils_2[_0x2bba5f(0x11c)][_0x2bba5f(0x154)](_0x2bba5f(0x141)+_0x504a40+'\x20'+_0xfa4076+'\x20--refs','')[_0x2bba5f(0x11e)](_0x17e5d9=>_0x17e5d9['replace'](/\s/g,'\x20')[_0x2bba5f(0x152)]('\x20'));return _0x351269;}static async['clone'](_0x2eaa34,_0x43097e,_0x4e8f56){const _0x2bd83=a145_0xb7ad49,_0x285f8f=path_1['default'][_0x2bd83(0x150)](this['DEFAULT_CLONE_PATH'],_0x43097e),_0x3742ce=new Git(_0x285f8f);return Git[_0x2bd83(0x117)]['log'](_0x2bd83(0x149),_0x4e8f56,_0x285f8f),await fs_internal_1['FS']['removeDir'](_0x285f8f),await utils_2[_0x2bd83(0x11c)][_0x2bd83(0x154)]('git\x20clone\x20-b\x20'+_0x4e8f56+'\x20--single-branch\x20'+_0x2eaa34+'\x20'+_0x285f8f,''),_0x3742ce;}static async[a145_0xb7ad49(0x15a)](_0x495113,_0x10c446){const _0x4a4cb7=a145_0xb7ad49,_0x2bd593=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x5e36fc=_0x495113[_0x4a4cb7(0x12c)][_0x4a4cb7(0x127)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4a4cb7(0x113)])(_0x495113[_0x4a4cb7(0x12c)])+'://'+_0x10c446[_0x4a4cb7(0x15c)]()+'@'),_0x26dc29=await utils_2['ChildProcessUtils']['spawnPromise']('git\x20ls-remote\x20'+_0x5e36fc,'');return _0x26dc29['split']('\x0a')[_0x4a4cb7(0x111)](_0x3b3699=>_0x2bd593[_0x4a4cb7(0x11d)](_0x3b3699))[_0x4a4cb7(0x10d)](_0x1649d9=>{const _0x1f7e73=_0x4a4cb7,[,_0xd91012,_0x29a47a]=_0x1649d9[_0x1f7e73(0x110)](_0x2bd593),_0x5072c8=new branch_dto_1[(_0x1f7e73(0x14b))]();return _0x5072c8[_0x1f7e73(0x136)]=_0xd91012,_0x5072c8[_0x1f7e73(0x130)]=_0x29a47a[_0x1f7e73(0x127)](_0x1f7e73(0x140),''),_0x5072c8;});}static async[a145_0xb7ad49(0x145)](_0x53cef0,_0x1b9d9b,_0x6725af,_0xc29604){const _0x4b93c7=a145_0xb7ad49,_0x3050cb=_0x53cef0[_0x4b93c7(0x12c)][_0x4b93c7(0x127)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4b93c7(0x113)])(_0x53cef0[_0x4b93c7(0x12c)])+_0x4b93c7(0x14a)+_0xc29604[_0x4b93c7(0x15c)]()+'@'),_0x5f44f5=path_1['default']['join'](this['DEFAULT_CLONE_PATH'],_0x53cef0[_0x4b93c7(0x130)]);Git[_0x4b93c7(0x117)][_0x4b93c7(0x12a)](_0x4b93c7(0x133),_0x53cef0[_0x4b93c7(0x130)],_0x1b9d9b,_0x5f44f5),await fs_internal_1['FS'][_0x4b93c7(0x122)](_0x5f44f5),await fs_internal_1['FS'][_0x4b93c7(0x12d)](_0x5f44f5);const _0x32a4fd=new Git(_0x5f44f5);await utils_2[_0x4b93c7(0x11c)][_0x4b93c7(0x154)]('cd\x20'+_0x32a4fd[_0x4b93c7(0x120)]+_0x4b93c7(0x116),''),await utils_2['ChildProcessUtils'][_0x4b93c7(0x154)](_0x4b93c7(0x151)+_0x32a4fd['baseDir']+_0x4b93c7(0x12e)+_0x3050cb,''),await _0x32a4fd[_0x4b93c7(0x118)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x4b93c7(0x153)]),await utils_2['ChildProcessUtils'][_0x4b93c7(0x154)](_0x4b93c7(0x151)+_0x32a4fd[_0x4b93c7(0x120)]+_0x4b93c7(0x10c)+_0x1b9d9b,''),await utils_2[_0x4b93c7(0x11c)][_0x4b93c7(0x154)](_0x4b93c7(0x151)+_0x32a4fd[_0x4b93c7(0x120)]+_0x4b93c7(0x123)+(_0x6725af||constants_1[_0x4b93c7(0x108)])+_0x4b93c7(0x10b),''),await _0x32a4fd[_0x4b93c7(0x114)](_0x1b9d9b),Git['logger'][_0x4b93c7(0x12a)](_0x4b93c7(0x14d)),await fs_internal_1['FS']['removeDir'](_0x32a4fd['baseDir']);}}exports['Git']=Git,Git[a145_0xb7ad49(0x143)]=path_1['default'][a145_0xb7ad49(0x150)](process[a145_0xb7ad49(0x148)](),'.temp','git'),Git[a145_0xb7ad49(0x117)]=new core_1[(a145_0xb7ad49(0x15b))](Git['name']);