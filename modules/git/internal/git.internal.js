const a95_0x2c3845=a95_0x27d1;(function(_0xd796a3,_0x150d49){const _0x443185=a95_0x27d1,_0xb7ff8=_0xd796a3();while(!![]){try{const _0x160456=-parseInt(_0x443185(0xb4))/0x1*(-parseInt(_0x443185(0xd6))/0x2)+-parseInt(_0x443185(0xcb))/0x3+-parseInt(_0x443185(0xbb))/0x4+-parseInt(_0x443185(0xf6))/0x5*(-parseInt(_0x443185(0xc3))/0x6)+-parseInt(_0x443185(0xf2))/0x7*(parseInt(_0x443185(0xc9))/0x8)+parseInt(_0x443185(0xc4))/0x9*(-parseInt(_0x443185(0x102))/0xa)+parseInt(_0x443185(0xef))/0xb;if(_0x160456===_0x150d49)break;else _0xb7ff8['push'](_0xb7ff8['shift']());}catch(_0x22b83a){_0xb7ff8['push'](_0xb7ff8['shift']());}}}(a95_0x2ed4,0xabb95));const a95_0x397971=(function(){let _0xdef3af=!![];return function(_0x5b26a5,_0x4f5043){const _0x31e4b0=_0xdef3af?function(){const _0x2852cc=a95_0x27d1;if(_0x4f5043){const _0x974da0=_0x4f5043[_0x2852cc(0xd8)](_0x5b26a5,arguments);return _0x4f5043=null,_0x974da0;}}:function(){};return _0xdef3af=![],_0x31e4b0;};}()),a95_0x4958a7=a95_0x397971(this,function(){const _0x13e2cb=a95_0x27d1;return a95_0x4958a7[_0x13e2cb(0xed)]()[_0x13e2cb(0xde)](_0x13e2cb(0x100))[_0x13e2cb(0xed)]()['constructor'](a95_0x4958a7)['search']('(((.+)+)+)+$');});function a95_0x27d1(_0x551ee7,_0x48dbca){const _0x20e61b=a95_0x2ed4();return a95_0x27d1=function(_0x4958a7,_0x397971){_0x4958a7=_0x4958a7-0xb3;let _0x2ed475=_0x20e61b[_0x4958a7];return _0x2ed475;},a95_0x27d1(_0x551ee7,_0x48dbca);}a95_0x4958a7();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x27fceb){const _0x4fda40=a95_0x27d1;return _0x27fceb&&_0x27fceb[_0x4fda40(0xfa)]?_0x27fceb:{'default':_0x27fceb};};Object[a95_0x2c3845(0xfb)](exports,a95_0x2c3845(0xfa),{'value':!![]}),exports[a95_0x2c3845(0xb9)]=void 0x0;const constants_1=require(a95_0x2c3845(0xea)),core_1=require(a95_0x2c3845(0xb6)),path_1=__importDefault(require('path')),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a95_0x2c3845(0xd7)),fs_internal_1=require(a95_0x2c3845(0xc1)),internal_utils_1=require(a95_0x2c3845(0xdc)),shell_internal_1=require('./shell.internal');class Git{constructor(_0x229e9e){this['_repoPath']=_0x229e9e;}get[a95_0x2c3845(0x103)](){const _0x170baf=a95_0x2c3845;return this[_0x170baf(0xe9)];}async[a95_0x2c3845(0xdb)](_0x122631,_0xace754){const _0x9865f9=a95_0x2c3845;await shell_internal_1[_0x9865f9(0xda)][_0x9865f9(0xba)](_0x9865f9(0xc5)+this[_0x9865f9(0xe9)]+_0x9865f9(0xb5)+_0x122631+_0x9865f9(0xf3)+_0xace754+'\x22');}async['add'](..._0x39f816){const _0x2adafc=a95_0x2c3845;await shell_internal_1[_0x2adafc(0xda)]['exec'](_0x2adafc(0xc5)+this[_0x2adafc(0xe9)]+_0x2adafc(0xe5)+_0x39f816[_0x2adafc(0xe4)]('\x20'));}async['status'](){const _0x6ed318=a95_0x2c3845;return shell_internal_1[_0x6ed318(0xda)][_0x6ed318(0xba)](_0x6ed318(0xc5)+this['_repoPath']+_0x6ed318(0xdd));}async['commit'](_0x270975){const _0x59faad=a95_0x2c3845;Git[_0x59faad(0xd3)][_0x59faad(0xf1)](_0x59faad(0xd5),_0x270975),await shell_internal_1['Shell']['exec']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x270975+'\x22');}async[a95_0x2c3845(0xc6)](_0x20c860){const _0x5a1b11=a95_0x2c3845;Git[_0x5a1b11(0xd3)]['log'](_0x5a1b11(0xe7),_0x20c860),await shell_internal_1[_0x5a1b11(0xda)][_0x5a1b11(0xba)]('cd\x20'+this[_0x5a1b11(0xe9)]+_0x5a1b11(0xbc)+_0x20c860+_0x5a1b11(0x101));}async[a95_0x2c3845(0xee)](_0x2a0ba7){const _0x245257=a95_0x2c3845;Git['logger'][_0x245257(0xf1)]('checkout\x20to\x20%s',_0x2a0ba7),await shell_internal_1[_0x245257(0xda)][_0x245257(0xba)]('cd\x20'+this[_0x245257(0xe9)]+'\x20&&\x20git\x20checkout\x20'+_0x2a0ba7);}async[a95_0x2c3845(0xb7)](){const _0x5dcfc6=a95_0x2c3845,_0x17e30a=await shell_internal_1[_0x5dcfc6(0xda)]['exec'](_0x5dcfc6(0xc5)+this[_0x5dcfc6(0xe9)]+_0x5dcfc6(0xf9));return _0x17e30a[_0x5dcfc6(0xfe)]('\x0a','');}async['describeCommit'](_0x3b92a4){const _0x262379=a95_0x2c3845;Git['logger']['log'](_0x262379(0xbf),_0x3b92a4);const _0x5d64a2=await shell_internal_1[_0x262379(0xda)][_0x262379(0xba)](_0x262379(0xc5)+this[_0x262379(0xe9)]+_0x262379(0xf0)+_0x3b92a4);return{'author':(0x0,internal_utils_1[_0x262379(0xd1)])(_0x5d64a2),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x5d64a2),'message':(0x0,internal_utils_1[_0x262379(0xc0)])(_0x5d64a2),'changes':(0x0,internal_utils_1[_0x262379(0xf7)])(_0x5d64a2)};}static async[a95_0x2c3845(0xcc)](_0x4ec831,_0x1507f9){const _0x3c3737=a95_0x2c3845,[_0x3bd06c]=await shell_internal_1['Shell'][_0x3c3737(0xba)](_0x3c3737(0xc8)+_0x4ec831+'\x20'+_0x1507f9+'\x20--refs')['then'](_0x21eaed=>_0x21eaed['replace'](/\s/g,'\x20')[_0x3c3737(0xca)]('\x20'));return _0x3bd06c;}static async[a95_0x2c3845(0xe8)](_0x7fe216,_0x1de89e,_0x2e91ea){const _0x48c6ea=a95_0x2c3845,_0xfe74be=path_1[_0x48c6ea(0xbe)]['join'](this[_0x48c6ea(0xd9)],_0x1de89e),_0x4e6600=new Git(_0xfe74be);return Git[_0x48c6ea(0xd3)][_0x48c6ea(0xf1)](_0x48c6ea(0xfc),_0x2e91ea,_0x7fe216,_0xfe74be),await fs_internal_1['FS']['removeDir'](_0xfe74be),await shell_internal_1['Shell'][_0x48c6ea(0xba)](_0x48c6ea(0xdf)+_0x2e91ea+_0x48c6ea(0xb3)+_0x7fe216+'\x20'+_0xfe74be),_0x4e6600;}static async['getRepositoryBranches'](_0x13fa7c,_0x380a1c){const _0x554629=a95_0x2c3845,_0x2810a8=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x508283=_0x13fa7c['gitUrl'][_0x554629(0xfe)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1[_0x554629(0xc7)])(_0x13fa7c[_0x554629(0xce)])+_0x554629(0xeb)+_0x380a1c['getGitShellAuthorizationString']()+'@'),_0x531ce8=await shell_internal_1[_0x554629(0xda)]['exec'](_0x554629(0xc8)+_0x508283),_0x266298=_0x531ce8[_0x554629(0xca)]('\x0a')[_0x554629(0xe3)](_0x4a491d=>_0x2810a8[_0x554629(0xfd)](_0x4a491d))[_0x554629(0xf4)](_0x3efa6c=>{const _0x12d58f=_0x554629,[,_0x441c7c,_0x4c4658]=_0x3efa6c[_0x12d58f(0xe2)](_0x2810a8),_0x58fa80=new branch_dto_1[(_0x12d58f(0xe1))]();return _0x58fa80[_0x12d58f(0xff)]=_0x441c7c,_0x58fa80[_0x12d58f(0xe6)]=_0x4c4658['replace']('refs/heads/',''),_0x58fa80;});return _0x266298;}static async['createEmptyBranch'](_0x45e7f9,_0x40547e,_0x26b151,_0x4fe391){const _0x1c736c=a95_0x2c3845,_0x4bb25e=_0x45e7f9[_0x1c736c(0xce)][_0x1c736c(0xfe)](/http(s)?\:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x45e7f9[_0x1c736c(0xce)])+_0x1c736c(0xeb)+_0x4fe391[_0x1c736c(0xec)]()+'@'),_0x9180f2=path_1['default'][_0x1c736c(0xe4)](this['DEFAULT_CLONE_PATH'],_0x45e7f9[_0x1c736c(0xe6)]);Git[_0x1c736c(0xd3)][_0x1c736c(0xf1)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x45e7f9['name'],_0x40547e,_0x9180f2,_0x4bb25e),await fs_internal_1['FS'][_0x1c736c(0xcf)](_0x9180f2),await fs_internal_1['FS'][_0x1c736c(0xf5)](_0x9180f2);const _0x23f952=new Git(_0x9180f2);await shell_internal_1[_0x1c736c(0xda)][_0x1c736c(0xba)]('cd\x20'+_0x23f952[_0x1c736c(0x103)]+_0x1c736c(0xd0)),await shell_internal_1[_0x1c736c(0xda)][_0x1c736c(0xba)]('cd\x20'+_0x23f952[_0x1c736c(0x103)]+_0x1c736c(0xd4)+_0x4bb25e),await _0x23f952[_0x1c736c(0xdb)](constants_1[_0x1c736c(0xe0)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x1c736c(0xda)]['exec'](_0x1c736c(0xc5)+_0x23f952[_0x1c736c(0x103)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x40547e),await shell_internal_1[_0x1c736c(0xda)][_0x1c736c(0xba)](_0x1c736c(0xc5)+_0x23f952[_0x1c736c(0x103)]+_0x1c736c(0xc2)+(_0x26b151||constants_1[_0x1c736c(0xd2)])+_0x1c736c(0xcd)),await _0x23f952['push'](_0x40547e),Git[_0x1c736c(0xd3)][_0x1c736c(0xf1)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS']['removeDir'](_0x23f952[_0x1c736c(0x103)]);}}exports['Git']=Git,Git[a95_0x2c3845(0xd9)]=path_1['default'][a95_0x2c3845(0xe4)](process[a95_0x2c3845(0xb8)](),a95_0x2c3845(0xbd),a95_0x2c3845(0xf8)),Git[a95_0x2c3845(0xd3)]=new core_1['Logger'](Git['name']);function a95_0x2ed4(){const _0x265137=['split','3845541zzirQL','getRemoteHash','\x22\x20--allow-empty','gitUrl','removeDir','\x20&&\x20git\x20init','extractAuthorFromCommitDescribe','INITIAL_COMMIT','logger','\x20&&\x20git\x20remote\x20add\x20origin\x20','commit\x20message\x20\x22%s\x22','8DoDPHi','../../shared/utils','apply','DEFAULT_CLONE_PATH','Shell','setCredentials','./internal.utils','\x20&&\x20git\x20status','search','git\x20clone\x20-b\x20','DEFAULT_GIT_USER_NAME','BranchDto','match','filter','join','\x20&&\x20git\x20add\x20','name','push\x20changes\x20to\x20%s','clone','_repoPath','../../../constants','://','getGitShellAuthorizationString','toString','checkout','23853181vlUoUG','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','log','175847mSODjc','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','map','makeDir','540805ixJUsE','extractChangesFromCommitDescribe','git','\x20&&\x20git\x20rev-parse\x20HEAD','__esModule','defineProperty','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','test','replace','sha','(((.+)+)+)+$','\x20--quiet','1563160xCQKSF','baseDir','\x20--single-branch\x20','84054hMhntR','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','../../../core','getCurrentHash','cwd','Git','exec','2811920WRUpTC','\x20&&\x20git\x20push\x20origin\x20','.temp','default','describe\x20commit\x20%s','extractMessageFromCommitDescribe','./fs.internal','\x20&&\x20git\x20commit\x20-m\x20\x22','30ItRqxQ','9nWIhpf','cd\x20','push','getProtocol','git\x20ls-remote\x20','64VjeVju'];a95_0x2ed4=function(){return _0x265137;};return a95_0x2ed4();}