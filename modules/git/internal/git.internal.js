const a126_0x41cb26=a126_0x5f1e;(function(_0x582c62,_0xb93d3d){const _0x1a5530=a126_0x5f1e,_0x1f52c8=_0x582c62();while(!![]){try{const _0x22b955=-parseInt(_0x1a5530(0xb3))/0x1*(parseInt(_0x1a5530(0x81))/0x2)+-parseInt(_0x1a5530(0xb6))/0x3*(-parseInt(_0x1a5530(0xb4))/0x4)+-parseInt(_0x1a5530(0xbe))/0x5+-parseInt(_0x1a5530(0x8e))/0x6*(parseInt(_0x1a5530(0x94))/0x7)+parseInt(_0x1a5530(0x7e))/0x8*(-parseInt(_0x1a5530(0x7c))/0x9)+-parseInt(_0x1a5530(0x74))/0xa*(-parseInt(_0x1a5530(0x79))/0xb)+-parseInt(_0x1a5530(0x9a))/0xc*(-parseInt(_0x1a5530(0xa8))/0xd);if(_0x22b955===_0xb93d3d)break;else _0x1f52c8['push'](_0x1f52c8['shift']());}catch(_0x5552c8){_0x1f52c8['push'](_0x1f52c8['shift']());}}}(a126_0x3b6f,0x195e3));const a126_0x46bba0=(function(){let _0x3a7321=!![];return function(_0x232506,_0x54902f){const _0x3486b7=_0x3a7321?function(){const _0x448d27=a126_0x5f1e;if(_0x54902f){const _0x123965=_0x54902f[_0x448d27(0xb9)](_0x232506,arguments);return _0x54902f=null,_0x123965;}}:function(){};return _0x3a7321=![],_0x3486b7;};}()),a126_0x1557fb=a126_0x46bba0(this,function(){const _0x5783ac=a126_0x5f1e;return a126_0x1557fb[_0x5783ac(0xa6)]()[_0x5783ac(0xc5)](_0x5783ac(0x86))[_0x5783ac(0xa6)]()[_0x5783ac(0xba)](a126_0x1557fb)[_0x5783ac(0xc5)]('(((.+)+)+)+$');});a126_0x1557fb();function a126_0x5f1e(_0x3048c3,_0x56fd55){const _0x424cdf=a126_0x3b6f();return a126_0x5f1e=function(_0x1557fb,_0x46bba0){_0x1557fb=_0x1557fb-0x74;let _0x3b6f5b=_0x424cdf[_0x1557fb];return _0x3b6f5b;},a126_0x5f1e(_0x3048c3,_0x56fd55);}'use strict';var __importDefault=this&&this[a126_0x41cb26(0xbc)]||function(_0x229416){const _0x2fb679=a126_0x41cb26;return _0x229416&&_0x229416[_0x2fb679(0xa7)]?_0x229416:{'default':_0x229416};};Object['defineProperty'](exports,a126_0x41cb26(0xa7),{'value':!![]}),exports[a126_0x41cb26(0x95)]=void 0x0;const constants_1=require(a126_0x41cb26(0x7d)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a126_0x41cb26(0xa9)),utils_1=require(a126_0x41cb26(0x8b)),fs_internal_1=require(a126_0x41cb26(0x93)),internal_utils_1=require(a126_0x41cb26(0xab)),utils_2=require(a126_0x41cb26(0xac));class Git{constructor(_0x15b5db){const _0x43894a=a126_0x41cb26;this[_0x43894a(0x88)]=_0x15b5db;}get[a126_0x41cb26(0xb1)](){const _0x169942=a126_0x41cb26;return this[_0x169942(0x88)];}async['setCredentials'](_0x4fbd0c,_0x3dd7ae){const _0x1bd755=a126_0x41cb26;await utils_2[_0x1bd755(0x9c)][_0x1bd755(0x76)](_0x1bd755(0x7f)+this['_repoPath']+_0x1bd755(0xb8)+_0x4fbd0c+_0x1bd755(0x8c)+_0x3dd7ae+'\x22','');}async[a126_0x41cb26(0xb2)](..._0x2703af){const _0x4b6669=a126_0x41cb26;await utils_2[_0x4b6669(0x9c)][_0x4b6669(0x76)]('cd\x20'+this[_0x4b6669(0x88)]+'\x20&&\x20git\x20add\x20'+_0x2703af[_0x4b6669(0x84)]('\x20'),'');}async['status'](){const _0x78d37e=a126_0x41cb26;return utils_2['ChildProcessUtils'][_0x78d37e(0x76)]('cd\x20'+this[_0x78d37e(0x88)]+_0x78d37e(0x9d),'');}async[a126_0x41cb26(0xc7)](_0x1055d9){const _0x12a26a=a126_0x41cb26;Git['logger'][_0x12a26a(0x89)]('commit\x20message\x20\x22%s\x22',_0x1055d9),await utils_2[_0x12a26a(0x9c)]['spawnPromise'](_0x12a26a(0x7f)+this[_0x12a26a(0x88)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x1055d9+'\x22','');}async['push'](_0x5d6375){const _0x346690=a126_0x41cb26;Git[_0x346690(0x82)][_0x346690(0x89)](_0x346690(0xbb),_0x5d6375),await utils_2['ChildProcessUtils'][_0x346690(0x76)](_0x346690(0x7f)+this['_repoPath']+_0x346690(0xa4)+_0x5d6375+_0x346690(0x7b),'');}async['checkout'](_0x45bb6b){const _0x53e710=a126_0x41cb26;Git[_0x53e710(0x82)][_0x53e710(0x89)](_0x53e710(0x87),_0x45bb6b),await utils_2['ChildProcessUtils'][_0x53e710(0x76)](_0x53e710(0x7f)+this[_0x53e710(0x88)]+_0x53e710(0xa5)+_0x45bb6b,'');}async[a126_0x41cb26(0xbf)](){const _0x538bb9=a126_0x41cb26,_0x529a36=await utils_2[_0x538bb9(0x9c)][_0x538bb9(0x76)](_0x538bb9(0x7f)+this[_0x538bb9(0x88)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x529a36['replace']('\x0a','');}async['describeCommit'](_0x392e11){const _0x44efa2=a126_0x41cb26;Git['logger'][_0x44efa2(0x89)]('describe\x20commit\x20%s',_0x392e11);const _0x67fe24=await utils_2[_0x44efa2(0x9c)][_0x44efa2(0x76)](_0x44efa2(0x7f)+this[_0x44efa2(0x88)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x392e11,'');return{'author':(0x0,internal_utils_1[_0x44efa2(0x78)])(_0x67fe24),'email':(0x0,internal_utils_1[_0x44efa2(0xa1)])(_0x67fe24),'message':(0x0,internal_utils_1[_0x44efa2(0xa3)])(_0x67fe24),'changes':(0x0,internal_utils_1[_0x44efa2(0x97)])(_0x67fe24)};}static async['getRemoteHash'](_0x4943ac,_0x18a8d0){const _0x3180e1=a126_0x41cb26,[_0x459c22]=await utils_2[_0x3180e1(0x9c)][_0x3180e1(0x76)](_0x3180e1(0xc8)+_0x4943ac+'\x20'+_0x18a8d0+_0x3180e1(0xa2),'')[_0x3180e1(0xaa)](_0x4fa9f6=>_0x4fa9f6[_0x3180e1(0x8a)](/\s/g,'\x20')[_0x3180e1(0xc6)]('\x20'));return _0x459c22;}static async['clone'](_0x627551,_0x2e99a2,_0x1413a5){const _0x239d12=a126_0x41cb26,_0x33f1aa=path_1[_0x239d12(0x85)][_0x239d12(0x84)](this[_0x239d12(0x99)],_0x2e99a2),_0x553fff=new Git(_0x33f1aa);return Git[_0x239d12(0x82)][_0x239d12(0x89)](_0x239d12(0xc4),_0x1413a5,_0x33f1aa),await fs_internal_1['FS'][_0x239d12(0x9b)](_0x33f1aa),await utils_2[_0x239d12(0x9c)][_0x239d12(0x76)](_0x239d12(0xad)+_0x1413a5+_0x239d12(0xa0)+_0x627551+'\x20'+_0x33f1aa,''),_0x553fff;}static async['getRepositoryBranches'](_0x5a3117,_0x1ff712){const _0x48f845=a126_0x41cb26,_0x578805=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3ee3fc=_0x5a3117[_0x48f845(0x80)][_0x48f845(0x8a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x48f845(0x98)])(_0x5a3117[_0x48f845(0x80)])+_0x48f845(0xae)+_0x1ff712['getGitShellAuthorizationString']()+'@'),_0x55ccc6=await utils_2[_0x48f845(0x9c)]['spawnPromise'](_0x48f845(0xc8)+_0x3ee3fc,'');return _0x55ccc6[_0x48f845(0xc6)]('\x0a')[_0x48f845(0x75)](_0x16dbd9=>_0x578805[_0x48f845(0xb7)](_0x16dbd9))[_0x48f845(0x7a)](_0x2a5200=>{const _0x454a8a=_0x48f845,[,_0x5a9562,_0x36defb]=_0x2a5200[_0x454a8a(0xb5)](_0x578805),_0xb8891d=new branch_dto_1['BranchDto']();return _0xb8891d[_0x454a8a(0xb0)]=_0x5a9562,_0xb8891d[_0x454a8a(0x91)]=_0x36defb[_0x454a8a(0x8a)]('refs/heads/',''),_0xb8891d;});}static async[a126_0x41cb26(0x90)](_0x345e90,_0x2e9334,_0x26e31b,_0xb7558f){const _0x1b9a0e=a126_0x41cb26,_0x23fdad=_0x345e90[_0x1b9a0e(0x80)][_0x1b9a0e(0x8a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1b9a0e(0x98)])(_0x345e90[_0x1b9a0e(0x80)])+_0x1b9a0e(0xae)+_0xb7558f[_0x1b9a0e(0x8d)]()+'@'),_0x1d1881=path_1[_0x1b9a0e(0x85)][_0x1b9a0e(0x84)](this['DEFAULT_CLONE_PATH'],_0x345e90['name']);Git['logger'][_0x1b9a0e(0x89)](_0x1b9a0e(0x77),_0x345e90[_0x1b9a0e(0x91)],_0x2e9334,_0x1d1881),await fs_internal_1['FS']['removeDir'](_0x1d1881),await fs_internal_1['FS'][_0x1b9a0e(0xc2)](_0x1d1881);const _0x578693=new Git(_0x1d1881);await utils_2[_0x1b9a0e(0x9c)][_0x1b9a0e(0x76)](_0x1b9a0e(0x7f)+_0x578693[_0x1b9a0e(0xb1)]+'\x20&&\x20git\x20init',''),await utils_2[_0x1b9a0e(0x9c)][_0x1b9a0e(0x76)](_0x1b9a0e(0x7f)+_0x578693['baseDir']+_0x1b9a0e(0xaf)+_0x23fdad,''),await _0x578693[_0x1b9a0e(0x83)](constants_1[_0x1b9a0e(0x9f)],constants_1[_0x1b9a0e(0xc9)]),await utils_2[_0x1b9a0e(0x9c)]['spawnPromise'](_0x1b9a0e(0x7f)+_0x578693['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x2e9334,''),await utils_2[_0x1b9a0e(0x9c)][_0x1b9a0e(0x76)]('cd\x20'+_0x578693['baseDir']+_0x1b9a0e(0x9e)+(_0x26e31b||constants_1[_0x1b9a0e(0xc1)])+_0x1b9a0e(0x96),''),await _0x578693[_0x1b9a0e(0xc0)](_0x2e9334),Git[_0x1b9a0e(0x82)]['log'](_0x1b9a0e(0x92)),await fs_internal_1['FS'][_0x1b9a0e(0x9b)](_0x578693[_0x1b9a0e(0xb1)]);}}function a126_0x3b6f(){const _0xc18e0=['toString','__esModule','3991RaZFxr','../providers/branches/dto/branch.dto','then','./internal.utils','@flosum/utils','git\x20clone\x20-b\x20','://','\x20&&\x20git\x20remote\x20add\x20origin\x20','sha','baseDir','add','1jNIzph','40dbJRWR','match','31737rdIFpf','test','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','apply','constructor','push\x20changes\x20to\x20%s','__importDefault','cwd','562575dtnmAL','getCurrentHash','push','INITIAL_COMMIT','makeDir','Logger','clone\x20repository\x20branch\x20%s\x20to\x20%s','search','split','commit','git\x20ls-remote\x20','DEFAULT_GIT_USER_EMAIL','10NHoiYk','filter','spawnPromise','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','extractAuthorFromCommitDescribe','314633kwxGnQ','map','\x20--quiet','1323711oeGOAi','../../../constants','8LxNcLq','cd\x20','gitUrl','7558MLfbXX','logger','setCredentials','join','default','(((.+)+)+)+$','checkout\x20to\x20%s','_repoPath','log','replace','../../shared/utils','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','getGitShellAuthorizationString','1494UHinGF','git','createEmptyBranch','name','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','./fs.internal','133MLNqfY','Git','\x22\x20--allow-empty','extractChangesFromCommitDescribe','getProtocol','DEFAULT_CLONE_PATH','9288kCQgSQ','removeDir','ChildProcessUtils','\x20&&\x20git\x20status','\x20&&\x20git\x20commit\x20-m\x20\x22','DEFAULT_GIT_USER_NAME','\x20--single-branch\x20','extractEmailFromCommitDescribe','\x20--refs','extractMessageFromCommitDescribe','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20checkout\x20'];a126_0x3b6f=function(){return _0xc18e0;};return a126_0x3b6f();}exports[a126_0x41cb26(0x95)]=Git,Git[a126_0x41cb26(0x99)]=path_1[a126_0x41cb26(0x85)][a126_0x41cb26(0x84)](process[a126_0x41cb26(0xbd)](),'.temp',a126_0x41cb26(0x8f)),Git[a126_0x41cb26(0x82)]=new core_1[(a126_0x41cb26(0xc3))](Git['name']);