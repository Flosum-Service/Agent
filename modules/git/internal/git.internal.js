const a145_0x942688=a145_0x3c83;(function(_0x5ec5e9,_0x34a62d){const _0x47084b=a145_0x3c83,_0xb236e5=_0x5ec5e9();while(!![]){try{const _0x3e8d22=-parseInt(_0x47084b(0x16f))/0x1+-parseInt(_0x47084b(0x175))/0x2*(parseInt(_0x47084b(0x176))/0x3)+parseInt(_0x47084b(0x197))/0x4+-parseInt(_0x47084b(0x1b3))/0x5+-parseInt(_0x47084b(0x17c))/0x6+-parseInt(_0x47084b(0x1ac))/0x7*(-parseInt(_0x47084b(0x1a1))/0x8)+parseInt(_0x47084b(0x17a))/0x9;if(_0x3e8d22===_0x34a62d)break;else _0xb236e5['push'](_0xb236e5['shift']());}catch(_0x61872e){_0xb236e5['push'](_0xb236e5['shift']());}}}(a145_0x3096,0x2fb0c));const a145_0xee3fda=(function(){let _0x4a3d6d=!![];return function(_0x2d647b,_0x2fccc8){const _0x528800=_0x4a3d6d?function(){const _0x5b12d8=a145_0x3c83;if(_0x2fccc8){const _0x4daf9a=_0x2fccc8[_0x5b12d8(0x183)](_0x2d647b,arguments);return _0x2fccc8=null,_0x4daf9a;}}:function(){};return _0x4a3d6d=![],_0x528800;};}()),a145_0x339376=a145_0xee3fda(this,function(){const _0x3c4b9a=a145_0x3c83;return a145_0x339376[_0x3c4b9a(0x1c1)]()['search'](_0x3c4b9a(0x1b9))[_0x3c4b9a(0x1c1)]()[_0x3c4b9a(0x1a3)](a145_0x339376)[_0x3c4b9a(0x1aa)](_0x3c4b9a(0x1b9));});a145_0x339376();'use strict';function a145_0x3096(){const _0x57a5df=['baseDir','\x20--quiet','createEmptyBranch','git\x20ls-remote\x20','logger','DEFAULT_GIT_USER_EMAIL','status','log','setCredentials','425296GcpOeJ','Logger','__esModule','sha','replace','../../../core','test','defineProperty','Git','\x22\x20--allow-empty','2472qwEqhz','../../../constants','constructor','Describe\x20commit\x20%s','.temp','Push\x20changes\x20to\x20%s','getProtocol','match','./internal.utils','search','extractMessageFromCommitDescribe','2947sjatib','cd\x20','://','cwd','git','\x20&&\x20git\x20commit\x20-m\x20\x22','gitUrl','1146995gyPzFl','\x20&&\x20git\x20rev-parse\x20HEAD','getGitShellAuthorizationString','spawnPromise','clone','extractAuthorFromCommitDescribe','(((.+)+)+)+$','name','../../shared/utils','Checkout\x20to\x20%s','\x20&&\x20git\x20init','../providers/branches/dto/branch.dto','DEFAULT_GIT_USER_NAME','\x20--single-branch\x20','toString','split','111191pAgSrZ','DEFAULT_CLONE_PATH','checkout','__importDefault','describeCommit','removeDir','54062jqPAMw','18QEhxjj','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','getCurrentHash','default','6853779xZhzhY','\x20&&\x20git\x20checkout\x20','1798968ZAEZSM','Clone\x20repository\x20branch\x20%s\x20to\x20%s','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','_repoPath','path','extractEmailFromCommitDescribe','map','apply','join','then','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','push','git\x20clone\x20-b\x20','@flosum/utils','\x20&&\x20git\x20checkout\x20--orphan\x20','ChildProcessUtils','getRepositoryBranches','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'];a145_0x3096=function(){return _0x57a5df;};return a145_0x3096();}function a145_0x3c83(_0x1b83d7,_0x5ad52c){const _0x5564e0=a145_0x3096();return a145_0x3c83=function(_0x339376,_0xee3fda){_0x339376=_0x339376-0x16f;let _0x3096af=_0x5564e0[_0x339376];return _0x3096af;},a145_0x3c83(_0x1b83d7,_0x5ad52c);}var __importDefault=this&&this[a145_0x942688(0x172)]||function(_0x17ba89){return _0x17ba89&&_0x17ba89['__esModule']?_0x17ba89:{'default':_0x17ba89};};Object[a145_0x942688(0x19e)](exports,a145_0x942688(0x199),{'value':!![]}),exports[a145_0x942688(0x19f)]=void 0x0;const constants_1=require(a145_0x942688(0x1a2)),core_1=require(a145_0x942688(0x19c)),path_1=__importDefault(require(a145_0x942688(0x180))),branch_dto_1=require(a145_0x942688(0x1be)),utils_1=require(a145_0x942688(0x1bb)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a145_0x942688(0x1a9)),utils_2=require(a145_0x942688(0x189));class Git{constructor(_0x32b8c0){const _0x2ea7da=a145_0x942688;this[_0x2ea7da(0x17f)]=_0x32b8c0;}get[a145_0x942688(0x18e)](){const _0x2e1d3d=a145_0x942688;return this[_0x2e1d3d(0x17f)];}async[a145_0x942688(0x196)](_0x2b4720,_0x19e8d1){const _0x2cab81=a145_0x942688;await utils_2[_0x2cab81(0x18b)]['spawnPromise'](_0x2cab81(0x1ad)+this[_0x2cab81(0x17f)]+_0x2cab81(0x17e)+_0x2b4720+_0x2cab81(0x186)+_0x19e8d1+'\x22','');}async['add'](..._0x332bbe){const _0x44a9b4=a145_0x942688;await utils_2['ChildProcessUtils'][_0x44a9b4(0x1b6)](_0x44a9b4(0x1ad)+this['_repoPath']+'\x20&&\x20git\x20add\x20'+_0x332bbe[_0x44a9b4(0x184)]('\x20'),'');}async[a145_0x942688(0x194)](){const _0x371d32=a145_0x942688;return utils_2['ChildProcessUtils'][_0x371d32(0x1b6)](_0x371d32(0x1ad)+this[_0x371d32(0x17f)]+'\x20&&\x20git\x20status','');}async['commit'](_0x59e921){const _0x529788=a145_0x942688;Git[_0x529788(0x192)]['log']('Commit\x20message\x20\x22%s\x22',_0x59e921),await utils_2[_0x529788(0x18b)][_0x529788(0x1b6)](_0x529788(0x1ad)+this[_0x529788(0x17f)]+_0x529788(0x1b1)+_0x59e921+'\x22','');}async[a145_0x942688(0x187)](_0x4784e){const _0x2d57b8=a145_0x942688;Git['logger'][_0x2d57b8(0x195)](_0x2d57b8(0x1a6),_0x4784e),await utils_2[_0x2d57b8(0x18b)][_0x2d57b8(0x1b6)]('cd\x20'+this[_0x2d57b8(0x17f)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x4784e+_0x2d57b8(0x18f),'');}async[a145_0x942688(0x171)](_0x5d2371){const _0x5c00db=a145_0x942688;Git[_0x5c00db(0x192)][_0x5c00db(0x195)](_0x5c00db(0x1bc),_0x5d2371),await utils_2['ChildProcessUtils'][_0x5c00db(0x1b6)]('cd\x20'+this[_0x5c00db(0x17f)]+_0x5c00db(0x17b)+_0x5d2371,'');}async[a145_0x942688(0x178)](){const _0x3f91e8=a145_0x942688,_0x1ec50f=await utils_2[_0x3f91e8(0x18b)]['spawnPromise'](_0x3f91e8(0x1ad)+this[_0x3f91e8(0x17f)]+_0x3f91e8(0x1b4),'');return _0x1ec50f['replace']('\x0a','');}async[a145_0x942688(0x173)](_0x12fb69){const _0x36c23e=a145_0x942688;Git['logger'][_0x36c23e(0x195)](_0x36c23e(0x1a4),_0x12fb69);const _0x3d63e0=await utils_2[_0x36c23e(0x18b)]['spawnPromise'](_0x36c23e(0x1ad)+this[_0x36c23e(0x17f)]+_0x36c23e(0x18d)+_0x12fb69,'');return{'author':(0x0,internal_utils_1[_0x36c23e(0x1b8)])(_0x3d63e0),'email':(0x0,internal_utils_1[_0x36c23e(0x181)])(_0x3d63e0),'message':(0x0,internal_utils_1[_0x36c23e(0x1ab)])(_0x3d63e0),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x3d63e0)};}static async['getRemoteHash'](_0x5f5dd8,_0x566bdf){const _0x15d540=a145_0x942688,[_0x28e98e]=await utils_2[_0x15d540(0x18b)][_0x15d540(0x1b6)]('git\x20ls-remote\x20'+_0x5f5dd8+'\x20'+_0x566bdf+'\x20--refs','')[_0x15d540(0x185)](_0x5bcaeb=>_0x5bcaeb[_0x15d540(0x19b)](/\s/g,'\x20')[_0x15d540(0x1c2)]('\x20'));return _0x28e98e;}static async[a145_0x942688(0x1b7)](_0x51c7cd,_0x13ff99,_0x100c24){const _0x48bce7=a145_0x942688,_0x102c10=path_1['default'][_0x48bce7(0x184)](this['DEFAULT_CLONE_PATH'],_0x13ff99),_0x21a4dc=new Git(_0x102c10);return Git[_0x48bce7(0x192)][_0x48bce7(0x195)](_0x48bce7(0x17d),_0x100c24,_0x102c10),await fs_internal_1['FS'][_0x48bce7(0x174)](_0x102c10),await utils_2['ChildProcessUtils'][_0x48bce7(0x1b6)](_0x48bce7(0x188)+_0x100c24+_0x48bce7(0x1c0)+_0x51c7cd+'\x20'+_0x102c10,''),_0x21a4dc;}static async[a145_0x942688(0x18c)](_0x64c50,_0x29822d){const _0x31bf01=a145_0x942688,_0x34fdea=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0xb4b767=_0x64c50[_0x31bf01(0x1b2)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x31bf01(0x1a7)])(_0x64c50[_0x31bf01(0x1b2)])+_0x31bf01(0x1ae)+_0x29822d['getGitShellAuthorizationString']()+'@'),_0x135032=await utils_2[_0x31bf01(0x18b)][_0x31bf01(0x1b6)](_0x31bf01(0x191)+_0xb4b767,'');return _0x135032[_0x31bf01(0x1c2)]('\x0a')['filter'](_0x3f2f97=>_0x34fdea[_0x31bf01(0x19d)](_0x3f2f97))[_0x31bf01(0x182)](_0x5681b8=>{const _0x344ec8=_0x31bf01,[,_0x1a4114,_0x1fec24]=_0x5681b8[_0x344ec8(0x1a8)](_0x34fdea),_0x5c9398=new branch_dto_1['BranchDto']();return _0x5c9398[_0x344ec8(0x19a)]=_0x1a4114,_0x5c9398[_0x344ec8(0x1ba)]=_0x1fec24[_0x344ec8(0x19b)]('refs/heads/',''),_0x5c9398;});}static async[a145_0x942688(0x190)](_0x205612,_0x5198e9,_0x1d9fad,_0x4eaa3a){const _0x468950=a145_0x942688,_0x24d892=_0x205612[_0x468950(0x1b2)][_0x468950(0x19b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x468950(0x1a7)])(_0x205612[_0x468950(0x1b2)])+'://'+_0x4eaa3a[_0x468950(0x1b5)]()+'@'),_0x1e64a9=path_1[_0x468950(0x179)]['join'](this['DEFAULT_CLONE_PATH'],_0x205612[_0x468950(0x1ba)]);Git[_0x468950(0x192)]['log']('Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x205612[_0x468950(0x1ba)],_0x5198e9,_0x1e64a9),await fs_internal_1['FS']['removeDir'](_0x1e64a9),await fs_internal_1['FS']['makeDir'](_0x1e64a9);const _0x93dc43=new Git(_0x1e64a9);await utils_2[_0x468950(0x18b)][_0x468950(0x1b6)]('cd\x20'+_0x93dc43['baseDir']+_0x468950(0x1bd),''),await utils_2[_0x468950(0x18b)][_0x468950(0x1b6)](_0x468950(0x1ad)+_0x93dc43[_0x468950(0x18e)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x24d892,''),await _0x93dc43[_0x468950(0x196)](constants_1[_0x468950(0x1bf)],constants_1[_0x468950(0x193)]),await utils_2[_0x468950(0x18b)][_0x468950(0x1b6)](_0x468950(0x1ad)+_0x93dc43[_0x468950(0x18e)]+_0x468950(0x18a)+_0x5198e9,''),await utils_2['ChildProcessUtils'][_0x468950(0x1b6)](_0x468950(0x1ad)+_0x93dc43['baseDir']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x1d9fad||constants_1['INITIAL_COMMIT'])+_0x468950(0x1a0),''),await _0x93dc43[_0x468950(0x187)](_0x5198e9),Git['logger'][_0x468950(0x195)](_0x468950(0x177)),await fs_internal_1['FS'][_0x468950(0x174)](_0x93dc43[_0x468950(0x18e)]);}}exports[a145_0x942688(0x19f)]=Git,Git[a145_0x942688(0x170)]=path_1['default'][a145_0x942688(0x184)](process[a145_0x942688(0x1af)](),a145_0x942688(0x1a5),a145_0x942688(0x1b0)),Git[a145_0x942688(0x192)]=new core_1[(a145_0x942688(0x198))](Git['name']);