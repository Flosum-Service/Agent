const a126_0x361fcc=a126_0x5802;(function(_0x435449,_0x158c74){const _0x249364=a126_0x5802,_0xfe5608=_0x435449();while(!![]){try{const _0x4389a5=parseInt(_0x249364(0x143))/0x1+-parseInt(_0x249364(0x167))/0x2*(-parseInt(_0x249364(0x168))/0x3)+parseInt(_0x249364(0x166))/0x4+-parseInt(_0x249364(0x12b))/0x5*(parseInt(_0x249364(0x153))/0x6)+parseInt(_0x249364(0x169))/0x7*(parseInt(_0x249364(0x154))/0x8)+-parseInt(_0x249364(0x16f))/0x9+-parseInt(_0x249364(0x141))/0xa;if(_0x4389a5===_0x158c74)break;else _0xfe5608['push'](_0xfe5608['shift']());}catch(_0xd1253c){_0xfe5608['push'](_0xfe5608['shift']());}}}(a126_0x3f93,0xa14ef));const a126_0x43a204=(function(){let _0x45e364=!![];return function(_0x42a078,_0x38c640){const _0x1cade0=_0x45e364?function(){if(_0x38c640){const _0x455d45=_0x38c640['apply'](_0x42a078,arguments);return _0x38c640=null,_0x455d45;}}:function(){};return _0x45e364=![],_0x1cade0;};}()),a126_0x19db11=a126_0x43a204(this,function(){const _0x278b37=a126_0x5802;return a126_0x19db11[_0x278b37(0x16d)]()[_0x278b37(0x157)](_0x278b37(0x139))[_0x278b37(0x16d)]()['constructor'](a126_0x19db11)[_0x278b37(0x157)]('(((.+)+)+)+$');});a126_0x19db11();'use strict';var __importDefault=this&&this[a126_0x361fcc(0x15e)]||function(_0x3a4b9e){const _0x2613ac=a126_0x361fcc;return _0x3a4b9e&&_0x3a4b9e[_0x2613ac(0x15a)]?_0x3a4b9e:{'default':_0x3a4b9e};};Object[a126_0x361fcc(0x172)](exports,a126_0x361fcc(0x15a),{'value':!![]}),exports['Git']=void 0x0;function a126_0x5802(_0x47a074,_0x4f9b0f){const _0xe6805a=a126_0x3f93();return a126_0x5802=function(_0x19db11,_0x43a204){_0x19db11=_0x19db11-0x129;let _0x3f93cd=_0xe6805a[_0x19db11];return _0x3f93cd;},a126_0x5802(_0x47a074,_0x4f9b0f);}const constants_1=require(a126_0x361fcc(0x14f)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a126_0x361fcc(0x13a)),utils_1=require(a126_0x361fcc(0x15f)),fs_internal_1=require(a126_0x361fcc(0x171)),internal_utils_1=require(a126_0x361fcc(0x150)),utils_2=require(a126_0x361fcc(0x173));class Git{constructor(_0x27fdb8){const _0x29e45b=a126_0x361fcc;this[_0x29e45b(0x151)]=_0x27fdb8;}get[a126_0x361fcc(0x129)](){return this['_repoPath'];}async[a126_0x361fcc(0x12f)](_0x3d1948,_0x111058){const _0x1a3586=a126_0x361fcc;await utils_2[_0x1a3586(0x12d)][_0x1a3586(0x170)](_0x1a3586(0x144)+this[_0x1a3586(0x151)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x3d1948+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x111058+'\x22','');}async['add'](..._0x582ee7){const _0x17fac8=a126_0x361fcc;await utils_2[_0x17fac8(0x12d)][_0x17fac8(0x170)]('cd\x20'+this[_0x17fac8(0x151)]+_0x17fac8(0x163)+_0x582ee7[_0x17fac8(0x146)]('\x20'),'');}async[a126_0x361fcc(0x149)](){const _0x5f0d9f=a126_0x361fcc;return utils_2[_0x5f0d9f(0x12d)][_0x5f0d9f(0x170)]('cd\x20'+this[_0x5f0d9f(0x151)]+_0x5f0d9f(0x174),'');}async['commit'](_0x3a4ddb){const _0x377a7f=a126_0x361fcc;Git[_0x377a7f(0x13f)][_0x377a7f(0x140)]('commit\x20message\x20\x22%s\x22',_0x3a4ddb),await utils_2['ChildProcessUtils'][_0x377a7f(0x170)](_0x377a7f(0x144)+this[_0x377a7f(0x151)]+_0x377a7f(0x159)+_0x3a4ddb+'\x22','');}async[a126_0x361fcc(0x16c)](_0x57aa5b){const _0x30e814=a126_0x361fcc;Git['logger'][_0x30e814(0x140)](_0x30e814(0x142),_0x57aa5b),await utils_2[_0x30e814(0x12d)]['spawnPromise'](_0x30e814(0x144)+this[_0x30e814(0x151)]+_0x30e814(0x14b)+_0x57aa5b+_0x30e814(0x15d),'');}async[a126_0x361fcc(0x13b)](_0xb2d36c){const _0x244f55=a126_0x361fcc;Git[_0x244f55(0x13f)]['log'](_0x244f55(0x14d),_0xb2d36c),await utils_2[_0x244f55(0x12d)][_0x244f55(0x170)](_0x244f55(0x144)+this[_0x244f55(0x151)]+'\x20&&\x20git\x20checkout\x20'+_0xb2d36c,'');}async['getCurrentHash'](){const _0x5a41a6=a126_0x361fcc,_0x1777ac=await utils_2[_0x5a41a6(0x12d)][_0x5a41a6(0x170)](_0x5a41a6(0x144)+this[_0x5a41a6(0x151)]+_0x5a41a6(0x133),'');return _0x1777ac[_0x5a41a6(0x16e)]('\x0a','');}async['describeCommit'](_0x30a38b){const _0x3aab11=a126_0x361fcc;Git[_0x3aab11(0x13f)][_0x3aab11(0x140)](_0x3aab11(0x13e),_0x30a38b);const _0x20d754=await utils_2[_0x3aab11(0x12d)][_0x3aab11(0x170)](_0x3aab11(0x144)+this[_0x3aab11(0x151)]+_0x3aab11(0x16b)+_0x30a38b,'');return{'author':(0x0,internal_utils_1[_0x3aab11(0x14a)])(_0x20d754),'email':(0x0,internal_utils_1[_0x3aab11(0x131)])(_0x20d754),'message':(0x0,internal_utils_1[_0x3aab11(0x12a)])(_0x20d754),'changes':(0x0,internal_utils_1[_0x3aab11(0x152)])(_0x20d754)};}static async[a126_0x361fcc(0x148)](_0x2d5c36,_0x4feba9){const _0x3aae84=a126_0x361fcc,[_0x5e071b]=await utils_2[_0x3aae84(0x12d)][_0x3aae84(0x170)](_0x3aae84(0x158)+_0x2d5c36+'\x20'+_0x4feba9+_0x3aae84(0x134),'')['then'](_0x23aeb3=>_0x23aeb3[_0x3aae84(0x16e)](/\s/g,'\x20')['split']('\x20'));return _0x5e071b;}static async['clone'](_0x401218,_0xca02f2,_0x26ea61){const _0xcf49ac=a126_0x361fcc,_0x16e75e=path_1['default'][_0xcf49ac(0x146)](this['DEFAULT_CLONE_PATH'],_0xca02f2),_0x2d9b08=new Git(_0x16e75e);return Git[_0xcf49ac(0x13f)]['log'](_0xcf49ac(0x177),_0x26ea61,_0x16e75e),await fs_internal_1['FS'][_0xcf49ac(0x132)](_0x16e75e),await utils_2['ChildProcessUtils']['spawnPromise'](_0xcf49ac(0x135)+_0x26ea61+'\x20--single-branch\x20'+_0x401218+'\x20'+_0x16e75e,''),_0x2d9b08;}static async[a126_0x361fcc(0x175)](_0x3b9a66,_0x497a6c){const _0x3f2514=a126_0x361fcc,_0x3918f3=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x43b5ee=_0x3b9a66[_0x3f2514(0x145)][_0x3f2514(0x16e)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x3b9a66[_0x3f2514(0x145)])+_0x3f2514(0x162)+_0x497a6c['getGitShellAuthorizationString']()+'@'),_0x6b5560=await utils_2[_0x3f2514(0x12d)][_0x3f2514(0x170)](_0x3f2514(0x158)+_0x43b5ee,'');return _0x6b5560['split']('\x0a')[_0x3f2514(0x165)](_0x161b2b=>_0x3918f3[_0x3f2514(0x16a)](_0x161b2b))[_0x3f2514(0x176)](_0x7bfee7=>{const _0x128b77=_0x3f2514,[,_0x587263,_0x5e8b8c]=_0x7bfee7[_0x128b77(0x164)](_0x3918f3),_0x334a50=new branch_dto_1['BranchDto']();return _0x334a50['sha']=_0x587263,_0x334a50['name']=_0x5e8b8c[_0x128b77(0x16e)](_0x128b77(0x12c),''),_0x334a50;});}static async[a126_0x361fcc(0x130)](_0x30193e,_0xb7190f,_0x18aa6d,_0x25128d){const _0x15263f=a126_0x361fcc,_0x3d6ca6=_0x30193e['gitUrl']['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x15263f(0x13c)])(_0x30193e[_0x15263f(0x145)])+_0x15263f(0x162)+_0x25128d[_0x15263f(0x156)]()+'@'),_0x33a425=path_1[_0x15263f(0x14e)]['join'](this[_0x15263f(0x14c)],_0x30193e[_0x15263f(0x138)]);Git['logger'][_0x15263f(0x140)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x30193e[_0x15263f(0x138)],_0xb7190f,_0x33a425),await fs_internal_1['FS'][_0x15263f(0x132)](_0x33a425),await fs_internal_1['FS'][_0x15263f(0x136)](_0x33a425);const _0x5d6134=new Git(_0x33a425);await utils_2[_0x15263f(0x12d)][_0x15263f(0x170)](_0x15263f(0x144)+_0x5d6134[_0x15263f(0x129)]+_0x15263f(0x15b),''),await utils_2['ChildProcessUtils'][_0x15263f(0x170)]('cd\x20'+_0x5d6134[_0x15263f(0x129)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x3d6ca6,''),await _0x5d6134[_0x15263f(0x12f)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2['ChildProcessUtils']['spawnPromise'](_0x15263f(0x144)+_0x5d6134[_0x15263f(0x129)]+_0x15263f(0x155)+_0xb7190f,''),await utils_2['ChildProcessUtils'][_0x15263f(0x170)](_0x15263f(0x144)+_0x5d6134[_0x15263f(0x129)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x18aa6d||constants_1[_0x15263f(0x161)])+_0x15263f(0x13d),''),await _0x5d6134[_0x15263f(0x16c)](_0xb7190f),Git[_0x15263f(0x13f)][_0x15263f(0x140)](_0x15263f(0x12e)),await fs_internal_1['FS'][_0x15263f(0x132)](_0x5d6134[_0x15263f(0x129)]);}}exports[a126_0x361fcc(0x160)]=Git,Git['DEFAULT_CLONE_PATH']=path_1['default']['join'](process[a126_0x361fcc(0x15c)](),'.temp',a126_0x361fcc(0x137)),Git[a126_0x361fcc(0x13f)]=new core_1[(a126_0x361fcc(0x147))](Git[a126_0x361fcc(0x138)]);function a126_0x3f93(){const _0x1ec752=['default','../../../constants','./internal.utils','_repoPath','extractChangesFromCommitDescribe','1060926dZjgpJ','16pnkhfb','\x20&&\x20git\x20checkout\x20--orphan\x20','getGitShellAuthorizationString','search','git\x20ls-remote\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','__esModule','\x20&&\x20git\x20init','cwd','\x20--quiet','__importDefault','../../shared/utils','Git','INITIAL_COMMIT','://','\x20&&\x20git\x20add\x20','match','filter','2382276amHISh','172NYuGGD','33885GYvbwu','3019303fYHBkD','test','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','push','toString','replace','922635xwSvir','spawnPromise','./fs.internal','defineProperty','@flosum/utils','\x20&&\x20git\x20status','getRepositoryBranches','map','clone\x20repository\x20branch\x20%s\x20to\x20%s','baseDir','extractMessageFromCommitDescribe','10qjFsPV','refs/heads/','ChildProcessUtils','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','setCredentials','createEmptyBranch','extractEmailFromCommitDescribe','removeDir','\x20&&\x20git\x20rev-parse\x20HEAD','\x20--refs','git\x20clone\x20-b\x20','makeDir','git','name','(((.+)+)+)+$','../providers/branches/dto/branch.dto','checkout','getProtocol','\x22\x20--allow-empty','describe\x20commit\x20%s','logger','log','17283170RwNany','push\x20changes\x20to\x20%s','415596quEylS','cd\x20','gitUrl','join','Logger','getRemoteHash','status','extractAuthorFromCommitDescribe','\x20&&\x20git\x20push\x20origin\x20','DEFAULT_CLONE_PATH','checkout\x20to\x20%s'];a126_0x3f93=function(){return _0x1ec752;};return a126_0x3f93();}