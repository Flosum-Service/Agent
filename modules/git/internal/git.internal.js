const a147_0x537e32=a147_0x422d;function a147_0x41b2(){const _0x3977db=['sha','clone','522747DNMMRx','git\x20clone\x20-b\x20','://','extractEmailFromCommitDescribe','commit','6220AbJPiy','join','add','DEFAULT_GIT_USER_NAME','\x20&&\x20git\x20checkout\x20--orphan\x20','baseDir','getGitShellAuthorizationString','./fs.internal','Logger','name','.temp','describeCommit','logger','__esModule','toString','makeDir','then','BranchDto','getRemoteHash','../../../constants','ChildProcessUtils','DEFAULT_GIT_USER_EMAIL','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','refs/heads/','git\x20ls-remote\x20','apply','_repoPath','spawnPromise','getRepositoryBranches','Commit\x20message\x20\x22%s\x22','match','1210eLkMTF','\x20&&\x20git\x20init','\x20--refs','cd\x20','gitUrl','2kbFJGR','createEmptyBranch','../providers/branches/dto/branch.dto','Describe\x20commit\x20%s','43460BpBgub','\x20&&\x20git\x20commit\x20-m\x20\x22','56BtlYZc','INITIAL_COMMIT','../../shared/utils','removeDir','@flosum/utils','search','replace','extractChangesFromCommitDescribe','split','extractMessageFromCommitDescribe','7169646FRcwIX','map','Git','\x22\x20--allow-empty','7BFxBSU','28539528wCxSNB','(((.+)+)+)+$','extractAuthorFromCommitDescribe','getCurrentHash','default','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','\x20--quiet','getProtocol','constructor','status','checkout','5897240Sglafh','__importDefault','DEFAULT_CLONE_PATH','333btGjQg','\x20--single-branch\x20','test','./internal.utils','log','\x20&&\x20git\x20checkout\x20','push','setCredentials','122943WJQBLk'];a147_0x41b2=function(){return _0x3977db;};return a147_0x41b2();}function a147_0x422d(_0x491556,_0x5372a1){const _0x5a3b80=a147_0x41b2();return a147_0x422d=function(_0x278726,_0xd17f5e){_0x278726=_0x278726-0xa9;let _0x41b2b9=_0x5a3b80[_0x278726];return _0x41b2b9;},a147_0x422d(_0x491556,_0x5372a1);}(function(_0x364f68,_0x11309c){const _0x3b94a6=a147_0x422d,_0x575afc=_0x364f68();while(!![]){try{const _0x593d54=-parseInt(_0x3b94a6(0xc8))/0x1*(parseInt(_0x3b94a6(0xf4))/0x2)+-parseInt(_0x3b94a6(0xc0))/0x3*(-parseInt(_0x3b94a6(0xf8))/0x4)+-parseInt(_0x3b94a6(0xbd))/0x5+parseInt(_0x3b94a6(0xad))/0x6*(-parseInt(_0x3b94a6(0xb1))/0x7)+-parseInt(_0x3b94a6(0xfa))/0x8*(parseInt(_0x3b94a6(0xcb))/0x9)+-parseInt(_0x3b94a6(0xd0))/0xa*(parseInt(_0x3b94a6(0xef))/0xb)+parseInt(_0x3b94a6(0xb2))/0xc;if(_0x593d54===_0x11309c)break;else _0x575afc['push'](_0x575afc['shift']());}catch(_0x253cf9){_0x575afc['push'](_0x575afc['shift']());}}}(a147_0x41b2,0x95688));const a147_0xd17f5e=(function(){let _0x4eb0c5=!![];return function(_0x2b8c33,_0x303135){const _0x585327=_0x4eb0c5?function(){const _0x6e6f47=a147_0x422d;if(_0x303135){const _0x4356b1=_0x303135[_0x6e6f47(0xe9)](_0x2b8c33,arguments);return _0x303135=null,_0x4356b1;}}:function(){};return _0x4eb0c5=![],_0x585327;};}()),a147_0x278726=a147_0xd17f5e(this,function(){const _0x586948=a147_0x422d;return a147_0x278726[_0x586948(0xde)]()[_0x586948(0xff)]('(((.+)+)+)+$')[_0x586948(0xde)]()[_0x586948(0xba)](a147_0x278726)[_0x586948(0xff)](_0x586948(0xb3));});a147_0x278726();'use strict';var __importDefault=this&&this[a147_0x537e32(0xbe)]||function(_0x8509fa){const _0x220aa8=a147_0x537e32;return _0x8509fa&&_0x8509fa[_0x220aa8(0xdd)]?_0x8509fa:{'default':_0x8509fa};};Object['defineProperty'](exports,a147_0x537e32(0xdd),{'value':!![]}),exports[a147_0x537e32(0xaf)]=void 0x0;const constants_1=require(a147_0x537e32(0xe3)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a147_0x537e32(0xf6)),utils_1=require(a147_0x537e32(0xfc)),fs_internal_1=require(a147_0x537e32(0xd7)),internal_utils_1=require(a147_0x537e32(0xc3)),utils_2=require(a147_0x537e32(0xfe));class Git{constructor(_0xc61cef){const _0x2cb84b=a147_0x537e32;this[_0x2cb84b(0xea)]=_0xc61cef;}get[a147_0x537e32(0xd5)](){const _0x375bc2=a147_0x537e32;return this[_0x375bc2(0xea)];}async['setCredentials'](_0x5c424a,_0x2609f9){const _0x23641c=a147_0x537e32;await utils_2[_0x23641c(0xe4)]['spawnPromise'](_0x23641c(0xf2)+this['_repoPath']+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x5c424a+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x2609f9+'\x22','');}async[a147_0x537e32(0xd2)](..._0x20e286){const _0x4c632b=a147_0x537e32;await utils_2[_0x4c632b(0xe4)][_0x4c632b(0xeb)](_0x4c632b(0xf2)+this['_repoPath']+'\x20&&\x20git\x20add\x20'+_0x20e286[_0x4c632b(0xd1)]('\x20'),'');}async[a147_0x537e32(0xbb)](){const _0x3884ab=a147_0x537e32;return utils_2[_0x3884ab(0xe4)]['spawnPromise'](_0x3884ab(0xf2)+this[_0x3884ab(0xea)]+'\x20&&\x20git\x20status','');}async[a147_0x537e32(0xcf)](_0x31c362){const _0x3cf58c=a147_0x537e32;Git['logger'][_0x3cf58c(0xc4)](_0x3cf58c(0xed),_0x31c362),await utils_2[_0x3cf58c(0xe4)][_0x3cf58c(0xeb)](_0x3cf58c(0xf2)+this[_0x3cf58c(0xea)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x31c362+'\x22','');}async[a147_0x537e32(0xc6)](_0x2e21e6){const _0x4cf578=a147_0x537e32;Git['logger'][_0x4cf578(0xc4)]('Push\x20changes\x20to\x20%s',_0x2e21e6),await utils_2[_0x4cf578(0xe4)][_0x4cf578(0xeb)](_0x4cf578(0xf2)+this['_repoPath']+'\x20&&\x20git\x20push\x20origin\x20'+_0x2e21e6+_0x4cf578(0xb8),'');}async[a147_0x537e32(0xbc)](_0x13caab){const _0x3356bb=a147_0x537e32;Git['logger']['log']('Checkout\x20to\x20%s',_0x13caab),await utils_2[_0x3356bb(0xe4)][_0x3356bb(0xeb)](_0x3356bb(0xf2)+this[_0x3356bb(0xea)]+_0x3356bb(0xc5)+_0x13caab,'');}async[a147_0x537e32(0xb5)](){const _0x3edc26=a147_0x537e32,_0x2daf09=await utils_2['ChildProcessUtils'][_0x3edc26(0xeb)]('cd\x20'+this[_0x3edc26(0xea)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x2daf09['replace']('\x0a','');}async[a147_0x537e32(0xdb)](_0x29df7e){const _0x7459b0=a147_0x537e32;Git[_0x7459b0(0xdc)]['log'](_0x7459b0(0xf7),_0x29df7e);const _0x41355b=await utils_2['ChildProcessUtils'][_0x7459b0(0xeb)](_0x7459b0(0xf2)+this[_0x7459b0(0xea)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x29df7e,'');return{'author':(0x0,internal_utils_1[_0x7459b0(0xb4)])(_0x41355b),'email':(0x0,internal_utils_1[_0x7459b0(0xce)])(_0x41355b),'message':(0x0,internal_utils_1[_0x7459b0(0xac)])(_0x41355b),'changes':(0x0,internal_utils_1[_0x7459b0(0xaa)])(_0x41355b)};}static async[a147_0x537e32(0xe2)](_0x15f1ed,_0x47944f){const _0x476c7c=a147_0x537e32,[_0x1704ae]=await utils_2['ChildProcessUtils'][_0x476c7c(0xeb)](_0x476c7c(0xe8)+_0x15f1ed+'\x20'+_0x47944f+_0x476c7c(0xf1),'')[_0x476c7c(0xe0)](_0x4251e3=>_0x4251e3['replace'](/\s/g,'\x20')[_0x476c7c(0xab)]('\x20'));return _0x1704ae;}static async[a147_0x537e32(0xca)](_0x49e34e,_0x5c04cc,_0x325fb6){const _0x13a841=a147_0x537e32,_0x36c1d7=path_1[_0x13a841(0xb6)]['join'](this[_0x13a841(0xbf)],_0x5c04cc),_0x271c8f=new Git(_0x36c1d7);return Git[_0x13a841(0xdc)][_0x13a841(0xc4)]('Clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x325fb6,_0x36c1d7),await fs_internal_1['FS'][_0x13a841(0xfd)](_0x36c1d7),await utils_2['ChildProcessUtils'][_0x13a841(0xeb)](_0x13a841(0xcc)+_0x325fb6+_0x13a841(0xc1)+_0x49e34e+'\x20'+_0x36c1d7,''),_0x271c8f;}static async[a147_0x537e32(0xec)](_0x28e62b,_0x2ff787){const _0x40f0b4=a147_0x537e32,_0x56b673=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x423eb0=_0x28e62b[_0x40f0b4(0xf3)][_0x40f0b4(0xa9)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x40f0b4(0xb9)])(_0x28e62b['gitUrl'])+_0x40f0b4(0xcd)+_0x2ff787[_0x40f0b4(0xd6)]()+'@'),_0x469b55=await utils_2[_0x40f0b4(0xe4)][_0x40f0b4(0xeb)](_0x40f0b4(0xe8)+_0x423eb0,'');return _0x469b55[_0x40f0b4(0xab)]('\x0a')['filter'](_0x1de611=>_0x56b673[_0x40f0b4(0xc2)](_0x1de611))[_0x40f0b4(0xae)](_0x3abf08=>{const _0xd35ed7=_0x40f0b4,[,_0x42d534,_0x485e2a]=_0x3abf08[_0xd35ed7(0xee)](_0x56b673),_0x577352=new branch_dto_1[(_0xd35ed7(0xe1))]();return _0x577352[_0xd35ed7(0xc9)]=_0x42d534,_0x577352[_0xd35ed7(0xd9)]=_0x485e2a[_0xd35ed7(0xa9)](_0xd35ed7(0xe7),''),_0x577352;});}static async[a147_0x537e32(0xf5)](_0x250f5c,_0xa1c586,_0x55f7f2,_0x52908a){const _0x35a230=a147_0x537e32,_0x19006b=_0x250f5c[_0x35a230(0xf3)][_0x35a230(0xa9)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x250f5c[_0x35a230(0xf3)])+_0x35a230(0xcd)+_0x52908a[_0x35a230(0xd6)]()+'@'),_0x171848=path_1[_0x35a230(0xb6)][_0x35a230(0xd1)](this[_0x35a230(0xbf)],_0x250f5c[_0x35a230(0xd9)]);Git[_0x35a230(0xdc)][_0x35a230(0xc4)](_0x35a230(0xb7),_0x250f5c['name'],_0xa1c586,_0x171848),await fs_internal_1['FS'][_0x35a230(0xfd)](_0x171848),await fs_internal_1['FS'][_0x35a230(0xdf)](_0x171848);const _0x52cc2b=new Git(_0x171848);await utils_2[_0x35a230(0xe4)][_0x35a230(0xeb)](_0x35a230(0xf2)+_0x52cc2b[_0x35a230(0xd5)]+_0x35a230(0xf0),''),await utils_2[_0x35a230(0xe4)][_0x35a230(0xeb)](_0x35a230(0xf2)+_0x52cc2b['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x19006b,''),await _0x52cc2b[_0x35a230(0xc7)](constants_1[_0x35a230(0xd3)],constants_1[_0x35a230(0xe5)]),await utils_2[_0x35a230(0xe4)][_0x35a230(0xeb)](_0x35a230(0xf2)+_0x52cc2b['baseDir']+_0x35a230(0xd4)+_0xa1c586,''),await utils_2[_0x35a230(0xe4)][_0x35a230(0xeb)](_0x35a230(0xf2)+_0x52cc2b[_0x35a230(0xd5)]+_0x35a230(0xf9)+(_0x55f7f2||constants_1[_0x35a230(0xfb)])+_0x35a230(0xb0),''),await _0x52cc2b['push'](_0xa1c586),Git[_0x35a230(0xdc)][_0x35a230(0xc4)](_0x35a230(0xe6)),await fs_internal_1['FS']['removeDir'](_0x52cc2b[_0x35a230(0xd5)]);}}exports[a147_0x537e32(0xaf)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a147_0x537e32(0xb6)][a147_0x537e32(0xd1)](process['cwd'](),a147_0x537e32(0xda),'git'),Git['logger']=new core_1[(a147_0x537e32(0xd8))](Git[a147_0x537e32(0xd9)]);