const a94_0x1aae79=a94_0x28d4;(function(_0x2039ac,_0x23daab){const _0x550761=a94_0x28d4,_0x5a6a09=_0x2039ac();while(!![]){try{const _0x2d4324=parseInt(_0x550761(0x85))/0x1*(parseInt(_0x550761(0xcd))/0x2)+parseInt(_0x550761(0xc5))/0x3*(-parseInt(_0x550761(0x8d))/0x4)+-parseInt(_0x550761(0xae))/0x5*(parseInt(_0x550761(0x91))/0x6)+parseInt(_0x550761(0xd2))/0x7+-parseInt(_0x550761(0x86))/0x8*(parseInt(_0x550761(0xb2))/0x9)+-parseInt(_0x550761(0x9c))/0xa+parseInt(_0x550761(0xbf))/0xb;if(_0x2d4324===_0x23daab)break;else _0x5a6a09['push'](_0x5a6a09['shift']());}catch(_0x384c97){_0x5a6a09['push'](_0x5a6a09['shift']());}}}(a94_0x2b54,0x5403b));function a94_0x28d4(_0x48ed72,_0x17fa0d){const _0x331295=a94_0x2b54();return a94_0x28d4=function(_0x4d369d,_0x26ebe7){_0x4d369d=_0x4d369d-0x7c;let _0x2b548f=_0x331295[_0x4d369d];return _0x2b548f;},a94_0x28d4(_0x48ed72,_0x17fa0d);}const a94_0x26ebe7=(function(){let _0x3a6066=!![];return function(_0x30fd67,_0xd29743){const _0x4cf59e=_0x3a6066?function(){const _0x122f1b=a94_0x28d4;if(_0xd29743){const _0x366bf8=_0xd29743[_0x122f1b(0xce)](_0x30fd67,arguments);return _0xd29743=null,_0x366bf8;}}:function(){};return _0x3a6066=![],_0x4cf59e;};}()),a94_0x4d369d=a94_0x26ebe7(this,function(){const _0x3fab59=a94_0x28d4;return a94_0x4d369d[_0x3fab59(0xa4)]()[_0x3fab59(0x7d)](_0x3fab59(0xc9))['toString']()[_0x3fab59(0xc6)](a94_0x4d369d)[_0x3fab59(0x7d)](_0x3fab59(0xc9));});a94_0x4d369d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x429675){const _0x391405=a94_0x28d4;return _0x429675&&_0x429675[_0x391405(0x9d)]?_0x429675:{'default':_0x429675};};Object[a94_0x1aae79(0x88)](exports,a94_0x1aae79(0x9d),{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a94_0x1aae79(0x99)),core_1=require(a94_0x1aae79(0xac)),path_1=__importDefault(require(a94_0x1aae79(0xc2))),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require('../../shared/utils'),fs_internal_1=require(a94_0x1aae79(0xcf)),internal_utils_1=require(a94_0x1aae79(0xbd)),shell_internal_1=require(a94_0x1aae79(0x96));function a94_0x2b54(){const _0xd4a7f2=['clone','describe\x20commit\x20%s','(((.+)+)+)+$','://','Git','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','42riVPei','apply','./fs.internal','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','exec','2521750NqIGnQ','then','clone\x20repository\x20branch\x20%s\x20to\x20%s','DEFAULT_CLONE_PATH','search','\x20--single-branch\x20','refs/heads/','git\x20clone\x20-b\x20','cwd','test','add','\x20&&\x20git\x20commit\x20-m\x20\x22','7451HWPUvn','58976LKrnvB','\x20--quiet','defineProperty','Shell','\x22\x20--allow-empty','DEFAULT_GIT_USER_NAME','join','4HGSfdC','extractChangesFromCommitDescribe','sha','cd\x20','1731576QOwOHm','git','\x20&&\x20git\x20add\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','push\x20changes\x20to\x20%s','./shell.internal','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','gitUrl','../../../constants','\x20&&\x20git\x20status','getGitShellAuthorizationString','2612110AuXZCv','__esModule','baseDir','log','\x20&&\x20git\x20checkout\x20--orphan\x20','BranchDto','replace','split','toString','getProtocol','_repoPath','.temp','setCredentials','removeDir','commit','default','../../../core','commit\x20message\x20\x22%s\x22','5QFbDod','extractAuthorFromCommitDescribe','\x20&&\x20git\x20rev-parse\x20HEAD','Logger','414ujHjjS','getRepositoryBranches','status','\x20&&\x20git\x20init','\x20--refs','git\x20ls-remote\x20','extractMessageFromCommitDescribe','\x20&&\x20git\x20remote\x20add\x20origin\x20','createEmptyBranch','INITIAL_COMMIT','\x20&&\x20git\x20push\x20origin\x20','./internal.utils','name','8257689yZOONX','map','logger','path','match','push','103134efqbLL','constructor'];a94_0x2b54=function(){return _0xd4a7f2;};return a94_0x2b54();}class Git{constructor(_0x3bd9fe){const _0x1e5178=a94_0x1aae79;this[_0x1e5178(0xa6)]=_0x3bd9fe;}get[a94_0x1aae79(0x9e)](){return this['_repoPath'];}async[a94_0x1aae79(0xa8)](_0x26b777,_0x284d52){const _0x3e33a5=a94_0x1aae79;await shell_internal_1[_0x3e33a5(0x89)]['exec'](_0x3e33a5(0x90)+this['_repoPath']+_0x3e33a5(0x97)+_0x26b777+_0x3e33a5(0x94)+_0x284d52+'\x22');}async[a94_0x1aae79(0x83)](..._0x523729){const _0x3cf103=a94_0x1aae79;await shell_internal_1[_0x3cf103(0x89)][_0x3cf103(0xd1)]('cd\x20'+this[_0x3cf103(0xa6)]+_0x3cf103(0x93)+_0x523729['join']('\x20'));}async[a94_0x1aae79(0xb4)](){const _0x21ed36=a94_0x1aae79;return shell_internal_1[_0x21ed36(0x89)][_0x21ed36(0xd1)]('cd\x20'+this[_0x21ed36(0xa6)]+_0x21ed36(0x9a));}async[a94_0x1aae79(0xaa)](_0x163299){const _0xbb5915=a94_0x1aae79;Git[_0xbb5915(0xc1)][_0xbb5915(0x9f)](_0xbb5915(0xad),_0x163299),await shell_internal_1[_0xbb5915(0x89)]['exec'](_0xbb5915(0x90)+this[_0xbb5915(0xa6)]+_0xbb5915(0x84)+_0x163299+'\x22');}async[a94_0x1aae79(0xc4)](_0x26f8b2){const _0x71109b=a94_0x1aae79;Git[_0x71109b(0xc1)]['log'](_0x71109b(0x95),_0x26f8b2),await shell_internal_1[_0x71109b(0x89)][_0x71109b(0xd1)]('cd\x20'+this[_0x71109b(0xa6)]+_0x71109b(0xbc)+_0x26f8b2+_0x71109b(0x87));}async['checkout'](_0xf10a98){const _0x45f51d=a94_0x1aae79;Git[_0x45f51d(0xc1)][_0x45f51d(0x9f)]('checkout\x20to\x20%s',_0xf10a98),await shell_internal_1[_0x45f51d(0x89)]['exec']('cd\x20'+this[_0x45f51d(0xa6)]+'\x20&&\x20git\x20checkout\x20'+_0xf10a98);}async['getCurrentHash'](){const _0x926b1=a94_0x1aae79,_0x429e93=await shell_internal_1['Shell'][_0x926b1(0xd1)](_0x926b1(0x90)+this[_0x926b1(0xa6)]+_0x926b1(0xb0));return _0x429e93[_0x926b1(0xa2)]('\x0a','');}async['describeCommit'](_0x2d0e12){const _0x1f8df2=a94_0x1aae79;Git[_0x1f8df2(0xc1)]['log'](_0x1f8df2(0xc8),_0x2d0e12);const _0x4da8ea=await shell_internal_1[_0x1f8df2(0x89)]['exec']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x2d0e12);return{'author':(0x0,internal_utils_1[_0x1f8df2(0xaf)])(_0x4da8ea),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x4da8ea),'message':(0x0,internal_utils_1[_0x1f8df2(0xb8)])(_0x4da8ea),'changes':(0x0,internal_utils_1[_0x1f8df2(0x8e)])(_0x4da8ea)};}static async['getRemoteHash'](_0x3cb670,_0x5ede33){const _0x5a2369=a94_0x1aae79,[_0x386c6b]=await shell_internal_1[_0x5a2369(0x89)][_0x5a2369(0xd1)]('git\x20ls-remote\x20'+_0x3cb670+'\x20'+_0x5ede33+_0x5a2369(0xb6))[_0x5a2369(0xd3)](_0x416b07=>_0x416b07[_0x5a2369(0xa2)](/\s/g,'\x20')[_0x5a2369(0xa3)]('\x20'));return _0x386c6b;}static async[a94_0x1aae79(0xc7)](_0x2ab260,_0x14a5dc,_0xe92344){const _0x3d115d=a94_0x1aae79,_0x5a482e=path_1[_0x3d115d(0xab)][_0x3d115d(0x8c)](this[_0x3d115d(0x7c)],_0x14a5dc),_0x210890=new Git(_0x5a482e);return Git['logger'][_0x3d115d(0x9f)](_0x3d115d(0xd4),_0xe92344,_0x5a482e),await fs_internal_1['FS']['removeDir'](_0x5a482e),await shell_internal_1[_0x3d115d(0x89)][_0x3d115d(0xd1)](_0x3d115d(0x80)+_0xe92344+_0x3d115d(0x7e)+_0x2ab260+'\x20'+_0x5a482e),_0x210890;}static async[a94_0x1aae79(0xb3)](_0x22f502,_0x59e3b7){const _0x4eb5a1=a94_0x1aae79,_0x30bb83=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x18c9d2=_0x22f502['gitUrl'][_0x4eb5a1(0xa2)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4eb5a1(0xa5)])(_0x22f502[_0x4eb5a1(0x98)])+_0x4eb5a1(0xca)+_0x59e3b7['getGitShellAuthorizationString']()+'@'),_0x436b46=await shell_internal_1[_0x4eb5a1(0x89)][_0x4eb5a1(0xd1)](_0x4eb5a1(0xb7)+_0x18c9d2);return _0x436b46['split']('\x0a')['filter'](_0x15e76c=>_0x30bb83[_0x4eb5a1(0x82)](_0x15e76c))[_0x4eb5a1(0xc0)](_0x25d016=>{const _0x189064=_0x4eb5a1,[,_0x573e93,_0x38d75c]=_0x25d016[_0x189064(0xc3)](_0x30bb83),_0x1a9619=new branch_dto_1[(_0x189064(0xa1))]();return _0x1a9619[_0x189064(0x8f)]=_0x573e93,_0x1a9619['name']=_0x38d75c['replace'](_0x189064(0x7f),''),_0x1a9619;});}static async[a94_0x1aae79(0xba)](_0x594214,_0x3bf992,_0x3c5968,_0x4fde7e){const _0x459216=a94_0x1aae79,_0xb36812=_0x594214[_0x459216(0x98)][_0x459216(0xa2)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x459216(0xa5)])(_0x594214['gitUrl'])+'://'+_0x4fde7e[_0x459216(0x9b)]()+'@'),_0x49a7b9=path_1[_0x459216(0xab)][_0x459216(0x8c)](this[_0x459216(0x7c)],_0x594214['name']);Git[_0x459216(0xc1)]['log'](_0x459216(0xd0),_0x594214[_0x459216(0xbe)],_0x3bf992,_0x49a7b9),await fs_internal_1['FS']['removeDir'](_0x49a7b9),await fs_internal_1['FS']['makeDir'](_0x49a7b9);const _0x118200=new Git(_0x49a7b9);await shell_internal_1['Shell']['exec'](_0x459216(0x90)+_0x118200['baseDir']+_0x459216(0xb5)),await shell_internal_1['Shell'][_0x459216(0xd1)](_0x459216(0x90)+_0x118200[_0x459216(0x9e)]+_0x459216(0xb9)+_0xb36812),await _0x118200['setCredentials'](constants_1[_0x459216(0x8b)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x459216(0x89)][_0x459216(0xd1)](_0x459216(0x90)+_0x118200[_0x459216(0x9e)]+_0x459216(0xa0)+_0x3bf992),await shell_internal_1[_0x459216(0x89)][_0x459216(0xd1)]('cd\x20'+_0x118200[_0x459216(0x9e)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x3c5968||constants_1[_0x459216(0xbb)])+_0x459216(0x8a)),await _0x118200[_0x459216(0xc4)](_0x3bf992),Git[_0x459216(0xc1)][_0x459216(0x9f)](_0x459216(0xcc)),await fs_internal_1['FS'][_0x459216(0xa9)](_0x118200[_0x459216(0x9e)]);}}exports[a94_0x1aae79(0xcb)]=Git,Git[a94_0x1aae79(0x7c)]=path_1[a94_0x1aae79(0xab)][a94_0x1aae79(0x8c)](process[a94_0x1aae79(0x81)](),a94_0x1aae79(0xa7),a94_0x1aae79(0x92)),Git[a94_0x1aae79(0xc1)]=new core_1[(a94_0x1aae79(0xb1))](Git[a94_0x1aae79(0xbe)]);