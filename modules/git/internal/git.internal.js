const a126_0x386320=a126_0x4be8;function a126_0x4be8(_0x1fd972,_0x410346){const _0x10b17b=a126_0x2aab();return a126_0x4be8=function(_0x17f273,_0x192961){_0x17f273=_0x17f273-0x132;let _0x2aab55=_0x10b17b[_0x17f273];return _0x2aab55;},a126_0x4be8(_0x1fd972,_0x410346);}(function(_0xea5200,_0x3bdb4b){const _0x15b3b1=a126_0x4be8,_0x30296b=_0xea5200();while(!![]){try{const _0x36604c=parseInt(_0x15b3b1(0x166))/0x1*(-parseInt(_0x15b3b1(0x147))/0x2)+parseInt(_0x15b3b1(0x152))/0x3*(parseInt(_0x15b3b1(0x13c))/0x4)+-parseInt(_0x15b3b1(0x179))/0x5+parseInt(_0x15b3b1(0x135))/0x6*(-parseInt(_0x15b3b1(0x180))/0x7)+-parseInt(_0x15b3b1(0x14d))/0x8+parseInt(_0x15b3b1(0x146))/0x9*(-parseInt(_0x15b3b1(0x17e))/0xa)+-parseInt(_0x15b3b1(0x144))/0xb*(-parseInt(_0x15b3b1(0x16b))/0xc);if(_0x36604c===_0x3bdb4b)break;else _0x30296b['push'](_0x30296b['shift']());}catch(_0x158f6b){_0x30296b['push'](_0x30296b['shift']());}}}(a126_0x2aab,0x28d8c));const a126_0x192961=(function(){let _0x316863=!![];return function(_0x63379,_0x424d27){const _0x5668df=_0x316863?function(){const _0x2ec707=a126_0x4be8;if(_0x424d27){const _0x5853d4=_0x424d27[_0x2ec707(0x165)](_0x63379,arguments);return _0x424d27=null,_0x5853d4;}}:function(){};return _0x316863=![],_0x5668df;};}()),a126_0x17f273=a126_0x192961(this,function(){const _0x5b2254=a126_0x4be8;return a126_0x17f273[_0x5b2254(0x169)]()[_0x5b2254(0x150)](_0x5b2254(0x15b))['toString']()[_0x5b2254(0x138)](a126_0x17f273)[_0x5b2254(0x150)]('(((.+)+)+)+$');});a126_0x17f273();'use strict';function a126_0x2aab(){const _0x3140a2=['\x20--quiet','./internal.utils','toString','git\x20ls-remote\x20','9279456zlVbbC','sha','\x20&&\x20git\x20commit\x20-m\x20\x22','gitUrl','DEFAULT_CLONE_PATH','removeDir','defineProperty','\x20&&\x20git\x20status','INITIAL_COMMIT','split','commit','../providers/branches/dto/branch.dto','BranchDto','checkout\x20to\x20%s','181375wYenFv','getProtocol','log','\x22\x20--allow-empty','filter','570qUnAoR','\x20--refs','1067731VImkyG','add','replace','__esModule','getGitShellAuthorizationString','\x20&&\x20git\x20checkout\x20--orphan\x20','@flosum/utils','Git','extractEmailFromCommitDescribe','DEFAULT_GIT_USER_EMAIL','DEFAULT_GIT_USER_NAME','map','12ufEfXS','getRemoteHash','__importDefault','constructor','\x20&&\x20git\x20init','../../shared/utils','cwd','20tavAfB','push','refs/heads/','describeCommit','../../../core','\x20--single-branch\x20','name','test','11LVQhHQ','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','13545EqGoSW','4rCqZiF','describe\x20commit\x20%s','ChildProcessUtils','\x20&&\x20git\x20remote\x20add\x20origin\x20','join','Logger','585528cpOyhj','checkout','cd\x20','search','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','1905ltFirF','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','match','setCredentials','push\x20changes\x20to\x20%s','baseDir','makeDir','default','(((.+)+)+)+$','logger','_repoPath','extractMessageFromCommitDescribe','../../../constants','\x20&&\x20git\x20checkout\x20','spawnPromise','extractChangesFromCommitDescribe','://','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','apply','54419QVsZqa'];a126_0x2aab=function(){return _0x3140a2;};return a126_0x2aab();}var __importDefault=this&&this[a126_0x386320(0x137)]||function(_0x32e52e){const _0x3c50ae=a126_0x386320;return _0x32e52e&&_0x32e52e[_0x3c50ae(0x183)]?_0x32e52e:{'default':_0x32e52e};};Object[a126_0x386320(0x171)](exports,a126_0x386320(0x183),{'value':!![]}),exports[a126_0x386320(0x187)]=void 0x0;const constants_1=require(a126_0x386320(0x15f)),core_1=require(a126_0x386320(0x140)),path_1=__importDefault(require('path')),branch_dto_1=require(a126_0x386320(0x176)),utils_1=require(a126_0x386320(0x13a)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a126_0x386320(0x168)),utils_2=require(a126_0x386320(0x186));class Git{constructor(_0x18207e){const _0xceeaff=a126_0x386320;this[_0xceeaff(0x15d)]=_0x18207e;}get[a126_0x386320(0x158)](){const _0x1d5365=a126_0x386320;return this[_0x1d5365(0x15d)];}async[a126_0x386320(0x156)](_0x56ba88,_0x4f047a){const _0x1ef4b5=a126_0x386320;await utils_2[_0x1ef4b5(0x149)][_0x1ef4b5(0x161)](_0x1ef4b5(0x14f)+this[_0x1ef4b5(0x15d)]+_0x1ef4b5(0x153)+_0x56ba88+_0x1ef4b5(0x154)+_0x4f047a+'\x22','');}async[a126_0x386320(0x181)](..._0x49628e){const _0x3ffa59=a126_0x386320;await utils_2[_0x3ffa59(0x149)][_0x3ffa59(0x161)](_0x3ffa59(0x14f)+this[_0x3ffa59(0x15d)]+'\x20&&\x20git\x20add\x20'+_0x49628e['join']('\x20'),'');}async['status'](){const _0x22211d=a126_0x386320;return utils_2[_0x22211d(0x149)][_0x22211d(0x161)](_0x22211d(0x14f)+this[_0x22211d(0x15d)]+_0x22211d(0x172),'');}async[a126_0x386320(0x175)](_0x5a1265){const _0x4a3f27=a126_0x386320;Git[_0x4a3f27(0x15c)][_0x4a3f27(0x17b)]('commit\x20message\x20\x22%s\x22',_0x5a1265),await utils_2[_0x4a3f27(0x149)]['spawnPromise']('cd\x20'+this[_0x4a3f27(0x15d)]+_0x4a3f27(0x16d)+_0x5a1265+'\x22','');}async[a126_0x386320(0x13d)](_0x13d500){const _0x3588f6=a126_0x386320;Git[_0x3588f6(0x15c)][_0x3588f6(0x17b)](_0x3588f6(0x157),_0x13d500),await utils_2[_0x3588f6(0x149)]['spawnPromise'](_0x3588f6(0x14f)+this['_repoPath']+'\x20&&\x20git\x20push\x20origin\x20'+_0x13d500+_0x3588f6(0x167),'');}async[a126_0x386320(0x14e)](_0x4ef181){const _0xdd2543=a126_0x386320;Git['logger'][_0xdd2543(0x17b)](_0xdd2543(0x178),_0x4ef181),await utils_2[_0xdd2543(0x149)][_0xdd2543(0x161)](_0xdd2543(0x14f)+this[_0xdd2543(0x15d)]+_0xdd2543(0x160)+_0x4ef181,'');}async['getCurrentHash'](){const _0x25284e=a126_0x386320,_0x40baf1=await utils_2[_0x25284e(0x149)]['spawnPromise'](_0x25284e(0x14f)+this[_0x25284e(0x15d)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x40baf1[_0x25284e(0x182)]('\x0a','');}async[a126_0x386320(0x13f)](_0x50a45a){const _0x49d86a=a126_0x386320;Git['logger'][_0x49d86a(0x17b)](_0x49d86a(0x148),_0x50a45a);const _0x4b34cb=await utils_2[_0x49d86a(0x149)]['spawnPromise'](_0x49d86a(0x14f)+this[_0x49d86a(0x15d)]+_0x49d86a(0x164)+_0x50a45a,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x4b34cb),'email':(0x0,internal_utils_1[_0x49d86a(0x188)])(_0x4b34cb),'message':(0x0,internal_utils_1[_0x49d86a(0x15e)])(_0x4b34cb),'changes':(0x0,internal_utils_1[_0x49d86a(0x162)])(_0x4b34cb)};}static async[a126_0x386320(0x136)](_0x1451fb,_0xb1ddc0){const _0x3f61f4=a126_0x386320,[_0xe43dc0]=await utils_2[_0x3f61f4(0x149)][_0x3f61f4(0x161)](_0x3f61f4(0x16a)+_0x1451fb+'\x20'+_0xb1ddc0+_0x3f61f4(0x17f),'')['then'](_0xe0a2d2=>_0xe0a2d2['replace'](/\s/g,'\x20')[_0x3f61f4(0x174)]('\x20'));return _0xe43dc0;}static async['clone'](_0x47dfc2,_0x76c975,_0x5ebc30){const _0x55569f=a126_0x386320,_0x5d60f7=path_1[_0x55569f(0x15a)][_0x55569f(0x14b)](this['DEFAULT_CLONE_PATH'],_0x76c975),_0x1b4e16=new Git(_0x5d60f7);return Git['logger']['log']('clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x5ebc30,_0x5d60f7),await fs_internal_1['FS'][_0x55569f(0x170)](_0x5d60f7),await utils_2['ChildProcessUtils'][_0x55569f(0x161)]('git\x20clone\x20-b\x20'+_0x5ebc30+_0x55569f(0x141)+_0x47dfc2+'\x20'+_0x5d60f7,''),_0x1b4e16;}static async['getRepositoryBranches'](_0x49a8e8,_0x4cdf2f){const _0x213f7e=a126_0x386320,_0x48089e=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3b4de5=_0x49a8e8[_0x213f7e(0x16e)][_0x213f7e(0x182)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x213f7e(0x17a)])(_0x49a8e8[_0x213f7e(0x16e)])+_0x213f7e(0x163)+_0x4cdf2f['getGitShellAuthorizationString']()+'@'),_0x133ec0=await utils_2[_0x213f7e(0x149)][_0x213f7e(0x161)]('git\x20ls-remote\x20'+_0x3b4de5,'');return _0x133ec0[_0x213f7e(0x174)]('\x0a')[_0x213f7e(0x17d)](_0x1a3382=>_0x48089e[_0x213f7e(0x143)](_0x1a3382))[_0x213f7e(0x134)](_0x450805=>{const _0x452ed4=_0x213f7e,[,_0x254c56,_0x1fa208]=_0x450805[_0x452ed4(0x155)](_0x48089e),_0x251e8b=new branch_dto_1[(_0x452ed4(0x177))]();return _0x251e8b[_0x452ed4(0x16c)]=_0x254c56,_0x251e8b[_0x452ed4(0x142)]=_0x1fa208[_0x452ed4(0x182)](_0x452ed4(0x13e),''),_0x251e8b;});}static async['createEmptyBranch'](_0x73eae6,_0x7afdb,_0x7e4175,_0x556002){const _0x2b5d03=a126_0x386320,_0x2403cc=_0x73eae6[_0x2b5d03(0x16e)][_0x2b5d03(0x182)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2b5d03(0x17a)])(_0x73eae6[_0x2b5d03(0x16e)])+_0x2b5d03(0x163)+_0x556002[_0x2b5d03(0x184)]()+'@'),_0xc3c2d7=path_1['default']['join'](this[_0x2b5d03(0x16f)],_0x73eae6[_0x2b5d03(0x142)]);Git[_0x2b5d03(0x15c)][_0x2b5d03(0x17b)](_0x2b5d03(0x151),_0x73eae6[_0x2b5d03(0x142)],_0x7afdb,_0xc3c2d7),await fs_internal_1['FS']['removeDir'](_0xc3c2d7),await fs_internal_1['FS'][_0x2b5d03(0x159)](_0xc3c2d7);const _0x2edcf1=new Git(_0xc3c2d7);await utils_2['ChildProcessUtils'][_0x2b5d03(0x161)]('cd\x20'+_0x2edcf1[_0x2b5d03(0x158)]+_0x2b5d03(0x139),''),await utils_2[_0x2b5d03(0x149)][_0x2b5d03(0x161)](_0x2b5d03(0x14f)+_0x2edcf1['baseDir']+_0x2b5d03(0x14a)+_0x2403cc,''),await _0x2edcf1[_0x2b5d03(0x156)](constants_1[_0x2b5d03(0x133)],constants_1[_0x2b5d03(0x132)]),await utils_2[_0x2b5d03(0x149)][_0x2b5d03(0x161)](_0x2b5d03(0x14f)+_0x2edcf1[_0x2b5d03(0x158)]+_0x2b5d03(0x185)+_0x7afdb,''),await utils_2['ChildProcessUtils'][_0x2b5d03(0x161)](_0x2b5d03(0x14f)+_0x2edcf1['baseDir']+_0x2b5d03(0x16d)+(_0x7e4175||constants_1[_0x2b5d03(0x173)])+_0x2b5d03(0x17c),''),await _0x2edcf1['push'](_0x7afdb),Git[_0x2b5d03(0x15c)][_0x2b5d03(0x17b)](_0x2b5d03(0x145)),await fs_internal_1['FS']['removeDir'](_0x2edcf1[_0x2b5d03(0x158)]);}}exports[a126_0x386320(0x187)]=Git,Git[a126_0x386320(0x16f)]=path_1[a126_0x386320(0x15a)][a126_0x386320(0x14b)](process[a126_0x386320(0x13b)](),'.temp','git'),Git[a126_0x386320(0x15c)]=new core_1[(a126_0x386320(0x14c))](Git[a126_0x386320(0x142)]);