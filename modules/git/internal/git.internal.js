const a82_0x1f6f92=a82_0x33f0;(function(_0x499973,_0x4ea59){const _0x35881c=a82_0x33f0,_0x1a51ad=_0x499973();while(!![]){try{const _0x23d092=parseInt(_0x35881c(0x17b))/0x1*(parseInt(_0x35881c(0x192))/0x2)+-parseInt(_0x35881c(0x153))/0x3+parseInt(_0x35881c(0x159))/0x4+-parseInt(_0x35881c(0x184))/0x5+-parseInt(_0x35881c(0x147))/0x6+-parseInt(_0x35881c(0x15f))/0x7+parseInt(_0x35881c(0x15b))/0x8*(parseInt(_0x35881c(0x16a))/0x9);if(_0x23d092===_0x4ea59)break;else _0x1a51ad['push'](_0x1a51ad['shift']());}catch(_0x1c04fd){_0x1a51ad['push'](_0x1a51ad['shift']());}}}(a82_0x3b35,0xb6e59));function a82_0x33f0(_0x16a96c,_0x2c4a20){const _0x444a36=a82_0x3b35();return a82_0x33f0=function(_0x2a7646,_0x3a6edd){_0x2a7646=_0x2a7646-0x142;let _0x3b352c=_0x444a36[_0x2a7646];return _0x3b352c;},a82_0x33f0(_0x16a96c,_0x2c4a20);}function a82_0x3b35(){const _0x13c816=['.temp','1231845iehzKA','getCurrentHash','DEFAULT_GIT_USER_EMAIL','__importDefault','DEFAULT_GIT_USER_NAME','(((.+)+)+)+$','3648256Mfnurh','join','8HuVRIJ','\x22\x20--allow-empty','toString','removeDir','5800662MueEWI','\x20&&\x20git\x20checkout\x20','\x20&&\x20git\x20push\x20origin\x20','getRepositoryBranches','checkout','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','match','name','BranchDto','add','constructor','21543948XiaIVM','://','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','logger','extractAuthorFromCommitDescribe','\x20--single-branch\x20','cwd','Shell','baseDir','../../shared/utils','split','describe\x20commit\x20%s','getGitShellAuthorizationString','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','extractMessageFromCommitDescribe','commit\x20message\x20\x22%s\x22','1YNCrcW','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','./fs.internal','git','\x20&&\x20git\x20add\x20','cd\x20','commit','_repoPath','refs/heads/','4153435kHUZWV','\x20&&\x20git\x20rev-parse\x20HEAD','exec','test','getProtocol','extractChangesFromCommitDescribe','sha','setCredentials','log','\x20--refs','Git','__esModule','Logger','default','1734674iPFOdB','then','apply','\x20&&\x20git\x20remote\x20add\x20origin\x20','\x20&&\x20git\x20init','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','\x20--quiet','path','filter','push','8124360ZwIZLr','../../../constants','extractEmailFromCommitDescribe','DEFAULT_CLONE_PATH','search','map','\x20&&\x20git\x20status','push\x20changes\x20to\x20%s','replace','git\x20ls-remote\x20','gitUrl'];a82_0x3b35=function(){return _0x13c816;};return a82_0x3b35();}const a82_0x3a6edd=(function(){let _0x2aae5b=!![];return function(_0x17690e,_0x376820){const _0x2b6012=_0x2aae5b?function(){const _0x598dc4=a82_0x33f0;if(_0x376820){const _0x4a3f7c=_0x376820[_0x598dc4(0x194)](_0x17690e,arguments);return _0x376820=null,_0x4a3f7c;}}:function(){};return _0x2aae5b=![],_0x2b6012;};}()),a82_0x2a7646=a82_0x3a6edd(this,function(){const _0x4eb17a=a82_0x33f0;return a82_0x2a7646[_0x4eb17a(0x15d)]()[_0x4eb17a(0x14b)]('(((.+)+)+)+$')[_0x4eb17a(0x15d)]()[_0x4eb17a(0x169)](a82_0x2a7646)[_0x4eb17a(0x14b)](_0x4eb17a(0x158));});a82_0x2a7646();'use strict';var __importDefault=this&&this[a82_0x1f6f92(0x156)]||function(_0x1832fb){const _0x5b5bf6=a82_0x1f6f92;return _0x1832fb&&_0x1832fb[_0x5b5bf6(0x18f)]?_0x1832fb:{'default':_0x1832fb};};Object['defineProperty'](exports,a82_0x1f6f92(0x18f),{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a82_0x1f6f92(0x148)),core_1=require('../../../core'),path_1=__importDefault(require(a82_0x1f6f92(0x144))),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a82_0x1f6f92(0x174)),fs_internal_1=require(a82_0x1f6f92(0x17d)),internal_utils_1=require('./internal.utils'),shell_internal_1=require('./shell.internal');class Git{constructor(_0x22f015){const _0x48e5cc=a82_0x1f6f92;this[_0x48e5cc(0x182)]=_0x22f015;}get[a82_0x1f6f92(0x173)](){const _0x38360d=a82_0x1f6f92;return this[_0x38360d(0x182)];}async[a82_0x1f6f92(0x18b)](_0x31d5f5,_0x10b93e){const _0x10ce9f=a82_0x1f6f92;await shell_internal_1[_0x10ce9f(0x172)][_0x10ce9f(0x186)]('cd\x20'+this['_repoPath']+_0x10ce9f(0x16d)+_0x31d5f5+_0x10ce9f(0x17c)+_0x10b93e+'\x22');}async[a82_0x1f6f92(0x168)](..._0x48722f){const _0x501e33=a82_0x1f6f92;await shell_internal_1['Shell'][_0x501e33(0x186)](_0x501e33(0x180)+this[_0x501e33(0x182)]+_0x501e33(0x17f)+_0x48722f[_0x501e33(0x15a)]('\x20'));}async['status'](){const _0x2a8ab0=a82_0x1f6f92;return shell_internal_1[_0x2a8ab0(0x172)][_0x2a8ab0(0x186)](_0x2a8ab0(0x180)+this[_0x2a8ab0(0x182)]+_0x2a8ab0(0x14d));}async[a82_0x1f6f92(0x181)](_0x2e4bea){const _0x1fcbba=a82_0x1f6f92;Git['logger'][_0x1fcbba(0x18c)](_0x1fcbba(0x17a),_0x2e4bea),await shell_internal_1[_0x1fcbba(0x172)][_0x1fcbba(0x186)]('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x2e4bea+'\x22');}async[a82_0x1f6f92(0x146)](_0x6d5a3e){const _0x5842a5=a82_0x1f6f92;Git[_0x5842a5(0x16e)][_0x5842a5(0x18c)](_0x5842a5(0x14e),_0x6d5a3e),await shell_internal_1[_0x5842a5(0x172)][_0x5842a5(0x186)](_0x5842a5(0x180)+this[_0x5842a5(0x182)]+_0x5842a5(0x161)+_0x6d5a3e+_0x5842a5(0x143));}async[a82_0x1f6f92(0x163)](_0x2073aa){const _0x1e8afa=a82_0x1f6f92;Git[_0x1e8afa(0x16e)][_0x1e8afa(0x18c)]('checkout\x20to\x20%s',_0x2073aa),await shell_internal_1[_0x1e8afa(0x172)][_0x1e8afa(0x186)]('cd\x20'+this['_repoPath']+_0x1e8afa(0x160)+_0x2073aa);}async[a82_0x1f6f92(0x154)](){const _0x4f30c0=a82_0x1f6f92,_0x395491=await shell_internal_1[_0x4f30c0(0x172)]['exec'](_0x4f30c0(0x180)+this[_0x4f30c0(0x182)]+_0x4f30c0(0x185));return _0x395491[_0x4f30c0(0x14f)]('\x0a','');}async['describeCommit'](_0x26fc72){const _0x83b8c1=a82_0x1f6f92;Git['logger'][_0x83b8c1(0x18c)](_0x83b8c1(0x176),_0x26fc72);const _0x11ba26=await shell_internal_1['Shell'][_0x83b8c1(0x186)](_0x83b8c1(0x180)+this[_0x83b8c1(0x182)]+_0x83b8c1(0x142)+_0x26fc72);return{'author':internal_utils_1[_0x83b8c1(0x16f)](_0x11ba26),'email':internal_utils_1[_0x83b8c1(0x149)](_0x11ba26),'message':internal_utils_1[_0x83b8c1(0x179)](_0x11ba26),'changes':internal_utils_1[_0x83b8c1(0x189)](_0x11ba26)};}static async['getRemoteHash'](_0xaf5f97,_0x40162b){const _0x142b55=a82_0x1f6f92,[_0xb88a0c]=await shell_internal_1['Shell'][_0x142b55(0x186)](_0x142b55(0x150)+_0xaf5f97+'\x20'+_0x40162b+_0x142b55(0x18d))[_0x142b55(0x193)](_0x6e958e=>_0x6e958e[_0x142b55(0x14f)](/\s/g,'\x20')[_0x142b55(0x175)]('\x20'));return _0xb88a0c;}static async['clone'](_0x40b646,_0x2877ed,_0x125a6b){const _0x4eeba9=a82_0x1f6f92,_0x428a03=path_1[_0x4eeba9(0x191)][_0x4eeba9(0x15a)](this['DEFAULT_CLONE_PATH'],_0x2877ed),_0x1d6897=new Git(_0x428a03);return Git[_0x4eeba9(0x16e)][_0x4eeba9(0x18c)](_0x4eeba9(0x178),_0x125a6b,_0x40b646,_0x428a03),await fs_internal_1['FS'][_0x4eeba9(0x15e)](_0x428a03),await shell_internal_1[_0x4eeba9(0x172)][_0x4eeba9(0x186)]('git\x20clone\x20-b\x20'+_0x125a6b+_0x4eeba9(0x170)+_0x40b646+'\x20'+_0x428a03),_0x1d6897;}static async[a82_0x1f6f92(0x162)](_0x5a0b06,_0x206e0f){const _0x40bb0d=a82_0x1f6f92,_0x30d454=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x5c9ae8=_0x5a0b06[_0x40bb0d(0x151)][_0x40bb0d(0x14f)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x40bb0d(0x188)](_0x5a0b06[_0x40bb0d(0x151)])+_0x40bb0d(0x16b)+_0x206e0f['getGitShellAuthorizationString']()+'@'),_0x1792d6=await shell_internal_1[_0x40bb0d(0x172)]['exec'](_0x40bb0d(0x150)+_0x5c9ae8),_0x3fa46c=_0x1792d6['split']('\x0a')[_0x40bb0d(0x145)](_0x295e9e=>_0x30d454[_0x40bb0d(0x187)](_0x295e9e))[_0x40bb0d(0x14c)](_0x25a631=>{const _0x21c782=_0x40bb0d,[,_0x42f508,_0x50f5d3]=_0x25a631[_0x21c782(0x165)](_0x30d454),_0xb045d3=new branch_dto_1[(_0x21c782(0x167))]();return _0xb045d3[_0x21c782(0x18a)]=_0x42f508,_0xb045d3[_0x21c782(0x166)]=_0x50f5d3[_0x21c782(0x14f)](_0x21c782(0x183),''),_0xb045d3;});return _0x3fa46c;}static async['createEmptyBranch'](_0x2436a8,_0x3e37d6,_0x3f6770,_0x432d22){const _0x3f03e6=a82_0x1f6f92,_0x59ea91=_0x2436a8[_0x3f03e6(0x151)][_0x3f03e6(0x14f)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x2436a8['gitUrl'])+_0x3f03e6(0x16b)+_0x432d22[_0x3f03e6(0x177)]()+'@'),_0x39e406=path_1['default'][_0x3f03e6(0x15a)](this[_0x3f03e6(0x14a)],_0x2436a8[_0x3f03e6(0x166)]);Git[_0x3f03e6(0x16e)]['log']('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x2436a8['name'],_0x3e37d6,_0x39e406,_0x59ea91),await fs_internal_1['FS'][_0x3f03e6(0x15e)](_0x39e406),await fs_internal_1['FS']['makeDir'](_0x39e406);const _0x2866d7=new Git(_0x39e406);await shell_internal_1[_0x3f03e6(0x172)]['exec'](_0x3f03e6(0x180)+_0x2866d7[_0x3f03e6(0x173)]+_0x3f03e6(0x196)),await shell_internal_1['Shell'][_0x3f03e6(0x186)](_0x3f03e6(0x180)+_0x2866d7[_0x3f03e6(0x173)]+_0x3f03e6(0x195)+_0x59ea91),await _0x2866d7['setCredentials'](constants_1[_0x3f03e6(0x157)],constants_1[_0x3f03e6(0x155)]),await shell_internal_1[_0x3f03e6(0x172)][_0x3f03e6(0x186)](_0x3f03e6(0x180)+_0x2866d7[_0x3f03e6(0x173)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x3e37d6),await shell_internal_1[_0x3f03e6(0x172)][_0x3f03e6(0x186)]('cd\x20'+_0x2866d7[_0x3f03e6(0x173)]+_0x3f03e6(0x16c)+(_0x3f6770||constants_1['INITIAL_COMMIT'])+_0x3f03e6(0x15c)),await _0x2866d7[_0x3f03e6(0x146)](_0x3e37d6),Git[_0x3f03e6(0x16e)][_0x3f03e6(0x18c)](_0x3f03e6(0x164)),await fs_internal_1['FS'][_0x3f03e6(0x15e)](_0x2866d7[_0x3f03e6(0x173)]);}}exports[a82_0x1f6f92(0x18e)]=Git,Git[a82_0x1f6f92(0x14a)]=path_1[a82_0x1f6f92(0x191)][a82_0x1f6f92(0x15a)](process[a82_0x1f6f92(0x171)](),a82_0x1f6f92(0x152),a82_0x1f6f92(0x17e)),Git[a82_0x1f6f92(0x16e)]=new core_1[(a82_0x1f6f92(0x190))](Git[a82_0x1f6f92(0x166)]);