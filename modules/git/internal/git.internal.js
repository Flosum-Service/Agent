const a126_0x37f5bf=a126_0x3d42;(function(_0x5c3aa8,_0x5e6ebd){const _0x54176d=a126_0x3d42,_0x4864b3=_0x5c3aa8();while(!![]){try{const _0x2362c8=parseInt(_0x54176d(0x1f4))/0x1*(parseInt(_0x54176d(0x1ea))/0x2)+-parseInt(_0x54176d(0x1dc))/0x3+-parseInt(_0x54176d(0x1b1))/0x4+parseInt(_0x54176d(0x1c3))/0x5+parseInt(_0x54176d(0x1c7))/0x6*(parseInt(_0x54176d(0x1c6))/0x7)+parseInt(_0x54176d(0x1d4))/0x8+-parseInt(_0x54176d(0x1f2))/0x9;if(_0x2362c8===_0x5e6ebd)break;else _0x4864b3['push'](_0x4864b3['shift']());}catch(_0x3ded20){_0x4864b3['push'](_0x4864b3['shift']());}}}(a126_0x1665,0x9f335));const a126_0x411322=(function(){let _0x56b1e8=!![];return function(_0x14c63e,_0x1987e1){const _0x5213b0=_0x56b1e8?function(){const _0x246dbd=a126_0x3d42;if(_0x1987e1){const _0x31c2de=_0x1987e1[_0x246dbd(0x1e3)](_0x14c63e,arguments);return _0x1987e1=null,_0x31c2de;}}:function(){};return _0x56b1e8=![],_0x5213b0;};}()),a126_0x47b339=a126_0x411322(this,function(){const _0x25a0d1=a126_0x3d42;return a126_0x47b339[_0x25a0d1(0x1f7)]()['search'](_0x25a0d1(0x1c1))[_0x25a0d1(0x1f7)]()['constructor'](a126_0x47b339)['search'](_0x25a0d1(0x1c1));});a126_0x47b339();'use strict';function a126_0x3d42(_0x139459,_0x384bae){const _0x33058f=a126_0x1665();return a126_0x3d42=function(_0x47b339,_0x411322){_0x47b339=_0x47b339-0x1b1;let _0x166569=_0x33058f[_0x47b339];return _0x166569;},a126_0x3d42(_0x139459,_0x384bae);}var __importDefault=this&&this[a126_0x37f5bf(0x1b6)]||function(_0x1e46f2){return _0x1e46f2&&_0x1e46f2['__esModule']?_0x1e46f2:{'default':_0x1e46f2};};Object[a126_0x37f5bf(0x1e8)](exports,'__esModule',{'value':!![]}),exports[a126_0x37f5bf(0x200)]=void 0x0;const constants_1=require(a126_0x37f5bf(0x1fb)),core_1=require(a126_0x37f5bf(0x1d5)),path_1=__importDefault(require('path')),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require('../../shared/utils'),fs_internal_1=require(a126_0x37f5bf(0x1bc)),internal_utils_1=require(a126_0x37f5bf(0x1d8)),utils_2=require('@flosum/utils');function a126_0x1665(){const _0x12f151=['\x20--quiet','default','name','\x20&&\x20git\x20rev-parse\x20HEAD','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20push\x20origin\x20','7618176TezQPX','../../../core','checkout','getRepositoryBranches','./internal.utils','.temp','ChildProcessUtils','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','1529940AXNXyA','sha','gitUrl','match','://','replace','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','apply','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20init','log','split','defineProperty','\x20&&\x20git\x20checkout\x20--orphan\x20','2491948CDxVzf','setCredentials','join','DEFAULT_GIT_USER_NAME','commit','clone\x20repository\x20branch\x20%s\x20to\x20%s','DEFAULT_GIT_USER_EMAIL','\x20--single-branch\x20','18698013yytxvU','getRemoteHash','1DBPRQX','_repoPath','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','toString','git\x20ls-remote\x20','git','status','../../../constants','checkout\x20to\x20%s','createEmptyBranch','\x20&&\x20git\x20status','baseDir','Git','logger','getCurrentHash','3294672RJqpKy','test','\x20--refs','\x20&&\x20git\x20checkout\x20','spawnPromise','__importDefault','cd\x20','getProtocol','then','removeDir','filter','./fs.internal','INITIAL_COMMIT','\x20&&\x20git\x20remote\x20add\x20origin\x20','push\x20changes\x20to\x20%s','git\x20clone\x20-b\x20','(((.+)+)+)+$','DEFAULT_CLONE_PATH','6012560LOBtFr','clone','push','24934HrePmG','1116exKXfi','describeCommit','\x20&&\x20git\x20add\x20','cwd','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','getGitShellAuthorizationString','\x22\x20--allow-empty'];a126_0x1665=function(){return _0x12f151;};return a126_0x1665();}class Git{constructor(_0x340355){const _0x5065ad=a126_0x37f5bf;this[_0x5065ad(0x1f5)]=_0x340355;}get[a126_0x37f5bf(0x1ff)](){const _0x41a8c7=a126_0x37f5bf;return this[_0x41a8c7(0x1f5)];}async['setCredentials'](_0x28ee9c,_0x2924eb){const _0xdcd688=a126_0x37f5bf;await utils_2[_0xdcd688(0x1da)][_0xdcd688(0x1b5)](_0xdcd688(0x1b7)+this[_0xdcd688(0x1f5)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x28ee9c+_0xdcd688(0x1cb)+_0x2924eb+'\x22','');}async['add'](..._0x4203e0){const _0x27d073=a126_0x37f5bf;await utils_2[_0x27d073(0x1da)][_0x27d073(0x1b5)]('cd\x20'+this[_0x27d073(0x1f5)]+_0x27d073(0x1c9)+_0x4203e0[_0x27d073(0x1ec)]('\x20'),'');}async[a126_0x37f5bf(0x1fa)](){const _0x162547=a126_0x37f5bf;return utils_2[_0x162547(0x1da)][_0x162547(0x1b5)](_0x162547(0x1b7)+this[_0x162547(0x1f5)]+_0x162547(0x1fe),'');}async[a126_0x37f5bf(0x1ee)](_0xb9d498){const _0x51cbc7=a126_0x37f5bf;Git[_0x51cbc7(0x201)]['log'](_0x51cbc7(0x1e4),_0xb9d498),await utils_2['ChildProcessUtils'][_0x51cbc7(0x1b5)](_0x51cbc7(0x1b7)+this[_0x51cbc7(0x1f5)]+_0x51cbc7(0x1d2)+_0xb9d498+'\x22','');}async[a126_0x37f5bf(0x1c5)](_0x18d880){const _0x523cef=a126_0x37f5bf;Git[_0x523cef(0x201)][_0x523cef(0x1e6)](_0x523cef(0x1bf),_0x18d880),await utils_2[_0x523cef(0x1da)][_0x523cef(0x1b5)]('cd\x20'+this[_0x523cef(0x1f5)]+_0x523cef(0x1d3)+_0x18d880+_0x523cef(0x1ce),'');}async[a126_0x37f5bf(0x1d6)](_0x45d09b){const _0x4764c3=a126_0x37f5bf;Git[_0x4764c3(0x201)][_0x4764c3(0x1e6)](_0x4764c3(0x1fc),_0x45d09b),await utils_2[_0x4764c3(0x1da)][_0x4764c3(0x1b5)](_0x4764c3(0x1b7)+this[_0x4764c3(0x1f5)]+_0x4764c3(0x1b4)+_0x45d09b,'');}async[a126_0x37f5bf(0x202)](){const _0x1d561d=a126_0x37f5bf,_0x2b08e3=await utils_2['ChildProcessUtils'][_0x1d561d(0x1b5)](_0x1d561d(0x1b7)+this['_repoPath']+_0x1d561d(0x1d1),'');return _0x2b08e3[_0x1d561d(0x1e1)]('\x0a','');}async[a126_0x37f5bf(0x1c8)](_0x17b224){const _0x3e9921=a126_0x37f5bf;Git[_0x3e9921(0x201)][_0x3e9921(0x1e6)]('describe\x20commit\x20%s',_0x17b224);const _0x3da902=await utils_2[_0x3e9921(0x1da)][_0x3e9921(0x1b5)](_0x3e9921(0x1b7)+this['_repoPath']+_0x3e9921(0x1f6)+_0x17b224,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x3da902),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x3da902),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x3da902),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x3da902)};}static async[a126_0x37f5bf(0x1f3)](_0xf3cfe5,_0x2dc186){const _0x13ca82=a126_0x37f5bf,[_0x4f71b7]=await utils_2['ChildProcessUtils'][_0x13ca82(0x1b5)](_0x13ca82(0x1f8)+_0xf3cfe5+'\x20'+_0x2dc186+_0x13ca82(0x1b3),'')[_0x13ca82(0x1b9)](_0x597ff3=>_0x597ff3[_0x13ca82(0x1e1)](/\s/g,'\x20')[_0x13ca82(0x1e7)]('\x20'));return _0x4f71b7;}static async[a126_0x37f5bf(0x1c4)](_0x494898,_0x50d7cc,_0x5da76b){const _0x10db50=a126_0x37f5bf,_0x3afa46=path_1[_0x10db50(0x1cf)]['join'](this['DEFAULT_CLONE_PATH'],_0x50d7cc),_0x421ec1=new Git(_0x3afa46);return Git[_0x10db50(0x201)][_0x10db50(0x1e6)](_0x10db50(0x1ef),_0x5da76b,_0x3afa46),await fs_internal_1['FS'][_0x10db50(0x1ba)](_0x3afa46),await utils_2[_0x10db50(0x1da)][_0x10db50(0x1b5)](_0x10db50(0x1c0)+_0x5da76b+_0x10db50(0x1f1)+_0x494898+'\x20'+_0x3afa46,''),_0x421ec1;}static async[a126_0x37f5bf(0x1d7)](_0x1dfefd,_0x4b3fba){const _0x56ba1c=a126_0x37f5bf,_0x21f99d=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x10225b=_0x1dfefd['gitUrl'][_0x56ba1c(0x1e1)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x1dfefd[_0x56ba1c(0x1de)])+_0x56ba1c(0x1e0)+_0x4b3fba[_0x56ba1c(0x1cc)]()+'@'),_0x47af7d=await utils_2['ChildProcessUtils'][_0x56ba1c(0x1b5)](_0x56ba1c(0x1f8)+_0x10225b,'');return _0x47af7d[_0x56ba1c(0x1e7)]('\x0a')[_0x56ba1c(0x1bb)](_0x5ba6b7=>_0x21f99d[_0x56ba1c(0x1b2)](_0x5ba6b7))['map'](_0x1b4143=>{const _0xb60b38=_0x56ba1c,[,_0x49c53a,_0x52ca8f]=_0x1b4143[_0xb60b38(0x1df)](_0x21f99d),_0x173ec2=new branch_dto_1['BranchDto']();return _0x173ec2[_0xb60b38(0x1dd)]=_0x49c53a,_0x173ec2['name']=_0x52ca8f[_0xb60b38(0x1e1)]('refs/heads/',''),_0x173ec2;});}static async[a126_0x37f5bf(0x1fd)](_0x575246,_0x16201d,_0x319dbf,_0x54d8bc){const _0x192c5c=a126_0x37f5bf,_0x5a65d6=_0x575246['gitUrl'][_0x192c5c(0x1e1)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x192c5c(0x1b8)])(_0x575246['gitUrl'])+_0x192c5c(0x1e0)+_0x54d8bc[_0x192c5c(0x1cc)]()+'@'),_0x436206=path_1[_0x192c5c(0x1cf)][_0x192c5c(0x1ec)](this[_0x192c5c(0x1c2)],_0x575246[_0x192c5c(0x1d0)]);Git[_0x192c5c(0x201)][_0x192c5c(0x1e6)](_0x192c5c(0x1e2),_0x575246['name'],_0x16201d,_0x436206),await fs_internal_1['FS'][_0x192c5c(0x1ba)](_0x436206),await fs_internal_1['FS']['makeDir'](_0x436206);const _0x49e54e=new Git(_0x436206);await utils_2[_0x192c5c(0x1da)]['spawnPromise'](_0x192c5c(0x1b7)+_0x49e54e[_0x192c5c(0x1ff)]+_0x192c5c(0x1e5),''),await utils_2['ChildProcessUtils'][_0x192c5c(0x1b5)](_0x192c5c(0x1b7)+_0x49e54e[_0x192c5c(0x1ff)]+_0x192c5c(0x1be)+_0x5a65d6,''),await _0x49e54e[_0x192c5c(0x1eb)](constants_1[_0x192c5c(0x1ed)],constants_1[_0x192c5c(0x1f0)]),await utils_2['ChildProcessUtils'][_0x192c5c(0x1b5)](_0x192c5c(0x1b7)+_0x49e54e[_0x192c5c(0x1ff)]+_0x192c5c(0x1e9)+_0x16201d,''),await utils_2['ChildProcessUtils'][_0x192c5c(0x1b5)](_0x192c5c(0x1b7)+_0x49e54e[_0x192c5c(0x1ff)]+_0x192c5c(0x1d2)+(_0x319dbf||constants_1[_0x192c5c(0x1bd)])+_0x192c5c(0x1cd),''),await _0x49e54e[_0x192c5c(0x1c5)](_0x16201d),Git['logger'][_0x192c5c(0x1e6)](_0x192c5c(0x1db)),await fs_internal_1['FS'][_0x192c5c(0x1ba)](_0x49e54e[_0x192c5c(0x1ff)]);}}exports[a126_0x37f5bf(0x200)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a126_0x37f5bf(0x1cf)]['join'](process[a126_0x37f5bf(0x1ca)](),a126_0x37f5bf(0x1d9),a126_0x37f5bf(0x1f9)),Git[a126_0x37f5bf(0x201)]=new core_1['Logger'](Git[a126_0x37f5bf(0x1d0)]);