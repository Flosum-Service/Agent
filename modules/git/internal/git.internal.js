const a130_0x5d8e9f=a130_0x499a;(function(_0x5dd1a7,_0x5c4bcd){const _0x85d445=a130_0x499a,_0x5a75c1=_0x5dd1a7();while(!![]){try{const _0x201033=-parseInt(_0x85d445(0x15d))/0x1+parseInt(_0x85d445(0x17d))/0x2+parseInt(_0x85d445(0x197))/0x3*(parseInt(_0x85d445(0x14b))/0x4)+-parseInt(_0x85d445(0x160))/0x5*(parseInt(_0x85d445(0x19b))/0x6)+parseInt(_0x85d445(0x150))/0x7*(-parseInt(_0x85d445(0x191))/0x8)+-parseInt(_0x85d445(0x16f))/0x9*(-parseInt(_0x85d445(0x163))/0xa)+parseInt(_0x85d445(0x155))/0xb*(parseInt(_0x85d445(0x189))/0xc);if(_0x201033===_0x5c4bcd)break;else _0x5a75c1['push'](_0x5a75c1['shift']());}catch(_0x5504ff){_0x5a75c1['push'](_0x5a75c1['shift']());}}}(a130_0x663b,0xdc27e));const a130_0x414579=(function(){let _0x9d2cf3=!![];return function(_0xd313ef,_0x395f8b){const _0x4290de=_0x9d2cf3?function(){const _0x52ada5=a130_0x499a;if(_0x395f8b){const _0x1e635b=_0x395f8b[_0x52ada5(0x159)](_0xd313ef,arguments);return _0x395f8b=null,_0x1e635b;}}:function(){};return _0x9d2cf3=![],_0x4290de;};}()),a130_0x53f1da=a130_0x414579(this,function(){const _0x1f63ca=a130_0x499a;return a130_0x53f1da[_0x1f63ca(0x194)]()[_0x1f63ca(0x196)](_0x1f63ca(0x14f))[_0x1f63ca(0x194)]()['constructor'](a130_0x53f1da)[_0x1f63ca(0x196)](_0x1f63ca(0x14f));});a130_0x53f1da();function a130_0x499a(_0x458408,_0x4d7f65){const _0x421683=a130_0x663b();return a130_0x499a=function(_0x53f1da,_0x414579){_0x53f1da=_0x53f1da-0x145;let _0x663b6f=_0x421683[_0x53f1da];return _0x663b6f;},a130_0x499a(_0x458408,_0x4d7f65);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3bdef0){return _0x3bdef0&&_0x3bdef0['__esModule']?_0x3bdef0:{'default':_0x3bdef0};};function a130_0x663b(){const _0x2b335d=['extractChangesFromCommitDescribe','10bxsztW','baseDir','://','20PXEtZh','replace','describeCommit','\x20&&\x20git\x20status','DEFAULT_GIT_USER_EMAIL','path','split','defineProperty','clone','_repoPath','Describe\x20commit\x20%s','../../../core','1810989ylDsnD','ChildProcessUtils','./internal.utils','logger','checkout','BranchDto','.temp','removeDir','name','getCurrentHash','cwd','extractMessageFromCommitDescribe','git','gitUrl','2121346ZZzwXb','git\x20ls-remote\x20','cd\x20','\x20--quiet','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20rev-parse\x20HEAD','push','\x20&&\x20git\x20commit\x20-m\x20\x22','sha','../../shared/utils','../../../constants','\x20&&\x20git\x20add\x20','6347004CpVSOP','__esModule','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20checkout\x20','createEmptyBranch','INITIAL_COMMIT','status','getRemoteHash','488jqCYkw','DEFAULT_CLONE_PATH','getRepositoryBranches','toString','@flosum/utils','search','3QfoUhg','Push\x20changes\x20to\x20%s','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','825408jvqByu','then','setCredentials','add','Git','Clone\x20repository\x20branch\x20%s\x20to\x20%s','\x20&&\x20git\x20init','default','getGitShellAuthorizationString','5780404uJWZVY','\x22\x20--allow-empty','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','extractAuthorFromCommitDescribe','(((.+)+)+)+$','103565zXPkXR','getProtocol','refs/heads/','log','../providers/branches/dto/branch.dto','11ZrIImy','filter','Commit\x20message\x20\x22%s\x22','spawnPromise','apply','\x20--refs','DEFAULT_GIT_USER_NAME','join','1357744mrIvVI','match'];a130_0x663b=function(){return _0x2b335d;};return a130_0x663b();}Object[a130_0x5d8e9f(0x16a)](exports,a130_0x5d8e9f(0x18a),{'value':!![]}),exports[a130_0x5d8e9f(0x146)]=void 0x0;const constants_1=require(a130_0x5d8e9f(0x187)),core_1=require(a130_0x5d8e9f(0x16e)),path_1=__importDefault(require(a130_0x5d8e9f(0x168))),branch_dto_1=require(a130_0x5d8e9f(0x154)),utils_1=require(a130_0x5d8e9f(0x186)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a130_0x5d8e9f(0x171)),utils_2=require(a130_0x5d8e9f(0x195));class Git{constructor(_0x270b2d){const _0x26d529=a130_0x5d8e9f;this[_0x26d529(0x16c)]=_0x270b2d;}get[a130_0x5d8e9f(0x161)](){const _0x4231b4=a130_0x5d8e9f;return this[_0x4231b4(0x16c)];}async[a130_0x5d8e9f(0x19d)](_0x13aa6a,_0x1752ba){const _0x75546a=a130_0x5d8e9f;await utils_2[_0x75546a(0x170)][_0x75546a(0x158)](_0x75546a(0x17f)+this[_0x75546a(0x16c)]+_0x75546a(0x19a)+_0x13aa6a+_0x75546a(0x199)+_0x1752ba+'\x22','');}async[a130_0x5d8e9f(0x145)](..._0x2c4ae2){const _0x987048=a130_0x5d8e9f;await utils_2[_0x987048(0x170)]['spawnPromise'](_0x987048(0x17f)+this[_0x987048(0x16c)]+_0x987048(0x188)+_0x2c4ae2[_0x987048(0x15c)]('\x20'),'');}async[a130_0x5d8e9f(0x18f)](){const _0x8868c3=a130_0x5d8e9f;return utils_2['ChildProcessUtils'][_0x8868c3(0x158)](_0x8868c3(0x17f)+this[_0x8868c3(0x16c)]+_0x8868c3(0x166),'');}async['commit'](_0x4d8c0a){const _0x3d1d02=a130_0x5d8e9f;Git['logger'][_0x3d1d02(0x153)](_0x3d1d02(0x157),_0x4d8c0a),await utils_2[_0x3d1d02(0x170)][_0x3d1d02(0x158)](_0x3d1d02(0x17f)+this[_0x3d1d02(0x16c)]+_0x3d1d02(0x184)+_0x4d8c0a+'\x22','');}async[a130_0x5d8e9f(0x183)](_0x3159f0){const _0x9a2090=a130_0x5d8e9f;Git['logger'][_0x9a2090(0x153)](_0x9a2090(0x198),_0x3159f0),await utils_2[_0x9a2090(0x170)]['spawnPromise'](_0x9a2090(0x17f)+this[_0x9a2090(0x16c)]+_0x9a2090(0x18b)+_0x3159f0+_0x9a2090(0x180),'');}async[a130_0x5d8e9f(0x173)](_0x4da6b1){const _0x2c2fbc=a130_0x5d8e9f;Git[_0x2c2fbc(0x172)][_0x2c2fbc(0x153)]('Checkout\x20to\x20%s',_0x4da6b1),await utils_2['ChildProcessUtils'][_0x2c2fbc(0x158)](_0x2c2fbc(0x17f)+this[_0x2c2fbc(0x16c)]+_0x2c2fbc(0x18c)+_0x4da6b1,'');}async[a130_0x5d8e9f(0x178)](){const _0xa3ca4b=a130_0x5d8e9f,_0x36e7eb=await utils_2[_0xa3ca4b(0x170)][_0xa3ca4b(0x158)](_0xa3ca4b(0x17f)+this[_0xa3ca4b(0x16c)]+_0xa3ca4b(0x182),'');return _0x36e7eb[_0xa3ca4b(0x164)]('\x0a','');}async[a130_0x5d8e9f(0x165)](_0x4ed29f){const _0x26640e=a130_0x5d8e9f;Git[_0x26640e(0x172)][_0x26640e(0x153)](_0x26640e(0x16d),_0x4ed29f);const _0x1a3c70=await utils_2[_0x26640e(0x170)]['spawnPromise']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x4ed29f,'');return{'author':(0x0,internal_utils_1[_0x26640e(0x14e)])(_0x1a3c70),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x1a3c70),'message':(0x0,internal_utils_1[_0x26640e(0x17a)])(_0x1a3c70),'changes':(0x0,internal_utils_1[_0x26640e(0x15f)])(_0x1a3c70)};}static async[a130_0x5d8e9f(0x190)](_0x19514d,_0x4c8eab){const _0x4fe9a0=a130_0x5d8e9f,[_0x4b5308]=await utils_2['ChildProcessUtils'][_0x4fe9a0(0x158)](_0x4fe9a0(0x17e)+_0x19514d+'\x20'+_0x4c8eab+_0x4fe9a0(0x15a),'')[_0x4fe9a0(0x19c)](_0x1d9ce7=>_0x1d9ce7[_0x4fe9a0(0x164)](/\s/g,'\x20')[_0x4fe9a0(0x169)]('\x20'));return _0x4b5308;}static async[a130_0x5d8e9f(0x16b)](_0x3eeb15,_0x27cc36,_0x4436a6){const _0x55d431=a130_0x5d8e9f,_0x542f6d=path_1[_0x55d431(0x149)]['join'](this[_0x55d431(0x192)],_0x27cc36),_0x41169d=new Git(_0x542f6d);return Git[_0x55d431(0x172)][_0x55d431(0x153)](_0x55d431(0x147),_0x4436a6,_0x542f6d),await fs_internal_1['FS'][_0x55d431(0x176)](_0x542f6d),await utils_2[_0x55d431(0x170)]['spawnPromise']('git\x20clone\x20-b\x20'+_0x4436a6+'\x20--single-branch\x20'+_0x3eeb15+'\x20'+_0x542f6d,''),_0x41169d;}static async[a130_0x5d8e9f(0x193)](_0x429ad7,_0x3071f6){const _0x536f81=a130_0x5d8e9f,_0x23e97a=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x2eaf8e=_0x429ad7[_0x536f81(0x17c)][_0x536f81(0x164)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x536f81(0x151)])(_0x429ad7[_0x536f81(0x17c)])+_0x536f81(0x162)+_0x3071f6[_0x536f81(0x14a)]()+'@'),_0x3a5028=await utils_2['ChildProcessUtils'][_0x536f81(0x158)]('git\x20ls-remote\x20'+_0x2eaf8e,'');return _0x3a5028[_0x536f81(0x169)]('\x0a')[_0x536f81(0x156)](_0x4d4826=>_0x23e97a['test'](_0x4d4826))['map'](_0x51cb76=>{const _0x5e12ad=_0x536f81,[,_0x3d466b,_0x2714c2]=_0x51cb76[_0x5e12ad(0x15e)](_0x23e97a),_0x3b2086=new branch_dto_1[(_0x5e12ad(0x174))]();return _0x3b2086[_0x5e12ad(0x185)]=_0x3d466b,_0x3b2086[_0x5e12ad(0x177)]=_0x2714c2[_0x5e12ad(0x164)](_0x5e12ad(0x152),''),_0x3b2086;});}static async[a130_0x5d8e9f(0x18d)](_0x1145a4,_0x3a8e18,_0xaddbcb,_0x55d68b){const _0x672d9c=a130_0x5d8e9f,_0x507d5d=_0x1145a4['gitUrl']['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x672d9c(0x151)])(_0x1145a4[_0x672d9c(0x17c)])+_0x672d9c(0x162)+_0x55d68b[_0x672d9c(0x14a)]()+'@'),_0x2a7217=path_1['default'][_0x672d9c(0x15c)](this['DEFAULT_CLONE_PATH'],_0x1145a4[_0x672d9c(0x177)]);Git['logger'][_0x672d9c(0x153)](_0x672d9c(0x14d),_0x1145a4[_0x672d9c(0x177)],_0x3a8e18,_0x2a7217),await fs_internal_1['FS'][_0x672d9c(0x176)](_0x2a7217),await fs_internal_1['FS']['makeDir'](_0x2a7217);const _0x2e7770=new Git(_0x2a7217);await utils_2[_0x672d9c(0x170)][_0x672d9c(0x158)](_0x672d9c(0x17f)+_0x2e7770[_0x672d9c(0x161)]+_0x672d9c(0x148),''),await utils_2[_0x672d9c(0x170)]['spawnPromise'](_0x672d9c(0x17f)+_0x2e7770[_0x672d9c(0x161)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x507d5d,''),await _0x2e7770['setCredentials'](constants_1[_0x672d9c(0x15b)],constants_1[_0x672d9c(0x167)]),await utils_2[_0x672d9c(0x170)][_0x672d9c(0x158)](_0x672d9c(0x17f)+_0x2e7770[_0x672d9c(0x161)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x3a8e18,''),await utils_2['ChildProcessUtils'][_0x672d9c(0x158)](_0x672d9c(0x17f)+_0x2e7770['baseDir']+_0x672d9c(0x184)+(_0xaddbcb||constants_1[_0x672d9c(0x18e)])+_0x672d9c(0x14c),''),await _0x2e7770[_0x672d9c(0x183)](_0x3a8e18),Git[_0x672d9c(0x172)][_0x672d9c(0x153)](_0x672d9c(0x181)),await fs_internal_1['FS']['removeDir'](_0x2e7770[_0x672d9c(0x161)]);}}exports[a130_0x5d8e9f(0x146)]=Git,Git[a130_0x5d8e9f(0x192)]=path_1[a130_0x5d8e9f(0x149)][a130_0x5d8e9f(0x15c)](process[a130_0x5d8e9f(0x179)](),a130_0x5d8e9f(0x175),a130_0x5d8e9f(0x17b)),Git[a130_0x5d8e9f(0x172)]=new core_1['Logger'](Git[a130_0x5d8e9f(0x177)]);