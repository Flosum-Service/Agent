const a126_0x1ec709=a126_0x4b62;function a126_0x4b62(_0x126f7a,_0x5a46ed){const _0x63813c=a126_0x1d78();return a126_0x4b62=function(_0x26180b,_0x42c4be){_0x26180b=_0x26180b-0xb9;let _0x1d7878=_0x63813c[_0x26180b];return _0x1d7878;},a126_0x4b62(_0x126f7a,_0x5a46ed);}(function(_0x42e37d,_0x546157){const _0x265c44=a126_0x4b62,_0x4f4a92=_0x42e37d();while(!![]){try{const _0x305cb4=parseInt(_0x265c44(0xfb))/0x1*(parseInt(_0x265c44(0x10d))/0x2)+parseInt(_0x265c44(0xc0))/0x3+parseInt(_0x265c44(0xe4))/0x4+-parseInt(_0x265c44(0xf8))/0x5+parseInt(_0x265c44(0xfd))/0x6*(-parseInt(_0x265c44(0xfa))/0x7)+parseInt(_0x265c44(0xc4))/0x8+parseInt(_0x265c44(0xe5))/0x9*(-parseInt(_0x265c44(0xe9))/0xa);if(_0x305cb4===_0x546157)break;else _0x4f4a92['push'](_0x4f4a92['shift']());}catch(_0x4923f1){_0x4f4a92['push'](_0x4f4a92['shift']());}}}(a126_0x1d78,0x6ea91));function a126_0x1d78(){const _0x5bb892=['filter','join','getRepositoryBranches','baseDir','getRemoteHash','spawnPromise','../../../constants','76116wUHeHs','gitUrl','default','log','search','logger','add','\x20--refs','_repoPath','__esModule','.temp','1055583CiPSzm','test','Logger','apply','3419976dJNncz','\x20--quiet','getCurrentHash','name','DEFAULT_CLONE_PATH','\x20&&\x20git\x20init','git\x20ls-remote\x20','createEmptyBranch','constructor','checkout\x20to\x20%s','./internal.utils','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','describeCommit','git','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','cwd','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20status','../../shared/utils','extractChangesFromCommitDescribe','getProtocol','__importDefault','status','\x20&&\x20git\x20remote\x20add\x20origin\x20','../../../core','\x20&&\x20git\x20rev-parse\x20HEAD','push','setCredentials','Git','clone\x20repository\x20branch\x20%s\x20to\x20%s','checkout','describe\x20commit\x20%s','642664fmUkJS','1191843NkUHCj','match','cd\x20','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','30udNrtT','INITIAL_COMMIT','git\x20clone\x20-b\x20','path','ChildProcessUtils','DEFAULT_GIT_USER_EMAIL','@flosum/utils','\x20&&\x20git\x20add\x20','then','(((.+)+)+)+$','toString','\x20&&\x20git\x20commit\x20-m\x20\x22','://','removeDir','refs/heads/','2796455QDAVHf','replace','7xCfepP','14HGfoAk','./fs.internal','377994brRqCd','split','BranchDto','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','makeDir','\x20--single-branch\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','clone','getGitShellAuthorizationString'];a126_0x1d78=function(){return _0x5bb892;};return a126_0x1d78();}const a126_0x42c4be=(function(){let _0x431fe6=!![];return function(_0x3e5ff3,_0x526531){const _0x1d7f85=_0x431fe6?function(){const _0x421416=a126_0x4b62;if(_0x526531){const _0xa9b63=_0x526531[_0x421416(0xc3)](_0x3e5ff3,arguments);return _0x526531=null,_0xa9b63;}}:function(){};return _0x431fe6=![],_0x1d7f85;};}()),a126_0x26180b=a126_0x42c4be(this,function(){const _0x1e8b14=a126_0x4b62;return a126_0x26180b[_0x1e8b14(0xf3)]()[_0x1e8b14(0xb9)](_0x1e8b14(0xf2))[_0x1e8b14(0xf3)]()[_0x1e8b14(0xcc)](a126_0x26180b)[_0x1e8b14(0xb9)](_0x1e8b14(0xf2));});a126_0x26180b();'use strict';var __importDefault=this&&this[a126_0x1ec709(0xd9)]||function(_0x24b051){const _0x4ea9d3=a126_0x1ec709;return _0x24b051&&_0x24b051[_0x4ea9d3(0xbe)]?_0x24b051:{'default':_0x24b051};};Object['defineProperty'](exports,a126_0x1ec709(0xbe),{'value':!![]}),exports[a126_0x1ec709(0xe0)]=void 0x0;const constants_1=require(a126_0x1ec709(0x10c)),core_1=require(a126_0x1ec709(0xdc)),path_1=__importDefault(require(a126_0x1ec709(0xec))),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a126_0x1ec709(0xd6)),fs_internal_1=require(a126_0x1ec709(0xfc)),internal_utils_1=require(a126_0x1ec709(0xce)),utils_2=require(a126_0x1ec709(0xef));class Git{constructor(_0x2b7242){const _0x516aa8=a126_0x1ec709;this[_0x516aa8(0xbd)]=_0x2b7242;}get[a126_0x1ec709(0x109)](){return this['_repoPath'];}async[a126_0x1ec709(0xdf)](_0x3e97ba,_0x398b31){const _0x17d543=a126_0x1ec709;await utils_2[_0x17d543(0xed)][_0x17d543(0x10b)](_0x17d543(0xe7)+this['_repoPath']+_0x17d543(0xd2)+_0x3e97ba+_0x17d543(0x103)+_0x398b31+'\x22','');}async[a126_0x1ec709(0xbb)](..._0x4fd911){const _0x42b347=a126_0x1ec709;await utils_2['ChildProcessUtils']['spawnPromise'](_0x42b347(0xe7)+this[_0x42b347(0xbd)]+_0x42b347(0xf0)+_0x4fd911['join']('\x20'),'');}async[a126_0x1ec709(0xda)](){const _0x338cbb=a126_0x1ec709;return utils_2[_0x338cbb(0xed)][_0x338cbb(0x10b)](_0x338cbb(0xe7)+this[_0x338cbb(0xbd)]+_0x338cbb(0xd5),'');}async['commit'](_0x1e2c8b){const _0xd635c2=a126_0x1ec709;Git[_0xd635c2(0xba)]['log'](_0xd635c2(0xd4),_0x1e2c8b),await utils_2[_0xd635c2(0xed)][_0xd635c2(0x10b)]('cd\x20'+this[_0xd635c2(0xbd)]+_0xd635c2(0xf4)+_0x1e2c8b+'\x22','');}async[a126_0x1ec709(0xde)](_0x227d2b){const _0x26da74=a126_0x1ec709;Git[_0x26da74(0xba)][_0x26da74(0x110)]('push\x20changes\x20to\x20%s',_0x227d2b),await utils_2[_0x26da74(0xed)]['spawnPromise'](_0x26da74(0xe7)+this[_0x26da74(0xbd)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x227d2b+_0x26da74(0xc5),'');}async[a126_0x1ec709(0xe2)](_0xd59535){const _0x33132c=a126_0x1ec709;Git[_0x33132c(0xba)][_0x33132c(0x110)](_0x33132c(0xcd),_0xd59535),await utils_2[_0x33132c(0xed)][_0x33132c(0x10b)](_0x33132c(0xe7)+this[_0x33132c(0xbd)]+'\x20&&\x20git\x20checkout\x20'+_0xd59535,'');}async[a126_0x1ec709(0xc6)](){const _0x2183ab=a126_0x1ec709,_0x2fc1cc=await utils_2[_0x2183ab(0xed)][_0x2183ab(0x10b)](_0x2183ab(0xe7)+this[_0x2183ab(0xbd)]+_0x2183ab(0xdd),'');return _0x2fc1cc['replace']('\x0a','');}async[a126_0x1ec709(0xd0)](_0x555d81){const _0x52d07f=a126_0x1ec709;Git[_0x52d07f(0xba)][_0x52d07f(0x110)](_0x52d07f(0xe3),_0x555d81);const _0x3a9dd9=await utils_2[_0x52d07f(0xed)][_0x52d07f(0x10b)]('cd\x20'+this[_0x52d07f(0xbd)]+_0x52d07f(0x100)+_0x555d81,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x3a9dd9),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x3a9dd9),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x3a9dd9),'changes':(0x0,internal_utils_1[_0x52d07f(0xd7)])(_0x3a9dd9)};}static async[a126_0x1ec709(0x10a)](_0x1acbe4,_0x58bc8f){const _0x11ec31=a126_0x1ec709,[_0x15d622]=await utils_2['ChildProcessUtils'][_0x11ec31(0x10b)](_0x11ec31(0xca)+_0x1acbe4+'\x20'+_0x58bc8f+_0x11ec31(0xbc),'')[_0x11ec31(0xf1)](_0x1400dd=>_0x1400dd[_0x11ec31(0xf9)](/\s/g,'\x20')['split']('\x20'));return _0x15d622;}static async[a126_0x1ec709(0x104)](_0x40a765,_0x1cf6a0,_0x3324e7){const _0x563388=a126_0x1ec709,_0x4d8d38=path_1[_0x563388(0x10f)]['join'](this['DEFAULT_CLONE_PATH'],_0x1cf6a0),_0x4d3a20=new Git(_0x4d8d38);return Git[_0x563388(0xba)]['log'](_0x563388(0xe1),_0x3324e7,_0x4d8d38),await fs_internal_1['FS'][_0x563388(0xf6)](_0x4d8d38),await utils_2[_0x563388(0xed)]['spawnPromise'](_0x563388(0xeb)+_0x3324e7+_0x563388(0x102)+_0x40a765+'\x20'+_0x4d8d38,''),_0x4d3a20;}static async[a126_0x1ec709(0x108)](_0x2a2b4d,_0x58d7e8){const _0x20ae77=a126_0x1ec709,_0x5171d3=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x158f49=_0x2a2b4d[_0x20ae77(0x10e)][_0x20ae77(0xf9)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x20ae77(0xd8)])(_0x2a2b4d[_0x20ae77(0x10e)])+'://'+_0x58d7e8[_0x20ae77(0x105)]()+'@'),_0x160c80=await utils_2[_0x20ae77(0xed)][_0x20ae77(0x10b)](_0x20ae77(0xca)+_0x158f49,'');return _0x160c80[_0x20ae77(0xfe)]('\x0a')[_0x20ae77(0x106)](_0x40ac8b=>_0x5171d3[_0x20ae77(0xc1)](_0x40ac8b))['map'](_0x2bef44=>{const _0x385caa=_0x20ae77,[,_0x282a36,_0xf5c2a6]=_0x2bef44[_0x385caa(0xe6)](_0x5171d3),_0x41b049=new branch_dto_1[(_0x385caa(0xff))]();return _0x41b049['sha']=_0x282a36,_0x41b049[_0x385caa(0xc7)]=_0xf5c2a6['replace'](_0x385caa(0xf7),''),_0x41b049;});}static async[a126_0x1ec709(0xcb)](_0x496918,_0x3570bc,_0x47ee45,_0x7f65b8){const _0x466ac3=a126_0x1ec709,_0x4026f1=_0x496918[_0x466ac3(0x10e)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x466ac3(0xd8)])(_0x496918[_0x466ac3(0x10e)])+_0x466ac3(0xf5)+_0x7f65b8[_0x466ac3(0x105)]()+'@'),_0x3c9b01=path_1[_0x466ac3(0x10f)]['join'](this[_0x466ac3(0xc8)],_0x496918['name']);Git[_0x466ac3(0xba)]['log'](_0x466ac3(0xcf),_0x496918[_0x466ac3(0xc7)],_0x3570bc,_0x3c9b01),await fs_internal_1['FS'][_0x466ac3(0xf6)](_0x3c9b01),await fs_internal_1['FS'][_0x466ac3(0x101)](_0x3c9b01);const _0x2c2eca=new Git(_0x3c9b01);await utils_2[_0x466ac3(0xed)][_0x466ac3(0x10b)](_0x466ac3(0xe7)+_0x2c2eca['baseDir']+_0x466ac3(0xc9),''),await utils_2[_0x466ac3(0xed)][_0x466ac3(0x10b)]('cd\x20'+_0x2c2eca['baseDir']+_0x466ac3(0xdb)+_0x4026f1,''),await _0x2c2eca[_0x466ac3(0xdf)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x466ac3(0xee)]),await utils_2[_0x466ac3(0xed)][_0x466ac3(0x10b)](_0x466ac3(0xe7)+_0x2c2eca[_0x466ac3(0x109)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x3570bc,''),await utils_2[_0x466ac3(0xed)][_0x466ac3(0x10b)](_0x466ac3(0xe7)+_0x2c2eca['baseDir']+_0x466ac3(0xf4)+(_0x47ee45||constants_1[_0x466ac3(0xea)])+'\x22\x20--allow-empty',''),await _0x2c2eca[_0x466ac3(0xde)](_0x3570bc),Git['logger'][_0x466ac3(0x110)](_0x466ac3(0xe8)),await fs_internal_1['FS']['removeDir'](_0x2c2eca[_0x466ac3(0x109)]);}}exports[a126_0x1ec709(0xe0)]=Git,Git[a126_0x1ec709(0xc8)]=path_1['default'][a126_0x1ec709(0x107)](process[a126_0x1ec709(0xd3)](),a126_0x1ec709(0xbf),a126_0x1ec709(0xd1)),Git[a126_0x1ec709(0xba)]=new core_1[(a126_0x1ec709(0xc2))](Git['name']);