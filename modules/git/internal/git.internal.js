const a125_0x3f7867=a125_0x5f2d;(function(_0x411a8b,_0x1fec5f){const _0x3b9fc1=a125_0x5f2d,_0x1102a9=_0x411a8b();while(!![]){try{const _0x52bcc6=parseInt(_0x3b9fc1(0x118))/0x1+parseInt(_0x3b9fc1(0x116))/0x2*(-parseInt(_0x3b9fc1(0x13a))/0x3)+-parseInt(_0x3b9fc1(0xfa))/0x4*(-parseInt(_0x3b9fc1(0xfb))/0x5)+-parseInt(_0x3b9fc1(0xf4))/0x6+parseInt(_0x3b9fc1(0x11b))/0x7+parseInt(_0x3b9fc1(0x13d))/0x8*(parseInt(_0x3b9fc1(0x127))/0x9)+-parseInt(_0x3b9fc1(0xf9))/0xa*(-parseInt(_0x3b9fc1(0x11d))/0xb);if(_0x52bcc6===_0x1fec5f)break;else _0x1102a9['push'](_0x1102a9['shift']());}catch(_0x56e52a){_0x1102a9['push'](_0x1102a9['shift']());}}}(a125_0x1a64,0xb65fa));const a125_0x3cfbae=(function(){let _0x22efa5=!![];return function(_0x232e1b,_0x1d71b8){const _0x2cd8e4=_0x22efa5?function(){const _0x2166e4=a125_0x5f2d;if(_0x1d71b8){const _0x34d600=_0x1d71b8[_0x2166e4(0x11e)](_0x232e1b,arguments);return _0x1d71b8=null,_0x34d600;}}:function(){};return _0x22efa5=![],_0x2cd8e4;};}()),a125_0x39d8d6=a125_0x3cfbae(this,function(){const _0x2ce54c=a125_0x5f2d;return a125_0x39d8d6[_0x2ce54c(0x11c)]()[_0x2ce54c(0xfc)]('(((.+)+)+)+$')[_0x2ce54c(0x11c)]()[_0x2ce54c(0x122)](a125_0x39d8d6)[_0x2ce54c(0xfc)](_0x2ce54c(0x139));});a125_0x39d8d6();'use strict';var __importDefault=this&&this[a125_0x3f7867(0x113)]||function(_0x2248cc){return _0x2248cc&&_0x2248cc['__esModule']?_0x2248cc:{'default':_0x2248cc};};function a125_0x1a64(){const _0x54ab4f=['push','1490560UibDkA','12LLTBWO','888185AROmbK','search','__esModule','refs/heads/','spawnPromise','gitUrl','INITIAL_COMMIT','../../shared/utils','\x20&&\x20git\x20checkout\x20--orphan\x20','ChildProcessUtils','./fs.internal','../../../constants','\x20&&\x20git\x20status','\x20--refs','git','git\x20clone\x20-b\x20','\x20&&\x20git\x20checkout\x20','getRemoteHash','.temp','\x20&&\x20git\x20add\x20','extractAuthorFromCommitDescribe','://','match','@flosum/utils','__importDefault','clone','cwd','46lVdIwd','log','151483PJtEVp','getCurrentHash','commit\x20message\x20\x22%s\x22','1289743CQFnTK','toString','77QPLKEC','apply','removeDir','then','add','constructor','name','getRepositoryBranches','_repoPath','status','1422wDuZVS','push\x20changes\x20to\x20%s','defineProperty','default','makeDir','setCredentials','join','split','filter','describeCommit','checkout','checkout\x20to\x20%s','createEmptyBranch','getProtocol','DEFAULT_CLONE_PATH','sha','\x20--single-branch\x20','Git','(((.+)+)+)+$','169554zWFPwF','\x20&&\x20git\x20commit\x20-m\x20\x22','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','25136ZiQHTr','replace','git\x20ls-remote\x20','extractEmailFromCommitDescribe','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','./internal.utils','cd\x20','baseDir','describe\x20commit\x20%s','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','test','extractMessageFromCommitDescribe','2169330wavsvg','logger','\x22\x20--allow-empty','getGitShellAuthorizationString'];a125_0x1a64=function(){return _0x54ab4f;};return a125_0x1a64();}Object[a125_0x3f7867(0x129)](exports,a125_0x3f7867(0xfd),{'value':!![]}),exports[a125_0x3f7867(0x138)]=void 0x0;const constants_1=require(a125_0x3f7867(0x106)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require(a125_0x3f7867(0x102)),fs_internal_1=require(a125_0x3f7867(0x105)),internal_utils_1=require(a125_0x3f7867(0x142)),utils_2=require(a125_0x3f7867(0x112));function a125_0x5f2d(_0x231379,_0x3d2640){const _0x2424b5=a125_0x1a64();return a125_0x5f2d=function(_0x39d8d6,_0x3cfbae){_0x39d8d6=_0x39d8d6-0xee;let _0x1a64d6=_0x2424b5[_0x39d8d6];return _0x1a64d6;},a125_0x5f2d(_0x231379,_0x3d2640);}class Git{constructor(_0x20ff12){const _0x33ac73=a125_0x3f7867;this[_0x33ac73(0x125)]=_0x20ff12;}get['baseDir'](){return this['_repoPath'];}async[a125_0x3f7867(0x12c)](_0x1c81d2,_0x5b4677){const _0x54d56a=a125_0x3f7867;await utils_2[_0x54d56a(0x104)][_0x54d56a(0xff)](_0x54d56a(0xee)+this[_0x54d56a(0x125)]+_0x54d56a(0xf1)+_0x1c81d2+_0x54d56a(0x141)+_0x5b4677+'\x22','');}async[a125_0x3f7867(0x121)](..._0xa42886){const _0x56768b=a125_0x3f7867;await utils_2['ChildProcessUtils'][_0x56768b(0xff)]('cd\x20'+this[_0x56768b(0x125)]+_0x56768b(0x10e)+_0xa42886[_0x56768b(0x12d)]('\x20'),'');}async[a125_0x3f7867(0x126)](){const _0x524c2f=a125_0x3f7867;return utils_2['ChildProcessUtils'][_0x524c2f(0xff)]('cd\x20'+this[_0x524c2f(0x125)]+_0x524c2f(0x107),'');}async['commit'](_0x42fee9){const _0x1b77a4=a125_0x3f7867;Git[_0x1b77a4(0xf5)][_0x1b77a4(0x117)](_0x1b77a4(0x11a),_0x42fee9),await utils_2['ChildProcessUtils']['spawnPromise'](_0x1b77a4(0xee)+this[_0x1b77a4(0x125)]+_0x1b77a4(0x13b)+_0x42fee9+'\x22','');}async[a125_0x3f7867(0xf8)](_0x5d2a3e){const _0x481f02=a125_0x3f7867;Git['logger'][_0x481f02(0x117)](_0x481f02(0x128),_0x5d2a3e),await utils_2['ChildProcessUtils'][_0x481f02(0xff)](_0x481f02(0xee)+this[_0x481f02(0x125)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x5d2a3e+'\x20--quiet','');}async[a125_0x3f7867(0x131)](_0x397232){const _0x4dbe56=a125_0x3f7867;Git[_0x4dbe56(0xf5)]['log'](_0x4dbe56(0x132),_0x397232),await utils_2['ChildProcessUtils'][_0x4dbe56(0xff)](_0x4dbe56(0xee)+this[_0x4dbe56(0x125)]+_0x4dbe56(0x10b)+_0x397232,'');}async[a125_0x3f7867(0x119)](){const _0x26098c=a125_0x3f7867,_0x5cfc54=await utils_2[_0x26098c(0x104)][_0x26098c(0xff)]('cd\x20'+this[_0x26098c(0x125)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x5cfc54[_0x26098c(0x13e)]('\x0a','');}async[a125_0x3f7867(0x130)](_0x535b01){const _0x26632b=a125_0x3f7867;Git['logger'][_0x26632b(0x117)](_0x26632b(0xf0),_0x535b01);const _0x5d93c5=await utils_2[_0x26632b(0x104)][_0x26632b(0xff)](_0x26632b(0xee)+this['_repoPath']+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x535b01,'');return{'author':(0x0,internal_utils_1[_0x26632b(0x10f)])(_0x5d93c5),'email':(0x0,internal_utils_1[_0x26632b(0x140)])(_0x5d93c5),'message':(0x0,internal_utils_1[_0x26632b(0xf3)])(_0x5d93c5),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x5d93c5)};}static async[a125_0x3f7867(0x10c)](_0x1c291d,_0x2025bf){const _0x5dfaf3=a125_0x3f7867,[_0x455890]=await utils_2[_0x5dfaf3(0x104)][_0x5dfaf3(0xff)](_0x5dfaf3(0x13f)+_0x1c291d+'\x20'+_0x2025bf+_0x5dfaf3(0x108),'')[_0x5dfaf3(0x120)](_0x470ff0=>_0x470ff0['replace'](/\s/g,'\x20')[_0x5dfaf3(0x12e)]('\x20'));return _0x455890;}static async[a125_0x3f7867(0x114)](_0x2bb74e,_0x2d9ed0,_0x1d8821){const _0x23d824=a125_0x3f7867,_0x3eb05c=path_1['default'][_0x23d824(0x12d)](this['DEFAULT_CLONE_PATH'],_0x2d9ed0),_0x3df857=new Git(_0x3eb05c);return Git[_0x23d824(0xf5)][_0x23d824(0x117)]('clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x1d8821,_0x3eb05c),await fs_internal_1['FS']['removeDir'](_0x3eb05c),await utils_2['ChildProcessUtils'][_0x23d824(0xff)](_0x23d824(0x10a)+_0x1d8821+_0x23d824(0x137)+_0x2bb74e+'\x20'+_0x3eb05c,''),_0x3df857;}static async[a125_0x3f7867(0x124)](_0x367b4f,_0xdbc31c){const _0x24792c=a125_0x3f7867,_0x21e0cd=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x20524e=_0x367b4f['gitUrl'][_0x24792c(0x13e)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x24792c(0x134)])(_0x367b4f[_0x24792c(0x100)])+_0x24792c(0x110)+_0xdbc31c[_0x24792c(0xf7)]()+'@'),_0x8a877c=await utils_2['ChildProcessUtils'][_0x24792c(0xff)](_0x24792c(0x13f)+_0x20524e,'');return _0x8a877c[_0x24792c(0x12e)]('\x0a')[_0x24792c(0x12f)](_0x37487c=>_0x21e0cd[_0x24792c(0xf2)](_0x37487c))['map'](_0x374ecd=>{const _0x2ee49d=_0x24792c,[,_0x545356,_0x137702]=_0x374ecd[_0x2ee49d(0x111)](_0x21e0cd),_0x5e9f52=new branch_dto_1['BranchDto']();return _0x5e9f52[_0x2ee49d(0x136)]=_0x545356,_0x5e9f52[_0x2ee49d(0x123)]=_0x137702[_0x2ee49d(0x13e)](_0x2ee49d(0xfe),''),_0x5e9f52;});}static async[a125_0x3f7867(0x133)](_0x3c924c,_0x5ade63,_0x12d5d2,_0x27c28a){const _0xcf955e=a125_0x3f7867,_0x4b7448=_0x3c924c[_0xcf955e(0x100)][_0xcf955e(0x13e)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0xcf955e(0x134)])(_0x3c924c['gitUrl'])+_0xcf955e(0x110)+_0x27c28a[_0xcf955e(0xf7)]()+'@'),_0x1e2c35=path_1['default'][_0xcf955e(0x12d)](this['DEFAULT_CLONE_PATH'],_0x3c924c[_0xcf955e(0x123)]);Git[_0xcf955e(0xf5)]['log'](_0xcf955e(0x13c),_0x3c924c[_0xcf955e(0x123)],_0x5ade63,_0x1e2c35),await fs_internal_1['FS']['removeDir'](_0x1e2c35),await fs_internal_1['FS'][_0xcf955e(0x12b)](_0x1e2c35);const _0x5330f2=new Git(_0x1e2c35);await utils_2[_0xcf955e(0x104)][_0xcf955e(0xff)](_0xcf955e(0xee)+_0x5330f2[_0xcf955e(0xef)]+'\x20&&\x20git\x20init',''),await utils_2[_0xcf955e(0x104)][_0xcf955e(0xff)](_0xcf955e(0xee)+_0x5330f2[_0xcf955e(0xef)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x4b7448,''),await _0x5330f2[_0xcf955e(0x12c)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0xcf955e(0x104)]['spawnPromise'](_0xcf955e(0xee)+_0x5330f2[_0xcf955e(0xef)]+_0xcf955e(0x103)+_0x5ade63,''),await utils_2['ChildProcessUtils'][_0xcf955e(0xff)](_0xcf955e(0xee)+_0x5330f2[_0xcf955e(0xef)]+_0xcf955e(0x13b)+(_0x12d5d2||constants_1[_0xcf955e(0x101)])+_0xcf955e(0xf6),''),await _0x5330f2[_0xcf955e(0xf8)](_0x5ade63),Git[_0xcf955e(0xf5)][_0xcf955e(0x117)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0xcf955e(0x11f)](_0x5330f2[_0xcf955e(0xef)]);}}exports['Git']=Git,Git[a125_0x3f7867(0x135)]=path_1[a125_0x3f7867(0x12a)][a125_0x3f7867(0x12d)](process[a125_0x3f7867(0x115)](),a125_0x3f7867(0x10d),a125_0x3f7867(0x109)),Git[a125_0x3f7867(0xf5)]=new core_1['Logger'](Git[a125_0x3f7867(0x123)]);