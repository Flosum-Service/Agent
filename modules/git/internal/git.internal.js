const a82_0x356c29=a82_0x13f1;(function(_0x5b6313,_0x543b00){const _0x3f5904=a82_0x13f1,_0x10012b=_0x5b6313();while(!![]){try{const _0x37e26b=-parseInt(_0x3f5904(0x180))/0x1+parseInt(_0x3f5904(0x189))/0x2+-parseInt(_0x3f5904(0x14d))/0x3+parseInt(_0x3f5904(0x173))/0x4+-parseInt(_0x3f5904(0x16a))/0x5+-parseInt(_0x3f5904(0x143))/0x6+parseInt(_0x3f5904(0x185))/0x7;if(_0x37e26b===_0x543b00)break;else _0x10012b['push'](_0x10012b['shift']());}catch(_0x481887){_0x10012b['push'](_0x10012b['shift']());}}}(a82_0x499a,0xef29a));const a82_0x3db769=(function(){let _0xc7b9dd=!![];return function(_0x43d3f5,_0x1db3fc){const _0x15e57a=_0xc7b9dd?function(){if(_0x1db3fc){const _0x30b122=_0x1db3fc['apply'](_0x43d3f5,arguments);return _0x1db3fc=null,_0x30b122;}}:function(){};return _0xc7b9dd=![],_0x15e57a;};}()),a82_0x505dd0=a82_0x3db769(this,function(){const _0x5a72fd=a82_0x13f1;return a82_0x505dd0['toString']()['search'](_0x5a72fd(0x188))[_0x5a72fd(0x182)]()[_0x5a72fd(0x178)](a82_0x505dd0)[_0x5a72fd(0x13e)](_0x5a72fd(0x188));});a82_0x505dd0();'use strict';var __importDefault=this&&this[a82_0x356c29(0x176)]||function(_0xc0a206){const _0x403acf=a82_0x356c29;return _0xc0a206&&_0xc0a206[_0x403acf(0x168)]?_0xc0a206:{'default':_0xc0a206};};Object[a82_0x356c29(0x170)](exports,a82_0x356c29(0x168),{'value':!![]}),exports[a82_0x356c29(0x17f)]=void 0x0;function a82_0x13f1(_0xb041f0,_0x357a78){const _0x56ee6a=a82_0x499a();return a82_0x13f1=function(_0x505dd0,_0x3db769){_0x505dd0=_0x505dd0-0x13e;let _0x499a78=_0x56ee6a[_0x505dd0];return _0x499a78;},a82_0x13f1(_0xb041f0,_0x357a78);}const constants_1=require(a82_0x356c29(0x187)),core_1=require(a82_0x356c29(0x152)),path_1=__importDefault(require('path')),branch_dto_1=require('../providers/branches/dto/branch.dto'),utils_1=require('../../shared/utils'),fs_internal_1=require(a82_0x356c29(0x148)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a82_0x356c29(0x14e));function a82_0x499a(){const _0x56c4f5=['1693974Hltznc','log','refs/heads/','gitUrl','extractEmailFromCommitDescribe','./fs.internal','extractMessageFromCommitDescribe','getCurrentHash','clone','git\x20ls-remote\x20','1238676ImvaPM','./shell.internal','join','checkout\x20to\x20%s','match','../../../core','://','\x20&&\x20git\x20remote\x20add\x20origin\x20','DEFAULT_CLONE_PATH','INITIAL_COMMIT','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','git\x20clone\x20-b\x20','BranchDto','\x20&&\x20git\x20add\x20','_repoPath','exec','\x22\x20--allow-empty','extractAuthorFromCommitDescribe','status','getProtocol','push\x20changes\x20to\x20%s','\x20&&\x20git\x20commit\x20-m\x20\x22','split','\x20&&\x20git\x20status','name','filter','__esModule','test','1806370YMjYxz','.temp','commit','\x20&&\x20git\x20push\x20origin\x20','\x20&&\x20git\x20init','commit\x20message\x20\x22%s\x22','defineProperty','removeDir','setCredentials','3232664oOZfmX','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','Shell','__importDefault','makeDir','constructor','default','describeCommit','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','sha','then','\x20--single-branch\x20','Git','84256oXKaqO','baseDir','toString','replace','add','854413BhgNdS','cd\x20','../../../constants','(((.+)+)+)+$','2380272UfIPFl','describe\x20commit\x20%s','DEFAULT_GIT_USER_NAME','search','createEmptyBranch','logger','\x20&&\x20git\x20checkout\x20','cwd'];a82_0x499a=function(){return _0x56c4f5;};return a82_0x499a();}class Git{constructor(_0x35d2ae){this['_repoPath']=_0x35d2ae;}get[a82_0x356c29(0x181)](){const _0x2e32ff=a82_0x356c29;return this[_0x2e32ff(0x15c)];}async[a82_0x356c29(0x172)](_0x591838,_0x5cb022){const _0x521747=a82_0x356c29;await shell_internal_1[_0x521747(0x175)]['exec'](_0x521747(0x186)+this[_0x521747(0x15c)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x591838+_0x521747(0x157)+_0x5cb022+'\x22');}async[a82_0x356c29(0x184)](..._0x24c7df){const _0x392336=a82_0x356c29;await shell_internal_1['Shell'][_0x392336(0x15d)]('cd\x20'+this['_repoPath']+_0x392336(0x15b)+_0x24c7df[_0x392336(0x14f)]('\x20'));}async[a82_0x356c29(0x160)](){const _0x379119=a82_0x356c29;return shell_internal_1[_0x379119(0x175)][_0x379119(0x15d)]('cd\x20'+this[_0x379119(0x15c)]+_0x379119(0x165));}async[a82_0x356c29(0x16c)](_0x50eeb4){const _0x144019=a82_0x356c29;Git[_0x144019(0x140)]['log'](_0x144019(0x16f),_0x50eeb4),await shell_internal_1['Shell'][_0x144019(0x15d)]('cd\x20'+this[_0x144019(0x15c)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x50eeb4+'\x22');}async['push'](_0x353d25){const _0xfda63f=a82_0x356c29;Git[_0xfda63f(0x140)][_0xfda63f(0x144)](_0xfda63f(0x162),_0x353d25),await shell_internal_1[_0xfda63f(0x175)]['exec']('cd\x20'+this[_0xfda63f(0x15c)]+_0xfda63f(0x16d)+_0x353d25+'\x20--quiet');}async['checkout'](_0x580981){const _0x4541ff=a82_0x356c29;Git[_0x4541ff(0x140)]['log'](_0x4541ff(0x150),_0x580981),await shell_internal_1[_0x4541ff(0x175)][_0x4541ff(0x15d)](_0x4541ff(0x186)+this['_repoPath']+_0x4541ff(0x141)+_0x580981);}async[a82_0x356c29(0x14a)](){const _0x2a270d=a82_0x356c29,_0x434025=await shell_internal_1[_0x2a270d(0x175)][_0x2a270d(0x15d)](_0x2a270d(0x186)+this[_0x2a270d(0x15c)]+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x434025[_0x2a270d(0x183)]('\x0a','');}async[a82_0x356c29(0x17a)](_0x49cc5e){const _0x153911=a82_0x356c29;Git[_0x153911(0x140)][_0x153911(0x144)](_0x153911(0x18a),_0x49cc5e);const _0x194a0e=await shell_internal_1[_0x153911(0x175)]['exec'](_0x153911(0x186)+this[_0x153911(0x15c)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x49cc5e);return{'author':internal_utils_1[_0x153911(0x15f)](_0x194a0e),'email':internal_utils_1[_0x153911(0x147)](_0x194a0e),'message':internal_utils_1[_0x153911(0x149)](_0x194a0e),'changes':internal_utils_1['extractChangesFromCommitDescribe'](_0x194a0e)};}static async['getRemoteHash'](_0x1a8273,_0x106ff2){const _0x15e300=a82_0x356c29,[_0xf369b5]=await shell_internal_1[_0x15e300(0x175)]['exec'](_0x15e300(0x14c)+_0x1a8273+'\x20'+_0x106ff2+'\x20--refs')[_0x15e300(0x17d)](_0x3b1c5e=>_0x3b1c5e['replace'](/\s/g,'\x20')['split']('\x20'));return _0xf369b5;}static async[a82_0x356c29(0x14b)](_0x1b34eb,_0x692948,_0x1ab5a6){const _0x3dafc4=a82_0x356c29,_0x3eb227=path_1[_0x3dafc4(0x179)][_0x3dafc4(0x14f)](this[_0x3dafc4(0x155)],_0x692948),_0x2deaed=new Git(_0x3eb227);return Git[_0x3dafc4(0x140)][_0x3dafc4(0x144)](_0x3dafc4(0x158),_0x1ab5a6,_0x1b34eb,_0x3eb227),await fs_internal_1['FS']['removeDir'](_0x3eb227),await shell_internal_1[_0x3dafc4(0x175)][_0x3dafc4(0x15d)](_0x3dafc4(0x159)+_0x1ab5a6+_0x3dafc4(0x17e)+_0x1b34eb+'\x20'+_0x3eb227),_0x2deaed;}static async['getRepositoryBranches'](_0x5c0054,_0x1c10e8){const _0xb1ee05=a82_0x356c29,_0x185583=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x9e10ce=_0x5c0054['gitUrl'][_0xb1ee05(0x183)](/http(s)?\:\/\/(.+@)?/,utils_1[_0xb1ee05(0x161)](_0x5c0054[_0xb1ee05(0x146)])+_0xb1ee05(0x153)+_0x1c10e8['getGitShellAuthorizationString']()+'@'),_0x43d3e0=await shell_internal_1[_0xb1ee05(0x175)][_0xb1ee05(0x15d)](_0xb1ee05(0x14c)+_0x9e10ce),_0x26a33e=_0x43d3e0[_0xb1ee05(0x164)]('\x0a')[_0xb1ee05(0x167)](_0x11fe28=>_0x185583[_0xb1ee05(0x169)](_0x11fe28))['map'](_0x2560c0=>{const _0x23f87f=_0xb1ee05,[,_0x21218c,_0x501b9e]=_0x2560c0[_0x23f87f(0x151)](_0x185583),_0x454159=new branch_dto_1[(_0x23f87f(0x15a))]();return _0x454159[_0x23f87f(0x17c)]=_0x21218c,_0x454159[_0x23f87f(0x166)]=_0x501b9e[_0x23f87f(0x183)](_0x23f87f(0x145),''),_0x454159;});return _0x26a33e;}static async[a82_0x356c29(0x13f)](_0x2e721a,_0x7d06b0,_0x36c9d6,_0x288ad7){const _0x543018=a82_0x356c29,_0x1e2ff1=_0x2e721a['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x543018(0x161)](_0x2e721a[_0x543018(0x146)])+'://'+_0x288ad7['getGitShellAuthorizationString']()+'@'),_0x4570ab=path_1[_0x543018(0x179)][_0x543018(0x14f)](this[_0x543018(0x155)],_0x2e721a[_0x543018(0x166)]);Git['logger']['log'](_0x543018(0x17b),_0x2e721a[_0x543018(0x166)],_0x7d06b0,_0x4570ab,_0x1e2ff1),await fs_internal_1['FS'][_0x543018(0x171)](_0x4570ab),await fs_internal_1['FS'][_0x543018(0x177)](_0x4570ab);const _0x467ddb=new Git(_0x4570ab);await shell_internal_1[_0x543018(0x175)][_0x543018(0x15d)](_0x543018(0x186)+_0x467ddb[_0x543018(0x181)]+_0x543018(0x16e)),await shell_internal_1[_0x543018(0x175)]['exec'](_0x543018(0x186)+_0x467ddb['baseDir']+_0x543018(0x154)+_0x1e2ff1),await _0x467ddb['setCredentials'](constants_1[_0x543018(0x18b)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x543018(0x175)][_0x543018(0x15d)](_0x543018(0x186)+_0x467ddb[_0x543018(0x181)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x7d06b0),await shell_internal_1[_0x543018(0x175)][_0x543018(0x15d)](_0x543018(0x186)+_0x467ddb[_0x543018(0x181)]+_0x543018(0x163)+(_0x36c9d6||constants_1[_0x543018(0x156)])+_0x543018(0x15e)),await _0x467ddb['push'](_0x7d06b0),Git[_0x543018(0x140)][_0x543018(0x144)](_0x543018(0x174)),await fs_internal_1['FS'][_0x543018(0x171)](_0x467ddb['baseDir']);}}exports[a82_0x356c29(0x17f)]=Git,Git[a82_0x356c29(0x155)]=path_1[a82_0x356c29(0x179)][a82_0x356c29(0x14f)](process[a82_0x356c29(0x142)](),a82_0x356c29(0x16b),'git'),Git[a82_0x356c29(0x140)]=new core_1['Logger'](Git[a82_0x356c29(0x166)]);