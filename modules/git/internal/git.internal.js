const a126_0x240ec9=a126_0x5aa8;function a126_0x5aa8(_0x1025fd,_0xa2cb3){const _0xa74b7d=a126_0x5785();return a126_0x5aa8=function(_0x17bed2,_0x490079){_0x17bed2=_0x17bed2-0x1ba;let _0x5785c9=_0xa74b7d[_0x17bed2];return _0x5785c9;},a126_0x5aa8(_0x1025fd,_0xa2cb3);}(function(_0x58f585,_0x47e25d){const _0x35fe41=a126_0x5aa8,_0x462fff=_0x58f585();while(!![]){try{const _0x2898bf=parseInt(_0x35fe41(0x1c1))/0x1*(parseInt(_0x35fe41(0x1e9))/0x2)+-parseInt(_0x35fe41(0x1eb))/0x3+-parseInt(_0x35fe41(0x1bb))/0x4*(-parseInt(_0x35fe41(0x1e4))/0x5)+-parseInt(_0x35fe41(0x206))/0x6+parseInt(_0x35fe41(0x1ff))/0x7*(-parseInt(_0x35fe41(0x1ef))/0x8)+parseInt(_0x35fe41(0x1d8))/0x9*(-parseInt(_0x35fe41(0x1f4))/0xa)+-parseInt(_0x35fe41(0x201))/0xb*(-parseInt(_0x35fe41(0x1ed))/0xc);if(_0x2898bf===_0x47e25d)break;else _0x462fff['push'](_0x462fff['shift']());}catch(_0x2fe6cf){_0x462fff['push'](_0x462fff['shift']());}}}(a126_0x5785,0xe9cdd));const a126_0x490079=(function(){let _0x52605d=!![];return function(_0x2dafe4,_0x3a6c67){const _0x1ebd51=_0x52605d?function(){if(_0x3a6c67){const _0x1b6f74=_0x3a6c67['apply'](_0x2dafe4,arguments);return _0x3a6c67=null,_0x1b6f74;}}:function(){};return _0x52605d=![],_0x1ebd51;};}()),a126_0x17bed2=a126_0x490079(this,function(){const _0x24c2b2=a126_0x5aa8;return a126_0x17bed2[_0x24c2b2(0x1dc)]()[_0x24c2b2(0x20b)]('(((.+)+)+)+$')[_0x24c2b2(0x1dc)]()[_0x24c2b2(0x1c6)](a126_0x17bed2)['search'](_0x24c2b2(0x20f));});a126_0x17bed2();'use strict';var __importDefault=this&&this[a126_0x240ec9(0x1e6)]||function(_0xf7d0e7){const _0x2a4941=a126_0x240ec9;return _0xf7d0e7&&_0xf7d0e7[_0x2a4941(0x1f6)]?_0xf7d0e7:{'default':_0xf7d0e7};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a126_0x240ec9(0x1e2)]=void 0x0;function a126_0x5785(){const _0x43585a=['then','add','replace','constructor','sha','@flosum/utils','createEmptyBranch','setCredentials','default','join','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','push','./fs.internal','split','../providers/branches/dto/branch.dto','clone\x20repository\x20branch\x20%s\x20to\x20%s','getGitShellAuthorizationString','\x20&&\x20git\x20commit\x20-m\x20\x22','spawnPromise','\x20&&\x20git\x20push\x20origin\x20','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','18SgjCXR','getCurrentHash','DEFAULT_CLONE_PATH','git\x20ls-remote\x20','toString','ChildProcessUtils','../../../constants','\x20&&\x20git\x20rev-parse\x20HEAD','extractAuthorFromCommitDescribe','getProtocol','Git','\x20&&\x20git\x20status','5gSpxsL','INITIAL_COMMIT','__importDefault','\x20&&\x20git\x20add\x20','removeDir','2AGVqiR','://','959355mbTEze','\x20--refs','12BQYUWL','name','424DuuOmX','extractEmailFromCommitDescribe','push\x20changes\x20to\x20%s','checkout\x20to\x20%s','\x20&&\x20git\x20init','8719380FJBjMn','match','__esModule','Logger','getRemoteHash','logger','../../../core','cd\x20','clone','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','makeDir','46858VOsAnv','\x22\x20--allow-empty','16480255BVwKoY','log','path','extractMessageFromCommitDescribe','\x20&&\x20git\x20remote\x20add\x20origin\x20','75306cIPxlf','\x20&&\x20git\x20checkout\x20--orphan\x20','commit\x20message\x20\x22%s\x22','cwd','git','search','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','.temp','baseDir','(((.+)+)+)+$','status','\x20&&\x20git\x20checkout\x20','../../shared/utils','4017716YiunwK','DEFAULT_GIT_USER_EMAIL','\x20--single-branch\x20','./internal.utils','filter','gitUrl','886021OuPbwf','_repoPath'];a126_0x5785=function(){return _0x43585a;};return a126_0x5785();}const constants_1=require(a126_0x240ec9(0x1de)),core_1=require(a126_0x240ec9(0x1fa)),path_1=__importDefault(require(a126_0x240ec9(0x203))),branch_dto_1=require(a126_0x240ec9(0x1d1)),utils_1=require(a126_0x240ec9(0x1ba)),fs_internal_1=require(a126_0x240ec9(0x1cf)),internal_utils_1=require(a126_0x240ec9(0x1be)),utils_2=require(a126_0x240ec9(0x1c8));class Git{constructor(_0x475a92){this['_repoPath']=_0x475a92;}get[a126_0x240ec9(0x20e)](){return this['_repoPath'];}async[a126_0x240ec9(0x1ca)](_0x374724,_0x5b274a){const _0x9008ca=a126_0x240ec9;await utils_2[_0x9008ca(0x1dd)][_0x9008ca(0x1d5)](_0x9008ca(0x1fb)+this[_0x9008ca(0x1c2)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x374724+_0x9008ca(0x1cd)+_0x5b274a+'\x22','');}async[a126_0x240ec9(0x1c4)](..._0x1bd7bc){const _0x5c0e2f=a126_0x240ec9;await utils_2['ChildProcessUtils'][_0x5c0e2f(0x1d5)](_0x5c0e2f(0x1fb)+this[_0x5c0e2f(0x1c2)]+_0x5c0e2f(0x1e7)+_0x1bd7bc[_0x5c0e2f(0x1cc)]('\x20'),'');}async[a126_0x240ec9(0x210)](){const _0x311ca5=a126_0x240ec9;return utils_2[_0x311ca5(0x1dd)][_0x311ca5(0x1d5)]('cd\x20'+this['_repoPath']+_0x311ca5(0x1e3),'');}async['commit'](_0x1f45da){const _0x16b6e5=a126_0x240ec9;Git['logger'][_0x16b6e5(0x202)](_0x16b6e5(0x208),_0x1f45da),await utils_2[_0x16b6e5(0x1dd)]['spawnPromise']('cd\x20'+this[_0x16b6e5(0x1c2)]+_0x16b6e5(0x1d4)+_0x1f45da+'\x22','');}async[a126_0x240ec9(0x1ce)](_0x1b5c1f){const _0x3988bc=a126_0x240ec9;Git[_0x3988bc(0x1f9)][_0x3988bc(0x202)](_0x3988bc(0x1f1),_0x1b5c1f),await utils_2[_0x3988bc(0x1dd)][_0x3988bc(0x1d5)]('cd\x20'+this[_0x3988bc(0x1c2)]+_0x3988bc(0x1d6)+_0x1b5c1f+'\x20--quiet','');}async['checkout'](_0x56c1db){const _0x5b971b=a126_0x240ec9;Git[_0x5b971b(0x1f9)][_0x5b971b(0x202)](_0x5b971b(0x1f2),_0x56c1db),await utils_2['ChildProcessUtils']['spawnPromise'](_0x5b971b(0x1fb)+this['_repoPath']+_0x5b971b(0x211)+_0x56c1db,'');}async[a126_0x240ec9(0x1d9)](){const _0x38a13a=a126_0x240ec9,_0x239b3b=await utils_2['ChildProcessUtils']['spawnPromise'](_0x38a13a(0x1fb)+this[_0x38a13a(0x1c2)]+_0x38a13a(0x1df),'');return _0x239b3b['replace']('\x0a','');}async['describeCommit'](_0x561b7b){const _0x51cba5=a126_0x240ec9;Git[_0x51cba5(0x1f9)][_0x51cba5(0x202)]('describe\x20commit\x20%s',_0x561b7b);const _0x1b12c1=await utils_2[_0x51cba5(0x1dd)]['spawnPromise']('cd\x20'+this['_repoPath']+_0x51cba5(0x20c)+_0x561b7b,'');return{'author':(0x0,internal_utils_1[_0x51cba5(0x1e0)])(_0x1b12c1),'email':(0x0,internal_utils_1[_0x51cba5(0x1f0)])(_0x1b12c1),'message':(0x0,internal_utils_1[_0x51cba5(0x204)])(_0x1b12c1),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x1b12c1)};}static async[a126_0x240ec9(0x1f8)](_0x3a9880,_0x43e48c){const _0x4f2a89=a126_0x240ec9,[_0x6b72b4]=await utils_2[_0x4f2a89(0x1dd)][_0x4f2a89(0x1d5)](_0x4f2a89(0x1db)+_0x3a9880+'\x20'+_0x43e48c+_0x4f2a89(0x1ec),'')[_0x4f2a89(0x1c3)](_0x3e6fff=>_0x3e6fff[_0x4f2a89(0x1c5)](/\s/g,'\x20')['split']('\x20'));return _0x6b72b4;}static async[a126_0x240ec9(0x1fc)](_0x3cc45a,_0x2722aa,_0x3e840b){const _0x1693ae=a126_0x240ec9,_0x486e1=path_1[_0x1693ae(0x1cb)][_0x1693ae(0x1cc)](this[_0x1693ae(0x1da)],_0x2722aa),_0x4a0949=new Git(_0x486e1);return Git[_0x1693ae(0x1f9)][_0x1693ae(0x202)](_0x1693ae(0x1d2),_0x3e840b,_0x486e1),await fs_internal_1['FS'][_0x1693ae(0x1e8)](_0x486e1),await utils_2[_0x1693ae(0x1dd)][_0x1693ae(0x1d5)]('git\x20clone\x20-b\x20'+_0x3e840b+_0x1693ae(0x1bd)+_0x3cc45a+'\x20'+_0x486e1,''),_0x4a0949;}static async['getRepositoryBranches'](_0x115843,_0x6a84f9){const _0x341732=a126_0x240ec9,_0xfe4cfb=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x4edb5c=_0x115843[_0x341732(0x1c0)][_0x341732(0x1c5)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x341732(0x1e1)])(_0x115843[_0x341732(0x1c0)])+'://'+_0x6a84f9[_0x341732(0x1d3)]()+'@'),_0xaec6eb=await utils_2[_0x341732(0x1dd)][_0x341732(0x1d5)](_0x341732(0x1db)+_0x4edb5c,'');return _0xaec6eb[_0x341732(0x1d0)]('\x0a')[_0x341732(0x1bf)](_0x132e6f=>_0xfe4cfb['test'](_0x132e6f))['map'](_0x34117f=>{const _0xf34669=_0x341732,[,_0x1e89b1,_0x3e7456]=_0x34117f[_0xf34669(0x1f5)](_0xfe4cfb),_0x8576ac=new branch_dto_1['BranchDto']();return _0x8576ac[_0xf34669(0x1c7)]=_0x1e89b1,_0x8576ac[_0xf34669(0x1ee)]=_0x3e7456[_0xf34669(0x1c5)]('refs/heads/',''),_0x8576ac;});}static async[a126_0x240ec9(0x1c9)](_0x2814f2,_0x1eba28,_0x3f115a,_0xb70ba8){const _0x254248=a126_0x240ec9,_0x305aaf=_0x2814f2[_0x254248(0x1c0)][_0x254248(0x1c5)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x254248(0x1e1)])(_0x2814f2[_0x254248(0x1c0)])+_0x254248(0x1ea)+_0xb70ba8[_0x254248(0x1d3)]()+'@'),_0x29974a=path_1['default'][_0x254248(0x1cc)](this[_0x254248(0x1da)],_0x2814f2['name']);Git[_0x254248(0x1f9)]['log'](_0x254248(0x1fd),_0x2814f2[_0x254248(0x1ee)],_0x1eba28,_0x29974a),await fs_internal_1['FS'][_0x254248(0x1e8)](_0x29974a),await fs_internal_1['FS'][_0x254248(0x1fe)](_0x29974a);const _0x4ea586=new Git(_0x29974a);await utils_2[_0x254248(0x1dd)][_0x254248(0x1d5)](_0x254248(0x1fb)+_0x4ea586[_0x254248(0x20e)]+_0x254248(0x1f3),''),await utils_2[_0x254248(0x1dd)]['spawnPromise']('cd\x20'+_0x4ea586['baseDir']+_0x254248(0x205)+_0x305aaf,''),await _0x4ea586['setCredentials'](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x254248(0x1bc)]),await utils_2[_0x254248(0x1dd)][_0x254248(0x1d5)](_0x254248(0x1fb)+_0x4ea586['baseDir']+_0x254248(0x207)+_0x1eba28,''),await utils_2[_0x254248(0x1dd)][_0x254248(0x1d5)](_0x254248(0x1fb)+_0x4ea586[_0x254248(0x20e)]+_0x254248(0x1d4)+(_0x3f115a||constants_1[_0x254248(0x1e5)])+_0x254248(0x200),''),await _0x4ea586[_0x254248(0x1ce)](_0x1eba28),Git[_0x254248(0x1f9)][_0x254248(0x202)](_0x254248(0x1d7)),await fs_internal_1['FS']['removeDir'](_0x4ea586['baseDir']);}}exports['Git']=Git,Git['DEFAULT_CLONE_PATH']=path_1[a126_0x240ec9(0x1cb)][a126_0x240ec9(0x1cc)](process[a126_0x240ec9(0x209)](),a126_0x240ec9(0x20d),a126_0x240ec9(0x20a)),Git[a126_0x240ec9(0x1f9)]=new core_1[(a126_0x240ec9(0x1f7))](Git['name']);