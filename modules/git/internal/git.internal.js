const a125_0x59b77e=a125_0x175a;(function(_0x7d7504,_0x294927){const _0x10e2b7=a125_0x175a,_0x2043de=_0x7d7504();while(!![]){try{const _0x478c32=parseInt(_0x10e2b7(0xf2))/0x1*(parseInt(_0x10e2b7(0xdd))/0x2)+-parseInt(_0x10e2b7(0x116))/0x3+-parseInt(_0x10e2b7(0x117))/0x4+-parseInt(_0x10e2b7(0x10d))/0x5+parseInt(_0x10e2b7(0x104))/0x6*(parseInt(_0x10e2b7(0xf5))/0x7)+parseInt(_0x10e2b7(0x103))/0x8+parseInt(_0x10e2b7(0xd3))/0x9*(-parseInt(_0x10e2b7(0x106))/0xa);if(_0x478c32===_0x294927)break;else _0x2043de['push'](_0x2043de['shift']());}catch(_0x5a1c9e){_0x2043de['push'](_0x2043de['shift']());}}}(a125_0x390b,0x92a73));const a125_0x4df685=(function(){let _0x3049ce=!![];return function(_0x3284fc,_0x5c2c5b){const _0x3a477e=_0x3049ce?function(){const _0x9009fb=a125_0x175a;if(_0x5c2c5b){const _0x4a7764=_0x5c2c5b[_0x9009fb(0xce)](_0x3284fc,arguments);return _0x5c2c5b=null,_0x4a7764;}}:function(){};return _0x3049ce=![],_0x3a477e;};}()),a125_0xa68edc=a125_0x4df685(this,function(){const _0x176988=a125_0x175a;return a125_0xa68edc[_0x176988(0xfe)]()['search'](_0x176988(0xd2))[_0x176988(0xfe)]()[_0x176988(0xed)](a125_0xa68edc)[_0x176988(0xf6)]('(((.+)+)+)+$');});a125_0xa68edc();'use strict';var __importDefault=this&&this[a125_0x59b77e(0x10a)]||function(_0x2578de){const _0x1fde3e=a125_0x59b77e;return _0x2578de&&_0x2578de[_0x1fde3e(0x118)]?_0x2578de:{'default':_0x2578de};};Object[a125_0x59b77e(0x108)](exports,'__esModule',{'value':!![]}),exports['Git']=void 0x0;function a125_0x390b(){const _0x4595ec=['7882648abUrJV','24OUKJoJ','@flosum/utils','1158710NJNEXf','INITIAL_COMMIT','defineProperty','DEFAULT_CLONE_PATH','__importDefault','git\x20clone\x20-b\x20','../../../constants','86010wCmLTi','_repoPath','spawnPromise','removeDir','status','./internal.utils','\x20&&\x20git\x20checkout\x20--orphan\x20','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','name','3076572fvxKDd','1346012bzrUuG','__esModule','DEFAULT_GIT_USER_NAME','://','git\x20ls-remote\x20','ChildProcessUtils','clone','git','../../shared/utils','cd\x20','\x20--refs','apply','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','baseDir','DEFAULT_GIT_USER_EMAIL','(((.+)+)+)+$','27pzsLbL','getProtocol','logger','../providers/branches/dto/branch.dto','\x20--single-branch\x20','sha','makeDir','extractAuthorFromCommitDescribe','match','commit','694qQsfKz','gitUrl','extractEmailFromCommitDescribe','\x20&&\x20git\x20rev-parse\x20HEAD','join','then','describeCommit','\x20&&\x20git\x20add\x20','push','refs/heads/','getGitShellAuthorizationString','checkout','getRepositoryBranches','add','describe\x20commit\x20%s','BranchDto','constructor','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','log','\x22\x20--allow-empty','446zRbcVt','getRemoteHash','replace','2078020dHCaAu','search','./fs.internal','\x20--quiet','setCredentials','\x20&&\x20git\x20remote\x20add\x20origin\x20','filter','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20init','toString','push\x20changes\x20to\x20%s','cwd','getCurrentHash','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'];a125_0x390b=function(){return _0x4595ec;};return a125_0x390b();}const constants_1=require(a125_0x59b77e(0x10c)),core_1=require('../../../core'),path_1=__importDefault(require('path')),branch_dto_1=require(a125_0x59b77e(0xd6)),utils_1=require(a125_0x59b77e(0xcb)),fs_internal_1=require(a125_0x59b77e(0xf7)),internal_utils_1=require(a125_0x59b77e(0x112)),utils_2=require(a125_0x59b77e(0x105));class Git{constructor(_0x3a9640){const _0x4ed35a=a125_0x59b77e;this[_0x4ed35a(0x10e)]=_0x3a9640;}get[a125_0x59b77e(0xd0)](){const _0xe64d13=a125_0x59b77e;return this[_0xe64d13(0x10e)];}async[a125_0x59b77e(0xf9)](_0x494b35,_0x36677d){const _0x1d11ab=a125_0x59b77e;await utils_2[_0x1d11ab(0x11c)][_0x1d11ab(0x10f)]('cd\x20'+this[_0x1d11ab(0x10e)]+_0x1d11ab(0x114)+_0x494b35+_0x1d11ab(0xcf)+_0x36677d+'\x22','');}async[a125_0x59b77e(0xea)](..._0xc07e2){const _0xa6af2=a125_0x59b77e;await utils_2[_0xa6af2(0x11c)]['spawnPromise'](_0xa6af2(0xcc)+this[_0xa6af2(0x10e)]+_0xa6af2(0xe4)+_0xc07e2['join']('\x20'),'');}async[a125_0x59b77e(0x111)](){const _0x3e3549=a125_0x59b77e;return utils_2['ChildProcessUtils'][_0x3e3549(0x10f)](_0x3e3549(0xcc)+this[_0x3e3549(0x10e)]+'\x20&&\x20git\x20status','');}async[a125_0x59b77e(0xdc)](_0x5a317e){const _0x2bcf46=a125_0x59b77e;Git[_0x2bcf46(0xd5)]['log']('commit\x20message\x20\x22%s\x22',_0x5a317e),await utils_2[_0x2bcf46(0x11c)][_0x2bcf46(0x10f)](_0x2bcf46(0xcc)+this['_repoPath']+_0x2bcf46(0xfc)+_0x5a317e+'\x22','');}async[a125_0x59b77e(0xe5)](_0x3e025e){const _0x32b438=a125_0x59b77e;Git['logger']['log'](_0x32b438(0xff),_0x3e025e),await utils_2[_0x32b438(0x11c)][_0x32b438(0x10f)](_0x32b438(0xcc)+this[_0x32b438(0x10e)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x3e025e+_0x32b438(0xf8),'');}async[a125_0x59b77e(0xe8)](_0x16ef7e){const _0x476f13=a125_0x59b77e;Git['logger']['log']('checkout\x20to\x20%s',_0x16ef7e),await utils_2[_0x476f13(0x11c)][_0x476f13(0x10f)](_0x476f13(0xcc)+this['_repoPath']+'\x20&&\x20git\x20checkout\x20'+_0x16ef7e,'');}async[a125_0x59b77e(0x101)](){const _0xad7032=a125_0x59b77e,_0x273544=await utils_2[_0xad7032(0x11c)][_0xad7032(0x10f)](_0xad7032(0xcc)+this['_repoPath']+_0xad7032(0xe0),'');return _0x273544['replace']('\x0a','');}async[a125_0x59b77e(0xe3)](_0x3c0d44){const _0x463d36=a125_0x59b77e;Git[_0x463d36(0xd5)]['log'](_0x463d36(0xeb),_0x3c0d44);const _0x44e8bf=await utils_2[_0x463d36(0x11c)][_0x463d36(0x10f)](_0x463d36(0xcc)+this['_repoPath']+_0x463d36(0xee)+_0x3c0d44,'');return{'author':(0x0,internal_utils_1[_0x463d36(0xda)])(_0x44e8bf),'email':(0x0,internal_utils_1[_0x463d36(0xdf)])(_0x44e8bf),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x44e8bf),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x44e8bf)};}static async[a125_0x59b77e(0xf3)](_0x3db6a7,_0x3c9942){const _0x40c49e=a125_0x59b77e,[_0x3da7a5]=await utils_2[_0x40c49e(0x11c)][_0x40c49e(0x10f)]('git\x20ls-remote\x20'+_0x3db6a7+'\x20'+_0x3c9942+_0x40c49e(0xcd),'')[_0x40c49e(0xe2)](_0xa783e0=>_0xa783e0[_0x40c49e(0xf4)](/\s/g,'\x20')['split']('\x20'));return _0x3da7a5;}static async[a125_0x59b77e(0x11d)](_0x5402db,_0x5455d8,_0x25673a){const _0x26f643=a125_0x59b77e,_0xdf105e=path_1['default']['join'](this[_0x26f643(0x109)],_0x5455d8),_0x35ce83=new Git(_0xdf105e);return Git[_0x26f643(0xd5)]['log']('clone\x20repository\x20branch\x20%s\x20to\x20%s',_0x25673a,_0xdf105e),await fs_internal_1['FS']['removeDir'](_0xdf105e),await utils_2[_0x26f643(0x11c)][_0x26f643(0x10f)](_0x26f643(0x10b)+_0x25673a+_0x26f643(0xd7)+_0x5402db+'\x20'+_0xdf105e,''),_0x35ce83;}static async[a125_0x59b77e(0xe9)](_0x19ceec,_0x10495e){const _0x1c2b3e=a125_0x59b77e,_0xf6e2fc=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x51fdd6=_0x19ceec[_0x1c2b3e(0xde)][_0x1c2b3e(0xf4)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1c2b3e(0xd4)])(_0x19ceec['gitUrl'])+_0x1c2b3e(0x11a)+_0x10495e[_0x1c2b3e(0xe7)]()+'@'),_0x44c1a0=await utils_2[_0x1c2b3e(0x11c)]['spawnPromise'](_0x1c2b3e(0x11b)+_0x51fdd6,'');return _0x44c1a0['split']('\x0a')[_0x1c2b3e(0xfb)](_0x3e3ace=>_0xf6e2fc['test'](_0x3e3ace))['map'](_0x45205f=>{const _0x358c86=_0x1c2b3e,[,_0x290c49,_0x4b89e7]=_0x45205f[_0x358c86(0xdb)](_0xf6e2fc),_0x1b02e0=new branch_dto_1[(_0x358c86(0xec))]();return _0x1b02e0[_0x358c86(0xd8)]=_0x290c49,_0x1b02e0[_0x358c86(0x115)]=_0x4b89e7['replace'](_0x358c86(0xe6),''),_0x1b02e0;});}static async['createEmptyBranch'](_0x5d94c2,_0x5727b5,_0x19a105,_0xaa3648){const _0x257fc4=a125_0x59b77e,_0x3b9ac4=_0x5d94c2[_0x257fc4(0xde)][_0x257fc4(0xf4)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x5d94c2[_0x257fc4(0xde)])+_0x257fc4(0x11a)+_0xaa3648[_0x257fc4(0xe7)]()+'@'),_0x49f64e=path_1['default'][_0x257fc4(0xe1)](this[_0x257fc4(0x109)],_0x5d94c2[_0x257fc4(0x115)]);Git['logger'][_0x257fc4(0xf0)](_0x257fc4(0xef),_0x5d94c2['name'],_0x5727b5,_0x49f64e),await fs_internal_1['FS'][_0x257fc4(0x110)](_0x49f64e),await fs_internal_1['FS'][_0x257fc4(0xd9)](_0x49f64e);const _0x4b1c3c=new Git(_0x49f64e);await utils_2[_0x257fc4(0x11c)]['spawnPromise'](_0x257fc4(0xcc)+_0x4b1c3c[_0x257fc4(0xd0)]+_0x257fc4(0xfd),''),await utils_2[_0x257fc4(0x11c)][_0x257fc4(0x10f)](_0x257fc4(0xcc)+_0x4b1c3c[_0x257fc4(0xd0)]+_0x257fc4(0xfa)+_0x3b9ac4,''),await _0x4b1c3c[_0x257fc4(0xf9)](constants_1[_0x257fc4(0x119)],constants_1[_0x257fc4(0xd1)]),await utils_2['ChildProcessUtils'][_0x257fc4(0x10f)]('cd\x20'+_0x4b1c3c[_0x257fc4(0xd0)]+_0x257fc4(0x113)+_0x5727b5,''),await utils_2['ChildProcessUtils']['spawnPromise'](_0x257fc4(0xcc)+_0x4b1c3c[_0x257fc4(0xd0)]+_0x257fc4(0xfc)+(_0x19a105||constants_1[_0x257fc4(0x107)])+_0x257fc4(0xf1),''),await _0x4b1c3c[_0x257fc4(0xe5)](_0x5727b5),Git[_0x257fc4(0xd5)][_0x257fc4(0xf0)](_0x257fc4(0x102)),await fs_internal_1['FS'][_0x257fc4(0x110)](_0x4b1c3c[_0x257fc4(0xd0)]);}}function a125_0x175a(_0x82ffd0,_0x3f3419){const _0x2749fe=a125_0x390b();return a125_0x175a=function(_0xa68edc,_0x4df685){_0xa68edc=_0xa68edc-0xcb;let _0x390bd6=_0x2749fe[_0xa68edc];return _0x390bd6;},a125_0x175a(_0x82ffd0,_0x3f3419);}exports['Git']=Git,Git[a125_0x59b77e(0x109)]=path_1['default'][a125_0x59b77e(0xe1)](process[a125_0x59b77e(0x100)](),'.temp',a125_0x59b77e(0x11e)),Git[a125_0x59b77e(0xd5)]=new core_1['Logger'](Git['name']);