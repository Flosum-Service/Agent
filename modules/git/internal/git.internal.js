const a147_0xae8089=a147_0x3a74;function a147_0x3a74(_0x61098a,_0x105f2f){const _0x1a669a=a147_0x3bd3();return a147_0x3a74=function(_0x35d730,_0x345147){_0x35d730=_0x35d730-0x109;let _0x3bd3aa=_0x1a669a[_0x35d730];return _0x3bd3aa;},a147_0x3a74(_0x61098a,_0x105f2f);}(function(_0x2f983c,_0x22270f){const _0x44a440=a147_0x3a74,_0x16f90f=_0x2f983c();while(!![]){try{const _0x469a15=parseInt(_0x44a440(0x10d))/0x1*(-parseInt(_0x44a440(0x137))/0x2)+parseInt(_0x44a440(0x15a))/0x3+parseInt(_0x44a440(0x12f))/0x4+-parseInt(_0x44a440(0x150))/0x5+-parseInt(_0x44a440(0x144))/0x6+parseInt(_0x44a440(0x131))/0x7*(-parseInt(_0x44a440(0x138))/0x8)+parseInt(_0x44a440(0x10b))/0x9;if(_0x469a15===_0x22270f)break;else _0x16f90f['push'](_0x16f90f['shift']());}catch(_0x1538a0){_0x16f90f['push'](_0x16f90f['shift']());}}}(a147_0x3bd3,0x901af));const a147_0x345147=(function(){let _0x7505c9=!![];return function(_0x47b401,_0x158c03){const _0x118a9c=_0x7505c9?function(){if(_0x158c03){const _0x2d1880=_0x158c03['apply'](_0x47b401,arguments);return _0x158c03=null,_0x2d1880;}}:function(){};return _0x7505c9=![],_0x118a9c;};}()),a147_0x35d730=a147_0x345147(this,function(){const _0x2daa9d=a147_0x3a74;return a147_0x35d730['toString']()[_0x2daa9d(0x123)](_0x2daa9d(0x142))['toString']()['constructor'](a147_0x35d730)[_0x2daa9d(0x123)](_0x2daa9d(0x142));});function a147_0x3bd3(){const _0x423c7d=['gitUrl','Commit\x20message\x20\x22%s\x22','\x20--quiet','\x20&&\x20git\x20status','5293320AMYNhQ','\x20&&\x20git\x20commit\x20-m\x20\x22','removeDir','\x20--single-branch\x20','filter','setCredentials','\x20--refs','Clone\x20repository\x20branch\x20%s\x20to\x20%s','getGitShellAuthorizationString','_repoPath','1490160PmJoNz','getRepositoryBranches','createEmptyBranch','getProtocol','32765274gztkyU','split','463531HHozNu','BranchDto','ChildProcessUtils','./fs.internal','path','git','name','describeCommit','__importDefault','replace','cwd','\x20&&\x20git\x20push\x20origin\x20','extractEmailFromCommitDescribe','test','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','git\x20ls-remote\x20','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','cd\x20','__esModule','\x20&&\x20git\x20checkout\x20','logger','git\x20clone\x20-b\x20','search','DEFAULT_GIT_USER_NAME','join','extractChangesFromCommitDescribe','status','Git','@flosum/utils','://','DEFAULT_GIT_USER_EMAIL','push','\x20&&\x20git\x20rev-parse\x20HEAD','DEFAULT_CLONE_PATH','2214756OsecSZ','then','511ajVNlS','Describe\x20commit\x20%s','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','\x20&&\x20git\x20init','../../../constants','./internal.utils','4HplYtr','126200SkoXWw','Checkout\x20to\x20%s','\x20&&\x20git\x20add\x20','add','sha','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','Push\x20changes\x20to\x20%s','default','extractMessageFromCommitDescribe','INITIAL_COMMIT','(((.+)+)+)+$','baseDir','5780634UMtxEj','log','../../../core','\x22\x20--allow-empty','spawnPromise','../providers/branches/dto/branch.dto','clone','getCurrentHash'];a147_0x3bd3=function(){return _0x423c7d;};return a147_0x3bd3();}a147_0x35d730();'use strict';var __importDefault=this&&this[a147_0xae8089(0x115)]||function(_0x550945){const _0x17c84f=a147_0xae8089;return _0x550945&&_0x550945[_0x17c84f(0x11f)]?_0x550945:{'default':_0x550945};};Object['defineProperty'](exports,a147_0xae8089(0x11f),{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a147_0xae8089(0x135)),core_1=require(a147_0xae8089(0x146)),path_1=__importDefault(require(a147_0xae8089(0x111))),branch_dto_1=require(a147_0xae8089(0x149)),utils_1=require('../../shared/utils'),fs_internal_1=require(a147_0xae8089(0x110)),internal_utils_1=require(a147_0xae8089(0x136)),utils_2=require(a147_0xae8089(0x129));class Git{constructor(_0x2cac84){const _0x448ac7=a147_0xae8089;this[_0x448ac7(0x159)]=_0x2cac84;}get[a147_0xae8089(0x143)](){const _0x18251c=a147_0xae8089;return this[_0x18251c(0x159)];}async['setCredentials'](_0x5cb3da,_0x230cbf){const _0x4a8a31=a147_0xae8089;await utils_2['ChildProcessUtils'][_0x4a8a31(0x148)]('cd\x20'+this[_0x4a8a31(0x159)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x5cb3da+_0x4a8a31(0x11b)+_0x230cbf+'\x22','');}async[a147_0xae8089(0x13b)](..._0x10d1f2){const _0x1c47be=a147_0xae8089;await utils_2[_0x1c47be(0x10f)][_0x1c47be(0x148)](_0x1c47be(0x11e)+this[_0x1c47be(0x159)]+_0x1c47be(0x13a)+_0x10d1f2[_0x1c47be(0x125)]('\x20'),'');}async[a147_0xae8089(0x127)](){const _0xa7c9a2=a147_0xae8089;return utils_2[_0xa7c9a2(0x10f)][_0xa7c9a2(0x148)](_0xa7c9a2(0x11e)+this[_0xa7c9a2(0x159)]+_0xa7c9a2(0x14f),'');}async['commit'](_0x235e86){const _0x4340aa=a147_0xae8089;Git[_0x4340aa(0x121)][_0x4340aa(0x145)](_0x4340aa(0x14d),_0x235e86),await utils_2[_0x4340aa(0x10f)][_0x4340aa(0x148)]('cd\x20'+this[_0x4340aa(0x159)]+_0x4340aa(0x151)+_0x235e86+'\x22','');}async[a147_0xae8089(0x12c)](_0x25b3fc){const _0x5196d8=a147_0xae8089;Git['logger']['log'](_0x5196d8(0x13e),_0x25b3fc),await utils_2[_0x5196d8(0x10f)]['spawnPromise'](_0x5196d8(0x11e)+this[_0x5196d8(0x159)]+_0x5196d8(0x118)+_0x25b3fc+_0x5196d8(0x14e),'');}async['checkout'](_0x291627){const _0x41861c=a147_0xae8089;Git[_0x41861c(0x121)][_0x41861c(0x145)](_0x41861c(0x139),_0x291627),await utils_2[_0x41861c(0x10f)][_0x41861c(0x148)](_0x41861c(0x11e)+this[_0x41861c(0x159)]+_0x41861c(0x120)+_0x291627,'');}async[a147_0xae8089(0x14b)](){const _0x54b731=a147_0xae8089,_0x4f057f=await utils_2['ChildProcessUtils'][_0x54b731(0x148)]('cd\x20'+this['_repoPath']+_0x54b731(0x12d),'');return _0x4f057f[_0x54b731(0x116)]('\x0a','');}async[a147_0xae8089(0x114)](_0x4e503f){const _0x509b91=a147_0xae8089;Git['logger'][_0x509b91(0x145)](_0x509b91(0x132),_0x4e503f);const _0x1c941b=await utils_2[_0x509b91(0x10f)][_0x509b91(0x148)]('cd\x20'+this['_repoPath']+_0x509b91(0x133)+_0x4e503f,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x1c941b),'email':(0x0,internal_utils_1[_0x509b91(0x119)])(_0x1c941b),'message':(0x0,internal_utils_1[_0x509b91(0x140)])(_0x1c941b),'changes':(0x0,internal_utils_1[_0x509b91(0x126)])(_0x1c941b)};}static async['getRemoteHash'](_0x457364,_0x3fb180){const _0x4ec32a=a147_0xae8089,[_0x541210]=await utils_2[_0x4ec32a(0x10f)][_0x4ec32a(0x148)]('git\x20ls-remote\x20'+_0x457364+'\x20'+_0x3fb180+_0x4ec32a(0x156),'')[_0x4ec32a(0x130)](_0x45b91a=>_0x45b91a[_0x4ec32a(0x116)](/\s/g,'\x20')[_0x4ec32a(0x10c)]('\x20'));return _0x541210;}static async[a147_0xae8089(0x14a)](_0x2d9f6f,_0x59f8f5,_0x40678a){const _0x868107=a147_0xae8089,_0x29a349=path_1['default'][_0x868107(0x125)](this[_0x868107(0x12e)],_0x59f8f5),_0x355c65=new Git(_0x29a349);return Git['logger'][_0x868107(0x145)](_0x868107(0x157),_0x40678a,_0x29a349),await fs_internal_1['FS']['removeDir'](_0x29a349),await utils_2[_0x868107(0x10f)][_0x868107(0x148)](_0x868107(0x122)+_0x40678a+_0x868107(0x153)+_0x2d9f6f+'\x20'+_0x29a349,''),_0x355c65;}static async[a147_0xae8089(0x15b)](_0x2264a5,_0x21847d){const _0x1802cb=a147_0xae8089,_0x26f93d=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x58aeea=_0x2264a5[_0x1802cb(0x14c)][_0x1802cb(0x116)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1802cb(0x10a)])(_0x2264a5['gitUrl'])+_0x1802cb(0x12a)+_0x21847d[_0x1802cb(0x158)]()+'@'),_0x53c6dd=await utils_2[_0x1802cb(0x10f)][_0x1802cb(0x148)](_0x1802cb(0x11c)+_0x58aeea,'');return _0x53c6dd[_0x1802cb(0x10c)]('\x0a')[_0x1802cb(0x154)](_0x21b42a=>_0x26f93d[_0x1802cb(0x11a)](_0x21b42a))['map'](_0x180416=>{const _0x532c19=_0x1802cb,[,_0x34bdf8,_0x673147]=_0x180416['match'](_0x26f93d),_0x5711af=new branch_dto_1[(_0x532c19(0x10e))]();return _0x5711af[_0x532c19(0x13c)]=_0x34bdf8,_0x5711af[_0x532c19(0x113)]=_0x673147[_0x532c19(0x116)]('refs/heads/',''),_0x5711af;});}static async[a147_0xae8089(0x109)](_0x9e08b6,_0x1e0cae,_0x1860bb,_0x361179){const _0xd7aeb1=a147_0xae8089,_0x14d50e=_0x9e08b6['gitUrl'][_0xd7aeb1(0x116)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x9e08b6[_0xd7aeb1(0x14c)])+_0xd7aeb1(0x12a)+_0x361179[_0xd7aeb1(0x158)]()+'@'),_0x3735be=path_1['default']['join'](this[_0xd7aeb1(0x12e)],_0x9e08b6[_0xd7aeb1(0x113)]);Git['logger']['log'](_0xd7aeb1(0x11d),_0x9e08b6[_0xd7aeb1(0x113)],_0x1e0cae,_0x3735be),await fs_internal_1['FS'][_0xd7aeb1(0x152)](_0x3735be),await fs_internal_1['FS']['makeDir'](_0x3735be);const _0x3259b2=new Git(_0x3735be);await utils_2[_0xd7aeb1(0x10f)][_0xd7aeb1(0x148)](_0xd7aeb1(0x11e)+_0x3259b2[_0xd7aeb1(0x143)]+_0xd7aeb1(0x134),''),await utils_2['ChildProcessUtils'][_0xd7aeb1(0x148)](_0xd7aeb1(0x11e)+_0x3259b2[_0xd7aeb1(0x143)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x14d50e,''),await _0x3259b2[_0xd7aeb1(0x155)](constants_1[_0xd7aeb1(0x124)],constants_1[_0xd7aeb1(0x12b)]),await utils_2['ChildProcessUtils'][_0xd7aeb1(0x148)]('cd\x20'+_0x3259b2[_0xd7aeb1(0x143)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x1e0cae,''),await utils_2['ChildProcessUtils'][_0xd7aeb1(0x148)]('cd\x20'+_0x3259b2[_0xd7aeb1(0x143)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x1860bb||constants_1[_0xd7aeb1(0x141)])+_0xd7aeb1(0x147),''),await _0x3259b2[_0xd7aeb1(0x12c)](_0x1e0cae),Git[_0xd7aeb1(0x121)]['log'](_0xd7aeb1(0x13d)),await fs_internal_1['FS']['removeDir'](_0x3259b2['baseDir']);}}exports[a147_0xae8089(0x128)]=Git,Git[a147_0xae8089(0x12e)]=path_1[a147_0xae8089(0x13f)]['join'](process[a147_0xae8089(0x117)](),'.temp',a147_0xae8089(0x112)),Git[a147_0xae8089(0x121)]=new core_1['Logger'](Git[a147_0xae8089(0x113)]);