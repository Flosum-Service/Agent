const a126_0x2fde8b=a126_0x2917;(function(_0x67ba4f,_0x375ef2){const _0x4a0091=a126_0x2917,_0xec314=_0x67ba4f();while(!![]){try{const _0x3505bd=-parseInt(_0x4a0091(0x195))/0x1*(-parseInt(_0x4a0091(0x18d))/0x2)+-parseInt(_0x4a0091(0x1c6))/0x3*(-parseInt(_0x4a0091(0x18e))/0x4)+parseInt(_0x4a0091(0x1ba))/0x5*(parseInt(_0x4a0091(0x1be))/0x6)+-parseInt(_0x4a0091(0x1e4))/0x7*(parseInt(_0x4a0091(0x1a0))/0x8)+parseInt(_0x4a0091(0x1bb))/0x9*(-parseInt(_0x4a0091(0x198))/0xa)+parseInt(_0x4a0091(0x1d6))/0xb*(-parseInt(_0x4a0091(0x1a7))/0xc)+parseInt(_0x4a0091(0x1c5))/0xd;if(_0x3505bd===_0x375ef2)break;else _0xec314['push'](_0xec314['shift']());}catch(_0x1f251b){_0xec314['push'](_0xec314['shift']());}}}(a126_0x3c65,0x3b0df));const a126_0x5dd297=(function(){let _0x44d2bd=!![];return function(_0x259308,_0xb5491f){const _0x28b0a8=_0x44d2bd?function(){const _0x435af2=a126_0x2917;if(_0xb5491f){const _0x4536cc=_0xb5491f[_0x435af2(0x1d3)](_0x259308,arguments);return _0xb5491f=null,_0x4536cc;}}:function(){};return _0x44d2bd=![],_0x28b0a8;};}()),a126_0x4f84cf=a126_0x5dd297(this,function(){const _0x5cc832=a126_0x2917;return a126_0x4f84cf[_0x5cc832(0x1cf)]()[_0x5cc832(0x1c1)](_0x5cc832(0x1a3))[_0x5cc832(0x1cf)]()[_0x5cc832(0x1c7)](a126_0x4f84cf)['search']('(((.+)+)+)+$');});a126_0x4f84cf();function a126_0x2917(_0x1d1f06,_0x1f519f){const _0x3e5464=a126_0x3c65();return a126_0x2917=function(_0x4f84cf,_0x5dd297){_0x4f84cf=_0x4f84cf-0x18d;let _0x3c6517=_0x3e5464[_0x4f84cf];return _0x3c6517;},a126_0x2917(_0x1d1f06,_0x1f519f);}'use strict';function a126_0x3c65(){const _0x118617=['1482290EkIeRF','18WAtQFX','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','setCredentials','6NYAWNx','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','removeDir','search','\x20&&\x20git\x20commit\x20-m\x20\x22','describeCommit','replace','7260695DaXlmm','57feCryT','constructor','join','\x20&&\x20git\x20status','../../../core','\x20&&\x20git\x20init','default','extractMessageFromCommitDescribe','map','toString','checkout','commit\x20message\x20\x22%s\x22','Git','apply','\x20&&\x20git\x20add\x20','git\x20ls-remote\x20','2629dsMsuP','status','extractEmailFromCommitDescribe','../providers/branches/dto/branch.dto','://','clone\x20repository\x20branch\x20%s\x20to\x20%s','getGitShellAuthorizationString','sha','spawnPromise','__importDefault','log','makeDir','describe\x20commit\x20%s','split','7PtHkxC','2oksiuM','21548HPnfjl','getRemoteHash','git\x20clone\x20-b\x20','git','filter','ChildProcessUtils','DEFAULT_CLONE_PATH','225382MmLGfv','baseDir','_repoPath','2379880WJWxrF','clone','logger','getCurrentHash','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','\x20--single-branch\x20','checkout\x20to\x20%s','refs/heads/','361288wsIYWM','match','cd\x20','(((.+)+)+)+$','add','test','commit','21072enxuDR','../../shared/utils','\x20&&\x20git\x20checkout\x20','getRepositoryBranches','__esModule','./internal.utils','../../../constants','DEFAULT_GIT_USER_NAME','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20--quiet','\x20&&\x20git\x20checkout\x20--orphan\x20','name','gitUrl','\x22\x20--allow-empty','\x20&&\x20git\x20push\x20origin\x20','push\x20changes\x20to\x20%s','createEmptyBranch','push','cwd'];a126_0x3c65=function(){return _0x118617;};return a126_0x3c65();}var __importDefault=this&&this[a126_0x2fde8b(0x1df)]||function(_0x4ec9be){const _0x4392ef=a126_0x2fde8b;return _0x4ec9be&&_0x4ec9be[_0x4392ef(0x1ab)]?_0x4ec9be:{'default':_0x4ec9be};};Object['defineProperty'](exports,a126_0x2fde8b(0x1ab),{'value':!![]}),exports[a126_0x2fde8b(0x1d2)]=void 0x0;const constants_1=require(a126_0x2fde8b(0x1ad)),core_1=require(a126_0x2fde8b(0x1ca)),path_1=__importDefault(require('path')),branch_dto_1=require(a126_0x2fde8b(0x1d9)),utils_1=require(a126_0x2fde8b(0x1a8)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a126_0x2fde8b(0x1ac)),utils_2=require('@flosum/utils');class Git{constructor(_0x2f6e38){const _0x486d53=a126_0x2fde8b;this[_0x486d53(0x197)]=_0x2f6e38;}get[a126_0x2fde8b(0x196)](){const _0x5aa5b0=a126_0x2fde8b;return this[_0x5aa5b0(0x197)];}async[a126_0x2fde8b(0x1bd)](_0x31a836,_0x2a6163){const _0x384a66=a126_0x2fde8b;await utils_2[_0x384a66(0x193)][_0x384a66(0x1de)](_0x384a66(0x1a2)+this[_0x384a66(0x197)]+_0x384a66(0x1bf)+_0x31a836+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x2a6163+'\x22','');}async[a126_0x2fde8b(0x1a4)](..._0x5cd25e){const _0x400751=a126_0x2fde8b;await utils_2[_0x400751(0x193)]['spawnPromise']('cd\x20'+this['_repoPath']+_0x400751(0x1d4)+_0x5cd25e[_0x400751(0x1c8)]('\x20'),'');}async[a126_0x2fde8b(0x1d7)](){const _0x2e62da=a126_0x2fde8b;return utils_2['ChildProcessUtils']['spawnPromise'](_0x2e62da(0x1a2)+this[_0x2e62da(0x197)]+_0x2e62da(0x1c9),'');}async[a126_0x2fde8b(0x1a6)](_0x250124){const _0x49e11c=a126_0x2fde8b;Git[_0x49e11c(0x19a)][_0x49e11c(0x1e0)](_0x49e11c(0x1d1),_0x250124),await utils_2['ChildProcessUtils'][_0x49e11c(0x1de)](_0x49e11c(0x1a2)+this[_0x49e11c(0x197)]+_0x49e11c(0x1c2)+_0x250124+'\x22','');}async[a126_0x2fde8b(0x1b8)](_0xd64ff){const _0x23fe40=a126_0x2fde8b;Git[_0x23fe40(0x19a)][_0x23fe40(0x1e0)](_0x23fe40(0x1b6),_0xd64ff),await utils_2['ChildProcessUtils']['spawnPromise'](_0x23fe40(0x1a2)+this[_0x23fe40(0x197)]+_0x23fe40(0x1b5)+_0xd64ff+_0x23fe40(0x1b0),'');}async[a126_0x2fde8b(0x1d0)](_0x1d44aa){const _0x573830=a126_0x2fde8b;Git[_0x573830(0x19a)][_0x573830(0x1e0)](_0x573830(0x19e),_0x1d44aa),await utils_2[_0x573830(0x193)][_0x573830(0x1de)](_0x573830(0x1a2)+this[_0x573830(0x197)]+_0x573830(0x1a9)+_0x1d44aa,'');}async[a126_0x2fde8b(0x19b)](){const _0x192891=a126_0x2fde8b,_0x59b4a6=await utils_2[_0x192891(0x193)][_0x192891(0x1de)](_0x192891(0x1a2)+this[_0x192891(0x197)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x59b4a6['replace']('\x0a','');}async[a126_0x2fde8b(0x1c3)](_0x43a0d9){const _0x15ccee=a126_0x2fde8b;Git[_0x15ccee(0x19a)]['log'](_0x15ccee(0x1e2),_0x43a0d9);const _0x57b55f=await utils_2[_0x15ccee(0x193)][_0x15ccee(0x1de)](_0x15ccee(0x1a2)+this['_repoPath']+_0x15ccee(0x19c)+_0x43a0d9,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x57b55f),'email':(0x0,internal_utils_1[_0x15ccee(0x1d8)])(_0x57b55f),'message':(0x0,internal_utils_1[_0x15ccee(0x1cd)])(_0x57b55f),'changes':(0x0,internal_utils_1['extractChangesFromCommitDescribe'])(_0x57b55f)};}static async[a126_0x2fde8b(0x18f)](_0x4526c4,_0x16c79a){const _0xe167df=a126_0x2fde8b,[_0x2f3832]=await utils_2[_0xe167df(0x193)]['spawnPromise']('git\x20ls-remote\x20'+_0x4526c4+'\x20'+_0x16c79a+'\x20--refs','')['then'](_0x2f329b=>_0x2f329b['replace'](/\s/g,'\x20')[_0xe167df(0x1e3)]('\x20'));return _0x2f3832;}static async[a126_0x2fde8b(0x199)](_0x3c66ef,_0xf79d82,_0x39d56b){const _0x18c397=a126_0x2fde8b,_0x59df5d=path_1['default']['join'](this['DEFAULT_CLONE_PATH'],_0xf79d82),_0x378d22=new Git(_0x59df5d);return Git[_0x18c397(0x19a)]['log'](_0x18c397(0x1db),_0x39d56b,_0x59df5d),await fs_internal_1['FS']['removeDir'](_0x59df5d),await utils_2['ChildProcessUtils'][_0x18c397(0x1de)](_0x18c397(0x190)+_0x39d56b+_0x18c397(0x19d)+_0x3c66ef+'\x20'+_0x59df5d,''),_0x378d22;}static async[a126_0x2fde8b(0x1aa)](_0x7586d,_0x2fa591){const _0x45e769=a126_0x2fde8b,_0x114c1a=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3764ce=_0x7586d['gitUrl'][_0x45e769(0x1c4)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x7586d[_0x45e769(0x1b3)])+_0x45e769(0x1da)+_0x2fa591[_0x45e769(0x1dc)]()+'@'),_0x5d279e=await utils_2[_0x45e769(0x193)][_0x45e769(0x1de)](_0x45e769(0x1d5)+_0x3764ce,'');return _0x5d279e[_0x45e769(0x1e3)]('\x0a')[_0x45e769(0x192)](_0x5d700a=>_0x114c1a[_0x45e769(0x1a5)](_0x5d700a))[_0x45e769(0x1ce)](_0x13a7e1=>{const _0x34f374=_0x45e769,[,_0x2a3763,_0x5b3244]=_0x13a7e1[_0x34f374(0x1a1)](_0x114c1a),_0x3d5b7c=new branch_dto_1['BranchDto']();return _0x3d5b7c[_0x34f374(0x1dd)]=_0x2a3763,_0x3d5b7c['name']=_0x5b3244[_0x34f374(0x1c4)](_0x34f374(0x19f),''),_0x3d5b7c;});}static async[a126_0x2fde8b(0x1b7)](_0x465dcd,_0x530fda,_0xf23d55,_0x5b369d){const _0x4b8355=a126_0x2fde8b,_0x37dd46=_0x465dcd[_0x4b8355(0x1b3)][_0x4b8355(0x1c4)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x465dcd[_0x4b8355(0x1b3)])+_0x4b8355(0x1da)+_0x5b369d[_0x4b8355(0x1dc)]()+'@'),_0x1733d2=path_1['default'][_0x4b8355(0x1c8)](this[_0x4b8355(0x194)],_0x465dcd[_0x4b8355(0x1b2)]);Git[_0x4b8355(0x19a)]['log'](_0x4b8355(0x1bc),_0x465dcd[_0x4b8355(0x1b2)],_0x530fda,_0x1733d2),await fs_internal_1['FS'][_0x4b8355(0x1c0)](_0x1733d2),await fs_internal_1['FS'][_0x4b8355(0x1e1)](_0x1733d2);const _0x505790=new Git(_0x1733d2);await utils_2[_0x4b8355(0x193)]['spawnPromise']('cd\x20'+_0x505790[_0x4b8355(0x196)]+_0x4b8355(0x1cb),''),await utils_2[_0x4b8355(0x193)][_0x4b8355(0x1de)]('cd\x20'+_0x505790[_0x4b8355(0x196)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x37dd46,''),await _0x505790[_0x4b8355(0x1bd)](constants_1[_0x4b8355(0x1ae)],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0x4b8355(0x193)][_0x4b8355(0x1de)](_0x4b8355(0x1a2)+_0x505790['baseDir']+_0x4b8355(0x1b1)+_0x530fda,''),await utils_2[_0x4b8355(0x193)][_0x4b8355(0x1de)](_0x4b8355(0x1a2)+_0x505790['baseDir']+_0x4b8355(0x1c2)+(_0xf23d55||constants_1['INITIAL_COMMIT'])+_0x4b8355(0x1b4),''),await _0x505790[_0x4b8355(0x1b8)](_0x530fda),Git[_0x4b8355(0x19a)][_0x4b8355(0x1e0)](_0x4b8355(0x1af)),await fs_internal_1['FS'][_0x4b8355(0x1c0)](_0x505790[_0x4b8355(0x196)]);}}exports[a126_0x2fde8b(0x1d2)]=Git,Git[a126_0x2fde8b(0x194)]=path_1[a126_0x2fde8b(0x1cc)][a126_0x2fde8b(0x1c8)](process[a126_0x2fde8b(0x1b9)](),'.temp',a126_0x2fde8b(0x191)),Git['logger']=new core_1['Logger'](Git[a126_0x2fde8b(0x1b2)]);