const a126_0x26c80d=a126_0x38ac;(function(_0x4ffd43,_0x48cfac){const _0x50f04c=a126_0x38ac,_0x2f0e85=_0x4ffd43();while(!![]){try{const _0x1d18ee=-parseInt(_0x50f04c(0x187))/0x1+-parseInt(_0x50f04c(0x184))/0x2+-parseInt(_0x50f04c(0x14c))/0x3*(-parseInt(_0x50f04c(0x182))/0x4)+parseInt(_0x50f04c(0x177))/0x5*(parseInt(_0x50f04c(0x192))/0x6)+parseInt(_0x50f04c(0x158))/0x7*(parseInt(_0x50f04c(0x170))/0x8)+parseInt(_0x50f04c(0x154))/0x9+-parseInt(_0x50f04c(0x185))/0xa;if(_0x1d18ee===_0x48cfac)break;else _0x2f0e85['push'](_0x2f0e85['shift']());}catch(_0x5a26f7){_0x2f0e85['push'](_0x2f0e85['shift']());}}}(a126_0x40bf,0x91c1c));const a126_0x4371f7=(function(){let _0x29d60b=!![];return function(_0x47b024,_0x4e1254){const _0xcead5b=_0x29d60b?function(){const _0x520dd1=a126_0x38ac;if(_0x4e1254){const _0x148697=_0x4e1254[_0x520dd1(0x146)](_0x47b024,arguments);return _0x4e1254=null,_0x148697;}}:function(){};return _0x29d60b=![],_0xcead5b;};}()),a126_0x284200=a126_0x4371f7(this,function(){const _0xfbcf23=a126_0x38ac;return a126_0x284200['toString']()[_0xfbcf23(0x167)](_0xfbcf23(0x16c))[_0xfbcf23(0x18e)]()[_0xfbcf23(0x16d)](a126_0x284200)[_0xfbcf23(0x167)]('(((.+)+)+)+$');});function a126_0x38ac(_0x5e829f,_0x19f9b2){const _0x9eeeb6=a126_0x40bf();return a126_0x38ac=function(_0x284200,_0x4371f7){_0x284200=_0x284200-0x146;let _0x40bfb6=_0x9eeeb6[_0x284200];return _0x40bfb6;},a126_0x38ac(_0x5e829f,_0x19f9b2);}a126_0x284200();'use strict';var __importDefault=this&&this[a126_0x26c80d(0x195)]||function(_0x37610d){const _0x3278cb=a126_0x26c80d;return _0x37610d&&_0x37610d[_0x3278cb(0x188)]?_0x37610d:{'default':_0x37610d};};function a126_0x40bf(){const _0xc75b11=['./internal.utils','203050apAkGH','Logger','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20checkout\x20--orphan\x20','map','logger','then','filter','spawnPromise','cwd','path','3349456vlSGoK','\x20&&\x20git\x20commit\x20-m\x20\x22','1051162tOJDtH','5436940IGxnxk','replace','463726eiPqPp','__esModule','split','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','\x20--single-branch\x20','git\x20ls-remote\x20','@flosum/utils','toString','extractMessageFromCommitDescribe','getGitShellAuthorizationString','extractChangesFromCommitDescribe','54hIlpBU','\x20&&\x20git\x20rev-parse\x20HEAD','://','__importDefault','cd\x20','../providers/branches/dto/branch.dto','getRepositoryBranches','status','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','DEFAULT_CLONE_PATH','apply','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','../../../constants','\x20&&\x20git\x20checkout\x20','extractAuthorFromCommitDescribe','match','3fgURBI','defineProperty','log','name','removeDir','../../shared/utils','checkout\x20to\x20%s','_repoPath','461313NNonnG','\x20&&\x20git\x20add\x20','default','INITIAL_COMMIT','58394sZSjIV','test','git\x20clone\x20-b\x20','\x20&&\x20git\x20remote\x20add\x20origin\x20','setCredentials','ChildProcessUtils','\x20--refs','describeCommit','getProtocol','\x20&&\x20git\x20push\x20origin\x20','push\x20changes\x20to\x20%s','commit','Git','join','clone\x20repository\x20branch\x20%s\x20to\x20%s','search','\x20&&\x20git\x20status','describe\x20commit\x20%s','gitUrl','DEFAULT_GIT_USER_EMAIL','(((.+)+)+)+$','constructor','push','checkout','840aaTmwB','\x20--quiet','git','baseDir','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','clone'];a126_0x40bf=function(){return _0xc75b11;};return a126_0x40bf();}Object[a126_0x26c80d(0x14d)](exports,a126_0x26c80d(0x188),{'value':!![]}),exports[a126_0x26c80d(0x164)]=void 0x0;const constants_1=require(a126_0x26c80d(0x148)),core_1=require('../../../core'),path_1=__importDefault(require(a126_0x26c80d(0x181))),branch_dto_1=require(a126_0x26c80d(0x197)),utils_1=require(a126_0x26c80d(0x151)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a126_0x26c80d(0x176)),utils_2=require(a126_0x26c80d(0x18d));class Git{constructor(_0x2f3d3c){const _0xdef368=a126_0x26c80d;this[_0xdef368(0x153)]=_0x2f3d3c;}get['baseDir'](){const _0x7c152a=a126_0x26c80d;return this[_0x7c152a(0x153)];}async[a126_0x26c80d(0x15c)](_0xb79d4c,_0x1c3b37){const _0x45fda8=a126_0x26c80d;await utils_2[_0x45fda8(0x15d)]['spawnPromise'](_0x45fda8(0x196)+this['_repoPath']+_0x45fda8(0x174)+_0xb79d4c+_0x45fda8(0x19a)+_0x1c3b37+'\x22','');}async['add'](..._0x437a21){const _0x134b3d=a126_0x26c80d;await utils_2[_0x134b3d(0x15d)]['spawnPromise'](_0x134b3d(0x196)+this[_0x134b3d(0x153)]+_0x134b3d(0x155)+_0x437a21[_0x134b3d(0x165)]('\x20'),'');}async[a126_0x26c80d(0x199)](){const _0x3dbe9b=a126_0x26c80d;return utils_2[_0x3dbe9b(0x15d)][_0x3dbe9b(0x17f)](_0x3dbe9b(0x196)+this[_0x3dbe9b(0x153)]+_0x3dbe9b(0x168),'');}async[a126_0x26c80d(0x163)](_0x3bbff5){const _0x580e9a=a126_0x26c80d;Git[_0x580e9a(0x17c)][_0x580e9a(0x14e)]('commit\x20message\x20\x22%s\x22',_0x3bbff5),await utils_2[_0x580e9a(0x15d)][_0x580e9a(0x17f)]('cd\x20'+this['_repoPath']+_0x580e9a(0x183)+_0x3bbff5+'\x22','');}async['push'](_0x17bccf){const _0x5df22a=a126_0x26c80d;Git[_0x5df22a(0x17c)][_0x5df22a(0x14e)](_0x5df22a(0x162),_0x17bccf),await utils_2[_0x5df22a(0x15d)][_0x5df22a(0x17f)](_0x5df22a(0x196)+this[_0x5df22a(0x153)]+_0x5df22a(0x161)+_0x17bccf+_0x5df22a(0x171),'');}async[a126_0x26c80d(0x16f)](_0x23991e){const _0x2826d6=a126_0x26c80d;Git[_0x2826d6(0x17c)][_0x2826d6(0x14e)](_0x2826d6(0x152),_0x23991e),await utils_2['ChildProcessUtils'][_0x2826d6(0x17f)](_0x2826d6(0x196)+this[_0x2826d6(0x153)]+_0x2826d6(0x149)+_0x23991e,'');}async['getCurrentHash'](){const _0x5b5625=a126_0x26c80d,_0x1403ef=await utils_2[_0x5b5625(0x15d)][_0x5b5625(0x17f)](_0x5b5625(0x196)+this[_0x5b5625(0x153)]+_0x5b5625(0x193),'');return _0x1403ef['replace']('\x0a','');}async[a126_0x26c80d(0x15f)](_0x10b459){const _0x39ee1c=a126_0x26c80d;Git['logger'][_0x39ee1c(0x14e)](_0x39ee1c(0x169),_0x10b459);const _0x48222a=await utils_2[_0x39ee1c(0x15d)][_0x39ee1c(0x17f)](_0x39ee1c(0x196)+this['_repoPath']+_0x39ee1c(0x147)+_0x10b459,'');return{'author':(0x0,internal_utils_1[_0x39ee1c(0x14a)])(_0x48222a),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x48222a),'message':(0x0,internal_utils_1[_0x39ee1c(0x18f)])(_0x48222a),'changes':(0x0,internal_utils_1[_0x39ee1c(0x191)])(_0x48222a)};}static async['getRemoteHash'](_0x28bffd,_0x405289){const _0x2c1ff3=a126_0x26c80d,[_0x3f09f8]=await utils_2['ChildProcessUtils']['spawnPromise'](_0x2c1ff3(0x18c)+_0x28bffd+'\x20'+_0x405289+_0x2c1ff3(0x15e),'')[_0x2c1ff3(0x17d)](_0x1becd2=>_0x1becd2['replace'](/\s/g,'\x20')[_0x2c1ff3(0x189)]('\x20'));return _0x3f09f8;}static async[a126_0x26c80d(0x175)](_0x35d0d9,_0x3e852c,_0x31fb4a){const _0x192330=a126_0x26c80d,_0x3267ec=path_1[_0x192330(0x156)][_0x192330(0x165)](this[_0x192330(0x19b)],_0x3e852c),_0x2d7329=new Git(_0x3267ec);return Git['logger'][_0x192330(0x14e)](_0x192330(0x166),_0x31fb4a,_0x3267ec),await fs_internal_1['FS'][_0x192330(0x150)](_0x3267ec),await utils_2[_0x192330(0x15d)][_0x192330(0x17f)](_0x192330(0x15a)+_0x31fb4a+_0x192330(0x18b)+_0x35d0d9+'\x20'+_0x3267ec,''),_0x2d7329;}static async[a126_0x26c80d(0x198)](_0x4261fa,_0xd266b0){const _0x3db4cf=a126_0x26c80d,_0x268df2=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x4f4652=_0x4261fa[_0x3db4cf(0x16a)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x3db4cf(0x160)])(_0x4261fa['gitUrl'])+_0x3db4cf(0x194)+_0xd266b0['getGitShellAuthorizationString']()+'@'),_0x2ec00a=await utils_2['ChildProcessUtils']['spawnPromise']('git\x20ls-remote\x20'+_0x4f4652,'');return _0x2ec00a[_0x3db4cf(0x189)]('\x0a')[_0x3db4cf(0x17e)](_0x20a424=>_0x268df2[_0x3db4cf(0x159)](_0x20a424))[_0x3db4cf(0x17b)](_0x2b9fd0=>{const _0x7ed117=_0x3db4cf,[,_0x19fd89,_0x4cecef]=_0x2b9fd0[_0x7ed117(0x14b)](_0x268df2),_0x21303b=new branch_dto_1['BranchDto']();return _0x21303b['sha']=_0x19fd89,_0x21303b[_0x7ed117(0x14f)]=_0x4cecef['replace']('refs/heads/',''),_0x21303b;});}static async['createEmptyBranch'](_0x2d2240,_0x4f330c,_0x3b2ba7,_0x7fb65c){const _0x2a7b32=a126_0x26c80d,_0x2421dd=_0x2d2240[_0x2a7b32(0x16a)][_0x2a7b32(0x186)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2a7b32(0x160)])(_0x2d2240[_0x2a7b32(0x16a)])+_0x2a7b32(0x194)+_0x7fb65c[_0x2a7b32(0x190)]()+'@'),_0x382c79=path_1['default'][_0x2a7b32(0x165)](this[_0x2a7b32(0x19b)],_0x2d2240[_0x2a7b32(0x14f)]);Git['logger'][_0x2a7b32(0x14e)](_0x2a7b32(0x18a),_0x2d2240[_0x2a7b32(0x14f)],_0x4f330c,_0x382c79),await fs_internal_1['FS'][_0x2a7b32(0x150)](_0x382c79),await fs_internal_1['FS']['makeDir'](_0x382c79);const _0x1b994e=new Git(_0x382c79);await utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+_0x1b994e[_0x2a7b32(0x173)]+'\x20&&\x20git\x20init',''),await utils_2[_0x2a7b32(0x15d)]['spawnPromise'](_0x2a7b32(0x196)+_0x1b994e[_0x2a7b32(0x173)]+_0x2a7b32(0x15b)+_0x2421dd,''),await _0x1b994e[_0x2a7b32(0x15c)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x2a7b32(0x16b)]),await utils_2[_0x2a7b32(0x15d)]['spawnPromise'](_0x2a7b32(0x196)+_0x1b994e['baseDir']+_0x2a7b32(0x17a)+_0x4f330c,''),await utils_2['ChildProcessUtils'][_0x2a7b32(0x17f)](_0x2a7b32(0x196)+_0x1b994e[_0x2a7b32(0x173)]+_0x2a7b32(0x183)+(_0x3b2ba7||constants_1[_0x2a7b32(0x157)])+'\x22\x20--allow-empty',''),await _0x1b994e[_0x2a7b32(0x16e)](_0x4f330c),Git[_0x2a7b32(0x17c)][_0x2a7b32(0x14e)](_0x2a7b32(0x179)),await fs_internal_1['FS'][_0x2a7b32(0x150)](_0x1b994e['baseDir']);}}exports[a126_0x26c80d(0x164)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a126_0x26c80d(0x156)]['join'](process[a126_0x26c80d(0x180)](),'.temp',a126_0x26c80d(0x172)),Git['logger']=new core_1[(a126_0x26c80d(0x178))](Git['name']);