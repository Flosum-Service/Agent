const a147_0x1cc1c6=a147_0x3606;(function(_0x5583ca,_0x52ed91){const _0x671427=a147_0x3606,_0x23a5f6=_0x5583ca();while(!![]){try{const _0x6c9ebf=-parseInt(_0x671427(0x18c))/0x1+parseInt(_0x671427(0x186))/0x2+parseInt(_0x671427(0x1ba))/0x3*(-parseInt(_0x671427(0x187))/0x4)+-parseInt(_0x671427(0x199))/0x5*(parseInt(_0x671427(0x176))/0x6)+-parseInt(_0x671427(0x17e))/0x7+parseInt(_0x671427(0x19d))/0x8+parseInt(_0x671427(0x19b))/0x9*(parseInt(_0x671427(0x171))/0xa);if(_0x6c9ebf===_0x52ed91)break;else _0x23a5f6['push'](_0x23a5f6['shift']());}catch(_0x3d3f2c){_0x23a5f6['push'](_0x23a5f6['shift']());}}}(a147_0x516b,0xd9681));const a147_0x118266=(function(){let _0x5ac1c7=!![];return function(_0x157168,_0x161e9a){const _0x3811c5=_0x5ac1c7?function(){const _0x253e4e=a147_0x3606;if(_0x161e9a){const _0x540ffc=_0x161e9a[_0x253e4e(0x174)](_0x157168,arguments);return _0x161e9a=null,_0x540ffc;}}:function(){};return _0x5ac1c7=![],_0x3811c5;};}()),a147_0xe6da1a=a147_0x118266(this,function(){const _0x4cca8c=a147_0x3606;return a147_0xe6da1a[_0x4cca8c(0x190)]()[_0x4cca8c(0x192)](_0x4cca8c(0x17f))[_0x4cca8c(0x190)]()[_0x4cca8c(0x194)](a147_0xe6da1a)[_0x4cca8c(0x192)](_0x4cca8c(0x17f));});a147_0xe6da1a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1e2300){return _0x1e2300&&_0x1e2300['__esModule']?_0x1e2300:{'default':_0x1e2300};};Object[a147_0x1cc1c6(0x17a)](exports,a147_0x1cc1c6(0x16c),{'value':!![]}),exports[a147_0x1cc1c6(0x1af)]=void 0x0;function a147_0x3606(_0x42531c,_0x2f6b8e){const _0xd6e268=a147_0x516b();return a147_0x3606=function(_0xe6da1a,_0x118266){_0xe6da1a=_0xe6da1a-0x167;let _0x516b6e=_0xd6e268[_0xe6da1a];return _0x516b6e;},a147_0x3606(_0x42531c,_0x2f6b8e);}function a147_0x516b(){const _0x844942=['getProtocol','\x20&&\x20git\x20checkout\x20','defineProperty','replace','path','clone','7059136ayrwnM','(((.+)+)+)+$','match','Commit\x20message\x20\x22%s\x22','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','.temp','then','cd\x20','2187040LHmbMV','32JYZFwC','../../shared/utils','extractChangesFromCommitDescribe','gitUrl','../../../core','532381nnaQIR','logger','test','\x22\x20--allow-empty','toString','refs/heads/','search','spawnPromise','constructor','getGitShellAuthorizationString','baseDir','://','\x20&&\x20git\x20commit\x20-m\x20\x22','1905xQCTEz','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','153foqeWV','name','7846992pStDOS','\x20&&\x20git\x20init','add','\x20--refs','DEFAULT_GIT_USER_EMAIL','\x20&&\x20git\x20checkout\x20--orphan\x20','setCredentials','\x20&&\x20git\x20remote\x20add\x20origin\x20','../providers/branches/dto/branch.dto','DEFAULT_CLONE_PATH','ChildProcessUtils','\x20--single-branch\x20','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','Push\x20changes\x20to\x20%s','createEmptyBranch','./internal.utils','DEFAULT_GIT_USER_NAME','git','Git','git\x20clone\x20-b\x20','join','../../../constants','cwd','Logger','getRepositoryBranches','BranchDto','_repoPath','split','Checkout\x20to\x20%s','394149DcnfjG','\x20&&\x20git\x20status','makeDir','filter','removeDir','Describe\x20commit\x20%s','log','Clone\x20repository\x20branch\x20%s\x20to\x20%s','./fs.internal','@flosum/utils','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','map','__esModule','extractEmailFromCommitDescribe','push','sha','status','990270gwxWCc','getRemoteHash','git\x20ls-remote\x20','apply','\x20--quiet','4338RKYXeT','default'];a147_0x516b=function(){return _0x844942;};return a147_0x516b();}const constants_1=require(a147_0x1cc1c6(0x1b2)),core_1=require(a147_0x1cc1c6(0x18b)),path_1=__importDefault(require(a147_0x1cc1c6(0x17c))),branch_dto_1=require(a147_0x1cc1c6(0x1a5)),utils_1=require(a147_0x1cc1c6(0x188)),fs_internal_1=require(a147_0x1cc1c6(0x168)),internal_utils_1=require(a147_0x1cc1c6(0x1ac)),utils_2=require(a147_0x1cc1c6(0x169));class Git{constructor(_0x24d44a){this['_repoPath']=_0x24d44a;}get[a147_0x1cc1c6(0x196)](){const _0x446d74=a147_0x1cc1c6;return this[_0x446d74(0x1b7)];}async[a147_0x1cc1c6(0x1a3)](_0x42e818,_0x4c367c){const _0x200f0e=a147_0x1cc1c6;await utils_2['ChildProcessUtils'][_0x200f0e(0x193)](_0x200f0e(0x185)+this[_0x200f0e(0x1b7)]+_0x200f0e(0x16a)+_0x42e818+_0x200f0e(0x182)+_0x4c367c+'\x22','');}async[a147_0x1cc1c6(0x19f)](..._0x263c77){const _0xb454a6=a147_0x1cc1c6;await utils_2[_0xb454a6(0x1a7)][_0xb454a6(0x193)](_0xb454a6(0x185)+this[_0xb454a6(0x1b7)]+'\x20&&\x20git\x20add\x20'+_0x263c77[_0xb454a6(0x1b1)]('\x20'),'');}async[a147_0x1cc1c6(0x170)](){const _0x3f2458=a147_0x1cc1c6;return utils_2['ChildProcessUtils'][_0x3f2458(0x193)]('cd\x20'+this[_0x3f2458(0x1b7)]+_0x3f2458(0x1bb),'');}async['commit'](_0x4c0804){const _0x3aa5e1=a147_0x1cc1c6;Git[_0x3aa5e1(0x18d)][_0x3aa5e1(0x1c0)](_0x3aa5e1(0x181),_0x4c0804),await utils_2[_0x3aa5e1(0x1a7)][_0x3aa5e1(0x193)](_0x3aa5e1(0x185)+this[_0x3aa5e1(0x1b7)]+_0x3aa5e1(0x198)+_0x4c0804+'\x22','');}async[a147_0x1cc1c6(0x16e)](_0x22d24c){const _0x38d764=a147_0x1cc1c6;Git[_0x38d764(0x18d)]['log'](_0x38d764(0x1aa),_0x22d24c),await utils_2['ChildProcessUtils']['spawnPromise'](_0x38d764(0x185)+this[_0x38d764(0x1b7)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x22d24c+_0x38d764(0x175),'');}async['checkout'](_0x6d14d2){const _0x757c6e=a147_0x1cc1c6;Git['logger'][_0x757c6e(0x1c0)](_0x757c6e(0x1b9),_0x6d14d2),await utils_2[_0x757c6e(0x1a7)][_0x757c6e(0x193)](_0x757c6e(0x185)+this['_repoPath']+_0x757c6e(0x179)+_0x6d14d2,'');}async['getCurrentHash'](){const _0x278bcc=a147_0x1cc1c6,_0x49fb26=await utils_2[_0x278bcc(0x1a7)]['spawnPromise']('cd\x20'+this[_0x278bcc(0x1b7)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x49fb26['replace']('\x0a','');}async['describeCommit'](_0x4f1efc){const _0x400b13=a147_0x1cc1c6;Git[_0x400b13(0x18d)]['log'](_0x400b13(0x1bf),_0x4f1efc);const _0x3c0892=await utils_2[_0x400b13(0x1a7)]['spawnPromise'](_0x400b13(0x185)+this['_repoPath']+_0x400b13(0x1a9)+_0x4f1efc,'');return{'author':(0x0,internal_utils_1['extractAuthorFromCommitDescribe'])(_0x3c0892),'email':(0x0,internal_utils_1[_0x400b13(0x16d)])(_0x3c0892),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0x3c0892),'changes':(0x0,internal_utils_1[_0x400b13(0x189)])(_0x3c0892)};}static async[a147_0x1cc1c6(0x172)](_0x1ffc62,_0x347697){const _0xae9b41=a147_0x1cc1c6,[_0x1cc204]=await utils_2[_0xae9b41(0x1a7)][_0xae9b41(0x193)](_0xae9b41(0x173)+_0x1ffc62+'\x20'+_0x347697+_0xae9b41(0x1a0),'')[_0xae9b41(0x184)](_0x4fdae2=>_0x4fdae2[_0xae9b41(0x17b)](/\s/g,'\x20')[_0xae9b41(0x1b8)]('\x20'));return _0x1cc204;}static async[a147_0x1cc1c6(0x17d)](_0x7b7e47,_0xd89f90,_0x1ab99e){const _0x4db086=a147_0x1cc1c6,_0x40fa09=path_1[_0x4db086(0x177)]['join'](this[_0x4db086(0x1a6)],_0xd89f90),_0x39e7e7=new Git(_0x40fa09);return Git[_0x4db086(0x18d)][_0x4db086(0x1c0)](_0x4db086(0x167),_0x1ab99e,_0x40fa09),await fs_internal_1['FS'][_0x4db086(0x1be)](_0x40fa09),await utils_2[_0x4db086(0x1a7)]['spawnPromise'](_0x4db086(0x1b0)+_0x1ab99e+_0x4db086(0x1a8)+_0x7b7e47+'\x20'+_0x40fa09,''),_0x39e7e7;}static async[a147_0x1cc1c6(0x1b5)](_0x40c419,_0x54a8d0){const _0x27d9a6=a147_0x1cc1c6,_0x308983=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x26b75b=_0x40c419['gitUrl'][_0x27d9a6(0x17b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x40c419[_0x27d9a6(0x18a)])+_0x27d9a6(0x197)+_0x54a8d0[_0x27d9a6(0x195)]()+'@'),_0x349a67=await utils_2[_0x27d9a6(0x1a7)][_0x27d9a6(0x193)](_0x27d9a6(0x173)+_0x26b75b,'');return _0x349a67[_0x27d9a6(0x1b8)]('\x0a')[_0x27d9a6(0x1bd)](_0xeef189=>_0x308983[_0x27d9a6(0x18e)](_0xeef189))[_0x27d9a6(0x16b)](_0x22d47b=>{const _0x58db66=_0x27d9a6,[,_0x1edc0b,_0x2ba16a]=_0x22d47b[_0x58db66(0x180)](_0x308983),_0x1613d3=new branch_dto_1[(_0x58db66(0x1b6))]();return _0x1613d3[_0x58db66(0x16f)]=_0x1edc0b,_0x1613d3[_0x58db66(0x19c)]=_0x2ba16a['replace'](_0x58db66(0x191),''),_0x1613d3;});}static async[a147_0x1cc1c6(0x1ab)](_0x13d5e1,_0xff7ddb,_0x260532,_0x2fd82a){const _0x352e56=a147_0x1cc1c6,_0x162b12=_0x13d5e1[_0x352e56(0x18a)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x352e56(0x178)])(_0x13d5e1['gitUrl'])+_0x352e56(0x197)+_0x2fd82a[_0x352e56(0x195)]()+'@'),_0x212fb0=path_1[_0x352e56(0x177)][_0x352e56(0x1b1)](this[_0x352e56(0x1a6)],_0x13d5e1[_0x352e56(0x19c)]);Git[_0x352e56(0x18d)][_0x352e56(0x1c0)]('Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x13d5e1[_0x352e56(0x19c)],_0xff7ddb,_0x212fb0),await fs_internal_1['FS'][_0x352e56(0x1be)](_0x212fb0),await fs_internal_1['FS'][_0x352e56(0x1bc)](_0x212fb0);const _0x44cf76=new Git(_0x212fb0);await utils_2[_0x352e56(0x1a7)][_0x352e56(0x193)](_0x352e56(0x185)+_0x44cf76[_0x352e56(0x196)]+_0x352e56(0x19e),''),await utils_2['ChildProcessUtils'][_0x352e56(0x193)](_0x352e56(0x185)+_0x44cf76[_0x352e56(0x196)]+_0x352e56(0x1a4)+_0x162b12,''),await _0x44cf76[_0x352e56(0x1a3)](constants_1[_0x352e56(0x1ad)],constants_1[_0x352e56(0x1a1)]),await utils_2[_0x352e56(0x1a7)][_0x352e56(0x193)](_0x352e56(0x185)+_0x44cf76[_0x352e56(0x196)]+_0x352e56(0x1a2)+_0xff7ddb,''),await utils_2[_0x352e56(0x1a7)]['spawnPromise'](_0x352e56(0x185)+_0x44cf76[_0x352e56(0x196)]+_0x352e56(0x198)+(_0x260532||constants_1['INITIAL_COMMIT'])+_0x352e56(0x18f),''),await _0x44cf76[_0x352e56(0x16e)](_0xff7ddb),Git[_0x352e56(0x18d)][_0x352e56(0x1c0)](_0x352e56(0x19a)),await fs_internal_1['FS'][_0x352e56(0x1be)](_0x44cf76[_0x352e56(0x196)]);}}exports[a147_0x1cc1c6(0x1af)]=Git,Git[a147_0x1cc1c6(0x1a6)]=path_1[a147_0x1cc1c6(0x177)][a147_0x1cc1c6(0x1b1)](process[a147_0x1cc1c6(0x1b3)](),a147_0x1cc1c6(0x183),a147_0x1cc1c6(0x1ae)),Git[a147_0x1cc1c6(0x18d)]=new core_1[(a147_0x1cc1c6(0x1b4))](Git[a147_0x1cc1c6(0x19c)]);