const a126_0x47843d=a126_0x4c12;(function(_0xd678dd,_0x3aae77){const _0x186145=a126_0x4c12,_0x20434e=_0xd678dd();while(!![]){try{const _0x3f116c=-parseInt(_0x186145(0x10b))/0x1*(-parseInt(_0x186145(0x125))/0x2)+parseInt(_0x186145(0xe2))/0x3*(-parseInt(_0x186145(0xf0))/0x4)+-parseInt(_0x186145(0xfc))/0x5*(parseInt(_0x186145(0xdd))/0x6)+parseInt(_0x186145(0xea))/0x7*(parseInt(_0x186145(0xe6))/0x8)+-parseInt(_0x186145(0x10d))/0x9*(-parseInt(_0x186145(0x107))/0xa)+-parseInt(_0x186145(0xda))/0xb*(-parseInt(_0x186145(0x122))/0xc)+-parseInt(_0x186145(0x11a))/0xd;if(_0x3f116c===_0x3aae77)break;else _0x20434e['push'](_0x20434e['shift']());}catch(_0x1f83c){_0x20434e['push'](_0x20434e['shift']());}}}(a126_0x38b8,0xbd93f));const a126_0x25d8c7=(function(){let _0x5434c6=!![];return function(_0x484f79,_0x392ca1){const _0x5c078a=_0x5434c6?function(){const _0x3fd692=a126_0x4c12;if(_0x392ca1){const _0x285c77=_0x392ca1[_0x3fd692(0xe7)](_0x484f79,arguments);return _0x392ca1=null,_0x285c77;}}:function(){};return _0x5434c6=![],_0x5c078a;};}()),a126_0x2ade7f=a126_0x25d8c7(this,function(){const _0xed4d09=a126_0x4c12;return a126_0x2ade7f[_0xed4d09(0x10c)]()[_0xed4d09(0xf7)](_0xed4d09(0x113))[_0xed4d09(0x10c)]()[_0xed4d09(0xe8)](a126_0x2ade7f)[_0xed4d09(0xf7)](_0xed4d09(0x113));});a126_0x2ade7f();'use strict';function a126_0x38b8(){const _0x19f34c=['\x20&&\x20git\x20checkout\x20','\x20&&\x20git\x20push\x20origin\x20','removeDir','sha','ChildProcessUtils','git\x20ls-remote\x20','\x20&&\x20git\x20remote\x20add\x20origin\x20','://','../../../core','@flosum/utils','checkout\x20to\x20%s','getProtocol','getRemoteHash','defineProperty','.temp','23705SzaXYU','name','makeDir','94614LmHxgX','clone','describe\x20commit\x20%s','\x20&&\x20git\x20checkout\x20--orphan\x20','_repoPath','18YQNBzq','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','join','../../../constants','1904vbuWAO','apply','constructor','getGitShellAuthorizationString','39361XtfJJK','setCredentials','cd\x20','push\x20changes\x20to\x20%s','createEmptyBranch','\x20&&\x20git\x20add\x20','114844nudlxC','spawnPromise','baseDir','cwd','map','\x20--single-branch\x20','default','search','split','__esModule','Git','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','425nqtXGN','status','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','checkout','DEFAULT_CLONE_PATH','extractAuthorFromCommitDescribe','push','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','commit','match','logger','10DEhEdG','getRepositoryBranches','./internal.utils','Logger','31595TuPGbK','toString','208863DpjgyH','git','gitUrl','extractChangesFromCommitDescribe','replace','../../shared/utils','(((.+)+)+)+$','\x20--refs','./fs.internal','path','git\x20clone\x20-b\x20','\x20&&\x20git\x20status','log','3914807MXweqr','DEFAULT_GIT_USER_NAME','filter','then','BranchDto','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','clone\x20repository\x20branch\x20%s\x20to\x20%s','\x20&&\x20git\x20commit\x20-m\x20\x22','2796NwcGvP','describeCommit','add','46aYTtiP','../providers/branches/dto/branch.dto','\x20--quiet','extractMessageFromCommitDescribe'];a126_0x38b8=function(){return _0x19f34c;};return a126_0x38b8();}var __importDefault=this&&this['__importDefault']||function(_0x3c020d){const _0x38aaa1=a126_0x4c12;return _0x3c020d&&_0x3c020d[_0x38aaa1(0xf9)]?_0x3c020d:{'default':_0x3c020d};};Object[a126_0x47843d(0xd8)](exports,a126_0x47843d(0xf9),{'value':!![]}),exports[a126_0x47843d(0xfa)]=void 0x0;function a126_0x4c12(_0x23e35c,_0x351fc9){const _0x1eda2b=a126_0x38b8();return a126_0x4c12=function(_0x2ade7f,_0x25d8c7){_0x2ade7f=_0x2ade7f-0xcc;let _0x38b84d=_0x1eda2b[_0x2ade7f];return _0x38b84d;},a126_0x4c12(_0x23e35c,_0x351fc9);}const constants_1=require(a126_0x47843d(0xe5)),core_1=require(a126_0x47843d(0xd3)),path_1=__importDefault(require(a126_0x47843d(0x116))),branch_dto_1=require(a126_0x47843d(0x126)),utils_1=require(a126_0x47843d(0x112)),fs_internal_1=require(a126_0x47843d(0x115)),internal_utils_1=require(a126_0x47843d(0x109)),utils_2=require(a126_0x47843d(0xd4));class Git{constructor(_0x2f92e3){const _0x446b76=a126_0x47843d;this[_0x446b76(0xe1)]=_0x2f92e3;}get[a126_0x47843d(0xf2)](){return this['_repoPath'];}async['setCredentials'](_0xe1ef0d,_0x89bba6){const _0x3f5ff=a126_0x47843d;await utils_2[_0x3f5ff(0xcf)]['spawnPromise'](_0x3f5ff(0xec)+this[_0x3f5ff(0xe1)]+_0x3f5ff(0x103)+_0xe1ef0d+_0x3f5ff(0x11f)+_0x89bba6+'\x22','');}async[a126_0x47843d(0x124)](..._0xdfa54e){const _0x6d4ec3=a126_0x47843d;await utils_2[_0x6d4ec3(0xcf)]['spawnPromise'](_0x6d4ec3(0xec)+this['_repoPath']+_0x6d4ec3(0xef)+_0xdfa54e[_0x6d4ec3(0xe4)]('\x20'),'');}async[a126_0x47843d(0xfd)](){const _0x1b7dff=a126_0x47843d;return utils_2[_0x1b7dff(0xcf)]['spawnPromise']('cd\x20'+this['_repoPath']+_0x1b7dff(0x118),'');}async[a126_0x47843d(0x104)](_0x4d84f2){const _0x5b67e4=a126_0x47843d;Git[_0x5b67e4(0x106)][_0x5b67e4(0x119)]('commit\x20message\x20\x22%s\x22',_0x4d84f2),await utils_2['ChildProcessUtils'][_0x5b67e4(0xf1)]('cd\x20'+this[_0x5b67e4(0xe1)]+_0x5b67e4(0x121)+_0x4d84f2+'\x22','');}async[a126_0x47843d(0x102)](_0x18ef55){const _0x1624f7=a126_0x47843d;Git[_0x1624f7(0x106)][_0x1624f7(0x119)](_0x1624f7(0xed),_0x18ef55),await utils_2['ChildProcessUtils']['spawnPromise']('cd\x20'+this[_0x1624f7(0xe1)]+_0x1624f7(0xcc)+_0x18ef55+_0x1624f7(0x127),'');}async[a126_0x47843d(0xff)](_0x3d60f6){const _0x260766=a126_0x47843d;Git[_0x260766(0x106)]['log'](_0x260766(0xd5),_0x3d60f6),await utils_2['ChildProcessUtils']['spawnPromise'](_0x260766(0xec)+this['_repoPath']+_0x260766(0x129)+_0x3d60f6,'');}async['getCurrentHash'](){const _0x5d0c9a=a126_0x47843d,_0x18c61a=await utils_2['ChildProcessUtils']['spawnPromise'](_0x5d0c9a(0xec)+this[_0x5d0c9a(0xe1)]+'\x20&&\x20git\x20rev-parse\x20HEAD','');return _0x18c61a[_0x5d0c9a(0x111)]('\x0a','');}async[a126_0x47843d(0x123)](_0x5a2782){const _0x3d8bd8=a126_0x47843d;Git[_0x3d8bd8(0x106)]['log'](_0x3d8bd8(0xdf),_0x5a2782);const _0x68b1af=await utils_2[_0x3d8bd8(0xcf)][_0x3d8bd8(0xf1)](_0x3d8bd8(0xec)+this['_repoPath']+_0x3d8bd8(0xfe)+_0x5a2782,'');return{'author':(0x0,internal_utils_1[_0x3d8bd8(0x101)])(_0x68b1af),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x68b1af),'message':(0x0,internal_utils_1[_0x3d8bd8(0x128)])(_0x68b1af),'changes':(0x0,internal_utils_1[_0x3d8bd8(0x110)])(_0x68b1af)};}static async[a126_0x47843d(0xd7)](_0x1d132a,_0x3ed209){const _0x3531c3=a126_0x47843d,[_0x3d4941]=await utils_2['ChildProcessUtils'][_0x3531c3(0xf1)](_0x3531c3(0xd0)+_0x1d132a+'\x20'+_0x3ed209+_0x3531c3(0x114),'')[_0x3531c3(0x11d)](_0x2f0517=>_0x2f0517[_0x3531c3(0x111)](/\s/g,'\x20')[_0x3531c3(0xf8)]('\x20'));return _0x3d4941;}static async[a126_0x47843d(0xde)](_0x1fd96e,_0x36b2c7,_0x3b1915){const _0x28569f=a126_0x47843d,_0x4fb02c=path_1['default'][_0x28569f(0xe4)](this[_0x28569f(0x100)],_0x36b2c7),_0x235929=new Git(_0x4fb02c);return Git[_0x28569f(0x106)]['log'](_0x28569f(0x120),_0x3b1915,_0x4fb02c),await fs_internal_1['FS'][_0x28569f(0xcd)](_0x4fb02c),await utils_2[_0x28569f(0xcf)][_0x28569f(0xf1)](_0x28569f(0x117)+_0x3b1915+_0x28569f(0xf5)+_0x1fd96e+'\x20'+_0x4fb02c,''),_0x235929;}static async[a126_0x47843d(0x108)](_0x283a25,_0x36058c){const _0x440de1=a126_0x47843d,_0x539fd9=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x5d8ce5=_0x283a25[_0x440de1(0x10f)][_0x440de1(0x111)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x440de1(0xd6)])(_0x283a25['gitUrl'])+_0x440de1(0xd2)+_0x36058c[_0x440de1(0xe9)]()+'@'),_0x5cab37=await utils_2['ChildProcessUtils']['spawnPromise'](_0x440de1(0xd0)+_0x5d8ce5,'');return _0x5cab37[_0x440de1(0xf8)]('\x0a')[_0x440de1(0x11c)](_0x4db6da=>_0x539fd9['test'](_0x4db6da))[_0x440de1(0xf4)](_0x4f72be=>{const _0x33e35b=_0x440de1,[,_0x339c18,_0x4eafae]=_0x4f72be[_0x33e35b(0x105)](_0x539fd9),_0x28771b=new branch_dto_1[(_0x33e35b(0x11e))]();return _0x28771b[_0x33e35b(0xce)]=_0x339c18,_0x28771b[_0x33e35b(0xdb)]=_0x4eafae[_0x33e35b(0x111)]('refs/heads/',''),_0x28771b;});}static async[a126_0x47843d(0xee)](_0x42b13f,_0x89a274,_0x2cc596,_0x3d0620){const _0x106ad9=a126_0x47843d,_0x483a1f=_0x42b13f[_0x106ad9(0x10f)][_0x106ad9(0x111)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x106ad9(0xd6)])(_0x42b13f[_0x106ad9(0x10f)])+'://'+_0x3d0620[_0x106ad9(0xe9)]()+'@'),_0x3d06dc=path_1[_0x106ad9(0xf6)][_0x106ad9(0xe4)](this['DEFAULT_CLONE_PATH'],_0x42b13f[_0x106ad9(0xdb)]);Git[_0x106ad9(0x106)][_0x106ad9(0x119)](_0x106ad9(0xfb),_0x42b13f[_0x106ad9(0xdb)],_0x89a274,_0x3d06dc),await fs_internal_1['FS'][_0x106ad9(0xcd)](_0x3d06dc),await fs_internal_1['FS'][_0x106ad9(0xdc)](_0x3d06dc);const _0x20a996=new Git(_0x3d06dc);await utils_2[_0x106ad9(0xcf)]['spawnPromise'](_0x106ad9(0xec)+_0x20a996[_0x106ad9(0xf2)]+'\x20&&\x20git\x20init',''),await utils_2[_0x106ad9(0xcf)][_0x106ad9(0xf1)](_0x106ad9(0xec)+_0x20a996[_0x106ad9(0xf2)]+_0x106ad9(0xd1)+_0x483a1f,''),await _0x20a996[_0x106ad9(0xeb)](constants_1[_0x106ad9(0x11b)],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0x106ad9(0xcf)][_0x106ad9(0xf1)](_0x106ad9(0xec)+_0x20a996[_0x106ad9(0xf2)]+_0x106ad9(0xe0)+_0x89a274,''),await utils_2[_0x106ad9(0xcf)][_0x106ad9(0xf1)](_0x106ad9(0xec)+_0x20a996[_0x106ad9(0xf2)]+_0x106ad9(0x121)+(_0x2cc596||constants_1['INITIAL_COMMIT'])+'\x22\x20--allow-empty',''),await _0x20a996['push'](_0x89a274),Git[_0x106ad9(0x106)][_0x106ad9(0x119)](_0x106ad9(0xe3)),await fs_internal_1['FS']['removeDir'](_0x20a996[_0x106ad9(0xf2)]);}}exports[a126_0x47843d(0xfa)]=Git,Git[a126_0x47843d(0x100)]=path_1[a126_0x47843d(0xf6)][a126_0x47843d(0xe4)](process[a126_0x47843d(0xf3)](),a126_0x47843d(0xd9),a126_0x47843d(0x10e)),Git[a126_0x47843d(0x106)]=new core_1[(a126_0x47843d(0x10a))](Git[a126_0x47843d(0xdb)]);