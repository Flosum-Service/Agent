const a149_0x57f411=a149_0x3252;(function(_0x418bb3,_0x115d20){const _0x7ee3af=a149_0x3252,_0x46b5e3=_0x418bb3();while(!![]){try{const _0x19fd2f=parseInt(_0x7ee3af(0x136))/0x1+parseInt(_0x7ee3af(0x116))/0x2+parseInt(_0x7ee3af(0x115))/0x3+-parseInt(_0x7ee3af(0x100))/0x4+parseInt(_0x7ee3af(0x117))/0x5*(-parseInt(_0x7ee3af(0x109))/0x6)+parseInt(_0x7ee3af(0x104))/0x7*(parseInt(_0x7ee3af(0x11b))/0x8)+-parseInt(_0x7ee3af(0xf7))/0x9;if(_0x19fd2f===_0x115d20)break;else _0x46b5e3['push'](_0x46b5e3['shift']());}catch(_0x3ce8f1){_0x46b5e3['push'](_0x46b5e3['shift']());}}}(a149_0x166d,0xb7c07));const a149_0x299875=(function(){let _0x5e4568=!![];return function(_0x17c823,_0x27bc31){const _0x20a716=_0x5e4568?function(){const _0x52b9e2=a149_0x3252;if(_0x27bc31){const _0x3a07ae=_0x27bc31[_0x52b9e2(0xfe)](_0x17c823,arguments);return _0x27bc31=null,_0x3a07ae;}}:function(){};return _0x5e4568=![],_0x20a716;};}()),a149_0x33bf10=a149_0x299875(this,function(){const _0x26e190=a149_0x3252;return a149_0x33bf10[_0x26e190(0x131)]()[_0x26e190(0x130)]('(((.+)+)+)+$')[_0x26e190(0x131)]()['constructor'](a149_0x33bf10)[_0x26e190(0x130)](_0x26e190(0x12e));});function a149_0x166d(){const _0x1ea4a1=['clone','INITIAL_COMMIT','\x20--refs','_repoPath','(((.+)+)+)+$','__importDefault','search','toString','DEFAULT_CLONE_PATH','spawnPromise','extractAuthorFromCommitDescribe','\x20&&\x20git\x20remote\x20add\x20origin\x20','1452697sGNTzo','log','removeDir','__esModule','baseDir','Push\x20changes\x20to\x20%s','getGitShellAuthorizationString','\x20&&\x20git\x20push\x20origin\x20','status','DEFAULT_GIT_USER_NAME','Commit\x20message\x20\x22%s\x22','../providers/branches/dto/branch.dto','git','\x20&&\x20git\x20add\x20','name','getCurrentHash','Create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]','git\x20clone\x20-b\x20','./fs.internal','setCredentials','refs/heads/','makeDir','split','1158048GLzOcH','push','default','getProtocol','../../../core','Clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','replace','apply','\x20--quiet','2140944niKrbo','getRemoteHash','cd\x20','Checkout\x20to\x20%s','14TVLNvK','map','\x20&&\x20git\x20rev-parse\x20HEAD','ChildProcessUtils','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','1075152UMNkrQ','\x20&&\x20git\x20checkout\x20','filter','git\x20ls-remote\x20','Describe\x20commit\x20%s','user','extractMessageFromCommitDescribe','./internal.utils','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','BranchDto','\x20&&\x20git\x20init','\x20--single-branch\x20','1118898WuOlnD','866932YKomAh','25kkcKjt','join','test','../../../constants','213544gZdqGt','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','Git','createEmptyBranch','extractChangesFromCommitDescribe','then','://','logger','gitUrl','cwd','\x20&&\x20git\x20checkout\x20--orphan\x20','Clone\x20repository\x20branch\x20%s\x20to\x20%s','path','email','match'];a149_0x166d=function(){return _0x1ea4a1;};return a149_0x166d();}a149_0x33bf10();'use strict';var __importDefault=this&&this[a149_0x57f411(0x12f)]||function(_0x3e4a72){const _0x59d515=a149_0x57f411;return _0x3e4a72&&_0x3e4a72[_0x59d515(0x139)]?_0x3e4a72:{'default':_0x3e4a72};};Object['defineProperty'](exports,a149_0x57f411(0x139),{'value':!![]}),exports[a149_0x57f411(0x11d)]=void 0x0;const constants_1=require(a149_0x57f411(0x11a)),core_1=require(a149_0x57f411(0xfb)),path_1=__importDefault(require(a149_0x57f411(0x127))),branch_dto_1=require(a149_0x57f411(0xeb)),utils_1=require('../../shared/utils'),fs_internal_1=require(a149_0x57f411(0xf2)),internal_utils_1=require(a149_0x57f411(0x110)),utils_2=require('@flosum/utils');function a149_0x3252(_0xb8edc0,_0xcc75b5){const _0xa7b626=a149_0x166d();return a149_0x3252=function(_0x33bf10,_0x299875){_0x33bf10=_0x33bf10-0xe7;let _0x166d57=_0xa7b626[_0x33bf10];return _0x166d57;},a149_0x3252(_0xb8edc0,_0xcc75b5);}class Git{constructor(_0x2f7270){const _0x4d0581=a149_0x57f411;this[_0x4d0581(0x12d)]=_0x2f7270;}get[a149_0x57f411(0x13a)](){const _0x11e1e4=a149_0x57f411;return this[_0x11e1e4(0x12d)];}async[a149_0x57f411(0xf3)](_0x1174cc,_0x1d6b0e){const _0x26257a=a149_0x57f411;await utils_2[_0x26257a(0x107)][_0x26257a(0x133)](_0x26257a(0x102)+this[_0x26257a(0x12d)]+_0x26257a(0x11c)+_0x1174cc+_0x26257a(0x108)+_0x1d6b0e+'\x22','');}async['add'](..._0x5716b9){const _0x2ccdaa=a149_0x57f411;await utils_2[_0x2ccdaa(0x107)]['spawnPromise'](_0x2ccdaa(0x102)+this[_0x2ccdaa(0x12d)]+_0x2ccdaa(0xed)+_0x5716b9['join']('\x20'),'');}async[a149_0x57f411(0xe8)](){const _0x39355d=a149_0x57f411;return utils_2[_0x39355d(0x107)][_0x39355d(0x133)](_0x39355d(0x102)+this[_0x39355d(0x12d)]+'\x20&&\x20git\x20status','');}async['commit'](_0x553c68){const _0x592b54=a149_0x57f411;Git['logger'][_0x592b54(0x137)](_0x592b54(0xea),_0x553c68),await utils_2[_0x592b54(0x107)][_0x592b54(0x133)](_0x592b54(0x102)+this[_0x592b54(0x12d)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x553c68+'\x22','');}async[a149_0x57f411(0xf8)](_0x1b9c82){const _0x790f3a=a149_0x57f411;Git[_0x790f3a(0x122)][_0x790f3a(0x137)](_0x790f3a(0x13b),_0x1b9c82),await utils_2[_0x790f3a(0x107)][_0x790f3a(0x133)](_0x790f3a(0x102)+this['_repoPath']+_0x790f3a(0xe7)+_0x1b9c82+_0x790f3a(0xff),'');}async['checkout'](_0x4ca065){const _0x9eb801=a149_0x57f411;Git[_0x9eb801(0x122)][_0x9eb801(0x137)](_0x9eb801(0x103),_0x4ca065),await utils_2[_0x9eb801(0x107)][_0x9eb801(0x133)](_0x9eb801(0x102)+this[_0x9eb801(0x12d)]+_0x9eb801(0x10a)+_0x4ca065,'');}async[a149_0x57f411(0xef)](){const _0x313def=a149_0x57f411,_0x5a8671=await utils_2[_0x313def(0x107)][_0x313def(0x133)](_0x313def(0x102)+this['_repoPath']+_0x313def(0x106),'');return _0x5a8671['replace']('\x0a','');}async['describeCommit'](_0x1b64a5){const _0x39656d=a149_0x57f411;Git[_0x39656d(0x122)]['log'](_0x39656d(0x10d),_0x1b64a5);const _0x1e8c7f=await utils_2[_0x39656d(0x107)][_0x39656d(0x133)](_0x39656d(0x102)+this['_repoPath']+_0x39656d(0x111)+_0x1b64a5,'');return{'author':(0x0,internal_utils_1[_0x39656d(0x134)])(_0x1e8c7f),'email':(0x0,internal_utils_1['extractEmailFromCommitDescribe'])(_0x1e8c7f),'message':(0x0,internal_utils_1[_0x39656d(0x10f)])(_0x1e8c7f),'changes':(0x0,internal_utils_1[_0x39656d(0x11f)])(_0x1e8c7f)};}static async[a149_0x57f411(0x101)](_0x6b4a6f,_0x482d69){const _0x12b462=a149_0x57f411,[_0x1562a4]=await utils_2['ChildProcessUtils']['spawnPromise'](_0x12b462(0x10c)+_0x6b4a6f+'\x20'+_0x482d69+_0x12b462(0x12c),'')[_0x12b462(0x120)](_0x4d574d=>_0x4d574d[_0x12b462(0xfd)](/\s/g,'\x20')['split']('\x20'));return _0x1562a4;}static async[a149_0x57f411(0x12a)](_0x297148,_0x404808,_0x3df6d9){const _0x570c12=a149_0x57f411,_0x10a5b8=path_1[_0x570c12(0xf9)][_0x570c12(0x118)](this[_0x570c12(0x132)],_0x404808),_0x27ff61=new Git(_0x10a5b8);return Git[_0x570c12(0x122)][_0x570c12(0x137)](_0x570c12(0x126),_0x3df6d9,_0x10a5b8),await fs_internal_1['FS'][_0x570c12(0x138)](_0x10a5b8),await utils_2[_0x570c12(0x107)][_0x570c12(0x133)](_0x570c12(0xf1)+_0x3df6d9+_0x570c12(0x114)+_0x297148+'\x20'+_0x10a5b8,''),_0x27ff61;}static async['getRepositoryBranches'](_0x8ab398,_0x209d7c){const _0x5b1fda=a149_0x57f411,_0x2a24f1=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x12b35e=_0x8ab398[_0x5b1fda(0x123)][_0x5b1fda(0xfd)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x5b1fda(0xfa)])(_0x8ab398[_0x5b1fda(0x123)])+_0x5b1fda(0x121)+_0x209d7c[_0x5b1fda(0x13c)]()+'@'),_0x53869f=await utils_2[_0x5b1fda(0x107)]['spawnPromise'](_0x5b1fda(0x10c)+_0x12b35e,'');return _0x53869f[_0x5b1fda(0xf6)]('\x0a')[_0x5b1fda(0x10b)](_0xca5512=>_0x2a24f1[_0x5b1fda(0x119)](_0xca5512))[_0x5b1fda(0x105)](_0x57fbab=>{const _0x1ee9d7=_0x5b1fda,[,_0x1e8ce4,_0x4dd01c]=_0x57fbab[_0x1ee9d7(0x129)](_0x2a24f1),_0x3fdffd=new branch_dto_1[(_0x1ee9d7(0x112))]();return _0x3fdffd['sha']=_0x1e8ce4,_0x3fdffd[_0x1ee9d7(0xee)]=_0x4dd01c[_0x1ee9d7(0xfd)](_0x1ee9d7(0xf4),''),_0x3fdffd;});}static async[a149_0x57f411(0x11e)](_0x14f7dc,_0x514f2e,_0x668049,_0x141128){const _0x36ea6d=a149_0x57f411;var _0x77543f,_0x5064fb;const _0x1d63d2=_0x14f7dc['gitUrl'][_0x36ea6d(0xfd)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x36ea6d(0xfa)])(_0x14f7dc[_0x36ea6d(0x123)])+_0x36ea6d(0x121)+_0x141128[_0x36ea6d(0x13c)]()+'@'),_0x3015b9=path_1[_0x36ea6d(0xf9)]['join'](this[_0x36ea6d(0x132)],_0x14f7dc['name']);Git[_0x36ea6d(0x122)][_0x36ea6d(0x137)](_0x36ea6d(0xf0),_0x14f7dc[_0x36ea6d(0xee)],_0x514f2e[_0x36ea6d(0xee)],_0x3015b9),await fs_internal_1['FS']['removeDir'](_0x3015b9),await fs_internal_1['FS'][_0x36ea6d(0xf5)](_0x3015b9);const _0x3aae84=new Git(_0x3015b9);await utils_2[_0x36ea6d(0x107)]['spawnPromise']('cd\x20'+_0x3aae84[_0x36ea6d(0x13a)]+_0x36ea6d(0x113),''),await utils_2[_0x36ea6d(0x107)]['spawnPromise']('cd\x20'+_0x3aae84[_0x36ea6d(0x13a)]+_0x36ea6d(0x135)+_0x1d63d2,''),await _0x3aae84[_0x36ea6d(0xf3)](((_0x77543f=_0x514f2e[_0x36ea6d(0x10e)])===null||_0x77543f===void 0x0?void 0x0:_0x77543f[_0x36ea6d(0xee)])||constants_1[_0x36ea6d(0xe9)],((_0x5064fb=_0x514f2e[_0x36ea6d(0x10e)])===null||_0x5064fb===void 0x0?void 0x0:_0x5064fb[_0x36ea6d(0x128)])||constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0x36ea6d(0x107)][_0x36ea6d(0x133)](_0x36ea6d(0x102)+_0x3aae84[_0x36ea6d(0x13a)]+_0x36ea6d(0x125)+_0x514f2e[_0x36ea6d(0xee)],''),await utils_2['ChildProcessUtils'][_0x36ea6d(0x133)](_0x36ea6d(0x102)+_0x3aae84[_0x36ea6d(0x13a)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+(_0x668049||constants_1[_0x36ea6d(0x12b)])+'\x22\x20--allow-empty',''),await _0x3aae84[_0x36ea6d(0xf8)](_0x514f2e[_0x36ea6d(0xee)]),Git[_0x36ea6d(0x122)][_0x36ea6d(0x137)](_0x36ea6d(0xfc)),await fs_internal_1['FS']['removeDir'](_0x3aae84['baseDir']);}}exports[a149_0x57f411(0x11d)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a149_0x57f411(0xf9)]['join'](process[a149_0x57f411(0x124)](),'.temp',a149_0x57f411(0xec)),Git[a149_0x57f411(0x122)]=new core_1['Logger'](Git['name']);