const a126_0x413408=a126_0x6b05;(function(_0x5c6614,_0x37cb74){const _0xd58f52=a126_0x6b05,_0x4e3d10=_0x5c6614();while(!![]){try{const _0x3ac9f7=-parseInt(_0xd58f52(0x222))/0x1+-parseInt(_0xd58f52(0x1e9))/0x2*(-parseInt(_0xd58f52(0x213))/0x3)+parseInt(_0xd58f52(0x228))/0x4+-parseInt(_0xd58f52(0x209))/0x5+-parseInt(_0xd58f52(0x1e2))/0x6*(parseInt(_0xd58f52(0x1dc))/0x7)+parseInt(_0xd58f52(0x200))/0x8+parseInt(_0xd58f52(0x20a))/0x9;if(_0x3ac9f7===_0x37cb74)break;else _0x4e3d10['push'](_0x4e3d10['shift']());}catch(_0x4dbd3a){_0x4e3d10['push'](_0x4e3d10['shift']());}}}(a126_0xef78,0x19b7e));const a126_0x43239c=(function(){let _0x5aff2d=!![];return function(_0x570924,_0x40c1c4){const _0x470fdf=_0x5aff2d?function(){const _0x47160f=a126_0x6b05;if(_0x40c1c4){const _0x3fce4a=_0x40c1c4[_0x47160f(0x21c)](_0x570924,arguments);return _0x40c1c4=null,_0x3fce4a;}}:function(){};return _0x5aff2d=![],_0x470fdf;};}()),a126_0xd324b5=a126_0x43239c(this,function(){const _0x3ab2c8=a126_0x6b05;return a126_0xd324b5[_0x3ab2c8(0x1f8)]()[_0x3ab2c8(0x1e5)](_0x3ab2c8(0x21d))[_0x3ab2c8(0x1f8)]()['constructor'](a126_0xd324b5)[_0x3ab2c8(0x1e5)](_0x3ab2c8(0x21d));});a126_0xd324b5();'use strict';function a126_0x6b05(_0x42c43f,_0x4945a1){const _0x1b3a71=a126_0xef78();return a126_0x6b05=function(_0xd324b5,_0x43239c){_0xd324b5=_0xd324b5-0x1da;let _0xef781f=_0x1b3a71[_0xd324b5];return _0xef781f;},a126_0x6b05(_0x42c43f,_0x4945a1);}function a126_0xef78(){const _0x25d1d3=['../providers/branches/dto/branch.dto','log','252640IWrkkY','DEFAULT_GIT_USER_NAME','makeDir','getGitShellAuthorizationString','removeDir','\x20&&\x20git\x20push\x20origin\x20','clone\x20repository\x20branch\x20%s\x20to\x20%s','checkout\x20to\x20%s','clone','\x20&&\x20git\x20status','cwd','INITIAL_COMMIT','Git','\x20&&\x20git\x20init','\x20&&\x20git\x20add\x20','toString','\x20--single-branch\x20','_repoPath','../../shared/utils','__importDefault','../../../core','__esModule','defineProperty','110800LYVPBb','./fs.internal','\x20--quiet','extractAuthorFromCommitDescribe','\x20&&\x20git\x20checkout\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','extractEmailFromCommitDescribe','default','DEFAULT_CLONE_PATH','769645QdgPMM','2204244fuUZIZ','ChildProcessUtils','BranchDto','cd\x20','push\x20changes\x20to\x20%s','commit','getCurrentHash','extractChangesFromCommitDescribe','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','3pDwLmW','getProtocol','spawnPromise','push','getRepositoryBranches','name','sha','status','replace','apply','(((.+)+)+)+$','map','join','git\x20ls-remote\x20','\x20--refs','71201BuQrvY','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20remote\x20add\x20origin\x20','filter','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','@flosum/utils','471212UsUtcH','gitUrl','\x20&&\x20git\x20rev-parse\x20HEAD','../../../constants','7GijKAr','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','git','baseDir','./internal.utils','describeCommit','1034502DYLYoq','match','logger','search','split'];a126_0xef78=function(){return _0x25d1d3;};return a126_0xef78();}var __importDefault=this&&this[a126_0x413408(0x1fc)]||function(_0x1507e2){const _0x2ef3d3=a126_0x413408;return _0x1507e2&&_0x1507e2[_0x2ef3d3(0x1fe)]?_0x1507e2:{'default':_0x1507e2};};Object[a126_0x413408(0x1ff)](exports,'__esModule',{'value':!![]}),exports[a126_0x413408(0x1f5)]=void 0x0;const constants_1=require(a126_0x413408(0x1db)),core_1=require(a126_0x413408(0x1fd)),path_1=__importDefault(require('path')),branch_dto_1=require(a126_0x413408(0x1e7)),utils_1=require(a126_0x413408(0x1fb)),fs_internal_1=require(a126_0x413408(0x201)),internal_utils_1=require(a126_0x413408(0x1e0)),utils_2=require(a126_0x413408(0x227));class Git{constructor(_0x31f7bc){const _0x522d6b=a126_0x413408;this[_0x522d6b(0x1fa)]=_0x31f7bc;}get[a126_0x413408(0x1df)](){const _0x13f0d1=a126_0x413408;return this[_0x13f0d1(0x1fa)];}async['setCredentials'](_0x1b21be,_0x265559){const _0x548b37=a126_0x413408;await utils_2[_0x548b37(0x20b)][_0x548b37(0x215)](_0x548b37(0x20d)+this[_0x548b37(0x1fa)]+_0x548b37(0x226)+_0x1b21be+_0x548b37(0x1dd)+_0x265559+'\x22','');}async['add'](..._0x1e6f7d){const _0x2bbb77=a126_0x413408;await utils_2['ChildProcessUtils'][_0x2bbb77(0x215)](_0x2bbb77(0x20d)+this['_repoPath']+_0x2bbb77(0x1f7)+_0x1e6f7d[_0x2bbb77(0x21f)]('\x20'),'');}async[a126_0x413408(0x21a)](){const _0x281e73=a126_0x413408;return utils_2[_0x281e73(0x20b)][_0x281e73(0x215)](_0x281e73(0x20d)+this[_0x281e73(0x1fa)]+_0x281e73(0x1f2),'');}async[a126_0x413408(0x20f)](_0x5aa499){const _0xfd7fd7=a126_0x413408;Git[_0xfd7fd7(0x1e4)][_0xfd7fd7(0x1e8)](_0xfd7fd7(0x223),_0x5aa499),await utils_2[_0xfd7fd7(0x20b)]['spawnPromise'](_0xfd7fd7(0x20d)+this[_0xfd7fd7(0x1fa)]+_0xfd7fd7(0x205)+_0x5aa499+'\x22','');}async[a126_0x413408(0x216)](_0x342cc2){const _0x2b01d1=a126_0x413408;Git['logger'][_0x2b01d1(0x1e8)](_0x2b01d1(0x20e),_0x342cc2),await utils_2[_0x2b01d1(0x20b)][_0x2b01d1(0x215)](_0x2b01d1(0x20d)+this[_0x2b01d1(0x1fa)]+_0x2b01d1(0x1ee)+_0x342cc2+_0x2b01d1(0x202),'');}async['checkout'](_0x3e91f6){const _0x6466b9=a126_0x413408;Git[_0x6466b9(0x1e4)][_0x6466b9(0x1e8)](_0x6466b9(0x1f0),_0x3e91f6),await utils_2['ChildProcessUtils'][_0x6466b9(0x215)](_0x6466b9(0x20d)+this[_0x6466b9(0x1fa)]+_0x6466b9(0x204)+_0x3e91f6,'');}async[a126_0x413408(0x210)](){const _0x50be59=a126_0x413408,_0x4f2d96=await utils_2['ChildProcessUtils'][_0x50be59(0x215)](_0x50be59(0x20d)+this['_repoPath']+_0x50be59(0x1da),'');return _0x4f2d96[_0x50be59(0x21b)]('\x0a','');}async[a126_0x413408(0x1e1)](_0xf657b){const _0x36fff5=a126_0x413408;Git[_0x36fff5(0x1e4)]['log']('describe\x20commit\x20%s',_0xf657b);const _0xea5ac4=await utils_2[_0x36fff5(0x20b)][_0x36fff5(0x215)]('cd\x20'+this[_0x36fff5(0x1fa)]+_0x36fff5(0x212)+_0xf657b,'');return{'author':(0x0,internal_utils_1[_0x36fff5(0x203)])(_0xea5ac4),'email':(0x0,internal_utils_1[_0x36fff5(0x206)])(_0xea5ac4),'message':(0x0,internal_utils_1['extractMessageFromCommitDescribe'])(_0xea5ac4),'changes':(0x0,internal_utils_1[_0x36fff5(0x211)])(_0xea5ac4)};}static async['getRemoteHash'](_0x24f03a,_0x40d9dd){const _0x87f3de=a126_0x413408,[_0x411b5a]=await utils_2[_0x87f3de(0x20b)][_0x87f3de(0x215)](_0x87f3de(0x220)+_0x24f03a+'\x20'+_0x40d9dd+_0x87f3de(0x221),'')['then'](_0x32b3e7=>_0x32b3e7[_0x87f3de(0x21b)](/\s/g,'\x20')[_0x87f3de(0x1e6)]('\x20'));return _0x411b5a;}static async[a126_0x413408(0x1f1)](_0x290c6f,_0x301580,_0x3ba8d1){const _0x3d6728=a126_0x413408,_0x2e7bab=path_1[_0x3d6728(0x207)][_0x3d6728(0x21f)](this[_0x3d6728(0x208)],_0x301580),_0x39b232=new Git(_0x2e7bab);return Git[_0x3d6728(0x1e4)][_0x3d6728(0x1e8)](_0x3d6728(0x1ef),_0x3ba8d1,_0x2e7bab),await fs_internal_1['FS'][_0x3d6728(0x1ed)](_0x2e7bab),await utils_2[_0x3d6728(0x20b)][_0x3d6728(0x215)]('git\x20clone\x20-b\x20'+_0x3ba8d1+_0x3d6728(0x1f9)+_0x290c6f+'\x20'+_0x2e7bab,''),_0x39b232;}static async[a126_0x413408(0x217)](_0x360983,_0x512fdd){const _0x24eadf=a126_0x413408,_0x27f320=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,_0x3c3fe0=_0x360983[_0x24eadf(0x229)][_0x24eadf(0x21b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x24eadf(0x214)])(_0x360983[_0x24eadf(0x229)])+'://'+_0x512fdd[_0x24eadf(0x1ec)]()+'@'),_0x14ee86=await utils_2[_0x24eadf(0x20b)][_0x24eadf(0x215)](_0x24eadf(0x220)+_0x3c3fe0,'');return _0x14ee86['split']('\x0a')[_0x24eadf(0x225)](_0x4ce722=>_0x27f320['test'](_0x4ce722))[_0x24eadf(0x21e)](_0x297f7a=>{const _0x51d587=_0x24eadf,[,_0x3f7c72,_0x4d8f95]=_0x297f7a[_0x51d587(0x1e3)](_0x27f320),_0x47779f=new branch_dto_1[(_0x51d587(0x20c))]();return _0x47779f[_0x51d587(0x219)]=_0x3f7c72,_0x47779f[_0x51d587(0x218)]=_0x4d8f95[_0x51d587(0x21b)]('refs/heads/',''),_0x47779f;});}static async['createEmptyBranch'](_0x2a67da,_0x476e03,_0x540db0,_0x35686e){const _0x52fdfc=a126_0x413408,_0x185dee=_0x2a67da[_0x52fdfc(0x229)][_0x52fdfc(0x21b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x52fdfc(0x214)])(_0x2a67da[_0x52fdfc(0x229)])+'://'+_0x35686e[_0x52fdfc(0x1ec)]()+'@'),_0x5773e2=path_1[_0x52fdfc(0x207)][_0x52fdfc(0x21f)](this[_0x52fdfc(0x208)],_0x2a67da[_0x52fdfc(0x218)]);Git[_0x52fdfc(0x1e4)][_0x52fdfc(0x1e8)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]',_0x2a67da[_0x52fdfc(0x218)],_0x476e03,_0x5773e2),await fs_internal_1['FS'][_0x52fdfc(0x1ed)](_0x5773e2),await fs_internal_1['FS'][_0x52fdfc(0x1eb)](_0x5773e2);const _0x2f0ad2=new Git(_0x5773e2);await utils_2[_0x52fdfc(0x20b)][_0x52fdfc(0x215)](_0x52fdfc(0x20d)+_0x2f0ad2['baseDir']+_0x52fdfc(0x1f6),''),await utils_2[_0x52fdfc(0x20b)][_0x52fdfc(0x215)](_0x52fdfc(0x20d)+_0x2f0ad2[_0x52fdfc(0x1df)]+_0x52fdfc(0x224)+_0x185dee,''),await _0x2f0ad2['setCredentials'](constants_1[_0x52fdfc(0x1ea)],constants_1['DEFAULT_GIT_USER_EMAIL']),await utils_2[_0x52fdfc(0x20b)][_0x52fdfc(0x215)]('cd\x20'+_0x2f0ad2[_0x52fdfc(0x1df)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x476e03,''),await utils_2[_0x52fdfc(0x20b)][_0x52fdfc(0x215)](_0x52fdfc(0x20d)+_0x2f0ad2[_0x52fdfc(0x1df)]+_0x52fdfc(0x205)+(_0x540db0||constants_1[_0x52fdfc(0x1f4)])+'\x22\x20--allow-empty',''),await _0x2f0ad2[_0x52fdfc(0x216)](_0x476e03),Git[_0x52fdfc(0x1e4)][_0x52fdfc(0x1e8)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x52fdfc(0x1ed)](_0x2f0ad2['baseDir']);}}exports[a126_0x413408(0x1f5)]=Git,Git[a126_0x413408(0x208)]=path_1[a126_0x413408(0x207)][a126_0x413408(0x21f)](process[a126_0x413408(0x1f3)](),'.temp',a126_0x413408(0x1de)),Git[a126_0x413408(0x1e4)]=new core_1['Logger'](Git[a126_0x413408(0x218)]);