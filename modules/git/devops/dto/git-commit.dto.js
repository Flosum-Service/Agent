const a116_0x543cd8=a116_0x27da;(function(_0x1e6910,_0x34edcb){const _0x5e055e=a116_0x27da,_0x8ce4ab=_0x1e6910();while(!![]){try{const _0x41ad92=-parseInt(_0x5e055e(0x112))/0x1*(parseInt(_0x5e055e(0x11e))/0x2)+-parseInt(_0x5e055e(0x11c))/0x3*(-parseInt(_0x5e055e(0xfa))/0x4)+parseInt(_0x5e055e(0xec))/0x5+parseInt(_0x5e055e(0x122))/0x6+parseInt(_0x5e055e(0x108))/0x7+parseInt(_0x5e055e(0x11a))/0x8*(-parseInt(_0x5e055e(0xe9))/0x9)+-parseInt(_0x5e055e(0xf3))/0xa;if(_0x41ad92===_0x34edcb)break;else _0x8ce4ab['push'](_0x8ce4ab['shift']());}catch(_0x20f149){_0x8ce4ab['push'](_0x8ce4ab['shift']());}}}(a116_0x203c,0x54cd6));function a116_0x27da(_0x21503e,_0x187226){const _0x59f920=a116_0x203c();return a116_0x27da=function(_0x268845,_0x4114d4){_0x268845=_0x268845-0xe3;let _0x203c82=_0x59f920[_0x268845];return _0x203c82;},a116_0x27da(_0x21503e,_0x187226);}const a116_0x4114d4=(function(){let _0x3e9c74=!![];return function(_0x2a1849,_0x34e1d9){const _0x231c34=_0x3e9c74?function(){const _0x90eca6=a116_0x27da;if(_0x34e1d9){const _0x5690df=_0x34e1d9[_0x90eca6(0xf4)](_0x2a1849,arguments);return _0x34e1d9=null,_0x5690df;}}:function(){};return _0x3e9c74=![],_0x231c34;};}()),a116_0x268845=a116_0x4114d4(this,function(){const _0x2bcefd=a116_0x27da;return a116_0x268845[_0x2bcefd(0x109)]()[_0x2bcefd(0x120)](_0x2bcefd(0xf9))[_0x2bcefd(0x109)]()['constructor'](a116_0x268845)[_0x2bcefd(0x120)]('(((.+)+)+)+$');});function a116_0x203c(){const _0x3a956f=['name','commits','../../../../constants/errors','refUpdates','6816380wmtfpa','apply','body','GitCommitDto','html','fromAzure','(((.+)+)+)+$','384500FqXFvs','href','fromGithub','repo:push','links','user_username','startsWith','pusher','repositoryGit','refs/heads/','x-github-event','repository','find','commitId','418733CejpCN','toString','fromGitlab','branch','new','push','target','x-gitlab-event','ERR_UNSUPPORTED_EVENT','map','33RNwcLx','displayName','git.push','fromBitbucketServer','http','../../../../core/errors/bad-request.error','fromBitbucket','refId','2220488oKqfKE','req','15mwNCma','.git','14176siAluS','changes','search','username','4079928xeCPro','resource','force','git_http_url','hash','ref','x-event-key','9gOEzdm','BadRequestError','headers','1600105DzUUig','pushedBy','replace'];a116_0x203c=function(){return _0x3a956f;};return a116_0x203c();}a116_0x268845();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a116_0x543cd8(0xf6)]=void 0x0;const errors_1=require(a116_0x543cd8(0xf1)),bad_request_error_1=require(a116_0x543cd8(0x117));class GitCommitDto{constructor(){const _0x432fba=a116_0x543cd8;this[_0x432fba(0xe4)]=![];}static[a116_0x543cd8(0x115)](_0x3756fe){const _0x2a194c=a116_0x543cd8;var _0x3c06e6,_0x2706d3;if(_0x3756fe[_0x2a194c(0x11b)][_0x2a194c(0xeb)][_0x2a194c(0xe8)]!=='repo:refs_changed')throw new bad_request_error_1[(_0x2a194c(0xea))](errors_1[_0x2a194c(0x110)]);const _0x3631e9=new GitCommitDto(),_0x5ab618=_0x3756fe[_0x2a194c(0x11b)][_0x2a194c(0xf5)];return _0x3631e9[_0x2a194c(0x105)]=_0x5ab618['repository'][_0x2a194c(0xef)],_0x3631e9[_0x2a194c(0x10b)]=_0x5ab618[_0x2a194c(0x11f)][0x0][_0x2a194c(0x119)][_0x2a194c(0xee)](_0x2a194c(0x103),''),_0x3631e9['repositoryGit']=(_0x2706d3=(_0x3c06e6=_0x5ab618[_0x2a194c(0x105)][_0x2a194c(0xfe)]['clone'])===null||_0x3c06e6===void 0x0?void 0x0:_0x3c06e6[_0x2a194c(0x106)](_0x3a94f1=>_0x3a94f1['name'][_0x2a194c(0x100)](_0x2a194c(0x116))))===null||_0x2706d3===void 0x0?void 0x0:_0x2706d3[_0x2a194c(0xfb)],_0x3631e9[_0x2a194c(0x121)]=_0x5ab618['actor']['displayName'],_0x3631e9['commits']=_0x5ab618[_0x2a194c(0x11f)][_0x2a194c(0x111)](_0x153953=>({'id':_0x153953['toHash']})),_0x3631e9;}static[a116_0x543cd8(0x118)](_0x37db9a){const _0x4210c1=a116_0x543cd8;if(_0x37db9a[_0x4210c1(0x11b)][_0x4210c1(0xeb)]['x-event-key']!==_0x4210c1(0xfd))throw new bad_request_error_1['BadRequestError'](errors_1[_0x4210c1(0x110)]);const _0x30ef26=new GitCommitDto(),_0x488035=_0x37db9a[_0x4210c1(0x11b)][_0x4210c1(0xf5)];return _0x30ef26[_0x4210c1(0x105)]=_0x488035[_0x4210c1(0x105)][_0x4210c1(0xef)],_0x30ef26[_0x4210c1(0x10b)]=_0x488035[_0x4210c1(0x10d)]['changes'][0x0][_0x4210c1(0x10c)][_0x4210c1(0xef)][_0x4210c1(0xee)](_0x4210c1(0x103),''),_0x30ef26[_0x4210c1(0x102)]=_0x488035[_0x4210c1(0x105)]['links'][_0x4210c1(0xf7)][_0x4210c1(0xfb)]+_0x4210c1(0x11d),_0x30ef26['username']='',_0x30ef26[_0x4210c1(0xf0)]=_0x488035[_0x4210c1(0x10d)]['changes'][_0x4210c1(0x111)](_0x1f462e=>({'id':_0x1f462e['new'][_0x4210c1(0x10e)][_0x4210c1(0xe6)]})),_0x30ef26;}static[a116_0x543cd8(0xf8)](_0x5bcb7d){const _0x46d886=a116_0x543cd8;if(_0x5bcb7d['req'][_0x46d886(0xf5)]['eventType']!==_0x46d886(0x114))throw new bad_request_error_1[(_0x46d886(0xea))](errors_1[_0x46d886(0x110)]);const _0x202367=new GitCommitDto(),_0x1d6176=_0x5bcb7d[_0x46d886(0x11b)][_0x46d886(0xf5)][_0x46d886(0xe3)];return _0x202367['repository']=_0x1d6176['repository']['name'],_0x202367[_0x46d886(0x10b)]=_0x1d6176[_0x46d886(0xf2)][0x0][_0x46d886(0xef)]['replace'](_0x46d886(0x103),''),_0x202367[_0x46d886(0x102)]=_0x1d6176[_0x46d886(0x105)]['remoteUrl'],_0x202367[_0x46d886(0x121)]=_0x1d6176[_0x46d886(0xed)][_0x46d886(0x113)],_0x202367[_0x46d886(0xf0)]=_0x1d6176['commits']['map'](_0x59d4a6=>({'id':_0x59d4a6[_0x46d886(0x107)]})),_0x202367;}static[a116_0x543cd8(0x10a)](_0x2bb27c){const _0xb17a37=a116_0x543cd8;if(_0x2bb27c[_0xb17a37(0x11b)]['headers'][_0xb17a37(0x10f)]!=='Push\x20Hook')throw new bad_request_error_1[(_0xb17a37(0xea))](errors_1[_0xb17a37(0x110)]);const _0x50a4cb=new GitCommitDto(),_0x164133=_0x2bb27c[_0xb17a37(0x11b)][_0xb17a37(0xf5)];return _0x50a4cb['repository']=_0x164133['repository'][_0xb17a37(0xef)],_0x50a4cb['branch']=_0x164133[_0xb17a37(0xe7)]['replace'](_0xb17a37(0x103),''),_0x50a4cb[_0xb17a37(0x102)]=_0x164133[_0xb17a37(0x105)][_0xb17a37(0xe5)],_0x50a4cb[_0xb17a37(0x121)]=_0x164133[_0xb17a37(0xff)],_0x50a4cb[_0xb17a37(0xf0)]=_0x164133['commits'][_0xb17a37(0x111)](_0x57970b=>({'id':_0x57970b['id']})),_0x50a4cb;}static[a116_0x543cd8(0xfc)](_0x286780){const _0x5ae871=a116_0x543cd8;if(_0x286780[_0x5ae871(0x11b)][_0x5ae871(0xeb)][_0x5ae871(0x104)]!=='push')throw new bad_request_error_1['BadRequestError'](errors_1[_0x5ae871(0x110)]);const _0x3847a8=new GitCommitDto(),_0x5f7397=_0x286780['req']['body'];return _0x3847a8['repository']=_0x5f7397[_0x5ae871(0x105)][_0x5ae871(0xef)],_0x3847a8['branch']=_0x5f7397[_0x5ae871(0xe7)]['replace']('refs/heads/',''),_0x3847a8[_0x5ae871(0x102)]=_0x5f7397[_0x5ae871(0x105)]['clone_url'],_0x3847a8[_0x5ae871(0x121)]=_0x5f7397[_0x5ae871(0x101)][_0x5ae871(0xef)],_0x3847a8[_0x5ae871(0xf0)]=_0x5f7397[_0x5ae871(0xf0)][_0x5ae871(0x111)](_0x3d1314=>({'id':_0x3d1314['id']})),_0x3847a8;}}exports['GitCommitDto']=GitCommitDto;