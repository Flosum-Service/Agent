const a99_0x30b9f2=a99_0x2d33;(function(_0x3cbc7c,_0x31861d){const _0x2c85d3=a99_0x2d33,_0xdbb003=_0x3cbc7c();while(!![]){try{const _0x4f5313=-parseInt(_0x2c85d3(0x1e2))/0x1*(parseInt(_0x2c85d3(0x1d1))/0x2)+-parseInt(_0x2c85d3(0x1cd))/0x3+-parseInt(_0x2c85d3(0x1ba))/0x4*(parseInt(_0x2c85d3(0x1dd))/0x5)+-parseInt(_0x2c85d3(0x1e7))/0x6*(-parseInt(_0x2c85d3(0x1eb))/0x7)+parseInt(_0x2c85d3(0x1b7))/0x8+parseInt(_0x2c85d3(0x1c8))/0x9+parseInt(_0x2c85d3(0x1c2))/0xa;if(_0x4f5313===_0x31861d)break;else _0xdbb003['push'](_0xdbb003['shift']());}catch(_0x45f071){_0xdbb003['push'](_0xdbb003['shift']());}}}(a99_0x4659,0xbac28));const a99_0x358b28=(function(){let _0x27c41d=!![];return function(_0x1f5a06,_0x2d507e){const _0x48eed9=_0x27c41d?function(){const _0x2ba932=a99_0x2d33;if(_0x2d507e){const _0x40c214=_0x2d507e[_0x2ba932(0x1bf)](_0x1f5a06,arguments);return _0x2d507e=null,_0x40c214;}}:function(){};return _0x27c41d=![],_0x48eed9;};}()),a99_0x25c52b=a99_0x358b28(this,function(){const _0x26c71d=a99_0x2d33;return a99_0x25c52b[_0x26c71d(0x1df)]()[_0x26c71d(0x1c9)]('(((.+)+)+)+$')[_0x26c71d(0x1df)]()[_0x26c71d(0x1d0)](a99_0x25c52b)[_0x26c71d(0x1c9)](_0x26c71d(0x1e4));});a99_0x25c52b();'use strict';Object[a99_0x30b9f2(0x1b6)](exports,'__esModule',{'value':!![]}),exports[a99_0x30b9f2(0x1b5)]=void 0x0;function a99_0x4659(){const _0x30d7af=['req','push','1155335umgfGt','force','toString','fromBitbucketServer','commitId','186413kvjOlx','commits','(((.+)+)+)+$','clone_url','ERR_UNSUPPORTED_EVENT','6wUOrRA','repo:refs_changed','username','clone','5281283bAIluG','GitCommitDto','defineProperty','6940608mKfNUF','name','pusher','8YfTNex','headers','links','branch','repository','apply','x-github-event','replace','13263330hFznth','repositoryGit','href','pushedBy','toHash','BadRequestError','786663uJGJvo','search','x-event-key','fromAzure','resource','3748332sjnIsg','fromGithub','map','constructor','6qvoSpz','startsWith','refs/heads/','../../../../constants/errors','ref','git.push','eventType','changes','displayName','body'];a99_0x4659=function(){return _0x30d7af;};return a99_0x4659();}const errors_1=require(a99_0x30b9f2(0x1d4)),bad_request_error_1=require('../../../../core/errors/bad-request.error');function a99_0x2d33(_0x1869e9,_0x398824){const _0x3d9631=a99_0x4659();return a99_0x2d33=function(_0x25c52b,_0x358b28){_0x25c52b=_0x25c52b-0x1b5;let _0x4659e5=_0x3d9631[_0x25c52b];return _0x4659e5;},a99_0x2d33(_0x1869e9,_0x398824);}class GitCommitDto{constructor(){const _0x40fc88=a99_0x30b9f2;this[_0x40fc88(0x1de)]=![];}static[a99_0x30b9f2(0x1e0)](_0x9c1867){const _0x2b3e8a=a99_0x30b9f2;var _0x509887,_0x1ec4d6;if(_0x9c1867['req'][_0x2b3e8a(0x1bb)]['x-event-key']!==_0x2b3e8a(0x1e8))throw new bad_request_error_1[(_0x2b3e8a(0x1c7))](errors_1[_0x2b3e8a(0x1e6)]);const _0x3e8b88=new GitCommitDto(),_0x2c9a30=_0x9c1867[_0x2b3e8a(0x1db)][_0x2b3e8a(0x1da)];return _0x3e8b88[_0x2b3e8a(0x1be)]=_0x2c9a30[_0x2b3e8a(0x1be)][_0x2b3e8a(0x1b8)],_0x3e8b88[_0x2b3e8a(0x1bd)]=_0x2c9a30[_0x2b3e8a(0x1d8)][0x0]['refId'][_0x2b3e8a(0x1c1)]('refs/heads/',''),_0x3e8b88[_0x2b3e8a(0x1c3)]=(_0x1ec4d6=(_0x509887=_0x2c9a30['repository'][_0x2b3e8a(0x1bc)][_0x2b3e8a(0x1ea)])===null||_0x509887===void 0x0?void 0x0:_0x509887['find'](_0x5af72a=>_0x5af72a[_0x2b3e8a(0x1b8)][_0x2b3e8a(0x1d2)]('http')))===null||_0x1ec4d6===void 0x0?void 0x0:_0x1ec4d6[_0x2b3e8a(0x1c4)],_0x3e8b88[_0x2b3e8a(0x1e9)]=_0x2c9a30['actor'][_0x2b3e8a(0x1d9)],_0x3e8b88['commits']=_0x2c9a30[_0x2b3e8a(0x1d8)][_0x2b3e8a(0x1cf)](_0x19b7af=>({'id':_0x19b7af[_0x2b3e8a(0x1c6)]})),_0x3e8b88;}static['fromBitbucket'](_0x4b18ea){const _0x55efc0=a99_0x30b9f2;if(_0x4b18ea[_0x55efc0(0x1db)][_0x55efc0(0x1bb)][_0x55efc0(0x1ca)]!=='repo:push')throw new bad_request_error_1[(_0x55efc0(0x1c7))](errors_1[_0x55efc0(0x1e6)]);const _0x2f7d76=new GitCommitDto(),_0x9ba967=_0x4b18ea[_0x55efc0(0x1db)][_0x55efc0(0x1da)];return _0x2f7d76[_0x55efc0(0x1be)]=_0x9ba967[_0x55efc0(0x1be)][_0x55efc0(0x1b8)],_0x2f7d76['branch']=_0x9ba967[_0x55efc0(0x1dc)]['changes'][0x0]['new'][_0x55efc0(0x1b8)]['replace'](_0x55efc0(0x1d3),''),_0x2f7d76[_0x55efc0(0x1c3)]=_0x9ba967[_0x55efc0(0x1be)][_0x55efc0(0x1bc)]['html'][_0x55efc0(0x1c4)]+'.git',_0x2f7d76['username']='',_0x2f7d76['commits']=_0x9ba967[_0x55efc0(0x1dc)][_0x55efc0(0x1d8)]['map'](_0x21a0ce=>({'id':_0x21a0ce['new']['target']['hash']})),_0x2f7d76;}static[a99_0x30b9f2(0x1cb)](_0x362df5){const _0x2847ed=a99_0x30b9f2;if(_0x362df5[_0x2847ed(0x1db)][_0x2847ed(0x1da)][_0x2847ed(0x1d7)]!==_0x2847ed(0x1d6))throw new bad_request_error_1[(_0x2847ed(0x1c7))](errors_1[_0x2847ed(0x1e6)]);const _0x47557b=new GitCommitDto(),_0x291d5e=_0x362df5[_0x2847ed(0x1db)][_0x2847ed(0x1da)][_0x2847ed(0x1cc)];return _0x47557b[_0x2847ed(0x1be)]=_0x291d5e[_0x2847ed(0x1be)][_0x2847ed(0x1b8)],_0x47557b['branch']=_0x291d5e['refUpdates'][0x0]['name'][_0x2847ed(0x1c1)](_0x2847ed(0x1d3),''),_0x47557b[_0x2847ed(0x1c3)]=_0x291d5e[_0x2847ed(0x1be)]['remoteUrl'],_0x47557b[_0x2847ed(0x1e9)]=_0x291d5e[_0x2847ed(0x1c5)][_0x2847ed(0x1d9)],_0x47557b[_0x2847ed(0x1e3)]=_0x291d5e['commits']['map'](_0x38a29a=>({'id':_0x38a29a[_0x2847ed(0x1e1)]})),_0x47557b;}static['fromGitlab'](_0x3bb714){const _0x3316ef=a99_0x30b9f2;if(_0x3bb714['req'][_0x3316ef(0x1bb)]['x-gitlab-event']!=='Push\x20Hook')throw new bad_request_error_1[(_0x3316ef(0x1c7))](errors_1[_0x3316ef(0x1e6)]);const _0x5cc68b=new GitCommitDto(),_0x4d7e59=_0x3bb714['req']['body'];return _0x5cc68b[_0x3316ef(0x1be)]=_0x4d7e59[_0x3316ef(0x1be)][_0x3316ef(0x1b8)],_0x5cc68b[_0x3316ef(0x1bd)]=_0x4d7e59[_0x3316ef(0x1d5)][_0x3316ef(0x1c1)](_0x3316ef(0x1d3),''),_0x5cc68b[_0x3316ef(0x1c3)]=_0x4d7e59[_0x3316ef(0x1be)]['git_http_url'],_0x5cc68b[_0x3316ef(0x1e9)]=_0x4d7e59['user_username'],_0x5cc68b[_0x3316ef(0x1e3)]=_0x4d7e59[_0x3316ef(0x1e3)][_0x3316ef(0x1cf)](_0x444ed5=>({'id':_0x444ed5['id']})),_0x5cc68b;}static[a99_0x30b9f2(0x1ce)](_0x37cc35){const _0x85e440=a99_0x30b9f2;if(_0x37cc35[_0x85e440(0x1db)][_0x85e440(0x1bb)][_0x85e440(0x1c0)]!==_0x85e440(0x1dc))throw new bad_request_error_1[(_0x85e440(0x1c7))](errors_1[_0x85e440(0x1e6)]);const _0x2517c7=new GitCommitDto(),_0x2020a2=_0x37cc35[_0x85e440(0x1db)][_0x85e440(0x1da)];return _0x2517c7[_0x85e440(0x1be)]=_0x2020a2['repository']['name'],_0x2517c7[_0x85e440(0x1bd)]=_0x2020a2['ref'][_0x85e440(0x1c1)]('refs/heads/',''),_0x2517c7[_0x85e440(0x1c3)]=_0x2020a2[_0x85e440(0x1be)][_0x85e440(0x1e5)],_0x2517c7[_0x85e440(0x1e9)]=_0x2020a2[_0x85e440(0x1b9)][_0x85e440(0x1b8)],_0x2517c7['commits']=_0x2020a2[_0x85e440(0x1e3)][_0x85e440(0x1cf)](_0x8bd099=>({'id':_0x8bd099['id']})),_0x2517c7;}}exports[a99_0x30b9f2(0x1b5)]=GitCommitDto;