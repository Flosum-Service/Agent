function a123_0x1fa0(_0xe77df2,_0x5ccb6f){const _0x2e740c=a123_0x3d4f();return a123_0x1fa0=function(_0x31b589,_0x5dd308){_0x31b589=_0x31b589-0x133;let _0x3d4f19=_0x2e740c[_0x31b589];return _0x3d4f19;},a123_0x1fa0(_0xe77df2,_0x5ccb6f);}function a123_0x3d4f(){const _0xf7aba5=['includes','\x20Preparing\x20to\x20delete\x20components','://','6354MCGWEd','configurable','__setModuleDefault','copyMdapiTo','403010sFjoez','../../../../constants','commitData','999896nChDzp','splice','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','writed','../utils/mdapi.utils','prepareMdapi','cleanUp','../../../shared/utils','47155ySqQxz','6290bueANt','428JTiRIp','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','clearDir','\x20Copying\x20mdapi\x20to\x20git\x20folder.','toString','CommitComponentsDto','send','gitUtils','gitUrl','GitProvider','DEFAULT_GIT_USER_EMAIL','removeDir','\x20Wrote\x20','FORCE_APP_DEFAULT_DIR','CommitComponentsJob','object','getOwnPropertyDescriptor','components','getProtocol','run','\x20Deleted\x20','groupComponentsByFileName','../../providers/types/git-provider','join','Bitbucket','get','210VaQGye','isSFDXProject','\x20Checking\x20commit\x20components.','GitUtils','hasOwnProperty','isLoggedIn','__decorate','clone','\x20Nothing\x20to\x20commit.\x20Skip.','fileType','dir','deleted','error','catch','function','mdapiUtils','values','SFDX','decorate','branch','apply','../utils/sfdx.utils','createProjectFrom','BitbucketApiService','../dto/commit-components.dto','sfdxUtils','isEmptyDir','\x20Preparing\x20to\x20write\x20components','exec','provider','credentials','sort','prefix','(((.+)+)+)+$','5619AWvWhz','__importStar','getGitShellAuthorizationString','reduce','\x20Checking\x20written\x20components.','componentsToDelete','search','Tokens','\x20Start\x20converting\x20to\x20SFDX.','componentsToWrite','__esModule','writeFlosumComponents','name','MDApiUtils','isConvertToSfdx','\x20components','constructor','call','getRemote','921648QvbSdw','length','../../providers/providers.tokens','sfLogger','../../internal/fs.internal','SFDXUtils','fileName','master','__createBinding','defineProperty','Service','195398XocsQy','default','removeComponents','create','\x20Prepare\x20mdapi\x20files.','copyProjectTo','now','force-app','COMPONENTS_PER_TICK','log','recordType','commitAndPush','push','../../salesforce/utils/sfdx.utils'];a123_0x3d4f=function(){return _0xf7aba5;};return a123_0x3d4f();}const a123_0x1ae3b7=a123_0x1fa0;(function(_0x5ce599,_0x213a11){const _0x181d35=a123_0x1fa0,_0x15f6cd=_0x5ce599();while(!![]){try{const _0x510e3a=parseInt(_0x181d35(0x140))/0x1+parseInt(_0x181d35(0x155))/0x2+-parseInt(_0x181d35(0x19e))/0x3*(-parseInt(_0x181d35(0x162))/0x4)+-parseInt(_0x181d35(0x160))/0x5*(-parseInt(_0x181d35(0x17c))/0x6)+-parseInt(_0x181d35(0x135))/0x7+-parseInt(_0x181d35(0x158))/0x8+-parseInt(_0x181d35(0x151))/0x9*(parseInt(_0x181d35(0x161))/0xa);if(_0x510e3a===_0x213a11)break;else _0x15f6cd['push'](_0x15f6cd['shift']());}catch(_0x108b49){_0x15f6cd['push'](_0x15f6cd['shift']());}}}(a123_0x3d4f,0x37572));const a123_0x5dd308=(function(){let _0x56b8df=!![];return function(_0x3060e8,_0x3da119){const _0x4b6a5c=_0x56b8df?function(){const _0x4c53d6=a123_0x1fa0;if(_0x3da119){const _0x2d2b05=_0x3da119[_0x4c53d6(0x190)](_0x3060e8,arguments);return _0x3da119=null,_0x2d2b05;}}:function(){};return _0x56b8df=![],_0x4b6a5c;};}()),a123_0x31b589=a123_0x5dd308(this,function(){const _0x311af3=a123_0x1fa0;return a123_0x31b589[_0x311af3(0x166)]()[_0x311af3(0x1a4)](_0x311af3(0x19d))[_0x311af3(0x166)]()[_0x311af3(0x1ae)](a123_0x31b589)[_0x311af3(0x1a4)](_0x311af3(0x19d));});a123_0x31b589();'use strict';var __createBinding=this&&this[a123_0x1ae3b7(0x13d)]||(Object[a123_0x1ae3b7(0x143)]?function(_0x418451,_0x441eba,_0x5dcf4f,_0x4b892a){const _0x5d5ac6=a123_0x1ae3b7;if(_0x4b892a===undefined)_0x4b892a=_0x5dcf4f;var _0x5bfe28=Object['getOwnPropertyDescriptor'](_0x441eba,_0x5dcf4f);(!_0x5bfe28||(_0x5d5ac6(0x17b)in _0x5bfe28?!_0x441eba[_0x5d5ac6(0x1a8)]:_0x5bfe28['writable']||_0x5bfe28[_0x5d5ac6(0x152)]))&&(_0x5bfe28={'enumerable':!![],'get':function(){return _0x441eba[_0x5dcf4f];}}),Object['defineProperty'](_0x418451,_0x4b892a,_0x5bfe28);}:function(_0x1635bc,_0x209979,_0x162feb,_0x300064){if(_0x300064===undefined)_0x300064=_0x162feb;_0x1635bc[_0x300064]=_0x209979[_0x162feb];}),__setModuleDefault=this&&this[a123_0x1ae3b7(0x153)]||(Object[a123_0x1ae3b7(0x143)]?function(_0x2a0303,_0x42ed2e){const _0x475c66=a123_0x1ae3b7;Object[_0x475c66(0x13e)](_0x2a0303,_0x475c66(0x141),{'enumerable':!![],'value':_0x42ed2e});}:function(_0x2e164f,_0x573e56){_0x2e164f['default']=_0x573e56;}),__decorate=this&&this[a123_0x1ae3b7(0x182)]||function(_0x1015d1,_0x3b9763,_0x1ab14c,_0x39373a){const _0x5affa6=a123_0x1ae3b7;var _0x5138ea=arguments[_0x5affa6(0x136)],_0x40257e=_0x5138ea<0x3?_0x3b9763:_0x39373a===null?_0x39373a=Object[_0x5affa6(0x172)](_0x3b9763,_0x1ab14c):_0x39373a,_0x4a6d8a;if(typeof Reflect===_0x5affa6(0x171)&&typeof Reflect[_0x5affa6(0x18e)]===_0x5affa6(0x18a))_0x40257e=Reflect['decorate'](_0x1015d1,_0x3b9763,_0x1ab14c,_0x39373a);else{for(var _0x5d1cd5=_0x1015d1['length']-0x1;_0x5d1cd5>=0x0;_0x5d1cd5--)if(_0x4a6d8a=_0x1015d1[_0x5d1cd5])_0x40257e=(_0x5138ea<0x3?_0x4a6d8a(_0x40257e):_0x5138ea>0x3?_0x4a6d8a(_0x3b9763,_0x1ab14c,_0x40257e):_0x4a6d8a(_0x3b9763,_0x1ab14c))||_0x40257e;}return _0x5138ea>0x3&&_0x40257e&&Object[_0x5affa6(0x13e)](_0x3b9763,_0x1ab14c,_0x40257e),_0x40257e;},__importStar=this&&this[a123_0x1ae3b7(0x19f)]||function(_0x5d3b60){const _0x2376cc=a123_0x1ae3b7;if(_0x5d3b60&&_0x5d3b60[_0x2376cc(0x1a8)])return _0x5d3b60;var _0x243b59={};if(_0x5d3b60!=null){for(var _0x159e27 in _0x5d3b60)if(_0x159e27!==_0x2376cc(0x141)&&Object['prototype'][_0x2376cc(0x180)][_0x2376cc(0x133)](_0x5d3b60,_0x159e27))__createBinding(_0x243b59,_0x5d3b60,_0x159e27);}return __setModuleDefault(_0x243b59,_0x5d3b60),_0x243b59;},__importDefault=this&&this['__importDefault']||function(_0x1762c9){const _0x54a143=a123_0x1ae3b7;return _0x1762c9&&_0x1762c9[_0x54a143(0x1a8)]?_0x1762c9:{'default':_0x1762c9};};Object[a123_0x1ae3b7(0x13e)](exports,a123_0x1ae3b7(0x1a8),{'value':!![]}),exports[a123_0x1ae3b7(0x170)]=void 0x0;const commit_components_dto_1=require(a123_0x1ae3b7(0x194)),events_1=__importDefault(require('events')),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a123_0x1ae3b7(0x15c)),sfdx_utils_1=require(a123_0x1ae3b7(0x191)),typedi_1=__importStar(require('typedi')),child_types_1=__importDefault(require('../../parsers/data/child-types')),utils_1=require(a123_0x1ae3b7(0x15f)),constants_1=require(a123_0x1ae3b7(0x156)),git_provider_1=require(a123_0x1ae3b7(0x178)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),sfdx_utils_2=require(a123_0x1ae3b7(0x14d)),fs_internal_1=require(a123_0x1ae3b7(0x139)),path_1=require('path'),providers_tokens_1=require(a123_0x1ae3b7(0x137)),constants_2=require(a123_0x1ae3b7(0x156));let CommitComponentsJob=class CommitComponentsJob extends events_1[a123_0x1ae3b7(0x141)]{constructor(){const _0x6dc42=a123_0x1ae3b7;super(...arguments),this[_0x6dc42(0x148)]=0x3e8,this[_0x6dc42(0x1a7)]=0x0,this[_0x6dc42(0x1a3)]=0x0,this['startTime']=Date[_0x6dc42(0x146)]();}async[a123_0x1ae3b7(0x134)](){const _0x39b20a=a123_0x1ae3b7,{repo:_0x19e290}=this[_0x39b20a(0x157)],_0x2f1446=typedi_1[_0x39b20a(0x141)][_0x39b20a(0x17b)](providers_tokens_1[_0x39b20a(0x1a5)][_0x39b20a(0x19a)]);if(this[_0x39b20a(0x157)][_0x39b20a(0x199)]===git_provider_1[_0x39b20a(0x16b)][_0x39b20a(0x17a)]){const _0x166e8d=typedi_1[_0x39b20a(0x141)][_0x39b20a(0x17b)](bitbucket_api_service_1[_0x39b20a(0x193)]);await _0x166e8d[_0x39b20a(0x181)]();}return _0x19e290[_0x39b20a(0x16a)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x39b20a(0x174)])(_0x19e290[_0x39b20a(0x16a)])+_0x39b20a(0x150)+_0x2f1446[_0x39b20a(0x1a0)]()+'@');}['groupComponentsByFileName'](_0x2c2223){const _0x5898f5=a123_0x1ae3b7;var _0x9ad530;_0x2c2223[_0x5898f5(0x19b)](_0x20ccc2=>child_types_1[_0x5898f5(0x141)][_0x5898f5(0x14e)](_0x20ccc2[_0x5898f5(0x185)])?0x1:-0x1);const _0x1ecefe={};for(const _0x3e25f of _0x2c2223){_0x1ecefe[_0x9ad530=_0x3e25f[_0x5898f5(0x13b)]]||(_0x1ecefe[_0x9ad530]=[]),_0x1ecefe[_0x3e25f[_0x5898f5(0x13b)]][_0x5898f5(0x14c)](_0x3e25f);}return Object[_0x5898f5(0x18c)](_0x1ecefe)[_0x5898f5(0x1a1)]((_0x2dff1e,_0x301545)=>[..._0x2dff1e,..._0x301545],[]);}async['writeComponents'](_0x2b8a28){const _0x27a062=a123_0x1ae3b7;_0x2b8a28=this[_0x27a062(0x177)](_0x2b8a28);let _0x4a1b14=0x0;while(_0x2b8a28[_0x27a062(0x136)]){const _0x3df5dc=_0x2b8a28[_0x27a062(0x159)](0x0,this[_0x27a062(0x148)]);await this['mdapiUtils'][_0x27a062(0x1a9)](_0x3df5dc,{'skipChildErrors':this[_0x27a062(0x157)][_0x27a062(0x18f)][_0x27a062(0x1aa)]===_0x27a062(0x13c),'recordType':this[_0x27a062(0x157)][_0x27a062(0x14a)]}),_0x4a1b14+=_0x3df5dc['length'],this['sfLogger'][_0x27a062(0x149)](this[_0x27a062(0x19c)]+_0x27a062(0x16e)+_0x4a1b14+'/'+this[_0x27a062(0x1a7)]+'\x20components'),await this[_0x27a062(0x138)]['send']();}}async['removeComponents'](_0x5256cf){const _0x5da098=a123_0x1ae3b7;_0x5256cf[_0x5da098(0x19b)](_0x124ba4=>child_types_1['default']['includes'](_0x124ba4['type'])?-0x1:0x1);let _0x597648=0x0;while(_0x5256cf[_0x5da098(0x136)]){const _0x2876b6=_0x5256cf[_0x5da098(0x159)](0x0,this[_0x5da098(0x148)]);await this[_0x5da098(0x18b)][_0x5da098(0x142)](_0x2876b6,this[_0x5da098(0x157)][_0x5da098(0x14a)]),_0x597648+=_0x2876b6[_0x5da098(0x136)],this[_0x5da098(0x138)][_0x5da098(0x149)](this[_0x5da098(0x19c)]+_0x5da098(0x176)+_0x597648+'/'+this['componentsToDelete']+_0x5da098(0x1ad)),await this['sfLogger']['send']();}}async[a123_0x1ae3b7(0x15e)](){const _0xad01ea=a123_0x1ae3b7;this['gitUtils']&&await this[_0xad01ea(0x169)][_0xad01ea(0x16d)]()[_0xad01ea(0x189)](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils'][_0xad01ea(0x16d)]()[_0xad01ea(0x189)](()=>void 0x0),this[_0xad01ea(0x195)]&&await this[_0xad01ea(0x195)][_0xad01ea(0x16d)]()['catch'](()=>void 0x0);}async['exec'](){const _0xb84e0c=a123_0x1ae3b7,{repo:_0x32a86f,branch:_0x19782e,components:_0x58256a,convertToSFDX:_0x3d85c8,message:_0x32e679,user:_0x58d44f}=this['commitData'];this[_0xb84e0c(0x18b)]=new mdapi_utils_1[(_0xb84e0c(0x1ab))](),this[_0xb84e0c(0x169)]=new git_utils_1[(_0xb84e0c(0x17f))](await this[_0xb84e0c(0x134)]()),this[_0xb84e0c(0x195)]=new sfdx_utils_1[(_0xb84e0c(0x13a))]();let _0x1bee3e=_0x3d85c8&&this[_0xb84e0c(0x195)][_0xb84e0c(0x1ac)](this[_0xb84e0c(0x157)][_0xb84e0c(0x14a)]);try{await this['sfLogger']['log'](this['prefix']+'\x20Start\x20cloning\x20repository.')[_0xb84e0c(0x168)](),await this[_0xb84e0c(0x169)][_0xb84e0c(0x183)](_0x19782e[_0xb84e0c(0x1aa)],_0x32a86f[_0xb84e0c(0x1aa)]);!this[_0xb84e0c(0x157)]['force']?(this[_0xb84e0c(0x138)]['log'](this['prefix']+_0xb84e0c(0x144)),await this[_0xb84e0c(0x18b)][_0xb84e0c(0x15d)](this['gitUtils']['dir'])):this[_0xb84e0c(0x138)][_0xb84e0c(0x149)](this[_0xb84e0c(0x19c)]+_0xb84e0c(0x15a));await this[_0xb84e0c(0x138)]['log'](this[_0xb84e0c(0x19c)]+_0xb84e0c(0x1a2))[_0xb84e0c(0x168)]();_0x58256a['writed']&&(this[_0xb84e0c(0x138)]['log'](this['prefix']+_0xb84e0c(0x197)),this[_0xb84e0c(0x1a7)]=_0x58256a[_0xb84e0c(0x15b)][_0xb84e0c(0x136)],await this['writeComponents'](_0x58256a[_0xb84e0c(0x15b)]),await this[_0xb84e0c(0x138)][_0xb84e0c(0x168)]());await this[_0xb84e0c(0x138)][_0xb84e0c(0x149)](this['prefix']+'\x20Checking\x20deleted\x20components.')[_0xb84e0c(0x168)]();_0x58256a['deleted']&&(this[_0xb84e0c(0x138)][_0xb84e0c(0x149)](this['prefix']+_0xb84e0c(0x14f)),this[_0xb84e0c(0x1a3)]=_0x58256a['deleted'][_0xb84e0c(0x136)],await this['removeComponents'](_0x58256a[_0xb84e0c(0x187)]),await this[_0xb84e0c(0x138)][_0xb84e0c(0x168)]());await this[_0xb84e0c(0x138)]['send']();const _0x2ab5b0=await fs_internal_1['FS'][_0xb84e0c(0x196)](this[_0xb84e0c(0x169)][_0xb84e0c(0x186)]);await sfdx_utils_2[_0xb84e0c(0x18d)][_0xb84e0c(0x17d)](this[_0xb84e0c(0x169)][_0xb84e0c(0x186)])?(_0x1bee3e=!![],await fs_internal_1['FS'][_0xb84e0c(0x16d)]((0x0,path_1[_0xb84e0c(0x179)])(this[_0xb84e0c(0x169)][_0xb84e0c(0x186)],_0xb84e0c(0x147)))):(_0x1bee3e&&(!_0x2ab5b0&&(_0x1bee3e=![])),await this[_0xb84e0c(0x169)][_0xb84e0c(0x164)]());_0x1bee3e?(await this[_0xb84e0c(0x138)][_0xb84e0c(0x149)](this[_0xb84e0c(0x19c)]+_0xb84e0c(0x1a6))[_0xb84e0c(0x168)](),await this[_0xb84e0c(0x195)][_0xb84e0c(0x192)](this[_0xb84e0c(0x18b)][_0xb84e0c(0x186)]),await this[_0xb84e0c(0x195)][_0xb84e0c(0x145)](this[_0xb84e0c(0x169)][_0xb84e0c(0x186)],!_0x2ab5b0),await this[_0xb84e0c(0x195)]['copySFDXIgnoredComponents'](this[_0xb84e0c(0x18b)]['dir'],(0x0,path_1[_0xb84e0c(0x179)])(this[_0xb84e0c(0x169)][_0xb84e0c(0x186)],constants_2[_0xb84e0c(0x16f)])),await this[_0xb84e0c(0x195)][_0xb84e0c(0x16d)]()):(await this['sfLogger'][_0xb84e0c(0x149)](this[_0xb84e0c(0x19c)]+_0xb84e0c(0x165))[_0xb84e0c(0x168)](),await this[_0xb84e0c(0x18b)][_0xb84e0c(0x154)](this['gitUtils'][_0xb84e0c(0x186)]));await this[_0xb84e0c(0x138)][_0xb84e0c(0x149)](this[_0xb84e0c(0x19c)]+_0xb84e0c(0x163))[_0xb84e0c(0x168)](),await this[_0xb84e0c(0x169)][_0xb84e0c(0x14b)](_0x32e679,{'email':constants_1[_0xb84e0c(0x16c)],'name':_0x58d44f['name']},_0x19782e[_0xb84e0c(0x1aa)]),await this[_0xb84e0c(0x169)][_0xb84e0c(0x16d)](),await this[_0xb84e0c(0x18b)][_0xb84e0c(0x16d)]();const _0x337861=this[_0xb84e0c(0x1a7)]+this['componentsToDelete'];await this[_0xb84e0c(0x138)]['log'](this[_0xb84e0c(0x19c)]+'\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date['now']()-this['startTime'])+'ms.\x20Committed\x20components\x20-\x20'+_0x337861+'.')[_0xb84e0c(0x168)]();}catch(_0x4d28a4){await this[_0xb84e0c(0x15e)](),await this[_0xb84e0c(0x138)][_0xb84e0c(0x188)](this[_0xb84e0c(0x19c)]+'\x20'+_0x4d28a4)['send']();throw _0x4d28a4;}}async[a123_0x1ae3b7(0x175)](_0x236c14,_0x16f8b9){const _0x79370c=a123_0x1ae3b7;var _0x5393b8,_0x4eb9a0;this[_0x79370c(0x138)]=typedi_1[_0x79370c(0x141)][_0x79370c(0x17b)](providers_tokens_1[_0x79370c(0x1a5)]['logger']),this[_0x79370c(0x19c)]=(_0x16f8b9?_0x16f8b9+'\x20':'')+'['+commit_components_dto_1[_0x79370c(0x167)]['name']+']',await this['sfLogger']['log'](this['prefix']+_0x79370c(0x17e));const _0x3ff690=!!((_0x5393b8=_0x236c14['components'])===null||_0x5393b8===void 0x0?void 0x0:_0x5393b8[_0x79370c(0x15b)])||!!((_0x4eb9a0=_0x236c14[_0x79370c(0x173)])===null||_0x4eb9a0===void 0x0?void 0x0:_0x4eb9a0[_0x79370c(0x187)]);if(!_0x3ff690){await this[_0x79370c(0x138)][_0x79370c(0x149)](this[_0x79370c(0x19c)]+_0x79370c(0x184))[_0x79370c(0x168)]();return;}this[_0x79370c(0x157)]=_0x236c14,await this[_0x79370c(0x198)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a123_0x1ae3b7(0x13f)])({'transient':!![]})],CommitComponentsJob),exports[a123_0x1ae3b7(0x170)]=CommitComponentsJob;