function a104_0x76dc(){const _0x178bdb=['\x20Checking\x20deleted\x20components.','writable','object','clearDir','\x20Preparing\x20to\x20write\x20components','force-app','../../internal/fs.internal','now','fileName','\x20Start\x20cloning\x20repository.','log','removeComponents','reduce','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','cleanUp','ms.\x20Committed\x20components\x20-\x20','__importStar','Tokens','error','dir','copyProjectTo','../../providers/types/git-provider','defineProperty','isEmptyDir','10sasCrM','Service','gitUrl','fileType','provider','\x20components','join','://','138472thFIXD','../../../../constants','isSFDXProject','1waMStG','../../salesforce/utils/sfdx.utils','credentials','(((.+)+)+)+$','prototype','clone','252640pCezLd','run','createProjectFrom','99spGdvy','call','send','sfdxUtils','FORCE_APP_DEFAULT_DIR','SFDX','CommitComponentsDto','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','splice','CommitComponentsJob','\x20Nothing\x20to\x20commit.\x20Skip.','../utils/git.utils','GitUtils','componentsToWrite','constructor','writeComponents','gitUtils','../dto/commit-components.dto','search','commitAndPush','MDApiUtils','749200aktxYL','toString','sfLogger','typedi','../utils/mdapi.utils','__esModule','GitProvider','includes','679566jeLEhp','branch','COMPONENTS_PER_TICK','getGitShellAuthorizationString','prefix','\x20Wrote\x20','values','componentsToDelete','\x20Copying\x20mdapi\x20to\x20git\x20folder.','getRemote','removeDir','logger','sort','force','756504ZttMZu','deleted','length','\x20Deleted\x20','default','writeFlosumComponents','catch','522980CCdrpg','mdapiUtils','../../../shared/utils','get','create','exec','startTime','14MrMJqN','components','__importDefault','../../parsers/data/child-types','commitData','push','getProtocol','getOwnPropertyDescriptor','decorate','8013643LhdClo','name','BitbucketApiService','\x20Preparing\x20to\x20delete\x20components','replace','groupComponentsByFileName'];a104_0x76dc=function(){return _0x178bdb;};return a104_0x76dc();}const a104_0x170d8f=a104_0x2976;(function(_0x4b4ab6,_0x594a15){const _0x520781=a104_0x2976,_0x43be6c=_0x4b4ab6();while(!![]){try{const _0x2821e7=parseInt(_0x520781(0x1c1))/0x1*(parseInt(_0x520781(0x1be))/0x2)+parseInt(_0x520781(0x181))/0x3+-parseInt(_0x520781(0x188))/0x4+-parseInt(_0x520781(0x1b6))/0x5*(-parseInt(_0x520781(0x1e7))/0x6)+-parseInt(_0x520781(0x18f))/0x7*(-parseInt(_0x520781(0x1df))/0x8)+-parseInt(_0x520781(0x1ca))/0x9*(-parseInt(_0x520781(0x1c7))/0xa)+-parseInt(_0x520781(0x198))/0xb;if(_0x2821e7===_0x594a15)break;else _0x43be6c['push'](_0x43be6c['shift']());}catch(_0x3c3506){_0x43be6c['push'](_0x43be6c['shift']());}}}(a104_0x76dc,0x25910));const a104_0x113314=(function(){let _0x10c6da=!![];return function(_0x2700a9,_0x28241c){const _0x15d8fb=_0x10c6da?function(){if(_0x28241c){const _0x1f36a9=_0x28241c['apply'](_0x2700a9,arguments);return _0x28241c=null,_0x1f36a9;}}:function(){};return _0x10c6da=![],_0x15d8fb;};}()),a104_0x4b76bd=a104_0x113314(this,function(){const _0x3f06ee=a104_0x2976;return a104_0x4b76bd[_0x3f06ee(0x1e0)]()['search'](_0x3f06ee(0x1c4))['toString']()[_0x3f06ee(0x1d8)](a104_0x4b76bd)[_0x3f06ee(0x1dc)]('(((.+)+)+)+$');});a104_0x4b76bd();'use strict';function a104_0x2976(_0x17a197,_0x2087bf){const _0x108edf=a104_0x76dc();return a104_0x2976=function(_0x4b76bd,_0x113314){_0x4b76bd=_0x4b76bd-0x17c;let _0x76dcb7=_0x108edf[_0x4b76bd];return _0x76dcb7;},a104_0x2976(_0x17a197,_0x2087bf);}var __createBinding=this&&this['__createBinding']||(Object[a104_0x170d8f(0x18c)]?function(_0x300ca6,_0x488a67,_0x135ba1,_0x2691c4){const _0x3aac91=a104_0x170d8f;if(_0x2691c4===undefined)_0x2691c4=_0x135ba1;var _0x135601=Object[_0x3aac91(0x196)](_0x488a67,_0x135ba1);(!_0x135601||(_0x3aac91(0x18b)in _0x135601?!_0x488a67[_0x3aac91(0x1e4)]:_0x135601[_0x3aac91(0x19f)]||_0x135601['configurable']))&&(_0x135601={'enumerable':!![],'get':function(){return _0x488a67[_0x135ba1];}}),Object[_0x3aac91(0x1b4)](_0x300ca6,_0x2691c4,_0x135601);}:function(_0x31c3a8,_0x4eced3,_0x399202,_0x240350){if(_0x240350===undefined)_0x240350=_0x399202;_0x31c3a8[_0x240350]=_0x4eced3[_0x399202];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0xb06aec,_0x5621f2){const _0x192001=a104_0x170d8f;Object[_0x192001(0x1b4)](_0xb06aec,_0x192001(0x185),{'enumerable':!![],'value':_0x5621f2});}:function(_0x52974b,_0x45b6e6){const _0x2808fb=a104_0x170d8f;_0x52974b[_0x2808fb(0x185)]=_0x45b6e6;}),__decorate=this&&this['__decorate']||function(_0x3bd981,_0x3404f4,_0x576bfa,_0xffcac1){const _0x57f85d=a104_0x170d8f;var _0x76dc8a=arguments[_0x57f85d(0x183)],_0x41d117=_0x76dc8a<0x3?_0x3404f4:_0xffcac1===null?_0xffcac1=Object[_0x57f85d(0x196)](_0x3404f4,_0x576bfa):_0xffcac1,_0x50b761;if(typeof Reflect===_0x57f85d(0x1a0)&&typeof Reflect[_0x57f85d(0x197)]==='function')_0x41d117=Reflect[_0x57f85d(0x197)](_0x3bd981,_0x3404f4,_0x576bfa,_0xffcac1);else{for(var _0x1f0991=_0x3bd981[_0x57f85d(0x183)]-0x1;_0x1f0991>=0x0;_0x1f0991--)if(_0x50b761=_0x3bd981[_0x1f0991])_0x41d117=(_0x76dc8a<0x3?_0x50b761(_0x41d117):_0x76dc8a>0x3?_0x50b761(_0x3404f4,_0x576bfa,_0x41d117):_0x50b761(_0x3404f4,_0x576bfa))||_0x41d117;}return _0x76dc8a>0x3&&_0x41d117&&Object[_0x57f85d(0x1b4)](_0x3404f4,_0x576bfa,_0x41d117),_0x41d117;},__importStar=this&&this[a104_0x170d8f(0x1ae)]||function(_0x177b46){const _0xea36e4=a104_0x170d8f;if(_0x177b46&&_0x177b46[_0xea36e4(0x1e4)])return _0x177b46;var _0x4c6e90={};if(_0x177b46!=null){for(var _0x365964 in _0x177b46)if(_0x365964!=='default'&&Object[_0xea36e4(0x1c5)]['hasOwnProperty'][_0xea36e4(0x1cb)](_0x177b46,_0x365964))__createBinding(_0x4c6e90,_0x177b46,_0x365964);}return __setModuleDefault(_0x4c6e90,_0x177b46),_0x4c6e90;},__importDefault=this&&this[a104_0x170d8f(0x191)]||function(_0x5bbf87){const _0x21f4cb=a104_0x170d8f;return _0x5bbf87&&_0x5bbf87[_0x21f4cb(0x1e4)]?_0x5bbf87:{'default':_0x5bbf87};};Object[a104_0x170d8f(0x1b4)](exports,a104_0x170d8f(0x1e4),{'value':!![]}),exports[a104_0x170d8f(0x1d3)]=void 0x0;const commit_components_dto_1=require(a104_0x170d8f(0x1db)),events_1=__importDefault(require('events')),git_utils_1=require(a104_0x170d8f(0x1d5)),mdapi_utils_1=require(a104_0x170d8f(0x1e3)),sfdx_utils_1=require('../utils/sfdx.utils'),typedi_1=__importStar(require(a104_0x170d8f(0x1e2))),child_types_1=__importDefault(require(a104_0x170d8f(0x192))),utils_1=require(a104_0x170d8f(0x18a)),constants_1=require(a104_0x170d8f(0x1bf)),git_provider_1=require(a104_0x170d8f(0x1b3)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),sfdx_utils_2=require(a104_0x170d8f(0x1c2)),fs_internal_1=require(a104_0x170d8f(0x1a4)),path_1=require('path'),providers_tokens_1=require('../../providers/providers.tokens'),constants_2=require(a104_0x170d8f(0x1bf));let CommitComponentsJob=class CommitComponentsJob extends events_1[a104_0x170d8f(0x185)]{constructor(){const _0x21c38a=a104_0x170d8f;super(...arguments),this[_0x21c38a(0x1e9)]=0x3e8,this[_0x21c38a(0x1d7)]=0x0,this[_0x21c38a(0x1ee)]=0x0,this[_0x21c38a(0x18e)]=Date[_0x21c38a(0x1a5)]();}async['getRemote'](){const _0x1251cd=a104_0x170d8f,{repo:_0x2f8399}=this[_0x1251cd(0x193)],_0x4fb858=typedi_1[_0x1251cd(0x185)][_0x1251cd(0x18b)](providers_tokens_1[_0x1251cd(0x1af)][_0x1251cd(0x1c3)]);if(this[_0x1251cd(0x193)][_0x1251cd(0x1ba)]===git_provider_1[_0x1251cd(0x1e5)]['Bitbucket']){const _0xd74f01=typedi_1['default'][_0x1251cd(0x18b)](bitbucket_api_service_1[_0x1251cd(0x19a)]);await _0xd74f01['isLoggedIn']();}return _0x2f8399[_0x1251cd(0x1b8)][_0x1251cd(0x19c)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1251cd(0x195)])(_0x2f8399[_0x1251cd(0x1b8)])+_0x1251cd(0x1bd)+_0x4fb858[_0x1251cd(0x1ea)]()+'@');}[a104_0x170d8f(0x19d)](_0x262c34){const _0x587492=a104_0x170d8f;var _0x5e5f17;_0x262c34[_0x587492(0x17f)](_0x338680=>child_types_1[_0x587492(0x185)][_0x587492(0x1e6)](_0x338680[_0x587492(0x1b9)])?0x1:-0x1);const _0x3a4cb1={};for(const _0xf8652f of _0x262c34){_0x3a4cb1[_0x5e5f17=_0xf8652f[_0x587492(0x1a6)]]||(_0x3a4cb1[_0x5e5f17]=[]),_0x3a4cb1[_0xf8652f[_0x587492(0x1a6)]][_0x587492(0x194)](_0xf8652f);}return Object[_0x587492(0x1ed)](_0x3a4cb1)[_0x587492(0x1aa)]((_0x1489d2,_0x45d851)=>[..._0x1489d2,..._0x45d851],[]);}async[a104_0x170d8f(0x1d9)](_0x1c5a1e){const _0x2933bd=a104_0x170d8f;_0x1c5a1e=this[_0x2933bd(0x19d)](_0x1c5a1e);let _0x5ed48b=0x0;while(_0x1c5a1e[_0x2933bd(0x183)]){const _0x587987=_0x1c5a1e[_0x2933bd(0x1d2)](0x0,this[_0x2933bd(0x1e9)]);await this[_0x2933bd(0x189)][_0x2933bd(0x186)](_0x587987,{'skipChildErrors':this[_0x2933bd(0x193)][_0x2933bd(0x1e8)][_0x2933bd(0x199)]==='master'}),_0x5ed48b+=_0x587987[_0x2933bd(0x183)],this[_0x2933bd(0x1e1)][_0x2933bd(0x1a8)](this[_0x2933bd(0x1eb)]+_0x2933bd(0x1ec)+_0x5ed48b+'/'+this[_0x2933bd(0x1d7)]+'\x20components'),await this[_0x2933bd(0x1e1)][_0x2933bd(0x1cc)]();}}async[a104_0x170d8f(0x1a9)](_0x105696){const _0x133ac4=a104_0x170d8f;_0x105696[_0x133ac4(0x17f)](_0x4c7517=>child_types_1[_0x133ac4(0x185)]['includes'](_0x4c7517['type'])?-0x1:0x1);let _0x371319=0x0;while(_0x105696['length']){const _0x5cb152=_0x105696[_0x133ac4(0x1d2)](0x0,this[_0x133ac4(0x1e9)]);await this[_0x133ac4(0x189)][_0x133ac4(0x1a9)](_0x5cb152),_0x371319+=_0x5cb152[_0x133ac4(0x183)],this[_0x133ac4(0x1e1)][_0x133ac4(0x1a8)](this[_0x133ac4(0x1eb)]+_0x133ac4(0x184)+_0x371319+'/'+this[_0x133ac4(0x1ee)]+_0x133ac4(0x1bb)),await this[_0x133ac4(0x1e1)]['send']();}}async[a104_0x170d8f(0x1ac)](){const _0x5e7d21=a104_0x170d8f;this[_0x5e7d21(0x1da)]&&await this[_0x5e7d21(0x1da)][_0x5e7d21(0x17d)]()[_0x5e7d21(0x187)](()=>void 0x0),this[_0x5e7d21(0x189)]&&await this['mdapiUtils'][_0x5e7d21(0x17d)]()[_0x5e7d21(0x187)](()=>void 0x0),this['sfdxUtils']&&await this[_0x5e7d21(0x1cd)][_0x5e7d21(0x17d)]()[_0x5e7d21(0x187)](()=>void 0x0);}async[a104_0x170d8f(0x18d)](){const _0x9cf873=a104_0x170d8f,{repo:_0x3bb8a5,branch:_0x425e78,components:_0x2cff71,convertToSFDX:_0x359b5d,message:_0x5b0fa5,user:_0x55d16c}=this['commitData'];this['mdapiUtils']=new mdapi_utils_1[(_0x9cf873(0x1de))](),this['gitUtils']=new git_utils_1[(_0x9cf873(0x1d6))](await this[_0x9cf873(0x17c)]()),this['sfdxUtils']=new sfdx_utils_1['SFDXUtils']();let _0x55ac63=_0x359b5d;try{await this['sfLogger'][_0x9cf873(0x1a8)](this[_0x9cf873(0x1eb)]+_0x9cf873(0x1a7))['send'](),await this['gitUtils'][_0x9cf873(0x1c6)](_0x425e78[_0x9cf873(0x199)],_0x3bb8a5[_0x9cf873(0x199)]);!this[_0x9cf873(0x193)][_0x9cf873(0x180)]?(this[_0x9cf873(0x1e1)][_0x9cf873(0x1a8)](this[_0x9cf873(0x1eb)]+'\x20Prepare\x20mdapi\x20files.'),await this[_0x9cf873(0x189)]['prepareMdapi'](this[_0x9cf873(0x1da)][_0x9cf873(0x1b1)])):this[_0x9cf873(0x1e1)]['log'](this['prefix']+_0x9cf873(0x1ab));await this['sfLogger']['log'](this[_0x9cf873(0x1eb)]+'\x20Checking\x20written\x20components.')[_0x9cf873(0x1cc)]();_0x2cff71['writed']&&(this['sfLogger'][_0x9cf873(0x1a8)](this[_0x9cf873(0x1eb)]+_0x9cf873(0x1a2)),this[_0x9cf873(0x1d7)]=_0x2cff71['writed']['length'],await this[_0x9cf873(0x1d9)](_0x2cff71['writed']),await this[_0x9cf873(0x1e1)]['send']());await this[_0x9cf873(0x1e1)][_0x9cf873(0x1a8)](this['prefix']+_0x9cf873(0x19e))[_0x9cf873(0x1cc)]();_0x2cff71['deleted']&&(this[_0x9cf873(0x1e1)]['log'](this[_0x9cf873(0x1eb)]+_0x9cf873(0x19b)),this[_0x9cf873(0x1ee)]=_0x2cff71[_0x9cf873(0x182)][_0x9cf873(0x183)],await this[_0x9cf873(0x1a9)](_0x2cff71[_0x9cf873(0x182)]),await this[_0x9cf873(0x1e1)]['send']());await this[_0x9cf873(0x1e1)][_0x9cf873(0x1cc)]();const _0x1ba8bb=await fs_internal_1['FS'][_0x9cf873(0x1b5)](this['gitUtils'][_0x9cf873(0x1b1)]);await sfdx_utils_2[_0x9cf873(0x1cf)][_0x9cf873(0x1c0)](this[_0x9cf873(0x1da)][_0x9cf873(0x1b1)])?(_0x55ac63=!![],await fs_internal_1['FS'][_0x9cf873(0x17d)]((0x0,path_1['join'])(this[_0x9cf873(0x1da)]['dir'],_0x9cf873(0x1a3)))):(_0x55ac63&&(!_0x1ba8bb&&(_0x55ac63=![])),await this[_0x9cf873(0x1da)][_0x9cf873(0x1a1)]());_0x55ac63?(await this[_0x9cf873(0x1e1)][_0x9cf873(0x1a8)](this['prefix']+'\x20Start\x20converting\x20to\x20SFDX.')['send'](),await this[_0x9cf873(0x1cd)][_0x9cf873(0x1c9)](this['mdapiUtils'][_0x9cf873(0x1b1)]),await this[_0x9cf873(0x1cd)][_0x9cf873(0x1b2)](this[_0x9cf873(0x1da)][_0x9cf873(0x1b1)],!_0x1ba8bb),await this[_0x9cf873(0x1cd)]['copyVlocityComponents'](this['mdapiUtils'][_0x9cf873(0x1b1)],(0x0,path_1[_0x9cf873(0x1bc)])(this['gitUtils'][_0x9cf873(0x1b1)],constants_2[_0x9cf873(0x1ce)])),await this['sfdxUtils'][_0x9cf873(0x17d)]()):(await this[_0x9cf873(0x1e1)][_0x9cf873(0x1a8)](this[_0x9cf873(0x1eb)]+_0x9cf873(0x1ef))['send'](),await this[_0x9cf873(0x189)]['copyMdapiTo'](this[_0x9cf873(0x1da)][_0x9cf873(0x1b1)]));await this['sfLogger'][_0x9cf873(0x1a8)](this['prefix']+_0x9cf873(0x1d1))['send'](),await this[_0x9cf873(0x1da)][_0x9cf873(0x1dd)](_0x5b0fa5,{'email':constants_1['DEFAULT_GIT_USER_EMAIL'],'name':_0x55d16c[_0x9cf873(0x199)]},_0x425e78[_0x9cf873(0x199)]),await this['gitUtils'][_0x9cf873(0x17d)](),await this['mdapiUtils'][_0x9cf873(0x17d)]();const _0x5336df=this[_0x9cf873(0x1d7)]+this['componentsToDelete'];await this[_0x9cf873(0x1e1)]['log'](this[_0x9cf873(0x1eb)]+'\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date[_0x9cf873(0x1a5)]()-this[_0x9cf873(0x18e)])+_0x9cf873(0x1ad)+_0x5336df+'.')['send']();}catch(_0x383d6b){await this[_0x9cf873(0x1ac)](),await this[_0x9cf873(0x1e1)][_0x9cf873(0x1b0)](this[_0x9cf873(0x1eb)]+'\x20'+_0x383d6b)[_0x9cf873(0x1cc)]();throw _0x383d6b;}}async[a104_0x170d8f(0x1c8)](_0x5082bb,_0x143ca2){const _0x54eb8a=a104_0x170d8f;var _0xc13dba,_0x5ac750;this[_0x54eb8a(0x1e1)]=typedi_1[_0x54eb8a(0x185)][_0x54eb8a(0x18b)](providers_tokens_1['Tokens'][_0x54eb8a(0x17e)]),this['prefix']=(_0x143ca2?_0x143ca2+'\x20':'')+'['+commit_components_dto_1[_0x54eb8a(0x1d0)]['name']+']',await this[_0x54eb8a(0x1e1)]['log'](this[_0x54eb8a(0x1eb)]+'\x20Checking\x20commit\x20components.');const _0x325fe7=!!((_0xc13dba=_0x5082bb[_0x54eb8a(0x190)])===null||_0xc13dba===void 0x0?void 0x0:_0xc13dba['writed'])||!!((_0x5ac750=_0x5082bb['components'])===null||_0x5ac750===void 0x0?void 0x0:_0x5ac750[_0x54eb8a(0x182)]);if(!_0x325fe7){await this[_0x54eb8a(0x1e1)][_0x54eb8a(0x1a8)](this['prefix']+_0x54eb8a(0x1d4))[_0x54eb8a(0x1cc)]();return;}this[_0x54eb8a(0x193)]=_0x5082bb,await this['exec']();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a104_0x170d8f(0x1b7)])({'transient':!![]})],CommitComponentsJob),exports[a104_0x170d8f(0x1d3)]=CommitComponentsJob;