function a124_0x3742(){const _0xa9c439=['\x20Nothing\x20to\x20commit.\x20Skip.','decorate','events','toString','search','\x20Prepare\x20mdapi\x20files.','520550FaTNbt','Bitbucket','2402811NePSYP','__setModuleDefault','GitProvider','commitAndPush','__esModule','\x20Preparing\x20to\x20delete\x20components','branch','mdapiUtils','DEFAULT_GIT_USER_EMAIL','type','copyProjectTo','../utils/sfdx.utils','__createBinding','reduce','removeDir','writeComponents','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','createProjectFrom','../../providers/types/git-provider','cleanUp','recordType','../utils/mdapi.utils','call','logger','function','removeComponents','run','../../../../constants','../../internal/fs.internal','name','copySFDXIgnoredComponents','credentials','\x20Preparing\x20to\x20write\x20components','sort','496112BsIWsm','getProtocol','309771CRVkpI','log','FORCE_APP_DEFAULT_DIR','typedi','dir','deleted','fileName','apply','../../providers/providers.tokens','provider','isEmptyDir','path','writed','get','prefix','clone','4jhxhDl','send','\x20Start\x20converting\x20to\x20SFDX.','Tokens','SFDXUtils','getOwnPropertyDescriptor','\x20Copying\x20mdapi\x20to\x20git\x20folder.','groupComponentsByFileName','MDApiUtils','gitUrl','replace','../../parsers/data/child-types','values','\x20Checking\x20deleted\x20components.','fileType','sfLogger','://','constructor','18eLbhMv','commitData','SFDX','sfdxUtils','__importStar','819725acqGpZ','../dto/commit-components.dto','hasOwnProperty','includes','length','COMPONENTS_PER_TICK','componentsToWrite','CommitComponentsDto','catch','force-app','10164913uCrILv','getRemote','14zvWHTW','ms.\x20Committed\x20components\x20-\x20','10EyEmZe','../../providers/api/bitbucket-api.service','writeFlosumComponents','(((.+)+)+)+$','default','components','force','\x20Wrote\x20','GitUtils','now','isConvertToSfdx','object','master','\x20Start\x20cloning\x20repository.','\x20components','configurable','getGitShellAuthorizationString','defineProperty','error','gitUtils','CommitComponentsJob','Service','exec','join','532196lnTYKk','__importDefault','componentsToDelete','\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','startTime','BitbucketApiService','../../../shared/utils','splice'];a124_0x3742=function(){return _0xa9c439;};return a124_0x3742();}const a124_0x292e1c=a124_0x5617;function a124_0x5617(_0x431c97,_0x20bbdf){const _0x5923ca=a124_0x3742();return a124_0x5617=function(_0x47808b,_0x2f0152){_0x47808b=_0x47808b-0xfa;let _0x37426d=_0x5923ca[_0x47808b];return _0x37426d;},a124_0x5617(_0x431c97,_0x20bbdf);}(function(_0x73ddee,_0x2eca4d){const _0x35d39b=a124_0x5617,_0x50e25e=_0x73ddee();while(!![]){try{const _0x3381a8=-parseInt(_0x35d39b(0x16c))/0x1+-parseInt(_0x35d39b(0x121))/0x2*(-parseInt(_0x35d39b(0x111))/0x3)+-parseInt(_0x35d39b(0x15e))/0x4+-parseInt(_0x35d39b(0x138))/0x5*(parseInt(_0x35d39b(0x133))/0x6)+parseInt(_0x35d39b(0x144))/0x7*(parseInt(_0x35d39b(0x10f))/0x8)+-parseInt(_0x35d39b(0x16e))/0x9*(-parseInt(_0x35d39b(0x146))/0xa)+parseInt(_0x35d39b(0x142))/0xb;if(_0x3381a8===_0x2eca4d)break;else _0x50e25e['push'](_0x50e25e['shift']());}catch(_0x30a5a0){_0x50e25e['push'](_0x50e25e['shift']());}}}(a124_0x3742,0x5bd6a));const a124_0x2f0152=(function(){let _0x507caa=!![];return function(_0x1ff43b,_0x12f2cd){const _0x5ba75a=_0x507caa?function(){const _0x3b502d=a124_0x5617;if(_0x12f2cd){const _0x489d9d=_0x12f2cd[_0x3b502d(0x118)](_0x1ff43b,arguments);return _0x12f2cd=null,_0x489d9d;}}:function(){};return _0x507caa=![],_0x5ba75a;};}()),a124_0x47808b=a124_0x2f0152(this,function(){const _0x12b6f5=a124_0x5617;return a124_0x47808b[_0x12b6f5(0x169)]()[_0x12b6f5(0x16a)](_0x12b6f5(0x149))[_0x12b6f5(0x169)]()[_0x12b6f5(0x132)](a124_0x47808b)['search'](_0x12b6f5(0x149));});a124_0x47808b();'use strict';var __createBinding=this&&this[a124_0x292e1c(0x17a)]||(Object['create']?function(_0x477f40,_0x242961,_0x24dd9b,_0x1133d4){const _0x1aa21e=a124_0x292e1c;if(_0x1133d4===undefined)_0x1133d4=_0x24dd9b;var _0xc8476d=Object[_0x1aa21e(0x126)](_0x242961,_0x24dd9b);(!_0xc8476d||(_0x1aa21e(0x11e)in _0xc8476d?!_0x242961[_0x1aa21e(0x172)]:_0xc8476d['writable']||_0xc8476d[_0x1aa21e(0x155)]))&&(_0xc8476d={'enumerable':!![],'get':function(){return _0x242961[_0x24dd9b];}}),Object[_0x1aa21e(0x157)](_0x477f40,_0x1133d4,_0xc8476d);}:function(_0x1e8688,_0x3d3f27,_0x43b3f0,_0x5a34b0){if(_0x5a34b0===undefined)_0x5a34b0=_0x43b3f0;_0x1e8688[_0x5a34b0]=_0x3d3f27[_0x43b3f0];}),__setModuleDefault=this&&this[a124_0x292e1c(0x16f)]||(Object['create']?function(_0x6dc09d,_0x53dbff){const _0x3ac48c=a124_0x292e1c;Object[_0x3ac48c(0x157)](_0x6dc09d,'default',{'enumerable':!![],'value':_0x53dbff});}:function(_0x22d64a,_0x44d6e1){_0x22d64a['default']=_0x44d6e1;}),__decorate=this&&this['__decorate']||function(_0x23f768,_0x9944d1,_0x4b7776,_0xbc1f90){const _0x533026=a124_0x292e1c;var _0x464012=arguments[_0x533026(0x13c)],_0x13f7d1=_0x464012<0x3?_0x9944d1:_0xbc1f90===null?_0xbc1f90=Object['getOwnPropertyDescriptor'](_0x9944d1,_0x4b7776):_0xbc1f90,_0x4342da;if(typeof Reflect===_0x533026(0x151)&&typeof Reflect[_0x533026(0x167)]===_0x533026(0x105))_0x13f7d1=Reflect[_0x533026(0x167)](_0x23f768,_0x9944d1,_0x4b7776,_0xbc1f90);else{for(var _0x3cc570=_0x23f768[_0x533026(0x13c)]-0x1;_0x3cc570>=0x0;_0x3cc570--)if(_0x4342da=_0x23f768[_0x3cc570])_0x13f7d1=(_0x464012<0x3?_0x4342da(_0x13f7d1):_0x464012>0x3?_0x4342da(_0x9944d1,_0x4b7776,_0x13f7d1):_0x4342da(_0x9944d1,_0x4b7776))||_0x13f7d1;}return _0x464012>0x3&&_0x13f7d1&&Object[_0x533026(0x157)](_0x9944d1,_0x4b7776,_0x13f7d1),_0x13f7d1;},__importStar=this&&this[a124_0x292e1c(0x137)]||function(_0x6b61ac){const _0x4bc53b=a124_0x292e1c;if(_0x6b61ac&&_0x6b61ac['__esModule'])return _0x6b61ac;var _0x596861={};if(_0x6b61ac!=null){for(var _0x532735 in _0x6b61ac)if(_0x532735!==_0x4bc53b(0x14a)&&Object['prototype'][_0x4bc53b(0x13a)][_0x4bc53b(0x103)](_0x6b61ac,_0x532735))__createBinding(_0x596861,_0x6b61ac,_0x532735);}return __setModuleDefault(_0x596861,_0x6b61ac),_0x596861;},__importDefault=this&&this[a124_0x292e1c(0x15f)]||function(_0x48a293){const _0x1ad926=a124_0x292e1c;return _0x48a293&&_0x48a293[_0x1ad926(0x172)]?_0x48a293:{'default':_0x48a293};};Object['defineProperty'](exports,a124_0x292e1c(0x172),{'value':!![]}),exports[a124_0x292e1c(0x15a)]=void 0x0;const commit_components_dto_1=require(a124_0x292e1c(0x139)),events_1=__importDefault(require(a124_0x292e1c(0x168))),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a124_0x292e1c(0x102)),sfdx_utils_1=require(a124_0x292e1c(0x179)),typedi_1=__importStar(require(a124_0x292e1c(0x114))),child_types_1=__importDefault(require(a124_0x292e1c(0x12c))),utils_1=require(a124_0x292e1c(0x164)),constants_1=require(a124_0x292e1c(0x108)),git_provider_1=require(a124_0x292e1c(0xff)),bitbucket_api_service_1=require(a124_0x292e1c(0x147)),sfdx_utils_2=require('../../salesforce/utils/sfdx.utils'),fs_internal_1=require(a124_0x292e1c(0x109)),path_1=require(a124_0x292e1c(0x11c)),providers_tokens_1=require(a124_0x292e1c(0x119)),constants_2=require('../../../../constants');let CommitComponentsJob=class CommitComponentsJob extends events_1[a124_0x292e1c(0x14a)]{constructor(){const _0x548b09=a124_0x292e1c;super(...arguments),this[_0x548b09(0x13d)]=0x3e8,this[_0x548b09(0x13e)]=0x0,this[_0x548b09(0x160)]=0x0,this[_0x548b09(0x162)]=Date[_0x548b09(0x14f)]();}async[a124_0x292e1c(0x143)](){const _0x41e622=a124_0x292e1c,{repo:_0x2a4789}=this[_0x41e622(0x134)],_0x6e23dd=typedi_1['default']['get'](providers_tokens_1[_0x41e622(0x124)][_0x41e622(0x10c)]);if(this['commitData'][_0x41e622(0x11a)]===git_provider_1[_0x41e622(0x170)][_0x41e622(0x16d)]){const _0x3bd78a=typedi_1[_0x41e622(0x14a)]['get'](bitbucket_api_service_1[_0x41e622(0x163)]);await _0x3bd78a['isLoggedIn']();}return _0x2a4789[_0x41e622(0x12a)][_0x41e622(0x12b)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x41e622(0x110)])(_0x2a4789['gitUrl'])+_0x41e622(0x131)+_0x6e23dd[_0x41e622(0x156)]()+'@');}['groupComponentsByFileName'](_0x55b9ba){const _0x426707=a124_0x292e1c;var _0x1f387e;_0x55b9ba[_0x426707(0x10e)](_0x2df9bd=>child_types_1[_0x426707(0x14a)][_0x426707(0x13b)](_0x2df9bd[_0x426707(0x12f)])?0x1:-0x1);const _0x2f2f4b={};for(const _0x542ad1 of _0x55b9ba){_0x2f2f4b[_0x1f387e=_0x542ad1[_0x426707(0x117)]]||(_0x2f2f4b[_0x1f387e]=[]),_0x2f2f4b[_0x542ad1[_0x426707(0x117)]]['push'](_0x542ad1);}return Object[_0x426707(0x12d)](_0x2f2f4b)[_0x426707(0xfa)]((_0x5d7cd9,_0x5f19a9)=>[..._0x5d7cd9,..._0x5f19a9],[]);}async[a124_0x292e1c(0xfc)](_0x12ed0f){const _0x2f6a05=a124_0x292e1c;_0x12ed0f=this[_0x2f6a05(0x128)](_0x12ed0f);let _0x4f7702=0x0;while(_0x12ed0f[_0x2f6a05(0x13c)]){const _0x6843e9=_0x12ed0f[_0x2f6a05(0x165)](0x0,this[_0x2f6a05(0x13d)]);await this[_0x2f6a05(0x175)][_0x2f6a05(0x148)](_0x6843e9,{'skipChildErrors':this[_0x2f6a05(0x134)][_0x2f6a05(0x174)][_0x2f6a05(0x10a)]===_0x2f6a05(0x152),'recordType':this[_0x2f6a05(0x134)][_0x2f6a05(0x101)]}),_0x4f7702+=_0x6843e9[_0x2f6a05(0x13c)],this[_0x2f6a05(0x130)]['log'](this[_0x2f6a05(0x11f)]+_0x2f6a05(0x14d)+_0x4f7702+'/'+this[_0x2f6a05(0x13e)]+_0x2f6a05(0x154)),await this['sfLogger']['send']();}}async[a124_0x292e1c(0x106)](_0x4d74cf){const _0x556f3d=a124_0x292e1c;_0x4d74cf[_0x556f3d(0x10e)](_0x480873=>child_types_1[_0x556f3d(0x14a)]['includes'](_0x480873[_0x556f3d(0x177)])?-0x1:0x1);let _0x4d5c9b=0x0;while(_0x4d74cf['length']){const _0x141b04=_0x4d74cf[_0x556f3d(0x165)](0x0,this[_0x556f3d(0x13d)]);await this[_0x556f3d(0x175)][_0x556f3d(0x106)](_0x141b04,this[_0x556f3d(0x134)][_0x556f3d(0x101)]),_0x4d5c9b+=_0x141b04[_0x556f3d(0x13c)],this[_0x556f3d(0x130)][_0x556f3d(0x112)](this[_0x556f3d(0x11f)]+'\x20Deleted\x20'+_0x4d5c9b+'/'+this[_0x556f3d(0x160)]+'\x20components'),await this[_0x556f3d(0x130)][_0x556f3d(0x122)]();}}async['cleanUp'](){const _0x3bd4d5=a124_0x292e1c;this[_0x3bd4d5(0x159)]&&await this[_0x3bd4d5(0x159)][_0x3bd4d5(0xfb)]()['catch'](()=>void 0x0),this[_0x3bd4d5(0x175)]&&await this[_0x3bd4d5(0x175)][_0x3bd4d5(0xfb)]()[_0x3bd4d5(0x140)](()=>void 0x0),this[_0x3bd4d5(0x136)]&&await this[_0x3bd4d5(0x136)][_0x3bd4d5(0xfb)]()['catch'](()=>void 0x0);}async[a124_0x292e1c(0x15c)](){const _0x2e6ca3=a124_0x292e1c,{repo:_0x3480af,branch:_0x2f17cd,components:_0x5408ce,convertToSFDX:_0x50d6ad,message:_0x352538,user:_0x4d28c3}=this[_0x2e6ca3(0x134)];this[_0x2e6ca3(0x175)]=new mdapi_utils_1[(_0x2e6ca3(0x129))](),this['gitUtils']=new git_utils_1[(_0x2e6ca3(0x14e))](await this[_0x2e6ca3(0x143)]()),this[_0x2e6ca3(0x136)]=new sfdx_utils_1[(_0x2e6ca3(0x125))]();let _0x1aff6a=_0x50d6ad&&this[_0x2e6ca3(0x136)][_0x2e6ca3(0x150)](this['commitData'][_0x2e6ca3(0x101)]);try{await this['sfLogger'][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x153))['send'](),await this[_0x2e6ca3(0x159)][_0x2e6ca3(0x120)](_0x2f17cd[_0x2e6ca3(0x10a)],_0x3480af[_0x2e6ca3(0x10a)]);!this[_0x2e6ca3(0x134)][_0x2e6ca3(0x14c)]?(this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x16b)),await this[_0x2e6ca3(0x175)]['prepareMdapi'](this[_0x2e6ca3(0x159)][_0x2e6ca3(0x115)])):this[_0x2e6ca3(0x130)]['log'](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0xfd));await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this['prefix']+'\x20Checking\x20written\x20components.')['send']();_0x5408ce[_0x2e6ca3(0x11d)]&&(this[_0x2e6ca3(0x130)]['log'](this['prefix']+_0x2e6ca3(0x10d)),this[_0x2e6ca3(0x13e)]=_0x5408ce[_0x2e6ca3(0x11d)][_0x2e6ca3(0x13c)],await this[_0x2e6ca3(0xfc)](_0x5408ce[_0x2e6ca3(0x11d)]),await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x122)]());await this[_0x2e6ca3(0x130)]['log'](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x12e))[_0x2e6ca3(0x122)]();_0x5408ce[_0x2e6ca3(0x116)]&&(this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x173)),this[_0x2e6ca3(0x160)]=_0x5408ce[_0x2e6ca3(0x116)][_0x2e6ca3(0x13c)],await this[_0x2e6ca3(0x106)](_0x5408ce['deleted']),await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x122)]());await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x122)]();const _0x5a6b94=await fs_internal_1['FS'][_0x2e6ca3(0x11b)](this[_0x2e6ca3(0x159)][_0x2e6ca3(0x115)]);await sfdx_utils_2[_0x2e6ca3(0x135)]['isSFDXProject'](this['gitUtils'][_0x2e6ca3(0x115)])?(_0x1aff6a=!![],await fs_internal_1['FS'][_0x2e6ca3(0xfb)]((0x0,path_1[_0x2e6ca3(0x15d)])(this['gitUtils']['dir'],_0x2e6ca3(0x141)))):(_0x1aff6a&&(!_0x5a6b94&&(_0x1aff6a=![])),await this[_0x2e6ca3(0x159)]['clearDir']());_0x1aff6a?(await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x123))[_0x2e6ca3(0x122)](),await this[_0x2e6ca3(0x136)][_0x2e6ca3(0xfe)](this[_0x2e6ca3(0x175)][_0x2e6ca3(0x115)]),await this[_0x2e6ca3(0x136)][_0x2e6ca3(0x178)](this[_0x2e6ca3(0x159)]['dir'],!_0x5a6b94),await this[_0x2e6ca3(0x136)][_0x2e6ca3(0x10b)](this['mdapiUtils'][_0x2e6ca3(0x115)],(0x0,path_1[_0x2e6ca3(0x15d)])(this['gitUtils'][_0x2e6ca3(0x115)],constants_2[_0x2e6ca3(0x113)])),await this[_0x2e6ca3(0x136)][_0x2e6ca3(0xfb)]()):(await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+_0x2e6ca3(0x127))[_0x2e6ca3(0x122)](),await this[_0x2e6ca3(0x175)]['copyMdapiTo'](this[_0x2e6ca3(0x159)]['dir']));await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x112)](this[_0x2e6ca3(0x11f)]+'\x20Committing\x20and\x20pushing\x20source\x20to\x20git.')[_0x2e6ca3(0x122)](),await this[_0x2e6ca3(0x159)][_0x2e6ca3(0x171)](_0x352538,{'email':constants_1[_0x2e6ca3(0x176)],'name':_0x4d28c3['name']},_0x2f17cd[_0x2e6ca3(0x10a)]),await this[_0x2e6ca3(0x159)][_0x2e6ca3(0xfb)](),await this[_0x2e6ca3(0x175)]['removeDir']();const _0x4cacbe=this[_0x2e6ca3(0x13e)]+this['componentsToDelete'];await this['sfLogger']['log'](this['prefix']+_0x2e6ca3(0x161)+(Date[_0x2e6ca3(0x14f)]()-this['startTime'])+_0x2e6ca3(0x145)+_0x4cacbe+'.')[_0x2e6ca3(0x122)]();}catch(_0x28824b){await this[_0x2e6ca3(0x100)](),await this[_0x2e6ca3(0x130)][_0x2e6ca3(0x158)](this[_0x2e6ca3(0x11f)]+'\x20'+_0x28824b)[_0x2e6ca3(0x122)]();throw _0x28824b;}}async[a124_0x292e1c(0x107)](_0xf80640,_0x5cd507){const _0x4b543d=a124_0x292e1c;var _0x2e2666,_0x183202;this[_0x4b543d(0x130)]=typedi_1[_0x4b543d(0x14a)][_0x4b543d(0x11e)](providers_tokens_1[_0x4b543d(0x124)][_0x4b543d(0x104)]),this[_0x4b543d(0x11f)]=(_0x5cd507?_0x5cd507+'\x20':'')+'['+commit_components_dto_1[_0x4b543d(0x13f)][_0x4b543d(0x10a)]+']',await this['sfLogger'][_0x4b543d(0x112)](this[_0x4b543d(0x11f)]+'\x20Checking\x20commit\x20components.');const _0x197c93=!!((_0x2e2666=_0xf80640[_0x4b543d(0x14b)])===null||_0x2e2666===void 0x0?void 0x0:_0x2e2666[_0x4b543d(0x11d)])||!!((_0x183202=_0xf80640['components'])===null||_0x183202===void 0x0?void 0x0:_0x183202['deleted']);if(!_0x197c93){await this[_0x4b543d(0x130)]['log'](this[_0x4b543d(0x11f)]+_0x4b543d(0x166))[_0x4b543d(0x122)]();return;}this[_0x4b543d(0x134)]=_0xf80640,await this[_0x4b543d(0x15c)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a124_0x292e1c(0x15b)])({'transient':!![]})],CommitComponentsJob),exports[a124_0x292e1c(0x15a)]=CommitComponentsJob;