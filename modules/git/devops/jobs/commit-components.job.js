function a121_0x102f(){const _0x1a60ad=['clearDir','../../providers/types/git-provider','\x20Start\x20cloning\x20repository.','\x20Preparing\x20to\x20delete\x20components','commitAndPush','writed','\x20Start\x20converting\x20to\x20SFDX.','push','reduce','defineProperty','../utils/git.utils','exec','cleanUp','logger','credentials','now','../../../shared/utils','13476XCuhUN','groupComponentsByFileName','GitUtils','decorate','CommitComponentsJob','\x20Checking\x20deleted\x20components.','componentsToDelete','run','clone','../../providers/api/bitbucket-api.service','function','apply','__esModule','\x20Checking\x20written\x20components.','dir','24xaWtzI','\x20Deleted\x20','typedi','call','writable','mdapiUtils','../../providers/providers.tokens','10014wTpNXb','toString','ms.\x20Committed\x20components\x20-\x20','splice','isEmptyDir','recordType','getGitShellAuthorizationString','FORCE_APP_DEFAULT_DIR','sfLogger','events','isLoggedIn','isConvertToSfdx','components','sort','1093235hibQro','writeComponents','../../salesforce/utils/sfdx.utils','1659294NtQhlt','\x20components','search','removeComponents','sfdxUtils','6420420GsnNrZ','prototype','\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','(((.+)+)+)+$','CommitComponentsDto','log','getRemote','Tokens','default','branch','getOwnPropertyDescriptor','removeDir','991389UFMnjY','get','__createBinding','../utils/mdapi.utils','44agiTlt','prefix','send','\x20Prepare\x20mdapi\x20files.','startTime','error','configurable','deleted','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','object','includes','../../../../constants','componentsToWrite','force-app','writeFlosumComponents','copyMdapiTo','prepareMdapi','gitUtils','Service','copySFDXIgnoredComponents','\x20Preparing\x20to\x20write\x20components','../dto/commit-components.dto','provider','\x20Nothing\x20to\x20commit.\x20Skip.','\x20Copying\x20mdapi\x20to\x20git\x20folder.','commitData','create','fileName','GitProvider','2552612AntXnu','length','\x20Checking\x20commit\x20components.','values','hasOwnProperty','gitUrl','type','BitbucketApiService','catch','COMPONENTS_PER_TICK','replace','name','fileType'];a121_0x102f=function(){return _0x1a60ad;};return a121_0x102f();}const a121_0x311368=a121_0x25bb;(function(_0x13b193,_0x5705cc){const _0x3db461=a121_0x25bb,_0x289d13=_0x13b193();while(!![]){try{const _0xfa7e41=-parseInt(_0x3db461(0x220))/0x1+parseInt(_0x3db461(0x1cf))/0x2*(-parseInt(_0x3db461(0x20a))/0x3)+parseInt(_0x3db461(0x1ec))/0x4+-parseInt(_0x3db461(0x1b6))/0x5+-parseInt(_0x3db461(0x1b9))/0x6+parseInt(_0x3db461(0x1cb))/0x7*(-parseInt(_0x3db461(0x219))/0x8)+parseInt(_0x3db461(0x1be))/0x9;if(_0xfa7e41===_0x5705cc)break;else _0x289d13['push'](_0x289d13['shift']());}catch(_0x74f14){_0x289d13['push'](_0x289d13['shift']());}}}(a121_0x102f,0x4ec3a));const a121_0x49a0b4=(function(){let _0x6784b=!![];return function(_0x1c39ed,_0x3db085){const _0x298e84=_0x6784b?function(){const _0x36abd1=a121_0x25bb;if(_0x3db085){const _0x13b01e=_0x3db085[_0x36abd1(0x215)](_0x1c39ed,arguments);return _0x3db085=null,_0x13b01e;}}:function(){};return _0x6784b=![],_0x298e84;};}()),a121_0x54655d=a121_0x49a0b4(this,function(){const _0x5b5814=a121_0x25bb;return a121_0x54655d[_0x5b5814(0x221)]()['search']('(((.+)+)+)+$')[_0x5b5814(0x221)]()['constructor'](a121_0x54655d)[_0x5b5814(0x1bb)](_0x5b5814(0x1c2));});function a121_0x25bb(_0x359d5d,_0x20235f){const _0x32a9ea=a121_0x102f();return a121_0x25bb=function(_0x54655d,_0x49a0b4){_0x54655d=_0x54655d-0x1b3;let _0x102fea=_0x32a9ea[_0x54655d];return _0x102fea;},a121_0x25bb(_0x359d5d,_0x20235f);}a121_0x54655d();'use strict';var __createBinding=this&&this[a121_0x311368(0x1cd)]||(Object[a121_0x311368(0x1e9)]?function(_0x54ccb2,_0x13a66b,_0x3d1cbd,_0x8e3b0d){const _0x34f02c=a121_0x311368;if(_0x8e3b0d===undefined)_0x8e3b0d=_0x3d1cbd;var _0x55fc80=Object[_0x34f02c(0x1c9)](_0x13a66b,_0x3d1cbd);(!_0x55fc80||(_0x34f02c(0x1cc)in _0x55fc80?!_0x13a66b['__esModule']:_0x55fc80[_0x34f02c(0x21d)]||_0x55fc80[_0x34f02c(0x1d5)]))&&(_0x55fc80={'enumerable':!![],'get':function(){return _0x13a66b[_0x3d1cbd];}}),Object['defineProperty'](_0x54ccb2,_0x8e3b0d,_0x55fc80);}:function(_0x1009a8,_0x27dcbb,_0x8bb6fa,_0x2955ff){if(_0x2955ff===undefined)_0x2955ff=_0x8bb6fa;_0x1009a8[_0x2955ff]=_0x27dcbb[_0x8bb6fa];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a121_0x311368(0x1e9)]?function(_0x1dc29e,_0x3592e8){const _0x27758e=a121_0x311368;Object[_0x27758e(0x202)](_0x1dc29e,_0x27758e(0x1c7),{'enumerable':!![],'value':_0x3592e8});}:function(_0x464d84,_0x2b2c93){const _0x289117=a121_0x311368;_0x464d84[_0x289117(0x1c7)]=_0x2b2c93;}),__decorate=this&&this['__decorate']||function(_0x46583d,_0x3fb86c,_0x20e4b7,_0x30bc13){const _0xeb6e3=a121_0x311368;var _0x17b810=arguments[_0xeb6e3(0x1ed)],_0x210120=_0x17b810<0x3?_0x3fb86c:_0x30bc13===null?_0x30bc13=Object[_0xeb6e3(0x1c9)](_0x3fb86c,_0x20e4b7):_0x30bc13,_0x52f1ab;if(typeof Reflect===_0xeb6e3(0x1d8)&&typeof Reflect[_0xeb6e3(0x20d)]===_0xeb6e3(0x214))_0x210120=Reflect[_0xeb6e3(0x20d)](_0x46583d,_0x3fb86c,_0x20e4b7,_0x30bc13);else{for(var _0x4f949c=_0x46583d['length']-0x1;_0x4f949c>=0x0;_0x4f949c--)if(_0x52f1ab=_0x46583d[_0x4f949c])_0x210120=(_0x17b810<0x3?_0x52f1ab(_0x210120):_0x17b810>0x3?_0x52f1ab(_0x3fb86c,_0x20e4b7,_0x210120):_0x52f1ab(_0x3fb86c,_0x20e4b7))||_0x210120;}return _0x17b810>0x3&&_0x210120&&Object[_0xeb6e3(0x202)](_0x3fb86c,_0x20e4b7,_0x210120),_0x210120;},__importStar=this&&this['__importStar']||function(_0x4be041){const _0x4a5938=a121_0x311368;if(_0x4be041&&_0x4be041[_0x4a5938(0x216)])return _0x4be041;var _0x3afc6d={};if(_0x4be041!=null){for(var _0x44b265 in _0x4be041)if(_0x44b265!==_0x4a5938(0x1c7)&&Object[_0x4a5938(0x1bf)][_0x4a5938(0x1f0)][_0x4a5938(0x21c)](_0x4be041,_0x44b265))__createBinding(_0x3afc6d,_0x4be041,_0x44b265);}return __setModuleDefault(_0x3afc6d,_0x4be041),_0x3afc6d;},__importDefault=this&&this['__importDefault']||function(_0x37ff0f){return _0x37ff0f&&_0x37ff0f['__esModule']?_0x37ff0f:{'default':_0x37ff0f};};Object[a121_0x311368(0x202)](exports,a121_0x311368(0x216),{'value':!![]}),exports[a121_0x311368(0x20e)]=void 0x0;const commit_components_dto_1=require(a121_0x311368(0x1e4)),events_1=__importDefault(require(a121_0x311368(0x229))),git_utils_1=require(a121_0x311368(0x203)),mdapi_utils_1=require(a121_0x311368(0x1ce)),sfdx_utils_1=require('../utils/sfdx.utils'),typedi_1=__importStar(require(a121_0x311368(0x21b))),child_types_1=__importDefault(require('../../parsers/data/child-types')),utils_1=require(a121_0x311368(0x209)),constants_1=require('../../../../constants'),git_provider_1=require(a121_0x311368(0x1fa)),bitbucket_api_service_1=require(a121_0x311368(0x213)),sfdx_utils_2=require(a121_0x311368(0x1b8)),fs_internal_1=require('../../internal/fs.internal'),path_1=require('path'),providers_tokens_1=require(a121_0x311368(0x21f)),constants_2=require(a121_0x311368(0x1da));let CommitComponentsJob=class CommitComponentsJob extends events_1[a121_0x311368(0x1c7)]{constructor(){const _0x18d5e5=a121_0x311368;super(...arguments),this[_0x18d5e5(0x1f5)]=0x3e8,this['componentsToWrite']=0x0,this[_0x18d5e5(0x210)]=0x0,this[_0x18d5e5(0x1d3)]=Date[_0x18d5e5(0x208)]();}async[a121_0x311368(0x1c5)](){const _0x14b4e5=a121_0x311368,{repo:_0x2b94d2}=this[_0x14b4e5(0x1e8)],_0xb6bb25=typedi_1[_0x14b4e5(0x1c7)][_0x14b4e5(0x1cc)](providers_tokens_1['Tokens'][_0x14b4e5(0x207)]);if(this[_0x14b4e5(0x1e8)][_0x14b4e5(0x1e5)]===git_provider_1[_0x14b4e5(0x1eb)]['Bitbucket']){const _0x9627bc=typedi_1[_0x14b4e5(0x1c7)][_0x14b4e5(0x1cc)](bitbucket_api_service_1[_0x14b4e5(0x1f3)]);await _0x9627bc[_0x14b4e5(0x22a)]();}return _0x2b94d2['gitUrl'][_0x14b4e5(0x1f6)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2b94d2[_0x14b4e5(0x1f1)])+'://'+_0xb6bb25[_0x14b4e5(0x226)]()+'@');}[a121_0x311368(0x20b)](_0x409157){const _0x1b9e08=a121_0x311368;var _0x161183;_0x409157[_0x1b9e08(0x1b5)](_0x22b427=>child_types_1[_0x1b9e08(0x1c7)][_0x1b9e08(0x1d9)](_0x22b427[_0x1b9e08(0x1f8)])?0x1:-0x1);const _0x140705={};for(const _0x2c5c88 of _0x409157){_0x140705[_0x161183=_0x2c5c88[_0x1b9e08(0x1ea)]]||(_0x140705[_0x161183]=[]),_0x140705[_0x2c5c88['fileName']][_0x1b9e08(0x200)](_0x2c5c88);}return Object[_0x1b9e08(0x1ef)](_0x140705)[_0x1b9e08(0x201)]((_0xe9c068,_0x271d50)=>[..._0xe9c068,..._0x271d50],[]);}async[a121_0x311368(0x1b7)](_0x2682c7){const _0x510375=a121_0x311368;_0x2682c7=this[_0x510375(0x20b)](_0x2682c7);let _0x2cf74a=0x0;while(_0x2682c7[_0x510375(0x1ed)]){const _0x5e8250=_0x2682c7[_0x510375(0x223)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x510375(0x21e)][_0x510375(0x1dd)](_0x5e8250,{'skipChildErrors':this[_0x510375(0x1e8)][_0x510375(0x1c8)]['name']==='master','recordType':this[_0x510375(0x1e8)][_0x510375(0x225)]}),_0x2cf74a+=_0x5e8250[_0x510375(0x1ed)],this[_0x510375(0x228)][_0x510375(0x1c4)](this[_0x510375(0x1d0)]+'\x20Wrote\x20'+_0x2cf74a+'/'+this[_0x510375(0x1db)]+_0x510375(0x1ba)),await this[_0x510375(0x228)][_0x510375(0x1d1)]();}}async[a121_0x311368(0x1bc)](_0x1071f5){const _0x32482c=a121_0x311368;_0x1071f5[_0x32482c(0x1b5)](_0x1ac74d=>child_types_1[_0x32482c(0x1c7)][_0x32482c(0x1d9)](_0x1ac74d[_0x32482c(0x1f2)])?-0x1:0x1);let _0x2e7a2d=0x0;while(_0x1071f5[_0x32482c(0x1ed)]){const _0x29cbd1=_0x1071f5[_0x32482c(0x223)](0x0,this[_0x32482c(0x1f5)]);await this[_0x32482c(0x21e)][_0x32482c(0x1bc)](_0x29cbd1,this[_0x32482c(0x1e8)][_0x32482c(0x225)]),_0x2e7a2d+=_0x29cbd1[_0x32482c(0x1ed)],this[_0x32482c(0x228)]['log'](this[_0x32482c(0x1d0)]+_0x32482c(0x21a)+_0x2e7a2d+'/'+this[_0x32482c(0x210)]+_0x32482c(0x1ba)),await this[_0x32482c(0x228)][_0x32482c(0x1d1)]();}}async[a121_0x311368(0x205)](){const _0x440c25=a121_0x311368;this[_0x440c25(0x1e0)]&&await this[_0x440c25(0x1e0)][_0x440c25(0x1ca)]()['catch'](()=>void 0x0),this[_0x440c25(0x21e)]&&await this[_0x440c25(0x21e)]['removeDir']()[_0x440c25(0x1f4)](()=>void 0x0),this[_0x440c25(0x1bd)]&&await this[_0x440c25(0x1bd)]['removeDir']()[_0x440c25(0x1f4)](()=>void 0x0);}async['exec'](){const _0x1b1a4c=a121_0x311368,{repo:_0x380fe2,branch:_0x30c6ab,components:_0x1fd79c,convertToSFDX:_0xf21a0a,message:_0x98c05,user:_0x2d8bf7}=this[_0x1b1a4c(0x1e8)];this[_0x1b1a4c(0x21e)]=new mdapi_utils_1['MDApiUtils'](),this['gitUtils']=new git_utils_1[(_0x1b1a4c(0x20c))](await this[_0x1b1a4c(0x1c5)]()),this['sfdxUtils']=new sfdx_utils_1['SFDXUtils']();let _0x59adec=_0xf21a0a&&this[_0x1b1a4c(0x1bd)][_0x1b1a4c(0x1b3)](this['commitData']['recordType']);try{await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1fb))[_0x1b1a4c(0x1d1)](),await this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x212)](_0x30c6ab['name'],_0x380fe2[_0x1b1a4c(0x1f7)]);!this[_0x1b1a4c(0x1e8)]['force']?(this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1d2)),await this[_0x1b1a4c(0x21e)][_0x1b1a4c(0x1df)](this['gitUtils'][_0x1b1a4c(0x218)])):this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1c1));await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x217))['send']();_0x1fd79c[_0x1b1a4c(0x1fe)]&&(this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this['prefix']+_0x1b1a4c(0x1e3)),this[_0x1b1a4c(0x1db)]=_0x1fd79c[_0x1b1a4c(0x1fe)]['length'],await this[_0x1b1a4c(0x1b7)](_0x1fd79c[_0x1b1a4c(0x1fe)]),await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1d1)]());await this[_0x1b1a4c(0x228)]['log'](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x20f))[_0x1b1a4c(0x1d1)]();_0x1fd79c['deleted']&&(this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1fc)),this[_0x1b1a4c(0x210)]=_0x1fd79c[_0x1b1a4c(0x1d6)][_0x1b1a4c(0x1ed)],await this[_0x1b1a4c(0x1bc)](_0x1fd79c[_0x1b1a4c(0x1d6)]),await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1d1)]());await this[_0x1b1a4c(0x228)]['send']();const _0x50649d=await fs_internal_1['FS'][_0x1b1a4c(0x224)](this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x218)]);await sfdx_utils_2['SFDX']['isSFDXProject'](this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x218)])?(_0x59adec=!![],await fs_internal_1['FS'][_0x1b1a4c(0x1ca)]((0x0,path_1['join'])(this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x218)],_0x1b1a4c(0x1dc)))):(_0x59adec&&(!_0x50649d&&(_0x59adec=![])),await this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x1f9)]());_0x59adec?(await this['sfLogger']['log'](this['prefix']+_0x1b1a4c(0x1ff))[_0x1b1a4c(0x1d1)](),await this[_0x1b1a4c(0x1bd)]['createProjectFrom'](this['mdapiUtils'][_0x1b1a4c(0x218)]),await this['sfdxUtils']['copyProjectTo'](this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x218)],!_0x50649d),await this[_0x1b1a4c(0x1bd)][_0x1b1a4c(0x1e2)](this[_0x1b1a4c(0x21e)][_0x1b1a4c(0x218)],(0x0,path_1['join'])(this[_0x1b1a4c(0x1e0)]['dir'],constants_2[_0x1b1a4c(0x227)])),await this[_0x1b1a4c(0x1bd)][_0x1b1a4c(0x1ca)]()):(await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1e7))['send'](),await this[_0x1b1a4c(0x21e)][_0x1b1a4c(0x1de)](this['gitUtils'][_0x1b1a4c(0x218)]));await this['sfLogger'][_0x1b1a4c(0x1c4)](this[_0x1b1a4c(0x1d0)]+_0x1b1a4c(0x1d7))[_0x1b1a4c(0x1d1)](),await this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x1fd)](_0x98c05,{'email':constants_1['DEFAULT_GIT_USER_EMAIL'],'name':_0x2d8bf7[_0x1b1a4c(0x1f7)]},_0x30c6ab['name']),await this[_0x1b1a4c(0x1e0)][_0x1b1a4c(0x1ca)](),await this['mdapiUtils'][_0x1b1a4c(0x1ca)]();const _0x267002=this[_0x1b1a4c(0x1db)]+this[_0x1b1a4c(0x210)];await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1c4)](this['prefix']+_0x1b1a4c(0x1c0)+(Date[_0x1b1a4c(0x208)]()-this[_0x1b1a4c(0x1d3)])+_0x1b1a4c(0x222)+_0x267002+'.')[_0x1b1a4c(0x1d1)]();}catch(_0x5f27dc){await this[_0x1b1a4c(0x205)](),await this[_0x1b1a4c(0x228)][_0x1b1a4c(0x1d4)](this[_0x1b1a4c(0x1d0)]+'\x20'+_0x5f27dc)[_0x1b1a4c(0x1d1)]();throw _0x5f27dc;}}async[a121_0x311368(0x211)](_0x1a51df,_0xffd804){const _0x29d320=a121_0x311368;var _0x5e2c53,_0x43059d;this[_0x29d320(0x228)]=typedi_1[_0x29d320(0x1c7)][_0x29d320(0x1cc)](providers_tokens_1[_0x29d320(0x1c6)][_0x29d320(0x206)]),this[_0x29d320(0x1d0)]=(_0xffd804?_0xffd804+'\x20':'')+'['+commit_components_dto_1[_0x29d320(0x1c3)][_0x29d320(0x1f7)]+']',await this[_0x29d320(0x228)]['log'](this[_0x29d320(0x1d0)]+_0x29d320(0x1ee));const _0xd66776=!!((_0x5e2c53=_0x1a51df[_0x29d320(0x1b4)])===null||_0x5e2c53===void 0x0?void 0x0:_0x5e2c53['writed'])||!!((_0x43059d=_0x1a51df['components'])===null||_0x43059d===void 0x0?void 0x0:_0x43059d[_0x29d320(0x1d6)]);if(!_0xd66776){await this[_0x29d320(0x228)][_0x29d320(0x1c4)](this[_0x29d320(0x1d0)]+_0x29d320(0x1e6))[_0x29d320(0x1d1)]();return;}this['commitData']=_0x1a51df,await this[_0x29d320(0x204)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a121_0x311368(0x1e1)])({'transient':!![]})],CommitComponentsJob),exports[a121_0x311368(0x20e)]=CommitComponentsJob;