function a124_0x3c22(){const _0x380677=['../utils/git.utils','path','default','../../providers/api/bitbucket-api.service','4052601pRhlRM','groupComponentsByFileName','../dto/commit-components.dto','../../providers/providers.tokens','30PZGKQR','components','commitAndPush','create','2596468uORDxB','values','get','search','writeComponents','recordType','master','cleanUp','../utils/mdapi.utils','\x20Start\x20converting\x20to\x20SFDX.','sfLogger','CommitComponentsJob','sort','function','events','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','SFDXUtils','prefix','call','DEFAULT_GIT_USER_EMAIL','../../providers/types/git-provider','9741yZSUqZ','componentsToDelete','push','Tokens','GitUtils','writeFlosumComponents','\x20Nothing\x20to\x20commit.\x20Skip.','__importStar','223396cRTayF','Bitbucket','ms.\x20Committed\x20components\x20-\x20','\x20Checking\x20written\x20components.','force','getRemote','writed','typedi','componentsToWrite','credentials','(((.+)+)+)+$','\x20components','\x20Preparing\x20to\x20delete\x20components','now','4477718sHpNVG','commitData','splice','removeDir','exec','gitUrl','mdapiUtils','__createBinding','GitProvider','name','copyMdapiTo','run','copyProjectTo','__decorate','apply','8540376kVfLUy','object','deleted','log','COMPONENTS_PER_TICK','hasOwnProperty','../../parsers/data/child-types','send','sfdxUtils','getGitShellAuthorizationString','\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','fileName','__importDefault','branch','length','__setModuleDefault','__esModule','BitbucketApiService','gitUtils','../../salesforce/utils/sfdx.utils','error','Service','defineProperty','join','removeComponents','startTime','writable','dir','decorate','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','isConvertToSfdx','MDApiUtils','isEmptyDir','catch','FORCE_APP_DEFAULT_DIR','../../../../constants','prepareMdapi','constructor','includes','isSFDXProject','74455IFkxHL','\x20Wrote\x20','482WbWWPG'];a124_0x3c22=function(){return _0x380677;};return a124_0x3c22();}const a124_0x43996d=a124_0x4ffd;(function(_0x1f40c8,_0x42c3f1){const _0x1e46bf=a124_0x4ffd,_0x3d3b1d=_0x1f40c8();while(!![]){try{const _0x1a72c7=-parseInt(_0x1e46bf(0x18f))/0x1+-parseInt(_0x1e46bf(0x1d6))/0x2*(parseInt(_0x1e46bf(0x187))/0x3)+-parseInt(_0x1e46bf(0x1e3))/0x4+parseInt(_0x1e46bf(0x1d4))/0x5*(parseInt(_0x1e46bf(0x1df))/0x6)+parseInt(_0x1e46bf(0x19d))/0x7+parseInt(_0x1e46bf(0x1ac))/0x8+parseInt(_0x1e46bf(0x1db))/0x9;if(_0x1a72c7===_0x42c3f1)break;else _0x3d3b1d['push'](_0x3d3b1d['shift']());}catch(_0x17ddcb){_0x3d3b1d['push'](_0x3d3b1d['shift']());}}}(a124_0x3c22,0x8cd9d));const a124_0x1895ef=(function(){let _0x613fbe=!![];return function(_0x3ac589,_0x5a6e0a){const _0x45af5b=_0x613fbe?function(){const _0x3b07d7=a124_0x4ffd;if(_0x5a6e0a){const _0x506f70=_0x5a6e0a[_0x3b07d7(0x1ab)](_0x3ac589,arguments);return _0x5a6e0a=null,_0x506f70;}}:function(){};return _0x613fbe=![],_0x45af5b;};}()),a124_0x56d4d6=a124_0x1895ef(this,function(){const _0x58e2f8=a124_0x4ffd;return a124_0x56d4d6['toString']()[_0x58e2f8(0x1e6)](_0x58e2f8(0x199))['toString']()[_0x58e2f8(0x1d1)](a124_0x56d4d6)[_0x58e2f8(0x1e6)]('(((.+)+)+)+$');});a124_0x56d4d6();'use strict';function a124_0x4ffd(_0x30f8f7,_0x2a54ce){const _0x1816e9=a124_0x3c22();return a124_0x4ffd=function(_0x56d4d6,_0x1895ef){_0x56d4d6=_0x56d4d6-0x17a;let _0x3c22e2=_0x1816e9[_0x56d4d6];return _0x3c22e2;},a124_0x4ffd(_0x30f8f7,_0x2a54ce);}var __createBinding=this&&this[a124_0x43996d(0x1a4)]||(Object[a124_0x43996d(0x1e2)]?function(_0x25b07f,_0x352bff,_0x2b3cb9,_0x3bd5a9){const _0x270cc0=a124_0x43996d;if(_0x3bd5a9===undefined)_0x3bd5a9=_0x2b3cb9;var _0x3c8abf=Object['getOwnPropertyDescriptor'](_0x352bff,_0x2b3cb9);(!_0x3c8abf||('get'in _0x3c8abf?!_0x352bff[_0x270cc0(0x1bc)]:_0x3c8abf[_0x270cc0(0x1c6)]||_0x3c8abf['configurable']))&&(_0x3c8abf={'enumerable':!![],'get':function(){return _0x352bff[_0x2b3cb9];}}),Object[_0x270cc0(0x1c2)](_0x25b07f,_0x3bd5a9,_0x3c8abf);}:function(_0x414b96,_0x57d11c,_0x142ebb,_0x229ae7){if(_0x229ae7===undefined)_0x229ae7=_0x142ebb;_0x414b96[_0x229ae7]=_0x57d11c[_0x142ebb];}),__setModuleDefault=this&&this[a124_0x43996d(0x1bb)]||(Object[a124_0x43996d(0x1e2)]?function(_0x413344,_0x5dc3c5){const _0x1fb49c=a124_0x43996d;Object['defineProperty'](_0x413344,_0x1fb49c(0x1d9),{'enumerable':!![],'value':_0x5dc3c5});}:function(_0x443767,_0x18f9e4){const _0x23c8eb=a124_0x43996d;_0x443767[_0x23c8eb(0x1d9)]=_0x18f9e4;}),__decorate=this&&this[a124_0x43996d(0x1aa)]||function(_0x448e9a,_0x16be2d,_0x31d641,_0xf30548){const _0x17365f=a124_0x43996d;var _0x4f6cea=arguments['length'],_0x19ffbe=_0x4f6cea<0x3?_0x16be2d:_0xf30548===null?_0xf30548=Object['getOwnPropertyDescriptor'](_0x16be2d,_0x31d641):_0xf30548,_0x16480f;if(typeof Reflect===_0x17365f(0x1ad)&&typeof Reflect[_0x17365f(0x1c8)]===_0x17365f(0x17f))_0x19ffbe=Reflect[_0x17365f(0x1c8)](_0x448e9a,_0x16be2d,_0x31d641,_0xf30548);else{for(var _0x30bbb0=_0x448e9a[_0x17365f(0x1ba)]-0x1;_0x30bbb0>=0x0;_0x30bbb0--)if(_0x16480f=_0x448e9a[_0x30bbb0])_0x19ffbe=(_0x4f6cea<0x3?_0x16480f(_0x19ffbe):_0x4f6cea>0x3?_0x16480f(_0x16be2d,_0x31d641,_0x19ffbe):_0x16480f(_0x16be2d,_0x31d641))||_0x19ffbe;}return _0x4f6cea>0x3&&_0x19ffbe&&Object['defineProperty'](_0x16be2d,_0x31d641,_0x19ffbe),_0x19ffbe;},__importStar=this&&this[a124_0x43996d(0x18e)]||function(_0x5e1293){const _0x315207=a124_0x43996d;if(_0x5e1293&&_0x5e1293[_0x315207(0x1bc)])return _0x5e1293;var _0x1f59c6={};if(_0x5e1293!=null){for(var _0x143626 in _0x5e1293)if(_0x143626!==_0x315207(0x1d9)&&Object['prototype'][_0x315207(0x1b1)][_0x315207(0x184)](_0x5e1293,_0x143626))__createBinding(_0x1f59c6,_0x5e1293,_0x143626);}return __setModuleDefault(_0x1f59c6,_0x5e1293),_0x1f59c6;},__importDefault=this&&this[a124_0x43996d(0x1b8)]||function(_0x44ae2e){const _0x5bf37a=a124_0x43996d;return _0x44ae2e&&_0x44ae2e[_0x5bf37a(0x1bc)]?_0x44ae2e:{'default':_0x44ae2e};};Object[a124_0x43996d(0x1c2)](exports,'__esModule',{'value':!![]}),exports['CommitComponentsJob']=void 0x0;const commit_components_dto_1=require(a124_0x43996d(0x1dd)),events_1=__importDefault(require(a124_0x43996d(0x180))),git_utils_1=require(a124_0x43996d(0x1d7)),mdapi_utils_1=require(a124_0x43996d(0x17a)),sfdx_utils_1=require('../utils/sfdx.utils'),typedi_1=__importStar(require(a124_0x43996d(0x196))),child_types_1=__importDefault(require(a124_0x43996d(0x1b2))),utils_1=require('../../../shared/utils'),constants_1=require(a124_0x43996d(0x1cf)),git_provider_1=require(a124_0x43996d(0x186)),bitbucket_api_service_1=require(a124_0x43996d(0x1da)),sfdx_utils_2=require(a124_0x43996d(0x1bf)),fs_internal_1=require('../../internal/fs.internal'),path_1=require(a124_0x43996d(0x1d8)),providers_tokens_1=require(a124_0x43996d(0x1de)),constants_2=require(a124_0x43996d(0x1cf));let CommitComponentsJob=class CommitComponentsJob extends events_1[a124_0x43996d(0x1d9)]{constructor(){const _0xe97ca9=a124_0x43996d;super(...arguments),this[_0xe97ca9(0x1b0)]=0x3e8,this['componentsToWrite']=0x0,this[_0xe97ca9(0x188)]=0x0,this[_0xe97ca9(0x1c5)]=Date[_0xe97ca9(0x19c)]();}async[a124_0x43996d(0x194)](){const _0xa9aae3=a124_0x43996d,{repo:_0x37ff74}=this[_0xa9aae3(0x19e)],_0x4c24cb=typedi_1[_0xa9aae3(0x1d9)][_0xa9aae3(0x1e5)](providers_tokens_1[_0xa9aae3(0x18a)][_0xa9aae3(0x198)]);if(this['commitData']['provider']===git_provider_1[_0xa9aae3(0x1a5)][_0xa9aae3(0x190)]){const _0x1a4d6e=typedi_1[_0xa9aae3(0x1d9)][_0xa9aae3(0x1e5)](bitbucket_api_service_1[_0xa9aae3(0x1bd)]);await _0x1a4d6e['isLoggedIn']();}return _0x37ff74[_0xa9aae3(0x1a2)]['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x37ff74['gitUrl'])+'://'+_0x4c24cb[_0xa9aae3(0x1b5)]()+'@');}['groupComponentsByFileName'](_0x5df527){const _0x405966=a124_0x43996d;var _0x2591ad;_0x5df527['sort'](_0xec33e6=>child_types_1[_0x405966(0x1d9)][_0x405966(0x1d2)](_0xec33e6['fileType'])?0x1:-0x1);const _0x169f90={};for(const _0x54ec61 of _0x5df527){_0x169f90[_0x2591ad=_0x54ec61['fileName']]||(_0x169f90[_0x2591ad]=[]),_0x169f90[_0x54ec61[_0x405966(0x1b7)]][_0x405966(0x189)](_0x54ec61);}return Object[_0x405966(0x1e4)](_0x169f90)['reduce']((_0x458095,_0x3884b9)=>[..._0x458095,..._0x3884b9],[]);}async[a124_0x43996d(0x1e7)](_0xc1c1fe){const _0x4a2349=a124_0x43996d;_0xc1c1fe=this[_0x4a2349(0x1dc)](_0xc1c1fe);let _0x2983fd=0x0;while(_0xc1c1fe[_0x4a2349(0x1ba)]){const _0x28ae15=_0xc1c1fe[_0x4a2349(0x19f)](0x0,this[_0x4a2349(0x1b0)]);await this[_0x4a2349(0x1a3)][_0x4a2349(0x18c)](_0x28ae15,{'skipChildErrors':this['commitData'][_0x4a2349(0x1b9)][_0x4a2349(0x1a6)]===_0x4a2349(0x1e9),'recordType':this[_0x4a2349(0x19e)][_0x4a2349(0x1e8)]}),_0x2983fd+=_0x28ae15[_0x4a2349(0x1ba)],this[_0x4a2349(0x17c)][_0x4a2349(0x1af)](this[_0x4a2349(0x183)]+_0x4a2349(0x1d5)+_0x2983fd+'/'+this['componentsToWrite']+_0x4a2349(0x19a)),await this[_0x4a2349(0x17c)][_0x4a2349(0x1b3)]();}}async[a124_0x43996d(0x1c4)](_0xd46dad){const _0x144602=a124_0x43996d;_0xd46dad[_0x144602(0x17e)](_0x205feb=>child_types_1['default'][_0x144602(0x1d2)](_0x205feb['type'])?-0x1:0x1);let _0x4c89a8=0x0;while(_0xd46dad[_0x144602(0x1ba)]){const _0x61d013=_0xd46dad[_0x144602(0x19f)](0x0,this[_0x144602(0x1b0)]);await this['mdapiUtils'][_0x144602(0x1c4)](_0x61d013,this['commitData'][_0x144602(0x1e8)]),_0x4c89a8+=_0x61d013[_0x144602(0x1ba)],this[_0x144602(0x17c)][_0x144602(0x1af)](this[_0x144602(0x183)]+'\x20Deleted\x20'+_0x4c89a8+'/'+this[_0x144602(0x188)]+_0x144602(0x19a)),await this[_0x144602(0x17c)][_0x144602(0x1b3)]();}}async[a124_0x43996d(0x1ea)](){const _0x1ca99e=a124_0x43996d;this['gitUtils']&&await this[_0x1ca99e(0x1be)][_0x1ca99e(0x1a0)]()[_0x1ca99e(0x1cd)](()=>void 0x0),this[_0x1ca99e(0x1a3)]&&await this[_0x1ca99e(0x1a3)][_0x1ca99e(0x1a0)]()[_0x1ca99e(0x1cd)](()=>void 0x0),this[_0x1ca99e(0x1b4)]&&await this[_0x1ca99e(0x1b4)][_0x1ca99e(0x1a0)]()[_0x1ca99e(0x1cd)](()=>void 0x0);}async[a124_0x43996d(0x1a1)](){const _0x5cb3e6=a124_0x43996d,{repo:_0x41d6fd,branch:_0x3a66a0,components:_0x160f6a,convertToSFDX:_0x2342d0,message:_0x6e6282,user:_0x2c217c}=this['commitData'];this[_0x5cb3e6(0x1a3)]=new mdapi_utils_1[(_0x5cb3e6(0x1cb))](),this[_0x5cb3e6(0x1be)]=new git_utils_1[(_0x5cb3e6(0x18b))](await this[_0x5cb3e6(0x194)]()),this['sfdxUtils']=new sfdx_utils_1[(_0x5cb3e6(0x182))]();let _0x4c6140=_0x2342d0&&this[_0x5cb3e6(0x1b4)][_0x5cb3e6(0x1ca)](this['commitData'][_0x5cb3e6(0x1e8)]);try{await this[_0x5cb3e6(0x17c)]['log'](this[_0x5cb3e6(0x183)]+'\x20Start\x20cloning\x20repository.')[_0x5cb3e6(0x1b3)](),await this[_0x5cb3e6(0x1be)]['clone'](_0x3a66a0[_0x5cb3e6(0x1a6)],_0x41d6fd['name']);!this['commitData'][_0x5cb3e6(0x193)]?(this['sfLogger'][_0x5cb3e6(0x1af)](this['prefix']+'\x20Prepare\x20mdapi\x20files.'),await this[_0x5cb3e6(0x1a3)][_0x5cb3e6(0x1d0)](this[_0x5cb3e6(0x1be)][_0x5cb3e6(0x1c7)])):this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1af)](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x181));await this['sfLogger']['log'](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x192))[_0x5cb3e6(0x1b3)]();_0x160f6a[_0x5cb3e6(0x195)]&&(this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1af)](this[_0x5cb3e6(0x183)]+'\x20Preparing\x20to\x20write\x20components'),this[_0x5cb3e6(0x197)]=_0x160f6a['writed'][_0x5cb3e6(0x1ba)],await this[_0x5cb3e6(0x1e7)](_0x160f6a['writed']),await this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1b3)]());await this[_0x5cb3e6(0x17c)]['log'](this[_0x5cb3e6(0x183)]+'\x20Checking\x20deleted\x20components.')['send']();_0x160f6a['deleted']&&(this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1af)](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x19b)),this[_0x5cb3e6(0x188)]=_0x160f6a[_0x5cb3e6(0x1ae)]['length'],await this[_0x5cb3e6(0x1c4)](_0x160f6a['deleted']),await this[_0x5cb3e6(0x17c)]['send']());await this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1b3)]();const _0x3d3196=await fs_internal_1['FS'][_0x5cb3e6(0x1cc)](this[_0x5cb3e6(0x1be)]['dir']);await sfdx_utils_2['SFDX'][_0x5cb3e6(0x1d3)](this['gitUtils']['dir'])?(_0x4c6140=!![],await fs_internal_1['FS']['removeDir']((0x0,path_1['join'])(this[_0x5cb3e6(0x1be)][_0x5cb3e6(0x1c7)],'force-app'))):(_0x4c6140&&(!_0x3d3196&&(_0x4c6140=![])),await this[_0x5cb3e6(0x1be)]['clearDir']());_0x4c6140?(await this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1af)](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x17b))['send'](),await this[_0x5cb3e6(0x1b4)]['createProjectFrom'](this['mdapiUtils'][_0x5cb3e6(0x1c7)]),await this[_0x5cb3e6(0x1b4)][_0x5cb3e6(0x1a9)](this[_0x5cb3e6(0x1be)][_0x5cb3e6(0x1c7)],!_0x3d3196),await this[_0x5cb3e6(0x1b4)]['copySFDXIgnoredComponents'](this[_0x5cb3e6(0x1a3)][_0x5cb3e6(0x1c7)],(0x0,path_1[_0x5cb3e6(0x1c3)])(this[_0x5cb3e6(0x1be)]['dir'],constants_2[_0x5cb3e6(0x1ce)])),await this[_0x5cb3e6(0x1b4)][_0x5cb3e6(0x1a0)]()):(await this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1af)](this[_0x5cb3e6(0x183)]+'\x20Copying\x20mdapi\x20to\x20git\x20folder.')['send'](),await this[_0x5cb3e6(0x1a3)][_0x5cb3e6(0x1a7)](this[_0x5cb3e6(0x1be)]['dir']));await this[_0x5cb3e6(0x17c)]['log'](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x1c9))[_0x5cb3e6(0x1b3)](),await this['gitUtils'][_0x5cb3e6(0x1e1)](_0x6e6282,{'email':constants_1[_0x5cb3e6(0x185)],'name':_0x2c217c[_0x5cb3e6(0x1a6)]},_0x3a66a0[_0x5cb3e6(0x1a6)]),await this['gitUtils'][_0x5cb3e6(0x1a0)](),await this[_0x5cb3e6(0x1a3)][_0x5cb3e6(0x1a0)]();const _0x50b978=this[_0x5cb3e6(0x197)]+this[_0x5cb3e6(0x188)];await this[_0x5cb3e6(0x17c)]['log'](this[_0x5cb3e6(0x183)]+_0x5cb3e6(0x1b6)+(Date['now']()-this[_0x5cb3e6(0x1c5)])+_0x5cb3e6(0x191)+_0x50b978+'.')[_0x5cb3e6(0x1b3)]();}catch(_0x20d983){await this[_0x5cb3e6(0x1ea)](),await this[_0x5cb3e6(0x17c)][_0x5cb3e6(0x1c0)](this[_0x5cb3e6(0x183)]+'\x20'+_0x20d983)[_0x5cb3e6(0x1b3)]();throw _0x20d983;}}async[a124_0x43996d(0x1a8)](_0x541406,_0x5a6f34){const _0x5a611c=a124_0x43996d;var _0xb6df13,_0x2f7d07;this[_0x5a611c(0x17c)]=typedi_1[_0x5a611c(0x1d9)][_0x5a611c(0x1e5)](providers_tokens_1[_0x5a611c(0x18a)]['logger']),this[_0x5a611c(0x183)]=(_0x5a6f34?_0x5a6f34+'\x20':'')+'['+commit_components_dto_1['CommitComponentsDto'][_0x5a611c(0x1a6)]+']',await this[_0x5a611c(0x17c)]['log'](this['prefix']+'\x20Checking\x20commit\x20components.');const _0x351f19=!!((_0xb6df13=_0x541406[_0x5a611c(0x1e0)])===null||_0xb6df13===void 0x0?void 0x0:_0xb6df13['writed'])||!!((_0x2f7d07=_0x541406['components'])===null||_0x2f7d07===void 0x0?void 0x0:_0x2f7d07[_0x5a611c(0x1ae)]);if(!_0x351f19){await this[_0x5a611c(0x17c)][_0x5a611c(0x1af)](this['prefix']+_0x5a611c(0x18d))[_0x5a611c(0x1b3)]();return;}this['commitData']=_0x541406,await this[_0x5a611c(0x1a1)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a124_0x43996d(0x1c1)])({'transient':!![]})],CommitComponentsJob),exports[a124_0x43996d(0x17d)]=CommitComponentsJob;