function a106_0x26d6(){const _0x16e3c5=['groupComponentsByFileName','sfdxUtils','credentials','1354244OWPjci','get','\x20Nothing\x20to\x20commit.\x20Skip.','CommitComponentsJob','toString','commitData','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','mdapiUtils','Tokens','939492xOnStN','343050iRTpVg','fileType','../../../../constants','GitUtils','__esModule','__importStar','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','log','configurable','getGitShellAuthorizationString','writeComponents','catch','isSFDXProject','sort','\x20components','createProjectFrom','componentsToDelete','FORCE_APP_DEFAULT_DIR','function','copyProjectTo','\x20Copying\x20mdapi\x20to\x20git\x20folder.','branch','2797026QBpAbT','exec','../../providers/api/bitbucket-api.service','gitUtils','type','\x20Prepare\x20mdapi\x20files.','removeComponents','prefix','writable','__createBinding','SFDXUtils','__importDefault','../dto/commit-components.dto','isLoggedIn','search','../../providers/types/git-provider','copySFDXIgnoredComponents','BitbucketApiService','copyMdapiTo','replace','now','1536942BkGpqW','\x20Checking\x20commit\x20components.','recordType','\x20Checking\x20deleted\x20components.','startTime','../utils/git.utils','logger','force','writed','run','GitProvider','componentsToWrite','426722lbEmvF','isEmptyDir','gitUrl','defineProperty','dir','master','clearDir','getProtocol','deleted','fileName','SFDX','writeFlosumComponents','isConvertToSfdx','splice','../../../shared/utils','__decorate','send','join','decorate','\x20Checking\x20written\x20components.','\x20Start\x20converting\x20to\x20SFDX.','default','clone','14652393BZDJLe','length','object','hasOwnProperty','apply','cleanUp','sfLogger','../../providers/providers.tokens','CommitComponentsDto','push','removeDir','call','includes','Service','../../internal/fs.internal','Bitbucket','\x20Wrote\x20','../../salesforce/utils/sfdx.utils','path','DEFAULT_GIT_USER_EMAIL','\x20Preparing\x20to\x20delete\x20components','create','\x20Start\x20cloning\x20repository.','components','name','reduce','events','://','commitAndPush','\x20Preparing\x20to\x20write\x20components','constructor'];a106_0x26d6=function(){return _0x16e3c5;};return a106_0x26d6();}const a106_0x4998eb=a106_0x5cc1;(function(_0x10157f,_0xf8fb99){const _0x8f9bff=a106_0x5cc1,_0x4f56e9=_0x10157f();while(!![]){try{const _0x57f1f8=-parseInt(_0x8f9bff(0x188))/0x1+-parseInt(_0x8f9bff(0x167))/0x2+parseInt(_0x8f9bff(0x150))/0x3+parseInt(_0x8f9bff(0x147))/0x4+parseInt(_0x8f9bff(0x151))/0x5+-parseInt(_0x8f9bff(0x17c))/0x6+parseInt(_0x8f9bff(0x125))/0x7;if(_0x57f1f8===_0xf8fb99)break;else _0x4f56e9['push'](_0x4f56e9['shift']());}catch(_0x46c549){_0x4f56e9['push'](_0x4f56e9['shift']());}}}(a106_0x26d6,0xb2bee));const a106_0x535691=(function(){let _0x2a8ba0=!![];return function(_0x4535f3,_0x1a0808){const _0xd263d=_0x2a8ba0?function(){const _0x55706e=a106_0x5cc1;if(_0x1a0808){const _0x436a3d=_0x1a0808[_0x55706e(0x129)](_0x4535f3,arguments);return _0x1a0808=null,_0x436a3d;}}:function(){};return _0x2a8ba0=![],_0xd263d;};}()),a106_0x49da85=a106_0x535691(this,function(){const _0x3b4135=a106_0x5cc1;return a106_0x49da85[_0x3b4135(0x14b)]()[_0x3b4135(0x175)]('(((.+)+)+)+$')[_0x3b4135(0x14b)]()[_0x3b4135(0x143)](a106_0x49da85)[_0x3b4135(0x175)]('(((.+)+)+)+$');});a106_0x49da85();'use strict';function a106_0x5cc1(_0x5ecd83,_0x590f30){const _0x14ff32=a106_0x26d6();return a106_0x5cc1=function(_0x49da85,_0x535691){_0x49da85=_0x49da85-0x11d;let _0x26d6cb=_0x14ff32[_0x49da85];return _0x26d6cb;},a106_0x5cc1(_0x5ecd83,_0x590f30);}var __createBinding=this&&this[a106_0x4998eb(0x170)]||(Object[a106_0x4998eb(0x13a)]?function(_0x4f96dc,_0x956d66,_0x21261b,_0x3d81c3){const _0x406604=a106_0x4998eb;if(_0x3d81c3===undefined)_0x3d81c3=_0x21261b;var _0x1be991=Object['getOwnPropertyDescriptor'](_0x956d66,_0x21261b);(!_0x1be991||(_0x406604(0x148)in _0x1be991?!_0x956d66[_0x406604(0x155)]:_0x1be991[_0x406604(0x16f)]||_0x1be991[_0x406604(0x159)]))&&(_0x1be991={'enumerable':!![],'get':function(){return _0x956d66[_0x21261b];}}),Object['defineProperty'](_0x4f96dc,_0x3d81c3,_0x1be991);}:function(_0x324a34,_0xfa0b5f,_0x46d070,_0x546764){if(_0x546764===undefined)_0x546764=_0x46d070;_0x324a34[_0x546764]=_0xfa0b5f[_0x46d070];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a106_0x4998eb(0x13a)]?function(_0x24ee5a,_0x2f346a){const _0x49f29f=a106_0x4998eb;Object[_0x49f29f(0x18b)](_0x24ee5a,_0x49f29f(0x123),{'enumerable':!![],'value':_0x2f346a});}:function(_0xed4ff,_0x5e7c17){_0xed4ff['default']=_0x5e7c17;}),__decorate=this&&this[a106_0x4998eb(0x11d)]||function(_0x4cc60e,_0x134453,_0x50a60d,_0x2da65c){const _0x3e67d2=a106_0x4998eb;var _0x17c968=arguments['length'],_0x598fe9=_0x17c968<0x3?_0x134453:_0x2da65c===null?_0x2da65c=Object['getOwnPropertyDescriptor'](_0x134453,_0x50a60d):_0x2da65c,_0x5814c5;if(typeof Reflect===_0x3e67d2(0x127)&&typeof Reflect[_0x3e67d2(0x120)]===_0x3e67d2(0x163))_0x598fe9=Reflect[_0x3e67d2(0x120)](_0x4cc60e,_0x134453,_0x50a60d,_0x2da65c);else{for(var _0x516f4c=_0x4cc60e[_0x3e67d2(0x126)]-0x1;_0x516f4c>=0x0;_0x516f4c--)if(_0x5814c5=_0x4cc60e[_0x516f4c])_0x598fe9=(_0x17c968<0x3?_0x5814c5(_0x598fe9):_0x17c968>0x3?_0x5814c5(_0x134453,_0x50a60d,_0x598fe9):_0x5814c5(_0x134453,_0x50a60d))||_0x598fe9;}return _0x17c968>0x3&&_0x598fe9&&Object['defineProperty'](_0x134453,_0x50a60d,_0x598fe9),_0x598fe9;},__importStar=this&&this[a106_0x4998eb(0x156)]||function(_0x5bb56d){const _0x384563=a106_0x4998eb;if(_0x5bb56d&&_0x5bb56d[_0x384563(0x155)])return _0x5bb56d;var _0x5a6f4c={};if(_0x5bb56d!=null){for(var _0x4fa2b3 in _0x5bb56d)if(_0x4fa2b3!==_0x384563(0x123)&&Object['prototype'][_0x384563(0x128)][_0x384563(0x130)](_0x5bb56d,_0x4fa2b3))__createBinding(_0x5a6f4c,_0x5bb56d,_0x4fa2b3);}return __setModuleDefault(_0x5a6f4c,_0x5bb56d),_0x5a6f4c;},__importDefault=this&&this[a106_0x4998eb(0x172)]||function(_0x570dcd){return _0x570dcd&&_0x570dcd['__esModule']?_0x570dcd:{'default':_0x570dcd};};Object[a106_0x4998eb(0x18b)](exports,a106_0x4998eb(0x155),{'value':!![]}),exports[a106_0x4998eb(0x14a)]=void 0x0;const commit_components_dto_1=require(a106_0x4998eb(0x173)),events_1=__importDefault(require(a106_0x4998eb(0x13f))),git_utils_1=require(a106_0x4998eb(0x181)),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require('../utils/sfdx.utils'),typedi_1=__importStar(require('typedi')),child_types_1=__importDefault(require('../../parsers/data/child-types')),utils_1=require(a106_0x4998eb(0x196)),constants_1=require(a106_0x4998eb(0x153)),git_provider_1=require(a106_0x4998eb(0x176)),bitbucket_api_service_1=require(a106_0x4998eb(0x169)),sfdx_utils_2=require(a106_0x4998eb(0x136)),fs_internal_1=require(a106_0x4998eb(0x133)),path_1=require(a106_0x4998eb(0x137)),providers_tokens_1=require(a106_0x4998eb(0x12c)),constants_2=require(a106_0x4998eb(0x153));let CommitComponentsJob=class CommitComponentsJob extends events_1[a106_0x4998eb(0x123)]{constructor(){const _0x3f4ebe=a106_0x4998eb;super(...arguments),this['COMPONENTS_PER_TICK']=0x3e8,this[_0x3f4ebe(0x187)]=0x0,this[_0x3f4ebe(0x161)]=0x0,this[_0x3f4ebe(0x180)]=Date[_0x3f4ebe(0x17b)]();}async['getRemote'](){const _0x5bc768=a106_0x4998eb,{repo:_0x2051c3}=this[_0x5bc768(0x14c)],_0x58023a=typedi_1['default'][_0x5bc768(0x148)](providers_tokens_1[_0x5bc768(0x14f)][_0x5bc768(0x146)]);if(this[_0x5bc768(0x14c)]['provider']===git_provider_1[_0x5bc768(0x186)][_0x5bc768(0x134)]){const _0xbb99d=typedi_1[_0x5bc768(0x123)][_0x5bc768(0x148)](bitbucket_api_service_1[_0x5bc768(0x178)]);await _0xbb99d[_0x5bc768(0x174)]();}return _0x2051c3[_0x5bc768(0x18a)][_0x5bc768(0x17a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x5bc768(0x18f)])(_0x2051c3['gitUrl'])+_0x5bc768(0x140)+_0x58023a[_0x5bc768(0x15a)]()+'@');}[a106_0x4998eb(0x144)](_0x55d86e){const _0x3bd829=a106_0x4998eb;var _0x3247c9;_0x55d86e[_0x3bd829(0x15e)](_0x298ac0=>child_types_1[_0x3bd829(0x123)][_0x3bd829(0x131)](_0x298ac0[_0x3bd829(0x152)])?0x1:-0x1);const _0x3e891b={};for(const _0x47bc14 of _0x55d86e){_0x3e891b[_0x3247c9=_0x47bc14[_0x3bd829(0x191)]]||(_0x3e891b[_0x3247c9]=[]),_0x3e891b[_0x47bc14[_0x3bd829(0x191)]][_0x3bd829(0x12e)](_0x47bc14);}return Object['values'](_0x3e891b)[_0x3bd829(0x13e)]((_0x2b315a,_0x1651ac)=>[..._0x2b315a,..._0x1651ac],[]);}async[a106_0x4998eb(0x15b)](_0x4f7750){const _0x51cbda=a106_0x4998eb;_0x4f7750=this[_0x51cbda(0x144)](_0x4f7750);let _0x3e3a83=0x0;while(_0x4f7750[_0x51cbda(0x126)]){const _0x4dcaaf=_0x4f7750[_0x51cbda(0x195)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x51cbda(0x14e)][_0x51cbda(0x193)](_0x4dcaaf,{'skipChildErrors':this[_0x51cbda(0x14c)][_0x51cbda(0x166)][_0x51cbda(0x13d)]===_0x51cbda(0x18d),'recordType':this[_0x51cbda(0x14c)][_0x51cbda(0x17e)]}),_0x3e3a83+=_0x4dcaaf[_0x51cbda(0x126)],this['sfLogger'][_0x51cbda(0x158)](this[_0x51cbda(0x16e)]+_0x51cbda(0x135)+_0x3e3a83+'/'+this[_0x51cbda(0x187)]+'\x20components'),await this['sfLogger'][_0x51cbda(0x11e)]();}}async['removeComponents'](_0xd13686){const _0x3b97a7=a106_0x4998eb;_0xd13686[_0x3b97a7(0x15e)](_0x4c6627=>child_types_1[_0x3b97a7(0x123)]['includes'](_0x4c6627[_0x3b97a7(0x16b)])?-0x1:0x1);let _0xc54483=0x0;while(_0xd13686[_0x3b97a7(0x126)]){const _0x1dce98=_0xd13686[_0x3b97a7(0x195)](0x0,this['COMPONENTS_PER_TICK']);await this[_0x3b97a7(0x14e)][_0x3b97a7(0x16d)](_0x1dce98,this[_0x3b97a7(0x14c)]['recordType']),_0xc54483+=_0x1dce98[_0x3b97a7(0x126)],this[_0x3b97a7(0x12b)][_0x3b97a7(0x158)](this['prefix']+'\x20Deleted\x20'+_0xc54483+'/'+this[_0x3b97a7(0x161)]+_0x3b97a7(0x15f)),await this[_0x3b97a7(0x12b)][_0x3b97a7(0x11e)]();}}async[a106_0x4998eb(0x12a)](){const _0x3ea58a=a106_0x4998eb;this[_0x3ea58a(0x16a)]&&await this['gitUtils']['removeDir']()[_0x3ea58a(0x15c)](()=>void 0x0),this[_0x3ea58a(0x14e)]&&await this[_0x3ea58a(0x14e)]['removeDir']()[_0x3ea58a(0x15c)](()=>void 0x0),this[_0x3ea58a(0x145)]&&await this[_0x3ea58a(0x145)][_0x3ea58a(0x12f)]()['catch'](()=>void 0x0);}async[a106_0x4998eb(0x168)](){const _0x2d2680=a106_0x4998eb,{repo:_0x4d78eb,branch:_0x2919ae,components:_0x56515b,convertToSFDX:_0x302088,message:_0x151eea,user:_0x2a9003}=this['commitData'];this[_0x2d2680(0x14e)]=new mdapi_utils_1['MDApiUtils'](),this['gitUtils']=new git_utils_1[(_0x2d2680(0x154))](await this['getRemote']()),this[_0x2d2680(0x145)]=new sfdx_utils_1[(_0x2d2680(0x171))]();let _0x55c101=_0x302088&&this['sfdxUtils'][_0x2d2680(0x194)](this[_0x2d2680(0x14c)][_0x2d2680(0x17e)]);try{await this[_0x2d2680(0x12b)][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x13b))['send'](),await this[_0x2d2680(0x16a)][_0x2d2680(0x124)](_0x2919ae[_0x2d2680(0x13d)],_0x4d78eb[_0x2d2680(0x13d)]);!this[_0x2d2680(0x14c)][_0x2d2680(0x183)]?(this[_0x2d2680(0x12b)][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x16c)),await this['mdapiUtils']['prepareMdapi'](this['gitUtils'][_0x2d2680(0x18c)])):this[_0x2d2680(0x12b)][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x14d));await this['sfLogger'][_0x2d2680(0x158)](this['prefix']+_0x2d2680(0x121))['send']();_0x56515b[_0x2d2680(0x184)]&&(this['sfLogger'][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x142)),this['componentsToWrite']=_0x56515b[_0x2d2680(0x184)][_0x2d2680(0x126)],await this[_0x2d2680(0x15b)](_0x56515b[_0x2d2680(0x184)]),await this[_0x2d2680(0x12b)][_0x2d2680(0x11e)]());await this[_0x2d2680(0x12b)][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x17f))[_0x2d2680(0x11e)]();_0x56515b[_0x2d2680(0x190)]&&(this['sfLogger']['log'](this[_0x2d2680(0x16e)]+_0x2d2680(0x139)),this[_0x2d2680(0x161)]=_0x56515b[_0x2d2680(0x190)][_0x2d2680(0x126)],await this[_0x2d2680(0x16d)](_0x56515b['deleted']),await this[_0x2d2680(0x12b)]['send']());await this[_0x2d2680(0x12b)]['send']();const _0x26428a=await fs_internal_1['FS'][_0x2d2680(0x189)](this['gitUtils'][_0x2d2680(0x18c)]);await sfdx_utils_2[_0x2d2680(0x192)][_0x2d2680(0x15d)](this[_0x2d2680(0x16a)][_0x2d2680(0x18c)])?(_0x55c101=!![],await fs_internal_1['FS'][_0x2d2680(0x12f)]((0x0,path_1['join'])(this[_0x2d2680(0x16a)][_0x2d2680(0x18c)],'force-app'))):(_0x55c101&&(!_0x26428a&&(_0x55c101=![])),await this[_0x2d2680(0x16a)][_0x2d2680(0x18e)]());_0x55c101?(await this['sfLogger'][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+_0x2d2680(0x122))[_0x2d2680(0x11e)](),await this[_0x2d2680(0x145)][_0x2d2680(0x160)](this[_0x2d2680(0x14e)][_0x2d2680(0x18c)]),await this[_0x2d2680(0x145)][_0x2d2680(0x164)](this[_0x2d2680(0x16a)][_0x2d2680(0x18c)],!_0x26428a),await this[_0x2d2680(0x145)][_0x2d2680(0x177)](this[_0x2d2680(0x14e)][_0x2d2680(0x18c)],(0x0,path_1[_0x2d2680(0x11f)])(this['gitUtils'][_0x2d2680(0x18c)],constants_2[_0x2d2680(0x162)])),await this['sfdxUtils']['removeDir']()):(await this[_0x2d2680(0x12b)]['log'](this[_0x2d2680(0x16e)]+_0x2d2680(0x165))[_0x2d2680(0x11e)](),await this[_0x2d2680(0x14e)][_0x2d2680(0x179)](this[_0x2d2680(0x16a)][_0x2d2680(0x18c)]));await this[_0x2d2680(0x12b)]['log'](this[_0x2d2680(0x16e)]+_0x2d2680(0x157))[_0x2d2680(0x11e)](),await this['gitUtils'][_0x2d2680(0x141)](_0x151eea,{'email':constants_1[_0x2d2680(0x138)],'name':_0x2a9003[_0x2d2680(0x13d)]},_0x2919ae[_0x2d2680(0x13d)]),await this[_0x2d2680(0x16a)][_0x2d2680(0x12f)](),await this[_0x2d2680(0x14e)][_0x2d2680(0x12f)]();const _0x2e6762=this['componentsToWrite']+this[_0x2d2680(0x161)];await this['sfLogger'][_0x2d2680(0x158)](this[_0x2d2680(0x16e)]+'\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20'+(Date[_0x2d2680(0x17b)]()-this[_0x2d2680(0x180)])+'ms.\x20Committed\x20components\x20-\x20'+_0x2e6762+'.')[_0x2d2680(0x11e)]();}catch(_0x5055e1){await this[_0x2d2680(0x12a)](),await this[_0x2d2680(0x12b)]['error'](this[_0x2d2680(0x16e)]+'\x20'+_0x5055e1)[_0x2d2680(0x11e)]();throw _0x5055e1;}}async[a106_0x4998eb(0x185)](_0x555914,_0x13f067){const _0x4409ac=a106_0x4998eb;var _0x4bac1b,_0x40871a;this[_0x4409ac(0x12b)]=typedi_1[_0x4409ac(0x123)][_0x4409ac(0x148)](providers_tokens_1[_0x4409ac(0x14f)][_0x4409ac(0x182)]),this[_0x4409ac(0x16e)]=(_0x13f067?_0x13f067+'\x20':'')+'['+commit_components_dto_1[_0x4409ac(0x12d)][_0x4409ac(0x13d)]+']',await this[_0x4409ac(0x12b)][_0x4409ac(0x158)](this['prefix']+_0x4409ac(0x17d));const _0x895e4e=!!((_0x4bac1b=_0x555914[_0x4409ac(0x13c)])===null||_0x4bac1b===void 0x0?void 0x0:_0x4bac1b[_0x4409ac(0x184)])||!!((_0x40871a=_0x555914[_0x4409ac(0x13c)])===null||_0x40871a===void 0x0?void 0x0:_0x40871a[_0x4409ac(0x190)]);if(!_0x895e4e){await this[_0x4409ac(0x12b)][_0x4409ac(0x158)](this[_0x4409ac(0x16e)]+_0x4409ac(0x149))[_0x4409ac(0x11e)]();return;}this[_0x4409ac(0x14c)]=_0x555914,await this[_0x4409ac(0x168)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a106_0x4998eb(0x132)])({'transient':!![]})],CommitComponentsJob),exports[a106_0x4998eb(0x14a)]=CommitComponentsJob;