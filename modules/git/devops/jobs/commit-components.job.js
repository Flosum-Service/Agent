function a106_0x59d8(_0x17ba0e,_0x77f287){const _0xe64f69=a106_0x2faa();return a106_0x59d8=function(_0x58f872,_0x40371c){_0x58f872=_0x58f872-0x1bb;let _0x2faa42=_0xe64f69[_0x58f872];return _0x2faa42;},a106_0x59d8(_0x17ba0e,_0x77f287);}function a106_0x2faa(){const _0x2bbe96=['sfLogger','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','981vislTa','1274287bIohOh','call','push','name','writeFlosumComponents','isSFDXProject','decorate','mdapiUtils','removeDir','GitProvider','send','../../../../constants','\x20Copying\x20mdapi\x20to\x20git\x20folder.','log','\x20Checking\x20deleted\x20components.','getOwnPropertyDescriptor','__importDefault','isConvertToSfdx','\x20Deleted\x20','create','SFDXUtils','sfdxUtils','gitUtils','components','writed','get','prototype','hasOwnProperty','354gcCIuh','copyMdapiTo','CommitComponentsDto','commitData','FORCE_APP_DEFAULT_DIR','path','1086550gRsggx','../dto/commit-components.dto','CommitComponentsJob','COMPONENTS_PER_TICK','includes','14946833nXJiZD','220351VfMkPG','\x20Prepare\x20mdapi\x20files.','default','SFDX','configurable','\x20Start\x20cloning\x20repository.','prefix','\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','defineProperty','../../providers/providers.tokens','../utils/sfdx.utils','\x20Wrote\x20','609hFTAVc','Service','clone','logger','force','fileType','apply','copySFDXIgnoredComponents','commitAndPush','groupComponentsByFileName','cleanUp','toString','Tokens','componentsToWrite','44495bZSGZP','splice','BitbucketApiService','\x20components','6KEPylS','function','__esModule','catch','../../../shared/utils','constructor','../../providers/types/git-provider','exec','object','recordType','replace','componentsToDelete','../../parsers/data/child-types','getProtocol','../../internal/fs.internal','\x20Start\x20converting\x20to\x20SFDX.','\x20Preparing\x20to\x20write\x20components','reduce','../../salesforce/utils/sfdx.utils','(((.+)+)+)+$','\x20Preparing\x20to\x20delete\x20components','\x20Nothing\x20to\x20commit.\x20Skip.','gitUrl','9668KHMvxG','getGitShellAuthorizationString','startTime','join','\x20Checking\x20commit\x20components.','length','copyProjectTo','master','__createBinding','__setModuleDefault','2568knQEmn','credentials','Bitbucket','type','DEFAULT_GIT_USER_EMAIL','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','deleted','fileName','GitUtils','sort','__importStar','typedi','dir','getRemote'];a106_0x2faa=function(){return _0x2bbe96;};return a106_0x2faa();}const a106_0xd918d5=a106_0x59d8;(function(_0x1d0491,_0x3aeb17){const _0x32c439=a106_0x59d8,_0x472875=_0x1d0491();while(!![]){try{const _0x460ca1=parseInt(_0x32c439(0x223))/0x1*(-parseInt(_0x32c439(0x1c9))/0x2)+-parseInt(_0x32c439(0x22f))/0x3*(-parseInt(_0x32c439(0x1e0))/0x4)+-parseInt(_0x32c439(0x1c5))/0x5*(parseInt(_0x32c439(0x217))/0x6)+-parseInt(_0x32c439(0x1fb))/0x7+-parseInt(_0x32c439(0x1ea))/0x8*(parseInt(_0x32c439(0x1fa))/0x9)+-parseInt(_0x32c439(0x21d))/0xa+parseInt(_0x32c439(0x222))/0xb;if(_0x460ca1===_0x3aeb17)break;else _0x472875['push'](_0x472875['shift']());}catch(_0x4c6fc0){_0x472875['push'](_0x472875['shift']());}}}(a106_0x2faa,0x5270b));const a106_0x40371c=(function(){let _0x199825=!![];return function(_0x158cfc,_0x42b416){const _0x4d4d56=_0x199825?function(){const _0x354638=a106_0x59d8;if(_0x42b416){const _0x4dea49=_0x42b416[_0x354638(0x1bd)](_0x158cfc,arguments);return _0x42b416=null,_0x4dea49;}}:function(){};return _0x199825=![],_0x4d4d56;};}()),a106_0x58f872=a106_0x40371c(this,function(){const _0x58ff3c=a106_0x59d8;return a106_0x58f872['toString']()['search'](_0x58ff3c(0x1dc))[_0x58ff3c(0x1c2)]()[_0x58ff3c(0x1ce)](a106_0x58f872)['search'](_0x58ff3c(0x1dc));});a106_0x58f872();'use strict';var __createBinding=this&&this[a106_0xd918d5(0x1e8)]||(Object[a106_0xd918d5(0x20e)]?function(_0x346a85,_0xee571f,_0x431698,_0x415e40){const _0x1686b=a106_0xd918d5;if(_0x415e40===undefined)_0x415e40=_0x431698;var _0x4ee210=Object[_0x1686b(0x20a)](_0xee571f,_0x431698);(!_0x4ee210||(_0x1686b(0x214)in _0x4ee210?!_0xee571f[_0x1686b(0x1cb)]:_0x4ee210['writable']||_0x4ee210[_0x1686b(0x227)]))&&(_0x4ee210={'enumerable':!![],'get':function(){return _0xee571f[_0x431698];}}),Object['defineProperty'](_0x346a85,_0x415e40,_0x4ee210);}:function(_0x545e11,_0x268d9c,_0x5b340b,_0x12c688){if(_0x12c688===undefined)_0x12c688=_0x5b340b;_0x545e11[_0x12c688]=_0x268d9c[_0x5b340b];}),__setModuleDefault=this&&this[a106_0xd918d5(0x1e9)]||(Object[a106_0xd918d5(0x20e)]?function(_0x35fc02,_0x4c7cfa){const _0x1c5b06=a106_0xd918d5;Object[_0x1c5b06(0x22b)](_0x35fc02,_0x1c5b06(0x225),{'enumerable':!![],'value':_0x4c7cfa});}:function(_0x24749b,_0x317c1d){_0x24749b['default']=_0x317c1d;}),__decorate=this&&this['__decorate']||function(_0x1cc837,_0x43ac6f,_0xf6ce90,_0x59e09e){const _0x572476=a106_0xd918d5;var _0x238172=arguments[_0x572476(0x1e5)],_0x2ea564=_0x238172<0x3?_0x43ac6f:_0x59e09e===null?_0x59e09e=Object[_0x572476(0x20a)](_0x43ac6f,_0xf6ce90):_0x59e09e,_0x2b1c8f;if(typeof Reflect===_0x572476(0x1d1)&&typeof Reflect[_0x572476(0x201)]===_0x572476(0x1ca))_0x2ea564=Reflect[_0x572476(0x201)](_0x1cc837,_0x43ac6f,_0xf6ce90,_0x59e09e);else{for(var _0x2eb864=_0x1cc837[_0x572476(0x1e5)]-0x1;_0x2eb864>=0x0;_0x2eb864--)if(_0x2b1c8f=_0x1cc837[_0x2eb864])_0x2ea564=(_0x238172<0x3?_0x2b1c8f(_0x2ea564):_0x238172>0x3?_0x2b1c8f(_0x43ac6f,_0xf6ce90,_0x2ea564):_0x2b1c8f(_0x43ac6f,_0xf6ce90))||_0x2ea564;}return _0x238172>0x3&&_0x2ea564&&Object[_0x572476(0x22b)](_0x43ac6f,_0xf6ce90,_0x2ea564),_0x2ea564;},__importStar=this&&this[a106_0xd918d5(0x1f4)]||function(_0x425e5a){const _0x156fa2=a106_0xd918d5;if(_0x425e5a&&_0x425e5a[_0x156fa2(0x1cb)])return _0x425e5a;var _0xc6e4cf={};if(_0x425e5a!=null){for(var _0x472873 in _0x425e5a)if(_0x472873!==_0x156fa2(0x225)&&Object[_0x156fa2(0x215)][_0x156fa2(0x216)][_0x156fa2(0x1fc)](_0x425e5a,_0x472873))__createBinding(_0xc6e4cf,_0x425e5a,_0x472873);}return __setModuleDefault(_0xc6e4cf,_0x425e5a),_0xc6e4cf;},__importDefault=this&&this[a106_0xd918d5(0x20b)]||function(_0x5b07b0){const _0x18fdc1=a106_0xd918d5;return _0x5b07b0&&_0x5b07b0[_0x18fdc1(0x1cb)]?_0x5b07b0:{'default':_0x5b07b0};};Object['defineProperty'](exports,a106_0xd918d5(0x1cb),{'value':!![]}),exports[a106_0xd918d5(0x21f)]=void 0x0;const commit_components_dto_1=require(a106_0xd918d5(0x21e)),events_1=__importDefault(require('events')),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require('../utils/mdapi.utils'),sfdx_utils_1=require(a106_0xd918d5(0x22d)),typedi_1=__importStar(require(a106_0xd918d5(0x1f5))),child_types_1=__importDefault(require(a106_0xd918d5(0x1d5))),utils_1=require(a106_0xd918d5(0x1cd)),constants_1=require(a106_0xd918d5(0x206)),git_provider_1=require(a106_0xd918d5(0x1cf)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),sfdx_utils_2=require(a106_0xd918d5(0x1db)),fs_internal_1=require(a106_0xd918d5(0x1d7)),path_1=require(a106_0xd918d5(0x21c)),providers_tokens_1=require(a106_0xd918d5(0x22c)),constants_2=require(a106_0xd918d5(0x206));let CommitComponentsJob=class CommitComponentsJob extends events_1[a106_0xd918d5(0x225)]{constructor(){const _0x275d25=a106_0xd918d5;super(...arguments),this[_0x275d25(0x220)]=0x3e8,this[_0x275d25(0x1c4)]=0x0,this['componentsToDelete']=0x0,this[_0x275d25(0x1e2)]=Date['now']();}async['getRemote'](){const _0x5a7366=a106_0xd918d5,{repo:_0x3b0780}=this[_0x5a7366(0x21a)],_0xa4c0f3=typedi_1[_0x5a7366(0x225)][_0x5a7366(0x214)](providers_tokens_1[_0x5a7366(0x1c3)][_0x5a7366(0x1eb)]);if(this['commitData']['provider']===git_provider_1[_0x5a7366(0x204)][_0x5a7366(0x1ec)]){const _0x2fd460=typedi_1['default'][_0x5a7366(0x214)](bitbucket_api_service_1[_0x5a7366(0x1c7)]);await _0x2fd460['isLoggedIn']();}return _0x3b0780[_0x5a7366(0x1df)][_0x5a7366(0x1d3)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x5a7366(0x1d6)])(_0x3b0780[_0x5a7366(0x1df)])+'://'+_0xa4c0f3[_0x5a7366(0x1e1)]()+'@');}['groupComponentsByFileName'](_0x68b5e){const _0x3d20c2=a106_0xd918d5;var _0x4d5648;_0x68b5e[_0x3d20c2(0x1f3)](_0x14f4f0=>child_types_1[_0x3d20c2(0x225)][_0x3d20c2(0x221)](_0x14f4f0[_0x3d20c2(0x1bc)])?0x1:-0x1);const _0x6d01b3={};for(const _0x4f1697 of _0x68b5e){_0x6d01b3[_0x4d5648=_0x4f1697[_0x3d20c2(0x1f1)]]||(_0x6d01b3[_0x4d5648]=[]),_0x6d01b3[_0x4f1697[_0x3d20c2(0x1f1)]][_0x3d20c2(0x1fd)](_0x4f1697);}return Object['values'](_0x6d01b3)[_0x3d20c2(0x1da)]((_0x271b87,_0x2796c3)=>[..._0x271b87,..._0x2796c3],[]);}async['writeComponents'](_0x1028aa){const _0x8a0771=a106_0xd918d5;_0x1028aa=this[_0x8a0771(0x1c0)](_0x1028aa);let _0x4ed896=0x0;while(_0x1028aa[_0x8a0771(0x1e5)]){const _0x47f1f0=_0x1028aa[_0x8a0771(0x1c6)](0x0,this[_0x8a0771(0x220)]);await this['mdapiUtils'][_0x8a0771(0x1ff)](_0x47f1f0,{'skipChildErrors':this[_0x8a0771(0x21a)]['branch'][_0x8a0771(0x1fe)]===_0x8a0771(0x1e7),'recordType':this[_0x8a0771(0x21a)][_0x8a0771(0x1d2)]}),_0x4ed896+=_0x47f1f0['length'],this[_0x8a0771(0x1f8)][_0x8a0771(0x208)](this[_0x8a0771(0x229)]+_0x8a0771(0x22e)+_0x4ed896+'/'+this[_0x8a0771(0x1c4)]+_0x8a0771(0x1c8)),await this[_0x8a0771(0x1f8)]['send']();}}async['removeComponents'](_0x20be3b){const _0x3b16c3=a106_0xd918d5;_0x20be3b[_0x3b16c3(0x1f3)](_0x5eafe9=>child_types_1[_0x3b16c3(0x225)]['includes'](_0x5eafe9[_0x3b16c3(0x1ed)])?-0x1:0x1);let _0x5f469a=0x0;while(_0x20be3b[_0x3b16c3(0x1e5)]){const _0x898f85=_0x20be3b[_0x3b16c3(0x1c6)](0x0,this[_0x3b16c3(0x220)]);await this[_0x3b16c3(0x202)]['removeComponents'](_0x898f85,this[_0x3b16c3(0x21a)][_0x3b16c3(0x1d2)]),_0x5f469a+=_0x898f85['length'],this['sfLogger'][_0x3b16c3(0x208)](this[_0x3b16c3(0x229)]+_0x3b16c3(0x20d)+_0x5f469a+'/'+this[_0x3b16c3(0x1d4)]+_0x3b16c3(0x1c8)),await this[_0x3b16c3(0x1f8)]['send']();}}async[a106_0xd918d5(0x1c1)](){const _0x4f6bf3=a106_0xd918d5;this[_0x4f6bf3(0x211)]&&await this[_0x4f6bf3(0x211)]['removeDir']()[_0x4f6bf3(0x1cc)](()=>void 0x0),this[_0x4f6bf3(0x202)]&&await this[_0x4f6bf3(0x202)][_0x4f6bf3(0x203)]()['catch'](()=>void 0x0),this[_0x4f6bf3(0x210)]&&await this[_0x4f6bf3(0x210)][_0x4f6bf3(0x203)]()[_0x4f6bf3(0x1cc)](()=>void 0x0);}async[a106_0xd918d5(0x1d0)](){const _0x84a412=a106_0xd918d5,{repo:_0x1c4a25,branch:_0x4382c3,components:_0x23c9d1,convertToSFDX:_0x1508d7,message:_0xd50c45,user:_0xacbf67}=this[_0x84a412(0x21a)];this[_0x84a412(0x202)]=new mdapi_utils_1['MDApiUtils'](),this[_0x84a412(0x211)]=new git_utils_1[(_0x84a412(0x1f2))](await this[_0x84a412(0x1f7)]()),this[_0x84a412(0x210)]=new sfdx_utils_1[(_0x84a412(0x20f))]();let _0x34bf38=_0x1508d7&&this[_0x84a412(0x210)][_0x84a412(0x20c)](this['commitData'][_0x84a412(0x1d2)]);try{await this[_0x84a412(0x1f8)][_0x84a412(0x208)](this[_0x84a412(0x229)]+_0x84a412(0x228))[_0x84a412(0x205)](),await this[_0x84a412(0x211)][_0x84a412(0x231)](_0x4382c3[_0x84a412(0x1fe)],_0x1c4a25[_0x84a412(0x1fe)]);!this[_0x84a412(0x21a)][_0x84a412(0x1bb)]?(this[_0x84a412(0x1f8)]['log'](this['prefix']+_0x84a412(0x224)),await this[_0x84a412(0x202)]['prepareMdapi'](this[_0x84a412(0x211)]['dir'])):this[_0x84a412(0x1f8)][_0x84a412(0x208)](this['prefix']+_0x84a412(0x1f9));await this['sfLogger']['log'](this[_0x84a412(0x229)]+'\x20Checking\x20written\x20components.')['send']();_0x23c9d1['writed']&&(this[_0x84a412(0x1f8)][_0x84a412(0x208)](this['prefix']+_0x84a412(0x1d9)),this[_0x84a412(0x1c4)]=_0x23c9d1[_0x84a412(0x213)]['length'],await this['writeComponents'](_0x23c9d1[_0x84a412(0x213)]),await this[_0x84a412(0x1f8)]['send']());await this[_0x84a412(0x1f8)][_0x84a412(0x208)](this[_0x84a412(0x229)]+_0x84a412(0x209))[_0x84a412(0x205)]();_0x23c9d1[_0x84a412(0x1f0)]&&(this[_0x84a412(0x1f8)]['log'](this[_0x84a412(0x229)]+_0x84a412(0x1dd)),this[_0x84a412(0x1d4)]=_0x23c9d1[_0x84a412(0x1f0)][_0x84a412(0x1e5)],await this['removeComponents'](_0x23c9d1[_0x84a412(0x1f0)]),await this['sfLogger'][_0x84a412(0x205)]());await this[_0x84a412(0x1f8)][_0x84a412(0x205)]();const _0x4055e6=await fs_internal_1['FS']['isEmptyDir'](this[_0x84a412(0x211)][_0x84a412(0x1f6)]);await sfdx_utils_2[_0x84a412(0x226)][_0x84a412(0x200)](this[_0x84a412(0x211)]['dir'])?(_0x34bf38=!![],await fs_internal_1['FS'][_0x84a412(0x203)]((0x0,path_1[_0x84a412(0x1e3)])(this[_0x84a412(0x211)]['dir'],'force-app'))):(_0x34bf38&&(!_0x4055e6&&(_0x34bf38=![])),await this[_0x84a412(0x211)]['clearDir']());_0x34bf38?(await this[_0x84a412(0x1f8)]['log'](this['prefix']+_0x84a412(0x1d8))[_0x84a412(0x205)](),await this[_0x84a412(0x210)]['createProjectFrom'](this[_0x84a412(0x202)][_0x84a412(0x1f6)]),await this[_0x84a412(0x210)][_0x84a412(0x1e6)](this['gitUtils']['dir'],!_0x4055e6),await this['sfdxUtils'][_0x84a412(0x1be)](this['mdapiUtils'][_0x84a412(0x1f6)],(0x0,path_1[_0x84a412(0x1e3)])(this[_0x84a412(0x211)][_0x84a412(0x1f6)],constants_2[_0x84a412(0x21b)])),await this[_0x84a412(0x210)][_0x84a412(0x203)]()):(await this[_0x84a412(0x1f8)][_0x84a412(0x208)](this[_0x84a412(0x229)]+_0x84a412(0x207))[_0x84a412(0x205)](),await this['mdapiUtils'][_0x84a412(0x218)](this['gitUtils'][_0x84a412(0x1f6)]));await this[_0x84a412(0x1f8)][_0x84a412(0x208)](this[_0x84a412(0x229)]+_0x84a412(0x1ef))[_0x84a412(0x205)](),await this['gitUtils'][_0x84a412(0x1bf)](_0xd50c45,{'email':constants_1[_0x84a412(0x1ee)],'name':_0xacbf67[_0x84a412(0x1fe)]},_0x4382c3[_0x84a412(0x1fe)]),await this['gitUtils']['removeDir'](),await this[_0x84a412(0x202)]['removeDir']();const _0x319f31=this[_0x84a412(0x1c4)]+this[_0x84a412(0x1d4)];await this['sfLogger'][_0x84a412(0x208)](this[_0x84a412(0x229)]+_0x84a412(0x22a)+(Date['now']()-this[_0x84a412(0x1e2)])+'ms.\x20Committed\x20components\x20-\x20'+_0x319f31+'.')['send']();}catch(_0x46e6bd){await this['cleanUp'](),await this[_0x84a412(0x1f8)]['error'](this['prefix']+'\x20'+_0x46e6bd)[_0x84a412(0x205)]();throw _0x46e6bd;}}async['run'](_0x1d801b,_0xacd575){const _0xe641ab=a106_0xd918d5;var _0x5c97fd,_0x41c035;this[_0xe641ab(0x1f8)]=typedi_1[_0xe641ab(0x225)][_0xe641ab(0x214)](providers_tokens_1[_0xe641ab(0x1c3)][_0xe641ab(0x232)]),this[_0xe641ab(0x229)]=(_0xacd575?_0xacd575+'\x20':'')+'['+commit_components_dto_1[_0xe641ab(0x219)][_0xe641ab(0x1fe)]+']',await this[_0xe641ab(0x1f8)][_0xe641ab(0x208)](this[_0xe641ab(0x229)]+_0xe641ab(0x1e4));const _0x28bbe0=!!((_0x5c97fd=_0x1d801b[_0xe641ab(0x212)])===null||_0x5c97fd===void 0x0?void 0x0:_0x5c97fd[_0xe641ab(0x213)])||!!((_0x41c035=_0x1d801b['components'])===null||_0x41c035===void 0x0?void 0x0:_0x41c035[_0xe641ab(0x1f0)]);if(!_0x28bbe0){await this[_0xe641ab(0x1f8)][_0xe641ab(0x208)](this[_0xe641ab(0x229)]+_0xe641ab(0x1de))[_0xe641ab(0x205)]();return;}this[_0xe641ab(0x21a)]=_0x1d801b,await this[_0xe641ab(0x1d0)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a106_0xd918d5(0x230)])({'transient':!![]})],CommitComponentsJob),exports[a106_0xd918d5(0x21f)]=CommitComponentsJob;