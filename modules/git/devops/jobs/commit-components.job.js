function a104_0x4511(_0x144b15,_0x2b1d79){const _0x594fcf=a104_0x687a();return a104_0x4511=function(_0x59891e,_0xf16d11){_0x59891e=_0x59891e-0x17b;let _0x687a0f=_0x594fcf[_0x59891e];return _0x687a0f;},a104_0x4511(_0x144b15,_0x2b1d79);}const a104_0x495ade=a104_0x4511;(function(_0x74afa4,_0x15c847){const _0x3e635b=a104_0x4511,_0xdae2cc=_0x74afa4();while(!![]){try{const _0x1f7604=parseInt(_0x3e635b(0x1ae))/0x1+parseInt(_0x3e635b(0x1cc))/0x2+-parseInt(_0x3e635b(0x1cd))/0x3+-parseInt(_0x3e635b(0x185))/0x4*(parseInt(_0x3e635b(0x194))/0x5)+-parseInt(_0x3e635b(0x1e4))/0x6*(parseInt(_0x3e635b(0x195))/0x7)+parseInt(_0x3e635b(0x1d2))/0x8+-parseInt(_0x3e635b(0x181))/0x9*(-parseInt(_0x3e635b(0x1c7))/0xa);if(_0x1f7604===_0x15c847)break;else _0xdae2cc['push'](_0xdae2cc['shift']());}catch(_0x4051f6){_0xdae2cc['push'](_0xdae2cc['shift']());}}}(a104_0x687a,0x3a448));const a104_0xf16d11=(function(){let _0x16d4ab=!![];return function(_0x2e1c3c,_0x560ed8){const _0x30c7e2=_0x16d4ab?function(){const _0x3c429b=a104_0x4511;if(_0x560ed8){const _0x5051f5=_0x560ed8[_0x3c429b(0x182)](_0x2e1c3c,arguments);return _0x560ed8=null,_0x5051f5;}}:function(){};return _0x16d4ab=![],_0x30c7e2;};}()),a104_0x59891e=a104_0xf16d11(this,function(){const _0x2ae74e=a104_0x4511;return a104_0x59891e[_0x2ae74e(0x18a)]()['search'](_0x2ae74e(0x1a5))[_0x2ae74e(0x18a)]()[_0x2ae74e(0x1a8)](a104_0x59891e)['search'](_0x2ae74e(0x1a5));});a104_0x59891e();'use strict';var __createBinding=this&&this[a104_0x495ade(0x1ad)]||(Object[a104_0x495ade(0x1b9)]?function(_0x69fbfa,_0x12afaa,_0x156096,_0x5b7de7){const _0x593ad0=a104_0x495ade;if(_0x5b7de7===undefined)_0x5b7de7=_0x156096;var _0x5ad3c0=Object[_0x593ad0(0x1c3)](_0x12afaa,_0x156096);(!_0x5ad3c0||('get'in _0x5ad3c0?!_0x12afaa[_0x593ad0(0x1d1)]:_0x5ad3c0[_0x593ad0(0x1f0)]||_0x5ad3c0[_0x593ad0(0x1b3)]))&&(_0x5ad3c0={'enumerable':!![],'get':function(){return _0x12afaa[_0x156096];}}),Object['defineProperty'](_0x69fbfa,_0x5b7de7,_0x5ad3c0);}:function(_0x58dccb,_0x4a7a26,_0x421d7b,_0xe3ed46){if(_0xe3ed46===undefined)_0xe3ed46=_0x421d7b;_0x58dccb[_0xe3ed46]=_0x4a7a26[_0x421d7b];}),__setModuleDefault=this&&this[a104_0x495ade(0x197)]||(Object[a104_0x495ade(0x1b9)]?function(_0x1afaaf,_0xe92af5){const _0x213ea4=a104_0x495ade;Object[_0x213ea4(0x1e3)](_0x1afaaf,_0x213ea4(0x19c),{'enumerable':!![],'value':_0xe92af5});}:function(_0x4764ec,_0x37d50b){_0x4764ec['default']=_0x37d50b;}),__decorate=this&&this[a104_0x495ade(0x191)]||function(_0x20b7d7,_0x1a2afc,_0xf0f0c1,_0x5554ec){const _0x5159f0=a104_0x495ade;var _0x2847d1=arguments[_0x5159f0(0x18c)],_0x4bb136=_0x2847d1<0x3?_0x1a2afc:_0x5554ec===null?_0x5554ec=Object[_0x5159f0(0x1c3)](_0x1a2afc,_0xf0f0c1):_0x5554ec,_0x235aba;if(typeof Reflect===_0x5159f0(0x1ba)&&typeof Reflect[_0x5159f0(0x1cb)]===_0x5159f0(0x1df))_0x4bb136=Reflect[_0x5159f0(0x1cb)](_0x20b7d7,_0x1a2afc,_0xf0f0c1,_0x5554ec);else{for(var _0x1534ec=_0x20b7d7[_0x5159f0(0x18c)]-0x1;_0x1534ec>=0x0;_0x1534ec--)if(_0x235aba=_0x20b7d7[_0x1534ec])_0x4bb136=(_0x2847d1<0x3?_0x235aba(_0x4bb136):_0x2847d1>0x3?_0x235aba(_0x1a2afc,_0xf0f0c1,_0x4bb136):_0x235aba(_0x1a2afc,_0xf0f0c1))||_0x4bb136;}return _0x2847d1>0x3&&_0x4bb136&&Object[_0x5159f0(0x1e3)](_0x1a2afc,_0xf0f0c1,_0x4bb136),_0x4bb136;},__importStar=this&&this['__importStar']||function(_0x3ab0c0){const _0x171ea3=a104_0x495ade;if(_0x3ab0c0&&_0x3ab0c0['__esModule'])return _0x3ab0c0;var _0x34f054={};if(_0x3ab0c0!=null){for(var _0x389a29 in _0x3ab0c0)if(_0x389a29!==_0x171ea3(0x19c)&&Object['prototype']['hasOwnProperty'][_0x171ea3(0x1bd)](_0x3ab0c0,_0x389a29))__createBinding(_0x34f054,_0x3ab0c0,_0x389a29);}return __setModuleDefault(_0x34f054,_0x3ab0c0),_0x34f054;},__importDefault=this&&this[a104_0x495ade(0x1c8)]||function(_0x1852b3){const _0x4074f5=a104_0x495ade;return _0x1852b3&&_0x1852b3[_0x4074f5(0x1d1)]?_0x1852b3:{'default':_0x1852b3};};Object['defineProperty'](exports,a104_0x495ade(0x1d1),{'value':!![]}),exports['CommitComponentsJob']=void 0x0;function a104_0x687a(){const _0x5be1bb=['name','\x20Committing\x20and\x20pushing\x20source\x20to\x20git.','72HpGnDx','replace','values','../../internal/fs.internal','deleted','toString','push','length','removeComponents','CommitComponentsJob','://','dir','__decorate','log','CommitComponentsDto','87890iUaNnv','63PhnpRr','Tokens','__setModuleDefault','branch','startTime','fileName','../../providers/providers.tokens','default','includes','commitAndPush','componentsToWrite','../../providers/api/bitbucket-api.service','Bitbucket','gitUrl','reduce','../../providers/types/git-provider','(((.+)+)+)+$','getRemote','gitUtils','constructor','\x20Force\x20sync.\x20Skip\x20preparing\x20mdapi\x20from\x20repository.','FORCE_APP_DEFAULT_DIR','now','master','__createBinding','425535azNEyB','componentsToDelete','\x20Preparing\x20to\x20delete\x20components','fileType','path','configurable','clone','getProtocol','force-app','isSFDXProject','mdapiUtils','create','object','../utils/git.utils','copyProjectTo','call','events','catch','\x20Nothing\x20to\x20commit.\x20Skip.','splice','../utils/sfdx.utils','getOwnPropertyDescriptor','copyVlocityComponents','writed','SFDX','783770TLFHmd','__importDefault','groupComponentsByFileName','isEmptyDir','decorate','557820xzBuiG','1189161mFygHJ','COMPONENTS_PER_TICK','removeDir','../../../../constants','__esModule','2348416DKYyZU','\x20Wrote\x20','sfdxUtils','\x20Deleted\x20','../../salesforce/utils/sfdx.utils','send','\x20Prepare\x20mdapi\x20files.','getGitShellAuthorizationString','../dto/commit-components.dto','ms.\x20Committed\x20components\x20-\x20','copyMdapiTo','force','\x20Start\x20converting\x20to\x20SFDX.','function','sfLogger','clearDir','exec','defineProperty','187782aiRoKg','provider','writeFlosumComponents','components','cleanUp','join','../utils/mdapi.utils','type','get','prefix','\x20Checking\x20written\x20components.','Service','writable','../../parsers/data/child-types','../../../shared/utils','logger','sort','\x20Commit\x20job\x20done.\x20Time\x20spent\x20-\x20','MDApiUtils','SFDXUtils','commitData','\x20components','27WVvXqK','apply'];a104_0x687a=function(){return _0x5be1bb;};return a104_0x687a();}const commit_components_dto_1=require(a104_0x495ade(0x1da)),events_1=__importDefault(require(a104_0x495ade(0x1be))),git_utils_1=require(a104_0x495ade(0x1bb)),mdapi_utils_1=require(a104_0x495ade(0x1ea)),sfdx_utils_1=require(a104_0x495ade(0x1c2)),typedi_1=__importStar(require('typedi')),child_types_1=__importDefault(require(a104_0x495ade(0x1f1))),utils_1=require(a104_0x495ade(0x1f2)),constants_1=require(a104_0x495ade(0x1d0)),git_provider_1=require(a104_0x495ade(0x1a4)),bitbucket_api_service_1=require(a104_0x495ade(0x1a0)),sfdx_utils_2=require(a104_0x495ade(0x1d6)),fs_internal_1=require(a104_0x495ade(0x188)),path_1=require(a104_0x495ade(0x1b2)),providers_tokens_1=require(a104_0x495ade(0x19b)),constants_2=require(a104_0x495ade(0x1d0));let CommitComponentsJob=class CommitComponentsJob extends events_1[a104_0x495ade(0x19c)]{constructor(){const _0x534aed=a104_0x495ade;super(...arguments),this[_0x534aed(0x1ce)]=0x3e8,this[_0x534aed(0x19f)]=0x0,this[_0x534aed(0x1af)]=0x0,this[_0x534aed(0x199)]=Date['now']();}async['getRemote'](){const _0xe69bed=a104_0x495ade,{repo:_0x5b4676}=this[_0xe69bed(0x17f)],_0xa97d30=typedi_1['default']['get'](providers_tokens_1[_0xe69bed(0x196)]['credentials']);if(this['commitData'][_0xe69bed(0x1e5)]===git_provider_1['GitProvider'][_0xe69bed(0x1a1)]){const _0x4da3ed=typedi_1['default']['get'](bitbucket_api_service_1['BitbucketApiService']);await _0x4da3ed['isLoggedIn']();}return _0x5b4676[_0xe69bed(0x1a2)][_0xe69bed(0x186)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0xe69bed(0x1b5)])(_0x5b4676[_0xe69bed(0x1a2)])+_0xe69bed(0x18f)+_0xa97d30[_0xe69bed(0x1d9)]()+'@');}[a104_0x495ade(0x1c9)](_0x51379e){const _0x2847dc=a104_0x495ade;var _0x48228a;_0x51379e['sort'](_0x11a517=>child_types_1[_0x2847dc(0x19c)][_0x2847dc(0x19d)](_0x11a517[_0x2847dc(0x1b1)])?0x1:-0x1);const _0x419c6f={};for(const _0x1bc6ae of _0x51379e){_0x419c6f[_0x48228a=_0x1bc6ae[_0x2847dc(0x19a)]]||(_0x419c6f[_0x48228a]=[]),_0x419c6f[_0x1bc6ae[_0x2847dc(0x19a)]][_0x2847dc(0x18b)](_0x1bc6ae);}return Object[_0x2847dc(0x187)](_0x419c6f)[_0x2847dc(0x1a3)]((_0x3f8dbb,_0x129a65)=>[..._0x3f8dbb,..._0x129a65],[]);}async['writeComponents'](_0x6841a0){const _0x55d1a4=a104_0x495ade;_0x6841a0=this[_0x55d1a4(0x1c9)](_0x6841a0);let _0x701995=0x0;while(_0x6841a0[_0x55d1a4(0x18c)]){const _0x58a584=_0x6841a0[_0x55d1a4(0x1c1)](0x0,this[_0x55d1a4(0x1ce)]);await this[_0x55d1a4(0x1b8)][_0x55d1a4(0x1e6)](_0x58a584,{'skipChildErrors':this[_0x55d1a4(0x17f)][_0x55d1a4(0x198)]['name']===_0x55d1a4(0x1ac)}),_0x701995+=_0x58a584['length'],this['sfLogger'][_0x55d1a4(0x192)](this[_0x55d1a4(0x1ed)]+_0x55d1a4(0x1d3)+_0x701995+'/'+this[_0x55d1a4(0x19f)]+_0x55d1a4(0x180)),await this[_0x55d1a4(0x1e0)][_0x55d1a4(0x1d7)]();}}async[a104_0x495ade(0x18d)](_0x2503ee){const _0x15aabc=a104_0x495ade;_0x2503ee[_0x15aabc(0x17b)](_0x598644=>child_types_1['default'][_0x15aabc(0x19d)](_0x598644[_0x15aabc(0x1eb)])?-0x1:0x1);let _0x193569=0x0;while(_0x2503ee[_0x15aabc(0x18c)]){const _0xe00512=_0x2503ee['splice'](0x0,this[_0x15aabc(0x1ce)]);await this[_0x15aabc(0x1b8)]['removeComponents'](_0xe00512),_0x193569+=_0xe00512['length'],this[_0x15aabc(0x1e0)][_0x15aabc(0x192)](this[_0x15aabc(0x1ed)]+_0x15aabc(0x1d5)+_0x193569+'/'+this[_0x15aabc(0x1af)]+_0x15aabc(0x180)),await this['sfLogger']['send']();}}async[a104_0x495ade(0x1e8)](){const _0x227b70=a104_0x495ade;this[_0x227b70(0x1a7)]&&await this[_0x227b70(0x1a7)][_0x227b70(0x1cf)]()[_0x227b70(0x1bf)](()=>void 0x0),this[_0x227b70(0x1b8)]&&await this[_0x227b70(0x1b8)]['removeDir']()[_0x227b70(0x1bf)](()=>void 0x0),this[_0x227b70(0x1d4)]&&await this[_0x227b70(0x1d4)][_0x227b70(0x1cf)]()[_0x227b70(0x1bf)](()=>void 0x0);}async[a104_0x495ade(0x1e2)](){const _0x98ec91=a104_0x495ade,{repo:_0x2e2436,branch:_0x3e3d54,components:_0x7cead4,convertToSFDX:_0x575c18,message:_0x5696b6,user:_0x17f8bb}=this['commitData'];this['mdapiUtils']=new mdapi_utils_1[(_0x98ec91(0x17d))](),this['gitUtils']=new git_utils_1['GitUtils'](await this[_0x98ec91(0x1a6)]()),this[_0x98ec91(0x1d4)]=new sfdx_utils_1[(_0x98ec91(0x17e))]();let _0x40d30a=_0x575c18;try{await this['sfLogger']['log'](this[_0x98ec91(0x1ed)]+'\x20Start\x20cloning\x20repository.')[_0x98ec91(0x1d7)](),await this[_0x98ec91(0x1a7)][_0x98ec91(0x1b4)](_0x3e3d54[_0x98ec91(0x183)],_0x2e2436[_0x98ec91(0x183)]);!this[_0x98ec91(0x17f)][_0x98ec91(0x1dd)]?(this[_0x98ec91(0x1e0)]['log'](this[_0x98ec91(0x1ed)]+_0x98ec91(0x1d8)),await this[_0x98ec91(0x1b8)]['prepareMdapi'](this[_0x98ec91(0x1a7)][_0x98ec91(0x190)])):this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this['prefix']+_0x98ec91(0x1a9));await this[_0x98ec91(0x1e0)]['log'](this[_0x98ec91(0x1ed)]+_0x98ec91(0x1ee))['send']();_0x7cead4[_0x98ec91(0x1c5)]&&(this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+'\x20Preparing\x20to\x20write\x20components'),this[_0x98ec91(0x19f)]=_0x7cead4['writed'][_0x98ec91(0x18c)],await this['writeComponents'](_0x7cead4[_0x98ec91(0x1c5)]),await this[_0x98ec91(0x1e0)][_0x98ec91(0x1d7)]());await this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+'\x20Checking\x20deleted\x20components.')[_0x98ec91(0x1d7)]();_0x7cead4[_0x98ec91(0x189)]&&(this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+_0x98ec91(0x1b0)),this[_0x98ec91(0x1af)]=_0x7cead4[_0x98ec91(0x189)]['length'],await this[_0x98ec91(0x18d)](_0x7cead4[_0x98ec91(0x189)]),await this[_0x98ec91(0x1e0)][_0x98ec91(0x1d7)]());await this[_0x98ec91(0x1e0)][_0x98ec91(0x1d7)]();const _0x2f2937=await fs_internal_1['FS'][_0x98ec91(0x1ca)](this[_0x98ec91(0x1a7)][_0x98ec91(0x190)]);await sfdx_utils_2[_0x98ec91(0x1c6)][_0x98ec91(0x1b7)](this['gitUtils']['dir'])?(_0x40d30a=!![],await fs_internal_1['FS'][_0x98ec91(0x1cf)]((0x0,path_1[_0x98ec91(0x1e9)])(this[_0x98ec91(0x1a7)][_0x98ec91(0x190)],_0x98ec91(0x1b6)))):(_0x40d30a&&(!_0x2f2937&&(_0x40d30a=![])),await this['gitUtils'][_0x98ec91(0x1e1)]());_0x40d30a?(await this['sfLogger'][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+_0x98ec91(0x1de))['send'](),await this[_0x98ec91(0x1d4)]['createProjectFrom'](this[_0x98ec91(0x1b8)][_0x98ec91(0x190)]),await this[_0x98ec91(0x1d4)][_0x98ec91(0x1bc)](this[_0x98ec91(0x1a7)]['dir'],!_0x2f2937),await this[_0x98ec91(0x1d4)][_0x98ec91(0x1c4)](this['mdapiUtils'][_0x98ec91(0x190)],(0x0,path_1[_0x98ec91(0x1e9)])(this['gitUtils'][_0x98ec91(0x190)],constants_2[_0x98ec91(0x1aa)])),await this[_0x98ec91(0x1d4)][_0x98ec91(0x1cf)]()):(await this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+'\x20Copying\x20mdapi\x20to\x20git\x20folder.')[_0x98ec91(0x1d7)](),await this[_0x98ec91(0x1b8)][_0x98ec91(0x1dc)](this[_0x98ec91(0x1a7)][_0x98ec91(0x190)]));await this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+_0x98ec91(0x184))[_0x98ec91(0x1d7)](),await this[_0x98ec91(0x1a7)][_0x98ec91(0x19e)](_0x5696b6,{'email':constants_1['DEFAULT_GIT_USER_EMAIL'],'name':_0x17f8bb[_0x98ec91(0x183)]},_0x3e3d54[_0x98ec91(0x183)]),await this[_0x98ec91(0x1a7)][_0x98ec91(0x1cf)](),await this[_0x98ec91(0x1b8)]['removeDir']();const _0x56c1cb=this[_0x98ec91(0x19f)]+this['componentsToDelete'];await this[_0x98ec91(0x1e0)][_0x98ec91(0x192)](this[_0x98ec91(0x1ed)]+_0x98ec91(0x17c)+(Date[_0x98ec91(0x1ab)]()-this[_0x98ec91(0x199)])+_0x98ec91(0x1db)+_0x56c1cb+'.')['send']();}catch(_0x4f79ee){await this[_0x98ec91(0x1e8)](),await this[_0x98ec91(0x1e0)]['error'](this[_0x98ec91(0x1ed)]+'\x20'+_0x4f79ee)[_0x98ec91(0x1d7)]();throw _0x4f79ee;}}async['run'](_0x1d9ba3,_0x4dd523){const _0x53402f=a104_0x495ade;var _0x1b2d82,_0x1a2f75;this[_0x53402f(0x1e0)]=typedi_1[_0x53402f(0x19c)][_0x53402f(0x1ec)](providers_tokens_1[_0x53402f(0x196)][_0x53402f(0x1f3)]),this['prefix']=(_0x4dd523?_0x4dd523+'\x20':'')+'['+commit_components_dto_1[_0x53402f(0x193)][_0x53402f(0x183)]+']',await this[_0x53402f(0x1e0)][_0x53402f(0x192)](this['prefix']+'\x20Checking\x20commit\x20components.');const _0x328371=!!((_0x1b2d82=_0x1d9ba3['components'])===null||_0x1b2d82===void 0x0?void 0x0:_0x1b2d82['writed'])||!!((_0x1a2f75=_0x1d9ba3[_0x53402f(0x1e7)])===null||_0x1a2f75===void 0x0?void 0x0:_0x1a2f75[_0x53402f(0x189)]);if(!_0x328371){await this[_0x53402f(0x1e0)][_0x53402f(0x192)](this[_0x53402f(0x1ed)]+_0x53402f(0x1c0))[_0x53402f(0x1d7)]();return;}this[_0x53402f(0x17f)]=_0x1d9ba3,await this[_0x53402f(0x1e2)]();}};CommitComponentsJob=__decorate([(0x0,typedi_1[a104_0x495ade(0x1ef)])({'transient':!![]})],CommitComponentsJob),exports[a104_0x495ade(0x18e)]=CommitComponentsJob;