function a62_0xf017(){const _0x48d2ed=['provider','SalesforceRetrieverService','CommitComponentsDto','getOwnPropertyDescriptor','getOne','4EovacZ','lastCommit','setStatus','createBranchIfNotExists','updateRemoteState','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','length','sha','../../../../constants','defineProperty','getComponentIds','__metadata','Sync\x20repository','764847SRLDDb','CommitComponentsJob','components','DEFAULT_GIT_USER_NAME','\x20Start\x20Flosum\x20sync\x20job','../../salesforce/services/salesforce.service','7082JWYLaY','branches','force','toString','\x20Branch\x20synchronized.\x20Skip','gitUrl','checkSyncStatus','349987nEUkkl','__esModule','(((.+)+)+)+$','In\x20Progress','DEFAULT_GIT_USER_EMAIL','repo','convertToSFDX','salesforceService','commitJob','Completed','FlosumSyncJob','branch','SalesforceService','salesforceSync','metadata','then','catch','\x20Flosum\x20sync\x20job\x20done.','string','getComponentsFromRepository','264ZuaYfu','run','\x20Sync\x20status\x20','user','14172BeATSw','parse','name','function','retrieveAttachment','getComponents','sfLogger','search','prefix','repository','926961gJwMqg','../../salesforce/services/salesforce-retriever.service','\x20Checking\x20repository\x20on\x20Flosum\x20side.','80wRbRgL','decorate','Service','repositoryName','__decorate','send','syncData','45InQYTz','create','../dto/commit-components.dto','getBranchComponents','getCommitDto','branchName','getRemoteStateAttachmentId','repositoryId','apply',']\x20[Branch:\x20','object','updateLastCommit','SalesforceLogger3','20601YdGCEl','SalesforceSyncService','log','77580GIcXCG'];a62_0xf017=function(){return _0x48d2ed;};return a62_0xf017();}const a62_0x5e050e=a62_0x2e91;(function(_0x5856cc,_0x1c20d8){const _0x11de18=a62_0x2e91,_0x561b1a=_0x5856cc();while(!![]){try{const _0x20c3f0=parseInt(_0x11de18(0x16f))/0x1+-parseInt(_0x11de18(0x150))/0x2+-parseInt(_0x11de18(0x14a))/0x3*(-parseInt(_0x11de18(0x13d))/0x4)+parseInt(_0x11de18(0x183))/0x5*(-parseInt(_0x11de18(0x137))/0x6)+-parseInt(_0x11de18(0x179))/0x7+-parseInt(_0x11de18(0x16b))/0x8*(parseInt(_0x11de18(0x134))/0x9)+parseInt(_0x11de18(0x17c))/0xa*(parseInt(_0x11de18(0x157))/0xb);if(_0x20c3f0===_0x1c20d8)break;else _0x561b1a['push'](_0x561b1a['shift']());}catch(_0x51eda5){_0x561b1a['push'](_0x561b1a['shift']());}}}(a62_0xf017,0x2fcca));const a62_0xac534c=(function(){let _0x5c1fd2=!![];return function(_0x4eb809,_0x468272){const _0x42c76e=_0x5c1fd2?function(){const _0x245205=a62_0x2e91;if(_0x468272){const _0x47d9e1=_0x468272[_0x245205(0x12f)](_0x4eb809,arguments);return _0x468272=null,_0x47d9e1;}}:function(){};return _0x5c1fd2=![],_0x42c76e;};}()),a62_0x54054c=a62_0xac534c(this,function(){const _0x57d77c=a62_0x2e91;return a62_0x54054c[_0x57d77c(0x153)]()[_0x57d77c(0x176)](_0x57d77c(0x159))[_0x57d77c(0x153)]()['constructor'](a62_0x54054c)['search'](_0x57d77c(0x159));});a62_0x54054c();'use strict';var __decorate=this&&this[a62_0x5e050e(0x180)]||function(_0x31dda8,_0x1655ff,_0x3e3b58,_0xc9d58f){const _0x319cf8=a62_0x5e050e;var _0x16e4a5=arguments[_0x319cf8(0x143)],_0x44677c=_0x16e4a5<0x3?_0x1655ff:_0xc9d58f===null?_0xc9d58f=Object[_0x319cf8(0x13b)](_0x1655ff,_0x3e3b58):_0xc9d58f,_0xd51417;if(typeof Reflect===_0x319cf8(0x131)&&typeof Reflect[_0x319cf8(0x17d)]===_0x319cf8(0x172))_0x44677c=Reflect[_0x319cf8(0x17d)](_0x31dda8,_0x1655ff,_0x3e3b58,_0xc9d58f);else{for(var _0xa6802b=_0x31dda8[_0x319cf8(0x143)]-0x1;_0xa6802b>=0x0;_0xa6802b--)if(_0xd51417=_0x31dda8[_0xa6802b])_0x44677c=(_0x16e4a5<0x3?_0xd51417(_0x44677c):_0x16e4a5>0x3?_0xd51417(_0x1655ff,_0x3e3b58,_0x44677c):_0xd51417(_0x1655ff,_0x3e3b58))||_0x44677c;}return _0x16e4a5>0x3&&_0x44677c&&Object[_0x319cf8(0x146)](_0x1655ff,_0x3e3b58,_0x44677c),_0x44677c;},__metadata=this&&this[a62_0x5e050e(0x148)]||function(_0x569634,_0x33f89c){const _0x45cf02=a62_0x5e050e;if(typeof Reflect===_0x45cf02(0x131)&&typeof Reflect[_0x45cf02(0x165)]===_0x45cf02(0x172))return Reflect[_0x45cf02(0x165)](_0x569634,_0x33f89c);};Object[a62_0x5e050e(0x146)](exports,a62_0x5e050e(0x158),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require('typedi'),constants_1=require(a62_0x5e050e(0x145)),salesforce_retriever_service_1=require(a62_0x5e050e(0x17a)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a62_0x5e050e(0x14f)),commit_components_dto_1=require(a62_0x5e050e(0x129)),commit_components_job_1=require('./commit-components.job');let FlosumSyncJob=class FlosumSyncJob{constructor(_0x161d6d,_0x34d9a0,_0x257d0d){const _0xe39bca=a62_0x5e050e;this['salesforceSync']=_0x161d6d,this[_0xe39bca(0x15e)]=_0x34d9a0,this[_0xe39bca(0x15f)]=_0x257d0d;}async[a62_0x5e050e(0x140)](){const _0x186856=a62_0x5e050e;let _0x2d51ad=await this[_0x186856(0x178)][_0x186856(0x151)][_0x186856(0x13c)](this[_0x186856(0x182)][_0x186856(0x12c)])[_0x186856(0x167)](()=>null);!_0x2d51ad&&(_0x2d51ad=await this[_0x186856(0x178)]['branches'][_0x186856(0x184)]({'name':this[_0x186856(0x182)][_0x186856(0x12c)]})),this['branch']=_0x2d51ad;}async['getComponentIds'](){const _0x4fb26d=a62_0x5e050e;return this[_0x4fb26d(0x182)][_0x4fb26d(0x12e)]?this['salesforceSync'][_0x4fb26d(0x16a)](this[_0x4fb26d(0x182)][_0x4fb26d(0x12e)]):this['salesforceSync'][_0x4fb26d(0x12a)](this['syncData']['branchId']);}async[a62_0x5e050e(0x174)](){const _0xb92031=a62_0x5e050e,_0x4b6c4e=await this[_0xb92031(0x147)](),_0x39ab41=new salesforce_retriever_service_1[(_0xb92031(0x139))](this[_0xb92031(0x15e)]),_0x1e63fe=await _0x39ab41[_0xb92031(0x16c)](_0x4b6c4e);return _0x1e63fe;}async[a62_0x5e050e(0x12b)](_0x24b6fe){const _0x2836f3=a62_0x5e050e,_0x543f56=new commit_components_dto_1[(_0x2836f3(0x13a))]();return _0x543f56['message']=_0x2836f3(0x149),_0x543f56[_0x2836f3(0x16e)]={'name':constants_1[_0x2836f3(0x14d)],'email':constants_1[_0x2836f3(0x15b)]},_0x543f56[_0x2836f3(0x14c)]={'writed':await this[_0x2836f3(0x174)]()},_0x543f56[_0x2836f3(0x15d)]=_0x24b6fe,_0x543f56[_0x2836f3(0x15c)]=this[_0x2836f3(0x178)],_0x543f56['branch']=this[_0x2836f3(0x162)],_0x543f56[_0x2836f3(0x152)]=!![],_0x543f56[_0x2836f3(0x138)]=this[_0x2836f3(0x138)],_0x543f56;}async[a62_0x5e050e(0x156)](){const _0x2234eb=a62_0x5e050e,_0x69713b=await this['salesforceSync'][_0x2234eb(0x12d)](this['syncData']),_0x230c5a=await this[_0x2234eb(0x15e)][_0x2234eb(0x173)](_0x69713b)[_0x2234eb(0x166)](_0x2eaffe=>typeof _0x2eaffe===_0x2234eb(0x169)?JSON[_0x2234eb(0x170)](_0x2eaffe):_0x2eaffe)[_0x2234eb(0x167)](()=>({}));if(_0x230c5a[this[_0x2234eb(0x178)][_0x2234eb(0x155)]]){if(_0x230c5a[this[_0x2234eb(0x178)][_0x2234eb(0x155)]][_0x2234eb(0x13e)]===this[_0x2234eb(0x162)][_0x2234eb(0x144)])return!![];}return![];}async[a62_0x5e050e(0x132)](){const _0x2d1d76=a62_0x5e050e,_0x5fb87c=await this[_0x2d1d76(0x178)][_0x2d1d76(0x151)][_0x2d1d76(0x13c)](this[_0x2d1d76(0x162)][_0x2d1d76(0x171)]);await this['sfLogger'][_0x2d1d76(0x136)](this[_0x2d1d76(0x177)]+'\x20Update\x20remote\x20state.');const _0x59ac77={[this[_0x2d1d76(0x178)]['gitUrl']]:{'lastCommit':_0x5fb87c[_0x2d1d76(0x144)]}};await this['salesforceSync'][_0x2d1d76(0x141)](this['syncData'],_0x59ac77);}async[a62_0x5e050e(0x16c)]({syncRecord:_0xbca730,repository:_0x4c9209,convertToSFDX:_0x3928b2,provider:_0x2b6497}){const _0x2f3f7e=a62_0x5e050e;this[_0x2f3f7e(0x182)]=_0xbca730,this[_0x2f3f7e(0x138)]=_0x2b6497,this[_0x2f3f7e(0x178)]=_0x4c9209,this[_0x2f3f7e(0x175)]=typedi_1['Container']['get'](salesforce_logger_v3_service_1[_0x2f3f7e(0x133)]),this[_0x2f3f7e(0x177)]=_0x2f3f7e(0x142)+this['syncData'][_0x2f3f7e(0x17f)]+_0x2f3f7e(0x130)+this['syncData'][_0x2f3f7e(0x12c)]+']';try{await this[_0x2f3f7e(0x175)][_0x2f3f7e(0x136)](this['prefix']+_0x2f3f7e(0x14e))[_0x2f3f7e(0x181)](),await this[_0x2f3f7e(0x164)][_0x2f3f7e(0x13f)](this[_0x2f3f7e(0x182)],_0x2f3f7e(0x15a)),this[_0x2f3f7e(0x175)][_0x2f3f7e(0x136)](this[_0x2f3f7e(0x177)]+_0x2f3f7e(0x17b)),await this['createBranchIfNotExists'](),await this['sfLogger']['log'](this[_0x2f3f7e(0x177)]+'\x20Checking\x20sync\x20status.')[_0x2f3f7e(0x181)]();const _0x5f2bf6=await this[_0x2f3f7e(0x156)]();this[_0x2f3f7e(0x175)][_0x2f3f7e(0x136)](this['prefix']+_0x2f3f7e(0x16d)+_0x5f2bf6+'.');if(_0x5f2bf6){await this[_0x2f3f7e(0x164)]['setStatus'](this[_0x2f3f7e(0x182)],_0x2f3f7e(0x160)),await this[_0x2f3f7e(0x175)][_0x2f3f7e(0x136)](this['prefix']+_0x2f3f7e(0x154))[_0x2f3f7e(0x181)]();return;}const _0xe080f7=await this[_0x2f3f7e(0x12b)](_0x3928b2);await this[_0x2f3f7e(0x15f)]['run'](_0xe080f7,this[_0x2f3f7e(0x177)]),await this[_0x2f3f7e(0x164)][_0x2f3f7e(0x13f)](this[_0x2f3f7e(0x182)],'Completed'),await this[_0x2f3f7e(0x132)](),this[_0x2f3f7e(0x175)][_0x2f3f7e(0x136)](this['prefix']+_0x2f3f7e(0x168));}catch(_0x19e614){throw _0x19e614;}finally{await this[_0x2f3f7e(0x175)][_0x2f3f7e(0x181)]();}}};function a62_0x2e91(_0x5e1db8,_0x5aef65){const _0x52ab60=a62_0xf017();return a62_0x2e91=function(_0x54054c,_0xac534c){_0x54054c=_0x54054c-0x129;let _0xf0172=_0x52ab60[_0x54054c];return _0xf0172;},a62_0x2e91(_0x5e1db8,_0x5aef65);}FlosumSyncJob=__decorate([typedi_1[a62_0x5e050e(0x17e)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a62_0x5e050e(0x135)],salesforce_service_1[a62_0x5e050e(0x163)],commit_components_job_1[a62_0x5e050e(0x14b)]])],FlosumSyncJob),exports[a62_0x5e050e(0x161)]=FlosumSyncJob;