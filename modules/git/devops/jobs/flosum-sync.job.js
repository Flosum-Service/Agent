function a108_0x2a99(){const _0x23c555=['parse','typedi','Service','../../salesforce/services/salesforce-retriever.service','provider','getComponentsFromRepository','CommitComponentsJob','../../salesforce/services/salesforce.service','../../salesforce/services/salesforce-logger-v3.service','salesforceService','getComponentIds','\x20Update\x20remote\x20state.','4399404OvwrtG','salesforceSync','updateLastCommit','constructor','send','31548lxRtQJ','FlosumSyncJob','retrieveAttachment','metadata','syncData','551105TlaOCi','updateRemoteState','\x20Start\x20Flosum\x20sync\x20job','sha','getOne','../dto/commit-components.dto','length','__metadata','280110jPbXMV','7uvisnT','\x20Checking\x20sync\x20status.','checkSyncStatus','toString','Container','getOwnPropertyDescriptor','search','Sync\x20repository','./commit-components.job','\x20Flosum\x20sync\x20job\x20done.','user','getComponents','commitJob','components','CommitComponentsDto','function','6162981YoalRH','SalesforceRetrieverService','sfLogger','then','45bvezjy','../../salesforce/services/salesforce-sync.service','In\x20Progress','2vZIBQh','getCommitDto','__esModule','branchName','prefix','branches',']\x20[Branch:\x20','setStatus','6ZDwTwp','branch','gitUrl','recordTypeName','recordType','1637768IAXWtF','object','293162eJoPTa','DEFAULT_GIT_USER_NAME','15KBRDCW','SalesforceLogger3','SalesforceService','decorate','name','message','defineProperty','repositoryId','(((.+)+)+)+$','SalesforceSyncService','repository','log','run','Completed','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','__decorate','catch','getBranchComponents','convertToSFDX'];a108_0x2a99=function(){return _0x23c555;};return a108_0x2a99();}const a108_0x3e0c1b=a108_0x3512;(function(_0x37ef99,_0x2637f0){const _0x430702=a108_0x3512,_0x17ccb0=_0x37ef99();while(!![]){try{const _0x503c67=-parseInt(_0x430702(0x150))/0x1*(parseInt(_0x430702(0x15f))/0x2)+-parseInt(_0x430702(0x161))/0x3*(parseInt(_0x430702(0x12b))/0x4)+-parseInt(_0x430702(0x130))/0x5*(-parseInt(_0x430702(0x158))/0x6)+-parseInt(_0x430702(0x139))/0x7*(parseInt(_0x430702(0x15d))/0x8)+parseInt(_0x430702(0x14d))/0x9*(-parseInt(_0x430702(0x138))/0xa)+parseInt(_0x430702(0x149))/0xb+parseInt(_0x430702(0x126))/0xc;if(_0x503c67===_0x2637f0)break;else _0x17ccb0['push'](_0x17ccb0['shift']());}catch(_0x1073fc){_0x17ccb0['push'](_0x17ccb0['shift']());}}}(a108_0x2a99,0x57d38));const a108_0x473514=(function(){let _0x141e66=!![];return function(_0x52f97c,_0x2bbad8){const _0x4944a4=_0x141e66?function(){if(_0x2bbad8){const _0x35538e=_0x2bbad8['apply'](_0x52f97c,arguments);return _0x2bbad8=null,_0x35538e;}}:function(){};return _0x141e66=![],_0x4944a4;};}()),a108_0x4a4d1d=a108_0x473514(this,function(){const _0x462a0e=a108_0x3512;return a108_0x4a4d1d['toString']()['search']('(((.+)+)+)+$')[_0x462a0e(0x13c)]()[_0x462a0e(0x129)](a108_0x4a4d1d)[_0x462a0e(0x13f)](_0x462a0e(0x169));});a108_0x4a4d1d();'use strict';var __decorate=this&&this[a108_0x3e0c1b(0x116)]||function(_0x12b181,_0x4d8257,_0x11be2c,_0x256ff2){const _0x4e90d5=a108_0x3e0c1b;var _0x3afddd=arguments[_0x4e90d5(0x136)],_0x2ac808=_0x3afddd<0x3?_0x4d8257:_0x256ff2===null?_0x256ff2=Object[_0x4e90d5(0x13e)](_0x4d8257,_0x11be2c):_0x256ff2,_0x34837b;if(typeof Reflect===_0x4e90d5(0x15e)&&typeof Reflect[_0x4e90d5(0x164)]===_0x4e90d5(0x148))_0x2ac808=Reflect['decorate'](_0x12b181,_0x4d8257,_0x11be2c,_0x256ff2);else{for(var _0x40d3d9=_0x12b181[_0x4e90d5(0x136)]-0x1;_0x40d3d9>=0x0;_0x40d3d9--)if(_0x34837b=_0x12b181[_0x40d3d9])_0x2ac808=(_0x3afddd<0x3?_0x34837b(_0x2ac808):_0x3afddd>0x3?_0x34837b(_0x4d8257,_0x11be2c,_0x2ac808):_0x34837b(_0x4d8257,_0x11be2c))||_0x2ac808;}return _0x3afddd>0x3&&_0x2ac808&&Object[_0x4e90d5(0x167)](_0x4d8257,_0x11be2c,_0x2ac808),_0x2ac808;},__metadata=this&&this[a108_0x3e0c1b(0x137)]||function(_0x16b27e,_0x90383a){const _0x25753e=a108_0x3e0c1b;if(typeof Reflect==='object'&&typeof Reflect[_0x25753e(0x12e)]==='function')return Reflect[_0x25753e(0x12e)](_0x16b27e,_0x90383a);};function a108_0x3512(_0x25fdb9,_0x20ae39){const _0x278640=a108_0x2a99();return a108_0x3512=function(_0x4a4d1d,_0x473514){_0x4a4d1d=_0x4a4d1d-0x113;let _0x2a99c4=_0x278640[_0x4a4d1d];return _0x2a99c4;},a108_0x3512(_0x25fdb9,_0x20ae39);}Object[a108_0x3e0c1b(0x167)](exports,a108_0x3e0c1b(0x152),{'value':!![]}),exports[a108_0x3e0c1b(0x12c)]=void 0x0;const salesforce_logger_v3_service_1=require(a108_0x3e0c1b(0x122)),typedi_1=require(a108_0x3e0c1b(0x11b)),constants_1=require('../../../../constants'),salesforce_retriever_service_1=require(a108_0x3e0c1b(0x11d)),salesforce_sync_service_1=require(a108_0x3e0c1b(0x14e)),salesforce_service_1=require(a108_0x3e0c1b(0x121)),commit_components_dto_1=require(a108_0x3e0c1b(0x135)),commit_components_job_1=require(a108_0x3e0c1b(0x141));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x555f18,_0xeedb8b,_0x5ba632){const _0x12d00a=a108_0x3e0c1b;this[_0x12d00a(0x127)]=_0x555f18,this[_0x12d00a(0x123)]=_0xeedb8b,this[_0x12d00a(0x145)]=_0x5ba632;}async['createBranchIfNotExists'](){const _0x3d4add=a108_0x3e0c1b;let _0x29e6a6=await this['repository'][_0x3d4add(0x155)][_0x3d4add(0x134)](this['syncData'][_0x3d4add(0x153)])[_0x3d4add(0x117)](()=>null);!_0x29e6a6&&(_0x29e6a6=await this[_0x3d4add(0x16b)][_0x3d4add(0x155)]['create']({'name':this[_0x3d4add(0x12f)][_0x3d4add(0x153)]})),this[_0x3d4add(0x159)]=_0x29e6a6;}async[a108_0x3e0c1b(0x124)](){const _0x1063ff=a108_0x3e0c1b;return this['syncData'][_0x1063ff(0x168)]?this[_0x1063ff(0x127)][_0x1063ff(0x11f)](this[_0x1063ff(0x12f)][_0x1063ff(0x168)]):this[_0x1063ff(0x127)][_0x1063ff(0x118)](this['syncData']['branchId']);}async[a108_0x3e0c1b(0x144)](){const _0x39f5cc=a108_0x3e0c1b,_0x1a29ed=await this[_0x39f5cc(0x124)](),_0x3ee02f=new salesforce_retriever_service_1[(_0x39f5cc(0x14a))](this['salesforceService']),_0x4ed9b8=await _0x3ee02f[_0x39f5cc(0x113)](_0x1a29ed);return _0x4ed9b8;}async[a108_0x3e0c1b(0x151)](_0x9191be){const _0x4c5818=a108_0x3e0c1b,_0x1f990a=new commit_components_dto_1[(_0x4c5818(0x147))]();return _0x1f990a[_0x4c5818(0x166)]=_0x4c5818(0x140),_0x1f990a[_0x4c5818(0x143)]={'name':constants_1[_0x4c5818(0x160)],'email':constants_1['DEFAULT_GIT_USER_EMAIL']},_0x1f990a[_0x4c5818(0x146)]={'writed':await this[_0x4c5818(0x144)]()},_0x1f990a[_0x4c5818(0x119)]=_0x9191be,_0x1f990a['repo']=this[_0x4c5818(0x16b)],_0x1f990a[_0x4c5818(0x159)]=this[_0x4c5818(0x159)],_0x1f990a['force']=!![],_0x1f990a[_0x4c5818(0x11e)]=this['provider'],_0x1f990a[_0x4c5818(0x15c)]=this[_0x4c5818(0x12f)][_0x4c5818(0x15b)],_0x1f990a;}async[a108_0x3e0c1b(0x13b)](){const _0x470eb1=a108_0x3e0c1b,_0x3743c5=await this[_0x470eb1(0x127)]['getRemoteStateAttachmentId'](this[_0x470eb1(0x12f)]),_0x51be9a=await this[_0x470eb1(0x123)][_0x470eb1(0x12d)](_0x3743c5)[_0x470eb1(0x14c)](_0x79e3d4=>typeof _0x79e3d4==='string'?JSON[_0x470eb1(0x11a)](_0x79e3d4):_0x79e3d4)['catch'](()=>({}));if(_0x51be9a[this['repository']['gitUrl']]){if(_0x51be9a[this[_0x470eb1(0x16b)][_0x470eb1(0x15a)]]['lastCommit']===this[_0x470eb1(0x159)][_0x470eb1(0x133)])return!![];}return![];}async[a108_0x3e0c1b(0x128)](){const _0x23a0ca=a108_0x3e0c1b,_0x5a9342=await this[_0x23a0ca(0x16b)][_0x23a0ca(0x155)][_0x23a0ca(0x134)](this[_0x23a0ca(0x159)][_0x23a0ca(0x165)]);await this[_0x23a0ca(0x14b)]['log'](this[_0x23a0ca(0x154)]+_0x23a0ca(0x125));const _0x58f597={[this[_0x23a0ca(0x16b)]['gitUrl']]:{'lastCommit':_0x5a9342[_0x23a0ca(0x133)]}};await this[_0x23a0ca(0x127)][_0x23a0ca(0x131)](this['syncData'],_0x58f597);}async[a108_0x3e0c1b(0x113)]({syncRecord:_0x2be649,repository:_0x118697,convertToSFDX:_0x2f35d5,provider:_0x1d7b45}){const _0x5552ff=a108_0x3e0c1b;this['syncData']=_0x2be649,this[_0x5552ff(0x11e)]=_0x1d7b45,this[_0x5552ff(0x16b)]=_0x118697,this[_0x5552ff(0x14b)]=typedi_1[_0x5552ff(0x13d)]['get'](salesforce_logger_v3_service_1[_0x5552ff(0x162)]),this[_0x5552ff(0x154)]=_0x5552ff(0x115)+this[_0x5552ff(0x12f)]['repositoryName']+_0x5552ff(0x156)+this[_0x5552ff(0x12f)]['branchName']+']';try{await this[_0x5552ff(0x14b)]['log'](this[_0x5552ff(0x154)]+_0x5552ff(0x132))[_0x5552ff(0x12a)](),await this[_0x5552ff(0x127)][_0x5552ff(0x157)](this[_0x5552ff(0x12f)],_0x5552ff(0x14f)),this[_0x5552ff(0x14b)][_0x5552ff(0x16c)](this[_0x5552ff(0x154)]+'\x20Checking\x20repository\x20on\x20Flosum\x20side.'),await this['createBranchIfNotExists'](),await this[_0x5552ff(0x14b)][_0x5552ff(0x16c)](this[_0x5552ff(0x154)]+_0x5552ff(0x13a))[_0x5552ff(0x12a)]();const _0x53f7ff=await this[_0x5552ff(0x13b)]();this[_0x5552ff(0x14b)][_0x5552ff(0x16c)](this[_0x5552ff(0x154)]+'\x20Sync\x20status\x20'+_0x53f7ff+'.');if(_0x53f7ff){await this['salesforceSync'][_0x5552ff(0x157)](this[_0x5552ff(0x12f)],'Completed'),await this[_0x5552ff(0x14b)]['log'](this[_0x5552ff(0x154)]+'\x20Branch\x20synchronized.\x20Skip')[_0x5552ff(0x12a)]();return;}const _0x3b9695=await this[_0x5552ff(0x151)](_0x2f35d5);await this[_0x5552ff(0x145)]['run'](_0x3b9695,this['prefix']),await this[_0x5552ff(0x127)][_0x5552ff(0x157)](this[_0x5552ff(0x12f)],_0x5552ff(0x114)),await this[_0x5552ff(0x128)](),this['sfLogger'][_0x5552ff(0x16c)](this[_0x5552ff(0x154)]+_0x5552ff(0x142));}catch(_0x4a57b0){throw _0x4a57b0;}finally{await this[_0x5552ff(0x14b)][_0x5552ff(0x12a)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a108_0x3e0c1b(0x11c)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a108_0x3e0c1b(0x16a)],salesforce_service_1[a108_0x3e0c1b(0x163)],commit_components_job_1[a108_0x3e0c1b(0x120)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;