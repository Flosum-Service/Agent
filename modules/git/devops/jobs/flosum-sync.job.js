function a126_0x3bd0(_0x5cec1a,_0x305fb8){const _0x13623c=a126_0x16d8();return a126_0x3bd0=function(_0x5edb6b,_0x491ee5){_0x5edb6b=_0x5edb6b-0x100;let _0x16d8a0=_0x13623c[_0x5edb6b];return _0x16d8a0;},a126_0x3bd0(_0x5cec1a,_0x305fb8);}const a126_0x1f86bc=a126_0x3bd0;(function(_0xbc92c1,_0x1f96b4){const _0x1ea381=a126_0x3bd0,_0x25c00c=_0xbc92c1();while(!![]){try{const _0x8f6765=-parseInt(_0x1ea381(0x12b))/0x1+parseInt(_0x1ea381(0x12a))/0x2+-parseInt(_0x1ea381(0x121))/0x3+-parseInt(_0x1ea381(0x124))/0x4*(-parseInt(_0x1ea381(0x12c))/0x5)+parseInt(_0x1ea381(0x14f))/0x6*(-parseInt(_0x1ea381(0x12d))/0x7)+-parseInt(_0x1ea381(0x148))/0x8+parseInt(_0x1ea381(0x11d))/0x9*(parseInt(_0x1ea381(0x123))/0xa);if(_0x8f6765===_0x1f96b4)break;else _0x25c00c['push'](_0x25c00c['shift']());}catch(_0x1bab30){_0x25c00c['push'](_0x25c00c['shift']());}}}(a126_0x16d8,0xc0d8f));const a126_0x491ee5=(function(){let _0x8aff41=!![];return function(_0x2818b4,_0x21fee2){const _0x334022=_0x8aff41?function(){if(_0x21fee2){const _0x4c7aeb=_0x21fee2['apply'](_0x2818b4,arguments);return _0x21fee2=null,_0x4c7aeb;}}:function(){};return _0x8aff41=![],_0x334022;};}()),a126_0x5edb6b=a126_0x491ee5(this,function(){const _0x9ca224=a126_0x3bd0;return a126_0x5edb6b[_0x9ca224(0x11e)]()[_0x9ca224(0x14c)](_0x9ca224(0x10d))[_0x9ca224(0x11e)]()[_0x9ca224(0x108)](a126_0x5edb6b)[_0x9ca224(0x14c)](_0x9ca224(0x10d));});a126_0x5edb6b();'use strict';var __decorate=this&&this[a126_0x1f86bc(0x118)]||function(_0x1602cb,_0x4d0557,_0x5d933e,_0xbeb400){const _0x49d890=a126_0x1f86bc;var _0x122f94=arguments[_0x49d890(0x145)],_0x181725=_0x122f94<0x3?_0x4d0557:_0xbeb400===null?_0xbeb400=Object[_0x49d890(0x119)](_0x4d0557,_0x5d933e):_0xbeb400,_0x18427b;if(typeof Reflect==='object'&&typeof Reflect[_0x49d890(0x14e)]===_0x49d890(0x152))_0x181725=Reflect[_0x49d890(0x14e)](_0x1602cb,_0x4d0557,_0x5d933e,_0xbeb400);else{for(var _0x2e4a69=_0x1602cb[_0x49d890(0x145)]-0x1;_0x2e4a69>=0x0;_0x2e4a69--)if(_0x18427b=_0x1602cb[_0x2e4a69])_0x181725=(_0x122f94<0x3?_0x18427b(_0x181725):_0x122f94>0x3?_0x18427b(_0x4d0557,_0x5d933e,_0x181725):_0x18427b(_0x4d0557,_0x5d933e))||_0x181725;}return _0x122f94>0x3&&_0x181725&&Object[_0x49d890(0x11b)](_0x4d0557,_0x5d933e,_0x181725),_0x181725;},__metadata=this&&this[a126_0x1f86bc(0x109)]||function(_0x562a01,_0x3407ca){const _0x34bef0=a126_0x1f86bc;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x34bef0(0x152))return Reflect['metadata'](_0x562a01,_0x3407ca);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const salesforce_logger_v3_service_1=require(a126_0x1f86bc(0x103)),typedi_1=require(a126_0x1f86bc(0x125)),constants_1=require(a126_0x1f86bc(0x158)),salesforce_retriever_service_1=require(a126_0x1f86bc(0x140)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a126_0x1f86bc(0x101)),commit_components_dto_1=require(a126_0x1f86bc(0x117)),commit_components_job_1=require('./commit-components.job');let FlosumSyncJob=class FlosumSyncJob{constructor(_0x463df1,_0x8cdf1f,_0x86a6d4){const _0x13aef0=a126_0x1f86bc;this[_0x13aef0(0x156)]=_0x463df1,this['salesforceService']=_0x8cdf1f,this[_0x13aef0(0x144)]=_0x86a6d4;}async[a126_0x1f86bc(0x111)](){const _0x582ec9=a126_0x1f86bc;let _0x5230d8=await this['repository']['branches'][_0x582ec9(0x11f)](this[_0x582ec9(0x151)][_0x582ec9(0x139)])[_0x582ec9(0x157)](()=>null);!_0x5230d8&&(_0x5230d8=await this[_0x582ec9(0x127)][_0x582ec9(0x120)][_0x582ec9(0x104)]({'name':this[_0x582ec9(0x151)][_0x582ec9(0x139)]})),this[_0x582ec9(0x147)]=_0x5230d8;}async[a126_0x1f86bc(0x143)](){const _0x958bbf=a126_0x1f86bc;return this[_0x958bbf(0x151)][_0x958bbf(0x13a)]?this[_0x958bbf(0x156)][_0x958bbf(0x11a)](this[_0x958bbf(0x151)][_0x958bbf(0x13a)]):this[_0x958bbf(0x156)][_0x958bbf(0x10f)](this[_0x958bbf(0x151)][_0x958bbf(0x149)]);}async[a126_0x1f86bc(0x11c)](){const _0x35f16d=a126_0x1f86bc,_0x43b2a6=await this['getComponentIds'](),_0x601b17=new salesforce_retriever_service_1[(_0x35f16d(0x10a))](this['salesforceService']),_0x4f2bad=await _0x601b17['run'](_0x43b2a6);return _0x4f2bad;}async['getCommitDto'](_0x137460){const _0xf5a51e=a126_0x1f86bc,_0x607726=new commit_components_dto_1[(_0xf5a51e(0x146))]();return _0x607726[_0xf5a51e(0x13e)]=_0xf5a51e(0x13f),_0x607726[_0xf5a51e(0x113)]={'name':constants_1[_0xf5a51e(0x134)],'email':constants_1[_0xf5a51e(0x136)]},_0x607726[_0xf5a51e(0x135)]={'writed':await this[_0xf5a51e(0x11c)]()},_0x607726['convertToSFDX']=_0x137460,_0x607726[_0xf5a51e(0x13d)]=this[_0xf5a51e(0x127)],_0x607726['branch']=this[_0xf5a51e(0x147)],_0x607726[_0xf5a51e(0x100)]=!![],_0x607726[_0xf5a51e(0x110)]=this[_0xf5a51e(0x110)],_0x607726['recordType']=this[_0xf5a51e(0x151)][_0xf5a51e(0x112)],_0x607726;}async['checkSyncStatus'](){const _0x2398dc=a126_0x1f86bc,_0x2869c8=await this[_0x2398dc(0x156)][_0x2398dc(0x14d)](this['syncData']),_0x42a3dd=await this[_0x2398dc(0x116)][_0x2398dc(0x14b)](_0x2869c8)[_0x2398dc(0x150)](_0x21f20b=>typeof _0x21f20b===_0x2398dc(0x115)?JSON[_0x2398dc(0x122)](_0x21f20b):_0x21f20b)[_0x2398dc(0x157)](()=>({}));if(_0x42a3dd[this[_0x2398dc(0x127)][_0x2398dc(0x131)]]){if(_0x42a3dd[this[_0x2398dc(0x127)][_0x2398dc(0x131)]][_0x2398dc(0x154)]===this[_0x2398dc(0x147)][_0x2398dc(0x137)])return!![];}return![];}async[a126_0x1f86bc(0x159)](){const _0x2b84fc=a126_0x1f86bc,_0x573b5a=await this[_0x2b84fc(0x127)][_0x2b84fc(0x120)]['getOne'](this[_0x2b84fc(0x147)]['name']);await this[_0x2b84fc(0x102)]['log'](this[_0x2b84fc(0x155)]+_0x2b84fc(0x13b));const _0x4cc43d={[this[_0x2b84fc(0x127)][_0x2b84fc(0x131)]]:{'lastCommit':_0x573b5a['sha']}};await this[_0x2b84fc(0x156)][_0x2b84fc(0x105)](this[_0x2b84fc(0x151)],_0x4cc43d);}async['run']({syncRecord:_0x484088,repository:_0x3b4373,convertToSFDX:_0x3efa19,provider:_0x14927e}){const _0x89727c=a126_0x1f86bc;this[_0x89727c(0x151)]=_0x484088,this[_0x89727c(0x110)]=_0x14927e,this[_0x89727c(0x127)]=_0x3b4373,this[_0x89727c(0x102)]=typedi_1[_0x89727c(0x107)][_0x89727c(0x12e)](salesforce_logger_v3_service_1[_0x89727c(0x153)]),this['prefix']=_0x89727c(0x10e)+this['syncData']['repositoryName']+_0x89727c(0x133)+this[_0x89727c(0x151)][_0x89727c(0x139)]+']';try{await this[_0x89727c(0x102)][_0x89727c(0x132)](this[_0x89727c(0x155)]+_0x89727c(0x126))['send'](),await this[_0x89727c(0x156)][_0x89727c(0x15b)](this[_0x89727c(0x151)],'In\x20Progress'),this[_0x89727c(0x102)]['log'](this[_0x89727c(0x155)]+_0x89727c(0x10c)),await this[_0x89727c(0x111)](),await this['sfLogger']['log'](this[_0x89727c(0x155)]+_0x89727c(0x141))['send']();const _0x1bc800=await this[_0x89727c(0x106)]();this['sfLogger'][_0x89727c(0x132)](this[_0x89727c(0x155)]+_0x89727c(0x14a)+_0x1bc800+'.');if(_0x1bc800){await this[_0x89727c(0x156)][_0x89727c(0x15b)](this[_0x89727c(0x151)],_0x89727c(0x142)),await this['sfLogger'][_0x89727c(0x132)](this[_0x89727c(0x155)]+_0x89727c(0x15a))[_0x89727c(0x128)]();return;}const _0x6ecaf=await this[_0x89727c(0x10b)](_0x3efa19);await this[_0x89727c(0x144)][_0x89727c(0x114)](_0x6ecaf,this[_0x89727c(0x155)]),await this[_0x89727c(0x156)][_0x89727c(0x15b)](this['syncData'],_0x89727c(0x142)),await this[_0x89727c(0x159)](),this[_0x89727c(0x102)]['log'](this[_0x89727c(0x155)]+_0x89727c(0x12f));}catch(_0x39f751){throw _0x39f751;}finally{await this[_0x89727c(0x102)][_0x89727c(0x128)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a126_0x1f86bc(0x130)])({'transient':!![]}),__metadata(a126_0x1f86bc(0x138),[salesforce_sync_service_1[a126_0x1f86bc(0x129)],salesforce_service_1[a126_0x1f86bc(0x13c)],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;function a126_0x16d8(){const _0x289f0d=['\x20Branch\x20synchronized.\x20Skip','setStatus','force','../../salesforce/services/salesforce.service','sfLogger','../../salesforce/services/salesforce-logger-v3.service','create','updateRemoteState','checkSyncStatus','Container','constructor','__metadata','SalesforceRetrieverService','getCommitDto','\x20Checking\x20repository\x20on\x20Flosum\x20side.','(((.+)+)+)+$','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','getBranchComponents','provider','createBranchIfNotExists','recordTypeName','user','run','string','salesforceService','../dto/commit-components.dto','__decorate','getOwnPropertyDescriptor','getComponentsFromRepository','defineProperty','getComponents','21446487EiQlle','toString','getOne','branches','4075320nSPCdv','parse','10iXbFnj','217236RYmkvj','typedi','\x20Start\x20Flosum\x20sync\x20job','repository','send','SalesforceSyncService','2930738KGwABI','454039dhxXOK','20TlmNKt','4333448KCFyhG','get','\x20Flosum\x20sync\x20job\x20done.','Service','gitUrl','log',']\x20[Branch:\x20','DEFAULT_GIT_USER_NAME','components','DEFAULT_GIT_USER_EMAIL','sha','design:paramtypes','branchName','repositoryId','\x20Update\x20remote\x20state.','SalesforceService','repo','message','Sync\x20repository','../../salesforce/services/salesforce-retriever.service','\x20Checking\x20sync\x20status.','Completed','getComponentIds','commitJob','length','CommitComponentsDto','branch','1800304IOPUtW','branchId','\x20Sync\x20status\x20','retrieveAttachment','search','getRemoteStateAttachmentId','decorate','12GQFaXL','then','syncData','function','SalesforceLogger3','lastCommit','prefix','salesforceSync','catch','../../../../constants','updateLastCommit'];a126_0x16d8=function(){return _0x289f0d;};return a126_0x16d8();}