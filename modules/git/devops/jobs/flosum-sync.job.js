function a126_0x4abd(){const _0x19449c=['force','DEFAULT_GIT_USER_NAME','lastCommit','decorate','\x20Checking\x20repository\x20on\x20Flosum\x20side.','getRemoteStateAttachmentId','../../salesforce/services/salesforce-logger-v3.service','defineProperty','CommitComponentsDto','3086986BrpNRW','createBranchIfNotExists','search','length','repositoryId','(((.+)+)+)+$','salesforceService','catch','\x20Branch\x20synchronized.\x20Skip','gitUrl','provider','typedi','user','getComponentsFromRepository','2164PRMeYM','components','commitJob','branchName','SalesforceService','../../../../constants','getComponentIds','2649lqczAf','branch','branches','create','object','prefix','DEFAULT_GIT_USER_EMAIL','getBranchComponents','repo','updateRemoteState','Sync\x20repository',']\x20[Branch:\x20','setStatus','__esModule','81XzToyz','sfLogger','6DseMzO','getCommitDto','Completed','../dto/commit-components.dto','function','name','string','In\x20Progress','repository','../../salesforce/services/salesforce-sync.service','retrieveAttachment','636520qxbSzc','SalesforceSyncService','checkSyncStatus','\x20Sync\x20status\x20','salesforceSync','\x20Flosum\x20sync\x20job\x20done.','metadata','sha','\x20Start\x20Flosum\x20sync\x20job','send','run','get','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','348765WsLpkm','FlosumSyncJob','apply','then','updateLastCommit','syncData','\x20Checking\x20sync\x20status.','__decorate','6870QnThBZ','../../salesforce/services/salesforce-retriever.service','2721450SYBWSR','log','../../salesforce/services/salesforce.service','toString','getOne','817670uxaWBd','15565DwhIgL'];a126_0x4abd=function(){return _0x19449c;};return a126_0x4abd();}const a126_0x4ff720=a126_0x3d17;(function(_0x2f08c3,_0x5f2f8c){const _0x52231d=a126_0x3d17,_0x17b208=_0x2f08c3();while(!![]){try{const _0xde6ffe=parseInt(_0x52231d(0xae))/0x1+parseInt(_0x52231d(0xbd))/0x2+-parseInt(_0x52231d(0x86))/0x3*(parseInt(_0x52231d(0xd6))/0x4)+-parseInt(_0x52231d(0xb8))/0x5+parseInt(_0x52231d(0x96))/0x6*(parseInt(_0x52231d(0xc8))/0x7)+-parseInt(_0x52231d(0xa1))/0x8*(parseInt(_0x52231d(0x94))/0x9)+parseInt(_0x52231d(0xb6))/0xa*(parseInt(_0x52231d(0xbe))/0xb);if(_0xde6ffe===_0x5f2f8c)break;else _0x17b208['push'](_0x17b208['shift']());}catch(_0x4f0e91){_0x17b208['push'](_0x17b208['shift']());}}}(a126_0x4abd,0x699f1));const a126_0x3882dc=(function(){let _0x3e928a=!![];return function(_0x4db871,_0x50e38e){const _0x10489a=_0x3e928a?function(){const _0x23ee92=a126_0x3d17;if(_0x50e38e){const _0x3627bc=_0x50e38e[_0x23ee92(0xb0)](_0x4db871,arguments);return _0x50e38e=null,_0x3627bc;}}:function(){};return _0x3e928a=![],_0x10489a;};}()),a126_0x572359=a126_0x3882dc(this,function(){const _0x9c1c96=a126_0x3d17;return a126_0x572359[_0x9c1c96(0xbb)]()[_0x9c1c96(0xca)](_0x9c1c96(0xcd))[_0x9c1c96(0xbb)]()['constructor'](a126_0x572359)[_0x9c1c96(0xca)](_0x9c1c96(0xcd));});a126_0x572359();'use strict';function a126_0x3d17(_0x14f43c,_0x1b7569){const _0x2805f2=a126_0x4abd();return a126_0x3d17=function(_0x572359,_0x3882dc){_0x572359=_0x572359-0x81;let _0x4abdd0=_0x2805f2[_0x572359];return _0x4abdd0;},a126_0x3d17(_0x14f43c,_0x1b7569);}var __decorate=this&&this[a126_0x4ff720(0xb5)]||function(_0x59e3f8,_0xadfcfa,_0x553708,_0x4e9612){const _0x15264e=a126_0x4ff720;var _0x4cd350=arguments['length'],_0x5669a2=_0x4cd350<0x3?_0xadfcfa:_0x4e9612===null?_0x4e9612=Object['getOwnPropertyDescriptor'](_0xadfcfa,_0x553708):_0x4e9612,_0x230661;if(typeof Reflect===_0x15264e(0x8a)&&typeof Reflect[_0x15264e(0xc2)]==='function')_0x5669a2=Reflect['decorate'](_0x59e3f8,_0xadfcfa,_0x553708,_0x4e9612);else{for(var _0x4e1ec3=_0x59e3f8[_0x15264e(0xcb)]-0x1;_0x4e1ec3>=0x0;_0x4e1ec3--)if(_0x230661=_0x59e3f8[_0x4e1ec3])_0x5669a2=(_0x4cd350<0x3?_0x230661(_0x5669a2):_0x4cd350>0x3?_0x230661(_0xadfcfa,_0x553708,_0x5669a2):_0x230661(_0xadfcfa,_0x553708))||_0x5669a2;}return _0x4cd350>0x3&&_0x5669a2&&Object[_0x15264e(0xc6)](_0xadfcfa,_0x553708,_0x5669a2),_0x5669a2;},__metadata=this&&this['__metadata']||function(_0x1e0c9a,_0xa840d9){const _0xe0e62c=a126_0x4ff720;if(typeof Reflect===_0xe0e62c(0x8a)&&typeof Reflect[_0xe0e62c(0xa7)]===_0xe0e62c(0x9a))return Reflect[_0xe0e62c(0xa7)](_0x1e0c9a,_0xa840d9);};Object[a126_0x4ff720(0xc6)](exports,a126_0x4ff720(0x93),{'value':!![]}),exports[a126_0x4ff720(0xaf)]=void 0x0;const salesforce_logger_v3_service_1=require(a126_0x4ff720(0xc5)),typedi_1=require(a126_0x4ff720(0xd3)),constants_1=require(a126_0x4ff720(0x84)),salesforce_retriever_service_1=require(a126_0x4ff720(0xb7)),salesforce_sync_service_1=require(a126_0x4ff720(0x9f)),salesforce_service_1=require(a126_0x4ff720(0xba)),commit_components_dto_1=require(a126_0x4ff720(0x99)),commit_components_job_1=require('./commit-components.job');let FlosumSyncJob=class FlosumSyncJob{constructor(_0x45ed6c,_0x1e73d7,_0x19d93b){const _0x438f02=a126_0x4ff720;this[_0x438f02(0xa5)]=_0x45ed6c,this[_0x438f02(0xce)]=_0x1e73d7,this[_0x438f02(0x81)]=_0x19d93b;}async[a126_0x4ff720(0xc9)](){const _0x4c02f0=a126_0x4ff720;let _0x30d682=await this[_0x4c02f0(0x9e)][_0x4c02f0(0x88)][_0x4c02f0(0xbc)](this[_0x4c02f0(0xb3)][_0x4c02f0(0x82)])[_0x4c02f0(0xcf)](()=>null);!_0x30d682&&(_0x30d682=await this[_0x4c02f0(0x9e)][_0x4c02f0(0x88)][_0x4c02f0(0x89)]({'name':this[_0x4c02f0(0xb3)][_0x4c02f0(0x82)]})),this[_0x4c02f0(0x87)]=_0x30d682;}async['getComponentIds'](){const _0xd6119d=a126_0x4ff720;return this[_0xd6119d(0xb3)]['repositoryId']?this['salesforceSync'][_0xd6119d(0xd5)](this['syncData'][_0xd6119d(0xcc)]):this[_0xd6119d(0xa5)][_0xd6119d(0x8d)](this['syncData']['branchId']);}async['getComponents'](){const _0x22e9ee=a126_0x4ff720,_0x5d6b77=await this[_0x22e9ee(0x85)](),_0x403be7=new salesforce_retriever_service_1['SalesforceRetrieverService'](this[_0x22e9ee(0xce)]),_0x4c4ec5=await _0x403be7[_0x22e9ee(0xab)](_0x5d6b77);return _0x4c4ec5;}async[a126_0x4ff720(0x97)](_0x3d3e57){const _0x58b445=a126_0x4ff720,_0x10c9bd=new commit_components_dto_1[(_0x58b445(0xc7))]();return _0x10c9bd['message']=_0x58b445(0x90),_0x10c9bd[_0x58b445(0xd4)]={'name':constants_1[_0x58b445(0xc0)],'email':constants_1[_0x58b445(0x8c)]},_0x10c9bd[_0x58b445(0xd7)]={'writed':await this['getComponents']()},_0x10c9bd['convertToSFDX']=_0x3d3e57,_0x10c9bd[_0x58b445(0x8e)]=this[_0x58b445(0x9e)],_0x10c9bd[_0x58b445(0x87)]=this['branch'],_0x10c9bd[_0x58b445(0xbf)]=!![],_0x10c9bd[_0x58b445(0xd2)]=this[_0x58b445(0xd2)],_0x10c9bd['recordType']=this[_0x58b445(0xb3)]['recordTypeName'],_0x10c9bd;}async[a126_0x4ff720(0xa3)](){const _0x4c290f=a126_0x4ff720,_0x3c9a77=await this[_0x4c290f(0xa5)][_0x4c290f(0xc4)](this[_0x4c290f(0xb3)]),_0x25dfa8=await this[_0x4c290f(0xce)][_0x4c290f(0xa0)](_0x3c9a77)[_0x4c290f(0xb1)](_0x5994b4=>typeof _0x5994b4===_0x4c290f(0x9c)?JSON['parse'](_0x5994b4):_0x5994b4)['catch'](()=>({}));if(_0x25dfa8[this[_0x4c290f(0x9e)][_0x4c290f(0xd1)]]){if(_0x25dfa8[this['repository'][_0x4c290f(0xd1)]][_0x4c290f(0xc1)]===this[_0x4c290f(0x87)]['sha'])return!![];}return![];}async[a126_0x4ff720(0xb2)](){const _0x3c4cf3=a126_0x4ff720,_0x47f930=await this['repository'][_0x3c4cf3(0x88)][_0x3c4cf3(0xbc)](this['branch'][_0x3c4cf3(0x9b)]);await this['sfLogger']['log'](this[_0x3c4cf3(0x8b)]+'\x20Update\x20remote\x20state.');const _0x204a65={[this[_0x3c4cf3(0x9e)][_0x3c4cf3(0xd1)]]:{'lastCommit':_0x47f930[_0x3c4cf3(0xa8)]}};await this[_0x3c4cf3(0xa5)][_0x3c4cf3(0x8f)](this[_0x3c4cf3(0xb3)],_0x204a65);}async[a126_0x4ff720(0xab)]({syncRecord:_0x5ad028,repository:_0x4de6d1,convertToSFDX:_0x463a57,provider:_0x3dc340}){const _0x5533d8=a126_0x4ff720;this[_0x5533d8(0xb3)]=_0x5ad028,this['provider']=_0x3dc340,this['repository']=_0x4de6d1,this[_0x5533d8(0x95)]=typedi_1['Container'][_0x5533d8(0xac)](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x5533d8(0x8b)]=_0x5533d8(0xad)+this['syncData']['repositoryName']+_0x5533d8(0x91)+this[_0x5533d8(0xb3)][_0x5533d8(0x82)]+']';try{await this[_0x5533d8(0x95)][_0x5533d8(0xb9)](this[_0x5533d8(0x8b)]+_0x5533d8(0xa9))[_0x5533d8(0xaa)](),await this[_0x5533d8(0xa5)][_0x5533d8(0x92)](this[_0x5533d8(0xb3)],_0x5533d8(0x9d)),this['sfLogger']['log'](this[_0x5533d8(0x8b)]+_0x5533d8(0xc3)),await this['createBranchIfNotExists'](),await this['sfLogger'][_0x5533d8(0xb9)](this[_0x5533d8(0x8b)]+_0x5533d8(0xb4))[_0x5533d8(0xaa)]();const _0x359288=await this[_0x5533d8(0xa3)]();this[_0x5533d8(0x95)][_0x5533d8(0xb9)](this[_0x5533d8(0x8b)]+_0x5533d8(0xa4)+_0x359288+'.');if(_0x359288){await this[_0x5533d8(0xa5)][_0x5533d8(0x92)](this[_0x5533d8(0xb3)],'Completed'),await this[_0x5533d8(0x95)]['log'](this['prefix']+_0x5533d8(0xd0))[_0x5533d8(0xaa)]();return;}const _0x29e577=await this[_0x5533d8(0x97)](_0x463a57);await this[_0x5533d8(0x81)][_0x5533d8(0xab)](_0x29e577,this[_0x5533d8(0x8b)]),await this[_0x5533d8(0xa5)][_0x5533d8(0x92)](this[_0x5533d8(0xb3)],_0x5533d8(0x98)),await this['updateLastCommit'](),this[_0x5533d8(0x95)][_0x5533d8(0xb9)](this[_0x5533d8(0x8b)]+_0x5533d8(0xa6));}catch(_0x4a1bd2){throw _0x4a1bd2;}finally{await this[_0x5533d8(0x95)][_0x5533d8(0xaa)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a126_0x4ff720(0xa2)],salesforce_service_1[a126_0x4ff720(0x83)],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports[a126_0x4ff720(0xaf)]=FlosumSyncJob;