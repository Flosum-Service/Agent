function a106_0x12d9(_0x40f76e,_0x3d8ff2){const _0x3527fa=a106_0x5ad2();return a106_0x12d9=function(_0x5e1898,_0x31431){_0x5e1898=_0x5e1898-0x1ed;let _0x5ad28d=_0x3527fa[_0x5e1898];return _0x5ad28d;},a106_0x12d9(_0x40f76e,_0x3d8ff2);}const a106_0x5b13c6=a106_0x12d9;(function(_0xd9a191,_0x3c5291){const _0x55dce3=a106_0x12d9,_0x31159c=_0xd9a191();while(!![]){try{const _0x5946d4=-parseInt(_0x55dce3(0x210))/0x1+-parseInt(_0x55dce3(0x221))/0x2+-parseInt(_0x55dce3(0x225))/0x3*(-parseInt(_0x55dce3(0x22b))/0x4)+-parseInt(_0x55dce3(0x236))/0x5*(-parseInt(_0x55dce3(0x1f3))/0x6)+-parseInt(_0x55dce3(0x22a))/0x7*(-parseInt(_0x55dce3(0x211))/0x8)+-parseInt(_0x55dce3(0x22e))/0x9+parseInt(_0x55dce3(0x219))/0xa*(parseInt(_0x55dce3(0x230))/0xb);if(_0x5946d4===_0x3c5291)break;else _0x31159c['push'](_0x31159c['shift']());}catch(_0x497d5f){_0x31159c['push'](_0x31159c['shift']());}}}(a106_0x5ad2,0x40022));const a106_0x31431=(function(){let _0x661557=!![];return function(_0x54b1f4,_0x1ac8d6){const _0x414cc3=_0x661557?function(){if(_0x1ac8d6){const _0x176646=_0x1ac8d6['apply'](_0x54b1f4,arguments);return _0x1ac8d6=null,_0x176646;}}:function(){};return _0x661557=![],_0x414cc3;};}()),a106_0x5e1898=a106_0x31431(this,function(){const _0x4469c4=a106_0x12d9;return a106_0x5e1898[_0x4469c4(0x248)]()['search'](_0x4469c4(0x22c))['toString']()[_0x4469c4(0x227)](a106_0x5e1898)[_0x4469c4(0x21c)](_0x4469c4(0x22c));});function a106_0x5ad2(){const _0x145f19=['repo','sfLogger','salesforceService','getOwnPropertyDescriptor','../../salesforce/services/salesforce-retriever.service','repositoryId','decorate','commitJob','../../salesforce/services/salesforce-logger-v3.service','salesforceSync','DEFAULT_GIT_USER_EMAIL','createBranchIfNotExists','setStatus','function','toString','\x20Update\x20remote\x20state.','prefix','name','defineProperty','sha','getOne','Container','__metadata','3444DdstvR','retrieveAttachment','message','getComponents','typedi','../../salesforce/services/salesforce.service','then','repository','send','getComponentIds','../../salesforce/services/salesforce-sync.service','updateLastCommit','run','gitUrl','\x20Checking\x20repository\x20on\x20Flosum\x20side.','SalesforceService','lastCommit','length','branch','checkSyncStatus','get','branchName','string','object','syncData','\x20Branch\x20synchronized.\x20Skip','SalesforceRetrieverService','getCommitDto','metadata','308125mkgHhc','64RDGqvb','branchId','Sync\x20repository','__decorate','\x20Sync\x20status\x20','SalesforceSyncService','SalesforceLogger3','catch','1790610OJFPGX','repositoryName','CommitComponentsJob','search','CommitComponentsDto','\x20Flosum\x20sync\x20job\x20done.','FlosumSyncJob','__esModule','744934itaIxG','../../../../constants','updateRemoteState','DEFAULT_GIT_USER_NAME','711174cEPwKa','Service','constructor','branches','Completed','26376pjdfLo','4ATuCgU','(((.+)+)+)+$','../dto/commit-components.dto','2483901bwwgbG','./commit-components.job','55aoyQaM','\x20Start\x20Flosum\x20sync\x20job','parse','log','design:paramtypes','\x20Checking\x20sync\x20status.','490PFnYCj','provider','In\x20Progress',']\x20[Branch:\x20'];a106_0x5ad2=function(){return _0x145f19;};return a106_0x5ad2();}a106_0x5e1898();'use strict';var __decorate=this&&this[a106_0x5b13c6(0x214)]||function(_0x5b4aec,_0x33a6eb,_0x219e67,_0x17421d){const _0xce9721=a106_0x5b13c6;var _0x1d9d58=arguments[_0xce9721(0x204)],_0x25ed6e=_0x1d9d58<0x3?_0x33a6eb:_0x17421d===null?_0x17421d=Object[_0xce9721(0x23d)](_0x33a6eb,_0x219e67):_0x17421d,_0x1d419f;if(typeof Reflect===_0xce9721(0x20a)&&typeof Reflect['decorate']===_0xce9721(0x247))_0x25ed6e=Reflect[_0xce9721(0x240)](_0x5b4aec,_0x33a6eb,_0x219e67,_0x17421d);else{for(var _0x3f8f67=_0x5b4aec[_0xce9721(0x204)]-0x1;_0x3f8f67>=0x0;_0x3f8f67--)if(_0x1d419f=_0x5b4aec[_0x3f8f67])_0x25ed6e=(_0x1d9d58<0x3?_0x1d419f(_0x25ed6e):_0x1d9d58>0x3?_0x1d419f(_0x33a6eb,_0x219e67,_0x25ed6e):_0x1d419f(_0x33a6eb,_0x219e67))||_0x25ed6e;}return _0x1d9d58>0x3&&_0x25ed6e&&Object[_0xce9721(0x1ee)](_0x33a6eb,_0x219e67,_0x25ed6e),_0x25ed6e;},__metadata=this&&this[a106_0x5b13c6(0x1f2)]||function(_0x3203bb,_0x28cc9b){const _0x455509=a106_0x5b13c6;if(typeof Reflect===_0x455509(0x20a)&&typeof Reflect[_0x455509(0x20f)]===_0x455509(0x247))return Reflect[_0x455509(0x20f)](_0x3203bb,_0x28cc9b);};Object['defineProperty'](exports,a106_0x5b13c6(0x220),{'value':!![]}),exports[a106_0x5b13c6(0x21f)]=void 0x0;const salesforce_logger_v3_service_1=require(a106_0x5b13c6(0x242)),typedi_1=require(a106_0x5b13c6(0x1f7)),constants_1=require(a106_0x5b13c6(0x222)),salesforce_retriever_service_1=require(a106_0x5b13c6(0x23e)),salesforce_sync_service_1=require(a106_0x5b13c6(0x1fd)),salesforce_service_1=require(a106_0x5b13c6(0x1f8)),commit_components_dto_1=require(a106_0x5b13c6(0x22d)),commit_components_job_1=require(a106_0x5b13c6(0x22f));let FlosumSyncJob=class FlosumSyncJob{constructor(_0xc8ad6b,_0x35f66,_0x3d0db1){const _0x530344=a106_0x5b13c6;this[_0x530344(0x243)]=_0xc8ad6b,this[_0x530344(0x23c)]=_0x35f66,this[_0x530344(0x241)]=_0x3d0db1;}async[a106_0x5b13c6(0x245)](){const _0x21cefe=a106_0x5b13c6;let _0x4b433d=await this[_0x21cefe(0x1fa)][_0x21cefe(0x228)]['getOne'](this['syncData'][_0x21cefe(0x208)])[_0x21cefe(0x218)](()=>null);!_0x4b433d&&(_0x4b433d=await this['repository']['branches']['create']({'name':this[_0x21cefe(0x20b)][_0x21cefe(0x208)]})),this[_0x21cefe(0x205)]=_0x4b433d;}async[a106_0x5b13c6(0x1fc)](){const _0x1053d8=a106_0x5b13c6;return this[_0x1053d8(0x20b)][_0x1053d8(0x23f)]?this[_0x1053d8(0x243)]['getComponentsFromRepository'](this['syncData'][_0x1053d8(0x23f)]):this['salesforceSync']['getBranchComponents'](this[_0x1053d8(0x20b)][_0x1053d8(0x212)]);}async[a106_0x5b13c6(0x1f6)](){const _0x25adca=a106_0x5b13c6,_0x82645e=await this[_0x25adca(0x1fc)](),_0x445fa5=new salesforce_retriever_service_1[(_0x25adca(0x20d))](this[_0x25adca(0x23c)]),_0x27d089=await _0x445fa5[_0x25adca(0x1ff)](_0x82645e);return _0x27d089;}async[a106_0x5b13c6(0x20e)](_0x4d5cee){const _0x41cd33=a106_0x5b13c6,_0x176ff2=new commit_components_dto_1[(_0x41cd33(0x21d))]();return _0x176ff2[_0x41cd33(0x1f5)]=_0x41cd33(0x213),_0x176ff2['user']={'name':constants_1[_0x41cd33(0x224)],'email':constants_1[_0x41cd33(0x244)]},_0x176ff2['components']={'writed':await this[_0x41cd33(0x1f6)]()},_0x176ff2['convertToSFDX']=_0x4d5cee,_0x176ff2[_0x41cd33(0x23a)]=this[_0x41cd33(0x1fa)],_0x176ff2['branch']=this[_0x41cd33(0x205)],_0x176ff2['force']=!![],_0x176ff2['provider']=this[_0x41cd33(0x237)],_0x176ff2;}async['checkSyncStatus'](){const _0x31fbff=a106_0x5b13c6,_0x265341=await this[_0x31fbff(0x243)]['getRemoteStateAttachmentId'](this[_0x31fbff(0x20b)]),_0x2be0c1=await this['salesforceService'][_0x31fbff(0x1f4)](_0x265341)[_0x31fbff(0x1f9)](_0x16ab82=>typeof _0x16ab82===_0x31fbff(0x209)?JSON[_0x31fbff(0x232)](_0x16ab82):_0x16ab82)[_0x31fbff(0x218)](()=>({}));if(_0x2be0c1[this[_0x31fbff(0x1fa)][_0x31fbff(0x200)]]){if(_0x2be0c1[this[_0x31fbff(0x1fa)][_0x31fbff(0x200)]][_0x31fbff(0x203)]===this[_0x31fbff(0x205)][_0x31fbff(0x1ef)])return!![];}return![];}async[a106_0x5b13c6(0x1fe)](){const _0x1afae3=a106_0x5b13c6,_0x418f7c=await this['repository']['branches'][_0x1afae3(0x1f0)](this[_0x1afae3(0x205)][_0x1afae3(0x1ed)]);await this['sfLogger'][_0x1afae3(0x233)](this['prefix']+_0x1afae3(0x249));const _0x2e9457={[this[_0x1afae3(0x1fa)][_0x1afae3(0x200)]]:{'lastCommit':_0x418f7c['sha']}};await this[_0x1afae3(0x243)][_0x1afae3(0x223)](this['syncData'],_0x2e9457);}async[a106_0x5b13c6(0x1ff)]({syncRecord:_0x3acea1,repository:_0x15933e,convertToSFDX:_0x465b6b,provider:_0x2326a0}){const _0x8893e5=a106_0x5b13c6;this[_0x8893e5(0x20b)]=_0x3acea1,this[_0x8893e5(0x237)]=_0x2326a0,this[_0x8893e5(0x1fa)]=_0x15933e,this[_0x8893e5(0x23b)]=typedi_1[_0x8893e5(0x1f1)][_0x8893e5(0x207)](salesforce_logger_v3_service_1[_0x8893e5(0x217)]),this[_0x8893e5(0x24a)]='[FLOSUM\x20->\x20GIT]\x20[Repository:\x20'+this[_0x8893e5(0x20b)][_0x8893e5(0x21a)]+_0x8893e5(0x239)+this['syncData'][_0x8893e5(0x208)]+']';try{await this[_0x8893e5(0x23b)]['log'](this['prefix']+_0x8893e5(0x231))[_0x8893e5(0x1fb)](),await this[_0x8893e5(0x243)]['setStatus'](this['syncData'],_0x8893e5(0x238)),this[_0x8893e5(0x23b)][_0x8893e5(0x233)](this[_0x8893e5(0x24a)]+_0x8893e5(0x201)),await this[_0x8893e5(0x245)](),await this[_0x8893e5(0x23b)][_0x8893e5(0x233)](this[_0x8893e5(0x24a)]+_0x8893e5(0x235))[_0x8893e5(0x1fb)]();const _0x4f892e=await this[_0x8893e5(0x206)]();this['sfLogger'][_0x8893e5(0x233)](this[_0x8893e5(0x24a)]+_0x8893e5(0x215)+_0x4f892e+'.');if(_0x4f892e){await this[_0x8893e5(0x243)][_0x8893e5(0x246)](this['syncData'],_0x8893e5(0x229)),await this[_0x8893e5(0x23b)][_0x8893e5(0x233)](this['prefix']+_0x8893e5(0x20c))[_0x8893e5(0x1fb)]();return;}const _0x425672=await this[_0x8893e5(0x20e)](_0x465b6b);await this[_0x8893e5(0x241)][_0x8893e5(0x1ff)](_0x425672,this[_0x8893e5(0x24a)]),await this[_0x8893e5(0x243)][_0x8893e5(0x246)](this[_0x8893e5(0x20b)],_0x8893e5(0x229)),await this['updateLastCommit'](),this[_0x8893e5(0x23b)][_0x8893e5(0x233)](this['prefix']+_0x8893e5(0x21e));}catch(_0x58974f){throw _0x58974f;}finally{await this['sfLogger'][_0x8893e5(0x1fb)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a106_0x5b13c6(0x226)])({'transient':!![]}),__metadata(a106_0x5b13c6(0x234),[salesforce_sync_service_1[a106_0x5b13c6(0x216)],salesforce_service_1[a106_0x5b13c6(0x202)],commit_components_job_1[a106_0x5b13c6(0x21b)]])],FlosumSyncJob),exports[a106_0x5b13c6(0x21f)]=FlosumSyncJob;