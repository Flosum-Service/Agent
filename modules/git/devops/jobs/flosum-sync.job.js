const a125_0x349a0f=a125_0x4bbf;(function(_0x533a9b,_0x3b6963){const _0x1decd7=a125_0x4bbf,_0x28d964=_0x533a9b();while(!![]){try{const _0x22b1f3=parseInt(_0x1decd7(0x21f))/0x1+-parseInt(_0x1decd7(0x214))/0x2*(-parseInt(_0x1decd7(0x240))/0x3)+-parseInt(_0x1decd7(0x1f7))/0x4*(parseInt(_0x1decd7(0x211))/0x5)+parseInt(_0x1decd7(0x225))/0x6*(-parseInt(_0x1decd7(0x212))/0x7)+parseInt(_0x1decd7(0x21b))/0x8+-parseInt(_0x1decd7(0x24c))/0x9*(-parseInt(_0x1decd7(0x202))/0xa)+-parseInt(_0x1decd7(0x224))/0xb*(parseInt(_0x1decd7(0x229))/0xc);if(_0x22b1f3===_0x3b6963)break;else _0x28d964['push'](_0x28d964['shift']());}catch(_0x200f5f){_0x28d964['push'](_0x28d964['shift']());}}}(a125_0x8264,0xb072e));const a125_0x4097a6=(function(){let _0x2cdd1a=!![];return function(_0x49dbb0,_0x45f2d2){const _0x40fc6b=_0x2cdd1a?function(){const _0x4f5ae3=a125_0x4bbf;if(_0x45f2d2){const _0x134027=_0x45f2d2[_0x4f5ae3(0x22d)](_0x49dbb0,arguments);return _0x45f2d2=null,_0x134027;}}:function(){};return _0x2cdd1a=![],_0x40fc6b;};}()),a125_0x2d1e91=a125_0x4097a6(this,function(){const _0x25ad67=a125_0x4bbf;return a125_0x2d1e91[_0x25ad67(0x242)]()['search'](_0x25ad67(0x207))[_0x25ad67(0x242)]()['constructor'](a125_0x2d1e91)['search'](_0x25ad67(0x207));});a125_0x2d1e91();function a125_0x4bbf(_0x14a930,_0xd19071){const _0x52c0ca=a125_0x8264();return a125_0x4bbf=function(_0x2d1e91,_0x4097a6){_0x2d1e91=_0x2d1e91-0x1f0;let _0x8264ef=_0x52c0ca[_0x2d1e91];return _0x8264ef;},a125_0x4bbf(_0x14a930,_0xd19071);}'use strict';function a125_0x8264(){const _0xfabf88=['run','repo','provider','Service','36160fQdsAp','getComponentsFromRepository','CommitComponentsJob','../../../../constants','../../salesforce/services/salesforce.service','(((.+)+)+)+$','SalesforceRetrieverService','gitUrl','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','branch','user','\x20Sync\x20status\x20','\x20Flosum\x20sync\x20job\x20done.','updateLastCommit','salesforceService','405eFNyyK','28HbirSk','SalesforceLogger3','156812csNfoT','log','convertToSFDX','\x20Checking\x20repository\x20on\x20Flosum\x20side.','decorate','getBranchComponents','getComponents','4242992lXVUvu','branchId','message','../dto/commit-components.dto','1392695qqJzkz','branchName','defineProperty','repositoryName','send','3874673QUJbPP','1926498DHhgTY','updateRemoteState','repositoryId','metadata','48vTCjVw','\x20Update\x20remote\x20state.','name','prefix','apply','Sync\x20repository','function','../../salesforce/services/salesforce-retriever.service','retrieveAttachment','force','SalesforceService','checkSyncStatus','commitJob','Container','parse','typedi','repository','recordType','branches','getOne','Completed','syncData','../../salesforce/services/salesforce-sync.service','18MNFLEr','getRemoteStateAttachmentId','toString','__esModule','salesforceSync','SalesforceSyncService','getOwnPropertyDescriptor','getCommitDto','DEFAULT_GIT_USER_NAME','length','recordTypeName','./commit-components.job','2844nxIHHb','object','setStatus','createBranchIfNotExists','catch','getComponentIds','__decorate','In\x20Progress','create','5932IYFCkx',']\x20[Branch:\x20','CommitComponentsDto','FlosumSyncJob','then','sha','sfLogger'];a125_0x8264=function(){return _0xfabf88;};return a125_0x8264();}var __decorate=this&&this[a125_0x349a0f(0x1f4)]||function(_0x11d91d,_0x2e50be,_0x30ac78,_0x43b446){const _0x55846c=a125_0x349a0f;var _0x17cec9=arguments[_0x55846c(0x249)],_0x10a92e=_0x17cec9<0x3?_0x2e50be:_0x43b446===null?_0x43b446=Object[_0x55846c(0x246)](_0x2e50be,_0x30ac78):_0x43b446,_0x210978;if(typeof Reflect===_0x55846c(0x24d)&&typeof Reflect[_0x55846c(0x218)]==='function')_0x10a92e=Reflect[_0x55846c(0x218)](_0x11d91d,_0x2e50be,_0x30ac78,_0x43b446);else{for(var _0x36e3ce=_0x11d91d['length']-0x1;_0x36e3ce>=0x0;_0x36e3ce--)if(_0x210978=_0x11d91d[_0x36e3ce])_0x10a92e=(_0x17cec9<0x3?_0x210978(_0x10a92e):_0x17cec9>0x3?_0x210978(_0x2e50be,_0x30ac78,_0x10a92e):_0x210978(_0x2e50be,_0x30ac78))||_0x10a92e;}return _0x17cec9>0x3&&_0x10a92e&&Object[_0x55846c(0x221)](_0x2e50be,_0x30ac78,_0x10a92e),_0x10a92e;},__metadata=this&&this['__metadata']||function(_0x3135b0,_0x4e801f){const _0x5350e4=a125_0x349a0f;if(typeof Reflect===_0x5350e4(0x24d)&&typeof Reflect['metadata']===_0x5350e4(0x22f))return Reflect[_0x5350e4(0x228)](_0x3135b0,_0x4e801f);};Object['defineProperty'](exports,a125_0x349a0f(0x243),{'value':!![]}),exports[a125_0x349a0f(0x1fa)]=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require(a125_0x349a0f(0x238)),constants_1=require(a125_0x349a0f(0x205)),salesforce_retriever_service_1=require(a125_0x349a0f(0x230)),salesforce_sync_service_1=require(a125_0x349a0f(0x23f)),salesforce_service_1=require(a125_0x349a0f(0x206)),commit_components_dto_1=require(a125_0x349a0f(0x21e)),commit_components_job_1=require(a125_0x349a0f(0x24b));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x22d543,_0x33d90e,_0x608e1d){const _0x52b13a=a125_0x349a0f;this[_0x52b13a(0x244)]=_0x22d543,this[_0x52b13a(0x210)]=_0x33d90e,this[_0x52b13a(0x235)]=_0x608e1d;}async[a125_0x349a0f(0x1f1)](){const _0x1a05d2=a125_0x349a0f;let _0x40787b=await this[_0x1a05d2(0x239)]['branches'][_0x1a05d2(0x23c)](this['syncData'][_0x1a05d2(0x220)])[_0x1a05d2(0x1f2)](()=>null);!_0x40787b&&(_0x40787b=await this[_0x1a05d2(0x239)][_0x1a05d2(0x23b)][_0x1a05d2(0x1f6)]({'name':this[_0x1a05d2(0x23e)]['branchName']})),this[_0x1a05d2(0x20b)]=_0x40787b;}async[a125_0x349a0f(0x1f3)](){const _0x12b9f0=a125_0x349a0f;return this['syncData'][_0x12b9f0(0x227)]?this[_0x12b9f0(0x244)][_0x12b9f0(0x203)](this['syncData'][_0x12b9f0(0x227)]):this['salesforceSync'][_0x12b9f0(0x219)](this['syncData'][_0x12b9f0(0x21c)]);}async[a125_0x349a0f(0x21a)](){const _0xccc26f=a125_0x349a0f,_0x2403d6=await this[_0xccc26f(0x1f3)](),_0x4cb9d5=new salesforce_retriever_service_1[(_0xccc26f(0x208))](this[_0xccc26f(0x210)]),_0x3b592b=await _0x4cb9d5[_0xccc26f(0x1fe)](_0x2403d6);return _0x3b592b;}async[a125_0x349a0f(0x247)](_0x58a979){const _0x1e50e5=a125_0x349a0f,_0x17e39a=new commit_components_dto_1[(_0x1e50e5(0x1f9))]();return _0x17e39a[_0x1e50e5(0x21d)]=_0x1e50e5(0x22e),_0x17e39a[_0x1e50e5(0x20c)]={'name':constants_1[_0x1e50e5(0x248)],'email':constants_1['DEFAULT_GIT_USER_EMAIL']},_0x17e39a['components']={'writed':await this[_0x1e50e5(0x21a)]()},_0x17e39a[_0x1e50e5(0x216)]=_0x58a979,_0x17e39a[_0x1e50e5(0x1ff)]=this[_0x1e50e5(0x239)],_0x17e39a[_0x1e50e5(0x20b)]=this[_0x1e50e5(0x20b)],_0x17e39a[_0x1e50e5(0x232)]=!![],_0x17e39a['provider']=this['provider'],_0x17e39a[_0x1e50e5(0x23a)]=this[_0x1e50e5(0x23e)][_0x1e50e5(0x24a)],_0x17e39a;}async['checkSyncStatus'](){const _0x49d83f=a125_0x349a0f,_0x276a57=await this[_0x49d83f(0x244)][_0x49d83f(0x241)](this[_0x49d83f(0x23e)]),_0xae738e=await this[_0x49d83f(0x210)][_0x49d83f(0x231)](_0x276a57)[_0x49d83f(0x1fb)](_0x339577=>typeof _0x339577==='string'?JSON[_0x49d83f(0x237)](_0x339577):_0x339577)['catch'](()=>({}));if(_0xae738e[this[_0x49d83f(0x239)][_0x49d83f(0x209)]]){if(_0xae738e[this[_0x49d83f(0x239)][_0x49d83f(0x209)]]['lastCommit']===this[_0x49d83f(0x20b)][_0x49d83f(0x1fc)])return!![];}return![];}async[a125_0x349a0f(0x20f)](){const _0x381166=a125_0x349a0f,_0x4aa0c8=await this[_0x381166(0x239)]['branches'][_0x381166(0x23c)](this[_0x381166(0x20b)][_0x381166(0x22b)]);await this['sfLogger'][_0x381166(0x215)](this[_0x381166(0x22c)]+_0x381166(0x22a));const _0x47c6ca={[this['repository']['gitUrl']]:{'lastCommit':_0x4aa0c8[_0x381166(0x1fc)]}};await this[_0x381166(0x244)][_0x381166(0x226)](this[_0x381166(0x23e)],_0x47c6ca);}async[a125_0x349a0f(0x1fe)]({syncRecord:_0x550abb,repository:_0x26d4f8,convertToSFDX:_0x58460d,provider:_0x3e7691}){const _0x41611b=a125_0x349a0f;this[_0x41611b(0x23e)]=_0x550abb,this[_0x41611b(0x200)]=_0x3e7691,this[_0x41611b(0x239)]=_0x26d4f8,this[_0x41611b(0x1fd)]=typedi_1[_0x41611b(0x236)]['get'](salesforce_logger_v3_service_1[_0x41611b(0x213)]),this[_0x41611b(0x22c)]=_0x41611b(0x20a)+this['syncData'][_0x41611b(0x222)]+_0x41611b(0x1f8)+this[_0x41611b(0x23e)][_0x41611b(0x220)]+']';try{await this[_0x41611b(0x1fd)][_0x41611b(0x215)](this[_0x41611b(0x22c)]+'\x20Start\x20Flosum\x20sync\x20job')[_0x41611b(0x223)](),await this[_0x41611b(0x244)]['setStatus'](this['syncData'],_0x41611b(0x1f5)),this[_0x41611b(0x1fd)][_0x41611b(0x215)](this['prefix']+_0x41611b(0x217)),await this[_0x41611b(0x1f1)](),await this[_0x41611b(0x1fd)][_0x41611b(0x215)](this[_0x41611b(0x22c)]+'\x20Checking\x20sync\x20status.')[_0x41611b(0x223)]();const _0x9c5198=await this[_0x41611b(0x234)]();this[_0x41611b(0x1fd)][_0x41611b(0x215)](this[_0x41611b(0x22c)]+_0x41611b(0x20d)+_0x9c5198+'.');if(_0x9c5198){await this[_0x41611b(0x244)][_0x41611b(0x1f0)](this[_0x41611b(0x23e)],_0x41611b(0x23d)),await this[_0x41611b(0x1fd)][_0x41611b(0x215)](this[_0x41611b(0x22c)]+'\x20Branch\x20synchronized.\x20Skip')[_0x41611b(0x223)]();return;}const _0x436153=await this[_0x41611b(0x247)](_0x58460d);await this[_0x41611b(0x235)][_0x41611b(0x1fe)](_0x436153,this[_0x41611b(0x22c)]),await this['salesforceSync'][_0x41611b(0x1f0)](this[_0x41611b(0x23e)],_0x41611b(0x23d)),await this[_0x41611b(0x20f)](),this[_0x41611b(0x1fd)][_0x41611b(0x215)](this[_0x41611b(0x22c)]+_0x41611b(0x20e));}catch(_0x3a10b1){throw _0x3a10b1;}finally{await this[_0x41611b(0x1fd)][_0x41611b(0x223)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a125_0x349a0f(0x201)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a125_0x349a0f(0x245)],salesforce_service_1[a125_0x349a0f(0x233)],commit_components_job_1[a125_0x349a0f(0x204)]])],FlosumSyncJob),exports[a125_0x349a0f(0x1fa)]=FlosumSyncJob;