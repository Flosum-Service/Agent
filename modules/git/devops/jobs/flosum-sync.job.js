function a125_0x4deb(_0x26753c,_0x3f2744){const _0x35ace1=a125_0x1b2c();return a125_0x4deb=function(_0x3ae72b,_0x4a3d51){_0x3ae72b=_0x3ae72b-0x8f;let _0x1b2ccc=_0x35ace1[_0x3ae72b];return _0x1b2ccc;},a125_0x4deb(_0x26753c,_0x3f2744);}function a125_0x1b2c(){const _0x16430a=['__esModule','apply','(((.+)+)+)+$','DEFAULT_GIT_USER_EMAIL','FlosumSyncJob','toString','getOwnPropertyDescriptor','then','__metadata','16lyEgMp','24YNLgcN','../../salesforce/services/salesforce-sync.service','object','\x20Sync\x20status\x20','user','branch','2696547GsMcMj','recordType','checkSyncStatus','\x20Update\x20remote\x20state.','updateRemoteState','provider','../../salesforce/services/salesforce.service','log','salesforceSync','search','decorate','sfLogger','getCommitDto','CommitComponentsJob','610pwBaes','./commit-components.job','repository','createBranchIfNotExists','getBranchComponents','get','branchName','SalesforceLogger3','SalesforceService','\x20Checking\x20sync\x20status.','getOne','DEFAULT_GIT_USER_NAME','message','lastCommit','\x20Branch\x20synchronized.\x20Skip','getComponentsFromRepository','529047mYANfX','getComponents','In\x20Progress','branchId','metadata','repositoryId','components','getRemoteStateAttachmentId','force','updateLastCommit','5921010QNBbuO','setStatus','__decorate','run','266967CyCZEX','175440KshytD','28853TCyTiA','defineProperty','salesforceService','branches','\x20Start\x20Flosum\x20sync\x20job','catch','Container','6AZatHe','../dto/commit-components.dto','prefix','\x20Flosum\x20sync\x20job\x20done.','send','../../salesforce/services/salesforce-retriever.service','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','constructor','length','SalesforceRetrieverService','3297545RTnGVc','gitUrl','create','commitJob','retrieveAttachment','getComponentIds','../../../../constants','Service','string','function',']\x20[Branch:\x20','syncData'];a125_0x1b2c=function(){return _0x16430a;};return a125_0x1b2c();}const a125_0x4b4354=a125_0x4deb;(function(_0x2ad6b2,_0x40e61f){const _0x483c14=a125_0x4deb,_0x2d0c00=_0x2ad6b2();while(!![]){try{const _0x5599ae=parseInt(_0x483c14(0xc9))/0x1+-parseInt(_0x483c14(0xa4))/0x2*(parseInt(_0x483c14(0xd7))/0x3)+parseInt(_0x483c14(0xd8))/0x4+-parseInt(_0x483c14(0x8f))/0x5*(parseInt(_0x483c14(0xe0))/0x6)+-parseInt(_0x483c14(0xab))/0x7*(-parseInt(_0x483c14(0xa5))/0x8)+parseInt(_0x483c14(0xd3))/0x9+-parseInt(_0x483c14(0xb9))/0xa*(parseInt(_0x483c14(0xd9))/0xb);if(_0x5599ae===_0x40e61f)break;else _0x2d0c00['push'](_0x2d0c00['shift']());}catch(_0x3a6a57){_0x2d0c00['push'](_0x2d0c00['shift']());}}}(a125_0x1b2c,0xd0bfc));const a125_0x4a3d51=(function(){let _0x12ee9e=!![];return function(_0x4190f9,_0x3ad999){const _0x4d5866=_0x12ee9e?function(){const _0x5a3454=a125_0x4deb;if(_0x3ad999){const _0x59b7d2=_0x3ad999[_0x5a3454(0x9c)](_0x4190f9,arguments);return _0x3ad999=null,_0x59b7d2;}}:function(){};return _0x12ee9e=![],_0x4d5866;};}()),a125_0x3ae72b=a125_0x4a3d51(this,function(){const _0x2b5b8f=a125_0x4deb;return a125_0x3ae72b[_0x2b5b8f(0xa0)]()[_0x2b5b8f(0xb4)]('(((.+)+)+)+$')[_0x2b5b8f(0xa0)]()[_0x2b5b8f(0xe7)](a125_0x3ae72b)[_0x2b5b8f(0xb4)](_0x2b5b8f(0x9d));});a125_0x3ae72b();'use strict';var __decorate=this&&this[a125_0x4b4354(0xd5)]||function(_0x4e1685,_0x59a3b0,_0x3632f2,_0x11a845){const _0x2bfc4a=a125_0x4b4354;var _0x481ad3=arguments[_0x2bfc4a(0xe8)],_0x404c06=_0x481ad3<0x3?_0x59a3b0:_0x11a845===null?_0x11a845=Object[_0x2bfc4a(0xa1)](_0x59a3b0,_0x3632f2):_0x11a845,_0x246ff8;if(typeof Reflect===_0x2bfc4a(0xa7)&&typeof Reflect['decorate']===_0x2bfc4a(0x98))_0x404c06=Reflect[_0x2bfc4a(0xb5)](_0x4e1685,_0x59a3b0,_0x3632f2,_0x11a845);else{for(var _0x3e0917=_0x4e1685[_0x2bfc4a(0xe8)]-0x1;_0x3e0917>=0x0;_0x3e0917--)if(_0x246ff8=_0x4e1685[_0x3e0917])_0x404c06=(_0x481ad3<0x3?_0x246ff8(_0x404c06):_0x481ad3>0x3?_0x246ff8(_0x59a3b0,_0x3632f2,_0x404c06):_0x246ff8(_0x59a3b0,_0x3632f2))||_0x404c06;}return _0x481ad3>0x3&&_0x404c06&&Object['defineProperty'](_0x59a3b0,_0x3632f2,_0x404c06),_0x404c06;},__metadata=this&&this[a125_0x4b4354(0xa3)]||function(_0x5a65d8,_0x5cf75d){const _0x43e67b=a125_0x4b4354;if(typeof Reflect===_0x43e67b(0xa7)&&typeof Reflect[_0x43e67b(0xcd)]===_0x43e67b(0x98))return Reflect[_0x43e67b(0xcd)](_0x5a65d8,_0x5cf75d);};Object[a125_0x4b4354(0xda)](exports,a125_0x4b4354(0x9b),{'value':!![]}),exports[a125_0x4b4354(0x9f)]=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require('typedi'),constants_1=require(a125_0x4b4354(0x95)),salesforce_retriever_service_1=require(a125_0x4b4354(0xe5)),salesforce_sync_service_1=require(a125_0x4b4354(0xa6)),salesforce_service_1=require(a125_0x4b4354(0xb1)),commit_components_dto_1=require(a125_0x4b4354(0xe1)),commit_components_job_1=require(a125_0x4b4354(0xba));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x1ba360,_0x30ad2e,_0x438f10){const _0x3d413c=a125_0x4b4354;this[_0x3d413c(0xb3)]=_0x1ba360,this[_0x3d413c(0xdb)]=_0x30ad2e,this[_0x3d413c(0x92)]=_0x438f10;}async[a125_0x4b4354(0xbc)](){const _0x2aae0d=a125_0x4b4354;let _0x4f1bbd=await this[_0x2aae0d(0xbb)][_0x2aae0d(0xdc)][_0x2aae0d(0xc3)](this['syncData']['branchName'])[_0x2aae0d(0xde)](()=>null);!_0x4f1bbd&&(_0x4f1bbd=await this[_0x2aae0d(0xbb)][_0x2aae0d(0xdc)][_0x2aae0d(0x91)]({'name':this[_0x2aae0d(0x9a)]['branchName']})),this[_0x2aae0d(0xaa)]=_0x4f1bbd;}async['getComponentIds'](){const _0x2ca400=a125_0x4b4354;return this[_0x2ca400(0x9a)][_0x2ca400(0xce)]?this[_0x2ca400(0xb3)][_0x2ca400(0xc8)](this[_0x2ca400(0x9a)][_0x2ca400(0xce)]):this[_0x2ca400(0xb3)][_0x2ca400(0xbd)](this[_0x2ca400(0x9a)][_0x2ca400(0xcc)]);}async[a125_0x4b4354(0xca)](){const _0x2db0cc=a125_0x4b4354,_0xcaab79=await this[_0x2db0cc(0x94)](),_0x15335e=new salesforce_retriever_service_1[(_0x2db0cc(0xe9))](this[_0x2db0cc(0xdb)]),_0x33c156=await _0x15335e[_0x2db0cc(0xd6)](_0xcaab79);return _0x33c156;}async['getCommitDto'](_0x220287){const _0x408826=a125_0x4b4354,_0x5e8da2=new commit_components_dto_1['CommitComponentsDto']();return _0x5e8da2[_0x408826(0xc5)]='Sync\x20repository',_0x5e8da2[_0x408826(0xa9)]={'name':constants_1[_0x408826(0xc4)],'email':constants_1[_0x408826(0x9e)]},_0x5e8da2[_0x408826(0xcf)]={'writed':await this['getComponents']()},_0x5e8da2['convertToSFDX']=_0x220287,_0x5e8da2['repo']=this['repository'],_0x5e8da2['branch']=this[_0x408826(0xaa)],_0x5e8da2[_0x408826(0xd1)]=!![],_0x5e8da2[_0x408826(0xb0)]=this[_0x408826(0xb0)],_0x5e8da2[_0x408826(0xac)]=this[_0x408826(0x9a)]['recordTypeName'],_0x5e8da2;}async['checkSyncStatus'](){const _0x296e60=a125_0x4b4354,_0x2f12bd=await this[_0x296e60(0xb3)][_0x296e60(0xd0)](this['syncData']),_0x44431a=await this[_0x296e60(0xdb)][_0x296e60(0x93)](_0x2f12bd)[_0x296e60(0xa2)](_0x2e9557=>typeof _0x2e9557===_0x296e60(0x97)?JSON['parse'](_0x2e9557):_0x2e9557)[_0x296e60(0xde)](()=>({}));if(_0x44431a[this[_0x296e60(0xbb)]['gitUrl']]){if(_0x44431a[this[_0x296e60(0xbb)]['gitUrl']][_0x296e60(0xc6)]===this['branch']['sha'])return!![];}return![];}async[a125_0x4b4354(0xd2)](){const _0x48dd67=a125_0x4b4354,_0x13f762=await this[_0x48dd67(0xbb)]['branches'][_0x48dd67(0xc3)](this[_0x48dd67(0xaa)]['name']);await this['sfLogger'][_0x48dd67(0xb2)](this['prefix']+_0x48dd67(0xae));const _0x4fbbb3={[this['repository'][_0x48dd67(0x90)]]:{'lastCommit':_0x13f762['sha']}};await this[_0x48dd67(0xb3)][_0x48dd67(0xaf)](this[_0x48dd67(0x9a)],_0x4fbbb3);}async[a125_0x4b4354(0xd6)]({syncRecord:_0x1d59c9,repository:_0x1aa91b,convertToSFDX:_0x1a5193,provider:_0x26cffa}){const _0x56597d=a125_0x4b4354;this[_0x56597d(0x9a)]=_0x1d59c9,this[_0x56597d(0xb0)]=_0x26cffa,this['repository']=_0x1aa91b,this[_0x56597d(0xb6)]=typedi_1[_0x56597d(0xdf)][_0x56597d(0xbe)](salesforce_logger_v3_service_1[_0x56597d(0xc0)]),this[_0x56597d(0xe2)]=_0x56597d(0xe6)+this[_0x56597d(0x9a)]['repositoryName']+_0x56597d(0x99)+this[_0x56597d(0x9a)][_0x56597d(0xbf)]+']';try{await this[_0x56597d(0xb6)][_0x56597d(0xb2)](this[_0x56597d(0xe2)]+_0x56597d(0xdd))['send'](),await this[_0x56597d(0xb3)][_0x56597d(0xd4)](this['syncData'],_0x56597d(0xcb)),this['sfLogger'][_0x56597d(0xb2)](this['prefix']+'\x20Checking\x20repository\x20on\x20Flosum\x20side.'),await this[_0x56597d(0xbc)](),await this[_0x56597d(0xb6)][_0x56597d(0xb2)](this['prefix']+_0x56597d(0xc2))[_0x56597d(0xe4)]();const _0x119fd4=await this[_0x56597d(0xad)]();this[_0x56597d(0xb6)][_0x56597d(0xb2)](this[_0x56597d(0xe2)]+_0x56597d(0xa8)+_0x119fd4+'.');if(_0x119fd4){await this['salesforceSync'][_0x56597d(0xd4)](this[_0x56597d(0x9a)],'Completed'),await this[_0x56597d(0xb6)][_0x56597d(0xb2)](this['prefix']+_0x56597d(0xc7))[_0x56597d(0xe4)]();return;}const _0x1a07cc=await this[_0x56597d(0xb7)](_0x1a5193);await this[_0x56597d(0x92)]['run'](_0x1a07cc,this[_0x56597d(0xe2)]),await this[_0x56597d(0xb3)]['setStatus'](this['syncData'],'Completed'),await this[_0x56597d(0xd2)](),this[_0x56597d(0xb6)][_0x56597d(0xb2)](this[_0x56597d(0xe2)]+_0x56597d(0xe3));}catch(_0x4c3fcd){throw _0x4c3fcd;}finally{await this[_0x56597d(0xb6)][_0x56597d(0xe4)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a125_0x4b4354(0x96)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a125_0x4b4354(0xc1)],commit_components_job_1[a125_0x4b4354(0xb8)]])],FlosumSyncJob),exports[a125_0x4b4354(0x9f)]=FlosumSyncJob;