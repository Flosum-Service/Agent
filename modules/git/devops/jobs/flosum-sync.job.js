const a62_0x2c5eee=a62_0x419a;(function(_0x50fde4,_0x1adeab){const _0x14a8fa=a62_0x419a,_0x66ef18=_0x50fde4();while(!![]){try{const _0x3363a7=parseInt(_0x14a8fa(0x109))/0x1+-parseInt(_0x14a8fa(0x12a))/0x2*(parseInt(_0x14a8fa(0x10e))/0x3)+-parseInt(_0x14a8fa(0x10a))/0x4+parseInt(_0x14a8fa(0x123))/0x5*(parseInt(_0x14a8fa(0xfc))/0x6)+parseInt(_0x14a8fa(0xe1))/0x7+parseInt(_0x14a8fa(0x130))/0x8*(-parseInt(_0x14a8fa(0x106))/0x9)+parseInt(_0x14a8fa(0xf7))/0xa*(parseInt(_0x14a8fa(0xdf))/0xb);if(_0x3363a7===_0x1adeab)break;else _0x66ef18['push'](_0x66ef18['shift']());}catch(_0x292eec){_0x66ef18['push'](_0x66ef18['shift']());}}}(a62_0x4fac,0xd1e63));function a62_0x419a(_0x3ac625,_0x13fcb4){const _0x3a575a=a62_0x4fac();return a62_0x419a=function(_0x1bccda,_0x26f588){_0x1bccda=_0x1bccda-0xdb;let _0x4facf5=_0x3a575a[_0x1bccda];return _0x4facf5;},a62_0x419a(_0x3ac625,_0x13fcb4);}const a62_0x26f588=(function(){let _0x5b30d0=!![];return function(_0x1bd40b,_0x4683e2){const _0x4babd1=_0x5b30d0?function(){const _0x191f52=a62_0x419a;if(_0x4683e2){const _0x48d38b=_0x4683e2[_0x191f52(0x11c)](_0x1bd40b,arguments);return _0x4683e2=null,_0x48d38b;}}:function(){};return _0x5b30d0=![],_0x4babd1;};}()),a62_0x1bccda=a62_0x26f588(this,function(){const _0x5265fe=a62_0x419a;return a62_0x1bccda[_0x5265fe(0x11f)]()[_0x5265fe(0x117)](_0x5265fe(0x126))[_0x5265fe(0x11f)]()[_0x5265fe(0x133)](a62_0x1bccda)[_0x5265fe(0x117)](_0x5265fe(0x126));});a62_0x1bccda();'use strict';var __decorate=this&&this['__decorate']||function(_0x51c478,_0xb1ad5f,_0x4af567,_0x5e5b32){const _0x13aaf9=a62_0x419a;var _0x39ab9a=arguments[_0x13aaf9(0x110)],_0x57d9ac=_0x39ab9a<0x3?_0xb1ad5f:_0x5e5b32===null?_0x5e5b32=Object[_0x13aaf9(0xde)](_0xb1ad5f,_0x4af567):_0x5e5b32,_0x42a363;if(typeof Reflect===_0x13aaf9(0x12e)&&typeof Reflect['decorate']===_0x13aaf9(0x12b))_0x57d9ac=Reflect[_0x13aaf9(0x105)](_0x51c478,_0xb1ad5f,_0x4af567,_0x5e5b32);else{for(var _0x47da3e=_0x51c478['length']-0x1;_0x47da3e>=0x0;_0x47da3e--)if(_0x42a363=_0x51c478[_0x47da3e])_0x57d9ac=(_0x39ab9a<0x3?_0x42a363(_0x57d9ac):_0x39ab9a>0x3?_0x42a363(_0xb1ad5f,_0x4af567,_0x57d9ac):_0x42a363(_0xb1ad5f,_0x4af567))||_0x57d9ac;}return _0x39ab9a>0x3&&_0x57d9ac&&Object[_0x13aaf9(0xf1)](_0xb1ad5f,_0x4af567,_0x57d9ac),_0x57d9ac;},__metadata=this&&this['__metadata']||function(_0x1e2389,_0x5e0987){const _0xa727ce=a62_0x419a;if(typeof Reflect==='object'&&typeof Reflect[_0xa727ce(0x12c)]===_0xa727ce(0x12b))return Reflect['metadata'](_0x1e2389,_0x5e0987);};Object[a62_0x2c5eee(0xf1)](exports,a62_0x2c5eee(0xe8),{'value':!![]}),exports[a62_0x2c5eee(0x111)]=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require(a62_0x2c5eee(0x108)),constants_1=require(a62_0x2c5eee(0xee)),salesforce_retriever_service_1=require(a62_0x2c5eee(0xef)),salesforce_sync_service_1=require(a62_0x2c5eee(0xe3)),salesforce_service_1=require(a62_0x2c5eee(0xfa)),commit_components_dto_1=require(a62_0x2c5eee(0xdd)),commit_components_job_1=require(a62_0x2c5eee(0x128));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x3b1dac,_0x7306c4,_0x5889b3){const _0x2a8251=a62_0x2c5eee;this[_0x2a8251(0x127)]=_0x3b1dac,this[_0x2a8251(0xe0)]=_0x7306c4,this[_0x2a8251(0xfd)]=_0x5889b3;}async[a62_0x2c5eee(0x10f)](){const _0x357f4c=a62_0x2c5eee;let _0x1d6400=await this['repository']['branches'][_0x357f4c(0x131)](this[_0x357f4c(0x120)][_0x357f4c(0xf5)])[_0x357f4c(0x103)](()=>null);!_0x1d6400&&(_0x1d6400=await this[_0x357f4c(0x119)][_0x357f4c(0xf2)]['create']({'name':this[_0x357f4c(0x120)][_0x357f4c(0xf5)]})),this[_0x357f4c(0xe6)]=_0x1d6400;}async[a62_0x2c5eee(0x12f)](){const _0x34ddda=a62_0x2c5eee;return this['syncData']['repositoryId']?this[_0x34ddda(0x127)][_0x34ddda(0x132)](this[_0x34ddda(0x120)][_0x34ddda(0x101)]):this['salesforceSync']['getBranchComponents'](this[_0x34ddda(0x120)][_0x34ddda(0x107)]);}async[a62_0x2c5eee(0x129)](){const _0x53e272=a62_0x2c5eee,_0x3be6e0=await this[_0x53e272(0x12f)](),_0x3c744c=new salesforce_retriever_service_1[(_0x53e272(0xfe))](this['salesforceService']),_0x4c055d=await _0x3c744c[_0x53e272(0x125)](_0x3be6e0);return _0x4c055d;}async[a62_0x2c5eee(0xe2)](_0x35b90e){const _0x36ee04=a62_0x2c5eee,_0x1d30a9=new commit_components_dto_1[(_0x36ee04(0xe9))]();return _0x1d30a9[_0x36ee04(0x114)]=_0x36ee04(0xe7),_0x1d30a9[_0x36ee04(0x102)]={'name':constants_1[_0x36ee04(0x10c)],'email':constants_1[_0x36ee04(0x118)]},_0x1d30a9[_0x36ee04(0x124)]={'writed':await this[_0x36ee04(0x129)]()},_0x1d30a9[_0x36ee04(0xff)]=_0x35b90e,_0x1d30a9['repo']=this[_0x36ee04(0x119)],_0x1d30a9['branch']=this[_0x36ee04(0xe6)],_0x1d30a9[_0x36ee04(0xdb)]=!![],_0x1d30a9[_0x36ee04(0x11a)]=this[_0x36ee04(0x11a)],_0x1d30a9;}async['checkSyncStatus'](){const _0x4bbedd=a62_0x2c5eee,_0x27b273=await this[_0x4bbedd(0x127)][_0x4bbedd(0xf8)](this[_0x4bbedd(0x120)]),_0x5a04d3=await this['salesforceService'][_0x4bbedd(0xfb)](_0x27b273)[_0x4bbedd(0xf6)](_0x2076ac=>typeof _0x2076ac===_0x4bbedd(0x115)?JSON[_0x4bbedd(0x10d)](_0x2076ac):_0x2076ac)['catch'](()=>({}));if(_0x5a04d3[this['repository'][_0x4bbedd(0x10b)]]){if(_0x5a04d3[this[_0x4bbedd(0x119)][_0x4bbedd(0x10b)]][_0x4bbedd(0x112)]===this[_0x4bbedd(0xe6)][_0x4bbedd(0xed)])return!![];}return![];}async[a62_0x2c5eee(0xeb)](){const _0x95c65=a62_0x2c5eee,_0x42ab4b=await this[_0x95c65(0x119)][_0x95c65(0xf2)][_0x95c65(0x131)](this['branch'][_0x95c65(0x135)]);await this[_0x95c65(0xec)][_0x95c65(0xf0)](this[_0x95c65(0xf4)]+_0x95c65(0x11e));const _0x2f4b32={[this['repository'][_0x95c65(0x10b)]]:{'lastCommit':_0x42ab4b[_0x95c65(0xed)]}};await this[_0x95c65(0x127)]['updateRemoteState'](this[_0x95c65(0x120)],_0x2f4b32);}async[a62_0x2c5eee(0x125)]({syncRecord:_0x3d8c83,repository:_0x42bf03,convertToSFDX:_0x43d919,provider:_0xedea17}){const _0x1c2032=a62_0x2c5eee;this[_0x1c2032(0x120)]=_0x3d8c83,this[_0x1c2032(0x11a)]=_0xedea17,this['repository']=_0x42bf03,this[_0x1c2032(0xec)]=typedi_1['Container'][_0x1c2032(0x136)](salesforce_logger_v3_service_1[_0x1c2032(0x116)]),this[_0x1c2032(0xf4)]=_0x1c2032(0x122)+this[_0x1c2032(0x120)][_0x1c2032(0x11b)]+_0x1c2032(0x121)+this[_0x1c2032(0x120)][_0x1c2032(0xf5)]+']';try{await this[_0x1c2032(0xec)][_0x1c2032(0xf0)](this[_0x1c2032(0xf4)]+_0x1c2032(0x104))[_0x1c2032(0xea)](),await this[_0x1c2032(0x127)][_0x1c2032(0xe4)](this[_0x1c2032(0x120)],'In\x20Progress'),this[_0x1c2032(0xec)][_0x1c2032(0xf0)](this[_0x1c2032(0xf4)]+_0x1c2032(0x11d)),await this['createBranchIfNotExists'](),await this[_0x1c2032(0xec)][_0x1c2032(0xf0)](this[_0x1c2032(0xf4)]+'\x20Checking\x20sync\x20status.')['send']();const _0x22160f=await this[_0x1c2032(0xe5)]();this[_0x1c2032(0xec)][_0x1c2032(0xf0)](this[_0x1c2032(0xf4)]+_0x1c2032(0xf9)+_0x22160f+'.');if(_0x22160f){await this[_0x1c2032(0x127)][_0x1c2032(0xe4)](this[_0x1c2032(0x120)],'Completed'),await this[_0x1c2032(0xec)][_0x1c2032(0xf0)](this['prefix']+_0x1c2032(0xdc))[_0x1c2032(0xea)]();return;}const _0x3fc8e2=await this[_0x1c2032(0xe2)](_0x43d919);await this[_0x1c2032(0xfd)][_0x1c2032(0x125)](_0x3fc8e2,this['prefix']),await this[_0x1c2032(0x127)][_0x1c2032(0xe4)](this[_0x1c2032(0x120)],'Completed'),await this['updateLastCommit'](),this['sfLogger'][_0x1c2032(0xf0)](this[_0x1c2032(0xf4)]+'\x20Flosum\x20sync\x20job\x20done.');}catch(_0x112478){throw _0x112478;}finally{await this[_0x1c2032(0xec)]['send']();}}};function a62_0x4fac(){const _0x4d2a37=['retrieveAttachment','417402jNXxaI','commitJob','SalesforceRetrieverService','convertToSFDX','Service','repositoryId','user','catch','\x20Start\x20Flosum\x20sync\x20job','decorate','4707MdpGIu','branchId','typedi','956055tDmupP','5561536KExURR','gitUrl','DEFAULT_GIT_USER_NAME','parse','573YwVsKj','createBranchIfNotExists','length','FlosumSyncJob','lastCommit','SalesforceService','message','string','SalesforceLogger3','search','DEFAULT_GIT_USER_EMAIL','repository','provider','repositoryName','apply','\x20Checking\x20repository\x20on\x20Flosum\x20side.','\x20Update\x20remote\x20state.','toString','syncData',']\x20[Branch:\x20','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','100sirpHR','components','run','(((.+)+)+)+$','salesforceSync','./commit-components.job','getComponents','13370eXtChk','function','metadata','SalesforceSyncService','object','getComponentIds','13456hnUDNj','getOne','getComponentsFromRepository','constructor','CommitComponentsJob','name','get','force','\x20Branch\x20synchronized.\x20Skip','../dto/commit-components.dto','getOwnPropertyDescriptor','126907tePfgz','salesforceService','9003946FcyRua','getCommitDto','../../salesforce/services/salesforce-sync.service','setStatus','checkSyncStatus','branch','Sync\x20repository','__esModule','CommitComponentsDto','send','updateLastCommit','sfLogger','sha','../../../../constants','../../salesforce/services/salesforce-retriever.service','log','defineProperty','branches','design:paramtypes','prefix','branchName','then','670PUKLOu','getRemoteStateAttachmentId','\x20Sync\x20status\x20','../../salesforce/services/salesforce.service'];a62_0x4fac=function(){return _0x4d2a37;};return a62_0x4fac();}FlosumSyncJob=__decorate([typedi_1[a62_0x2c5eee(0x100)]({'transient':!![]}),__metadata(a62_0x2c5eee(0xf3),[salesforce_sync_service_1[a62_0x2c5eee(0x12d)],salesforce_service_1[a62_0x2c5eee(0x113)],commit_components_job_1[a62_0x2c5eee(0x134)]])],FlosumSyncJob),exports[a62_0x2c5eee(0x111)]=FlosumSyncJob;