const a62_0x5a360f=a62_0xf6af;function a62_0xf6af(_0x57ae4a,_0x1aef68){const _0x3acdad=a62_0x5841();return a62_0xf6af=function(_0x2dfa54,_0x5507d4){_0x2dfa54=_0x2dfa54-0x19e;let _0x584149=_0x3acdad[_0x2dfa54];return _0x584149;},a62_0xf6af(_0x57ae4a,_0x1aef68);}(function(_0x50457c,_0x571987){const _0x5662a3=a62_0xf6af,_0x28e456=_0x50457c();while(!![]){try{const _0x21b051=parseInt(_0x5662a3(0x1cb))/0x1+-parseInt(_0x5662a3(0x1c4))/0x2*(-parseInt(_0x5662a3(0x1ae))/0x3)+-parseInt(_0x5662a3(0x1ad))/0x4+parseInt(_0x5662a3(0x1d3))/0x5+-parseInt(_0x5662a3(0x1a6))/0x6*(-parseInt(_0x5662a3(0x1be))/0x7)+-parseInt(_0x5662a3(0x1a8))/0x8*(parseInt(_0x5662a3(0x1b2))/0x9)+parseInt(_0x5662a3(0x1aa))/0xa;if(_0x21b051===_0x571987)break;else _0x28e456['push'](_0x28e456['shift']());}catch(_0x7f3079){_0x28e456['push'](_0x28e456['shift']());}}}(a62_0x5841,0x7694a));const a62_0x5507d4=(function(){let _0x351da8=!![];return function(_0x15f20b,_0x473af7){const _0x702e69=_0x351da8?function(){const _0x9905f4=a62_0xf6af;if(_0x473af7){const _0xcf0e9e=_0x473af7[_0x9905f4(0x1b1)](_0x15f20b,arguments);return _0x473af7=null,_0xcf0e9e;}}:function(){};return _0x351da8=![],_0x702e69;};}()),a62_0x2dfa54=a62_0x5507d4(this,function(){const _0x16972a=a62_0xf6af;return a62_0x2dfa54[_0x16972a(0x1af)]()['search'](_0x16972a(0x1cc))[_0x16972a(0x1af)]()[_0x16972a(0x1e5)](a62_0x2dfa54)[_0x16972a(0x1f1)](_0x16972a(0x1cc));});a62_0x2dfa54();'use strict';var __decorate=this&&this[a62_0x5a360f(0x1c8)]||function(_0x1815ce,_0x2490c3,_0x51ac3c,_0x587d4a){const _0x4adc68=a62_0x5a360f;var _0x50326a=arguments[_0x4adc68(0x1d0)],_0xb92879=_0x50326a<0x3?_0x2490c3:_0x587d4a===null?_0x587d4a=Object[_0x4adc68(0x1de)](_0x2490c3,_0x51ac3c):_0x587d4a,_0x41df4f;if(typeof Reflect===_0x4adc68(0x1a9)&&typeof Reflect[_0x4adc68(0x1e1)]==='function')_0xb92879=Reflect[_0x4adc68(0x1e1)](_0x1815ce,_0x2490c3,_0x51ac3c,_0x587d4a);else{for(var _0x3b386f=_0x1815ce[_0x4adc68(0x1d0)]-0x1;_0x3b386f>=0x0;_0x3b386f--)if(_0x41df4f=_0x1815ce[_0x3b386f])_0xb92879=(_0x50326a<0x3?_0x41df4f(_0xb92879):_0x50326a>0x3?_0x41df4f(_0x2490c3,_0x51ac3c,_0xb92879):_0x41df4f(_0x2490c3,_0x51ac3c))||_0xb92879;}return _0x50326a>0x3&&_0xb92879&&Object[_0x4adc68(0x1cf)](_0x2490c3,_0x51ac3c,_0xb92879),_0xb92879;},__metadata=this&&this[a62_0x5a360f(0x1c1)]||function(_0xce1bef,_0x45c2d1){const _0x19f608=a62_0x5a360f;if(typeof Reflect==='object'&&typeof Reflect[_0x19f608(0x1eb)]===_0x19f608(0x1bf))return Reflect[_0x19f608(0x1eb)](_0xce1bef,_0x45c2d1);};Object[a62_0x5a360f(0x1cf)](exports,a62_0x5a360f(0x1a4),{'value':!![]}),exports[a62_0x5a360f(0x1d7)]=void 0x0;const salesforce_logger_v3_service_1=require(a62_0x5a360f(0x1dc)),typedi_1=require(a62_0x5a360f(0x1f0)),constants_1=require('../../../../constants'),salesforce_retriever_service_1=require(a62_0x5a360f(0x1f3)),salesforce_sync_service_1=require(a62_0x5a360f(0x1bd)),salesforce_service_1=require(a62_0x5a360f(0x1b7)),commit_components_dto_1=require(a62_0x5a360f(0x1a2)),commit_components_job_1=require(a62_0x5a360f(0x1ed));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x5e2e58,_0x22c3d3,_0x4ba529){const _0x53e259=a62_0x5a360f;this[_0x53e259(0x1c0)]=_0x5e2e58,this[_0x53e259(0x19e)]=_0x22c3d3,this[_0x53e259(0x1d5)]=_0x4ba529;}async[a62_0x5a360f(0x1cd)](){const _0x137839=a62_0x5a360f;let _0x2c651c=await this[_0x137839(0x1e7)][_0x137839(0x1e8)][_0x137839(0x1d6)](this[_0x137839(0x1b8)][_0x137839(0x1b9)])['catch'](()=>null);!_0x2c651c&&(_0x2c651c=await this[_0x137839(0x1e7)]['branches'][_0x137839(0x1a1)]({'name':this[_0x137839(0x1b8)][_0x137839(0x1b9)]})),this[_0x137839(0x1b5)]=_0x2c651c;}async[a62_0x5a360f(0x1b3)](){const _0x3ca45e=a62_0x5a360f;return this[_0x3ca45e(0x1b8)][_0x3ca45e(0x1c6)]?this['salesforceSync'][_0x3ca45e(0x1a3)](this['syncData']['repositoryId']):this[_0x3ca45e(0x1c0)][_0x3ca45e(0x1e9)](this[_0x3ca45e(0x1b8)]['branchId']);}async[a62_0x5a360f(0x1e6)](){const _0x550cb4=a62_0x5a360f,_0x51e2c1=await this[_0x550cb4(0x1b3)](),_0x47b8c8=new salesforce_retriever_service_1['SalesforceRetrieverService'](this[_0x550cb4(0x19e)]),_0x5c702e=await _0x47b8c8[_0x550cb4(0x1d1)](_0x51e2c1);return _0x5c702e;}async['getCommitDto'](_0x1f324d){const _0x222ec1=a62_0x5a360f,_0x2ceadb=new commit_components_dto_1['CommitComponentsDto']();return _0x2ceadb[_0x222ec1(0x1c5)]='Sync\x20repository',_0x2ceadb['user']={'name':constants_1[_0x222ec1(0x1ce)],'email':constants_1[_0x222ec1(0x1a5)]},_0x2ceadb['components']={'writed':await this[_0x222ec1(0x1e6)]()},_0x2ceadb[_0x222ec1(0x1df)]=_0x1f324d,_0x2ceadb[_0x222ec1(0x1ea)]=this[_0x222ec1(0x1e7)],_0x2ceadb['branch']=this['branch'],_0x2ceadb['force']=!![],_0x2ceadb['provider']=this[_0x222ec1(0x1bc)],_0x2ceadb;}async[a62_0x5a360f(0x1e3)](){const _0x1df21c=a62_0x5a360f,_0x23ad0e=await this[_0x1df21c(0x1c0)]['getRemoteStateAttachmentId'](this[_0x1df21c(0x1b8)]),_0x208ae7=await this[_0x1df21c(0x19e)][_0x1df21c(0x1f2)](_0x23ad0e)[_0x1df21c(0x1b6)](_0x455e35=>typeof _0x455e35===_0x1df21c(0x1a0)?JSON[_0x1df21c(0x1c9)](_0x455e35):_0x455e35)['catch'](()=>({}));if(_0x208ae7[this['repository']['gitUrl']]){if(_0x208ae7[this[_0x1df21c(0x1e7)][_0x1df21c(0x19f)]][_0x1df21c(0x1db)]===this[_0x1df21c(0x1b5)][_0x1df21c(0x1da)])return!![];}return![];}async[a62_0x5a360f(0x1ef)](){const _0x3cb0f4=a62_0x5a360f,_0x596f9c=await this['repository'][_0x3cb0f4(0x1e8)]['getOne'](this[_0x3cb0f4(0x1b5)]['name']);await this[_0x3cb0f4(0x1ac)][_0x3cb0f4(0x1a7)](this[_0x3cb0f4(0x1ec)]+_0x3cb0f4(0x1c3));const _0x344647={[this[_0x3cb0f4(0x1e7)][_0x3cb0f4(0x19f)]]:{'lastCommit':_0x596f9c['sha']}};await this[_0x3cb0f4(0x1c0)]['updateRemoteState'](this['syncData'],_0x344647);}async[a62_0x5a360f(0x1d1)]({syncRecord:_0x4bf79c,repository:_0x2ef368,convertToSFDX:_0x1a46b4,provider:_0x3e703e}){const _0x2f97ff=a62_0x5a360f;this[_0x2f97ff(0x1b8)]=_0x4bf79c,this[_0x2f97ff(0x1bc)]=_0x3e703e,this[_0x2f97ff(0x1e7)]=_0x2ef368,this['sfLogger']=typedi_1['Container'][_0x2f97ff(0x1e4)](salesforce_logger_v3_service_1[_0x2f97ff(0x1d9)]),this['prefix']=_0x2f97ff(0x1dd)+this[_0x2f97ff(0x1b8)]['repositoryName']+_0x2f97ff(0x1ca)+this[_0x2f97ff(0x1b8)][_0x2f97ff(0x1b9)]+']';try{await this[_0x2f97ff(0x1ac)][_0x2f97ff(0x1a7)](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1f4))['send'](),await this[_0x2f97ff(0x1c0)]['setStatus'](this[_0x2f97ff(0x1b8)],_0x2f97ff(0x1b4)),this[_0x2f97ff(0x1ac)]['log'](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1e2)),await this['createBranchIfNotExists'](),await this[_0x2f97ff(0x1ac)][_0x2f97ff(0x1a7)](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1e0))['send']();const _0x41ad23=await this[_0x2f97ff(0x1e3)]();this[_0x2f97ff(0x1ac)][_0x2f97ff(0x1a7)](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1ab)+_0x41ad23+'.');if(_0x41ad23){await this[_0x2f97ff(0x1c0)][_0x2f97ff(0x1c7)](this['syncData'],_0x2f97ff(0x1d4)),await this['sfLogger'][_0x2f97ff(0x1a7)](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1c2))[_0x2f97ff(0x1d2)]();return;}const _0x52ecef=await this[_0x2f97ff(0x1ba)](_0x1a46b4);await this[_0x2f97ff(0x1d5)][_0x2f97ff(0x1d1)](_0x52ecef,this[_0x2f97ff(0x1ec)]),await this[_0x2f97ff(0x1c0)][_0x2f97ff(0x1c7)](this[_0x2f97ff(0x1b8)],_0x2f97ff(0x1d4)),await this['updateLastCommit'](),this['sfLogger'][_0x2f97ff(0x1a7)](this[_0x2f97ff(0x1ec)]+_0x2f97ff(0x1d8));}catch(_0x49a1a0){throw _0x49a1a0;}finally{await this[_0x2f97ff(0x1ac)][_0x2f97ff(0x1d2)]();}}};FlosumSyncJob=__decorate([typedi_1[a62_0x5a360f(0x1b0)]({'transient':!![]}),__metadata(a62_0x5a360f(0x1bb),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a62_0x5a360f(0x1f5)],commit_components_job_1[a62_0x5a360f(0x1ee)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;function a62_0x5841(){const _0x1f14bb=['781890rrSSfk','toString','Service','apply','63huCAFY','getComponentIds','In\x20Progress','branch','then','../../salesforce/services/salesforce.service','syncData','branchName','getCommitDto','design:paramtypes','provider','../../salesforce/services/salesforce-sync.service','7hrosJc','function','salesforceSync','__metadata','\x20Branch\x20synchronized.\x20Skip','\x20Update\x20remote\x20state.','2smXyas','message','repositoryId','setStatus','__decorate','parse',']\x20[Branch:\x20','579375pibFgi','(((.+)+)+)+$','createBranchIfNotExists','DEFAULT_GIT_USER_NAME','defineProperty','length','run','send','1511365WmTpFX','Completed','commitJob','getOne','FlosumSyncJob','\x20Flosum\x20sync\x20job\x20done.','SalesforceLogger3','sha','lastCommit','../../salesforce/services/salesforce-logger-v3.service','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','getOwnPropertyDescriptor','convertToSFDX','\x20Checking\x20sync\x20status.','decorate','\x20Checking\x20repository\x20on\x20Flosum\x20side.','checkSyncStatus','get','constructor','getComponents','repository','branches','getBranchComponents','repo','metadata','prefix','./commit-components.job','CommitComponentsJob','updateLastCommit','typedi','search','retrieveAttachment','../../salesforce/services/salesforce-retriever.service','\x20Start\x20Flosum\x20sync\x20job','SalesforceService','salesforceService','gitUrl','string','create','../dto/commit-components.dto','getComponentsFromRepository','__esModule','DEFAULT_GIT_USER_EMAIL','1871436GdKmIj','log','778288QtGEje','object','4493290MtFxHC','\x20Sync\x20status\x20','sfLogger','2947220NhBdyZ'];a62_0x5841=function(){return _0x1f14bb;};return a62_0x5841();}