function a106_0x3b08(_0x37a830,_0x4fdf5f){const _0x235f2d=a106_0x4fee();return a106_0x3b08=function(_0x71aa86,_0xfacfce){_0x71aa86=_0x71aa86-0x12d;let _0x4feee1=_0x235f2d[_0x71aa86];return _0x4feee1;},a106_0x3b08(_0x37a830,_0x4fdf5f);}const a106_0x49138c=a106_0x3b08;(function(_0xd58cfa,_0x559185){const _0xd357bc=a106_0x3b08,_0x2c2bed=_0xd58cfa();while(!![]){try{const _0x24d0a0=parseInt(_0xd357bc(0x143))/0x1*(parseInt(_0xd357bc(0x15e))/0x2)+-parseInt(_0xd357bc(0x135))/0x3*(parseInt(_0xd357bc(0x14f))/0x4)+parseInt(_0xd357bc(0x15b))/0x5*(-parseInt(_0xd357bc(0x183))/0x6)+-parseInt(_0xd357bc(0x16a))/0x7*(parseInt(_0xd357bc(0x132))/0x8)+parseInt(_0xd357bc(0x140))/0x9*(parseInt(_0xd357bc(0x157))/0xa)+parseInt(_0xd357bc(0x169))/0xb*(-parseInt(_0xd357bc(0x144))/0xc)+parseInt(_0xd357bc(0x13c))/0xd*(parseInt(_0xd357bc(0x159))/0xe);if(_0x24d0a0===_0x559185)break;else _0x2c2bed['push'](_0x2c2bed['shift']());}catch(_0x3c65df){_0x2c2bed['push'](_0x2c2bed['shift']());}}}(a106_0x4fee,0xe0224));const a106_0xfacfce=(function(){let _0x105e4a=!![];return function(_0x346625,_0x29b807){const _0x9f7d00=_0x105e4a?function(){const _0x32336c=a106_0x3b08;if(_0x29b807){const _0xf51448=_0x29b807[_0x32336c(0x13d)](_0x346625,arguments);return _0x29b807=null,_0xf51448;}}:function(){};return _0x105e4a=![],_0x9f7d00;};}()),a106_0x71aa86=a106_0xfacfce(this,function(){const _0x57ba82=a106_0x3b08;return a106_0x71aa86[_0x57ba82(0x16d)]()[_0x57ba82(0x146)](_0x57ba82(0x17c))[_0x57ba82(0x16d)]()[_0x57ba82(0x17a)](a106_0x71aa86)['search'](_0x57ba82(0x17c));});a106_0x71aa86();function a106_0x4fee(){const _0x315415=['setStatus','Container','1343186MBufbG','SalesforceService','branchName','\x20Checking\x20repository\x20on\x20Flosum\x20side.','metadata','getOne','prefix','sha','sfLogger','updateRemoteState','salesforceSync','168377fimijb','3094PEJIBz','repositoryId','salesforceService','toString','SalesforceSyncService','SalesforceLogger3','repository','__metadata','./commit-components.job','provider','repo','typedi','send','FlosumSyncJob','defineProperty','getRemoteStateAttachmentId','constructor','\x20Checking\x20sync\x20status.','(((.+)+)+)+$','string','run','getComponentIds','getComponents','syncData','object','17778SIhIFO','DEFAULT_GIT_USER_NAME','\x20Flosum\x20sync\x20job\x20done.','SalesforceRetrieverService',']\x20[Branch:\x20','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','name','27568MOdToj','updateLastCommit','components','4596321TPJeAM','log','get','../../salesforce/services/salesforce-sync.service','branch','lastCommit','\x20Branch\x20synchronized.\x20Skip','5447ufAdcT','apply','Completed','commitJob','11853dgGkVo','catch','create','2ZJVQIo','1416IfaduC','\x20Start\x20Flosum\x20sync\x20job','search','createBranchIfNotExists','__esModule','checkSyncStatus','decorate','../../../../constants','convertToSFDX','length','function','4BbjTkR','user','In\x20Progress','force','getComponentsFromRepository','DEFAULT_GIT_USER_EMAIL','../dto/commit-components.dto','CommitComponentsDto','7730rqiBFT','branches','158172JyWeqP','gitUrl','2220wXtwJQ'];a106_0x4fee=function(){return _0x315415;};return a106_0x4fee();}'use strict';var __decorate=this&&this['__decorate']||function(_0x399cfd,_0x4a311b,_0x1b7f7c,_0x3674d3){const _0x38ee13=a106_0x3b08;var _0x4fb692=arguments[_0x38ee13(0x14d)],_0x50f96a=_0x4fb692<0x3?_0x4a311b:_0x3674d3===null?_0x3674d3=Object['getOwnPropertyDescriptor'](_0x4a311b,_0x1b7f7c):_0x3674d3,_0x441edd;if(typeof Reflect===_0x38ee13(0x182)&&typeof Reflect[_0x38ee13(0x14a)]===_0x38ee13(0x14e))_0x50f96a=Reflect['decorate'](_0x399cfd,_0x4a311b,_0x1b7f7c,_0x3674d3);else{for(var _0x1a8095=_0x399cfd[_0x38ee13(0x14d)]-0x1;_0x1a8095>=0x0;_0x1a8095--)if(_0x441edd=_0x399cfd[_0x1a8095])_0x50f96a=(_0x4fb692<0x3?_0x441edd(_0x50f96a):_0x4fb692>0x3?_0x441edd(_0x4a311b,_0x1b7f7c,_0x50f96a):_0x441edd(_0x4a311b,_0x1b7f7c))||_0x50f96a;}return _0x4fb692>0x3&&_0x50f96a&&Object[_0x38ee13(0x178)](_0x4a311b,_0x1b7f7c,_0x50f96a),_0x50f96a;},__metadata=this&&this[a106_0x49138c(0x171)]||function(_0x33f9c0,_0x1abe3e){const _0x4c2ee8=a106_0x49138c;if(typeof Reflect===_0x4c2ee8(0x182)&&typeof Reflect[_0x4c2ee8(0x162)]===_0x4c2ee8(0x14e))return Reflect[_0x4c2ee8(0x162)](_0x33f9c0,_0x1abe3e);};Object[a106_0x49138c(0x178)](exports,a106_0x49138c(0x148),{'value':!![]}),exports[a106_0x49138c(0x177)]=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require(a106_0x49138c(0x175)),constants_1=require(a106_0x49138c(0x14b)),salesforce_retriever_service_1=require('../../salesforce/services/salesforce-retriever.service'),salesforce_sync_service_1=require(a106_0x49138c(0x138)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require(a106_0x49138c(0x155)),commit_components_job_1=require(a106_0x49138c(0x172));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x2da1d2,_0x55c230,_0x16ad28){const _0x567fc1=a106_0x49138c;this[_0x567fc1(0x168)]=_0x2da1d2,this['salesforceService']=_0x55c230,this[_0x567fc1(0x13f)]=_0x16ad28;}async[a106_0x49138c(0x147)](){const _0x4a4400=a106_0x49138c;let _0x9548a4=await this['repository'][_0x4a4400(0x158)][_0x4a4400(0x163)](this[_0x4a4400(0x181)]['branchName'])[_0x4a4400(0x141)](()=>null);!_0x9548a4&&(_0x9548a4=await this[_0x4a4400(0x170)][_0x4a4400(0x158)][_0x4a4400(0x142)]({'name':this[_0x4a4400(0x181)][_0x4a4400(0x160)]})),this['branch']=_0x9548a4;}async[a106_0x49138c(0x17f)](){const _0x31beee=a106_0x49138c;return this[_0x31beee(0x181)][_0x31beee(0x16b)]?this[_0x31beee(0x168)][_0x31beee(0x153)](this[_0x31beee(0x181)][_0x31beee(0x16b)]):this[_0x31beee(0x168)]['getBranchComponents'](this[_0x31beee(0x181)]['branchId']);}async['getComponents'](){const _0x422772=a106_0x49138c,_0x17212e=await this['getComponentIds'](),_0x52ed92=new salesforce_retriever_service_1[(_0x422772(0x12e))](this[_0x422772(0x16c)]),_0x24db36=await _0x52ed92[_0x422772(0x17e)](_0x17212e);return _0x24db36;}async['getCommitDto'](_0x271e0b){const _0x2c7db6=a106_0x49138c,_0x5ea125=new commit_components_dto_1[(_0x2c7db6(0x156))]();return _0x5ea125['message']='Sync\x20repository',_0x5ea125[_0x2c7db6(0x150)]={'name':constants_1[_0x2c7db6(0x184)],'email':constants_1[_0x2c7db6(0x154)]},_0x5ea125[_0x2c7db6(0x134)]={'writed':await this[_0x2c7db6(0x180)]()},_0x5ea125[_0x2c7db6(0x14c)]=_0x271e0b,_0x5ea125[_0x2c7db6(0x174)]=this[_0x2c7db6(0x170)],_0x5ea125[_0x2c7db6(0x139)]=this[_0x2c7db6(0x139)],_0x5ea125[_0x2c7db6(0x152)]=!![],_0x5ea125['provider']=this[_0x2c7db6(0x173)],_0x5ea125;}async[a106_0x49138c(0x149)](){const _0x579d22=a106_0x49138c,_0x3cd713=await this[_0x579d22(0x168)][_0x579d22(0x179)](this[_0x579d22(0x181)]),_0x483688=await this[_0x579d22(0x16c)]['retrieveAttachment'](_0x3cd713)['then'](_0x4147a3=>typeof _0x4147a3===_0x579d22(0x17d)?JSON['parse'](_0x4147a3):_0x4147a3)[_0x579d22(0x141)](()=>({}));if(_0x483688[this[_0x579d22(0x170)][_0x579d22(0x15a)]]){if(_0x483688[this[_0x579d22(0x170)][_0x579d22(0x15a)]][_0x579d22(0x13a)]===this[_0x579d22(0x139)][_0x579d22(0x165)])return!![];}return![];}async['updateLastCommit'](){const _0xd74107=a106_0x49138c,_0x251f51=await this[_0xd74107(0x170)][_0xd74107(0x158)][_0xd74107(0x163)](this[_0xd74107(0x139)][_0xd74107(0x131)]);await this[_0xd74107(0x166)]['log'](this[_0xd74107(0x164)]+'\x20Update\x20remote\x20state.');const _0x24a5de={[this['repository'][_0xd74107(0x15a)]]:{'lastCommit':_0x251f51['sha']}};await this[_0xd74107(0x168)][_0xd74107(0x167)](this[_0xd74107(0x181)],_0x24a5de);}async[a106_0x49138c(0x17e)]({syncRecord:_0x5ab3f1,repository:_0x13b8d2,convertToSFDX:_0x99af27,provider:_0x3eb850}){const _0x45e6bf=a106_0x49138c;this[_0x45e6bf(0x181)]=_0x5ab3f1,this[_0x45e6bf(0x173)]=_0x3eb850,this[_0x45e6bf(0x170)]=_0x13b8d2,this['sfLogger']=typedi_1[_0x45e6bf(0x15d)][_0x45e6bf(0x137)](salesforce_logger_v3_service_1[_0x45e6bf(0x16f)]),this['prefix']=_0x45e6bf(0x130)+this[_0x45e6bf(0x181)]['repositoryName']+_0x45e6bf(0x12f)+this[_0x45e6bf(0x181)]['branchName']+']';try{await this['sfLogger'][_0x45e6bf(0x136)](this[_0x45e6bf(0x164)]+_0x45e6bf(0x145))[_0x45e6bf(0x176)](),await this[_0x45e6bf(0x168)][_0x45e6bf(0x15c)](this[_0x45e6bf(0x181)],_0x45e6bf(0x151)),this[_0x45e6bf(0x166)][_0x45e6bf(0x136)](this['prefix']+_0x45e6bf(0x161)),await this[_0x45e6bf(0x147)](),await this[_0x45e6bf(0x166)][_0x45e6bf(0x136)](this[_0x45e6bf(0x164)]+_0x45e6bf(0x17b))[_0x45e6bf(0x176)]();const _0x72f362=await this[_0x45e6bf(0x149)]();this[_0x45e6bf(0x166)][_0x45e6bf(0x136)](this[_0x45e6bf(0x164)]+'\x20Sync\x20status\x20'+_0x72f362+'.');if(_0x72f362){await this[_0x45e6bf(0x168)][_0x45e6bf(0x15c)](this['syncData'],_0x45e6bf(0x13e)),await this['sfLogger'][_0x45e6bf(0x136)](this[_0x45e6bf(0x164)]+_0x45e6bf(0x13b))[_0x45e6bf(0x176)]();return;}const _0x118b02=await this['getCommitDto'](_0x99af27);await this[_0x45e6bf(0x13f)][_0x45e6bf(0x17e)](_0x118b02,this[_0x45e6bf(0x164)]),await this[_0x45e6bf(0x168)][_0x45e6bf(0x15c)](this['syncData'],_0x45e6bf(0x13e)),await this[_0x45e6bf(0x133)](),this[_0x45e6bf(0x166)]['log'](this['prefix']+_0x45e6bf(0x12d));}catch(_0x5f217a){throw _0x5f217a;}finally{await this[_0x45e6bf(0x166)]['send']();}}};FlosumSyncJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a106_0x49138c(0x16e)],salesforce_service_1[a106_0x49138c(0x15f)],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports[a106_0x49138c(0x177)]=FlosumSyncJob;