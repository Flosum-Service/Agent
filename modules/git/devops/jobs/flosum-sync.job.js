const a62_0x11a77c=a62_0x485e;(function(_0x14b4bd,_0x11781e){const _0x1a28ef=a62_0x485e,_0x1645a9=_0x14b4bd();while(!![]){try{const _0x52e800=parseInt(_0x1a28ef(0x193))/0x1*(parseInt(_0x1a28ef(0x1ad))/0x2)+-parseInt(_0x1a28ef(0x18b))/0x3*(parseInt(_0x1a28ef(0x19a))/0x4)+parseInt(_0x1a28ef(0x17c))/0x5*(parseInt(_0x1a28ef(0x183))/0x6)+-parseInt(_0x1a28ef(0x1c5))/0x7+parseInt(_0x1a28ef(0x1c8))/0x8*(parseInt(_0x1a28ef(0x1a0))/0x9)+parseInt(_0x1a28ef(0x18f))/0xa+-parseInt(_0x1a28ef(0x1a8))/0xb;if(_0x52e800===_0x11781e)break;else _0x1645a9['push'](_0x1645a9['shift']());}catch(_0x459250){_0x1645a9['push'](_0x1645a9['shift']());}}}(a62_0xd488,0xa9ae0));const a62_0x365124=(function(){let _0x44e15f=!![];return function(_0x4131d8,_0x4c992b){const _0x9440a0=_0x44e15f?function(){const _0x29481b=a62_0x485e;if(_0x4c992b){const _0x6f04fc=_0x4c992b[_0x29481b(0x1bd)](_0x4131d8,arguments);return _0x4c992b=null,_0x6f04fc;}}:function(){};return _0x44e15f=![],_0x9440a0;};}()),a62_0x463aa5=a62_0x365124(this,function(){const _0x5f3f8d=a62_0x485e;return a62_0x463aa5['toString']()[_0x5f3f8d(0x1c7)](_0x5f3f8d(0x187))[_0x5f3f8d(0x178)]()[_0x5f3f8d(0x180)](a62_0x463aa5)['search'](_0x5f3f8d(0x187));});a62_0x463aa5();function a62_0xd488(){const _0x3b6af2=['__esModule','setStatus','repositoryName','7Iofinx','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','defineProperty','__decorate','../../salesforce/services/salesforce-sync.service','\x20Sync\x20status\x20','getComponents','637228ASUqbg','../../salesforce/services/salesforce-logger-v3.service','getRemoteStateAttachmentId','typedi','string','SalesforceSyncService','358308kkHFNJ','user','\x20Update\x20remote\x20state.','branchId','../../salesforce/services/salesforce.service','sha','\x20Checking\x20sync\x20status.','prefix','16953563ZUMBTY','branchName','salesforceService','Service','./commit-components.job','237596fdRShX','DEFAULT_GIT_USER_EMAIL','log','convertToSFDX','SalesforceRetrieverService','components','gitUrl','retrieveAttachment','Completed','design:paramtypes','getComponentsFromRepository','updateRemoteState','branch','force','CommitComponentsJob','FlosumSyncJob','apply','syncData','getOne',']\x20[Branch:\x20','In\x20Progress','salesforceSync','commitJob','sfLogger','3261496lHjXuD','run','search','40cKymYv','lastCommit','length','metadata','checkSyncStatus','repositoryId','SalesforceService','\x20Flosum\x20sync\x20job\x20done.','createBranchIfNotExists','create','updateLastCommit','\x20Checking\x20repository\x20on\x20Flosum\x20side.','decorate','CommitComponentsDto','toString','../../../../constants','then','\x20Start\x20Flosum\x20sync\x20job','545640BmxuaP','\x20Branch\x20synchronized.\x20Skip','../../salesforce/services/salesforce-retriever.service','send','constructor','repo','provider','66ctOHGx','message','getCommitDto','getBranchComponents','(((.+)+)+)+$','catch','branches','function','15hGqSOJ','Sync\x20repository','getComponentIds','repository','12676500rMVzjh'];a62_0xd488=function(){return _0x3b6af2;};return a62_0xd488();}'use strict';var __decorate=this&&this[a62_0x11a77c(0x196)]||function(_0x18fa95,_0x5913fc,_0x34a370,_0x455ac3){const _0x14de0a=a62_0x11a77c;var _0x58aeb4=arguments[_0x14de0a(0x1ca)],_0x588e82=_0x58aeb4<0x3?_0x5913fc:_0x455ac3===null?_0x455ac3=Object['getOwnPropertyDescriptor'](_0x5913fc,_0x34a370):_0x455ac3,_0x53e449;if(typeof Reflect==='object'&&typeof Reflect[_0x14de0a(0x176)]===_0x14de0a(0x18a))_0x588e82=Reflect['decorate'](_0x18fa95,_0x5913fc,_0x34a370,_0x455ac3);else{for(var _0x30c8a2=_0x18fa95[_0x14de0a(0x1ca)]-0x1;_0x30c8a2>=0x0;_0x30c8a2--)if(_0x53e449=_0x18fa95[_0x30c8a2])_0x588e82=(_0x58aeb4<0x3?_0x53e449(_0x588e82):_0x58aeb4>0x3?_0x53e449(_0x5913fc,_0x34a370,_0x588e82):_0x53e449(_0x5913fc,_0x34a370))||_0x588e82;}return _0x58aeb4>0x3&&_0x588e82&&Object[_0x14de0a(0x195)](_0x5913fc,_0x34a370,_0x588e82),_0x588e82;},__metadata=this&&this['__metadata']||function(_0x3f5a58,_0x2f3863){const _0x4ca376=a62_0x11a77c;if(typeof Reflect==='object'&&typeof Reflect[_0x4ca376(0x1cb)]===_0x4ca376(0x18a))return Reflect[_0x4ca376(0x1cb)](_0x3f5a58,_0x2f3863);};function a62_0x485e(_0x3866ce,_0x1ece54){const _0x1e8d0e=a62_0xd488();return a62_0x485e=function(_0x463aa5,_0x365124){_0x463aa5=_0x463aa5-0x170;let _0xd48829=_0x1e8d0e[_0x463aa5];return _0xd48829;},a62_0x485e(_0x3866ce,_0x1ece54);}Object[a62_0x11a77c(0x195)](exports,a62_0x11a77c(0x190),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const salesforce_logger_v3_service_1=require(a62_0x11a77c(0x19b)),typedi_1=require(a62_0x11a77c(0x19d)),constants_1=require(a62_0x11a77c(0x179)),salesforce_retriever_service_1=require(a62_0x11a77c(0x17e)),salesforce_sync_service_1=require(a62_0x11a77c(0x197)),salesforce_service_1=require(a62_0x11a77c(0x1a4)),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a62_0x11a77c(0x1ac));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x4029ba,_0xa27228,_0x15ade4){const _0x2d7a5e=a62_0x11a77c;this[_0x2d7a5e(0x1c2)]=_0x4029ba,this[_0x2d7a5e(0x1aa)]=_0xa27228,this['commitJob']=_0x15ade4;}async[a62_0x11a77c(0x172)](){const _0x1acbfd=a62_0x11a77c;let _0x3ba0cd=await this[_0x1acbfd(0x18e)][_0x1acbfd(0x189)][_0x1acbfd(0x1bf)](this['syncData'][_0x1acbfd(0x1a9)])['catch'](()=>null);!_0x3ba0cd&&(_0x3ba0cd=await this[_0x1acbfd(0x18e)][_0x1acbfd(0x189)][_0x1acbfd(0x173)]({'name':this['syncData'][_0x1acbfd(0x1a9)]})),this[_0x1acbfd(0x1b9)]=_0x3ba0cd;}async[a62_0x11a77c(0x18d)](){const _0x4cfc76=a62_0x11a77c;return this[_0x4cfc76(0x1be)][_0x4cfc76(0x1cd)]?this[_0x4cfc76(0x1c2)][_0x4cfc76(0x1b7)](this[_0x4cfc76(0x1be)][_0x4cfc76(0x1cd)]):this['salesforceSync'][_0x4cfc76(0x186)](this['syncData'][_0x4cfc76(0x1a3)]);}async[a62_0x11a77c(0x199)](){const _0xea8838=a62_0x11a77c,_0x4ece82=await this[_0xea8838(0x18d)](),_0x293203=new salesforce_retriever_service_1[(_0xea8838(0x1b1))](this[_0xea8838(0x1aa)]),_0x1bc7d0=await _0x293203[_0xea8838(0x1c6)](_0x4ece82);return _0x1bc7d0;}async['getCommitDto'](_0x3ea58f){const _0x559278=a62_0x11a77c,_0x279c40=new commit_components_dto_1[(_0x559278(0x177))]();return _0x279c40[_0x559278(0x184)]=_0x559278(0x18c),_0x279c40[_0x559278(0x1a1)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1[_0x559278(0x1ae)]},_0x279c40[_0x559278(0x1b2)]={'writed':await this[_0x559278(0x199)]()},_0x279c40[_0x559278(0x1b0)]=_0x3ea58f,_0x279c40[_0x559278(0x181)]=this[_0x559278(0x18e)],_0x279c40[_0x559278(0x1b9)]=this[_0x559278(0x1b9)],_0x279c40[_0x559278(0x1ba)]=!![],_0x279c40[_0x559278(0x182)]=this[_0x559278(0x182)],_0x279c40;}async['checkSyncStatus'](){const _0x19a90e=a62_0x11a77c,_0x4339d5=await this['salesforceSync'][_0x19a90e(0x19c)](this['syncData']),_0x4aba5d=await this[_0x19a90e(0x1aa)][_0x19a90e(0x1b4)](_0x4339d5)[_0x19a90e(0x17a)](_0x50feb2=>typeof _0x50feb2===_0x19a90e(0x19e)?JSON['parse'](_0x50feb2):_0x50feb2)[_0x19a90e(0x188)](()=>({}));if(_0x4aba5d[this['repository']['gitUrl']]){if(_0x4aba5d[this['repository'][_0x19a90e(0x1b3)]][_0x19a90e(0x1c9)]===this[_0x19a90e(0x1b9)][_0x19a90e(0x1a5)])return!![];}return![];}async[a62_0x11a77c(0x174)](){const _0x2a1767=a62_0x11a77c,_0x30b3f7=await this[_0x2a1767(0x18e)][_0x2a1767(0x189)][_0x2a1767(0x1bf)](this['branch']['name']);await this[_0x2a1767(0x1c4)]['log'](this[_0x2a1767(0x1a7)]+_0x2a1767(0x1a2));const _0xf47ceb={[this[_0x2a1767(0x18e)]['gitUrl']]:{'lastCommit':_0x30b3f7[_0x2a1767(0x1a5)]}};await this['salesforceSync'][_0x2a1767(0x1b8)](this[_0x2a1767(0x1be)],_0xf47ceb);}async['run']({syncRecord:_0x115f27,repository:_0x320243,convertToSFDX:_0x5ac5d3,provider:_0x2fdac6}){const _0x3595c5=a62_0x11a77c;this[_0x3595c5(0x1be)]=_0x115f27,this['provider']=_0x2fdac6,this[_0x3595c5(0x18e)]=_0x320243,this[_0x3595c5(0x1c4)]=typedi_1['Container']['get'](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x3595c5(0x1a7)]=_0x3595c5(0x194)+this[_0x3595c5(0x1be)][_0x3595c5(0x192)]+_0x3595c5(0x1c0)+this[_0x3595c5(0x1be)]['branchName']+']';try{await this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this[_0x3595c5(0x1a7)]+_0x3595c5(0x17b))[_0x3595c5(0x17f)](),await this[_0x3595c5(0x1c2)]['setStatus'](this[_0x3595c5(0x1be)],_0x3595c5(0x1c1)),this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this[_0x3595c5(0x1a7)]+_0x3595c5(0x175)),await this[_0x3595c5(0x172)](),await this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this['prefix']+_0x3595c5(0x1a6))[_0x3595c5(0x17f)]();const _0x4a49e5=await this[_0x3595c5(0x1cc)]();this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this[_0x3595c5(0x1a7)]+_0x3595c5(0x198)+_0x4a49e5+'.');if(_0x4a49e5){await this[_0x3595c5(0x1c2)][_0x3595c5(0x191)](this[_0x3595c5(0x1be)],_0x3595c5(0x1b5)),await this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this[_0x3595c5(0x1a7)]+_0x3595c5(0x17d))[_0x3595c5(0x17f)]();return;}const _0x2132a5=await this[_0x3595c5(0x185)](_0x5ac5d3);await this[_0x3595c5(0x1c3)][_0x3595c5(0x1c6)](_0x2132a5,this[_0x3595c5(0x1a7)]),await this[_0x3595c5(0x1c2)]['setStatus'](this['syncData'],_0x3595c5(0x1b5)),await this[_0x3595c5(0x174)](),this[_0x3595c5(0x1c4)][_0x3595c5(0x1af)](this[_0x3595c5(0x1a7)]+_0x3595c5(0x171));}catch(_0xf9ef7){throw _0xf9ef7;}finally{await this[_0x3595c5(0x1c4)][_0x3595c5(0x17f)]();}}};FlosumSyncJob=__decorate([typedi_1[a62_0x11a77c(0x1ab)]({'transient':!![]}),__metadata(a62_0x11a77c(0x1b6),[salesforce_sync_service_1[a62_0x11a77c(0x19f)],salesforce_service_1[a62_0x11a77c(0x170)],commit_components_job_1[a62_0x11a77c(0x1bb)]])],FlosumSyncJob),exports[a62_0x11a77c(0x1bc)]=FlosumSyncJob;