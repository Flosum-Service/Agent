const a125_0xd99aa3=a125_0x2f82;(function(_0x1b4c1f,_0x4954d6){const _0x14d90c=a125_0x2f82,_0x458613=_0x1b4c1f();while(!![]){try{const _0xfbc87c=-parseInt(_0x14d90c(0x1e0))/0x1*(parseInt(_0x14d90c(0x1af))/0x2)+-parseInt(_0x14d90c(0x1ad))/0x3*(-parseInt(_0x14d90c(0x1ce))/0x4)+-parseInt(_0x14d90c(0x1e1))/0x5*(-parseInt(_0x14d90c(0x1ed))/0x6)+-parseInt(_0x14d90c(0x1cd))/0x7*(-parseInt(_0x14d90c(0x1ec))/0x8)+-parseInt(_0x14d90c(0x1c3))/0x9+parseInt(_0x14d90c(0x1a5))/0xa+parseInt(_0x14d90c(0x19c))/0xb*(-parseInt(_0x14d90c(0x1c1))/0xc);if(_0xfbc87c===_0x4954d6)break;else _0x458613['push'](_0x458613['shift']());}catch(_0x36d9d7){_0x458613['push'](_0x458613['shift']());}}}(a125_0x543c,0xb321c));function a125_0x2f82(_0x55249d,_0xf315c){const _0xc85af=a125_0x543c();return a125_0x2f82=function(_0x33dc80,_0x1903e0){_0x33dc80=_0x33dc80-0x198;let _0x543c12=_0xc85af[_0x33dc80];return _0x543c12;},a125_0x2f82(_0x55249d,_0xf315c);}const a125_0x1903e0=(function(){let _0x271981=!![];return function(_0x2cccf4,_0x3fc22d){const _0x429e43=_0x271981?function(){const _0xce145=a125_0x2f82;if(_0x3fc22d){const _0x2144c3=_0x3fc22d[_0xce145(0x1cc)](_0x2cccf4,arguments);return _0x3fc22d=null,_0x2144c3;}}:function(){};return _0x271981=![],_0x429e43;};}()),a125_0x33dc80=a125_0x1903e0(this,function(){const _0x7bdb07=a125_0x2f82;return a125_0x33dc80['toString']()[_0x7bdb07(0x1d1)](_0x7bdb07(0x1d9))['toString']()['constructor'](a125_0x33dc80)[_0x7bdb07(0x1d1)](_0x7bdb07(0x1d9));});a125_0x33dc80();'use strict';var __decorate=this&&this[a125_0xd99aa3(0x1cf)]||function(_0x4f31ca,_0x402400,_0x13fe0b,_0x8147f6){const _0x2cb0b7=a125_0xd99aa3;var _0x28b388=arguments[_0x2cb0b7(0x1e4)],_0x35b6e2=_0x28b388<0x3?_0x402400:_0x8147f6===null?_0x8147f6=Object['getOwnPropertyDescriptor'](_0x402400,_0x13fe0b):_0x8147f6,_0x2a0717;if(typeof Reflect===_0x2cb0b7(0x1a8)&&typeof Reflect['decorate']===_0x2cb0b7(0x1da))_0x35b6e2=Reflect['decorate'](_0x4f31ca,_0x402400,_0x13fe0b,_0x8147f6);else{for(var _0x160b7c=_0x4f31ca['length']-0x1;_0x160b7c>=0x0;_0x160b7c--)if(_0x2a0717=_0x4f31ca[_0x160b7c])_0x35b6e2=(_0x28b388<0x3?_0x2a0717(_0x35b6e2):_0x28b388>0x3?_0x2a0717(_0x402400,_0x13fe0b,_0x35b6e2):_0x2a0717(_0x402400,_0x13fe0b))||_0x35b6e2;}return _0x28b388>0x3&&_0x35b6e2&&Object['defineProperty'](_0x402400,_0x13fe0b,_0x35b6e2),_0x35b6e2;},__metadata=this&&this[a125_0xd99aa3(0x1f3)]||function(_0x4b5a47,_0x32f227){const _0x400165=a125_0xd99aa3;if(typeof Reflect==='object'&&typeof Reflect[_0x400165(0x1e9)]===_0x400165(0x1da))return Reflect[_0x400165(0x1e9)](_0x4b5a47,_0x32f227);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a125_0xd99aa3(0x1e2)]=void 0x0;const salesforce_logger_v3_service_1=require(a125_0xd99aa3(0x1ee)),typedi_1=require(a125_0xd99aa3(0x1a7)),constants_1=require(a125_0xd99aa3(0x1a4)),salesforce_retriever_service_1=require('../../salesforce/services/salesforce-retriever.service'),salesforce_sync_service_1=require(a125_0xd99aa3(0x1e3)),salesforce_service_1=require(a125_0xd99aa3(0x1c9)),commit_components_dto_1=require(a125_0xd99aa3(0x198)),commit_components_job_1=require('./commit-components.job');let FlosumSyncJob=class FlosumSyncJob{constructor(_0x3ac085,_0x1bff54,_0x52a952){const _0x4c0446=a125_0xd99aa3;this[_0x4c0446(0x1ea)]=_0x3ac085,this[_0x4c0446(0x1bd)]=_0x1bff54,this[_0x4c0446(0x1d7)]=_0x52a952;}async[a125_0xd99aa3(0x1b7)](){const _0x23714d=a125_0xd99aa3;let _0x5e7ba9=await this[_0x23714d(0x1d6)][_0x23714d(0x1c0)][_0x23714d(0x1dd)](this[_0x23714d(0x1cb)][_0x23714d(0x1dc)])[_0x23714d(0x1c4)](()=>null);!_0x5e7ba9&&(_0x5e7ba9=await this[_0x23714d(0x1d6)][_0x23714d(0x1c0)][_0x23714d(0x19e)]({'name':this['syncData'][_0x23714d(0x1dc)]})),this['branch']=_0x5e7ba9;}async[a125_0xd99aa3(0x19d)](){const _0x44734e=a125_0xd99aa3;return this[_0x44734e(0x1cb)][_0x44734e(0x1be)]?this['salesforceSync'][_0x44734e(0x1c8)](this[_0x44734e(0x1cb)][_0x44734e(0x1be)]):this['salesforceSync'][_0x44734e(0x19f)](this[_0x44734e(0x1cb)][_0x44734e(0x1b6)]);}async[a125_0xd99aa3(0x1ef)](){const _0x544f65=a125_0xd99aa3,_0x3e1a56=await this['getComponentIds'](),_0x2d1a7c=new salesforce_retriever_service_1['SalesforceRetrieverService'](this[_0x544f65(0x1bd)]),_0x1f7e29=await _0x2d1a7c[_0x544f65(0x1e6)](_0x3e1a56);return _0x1f7e29;}async[a125_0xd99aa3(0x1e8)](_0x4f1a6e){const _0xa7a8ec=a125_0xd99aa3,_0x3bd841=new commit_components_dto_1[(_0xa7a8ec(0x19a))]();return _0x3bd841[_0xa7a8ec(0x1d3)]='Sync\x20repository',_0x3bd841[_0xa7a8ec(0x199)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1[_0xa7a8ec(0x1ac)]},_0x3bd841[_0xa7a8ec(0x1d5)]={'writed':await this[_0xa7a8ec(0x1ef)]()},_0x3bd841[_0xa7a8ec(0x1c6)]=_0x4f1a6e,_0x3bd841[_0xa7a8ec(0x1b8)]=this[_0xa7a8ec(0x1d6)],_0x3bd841['branch']=this[_0xa7a8ec(0x1bf)],_0x3bd841[_0xa7a8ec(0x1a9)]=!![],_0x3bd841['provider']=this['provider'],_0x3bd841[_0xa7a8ec(0x1a0)]=this[_0xa7a8ec(0x1cb)][_0xa7a8ec(0x1aa)],_0x3bd841;}async[a125_0xd99aa3(0x1bb)](){const _0x879f9=a125_0xd99aa3,_0x11aabb=await this[_0x879f9(0x1ea)][_0x879f9(0x1de)](this[_0x879f9(0x1cb)]),_0x3bae72=await this[_0x879f9(0x1bd)][_0x879f9(0x1c2)](_0x11aabb)[_0x879f9(0x1eb)](_0x4b3574=>typeof _0x4b3574===_0x879f9(0x1ab)?JSON[_0x879f9(0x1d0)](_0x4b3574):_0x4b3574)['catch'](()=>({}));if(_0x3bae72[this[_0x879f9(0x1d6)][_0x879f9(0x1a2)]]){if(_0x3bae72[this['repository'][_0x879f9(0x1a2)]][_0x879f9(0x1ca)]===this[_0x879f9(0x1bf)][_0x879f9(0x1b3)])return!![];}return![];}async[a125_0xd99aa3(0x1bc)](){const _0x5272cc=a125_0xd99aa3,_0x9c3e6f=await this[_0x5272cc(0x1d6)][_0x5272cc(0x1c0)][_0x5272cc(0x1dd)](this[_0x5272cc(0x1bf)]['name']);await this[_0x5272cc(0x1e5)][_0x5272cc(0x1c7)](this[_0x5272cc(0x1b5)]+_0x5272cc(0x1ba));const _0xb8adb0={[this['repository']['gitUrl']]:{'lastCommit':_0x9c3e6f['sha']}};await this['salesforceSync'][_0x5272cc(0x1f0)](this[_0x5272cc(0x1cb)],_0xb8adb0);}async[a125_0xd99aa3(0x1e6)]({syncRecord:_0x1e8a82,repository:_0x11960f,convertToSFDX:_0x535443,provider:_0x595dc8}){const _0x512e1e=a125_0xd99aa3;this[_0x512e1e(0x1cb)]=_0x1e8a82,this[_0x512e1e(0x1c5)]=_0x595dc8,this[_0x512e1e(0x1d6)]=_0x11960f,this['sfLogger']=typedi_1[_0x512e1e(0x1b9)][_0x512e1e(0x1a3)](salesforce_logger_v3_service_1['SalesforceLogger3']),this['prefix']=_0x512e1e(0x1a6)+this[_0x512e1e(0x1cb)][_0x512e1e(0x1b1)]+_0x512e1e(0x1b0)+this['syncData'][_0x512e1e(0x1dc)]+']';try{await this[_0x512e1e(0x1e5)][_0x512e1e(0x1c7)](this[_0x512e1e(0x1b5)]+_0x512e1e(0x1f1))[_0x512e1e(0x1f2)](),await this[_0x512e1e(0x1ea)][_0x512e1e(0x1e7)](this[_0x512e1e(0x1cb)],_0x512e1e(0x1b4)),this['sfLogger']['log'](this[_0x512e1e(0x1b5)]+_0x512e1e(0x1b2)),await this['createBranchIfNotExists'](),await this['sfLogger'][_0x512e1e(0x1c7)](this[_0x512e1e(0x1b5)]+_0x512e1e(0x1db))[_0x512e1e(0x1f2)]();const _0x577a13=await this[_0x512e1e(0x1bb)]();this[_0x512e1e(0x1e5)][_0x512e1e(0x1c7)](this[_0x512e1e(0x1b5)]+_0x512e1e(0x1d4)+_0x577a13+'.');if(_0x577a13){await this[_0x512e1e(0x1ea)][_0x512e1e(0x1e7)](this[_0x512e1e(0x1cb)],_0x512e1e(0x1d8)),await this[_0x512e1e(0x1e5)]['log'](this[_0x512e1e(0x1b5)]+_0x512e1e(0x1d2))[_0x512e1e(0x1f2)]();return;}const _0x58d20b=await this[_0x512e1e(0x1e8)](_0x535443);await this['commitJob'][_0x512e1e(0x1e6)](_0x58d20b,this[_0x512e1e(0x1b5)]),await this[_0x512e1e(0x1ea)]['setStatus'](this[_0x512e1e(0x1cb)],_0x512e1e(0x1d8)),await this[_0x512e1e(0x1bc)](),this[_0x512e1e(0x1e5)][_0x512e1e(0x1c7)](this['prefix']+'\x20Flosum\x20sync\x20job\x20done.');}catch(_0x22433c){throw _0x22433c;}finally{await this[_0x512e1e(0x1e5)][_0x512e1e(0x1f2)]();}}};function a125_0x543c(){const _0x1d2b16=['34570qWtENQ',']\x20[Branch:\x20','repositoryName','\x20Checking\x20repository\x20on\x20Flosum\x20side.','sha','In\x20Progress','prefix','branchId','createBranchIfNotExists','repo','Container','\x20Update\x20remote\x20state.','checkSyncStatus','updateLastCommit','salesforceService','repositoryId','branch','branches','5004CtWOep','retrieveAttachment','8055603GQBxDi','catch','provider','convertToSFDX','log','getComponentsFromRepository','../../salesforce/services/salesforce.service','lastCommit','syncData','apply','2312009dTTTJk','960iJxFWu','__decorate','parse','search','\x20Branch\x20synchronized.\x20Skip','message','\x20Sync\x20status\x20','components','repository','commitJob','Completed','(((.+)+)+)+$','function','\x20Checking\x20sync\x20status.','branchName','getOne','getRemoteStateAttachmentId','Service','14OGJLdX','15jbIzOH','FlosumSyncJob','../../salesforce/services/salesforce-sync.service','length','sfLogger','run','setStatus','getCommitDto','metadata','salesforceSync','then','24xWKYcE','1989294bCemJw','../../salesforce/services/salesforce-logger-v3.service','getComponents','updateRemoteState','\x20Start\x20Flosum\x20sync\x20job','send','__metadata','../dto/commit-components.dto','user','CommitComponentsDto','SalesforceService','61083KgZxdm','getComponentIds','create','getBranchComponents','recordType','design:paramtypes','gitUrl','get','../../../../constants','11371940VDSBUu','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','typedi','object','force','recordTypeName','string','DEFAULT_GIT_USER_EMAIL','13296HFUoIe','CommitComponentsJob'];a125_0x543c=function(){return _0x1d2b16;};return a125_0x543c();}FlosumSyncJob=__decorate([(0x0,typedi_1[a125_0xd99aa3(0x1df)])({'transient':!![]}),__metadata(a125_0xd99aa3(0x1a1),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a125_0xd99aa3(0x19b)],commit_components_job_1[a125_0xd99aa3(0x1ae)]])],FlosumSyncJob),exports[a125_0xd99aa3(0x1e2)]=FlosumSyncJob;