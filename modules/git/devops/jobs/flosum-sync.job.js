function a74_0x2ce5(){const _0x3eed3d=['metadata','search','checkSyncStatus','log','CommitComponentsDto','function','salesforceSync','typedi','sha','sfLogger','../../salesforce/services/salesforce-logger-v3.service','repositoryId','defineProperty','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','length','constructor','object','\x20Branch\x20synchronized.\x20Skip','branches','toString','\x20Checking\x20repository\x20on\x20Flosum\x20side.','DEFAULT_GIT_USER_EMAIL','gitUrl','Completed','5043744eMzWzq','syncData','getComponentsFromRepository','get','8182584JpJDBQ','parse','provider','\x20Flosum\x20sync\x20job\x20done.','getBranchComponents','./commit-components.job','design:paramtypes','410985eUDWMj','then','run','../../salesforce/services/salesforce.service','create','\x20Checking\x20sync\x20status.','4678122KShJpL','SalesforceRetrieverService','__decorate','getOwnPropertyDescriptor','components','DEFAULT_GIT_USER_NAME','retrieveAttachment','517909wltWVS','getCommitDto','setStatus','createBranchIfNotExists','lastCommit','branch','repo','(((.+)+)+)+$','decorate','getComponentIds',']\x20[Branch:\x20','SalesforceLogger3','send','branchName','repository','../../salesforce/services/salesforce-retriever.service','getRemoteStateAttachmentId','string','commitJob','14882504KsbFuK','repositoryName','getComponents','apply','1053208isLmVa','Container','SalesforceService','CommitComponentsJob','SalesforceSyncService','FlosumSyncJob','catch','../../salesforce/services/salesforce-sync.service','salesforceService','prefix','In\x20Progress','updateLastCommit','Sync\x20repository','../../../../constants','getOne'];a74_0x2ce5=function(){return _0x3eed3d;};return a74_0x2ce5();}const a74_0x4bd0b9=a74_0x1134;(function(_0x487d73,_0x586a2f){const _0x4623bf=a74_0x1134,_0x3a88b7=_0x487d73();while(!![]){try{const _0xa3ca9f=-parseInt(_0x4623bf(0x12f))/0x1+-parseInt(_0x4623bf(0x146))/0x2+parseInt(_0x4623bf(0x128))/0x3+parseInt(_0x4623bf(0x16d))/0x4+-parseInt(_0x4623bf(0x178))/0x5+parseInt(_0x4623bf(0x171))/0x6+-parseInt(_0x4623bf(0x142))/0x7;if(_0xa3ca9f===_0x586a2f)break;else _0x3a88b7['push'](_0x3a88b7['shift']());}catch(_0x3073ce){_0x3a88b7['push'](_0x3a88b7['shift']());}}}(a74_0x2ce5,0xe35dc));const a74_0x3a1d09=(function(){let _0xccb6dd=!![];return function(_0x23ea4a,_0x224d40){const _0x2f5dd3=_0xccb6dd?function(){const _0x3f3f11=a74_0x1134;if(_0x224d40){const _0x3fd891=_0x224d40[_0x3f3f11(0x145)](_0x23ea4a,arguments);return _0x224d40=null,_0x3fd891;}}:function(){};return _0xccb6dd=![],_0x2f5dd3;};}()),a74_0x4b8453=a74_0x3a1d09(this,function(){const _0x2a6b7f=a74_0x1134;return a74_0x4b8453[_0x2a6b7f(0x168)]()['search'](_0x2a6b7f(0x136))[_0x2a6b7f(0x168)]()[_0x2a6b7f(0x164)](a74_0x4b8453)[_0x2a6b7f(0x156)]('(((.+)+)+)+$');});function a74_0x1134(_0x1dba02,_0x9bfa36){const _0x2ef52f=a74_0x2ce5();return a74_0x1134=function(_0x4b8453,_0x3a1d09){_0x4b8453=_0x4b8453-0x128;let _0x2ce5ce=_0x2ef52f[_0x4b8453];return _0x2ce5ce;},a74_0x1134(_0x1dba02,_0x9bfa36);}a74_0x4b8453();'use strict';var __decorate=this&&this[a74_0x4bd0b9(0x12a)]||function(_0x29bdc4,_0x7c3b3d,_0x4b9373,_0x1a6194){const _0x5b5b1a=a74_0x4bd0b9;var _0x591189=arguments['length'],_0x17bc3b=_0x591189<0x3?_0x7c3b3d:_0x1a6194===null?_0x1a6194=Object[_0x5b5b1a(0x12b)](_0x7c3b3d,_0x4b9373):_0x1a6194,_0x4ca5f0;if(typeof Reflect===_0x5b5b1a(0x165)&&typeof Reflect[_0x5b5b1a(0x137)]===_0x5b5b1a(0x15a))_0x17bc3b=Reflect[_0x5b5b1a(0x137)](_0x29bdc4,_0x7c3b3d,_0x4b9373,_0x1a6194);else{for(var _0x467102=_0x29bdc4[_0x5b5b1a(0x163)]-0x1;_0x467102>=0x0;_0x467102--)if(_0x4ca5f0=_0x29bdc4[_0x467102])_0x17bc3b=(_0x591189<0x3?_0x4ca5f0(_0x17bc3b):_0x591189>0x3?_0x4ca5f0(_0x7c3b3d,_0x4b9373,_0x17bc3b):_0x4ca5f0(_0x7c3b3d,_0x4b9373))||_0x17bc3b;}return _0x591189>0x3&&_0x17bc3b&&Object['defineProperty'](_0x7c3b3d,_0x4b9373,_0x17bc3b),_0x17bc3b;},__metadata=this&&this['__metadata']||function(_0x596d07,_0x5de275){const _0x4aa487=a74_0x4bd0b9;if(typeof Reflect===_0x4aa487(0x165)&&typeof Reflect[_0x4aa487(0x155)]===_0x4aa487(0x15a))return Reflect[_0x4aa487(0x155)](_0x596d07,_0x5de275);};Object[a74_0x4bd0b9(0x161)](exports,'__esModule',{'value':!![]}),exports[a74_0x4bd0b9(0x14b)]=void 0x0;const salesforce_logger_v3_service_1=require(a74_0x4bd0b9(0x15f)),typedi_1=require(a74_0x4bd0b9(0x15c)),constants_1=require(a74_0x4bd0b9(0x153)),salesforce_retriever_service_1=require(a74_0x4bd0b9(0x13e)),salesforce_sync_service_1=require(a74_0x4bd0b9(0x14d)),salesforce_service_1=require(a74_0x4bd0b9(0x17b)),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a74_0x4bd0b9(0x176));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x5d5997,_0x2a1713,_0xa29f28){const _0xa9439d=a74_0x4bd0b9;this[_0xa9439d(0x15b)]=_0x5d5997,this[_0xa9439d(0x14e)]=_0x2a1713,this[_0xa9439d(0x141)]=_0xa29f28;}async[a74_0x4bd0b9(0x132)](){const _0x1f7cdf=a74_0x4bd0b9;let _0x27e964=await this[_0x1f7cdf(0x13d)][_0x1f7cdf(0x167)][_0x1f7cdf(0x154)](this[_0x1f7cdf(0x16e)][_0x1f7cdf(0x13c)])[_0x1f7cdf(0x14c)](()=>null);!_0x27e964&&(_0x27e964=await this[_0x1f7cdf(0x13d)][_0x1f7cdf(0x167)][_0x1f7cdf(0x17c)]({'name':this[_0x1f7cdf(0x16e)][_0x1f7cdf(0x13c)]})),this['branch']=_0x27e964;}async['getComponentIds'](){const _0x17ecd5=a74_0x4bd0b9;return this[_0x17ecd5(0x16e)][_0x17ecd5(0x160)]?this['salesforceSync'][_0x17ecd5(0x16f)](this['syncData'][_0x17ecd5(0x160)]):this[_0x17ecd5(0x15b)][_0x17ecd5(0x175)](this[_0x17ecd5(0x16e)]['branchId']);}async[a74_0x4bd0b9(0x144)](){const _0x2112fd=a74_0x4bd0b9,_0x2df89f=await this[_0x2112fd(0x138)](),_0x117f88=new salesforce_retriever_service_1[(_0x2112fd(0x129))](this[_0x2112fd(0x14e)]),_0x52b7f5=await _0x117f88[_0x2112fd(0x17a)](_0x2df89f);return _0x52b7f5;}async[a74_0x4bd0b9(0x130)](_0x25b6f5){const _0x109298=a74_0x4bd0b9,_0x369aa3=new commit_components_dto_1[(_0x109298(0x159))]();return _0x369aa3['message']=_0x109298(0x152),_0x369aa3['user']={'name':constants_1[_0x109298(0x12d)],'email':constants_1[_0x109298(0x16a)]},_0x369aa3[_0x109298(0x12c)]={'writed':await this['getComponents']()},_0x369aa3['convertToSFDX']=_0x25b6f5,_0x369aa3[_0x109298(0x135)]=this['repository'],_0x369aa3['branch']=this[_0x109298(0x134)],_0x369aa3['force']=!![],_0x369aa3[_0x109298(0x173)]=this[_0x109298(0x173)],_0x369aa3;}async[a74_0x4bd0b9(0x157)](){const _0x4b9c84=a74_0x4bd0b9,_0x4a2b45=await this[_0x4b9c84(0x15b)][_0x4b9c84(0x13f)](this[_0x4b9c84(0x16e)]),_0x488ac0=await this[_0x4b9c84(0x14e)][_0x4b9c84(0x12e)](_0x4a2b45)[_0x4b9c84(0x179)](_0x5bf6c3=>typeof _0x5bf6c3===_0x4b9c84(0x140)?JSON[_0x4b9c84(0x172)](_0x5bf6c3):_0x5bf6c3)[_0x4b9c84(0x14c)](()=>({}));if(_0x488ac0[this[_0x4b9c84(0x13d)][_0x4b9c84(0x16b)]]){if(_0x488ac0[this['repository'][_0x4b9c84(0x16b)]][_0x4b9c84(0x133)]===this[_0x4b9c84(0x134)][_0x4b9c84(0x15d)])return!![];}return![];}async[a74_0x4bd0b9(0x151)](){const _0x15eccf=a74_0x4bd0b9,_0x29c036=await this[_0x15eccf(0x13d)][_0x15eccf(0x167)][_0x15eccf(0x154)](this[_0x15eccf(0x134)]['name']);await this[_0x15eccf(0x15e)][_0x15eccf(0x158)](this[_0x15eccf(0x14f)]+'\x20Update\x20remote\x20state.');const _0x4fc399={[this['repository'][_0x15eccf(0x16b)]]:{'lastCommit':_0x29c036[_0x15eccf(0x15d)]}};await this['salesforceSync']['updateRemoteState'](this[_0x15eccf(0x16e)],_0x4fc399);}async[a74_0x4bd0b9(0x17a)]({syncRecord:_0x108baf,repository:_0x1098f8,convertToSFDX:_0x59e0fb,provider:_0x55f38f}){const _0x58cb68=a74_0x4bd0b9;this[_0x58cb68(0x16e)]=_0x108baf,this['provider']=_0x55f38f,this['repository']=_0x1098f8,this[_0x58cb68(0x15e)]=typedi_1[_0x58cb68(0x147)][_0x58cb68(0x170)](salesforce_logger_v3_service_1[_0x58cb68(0x13a)]),this[_0x58cb68(0x14f)]=_0x58cb68(0x162)+this[_0x58cb68(0x16e)][_0x58cb68(0x143)]+_0x58cb68(0x139)+this['syncData'][_0x58cb68(0x13c)]+']';try{await this['sfLogger']['log'](this[_0x58cb68(0x14f)]+'\x20Start\x20Flosum\x20sync\x20job')[_0x58cb68(0x13b)](),await this[_0x58cb68(0x15b)][_0x58cb68(0x131)](this[_0x58cb68(0x16e)],_0x58cb68(0x150)),this['sfLogger']['log'](this[_0x58cb68(0x14f)]+_0x58cb68(0x169)),await this[_0x58cb68(0x132)](),await this[_0x58cb68(0x15e)][_0x58cb68(0x158)](this[_0x58cb68(0x14f)]+_0x58cb68(0x17d))[_0x58cb68(0x13b)]();const _0x256c2b=await this['checkSyncStatus']();this[_0x58cb68(0x15e)][_0x58cb68(0x158)](this[_0x58cb68(0x14f)]+'\x20Sync\x20status\x20'+_0x256c2b+'.');if(_0x256c2b){await this[_0x58cb68(0x15b)][_0x58cb68(0x131)](this[_0x58cb68(0x16e)],_0x58cb68(0x16c)),await this['sfLogger']['log'](this[_0x58cb68(0x14f)]+_0x58cb68(0x166))[_0x58cb68(0x13b)]();return;}const _0x585c44=await this[_0x58cb68(0x130)](_0x59e0fb);await this[_0x58cb68(0x141)][_0x58cb68(0x17a)](_0x585c44,this[_0x58cb68(0x14f)]),await this[_0x58cb68(0x15b)][_0x58cb68(0x131)](this[_0x58cb68(0x16e)],'Completed'),await this[_0x58cb68(0x151)](),this[_0x58cb68(0x15e)]['log'](this[_0x58cb68(0x14f)]+_0x58cb68(0x174));}catch(_0x4516ba){throw _0x4516ba;}finally{await this[_0x58cb68(0x15e)]['send']();}}};FlosumSyncJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a74_0x4bd0b9(0x177),[salesforce_sync_service_1[a74_0x4bd0b9(0x14a)],salesforce_service_1[a74_0x4bd0b9(0x148)],commit_components_job_1[a74_0x4bd0b9(0x149)]])],FlosumSyncJob),exports[a74_0x4bd0b9(0x14b)]=FlosumSyncJob;