function a123_0x17ff(_0x4ed1e6,_0x273a12){const _0x1a1a41=a123_0x25f1();return a123_0x17ff=function(_0x2ce8b2,_0x2a7670){_0x2ce8b2=_0x2ce8b2-0x143;let _0x25f158=_0x1a1a41[_0x2ce8b2];return _0x25f158;},a123_0x17ff(_0x4ed1e6,_0x273a12);}const a123_0x14a40e=a123_0x17ff;(function(_0x2fa6e3,_0x5d6300){const _0x4a7662=a123_0x17ff,_0x568b2b=_0x2fa6e3();while(!![]){try{const _0x165810=-parseInt(_0x4a7662(0x163))/0x1+-parseInt(_0x4a7662(0x182))/0x2+parseInt(_0x4a7662(0x17c))/0x3*(parseInt(_0x4a7662(0x167))/0x4)+-parseInt(_0x4a7662(0x16c))/0x5+-parseInt(_0x4a7662(0x16f))/0x6+parseInt(_0x4a7662(0x15b))/0x7+parseInt(_0x4a7662(0x155))/0x8*(parseInt(_0x4a7662(0x14a))/0x9);if(_0x165810===_0x5d6300)break;else _0x568b2b['push'](_0x568b2b['shift']());}catch(_0x957b3a){_0x568b2b['push'](_0x568b2b['shift']());}}}(a123_0x25f1,0x8002d));const a123_0x2a7670=(function(){let _0x427511=!![];return function(_0x1b8da0,_0x16cbb4){const _0x552034=_0x427511?function(){if(_0x16cbb4){const _0x241330=_0x16cbb4['apply'](_0x1b8da0,arguments);return _0x16cbb4=null,_0x241330;}}:function(){};return _0x427511=![],_0x552034;};}()),a123_0x2ce8b2=a123_0x2a7670(this,function(){const _0x4c64fa=a123_0x17ff;return a123_0x2ce8b2['toString']()['search'](_0x4c64fa(0x154))[_0x4c64fa(0x190)]()['constructor'](a123_0x2ce8b2)[_0x4c64fa(0x151)](_0x4c64fa(0x154));});a123_0x2ce8b2();'use strict';var __decorate=this&&this['__decorate']||function(_0x5750f4,_0x189201,_0x3ceaf4,_0x2e20ec){const _0x4b97b0=a123_0x17ff;var _0xfde7e8=arguments[_0x4b97b0(0x175)],_0x98cc6f=_0xfde7e8<0x3?_0x189201:_0x2e20ec===null?_0x2e20ec=Object[_0x4b97b0(0x17e)](_0x189201,_0x3ceaf4):_0x2e20ec,_0x85c24;if(typeof Reflect===_0x4b97b0(0x164)&&typeof Reflect['decorate']===_0x4b97b0(0x177))_0x98cc6f=Reflect[_0x4b97b0(0x178)](_0x5750f4,_0x189201,_0x3ceaf4,_0x2e20ec);else{for(var _0x44a551=_0x5750f4['length']-0x1;_0x44a551>=0x0;_0x44a551--)if(_0x85c24=_0x5750f4[_0x44a551])_0x98cc6f=(_0xfde7e8<0x3?_0x85c24(_0x98cc6f):_0xfde7e8>0x3?_0x85c24(_0x189201,_0x3ceaf4,_0x98cc6f):_0x85c24(_0x189201,_0x3ceaf4))||_0x98cc6f;}return _0xfde7e8>0x3&&_0x98cc6f&&Object[_0x4b97b0(0x15e)](_0x189201,_0x3ceaf4,_0x98cc6f),_0x98cc6f;},__metadata=this&&this['__metadata']||function(_0x136ddd,_0x403604){const _0x3dd5a7=a123_0x17ff;if(typeof Reflect===_0x3dd5a7(0x164)&&typeof Reflect[_0x3dd5a7(0x18b)]===_0x3dd5a7(0x177))return Reflect[_0x3dd5a7(0x18b)](_0x136ddd,_0x403604);};Object['defineProperty'](exports,a123_0x14a40e(0x180),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require(a123_0x14a40e(0x16d)),constants_1=require(a123_0x14a40e(0x158)),salesforce_retriever_service_1=require(a123_0x14a40e(0x18a)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a123_0x14a40e(0x170));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x25d446,_0x282db3,_0x3c5dbe){const _0x55ee50=a123_0x14a40e;this['salesforceSync']=_0x25d446,this[_0x55ee50(0x18d)]=_0x282db3,this['commitJob']=_0x3c5dbe;}async[a123_0x14a40e(0x144)](){const _0x2bc4c9=a123_0x14a40e;let _0x585bc6=await this[_0x2bc4c9(0x194)][_0x2bc4c9(0x150)]['getOne'](this['syncData'][_0x2bc4c9(0x147)])['catch'](()=>null);!_0x585bc6&&(_0x585bc6=await this[_0x2bc4c9(0x194)][_0x2bc4c9(0x150)][_0x2bc4c9(0x17f)]({'name':this[_0x2bc4c9(0x16b)][_0x2bc4c9(0x147)]})),this[_0x2bc4c9(0x176)]=_0x585bc6;}async[a123_0x14a40e(0x191)](){const _0x59ec9d=a123_0x14a40e;return this[_0x59ec9d(0x16b)][_0x59ec9d(0x149)]?this[_0x59ec9d(0x161)][_0x59ec9d(0x17b)](this['syncData'][_0x59ec9d(0x149)]):this[_0x59ec9d(0x161)]['getBranchComponents'](this[_0x59ec9d(0x16b)][_0x59ec9d(0x171)]);}async[a123_0x14a40e(0x156)](){const _0x5f09b5=a123_0x14a40e,_0x599d24=await this[_0x5f09b5(0x191)](),_0x30ad10=new salesforce_retriever_service_1[(_0x5f09b5(0x148))](this['salesforceService']),_0x554d45=await _0x30ad10['run'](_0x599d24);return _0x554d45;}async[a123_0x14a40e(0x184)](_0x23c2f0){const _0x4cedec=a123_0x14a40e,_0x4686b4=new commit_components_dto_1[(_0x4cedec(0x14f))]();return _0x4686b4['message']=_0x4cedec(0x174),_0x4686b4[_0x4cedec(0x153)]={'name':constants_1[_0x4cedec(0x179)],'email':constants_1[_0x4cedec(0x181)]},_0x4686b4[_0x4cedec(0x187)]={'writed':await this['getComponents']()},_0x4686b4[_0x4cedec(0x143)]=_0x23c2f0,_0x4686b4[_0x4cedec(0x14b)]=this[_0x4cedec(0x194)],_0x4686b4['branch']=this[_0x4cedec(0x176)],_0x4686b4[_0x4cedec(0x16a)]=!![],_0x4686b4[_0x4cedec(0x162)]=this[_0x4cedec(0x162)],_0x4686b4['recordType']=this[_0x4cedec(0x16b)][_0x4cedec(0x185)],_0x4686b4;}async[a123_0x14a40e(0x168)](){const _0x4f2d7f=a123_0x14a40e,_0x34ff5e=await this[_0x4f2d7f(0x161)]['getRemoteStateAttachmentId'](this[_0x4f2d7f(0x16b)]),_0x42fae3=await this[_0x4f2d7f(0x18d)]['retrieveAttachment'](_0x34ff5e)[_0x4f2d7f(0x15a)](_0x7c7200=>typeof _0x7c7200==='string'?JSON[_0x4f2d7f(0x173)](_0x7c7200):_0x7c7200)[_0x4f2d7f(0x157)](()=>({}));if(_0x42fae3[this[_0x4f2d7f(0x194)][_0x4f2d7f(0x15c)]]){if(_0x42fae3[this[_0x4f2d7f(0x194)][_0x4f2d7f(0x15c)]][_0x4f2d7f(0x172)]===this['branch'][_0x4f2d7f(0x18f)])return!![];}return![];}async[a123_0x14a40e(0x169)](){const _0xb2499c=a123_0x14a40e,_0x5a7775=await this[_0xb2499c(0x194)][_0xb2499c(0x150)][_0xb2499c(0x145)](this[_0xb2499c(0x176)][_0xb2499c(0x192)]);await this[_0xb2499c(0x14e)][_0xb2499c(0x159)](this['prefix']+'\x20Update\x20remote\x20state.');const _0xfad478={[this[_0xb2499c(0x194)]['gitUrl']]:{'lastCommit':_0x5a7775[_0xb2499c(0x18f)]}};await this['salesforceSync'][_0xb2499c(0x193)](this[_0xb2499c(0x16b)],_0xfad478);}async[a123_0x14a40e(0x17d)]({syncRecord:_0x6e876e,repository:_0x148842,convertToSFDX:_0x1e7a69,provider:_0x226bf8}){const _0x3c1cd4=a123_0x14a40e;this['syncData']=_0x6e876e,this[_0x3c1cd4(0x162)]=_0x226bf8,this['repository']=_0x148842,this[_0x3c1cd4(0x14e)]=typedi_1['Container'][_0x3c1cd4(0x15f)](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x3c1cd4(0x17a)]=_0x3c1cd4(0x186)+this[_0x3c1cd4(0x16b)]['repositoryName']+']\x20[Branch:\x20'+this[_0x3c1cd4(0x16b)][_0x3c1cd4(0x147)]+']';try{await this[_0x3c1cd4(0x14e)][_0x3c1cd4(0x159)](this[_0x3c1cd4(0x17a)]+_0x3c1cd4(0x146))[_0x3c1cd4(0x15d)](),await this[_0x3c1cd4(0x161)][_0x3c1cd4(0x188)](this[_0x3c1cd4(0x16b)],_0x3c1cd4(0x183)),this['sfLogger'][_0x3c1cd4(0x159)](this['prefix']+_0x3c1cd4(0x14d)),await this[_0x3c1cd4(0x144)](),await this['sfLogger'][_0x3c1cd4(0x159)](this[_0x3c1cd4(0x17a)]+_0x3c1cd4(0x166))[_0x3c1cd4(0x15d)]();const _0x2e124d=await this['checkSyncStatus']();this[_0x3c1cd4(0x14e)][_0x3c1cd4(0x159)](this[_0x3c1cd4(0x17a)]+_0x3c1cd4(0x16e)+_0x2e124d+'.');if(_0x2e124d){await this['salesforceSync'][_0x3c1cd4(0x188)](this[_0x3c1cd4(0x16b)],_0x3c1cd4(0x18c)),await this[_0x3c1cd4(0x14e)]['log'](this[_0x3c1cd4(0x17a)]+'\x20Branch\x20synchronized.\x20Skip')[_0x3c1cd4(0x15d)]();return;}const _0x3a396f=await this['getCommitDto'](_0x1e7a69);await this[_0x3c1cd4(0x14c)][_0x3c1cd4(0x17d)](_0x3a396f,this[_0x3c1cd4(0x17a)]),await this['salesforceSync'][_0x3c1cd4(0x188)](this[_0x3c1cd4(0x16b)],'Completed'),await this[_0x3c1cd4(0x169)](),this[_0x3c1cd4(0x14e)][_0x3c1cd4(0x159)](this['prefix']+_0x3c1cd4(0x189));}catch(_0x46723f){throw _0x46723f;}finally{await this[_0x3c1cd4(0x14e)][_0x3c1cd4(0x15d)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a123_0x14a40e(0x165)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a123_0x14a40e(0x18e)],salesforce_service_1[a123_0x14a40e(0x152)],commit_components_job_1[a123_0x14a40e(0x160)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;function a123_0x25f1(){const _0x4fbfb3=['decorate','DEFAULT_GIT_USER_NAME','prefix','getComponentsFromRepository','4314MjXAir','run','getOwnPropertyDescriptor','create','__esModule','DEFAULT_GIT_USER_EMAIL','1686758cHPbgM','In\x20Progress','getCommitDto','recordTypeName','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','components','setStatus','\x20Flosum\x20sync\x20job\x20done.','../../salesforce/services/salesforce-retriever.service','metadata','Completed','salesforceService','SalesforceSyncService','sha','toString','getComponentIds','name','updateRemoteState','repository','convertToSFDX','createBranchIfNotExists','getOne','\x20Start\x20Flosum\x20sync\x20job','branchName','SalesforceRetrieverService','repositoryId','90QfVjZI','repo','commitJob','\x20Checking\x20repository\x20on\x20Flosum\x20side.','sfLogger','CommitComponentsDto','branches','search','SalesforceService','user','(((.+)+)+)+$','1750648xjYjhh','getComponents','catch','../../../../constants','log','then','2799741TqkZjv','gitUrl','send','defineProperty','get','CommitComponentsJob','salesforceSync','provider','326799HvxUIT','object','Service','\x20Checking\x20sync\x20status.','228TGCeGL','checkSyncStatus','updateLastCommit','force','syncData','3045370IUGFSd','typedi','\x20Sync\x20status\x20','2199924FmDxjt','./commit-components.job','branchId','lastCommit','parse','Sync\x20repository','length','branch','function'];a123_0x25f1=function(){return _0x4fbfb3;};return a123_0x25f1();}