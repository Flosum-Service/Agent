function a106_0x3dbb(_0x3e71b0,_0xf8e96d){const _0x5793af=a106_0x3bf8();return a106_0x3dbb=function(_0x37da9d,_0x34430d){_0x37da9d=_0x37da9d-0x16b;let _0x3bf8f3=_0x5793af[_0x37da9d];return _0x3bf8f3;},a106_0x3dbb(_0x3e71b0,_0xf8e96d);}const a106_0x2e0b9d=a106_0x3dbb;(function(_0x33debb,_0x4578f6){const _0x57abc2=a106_0x3dbb,_0x12a13c=_0x33debb();while(!![]){try{const _0x2ac20b=-parseInt(_0x57abc2(0x1a9))/0x1*(-parseInt(_0x57abc2(0x1b3))/0x2)+parseInt(_0x57abc2(0x19c))/0x3+-parseInt(_0x57abc2(0x19d))/0x4*(parseInt(_0x57abc2(0x1a8))/0x5)+parseInt(_0x57abc2(0x176))/0x6+-parseInt(_0x57abc2(0x180))/0x7*(-parseInt(_0x57abc2(0x191))/0x8)+parseInt(_0x57abc2(0x1af))/0x9*(parseInt(_0x57abc2(0x18e))/0xa)+-parseInt(_0x57abc2(0x1b1))/0xb;if(_0x2ac20b===_0x4578f6)break;else _0x12a13c['push'](_0x12a13c['shift']());}catch(_0x335c00){_0x12a13c['push'](_0x12a13c['shift']());}}}(a106_0x3bf8,0x9043a));function a106_0x3bf8(){const _0x1cb3ac=['getRemoteStateAttachmentId','run','../../salesforce/services/salesforce-logger-v3.service','__metadata','syncData','prefix','SalesforceSyncService','../../salesforce/services/salesforce-sync.service',']\x20[Branch:\x20','\x20Checking\x20sync\x20status.','DEFAULT_GIT_USER_EMAIL','6098226rSkxqw','branchName','branchId','getComponentsFromRepository','updateLastCommit','length','salesforceService','provider','salesforceSync','\x20Sync\x20status\x20','29078rkbMay','Completed','getComponents','DEFAULT_GIT_USER_NAME','../../salesforce/services/salesforce-retriever.service','retrieveAttachment','force','getOwnPropertyDescriptor','CommitComponentsJob','function','sfLogger','\x20Checking\x20repository\x20on\x20Flosum\x20side.','decorate','getCommitDto','10IwUgRC','(((.+)+)+)+$','create','2112pYCvhe','createBranchIfNotExists','FlosumSyncJob','catch','repositoryName','branch','defineProperty','branches','__esModule','setStatus','repository','3473448CyWTWf','220xwUSph','SalesforceService','metadata','message','gitUrl','sha','SalesforceRetrieverService','log','send','get','../dto/commit-components.dto','98445vaUgNb','27310wuMVkX','__decorate','getComponentIds','object','../../../../constants','apply','9082539FOIdgw','lastCommit','34676543KXTQuB','In\x20Progress','40hKKvNp','getBranchComponents','string','repositoryId','then','\x20Flosum\x20sync\x20job\x20done.','Service','design:paramtypes','./commit-components.job'];a106_0x3bf8=function(){return _0x1cb3ac;};return a106_0x3bf8();}const a106_0x34430d=(function(){let _0x4c53ca=!![];return function(_0xa65675,_0x348068){const _0x298e15=_0x4c53ca?function(){const _0x50e155=a106_0x3dbb;if(_0x348068){const _0x4b9afb=_0x348068[_0x50e155(0x1ae)](_0xa65675,arguments);return _0x348068=null,_0x4b9afb;}}:function(){};return _0x4c53ca=![],_0x298e15;};}()),a106_0x37da9d=a106_0x34430d(this,function(){const _0x162efc=a106_0x3dbb;return a106_0x37da9d['toString']()['search'](_0x162efc(0x18f))['toString']()['constructor'](a106_0x37da9d)['search'](_0x162efc(0x18f));});a106_0x37da9d();'use strict';var __decorate=this&&this[a106_0x2e0b9d(0x1aa)]||function(_0x42f504,_0x1fd510,_0x48e22a,_0x5eb9ce){const _0x56af36=a106_0x2e0b9d;var _0x4422e1=arguments[_0x56af36(0x17b)],_0x530447=_0x4422e1<0x3?_0x1fd510:_0x5eb9ce===null?_0x5eb9ce=Object[_0x56af36(0x187)](_0x1fd510,_0x48e22a):_0x5eb9ce,_0x5d70f8;if(typeof Reflect===_0x56af36(0x1ac)&&typeof Reflect[_0x56af36(0x18c)]===_0x56af36(0x189))_0x530447=Reflect[_0x56af36(0x18c)](_0x42f504,_0x1fd510,_0x48e22a,_0x5eb9ce);else{for(var _0x364e34=_0x42f504[_0x56af36(0x17b)]-0x1;_0x364e34>=0x0;_0x364e34--)if(_0x5d70f8=_0x42f504[_0x364e34])_0x530447=(_0x4422e1<0x3?_0x5d70f8(_0x530447):_0x4422e1>0x3?_0x5d70f8(_0x1fd510,_0x48e22a,_0x530447):_0x5d70f8(_0x1fd510,_0x48e22a))||_0x530447;}return _0x4422e1>0x3&&_0x530447&&Object['defineProperty'](_0x1fd510,_0x48e22a,_0x530447),_0x530447;},__metadata=this&&this[a106_0x2e0b9d(0x16e)]||function(_0x48ac2f,_0x489a1d){const _0x14850a=a106_0x2e0b9d;if(typeof Reflect===_0x14850a(0x1ac)&&typeof Reflect[_0x14850a(0x19f)]===_0x14850a(0x189))return Reflect[_0x14850a(0x19f)](_0x48ac2f,_0x489a1d);};Object[a106_0x2e0b9d(0x197)](exports,a106_0x2e0b9d(0x199),{'value':!![]}),exports[a106_0x2e0b9d(0x193)]=void 0x0;const salesforce_logger_v3_service_1=require(a106_0x2e0b9d(0x16d)),typedi_1=require('typedi'),constants_1=require(a106_0x2e0b9d(0x1ad)),salesforce_retriever_service_1=require(a106_0x2e0b9d(0x184)),salesforce_sync_service_1=require(a106_0x2e0b9d(0x172)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require(a106_0x2e0b9d(0x1a7)),commit_components_job_1=require(a106_0x2e0b9d(0x1bb));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x350563,_0x5d8630,_0x521bfa){const _0x789b51=a106_0x2e0b9d;this[_0x789b51(0x17e)]=_0x350563,this[_0x789b51(0x17c)]=_0x5d8630,this['commitJob']=_0x521bfa;}async[a106_0x2e0b9d(0x192)](){const _0x14d0ea=a106_0x2e0b9d;let _0x49c810=await this[_0x14d0ea(0x19b)][_0x14d0ea(0x198)]['getOne'](this[_0x14d0ea(0x16f)][_0x14d0ea(0x177)])[_0x14d0ea(0x194)](()=>null);!_0x49c810&&(_0x49c810=await this[_0x14d0ea(0x19b)][_0x14d0ea(0x198)][_0x14d0ea(0x190)]({'name':this[_0x14d0ea(0x16f)][_0x14d0ea(0x177)]})),this[_0x14d0ea(0x196)]=_0x49c810;}async[a106_0x2e0b9d(0x1ab)](){const _0x2217e9=a106_0x2e0b9d;return this[_0x2217e9(0x16f)]['repositoryId']?this[_0x2217e9(0x17e)][_0x2217e9(0x179)](this[_0x2217e9(0x16f)][_0x2217e9(0x1b6)]):this[_0x2217e9(0x17e)][_0x2217e9(0x1b4)](this[_0x2217e9(0x16f)][_0x2217e9(0x178)]);}async[a106_0x2e0b9d(0x182)](){const _0x354e4d=a106_0x2e0b9d,_0x34892d=await this[_0x354e4d(0x1ab)](),_0x189024=new salesforce_retriever_service_1[(_0x354e4d(0x1a3))](this[_0x354e4d(0x17c)]),_0x4f5b80=await _0x189024[_0x354e4d(0x16c)](_0x34892d);return _0x4f5b80;}async[a106_0x2e0b9d(0x18d)](_0x51c0c6){const _0x1b27f7=a106_0x2e0b9d,_0x5eaae8=new commit_components_dto_1['CommitComponentsDto']();return _0x5eaae8[_0x1b27f7(0x1a0)]='Sync\x20repository',_0x5eaae8['user']={'name':constants_1[_0x1b27f7(0x183)],'email':constants_1[_0x1b27f7(0x175)]},_0x5eaae8['components']={'writed':await this[_0x1b27f7(0x182)]()},_0x5eaae8['convertToSFDX']=_0x51c0c6,_0x5eaae8['repo']=this[_0x1b27f7(0x19b)],_0x5eaae8[_0x1b27f7(0x196)]=this['branch'],_0x5eaae8[_0x1b27f7(0x186)]=!![],_0x5eaae8[_0x1b27f7(0x17d)]=this[_0x1b27f7(0x17d)],_0x5eaae8;}async['checkSyncStatus'](){const _0x396a15=a106_0x2e0b9d,_0x56e8c5=await this['salesforceSync'][_0x396a15(0x16b)](this[_0x396a15(0x16f)]),_0x45f3fa=await this[_0x396a15(0x17c)][_0x396a15(0x185)](_0x56e8c5)[_0x396a15(0x1b7)](_0x399037=>typeof _0x399037===_0x396a15(0x1b5)?JSON['parse'](_0x399037):_0x399037)['catch'](()=>({}));if(_0x45f3fa[this[_0x396a15(0x19b)][_0x396a15(0x1a1)]]){if(_0x45f3fa[this[_0x396a15(0x19b)][_0x396a15(0x1a1)]][_0x396a15(0x1b0)]===this['branch'][_0x396a15(0x1a2)])return!![];}return![];}async[a106_0x2e0b9d(0x17a)](){const _0x249947=a106_0x2e0b9d,_0x8883a=await this[_0x249947(0x19b)]['branches']['getOne'](this[_0x249947(0x196)]['name']);await this[_0x249947(0x18a)]['log'](this[_0x249947(0x170)]+'\x20Update\x20remote\x20state.');const _0x48ae60={[this[_0x249947(0x19b)][_0x249947(0x1a1)]]:{'lastCommit':_0x8883a[_0x249947(0x1a2)]}};await this[_0x249947(0x17e)]['updateRemoteState'](this[_0x249947(0x16f)],_0x48ae60);}async['run']({syncRecord:_0x19eea0,repository:_0x269610,convertToSFDX:_0x189fa2,provider:_0x32d1d5}){const _0x2afadc=a106_0x2e0b9d;this['syncData']=_0x19eea0,this[_0x2afadc(0x17d)]=_0x32d1d5,this[_0x2afadc(0x19b)]=_0x269610,this['sfLogger']=typedi_1['Container'][_0x2afadc(0x1a6)](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x2afadc(0x170)]='[FLOSUM\x20->\x20GIT]\x20[Repository:\x20'+this[_0x2afadc(0x16f)][_0x2afadc(0x195)]+_0x2afadc(0x173)+this[_0x2afadc(0x16f)]['branchName']+']';try{await this[_0x2afadc(0x18a)]['log'](this['prefix']+'\x20Start\x20Flosum\x20sync\x20job')['send'](),await this[_0x2afadc(0x17e)][_0x2afadc(0x19a)](this[_0x2afadc(0x16f)],_0x2afadc(0x1b2)),this[_0x2afadc(0x18a)][_0x2afadc(0x1a4)](this['prefix']+_0x2afadc(0x18b)),await this[_0x2afadc(0x192)](),await this['sfLogger'][_0x2afadc(0x1a4)](this[_0x2afadc(0x170)]+_0x2afadc(0x174))[_0x2afadc(0x1a5)]();const _0x50a4cc=await this['checkSyncStatus']();this[_0x2afadc(0x18a)]['log'](this[_0x2afadc(0x170)]+_0x2afadc(0x17f)+_0x50a4cc+'.');if(_0x50a4cc){await this['salesforceSync'][_0x2afadc(0x19a)](this[_0x2afadc(0x16f)],_0x2afadc(0x181)),await this['sfLogger']['log'](this[_0x2afadc(0x170)]+'\x20Branch\x20synchronized.\x20Skip')[_0x2afadc(0x1a5)]();return;}const _0x92fb90=await this[_0x2afadc(0x18d)](_0x189fa2);await this['commitJob'][_0x2afadc(0x16c)](_0x92fb90,this[_0x2afadc(0x170)]),await this[_0x2afadc(0x17e)][_0x2afadc(0x19a)](this[_0x2afadc(0x16f)],_0x2afadc(0x181)),await this[_0x2afadc(0x17a)](),this[_0x2afadc(0x18a)]['log'](this[_0x2afadc(0x170)]+_0x2afadc(0x1b8));}catch(_0x1de138){throw _0x1de138;}finally{await this['sfLogger']['send']();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a106_0x2e0b9d(0x1b9)])({'transient':!![]}),__metadata(a106_0x2e0b9d(0x1ba),[salesforce_sync_service_1[a106_0x2e0b9d(0x171)],salesforce_service_1[a106_0x2e0b9d(0x19e)],commit_components_job_1[a106_0x2e0b9d(0x188)]])],FlosumSyncJob),exports[a106_0x2e0b9d(0x193)]=FlosumSyncJob;