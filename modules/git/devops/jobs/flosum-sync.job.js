function a75_0x218b(){const _0x468951=['salesforceService','syncData','send','getOne','branchName','branch','\x20Checking\x20sync\x20status.','getCommitDto','SalesforceRetrieverService','821692MoXhKR','1727TAYAzJ','constructor','2673888VqBdJK','CommitComponentsDto','setStatus','99zPvqih','repository','metadata','lastCommit','724674avGLHr','../dto/commit-components.dto','checkSyncStatus','54010IGelKN','\x20Update\x20remote\x20state.','__esModule','__metadata','./commit-components.job','sfLogger','100lBEHlE','518344UJujBF','getRemoteStateAttachmentId','sha','typedi','DEFAULT_GIT_USER_EMAIL','5xIPrsm','length','168VrfCgN','Completed','SalesforceSyncService','Sync\x20repository','updateRemoteState','create','\x20Branch\x20synchronized.\x20Skip','2yoqlvJ','components','function','apply','\x20Flosum\x20sync\x20job\x20done.','branches','repositoryName','createBranchIfNotExists','log','object','Container','user','then','\x20Start\x20Flosum\x20sync\x20job','76809IOjHUN','(((.+)+)+)+$','name','run','message','toString','../../salesforce/services/salesforce-sync.service','FlosumSyncJob','gitUrl','commitJob','search','../../salesforce/services/salesforce.service','defineProperty','getComponentsFromRepository','parse',']\x20[Branch:\x20','getComponents','catch','force','__decorate','../../salesforce/services/salesforce-retriever.service','getBranchComponents','provider','In\x20Progress','1404377kBiZXJ','salesforceSync','string','decorate','prefix','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','\x20Sync\x20status\x20','repositoryId','getComponentIds','../../../../constants'];a75_0x218b=function(){return _0x468951;};return a75_0x218b();}const a75_0x46ea5a=a75_0x4aae;function a75_0x4aae(_0x1a9628,_0x146dd4){const _0x17f47d=a75_0x218b();return a75_0x4aae=function(_0xe55034,_0x43b07c){_0xe55034=_0xe55034-0x104;let _0x218b6c=_0x17f47d[_0xe55034];return _0x218b6c;},a75_0x4aae(_0x1a9628,_0x146dd4);}(function(_0x41a8ff,_0x2bbbe9){const _0x5cc5ea=a75_0x4aae,_0x26ea32=_0x41a8ff();while(!![]){try{const _0x391dc0=-parseInt(_0x5cc5ea(0x11a))/0x1*(parseInt(_0x5cc5ea(0x13c))/0x2)+-parseInt(_0x5cc5ea(0x14a))/0x3*(parseInt(_0x5cc5ea(0x12d))/0x4)+parseInt(_0x5cc5ea(0x133))/0x5*(-parseInt(_0x5cc5ea(0x124))/0x6)+parseInt(_0x5cc5ea(0x11d))/0x7+parseInt(_0x5cc5ea(0x12e))/0x8*(-parseInt(_0x5cc5ea(0x120))/0x9)+-parseInt(_0x5cc5ea(0x127))/0xa*(-parseInt(_0x5cc5ea(0x11b))/0xb)+parseInt(_0x5cc5ea(0x135))/0xc*(parseInt(_0x5cc5ea(0x107))/0xd);if(_0x391dc0===_0x2bbbe9)break;else _0x26ea32['push'](_0x26ea32['shift']());}catch(_0x5ce64b){_0x26ea32['push'](_0x26ea32['shift']());}}}(a75_0x218b,0x6d266));const a75_0x43b07c=(function(){let _0xf81a37=!![];return function(_0x3fcd8d,_0x33fd29){const _0x1ebd40=_0xf81a37?function(){const _0x70105d=a75_0x4aae;if(_0x33fd29){const _0xc77f58=_0x33fd29[_0x70105d(0x13f)](_0x3fcd8d,arguments);return _0x33fd29=null,_0xc77f58;}}:function(){};return _0xf81a37=![],_0x1ebd40;};}()),a75_0xe55034=a75_0x43b07c(this,function(){const _0x40485a=a75_0x4aae;return a75_0xe55034[_0x40485a(0x14f)]()['search'](_0x40485a(0x14b))[_0x40485a(0x14f)]()[_0x40485a(0x11c)](a75_0xe55034)[_0x40485a(0x154)](_0x40485a(0x14b));});a75_0xe55034();'use strict';var __decorate=this&&this[a75_0x46ea5a(0x15d)]||function(_0x1996b3,_0x4f4c90,_0x5c0c8a,_0x41417c){const _0x76f47b=a75_0x46ea5a;var _0x4c32a3=arguments[_0x76f47b(0x134)],_0x2946c7=_0x4c32a3<0x3?_0x4f4c90:_0x41417c===null?_0x41417c=Object['getOwnPropertyDescriptor'](_0x4f4c90,_0x5c0c8a):_0x41417c,_0x7fab6e;if(typeof Reflect===_0x76f47b(0x145)&&typeof Reflect[_0x76f47b(0x10a)]===_0x76f47b(0x13e))_0x2946c7=Reflect[_0x76f47b(0x10a)](_0x1996b3,_0x4f4c90,_0x5c0c8a,_0x41417c);else{for(var _0x1fd75f=_0x1996b3[_0x76f47b(0x134)]-0x1;_0x1fd75f>=0x0;_0x1fd75f--)if(_0x7fab6e=_0x1996b3[_0x1fd75f])_0x2946c7=(_0x4c32a3<0x3?_0x7fab6e(_0x2946c7):_0x4c32a3>0x3?_0x7fab6e(_0x4f4c90,_0x5c0c8a,_0x2946c7):_0x7fab6e(_0x4f4c90,_0x5c0c8a))||_0x2946c7;}return _0x4c32a3>0x3&&_0x2946c7&&Object[_0x76f47b(0x156)](_0x4f4c90,_0x5c0c8a,_0x2946c7),_0x2946c7;},__metadata=this&&this[a75_0x46ea5a(0x12a)]||function(_0x3d948f,_0x36f957){const _0x26cc45=a75_0x46ea5a;if(typeof Reflect===_0x26cc45(0x145)&&typeof Reflect[_0x26cc45(0x122)]===_0x26cc45(0x13e))return Reflect[_0x26cc45(0x122)](_0x3d948f,_0x36f957);};Object[a75_0x46ea5a(0x156)](exports,a75_0x46ea5a(0x129),{'value':!![]}),exports[a75_0x46ea5a(0x151)]=void 0x0;const salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),typedi_1=require(a75_0x46ea5a(0x131)),constants_1=require(a75_0x46ea5a(0x110)),salesforce_retriever_service_1=require(a75_0x46ea5a(0x15e)),salesforce_sync_service_1=require(a75_0x46ea5a(0x150)),salesforce_service_1=require(a75_0x46ea5a(0x155)),commit_components_dto_1=require(a75_0x46ea5a(0x125)),commit_components_job_1=require(a75_0x46ea5a(0x12b));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x29adb7,_0x33166b,_0x325c9e){const _0x3bad38=a75_0x46ea5a;this[_0x3bad38(0x108)]=_0x29adb7,this['salesforceService']=_0x33166b,this[_0x3bad38(0x153)]=_0x325c9e;}async[a75_0x46ea5a(0x143)](){const _0x106492=a75_0x46ea5a;let _0x4e1f69=await this['repository'][_0x106492(0x141)]['getOne'](this[_0x106492(0x112)]['branchName'])[_0x106492(0x15b)](()=>null);!_0x4e1f69&&(_0x4e1f69=await this[_0x106492(0x121)][_0x106492(0x141)][_0x106492(0x13a)]({'name':this[_0x106492(0x112)]['branchName']})),this[_0x106492(0x116)]=_0x4e1f69;}async[a75_0x46ea5a(0x10f)](){const _0x547645=a75_0x46ea5a;return this[_0x547645(0x112)][_0x547645(0x10e)]?this[_0x547645(0x108)][_0x547645(0x157)](this[_0x547645(0x112)]['repositoryId']):this['salesforceSync'][_0x547645(0x104)](this['syncData']['branchId']);}async[a75_0x46ea5a(0x15a)](){const _0x24985d=a75_0x46ea5a,_0x4c128b=await this['getComponentIds'](),_0x3ffbb0=new salesforce_retriever_service_1[(_0x24985d(0x119))](this[_0x24985d(0x111)]),_0x369cf1=await _0x3ffbb0[_0x24985d(0x14d)](_0x4c128b);return _0x369cf1;}async[a75_0x46ea5a(0x118)](_0x5a1f0c){const _0x1de158=a75_0x46ea5a,_0x4b7a5b=new commit_components_dto_1[(_0x1de158(0x11e))]();return _0x4b7a5b[_0x1de158(0x14e)]=_0x1de158(0x138),_0x4b7a5b[_0x1de158(0x147)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1[_0x1de158(0x132)]},_0x4b7a5b[_0x1de158(0x13d)]={'writed':await this[_0x1de158(0x15a)]()},_0x4b7a5b['convertToSFDX']=_0x5a1f0c,_0x4b7a5b['repo']=this[_0x1de158(0x121)],_0x4b7a5b[_0x1de158(0x116)]=this[_0x1de158(0x116)],_0x4b7a5b[_0x1de158(0x15c)]=!![],_0x4b7a5b[_0x1de158(0x105)]=this['provider'],_0x4b7a5b;}async[a75_0x46ea5a(0x126)](){const _0x5c1e5c=a75_0x46ea5a,_0x391f51=await this['salesforceSync'][_0x5c1e5c(0x12f)](this[_0x5c1e5c(0x112)]),_0x3a1a9c=await this[_0x5c1e5c(0x111)]['retrieveAttachment'](_0x391f51)[_0x5c1e5c(0x148)](_0x577e99=>typeof _0x577e99===_0x5c1e5c(0x109)?JSON[_0x5c1e5c(0x158)](_0x577e99):_0x577e99)['catch'](()=>({}));if(_0x3a1a9c[this[_0x5c1e5c(0x121)][_0x5c1e5c(0x152)]]){if(_0x3a1a9c[this[_0x5c1e5c(0x121)][_0x5c1e5c(0x152)]][_0x5c1e5c(0x123)]===this[_0x5c1e5c(0x116)]['sha'])return!![];}return![];}async['updateLastCommit'](){const _0x3b1bad=a75_0x46ea5a,_0x533948=await this['repository'][_0x3b1bad(0x141)][_0x3b1bad(0x114)](this[_0x3b1bad(0x116)][_0x3b1bad(0x14c)]);await this['sfLogger']['log'](this[_0x3b1bad(0x10b)]+_0x3b1bad(0x128));const _0x5f49a3={[this['repository'][_0x3b1bad(0x152)]]:{'lastCommit':_0x533948[_0x3b1bad(0x130)]}};await this[_0x3b1bad(0x108)][_0x3b1bad(0x139)](this[_0x3b1bad(0x112)],_0x5f49a3);}async['run']({syncRecord:_0x539480,repository:_0x5c9fdc,convertToSFDX:_0x5e50ae,provider:_0x3004fd}){const _0x3877af=a75_0x46ea5a;this['syncData']=_0x539480,this['provider']=_0x3004fd,this[_0x3877af(0x121)]=_0x5c9fdc,this['sfLogger']=typedi_1[_0x3877af(0x146)]['get'](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x3877af(0x10b)]=_0x3877af(0x10c)+this[_0x3877af(0x112)][_0x3877af(0x142)]+_0x3877af(0x159)+this['syncData'][_0x3877af(0x115)]+']';try{await this[_0x3877af(0x12c)][_0x3877af(0x144)](this[_0x3877af(0x10b)]+_0x3877af(0x149))['send'](),await this['salesforceSync'][_0x3877af(0x11f)](this['syncData'],_0x3877af(0x106)),this[_0x3877af(0x12c)]['log'](this['prefix']+'\x20Checking\x20repository\x20on\x20Flosum\x20side.'),await this['createBranchIfNotExists'](),await this['sfLogger'][_0x3877af(0x144)](this[_0x3877af(0x10b)]+_0x3877af(0x117))[_0x3877af(0x113)]();const _0x3f28f8=await this[_0x3877af(0x126)]();this['sfLogger'][_0x3877af(0x144)](this[_0x3877af(0x10b)]+_0x3877af(0x10d)+_0x3f28f8+'.');if(_0x3f28f8){await this['salesforceSync'][_0x3877af(0x11f)](this[_0x3877af(0x112)],_0x3877af(0x136)),await this[_0x3877af(0x12c)][_0x3877af(0x144)](this[_0x3877af(0x10b)]+_0x3877af(0x13b))[_0x3877af(0x113)]();return;}const _0x122e24=await this[_0x3877af(0x118)](_0x5e50ae);await this[_0x3877af(0x153)][_0x3877af(0x14d)](_0x122e24,this[_0x3877af(0x10b)]),await this[_0x3877af(0x108)][_0x3877af(0x11f)](this[_0x3877af(0x112)],_0x3877af(0x136)),await this['updateLastCommit'](),this['sfLogger'][_0x3877af(0x144)](this['prefix']+_0x3877af(0x140));}catch(_0x565e8e){throw _0x565e8e;}finally{await this[_0x3877af(0x12c)][_0x3877af(0x113)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a75_0x46ea5a(0x137)],salesforce_service_1['SalesforceService'],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports[a75_0x46ea5a(0x151)]=FlosumSyncJob;