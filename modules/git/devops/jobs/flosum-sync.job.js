const a106_0x254002=a106_0x6a60;(function(_0x46ac31,_0x32adcb){const _0x49ef90=a106_0x6a60,_0x14177a=_0x46ac31();while(!![]){try{const _0x58c61b=parseInt(_0x49ef90(0x1d8))/0x1+parseInt(_0x49ef90(0x1f1))/0x2*(-parseInt(_0x49ef90(0x1da))/0x3)+-parseInt(_0x49ef90(0x1b4))/0x4*(parseInt(_0x49ef90(0x1b5))/0x5)+-parseInt(_0x49ef90(0x1c2))/0x6*(-parseInt(_0x49ef90(0x1e8))/0x7)+parseInt(_0x49ef90(0x1ec))/0x8*(-parseInt(_0x49ef90(0x1f7))/0x9)+parseInt(_0x49ef90(0x1ab))/0xa*(parseInt(_0x49ef90(0x1a9))/0xb)+parseInt(_0x49ef90(0x1c4))/0xc;if(_0x58c61b===_0x32adcb)break;else _0x14177a['push'](_0x14177a['shift']());}catch(_0x544136){_0x14177a['push'](_0x14177a['shift']());}}}(a106_0x1b96,0xcbba7));const a106_0xd639de=(function(){let _0x21b486=!![];return function(_0x374c27,_0x42f765){const _0x2cafc9=_0x21b486?function(){const _0x58ff6f=a106_0x6a60;if(_0x42f765){const _0x4364dd=_0x42f765[_0x58ff6f(0x1bf)](_0x374c27,arguments);return _0x42f765=null,_0x4364dd;}}:function(){};return _0x21b486=![],_0x2cafc9;};}()),a106_0x419917=a106_0xd639de(this,function(){const _0x573a1d=a106_0x6a60;return a106_0x419917[_0x573a1d(0x1ca)]()[_0x573a1d(0x1f0)](_0x573a1d(0x1ea))['toString']()[_0x573a1d(0x1d1)](a106_0x419917)['search'](_0x573a1d(0x1ea));});a106_0x419917();'use strict';var __decorate=this&&this[a106_0x254002(0x1a7)]||function(_0x8cdd77,_0x23e2d0,_0x51a286,_0x40a192){const _0x54c752=a106_0x254002;var _0x14521e=arguments['length'],_0x2de0a0=_0x14521e<0x3?_0x23e2d0:_0x40a192===null?_0x40a192=Object['getOwnPropertyDescriptor'](_0x23e2d0,_0x51a286):_0x40a192,_0x34354c;if(typeof Reflect===_0x54c752(0x1b3)&&typeof Reflect[_0x54c752(0x1e4)]===_0x54c752(0x19e))_0x2de0a0=Reflect[_0x54c752(0x1e4)](_0x8cdd77,_0x23e2d0,_0x51a286,_0x40a192);else{for(var _0x22493c=_0x8cdd77[_0x54c752(0x1d4)]-0x1;_0x22493c>=0x0;_0x22493c--)if(_0x34354c=_0x8cdd77[_0x22493c])_0x2de0a0=(_0x14521e<0x3?_0x34354c(_0x2de0a0):_0x14521e>0x3?_0x34354c(_0x23e2d0,_0x51a286,_0x2de0a0):_0x34354c(_0x23e2d0,_0x51a286))||_0x2de0a0;}return _0x14521e>0x3&&_0x2de0a0&&Object['defineProperty'](_0x23e2d0,_0x51a286,_0x2de0a0),_0x2de0a0;},__metadata=this&&this['__metadata']||function(_0x1cc1f8,_0x5b9ac5){const _0x90a4cb=a106_0x254002;if(typeof Reflect==='object'&&typeof Reflect[_0x90a4cb(0x1be)]===_0x90a4cb(0x19e))return Reflect['metadata'](_0x1cc1f8,_0x5b9ac5);};Object['defineProperty'](exports,a106_0x254002(0x1c7),{'value':!![]}),exports[a106_0x254002(0x1d5)]=void 0x0;const salesforce_logger_v3_service_1=require(a106_0x254002(0x1de)),typedi_1=require(a106_0x254002(0x1c5)),constants_1=require(a106_0x254002(0x1a8)),salesforce_retriever_service_1=require(a106_0x254002(0x1e2)),salesforce_sync_service_1=require(a106_0x254002(0x1e0)),salesforce_service_1=require(a106_0x254002(0x1bc)),commit_components_dto_1=require(a106_0x254002(0x1d2)),commit_components_job_1=require(a106_0x254002(0x1a6));function a106_0x6a60(_0x3cb24d,_0x2e6d50){const _0xe6d7f7=a106_0x1b96();return a106_0x6a60=function(_0x419917,_0xd639de){_0x419917=_0x419917-0x19e;let _0x1b96d1=_0xe6d7f7[_0x419917];return _0x1b96d1;},a106_0x6a60(_0x3cb24d,_0x2e6d50);}function a106_0x1b96(){const _0x3e8e28=['repository','1917PKtMlv','prefix','run','\x20Update\x20remote\x20state.','../../salesforce/services/salesforce-logger-v3.service','get','../../salesforce/services/salesforce-sync.service','\x20Checking\x20repository\x20on\x20Flosum\x20side.','../../salesforce/services/salesforce-retriever.service','parse','decorate','salesforceService','branchId','DEFAULT_GIT_USER_EMAIL','9441880jfRsoe','SalesforceRetrieverService','(((.+)+)+)+$','force','8UcdECO','repo','getComponentIds','updateRemoteState','search','4876PeGZZh','create','user','In\x20Progress','gitUrl','design:paramtypes','5028471WUFZTR','\x20Start\x20Flosum\x20sync\x20job','repositoryId','function','updateLastCommit','CommitComponentsDto','getCommitDto','SalesforceSyncService','Sync\x20repository','\x20Checking\x20sync\x20status.',']\x20[Branch:\x20','./commit-components.job','__decorate','../../../../constants','253HHUrTO','sha','3270eRYeTx','syncData','catch','commitJob','getComponentsFromRepository','checkSyncStatus','SalesforceLogger3','branches','object','28hmQAFy','179915uMQXPN','salesforceSync','branch','convertToSFDX','Completed','\x20Flosum\x20sync\x20job\x20done.','setStatus','../../salesforce/services/salesforce.service','getComponents','metadata','apply','getBranchComponents','Service','6jIqZBh','createBranchIfNotExists','17262708zNjLvZ','typedi','\x20Branch\x20synchronized.\x20Skip','__esModule','lastCommit','send','toString','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','string','Container','log','DEFAULT_GIT_USER_NAME','sfLogger','constructor','../dto/commit-components.dto','\x20Sync\x20status\x20','length','FlosumSyncJob','provider','getOne','408033GphpYO'];a106_0x1b96=function(){return _0x3e8e28;};return a106_0x1b96();}let FlosumSyncJob=class FlosumSyncJob{constructor(_0x39eb34,_0x499f93,_0x3ca878){const _0x2ef90d=a106_0x254002;this[_0x2ef90d(0x1b6)]=_0x39eb34,this[_0x2ef90d(0x1e5)]=_0x499f93,this[_0x2ef90d(0x1ae)]=_0x3ca878;}async[a106_0x254002(0x1c3)](){const _0x24cff0=a106_0x254002;let _0x419b5d=await this[_0x24cff0(0x1d9)][_0x24cff0(0x1b2)][_0x24cff0(0x1d7)](this['syncData']['branchName'])[_0x24cff0(0x1ad)](()=>null);!_0x419b5d&&(_0x419b5d=await this[_0x24cff0(0x1d9)][_0x24cff0(0x1b2)][_0x24cff0(0x1f2)]({'name':this['syncData']['branchName']})),this[_0x24cff0(0x1b7)]=_0x419b5d;}async[a106_0x254002(0x1ee)](){const _0x77db34=a106_0x254002;return this[_0x77db34(0x1ac)][_0x77db34(0x1f9)]?this['salesforceSync'][_0x77db34(0x1af)](this[_0x77db34(0x1ac)][_0x77db34(0x1f9)]):this[_0x77db34(0x1b6)][_0x77db34(0x1c0)](this['syncData'][_0x77db34(0x1e6)]);}async[a106_0x254002(0x1bd)](){const _0x3a0433=a106_0x254002,_0x4ad8f8=await this['getComponentIds'](),_0x450692=new salesforce_retriever_service_1[(_0x3a0433(0x1e9))](this[_0x3a0433(0x1e5)]),_0x40cc08=await _0x450692[_0x3a0433(0x1dc)](_0x4ad8f8);return _0x40cc08;}async[a106_0x254002(0x1a1)](_0x3175a4){const _0x4bbc84=a106_0x254002,_0x16cc7a=new commit_components_dto_1[(_0x4bbc84(0x1a0))]();return _0x16cc7a['message']=_0x4bbc84(0x1a3),_0x16cc7a[_0x4bbc84(0x1f3)]={'name':constants_1[_0x4bbc84(0x1cf)],'email':constants_1[_0x4bbc84(0x1e7)]},_0x16cc7a['components']={'writed':await this[_0x4bbc84(0x1bd)]()},_0x16cc7a[_0x4bbc84(0x1b8)]=_0x3175a4,_0x16cc7a[_0x4bbc84(0x1ed)]=this[_0x4bbc84(0x1d9)],_0x16cc7a[_0x4bbc84(0x1b7)]=this[_0x4bbc84(0x1b7)],_0x16cc7a[_0x4bbc84(0x1eb)]=!![],_0x16cc7a[_0x4bbc84(0x1d6)]=this[_0x4bbc84(0x1d6)],_0x16cc7a;}async[a106_0x254002(0x1b0)](){const _0x33ab0e=a106_0x254002,_0x2c9ed5=await this[_0x33ab0e(0x1b6)]['getRemoteStateAttachmentId'](this[_0x33ab0e(0x1ac)]),_0x59b78b=await this[_0x33ab0e(0x1e5)]['retrieveAttachment'](_0x2c9ed5)['then'](_0x463e37=>typeof _0x463e37===_0x33ab0e(0x1cc)?JSON[_0x33ab0e(0x1e3)](_0x463e37):_0x463e37)[_0x33ab0e(0x1ad)](()=>({}));if(_0x59b78b[this[_0x33ab0e(0x1d9)]['gitUrl']]){if(_0x59b78b[this['repository'][_0x33ab0e(0x1f5)]][_0x33ab0e(0x1c8)]===this[_0x33ab0e(0x1b7)][_0x33ab0e(0x1aa)])return!![];}return![];}async[a106_0x254002(0x19f)](){const _0x158681=a106_0x254002,_0x5bfb0c=await this[_0x158681(0x1d9)]['branches'][_0x158681(0x1d7)](this[_0x158681(0x1b7)]['name']);await this[_0x158681(0x1d0)]['log'](this['prefix']+_0x158681(0x1dd));const _0x5c3d14={[this[_0x158681(0x1d9)][_0x158681(0x1f5)]]:{'lastCommit':_0x5bfb0c[_0x158681(0x1aa)]}};await this[_0x158681(0x1b6)][_0x158681(0x1ef)](this[_0x158681(0x1ac)],_0x5c3d14);}async['run']({syncRecord:_0x185648,repository:_0x55f610,convertToSFDX:_0x3f6284,provider:_0x550357}){const _0x5c7810=a106_0x254002;this[_0x5c7810(0x1ac)]=_0x185648,this[_0x5c7810(0x1d6)]=_0x550357,this[_0x5c7810(0x1d9)]=_0x55f610,this['sfLogger']=typedi_1[_0x5c7810(0x1cd)][_0x5c7810(0x1df)](salesforce_logger_v3_service_1[_0x5c7810(0x1b1)]),this[_0x5c7810(0x1db)]=_0x5c7810(0x1cb)+this[_0x5c7810(0x1ac)]['repositoryName']+_0x5c7810(0x1a5)+this[_0x5c7810(0x1ac)]['branchName']+']';try{await this[_0x5c7810(0x1d0)][_0x5c7810(0x1ce)](this['prefix']+_0x5c7810(0x1f8))[_0x5c7810(0x1c9)](),await this[_0x5c7810(0x1b6)][_0x5c7810(0x1bb)](this[_0x5c7810(0x1ac)],_0x5c7810(0x1f4)),this[_0x5c7810(0x1d0)]['log'](this[_0x5c7810(0x1db)]+_0x5c7810(0x1e1)),await this['createBranchIfNotExists'](),await this[_0x5c7810(0x1d0)][_0x5c7810(0x1ce)](this[_0x5c7810(0x1db)]+_0x5c7810(0x1a4))[_0x5c7810(0x1c9)]();const _0x5bd728=await this[_0x5c7810(0x1b0)]();this[_0x5c7810(0x1d0)][_0x5c7810(0x1ce)](this[_0x5c7810(0x1db)]+_0x5c7810(0x1d3)+_0x5bd728+'.');if(_0x5bd728){await this[_0x5c7810(0x1b6)]['setStatus'](this[_0x5c7810(0x1ac)],_0x5c7810(0x1b9)),await this['sfLogger']['log'](this[_0x5c7810(0x1db)]+_0x5c7810(0x1c6))[_0x5c7810(0x1c9)]();return;}const _0x4a59ef=await this[_0x5c7810(0x1a1)](_0x3f6284);await this[_0x5c7810(0x1ae)][_0x5c7810(0x1dc)](_0x4a59ef,this['prefix']),await this[_0x5c7810(0x1b6)][_0x5c7810(0x1bb)](this[_0x5c7810(0x1ac)],_0x5c7810(0x1b9)),await this[_0x5c7810(0x19f)](),this[_0x5c7810(0x1d0)][_0x5c7810(0x1ce)](this[_0x5c7810(0x1db)]+_0x5c7810(0x1ba));}catch(_0x42740c){throw _0x42740c;}finally{await this['sfLogger'][_0x5c7810(0x1c9)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a106_0x254002(0x1c1)])({'transient':!![]}),__metadata(a106_0x254002(0x1f6),[salesforce_sync_service_1[a106_0x254002(0x1a2)],salesforce_service_1['SalesforceService'],commit_components_job_1['CommitComponentsJob']])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;