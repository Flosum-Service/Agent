function a74_0x10ff(_0x1df4dc,_0x3df52c){const _0x50643c=a74_0x4c68();return a74_0x10ff=function(_0x19265a,_0x1e353f){_0x19265a=_0x19265a-0xa1;let _0x4c6868=_0x50643c[_0x19265a];return _0x4c6868;},a74_0x10ff(_0x1df4dc,_0x3df52c);}const a74_0x3aa8c9=a74_0x10ff;(function(_0x2f2015,_0x41c102){const _0x2ed9db=a74_0x10ff,_0x15d298=_0x2f2015();while(!![]){try{const _0x48ef09=-parseInt(_0x2ed9db(0xe9))/0x1+parseInt(_0x2ed9db(0xec))/0x2*(parseInt(_0x2ed9db(0xcd))/0x3)+-parseInt(_0x2ed9db(0xb7))/0x4+parseInt(_0x2ed9db(0xca))/0x5*(parseInt(_0x2ed9db(0xe0))/0x6)+parseInt(_0x2ed9db(0xf9))/0x7*(-parseInt(_0x2ed9db(0xb0))/0x8)+parseInt(_0x2ed9db(0xf6))/0x9*(-parseInt(_0x2ed9db(0xbe))/0xa)+parseInt(_0x2ed9db(0xa1))/0xb*(parseInt(_0x2ed9db(0xfd))/0xc);if(_0x48ef09===_0x41c102)break;else _0x15d298['push'](_0x15d298['shift']());}catch(_0x3ec480){_0x15d298['push'](_0x15d298['shift']());}}}(a74_0x4c68,0xe9bcf));const a74_0x1e353f=(function(){let _0x4307ed=!![];return function(_0x34d6df,_0x67339b){const _0x513129=_0x4307ed?function(){const _0x5ebff8=a74_0x10ff;if(_0x67339b){const _0x5a1c3f=_0x67339b[_0x5ebff8(0xc4)](_0x34d6df,arguments);return _0x67339b=null,_0x5a1c3f;}}:function(){};return _0x4307ed=![],_0x513129;};}()),a74_0x19265a=a74_0x1e353f(this,function(){const _0x8ed8d8=a74_0x10ff;return a74_0x19265a[_0x8ed8d8(0xa2)]()['search'](_0x8ed8d8(0xa8))[_0x8ed8d8(0xa2)]()[_0x8ed8d8(0xc3)](a74_0x19265a)[_0x8ed8d8(0xe2)](_0x8ed8d8(0xa8));});function a74_0x4c68(){const _0x534705=['function','../../salesforce/services/salesforce-sync.service','catch','run','defineProperty','SalesforceLogger3','CommitComponentsJob','DEFAULT_GIT_USER_EMAIL','repository','salesforceService','lastCommit','sfLogger','log','updateRemoteState','send','103566yTSRvj','prefix','search','__decorate','syncData','\x20Start\x20Flosum\x20sync\x20job','./commit-components.job','__esModule','__metadata','1580308lIvNNx','FlosumSyncJob','../../salesforce/services/salesforce-retriever.service','2MLGKUH','string','salesforceSync','../../salesforce/services/salesforce-logger-v3.service','name','sha','Container','Service','checkSyncStatus','components','9eEqCuw','get','createBranchIfNotExists','35WCeGxT','branches','\x20Sync\x20status\x20','\x20Flosum\x20sync\x20job\x20done.','9336SiYxZe','33990bJnmcW','toString','parse','setStatus','Completed','\x20Checking\x20sync\x20status.','length','(((.+)+)+)+$','convertToSFDX','getOwnPropertyDescriptor','provider','repo','getComponentsFromRepository','getCommitDto','decorate','1425576eyIKZU','repositoryId','getBranchComponents','gitUrl','object','repositoryName','In\x20Progress','796036SkjLAY','commitJob','message','getComponentIds','user','metadata','../../../../constants','9475690ZxLmrr',']\x20[Branch:\x20','branchName','branch','design:paramtypes','constructor','apply','then','SalesforceRetrieverService','CommitComponentsDto','\x20Update\x20remote\x20state.','updateLastCommit','125mBASdt','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','SalesforceService','5219151apCxGo','create','../dto/commit-components.dto','getOne'];a74_0x4c68=function(){return _0x534705;};return a74_0x4c68();}a74_0x19265a();'use strict';var __decorate=this&&this[a74_0x3aa8c9(0xe3)]||function(_0x19f2cb,_0x21bb05,_0xfe77d9,_0x427017){const _0x3e4074=a74_0x3aa8c9;var _0x467a38=arguments[_0x3e4074(0xa7)],_0x3f218a=_0x467a38<0x3?_0x21bb05:_0x427017===null?_0x427017=Object[_0x3e4074(0xaa)](_0x21bb05,_0xfe77d9):_0x427017,_0x597f36;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x3e4074(0xd1))_0x3f218a=Reflect[_0x3e4074(0xaf)](_0x19f2cb,_0x21bb05,_0xfe77d9,_0x427017);else{for(var _0x13e0b5=_0x19f2cb[_0x3e4074(0xa7)]-0x1;_0x13e0b5>=0x0;_0x13e0b5--)if(_0x597f36=_0x19f2cb[_0x13e0b5])_0x3f218a=(_0x467a38<0x3?_0x597f36(_0x3f218a):_0x467a38>0x3?_0x597f36(_0x21bb05,_0xfe77d9,_0x3f218a):_0x597f36(_0x21bb05,_0xfe77d9))||_0x3f218a;}return _0x467a38>0x3&&_0x3f218a&&Object[_0x3e4074(0xd5)](_0x21bb05,_0xfe77d9,_0x3f218a),_0x3f218a;},__metadata=this&&this[a74_0x3aa8c9(0xe8)]||function(_0x3fa8f6,_0x4ea2b9){const _0x14a0ab=a74_0x3aa8c9;if(typeof Reflect===_0x14a0ab(0xb4)&&typeof Reflect[_0x14a0ab(0xbc)]===_0x14a0ab(0xd1))return Reflect[_0x14a0ab(0xbc)](_0x3fa8f6,_0x4ea2b9);};Object[a74_0x3aa8c9(0xd5)](exports,a74_0x3aa8c9(0xe7),{'value':!![]}),exports[a74_0x3aa8c9(0xea)]=void 0x0;const salesforce_logger_v3_service_1=require(a74_0x3aa8c9(0xef)),typedi_1=require('typedi'),constants_1=require(a74_0x3aa8c9(0xbd)),salesforce_retriever_service_1=require(a74_0x3aa8c9(0xeb)),salesforce_sync_service_1=require(a74_0x3aa8c9(0xd2)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require(a74_0x3aa8c9(0xcf)),commit_components_job_1=require(a74_0x3aa8c9(0xe6));let FlosumSyncJob=class FlosumSyncJob{constructor(_0x46c605,_0x2f877a,_0xaac426){const _0x108123=a74_0x3aa8c9;this[_0x108123(0xee)]=_0x46c605,this[_0x108123(0xda)]=_0x2f877a,this[_0x108123(0xb8)]=_0xaac426;}async['createBranchIfNotExists'](){const _0x402b8a=a74_0x3aa8c9;let _0x376e8f=await this[_0x402b8a(0xd9)][_0x402b8a(0xfa)]['getOne'](this[_0x402b8a(0xe4)]['branchName'])[_0x402b8a(0xd3)](()=>null);!_0x376e8f&&(_0x376e8f=await this[_0x402b8a(0xd9)]['branches'][_0x402b8a(0xce)]({'name':this[_0x402b8a(0xe4)][_0x402b8a(0xc0)]})),this['branch']=_0x376e8f;}async[a74_0x3aa8c9(0xba)](){const _0xd064f6=a74_0x3aa8c9;return this[_0xd064f6(0xe4)][_0xd064f6(0xb1)]?this[_0xd064f6(0xee)][_0xd064f6(0xad)](this['syncData'][_0xd064f6(0xb1)]):this['salesforceSync'][_0xd064f6(0xb2)](this[_0xd064f6(0xe4)]['branchId']);}async['getComponents'](){const _0x6ef353=a74_0x3aa8c9,_0x263166=await this['getComponentIds'](),_0x1d4e49=new salesforce_retriever_service_1[(_0x6ef353(0xc6))](this[_0x6ef353(0xda)]),_0x253e88=await _0x1d4e49[_0x6ef353(0xd4)](_0x263166);return _0x253e88;}async[a74_0x3aa8c9(0xae)](_0x2bcd4d){const _0x1d672b=a74_0x3aa8c9,_0xf28155=new commit_components_dto_1[(_0x1d672b(0xc7))]();return _0xf28155[_0x1d672b(0xb9)]='Sync\x20repository',_0xf28155[_0x1d672b(0xbb)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1[_0x1d672b(0xd8)]},_0xf28155[_0x1d672b(0xf5)]={'writed':await this['getComponents']()},_0xf28155[_0x1d672b(0xa9)]=_0x2bcd4d,_0xf28155[_0x1d672b(0xac)]=this[_0x1d672b(0xd9)],_0xf28155['branch']=this[_0x1d672b(0xc1)],_0xf28155['force']=!![],_0xf28155['provider']=this[_0x1d672b(0xab)],_0xf28155;}async[a74_0x3aa8c9(0xf4)](){const _0xe2f1cd=a74_0x3aa8c9,_0x194961=await this[_0xe2f1cd(0xee)]['getRemoteStateAttachmentId'](this[_0xe2f1cd(0xe4)]),_0x2f29a8=await this[_0xe2f1cd(0xda)]['retrieveAttachment'](_0x194961)[_0xe2f1cd(0xc5)](_0x25a9f7=>typeof _0x25a9f7===_0xe2f1cd(0xed)?JSON[_0xe2f1cd(0xa3)](_0x25a9f7):_0x25a9f7)[_0xe2f1cd(0xd3)](()=>({}));if(_0x2f29a8[this[_0xe2f1cd(0xd9)][_0xe2f1cd(0xb3)]]){if(_0x2f29a8[this[_0xe2f1cd(0xd9)][_0xe2f1cd(0xb3)]][_0xe2f1cd(0xdb)]===this[_0xe2f1cd(0xc1)][_0xe2f1cd(0xf1)])return!![];}return![];}async[a74_0x3aa8c9(0xc9)](){const _0x6aa8a7=a74_0x3aa8c9,_0x49692b=await this['repository'][_0x6aa8a7(0xfa)][_0x6aa8a7(0xd0)](this[_0x6aa8a7(0xc1)][_0x6aa8a7(0xf0)]);await this[_0x6aa8a7(0xdc)][_0x6aa8a7(0xdd)](this['prefix']+_0x6aa8a7(0xc8));const _0x3255f8={[this['repository'][_0x6aa8a7(0xb3)]]:{'lastCommit':_0x49692b[_0x6aa8a7(0xf1)]}};await this['salesforceSync'][_0x6aa8a7(0xde)](this[_0x6aa8a7(0xe4)],_0x3255f8);}async[a74_0x3aa8c9(0xd4)]({syncRecord:_0x5882c1,repository:_0x43c27e,convertToSFDX:_0x11a573,provider:_0x3a7795}){const _0x33c5a1=a74_0x3aa8c9;this['syncData']=_0x5882c1,this[_0x33c5a1(0xab)]=_0x3a7795,this[_0x33c5a1(0xd9)]=_0x43c27e,this[_0x33c5a1(0xdc)]=typedi_1[_0x33c5a1(0xf2)][_0x33c5a1(0xf7)](salesforce_logger_v3_service_1[_0x33c5a1(0xd6)]),this[_0x33c5a1(0xe1)]=_0x33c5a1(0xcb)+this[_0x33c5a1(0xe4)][_0x33c5a1(0xb5)]+_0x33c5a1(0xbf)+this[_0x33c5a1(0xe4)]['branchName']+']';try{await this[_0x33c5a1(0xdc)][_0x33c5a1(0xdd)](this[_0x33c5a1(0xe1)]+_0x33c5a1(0xe5))[_0x33c5a1(0xdf)](),await this[_0x33c5a1(0xee)][_0x33c5a1(0xa4)](this[_0x33c5a1(0xe4)],_0x33c5a1(0xb6)),this[_0x33c5a1(0xdc)][_0x33c5a1(0xdd)](this[_0x33c5a1(0xe1)]+'\x20Checking\x20repository\x20on\x20Flosum\x20side.'),await this[_0x33c5a1(0xf8)](),await this['sfLogger'][_0x33c5a1(0xdd)](this[_0x33c5a1(0xe1)]+_0x33c5a1(0xa6))[_0x33c5a1(0xdf)]();const _0x1223e9=await this[_0x33c5a1(0xf4)]();this[_0x33c5a1(0xdc)][_0x33c5a1(0xdd)](this['prefix']+_0x33c5a1(0xfb)+_0x1223e9+'.');if(_0x1223e9){await this['salesforceSync']['setStatus'](this['syncData'],_0x33c5a1(0xa5)),await this[_0x33c5a1(0xdc)]['log'](this[_0x33c5a1(0xe1)]+'\x20Branch\x20synchronized.\x20Skip')[_0x33c5a1(0xdf)]();return;}const _0x3d7cfc=await this[_0x33c5a1(0xae)](_0x11a573);await this['commitJob'][_0x33c5a1(0xd4)](_0x3d7cfc,this['prefix']),await this[_0x33c5a1(0xee)]['setStatus'](this['syncData'],_0x33c5a1(0xa5)),await this[_0x33c5a1(0xc9)](),this[_0x33c5a1(0xdc)][_0x33c5a1(0xdd)](this[_0x33c5a1(0xe1)]+_0x33c5a1(0xfc));}catch(_0x2a464c){throw _0x2a464c;}finally{await this[_0x33c5a1(0xdc)][_0x33c5a1(0xdf)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1[a74_0x3aa8c9(0xf3)])({'transient':!![]}),__metadata(a74_0x3aa8c9(0xc2),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a74_0x3aa8c9(0xcc)],commit_components_job_1[a74_0x3aa8c9(0xd7)]])],FlosumSyncJob),exports[a74_0x3aa8c9(0xea)]=FlosumSyncJob;