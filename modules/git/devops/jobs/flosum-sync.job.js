const a125_0x7b2b49=a125_0xd938;(function(_0x1d06d4,_0x3f3c28){const _0x407d0c=a125_0xd938,_0x49d198=_0x1d06d4();while(!![]){try{const _0x28ad84=-parseInt(_0x407d0c(0xf2))/0x1*(-parseInt(_0x407d0c(0xf7))/0x2)+parseInt(_0x407d0c(0x10a))/0x3*(-parseInt(_0x407d0c(0xc0))/0x4)+-parseInt(_0x407d0c(0xc2))/0x5*(-parseInt(_0x407d0c(0xed))/0x6)+parseInt(_0x407d0c(0xf5))/0x7*(parseInt(_0x407d0c(0xfd))/0x8)+parseInt(_0x407d0c(0xdf))/0x9*(parseInt(_0x407d0c(0x100))/0xa)+-parseInt(_0x407d0c(0xc5))/0xb*(parseInt(_0x407d0c(0xcb))/0xc)+parseInt(_0x407d0c(0xd7))/0xd*(-parseInt(_0x407d0c(0xf3))/0xe);if(_0x28ad84===_0x3f3c28)break;else _0x49d198['push'](_0x49d198['shift']());}catch(_0x201d79){_0x49d198['push'](_0x49d198['shift']());}}}(a125_0x1e55,0x3026d));function a125_0x1e55(){const _0x37d057=['string','getBranchComponents','./commit-components.job','\x20Checking\x20sync\x20status.','toString','log','design:paramtypes','292566TIrviy','../../salesforce/services/salesforce-sync.service','retrieveAttachment','Completed','search','32vfxyGG','728602LJzihr','constructor','1393SOVOsW','catch','4198oUeFvF','getCommitDto','branches','branch','repositoryName','metadata','88tzdkFg','createBranchIfNotExists','checkSyncStatus','10crrhrY','salesforceSync','sha','In\x20Progress','repo','user','updateLastCommit','convertToSFDX','get','SalesforceRetrieverService','9309fUUIya','provider','commitJob','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','getOne','decorate','then','__metadata','Sync\x20repository','../../salesforce/services/salesforce.service','sfLogger','\x20Start\x20Flosum\x20sync\x20job','gitUrl','repositoryId','FlosumSyncJob','__decorate','branchName','../../salesforce/services/salesforce-logger-v3.service','create',']\x20[Branch:\x20','\x20Sync\x20status\x20','run','SalesforceService','20jFWjNn','components','5aXtLSB','name','DEFAULT_GIT_USER_EMAIL','11uVrkva','\x20Checking\x20repository\x20on\x20Flosum\x20side.','function','length','syncData','DEFAULT_GIT_USER_NAME','124356ZhygcH','lastCommit','(((.+)+)+)+$','../../../../constants','__esModule','repository','getComponentIds','message','send','prefix','Container','updateRemoteState','13jNvoYx','recordType','defineProperty','apply','CommitComponentsJob','getRemoteStateAttachmentId','force','getComponents','1413288WqZhMa','parse','salesforceService','recordTypeName','setStatus','CommitComponentsDto','branchId'];a125_0x1e55=function(){return _0x37d057;};return a125_0x1e55();}const a125_0xde1894=(function(){let _0x13ce0a=!![];return function(_0x5afc00,_0xd5400d){const _0x1ec18c=_0x13ce0a?function(){const _0x4c3faa=a125_0xd938;if(_0xd5400d){const _0x36572c=_0xd5400d[_0x4c3faa(0xda)](_0x5afc00,arguments);return _0xd5400d=null,_0x36572c;}}:function(){};return _0x13ce0a=![],_0x1ec18c;};}()),a125_0x4ee37f=a125_0xde1894(this,function(){const _0x2cc67f=a125_0xd938;return a125_0x4ee37f['toString']()['search'](_0x2cc67f(0xcd))[_0x2cc67f(0xea)]()[_0x2cc67f(0xf4)](a125_0x4ee37f)[_0x2cc67f(0xf1)](_0x2cc67f(0xcd));});a125_0x4ee37f();'use strict';var __decorate=this&&this[a125_0x7b2b49(0xb8)]||function(_0x4f5656,_0x253e62,_0x194307,_0x27aeef){const _0x13eecb=a125_0x7b2b49;var _0x4bb728=arguments[_0x13eecb(0xc8)],_0x20d240=_0x4bb728<0x3?_0x253e62:_0x27aeef===null?_0x27aeef=Object['getOwnPropertyDescriptor'](_0x253e62,_0x194307):_0x27aeef,_0x4bc8be;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x20d240=Reflect[_0x13eecb(0x10f)](_0x4f5656,_0x253e62,_0x194307,_0x27aeef);else{for(var _0x3b022c=_0x4f5656[_0x13eecb(0xc8)]-0x1;_0x3b022c>=0x0;_0x3b022c--)if(_0x4bc8be=_0x4f5656[_0x3b022c])_0x20d240=(_0x4bb728<0x3?_0x4bc8be(_0x20d240):_0x4bb728>0x3?_0x4bc8be(_0x253e62,_0x194307,_0x20d240):_0x4bc8be(_0x253e62,_0x194307))||_0x20d240;}return _0x4bb728>0x3&&_0x20d240&&Object[_0x13eecb(0xd9)](_0x253e62,_0x194307,_0x20d240),_0x20d240;},__metadata=this&&this[a125_0x7b2b49(0x111)]||function(_0x571b60,_0x275ce8){const _0x50d4f0=a125_0x7b2b49;if(typeof Reflect==='object'&&typeof Reflect[_0x50d4f0(0xfc)]===_0x50d4f0(0xc7))return Reflect[_0x50d4f0(0xfc)](_0x571b60,_0x275ce8);};Object['defineProperty'](exports,a125_0x7b2b49(0xcf),{'value':!![]}),exports['FlosumSyncJob']=void 0x0;const salesforce_logger_v3_service_1=require(a125_0x7b2b49(0xba)),typedi_1=require('typedi'),constants_1=require(a125_0x7b2b49(0xce)),salesforce_retriever_service_1=require('../../salesforce/services/salesforce-retriever.service'),salesforce_sync_service_1=require(a125_0x7b2b49(0xee)),salesforce_service_1=require(a125_0x7b2b49(0x113)),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a125_0x7b2b49(0xe8));function a125_0xd938(_0x453c1a,_0x5b1247){const _0xb42bad=a125_0x1e55();return a125_0xd938=function(_0x4ee37f,_0xde1894){_0x4ee37f=_0x4ee37f-0xb5;let _0x1e5543=_0xb42bad[_0x4ee37f];return _0x1e5543;},a125_0xd938(_0x453c1a,_0x5b1247);}let FlosumSyncJob=class FlosumSyncJob{constructor(_0x1dbd82,_0x3b2443,_0x25de22){const _0x4533ea=a125_0x7b2b49;this[_0x4533ea(0x101)]=_0x1dbd82,this[_0x4533ea(0xe1)]=_0x3b2443,this[_0x4533ea(0x10c)]=_0x25de22;}async[a125_0x7b2b49(0xfe)](){const _0x3db254=a125_0x7b2b49;let _0x5b8f98=await this['repository'][_0x3db254(0xf9)][_0x3db254(0x10e)](this[_0x3db254(0xc9)][_0x3db254(0xb9)])[_0x3db254(0xf6)](()=>null);!_0x5b8f98&&(_0x5b8f98=await this['repository'][_0x3db254(0xf9)][_0x3db254(0xbb)]({'name':this[_0x3db254(0xc9)][_0x3db254(0xb9)]})),this[_0x3db254(0xfa)]=_0x5b8f98;}async[a125_0x7b2b49(0xd1)](){const _0x105274=a125_0x7b2b49;return this[_0x105274(0xc9)][_0x105274(0xb6)]?this[_0x105274(0x101)]['getComponentsFromRepository'](this[_0x105274(0xc9)]['repositoryId']):this[_0x105274(0x101)][_0x105274(0xe7)](this[_0x105274(0xc9)][_0x105274(0xe5)]);}async[a125_0x7b2b49(0xde)](){const _0x4ed58c=a125_0x7b2b49,_0x20555d=await this['getComponentIds'](),_0x2b14c0=new salesforce_retriever_service_1[(_0x4ed58c(0x109))](this[_0x4ed58c(0xe1)]),_0x501e46=await _0x2b14c0[_0x4ed58c(0xbe)](_0x20555d);return _0x501e46;}async[a125_0x7b2b49(0xf8)](_0x651378){const _0x3ee4d6=a125_0x7b2b49,_0x556b92=new commit_components_dto_1[(_0x3ee4d6(0xe4))]();return _0x556b92[_0x3ee4d6(0xd2)]=_0x3ee4d6(0x112),_0x556b92[_0x3ee4d6(0x105)]={'name':constants_1[_0x3ee4d6(0xca)],'email':constants_1[_0x3ee4d6(0xc4)]},_0x556b92[_0x3ee4d6(0xc1)]={'writed':await this['getComponents']()},_0x556b92[_0x3ee4d6(0x107)]=_0x651378,_0x556b92[_0x3ee4d6(0x104)]=this[_0x3ee4d6(0xd0)],_0x556b92['branch']=this['branch'],_0x556b92[_0x3ee4d6(0xdd)]=!![],_0x556b92[_0x3ee4d6(0x10b)]=this[_0x3ee4d6(0x10b)],_0x556b92[_0x3ee4d6(0xd8)]=this[_0x3ee4d6(0xc9)][_0x3ee4d6(0xe2)],_0x556b92;}async[a125_0x7b2b49(0xff)](){const _0x233b9c=a125_0x7b2b49,_0x33f059=await this[_0x233b9c(0x101)][_0x233b9c(0xdc)](this['syncData']),_0xab80d9=await this[_0x233b9c(0xe1)][_0x233b9c(0xef)](_0x33f059)[_0x233b9c(0x110)](_0x1218c0=>typeof _0x1218c0===_0x233b9c(0xe6)?JSON[_0x233b9c(0xe0)](_0x1218c0):_0x1218c0)['catch'](()=>({}));if(_0xab80d9[this[_0x233b9c(0xd0)][_0x233b9c(0xb5)]]){if(_0xab80d9[this[_0x233b9c(0xd0)][_0x233b9c(0xb5)]][_0x233b9c(0xcc)]===this['branch'][_0x233b9c(0x102)])return!![];}return![];}async[a125_0x7b2b49(0x106)](){const _0x510444=a125_0x7b2b49,_0x3e53af=await this[_0x510444(0xd0)][_0x510444(0xf9)][_0x510444(0x10e)](this['branch'][_0x510444(0xc3)]);await this['sfLogger'][_0x510444(0xeb)](this['prefix']+'\x20Update\x20remote\x20state.');const _0x379d64={[this['repository'][_0x510444(0xb5)]]:{'lastCommit':_0x3e53af[_0x510444(0x102)]}};await this[_0x510444(0x101)][_0x510444(0xd6)](this['syncData'],_0x379d64);}async['run']({syncRecord:_0x3f55ce,repository:_0x30a5fa,convertToSFDX:_0x3ed37e,provider:_0x20f11d}){const _0x182b5d=a125_0x7b2b49;this['syncData']=_0x3f55ce,this['provider']=_0x20f11d,this[_0x182b5d(0xd0)]=_0x30a5fa,this[_0x182b5d(0x114)]=typedi_1[_0x182b5d(0xd5)][_0x182b5d(0x108)](salesforce_logger_v3_service_1['SalesforceLogger3']),this[_0x182b5d(0xd4)]=_0x182b5d(0x10d)+this[_0x182b5d(0xc9)][_0x182b5d(0xfb)]+_0x182b5d(0xbc)+this[_0x182b5d(0xc9)][_0x182b5d(0xb9)]+']';try{await this[_0x182b5d(0x114)][_0x182b5d(0xeb)](this[_0x182b5d(0xd4)]+_0x182b5d(0x115))[_0x182b5d(0xd3)](),await this[_0x182b5d(0x101)][_0x182b5d(0xe3)](this['syncData'],_0x182b5d(0x103)),this['sfLogger'][_0x182b5d(0xeb)](this[_0x182b5d(0xd4)]+_0x182b5d(0xc6)),await this[_0x182b5d(0xfe)](),await this[_0x182b5d(0x114)][_0x182b5d(0xeb)](this[_0x182b5d(0xd4)]+_0x182b5d(0xe9))[_0x182b5d(0xd3)]();const _0x564f56=await this[_0x182b5d(0xff)]();this[_0x182b5d(0x114)]['log'](this[_0x182b5d(0xd4)]+_0x182b5d(0xbd)+_0x564f56+'.');if(_0x564f56){await this[_0x182b5d(0x101)][_0x182b5d(0xe3)](this[_0x182b5d(0xc9)],_0x182b5d(0xf0)),await this[_0x182b5d(0x114)]['log'](this['prefix']+'\x20Branch\x20synchronized.\x20Skip')['send']();return;}const _0x2daac0=await this[_0x182b5d(0xf8)](_0x3ed37e);await this[_0x182b5d(0x10c)][_0x182b5d(0xbe)](_0x2daac0,this[_0x182b5d(0xd4)]),await this[_0x182b5d(0x101)]['setStatus'](this['syncData'],_0x182b5d(0xf0)),await this['updateLastCommit'](),this[_0x182b5d(0x114)][_0x182b5d(0xeb)](this['prefix']+'\x20Flosum\x20sync\x20job\x20done.');}catch(_0x21ca42){throw _0x21ca42;}finally{await this[_0x182b5d(0x114)][_0x182b5d(0xd3)]();}}};FlosumSyncJob=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a125_0x7b2b49(0xec),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a125_0x7b2b49(0xbf)],commit_components_job_1[a125_0x7b2b49(0xdb)]])],FlosumSyncJob),exports[a125_0x7b2b49(0xb7)]=FlosumSyncJob;