const a126_0x2f4558=a126_0x57c2;(function(_0x7fe3ff,_0xe6b471){const _0x5e5f71=a126_0x57c2,_0x3ae9dc=_0x7fe3ff();while(!![]){try{const _0x4eb699=parseInt(_0x5e5f71(0x91))/0x1+parseInt(_0x5e5f71(0xde))/0x2*(parseInt(_0x5e5f71(0x79))/0x3)+-parseInt(_0x5e5f71(0xc6))/0x4*(parseInt(_0x5e5f71(0xd1))/0x5)+-parseInt(_0x5e5f71(0xb1))/0x6+-parseInt(_0x5e5f71(0x114))/0x7+-parseInt(_0x5e5f71(0xa0))/0x8+parseInt(_0x5e5f71(0x109))/0x9;if(_0x4eb699===_0xe6b471)break;else _0x3ae9dc['push'](_0x3ae9dc['shift']());}catch(_0x22421e){_0x3ae9dc['push'](_0x3ae9dc['shift']());}}}(a126_0xa0a2,0xf08c9));const a126_0x4d0436=(function(){let _0x13614d=!![];return function(_0x5d187b,_0x188248){const _0x1cc80c=_0x13614d?function(){if(_0x188248){const _0x4654f0=_0x188248['apply'](_0x5d187b,arguments);return _0x188248=null,_0x4654f0;}}:function(){};return _0x13614d=![],_0x1cc80c;};}()),a126_0x371e5b=a126_0x4d0436(this,function(){const _0x3a1f80=a126_0x57c2;return a126_0x371e5b[_0x3a1f80(0x118)]()['search'](_0x3a1f80(0xf3))[_0x3a1f80(0x118)]()[_0x3a1f80(0x80)](a126_0x371e5b)['search'](_0x3a1f80(0xf3));});function a126_0x57c2(_0x24f302,_0x402b2c){const _0x1c3c3a=a126_0xa0a2();return a126_0x57c2=function(_0x371e5b,_0x4d0436){_0x371e5b=_0x371e5b-0x6b;let _0xa0a264=_0x1c3c3a[_0x371e5b];return _0xa0a264;},a126_0x57c2(_0x24f302,_0x402b2c);}a126_0x371e5b();'use strict';var __createBinding=this&&this[a126_0x2f4558(0xf7)]||(Object['create']?function(_0xbfa42a,_0x114ed1,_0x1f13df,_0x579c0b){const _0x51abe0=a126_0x2f4558;if(_0x579c0b===undefined)_0x579c0b=_0x1f13df;var _0x4863af=Object[_0x51abe0(0xc1)](_0x114ed1,_0x1f13df);(!_0x4863af||(_0x51abe0(0x104)in _0x4863af?!_0x114ed1[_0x51abe0(0x6e)]:_0x4863af[_0x51abe0(0x83)]||_0x4863af[_0x51abe0(0xed)]))&&(_0x4863af={'enumerable':!![],'get':function(){return _0x114ed1[_0x1f13df];}}),Object['defineProperty'](_0xbfa42a,_0x579c0b,_0x4863af);}:function(_0x26bc1a,_0x36ef83,_0x1054f5,_0x4f48b9){if(_0x4f48b9===undefined)_0x4f48b9=_0x1054f5;_0x26bc1a[_0x4f48b9]=_0x36ef83[_0x1054f5];}),__setModuleDefault=this&&this[a126_0x2f4558(0x7f)]||(Object[a126_0x2f4558(0x71)]?function(_0x48331c,_0x2a7dd3){const _0x3c0d3d=a126_0x2f4558;Object[_0x3c0d3d(0x9c)](_0x48331c,'default',{'enumerable':!![],'value':_0x2a7dd3});}:function(_0x16a4ac,_0x3879cb){const _0x55e726=a126_0x2f4558;_0x16a4ac[_0x55e726(0x73)]=_0x3879cb;}),__decorate=this&&this['__decorate']||function(_0x44f89b,_0x82071b,_0x1c1ee6,_0x1a0a4d){const _0x4bfe9f=a126_0x2f4558;var _0xf32095=arguments['length'],_0x5b018c=_0xf32095<0x3?_0x82071b:_0x1a0a4d===null?_0x1a0a4d=Object[_0x4bfe9f(0xc1)](_0x82071b,_0x1c1ee6):_0x1a0a4d,_0x42fcdf;if(typeof Reflect===_0x4bfe9f(0xec)&&typeof Reflect[_0x4bfe9f(0xda)]===_0x4bfe9f(0xce))_0x5b018c=Reflect['decorate'](_0x44f89b,_0x82071b,_0x1c1ee6,_0x1a0a4d);else{for(var _0x23f28e=_0x44f89b[_0x4bfe9f(0xf4)]-0x1;_0x23f28e>=0x0;_0x23f28e--)if(_0x42fcdf=_0x44f89b[_0x23f28e])_0x5b018c=(_0xf32095<0x3?_0x42fcdf(_0x5b018c):_0xf32095>0x3?_0x42fcdf(_0x82071b,_0x1c1ee6,_0x5b018c):_0x42fcdf(_0x82071b,_0x1c1ee6))||_0x5b018c;}return _0xf32095>0x3&&_0x5b018c&&Object[_0x4bfe9f(0x9c)](_0x82071b,_0x1c1ee6,_0x5b018c),_0x5b018c;},__importStar=this&&this[a126_0x2f4558(0x6f)]||function(_0x971e42){const _0x308617=a126_0x2f4558;if(_0x971e42&&_0x971e42[_0x308617(0x6e)])return _0x971e42;var _0x46108e={};if(_0x971e42!=null){for(var _0x2ff7a1 in _0x971e42)if(_0x2ff7a1!==_0x308617(0x73)&&Object[_0x308617(0xc2)][_0x308617(0x82)][_0x308617(0xa4)](_0x971e42,_0x2ff7a1))__createBinding(_0x46108e,_0x971e42,_0x2ff7a1);}return __setModuleDefault(_0x46108e,_0x971e42),_0x46108e;},__metadata=this&&this[a126_0x2f4558(0x8c)]||function(_0x518bc7,_0x51a004){const _0x462222=a126_0x2f4558;if(typeof Reflect==='object'&&typeof Reflect[_0x462222(0xa1)]===_0x462222(0xce))return Reflect[_0x462222(0xa1)](_0x518bc7,_0x51a004);},GitCommitJob_1;Object[a126_0x2f4558(0x9c)](exports,a126_0x2f4558(0x6e),{'value':!![]}),exports[a126_0x2f4558(0x8e)]=void 0x0;const core_1=require(a126_0x2f4558(0x7a)),fs_internal_1=require(a126_0x2f4558(0x86)),salesforce_logger_v3_service_1=require(a126_0x2f4558(0x9d)),utils_1=require('../../../shared/utils'),path_1=require(a126_0x2f4558(0x11d)),typedi_1=__importStar(require(a126_0x2f4558(0xdc))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require(a126_0x2f4558(0xd2)),git_utils_1=require(a126_0x2f4558(0xf0)),mdapi_utils_1=require(a126_0x2f4558(0xcd)),api_error_1=require('../../../../core/errors/api.error'),salesforce_error_1=require(a126_0x2f4558(0x10f)),git_commit_service_1=require(a126_0x2f4558(0xf1)),flosum_commit_error_1=require(a126_0x2f4558(0x101)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a126_0x2f4558(0x116)),sfdx_utils_1=require(a126_0x2f4558(0x8d)),utils_2=require('../../parsers/utils'),git_internal_1=require(a126_0x2f4558(0x103)),providers_tokens_1=require(a126_0x2f4558(0xc3)),connection_1=require(a126_0x2f4558(0x72)),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types'),path_utils_1=require('../utils/path.utils'),commit_to_flosum_completed_notification_1=require(a126_0x2f4558(0x113)),commit_to_flosum_error_notification_1=require(a126_0x2f4558(0x74));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x224a9d,_0x105c81){const _0x36dec8=a126_0x2f4558;this[_0x36dec8(0xc4)]=_0x224a9d,this['providersFactory']=_0x105c81,this[_0x36dec8(0xd8)]=+(process['env'][_0x36dec8(0xd8)]||0xbb8),this[_0x36dec8(0x112)]=new core_1[(_0x36dec8(0xb4))](GitCommitJob_1[_0x36dec8(0x70)]),this['commitId']='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x462f70=a126_0x2f4558,{repositoryGit:_0x15022e}=this[_0x462f70(0x10c)],_0x28bccf=typedi_1[_0x462f70(0x73)][_0x462f70(0x104)](providers_tokens_1[_0x462f70(0x111)][_0x462f70(0x100)]);if(this['gitCommitData'][_0x462f70(0xfd)]===git_provider_1['GitProvider'][_0x462f70(0xe7)]){const _0xa9772f=typedi_1[_0x462f70(0x73)][_0x462f70(0x104)](bitbucket_api_service_1[_0x462f70(0xd9)]);await _0xa9772f[_0x462f70(0xb5)]();}return _0x15022e[_0x462f70(0x119)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x15022e)+_0x462f70(0xd3)+_0x28bccf['getGitShellAuthorizationString']()+'@');}async['completeNotification'](_0x4a6d39,_0x6d6412,_0x266816,_0x3ed46d){const _0x1320f3=a126_0x2f4558;if(!this['config'][_0x1320f3(0x9a)]){this[_0x1320f3(0x112)][_0x1320f3(0xe1)](_0x1320f3(0xef));return;}await new commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification']({'emails':_0x4a6d39,'gitProvider':_0x6d6412,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification'][_0x1320f3(0x70)],'repositoryName':_0x266816,'branchName':_0x3ed46d})[_0x1320f3(0x9e)]();}async[a126_0x2f4558(0xe2)](_0xe17588,_0x30c172,_0x30b337,_0x29a3fa){const _0x1d1d2c=a126_0x2f4558;if(!this[_0x1d1d2c(0xc8)][_0x1d1d2c(0x9a)]){this[_0x1d1d2c(0x112)][_0x1d1d2c(0xe1)](_0x1d1d2c(0xef));return;}await new commit_to_flosum_error_notification_1['CommitToFlosumErrorNotification']({'emails':_0xe17588,'gitProvider':_0x30c172,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0x1d1d2c(0xe0)]['name'],'repositoryName':_0x30b337,'branchName':_0x29a3fa})['execute']();}[a126_0x2f4558(0x10b)](){const _0x3c1cb1=a126_0x2f4558;this[_0x3c1cb1(0xc5)]={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0xed590=a126_0x2f4558,_0x39248e=[...this[_0xed590(0x10c)][_0xed590(0x6c)]];this[_0xed590(0x10c)][_0xed590(0x6c)]=[];for(const _0x2fc0c7 of _0x39248e){this[_0xed590(0x10c)][_0xed590(0x6c)][_0xed590(0xc7)](...await(0x0,utils_2[_0xed590(0x8f)])(_0x2fc0c7,this[_0xed590(0x10d)][_0xed590(0xcb)]));}}async[a126_0x2f4558(0xff)](){const _0x2ee08a=a126_0x2f4558;if(this['gitCommitData'][_0x2ee08a(0x110)])return;const _0x42dd2b=[];for(const _0xe9d949 of this[_0x2ee08a(0x10c)]['commits']){const _0x378082=await this['gitUtils'][_0x2ee08a(0xeb)](_0xe9d949['id']);_0xe9d949['username']=_0x378082['author'],_0xe9d949[_0x2ee08a(0xd5)]=_0x378082[_0x2ee08a(0xd5)],_0xe9d949[_0x2ee08a(0xd4)]=_0x378082[_0x2ee08a(0x92)],_0xe9d949[_0x2ee08a(0xb0)]=_0x378082[_0x2ee08a(0xb0)];if(_0xe9d949[_0x2ee08a(0xb0)]===constants_1[_0x2ee08a(0x11b)])throw new flosum_commit_error_1[(_0x2ee08a(0xa8))]();_0x42dd2b[_0x2ee08a(0xc7)](...Object['values'](_0xe9d949['files'])[_0x2ee08a(0x9f)]());}this['gitCommitData'][_0x2ee08a(0x6c)]=[...new Set(path_utils_1[_0x2ee08a(0x90)][_0x2ee08a(0xbd)](this[_0x2ee08a(0xc4)][_0x2ee08a(0xe8)],_0x42dd2b,![]))];}async[a126_0x2f4558(0xe4)](_0x267513,_0x2cb535,_0x51df65){const _0x309e70=a126_0x2f4558,_0x16c1d0=_0x51df65[_0x309e70(0xdf)]((_0x1d1e6c,_0x416aaa)=>{const _0x29a8b5=_0x309e70;return _0x1d1e6c['inserted'][_0x29a8b5(0xc7)](..._0x416aaa['inserted']),_0x1d1e6c['modified'][_0x29a8b5(0xc7)](..._0x416aaa[_0x29a8b5(0x81)]),_0x1d1e6c[_0x29a8b5(0xe3)][_0x29a8b5(0xc7)](..._0x416aaa[_0x29a8b5(0xe3)]),_0x1d1e6c;},{'inserted':[],'modified':[],'removed':[]}),_0xc29eac=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this['gitCommit'][_0x309e70(0xca)](),'branchId':this[_0x309e70(0xc4)][_0x309e70(0xc9)](),'repositoryId':this[_0x309e70(0xc4)][_0x309e70(0x99)](),'logger':this[_0x309e70(0x76)],'commitId':this['commitId']});await _0xc29eac[_0x309e70(0xfb)]([{'author':_0x267513,'message':_0x2cb535,'inserted':_0x16c1d0[_0x309e70(0x78)],'modified':_0x16c1d0['modified'],'removed':_0x16c1d0['removed']}]);}async['handleCommit'](_0x38d069,_0x13620f){const _0x360dc0=a126_0x2f4558;await this[_0x360dc0(0x76)][_0x360dc0(0x6b)](this[_0x360dc0(0xea)]+_0x360dc0(0x77))[_0x360dc0(0x94)](),await this[_0x360dc0(0xc4)][_0x360dc0(0xe9)](_0x13620f);const {added:_0x348f38,modified:_0x93a831,removed:_0x9bf456}=_0x38d069[_0x360dc0(0xd4)];_0x13620f&&_0x93a831[_0x360dc0(0xc7)](..._0x9bf456[_0x360dc0(0xdb)](0x0));const _0x4c20da=path_utils_1[_0x360dc0(0x90)][_0x360dc0(0xbd)](this[_0x360dc0(0xc4)][_0x360dc0(0xe8)],[..._0x348f38,..._0x93a831,..._0x9bf456],_0x13620f&&!this[_0x360dc0(0x10c)][_0x360dc0(0x110)]),_0x4a0ae4=(0x0,utils_2[_0x360dc0(0x85)])(_0x4c20da);let _0xc6aa6f=0x0;const _0x35131a=[];(_0x348f38[_0x360dc0(0xf4)]||_0x93a831['length'])&&this[_0x360dc0(0xc4)][_0x360dc0(0x99)]()&&(this[_0x360dc0(0x96)]=await this[_0x360dc0(0xc4)][_0x360dc0(0xab)](_0x38d069['message']));const _0x481236=_0x4a0ae4['length'];let _0x1dd148=0x0;while(_0x4a0ae4[_0x360dc0(0xf4)]){const _0x37189f=_0x4a0ae4['shift'](),_0x34b5a1=await this['gitCommit']['proceedFile'](_0x37189f,this['mdapiUtils']['dir'],_0x13620f&&!this[_0x360dc0(0x10c)][_0x360dc0(0x110)]);_0xc6aa6f+=_0x34b5a1[_0x360dc0(0x78)][_0x360dc0(0xf4)]+_0x34b5a1[_0x360dc0(0xe3)][_0x360dc0(0xf4)]+_0x34b5a1['modified']['length'],this[_0x360dc0(0xc5)][_0x360dc0(0x9b)]+=_0x34b5a1['inserted'][_0x360dc0(0xf4)],this['stats'][_0x360dc0(0x81)]+=_0x34b5a1[_0x360dc0(0x81)][_0x360dc0(0xf4)],this['stats'][_0x360dc0(0xe3)]+=_0x34b5a1[_0x360dc0(0xe3)]['length'],_0x1dd148++,_0x1dd148%0x64===0x0&&this[_0x360dc0(0x112)]['log'](_0x360dc0(0xa6),_0x1dd148,_0x481236,_0xc6aa6f),_0x35131a[_0x360dc0(0xc7)](_0x34b5a1),_0xc6aa6f>this[_0x360dc0(0xd8)]&&(await this[_0x360dc0(0xe4)](_0x38d069['username'],_0x38d069[_0x360dc0(0xd5)],_0x35131a),await this[_0x360dc0(0x76)][_0x360dc0(0x6b)](this['prefix']+_0x360dc0(0xe5)+_0xc6aa6f+_0x360dc0(0xe6))[_0x360dc0(0x94)](),_0xc6aa6f=0x0,_0x35131a[_0x360dc0(0xdb)](0x0));}_0x35131a[_0x360dc0(0xf4)]&&(await this[_0x360dc0(0xe4)](_0x38d069[_0x360dc0(0xbb)],_0x38d069[_0x360dc0(0xd5)],_0x35131a),await this[_0x360dc0(0x76)]['log'](this['prefix']+_0x360dc0(0xe5)+_0xc6aa6f+_0x360dc0(0xe6))[_0x360dc0(0x94)]());}async[a126_0x2f4558(0xfb)](_0x4fafe5){const _0x2b1843=a126_0x2f4558,_0x4cd2d=[...this['gitCommitData'][_0x2b1843(0x87)]],_0x355217=_0x4cd2d[_0x2b1843(0xf4)];let _0x34e7f2=0x0;while(_0x4cd2d['length']){const _0x37e5c1=_0x4cd2d[_0x2b1843(0xf8)]();!this[_0x2b1843(0x10c)]['force']&&(this['gitCommit'][_0x2b1843(0x99)]()?(await this[_0x2b1843(0x11e)]['checkoutTo'](_0x37e5c1['id']),await this[_0x2b1843(0x10d)][_0x2b1843(0x84)](this[_0x2b1843(0x11e)][_0x2b1843(0xcb)])):(await this[_0x2b1843(0x11e)][_0x2b1843(0xd0)](this['lastCommitHash']),await this[_0x2b1843(0x10d)]['prepareMdapi'](this['gitUtils'][_0x2b1843(0xcb)]))),await this['handleCommit'](_0x37e5c1,_0x4fafe5),await this[_0x2b1843(0x10d)][_0x2b1843(0x10e)](),_0x34e7f2+=0x1,await this[_0x2b1843(0x76)][_0x2b1843(0x6b)](this[_0x2b1843(0xea)]+_0x2b1843(0x75)),await this['sfLogger'][_0x2b1843(0x6b)](this[_0x2b1843(0xea)]+_0x2b1843(0x95)+this[_0x2b1843(0xc5)][_0x2b1843(0x9b)]+_0x2b1843(0x97)),await this[_0x2b1843(0x76)][_0x2b1843(0x6b)](this[_0x2b1843(0xea)]+_0x2b1843(0xfe)+this[_0x2b1843(0xc5)][_0x2b1843(0x81)]+_0x2b1843(0x97)),await this[_0x2b1843(0x76)][_0x2b1843(0x6b)](this['prefix']+_0x2b1843(0xfa)+this[_0x2b1843(0xc5)][_0x2b1843(0xe3)]+_0x2b1843(0x97)),await this[_0x2b1843(0x76)][_0x2b1843(0x6b)](this[_0x2b1843(0xea)]+_0x2b1843(0xb2)+_0x34e7f2+'/'+_0x355217+_0x2b1843(0xf9))['send'](),this['resetStats']();}}async[a126_0x2f4558(0x93)](){const _0xbefcad=a126_0x2f4558;this['gitUtils']&&await this[_0xbefcad(0x11e)][_0xbefcad(0x10e)]()[_0xbefcad(0xb6)](()=>void 0x0),this[_0xbefcad(0x10d)]&&await this[_0xbefcad(0x10d)][_0xbefcad(0x10e)]()[_0xbefcad(0xb6)](()=>void 0x0);}async['run'](_0x311169){const _0x1369a8=a126_0x2f4558;this[_0x1369a8(0x10c)]=_0x311169,this[_0x1369a8(0xc4)][_0x1369a8(0xa9)](this[_0x1369a8(0x10c)]),this['gitApiService']=typedi_1[_0x1369a8(0x73)][_0x1369a8(0x104)](providers_tokens_1[_0x1369a8(0x111)][_0x1369a8(0xf2)]),this[_0x1369a8(0xc8)]=typedi_1[_0x1369a8(0x73)][_0x1369a8(0x104)](providers_tokens_1[_0x1369a8(0x111)][_0x1369a8(0xc8)]),this[_0x1369a8(0x76)]=typedi_1[_0x1369a8(0x73)]['get'](providers_tokens_1[_0x1369a8(0x111)]['logger']),this[_0x1369a8(0xea)]=_0x1369a8(0x7d)+_0x311169['repository']+']\x20[Branch:\x20'+_0x311169[_0x1369a8(0xb8)]+_0x1369a8(0xa5)+GitCommitJob_1[_0x1369a8(0x70)]+']',this[_0x1369a8(0x11e)]=new git_utils_1[(_0x1369a8(0xad))](await this['getRemote']()),this['mdapiUtils']=new mdapi_utils_1[(_0x1369a8(0x102))](),this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this['prefix']+_0x1369a8(0xa7));try{this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+_0x1369a8(0xf5)),await this[_0x1369a8(0xc4)][_0x1369a8(0xcf)](),await this[_0x1369a8(0xc4)][_0x1369a8(0x105)](_0x1369a8(0x117)),this[_0x1369a8(0x76)]['log'](this['prefix']+_0x1369a8(0xbf)),this['lastCommitHash']=await git_internal_1[_0x1369a8(0x7c)][_0x1369a8(0xee)](await this[_0x1369a8(0x11a)](),this[_0x1369a8(0x10c)][_0x1369a8(0xb8)]),this[_0x1369a8(0x112)][_0x1369a8(0x6b)](_0x1369a8(0xfc),this['lastCommitHash']);const _0x291b40=await this[_0x1369a8(0xc4)]['checkSyncStatus'](this[_0x1369a8(0x7e)]);if(_0x291b40){this['sfLogger']['log'](_0x1369a8(0x89)),await this[_0x1369a8(0xc4)][_0x1369a8(0x105)]('Completed');return;}this[_0x1369a8(0x76)]['log'](this[_0x1369a8(0xea)]+_0x1369a8(0x11c)+this[_0x1369a8(0x10c)][_0x1369a8(0x106)]+'.'),await this[_0x1369a8(0x11e)][_0x1369a8(0xac)](this['gitCommitData'][_0x1369a8(0xb8)],this['gitCommitData'][_0x1369a8(0xa2)]),this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+_0x1369a8(0x107));const _0x32ff0e=await sfdx_utils_1[_0x1369a8(0x8a)][_0x1369a8(0xaa)](this[_0x1369a8(0x11e)][_0x1369a8(0xcb)]);await this['fetchCommits']();!this[_0x1369a8(0x76)][_0x1369a8(0x108)]()&&this['sfLogger'][_0x1369a8(0xdd)](await salesforce_logger_v3_service_1[_0x1369a8(0xcc)]['createLoggerId'](sf_logger_v3_types_1[_0x1369a8(0x10a)][_0x1369a8(0x7b)]));await this[_0x1369a8(0x76)]['send']();if(_0x311169[_0x1369a8(0x110)]){await this[_0x1369a8(0x10d)][_0x1369a8(0x84)](this['gitUtils']['dir']),await this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')[_0x1369a8(0x94)]();const _0x246df5=(await fs_internal_1['FS'][_0x1369a8(0xa3)](this[_0x1369a8(0x10d)]['dir'],!![]))['map'](_0xa8c5cb=>(0x0,path_1['relative'])(this[_0x1369a8(0x10d)][_0x1369a8(0xcb)],_0xa8c5cb));this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x246df5['length']+_0x1369a8(0xbc)),this['gitCommitData'][_0x1369a8(0x6c)]=[],this[_0x1369a8(0x10c)][_0x1369a8(0x87)]=[{'files':{'modified':_0x246df5,'added':[],'removed':[]},'id':await this[_0x1369a8(0x11e)][_0x1369a8(0x98)](),'message':_0x1369a8(0xc0),'username':constants_1[_0x1369a8(0xb7)]}];}await this[_0x1369a8(0xc4)][_0x1369a8(0xb3)]({[this['gitCommitData'][_0x1369a8(0x106)]]:{'lastCommit':this[_0x1369a8(0x7e)]}}),await this['sfLogger'][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+'\x20[SFDX:\x20'+(_0x32ff0e?_0x1369a8(0x8b):'NO')+_0x1369a8(0x88))[_0x1369a8(0x94)](),await this[_0x1369a8(0xfb)](_0x32ff0e),await this[_0x1369a8(0x76)][_0x1369a8(0x6b)](this[_0x1369a8(0xea)]+_0x1369a8(0xb9))['send'](),await this['gitCommit'][_0x1369a8(0x105)](_0x1369a8(0xd7)),await this['completeNotification']([_0x311169['email']],this[_0x1369a8(0xc8)][_0x1369a8(0xf6)],_0x311169[_0x1369a8(0xa2)],_0x311169[_0x1369a8(0xb8)]);}catch(_0x1a2316){await this[_0x1369a8(0x93)]();if(_0x1a2316 instanceof flosum_commit_error_1[_0x1369a8(0xa8)])await this['gitCommit'][_0x1369a8(0x105)](_0x1369a8(0xd7))['catch'](()=>void 0x0),this[_0x1369a8(0x112)][_0x1369a8(0x6b)](this['prefix']+_0x1369a8(0xaf));else{await this[_0x1369a8(0x112)]['error'](this[_0x1369a8(0xea)]+_0x1369a8(0xba)+(_0x1a2316 instanceof api_error_1['ApiError']||_0x1a2316 instanceof salesforce_error_1[_0x1369a8(0x6d)]?_0x1a2316[_0x1369a8(0x118)]():_0x1a2316)),await this[_0x1369a8(0xc4)]['updateRemoteState']({}),await this[_0x1369a8(0xc4)][_0x1369a8(0x105)](_0x1369a8(0xd6))[_0x1369a8(0xb6)](()=>void 0x0),await this[_0x1369a8(0xe2)]([_0x311169[_0x1369a8(0xb0)]],this[_0x1369a8(0xc8)][_0x1369a8(0xf6)],_0x311169['repository'],_0x311169['branch']);throw _0x1a2316;}}finally{await this[_0x1369a8(0x93)](),await this[_0x1369a8(0x76)][_0x1369a8(0x94)]()[_0x1369a8(0xb6)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a126_0x2f4558(0xbe)])({'transient':!![]}),__metadata(a126_0x2f4558(0x115),[git_commit_service_1[a126_0x2f4558(0xae)],connection_1['ProvidersFactory']])],GitCommitJob),exports['GitCommitJob']=GitCommitJob;function a126_0xa0a2(){const _0x5dec7b=['__createBinding','shift','\x20commits.','\x20Removed\x20','proceedCommits','Last\x20git\x20repository\x20hash\x20is\x20%s.','provider','\x20Modified\x20','fetchCommits','credentials','../errors/flosum-commit.error','MDApiUtils','../../internal/git.internal','get','updateStatus','repositoryGit','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','getLoggerId','40659030TJSMZX','LoggerTypes','resetStats','gitCommitData','mdapiUtils','removeDir','../../salesforce/errors/salesforce.error','force','Tokens','logger','../../notifications/commit-to-flosum-completed.notification','6333453STOUrZ','design:paramtypes','../../providers/types/git-provider','In\x20Progress','toString','replace','getRemote','DEFAULT_GIT_USER_EMAIL','\x20Cloning\x20git\x20repository\x20from\x20','path','gitUtils','log','fileNames','SalesforceError','__esModule','__importStar','name','create','../utils/connection','default','../../notifications/commit-to-flosum-error.notification','\x20Commit\x20Summary','sfLogger','\x20Download\x20components\x20metadata\x20from\x20Flosum.','inserted','609wrNXYi','../../../../core','commit','Git','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','lastCommitHash','__setModuleDefault','constructor','modified','hasOwnProperty','writable','prepareMdapi','convertToCleanPaths','../../internal/fs.internal','commits',']\x20Start\x20proceeding\x20git\x20commits.\x20','Branch\x20synchronized.\x20Skip.','SFDX','YES','__metadata','../../salesforce/utils/sfdx.utils','GitCommitJob','readFilesByFilename','PathUtils','72950JRZFBl','changes','cleanUp','send','\x20Added\x20','commitId','\x20components','getCurrentHash','getRepositoryId','isEmailNotificationsEnabled','added','defineProperty','../../salesforce/services/salesforce-logger-v3.service','execute','flat','14368672RMEnkp','metadata','repository','readDir','call',']\x20[','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','\x20Start\x20Git-commit\x20job.','FlosumCommitError','setCommitDto','isSFDXProject','createCommit','clone','GitUtils','GitCommitService','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','email','4924182HikQIb','\x20Proceeded\x20','updateRemoteState','Logger','isLoggedIn','catch','DEFAULT_GIT_USER_NAME','branch','\x20Job\x20done.','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','username','\x20files\x20before\x20sync.','prepareGitChangedPaths','Service','\x20Fetch\x20remote\x20branch\x20hash.','sync\x20components','getOwnPropertyDescriptor','prototype','../../providers/providers.tokens','gitCommit','stats','32AnGZED','push','config','getBranchId','getRecordTypes','dir','SalesforceLogger3','../utils/mdapi.utils','function','fetchRepositoryOrBranchData','checkoutTo','186210SeHMHu','../../salesforce/services/salesforce-commits-manager.service','://','files','message','Error','Completed','MAX_COMPONENTS_PER_TICK','BitbucketApiService','decorate','splice','typedi','setLoggerId','2110OTUgyJ','reduce','CommitToFlosumErrorNotification','info','errorNotification','removed','sendComponents','\x20Processed\x20','\x20components.','Bitbucket','recordType','fetchComponentsMetadata','prefix','describeCommit','object','configurable','getRemoteHash','Email\x20notifications\x20are\x20disabled.','../utils/git.utils','../services/git-commit.service','gitApiService','(((.+)+)+)+$','length','\x20Fetch\x20salesforce\x20data.','gitProvider'];a126_0xa0a2=function(){return _0x5dec7b;};return a126_0xa0a2();}