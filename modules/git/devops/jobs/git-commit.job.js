const a63_0x48d68d=a63_0x2c70;(function(_0x2fa497,_0x107172){const _0x3bd75d=a63_0x2c70,_0x52a416=_0x2fa497();while(!![]){try{const _0x92c509=parseInt(_0x3bd75d(0xe0))/0x1*(parseInt(_0x3bd75d(0xce))/0x2)+parseInt(_0x3bd75d(0x141))/0x3*(-parseInt(_0x3bd75d(0xc9))/0x4)+parseInt(_0x3bd75d(0xbe))/0x5+parseInt(_0x3bd75d(0x117))/0x6*(-parseInt(_0x3bd75d(0xf5))/0x7)+parseInt(_0x3bd75d(0xc7))/0x8*(parseInt(_0x3bd75d(0xba))/0x9)+-parseInt(_0x3bd75d(0xbb))/0xa+parseInt(_0x3bd75d(0xb8))/0xb;if(_0x92c509===_0x107172)break;else _0x52a416['push'](_0x52a416['shift']());}catch(_0x47c9ee){_0x52a416['push'](_0x52a416['shift']());}}}(a63_0x9f22,0x7118e));const a63_0xe25e35=(function(){let _0x597049=!![];return function(_0x440479,_0x368a61){const _0x2f0a41=_0x597049?function(){const _0x1e3d3e=a63_0x2c70;if(_0x368a61){const _0xb2f113=_0x368a61[_0x1e3d3e(0x131)](_0x440479,arguments);return _0x368a61=null,_0xb2f113;}}:function(){};return _0x597049=![],_0x2f0a41;};}()),a63_0x3bc323=a63_0xe25e35(this,function(){const _0x2278d1=a63_0x2c70;return a63_0x3bc323[_0x2278d1(0x10a)]()[_0x2278d1(0xc1)](_0x2278d1(0x138))['toString']()[_0x2278d1(0xd3)](a63_0x3bc323)[_0x2278d1(0xc1)](_0x2278d1(0x138));});function a63_0x2c70(_0x2d2d62,_0x4092c2){const _0x5cfe78=a63_0x9f22();return a63_0x2c70=function(_0x3bc323,_0xe25e35){_0x3bc323=_0x3bc323-0xb5;let _0x9f22ca=_0x5cfe78[_0x3bc323];return _0x9f22ca;},a63_0x2c70(_0x2d2d62,_0x4092c2);}a63_0x3bc323();'use strict';var __createBinding=this&&this[a63_0x48d68d(0x127)]||(Object['create']?function(_0x2562b4,_0x5ee99a,_0x181428,_0x22e7a7){const _0x191602=a63_0x48d68d;if(_0x22e7a7===undefined)_0x22e7a7=_0x181428;Object[_0x191602(0xd8)](_0x2562b4,_0x22e7a7,{'enumerable':!![],'get':function(){return _0x5ee99a[_0x181428];}});}:function(_0xe631ec,_0x3d713a,_0x37d15e,_0xf83276){if(_0xf83276===undefined)_0xf83276=_0x37d15e;_0xe631ec[_0xf83276]=_0x3d713a[_0x37d15e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a63_0x48d68d(0xc4)]?function(_0x56e78c,_0x2f2b63){const _0x4fe7a9=a63_0x48d68d;Object[_0x4fe7a9(0xd8)](_0x56e78c,'default',{'enumerable':!![],'value':_0x2f2b63});}:function(_0x36ecd0,_0x506c77){const _0x19d414=a63_0x48d68d;_0x36ecd0[_0x19d414(0xc2)]=_0x506c77;}),__decorate=this&&this[a63_0x48d68d(0x151)]||function(_0x205f4d,_0xed7dcd,_0x22a451,_0x350d24){const _0xbb00c4=a63_0x48d68d;var _0x2133f5=arguments[_0xbb00c4(0x118)],_0x1f7ffd=_0x2133f5<0x3?_0xed7dcd:_0x350d24===null?_0x350d24=Object[_0xbb00c4(0x135)](_0xed7dcd,_0x22a451):_0x350d24,_0x53bc66;if(typeof Reflect==='object'&&typeof Reflect[_0xbb00c4(0x112)]==='function')_0x1f7ffd=Reflect[_0xbb00c4(0x112)](_0x205f4d,_0xed7dcd,_0x22a451,_0x350d24);else{for(var _0x39a8e4=_0x205f4d[_0xbb00c4(0x118)]-0x1;_0x39a8e4>=0x0;_0x39a8e4--)if(_0x53bc66=_0x205f4d[_0x39a8e4])_0x1f7ffd=(_0x2133f5<0x3?_0x53bc66(_0x1f7ffd):_0x2133f5>0x3?_0x53bc66(_0xed7dcd,_0x22a451,_0x1f7ffd):_0x53bc66(_0xed7dcd,_0x22a451))||_0x1f7ffd;}return _0x2133f5>0x3&&_0x1f7ffd&&Object[_0xbb00c4(0xd8)](_0xed7dcd,_0x22a451,_0x1f7ffd),_0x1f7ffd;},__importStar=this&&this[a63_0x48d68d(0x13d)]||function(_0x386381){const _0x4a3539=a63_0x48d68d;if(_0x386381&&_0x386381[_0x4a3539(0x126)])return _0x386381;var _0x3cccde={};if(_0x386381!=null){for(var _0x3b509d in _0x386381)if(_0x3b509d!=='default'&&Object[_0x4a3539(0x100)][_0x4a3539(0x10b)][_0x4a3539(0xeb)](_0x386381,_0x3b509d))__createBinding(_0x3cccde,_0x386381,_0x3b509d);}return __setModuleDefault(_0x3cccde,_0x386381),_0x3cccde;},__metadata=this&&this['__metadata']||function(_0x26d925,_0x5ef79e){const _0x356901=a63_0x48d68d;if(typeof Reflect===_0x356901(0xd5)&&typeof Reflect[_0x356901(0xf4)]==='function')return Reflect[_0x356901(0xf4)](_0x26d925,_0x5ef79e);},GitCommitJob_1;Object[a63_0x48d68d(0xd8)](exports,a63_0x48d68d(0x126),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require(a63_0x48d68d(0x150)),fs_internal_1=require(a63_0x48d68d(0xed)),salesforce_logger_v3_service_1=require(a63_0x48d68d(0xf8)),utils_1=require(a63_0x48d68d(0x110)),path_1=require(a63_0x48d68d(0xe9)),typedi_1=__importStar(require(a63_0x48d68d(0x120))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_commit_utils_1=require(a63_0x48d68d(0x115)),git_utils_1=require(a63_0x48d68d(0x113)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require('../../../../core/errors/api.error'),salesforce_error_1=require(a63_0x48d68d(0x11f)),git_commit_service_1=require('../services/git-commit.service'),flosum_commit_error_1=require(a63_0x48d68d(0xef)),bitbucket_api_service_1=require(a63_0x48d68d(0x10f)),git_provider_1=require(a63_0x48d68d(0x14b)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),utils_2=require(a63_0x48d68d(0x134)),git_internal_1=require(a63_0x48d68d(0x14e)),providers_tokens_1=require(a63_0x48d68d(0x130)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require(a63_0x48d68d(0x121));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x49cdf3,_0x54a4b7){const _0x1d740c=a63_0x48d68d;this[_0x1d740c(0x128)]=_0x49cdf3,this[_0x1d740c(0x158)]=_0x54a4b7,this[_0x1d740c(0xb9)]=+(process['env'][_0x1d740c(0xb9)]||0xbb8),this[_0x1d740c(0xda)]=new core_1[(_0x1d740c(0xbc))](GitCommitJob_1[_0x1d740c(0xfd)]),this[_0x1d740c(0x14f)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a63_0x48d68d(0x105)](){const _0x3ad450=a63_0x48d68d,{repositoryGit:_0x41e2e9}=this[_0x3ad450(0xc3)],_0x46741e=typedi_1[_0x3ad450(0xc2)][_0x3ad450(0xcb)](providers_tokens_1[_0x3ad450(0xfa)][_0x3ad450(0x114)]);if(this[_0x3ad450(0xc3)]['provider']===git_provider_1[_0x3ad450(0x13a)][_0x3ad450(0xc6)]){const _0x5196ec=typedi_1['default'][_0x3ad450(0xcb)](bitbucket_api_service_1[_0x3ad450(0x10c)]);await _0x5196ec[_0x3ad450(0x136)]();}return _0x41e2e9['replace'](/http(s)?:\/\/(.+@)?/,utils_1[_0x3ad450(0x155)](_0x41e2e9)+_0x3ad450(0xe3)+_0x46741e['getGitShellAuthorizationString']()+'@');}[a63_0x48d68d(0x14a)](){const _0x450b19=a63_0x48d68d;this[_0x450b19(0xe5)]={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0x2d75ee=a63_0x48d68d,_0x5bdd80=[...this['gitCommitData']['fileNames']];this[_0x2d75ee(0xc3)]['fileNames']=[];for(const _0x5f26e7 of _0x5bdd80){this[_0x2d75ee(0xc3)][_0x2d75ee(0x102)][_0x2d75ee(0x11b)](...await utils_2[_0x2d75ee(0x12f)](_0x5f26e7,this[_0x2d75ee(0xd7)][_0x2d75ee(0xe1)]));}}async[a63_0x48d68d(0x119)](){const _0x2fb33a=a63_0x48d68d;if(this[_0x2fb33a(0xc3)][_0x2fb33a(0x13f)])return;const _0xbd2517=[];for(const _0x1b029f of this[_0x2fb33a(0xc3)][_0x2fb33a(0xb6)]){const _0x30c2d9=await this[_0x2fb33a(0x137)][_0x2fb33a(0x122)](_0x1b029f['id']);_0x1b029f[_0x2fb33a(0xe7)]=_0x30c2d9[_0x2fb33a(0x106)],_0x1b029f[_0x2fb33a(0x148)]=_0x30c2d9[_0x2fb33a(0x148)],_0x1b029f[_0x2fb33a(0x154)]=_0x30c2d9[_0x2fb33a(0x129)],_0x1b029f[_0x2fb33a(0xcc)]=_0x30c2d9[_0x2fb33a(0xcc)];if(_0x1b029f[_0x2fb33a(0xcc)]===constants_1[_0x2fb33a(0x13e)])throw new flosum_commit_error_1[(_0x2fb33a(0xf3))]();_0xbd2517[_0x2fb33a(0x11b)](...Object[_0x2fb33a(0x14c)](_0x1b029f[_0x2fb33a(0x154)])[_0x2fb33a(0xfb)]());}this[_0x2fb33a(0xc3)][_0x2fb33a(0x102)]=[...new Set(git_commit_utils_1[_0x2fb33a(0xf0)](_0xbd2517))];}async[a63_0x48d68d(0xf9)](_0x41a64d,_0x3ed6be,_0x1fbca3){const _0x14f53d=a63_0x48d68d,_0x4a006d=_0x1fbca3[_0x14f53d(0xd1)]((_0x37ea52,_0x1efcb4)=>{const _0x56b51b=_0x14f53d;return _0x37ea52['inserted'][_0x56b51b(0x11b)](..._0x1efcb4[_0x56b51b(0x142)]),_0x37ea52[_0x56b51b(0x12b)]['push'](..._0x1efcb4[_0x56b51b(0x12b)]),_0x37ea52[_0x56b51b(0xb7)][_0x56b51b(0x11b)](..._0x1efcb4['removed']),_0x37ea52;},{'inserted':[],'modified':[],'removed':[]}),_0x25f996=new salesforce_commits_manager_service_1[(_0x14f53d(0xd4))]({'recordTypes':this[_0x14f53d(0x128)][_0x14f53d(0x143)](),'branchId':this[_0x14f53d(0x128)][_0x14f53d(0x159)](),'repositoryId':this[_0x14f53d(0x128)][_0x14f53d(0x108)](),'logger':this[_0x14f53d(0xbd)],'commitId':this['commitId']});await _0x25f996[_0x14f53d(0x10e)]([{'author':_0x41a64d,'message':_0x3ed6be,'inserted':_0x4a006d[_0x14f53d(0x142)],'modified':_0x4a006d['modified'],'removed':_0x4a006d['removed']}]);}async['handleCommit'](_0x36d15e,_0x4ab655){const _0xeeb010=a63_0x48d68d;await this[_0xeeb010(0xbd)][_0xeeb010(0x123)](this[_0xeeb010(0x146)]+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')[_0xeeb010(0xfe)](),await this[_0xeeb010(0x128)][_0xeeb010(0xcd)](_0x4ab655);const {added:_0x457a32,modified:_0x55d46e,removed:_0x20c071}=_0x36d15e[_0xeeb010(0x154)];_0x4ab655&&_0x55d46e[_0xeeb010(0x11b)](..._0x20c071['splice'](0x0));const _0x5dc100=utils_2['convertToCleanPaths'](git_commit_utils_1[_0xeeb010(0xf0)]([..._0x457a32,..._0x55d46e,..._0x20c071],_0x4ab655&&!this[_0xeeb010(0xc3)]['force']));let _0xc81e40=0x0;const _0x3a035b=[];(_0x457a32['length']||_0x55d46e[_0xeeb010(0x118)])&&this[_0xeeb010(0x128)]['getRepositoryId']()&&(this[_0xeeb010(0x14f)]=await this[_0xeeb010(0x128)][_0xeeb010(0xdd)](_0x36d15e[_0xeeb010(0x148)]));const _0x2025cd=_0x5dc100[_0xeeb010(0x118)];let _0x3bddad=0x0;while(_0x5dc100['length']){const _0x29322f=_0x5dc100[_0xeeb010(0x13c)](),_0x7d37ac=await this[_0xeeb010(0x128)][_0xeeb010(0xbf)](_0x29322f,this[_0xeeb010(0xd7)]['dir'],_0x4ab655&&!this[_0xeeb010(0xc3)]['force']);_0xc81e40+=_0x7d37ac['inserted'][_0xeeb010(0x118)]+_0x7d37ac[_0xeeb010(0xb7)][_0xeeb010(0x118)]+_0x7d37ac[_0xeeb010(0x12b)][_0xeeb010(0x118)],this[_0xeeb010(0xe5)][_0xeeb010(0x11e)]+=_0x7d37ac['inserted'][_0xeeb010(0x118)],this[_0xeeb010(0xe5)][_0xeeb010(0x12b)]+=_0x7d37ac[_0xeeb010(0x12b)]['length'],this[_0xeeb010(0xe5)][_0xeeb010(0xb7)]+=_0x7d37ac['removed'][_0xeeb010(0x118)],_0x3bddad++,_0x3bddad%0x64===0x0&&this['logger'][_0xeeb010(0x123)](_0xeeb010(0x13b),_0x3bddad,_0x2025cd,_0xc81e40),_0x3a035b[_0xeeb010(0x11b)](_0x7d37ac),_0xc81e40>this[_0xeeb010(0xb9)]&&(await this[_0xeeb010(0xf9)](_0x36d15e[_0xeeb010(0xe7)],_0x36d15e['message'],_0x3a035b),await this[_0xeeb010(0xbd)]['log'](this[_0xeeb010(0x146)]+'\x20Processed\x20'+_0xc81e40+_0xeeb010(0xca))[_0xeeb010(0xfe)](),_0xc81e40=0x0,_0x3a035b['splice'](0x0));}_0x3a035b[_0xeeb010(0x118)]&&(await this['sendComponents'](_0x36d15e[_0xeeb010(0xe7)],_0x36d15e['message'],_0x3a035b),await this['sfLogger'][_0xeeb010(0x123)](this[_0xeeb010(0x146)]+_0xeeb010(0x133)+_0xc81e40+_0xeeb010(0xca))['send']());}async['proceedCommits'](_0x4478c8){const _0x42ed54=a63_0x48d68d,_0x56e6de=[...this[_0x42ed54(0xc3)]['commits']],_0x81d45d=_0x56e6de['length'];let _0x475b29=0x0;while(_0x56e6de[_0x42ed54(0x118)]){const _0xbb53c6=_0x56e6de[_0x42ed54(0x13c)]();!this['gitCommitData'][_0x42ed54(0x13f)]&&(this['gitCommit'][_0x42ed54(0x108)]()?(await this['gitUtils'][_0x42ed54(0xff)](_0xbb53c6['id']),await this[_0x42ed54(0xd7)][_0x42ed54(0x157)](this[_0x42ed54(0x137)][_0x42ed54(0xe1)])):(await this[_0x42ed54(0x137)][_0x42ed54(0xff)](this['lastCommitHash']),await this['mdapiUtils'][_0x42ed54(0x157)](this[_0x42ed54(0x137)]['dir']))),await this[_0x42ed54(0x125)](_0xbb53c6,_0x4478c8),await this[_0x42ed54(0xd7)]['removeDir'](),_0x475b29+=0x1,await this[_0x42ed54(0xbd)]['log'](this[_0x42ed54(0x146)]+_0x42ed54(0xcf)),await this[_0x42ed54(0xbd)][_0x42ed54(0x123)](this['prefix']+'\x20Added\x20'+this[_0x42ed54(0xe5)][_0x42ed54(0x11e)]+'\x20components'),await this[_0x42ed54(0xbd)][_0x42ed54(0x123)](this['prefix']+'\x20Modified\x20'+this[_0x42ed54(0xe5)]['modified']+_0x42ed54(0x101)),await this[_0x42ed54(0xbd)]['log'](this[_0x42ed54(0x146)]+_0x42ed54(0x12e)+this['stats'][_0x42ed54(0xb7)]+'\x20components'),await this[_0x42ed54(0xbd)][_0x42ed54(0x123)](this[_0x42ed54(0x146)]+_0x42ed54(0xd0)+_0x475b29+'/'+_0x81d45d+_0x42ed54(0xc5))[_0x42ed54(0xfe)](),this[_0x42ed54(0x14a)]();}}async[a63_0x48d68d(0xdf)](){const _0x59c265=a63_0x48d68d;this[_0x59c265(0x137)]&&await this[_0x59c265(0x137)][_0x59c265(0x15a)]()[_0x59c265(0x11c)](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils'][_0x59c265(0x15a)]()[_0x59c265(0x11c)](()=>void 0x0);}async[a63_0x48d68d(0x139)](_0x443c17){const _0x1c3ffe=a63_0x48d68d;this[_0x1c3ffe(0xc3)]=_0x443c17,this['gitCommit'][_0x1c3ffe(0xb5)](this['gitCommitData']),this[_0x1c3ffe(0x103)]=typedi_1[_0x1c3ffe(0xc2)]['get'](providers_tokens_1[_0x1c3ffe(0xfa)][_0x1c3ffe(0x103)]),this[_0x1c3ffe(0xf2)]=typedi_1['default'][_0x1c3ffe(0xcb)](providers_tokens_1['Tokens'][_0x1c3ffe(0xf2)]),this['sfLogger']=typedi_1[_0x1c3ffe(0xc2)]['get'](providers_tokens_1[_0x1c3ffe(0xfa)]['logger']),this[_0x1c3ffe(0x146)]=_0x1c3ffe(0x12c)+_0x443c17[_0x1c3ffe(0xdb)]+_0x1c3ffe(0xd2)+_0x443c17[_0x1c3ffe(0x10d)]+']\x20['+GitCommitJob_1[_0x1c3ffe(0xfd)]+']',this[_0x1c3ffe(0x137)]=new git_utils_1['GitUtils'](await this[_0x1c3ffe(0x105)]()),this[_0x1c3ffe(0xd7)]=new mdapi_utils_1[(_0x1c3ffe(0xc0))](),this[_0x1c3ffe(0xbd)]['log'](this[_0x1c3ffe(0x146)]+'\x20Start\x20Git-commit\x20job.');try{this[_0x1c3ffe(0xbd)]['log'](this['prefix']+_0x1c3ffe(0xe8)),await this['gitCommit'][_0x1c3ffe(0x107)](),await this[_0x1c3ffe(0x128)][_0x1c3ffe(0xe4)](_0x1c3ffe(0xec)),this[_0x1c3ffe(0xbd)][_0x1c3ffe(0x123)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x111)),this['lastCommitHash']=await git_internal_1[_0x1c3ffe(0x109)]['getRemoteHash'](await this[_0x1c3ffe(0x105)](),this[_0x1c3ffe(0xc3)][_0x1c3ffe(0x10d)]),this[_0x1c3ffe(0xda)]['log'](_0x1c3ffe(0x149),this[_0x1c3ffe(0x12d)]);const _0x5bb848=await this[_0x1c3ffe(0x128)]['checkSyncStatus'](this[_0x1c3ffe(0x12d)]);if(_0x5bb848){this[_0x1c3ffe(0xbd)]['log']('Branch\x20synchronized.\x20Skip.'),await this[_0x1c3ffe(0x128)][_0x1c3ffe(0xe4)]('Completed');return;}this['sfLogger']['log'](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x144)+this['gitCommitData']['repositoryGit']+'.'),await this[_0x1c3ffe(0x137)][_0x1c3ffe(0x153)](this[_0x1c3ffe(0xc3)][_0x1c3ffe(0x10d)],this['gitCommitData']['repository']),this['sfLogger'][_0x1c3ffe(0x123)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x116));const _0x571c2e=await sfdx_utils_1[_0x1c3ffe(0xf1)][_0x1c3ffe(0xdc)](this[_0x1c3ffe(0x137)][_0x1c3ffe(0xe1)]);await this['fetchCommits'](),this[_0x1c3ffe(0xbd)][_0x1c3ffe(0xf6)](await salesforce_logger_v3_service_1[_0x1c3ffe(0x140)][_0x1c3ffe(0xfc)](sf_logger_v3_types_1[_0x1c3ffe(0xd9)][_0x1c3ffe(0xea)])),await this['sfLogger'][_0x1c3ffe(0xfe)]();if(_0x443c17['force']){await this[_0x1c3ffe(0xd7)][_0x1c3ffe(0x157)](this[_0x1c3ffe(0x137)][_0x1c3ffe(0xe1)]),await this[_0x1c3ffe(0xbd)][_0x1c3ffe(0x123)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x15b))[_0x1c3ffe(0xfe)]();const _0xc1d318=(await fs_internal_1['FS'][_0x1c3ffe(0xe2)](this[_0x1c3ffe(0xd7)][_0x1c3ffe(0xe1)],!![]))['map'](_0x4d109d=>path_1[_0x1c3ffe(0x156)](this[_0x1c3ffe(0xd7)]['dir'],_0x4d109d));this[_0x1c3ffe(0xbd)][_0x1c3ffe(0x123)](this['prefix']+_0x1c3ffe(0x104)+_0xc1d318[_0x1c3ffe(0x118)]+_0x1c3ffe(0x14d)),this['gitCommitData']['fileNames']=[],this['gitCommitData']['commits']=[{'files':{'modified':_0xc1d318,'added':[],'removed':[]},'id':await this[_0x1c3ffe(0x137)]['getCurrentHash'](),'message':_0x1c3ffe(0xee),'username':constants_1[_0x1c3ffe(0xd6)]}];}await this[_0x1c3ffe(0x128)][_0x1c3ffe(0x152)]({[this['gitCommitData']['repositoryGit']]:{'lastCommit':this[_0x1c3ffe(0x12d)]}}),await this[_0x1c3ffe(0xbd)][_0x1c3ffe(0x123)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x12a)+(_0x571c2e?_0x1c3ffe(0x147):'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x1c3ffe(0xfe)](),await this[_0x1c3ffe(0x10e)](_0x571c2e),await this[_0x1c3ffe(0xbd)][_0x1c3ffe(0x123)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0xc8))['send'](),await this['gitCommit'][_0x1c3ffe(0xe4)](_0x1c3ffe(0x11a));}catch(_0x314a37){await this[_0x1c3ffe(0xdf)]();if(_0x314a37 instanceof flosum_commit_error_1[_0x1c3ffe(0xf3)])await this[_0x1c3ffe(0x128)]['updateStatus'](_0x1c3ffe(0x11a))[_0x1c3ffe(0x11c)](()=>void 0x0),this[_0x1c3ffe(0xda)]['log'](this['prefix']+_0x1c3ffe(0x11d));else{await this[_0x1c3ffe(0xda)][_0x1c3ffe(0x145)](this[_0x1c3ffe(0x146)]+_0x1c3ffe(0x132)+(_0x314a37 instanceof api_error_1['ApiError']||_0x314a37 instanceof salesforce_error_1['SalesforceError']?_0x314a37['toString']():_0x314a37)),await this[_0x1c3ffe(0x128)][_0x1c3ffe(0x152)]({}),await this[_0x1c3ffe(0x128)][_0x1c3ffe(0xe4)](_0x1c3ffe(0xe6))[_0x1c3ffe(0x11c)](()=>void 0x0);throw _0x314a37;}}finally{await this[_0x1c3ffe(0xdf)](),await this[_0x1c3ffe(0xbd)][_0x1c3ffe(0xfe)]()[_0x1c3ffe(0x11c)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a63_0x48d68d(0xf7),[git_commit_service_1[a63_0x48d68d(0xde)],connection_1[a63_0x48d68d(0x15c)]])],GitCommitJob),exports[a63_0x48d68d(0x124)]=GitCommitJob;function a63_0x9f22(){const _0x35a5b0=['\x20Cloning\x20git\x20repository\x20from\x20','error','prefix','YES','message','Last\x20git\x20repository\x20hash\x20is\x20%s.','resetStats','../../providers/types/git-provider','values','\x20files\x20before\x20sync.','../../internal/git.internal','commitId','../../../../core','__decorate','updateRemoteState','clone','files','getProtocol','relative','prepareMdapi','providersFactory','getBranchId','removeDir','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','ProvidersFactory','setCommitDto','commits','removed','11216887rmutMJ','MAX_COMPONENTS_PER_TICK','9tlNhLy','9037370ZcVBzv','Logger','sfLogger','3343440TTLbDq','proceedFile','MDApiUtils','search','default','gitCommitData','create','\x20commits.','Bitbucket','2578552TYlYFF','\x20Job\x20done.','4gTzajd','\x20components.','get','email','fetchComponentsMetadata','583028KcbuPF','\x20Commit\x20Summary','\x20Proceeded\x20','reduce',']\x20[Branch:\x20','constructor','SalesforceCommitsManager','object','DEFAULT_GIT_USER_NAME','mdapiUtils','defineProperty','LoggerTypes','logger','repository','isSFDXProject','createCommit','GitCommitService','cleanUp','1qnAGyq','dir','readDir','://','updateStatus','stats','Error','username','\x20Fetch\x20salesforce\x20data.','path','commit','call','In\x20Progress','../../internal/fs.internal','sync\x20components','../errors/flosum-commit.error','prepareGitChangedPaths','SFDX','config','FlosumCommitError','metadata','2481199qeCKSR','setLoggerId','design:paramtypes','../../salesforce/services/salesforce-logger-v3.service','sendComponents','Tokens','flat','createLoggerId','name','send','checkoutTo','prototype','\x20components','fileNames','gitApiService','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','getRemote','author','fetchRepositoryOrBranchData','getRepositoryId','Git','toString','hasOwnProperty','BitbucketApiService','branch','proceedCommits','../../providers/api/bitbucket-api.service','../../../shared/utils','\x20Fetch\x20remote\x20branch\x20hash.','decorate','../utils/git.utils','credentials','../utils/git-commit.utils','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','6gwcHoP','length','fetchCommits','Completed','push','catch','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','added','../../salesforce/errors/salesforce.error','typedi','../../salesforce/types/sf-logger-v3-types','describeCommit','log','GitCommitJob','handleCommit','__esModule','__createBinding','gitCommit','changes','\x20[SFDX:\x20','modified','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','lastCommitHash','\x20Removed\x20','readFilesByFilename','../../providers/providers.tokens','apply','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','\x20Processed\x20','../../parsers/utils','getOwnPropertyDescriptor','isLoggedIn','gitUtils','(((.+)+)+)+$','run','GitProvider','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','shift','__importStar','DEFAULT_GIT_USER_EMAIL','force','SalesforceLogger3','1742394QySUIc','inserted','getRecordTypes'];a63_0x9f22=function(){return _0x35a5b0;};return a63_0x9f22();}