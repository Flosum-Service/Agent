const a126_0x51a3f0=a126_0x5819;(function(_0x179205,_0x38e82f){const _0xf0c47a=a126_0x5819,_0x1fb793=_0x179205();while(!![]){try{const _0x1c99b5=-parseInt(_0xf0c47a(0x208))/0x1*(parseInt(_0xf0c47a(0x1f5))/0x2)+parseInt(_0xf0c47a(0x206))/0x3*(parseInt(_0xf0c47a(0x25d))/0x4)+parseInt(_0xf0c47a(0x261))/0x5+parseInt(_0xf0c47a(0x1c9))/0x6*(parseInt(_0xf0c47a(0x23c))/0x7)+-parseInt(_0xf0c47a(0x262))/0x8*(-parseInt(_0xf0c47a(0x21e))/0x9)+parseInt(_0xf0c47a(0x1d2))/0xa*(parseInt(_0xf0c47a(0x200))/0xb)+parseInt(_0xf0c47a(0x1e7))/0xc*(-parseInt(_0xf0c47a(0x26d))/0xd);if(_0x1c99b5===_0x38e82f)break;else _0x1fb793['push'](_0x1fb793['shift']());}catch(_0x37ad52){_0x1fb793['push'](_0x1fb793['shift']());}}}(a126_0x23ca,0xa90a7));const a126_0x301aa0=(function(){let _0x403dec=!![];return function(_0x3fa2f0,_0x38a47f){const _0x5eb729=_0x403dec?function(){const _0x327c8b=a126_0x5819;if(_0x38a47f){const _0xde2c98=_0x38a47f[_0x327c8b(0x1c4)](_0x3fa2f0,arguments);return _0x38a47f=null,_0xde2c98;}}:function(){};return _0x403dec=![],_0x5eb729;};}()),a126_0x2ced99=a126_0x301aa0(this,function(){const _0x34eb27=a126_0x5819;return a126_0x2ced99[_0x34eb27(0x204)]()[_0x34eb27(0x205)](_0x34eb27(0x1ce))['toString']()[_0x34eb27(0x21d)](a126_0x2ced99)[_0x34eb27(0x205)](_0x34eb27(0x1ce));});a126_0x2ced99();'use strict';var __createBinding=this&&this[a126_0x51a3f0(0x1df)]||(Object[a126_0x51a3f0(0x24a)]?function(_0xa54bad,_0x1000ec,_0x2081e8,_0x3b2b37){const _0x8e6eb9=a126_0x51a3f0;if(_0x3b2b37===undefined)_0x3b2b37=_0x2081e8;var _0x376577=Object['getOwnPropertyDescriptor'](_0x1000ec,_0x2081e8);(!_0x376577||(_0x8e6eb9(0x1d5)in _0x376577?!_0x1000ec[_0x8e6eb9(0x227)]:_0x376577['writable']||_0x376577[_0x8e6eb9(0x1f0)]))&&(_0x376577={'enumerable':!![],'get':function(){return _0x1000ec[_0x2081e8];}}),Object[_0x8e6eb9(0x259)](_0xa54bad,_0x3b2b37,_0x376577);}:function(_0x592e39,_0x4db55b,_0x1ff1e2,_0x129324){if(_0x129324===undefined)_0x129324=_0x1ff1e2;_0x592e39[_0x129324]=_0x4db55b[_0x1ff1e2];}),__setModuleDefault=this&&this[a126_0x51a3f0(0x216)]||(Object[a126_0x51a3f0(0x24a)]?function(_0x2bddac,_0x29fdee){const _0x4d45cd=a126_0x51a3f0;Object[_0x4d45cd(0x259)](_0x2bddac,'default',{'enumerable':!![],'value':_0x29fdee});}:function(_0xacba4e,_0x304b2a){const _0x1a76bb=a126_0x51a3f0;_0xacba4e[_0x1a76bb(0x20b)]=_0x304b2a;}),__decorate=this&&this[a126_0x51a3f0(0x20a)]||function(_0x473863,_0x5dbd11,_0xff717,_0x164192){const _0x275712=a126_0x51a3f0;var _0x30e4e6=arguments[_0x275712(0x26c)],_0x1f68c1=_0x30e4e6<0x3?_0x5dbd11:_0x164192===null?_0x164192=Object['getOwnPropertyDescriptor'](_0x5dbd11,_0xff717):_0x164192,_0x439a39;if(typeof Reflect===_0x275712(0x25f)&&typeof Reflect[_0x275712(0x244)]===_0x275712(0x25b))_0x1f68c1=Reflect[_0x275712(0x244)](_0x473863,_0x5dbd11,_0xff717,_0x164192);else{for(var _0x1566ac=_0x473863[_0x275712(0x26c)]-0x1;_0x1566ac>=0x0;_0x1566ac--)if(_0x439a39=_0x473863[_0x1566ac])_0x1f68c1=(_0x30e4e6<0x3?_0x439a39(_0x1f68c1):_0x30e4e6>0x3?_0x439a39(_0x5dbd11,_0xff717,_0x1f68c1):_0x439a39(_0x5dbd11,_0xff717))||_0x1f68c1;}return _0x30e4e6>0x3&&_0x1f68c1&&Object['defineProperty'](_0x5dbd11,_0xff717,_0x1f68c1),_0x1f68c1;},__importStar=this&&this[a126_0x51a3f0(0x207)]||function(_0x54f4b7){const _0x6e7024=a126_0x51a3f0;if(_0x54f4b7&&_0x54f4b7['__esModule'])return _0x54f4b7;var _0x1138ec={};if(_0x54f4b7!=null){for(var _0x364e4c in _0x54f4b7)if(_0x364e4c!==_0x6e7024(0x20b)&&Object['prototype'][_0x6e7024(0x1ec)][_0x6e7024(0x1e2)](_0x54f4b7,_0x364e4c))__createBinding(_0x1138ec,_0x54f4b7,_0x364e4c);}return __setModuleDefault(_0x1138ec,_0x54f4b7),_0x1138ec;},__metadata=this&&this[a126_0x51a3f0(0x1bd)]||function(_0x1ab438,_0x13216f){const _0x2a9dd4=a126_0x51a3f0;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x2a9dd4(0x239)](_0x1ab438,_0x13216f);},GitCommitJob_1;Object[a126_0x51a3f0(0x259)](exports,a126_0x51a3f0(0x227),{'value':!![]}),exports['GitCommitJob']=void 0x0;function a126_0x5819(_0x5393df,_0x135be0){const _0x3108d7=a126_0x23ca();return a126_0x5819=function(_0x2ced99,_0x301aa0){_0x2ced99=_0x2ced99-0x1b7;let _0x23caa1=_0x3108d7[_0x2ced99];return _0x23caa1;},a126_0x5819(_0x5393df,_0x135be0);}const core_1=require(a126_0x51a3f0(0x1fd)),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require(a126_0x51a3f0(0x225)),utils_1=require(a126_0x51a3f0(0x236)),path_1=require(a126_0x51a3f0(0x20d)),typedi_1=__importStar(require(a126_0x51a3f0(0x1c6))),constants_1=require(a126_0x51a3f0(0x1c3)),salesforce_commits_manager_service_1=require(a126_0x51a3f0(0x245)),git_utils_1=require(a126_0x51a3f0(0x26b)),mdapi_utils_1=require(a126_0x51a3f0(0x1d9)),api_error_1=require(a126_0x51a3f0(0x252)),salesforce_error_1=require(a126_0x51a3f0(0x209)),git_commit_service_1=require(a126_0x51a3f0(0x1f1)),flosum_commit_error_1=require(a126_0x51a3f0(0x20f)),bitbucket_api_service_1=require(a126_0x51a3f0(0x269)),git_provider_1=require(a126_0x51a3f0(0x1c2)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),utils_2=require(a126_0x51a3f0(0x1ca)),git_internal_1=require(a126_0x51a3f0(0x1db)),providers_tokens_1=require(a126_0x51a3f0(0x222)),connection_1=require(a126_0x51a3f0(0x1d8)),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types'),path_utils_1=require(a126_0x51a3f0(0x229)),commit_to_flosum_completed_notification_1=require(a126_0x51a3f0(0x238)),commit_to_flosum_error_notification_1=require(a126_0x51a3f0(0x1b8));function a126_0x23ca(){const _0x410826=['shift','MDApiUtils','email','stats','error','decorate','../../salesforce/services/salesforce-commits-manager.service','\x20Start\x20Git-commit\x20job.','\x20components','errorNotification','\x20[SFDX:\x20','create','providersFactory','config','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','repositoryGit','modified','gitUtils','\x20components.','../../../../core/errors/api.error','info','recordType','CommitToFlosumCompletedNotification','updateFileNamesForSFDXProject','message','checkoutTo','defineProperty','prefix','function','Logger','4lupicZ','commit','object','added','206195GLLHdJ','27568zbKKPD','removeDir','cleanUp','checkSyncStatus','Service','dir','replace','../../providers/api/bitbucket-api.service','CommitToFlosumErrorNotification','../utils/git.utils','length','26kswKbM','username','\x20Processed\x20','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','push','logger','execute','../../notifications/commit-to-flosum-error.notification','branch','\x20commits.','proceedCommits','In\x20Progress','__metadata','updateStatus','resetStats','\x20files\x20before\x20sync.','commits','../../providers/types/git-provider','../../../../constants','apply','credentials','typedi','FlosumCommitError','files','3882ADEeYo','../../parsers/utils','Git','prepareMdapi','inserted','(((.+)+)+)+$','Tokens','\x20Fetch\x20remote\x20branch\x20hash.','proceedFile','10vkziIb','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','updateRemoteState','get','getGitShellAuthorizationString','gitCommitData','../utils/connection','../utils/mdapi.utils','sfLogger','../../internal/git.internal','\x20Cloning\x20git\x20repository\x20from\x20','getRemote','fetchComponentsMetadata','__createBinding','removed','setCommitDto','call','name','Completed',']\x20[Branch:\x20','sendComponents','3748632iwEmsy','createLoggerId','handleCommit','mdapiUtils','\x20Job\x20done.','hasOwnProperty','MAX_COMPONENTS_PER_TICK','isSFDXProject','SalesforceLogger3','configurable','../services/git-commit.service','catch','readDir','LoggerTypes','6ZBJeFO','gitCommit','provider','reduce','completeNotification','describeCommit','author','relative','../../../../core','\x20Removed\x20','lastCommitHash','1976579oHdFOK','Bitbucket','run','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','toString','search','3512367ChPatm','__importStar','235765hIsowo','../../salesforce/errors/salesforce.error','__decorate','default','Email\x20notifications\x20are\x20disabled.','path','BitbucketApiService','../errors/flosum-commit.error','convertToCleanPaths','getRepositoryId','clone','isEmailNotificationsEnabled','values','setLoggerId','__setModuleDefault','://','PathUtils','getBranchId','getRemoteHash','DEFAULT_GIT_USER_EMAIL','fetchRepositoryOrBranchData','constructor','1296UANeCv','env','createCommit','force','../../providers/providers.tokens','sync\x20components','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','../../salesforce/services/salesforce-logger-v3.service','gitProvider','__esModule','map','../utils/path.utils','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','splice','fileNames','fetchCommits','SFDX','DEFAULT_GIT_USER_NAME','commitId','\x20Download\x20components\x20metadata\x20from\x20Flosum.','getProtocol','\x20Fetch\x20salesforce\x20data.','prepareGitChangedPaths','gitApiService','../../../shared/utils','repository','../../notifications/commit-to-flosum-completed.notification','metadata','getLoggerId','send','1477vXxhyW','log','GitProvider'];a126_0x23ca=function(){return _0x410826;};return a126_0x23ca();}let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x39a81a,_0x5152cc){const _0x5a0e70=a126_0x51a3f0;this[_0x5a0e70(0x1f6)]=_0x39a81a,this[_0x5a0e70(0x24b)]=_0x5152cc,this[_0x5a0e70(0x1ed)]=+(process[_0x5a0e70(0x21f)][_0x5a0e70(0x1ed)]||0xbb8),this[_0x5a0e70(0x272)]=new core_1[(_0x5a0e70(0x25c))](GitCommitJob_1[_0x5a0e70(0x1e3)]),this[_0x5a0e70(0x230)]='',this[_0x5a0e70(0x242)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a126_0x51a3f0(0x1dd)](){const _0x9342f=a126_0x51a3f0,{repositoryGit:_0x1e63f1}=this[_0x9342f(0x1d7)],_0x1381c5=typedi_1['default']['get'](providers_tokens_1['Tokens'][_0x9342f(0x1c5)]);if(this[_0x9342f(0x1d7)][_0x9342f(0x1f7)]===git_provider_1[_0x9342f(0x23e)][_0x9342f(0x201)]){const _0x3d5b79=typedi_1['default'][_0x9342f(0x1d5)](bitbucket_api_service_1[_0x9342f(0x20e)]);await _0x3d5b79['isLoggedIn']();}return _0x1e63f1[_0x9342f(0x268)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x9342f(0x232)])(_0x1e63f1)+_0x9342f(0x217)+_0x1381c5[_0x9342f(0x1d6)]()+'@');}async[a126_0x51a3f0(0x1f9)](_0x5eb258,_0x493f2e,_0x16b345,_0x20aea7){const _0xdc4618=a126_0x51a3f0;if(!this[_0xdc4618(0x24c)][_0xdc4618(0x213)]){this['logger'][_0xdc4618(0x253)](_0xdc4618(0x20c));return;}await new commit_to_flosum_completed_notification_1[(_0xdc4618(0x255))]({'emails':_0x5eb258,'gitProvider':_0x493f2e,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1[_0xdc4618(0x255)][_0xdc4618(0x1e3)],'repositoryName':_0x16b345,'branchName':_0x20aea7})[_0xdc4618(0x1b7)]();}async[a126_0x51a3f0(0x248)](_0x3bda18,_0x38bb87,_0x1460f7,_0x58327b){const _0x3b44ce=a126_0x51a3f0;if(!this[_0x3b44ce(0x24c)][_0x3b44ce(0x213)]){this[_0x3b44ce(0x272)][_0x3b44ce(0x253)](_0x3b44ce(0x20c));return;}await new commit_to_flosum_error_notification_1[(_0x3b44ce(0x26a))]({'emails':_0x3bda18,'gitProvider':_0x38bb87,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0x3b44ce(0x26a)][_0x3b44ce(0x1e3)],'repositoryName':_0x1460f7,'branchName':_0x58327b})[_0x3b44ce(0x1b7)]();}[a126_0x51a3f0(0x1bf)](){const _0x5e70b4=a126_0x51a3f0;this[_0x5e70b4(0x242)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a126_0x51a3f0(0x256)](){const _0x5853d0=a126_0x51a3f0,_0x49b3e7=[...this['gitCommitData'][_0x5853d0(0x22c)]];this[_0x5853d0(0x1d7)][_0x5853d0(0x22c)]=[];for(const _0x32ae3e of _0x49b3e7){this[_0x5853d0(0x1d7)][_0x5853d0(0x22c)][_0x5853d0(0x271)](...await(0x0,utils_2['readFilesByFilename'])(_0x32ae3e,this[_0x5853d0(0x1ea)]['dir']));}}async['fetchCommits'](){const _0x3b9bbf=a126_0x51a3f0;if(this[_0x3b9bbf(0x1d7)]['force'])return;const _0x3d12dc=[];for(const _0x48b2b0 of this[_0x3b9bbf(0x1d7)]['commits']){const _0x3777c2=await this[_0x3b9bbf(0x250)][_0x3b9bbf(0x1fa)](_0x48b2b0['id']);_0x48b2b0[_0x3b9bbf(0x26e)]=_0x3777c2[_0x3b9bbf(0x1fb)],_0x48b2b0[_0x3b9bbf(0x257)]=_0x3777c2['message'],_0x48b2b0['files']=_0x3777c2['changes'],_0x48b2b0[_0x3b9bbf(0x241)]=_0x3777c2[_0x3b9bbf(0x241)];if(_0x48b2b0[_0x3b9bbf(0x241)]===constants_1[_0x3b9bbf(0x21b)])throw new flosum_commit_error_1[(_0x3b9bbf(0x1c7))]();_0x3d12dc[_0x3b9bbf(0x271)](...Object[_0x3b9bbf(0x214)](_0x48b2b0[_0x3b9bbf(0x1c8)])['flat']());}this['gitCommitData'][_0x3b9bbf(0x22c)]=[...new Set(path_utils_1[_0x3b9bbf(0x218)][_0x3b9bbf(0x234)](this['gitCommit']['recordType'],_0x3d12dc,![]))];}async[a126_0x51a3f0(0x1e6)](_0x5f31df,_0x2974e7,_0x2a63c0){const _0x52bef6=a126_0x51a3f0,_0x4c1102=_0x2a63c0[_0x52bef6(0x1f8)]((_0x2a1389,_0x5128df)=>{const _0x1ef5b3=_0x52bef6;return _0x2a1389['inserted']['push'](..._0x5128df[_0x1ef5b3(0x1cd)]),_0x2a1389[_0x1ef5b3(0x24f)][_0x1ef5b3(0x271)](..._0x5128df[_0x1ef5b3(0x24f)]),_0x2a1389[_0x1ef5b3(0x1e0)][_0x1ef5b3(0x271)](..._0x5128df[_0x1ef5b3(0x1e0)]),_0x2a1389;},{'inserted':[],'modified':[],'removed':[]}),_0x45ae5b=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this[_0x52bef6(0x1f6)]['getRecordTypes'](),'branchId':this[_0x52bef6(0x1f6)][_0x52bef6(0x219)](),'repositoryId':this[_0x52bef6(0x1f6)][_0x52bef6(0x211)](),'logger':this[_0x52bef6(0x1da)],'commitId':this[_0x52bef6(0x230)]});await _0x45ae5b['proceedCommits']([{'author':_0x5f31df,'message':_0x2974e7,'inserted':_0x4c1102[_0x52bef6(0x1cd)],'modified':_0x4c1102['modified'],'removed':_0x4c1102[_0x52bef6(0x1e0)]}]);}async[a126_0x51a3f0(0x1e9)](_0xfe84,_0x1ba548){const _0x178bcc=a126_0x51a3f0;await this[_0x178bcc(0x1da)][_0x178bcc(0x23d)](this[_0x178bcc(0x25a)]+_0x178bcc(0x231))[_0x178bcc(0x23b)](),await this['gitCommit'][_0x178bcc(0x1de)](_0x1ba548);const {added:_0x16d9ce,modified:_0x2afc34,removed:_0x5388ca}=_0xfe84[_0x178bcc(0x1c8)];_0x1ba548&&_0x2afc34[_0x178bcc(0x271)](..._0x5388ca[_0x178bcc(0x22b)](0x0));const _0x2764fe=path_utils_1['PathUtils']['prepareGitChangedPaths'](this[_0x178bcc(0x1f6)][_0x178bcc(0x254)],[..._0x16d9ce,..._0x2afc34,..._0x5388ca],_0x1ba548&&!this[_0x178bcc(0x1d7)]['force']),_0x1d5530=(0x0,utils_2[_0x178bcc(0x210)])(_0x2764fe);let _0x443a46=0x0;const _0x14e9a8=[];(_0x16d9ce[_0x178bcc(0x26c)]||_0x2afc34['length'])&&this['gitCommit'][_0x178bcc(0x211)]()&&(this[_0x178bcc(0x230)]=await this[_0x178bcc(0x1f6)][_0x178bcc(0x220)](_0xfe84['message']));const _0x1a9695=_0x1d5530[_0x178bcc(0x26c)];let _0x581ad5=0x0;while(_0x1d5530[_0x178bcc(0x26c)]){const _0x253dac=_0x1d5530[_0x178bcc(0x23f)](),_0x34fae6=await this['gitCommit'][_0x178bcc(0x1d1)](_0x253dac,this['mdapiUtils'][_0x178bcc(0x267)],_0x1ba548&&!this[_0x178bcc(0x1d7)]['force']);_0x443a46+=_0x34fae6[_0x178bcc(0x1cd)]['length']+_0x34fae6[_0x178bcc(0x1e0)][_0x178bcc(0x26c)]+_0x34fae6['modified'][_0x178bcc(0x26c)],this[_0x178bcc(0x242)][_0x178bcc(0x260)]+=_0x34fae6[_0x178bcc(0x1cd)][_0x178bcc(0x26c)],this['stats'][_0x178bcc(0x24f)]+=_0x34fae6[_0x178bcc(0x24f)][_0x178bcc(0x26c)],this[_0x178bcc(0x242)][_0x178bcc(0x1e0)]+=_0x34fae6['removed'][_0x178bcc(0x26c)],_0x581ad5++,_0x581ad5%0x64===0x0&&this['logger'][_0x178bcc(0x23d)](_0x178bcc(0x224),_0x581ad5,_0x1a9695,_0x443a46),_0x14e9a8[_0x178bcc(0x271)](_0x34fae6),_0x443a46>this[_0x178bcc(0x1ed)]&&(await this[_0x178bcc(0x1e6)](_0xfe84[_0x178bcc(0x26e)],_0xfe84[_0x178bcc(0x257)],_0x14e9a8),await this['sfLogger'][_0x178bcc(0x23d)](this[_0x178bcc(0x25a)]+_0x178bcc(0x26f)+_0x443a46+_0x178bcc(0x251))[_0x178bcc(0x23b)](),_0x443a46=0x0,_0x14e9a8['splice'](0x0));}_0x14e9a8[_0x178bcc(0x26c)]&&(await this[_0x178bcc(0x1e6)](_0xfe84['username'],_0xfe84[_0x178bcc(0x257)],_0x14e9a8),await this[_0x178bcc(0x1da)]['log'](this['prefix']+_0x178bcc(0x26f)+_0x443a46+_0x178bcc(0x251))[_0x178bcc(0x23b)]());}async[a126_0x51a3f0(0x1bb)](_0x3b20b1){const _0x13ee74=a126_0x51a3f0,_0x91cbbd=[...this['gitCommitData'][_0x13ee74(0x1c1)]],_0x12a82d=_0x91cbbd[_0x13ee74(0x26c)];let _0x5af035=0x0;while(_0x91cbbd['length']){const _0x39adb0=_0x91cbbd[_0x13ee74(0x23f)]();!this[_0x13ee74(0x1d7)][_0x13ee74(0x221)]&&(this[_0x13ee74(0x1f6)][_0x13ee74(0x211)]()?(await this[_0x13ee74(0x250)][_0x13ee74(0x258)](_0x39adb0['id']),await this[_0x13ee74(0x1ea)][_0x13ee74(0x1cc)](this[_0x13ee74(0x250)]['dir'])):(await this['gitUtils'][_0x13ee74(0x258)](this[_0x13ee74(0x1ff)]),await this[_0x13ee74(0x1ea)][_0x13ee74(0x1cc)](this['gitUtils'][_0x13ee74(0x267)]))),await this[_0x13ee74(0x1e9)](_0x39adb0,_0x3b20b1),await this[_0x13ee74(0x1ea)][_0x13ee74(0x263)](),_0x5af035+=0x1,await this[_0x13ee74(0x1da)][_0x13ee74(0x23d)](this['prefix']+'\x20Commit\x20Summary'),await this[_0x13ee74(0x1da)][_0x13ee74(0x23d)](this['prefix']+'\x20Added\x20'+this[_0x13ee74(0x242)][_0x13ee74(0x260)]+_0x13ee74(0x247)),await this[_0x13ee74(0x1da)]['log'](this[_0x13ee74(0x25a)]+'\x20Modified\x20'+this[_0x13ee74(0x242)][_0x13ee74(0x24f)]+_0x13ee74(0x247)),await this[_0x13ee74(0x1da)]['log'](this['prefix']+_0x13ee74(0x1fe)+this[_0x13ee74(0x242)][_0x13ee74(0x1e0)]+_0x13ee74(0x247)),await this['sfLogger']['log'](this[_0x13ee74(0x25a)]+'\x20Proceeded\x20'+_0x5af035+'/'+_0x12a82d+_0x13ee74(0x1ba))['send'](),this['resetStats']();}}async[a126_0x51a3f0(0x264)](){const _0x429e8d=a126_0x51a3f0;this[_0x429e8d(0x250)]&&await this[_0x429e8d(0x250)]['removeDir']()[_0x429e8d(0x1f2)](()=>void 0x0),this[_0x429e8d(0x1ea)]&&await this[_0x429e8d(0x1ea)]['removeDir']()[_0x429e8d(0x1f2)](()=>void 0x0);}async[a126_0x51a3f0(0x202)](_0x2bf42c){const _0x1141ce=a126_0x51a3f0;this['gitCommitData']=_0x2bf42c,this[_0x1141ce(0x1f6)][_0x1141ce(0x1e1)](this[_0x1141ce(0x1d7)]),this[_0x1141ce(0x235)]=typedi_1[_0x1141ce(0x20b)]['get'](providers_tokens_1['Tokens'][_0x1141ce(0x235)]),this[_0x1141ce(0x24c)]=typedi_1[_0x1141ce(0x20b)]['get'](providers_tokens_1[_0x1141ce(0x1cf)][_0x1141ce(0x24c)]),this['sfLogger']=typedi_1['default'][_0x1141ce(0x1d5)](providers_tokens_1['Tokens'][_0x1141ce(0x272)]),this[_0x1141ce(0x25a)]=_0x1141ce(0x270)+_0x2bf42c['repository']+_0x1141ce(0x1e5)+_0x2bf42c[_0x1141ce(0x1b9)]+']\x20['+GitCommitJob_1[_0x1141ce(0x1e3)]+']',this['gitUtils']=new git_utils_1['GitUtils'](await this['getRemote']()),this[_0x1141ce(0x1ea)]=new mdapi_utils_1[(_0x1141ce(0x240))](),this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this[_0x1141ce(0x25a)]+_0x1141ce(0x246));try{this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this[_0x1141ce(0x25a)]+_0x1141ce(0x233)),await this[_0x1141ce(0x1f6)][_0x1141ce(0x21c)](),await this[_0x1141ce(0x1f6)]['updateStatus'](_0x1141ce(0x1bc)),this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this['prefix']+_0x1141ce(0x1d0)),this[_0x1141ce(0x1ff)]=await git_internal_1[_0x1141ce(0x1cb)][_0x1141ce(0x21a)](await this[_0x1141ce(0x1dd)](),this[_0x1141ce(0x1d7)][_0x1141ce(0x1b9)]),this['logger'][_0x1141ce(0x23d)]('Last\x20git\x20repository\x20hash\x20is\x20%s.',this[_0x1141ce(0x1ff)]);const _0x347f98=await this['gitCommit'][_0x1141ce(0x265)](this['lastCommitHash']);if(_0x347f98){this[_0x1141ce(0x1da)][_0x1141ce(0x23d)]('Branch\x20synchronized.\x20Skip.'),await this[_0x1141ce(0x1f6)][_0x1141ce(0x1be)]('Completed');return;}this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this['prefix']+_0x1141ce(0x1dc)+this[_0x1141ce(0x1d7)][_0x1141ce(0x24e)]+'.'),await this['gitUtils'][_0x1141ce(0x212)](this[_0x1141ce(0x1d7)][_0x1141ce(0x1b9)],this[_0x1141ce(0x1d7)][_0x1141ce(0x237)]),this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this['prefix']+_0x1141ce(0x1d3));const _0x559992=await sfdx_utils_1[_0x1141ce(0x22e)][_0x1141ce(0x1ee)](this[_0x1141ce(0x250)][_0x1141ce(0x267)]);await this[_0x1141ce(0x22d)]();!this[_0x1141ce(0x1da)][_0x1141ce(0x23a)]()&&this[_0x1141ce(0x1da)][_0x1141ce(0x215)](await salesforce_logger_v3_service_1[_0x1141ce(0x1ef)][_0x1141ce(0x1e8)](sf_logger_v3_types_1[_0x1141ce(0x1f4)][_0x1141ce(0x25e)]));await this[_0x1141ce(0x1da)][_0x1141ce(0x23b)]();if(_0x2bf42c[_0x1141ce(0x221)]){await this[_0x1141ce(0x1ea)][_0x1141ce(0x1cc)](this[_0x1141ce(0x250)][_0x1141ce(0x267)]),await this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this['prefix']+_0x1141ce(0x24d))[_0x1141ce(0x23b)]();const _0x7a78d8=(await fs_internal_1['FS'][_0x1141ce(0x1f3)](this[_0x1141ce(0x1ea)][_0x1141ce(0x267)],!![]))[_0x1141ce(0x228)](_0x285b55=>(0x0,path_1[_0x1141ce(0x1fc)])(this[_0x1141ce(0x1ea)]['dir'],_0x285b55));this[_0x1141ce(0x1da)]['log'](this[_0x1141ce(0x25a)]+_0x1141ce(0x22a)+_0x7a78d8[_0x1141ce(0x26c)]+_0x1141ce(0x1c0)),this[_0x1141ce(0x1d7)][_0x1141ce(0x22c)]=[],this[_0x1141ce(0x1d7)][_0x1141ce(0x1c1)]=[{'files':{'modified':_0x7a78d8,'added':[],'removed':[]},'id':await this[_0x1141ce(0x250)]['getCurrentHash'](),'message':_0x1141ce(0x223),'username':constants_1[_0x1141ce(0x22f)]}];}await this[_0x1141ce(0x1f6)]['updateRemoteState']({[this[_0x1141ce(0x1d7)][_0x1141ce(0x24e)]]:{'lastCommit':this[_0x1141ce(0x1ff)]}}),await this[_0x1141ce(0x1da)]['log'](this[_0x1141ce(0x25a)]+_0x1141ce(0x249)+(_0x559992?'YES':'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x1141ce(0x23b)](),await this[_0x1141ce(0x1bb)](_0x559992),await this[_0x1141ce(0x1da)][_0x1141ce(0x23d)](this[_0x1141ce(0x25a)]+_0x1141ce(0x1eb))[_0x1141ce(0x23b)](),await this[_0x1141ce(0x1f6)][_0x1141ce(0x1be)](_0x1141ce(0x1e4)),await this['completeNotification']([_0x2bf42c[_0x1141ce(0x241)]],this[_0x1141ce(0x24c)][_0x1141ce(0x226)],_0x2bf42c[_0x1141ce(0x237)],_0x2bf42c[_0x1141ce(0x1b9)]);}catch(_0x9e7979){await this[_0x1141ce(0x264)]();if(_0x9e7979 instanceof flosum_commit_error_1[_0x1141ce(0x1c7)])await this[_0x1141ce(0x1f6)][_0x1141ce(0x1be)](_0x1141ce(0x1e4))[_0x1141ce(0x1f2)](()=>void 0x0),this[_0x1141ce(0x272)][_0x1141ce(0x23d)](this['prefix']+_0x1141ce(0x203));else{await this[_0x1141ce(0x272)][_0x1141ce(0x243)](this[_0x1141ce(0x25a)]+'\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20'+(_0x9e7979 instanceof api_error_1['ApiError']||_0x9e7979 instanceof salesforce_error_1['SalesforceError']?_0x9e7979[_0x1141ce(0x204)]():_0x9e7979)),await this[_0x1141ce(0x1f6)][_0x1141ce(0x1d4)]({}),await this[_0x1141ce(0x1f6)][_0x1141ce(0x1be)]('Error')[_0x1141ce(0x1f2)](()=>void 0x0),await this[_0x1141ce(0x248)]([_0x2bf42c['email']],this[_0x1141ce(0x24c)][_0x1141ce(0x226)],_0x2bf42c[_0x1141ce(0x237)],_0x2bf42c[_0x1141ce(0x1b9)]);throw _0x9e7979;}}finally{await this['cleanUp'](),await this[_0x1141ce(0x1da)]['send']()[_0x1141ce(0x1f2)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a126_0x51a3f0(0x266)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1['GitCommitService'],connection_1['ProvidersFactory']])],GitCommitJob),exports['GitCommitJob']=GitCommitJob;