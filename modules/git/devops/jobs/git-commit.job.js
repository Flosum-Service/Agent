const a107_0x78440e=a107_0x5edd;(function(_0x52a281,_0x45b1fe){const _0x593c5f=a107_0x5edd,_0x9f54d8=_0x52a281();while(!![]){try{const _0x173511=parseInt(_0x593c5f(0x154))/0x1+parseInt(_0x593c5f(0x10a))/0x2*(parseInt(_0x593c5f(0xca))/0x3)+-parseInt(_0x593c5f(0x14f))/0x4*(parseInt(_0x593c5f(0xeb))/0x5)+-parseInt(_0x593c5f(0x133))/0x6*(parseInt(_0x593c5f(0x15c))/0x7)+parseInt(_0x593c5f(0x14a))/0x8*(parseInt(_0x593c5f(0x157))/0x9)+parseInt(_0x593c5f(0x146))/0xa+-parseInt(_0x593c5f(0x153))/0xb*(parseInt(_0x593c5f(0xfa))/0xc);if(_0x173511===_0x45b1fe)break;else _0x9f54d8['push'](_0x9f54d8['shift']());}catch(_0x7957b8){_0x9f54d8['push'](_0x9f54d8['shift']());}}}(a107_0x4872,0x4ef6f));const a107_0x5a5791=(function(){let _0x1bf722=!![];return function(_0x41303e,_0x1e8836){const _0x5d7bf8=_0x1bf722?function(){const _0x59b64b=a107_0x5edd;if(_0x1e8836){const _0x320f8e=_0x1e8836[_0x59b64b(0x103)](_0x41303e,arguments);return _0x1e8836=null,_0x320f8e;}}:function(){};return _0x1bf722=![],_0x5d7bf8;};}()),a107_0x64b99a=a107_0x5a5791(this,function(){const _0x25c905=a107_0x5edd;return a107_0x64b99a[_0x25c905(0xd2)]()[_0x25c905(0x130)](_0x25c905(0x105))[_0x25c905(0xd2)]()['constructor'](a107_0x64b99a)['search']('(((.+)+)+)+$');});a107_0x64b99a();function a107_0x5edd(_0x1e07aa,_0xf18b19){const _0x5a0470=a107_0x4872();return a107_0x5edd=function(_0x64b99a,_0x5a5791){_0x64b99a=_0x64b99a-0xb6;let _0x4872b1=_0x5a0470[_0x64b99a];return _0x4872b1;},a107_0x5edd(_0x1e07aa,_0xf18b19);}'use strict';var __createBinding=this&&this[a107_0x78440e(0x120)]||(Object[a107_0x78440e(0xd1)]?function(_0x3c64c9,_0x4e1e63,_0x16b490,_0x2a5ffd){const _0x5124a0=a107_0x78440e;if(_0x2a5ffd===undefined)_0x2a5ffd=_0x16b490;var _0x55d19a=Object['getOwnPropertyDescriptor'](_0x4e1e63,_0x16b490);(!_0x55d19a||(_0x5124a0(0xdd)in _0x55d19a?!_0x4e1e63[_0x5124a0(0xd8)]:_0x55d19a[_0x5124a0(0xc1)]||_0x55d19a[_0x5124a0(0x10b)]))&&(_0x55d19a={'enumerable':!![],'get':function(){return _0x4e1e63[_0x16b490];}}),Object[_0x5124a0(0xfd)](_0x3c64c9,_0x2a5ffd,_0x55d19a);}:function(_0x23482b,_0xb92f48,_0x5ea547,_0x3ae475){if(_0x3ae475===undefined)_0x3ae475=_0x5ea547;_0x23482b[_0x3ae475]=_0xb92f48[_0x5ea547];}),__setModuleDefault=this&&this[a107_0x78440e(0x158)]||(Object[a107_0x78440e(0xd1)]?function(_0x28c158,_0x557a4d){const _0x4e77a7=a107_0x78440e;Object[_0x4e77a7(0xfd)](_0x28c158,_0x4e77a7(0xc2),{'enumerable':!![],'value':_0x557a4d});}:function(_0xc9d279,_0xd48f2){_0xc9d279['default']=_0xd48f2;}),__decorate=this&&this['__decorate']||function(_0x67f297,_0x51d1b8,_0x32f873,_0x18e258){const _0x1b320f=a107_0x78440e;var _0x5a4b1b=arguments[_0x1b320f(0x14d)],_0x17596f=_0x5a4b1b<0x3?_0x51d1b8:_0x18e258===null?_0x18e258=Object['getOwnPropertyDescriptor'](_0x51d1b8,_0x32f873):_0x18e258,_0x350413;if(typeof Reflect===_0x1b320f(0x13d)&&typeof Reflect['decorate']===_0x1b320f(0xf6))_0x17596f=Reflect[_0x1b320f(0xe8)](_0x67f297,_0x51d1b8,_0x32f873,_0x18e258);else{for(var _0x426fa8=_0x67f297['length']-0x1;_0x426fa8>=0x0;_0x426fa8--)if(_0x350413=_0x67f297[_0x426fa8])_0x17596f=(_0x5a4b1b<0x3?_0x350413(_0x17596f):_0x5a4b1b>0x3?_0x350413(_0x51d1b8,_0x32f873,_0x17596f):_0x350413(_0x51d1b8,_0x32f873))||_0x17596f;}return _0x5a4b1b>0x3&&_0x17596f&&Object[_0x1b320f(0xfd)](_0x51d1b8,_0x32f873,_0x17596f),_0x17596f;},__importStar=this&&this[a107_0x78440e(0xf4)]||function(_0x2bd5fa){const _0x1016a3=a107_0x78440e;if(_0x2bd5fa&&_0x2bd5fa[_0x1016a3(0xd8)])return _0x2bd5fa;var _0x5c1aa8={};if(_0x2bd5fa!=null){for(var _0x98751d in _0x2bd5fa)if(_0x98751d!==_0x1016a3(0xc2)&&Object[_0x1016a3(0xcc)][_0x1016a3(0xba)]['call'](_0x2bd5fa,_0x98751d))__createBinding(_0x5c1aa8,_0x2bd5fa,_0x98751d);}return __setModuleDefault(_0x5c1aa8,_0x2bd5fa),_0x5c1aa8;},__metadata=this&&this[a107_0x78440e(0xda)]||function(_0x2e0042,_0x145a36){const _0x8a1be9=a107_0x78440e;if(typeof Reflect===_0x8a1be9(0x13d)&&typeof Reflect['metadata']===_0x8a1be9(0xf6))return Reflect[_0x8a1be9(0xcd)](_0x2e0042,_0x145a36);},GitCommitJob_1;function a107_0x4872(){const _0x3249a5=['\x20Modified\x20','ProvidersFactory','proceedCommits','writable','default','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','\x20commits.','commitId','clone','modified','checkSyncStatus','prepareGitChangedPaths','54HYWuWK','../../internal/fs.internal','prototype','metadata','\x20Download\x20components\x20metadata\x20from\x20Flosum.','\x20components','logger','create','toString','../../../../constants','../services/git-commit.service','../../salesforce/utils/sfdx.utils','fileNames','gitCommitData','__esModule','added','__metadata','../../providers/providers.tokens','MDApiUtils','get',']\x20[','SalesforceLogger3','gitUtils','prepareMdapi','BitbucketApiService','prefix','sync\x20components','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','handleCommit','sfLogger','decorate','\x20Removed\x20','log','44155XDnGYU','../utils/git-commit.utils','../utils/connection','message','force','\x20Cloning\x20git\x20repository\x20from\x20','dir','getRepositoryId','../utils/mdapi.utils','__importStar','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','function','\x20Fetch\x20salesforce\x20data.','YES','push','842124qqGOcz','Bitbucket','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','defineProperty','updateRemoteState','username','../../salesforce/services/salesforce-commits-manager.service',']\x20[Branch:\x20','../../salesforce/errors/salesforce.error','apply','provider','(((.+)+)+)+$','createCommit','getProtocol','design:paramtypes','credentials','67572eeBidX','configurable','send','In\x20Progress','getCurrentHash','removeDir','Branch\x20synchronized.\x20Skip.','email','checkoutTo','GitProvider','typedi',']\x20Start\x20proceeding\x20git\x20commits.\x20','splice','map','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','removed','name','ApiError','inserted','../../providers/types/git-provider','://','Service','__createBinding','catch','GitCommitJob','../../salesforce/types/sf-logger-v3-types','gitApiService','relative','config','fetchCommits','createLoggerId','Git','gitCommit','SFDX','Logger','updateFileNamesForSFDXProject','repositoryGit','readFilesByFilename','search','resetStats','proceedFile','58992WihTAi','lastCommitHash','mdapiUtils','updateStatus','shift','\x20Job\x20done.','Completed','\x20files\x20before\x20sync.','../../providers/api/bitbucket-api.service','../../parsers/utils','object','cleanUp','../../internal/git.internal','GitUtils','commits','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','\x20Processed\x20','run','describeCommit','1420200xdzuup','getGitShellAuthorizationString','sendComponents','\x20Fetch\x20remote\x20branch\x20hash.','142888wRExGI','Error','getRecordTypes','length','branch','20hiWUcm','reduce','files','author','121bOiHIj','436082tyjZlV','isLoggedIn','stats','135STakqk','__setModuleDefault','Tokens','convertToCleanPaths','env','224JBZryR','getRemote','LoggerTypes','MAX_COMPONENTS_PER_TICK','\x20Start\x20Git-commit\x20job.','\x20Proceeded\x20','../utils/git.utils','hasOwnProperty','repository','GitCommitService','\x20Added\x20'];a107_0x4872=function(){return _0x3249a5;};return a107_0x4872();}Object[a107_0x78440e(0xfd)](exports,'__esModule',{'value':!![]}),exports[a107_0x78440e(0x122)]=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a107_0x78440e(0xcb)),salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),utils_1=require('../../../shared/utils'),path_1=require('path'),typedi_1=__importStar(require(a107_0x78440e(0x114))),constants_1=require(a107_0x78440e(0xd3)),salesforce_commits_manager_service_1=require(a107_0x78440e(0x100)),git_commit_utils_1=require(a107_0x78440e(0xec)),git_utils_1=require(a107_0x78440e(0xb9)),mdapi_utils_1=require(a107_0x78440e(0xf3)),api_error_1=require('../../../../core/errors/api.error'),salesforce_error_1=require(a107_0x78440e(0x102)),git_commit_service_1=require(a107_0x78440e(0xd4)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require(a107_0x78440e(0x13b)),git_provider_1=require(a107_0x78440e(0x11d)),sfdx_utils_1=require(a107_0x78440e(0xd5)),utils_2=require(a107_0x78440e(0x13c)),git_internal_1=require(a107_0x78440e(0x13f)),providers_tokens_1=require(a107_0x78440e(0xdb)),connection_1=require(a107_0x78440e(0xed)),sf_logger_v3_types_1=require(a107_0x78440e(0x123));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x57bc30,_0x4acdd1){const _0x2e7a67=a107_0x78440e;this[_0x2e7a67(0x12a)]=_0x57bc30,this['providersFactory']=_0x4acdd1,this['MAX_COMPONENTS_PER_TICK']=+(process[_0x2e7a67(0x15b)][_0x2e7a67(0xb6)]||0xbb8),this['logger']=new core_1[(_0x2e7a67(0x12c))](GitCommitJob_1[_0x2e7a67(0x11a)]),this['commitId']='',this[_0x2e7a67(0x156)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x1df5d9=a107_0x78440e,{repositoryGit:_0x2cb17f}=this[_0x1df5d9(0xd7)],_0x5eb6ea=typedi_1[_0x1df5d9(0xc2)][_0x1df5d9(0xdd)](providers_tokens_1[_0x1df5d9(0x159)][_0x1df5d9(0x109)]);if(this[_0x1df5d9(0xd7)][_0x1df5d9(0x104)]===git_provider_1[_0x1df5d9(0x113)][_0x1df5d9(0xfb)]){const _0x534677=typedi_1[_0x1df5d9(0xc2)]['get'](bitbucket_api_service_1[_0x1df5d9(0xe2)]);await _0x534677[_0x1df5d9(0x155)]();}return _0x2cb17f['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1df5d9(0x107)])(_0x2cb17f)+_0x1df5d9(0x11e)+_0x5eb6ea[_0x1df5d9(0x147)]()+'@');}[a107_0x78440e(0x131)](){const _0x4bfba0=a107_0x78440e;this[_0x4bfba0(0x156)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x78440e(0x12d)](){const _0x555a2a=a107_0x78440e,_0x24cf0b=[...this[_0x555a2a(0xd7)][_0x555a2a(0xd6)]];this[_0x555a2a(0xd7)][_0x555a2a(0xd6)]=[];for(const _0x15088b of _0x24cf0b){this[_0x555a2a(0xd7)][_0x555a2a(0xd6)][_0x555a2a(0xf9)](...await(0x0,utils_2[_0x555a2a(0x12f)])(_0x15088b,this[_0x555a2a(0x135)][_0x555a2a(0xf1)]));}}async[a107_0x78440e(0x127)](){const _0x8854dc=a107_0x78440e;if(this[_0x8854dc(0xd7)][_0x8854dc(0xef)])return;const _0x3bc350=[];for(const _0x413672 of this[_0x8854dc(0xd7)][_0x8854dc(0x141)]){const _0x3cbef8=await this[_0x8854dc(0xe0)][_0x8854dc(0x145)](_0x413672['id']);_0x413672[_0x8854dc(0xff)]=_0x3cbef8[_0x8854dc(0x152)],_0x413672[_0x8854dc(0xee)]=_0x3cbef8[_0x8854dc(0xee)],_0x413672[_0x8854dc(0x151)]=_0x3cbef8['changes'],_0x413672['email']=_0x3cbef8[_0x8854dc(0x111)];if(_0x413672['email']===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1['FlosumCommitError']();_0x3bc350[_0x8854dc(0xf9)](...Object['values'](_0x413672[_0x8854dc(0x151)])['flat']());}this['gitCommitData'][_0x8854dc(0xd6)]=[...new Set((0x0,git_commit_utils_1[_0x8854dc(0xc9)])(_0x3bc350))];}async['sendComponents'](_0x50155d,_0x14a376,_0x3980ae){const _0x109a65=a107_0x78440e,_0x28a171=_0x3980ae[_0x109a65(0x150)]((_0x4de338,_0x1164ad)=>{const _0x37810e=_0x109a65;return _0x4de338[_0x37810e(0x11c)][_0x37810e(0xf9)](..._0x1164ad[_0x37810e(0x11c)]),_0x4de338[_0x37810e(0xc7)][_0x37810e(0xf9)](..._0x1164ad[_0x37810e(0xc7)]),_0x4de338['removed']['push'](..._0x1164ad[_0x37810e(0x119)]),_0x4de338;},{'inserted':[],'modified':[],'removed':[]}),_0x3a84a5=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this['gitCommit'][_0x109a65(0x14c)](),'branchId':this[_0x109a65(0x12a)]['getBranchId'](),'repositoryId':this['gitCommit'][_0x109a65(0xf2)](),'logger':this[_0x109a65(0xe7)],'commitId':this[_0x109a65(0xc5)]});await _0x3a84a5['proceedCommits']([{'author':_0x50155d,'message':_0x14a376,'inserted':_0x28a171[_0x109a65(0x11c)],'modified':_0x28a171[_0x109a65(0xc7)],'removed':_0x28a171['removed']}]);}async['handleCommit'](_0x2c64f1,_0x340e54){const _0x18073c=a107_0x78440e;await this[_0x18073c(0xe7)][_0x18073c(0xea)](this[_0x18073c(0xe3)]+_0x18073c(0xce))[_0x18073c(0x10c)](),await this[_0x18073c(0x12a)]['fetchComponentsMetadata'](_0x340e54);const {added:_0x1d6e41,modified:_0x178588,removed:_0x1305ac}=_0x2c64f1[_0x18073c(0x151)];_0x340e54&&_0x178588['push'](..._0x1305ac[_0x18073c(0x116)](0x0));const _0xc5f453=(0x0,utils_2[_0x18073c(0x15a)])((0x0,git_commit_utils_1[_0x18073c(0xc9)])([..._0x1d6e41,..._0x178588,..._0x1305ac],_0x340e54&&!this[_0x18073c(0xd7)][_0x18073c(0xef)]));let _0x985743=0x0;const _0xcc0377=[];(_0x1d6e41[_0x18073c(0x14d)]||_0x178588[_0x18073c(0x14d)])&&this[_0x18073c(0x12a)]['getRepositoryId']()&&(this[_0x18073c(0xc5)]=await this[_0x18073c(0x12a)][_0x18073c(0x106)](_0x2c64f1[_0x18073c(0xee)]));const _0x1a8a11=_0xc5f453[_0x18073c(0x14d)];let _0x4378cb=0x0;while(_0xc5f453[_0x18073c(0x14d)]){const _0x552f22=_0xc5f453[_0x18073c(0x137)](),_0x3c2033=await this[_0x18073c(0x12a)][_0x18073c(0x132)](_0x552f22,this['mdapiUtils'][_0x18073c(0xf1)],_0x340e54&&!this[_0x18073c(0xd7)][_0x18073c(0xef)]);_0x985743+=_0x3c2033[_0x18073c(0x11c)][_0x18073c(0x14d)]+_0x3c2033[_0x18073c(0x119)][_0x18073c(0x14d)]+_0x3c2033[_0x18073c(0xc7)][_0x18073c(0x14d)],this[_0x18073c(0x156)][_0x18073c(0xd9)]+=_0x3c2033[_0x18073c(0x11c)][_0x18073c(0x14d)],this[_0x18073c(0x156)]['modified']+=_0x3c2033[_0x18073c(0xc7)]['length'],this[_0x18073c(0x156)][_0x18073c(0x119)]+=_0x3c2033[_0x18073c(0x119)][_0x18073c(0x14d)],_0x4378cb++,_0x4378cb%0x64===0x0&&this['logger'][_0x18073c(0xea)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x4378cb,_0x1a8a11,_0x985743),_0xcc0377[_0x18073c(0xf9)](_0x3c2033),_0x985743>this[_0x18073c(0xb6)]&&(await this['sendComponents'](_0x2c64f1[_0x18073c(0xff)],_0x2c64f1[_0x18073c(0xee)],_0xcc0377),await this[_0x18073c(0xe7)]['log'](this[_0x18073c(0xe3)]+_0x18073c(0x143)+_0x985743+'\x20components.')[_0x18073c(0x10c)](),_0x985743=0x0,_0xcc0377['splice'](0x0));}_0xcc0377[_0x18073c(0x14d)]&&(await this[_0x18073c(0x148)](_0x2c64f1[_0x18073c(0xff)],_0x2c64f1[_0x18073c(0xee)],_0xcc0377),await this[_0x18073c(0xe7)][_0x18073c(0xea)](this[_0x18073c(0xe3)]+_0x18073c(0x143)+_0x985743+'\x20components.')[_0x18073c(0x10c)]());}async[a107_0x78440e(0xc0)](_0x5bb116){const _0x27775c=a107_0x78440e,_0x1b3d01=[...this['gitCommitData'][_0x27775c(0x141)]],_0x401db9=_0x1b3d01[_0x27775c(0x14d)];let _0x45d4c3=0x0;while(_0x1b3d01[_0x27775c(0x14d)]){const _0x51bb62=_0x1b3d01[_0x27775c(0x137)]();!this[_0x27775c(0xd7)][_0x27775c(0xef)]&&(this[_0x27775c(0x12a)][_0x27775c(0xf2)]()?(await this[_0x27775c(0xe0)][_0x27775c(0x112)](_0x51bb62['id']),await this['mdapiUtils'][_0x27775c(0xe1)](this['gitUtils'][_0x27775c(0xf1)])):(await this[_0x27775c(0xe0)][_0x27775c(0x112)](this[_0x27775c(0x134)]),await this[_0x27775c(0x135)][_0x27775c(0xe1)](this[_0x27775c(0xe0)][_0x27775c(0xf1)]))),await this[_0x27775c(0xe6)](_0x51bb62,_0x5bb116),await this[_0x27775c(0x135)]['removeDir'](),_0x45d4c3+=0x1,await this[_0x27775c(0xe7)]['log'](this[_0x27775c(0xe3)]+'\x20Commit\x20Summary'),await this['sfLogger'][_0x27775c(0xea)](this['prefix']+_0x27775c(0xbd)+this[_0x27775c(0x156)][_0x27775c(0xd9)]+_0x27775c(0xcf)),await this[_0x27775c(0xe7)][_0x27775c(0xea)](this[_0x27775c(0xe3)]+_0x27775c(0xbe)+this['stats'][_0x27775c(0xc7)]+'\x20components'),await this[_0x27775c(0xe7)]['log'](this[_0x27775c(0xe3)]+_0x27775c(0xe9)+this[_0x27775c(0x156)]['removed']+_0x27775c(0xcf)),await this['sfLogger'][_0x27775c(0xea)](this['prefix']+_0x27775c(0xb8)+_0x45d4c3+'/'+_0x401db9+_0x27775c(0xc4))[_0x27775c(0x10c)](),this[_0x27775c(0x131)]();}}async[a107_0x78440e(0x13e)](){const _0xa31b60=a107_0x78440e;this[_0xa31b60(0xe0)]&&await this[_0xa31b60(0xe0)][_0xa31b60(0x10f)]()[_0xa31b60(0x121)](()=>void 0x0),this['mdapiUtils']&&await this[_0xa31b60(0x135)]['removeDir']()[_0xa31b60(0x121)](()=>void 0x0);}async[a107_0x78440e(0x144)](_0x3b16e8){const _0x58e268=a107_0x78440e;this[_0x58e268(0xd7)]=_0x3b16e8,this[_0x58e268(0x12a)]['setCommitDto'](this['gitCommitData']),this[_0x58e268(0x124)]=typedi_1[_0x58e268(0xc2)][_0x58e268(0xdd)](providers_tokens_1[_0x58e268(0x159)][_0x58e268(0x124)]),this[_0x58e268(0x126)]=typedi_1[_0x58e268(0xc2)]['get'](providers_tokens_1['Tokens'][_0x58e268(0x126)]),this[_0x58e268(0xe7)]=typedi_1[_0x58e268(0xc2)]['get'](providers_tokens_1[_0x58e268(0x159)]['logger']),this['prefix']=_0x58e268(0xe5)+_0x3b16e8[_0x58e268(0xbb)]+_0x58e268(0x101)+_0x3b16e8[_0x58e268(0x14e)]+_0x58e268(0xde)+GitCommitJob_1[_0x58e268(0x11a)]+']',this['gitUtils']=new git_utils_1[(_0x58e268(0x140))](await this[_0x58e268(0x15d)]()),this[_0x58e268(0x135)]=new mdapi_utils_1[(_0x58e268(0xdc))](),this['sfLogger']['log'](this[_0x58e268(0xe3)]+_0x58e268(0xb7));try{this[_0x58e268(0xe7)][_0x58e268(0xea)](this['prefix']+_0x58e268(0xf7)),await this[_0x58e268(0x12a)]['fetchRepositoryOrBranchData'](),await this[_0x58e268(0x12a)][_0x58e268(0x136)](_0x58e268(0x10d)),this['sfLogger'][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0x149)),this[_0x58e268(0x134)]=await git_internal_1[_0x58e268(0x129)]['getRemoteHash'](await this[_0x58e268(0x15d)](),this[_0x58e268(0xd7)]['branch']),this[_0x58e268(0xd0)]['log']('Last\x20git\x20repository\x20hash\x20is\x20%s.',this[_0x58e268(0x134)]);const _0x25d4fb=await this[_0x58e268(0x12a)][_0x58e268(0xc8)](this[_0x58e268(0x134)]);if(_0x25d4fb){this[_0x58e268(0xe7)][_0x58e268(0xea)](_0x58e268(0x110)),await this[_0x58e268(0x12a)][_0x58e268(0x136)]('Completed');return;}this[_0x58e268(0xe7)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0xf0)+this[_0x58e268(0xd7)][_0x58e268(0x12e)]+'.'),await this['gitUtils'][_0x58e268(0xc6)](this[_0x58e268(0xd7)][_0x58e268(0x14e)],this['gitCommitData'][_0x58e268(0xbb)]),this[_0x58e268(0xe7)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0xc3));const _0x3285ff=await sfdx_utils_1[_0x58e268(0x12b)]['isSFDXProject'](this[_0x58e268(0xe0)][_0x58e268(0xf1)]);await this[_0x58e268(0x127)]();!this['sfLogger']['getLoggerId']()&&this[_0x58e268(0xe7)]['setLoggerId'](await salesforce_logger_v3_service_1[_0x58e268(0xdf)][_0x58e268(0x128)](sf_logger_v3_types_1[_0x58e268(0x15e)]['commit']));await this[_0x58e268(0xe7)][_0x58e268(0x10c)]();if(_0x3b16e8[_0x58e268(0xef)]){await this['mdapiUtils'][_0x58e268(0xe1)](this[_0x58e268(0xe0)]['dir']),await this[_0x58e268(0xe7)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0x142))[_0x58e268(0x10c)]();const _0xe9dc25=(await fs_internal_1['FS']['readDir'](this[_0x58e268(0x135)][_0x58e268(0xf1)],!![]))[_0x58e268(0x117)](_0x39c538=>(0x0,path_1[_0x58e268(0x125)])(this[_0x58e268(0x135)]['dir'],_0x39c538));this[_0x58e268(0xe7)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0x118)+_0xe9dc25[_0x58e268(0x14d)]+_0x58e268(0x13a)),this[_0x58e268(0xd7)][_0x58e268(0xd6)]=[],this[_0x58e268(0xd7)][_0x58e268(0x141)]=[{'files':{'modified':_0xe9dc25,'added':[],'removed':[]},'id':await this[_0x58e268(0xe0)][_0x58e268(0x10e)](),'message':_0x58e268(0xe4),'username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this[_0x58e268(0x12a)][_0x58e268(0xfe)]({[this[_0x58e268(0xd7)][_0x58e268(0x12e)]]:{'lastCommit':this[_0x58e268(0x134)]}}),await this[_0x58e268(0xe7)]['log'](this[_0x58e268(0xe3)]+'\x20[SFDX:\x20'+(_0x3285ff?_0x58e268(0xf8):'NO')+_0x58e268(0x115))['send'](),await this['proceedCommits'](_0x3285ff),await this[_0x58e268(0xe7)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0x138))[_0x58e268(0x10c)](),await this['gitCommit'][_0x58e268(0x136)]('Completed');}catch(_0x29ea14){await this[_0x58e268(0x13e)]();if(_0x29ea14 instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0x58e268(0x12a)][_0x58e268(0x136)](_0x58e268(0x139))['catch'](()=>void 0x0),this[_0x58e268(0xd0)][_0x58e268(0xea)](this[_0x58e268(0xe3)]+_0x58e268(0xf5));else{await this[_0x58e268(0xd0)]['error'](this[_0x58e268(0xe3)]+_0x58e268(0xfc)+(_0x29ea14 instanceof api_error_1[_0x58e268(0x11b)]||_0x29ea14 instanceof salesforce_error_1['SalesforceError']?_0x29ea14[_0x58e268(0xd2)]():_0x29ea14)),await this[_0x58e268(0x12a)]['updateRemoteState']({}),await this['gitCommit'][_0x58e268(0x136)](_0x58e268(0x14b))['catch'](()=>void 0x0);throw _0x29ea14;}}finally{await this[_0x58e268(0x13e)](),await this['sfLogger'][_0x58e268(0x10c)]()[_0x58e268(0x121)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x78440e(0x11f)])({'transient':!![]}),__metadata(a107_0x78440e(0x108),[git_commit_service_1[a107_0x78440e(0xbc)],connection_1[a107_0x78440e(0xbf)]])],GitCommitJob),exports[a107_0x78440e(0x122)]=GitCommitJob;