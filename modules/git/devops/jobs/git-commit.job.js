const a107_0x5f5d07=a107_0x4267;(function(_0x12462a,_0x38122b){const _0x483c29=a107_0x4267,_0x2967cb=_0x12462a();while(!![]){try{const _0x17f763=-parseInt(_0x483c29(0x160))/0x1+parseInt(_0x483c29(0x1c6))/0x2*(-parseInt(_0x483c29(0x1fd))/0x3)+parseInt(_0x483c29(0x186))/0x4*(-parseInt(_0x483c29(0x1a6))/0x5)+-parseInt(_0x483c29(0x1e9))/0x6*(-parseInt(_0x483c29(0x1f6))/0x7)+parseInt(_0x483c29(0x18e))/0x8*(-parseInt(_0x483c29(0x18f))/0x9)+parseInt(_0x483c29(0x19d))/0xa*(-parseInt(_0x483c29(0x1d2))/0xb)+parseInt(_0x483c29(0x1da))/0xc;if(_0x17f763===_0x38122b)break;else _0x2967cb['push'](_0x2967cb['shift']());}catch(_0x21f5e7){_0x2967cb['push'](_0x2967cb['shift']());}}}(a107_0x2435,0xdb317));function a107_0x2435(){const _0x3f8c89=['stats','config','sync\x20components','updateStatus','configurable','log','__decorate','length','email','\x20components','prepareGitChangedPaths','files','branch','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','73486Htnkcg','clone','__esModule','Git','isLoggedIn','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20',']\x20[Branch:\x20','username','MAX_COMPONENTS_PER_TICK','mdapiUtils','provider','prefix','3741177eqSaFg','gitApiService','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','getRepositoryId','prototype','proceedFile','removeDir','map','68135400vpzgza','toString','shift','GitUtils','search',']\x20Start\x20proceeding\x20git\x20commits.\x20','(((.+)+)+)+$','repositoryGit','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','handleCommit','\x20Modified\x20','://','added','YES','3403668SXzcsL','dir','reduce','\x20Commit\x20Summary','removed','createCommit','apply','\x20Start\x20Git-commit\x20job.','SalesforceLogger3','sendComponents','describeCommit','../../salesforce/errors/salesforce.error','hasOwnProperty','7wMcrGK','getRemote','updateRemoteState','send','cleanUp','design:paramtypes','fileNames','9nbGtKu','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','Branch\x20synchronized.\x20Skip.','../../internal/git.internal','fetchComponentsMetadata','fetchCommits','../utils/mdapi.utils','default','__metadata','\x20Fetch\x20remote\x20branch\x20hash.','call','../utils/git-commit.utils','Last\x20git\x20repository\x20hash\x20is\x20%s.','1369987IDAfrp','splice','Error','flat','changes','getOwnPropertyDescriptor','setCommitDto','GitProvider','\x20commits.','Completed','modified','../../../../core','convertToCleanPaths','resetStats','BitbucketApiService','object','../../parsers/utils','get','commit','\x20Fetch\x20salesforce\x20data.','metadata','writable','DEFAULT_GIT_USER_NAME','\x20Download\x20components\x20metadata\x20from\x20Flosum.','create','decorate','path','inserted','../../providers/providers.tokens','updateFileNamesForSFDXProject','getGitShellAuthorizationString','../../salesforce/services/salesforce-logger-v3.service','catch','../../providers/types/git-provider','defineProperty','getRecordTypes','ApiError','getProtocol','408zTpLIU','commitId','message','push','\x20Processed\x20','getBranchId','values','ProvidersFactory','13732408uvkkJz','9eflvrV','function','credentials','../../salesforce/services/salesforce-commits-manager.service','GitCommitJob','Tokens','gitCommitData','../services/git-commit.service','force','gitCommit','gitUtils','__setModuleDefault','../../salesforce/types/sf-logger-v3-types','setLoggerId','20nwBsGE','Bitbucket','../../../../constants','prepareMdapi','proceedCommits','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','commits','run','../../../../core/errors/api.error','72080eTbNdR','getLoggerId','__createBinding','sfLogger','constructor','lastCommitHash','\x20files\x20before\x20sync.','logger','name','isSFDXProject','\x20Job\x20done.','readDir','\x20components.','../../salesforce/utils/sfdx.utils','checkoutTo','LoggerTypes','author','MDApiUtils'];a107_0x2435=function(){return _0x3f8c89;};return a107_0x2435();}const a107_0x35ea32=(function(){let _0x4f1520=!![];return function(_0x4233c8,_0x330169){const _0x17ecea=_0x4f1520?function(){const _0x18a901=a107_0x4267;if(_0x330169){const _0x374334=_0x330169[_0x18a901(0x1ef)](_0x4233c8,arguments);return _0x330169=null,_0x374334;}}:function(){};return _0x4f1520=![],_0x17ecea;};}()),a107_0x398df3=a107_0x35ea32(this,function(){const _0x483362=a107_0x4267;return a107_0x398df3[_0x483362(0x1db)]()['search'](_0x483362(0x1e0))[_0x483362(0x1db)]()[_0x483362(0x1aa)](a107_0x398df3)[_0x483362(0x1de)]('(((.+)+)+)+$');});a107_0x398df3();'use strict';var __createBinding=this&&this[a107_0x5f5d07(0x1a8)]||(Object[a107_0x5f5d07(0x178)]?function(_0x49b19d,_0x21960b,_0x262142,_0x53dec5){const _0x32ba36=a107_0x5f5d07;if(_0x53dec5===undefined)_0x53dec5=_0x262142;var _0x56b350=Object[_0x32ba36(0x165)](_0x21960b,_0x262142);(!_0x56b350||(_0x32ba36(0x171)in _0x56b350?!_0x21960b[_0x32ba36(0x1c8)]:_0x56b350[_0x32ba36(0x175)]||_0x56b350[_0x32ba36(0x1bc)]))&&(_0x56b350={'enumerable':!![],'get':function(){return _0x21960b[_0x262142];}}),Object[_0x32ba36(0x182)](_0x49b19d,_0x53dec5,_0x56b350);}:function(_0x150731,_0x2f9bc8,_0x2a1026,_0x5bee4d){if(_0x5bee4d===undefined)_0x5bee4d=_0x2a1026;_0x150731[_0x5bee4d]=_0x2f9bc8[_0x2a1026];}),__setModuleDefault=this&&this[a107_0x5f5d07(0x19a)]||(Object[a107_0x5f5d07(0x178)]?function(_0x5da4cd,_0x570307){const _0x54db60=a107_0x5f5d07;Object[_0x54db60(0x182)](_0x5da4cd,_0x54db60(0x15a),{'enumerable':!![],'value':_0x570307});}:function(_0x3b87ef,_0x14901a){const _0x325c57=a107_0x5f5d07;_0x3b87ef[_0x325c57(0x15a)]=_0x14901a;}),__decorate=this&&this[a107_0x5f5d07(0x1be)]||function(_0x7a2349,_0x3d662b,_0x2294bf,_0x1afb64){const _0x3141d1=a107_0x5f5d07;var _0x4ff509=arguments[_0x3141d1(0x1bf)],_0x44a429=_0x4ff509<0x3?_0x3d662b:_0x1afb64===null?_0x1afb64=Object[_0x3141d1(0x165)](_0x3d662b,_0x2294bf):_0x1afb64,_0x87bc5b;if(typeof Reflect===_0x3141d1(0x16f)&&typeof Reflect[_0x3141d1(0x179)]===_0x3141d1(0x190))_0x44a429=Reflect[_0x3141d1(0x179)](_0x7a2349,_0x3d662b,_0x2294bf,_0x1afb64);else{for(var _0xbdf53f=_0x7a2349[_0x3141d1(0x1bf)]-0x1;_0xbdf53f>=0x0;_0xbdf53f--)if(_0x87bc5b=_0x7a2349[_0xbdf53f])_0x44a429=(_0x4ff509<0x3?_0x87bc5b(_0x44a429):_0x4ff509>0x3?_0x87bc5b(_0x3d662b,_0x2294bf,_0x44a429):_0x87bc5b(_0x3d662b,_0x2294bf))||_0x44a429;}return _0x4ff509>0x3&&_0x44a429&&Object[_0x3141d1(0x182)](_0x3d662b,_0x2294bf,_0x44a429),_0x44a429;},__importStar=this&&this['__importStar']||function(_0x53ceb7){const _0x2ed307=a107_0x5f5d07;if(_0x53ceb7&&_0x53ceb7[_0x2ed307(0x1c8)])return _0x53ceb7;var _0x1fa8a9={};if(_0x53ceb7!=null){for(var _0x3bb5be in _0x53ceb7)if(_0x3bb5be!=='default'&&Object[_0x2ed307(0x1d6)][_0x2ed307(0x1f5)][_0x2ed307(0x15d)](_0x53ceb7,_0x3bb5be))__createBinding(_0x1fa8a9,_0x53ceb7,_0x3bb5be);}return __setModuleDefault(_0x1fa8a9,_0x53ceb7),_0x1fa8a9;},__metadata=this&&this[a107_0x5f5d07(0x15b)]||function(_0x34870f,_0x2d4495){const _0x3349e9=a107_0x5f5d07;if(typeof Reflect===_0x3349e9(0x16f)&&typeof Reflect['metadata']===_0x3349e9(0x190))return Reflect[_0x3349e9(0x174)](_0x34870f,_0x2d4495);},GitCommitJob_1;function a107_0x4267(_0x2acaa9,_0x268b5c){const _0x3a5ebf=a107_0x2435();return a107_0x4267=function(_0x398df3,_0x35ea32){_0x398df3=_0x398df3-0x159;let _0x24352c=_0x3a5ebf[_0x398df3];return _0x24352c;},a107_0x4267(_0x2acaa9,_0x268b5c);}Object[a107_0x5f5d07(0x182)](exports,a107_0x5f5d07(0x1c8),{'value':!![]}),exports[a107_0x5f5d07(0x193)]=void 0x0;const core_1=require(a107_0x5f5d07(0x16b)),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require(a107_0x5f5d07(0x17f)),utils_1=require('../../../shared/utils'),path_1=require(a107_0x5f5d07(0x17a)),typedi_1=__importStar(require('typedi')),constants_1=require(a107_0x5f5d07(0x19f)),salesforce_commits_manager_service_1=require(a107_0x5f5d07(0x192)),git_commit_utils_1=require(a107_0x5f5d07(0x15e)),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a107_0x5f5d07(0x159)),api_error_1=require(a107_0x5f5d07(0x1a5)),salesforce_error_1=require(a107_0x5f5d07(0x1f4)),git_commit_service_1=require(a107_0x5f5d07(0x196)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a107_0x5f5d07(0x181)),sfdx_utils_1=require(a107_0x5f5d07(0x1b3)),utils_2=require(a107_0x5f5d07(0x170)),git_internal_1=require(a107_0x5f5d07(0x200)),providers_tokens_1=require(a107_0x5f5d07(0x17c)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require(a107_0x5f5d07(0x19b));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x2e143e,_0x1ef7d8){const _0x289379=a107_0x5f5d07;this[_0x289379(0x198)]=_0x2e143e,this['providersFactory']=_0x1ef7d8,this['MAX_COMPONENTS_PER_TICK']=+(process['env']['MAX_COMPONENTS_PER_TICK']||0xbb8),this[_0x289379(0x1ad)]=new core_1['Logger'](GitCommitJob_1['name']),this[_0x289379(0x187)]='',this[_0x289379(0x1b8)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x4bb64d=a107_0x5f5d07,{repositoryGit:_0xa179a0}=this[_0x4bb64d(0x195)],_0x54ebd0=typedi_1[_0x4bb64d(0x15a)][_0x4bb64d(0x171)](providers_tokens_1[_0x4bb64d(0x194)][_0x4bb64d(0x191)]);if(this['gitCommitData'][_0x4bb64d(0x1d0)]===git_provider_1[_0x4bb64d(0x167)][_0x4bb64d(0x19e)]){const _0x107089=typedi_1[_0x4bb64d(0x15a)][_0x4bb64d(0x171)](bitbucket_api_service_1[_0x4bb64d(0x16e)]);await _0x107089[_0x4bb64d(0x1ca)]();}return _0xa179a0['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4bb64d(0x185)])(_0xa179a0)+_0x4bb64d(0x1e6)+_0x54ebd0[_0x4bb64d(0x17e)]()+'@');}[a107_0x5f5d07(0x16d)](){const _0x516f58=a107_0x5f5d07;this[_0x516f58(0x1b8)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x5f5d07(0x17d)](){const _0x18fa3a=a107_0x5f5d07,_0xf14613=[...this[_0x18fa3a(0x195)][_0x18fa3a(0x1fc)]];this[_0x18fa3a(0x195)]['fileNames']=[];for(const _0x13cdd1 of _0xf14613){this[_0x18fa3a(0x195)][_0x18fa3a(0x1fc)][_0x18fa3a(0x189)](...await(0x0,utils_2['readFilesByFilename'])(_0x13cdd1,this['mdapiUtils'][_0x18fa3a(0x1ea)]));}}async[a107_0x5f5d07(0x202)](){const _0x35306b=a107_0x5f5d07;if(this[_0x35306b(0x195)]['force'])return;const _0x48f70e=[];for(const _0x49822c of this['gitCommitData'][_0x35306b(0x1a3)]){const _0x9210c1=await this[_0x35306b(0x199)][_0x35306b(0x1f3)](_0x49822c['id']);_0x49822c[_0x35306b(0x1cd)]=_0x9210c1[_0x35306b(0x1b6)],_0x49822c[_0x35306b(0x188)]=_0x9210c1['message'],_0x49822c[_0x35306b(0x1c3)]=_0x9210c1[_0x35306b(0x164)],_0x49822c[_0x35306b(0x1c0)]=_0x9210c1['email'];if(_0x49822c['email']===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1['FlosumCommitError']();_0x48f70e[_0x35306b(0x189)](...Object[_0x35306b(0x18c)](_0x49822c[_0x35306b(0x1c3)])[_0x35306b(0x163)]());}this[_0x35306b(0x195)][_0x35306b(0x1fc)]=[...new Set((0x0,git_commit_utils_1['prepareGitChangedPaths'])(_0x48f70e))];}async['sendComponents'](_0x1a89bc,_0x1d8e4d,_0x1f11f5){const _0x5380c2=a107_0x5f5d07,_0x1cd532=_0x1f11f5[_0x5380c2(0x1eb)]((_0x58c7ab,_0x2a304a)=>{const _0x241fdd=_0x5380c2;return _0x58c7ab[_0x241fdd(0x17b)][_0x241fdd(0x189)](..._0x2a304a['inserted']),_0x58c7ab[_0x241fdd(0x16a)][_0x241fdd(0x189)](..._0x2a304a['modified']),_0x58c7ab[_0x241fdd(0x1ed)][_0x241fdd(0x189)](..._0x2a304a[_0x241fdd(0x1ed)]),_0x58c7ab;},{'inserted':[],'modified':[],'removed':[]}),_0x20fa86=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this[_0x5380c2(0x198)][_0x5380c2(0x183)](),'branchId':this[_0x5380c2(0x198)][_0x5380c2(0x18b)](),'repositoryId':this[_0x5380c2(0x198)][_0x5380c2(0x1d5)](),'logger':this[_0x5380c2(0x1a9)],'commitId':this[_0x5380c2(0x187)]});await _0x20fa86[_0x5380c2(0x1a1)]([{'author':_0x1a89bc,'message':_0x1d8e4d,'inserted':_0x1cd532['inserted'],'modified':_0x1cd532[_0x5380c2(0x16a)],'removed':_0x1cd532[_0x5380c2(0x1ed)]}]);}async['handleCommit'](_0x2fdfec,_0x1f65b7){const _0x534ae0=a107_0x5f5d07;await this[_0x534ae0(0x1a9)][_0x534ae0(0x1bd)](this[_0x534ae0(0x1d1)]+_0x534ae0(0x177))[_0x534ae0(0x1f9)](),await this[_0x534ae0(0x198)][_0x534ae0(0x201)](_0x1f65b7);const {added:_0xd2a978,modified:_0x14e778,removed:_0x508613}=_0x2fdfec[_0x534ae0(0x1c3)];_0x1f65b7&&_0x14e778[_0x534ae0(0x189)](..._0x508613[_0x534ae0(0x161)](0x0));const _0x49bf3f=(0x0,utils_2[_0x534ae0(0x16c)])((0x0,git_commit_utils_1[_0x534ae0(0x1c2)])([..._0xd2a978,..._0x14e778,..._0x508613],_0x1f65b7&&!this[_0x534ae0(0x195)][_0x534ae0(0x197)]));let _0x326afb=0x0;const _0xf8e4ed=[];(_0xd2a978[_0x534ae0(0x1bf)]||_0x14e778[_0x534ae0(0x1bf)])&&this['gitCommit'][_0x534ae0(0x1d5)]()&&(this[_0x534ae0(0x187)]=await this[_0x534ae0(0x198)][_0x534ae0(0x1ee)](_0x2fdfec['message']));const _0x404dfe=_0x49bf3f[_0x534ae0(0x1bf)];let _0x28ecf8=0x0;while(_0x49bf3f[_0x534ae0(0x1bf)]){const _0x58fb8e=_0x49bf3f[_0x534ae0(0x1dc)](),_0x3f35bb=await this[_0x534ae0(0x198)][_0x534ae0(0x1d7)](_0x58fb8e,this[_0x534ae0(0x1cf)][_0x534ae0(0x1ea)],_0x1f65b7&&!this[_0x534ae0(0x195)][_0x534ae0(0x197)]);_0x326afb+=_0x3f35bb[_0x534ae0(0x17b)]['length']+_0x3f35bb[_0x534ae0(0x1ed)][_0x534ae0(0x1bf)]+_0x3f35bb[_0x534ae0(0x16a)][_0x534ae0(0x1bf)],this[_0x534ae0(0x1b8)][_0x534ae0(0x1e7)]+=_0x3f35bb['inserted']['length'],this[_0x534ae0(0x1b8)][_0x534ae0(0x16a)]+=_0x3f35bb[_0x534ae0(0x16a)][_0x534ae0(0x1bf)],this[_0x534ae0(0x1b8)]['removed']+=_0x3f35bb[_0x534ae0(0x1ed)][_0x534ae0(0x1bf)],_0x28ecf8++,_0x28ecf8%0x64===0x0&&this[_0x534ae0(0x1ad)]['log'](_0x534ae0(0x1e3),_0x28ecf8,_0x404dfe,_0x326afb),_0xf8e4ed['push'](_0x3f35bb),_0x326afb>this[_0x534ae0(0x1ce)]&&(await this[_0x534ae0(0x1f2)](_0x2fdfec[_0x534ae0(0x1cd)],_0x2fdfec[_0x534ae0(0x188)],_0xf8e4ed),await this[_0x534ae0(0x1a9)][_0x534ae0(0x1bd)](this[_0x534ae0(0x1d1)]+_0x534ae0(0x18a)+_0x326afb+_0x534ae0(0x1b2))['send'](),_0x326afb=0x0,_0xf8e4ed[_0x534ae0(0x161)](0x0));}_0xf8e4ed[_0x534ae0(0x1bf)]&&(await this[_0x534ae0(0x1f2)](_0x2fdfec[_0x534ae0(0x1cd)],_0x2fdfec[_0x534ae0(0x188)],_0xf8e4ed),await this[_0x534ae0(0x1a9)]['log'](this['prefix']+_0x534ae0(0x18a)+_0x326afb+'\x20components.')['send']());}async[a107_0x5f5d07(0x1a1)](_0x1f16aa){const _0x567bae=a107_0x5f5d07,_0x112508=[...this[_0x567bae(0x195)][_0x567bae(0x1a3)]],_0x165374=_0x112508[_0x567bae(0x1bf)];let _0x5977a2=0x0;while(_0x112508['length']){const _0x268041=_0x112508['shift']();!this[_0x567bae(0x195)][_0x567bae(0x197)]&&(this[_0x567bae(0x198)]['getRepositoryId']()?(await this[_0x567bae(0x199)][_0x567bae(0x1b4)](_0x268041['id']),await this['mdapiUtils'][_0x567bae(0x1a0)](this[_0x567bae(0x199)][_0x567bae(0x1ea)])):(await this[_0x567bae(0x199)]['checkoutTo'](this[_0x567bae(0x1ab)]),await this[_0x567bae(0x1cf)][_0x567bae(0x1a0)](this['gitUtils']['dir']))),await this[_0x567bae(0x1e4)](_0x268041,_0x1f16aa),await this[_0x567bae(0x1cf)]['removeDir'](),_0x5977a2+=0x1,await this[_0x567bae(0x1a9)][_0x567bae(0x1bd)](this[_0x567bae(0x1d1)]+_0x567bae(0x1ec)),await this[_0x567bae(0x1a9)][_0x567bae(0x1bd)](this[_0x567bae(0x1d1)]+'\x20Added\x20'+this[_0x567bae(0x1b8)][_0x567bae(0x1e7)]+'\x20components'),await this[_0x567bae(0x1a9)][_0x567bae(0x1bd)](this[_0x567bae(0x1d1)]+_0x567bae(0x1e5)+this['stats'][_0x567bae(0x16a)]+_0x567bae(0x1c1)),await this[_0x567bae(0x1a9)][_0x567bae(0x1bd)](this[_0x567bae(0x1d1)]+'\x20Removed\x20'+this[_0x567bae(0x1b8)][_0x567bae(0x1ed)]+_0x567bae(0x1c1)),await this[_0x567bae(0x1a9)][_0x567bae(0x1bd)](this[_0x567bae(0x1d1)]+'\x20Proceeded\x20'+_0x5977a2+'/'+_0x165374+_0x567bae(0x168))[_0x567bae(0x1f9)](),this['resetStats']();}}async[a107_0x5f5d07(0x1fa)](){const _0x35fa6d=a107_0x5f5d07;this[_0x35fa6d(0x199)]&&await this[_0x35fa6d(0x199)][_0x35fa6d(0x1d8)]()[_0x35fa6d(0x180)](()=>void 0x0),this['mdapiUtils']&&await this[_0x35fa6d(0x1cf)][_0x35fa6d(0x1d8)]()['catch'](()=>void 0x0);}async[a107_0x5f5d07(0x1a4)](_0x1447ff){const _0x2ee75a=a107_0x5f5d07;this[_0x2ee75a(0x195)]=_0x1447ff,this[_0x2ee75a(0x198)][_0x2ee75a(0x166)](this['gitCommitData']),this[_0x2ee75a(0x1d3)]=typedi_1['default'][_0x2ee75a(0x171)](providers_tokens_1[_0x2ee75a(0x194)][_0x2ee75a(0x1d3)]),this[_0x2ee75a(0x1b9)]=typedi_1[_0x2ee75a(0x15a)][_0x2ee75a(0x171)](providers_tokens_1[_0x2ee75a(0x194)][_0x2ee75a(0x1b9)]),this[_0x2ee75a(0x1a9)]=typedi_1[_0x2ee75a(0x15a)][_0x2ee75a(0x171)](providers_tokens_1[_0x2ee75a(0x194)][_0x2ee75a(0x1ad)]),this[_0x2ee75a(0x1d1)]=_0x2ee75a(0x1fe)+_0x1447ff['repository']+_0x2ee75a(0x1cc)+_0x1447ff['branch']+']\x20['+GitCommitJob_1[_0x2ee75a(0x1ae)]+']',this[_0x2ee75a(0x199)]=new git_utils_1[(_0x2ee75a(0x1dd))](await this[_0x2ee75a(0x1f7)]()),this[_0x2ee75a(0x1cf)]=new mdapi_utils_1[(_0x2ee75a(0x1b7))](),this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1bd)](this[_0x2ee75a(0x1d1)]+_0x2ee75a(0x1f0));try{this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1bd)](this[_0x2ee75a(0x1d1)]+_0x2ee75a(0x173)),await this['gitCommit']['fetchRepositoryOrBranchData'](),await this[_0x2ee75a(0x198)][_0x2ee75a(0x1bb)]('In\x20Progress'),this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1bd)](this['prefix']+_0x2ee75a(0x15c)),this['lastCommitHash']=await git_internal_1[_0x2ee75a(0x1c9)]['getRemoteHash'](await this['getRemote'](),this[_0x2ee75a(0x195)][_0x2ee75a(0x1c4)]),this[_0x2ee75a(0x1ad)][_0x2ee75a(0x1bd)](_0x2ee75a(0x15f),this[_0x2ee75a(0x1ab)]);const _0x17c2a8=await this[_0x2ee75a(0x198)]['checkSyncStatus'](this[_0x2ee75a(0x1ab)]);if(_0x17c2a8){this[_0x2ee75a(0x1a9)]['log'](_0x2ee75a(0x1ff)),await this[_0x2ee75a(0x198)][_0x2ee75a(0x1bb)]('Completed');return;}this['sfLogger'][_0x2ee75a(0x1bd)](this[_0x2ee75a(0x1d1)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this[_0x2ee75a(0x195)][_0x2ee75a(0x1e1)]+'.'),await this['gitUtils'][_0x2ee75a(0x1c7)](this[_0x2ee75a(0x195)][_0x2ee75a(0x1c4)],this[_0x2ee75a(0x195)]['repository']),this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1bd)](this['prefix']+_0x2ee75a(0x1e2));const _0x29dd3f=await sfdx_utils_1['SFDX'][_0x2ee75a(0x1af)](this['gitUtils'][_0x2ee75a(0x1ea)]);await this[_0x2ee75a(0x202)]();!this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1a7)]()&&this[_0x2ee75a(0x1a9)][_0x2ee75a(0x19c)](await salesforce_logger_v3_service_1[_0x2ee75a(0x1f1)]['createLoggerId'](sf_logger_v3_types_1[_0x2ee75a(0x1b5)][_0x2ee75a(0x172)]));await this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1f9)]();if(_0x1447ff[_0x2ee75a(0x197)]){await this[_0x2ee75a(0x1cf)][_0x2ee75a(0x1a0)](this[_0x2ee75a(0x199)][_0x2ee75a(0x1ea)]),await this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1bd)](this[_0x2ee75a(0x1d1)]+_0x2ee75a(0x1a2))[_0x2ee75a(0x1f9)]();const _0x3b64a1=(await fs_internal_1['FS'][_0x2ee75a(0x1b1)](this[_0x2ee75a(0x1cf)][_0x2ee75a(0x1ea)],!![]))[_0x2ee75a(0x1d9)](_0x26ac36=>(0x0,path_1['relative'])(this['mdapiUtils'][_0x2ee75a(0x1ea)],_0x26ac36));this[_0x2ee75a(0x1a9)]['log'](this[_0x2ee75a(0x1d1)]+_0x2ee75a(0x1d4)+_0x3b64a1[_0x2ee75a(0x1bf)]+_0x2ee75a(0x1ac)),this['gitCommitData'][_0x2ee75a(0x1fc)]=[],this['gitCommitData'][_0x2ee75a(0x1a3)]=[{'files':{'modified':_0x3b64a1,'added':[],'removed':[]},'id':await this[_0x2ee75a(0x199)]['getCurrentHash'](),'message':_0x2ee75a(0x1ba),'username':constants_1[_0x2ee75a(0x176)]}];}await this[_0x2ee75a(0x198)][_0x2ee75a(0x1f8)]({[this[_0x2ee75a(0x195)]['repositoryGit']]:{'lastCommit':this[_0x2ee75a(0x1ab)]}}),await this['sfLogger']['log'](this[_0x2ee75a(0x1d1)]+'\x20[SFDX:\x20'+(_0x29dd3f?_0x2ee75a(0x1e8):'NO')+_0x2ee75a(0x1df))[_0x2ee75a(0x1f9)](),await this[_0x2ee75a(0x1a1)](_0x29dd3f),await this[_0x2ee75a(0x1a9)]['log'](this['prefix']+_0x2ee75a(0x1b0))['send'](),await this[_0x2ee75a(0x198)][_0x2ee75a(0x1bb)]('Completed');}catch(_0x2f61c0){await this[_0x2ee75a(0x1fa)]();if(_0x2f61c0 instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0x2ee75a(0x198)][_0x2ee75a(0x1bb)](_0x2ee75a(0x169))[_0x2ee75a(0x180)](()=>void 0x0),this[_0x2ee75a(0x1ad)]['log'](this[_0x2ee75a(0x1d1)]+_0x2ee75a(0x1c5));else{await this[_0x2ee75a(0x1ad)]['error'](this['prefix']+_0x2ee75a(0x1cb)+(_0x2f61c0 instanceof api_error_1[_0x2ee75a(0x184)]||_0x2f61c0 instanceof salesforce_error_1['SalesforceError']?_0x2f61c0['toString']():_0x2f61c0)),await this[_0x2ee75a(0x198)][_0x2ee75a(0x1f8)]({}),await this[_0x2ee75a(0x198)][_0x2ee75a(0x1bb)](_0x2ee75a(0x162))['catch'](()=>void 0x0);throw _0x2f61c0;}}finally{await this[_0x2ee75a(0x1fa)](),await this[_0x2ee75a(0x1a9)][_0x2ee75a(0x1f9)]()[_0x2ee75a(0x180)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a107_0x5f5d07(0x1fb),[git_commit_service_1['GitCommitService'],connection_1[a107_0x5f5d07(0x18d)]])],GitCommitJob),exports[a107_0x5f5d07(0x193)]=GitCommitJob;