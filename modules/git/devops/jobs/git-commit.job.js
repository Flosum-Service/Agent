const a127_0x2c56ce=a127_0x3d1e;(function(_0x4e5cc1,_0x471ef3){const _0x4cea1d=a127_0x3d1e,_0x125a25=_0x4e5cc1();while(!![]){try{const _0x4ac202=-parseInt(_0x4cea1d(0x20c))/0x1*(-parseInt(_0x4cea1d(0x275))/0x2)+parseInt(_0x4cea1d(0x27c))/0x3+parseInt(_0x4cea1d(0x1f7))/0x4+parseInt(_0x4cea1d(0x248))/0x5*(parseInt(_0x4cea1d(0x23a))/0x6)+-parseInt(_0x4cea1d(0x21b))/0x7*(-parseInt(_0x4cea1d(0x26f))/0x8)+-parseInt(_0x4cea1d(0x23c))/0x9+-parseInt(_0x4cea1d(0x26b))/0xa*(parseInt(_0x4cea1d(0x22e))/0xb);if(_0x4ac202===_0x471ef3)break;else _0x125a25['push'](_0x125a25['shift']());}catch(_0x4ab140){_0x125a25['push'](_0x125a25['shift']());}}}(a127_0x3104,0x1ee9c));const a127_0x16f819=(function(){let _0x32a8c9=!![];return function(_0x25bca5,_0x2cbd4d){const _0xf5d15=_0x32a8c9?function(){const _0x497f57=a127_0x3d1e;if(_0x2cbd4d){const _0x1b879c=_0x2cbd4d[_0x497f57(0x1ec)](_0x25bca5,arguments);return _0x2cbd4d=null,_0x1b879c;}}:function(){};return _0x32a8c9=![],_0xf5d15;};}()),a127_0x1b452a=a127_0x16f819(this,function(){const _0x3e2db6=a127_0x3d1e;return a127_0x1b452a['toString']()[_0x3e2db6(0x26a)]('(((.+)+)+)+$')['toString']()[_0x3e2db6(0x209)](a127_0x1b452a)[_0x3e2db6(0x26a)](_0x3e2db6(0x293));});a127_0x1b452a();function a127_0x3104(){const _0x31c6fa=['values','CommitToFlosumCompletedNotification','\x20components.','ProvidersFactory','SalesforceError','sfLogger','error','gitUtils','Branch\x20synchronized.\x20Skip.','dir','SFDX','readFilesByFilename','getLoggerId','isEmailNotificationsEnabled','catch','name','11PYxvoO','__metadata','../../salesforce/errors/salesforce.error','updateRemoteState','completeNotification','gitCommitData','fileNames','Bitbucket','push','\x20Fetch\x20salesforce\x20data.','sendComponents','\x20Processed\x20','6GGDxcZ','../../providers/api/bitbucket-api.service','919233luaPNG','GitCommitService','../../../../core/errors/api.error','isLoggedIn','call','providersFactory','__createBinding','info','GitCommitJob','repositoryGit','cleanUp',']\x20[','623820WKJGcZ','../errors/flosum-commit.error','configurable','gitCommit','BitbucketApiService','\x20components','commitId','\x20Modified\x20','getRemote','In\x20Progress','\x20files\x20before\x20sync.','getBranchId','SalesforceCommitsManager','setCommitDto','MDApiUtils','execute','createCommit','__setModuleDefault','getProtocol','removed','errorNotification','stats','hasOwnProperty','__importStar','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','\x20Commit\x20Summary','email','relative','\x20commits.','username','prefix','flat','GitProvider','../utils/mdapi.utils','search','5901150tnhJGQ','run','resetStats','log','1953496iWTyqw','modified','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','DEFAULT_GIT_USER_NAME','ApiError','288TTnVuf','provider','shift','lastCommitHash','author',']\x20Start\x20proceeding\x20git\x20commits.\x20','../../salesforce/services/salesforce-logger-v3.service','353529lUoqKH','gitProvider','Email\x20notifications\x20are\x20disabled.','createLoggerId','\x20[SFDX:\x20','recordType','default','prepareGitChangedPaths','get','fetchRepositoryOrBranchData','getGitShellAuthorizationString','mdapiUtils','getRepositoryId','replace','CommitToFlosumErrorNotification','prototype','Last\x20git\x20repository\x20hash\x20is\x20%s.','removeDir','../../parsers/utils','handleCommit','config','commits','send','(((.+)+)+)+$','Tokens','getRemoteHash','length','message','added','fetchCommits','toString','defineProperty','commit','object','../../notifications/commit-to-flosum-completed.notification','map','decorate','\x20Cloning\x20git\x20repository\x20from\x20','../../../../core','apply','sync\x20components','clone','repository','../../salesforce/utils/sfdx.utils','function','../utils/git.utils','isSFDXProject','proceedCommits','MAX_COMPONENTS_PER_TICK','reduce','479864DAhljh',']\x20[Branch:\x20','inserted','checkoutTo','Service','../../providers/types/git-provider','files','../utils/path.utils','YES','../../salesforce/services/salesforce-commits-manager.service','\x20Proceeded\x20','metadata','Completed','__esModule','../services/git-commit.service','\x20Fetch\x20remote\x20branch\x20hash.','create','splice','constructor','logger','../../../shared/utils','1473rOoeIK','SalesforceLogger3','updateStatus','../../internal/fs.internal','proceedFile','gitApiService','PathUtils','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','\x20Removed\x20','force','getOwnPropertyDescriptor','getRecordTypes','branch','typedi','7CwbAcf','Git','prepareMdapi'];a127_0x3104=function(){return _0x31c6fa;};return a127_0x3104();}'use strict';var __createBinding=this&&this[a127_0x2c56ce(0x242)]||(Object[a127_0x2c56ce(0x207)]?function(_0x489132,_0x51817a,_0xab04a1,_0xb3dd84){const _0x2b2739=a127_0x2c56ce;if(_0xb3dd84===undefined)_0xb3dd84=_0xab04a1;var _0x59d913=Object[_0x2b2739(0x217)](_0x51817a,_0xab04a1);(!_0x59d913||(_0x2b2739(0x284)in _0x59d913?!_0x51817a['__esModule']:_0x59d913['writable']||_0x59d913[_0x2b2739(0x24a)]))&&(_0x59d913={'enumerable':!![],'get':function(){return _0x51817a[_0xab04a1];}}),Object[_0x2b2739(0x29b)](_0x489132,_0xb3dd84,_0x59d913);}:function(_0x1d0c78,_0x56214c,_0x32dde5,_0x2ab93b){if(_0x2ab93b===undefined)_0x2ab93b=_0x32dde5;_0x1d0c78[_0x2ab93b]=_0x56214c[_0x32dde5];}),__setModuleDefault=this&&this[a127_0x2c56ce(0x259)]||(Object[a127_0x2c56ce(0x207)]?function(_0x58b488,_0x2647f2){Object['defineProperty'](_0x58b488,'default',{'enumerable':!![],'value':_0x2647f2});}:function(_0x5a1d3b,_0x42e2e4){const _0x5bc3c9=a127_0x2c56ce;_0x5a1d3b[_0x5bc3c9(0x282)]=_0x42e2e4;}),__decorate=this&&this['__decorate']||function(_0x599ac9,_0x6c4efc,_0x52d809,_0x497cbf){const _0x2d99ac=a127_0x2c56ce;var _0x25d084=arguments[_0x2d99ac(0x296)],_0x4b502f=_0x25d084<0x3?_0x6c4efc:_0x497cbf===null?_0x497cbf=Object[_0x2d99ac(0x217)](_0x6c4efc,_0x52d809):_0x497cbf,_0x5b5699;if(typeof Reflect===_0x2d99ac(0x29d)&&typeof Reflect[_0x2d99ac(0x1e9)]===_0x2d99ac(0x1f1))_0x4b502f=Reflect[_0x2d99ac(0x1e9)](_0x599ac9,_0x6c4efc,_0x52d809,_0x497cbf);else{for(var _0x46c091=_0x599ac9[_0x2d99ac(0x296)]-0x1;_0x46c091>=0x0;_0x46c091--)if(_0x5b5699=_0x599ac9[_0x46c091])_0x4b502f=(_0x25d084<0x3?_0x5b5699(_0x4b502f):_0x25d084>0x3?_0x5b5699(_0x6c4efc,_0x52d809,_0x4b502f):_0x5b5699(_0x6c4efc,_0x52d809))||_0x4b502f;}return _0x25d084>0x3&&_0x4b502f&&Object[_0x2d99ac(0x29b)](_0x6c4efc,_0x52d809,_0x4b502f),_0x4b502f;},__importStar=this&&this[a127_0x2c56ce(0x25f)]||function(_0x364466){const _0x3c1c82=a127_0x2c56ce;if(_0x364466&&_0x364466['__esModule'])return _0x364466;var _0x9ea5f4={};if(_0x364466!=null){for(var _0x28cf51 in _0x364466)if(_0x28cf51!==_0x3c1c82(0x282)&&Object[_0x3c1c82(0x28b)][_0x3c1c82(0x25e)][_0x3c1c82(0x240)](_0x364466,_0x28cf51))__createBinding(_0x9ea5f4,_0x364466,_0x28cf51);}return __setModuleDefault(_0x9ea5f4,_0x364466),_0x9ea5f4;},__metadata=this&&this[a127_0x2c56ce(0x22f)]||function(_0x2ed98f,_0x3b5fb1){const _0x11da1a=a127_0x2c56ce;if(typeof Reflect===_0x11da1a(0x29d)&&typeof Reflect[_0x11da1a(0x202)]===_0x11da1a(0x1f1))return Reflect[_0x11da1a(0x202)](_0x2ed98f,_0x3b5fb1);},GitCommitJob_1;Object[a127_0x2c56ce(0x29b)](exports,a127_0x2c56ce(0x204),{'value':!![]}),exports['GitCommitJob']=void 0x0;function a127_0x3d1e(_0x2f10ba,_0x9f8a6c){const _0x544fde=a127_0x3104();return a127_0x3d1e=function(_0x1b452a,_0x16f819){_0x1b452a=_0x1b452a-0x1e7;let _0x31041b=_0x544fde[_0x1b452a];return _0x31041b;},a127_0x3d1e(_0x2f10ba,_0x9f8a6c);}const core_1=require(a127_0x2c56ce(0x1eb)),fs_internal_1=require(a127_0x2c56ce(0x20f)),salesforce_logger_v3_service_1=require(a127_0x2c56ce(0x27b)),utils_1=require(a127_0x2c56ce(0x20b)),path_1=require('path'),typedi_1=__importStar(require(a127_0x2c56ce(0x21a))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require(a127_0x2c56ce(0x200)),git_utils_1=require(a127_0x2c56ce(0x1f2)),mdapi_utils_1=require(a127_0x2c56ce(0x269)),api_error_1=require(a127_0x2c56ce(0x23e)),salesforce_error_1=require(a127_0x2c56ce(0x230)),git_commit_service_1=require(a127_0x2c56ce(0x205)),flosum_commit_error_1=require(a127_0x2c56ce(0x249)),bitbucket_api_service_1=require(a127_0x2c56ce(0x23b)),git_provider_1=require(a127_0x2c56ce(0x1fc)),sfdx_utils_1=require(a127_0x2c56ce(0x1f0)),utils_2=require(a127_0x2c56ce(0x28e)),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require('../../providers/providers.tokens'),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types'),path_utils_1=require(a127_0x2c56ce(0x1fe)),commit_to_flosum_completed_notification_1=require(a127_0x2c56ce(0x1e7)),commit_to_flosum_error_notification_1=require('../../notifications/commit-to-flosum-error.notification');let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x567cf9,_0x5bea7b){const _0x16e59a=a127_0x2c56ce;this[_0x16e59a(0x24b)]=_0x567cf9,this[_0x16e59a(0x241)]=_0x5bea7b,this[_0x16e59a(0x1f5)]=+(process['env'][_0x16e59a(0x1f5)]||0xbb8),this[_0x16e59a(0x20a)]=new core_1['Logger'](GitCommitJob_1['name']),this[_0x16e59a(0x24e)]='',this[_0x16e59a(0x25d)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a127_0x2c56ce(0x250)](){const _0x4ab351=a127_0x2c56ce,{repositoryGit:_0x5d3cd2}=this['gitCommitData'],_0x1c4771=typedi_1[_0x4ab351(0x282)][_0x4ab351(0x284)](providers_tokens_1['Tokens']['credentials']);if(this['gitCommitData'][_0x4ab351(0x276)]===git_provider_1[_0x4ab351(0x268)][_0x4ab351(0x235)]){const _0x48191d=typedi_1[_0x4ab351(0x282)][_0x4ab351(0x284)](bitbucket_api_service_1[_0x4ab351(0x24c)]);await _0x48191d[_0x4ab351(0x23f)]();}return _0x5d3cd2[_0x4ab351(0x289)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4ab351(0x25a)])(_0x5d3cd2)+'://'+_0x1c4771[_0x4ab351(0x286)]()+'@');}async[a127_0x2c56ce(0x232)](_0x32e5c6,_0x9808e,_0x650346,_0x234da8){const _0x28ddf4=a127_0x2c56ce;if(!this['config'][_0x28ddf4(0x22b)]){this[_0x28ddf4(0x20a)][_0x28ddf4(0x243)]('Email\x20notifications\x20are\x20disabled.');return;}await new commit_to_flosum_completed_notification_1[(_0x28ddf4(0x21f))]({'emails':_0x32e5c6,'gitProvider':_0x9808e,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification']['name'],'repositoryName':_0x650346,'branchName':_0x234da8})['execute']();}async[a127_0x2c56ce(0x25c)](_0x4e4847,_0x19e0c4,_0x546c65,_0x1afd56){const _0x56714f=a127_0x2c56ce;if(!this[_0x56714f(0x290)][_0x56714f(0x22b)]){this[_0x56714f(0x20a)][_0x56714f(0x243)](_0x56714f(0x27e));return;}await new commit_to_flosum_error_notification_1['CommitToFlosumErrorNotification']({'emails':_0x4e4847,'gitProvider':_0x19e0c4,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0x56714f(0x28a)][_0x56714f(0x22d)],'repositoryName':_0x546c65,'branchName':_0x1afd56})[_0x56714f(0x257)]();}[a127_0x2c56ce(0x26d)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0x58d732=a127_0x2c56ce,_0x47178d=[...this[_0x58d732(0x233)][_0x58d732(0x234)]];this[_0x58d732(0x233)][_0x58d732(0x234)]=[];for(const _0x247b93 of _0x47178d){this[_0x58d732(0x233)]['fileNames']['push'](...await(0x0,utils_2[_0x58d732(0x229)])(_0x247b93,this[_0x58d732(0x287)][_0x58d732(0x227)]));}}async[a127_0x2c56ce(0x299)](){const _0x2a81b8=a127_0x2c56ce;if(this[_0x2a81b8(0x233)]['force'])return;const _0x53109e=[];for(const _0x2e7a52 of this[_0x2a81b8(0x233)][_0x2a81b8(0x291)]){const _0x2e580c=await this['gitUtils']['describeCommit'](_0x2e7a52['id']);_0x2e7a52[_0x2a81b8(0x265)]=_0x2e580c[_0x2a81b8(0x279)],_0x2e7a52[_0x2a81b8(0x297)]=_0x2e580c[_0x2a81b8(0x297)],_0x2e7a52[_0x2a81b8(0x1fd)]=_0x2e580c['changes'],_0x2e7a52['email']=_0x2e580c[_0x2a81b8(0x262)];if(_0x2e7a52[_0x2a81b8(0x262)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1['FlosumCommitError']();_0x53109e['push'](...Object[_0x2a81b8(0x21e)](_0x2e7a52[_0x2a81b8(0x1fd)])[_0x2a81b8(0x267)]());}this['gitCommitData']['fileNames']=[...new Set(path_utils_1[_0x2a81b8(0x212)][_0x2a81b8(0x283)](this['gitCommit']['recordType'],_0x53109e,![]))];}async[a127_0x2c56ce(0x238)](_0x5cb11c,_0x3a3388,_0x2ceba1){const _0x1ff298=a127_0x2c56ce,_0x3fbd0b=_0x2ceba1[_0x1ff298(0x1f6)]((_0x4618af,_0x3a63e3)=>{const _0x1bc8e5=_0x1ff298;return _0x4618af[_0x1bc8e5(0x1f9)]['push'](..._0x3a63e3[_0x1bc8e5(0x1f9)]),_0x4618af[_0x1bc8e5(0x270)][_0x1bc8e5(0x236)](..._0x3a63e3[_0x1bc8e5(0x270)]),_0x4618af[_0x1bc8e5(0x25b)][_0x1bc8e5(0x236)](..._0x3a63e3[_0x1bc8e5(0x25b)]),_0x4618af;},{'inserted':[],'modified':[],'removed':[]}),_0x59f203=new salesforce_commits_manager_service_1[(_0x1ff298(0x254))]({'recordTypes':this[_0x1ff298(0x24b)][_0x1ff298(0x218)](),'branchId':this[_0x1ff298(0x24b)][_0x1ff298(0x253)](),'repositoryId':this[_0x1ff298(0x24b)][_0x1ff298(0x288)](),'logger':this[_0x1ff298(0x223)],'commitId':this['commitId']});await _0x59f203['proceedCommits']([{'author':_0x5cb11c,'message':_0x3a3388,'inserted':_0x3fbd0b['inserted'],'modified':_0x3fbd0b['modified'],'removed':_0x3fbd0b[_0x1ff298(0x25b)]}]);}async[a127_0x2c56ce(0x28f)](_0x4c2c88,_0x35c3c3){const _0x98f85a=a127_0x2c56ce;await this[_0x98f85a(0x223)]['log'](this['prefix']+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')['send'](),await this[_0x98f85a(0x24b)]['fetchComponentsMetadata'](_0x35c3c3);const {added:_0x285265,modified:_0x26f175,removed:_0x1731c7}=_0x4c2c88[_0x98f85a(0x1fd)];_0x35c3c3&&_0x26f175[_0x98f85a(0x236)](..._0x1731c7[_0x98f85a(0x208)](0x0));const _0x3b2578=path_utils_1[_0x98f85a(0x212)][_0x98f85a(0x283)](this[_0x98f85a(0x24b)][_0x98f85a(0x281)],[..._0x285265,..._0x26f175,..._0x1731c7],_0x35c3c3&&!this['gitCommitData'][_0x98f85a(0x216)]),_0x25c7d7=(0x0,utils_2['convertToCleanPaths'])(_0x3b2578);let _0x532253=0x0;const _0x211c85=[];(_0x285265[_0x98f85a(0x296)]||_0x26f175['length'])&&this[_0x98f85a(0x24b)][_0x98f85a(0x288)]()&&(this[_0x98f85a(0x24e)]=await this[_0x98f85a(0x24b)][_0x98f85a(0x258)](_0x4c2c88['message']));const _0x3a1ebd=_0x25c7d7[_0x98f85a(0x296)];let _0x2aafe8=0x0;while(_0x25c7d7[_0x98f85a(0x296)]){const _0x52bbf9=_0x25c7d7[_0x98f85a(0x277)](),_0x43c46f=await this[_0x98f85a(0x24b)][_0x98f85a(0x210)](_0x52bbf9,this['mdapiUtils'][_0x98f85a(0x227)],_0x35c3c3&&!this['gitCommitData'][_0x98f85a(0x216)]);_0x532253+=_0x43c46f[_0x98f85a(0x1f9)][_0x98f85a(0x296)]+_0x43c46f['removed'][_0x98f85a(0x296)]+_0x43c46f[_0x98f85a(0x270)][_0x98f85a(0x296)],this[_0x98f85a(0x25d)][_0x98f85a(0x298)]+=_0x43c46f[_0x98f85a(0x1f9)][_0x98f85a(0x296)],this[_0x98f85a(0x25d)]['modified']+=_0x43c46f[_0x98f85a(0x270)][_0x98f85a(0x296)],this[_0x98f85a(0x25d)][_0x98f85a(0x25b)]+=_0x43c46f[_0x98f85a(0x25b)][_0x98f85a(0x296)],_0x2aafe8++,_0x2aafe8%0x64===0x0&&this[_0x98f85a(0x20a)][_0x98f85a(0x26e)](_0x98f85a(0x213),_0x2aafe8,_0x3a1ebd,_0x532253),_0x211c85[_0x98f85a(0x236)](_0x43c46f),_0x532253>this[_0x98f85a(0x1f5)]&&(await this[_0x98f85a(0x238)](_0x4c2c88[_0x98f85a(0x265)],_0x4c2c88[_0x98f85a(0x297)],_0x211c85),await this[_0x98f85a(0x223)]['log'](this['prefix']+_0x98f85a(0x239)+_0x532253+_0x98f85a(0x220))[_0x98f85a(0x292)](),_0x532253=0x0,_0x211c85[_0x98f85a(0x208)](0x0));}_0x211c85[_0x98f85a(0x296)]&&(await this[_0x98f85a(0x238)](_0x4c2c88[_0x98f85a(0x265)],_0x4c2c88[_0x98f85a(0x297)],_0x211c85),await this[_0x98f85a(0x223)][_0x98f85a(0x26e)](this['prefix']+'\x20Processed\x20'+_0x532253+_0x98f85a(0x220))[_0x98f85a(0x292)]());}async[a127_0x2c56ce(0x1f4)](_0x2197e0){const _0x29bad5=a127_0x2c56ce,_0x1b2ea9=[...this[_0x29bad5(0x233)][_0x29bad5(0x291)]],_0x340165=_0x1b2ea9[_0x29bad5(0x296)];let _0x37f077=0x0;while(_0x1b2ea9['length']){const _0x5584df=_0x1b2ea9[_0x29bad5(0x277)]();!this[_0x29bad5(0x233)][_0x29bad5(0x216)]&&(this['gitCommit'][_0x29bad5(0x288)]()?(await this[_0x29bad5(0x225)][_0x29bad5(0x1fa)](_0x5584df['id']),await this[_0x29bad5(0x287)][_0x29bad5(0x21d)](this[_0x29bad5(0x225)][_0x29bad5(0x227)])):(await this[_0x29bad5(0x225)][_0x29bad5(0x1fa)](this['lastCommitHash']),await this[_0x29bad5(0x287)][_0x29bad5(0x21d)](this[_0x29bad5(0x225)][_0x29bad5(0x227)]))),await this[_0x29bad5(0x28f)](_0x5584df,_0x2197e0),await this[_0x29bad5(0x287)][_0x29bad5(0x28d)](),_0x37f077+=0x1,await this[_0x29bad5(0x223)][_0x29bad5(0x26e)](this[_0x29bad5(0x266)]+_0x29bad5(0x261)),await this[_0x29bad5(0x223)][_0x29bad5(0x26e)](this[_0x29bad5(0x266)]+'\x20Added\x20'+this['stats']['added']+_0x29bad5(0x24d)),await this['sfLogger'][_0x29bad5(0x26e)](this[_0x29bad5(0x266)]+_0x29bad5(0x24f)+this['stats'][_0x29bad5(0x270)]+_0x29bad5(0x24d)),await this[_0x29bad5(0x223)][_0x29bad5(0x26e)](this['prefix']+_0x29bad5(0x215)+this[_0x29bad5(0x25d)][_0x29bad5(0x25b)]+'\x20components'),await this[_0x29bad5(0x223)][_0x29bad5(0x26e)](this[_0x29bad5(0x266)]+_0x29bad5(0x201)+_0x37f077+'/'+_0x340165+_0x29bad5(0x264))['send'](),this['resetStats']();}}async[a127_0x2c56ce(0x246)](){const _0x22aed3=a127_0x2c56ce;this[_0x22aed3(0x225)]&&await this[_0x22aed3(0x225)][_0x22aed3(0x28d)]()['catch'](()=>void 0x0),this['mdapiUtils']&&await this[_0x22aed3(0x287)][_0x22aed3(0x28d)]()[_0x22aed3(0x22c)](()=>void 0x0);}async[a127_0x2c56ce(0x26c)](_0x513566){const _0xe7fb13=a127_0x2c56ce;this[_0xe7fb13(0x233)]=_0x513566,this[_0xe7fb13(0x24b)][_0xe7fb13(0x255)](this['gitCommitData']),this[_0xe7fb13(0x211)]=typedi_1[_0xe7fb13(0x282)]['get'](providers_tokens_1['Tokens'][_0xe7fb13(0x211)]),this['config']=typedi_1['default']['get'](providers_tokens_1[_0xe7fb13(0x294)]['config']),this['sfLogger']=typedi_1['default'][_0xe7fb13(0x284)](providers_tokens_1[_0xe7fb13(0x294)]['logger']),this[_0xe7fb13(0x266)]=_0xe7fb13(0x214)+_0x513566[_0xe7fb13(0x1ef)]+_0xe7fb13(0x1f8)+_0x513566['branch']+_0xe7fb13(0x247)+GitCommitJob_1[_0xe7fb13(0x22d)]+']',this[_0xe7fb13(0x225)]=new git_utils_1['GitUtils'](await this['getRemote']()),this[_0xe7fb13(0x287)]=new mdapi_utils_1[(_0xe7fb13(0x256))](),this['sfLogger'][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+'\x20Start\x20Git-commit\x20job.');try{this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+_0xe7fb13(0x237)),await this['gitCommit'][_0xe7fb13(0x285)](),await this[_0xe7fb13(0x24b)]['updateStatus'](_0xe7fb13(0x251)),this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](this['prefix']+_0xe7fb13(0x206)),this['lastCommitHash']=await git_internal_1[_0xe7fb13(0x21c)][_0xe7fb13(0x295)](await this['getRemote'](),this[_0xe7fb13(0x233)][_0xe7fb13(0x219)]),this[_0xe7fb13(0x20a)]['log'](_0xe7fb13(0x28c),this[_0xe7fb13(0x278)]);const _0x40af19=await this[_0xe7fb13(0x24b)]['checkSyncStatus'](this[_0xe7fb13(0x278)]);if(_0x40af19){this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](_0xe7fb13(0x226)),await this[_0xe7fb13(0x24b)][_0xe7fb13(0x20e)](_0xe7fb13(0x203));return;}this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+_0xe7fb13(0x1ea)+this[_0xe7fb13(0x233)][_0xe7fb13(0x245)]+'.'),await this[_0xe7fb13(0x225)][_0xe7fb13(0x1ee)](this['gitCommitData']['branch'],this[_0xe7fb13(0x233)]['repository']),this['sfLogger'][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+_0xe7fb13(0x260));const _0x433d3a=await sfdx_utils_1[_0xe7fb13(0x228)][_0xe7fb13(0x1f3)](this[_0xe7fb13(0x225)][_0xe7fb13(0x227)]);await this[_0xe7fb13(0x299)]();!this['sfLogger'][_0xe7fb13(0x22a)]()&&this[_0xe7fb13(0x223)]['setLoggerId'](await salesforce_logger_v3_service_1[_0xe7fb13(0x20d)][_0xe7fb13(0x27f)](sf_logger_v3_types_1['LoggerTypes'][_0xe7fb13(0x29c)]));await this[_0xe7fb13(0x223)][_0xe7fb13(0x292)]();if(_0x513566['force']){await this[_0xe7fb13(0x287)][_0xe7fb13(0x21d)](this[_0xe7fb13(0x225)][_0xe7fb13(0x227)]),await this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](this['prefix']+_0xe7fb13(0x271))['send']();const _0x5b6972=(await fs_internal_1['FS']['readDir'](this[_0xe7fb13(0x287)][_0xe7fb13(0x227)],!![]))[_0xe7fb13(0x1e8)](_0x47d26f=>(0x0,path_1[_0xe7fb13(0x263)])(this[_0xe7fb13(0x287)][_0xe7fb13(0x227)],_0x47d26f));this['sfLogger']['log'](this['prefix']+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x5b6972[_0xe7fb13(0x296)]+_0xe7fb13(0x252)),this[_0xe7fb13(0x233)][_0xe7fb13(0x234)]=[],this['gitCommitData'][_0xe7fb13(0x291)]=[{'files':{'modified':_0x5b6972,'added':[],'removed':[]},'id':await this['gitUtils']['getCurrentHash'](),'message':_0xe7fb13(0x1ed),'username':constants_1[_0xe7fb13(0x273)]}];}await this[_0xe7fb13(0x24b)][_0xe7fb13(0x231)]({[this[_0xe7fb13(0x233)][_0xe7fb13(0x245)]]:{'lastCommit':this[_0xe7fb13(0x278)]}}),await this['sfLogger'][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+_0xe7fb13(0x280)+(_0x433d3a?_0xe7fb13(0x1ff):'NO')+_0xe7fb13(0x27a))[_0xe7fb13(0x292)](),await this[_0xe7fb13(0x1f4)](_0x433d3a),await this[_0xe7fb13(0x223)][_0xe7fb13(0x26e)](this[_0xe7fb13(0x266)]+'\x20Job\x20done.')[_0xe7fb13(0x292)](),await this['gitCommit'][_0xe7fb13(0x20e)](_0xe7fb13(0x203)),await this[_0xe7fb13(0x232)]([_0x513566[_0xe7fb13(0x262)]],this[_0xe7fb13(0x290)][_0xe7fb13(0x27d)],_0x513566[_0xe7fb13(0x1ef)],_0x513566['branch']);}catch(_0x1e5a23){await this['cleanUp']();if(_0x1e5a23 instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0xe7fb13(0x24b)][_0xe7fb13(0x20e)](_0xe7fb13(0x203))[_0xe7fb13(0x22c)](()=>void 0x0),this[_0xe7fb13(0x20a)][_0xe7fb13(0x26e)](this['prefix']+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0xe7fb13(0x20a)][_0xe7fb13(0x224)](this[_0xe7fb13(0x266)]+_0xe7fb13(0x272)+(_0x1e5a23 instanceof api_error_1[_0xe7fb13(0x274)]||_0x1e5a23 instanceof salesforce_error_1[_0xe7fb13(0x222)]?_0x1e5a23[_0xe7fb13(0x29a)]():_0x1e5a23)),await this[_0xe7fb13(0x24b)]['updateRemoteState']({}),await this[_0xe7fb13(0x24b)][_0xe7fb13(0x20e)]('Error')[_0xe7fb13(0x22c)](()=>void 0x0),await this[_0xe7fb13(0x25c)]([_0x513566[_0xe7fb13(0x262)]],this[_0xe7fb13(0x290)][_0xe7fb13(0x27d)],_0x513566['repository'],_0x513566[_0xe7fb13(0x219)]);throw _0x1e5a23;}}finally{await this[_0xe7fb13(0x246)](),await this[_0xe7fb13(0x223)][_0xe7fb13(0x292)]()[_0xe7fb13(0x22c)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a127_0x2c56ce(0x1fb)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1[a127_0x2c56ce(0x23d)],connection_1[a127_0x2c56ce(0x221)]])],GitCommitJob),exports[a127_0x2c56ce(0x244)]=GitCommitJob;