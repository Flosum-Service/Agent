const a126_0x46c370=a126_0x3a8c;function a126_0x3a8c(_0x2d9ae3,_0xeef16b){const _0x5c3e51=a126_0x2ae3();return a126_0x3a8c=function(_0x2e9956,_0x72d5c8){_0x2e9956=_0x2e9956-0x151;let _0x2ae3f2=_0x5c3e51[_0x2e9956];return _0x2ae3f2;},a126_0x3a8c(_0x2d9ae3,_0xeef16b);}(function(_0x1cd24e,_0x4ca47c){const _0xae2774=a126_0x3a8c,_0x3218ae=_0x1cd24e();while(!![]){try{const _0x1eea4e=parseInt(_0xae2774(0x202))/0x1+-parseInt(_0xae2774(0x1e6))/0x2*(-parseInt(_0xae2774(0x16a))/0x3)+parseInt(_0xae2774(0x1d3))/0x4*(-parseInt(_0xae2774(0x1a9))/0x5)+-parseInt(_0xae2774(0x1cd))/0x6*(parseInt(_0xae2774(0x18b))/0x7)+parseInt(_0xae2774(0x16d))/0x8*(parseInt(_0xae2774(0x191))/0x9)+-parseInt(_0xae2774(0x1bb))/0xa+parseInt(_0xae2774(0x1e1))/0xb;if(_0x1eea4e===_0x4ca47c)break;else _0x3218ae['push'](_0x3218ae['shift']());}catch(_0x2c8011){_0x3218ae['push'](_0x3218ae['shift']());}}}(a126_0x2ae3,0x73422));const a126_0x72d5c8=(function(){let _0x281a3c=!![];return function(_0x3e1c54,_0x4d9d04){const _0x20969e=_0x281a3c?function(){if(_0x4d9d04){const _0x343a52=_0x4d9d04['apply'](_0x3e1c54,arguments);return _0x4d9d04=null,_0x343a52;}}:function(){};return _0x281a3c=![],_0x20969e;};}()),a126_0x2e9956=a126_0x72d5c8(this,function(){const _0x425063=a126_0x3a8c;return a126_0x2e9956[_0x425063(0x1ec)]()['search'](_0x425063(0x16b))[_0x425063(0x1ec)]()[_0x425063(0x1e8)](a126_0x2e9956)['search'](_0x425063(0x16b));});a126_0x2e9956();'use strict';var __createBinding=this&&this[a126_0x46c370(0x1c3)]||(Object[a126_0x46c370(0x197)]?function(_0x4797b8,_0x13ef84,_0x78a755,_0x36bd84){const _0x10010f=a126_0x46c370;if(_0x36bd84===undefined)_0x36bd84=_0x78a755;var _0x208ed7=Object[_0x10010f(0x154)](_0x13ef84,_0x78a755);(!_0x208ed7||(_0x10010f(0x1f0)in _0x208ed7?!_0x13ef84[_0x10010f(0x15b)]:_0x208ed7['writable']||_0x208ed7[_0x10010f(0x1eb)]))&&(_0x208ed7={'enumerable':!![],'get':function(){return _0x13ef84[_0x78a755];}}),Object[_0x10010f(0x1a1)](_0x4797b8,_0x36bd84,_0x208ed7);}:function(_0x274211,_0x13b8e8,_0x29f122,_0x45dd39){if(_0x45dd39===undefined)_0x45dd39=_0x29f122;_0x274211[_0x45dd39]=_0x13b8e8[_0x29f122];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x4da9e1,_0x14f25c){const _0x250a54=a126_0x46c370;Object['defineProperty'](_0x4da9e1,_0x250a54(0x1b8),{'enumerable':!![],'value':_0x14f25c});}:function(_0x2f52fb,_0x4bcf5b){_0x2f52fb['default']=_0x4bcf5b;}),__decorate=this&&this[a126_0x46c370(0x164)]||function(_0x99efea,_0x1f994e,_0x3f709f,_0x198f6c){const _0x33d126=a126_0x46c370;var _0x4f0c43=arguments[_0x33d126(0x1a2)],_0x192a3c=_0x4f0c43<0x3?_0x1f994e:_0x198f6c===null?_0x198f6c=Object[_0x33d126(0x154)](_0x1f994e,_0x3f709f):_0x198f6c,_0x458164;if(typeof Reflect===_0x33d126(0x175)&&typeof Reflect[_0x33d126(0x169)]==='function')_0x192a3c=Reflect[_0x33d126(0x169)](_0x99efea,_0x1f994e,_0x3f709f,_0x198f6c);else{for(var _0x421931=_0x99efea['length']-0x1;_0x421931>=0x0;_0x421931--)if(_0x458164=_0x99efea[_0x421931])_0x192a3c=(_0x4f0c43<0x3?_0x458164(_0x192a3c):_0x4f0c43>0x3?_0x458164(_0x1f994e,_0x3f709f,_0x192a3c):_0x458164(_0x1f994e,_0x3f709f))||_0x192a3c;}return _0x4f0c43>0x3&&_0x192a3c&&Object[_0x33d126(0x1a1)](_0x1f994e,_0x3f709f,_0x192a3c),_0x192a3c;},__importStar=this&&this['__importStar']||function(_0x41c815){const _0x406778=a126_0x46c370;if(_0x41c815&&_0x41c815['__esModule'])return _0x41c815;var _0x3bb56c={};if(_0x41c815!=null){for(var _0x40a3ec in _0x41c815)if(_0x40a3ec!=='default'&&Object[_0x406778(0x1f4)][_0x406778(0x1b3)][_0x406778(0x17d)](_0x41c815,_0x40a3ec))__createBinding(_0x3bb56c,_0x41c815,_0x40a3ec);}return __setModuleDefault(_0x3bb56c,_0x41c815),_0x3bb56c;},__metadata=this&&this[a126_0x46c370(0x1aa)]||function(_0x177d2c,_0x4c823f){const _0x5a4940=a126_0x46c370;if(typeof Reflect===_0x5a4940(0x175)&&typeof Reflect['metadata']===_0x5a4940(0x1c4))return Reflect[_0x5a4940(0x1a3)](_0x177d2c,_0x4c823f);},GitCommitJob_1;Object[a126_0x46c370(0x1a1)](exports,'__esModule',{'value':!![]}),exports[a126_0x46c370(0x19b)]=void 0x0;const core_1=require(a126_0x46c370(0x1e3)),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),utils_1=require(a126_0x46c370(0x1f9)),path_1=require('path'),typedi_1=__importStar(require(a126_0x46c370(0x153))),constants_1=require(a126_0x46c370(0x1ce)),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_utils_1=require(a126_0x46c370(0x177)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require(a126_0x46c370(0x17a)),salesforce_error_1=require(a126_0x46c370(0x203)),git_commit_service_1=require(a126_0x46c370(0x167)),flosum_commit_error_1=require(a126_0x46c370(0x155)),bitbucket_api_service_1=require(a126_0x46c370(0x19d)),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a126_0x46c370(0x165)),utils_2=require(a126_0x46c370(0x16c)),git_internal_1=require(a126_0x46c370(0x1d5)),providers_tokens_1=require(a126_0x46c370(0x1df)),connection_1=require(a126_0x46c370(0x1bd)),sf_logger_v3_types_1=require(a126_0x46c370(0x151)),path_utils_1=require('../utils/path.utils'),commit_to_flosum_completed_notification_1=require(a126_0x46c370(0x1db)),commit_to_flosum_error_notification_1=require(a126_0x46c370(0x17e));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x22b65a,_0x37368c){const _0x2c89a2=a126_0x46c370;this['gitCommit']=_0x22b65a,this[_0x2c89a2(0x1da)]=_0x37368c,this[_0x2c89a2(0x1b4)]=+(process[_0x2c89a2(0x1ae)][_0x2c89a2(0x1b4)]||0xbb8),this[_0x2c89a2(0x1a4)]=new core_1[(_0x2c89a2(0x1f7))](GitCommitJob_1['name']),this[_0x2c89a2(0x1ad)]='',this[_0x2c89a2(0x1d2)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a126_0x46c370(0x1f3)](){const _0x230dfa=a126_0x46c370,{repositoryGit:_0x2e0ca9}=this[_0x230dfa(0x1fc)],_0x456553=typedi_1[_0x230dfa(0x1b8)][_0x230dfa(0x1f0)](providers_tokens_1['Tokens'][_0x230dfa(0x1c9)]);if(this[_0x230dfa(0x1fc)][_0x230dfa(0x205)]===git_provider_1['GitProvider'][_0x230dfa(0x198)]){const _0x2fde5e=typedi_1[_0x230dfa(0x1b8)][_0x230dfa(0x1f0)](bitbucket_api_service_1['BitbucketApiService']);await _0x2fde5e[_0x230dfa(0x1ff)]();}return _0x2e0ca9['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2e0ca9)+_0x230dfa(0x1b5)+_0x456553[_0x230dfa(0x156)]()+'@');}async[a126_0x46c370(0x166)](_0x521aa1,_0x4211dd,_0x11ef7e,_0x2675aa){const _0xc9c299=a126_0x46c370;if(!this[_0xc9c299(0x192)]['isEmailNotificationsEnabled']){this['logger'][_0xc9c299(0x188)](_0xc9c299(0x19c));return;}await new commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification']({'emails':_0x521aa1,'gitProvider':_0x4211dd,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1[_0xc9c299(0x187)][_0xc9c299(0x180)],'repositoryName':_0x11ef7e,'branchName':_0x2675aa})[_0xc9c299(0x172)]();}async[a126_0x46c370(0x1cb)](_0x50c8ed,_0x5b6483,_0x5bc9b4,_0xa12b41){const _0xf58b67=a126_0x46c370;if(!this['config'][_0xf58b67(0x1dc)]){this[_0xf58b67(0x1a4)][_0xf58b67(0x188)]('Email\x20notifications\x20are\x20disabled.');return;}await new commit_to_flosum_error_notification_1[(_0xf58b67(0x19f))]({'emails':_0x50c8ed,'gitProvider':_0x5b6483,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0xf58b67(0x19f)][_0xf58b67(0x180)],'repositoryName':_0x5bc9b4,'branchName':_0xa12b41})[_0xf58b67(0x172)]();}[a126_0x46c370(0x200)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a126_0x46c370(0x1c0)](){const _0x55ff00=a126_0x46c370,_0x47d058=[...this['gitCommitData'][_0x55ff00(0x168)]];this['gitCommitData']['fileNames']=[];for(const _0x4d0102 of _0x47d058){this[_0x55ff00(0x1fc)][_0x55ff00(0x168)][_0x55ff00(0x1d0)](...await(0x0,utils_2[_0x55ff00(0x206)])(_0x4d0102,this[_0x55ff00(0x1fe)][_0x55ff00(0x1ba)]));}}async[a126_0x46c370(0x15e)](){const _0x39db0b=a126_0x46c370;if(this[_0x39db0b(0x1fc)][_0x39db0b(0x1b0)])return;const _0x3fc600=[];for(const _0xbe2612 of this[_0x39db0b(0x1fc)][_0x39db0b(0x1c6)]){const _0xfa1aff=await this[_0x39db0b(0x1af)][_0x39db0b(0x1fb)](_0xbe2612['id']);_0xbe2612['username']=_0xfa1aff[_0x39db0b(0x1e5)],_0xbe2612[_0x39db0b(0x1ac)]=_0xfa1aff[_0x39db0b(0x1ac)],_0xbe2612['files']=_0xfa1aff[_0x39db0b(0x18c)],_0xbe2612[_0x39db0b(0x1ef)]=_0xfa1aff[_0x39db0b(0x1ef)];if(_0xbe2612[_0x39db0b(0x1ef)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1[(_0x39db0b(0x193))]();_0x3fc600[_0x39db0b(0x1d0)](...Object['values'](_0xbe2612['files'])[_0x39db0b(0x174)]());}this[_0x39db0b(0x1fc)][_0x39db0b(0x168)]=[...new Set(path_utils_1[_0x39db0b(0x1e2)]['prepareGitChangedPaths'](this[_0x39db0b(0x160)][_0x39db0b(0x1d1)],_0x3fc600,![]))];}async[a126_0x46c370(0x15c)](_0x562d96,_0x41da65,_0x41a30c){const _0x4a020c=a126_0x46c370,_0x117cf5=_0x41a30c[_0x4a020c(0x1be)]((_0x176b0e,_0x22cebc)=>{const _0x4137db=_0x4a020c;return _0x176b0e[_0x4137db(0x186)][_0x4137db(0x1d0)](..._0x22cebc['inserted']),_0x176b0e[_0x4137db(0x15a)]['push'](..._0x22cebc[_0x4137db(0x15a)]),_0x176b0e[_0x4137db(0x1f5)][_0x4137db(0x1d0)](..._0x22cebc['removed']),_0x176b0e;},{'inserted':[],'modified':[],'removed':[]}),_0x53fd76=new salesforce_commits_manager_service_1[(_0x4a020c(0x1a6))]({'recordTypes':this[_0x4a020c(0x160)][_0x4a020c(0x1fd)](),'branchId':this[_0x4a020c(0x160)]['getBranchId'](),'repositoryId':this['gitCommit'][_0x4a020c(0x1b1)](),'logger':this[_0x4a020c(0x16f)],'commitId':this[_0x4a020c(0x1ad)]});await _0x53fd76[_0x4a020c(0x1ed)]([{'author':_0x562d96,'message':_0x41da65,'inserted':_0x117cf5[_0x4a020c(0x186)],'modified':_0x117cf5[_0x4a020c(0x15a)],'removed':_0x117cf5['removed']}]);}async[a126_0x46c370(0x179)](_0x39eb2b,_0x39b87b){const _0x2d0d9d=a126_0x46c370;await this[_0x2d0d9d(0x16f)][_0x2d0d9d(0x1d4)](this[_0x2d0d9d(0x1b7)]+_0x2d0d9d(0x1b9))[_0x2d0d9d(0x152)](),await this[_0x2d0d9d(0x160)][_0x2d0d9d(0x176)](_0x39b87b);const {added:_0x1e65f9,modified:_0xc6903a,removed:_0x22861b}=_0x39eb2b[_0x2d0d9d(0x157)];_0x39b87b&&_0xc6903a[_0x2d0d9d(0x1d0)](..._0x22861b[_0x2d0d9d(0x1fa)](0x0));const _0x484bf6=path_utils_1[_0x2d0d9d(0x1e2)][_0x2d0d9d(0x1c1)](this[_0x2d0d9d(0x160)][_0x2d0d9d(0x1d1)],[..._0x1e65f9,..._0xc6903a,..._0x22861b],_0x39b87b&&!this[_0x2d0d9d(0x1fc)][_0x2d0d9d(0x1b0)]),_0x968148=(0x0,utils_2[_0x2d0d9d(0x1e4)])(_0x484bf6);let _0x45ad94=0x0;const _0x227abe=[];(_0x1e65f9[_0x2d0d9d(0x1a2)]||_0xc6903a[_0x2d0d9d(0x1a2)])&&this[_0x2d0d9d(0x160)]['getRepositoryId']()&&(this[_0x2d0d9d(0x1ad)]=await this['gitCommit'][_0x2d0d9d(0x207)](_0x39eb2b['message']));const _0x39aeaf=_0x968148[_0x2d0d9d(0x1a2)];let _0x46f297=0x0;while(_0x968148['length']){const _0x2cd53b=_0x968148[_0x2d0d9d(0x173)](),_0x18fcca=await this[_0x2d0d9d(0x160)]['proceedFile'](_0x2cd53b,this['mdapiUtils'][_0x2d0d9d(0x1ba)],_0x39b87b&&!this['gitCommitData'][_0x2d0d9d(0x1b0)]);_0x45ad94+=_0x18fcca[_0x2d0d9d(0x186)][_0x2d0d9d(0x1a2)]+_0x18fcca[_0x2d0d9d(0x1f5)][_0x2d0d9d(0x1a2)]+_0x18fcca[_0x2d0d9d(0x15a)][_0x2d0d9d(0x1a2)],this['stats']['added']+=_0x18fcca[_0x2d0d9d(0x186)]['length'],this[_0x2d0d9d(0x1d2)][_0x2d0d9d(0x15a)]+=_0x18fcca['modified'][_0x2d0d9d(0x1a2)],this[_0x2d0d9d(0x1d2)][_0x2d0d9d(0x1f5)]+=_0x18fcca['removed'][_0x2d0d9d(0x1a2)],_0x46f297++,_0x46f297%0x64===0x0&&this[_0x2d0d9d(0x1a4)][_0x2d0d9d(0x1d4)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x46f297,_0x39aeaf,_0x45ad94),_0x227abe[_0x2d0d9d(0x1d0)](_0x18fcca),_0x45ad94>this[_0x2d0d9d(0x1b4)]&&(await this[_0x2d0d9d(0x15c)](_0x39eb2b[_0x2d0d9d(0x1d6)],_0x39eb2b[_0x2d0d9d(0x1ac)],_0x227abe),await this[_0x2d0d9d(0x16f)][_0x2d0d9d(0x1d4)](this['prefix']+_0x2d0d9d(0x18a)+_0x45ad94+_0x2d0d9d(0x161))[_0x2d0d9d(0x152)](),_0x45ad94=0x0,_0x227abe[_0x2d0d9d(0x1fa)](0x0));}_0x227abe['length']&&(await this['sendComponents'](_0x39eb2b[_0x2d0d9d(0x1d6)],_0x39eb2b[_0x2d0d9d(0x1ac)],_0x227abe),await this[_0x2d0d9d(0x16f)][_0x2d0d9d(0x1d4)](this['prefix']+_0x2d0d9d(0x18a)+_0x45ad94+_0x2d0d9d(0x161))['send']());}async[a126_0x46c370(0x1ed)](_0xf7be64){const _0x2e9172=a126_0x46c370,_0x122191=[...this[_0x2e9172(0x1fc)][_0x2e9172(0x1c6)]],_0x194616=_0x122191[_0x2e9172(0x1a2)];let _0x563873=0x0;while(_0x122191['length']){const _0x87384f=_0x122191[_0x2e9172(0x173)]();!this['gitCommitData']['force']&&(this[_0x2e9172(0x160)][_0x2e9172(0x1b1)]()?(await this[_0x2e9172(0x1af)][_0x2e9172(0x1cf)](_0x87384f['id']),await this[_0x2e9172(0x1fe)][_0x2e9172(0x163)](this[_0x2e9172(0x1af)][_0x2e9172(0x1ba)])):(await this['gitUtils'][_0x2e9172(0x1cf)](this[_0x2e9172(0x1bf)]),await this[_0x2e9172(0x1fe)][_0x2e9172(0x163)](this[_0x2e9172(0x1af)][_0x2e9172(0x1ba)]))),await this[_0x2e9172(0x179)](_0x87384f,_0xf7be64),await this[_0x2e9172(0x1fe)][_0x2e9172(0x1a7)](),_0x563873+=0x1,await this['sfLogger'][_0x2e9172(0x1d4)](this['prefix']+_0x2e9172(0x1e7)),await this[_0x2e9172(0x16f)][_0x2e9172(0x1d4)](this[_0x2e9172(0x1b7)]+_0x2e9172(0x1a5)+this['stats'][_0x2e9172(0x1c7)]+_0x2e9172(0x17f)),await this['sfLogger'][_0x2e9172(0x1d4)](this['prefix']+'\x20Modified\x20'+this['stats']['modified']+_0x2e9172(0x17f)),await this[_0x2e9172(0x16f)][_0x2e9172(0x1d4)](this[_0x2e9172(0x1b7)]+'\x20Removed\x20'+this[_0x2e9172(0x1d2)][_0x2e9172(0x1f5)]+_0x2e9172(0x17f)),await this[_0x2e9172(0x16f)][_0x2e9172(0x1d4)](this['prefix']+_0x2e9172(0x204)+_0x563873+'/'+_0x194616+'\x20commits.')[_0x2e9172(0x152)](),this['resetStats']();}}async[a126_0x46c370(0x1cc)](){const _0x54efea=a126_0x46c370;this['gitUtils']&&await this['gitUtils'][_0x54efea(0x1a7)]()[_0x54efea(0x181)](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils'][_0x54efea(0x1a7)]()[_0x54efea(0x181)](()=>void 0x0);}async[a126_0x46c370(0x170)](_0x321a85){const _0x23609e=a126_0x46c370;this[_0x23609e(0x1fc)]=_0x321a85,this[_0x23609e(0x160)][_0x23609e(0x18f)](this[_0x23609e(0x1fc)]),this['gitApiService']=typedi_1[_0x23609e(0x1b8)][_0x23609e(0x1f0)](providers_tokens_1[_0x23609e(0x1ea)]['gitApiService']),this['config']=typedi_1[_0x23609e(0x1b8)][_0x23609e(0x1f0)](providers_tokens_1[_0x23609e(0x1ea)][_0x23609e(0x192)]),this[_0x23609e(0x16f)]=typedi_1[_0x23609e(0x1b8)]['get'](providers_tokens_1[_0x23609e(0x1ea)]['logger']),this[_0x23609e(0x1b7)]=_0x23609e(0x182)+_0x321a85[_0x23609e(0x1d8)]+_0x23609e(0x1e0)+_0x321a85[_0x23609e(0x1a0)]+_0x23609e(0x1e9)+GitCommitJob_1[_0x23609e(0x180)]+']',this['gitUtils']=new git_utils_1[(_0x23609e(0x201))](await this[_0x23609e(0x1f3)]()),this[_0x23609e(0x1fe)]=new mdapi_utils_1['MDApiUtils'](),this[_0x23609e(0x16f)]['log'](this['prefix']+_0x23609e(0x1bc));try{this[_0x23609e(0x16f)][_0x23609e(0x1d4)](this[_0x23609e(0x1b7)]+_0x23609e(0x190)),await this[_0x23609e(0x160)][_0x23609e(0x17c)](),await this[_0x23609e(0x160)][_0x23609e(0x1c8)](_0x23609e(0x171)),this[_0x23609e(0x16f)]['log'](this[_0x23609e(0x1b7)]+_0x23609e(0x184)),this[_0x23609e(0x1bf)]=await git_internal_1[_0x23609e(0x159)]['getRemoteHash'](await this[_0x23609e(0x1f3)](),this['gitCommitData'][_0x23609e(0x1a0)]),this[_0x23609e(0x1a4)]['log'](_0x23609e(0x1ca),this['lastCommitHash']);const _0x37990f=await this[_0x23609e(0x160)][_0x23609e(0x1c5)](this[_0x23609e(0x1bf)]);if(_0x37990f){this[_0x23609e(0x16f)][_0x23609e(0x1d4)](_0x23609e(0x1de)),await this[_0x23609e(0x160)][_0x23609e(0x1c8)]('Completed');return;}this[_0x23609e(0x16f)]['log'](this[_0x23609e(0x1b7)]+_0x23609e(0x1b6)+this['gitCommitData']['repositoryGit']+'.'),await this['gitUtils'][_0x23609e(0x189)](this[_0x23609e(0x1fc)]['branch'],this['gitCommitData'][_0x23609e(0x1d8)]),this[_0x23609e(0x16f)][_0x23609e(0x1d4)](this[_0x23609e(0x1b7)]+_0x23609e(0x18d));const _0x13bbec=await sfdx_utils_1['SFDX'][_0x23609e(0x194)](this['gitUtils'][_0x23609e(0x1ba)]);await this[_0x23609e(0x15e)]();!this[_0x23609e(0x16f)][_0x23609e(0x158)]()&&this[_0x23609e(0x16f)][_0x23609e(0x17b)](await salesforce_logger_v3_service_1[_0x23609e(0x162)]['createLoggerId'](sf_logger_v3_types_1[_0x23609e(0x185)]['commit']));await this[_0x23609e(0x16f)]['send']();if(_0x321a85[_0x23609e(0x1b0)]){await this['mdapiUtils'][_0x23609e(0x163)](this[_0x23609e(0x1af)]['dir']),await this[_0x23609e(0x16f)][_0x23609e(0x1d4)](this[_0x23609e(0x1b7)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')[_0x23609e(0x152)]();const _0x2aa355=(await fs_internal_1['FS'][_0x23609e(0x1f1)](this[_0x23609e(0x1fe)][_0x23609e(0x1ba)],!![]))[_0x23609e(0x199)](_0x2eec0a=>(0x0,path_1[_0x23609e(0x1f8)])(this[_0x23609e(0x1fe)]['dir'],_0x2eec0a));this[_0x23609e(0x16f)][_0x23609e(0x1d4)](this['prefix']+_0x23609e(0x1ee)+_0x2aa355[_0x23609e(0x1a2)]+_0x23609e(0x1f2)),this[_0x23609e(0x1fc)][_0x23609e(0x168)]=[],this[_0x23609e(0x1fc)]['commits']=[{'files':{'modified':_0x2aa355,'added':[],'removed':[]},'id':await this['gitUtils']['getCurrentHash'](),'message':_0x23609e(0x1d7),'username':constants_1[_0x23609e(0x178)]}];}await this[_0x23609e(0x160)][_0x23609e(0x183)]({[this[_0x23609e(0x1fc)][_0x23609e(0x196)]]:{'lastCommit':this['lastCommitHash']}}),await this['sfLogger']['log'](this[_0x23609e(0x1b7)]+_0x23609e(0x1dd)+(_0x13bbec?_0x23609e(0x1a8):'NO')+_0x23609e(0x19e))['send'](),await this[_0x23609e(0x1ed)](_0x13bbec),await this[_0x23609e(0x16f)][_0x23609e(0x1d4)](this[_0x23609e(0x1b7)]+_0x23609e(0x1d9))[_0x23609e(0x152)](),await this[_0x23609e(0x160)][_0x23609e(0x1c8)](_0x23609e(0x18e)),await this[_0x23609e(0x166)]([_0x321a85[_0x23609e(0x1ef)]],this[_0x23609e(0x192)][_0x23609e(0x15d)],_0x321a85[_0x23609e(0x1d8)],_0x321a85[_0x23609e(0x1a0)]);}catch(_0x486105){await this[_0x23609e(0x1cc)]();if(_0x486105 instanceof flosum_commit_error_1[_0x23609e(0x193)])await this[_0x23609e(0x160)][_0x23609e(0x1c8)](_0x23609e(0x18e))[_0x23609e(0x181)](()=>void 0x0),this['logger'][_0x23609e(0x1d4)](this['prefix']+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x23609e(0x1a4)][_0x23609e(0x1f6)](this[_0x23609e(0x1b7)]+_0x23609e(0x15f)+(_0x486105 instanceof api_error_1[_0x23609e(0x16e)]||_0x486105 instanceof salesforce_error_1[_0x23609e(0x1b2)]?_0x486105[_0x23609e(0x1ec)]():_0x486105)),await this['gitCommit'][_0x23609e(0x183)]({}),await this[_0x23609e(0x160)]['updateStatus'](_0x23609e(0x195))[_0x23609e(0x181)](()=>void 0x0),await this[_0x23609e(0x1cb)]([_0x321a85[_0x23609e(0x1ef)]],this[_0x23609e(0x192)][_0x23609e(0x15d)],_0x321a85[_0x23609e(0x1d8)],_0x321a85[_0x23609e(0x1a0)]);throw _0x486105;}}finally{await this[_0x23609e(0x1cc)](),await this[_0x23609e(0x16f)][_0x23609e(0x152)]()['catch'](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a126_0x46c370(0x1c2)])({'transient':!![]}),__metadata(a126_0x46c370(0x19a),[git_commit_service_1[a126_0x46c370(0x1ab)],connection_1['ProvidersFactory']])],GitCommitJob),exports[a126_0x46c370(0x19b)]=GitCommitJob;function a126_0x2ae3(){const _0xe9bf3a=['[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','updateRemoteState','\x20Fetch\x20remote\x20branch\x20hash.','LoggerTypes','inserted','CommitToFlosumCompletedNotification','info','clone','\x20Processed\x20','3129364HFHNSa','changes','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','Completed','setCommitDto','\x20Fetch\x20salesforce\x20data.','594kIyaZg','config','FlosumCommitError','isSFDXProject','Error','repositoryGit','create','Bitbucket','map','design:paramtypes','GitCommitJob','Email\x20notifications\x20are\x20disabled.','../../providers/api/bitbucket-api.service',']\x20Start\x20proceeding\x20git\x20commits.\x20','CommitToFlosumErrorNotification','branch','defineProperty','length','metadata','logger','\x20Added\x20','SalesforceCommitsManager','removeDir','YES','1196005PaYweT','__metadata','GitCommitService','message','commitId','env','gitUtils','force','getRepositoryId','SalesforceError','hasOwnProperty','MAX_COMPONENTS_PER_TICK','://','\x20Cloning\x20git\x20repository\x20from\x20','prefix','default','\x20Download\x20components\x20metadata\x20from\x20Flosum.','dir','7908680SgYFDC','\x20Start\x20Git-commit\x20job.','../utils/connection','reduce','lastCommitHash','updateFileNamesForSFDXProject','prepareGitChangedPaths','Service','__createBinding','function','checkSyncStatus','commits','added','updateStatus','credentials','Last\x20git\x20repository\x20hash\x20is\x20%s.','errorNotification','cleanUp','12mrnLgC','../../../../constants','checkoutTo','push','recordType','stats','4kNtmgH','log','../../internal/git.internal','username','sync\x20components','repository','\x20Job\x20done.','providersFactory','../../notifications/commit-to-flosum-completed.notification','isEmailNotificationsEnabled','\x20[SFDX:\x20','Branch\x20synchronized.\x20Skip.','../../providers/providers.tokens',']\x20[Branch:\x20','9843944dMwMNX','PathUtils','../../../../core','convertToCleanPaths','author','2lMOCZI','\x20Commit\x20Summary','constructor',']\x20[','Tokens','configurable','toString','proceedCommits','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','email','get','readDir','\x20files\x20before\x20sync.','getRemote','prototype','removed','error','Logger','relative','../../../shared/utils','splice','describeCommit','gitCommitData','getRecordTypes','mdapiUtils','isLoggedIn','resetStats','GitUtils','248621imoqTv','../../salesforce/errors/salesforce.error','\x20Proceeded\x20','provider','readFilesByFilename','createCommit','../../salesforce/types/sf-logger-v3-types','send','typedi','getOwnPropertyDescriptor','../errors/flosum-commit.error','getGitShellAuthorizationString','files','getLoggerId','Git','modified','__esModule','sendComponents','gitProvider','fetchCommits','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','gitCommit','\x20components.','SalesforceLogger3','prepareMdapi','__decorate','../../salesforce/utils/sfdx.utils','completeNotification','../services/git-commit.service','fileNames','decorate','1749726TNwDRw','(((.+)+)+)+$','../../parsers/utils','81152oCfuuz','ApiError','sfLogger','run','In\x20Progress','execute','shift','flat','object','fetchComponentsMetadata','../utils/git.utils','DEFAULT_GIT_USER_NAME','handleCommit','../../../../core/errors/api.error','setLoggerId','fetchRepositoryOrBranchData','call','../../notifications/commit-to-flosum-error.notification','\x20components','name','catch'];a126_0x2ae3=function(){return _0xe9bf3a;};return a126_0x2ae3();}