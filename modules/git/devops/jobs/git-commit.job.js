const a107_0x5782f8=a107_0x2a75;function a107_0x2a75(_0x1e8d0b,_0x2268b6){const _0x1f576f=a107_0x3493();return a107_0x2a75=function(_0x158088,_0x5d6a7b){_0x158088=_0x158088-0xc7;let _0x3493ef=_0x1f576f[_0x158088];return _0x3493ef;},a107_0x2a75(_0x1e8d0b,_0x2268b6);}(function(_0x333db3,_0x468d22){const _0x46d910=a107_0x2a75,_0x5045bd=_0x333db3();while(!![]){try{const _0xed663c=-parseInt(_0x46d910(0xdd))/0x1+parseInt(_0x46d910(0x13e))/0x2*(parseInt(_0x46d910(0xde))/0x3)+-parseInt(_0x46d910(0x11c))/0x4*(parseInt(_0x46d910(0x101))/0x5)+-parseInt(_0x46d910(0x154))/0x6*(parseInt(_0x46d910(0x131))/0x7)+parseInt(_0x46d910(0x160))/0x8+parseInt(_0x46d910(0xce))/0x9*(parseInt(_0x46d910(0x14c))/0xa)+parseInt(_0x46d910(0x132))/0xb*(parseInt(_0x46d910(0x166))/0xc);if(_0xed663c===_0x468d22)break;else _0x5045bd['push'](_0x5045bd['shift']());}catch(_0x446c12){_0x5045bd['push'](_0x5045bd['shift']());}}}(a107_0x3493,0xd31db));const a107_0x5d6a7b=(function(){let _0x205fc8=!![];return function(_0x534ba1,_0x172b36){const _0x3ea865=_0x205fc8?function(){const _0x1059d0=a107_0x2a75;if(_0x172b36){const _0x26e901=_0x172b36[_0x1059d0(0x12e)](_0x534ba1,arguments);return _0x172b36=null,_0x26e901;}}:function(){};return _0x205fc8=![],_0x3ea865;};}()),a107_0x158088=a107_0x5d6a7b(this,function(){const _0x48b01a=a107_0x2a75;return a107_0x158088[_0x48b01a(0xf1)]()[_0x48b01a(0xcb)](_0x48b01a(0x11b))[_0x48b01a(0xf1)]()[_0x48b01a(0xea)](a107_0x158088)[_0x48b01a(0xcb)](_0x48b01a(0x11b));});a107_0x158088();'use strict';function a107_0x3493(){const _0x331161=['../utils/git.utils','providersFactory','updateRemoteState','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository',']\x20[','provider','Service','branch','sendComponents','1988630CKqulF','sync\x20components','email','Logger','log','removed','fetchComponentsMetadata','changes','6702ibGQhD','commits','Tokens','added','relative','../../salesforce/services/salesforce-logger-v3.service','getLoggerId','GitCommitJob','In\x20Progress','Completed','default','removeDir','12269976XdGlMe','flat','\x20[SFDX:\x20','files','commitId','../../parsers/utils','3743556OwNrYv','getProtocol','__decorate','resetStats','lastCommitHash','values','\x20files\x20before\x20sync.','SalesforceLogger3','search','../../salesforce/errors/salesforce.error','../../providers/types/git-provider','27IWUzxJ','DEFAULT_GIT_USER_NAME','decorate','gitApiService','gitCommitData','../../salesforce/utils/sfdx.utils','configurable','../../../../constants','send','\x20Fetch\x20salesforce\x20data.','modified','prefix','\x20Download\x20components\x20metadata\x20from\x20Flosum.','Last\x20git\x20repository\x20hash\x20is\x20%s.','username','1129352bfLWdu','3bImfrk','\x20Processed\x20','typedi','fetchCommits','hasOwnProperty','writable','handleCommit','gitUtils','MDApiUtils','LoggerTypes','describeCommit','../../../../core/errors/api.error','constructor','prepareMdapi','../errors/flosum-commit.error','force','defineProperty','\x20Start\x20Git-commit\x20job.','repository','toString','BitbucketApiService','getRepositoryId','design:paramtypes','convertToCleanPaths','stats','../../../shared/utils','call','__metadata','config','getGitShellAuthorizationString','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','updateFileNamesForSFDXProject','../services/git-commit.service','metadata','\x20Modified\x20','540410ZQVEHx','credentials','updateStatus','cleanUp','\x20components.','\x20components','clone','\x20Added\x20','inserted','ApiError','getOwnPropertyDescriptor','isSFDXProject','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','setLoggerId','\x20Job\x20done.','checkSyncStatus','../../providers/api/bitbucket-api.service',']\x20Start\x20proceeding\x20git\x20commits.\x20','sfLogger','create','logger','../../internal/fs.internal','__esModule','length','FlosumCommitError','map','(((.+)+)+)+$','36ixwvyV','ProvidersFactory','getRemote','__createBinding','\x20Commit\x20Summary','splice','get','name','reduce','Git','../../salesforce/types/sf-logger-v3-types','fileNames','proceedCommits','MAX_COMPONENTS_PER_TICK','push','mdapiUtils','SFDX','Bitbucket','apply','function','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','10759kvQnKL','44JqRVDU','commit','dir','author','replace','error','Branch\x20synchronized.\x20Skip.','gitCommit','repositoryGit','readDir','catch','../utils/git-commit.utils','2610924DoVOOo','message','shift','prepareGitChangedPaths','getCurrentHash'];a107_0x3493=function(){return _0x331161;};return a107_0x3493();}var __createBinding=this&&this[a107_0x5782f8(0x11f)]||(Object[a107_0x5782f8(0x114)]?function(_0x96e3e2,_0x55442a,_0x1d1fa4,_0x333afb){const _0x43410c=a107_0x5782f8;if(_0x333afb===undefined)_0x333afb=_0x1d1fa4;var _0x4f2ac5=Object[_0x43410c(0x10b)](_0x55442a,_0x1d1fa4);(!_0x4f2ac5||(_0x43410c(0x122)in _0x4f2ac5?!_0x55442a[_0x43410c(0x117)]:_0x4f2ac5[_0x43410c(0xe3)]||_0x4f2ac5[_0x43410c(0xd4)]))&&(_0x4f2ac5={'enumerable':!![],'get':function(){return _0x55442a[_0x1d1fa4];}}),Object[_0x43410c(0xee)](_0x96e3e2,_0x333afb,_0x4f2ac5);}:function(_0x233ee1,_0x1a2d67,_0x3d303e,_0xadcd75){if(_0xadcd75===undefined)_0xadcd75=_0x3d303e;_0x233ee1[_0xadcd75]=_0x1a2d67[_0x3d303e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a107_0x5782f8(0x114)]?function(_0x46c561,_0x42ae74){Object['defineProperty'](_0x46c561,'default',{'enumerable':!![],'value':_0x42ae74});}:function(_0x5b5c68,_0x55ac27){_0x5b5c68['default']=_0x55ac27;}),__decorate=this&&this[a107_0x5782f8(0x168)]||function(_0x2d8881,_0xad6aa8,_0x1d5af3,_0x467fa4){const _0x46f999=a107_0x5782f8;var _0x5cda73=arguments[_0x46f999(0x118)],_0x56b945=_0x5cda73<0x3?_0xad6aa8:_0x467fa4===null?_0x467fa4=Object[_0x46f999(0x10b)](_0xad6aa8,_0x1d5af3):_0x467fa4,_0x82ec83;if(typeof Reflect==='object'&&typeof Reflect[_0x46f999(0xd0)]===_0x46f999(0x12f))_0x56b945=Reflect[_0x46f999(0xd0)](_0x2d8881,_0xad6aa8,_0x1d5af3,_0x467fa4);else{for(var _0x5771a9=_0x2d8881[_0x46f999(0x118)]-0x1;_0x5771a9>=0x0;_0x5771a9--)if(_0x82ec83=_0x2d8881[_0x5771a9])_0x56b945=(_0x5cda73<0x3?_0x82ec83(_0x56b945):_0x5cda73>0x3?_0x82ec83(_0xad6aa8,_0x1d5af3,_0x56b945):_0x82ec83(_0xad6aa8,_0x1d5af3))||_0x56b945;}return _0x5cda73>0x3&&_0x56b945&&Object['defineProperty'](_0xad6aa8,_0x1d5af3,_0x56b945),_0x56b945;},__importStar=this&&this['__importStar']||function(_0x5895dc){const _0xacc8aa=a107_0x5782f8;if(_0x5895dc&&_0x5895dc[_0xacc8aa(0x117)])return _0x5895dc;var _0x1749cf={};if(_0x5895dc!=null){for(var _0x58aacf in _0x5895dc)if(_0x58aacf!==_0xacc8aa(0x15e)&&Object['prototype'][_0xacc8aa(0xe2)][_0xacc8aa(0xf8)](_0x5895dc,_0x58aacf))__createBinding(_0x1749cf,_0x5895dc,_0x58aacf);}return __setModuleDefault(_0x1749cf,_0x5895dc),_0x1749cf;},__metadata=this&&this[a107_0x5782f8(0xf9)]||function(_0x2ed325,_0x315901){const _0x2c55d8=a107_0x5782f8;if(typeof Reflect==='object'&&typeof Reflect[_0x2c55d8(0xff)]==='function')return Reflect[_0x2c55d8(0xff)](_0x2ed325,_0x315901);},GitCommitJob_1;Object[a107_0x5782f8(0xee)](exports,a107_0x5782f8(0x117),{'value':!![]}),exports[a107_0x5782f8(0x15b)]=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a107_0x5782f8(0x116)),salesforce_logger_v3_service_1=require(a107_0x5782f8(0x159)),utils_1=require(a107_0x5782f8(0xf7)),path_1=require('path'),typedi_1=__importStar(require(a107_0x5782f8(0xe0))),constants_1=require(a107_0x5782f8(0xd5)),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_commit_utils_1=require(a107_0x5782f8(0x13d)),git_utils_1=require(a107_0x5782f8(0x143)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require(a107_0x5782f8(0xe9)),salesforce_error_1=require(a107_0x5782f8(0xcc)),git_commit_service_1=require(a107_0x5782f8(0xfe)),flosum_commit_error_1=require(a107_0x5782f8(0xec)),bitbucket_api_service_1=require(a107_0x5782f8(0x111)),git_provider_1=require(a107_0x5782f8(0xcd)),sfdx_utils_1=require(a107_0x5782f8(0xd3)),utils_2=require(a107_0x5782f8(0x165)),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require('../../providers/providers.tokens'),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require(a107_0x5782f8(0x126));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x270b15,_0x298790){const _0x427fa6=a107_0x5782f8;this[_0x427fa6(0x139)]=_0x270b15,this[_0x427fa6(0x144)]=_0x298790,this[_0x427fa6(0x129)]=+(process['env'][_0x427fa6(0x129)]||0xbb8),this['logger']=new core_1[(_0x427fa6(0x14f))](GitCommitJob_1[_0x427fa6(0x123)]),this[_0x427fa6(0x164)]='',this[_0x427fa6(0xf6)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x53bfff=a107_0x5782f8,{repositoryGit:_0x475ba5}=this[_0x53bfff(0xd2)],_0x9864e4=typedi_1['default'][_0x53bfff(0x122)](providers_tokens_1['Tokens'][_0x53bfff(0x102)]);if(this[_0x53bfff(0xd2)][_0x53bfff(0x148)]===git_provider_1['GitProvider'][_0x53bfff(0x12d)]){const _0x4ebec8=typedi_1[_0x53bfff(0x15e)]['get'](bitbucket_api_service_1[_0x53bfff(0xf2)]);await _0x4ebec8['isLoggedIn']();}return _0x475ba5[_0x53bfff(0x136)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x53bfff(0x167)])(_0x475ba5)+'://'+_0x9864e4[_0x53bfff(0xfb)]()+'@');}[a107_0x5782f8(0x169)](){const _0x4619ea=a107_0x5782f8;this[_0x4619ea(0xf6)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x5782f8(0xfd)](){const _0x235eb9=a107_0x5782f8,_0x541a0c=[...this[_0x235eb9(0xd2)][_0x235eb9(0x127)]];this[_0x235eb9(0xd2)][_0x235eb9(0x127)]=[];for(const _0x34d8fb of _0x541a0c){this[_0x235eb9(0xd2)][_0x235eb9(0x127)][_0x235eb9(0x12a)](...await(0x0,utils_2['readFilesByFilename'])(_0x34d8fb,this[_0x235eb9(0x12b)][_0x235eb9(0x134)]));}}async[a107_0x5782f8(0xe1)](){const _0x5e32db=a107_0x5782f8;if(this['gitCommitData'][_0x5e32db(0xed)])return;const _0x1a7582=[];for(const _0x523478 of this[_0x5e32db(0xd2)][_0x5e32db(0x155)]){const _0x2a6fd8=await this[_0x5e32db(0xe5)][_0x5e32db(0xe8)](_0x523478['id']);_0x523478['username']=_0x2a6fd8[_0x5e32db(0x135)],_0x523478['message']=_0x2a6fd8['message'],_0x523478['files']=_0x2a6fd8[_0x5e32db(0x153)],_0x523478[_0x5e32db(0x14e)]=_0x2a6fd8[_0x5e32db(0x14e)];if(_0x523478[_0x5e32db(0x14e)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1[(_0x5e32db(0x119))]();_0x1a7582['push'](...Object[_0x5e32db(0xc8)](_0x523478[_0x5e32db(0x163)])[_0x5e32db(0x161)]());}this[_0x5e32db(0xd2)]['fileNames']=[...new Set((0x0,git_commit_utils_1['prepareGitChangedPaths'])(_0x1a7582))];}async[a107_0x5782f8(0x14b)](_0x346cb3,_0x2af758,_0x45fc37){const _0x36a28d=a107_0x5782f8,_0x374178=_0x45fc37[_0x36a28d(0x124)]((_0x544953,_0x5605b1)=>{const _0x368830=_0x36a28d;return _0x544953[_0x368830(0x109)][_0x368830(0x12a)](..._0x5605b1['inserted']),_0x544953[_0x368830(0xd8)][_0x368830(0x12a)](..._0x5605b1[_0x368830(0xd8)]),_0x544953[_0x368830(0x151)][_0x368830(0x12a)](..._0x5605b1[_0x368830(0x151)]),_0x544953;},{'inserted':[],'modified':[],'removed':[]}),_0x790922=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this['gitCommit']['getRecordTypes'](),'branchId':this[_0x36a28d(0x139)]['getBranchId'](),'repositoryId':this['gitCommit'][_0x36a28d(0xf3)](),'logger':this[_0x36a28d(0x113)],'commitId':this['commitId']});await _0x790922[_0x36a28d(0x128)]([{'author':_0x346cb3,'message':_0x2af758,'inserted':_0x374178[_0x36a28d(0x109)],'modified':_0x374178['modified'],'removed':_0x374178[_0x36a28d(0x151)]}]);}async[a107_0x5782f8(0xe4)](_0x3487b9,_0x142a97){const _0x532199=a107_0x5782f8;await this['sfLogger'][_0x532199(0x150)](this[_0x532199(0xd9)]+_0x532199(0xda))[_0x532199(0xd6)](),await this['gitCommit'][_0x532199(0x152)](_0x142a97);const {added:_0x36ec5f,modified:_0x161ab3,removed:_0x5a809d}=_0x3487b9[_0x532199(0x163)];_0x142a97&&_0x161ab3[_0x532199(0x12a)](..._0x5a809d['splice'](0x0));const _0x44c0e3=(0x0,utils_2[_0x532199(0xf5)])((0x0,git_commit_utils_1[_0x532199(0x141)])([..._0x36ec5f,..._0x161ab3,..._0x5a809d],_0x142a97&&!this[_0x532199(0xd2)][_0x532199(0xed)]));let _0x8a4c0=0x0;const _0x53e4a1=[];(_0x36ec5f[_0x532199(0x118)]||_0x161ab3[_0x532199(0x118)])&&this[_0x532199(0x139)][_0x532199(0xf3)]()&&(this['commitId']=await this[_0x532199(0x139)]['createCommit'](_0x3487b9[_0x532199(0x13f)]));const _0x3f2a7f=_0x44c0e3[_0x532199(0x118)];let _0x86565b=0x0;while(_0x44c0e3[_0x532199(0x118)]){const _0x1fc13e=_0x44c0e3['shift'](),_0x28486a=await this[_0x532199(0x139)]['proceedFile'](_0x1fc13e,this[_0x532199(0x12b)][_0x532199(0x134)],_0x142a97&&!this[_0x532199(0xd2)]['force']);_0x8a4c0+=_0x28486a['inserted'][_0x532199(0x118)]+_0x28486a[_0x532199(0x151)]['length']+_0x28486a['modified'][_0x532199(0x118)],this[_0x532199(0xf6)]['added']+=_0x28486a[_0x532199(0x109)][_0x532199(0x118)],this[_0x532199(0xf6)][_0x532199(0xd8)]+=_0x28486a[_0x532199(0xd8)][_0x532199(0x118)],this[_0x532199(0xf6)][_0x532199(0x151)]+=_0x28486a[_0x532199(0x151)][_0x532199(0x118)],_0x86565b++,_0x86565b%0x64===0x0&&this[_0x532199(0x115)][_0x532199(0x150)](_0x532199(0xfc),_0x86565b,_0x3f2a7f,_0x8a4c0),_0x53e4a1[_0x532199(0x12a)](_0x28486a),_0x8a4c0>this[_0x532199(0x129)]&&(await this[_0x532199(0x14b)](_0x3487b9[_0x532199(0xdc)],_0x3487b9['message'],_0x53e4a1),await this['sfLogger'][_0x532199(0x150)](this[_0x532199(0xd9)]+_0x532199(0xdf)+_0x8a4c0+_0x532199(0x105))['send'](),_0x8a4c0=0x0,_0x53e4a1[_0x532199(0x121)](0x0));}_0x53e4a1[_0x532199(0x118)]&&(await this[_0x532199(0x14b)](_0x3487b9[_0x532199(0xdc)],_0x3487b9[_0x532199(0x13f)],_0x53e4a1),await this[_0x532199(0x113)][_0x532199(0x150)](this['prefix']+_0x532199(0xdf)+_0x8a4c0+_0x532199(0x105))['send']());}async['proceedCommits'](_0x57c27a){const _0x463d23=a107_0x5782f8,_0xe02b0c=[...this[_0x463d23(0xd2)]['commits']],_0x1b810e=_0xe02b0c[_0x463d23(0x118)];let _0xae20f2=0x0;while(_0xe02b0c[_0x463d23(0x118)]){const _0x3a5ee0=_0xe02b0c[_0x463d23(0x140)]();!this[_0x463d23(0xd2)][_0x463d23(0xed)]&&(this[_0x463d23(0x139)][_0x463d23(0xf3)]()?(await this[_0x463d23(0xe5)]['checkoutTo'](_0x3a5ee0['id']),await this['mdapiUtils'][_0x463d23(0xeb)](this[_0x463d23(0xe5)][_0x463d23(0x134)])):(await this['gitUtils']['checkoutTo'](this[_0x463d23(0xc7)]),await this[_0x463d23(0x12b)][_0x463d23(0xeb)](this[_0x463d23(0xe5)][_0x463d23(0x134)]))),await this[_0x463d23(0xe4)](_0x3a5ee0,_0x57c27a),await this['mdapiUtils'][_0x463d23(0x15f)](),_0xae20f2+=0x1,await this[_0x463d23(0x113)]['log'](this[_0x463d23(0xd9)]+_0x463d23(0x120)),await this[_0x463d23(0x113)]['log'](this[_0x463d23(0xd9)]+_0x463d23(0x108)+this[_0x463d23(0xf6)][_0x463d23(0x157)]+_0x463d23(0x106)),await this['sfLogger'][_0x463d23(0x150)](this['prefix']+_0x463d23(0x100)+this[_0x463d23(0xf6)][_0x463d23(0xd8)]+'\x20components'),await this[_0x463d23(0x113)][_0x463d23(0x150)](this[_0x463d23(0xd9)]+'\x20Removed\x20'+this[_0x463d23(0xf6)][_0x463d23(0x151)]+'\x20components'),await this['sfLogger'][_0x463d23(0x150)](this[_0x463d23(0xd9)]+'\x20Proceeded\x20'+_0xae20f2+'/'+_0x1b810e+'\x20commits.')['send'](),this[_0x463d23(0x169)]();}}async['cleanUp'](){const _0xbe3aa0=a107_0x5782f8;this[_0xbe3aa0(0xe5)]&&await this[_0xbe3aa0(0xe5)][_0xbe3aa0(0x15f)]()[_0xbe3aa0(0x13c)](()=>void 0x0),this[_0xbe3aa0(0x12b)]&&await this[_0xbe3aa0(0x12b)][_0xbe3aa0(0x15f)]()[_0xbe3aa0(0x13c)](()=>void 0x0);}async['run'](_0x2dcf27){const _0x3aa3c9=a107_0x5782f8;this[_0x3aa3c9(0xd2)]=_0x2dcf27,this['gitCommit']['setCommitDto'](this['gitCommitData']),this[_0x3aa3c9(0xd1)]=typedi_1['default'][_0x3aa3c9(0x122)](providers_tokens_1[_0x3aa3c9(0x156)]['gitApiService']),this['config']=typedi_1[_0x3aa3c9(0x15e)][_0x3aa3c9(0x122)](providers_tokens_1[_0x3aa3c9(0x156)][_0x3aa3c9(0xfa)]),this[_0x3aa3c9(0x113)]=typedi_1[_0x3aa3c9(0x15e)][_0x3aa3c9(0x122)](providers_tokens_1[_0x3aa3c9(0x156)][_0x3aa3c9(0x115)]),this[_0x3aa3c9(0xd9)]=_0x3aa3c9(0x10d)+_0x2dcf27[_0x3aa3c9(0xf0)]+']\x20[Branch:\x20'+_0x2dcf27[_0x3aa3c9(0x14a)]+_0x3aa3c9(0x147)+GitCommitJob_1[_0x3aa3c9(0x123)]+']',this[_0x3aa3c9(0xe5)]=new git_utils_1['GitUtils'](await this[_0x3aa3c9(0x11e)]()),this[_0x3aa3c9(0x12b)]=new mdapi_utils_1[(_0x3aa3c9(0xe6))](),this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+_0x3aa3c9(0xef));try{this['sfLogger'][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+_0x3aa3c9(0xd7)),await this[_0x3aa3c9(0x139)]['fetchRepositoryOrBranchData'](),await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x103)](_0x3aa3c9(0x15c)),this['sfLogger'][_0x3aa3c9(0x150)](this['prefix']+'\x20Fetch\x20remote\x20branch\x20hash.'),this[_0x3aa3c9(0xc7)]=await git_internal_1[_0x3aa3c9(0x125)]['getRemoteHash'](await this[_0x3aa3c9(0x11e)](),this['gitCommitData'][_0x3aa3c9(0x14a)]),this['logger'][_0x3aa3c9(0x150)](_0x3aa3c9(0xdb),this[_0x3aa3c9(0xc7)]);const _0x16cdf1=await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x110)](this[_0x3aa3c9(0xc7)]);if(_0x16cdf1){this['sfLogger'][_0x3aa3c9(0x150)](_0x3aa3c9(0x138)),await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x103)](_0x3aa3c9(0x15d));return;}this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this[_0x3aa3c9(0xd2)][_0x3aa3c9(0x13a)]+'.'),await this[_0x3aa3c9(0xe5)][_0x3aa3c9(0x107)](this[_0x3aa3c9(0xd2)][_0x3aa3c9(0x14a)],this[_0x3aa3c9(0xd2)][_0x3aa3c9(0xf0)]),this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+'\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.');const _0x19d274=await sfdx_utils_1[_0x3aa3c9(0x12c)][_0x3aa3c9(0x10c)](this[_0x3aa3c9(0xe5)][_0x3aa3c9(0x134)]);await this[_0x3aa3c9(0xe1)]();!this[_0x3aa3c9(0x113)][_0x3aa3c9(0x15a)]()&&this[_0x3aa3c9(0x113)][_0x3aa3c9(0x10e)](await salesforce_logger_v3_service_1[_0x3aa3c9(0xca)]['createLoggerId'](sf_logger_v3_types_1[_0x3aa3c9(0xe7)][_0x3aa3c9(0x133)]));await this['sfLogger']['send']();if(_0x2dcf27[_0x3aa3c9(0xed)]){await this[_0x3aa3c9(0x12b)][_0x3aa3c9(0xeb)](this[_0x3aa3c9(0xe5)][_0x3aa3c9(0x134)]),await this['sfLogger']['log'](this[_0x3aa3c9(0xd9)]+_0x3aa3c9(0x146))[_0x3aa3c9(0xd6)]();const _0x42ecd8=(await fs_internal_1['FS'][_0x3aa3c9(0x13b)](this['mdapiUtils'][_0x3aa3c9(0x134)],!![]))[_0x3aa3c9(0x11a)](_0x1122e5=>(0x0,path_1[_0x3aa3c9(0x158)])(this['mdapiUtils'][_0x3aa3c9(0x134)],_0x1122e5));this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this['prefix']+_0x3aa3c9(0x130)+_0x42ecd8[_0x3aa3c9(0x118)]+_0x3aa3c9(0xc9)),this[_0x3aa3c9(0xd2)][_0x3aa3c9(0x127)]=[],this[_0x3aa3c9(0xd2)]['commits']=[{'files':{'modified':_0x42ecd8,'added':[],'removed':[]},'id':await this[_0x3aa3c9(0xe5)][_0x3aa3c9(0x142)](),'message':_0x3aa3c9(0x14d),'username':constants_1[_0x3aa3c9(0xcf)]}];}await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x145)]({[this[_0x3aa3c9(0xd2)]['repositoryGit']]:{'lastCommit':this['lastCommitHash']}}),await this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+_0x3aa3c9(0x162)+(_0x19d274?'YES':'NO')+_0x3aa3c9(0x112))[_0x3aa3c9(0xd6)](),await this[_0x3aa3c9(0x128)](_0x19d274),await this[_0x3aa3c9(0x113)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+_0x3aa3c9(0x10f))[_0x3aa3c9(0xd6)](),await this['gitCommit'][_0x3aa3c9(0x103)](_0x3aa3c9(0x15d));}catch(_0x210c2c){await this[_0x3aa3c9(0x104)]();if(_0x210c2c instanceof flosum_commit_error_1[_0x3aa3c9(0x119)])await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x103)](_0x3aa3c9(0x15d))[_0x3aa3c9(0x13c)](()=>void 0x0),this[_0x3aa3c9(0x115)][_0x3aa3c9(0x150)](this[_0x3aa3c9(0xd9)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x3aa3c9(0x115)][_0x3aa3c9(0x137)](this[_0x3aa3c9(0xd9)]+'\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20'+(_0x210c2c instanceof api_error_1[_0x3aa3c9(0x10a)]||_0x210c2c instanceof salesforce_error_1['SalesforceError']?_0x210c2c[_0x3aa3c9(0xf1)]():_0x210c2c)),await this['gitCommit'][_0x3aa3c9(0x145)]({}),await this[_0x3aa3c9(0x139)][_0x3aa3c9(0x103)]('Error')['catch'](()=>void 0x0);throw _0x210c2c;}}finally{await this['cleanUp'](),await this[_0x3aa3c9(0x113)][_0x3aa3c9(0xd6)]()[_0x3aa3c9(0x13c)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x5782f8(0x149)])({'transient':!![]}),__metadata(a107_0x5782f8(0xf4),[git_commit_service_1['GitCommitService'],connection_1[a107_0x5782f8(0x11d)]])],GitCommitJob),exports[a107_0x5782f8(0x15b)]=GitCommitJob;