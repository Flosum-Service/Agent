const a107_0x3bb60e=a107_0xcce8;(function(_0x45494a,_0x199426){const _0x13dc50=a107_0xcce8,_0x50f756=_0x45494a();while(!![]){try{const _0x3711c2=-parseInt(_0x13dc50(0x103))/0x1+parseInt(_0x13dc50(0x108))/0x2+parseInt(_0x13dc50(0xb4))/0x3*(-parseInt(_0x13dc50(0xf4))/0x4)+parseInt(_0x13dc50(0x9e))/0x5+-parseInt(_0x13dc50(0xee))/0x6*(parseInt(_0x13dc50(0xa1))/0x7)+-parseInt(_0x13dc50(0xe0))/0x8*(-parseInt(_0x13dc50(0x11a))/0x9)+parseInt(_0x13dc50(0xd6))/0xa*(parseInt(_0x13dc50(0xa5))/0xb);if(_0x3711c2===_0x199426)break;else _0x50f756['push'](_0x50f756['shift']());}catch(_0x235c30){_0x50f756['push'](_0x50f756['shift']());}}}(a107_0x40fc,0x47c9f));const a107_0x1b1897=(function(){let _0x818817=!![];return function(_0xd4dea4,_0x336917){const _0x13011a=_0x818817?function(){const _0x43bc9b=a107_0xcce8;if(_0x336917){const _0x1b1f2b=_0x336917[_0x43bc9b(0xb0)](_0xd4dea4,arguments);return _0x336917=null,_0x1b1f2b;}}:function(){};return _0x818817=![],_0x13011a;};}()),a107_0x27e329=a107_0x1b1897(this,function(){const _0x47da31=a107_0xcce8;return a107_0x27e329[_0x47da31(0x11e)]()[_0x47da31(0x95)](_0x47da31(0x119))[_0x47da31(0x11e)]()[_0x47da31(0xa8)](a107_0x27e329)['search']('(((.+)+)+)+$');});a107_0x27e329();function a107_0xcce8(_0x119b40,_0x2561d6){const _0x4a5600=a107_0x40fc();return a107_0xcce8=function(_0x27e329,_0x1b1897){_0x27e329=_0x27e329-0x94;let _0x40fc4b=_0x4a5600[_0x27e329];return _0x40fc4b;},a107_0xcce8(_0x119b40,_0x2561d6);}'use strict';var __createBinding=this&&this[a107_0x3bb60e(0xdc)]||(Object['create']?function(_0x4f109b,_0x2d95d3,_0x58e24d,_0x1a5760){const _0x3a32ad=a107_0x3bb60e;if(_0x1a5760===undefined)_0x1a5760=_0x58e24d;var _0x4ff1fc=Object[_0x3a32ad(0xdf)](_0x2d95d3,_0x58e24d);(!_0x4ff1fc||('get'in _0x4ff1fc?!_0x2d95d3['__esModule']:_0x4ff1fc[_0x3a32ad(0x9a)]||_0x4ff1fc[_0x3a32ad(0x13b)]))&&(_0x4ff1fc={'enumerable':!![],'get':function(){return _0x2d95d3[_0x58e24d];}}),Object[_0x3a32ad(0x11c)](_0x4f109b,_0x1a5760,_0x4ff1fc);}:function(_0x3aebf9,_0x37c7b2,_0x28dafe,_0xe6c357){if(_0xe6c357===undefined)_0xe6c357=_0x28dafe;_0x3aebf9[_0xe6c357]=_0x37c7b2[_0x28dafe];}),__setModuleDefault=this&&this[a107_0x3bb60e(0x139)]||(Object['create']?function(_0x4d3a64,_0x3d245b){const _0x565464=a107_0x3bb60e;Object[_0x565464(0x11c)](_0x4d3a64,_0x565464(0x124),{'enumerable':!![],'value':_0x3d245b});}:function(_0x48621b,_0x426a0b){_0x48621b['default']=_0x426a0b;}),__decorate=this&&this['__decorate']||function(_0x3f74f5,_0x52d777,_0x4f3e02,_0x196d49){const _0x14c756=a107_0x3bb60e;var _0x1ef640=arguments[_0x14c756(0x9b)],_0x154ad7=_0x1ef640<0x3?_0x52d777:_0x196d49===null?_0x196d49=Object[_0x14c756(0xdf)](_0x52d777,_0x4f3e02):_0x196d49,_0x5bc3ab;if(typeof Reflect===_0x14c756(0x96)&&typeof Reflect[_0x14c756(0x97)]===_0x14c756(0xba))_0x154ad7=Reflect[_0x14c756(0x97)](_0x3f74f5,_0x52d777,_0x4f3e02,_0x196d49);else{for(var _0x7e58a4=_0x3f74f5['length']-0x1;_0x7e58a4>=0x0;_0x7e58a4--)if(_0x5bc3ab=_0x3f74f5[_0x7e58a4])_0x154ad7=(_0x1ef640<0x3?_0x5bc3ab(_0x154ad7):_0x1ef640>0x3?_0x5bc3ab(_0x52d777,_0x4f3e02,_0x154ad7):_0x5bc3ab(_0x52d777,_0x4f3e02))||_0x154ad7;}return _0x1ef640>0x3&&_0x154ad7&&Object['defineProperty'](_0x52d777,_0x4f3e02,_0x154ad7),_0x154ad7;},__importStar=this&&this['__importStar']||function(_0x31a448){const _0x1b6986=a107_0x3bb60e;if(_0x31a448&&_0x31a448[_0x1b6986(0x10c)])return _0x31a448;var _0xfcad72={};if(_0x31a448!=null){for(var _0x4b3e3b in _0x31a448)if(_0x4b3e3b!==_0x1b6986(0x124)&&Object[_0x1b6986(0xcc)][_0x1b6986(0xf0)][_0x1b6986(0x10e)](_0x31a448,_0x4b3e3b))__createBinding(_0xfcad72,_0x31a448,_0x4b3e3b);}return __setModuleDefault(_0xfcad72,_0x31a448),_0xfcad72;},__metadata=this&&this[a107_0x3bb60e(0x137)]||function(_0x1a076c,_0x4fb47f){const _0x42dff7=a107_0x3bb60e;if(typeof Reflect===_0x42dff7(0x96)&&typeof Reflect[_0x42dff7(0x99)]===_0x42dff7(0xba))return Reflect[_0x42dff7(0x99)](_0x1a076c,_0x4fb47f);},GitCommitJob_1;Object[a107_0x3bb60e(0x11c)](exports,a107_0x3bb60e(0x10c),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require(a107_0x3bb60e(0x94)),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require(a107_0x3bb60e(0xdd)),utils_1=require(a107_0x3bb60e(0xf1)),path_1=require(a107_0x3bb60e(0x126)),typedi_1=__importStar(require(a107_0x3bb60e(0xc6))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require(a107_0x3bb60e(0x13d)),git_commit_utils_1=require(a107_0x3bb60e(0x131)),git_utils_1=require(a107_0x3bb60e(0x118)),mdapi_utils_1=require(a107_0x3bb60e(0x11d)),api_error_1=require(a107_0x3bb60e(0xac)),salesforce_error_1=require(a107_0x3bb60e(0xec)),git_commit_service_1=require(a107_0x3bb60e(0xc8)),flosum_commit_error_1=require(a107_0x3bb60e(0x128)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a107_0x3bb60e(0xed)),sfdx_utils_1=require(a107_0x3bb60e(0xfb)),utils_2=require(a107_0x3bb60e(0xe1)),git_internal_1=require(a107_0x3bb60e(0xf5)),providers_tokens_1=require('../../providers/providers.tokens'),connection_1=require(a107_0x3bb60e(0x109)),sf_logger_v3_types_1=require(a107_0x3bb60e(0xfd));function a107_0x40fc(){const _0x3b4d50=['prototype','\x20Fetch\x20remote\x20branch\x20hash.','getRepositoryId','fileNames','ApiError','message','createLoggerId','://','Git','Completed','4210980cKejIh','removeDir','design:paramtypes','getCurrentHash','credentials','\x20Download\x20components\x20metadata\x20from\x20Flosum.','__createBinding','../../salesforce/services/salesforce-logger-v3.service','reduce','getOwnPropertyDescriptor','648832tOBlPF','../../parsers/utils','Last\x20git\x20repository\x20hash\x20is\x20%s.','getRecordTypes','GitProvider','catch','createCommit','removed','logger','commitId','files','SalesforceCommitsManager','../../salesforce/errors/salesforce.error','../../providers/types/git-provider','53166ClRsqF','flat','hasOwnProperty','../../../shared/utils','\x20commits.','fetchCommits','104644ZTYJYO','../../internal/git.internal','BitbucketApiService','describeCommit','\x20Fetch\x20salesforce\x20data.','sync\x20components','map','../../salesforce/utils/sfdx.utils','\x20Proceeded\x20','../../salesforce/types/sf-logger-v3-types','name','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','getRemote','proceedFile','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','83102HhFvWc','prepareGitChangedPaths','email','sfLogger','config','140430pTKnKo','../utils/connection','mdapiUtils','getBranchId','__esModule','getRemoteHash','call',']\x20Start\x20proceeding\x20git\x20commits.\x20','splice','\x20components.','added','shift','updateStatus','run','push','\x20files\x20before\x20sync.','../utils/git.utils','(((.+)+)+)+$','18tBfwRX','dir','defineProperty','../utils/mdapi.utils','toString','gitCommit','\x20Processed\x20','isLoggedIn','relative','YES','default','values','path','Tokens','../errors/flosum-commit.error','\x20components','force','prefix','setLoggerId','readFilesByFilename','Logger','handleCommit','sendComponents','../utils/git-commit.utils','FlosumCommitError','repository','error','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','\x20[SFDX:\x20','__metadata','LoggerTypes','__setModuleDefault','send','configurable','modified','../../salesforce/services/salesforce-commits-manager.service','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','\x20Cloning\x20git\x20repository\x20from\x20','../../../../core','search','object','decorate','env','metadata','writable','length','In\x20Progress','checkSyncStatus','1417790ZBdvVb','Branch\x20synchronized.\x20Skip.','clone','91VqiNiE','convertToCleanPaths','SalesforceLogger3','gitCommitData','11PIXnne','get','gitUtils','constructor','fetchRepositoryOrBranchData','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','SFDX','../../../../core/errors/api.error','GitCommitService','isSFDXProject','log','apply','proceedCommits','commit','readDir','51kIOOrb','commits','\x20Start\x20Git-commit\x20job.','lastCommitHash','gitApiService','getGitShellAuthorizationString','function','\x20Modified\x20','inserted','setCommitDto',']\x20[Branch:\x20','updateRemoteState','ProvidersFactory','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','branch','stats','\x20Job\x20done.','cleanUp','typedi','prepareMdapi','../services/git-commit.service','DEFAULT_GIT_USER_EMAIL','MDApiUtils','repositoryGit'];a107_0x40fc=function(){return _0x3b4d50;};return a107_0x40fc();}let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x41140d,_0x31360f){const _0x486611=a107_0x3bb60e;this[_0x486611(0x11f)]=_0x41140d,this['providersFactory']=_0x31360f,this['MAX_COMPONENTS_PER_TICK']=+(process[_0x486611(0x98)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this['logger']=new core_1[(_0x486611(0x12e))](GitCommitJob_1[_0x486611(0xfe)]),this[_0x486611(0xe9)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x3bb60e(0x100)](){const _0x4072c9=a107_0x3bb60e,{repositoryGit:_0x225f82}=this[_0x4072c9(0xa4)],_0x57f617=typedi_1[_0x4072c9(0x124)][_0x4072c9(0xa6)](providers_tokens_1[_0x4072c9(0x127)][_0x4072c9(0xda)]);if(this[_0x4072c9(0xa4)]['provider']===git_provider_1[_0x4072c9(0xe4)]['Bitbucket']){const _0x319f9d=typedi_1['default'][_0x4072c9(0xa6)](bitbucket_api_service_1[_0x4072c9(0xf6)]);await _0x319f9d[_0x4072c9(0x121)]();}return _0x225f82['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x225f82)+_0x4072c9(0xd3)+_0x57f617[_0x4072c9(0xb9)]()+'@');}['resetStats'](){const _0x30c2e7=a107_0x3bb60e;this[_0x30c2e7(0xc3)]={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0x75c187=a107_0x3bb60e,_0x20c16a=[...this[_0x75c187(0xa4)][_0x75c187(0xcf)]];this[_0x75c187(0xa4)][_0x75c187(0xcf)]=[];for(const _0x4c0598 of _0x20c16a){this[_0x75c187(0xa4)][_0x75c187(0xcf)]['push'](...await(0x0,utils_2[_0x75c187(0x12d)])(_0x4c0598,this['mdapiUtils'][_0x75c187(0x11b)]));}}async['fetchCommits'](){const _0x48ddab=a107_0x3bb60e;if(this['gitCommitData'][_0x48ddab(0x12a)])return;const _0x14ac34=[];for(const _0x255824 of this[_0x48ddab(0xa4)][_0x48ddab(0xb5)]){const _0x373f16=await this[_0x48ddab(0xa7)][_0x48ddab(0xf7)](_0x255824['id']);_0x255824['username']=_0x373f16['author'],_0x255824[_0x48ddab(0xd1)]=_0x373f16[_0x48ddab(0xd1)],_0x255824[_0x48ddab(0xea)]=_0x373f16['changes'],_0x255824[_0x48ddab(0x105)]=_0x373f16[_0x48ddab(0x105)];if(_0x255824[_0x48ddab(0x105)]===constants_1[_0x48ddab(0xc9)])throw new flosum_commit_error_1[(_0x48ddab(0x132))]();_0x14ac34[_0x48ddab(0x116)](...Object[_0x48ddab(0x125)](_0x255824[_0x48ddab(0xea)])[_0x48ddab(0xef)]());}this[_0x48ddab(0xa4)]['fileNames']=[...new Set((0x0,git_commit_utils_1[_0x48ddab(0x104)])(_0x14ac34))];}async[a107_0x3bb60e(0x130)](_0x59eb4c,_0x581869,_0x1daeab){const _0x1faef4=a107_0x3bb60e,_0x57f953=_0x1daeab[_0x1faef4(0xde)]((_0x56c884,_0x143b87)=>{const _0x5b9b9d=_0x1faef4;return _0x56c884[_0x5b9b9d(0xbc)]['push'](..._0x143b87[_0x5b9b9d(0xbc)]),_0x56c884[_0x5b9b9d(0x13c)][_0x5b9b9d(0x116)](..._0x143b87[_0x5b9b9d(0x13c)]),_0x56c884[_0x5b9b9d(0xe7)][_0x5b9b9d(0x116)](..._0x143b87[_0x5b9b9d(0xe7)]),_0x56c884;},{'inserted':[],'modified':[],'removed':[]}),_0x38790e=new salesforce_commits_manager_service_1[(_0x1faef4(0xeb))]({'recordTypes':this[_0x1faef4(0x11f)][_0x1faef4(0xe3)](),'branchId':this[_0x1faef4(0x11f)][_0x1faef4(0x10b)](),'repositoryId':this['gitCommit']['getRepositoryId'](),'logger':this[_0x1faef4(0x106)],'commitId':this['commitId']});await _0x38790e[_0x1faef4(0xb1)]([{'author':_0x59eb4c,'message':_0x581869,'inserted':_0x57f953[_0x1faef4(0xbc)],'modified':_0x57f953[_0x1faef4(0x13c)],'removed':_0x57f953[_0x1faef4(0xe7)]}]);}async[a107_0x3bb60e(0x12f)](_0x196b7b,_0x464c8f){const _0x535f29=a107_0x3bb60e;await this[_0x535f29(0x106)]['log'](this['prefix']+_0x535f29(0xdb))[_0x535f29(0x13a)](),await this[_0x535f29(0x11f)]['fetchComponentsMetadata'](_0x464c8f);const {added:_0x14a201,modified:_0x2283a7,removed:_0x1de99b}=_0x196b7b[_0x535f29(0xea)];_0x464c8f&&_0x2283a7[_0x535f29(0x116)](..._0x1de99b[_0x535f29(0x110)](0x0));const _0x33a269=(0x0,utils_2[_0x535f29(0xa2)])((0x0,git_commit_utils_1[_0x535f29(0x104)])([..._0x14a201,..._0x2283a7,..._0x1de99b],_0x464c8f&&!this[_0x535f29(0xa4)][_0x535f29(0x12a)]));let _0x1e4cc8=0x0;const _0x291de2=[];(_0x14a201[_0x535f29(0x9b)]||_0x2283a7[_0x535f29(0x9b)])&&this[_0x535f29(0x11f)]['getRepositoryId']()&&(this['commitId']=await this['gitCommit'][_0x535f29(0xe6)](_0x196b7b[_0x535f29(0xd1)]));const _0x5495c0=_0x33a269[_0x535f29(0x9b)];let _0xedbc35=0x0;while(_0x33a269[_0x535f29(0x9b)]){const _0xf572d1=_0x33a269['shift'](),_0x153de0=await this['gitCommit'][_0x535f29(0x101)](_0xf572d1,this['mdapiUtils']['dir'],_0x464c8f&&!this[_0x535f29(0xa4)][_0x535f29(0x12a)]);_0x1e4cc8+=_0x153de0[_0x535f29(0xbc)][_0x535f29(0x9b)]+_0x153de0[_0x535f29(0xe7)][_0x535f29(0x9b)]+_0x153de0[_0x535f29(0x13c)][_0x535f29(0x9b)],this['stats'][_0x535f29(0x112)]+=_0x153de0[_0x535f29(0xbc)][_0x535f29(0x9b)],this[_0x535f29(0xc3)][_0x535f29(0x13c)]+=_0x153de0['modified'][_0x535f29(0x9b)],this['stats']['removed']+=_0x153de0[_0x535f29(0xe7)][_0x535f29(0x9b)],_0xedbc35++,_0xedbc35%0x64===0x0&&this[_0x535f29(0xe8)]['log'](_0x535f29(0x13e),_0xedbc35,_0x5495c0,_0x1e4cc8),_0x291de2['push'](_0x153de0),_0x1e4cc8>this['MAX_COMPONENTS_PER_TICK']&&(await this[_0x535f29(0x130)](_0x196b7b['username'],_0x196b7b[_0x535f29(0xd1)],_0x291de2),await this['sfLogger'][_0x535f29(0xaf)](this['prefix']+_0x535f29(0x120)+_0x1e4cc8+'\x20components.')[_0x535f29(0x13a)](),_0x1e4cc8=0x0,_0x291de2['splice'](0x0));}_0x291de2['length']&&(await this[_0x535f29(0x130)](_0x196b7b['username'],_0x196b7b[_0x535f29(0xd1)],_0x291de2),await this[_0x535f29(0x106)]['log'](this['prefix']+_0x535f29(0x120)+_0x1e4cc8+_0x535f29(0x111))[_0x535f29(0x13a)]());}async[a107_0x3bb60e(0xb1)](_0x17e768){const _0xd72a0c=a107_0x3bb60e,_0x29d5fe=[...this[_0xd72a0c(0xa4)][_0xd72a0c(0xb5)]],_0x546e8=_0x29d5fe[_0xd72a0c(0x9b)];let _0x237260=0x0;while(_0x29d5fe['length']){const _0x16cbba=_0x29d5fe[_0xd72a0c(0x113)]();!this[_0xd72a0c(0xa4)][_0xd72a0c(0x12a)]&&(this[_0xd72a0c(0x11f)][_0xd72a0c(0xce)]()?(await this[_0xd72a0c(0xa7)]['checkoutTo'](_0x16cbba['id']),await this[_0xd72a0c(0x10a)][_0xd72a0c(0xc7)](this[_0xd72a0c(0xa7)][_0xd72a0c(0x11b)])):(await this['gitUtils']['checkoutTo'](this[_0xd72a0c(0xb7)]),await this['mdapiUtils'][_0xd72a0c(0xc7)](this[_0xd72a0c(0xa7)]['dir']))),await this[_0xd72a0c(0x12f)](_0x16cbba,_0x17e768),await this[_0xd72a0c(0x10a)]['removeDir'](),_0x237260+=0x1,await this[_0xd72a0c(0x106)][_0xd72a0c(0xaf)](this['prefix']+'\x20Commit\x20Summary'),await this[_0xd72a0c(0x106)][_0xd72a0c(0xaf)](this[_0xd72a0c(0x12b)]+'\x20Added\x20'+this['stats'][_0xd72a0c(0x112)]+_0xd72a0c(0x129)),await this[_0xd72a0c(0x106)][_0xd72a0c(0xaf)](this[_0xd72a0c(0x12b)]+_0xd72a0c(0xbb)+this[_0xd72a0c(0xc3)]['modified']+_0xd72a0c(0x129)),await this[_0xd72a0c(0x106)][_0xd72a0c(0xaf)](this[_0xd72a0c(0x12b)]+'\x20Removed\x20'+this['stats']['removed']+_0xd72a0c(0x129)),await this[_0xd72a0c(0x106)]['log'](this[_0xd72a0c(0x12b)]+_0xd72a0c(0xfc)+_0x237260+'/'+_0x546e8+_0xd72a0c(0xf2))[_0xd72a0c(0x13a)](),this['resetStats']();}}async['cleanUp'](){const _0x4d177e=a107_0x3bb60e;this[_0x4d177e(0xa7)]&&await this['gitUtils']['removeDir']()[_0x4d177e(0xe5)](()=>void 0x0),this['mdapiUtils']&&await this[_0x4d177e(0x10a)][_0x4d177e(0xd7)]()[_0x4d177e(0xe5)](()=>void 0x0);}async[a107_0x3bb60e(0x115)](_0x5c94be){const _0x372342=a107_0x3bb60e;this['gitCommitData']=_0x5c94be,this[_0x372342(0x11f)][_0x372342(0xbd)](this[_0x372342(0xa4)]),this[_0x372342(0xb8)]=typedi_1[_0x372342(0x124)][_0x372342(0xa6)](providers_tokens_1[_0x372342(0x127)]['gitApiService']),this[_0x372342(0x107)]=typedi_1[_0x372342(0x124)]['get'](providers_tokens_1[_0x372342(0x127)][_0x372342(0x107)]),this[_0x372342(0x106)]=typedi_1[_0x372342(0x124)][_0x372342(0xa6)](providers_tokens_1['Tokens'][_0x372342(0xe8)]),this[_0x372342(0x12b)]=_0x372342(0x102)+_0x5c94be[_0x372342(0x133)]+_0x372342(0xbe)+_0x5c94be['branch']+']\x20['+GitCommitJob_1[_0x372342(0xfe)]+']',this[_0x372342(0xa7)]=new git_utils_1['GitUtils'](await this[_0x372342(0x100)]()),this['mdapiUtils']=new mdapi_utils_1[(_0x372342(0xca))](),this[_0x372342(0x106)][_0x372342(0xaf)](this[_0x372342(0x12b)]+_0x372342(0xb6));try{this[_0x372342(0x106)][_0x372342(0xaf)](this['prefix']+_0x372342(0xf8)),await this[_0x372342(0x11f)][_0x372342(0xa9)](),await this[_0x372342(0x11f)][_0x372342(0x114)](_0x372342(0x9c)),this['sfLogger']['log'](this[_0x372342(0x12b)]+_0x372342(0xcd)),this[_0x372342(0xb7)]=await git_internal_1[_0x372342(0xd4)][_0x372342(0x10d)](await this[_0x372342(0x100)](),this[_0x372342(0xa4)][_0x372342(0xc2)]),this[_0x372342(0xe8)][_0x372342(0xaf)](_0x372342(0xe2),this[_0x372342(0xb7)]);const _0x4401a7=await this[_0x372342(0x11f)][_0x372342(0x9d)](this[_0x372342(0xb7)]);if(_0x4401a7){this['sfLogger']['log'](_0x372342(0x9f)),await this[_0x372342(0x11f)][_0x372342(0x114)](_0x372342(0xd5));return;}this[_0x372342(0x106)]['log'](this[_0x372342(0x12b)]+_0x372342(0x13f)+this['gitCommitData'][_0x372342(0xcb)]+'.'),await this['gitUtils'][_0x372342(0xa0)](this[_0x372342(0xa4)][_0x372342(0xc2)],this[_0x372342(0xa4)][_0x372342(0x133)]),this[_0x372342(0x106)][_0x372342(0xaf)](this[_0x372342(0x12b)]+_0x372342(0xaa));const _0x58e6db=await sfdx_utils_1[_0x372342(0xab)][_0x372342(0xae)](this[_0x372342(0xa7)]['dir']);await this[_0x372342(0xf3)]();!this['sfLogger']['getLoggerId']()&&this[_0x372342(0x106)][_0x372342(0x12c)](await salesforce_logger_v3_service_1[_0x372342(0xa3)][_0x372342(0xd2)](sf_logger_v3_types_1[_0x372342(0x138)][_0x372342(0xb2)]));await this[_0x372342(0x106)][_0x372342(0x13a)]();if(_0x5c94be[_0x372342(0x12a)]){await this['mdapiUtils'][_0x372342(0xc7)](this['gitUtils'][_0x372342(0x11b)]),await this['sfLogger'][_0x372342(0xaf)](this[_0x372342(0x12b)]+_0x372342(0xc1))['send']();const _0x4a99b2=(await fs_internal_1['FS'][_0x372342(0xb3)](this['mdapiUtils'][_0x372342(0x11b)],!![]))[_0x372342(0xfa)](_0x291e0b=>(0x0,path_1[_0x372342(0x122)])(this[_0x372342(0x10a)]['dir'],_0x291e0b));this[_0x372342(0x106)]['log'](this[_0x372342(0x12b)]+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x4a99b2[_0x372342(0x9b)]+_0x372342(0x117)),this[_0x372342(0xa4)][_0x372342(0xcf)]=[],this[_0x372342(0xa4)]['commits']=[{'files':{'modified':_0x4a99b2,'added':[],'removed':[]},'id':await this['gitUtils'][_0x372342(0xd9)](),'message':_0x372342(0xf9),'username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this['gitCommit'][_0x372342(0xbf)]({[this[_0x372342(0xa4)][_0x372342(0xcb)]]:{'lastCommit':this[_0x372342(0xb7)]}}),await this['sfLogger']['log'](this[_0x372342(0x12b)]+_0x372342(0x136)+(_0x58e6db?_0x372342(0x123):'NO')+_0x372342(0x10f))[_0x372342(0x13a)](),await this[_0x372342(0xb1)](_0x58e6db),await this[_0x372342(0x106)][_0x372342(0xaf)](this[_0x372342(0x12b)]+_0x372342(0xc4))[_0x372342(0x13a)](),await this[_0x372342(0x11f)][_0x372342(0x114)]('Completed');}catch(_0x96ed4d){await this[_0x372342(0xc5)]();if(_0x96ed4d instanceof flosum_commit_error_1['FlosumCommitError'])await this['gitCommit']['updateStatus'](_0x372342(0xd5))['catch'](()=>void 0x0),this['logger']['log'](this['prefix']+_0x372342(0x135));else{await this[_0x372342(0xe8)][_0x372342(0x134)](this['prefix']+_0x372342(0xff)+(_0x96ed4d instanceof api_error_1[_0x372342(0xd0)]||_0x96ed4d instanceof salesforce_error_1['SalesforceError']?_0x96ed4d['toString']():_0x96ed4d)),await this['gitCommit'][_0x372342(0xbf)]({}),await this[_0x372342(0x11f)]['updateStatus']('Error')[_0x372342(0xe5)](()=>void 0x0);throw _0x96ed4d;}}finally{await this[_0x372342(0xc5)](),await this[_0x372342(0x106)][_0x372342(0x13a)]()['catch'](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a107_0x3bb60e(0xd8),[git_commit_service_1[a107_0x3bb60e(0xad)],connection_1[a107_0x3bb60e(0xc0)]])],GitCommitJob),exports['GitCommitJob']=GitCommitJob;