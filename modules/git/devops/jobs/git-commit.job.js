const a128_0x1b90ba=a128_0x101b;function a128_0x3d2a(){const _0x281cc1=['repositoryGit','proceedCommits','config','880588bQpVvp','GitCommitService','completeNotification','message','SalesforceCommitsManager','clone','2022036ThHCrK','gitProvider','__createBinding','YES','8796792zZNVTN','cleanUp','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','\x20Fetch\x20remote\x20branch\x20hash.','3546CEwHsa','files','send','gitCommitData','SFDX','../../providers/providers.tokens',']\x20[Branch:\x20','2048278ZCXgLV','getCurrentHash','Branch\x20synchronized.\x20Skip.','username','getRepositoryId','commitId','fileNames','setCommitDto','object','createCommit','../../../shared/utils','stats',']\x20Start\x20proceeding\x20git\x20commits.\x20','\x20Commit\x20Summary','__esModule','updateRemoteState','call','force','MDApiUtils','commits','email','__setModuleDefault','BitbucketApiService','function','../../../../constants','gitCommit','CommitToFlosumErrorNotification','getOwnPropertyDescriptor','../utils/mdapi.utils','(((.+)+)+)+$','\x20Removed\x20','createLoggerId','../../salesforce/services/salesforce-logger-v3.service','flat','PathUtils','../../notifications/commit-to-flosum-error.notification','fetchComponentsMetadata','gitApiService','shift','branch','../../salesforce/utils/sfdx.utils','added','reduce','\x20Start\x20Git-commit\x20job.','convertToCleanPaths','GitProvider','commit','removeDir','gitUtils','15350mzdhve','lastCommitHash','../../salesforce/errors/salesforce.error','5vlnzWh','Service','setLoggerId','sendComponents','create','handleCommit','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','\x20components.','inserted','Error','metadata','isSFDXProject','\x20[SFDX:\x20','\x20Modified\x20','Email\x20notifications\x20are\x20disabled.','getProtocol','getRemote','ApiError','typedi','recordType','isEmailNotificationsEnabled','checkoutTo','LoggerTypes','904UPLiTD','errorNotification','../../salesforce/services/salesforce-commits-manager.service','../../../../core/errors/api.error','execute','../utils/path.utils','DEFAULT_GIT_USER_NAME','ProvidersFactory','repository','In\x20Progress','prefix','GitCommitJob','default','defineProperty','__metadata','784331vFFvmr','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','Tokens','\x20Cloning\x20git\x20repository\x20from\x20','catch','relative','removed','configurable','prepareMdapi','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','../utils/git.utils','isLoggedIn','prepareGitChangedPaths','readDir',']\x20[','\x20Fetch\x20salesforce\x20data.','CommitToFlosumCompletedNotification','toString','readFilesByFilename','constructor','get','logger','../utils/connection','../../parsers/utils','sfLogger','fetchRepositoryOrBranchData','push','39417bYKyST','\x20Added\x20','resetStats','../../internal/fs.internal','decorate','prototype','../errors/flosum-commit.error','fetchCommits','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','://','\x20components','length','Completed','\x20Job\x20done.','modified','env','getRemoteHash','DEFAULT_GIT_USER_EMAIL','name','splice','MAX_COMPONENTS_PER_TICK','../../notifications/commit-to-flosum-completed.notification','../../providers/api/bitbucket-api.service','mdapiUtils','../../providers/types/git-provider','__decorate','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','log','provider','\x20files\x20before\x20sync.','../services/git-commit.service','../../../../core','replace','dir','\x20Download\x20components\x20metadata\x20from\x20Flosum.','apply','updateStatus','sync\x20components','hasOwnProperty','getLoggerId'];a128_0x3d2a=function(){return _0x281cc1;};return a128_0x3d2a();}(function(_0x32f1c0,_0x670a90){const _0x3e3bac=a128_0x101b,_0x1bd134=_0x32f1c0();while(!![]){try{const _0x270239=parseInt(_0x3e3bac(0xde))/0x1+-parseInt(_0x3e3bac(0x84))/0x2+-parseInt(_0x3e3bac(0x75))/0x3+-parseInt(_0x3e3bac(0x124))/0x4*(-parseInt(_0x3e3bac(0xb8))/0x5)+parseInt(_0x3e3bac(0x79))/0x6+-parseInt(_0x3e3bac(0xf9))/0x7*(-parseInt(_0x3e3bac(0xcf))/0x8)+-parseInt(_0x3e3bac(0x7d))/0x9*(parseInt(_0x3e3bac(0xb5))/0xa);if(_0x270239===_0x670a90)break;else _0x1bd134['push'](_0x1bd134['shift']());}catch(_0x4dd3dd){_0x1bd134['push'](_0x1bd134['shift']());}}}(a128_0x3d2a,0xc4484));const a128_0x525aeb=(function(){let _0x5795d2=!![];return function(_0x3ff03c,_0x1ceb06){const _0x27e9f2=_0x5795d2?function(){const _0x14a966=a128_0x101b;if(_0x1ceb06){const _0xee7928=_0x1ceb06[_0x14a966(0x11c)](_0x3ff03c,arguments);return _0x1ceb06=null,_0xee7928;}}:function(){};return _0x5795d2=![],_0x27e9f2;};}()),a128_0x4888be=a128_0x525aeb(this,function(){const _0x57de19=a128_0x101b;return a128_0x4888be[_0x57de19(0xef)]()['search'](_0x57de19(0xa1))[_0x57de19(0xef)]()[_0x57de19(0xf1)](a128_0x4888be)['search'](_0x57de19(0xa1));});a128_0x4888be();function a128_0x101b(_0x228de4,_0x29ed33){const _0x19156c=a128_0x3d2a();return a128_0x101b=function(_0x4888be,_0x525aeb){_0x4888be=_0x4888be-0x74;let _0x3d2a7e=_0x19156c[_0x4888be];return _0x3d2a7e;},a128_0x101b(_0x228de4,_0x29ed33);}'use strict';var __createBinding=this&&this[a128_0x1b90ba(0x77)]||(Object['create']?function(_0xba19b2,_0x19b688,_0x5eb7cb,_0x184e76){const _0x2ce3a6=a128_0x1b90ba;if(_0x184e76===undefined)_0x184e76=_0x5eb7cb;var _0x204851=Object[_0x2ce3a6(0x9f)](_0x19b688,_0x5eb7cb);(!_0x204851||(_0x2ce3a6(0xf2)in _0x204851?!_0x19b688['__esModule']:_0x204851['writable']||_0x204851[_0x2ce3a6(0xe5)]))&&(_0x204851={'enumerable':!![],'get':function(){return _0x19b688[_0x5eb7cb];}}),Object['defineProperty'](_0xba19b2,_0x184e76,_0x204851);}:function(_0x24e876,_0x4286d4,_0x4c261f,_0x324143){if(_0x324143===undefined)_0x324143=_0x4c261f;_0x24e876[_0x324143]=_0x4286d4[_0x4c261f];}),__setModuleDefault=this&&this[a128_0x1b90ba(0x99)]||(Object[a128_0x1b90ba(0xbc)]?function(_0x6510e3,_0x3553f9){const _0x1113b5=a128_0x1b90ba;Object[_0x1113b5(0xdc)](_0x6510e3,'default',{'enumerable':!![],'value':_0x3553f9});}:function(_0x54e933,_0x5e6d53){_0x54e933['default']=_0x5e6d53;}),__decorate=this&&this[a128_0x1b90ba(0x112)]||function(_0x3a1420,_0xe279a,_0x23aabd,_0x5d8429){const _0x200d22=a128_0x1b90ba;var _0x46c814=arguments[_0x200d22(0x104)],_0x51bba1=_0x46c814<0x3?_0xe279a:_0x5d8429===null?_0x5d8429=Object['getOwnPropertyDescriptor'](_0xe279a,_0x23aabd):_0x5d8429,_0x22695b;if(typeof Reflect===_0x200d22(0x8c)&&typeof Reflect[_0x200d22(0xfd)]===_0x200d22(0x9b))_0x51bba1=Reflect['decorate'](_0x3a1420,_0xe279a,_0x23aabd,_0x5d8429);else{for(var _0x5bc4fa=_0x3a1420[_0x200d22(0x104)]-0x1;_0x5bc4fa>=0x0;_0x5bc4fa--)if(_0x22695b=_0x3a1420[_0x5bc4fa])_0x51bba1=(_0x46c814<0x3?_0x22695b(_0x51bba1):_0x46c814>0x3?_0x22695b(_0xe279a,_0x23aabd,_0x51bba1):_0x22695b(_0xe279a,_0x23aabd))||_0x51bba1;}return _0x46c814>0x3&&_0x51bba1&&Object[_0x200d22(0xdc)](_0xe279a,_0x23aabd,_0x51bba1),_0x51bba1;},__importStar=this&&this['__importStar']||function(_0x18d823){const _0x368dfc=a128_0x1b90ba;if(_0x18d823&&_0x18d823[_0x368dfc(0x92)])return _0x18d823;var _0x344b00={};if(_0x18d823!=null){for(var _0x35a150 in _0x18d823)if(_0x35a150!=='default'&&Object[_0x368dfc(0xfe)][_0x368dfc(0x11f)][_0x368dfc(0x94)](_0x18d823,_0x35a150))__createBinding(_0x344b00,_0x18d823,_0x35a150);}return __setModuleDefault(_0x344b00,_0x18d823),_0x344b00;},__metadata=this&&this[a128_0x1b90ba(0xdd)]||function(_0x390b42,_0x444989){const _0x2876b6=a128_0x1b90ba;if(typeof Reflect===_0x2876b6(0x8c)&&typeof Reflect[_0x2876b6(0xc2)]==='function')return Reflect[_0x2876b6(0xc2)](_0x390b42,_0x444989);},GitCommitJob_1;Object[a128_0x1b90ba(0xdc)](exports,a128_0x1b90ba(0x92),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require(a128_0x1b90ba(0x118)),fs_internal_1=require(a128_0x1b90ba(0xfc)),salesforce_logger_v3_service_1=require(a128_0x1b90ba(0xa4)),utils_1=require(a128_0x1b90ba(0x8e)),path_1=require('path'),typedi_1=__importStar(require(a128_0x1b90ba(0xca))),constants_1=require(a128_0x1b90ba(0x9c)),salesforce_commits_manager_service_1=require(a128_0x1b90ba(0xd1)),git_utils_1=require(a128_0x1b90ba(0xe8)),mdapi_utils_1=require(a128_0x1b90ba(0xa0)),api_error_1=require(a128_0x1b90ba(0xd2)),salesforce_error_1=require(a128_0x1b90ba(0xb7)),git_commit_service_1=require(a128_0x1b90ba(0x117)),flosum_commit_error_1=require(a128_0x1b90ba(0xff)),bitbucket_api_service_1=require(a128_0x1b90ba(0x10f)),git_provider_1=require(a128_0x1b90ba(0x111)),sfdx_utils_1=require(a128_0x1b90ba(0xac)),utils_2=require(a128_0x1b90ba(0xf5)),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require(a128_0x1b90ba(0x82)),connection_1=require(a128_0x1b90ba(0xf4)),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types'),path_utils_1=require(a128_0x1b90ba(0xd4)),commit_to_flosum_completed_notification_1=require(a128_0x1b90ba(0x10e)),commit_to_flosum_error_notification_1=require(a128_0x1b90ba(0xa7));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x523445,_0x30d09a){const _0x177c4d=a128_0x1b90ba;this[_0x177c4d(0x9d)]=_0x523445,this['providersFactory']=_0x30d09a,this[_0x177c4d(0x10d)]=+(process[_0x177c4d(0x108)][_0x177c4d(0x10d)]||0xbb8),this[_0x177c4d(0xf3)]=new core_1['Logger'](GitCommitJob_1['name']),this[_0x177c4d(0x89)]='',this[_0x177c4d(0x8f)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x4d3501=a128_0x1b90ba,{repositoryGit:_0x24ebd3}=this[_0x4d3501(0x80)],_0x397c52=typedi_1[_0x4d3501(0xdb)][_0x4d3501(0xf2)](providers_tokens_1[_0x4d3501(0xe0)]['credentials']);if(this[_0x4d3501(0x80)][_0x4d3501(0x115)]===git_provider_1[_0x4d3501(0xb1)]['Bitbucket']){const _0xaac677=typedi_1['default']['get'](bitbucket_api_service_1[_0x4d3501(0x9a)]);await _0xaac677[_0x4d3501(0xe9)]();}return _0x24ebd3[_0x4d3501(0x119)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x4d3501(0xc7)])(_0x24ebd3)+_0x4d3501(0x102)+_0x397c52['getGitShellAuthorizationString']()+'@');}async[a128_0x1b90ba(0x126)](_0x38b5de,_0x20776f,_0x201d0a,_0xe2948){const _0x1b16ed=a128_0x1b90ba;if(!this['config'][_0x1b16ed(0xcc)]){this[_0x1b16ed(0xf3)]['info']('Email\x20notifications\x20are\x20disabled.');return;}await new commit_to_flosum_completed_notification_1[(_0x1b16ed(0xee))]({'emails':_0x38b5de,'gitProvider':_0x20776f,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1[_0x1b16ed(0xee)][_0x1b16ed(0x10b)],'repositoryName':_0x201d0a,'branchName':_0xe2948})[_0x1b16ed(0xd3)]();}async[a128_0x1b90ba(0xd0)](_0x3a1f98,_0x3b5349,_0x32d726,_0x2f754c){const _0x48666f=a128_0x1b90ba;if(!this['config'][_0x48666f(0xcc)]){this[_0x48666f(0xf3)]['info'](_0x48666f(0xc6));return;}await new commit_to_flosum_error_notification_1[(_0x48666f(0x9e))]({'emails':_0x3a1f98,'gitProvider':_0x3b5349,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1['CommitToFlosumErrorNotification'][_0x48666f(0x10b)],'repositoryName':_0x32d726,'branchName':_0x2f754c})[_0x48666f(0xd3)]();}[a128_0x1b90ba(0xfb)](){const _0x59576e=a128_0x1b90ba;this[_0x59576e(0x8f)]={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0x4275b0=a128_0x1b90ba,_0x42bb81=[...this[_0x4275b0(0x80)][_0x4275b0(0x8a)]];this[_0x4275b0(0x80)][_0x4275b0(0x8a)]=[];for(const _0x553f60 of _0x42bb81){this['gitCommitData'][_0x4275b0(0x8a)][_0x4275b0(0xf8)](...await(0x0,utils_2[_0x4275b0(0xf0)])(_0x553f60,this['mdapiUtils'][_0x4275b0(0x11a)]));}}async[a128_0x1b90ba(0x100)](){const _0x326623=a128_0x1b90ba;if(this[_0x326623(0x80)][_0x326623(0x95)])return;const _0x2a2d4d=[];for(const _0x3638ca of this[_0x326623(0x80)][_0x326623(0x97)]){const _0x1a12c6=await this[_0x326623(0xb4)]['describeCommit'](_0x3638ca['id']);_0x3638ca['username']=_0x1a12c6['author'],_0x3638ca[_0x326623(0x127)]=_0x1a12c6[_0x326623(0x127)],_0x3638ca['files']=_0x1a12c6['changes'],_0x3638ca[_0x326623(0x98)]=_0x1a12c6['email'];if(_0x3638ca[_0x326623(0x98)]===constants_1[_0x326623(0x10a)])throw new flosum_commit_error_1['FlosumCommitError']();_0x2a2d4d[_0x326623(0xf8)](...Object['values'](_0x3638ca[_0x326623(0x7e)])[_0x326623(0xa5)]());}this['gitCommitData']['fileNames']=[...new Set(path_utils_1[_0x326623(0xa6)][_0x326623(0xea)](this[_0x326623(0x9d)][_0x326623(0xcb)],_0x2a2d4d,![]))];}async[a128_0x1b90ba(0xbb)](_0x32c9ea,_0x2d8ffa,_0x10d42c){const _0x40a348=a128_0x1b90ba,_0x5f29db=_0x10d42c[_0x40a348(0xae)]((_0x378fd1,_0x186e82)=>{const _0x22d76d=_0x40a348;return _0x378fd1[_0x22d76d(0xc0)][_0x22d76d(0xf8)](..._0x186e82[_0x22d76d(0xc0)]),_0x378fd1[_0x22d76d(0x107)][_0x22d76d(0xf8)](..._0x186e82[_0x22d76d(0x107)]),_0x378fd1[_0x22d76d(0xe4)][_0x22d76d(0xf8)](..._0x186e82[_0x22d76d(0xe4)]),_0x378fd1;},{'inserted':[],'modified':[],'removed':[]}),_0x2f0f0e=new salesforce_commits_manager_service_1[(_0x40a348(0x128))]({'recordTypes':this[_0x40a348(0x9d)]['getRecordTypes'](),'branchId':this[_0x40a348(0x9d)]['getBranchId'](),'repositoryId':this[_0x40a348(0x9d)][_0x40a348(0x88)](),'logger':this[_0x40a348(0xf6)],'commitId':this['commitId']});await _0x2f0f0e[_0x40a348(0x122)]([{'author':_0x32c9ea,'message':_0x2d8ffa,'inserted':_0x5f29db[_0x40a348(0xc0)],'modified':_0x5f29db[_0x40a348(0x107)],'removed':_0x5f29db['removed']}]);}async[a128_0x1b90ba(0xbd)](_0x4f190e,_0x518c93){const _0x372f25=a128_0x1b90ba;await this[_0x372f25(0xf6)]['log'](this['prefix']+_0x372f25(0x11b))[_0x372f25(0x7f)](),await this[_0x372f25(0x9d)][_0x372f25(0xa8)](_0x518c93);const {added:_0xc8de37,modified:_0x3a4990,removed:_0x62b7ec}=_0x4f190e[_0x372f25(0x7e)];_0x518c93&&_0x3a4990['push'](..._0x62b7ec[_0x372f25(0x10c)](0x0));const _0x2dc6dc=path_utils_1['PathUtils']['prepareGitChangedPaths'](this[_0x372f25(0x9d)]['recordType'],[..._0xc8de37,..._0x3a4990,..._0x62b7ec],_0x518c93&&!this['gitCommitData']['force']),_0xcf3c2a=(0x0,utils_2[_0x372f25(0xb0)])(_0x2dc6dc);let _0x55ffe6=0x0;const _0x6f9f87=[];(_0xc8de37['length']||_0x3a4990[_0x372f25(0x104)])&&this[_0x372f25(0x9d)][_0x372f25(0x88)]()&&(this[_0x372f25(0x89)]=await this['gitCommit'][_0x372f25(0x8d)](_0x4f190e[_0x372f25(0x127)]));const _0x3d2dd4=_0xcf3c2a[_0x372f25(0x104)];let _0x1f0617=0x0;while(_0xcf3c2a['length']){const _0x493370=_0xcf3c2a['shift'](),_0x265bc=await this[_0x372f25(0x9d)]['proceedFile'](_0x493370,this[_0x372f25(0x110)]['dir'],_0x518c93&&!this[_0x372f25(0x80)][_0x372f25(0x95)]);_0x55ffe6+=_0x265bc[_0x372f25(0xc0)]['length']+_0x265bc[_0x372f25(0xe4)]['length']+_0x265bc['modified'][_0x372f25(0x104)],this[_0x372f25(0x8f)][_0x372f25(0xad)]+=_0x265bc[_0x372f25(0xc0)][_0x372f25(0x104)],this['stats'][_0x372f25(0x107)]+=_0x265bc['modified'][_0x372f25(0x104)],this[_0x372f25(0x8f)]['removed']+=_0x265bc[_0x372f25(0xe4)][_0x372f25(0x104)],_0x1f0617++,_0x1f0617%0x64===0x0&&this[_0x372f25(0xf3)][_0x372f25(0x114)](_0x372f25(0x101),_0x1f0617,_0x3d2dd4,_0x55ffe6),_0x6f9f87[_0x372f25(0xf8)](_0x265bc),_0x55ffe6>this[_0x372f25(0x10d)]&&(await this['sendComponents'](_0x4f190e[_0x372f25(0x87)],_0x4f190e[_0x372f25(0x127)],_0x6f9f87),await this[_0x372f25(0xf6)][_0x372f25(0x114)](this[_0x372f25(0xd9)]+'\x20Processed\x20'+_0x55ffe6+_0x372f25(0xbf))[_0x372f25(0x7f)](),_0x55ffe6=0x0,_0x6f9f87[_0x372f25(0x10c)](0x0));}_0x6f9f87[_0x372f25(0x104)]&&(await this['sendComponents'](_0x4f190e[_0x372f25(0x87)],_0x4f190e[_0x372f25(0x127)],_0x6f9f87),await this[_0x372f25(0xf6)][_0x372f25(0x114)](this[_0x372f25(0xd9)]+'\x20Processed\x20'+_0x55ffe6+_0x372f25(0xbf))[_0x372f25(0x7f)]());}async[a128_0x1b90ba(0x122)](_0x5394d0){const _0x1b44b1=a128_0x1b90ba,_0x33aa29=[...this[_0x1b44b1(0x80)]['commits']],_0x488d9f=_0x33aa29['length'];let _0x14c418=0x0;while(_0x33aa29[_0x1b44b1(0x104)]){const _0x318ec6=_0x33aa29[_0x1b44b1(0xaa)]();!this[_0x1b44b1(0x80)][_0x1b44b1(0x95)]&&(this['gitCommit'][_0x1b44b1(0x88)]()?(await this[_0x1b44b1(0xb4)]['checkoutTo'](_0x318ec6['id']),await this[_0x1b44b1(0x110)][_0x1b44b1(0xe6)](this[_0x1b44b1(0xb4)][_0x1b44b1(0x11a)])):(await this['gitUtils'][_0x1b44b1(0xcd)](this[_0x1b44b1(0xb6)]),await this[_0x1b44b1(0x110)][_0x1b44b1(0xe6)](this[_0x1b44b1(0xb4)]['dir']))),await this[_0x1b44b1(0xbd)](_0x318ec6,_0x5394d0),await this[_0x1b44b1(0x110)]['removeDir'](),_0x14c418+=0x1,await this['sfLogger'][_0x1b44b1(0x114)](this[_0x1b44b1(0xd9)]+_0x1b44b1(0x91)),await this[_0x1b44b1(0xf6)][_0x1b44b1(0x114)](this['prefix']+_0x1b44b1(0xfa)+this[_0x1b44b1(0x8f)][_0x1b44b1(0xad)]+'\x20components'),await this[_0x1b44b1(0xf6)]['log'](this[_0x1b44b1(0xd9)]+_0x1b44b1(0xc5)+this[_0x1b44b1(0x8f)][_0x1b44b1(0x107)]+_0x1b44b1(0x103)),await this[_0x1b44b1(0xf6)]['log'](this[_0x1b44b1(0xd9)]+_0x1b44b1(0xa2)+this[_0x1b44b1(0x8f)]['removed']+_0x1b44b1(0x103)),await this[_0x1b44b1(0xf6)]['log'](this[_0x1b44b1(0xd9)]+'\x20Proceeded\x20'+_0x14c418+'/'+_0x488d9f+'\x20commits.')[_0x1b44b1(0x7f)](),this['resetStats']();}}async['cleanUp'](){const _0x10aecb=a128_0x1b90ba;this[_0x10aecb(0xb4)]&&await this[_0x10aecb(0xb4)][_0x10aecb(0xb3)]()[_0x10aecb(0xe2)](()=>void 0x0),this[_0x10aecb(0x110)]&&await this[_0x10aecb(0x110)][_0x10aecb(0xb3)]()[_0x10aecb(0xe2)](()=>void 0x0);}async['run'](_0x314ae2){const _0x4f2129=a128_0x1b90ba;this['gitCommitData']=_0x314ae2,this[_0x4f2129(0x9d)][_0x4f2129(0x8b)](this[_0x4f2129(0x80)]),this[_0x4f2129(0xa9)]=typedi_1[_0x4f2129(0xdb)]['get'](providers_tokens_1[_0x4f2129(0xe0)][_0x4f2129(0xa9)]),this[_0x4f2129(0x123)]=typedi_1['default'][_0x4f2129(0xf2)](providers_tokens_1[_0x4f2129(0xe0)][_0x4f2129(0x123)]),this[_0x4f2129(0xf6)]=typedi_1[_0x4f2129(0xdb)][_0x4f2129(0xf2)](providers_tokens_1[_0x4f2129(0xe0)][_0x4f2129(0xf3)]),this[_0x4f2129(0xd9)]=_0x4f2129(0xdf)+_0x314ae2[_0x4f2129(0xd7)]+_0x4f2129(0x83)+_0x314ae2[_0x4f2129(0xab)]+_0x4f2129(0xec)+GitCommitJob_1[_0x4f2129(0x10b)]+']',this[_0x4f2129(0xb4)]=new git_utils_1['GitUtils'](await this[_0x4f2129(0xc8)]()),this[_0x4f2129(0x110)]=new mdapi_utils_1[(_0x4f2129(0x96))](),this['sfLogger'][_0x4f2129(0x114)](this['prefix']+_0x4f2129(0xaf));try{this[_0x4f2129(0xf6)]['log'](this[_0x4f2129(0xd9)]+_0x4f2129(0xed)),await this['gitCommit'][_0x4f2129(0xf7)](),await this[_0x4f2129(0x9d)][_0x4f2129(0x11d)](_0x4f2129(0xd8)),this['sfLogger'][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0x7c)),this[_0x4f2129(0xb6)]=await git_internal_1['Git'][_0x4f2129(0x109)](await this[_0x4f2129(0xc8)](),this[_0x4f2129(0x80)][_0x4f2129(0xab)]),this['logger'][_0x4f2129(0x114)]('Last\x20git\x20repository\x20hash\x20is\x20%s.',this[_0x4f2129(0xb6)]);const _0x3e3a28=await this[_0x4f2129(0x9d)]['checkSyncStatus'](this[_0x4f2129(0xb6)]);if(_0x3e3a28){this[_0x4f2129(0xf6)]['log'](_0x4f2129(0x86)),await this[_0x4f2129(0x9d)][_0x4f2129(0x11d)](_0x4f2129(0x105));return;}this[_0x4f2129(0xf6)][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0xe1)+this[_0x4f2129(0x80)][_0x4f2129(0x121)]+'.'),await this[_0x4f2129(0xb4)][_0x4f2129(0x74)](this['gitCommitData'][_0x4f2129(0xab)],this[_0x4f2129(0x80)][_0x4f2129(0xd7)]),this[_0x4f2129(0xf6)][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+'\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.');const _0x3ab9af=await sfdx_utils_1[_0x4f2129(0x81)][_0x4f2129(0xc3)](this[_0x4f2129(0xb4)][_0x4f2129(0x11a)]);await this[_0x4f2129(0x100)]();!this[_0x4f2129(0xf6)][_0x4f2129(0x120)]()&&this['sfLogger'][_0x4f2129(0xba)](await salesforce_logger_v3_service_1['SalesforceLogger3'][_0x4f2129(0xa3)](sf_logger_v3_types_1[_0x4f2129(0xce)][_0x4f2129(0xb2)]));await this['sfLogger'][_0x4f2129(0x7f)]();if(_0x314ae2[_0x4f2129(0x95)]){await this[_0x4f2129(0x110)][_0x4f2129(0xe6)](this['gitUtils'][_0x4f2129(0x11a)]),await this['sfLogger'][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0xbe))[_0x4f2129(0x7f)]();const _0x3b7b3e=(await fs_internal_1['FS'][_0x4f2129(0xeb)](this[_0x4f2129(0x110)][_0x4f2129(0x11a)],!![]))['map'](_0x27e878=>(0x0,path_1[_0x4f2129(0xe3)])(this[_0x4f2129(0x110)][_0x4f2129(0x11a)],_0x27e878));this[_0x4f2129(0xf6)]['log'](this[_0x4f2129(0xd9)]+_0x4f2129(0x7b)+_0x3b7b3e[_0x4f2129(0x104)]+_0x4f2129(0x116)),this['gitCommitData'][_0x4f2129(0x8a)]=[],this[_0x4f2129(0x80)][_0x4f2129(0x97)]=[{'files':{'modified':_0x3b7b3e,'added':[],'removed':[]},'id':await this['gitUtils'][_0x4f2129(0x85)](),'message':_0x4f2129(0x11e),'username':constants_1[_0x4f2129(0xd5)]}];}await this[_0x4f2129(0x9d)]['updateRemoteState']({[this[_0x4f2129(0x80)]['repositoryGit']]:{'lastCommit':this[_0x4f2129(0xb6)]}}),await this['sfLogger'][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0xc4)+(_0x3ab9af?_0x4f2129(0x78):'NO')+_0x4f2129(0x90))[_0x4f2129(0x7f)](),await this[_0x4f2129(0x122)](_0x3ab9af),await this['sfLogger'][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0x106))[_0x4f2129(0x7f)](),await this[_0x4f2129(0x9d)][_0x4f2129(0x11d)](_0x4f2129(0x105)),await this[_0x4f2129(0x126)]([_0x314ae2[_0x4f2129(0x98)]],this[_0x4f2129(0x123)][_0x4f2129(0x76)],_0x314ae2[_0x4f2129(0xd7)],_0x314ae2[_0x4f2129(0xab)]);}catch(_0x56ab9a){await this[_0x4f2129(0x7a)]();if(_0x56ab9a instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0x4f2129(0x9d)][_0x4f2129(0x11d)](_0x4f2129(0x105))[_0x4f2129(0xe2)](()=>void 0x0),this[_0x4f2129(0xf3)][_0x4f2129(0x114)](this[_0x4f2129(0xd9)]+_0x4f2129(0xe7));else{await this[_0x4f2129(0xf3)]['error'](this['prefix']+_0x4f2129(0x113)+(_0x56ab9a instanceof api_error_1[_0x4f2129(0xc9)]||_0x56ab9a instanceof salesforce_error_1['SalesforceError']?_0x56ab9a[_0x4f2129(0xef)]():_0x56ab9a)),await this[_0x4f2129(0x9d)][_0x4f2129(0x93)]({}),await this[_0x4f2129(0x9d)]['updateStatus'](_0x4f2129(0xc1))[_0x4f2129(0xe2)](()=>void 0x0),await this[_0x4f2129(0xd0)]([_0x314ae2[_0x4f2129(0x98)]],this['config'][_0x4f2129(0x76)],_0x314ae2[_0x4f2129(0xd7)],_0x314ae2[_0x4f2129(0xab)]);throw _0x56ab9a;}}finally{await this[_0x4f2129(0x7a)](),await this[_0x4f2129(0xf6)]['send']()[_0x4f2129(0xe2)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a128_0x1b90ba(0xb9)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1[a128_0x1b90ba(0x125)],connection_1[a128_0x1b90ba(0xd6)]])],GitCommitJob),exports[a128_0x1b90ba(0xda)]=GitCommitJob;