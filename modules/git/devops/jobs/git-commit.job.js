const a76_0x31ca79=a76_0x4053;function a76_0x5384(){const _0x5d3005=['getRepositoryId','catch','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','../../salesforce/services/salesforce-commits-manager.service','ProvidersFactory','Bitbucket','Service','\x20files\x20before\x20sync.','error','Tokens','__esModule','checkSyncStatus','gitUtils','\x20Cloning\x20git\x20repository\x20from\x20','SFDX','22608513REzEGN','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.',']\x20[','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','Branch\x20synchronized.\x20Skip.','commits','\x20components.','../../salesforce/services/salesforce-logger-v3.service','resetStats','push','email','Completed','fetchRepositoryOrBranchData','\x20components','proceedCommits','../utils/git.utils','gitApiService','log','SalesforceError','flat','getProtocol','\x20Fetch\x20salesforce\x20data.','default','removeDir','force','updateStatus','getRemoteHash','replace','fetchComponentsMetadata','__createBinding','../utils/mdapi.utils','GitCommitJob','run','../../internal/fs.internal','convertToCleanPaths','logger','object','gitCommit','send','\x20Fetch\x20remote\x20branch\x20hash.','design:paramtypes','updateFileNamesForSFDXProject','updateRemoteState','6DFDGTQ','typedi','added',']\x20[Branch:\x20','length','\x20Proceeded\x20','\x20Removed\x20','lastCommitHash','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','config','\x20Start\x20Git-commit\x20job.','__setModuleDefault','../../salesforce/types/sf-logger-v3-types','120697YgOUaY','get','setLoggerId','../../providers/api/bitbucket-api.service','changes','defineProperty','search','prepareMdapi','../../../../constants','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','constructor','decorate','mdapiUtils','4444986QeLrfy','3418737vjhVCL','(((.+)+)+)+$','splice',']\x20Start\x20proceeding\x20git\x20commits.\x20','author','../utils/connection','1645jPoGuw','3898170HiiHPl','branch','values','../../../shared/utils','dir','2336oSmJHC','MAX_COMPONENTS_PER_TICK','../../salesforce/utils/sfdx.utils','fileNames','reduce','files','__decorate','ApiError','writable','prepareGitChangedPaths','username','relative','prefix','../../../../core/errors/api.error','toString','isLoggedIn','sync\x20components','proceedFile','sfLogger','apply','../../../../core','__importStar','YES','stats','Error','DEFAULT_GIT_USER_NAME','getRecordTypes','describeCommit','getBranchId','../../parsers/utils','readFilesByFilename','GitProvider','\x20Processed\x20','inserted','metadata','createLoggerId','FlosumCommitError','providersFactory','GitCommitService','gitCommitData','setCommitDto','LoggerTypes','\x20Download\x20components\x20metadata\x20from\x20Flosum.','\x20commits.','SalesforceCommitsManager','\x20[SFDX:\x20','message','getRemote','repositoryGit','env','handleCommit','../../providers/types/git-provider','checkoutTo','credentials','Last\x20git\x20repository\x20hash\x20is\x20%s.','map','configurable','Logger','commitId','prototype','__metadata','fetchCommits','modified','name','getOwnPropertyDescriptor','../../internal/git.internal','MDApiUtils','../utils/git-commit.utils','repository','BitbucketApiService','removed','getCurrentHash','../../providers/providers.tokens','sendComponents','create','shift','4104936TqjjaG'];a76_0x5384=function(){return _0x5d3005;};return a76_0x5384();}(function(_0x198bfe,_0x522b31){const _0x3d3bb5=a76_0x4053,_0x57f886=_0x198bfe();while(!![]){try{const _0x1f91b2=-parseInt(_0x3d3bb5(0xf3))/0x1*(-parseInt(_0x3d3bb5(0xe6))/0x2)+-parseInt(_0x3d3bb5(0x101))/0x3+-parseInt(_0x3d3bb5(0xab))/0x4+parseInt(_0x3d3bb5(0x108))/0x5+-parseInt(_0x3d3bb5(0x100))/0x6+parseInt(_0x3d3bb5(0x107))/0x7*(parseInt(_0x3d3bb5(0x10d))/0x8)+parseInt(_0x3d3bb5(0xbb))/0x9;if(_0x1f91b2===_0x522b31)break;else _0x57f886['push'](_0x57f886['shift']());}catch(_0x569c83){_0x57f886['push'](_0x57f886['shift']());}}}(a76_0x5384,0xc728e));const a76_0x5f51f4=(function(){let _0x5cdab8=!![];return function(_0xe3c01b,_0xd0da9c){const _0x100a80=_0x5cdab8?function(){const _0xf55aa7=a76_0x4053;if(_0xd0da9c){const _0x55e3d1=_0xd0da9c[_0xf55aa7(0x72)](_0xe3c01b,arguments);return _0xd0da9c=null,_0x55e3d1;}}:function(){};return _0x5cdab8=![],_0x100a80;};}()),a76_0x30d24f=a76_0x5f51f4(this,function(){const _0xdafee3=a76_0x4053;return a76_0x30d24f[_0xdafee3(0x6d)]()[_0xdafee3(0xf9)]('(((.+)+)+)+$')[_0xdafee3(0x6d)]()[_0xdafee3(0xfd)](a76_0x30d24f)[_0xdafee3(0xf9)](_0xdafee3(0x102));});a76_0x30d24f();function a76_0x4053(_0x5a8acc,_0x1dfe83){const _0x4615ee=a76_0x5384();return a76_0x4053=function(_0x30d24f,_0x5f51f4){_0x30d24f=_0x30d24f-0x69;let _0x53847e=_0x4615ee[_0x30d24f];return _0x53847e;},a76_0x4053(_0x5a8acc,_0x1dfe83);}'use strict';var __createBinding=this&&this[a76_0x31ca79(0xd8)]||(Object['create']?function(_0x397f47,_0x42e7f1,_0x7be5c4,_0x5f07c3){const _0x5bdbcb=a76_0x31ca79;if(_0x5f07c3===undefined)_0x5f07c3=_0x7be5c4;var _0x35b434=Object[_0x5bdbcb(0x9f)](_0x42e7f1,_0x7be5c4);(!_0x35b434||(_0x5bdbcb(0xf4)in _0x35b434?!_0x42e7f1[_0x5bdbcb(0xb6)]:_0x35b434[_0x5bdbcb(0x115)]||_0x35b434[_0x5bdbcb(0x97)]))&&(_0x35b434={'enumerable':!![],'get':function(){return _0x42e7f1[_0x7be5c4];}}),Object[_0x5bdbcb(0xf8)](_0x397f47,_0x5f07c3,_0x35b434);}:function(_0x586029,_0x4202b1,_0x1a9f82,_0x2759ec){if(_0x2759ec===undefined)_0x2759ec=_0x1a9f82;_0x586029[_0x2759ec]=_0x4202b1[_0x1a9f82];}),__setModuleDefault=this&&this[a76_0x31ca79(0xf1)]||(Object[a76_0x31ca79(0xa9)]?function(_0x88baaf,_0x42bd8c){const _0x242dc3=a76_0x31ca79;Object[_0x242dc3(0xf8)](_0x88baaf,_0x242dc3(0xd1),{'enumerable':!![],'value':_0x42bd8c});}:function(_0x3d5212,_0x44abd0){const _0x5aa1d6=a76_0x31ca79;_0x3d5212[_0x5aa1d6(0xd1)]=_0x44abd0;}),__decorate=this&&this[a76_0x31ca79(0x113)]||function(_0x6aaf8a,_0x13edcf,_0x2d85ae,_0x12df49){const _0x1c4c88=a76_0x31ca79;var _0xcf2adc=arguments[_0x1c4c88(0xea)],_0x40e2dc=_0xcf2adc<0x3?_0x13edcf:_0x12df49===null?_0x12df49=Object[_0x1c4c88(0x9f)](_0x13edcf,_0x2d85ae):_0x12df49,_0x3eecb;if(typeof Reflect==='object'&&typeof Reflect[_0x1c4c88(0xfe)]==='function')_0x40e2dc=Reflect['decorate'](_0x6aaf8a,_0x13edcf,_0x2d85ae,_0x12df49);else{for(var _0x51937e=_0x6aaf8a['length']-0x1;_0x51937e>=0x0;_0x51937e--)if(_0x3eecb=_0x6aaf8a[_0x51937e])_0x40e2dc=(_0xcf2adc<0x3?_0x3eecb(_0x40e2dc):_0xcf2adc>0x3?_0x3eecb(_0x13edcf,_0x2d85ae,_0x40e2dc):_0x3eecb(_0x13edcf,_0x2d85ae))||_0x40e2dc;}return _0xcf2adc>0x3&&_0x40e2dc&&Object[_0x1c4c88(0xf8)](_0x13edcf,_0x2d85ae,_0x40e2dc),_0x40e2dc;},__importStar=this&&this[a76_0x31ca79(0x74)]||function(_0x47e578){const _0x223482=a76_0x31ca79;if(_0x47e578&&_0x47e578[_0x223482(0xb6)])return _0x47e578;var _0x8801cd={};if(_0x47e578!=null){for(var _0x3e158a in _0x47e578)if(_0x3e158a!==_0x223482(0xd1)&&Object[_0x223482(0x9a)]['hasOwnProperty']['call'](_0x47e578,_0x3e158a))__createBinding(_0x8801cd,_0x47e578,_0x3e158a);}return __setModuleDefault(_0x8801cd,_0x47e578),_0x8801cd;},__metadata=this&&this[a76_0x31ca79(0x9b)]||function(_0x381fe5,_0x19fb1a){const _0x598343=a76_0x31ca79;if(typeof Reflect===_0x598343(0xdf)&&typeof Reflect[_0x598343(0x81)]==='function')return Reflect[_0x598343(0x81)](_0x381fe5,_0x19fb1a);},GitCommitJob_1;Object[a76_0x31ca79(0xf8)](exports,a76_0x31ca79(0xb6),{'value':!![]}),exports[a76_0x31ca79(0xda)]=void 0x0;const core_1=require(a76_0x31ca79(0x73)),fs_internal_1=require(a76_0x31ca79(0xdc)),salesforce_logger_v3_service_1=require(a76_0x31ca79(0xc2)),utils_1=require(a76_0x31ca79(0x10b)),path_1=require('path'),typedi_1=__importStar(require(a76_0x31ca79(0xe7))),constants_1=require(a76_0x31ca79(0xfb)),salesforce_commits_manager_service_1=require(a76_0x31ca79(0xaf)),git_commit_utils_1=require(a76_0x31ca79(0xa2)),git_utils_1=require(a76_0x31ca79(0xca)),mdapi_utils_1=require(a76_0x31ca79(0xd9)),api_error_1=require(a76_0x31ca79(0x6c)),salesforce_error_1=require('../../salesforce/errors/salesforce.error'),git_commit_service_1=require('../services/git-commit.service'),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require(a76_0x31ca79(0xf6)),git_provider_1=require(a76_0x31ca79(0x92)),sfdx_utils_1=require(a76_0x31ca79(0x10f)),utils_2=require(a76_0x31ca79(0x7c)),git_internal_1=require(a76_0x31ca79(0xa0)),providers_tokens_1=require(a76_0x31ca79(0xa7)),connection_1=require(a76_0x31ca79(0x106)),sf_logger_v3_types_1=require(a76_0x31ca79(0xf2));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x4ec182,_0x3c0dd6){const _0x128915=a76_0x31ca79;this[_0x128915(0xe0)]=_0x4ec182,this[_0x128915(0x84)]=_0x3c0dd6,this[_0x128915(0x10e)]=+(process[_0x128915(0x90)][_0x128915(0x10e)]||0xbb8),this[_0x128915(0xde)]=new core_1[(_0x128915(0x98))](GitCommitJob_1[_0x128915(0x9e)]),this['commitId']='',this[_0x128915(0x76)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x16b981=a76_0x31ca79,{repositoryGit:_0x376f5a}=this['gitCommitData'],_0x5bd70f=typedi_1[_0x16b981(0xd1)]['get'](providers_tokens_1[_0x16b981(0xb5)][_0x16b981(0x94)]);if(this[_0x16b981(0x86)]['provider']===git_provider_1[_0x16b981(0x7e)][_0x16b981(0xb1)]){const _0x4e63a1=typedi_1['default'][_0x16b981(0xf4)](bitbucket_api_service_1[_0x16b981(0xa4)]);await _0x4e63a1[_0x16b981(0x6e)]();}return _0x376f5a[_0x16b981(0xd6)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x16b981(0xcf)])(_0x376f5a)+'://'+_0x5bd70f['getGitShellAuthorizationString']()+'@');}[a76_0x31ca79(0xc3)](){const _0x5840b9=a76_0x31ca79;this[_0x5840b9(0x76)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a76_0x31ca79(0xe4)](){const _0x4d933a=a76_0x31ca79,_0x25f1f3=[...this['gitCommitData'][_0x4d933a(0x110)]];this[_0x4d933a(0x86)][_0x4d933a(0x110)]=[];for(const _0x569b8e of _0x25f1f3){this['gitCommitData'][_0x4d933a(0x110)]['push'](...await(0x0,utils_2[_0x4d933a(0x7d)])(_0x569b8e,this['mdapiUtils'][_0x4d933a(0x10c)]));}}async[a76_0x31ca79(0x9c)](){const _0x59ea44=a76_0x31ca79;if(this['gitCommitData'][_0x59ea44(0xd3)])return;const _0x231edf=[];for(const _0x4b0868 of this[_0x59ea44(0x86)]['commits']){const _0x1c020b=await this[_0x59ea44(0xb8)][_0x59ea44(0x7a)](_0x4b0868['id']);_0x4b0868[_0x59ea44(0x69)]=_0x1c020b[_0x59ea44(0x105)],_0x4b0868[_0x59ea44(0x8d)]=_0x1c020b[_0x59ea44(0x8d)],_0x4b0868[_0x59ea44(0x112)]=_0x1c020b[_0x59ea44(0xf7)],_0x4b0868['email']=_0x1c020b[_0x59ea44(0xc5)];if(_0x4b0868[_0x59ea44(0xc5)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1['FlosumCommitError']();_0x231edf[_0x59ea44(0xc4)](...Object[_0x59ea44(0x10a)](_0x4b0868['files'])[_0x59ea44(0xce)]());}this[_0x59ea44(0x86)][_0x59ea44(0x110)]=[...new Set((0x0,git_commit_utils_1[_0x59ea44(0x116)])(_0x231edf))];}async[a76_0x31ca79(0xa8)](_0x19ea62,_0x2775cc,_0x1f5eeb){const _0x215ef6=a76_0x31ca79,_0x91758d=_0x1f5eeb[_0x215ef6(0x111)]((_0x11d15a,_0x445596)=>{const _0x277cbb=_0x215ef6;return _0x11d15a[_0x277cbb(0x80)]['push'](..._0x445596['inserted']),_0x11d15a[_0x277cbb(0x9d)][_0x277cbb(0xc4)](..._0x445596[_0x277cbb(0x9d)]),_0x11d15a['removed'][_0x277cbb(0xc4)](..._0x445596[_0x277cbb(0xa5)]),_0x11d15a;},{'inserted':[],'modified':[],'removed':[]}),_0x1dd312=new salesforce_commits_manager_service_1[(_0x215ef6(0x8b))]({'recordTypes':this[_0x215ef6(0xe0)][_0x215ef6(0x79)](),'branchId':this[_0x215ef6(0xe0)][_0x215ef6(0x7b)](),'repositoryId':this['gitCommit'][_0x215ef6(0xac)](),'logger':this[_0x215ef6(0x71)],'commitId':this['commitId']});await _0x1dd312['proceedCommits']([{'author':_0x19ea62,'message':_0x2775cc,'inserted':_0x91758d[_0x215ef6(0x80)],'modified':_0x91758d[_0x215ef6(0x9d)],'removed':_0x91758d[_0x215ef6(0xa5)]}]);}async[a76_0x31ca79(0x91)](_0x47d013,_0x5d135a){const _0x33e408=a76_0x31ca79;await this[_0x33e408(0x71)][_0x33e408(0xcc)](this[_0x33e408(0x6b)]+_0x33e408(0x89))[_0x33e408(0xe1)](),await this[_0x33e408(0xe0)][_0x33e408(0xd7)](_0x5d135a);const {added:_0x49123b,modified:_0x53c838,removed:_0xbc0e1}=_0x47d013[_0x33e408(0x112)];_0x5d135a&&_0x53c838[_0x33e408(0xc4)](..._0xbc0e1[_0x33e408(0x103)](0x0));const _0xa84249=(0x0,utils_2[_0x33e408(0xdd)])((0x0,git_commit_utils_1[_0x33e408(0x116)])([..._0x49123b,..._0x53c838,..._0xbc0e1],_0x5d135a&&!this['gitCommitData'][_0x33e408(0xd3)]));let _0x2f2095=0x0;const _0x218a4a=[];(_0x49123b[_0x33e408(0xea)]||_0x53c838['length'])&&this[_0x33e408(0xe0)][_0x33e408(0xac)]()&&(this[_0x33e408(0x99)]=await this[_0x33e408(0xe0)]['createCommit'](_0x47d013['message']));const _0x22370c=_0xa84249[_0x33e408(0xea)];let _0x5b9237=0x0;while(_0xa84249[_0x33e408(0xea)]){const _0x190ad9=_0xa84249['shift'](),_0x223bf0=await this[_0x33e408(0xe0)][_0x33e408(0x70)](_0x190ad9,this['mdapiUtils'][_0x33e408(0x10c)],_0x5d135a&&!this[_0x33e408(0x86)]['force']);_0x2f2095+=_0x223bf0[_0x33e408(0x80)][_0x33e408(0xea)]+_0x223bf0[_0x33e408(0xa5)]['length']+_0x223bf0[_0x33e408(0x9d)]['length'],this[_0x33e408(0x76)][_0x33e408(0xe8)]+=_0x223bf0[_0x33e408(0x80)]['length'],this[_0x33e408(0x76)][_0x33e408(0x9d)]+=_0x223bf0[_0x33e408(0x9d)][_0x33e408(0xea)],this[_0x33e408(0x76)]['removed']+=_0x223bf0[_0x33e408(0xa5)]['length'],_0x5b9237++,_0x5b9237%0x64===0x0&&this[_0x33e408(0xde)][_0x33e408(0xcc)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x5b9237,_0x22370c,_0x2f2095),_0x218a4a['push'](_0x223bf0),_0x2f2095>this['MAX_COMPONENTS_PER_TICK']&&(await this['sendComponents'](_0x47d013[_0x33e408(0x69)],_0x47d013[_0x33e408(0x8d)],_0x218a4a),await this['sfLogger'][_0x33e408(0xcc)](this[_0x33e408(0x6b)]+_0x33e408(0x7f)+_0x2f2095+_0x33e408(0xc1))[_0x33e408(0xe1)](),_0x2f2095=0x0,_0x218a4a[_0x33e408(0x103)](0x0));}_0x218a4a[_0x33e408(0xea)]&&(await this[_0x33e408(0xa8)](_0x47d013[_0x33e408(0x69)],_0x47d013[_0x33e408(0x8d)],_0x218a4a),await this['sfLogger'][_0x33e408(0xcc)](this[_0x33e408(0x6b)]+_0x33e408(0x7f)+_0x2f2095+_0x33e408(0xc1))[_0x33e408(0xe1)]());}async['proceedCommits'](_0x540004){const _0x290f43=a76_0x31ca79,_0xf50c5d=[...this['gitCommitData'][_0x290f43(0xc0)]],_0xd81183=_0xf50c5d['length'];let _0xaeaad4=0x0;while(_0xf50c5d[_0x290f43(0xea)]){const _0x49be66=_0xf50c5d[_0x290f43(0xaa)]();!this[_0x290f43(0x86)][_0x290f43(0xd3)]&&(this['gitCommit'][_0x290f43(0xac)]()?(await this[_0x290f43(0xb8)]['checkoutTo'](_0x49be66['id']),await this[_0x290f43(0xff)][_0x290f43(0xfa)](this['gitUtils'][_0x290f43(0x10c)])):(await this['gitUtils'][_0x290f43(0x93)](this['lastCommitHash']),await this[_0x290f43(0xff)][_0x290f43(0xfa)](this[_0x290f43(0xb8)][_0x290f43(0x10c)]))),await this['handleCommit'](_0x49be66,_0x540004),await this[_0x290f43(0xff)]['removeDir'](),_0xaeaad4+=0x1,await this[_0x290f43(0x71)]['log'](this['prefix']+'\x20Commit\x20Summary'),await this[_0x290f43(0x71)][_0x290f43(0xcc)](this[_0x290f43(0x6b)]+'\x20Added\x20'+this[_0x290f43(0x76)][_0x290f43(0xe8)]+_0x290f43(0xc8)),await this[_0x290f43(0x71)][_0x290f43(0xcc)](this[_0x290f43(0x6b)]+'\x20Modified\x20'+this[_0x290f43(0x76)][_0x290f43(0x9d)]+_0x290f43(0xc8)),await this[_0x290f43(0x71)][_0x290f43(0xcc)](this[_0x290f43(0x6b)]+_0x290f43(0xec)+this[_0x290f43(0x76)][_0x290f43(0xa5)]+_0x290f43(0xc8)),await this[_0x290f43(0x71)][_0x290f43(0xcc)](this[_0x290f43(0x6b)]+_0x290f43(0xeb)+_0xaeaad4+'/'+_0xd81183+_0x290f43(0x8a))['send'](),this['resetStats']();}}async['cleanUp'](){const _0x492819=a76_0x31ca79;this[_0x492819(0xb8)]&&await this[_0x492819(0xb8)][_0x492819(0xd2)]()[_0x492819(0xad)](()=>void 0x0),this['mdapiUtils']&&await this['mdapiUtils']['removeDir']()[_0x492819(0xad)](()=>void 0x0);}async[a76_0x31ca79(0xdb)](_0x19e0bf){const _0x555539=a76_0x31ca79;this[_0x555539(0x86)]=_0x19e0bf,this[_0x555539(0xe0)][_0x555539(0x87)](this[_0x555539(0x86)]),this[_0x555539(0xcb)]=typedi_1['default'][_0x555539(0xf4)](providers_tokens_1[_0x555539(0xb5)][_0x555539(0xcb)]),this['config']=typedi_1[_0x555539(0xd1)][_0x555539(0xf4)](providers_tokens_1[_0x555539(0xb5)][_0x555539(0xef)]),this[_0x555539(0x71)]=typedi_1['default']['get'](providers_tokens_1[_0x555539(0xb5)][_0x555539(0xde)]),this[_0x555539(0x6b)]=_0x555539(0xfc)+_0x19e0bf[_0x555539(0xa3)]+_0x555539(0xe9)+_0x19e0bf[_0x555539(0x109)]+_0x555539(0xbd)+GitCommitJob_1[_0x555539(0x9e)]+']',this[_0x555539(0xb8)]=new git_utils_1['GitUtils'](await this[_0x555539(0x8e)]()),this[_0x555539(0xff)]=new mdapi_utils_1[(_0x555539(0xa1))](),this[_0x555539(0x71)]['log'](this[_0x555539(0x6b)]+_0x555539(0xf0));try{this[_0x555539(0x71)]['log'](this[_0x555539(0x6b)]+_0x555539(0xd0)),await this[_0x555539(0xe0)][_0x555539(0xc7)](),await this[_0x555539(0xe0)][_0x555539(0xd4)]('In\x20Progress'),this['sfLogger'][_0x555539(0xcc)](this['prefix']+_0x555539(0xe2)),this['lastCommitHash']=await git_internal_1['Git'][_0x555539(0xd5)](await this[_0x555539(0x8e)](),this[_0x555539(0x86)][_0x555539(0x109)]),this[_0x555539(0xde)]['log'](_0x555539(0x95),this['lastCommitHash']);const _0x4ede72=await this['gitCommit'][_0x555539(0xb7)](this[_0x555539(0xed)]);if(_0x4ede72){this[_0x555539(0x71)][_0x555539(0xcc)](_0x555539(0xbf)),await this['gitCommit'][_0x555539(0xd4)](_0x555539(0xc6));return;}this['sfLogger']['log'](this[_0x555539(0x6b)]+_0x555539(0xb9)+this['gitCommitData'][_0x555539(0x8f)]+'.'),await this[_0x555539(0xb8)]['clone'](this[_0x555539(0x86)][_0x555539(0x109)],this['gitCommitData'][_0x555539(0xa3)]),this[_0x555539(0x71)][_0x555539(0xcc)](this[_0x555539(0x6b)]+_0x555539(0xbc));const _0x5f0560=await sfdx_utils_1[_0x555539(0xba)]['isSFDXProject'](this[_0x555539(0xb8)]['dir']);await this[_0x555539(0x9c)]();!this[_0x555539(0x71)]['getLoggerId']()&&this[_0x555539(0x71)][_0x555539(0xf5)](await salesforce_logger_v3_service_1['SalesforceLogger3'][_0x555539(0x82)](sf_logger_v3_types_1[_0x555539(0x88)]['commit']));await this[_0x555539(0x71)]['send']();if(_0x19e0bf[_0x555539(0xd3)]){await this['mdapiUtils'][_0x555539(0xfa)](this[_0x555539(0xb8)][_0x555539(0x10c)]),await this['sfLogger']['log'](this[_0x555539(0x6b)]+_0x555539(0xee))['send']();const _0x4d1c71=(await fs_internal_1['FS']['readDir'](this[_0x555539(0xff)][_0x555539(0x10c)],!![]))[_0x555539(0x96)](_0x48004f=>(0x0,path_1[_0x555539(0x6a)])(this[_0x555539(0xff)][_0x555539(0x10c)],_0x48004f));this[_0x555539(0x71)][_0x555539(0xcc)](this[_0x555539(0x6b)]+_0x555539(0xae)+_0x4d1c71[_0x555539(0xea)]+_0x555539(0xb3)),this[_0x555539(0x86)][_0x555539(0x110)]=[],this['gitCommitData'][_0x555539(0xc0)]=[{'files':{'modified':_0x4d1c71,'added':[],'removed':[]},'id':await this[_0x555539(0xb8)][_0x555539(0xa6)](),'message':_0x555539(0x6f),'username':constants_1[_0x555539(0x78)]}];}await this[_0x555539(0xe0)][_0x555539(0xe5)]({[this[_0x555539(0x86)]['repositoryGit']]:{'lastCommit':this['lastCommitHash']}}),await this[_0x555539(0x71)][_0x555539(0xcc)](this[_0x555539(0x6b)]+_0x555539(0x8c)+(_0x5f0560?_0x555539(0x75):'NO')+_0x555539(0x104))[_0x555539(0xe1)](),await this[_0x555539(0xc9)](_0x5f0560),await this['sfLogger']['log'](this[_0x555539(0x6b)]+'\x20Job\x20done.')[_0x555539(0xe1)](),await this['gitCommit'][_0x555539(0xd4)](_0x555539(0xc6));}catch(_0x58ba7c){await this['cleanUp']();if(_0x58ba7c instanceof flosum_commit_error_1[_0x555539(0x83)])await this[_0x555539(0xe0)][_0x555539(0xd4)]('Completed')['catch'](()=>void 0x0),this['logger'][_0x555539(0xcc)](this[_0x555539(0x6b)]+_0x555539(0xbe));else{await this[_0x555539(0xde)][_0x555539(0xb4)](this[_0x555539(0x6b)]+'\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20'+(_0x58ba7c instanceof api_error_1[_0x555539(0x114)]||_0x58ba7c instanceof salesforce_error_1[_0x555539(0xcd)]?_0x58ba7c[_0x555539(0x6d)]():_0x58ba7c)),await this[_0x555539(0xe0)]['updateRemoteState']({}),await this['gitCommit'][_0x555539(0xd4)](_0x555539(0x77))[_0x555539(0xad)](()=>void 0x0);throw _0x58ba7c;}}finally{await this['cleanUp'](),await this[_0x555539(0x71)][_0x555539(0xe1)]()['catch'](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a76_0x31ca79(0xb2)])({'transient':!![]}),__metadata(a76_0x31ca79(0xe3),[git_commit_service_1[a76_0x31ca79(0x85)],connection_1[a76_0x31ca79(0xb0)]])],GitCommitJob),exports[a76_0x31ca79(0xda)]=GitCommitJob;