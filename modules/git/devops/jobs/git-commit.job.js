const a128_0x1711f3=a128_0x17b3;function a128_0x17b3(_0x55e858,_0x5e4ace){const _0x367f87=a128_0x21f9();return a128_0x17b3=function(_0x53e078,_0x4dfa6c){_0x53e078=_0x53e078-0x141;let _0x21f90b=_0x367f87[_0x53e078];return _0x21f90b;},a128_0x17b3(_0x55e858,_0x5e4ace);}(function(_0x38e799,_0x222449){const _0x53b6a0=a128_0x17b3,_0x327e7b=_0x38e799();while(!![]){try{const _0x402dd3=parseInt(_0x53b6a0(0x149))/0x1+-parseInt(_0x53b6a0(0x18e))/0x2+parseInt(_0x53b6a0(0x148))/0x3*(-parseInt(_0x53b6a0(0x1b5))/0x4)+-parseInt(_0x53b6a0(0x1dc))/0x5+parseInt(_0x53b6a0(0x147))/0x6*(parseInt(_0x53b6a0(0x190))/0x7)+parseInt(_0x53b6a0(0x1a4))/0x8+parseInt(_0x53b6a0(0x1c9))/0x9*(parseInt(_0x53b6a0(0x1b3))/0xa);if(_0x402dd3===_0x222449)break;else _0x327e7b['push'](_0x327e7b['shift']());}catch(_0x5b2f3e){_0x327e7b['push'](_0x327e7b['shift']());}}}(a128_0x21f9,0x8c49a));const a128_0x4dfa6c=(function(){let _0x16eb52=!![];return function(_0x522711,_0x331afd){const _0x13a383=_0x16eb52?function(){const _0x3b5ca8=a128_0x17b3;if(_0x331afd){const _0x2818e6=_0x331afd[_0x3b5ca8(0x17f)](_0x522711,arguments);return _0x331afd=null,_0x2818e6;}}:function(){};return _0x16eb52=![],_0x13a383;};}()),a128_0x53e078=a128_0x4dfa6c(this,function(){const _0x3461e6=a128_0x17b3;return a128_0x53e078[_0x3461e6(0x1bd)]()[_0x3461e6(0x1a8)](_0x3461e6(0x16b))['toString']()[_0x3461e6(0x1e2)](a128_0x53e078)['search']('(((.+)+)+)+$');});a128_0x53e078();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a128_0x1711f3(0x183)]?function(_0x927479,_0x5ae047,_0x112de9,_0x350236){const _0x17e45d=a128_0x1711f3;if(_0x350236===undefined)_0x350236=_0x112de9;var _0x14979f=Object['getOwnPropertyDescriptor'](_0x5ae047,_0x112de9);(!_0x14979f||('get'in _0x14979f?!_0x5ae047[_0x17e45d(0x159)]:_0x14979f[_0x17e45d(0x195)]||_0x14979f[_0x17e45d(0x176)]))&&(_0x14979f={'enumerable':!![],'get':function(){return _0x5ae047[_0x112de9];}}),Object[_0x17e45d(0x1c6)](_0x927479,_0x350236,_0x14979f);}:function(_0x5c9cdc,_0x3a8cc9,_0x172f21,_0x509ab7){if(_0x509ab7===undefined)_0x509ab7=_0x172f21;_0x5c9cdc[_0x509ab7]=_0x3a8cc9[_0x172f21];}),__setModuleDefault=this&&this[a128_0x1711f3(0x19d)]||(Object[a128_0x1711f3(0x183)]?function(_0x88dc4d,_0x5a5361){const _0xa66316=a128_0x1711f3;Object[_0xa66316(0x1c6)](_0x88dc4d,'default',{'enumerable':!![],'value':_0x5a5361});}:function(_0x27ed94,_0x50fd10){const _0x47a9c3=a128_0x1711f3;_0x27ed94[_0x47a9c3(0x1cc)]=_0x50fd10;}),__decorate=this&&this[a128_0x1711f3(0x1f2)]||function(_0x2f171f,_0x401602,_0x987c6a,_0x3c8ef2){const _0x53d63d=a128_0x1711f3;var _0x14b0cc=arguments[_0x53d63d(0x1e0)],_0x4038c9=_0x14b0cc<0x3?_0x401602:_0x3c8ef2===null?_0x3c8ef2=Object['getOwnPropertyDescriptor'](_0x401602,_0x987c6a):_0x3c8ef2,_0x8975f5;if(typeof Reflect===_0x53d63d(0x1c3)&&typeof Reflect[_0x53d63d(0x17b)]===_0x53d63d(0x14c))_0x4038c9=Reflect[_0x53d63d(0x17b)](_0x2f171f,_0x401602,_0x987c6a,_0x3c8ef2);else{for(var _0x56272e=_0x2f171f[_0x53d63d(0x1e0)]-0x1;_0x56272e>=0x0;_0x56272e--)if(_0x8975f5=_0x2f171f[_0x56272e])_0x4038c9=(_0x14b0cc<0x3?_0x8975f5(_0x4038c9):_0x14b0cc>0x3?_0x8975f5(_0x401602,_0x987c6a,_0x4038c9):_0x8975f5(_0x401602,_0x987c6a))||_0x4038c9;}return _0x14b0cc>0x3&&_0x4038c9&&Object[_0x53d63d(0x1c6)](_0x401602,_0x987c6a,_0x4038c9),_0x4038c9;},__importStar=this&&this[a128_0x1711f3(0x1f6)]||function(_0x3e2d2e){const _0x2a04ab=a128_0x1711f3;if(_0x3e2d2e&&_0x3e2d2e[_0x2a04ab(0x159)])return _0x3e2d2e;var _0x4ff40f={};if(_0x3e2d2e!=null){for(var _0x43a903 in _0x3e2d2e)if(_0x43a903!==_0x2a04ab(0x1cc)&&Object['prototype'][_0x2a04ab(0x1b7)][_0x2a04ab(0x188)](_0x3e2d2e,_0x43a903))__createBinding(_0x4ff40f,_0x3e2d2e,_0x43a903);}return __setModuleDefault(_0x4ff40f,_0x3e2d2e),_0x4ff40f;},__metadata=this&&this[a128_0x1711f3(0x16d)]||function(_0x16bd8e,_0x55d221){const _0x12c175=a128_0x1711f3;if(typeof Reflect===_0x12c175(0x1c3)&&typeof Reflect['metadata']==='function')return Reflect[_0x12c175(0x1a9)](_0x16bd8e,_0x55d221);},GitCommitJob_1;function a128_0x21f9(){const _0x5892ec=['decorate','DEFAULT_GIT_USER_NAME','setLoggerId','log','apply','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','config','repositoryGit','create','GitUtils','SalesforceLogger3','get','../../internal/fs.internal','call','gitApiService','../../../shared/utils','Error','BitbucketApiService','map','273894VWrbcM','prepareGitChangedPaths','994qTJagP','force',']\x20Start\x20proceeding\x20git\x20commits.\x20','shift','PathUtils','writable','isEmailNotificationsEnabled','\x20Added\x20','typedi','readFilesByFilename','changes','../../internal/git.internal','../../../../constants','__setModuleDefault','SFDX','stats','commits','../../parsers/utils','../utils/connection','updateRemoteState','2570768ygmRPg','getRecordTypes','createCommit','DEFAULT_GIT_USER_EMAIL','search','metadata','\x20Modified\x20','getProtocol','../../../../core/errors/api.error','modified','handleCommit','branch','env','cleanUp','ProvidersFactory','20VeyamA','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','416WYdUIE','splice','hasOwnProperty','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','path','Email\x20notifications\x20are\x20disabled.','proceedCommits','getBranchId','toString','sfLogger','send','replace','LoggerTypes','resetStats','object','gitCommit','fetchCommits','defineProperty','Completed','push','3155049vMtTMR','\x20Processed\x20','CommitToFlosumCompletedNotification','default','\x20components.','../../providers/providers.tokens','files','fetchComponentsMetadata','commitId','../../salesforce/services/salesforce-logger-v3.service','design:paramtypes','logger','removeDir','dir','name','username','removed','\x20[SFDX:\x20','../../salesforce/utils/sfdx.utils','4758755ohlOIs','\x20commits.','gitProvider','GitProvider','length','../../notifications/commit-to-flosum-completed.notification','constructor','updateFileNamesForSFDXProject','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','mdapiUtils','\x20Download\x20components\x20metadata\x20from\x20Flosum.','convertToCleanPaths','email','MDApiUtils','getGitShellAuthorizationString','CommitToFlosumErrorNotification','Bitbucket','://','\x20Job\x20done.','recordType','prefix','MAX_COMPONENTS_PER_TICK','__decorate','provider','values','\x20Fetch\x20salesforce\x20data.','__importStar','Branch\x20synchronized.\x20Skip.','../../salesforce/services/salesforce-commits-manager.service','errorNotification','checkoutTo','../../providers/api/bitbucket-api.service','catch','execute','Service','message','GitCommitJob','26040oNVbOa','12198oKJpiX','447432dsLuUJ','added','fileNames','function','updateStatus','repository','relative','Last\x20git\x20repository\x20hash\x20is\x20%s.','../utils/mdapi.utils',']\x20[','YES','\x20Start\x20Git-commit\x20job.','fetchRepositoryOrBranchData','getRepositoryId','commit','inserted','__esModule','gitUtils','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','sendComponents','In\x20Progress','Tokens','\x20files\x20before\x20sync.','../../salesforce/errors/salesforce.error','lastCommitHash','../services/git-commit.service','gitCommitData','ApiError','\x20components','describeCommit','\x20Commit\x20Summary','checkSyncStatus','proceedFile','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','(((.+)+)+)+$','isSFDXProject','__metadata','../../salesforce/types/sf-logger-v3-types','isLoggedIn','providersFactory',']\x20[Branch:\x20','reduce','getRemote','../utils/git.utils','prepareMdapi','configurable','../../../../core','run','info','\x20Fetch\x20remote\x20branch\x20hash.'];a128_0x21f9=function(){return _0x5892ec;};return a128_0x21f9();}Object[a128_0x1711f3(0x1c6)](exports,a128_0x1711f3(0x159),{'value':!![]}),exports[a128_0x1711f3(0x146)]=void 0x0;const core_1=require(a128_0x1711f3(0x177)),fs_internal_1=require(a128_0x1711f3(0x187)),salesforce_logger_v3_service_1=require(a128_0x1711f3(0x1d2)),utils_1=require(a128_0x1711f3(0x18a)),path_1=require(a128_0x1711f3(0x1b9)),typedi_1=__importStar(require(a128_0x1711f3(0x198))),constants_1=require(a128_0x1711f3(0x19c)),salesforce_commits_manager_service_1=require(a128_0x1711f3(0x1f8)),git_utils_1=require(a128_0x1711f3(0x174)),mdapi_utils_1=require(a128_0x1711f3(0x151)),api_error_1=require(a128_0x1711f3(0x1ac)),salesforce_error_1=require(a128_0x1711f3(0x160)),git_commit_service_1=require(a128_0x1711f3(0x162)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require(a128_0x1711f3(0x141)),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a128_0x1711f3(0x1db)),utils_2=require(a128_0x1711f3(0x1a1)),git_internal_1=require(a128_0x1711f3(0x19b)),providers_tokens_1=require(a128_0x1711f3(0x1ce)),connection_1=require(a128_0x1711f3(0x1a2)),sf_logger_v3_types_1=require(a128_0x1711f3(0x16e)),path_utils_1=require('../utils/path.utils'),commit_to_flosum_completed_notification_1=require(a128_0x1711f3(0x1e1)),commit_to_flosum_error_notification_1=require('../../notifications/commit-to-flosum-error.notification');let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x30fbd7,_0x51d917){const _0xb76fad=a128_0x1711f3;this[_0xb76fad(0x1c4)]=_0x30fbd7,this[_0xb76fad(0x170)]=_0x51d917,this[_0xb76fad(0x1f1)]=+(process[_0xb76fad(0x1b0)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this[_0xb76fad(0x1d4)]=new core_1['Logger'](GitCommitJob_1[_0xb76fad(0x1d7)]),this['commitId']='',this[_0xb76fad(0x19f)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a128_0x1711f3(0x173)](){const _0x54e6b8=a128_0x1711f3,{repositoryGit:_0x4b048e}=this[_0x54e6b8(0x163)],_0x5ce87d=typedi_1[_0x54e6b8(0x1cc)][_0x54e6b8(0x186)](providers_tokens_1['Tokens']['credentials']);if(this[_0x54e6b8(0x163)][_0x54e6b8(0x1f3)]===git_provider_1[_0x54e6b8(0x1df)][_0x54e6b8(0x1ec)]){const _0x46d862=typedi_1['default'][_0x54e6b8(0x186)](bitbucket_api_service_1[_0x54e6b8(0x18c)]);await _0x46d862[_0x54e6b8(0x16f)]();}return _0x4b048e[_0x54e6b8(0x1c0)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x54e6b8(0x1ab)])(_0x4b048e)+_0x54e6b8(0x1ed)+_0x5ce87d[_0x54e6b8(0x1ea)]()+'@');}async['completeNotification'](_0x44bc19,_0x479163,_0x246564,_0x20faa5){const _0x319a6b=a128_0x1711f3;if(!this[_0x319a6b(0x181)][_0x319a6b(0x196)]){this[_0x319a6b(0x1d4)][_0x319a6b(0x179)](_0x319a6b(0x1ba));return;}await new commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification']({'emails':_0x44bc19,'gitProvider':_0x479163,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1[_0x319a6b(0x1cb)][_0x319a6b(0x1d7)],'repositoryName':_0x246564,'branchName':_0x20faa5})[_0x319a6b(0x143)]();}async['errorNotification'](_0x5e30b4,_0x406f20,_0x3f28c0,_0x1a8ef0){const _0x46e093=a128_0x1711f3;if(!this[_0x46e093(0x181)][_0x46e093(0x196)]){this[_0x46e093(0x1d4)][_0x46e093(0x179)](_0x46e093(0x1ba));return;}await new commit_to_flosum_error_notification_1[(_0x46e093(0x1eb))]({'emails':_0x5e30b4,'gitProvider':_0x406f20,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0x46e093(0x1eb)][_0x46e093(0x1d7)],'repositoryName':_0x3f28c0,'branchName':_0x1a8ef0})[_0x46e093(0x143)]();}[a128_0x1711f3(0x1c2)](){const _0x2e5cba=a128_0x1711f3;this[_0x2e5cba(0x19f)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a128_0x1711f3(0x1e3)](){const _0x1d7aba=a128_0x1711f3,_0xf1a4da=[...this[_0x1d7aba(0x163)]['fileNames']];this['gitCommitData'][_0x1d7aba(0x14b)]=[];for(const _0x1cf1c0 of _0xf1a4da){this['gitCommitData']['fileNames'][_0x1d7aba(0x1c8)](...await(0x0,utils_2[_0x1d7aba(0x199)])(_0x1cf1c0,this[_0x1d7aba(0x1e5)][_0x1d7aba(0x1d6)]));}}async[a128_0x1711f3(0x1c5)](){const _0x7dc381=a128_0x1711f3;if(this[_0x7dc381(0x163)][_0x7dc381(0x191)])return;const _0x294a27=[];for(const _0xa84aad of this[_0x7dc381(0x163)][_0x7dc381(0x1a0)]){const _0x3dee59=await this['gitUtils'][_0x7dc381(0x166)](_0xa84aad['id']);_0xa84aad[_0x7dc381(0x1d8)]=_0x3dee59['author'],_0xa84aad[_0x7dc381(0x145)]=_0x3dee59['message'],_0xa84aad[_0x7dc381(0x1cf)]=_0x3dee59[_0x7dc381(0x19a)],_0xa84aad[_0x7dc381(0x1e8)]=_0x3dee59[_0x7dc381(0x1e8)];if(_0xa84aad[_0x7dc381(0x1e8)]===constants_1[_0x7dc381(0x1a7)])throw new flosum_commit_error_1['FlosumCommitError']();_0x294a27[_0x7dc381(0x1c8)](...Object[_0x7dc381(0x1f4)](_0xa84aad[_0x7dc381(0x1cf)])['flat']());}this[_0x7dc381(0x163)][_0x7dc381(0x14b)]=[...new Set(path_utils_1[_0x7dc381(0x194)][_0x7dc381(0x18f)](this[_0x7dc381(0x1c4)][_0x7dc381(0x1ef)],_0x294a27,![]))];}async[a128_0x1711f3(0x15c)](_0x34706c,_0x5607f4,_0x25e785){const _0x45d0bd=a128_0x1711f3,_0x891c06=_0x25e785[_0x45d0bd(0x172)]((_0xd9bc9b,_0x403b8f)=>{const _0x2fe9f9=_0x45d0bd;return _0xd9bc9b[_0x2fe9f9(0x158)]['push'](..._0x403b8f['inserted']),_0xd9bc9b[_0x2fe9f9(0x1ad)][_0x2fe9f9(0x1c8)](..._0x403b8f[_0x2fe9f9(0x1ad)]),_0xd9bc9b['removed'][_0x2fe9f9(0x1c8)](..._0x403b8f[_0x2fe9f9(0x1d9)]),_0xd9bc9b;},{'inserted':[],'modified':[],'removed':[]}),_0x34bdff=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this[_0x45d0bd(0x1c4)][_0x45d0bd(0x1a5)](),'branchId':this['gitCommit'][_0x45d0bd(0x1bc)](),'repositoryId':this[_0x45d0bd(0x1c4)][_0x45d0bd(0x156)](),'logger':this[_0x45d0bd(0x1be)],'commitId':this[_0x45d0bd(0x1d1)]});await _0x34bdff['proceedCommits']([{'author':_0x34706c,'message':_0x5607f4,'inserted':_0x891c06[_0x45d0bd(0x158)],'modified':_0x891c06[_0x45d0bd(0x1ad)],'removed':_0x891c06['removed']}]);}async['handleCommit'](_0x3bcb5f,_0x4db819){const _0x841655=a128_0x1711f3;await this[_0x841655(0x1be)][_0x841655(0x17e)](this[_0x841655(0x1f0)]+_0x841655(0x1e6))[_0x841655(0x1bf)](),await this[_0x841655(0x1c4)][_0x841655(0x1d0)](_0x4db819);const {added:_0x4ec28e,modified:_0x7a452e,removed:_0x2b683e}=_0x3bcb5f[_0x841655(0x1cf)];_0x4db819&&_0x7a452e[_0x841655(0x1c8)](..._0x2b683e[_0x841655(0x1b6)](0x0));const _0x2d46d2=path_utils_1[_0x841655(0x194)][_0x841655(0x18f)](this[_0x841655(0x1c4)][_0x841655(0x1ef)],[..._0x4ec28e,..._0x7a452e,..._0x2b683e],_0x4db819&&!this[_0x841655(0x163)]['force']),_0x1f0832=(0x0,utils_2[_0x841655(0x1e7)])(_0x2d46d2);let _0x5c7250=0x0;const _0x6d2c7e=[];(_0x4ec28e[_0x841655(0x1e0)]||_0x7a452e[_0x841655(0x1e0)])&&this[_0x841655(0x1c4)][_0x841655(0x156)]()&&(this[_0x841655(0x1d1)]=await this['gitCommit'][_0x841655(0x1a6)](_0x3bcb5f[_0x841655(0x145)]));const _0x5b0e50=_0x1f0832[_0x841655(0x1e0)];let _0x4d2f=0x0;while(_0x1f0832[_0x841655(0x1e0)]){const _0x21c944=_0x1f0832[_0x841655(0x193)](),_0x4a1a56=await this[_0x841655(0x1c4)][_0x841655(0x169)](_0x21c944,this[_0x841655(0x1e5)]['dir'],_0x4db819&&!this[_0x841655(0x163)]['force']);_0x5c7250+=_0x4a1a56['inserted']['length']+_0x4a1a56[_0x841655(0x1d9)][_0x841655(0x1e0)]+_0x4a1a56[_0x841655(0x1ad)][_0x841655(0x1e0)],this['stats'][_0x841655(0x14a)]+=_0x4a1a56[_0x841655(0x158)][_0x841655(0x1e0)],this[_0x841655(0x19f)]['modified']+=_0x4a1a56[_0x841655(0x1ad)][_0x841655(0x1e0)],this[_0x841655(0x19f)][_0x841655(0x1d9)]+=_0x4a1a56[_0x841655(0x1d9)][_0x841655(0x1e0)],_0x4d2f++,_0x4d2f%0x64===0x0&&this['logger'][_0x841655(0x17e)](_0x841655(0x1e4),_0x4d2f,_0x5b0e50,_0x5c7250),_0x6d2c7e[_0x841655(0x1c8)](_0x4a1a56),_0x5c7250>this[_0x841655(0x1f1)]&&(await this[_0x841655(0x15c)](_0x3bcb5f[_0x841655(0x1d8)],_0x3bcb5f['message'],_0x6d2c7e),await this[_0x841655(0x1be)][_0x841655(0x17e)](this['prefix']+_0x841655(0x1ca)+_0x5c7250+_0x841655(0x1cd))[_0x841655(0x1bf)](),_0x5c7250=0x0,_0x6d2c7e['splice'](0x0));}_0x6d2c7e[_0x841655(0x1e0)]&&(await this['sendComponents'](_0x3bcb5f['username'],_0x3bcb5f['message'],_0x6d2c7e),await this[_0x841655(0x1be)][_0x841655(0x17e)](this[_0x841655(0x1f0)]+'\x20Processed\x20'+_0x5c7250+_0x841655(0x1cd))[_0x841655(0x1bf)]());}async['proceedCommits'](_0xc9cef5){const _0x2cf491=a128_0x1711f3,_0x272b2b=[...this[_0x2cf491(0x163)][_0x2cf491(0x1a0)]],_0x132e2d=_0x272b2b[_0x2cf491(0x1e0)];let _0x343dc2=0x0;while(_0x272b2b[_0x2cf491(0x1e0)]){const _0x1cb85b=_0x272b2b['shift']();!this['gitCommitData'][_0x2cf491(0x191)]&&(this[_0x2cf491(0x1c4)]['getRepositoryId']()?(await this['gitUtils'][_0x2cf491(0x1fa)](_0x1cb85b['id']),await this[_0x2cf491(0x1e5)][_0x2cf491(0x175)](this['gitUtils'][_0x2cf491(0x1d6)])):(await this[_0x2cf491(0x15a)][_0x2cf491(0x1fa)](this['lastCommitHash']),await this[_0x2cf491(0x1e5)][_0x2cf491(0x175)](this['gitUtils']['dir']))),await this[_0x2cf491(0x1ae)](_0x1cb85b,_0xc9cef5),await this[_0x2cf491(0x1e5)]['removeDir'](),_0x343dc2+=0x1,await this[_0x2cf491(0x1be)][_0x2cf491(0x17e)](this[_0x2cf491(0x1f0)]+_0x2cf491(0x167)),await this[_0x2cf491(0x1be)][_0x2cf491(0x17e)](this[_0x2cf491(0x1f0)]+_0x2cf491(0x197)+this['stats'][_0x2cf491(0x14a)]+'\x20components'),await this[_0x2cf491(0x1be)]['log'](this[_0x2cf491(0x1f0)]+_0x2cf491(0x1aa)+this[_0x2cf491(0x19f)]['modified']+_0x2cf491(0x165)),await this[_0x2cf491(0x1be)][_0x2cf491(0x17e)](this[_0x2cf491(0x1f0)]+'\x20Removed\x20'+this['stats'][_0x2cf491(0x1d9)]+_0x2cf491(0x165)),await this[_0x2cf491(0x1be)][_0x2cf491(0x17e)](this[_0x2cf491(0x1f0)]+'\x20Proceeded\x20'+_0x343dc2+'/'+_0x132e2d+_0x2cf491(0x1dd))[_0x2cf491(0x1bf)](),this[_0x2cf491(0x1c2)]();}}async[a128_0x1711f3(0x1b1)](){const _0x580ced=a128_0x1711f3;this[_0x580ced(0x15a)]&&await this['gitUtils'][_0x580ced(0x1d5)]()[_0x580ced(0x142)](()=>void 0x0),this[_0x580ced(0x1e5)]&&await this['mdapiUtils'][_0x580ced(0x1d5)]()[_0x580ced(0x142)](()=>void 0x0);}async[a128_0x1711f3(0x178)](_0x1de35f){const _0x1dc159=a128_0x1711f3;this[_0x1dc159(0x163)]=_0x1de35f,this[_0x1dc159(0x1c4)]['setCommitDto'](this[_0x1dc159(0x163)]),this[_0x1dc159(0x189)]=typedi_1['default'][_0x1dc159(0x186)](providers_tokens_1[_0x1dc159(0x15e)][_0x1dc159(0x189)]),this['config']=typedi_1['default'][_0x1dc159(0x186)](providers_tokens_1[_0x1dc159(0x15e)]['config']),this['sfLogger']=typedi_1['default'][_0x1dc159(0x186)](providers_tokens_1[_0x1dc159(0x15e)][_0x1dc159(0x1d4)]),this[_0x1dc159(0x1f0)]='[GIT\x20->\x20FLOSUM]\x20[Repository:\x20'+_0x1de35f['repository']+_0x1dc159(0x171)+_0x1de35f['branch']+_0x1dc159(0x152)+GitCommitJob_1[_0x1dc159(0x1d7)]+']',this[_0x1dc159(0x15a)]=new git_utils_1[(_0x1dc159(0x184))](await this[_0x1dc159(0x173)]()),this[_0x1dc159(0x1e5)]=new mdapi_utils_1[(_0x1dc159(0x1e9))](),this['sfLogger'][_0x1dc159(0x17e)](this['prefix']+_0x1dc159(0x154));try{this['sfLogger'][_0x1dc159(0x17e)](this[_0x1dc159(0x1f0)]+_0x1dc159(0x1f5)),await this[_0x1dc159(0x1c4)][_0x1dc159(0x155)](),await this[_0x1dc159(0x1c4)][_0x1dc159(0x14d)](_0x1dc159(0x15d)),this['sfLogger']['log'](this['prefix']+_0x1dc159(0x17a)),this[_0x1dc159(0x161)]=await git_internal_1['Git']['getRemoteHash'](await this[_0x1dc159(0x173)](),this[_0x1dc159(0x163)][_0x1dc159(0x1af)]),this[_0x1dc159(0x1d4)][_0x1dc159(0x17e)](_0x1dc159(0x150),this[_0x1dc159(0x161)]);const _0x763213=await this[_0x1dc159(0x1c4)][_0x1dc159(0x168)](this['lastCommitHash']);if(_0x763213){this['sfLogger'][_0x1dc159(0x17e)](_0x1dc159(0x1f7)),await this['gitCommit'][_0x1dc159(0x14d)](_0x1dc159(0x1c7));return;}this['sfLogger']['log'](this[_0x1dc159(0x1f0)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this[_0x1dc159(0x163)][_0x1dc159(0x182)]+'.'),await this['gitUtils']['clone'](this[_0x1dc159(0x163)]['branch'],this[_0x1dc159(0x163)][_0x1dc159(0x14e)]),this['sfLogger'][_0x1dc159(0x17e)](this[_0x1dc159(0x1f0)]+_0x1dc159(0x1b8));const _0xe99b09=await sfdx_utils_1[_0x1dc159(0x19e)][_0x1dc159(0x16c)](this[_0x1dc159(0x15a)]['dir']);await this[_0x1dc159(0x1c5)]();!this['sfLogger']['getLoggerId']()&&this[_0x1dc159(0x1be)][_0x1dc159(0x17d)](await salesforce_logger_v3_service_1[_0x1dc159(0x185)]['createLoggerId'](sf_logger_v3_types_1[_0x1dc159(0x1c1)][_0x1dc159(0x157)]));await this[_0x1dc159(0x1be)]['send']();if(_0x1de35f[_0x1dc159(0x191)]){await this[_0x1dc159(0x1e5)][_0x1dc159(0x175)](this[_0x1dc159(0x15a)][_0x1dc159(0x1d6)]),await this[_0x1dc159(0x1be)][_0x1dc159(0x17e)](this[_0x1dc159(0x1f0)]+_0x1dc159(0x1b4))[_0x1dc159(0x1bf)]();const _0x1d4e31=(await fs_internal_1['FS']['readDir'](this[_0x1dc159(0x1e5)][_0x1dc159(0x1d6)],!![]))[_0x1dc159(0x18d)](_0x408c95=>(0x0,path_1[_0x1dc159(0x14f)])(this[_0x1dc159(0x1e5)][_0x1dc159(0x1d6)],_0x408c95));this[_0x1dc159(0x1be)][_0x1dc159(0x17e)](this[_0x1dc159(0x1f0)]+_0x1dc159(0x180)+_0x1d4e31[_0x1dc159(0x1e0)]+_0x1dc159(0x15f)),this[_0x1dc159(0x163)][_0x1dc159(0x14b)]=[],this[_0x1dc159(0x163)][_0x1dc159(0x1a0)]=[{'files':{'modified':_0x1d4e31,'added':[],'removed':[]},'id':await this[_0x1dc159(0x15a)]['getCurrentHash'](),'message':'sync\x20components','username':constants_1[_0x1dc159(0x17c)]}];}await this['gitCommit'][_0x1dc159(0x1a3)]({[this[_0x1dc159(0x163)][_0x1dc159(0x182)]]:{'lastCommit':this['lastCommitHash']}}),await this[_0x1dc159(0x1be)]['log'](this['prefix']+_0x1dc159(0x1da)+(_0xe99b09?_0x1dc159(0x153):'NO')+_0x1dc159(0x192))['send'](),await this[_0x1dc159(0x1bb)](_0xe99b09),await this[_0x1dc159(0x1be)][_0x1dc159(0x17e)](this['prefix']+_0x1dc159(0x1ee))[_0x1dc159(0x1bf)](),await this['gitCommit'][_0x1dc159(0x14d)](_0x1dc159(0x1c7)),await this['completeNotification']([_0x1de35f[_0x1dc159(0x1e8)]],this[_0x1dc159(0x181)][_0x1dc159(0x1de)],_0x1de35f[_0x1dc159(0x14e)],_0x1de35f['branch']);}catch(_0x485593){await this['cleanUp']();if(_0x485593 instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0x1dc159(0x1c4)]['updateStatus'](_0x1dc159(0x1c7))[_0x1dc159(0x142)](()=>void 0x0),this[_0x1dc159(0x1d4)]['log'](this['prefix']+_0x1dc159(0x15b));else{await this[_0x1dc159(0x1d4)]['error'](this[_0x1dc159(0x1f0)]+_0x1dc159(0x16a)+(_0x485593 instanceof api_error_1[_0x1dc159(0x164)]||_0x485593 instanceof salesforce_error_1['SalesforceError']?_0x485593[_0x1dc159(0x1bd)]():_0x485593)),await this['gitCommit']['updateRemoteState']({}),await this[_0x1dc159(0x1c4)]['updateStatus'](_0x1dc159(0x18b))[_0x1dc159(0x142)](()=>void 0x0),await this[_0x1dc159(0x1f9)]([_0x1de35f['email']],this[_0x1dc159(0x181)][_0x1dc159(0x1de)],_0x1de35f[_0x1dc159(0x14e)],_0x1de35f[_0x1dc159(0x1af)]);throw _0x485593;}}finally{await this['cleanUp'](),await this['sfLogger'][_0x1dc159(0x1bf)]()[_0x1dc159(0x142)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a128_0x1711f3(0x144)])({'transient':!![]}),__metadata(a128_0x1711f3(0x1d3),[git_commit_service_1['GitCommitService'],connection_1[a128_0x1711f3(0x1b2)]])],GitCommitJob),exports[a128_0x1711f3(0x146)]=GitCommitJob;