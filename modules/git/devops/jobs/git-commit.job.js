const a107_0x515014=a107_0x4010;(function(_0x61cf7,_0x56493b){const _0x31976a=a107_0x4010,_0x30981c=_0x61cf7();while(!![]){try{const _0x470978=parseInt(_0x31976a(0x1cb))/0x1+-parseInt(_0x31976a(0x1a5))/0x2*(parseInt(_0x31976a(0x1bb))/0x3)+-parseInt(_0x31976a(0x1f9))/0x4+parseInt(_0x31976a(0x1a0))/0x5+-parseInt(_0x31976a(0x175))/0x6+-parseInt(_0x31976a(0x1d4))/0x7*(-parseInt(_0x31976a(0x169))/0x8)+parseInt(_0x31976a(0x1e2))/0x9;if(_0x470978===_0x56493b)break;else _0x30981c['push'](_0x30981c['shift']());}catch(_0x19f44b){_0x30981c['push'](_0x30981c['shift']());}}}(a107_0x2684,0x6b0ae));const a107_0x53e040=(function(){let _0x59cb7f=!![];return function(_0x72d52e,_0x417c81){const _0x380101=_0x59cb7f?function(){const _0x5d3459=a107_0x4010;if(_0x417c81){const _0x33a0a6=_0x417c81[_0x5d3459(0x16c)](_0x72d52e,arguments);return _0x417c81=null,_0x33a0a6;}}:function(){};return _0x59cb7f=![],_0x380101;};}()),a107_0x1f5e3d=a107_0x53e040(this,function(){const _0x3ea43f=a107_0x4010;return a107_0x1f5e3d[_0x3ea43f(0x1df)]()[_0x3ea43f(0x1ba)](_0x3ea43f(0x1e4))[_0x3ea43f(0x1df)]()[_0x3ea43f(0x1ed)](a107_0x1f5e3d)[_0x3ea43f(0x1ba)](_0x3ea43f(0x1e4));});a107_0x1f5e3d();function a107_0x2684(){const _0x4717f5=['GitProvider','map','getCurrentHash','Tokens','__importStar','Branch\x20synchronized.\x20Skip.','\x20Start\x20Git-commit\x20job.','toString','function','commitId','955323XKFsNz','configurable','(((.+)+)+)+$','\x20Cloning\x20git\x20repository\x20from\x20','../../parsers/utils','removed','log','proceedCommits','commit','Service','modified','constructor','convertToCleanPaths','MAX_COMPONENTS_PER_TICK','Bitbucket','default','message','../utils/connection','handleCommit','../../salesforce/utils/sfdx.utils','logger','isLoggedIn','Git','1941008goDjJJ','../../salesforce/types/sf-logger-v3-types','getGitShellAuthorizationString','providersFactory','readDir','lastCommitHash','sfLogger','mdapiUtils','env','\x20Processed\x20','stats','metadata',']\x20[','In\x20Progress','DEFAULT_GIT_USER_EMAIL','prepareGitChangedPaths','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','2684152fYahYJ','__esModule','name','apply','dir','fileNames','createCommit','Completed','\x20commits.','../../../../core','\x20Added\x20','Last\x20git\x20repository\x20hash\x20is\x20%s.','4896966qOKfjO','author','../../../shared/utils','sendComponents','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','gitUtils','getOwnPropertyDescriptor','getRepositoryId','LoggerTypes','gitCommitData','force','create','GitCommitJob','path','../../salesforce/errors/salesforce.error','removeDir','updateStatus','__createBinding','send','length','gitApiService','../utils/git.utils','GitUtils','ProvidersFactory','Error','getRecordTypes','setLoggerId','updateRemoteState','\x20Modified\x20','checkSyncStatus','YES','getRemote','resetStats','fetchRepositoryOrBranchData','inserted','__metadata','\x20components',']\x20Start\x20proceeding\x20git\x20commits.\x20','hasOwnProperty','gitCommit','files','error','push','2943105gDSsRT','createLoggerId','relative','defineProperty','getProtocol','291142ikqlin','proceedFile','shift','object','SalesforceError','branch','config','decorate','getBranchId','get','ApiError','SalesforceCommitsManager','../../../../constants','repositoryGit','FlosumCommitError','updateFileNamesForSFDXProject','../../salesforce/services/salesforce-commits-manager.service','DEFAULT_GIT_USER_NAME','\x20Download\x20components\x20metadata\x20from\x20Flosum.','username','commits','search','3IxlOKA','typedi','\x20Fetch\x20remote\x20branch\x20hash.','flat','\x20components.','prepareMdapi','splice','design:paramtypes','writable','cleanUp','email','replace','provider','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','getRemoteHash','SFDX','519624HmJoUa','call','prototype','Logger','../services/git-commit.service','prefix','added','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','../../internal/git.internal','14YORujW','isSFDXProject','fetchCommits','catch'];a107_0x2684=function(){return _0x4717f5;};return a107_0x2684();}'use strict';var __createBinding=this&&this[a107_0x515014(0x186)]||(Object[a107_0x515014(0x180)]?function(_0x2957b6,_0x540538,_0x2e1020,_0xf3e3d4){const _0x274367=a107_0x515014;if(_0xf3e3d4===undefined)_0xf3e3d4=_0x2e1020;var _0x230f3=Object['getOwnPropertyDescriptor'](_0x540538,_0x2e1020);(!_0x230f3||(_0x274367(0x1ae)in _0x230f3?!_0x540538[_0x274367(0x16a)]:_0x230f3[_0x274367(0x1c3)]||_0x230f3[_0x274367(0x1e3)]))&&(_0x230f3={'enumerable':!![],'get':function(){return _0x540538[_0x2e1020];}}),Object[_0x274367(0x1a3)](_0x2957b6,_0xf3e3d4,_0x230f3);}:function(_0x33a5c7,_0x18e694,_0x70e503,_0x332143){if(_0x332143===undefined)_0x332143=_0x70e503;_0x33a5c7[_0x332143]=_0x18e694[_0x70e503];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a107_0x515014(0x180)]?function(_0x4987fa,_0x1166d8){const _0x55d675=a107_0x515014;Object['defineProperty'](_0x4987fa,_0x55d675(0x1f1),{'enumerable':!![],'value':_0x1166d8});}:function(_0x5c3c6f,_0x393b12){const _0x2600ef=a107_0x515014;_0x5c3c6f[_0x2600ef(0x1f1)]=_0x393b12;}),__decorate=this&&this['__decorate']||function(_0x48e5b6,_0x5e07fb,_0x2a41a7,_0x103c25){const _0x5d1555=a107_0x515014;var _0x9537ab=arguments[_0x5d1555(0x188)],_0x173721=_0x9537ab<0x3?_0x5e07fb:_0x103c25===null?_0x103c25=Object[_0x5d1555(0x17b)](_0x5e07fb,_0x2a41a7):_0x103c25,_0x24cf53;if(typeof Reflect===_0x5d1555(0x1a8)&&typeof Reflect[_0x5d1555(0x1ac)]===_0x5d1555(0x1e0))_0x173721=Reflect[_0x5d1555(0x1ac)](_0x48e5b6,_0x5e07fb,_0x2a41a7,_0x103c25);else{for(var _0x42a109=_0x48e5b6[_0x5d1555(0x188)]-0x1;_0x42a109>=0x0;_0x42a109--)if(_0x24cf53=_0x48e5b6[_0x42a109])_0x173721=(_0x9537ab<0x3?_0x24cf53(_0x173721):_0x9537ab>0x3?_0x24cf53(_0x5e07fb,_0x2a41a7,_0x173721):_0x24cf53(_0x5e07fb,_0x2a41a7))||_0x173721;}return _0x9537ab>0x3&&_0x173721&&Object[_0x5d1555(0x1a3)](_0x5e07fb,_0x2a41a7,_0x173721),_0x173721;},__importStar=this&&this[a107_0x515014(0x1dc)]||function(_0x5e472b){const _0xd6af80=a107_0x515014;if(_0x5e472b&&_0x5e472b[_0xd6af80(0x16a)])return _0x5e472b;var _0x531fac={};if(_0x5e472b!=null){for(var _0x13cecc in _0x5e472b)if(_0x13cecc!==_0xd6af80(0x1f1)&&Object[_0xd6af80(0x1cd)][_0xd6af80(0x19b)][_0xd6af80(0x1cc)](_0x5e472b,_0x13cecc))__createBinding(_0x531fac,_0x5e472b,_0x13cecc);}return __setModuleDefault(_0x531fac,_0x5e472b),_0x531fac;},__metadata=this&&this[a107_0x515014(0x198)]||function(_0x150459,_0x26237f){const _0x25df9c=a107_0x515014;if(typeof Reflect===_0x25df9c(0x1a8)&&typeof Reflect[_0x25df9c(0x163)]==='function')return Reflect[_0x25df9c(0x163)](_0x150459,_0x26237f);},GitCommitJob_1;function a107_0x4010(_0x3f45c6,_0x3a2c40){const _0x177600=a107_0x2684();return a107_0x4010=function(_0x1f5e3d,_0x53e040){_0x1f5e3d=_0x1f5e3d-0x15f;let _0x2684c1=_0x177600[_0x1f5e3d];return _0x2684c1;},a107_0x4010(_0x3f45c6,_0x3a2c40);}Object[a107_0x515014(0x1a3)](exports,a107_0x515014(0x16a),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require(a107_0x515014(0x172)),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),utils_1=require(a107_0x515014(0x177)),path_1=require(a107_0x515014(0x182)),typedi_1=__importStar(require(a107_0x515014(0x1bc))),constants_1=require(a107_0x515014(0x1b1)),salesforce_commits_manager_service_1=require(a107_0x515014(0x1b5)),git_commit_utils_1=require('../utils/git-commit.utils'),git_utils_1=require(a107_0x515014(0x18a)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require('../../../../core/errors/api.error'),salesforce_error_1=require(a107_0x515014(0x183)),git_commit_service_1=require(a107_0x515014(0x1cf)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a107_0x515014(0x1f5)),utils_2=require(a107_0x515014(0x1e6)),git_internal_1=require(a107_0x515014(0x1d3)),providers_tokens_1=require('../../providers/providers.tokens'),connection_1=require(a107_0x515014(0x1f3)),sf_logger_v3_types_1=require(a107_0x515014(0x1fa));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x4716e7,_0x2c9d56){const _0x46e224=a107_0x515014;this[_0x46e224(0x19c)]=_0x4716e7,this[_0x46e224(0x1fc)]=_0x2c9d56,this[_0x46e224(0x1ef)]=+(process[_0x46e224(0x160)][_0x46e224(0x1ef)]||0xbb8),this[_0x46e224(0x1f6)]=new core_1[(_0x46e224(0x1ce))](GitCommitJob_1['name']),this[_0x46e224(0x1e1)]='',this[_0x46e224(0x162)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x515014(0x194)](){const _0x1eca12=a107_0x515014,{repositoryGit:_0x2115af}=this[_0x1eca12(0x17e)],_0x270e1f=typedi_1[_0x1eca12(0x1f1)]['get'](providers_tokens_1[_0x1eca12(0x1db)]['credentials']);if(this[_0x1eca12(0x17e)][_0x1eca12(0x1c7)]===git_provider_1[_0x1eca12(0x1d8)][_0x1eca12(0x1f0)]){const _0x1010c6=typedi_1[_0x1eca12(0x1f1)][_0x1eca12(0x1ae)](bitbucket_api_service_1['BitbucketApiService']);await _0x1010c6[_0x1eca12(0x1f7)]();}return _0x2115af[_0x1eca12(0x1c6)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1eca12(0x1a4)])(_0x2115af)+'://'+_0x270e1f[_0x1eca12(0x1fb)]()+'@');}['resetStats'](){const _0xec0c01=a107_0x515014;this[_0xec0c01(0x162)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x515014(0x1b4)](){const _0x190c6c=a107_0x515014,_0x471be2=[...this[_0x190c6c(0x17e)][_0x190c6c(0x16e)]];this['gitCommitData'][_0x190c6c(0x16e)]=[];for(const _0x578231 of _0x471be2){this['gitCommitData'][_0x190c6c(0x16e)][_0x190c6c(0x19f)](...await(0x0,utils_2['readFilesByFilename'])(_0x578231,this[_0x190c6c(0x15f)][_0x190c6c(0x16d)]));}}async[a107_0x515014(0x1d6)](){const _0x158202=a107_0x515014;if(this[_0x158202(0x17e)][_0x158202(0x17f)])return;const _0x9db4e2=[];for(const _0x4501c8 of this['gitCommitData'][_0x158202(0x1b9)]){const _0x36b57c=await this['gitUtils']['describeCommit'](_0x4501c8['id']);_0x4501c8['username']=_0x36b57c[_0x158202(0x176)],_0x4501c8[_0x158202(0x1f2)]=_0x36b57c[_0x158202(0x1f2)],_0x4501c8['files']=_0x36b57c['changes'],_0x4501c8[_0x158202(0x1c5)]=_0x36b57c[_0x158202(0x1c5)];if(_0x4501c8[_0x158202(0x1c5)]===constants_1[_0x158202(0x166)])throw new flosum_commit_error_1[(_0x158202(0x1b3))]();_0x9db4e2['push'](...Object['values'](_0x4501c8[_0x158202(0x19d)])[_0x158202(0x1be)]());}this[_0x158202(0x17e)][_0x158202(0x16e)]=[...new Set((0x0,git_commit_utils_1[_0x158202(0x167)])(_0x9db4e2))];}async[a107_0x515014(0x178)](_0x369881,_0x211e32,_0xa2767b){const _0x36a2f4=a107_0x515014,_0x3db958=_0xa2767b['reduce']((_0x4eb27d,_0x2bc4af)=>{const _0x167131=a107_0x4010;return _0x4eb27d[_0x167131(0x197)]['push'](..._0x2bc4af[_0x167131(0x197)]),_0x4eb27d[_0x167131(0x1ec)][_0x167131(0x19f)](..._0x2bc4af[_0x167131(0x1ec)]),_0x4eb27d[_0x167131(0x1e7)]['push'](..._0x2bc4af[_0x167131(0x1e7)]),_0x4eb27d;},{'inserted':[],'modified':[],'removed':[]}),_0x1198b2=new salesforce_commits_manager_service_1[(_0x36a2f4(0x1b0))]({'recordTypes':this[_0x36a2f4(0x19c)][_0x36a2f4(0x18e)](),'branchId':this[_0x36a2f4(0x19c)][_0x36a2f4(0x1ad)](),'repositoryId':this[_0x36a2f4(0x19c)][_0x36a2f4(0x17c)](),'logger':this[_0x36a2f4(0x1ff)],'commitId':this[_0x36a2f4(0x1e1)]});await _0x1198b2[_0x36a2f4(0x1e9)]([{'author':_0x369881,'message':_0x211e32,'inserted':_0x3db958[_0x36a2f4(0x197)],'modified':_0x3db958['modified'],'removed':_0x3db958[_0x36a2f4(0x1e7)]}]);}async['handleCommit'](_0x193503,_0x180812){const _0x41d415=a107_0x515014;await this[_0x41d415(0x1ff)]['log'](this[_0x41d415(0x1d0)]+_0x41d415(0x1b7))[_0x41d415(0x187)](),await this[_0x41d415(0x19c)]['fetchComponentsMetadata'](_0x180812);const {added:_0x483bd3,modified:_0x1bb0fc,removed:_0x4dcfff}=_0x193503[_0x41d415(0x19d)];_0x180812&&_0x1bb0fc[_0x41d415(0x19f)](..._0x4dcfff[_0x41d415(0x1c1)](0x0));const _0x235cb0=(0x0,utils_2[_0x41d415(0x1ee)])((0x0,git_commit_utils_1['prepareGitChangedPaths'])([..._0x483bd3,..._0x1bb0fc,..._0x4dcfff],_0x180812&&!this['gitCommitData'][_0x41d415(0x17f)]));let _0x90747a=0x0;const _0x32a9c3=[];(_0x483bd3[_0x41d415(0x188)]||_0x1bb0fc[_0x41d415(0x188)])&&this[_0x41d415(0x19c)][_0x41d415(0x17c)]()&&(this[_0x41d415(0x1e1)]=await this[_0x41d415(0x19c)][_0x41d415(0x16f)](_0x193503[_0x41d415(0x1f2)]));const _0xa1e8b4=_0x235cb0['length'];let _0x11c6f7=0x0;while(_0x235cb0[_0x41d415(0x188)]){const _0x4f6e4d=_0x235cb0[_0x41d415(0x1a7)](),_0x26c033=await this[_0x41d415(0x19c)][_0x41d415(0x1a6)](_0x4f6e4d,this[_0x41d415(0x15f)][_0x41d415(0x16d)],_0x180812&&!this[_0x41d415(0x17e)][_0x41d415(0x17f)]);_0x90747a+=_0x26c033[_0x41d415(0x197)]['length']+_0x26c033[_0x41d415(0x1e7)][_0x41d415(0x188)]+_0x26c033[_0x41d415(0x1ec)][_0x41d415(0x188)],this[_0x41d415(0x162)][_0x41d415(0x1d1)]+=_0x26c033[_0x41d415(0x197)][_0x41d415(0x188)],this[_0x41d415(0x162)][_0x41d415(0x1ec)]+=_0x26c033['modified']['length'],this[_0x41d415(0x162)][_0x41d415(0x1e7)]+=_0x26c033['removed']['length'],_0x11c6f7++,_0x11c6f7%0x64===0x0&&this[_0x41d415(0x1f6)][_0x41d415(0x1e8)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x11c6f7,_0xa1e8b4,_0x90747a),_0x32a9c3['push'](_0x26c033),_0x90747a>this['MAX_COMPONENTS_PER_TICK']&&(await this[_0x41d415(0x178)](_0x193503['username'],_0x193503[_0x41d415(0x1f2)],_0x32a9c3),await this['sfLogger'][_0x41d415(0x1e8)](this[_0x41d415(0x1d0)]+_0x41d415(0x161)+_0x90747a+_0x41d415(0x1bf))['send'](),_0x90747a=0x0,_0x32a9c3['splice'](0x0));}_0x32a9c3[_0x41d415(0x188)]&&(await this[_0x41d415(0x178)](_0x193503[_0x41d415(0x1b8)],_0x193503['message'],_0x32a9c3),await this[_0x41d415(0x1ff)]['log'](this[_0x41d415(0x1d0)]+_0x41d415(0x161)+_0x90747a+_0x41d415(0x1bf))[_0x41d415(0x187)]());}async[a107_0x515014(0x1e9)](_0x1d7a46){const _0x3bf9d8=a107_0x515014,_0x44d0fa=[...this[_0x3bf9d8(0x17e)][_0x3bf9d8(0x1b9)]],_0x23e382=_0x44d0fa[_0x3bf9d8(0x188)];let _0x4629ab=0x0;while(_0x44d0fa[_0x3bf9d8(0x188)]){const _0x29a687=_0x44d0fa[_0x3bf9d8(0x1a7)]();!this[_0x3bf9d8(0x17e)][_0x3bf9d8(0x17f)]&&(this[_0x3bf9d8(0x19c)][_0x3bf9d8(0x17c)]()?(await this[_0x3bf9d8(0x17a)]['checkoutTo'](_0x29a687['id']),await this[_0x3bf9d8(0x15f)][_0x3bf9d8(0x1c0)](this[_0x3bf9d8(0x17a)][_0x3bf9d8(0x16d)])):(await this[_0x3bf9d8(0x17a)]['checkoutTo'](this[_0x3bf9d8(0x1fe)]),await this['mdapiUtils'][_0x3bf9d8(0x1c0)](this[_0x3bf9d8(0x17a)]['dir']))),await this[_0x3bf9d8(0x1f4)](_0x29a687,_0x1d7a46),await this[_0x3bf9d8(0x15f)][_0x3bf9d8(0x184)](),_0x4629ab+=0x1,await this[_0x3bf9d8(0x1ff)][_0x3bf9d8(0x1e8)](this['prefix']+'\x20Commit\x20Summary'),await this['sfLogger'][_0x3bf9d8(0x1e8)](this[_0x3bf9d8(0x1d0)]+_0x3bf9d8(0x173)+this[_0x3bf9d8(0x162)][_0x3bf9d8(0x1d1)]+_0x3bf9d8(0x199)),await this[_0x3bf9d8(0x1ff)]['log'](this['prefix']+_0x3bf9d8(0x191)+this[_0x3bf9d8(0x162)][_0x3bf9d8(0x1ec)]+_0x3bf9d8(0x199)),await this[_0x3bf9d8(0x1ff)][_0x3bf9d8(0x1e8)](this[_0x3bf9d8(0x1d0)]+'\x20Removed\x20'+this[_0x3bf9d8(0x162)][_0x3bf9d8(0x1e7)]+_0x3bf9d8(0x199)),await this[_0x3bf9d8(0x1ff)][_0x3bf9d8(0x1e8)](this['prefix']+'\x20Proceeded\x20'+_0x4629ab+'/'+_0x23e382+_0x3bf9d8(0x171))[_0x3bf9d8(0x187)](),this[_0x3bf9d8(0x195)]();}}async[a107_0x515014(0x1c4)](){const _0x254668=a107_0x515014;this[_0x254668(0x17a)]&&await this['gitUtils'][_0x254668(0x184)]()[_0x254668(0x1d7)](()=>void 0x0),this[_0x254668(0x15f)]&&await this[_0x254668(0x15f)][_0x254668(0x184)]()[_0x254668(0x1d7)](()=>void 0x0);}async['run'](_0x970457){const _0x184ab8=a107_0x515014;this[_0x184ab8(0x17e)]=_0x970457,this[_0x184ab8(0x19c)]['setCommitDto'](this['gitCommitData']),this[_0x184ab8(0x189)]=typedi_1['default'][_0x184ab8(0x1ae)](providers_tokens_1['Tokens'][_0x184ab8(0x189)]),this[_0x184ab8(0x1ab)]=typedi_1[_0x184ab8(0x1f1)][_0x184ab8(0x1ae)](providers_tokens_1[_0x184ab8(0x1db)][_0x184ab8(0x1ab)]),this[_0x184ab8(0x1ff)]=typedi_1[_0x184ab8(0x1f1)][_0x184ab8(0x1ae)](providers_tokens_1[_0x184ab8(0x1db)]['logger']),this[_0x184ab8(0x1d0)]=_0x184ab8(0x179)+_0x970457['repository']+']\x20[Branch:\x20'+_0x970457[_0x184ab8(0x1aa)]+_0x184ab8(0x164)+GitCommitJob_1[_0x184ab8(0x16b)]+']',this[_0x184ab8(0x17a)]=new git_utils_1[(_0x184ab8(0x18b))](await this[_0x184ab8(0x194)]()),this[_0x184ab8(0x15f)]=new mdapi_utils_1['MDApiUtils'](),this[_0x184ab8(0x1ff)][_0x184ab8(0x1e8)](this[_0x184ab8(0x1d0)]+_0x184ab8(0x1de));try{this[_0x184ab8(0x1ff)][_0x184ab8(0x1e8)](this['prefix']+'\x20Fetch\x20salesforce\x20data.'),await this[_0x184ab8(0x19c)][_0x184ab8(0x196)](),await this[_0x184ab8(0x19c)]['updateStatus'](_0x184ab8(0x165)),this[_0x184ab8(0x1ff)]['log'](this['prefix']+_0x184ab8(0x1bd)),this[_0x184ab8(0x1fe)]=await git_internal_1[_0x184ab8(0x1f8)][_0x184ab8(0x1c9)](await this['getRemote'](),this[_0x184ab8(0x17e)]['branch']),this['logger']['log'](_0x184ab8(0x174),this[_0x184ab8(0x1fe)]);const _0x18a585=await this[_0x184ab8(0x19c)][_0x184ab8(0x192)](this[_0x184ab8(0x1fe)]);if(_0x18a585){this[_0x184ab8(0x1ff)][_0x184ab8(0x1e8)](_0x184ab8(0x1dd)),await this[_0x184ab8(0x19c)][_0x184ab8(0x185)]('Completed');return;}this[_0x184ab8(0x1ff)]['log'](this['prefix']+_0x184ab8(0x1e5)+this[_0x184ab8(0x17e)][_0x184ab8(0x1b2)]+'.'),await this[_0x184ab8(0x17a)]['clone'](this['gitCommitData'][_0x184ab8(0x1aa)],this[_0x184ab8(0x17e)]['repository']),this['sfLogger'][_0x184ab8(0x1e8)](this[_0x184ab8(0x1d0)]+_0x184ab8(0x1d2));const _0x3be1e8=await sfdx_utils_1[_0x184ab8(0x1ca)][_0x184ab8(0x1d5)](this[_0x184ab8(0x17a)][_0x184ab8(0x16d)]);await this[_0x184ab8(0x1d6)]();!this['sfLogger']['getLoggerId']()&&this[_0x184ab8(0x1ff)][_0x184ab8(0x18f)](await salesforce_logger_v3_service_1['SalesforceLogger3'][_0x184ab8(0x1a1)](sf_logger_v3_types_1[_0x184ab8(0x17d)][_0x184ab8(0x1ea)]));await this[_0x184ab8(0x1ff)]['send']();if(_0x970457[_0x184ab8(0x17f)]){await this[_0x184ab8(0x15f)][_0x184ab8(0x1c0)](this[_0x184ab8(0x17a)][_0x184ab8(0x16d)]),await this['sfLogger'][_0x184ab8(0x1e8)](this[_0x184ab8(0x1d0)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')[_0x184ab8(0x187)]();const _0x5c46b0=(await fs_internal_1['FS'][_0x184ab8(0x1fd)](this['mdapiUtils'][_0x184ab8(0x16d)],!![]))[_0x184ab8(0x1d9)](_0x36bbbf=>(0x0,path_1[_0x184ab8(0x1a2)])(this[_0x184ab8(0x15f)][_0x184ab8(0x16d)],_0x36bbbf));this[_0x184ab8(0x1ff)][_0x184ab8(0x1e8)](this['prefix']+_0x184ab8(0x1c8)+_0x5c46b0[_0x184ab8(0x188)]+'\x20files\x20before\x20sync.'),this['gitCommitData'][_0x184ab8(0x16e)]=[],this[_0x184ab8(0x17e)]['commits']=[{'files':{'modified':_0x5c46b0,'added':[],'removed':[]},'id':await this[_0x184ab8(0x17a)][_0x184ab8(0x1da)](),'message':'sync\x20components','username':constants_1[_0x184ab8(0x1b6)]}];}await this[_0x184ab8(0x19c)][_0x184ab8(0x190)]({[this[_0x184ab8(0x17e)]['repositoryGit']]:{'lastCommit':this[_0x184ab8(0x1fe)]}}),await this['sfLogger'][_0x184ab8(0x1e8)](this[_0x184ab8(0x1d0)]+'\x20[SFDX:\x20'+(_0x3be1e8?_0x184ab8(0x193):'NO')+_0x184ab8(0x19a))[_0x184ab8(0x187)](),await this['proceedCommits'](_0x3be1e8),await this[_0x184ab8(0x1ff)]['log'](this['prefix']+'\x20Job\x20done.')[_0x184ab8(0x187)](),await this[_0x184ab8(0x19c)][_0x184ab8(0x185)](_0x184ab8(0x170));}catch(_0x1bf6ad){await this[_0x184ab8(0x1c4)]();if(_0x1bf6ad instanceof flosum_commit_error_1['FlosumCommitError'])await this['gitCommit']['updateStatus']('Completed')['catch'](()=>void 0x0),this['logger'][_0x184ab8(0x1e8)](this[_0x184ab8(0x1d0)]+_0x184ab8(0x168));else{await this['logger'][_0x184ab8(0x19e)](this[_0x184ab8(0x1d0)]+'\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20'+(_0x1bf6ad instanceof api_error_1[_0x184ab8(0x1af)]||_0x1bf6ad instanceof salesforce_error_1[_0x184ab8(0x1a9)]?_0x1bf6ad[_0x184ab8(0x1df)]():_0x1bf6ad)),await this[_0x184ab8(0x19c)]['updateRemoteState']({}),await this[_0x184ab8(0x19c)][_0x184ab8(0x185)](_0x184ab8(0x18d))[_0x184ab8(0x1d7)](()=>void 0x0);throw _0x1bf6ad;}}finally{await this[_0x184ab8(0x1c4)](),await this[_0x184ab8(0x1ff)][_0x184ab8(0x187)]()[_0x184ab8(0x1d7)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x515014(0x1eb)])({'transient':!![]}),__metadata(a107_0x515014(0x1c2),[git_commit_service_1['GitCommitService'],connection_1[a107_0x515014(0x18c)]])],GitCommitJob),exports[a107_0x515014(0x181)]=GitCommitJob;