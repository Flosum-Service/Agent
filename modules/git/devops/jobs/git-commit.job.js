const a127_0x399a88=a127_0x21df;(function(_0x2f1815,_0x4d1ea8){const _0x37c7be=a127_0x21df,_0x554933=_0x2f1815();while(!![]){try{const _0x2d8a2b=-parseInt(_0x37c7be(0x258))/0x1*(parseInt(_0x37c7be(0x1fe))/0x2)+parseInt(_0x37c7be(0x237))/0x3+-parseInt(_0x37c7be(0x22f))/0x4*(-parseInt(_0x37c7be(0x281))/0x5)+parseInt(_0x37c7be(0x265))/0x6+-parseInt(_0x37c7be(0x256))/0x7*(-parseInt(_0x37c7be(0x217))/0x8)+-parseInt(_0x37c7be(0x210))/0x9*(-parseInt(_0x37c7be(0x25b))/0xa)+-parseInt(_0x37c7be(0x202))/0xb;if(_0x2d8a2b===_0x4d1ea8)break;else _0x554933['push'](_0x554933['shift']());}catch(_0x573aee){_0x554933['push'](_0x554933['shift']());}}}(a127_0x2dc5,0xa9c39));const a127_0x957c6e=(function(){let _0x1b725c=!![];return function(_0xeafada,_0x308792){const _0x532d4c=_0x1b725c?function(){if(_0x308792){const _0x5e84ca=_0x308792['apply'](_0xeafada,arguments);return _0x308792=null,_0x5e84ca;}}:function(){};return _0x1b725c=![],_0x532d4c;};}()),a127_0x2b9380=a127_0x957c6e(this,function(){const _0x133915=a127_0x21df;return a127_0x2b9380[_0x133915(0x23f)]()[_0x133915(0x222)](_0x133915(0x29d))[_0x133915(0x23f)]()[_0x133915(0x239)](a127_0x2b9380)[_0x133915(0x222)]('(((.+)+)+)+$');});a127_0x2b9380();function a127_0x21df(_0xd9f844,_0x536e4e){const _0x2c422a=a127_0x2dc5();return a127_0x21df=function(_0x2b9380,_0x957c6e){_0x2b9380=_0x2b9380-0x1eb;let _0x2dc5e7=_0x2c422a[_0x2b9380];return _0x2dc5e7;},a127_0x21df(_0xd9f844,_0x536e4e);}'use strict';function a127_0x2dc5(){const _0x2e504d=['recordType','://','Last\x20git\x20repository\x20hash\x20is\x20%s.','replace','changes','prototype','Git','20sqpXHB','metadata','../../../../constants','Logger','commit','send','../utils/connection','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','removeDir','username','gitUtils','../../../shared/utils','resetStats','getBranchId','handleCommit','errorNotification','getRecordTypes','get','removed','defineProperty','getLoggerId','added','sfLogger','../../providers/api/bitbucket-api.service','fileNames','Branch\x20synchronized.\x20Skip.','\x20Proceeded\x20','mdapiUtils','(((.+)+)+)+$','isSFDXProject','\x20commits.','getRemote','logger','../utils/git.utils','prepareMdapi','getOwnPropertyDescriptor','updateStatus','cleanUp','providersFactory',']\x20[','name','../utils/mdapi.utils','__esModule','\x20components','lastCommitHash','GitCommitService','CommitToFlosumCompletedNotification','ApiError','\x20Cloning\x20git\x20repository\x20from\x20','../../internal/fs.internal','Tokens','modified','readDir','766348hpLhdV','isEmailNotificationsEnabled','create','../../internal/git.internal','29229673HycAcF','sendComponents','path','env','__createBinding','design:paramtypes','BitbucketApiService','checkoutTo','relative','ProvidersFactory','completeNotification','commits','inserted','message','7209oLwwpG','function','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','getRepositoryId','typedi','MDApiUtils','email','4576GdphNv','branch','\x20Processed\x20','dir','../../providers/providers.tokens','gitApiService','gitCommit','proceedCommits','\x20Fetch\x20remote\x20branch\x20hash.','getProtocol','\x20Download\x20components\x20metadata\x20from\x20Flosum.','search','provider','log','FlosumCommitError','CommitToFlosumErrorNotification','GitCommitJob','MAX_COMPONENTS_PER_TICK','fetchComponentsMetadata','repository','../../salesforce/utils/sfdx.utils','Completed','values','commitId','1029176YEPgzF','GitProvider','stats','clone','YES','call','\x20Removed\x20','push','3644412rCupXz','credentials','constructor','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','../errors/flosum-commit.error','describeCommit','prepareGitChangedPaths','reduce','toString','../../salesforce/types/sf-logger-v3-types','updateRemoteState','createCommit','convertToCleanPaths','gitProvider','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','\x20Commit\x20Summary','LoggerTypes','shift','\x20Job\x20done.','Email\x20notifications\x20are\x20disabled.','../../parsers/utils','Error','PathUtils','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','\x20Added\x20','force','author','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','execute','default','14875JrzdJR','../../notifications/commit-to-flosum-error.notification','2cLaaDn','getRemoteHash','map','140zjlMzk','\x20components.','proceedFile','length','catch','../../../../core/errors/api.error','configurable','../../salesforce/services/salesforce-logger-v3.service','Service','object','3889500HDHxRB','fetchRepositoryOrBranchData','__decorate','isLoggedIn','gitCommitData','getGitShellAuthorizationString','splice','fetchCommits','DEFAULT_GIT_USER_EMAIL','hasOwnProperty','\x20Start\x20Git-commit\x20job.','\x20Fetch\x20salesforce\x20data.','flat','config','files','repositoryGit',']\x20[Branch:\x20','SalesforceCommitsManager','prefix','info','error'];a127_0x2dc5=function(){return _0x2e504d;};return a127_0x2dc5();}var __createBinding=this&&this[a127_0x399a88(0x206)]||(Object['create']?function(_0x2c07d9,_0x3641f7,_0x3b2315,_0x163f45){const _0x203312=a127_0x399a88;if(_0x163f45===undefined)_0x163f45=_0x3b2315;var _0x482f5b=Object['getOwnPropertyDescriptor'](_0x3641f7,_0x3b2315);(!_0x482f5b||(_0x203312(0x292)in _0x482f5b?!_0x3641f7[_0x203312(0x1f3)]:_0x482f5b['writable']||_0x482f5b[_0x203312(0x261)]))&&(_0x482f5b={'enumerable':!![],'get':function(){return _0x3641f7[_0x3b2315];}}),Object[_0x203312(0x294)](_0x2c07d9,_0x163f45,_0x482f5b);}:function(_0x1349ec,_0x4f0cbb,_0x1a12a9,_0x2913e5){if(_0x2913e5===undefined)_0x2913e5=_0x1a12a9;_0x1349ec[_0x2913e5]=_0x4f0cbb[_0x1a12a9];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a127_0x399a88(0x200)]?function(_0x5c205e,_0x5e95f1){const _0x4892ba=a127_0x399a88;Object[_0x4892ba(0x294)](_0x5c205e,_0x4892ba(0x255),{'enumerable':!![],'value':_0x5e95f1});}:function(_0x26628b,_0x12489e){const _0x2dcf2f=a127_0x399a88;_0x26628b[_0x2dcf2f(0x255)]=_0x12489e;}),__decorate=this&&this[a127_0x399a88(0x267)]||function(_0x183aaf,_0x2ac71a,_0xb7b7ff,_0x659f4f){const _0x58fa7d=a127_0x399a88;var _0x550177=arguments[_0x58fa7d(0x25e)],_0x18b2da=_0x550177<0x3?_0x2ac71a:_0x659f4f===null?_0x659f4f=Object[_0x58fa7d(0x1ec)](_0x2ac71a,_0xb7b7ff):_0x659f4f,_0x136ed1;if(typeof Reflect===_0x58fa7d(0x264)&&typeof Reflect['decorate']==='function')_0x18b2da=Reflect['decorate'](_0x183aaf,_0x2ac71a,_0xb7b7ff,_0x659f4f);else{for(var _0x1f14ed=_0x183aaf[_0x58fa7d(0x25e)]-0x1;_0x1f14ed>=0x0;_0x1f14ed--)if(_0x136ed1=_0x183aaf[_0x1f14ed])_0x18b2da=(_0x550177<0x3?_0x136ed1(_0x18b2da):_0x550177>0x3?_0x136ed1(_0x2ac71a,_0xb7b7ff,_0x18b2da):_0x136ed1(_0x2ac71a,_0xb7b7ff))||_0x18b2da;}return _0x550177>0x3&&_0x18b2da&&Object[_0x58fa7d(0x294)](_0x2ac71a,_0xb7b7ff,_0x18b2da),_0x18b2da;},__importStar=this&&this['__importStar']||function(_0x5eead0){const _0x289568=a127_0x399a88;if(_0x5eead0&&_0x5eead0[_0x289568(0x1f3)])return _0x5eead0;var _0x26227b={};if(_0x5eead0!=null){for(var _0x431654 in _0x5eead0)if(_0x431654!==_0x289568(0x255)&&Object[_0x289568(0x27f)][_0x289568(0x26e)][_0x289568(0x234)](_0x5eead0,_0x431654))__createBinding(_0x26227b,_0x5eead0,_0x431654);}return __setModuleDefault(_0x26227b,_0x5eead0),_0x26227b;},__metadata=this&&this['__metadata']||function(_0x33f337,_0x171145){const _0x22bc6a=a127_0x399a88;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x22bc6a(0x211))return Reflect[_0x22bc6a(0x282)](_0x33f337,_0x171145);},GitCommitJob_1;Object[a127_0x399a88(0x294)](exports,a127_0x399a88(0x1f3),{'value':!![]}),exports[a127_0x399a88(0x227)]=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a127_0x399a88(0x1fa)),salesforce_logger_v3_service_1=require(a127_0x399a88(0x262)),utils_1=require(a127_0x399a88(0x28c)),path_1=require(a127_0x399a88(0x204)),typedi_1=__importStar(require(a127_0x399a88(0x214))),constants_1=require(a127_0x399a88(0x283)),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_utils_1=require(a127_0x399a88(0x2a2)),mdapi_utils_1=require(a127_0x399a88(0x1f2)),api_error_1=require(a127_0x399a88(0x260)),salesforce_error_1=require('../../salesforce/errors/salesforce.error'),git_commit_service_1=require('../services/git-commit.service'),flosum_commit_error_1=require(a127_0x399a88(0x23b)),bitbucket_api_service_1=require(a127_0x399a88(0x298)),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a127_0x399a88(0x22b)),utils_2=require(a127_0x399a88(0x24c)),git_internal_1=require(a127_0x399a88(0x201)),providers_tokens_1=require(a127_0x399a88(0x21b)),connection_1=require(a127_0x399a88(0x287)),sf_logger_v3_types_1=require(a127_0x399a88(0x240)),path_utils_1=require('../utils/path.utils'),commit_to_flosum_completed_notification_1=require('../../notifications/commit-to-flosum-completed.notification'),commit_to_flosum_error_notification_1=require(a127_0x399a88(0x257));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x34eabb,_0x24ecb1){const _0x133b04=a127_0x399a88;this['gitCommit']=_0x34eabb,this[_0x133b04(0x1ef)]=_0x24ecb1,this['MAX_COMPONENTS_PER_TICK']=+(process[_0x133b04(0x205)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this[_0x133b04(0x2a1)]=new core_1[(_0x133b04(0x284))](GitCommitJob_1['name']),this['commitId']='',this[_0x133b04(0x231)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a127_0x399a88(0x2a0)](){const _0x2adc2d=a127_0x399a88,{repositoryGit:_0x24fe32}=this[_0x2adc2d(0x269)],_0x479dfb=typedi_1[_0x2adc2d(0x255)][_0x2adc2d(0x292)](providers_tokens_1['Tokens'][_0x2adc2d(0x238)]);if(this[_0x2adc2d(0x269)][_0x2adc2d(0x223)]===git_provider_1[_0x2adc2d(0x230)]['Bitbucket']){const _0x1aa9e4=typedi_1[_0x2adc2d(0x255)]['get'](bitbucket_api_service_1[_0x2adc2d(0x208)]);await _0x1aa9e4[_0x2adc2d(0x268)]();}return _0x24fe32[_0x2adc2d(0x27d)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2adc2d(0x220)])(_0x24fe32)+_0x2adc2d(0x27b)+_0x479dfb[_0x2adc2d(0x26a)]()+'@');}async[a127_0x399a88(0x20c)](_0x2de2fa,_0x191a11,_0x52d465,_0x3cb27e){const _0x3d9013=a127_0x399a88;if(!this['config'][_0x3d9013(0x1ff)]){this[_0x3d9013(0x2a1)]['info']('Email\x20notifications\x20are\x20disabled.');return;}await new commit_to_flosum_completed_notification_1[(_0x3d9013(0x1f7))]({'emails':_0x2de2fa,'gitProvider':_0x191a11,'completionTime':new Date(),'loggerName':commit_to_flosum_completed_notification_1['CommitToFlosumCompletedNotification'][_0x3d9013(0x1f1)],'repositoryName':_0x52d465,'branchName':_0x3cb27e})[_0x3d9013(0x254)]();}async[a127_0x399a88(0x290)](_0x5bc6ce,_0x486df6,_0x1217e4,_0x228c0a){const _0x64de5d=a127_0x399a88;if(!this[_0x64de5d(0x272)]['isEmailNotificationsEnabled']){this['logger'][_0x64de5d(0x278)](_0x64de5d(0x24b));return;}await new commit_to_flosum_error_notification_1[(_0x64de5d(0x226))]({'emails':_0x5bc6ce,'gitProvider':_0x486df6,'completionTime':new Date(),'loggerName':commit_to_flosum_error_notification_1[_0x64de5d(0x226)]['name'],'repositoryName':_0x1217e4,'branchName':_0x228c0a})[_0x64de5d(0x254)]();}['resetStats'](){const _0x429170=a127_0x399a88;this[_0x429170(0x231)]={'removed':0x0,'modified':0x0,'added':0x0};}async['updateFileNamesForSFDXProject'](){const _0x3c4fde=a127_0x399a88,_0x444c83=[...this[_0x3c4fde(0x269)]['fileNames']];this[_0x3c4fde(0x269)][_0x3c4fde(0x299)]=[];for(const _0x3c43d6 of _0x444c83){this[_0x3c4fde(0x269)][_0x3c4fde(0x299)][_0x3c4fde(0x236)](...await(0x0,utils_2['readFilesByFilename'])(_0x3c43d6,this['mdapiUtils'][_0x3c4fde(0x21a)]));}}async['fetchCommits'](){const _0x5dcae7=a127_0x399a88;if(this[_0x5dcae7(0x269)][_0x5dcae7(0x251)])return;const _0x31ff83=[];for(const _0x4be016 of this[_0x5dcae7(0x269)][_0x5dcae7(0x20d)]){const _0x34e7ee=await this[_0x5dcae7(0x28b)][_0x5dcae7(0x23c)](_0x4be016['id']);_0x4be016[_0x5dcae7(0x28a)]=_0x34e7ee[_0x5dcae7(0x252)],_0x4be016[_0x5dcae7(0x20f)]=_0x34e7ee[_0x5dcae7(0x20f)],_0x4be016[_0x5dcae7(0x273)]=_0x34e7ee[_0x5dcae7(0x27e)],_0x4be016[_0x5dcae7(0x216)]=_0x34e7ee['email'];if(_0x4be016[_0x5dcae7(0x216)]===constants_1[_0x5dcae7(0x26d)])throw new flosum_commit_error_1[(_0x5dcae7(0x225))]();_0x31ff83[_0x5dcae7(0x236)](...Object[_0x5dcae7(0x22d)](_0x4be016[_0x5dcae7(0x273)])[_0x5dcae7(0x271)]());}this['gitCommitData']['fileNames']=[...new Set(path_utils_1[_0x5dcae7(0x24e)][_0x5dcae7(0x23d)](this[_0x5dcae7(0x21d)]['recordType'],_0x31ff83,![]))];}async[a127_0x399a88(0x203)](_0x4db49a,_0xecd86,_0x471754){const _0x598970=a127_0x399a88,_0x3ffee5=_0x471754[_0x598970(0x23e)]((_0x3d28ce,_0x6643b1)=>{const _0x5ddf3b=_0x598970;return _0x3d28ce['inserted'][_0x5ddf3b(0x236)](..._0x6643b1['inserted']),_0x3d28ce['modified'][_0x5ddf3b(0x236)](..._0x6643b1[_0x5ddf3b(0x1fc)]),_0x3d28ce[_0x5ddf3b(0x293)][_0x5ddf3b(0x236)](..._0x6643b1[_0x5ddf3b(0x293)]),_0x3d28ce;},{'inserted':[],'modified':[],'removed':[]}),_0x40f432=new salesforce_commits_manager_service_1[(_0x598970(0x276))]({'recordTypes':this[_0x598970(0x21d)][_0x598970(0x291)](),'branchId':this[_0x598970(0x21d)][_0x598970(0x28e)](),'repositoryId':this[_0x598970(0x21d)][_0x598970(0x213)](),'logger':this[_0x598970(0x297)],'commitId':this[_0x598970(0x22e)]});await _0x40f432[_0x598970(0x21e)]([{'author':_0x4db49a,'message':_0xecd86,'inserted':_0x3ffee5[_0x598970(0x20e)],'modified':_0x3ffee5[_0x598970(0x1fc)],'removed':_0x3ffee5[_0x598970(0x293)]}]);}async['handleCommit'](_0x4d8b03,_0x11ebf1){const _0x4535ea=a127_0x399a88;await this[_0x4535ea(0x297)][_0x4535ea(0x224)](this[_0x4535ea(0x277)]+_0x4535ea(0x221))[_0x4535ea(0x286)](),await this[_0x4535ea(0x21d)][_0x4535ea(0x229)](_0x11ebf1);const {added:_0x16a76c,modified:_0x2449a6,removed:_0xfb59e0}=_0x4d8b03[_0x4535ea(0x273)];_0x11ebf1&&_0x2449a6[_0x4535ea(0x236)](..._0xfb59e0[_0x4535ea(0x26b)](0x0));const _0x56465e=path_utils_1[_0x4535ea(0x24e)]['prepareGitChangedPaths'](this[_0x4535ea(0x21d)][_0x4535ea(0x27a)],[..._0x16a76c,..._0x2449a6,..._0xfb59e0],_0x11ebf1&&!this[_0x4535ea(0x269)]['force']),_0xb52f0d=(0x0,utils_2[_0x4535ea(0x243)])(_0x56465e);let _0x125126=0x0;const _0x4b6e55=[];(_0x16a76c['length']||_0x2449a6[_0x4535ea(0x25e)])&&this[_0x4535ea(0x21d)]['getRepositoryId']()&&(this[_0x4535ea(0x22e)]=await this[_0x4535ea(0x21d)][_0x4535ea(0x242)](_0x4d8b03[_0x4535ea(0x20f)]));const _0x3fcd94=_0xb52f0d[_0x4535ea(0x25e)];let _0x5d0cfd=0x0;while(_0xb52f0d[_0x4535ea(0x25e)]){const _0x4b8a7a=_0xb52f0d[_0x4535ea(0x249)](),_0x2a3a29=await this[_0x4535ea(0x21d)][_0x4535ea(0x25d)](_0x4b8a7a,this[_0x4535ea(0x29c)][_0x4535ea(0x21a)],_0x11ebf1&&!this[_0x4535ea(0x269)]['force']);_0x125126+=_0x2a3a29[_0x4535ea(0x20e)][_0x4535ea(0x25e)]+_0x2a3a29['removed'][_0x4535ea(0x25e)]+_0x2a3a29['modified']['length'],this['stats'][_0x4535ea(0x296)]+=_0x2a3a29['inserted'][_0x4535ea(0x25e)],this[_0x4535ea(0x231)][_0x4535ea(0x1fc)]+=_0x2a3a29['modified'][_0x4535ea(0x25e)],this['stats']['removed']+=_0x2a3a29[_0x4535ea(0x293)][_0x4535ea(0x25e)],_0x5d0cfd++,_0x5d0cfd%0x64===0x0&&this[_0x4535ea(0x2a1)][_0x4535ea(0x224)](_0x4535ea(0x246),_0x5d0cfd,_0x3fcd94,_0x125126),_0x4b6e55[_0x4535ea(0x236)](_0x2a3a29),_0x125126>this[_0x4535ea(0x228)]&&(await this[_0x4535ea(0x203)](_0x4d8b03['username'],_0x4d8b03[_0x4535ea(0x20f)],_0x4b6e55),await this[_0x4535ea(0x297)][_0x4535ea(0x224)](this[_0x4535ea(0x277)]+_0x4535ea(0x219)+_0x125126+'\x20components.')[_0x4535ea(0x286)](),_0x125126=0x0,_0x4b6e55[_0x4535ea(0x26b)](0x0));}_0x4b6e55[_0x4535ea(0x25e)]&&(await this['sendComponents'](_0x4d8b03[_0x4535ea(0x28a)],_0x4d8b03['message'],_0x4b6e55),await this['sfLogger']['log'](this[_0x4535ea(0x277)]+_0x4535ea(0x219)+_0x125126+_0x4535ea(0x25c))[_0x4535ea(0x286)]());}async[a127_0x399a88(0x21e)](_0x4eaccb){const _0x1d8b22=a127_0x399a88,_0x452eb5=[...this[_0x1d8b22(0x269)]['commits']],_0x493978=_0x452eb5[_0x1d8b22(0x25e)];let _0x42f7ea=0x0;while(_0x452eb5[_0x1d8b22(0x25e)]){const _0x359570=_0x452eb5['shift']();!this['gitCommitData'][_0x1d8b22(0x251)]&&(this[_0x1d8b22(0x21d)]['getRepositoryId']()?(await this[_0x1d8b22(0x28b)][_0x1d8b22(0x209)](_0x359570['id']),await this[_0x1d8b22(0x29c)][_0x1d8b22(0x1eb)](this['gitUtils'][_0x1d8b22(0x21a)])):(await this[_0x1d8b22(0x28b)]['checkoutTo'](this['lastCommitHash']),await this[_0x1d8b22(0x29c)][_0x1d8b22(0x1eb)](this[_0x1d8b22(0x28b)][_0x1d8b22(0x21a)]))),await this[_0x1d8b22(0x28f)](_0x359570,_0x4eaccb),await this[_0x1d8b22(0x29c)]['removeDir'](),_0x42f7ea+=0x1,await this[_0x1d8b22(0x297)][_0x1d8b22(0x224)](this[_0x1d8b22(0x277)]+_0x1d8b22(0x247)),await this[_0x1d8b22(0x297)]['log'](this[_0x1d8b22(0x277)]+_0x1d8b22(0x250)+this[_0x1d8b22(0x231)][_0x1d8b22(0x296)]+_0x1d8b22(0x1f4)),await this[_0x1d8b22(0x297)][_0x1d8b22(0x224)](this['prefix']+'\x20Modified\x20'+this[_0x1d8b22(0x231)][_0x1d8b22(0x1fc)]+_0x1d8b22(0x1f4)),await this[_0x1d8b22(0x297)][_0x1d8b22(0x224)](this[_0x1d8b22(0x277)]+_0x1d8b22(0x235)+this[_0x1d8b22(0x231)][_0x1d8b22(0x293)]+_0x1d8b22(0x1f4)),await this['sfLogger'][_0x1d8b22(0x224)](this['prefix']+_0x1d8b22(0x29b)+_0x42f7ea+'/'+_0x493978+_0x1d8b22(0x29f))['send'](),this[_0x1d8b22(0x28d)]();}}async[a127_0x399a88(0x1ee)](){const _0x42d455=a127_0x399a88;this[_0x42d455(0x28b)]&&await this[_0x42d455(0x28b)][_0x42d455(0x289)]()[_0x42d455(0x25f)](()=>void 0x0),this[_0x42d455(0x29c)]&&await this[_0x42d455(0x29c)][_0x42d455(0x289)]()[_0x42d455(0x25f)](()=>void 0x0);}async['run'](_0x21cc10){const _0x120c3c=a127_0x399a88;this[_0x120c3c(0x269)]=_0x21cc10,this[_0x120c3c(0x21d)]['setCommitDto'](this[_0x120c3c(0x269)]),this[_0x120c3c(0x21c)]=typedi_1[_0x120c3c(0x255)]['get'](providers_tokens_1[_0x120c3c(0x1fb)][_0x120c3c(0x21c)]),this[_0x120c3c(0x272)]=typedi_1[_0x120c3c(0x255)][_0x120c3c(0x292)](providers_tokens_1[_0x120c3c(0x1fb)][_0x120c3c(0x272)]),this[_0x120c3c(0x297)]=typedi_1['default'][_0x120c3c(0x292)](providers_tokens_1[_0x120c3c(0x1fb)]['logger']),this[_0x120c3c(0x277)]=_0x120c3c(0x245)+_0x21cc10[_0x120c3c(0x22a)]+_0x120c3c(0x275)+_0x21cc10[_0x120c3c(0x218)]+_0x120c3c(0x1f0)+GitCommitJob_1['name']+']',this[_0x120c3c(0x28b)]=new git_utils_1['GitUtils'](await this[_0x120c3c(0x2a0)]()),this['mdapiUtils']=new mdapi_utils_1[(_0x120c3c(0x215))](),this['sfLogger'][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x26f));try{this['sfLogger'][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x270)),await this['gitCommit'][_0x120c3c(0x266)](),await this['gitCommit'][_0x120c3c(0x1ed)]('In\x20Progress'),this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x21f)),this[_0x120c3c(0x1f5)]=await git_internal_1[_0x120c3c(0x280)][_0x120c3c(0x259)](await this['getRemote'](),this[_0x120c3c(0x269)][_0x120c3c(0x218)]),this['logger'][_0x120c3c(0x224)](_0x120c3c(0x27c),this[_0x120c3c(0x1f5)]);const _0x321b83=await this['gitCommit']['checkSyncStatus'](this[_0x120c3c(0x1f5)]);if(_0x321b83){this['sfLogger'][_0x120c3c(0x224)](_0x120c3c(0x29a)),await this['gitCommit'][_0x120c3c(0x1ed)](_0x120c3c(0x22c));return;}this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x1f9)+this[_0x120c3c(0x269)][_0x120c3c(0x274)]+'.'),await this[_0x120c3c(0x28b)][_0x120c3c(0x232)](this['gitCommitData'][_0x120c3c(0x218)],this[_0x120c3c(0x269)][_0x120c3c(0x22a)]),this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x253));const _0x2a8800=await sfdx_utils_1['SFDX'][_0x120c3c(0x29e)](this[_0x120c3c(0x28b)][_0x120c3c(0x21a)]);await this[_0x120c3c(0x26c)]();!this[_0x120c3c(0x297)][_0x120c3c(0x295)]()&&this[_0x120c3c(0x297)]['setLoggerId'](await salesforce_logger_v3_service_1['SalesforceLogger3']['createLoggerId'](sf_logger_v3_types_1[_0x120c3c(0x248)][_0x120c3c(0x285)]));await this[_0x120c3c(0x297)]['send']();if(_0x21cc10[_0x120c3c(0x251)]){await this[_0x120c3c(0x29c)][_0x120c3c(0x1eb)](this['gitUtils'][_0x120c3c(0x21a)]),await this[_0x120c3c(0x297)]['log'](this[_0x120c3c(0x277)]+_0x120c3c(0x212))[_0x120c3c(0x286)]();const _0x657b91=(await fs_internal_1['FS'][_0x120c3c(0x1fd)](this[_0x120c3c(0x29c)][_0x120c3c(0x21a)],!![]))[_0x120c3c(0x25a)](_0x2d94a4=>(0x0,path_1[_0x120c3c(0x20a)])(this['mdapiUtils'][_0x120c3c(0x21a)],_0x2d94a4));this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x23a)+_0x657b91[_0x120c3c(0x25e)]+'\x20files\x20before\x20sync.'),this[_0x120c3c(0x269)][_0x120c3c(0x299)]=[],this[_0x120c3c(0x269)][_0x120c3c(0x20d)]=[{'files':{'modified':_0x657b91,'added':[],'removed':[]},'id':await this['gitUtils']['getCurrentHash'](),'message':'sync\x20components','username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this[_0x120c3c(0x21d)][_0x120c3c(0x241)]({[this['gitCommitData'][_0x120c3c(0x274)]]:{'lastCommit':this[_0x120c3c(0x1f5)]}}),await this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+'\x20[SFDX:\x20'+(_0x2a8800?_0x120c3c(0x233):'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x120c3c(0x286)](),await this['proceedCommits'](_0x2a8800),await this[_0x120c3c(0x297)][_0x120c3c(0x224)](this[_0x120c3c(0x277)]+_0x120c3c(0x24a))[_0x120c3c(0x286)](),await this[_0x120c3c(0x21d)][_0x120c3c(0x1ed)]('Completed'),await this[_0x120c3c(0x20c)]([_0x21cc10[_0x120c3c(0x216)]],this[_0x120c3c(0x272)][_0x120c3c(0x244)],_0x21cc10[_0x120c3c(0x22a)],_0x21cc10[_0x120c3c(0x218)]);}catch(_0x546d5a){await this[_0x120c3c(0x1ee)]();if(_0x546d5a instanceof flosum_commit_error_1[_0x120c3c(0x225)])await this[_0x120c3c(0x21d)][_0x120c3c(0x1ed)]('Completed')[_0x120c3c(0x25f)](()=>void 0x0),this[_0x120c3c(0x2a1)][_0x120c3c(0x224)](this['prefix']+_0x120c3c(0x288));else{await this[_0x120c3c(0x2a1)][_0x120c3c(0x279)](this[_0x120c3c(0x277)]+_0x120c3c(0x24f)+(_0x546d5a instanceof api_error_1[_0x120c3c(0x1f8)]||_0x546d5a instanceof salesforce_error_1['SalesforceError']?_0x546d5a[_0x120c3c(0x23f)]():_0x546d5a)),await this[_0x120c3c(0x21d)][_0x120c3c(0x241)]({}),await this[_0x120c3c(0x21d)][_0x120c3c(0x1ed)](_0x120c3c(0x24d))[_0x120c3c(0x25f)](()=>void 0x0),await this[_0x120c3c(0x290)]([_0x21cc10[_0x120c3c(0x216)]],this[_0x120c3c(0x272)]['gitProvider'],_0x21cc10[_0x120c3c(0x22a)],_0x21cc10[_0x120c3c(0x218)]);throw _0x546d5a;}}finally{await this[_0x120c3c(0x1ee)](),await this[_0x120c3c(0x297)][_0x120c3c(0x286)]()[_0x120c3c(0x25f)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a127_0x399a88(0x263)])({'transient':!![]}),__metadata(a127_0x399a88(0x207),[git_commit_service_1[a127_0x399a88(0x1f6)],connection_1[a127_0x399a88(0x20b)]])],GitCommitJob),exports[a127_0x399a88(0x227)]=GitCommitJob;