const a107_0x3c00de=a107_0x3e53;(function(_0x38dacf,_0x5c7481){const _0x1dd0ea=a107_0x3e53,_0x549975=_0x38dacf();while(!![]){try{const _0x5cadf5=parseInt(_0x1dd0ea(0x1db))/0x1+parseInt(_0x1dd0ea(0x21f))/0x2+-parseInt(_0x1dd0ea(0x203))/0x3*(parseInt(_0x1dd0ea(0x207))/0x4)+parseInt(_0x1dd0ea(0x239))/0x5+parseInt(_0x1dd0ea(0x200))/0x6+parseInt(_0x1dd0ea(0x22d))/0x7*(-parseInt(_0x1dd0ea(0x258))/0x8)+parseInt(_0x1dd0ea(0x243))/0x9*(-parseInt(_0x1dd0ea(0x274))/0xa);if(_0x5cadf5===_0x5c7481)break;else _0x549975['push'](_0x549975['shift']());}catch(_0x5a6a8e){_0x549975['push'](_0x549975['shift']());}}}(a107_0x54a1,0xe1fba));function a107_0x54a1(){const _0x136cd2=['../../parsers/utils','getRemoteHash','updateRemoteState','\x20components','added','sendComponents','GitCommitService','getRepositoryId','repository','Git','reduce','repositoryGit','setCommitDto','defineProperty','getRemote','getRecordTypes','readFilesByFilename','handleCommit','Completed','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20',']\x20[Branch:\x20','../../salesforce/services/salesforce-commits-manager.service','convertToCleanPaths','3074324AfSaeE','files','sync\x20components','\x20Start\x20Git-commit\x20job.','modified','MDApiUtils','mdapiUtils','prototype','typedi','dir','MAX_COMPONENTS_PER_TICK','../utils/git-commit.utils','getGitShellAuthorizationString','getLoggerId','423451JVFGFk','GitUtils','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','hasOwnProperty','gitCommit','env','(((.+)+)+)+$','\x20Removed\x20','../../salesforce/errors/salesforce.error','catch','checkoutTo','Last\x20git\x20repository\x20hash\x20is\x20%s.','7708430Suzadw','toString','SalesforceCommitsManager','../../salesforce/types/sf-logger-v3-types','../../providers/providers.tokens','\x20Download\x20components\x20metadata\x20from\x20Flosum.','__setModuleDefault','fileNames','LoggerTypes','writable','274041RzGlVi','\x20Processed\x20',']\x20[','__esModule','__metadata','shift',']\x20Start\x20proceeding\x20git\x20commits.\x20','object','prefix','Tokens','BitbucketApiService','sfLogger','commits','\x20Cloning\x20git\x20repository\x20from\x20','configurable','call','splice','isLoggedIn','__importStar','function','SalesforceLogger3','208ntlBHo','default','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','../../providers/types/git-provider','values','describeCommit','getBranchId','path','updateFileNamesForSFDXProject','updateStatus','createLoggerId','message','force','gitUtils','fetchCommits','inserted','../errors/flosum-commit.error','resetStats','push','\x20components.','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','commitId','constructor','metadata','../utils/git.utils','Service','checkSyncStatus','create','190emwTkl','setLoggerId','stats','get','FlosumCommitError','__decorate','clone','removeDir','../../../../constants','\x20Added\x20','\x20Fetch\x20remote\x20branch\x20hash.','relative','length','SalesforceError','prepareGitChangedPaths','../../internal/git.internal','username','gitCommitData','fetchRepositoryOrBranchData','366255tUjPUm','DEFAULT_GIT_USER_NAME','changes','cleanUp','\x20Job\x20done.','email','isSFDXProject','GitProvider','YES','gitApiService','name','removed','decorate','getProtocol','search','\x20commits.','log','Bitbucket','branch','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','../../internal/fs.internal','../../salesforce/services/salesforce-logger-v3.service','getOwnPropertyDescriptor','GitCommitJob','Branch\x20synchronized.\x20Skip.','\x20Modified\x20','\x20Fetch\x20salesforce\x20data.','send','ApiError','fetchComponentsMetadata','lastCommitHash','error','map','commit','Logger','://','\x20Commit\x20Summary','2311176bHpfTX','proceedFile','logger','429dPEqUf','flat','proceedCommits','prepareMdapi','21072KoUUeH'];a107_0x54a1=function(){return _0x136cd2;};return a107_0x54a1();}const a107_0x2d49bd=(function(){let _0x4654e7=!![];return function(_0x18ce9b,_0xf93ead){const _0x106364=_0x4654e7?function(){if(_0xf93ead){const _0x219ec0=_0xf93ead['apply'](_0x18ce9b,arguments);return _0xf93ead=null,_0x219ec0;}}:function(){};return _0x4654e7=![],_0x106364;};}()),a107_0x546b5c=a107_0x2d49bd(this,function(){const _0x4600b5=a107_0x3e53;return a107_0x546b5c[_0x4600b5(0x23a)]()[_0x4600b5(0x1e9)](_0x4600b5(0x233))[_0x4600b5(0x23a)]()[_0x4600b5(0x26e)](a107_0x546b5c)['search']('(((.+)+)+)+$');});function a107_0x3e53(_0x2a8a1e,_0x32bc5d){const _0x47b40e=a107_0x54a1();return a107_0x3e53=function(_0x546b5c,_0x2d49bd){_0x546b5c=_0x546b5c-0x1ca;let _0x54a163=_0x47b40e[_0x546b5c];return _0x54a163;},a107_0x3e53(_0x2a8a1e,_0x32bc5d);}a107_0x546b5c();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a107_0x3c00de(0x273)]?function(_0xe850c8,_0x1576ba,_0x5635ae,_0x787451){const _0x57466f=a107_0x3c00de;if(_0x787451===undefined)_0x787451=_0x5635ae;var _0x35aecb=Object[_0x57466f(0x1f1)](_0x1576ba,_0x5635ae);(!_0x35aecb||('get'in _0x35aecb?!_0x1576ba['__esModule']:_0x35aecb[_0x57466f(0x242)]||_0x35aecb[_0x57466f(0x251)]))&&(_0x35aecb={'enumerable':!![],'get':function(){return _0x1576ba[_0x5635ae];}}),Object[_0x57466f(0x215)](_0xe850c8,_0x787451,_0x35aecb);}:function(_0x344ae1,_0x2bd334,_0x215e15,_0x217a72){if(_0x217a72===undefined)_0x217a72=_0x215e15;_0x344ae1[_0x217a72]=_0x2bd334[_0x215e15];}),__setModuleDefault=this&&this[a107_0x3c00de(0x23f)]||(Object[a107_0x3c00de(0x273)]?function(_0x4274ea,_0x50e6b0){const _0x5e1a30=a107_0x3c00de;Object[_0x5e1a30(0x215)](_0x4274ea,_0x5e1a30(0x259),{'enumerable':!![],'value':_0x50e6b0});}:function(_0x9c9d93,_0x397904){const _0xf1a733=a107_0x3c00de;_0x9c9d93[_0xf1a733(0x259)]=_0x397904;}),__decorate=this&&this[a107_0x3c00de(0x1cd)]||function(_0x29db2f,_0x30cc0d,_0x47fd1e,_0x155d6e){const _0x32fd0d=a107_0x3c00de;var _0x2e6d21=arguments['length'],_0x6ac4e7=_0x2e6d21<0x3?_0x30cc0d:_0x155d6e===null?_0x155d6e=Object['getOwnPropertyDescriptor'](_0x30cc0d,_0x47fd1e):_0x155d6e,_0x589f90;if(typeof Reflect===_0x32fd0d(0x24a)&&typeof Reflect[_0x32fd0d(0x1e7)]==='function')_0x6ac4e7=Reflect['decorate'](_0x29db2f,_0x30cc0d,_0x47fd1e,_0x155d6e);else{for(var _0x3f1886=_0x29db2f[_0x32fd0d(0x1d4)]-0x1;_0x3f1886>=0x0;_0x3f1886--)if(_0x589f90=_0x29db2f[_0x3f1886])_0x6ac4e7=(_0x2e6d21<0x3?_0x589f90(_0x6ac4e7):_0x2e6d21>0x3?_0x589f90(_0x30cc0d,_0x47fd1e,_0x6ac4e7):_0x589f90(_0x30cc0d,_0x47fd1e))||_0x6ac4e7;}return _0x2e6d21>0x3&&_0x6ac4e7&&Object[_0x32fd0d(0x215)](_0x30cc0d,_0x47fd1e,_0x6ac4e7),_0x6ac4e7;},__importStar=this&&this[a107_0x3c00de(0x255)]||function(_0x4cf2b3){const _0x116882=a107_0x3c00de;if(_0x4cf2b3&&_0x4cf2b3[_0x116882(0x246)])return _0x4cf2b3;var _0x323053={};if(_0x4cf2b3!=null){for(var _0x4a1a33 in _0x4cf2b3)if(_0x4a1a33!==_0x116882(0x259)&&Object[_0x116882(0x226)][_0x116882(0x230)][_0x116882(0x252)](_0x4cf2b3,_0x4a1a33))__createBinding(_0x323053,_0x4cf2b3,_0x4a1a33);}return __setModuleDefault(_0x323053,_0x4cf2b3),_0x323053;},__metadata=this&&this[a107_0x3c00de(0x247)]||function(_0xbdeea0,_0x5638ed){const _0x14ca17=a107_0x3c00de;if(typeof Reflect===_0x14ca17(0x24a)&&typeof Reflect[_0x14ca17(0x26f)]===_0x14ca17(0x256))return Reflect[_0x14ca17(0x26f)](_0xbdeea0,_0x5638ed);},GitCommitJob_1;Object[a107_0x3c00de(0x215)](exports,'__esModule',{'value':!![]}),exports[a107_0x3c00de(0x1f2)]=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a107_0x3c00de(0x1ef)),salesforce_logger_v3_service_1=require(a107_0x3c00de(0x1f0)),utils_1=require('../../../shared/utils'),path_1=require(a107_0x3c00de(0x25f)),typedi_1=__importStar(require(a107_0x3c00de(0x227))),constants_1=require(a107_0x3c00de(0x1d0)),salesforce_commits_manager_service_1=require(a107_0x3c00de(0x21d)),git_commit_utils_1=require(a107_0x3c00de(0x22a)),git_utils_1=require(a107_0x3c00de(0x270)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require('../../../../core/errors/api.error'),salesforce_error_1=require(a107_0x3c00de(0x235)),git_commit_service_1=require('../services/git-commit.service'),flosum_commit_error_1=require(a107_0x3c00de(0x268)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a107_0x3c00de(0x25b)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),utils_2=require(a107_0x3c00de(0x208)),git_internal_1=require(a107_0x3c00de(0x1d7)),providers_tokens_1=require(a107_0x3c00de(0x23d)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require(a107_0x3c00de(0x23c));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x41606c,_0x4bce5d){const _0x4cfecb=a107_0x3c00de;this[_0x4cfecb(0x231)]=_0x41606c,this['providersFactory']=_0x4bce5d,this['MAX_COMPONENTS_PER_TICK']=+(process[_0x4cfecb(0x232)][_0x4cfecb(0x229)]||0xbb8),this[_0x4cfecb(0x202)]=new core_1[(_0x4cfecb(0x1fd))](GitCommitJob_1[_0x4cfecb(0x1e5)]),this['commitId']='',this[_0x4cfecb(0x1ca)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x3c00de(0x216)](){const _0x1f1380=a107_0x3c00de,{repositoryGit:_0x347e28}=this[_0x1f1380(0x1d9)],_0x543733=typedi_1[_0x1f1380(0x259)][_0x1f1380(0x1cb)](providers_tokens_1[_0x1f1380(0x24c)]['credentials']);if(this[_0x1f1380(0x1d9)]['provider']===git_provider_1[_0x1f1380(0x1e2)][_0x1f1380(0x1ec)]){const _0xdde4cc=typedi_1[_0x1f1380(0x259)][_0x1f1380(0x1cb)](bitbucket_api_service_1[_0x1f1380(0x24d)]);await _0xdde4cc[_0x1f1380(0x254)]();}return _0x347e28['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x1f1380(0x1e8)])(_0x347e28)+_0x1f1380(0x1fe)+_0x543733[_0x1f1380(0x22b)]()+'@');}[a107_0x3c00de(0x269)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x3c00de(0x260)](){const _0x503132=a107_0x3c00de,_0x38b844=[...this[_0x503132(0x1d9)][_0x503132(0x240)]];this['gitCommitData'][_0x503132(0x240)]=[];for(const _0x3b1c9b of _0x38b844){this[_0x503132(0x1d9)][_0x503132(0x240)][_0x503132(0x26a)](...await(0x0,utils_2[_0x503132(0x218)])(_0x3b1c9b,this['mdapiUtils'][_0x503132(0x228)]));}}async[a107_0x3c00de(0x266)](){const _0x3d04dd=a107_0x3c00de;if(this['gitCommitData'][_0x3d04dd(0x264)])return;const _0xc6a117=[];for(const _0x2ef87d of this[_0x3d04dd(0x1d9)][_0x3d04dd(0x24f)]){const _0xd13c74=await this[_0x3d04dd(0x265)][_0x3d04dd(0x25d)](_0x2ef87d['id']);_0x2ef87d[_0x3d04dd(0x1d8)]=_0xd13c74['author'],_0x2ef87d[_0x3d04dd(0x263)]=_0xd13c74[_0x3d04dd(0x263)],_0x2ef87d[_0x3d04dd(0x220)]=_0xd13c74[_0x3d04dd(0x1dd)],_0x2ef87d[_0x3d04dd(0x1e0)]=_0xd13c74[_0x3d04dd(0x1e0)];if(_0x2ef87d[_0x3d04dd(0x1e0)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1[(_0x3d04dd(0x1cc))]();_0xc6a117[_0x3d04dd(0x26a)](...Object[_0x3d04dd(0x25c)](_0x2ef87d[_0x3d04dd(0x220)])[_0x3d04dd(0x204)]());}this[_0x3d04dd(0x1d9)]['fileNames']=[...new Set((0x0,git_commit_utils_1[_0x3d04dd(0x1d6)])(_0xc6a117))];}async[a107_0x3c00de(0x20d)](_0x3d1a80,_0xd6af21,_0x5d251b){const _0x54dac6=a107_0x3c00de,_0x247775=_0x5d251b[_0x54dac6(0x212)]((_0x19802a,_0x2696d5)=>{const _0x441a54=_0x54dac6;return _0x19802a[_0x441a54(0x267)][_0x441a54(0x26a)](..._0x2696d5[_0x441a54(0x267)]),_0x19802a[_0x441a54(0x223)]['push'](..._0x2696d5['modified']),_0x19802a[_0x441a54(0x1e6)][_0x441a54(0x26a)](..._0x2696d5[_0x441a54(0x1e6)]),_0x19802a;},{'inserted':[],'modified':[],'removed':[]}),_0xd5908d=new salesforce_commits_manager_service_1[(_0x54dac6(0x23b))]({'recordTypes':this[_0x54dac6(0x231)][_0x54dac6(0x217)](),'branchId':this[_0x54dac6(0x231)][_0x54dac6(0x25e)](),'repositoryId':this[_0x54dac6(0x231)][_0x54dac6(0x20f)](),'logger':this[_0x54dac6(0x24e)],'commitId':this[_0x54dac6(0x26d)]});await _0xd5908d[_0x54dac6(0x205)]([{'author':_0x3d1a80,'message':_0xd6af21,'inserted':_0x247775[_0x54dac6(0x267)],'modified':_0x247775[_0x54dac6(0x223)],'removed':_0x247775[_0x54dac6(0x1e6)]}]);}async[a107_0x3c00de(0x219)](_0x4c1b0d,_0x4da348){const _0xea8000=a107_0x3c00de;await this[_0xea8000(0x24e)]['log'](this[_0xea8000(0x24b)]+_0xea8000(0x23e))[_0xea8000(0x1f6)](),await this[_0xea8000(0x231)][_0xea8000(0x1f8)](_0x4da348);const {added:_0x2a5e73,modified:_0x301971,removed:_0x265fc6}=_0x4c1b0d[_0xea8000(0x220)];_0x4da348&&_0x301971[_0xea8000(0x26a)](..._0x265fc6['splice'](0x0));const _0x537099=(0x0,utils_2[_0xea8000(0x21e)])((0x0,git_commit_utils_1[_0xea8000(0x1d6)])([..._0x2a5e73,..._0x301971,..._0x265fc6],_0x4da348&&!this['gitCommitData'][_0xea8000(0x264)]));let _0x498795=0x0;const _0x43765a=[];(_0x2a5e73[_0xea8000(0x1d4)]||_0x301971[_0xea8000(0x1d4)])&&this['gitCommit'][_0xea8000(0x20f)]()&&(this[_0xea8000(0x26d)]=await this['gitCommit']['createCommit'](_0x4c1b0d[_0xea8000(0x263)]));const _0x43799a=_0x537099[_0xea8000(0x1d4)];let _0x50adf2=0x0;while(_0x537099[_0xea8000(0x1d4)]){const _0x4c2e92=_0x537099[_0xea8000(0x248)](),_0x358f28=await this[_0xea8000(0x231)][_0xea8000(0x201)](_0x4c2e92,this[_0xea8000(0x225)][_0xea8000(0x228)],_0x4da348&&!this['gitCommitData'][_0xea8000(0x264)]);_0x498795+=_0x358f28[_0xea8000(0x267)][_0xea8000(0x1d4)]+_0x358f28[_0xea8000(0x1e6)][_0xea8000(0x1d4)]+_0x358f28[_0xea8000(0x223)][_0xea8000(0x1d4)],this[_0xea8000(0x1ca)][_0xea8000(0x20c)]+=_0x358f28[_0xea8000(0x267)][_0xea8000(0x1d4)],this['stats'][_0xea8000(0x223)]+=_0x358f28[_0xea8000(0x223)]['length'],this[_0xea8000(0x1ca)][_0xea8000(0x1e6)]+=_0x358f28[_0xea8000(0x1e6)][_0xea8000(0x1d4)],_0x50adf2++,_0x50adf2%0x64===0x0&&this['logger'][_0xea8000(0x1eb)](_0xea8000(0x25a),_0x50adf2,_0x43799a,_0x498795),_0x43765a[_0xea8000(0x26a)](_0x358f28),_0x498795>this[_0xea8000(0x229)]&&(await this['sendComponents'](_0x4c1b0d[_0xea8000(0x1d8)],_0x4c1b0d[_0xea8000(0x263)],_0x43765a),await this[_0xea8000(0x24e)][_0xea8000(0x1eb)](this[_0xea8000(0x24b)]+'\x20Processed\x20'+_0x498795+_0xea8000(0x26b))[_0xea8000(0x1f6)](),_0x498795=0x0,_0x43765a[_0xea8000(0x253)](0x0));}_0x43765a[_0xea8000(0x1d4)]&&(await this['sendComponents'](_0x4c1b0d[_0xea8000(0x1d8)],_0x4c1b0d['message'],_0x43765a),await this[_0xea8000(0x24e)]['log'](this[_0xea8000(0x24b)]+_0xea8000(0x244)+_0x498795+_0xea8000(0x26b))['send']());}async['proceedCommits'](_0x47cce2){const _0x84a1a8=a107_0x3c00de,_0x2e15d7=[...this[_0x84a1a8(0x1d9)][_0x84a1a8(0x24f)]],_0x43eb1c=_0x2e15d7['length'];let _0x1bb816=0x0;while(_0x2e15d7[_0x84a1a8(0x1d4)]){const _0x41994e=_0x2e15d7['shift']();!this[_0x84a1a8(0x1d9)][_0x84a1a8(0x264)]&&(this[_0x84a1a8(0x231)]['getRepositoryId']()?(await this[_0x84a1a8(0x265)][_0x84a1a8(0x237)](_0x41994e['id']),await this['mdapiUtils'][_0x84a1a8(0x206)](this[_0x84a1a8(0x265)]['dir'])):(await this[_0x84a1a8(0x265)][_0x84a1a8(0x237)](this[_0x84a1a8(0x1f9)]),await this[_0x84a1a8(0x225)]['prepareMdapi'](this['gitUtils'][_0x84a1a8(0x228)]))),await this[_0x84a1a8(0x219)](_0x41994e,_0x47cce2),await this['mdapiUtils'][_0x84a1a8(0x1cf)](),_0x1bb816+=0x1,await this['sfLogger']['log'](this[_0x84a1a8(0x24b)]+_0x84a1a8(0x1ff)),await this['sfLogger'][_0x84a1a8(0x1eb)](this[_0x84a1a8(0x24b)]+_0x84a1a8(0x1d1)+this['stats'][_0x84a1a8(0x20c)]+_0x84a1a8(0x20b)),await this[_0x84a1a8(0x24e)]['log'](this['prefix']+_0x84a1a8(0x1f4)+this['stats'][_0x84a1a8(0x223)]+_0x84a1a8(0x20b)),await this[_0x84a1a8(0x24e)]['log'](this['prefix']+_0x84a1a8(0x234)+this[_0x84a1a8(0x1ca)][_0x84a1a8(0x1e6)]+_0x84a1a8(0x20b)),await this[_0x84a1a8(0x24e)][_0x84a1a8(0x1eb)](this['prefix']+'\x20Proceeded\x20'+_0x1bb816+'/'+_0x43eb1c+_0x84a1a8(0x1ea))[_0x84a1a8(0x1f6)](),this[_0x84a1a8(0x269)]();}}async[a107_0x3c00de(0x1de)](){const _0x21c423=a107_0x3c00de;this[_0x21c423(0x265)]&&await this[_0x21c423(0x265)][_0x21c423(0x1cf)]()[_0x21c423(0x236)](()=>void 0x0),this[_0x21c423(0x225)]&&await this[_0x21c423(0x225)]['removeDir']()[_0x21c423(0x236)](()=>void 0x0);}async['run'](_0x3e974b){const _0x59506f=a107_0x3c00de;this[_0x59506f(0x1d9)]=_0x3e974b,this[_0x59506f(0x231)][_0x59506f(0x214)](this[_0x59506f(0x1d9)]),this['gitApiService']=typedi_1['default'][_0x59506f(0x1cb)](providers_tokens_1[_0x59506f(0x24c)][_0x59506f(0x1e4)]),this['config']=typedi_1[_0x59506f(0x259)][_0x59506f(0x1cb)](providers_tokens_1[_0x59506f(0x24c)]['config']),this['sfLogger']=typedi_1[_0x59506f(0x259)][_0x59506f(0x1cb)](providers_tokens_1[_0x59506f(0x24c)][_0x59506f(0x202)]),this[_0x59506f(0x24b)]=_0x59506f(0x21b)+_0x3e974b[_0x59506f(0x210)]+_0x59506f(0x21c)+_0x3e974b['branch']+_0x59506f(0x245)+GitCommitJob_1[_0x59506f(0x1e5)]+']',this[_0x59506f(0x265)]=new git_utils_1[(_0x59506f(0x22e))](await this['getRemote']()),this[_0x59506f(0x225)]=new mdapi_utils_1[(_0x59506f(0x224))](),this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this[_0x59506f(0x24b)]+_0x59506f(0x222));try{this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this['prefix']+_0x59506f(0x1f5)),await this[_0x59506f(0x231)][_0x59506f(0x1da)](),await this[_0x59506f(0x231)][_0x59506f(0x261)]('In\x20Progress'),this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this[_0x59506f(0x24b)]+_0x59506f(0x1d2)),this[_0x59506f(0x1f9)]=await git_internal_1[_0x59506f(0x211)][_0x59506f(0x209)](await this[_0x59506f(0x216)](),this[_0x59506f(0x1d9)][_0x59506f(0x1ed)]),this[_0x59506f(0x202)][_0x59506f(0x1eb)](_0x59506f(0x238),this[_0x59506f(0x1f9)]);const _0x42e60a=await this['gitCommit'][_0x59506f(0x272)](this[_0x59506f(0x1f9)]);if(_0x42e60a){this[_0x59506f(0x24e)][_0x59506f(0x1eb)](_0x59506f(0x1f3)),await this[_0x59506f(0x231)][_0x59506f(0x261)](_0x59506f(0x21a));return;}this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this[_0x59506f(0x24b)]+_0x59506f(0x250)+this[_0x59506f(0x1d9)][_0x59506f(0x213)]+'.'),await this[_0x59506f(0x265)][_0x59506f(0x1ce)](this[_0x59506f(0x1d9)][_0x59506f(0x1ed)],this[_0x59506f(0x1d9)]['repository']),this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this[_0x59506f(0x24b)]+_0x59506f(0x1ee));const _0x5e1dd5=await sfdx_utils_1['SFDX'][_0x59506f(0x1e1)](this[_0x59506f(0x265)][_0x59506f(0x228)]);await this[_0x59506f(0x266)]();!this[_0x59506f(0x24e)][_0x59506f(0x22c)]()&&this[_0x59506f(0x24e)][_0x59506f(0x275)](await salesforce_logger_v3_service_1[_0x59506f(0x257)][_0x59506f(0x262)](sf_logger_v3_types_1[_0x59506f(0x241)][_0x59506f(0x1fc)]));await this[_0x59506f(0x24e)][_0x59506f(0x1f6)]();if(_0x3e974b[_0x59506f(0x264)]){await this[_0x59506f(0x225)][_0x59506f(0x206)](this['gitUtils'][_0x59506f(0x228)]),await this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this[_0x59506f(0x24b)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')['send']();const _0xc3d3d1=(await fs_internal_1['FS']['readDir'](this['mdapiUtils'][_0x59506f(0x228)],!![]))[_0x59506f(0x1fb)](_0x19239e=>(0x0,path_1[_0x59506f(0x1d3)])(this[_0x59506f(0x225)]['dir'],_0x19239e));this['sfLogger']['log'](this['prefix']+_0x59506f(0x26c)+_0xc3d3d1[_0x59506f(0x1d4)]+'\x20files\x20before\x20sync.'),this[_0x59506f(0x1d9)][_0x59506f(0x240)]=[],this[_0x59506f(0x1d9)]['commits']=[{'files':{'modified':_0xc3d3d1,'added':[],'removed':[]},'id':await this[_0x59506f(0x265)]['getCurrentHash'](),'message':_0x59506f(0x221),'username':constants_1[_0x59506f(0x1dc)]}];}await this[_0x59506f(0x231)]['updateRemoteState']({[this[_0x59506f(0x1d9)][_0x59506f(0x213)]]:{'lastCommit':this[_0x59506f(0x1f9)]}}),await this[_0x59506f(0x24e)][_0x59506f(0x1eb)](this['prefix']+'\x20[SFDX:\x20'+(_0x5e1dd5?_0x59506f(0x1e3):'NO')+_0x59506f(0x249))[_0x59506f(0x1f6)](),await this[_0x59506f(0x205)](_0x5e1dd5),await this[_0x59506f(0x24e)]['log'](this[_0x59506f(0x24b)]+_0x59506f(0x1df))['send'](),await this[_0x59506f(0x231)][_0x59506f(0x261)](_0x59506f(0x21a));}catch(_0x12d515){await this[_0x59506f(0x1de)]();if(_0x12d515 instanceof flosum_commit_error_1[_0x59506f(0x1cc)])await this[_0x59506f(0x231)][_0x59506f(0x261)](_0x59506f(0x21a))[_0x59506f(0x236)](()=>void 0x0),this[_0x59506f(0x202)]['log'](this[_0x59506f(0x24b)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x59506f(0x202)][_0x59506f(0x1fa)](this[_0x59506f(0x24b)]+_0x59506f(0x22f)+(_0x12d515 instanceof api_error_1[_0x59506f(0x1f7)]||_0x12d515 instanceof salesforce_error_1[_0x59506f(0x1d5)]?_0x12d515['toString']():_0x12d515)),await this[_0x59506f(0x231)][_0x59506f(0x20a)]({}),await this[_0x59506f(0x231)][_0x59506f(0x261)]('Error')[_0x59506f(0x236)](()=>void 0x0);throw _0x12d515;}}finally{await this[_0x59506f(0x1de)](),await this[_0x59506f(0x24e)][_0x59506f(0x1f6)]()[_0x59506f(0x236)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x3c00de(0x271)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1[a107_0x3c00de(0x20e)],connection_1['ProvidersFactory']])],GitCommitJob),exports[a107_0x3c00de(0x1f2)]=GitCommitJob;