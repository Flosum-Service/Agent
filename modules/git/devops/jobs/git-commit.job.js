const a107_0x1a0360=a107_0x4dc2;function a107_0x1341(){const _0x49d1ce=['../../../../constants','splice','author','42YKqRAE','commit','../../providers/providers.tokens','inserted','Bitbucket','Tokens','getRemote','resetStats','writable','createLoggerId','send','shift','gitCommit','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','getRecordTypes','readFilesByFilename','\x20[SFDX:\x20','sync\x20components','checkoutTo','sfLogger','constructor','provider','getCurrentHash','\x20commits.','getBranchId','68636QaTdDW','Last\x20git\x20repository\x20hash\x20is\x20%s.','\x20components.','\x20Commit\x20Summary','readDir','\x20Added\x20','BitbucketApiService','../../salesforce/errors/salesforce.error','branch','updateStatus','fetchCommits','credentials','handleCommit','getLoggerId','gitApiService','prototype','../../internal/fs.internal','../../../../core/errors/api.error','prefix','18YvimSf','\x20Cloning\x20git\x20repository\x20from\x20','prepareMdapi','stats','lastCommitHash','checkSyncStatus','logger','\x20Processed\x20','config','../../salesforce/utils/sfdx.utils','changes','gitUtils','commits','__setModuleDefault','setLoggerId','8768dGgcwI','://','env','relative','../services/git-commit.service','log','function','6wvswuT','../../providers/types/git-provider','../../../shared/utils','SalesforceCommitsManager','describeCommit','GitUtils','map','GitCommitJob','\x20components','dir','cleanUp','MAX_COMPONENTS_PER_TICK','Error','fetchComponentsMetadata','updateRemoteState','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','__createBinding','\x20Removed\x20','catch','getRemoteHash','../errors/flosum-commit.error','__esModule','Logger','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','DEFAULT_GIT_USER_EMAIL','getGitShellAuthorizationString','Completed','../utils/git-commit.utils','call','username',']\x20[Branch:\x20',']\x20Start\x20proceeding\x20git\x20commits.\x20','GitCommitService','setCommitDto','../utils/mdapi.utils','default','__importStar','__metadata','length','design:paramtypes','createCommit','../../parsers/utils','getOwnPropertyDescriptor','decorate','\x20Proceeded\x20','hasOwnProperty','files','MDApiUtils','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','Git','force','proceedCommits','email','../../../../core','typedi','removed','getProtocol','DEFAULT_GIT_USER_NAME','3412544NvZpFm','(((.+)+)+)+$','repositoryGit','3375000pCOkhY','\x20Start\x20Git-commit\x20job.','object','metadata','../../providers/api/bitbucket-api.service','Service','toString','753870AWJVsh','modified','Branch\x20synchronized.\x20Skip.','308526sAOCGd','SalesforceError','repository','FlosumCommitError','removeDir','reduce','name','create','added','gitCommitData','fileNames','GitProvider','providersFactory','../../salesforce/services/salesforce-logger-v3.service','\x20Fetch\x20salesforce\x20data.','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','\x20Job\x20done.','get','1442994ZmOFrk','getRepositoryId','message','commitId','sendComponents','clone','mdapiUtils','ApiError','push','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','defineProperty','updateFileNamesForSFDXProject',']\x20[','search','ProvidersFactory'];a107_0x1341=function(){return _0x49d1ce;};return a107_0x1341();}(function(_0x27e1a0,_0x127514){const _0xd3008f=a107_0x4dc2,_0x351553=_0x27e1a0();while(!![]){try{const _0x38eb1b=-parseInt(_0xd3008f(0x155))/0x1+-parseInt(_0xd3008f(0x1a3))/0x2+-parseInt(_0xd3008f(0x11a))/0x3*(-parseInt(_0xd3008f(0x133))/0x4)+parseInt(_0xd3008f(0x199))/0x5*(parseInt(_0xd3008f(0x15c))/0x6)+parseInt(_0xd3008f(0x108))/0x7+-parseInt(_0xd3008f(0x196))/0x8+-parseInt(_0xd3008f(0x146))/0x9*(parseInt(_0xd3008f(0x1a0))/0xa);if(_0x38eb1b===_0x127514)break;else _0x351553['push'](_0x351553['shift']());}catch(_0x1d338a){_0x351553['push'](_0x351553['shift']());}}}(a107_0x1341,0x5d043));const a107_0x57d5e=(function(){let _0x100da3=!![];return function(_0x3471f7,_0x22fec4){const _0x9e1de7=_0x100da3?function(){if(_0x22fec4){const _0x379c90=_0x22fec4['apply'](_0x3471f7,arguments);return _0x22fec4=null,_0x379c90;}}:function(){};return _0x100da3=![],_0x9e1de7;};}()),a107_0x121b11=a107_0x57d5e(this,function(){const _0x314bc6=a107_0x4dc2;return a107_0x121b11[_0x314bc6(0x19f)]()[_0x314bc6(0x115)]('(((.+)+)+)+$')[_0x314bc6(0x19f)]()[_0x314bc6(0x12e)](a107_0x121b11)[_0x314bc6(0x115)](_0x314bc6(0x197));});function a107_0x4dc2(_0x2cf929,_0x39a4dd){const _0x125a61=a107_0x1341();return a107_0x4dc2=function(_0x121b11,_0x57d5e){_0x121b11=_0x121b11-0x102;let _0x13411f=_0x125a61[_0x121b11];return _0x13411f;},a107_0x4dc2(_0x2cf929,_0x39a4dd);}a107_0x121b11();'use strict';var __createBinding=this&&this[a107_0x1a0360(0x16c)]||(Object[a107_0x1a0360(0x1aa)]?function(_0x395d9e,_0x4a264f,_0x49729f,_0x436618){const _0x3ea32a=a107_0x1a0360;if(_0x436618===undefined)_0x436618=_0x49729f;var _0x507483=Object[_0x3ea32a(0x186)](_0x4a264f,_0x49729f);(!_0x507483||('get'in _0x507483?!_0x4a264f['__esModule']:_0x507483[_0x3ea32a(0x122)]||_0x507483['configurable']))&&(_0x507483={'enumerable':!![],'get':function(){return _0x4a264f[_0x49729f];}}),Object[_0x3ea32a(0x112)](_0x395d9e,_0x436618,_0x507483);}:function(_0x8dbdcf,_0x59ddf0,_0x15dda0,_0x12ecb2){if(_0x12ecb2===undefined)_0x12ecb2=_0x15dda0;_0x8dbdcf[_0x12ecb2]=_0x59ddf0[_0x15dda0];}),__setModuleDefault=this&&this[a107_0x1a0360(0x153)]||(Object[a107_0x1a0360(0x1aa)]?function(_0x52044a,_0x351a3c){const _0x2fa8a3=a107_0x1a0360;Object['defineProperty'](_0x52044a,_0x2fa8a3(0x17f),{'enumerable':!![],'value':_0x351a3c});}:function(_0x13390a,_0x2a0cf0){const _0x104477=a107_0x1a0360;_0x13390a[_0x104477(0x17f)]=_0x2a0cf0;}),__decorate=this&&this['__decorate']||function(_0x49f7a3,_0x499d00,_0x52e030,_0x403a7d){const _0x6712f8=a107_0x1a0360;var _0x3f7e0d=arguments['length'],_0x370d64=_0x3f7e0d<0x3?_0x499d00:_0x403a7d===null?_0x403a7d=Object[_0x6712f8(0x186)](_0x499d00,_0x52e030):_0x403a7d,_0x5d9710;if(typeof Reflect===_0x6712f8(0x19b)&&typeof Reflect[_0x6712f8(0x187)]===_0x6712f8(0x15b))_0x370d64=Reflect[_0x6712f8(0x187)](_0x49f7a3,_0x499d00,_0x52e030,_0x403a7d);else{for(var _0x239e45=_0x49f7a3[_0x6712f8(0x182)]-0x1;_0x239e45>=0x0;_0x239e45--)if(_0x5d9710=_0x49f7a3[_0x239e45])_0x370d64=(_0x3f7e0d<0x3?_0x5d9710(_0x370d64):_0x3f7e0d>0x3?_0x5d9710(_0x499d00,_0x52e030,_0x370d64):_0x5d9710(_0x499d00,_0x52e030))||_0x370d64;}return _0x3f7e0d>0x3&&_0x370d64&&Object[_0x6712f8(0x112)](_0x499d00,_0x52e030,_0x370d64),_0x370d64;},__importStar=this&&this[a107_0x1a0360(0x180)]||function(_0x46434f){const _0x4d55dd=a107_0x1a0360;if(_0x46434f&&_0x46434f[_0x4d55dd(0x171)])return _0x46434f;var _0x462527={};if(_0x46434f!=null){for(var _0x130c02 in _0x46434f)if(_0x130c02!==_0x4d55dd(0x17f)&&Object[_0x4d55dd(0x142)][_0x4d55dd(0x189)][_0x4d55dd(0x178)](_0x46434f,_0x130c02))__createBinding(_0x462527,_0x46434f,_0x130c02);}return __setModuleDefault(_0x462527,_0x46434f),_0x462527;},__metadata=this&&this[a107_0x1a0360(0x181)]||function(_0x1e6cd3,_0x322751){const _0x2625e0=a107_0x1a0360;if(typeof Reflect==='object'&&typeof Reflect[_0x2625e0(0x19c)]==='function')return Reflect[_0x2625e0(0x19c)](_0x1e6cd3,_0x322751);},GitCommitJob_1;Object[a107_0x1a0360(0x112)](exports,'__esModule',{'value':!![]}),exports[a107_0x1a0360(0x163)]=void 0x0;const core_1=require(a107_0x1a0360(0x191)),fs_internal_1=require(a107_0x1a0360(0x143)),salesforce_logger_v3_service_1=require(a107_0x1a0360(0x103)),utils_1=require(a107_0x1a0360(0x15e)),path_1=require('path'),typedi_1=__importStar(require(a107_0x1a0360(0x192))),constants_1=require(a107_0x1a0360(0x117)),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_commit_utils_1=require(a107_0x1a0360(0x177)),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a107_0x1a0360(0x17e)),api_error_1=require(a107_0x1a0360(0x144)),salesforce_error_1=require(a107_0x1a0360(0x13a)),git_commit_service_1=require(a107_0x1a0360(0x159)),flosum_commit_error_1=require(a107_0x1a0360(0x170)),bitbucket_api_service_1=require(a107_0x1a0360(0x19d)),git_provider_1=require(a107_0x1a0360(0x15d)),sfdx_utils_1=require(a107_0x1a0360(0x14f)),utils_2=require(a107_0x1a0360(0x185)),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require(a107_0x1a0360(0x11c)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types');let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x118716,_0x4ceec0){const _0x5a6618=a107_0x1a0360;this[_0x5a6618(0x126)]=_0x118716,this[_0x5a6618(0x102)]=_0x4ceec0,this[_0x5a6618(0x167)]=+(process[_0x5a6618(0x157)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this[_0x5a6618(0x14c)]=new core_1[(_0x5a6618(0x172))](GitCommitJob_1[_0x5a6618(0x1a9)]),this[_0x5a6618(0x10b)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x1a0360(0x120)](){const _0x58020f=a107_0x1a0360,{repositoryGit:_0x10a450}=this[_0x58020f(0x1ac)],_0x4b3275=typedi_1[_0x58020f(0x17f)][_0x58020f(0x107)](providers_tokens_1['Tokens'][_0x58020f(0x13e)]);if(this['gitCommitData'][_0x58020f(0x12f)]===git_provider_1[_0x58020f(0x1ae)][_0x58020f(0x11e)]){const _0x1546d8=typedi_1[_0x58020f(0x17f)][_0x58020f(0x107)](bitbucket_api_service_1[_0x58020f(0x139)]);await _0x1546d8['isLoggedIn']();}return _0x10a450['replace'](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x58020f(0x194)])(_0x10a450)+_0x58020f(0x156)+_0x4b3275[_0x58020f(0x175)]()+'@');}[a107_0x1a0360(0x121)](){const _0x30cf30=a107_0x1a0360;this[_0x30cf30(0x149)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x1a0360(0x113)](){const _0x46bcce=a107_0x1a0360,_0x23d669=[...this['gitCommitData'][_0x46bcce(0x1ad)]];this[_0x46bcce(0x1ac)]['fileNames']=[];for(const _0x36295a of _0x23d669){this[_0x46bcce(0x1ac)][_0x46bcce(0x1ad)][_0x46bcce(0x110)](...await(0x0,utils_2[_0x46bcce(0x129)])(_0x36295a,this[_0x46bcce(0x10e)][_0x46bcce(0x165)]));}}async[a107_0x1a0360(0x13d)](){const _0x503415=a107_0x1a0360;if(this['gitCommitData'][_0x503415(0x18e)])return;const _0x252b6=[];for(const _0x5dca1a of this['gitCommitData'][_0x503415(0x152)]){const _0xab38a9=await this[_0x503415(0x151)][_0x503415(0x160)](_0x5dca1a['id']);_0x5dca1a['username']=_0xab38a9[_0x503415(0x119)],_0x5dca1a[_0x503415(0x10a)]=_0xab38a9[_0x503415(0x10a)],_0x5dca1a[_0x503415(0x18a)]=_0xab38a9[_0x503415(0x150)],_0x5dca1a['email']=_0xab38a9[_0x503415(0x190)];if(_0x5dca1a[_0x503415(0x190)]===constants_1[_0x503415(0x174)])throw new flosum_commit_error_1[(_0x503415(0x1a6))]();_0x252b6[_0x503415(0x110)](...Object['values'](_0x5dca1a['files'])['flat']());}this['gitCommitData']['fileNames']=[...new Set((0x0,git_commit_utils_1['prepareGitChangedPaths'])(_0x252b6))];}async[a107_0x1a0360(0x10c)](_0x5938df,_0x5b80a9,_0x38a5f1){const _0x4fcee3=a107_0x1a0360,_0x286423=_0x38a5f1[_0x4fcee3(0x1a8)]((_0xab5b14,_0x2f646a)=>{const _0x132eb2=_0x4fcee3;return _0xab5b14['inserted']['push'](..._0x2f646a[_0x132eb2(0x11d)]),_0xab5b14[_0x132eb2(0x1a1)]['push'](..._0x2f646a[_0x132eb2(0x1a1)]),_0xab5b14[_0x132eb2(0x193)][_0x132eb2(0x110)](..._0x2f646a[_0x132eb2(0x193)]),_0xab5b14;},{'inserted':[],'modified':[],'removed':[]}),_0x5a5790=new salesforce_commits_manager_service_1[(_0x4fcee3(0x15f))]({'recordTypes':this['gitCommit'][_0x4fcee3(0x128)](),'branchId':this[_0x4fcee3(0x126)][_0x4fcee3(0x132)](),'repositoryId':this[_0x4fcee3(0x126)][_0x4fcee3(0x109)](),'logger':this[_0x4fcee3(0x12d)],'commitId':this[_0x4fcee3(0x10b)]});await _0x5a5790[_0x4fcee3(0x18f)]([{'author':_0x5938df,'message':_0x5b80a9,'inserted':_0x286423[_0x4fcee3(0x11d)],'modified':_0x286423[_0x4fcee3(0x1a1)],'removed':_0x286423[_0x4fcee3(0x193)]}]);}async[a107_0x1a0360(0x13f)](_0x48b8e7,_0x17dce4){const _0x298b81=a107_0x1a0360;await this[_0x298b81(0x12d)][_0x298b81(0x15a)](this[_0x298b81(0x145)]+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')['send'](),await this[_0x298b81(0x126)][_0x298b81(0x169)](_0x17dce4);const {added:_0xc23c63,modified:_0xf7c92f,removed:_0x37173e}=_0x48b8e7[_0x298b81(0x18a)];_0x17dce4&&_0xf7c92f[_0x298b81(0x110)](..._0x37173e[_0x298b81(0x118)](0x0));const _0x38be89=(0x0,utils_2['convertToCleanPaths'])((0x0,git_commit_utils_1['prepareGitChangedPaths'])([..._0xc23c63,..._0xf7c92f,..._0x37173e],_0x17dce4&&!this[_0x298b81(0x1ac)][_0x298b81(0x18e)]));let _0x2bd9b1=0x0;const _0x51f02c=[];(_0xc23c63[_0x298b81(0x182)]||_0xf7c92f[_0x298b81(0x182)])&&this[_0x298b81(0x126)][_0x298b81(0x109)]()&&(this[_0x298b81(0x10b)]=await this[_0x298b81(0x126)][_0x298b81(0x184)](_0x48b8e7[_0x298b81(0x10a)]));const _0x5c6b45=_0x38be89[_0x298b81(0x182)];let _0x18a106=0x0;while(_0x38be89[_0x298b81(0x182)]){const _0x3b028d=_0x38be89[_0x298b81(0x125)](),_0x2ca68f=await this[_0x298b81(0x126)]['proceedFile'](_0x3b028d,this[_0x298b81(0x10e)][_0x298b81(0x165)],_0x17dce4&&!this[_0x298b81(0x1ac)]['force']);_0x2bd9b1+=_0x2ca68f['inserted']['length']+_0x2ca68f[_0x298b81(0x193)][_0x298b81(0x182)]+_0x2ca68f[_0x298b81(0x1a1)][_0x298b81(0x182)],this[_0x298b81(0x149)][_0x298b81(0x1ab)]+=_0x2ca68f[_0x298b81(0x11d)][_0x298b81(0x182)],this[_0x298b81(0x149)][_0x298b81(0x1a1)]+=_0x2ca68f[_0x298b81(0x1a1)]['length'],this['stats'][_0x298b81(0x193)]+=_0x2ca68f['removed'][_0x298b81(0x182)],_0x18a106++,_0x18a106%0x64===0x0&&this[_0x298b81(0x14c)][_0x298b81(0x15a)](_0x298b81(0x16b),_0x18a106,_0x5c6b45,_0x2bd9b1),_0x51f02c[_0x298b81(0x110)](_0x2ca68f),_0x2bd9b1>this['MAX_COMPONENTS_PER_TICK']&&(await this[_0x298b81(0x10c)](_0x48b8e7[_0x298b81(0x179)],_0x48b8e7['message'],_0x51f02c),await this[_0x298b81(0x12d)]['log'](this[_0x298b81(0x145)]+'\x20Processed\x20'+_0x2bd9b1+_0x298b81(0x135))[_0x298b81(0x124)](),_0x2bd9b1=0x0,_0x51f02c[_0x298b81(0x118)](0x0));}_0x51f02c[_0x298b81(0x182)]&&(await this[_0x298b81(0x10c)](_0x48b8e7[_0x298b81(0x179)],_0x48b8e7[_0x298b81(0x10a)],_0x51f02c),await this[_0x298b81(0x12d)][_0x298b81(0x15a)](this[_0x298b81(0x145)]+_0x298b81(0x14d)+_0x2bd9b1+_0x298b81(0x135))[_0x298b81(0x124)]());}async['proceedCommits'](_0x43334d){const _0x45d07e=a107_0x1a0360,_0x387f50=[...this[_0x45d07e(0x1ac)][_0x45d07e(0x152)]],_0xd0741e=_0x387f50[_0x45d07e(0x182)];let _0x4b70f8=0x0;while(_0x387f50[_0x45d07e(0x182)]){const _0x4df042=_0x387f50[_0x45d07e(0x125)]();!this[_0x45d07e(0x1ac)][_0x45d07e(0x18e)]&&(this[_0x45d07e(0x126)][_0x45d07e(0x109)]()?(await this[_0x45d07e(0x151)][_0x45d07e(0x12c)](_0x4df042['id']),await this['mdapiUtils'][_0x45d07e(0x148)](this['gitUtils'][_0x45d07e(0x165)])):(await this[_0x45d07e(0x151)][_0x45d07e(0x12c)](this[_0x45d07e(0x14a)]),await this[_0x45d07e(0x10e)][_0x45d07e(0x148)](this[_0x45d07e(0x151)]['dir']))),await this[_0x45d07e(0x13f)](_0x4df042,_0x43334d),await this[_0x45d07e(0x10e)][_0x45d07e(0x1a7)](),_0x4b70f8+=0x1,await this['sfLogger']['log'](this['prefix']+_0x45d07e(0x136)),await this[_0x45d07e(0x12d)]['log'](this[_0x45d07e(0x145)]+_0x45d07e(0x138)+this[_0x45d07e(0x149)][_0x45d07e(0x1ab)]+_0x45d07e(0x164)),await this[_0x45d07e(0x12d)]['log'](this[_0x45d07e(0x145)]+'\x20Modified\x20'+this[_0x45d07e(0x149)][_0x45d07e(0x1a1)]+_0x45d07e(0x164)),await this[_0x45d07e(0x12d)][_0x45d07e(0x15a)](this['prefix']+_0x45d07e(0x16d)+this[_0x45d07e(0x149)]['removed']+'\x20components'),await this[_0x45d07e(0x12d)][_0x45d07e(0x15a)](this[_0x45d07e(0x145)]+_0x45d07e(0x188)+_0x4b70f8+'/'+_0xd0741e+_0x45d07e(0x131))[_0x45d07e(0x124)](),this[_0x45d07e(0x121)]();}}async['cleanUp'](){const _0xbe314a=a107_0x1a0360;this['gitUtils']&&await this[_0xbe314a(0x151)][_0xbe314a(0x1a7)]()[_0xbe314a(0x16e)](()=>void 0x0),this['mdapiUtils']&&await this[_0xbe314a(0x10e)][_0xbe314a(0x1a7)]()[_0xbe314a(0x16e)](()=>void 0x0);}async['run'](_0x46c16d){const _0xbee321=a107_0x1a0360;this[_0xbee321(0x1ac)]=_0x46c16d,this[_0xbee321(0x126)][_0xbee321(0x17d)](this[_0xbee321(0x1ac)]),this[_0xbee321(0x141)]=typedi_1[_0xbee321(0x17f)][_0xbee321(0x107)](providers_tokens_1[_0xbee321(0x11f)][_0xbee321(0x141)]),this[_0xbee321(0x14e)]=typedi_1[_0xbee321(0x17f)][_0xbee321(0x107)](providers_tokens_1[_0xbee321(0x11f)][_0xbee321(0x14e)]),this[_0xbee321(0x12d)]=typedi_1['default']['get'](providers_tokens_1['Tokens'][_0xbee321(0x14c)]),this[_0xbee321(0x145)]=_0xbee321(0x127)+_0x46c16d['repository']+_0xbee321(0x17a)+_0x46c16d['branch']+_0xbee321(0x114)+GitCommitJob_1['name']+']',this[_0xbee321(0x151)]=new git_utils_1[(_0xbee321(0x161))](await this[_0xbee321(0x120)]()),this['mdapiUtils']=new mdapi_utils_1[(_0xbee321(0x18b))](),this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x19a));try{this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x104)),await this[_0xbee321(0x126)]['fetchRepositoryOrBranchData'](),await this['gitCommit'][_0xbee321(0x13c)]('In\x20Progress'),this['sfLogger'][_0xbee321(0x15a)](this[_0xbee321(0x145)]+'\x20Fetch\x20remote\x20branch\x20hash.'),this[_0xbee321(0x14a)]=await git_internal_1[_0xbee321(0x18d)][_0xbee321(0x16f)](await this[_0xbee321(0x120)](),this['gitCommitData'][_0xbee321(0x13b)]),this[_0xbee321(0x14c)][_0xbee321(0x15a)](_0xbee321(0x134),this[_0xbee321(0x14a)]);const _0x1e7fa6=await this[_0xbee321(0x126)][_0xbee321(0x14b)](this[_0xbee321(0x14a)]);if(_0x1e7fa6){this[_0xbee321(0x12d)][_0xbee321(0x15a)](_0xbee321(0x1a2)),await this[_0xbee321(0x126)][_0xbee321(0x13c)](_0xbee321(0x176));return;}this['sfLogger'][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x147)+this[_0xbee321(0x1ac)][_0xbee321(0x198)]+'.'),await this[_0xbee321(0x151)][_0xbee321(0x10d)](this[_0xbee321(0x1ac)][_0xbee321(0x13b)],this[_0xbee321(0x1ac)][_0xbee321(0x1a5)]),this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x173));const _0x13711d=await sfdx_utils_1['SFDX']['isSFDXProject'](this[_0xbee321(0x151)][_0xbee321(0x165)]);await this['fetchCommits']();!this[_0xbee321(0x12d)][_0xbee321(0x140)]()&&this[_0xbee321(0x12d)][_0xbee321(0x154)](await salesforce_logger_v3_service_1['SalesforceLogger3'][_0xbee321(0x123)](sf_logger_v3_types_1['LoggerTypes'][_0xbee321(0x11b)]));await this[_0xbee321(0x12d)][_0xbee321(0x124)]();if(_0x46c16d[_0xbee321(0x18e)]){await this[_0xbee321(0x10e)][_0xbee321(0x148)](this['gitUtils'][_0xbee321(0x165)]),await this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x18c))[_0xbee321(0x124)]();const _0xe5276c=(await fs_internal_1['FS'][_0xbee321(0x137)](this['mdapiUtils'][_0xbee321(0x165)],!![]))[_0xbee321(0x162)](_0x2330e1=>(0x0,path_1[_0xbee321(0x158)])(this[_0xbee321(0x10e)][_0xbee321(0x165)],_0x2330e1));this[_0xbee321(0x12d)][_0xbee321(0x15a)](this['prefix']+_0xbee321(0x105)+_0xe5276c[_0xbee321(0x182)]+'\x20files\x20before\x20sync.'),this['gitCommitData'][_0xbee321(0x1ad)]=[],this[_0xbee321(0x1ac)]['commits']=[{'files':{'modified':_0xe5276c,'added':[],'removed':[]},'id':await this[_0xbee321(0x151)][_0xbee321(0x130)](),'message':_0xbee321(0x12b),'username':constants_1[_0xbee321(0x195)]}];}await this[_0xbee321(0x126)][_0xbee321(0x16a)]({[this[_0xbee321(0x1ac)][_0xbee321(0x198)]]:{'lastCommit':this[_0xbee321(0x14a)]}}),await this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x12a)+(_0x13711d?'YES':'NO')+_0xbee321(0x17b))[_0xbee321(0x124)](),await this['proceedCommits'](_0x13711d),await this[_0xbee321(0x12d)][_0xbee321(0x15a)](this[_0xbee321(0x145)]+_0xbee321(0x106))[_0xbee321(0x124)](),await this['gitCommit']['updateStatus'](_0xbee321(0x176));}catch(_0x3d9584){await this[_0xbee321(0x166)]();if(_0x3d9584 instanceof flosum_commit_error_1[_0xbee321(0x1a6)])await this[_0xbee321(0x126)]['updateStatus'](_0xbee321(0x176))[_0xbee321(0x16e)](()=>void 0x0),this['logger']['log'](this[_0xbee321(0x145)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0xbee321(0x14c)]['error'](this[_0xbee321(0x145)]+_0xbee321(0x111)+(_0x3d9584 instanceof api_error_1[_0xbee321(0x10f)]||_0x3d9584 instanceof salesforce_error_1[_0xbee321(0x1a4)]?_0x3d9584[_0xbee321(0x19f)]():_0x3d9584)),await this[_0xbee321(0x126)][_0xbee321(0x16a)]({}),await this['gitCommit'][_0xbee321(0x13c)](_0xbee321(0x168))[_0xbee321(0x16e)](()=>void 0x0);throw _0x3d9584;}}finally{await this[_0xbee321(0x166)](),await this[_0xbee321(0x12d)]['send']()[_0xbee321(0x16e)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x1a0360(0x19e)])({'transient':!![]}),__metadata(a107_0x1a0360(0x183),[git_commit_service_1[a107_0x1a0360(0x17c)],connection_1[a107_0x1a0360(0x116)]])],GitCommitJob),exports[a107_0x1a0360(0x163)]=GitCommitJob;