const a108_0x3b8a8b=a108_0x57a0;(function(_0xea30df,_0x5ee725){const _0x53a82a=a108_0x57a0,_0x47277a=_0xea30df();while(!![]){try{const _0xe576cb=parseInt(_0x53a82a(0x108))/0x1+-parseInt(_0x53a82a(0xe7))/0x2+parseInt(_0x53a82a(0xf3))/0x3*(-parseInt(_0x53a82a(0xa0))/0x4)+parseInt(_0x53a82a(0xf0))/0x5+-parseInt(_0x53a82a(0xcd))/0x6+parseInt(_0x53a82a(0xac))/0x7+parseInt(_0x53a82a(0x112))/0x8*(parseInt(_0x53a82a(0x109))/0x9);if(_0xe576cb===_0x5ee725)break;else _0x47277a['push'](_0x47277a['shift']());}catch(_0x3e48d6){_0x47277a['push'](_0x47277a['shift']());}}}(a108_0x1b18,0x77b6e));const a108_0x4ae34f=(function(){let _0xc0c5bd=!![];return function(_0x372418,_0x45a010){const _0x281efd=_0xc0c5bd?function(){if(_0x45a010){const _0x16547f=_0x45a010['apply'](_0x372418,arguments);return _0x45a010=null,_0x16547f;}}:function(){};return _0xc0c5bd=![],_0x281efd;};}()),a108_0x5ac6c4=a108_0x4ae34f(this,function(){const _0x2b3890=a108_0x57a0;return a108_0x5ac6c4['toString']()[_0x2b3890(0xe1)](_0x2b3890(0xd8))[_0x2b3890(0xae)]()[_0x2b3890(0xcb)](a108_0x5ac6c4)[_0x2b3890(0xe1)]('(((.+)+)+)+$');});function a108_0x57a0(_0x3ef5bd,_0x54f3b3){const _0x438064=a108_0x1b18();return a108_0x57a0=function(_0x5ac6c4,_0x4ae34f){_0x5ac6c4=_0x5ac6c4-0x6f;let _0x1b1866=_0x438064[_0x5ac6c4];return _0x1b1866;},a108_0x57a0(_0x3ef5bd,_0x54f3b3);}a108_0x5ac6c4();function a108_0x1b18(){const _0x565fd8=['catch','describeCommit','../../parsers/utils','PathUtils','GitUtils','lastCommitHash','In\x20Progress','function','path','author','constructor','fetchCommits','1836834tXaBuy','recordType','prefix','\x20Added\x20','create','hasOwnProperty',']\x20Start\x20proceeding\x20git\x20commits.\x20','setCommitDto','changes','getOwnPropertyDescriptor','sfLogger','(((.+)+)+)+$','Branch\x20synchronized.\x20Skip.','\x20files\x20before\x20sync.','removed','\x20Fetch\x20remote\x20branch\x20hash.','getRepositoryId','\x20[SFDX:\x20','fetchRepositoryOrBranchData','__metadata','search','../utils/git.utils','repository','gitUtils','get','username','504298xJVUDE','sync\x20components','send','getRemoteHash','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','prototype','__importStar','checkSyncStatus','../../../../core','2436035YaCMYn','stats','sendComponents','180273YfRpuc','readDir','prepareMdapi','Completed','Tokens','flat','gitCommitData','design:paramtypes','modified','removeDir','object','updateStatus','setLoggerId','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','Error','log','\x20components.','../../internal/fs.internal','Last\x20git\x20repository\x20hash\x20is\x20%s.','typedi','\x20Commit\x20Summary','628428IkknUj','2169bWjiBt','createLoggerId','cleanUp','message','gitCommit','://','../../providers/providers.tokens','DEFAULT_GIT_USER_EMAIL','mdapiUtils','3592pQlJQq','../../salesforce/utils/sfdx.utils','../../salesforce/services/salesforce-logger-v3.service','error','SFDX','../../../../core/errors/api.error','writable','length','defineProperty','updateRemoteState','inserted','getRecordTypes','../../salesforce/errors/salesforce.error','fileNames','added','GitCommitJob','metadata','convertToCleanPaths','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','\x20components','default','__esModule','Logger','config','checkoutTo','commits','push','splice','\x20Modified\x20','ProvidersFactory','\x20Fetch\x20salesforce\x20data.','gitApiService','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','email','getCurrentHash','../../providers/types/git-provider','proceedFile','getProtocol','../../salesforce/services/salesforce-commits-manager.service','MDApiUtils','commit','name','dir','env','map','replace','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','getLoggerId','decorate','GitProvider','prepareGitChangedPaths','files','GitCommitService','56yphrJk','fetchComponentsMetadata','values','run','Bitbucket','handleCommit','updateFileNamesForSFDXProject','SalesforceLogger3','shift','../utils/path.utils','configurable','__decorate','4662476ahbXlL','MAX_COMPONENTS_PER_TICK','toString','\x20Job\x20done.','branch','resetStats','\x20Processed\x20','__createBinding','force','Git','FlosumCommitError','proceedCommits','getRemote','\x20Start\x20Git-commit\x20job.','commitId',']\x20[Branch:\x20','getBranchId','SalesforceCommitsManager','../services/git-commit.service','logger','../../internal/git.internal'];a108_0x1b18=function(){return _0x565fd8;};return a108_0x1b18();}'use strict';var __createBinding=this&&this[a108_0x3b8a8b(0xb3)]||(Object[a108_0x3b8a8b(0xd1)]?function(_0x5d7a46,_0x1e8739,_0x2aa263,_0x2e282e){const _0x1fee93=a108_0x3b8a8b;if(_0x2e282e===undefined)_0x2e282e=_0x2aa263;var _0x5c1bec=Object[_0x1fee93(0xd6)](_0x1e8739,_0x2aa263);(!_0x5c1bec||(_0x1fee93(0xe5)in _0x5c1bec?!_0x1e8739['__esModule']:_0x5c1bec[_0x1fee93(0x71)]||_0x5c1bec[_0x1fee93(0xaa)]))&&(_0x5c1bec={'enumerable':!![],'get':function(){return _0x1e8739[_0x2aa263];}}),Object[_0x1fee93(0x73)](_0x5d7a46,_0x2e282e,_0x5c1bec);}:function(_0xd09323,_0x5ef270,_0x4dfe9e,_0x3ad956){if(_0x3ad956===undefined)_0x3ad956=_0x4dfe9e;_0xd09323[_0x3ad956]=_0x5ef270[_0x4dfe9e];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a108_0x3b8a8b(0xd1)]?function(_0x17fb2f,_0x131f2b){const _0x78c482=a108_0x3b8a8b;Object['defineProperty'](_0x17fb2f,_0x78c482(0x7f),{'enumerable':!![],'value':_0x131f2b});}:function(_0x1661a3,_0x5cd821){const _0x164f1d=a108_0x3b8a8b;_0x1661a3[_0x164f1d(0x7f)]=_0x5cd821;}),__decorate=this&&this[a108_0x3b8a8b(0xab)]||function(_0xd64b6f,_0x1c5565,_0x2e3c99,_0x4fd594){const _0x12fa05=a108_0x3b8a8b;var _0x1cc538=arguments[_0x12fa05(0x72)],_0x498171=_0x1cc538<0x3?_0x1c5565:_0x4fd594===null?_0x4fd594=Object[_0x12fa05(0xd6)](_0x1c5565,_0x2e3c99):_0x4fd594,_0x5268b2;if(typeof Reflect===_0x12fa05(0xfd)&&typeof Reflect[_0x12fa05(0x9b)]==='function')_0x498171=Reflect[_0x12fa05(0x9b)](_0xd64b6f,_0x1c5565,_0x2e3c99,_0x4fd594);else{for(var _0x5d0fa3=_0xd64b6f[_0x12fa05(0x72)]-0x1;_0x5d0fa3>=0x0;_0x5d0fa3--)if(_0x5268b2=_0xd64b6f[_0x5d0fa3])_0x498171=(_0x1cc538<0x3?_0x5268b2(_0x498171):_0x1cc538>0x3?_0x5268b2(_0x1c5565,_0x2e3c99,_0x498171):_0x5268b2(_0x1c5565,_0x2e3c99))||_0x498171;}return _0x1cc538>0x3&&_0x498171&&Object[_0x12fa05(0x73)](_0x1c5565,_0x2e3c99,_0x498171),_0x498171;},__importStar=this&&this[a108_0x3b8a8b(0xed)]||function(_0x58f55d){const _0x4c842a=a108_0x3b8a8b;if(_0x58f55d&&_0x58f55d[_0x4c842a(0x80)])return _0x58f55d;var _0x178bf2={};if(_0x58f55d!=null){for(var _0x463dbe in _0x58f55d)if(_0x463dbe!==_0x4c842a(0x7f)&&Object[_0x4c842a(0xec)][_0x4c842a(0xd2)]['call'](_0x58f55d,_0x463dbe))__createBinding(_0x178bf2,_0x58f55d,_0x463dbe);}return __setModuleDefault(_0x178bf2,_0x58f55d),_0x178bf2;},__metadata=this&&this[a108_0x3b8a8b(0xe0)]||function(_0x3471b2,_0xf738a6){const _0x1c8378=a108_0x3b8a8b;if(typeof Reflect===_0x1c8378(0xfd)&&typeof Reflect[_0x1c8378(0x7b)]===_0x1c8378(0xc8))return Reflect[_0x1c8378(0x7b)](_0x3471b2,_0xf738a6);},GitCommitJob_1;Object[a108_0x3b8a8b(0x73)](exports,'__esModule',{'value':!![]}),exports[a108_0x3b8a8b(0x7a)]=void 0x0;const core_1=require(a108_0x3b8a8b(0xef)),fs_internal_1=require(a108_0x3b8a8b(0x104)),salesforce_logger_v3_service_1=require(a108_0x3b8a8b(0x114)),utils_1=require('../../../shared/utils'),path_1=require(a108_0x3b8a8b(0xc9)),typedi_1=__importStar(require(a108_0x3b8a8b(0x106))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require(a108_0x3b8a8b(0x91)),git_utils_1=require(a108_0x3b8a8b(0xe2)),mdapi_utils_1=require('../utils/mdapi.utils'),api_error_1=require(a108_0x3b8a8b(0x70)),salesforce_error_1=require(a108_0x3b8a8b(0x77)),git_commit_service_1=require(a108_0x3b8a8b(0xbe)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a108_0x3b8a8b(0x8e)),sfdx_utils_1=require(a108_0x3b8a8b(0x113)),utils_2=require(a108_0x3b8a8b(0xc3)),git_internal_1=require(a108_0x3b8a8b(0xc0)),providers_tokens_1=require(a108_0x3b8a8b(0x10f)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types'),path_utils_1=require(a108_0x3b8a8b(0xa9));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x237543,_0x127546){const _0x17d885=a108_0x3b8a8b;this[_0x17d885(0x10d)]=_0x237543,this['providersFactory']=_0x127546,this[_0x17d885(0xad)]=+(process[_0x17d885(0x96)][_0x17d885(0xad)]||0xbb8),this[_0x17d885(0xbf)]=new core_1[(_0x17d885(0x81))](GitCommitJob_1[_0x17d885(0x94)]),this[_0x17d885(0xba)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x59531b=a108_0x3b8a8b,{repositoryGit:_0x224f7c}=this[_0x59531b(0xf9)],_0x4230d5=typedi_1[_0x59531b(0x7f)][_0x59531b(0xe5)](providers_tokens_1[_0x59531b(0xf7)]['credentials']);if(this[_0x59531b(0xf9)]['provider']===git_provider_1[_0x59531b(0x9c)][_0x59531b(0xa4)]){const _0x4c9180=typedi_1['default'][_0x59531b(0xe5)](bitbucket_api_service_1['BitbucketApiService']);await _0x4c9180['isLoggedIn']();}return _0x224f7c[_0x59531b(0x98)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x59531b(0x90)])(_0x224f7c)+_0x59531b(0x10e)+_0x4230d5['getGitShellAuthorizationString']()+'@');}['resetStats'](){const _0x4dad62=a108_0x3b8a8b;this[_0x4dad62(0xf1)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a108_0x3b8a8b(0xa6)](){const _0x5c2e81=a108_0x3b8a8b,_0x2a9599=[...this[_0x5c2e81(0xf9)][_0x5c2e81(0x78)]];this[_0x5c2e81(0xf9)][_0x5c2e81(0x78)]=[];for(const _0x332c93 of _0x2a9599){this['gitCommitData'][_0x5c2e81(0x78)][_0x5c2e81(0x85)](...await(0x0,utils_2['readFilesByFilename'])(_0x332c93,this[_0x5c2e81(0x111)][_0x5c2e81(0x95)]));}}async[a108_0x3b8a8b(0xcc)](){const _0x1d2f0b=a108_0x3b8a8b;if(this['gitCommitData'][_0x1d2f0b(0xb4)])return;const _0x36c694=[];for(const _0x2cd376 of this[_0x1d2f0b(0xf9)][_0x1d2f0b(0x84)]){const _0x44c405=await this[_0x1d2f0b(0xe4)][_0x1d2f0b(0xc2)](_0x2cd376['id']);_0x2cd376[_0x1d2f0b(0xe6)]=_0x44c405[_0x1d2f0b(0xca)],_0x2cd376[_0x1d2f0b(0x10c)]=_0x44c405['message'],_0x2cd376['files']=_0x44c405[_0x1d2f0b(0xd5)],_0x2cd376[_0x1d2f0b(0x8c)]=_0x44c405[_0x1d2f0b(0x8c)];if(_0x2cd376[_0x1d2f0b(0x8c)]===constants_1[_0x1d2f0b(0x110)])throw new flosum_commit_error_1[(_0x1d2f0b(0xb6))]();_0x36c694[_0x1d2f0b(0x85)](...Object[_0x1d2f0b(0xa2)](_0x2cd376['files'])[_0x1d2f0b(0xf8)]());}this[_0x1d2f0b(0xf9)]['fileNames']=[...new Set(path_utils_1[_0x1d2f0b(0xc4)][_0x1d2f0b(0x9d)](this['gitCommit'][_0x1d2f0b(0xce)],_0x36c694,![]))];}async[a108_0x3b8a8b(0xf2)](_0x78bb37,_0x554379,_0x1e0c2f){const _0x270a04=a108_0x3b8a8b,_0x5fc36b=_0x1e0c2f['reduce']((_0x5620d1,_0x58710c)=>{const _0x4b8f2b=a108_0x57a0;return _0x5620d1[_0x4b8f2b(0x75)]['push'](..._0x58710c[_0x4b8f2b(0x75)]),_0x5620d1[_0x4b8f2b(0xfb)][_0x4b8f2b(0x85)](..._0x58710c[_0x4b8f2b(0xfb)]),_0x5620d1[_0x4b8f2b(0xdb)]['push'](..._0x58710c[_0x4b8f2b(0xdb)]),_0x5620d1;},{'inserted':[],'modified':[],'removed':[]}),_0x16f4e6=new salesforce_commits_manager_service_1[(_0x270a04(0xbd))]({'recordTypes':this[_0x270a04(0x10d)][_0x270a04(0x76)](),'branchId':this[_0x270a04(0x10d)][_0x270a04(0xbc)](),'repositoryId':this['gitCommit']['getRepositoryId'](),'logger':this[_0x270a04(0xd7)],'commitId':this['commitId']});await _0x16f4e6[_0x270a04(0xb7)]([{'author':_0x78bb37,'message':_0x554379,'inserted':_0x5fc36b[_0x270a04(0x75)],'modified':_0x5fc36b[_0x270a04(0xfb)],'removed':_0x5fc36b[_0x270a04(0xdb)]}]);}async[a108_0x3b8a8b(0xa5)](_0x2a210c,_0x3870b0){const _0x19eb69=a108_0x3b8a8b;await this[_0x19eb69(0xd7)]['log'](this['prefix']+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')[_0x19eb69(0xe9)](),await this[_0x19eb69(0x10d)][_0x19eb69(0xa1)](_0x3870b0);const {added:_0x495374,modified:_0x245fa3,removed:_0x5c86c9}=_0x2a210c[_0x19eb69(0x9e)];_0x3870b0&&_0x245fa3[_0x19eb69(0x85)](..._0x5c86c9[_0x19eb69(0x86)](0x0));const _0x5c2338=path_utils_1[_0x19eb69(0xc4)][_0x19eb69(0x9d)](this[_0x19eb69(0x10d)]['recordType'],[..._0x495374,..._0x245fa3,..._0x5c86c9],_0x3870b0&&!this[_0x19eb69(0xf9)]['force']),_0x113014=(0x0,utils_2[_0x19eb69(0x7c)])(_0x5c2338);let _0x177514=0x0;const _0x3f8b04=[];(_0x495374[_0x19eb69(0x72)]||_0x245fa3['length'])&&this[_0x19eb69(0x10d)][_0x19eb69(0xdd)]()&&(this['commitId']=await this[_0x19eb69(0x10d)]['createCommit'](_0x2a210c[_0x19eb69(0x10c)]));const _0x26ef27=_0x113014[_0x19eb69(0x72)];let _0x18b72e=0x0;while(_0x113014['length']){const _0x43f4a1=_0x113014['shift'](),_0x559e60=await this[_0x19eb69(0x10d)][_0x19eb69(0x8f)](_0x43f4a1,this['mdapiUtils'][_0x19eb69(0x95)],_0x3870b0&&!this['gitCommitData'][_0x19eb69(0xb4)]);_0x177514+=_0x559e60[_0x19eb69(0x75)][_0x19eb69(0x72)]+_0x559e60[_0x19eb69(0xdb)][_0x19eb69(0x72)]+_0x559e60[_0x19eb69(0xfb)][_0x19eb69(0x72)],this[_0x19eb69(0xf1)][_0x19eb69(0x79)]+=_0x559e60[_0x19eb69(0x75)][_0x19eb69(0x72)],this[_0x19eb69(0xf1)]['modified']+=_0x559e60['modified']['length'],this[_0x19eb69(0xf1)][_0x19eb69(0xdb)]+=_0x559e60[_0x19eb69(0xdb)][_0x19eb69(0x72)],_0x18b72e++,_0x18b72e%0x64===0x0&&this[_0x19eb69(0xbf)][_0x19eb69(0x102)](_0x19eb69(0x8b),_0x18b72e,_0x26ef27,_0x177514),_0x3f8b04[_0x19eb69(0x85)](_0x559e60),_0x177514>this[_0x19eb69(0xad)]&&(await this[_0x19eb69(0xf2)](_0x2a210c['username'],_0x2a210c[_0x19eb69(0x10c)],_0x3f8b04),await this[_0x19eb69(0xd7)][_0x19eb69(0x102)](this[_0x19eb69(0xcf)]+_0x19eb69(0xb2)+_0x177514+'\x20components.')[_0x19eb69(0xe9)](),_0x177514=0x0,_0x3f8b04[_0x19eb69(0x86)](0x0));}_0x3f8b04['length']&&(await this[_0x19eb69(0xf2)](_0x2a210c[_0x19eb69(0xe6)],_0x2a210c[_0x19eb69(0x10c)],_0x3f8b04),await this['sfLogger']['log'](this['prefix']+_0x19eb69(0xb2)+_0x177514+_0x19eb69(0x103))['send']());}async['proceedCommits'](_0x5a9b22){const _0x2d2de4=a108_0x3b8a8b,_0x16534c=[...this[_0x2d2de4(0xf9)]['commits']],_0x3a753a=_0x16534c[_0x2d2de4(0x72)];let _0x3a7cd4=0x0;while(_0x16534c[_0x2d2de4(0x72)]){const _0x464896=_0x16534c[_0x2d2de4(0xa8)]();!this[_0x2d2de4(0xf9)]['force']&&(this[_0x2d2de4(0x10d)][_0x2d2de4(0xdd)]()?(await this['gitUtils'][_0x2d2de4(0x83)](_0x464896['id']),await this['mdapiUtils'][_0x2d2de4(0xf5)](this[_0x2d2de4(0xe4)][_0x2d2de4(0x95)])):(await this['gitUtils'][_0x2d2de4(0x83)](this['lastCommitHash']),await this['mdapiUtils'][_0x2d2de4(0xf5)](this[_0x2d2de4(0xe4)]['dir']))),await this['handleCommit'](_0x464896,_0x5a9b22),await this['mdapiUtils'][_0x2d2de4(0xfc)](),_0x3a7cd4+=0x1,await this[_0x2d2de4(0xd7)]['log'](this[_0x2d2de4(0xcf)]+_0x2d2de4(0x107)),await this[_0x2d2de4(0xd7)][_0x2d2de4(0x102)](this[_0x2d2de4(0xcf)]+_0x2d2de4(0xd0)+this['stats']['added']+_0x2d2de4(0x7e)),await this[_0x2d2de4(0xd7)]['log'](this[_0x2d2de4(0xcf)]+_0x2d2de4(0x87)+this[_0x2d2de4(0xf1)][_0x2d2de4(0xfb)]+_0x2d2de4(0x7e)),await this[_0x2d2de4(0xd7)][_0x2d2de4(0x102)](this[_0x2d2de4(0xcf)]+'\x20Removed\x20'+this['stats'][_0x2d2de4(0xdb)]+_0x2d2de4(0x7e)),await this[_0x2d2de4(0xd7)][_0x2d2de4(0x102)](this['prefix']+'\x20Proceeded\x20'+_0x3a7cd4+'/'+_0x3a753a+'\x20commits.')[_0x2d2de4(0xe9)](),this[_0x2d2de4(0xb1)]();}}async[a108_0x3b8a8b(0x10b)](){const _0x37a332=a108_0x3b8a8b;this[_0x37a332(0xe4)]&&await this[_0x37a332(0xe4)][_0x37a332(0xfc)]()[_0x37a332(0xc1)](()=>void 0x0),this[_0x37a332(0x111)]&&await this[_0x37a332(0x111)][_0x37a332(0xfc)]()[_0x37a332(0xc1)](()=>void 0x0);}async[a108_0x3b8a8b(0xa3)](_0x469f59){const _0x3ade7f=a108_0x3b8a8b;this[_0x3ade7f(0xf9)]=_0x469f59,this['gitCommit'][_0x3ade7f(0xd4)](this[_0x3ade7f(0xf9)]),this['gitApiService']=typedi_1['default'][_0x3ade7f(0xe5)](providers_tokens_1[_0x3ade7f(0xf7)][_0x3ade7f(0x8a)]),this[_0x3ade7f(0x82)]=typedi_1['default'][_0x3ade7f(0xe5)](providers_tokens_1['Tokens']['config']),this[_0x3ade7f(0xd7)]=typedi_1[_0x3ade7f(0x7f)][_0x3ade7f(0xe5)](providers_tokens_1[_0x3ade7f(0xf7)][_0x3ade7f(0xbf)]),this[_0x3ade7f(0xcf)]=_0x3ade7f(0x99)+_0x469f59[_0x3ade7f(0xe3)]+_0x3ade7f(0xbb)+_0x469f59[_0x3ade7f(0xb0)]+']\x20['+GitCommitJob_1[_0x3ade7f(0x94)]+']',this[_0x3ade7f(0xe4)]=new git_utils_1[(_0x3ade7f(0xc5))](await this[_0x3ade7f(0xb8)]()),this['mdapiUtils']=new mdapi_utils_1[(_0x3ade7f(0x92))](),this['sfLogger']['log'](this[_0x3ade7f(0xcf)]+_0x3ade7f(0xb9));try{this[_0x3ade7f(0xd7)][_0x3ade7f(0x102)](this['prefix']+_0x3ade7f(0x89)),await this[_0x3ade7f(0x10d)][_0x3ade7f(0xdf)](),await this[_0x3ade7f(0x10d)]['updateStatus'](_0x3ade7f(0xc7)),this[_0x3ade7f(0xd7)][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+_0x3ade7f(0xdc)),this['lastCommitHash']=await git_internal_1[_0x3ade7f(0xb5)][_0x3ade7f(0xea)](await this['getRemote'](),this[_0x3ade7f(0xf9)][_0x3ade7f(0xb0)]),this[_0x3ade7f(0xbf)][_0x3ade7f(0x102)](_0x3ade7f(0x105),this[_0x3ade7f(0xc6)]);const _0x2fde28=await this['gitCommit'][_0x3ade7f(0xee)](this[_0x3ade7f(0xc6)]);if(_0x2fde28){this[_0x3ade7f(0xd7)][_0x3ade7f(0x102)](_0x3ade7f(0xd9)),await this[_0x3ade7f(0x10d)]['updateStatus'](_0x3ade7f(0xf6));return;}this[_0x3ade7f(0xd7)][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this[_0x3ade7f(0xf9)]['repositoryGit']+'.'),await this[_0x3ade7f(0xe4)]['clone'](this[_0x3ade7f(0xf9)]['branch'],this['gitCommitData']['repository']),this['sfLogger'][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+_0x3ade7f(0x7d));const _0x5e5a92=await sfdx_utils_1[_0x3ade7f(0x6f)]['isSFDXProject'](this[_0x3ade7f(0xe4)][_0x3ade7f(0x95)]);await this[_0x3ade7f(0xcc)]();!this[_0x3ade7f(0xd7)][_0x3ade7f(0x9a)]()&&this[_0x3ade7f(0xd7)][_0x3ade7f(0xff)](await salesforce_logger_v3_service_1[_0x3ade7f(0xa7)][_0x3ade7f(0x10a)](sf_logger_v3_types_1['LoggerTypes'][_0x3ade7f(0x93)]));await this['sfLogger'][_0x3ade7f(0xe9)]();if(_0x469f59[_0x3ade7f(0xb4)]){await this[_0x3ade7f(0x111)][_0x3ade7f(0xf5)](this[_0x3ade7f(0xe4)][_0x3ade7f(0x95)]),await this['sfLogger'][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+_0x3ade7f(0xeb))[_0x3ade7f(0xe9)]();const _0x4be614=(await fs_internal_1['FS'][_0x3ade7f(0xf4)](this[_0x3ade7f(0x111)][_0x3ade7f(0x95)],!![]))[_0x3ade7f(0x97)](_0x4d5bb6=>(0x0,path_1['relative'])(this['mdapiUtils'][_0x3ade7f(0x95)],_0x4d5bb6));this[_0x3ade7f(0xd7)]['log'](this[_0x3ade7f(0xcf)]+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x4be614[_0x3ade7f(0x72)]+_0x3ade7f(0xda)),this[_0x3ade7f(0xf9)][_0x3ade7f(0x78)]=[],this[_0x3ade7f(0xf9)]['commits']=[{'files':{'modified':_0x4be614,'added':[],'removed':[]},'id':await this['gitUtils'][_0x3ade7f(0x8d)](),'message':_0x3ade7f(0xe8),'username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this[_0x3ade7f(0x10d)]['updateRemoteState']({[this[_0x3ade7f(0xf9)]['repositoryGit']]:{'lastCommit':this[_0x3ade7f(0xc6)]}}),await this[_0x3ade7f(0xd7)][_0x3ade7f(0x102)](this['prefix']+_0x3ade7f(0xde)+(_0x5e5a92?'YES':'NO')+_0x3ade7f(0xd3))['send'](),await this[_0x3ade7f(0xb7)](_0x5e5a92),await this['sfLogger'][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+_0x3ade7f(0xaf))['send'](),await this[_0x3ade7f(0x10d)][_0x3ade7f(0xfe)](_0x3ade7f(0xf6));}catch(_0x1a196c){await this[_0x3ade7f(0x10b)]();if(_0x1a196c instanceof flosum_commit_error_1[_0x3ade7f(0xb6)])await this[_0x3ade7f(0x10d)][_0x3ade7f(0xfe)](_0x3ade7f(0xf6))[_0x3ade7f(0xc1)](()=>void 0x0),this[_0x3ade7f(0xbf)][_0x3ade7f(0x102)](this[_0x3ade7f(0xcf)]+_0x3ade7f(0x100));else{await this[_0x3ade7f(0xbf)][_0x3ade7f(0x115)](this['prefix']+'\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20'+(_0x1a196c instanceof api_error_1['ApiError']||_0x1a196c instanceof salesforce_error_1['SalesforceError']?_0x1a196c[_0x3ade7f(0xae)]():_0x1a196c)),await this['gitCommit'][_0x3ade7f(0x74)]({}),await this[_0x3ade7f(0x10d)]['updateStatus'](_0x3ade7f(0x101))[_0x3ade7f(0xc1)](()=>void 0x0);throw _0x1a196c;}}finally{await this[_0x3ade7f(0x10b)](),await this[_0x3ade7f(0xd7)][_0x3ade7f(0xe9)]()[_0x3ade7f(0xc1)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a108_0x3b8a8b(0xfa),[git_commit_service_1[a108_0x3b8a8b(0x9f)],connection_1[a108_0x3b8a8b(0x88)]])],GitCommitJob),exports[a108_0x3b8a8b(0x7a)]=GitCommitJob;