const a107_0x5571a1=a107_0x2893;(function(_0x202f30,_0x36c508){const _0xc231eb=a107_0x2893,_0x17745e=_0x202f30();while(!![]){try{const _0x4945dc=-parseInt(_0xc231eb(0x18b))/0x1+parseInt(_0xc231eb(0x171))/0x2*(-parseInt(_0xc231eb(0x16c))/0x3)+parseInt(_0xc231eb(0x16d))/0x4*(-parseInt(_0xc231eb(0x170))/0x5)+-parseInt(_0xc231eb(0x16a))/0x6+parseInt(_0xc231eb(0x18f))/0x7+-parseInt(_0xc231eb(0x164))/0x8*(-parseInt(_0xc231eb(0x152))/0x9)+parseInt(_0xc231eb(0x187))/0xa;if(_0x4945dc===_0x36c508)break;else _0x17745e['push'](_0x17745e['shift']());}catch(_0x3c157a){_0x17745e['push'](_0x17745e['shift']());}}}(a107_0x38b2,0xa4740));const a107_0x4d1a53=(function(){let _0x2d5bbb=!![];return function(_0x55d154,_0x31f76c){const _0x3db326=_0x2d5bbb?function(){const _0x4455c4=a107_0x2893;if(_0x31f76c){const _0x3ac2af=_0x31f76c[_0x4455c4(0x129)](_0x55d154,arguments);return _0x31f76c=null,_0x3ac2af;}}:function(){};return _0x2d5bbb=![],_0x3db326;};}()),a107_0xcf8f58=a107_0x4d1a53(this,function(){const _0x2bf9cf=a107_0x2893;return a107_0xcf8f58['toString']()['search'](_0x2bf9cf(0xfd))[_0x2bf9cf(0x174)]()[_0x2bf9cf(0x13f)](a107_0xcf8f58)[_0x2bf9cf(0xfe)](_0x2bf9cf(0xfd));});function a107_0x2893(_0x56076b,_0x41b7f4){const _0x273cc1=a107_0x38b2();return a107_0x2893=function(_0xcf8f58,_0x4d1a53){_0xcf8f58=_0xcf8f58-0xef;let _0x38b201=_0x273cc1[_0xcf8f58];return _0x38b201;},a107_0x2893(_0x56076b,_0x41b7f4);}function a107_0x38b2(){const _0x671a63=['__importStar','hasOwnProperty','catch','branch','removeDir','(((.+)+)+)+$','search','fileNames','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','SalesforceLogger3','../../salesforce/types/sf-logger-v3-types','send','sync\x20components','../../providers/providers.tokens','design:paramtypes','credentials','../utils/mdapi.utils','fetchCommits','../utils/git-commit.utils','readDir','\x20Modified\x20','checkSyncStatus','__decorate','GitCommitJob','create','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','ProvidersFactory','../../salesforce/services/salesforce-logger-v3.service','prepareMdapi','config','getOwnPropertyDescriptor','../../../../core/errors/api.error','run','resetStats','call','splice','Logger','fetchComponentsMetadata','getRemote','default','Last\x20git\x20repository\x20hash\x20is\x20%s.','\x20[SFDX:\x20','readFilesByFilename','force','map','configurable','gitCommit','SFDX','\x20Commit\x20Summary','apply','getBranchId','__metadata','files','clone','__createBinding','updateFileNamesForSFDXProject','path','getRepositoryId','prefix','logger','repositoryGit','MAX_COMPONENTS_PER_TICK','gitCommitData','push','modified','isLoggedIn','decorate','message','Completed','\x20commits.','../../salesforce/utils/sfdx.utils','constructor','env','LoggerTypes','ApiError','email','gitUtils','../services/git-commit.service','removed','__esModule','\x20Fetch\x20remote\x20branch\x20hash.','relative','function','\x20Removed\x20','typedi','YES','FlosumCommitError','sfLogger','createLoggerId','://','1584nJeoVw','\x20components','getGitShellAuthorizationString','DEFAULT_GIT_USER_NAME','handleCommit','get','GitCommitService','../../internal/git.internal','stats','dir','defineProperty','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','added','provider','Git','replace','SalesforceError','../../../shared/utils','23720ORmHAp','object','In\x20Progress','commitId','isSFDXProject','flat','5492394SgirkT','prepareGitChangedPaths','354BaTXnW','1346324RkStsI','proceedCommits','createCommit','5mAhNyo','14596FrDxxf','cleanUp','\x20Processed\x20','toString','__setModuleDefault','length','prototype','../../parsers/utils','fetchRepositoryOrBranchData','shift','DEFAULT_GIT_USER_EMAIL','\x20Proceeded\x20','reduce','../../salesforce/services/salesforce-commits-manager.service','convertToCleanPaths','lastCommitHash','gitApiService','Branch\x20synchronized.\x20Skip.','\x20components.','setCommitDto','../../salesforce/errors/salesforce.error','log','22957740KasxDc','setLoggerId','updateRemoteState','name','750759lvmzRk','metadata','../../providers/api/bitbucket-api.service','GitUtils','5039223zivOUx','Service','commits','repository','mdapiUtils','Tokens','MDApiUtils','getCurrentHash','\x20Cloning\x20git\x20repository\x20from\x20','inserted','updateStatus','getRecordTypes','\x20Start\x20Git-commit\x20job.','Error'];a107_0x38b2=function(){return _0x671a63;};return a107_0x38b2();}a107_0xcf8f58();'use strict';var __createBinding=this&&this[a107_0x5571a1(0x12e)]||(Object['create']?function(_0x458501,_0xac4242,_0x4a0570,_0x5b07cc){const _0x1b7805=a107_0x5571a1;if(_0x5b07cc===undefined)_0x5b07cc=_0x4a0570;var _0x44b988=Object[_0x1b7805(0x116)](_0xac4242,_0x4a0570);(!_0x44b988||(_0x1b7805(0x157)in _0x44b988?!_0xac4242[_0x1b7805(0x147)]:_0x44b988['writable']||_0x44b988[_0x1b7805(0x125)]))&&(_0x44b988={'enumerable':!![],'get':function(){return _0xac4242[_0x4a0570];}}),Object[_0x1b7805(0x15c)](_0x458501,_0x5b07cc,_0x44b988);}:function(_0xdb62a2,_0x3c8d3f,_0x328fc8,_0x8bfd10){if(_0x8bfd10===undefined)_0x8bfd10=_0x328fc8;_0xdb62a2[_0x8bfd10]=_0x3c8d3f[_0x328fc8];}),__setModuleDefault=this&&this[a107_0x5571a1(0x175)]||(Object[a107_0x5571a1(0x110)]?function(_0x51624a,_0x1e0357){const _0x34f6b2=a107_0x5571a1;Object[_0x34f6b2(0x15c)](_0x51624a,_0x34f6b2(0x11f),{'enumerable':!![],'value':_0x1e0357});}:function(_0xa8f9c5,_0x5ea800){const _0x36dd3e=a107_0x5571a1;_0xa8f9c5[_0x36dd3e(0x11f)]=_0x5ea800;}),__decorate=this&&this[a107_0x5571a1(0x10e)]||function(_0x2b0e51,_0x17ff78,_0x285bc5,_0x5c1e5d){const _0x1a87b2=a107_0x5571a1;var _0x3d3ae3=arguments['length'],_0x4643b2=_0x3d3ae3<0x3?_0x17ff78:_0x5c1e5d===null?_0x5c1e5d=Object[_0x1a87b2(0x116)](_0x17ff78,_0x285bc5):_0x5c1e5d,_0x56b6f7;if(typeof Reflect===_0x1a87b2(0x165)&&typeof Reflect[_0x1a87b2(0x13a)]===_0x1a87b2(0x14a))_0x4643b2=Reflect[_0x1a87b2(0x13a)](_0x2b0e51,_0x17ff78,_0x285bc5,_0x5c1e5d);else{for(var _0x5d31e1=_0x2b0e51[_0x1a87b2(0x176)]-0x1;_0x5d31e1>=0x0;_0x5d31e1--)if(_0x56b6f7=_0x2b0e51[_0x5d31e1])_0x4643b2=(_0x3d3ae3<0x3?_0x56b6f7(_0x4643b2):_0x3d3ae3>0x3?_0x56b6f7(_0x17ff78,_0x285bc5,_0x4643b2):_0x56b6f7(_0x17ff78,_0x285bc5))||_0x4643b2;}return _0x3d3ae3>0x3&&_0x4643b2&&Object['defineProperty'](_0x17ff78,_0x285bc5,_0x4643b2),_0x4643b2;},__importStar=this&&this[a107_0x5571a1(0xf8)]||function(_0x1d9f54){const _0x3fb7dc=a107_0x5571a1;if(_0x1d9f54&&_0x1d9f54[_0x3fb7dc(0x147)])return _0x1d9f54;var _0xc4eac8={};if(_0x1d9f54!=null){for(var _0x546c03 in _0x1d9f54)if(_0x546c03!==_0x3fb7dc(0x11f)&&Object[_0x3fb7dc(0x177)][_0x3fb7dc(0xf9)][_0x3fb7dc(0x11a)](_0x1d9f54,_0x546c03))__createBinding(_0xc4eac8,_0x1d9f54,_0x546c03);}return __setModuleDefault(_0xc4eac8,_0x1d9f54),_0xc4eac8;},__metadata=this&&this[a107_0x5571a1(0x12b)]||function(_0x5be162,_0x111f5f){const _0x59aab2=a107_0x5571a1;if(typeof Reflect===_0x59aab2(0x165)&&typeof Reflect[_0x59aab2(0x18c)]==='function')return Reflect[_0x59aab2(0x18c)](_0x5be162,_0x111f5f);},GitCommitJob_1;Object[a107_0x5571a1(0x15c)](exports,a107_0x5571a1(0x147),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require(a107_0x5571a1(0x113)),utils_1=require(a107_0x5571a1(0x163)),path_1=require(a107_0x5571a1(0x130)),typedi_1=__importStar(require(a107_0x5571a1(0x14c))),constants_1=require('../../../../constants'),salesforce_commits_manager_service_1=require(a107_0x5571a1(0x17e)),git_commit_utils_1=require(a107_0x5571a1(0x10a)),git_utils_1=require('../utils/git.utils'),mdapi_utils_1=require(a107_0x5571a1(0x108)),api_error_1=require(a107_0x5571a1(0x117)),salesforce_error_1=require(a107_0x5571a1(0x185)),git_commit_service_1=require(a107_0x5571a1(0x145)),flosum_commit_error_1=require('../errors/flosum-commit.error'),bitbucket_api_service_1=require(a107_0x5571a1(0x18d)),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a107_0x5571a1(0x13e)),utils_2=require(a107_0x5571a1(0x178)),git_internal_1=require(a107_0x5571a1(0x159)),providers_tokens_1=require(a107_0x5571a1(0x105)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require(a107_0x5571a1(0x102));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x255718,_0x248a04){const _0x24034f=a107_0x5571a1;this[_0x24034f(0x126)]=_0x255718,this['providersFactory']=_0x248a04,this[_0x24034f(0x135)]=+(process[_0x24034f(0x140)][_0x24034f(0x135)]||0xbb8),this[_0x24034f(0x133)]=new core_1[(_0x24034f(0x11c))](GitCommitJob_1[_0x24034f(0x18a)]),this[_0x24034f(0x167)]='',this[_0x24034f(0x15a)]={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x28378e=a107_0x5571a1,{repositoryGit:_0x2304dd}=this[_0x28378e(0x136)],_0x544caf=typedi_1[_0x28378e(0x11f)][_0x28378e(0x157)](providers_tokens_1[_0x28378e(0xef)][_0x28378e(0x107)]);if(this['gitCommitData'][_0x28378e(0x15f)]===git_provider_1['GitProvider']['Bitbucket']){const _0x4215f1=typedi_1['default']['get'](bitbucket_api_service_1['BitbucketApiService']);await _0x4215f1[_0x28378e(0x139)]();}return _0x2304dd[_0x28378e(0x161)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x2304dd)+_0x28378e(0x151)+_0x544caf[_0x28378e(0x154)]()+'@');}['resetStats'](){const _0x1bc67a=a107_0x5571a1;this[_0x1bc67a(0x15a)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x5571a1(0x12f)](){const _0x58db05=a107_0x5571a1,_0x493ca0=[...this[_0x58db05(0x136)][_0x58db05(0xff)]];this[_0x58db05(0x136)][_0x58db05(0xff)]=[];for(const _0xa1b0f8 of _0x493ca0){this[_0x58db05(0x136)][_0x58db05(0xff)]['push'](...await(0x0,utils_2[_0x58db05(0x122)])(_0xa1b0f8,this[_0x58db05(0x193)][_0x58db05(0x15b)]));}}async[a107_0x5571a1(0x109)](){const _0x5b4a3a=a107_0x5571a1;if(this[_0x5b4a3a(0x136)]['force'])return;const _0x3b1df3=[];for(const _0x4a507b of this['gitCommitData']['commits']){const _0x132030=await this['gitUtils']['describeCommit'](_0x4a507b['id']);_0x4a507b['username']=_0x132030['author'],_0x4a507b[_0x5b4a3a(0x13b)]=_0x132030['message'],_0x4a507b[_0x5b4a3a(0x12c)]=_0x132030['changes'],_0x4a507b[_0x5b4a3a(0x143)]=_0x132030[_0x5b4a3a(0x143)];if(_0x4a507b[_0x5b4a3a(0x143)]===constants_1[_0x5b4a3a(0x17b)])throw new flosum_commit_error_1[(_0x5b4a3a(0x14e))]();_0x3b1df3[_0x5b4a3a(0x137)](...Object['values'](_0x4a507b[_0x5b4a3a(0x12c)])[_0x5b4a3a(0x169)]());}this['gitCommitData']['fileNames']=[...new Set((0x0,git_commit_utils_1['prepareGitChangedPaths'])(_0x3b1df3))];}async['sendComponents'](_0x443fb3,_0x5e037a,_0x4e81b2){const _0x269d4b=a107_0x5571a1,_0x2fd288=_0x4e81b2[_0x269d4b(0x17d)]((_0x2fd52f,_0xa24d32)=>{const _0x48d37d=_0x269d4b;return _0x2fd52f[_0x48d37d(0xf3)][_0x48d37d(0x137)](..._0xa24d32['inserted']),_0x2fd52f['modified']['push'](..._0xa24d32['modified']),_0x2fd52f[_0x48d37d(0x146)][_0x48d37d(0x137)](..._0xa24d32[_0x48d37d(0x146)]),_0x2fd52f;},{'inserted':[],'modified':[],'removed':[]}),_0x5644bc=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this[_0x269d4b(0x126)][_0x269d4b(0xf5)](),'branchId':this[_0x269d4b(0x126)][_0x269d4b(0x12a)](),'repositoryId':this[_0x269d4b(0x126)]['getRepositoryId'](),'logger':this[_0x269d4b(0x14f)],'commitId':this[_0x269d4b(0x167)]});await _0x5644bc['proceedCommits']([{'author':_0x443fb3,'message':_0x5e037a,'inserted':_0x2fd288[_0x269d4b(0xf3)],'modified':_0x2fd288[_0x269d4b(0x138)],'removed':_0x2fd288[_0x269d4b(0x146)]}]);}async[a107_0x5571a1(0x156)](_0x21176f,_0x3b9b52){const _0x49d5da=a107_0x5571a1;await this[_0x49d5da(0x14f)]['log'](this[_0x49d5da(0x132)]+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')[_0x49d5da(0x103)](),await this[_0x49d5da(0x126)][_0x49d5da(0x11d)](_0x3b9b52);const {added:_0x2b5789,modified:_0x232c89,removed:_0x437db9}=_0x21176f[_0x49d5da(0x12c)];_0x3b9b52&&_0x232c89[_0x49d5da(0x137)](..._0x437db9[_0x49d5da(0x11b)](0x0));const _0x430b01=(0x0,utils_2[_0x49d5da(0x17f)])((0x0,git_commit_utils_1[_0x49d5da(0x16b)])([..._0x2b5789,..._0x232c89,..._0x437db9],_0x3b9b52&&!this[_0x49d5da(0x136)][_0x49d5da(0x123)]));let _0x19a249=0x0;const _0x56dc03=[];(_0x2b5789[_0x49d5da(0x176)]||_0x232c89[_0x49d5da(0x176)])&&this[_0x49d5da(0x126)][_0x49d5da(0x131)]()&&(this[_0x49d5da(0x167)]=await this[_0x49d5da(0x126)][_0x49d5da(0x16f)](_0x21176f[_0x49d5da(0x13b)]));const _0x52051b=_0x430b01['length'];let _0x489c0f=0x0;while(_0x430b01['length']){const _0x29cf34=_0x430b01[_0x49d5da(0x17a)](),_0x4c1f53=await this[_0x49d5da(0x126)]['proceedFile'](_0x29cf34,this[_0x49d5da(0x193)][_0x49d5da(0x15b)],_0x3b9b52&&!this['gitCommitData'][_0x49d5da(0x123)]);_0x19a249+=_0x4c1f53[_0x49d5da(0xf3)]['length']+_0x4c1f53[_0x49d5da(0x146)][_0x49d5da(0x176)]+_0x4c1f53[_0x49d5da(0x138)][_0x49d5da(0x176)],this[_0x49d5da(0x15a)][_0x49d5da(0x15e)]+=_0x4c1f53['inserted']['length'],this['stats'][_0x49d5da(0x138)]+=_0x4c1f53[_0x49d5da(0x138)]['length'],this[_0x49d5da(0x15a)][_0x49d5da(0x146)]+=_0x4c1f53[_0x49d5da(0x146)][_0x49d5da(0x176)],_0x489c0f++,_0x489c0f%0x64===0x0&&this[_0x49d5da(0x133)][_0x49d5da(0x186)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x489c0f,_0x52051b,_0x19a249),_0x56dc03['push'](_0x4c1f53),_0x19a249>this['MAX_COMPONENTS_PER_TICK']&&(await this['sendComponents'](_0x21176f['username'],_0x21176f[_0x49d5da(0x13b)],_0x56dc03),await this[_0x49d5da(0x14f)][_0x49d5da(0x186)](this[_0x49d5da(0x132)]+_0x49d5da(0x173)+_0x19a249+_0x49d5da(0x183))[_0x49d5da(0x103)](),_0x19a249=0x0,_0x56dc03[_0x49d5da(0x11b)](0x0));}_0x56dc03['length']&&(await this['sendComponents'](_0x21176f['username'],_0x21176f[_0x49d5da(0x13b)],_0x56dc03),await this[_0x49d5da(0x14f)][_0x49d5da(0x186)](this[_0x49d5da(0x132)]+_0x49d5da(0x173)+_0x19a249+_0x49d5da(0x183))[_0x49d5da(0x103)]());}async[a107_0x5571a1(0x16e)](_0x6b281e){const _0x240e57=a107_0x5571a1,_0x8f196d=[...this['gitCommitData']['commits']],_0x26ec09=_0x8f196d[_0x240e57(0x176)];let _0x4bd773=0x0;while(_0x8f196d[_0x240e57(0x176)]){const _0x6fe9c2=_0x8f196d[_0x240e57(0x17a)]();!this[_0x240e57(0x136)][_0x240e57(0x123)]&&(this[_0x240e57(0x126)][_0x240e57(0x131)]()?(await this[_0x240e57(0x144)]['checkoutTo'](_0x6fe9c2['id']),await this[_0x240e57(0x193)][_0x240e57(0x114)](this[_0x240e57(0x144)]['dir'])):(await this['gitUtils']['checkoutTo'](this[_0x240e57(0x180)]),await this[_0x240e57(0x193)][_0x240e57(0x114)](this[_0x240e57(0x144)][_0x240e57(0x15b)]))),await this[_0x240e57(0x156)](_0x6fe9c2,_0x6b281e),await this[_0x240e57(0x193)]['removeDir'](),_0x4bd773+=0x1,await this[_0x240e57(0x14f)][_0x240e57(0x186)](this[_0x240e57(0x132)]+_0x240e57(0x128)),await this['sfLogger'][_0x240e57(0x186)](this[_0x240e57(0x132)]+'\x20Added\x20'+this[_0x240e57(0x15a)][_0x240e57(0x15e)]+_0x240e57(0x153)),await this[_0x240e57(0x14f)][_0x240e57(0x186)](this[_0x240e57(0x132)]+_0x240e57(0x10c)+this[_0x240e57(0x15a)][_0x240e57(0x138)]+_0x240e57(0x153)),await this[_0x240e57(0x14f)][_0x240e57(0x186)](this[_0x240e57(0x132)]+_0x240e57(0x14b)+this[_0x240e57(0x15a)][_0x240e57(0x146)]+_0x240e57(0x153)),await this[_0x240e57(0x14f)][_0x240e57(0x186)](this[_0x240e57(0x132)]+_0x240e57(0x17c)+_0x4bd773+'/'+_0x26ec09+_0x240e57(0x13d))[_0x240e57(0x103)](),this[_0x240e57(0x119)]();}}async[a107_0x5571a1(0x172)](){const _0x285f9d=a107_0x5571a1;this[_0x285f9d(0x144)]&&await this[_0x285f9d(0x144)][_0x285f9d(0xfc)]()['catch'](()=>void 0x0),this[_0x285f9d(0x193)]&&await this['mdapiUtils'][_0x285f9d(0xfc)]()['catch'](()=>void 0x0);}async[a107_0x5571a1(0x118)](_0x1ebf25){const _0x1d7aa6=a107_0x5571a1;this[_0x1d7aa6(0x136)]=_0x1ebf25,this['gitCommit'][_0x1d7aa6(0x184)](this['gitCommitData']),this['gitApiService']=typedi_1[_0x1d7aa6(0x11f)][_0x1d7aa6(0x157)](providers_tokens_1[_0x1d7aa6(0xef)][_0x1d7aa6(0x181)]),this[_0x1d7aa6(0x115)]=typedi_1['default'][_0x1d7aa6(0x157)](providers_tokens_1[_0x1d7aa6(0xef)][_0x1d7aa6(0x115)]),this[_0x1d7aa6(0x14f)]=typedi_1[_0x1d7aa6(0x11f)][_0x1d7aa6(0x157)](providers_tokens_1[_0x1d7aa6(0xef)]['logger']),this['prefix']='[GIT\x20->\x20FLOSUM]\x20[Repository:\x20'+_0x1ebf25['repository']+']\x20[Branch:\x20'+_0x1ebf25[_0x1d7aa6(0xfb)]+']\x20['+GitCommitJob_1[_0x1d7aa6(0x18a)]+']',this[_0x1d7aa6(0x144)]=new git_utils_1[(_0x1d7aa6(0x18e))](await this[_0x1d7aa6(0x11e)]()),this[_0x1d7aa6(0x193)]=new mdapi_utils_1[(_0x1d7aa6(0xf0))](),this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this['prefix']+_0x1d7aa6(0xf6));try{this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this['prefix']+'\x20Fetch\x20salesforce\x20data.'),await this['gitCommit'][_0x1d7aa6(0x179)](),await this['gitCommit']['updateStatus'](_0x1d7aa6(0x166)),this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+_0x1d7aa6(0x148)),this[_0x1d7aa6(0x180)]=await git_internal_1[_0x1d7aa6(0x160)]['getRemoteHash'](await this[_0x1d7aa6(0x11e)](),this[_0x1d7aa6(0x136)][_0x1d7aa6(0xfb)]),this[_0x1d7aa6(0x133)][_0x1d7aa6(0x186)](_0x1d7aa6(0x120),this[_0x1d7aa6(0x180)]);const _0x959d47=await this['gitCommit'][_0x1d7aa6(0x10d)](this['lastCommitHash']);if(_0x959d47){this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](_0x1d7aa6(0x182)),await this[_0x1d7aa6(0x126)][_0x1d7aa6(0xf4)](_0x1d7aa6(0x13c));return;}this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this['prefix']+_0x1d7aa6(0xf2)+this[_0x1d7aa6(0x136)][_0x1d7aa6(0x134)]+'.'),await this[_0x1d7aa6(0x144)][_0x1d7aa6(0x12d)](this[_0x1d7aa6(0x136)][_0x1d7aa6(0xfb)],this['gitCommitData'][_0x1d7aa6(0x192)]),this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+'\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.');const _0x48e8bf=await sfdx_utils_1[_0x1d7aa6(0x127)][_0x1d7aa6(0x168)](this[_0x1d7aa6(0x144)][_0x1d7aa6(0x15b)]);await this['fetchCommits']();!this[_0x1d7aa6(0x14f)]['getLoggerId']()&&this['sfLogger'][_0x1d7aa6(0x188)](await salesforce_logger_v3_service_1[_0x1d7aa6(0x101)][_0x1d7aa6(0x150)](sf_logger_v3_types_1[_0x1d7aa6(0x141)]['commit']));await this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x103)]();if(_0x1ebf25['force']){await this[_0x1d7aa6(0x193)][_0x1d7aa6(0x114)](this[_0x1d7aa6(0x144)][_0x1d7aa6(0x15b)]),await this['sfLogger'][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')['send']();const _0x5f27ee=(await fs_internal_1['FS'][_0x1d7aa6(0x10b)](this[_0x1d7aa6(0x193)][_0x1d7aa6(0x15b)],!![]))[_0x1d7aa6(0x124)](_0x4b87cd=>(0x0,path_1[_0x1d7aa6(0x149)])(this[_0x1d7aa6(0x193)]['dir'],_0x4b87cd));this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+_0x1d7aa6(0x15d)+_0x5f27ee[_0x1d7aa6(0x176)]+'\x20files\x20before\x20sync.'),this[_0x1d7aa6(0x136)][_0x1d7aa6(0xff)]=[],this[_0x1d7aa6(0x136)][_0x1d7aa6(0x191)]=[{'files':{'modified':_0x5f27ee,'added':[],'removed':[]},'id':await this[_0x1d7aa6(0x144)][_0x1d7aa6(0xf1)](),'message':_0x1d7aa6(0x104),'username':constants_1[_0x1d7aa6(0x155)]}];}await this['gitCommit']['updateRemoteState']({[this[_0x1d7aa6(0x136)][_0x1d7aa6(0x134)]]:{'lastCommit':this[_0x1d7aa6(0x180)]}}),await this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+_0x1d7aa6(0x121)+(_0x48e8bf?_0x1d7aa6(0x14d):'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x1d7aa6(0x103)](),await this[_0x1d7aa6(0x16e)](_0x48e8bf),await this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+'\x20Job\x20done.')[_0x1d7aa6(0x103)](),await this[_0x1d7aa6(0x126)][_0x1d7aa6(0xf4)]('Completed');}catch(_0x21f0e3){await this[_0x1d7aa6(0x172)]();if(_0x21f0e3 instanceof flosum_commit_error_1[_0x1d7aa6(0x14e)])await this[_0x1d7aa6(0x126)][_0x1d7aa6(0xf4)]('Completed')[_0x1d7aa6(0xfa)](()=>void 0x0),this[_0x1d7aa6(0x133)][_0x1d7aa6(0x186)](this[_0x1d7aa6(0x132)]+_0x1d7aa6(0x100));else{await this['logger']['error'](this[_0x1d7aa6(0x132)]+_0x1d7aa6(0x111)+(_0x21f0e3 instanceof api_error_1[_0x1d7aa6(0x142)]||_0x21f0e3 instanceof salesforce_error_1[_0x1d7aa6(0x162)]?_0x21f0e3[_0x1d7aa6(0x174)]():_0x21f0e3)),await this[_0x1d7aa6(0x126)][_0x1d7aa6(0x189)]({}),await this[_0x1d7aa6(0x126)]['updateStatus'](_0x1d7aa6(0xf7))[_0x1d7aa6(0xfa)](()=>void 0x0);throw _0x21f0e3;}}finally{await this[_0x1d7aa6(0x172)](),await this[_0x1d7aa6(0x14f)][_0x1d7aa6(0x103)]()[_0x1d7aa6(0xfa)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x5571a1(0x190)])({'transient':!![]}),__metadata(a107_0x5571a1(0x106),[git_commit_service_1[a107_0x5571a1(0x158)],connection_1[a107_0x5571a1(0x112)]])],GitCommitJob),exports[a107_0x5571a1(0x10f)]=GitCommitJob;