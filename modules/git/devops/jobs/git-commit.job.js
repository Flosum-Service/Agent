const a107_0x39fbf5=a107_0x5713;(function(_0x11b23c,_0x8f30){const _0x2af16f=a107_0x5713,_0x221bf2=_0x11b23c();while(!![]){try{const _0x274b79=-parseInt(_0x2af16f(0x183))/0x1*(-parseInt(_0x2af16f(0x187))/0x2)+parseInt(_0x2af16f(0x104))/0x3+-parseInt(_0x2af16f(0x139))/0x4+parseInt(_0x2af16f(0x10a))/0x5*(parseInt(_0x2af16f(0x140))/0x6)+parseInt(_0x2af16f(0x131))/0x7*(parseInt(_0x2af16f(0x147))/0x8)+parseInt(_0x2af16f(0x14f))/0x9+-parseInt(_0x2af16f(0x120))/0xa*(parseInt(_0x2af16f(0x12c))/0xb);if(_0x274b79===_0x8f30)break;else _0x221bf2['push'](_0x221bf2['shift']());}catch(_0x1229a2){_0x221bf2['push'](_0x221bf2['shift']());}}}(a107_0x2a26,0x511c7));function a107_0x5713(_0x4c2257,_0x311f00){const _0x2b7327=a107_0x2a26();return a107_0x5713=function(_0x2bc880,_0x1003ba){_0x2bc880=_0x2bc880-0xff;let _0x2a2617=_0x2b7327[_0x2bc880];return _0x2a2617;},a107_0x5713(_0x4c2257,_0x311f00);}const a107_0x1003ba=(function(){let _0xc4a296=!![];return function(_0xd53757,_0x3d1b24){const _0x553bb3=_0xc4a296?function(){const _0x54e7f7=a107_0x5713;if(_0x3d1b24){const _0x39f6e6=_0x3d1b24[_0x54e7f7(0x12b)](_0xd53757,arguments);return _0x3d1b24=null,_0x39f6e6;}}:function(){};return _0xc4a296=![],_0x553bb3;};}()),a107_0x2bc880=a107_0x1003ba(this,function(){const _0x41d36a=a107_0x5713;return a107_0x2bc880[_0x41d36a(0x130)]()[_0x41d36a(0x153)](_0x41d36a(0x192))[_0x41d36a(0x130)]()[_0x41d36a(0x1a1)](a107_0x2bc880)[_0x41d36a(0x153)]('(((.+)+)+)+$');});a107_0x2bc880();function a107_0x2a26(){const _0x566c64=['Error','\x20Commit\x20Summary','prototype','prefix','../../salesforce/utils/sfdx.utils','\x20Fetch\x20remote\x20branch\x20hash.','714Sbwlmj','getOwnPropertyDescriptor','LoggerTypes','Bitbucket','function','__createBinding','\x20Git\x20commits\x20not\x20have\x20a\x20changes.','248648uVFOGl','get','object','FlosumCommitError','../../salesforce/services/salesforce-commits-manager.service','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','describeCommit','../../../shared/utils','2100078lXAlbd','checkSyncStatus','__esModule','\x20components','search','send','In\x20Progress','getCurrentHash','changes','commit','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','files','removed','repository','updateFileNamesForSFDXProject','Branch\x20synchronized.\x20Skip.','default','shift','GitCommitService','\x20Added\x20','isSFDXProject','force','SFDX','prepareMdapi','commits','../../../../constants','mdapiUtils','updateStatus','run','gitCommit','Last\x20git\x20repository\x20hash\x20is\x20%s.','catch','proceedFile','writable','gitCommitData','GitCommitJob','\x20components.',']\x20[Branch:\x20','../../providers/providers.tokens','provider','fetchCommits','ApiError','BitbucketApiService','GitUtils','SalesforceLogger3','repositoryGit','hasOwnProperty','gitApiService','decorate','providersFactory','\x20files\x20before\x20sync.','removeDir','1vszWZQ','getBranchId','GitProvider','../../internal/git.internal','51144puTUih','branch','prepareGitChangedPaths','convertToCleanPaths','../utils/mdapi.utils','isLoggedIn','../services/git-commit.service','logger','MAX_COMPONENTS_PER_TICK','log','../../internal/fs.internal','(((.+)+)+)+$','resetStats','config','dir','message','getRepositoryId','ProvidersFactory','\x20Proceeded\x20','createLoggerId','__metadata','env','../utils/connection','lastCommitHash','SalesforceError','relative','constructor','create','../../../../core/errors/api.error','proceedCommits','\x20Processed\x20','splice','checkoutTo','defineProperty','Tokens','length','push','fetchRepositoryOrBranchData','1215894utXJTm','fileNames','\x20Fetch\x20salesforce\x20data.','sfLogger','\x20Modified\x20','setLoggerId','19635qJIxor','flat','__decorate','setCommitDto','metadata','__importStar','username','name','__setModuleDefault','../utils/git.utils',']\x20[','email','../utils/git-commit.utils','Logger','sync\x20components','map','commitId','gitUtils','\x20[SFDX:\x20','getProtocol','path','added','6845830iEgTxJ','../errors/flosum-commit.error','updateRemoteState','inserted','getRemoteHash','SalesforceCommitsManager','clone','Git','stats','://','replace','apply','11HsqlyR','getRemote','Service','author','toString','56tUMfgh','readDir','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','MDApiUtils','../../salesforce/errors/salesforce.error','modified','cleanUp','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','1453436mPuIoj'];a107_0x2a26=function(){return _0x566c64;};return a107_0x2a26();}'use strict';var __createBinding=this&&this[a107_0x39fbf5(0x145)]||(Object[a107_0x39fbf5(0x1a2)]?function(_0x5b8ec7,_0x4bb996,_0x5ab1d4,_0x2b2e57){const _0x99a8cc=a107_0x39fbf5;if(_0x2b2e57===undefined)_0x2b2e57=_0x5ab1d4;var _0x1664b9=Object[_0x99a8cc(0x141)](_0x4bb996,_0x5ab1d4);(!_0x1664b9||(_0x99a8cc(0x148)in _0x1664b9?!_0x4bb996[_0x99a8cc(0x151)]:_0x1664b9[_0x99a8cc(0x170)]||_0x1664b9['configurable']))&&(_0x1664b9={'enumerable':!![],'get':function(){return _0x4bb996[_0x5ab1d4];}}),Object[_0x99a8cc(0xff)](_0x5b8ec7,_0x2b2e57,_0x1664b9);}:function(_0x18989d,_0x1302d2,_0x5beab7,_0x34ca22){if(_0x34ca22===undefined)_0x34ca22=_0x5beab7;_0x18989d[_0x34ca22]=_0x1302d2[_0x5beab7];}),__setModuleDefault=this&&this[a107_0x39fbf5(0x112)]||(Object['create']?function(_0x515479,_0x294e38){const _0x38affa=a107_0x39fbf5;Object['defineProperty'](_0x515479,_0x38affa(0x15f),{'enumerable':!![],'value':_0x294e38});}:function(_0x1f0116,_0x7cd4c0){const _0x46e408=a107_0x39fbf5;_0x1f0116[_0x46e408(0x15f)]=_0x7cd4c0;}),__decorate=this&&this[a107_0x39fbf5(0x10c)]||function(_0x2a94f0,_0x22527a,_0x1301c6,_0x3b82d5){const _0x9ec211=a107_0x39fbf5;var _0xa4349c=arguments[_0x9ec211(0x101)],_0x574c80=_0xa4349c<0x3?_0x22527a:_0x3b82d5===null?_0x3b82d5=Object['getOwnPropertyDescriptor'](_0x22527a,_0x1301c6):_0x3b82d5,_0x1d1c86;if(typeof Reflect===_0x9ec211(0x149)&&typeof Reflect[_0x9ec211(0x17f)]===_0x9ec211(0x144))_0x574c80=Reflect[_0x9ec211(0x17f)](_0x2a94f0,_0x22527a,_0x1301c6,_0x3b82d5);else{for(var _0x567b6e=_0x2a94f0[_0x9ec211(0x101)]-0x1;_0x567b6e>=0x0;_0x567b6e--)if(_0x1d1c86=_0x2a94f0[_0x567b6e])_0x574c80=(_0xa4349c<0x3?_0x1d1c86(_0x574c80):_0xa4349c>0x3?_0x1d1c86(_0x22527a,_0x1301c6,_0x574c80):_0x1d1c86(_0x22527a,_0x1301c6))||_0x574c80;}return _0xa4349c>0x3&&_0x574c80&&Object[_0x9ec211(0xff)](_0x22527a,_0x1301c6,_0x574c80),_0x574c80;},__importStar=this&&this[a107_0x39fbf5(0x10f)]||function(_0x2e9f66){const _0x57469a=a107_0x39fbf5;if(_0x2e9f66&&_0x2e9f66[_0x57469a(0x151)])return _0x2e9f66;var _0x25698e={};if(_0x2e9f66!=null){for(var _0x87dab2 in _0x2e9f66)if(_0x87dab2!=='default'&&Object[_0x57469a(0x13c)][_0x57469a(0x17d)]['call'](_0x2e9f66,_0x87dab2))__createBinding(_0x25698e,_0x2e9f66,_0x87dab2);}return __setModuleDefault(_0x25698e,_0x2e9f66),_0x25698e;},__metadata=this&&this[a107_0x39fbf5(0x19b)]||function(_0xdb7d8d,_0x5bdc11){const _0x803e98=a107_0x39fbf5;if(typeof Reflect===_0x803e98(0x149)&&typeof Reflect[_0x803e98(0x10e)]==='function')return Reflect['metadata'](_0xdb7d8d,_0x5bdc11);},GitCommitJob_1;Object[a107_0x39fbf5(0xff)](exports,a107_0x39fbf5(0x151),{'value':!![]}),exports[a107_0x39fbf5(0x172)]=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a107_0x39fbf5(0x191)),salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),utils_1=require(a107_0x39fbf5(0x14e)),path_1=require(a107_0x39fbf5(0x11e)),typedi_1=__importStar(require('typedi')),constants_1=require(a107_0x39fbf5(0x168)),salesforce_commits_manager_service_1=require(a107_0x39fbf5(0x14b)),git_commit_utils_1=require(a107_0x39fbf5(0x116)),git_utils_1=require(a107_0x39fbf5(0x113)),mdapi_utils_1=require(a107_0x39fbf5(0x18b)),api_error_1=require(a107_0x39fbf5(0x1a3)),salesforce_error_1=require(a107_0x39fbf5(0x135)),git_commit_service_1=require(a107_0x39fbf5(0x18d)),flosum_commit_error_1=require(a107_0x39fbf5(0x121)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require('../../providers/types/git-provider'),sfdx_utils_1=require(a107_0x39fbf5(0x13e)),utils_2=require('../../parsers/utils'),git_internal_1=require(a107_0x39fbf5(0x186)),providers_tokens_1=require(a107_0x39fbf5(0x175)),connection_1=require(a107_0x39fbf5(0x19d)),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types');let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x1f18f9,_0x485f3a){const _0x4374a9=a107_0x39fbf5;this['gitCommit']=_0x1f18f9,this[_0x4374a9(0x180)]=_0x485f3a,this[_0x4374a9(0x18f)]=+(process[_0x4374a9(0x19c)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this['logger']=new core_1[(_0x4374a9(0x117))](GitCommitJob_1[_0x4374a9(0x111)]),this[_0x4374a9(0x11a)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x5bf6a8=a107_0x39fbf5,{repositoryGit:_0x5332bb}=this[_0x5bf6a8(0x171)],_0x4a0794=typedi_1['default'][_0x5bf6a8(0x148)](providers_tokens_1[_0x5bf6a8(0x100)]['credentials']);if(this[_0x5bf6a8(0x171)][_0x5bf6a8(0x176)]===git_provider_1[_0x5bf6a8(0x185)][_0x5bf6a8(0x143)]){const _0x2daeaf=typedi_1[_0x5bf6a8(0x15f)][_0x5bf6a8(0x148)](bitbucket_api_service_1[_0x5bf6a8(0x179)]);await _0x2daeaf[_0x5bf6a8(0x18c)]();}return _0x5332bb[_0x5bf6a8(0x12a)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x5bf6a8(0x11d)])(_0x5332bb)+_0x5bf6a8(0x129)+_0x4a0794['getGitShellAuthorizationString']()+'@');}[a107_0x39fbf5(0x193)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x39fbf5(0x15d)](){const _0xb7c7c7=a107_0x39fbf5,_0x3c4630=[...this[_0xb7c7c7(0x171)][_0xb7c7c7(0x105)]];this[_0xb7c7c7(0x171)]['fileNames']=[];for(const _0x3732c0 of _0x3c4630){this[_0xb7c7c7(0x171)][_0xb7c7c7(0x105)][_0xb7c7c7(0x102)](...await(0x0,utils_2['readFilesByFilename'])(_0x3732c0,this[_0xb7c7c7(0x169)]['dir']));}}async[a107_0x39fbf5(0x177)](){const _0x1abf4d=a107_0x39fbf5;if(this[_0x1abf4d(0x171)][_0x1abf4d(0x164)])return;const _0x5b40ca=[];for(const _0x5d252a of this[_0x1abf4d(0x171)][_0x1abf4d(0x167)]){const _0x3e4a90=await this[_0x1abf4d(0x11b)][_0x1abf4d(0x14d)](_0x5d252a['id']);_0x5d252a[_0x1abf4d(0x110)]=_0x3e4a90[_0x1abf4d(0x12f)],_0x5d252a[_0x1abf4d(0x196)]=_0x3e4a90[_0x1abf4d(0x196)],_0x5d252a['files']=_0x3e4a90[_0x1abf4d(0x157)],_0x5d252a['email']=_0x3e4a90[_0x1abf4d(0x115)];if(_0x5d252a[_0x1abf4d(0x115)]===constants_1['DEFAULT_GIT_USER_EMAIL'])throw new flosum_commit_error_1[(_0x1abf4d(0x14a))]();_0x5b40ca[_0x1abf4d(0x102)](...Object['values'](_0x5d252a[_0x1abf4d(0x15a)])[_0x1abf4d(0x10b)]());}this[_0x1abf4d(0x171)][_0x1abf4d(0x105)]=[...new Set((0x0,git_commit_utils_1[_0x1abf4d(0x189)])(_0x5b40ca))];}async['sendComponents'](_0xf6f667,_0x373c38,_0x4c76f4){const _0x23ebb3=a107_0x39fbf5,_0x37a1f1=_0x4c76f4['reduce']((_0x190fd2,_0x431862)=>{const _0x32f0ae=a107_0x5713;return _0x190fd2['inserted']['push'](..._0x431862[_0x32f0ae(0x123)]),_0x190fd2[_0x32f0ae(0x136)]['push'](..._0x431862[_0x32f0ae(0x136)]),_0x190fd2['removed']['push'](..._0x431862[_0x32f0ae(0x15b)]),_0x190fd2;},{'inserted':[],'modified':[],'removed':[]}),_0x2c830b=new salesforce_commits_manager_service_1[(_0x23ebb3(0x125))]({'recordTypes':this[_0x23ebb3(0x16c)]['getRecordTypes'](),'branchId':this[_0x23ebb3(0x16c)][_0x23ebb3(0x184)](),'repositoryId':this['gitCommit'][_0x23ebb3(0x197)](),'logger':this[_0x23ebb3(0x107)],'commitId':this[_0x23ebb3(0x11a)]});await _0x2c830b[_0x23ebb3(0x1a4)]([{'author':_0xf6f667,'message':_0x373c38,'inserted':_0x37a1f1['inserted'],'modified':_0x37a1f1[_0x23ebb3(0x136)],'removed':_0x37a1f1['removed']}]);}async['handleCommit'](_0x479c40,_0x516a82){const _0x246fcf=a107_0x39fbf5;await this[_0x246fcf(0x107)]['log'](this[_0x246fcf(0x13d)]+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')[_0x246fcf(0x154)](),await this['gitCommit']['fetchComponentsMetadata'](_0x516a82);const {added:_0x4de925,modified:_0x458957,removed:_0x30e39b}=_0x479c40[_0x246fcf(0x15a)];_0x516a82&&_0x458957['push'](..._0x30e39b[_0x246fcf(0x1a6)](0x0));const _0x4d2bd6=(0x0,utils_2[_0x246fcf(0x18a)])((0x0,git_commit_utils_1[_0x246fcf(0x189)])([..._0x4de925,..._0x458957,..._0x30e39b],_0x516a82&&!this[_0x246fcf(0x171)][_0x246fcf(0x164)]));let _0x4b698a=0x0;const _0x732a97=[];(_0x4de925['length']||_0x458957['length'])&&this[_0x246fcf(0x16c)]['getRepositoryId']()&&(this['commitId']=await this[_0x246fcf(0x16c)]['createCommit'](_0x479c40[_0x246fcf(0x196)]));const _0x3da29a=_0x4d2bd6['length'];let _0x4a12fa=0x0;while(_0x4d2bd6[_0x246fcf(0x101)]){const _0x54767a=_0x4d2bd6['shift'](),_0x3482d8=await this[_0x246fcf(0x16c)][_0x246fcf(0x16f)](_0x54767a,this[_0x246fcf(0x169)][_0x246fcf(0x195)],_0x516a82&&!this[_0x246fcf(0x171)][_0x246fcf(0x164)]);_0x4b698a+=_0x3482d8[_0x246fcf(0x123)][_0x246fcf(0x101)]+_0x3482d8[_0x246fcf(0x15b)][_0x246fcf(0x101)]+_0x3482d8[_0x246fcf(0x136)][_0x246fcf(0x101)],this['stats'][_0x246fcf(0x11f)]+=_0x3482d8[_0x246fcf(0x123)][_0x246fcf(0x101)],this[_0x246fcf(0x128)][_0x246fcf(0x136)]+=_0x3482d8['modified'][_0x246fcf(0x101)],this[_0x246fcf(0x128)]['removed']+=_0x3482d8[_0x246fcf(0x15b)][_0x246fcf(0x101)],_0x4a12fa++,_0x4a12fa%0x64===0x0&&this[_0x246fcf(0x18e)][_0x246fcf(0x190)](_0x246fcf(0x159),_0x4a12fa,_0x3da29a,_0x4b698a),_0x732a97[_0x246fcf(0x102)](_0x3482d8),_0x4b698a>this[_0x246fcf(0x18f)]&&(await this['sendComponents'](_0x479c40[_0x246fcf(0x110)],_0x479c40[_0x246fcf(0x196)],_0x732a97),await this[_0x246fcf(0x107)][_0x246fcf(0x190)](this[_0x246fcf(0x13d)]+_0x246fcf(0x1a5)+_0x4b698a+_0x246fcf(0x173))[_0x246fcf(0x154)](),_0x4b698a=0x0,_0x732a97[_0x246fcf(0x1a6)](0x0));}_0x732a97['length']&&(await this['sendComponents'](_0x479c40[_0x246fcf(0x110)],_0x479c40[_0x246fcf(0x196)],_0x732a97),await this[_0x246fcf(0x107)]['log'](this['prefix']+_0x246fcf(0x1a5)+_0x4b698a+_0x246fcf(0x173))[_0x246fcf(0x154)]());}async[a107_0x39fbf5(0x1a4)](_0x3e7c06){const _0x197498=a107_0x39fbf5,_0x4994ec=[...this[_0x197498(0x171)][_0x197498(0x167)]],_0x2a7218=_0x4994ec[_0x197498(0x101)];let _0x3c5ad9=0x0;while(_0x4994ec[_0x197498(0x101)]){const _0x15f86c=_0x4994ec[_0x197498(0x160)]();!this[_0x197498(0x171)][_0x197498(0x164)]&&(this[_0x197498(0x16c)][_0x197498(0x197)]()?(await this[_0x197498(0x11b)][_0x197498(0x1a7)](_0x15f86c['id']),await this[_0x197498(0x169)]['prepareMdapi'](this['gitUtils'][_0x197498(0x195)])):(await this[_0x197498(0x11b)][_0x197498(0x1a7)](this[_0x197498(0x19e)]),await this[_0x197498(0x169)][_0x197498(0x166)](this[_0x197498(0x11b)][_0x197498(0x195)]))),await this['handleCommit'](_0x15f86c,_0x3e7c06),await this['mdapiUtils']['removeDir'](),_0x3c5ad9+=0x1,await this[_0x197498(0x107)]['log'](this[_0x197498(0x13d)]+_0x197498(0x13b)),await this[_0x197498(0x107)][_0x197498(0x190)](this['prefix']+_0x197498(0x162)+this['stats']['added']+_0x197498(0x152)),await this['sfLogger']['log'](this[_0x197498(0x13d)]+_0x197498(0x108)+this[_0x197498(0x128)]['modified']+_0x197498(0x152)),await this[_0x197498(0x107)][_0x197498(0x190)](this['prefix']+'\x20Removed\x20'+this[_0x197498(0x128)][_0x197498(0x15b)]+'\x20components'),await this[_0x197498(0x107)][_0x197498(0x190)](this[_0x197498(0x13d)]+_0x197498(0x199)+_0x3c5ad9+'/'+_0x2a7218+'\x20commits.')[_0x197498(0x154)](),this[_0x197498(0x193)]();}}async[a107_0x39fbf5(0x137)](){const _0x15a27d=a107_0x39fbf5;this[_0x15a27d(0x11b)]&&await this[_0x15a27d(0x11b)][_0x15a27d(0x182)]()[_0x15a27d(0x16e)](()=>void 0x0),this[_0x15a27d(0x169)]&&await this[_0x15a27d(0x169)][_0x15a27d(0x182)]()[_0x15a27d(0x16e)](()=>void 0x0);}async[a107_0x39fbf5(0x16b)](_0x248d07){const _0x5bb352=a107_0x39fbf5;this[_0x5bb352(0x171)]=_0x248d07,this[_0x5bb352(0x16c)][_0x5bb352(0x10d)](this[_0x5bb352(0x171)]),this[_0x5bb352(0x17e)]=typedi_1[_0x5bb352(0x15f)][_0x5bb352(0x148)](providers_tokens_1['Tokens'][_0x5bb352(0x17e)]),this[_0x5bb352(0x194)]=typedi_1[_0x5bb352(0x15f)][_0x5bb352(0x148)](providers_tokens_1['Tokens'][_0x5bb352(0x194)]),this['sfLogger']=typedi_1[_0x5bb352(0x15f)][_0x5bb352(0x148)](providers_tokens_1['Tokens'][_0x5bb352(0x18e)]),this[_0x5bb352(0x13d)]='[GIT\x20->\x20FLOSUM]\x20[Repository:\x20'+_0x248d07[_0x5bb352(0x15c)]+_0x5bb352(0x174)+_0x248d07[_0x5bb352(0x188)]+_0x5bb352(0x114)+GitCommitJob_1[_0x5bb352(0x111)]+']',this['gitUtils']=new git_utils_1[(_0x5bb352(0x17a))](await this[_0x5bb352(0x12d)]()),this[_0x5bb352(0x169)]=new mdapi_utils_1[(_0x5bb352(0x134))](),this[_0x5bb352(0x107)][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+'\x20Start\x20Git-commit\x20job.');try{this['sfLogger'][_0x5bb352(0x190)](this['prefix']+_0x5bb352(0x106)),await this[_0x5bb352(0x16c)][_0x5bb352(0x103)](),await this[_0x5bb352(0x16c)][_0x5bb352(0x16a)](_0x5bb352(0x155)),this['sfLogger'][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+_0x5bb352(0x13f)),this[_0x5bb352(0x19e)]=await git_internal_1[_0x5bb352(0x127)][_0x5bb352(0x124)](await this['getRemote'](),this[_0x5bb352(0x171)][_0x5bb352(0x188)]),this[_0x5bb352(0x18e)][_0x5bb352(0x190)](_0x5bb352(0x16d),this[_0x5bb352(0x19e)]);const _0x331d26=await this[_0x5bb352(0x16c)][_0x5bb352(0x150)](this[_0x5bb352(0x19e)]);if(_0x331d26){this[_0x5bb352(0x107)][_0x5bb352(0x190)](_0x5bb352(0x15e)),await this[_0x5bb352(0x16c)][_0x5bb352(0x16a)]('Completed');return;}this[_0x5bb352(0x107)][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this['gitCommitData'][_0x5bb352(0x17c)]+'.'),await this[_0x5bb352(0x11b)][_0x5bb352(0x126)](this['gitCommitData'][_0x5bb352(0x188)],this['gitCommitData'][_0x5bb352(0x15c)]),this[_0x5bb352(0x107)][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+_0x5bb352(0x133));const _0x6f14cf=await sfdx_utils_1[_0x5bb352(0x165)][_0x5bb352(0x163)](this[_0x5bb352(0x11b)][_0x5bb352(0x195)]);await this['fetchCommits']();!this[_0x5bb352(0x107)]['getLoggerId']()&&this['sfLogger'][_0x5bb352(0x109)](await salesforce_logger_v3_service_1[_0x5bb352(0x17b)][_0x5bb352(0x19a)](sf_logger_v3_types_1[_0x5bb352(0x142)][_0x5bb352(0x158)]));await this['sfLogger']['send']();if(_0x248d07['force']){await this['mdapiUtils'][_0x5bb352(0x166)](this[_0x5bb352(0x11b)]['dir']),await this['sfLogger'][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+_0x5bb352(0x14c))[_0x5bb352(0x154)]();const _0x5514a6=(await fs_internal_1['FS'][_0x5bb352(0x132)](this[_0x5bb352(0x169)][_0x5bb352(0x195)],!![]))[_0x5bb352(0x119)](_0x323c5a=>(0x0,path_1[_0x5bb352(0x1a0)])(this[_0x5bb352(0x169)][_0x5bb352(0x195)],_0x323c5a));this[_0x5bb352(0x107)][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x5514a6['length']+_0x5bb352(0x181)),this[_0x5bb352(0x171)][_0x5bb352(0x105)]=[],this[_0x5bb352(0x171)][_0x5bb352(0x167)]=[{'files':{'modified':_0x5514a6,'added':[],'removed':[]},'id':await this[_0x5bb352(0x11b)][_0x5bb352(0x156)](),'message':_0x5bb352(0x118),'username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this[_0x5bb352(0x16c)][_0x5bb352(0x122)]({[this[_0x5bb352(0x171)][_0x5bb352(0x17c)]]:{'lastCommit':this[_0x5bb352(0x19e)]}}),await this[_0x5bb352(0x107)][_0x5bb352(0x190)](this['prefix']+_0x5bb352(0x11c)+(_0x6f14cf?'YES':'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x5bb352(0x154)](),await this[_0x5bb352(0x1a4)](_0x6f14cf),await this[_0x5bb352(0x107)][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+'\x20Job\x20done.')[_0x5bb352(0x154)](),await this[_0x5bb352(0x16c)][_0x5bb352(0x16a)]('Completed');}catch(_0x54e9ba){await this['cleanUp']();if(_0x54e9ba instanceof flosum_commit_error_1[_0x5bb352(0x14a)])await this[_0x5bb352(0x16c)][_0x5bb352(0x16a)]('Completed')['catch'](()=>void 0x0),this['logger'][_0x5bb352(0x190)](this[_0x5bb352(0x13d)]+_0x5bb352(0x146));else{await this[_0x5bb352(0x18e)]['error'](this['prefix']+_0x5bb352(0x138)+(_0x54e9ba instanceof api_error_1[_0x5bb352(0x178)]||_0x54e9ba instanceof salesforce_error_1[_0x5bb352(0x19f)]?_0x54e9ba['toString']():_0x54e9ba)),await this[_0x5bb352(0x16c)]['updateRemoteState']({}),await this[_0x5bb352(0x16c)][_0x5bb352(0x16a)](_0x5bb352(0x13a))[_0x5bb352(0x16e)](()=>void 0x0);throw _0x54e9ba;}}finally{await this[_0x5bb352(0x137)](),await this[_0x5bb352(0x107)][_0x5bb352(0x154)]()[_0x5bb352(0x16e)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x39fbf5(0x12e)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1[a107_0x39fbf5(0x161)],connection_1[a107_0x39fbf5(0x198)]])],GitCommitJob),exports[a107_0x39fbf5(0x172)]=GitCommitJob;