const a106_0x360564=a106_0x20f9;(function(_0x74ed33,_0x5464f2){const _0x17806b=a106_0x20f9,_0x5a2a94=_0x74ed33();while(!![]){try{const _0x1a61cb=parseInt(_0x17806b(0x174))/0x1*(parseInt(_0x17806b(0x185))/0x2)+parseInt(_0x17806b(0x105))/0x3*(-parseInt(_0x17806b(0x184))/0x4)+-parseInt(_0x17806b(0x12e))/0x5*(parseInt(_0x17806b(0x198))/0x6)+parseInt(_0x17806b(0x111))/0x7*(-parseInt(_0x17806b(0x16c))/0x8)+parseInt(_0x17806b(0x16a))/0x9+parseInt(_0x17806b(0x17d))/0xa*(parseInt(_0x17806b(0x137))/0xb)+parseInt(_0x17806b(0x10a))/0xc;if(_0x1a61cb===_0x5464f2)break;else _0x5a2a94['push'](_0x5a2a94['shift']());}catch(_0x5023d0){_0x5a2a94['push'](_0x5a2a94['shift']());}}}(a106_0x1f3a,0x3db81));const a106_0x63947e=(function(){let _0x33ea23=!![];return function(_0x33e518,_0x423686){const _0x410a5b=_0x33ea23?function(){const _0x103341=a106_0x20f9;if(_0x423686){const _0x3bfaba=_0x423686[_0x103341(0xf3)](_0x33e518,arguments);return _0x423686=null,_0x3bfaba;}}:function(){};return _0x33ea23=![],_0x410a5b;};}()),a106_0x29260d=a106_0x63947e(this,function(){const _0x4c0c0d=a106_0x20f9;return a106_0x29260d[_0x4c0c0d(0x141)]()[_0x4c0c0d(0x14c)](_0x4c0c0d(0x114))[_0x4c0c0d(0x141)]()[_0x4c0c0d(0xfb)](a106_0x29260d)[_0x4c0c0d(0x14c)](_0x4c0c0d(0x114));});a106_0x29260d();function a106_0x1f3a(){const _0x2ab213=['get','sendComponents','../../../shared/utils','error','../../salesforce/utils/sfdx.utils','inserted','\x20components.','author','getRepositoryId','__esModule','apply','push','log','length','fetchRepositoryOrBranchData','../../providers/providers.tokens','shift','env','constructor','__metadata','Branch\x20synchronized.\x20Skip.','credentials','values','__importStar','Completed','getOwnPropertyDescriptor','Service','metadata','3ZFxhfr','getProtocol','../../../../core/errors/api.error','setCommitDto','design:paramtypes','4107564uObfqm','../utils/git-commit.utils',']\x20[','SalesforceLogger3','BitbucketApiService','sync\x20components','commits','11347nQqXEF','prepareMdapi','__setModuleDefault','(((.+)+)+)+$','logger','ProvidersFactory','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','\x20components','fetchComponentsMetadata','defineProperty','gitCommitData','ApiError','flat','gitUtils','DEFAULT_GIT_USER_NAME','getCurrentHash','branch','dir','lastCommitHash','\x20commits.','relative','DEFAULT_GIT_USER_EMAIL','prefix','../../parsers/utils','message','../../salesforce/services/salesforce-logger-v3.service','\x20Processed\x20','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','map','950RCEEZV','email','getRemote','updateRemoteState','YES','SalesforceError',']\x20Start\x20proceeding\x20git\x20commits.\x20','SalesforceCommitsManager','isLoggedIn','32879aJBzAv','getGitShellAuthorizationString','config','readFilesByFilename','MDApiUtils','prototype','\x20Removed\x20','splice','gitApiService','modified','toString','\x20Fetch\x20salesforce\x20data.','typedi','setLoggerId','send','\x20Download\x20components\x20metadata\x20from\x20Flosum.','updateFileNamesForSFDXProject','getRecordTypes','\x20files\x20before\x20sync.','writable','added','search','force','updateStatus','\x20[SFDX:\x20','replace','function','../utils/mdapi.utils','Logger','\x20Fetch\x20remote\x20branch\x20hash.','repository','username','files','provider','createLoggerId','checkSyncStatus','createCommit','decorate','getLoggerId','../../../../constants','Bitbucket','Tokens','configurable','run','stats','describeCommit','GitCommitService','../services/git-commit.service','../../internal/git.internal','../utils/git.utils','default','3959298DJsMKR','commit','2264ufVVVZ','readDir','../errors/flosum-commit.error','removed','clone','GitProvider',']\x20[Branch:\x20','commitId','1bjrHuW','LoggerTypes','FlosumCommitError','prepareGitChangedPaths','Last\x20git\x20repository\x20hash\x20is\x20%s.','changes','cleanUp','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','getBranchId','110IjXouy','SFDX','fetchCommits','MAX_COMPONENTS_PER_TICK','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','catch','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','1412468CLDUIW','760566POWFXB','mdapiUtils','proceedCommits','GitUtils','object','\x20Modified\x20','removeDir','\x20Added\x20','../../providers/types/git-provider','sfLogger','repositoryGit','resetStats','reduce','gitCommit','../../providers/api/bitbucket-api.service','fileNames','create','__decorate','checkoutTo','4128tKPkYR'];a106_0x1f3a=function(){return _0x2ab213;};return a106_0x1f3a();}function a106_0x20f9(_0x1f66be,_0xce512){const _0x423e48=a106_0x1f3a();return a106_0x20f9=function(_0x29260d,_0x63947e){_0x29260d=_0x29260d-0xf2;let _0x1f3a33=_0x423e48[_0x29260d];return _0x1f3a33;},a106_0x20f9(_0x1f66be,_0xce512);}'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x2278f2,_0x576ce0,_0x2b4e0a,_0x3411f2){const _0x388b9f=a106_0x20f9;if(_0x3411f2===undefined)_0x3411f2=_0x2b4e0a;var _0x216bc3=Object[_0x388b9f(0x102)](_0x576ce0,_0x2b4e0a);(!_0x216bc3||('get'in _0x216bc3?!_0x576ce0[_0x388b9f(0xf2)]:_0x216bc3[_0x388b9f(0x14a)]||_0x216bc3[_0x388b9f(0x161)]))&&(_0x216bc3={'enumerable':!![],'get':function(){return _0x576ce0[_0x2b4e0a];}}),Object[_0x388b9f(0x11a)](_0x2278f2,_0x3411f2,_0x216bc3);}:function(_0x391945,_0xc8bd9d,_0x1f890d,_0x4c85be){if(_0x4c85be===undefined)_0x4c85be=_0x1f890d;_0x391945[_0x4c85be]=_0xc8bd9d[_0x1f890d];}),__setModuleDefault=this&&this[a106_0x360564(0x113)]||(Object[a106_0x360564(0x195)]?function(_0x421ac7,_0x4b4f26){const _0x56b80d=a106_0x360564;Object[_0x56b80d(0x11a)](_0x421ac7,_0x56b80d(0x169),{'enumerable':!![],'value':_0x4b4f26});}:function(_0xfb2601,_0x458b6a){const _0xdc5ddb=a106_0x360564;_0xfb2601[_0xdc5ddb(0x169)]=_0x458b6a;}),__decorate=this&&this[a106_0x360564(0x196)]||function(_0x7749c6,_0x448d37,_0x339f4f,_0x396ef1){const _0x43a24a=a106_0x360564;var _0x5ea63a=arguments[_0x43a24a(0xf6)],_0x36d800=_0x5ea63a<0x3?_0x448d37:_0x396ef1===null?_0x396ef1=Object['getOwnPropertyDescriptor'](_0x448d37,_0x339f4f):_0x396ef1,_0x114f1e;if(typeof Reflect===_0x43a24a(0x189)&&typeof Reflect[_0x43a24a(0x15c)]===_0x43a24a(0x151))_0x36d800=Reflect[_0x43a24a(0x15c)](_0x7749c6,_0x448d37,_0x339f4f,_0x396ef1);else{for(var _0x1d19cc=_0x7749c6[_0x43a24a(0xf6)]-0x1;_0x1d19cc>=0x0;_0x1d19cc--)if(_0x114f1e=_0x7749c6[_0x1d19cc])_0x36d800=(_0x5ea63a<0x3?_0x114f1e(_0x36d800):_0x5ea63a>0x3?_0x114f1e(_0x448d37,_0x339f4f,_0x36d800):_0x114f1e(_0x448d37,_0x339f4f))||_0x36d800;}return _0x5ea63a>0x3&&_0x36d800&&Object[_0x43a24a(0x11a)](_0x448d37,_0x339f4f,_0x36d800),_0x36d800;},__importStar=this&&this[a106_0x360564(0x100)]||function(_0x2d528c){const _0x229951=a106_0x360564;if(_0x2d528c&&_0x2d528c[_0x229951(0xf2)])return _0x2d528c;var _0x57993f={};if(_0x2d528c!=null){for(var _0x12335f in _0x2d528c)if(_0x12335f!==_0x229951(0x169)&&Object[_0x229951(0x13c)]['hasOwnProperty']['call'](_0x2d528c,_0x12335f))__createBinding(_0x57993f,_0x2d528c,_0x12335f);}return __setModuleDefault(_0x57993f,_0x2d528c),_0x57993f;},__metadata=this&&this[a106_0x360564(0xfc)]||function(_0x489100,_0x2fb6e1){const _0x30dfdc=a106_0x360564;if(typeof Reflect===_0x30dfdc(0x189)&&typeof Reflect[_0x30dfdc(0x104)]===_0x30dfdc(0x151))return Reflect['metadata'](_0x489100,_0x2fb6e1);},GitCommitJob_1;Object[a106_0x360564(0x11a)](exports,'__esModule',{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require('../../internal/fs.internal'),salesforce_logger_v3_service_1=require(a106_0x360564(0x12a)),utils_1=require(a106_0x360564(0x19b)),path_1=require('path'),typedi_1=__importStar(require(a106_0x360564(0x143))),constants_1=require(a106_0x360564(0x15e)),salesforce_commits_manager_service_1=require('../../salesforce/services/salesforce-commits-manager.service'),git_commit_utils_1=require(a106_0x360564(0x10b)),git_utils_1=require(a106_0x360564(0x168)),mdapi_utils_1=require(a106_0x360564(0x152)),api_error_1=require(a106_0x360564(0x107)),salesforce_error_1=require('../../salesforce/errors/salesforce.error'),git_commit_service_1=require(a106_0x360564(0x166)),flosum_commit_error_1=require(a106_0x360564(0x16e)),bitbucket_api_service_1=require(a106_0x360564(0x193)),git_provider_1=require(a106_0x360564(0x18d)),sfdx_utils_1=require(a106_0x360564(0x19d)),utils_2=require(a106_0x360564(0x128)),git_internal_1=require(a106_0x360564(0x167)),providers_tokens_1=require(a106_0x360564(0xf8)),connection_1=require('../utils/connection'),sf_logger_v3_types_1=require('../../salesforce/types/sf-logger-v3-types');let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x1d138e,_0x3d674c){const _0xe0aee2=a106_0x360564;this['gitCommit']=_0x1d138e,this['providersFactory']=_0x3d674c,this['MAX_COMPONENTS_PER_TICK']=+(process[_0xe0aee2(0xfa)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this['logger']=new core_1[(_0xe0aee2(0x153))](GitCommitJob_1['name']),this[_0xe0aee2(0x173)]='',this[_0xe0aee2(0x163)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a106_0x360564(0x130)](){const _0xe5b8f1=a106_0x360564,{repositoryGit:_0x55fe24}=this[_0xe5b8f1(0x11b)],_0x512fff=typedi_1['default'][_0xe5b8f1(0x199)](providers_tokens_1[_0xe5b8f1(0x160)][_0xe5b8f1(0xfe)]);if(this[_0xe5b8f1(0x11b)][_0xe5b8f1(0x158)]===git_provider_1[_0xe5b8f1(0x171)][_0xe5b8f1(0x15f)]){const _0x5b014c=typedi_1[_0xe5b8f1(0x169)]['get'](bitbucket_api_service_1[_0xe5b8f1(0x10e)]);await _0x5b014c[_0xe5b8f1(0x136)]();}return _0x55fe24[_0xe5b8f1(0x150)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0xe5b8f1(0x106)])(_0x55fe24)+'://'+_0x512fff[_0xe5b8f1(0x138)]()+'@');}[a106_0x360564(0x190)](){const _0x47dd39=a106_0x360564;this[_0x47dd39(0x163)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a106_0x360564(0x147)](){const _0x295f03=a106_0x360564,_0x2cbf1a=[...this[_0x295f03(0x11b)][_0x295f03(0x194)]];this[_0x295f03(0x11b)][_0x295f03(0x194)]=[];for(const _0x5d2ef5 of _0x2cbf1a){this[_0x295f03(0x11b)]['fileNames']['push'](...await(0x0,utils_2[_0x295f03(0x13a)])(_0x5d2ef5,this[_0x295f03(0x186)][_0x295f03(0x122)]));}}async[a106_0x360564(0x17f)](){const _0x53cfad=a106_0x360564;if(this[_0x53cfad(0x11b)]['force'])return;const _0x2013a3=[];for(const _0x5ef700 of this[_0x53cfad(0x11b)][_0x53cfad(0x110)]){const _0x3af152=await this[_0x53cfad(0x11e)][_0x53cfad(0x164)](_0x5ef700['id']);_0x5ef700[_0x53cfad(0x156)]=_0x3af152[_0x53cfad(0x1a0)],_0x5ef700[_0x53cfad(0x129)]=_0x3af152[_0x53cfad(0x129)],_0x5ef700[_0x53cfad(0x157)]=_0x3af152[_0x53cfad(0x179)],_0x5ef700[_0x53cfad(0x12f)]=_0x3af152[_0x53cfad(0x12f)];if(_0x5ef700['email']===constants_1[_0x53cfad(0x126)])throw new flosum_commit_error_1[(_0x53cfad(0x176))]();_0x2013a3[_0x53cfad(0xf4)](...Object[_0x53cfad(0xff)](_0x5ef700['files'])[_0x53cfad(0x11d)]());}this[_0x53cfad(0x11b)][_0x53cfad(0x194)]=[...new Set((0x0,git_commit_utils_1[_0x53cfad(0x177)])(_0x2013a3))];}async[a106_0x360564(0x19a)](_0x55d52a,_0x43ddd5,_0x57fba5){const _0x4e3d8c=a106_0x360564,_0x2ad255=_0x57fba5[_0x4e3d8c(0x191)]((_0x1ae668,_0x23a65f)=>{const _0x36cc7b=_0x4e3d8c;return _0x1ae668[_0x36cc7b(0x19e)]['push'](..._0x23a65f['inserted']),_0x1ae668[_0x36cc7b(0x140)][_0x36cc7b(0xf4)](..._0x23a65f['modified']),_0x1ae668['removed'][_0x36cc7b(0xf4)](..._0x23a65f[_0x36cc7b(0x16f)]),_0x1ae668;},{'inserted':[],'modified':[],'removed':[]}),_0x43ff67=new salesforce_commits_manager_service_1[(_0x4e3d8c(0x135))]({'recordTypes':this['gitCommit'][_0x4e3d8c(0x148)](),'branchId':this['gitCommit'][_0x4e3d8c(0x17c)](),'repositoryId':this['gitCommit'][_0x4e3d8c(0x1a1)](),'logger':this[_0x4e3d8c(0x18e)],'commitId':this['commitId']});await _0x43ff67['proceedCommits']([{'author':_0x55d52a,'message':_0x43ddd5,'inserted':_0x2ad255['inserted'],'modified':_0x2ad255[_0x4e3d8c(0x140)],'removed':_0x2ad255['removed']}]);}async['handleCommit'](_0x291106,_0x14407c){const _0x39784e=a106_0x360564;await this['sfLogger'][_0x39784e(0xf5)](this[_0x39784e(0x127)]+_0x39784e(0x146))[_0x39784e(0x145)](),await this[_0x39784e(0x192)][_0x39784e(0x119)](_0x14407c);const {added:_0x3d2281,modified:_0x4517b9,removed:_0x26b16f}=_0x291106[_0x39784e(0x157)];_0x14407c&&_0x4517b9[_0x39784e(0xf4)](..._0x26b16f[_0x39784e(0x13e)](0x0));const _0x582761=(0x0,utils_2['convertToCleanPaths'])((0x0,git_commit_utils_1['prepareGitChangedPaths'])([..._0x3d2281,..._0x4517b9,..._0x26b16f],_0x14407c&&!this[_0x39784e(0x11b)]['force']));let _0x9aa4af=0x0;const _0x463f58=[];(_0x3d2281[_0x39784e(0xf6)]||_0x4517b9[_0x39784e(0xf6)])&&this[_0x39784e(0x192)]['getRepositoryId']()&&(this['commitId']=await this[_0x39784e(0x192)][_0x39784e(0x15b)](_0x291106['message']));const _0x542a2d=_0x582761[_0x39784e(0xf6)];let _0xa27633=0x0;while(_0x582761[_0x39784e(0xf6)]){const _0x5958b7=_0x582761[_0x39784e(0xf9)](),_0x2c06c3=await this['gitCommit']['proceedFile'](_0x5958b7,this[_0x39784e(0x186)][_0x39784e(0x122)],_0x14407c&&!this[_0x39784e(0x11b)][_0x39784e(0x14d)]);_0x9aa4af+=_0x2c06c3[_0x39784e(0x19e)]['length']+_0x2c06c3[_0x39784e(0x16f)]['length']+_0x2c06c3[_0x39784e(0x140)][_0x39784e(0xf6)],this[_0x39784e(0x163)][_0x39784e(0x14b)]+=_0x2c06c3[_0x39784e(0x19e)][_0x39784e(0xf6)],this[_0x39784e(0x163)][_0x39784e(0x140)]+=_0x2c06c3[_0x39784e(0x140)][_0x39784e(0xf6)],this['stats']['removed']+=_0x2c06c3[_0x39784e(0x16f)][_0x39784e(0xf6)],_0xa27633++,_0xa27633%0x64===0x0&&this['logger'][_0x39784e(0xf5)](_0x39784e(0x181),_0xa27633,_0x542a2d,_0x9aa4af),_0x463f58['push'](_0x2c06c3),_0x9aa4af>this[_0x39784e(0x180)]&&(await this[_0x39784e(0x19a)](_0x291106[_0x39784e(0x156)],_0x291106[_0x39784e(0x129)],_0x463f58),await this[_0x39784e(0x18e)][_0x39784e(0xf5)](this[_0x39784e(0x127)]+_0x39784e(0x12b)+_0x9aa4af+'\x20components.')[_0x39784e(0x145)](),_0x9aa4af=0x0,_0x463f58[_0x39784e(0x13e)](0x0));}_0x463f58[_0x39784e(0xf6)]&&(await this[_0x39784e(0x19a)](_0x291106[_0x39784e(0x156)],_0x291106[_0x39784e(0x129)],_0x463f58),await this[_0x39784e(0x18e)]['log'](this[_0x39784e(0x127)]+_0x39784e(0x12b)+_0x9aa4af+_0x39784e(0x19f))[_0x39784e(0x145)]());}async[a106_0x360564(0x187)](_0x27e7e){const _0x2fbd47=a106_0x360564,_0xb86896=[...this['gitCommitData'][_0x2fbd47(0x110)]],_0x211bf1=_0xb86896[_0x2fbd47(0xf6)];let _0x40080a=0x0;while(_0xb86896[_0x2fbd47(0xf6)]){const _0x1e2930=_0xb86896['shift']();!this['gitCommitData'][_0x2fbd47(0x14d)]&&(this[_0x2fbd47(0x192)][_0x2fbd47(0x1a1)]()?(await this[_0x2fbd47(0x11e)]['checkoutTo'](_0x1e2930['id']),await this[_0x2fbd47(0x186)][_0x2fbd47(0x112)](this[_0x2fbd47(0x11e)][_0x2fbd47(0x122)])):(await this['gitUtils'][_0x2fbd47(0x197)](this[_0x2fbd47(0x123)]),await this[_0x2fbd47(0x186)][_0x2fbd47(0x112)](this[_0x2fbd47(0x11e)][_0x2fbd47(0x122)]))),await this['handleCommit'](_0x1e2930,_0x27e7e),await this[_0x2fbd47(0x186)][_0x2fbd47(0x18b)](),_0x40080a+=0x1,await this[_0x2fbd47(0x18e)][_0x2fbd47(0xf5)](this[_0x2fbd47(0x127)]+'\x20Commit\x20Summary'),await this['sfLogger'][_0x2fbd47(0xf5)](this[_0x2fbd47(0x127)]+_0x2fbd47(0x18c)+this['stats']['added']+_0x2fbd47(0x118)),await this['sfLogger'][_0x2fbd47(0xf5)](this[_0x2fbd47(0x127)]+_0x2fbd47(0x18a)+this[_0x2fbd47(0x163)][_0x2fbd47(0x140)]+_0x2fbd47(0x118)),await this[_0x2fbd47(0x18e)][_0x2fbd47(0xf5)](this[_0x2fbd47(0x127)]+_0x2fbd47(0x13d)+this[_0x2fbd47(0x163)][_0x2fbd47(0x16f)]+_0x2fbd47(0x118)),await this[_0x2fbd47(0x18e)][_0x2fbd47(0xf5)](this[_0x2fbd47(0x127)]+'\x20Proceeded\x20'+_0x40080a+'/'+_0x211bf1+_0x2fbd47(0x124))['send'](),this[_0x2fbd47(0x190)]();}}async[a106_0x360564(0x17a)](){const _0x2eee79=a106_0x360564;this[_0x2eee79(0x11e)]&&await this[_0x2eee79(0x11e)][_0x2eee79(0x18b)]()[_0x2eee79(0x182)](()=>void 0x0),this[_0x2eee79(0x186)]&&await this[_0x2eee79(0x186)][_0x2eee79(0x18b)]()[_0x2eee79(0x182)](()=>void 0x0);}async[a106_0x360564(0x162)](_0x320351){const _0x19975f=a106_0x360564;this[_0x19975f(0x11b)]=_0x320351,this['gitCommit'][_0x19975f(0x108)](this[_0x19975f(0x11b)]),this[_0x19975f(0x13f)]=typedi_1[_0x19975f(0x169)]['get'](providers_tokens_1[_0x19975f(0x160)][_0x19975f(0x13f)]),this[_0x19975f(0x139)]=typedi_1[_0x19975f(0x169)]['get'](providers_tokens_1[_0x19975f(0x160)]['config']),this[_0x19975f(0x18e)]=typedi_1[_0x19975f(0x169)][_0x19975f(0x199)](providers_tokens_1[_0x19975f(0x160)]['logger']),this[_0x19975f(0x127)]=_0x19975f(0x12c)+_0x320351[_0x19975f(0x155)]+_0x19975f(0x172)+_0x320351[_0x19975f(0x121)]+_0x19975f(0x10c)+GitCommitJob_1['name']+']',this[_0x19975f(0x11e)]=new git_utils_1[(_0x19975f(0x188))](await this[_0x19975f(0x130)]()),this[_0x19975f(0x186)]=new mdapi_utils_1[(_0x19975f(0x13b))](),this[_0x19975f(0x18e)]['log'](this[_0x19975f(0x127)]+'\x20Start\x20Git-commit\x20job.');try{this[_0x19975f(0x18e)][_0x19975f(0xf5)](this['prefix']+_0x19975f(0x142)),await this[_0x19975f(0x192)][_0x19975f(0xf7)](),await this[_0x19975f(0x192)]['updateStatus']('In\x20Progress'),this[_0x19975f(0x18e)]['log'](this['prefix']+_0x19975f(0x154)),this['lastCommitHash']=await git_internal_1['Git']['getRemoteHash'](await this['getRemote'](),this['gitCommitData']['branch']),this[_0x19975f(0x115)][_0x19975f(0xf5)](_0x19975f(0x178),this[_0x19975f(0x123)]);const _0x401ddb=await this[_0x19975f(0x192)][_0x19975f(0x15a)](this[_0x19975f(0x123)]);if(_0x401ddb){this[_0x19975f(0x18e)]['log'](_0x19975f(0xfd)),await this['gitCommit'][_0x19975f(0x14e)](_0x19975f(0x101));return;}this[_0x19975f(0x18e)][_0x19975f(0xf5)](this[_0x19975f(0x127)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this['gitCommitData'][_0x19975f(0x18f)]+'.'),await this['gitUtils'][_0x19975f(0x170)](this[_0x19975f(0x11b)][_0x19975f(0x121)],this[_0x19975f(0x11b)][_0x19975f(0x155)]),this[_0x19975f(0x18e)]['log'](this[_0x19975f(0x127)]+_0x19975f(0x117));const _0x22fbec=await sfdx_utils_1[_0x19975f(0x17e)]['isSFDXProject'](this[_0x19975f(0x11e)][_0x19975f(0x122)]);await this[_0x19975f(0x17f)]();!this[_0x19975f(0x18e)][_0x19975f(0x15d)]()&&this[_0x19975f(0x18e)][_0x19975f(0x144)](await salesforce_logger_v3_service_1[_0x19975f(0x10d)][_0x19975f(0x159)](sf_logger_v3_types_1[_0x19975f(0x175)][_0x19975f(0x16b)]));await this[_0x19975f(0x18e)][_0x19975f(0x145)]();if(_0x320351[_0x19975f(0x14d)]){await this['mdapiUtils'][_0x19975f(0x112)](this['gitUtils'][_0x19975f(0x122)]),await this[_0x19975f(0x18e)]['log'](this[_0x19975f(0x127)]+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')[_0x19975f(0x145)]();const _0x352211=(await fs_internal_1['FS'][_0x19975f(0x16d)](this[_0x19975f(0x186)][_0x19975f(0x122)],!![]))[_0x19975f(0x12d)](_0x400336=>(0x0,path_1[_0x19975f(0x125)])(this[_0x19975f(0x186)][_0x19975f(0x122)],_0x400336));this[_0x19975f(0x18e)][_0x19975f(0xf5)](this[_0x19975f(0x127)]+_0x19975f(0x183)+_0x352211['length']+_0x19975f(0x149)),this[_0x19975f(0x11b)][_0x19975f(0x194)]=[],this[_0x19975f(0x11b)][_0x19975f(0x110)]=[{'files':{'modified':_0x352211,'added':[],'removed':[]},'id':await this[_0x19975f(0x11e)][_0x19975f(0x120)](),'message':_0x19975f(0x10f),'username':constants_1[_0x19975f(0x11f)]}];}await this['gitCommit']['updateRemoteState']({[this[_0x19975f(0x11b)]['repositoryGit']]:{'lastCommit':this['lastCommitHash']}}),await this[_0x19975f(0x18e)][_0x19975f(0xf5)](this[_0x19975f(0x127)]+_0x19975f(0x14f)+(_0x22fbec?_0x19975f(0x132):'NO')+_0x19975f(0x134))['send'](),await this[_0x19975f(0x187)](_0x22fbec),await this[_0x19975f(0x18e)]['log'](this['prefix']+'\x20Job\x20done.')[_0x19975f(0x145)](),await this[_0x19975f(0x192)]['updateStatus'](_0x19975f(0x101));}catch(_0x31dd87){await this['cleanUp']();if(_0x31dd87 instanceof flosum_commit_error_1['FlosumCommitError'])await this[_0x19975f(0x192)][_0x19975f(0x14e)]('Completed')[_0x19975f(0x182)](()=>void 0x0),this[_0x19975f(0x115)]['log'](this[_0x19975f(0x127)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x19975f(0x115)][_0x19975f(0x19c)](this[_0x19975f(0x127)]+_0x19975f(0x17b)+(_0x31dd87 instanceof api_error_1[_0x19975f(0x11c)]||_0x31dd87 instanceof salesforce_error_1[_0x19975f(0x133)]?_0x31dd87[_0x19975f(0x141)]():_0x31dd87)),await this['gitCommit'][_0x19975f(0x131)]({}),await this[_0x19975f(0x192)][_0x19975f(0x14e)]('Error')[_0x19975f(0x182)](()=>void 0x0);throw _0x31dd87;}}finally{await this[_0x19975f(0x17a)](),await this[_0x19975f(0x18e)]['send']()[_0x19975f(0x182)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a106_0x360564(0x103)])({'transient':!![]}),__metadata(a106_0x360564(0x109),[git_commit_service_1[a106_0x360564(0x165)],connection_1[a106_0x360564(0x116)]])],GitCommitJob),exports['GitCommitJob']=GitCommitJob;