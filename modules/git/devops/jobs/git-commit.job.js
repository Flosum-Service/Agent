const a107_0x2ec6b1=a107_0xc0e2;(function(_0x1d6e2d,_0x11b630){const _0x11ebfb=a107_0xc0e2,_0x5f087b=_0x1d6e2d();while(!![]){try{const _0x1291e5=-parseInt(_0x11ebfb(0x14f))/0x1+-parseInt(_0x11ebfb(0x159))/0x2*(-parseInt(_0x11ebfb(0x12a))/0x3)+-parseInt(_0x11ebfb(0xf6))/0x4*(-parseInt(_0x11ebfb(0xf1))/0x5)+parseInt(_0x11ebfb(0xff))/0x6+-parseInt(_0x11ebfb(0x10a))/0x7+parseInt(_0x11ebfb(0x154))/0x8*(parseInt(_0x11ebfb(0x15e))/0x9)+-parseInt(_0x11ebfb(0x15a))/0xa*(-parseInt(_0x11ebfb(0xf3))/0xb);if(_0x1291e5===_0x11b630)break;else _0x5f087b['push'](_0x5f087b['shift']());}catch(_0xaacff){_0x5f087b['push'](_0x5f087b['shift']());}}}(a107_0x4612,0x83620));const a107_0x222bfa=(function(){let _0x5ffbe=!![];return function(_0x4e846e,_0x45a60d){const _0x377369=_0x5ffbe?function(){const _0x4224c9=a107_0xc0e2;if(_0x45a60d){const _0x24d12f=_0x45a60d[_0x4224c9(0x13d)](_0x4e846e,arguments);return _0x45a60d=null,_0x24d12f;}}:function(){};return _0x5ffbe=![],_0x377369;};}()),a107_0x1f38fe=a107_0x222bfa(this,function(){const _0x3a0dd9=a107_0xc0e2;return a107_0x1f38fe[_0x3a0dd9(0x118)]()[_0x3a0dd9(0x128)](_0x3a0dd9(0x157))[_0x3a0dd9(0x118)]()[_0x3a0dd9(0x123)](a107_0x1f38fe)[_0x3a0dd9(0x128)](_0x3a0dd9(0x157));});a107_0x1f38fe();'use strict';var __createBinding=this&&this[a107_0x2ec6b1(0x145)]||(Object[a107_0x2ec6b1(0xc3)]?function(_0x4cadd2,_0x317ca1,_0x475b89,_0x1d6374){const _0x34d6a1=a107_0x2ec6b1;if(_0x1d6374===undefined)_0x1d6374=_0x475b89;var _0x5351da=Object[_0x34d6a1(0x160)](_0x317ca1,_0x475b89);(!_0x5351da||(_0x34d6a1(0x116)in _0x5351da?!_0x317ca1[_0x34d6a1(0x12d)]:_0x5351da[_0x34d6a1(0xcc)]||_0x5351da['configurable']))&&(_0x5351da={'enumerable':!![],'get':function(){return _0x317ca1[_0x475b89];}}),Object['defineProperty'](_0x4cadd2,_0x1d6374,_0x5351da);}:function(_0x11d9aa,_0x5ea7c3,_0x2b0e90,_0x3bba0a){if(_0x3bba0a===undefined)_0x3bba0a=_0x2b0e90;_0x11d9aa[_0x3bba0a]=_0x5ea7c3[_0x2b0e90];}),__setModuleDefault=this&&this[a107_0x2ec6b1(0x162)]||(Object['create']?function(_0x53d84f,_0x30b036){const _0x3f611e=a107_0x2ec6b1;Object[_0x3f611e(0xe8)](_0x53d84f,'default',{'enumerable':!![],'value':_0x30b036});}:function(_0x1c75d1,_0x426593){const _0x511925=a107_0x2ec6b1;_0x1c75d1[_0x511925(0xd5)]=_0x426593;}),__decorate=this&&this[a107_0x2ec6b1(0x132)]||function(_0x287c95,_0x208237,_0x21c3d1,_0x409d91){const _0x27e461=a107_0x2ec6b1;var _0x2fee92=arguments[_0x27e461(0xe6)],_0x4a52af=_0x2fee92<0x3?_0x208237:_0x409d91===null?_0x409d91=Object[_0x27e461(0x160)](_0x208237,_0x21c3d1):_0x409d91,_0x490dc3;if(typeof Reflect==='object'&&typeof Reflect[_0x27e461(0x133)]===_0x27e461(0x134))_0x4a52af=Reflect['decorate'](_0x287c95,_0x208237,_0x21c3d1,_0x409d91);else{for(var _0x64973e=_0x287c95[_0x27e461(0xe6)]-0x1;_0x64973e>=0x0;_0x64973e--)if(_0x490dc3=_0x287c95[_0x64973e])_0x4a52af=(_0x2fee92<0x3?_0x490dc3(_0x4a52af):_0x2fee92>0x3?_0x490dc3(_0x208237,_0x21c3d1,_0x4a52af):_0x490dc3(_0x208237,_0x21c3d1))||_0x4a52af;}return _0x2fee92>0x3&&_0x4a52af&&Object[_0x27e461(0xe8)](_0x208237,_0x21c3d1,_0x4a52af),_0x4a52af;},__importStar=this&&this[a107_0x2ec6b1(0x106)]||function(_0x311d50){const _0x17661b=a107_0x2ec6b1;if(_0x311d50&&_0x311d50[_0x17661b(0x12d)])return _0x311d50;var _0x4df19d={};if(_0x311d50!=null){for(var _0xa427b in _0x311d50)if(_0xa427b!==_0x17661b(0xd5)&&Object[_0x17661b(0x130)]['hasOwnProperty'][_0x17661b(0x155)](_0x311d50,_0xa427b))__createBinding(_0x4df19d,_0x311d50,_0xa427b);}return __setModuleDefault(_0x4df19d,_0x311d50),_0x4df19d;},__metadata=this&&this[a107_0x2ec6b1(0xee)]||function(_0x5bb92f,_0x3bb0d6){const _0x4d63d5=a107_0x2ec6b1;if(typeof Reflect===_0x4d63d5(0x13c)&&typeof Reflect[_0x4d63d5(0x135)]===_0x4d63d5(0x134))return Reflect[_0x4d63d5(0x135)](_0x5bb92f,_0x3bb0d6);},GitCommitJob_1;Object[a107_0x2ec6b1(0xe8)](exports,'__esModule',{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require(a107_0x2ec6b1(0x126)),fs_internal_1=require(a107_0x2ec6b1(0xec)),salesforce_logger_v3_service_1=require(a107_0x2ec6b1(0x100)),utils_1=require(a107_0x2ec6b1(0xc8)),path_1=require(a107_0x2ec6b1(0x117)),typedi_1=__importStar(require(a107_0x2ec6b1(0xbc))),constants_1=require(a107_0x2ec6b1(0x15b)),salesforce_commits_manager_service_1=require(a107_0x2ec6b1(0x13b)),git_commit_utils_1=require(a107_0x2ec6b1(0xba)),git_utils_1=require(a107_0x2ec6b1(0x147)),mdapi_utils_1=require(a107_0x2ec6b1(0xdb)),api_error_1=require(a107_0x2ec6b1(0x10d)),salesforce_error_1=require(a107_0x2ec6b1(0x120)),git_commit_service_1=require(a107_0x2ec6b1(0xe5)),flosum_commit_error_1=require(a107_0x2ec6b1(0xbf)),bitbucket_api_service_1=require('../../providers/api/bitbucket-api.service'),git_provider_1=require(a107_0x2ec6b1(0xd9)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),utils_2=require(a107_0x2ec6b1(0xe9)),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require(a107_0x2ec6b1(0x12f)),connection_1=require(a107_0x2ec6b1(0xc5)),sf_logger_v3_types_1=require(a107_0x2ec6b1(0xf4));function a107_0xc0e2(_0x5294c0,_0x2795e7){const _0x1cc287=a107_0x4612();return a107_0xc0e2=function(_0x1f38fe,_0x222bfa){_0x1f38fe=_0x1f38fe-0xba;let _0x4612e5=_0x1cc287[_0x1f38fe];return _0x4612e5;},a107_0xc0e2(_0x5294c0,_0x2795e7);}function a107_0x4612(){const _0x1a5785=['://','4652758SIoWLS','../../salesforce/types/sf-logger-v3-types','relative','1928hKTKKg','force','cleanUp',']\x20[Branch:\x20','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','stats','files','config','\x20components.','228966QUkYKE','../../salesforce/services/salesforce-logger-v3.service','lastCommitHash','prepareMdapi','In\x20Progress','repositoryGit','author','__importStar','\x20Added\x20','Bitbucket','reduce','3092530NqiEDx','MDApiUtils','sendComponents','../../../../core/errors/api.error','inserted','getRepositoryId','splice','GitCommitService','setLoggerId','dir','gitApiService','SalesforceLogger3','get','path','toString','run','providersFactory','removeDir','isSFDXProject','SalesforceError','Error','\x20commits.','../../salesforce/errors/salesforce.error','\x20Commit\x20Summary','proceedCommits','constructor','added','readFilesByFilename','../../../../core','mdapiUtils','search','getRecordTypes','186EAWuzx','fetchCommits','\x20Removed\x20','__esModule','FlosumCommitError','../../providers/providers.tokens','prototype','createCommit','__decorate','decorate','function','metadata','getBranchId','push','SalesforceCommitsManager',']\x20Start\x20proceeding\x20git\x20commits.\x20','DEFAULT_GIT_USER_EMAIL','../../salesforce/services/salesforce-commits-manager.service','object','apply','convertToCleanPaths','proceedFile','Branch\x20synchronized.\x20Skip.','MAX_COMPONENTS_PER_TICK','message','name','gitCommit','__createBinding','clone','../utils/git.utils','replace','LoggerTypes','username','GitCommitJob','updateStatus','shift','catch','784258busNXM','email','\x20Processed\x20','fetchRepositoryOrBranchData','logger','1180584QPxFfo','call','readDir','(((.+)+)+)+$','getRemote','25436omvfys','10NWHdhC','../../../../constants','ApiError','getCurrentHash','27cgygMg','gitUtils','getOwnPropertyDescriptor','updateFileNamesForSFDXProject','__setModuleDefault','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','commitId','repository','values','../utils/git-commit.utils','\x20Job\x20done.','typedi','handleCommit','error','../errors/flosum-commit.error','Service','prefix','commit','create','commits','../utils/connection','\x20Cloning\x20git\x20repository\x20from\x20','branch','../../../shared/utils','createLoggerId','getRemoteHash','gitCommitData','writable','getGitShellAuthorizationString','env','removed',']\x20[','map','Completed','\x20files\x20before\x20sync.','log','default','updateRemoteState','changes','checkSyncStatus','../../providers/types/git-provider','Tokens','../utils/mdapi.utils','fetchComponentsMetadata','sfLogger','credentials','YES','checkoutTo','prepareGitChangedPaths','modified','\x20components','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','../services/git-commit.service','length','send','defineProperty','../../parsers/utils','Logger','sync\x20components','../../internal/fs.internal','fileNames','__metadata','SFDX','resetStats','745PiKkGQ'];a107_0x4612=function(){return _0x1a5785;};return a107_0x4612();}let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0xd6bcaa,_0x568bcb){const _0x133829=a107_0x2ec6b1;this[_0x133829(0x144)]=_0xd6bcaa,this[_0x133829(0x11a)]=_0x568bcb,this[_0x133829(0x141)]=+(process[_0x133829(0xce)][_0x133829(0x141)]||0xbb8),this[_0x133829(0x153)]=new core_1[(_0x133829(0xea))](GitCommitJob_1[_0x133829(0x143)]),this[_0x133829(0x164)]='',this[_0x133829(0xfb)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x2ec6b1(0x158)](){const _0x392a7a=a107_0x2ec6b1,{repositoryGit:_0x13df55}=this[_0x392a7a(0xcb)],_0x2f5c53=typedi_1[_0x392a7a(0xd5)][_0x392a7a(0x116)](providers_tokens_1[_0x392a7a(0xda)][_0x392a7a(0xde)]);if(this[_0x392a7a(0xcb)]['provider']===git_provider_1['GitProvider'][_0x392a7a(0x108)]){const _0x253150=typedi_1[_0x392a7a(0xd5)][_0x392a7a(0x116)](bitbucket_api_service_1['BitbucketApiService']);await _0x253150['isLoggedIn']();}return _0x13df55[_0x392a7a(0x148)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1['getProtocol'])(_0x13df55)+_0x392a7a(0xf2)+_0x2f5c53[_0x392a7a(0xcd)]()+'@');}[a107_0x2ec6b1(0xf0)](){const _0x422b82=a107_0x2ec6b1;this[_0x422b82(0xfb)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x2ec6b1(0x161)](){const _0x3c726c=a107_0x2ec6b1,_0x33c735=[...this[_0x3c726c(0xcb)][_0x3c726c(0xed)]];this['gitCommitData'][_0x3c726c(0xed)]=[];for(const _0x464ab0 of _0x33c735){this[_0x3c726c(0xcb)][_0x3c726c(0xed)][_0x3c726c(0x137)](...await(0x0,utils_2[_0x3c726c(0x125)])(_0x464ab0,this[_0x3c726c(0x127)]['dir']));}}async[a107_0x2ec6b1(0x12b)](){const _0x1248af=a107_0x2ec6b1;if(this['gitCommitData']['force'])return;const _0x519724=[];for(const _0x407050 of this[_0x1248af(0xcb)][_0x1248af(0xc4)]){const _0x2ebe27=await this['gitUtils']['describeCommit'](_0x407050['id']);_0x407050['username']=_0x2ebe27[_0x1248af(0x105)],_0x407050['message']=_0x2ebe27[_0x1248af(0x142)],_0x407050[_0x1248af(0xfc)]=_0x2ebe27[_0x1248af(0xd7)],_0x407050[_0x1248af(0x150)]=_0x2ebe27[_0x1248af(0x150)];if(_0x407050['email']===constants_1[_0x1248af(0x13a)])throw new flosum_commit_error_1[(_0x1248af(0x12e))]();_0x519724[_0x1248af(0x137)](...Object[_0x1248af(0x166)](_0x407050[_0x1248af(0xfc)])['flat']());}this[_0x1248af(0xcb)]['fileNames']=[...new Set((0x0,git_commit_utils_1[_0x1248af(0xe1)])(_0x519724))];}async[a107_0x2ec6b1(0x10c)](_0x1d5e5a,_0x483b62,_0x39709c){const _0x58c6bf=a107_0x2ec6b1,_0x4c3300=_0x39709c[_0x58c6bf(0x109)]((_0x394f97,_0x4f1702)=>{const _0x525c7b=_0x58c6bf;return _0x394f97[_0x525c7b(0x10e)][_0x525c7b(0x137)](..._0x4f1702['inserted']),_0x394f97[_0x525c7b(0xe2)][_0x525c7b(0x137)](..._0x4f1702[_0x525c7b(0xe2)]),_0x394f97[_0x525c7b(0xcf)][_0x525c7b(0x137)](..._0x4f1702['removed']),_0x394f97;},{'inserted':[],'modified':[],'removed':[]}),_0x33da10=new salesforce_commits_manager_service_1[(_0x58c6bf(0x138))]({'recordTypes':this[_0x58c6bf(0x144)][_0x58c6bf(0x129)](),'branchId':this['gitCommit'][_0x58c6bf(0x136)](),'repositoryId':this[_0x58c6bf(0x144)][_0x58c6bf(0x10f)](),'logger':this[_0x58c6bf(0xdd)],'commitId':this[_0x58c6bf(0x164)]});await _0x33da10['proceedCommits']([{'author':_0x1d5e5a,'message':_0x483b62,'inserted':_0x4c3300[_0x58c6bf(0x10e)],'modified':_0x4c3300[_0x58c6bf(0xe2)],'removed':_0x4c3300['removed']}]);}async[a107_0x2ec6b1(0xbd)](_0x37397e,_0x4f35c4){const _0x1940de=a107_0x2ec6b1;await this[_0x1940de(0xdd)]['log'](this[_0x1940de(0xc1)]+'\x20Download\x20components\x20metadata\x20from\x20Flosum.')[_0x1940de(0xe7)](),await this[_0x1940de(0x144)][_0x1940de(0xdc)](_0x4f35c4);const {added:_0x2095c4,modified:_0x2988d7,removed:_0x4ce417}=_0x37397e[_0x1940de(0xfc)];_0x4f35c4&&_0x2988d7['push'](..._0x4ce417[_0x1940de(0x110)](0x0));const _0x309dd8=(0x0,utils_2[_0x1940de(0x13e)])((0x0,git_commit_utils_1[_0x1940de(0xe1)])([..._0x2095c4,..._0x2988d7,..._0x4ce417],_0x4f35c4&&!this[_0x1940de(0xcb)][_0x1940de(0xf7)]));let _0x15795a=0x0;const _0xb376c8=[];(_0x2095c4['length']||_0x2988d7[_0x1940de(0xe6)])&&this['gitCommit'][_0x1940de(0x10f)]()&&(this[_0x1940de(0x164)]=await this[_0x1940de(0x144)][_0x1940de(0x131)](_0x37397e['message']));const _0x505ce1=_0x309dd8[_0x1940de(0xe6)];let _0x507683=0x0;while(_0x309dd8[_0x1940de(0xe6)]){const _0x12028d=_0x309dd8[_0x1940de(0x14d)](),_0xe16f05=await this['gitCommit'][_0x1940de(0x13f)](_0x12028d,this[_0x1940de(0x127)]['dir'],_0x4f35c4&&!this['gitCommitData'][_0x1940de(0xf7)]);_0x15795a+=_0xe16f05['inserted']['length']+_0xe16f05[_0x1940de(0xcf)][_0x1940de(0xe6)]+_0xe16f05[_0x1940de(0xe2)][_0x1940de(0xe6)],this[_0x1940de(0xfb)][_0x1940de(0x124)]+=_0xe16f05[_0x1940de(0x10e)][_0x1940de(0xe6)],this[_0x1940de(0xfb)][_0x1940de(0xe2)]+=_0xe16f05[_0x1940de(0xe2)][_0x1940de(0xe6)],this[_0x1940de(0xfb)][_0x1940de(0xcf)]+=_0xe16f05[_0x1940de(0xcf)][_0x1940de(0xe6)],_0x507683++,_0x507683%0x64===0x0&&this[_0x1940de(0x153)][_0x1940de(0xd4)]('proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)',_0x507683,_0x505ce1,_0x15795a),_0xb376c8[_0x1940de(0x137)](_0xe16f05),_0x15795a>this['MAX_COMPONENTS_PER_TICK']&&(await this[_0x1940de(0x10c)](_0x37397e[_0x1940de(0x14a)],_0x37397e[_0x1940de(0x142)],_0xb376c8),await this[_0x1940de(0xdd)][_0x1940de(0xd4)](this[_0x1940de(0xc1)]+_0x1940de(0x151)+_0x15795a+'\x20components.')[_0x1940de(0xe7)](),_0x15795a=0x0,_0xb376c8[_0x1940de(0x110)](0x0));}_0xb376c8[_0x1940de(0xe6)]&&(await this[_0x1940de(0x10c)](_0x37397e[_0x1940de(0x14a)],_0x37397e[_0x1940de(0x142)],_0xb376c8),await this[_0x1940de(0xdd)][_0x1940de(0xd4)](this[_0x1940de(0xc1)]+_0x1940de(0x151)+_0x15795a+_0x1940de(0xfe))[_0x1940de(0xe7)]());}async[a107_0x2ec6b1(0x122)](_0x4926b8){const _0x5755e2=a107_0x2ec6b1,_0x53495c=[...this[_0x5755e2(0xcb)][_0x5755e2(0xc4)]],_0x2269d2=_0x53495c[_0x5755e2(0xe6)];let _0x43f99e=0x0;while(_0x53495c[_0x5755e2(0xe6)]){const _0x2344a1=_0x53495c['shift']();!this['gitCommitData'][_0x5755e2(0xf7)]&&(this[_0x5755e2(0x144)][_0x5755e2(0x10f)]()?(await this['gitUtils'][_0x5755e2(0xe0)](_0x2344a1['id']),await this[_0x5755e2(0x127)][_0x5755e2(0x102)](this[_0x5755e2(0x15f)][_0x5755e2(0x113)])):(await this[_0x5755e2(0x15f)][_0x5755e2(0xe0)](this['lastCommitHash']),await this['mdapiUtils'][_0x5755e2(0x102)](this[_0x5755e2(0x15f)][_0x5755e2(0x113)]))),await this[_0x5755e2(0xbd)](_0x2344a1,_0x4926b8),await this[_0x5755e2(0x127)][_0x5755e2(0x11b)](),_0x43f99e+=0x1,await this[_0x5755e2(0xdd)][_0x5755e2(0xd4)](this['prefix']+_0x5755e2(0x121)),await this[_0x5755e2(0xdd)][_0x5755e2(0xd4)](this[_0x5755e2(0xc1)]+_0x5755e2(0x107)+this[_0x5755e2(0xfb)][_0x5755e2(0x124)]+_0x5755e2(0xe3)),await this[_0x5755e2(0xdd)][_0x5755e2(0xd4)](this[_0x5755e2(0xc1)]+'\x20Modified\x20'+this[_0x5755e2(0xfb)]['modified']+'\x20components'),await this[_0x5755e2(0xdd)][_0x5755e2(0xd4)](this[_0x5755e2(0xc1)]+_0x5755e2(0x12c)+this[_0x5755e2(0xfb)][_0x5755e2(0xcf)]+_0x5755e2(0xe3)),await this[_0x5755e2(0xdd)]['log'](this[_0x5755e2(0xc1)]+'\x20Proceeded\x20'+_0x43f99e+'/'+_0x2269d2+_0x5755e2(0x11f))['send'](),this[_0x5755e2(0xf0)]();}}async[a107_0x2ec6b1(0xf8)](){const _0x10687a=a107_0x2ec6b1;this['gitUtils']&&await this[_0x10687a(0x15f)][_0x10687a(0x11b)]()[_0x10687a(0x14e)](()=>void 0x0),this[_0x10687a(0x127)]&&await this[_0x10687a(0x127)][_0x10687a(0x11b)]()[_0x10687a(0x14e)](()=>void 0x0);}async[a107_0x2ec6b1(0x119)](_0x220e8f){const _0x26e888=a107_0x2ec6b1;this[_0x26e888(0xcb)]=_0x220e8f,this['gitCommit']['setCommitDto'](this[_0x26e888(0xcb)]),this[_0x26e888(0x114)]=typedi_1[_0x26e888(0xd5)][_0x26e888(0x116)](providers_tokens_1[_0x26e888(0xda)]['gitApiService']),this[_0x26e888(0xfd)]=typedi_1[_0x26e888(0xd5)]['get'](providers_tokens_1[_0x26e888(0xda)][_0x26e888(0xfd)]),this[_0x26e888(0xdd)]=typedi_1[_0x26e888(0xd5)][_0x26e888(0x116)](providers_tokens_1[_0x26e888(0xda)][_0x26e888(0x153)]),this[_0x26e888(0xc1)]=_0x26e888(0xe4)+_0x220e8f[_0x26e888(0x165)]+_0x26e888(0xf9)+_0x220e8f[_0x26e888(0xc7)]+_0x26e888(0xd0)+GitCommitJob_1[_0x26e888(0x143)]+']',this[_0x26e888(0x15f)]=new git_utils_1['GitUtils'](await this[_0x26e888(0x158)]()),this[_0x26e888(0x127)]=new mdapi_utils_1[(_0x26e888(0x10b))](),this[_0x26e888(0xdd)][_0x26e888(0xd4)](this['prefix']+'\x20Start\x20Git-commit\x20job.');try{this[_0x26e888(0xdd)]['log'](this['prefix']+'\x20Fetch\x20salesforce\x20data.'),await this[_0x26e888(0x144)][_0x26e888(0x152)](),await this[_0x26e888(0x144)][_0x26e888(0x14c)](_0x26e888(0x103)),this[_0x26e888(0xdd)]['log'](this[_0x26e888(0xc1)]+'\x20Fetch\x20remote\x20branch\x20hash.'),this[_0x26e888(0x101)]=await git_internal_1['Git'][_0x26e888(0xca)](await this[_0x26e888(0x158)](),this['gitCommitData'][_0x26e888(0xc7)]),this[_0x26e888(0x153)][_0x26e888(0xd4)]('Last\x20git\x20repository\x20hash\x20is\x20%s.',this[_0x26e888(0x101)]);const _0x9653ef=await this[_0x26e888(0x144)][_0x26e888(0xd8)](this[_0x26e888(0x101)]);if(_0x9653ef){this[_0x26e888(0xdd)][_0x26e888(0xd4)](_0x26e888(0x140)),await this[_0x26e888(0x144)][_0x26e888(0x14c)](_0x26e888(0xd2));return;}this[_0x26e888(0xdd)]['log'](this[_0x26e888(0xc1)]+_0x26e888(0xc6)+this[_0x26e888(0xcb)]['repositoryGit']+'.'),await this['gitUtils'][_0x26e888(0x146)](this[_0x26e888(0xcb)][_0x26e888(0xc7)],this[_0x26e888(0xcb)][_0x26e888(0x165)]),this[_0x26e888(0xdd)][_0x26e888(0xd4)](this[_0x26e888(0xc1)]+_0x26e888(0x163));const _0x2ffe90=await sfdx_utils_1[_0x26e888(0xef)][_0x26e888(0x11c)](this[_0x26e888(0x15f)]['dir']);await this[_0x26e888(0x12b)]();!this['sfLogger']['getLoggerId']()&&this[_0x26e888(0xdd)][_0x26e888(0x112)](await salesforce_logger_v3_service_1[_0x26e888(0x115)][_0x26e888(0xc9)](sf_logger_v3_types_1[_0x26e888(0x149)][_0x26e888(0xc2)]));await this[_0x26e888(0xdd)][_0x26e888(0xe7)]();if(_0x220e8f[_0x26e888(0xf7)]){await this[_0x26e888(0x127)][_0x26e888(0x102)](this[_0x26e888(0x15f)][_0x26e888(0x113)]),await this['sfLogger'][_0x26e888(0xd4)](this['prefix']+'\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository')['send']();const _0x353baa=(await fs_internal_1['FS'][_0x26e888(0x156)](this[_0x26e888(0x127)][_0x26e888(0x113)],!![]))[_0x26e888(0xd1)](_0x16c994=>(0x0,path_1[_0x26e888(0xf5)])(this['mdapiUtils'][_0x26e888(0x113)],_0x16c994));this[_0x26e888(0xdd)]['log'](this[_0x26e888(0xc1)]+'\x20Force\x20commit.\x20Have\x20to\x20parse\x20'+_0x353baa[_0x26e888(0xe6)]+_0x26e888(0xd3)),this[_0x26e888(0xcb)]['fileNames']=[],this[_0x26e888(0xcb)][_0x26e888(0xc4)]=[{'files':{'modified':_0x353baa,'added':[],'removed':[]},'id':await this[_0x26e888(0x15f)][_0x26e888(0x15d)](),'message':_0x26e888(0xeb),'username':constants_1['DEFAULT_GIT_USER_NAME']}];}await this['gitCommit'][_0x26e888(0xd6)]({[this[_0x26e888(0xcb)][_0x26e888(0x104)]]:{'lastCommit':this['lastCommitHash']}}),await this[_0x26e888(0xdd)]['log'](this[_0x26e888(0xc1)]+'\x20[SFDX:\x20'+(_0x2ffe90?_0x26e888(0xdf):'NO')+_0x26e888(0x139))[_0x26e888(0xe7)](),await this[_0x26e888(0x122)](_0x2ffe90),await this['sfLogger']['log'](this[_0x26e888(0xc1)]+_0x26e888(0xbb))[_0x26e888(0xe7)](),await this[_0x26e888(0x144)][_0x26e888(0x14c)](_0x26e888(0xd2));}catch(_0x4397bb){await this[_0x26e888(0xf8)]();if(_0x4397bb instanceof flosum_commit_error_1[_0x26e888(0x12e)])await this[_0x26e888(0x144)][_0x26e888(0x14c)](_0x26e888(0xd2))['catch'](()=>void 0x0),this[_0x26e888(0x153)][_0x26e888(0xd4)](this[_0x26e888(0xc1)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x26e888(0x153)][_0x26e888(0xbe)](this[_0x26e888(0xc1)]+_0x26e888(0xfa)+(_0x4397bb instanceof api_error_1[_0x26e888(0x15c)]||_0x4397bb instanceof salesforce_error_1[_0x26e888(0x11d)]?_0x4397bb[_0x26e888(0x118)]():_0x4397bb)),await this[_0x26e888(0x144)]['updateRemoteState']({}),await this[_0x26e888(0x144)][_0x26e888(0x14c)](_0x26e888(0x11e))[_0x26e888(0x14e)](()=>void 0x0);throw _0x4397bb;}}finally{await this['cleanUp'](),await this[_0x26e888(0xdd)]['send']()['catch'](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x2ec6b1(0xc0)])({'transient':!![]}),__metadata('design:paramtypes',[git_commit_service_1[a107_0x2ec6b1(0x111)],connection_1['ProvidersFactory']])],GitCommitJob),exports[a107_0x2ec6b1(0x14b)]=GitCommitJob;