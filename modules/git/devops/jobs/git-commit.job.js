const a107_0x4b36e8=a107_0x53d5;(function(_0x58fe95,_0x13fad5){const _0x236aaa=a107_0x53d5,_0x52cc1c=_0x58fe95();while(!![]){try{const _0x398bce=parseInt(_0x236aaa(0xfc))/0x1*(-parseInt(_0x236aaa(0x8e))/0x2)+parseInt(_0x236aaa(0xfb))/0x3*(-parseInt(_0x236aaa(0xfa))/0x4)+-parseInt(_0x236aaa(0xb4))/0x5*(-parseInt(_0x236aaa(0x10f))/0x6)+parseInt(_0x236aaa(0xef))/0x7+-parseInt(_0x236aaa(0xc1))/0x8+-parseInt(_0x236aaa(0x97))/0x9*(parseInt(_0x236aaa(0xf1))/0xa)+-parseInt(_0x236aaa(0xf3))/0xb*(-parseInt(_0x236aaa(0xe4))/0xc);if(_0x398bce===_0x13fad5)break;else _0x52cc1c['push'](_0x52cc1c['shift']());}catch(_0x370f32){_0x52cc1c['push'](_0x52cc1c['shift']());}}}(a107_0xc4c6,0x66937));function a107_0x53d5(_0x3ce6bc,_0x4a447b){const _0x29b56a=a107_0xc4c6();return a107_0x53d5=function(_0x38147c,_0x1ffd52){_0x38147c=_0x38147c-0x66;let _0xc4c649=_0x29b56a[_0x38147c];return _0xc4c649;},a107_0x53d5(_0x3ce6bc,_0x4a447b);}const a107_0x1ffd52=(function(){let _0x440d34=!![];return function(_0x5837fa,_0x1a225e){const _0x5bcdf4=_0x440d34?function(){const _0x9fbd6b=a107_0x53d5;if(_0x1a225e){const _0x14e031=_0x1a225e[_0x9fbd6b(0xee)](_0x5837fa,arguments);return _0x1a225e=null,_0x14e031;}}:function(){};return _0x440d34=![],_0x5bcdf4;};}()),a107_0x38147c=a107_0x1ffd52(this,function(){const _0x17d75a=a107_0x53d5;return a107_0x38147c[_0x17d75a(0xe8)]()[_0x17d75a(0x9d)]('(((.+)+)+)+$')[_0x17d75a(0xe8)]()[_0x17d75a(0xa8)](a107_0x38147c)[_0x17d75a(0x9d)](_0x17d75a(0x85));});a107_0x38147c();'use strict';var __createBinding=this&&this[a107_0x4b36e8(0xbe)]||(Object[a107_0x4b36e8(0x98)]?function(_0x3d052d,_0x45165d,_0x15db5a,_0x261e0b){const _0xb2fda2=a107_0x4b36e8;if(_0x261e0b===undefined)_0x261e0b=_0x15db5a;var _0x4e2d59=Object[_0xb2fda2(0x96)](_0x45165d,_0x15db5a);(!_0x4e2d59||(_0xb2fda2(0xe6)in _0x4e2d59?!_0x45165d[_0xb2fda2(0x6d)]:_0x4e2d59['writable']||_0x4e2d59[_0xb2fda2(0x76)]))&&(_0x4e2d59={'enumerable':!![],'get':function(){return _0x45165d[_0x15db5a];}}),Object[_0xb2fda2(0x9e)](_0x3d052d,_0x261e0b,_0x4e2d59);}:function(_0x30de20,_0xde069,_0x2db856,_0x4ceaa0){if(_0x4ceaa0===undefined)_0x4ceaa0=_0x2db856;_0x30de20[_0x4ceaa0]=_0xde069[_0x2db856];}),__setModuleDefault=this&&this[a107_0x4b36e8(0x99)]||(Object[a107_0x4b36e8(0x98)]?function(_0x4e84e2,_0x24c58e){Object['defineProperty'](_0x4e84e2,'default',{'enumerable':!![],'value':_0x24c58e});}:function(_0x4c3c33,_0x122a91){_0x4c3c33['default']=_0x122a91;}),__decorate=this&&this['__decorate']||function(_0x48ab45,_0x35ab03,_0x122edd,_0x274a89){const _0x10d995=a107_0x4b36e8;var _0xde0f7c=arguments[_0x10d995(0xbb)],_0x2e2f62=_0xde0f7c<0x3?_0x35ab03:_0x274a89===null?_0x274a89=Object[_0x10d995(0x96)](_0x35ab03,_0x122edd):_0x274a89,_0x1cba2b;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x10d995(0x82))_0x2e2f62=Reflect[_0x10d995(0xb5)](_0x48ab45,_0x35ab03,_0x122edd,_0x274a89);else{for(var _0x5513e8=_0x48ab45[_0x10d995(0xbb)]-0x1;_0x5513e8>=0x0;_0x5513e8--)if(_0x1cba2b=_0x48ab45[_0x5513e8])_0x2e2f62=(_0xde0f7c<0x3?_0x1cba2b(_0x2e2f62):_0xde0f7c>0x3?_0x1cba2b(_0x35ab03,_0x122edd,_0x2e2f62):_0x1cba2b(_0x35ab03,_0x122edd))||_0x2e2f62;}return _0xde0f7c>0x3&&_0x2e2f62&&Object[_0x10d995(0x9e)](_0x35ab03,_0x122edd,_0x2e2f62),_0x2e2f62;},__importStar=this&&this[a107_0x4b36e8(0xdc)]||function(_0x34b679){const _0x341a9c=a107_0x4b36e8;if(_0x34b679&&_0x34b679[_0x341a9c(0x6d)])return _0x34b679;var _0x1d2fda={};if(_0x34b679!=null){for(var _0x4d0214 in _0x34b679)if(_0x4d0214!==_0x341a9c(0x89)&&Object[_0x341a9c(0x9f)][_0x341a9c(0xb0)]['call'](_0x34b679,_0x4d0214))__createBinding(_0x1d2fda,_0x34b679,_0x4d0214);}return __setModuleDefault(_0x1d2fda,_0x34b679),_0x1d2fda;},__metadata=this&&this[a107_0x4b36e8(0xa7)]||function(_0x860e10,_0x3ac0a2){const _0x45b75a=a107_0x4b36e8;if(typeof Reflect===_0x45b75a(0xc0)&&typeof Reflect[_0x45b75a(0xad)]==='function')return Reflect[_0x45b75a(0xad)](_0x860e10,_0x3ac0a2);},GitCommitJob_1;function a107_0xc4c6(){const _0x3308ad=['describeCommit','\x20Start\x20Git-commit\x20job.','search','defineProperty','prototype','\x20Download\x20components\x20metadata\x20from\x20Flosum.','\x20files\x20before\x20sync.','removed','../errors/flosum-commit.error','LoggerTypes','logger','proceedCommits','__metadata','constructor','log','../../providers/types/git-provider','Bitbucket','\x20components','metadata','getProtocol','Tokens','hasOwnProperty','checkoutTo','\x20Fetch\x20remote\x20branch\x20hash.','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','45ZUeLFN','decorate','flat','username','\x20Job\x20done.','providersFactory','\x20Modified\x20','length','GitUtils','getRemote','__createBinding','map','object','5027512TDohJs','prefix','gitApiService','typedi','reduce','commitId','Error','../../../shared/utils','../../providers/api/bitbucket-api.service','added','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','GitProvider','mdapiUtils','fetchRepositoryOrBranchData','GitCommitJob','checkSyncStatus','../utils/git.utils',']\x20[Branch:\x20','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','getCurrentHash','lastCommitHash','files','message','proceedFile','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','\x20Fetch\x20salesforce\x20data.','Branch\x20synchronized.\x20Skip.','__importStar','../utils/mdapi.utils','prepareGitChangedPaths','push','branch','fileNames','design:paramtypes','updateRemoteState','35676JuNzlR','readFilesByFilename','get','In\x20Progress','toString','repositoryGit','removeDir','gitUtils','isSFDXProject','SFDX','apply','788704yXqnya','getLoggerId','90uGzhKH','cleanUp','6171ObzPmf','getRepositoryId','repository','../utils/connection','../../salesforce/utils/sfdx.utils',']\x20[','../services/git-commit.service','16EAfkri','547185ZSUgsI','37ujvUez','handleCommit','stats','force','../../salesforce/types/sf-logger-v3-types','fetchCommits','credentials','catch','ProvidersFactory','gitCommit','../../salesforce/services/salesforce-commits-manager.service','sendComponents','modified','updateStatus','../../internal/fs.internal','send','Last\x20git\x20repository\x20hash\x20is\x20%s.','BitbucketApiService','env','258702DPiDFK','dir','FlosumCommitError','SalesforceLogger3','email','sync\x20components','\x20[SFDX:\x20','updateFileNamesForSFDXProject','inserted','name','getBranchId','__esModule','DEFAULT_GIT_USER_EMAIL','config','commits','SalesforceError','Logger','author','Service','error','configurable','../../../../core/errors/api.error','DEFAULT_GIT_USER_NAME','setLoggerId','gitCommitData','Completed','\x20components.','\x20commits.','commit','splice','../../../../constants','../../salesforce/errors/salesforce.error','function','prepareMdapi','createLoggerId','(((.+)+)+)+$','\x20Removed\x20','\x20Processed\x20','GitCommitService','default','run','changes','MAX_COMPONENTS_PER_TICK','shift','12018NgJPNQ','\x20Commit\x20Summary','sfLogger','replace','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','getGitShellAuthorizationString','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','resetStats','getOwnPropertyDescriptor','168075BGbsPh','create','__setModuleDefault','../../providers/providers.tokens'];a107_0xc4c6=function(){return _0x3308ad;};return a107_0xc4c6();}Object[a107_0x4b36e8(0x9e)](exports,a107_0x4b36e8(0x6d),{'value':!![]}),exports['GitCommitJob']=void 0x0;const core_1=require('../../../../core'),fs_internal_1=require(a107_0x4b36e8(0x10a)),salesforce_logger_v3_service_1=require('../../salesforce/services/salesforce-logger-v3.service'),utils_1=require(a107_0x4b36e8(0xc8)),path_1=require('path'),typedi_1=__importStar(require(a107_0x4b36e8(0xc4))),constants_1=require(a107_0x4b36e8(0x80)),salesforce_commits_manager_service_1=require(a107_0x4b36e8(0x106)),git_commit_utils_1=require('../utils/git-commit.utils'),git_utils_1=require(a107_0x4b36e8(0xd1)),mdapi_utils_1=require(a107_0x4b36e8(0xdd)),api_error_1=require(a107_0x4b36e8(0x77)),salesforce_error_1=require(a107_0x4b36e8(0x81)),git_commit_service_1=require(a107_0x4b36e8(0xf9)),flosum_commit_error_1=require(a107_0x4b36e8(0xa3)),bitbucket_api_service_1=require(a107_0x4b36e8(0xc9)),git_provider_1=require(a107_0x4b36e8(0xaa)),sfdx_utils_1=require(a107_0x4b36e8(0xf7)),utils_2=require('../../parsers/utils'),git_internal_1=require('../../internal/git.internal'),providers_tokens_1=require(a107_0x4b36e8(0x9a)),connection_1=require(a107_0x4b36e8(0xf6)),sf_logger_v3_types_1=require(a107_0x4b36e8(0x100));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x5d2d3b,_0x167d2e){const _0x6d2f6a=a107_0x4b36e8;this[_0x6d2f6a(0x105)]=_0x5d2d3b,this[_0x6d2f6a(0xb9)]=_0x167d2e,this[_0x6d2f6a(0x8c)]=+(process[_0x6d2f6a(0x10e)][_0x6d2f6a(0x8c)]||0xbb8),this['logger']=new core_1[(_0x6d2f6a(0x72))](GitCommitJob_1[_0x6d2f6a(0x6b)]),this['commitId']='',this[_0x6d2f6a(0xfe)]={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x4b36e8(0xbd)](){const _0x5c139a=a107_0x4b36e8,{repositoryGit:_0x45ac97}=this['gitCommitData'],_0x5bbf03=typedi_1['default'][_0x5c139a(0xe6)](providers_tokens_1[_0x5c139a(0xaf)][_0x5c139a(0x102)]);if(this[_0x5c139a(0x7a)]['provider']===git_provider_1[_0x5c139a(0xcc)][_0x5c139a(0xab)]){const _0xa2f40f=typedi_1[_0x5c139a(0x89)][_0x5c139a(0xe6)](bitbucket_api_service_1[_0x5c139a(0x10d)]);await _0xa2f40f['isLoggedIn']();}return _0x45ac97[_0x5c139a(0x91)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x5c139a(0xae)])(_0x45ac97)+'://'+_0x5bbf03[_0x5c139a(0x93)]()+'@');}[a107_0x4b36e8(0x95)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a107_0x4b36e8(0x69)](){const _0x1cff88=a107_0x4b36e8,_0x27be64=[...this['gitCommitData']['fileNames']];this[_0x1cff88(0x7a)][_0x1cff88(0xe1)]=[];for(const _0x490c99 of _0x27be64){this['gitCommitData'][_0x1cff88(0xe1)][_0x1cff88(0xdf)](...await(0x0,utils_2[_0x1cff88(0xe5)])(_0x490c99,this[_0x1cff88(0xcd)]['dir']));}}async[a107_0x4b36e8(0x101)](){const _0x2f6e6e=a107_0x4b36e8;if(this[_0x2f6e6e(0x7a)][_0x2f6e6e(0xff)])return;const _0x2af2cf=[];for(const _0x1fcb80 of this[_0x2f6e6e(0x7a)][_0x2f6e6e(0x70)]){const _0x436fb5=await this[_0x2f6e6e(0xeb)][_0x2f6e6e(0x9b)](_0x1fcb80['id']);_0x1fcb80[_0x2f6e6e(0xb7)]=_0x436fb5[_0x2f6e6e(0x73)],_0x1fcb80[_0x2f6e6e(0xd7)]=_0x436fb5[_0x2f6e6e(0xd7)],_0x1fcb80['files']=_0x436fb5[_0x2f6e6e(0x8b)],_0x1fcb80[_0x2f6e6e(0x66)]=_0x436fb5['email'];if(_0x1fcb80['email']===constants_1[_0x2f6e6e(0x6e)])throw new flosum_commit_error_1[(_0x2f6e6e(0x111))]();_0x2af2cf[_0x2f6e6e(0xdf)](...Object['values'](_0x1fcb80[_0x2f6e6e(0xd6)])[_0x2f6e6e(0xb6)]());}this[_0x2f6e6e(0x7a)]['fileNames']=[...new Set((0x0,git_commit_utils_1[_0x2f6e6e(0xde)])(_0x2af2cf))];}async[a107_0x4b36e8(0x107)](_0x43f38e,_0x1b7b40,_0x21d569){const _0x3cdcc7=a107_0x4b36e8,_0x317a94=_0x21d569[_0x3cdcc7(0xc5)]((_0x52fac4,_0x2d42e7)=>{const _0x444d37=_0x3cdcc7;return _0x52fac4[_0x444d37(0x6a)][_0x444d37(0xdf)](..._0x2d42e7[_0x444d37(0x6a)]),_0x52fac4[_0x444d37(0x108)][_0x444d37(0xdf)](..._0x2d42e7[_0x444d37(0x108)]),_0x52fac4[_0x444d37(0xa2)]['push'](..._0x2d42e7[_0x444d37(0xa2)]),_0x52fac4;},{'inserted':[],'modified':[],'removed':[]}),_0x3931f2=new salesforce_commits_manager_service_1['SalesforceCommitsManager']({'recordTypes':this[_0x3cdcc7(0x105)]['getRecordTypes'](),'branchId':this[_0x3cdcc7(0x105)][_0x3cdcc7(0x6c)](),'repositoryId':this['gitCommit'][_0x3cdcc7(0xf4)](),'logger':this[_0x3cdcc7(0x90)],'commitId':this[_0x3cdcc7(0xc6)]});await _0x3931f2[_0x3cdcc7(0xa6)]([{'author':_0x43f38e,'message':_0x1b7b40,'inserted':_0x317a94['inserted'],'modified':_0x317a94[_0x3cdcc7(0x108)],'removed':_0x317a94[_0x3cdcc7(0xa2)]}]);}async['handleCommit'](_0x1cb832,_0x36c937){const _0xb0c7b5=a107_0x4b36e8;await this['sfLogger'][_0xb0c7b5(0xa9)](this[_0xb0c7b5(0xc2)]+_0xb0c7b5(0xa0))[_0xb0c7b5(0x10b)](),await this[_0xb0c7b5(0x105)]['fetchComponentsMetadata'](_0x36c937);const {added:_0x4bc9cc,modified:_0x25e8aa,removed:_0x12cd9e}=_0x1cb832['files'];_0x36c937&&_0x25e8aa['push'](..._0x12cd9e[_0xb0c7b5(0x7f)](0x0));const _0x1313b8=(0x0,utils_2['convertToCleanPaths'])((0x0,git_commit_utils_1[_0xb0c7b5(0xde)])([..._0x4bc9cc,..._0x25e8aa,..._0x12cd9e],_0x36c937&&!this[_0xb0c7b5(0x7a)][_0xb0c7b5(0xff)]));let _0x30ec46=0x0;const _0x5cbe3f=[];(_0x4bc9cc[_0xb0c7b5(0xbb)]||_0x25e8aa[_0xb0c7b5(0xbb)])&&this[_0xb0c7b5(0x105)][_0xb0c7b5(0xf4)]()&&(this[_0xb0c7b5(0xc6)]=await this[_0xb0c7b5(0x105)]['createCommit'](_0x1cb832[_0xb0c7b5(0xd7)]));const _0x511798=_0x1313b8[_0xb0c7b5(0xbb)];let _0x10d424=0x0;while(_0x1313b8['length']){const _0x7c4eb2=_0x1313b8['shift'](),_0x4a829a=await this[_0xb0c7b5(0x105)][_0xb0c7b5(0xd8)](_0x7c4eb2,this[_0xb0c7b5(0xcd)][_0xb0c7b5(0x110)],_0x36c937&&!this[_0xb0c7b5(0x7a)][_0xb0c7b5(0xff)]);_0x30ec46+=_0x4a829a['inserted'][_0xb0c7b5(0xbb)]+_0x4a829a[_0xb0c7b5(0xa2)][_0xb0c7b5(0xbb)]+_0x4a829a[_0xb0c7b5(0x108)][_0xb0c7b5(0xbb)],this['stats'][_0xb0c7b5(0xca)]+=_0x4a829a[_0xb0c7b5(0x6a)][_0xb0c7b5(0xbb)],this['stats'][_0xb0c7b5(0x108)]+=_0x4a829a[_0xb0c7b5(0x108)][_0xb0c7b5(0xbb)],this[_0xb0c7b5(0xfe)][_0xb0c7b5(0xa2)]+=_0x4a829a[_0xb0c7b5(0xa2)][_0xb0c7b5(0xbb)],_0x10d424++,_0x10d424%0x64===0x0&&this['logger'][_0xb0c7b5(0xa9)](_0xb0c7b5(0xcb),_0x10d424,_0x511798,_0x30ec46),_0x5cbe3f[_0xb0c7b5(0xdf)](_0x4a829a),_0x30ec46>this[_0xb0c7b5(0x8c)]&&(await this[_0xb0c7b5(0x107)](_0x1cb832[_0xb0c7b5(0xb7)],_0x1cb832[_0xb0c7b5(0xd7)],_0x5cbe3f),await this[_0xb0c7b5(0x90)][_0xb0c7b5(0xa9)](this['prefix']+_0xb0c7b5(0x87)+_0x30ec46+'\x20components.')[_0xb0c7b5(0x10b)](),_0x30ec46=0x0,_0x5cbe3f['splice'](0x0));}_0x5cbe3f[_0xb0c7b5(0xbb)]&&(await this[_0xb0c7b5(0x107)](_0x1cb832['username'],_0x1cb832['message'],_0x5cbe3f),await this[_0xb0c7b5(0x90)][_0xb0c7b5(0xa9)](this[_0xb0c7b5(0xc2)]+_0xb0c7b5(0x87)+_0x30ec46+_0xb0c7b5(0x7c))[_0xb0c7b5(0x10b)]());}async[a107_0x4b36e8(0xa6)](_0x289f85){const _0x3fb634=a107_0x4b36e8,_0x4cc1e3=[...this[_0x3fb634(0x7a)]['commits']],_0x46da69=_0x4cc1e3[_0x3fb634(0xbb)];let _0x3b46d0=0x0;while(_0x4cc1e3[_0x3fb634(0xbb)]){const _0x435b5a=_0x4cc1e3[_0x3fb634(0x8d)]();!this[_0x3fb634(0x7a)][_0x3fb634(0xff)]&&(this[_0x3fb634(0x105)][_0x3fb634(0xf4)]()?(await this[_0x3fb634(0xeb)][_0x3fb634(0xb1)](_0x435b5a['id']),await this['mdapiUtils']['prepareMdapi'](this['gitUtils'][_0x3fb634(0x110)])):(await this['gitUtils'][_0x3fb634(0xb1)](this['lastCommitHash']),await this['mdapiUtils'][_0x3fb634(0x83)](this[_0x3fb634(0xeb)][_0x3fb634(0x110)]))),await this[_0x3fb634(0xfd)](_0x435b5a,_0x289f85),await this[_0x3fb634(0xcd)]['removeDir'](),_0x3b46d0+=0x1,await this[_0x3fb634(0x90)]['log'](this[_0x3fb634(0xc2)]+_0x3fb634(0x8f)),await this['sfLogger']['log'](this[_0x3fb634(0xc2)]+'\x20Added\x20'+this[_0x3fb634(0xfe)]['added']+_0x3fb634(0xac)),await this[_0x3fb634(0x90)][_0x3fb634(0xa9)](this['prefix']+_0x3fb634(0xba)+this[_0x3fb634(0xfe)][_0x3fb634(0x108)]+_0x3fb634(0xac)),await this['sfLogger']['log'](this[_0x3fb634(0xc2)]+_0x3fb634(0x86)+this['stats']['removed']+_0x3fb634(0xac)),await this[_0x3fb634(0x90)]['log'](this['prefix']+'\x20Proceeded\x20'+_0x3b46d0+'/'+_0x46da69+_0x3fb634(0x7d))[_0x3fb634(0x10b)](),this[_0x3fb634(0x95)]();}}async['cleanUp'](){const _0x18055a=a107_0x4b36e8;this[_0x18055a(0xeb)]&&await this['gitUtils'][_0x18055a(0xea)]()[_0x18055a(0x103)](()=>void 0x0),this[_0x18055a(0xcd)]&&await this['mdapiUtils']['removeDir']()[_0x18055a(0x103)](()=>void 0x0);}async[a107_0x4b36e8(0x8a)](_0x6b4294){const _0x160551=a107_0x4b36e8;this[_0x160551(0x7a)]=_0x6b4294,this[_0x160551(0x105)]['setCommitDto'](this[_0x160551(0x7a)]),this['gitApiService']=typedi_1[_0x160551(0x89)]['get'](providers_tokens_1['Tokens'][_0x160551(0xc3)]),this['config']=typedi_1['default']['get'](providers_tokens_1['Tokens'][_0x160551(0x6f)]),this[_0x160551(0x90)]=typedi_1[_0x160551(0x89)][_0x160551(0xe6)](providers_tokens_1[_0x160551(0xaf)]['logger']),this[_0x160551(0xc2)]=_0x160551(0xd3)+_0x6b4294[_0x160551(0xf5)]+_0x160551(0xd2)+_0x6b4294[_0x160551(0xe0)]+_0x160551(0xf8)+GitCommitJob_1[_0x160551(0x6b)]+']',this[_0x160551(0xeb)]=new git_utils_1[(_0x160551(0xbc))](await this[_0x160551(0xbd)]()),this[_0x160551(0xcd)]=new mdapi_utils_1['MDApiUtils'](),this[_0x160551(0x90)][_0x160551(0xa9)](this['prefix']+_0x160551(0x9c));try{this[_0x160551(0x90)][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0xda)),await this[_0x160551(0x105)][_0x160551(0xce)](),await this[_0x160551(0x105)]['updateStatus'](_0x160551(0xe7)),this[_0x160551(0x90)][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0xb2)),this[_0x160551(0xd5)]=await git_internal_1['Git']['getRemoteHash'](await this[_0x160551(0xbd)](),this['gitCommitData'][_0x160551(0xe0)]),this['logger'][_0x160551(0xa9)](_0x160551(0x10c),this[_0x160551(0xd5)]);const _0x10fed6=await this[_0x160551(0x105)][_0x160551(0xd0)](this['lastCommitHash']);if(_0x10fed6){this[_0x160551(0x90)][_0x160551(0xa9)](_0x160551(0xdb)),await this[_0x160551(0x105)][_0x160551(0x109)](_0x160551(0x7b));return;}this[_0x160551(0x90)]['log'](this[_0x160551(0xc2)]+'\x20Cloning\x20git\x20repository\x20from\x20'+this['gitCommitData'][_0x160551(0xe9)]+'.'),await this['gitUtils']['clone'](this['gitCommitData'][_0x160551(0xe0)],this[_0x160551(0x7a)]['repository']),this[_0x160551(0x90)]['log'](this[_0x160551(0xc2)]+_0x160551(0xb3));const _0x194390=await sfdx_utils_1[_0x160551(0xed)][_0x160551(0xec)](this[_0x160551(0xeb)]['dir']);await this[_0x160551(0x101)]();!this[_0x160551(0x90)][_0x160551(0xf0)]()&&this[_0x160551(0x90)][_0x160551(0x79)](await salesforce_logger_v3_service_1[_0x160551(0x112)][_0x160551(0x84)](sf_logger_v3_types_1[_0x160551(0xa4)][_0x160551(0x7e)]));await this[_0x160551(0x90)][_0x160551(0x10b)]();if(_0x6b4294[_0x160551(0xff)]){await this['mdapiUtils'][_0x160551(0x83)](this[_0x160551(0xeb)][_0x160551(0x110)]),await this['sfLogger'][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0xd9))['send']();const _0x3544b7=(await fs_internal_1['FS']['readDir'](this[_0x160551(0xcd)][_0x160551(0x110)],!![]))[_0x160551(0xbf)](_0x188f4f=>(0x0,path_1['relative'])(this[_0x160551(0xcd)]['dir'],_0x188f4f));this[_0x160551(0x90)][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0x94)+_0x3544b7[_0x160551(0xbb)]+_0x160551(0xa1)),this[_0x160551(0x7a)][_0x160551(0xe1)]=[],this[_0x160551(0x7a)][_0x160551(0x70)]=[{'files':{'modified':_0x3544b7,'added':[],'removed':[]},'id':await this[_0x160551(0xeb)][_0x160551(0xd4)](),'message':_0x160551(0x67),'username':constants_1[_0x160551(0x78)]}];}await this[_0x160551(0x105)][_0x160551(0xe3)]({[this['gitCommitData'][_0x160551(0xe9)]]:{'lastCommit':this['lastCommitHash']}}),await this[_0x160551(0x90)][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0x68)+(_0x194390?'YES':'NO')+']\x20Start\x20proceeding\x20git\x20commits.\x20')[_0x160551(0x10b)](),await this[_0x160551(0xa6)](_0x194390),await this[_0x160551(0x90)][_0x160551(0xa9)](this[_0x160551(0xc2)]+_0x160551(0xb8))['send'](),await this[_0x160551(0x105)][_0x160551(0x109)]('Completed');}catch(_0x228f2a){await this[_0x160551(0xf2)]();if(_0x228f2a instanceof flosum_commit_error_1[_0x160551(0x111)])await this[_0x160551(0x105)][_0x160551(0x109)](_0x160551(0x7b))['catch'](()=>void 0x0),this[_0x160551(0xa5)][_0x160551(0xa9)](this[_0x160551(0xc2)]+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this[_0x160551(0xa5)][_0x160551(0x75)](this[_0x160551(0xc2)]+_0x160551(0x92)+(_0x228f2a instanceof api_error_1['ApiError']||_0x228f2a instanceof salesforce_error_1[_0x160551(0x71)]?_0x228f2a[_0x160551(0xe8)]():_0x228f2a)),await this[_0x160551(0x105)][_0x160551(0xe3)]({}),await this[_0x160551(0x105)][_0x160551(0x109)](_0x160551(0xc7))[_0x160551(0x103)](()=>void 0x0);throw _0x228f2a;}}finally{await this[_0x160551(0xf2)](),await this[_0x160551(0x90)][_0x160551(0x10b)]()['catch'](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a107_0x4b36e8(0x74)])({'transient':!![]}),__metadata(a107_0x4b36e8(0xe2),[git_commit_service_1[a107_0x4b36e8(0x88)],connection_1[a107_0x4b36e8(0x104)]])],GitCommitJob),exports[a107_0x4b36e8(0xcf)]=GitCommitJob;