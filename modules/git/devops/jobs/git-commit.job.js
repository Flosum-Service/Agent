const a76_0x4fd3b5=a76_0xcf48;(function(_0x52ee62,_0x51ee68){const _0x3e2f10=a76_0xcf48,_0x28af7f=_0x52ee62();while(!![]){try{const _0x39c61a=parseInt(_0x3e2f10(0x18b))/0x1+-parseInt(_0x3e2f10(0x1a5))/0x2*(parseInt(_0x3e2f10(0x1ca))/0x3)+parseInt(_0x3e2f10(0x185))/0x4+-parseInt(_0x3e2f10(0x1a7))/0x5*(-parseInt(_0x3e2f10(0x19e))/0x6)+-parseInt(_0x3e2f10(0x1e5))/0x7+parseInt(_0x3e2f10(0x229))/0x8+parseInt(_0x3e2f10(0x200))/0x9*(parseInt(_0x3e2f10(0x1bc))/0xa);if(_0x39c61a===_0x51ee68)break;else _0x28af7f['push'](_0x28af7f['shift']());}catch(_0x2fe7c1){_0x28af7f['push'](_0x28af7f['shift']());}}}(a76_0x2fb8,0x4387b));const a76_0x9b26ad=(function(){let _0x3fc0ac=!![];return function(_0x1c01a1,_0x6757e0){const _0x54775a=_0x3fc0ac?function(){const _0x38a274=a76_0xcf48;if(_0x6757e0){const _0x389996=_0x6757e0[_0x38a274(0x18e)](_0x1c01a1,arguments);return _0x6757e0=null,_0x389996;}}:function(){};return _0x3fc0ac=![],_0x54775a;};}()),a76_0x293bf6=a76_0x9b26ad(this,function(){const _0x4ffd16=a76_0xcf48;return a76_0x293bf6[_0x4ffd16(0x1fd)]()['search'](_0x4ffd16(0x1f4))[_0x4ffd16(0x1fd)]()[_0x4ffd16(0x20a)](a76_0x293bf6)[_0x4ffd16(0x22c)](_0x4ffd16(0x1f4));});function a76_0xcf48(_0xad3b8e,_0x2a0c4d){const _0x5144a5=a76_0x2fb8();return a76_0xcf48=function(_0x293bf6,_0x9b26ad){_0x293bf6=_0x293bf6-0x17e;let _0x2fb859=_0x5144a5[_0x293bf6];return _0x2fb859;},a76_0xcf48(_0xad3b8e,_0x2a0c4d);}a76_0x293bf6();'use strict';var __createBinding=this&&this[a76_0x4fd3b5(0x1d6)]||(Object[a76_0x4fd3b5(0x1ab)]?function(_0x3c6483,_0x3faa1a,_0x4188cf,_0x410069){const _0x33378e=a76_0x4fd3b5;if(_0x410069===undefined)_0x410069=_0x4188cf;var _0x45c70b=Object[_0x33378e(0x1f9)](_0x3faa1a,_0x4188cf);(!_0x45c70b||(_0x33378e(0x180)in _0x45c70b?!_0x3faa1a[_0x33378e(0x1ec)]:_0x45c70b[_0x33378e(0x20b)]||_0x45c70b['configurable']))&&(_0x45c70b={'enumerable':!![],'get':function(){return _0x3faa1a[_0x4188cf];}}),Object[_0x33378e(0x1a4)](_0x3c6483,_0x410069,_0x45c70b);}:function(_0x1f5e67,_0x3feced,_0x410b0e,_0x3edd8b){if(_0x3edd8b===undefined)_0x3edd8b=_0x410b0e;_0x1f5e67[_0x3edd8b]=_0x3feced[_0x410b0e];}),__setModuleDefault=this&&this[a76_0x4fd3b5(0x214)]||(Object[a76_0x4fd3b5(0x1ab)]?function(_0x2c9a1d,_0x5ad7b2){const _0xd1158b=a76_0x4fd3b5;Object[_0xd1158b(0x1a4)](_0x2c9a1d,_0xd1158b(0x1c1),{'enumerable':!![],'value':_0x5ad7b2});}:function(_0x3553d4,_0x28d70a){const _0xfa038d=a76_0x4fd3b5;_0x3553d4[_0xfa038d(0x1c1)]=_0x28d70a;}),__decorate=this&&this[a76_0x4fd3b5(0x1c6)]||function(_0x4630bf,_0x58fdf8,_0x2bd45e,_0x29368a){const _0x31985f=a76_0x4fd3b5;var _0x2d26d4=arguments[_0x31985f(0x1e2)],_0x3f0fa9=_0x2d26d4<0x3?_0x58fdf8:_0x29368a===null?_0x29368a=Object[_0x31985f(0x1f9)](_0x58fdf8,_0x2bd45e):_0x29368a,_0x26ac36;if(typeof Reflect===_0x31985f(0x20e)&&typeof Reflect[_0x31985f(0x1c0)]===_0x31985f(0x1f6))_0x3f0fa9=Reflect[_0x31985f(0x1c0)](_0x4630bf,_0x58fdf8,_0x2bd45e,_0x29368a);else{for(var _0x123171=_0x4630bf[_0x31985f(0x1e2)]-0x1;_0x123171>=0x0;_0x123171--)if(_0x26ac36=_0x4630bf[_0x123171])_0x3f0fa9=(_0x2d26d4<0x3?_0x26ac36(_0x3f0fa9):_0x2d26d4>0x3?_0x26ac36(_0x58fdf8,_0x2bd45e,_0x3f0fa9):_0x26ac36(_0x58fdf8,_0x2bd45e))||_0x3f0fa9;}return _0x2d26d4>0x3&&_0x3f0fa9&&Object[_0x31985f(0x1a4)](_0x58fdf8,_0x2bd45e,_0x3f0fa9),_0x3f0fa9;},__importStar=this&&this[a76_0x4fd3b5(0x22b)]||function(_0x3f3600){const _0x2f8e4a=a76_0x4fd3b5;if(_0x3f3600&&_0x3f3600[_0x2f8e4a(0x1ec)])return _0x3f3600;var _0x39f273={};if(_0x3f3600!=null){for(var _0x2127b4 in _0x3f3600)if(_0x2127b4!=='default'&&Object[_0x2f8e4a(0x21a)][_0x2f8e4a(0x1c7)][_0x2f8e4a(0x1ee)](_0x3f3600,_0x2127b4))__createBinding(_0x39f273,_0x3f3600,_0x2127b4);}return __setModuleDefault(_0x39f273,_0x3f3600),_0x39f273;},__metadata=this&&this[a76_0x4fd3b5(0x202)]||function(_0x561881,_0xd9ddf4){const _0x447c26=a76_0x4fd3b5;if(typeof Reflect===_0x447c26(0x20e)&&typeof Reflect[_0x447c26(0x20c)]==='function')return Reflect['metadata'](_0x561881,_0xd9ddf4);},GitCommitJob_1;Object[a76_0x4fd3b5(0x1a4)](exports,a76_0x4fd3b5(0x1ec),{'value':!![]}),exports[a76_0x4fd3b5(0x1af)]=void 0x0;function a76_0x2fb8(){const _0x10c952=['(((.+)+)+)+$','\x20Added\x20','function','getProtocol','\x20Commit\x20Summary','getOwnPropertyDescriptor','dir','Last\x20git\x20repository\x20hash\x20is\x20%s.','FlosumCommitError','toString','updateFileNamesForSFDXProject','readDir','2169dupXZn','Service','__metadata','getRemoteHash','\x20Start\x20force\x20commit\x20job\x20to\x20sync\x20repository','design:paramtypes','email','../utils/git.utils','[GIT\x20->\x20FLOSUM]\x20[Repository:\x20','force','constructor','writable','metadata','ProvidersFactory','object','../utils/git-commit.utils','\x20Error\x20has\x20occurred\x20when\x20commit\x20from\x20git\x20to\x20Flosum\x20-\x20','DEFAULT_GIT_USER_NAME','resetStats','sfLogger','__setModuleDefault','\x20Job\x20done.','sendComponents','run','ApiError','\x20Fetch\x20salesforce\x20data.','prototype','../../providers/providers.tokens','\x20Removed\x20','SalesforceCommitsManager','../../internal/fs.internal','SalesforceLogger3','error','lastCommitHash','DEFAULT_GIT_USER_EMAIL','username','../utils/mdapi.utils','../../providers/api/bitbucket-api.service','credentials','Bitbucket','\x20Start\x20Git-commit\x20job.','7872TJwDMd','\x20files\x20before\x20sync.','__importStar','search','\x20Cloning\x20git\x20repository\x20from\x20','reduce','get','checkSyncStatus','removeDir','convertToCleanPaths','\x20Download\x20components\x20metadata\x20from\x20Flosum.','556804qGhSHY','sync\x20components','repositoryGit','Completed','proceedCommits','../../salesforce/types/sf-logger-v3-types','534632gvLlrv','values','../errors/flosum-commit.error','apply','changes','send','GitCommitService','\x20Force\x20commit.\x20Have\x20to\x20parse\x20','commitId','fetchCommits','branch','typedi','inserted',']\x20[Branch:\x20','../utils/connection','proceedFile','../../salesforce/errors/salesforce.error','\x20commits.','../../salesforce/utils/sfdx.utils','198yYFgUd','Logger','splice','getRepositoryId','../../../../constants','updateStatus','defineProperty','4uLcGAs','commit','1685tISDcw','SalesforceError','prefix','modified','create','logger','../../../../core/errors/api.error','author','GitCommitJob','stats','../services/git-commit.service','\x20[SFDX:\x20','Error','../../providers/types/git-provider','config',']\x20[','MAX_COMPONENTS_PER_TICK','files','\x20Fetch\x20changes\x20files\x20from\x20git\x20commits.','getBranchId','cleanUp','14990gGfUEx','shift','providersFactory','../../internal/git.internal','decorate','default','\x20components.','commits','prepareGitChangedPaths','gitCommitData','__decorate','hasOwnProperty','push','gitUtils','461784XJzwDA','Git','\x20Modified\x20',']\x20Start\x20proceeding\x20git\x20commits.\x20','isSFDXProject','added','catch','removed','checkoutTo','\x20Proceeded\x20','log','Tokens','__createBinding','env','../../salesforce/services/salesforce-logger-v3.service','replace','proceeded\x20files\x20%d/%d\x20(components\x20-\x20%d)','gitCommit','mdapiUtils','BitbucketApiService','updateRemoteState','map','\x20Fetch\x20remote\x20branch\x20hash.','getGitShellAuthorizationString','length','handleCommit','getRemote','3239166sSOvfo','isLoggedIn','../../salesforce/services/salesforce-commits-manager.service','fileNames','fetchRepositoryOrBranchData','\x20Processed\x20','path','__esModule','../../../shared/utils','call','message','GitProvider','gitApiService','createLoggerId','setLoggerId'];a76_0x2fb8=function(){return _0x10c952;};return a76_0x2fb8();}const core_1=require('../../../../core'),fs_internal_1=require(a76_0x4fd3b5(0x21e)),salesforce_logger_v3_service_1=require(a76_0x4fd3b5(0x1d8)),utils_1=require(a76_0x4fd3b5(0x1ed)),path_1=require(a76_0x4fd3b5(0x1eb)),typedi_1=__importStar(require(a76_0x4fd3b5(0x196))),constants_1=require(a76_0x4fd3b5(0x1a2)),salesforce_commits_manager_service_1=require(a76_0x4fd3b5(0x1e7)),git_commit_utils_1=require(a76_0x4fd3b5(0x20f)),git_utils_1=require(a76_0x4fd3b5(0x207)),mdapi_utils_1=require(a76_0x4fd3b5(0x224)),api_error_1=require(a76_0x4fd3b5(0x1ad)),salesforce_error_1=require(a76_0x4fd3b5(0x19b)),git_commit_service_1=require(a76_0x4fd3b5(0x1b1)),flosum_commit_error_1=require(a76_0x4fd3b5(0x18d)),bitbucket_api_service_1=require(a76_0x4fd3b5(0x225)),git_provider_1=require(a76_0x4fd3b5(0x1b4)),sfdx_utils_1=require(a76_0x4fd3b5(0x19d)),utils_2=require('../../parsers/utils'),git_internal_1=require(a76_0x4fd3b5(0x1bf)),providers_tokens_1=require(a76_0x4fd3b5(0x21b)),connection_1=require(a76_0x4fd3b5(0x199)),sf_logger_v3_types_1=require(a76_0x4fd3b5(0x18a));let GitCommitJob=GitCommitJob_1=class GitCommitJob{constructor(_0x5a331b,_0x7e28b7){const _0x158f68=a76_0x4fd3b5;this['gitCommit']=_0x5a331b,this[_0x158f68(0x1be)]=_0x7e28b7,this[_0x158f68(0x1b7)]=+(process[_0x158f68(0x1d7)]['MAX_COMPONENTS_PER_TICK']||0xbb8),this[_0x158f68(0x1ac)]=new core_1[(_0x158f68(0x19f))](GitCommitJob_1['name']),this[_0x158f68(0x193)]='',this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async['getRemote'](){const _0x2d6542=a76_0x4fd3b5,{repositoryGit:_0x55ed69}=this['gitCommitData'],_0xa42a07=typedi_1[_0x2d6542(0x1c1)]['get'](providers_tokens_1[_0x2d6542(0x1d5)][_0x2d6542(0x226)]);if(this[_0x2d6542(0x1c5)]['provider']===git_provider_1[_0x2d6542(0x1f0)][_0x2d6542(0x227)]){const _0x2f6aff=typedi_1[_0x2d6542(0x1c1)][_0x2d6542(0x180)](bitbucket_api_service_1[_0x2d6542(0x1dd)]);await _0x2f6aff[_0x2d6542(0x1e6)]();}return _0x55ed69[_0x2d6542(0x1d9)](/http(s)?:\/\/(.+@)?/,(0x0,utils_1[_0x2d6542(0x1f7)])(_0x55ed69)+'://'+_0xa42a07[_0x2d6542(0x1e1)]()+'@');}[a76_0x4fd3b5(0x212)](){this['stats']={'removed':0x0,'modified':0x0,'added':0x0};}async[a76_0x4fd3b5(0x1fe)](){const _0x4777ca=a76_0x4fd3b5,_0x51719b=[...this[_0x4777ca(0x1c5)][_0x4777ca(0x1e8)]];this[_0x4777ca(0x1c5)]['fileNames']=[];for(const _0x5cc296 of _0x51719b){this['gitCommitData'][_0x4777ca(0x1e8)][_0x4777ca(0x1c8)](...await(0x0,utils_2['readFilesByFilename'])(_0x5cc296,this[_0x4777ca(0x1dc)][_0x4777ca(0x1fa)]));}}async[a76_0x4fd3b5(0x194)](){const _0x1d1b9a=a76_0x4fd3b5;if(this['gitCommitData'][_0x1d1b9a(0x209)])return;const _0x5e5ac4=[];for(const _0x429412 of this[_0x1d1b9a(0x1c5)]['commits']){const _0x175e80=await this[_0x1d1b9a(0x1c9)]['describeCommit'](_0x429412['id']);_0x429412['username']=_0x175e80[_0x1d1b9a(0x1ae)],_0x429412[_0x1d1b9a(0x1ef)]=_0x175e80['message'],_0x429412['files']=_0x175e80[_0x1d1b9a(0x18f)],_0x429412[_0x1d1b9a(0x206)]=_0x175e80[_0x1d1b9a(0x206)];if(_0x429412[_0x1d1b9a(0x206)]===constants_1[_0x1d1b9a(0x222)])throw new flosum_commit_error_1[(_0x1d1b9a(0x1fc))]();_0x5e5ac4[_0x1d1b9a(0x1c8)](...Object[_0x1d1b9a(0x18c)](_0x429412['files'])['flat']());}this[_0x1d1b9a(0x1c5)][_0x1d1b9a(0x1e8)]=[...new Set((0x0,git_commit_utils_1[_0x1d1b9a(0x1c4)])(_0x5e5ac4))];}async[a76_0x4fd3b5(0x216)](_0x24297,_0xabc860,_0x2af1e0){const _0x31bdd6=a76_0x4fd3b5,_0x51c34c=_0x2af1e0[_0x31bdd6(0x17f)]((_0xb5c0e4,_0x2edafa)=>{const _0x2368ea=_0x31bdd6;return _0xb5c0e4[_0x2368ea(0x197)]['push'](..._0x2edafa[_0x2368ea(0x197)]),_0xb5c0e4[_0x2368ea(0x1aa)]['push'](..._0x2edafa['modified']),_0xb5c0e4[_0x2368ea(0x1d1)]['push'](..._0x2edafa[_0x2368ea(0x1d1)]),_0xb5c0e4;},{'inserted':[],'modified':[],'removed':[]}),_0xeffcf4=new salesforce_commits_manager_service_1[(_0x31bdd6(0x21d))]({'recordTypes':this[_0x31bdd6(0x1db)]['getRecordTypes'](),'branchId':this[_0x31bdd6(0x1db)][_0x31bdd6(0x1ba)](),'repositoryId':this[_0x31bdd6(0x1db)][_0x31bdd6(0x1a1)](),'logger':this[_0x31bdd6(0x213)],'commitId':this[_0x31bdd6(0x193)]});await _0xeffcf4[_0x31bdd6(0x189)]([{'author':_0x24297,'message':_0xabc860,'inserted':_0x51c34c['inserted'],'modified':_0x51c34c[_0x31bdd6(0x1aa)],'removed':_0x51c34c[_0x31bdd6(0x1d1)]}]);}async['handleCommit'](_0x174631,_0x5a6560){const _0x3e4a0c=a76_0x4fd3b5;await this[_0x3e4a0c(0x213)][_0x3e4a0c(0x1d4)](this[_0x3e4a0c(0x1a9)]+_0x3e4a0c(0x184))['send'](),await this['gitCommit']['fetchComponentsMetadata'](_0x5a6560);const {added:_0x8dd2a7,modified:_0x22e80b,removed:_0x29d7dc}=_0x174631[_0x3e4a0c(0x1b8)];_0x5a6560&&_0x22e80b[_0x3e4a0c(0x1c8)](..._0x29d7dc[_0x3e4a0c(0x1a0)](0x0));const _0x30650d=(0x0,utils_2[_0x3e4a0c(0x183)])((0x0,git_commit_utils_1[_0x3e4a0c(0x1c4)])([..._0x8dd2a7,..._0x22e80b,..._0x29d7dc],_0x5a6560&&!this['gitCommitData']['force']));let _0x21c531=0x0;const _0x5ac957=[];(_0x8dd2a7[_0x3e4a0c(0x1e2)]||_0x22e80b[_0x3e4a0c(0x1e2)])&&this[_0x3e4a0c(0x1db)][_0x3e4a0c(0x1a1)]()&&(this[_0x3e4a0c(0x193)]=await this[_0x3e4a0c(0x1db)]['createCommit'](_0x174631[_0x3e4a0c(0x1ef)]));const _0x39e508=_0x30650d[_0x3e4a0c(0x1e2)];let _0x347ab2=0x0;while(_0x30650d[_0x3e4a0c(0x1e2)]){const _0x29d451=_0x30650d['shift'](),_0x5ca318=await this['gitCommit'][_0x3e4a0c(0x19a)](_0x29d451,this['mdapiUtils'][_0x3e4a0c(0x1fa)],_0x5a6560&&!this[_0x3e4a0c(0x1c5)][_0x3e4a0c(0x209)]);_0x21c531+=_0x5ca318[_0x3e4a0c(0x197)]['length']+_0x5ca318[_0x3e4a0c(0x1d1)][_0x3e4a0c(0x1e2)]+_0x5ca318['modified'][_0x3e4a0c(0x1e2)],this[_0x3e4a0c(0x1b0)]['added']+=_0x5ca318['inserted']['length'],this[_0x3e4a0c(0x1b0)][_0x3e4a0c(0x1aa)]+=_0x5ca318[_0x3e4a0c(0x1aa)][_0x3e4a0c(0x1e2)],this[_0x3e4a0c(0x1b0)][_0x3e4a0c(0x1d1)]+=_0x5ca318['removed']['length'],_0x347ab2++,_0x347ab2%0x64===0x0&&this[_0x3e4a0c(0x1ac)][_0x3e4a0c(0x1d4)](_0x3e4a0c(0x1da),_0x347ab2,_0x39e508,_0x21c531),_0x5ac957[_0x3e4a0c(0x1c8)](_0x5ca318),_0x21c531>this[_0x3e4a0c(0x1b7)]&&(await this[_0x3e4a0c(0x216)](_0x174631[_0x3e4a0c(0x223)],_0x174631[_0x3e4a0c(0x1ef)],_0x5ac957),await this[_0x3e4a0c(0x213)][_0x3e4a0c(0x1d4)](this[_0x3e4a0c(0x1a9)]+_0x3e4a0c(0x1ea)+_0x21c531+_0x3e4a0c(0x1c2))[_0x3e4a0c(0x190)](),_0x21c531=0x0,_0x5ac957[_0x3e4a0c(0x1a0)](0x0));}_0x5ac957[_0x3e4a0c(0x1e2)]&&(await this['sendComponents'](_0x174631[_0x3e4a0c(0x223)],_0x174631[_0x3e4a0c(0x1ef)],_0x5ac957),await this[_0x3e4a0c(0x213)][_0x3e4a0c(0x1d4)](this[_0x3e4a0c(0x1a9)]+_0x3e4a0c(0x1ea)+_0x21c531+_0x3e4a0c(0x1c2))[_0x3e4a0c(0x190)]());}async[a76_0x4fd3b5(0x189)](_0x530270){const _0x42eabd=a76_0x4fd3b5,_0x257591=[...this[_0x42eabd(0x1c5)][_0x42eabd(0x1c3)]],_0x603699=_0x257591[_0x42eabd(0x1e2)];let _0x3c42fc=0x0;while(_0x257591['length']){const _0x26d728=_0x257591[_0x42eabd(0x1bd)]();!this[_0x42eabd(0x1c5)][_0x42eabd(0x209)]&&(this[_0x42eabd(0x1db)]['getRepositoryId']()?(await this[_0x42eabd(0x1c9)][_0x42eabd(0x1d2)](_0x26d728['id']),await this[_0x42eabd(0x1dc)]['prepareMdapi'](this['gitUtils']['dir'])):(await this['gitUtils'][_0x42eabd(0x1d2)](this[_0x42eabd(0x221)]),await this[_0x42eabd(0x1dc)]['prepareMdapi'](this[_0x42eabd(0x1c9)][_0x42eabd(0x1fa)]))),await this[_0x42eabd(0x1e3)](_0x26d728,_0x530270),await this[_0x42eabd(0x1dc)]['removeDir'](),_0x3c42fc+=0x1,await this[_0x42eabd(0x213)]['log'](this[_0x42eabd(0x1a9)]+_0x42eabd(0x1f8)),await this['sfLogger']['log'](this[_0x42eabd(0x1a9)]+_0x42eabd(0x1f5)+this[_0x42eabd(0x1b0)][_0x42eabd(0x1cf)]+'\x20components'),await this[_0x42eabd(0x213)]['log'](this[_0x42eabd(0x1a9)]+_0x42eabd(0x1cc)+this['stats'][_0x42eabd(0x1aa)]+'\x20components'),await this[_0x42eabd(0x213)][_0x42eabd(0x1d4)](this[_0x42eabd(0x1a9)]+_0x42eabd(0x21c)+this[_0x42eabd(0x1b0)][_0x42eabd(0x1d1)]+'\x20components'),await this[_0x42eabd(0x213)]['log'](this[_0x42eabd(0x1a9)]+_0x42eabd(0x1d3)+_0x3c42fc+'/'+_0x603699+_0x42eabd(0x19c))[_0x42eabd(0x190)](),this[_0x42eabd(0x212)]();}}async['cleanUp'](){const _0x3edc60=a76_0x4fd3b5;this[_0x3edc60(0x1c9)]&&await this[_0x3edc60(0x1c9)][_0x3edc60(0x182)]()[_0x3edc60(0x1d0)](()=>void 0x0),this[_0x3edc60(0x1dc)]&&await this[_0x3edc60(0x1dc)][_0x3edc60(0x182)]()[_0x3edc60(0x1d0)](()=>void 0x0);}async[a76_0x4fd3b5(0x217)](_0x561aa3){const _0x8c101e=a76_0x4fd3b5;this['gitCommitData']=_0x561aa3,this['gitCommit']['setCommitDto'](this[_0x8c101e(0x1c5)]),this[_0x8c101e(0x1f1)]=typedi_1[_0x8c101e(0x1c1)][_0x8c101e(0x180)](providers_tokens_1['Tokens'][_0x8c101e(0x1f1)]),this[_0x8c101e(0x1b5)]=typedi_1[_0x8c101e(0x1c1)][_0x8c101e(0x180)](providers_tokens_1[_0x8c101e(0x1d5)][_0x8c101e(0x1b5)]),this[_0x8c101e(0x213)]=typedi_1[_0x8c101e(0x1c1)][_0x8c101e(0x180)](providers_tokens_1[_0x8c101e(0x1d5)][_0x8c101e(0x1ac)]),this[_0x8c101e(0x1a9)]=_0x8c101e(0x208)+_0x561aa3['repository']+_0x8c101e(0x198)+_0x561aa3[_0x8c101e(0x195)]+_0x8c101e(0x1b6)+GitCommitJob_1['name']+']',this[_0x8c101e(0x1c9)]=new git_utils_1['GitUtils'](await this['getRemote']()),this[_0x8c101e(0x1dc)]=new mdapi_utils_1['MDApiUtils'](),this['sfLogger'][_0x8c101e(0x1d4)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x228));try{this[_0x8c101e(0x213)][_0x8c101e(0x1d4)](this['prefix']+_0x8c101e(0x219)),await this[_0x8c101e(0x1db)][_0x8c101e(0x1e9)](),await this[_0x8c101e(0x1db)][_0x8c101e(0x1a3)]('In\x20Progress'),this['sfLogger'][_0x8c101e(0x1d4)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x1e0)),this[_0x8c101e(0x221)]=await git_internal_1[_0x8c101e(0x1cb)][_0x8c101e(0x203)](await this[_0x8c101e(0x1e4)](),this[_0x8c101e(0x1c5)][_0x8c101e(0x195)]),this[_0x8c101e(0x1ac)]['log'](_0x8c101e(0x1fb),this[_0x8c101e(0x221)]);const _0x5c9498=await this[_0x8c101e(0x1db)][_0x8c101e(0x181)](this['lastCommitHash']);if(_0x5c9498){this[_0x8c101e(0x213)][_0x8c101e(0x1d4)]('Branch\x20synchronized.\x20Skip.'),await this[_0x8c101e(0x1db)][_0x8c101e(0x1a3)](_0x8c101e(0x188));return;}this['sfLogger'][_0x8c101e(0x1d4)](this['prefix']+_0x8c101e(0x17e)+this[_0x8c101e(0x1c5)][_0x8c101e(0x187)]+'.'),await this[_0x8c101e(0x1c9)]['clone'](this['gitCommitData']['branch'],this[_0x8c101e(0x1c5)]['repository']),this[_0x8c101e(0x213)][_0x8c101e(0x1d4)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x1b9));const _0x539a9b=await sfdx_utils_1['SFDX'][_0x8c101e(0x1ce)](this[_0x8c101e(0x1c9)][_0x8c101e(0x1fa)]);await this[_0x8c101e(0x194)]();!this[_0x8c101e(0x213)]['getLoggerId']()&&this[_0x8c101e(0x213)][_0x8c101e(0x1f3)](await salesforce_logger_v3_service_1[_0x8c101e(0x21f)][_0x8c101e(0x1f2)](sf_logger_v3_types_1['LoggerTypes'][_0x8c101e(0x1a6)]));await this[_0x8c101e(0x213)][_0x8c101e(0x190)]();if(_0x561aa3[_0x8c101e(0x209)]){await this['mdapiUtils']['prepareMdapi'](this['gitUtils'][_0x8c101e(0x1fa)]),await this[_0x8c101e(0x213)][_0x8c101e(0x1d4)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x204))[_0x8c101e(0x190)]();const _0x2c576d=(await fs_internal_1['FS'][_0x8c101e(0x1ff)](this[_0x8c101e(0x1dc)][_0x8c101e(0x1fa)],!![]))[_0x8c101e(0x1df)](_0x7899a=>(0x0,path_1['relative'])(this['mdapiUtils'][_0x8c101e(0x1fa)],_0x7899a));this[_0x8c101e(0x213)]['log'](this[_0x8c101e(0x1a9)]+_0x8c101e(0x192)+_0x2c576d['length']+_0x8c101e(0x22a)),this[_0x8c101e(0x1c5)][_0x8c101e(0x1e8)]=[],this[_0x8c101e(0x1c5)][_0x8c101e(0x1c3)]=[{'files':{'modified':_0x2c576d,'added':[],'removed':[]},'id':await this['gitUtils']['getCurrentHash'](),'message':_0x8c101e(0x186),'username':constants_1[_0x8c101e(0x211)]}];}await this[_0x8c101e(0x1db)]['updateRemoteState']({[this['gitCommitData'][_0x8c101e(0x187)]]:{'lastCommit':this[_0x8c101e(0x221)]}}),await this[_0x8c101e(0x213)]['log'](this['prefix']+_0x8c101e(0x1b2)+(_0x539a9b?'YES':'NO')+_0x8c101e(0x1cd))[_0x8c101e(0x190)](),await this[_0x8c101e(0x189)](_0x539a9b),await this['sfLogger'][_0x8c101e(0x1d4)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x215))[_0x8c101e(0x190)](),await this['gitCommit'][_0x8c101e(0x1a3)]('Completed');}catch(_0x92d5e){await this[_0x8c101e(0x1bb)]();if(_0x92d5e instanceof flosum_commit_error_1[_0x8c101e(0x1fc)])await this[_0x8c101e(0x1db)][_0x8c101e(0x1a3)](_0x8c101e(0x188))[_0x8c101e(0x1d0)](()=>void 0x0),this[_0x8c101e(0x1ac)][_0x8c101e(0x1d4)](this['prefix']+'\x20Git\x20commits\x20not\x20have\x20a\x20changes.');else{await this['logger'][_0x8c101e(0x220)](this[_0x8c101e(0x1a9)]+_0x8c101e(0x210)+(_0x92d5e instanceof api_error_1[_0x8c101e(0x218)]||_0x92d5e instanceof salesforce_error_1[_0x8c101e(0x1a8)]?_0x92d5e[_0x8c101e(0x1fd)]():_0x92d5e)),await this[_0x8c101e(0x1db)][_0x8c101e(0x1de)]({}),await this[_0x8c101e(0x1db)][_0x8c101e(0x1a3)](_0x8c101e(0x1b3))[_0x8c101e(0x1d0)](()=>void 0x0);throw _0x92d5e;}}finally{await this[_0x8c101e(0x1bb)](),await this[_0x8c101e(0x213)][_0x8c101e(0x190)]()[_0x8c101e(0x1d0)](()=>void 0x0);}}};GitCommitJob=GitCommitJob_1=__decorate([(0x0,typedi_1[a76_0x4fd3b5(0x201)])({'transient':!![]}),__metadata(a76_0x4fd3b5(0x205),[git_commit_service_1[a76_0x4fd3b5(0x191)],connection_1[a76_0x4fd3b5(0x20d)]])],GitCommitJob),exports[a76_0x4fd3b5(0x1af)]=GitCommitJob;