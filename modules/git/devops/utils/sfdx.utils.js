const a144_0x1d41ed=a144_0x1f23;(function(_0x8404a,_0xd456ed){const _0x32a61a=a144_0x1f23,_0x451e1b=_0x8404a();while(!![]){try{const _0x15674e=parseInt(_0x32a61a(0xa1))/0x1*(parseInt(_0x32a61a(0xb0))/0x2)+parseInt(_0x32a61a(0x84))/0x3+-parseInt(_0x32a61a(0x9b))/0x4+-parseInt(_0x32a61a(0xae))/0x5*(-parseInt(_0x32a61a(0x7d))/0x6)+-parseInt(_0x32a61a(0x92))/0x7*(parseInt(_0x32a61a(0x7c))/0x8)+parseInt(_0x32a61a(0x9a))/0x9+-parseInt(_0x32a61a(0xaf))/0xa;if(_0x15674e===_0xd456ed)break;else _0x451e1b['push'](_0x451e1b['shift']());}catch(_0x2bde2c){_0x451e1b['push'](_0x451e1b['shift']());}}}(a144_0x146e,0xd3aed));function a144_0x146e(){const _0x1e728e=['toString','message','../../../../constants/sfdx','../../internal/shell.internal','SFDXUtils','DEFAULT','exists','/sfdx-project.json','readdir','5FSNHDE','3162950ETdujE','2vfzQjA','constructor','272FmoWrp','923028RumvPf','uniqueId','../../parsers/utils/vlocity','isConvertToSfdx','join','copyProjectTo','PROJECTS_PATH','2368326RRWJZH','isVlocityComponent','MARKETING_CLOUD','createEmptyPackageXml','Shell','exec','SFDX','WRONG_RECORD_TYPE_ERROR_MESSAGE','cp\x20-r\x20','path','search','default','sfdx','../../internal/fs.internal','5761yVvcBP','(((.+)+)+)+$','cwd','RecordTypes','removeDir','/*\x20','crypto','match','11374884nuMNvE','5290776DqPSYU','/force-app\x20','__esModule','copySFDXIgnoredComponents','fs/promises','NO_RESULTS_TO_FORMAT','326868jumpox','filter','../errors/messages','dir'];a144_0x146e=function(){return _0x1e728e;};return a144_0x146e();}const a144_0xb01174=(function(){let _0x14b854=!![];return function(_0x173fae,_0x45d173){const _0x279d68=_0x14b854?function(){if(_0x45d173){const _0x35199d=_0x45d173['apply'](_0x173fae,arguments);return _0x45d173=null,_0x35199d;}}:function(){};return _0x14b854=![],_0x279d68;};}()),a144_0x14f437=a144_0xb01174(this,function(){const _0x4d9d53=a144_0x1f23;return a144_0x14f437[_0x4d9d53(0xa5)]()[_0x4d9d53(0x8e)]('(((.+)+)+)+$')['toString']()[_0x4d9d53(0x7b)](a144_0x14f437)[_0x4d9d53(0x8e)](_0x4d9d53(0x93));});function a144_0x1f23(_0x142756,_0x3780d8){const _0x3fd994=a144_0x146e();return a144_0x1f23=function(_0x14f437,_0xb01174){_0x14f437=_0x14f437-0x7b;let _0x146e1e=_0x3fd994[_0x14f437];return _0x146e1e;},a144_0x1f23(_0x142756,_0x3780d8);}a144_0x14f437();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1878a8){const _0x483115=a144_0x1f23;return _0x1878a8&&_0x1878a8[_0x483115(0x9d)]?_0x1878a8:{'default':_0x1878a8};};Object['defineProperty'](exports,a144_0x1d41ed(0x9d),{'value':!![]}),exports[a144_0x1d41ed(0xa9)]=void 0x0;const path_1=__importDefault(require(a144_0x1d41ed(0x8d))),fs_internal_1=require(a144_0x1d41ed(0x91)),shell_internal_1=require(a144_0x1d41ed(0xa8)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),sfdx_1=require(a144_0x1d41ed(0xa7)),promises_1=require(a144_0x1d41ed(0x9f)),vlocity_1=require(a144_0x1d41ed(0x7f)),constants_1=require('../constants/constants'),messages_1=require(a144_0x1d41ed(0xa3)),crypto_1=require(a144_0x1d41ed(0x98));class SFDXUtils{constructor(){const _0x8d1b21=a144_0x1d41ed;this[_0x8d1b21(0x83)]=path_1[_0x8d1b21(0x8f)]['join'](process[_0x8d1b21(0x94)](),'.temp',_0x8d1b21(0x90)),this[_0x8d1b21(0x7e)]=(0x0,crypto_1['randomUUID'])();}get['fullProjectName'](){const _0x18a3cb=a144_0x1d41ed;return''+this[_0x18a3cb(0x7e)];}get[a144_0x1d41ed(0xa4)](){const _0x52a909=a144_0x1d41ed;return path_1['default'][_0x52a909(0x81)](this[_0x52a909(0x83)],this['fullProjectName']);}async['createProjectFrom'](_0x159b7d){const _0x44cb00=a144_0x1d41ed;!await fs_internal_1['FS'][_0x44cb00(0xab)](this['PROJECTS_PATH'])&&await fs_internal_1['FS']['makeDir'](this[_0x44cb00(0x83)]);await sfdx_utils_1[_0x44cb00(0x8a)]['createEmptyProject'](this[_0x44cb00(0x83)],this['fullProjectName']),await sfdx_utils_1[_0x44cb00(0x8a)][_0x44cb00(0x87)](_0x159b7d);try{await sfdx_utils_1[_0x44cb00(0x8a)]['mdapiToSource'](_0x159b7d,this['dir']);}catch(_0x46e381){if(!_0x46e381[_0x44cb00(0xa6)][_0x44cb00(0x99)](sfdx_1[_0x44cb00(0xa0)]))throw _0x46e381;}}async[a144_0x1d41ed(0x82)](_0x205707,_0x206206=!![]){const _0x3bf4dd=a144_0x1d41ed;_0x206206&&(!await fs_internal_1['FS'][_0x3bf4dd(0xab)](_0x205707+_0x3bf4dd(0xac))&&(_0x206206=![])),_0x206206?await shell_internal_1[_0x3bf4dd(0x88)][_0x3bf4dd(0x89)]('cp\x20-r\x20'+this['dir']+_0x3bf4dd(0x9c)+_0x205707):await shell_internal_1[_0x3bf4dd(0x88)]['exec'](_0x3bf4dd(0x8c)+this[_0x3bf4dd(0xa4)]+_0x3bf4dd(0x97)+_0x205707);}async['removeDir'](){const _0x161414=a144_0x1d41ed;await fs_internal_1['FS'][_0x161414(0x96)](this[_0x161414(0xa4)]);}async[a144_0x1d41ed(0x9e)](_0x5958e,_0x4c9c72){const _0x351c52=a144_0x1d41ed,_0x13cc40=await(0x0,promises_1[_0x351c52(0xad)])(_0x5958e),_0x588c1b=_0x13cc40[_0x351c52(0xa2)](_0x23fb66=>(0x0,vlocity_1[_0x351c52(0x85)])(_0x23fb66));for(const _0x3e6acd of _0x588c1b){const _0xc44211=path_1['default']['join'](_0x5958e,_0x3e6acd),_0x5ed75f=path_1['default'][_0x351c52(0x81)](_0x4c9c72,_0x3e6acd);await(0x0,promises_1['cp'])(_0xc44211,_0x5ed75f,{'recursive':!![]});}}[a144_0x1d41ed(0x80)](_0x91f782){const _0xc6ae5f=a144_0x1d41ed;switch(_0x91f782){case constants_1['RecordTypes']['COMMERCE_CLOUD']:case constants_1[_0xc6ae5f(0x95)][_0xc6ae5f(0x86)]:{return![];}case constants_1[_0xc6ae5f(0x95)][_0xc6ae5f(0xaa)]:{return!![];}default:{throw new Error(messages_1[_0xc6ae5f(0x8b)]+_0x91f782);}}}}exports[a144_0x1d41ed(0xa9)]=SFDXUtils;