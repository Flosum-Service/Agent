const a141_0x392ec3=a141_0x29c2;function a141_0x3fda(){const _0x456819=['writeFlosumComponents','/force-app','prototype','prepareMdapi','5576jIqsRe','uniqueId','1109028yqbEwb','default','../../removers/factory.remover','removeFile','../../internal/fs.internal','call','/.git','../../internal/shell.internal','configurable','39336297cEQzJd','createEmptyProject','isSFDXProject','defineProperty','Copy\x20mdapi\x20to\x20temp\x20dir','sfdx','fullDirName','/*\x20','7cpmswV','599065GrSjzB','10vxROPy','MDApiUtils','2098222BYROru','cp\x20-r\x20','isEmptyDir','mdapi-utils','removeComponents','4929618UBUsbP','getOwnPropertyDescriptor','makeDir','create','.temp','copyMdapiTo','Shell','FORCE_APP_DEFAULT_DIR','join','2376eWZPAo','get','12VeUehv','hasOwnProperty','./sfdx.utils','../../../../core','(((.+)+)+)+$','5713257XTGNyp','Logger','SFDXUtils','1icDvmR','../../salesforce/utils/sfdx.utils','dir','../../../../constants','toString','__esModule','/force-app\x20','constructor','__setModuleDefault','path','sourceToMdapi','__importDefault','Detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','12gASFDU','__createBinding','removeDir','[copyMdapiTo]\x20Source\x20folder\x20not\x20found\x20-\x20','exec','FactoryRemover','exists','execute','log','SFDX'];a141_0x3fda=function(){return _0x456819;};return a141_0x3fda();}(function(_0x41dc39,_0x5dc177){const _0x5db306=a141_0x29c2,_0x58c968=_0x41dc39();while(!![]){try{const _0x15c380=parseInt(_0x5db306(0x18c))/0x1*(-parseInt(_0x5db306(0x1be))/0x2)+parseInt(_0x5db306(0x1a9))/0x3*(-parseInt(_0x5db306(0x1ce))/0x4)+-parseInt(_0x5db306(0x1bb))/0x5+parseInt(_0x5db306(0x1c3))/0x6*(-parseInt(_0x5db306(0x1ba))/0x7)+-parseInt(_0x5db306(0x1a7))/0x8*(-parseInt(_0x5db306(0x1cc))/0x9)+-parseInt(_0x5db306(0x1bc))/0xa*(-parseInt(_0x5db306(0x189))/0xb)+parseInt(_0x5db306(0x199))/0xc*(parseInt(_0x5db306(0x1b2))/0xd);if(_0x15c380===_0x5dc177)break;else _0x58c968['push'](_0x58c968['shift']());}catch(_0x7245c0){_0x58c968['push'](_0x58c968['shift']());}}}(a141_0x3fda,0x99bcd));const a141_0x5c752d=(function(){let _0x472329=!![];return function(_0x45deb3,_0x581899){const _0x2ecb4e=_0x472329?function(){if(_0x581899){const _0x1d408b=_0x581899['apply'](_0x45deb3,arguments);return _0x581899=null,_0x1d408b;}}:function(){};return _0x472329=![],_0x2ecb4e;};}()),a141_0x35f4ea=a141_0x5c752d(this,function(){const _0x5e3ec1=a141_0x29c2;return a141_0x35f4ea[_0x5e3ec1(0x190)]()['search'](_0x5e3ec1(0x188))['toString']()[_0x5e3ec1(0x193)](a141_0x35f4ea)['search'](_0x5e3ec1(0x188));});a141_0x35f4ea();'use strict';var __createBinding=this&&this[a141_0x392ec3(0x19a)]||(Object[a141_0x392ec3(0x1c6)]?function(_0x12d02f,_0x3ac0d8,_0x5c3831,_0x146642){const _0x44295b=a141_0x392ec3;if(_0x146642===undefined)_0x146642=_0x5c3831;var _0xb5cffa=Object[_0x44295b(0x1c4)](_0x3ac0d8,_0x5c3831);(!_0xb5cffa||(_0x44295b(0x1cd)in _0xb5cffa?!_0x3ac0d8[_0x44295b(0x191)]:_0xb5cffa['writable']||_0xb5cffa[_0x44295b(0x1b1)]))&&(_0xb5cffa={'enumerable':!![],'get':function(){return _0x3ac0d8[_0x5c3831];}}),Object[_0x44295b(0x1b5)](_0x12d02f,_0x146642,_0xb5cffa);}:function(_0x484dcf,_0x5afe49,_0x496918,_0x5ad20c){if(_0x5ad20c===undefined)_0x5ad20c=_0x496918;_0x484dcf[_0x5ad20c]=_0x5afe49[_0x496918];}),__setModuleDefault=this&&this[a141_0x392ec3(0x194)]||(Object['create']?function(_0x256e2b,_0x2e7d79){const _0x929fdb=a141_0x392ec3;Object[_0x929fdb(0x1b5)](_0x256e2b,_0x929fdb(0x1aa),{'enumerable':!![],'value':_0x2e7d79});}:function(_0x24bb6f,_0x9bc2cc){const _0x74b984=a141_0x392ec3;_0x24bb6f[_0x74b984(0x1aa)]=_0x9bc2cc;}),__importStar=this&&this['__importStar']||function(_0x459fcb){const _0x4fb753=a141_0x392ec3;if(_0x459fcb&&_0x459fcb[_0x4fb753(0x191)])return _0x459fcb;var _0x571139={};if(_0x459fcb!=null){for(var _0x232a9c in _0x459fcb)if(_0x232a9c!==_0x4fb753(0x1aa)&&Object[_0x4fb753(0x1a5)][_0x4fb753(0x1cf)][_0x4fb753(0x1ae)](_0x459fcb,_0x232a9c))__createBinding(_0x571139,_0x459fcb,_0x232a9c);}return __setModuleDefault(_0x571139,_0x459fcb),_0x571139;},__importDefault=this&&this[a141_0x392ec3(0x197)]||function(_0x3b9d79){const _0x33207b=a141_0x392ec3;return _0x3b9d79&&_0x3b9d79[_0x33207b(0x191)]?_0x3b9d79:{'default':_0x3b9d79};};function a141_0x29c2(_0x140310,_0x5153d3){const _0x565829=a141_0x3fda();return a141_0x29c2=function(_0x35f4ea,_0x5c752d){_0x35f4ea=_0x35f4ea-0x188;let _0x3fda08=_0x565829[_0x35f4ea];return _0x3fda08;},a141_0x29c2(_0x140310,_0x5153d3);}Object[a141_0x392ec3(0x1b5)](exports,a141_0x392ec3(0x191),{'value':!![]}),exports[a141_0x392ec3(0x1bd)]=void 0x0;const path_1=__importStar(require(a141_0x392ec3(0x195))),core_1=require(a141_0x392ec3(0x1d1)),fs_internal_1=require(a141_0x392ec3(0x1ad)),shell_internal_1=require(a141_0x392ec3(0x1b0)),factory_remover_1=require(a141_0x392ec3(0x1ab)),sfdx_utils_1=require(a141_0x392ec3(0x18d)),shortid_1=__importDefault(require('shortid')),sfdx_utils_2=require(a141_0x392ec3(0x1d0)),constants_1=require(a141_0x392ec3(0x18f)),factory_writer_1=require('../../writers/factory.writer'),logger=new core_1[(a141_0x392ec3(0x18a))](a141_0x392ec3(0x1c1));class MDApiUtils{constructor(){const _0x971ff9=a141_0x392ec3;this[_0x971ff9(0x1a8)]=(0x0,shortid_1[_0x971ff9(0x1aa)])();}get['fullDirName'](){return''+this['uniqueId'];}get['dir'](){const _0xdb7f51=a141_0x392ec3;return path_1[_0xdb7f51(0x1aa)][_0xdb7f51(0x1cb)](process['cwd'](),_0xdb7f51(0x1c7),'mdapi',this[_0xdb7f51(0x1b8)]);}async[a141_0x392ec3(0x1a6)](_0x54e2ea){const _0x4f27ef=a141_0x392ec3;if(await sfdx_utils_1[_0x4f27ef(0x1a2)][_0x4f27ef(0x1b4)](_0x54e2ea)){const _0x52f886=(0x0,path_1['join'])(_0x54e2ea,'..','..',_0x4f27ef(0x1b7));try{logger[_0x4f27ef(0x1a1)](_0x4f27ef(0x198)),await fs_internal_1['FS'][_0x4f27ef(0x1c5)]((0x0,path_1[_0x4f27ef(0x1cb)])(_0x52f886,this[_0x4f27ef(0x1b8)])),await sfdx_utils_1[_0x4f27ef(0x1a2)][_0x4f27ef(0x1b3)](_0x52f886,this[_0x4f27ef(0x1b8)]);await fs_internal_1['FS'][_0x4f27ef(0x19f)](_0x54e2ea+_0x4f27ef(0x1a4))&&await shell_internal_1[_0x4f27ef(0x1c9)][_0x4f27ef(0x19d)](_0x4f27ef(0x1bf)+_0x54e2ea+_0x4f27ef(0x192)+(0x0,path_1[_0x4f27ef(0x1cb)])(_0x52f886,this[_0x4f27ef(0x1b8)]));await sfdx_utils_1[_0x4f27ef(0x1a2)][_0x4f27ef(0x196)]((0x0,path_1['join'])(_0x52f886,this['fullDirName']),this['dir']);const _0x2445df=new sfdx_utils_2[(_0x4f27ef(0x18b))]();await _0x2445df['copySFDXIgnoredComponents']((0x0,path_1['join'])(_0x52f886,this['fullDirName'],constants_1[_0x4f27ef(0x1ca)]),this[_0x4f27ef(0x18e)]),await fs_internal_1['FS'][_0x4f27ef(0x19b)]((0x0,path_1[_0x4f27ef(0x1cb)])(_0x52f886,this[_0x4f27ef(0x1b8)]));}catch(_0x4b4b10){await fs_internal_1['FS'][_0x4f27ef(0x19b)]((0x0,path_1[_0x4f27ef(0x1cb)])(_0x52f886,this[_0x4f27ef(0x1b8)]));throw _0x4b4b10;}}else{logger[_0x4f27ef(0x1a1)](_0x4f27ef(0x1b6)),await fs_internal_1['FS'][_0x4f27ef(0x1c5)](this['dir']);try{await shell_internal_1['Shell'][_0x4f27ef(0x19d)](_0x4f27ef(0x1bf)+_0x54e2ea+_0x4f27ef(0x1b9)+this[_0x4f27ef(0x18e)]),await fs_internal_1['FS'][_0x4f27ef(0x19b)](this[_0x4f27ef(0x18e)]+_0x4f27ef(0x1af));}catch(_0x22ebd1){}}}async[a141_0x392ec3(0x1c8)](_0x1c230f){const _0x520f1e=a141_0x392ec3;if(!await fs_internal_1['FS'][_0x520f1e(0x19f)](_0x1c230f))throw new Error(_0x520f1e(0x19c)+_0x1c230f);!await fs_internal_1['FS'][_0x520f1e(0x1c0)](''+this[_0x520f1e(0x18e)])&&(await fs_internal_1['FS'][_0x520f1e(0x1ac)](this[_0x520f1e(0x18e)]+'/package.xml'),await shell_internal_1[_0x520f1e(0x1c9)][_0x520f1e(0x19d)](_0x520f1e(0x1bf)+this[_0x520f1e(0x18e)]+_0x520f1e(0x1b9)+_0x1c230f));}async[a141_0x392ec3(0x19b)](){const _0x2f1539=a141_0x392ec3;await fs_internal_1['FS'][_0x2f1539(0x19b)](this[_0x2f1539(0x18e)]);}async[a141_0x392ec3(0x1a3)](_0x307b44,_0x3a1cea){const _0xe6585a=a141_0x392ec3,_0x30b1d3=factory_writer_1['FactoryWriter']['create']({'recordType':_0x3a1cea['recordType'],'sourceDir':this[_0xe6585a(0x18e)],'skipChildErrors':_0x3a1cea===null||_0x3a1cea===void 0x0?void 0x0:_0x3a1cea['skipChildErrors'],'components':_0x307b44});await _0x30b1d3[_0xe6585a(0x1a0)]();}async[a141_0x392ec3(0x1c2)](_0x283127,_0x560975){const _0x4b90ff=a141_0x392ec3,_0x788051=factory_remover_1[_0x4b90ff(0x19e)]['create']({'recordType':_0x560975,'components':_0x283127,'sourceDir':this['dir']});await _0x788051[_0x4b90ff(0x1a0)]();}}exports[a141_0x392ec3(0x1bd)]=MDApiUtils;