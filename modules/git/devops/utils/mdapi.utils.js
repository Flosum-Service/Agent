const a78_0x2601fa=a78_0x2d7f;function a78_0x3ee7(){const _0x4ea645=['__setModuleDefault','readDir','648NMSrcY','defineProperty','mdapi','join','call','40831FCOTEa','path','detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','copy\x20mdapi\x20to\x20temp\x20dir','SFDX','skipChildErrors','uniqueId','5790fjvRXN','3743682bIINoq','cp\x20-r\x20','hasOwnProperty','removeComponents','__importDefault','copy\x20unsupported\x20sfdx\x20folder\x20%s','__esModule','prototype','96nEEEjW','exec','removeFile','/*\x20','mdapi-utils','log','shortid','20654ZauDoT','../../parsers/mdapi','FORCE_APP_DEFAULT_DIR','3RPzBBr','constructor','MDApiUtils','writeFlosumComponents','/.git','MDApiWriter','isEmptyDir','Shell','/package.xml','615UftkcZ','isSFDXProject','dir','(((.+)+)+)+$','__createBinding','/force-app\x20','default','../../internal/fs.internal','removeDir','createEmptyProject','copyMdapiTo','5397552ekSwpw','2708KOXWRP','some','../../internal/shell.internal','start','25380dCTfyI','cwd','makeDir','MDApiRemover','sourceToMdapi','fullDirName','toString','exists','search','416086zkhBUa','.temp','create'];a78_0x3ee7=function(){return _0x4ea645;};return a78_0x3ee7();}(function(_0x515fbe,_0x143640){const _0x282953=a78_0x2d7f,_0x2f791b=_0x515fbe();while(!![]){try{const _0x5a0bc9=parseInt(_0x282953(0x9b))/0x1*(parseInt(_0x282953(0x98))/0x2)+parseInt(_0x282953(0x89))/0x3+-parseInt(_0x282953(0x6a))/0x4*(-parseInt(_0x282953(0xa4))/0x5)+-parseInt(_0x282953(0x69))/0x6+-parseInt(_0x282953(0x81))/0x7*(-parseInt(_0x282953(0x91))/0x8)+parseInt(_0x282953(0x6e))/0x9*(-parseInt(_0x282953(0x88))/0xa)+-parseInt(_0x282953(0x77))/0xb*(-parseInt(_0x282953(0x7c))/0xc);if(_0x5a0bc9===_0x143640)break;else _0x2f791b['push'](_0x2f791b['shift']());}catch(_0x217996){_0x2f791b['push'](_0x2f791b['shift']());}}}(a78_0x3ee7,0xe6126));const a78_0x5cfbf8=(function(){let _0x1949b9=!![];return function(_0x4050fb,_0x5420f7){const _0x54a59a=_0x1949b9?function(){if(_0x5420f7){const _0x368441=_0x5420f7['apply'](_0x4050fb,arguments);return _0x5420f7=null,_0x368441;}}:function(){};return _0x1949b9=![],_0x54a59a;};}()),a78_0xea196a=a78_0x5cfbf8(this,function(){const _0xc4b84=a78_0x2d7f;return a78_0xea196a['toString']()[_0xc4b84(0x76)](_0xc4b84(0xa7))[_0xc4b84(0x74)]()[_0xc4b84(0x9c)](a78_0xea196a)[_0xc4b84(0x76)](_0xc4b84(0xa7));});a78_0xea196a();function a78_0x2d7f(_0x51d56a,_0x577cc2){const _0x2dc058=a78_0x3ee7();return a78_0x2d7f=function(_0xea196a,_0x5cfbf8){_0xea196a=_0xea196a-0x67;let _0x3ee703=_0x2dc058[_0xea196a];return _0x3ee703;},a78_0x2d7f(_0x51d56a,_0x577cc2);}'use strict';var __createBinding=this&&this[a78_0x2601fa(0xa8)]||(Object[a78_0x2601fa(0x79)]?function(_0xf29780,_0x9c90e6,_0x315d2a,_0x29ed44){if(_0x29ed44===undefined)_0x29ed44=_0x315d2a;Object['defineProperty'](_0xf29780,_0x29ed44,{'enumerable':!![],'get':function(){return _0x9c90e6[_0x315d2a];}});}:function(_0x16a882,_0x5396be,_0x572a7d,_0x47f143){if(_0x47f143===undefined)_0x47f143=_0x572a7d;_0x16a882[_0x47f143]=_0x5396be[_0x572a7d];}),__setModuleDefault=this&&this[a78_0x2601fa(0x7a)]||(Object['create']?function(_0xdc661a,_0xb2ce01){const _0x474c5e=a78_0x2601fa;Object[_0x474c5e(0x7d)](_0xdc661a,_0x474c5e(0xaa),{'enumerable':!![],'value':_0xb2ce01});}:function(_0x2139c0,_0x4897dd){const _0x733c6f=a78_0x2601fa;_0x2139c0[_0x733c6f(0xaa)]=_0x4897dd;}),__importStar=this&&this['__importStar']||function(_0x48ccd7){const _0x28ea73=a78_0x2601fa;if(_0x48ccd7&&_0x48ccd7[_0x28ea73(0x8f)])return _0x48ccd7;var _0x49e8c9={};if(_0x48ccd7!=null){for(var _0x40bd34 in _0x48ccd7)if(_0x40bd34!==_0x28ea73(0xaa)&&Object[_0x28ea73(0x90)][_0x28ea73(0x8b)][_0x28ea73(0x80)](_0x48ccd7,_0x40bd34))__createBinding(_0x49e8c9,_0x48ccd7,_0x40bd34);}return __setModuleDefault(_0x49e8c9,_0x48ccd7),_0x49e8c9;},__importDefault=this&&this[a78_0x2601fa(0x8d)]||function(_0x45ee27){return _0x45ee27&&_0x45ee27['__esModule']?_0x45ee27:{'default':_0x45ee27};};Object[a78_0x2601fa(0x7d)](exports,a78_0x2601fa(0x8f),{'value':!![]}),exports[a78_0x2601fa(0x9d)]=void 0x0;const path_1=__importStar(require(a78_0x2601fa(0x82))),core_1=require('../../../../core'),fs_internal_1=require(a78_0x2601fa(0xab)),shell_internal_1=require(a78_0x2601fa(0x6c)),mdapi_1=require(a78_0x2601fa(0x99)),mdapi_2=require(a78_0x2601fa(0x99)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),shortid_1=__importDefault(require(a78_0x2601fa(0x97))),constants_1=require('../constants'),constants_2=require('../../../../constants'),logger=new core_1['Logger'](a78_0x2601fa(0x95));class MDApiUtils{constructor(){const _0x47a03a=a78_0x2601fa;this[_0x47a03a(0x87)]=shortid_1[_0x47a03a(0xaa)]();}get['fullDirName'](){const _0x543e3e=a78_0x2601fa;return''+this[_0x543e3e(0x87)];}get['dir'](){const _0x5abbd0=a78_0x2601fa;return path_1[_0x5abbd0(0xaa)][_0x5abbd0(0x7f)](process[_0x5abbd0(0x6f)](),_0x5abbd0(0x78),_0x5abbd0(0x7e),this[_0x5abbd0(0x73)]);}async['prepareMdapi'](_0x3f3f5a){const _0x3c0517=a78_0x2601fa;if(await sfdx_utils_1[_0x3c0517(0x85)][_0x3c0517(0xa5)](_0x3f3f5a)){const _0x461de7=path_1['join'](_0x3f3f5a,'..','..','sfdx');try{logger[_0x3c0517(0x96)](_0x3c0517(0x83)),await fs_internal_1['FS'][_0x3c0517(0x70)](path_1[_0x3c0517(0x7f)](_0x461de7,this['fullDirName'])),await sfdx_utils_1[_0x3c0517(0x85)][_0x3c0517(0x67)](_0x461de7,this[_0x3c0517(0x73)]),await shell_internal_1[_0x3c0517(0xa2)][_0x3c0517(0x92)](_0x3c0517(0x8a)+_0x3f3f5a+_0x3c0517(0xa9)+path_1['join'](_0x461de7,this[_0x3c0517(0x73)])),await sfdx_utils_1[_0x3c0517(0x85)][_0x3c0517(0x72)](path_1[_0x3c0517(0x7f)](_0x461de7,this[_0x3c0517(0x73)]),this[_0x3c0517(0xa6)]);const _0x2b0366=await fs_internal_1['FS'][_0x3c0517(0x7b)](_0x3f3f5a+'/'+constants_2[_0x3c0517(0x9a)]);for(const _0x9782db of _0x2b0366){constants_1['SFDX_UNSUPPORTED_TYPES_FOLDERS'][_0x3c0517(0x6b)](_0x4ccd77=>_0x9782db['endsWith'](_0x4ccd77))&&(logger['log'](_0x3c0517(0x8e),_0x9782db),await shell_internal_1['Shell'][_0x3c0517(0x92)](_0x3c0517(0x8a)+_0x9782db+'\x20'+this[_0x3c0517(0xa6)]+'\x20'));}await fs_internal_1['FS'][_0x3c0517(0xac)](path_1[_0x3c0517(0x7f)](_0x461de7,this['fullDirName']));}catch(_0x2c1b50){await fs_internal_1['FS'][_0x3c0517(0xac)](path_1[_0x3c0517(0x7f)](_0x461de7,this[_0x3c0517(0x73)]));throw _0x2c1b50;}}else{logger[_0x3c0517(0x96)](_0x3c0517(0x84)),await fs_internal_1['FS'][_0x3c0517(0x70)](this['dir']);try{await shell_internal_1['Shell'][_0x3c0517(0x92)](_0x3c0517(0x8a)+_0x3f3f5a+_0x3c0517(0x94)+this['dir']),await fs_internal_1['FS'][_0x3c0517(0xac)](this['dir']+_0x3c0517(0x9f));}catch(_0x348bd9){}}}async[a78_0x2601fa(0x68)](_0x53fbd3){const _0x120035=a78_0x2601fa;if(!await fs_internal_1['FS'][_0x120035(0x75)](_0x53fbd3))throw new Error('[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20'+_0x53fbd3);!await fs_internal_1['FS'][_0x120035(0xa1)](''+this[_0x120035(0xa6)])&&(await fs_internal_1['FS'][_0x120035(0x93)](this[_0x120035(0xa6)]+_0x120035(0xa3)),await shell_internal_1['Shell']['exec'](_0x120035(0x8a)+this[_0x120035(0xa6)]+_0x120035(0x94)+_0x53fbd3));}async['removeDir'](){const _0x12a6b1=a78_0x2601fa;await fs_internal_1['FS'][_0x12a6b1(0xac)](this[_0x12a6b1(0xa6)]);}async[a78_0x2601fa(0x9e)](_0x3354a2,_0x571641){const _0x3cf8fb=a78_0x2601fa,_0x10ba4b=new mdapi_1[(_0x3cf8fb(0xa0))]({'components':_0x3354a2,'sourceDir':this['dir'],'skipChildErrors':_0x571641===null||_0x571641===void 0x0?void 0x0:_0x571641[_0x3cf8fb(0x86)]});await _0x10ba4b[_0x3cf8fb(0x6d)]();}async[a78_0x2601fa(0x8c)](_0x36d166){const _0x547e0f=a78_0x2601fa,_0x2a76fa=new mdapi_2[(_0x547e0f(0x71))](_0x36d166,this['dir']);await _0x2a76fa[_0x547e0f(0x6d)]();}}exports[a78_0x2601fa(0x9d)]=MDApiUtils;