const a140_0x14a384=a140_0x2d75;(function(_0x4c42a3,_0x48b53c){const _0x1e38e5=a140_0x2d75,_0x590b58=_0x4c42a3();while(!![]){try{const _0x1a717a=parseInt(_0x1e38e5(0x15e))/0x1*(parseInt(_0x1e38e5(0x15f))/0x2)+parseInt(_0x1e38e5(0x151))/0x3+-parseInt(_0x1e38e5(0x129))/0x4+-parseInt(_0x1e38e5(0x148))/0x5+parseInt(_0x1e38e5(0x13b))/0x6+parseInt(_0x1e38e5(0x143))/0x7+-parseInt(_0x1e38e5(0x12f))/0x8*(parseInt(_0x1e38e5(0x132))/0x9);if(_0x1a717a===_0x48b53c)break;else _0x590b58['push'](_0x590b58['shift']());}catch(_0x3aa255){_0x590b58['push'](_0x590b58['shift']());}}}(a140_0x2744,0x25268));const a140_0x311a48=(function(){let _0xed1ed6=!![];return function(_0x50f675,_0x579ab1){const _0x59dc4f=_0xed1ed6?function(){const _0x5e13b0=a140_0x2d75;if(_0x579ab1){const _0x4eaecb=_0x579ab1[_0x5e13b0(0x142)](_0x50f675,arguments);return _0x579ab1=null,_0x4eaecb;}}:function(){};return _0xed1ed6=![],_0x59dc4f;};}()),a140_0x2007b4=a140_0x311a48(this,function(){const _0x1a502a=a140_0x2d75;return a140_0x2007b4[_0x1a502a(0x16a)]()[_0x1a502a(0x12e)](_0x1a502a(0x154))['toString']()[_0x1a502a(0x14c)](a140_0x2007b4)[_0x1a502a(0x12e)](_0x1a502a(0x154));});a140_0x2007b4();'use strict';var __createBinding=this&&this[a140_0x14a384(0x12c)]||(Object['create']?function(_0x47ebf8,_0x12f8f6,_0x55133f,_0x451b92){const _0x214bde=a140_0x14a384;if(_0x451b92===undefined)_0x451b92=_0x55133f;var _0x529dc9=Object[_0x214bde(0x12b)](_0x12f8f6,_0x55133f);(!_0x529dc9||(_0x214bde(0x162)in _0x529dc9?!_0x12f8f6[_0x214bde(0x13a)]:_0x529dc9[_0x214bde(0x12a)]||_0x529dc9['configurable']))&&(_0x529dc9={'enumerable':!![],'get':function(){return _0x12f8f6[_0x55133f];}}),Object[_0x214bde(0x141)](_0x47ebf8,_0x451b92,_0x529dc9);}:function(_0x1668d3,_0x5ccaae,_0x562b76,_0x408c5f){if(_0x408c5f===undefined)_0x408c5f=_0x562b76;_0x1668d3[_0x408c5f]=_0x5ccaae[_0x562b76];}),__setModuleDefault=this&&this[a140_0x14a384(0x15a)]||(Object[a140_0x14a384(0x14d)]?function(_0x340f89,_0x21dfab){const _0x3c0efb=a140_0x14a384;Object['defineProperty'](_0x340f89,_0x3c0efb(0x150),{'enumerable':!![],'value':_0x21dfab});}:function(_0x24451f,_0x1b366c){const _0x111150=a140_0x14a384;_0x24451f[_0x111150(0x150)]=_0x1b366c;}),__importStar=this&&this[a140_0x14a384(0x128)]||function(_0x2c488b){const _0x21f700=a140_0x14a384;if(_0x2c488b&&_0x2c488b[_0x21f700(0x13a)])return _0x2c488b;var _0x5cc8ab={};if(_0x2c488b!=null){for(var _0x24f795 in _0x2c488b)if(_0x24f795!==_0x21f700(0x150)&&Object[_0x21f700(0x135)][_0x21f700(0x146)][_0x21f700(0x161)](_0x2c488b,_0x24f795))__createBinding(_0x5cc8ab,_0x2c488b,_0x24f795);}return __setModuleDefault(_0x5cc8ab,_0x2c488b),_0x5cc8ab;},__importDefault=this&&this[a140_0x14a384(0x165)]||function(_0x2e3cef){const _0xdf9220=a140_0x14a384;return _0x2e3cef&&_0x2e3cef[_0xdf9220(0x13a)]?_0x2e3cef:{'default':_0x2e3cef};};Object[a140_0x14a384(0x141)](exports,'__esModule',{'value':!![]}),exports['MDApiUtils']=void 0x0;const path_1=__importStar(require(a140_0x14a384(0x14a))),core_1=require(a140_0x14a384(0x13d)),fs_internal_1=require('../../internal/fs.internal'),shell_internal_1=require(a140_0x14a384(0x155)),factory_remover_1=require(a140_0x14a384(0x13f)),sfdx_utils_1=require(a140_0x14a384(0x166)),shortid_1=__importDefault(require(a140_0x14a384(0x137))),sfdx_utils_2=require('./sfdx.utils'),constants_1=require(a140_0x14a384(0x140)),factory_writer_1=require(a140_0x14a384(0x13c)),logger=new core_1[(a140_0x14a384(0x144))]('mdapi-utils');function a140_0x2d75(_0x11e5d7,_0x46232d){const _0x5a3d4e=a140_0x2744();return a140_0x2d75=function(_0x2007b4,_0x311a48){_0x2007b4=_0x2007b4-0x127;let _0x2744f2=_0x5a3d4e[_0x2007b4];return _0x2744f2;},a140_0x2d75(_0x11e5d7,_0x46232d);}function a140_0x2744(){const _0x3d3b3c=['../../salesforce/utils/sfdx.utils','[copyMdapiTo]\x20Source\x20folder\x20not\x20found\x20-\x20','removeDir','sfdx','toString','.temp','uniqueId','join','__importStar','884096ezinUu','writable','getOwnPropertyDescriptor','__createBinding','skipChildErrors','search','8Fhaoti','log','Copy\x20mdapi\x20to\x20temp\x20dir','1689219kUnjqp','FactoryRemover','exists','prototype','fullDirName','shortid','execute','Shell','__esModule','1474626jyFNGE','../../writers/factory.writer','../../../../core','FactoryWriter','../../removers/factory.remover','../../../../constants','defineProperty','apply','1908018IoVLpy','Logger','mdapi','hasOwnProperty','cp\x20-r\x20','1195305nspoxC','/force-app','path','dir','constructor','create','prepareMdapi','SFDXUtils','default','127191EhseYu','/.git','removeComponents','(((.+)+)+)+$','../../internal/shell.internal','MDApiUtils','Detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','exec','copyMdapiTo','__setModuleDefault','cwd','SFDX','/*\x20','79734KgyovR','6tauMEM','recordType','call','get','isSFDXProject','makeDir','__importDefault'];a140_0x2744=function(){return _0x3d3b3c;};return a140_0x2744();}class MDApiUtils{constructor(){const _0x26c578=a140_0x14a384;this[_0x26c578(0x16c)]=(0x0,shortid_1['default'])();}get[a140_0x14a384(0x136)](){const _0x466d78=a140_0x14a384;return''+this[_0x466d78(0x16c)];}get[a140_0x14a384(0x14b)](){const _0x1ca9f7=a140_0x14a384;return path_1[_0x1ca9f7(0x150)][_0x1ca9f7(0x127)](process[_0x1ca9f7(0x15b)](),_0x1ca9f7(0x16b),_0x1ca9f7(0x145),this[_0x1ca9f7(0x136)]);}async[a140_0x14a384(0x14e)](_0x795e93){const _0x67c8db=a140_0x14a384;if(await sfdx_utils_1['SFDX'][_0x67c8db(0x163)](_0x795e93)){const _0xd3acd8=(0x0,path_1['join'])(_0x795e93,'..','..',_0x67c8db(0x169));try{logger[_0x67c8db(0x130)](_0x67c8db(0x157)),await fs_internal_1['FS'][_0x67c8db(0x164)]((0x0,path_1['join'])(_0xd3acd8,this[_0x67c8db(0x136)])),await sfdx_utils_1[_0x67c8db(0x15c)]['createEmptyProject'](_0xd3acd8,this[_0x67c8db(0x136)]);await fs_internal_1['FS'][_0x67c8db(0x134)](_0x795e93+_0x67c8db(0x149))&&await shell_internal_1[_0x67c8db(0x139)][_0x67c8db(0x158)](_0x67c8db(0x147)+_0x795e93+'/force-app\x20'+(0x0,path_1[_0x67c8db(0x127)])(_0xd3acd8,this[_0x67c8db(0x136)]));await sfdx_utils_1[_0x67c8db(0x15c)]['sourceToMdapi']((0x0,path_1[_0x67c8db(0x127)])(_0xd3acd8,this[_0x67c8db(0x136)]),this[_0x67c8db(0x14b)]);const _0x3b53f6=new sfdx_utils_2[(_0x67c8db(0x14f))]();await _0x3b53f6['copySFDXIgnoredComponents']((0x0,path_1['join'])(_0xd3acd8,this[_0x67c8db(0x136)],constants_1['FORCE_APP_DEFAULT_DIR']),this[_0x67c8db(0x14b)]),await fs_internal_1['FS'][_0x67c8db(0x168)]((0x0,path_1[_0x67c8db(0x127)])(_0xd3acd8,this[_0x67c8db(0x136)]));}catch(_0x3ffa33){await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x67c8db(0x127)])(_0xd3acd8,this['fullDirName']));throw _0x3ffa33;}}else{logger['log'](_0x67c8db(0x131)),await fs_internal_1['FS']['makeDir'](this[_0x67c8db(0x14b)]);try{await shell_internal_1['Shell'][_0x67c8db(0x158)](_0x67c8db(0x147)+_0x795e93+_0x67c8db(0x15d)+this[_0x67c8db(0x14b)]),await fs_internal_1['FS'][_0x67c8db(0x168)](this['dir']+_0x67c8db(0x152));}catch(_0x6e0683){}}}async[a140_0x14a384(0x159)](_0x6e6a87){const _0x3484c1=a140_0x14a384;if(!await fs_internal_1['FS'][_0x3484c1(0x134)](_0x6e6a87))throw new Error(_0x3484c1(0x167)+_0x6e6a87);!await fs_internal_1['FS']['isEmptyDir'](''+this[_0x3484c1(0x14b)])&&(await fs_internal_1['FS']['removeFile'](this['dir']+'/package.xml'),await shell_internal_1[_0x3484c1(0x139)][_0x3484c1(0x158)](_0x3484c1(0x147)+this[_0x3484c1(0x14b)]+'/*\x20'+_0x6e6a87));}async[a140_0x14a384(0x168)](){const _0xab5f67=a140_0x14a384;await fs_internal_1['FS']['removeDir'](this[_0xab5f67(0x14b)]);}async['writeFlosumComponents'](_0x124715,_0x25daa5){const _0xb9d88b=a140_0x14a384,_0x299a1d=factory_writer_1[_0xb9d88b(0x13e)][_0xb9d88b(0x14d)]({'recordType':_0x25daa5[_0xb9d88b(0x160)],'sourceDir':this[_0xb9d88b(0x14b)],'skipChildErrors':_0x25daa5===null||_0x25daa5===void 0x0?void 0x0:_0x25daa5[_0xb9d88b(0x12d)],'components':_0x124715});await _0x299a1d[_0xb9d88b(0x138)]();}async[a140_0x14a384(0x153)](_0xc8cdac,_0xd02367){const _0x39e537=a140_0x14a384,_0x2d4411=factory_remover_1[_0x39e537(0x133)][_0x39e537(0x14d)]({'recordType':_0xd02367,'components':_0xc8cdac,'sourceDir':this['dir']});await _0x2d4411[_0x39e537(0x138)]();}}exports[a140_0x14a384(0x156)]=MDApiUtils;