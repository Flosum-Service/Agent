const a122_0x22906c=a122_0x321d;(function(_0x48a2a3,_0x5dfd5a){const _0x23ce80=a122_0x321d,_0x51d12a=_0x48a2a3();while(!![]){try{const _0x2d9be9=-parseInt(_0x23ce80(0x1ef))/0x1*(-parseInt(_0x23ce80(0x1c4))/0x2)+parseInt(_0x23ce80(0x1ed))/0x3+parseInt(_0x23ce80(0x1ba))/0x4*(parseInt(_0x23ce80(0x1f2))/0x5)+-parseInt(_0x23ce80(0x1f0))/0x6+parseInt(_0x23ce80(0x1ec))/0x7+parseInt(_0x23ce80(0x1c5))/0x8*(parseInt(_0x23ce80(0x1bf))/0x9)+parseInt(_0x23ce80(0x1c6))/0xa*(-parseInt(_0x23ce80(0x1e3))/0xb);if(_0x2d9be9===_0x5dfd5a)break;else _0x51d12a['push'](_0x51d12a['shift']());}catch(_0x355c59){_0x51d12a['push'](_0x51d12a['shift']());}}}(a122_0x461c,0xce040));const a122_0x25a853=(function(){let _0x17f658=!![];return function(_0x1d5862,_0x255e6d){const _0x47a93a=_0x17f658?function(){if(_0x255e6d){const _0x2c6fd2=_0x255e6d['apply'](_0x1d5862,arguments);return _0x255e6d=null,_0x2c6fd2;}}:function(){};return _0x17f658=![],_0x47a93a;};}()),a122_0x51147f=a122_0x25a853(this,function(){const _0x5c5f42=a122_0x321d;return a122_0x51147f[_0x5c5f42(0x1e0)]()[_0x5c5f42(0x1e1)](_0x5c5f42(0x1b8))[_0x5c5f42(0x1e0)]()[_0x5c5f42(0x1c3)](a122_0x51147f)[_0x5c5f42(0x1e1)](_0x5c5f42(0x1b8));});a122_0x51147f();function a122_0x321d(_0x3a227e,_0x5b29d1){const _0x2a75b9=a122_0x461c();return a122_0x321d=function(_0x51147f,_0x25a853){_0x51147f=_0x51147f-0x1af;let _0x461c01=_0x2a75b9[_0x51147f];return _0x461c01;},a122_0x321d(_0x3a227e,_0x5b29d1);}'use strict';var __createBinding=this&&this['__createBinding']||(Object[a122_0x22906c(0x1cf)]?function(_0x4589a9,_0x22d2ec,_0x461902,_0x20326f){const _0x20b34d=a122_0x22906c;if(_0x20326f===undefined)_0x20326f=_0x461902;var _0x194ccc=Object[_0x20b34d(0x1b9)](_0x22d2ec,_0x461902);(!_0x194ccc||(_0x20b34d(0x1de)in _0x194ccc?!_0x22d2ec[_0x20b34d(0x1e6)]:_0x194ccc[_0x20b34d(0x1bb)]||_0x194ccc[_0x20b34d(0x1da)]))&&(_0x194ccc={'enumerable':!![],'get':function(){return _0x22d2ec[_0x461902];}}),Object[_0x20b34d(0x1cd)](_0x4589a9,_0x20326f,_0x194ccc);}:function(_0x3d2c8a,_0x3df818,_0x21b8e0,_0x34a779){if(_0x34a779===undefined)_0x34a779=_0x21b8e0;_0x3d2c8a[_0x34a779]=_0x3df818[_0x21b8e0];}),__setModuleDefault=this&&this[a122_0x22906c(0x1df)]||(Object[a122_0x22906c(0x1cf)]?function(_0x327787,_0x49ac83){const _0x2dd080=a122_0x22906c;Object[_0x2dd080(0x1cd)](_0x327787,_0x2dd080(0x1d2),{'enumerable':!![],'value':_0x49ac83});}:function(_0x1263c0,_0x5bbcf3){const _0x4d7a44=a122_0x22906c;_0x1263c0[_0x4d7a44(0x1d2)]=_0x5bbcf3;}),__importStar=this&&this[a122_0x22906c(0x1d3)]||function(_0x2752bc){const _0x1a9be2=a122_0x22906c;if(_0x2752bc&&_0x2752bc[_0x1a9be2(0x1e6)])return _0x2752bc;var _0x146095={};if(_0x2752bc!=null){for(var _0x2b41f2 in _0x2752bc)if(_0x2b41f2!=='default'&&Object[_0x1a9be2(0x1c8)][_0x1a9be2(0x1e8)][_0x1a9be2(0x1d9)](_0x2752bc,_0x2b41f2))__createBinding(_0x146095,_0x2752bc,_0x2b41f2);}return __setModuleDefault(_0x146095,_0x2752bc),_0x146095;},__importDefault=this&&this[a122_0x22906c(0x1ce)]||function(_0x58cc61){const _0x38ac38=a122_0x22906c;return _0x58cc61&&_0x58cc61[_0x38ac38(0x1e6)]?_0x58cc61:{'default':_0x58cc61};};Object[a122_0x22906c(0x1cd)](exports,a122_0x22906c(0x1e6),{'value':!![]}),exports['MDApiUtils']=void 0x0;const path_1=__importStar(require(a122_0x22906c(0x1d7))),core_1=require(a122_0x22906c(0x1e2)),fs_internal_1=require(a122_0x22906c(0x1b7)),shell_internal_1=require('../../internal/shell.internal'),mdapi_1=require('../../parsers/mdapi'),mdapi_2=require(a122_0x22906c(0x1ea)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),shortid_1=__importDefault(require(a122_0x22906c(0x1d0))),sfdx_utils_2=require('./sfdx.utils'),constants_1=require(a122_0x22906c(0x1d6)),logger=new core_1[(a122_0x22906c(0x1be))](a122_0x22906c(0x1eb));class MDApiUtils{constructor(){const _0x2829dd=a122_0x22906c;this[_0x2829dd(0x1b0)]=(0x0,shortid_1[_0x2829dd(0x1d2)])();}get[a122_0x22906c(0x1b1)](){const _0x107948=a122_0x22906c;return''+this[_0x107948(0x1b0)];}get[a122_0x22906c(0x1b5)](){const _0x1528c3=a122_0x22906c;return path_1[_0x1528c3(0x1d2)][_0x1528c3(0x1d5)](process[_0x1528c3(0x1e5)](),_0x1528c3(0x1b3),'mdapi',this['fullDirName']);}async[a122_0x22906c(0x1b4)](_0x3352b9){const _0x3de5b8=a122_0x22906c;if(await sfdx_utils_1[_0x3de5b8(0x1c0)]['isSFDXProject'](_0x3352b9)){const _0x2de628=(0x0,path_1[_0x3de5b8(0x1d5)])(_0x3352b9,'..','..',_0x3de5b8(0x1c2));try{logger['log']('detected\x20sfdx\x20project\x20convert\x20to\x20mdapi'),await fs_internal_1['FS'][_0x3de5b8(0x1af)]((0x0,path_1[_0x3de5b8(0x1d5)])(_0x2de628,this[_0x3de5b8(0x1b1)])),await sfdx_utils_1[_0x3de5b8(0x1c0)][_0x3de5b8(0x1ca)](_0x2de628,this[_0x3de5b8(0x1b1)]);await fs_internal_1['FS'][_0x3de5b8(0x1d1)](_0x3352b9+_0x3de5b8(0x1f1))&&await shell_internal_1['Shell'][_0x3de5b8(0x1d8)](_0x3de5b8(0x1cb)+_0x3352b9+_0x3de5b8(0x1d4)+(0x0,path_1[_0x3de5b8(0x1d5)])(_0x2de628,this[_0x3de5b8(0x1b1)]));await sfdx_utils_1[_0x3de5b8(0x1c0)][_0x3de5b8(0x1b6)]((0x0,path_1['join'])(_0x2de628,this[_0x3de5b8(0x1b1)]),this[_0x3de5b8(0x1b5)]);const _0x5ee517=new sfdx_utils_2['SFDXUtils']();await _0x5ee517['copyVlocityComponents']((0x0,path_1['join'])(_0x2de628,this['fullDirName'],constants_1[_0x3de5b8(0x1ee)]),this[_0x3de5b8(0x1b5)]),await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x3de5b8(0x1d5)])(_0x2de628,this[_0x3de5b8(0x1b1)]));}catch(_0x343141){await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x3de5b8(0x1d5)])(_0x2de628,this[_0x3de5b8(0x1b1)]));throw _0x343141;}}else{logger[_0x3de5b8(0x1dc)](_0x3de5b8(0x1c9)),await fs_internal_1['FS'][_0x3de5b8(0x1af)](this['dir']);try{await shell_internal_1[_0x3de5b8(0x1dd)][_0x3de5b8(0x1d8)](_0x3de5b8(0x1cb)+_0x3352b9+'/*\x20'+this[_0x3de5b8(0x1b5)]),await fs_internal_1['FS'][_0x3de5b8(0x1e4)](this['dir']+_0x3de5b8(0x1db));}catch(_0x5f3906){}}}async[a122_0x22906c(0x1c1)](_0xaa7ded){const _0x3bd759=a122_0x22906c;if(!await fs_internal_1['FS'][_0x3bd759(0x1d1)](_0xaa7ded))throw new Error(_0x3bd759(0x1bc)+_0xaa7ded);!await fs_internal_1['FS'][_0x3bd759(0x1bd)](''+this['dir'])&&(await fs_internal_1['FS']['removeFile'](this[_0x3bd759(0x1b5)]+'/package.xml'),await shell_internal_1['Shell'][_0x3bd759(0x1d8)](_0x3bd759(0x1cb)+this[_0x3bd759(0x1b5)]+_0x3bd759(0x1e7)+_0xaa7ded));}async[a122_0x22906c(0x1e4)](){const _0x248a4b=a122_0x22906c;await fs_internal_1['FS'][_0x248a4b(0x1e4)](this[_0x248a4b(0x1b5)]);}async['writeFlosumComponents'](_0x58ce90,_0x4b6af4){const _0x4006e6=a122_0x22906c,_0x32d7da=new mdapi_1[(_0x4006e6(0x1c7))]({'components':_0x58ce90,'sourceDir':this['dir'],'skipChildErrors':_0x4b6af4===null||_0x4b6af4===void 0x0?void 0x0:_0x4b6af4[_0x4006e6(0x1e9)]});await _0x32d7da[_0x4006e6(0x1cc)]();}async['removeComponents'](_0x1b740e){const _0x28ccb1=a122_0x22906c,_0x50c231=new mdapi_2['MDApiRemover'](_0x1b740e,this[_0x28ccb1(0x1b5)]);await _0x50c231['start']();}}function a122_0x461c(){const _0x1bf459=['exists','default','__importStar','/force-app\x20','join','../../../../constants','path','exec','call','configurable','/.git','log','Shell','get','__setModuleDefault','toString','search','../../../../core','4044194osdqmH','removeDir','cwd','__esModule','/*\x20','hasOwnProperty','skipChildErrors','../../parsers/mdapi','mdapi-utils','1478099pmONoL','2885808FwknWr','FORCE_APP_DEFAULT_DIR','2174VaygBD','6182436UUbQUN','/force-app','5GwITaK','makeDir','uniqueId','fullDirName','MDApiUtils','.temp','prepareMdapi','dir','sourceToMdapi','../../internal/fs.internal','(((.+)+)+)+$','getOwnPropertyDescriptor','3703584tyjquH','writable','[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20','isEmptyDir','Logger','9CRvciJ','SFDX','copyMdapiTo','sfdx','constructor','1262EMSZRt','7816328VFaKkI','70JcgcaT','MDApiWriter','prototype','copy\x20mdapi\x20to\x20temp\x20dir','createEmptyProject','cp\x20-r\x20','start','defineProperty','__importDefault','create','shortid'];a122_0x461c=function(){return _0x1bf459;};return a122_0x461c();}exports[a122_0x22906c(0x1b2)]=MDApiUtils;