const a142_0x104ee2=a142_0x3af5;function a142_0x3934(){const _0x2caa41=['../../removers/factory.remover','/force-app\x20','writable','__importStar','../../salesforce/utils/sfdx.utils','log','removeDir','makeDir','88360OWBABc','recordType','mdapi','dir','__createBinding','MDApiUtils','join','../../internal/fs.internal','__importDefault','.temp','Copy\x20mdapi\x20to\x20temp\x20dir','uniqueId','5nQmgTT','isSFDXProject','Detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','skipChildErrors','search','__esModule','909EfpdRF','780110aXFwfs','../../internal/shell.internal','/.git','1991120kNBvkB','default','exec','shortid','execute','apply','29230990iQLIJH','create','cp\x20-r\x20','2984922ifZwly','FactoryWriter','cwd','createEmptyProject','SFDXUtils','SFDX','../../../../constants','exists','defineProperty','[copyMdapiTo]\x20Source\x20folder\x20not\x20found\x20-\x20','constructor','copySFDXIgnoredComponents','2093350ydXXDC','(((.+)+)+)+$','isEmptyDir','copyMdapiTo','102417VXSLIm','getOwnPropertyDescriptor','Shell','fullDirName','136ArMvvz','__setModuleDefault','mdapi-utils','FactoryRemover','toString','/force-app','../../../../core','removeFile','call','path','FORCE_APP_DEFAULT_DIR','/*\x20','./sfdx.utils'];a142_0x3934=function(){return _0x2caa41;};return a142_0x3934();}(function(_0x5818ab,_0x552d9d){const _0x6a26d7=a142_0x3af5,_0x3c6709=_0x5818ab();while(!![]){try{const _0x31f822=-parseInt(_0x6a26d7(0x127))/0x1+parseInt(_0x6a26d7(0x12a))/0x2+parseInt(_0x6a26d7(0x143))/0x3*(-parseInt(_0x6a26d7(0x147))/0x4)+-parseInt(_0x6a26d7(0x120))/0x5*(parseInt(_0x6a26d7(0x133))/0x6)+parseInt(_0x6a26d7(0x13f))/0x7+-parseInt(_0x6a26d7(0x15c))/0x8*(parseInt(_0x6a26d7(0x126))/0x9)+parseInt(_0x6a26d7(0x130))/0xa;if(_0x31f822===_0x552d9d)break;else _0x3c6709['push'](_0x3c6709['shift']());}catch(_0x52112f){_0x3c6709['push'](_0x3c6709['shift']());}}}(a142_0x3934,0xa2121));const a142_0xe3b6bd=(function(){let _0x3095cb=!![];return function(_0x16fbce,_0x57ab16){const _0x7f1fc6=_0x3095cb?function(){const _0x4024f0=a142_0x3af5;if(_0x57ab16){const _0x3d686c=_0x57ab16[_0x4024f0(0x12f)](_0x16fbce,arguments);return _0x57ab16=null,_0x3d686c;}}:function(){};return _0x3095cb=![],_0x7f1fc6;};}()),a142_0x118cac=a142_0xe3b6bd(this,function(){const _0x4deec8=a142_0x3af5;return a142_0x118cac[_0x4deec8(0x14b)]()['search'](_0x4deec8(0x140))[_0x4deec8(0x14b)]()[_0x4deec8(0x13d)](a142_0x118cac)[_0x4deec8(0x124)]('(((.+)+)+)+$');});a142_0x118cac();'use strict';var __createBinding=this&&this[a142_0x104ee2(0x160)]||(Object[a142_0x104ee2(0x131)]?function(_0xa6137c,_0x3097dd,_0x1c4755,_0x17e17b){const _0x38d66f=a142_0x104ee2;if(_0x17e17b===undefined)_0x17e17b=_0x1c4755;var _0x39f9ba=Object[_0x38d66f(0x144)](_0x3097dd,_0x1c4755);(!_0x39f9ba||('get'in _0x39f9ba?!_0x3097dd[_0x38d66f(0x125)]:_0x39f9ba[_0x38d66f(0x156)]||_0x39f9ba['configurable']))&&(_0x39f9ba={'enumerable':!![],'get':function(){return _0x3097dd[_0x1c4755];}}),Object[_0x38d66f(0x13b)](_0xa6137c,_0x17e17b,_0x39f9ba);}:function(_0x585ca8,_0x400749,_0x44cb69,_0x26dd1c){if(_0x26dd1c===undefined)_0x26dd1c=_0x44cb69;_0x585ca8[_0x26dd1c]=_0x400749[_0x44cb69];}),__setModuleDefault=this&&this[a142_0x104ee2(0x148)]||(Object[a142_0x104ee2(0x131)]?function(_0x5eb32b,_0x172173){const _0x37a039=a142_0x104ee2;Object[_0x37a039(0x13b)](_0x5eb32b,_0x37a039(0x12b),{'enumerable':!![],'value':_0x172173});}:function(_0x3e444f,_0x5d3e46){const _0x5269a9=a142_0x104ee2;_0x3e444f[_0x5269a9(0x12b)]=_0x5d3e46;}),__importStar=this&&this[a142_0x104ee2(0x157)]||function(_0x27fe90){const _0x276a73=a142_0x104ee2;if(_0x27fe90&&_0x27fe90['__esModule'])return _0x27fe90;var _0xc976f3={};if(_0x27fe90!=null){for(var _0x5b086f in _0x27fe90)if(_0x5b086f!==_0x276a73(0x12b)&&Object['prototype']['hasOwnProperty'][_0x276a73(0x14f)](_0x27fe90,_0x5b086f))__createBinding(_0xc976f3,_0x27fe90,_0x5b086f);}return __setModuleDefault(_0xc976f3,_0x27fe90),_0xc976f3;},__importDefault=this&&this[a142_0x104ee2(0x11c)]||function(_0xbbdc96){return _0xbbdc96&&_0xbbdc96['__esModule']?_0xbbdc96:{'default':_0xbbdc96};};function a142_0x3af5(_0x3cdb79,_0xd815d7){const _0x24da05=a142_0x3934();return a142_0x3af5=function(_0x118cac,_0xe3b6bd){_0x118cac=_0x118cac-0x119;let _0x3934e8=_0x24da05[_0x118cac];return _0x3934e8;},a142_0x3af5(_0x3cdb79,_0xd815d7);}Object['defineProperty'](exports,a142_0x104ee2(0x125),{'value':!![]}),exports['MDApiUtils']=void 0x0;const path_1=__importStar(require(a142_0x104ee2(0x150))),core_1=require(a142_0x104ee2(0x14d)),fs_internal_1=require(a142_0x104ee2(0x11b)),shell_internal_1=require(a142_0x104ee2(0x128)),factory_remover_1=require(a142_0x104ee2(0x154)),sfdx_utils_1=require(a142_0x104ee2(0x158)),shortid_1=__importDefault(require(a142_0x104ee2(0x12d))),sfdx_utils_2=require(a142_0x104ee2(0x153)),constants_1=require(a142_0x104ee2(0x139)),factory_writer_1=require('../../writers/factory.writer'),logger=new core_1['Logger'](a142_0x104ee2(0x149));class MDApiUtils{constructor(){const _0x2e3248=a142_0x104ee2;this[_0x2e3248(0x11f)]=(0x0,shortid_1['default'])();}get[a142_0x104ee2(0x146)](){const _0x5af33f=a142_0x104ee2;return''+this[_0x5af33f(0x11f)];}get[a142_0x104ee2(0x15f)](){const _0x572b8e=a142_0x104ee2;return path_1[_0x572b8e(0x12b)][_0x572b8e(0x11a)](process[_0x572b8e(0x135)](),_0x572b8e(0x11d),_0x572b8e(0x15e),this[_0x572b8e(0x146)]);}async['prepareMdapi'](_0xc45e38){const _0x26410b=a142_0x104ee2;if(await sfdx_utils_1[_0x26410b(0x138)][_0x26410b(0x121)](_0xc45e38)){const _0x433542=(0x0,path_1[_0x26410b(0x11a)])(_0xc45e38,'..','..','sfdx');try{logger[_0x26410b(0x159)](_0x26410b(0x122)),await fs_internal_1['FS']['makeDir']((0x0,path_1[_0x26410b(0x11a)])(_0x433542,this[_0x26410b(0x146)])),await sfdx_utils_1[_0x26410b(0x138)][_0x26410b(0x136)](_0x433542,this[_0x26410b(0x146)]);await fs_internal_1['FS'][_0x26410b(0x13a)](_0xc45e38+_0x26410b(0x14c))&&await shell_internal_1[_0x26410b(0x145)][_0x26410b(0x12c)]('cp\x20-r\x20'+_0xc45e38+_0x26410b(0x155)+(0x0,path_1['join'])(_0x433542,this['fullDirName']));await sfdx_utils_1[_0x26410b(0x138)]['sourceToMdapi']((0x0,path_1[_0x26410b(0x11a)])(_0x433542,this[_0x26410b(0x146)]),this[_0x26410b(0x15f)]);const _0x474a12=new sfdx_utils_2[(_0x26410b(0x137))]();await _0x474a12[_0x26410b(0x13e)]((0x0,path_1[_0x26410b(0x11a)])(_0x433542,this[_0x26410b(0x146)],constants_1[_0x26410b(0x151)]),this[_0x26410b(0x15f)]),await fs_internal_1['FS'][_0x26410b(0x15a)]((0x0,path_1[_0x26410b(0x11a)])(_0x433542,this[_0x26410b(0x146)]));}catch(_0x377e94){await fs_internal_1['FS'][_0x26410b(0x15a)]((0x0,path_1[_0x26410b(0x11a)])(_0x433542,this[_0x26410b(0x146)]));throw _0x377e94;}}else{logger[_0x26410b(0x159)](_0x26410b(0x11e)),await fs_internal_1['FS'][_0x26410b(0x15b)](this[_0x26410b(0x15f)]);try{await shell_internal_1[_0x26410b(0x145)][_0x26410b(0x12c)](_0x26410b(0x132)+_0xc45e38+'/*\x20'+this[_0x26410b(0x15f)]),await fs_internal_1['FS']['removeDir'](this[_0x26410b(0x15f)]+_0x26410b(0x129));}catch(_0x1894b1){}}}async[a142_0x104ee2(0x142)](_0x4ac218){const _0x11f3ab=a142_0x104ee2;if(!await fs_internal_1['FS'][_0x11f3ab(0x13a)](_0x4ac218))throw new Error(_0x11f3ab(0x13c)+_0x4ac218);!await fs_internal_1['FS'][_0x11f3ab(0x141)](''+this[_0x11f3ab(0x15f)])&&(await fs_internal_1['FS'][_0x11f3ab(0x14e)](this['dir']+'/package.xml'),await shell_internal_1[_0x11f3ab(0x145)][_0x11f3ab(0x12c)](_0x11f3ab(0x132)+this['dir']+_0x11f3ab(0x152)+_0x4ac218));}async['removeDir'](){const _0x404673=a142_0x104ee2;await fs_internal_1['FS'][_0x404673(0x15a)](this[_0x404673(0x15f)]);}async['writeFlosumComponents'](_0xfb28db,_0x4d5f97){const _0x5b967b=a142_0x104ee2,_0xba7037=factory_writer_1[_0x5b967b(0x134)]['create']({'recordType':_0x4d5f97[_0x5b967b(0x15d)],'sourceDir':this[_0x5b967b(0x15f)],'skipChildErrors':_0x4d5f97===null||_0x4d5f97===void 0x0?void 0x0:_0x4d5f97[_0x5b967b(0x123)],'components':_0xfb28db});await _0xba7037[_0x5b967b(0x12e)]();}async['removeComponents'](_0x5a2d57,_0x15d394){const _0x398cc9=a142_0x104ee2,_0x2fd1cf=factory_remover_1[_0x398cc9(0x14a)]['create']({'recordType':_0x15d394,'components':_0x5a2d57,'sourceDir':this[_0x398cc9(0x15f)]});await _0x2fd1cf[_0x398cc9(0x12e)]();}}exports[a142_0x104ee2(0x119)]=MDApiUtils;