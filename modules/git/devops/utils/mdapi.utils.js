const a140_0x516429=a140_0x4451;(function(_0x2a3615,_0x164efc){const _0x18b304=a140_0x4451,_0xe1c641=_0x2a3615();while(!![]){try{const _0x16882c=parseInt(_0x18b304(0x1d5))/0x1*(parseInt(_0x18b304(0x1a4))/0x2)+-parseInt(_0x18b304(0x1a1))/0x3*(-parseInt(_0x18b304(0x199))/0x4)+parseInt(_0x18b304(0x1c1))/0x5+-parseInt(_0x18b304(0x1aa))/0x6*(parseInt(_0x18b304(0x1b6))/0x7)+parseInt(_0x18b304(0x1a9))/0x8*(parseInt(_0x18b304(0x1ba))/0x9)+parseInt(_0x18b304(0x19d))/0xa*(parseInt(_0x18b304(0x1cf))/0xb)+-parseInt(_0x18b304(0x1a2))/0xc;if(_0x16882c===_0x164efc)break;else _0xe1c641['push'](_0xe1c641['shift']());}catch(_0x23ffac){_0xe1c641['push'](_0xe1c641['shift']());}}}(a140_0x5c6f,0x2fb6e));const a140_0x58ad9d=(function(){let _0x2f54c0=!![];return function(_0x50af1a,_0x79c1fa){const _0xe6e394=_0x2f54c0?function(){if(_0x79c1fa){const _0x134d04=_0x79c1fa['apply'](_0x50af1a,arguments);return _0x79c1fa=null,_0x134d04;}}:function(){};return _0x2f54c0=![],_0xe6e394;};}()),a140_0x39ea65=a140_0x58ad9d(this,function(){const _0x4f0312=a140_0x4451;return a140_0x39ea65[_0x4f0312(0x1cd)]()[_0x4f0312(0x1a3)](_0x4f0312(0x1d4))['toString']()[_0x4f0312(0x1ae)](a140_0x39ea65)[_0x4f0312(0x1a3)](_0x4f0312(0x1d4));});a140_0x39ea65();'use strict';var __createBinding=this&&this[a140_0x516429(0x1ab)]||(Object[a140_0x516429(0x1bc)]?function(_0x182691,_0x2fc5fc,_0xe508ac,_0x15bf11){const _0x3f65dc=a140_0x516429;if(_0x15bf11===undefined)_0x15bf11=_0xe508ac;var _0x3f7f5c=Object[_0x3f65dc(0x195)](_0x2fc5fc,_0xe508ac);(!_0x3f7f5c||(_0x3f65dc(0x1a5)in _0x3f7f5c?!_0x2fc5fc[_0x3f65dc(0x1b2)]:_0x3f7f5c[_0x3f65dc(0x1c2)]||_0x3f7f5c[_0x3f65dc(0x1a6)]))&&(_0x3f7f5c={'enumerable':!![],'get':function(){return _0x2fc5fc[_0xe508ac];}}),Object[_0x3f65dc(0x19c)](_0x182691,_0x15bf11,_0x3f7f5c);}:function(_0x487776,_0x518217,_0x11ddaa,_0x52244d){if(_0x52244d===undefined)_0x52244d=_0x11ddaa;_0x487776[_0x52244d]=_0x518217[_0x11ddaa];}),__setModuleDefault=this&&this[a140_0x516429(0x1cb)]||(Object[a140_0x516429(0x1bc)]?function(_0xa2461f,_0x3a2ef6){const _0x425414=a140_0x516429;Object[_0x425414(0x19c)](_0xa2461f,_0x425414(0x1d1),{'enumerable':!![],'value':_0x3a2ef6});}:function(_0x309283,_0x1a59c0){_0x309283['default']=_0x1a59c0;}),__importStar=this&&this['__importStar']||function(_0x1c61c3){const _0x6290cf=a140_0x516429;if(_0x1c61c3&&_0x1c61c3[_0x6290cf(0x1b2)])return _0x1c61c3;var _0x1e701e={};if(_0x1c61c3!=null){for(var _0x32ac05 in _0x1c61c3)if(_0x32ac05!==_0x6290cf(0x1d1)&&Object['prototype'][_0x6290cf(0x1a8)][_0x6290cf(0x1c3)](_0x1c61c3,_0x32ac05))__createBinding(_0x1e701e,_0x1c61c3,_0x32ac05);}return __setModuleDefault(_0x1e701e,_0x1c61c3),_0x1e701e;},__importDefault=this&&this[a140_0x516429(0x1a7)]||function(_0x345447){const _0x24fdbf=a140_0x516429;return _0x345447&&_0x345447[_0x24fdbf(0x1b2)]?_0x345447:{'default':_0x345447};};function a140_0x4451(_0x2797e5,_0x4059da){const _0x229523=a140_0x5c6f();return a140_0x4451=function(_0x39ea65,_0x58ad9d){_0x39ea65=_0x39ea65-0x192;let _0x5c6f9e=_0x229523[_0x39ea65];return _0x5c6f9e;},a140_0x4451(_0x2797e5,_0x4059da);}Object[a140_0x516429(0x19c)](exports,a140_0x516429(0x1b2),{'value':!![]}),exports[a140_0x516429(0x1c9)]=void 0x0;const path_1=__importStar(require(a140_0x516429(0x1b4))),core_1=require('../../../../core'),fs_internal_1=require(a140_0x516429(0x197)),shell_internal_1=require(a140_0x516429(0x1b3)),factory_remover_1=require(a140_0x516429(0x1d0)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),shortid_1=__importDefault(require('shortid')),sfdx_utils_2=require('./sfdx.utils'),constants_1=require(a140_0x516429(0x19b)),factory_writer_1=require('../../writers/factory.writer'),logger=new core_1[(a140_0x516429(0x1c6))]('mdapi-utils');class MDApiUtils{constructor(){const _0x26f042=a140_0x516429;this[_0x26f042(0x1ca)]=(0x0,shortid_1['default'])();}get[a140_0x516429(0x1ac)](){return''+this['uniqueId'];}get['dir'](){const _0xed7883=a140_0x516429;return path_1[_0xed7883(0x1d1)][_0xed7883(0x1bb)](process['cwd'](),_0xed7883(0x1b9),_0xed7883(0x194),this[_0xed7883(0x1ac)]);}async['prepareMdapi'](_0x5aca4){const _0x2c9dda=a140_0x516429;if(await sfdx_utils_1[_0x2c9dda(0x19f)][_0x2c9dda(0x1af)](_0x5aca4)){const _0xa8bbcc=(0x0,path_1[_0x2c9dda(0x1bb)])(_0x5aca4,'..','..',_0x2c9dda(0x1b8));try{logger['log'](_0x2c9dda(0x1c4)),await fs_internal_1['FS']['makeDir']((0x0,path_1['join'])(_0xa8bbcc,this[_0x2c9dda(0x1ac)])),await sfdx_utils_1[_0x2c9dda(0x19f)][_0x2c9dda(0x196)](_0xa8bbcc,this[_0x2c9dda(0x1ac)]);await fs_internal_1['FS'][_0x2c9dda(0x1c0)](_0x5aca4+_0x2c9dda(0x19e))&&await shell_internal_1[_0x2c9dda(0x1c8)][_0x2c9dda(0x193)](_0x2c9dda(0x1b5)+_0x5aca4+_0x2c9dda(0x1d2)+(0x0,path_1[_0x2c9dda(0x1bb)])(_0xa8bbcc,this[_0x2c9dda(0x1ac)]));await sfdx_utils_1[_0x2c9dda(0x19f)][_0x2c9dda(0x1a0)]((0x0,path_1[_0x2c9dda(0x1bb)])(_0xa8bbcc,this[_0x2c9dda(0x1ac)]),this['dir']);const _0x411841=new sfdx_utils_2['SFDXUtils']();await _0x411841['copySFDXIgnoredComponents']((0x0,path_1[_0x2c9dda(0x1bb)])(_0xa8bbcc,this[_0x2c9dda(0x1ac)],constants_1['FORCE_APP_DEFAULT_DIR']),this['dir']),await fs_internal_1['FS']['removeDir']((0x0,path_1['join'])(_0xa8bbcc,this['fullDirName']));}catch(_0x968f49){await fs_internal_1['FS'][_0x2c9dda(0x1b7)]((0x0,path_1['join'])(_0xa8bbcc,this[_0x2c9dda(0x1ac)]));throw _0x968f49;}}else{logger[_0x2c9dda(0x1c5)]('Copy\x20mdapi\x20to\x20temp\x20dir'),await fs_internal_1['FS'][_0x2c9dda(0x1cc)](this[_0x2c9dda(0x19a)]);try{await shell_internal_1['Shell'][_0x2c9dda(0x193)](_0x2c9dda(0x1b5)+_0x5aca4+'/*\x20'+this[_0x2c9dda(0x19a)]),await fs_internal_1['FS']['removeDir'](this[_0x2c9dda(0x19a)]+_0x2c9dda(0x1bf));}catch(_0x584580){}}}async['copyMdapiTo'](_0x1ddb4c){const _0x4d3f42=a140_0x516429;if(!await fs_internal_1['FS'][_0x4d3f42(0x1c0)](_0x1ddb4c))throw new Error(_0x4d3f42(0x1be)+_0x1ddb4c);!await fs_internal_1['FS'][_0x4d3f42(0x1ad)](''+this[_0x4d3f42(0x19a)])&&(await fs_internal_1['FS'][_0x4d3f42(0x192)](this[_0x4d3f42(0x19a)]+_0x4d3f42(0x1c7)),await shell_internal_1[_0x4d3f42(0x1c8)][_0x4d3f42(0x193)](_0x4d3f42(0x1b5)+this[_0x4d3f42(0x19a)]+'/*\x20'+_0x1ddb4c));}async['removeDir'](){const _0x3de626=a140_0x516429;await fs_internal_1['FS']['removeDir'](this[_0x3de626(0x19a)]);}async[a140_0x516429(0x198)](_0x51c521,_0x2f62a7){const _0xcb293=a140_0x516429,_0x5c5af6=factory_writer_1[_0xcb293(0x1d3)][_0xcb293(0x1bc)]({'recordType':_0x2f62a7['recordType'],'sourceDir':this[_0xcb293(0x19a)],'skipChildErrors':_0x2f62a7===null||_0x2f62a7===void 0x0?void 0x0:_0x2f62a7[_0xcb293(0x1b1)],'components':_0x51c521});await _0x5c5af6[_0xcb293(0x1ce)]();}async[a140_0x516429(0x1bd)](_0x3ca307,_0x1c897f){const _0x2ba088=a140_0x516429,_0x2d1c9a=factory_remover_1[_0x2ba088(0x1b0)]['create']({'recordType':_0x1c897f,'components':_0x3ca307,'sourceDir':this[_0x2ba088(0x19a)]});await _0x2d1c9a['execute']();}}function a140_0x5c6f(){const _0x1b9460=['toString','execute','2877523VJrRHH','../../removers/factory.remover','default','/force-app\x20','FactoryWriter','(((.+)+)+)+$','157151oDecqL','removeFile','exec','mdapi','getOwnPropertyDescriptor','createEmptyProject','../../internal/fs.internal','writeFlosumComponents','118540YIzfFM','dir','../../../../constants','defineProperty','10wlSDkL','/force-app','SFDX','sourceToMdapi','6zCUXJq','5866548uiCmLx','search','4EIDUkg','get','configurable','__importDefault','hasOwnProperty','6296zfOwZb','4134ANaDnf','__createBinding','fullDirName','isEmptyDir','constructor','isSFDXProject','FactoryRemover','skipChildErrors','__esModule','../../internal/shell.internal','path','cp\x20-r\x20','2723DJAwRb','removeDir','sfdx','.temp','3267zjrPaa','join','create','removeComponents','[copyMdapiTo]\x20Source\x20folder\x20not\x20found\x20-\x20','/.git','exists','157460kaNbxM','writable','call','Detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','log','Logger','/package.xml','Shell','MDApiUtils','uniqueId','__setModuleDefault','makeDir'];a140_0x5c6f=function(){return _0x1b9460;};return a140_0x5c6f();}exports[a140_0x516429(0x1c9)]=MDApiUtils;