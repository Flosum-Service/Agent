const a122_0x5cbdda=a122_0x1b21;(function(_0x2e687b,_0x17c7ca){const _0x205652=a122_0x1b21,_0x30095f=_0x2e687b();while(!![]){try{const _0x3b6d39=parseInt(_0x205652(0x1e0))/0x1*(parseInt(_0x205652(0x1ad))/0x2)+-parseInt(_0x205652(0x1ec))/0x3+-parseInt(_0x205652(0x1d7))/0x4+-parseInt(_0x205652(0x1c1))/0x5+-parseInt(_0x205652(0x1cc))/0x6+-parseInt(_0x205652(0x1bc))/0x7+parseInt(_0x205652(0x1dd))/0x8*(parseInt(_0x205652(0x1aa))/0x9);if(_0x3b6d39===_0x17c7ca)break;else _0x30095f['push'](_0x30095f['shift']());}catch(_0x12e56c){_0x30095f['push'](_0x30095f['shift']());}}}(a122_0x13e8,0x5e7cd));const a122_0xbf4ff8=(function(){let _0x5792d3=!![];return function(_0x9a2a2a,_0x39aca5){const _0x295019=_0x5792d3?function(){const _0x3ef529=a122_0x1b21;if(_0x39aca5){const _0x3be663=_0x39aca5[_0x3ef529(0x1e6)](_0x9a2a2a,arguments);return _0x39aca5=null,_0x3be663;}}:function(){};return _0x5792d3=![],_0x295019;};}()),a122_0x37be35=a122_0xbf4ff8(this,function(){const _0x381936=a122_0x1b21;return a122_0x37be35[_0x381936(0x1e4)]()[_0x381936(0x1c9)](_0x381936(0x1e2))[_0x381936(0x1e4)]()['constructor'](a122_0x37be35)[_0x381936(0x1c9)](_0x381936(0x1e2));});a122_0x37be35();'use strict';var __createBinding=this&&this[a122_0x5cbdda(0x1e1)]||(Object['create']?function(_0x37d5d8,_0x1334bb,_0x45061e,_0x2b69fe){const _0x316855=a122_0x5cbdda;if(_0x2b69fe===undefined)_0x2b69fe=_0x45061e;var _0x38ffac=Object[_0x316855(0x1a9)](_0x1334bb,_0x45061e);(!_0x38ffac||(_0x316855(0x1c3)in _0x38ffac?!_0x1334bb['__esModule']:_0x38ffac['writable']||_0x38ffac[_0x316855(0x1cf)]))&&(_0x38ffac={'enumerable':!![],'get':function(){return _0x1334bb[_0x45061e];}}),Object[_0x316855(0x1c8)](_0x37d5d8,_0x2b69fe,_0x38ffac);}:function(_0x4d5a68,_0x2a3793,_0x2b3b0a,_0x3027b3){if(_0x3027b3===undefined)_0x3027b3=_0x2b3b0a;_0x4d5a68[_0x3027b3]=_0x2a3793[_0x2b3b0a];}),__setModuleDefault=this&&this[a122_0x5cbdda(0x1e5)]||(Object[a122_0x5cbdda(0x1e3)]?function(_0x5ba2dd,_0x45f534){const _0x224e4a=a122_0x5cbdda;Object[_0x224e4a(0x1c8)](_0x5ba2dd,_0x224e4a(0x1dc),{'enumerable':!![],'value':_0x45f534});}:function(_0x3d12e7,_0x577773){_0x3d12e7['default']=_0x577773;}),__importStar=this&&this['__importStar']||function(_0x21716a){const _0x1fbf0d=a122_0x5cbdda;if(_0x21716a&&_0x21716a[_0x1fbf0d(0x1ea)])return _0x21716a;var _0x53f475={};if(_0x21716a!=null){for(var _0x258969 in _0x21716a)if(_0x258969!==_0x1fbf0d(0x1dc)&&Object['prototype'][_0x1fbf0d(0x1d0)][_0x1fbf0d(0x1b3)](_0x21716a,_0x258969))__createBinding(_0x53f475,_0x21716a,_0x258969);}return __setModuleDefault(_0x53f475,_0x21716a),_0x53f475;},__importDefault=this&&this['__importDefault']||function(_0x4f6c72){const _0x5b9ee6=a122_0x5cbdda;return _0x4f6c72&&_0x4f6c72[_0x5b9ee6(0x1ea)]?_0x4f6c72:{'default':_0x4f6c72};};Object[a122_0x5cbdda(0x1c8)](exports,a122_0x5cbdda(0x1ea),{'value':!![]}),exports[a122_0x5cbdda(0x1b9)]=void 0x0;function a122_0x13e8(){const _0x104fbc=['Shell','getOwnPropertyDescriptor','15681375mEMgZi','isSFDXProject','.temp','6qhAdOM','removeDir','sfdx','FORCE_APP_DEFAULT_DIR','removeFile','skipChildErrors','call','../../internal/shell.internal','cp\x20-r\x20','./sfdx.utils','prepareMdapi','SFDXUtils','MDApiUtils','fullDirName','copyMdapiTo','2698990QMeTZX','log','dir','../../../../constants','/*\x20','695165MYzZWJ','/package.xml','get','start','uniqueId','removeComponents','writeFlosumComponents','defineProperty','search','../../../../core','copy\x20mdapi\x20to\x20temp\x20dir','387408Nkqtyk','exec','mdapi-utils','configurable','hasOwnProperty','isEmptyDir','makeDir','../../salesforce/utils/sfdx.utils','shortid','mdapi','Logger','1998852VTcpIi','[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20','exists','../../internal/fs.internal','join','default','8LXwghN','sourceToMdapi','SFDX','149404LBUTGT','__createBinding','(((.+)+)+)+$','create','toString','__setModuleDefault','apply','copyVlocityComponents','createEmptyProject','/force-app','__esModule','../../parsers/mdapi','2144046cnoJXd'];a122_0x13e8=function(){return _0x104fbc;};return a122_0x13e8();}const path_1=__importStar(require('path')),core_1=require(a122_0x5cbdda(0x1ca)),fs_internal_1=require(a122_0x5cbdda(0x1da)),shell_internal_1=require(a122_0x5cbdda(0x1b4)),mdapi_1=require(a122_0x5cbdda(0x1eb)),mdapi_2=require(a122_0x5cbdda(0x1eb)),sfdx_utils_1=require(a122_0x5cbdda(0x1d3)),shortid_1=__importDefault(require(a122_0x5cbdda(0x1d4))),sfdx_utils_2=require(a122_0x5cbdda(0x1b6)),constants_1=require(a122_0x5cbdda(0x1bf)),logger=new core_1[(a122_0x5cbdda(0x1d6))](a122_0x5cbdda(0x1ce));function a122_0x1b21(_0x1aef8b,_0x43d552){const _0x49e769=a122_0x13e8();return a122_0x1b21=function(_0x37be35,_0xbf4ff8){_0x37be35=_0x37be35-0x1a9;let _0x13e886=_0x49e769[_0x37be35];return _0x13e886;},a122_0x1b21(_0x1aef8b,_0x43d552);}class MDApiUtils{constructor(){const _0x44fe5f=a122_0x5cbdda;this[_0x44fe5f(0x1c5)]=(0x0,shortid_1[_0x44fe5f(0x1dc)])();}get[a122_0x5cbdda(0x1ba)](){const _0x497297=a122_0x5cbdda;return''+this[_0x497297(0x1c5)];}get[a122_0x5cbdda(0x1be)](){const _0x45f7d8=a122_0x5cbdda;return path_1[_0x45f7d8(0x1dc)][_0x45f7d8(0x1db)](process['cwd'](),_0x45f7d8(0x1ac),_0x45f7d8(0x1d5),this['fullDirName']);}async[a122_0x5cbdda(0x1b7)](_0x412bc9){const _0x11430d=a122_0x5cbdda;if(await sfdx_utils_1[_0x11430d(0x1df)][_0x11430d(0x1ab)](_0x412bc9)){const _0xa16cd4=(0x0,path_1['join'])(_0x412bc9,'..','..',_0x11430d(0x1af));try{logger[_0x11430d(0x1bd)]('detected\x20sfdx\x20project\x20convert\x20to\x20mdapi'),await fs_internal_1['FS'][_0x11430d(0x1d2)]((0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this['fullDirName'])),await sfdx_utils_1[_0x11430d(0x1df)][_0x11430d(0x1e8)](_0xa16cd4,this['fullDirName']);await fs_internal_1['FS'][_0x11430d(0x1d9)](_0x412bc9+_0x11430d(0x1e9))&&await shell_internal_1[_0x11430d(0x1ed)][_0x11430d(0x1cd)](_0x11430d(0x1b5)+_0x412bc9+'/force-app\x20'+(0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this[_0x11430d(0x1ba)]));await sfdx_utils_1['SFDX'][_0x11430d(0x1de)]((0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this[_0x11430d(0x1ba)]),this[_0x11430d(0x1be)]);const _0x3b30ce=new sfdx_utils_2[(_0x11430d(0x1b8))]();await _0x3b30ce[_0x11430d(0x1e7)]((0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this[_0x11430d(0x1ba)],constants_1[_0x11430d(0x1b0)]),this[_0x11430d(0x1be)]),await fs_internal_1['FS'][_0x11430d(0x1ae)]((0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this['fullDirName']));}catch(_0x348c63){await fs_internal_1['FS'][_0x11430d(0x1ae)]((0x0,path_1[_0x11430d(0x1db)])(_0xa16cd4,this[_0x11430d(0x1ba)]));throw _0x348c63;}}else{logger[_0x11430d(0x1bd)](_0x11430d(0x1cb)),await fs_internal_1['FS'][_0x11430d(0x1d2)](this[_0x11430d(0x1be)]);try{await shell_internal_1[_0x11430d(0x1ed)][_0x11430d(0x1cd)](_0x11430d(0x1b5)+_0x412bc9+'/*\x20'+this[_0x11430d(0x1be)]),await fs_internal_1['FS'][_0x11430d(0x1ae)](this['dir']+'/.git');}catch(_0xae1736){}}}async[a122_0x5cbdda(0x1bb)](_0x3c0565){const _0x24f544=a122_0x5cbdda;if(!await fs_internal_1['FS']['exists'](_0x3c0565))throw new Error(_0x24f544(0x1d8)+_0x3c0565);!await fs_internal_1['FS'][_0x24f544(0x1d1)](''+this['dir'])&&(await fs_internal_1['FS'][_0x24f544(0x1b1)](this[_0x24f544(0x1be)]+_0x24f544(0x1c2)),await shell_internal_1[_0x24f544(0x1ed)][_0x24f544(0x1cd)]('cp\x20-r\x20'+this[_0x24f544(0x1be)]+_0x24f544(0x1c0)+_0x3c0565));}async['removeDir'](){const _0x32a6de=a122_0x5cbdda;await fs_internal_1['FS'][_0x32a6de(0x1ae)](this[_0x32a6de(0x1be)]);}async[a122_0x5cbdda(0x1c7)](_0x52be82,_0x26e1f4){const _0x219c55=a122_0x5cbdda,_0x29a087=new mdapi_1['MDApiWriter']({'components':_0x52be82,'sourceDir':this['dir'],'skipChildErrors':_0x26e1f4===null||_0x26e1f4===void 0x0?void 0x0:_0x26e1f4[_0x219c55(0x1b2)]});await _0x29a087['start']();}async[a122_0x5cbdda(0x1c6)](_0x4c9cf8){const _0xd06646=a122_0x5cbdda,_0x2829f0=new mdapi_2['MDApiRemover'](_0x4c9cf8,this['dir']);await _0x2829f0[_0xd06646(0x1c4)]();}}exports['MDApiUtils']=MDApiUtils;