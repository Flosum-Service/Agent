const a122_0x5c3511=a122_0x4cff;function a122_0x543b(){const _0xac8170=['copyVlocityComponents','2964696oiwzML','2914TmilJv','/*\x20','sourceToMdapi','exec','shortid','makeDir','__importStar','configurable','MDApiRemover','579831fheZPy','writable','call','prototype','Shell','__setModuleDefault','log','SFDX','copy\x20mdapi\x20to\x20temp\x20dir','defineProperty','dir','2509472LNXUnN','skipChildErrors','exists','18354924lSfFeh','FORCE_APP_DEFAULT_DIR','(((.+)+)+)+$','cp\x20-r\x20','default','prepareMdapi','toString','../../../../core','mdapi','../../salesforce/utils/sfdx.utils','../../parsers/mdapi','6ifcicw','search','MDApiUtils','4785065SaNecG','writeFlosumComponents','get','Logger','/force-app\x20','__esModule','2792584oBbRyL','../../internal/shell.internal','create','start','/force-app','/.git','fullDirName','uniqueId','__importDefault','constructor','../../internal/fs.internal','path','../../../../constants','/package.xml','MDApiWriter','copyMdapiTo','__createBinding','./sfdx.utils','.temp','removeDir','248LbHrkF','removeFile','join'];a122_0x543b=function(){return _0xac8170;};return a122_0x543b();}(function(_0x4632d9,_0x5aa905){const _0x4f853b=a122_0x4cff,_0x5cba91=_0x4632d9();while(!![]){try{const _0x3bf92c=-parseInt(_0x4f853b(0x108))/0x1*(parseInt(_0x4f853b(0x10d))/0x2)+parseInt(_0x4f853b(0x10c))/0x3+-parseInt(_0x4f853b(0xf4))/0x4+-parseInt(_0x4f853b(0xee))/0x5+-parseInt(_0x4f853b(0xeb))/0x6*(parseInt(_0x4f853b(0x116))/0x7)+-parseInt(_0x4f853b(0xdd))/0x8+parseInt(_0x4f853b(0xe0))/0x9;if(_0x3bf92c===_0x5aa905)break;else _0x5cba91['push'](_0x5cba91['shift']());}catch(_0x22a2f0){_0x5cba91['push'](_0x5cba91['shift']());}}}(a122_0x543b,0x96100));const a122_0x1a2daa=(function(){let _0xc73e21=!![];return function(_0x3a3c8a,_0x5d5a87){const _0x4e6733=_0xc73e21?function(){if(_0x5d5a87){const _0x375327=_0x5d5a87['apply'](_0x3a3c8a,arguments);return _0x5d5a87=null,_0x375327;}}:function(){};return _0xc73e21=![],_0x4e6733;};}()),a122_0x3179c8=a122_0x1a2daa(this,function(){const _0x4564f5=a122_0x4cff;return a122_0x3179c8[_0x4564f5(0xe6)]()['search'](_0x4564f5(0xe2))[_0x4564f5(0xe6)]()[_0x4564f5(0xfd)](a122_0x3179c8)[_0x4564f5(0xec)](_0x4564f5(0xe2));});function a122_0x4cff(_0x2655da,_0x3d27e0){const _0x103cb3=a122_0x543b();return a122_0x4cff=function(_0x3179c8,_0x1a2daa){_0x3179c8=_0x3179c8-0xda;let _0x543b2d=_0x103cb3[_0x3179c8];return _0x543b2d;},a122_0x4cff(_0x2655da,_0x3d27e0);}a122_0x3179c8();'use strict';var __createBinding=this&&this[a122_0x5c3511(0x104)]||(Object[a122_0x5c3511(0xf6)]?function(_0x1e25f7,_0x1db849,_0xede368,_0x514bef){const _0x163350=a122_0x5c3511;if(_0x514bef===undefined)_0x514bef=_0xede368;var _0x5623a2=Object['getOwnPropertyDescriptor'](_0x1db849,_0xede368);(!_0x5623a2||(_0x163350(0xf0)in _0x5623a2?!_0x1db849['__esModule']:_0x5623a2[_0x163350(0x117)]||_0x5623a2[_0x163350(0x114)]))&&(_0x5623a2={'enumerable':!![],'get':function(){return _0x1db849[_0xede368];}}),Object['defineProperty'](_0x1e25f7,_0x514bef,_0x5623a2);}:function(_0xacb8f9,_0x277628,_0x404abf,_0x3b442f){if(_0x3b442f===undefined)_0x3b442f=_0x404abf;_0xacb8f9[_0x3b442f]=_0x277628[_0x404abf];}),__setModuleDefault=this&&this[a122_0x5c3511(0x11b)]||(Object[a122_0x5c3511(0xf6)]?function(_0x502891,_0x503ce5){const _0x5cb631=a122_0x5c3511;Object[_0x5cb631(0xdb)](_0x502891,_0x5cb631(0xe4),{'enumerable':!![],'value':_0x503ce5});}:function(_0x1dac9e,_0x317921){const _0x282416=a122_0x5c3511;_0x1dac9e[_0x282416(0xe4)]=_0x317921;}),__importStar=this&&this[a122_0x5c3511(0x113)]||function(_0x30ef25){const _0x1b698b=a122_0x5c3511;if(_0x30ef25&&_0x30ef25['__esModule'])return _0x30ef25;var _0x4dc2f4={};if(_0x30ef25!=null){for(var _0x31e61b in _0x30ef25)if(_0x31e61b!==_0x1b698b(0xe4)&&Object[_0x1b698b(0x119)]['hasOwnProperty'][_0x1b698b(0x118)](_0x30ef25,_0x31e61b))__createBinding(_0x4dc2f4,_0x30ef25,_0x31e61b);}return __setModuleDefault(_0x4dc2f4,_0x30ef25),_0x4dc2f4;},__importDefault=this&&this[a122_0x5c3511(0xfc)]||function(_0x7b9999){const _0x46d35d=a122_0x5c3511;return _0x7b9999&&_0x7b9999[_0x46d35d(0xf3)]?_0x7b9999:{'default':_0x7b9999};};Object[a122_0x5c3511(0xdb)](exports,a122_0x5c3511(0xf3),{'value':!![]}),exports[a122_0x5c3511(0xed)]=void 0x0;const path_1=__importStar(require(a122_0x5c3511(0xff))),core_1=require(a122_0x5c3511(0xe7)),fs_internal_1=require(a122_0x5c3511(0xfe)),shell_internal_1=require(a122_0x5c3511(0xf5)),mdapi_1=require(a122_0x5c3511(0xea)),mdapi_2=require(a122_0x5c3511(0xea)),sfdx_utils_1=require(a122_0x5c3511(0xe9)),shortid_1=__importDefault(require(a122_0x5c3511(0x111))),sfdx_utils_2=require(a122_0x5c3511(0x105)),constants_1=require(a122_0x5c3511(0x100)),logger=new core_1[(a122_0x5c3511(0xf1))]('mdapi-utils');class MDApiUtils{constructor(){const _0x125fee=a122_0x5c3511;this[_0x125fee(0xfb)]=(0x0,shortid_1[_0x125fee(0xe4)])();}get[a122_0x5c3511(0xfa)](){const _0x56136f=a122_0x5c3511;return''+this[_0x56136f(0xfb)];}get[a122_0x5c3511(0xdc)](){const _0x262091=a122_0x5c3511;return path_1[_0x262091(0xe4)][_0x262091(0x10a)](process['cwd'](),_0x262091(0x106),_0x262091(0xe8),this['fullDirName']);}async[a122_0x5c3511(0xe5)](_0xf7c66){const _0x1aed05=a122_0x5c3511;if(await sfdx_utils_1[_0x1aed05(0x11d)]['isSFDXProject'](_0xf7c66)){const _0x152918=(0x0,path_1[_0x1aed05(0x10a)])(_0xf7c66,'..','..','sfdx');try{logger[_0x1aed05(0x11c)]('detected\x20sfdx\x20project\x20convert\x20to\x20mdapi'),await fs_internal_1['FS']['makeDir']((0x0,path_1[_0x1aed05(0x10a)])(_0x152918,this[_0x1aed05(0xfa)])),await sfdx_utils_1[_0x1aed05(0x11d)]['createEmptyProject'](_0x152918,this['fullDirName']);await fs_internal_1['FS'][_0x1aed05(0xdf)](_0xf7c66+_0x1aed05(0xf8))&&await shell_internal_1[_0x1aed05(0x11a)][_0x1aed05(0x110)]('cp\x20-r\x20'+_0xf7c66+_0x1aed05(0xf2)+(0x0,path_1[_0x1aed05(0x10a)])(_0x152918,this['fullDirName']));await sfdx_utils_1[_0x1aed05(0x11d)][_0x1aed05(0x10f)]((0x0,path_1[_0x1aed05(0x10a)])(_0x152918,this[_0x1aed05(0xfa)]),this[_0x1aed05(0xdc)]);const _0x195955=new sfdx_utils_2['SFDXUtils']();await _0x195955[_0x1aed05(0x10b)]((0x0,path_1[_0x1aed05(0x10a)])(_0x152918,this[_0x1aed05(0xfa)],constants_1[_0x1aed05(0xe1)]),this['dir']),await fs_internal_1['FS']['removeDir']((0x0,path_1['join'])(_0x152918,this[_0x1aed05(0xfa)]));}catch(_0x247589){await fs_internal_1['FS'][_0x1aed05(0x107)]((0x0,path_1[_0x1aed05(0x10a)])(_0x152918,this[_0x1aed05(0xfa)]));throw _0x247589;}}else{logger['log'](_0x1aed05(0xda)),await fs_internal_1['FS'][_0x1aed05(0x112)](this['dir']);try{await shell_internal_1[_0x1aed05(0x11a)][_0x1aed05(0x110)](_0x1aed05(0xe3)+_0xf7c66+_0x1aed05(0x10e)+this[_0x1aed05(0xdc)]),await fs_internal_1['FS'][_0x1aed05(0x107)](this['dir']+_0x1aed05(0xf9));}catch(_0x6fac53){}}}async[a122_0x5c3511(0x103)](_0x3a6837){const _0x147e0e=a122_0x5c3511;if(!await fs_internal_1['FS']['exists'](_0x3a6837))throw new Error('[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20'+_0x3a6837);!await fs_internal_1['FS']['isEmptyDir'](''+this[_0x147e0e(0xdc)])&&(await fs_internal_1['FS'][_0x147e0e(0x109)](this['dir']+_0x147e0e(0x101)),await shell_internal_1[_0x147e0e(0x11a)]['exec'](_0x147e0e(0xe3)+this[_0x147e0e(0xdc)]+_0x147e0e(0x10e)+_0x3a6837));}async[a122_0x5c3511(0x107)](){const _0x46fcd8=a122_0x5c3511;await fs_internal_1['FS'][_0x46fcd8(0x107)](this[_0x46fcd8(0xdc)]);}async[a122_0x5c3511(0xef)](_0x5c0b02,_0x3f1541){const _0x292bdf=a122_0x5c3511,_0x1ecad1=new mdapi_1[(_0x292bdf(0x102))]({'components':_0x5c0b02,'sourceDir':this[_0x292bdf(0xdc)],'skipChildErrors':_0x3f1541===null||_0x3f1541===void 0x0?void 0x0:_0x3f1541[_0x292bdf(0xde)]});await _0x1ecad1[_0x292bdf(0xf7)]();}async['removeComponents'](_0x5eb826){const _0x50663c=a122_0x5c3511,_0x46df61=new mdapi_2[(_0x50663c(0x115))](_0x5eb826,this[_0x50663c(0xdc)]);await _0x46df61[_0x50663c(0xf7)]();}}exports[a122_0x5c3511(0xed)]=MDApiUtils;