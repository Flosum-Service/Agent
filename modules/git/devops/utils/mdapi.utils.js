const a122_0x51547b=a122_0x5637;(function(_0x2aac4e,_0x3e7bb5){const _0x158c44=a122_0x5637,_0xcc623d=_0x2aac4e();while(!![]){try{const _0x537178=-parseInt(_0x158c44(0xa6))/0x1*(parseInt(_0x158c44(0xbc))/0x2)+-parseInt(_0x158c44(0xc0))/0x3*(parseInt(_0x158c44(0xb4))/0x4)+-parseInt(_0x158c44(0xa2))/0x5*(parseInt(_0x158c44(0xc7))/0x6)+-parseInt(_0x158c44(0xd8))/0x7+-parseInt(_0x158c44(0xd0))/0x8*(parseInt(_0x158c44(0xab))/0x9)+-parseInt(_0x158c44(0xd4))/0xa*(-parseInt(_0x158c44(0xb5))/0xb)+parseInt(_0x158c44(0xca))/0xc*(parseInt(_0x158c44(0xb8))/0xd);if(_0x537178===_0x3e7bb5)break;else _0xcc623d['push'](_0xcc623d['shift']());}catch(_0x2d7315){_0xcc623d['push'](_0xcc623d['shift']());}}}(a122_0x171a,0xebdf7));const a122_0xf62260=(function(){let _0x514e94=!![];return function(_0x1670a1,_0x43c866){const _0x17c739=_0x514e94?function(){const _0x2c21c7=a122_0x5637;if(_0x43c866){const _0x3c7b7f=_0x43c866[_0x2c21c7(0xa3)](_0x1670a1,arguments);return _0x43c866=null,_0x3c7b7f;}}:function(){};return _0x514e94=![],_0x17c739;};}()),a122_0x110948=a122_0xf62260(this,function(){const _0x3b7b3f=a122_0x5637;return a122_0x110948[_0x3b7b3f(0xda)]()[_0x3b7b3f(0xa8)](_0x3b7b3f(0xdc))[_0x3b7b3f(0xda)]()['constructor'](a122_0x110948)[_0x3b7b3f(0xa8)]('(((.+)+)+)+$');});a122_0x110948();'use strict';var __createBinding=this&&this['__createBinding']||(Object[a122_0x51547b(0xcf)]?function(_0x39cc5e,_0x4b2a4e,_0x2caddd,_0x3833c0){const _0x3995d6=a122_0x51547b;if(_0x3833c0===undefined)_0x3833c0=_0x2caddd;var _0x1a8e70=Object[_0x3995d6(0xb1)](_0x4b2a4e,_0x2caddd);(!_0x1a8e70||(_0x3995d6(0xd9)in _0x1a8e70?!_0x4b2a4e[_0x3995d6(0xd6)]:_0x1a8e70[_0x3995d6(0xbb)]||_0x1a8e70[_0x3995d6(0x9d)]))&&(_0x1a8e70={'enumerable':!![],'get':function(){return _0x4b2a4e[_0x2caddd];}}),Object[_0x3995d6(0xb2)](_0x39cc5e,_0x3833c0,_0x1a8e70);}:function(_0x58186f,_0x479572,_0x3a112a,_0x1d07fd){if(_0x1d07fd===undefined)_0x1d07fd=_0x3a112a;_0x58186f[_0x1d07fd]=_0x479572[_0x3a112a];}),__setModuleDefault=this&&this[a122_0x51547b(0xc5)]||(Object[a122_0x51547b(0xcf)]?function(_0x597247,_0x4265a6){Object['defineProperty'](_0x597247,'default',{'enumerable':!![],'value':_0x4265a6});}:function(_0x517b2a,_0x38bbb5){const _0x3b776e=a122_0x51547b;_0x517b2a[_0x3b776e(0x9a)]=_0x38bbb5;}),__importStar=this&&this['__importStar']||function(_0x918c74){const _0x578a28=a122_0x51547b;if(_0x918c74&&_0x918c74[_0x578a28(0xd6)])return _0x918c74;var _0x21b003={};if(_0x918c74!=null){for(var _0x5aa938 in _0x918c74)if(_0x5aa938!==_0x578a28(0x9a)&&Object['prototype']['hasOwnProperty'][_0x578a28(0xd3)](_0x918c74,_0x5aa938))__createBinding(_0x21b003,_0x918c74,_0x5aa938);}return __setModuleDefault(_0x21b003,_0x918c74),_0x21b003;},__importDefault=this&&this[a122_0x51547b(0xc2)]||function(_0x5bed11){const _0x1fbc75=a122_0x51547b;return _0x5bed11&&_0x5bed11[_0x1fbc75(0xd6)]?_0x5bed11:{'default':_0x5bed11};};Object['defineProperty'](exports,a122_0x51547b(0xd6),{'value':!![]}),exports[a122_0x51547b(0xa7)]=void 0x0;const path_1=__importStar(require(a122_0x51547b(0xae))),core_1=require('../../../../core'),fs_internal_1=require(a122_0x51547b(0xb3)),shell_internal_1=require('../../internal/shell.internal'),mdapi_1=require(a122_0x51547b(0xcd)),mdapi_2=require(a122_0x51547b(0xcd)),sfdx_utils_1=require(a122_0x51547b(0xd2)),shortid_1=__importDefault(require(a122_0x51547b(0xd1))),sfdx_utils_2=require('./sfdx.utils'),constants_1=require(a122_0x51547b(0xa1)),logger=new core_1[(a122_0x51547b(0xd5))](a122_0x51547b(0xa5));function a122_0x171a(){const _0x1fae41=['call','17486060rVzbwW','Logger','__esModule','uniqueId','4778074dEeiwe','get','toString','makeDir','(((.+)+)+)+$','default','skipChildErrors','SFDXUtils','configurable','copyVlocityComponents','removeDir','cwd','../../../../constants','45hzCEwB','apply','dir','mdapi-utils','174943WmabMJ','MDApiUtils','search','exists','Shell','138735QQcmEL','.temp','detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','path','/force-app','join','getOwnPropertyDescriptor','defineProperty','../../internal/fs.internal','4oaGYou','11nPpWIF','log','sfdx','12551903WJPoPc','SFDX','MDApiWriter','writable','6FoCsbU','mdapi','/.git','copy\x20mdapi\x20to\x20temp\x20dir','3477858BKbrbn','fullDirName','__importDefault','createEmptyProject','[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20','__setModuleDefault','isSFDXProject','21948GXilrD','exec','cp\x20-r\x20','36yzTfoG','isEmptyDir','/package.xml','../../parsers/mdapi','/*\x20','create','664mJNejj','shortid','../../salesforce/utils/sfdx.utils'];a122_0x171a=function(){return _0x1fae41;};return a122_0x171a();}function a122_0x5637(_0x8fbccc,_0x1deee9){const _0x46db0a=a122_0x171a();return a122_0x5637=function(_0x110948,_0xf62260){_0x110948=_0x110948-0x9a;let _0x171a5b=_0x46db0a[_0x110948];return _0x171a5b;},a122_0x5637(_0x8fbccc,_0x1deee9);}class MDApiUtils{constructor(){const _0x2d2cc3=a122_0x51547b;this[_0x2d2cc3(0xd7)]=(0x0,shortid_1['default'])();}get['fullDirName'](){const _0x62b826=a122_0x51547b;return''+this[_0x62b826(0xd7)];}get[a122_0x51547b(0xa4)](){const _0x532750=a122_0x51547b;return path_1['default']['join'](process[_0x532750(0xa0)](),_0x532750(0xac),_0x532750(0xbd),this[_0x532750(0xc1)]);}async['prepareMdapi'](_0x13b80d){const _0x48ebe4=a122_0x51547b;if(await sfdx_utils_1['SFDX'][_0x48ebe4(0xc6)](_0x13b80d)){const _0x175b8e=(0x0,path_1[_0x48ebe4(0xb0)])(_0x13b80d,'..','..',_0x48ebe4(0xb7));try{logger[_0x48ebe4(0xb6)](_0x48ebe4(0xad)),await fs_internal_1['FS'][_0x48ebe4(0xdb)]((0x0,path_1[_0x48ebe4(0xb0)])(_0x175b8e,this[_0x48ebe4(0xc1)])),await sfdx_utils_1[_0x48ebe4(0xb9)][_0x48ebe4(0xc3)](_0x175b8e,this[_0x48ebe4(0xc1)]);await fs_internal_1['FS'][_0x48ebe4(0xa9)](_0x13b80d+_0x48ebe4(0xaf))&&await shell_internal_1['Shell'][_0x48ebe4(0xc8)]('cp\x20-r\x20'+_0x13b80d+'/force-app\x20'+(0x0,path_1['join'])(_0x175b8e,this['fullDirName']));await sfdx_utils_1[_0x48ebe4(0xb9)]['sourceToMdapi']((0x0,path_1['join'])(_0x175b8e,this[_0x48ebe4(0xc1)]),this[_0x48ebe4(0xa4)]);const _0x5369bc=new sfdx_utils_2[(_0x48ebe4(0x9c))]();await _0x5369bc[_0x48ebe4(0x9e)]((0x0,path_1[_0x48ebe4(0xb0)])(_0x175b8e,this['fullDirName'],constants_1['FORCE_APP_DEFAULT_DIR']),this[_0x48ebe4(0xa4)]),await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x48ebe4(0xb0)])(_0x175b8e,this[_0x48ebe4(0xc1)]));}catch(_0xe012f4){await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x48ebe4(0xb0)])(_0x175b8e,this[_0x48ebe4(0xc1)]));throw _0xe012f4;}}else{logger[_0x48ebe4(0xb6)](_0x48ebe4(0xbf)),await fs_internal_1['FS'][_0x48ebe4(0xdb)](this[_0x48ebe4(0xa4)]);try{await shell_internal_1[_0x48ebe4(0xaa)][_0x48ebe4(0xc8)](_0x48ebe4(0xc9)+_0x13b80d+_0x48ebe4(0xce)+this[_0x48ebe4(0xa4)]),await fs_internal_1['FS'][_0x48ebe4(0x9f)](this[_0x48ebe4(0xa4)]+_0x48ebe4(0xbe));}catch(_0x480110){}}}async['copyMdapiTo'](_0x9ed044){const _0x54eec8=a122_0x51547b;if(!await fs_internal_1['FS']['exists'](_0x9ed044))throw new Error(_0x54eec8(0xc4)+_0x9ed044);!await fs_internal_1['FS'][_0x54eec8(0xcb)](''+this[_0x54eec8(0xa4)])&&(await fs_internal_1['FS']['removeFile'](this[_0x54eec8(0xa4)]+_0x54eec8(0xcc)),await shell_internal_1['Shell'][_0x54eec8(0xc8)]('cp\x20-r\x20'+this[_0x54eec8(0xa4)]+_0x54eec8(0xce)+_0x9ed044));}async[a122_0x51547b(0x9f)](){const _0x22f8ca=a122_0x51547b;await fs_internal_1['FS'][_0x22f8ca(0x9f)](this[_0x22f8ca(0xa4)]);}async['writeFlosumComponents'](_0x42a809,_0x169ff7){const _0x52eb59=a122_0x51547b,_0x72cb=new mdapi_1[(_0x52eb59(0xba))]({'components':_0x42a809,'sourceDir':this['dir'],'skipChildErrors':_0x169ff7===null||_0x169ff7===void 0x0?void 0x0:_0x169ff7[_0x52eb59(0x9b)]});await _0x72cb['start']();}async['removeComponents'](_0x4314c7){const _0x4fd221=a122_0x51547b,_0x465cfe=new mdapi_2['MDApiRemover'](_0x4314c7,this[_0x4fd221(0xa4)]);await _0x465cfe['start']();}}exports[a122_0x51547b(0xa7)]=MDApiUtils;