const a143_0x18db20=a143_0x9a01;(function(_0x24fcfb,_0x16c0cd){const _0x5b210f=a143_0x9a01,_0x5b321e=_0x24fcfb();while(!![]){try{const _0x5b6ff8=-parseInt(_0x5b210f(0x88))/0x1*(parseInt(_0x5b210f(0xb5))/0x2)+parseInt(_0x5b210f(0xa8))/0x3+parseInt(_0x5b210f(0x94))/0x4+-parseInt(_0x5b210f(0x9d))/0x5+parseInt(_0x5b210f(0x83))/0x6*(parseInt(_0x5b210f(0xbb))/0x7)+-parseInt(_0x5b210f(0x95))/0x8*(parseInt(_0x5b210f(0xa4))/0x9)+parseInt(_0x5b210f(0xa7))/0xa;if(_0x5b6ff8===_0x16c0cd)break;else _0x5b321e['push'](_0x5b321e['shift']());}catch(_0x4f0923){_0x5b321e['push'](_0x5b321e['shift']());}}}(a143_0x20f1,0xef945));const a143_0x1f9e62=(function(){let _0x180f68=!![];return function(_0x3566b3,_0x16123b){const _0x45014b=_0x180f68?function(){const _0x13bcca=a143_0x9a01;if(_0x16123b){const _0x1da4e8=_0x16123b[_0x13bcca(0x9b)](_0x3566b3,arguments);return _0x16123b=null,_0x1da4e8;}}:function(){};return _0x180f68=![],_0x45014b;};}()),a143_0x16030b=a143_0x1f9e62(this,function(){const _0x24713e=a143_0x9a01;return a143_0x16030b[_0x24713e(0x9c)]()[_0x24713e(0xbe)](_0x24713e(0xa1))[_0x24713e(0x9c)]()['constructor'](a143_0x16030b)[_0x24713e(0xbe)](_0x24713e(0xa1));});function a143_0x20f1(){const _0x54d377=['sfdx','/.git','SFDX','removeFile','cwd','/force-app','/*\x20','../../salesforce/utils/sfdx.utils','dir','isSFDXProject','5140056VGbLuN','352712OvgQIJ','isEmptyDir','Detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','../../internal/shell.internal','join','__importStar','apply','toString','6470160xPzZCu','log','createEmptyProject','uniqueId','(((.+)+)+)+$','[copyMdapiTo]\x20Source\x20folder\x20not\x20found\x20-\x20','copyMdapiTo','18lCyyDg','FactoryRemover','makeDir','6277250bGmUrV','2729781cwmqhU','Copy\x20mdapi\x20to\x20temp\x20dir','shortid','/force-app\x20','create','prototype','recordType','.temp','defineProperty','call','skipChildErrors','get','mdapi','2vwqprL','execute','SFDXUtils','FORCE_APP_DEFAULT_DIR','hasOwnProperty','../../internal/fs.internal','10276WYKjpY','fullDirName','__createBinding','search','getOwnPropertyDescriptor','MDApiUtils','default','removeDir','Logger','__esModule','exec','1986yZszQs','copySFDXIgnoredComponents','cp\x20-r\x20','FactoryWriter','../../removers/factory.remover','945047qrtKIg','../../../../constants'];a143_0x20f1=function(){return _0x54d377;};return a143_0x20f1();}a143_0x16030b();'use strict';var __createBinding=this&&this[a143_0x18db20(0xbd)]||(Object[a143_0x18db20(0xac)]?function(_0x316716,_0x3ef97c,_0x2972b8,_0x455e41){const _0x1facba=a143_0x18db20;if(_0x455e41===undefined)_0x455e41=_0x2972b8;var _0x5f144=Object[_0x1facba(0xbf)](_0x3ef97c,_0x2972b8);(!_0x5f144||(_0x1facba(0xb3)in _0x5f144?!_0x3ef97c['__esModule']:_0x5f144['writable']||_0x5f144['configurable']))&&(_0x5f144={'enumerable':!![],'get':function(){return _0x3ef97c[_0x2972b8];}}),Object[_0x1facba(0xb0)](_0x316716,_0x455e41,_0x5f144);}:function(_0x42d00e,_0x18d962,_0x3bed18,_0x32af1e){if(_0x32af1e===undefined)_0x32af1e=_0x3bed18;_0x42d00e[_0x32af1e]=_0x18d962[_0x3bed18];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a143_0x18db20(0xac)]?function(_0x4ab5e7,_0x32f9e2){const _0x10dd7f=a143_0x18db20;Object[_0x10dd7f(0xb0)](_0x4ab5e7,_0x10dd7f(0x7e),{'enumerable':!![],'value':_0x32f9e2});}:function(_0x46439b,_0xa6ffc8){const _0x2310d4=a143_0x18db20;_0x46439b[_0x2310d4(0x7e)]=_0xa6ffc8;}),__importStar=this&&this[a143_0x18db20(0x9a)]||function(_0x10f18d){const _0x529bb2=a143_0x18db20;if(_0x10f18d&&_0x10f18d[_0x529bb2(0x81)])return _0x10f18d;var _0x458c44={};if(_0x10f18d!=null){for(var _0x1e2a49 in _0x10f18d)if(_0x1e2a49!==_0x529bb2(0x7e)&&Object[_0x529bb2(0xad)][_0x529bb2(0xb9)][_0x529bb2(0xb1)](_0x10f18d,_0x1e2a49))__createBinding(_0x458c44,_0x10f18d,_0x1e2a49);}return __setModuleDefault(_0x458c44,_0x10f18d),_0x458c44;},__importDefault=this&&this['__importDefault']||function(_0x432bc0){const _0x5a46cc=a143_0x18db20;return _0x432bc0&&_0x432bc0[_0x5a46cc(0x81)]?_0x432bc0:{'default':_0x432bc0};};Object[a143_0x18db20(0xb0)](exports,a143_0x18db20(0x81),{'value':!![]}),exports[a143_0x18db20(0xc0)]=void 0x0;const path_1=__importStar(require('path')),core_1=require('../../../../core'),fs_internal_1=require(a143_0x18db20(0xba)),shell_internal_1=require(a143_0x18db20(0x98)),factory_remover_1=require(a143_0x18db20(0x87)),sfdx_utils_1=require(a143_0x18db20(0x91)),shortid_1=__importDefault(require(a143_0x18db20(0xaa))),sfdx_utils_2=require('./sfdx.utils'),constants_1=require(a143_0x18db20(0x89)),factory_writer_1=require('../../writers/factory.writer'),logger=new core_1[(a143_0x18db20(0x80))]('mdapi-utils');function a143_0x9a01(_0x22b7b3,_0x254015){const _0x1e3c71=a143_0x20f1();return a143_0x9a01=function(_0x16030b,_0x1f9e62){_0x16030b=_0x16030b-0x7e;let _0x20f18b=_0x1e3c71[_0x16030b];return _0x20f18b;},a143_0x9a01(_0x22b7b3,_0x254015);}class MDApiUtils{constructor(){const _0x4e404d=a143_0x18db20;this[_0x4e404d(0xa0)]=(0x0,shortid_1[_0x4e404d(0x7e)])();}get['fullDirName'](){return''+this['uniqueId'];}get[a143_0x18db20(0x92)](){const _0x1fb01a=a143_0x18db20;return path_1[_0x1fb01a(0x7e)][_0x1fb01a(0x99)](process[_0x1fb01a(0x8e)](),_0x1fb01a(0xaf),_0x1fb01a(0xb4),this['fullDirName']);}async['prepareMdapi'](_0x4b9803){const _0x333c3d=a143_0x18db20;if(await sfdx_utils_1[_0x333c3d(0x8c)][_0x333c3d(0x93)](_0x4b9803)){const _0x403522=(0x0,path_1[_0x333c3d(0x99)])(_0x4b9803,'..','..',_0x333c3d(0x8a));try{logger[_0x333c3d(0x9e)](_0x333c3d(0x97)),await fs_internal_1['FS'][_0x333c3d(0xa6)]((0x0,path_1[_0x333c3d(0x99)])(_0x403522,this[_0x333c3d(0xbc)])),await sfdx_utils_1[_0x333c3d(0x8c)][_0x333c3d(0x9f)](_0x403522,this[_0x333c3d(0xbc)]);await fs_internal_1['FS']['exists'](_0x4b9803+_0x333c3d(0x8f))&&await shell_internal_1['Shell'][_0x333c3d(0x82)](_0x333c3d(0x85)+_0x4b9803+_0x333c3d(0xab)+(0x0,path_1[_0x333c3d(0x99)])(_0x403522,this['fullDirName']));await sfdx_utils_1[_0x333c3d(0x8c)]['sourceToMdapi']((0x0,path_1[_0x333c3d(0x99)])(_0x403522,this[_0x333c3d(0xbc)]),this[_0x333c3d(0x92)]);const _0xc4ac7e=new sfdx_utils_2[(_0x333c3d(0xb7))]();await _0xc4ac7e[_0x333c3d(0x84)]((0x0,path_1[_0x333c3d(0x99)])(_0x403522,this[_0x333c3d(0xbc)],constants_1[_0x333c3d(0xb8)]),this[_0x333c3d(0x92)]),await fs_internal_1['FS'][_0x333c3d(0x7f)]((0x0,path_1[_0x333c3d(0x99)])(_0x403522,this['fullDirName']));}catch(_0x5a079c){await fs_internal_1['FS'][_0x333c3d(0x7f)]((0x0,path_1[_0x333c3d(0x99)])(_0x403522,this[_0x333c3d(0xbc)]));throw _0x5a079c;}}else{logger[_0x333c3d(0x9e)](_0x333c3d(0xa9)),await fs_internal_1['FS'][_0x333c3d(0xa6)](this[_0x333c3d(0x92)]);try{await shell_internal_1['Shell'][_0x333c3d(0x82)](_0x333c3d(0x85)+_0x4b9803+_0x333c3d(0x90)+this['dir']),await fs_internal_1['FS'][_0x333c3d(0x7f)](this['dir']+_0x333c3d(0x8b));}catch(_0x43e37c){}}}async[a143_0x18db20(0xa3)](_0x1ff4b2){const _0x45d681=a143_0x18db20;if(!await fs_internal_1['FS']['exists'](_0x1ff4b2))throw new Error(_0x45d681(0xa2)+_0x1ff4b2);!await fs_internal_1['FS'][_0x45d681(0x96)](''+this[_0x45d681(0x92)])&&(await fs_internal_1['FS'][_0x45d681(0x8d)](this['dir']+'/package.xml'),await shell_internal_1['Shell']['exec'](_0x45d681(0x85)+this[_0x45d681(0x92)]+_0x45d681(0x90)+_0x1ff4b2));}async[a143_0x18db20(0x7f)](){const _0x1ddc8d=a143_0x18db20;await fs_internal_1['FS'][_0x1ddc8d(0x7f)](this[_0x1ddc8d(0x92)]);}async['writeFlosumComponents'](_0x14eabb,_0x48dcf7){const _0x1d1356=a143_0x18db20,_0xd0cbd8=factory_writer_1[_0x1d1356(0x86)][_0x1d1356(0xac)]({'recordType':_0x48dcf7[_0x1d1356(0xae)],'sourceDir':this['dir'],'skipChildErrors':_0x48dcf7===null||_0x48dcf7===void 0x0?void 0x0:_0x48dcf7[_0x1d1356(0xb2)],'components':_0x14eabb});await _0xd0cbd8['execute']();}async['removeComponents'](_0x1182b0,_0x19f2ea){const _0x59ebff=a143_0x18db20,_0x1a596d=factory_remover_1[_0x59ebff(0xa5)][_0x59ebff(0xac)]({'recordType':_0x19f2ea,'components':_0x1182b0,'sourceDir':this['dir']});await _0x1a596d[_0x59ebff(0xb6)]();}}exports[a143_0x18db20(0xc0)]=MDApiUtils;