const a122_0x2d9670=a122_0x30c2;(function(_0x5b5b6e,_0x576412){const _0xbe13aa=a122_0x30c2,_0x4c06fc=_0x5b5b6e();while(!![]){try{const _0x4a5a5d=-parseInt(_0xbe13aa(0x1c2))/0x1*(parseInt(_0xbe13aa(0x1c4))/0x2)+parseInt(_0xbe13aa(0x1b2))/0x3+-parseInt(_0xbe13aa(0x1a1))/0x4+-parseInt(_0xbe13aa(0x191))/0x5*(parseInt(_0xbe13aa(0x195))/0x6)+parseInt(_0xbe13aa(0x198))/0x7*(parseInt(_0xbe13aa(0x193))/0x8)+parseInt(_0xbe13aa(0x19b))/0x9*(-parseInt(_0xbe13aa(0x194))/0xa)+parseInt(_0xbe13aa(0x1bc))/0xb;if(_0x4a5a5d===_0x576412)break;else _0x4c06fc['push'](_0x4c06fc['shift']());}catch(_0x5b8bc8){_0x4c06fc['push'](_0x4c06fc['shift']());}}}(a122_0x31ae,0x43ad6));const a122_0x5c6d20=(function(){let _0x554088=!![];return function(_0x4c8a08,_0x30ea5e){const _0x4939d7=_0x554088?function(){if(_0x30ea5e){const _0x14f390=_0x30ea5e['apply'](_0x4c8a08,arguments);return _0x30ea5e=null,_0x14f390;}}:function(){};return _0x554088=![],_0x4939d7;};}()),a122_0xdddf67=a122_0x5c6d20(this,function(){const _0x5c995c=a122_0x30c2;return a122_0xdddf67[_0x5c995c(0x1a2)]()[_0x5c995c(0x1c3)]('(((.+)+)+)+$')['toString']()[_0x5c995c(0x1b0)](a122_0xdddf67)[_0x5c995c(0x1c3)](_0x5c995c(0x19c));});a122_0xdddf67();'use strict';var __createBinding=this&&this[a122_0x2d9670(0x1ba)]||(Object[a122_0x2d9670(0x1a5)]?function(_0x5ccdeb,_0x3f0444,_0x366b42,_0x40dabf){const _0x7a705a=a122_0x2d9670;if(_0x40dabf===undefined)_0x40dabf=_0x366b42;var _0x2cd2ca=Object['getOwnPropertyDescriptor'](_0x3f0444,_0x366b42);(!_0x2cd2ca||(_0x7a705a(0x1a4)in _0x2cd2ca?!_0x3f0444[_0x7a705a(0x196)]:_0x2cd2ca['writable']||_0x2cd2ca[_0x7a705a(0x1b1)]))&&(_0x2cd2ca={'enumerable':!![],'get':function(){return _0x3f0444[_0x366b42];}}),Object[_0x7a705a(0x1bf)](_0x5ccdeb,_0x40dabf,_0x2cd2ca);}:function(_0x58b7c7,_0x11130b,_0x538689,_0x4c042f){if(_0x4c042f===undefined)_0x4c042f=_0x538689;_0x58b7c7[_0x4c042f]=_0x11130b[_0x538689];}),__setModuleDefault=this&&this[a122_0x2d9670(0x1bb)]||(Object[a122_0x2d9670(0x1a5)]?function(_0x3ea96a,_0x3f8636){const _0x36c06f=a122_0x2d9670;Object[_0x36c06f(0x1bf)](_0x3ea96a,_0x36c06f(0x1af),{'enumerable':!![],'value':_0x3f8636});}:function(_0x5ab1f1,_0x244d12){const _0x1624ad=a122_0x2d9670;_0x5ab1f1[_0x1624ad(0x1af)]=_0x244d12;}),__importStar=this&&this[a122_0x2d9670(0x1b5)]||function(_0x240680){const _0x3f1eb7=a122_0x2d9670;if(_0x240680&&_0x240680[_0x3f1eb7(0x196)])return _0x240680;var _0x4b13ca={};if(_0x240680!=null){for(var _0x2b8aa6 in _0x240680)if(_0x2b8aa6!==_0x3f1eb7(0x1af)&&Object['prototype']['hasOwnProperty']['call'](_0x240680,_0x2b8aa6))__createBinding(_0x4b13ca,_0x240680,_0x2b8aa6);}return __setModuleDefault(_0x4b13ca,_0x240680),_0x4b13ca;},__importDefault=this&&this[a122_0x2d9670(0x1ad)]||function(_0xb9fa69){const _0x24a026=a122_0x2d9670;return _0xb9fa69&&_0xb9fa69[_0x24a026(0x196)]?_0xb9fa69:{'default':_0xb9fa69};};Object['defineProperty'](exports,a122_0x2d9670(0x196),{'value':!![]}),exports[a122_0x2d9670(0x1c7)]=void 0x0;const path_1=__importStar(require(a122_0x2d9670(0x1b3))),core_1=require(a122_0x2d9670(0x1a9)),fs_internal_1=require(a122_0x2d9670(0x1c6)),shell_internal_1=require(a122_0x2d9670(0x1b4)),mdapi_1=require(a122_0x2d9670(0x1a0)),mdapi_2=require(a122_0x2d9670(0x1a0)),sfdx_utils_1=require('../../salesforce/utils/sfdx.utils'),shortid_1=__importDefault(require('shortid')),logger=new core_1['Logger'](a122_0x2d9670(0x18e));function a122_0x30c2(_0x2feeff,_0x415d41){const _0x28d8a2=a122_0x31ae();return a122_0x30c2=function(_0xdddf67,_0x5c6d20){_0xdddf67=_0xdddf67-0x18c;let _0x31aed7=_0x28d8a2[_0xdddf67];return _0x31aed7;},a122_0x30c2(_0x2feeff,_0x415d41);}function a122_0x31ae(){const _0x18a966=['removeDir','join','../../../../core','copyMdapiTo','skipChildErrors','fullDirName','__importDefault','[copyMdapiTo]\x20Source\x20forlder\x20not\x20found\x20-\x20','default','constructor','configurable','321909zhiADm','path','../../internal/shell.internal','__importStar','Shell','mdapi','log','prepareMdapi','__createBinding','__setModuleDefault','10428528wjKDFL','MDApiWriter','dir','defineProperty','SFDX','cp\x20-r\x20','1hrmHuJ','search','498782xwVZDF','uniqueId','../../internal/fs.internal','MDApiUtils','/force-app\x20','makeDir','removeComponents','mdapi-utils','exists','cwd','115erPrAG','MDApiRemover','248kMiBPa','4118870lhviOb','852snOxqj','__esModule','sfdx','45948UwrhMM','createEmptyProject','isSFDXProject','9etMayk','(((.+)+)+)+$','copy\x20mdapi\x20to\x20temp\x20dir','/force-app','detected\x20sfdx\x20project\x20convert\x20to\x20mdapi','../../parsers/mdapi','1268340XLDfDp','toString','start','get','create','exec'];a122_0x31ae=function(){return _0x18a966;};return a122_0x31ae();}class MDApiUtils{constructor(){const _0xaecfaa=a122_0x2d9670;this[_0xaecfaa(0x1c5)]=(0x0,shortid_1['default'])();}get[a122_0x2d9670(0x1ac)](){return''+this['uniqueId'];}get[a122_0x2d9670(0x1be)](){const _0x480a3a=a122_0x2d9670;return path_1['default']['join'](process[_0x480a3a(0x190)](),'.temp',_0x480a3a(0x1b7),this['fullDirName']);}async[a122_0x2d9670(0x1b9)](_0x44da0d){const _0x20f051=a122_0x2d9670;if(await sfdx_utils_1[_0x20f051(0x1c0)][_0x20f051(0x19a)](_0x44da0d)){const _0x5420cd=(0x0,path_1[_0x20f051(0x1a8)])(_0x44da0d,'..','..',_0x20f051(0x197));try{logger[_0x20f051(0x1b8)](_0x20f051(0x19f)),await fs_internal_1['FS'][_0x20f051(0x18c)]((0x0,path_1[_0x20f051(0x1a8)])(_0x5420cd,this[_0x20f051(0x1ac)])),await sfdx_utils_1[_0x20f051(0x1c0)][_0x20f051(0x199)](_0x5420cd,this[_0x20f051(0x1ac)]),await fs_internal_1['FS'][_0x20f051(0x18f)](_0x44da0d+_0x20f051(0x19e))&&await shell_internal_1['Shell'][_0x20f051(0x1a6)](_0x20f051(0x1c1)+_0x44da0d+_0x20f051(0x1c8)+(0x0,path_1[_0x20f051(0x1a8)])(_0x5420cd,this[_0x20f051(0x1ac)])),await sfdx_utils_1[_0x20f051(0x1c0)]['sourceToMdapi']((0x0,path_1[_0x20f051(0x1a8)])(_0x5420cd,this['fullDirName']),this[_0x20f051(0x1be)]),await fs_internal_1['FS']['removeDir']((0x0,path_1[_0x20f051(0x1a8)])(_0x5420cd,this[_0x20f051(0x1ac)]));}catch(_0x14c8f8){await fs_internal_1['FS'][_0x20f051(0x1a7)]((0x0,path_1[_0x20f051(0x1a8)])(_0x5420cd,this[_0x20f051(0x1ac)]));throw _0x14c8f8;}}else{logger[_0x20f051(0x1b8)](_0x20f051(0x19d)),await fs_internal_1['FS']['makeDir'](this['dir']);try{await shell_internal_1[_0x20f051(0x1b6)][_0x20f051(0x1a6)](_0x20f051(0x1c1)+_0x44da0d+'/*\x20'+this[_0x20f051(0x1be)]),await fs_internal_1['FS'][_0x20f051(0x1a7)](this[_0x20f051(0x1be)]+'/.git');}catch(_0x12e6d4){}}}async[a122_0x2d9670(0x1aa)](_0x5d0fb7){const _0x5a636e=a122_0x2d9670;if(!await fs_internal_1['FS'][_0x5a636e(0x18f)](_0x5d0fb7))throw new Error(_0x5a636e(0x1ae)+_0x5d0fb7);!await fs_internal_1['FS']['isEmptyDir'](''+this['dir'])&&(await fs_internal_1['FS']['removeFile'](this[_0x5a636e(0x1be)]+'/package.xml'),await shell_internal_1[_0x5a636e(0x1b6)][_0x5a636e(0x1a6)](_0x5a636e(0x1c1)+this[_0x5a636e(0x1be)]+'/*\x20'+_0x5d0fb7));}async['removeDir'](){const _0x23091b=a122_0x2d9670;await fs_internal_1['FS'][_0x23091b(0x1a7)](this[_0x23091b(0x1be)]);}async['writeFlosumComponents'](_0x3be3ff,_0x4f7271){const _0x101075=a122_0x2d9670,_0x3734f8=new mdapi_1[(_0x101075(0x1bd))]({'components':_0x3be3ff,'sourceDir':this[_0x101075(0x1be)],'skipChildErrors':_0x4f7271===null||_0x4f7271===void 0x0?void 0x0:_0x4f7271[_0x101075(0x1ab)]});await _0x3734f8[_0x101075(0x1a3)]();}async[a122_0x2d9670(0x18d)](_0x16da00){const _0x51580f=a122_0x2d9670,_0x31c8dd=new mdapi_2[(_0x51580f(0x192))](_0x16da00,this['dir']);await _0x31c8dd[_0x51580f(0x1a3)]();}}exports[a122_0x2d9670(0x1c7)]=MDApiUtils;