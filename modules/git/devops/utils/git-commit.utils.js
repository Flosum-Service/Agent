const a120_0x58c45c=a120_0x56a8;(function(_0x550cba,_0x14ab80){const _0x49e512=a120_0x56a8,_0x249c70=_0x550cba();while(!![]){try{const _0x5de4fc=parseInt(_0x49e512(0x18a))/0x1+-parseInt(_0x49e512(0x191))/0x2*(-parseInt(_0x49e512(0x188))/0x3)+-parseInt(_0x49e512(0x19f))/0x4*(parseInt(_0x49e512(0x17d))/0x5)+-parseInt(_0x49e512(0x170))/0x6+-parseInt(_0x49e512(0x18c))/0x7*(-parseInt(_0x49e512(0x180))/0x8)+-parseInt(_0x49e512(0x183))/0x9+-parseInt(_0x49e512(0x18e))/0xa*(-parseInt(_0x49e512(0x181))/0xb);if(_0x5de4fc===_0x14ab80)break;else _0x249c70['push'](_0x249c70['shift']());}catch(_0x466aaa){_0x249c70['push'](_0x249c70['shift']());}}}(a120_0x9dd0,0xecf9f));const a120_0xf9b027=(function(){let _0x44ab9c=!![];return function(_0x41ab74,_0x1c515){const _0x5532bf=_0x44ab9c?function(){const _0x1cd76a=a120_0x56a8;if(_0x1c515){const _0x543262=_0x1c515[_0x1cd76a(0x190)](_0x41ab74,arguments);return _0x1c515=null,_0x543262;}}:function(){};return _0x44ab9c=![],_0x5532bf;};}()),a120_0x3acc90=a120_0xf9b027(this,function(){const _0x3160ba=a120_0x56a8;return a120_0x3acc90[_0x3160ba(0x18d)]()['search']('(((.+)+)+)+$')[_0x3160ba(0x18d)]()[_0x3160ba(0x1a4)](a120_0x3acc90)[_0x3160ba(0x1a1)]('(((.+)+)+)+$');});a120_0x3acc90();'use strict';var __importDefault=this&&this[a120_0x58c45c(0x18f)]||function(_0x192550){return _0x192550&&_0x192550['__esModule']?_0x192550:{'default':_0x192550};};Object[a120_0x58c45c(0x199)](exports,a120_0x58c45c(0x173),{'value':!![]}),exports['prepareGitChangedPaths']=exports['isPathsEquals']=exports['extractGitCommitDtoFromContext']=void 0x0;const constants_1=require('../../../../constants'),errors_1=require(a120_0x58c45c(0x17f)),bad_request_error_1=require(a120_0x58c45c(0x17c)),git_provider_1=require('../../providers/types/git-provider'),git_commit_dto_1=require('../dto/git-commit.dto'),path_1=__importDefault(require(a120_0x58c45c(0x175))),vlocity_1=require('../../parsers/utils/vlocity');function a120_0x9dd0(){const _0x21d1c0=['prepareGitChangedPaths','split','7304788MinwYd','endsWith','search','posix','replace','constructor','test','2794524tgITXW','extname','isPathsEquals','__esModule','substr','path','GitCommitDto','relative','ERR_UNKNOWN_GIT_SERVICE','META_XML_EXTENSION','BadRequestError','GitlabServer','../../../../core/errors/bad-request.error','5sMdGZU','join','../../../../constants/errors','11776ZCicgL','13706gjZocE','Azure','10371339DLgYHK','Github','fromGithub','extractGitCommitDtoFromContext','Gitlab','6czrPdL','GitProvider','1314501cVHhsD','Bitbucket','1379TQiRuw','toString','21510tSFRLG','__importDefault','apply','130346XgtxWD','fromAzure','default','map','GithubServer','AzureServer','provider','FORCE_APP_DEFAULT_DIR','defineProperty','fromBitbucket','startsWith','sep'];a120_0x9dd0=function(){return _0x21d1c0;};return a120_0x9dd0();}function extractGitCommitDtoFromContext(_0x35ac14,_0x2e96d6){const _0x54a3af=a120_0x58c45c;let _0x3d929e;switch(_0x2e96d6){case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x184)]:case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x195)]:_0x3d929e=git_commit_dto_1['GitCommitDto'][_0x54a3af(0x185)](_0x35ac14);break;case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x182)]:case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x196)]:_0x3d929e=git_commit_dto_1[_0x54a3af(0x176)][_0x54a3af(0x192)](_0x35ac14);break;case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x18b)]:_0x3d929e=git_commit_dto_1['GitCommitDto'][_0x54a3af(0x19a)](_0x35ac14);break;case git_provider_1[_0x54a3af(0x189)]['BitbucketServer']:_0x3d929e=git_commit_dto_1['GitCommitDto']['fromBitbucketServer'](_0x35ac14);break;case git_provider_1[_0x54a3af(0x189)][_0x54a3af(0x187)]:case git_provider_1['GitProvider'][_0x54a3af(0x17b)]:_0x3d929e=git_commit_dto_1[_0x54a3af(0x176)]['fromGitlab'](_0x35ac14);break;default:throw new bad_request_error_1[(_0x54a3af(0x17a))](errors_1[_0x54a3af(0x178)]);}return _0x3d929e[_0x54a3af(0x197)]=_0x2e96d6,_0x3d929e;}exports[a120_0x58c45c(0x186)]=extractGitCommitDtoFromContext;function a120_0x56a8(_0x25c589,_0x546011){const _0x4af080=a120_0x9dd0();return a120_0x56a8=function(_0x3acc90,_0xf9b027){_0x3acc90=_0x3acc90-0x16f;let _0x9dd07f=_0x4af080[_0x3acc90];return _0x9dd07f;},a120_0x56a8(_0x25c589,_0x546011);}function isPathsEquals(_0x231952,_0x41644b){const _0x1aec52=a120_0x58c45c;return _0x231952['replace'](path_1[_0x1aec52(0x193)][_0x1aec52(0x171)](_0x231952),'')===_0x41644b[_0x1aec52(0x1a3)](path_1[_0x1aec52(0x193)][_0x1aec52(0x171)](_0x41644b),'');}exports[a120_0x58c45c(0x172)]=isPathsEquals;function prepareGitChangedPaths(_0x51c95a,_0x439c72=![]){const _0x4cb321=a120_0x58c45c;return _0x439c72&&(_0x51c95a=_0x51c95a['filter'](_0x56f86=>_0x56f86['startsWith'](constants_1[_0x4cb321(0x198)]))),[...new Set(_0x51c95a[_0x4cb321(0x194)](_0x23ea01=>{const _0x446e67=_0x4cb321;if(_0x23ea01[_0x446e67(0x19b)](constants_1[_0x446e67(0x198)])){const _0x17362c=_0x23ea01['replace'](constants_1[_0x446e67(0x198)],'')[_0x446e67(0x174)](0x1),[_0x18704a,_0x28e12e]=_0x17362c['split']('/');let _0x249200=_0x28e12e;return _0x249200[_0x446e67(0x1a0)](constants_1[_0x446e67(0x179)])&&(_0x249200=_0x249200[_0x446e67(0x1a3)](constants_1['META_XML_EXTENSION'],'')),path_1[_0x446e67(0x193)][_0x446e67(0x171)](_0x249200)&&(_0x249200=_0x249200[_0x446e67(0x1a3)](path_1[_0x446e67(0x193)][_0x446e67(0x171)](_0x249200),'')),path_1[_0x446e67(0x193)][_0x446e67(0x17e)](_0x18704a,_0x249200);}const _0x2e4cb1=path_1['default'][_0x446e67(0x177)]('.',_0x23ea01);if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x446e67(0x16f)](_0x2e4cb1)||(0x0,vlocity_1['isVlocityComponent'])(_0x2e4cb1)){const [_0xd55233,_0x3dae2f]=_0x2e4cb1[_0x446e67(0x19e)](path_1['default'][_0x446e67(0x19c)]);return path_1['default']['join'](_0xd55233,_0x3dae2f);}return _0x2e4cb1;}))]['map'](_0x5b0d3c=>_0x5b0d3c[_0x4cb321(0x19e)](path_1[_0x4cb321(0x193)][_0x4cb321(0x19c)])[_0x4cb321(0x17e)](path_1[_0x4cb321(0x193)][_0x4cb321(0x1a2)][_0x4cb321(0x19c)]));}exports[a120_0x58c45c(0x19d)]=prepareGitChangedPaths;