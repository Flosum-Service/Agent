const a120_0x324f1a=a120_0x6fd8;(function(_0x51441f,_0x29d863){const _0x5346a7=a120_0x6fd8,_0x4c76b5=_0x51441f();while(!![]){try{const _0x383f36=parseInt(_0x5346a7(0x1e8))/0x1+parseInt(_0x5346a7(0x1d8))/0x2+parseInt(_0x5346a7(0x1dc))/0x3*(parseInt(_0x5346a7(0x1e7))/0x4)+-parseInt(_0x5346a7(0x1c9))/0x5+-parseInt(_0x5346a7(0x1ed))/0x6+-parseInt(_0x5346a7(0x1f0))/0x7+-parseInt(_0x5346a7(0x1cd))/0x8*(-parseInt(_0x5346a7(0x1ce))/0x9);if(_0x383f36===_0x29d863)break;else _0x4c76b5['push'](_0x4c76b5['shift']());}catch(_0x41707d){_0x4c76b5['push'](_0x4c76b5['shift']());}}}(a120_0x17b9,0x7664e));const a120_0x2a03fa=(function(){let _0x40c1b0=!![];return function(_0x101360,_0x400030){const _0x413185=_0x40c1b0?function(){const _0x30decc=a120_0x6fd8;if(_0x400030){const _0x3512ad=_0x400030[_0x30decc(0x1d4)](_0x101360,arguments);return _0x400030=null,_0x3512ad;}}:function(){};return _0x40c1b0=![],_0x413185;};}()),a120_0x58a109=a120_0x2a03fa(this,function(){const _0x3e200a=a120_0x6fd8;return a120_0x58a109['toString']()[_0x3e200a(0x1f4)](_0x3e200a(0x1d7))[_0x3e200a(0x1de)]()['constructor'](a120_0x58a109)[_0x3e200a(0x1f4)]('(((.+)+)+)+$');});a120_0x58a109();'use strict';var __importDefault=this&&this[a120_0x324f1a(0x1ea)]||function(_0x2b69ba){const _0x26cb38=a120_0x324f1a;return _0x2b69ba&&_0x2b69ba[_0x26cb38(0x1c6)]?_0x2b69ba:{'default':_0x2b69ba};};Object[a120_0x324f1a(0x1d2)](exports,a120_0x324f1a(0x1c6),{'value':!![]}),exports[a120_0x324f1a(0x1c4)]=exports[a120_0x324f1a(0x1eb)]=exports['extractGitCommitDtoFromContext']=void 0x0;function a120_0x6fd8(_0x967c59,_0x1a72f0){const _0x3e7f75=a120_0x17b9();return a120_0x6fd8=function(_0x58a109,_0x2a03fa){_0x58a109=_0x58a109-0x1c2;let _0x17b919=_0x3e7f75[_0x58a109];return _0x17b919;},a120_0x6fd8(_0x967c59,_0x1a72f0);}const constants_1=require(a120_0x324f1a(0x1dd)),errors_1=require(a120_0x324f1a(0x1cc)),bad_request_error_1=require(a120_0x324f1a(0x1ca)),git_provider_1=require(a120_0x324f1a(0x1e5)),git_commit_dto_1=require(a120_0x324f1a(0x1e3)),path_1=__importDefault(require(a120_0x324f1a(0x1cf))),vlocity_1=require('../../parsers/utils/vlocity');function extractGitCommitDtoFromContext(_0x2546a2,_0x422d0d){const _0x5aef1b=a120_0x324f1a;let _0xc87bad;switch(_0x422d0d){case git_provider_1['GitProvider']['Github']:case git_provider_1[_0x5aef1b(0x1e6)]['GithubServer']:_0xc87bad=git_commit_dto_1[_0x5aef1b(0x1ee)]['fromGithub'](_0x2546a2);break;case git_provider_1[_0x5aef1b(0x1e6)]['Azure']:case git_provider_1[_0x5aef1b(0x1e6)][_0x5aef1b(0x1c3)]:_0xc87bad=git_commit_dto_1['GitCommitDto'][_0x5aef1b(0x1e1)](_0x2546a2);break;case git_provider_1['GitProvider'][_0x5aef1b(0x1ef)]:_0xc87bad=git_commit_dto_1[_0x5aef1b(0x1ee)]['fromBitbucket'](_0x2546a2);break;case git_provider_1[_0x5aef1b(0x1e6)][_0x5aef1b(0x1d1)]:_0xc87bad=git_commit_dto_1[_0x5aef1b(0x1ee)][_0x5aef1b(0x1c5)](_0x2546a2);break;case git_provider_1[_0x5aef1b(0x1e6)]['Gitlab']:case git_provider_1['GitProvider'][_0x5aef1b(0x1da)]:_0xc87bad=git_commit_dto_1[_0x5aef1b(0x1ee)][_0x5aef1b(0x1d0)](_0x2546a2);break;default:throw new bad_request_error_1[(_0x5aef1b(0x1cb))](errors_1[_0x5aef1b(0x1d5)]);}return _0xc87bad[_0x5aef1b(0x1f1)]=_0x422d0d,_0xc87bad;}exports['extractGitCommitDtoFromContext']=extractGitCommitDtoFromContext;function isPathsEquals(_0x1b5f96,_0x31b97d){const _0x2fb33d=a120_0x324f1a;return _0x1b5f96[_0x2fb33d(0x1d9)](path_1[_0x2fb33d(0x1c8)]['extname'](_0x1b5f96),'')===_0x31b97d[_0x2fb33d(0x1d9)](path_1[_0x2fb33d(0x1c8)][_0x2fb33d(0x1e2)](_0x31b97d),'');}exports[a120_0x324f1a(0x1eb)]=isPathsEquals;function prepareGitChangedPaths(_0x16a262,_0x4fbb65=![]){const _0x590181=a120_0x324f1a;return _0x4fbb65&&(_0x16a262=_0x16a262[_0x590181(0x1d6)](_0x1519b4=>_0x1519b4[_0x590181(0x1f5)](constants_1['FORCE_APP_DEFAULT_DIR']))),[...new Set(_0x16a262[_0x590181(0x1d3)](_0x5eb669=>{const _0x3515ff=_0x590181;if(_0x5eb669[_0x3515ff(0x1f5)](constants_1[_0x3515ff(0x1db)])){const _0x42cff5=_0x5eb669['replace'](constants_1['FORCE_APP_DEFAULT_DIR'],'')[_0x3515ff(0x1c2)](0x1),[_0x5e2ded,_0x369bd0]=_0x42cff5['split']('/');let _0x2dc59f=_0x369bd0;return _0x2dc59f[_0x3515ff(0x1f2)](constants_1[_0x3515ff(0x1f3)])&&(_0x2dc59f=_0x2dc59f[_0x3515ff(0x1d9)](constants_1['META_XML_EXTENSION'],'')),path_1[_0x3515ff(0x1c8)][_0x3515ff(0x1e2)](_0x2dc59f)&&(_0x2dc59f=_0x2dc59f[_0x3515ff(0x1d9)](path_1[_0x3515ff(0x1c8)][_0x3515ff(0x1e2)](_0x2dc59f),'')),path_1[_0x3515ff(0x1c8)][_0x3515ff(0x1c7)](_0x5e2ded,_0x2dc59f);}const _0x55afa0=path_1[_0x3515ff(0x1c8)]['relative']('.',_0x5eb669);if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x3515ff(0x1e0)](_0x55afa0)||(0x0,vlocity_1[_0x3515ff(0x1e4)])(_0x55afa0)){const [_0x1aa1dd,_0x2a9017]=_0x55afa0[_0x3515ff(0x1ec)](path_1[_0x3515ff(0x1c8)]['sep']);return path_1['default'][_0x3515ff(0x1c7)](_0x1aa1dd,_0x2a9017);}return _0x55afa0;}))][_0x590181(0x1d3)](_0x34b764=>_0x34b764[_0x590181(0x1ec)](path_1[_0x590181(0x1c8)][_0x590181(0x1e9)])[_0x590181(0x1c7)](path_1['default'][_0x590181(0x1df)]['sep']));}function a120_0x17b9(){const _0x4b274b=['path','fromGitlab','BitbucketServer','defineProperty','map','apply','ERR_UNKNOWN_GIT_SERVICE','filter','(((.+)+)+)+$','352312wxrmMh','replace','GitlabServer','FORCE_APP_DEFAULT_DIR','66aBUlFE','../../../../constants','toString','posix','test','fromAzure','extname','../dto/git-commit.dto','isVlocityComponent','../../providers/types/git-provider','GitProvider','81772KrKmGx','953424hEYjPw','sep','__importDefault','isPathsEquals','split','4342314gXEghs','GitCommitDto','Bitbucket','3667048XqdLzT','provider','endsWith','META_XML_EXTENSION','search','startsWith','substr','AzureServer','prepareGitChangedPaths','fromBitbucketServer','__esModule','join','default','2442970ThGmzA','../../../../core/errors/bad-request.error','BadRequestError','../../../../constants/errors','824oKvwkX','56079tVRSWp'];a120_0x17b9=function(){return _0x4b274b;};return a120_0x17b9();}exports[a120_0x324f1a(0x1c4)]=prepareGitChangedPaths;