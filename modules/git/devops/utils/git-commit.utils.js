const a89_0x386c56=a89_0x2ae9;function a89_0x2ae9(_0x51a7e3,_0x362a0e){const _0x44550a=a89_0x88d8();return a89_0x2ae9=function(_0xe1a710,_0x58e16b){_0xe1a710=_0xe1a710-0x157;let _0x88d8d7=_0x44550a[_0xe1a710];return _0x88d8d7;},a89_0x2ae9(_0x51a7e3,_0x362a0e);}(function(_0x510aa4,_0x255d51){const _0x3c75df=a89_0x2ae9,_0x4cf44b=_0x510aa4();while(!![]){try{const _0x5035b2=parseInt(_0x3c75df(0x16d))/0x1+-parseInt(_0x3c75df(0x187))/0x2+-parseInt(_0x3c75df(0x15b))/0x3+parseInt(_0x3c75df(0x185))/0x4*(-parseInt(_0x3c75df(0x17b))/0x5)+-parseInt(_0x3c75df(0x162))/0x6+-parseInt(_0x3c75df(0x15e))/0x7*(parseInt(_0x3c75df(0x15d))/0x8)+parseInt(_0x3c75df(0x179))/0x9;if(_0x5035b2===_0x255d51)break;else _0x4cf44b['push'](_0x4cf44b['shift']());}catch(_0xd2096c){_0x4cf44b['push'](_0x4cf44b['shift']());}}}(a89_0x88d8,0xa3b3d));const a89_0x58e16b=(function(){let _0x4bf9ed=!![];return function(_0x1a3987,_0x161045){const _0x3cf845=_0x4bf9ed?function(){const _0x2dfd76=a89_0x2ae9;if(_0x161045){const _0xd00455=_0x161045[_0x2dfd76(0x16a)](_0x1a3987,arguments);return _0x161045=null,_0xd00455;}}:function(){};return _0x4bf9ed=![],_0x3cf845;};}()),a89_0xe1a710=a89_0x58e16b(this,function(){const _0x170b60=a89_0x2ae9;return a89_0xe1a710['toString']()[_0x170b60(0x17d)]('(((.+)+)+)+$')[_0x170b60(0x158)]()['constructor'](a89_0xe1a710)[_0x170b60(0x17d)](_0x170b60(0x16e));});a89_0xe1a710();'use strict';var __importDefault=this&&this[a89_0x386c56(0x17c)]||function(_0x1a1ddf){const _0x50784c=a89_0x386c56;return _0x1a1ddf&&_0x1a1ddf[_0x50784c(0x186)]?_0x1a1ddf:{'default':_0x1a1ddf};};Object[a89_0x386c56(0x177)](exports,a89_0x386c56(0x186),{'value':!![]}),exports[a89_0x386c56(0x170)]=exports[a89_0x386c56(0x183)]=exports[a89_0x386c56(0x171)]=void 0x0;function a89_0x88d8(){const _0x391e44=['BitbucketServer','../../../../constants','toString','extname','provider','3050952rDKYlE','startsWith','3042560zvFlTr','14jPklzM','../../providers/types/git-provider','relative','GithubServer','836514yATgXr','path','GitProvider','sep','test','fromAzure','map','GitCommitDto','apply','endsWith','META_XML_EXTENSION','23105ZNrQuZ','(((.+)+)+)+$','fromBitbucketServer','prepareGitChangedPaths','extractGitCommitDtoFromContext','replace','BadRequestError','fromGithub','fromBitbucket','GitlabServer','defineProperty','join','39982599nFAiJU','FORCE_APP_DEFAULT_DIR','5564540OiIujl','__importDefault','search','split','posix','Bitbucket','default','substr','isPathsEquals','../dto/git-commit.dto','4BpXNYd','__esModule','1530280yaachF','fromGitlab'];a89_0x88d8=function(){return _0x391e44;};return a89_0x88d8();}const constants_1=require(a89_0x386c56(0x157)),errors_1=require('../../../../constants/errors'),bad_request_error_1=require('../../../../core/errors/bad-request.error'),git_provider_1=require(a89_0x386c56(0x15f)),git_commit_dto_1=require(a89_0x386c56(0x184)),path_1=__importDefault(require(a89_0x386c56(0x163)));function extractGitCommitDtoFromContext(_0x7f1e3a,_0xed6452){const _0x28cb26=a89_0x386c56;let _0x299e53;switch(_0xed6452){case git_provider_1[_0x28cb26(0x164)]['Github']:case git_provider_1[_0x28cb26(0x164)][_0x28cb26(0x161)]:_0x299e53=git_commit_dto_1[_0x28cb26(0x169)][_0x28cb26(0x174)](_0x7f1e3a);break;case git_provider_1['GitProvider']['Azure']:case git_provider_1[_0x28cb26(0x164)]['AzureServer']:_0x299e53=git_commit_dto_1[_0x28cb26(0x169)][_0x28cb26(0x167)](_0x7f1e3a);break;case git_provider_1[_0x28cb26(0x164)][_0x28cb26(0x180)]:_0x299e53=git_commit_dto_1[_0x28cb26(0x169)][_0x28cb26(0x175)](_0x7f1e3a);break;case git_provider_1[_0x28cb26(0x164)][_0x28cb26(0x189)]:_0x299e53=git_commit_dto_1[_0x28cb26(0x169)][_0x28cb26(0x16f)](_0x7f1e3a);break;case git_provider_1[_0x28cb26(0x164)]['Gitlab']:case git_provider_1[_0x28cb26(0x164)][_0x28cb26(0x176)]:_0x299e53=git_commit_dto_1[_0x28cb26(0x169)][_0x28cb26(0x188)](_0x7f1e3a);break;default:throw new bad_request_error_1[(_0x28cb26(0x173))](errors_1['ERR_UNKNOWN_GIT_SERVICE']);}return _0x299e53[_0x28cb26(0x15a)]=_0xed6452,_0x299e53;}exports['extractGitCommitDtoFromContext']=extractGitCommitDtoFromContext;function isPathsEquals(_0x57e8a2,_0x2d83b4){const _0x486b91=a89_0x386c56;return _0x57e8a2[_0x486b91(0x172)](path_1[_0x486b91(0x181)][_0x486b91(0x159)](_0x57e8a2),'')===_0x2d83b4[_0x486b91(0x172)](path_1[_0x486b91(0x181)][_0x486b91(0x159)](_0x2d83b4),'');}exports[a89_0x386c56(0x183)]=isPathsEquals;function prepareGitChangedPaths(_0x1c13f2,_0x4a50cf=![]){const _0x41130a=a89_0x386c56;return _0x4a50cf&&(_0x1c13f2=_0x1c13f2['filter'](_0x41350b=>_0x41350b[_0x41130a(0x15c)](constants_1[_0x41130a(0x17a)]))),[...new Set(_0x1c13f2[_0x41130a(0x168)](_0x1c8741=>{const _0x328f3a=_0x41130a;if(_0x1c8741['startsWith'](constants_1[_0x328f3a(0x17a)])){const _0x282fd9=_0x1c8741[_0x328f3a(0x172)](constants_1['FORCE_APP_DEFAULT_DIR'],'')[_0x328f3a(0x182)](0x1),[_0x2bb7d7,_0x20f5ba]=_0x282fd9[_0x328f3a(0x17e)]('/');let _0x34b5fc=_0x20f5ba;return _0x34b5fc[_0x328f3a(0x16b)](constants_1[_0x328f3a(0x16c)])&&(_0x34b5fc=_0x34b5fc[_0x328f3a(0x172)](constants_1[_0x328f3a(0x16c)],'')),path_1[_0x328f3a(0x181)][_0x328f3a(0x159)](_0x34b5fc)&&(_0x34b5fc=_0x34b5fc[_0x328f3a(0x172)](path_1[_0x328f3a(0x181)][_0x328f3a(0x159)](_0x34b5fc),'')),path_1['default'][_0x328f3a(0x178)](_0x2bb7d7,_0x34b5fc);}const _0x5986f5=path_1['default'][_0x328f3a(0x160)]('.',_0x1c8741);if(constants_1['BUNDLED_FOLDERS_REGEXP'][_0x328f3a(0x166)](_0x5986f5)){const [_0x3cd4cb,_0x45b34f]=_0x5986f5[_0x328f3a(0x17e)](path_1[_0x328f3a(0x181)]['sep']);return path_1[_0x328f3a(0x181)][_0x328f3a(0x178)](_0x3cd4cb,_0x45b34f);}return _0x5986f5;}))][_0x41130a(0x168)](_0x1cc089=>_0x1cc089[_0x41130a(0x17e)](path_1[_0x41130a(0x181)][_0x41130a(0x165)])[_0x41130a(0x178)](path_1[_0x41130a(0x181)][_0x41130a(0x17f)][_0x41130a(0x165)]));}exports['prepareGitChangedPaths']=prepareGitChangedPaths;