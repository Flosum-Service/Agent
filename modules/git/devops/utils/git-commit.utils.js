const a76_0x5a1004=a76_0x3f0b;(function(_0x53054e,_0x2b5360){const _0x9ce88a=a76_0x3f0b,_0x5baac1=_0x53054e();while(!![]){try{const _0x355807=parseInt(_0x9ce88a(0x174))/0x1+parseInt(_0x9ce88a(0x16b))/0x2+parseInt(_0x9ce88a(0x195))/0x3*(parseInt(_0x9ce88a(0x177))/0x4)+-parseInt(_0x9ce88a(0x186))/0x5*(-parseInt(_0x9ce88a(0x180))/0x6)+parseInt(_0x9ce88a(0x18f))/0x7+-parseInt(_0x9ce88a(0x17d))/0x8+-parseInt(_0x9ce88a(0x17b))/0x9;if(_0x355807===_0x2b5360)break;else _0x5baac1['push'](_0x5baac1['shift']());}catch(_0xd2e3d9){_0x5baac1['push'](_0x5baac1['shift']());}}}(a76_0x2c89,0x1f367));const a76_0x4d4b0c=(function(){let _0xeed4b4=!![];return function(_0x1cf808,_0x3fe66e){const _0x3ada53=_0xeed4b4?function(){const _0x19c500=a76_0x3f0b;if(_0x3fe66e){const _0x387bf5=_0x3fe66e[_0x19c500(0x179)](_0x1cf808,arguments);return _0x3fe66e=null,_0x387bf5;}}:function(){};return _0xeed4b4=![],_0x3ada53;};}()),a76_0x6b4022=a76_0x4d4b0c(this,function(){const _0x258792=a76_0x3f0b;return a76_0x6b4022[_0x258792(0x16d)]()[_0x258792(0x178)]('(((.+)+)+)+$')[_0x258792(0x16d)]()['constructor'](a76_0x6b4022)['search'](_0x258792(0x191));});a76_0x6b4022();'use strict';var __importDefault=this&&this[a76_0x5a1004(0x18b)]||function(_0x47bd66){const _0x57beb2=a76_0x5a1004;return _0x47bd66&&_0x47bd66[_0x57beb2(0x18d)]?_0x47bd66:{'default':_0x47bd66};};Object[a76_0x5a1004(0x196)](exports,a76_0x5a1004(0x18d),{'value':!![]}),exports['prepareGitChangedPaths']=exports[a76_0x5a1004(0x184)]=exports[a76_0x5a1004(0x182)]=void 0x0;const constants_1=require('../../../../constants'),errors_1=require('../../../../constants/errors'),bad_request_error_1=require(a76_0x5a1004(0x17f)),git_provider_1=require('../../providers/types/git-provider'),git_commit_dto_1=require('../dto/git-commit.dto'),path_1=__importDefault(require(a76_0x5a1004(0x183)));function a76_0x3f0b(_0x53898e,_0x5f4b1f){const _0x478d31=a76_0x2c89();return a76_0x3f0b=function(_0x6b4022,_0x4d4b0c){_0x6b4022=_0x6b4022-0x168;let _0x2c897e=_0x478d31[_0x6b4022];return _0x2c897e;},a76_0x3f0b(_0x53898e,_0x5f4b1f);}function a76_0x2c89(){const _0xd42f8f=['extname','__importDefault','META_XML_EXTENSION','__esModule','BadRequestError','588518hxEhyX','posix','(((.+)+)+)+$','substr','startsWith','GitProvider','3sUIGbX','defineProperty','GitCommitDto','relative','BitbucketServer','ERR_UNKNOWN_GIT_SERVICE','provider','replace','88448qcbDwL','BUNDLED_FOLDERS_REGEXP','toString','GithubServer','sep','Github','prepareGitChangedPaths','Azure','GitlabServer','212864ZvRoEl','join','Bitbucket','475564kKELYV','search','apply','Gitlab','4289571vDeXkm','endsWith','632768tBXJpW','FORCE_APP_DEFAULT_DIR','../../../../core/errors/bad-request.error','66jeZvHD','map','extractGitCommitDtoFromContext','path','isPathsEquals','fromGithub','101595KmZenQ','split','fromAzure','default'];a76_0x2c89=function(){return _0xd42f8f;};return a76_0x2c89();}function extractGitCommitDtoFromContext(_0x5ae2e1,_0x2b39f3){const _0x449600=a76_0x5a1004;let _0x3bc1cb;switch(_0x2b39f3){case git_provider_1[_0x449600(0x194)][_0x449600(0x170)]:case git_provider_1[_0x449600(0x194)][_0x449600(0x16e)]:_0x3bc1cb=git_commit_dto_1[_0x449600(0x197)][_0x449600(0x185)](_0x5ae2e1);break;case git_provider_1[_0x449600(0x194)][_0x449600(0x172)]:case git_provider_1[_0x449600(0x194)]['AzureServer']:_0x3bc1cb=git_commit_dto_1[_0x449600(0x197)][_0x449600(0x188)](_0x5ae2e1);break;case git_provider_1['GitProvider'][_0x449600(0x176)]:_0x3bc1cb=git_commit_dto_1[_0x449600(0x197)]['fromBitbucket'](_0x5ae2e1);break;case git_provider_1[_0x449600(0x194)][_0x449600(0x199)]:_0x3bc1cb=git_commit_dto_1[_0x449600(0x197)]['fromBitbucketServer'](_0x5ae2e1);break;case git_provider_1[_0x449600(0x194)][_0x449600(0x17a)]:case git_provider_1[_0x449600(0x194)][_0x449600(0x173)]:_0x3bc1cb=git_commit_dto_1[_0x449600(0x197)]['fromGitlab'](_0x5ae2e1);break;default:throw new bad_request_error_1[(_0x449600(0x18e))](errors_1[_0x449600(0x168)]);}return _0x3bc1cb[_0x449600(0x169)]=_0x2b39f3,_0x3bc1cb;}exports['extractGitCommitDtoFromContext']=extractGitCommitDtoFromContext;function isPathsEquals(_0x2cb787,_0x184238){const _0x3bffa9=a76_0x5a1004;return _0x2cb787[_0x3bffa9(0x16a)](path_1[_0x3bffa9(0x189)][_0x3bffa9(0x18a)](_0x2cb787),'')===_0x184238['replace'](path_1[_0x3bffa9(0x189)][_0x3bffa9(0x18a)](_0x184238),'');}exports[a76_0x5a1004(0x184)]=isPathsEquals;function prepareGitChangedPaths(_0x376c88,_0x1ab87e=![]){const _0x2c3956=a76_0x5a1004;return _0x1ab87e&&(_0x376c88=_0x376c88['filter'](_0x410f44=>_0x410f44[_0x2c3956(0x193)](constants_1[_0x2c3956(0x17e)]))),[...new Set(_0x376c88['map'](_0x30fa7c=>{const _0x24af84=_0x2c3956;if(_0x30fa7c['startsWith'](constants_1['FORCE_APP_DEFAULT_DIR'])){const _0x36966d=_0x30fa7c[_0x24af84(0x16a)](constants_1[_0x24af84(0x17e)],'')[_0x24af84(0x192)](0x1),[_0xb01c81,_0x50fbc9]=_0x36966d[_0x24af84(0x187)]('/');let _0x16d45c=_0x50fbc9;return _0x16d45c[_0x24af84(0x17c)](constants_1[_0x24af84(0x18c)])&&(_0x16d45c=_0x16d45c[_0x24af84(0x16a)](constants_1[_0x24af84(0x18c)],'')),path_1[_0x24af84(0x189)]['extname'](_0x16d45c)&&(_0x16d45c=_0x16d45c['replace'](path_1[_0x24af84(0x189)]['extname'](_0x16d45c),'')),path_1[_0x24af84(0x189)][_0x24af84(0x175)](_0xb01c81,_0x16d45c);}const _0x2499d5=path_1['default'][_0x24af84(0x198)]('.',_0x30fa7c);if(constants_1[_0x24af84(0x16c)]['test'](_0x2499d5)){const [_0x23809e,_0x135f3f]=_0x2499d5[_0x24af84(0x187)](path_1['default'][_0x24af84(0x16f)]);return path_1[_0x24af84(0x189)]['join'](_0x23809e,_0x135f3f);}return _0x2499d5;}))][_0x2c3956(0x181)](_0x4b6e5f=>_0x4b6e5f['split'](path_1['default']['sep'])['join'](path_1['default'][_0x2c3956(0x190)]['sep']));}exports[a76_0x5a1004(0x171)]=prepareGitChangedPaths;