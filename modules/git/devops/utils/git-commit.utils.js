const a120_0x212a50=a120_0x1e00;function a120_0x2313(){const _0x4ef44f=['isPathsEquals','6065140jfxKfA','META_XML_EXTENSION','../../../../core/errors/bad-request.error','endsWith','isVlocityComponent','BUNDLED_FOLDERS_REGEXP','extname','startsWith','join','1532100DRgIwt','2088XsWNrt','constructor','toString','../../../../constants/errors','fromGithub','(((.+)+)+)+$','test','search','Gitlab','GitCommitDto','provider','relative','fromAzure','__esModule','apply','../../../../constants','split','fromGitlab','map','9CnfrTx','default','1894rnZCKS','GitProvider','filter','replace','4AyJJcd','GitlabServer','prepareGitChangedPaths','posix','fromBitbucket','Bitbucket','10NOMZnt','553696JMzdSE','sep','FORCE_APP_DEFAULT_DIR','fromBitbucketServer','Github','8813WlmhnR','../dto/git-commit.dto','1375728YlvHLs','11170wdeEJN','defineProperty'];a120_0x2313=function(){return _0x4ef44f;};return a120_0x2313();}(function(_0x445a25,_0x5806d4){const _0x32f9d0=a120_0x1e00,_0x15519a=_0x445a25();while(!![]){try{const _0x51e32c=-parseInt(_0x32f9d0(0x1da))/0x1*(-parseInt(_0x32f9d0(0x1d0))/0x2)+-parseInt(_0x32f9d0(0x1ef))/0x3+-parseInt(_0x32f9d0(0x1d4))/0x4*(-parseInt(_0x32f9d0(0x1e6))/0x5)+-parseInt(_0x32f9d0(0x1e2))/0x6+-parseInt(_0x32f9d0(0x1e0))/0x7*(-parseInt(_0x32f9d0(0x1f0))/0x8)+-parseInt(_0x32f9d0(0x1ce))/0x9*(-parseInt(_0x32f9d0(0x1e3))/0xa)+-parseInt(_0x32f9d0(0x1db))/0xb;if(_0x51e32c===_0x5806d4)break;else _0x15519a['push'](_0x15519a['shift']());}catch(_0xa85bc5){_0x15519a['push'](_0x15519a['shift']());}}}(a120_0x2313,0xba022));const a120_0x36972e=(function(){let _0xf74136=!![];return function(_0x45c884,_0x2a6777){const _0xeba593=_0xf74136?function(){const _0x596137=a120_0x1e00;if(_0x2a6777){const _0x5488b4=_0x2a6777[_0x596137(0x1c9)](_0x45c884,arguments);return _0x2a6777=null,_0x5488b4;}}:function(){};return _0xf74136=![],_0xeba593;};}()),a120_0x1465c9=a120_0x36972e(this,function(){const _0x1bbf3d=a120_0x1e00;return a120_0x1465c9[_0x1bbf3d(0x1f2)]()['search'](_0x1bbf3d(0x1f5))[_0x1bbf3d(0x1f2)]()[_0x1bbf3d(0x1f1)](a120_0x1465c9)[_0x1bbf3d(0x1f7)](_0x1bbf3d(0x1f5));});a120_0x1465c9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x31bf71){return _0x31bf71&&_0x31bf71['__esModule']?_0x31bf71:{'default':_0x31bf71};};Object[a120_0x212a50(0x1e4)](exports,a120_0x212a50(0x1fd),{'value':!![]}),exports[a120_0x212a50(0x1d6)]=exports[a120_0x212a50(0x1e5)]=exports['extractGitCommitDtoFromContext']=void 0x0;function a120_0x1e00(_0x593c6e,_0x303ee3){const _0x4f6d62=a120_0x2313();return a120_0x1e00=function(_0x1465c9,_0x36972e){_0x1465c9=_0x1465c9-0x1c9;let _0x2313ad=_0x4f6d62[_0x1465c9];return _0x2313ad;},a120_0x1e00(_0x593c6e,_0x303ee3);}const constants_1=require(a120_0x212a50(0x1ca)),errors_1=require(a120_0x212a50(0x1f3)),bad_request_error_1=require(a120_0x212a50(0x1e8)),git_provider_1=require('../../providers/types/git-provider'),git_commit_dto_1=require(a120_0x212a50(0x1e1)),path_1=__importDefault(require('path')),vlocity_1=require('../../parsers/utils/vlocity');function extractGitCommitDtoFromContext(_0x1f1a8f,_0x349248){const _0x249873=a120_0x212a50;let _0x455e6c;switch(_0x349248){case git_provider_1[_0x249873(0x1d1)][_0x249873(0x1df)]:case git_provider_1[_0x249873(0x1d1)]['GithubServer']:_0x455e6c=git_commit_dto_1[_0x249873(0x1f9)][_0x249873(0x1f4)](_0x1f1a8f);break;case git_provider_1[_0x249873(0x1d1)]['Azure']:case git_provider_1[_0x249873(0x1d1)]['AzureServer']:_0x455e6c=git_commit_dto_1[_0x249873(0x1f9)][_0x249873(0x1fc)](_0x1f1a8f);break;case git_provider_1[_0x249873(0x1d1)][_0x249873(0x1d9)]:_0x455e6c=git_commit_dto_1[_0x249873(0x1f9)][_0x249873(0x1d8)](_0x1f1a8f);break;case git_provider_1[_0x249873(0x1d1)]['BitbucketServer']:_0x455e6c=git_commit_dto_1[_0x249873(0x1f9)][_0x249873(0x1de)](_0x1f1a8f);break;case git_provider_1[_0x249873(0x1d1)][_0x249873(0x1f8)]:case git_provider_1[_0x249873(0x1d1)][_0x249873(0x1d5)]:_0x455e6c=git_commit_dto_1[_0x249873(0x1f9)][_0x249873(0x1cc)](_0x1f1a8f);break;default:throw new bad_request_error_1['BadRequestError'](errors_1['ERR_UNKNOWN_GIT_SERVICE']);}return _0x455e6c[_0x249873(0x1fa)]=_0x349248,_0x455e6c;}exports['extractGitCommitDtoFromContext']=extractGitCommitDtoFromContext;function isPathsEquals(_0x101ec8,_0x469f4c){const _0x2a83cb=a120_0x212a50;return _0x101ec8['replace'](path_1[_0x2a83cb(0x1cf)]['extname'](_0x101ec8),'')===_0x469f4c[_0x2a83cb(0x1d3)](path_1[_0x2a83cb(0x1cf)]['extname'](_0x469f4c),'');}exports[a120_0x212a50(0x1e5)]=isPathsEquals;function prepareGitChangedPaths(_0x54c941,_0x2ef977=![]){const _0x1a92d8=a120_0x212a50;return _0x2ef977&&(_0x54c941=_0x54c941[_0x1a92d8(0x1d2)](_0x356d47=>_0x356d47[_0x1a92d8(0x1ed)](constants_1['FORCE_APP_DEFAULT_DIR']))),[...new Set(_0x54c941['map'](_0x2e8bc8=>{const _0x1e4059=_0x1a92d8;if(_0x2e8bc8[_0x1e4059(0x1ed)](constants_1[_0x1e4059(0x1dd)])){const _0x38d65c=_0x2e8bc8[_0x1e4059(0x1d3)](constants_1[_0x1e4059(0x1dd)],'')['substr'](0x1),[_0x307fd4,_0x42709b]=_0x38d65c['split']('/');let _0x197b45=_0x42709b;return _0x197b45[_0x1e4059(0x1e9)](constants_1[_0x1e4059(0x1e7)])&&(_0x197b45=_0x197b45['replace'](constants_1[_0x1e4059(0x1e7)],'')),path_1[_0x1e4059(0x1cf)][_0x1e4059(0x1ec)](_0x197b45)&&(_0x197b45=_0x197b45[_0x1e4059(0x1d3)](path_1['default'][_0x1e4059(0x1ec)](_0x197b45),'')),path_1[_0x1e4059(0x1cf)]['join'](_0x307fd4,_0x197b45);}const _0x182952=path_1[_0x1e4059(0x1cf)][_0x1e4059(0x1fb)]('.',_0x2e8bc8);if(constants_1[_0x1e4059(0x1eb)][_0x1e4059(0x1f6)](_0x182952)||(0x0,vlocity_1[_0x1e4059(0x1ea)])(_0x182952)){const [_0x3675bd,_0x54f530]=_0x182952['split'](path_1['default'][_0x1e4059(0x1dc)]);return path_1['default'][_0x1e4059(0x1ee)](_0x3675bd,_0x54f530);}return _0x182952;}))][_0x1a92d8(0x1cd)](_0x4c138d=>_0x4c138d[_0x1a92d8(0x1cb)](path_1[_0x1a92d8(0x1cf)]['sep'])[_0x1a92d8(0x1ee)](path_1[_0x1a92d8(0x1cf)][_0x1a92d8(0x1d7)][_0x1a92d8(0x1dc)]));}exports[a120_0x212a50(0x1d6)]=prepareGitChangedPaths;