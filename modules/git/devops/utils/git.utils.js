const a120_0x1bf86d=a120_0x5a7d;(function(_0x2fa8cb,_0x44bb71){const _0x1ec4bf=a120_0x5a7d,_0x427eda=_0x2fa8cb();while(!![]){try{const _0x273f9a=-parseInt(_0x1ec4bf(0x21c))/0x1*(-parseInt(_0x1ec4bf(0x204))/0x2)+parseInt(_0x1ec4bf(0x20c))/0x3+parseInt(_0x1ec4bf(0x1fa))/0x4*(-parseInt(_0x1ec4bf(0x201))/0x5)+parseInt(_0x1ec4bf(0x212))/0x6+-parseInt(_0x1ec4bf(0x20b))/0x7+-parseInt(_0x1ec4bf(0x216))/0x8+parseInt(_0x1ec4bf(0x20a))/0x9;if(_0x273f9a===_0x44bb71)break;else _0x427eda['push'](_0x427eda['shift']());}catch(_0x98e2a){_0x427eda['push'](_0x427eda['shift']());}}}(a120_0x5846,0x382eb));const a120_0x31a54e=(function(){let _0x5145d4=!![];return function(_0x2f5aaa,_0x1d9dc4){const _0x3ca2c1=_0x5145d4?function(){const _0x293881=a120_0x5a7d;if(_0x1d9dc4){const _0xf3fde=_0x1d9dc4[_0x293881(0x1f5)](_0x2f5aaa,arguments);return _0x1d9dc4=null,_0xf3fde;}}:function(){};return _0x5145d4=![],_0x3ca2c1;};}()),a120_0x58f386=a120_0x31a54e(this,function(){const _0x3790e9=a120_0x5a7d;return a120_0x58f386[_0x3790e9(0x21a)]()['search'](_0x3790e9(0x219))[_0x3790e9(0x21a)]()[_0x3790e9(0x209)](a120_0x58f386)[_0x3790e9(0x1fc)](_0x3790e9(0x219));});a120_0x58f386();'use strict';var __importDefault=this&&this[a120_0x1bf86d(0x1f7)]||function(_0x382af9){const _0x11bccf=a120_0x1bf86d;return _0x382af9&&_0x382af9[_0x11bccf(0x218)]?_0x382af9:{'default':_0x382af9};};Object[a120_0x1bf86d(0x21e)](exports,a120_0x1bf86d(0x218),{'value':!![]}),exports[a120_0x1bf86d(0x200)]=void 0x0;const fs_internal_1=require('../../internal/fs.internal'),git_internal_1=require('../../internal/git.internal'),shell_internal_1=require(a120_0x1bf86d(0x1fd)),utils_1=require(a120_0x1bf86d(0x203)),shortid_1=__importDefault(require('shortid'));function a120_0x5846(){const _0xccf831=['(((.+)+)+)+$','toString','git','117SqBTzd','commitAndPush','defineProperty','MAX_GIT_STATUS_CHECK','nothing\x20to\x20commit','GIT_STATUS_CHECK_INTERVAL','catch','apply','checkout','__importDefault','sleep','clone','2412ApxVYb','\x20&&\x20git\x20rm\x20-rf\x20.\x20&&\x20git\x20clean\x20.\x20-fxd','search','../../internal/shell.internal','message','exec','GitUtils','3650jNOQPo','includes','../../../shared/utils','4038IJDYTA','default','add','dir','cd\x20','constructor','2760165jlFIab','2177245IexJYN','1027578BBxCRw','commit','getCurrentHash','describeCommit','checkoutTo','name','1007598UOfmTm','Shell','remote','status','576152mGRPIV','removeDir','__esModule'];a120_0x5846=function(){return _0xccf831;};return a120_0x5846();}class GitUtils{constructor(_0x3da7d2){const _0x231559=a120_0x1bf86d;this[_0x231559(0x214)]=_0x3da7d2,this[_0x231559(0x21f)]=0xa,this[_0x231559(0x221)]=0xbb8,this['uniqueId']=(0x0,shortid_1[_0x231559(0x205)])();}get[a120_0x1bf86d(0x207)](){const _0x29e086=a120_0x1bf86d;return this[_0x29e086(0x21b)]['baseDir'];}async[a120_0x1bf86d(0x1f9)](_0x59a520,_0x9e30d9){const _0x1e8722=a120_0x1bf86d;this[_0x1e8722(0x21b)]=await git_internal_1['Git']['clone'](this[_0x1e8722(0x214)],''+this['uniqueId'],_0x59a520);}async[a120_0x1bf86d(0x210)](_0x3b91f6){const _0x22274a=a120_0x1bf86d;await this[_0x22274a(0x21b)][_0x22274a(0x1f6)](_0x3b91f6);}['getCurrentHash'](){const _0xbf6aec=a120_0x1bf86d;return this[_0xbf6aec(0x21b)][_0xbf6aec(0x20e)]();}[a120_0x1bf86d(0x20f)](_0x10d6db){const _0x363777=a120_0x1bf86d;return this['git'][_0x363777(0x20f)](_0x10d6db);}async[a120_0x1bf86d(0x21d)](_0x2cf0b5,_0xf3a2a2,_0x790ac1){const _0x2e712e=a120_0x1bf86d;await this[_0x2e712e(0x21b)][_0x2e712e(0x206)]('.');const _0x3570dd=await this[_0x2e712e(0x21b)][_0x2e712e(0x215)]()[_0x2e712e(0x1f4)](_0x2ab993=>_0x2ab993[_0x2e712e(0x1fe)]||_0x2ab993);if(_0x3570dd[_0x2e712e(0x202)](_0x2e712e(0x220)))return;await this[_0x2e712e(0x21b)]['setCredentials'](_0xf3a2a2[_0x2e712e(0x211)],_0xf3a2a2['email']);try{await this[_0x2e712e(0x21b)][_0x2e712e(0x20d)](_0x2cf0b5);}catch(_0x549ef2){let _0x4458fd=0x0;do{_0x4458fd++;const _0x1e777b=await this[_0x2e712e(0x21b)][_0x2e712e(0x215)]()[_0x2e712e(0x1f4)](_0x1ca9de=>_0x1ca9de[_0x2e712e(0x1fe)]||_0x1ca9de);if(_0x1e777b['includes']('nothing\x20to\x20commit')){_0x4458fd=0x0;break;}await(0x0,utils_1[_0x2e712e(0x1f8)])(this['GIT_STATUS_CHECK_INTERVAL']);}while(_0x4458fd<this[_0x2e712e(0x21f)]);if(_0x4458fd===this[_0x2e712e(0x21f)])throw _0x549ef2;}await this[_0x2e712e(0x21b)]['push'](_0x790ac1);}async['clearDir'](){const _0x371758=a120_0x1bf86d;await shell_internal_1[_0x371758(0x213)][_0x371758(0x1ff)](_0x371758(0x208)+this['dir']+_0x371758(0x1fb))[_0x371758(0x1f4)](()=>void 0x0);}async[a120_0x1bf86d(0x217)](){const _0x1eec54=a120_0x1bf86d;await fs_internal_1['FS'][_0x1eec54(0x217)](this['dir']);}}function a120_0x5a7d(_0x509768,_0x490b7f){const _0x2a8a19=a120_0x5846();return a120_0x5a7d=function(_0x58f386,_0x31a54e){_0x58f386=_0x58f386-0x1f4;let _0x5846ff=_0x2a8a19[_0x58f386];return _0x5846ff;},a120_0x5a7d(_0x509768,_0x490b7f);}exports['GitUtils']=GitUtils;