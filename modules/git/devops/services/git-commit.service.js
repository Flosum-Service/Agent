function a110_0x1bc9(){const _0x316545=['catch','syncRecord','1871408fawzAw','getRepositoryId','__esModule','../../parsers/mdapi/factory.parser','getBranchId','Last_Updated_On__c','GitCommitService','updateStatus','Synchronization_Status__c','../../parsers/utils/vlocity','metadata','fetchBranchComponentsByFilenames','fetchBranchComponents','2020lccjhB','map','salesforceSync','fetchRepositoryComponentsByFilenames','repositoryGit','indexOf','fetchRepositoryComponents','getRecordTypes','updateRemoteState','META_XML_EXTENSION','TASKS_PER_TICK','fetchRepositoryOrBranchData','SalesforceGitSyncService','filter','1178952TVhMQv','repositoryId','function','../../parsers/utils','splice','lastCommit','FLOSUM_GIT_NAMESPACE','object','6660YbDsLw','find','length','fetchComponentsMetadata','195980BeOWwa','typedi','create','push','componentsMetadata','defineProperty','patch','SalesforceService','../../salesforce/services/salesforce-rest.service','getComponentRecordTypes','branch','__decorate','salesforceRest','type','getRepositoryRecordByName','checkSyncStatus','FactoryParser','../../../../constants','force','fileName','3222qMDPtb','getUnusedComponentsFilePaths','constructor','master','salesforceGitSync','5rSTATD','getRemoteStateAttachmentId','Service','gitCommit','name','1141FAfAIs','recordTypes','readFilesByFilename','FLOSUM_BRANCH','salesforce','replace','FLOSUM_NAMESPACE','branchId','apply','parse','createCommit','274617RzIalB','156524FNCNuk','toString','FLOSUM_REPOSITORY','string','decorate','isVlocityComponent','getBranchRecordByName','../../salesforce/services/salesforce-git-sync.service','SalesforceSyncService','search','2gobsKn','crc32','filterParserPaths'];a110_0x1bc9=function(){return _0x316545;};return a110_0x1bc9();}function a110_0x3a59(_0x51f362,_0x4a5d21){const _0x2293cf=a110_0x1bc9();return a110_0x3a59=function(_0x3d5c35,_0x294991){_0x3d5c35=_0x3d5c35-0x86;let _0x1bc980=_0x2293cf[_0x3d5c35];return _0x1bc980;},a110_0x3a59(_0x51f362,_0x4a5d21);}const a110_0x149853=a110_0x3a59;(function(_0x226cf6,_0xf3216c){const _0x488f1e=a110_0x3a59,_0x5680ef=_0x226cf6();while(!![]){try{const _0x2e7b30=-parseInt(_0x488f1e(0x8f))/0x1*(parseInt(_0x488f1e(0xbb))/0x2)+parseInt(_0x488f1e(0xe4))/0x3+-parseInt(_0x488f1e(0xe5))/0x4*(-parseInt(_0x488f1e(0xd4))/0x5)+parseInt(_0x488f1e(0xb7))/0x6*(-parseInt(_0x488f1e(0xd9))/0x7)+parseInt(_0x488f1e(0xaf))/0x8+-parseInt(_0x488f1e(0xcf))/0x9*(-parseInt(_0x488f1e(0xa1))/0xa)+parseInt(_0x488f1e(0x94))/0xb;if(_0x2e7b30===_0xf3216c)break;else _0x5680ef['push'](_0x5680ef['shift']());}catch(_0x43aabc){_0x5680ef['push'](_0x5680ef['shift']());}}}(a110_0x1bc9,0x230d5));const a110_0x294991=(function(){let _0x4cf762=!![];return function(_0x2c7057,_0x4a612a){const _0x25dc8f=_0x4cf762?function(){const _0x133ec2=a110_0x3a59;if(_0x4a612a){const _0x312671=_0x4a612a[_0x133ec2(0xe1)](_0x2c7057,arguments);return _0x4a612a=null,_0x312671;}}:function(){};return _0x4cf762=![],_0x25dc8f;};}()),a110_0x3d5c35=a110_0x294991(this,function(){const _0x456bbf=a110_0x3a59;return a110_0x3d5c35[_0x456bbf(0x86)]()[_0x456bbf(0x8e)]('(((.+)+)+)+$')['toString']()[_0x456bbf(0xd1)](a110_0x3d5c35)[_0x456bbf(0x8e)]('(((.+)+)+)+$');});a110_0x3d5c35();'use strict';var __decorate=this&&this[a110_0x149853(0xc6)]||function(_0x24cd8b,_0x4179ec,_0x5c9204,_0x3dd60e){const _0xd7afd0=a110_0x149853;var _0x56ca67=arguments['length'],_0x16b6a8=_0x56ca67<0x3?_0x4179ec:_0x3dd60e===null?_0x3dd60e=Object['getOwnPropertyDescriptor'](_0x4179ec,_0x5c9204):_0x3dd60e,_0x53d54f;if(typeof Reflect===_0xd7afd0(0xb6)&&typeof Reflect[_0xd7afd0(0x89)]===_0xd7afd0(0xb1))_0x16b6a8=Reflect[_0xd7afd0(0x89)](_0x24cd8b,_0x4179ec,_0x5c9204,_0x3dd60e);else{for(var _0x39b88a=_0x24cd8b['length']-0x1;_0x39b88a>=0x0;_0x39b88a--)if(_0x53d54f=_0x24cd8b[_0x39b88a])_0x16b6a8=(_0x56ca67<0x3?_0x53d54f(_0x16b6a8):_0x56ca67>0x3?_0x53d54f(_0x4179ec,_0x5c9204,_0x16b6a8):_0x53d54f(_0x4179ec,_0x5c9204))||_0x16b6a8;}return _0x56ca67>0x3&&_0x16b6a8&&Object[_0xd7afd0(0xc0)](_0x4179ec,_0x5c9204,_0x16b6a8),_0x16b6a8;},__metadata=this&&this['__metadata']||function(_0x562222,_0x345ec3){const _0x5ed0af=a110_0x149853;if(typeof Reflect===_0x5ed0af(0xb6)&&typeof Reflect['metadata']===_0x5ed0af(0xb1))return Reflect[_0x5ed0af(0x9e)](_0x562222,_0x345ec3);};Object['defineProperty'](exports,a110_0x149853(0x96),{'value':!![]}),exports[a110_0x149853(0x9a)]=void 0x0;const constants_1=require(a110_0x149853(0xcc)),salesforce_git_sync_service_1=require(a110_0x149853(0x8c)),salesforce_rest_service_1=require(a110_0x149853(0xc3)),typedi_1=require(a110_0x149853(0xbc)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),utils_1=require(a110_0x149853(0xb2)),factory_parser_1=require(a110_0x149853(0x97)),vlocity_1=require(a110_0x149853(0x9d));let GitCommitService=class GitCommitService{constructor(_0x3ac549,_0x44b7d5,_0x20a9fa,_0x238a94){const _0x4c70a4=a110_0x149853;this[_0x4c70a4(0xd3)]=_0x3ac549,this[_0x4c70a4(0xc7)]=_0x44b7d5,this[_0x4c70a4(0xa3)]=_0x20a9fa,this[_0x4c70a4(0xdd)]=_0x238a94,this['TASKS_PER_TICK']=0xc8;}get['repositoryId'](){const _0x14914b=a110_0x149853;var _0x57c698;return((_0x57c698=this[_0x14914b(0x93)])===null||_0x57c698===void 0x0?void 0x0:_0x57c698['repositoryId'])||'';}get[a110_0x149853(0xe0)](){const _0x3348b8=a110_0x149853;var _0x49a735;return((_0x49a735=this[_0x3348b8(0x93)])===null||_0x49a735===void 0x0?void 0x0:_0x49a735[_0x3348b8(0xe0)])||'';}async[a110_0x149853(0xe3)](_0x1c8d17){const _0x55350b=a110_0x149853;return this[_0x55350b(0xd3)][_0x55350b(0xe3)](_0x1c8d17,this[_0x55350b(0xb0)]);}async[a110_0x149853(0xca)](_0x2dc523){const _0xc3c429=a110_0x149853;if(this['syncRecord']){const _0x138452=await this['salesforceSync'][_0xc3c429(0xd5)](this['syncRecord']),_0x1417e0=await this[_0xc3c429(0xdd)]['retrieveAttachment'](_0x138452)['then'](_0x3272ee=>typeof _0x3272ee===_0xc3c429(0x88)?JSON['parse'](_0x3272ee):_0x3272ee)[_0xc3c429(0x92)](()=>({}));if(_0x1417e0[this['gitCommit'][_0xc3c429(0xa5)]]){if(_0x1417e0[this[_0xc3c429(0xd7)][_0xc3c429(0xa5)]][_0xc3c429(0xb4)]===_0x2dc523)return!![];}return![];}return![];}async['updateRemoteState'](_0x23a487){const _0x23194f=a110_0x149853;this['syncRecord']&&await this[_0x23194f(0xa3)][_0x23194f(0xa9)](this[_0x23194f(0x93)],_0x23a487);}[a110_0x149853(0xd0)](){const _0x4b68be=a110_0x149853;return this[_0x4b68be(0xbf)][_0x4b68be(0xa2)](({fileName:_0x7e6bdf})=>_0x7e6bdf);}async['proceedFile'](_0x80cb86,_0x1ec60e,_0x3a26dd){const _0x5ab278=a110_0x149853,_0x5bf4e2=new RegExp('^'+_0x80cb86+'([./-]{1}|$)');let _0x3b41bf=[_0x80cb86];_0x3a26dd&&!(0x0,vlocity_1[_0x5ab278(0x8a)])(_0x80cb86)&&(_0x3b41bf=(0x0,utils_1[_0x5ab278(0x91)])(await(0x0,utils_1[_0x5ab278(0xdb)])(_0x80cb86,_0x1ec60e)[_0x5ab278(0x92)](()=>[])));const _0x110419=_0x3a26dd?this['componentsMetadata'][_0x5ab278(0xae)](_0x5ba9dd=>_0x5ba9dd['fileName']['match'](_0x5bf4e2)):this[_0x5ab278(0xbf)][_0x5ab278(0xae)](_0x292c8f=>_0x292c8f[_0x5ab278(0xce)]===_0x80cb86||_0x292c8f[_0x5ab278(0xce)]===_0x80cb86[_0x5ab278(0xde)](constants_1[_0x5ab278(0xaa)],'')),_0x36e43d=factory_parser_1[_0x5ab278(0xcb)][_0x5ab278(0xbd)](_0x1ec60e,_0x3b41bf),_0x298349=await _0x36e43d[_0x5ab278(0xe2)](),_0x12a2df=[],_0x437131=[];for(const _0x311e46 of _0x298349){const _0x4624e6=_0x110419[_0x5ab278(0xb8)](_0x391279=>_0x391279[_0x5ab278(0xd8)]===_0x311e46[_0x5ab278(0xd8)]&&_0x391279[_0x5ab278(0xc8)]===_0x311e46[_0x5ab278(0xc8)]);if(!_0x4624e6){_0x12a2df[_0x5ab278(0xbe)](_0x311e46);continue;}_0x311e46['crc']!==_0x4624e6[_0x5ab278(0x90)]&&_0x437131[_0x5ab278(0xbe)]({'meta':_0x4624e6,'component':_0x311e46}),_0x110419[_0x5ab278(0xb3)](_0x110419[_0x5ab278(0xa6)](_0x4624e6),0x1);}return{'inserted':_0x12a2df,'modified':_0x437131,'removed':_0x110419};}async[a110_0x149853(0xac)](){const _0xf72471=a110_0x149853;this[_0xf72471(0x93)]=this[_0xf72471(0xd7)]['branch']===_0xf72471(0xd2)?await this[_0xf72471(0xa3)][_0xf72471(0xc9)](this['gitCommit']['repository']):await this[_0xf72471(0xa3)][_0xf72471(0x8b)](this[_0xf72471(0xd7)][_0xf72471(0xc5)]),this[_0xf72471(0xda)]=await this[_0xf72471(0xd3)][_0xf72471(0xc4)]();}async[a110_0x149853(0xba)](_0x41082c){const _0x4c6e61=a110_0x149853;if(this[_0x4c6e61(0xd7)][_0x4c6e61(0xcd)]||_0x41082c){this['componentsMetadata']=this[_0x4c6e61(0xe0)]?await this['salesforceGitSync'][_0x4c6e61(0xa0)](this[_0x4c6e61(0xe0)]):await this[_0x4c6e61(0xd3)][_0x4c6e61(0xa7)](this[_0x4c6e61(0xb0)]);return;}const _0x2c70dc=[...new Set(this[_0x4c6e61(0xd7)]['fileNames'][_0x4c6e61(0xa2)](_0x14fefd=>_0x14fefd[_0x4c6e61(0xde)](constants_1['META_XML_EXTENSION'],'')))];this[_0x4c6e61(0xbf)]=[];while(_0x2c70dc[_0x4c6e61(0xb9)]){const _0x56d9e7=_0x2c70dc[_0x4c6e61(0xb3)](0x0,this[_0x4c6e61(0xab)]),_0x3af20a=this[_0x4c6e61(0xe0)]?await this[_0x4c6e61(0xd3)][_0x4c6e61(0x9f)](_0x56d9e7,this[_0x4c6e61(0xe0)]):await this['salesforceGitSync'][_0x4c6e61(0xa4)](_0x56d9e7,this[_0x4c6e61(0xb0)]);this[_0x4c6e61(0xbf)]['push'](..._0x3af20a);}}async[a110_0x149853(0x9b)](_0x4568b4){const _0x11c3e6=a110_0x149853;this['branchId']?await this[_0x11c3e6(0xc7)][_0x11c3e6(0xc1)](constants_1[_0x11c3e6(0xdc)],this[_0x11c3e6(0xe0)],{[constants_1[_0x11c3e6(0xb5)]+_0x11c3e6(0x9c)]:_0x4568b4,[constants_1[_0x11c3e6(0xdf)]+_0x11c3e6(0x99)]:Date['now']()}):await this[_0x11c3e6(0xc7)][_0x11c3e6(0xc1)](constants_1[_0x11c3e6(0x87)],this[_0x11c3e6(0xb0)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x11c3e6(0x9c)]:_0x4568b4});}['setCommitDto'](_0x445034){const _0x3ba4e5=a110_0x149853;this[_0x3ba4e5(0xd7)]=_0x445034;}[a110_0x149853(0xa8)](){const _0x3fa2de=a110_0x149853;return this[_0x3fa2de(0xda)];}[a110_0x149853(0x95)](){const _0x1986fd=a110_0x149853;return this[_0x1986fd(0xb0)];}[a110_0x149853(0x98)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x149853(0xd6)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a110_0x149853(0xad)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0x149853(0x8d)],salesforce_service_1[a110_0x149853(0xc2)]])],GitCommitService),exports[a110_0x149853(0x9a)]=GitCommitService;