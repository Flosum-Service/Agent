const a66_0x3c1279=a66_0x1b9f;(function(_0x32f1aa,_0x165aef){const _0xe10739=a66_0x1b9f,_0x148f35=_0x32f1aa();while(!![]){try{const _0x5a9750=-parseInt(_0xe10739(0x95))/0x1*(parseInt(_0xe10739(0x94))/0x2)+parseInt(_0xe10739(0x91))/0x3*(parseInt(_0xe10739(0xd0))/0x4)+-parseInt(_0xe10739(0xe9))/0x5+-parseInt(_0xe10739(0xe6))/0x6+parseInt(_0xe10739(0xae))/0x7+-parseInt(_0xe10739(0x9e))/0x8*(parseInt(_0xe10739(0xce))/0x9)+-parseInt(_0xe10739(0x92))/0xa*(-parseInt(_0xe10739(0x99))/0xb);if(_0x5a9750===_0x165aef)break;else _0x148f35['push'](_0x148f35['shift']());}catch(_0x26c3d2){_0x148f35['push'](_0x148f35['shift']());}}}(a66_0x207d,0x7279d));const a66_0x38a92a=(function(){let _0x49b6ec=!![];return function(_0x2486e9,_0x460cd5){const _0x493277=_0x49b6ec?function(){if(_0x460cd5){const _0x34f126=_0x460cd5['apply'](_0x2486e9,arguments);return _0x460cd5=null,_0x34f126;}}:function(){};return _0x49b6ec=![],_0x493277;};}()),a66_0x227063=a66_0x38a92a(this,function(){const _0x7482f7=a66_0x1b9f;return a66_0x227063['toString']()[_0x7482f7(0xc3)](_0x7482f7(0xb0))[_0x7482f7(0xb6)]()[_0x7482f7(0xd1)](a66_0x227063)[_0x7482f7(0xc3)](_0x7482f7(0xb0));});a66_0x227063();function a66_0x1b9f(_0x3a3ba7,_0x5c9e52){const _0x56504f=a66_0x207d();return a66_0x1b9f=function(_0x227063,_0x38a92a){_0x227063=_0x227063-0x91;let _0x207dcb=_0x56504f[_0x227063];return _0x207dcb;},a66_0x1b9f(_0x3a3ba7,_0x5c9e52);}function a66_0x207d(){const _0x513dfb=['setCommitDto','type','fetchBranchComponents','../../parsers/mdapi/parser','salesforceRest','search','master','lastCommit','../../salesforce/services/salesforce.service','now','GitCommitService','defineProperty','SalesforceGitSyncService','SalesforceRestService','fetchRepositoryOrBranchData','crc','62901bkApwi','updateStatus','4kcIYrj','constructor','fileName','fileNames','salesforce','name','fetchComponentsMetadata','branch','proceedFile','syncRecord','design:paramtypes','Last_Updated_On__c','createCommit','then','length','includes','recordTypes','__esModule','../../salesforce/services/salesforce-sync.service','FLOSUM_GIT_NAMESPACE','gitCommit','getOwnPropertyDescriptor','1702986xFVtQZ','getRepositoryId','getRecordTypes','2309050MOyHJk','1815411BtHsgW','16070UfIoox','getRemoteStateAttachmentId','3812BpKAlf','281ycYNCU','checkSyncStatus','decorate','FLOSUM_REPOSITORY','7293IcPJOS','find','salesforceGitSync','parse','SalesforceSyncService','608oUQqTV','fetchBranchComponentsByFilenames','patch','repository','Synchronization_Status__c','SalesforceService','filter','getRepositoryRecordByName','componentsMetadata','../../salesforce/services/salesforce-git-sync.service','typedi','__decorate','getComponentRecordTypes','fetchRepositoryComponents','retrieveAttachment','map','4274942IDUPJz','../utils/git-commit.utils','(((.+)+)+)+$','repositoryId','function','repositoryGit','catch','metadata','toString','splice','TASKS_PER_TICK','object','updateRemoteState','salesforceSync','branchId','push'];a66_0x207d=function(){return _0x513dfb;};return a66_0x207d();}'use strict';var __decorate=this&&this[a66_0x3c1279(0xa9)]||function(_0x451b50,_0xe5749d,_0x1c593b,_0xca13b2){const _0xc5ec24=a66_0x3c1279;var _0x544ab2=arguments[_0xc5ec24(0xde)],_0x2f02b1=_0x544ab2<0x3?_0xe5749d:_0xca13b2===null?_0xca13b2=Object[_0xc5ec24(0xe5)](_0xe5749d,_0x1c593b):_0xca13b2,_0x606cd8;if(typeof Reflect===_0xc5ec24(0xb9)&&typeof Reflect['decorate']===_0xc5ec24(0xb2))_0x2f02b1=Reflect[_0xc5ec24(0x97)](_0x451b50,_0xe5749d,_0x1c593b,_0xca13b2);else{for(var _0x120a63=_0x451b50['length']-0x1;_0x120a63>=0x0;_0x120a63--)if(_0x606cd8=_0x451b50[_0x120a63])_0x2f02b1=(_0x544ab2<0x3?_0x606cd8(_0x2f02b1):_0x544ab2>0x3?_0x606cd8(_0xe5749d,_0x1c593b,_0x2f02b1):_0x606cd8(_0xe5749d,_0x1c593b))||_0x2f02b1;}return _0x544ab2>0x3&&_0x2f02b1&&Object[_0xc5ec24(0xc9)](_0xe5749d,_0x1c593b,_0x2f02b1),_0x2f02b1;},__metadata=this&&this['__metadata']||function(_0x1691dd,_0x123d86){const _0x277b83=a66_0x3c1279;if(typeof Reflect===_0x277b83(0xb9)&&typeof Reflect[_0x277b83(0xb5)]===_0x277b83(0xb2))return Reflect[_0x277b83(0xb5)](_0x1691dd,_0x123d86);};Object[a66_0x3c1279(0xc9)](exports,a66_0x3c1279(0xe1),{'value':!![]}),exports[a66_0x3c1279(0xc8)]=void 0x0;const constants_1=require('../../../../constants'),parser_1=require(a66_0x3c1279(0xc1)),salesforce_git_sync_service_1=require(a66_0x3c1279(0xa7)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a66_0x3c1279(0xa8)),salesforce_sync_service_1=require(a66_0x3c1279(0xe2)),salesforce_service_1=require(a66_0x3c1279(0xc6)),git_commit_utils_1=require(a66_0x3c1279(0xaf));let GitCommitService=class GitCommitService{constructor(_0x5371a1,_0x119355,_0x3bd189,_0x208b03){const _0x3c7a6e=a66_0x3c1279;this[_0x3c7a6e(0x9b)]=_0x5371a1,this[_0x3c7a6e(0xc2)]=_0x119355,this['salesforceSync']=_0x3bd189,this[_0x3c7a6e(0xd4)]=_0x208b03,this[_0x3c7a6e(0xb8)]=0xc8;}get[a66_0x3c1279(0xb1)](){const _0x77d0f3=a66_0x3c1279;var _0x38d1f1;return((_0x38d1f1=this[_0x77d0f3(0xd9)])===null||_0x38d1f1===void 0x0?void 0x0:_0x38d1f1[_0x77d0f3(0xb1)])||'';}get[a66_0x3c1279(0xbc)](){const _0x4a5f56=a66_0x3c1279;var _0x474990;return((_0x474990=this[_0x4a5f56(0xd9)])===null||_0x474990===void 0x0?void 0x0:_0x474990['branchId'])||'';}async[a66_0x3c1279(0xdc)](_0x3261bd){const _0x4e6600=a66_0x3c1279;return this['salesforceGitSync'][_0x4e6600(0xdc)](_0x3261bd,this[_0x4e6600(0xb1)]);}async[a66_0x3c1279(0x96)](_0x4a8386){const _0x3f68d4=a66_0x3c1279;if(this[_0x3f68d4(0xd9)]){const _0x2693d3=await this[_0x3f68d4(0xbb)][_0x3f68d4(0x93)](this[_0x3f68d4(0xd9)]),_0x5d3211=await this[_0x3f68d4(0xd4)][_0x3f68d4(0xac)](_0x2693d3)[_0x3f68d4(0xdd)](_0xb2a0e1=>typeof _0xb2a0e1==='string'?JSON[_0x3f68d4(0x9c)](_0xb2a0e1):_0xb2a0e1)[_0x3f68d4(0xb4)](()=>({}));if(_0x5d3211[this[_0x3f68d4(0xe4)][_0x3f68d4(0xb3)]]){if(_0x5d3211[this[_0x3f68d4(0xe4)][_0x3f68d4(0xb3)]][_0x3f68d4(0xc5)]===_0x4a8386)return!![];}return![];}return![];}async[a66_0x3c1279(0xba)](_0x1d8e59){const _0x3d9aa6=a66_0x3c1279;this[_0x3d9aa6(0xd9)]&&await this[_0x3d9aa6(0xbb)][_0x3d9aa6(0xba)](this[_0x3d9aa6(0xd9)],_0x1d8e59);}async[a66_0x3c1279(0xd8)](_0x2419c9,_0x442f7b,_0x543f6c){const _0x103641=a66_0x3c1279,_0x16667d=this[_0x103641(0xa6)]['filter'](_0x278a68=>git_commit_utils_1['isPathsEquals'](_0x278a68[_0x103641(0xd2)],_0x2419c9)),_0xf935ba=[],_0x46d0da=[],_0xa3ae5=[],_0x42844d=new parser_1['MDApiParser'](_0x442f7b,[_0x2419c9],_0x543f6c),_0x5807fd=await _0x42844d[_0x103641(0x9c)](),_0x34e6de=_0x5807fd[_0x103641(0xad)](_0x54e7a8=>{const _0x21fe0d=_0x103641,_0x4921d2=_0x16667d[_0x21fe0d(0x9a)](_0x106870=>_0x106870[_0x21fe0d(0xd5)]===_0x54e7a8[_0x21fe0d(0xd5)]&&_0x106870[_0x21fe0d(0xbf)]===_0x54e7a8[_0x21fe0d(0xbf)]);if(!_0x4921d2){const _0x109018={'crc32':_0x54e7a8['crc'],'fileName':_0x54e7a8['filePath'],'id':null,'version':0x1,'name':_0x54e7a8[_0x21fe0d(0xd5)],'type':_0x54e7a8[_0x21fe0d(0xbf)]};return this[_0x21fe0d(0xa6)][_0x21fe0d(0xbd)](_0x109018),_0x16667d[_0x21fe0d(0xbd)](_0x109018),_0xa3ae5[_0x21fe0d(0xbd)](_0x109018),_0x46d0da['push'](_0x54e7a8),null;}_0xa3ae5[_0x21fe0d(0xbd)](_0x4921d2);if(_0x54e7a8[_0x21fe0d(0xcd)]===_0x4921d2['crc32'])return null;return{'component':_0x54e7a8,'meta':_0x4921d2};})[_0x103641(0xa4)](_0x38665a=>!!_0x38665a);_0xf935ba['push'](..._0x34e6de);const _0x4b8f7c=_0x16667d[_0x103641(0xa4)](_0x20f35d=>!_0xa3ae5[_0x103641(0xdf)](_0x20f35d));return this[_0x103641(0xa6)]=this[_0x103641(0xa6)][_0x103641(0xa4)](_0x36b60f=>!_0x4b8f7c['includes'](_0x36b60f)),{'inserted':_0x46d0da,'modified':_0xf935ba,'removed':_0x4b8f7c[_0x103641(0xad)](({id:_0x485c6a,name:_0x147098,type:_0x1a75e3})=>({'id':_0x485c6a,'name':_0x147098,'type':_0x1a75e3}))};}async[a66_0x3c1279(0xcc)](){const _0x51d4ea=a66_0x3c1279;this['syncRecord']=this[_0x51d4ea(0xe4)][_0x51d4ea(0xd7)]===_0x51d4ea(0xc4)?await this['salesforceSync'][_0x51d4ea(0xa5)](this[_0x51d4ea(0xe4)][_0x51d4ea(0xa1)]):await this[_0x51d4ea(0xbb)]['getBranchRecordByName'](this[_0x51d4ea(0xe4)][_0x51d4ea(0xd7)]),this[_0x51d4ea(0xe0)]=await this[_0x51d4ea(0x9b)][_0x51d4ea(0xaa)]();}async[a66_0x3c1279(0xd6)](_0x5e4241){const _0x5ad52d=a66_0x3c1279,_0x8e6bdb=[...this[_0x5ad52d(0xe4)][_0x5ad52d(0xd3)]];if(this[_0x5ad52d(0xe4)]['force']||_0x5e4241){this['componentsMetadata']=this[_0x5ad52d(0xbc)]?await this[_0x5ad52d(0x9b)][_0x5ad52d(0xc0)](this[_0x5ad52d(0xbc)]):await this[_0x5ad52d(0x9b)][_0x5ad52d(0xab)](this[_0x5ad52d(0xb1)]);return;}this['componentsMetadata']=[];while(_0x8e6bdb[_0x5ad52d(0xde)]){const _0x4df63d=_0x8e6bdb[_0x5ad52d(0xb7)](0x0,this['TASKS_PER_TICK']),_0x5b3c42=this[_0x5ad52d(0xbc)]?await this[_0x5ad52d(0x9b)][_0x5ad52d(0x9f)](_0x4df63d,this[_0x5ad52d(0xbc)]):await this[_0x5ad52d(0x9b)]['fetchRepositoryComponentsByFilenames'](_0x4df63d,this[_0x5ad52d(0xb1)]);this[_0x5ad52d(0xa6)][_0x5ad52d(0xbd)](..._0x5b3c42);}}async[a66_0x3c1279(0xcf)](_0x392299){const _0x61bc28=a66_0x3c1279;this[_0x61bc28(0xbc)]?await this[_0x61bc28(0xc2)][_0x61bc28(0xa0)](constants_1['FLOSUM_BRANCH'],this[_0x61bc28(0xbc)],{[constants_1[_0x61bc28(0xe3)]+_0x61bc28(0xa2)]:_0x392299,[constants_1['FLOSUM_NAMESPACE']+_0x61bc28(0xdb)]:Date[_0x61bc28(0xc7)]()}):await this[_0x61bc28(0xc2)][_0x61bc28(0xa0)](constants_1[_0x61bc28(0x98)],this[_0x61bc28(0xb1)],{[constants_1[_0x61bc28(0xe3)]+_0x61bc28(0xa2)]:_0x392299});}[a66_0x3c1279(0xbe)](_0x565eb1){const _0x396c3a=a66_0x3c1279;this[_0x396c3a(0xe4)]=_0x565eb1;}[a66_0x3c1279(0xe8)](){const _0x124dfb=a66_0x3c1279;return this[_0x124dfb(0xe0)];}[a66_0x3c1279(0xe7)](){const _0x1dde2f=a66_0x3c1279;return this[_0x1dde2f(0xb1)];}['getBranchId'](){const _0xba4412=a66_0x3c1279;return this[_0xba4412(0xbc)];}};GitCommitService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a66_0x3c1279(0xda),[salesforce_git_sync_service_1[a66_0x3c1279(0xca)],salesforce_rest_service_1[a66_0x3c1279(0xcb)],salesforce_sync_service_1[a66_0x3c1279(0x9d)],salesforce_service_1[a66_0x3c1279(0xa3)]])],GitCommitService),exports[a66_0x3c1279(0xc8)]=GitCommitService;