function a110_0x4a6d(_0x220f79,_0xab7bb2){const _0x2d7e09=a110_0x1e90();return a110_0x4a6d=function(_0x5358c0,_0x3ef623){_0x5358c0=_0x5358c0-0x118;let _0x1e904f=_0x2d7e09[_0x5358c0];return _0x1e904f;},a110_0x4a6d(_0x220f79,_0xab7bb2);}const a110_0x3f5a3b=a110_0x4a6d;(function(_0xcc5390,_0x503fa1){const _0x4edcfc=a110_0x4a6d,_0x3e4f08=_0xcc5390();while(!![]){try{const _0x2c626d=parseInt(_0x4edcfc(0x124))/0x1*(parseInt(_0x4edcfc(0x154))/0x2)+parseInt(_0x4edcfc(0x14d))/0x3+parseInt(_0x4edcfc(0x129))/0x4*(parseInt(_0x4edcfc(0x180))/0x5)+parseInt(_0x4edcfc(0x125))/0x6*(parseInt(_0x4edcfc(0x143))/0x7)+-parseInt(_0x4edcfc(0x123))/0x8*(-parseInt(_0x4edcfc(0x137))/0x9)+-parseInt(_0x4edcfc(0x14e))/0xa*(-parseInt(_0x4edcfc(0x13c))/0xb)+-parseInt(_0x4edcfc(0x16c))/0xc;if(_0x2c626d===_0x503fa1)break;else _0x3e4f08['push'](_0x3e4f08['shift']());}catch(_0x4d2026){_0x3e4f08['push'](_0x3e4f08['shift']());}}}(a110_0x1e90,0xd8451));const a110_0x3ef623=(function(){let _0x61b576=!![];return function(_0x5dedd8,_0x2b8876){const _0x5bbce0=_0x61b576?function(){const _0x5bcf49=a110_0x4a6d;if(_0x2b8876){const _0x1d73d1=_0x2b8876[_0x5bcf49(0x15d)](_0x5dedd8,arguments);return _0x2b8876=null,_0x1d73d1;}}:function(){};return _0x61b576=![],_0x5bbce0;};}()),a110_0x5358c0=a110_0x3ef623(this,function(){const _0x562828=a110_0x4a6d;return a110_0x5358c0[_0x562828(0x162)]()[_0x562828(0x11c)](_0x562828(0x163))['toString']()[_0x562828(0x156)](a110_0x5358c0)['search']('(((.+)+)+)+$');});a110_0x5358c0();'use strict';function a110_0x1e90(){const _0x57395d=['gitCommit','FLOSUM_REPOSITORY','5vbERFk','([./-]{1}|$)','filter','indexOf','../../parsers/utils','search','getComponentRecordTypes','name','design:paramtypes','salesforceGitSync','fetchRepositoryOrBranchData','catch','208uYdnZH','334VKQJEW','16176UrKDKP','__esModule','parse','crc','3600452BKYzjV','object','salesforceRest','getBranchId','FactoryParser','create','length','../../salesforce/services/salesforce-sync.service','recordTypes','SalesforceGitSyncService','map','getUnusedComponentsFilePaths','salesforceSync','patch','397773BubEuU','fileName','fetchComponentsMetadata','then','../../parsers/mdapi/factory.parser','11cJLQQM','typedi','crc32','checkSyncStatus','../../salesforce/services/salesforce.service','getRemoteStateAttachmentId','../../salesforce/services/salesforce-git-sync.service','665cRRADO','string','metadata','now','__decorate','fetchBranchComponents','updateStatus','Synchronization_Status__c','type','repositoryId','4333059vFaZgk','2998750yQcNNP','updateRemoteState','META_XML_EXTENSION','FLOSUM_NAMESPACE','Service','createCommit','2290MBjiEZ','../../parsers/utils/vlocity','constructor','master','SalesforceSyncService','__metadata','componentsMetadata','syncRecord','TASKS_PER_TICK','apply','fetchRepositoryComponentsByFilenames','FLOSUM_GIT_NAMESPACE','FLOSUM_BRANCH','getRepositoryRecordByName','toString','(((.+)+)+)+$','replace','push','find','filterParserPaths','decorate','getOwnPropertyDescriptor','fileNames','fetchRepositoryComponents','42554064HpcgtG','salesforce','proceedFile','fetchBranchComponentsByFilenames','SalesforceRestService','function','getRepositoryId','force','branch','Last_Updated_On__c','setCommitDto','branchId','isVlocityComponent','GitCommitService','getBranchRecordByName','splice','readFilesByFilename','defineProperty'];a110_0x1e90=function(){return _0x57395d;};return a110_0x1e90();}var __decorate=this&&this[a110_0x3f5a3b(0x147)]||function(_0x5cfe90,_0x4cd82a,_0x32259d,_0x13c977){const _0x5bfe54=a110_0x3f5a3b;var _0x37a25c=arguments['length'],_0xb264aa=_0x37a25c<0x3?_0x4cd82a:_0x13c977===null?_0x13c977=Object[_0x5bfe54(0x169)](_0x4cd82a,_0x32259d):_0x13c977,_0x583153;if(typeof Reflect===_0x5bfe54(0x12a)&&typeof Reflect[_0x5bfe54(0x168)]===_0x5bfe54(0x171))_0xb264aa=Reflect[_0x5bfe54(0x168)](_0x5cfe90,_0x4cd82a,_0x32259d,_0x13c977);else{for(var _0xd5b137=_0x5cfe90[_0x5bfe54(0x12f)]-0x1;_0xd5b137>=0x0;_0xd5b137--)if(_0x583153=_0x5cfe90[_0xd5b137])_0xb264aa=(_0x37a25c<0x3?_0x583153(_0xb264aa):_0x37a25c>0x3?_0x583153(_0x4cd82a,_0x32259d,_0xb264aa):_0x583153(_0x4cd82a,_0x32259d))||_0xb264aa;}return _0x37a25c>0x3&&_0xb264aa&&Object[_0x5bfe54(0x17d)](_0x4cd82a,_0x32259d,_0xb264aa),_0xb264aa;},__metadata=this&&this[a110_0x3f5a3b(0x159)]||function(_0x12ba18,_0x30f8d1){const _0x5ad0bb=a110_0x3f5a3b;if(typeof Reflect===_0x5ad0bb(0x12a)&&typeof Reflect[_0x5ad0bb(0x145)]===_0x5ad0bb(0x171))return Reflect[_0x5ad0bb(0x145)](_0x12ba18,_0x30f8d1);};Object[a110_0x3f5a3b(0x17d)](exports,a110_0x3f5a3b(0x126),{'value':!![]}),exports[a110_0x3f5a3b(0x179)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x3f5a3b(0x142)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x3f5a3b(0x13d)),salesforce_sync_service_1=require(a110_0x3f5a3b(0x130)),salesforce_service_1=require(a110_0x3f5a3b(0x140)),utils_1=require(a110_0x3f5a3b(0x11b)),factory_parser_1=require(a110_0x3f5a3b(0x13b)),vlocity_1=require(a110_0x3f5a3b(0x155));let GitCommitService=class GitCommitService{constructor(_0x4e0ba2,_0x2ef84a,_0x4dce0e,_0x179490){const _0x4e5717=a110_0x3f5a3b;this[_0x4e5717(0x120)]=_0x4e0ba2,this['salesforceRest']=_0x2ef84a,this[_0x4e5717(0x135)]=_0x4dce0e,this[_0x4e5717(0x16d)]=_0x179490,this['TASKS_PER_TICK']=0xc8;}get[a110_0x3f5a3b(0x14c)](){const _0x242e2b=a110_0x3f5a3b;var _0x45502a;return((_0x45502a=this[_0x242e2b(0x15b)])===null||_0x45502a===void 0x0?void 0x0:_0x45502a['repositoryId'])||'';}get[a110_0x3f5a3b(0x177)](){const _0x1e023d=a110_0x3f5a3b;var _0x302d77;return((_0x302d77=this[_0x1e023d(0x15b)])===null||_0x302d77===void 0x0?void 0x0:_0x302d77[_0x1e023d(0x177)])||'';}async[a110_0x3f5a3b(0x153)](_0x44da9e){const _0x1a0d72=a110_0x3f5a3b;return this['salesforceGitSync']['createCommit'](_0x44da9e,this[_0x1a0d72(0x14c)]);}async[a110_0x3f5a3b(0x13f)](_0x484444){const _0x539dfa=a110_0x3f5a3b;if(this['syncRecord']){const _0x42c597=await this[_0x539dfa(0x135)][_0x539dfa(0x141)](this[_0x539dfa(0x15b)]),_0x3d44fa=await this[_0x539dfa(0x16d)]['retrieveAttachment'](_0x42c597)[_0x539dfa(0x13a)](_0x3aa107=>typeof _0x3aa107===_0x539dfa(0x144)?JSON[_0x539dfa(0x127)](_0x3aa107):_0x3aa107)[_0x539dfa(0x122)](()=>({}));if(_0x3d44fa[this[_0x539dfa(0x17e)]['repositoryGit']]){if(_0x3d44fa[this[_0x539dfa(0x17e)]['repositoryGit']]['lastCommit']===_0x484444)return!![];}return![];}return![];}async[a110_0x3f5a3b(0x14f)](_0x4eaee9){const _0x242254=a110_0x3f5a3b;this[_0x242254(0x15b)]&&await this['salesforceSync'][_0x242254(0x14f)](this[_0x242254(0x15b)],_0x4eaee9);}[a110_0x3f5a3b(0x134)](){const _0x417c00=a110_0x3f5a3b;return this[_0x417c00(0x15a)][_0x417c00(0x133)](({fileName:_0x9b183b})=>_0x9b183b);}async[a110_0x3f5a3b(0x16e)](_0x1506d2,_0xfd72b4,_0xd361f8){const _0x119ee1=a110_0x3f5a3b,_0x42c073=new RegExp('^'+_0x1506d2+_0x119ee1(0x118));let _0x52a3bc=[_0x1506d2];_0xd361f8&&!(0x0,vlocity_1[_0x119ee1(0x178)])(_0x1506d2)&&(_0x52a3bc=(0x0,utils_1[_0x119ee1(0x167)])(await(0x0,utils_1[_0x119ee1(0x17c)])(_0x1506d2,_0xfd72b4)[_0x119ee1(0x122)](()=>[])));const _0x565687=_0xd361f8?this[_0x119ee1(0x15a)][_0x119ee1(0x119)](_0x4c5f58=>_0x4c5f58[_0x119ee1(0x138)]['match'](_0x42c073)):this['componentsMetadata'][_0x119ee1(0x119)](_0x15878a=>_0x15878a[_0x119ee1(0x138)]===_0x1506d2||_0x15878a['fileName']===_0x1506d2[_0x119ee1(0x164)](constants_1['META_XML_EXTENSION'],'')),_0x2d458d=factory_parser_1[_0x119ee1(0x12d)][_0x119ee1(0x12e)](_0xfd72b4,_0x52a3bc),_0x418ea1=await _0x2d458d['parse'](),_0xac9d2d=[],_0x21a71a=[];for(const _0xb94942 of _0x418ea1){const _0x1100eb=_0x565687[_0x119ee1(0x166)](_0x139903=>_0x139903[_0x119ee1(0x11e)]===_0xb94942[_0x119ee1(0x11e)]&&_0x139903[_0x119ee1(0x14b)]===_0xb94942['type']);if(!_0x1100eb){_0xac9d2d['push'](_0xb94942);continue;}_0xb94942[_0x119ee1(0x128)]!==_0x1100eb[_0x119ee1(0x13e)]&&_0x21a71a[_0x119ee1(0x165)]({'meta':_0x1100eb,'component':_0xb94942}),_0x565687[_0x119ee1(0x17b)](_0x565687[_0x119ee1(0x11a)](_0x1100eb),0x1);}return{'inserted':_0xac9d2d,'modified':_0x21a71a,'removed':_0x565687};}async[a110_0x3f5a3b(0x121)](){const _0x466641=a110_0x3f5a3b;this['syncRecord']=this[_0x466641(0x17e)]['branch']===_0x466641(0x157)?await this[_0x466641(0x135)][_0x466641(0x161)](this['gitCommit']['repository']):await this[_0x466641(0x135)][_0x466641(0x17a)](this[_0x466641(0x17e)][_0x466641(0x174)]),this[_0x466641(0x131)]=await this['salesforceGitSync'][_0x466641(0x11d)]();}async[a110_0x3f5a3b(0x139)](_0x193c75){const _0xab496b=a110_0x3f5a3b;if(this[_0xab496b(0x17e)][_0xab496b(0x173)]||_0x193c75){this['componentsMetadata']=this['branchId']?await this[_0xab496b(0x120)][_0xab496b(0x148)](this[_0xab496b(0x177)]):await this[_0xab496b(0x120)][_0xab496b(0x16b)](this[_0xab496b(0x14c)]);return;}const _0xd20c5d=[...new Set(this[_0xab496b(0x17e)][_0xab496b(0x16a)]['map'](_0x207497=>_0x207497[_0xab496b(0x164)](constants_1[_0xab496b(0x150)],'')))];this[_0xab496b(0x15a)]=[];while(_0xd20c5d[_0xab496b(0x12f)]){const _0x5db341=_0xd20c5d[_0xab496b(0x17b)](0x0,this[_0xab496b(0x15c)]),_0x4c3a40=this['branchId']?await this[_0xab496b(0x120)][_0xab496b(0x16f)](_0x5db341,this['branchId']):await this[_0xab496b(0x120)][_0xab496b(0x15e)](_0x5db341,this[_0xab496b(0x14c)]);this[_0xab496b(0x15a)][_0xab496b(0x165)](..._0x4c3a40);}}async[a110_0x3f5a3b(0x149)](_0x42d4b8){const _0x79acb3=a110_0x3f5a3b;this['branchId']?await this[_0x79acb3(0x12b)]['patch'](constants_1[_0x79acb3(0x160)],this['branchId'],{[constants_1[_0x79acb3(0x15f)]+_0x79acb3(0x14a)]:_0x42d4b8,[constants_1[_0x79acb3(0x151)]+_0x79acb3(0x175)]:Date[_0x79acb3(0x146)]()}):await this[_0x79acb3(0x12b)][_0x79acb3(0x136)](constants_1[_0x79acb3(0x17f)],this[_0x79acb3(0x14c)],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Synchronization_Status__c']:_0x42d4b8});}[a110_0x3f5a3b(0x176)](_0x24a9fe){const _0xc2a87=a110_0x3f5a3b;this[_0xc2a87(0x17e)]=_0x24a9fe;}['getRecordTypes'](){const _0x5abdd9=a110_0x3f5a3b;return this[_0x5abdd9(0x131)];}[a110_0x3f5a3b(0x172)](){const _0x425184=a110_0x3f5a3b;return this[_0x425184(0x14c)];}[a110_0x3f5a3b(0x12c)](){const _0x3b56cf=a110_0x3f5a3b;return this[_0x3b56cf(0x177)];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x3f5a3b(0x152)])({'transient':!![]}),__metadata(a110_0x3f5a3b(0x11f),[salesforce_git_sync_service_1[a110_0x3f5a3b(0x132)],salesforce_rest_service_1[a110_0x3f5a3b(0x170)],salesforce_sync_service_1[a110_0x3f5a3b(0x158)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a110_0x3f5a3b(0x179)]=GitCommitService;