function a110_0x1dd8(_0x306391,_0x5669a2){const _0x584bd1=a110_0x53fd();return a110_0x1dd8=function(_0x5d0f66,_0x305c84){_0x5d0f66=_0x5d0f66-0x15b;let _0x53fdba=_0x584bd1[_0x5d0f66];return _0x53fdba;},a110_0x1dd8(_0x306391,_0x5669a2);}const a110_0x9018b2=a110_0x1dd8;(function(_0x3c27bb,_0x3ada34){const _0x2f9b82=a110_0x1dd8,_0x4675b1=_0x3c27bb();while(!![]){try{const _0x3e6994=-parseInt(_0x2f9b82(0x17d))/0x1*(parseInt(_0x2f9b82(0x19c))/0x2)+-parseInt(_0x2f9b82(0x1aa))/0x3*(-parseInt(_0x2f9b82(0x199))/0x4)+parseInt(_0x2f9b82(0x18e))/0x5+parseInt(_0x2f9b82(0x186))/0x6*(-parseInt(_0x2f9b82(0x196))/0x7)+-parseInt(_0x2f9b82(0x1b8))/0x8+parseInt(_0x2f9b82(0x1ad))/0x9*(parseInt(_0x2f9b82(0x1b3))/0xa)+-parseInt(_0x2f9b82(0x1b2))/0xb;if(_0x3e6994===_0x3ada34)break;else _0x4675b1['push'](_0x4675b1['shift']());}catch(_0xe70224){_0x4675b1['push'](_0x4675b1['shift']());}}}(a110_0x53fd,0xc8879));const a110_0x305c84=(function(){let _0x51f578=!![];return function(_0x4a37d2,_0x5434bf){const _0x4ea4fc=_0x51f578?function(){const _0x4c295e=a110_0x1dd8;if(_0x5434bf){const _0x30193e=_0x5434bf[_0x4c295e(0x1b1)](_0x4a37d2,arguments);return _0x5434bf=null,_0x30193e;}}:function(){};return _0x51f578=![],_0x4ea4fc;};}()),a110_0x5d0f66=a110_0x305c84(this,function(){const _0x380e43=a110_0x1dd8;return a110_0x5d0f66[_0x380e43(0x17a)]()['search'](_0x380e43(0x1b6))['toString']()[_0x380e43(0x1a2)](a110_0x5d0f66)[_0x380e43(0x1b5)](_0x380e43(0x1b6));});a110_0x5d0f66();'use strict';var __decorate=this&&this['__decorate']||function(_0x6dd568,_0xa4b31a,_0x28ebf9,_0x30588a){const _0x489812=a110_0x1dd8;var _0x2af7b9=arguments[_0x489812(0x19f)],_0x1a7597=_0x2af7b9<0x3?_0xa4b31a:_0x30588a===null?_0x30588a=Object['getOwnPropertyDescriptor'](_0xa4b31a,_0x28ebf9):_0x30588a,_0x336925;if(typeof Reflect===_0x489812(0x188)&&typeof Reflect[_0x489812(0x15b)]===_0x489812(0x18c))_0x1a7597=Reflect['decorate'](_0x6dd568,_0xa4b31a,_0x28ebf9,_0x30588a);else{for(var _0x148154=_0x6dd568[_0x489812(0x19f)]-0x1;_0x148154>=0x0;_0x148154--)if(_0x336925=_0x6dd568[_0x148154])_0x1a7597=(_0x2af7b9<0x3?_0x336925(_0x1a7597):_0x2af7b9>0x3?_0x336925(_0xa4b31a,_0x28ebf9,_0x1a7597):_0x336925(_0xa4b31a,_0x28ebf9))||_0x1a7597;}return _0x2af7b9>0x3&&_0x1a7597&&Object[_0x489812(0x1b9)](_0xa4b31a,_0x28ebf9,_0x1a7597),_0x1a7597;},__metadata=this&&this[a110_0x9018b2(0x1b7)]||function(_0xea0855,_0xbfc12c){const _0x228667=a110_0x9018b2;if(typeof Reflect===_0x228667(0x188)&&typeof Reflect[_0x228667(0x17c)]==='function')return Reflect[_0x228667(0x17c)](_0xea0855,_0xbfc12c);};Object[a110_0x9018b2(0x1b9)](exports,a110_0x9018b2(0x1b4),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x9018b2(0x15f)),salesforce_rest_service_1=require(a110_0x9018b2(0x17b)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a110_0x9018b2(0x162)),salesforce_service_1=require(a110_0x9018b2(0x163)),utils_1=require(a110_0x9018b2(0x166)),factory_parser_1=require(a110_0x9018b2(0x15c)),vlocity_1=require('../../parsers/utils/vlocity');let GitCommitService=class GitCommitService{constructor(_0x1fa0cc,_0x19b443,_0xbfadc6,_0x41778a){const _0x2d6741=a110_0x9018b2;this['salesforceGitSync']=_0x1fa0cc,this[_0x2d6741(0x15d)]=_0x19b443,this['salesforceSync']=_0xbfadc6,this['salesforce']=_0x41778a,this[_0x2d6741(0x16f)]=0xc8;}get[a110_0x9018b2(0x17f)](){const _0x29630b=a110_0x9018b2;var _0xeef77c;return((_0xeef77c=this['syncRecord'])===null||_0xeef77c===void 0x0?void 0x0:_0xeef77c[_0x29630b(0x17f)])||'';}get[a110_0x9018b2(0x168)](){const _0x409945=a110_0x9018b2;var _0x41716c;return((_0x41716c=this[_0x409945(0x17e)])===null||_0x41716c===void 0x0?void 0x0:_0x41716c[_0x409945(0x168)])||'';}async[a110_0x9018b2(0x1a0)](_0x2d2d89){const _0x5455bb=a110_0x9018b2;return this[_0x5455bb(0x16e)][_0x5455bb(0x1a0)](_0x2d2d89,this[_0x5455bb(0x17f)]);}async[a110_0x9018b2(0x187)](_0x27dd93){const _0x5445ce=a110_0x9018b2;if(this['syncRecord']){const _0x1c794e=await this[_0x5445ce(0x1ac)][_0x5445ce(0x16a)](this[_0x5445ce(0x17e)]),_0x44b2f0=await this['salesforce']['retrieveAttachment'](_0x1c794e)[_0x5445ce(0x170)](_0x270523=>typeof _0x270523===_0x5445ce(0x182)?JSON['parse'](_0x270523):_0x270523)[_0x5445ce(0x169)](()=>({}));if(_0x44b2f0[this[_0x5445ce(0x179)][_0x5445ce(0x167)]]){if(_0x44b2f0[this[_0x5445ce(0x179)][_0x5445ce(0x167)]]['lastCommit']===_0x27dd93)return!![];}return![];}return![];}async[a110_0x9018b2(0x1a3)](_0x592279){const _0x122a55=a110_0x9018b2;this[_0x122a55(0x17e)]&&await this[_0x122a55(0x1ac)][_0x122a55(0x1a3)](this['syncRecord'],_0x592279);}[a110_0x9018b2(0x183)](){const _0x220d7d=a110_0x9018b2;return this[_0x220d7d(0x19b)]['map'](({fileName:_0x583353})=>_0x583353);}async[a110_0x9018b2(0x16d)](_0x1d3664,_0x474082,_0x2d20cc){const _0x43c53c=a110_0x9018b2,_0x418ec4=new RegExp('^'+_0x1d3664+_0x43c53c(0x18f));let _0x5c3380=[_0x1d3664];_0x2d20cc&&!(0x0,vlocity_1[_0x43c53c(0x180)])(_0x1d3664)&&(_0x5c3380=(0x0,utils_1[_0x43c53c(0x1ab)])(await(0x0,utils_1['readFilesByFilename'])(_0x1d3664,_0x474082)['catch'](()=>[])));const _0x37be16=_0x2d20cc?this[_0x43c53c(0x19b)][_0x43c53c(0x176)](_0x2ed5eb=>_0x2ed5eb['fileName'][_0x43c53c(0x18b)](_0x418ec4)):this['componentsMetadata']['filter'](_0x40bebf=>_0x40bebf[_0x43c53c(0x18d)]===_0x1d3664||_0x40bebf[_0x43c53c(0x18d)]===_0x1d3664[_0x43c53c(0x1af)](constants_1[_0x43c53c(0x1a1)],'')),_0x5baaa1=factory_parser_1[_0x43c53c(0x19d)][_0x43c53c(0x197)](_0x474082,_0x5c3380),_0x28eba9=await _0x5baaa1[_0x43c53c(0x164)](),_0x1ae099=[],_0x179414=[];for(const _0x45d0e2 of _0x28eba9){const _0x2afbf6=_0x37be16[_0x43c53c(0x194)](_0x404bd0=>_0x404bd0[_0x43c53c(0x1b0)]===_0x45d0e2[_0x43c53c(0x1b0)]&&_0x404bd0[_0x43c53c(0x19a)]===_0x45d0e2[_0x43c53c(0x19a)]);if(!_0x2afbf6){_0x1ae099[_0x43c53c(0x161)](_0x45d0e2);continue;}_0x45d0e2['crc']!==_0x2afbf6[_0x43c53c(0x19e)]&&_0x179414[_0x43c53c(0x161)]({'meta':_0x2afbf6,'component':_0x45d0e2}),_0x37be16[_0x43c53c(0x191)](_0x37be16[_0x43c53c(0x195)](_0x2afbf6),0x1);}return{'inserted':_0x1ae099,'modified':_0x179414,'removed':_0x37be16};}async[a110_0x9018b2(0x177)](){const _0x2da3ff=a110_0x9018b2;this[_0x2da3ff(0x17e)]=this['gitCommit']['branch']===_0x2da3ff(0x1ae)?await this[_0x2da3ff(0x1ac)][_0x2da3ff(0x172)](this[_0x2da3ff(0x179)][_0x2da3ff(0x18a)]):await this[_0x2da3ff(0x1ac)][_0x2da3ff(0x1a9)](this[_0x2da3ff(0x179)][_0x2da3ff(0x174)]),this[_0x2da3ff(0x190)]=await this['salesforceGitSync'][_0x2da3ff(0x1a4)]();}async[a110_0x9018b2(0x193)](_0x2d4520){const _0x12056f=a110_0x9018b2;if(this[_0x12056f(0x179)][_0x12056f(0x1a6)]||_0x2d4520){this['componentsMetadata']=this[_0x12056f(0x168)]?await this[_0x12056f(0x16e)][_0x12056f(0x1a5)](this[_0x12056f(0x168)]):await this['salesforceGitSync'][_0x12056f(0x184)](this[_0x12056f(0x17f)]);return;}const _0x2a59bb=[...new Set(this[_0x12056f(0x179)][_0x12056f(0x175)]['map'](_0x35de81=>_0x35de81[_0x12056f(0x1af)](constants_1[_0x12056f(0x1a1)],'')))];this[_0x12056f(0x19b)]=[];while(_0x2a59bb['length']){const _0x148b66=_0x2a59bb[_0x12056f(0x191)](0x0,this[_0x12056f(0x16f)]),_0xdfb671=this[_0x12056f(0x168)]?await this[_0x12056f(0x16e)]['fetchBranchComponentsByFilenames'](_0x148b66,this[_0x12056f(0x168)]):await this[_0x12056f(0x16e)][_0x12056f(0x181)](_0x148b66,this[_0x12056f(0x17f)]);this[_0x12056f(0x19b)]['push'](..._0xdfb671);}}async['updateStatus'](_0x37b35c){const _0x5b8aaa=a110_0x9018b2;this['branchId']?await this['salesforceRest']['patch'](constants_1[_0x5b8aaa(0x189)],this[_0x5b8aaa(0x168)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x5b8aaa(0x16b)]:_0x37b35c,[constants_1[_0x5b8aaa(0x15e)]+_0x5b8aaa(0x165)]:Date[_0x5b8aaa(0x160)]()}):await this[_0x5b8aaa(0x15d)][_0x5b8aaa(0x171)](constants_1[_0x5b8aaa(0x16c)],this['repositoryId'],{[constants_1[_0x5b8aaa(0x1a8)]+_0x5b8aaa(0x16b)]:_0x37b35c});}['setCommitDto'](_0x4b28ac){const _0x585f80=a110_0x9018b2;this[_0x585f80(0x179)]=_0x4b28ac;}[a110_0x9018b2(0x185)](){const _0x538e00=a110_0x9018b2;return this[_0x538e00(0x190)];}['getRepositoryId'](){return this['repositoryId'];}['getBranchId'](){return this['branchId'];}};function a110_0x53fd(){const _0x1421df=['35qsXoan','create','design:paramtypes','4868716KQqLZS','type','componentsMetadata','80XsPqdL','FactoryParser','crc32','length','createCommit','META_XML_EXTENSION','constructor','updateRemoteState','getComponentRecordTypes','fetchBranchComponents','force','Service','FLOSUM_GIT_NAMESPACE','getBranchRecordByName','3BogdJb','filterParserPaths','salesforceSync','315mGHmEx','master','replace','name','apply','12200837dRNqpX','260650CwzZXa','__esModule','search','(((.+)+)+)+$','__metadata','4003552LkijIf','defineProperty','decorate','../../parsers/mdapi/factory.parser','salesforceRest','FLOSUM_NAMESPACE','../../salesforce/services/salesforce-git-sync.service','now','push','../../salesforce/services/salesforce-sync.service','../../salesforce/services/salesforce.service','parse','Last_Updated_On__c','../../parsers/utils','repositoryGit','branchId','catch','getRemoteStateAttachmentId','Synchronization_Status__c','FLOSUM_REPOSITORY','proceedFile','salesforceGitSync','TASKS_PER_TICK','then','patch','getRepositoryRecordByName','GitCommitService','branch','fileNames','filter','fetchRepositoryOrBranchData','SalesforceRestService','gitCommit','toString','../../salesforce/services/salesforce-rest.service','metadata','4882mkzXvG','syncRecord','repositoryId','isVlocityComponent','fetchRepositoryComponentsByFilenames','string','getUnusedComponentsFilePaths','fetchRepositoryComponents','getRecordTypes','185682NBKgid','checkSyncStatus','object','FLOSUM_BRANCH','repository','match','function','fileName','3257705AHRcUn','([./-]{1}|$)','recordTypes','splice','SalesforceService','fetchComponentsMetadata','find','indexOf'];a110_0x53fd=function(){return _0x1421df;};return a110_0x53fd();}GitCommitService=__decorate([(0x0,typedi_1[a110_0x9018b2(0x1a7)])({'transient':!![]}),__metadata(a110_0x9018b2(0x198),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a110_0x9018b2(0x178)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a110_0x9018b2(0x192)]])],GitCommitService),exports[a110_0x9018b2(0x173)]=GitCommitService;