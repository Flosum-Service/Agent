const a66_0x599cef=a66_0x3d3b;(function(_0x556b61,_0x27bc64){const _0x31352a=a66_0x3d3b,_0x5d8d9b=_0x556b61();while(!![]){try{const _0x584222=parseInt(_0x31352a(0xf6))/0x1*(-parseInt(_0x31352a(0xbe))/0x2)+-parseInt(_0x31352a(0xd9))/0x3+-parseInt(_0x31352a(0xef))/0x4*(parseInt(_0x31352a(0xe2))/0x5)+-parseInt(_0x31352a(0xd4))/0x6+-parseInt(_0x31352a(0xa6))/0x7*(parseInt(_0x31352a(0xcc))/0x8)+parseInt(_0x31352a(0xb1))/0x9+parseInt(_0x31352a(0xc5))/0xa*(parseInt(_0x31352a(0xf4))/0xb);if(_0x584222===_0x27bc64)break;else _0x5d8d9b['push'](_0x5d8d9b['shift']());}catch(_0x2d9621){_0x5d8d9b['push'](_0x5d8d9b['shift']());}}}(a66_0x283c,0xb1094));const a66_0x3ef7e8=(function(){let _0x41bea9=!![];return function(_0x19f2e9,_0x46c36d){const _0x59be23=_0x41bea9?function(){const _0x5c2bbf=a66_0x3d3b;if(_0x46c36d){const _0x45722a=_0x46c36d[_0x5c2bbf(0xf8)](_0x19f2e9,arguments);return _0x46c36d=null,_0x45722a;}}:function(){};return _0x41bea9=![],_0x59be23;};}()),a66_0x5a60b1=a66_0x3ef7e8(this,function(){const _0x584c46=a66_0x3d3b;return a66_0x5a60b1[_0x584c46(0xaf)]()[_0x584c46(0xcf)](_0x584c46(0xa1))[_0x584c46(0xaf)]()[_0x584c46(0xe1)](a66_0x5a60b1)[_0x584c46(0xcf)](_0x584c46(0xa1));});a66_0x5a60b1();'use strict';function a66_0x283c(){const _0x45654c=['FLOSUM_BRANCH','search','decorate','FLOSUM_NAMESPACE','updateRemoteState','lastCommit','460956qPinpw','SalesforceSyncService','repositoryGit','salesforceGitSync','TASKS_PER_TICK','2619924fjhnzt','../../../../constants','metadata','object','crc','push','updateStatus','../../parsers/mdapi/parser-v2','constructor','349285jGdbyU','gitCommit','crc32','branchId','Synchronization_Status__c','getRemoteStateAttachmentId','FLOSUM_GIT_NAMESPACE','getRepositoryId','retrieveAttachment','salesforceRest','SalesforceRestService','proceedFile','getUnusedComponentsFilePaths','8TmdIXt','getBranchId','fileNames','type','parse','99hXQpsv','../../salesforce/services/salesforce-rest.service','9934bFDUDF','getRecordTypes','apply','fetchBranchComponents','getOwnPropertyDescriptor','then','repositoryId','Service','indexOf','fetchBranchComponentsByFilenames','fetchRepositoryOrBranchData','Last_Updated_On__c','__decorate','SalesforceGitSyncService','createCommit','(((.+)+)+)+$','recordTypes','filter','GitCommitService','componentsMetadata','7tFxxNd','salesforce','checkSyncStatus','getComponentRecordTypes','map','string','function','fetchComponentsMetadata','syncRecord','toString','FLOSUM_REPOSITORY','3001266kLZjph','META_XML_EXTENSION','repository','fileName','../../salesforce/services/salesforce-git-sync.service','salesforceSync','fetchRepositoryComponentsByFilenames','../../salesforce/services/salesforce-sync.service','replace','catch','splice','getBranchRecordByName','MDApiParserV2','20OhAiLa','__metadata','branch','force','SalesforceService','__esModule','getRepositoryRecordByName','2388810EFAfAF','typedi','patch','name','fetchRepositoryComponents','defineProperty','length','4552600LZqVxv','readFilesByFilename'];a66_0x283c=function(){return _0x45654c;};return a66_0x283c();}function a66_0x3d3b(_0x5e74c1,_0x30fceb){const _0x542170=a66_0x283c();return a66_0x3d3b=function(_0x5a60b1,_0x3ef7e8){_0x5a60b1=_0x5a60b1-0x9e;let _0x283c10=_0x542170[_0x5a60b1];return _0x283c10;},a66_0x3d3b(_0x5e74c1,_0x30fceb);}var __decorate=this&&this[a66_0x599cef(0x9e)]||function(_0xb5499d,_0x36247c,_0x4dba79,_0x4f5a5a){const _0x3ccbdb=a66_0x599cef;var _0x13902b=arguments[_0x3ccbdb(0xcb)],_0x4489b3=_0x13902b<0x3?_0x36247c:_0x4f5a5a===null?_0x4f5a5a=Object[_0x3ccbdb(0xfa)](_0x36247c,_0x4dba79):_0x4f5a5a,_0x2a90a3;if(typeof Reflect===_0x3ccbdb(0xdc)&&typeof Reflect['decorate']===_0x3ccbdb(0xac))_0x4489b3=Reflect[_0x3ccbdb(0xd0)](_0xb5499d,_0x36247c,_0x4dba79,_0x4f5a5a);else{for(var _0x16225c=_0xb5499d[_0x3ccbdb(0xcb)]-0x1;_0x16225c>=0x0;_0x16225c--)if(_0x2a90a3=_0xb5499d[_0x16225c])_0x4489b3=(_0x13902b<0x3?_0x2a90a3(_0x4489b3):_0x13902b>0x3?_0x2a90a3(_0x36247c,_0x4dba79,_0x4489b3):_0x2a90a3(_0x36247c,_0x4dba79))||_0x4489b3;}return _0x13902b>0x3&&_0x4489b3&&Object[_0x3ccbdb(0xca)](_0x36247c,_0x4dba79,_0x4489b3),_0x4489b3;},__metadata=this&&this[a66_0x599cef(0xbf)]||function(_0x4fe918,_0x1f77c4){const _0x5d40b9=a66_0x599cef;if(typeof Reflect==='object'&&typeof Reflect[_0x5d40b9(0xdb)]===_0x5d40b9(0xac))return Reflect[_0x5d40b9(0xdb)](_0x4fe918,_0x1f77c4);};Object[a66_0x599cef(0xca)](exports,a66_0x599cef(0xc3),{'value':!![]}),exports[a66_0x599cef(0xa4)]=void 0x0;const constants_1=require(a66_0x599cef(0xda)),salesforce_git_sync_service_1=require(a66_0x599cef(0xb5)),salesforce_rest_service_1=require(a66_0x599cef(0xf5)),typedi_1=require(a66_0x599cef(0xc6)),salesforce_sync_service_1=require(a66_0x599cef(0xb8)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require(a66_0x599cef(0xe0)),utils_1=require('../../parsers/utils');let GitCommitService=class GitCommitService{constructor(_0x226759,_0x3b4844,_0x359822,_0x12b519){const _0x58ada5=a66_0x599cef;this[_0x58ada5(0xd7)]=_0x226759,this[_0x58ada5(0xeb)]=_0x3b4844,this[_0x58ada5(0xb6)]=_0x359822,this[_0x58ada5(0xa7)]=_0x12b519,this[_0x58ada5(0xd8)]=0xc8;}get[a66_0x599cef(0xfc)](){const _0x3cc5d5=a66_0x599cef;var _0x2a7b26;return((_0x2a7b26=this[_0x3cc5d5(0xae)])===null||_0x2a7b26===void 0x0?void 0x0:_0x2a7b26['repositoryId'])||'';}get['branchId'](){const _0x4b970b=a66_0x599cef;var _0x427669;return((_0x427669=this[_0x4b970b(0xae)])===null||_0x427669===void 0x0?void 0x0:_0x427669[_0x4b970b(0xe5)])||'';}async[a66_0x599cef(0xa0)](_0xa43173){const _0x5f1102=a66_0x599cef;return this[_0x5f1102(0xd7)]['createCommit'](_0xa43173,this[_0x5f1102(0xfc)]);}async[a66_0x599cef(0xa8)](_0x4e7710){const _0x3b12e3=a66_0x599cef;if(this[_0x3b12e3(0xae)]){const _0x54eb5b=await this['salesforceSync'][_0x3b12e3(0xe7)](this[_0x3b12e3(0xae)]),_0x3e18fd=await this['salesforce'][_0x3b12e3(0xea)](_0x54eb5b)[_0x3b12e3(0xfb)](_0x50d1de=>typeof _0x50d1de===_0x3b12e3(0xab)?JSON['parse'](_0x50d1de):_0x50d1de)[_0x3b12e3(0xba)](()=>({}));if(_0x3e18fd[this['gitCommit'][_0x3b12e3(0xd6)]]){if(_0x3e18fd[this['gitCommit'][_0x3b12e3(0xd6)]][_0x3b12e3(0xd3)]===_0x4e7710)return!![];}return![];}return![];}async['updateRemoteState'](_0x1b7be0){const _0x586972=a66_0x599cef;this[_0x586972(0xae)]&&await this['salesforceSync'][_0x586972(0xd2)](this[_0x586972(0xae)],_0x1b7be0);}[a66_0x599cef(0xee)](){const _0x48b6ea=a66_0x599cef;return this[_0x48b6ea(0xa5)][_0x48b6ea(0xaa)](({fileName:_0x5d984b})=>_0x5d984b);}async[a66_0x599cef(0xed)](_0x500d89,_0x5e6532,_0x3b1968){const _0x4f0494=a66_0x599cef,_0x346e01=new RegExp('^'+_0x500d89+'([./-]{1}|$)');let _0x320afe=[_0x500d89];_0x3b1968&&(_0x320afe=utils_1['filterParserPaths'](await utils_1[_0x4f0494(0xcd)](_0x500d89,_0x5e6532)['catch'](()=>[])));const _0x3e2dbc=_0x3b1968?this[_0x4f0494(0xa5)][_0x4f0494(0xa3)](_0x100ad5=>_0x100ad5[_0x4f0494(0xb4)]['match'](_0x346e01)):this[_0x4f0494(0xa5)][_0x4f0494(0xa3)](_0x44a791=>_0x44a791['fileName']===_0x500d89||_0x44a791[_0x4f0494(0xb4)]===_0x500d89['replace'](constants_1[_0x4f0494(0xb2)],'')),_0x26ab22=new parser_v2_1[(_0x4f0494(0xbd))](_0x5e6532,_0x320afe),_0x19c94a=await _0x26ab22[_0x4f0494(0xf3)](),_0x1b4650=[],_0x46f9e0=[];for(const _0x3004ed of _0x19c94a){const _0xa9a80c=_0x3e2dbc['find'](_0x2cc11b=>_0x2cc11b[_0x4f0494(0xc8)]===_0x3004ed[_0x4f0494(0xc8)]&&_0x2cc11b[_0x4f0494(0xf2)]===_0x3004ed[_0x4f0494(0xf2)]);if(!_0xa9a80c){_0x1b4650[_0x4f0494(0xde)](_0x3004ed);continue;}_0x3004ed[_0x4f0494(0xdd)]!==_0xa9a80c[_0x4f0494(0xe4)]&&_0x46f9e0[_0x4f0494(0xde)]({'meta':_0xa9a80c,'component':_0x3004ed}),_0x3e2dbc[_0x4f0494(0xbb)](_0x3e2dbc[_0x4f0494(0xfe)](_0xa9a80c),0x1);}return{'inserted':_0x1b4650,'modified':_0x46f9e0,'removed':_0x3e2dbc};}async[a66_0x599cef(0x100)](){const _0x4ba143=a66_0x599cef;this[_0x4ba143(0xae)]=this[_0x4ba143(0xe3)][_0x4ba143(0xc0)]==='master'?await this[_0x4ba143(0xb6)][_0x4ba143(0xc4)](this[_0x4ba143(0xe3)][_0x4ba143(0xb3)]):await this[_0x4ba143(0xb6)][_0x4ba143(0xbc)](this['gitCommit'][_0x4ba143(0xc0)]),this[_0x4ba143(0xa2)]=await this[_0x4ba143(0xd7)][_0x4ba143(0xa9)]();}async[a66_0x599cef(0xad)](_0x13f8ab){const _0x335e52=a66_0x599cef;if(this[_0x335e52(0xe3)][_0x335e52(0xc1)]||_0x13f8ab){this['componentsMetadata']=this['branchId']?await this[_0x335e52(0xd7)][_0x335e52(0xf9)](this['branchId']):await this[_0x335e52(0xd7)][_0x335e52(0xc9)](this['repositoryId']);return;}const _0x2f789a=[...new Set(this['gitCommit'][_0x335e52(0xf1)][_0x335e52(0xaa)](_0x3f0906=>_0x3f0906[_0x335e52(0xb9)](constants_1['META_XML_EXTENSION'],'')))];this[_0x335e52(0xa5)]=[];while(_0x2f789a[_0x335e52(0xcb)]){const _0x4f4aad=_0x2f789a[_0x335e52(0xbb)](0x0,this[_0x335e52(0xd8)]),_0x2af389=this['branchId']?await this[_0x335e52(0xd7)][_0x335e52(0xff)](_0x4f4aad,this[_0x335e52(0xe5)]):await this[_0x335e52(0xd7)][_0x335e52(0xb7)](_0x4f4aad,this[_0x335e52(0xfc)]);this[_0x335e52(0xa5)][_0x335e52(0xde)](..._0x2af389);}}async[a66_0x599cef(0xdf)](_0x57a32d){const _0x1ce505=a66_0x599cef;this['branchId']?await this[_0x1ce505(0xeb)][_0x1ce505(0xc7)](constants_1[_0x1ce505(0xce)],this[_0x1ce505(0xe5)],{[constants_1[_0x1ce505(0xe8)]+_0x1ce505(0xe6)]:_0x57a32d,[constants_1[_0x1ce505(0xd1)]+_0x1ce505(0x101)]:Date['now']()}):await this[_0x1ce505(0xeb)][_0x1ce505(0xc7)](constants_1[_0x1ce505(0xb0)],this['repositoryId'],{[constants_1[_0x1ce505(0xe8)]+'Synchronization_Status__c']:_0x57a32d});}['setCommitDto'](_0xef0806){const _0x1719e8=a66_0x599cef;this[_0x1719e8(0xe3)]=_0xef0806;}[a66_0x599cef(0xf7)](){const _0x5e191c=a66_0x599cef;return this[_0x5e191c(0xa2)];}[a66_0x599cef(0xe9)](){return this['repositoryId'];}[a66_0x599cef(0xf0)](){return this['branchId'];}};GitCommitService=__decorate([typedi_1[a66_0x599cef(0xfd)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a66_0x599cef(0x9f)],salesforce_rest_service_1[a66_0x599cef(0xec)],salesforce_sync_service_1[a66_0x599cef(0xd5)],salesforce_service_1[a66_0x599cef(0xc2)]])],GitCommitService),exports[a66_0x599cef(0xa4)]=GitCommitService;