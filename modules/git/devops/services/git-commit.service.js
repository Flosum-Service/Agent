const a112_0x264033=a112_0x55e3;(function(_0x307bdb,_0x9cea44){const _0x3f9800=a112_0x55e3,_0x5a35c6=_0x307bdb();while(!![]){try{const _0x3bbc79=-parseInt(_0x3f9800(0x1a8))/0x1+-parseInt(_0x3f9800(0x1bf))/0x2*(parseInt(_0x3f9800(0x1b1))/0x3)+parseInt(_0x3f9800(0x1b4))/0x4+-parseInt(_0x3f9800(0x1e0))/0x5*(parseInt(_0x3f9800(0x190))/0x6)+-parseInt(_0x3f9800(0x191))/0x7*(parseInt(_0x3f9800(0x1c1))/0x8)+parseInt(_0x3f9800(0x1df))/0x9*(parseInt(_0x3f9800(0x1c0))/0xa)+parseInt(_0x3f9800(0x1b6))/0xb*(-parseInt(_0x3f9800(0x1d3))/0xc);if(_0x3bbc79===_0x9cea44)break;else _0x5a35c6['push'](_0x5a35c6['shift']());}catch(_0x321fff){_0x5a35c6['push'](_0x5a35c6['shift']());}}}(a112_0x56af,0x29084));const a112_0x4113e7=(function(){let _0x5bf34a=!![];return function(_0x3537ae,_0x59028e){const _0x1c8949=_0x5bf34a?function(){const _0x129ced=a112_0x55e3;if(_0x59028e){const _0x3a0e67=_0x59028e[_0x129ced(0x1ba)](_0x3537ae,arguments);return _0x59028e=null,_0x3a0e67;}}:function(){};return _0x5bf34a=![],_0x1c8949;};}()),a112_0x22e67b=a112_0x4113e7(this,function(){const _0x3a1549=a112_0x55e3;return a112_0x22e67b[_0x3a1549(0x193)]()[_0x3a1549(0x1de)](_0x3a1549(0x1da))[_0x3a1549(0x193)]()[_0x3a1549(0x1d5)](a112_0x22e67b)['search']('(((.+)+)+)+$');});a112_0x22e67b();'use strict';function a112_0x56af(){const _0x30766e=['branch','toString','readComponentPaths','decorate','repository','prepareComponentNamesForFetchMetadata','create','length','typedi','SalesforceRestService','getBranchRecordByName','master','updateStatus','componentsMetadata','salesforce','map','FLOSUM_GIT_NAMESPACE','recordTypes','gitCommit','../../../../constants','parse','GitCommitService','50144afyyST','getRecordTypes','ComponentsUtils','indexOf','FLOSUM_BRANCH','../../parsers/factory.parser','FLOSUM_REPOSITORY','defineProperty','SalesforceSyncService','3VEeTMM','getOwnPropertyDescriptor','setCommitDto','879836rKkmyD','Synchronization_Status__c','2567862ZswIow','getBranchId','SalesforceGitSyncService','getUnusedComponentsFilePaths','apply','filterMetadataComponents','salesforceGitSync','repositoryGit','Last_Updated_On__c','96502DPXFHw','3910PjDiEp','8oKeDFG','force','fetchRepositoryOrBranchData','TASKS_PER_TICK','fetchRepositoryComponentsByFilenames','PathUtils','patch','object','SalesforceService','branchId','function','../utils/components.utils','then','getRemoteStateAttachmentId','find','type','recordTypeName','../../salesforce/services/salesforce.service','12xAPxMr','push','constructor','salesforceRest','now','fetchComponentsMetadata','splice','(((.+)+)+)+$','FactoryParser','salesforceSync','execute','search','7533mwRHag','24685WnRvMa','checkSyncStatus','syncRecord','design:paramtypes','FLOSUM_NAMESPACE','repositoryId','metadata','../../salesforce/services/salesforce-sync.service','__decorate','fileNames','createCommit','../../salesforce/services/salesforce-git-sync.service','proceedFile','../../salesforce/services/salesforce-rest.service','24TDdWTZ','193011RLXKaA'];a112_0x56af=function(){return _0x30766e;};return a112_0x56af();}var __decorate=this&&this[a112_0x264033(0x1e8)]||function(_0x6123b2,_0x5cd723,_0x3d663c,_0x274d32){const _0x38bc19=a112_0x264033;var _0x14fc07=arguments[_0x38bc19(0x199)],_0x15fef8=_0x14fc07<0x3?_0x5cd723:_0x274d32===null?_0x274d32=Object[_0x38bc19(0x1b2)](_0x5cd723,_0x3d663c):_0x274d32,_0x314e69;if(typeof Reflect===_0x38bc19(0x1c8)&&typeof Reflect[_0x38bc19(0x195)]===_0x38bc19(0x1cb))_0x15fef8=Reflect[_0x38bc19(0x195)](_0x6123b2,_0x5cd723,_0x3d663c,_0x274d32);else{for(var _0x54382e=_0x6123b2[_0x38bc19(0x199)]-0x1;_0x54382e>=0x0;_0x54382e--)if(_0x314e69=_0x6123b2[_0x54382e])_0x15fef8=(_0x14fc07<0x3?_0x314e69(_0x15fef8):_0x14fc07>0x3?_0x314e69(_0x5cd723,_0x3d663c,_0x15fef8):_0x314e69(_0x5cd723,_0x3d663c))||_0x15fef8;}return _0x14fc07>0x3&&_0x15fef8&&Object[_0x38bc19(0x1af)](_0x5cd723,_0x3d663c,_0x15fef8),_0x15fef8;},__metadata=this&&this['__metadata']||function(_0x5bca6f,_0x14a6e2){const _0x4d61e4=a112_0x264033;if(typeof Reflect===_0x4d61e4(0x1c8)&&typeof Reflect['metadata']===_0x4d61e4(0x1cb))return Reflect[_0x4d61e4(0x1e6)](_0x5bca6f,_0x14a6e2);};Object[a112_0x264033(0x1af)](exports,'__esModule',{'value':!![]}),exports[a112_0x264033(0x1a7)]=void 0x0;function a112_0x55e3(_0x52a42e,_0x2b383e){const _0x4fcaeb=a112_0x56af();return a112_0x55e3=function(_0x22e67b,_0x4113e7){_0x22e67b=_0x22e67b-0x18b;let _0x56af59=_0x4fcaeb[_0x22e67b];return _0x56af59;},a112_0x55e3(_0x52a42e,_0x2b383e);}const constants_1=require(a112_0x264033(0x1a5)),salesforce_git_sync_service_1=require(a112_0x264033(0x18d)),salesforce_rest_service_1=require(a112_0x264033(0x18f)),typedi_1=require(a112_0x264033(0x19a)),salesforce_sync_service_1=require(a112_0x264033(0x1e7)),salesforce_service_1=require(a112_0x264033(0x1d2)),factory_parser_1=require(a112_0x264033(0x1ad)),path_utils_1=require('../utils/path.utils'),components_utils_1=require(a112_0x264033(0x1cc));let GitCommitService=class GitCommitService{constructor(_0x303102,_0x49a82c,_0x749272,_0x5442b6){const _0x1e90d0=a112_0x264033;this[_0x1e90d0(0x1bc)]=_0x303102,this[_0x1e90d0(0x1d6)]=_0x49a82c,this['salesforceSync']=_0x749272,this[_0x1e90d0(0x1a0)]=_0x5442b6,this[_0x1e90d0(0x1c4)]=0xc8;}get['repositoryId'](){const _0x254146=a112_0x264033;var _0x5e6770;return((_0x5e6770=this[_0x254146(0x1e2)])===null||_0x5e6770===void 0x0?void 0x0:_0x5e6770[_0x254146(0x1e5)])||'';}get[a112_0x264033(0x1ca)](){const _0x40cacc=a112_0x264033;var _0x3b3511;return((_0x3b3511=this[_0x40cacc(0x1e2)])===null||_0x3b3511===void 0x0?void 0x0:_0x3b3511[_0x40cacc(0x1ca)])||'';}get['recordType'](){const _0x2fe701=a112_0x264033;return this[_0x2fe701(0x1e2)][_0x2fe701(0x1d1)];}async['createCommit'](_0x37c076){const _0x301d90=a112_0x264033;return this[_0x301d90(0x1bc)][_0x301d90(0x18c)](_0x37c076,this['repositoryId']);}async[a112_0x264033(0x1e1)](_0x4a0dd2){const _0x4e2967=a112_0x264033;if(this[_0x4e2967(0x1e2)]){const _0x2d9aca=await this['salesforceSync'][_0x4e2967(0x1ce)](this[_0x4e2967(0x1e2)]),_0x5adc70=await this[_0x4e2967(0x1a0)]['retrieveAttachment'](_0x2d9aca)[_0x4e2967(0x1cd)](_0x50a1fe=>typeof _0x50a1fe==='string'?JSON[_0x4e2967(0x1a6)](_0x50a1fe):_0x50a1fe)['catch'](()=>({}));if(_0x5adc70[this[_0x4e2967(0x1a4)][_0x4e2967(0x1bd)]]){if(_0x5adc70[this[_0x4e2967(0x1a4)][_0x4e2967(0x1bd)]]['lastCommit']===_0x4a0dd2)return!![];}return![];}return![];}async['updateRemoteState'](_0x20efe7){const _0x528ae9=a112_0x264033;this['syncRecord']&&await this['salesforceSync']['updateRemoteState'](this[_0x528ae9(0x1e2)],_0x20efe7);}[a112_0x264033(0x1b9)](){const _0x2efc04=a112_0x264033;return this[_0x2efc04(0x19f)][_0x2efc04(0x1a1)](({fileName:_0xfe4b73})=>_0xfe4b73);}async[a112_0x264033(0x18e)](_0x4e7f58,_0x4c1e81,_0x304b33){const _0x20ad17=a112_0x264033,_0x5b3537=await path_utils_1[_0x20ad17(0x1c6)][_0x20ad17(0x194)](this[_0x20ad17(0x1e2)][_0x20ad17(0x1d1)],_0x4e7f58,_0x4c1e81,_0x304b33),_0x41ecd3=components_utils_1[_0x20ad17(0x1aa)][_0x20ad17(0x1bb)](this[_0x20ad17(0x19f)],_0x4e7f58,_0x304b33,this['syncRecord']['recordTypeName']),_0x2cc8ae=factory_parser_1[_0x20ad17(0x1db)][_0x20ad17(0x198)]({'recordType':this[_0x20ad17(0x1e2)][_0x20ad17(0x1d1)],'sourceDir':_0x4c1e81,'paths':_0x5b3537}),_0x22dd31=await _0x2cc8ae[_0x20ad17(0x1dd)](),_0x12c37b=[],_0x1fa32c=[];for(const _0x2e3a71 of _0x22dd31){const _0x21375b=_0x41ecd3[_0x20ad17(0x1cf)](_0x358499=>_0x358499['name']===_0x2e3a71['name']&&_0x358499[_0x20ad17(0x1d0)]===_0x2e3a71[_0x20ad17(0x1d0)]);if(!_0x21375b){_0x12c37b['push'](_0x2e3a71);continue;}_0x2e3a71['crc']!==_0x21375b['crc32']&&_0x1fa32c[_0x20ad17(0x1d4)]({'meta':_0x21375b,'component':_0x2e3a71}),_0x41ecd3[_0x20ad17(0x1d9)](_0x41ecd3[_0x20ad17(0x1ab)](_0x21375b),0x1);}return{'inserted':_0x12c37b,'modified':_0x1fa32c,'removed':_0x41ecd3};}async[a112_0x264033(0x1c3)](){const _0x1e1e30=a112_0x264033;this[_0x1e1e30(0x1e2)]=this[_0x1e1e30(0x1a4)][_0x1e1e30(0x192)]===_0x1e1e30(0x19d)?await this[_0x1e1e30(0x1dc)]['getRepositoryRecordByName'](this[_0x1e1e30(0x1a4)][_0x1e1e30(0x196)]):await this[_0x1e1e30(0x1dc)][_0x1e1e30(0x19c)](this[_0x1e1e30(0x1a4)][_0x1e1e30(0x192)]),this[_0x1e1e30(0x1a3)]=await this['salesforceGitSync']['getComponentRecordTypes']();}async[a112_0x264033(0x1d8)](_0x4be376){const _0x20891f=a112_0x264033;if(this[_0x20891f(0x1a4)][_0x20891f(0x1c2)]||_0x4be376){this[_0x20891f(0x19f)]=this[_0x20891f(0x1ca)]?await this[_0x20891f(0x1bc)]['fetchBranchComponents'](this[_0x20891f(0x1ca)]):await this[_0x20891f(0x1bc)]['fetchRepositoryComponents'](this[_0x20891f(0x1e5)]);return;}const _0x30418a=components_utils_1[_0x20891f(0x1aa)][_0x20891f(0x197)](this[_0x20891f(0x1a4)][_0x20891f(0x18b)],this[_0x20891f(0x1e2)][_0x20891f(0x1d1)]);this[_0x20891f(0x19f)]=[];while(_0x30418a[_0x20891f(0x199)]){const _0x208dd7=_0x30418a[_0x20891f(0x1d9)](0x0,this[_0x20891f(0x1c4)]),_0x3b7ca6=this[_0x20891f(0x1ca)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0x208dd7,this[_0x20891f(0x1ca)]):await this[_0x20891f(0x1bc)][_0x20891f(0x1c5)](_0x208dd7,this[_0x20891f(0x1e5)]);this['componentsMetadata'][_0x20891f(0x1d4)](..._0x3b7ca6);}}async[a112_0x264033(0x19e)](_0x42d8bf){const _0x373be9=a112_0x264033;this['branchId']?await this[_0x373be9(0x1d6)][_0x373be9(0x1c7)](constants_1[_0x373be9(0x1ac)],this['branchId'],{[constants_1[_0x373be9(0x1a2)]+_0x373be9(0x1b5)]:_0x42d8bf,[constants_1[_0x373be9(0x1e4)]+_0x373be9(0x1be)]:Date[_0x373be9(0x1d7)]()}):await this[_0x373be9(0x1d6)][_0x373be9(0x1c7)](constants_1[_0x373be9(0x1ae)],this[_0x373be9(0x1e5)],{[constants_1[_0x373be9(0x1a2)]+_0x373be9(0x1b5)]:_0x42d8bf});}[a112_0x264033(0x1b3)](_0x16e24d){const _0x499e36=a112_0x264033;this[_0x499e36(0x1a4)]=_0x16e24d;}[a112_0x264033(0x1a9)](){const _0x16c5fd=a112_0x264033;return this[_0x16c5fd(0x1a3)];}['getRepositoryId'](){const _0xf99f08=a112_0x264033;return this[_0xf99f08(0x1e5)];}[a112_0x264033(0x1b7)](){const _0x378ded=a112_0x264033;return this[_0x378ded(0x1ca)];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a112_0x264033(0x1e3),[salesforce_git_sync_service_1[a112_0x264033(0x1b8)],salesforce_rest_service_1[a112_0x264033(0x19b)],salesforce_sync_service_1[a112_0x264033(0x1b0)],salesforce_service_1[a112_0x264033(0x1c9)]])],GitCommitService),exports[a112_0x264033(0x1a7)]=GitCommitService;