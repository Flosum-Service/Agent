function a110_0x5103(){const _0x1fa713=['../../salesforce/services/salesforce-rest.service','([./-]{1}|$)','FLOSUM_GIT_NAMESPACE','metadata','337770UbbibX','push','getRemoteStateAttachmentId','toString','getUnusedComponentsFilePaths','fetchBranchComponents','fetchComponentsMetadata','salesforceGitSync','syncRecord','gitCommit','filter','getRecordTypes','filterParserPaths','Synchronization_Status__c','recordTypes','type','Service','fetchRepositoryComponentsByFilenames','../../parsers/utils','TASKS_PER_TICK','getComponentRecordTypes','branchId','__decorate','patch','decorate','force','getBranchRecordByName','FLOSUM_NAMESPACE','(((.+)+)+)+$','apply','defineProperty','branch','GitCommitService','salesforceSync','__metadata','salesforceRest','typedi','repository','SalesforceSyncService','1644832wmmxmh','MDApiParserV2','150452hKicAP','96CXLRsM','match','map','../../salesforce/services/salesforce-git-sync.service','354339stYjPO','indexOf','componentsMetadata','../../salesforce/services/salesforce-sync.service','lastCommit','repositoryGit','salesforce','catch','find','1540986mabOzq','fetchRepositoryOrBranchData','checkSyncStatus','length','getRepositoryId','search','fileName','SalesforceGitSyncService','crc32','META_XML_EXTENSION','function','SalesforceRestService','2144982KJTTpX','then','object','updateStatus','getOwnPropertyDescriptor','name','readFilesByFilename','master','repositoryId','proceedFile','5PMzUgo','getBranchId','splice','retrieveAttachment','1586772JNSgpW','fileNames','updateRemoteState','parse','string','fetchBranchComponentsByFilenames'];a110_0x5103=function(){return _0x1fa713;};return a110_0x5103();}const a110_0x52b989=a110_0x4196;(function(_0x9e79c2,_0x25fe05){const _0x3b9967=a110_0x4196,_0x115fb9=_0x9e79c2();while(!![]){try{const _0x499ba1=parseInt(_0x3b9967(0x189))/0x1+-parseInt(_0x3b9967(0x1b2))/0x2+parseInt(_0x3b9967(0x17f))/0x3+-parseInt(_0x3b9967(0x1b0))/0x4+-parseInt(_0x3b9967(0x17b))/0x5*(parseInt(_0x3b9967(0x1c0))/0x6)+-parseInt(_0x3b9967(0x171))/0x7+parseInt(_0x3b9967(0x1b3))/0x8*(parseInt(_0x3b9967(0x1b7))/0x9);if(_0x499ba1===_0x25fe05)break;else _0x115fb9['push'](_0x115fb9['shift']());}catch(_0x5f0842){_0x115fb9['push'](_0x115fb9['shift']());}}}(a110_0x5103,0x46aaf));const a110_0x4a5b77=(function(){let _0x519f5d=!![];return function(_0x581127,_0x1460b0){const _0x47a7a0=_0x519f5d?function(){const _0x4d415e=a110_0x4196;if(_0x1460b0){const _0x514cc1=_0x1460b0[_0x4d415e(0x1a6)](_0x581127,arguments);return _0x1460b0=null,_0x514cc1;}}:function(){};return _0x519f5d=![],_0x47a7a0;};}()),a110_0xaf18e5=a110_0x4a5b77(this,function(){const _0xf5135b=a110_0x4196;return a110_0xaf18e5[_0xf5135b(0x18c)]()[_0xf5135b(0x16a)]('(((.+)+)+)+$')['toString']()['constructor'](a110_0xaf18e5)[_0xf5135b(0x16a)](_0xf5135b(0x1a5));});a110_0xaf18e5();function a110_0x4196(_0x212c12,_0x192279){const _0x29d15a=a110_0x5103();return a110_0x4196=function(_0xaf18e5,_0x4a5b77){_0xaf18e5=_0xaf18e5-0x16a;let _0x5103ef=_0x29d15a[_0xaf18e5];return _0x5103ef;},a110_0x4196(_0x212c12,_0x192279);}'use strict';var __decorate=this&&this[a110_0x52b989(0x19f)]||function(_0x3426bd,_0x2136c6,_0x2cea1c,_0x4e94f7){const _0x4e135a=a110_0x52b989;var _0x57eb4d=arguments[_0x4e135a(0x1c3)],_0x3f3b3f=_0x57eb4d<0x3?_0x2136c6:_0x4e94f7===null?_0x4e94f7=Object[_0x4e135a(0x175)](_0x2136c6,_0x2cea1c):_0x4e94f7,_0x310ba1;if(typeof Reflect===_0x4e135a(0x173)&&typeof Reflect[_0x4e135a(0x1a1)]===_0x4e135a(0x16f))_0x3f3b3f=Reflect[_0x4e135a(0x1a1)](_0x3426bd,_0x2136c6,_0x2cea1c,_0x4e94f7);else{for(var _0x1db263=_0x3426bd[_0x4e135a(0x1c3)]-0x1;_0x1db263>=0x0;_0x1db263--)if(_0x310ba1=_0x3426bd[_0x1db263])_0x3f3b3f=(_0x57eb4d<0x3?_0x310ba1(_0x3f3b3f):_0x57eb4d>0x3?_0x310ba1(_0x2136c6,_0x2cea1c,_0x3f3b3f):_0x310ba1(_0x2136c6,_0x2cea1c))||_0x3f3b3f;}return _0x57eb4d>0x3&&_0x3f3b3f&&Object[_0x4e135a(0x1a7)](_0x2136c6,_0x2cea1c,_0x3f3b3f),_0x3f3b3f;},__metadata=this&&this[a110_0x52b989(0x1ab)]||function(_0x378aa3,_0xac157c){const _0x29648a=a110_0x52b989;if(typeof Reflect===_0x29648a(0x173)&&typeof Reflect[_0x29648a(0x188)]===_0x29648a(0x16f))return Reflect['metadata'](_0x378aa3,_0xac157c);};Object[a110_0x52b989(0x1a7)](exports,'__esModule',{'value':!![]}),exports[a110_0x52b989(0x1a9)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x52b989(0x1b6)),salesforce_rest_service_1=require(a110_0x52b989(0x185)),typedi_1=require(a110_0x52b989(0x1ad)),salesforce_sync_service_1=require(a110_0x52b989(0x1ba)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require('../../parsers/mdapi/parser-v2'),utils_1=require(a110_0x52b989(0x19b));let GitCommitService=class GitCommitService{constructor(_0x4d5ee5,_0x3e681b,_0x2a4fe6,_0x3c9b12){const _0x29c83d=a110_0x52b989;this[_0x29c83d(0x190)]=_0x4d5ee5,this[_0x29c83d(0x1ac)]=_0x3e681b,this[_0x29c83d(0x1aa)]=_0x2a4fe6,this[_0x29c83d(0x1bd)]=_0x3c9b12,this['TASKS_PER_TICK']=0xc8;}get[a110_0x52b989(0x179)](){const _0xb836d3=a110_0x52b989;var _0x37bcc9;return((_0x37bcc9=this[_0xb836d3(0x191)])===null||_0x37bcc9===void 0x0?void 0x0:_0x37bcc9['repositoryId'])||'';}get[a110_0x52b989(0x19e)](){const _0x195170=a110_0x52b989;var _0x222c19;return((_0x222c19=this[_0x195170(0x191)])===null||_0x222c19===void 0x0?void 0x0:_0x222c19[_0x195170(0x19e)])||'';}async['createCommit'](_0x16c740){const _0x21b911=a110_0x52b989;return this['salesforceGitSync']['createCommit'](_0x16c740,this[_0x21b911(0x179)]);}async[a110_0x52b989(0x1c2)](_0x451605){const _0x358338=a110_0x52b989;if(this['syncRecord']){const _0x436e15=await this['salesforceSync'][_0x358338(0x18b)](this[_0x358338(0x191)]),_0x50c98b=await this[_0x358338(0x1bd)][_0x358338(0x17e)](_0x436e15)[_0x358338(0x172)](_0x1c9909=>typeof _0x1c9909===_0x358338(0x183)?JSON[_0x358338(0x182)](_0x1c9909):_0x1c9909)[_0x358338(0x1be)](()=>({}));if(_0x50c98b[this[_0x358338(0x192)][_0x358338(0x1bc)]]){if(_0x50c98b[this[_0x358338(0x192)][_0x358338(0x1bc)]][_0x358338(0x1bb)]===_0x451605)return!![];}return![];}return![];}async[a110_0x52b989(0x181)](_0x4a27c2){const _0x43a9ee=a110_0x52b989;this['syncRecord']&&await this[_0x43a9ee(0x1aa)][_0x43a9ee(0x181)](this[_0x43a9ee(0x191)],_0x4a27c2);}[a110_0x52b989(0x18d)](){return this['componentsMetadata']['map'](({fileName:_0x51d855})=>_0x51d855);}async[a110_0x52b989(0x17a)](_0x336fdb,_0x1b2489,_0x25d184){const _0x5e4295=a110_0x52b989,_0x56a441=new RegExp('^'+_0x336fdb+_0x5e4295(0x186));let _0x293c6c=[_0x336fdb];_0x25d184&&(_0x293c6c=(0x0,utils_1[_0x5e4295(0x195)])(await(0x0,utils_1[_0x5e4295(0x177)])(_0x336fdb,_0x1b2489)[_0x5e4295(0x1be)](()=>[])));const _0x4ff56d=_0x25d184?this[_0x5e4295(0x1b9)][_0x5e4295(0x193)](_0x22b3e0=>_0x22b3e0[_0x5e4295(0x16b)][_0x5e4295(0x1b4)](_0x56a441)):this[_0x5e4295(0x1b9)][_0x5e4295(0x193)](_0x173236=>_0x173236['fileName']===_0x336fdb||_0x173236[_0x5e4295(0x16b)]===_0x336fdb['replace'](constants_1[_0x5e4295(0x16e)],'')),_0x438d75=new parser_v2_1[(_0x5e4295(0x1b1))](_0x1b2489,_0x293c6c),_0x30cc66=await _0x438d75['parse'](),_0x2cf526=[],_0x19574d=[];for(const _0x4537ca of _0x30cc66){const _0x13bbf5=_0x4ff56d[_0x5e4295(0x1bf)](_0x5c3a22=>_0x5c3a22[_0x5e4295(0x176)]===_0x4537ca[_0x5e4295(0x176)]&&_0x5c3a22[_0x5e4295(0x198)]===_0x4537ca[_0x5e4295(0x198)]);if(!_0x13bbf5){_0x2cf526[_0x5e4295(0x18a)](_0x4537ca);continue;}_0x4537ca['crc']!==_0x13bbf5[_0x5e4295(0x16d)]&&_0x19574d['push']({'meta':_0x13bbf5,'component':_0x4537ca}),_0x4ff56d['splice'](_0x4ff56d[_0x5e4295(0x1b8)](_0x13bbf5),0x1);}return{'inserted':_0x2cf526,'modified':_0x19574d,'removed':_0x4ff56d};}async[a110_0x52b989(0x1c1)](){const _0x37b24a=a110_0x52b989;this[_0x37b24a(0x191)]=this[_0x37b24a(0x192)][_0x37b24a(0x1a8)]===_0x37b24a(0x178)?await this[_0x37b24a(0x1aa)]['getRepositoryRecordByName'](this[_0x37b24a(0x192)][_0x37b24a(0x1ae)]):await this[_0x37b24a(0x1aa)][_0x37b24a(0x1a3)](this[_0x37b24a(0x192)][_0x37b24a(0x1a8)]),this[_0x37b24a(0x197)]=await this[_0x37b24a(0x190)][_0x37b24a(0x19d)]();}async[a110_0x52b989(0x18f)](_0x431a0e){const _0x40cd49=a110_0x52b989;if(this[_0x40cd49(0x192)][_0x40cd49(0x1a2)]||_0x431a0e){this[_0x40cd49(0x1b9)]=this[_0x40cd49(0x19e)]?await this[_0x40cd49(0x190)][_0x40cd49(0x18e)](this['branchId']):await this[_0x40cd49(0x190)]['fetchRepositoryComponents'](this[_0x40cd49(0x179)]);return;}const _0x2305c5=[...new Set(this[_0x40cd49(0x192)][_0x40cd49(0x180)][_0x40cd49(0x1b5)](_0x1e1221=>_0x1e1221['replace'](constants_1[_0x40cd49(0x16e)],'')))];this['componentsMetadata']=[];while(_0x2305c5[_0x40cd49(0x1c3)]){const _0xf16a31=_0x2305c5[_0x40cd49(0x17d)](0x0,this[_0x40cd49(0x19c)]),_0x44a7d5=this['branchId']?await this['salesforceGitSync'][_0x40cd49(0x184)](_0xf16a31,this[_0x40cd49(0x19e)]):await this[_0x40cd49(0x190)][_0x40cd49(0x19a)](_0xf16a31,this[_0x40cd49(0x179)]);this[_0x40cd49(0x1b9)][_0x40cd49(0x18a)](..._0x44a7d5);}}async[a110_0x52b989(0x174)](_0x3117d2){const _0xf023fe=a110_0x52b989;this[_0xf023fe(0x19e)]?await this[_0xf023fe(0x1ac)][_0xf023fe(0x1a0)](constants_1['FLOSUM_BRANCH'],this[_0xf023fe(0x19e)],{[constants_1[_0xf023fe(0x187)]+'Synchronization_Status__c']:_0x3117d2,[constants_1[_0xf023fe(0x1a4)]+'Last_Updated_On__c']:Date['now']()}):await this['salesforceRest'][_0xf023fe(0x1a0)](constants_1['FLOSUM_REPOSITORY'],this[_0xf023fe(0x179)],{[constants_1[_0xf023fe(0x187)]+_0xf023fe(0x196)]:_0x3117d2});}['setCommitDto'](_0x59ce97){const _0xeafe5f=a110_0x52b989;this[_0xeafe5f(0x192)]=_0x59ce97;}[a110_0x52b989(0x194)](){const _0x210ad0=a110_0x52b989;return this[_0x210ad0(0x197)];}[a110_0x52b989(0x1c4)](){const _0x3f9a53=a110_0x52b989;return this[_0x3f9a53(0x179)];}[a110_0x52b989(0x17c)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x52b989(0x199)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a110_0x52b989(0x16c)],salesforce_rest_service_1[a110_0x52b989(0x170)],salesforce_sync_service_1[a110_0x52b989(0x1af)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a110_0x52b989(0x1a9)]=GitCommitService;