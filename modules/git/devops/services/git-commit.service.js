const a110_0x1add43=a110_0x16b7;(function(_0x5ec0b7,_0x5a1213){const _0x551373=a110_0x16b7,_0x14e2c0=_0x5ec0b7();while(!![]){try{const _0x3e5a3c=-parseInt(_0x551373(0x1aa))/0x1*(parseInt(_0x551373(0x1da))/0x2)+-parseInt(_0x551373(0x1c2))/0x3*(parseInt(_0x551373(0x1b8))/0x4)+-parseInt(_0x551373(0x1c7))/0x5*(parseInt(_0x551373(0x1a3))/0x6)+-parseInt(_0x551373(0x1e6))/0x7*(parseInt(_0x551373(0x1cf))/0x8)+parseInt(_0x551373(0x1e0))/0x9+parseInt(_0x551373(0x1ce))/0xa+parseInt(_0x551373(0x1af))/0xb*(parseInt(_0x551373(0x1cd))/0xc);if(_0x3e5a3c===_0x5a1213)break;else _0x14e2c0['push'](_0x14e2c0['shift']());}catch(_0x4aa041){_0x14e2c0['push'](_0x14e2c0['shift']());}}}(a110_0x30e6,0x92c81));function a110_0x30e6(){const _0x1d5c15=['../../parsers/utils/vlocity','7979922nZOpiS','Last_Updated_On__c','fetchComponentsMetadata','FLOSUM_REPOSITORY','META_XML_EXTENSION','master','41349EkYZfR','salesforce','branch','filter','parse','object','__esModule','find','fetchBranchComponents','splice','string','match','fileName','catch','setCommitDto','GitCommitService','SalesforceRestService','salesforceSync','getBranchRecordByName','syncRecord','getBranchId','getComponentRecordTypes','FactoryParser','../../salesforce/services/salesforce-git-sync.service','fetchBranchComponentsByFilenames','updateRemoteState','1182gXwYOp','branchId','constructor','componentsMetadata','getOwnPropertyDescriptor','readFilesByFilename','toString','725539nxhnIn','repository','gitCommit','__decorate','salesforceRest','6734871JYLBrR','repositoryId','filterParserPaths','crc32','map','fetchRepositoryComponentsByFilenames','getRepositoryRecordByName','decorate','salesforceGitSync','2534860yYuJXn','fileNames','getRemoteStateAttachmentId','design:paramtypes','push','function','createCommit','Service','replace','updateStatus','3vbBHhU','patch','SalesforceService','Synchronization_Status__c','typedi','22205izAtLn','SalesforceGitSyncService','fetchRepositoryOrBranchData','apply','FLOSUM_BRANCH','metadata','36AIFvSO','11160970IhhLFd','1360QXqkSo','../../../../constants','length','FLOSUM_GIT_NAMESPACE','([./-]{1}|$)','search','getRecordTypes','../../salesforce/services/salesforce.service','TASKS_PER_TICK','name','isVlocityComponent','2FGaJgk','type','FLOSUM_NAMESPACE','defineProperty','(((.+)+)+)+$'];a110_0x30e6=function(){return _0x1d5c15;};return a110_0x30e6();}const a110_0x344e85=(function(){let _0x2ab901=!![];return function(_0x389737,_0x3d5334){const _0xb1dd11=_0x2ab901?function(){const _0x5e82e1=a110_0x16b7;if(_0x3d5334){const _0x5b0869=_0x3d5334[_0x5e82e1(0x1ca)](_0x389737,arguments);return _0x3d5334=null,_0x5b0869;}}:function(){};return _0x2ab901=![],_0xb1dd11;};}()),a110_0x113186=a110_0x344e85(this,function(){const _0x51ad9c=a110_0x16b7;return a110_0x113186[_0x51ad9c(0x1a9)]()[_0x51ad9c(0x1d4)]('(((.+)+)+)+$')['toString']()[_0x51ad9c(0x1a5)](a110_0x113186)[_0x51ad9c(0x1d4)](_0x51ad9c(0x1de));});a110_0x113186();'use strict';function a110_0x16b7(_0x439e58,_0x2b4ce8){const _0x2253ef=a110_0x30e6();return a110_0x16b7=function(_0x113186,_0x344e85){_0x113186=_0x113186-0x18c;let _0x30e699=_0x2253ef[_0x113186];return _0x30e699;},a110_0x16b7(_0x439e58,_0x2b4ce8);}var __decorate=this&&this[a110_0x1add43(0x1ad)]||function(_0x1c78af,_0xbee417,_0x449319,_0x2e3460){const _0x5e6e3c=a110_0x1add43;var _0x2128f3=arguments[_0x5e6e3c(0x1d1)],_0x1210d8=_0x2128f3<0x3?_0xbee417:_0x2e3460===null?_0x2e3460=Object[_0x5e6e3c(0x1a7)](_0xbee417,_0x449319):_0x2e3460,_0x2ac204;if(typeof Reflect===_0x5e6e3c(0x18e)&&typeof Reflect[_0x5e6e3c(0x1b6)]===_0x5e6e3c(0x1bd))_0x1210d8=Reflect[_0x5e6e3c(0x1b6)](_0x1c78af,_0xbee417,_0x449319,_0x2e3460);else{for(var _0x35aeab=_0x1c78af[_0x5e6e3c(0x1d1)]-0x1;_0x35aeab>=0x0;_0x35aeab--)if(_0x2ac204=_0x1c78af[_0x35aeab])_0x1210d8=(_0x2128f3<0x3?_0x2ac204(_0x1210d8):_0x2128f3>0x3?_0x2ac204(_0xbee417,_0x449319,_0x1210d8):_0x2ac204(_0xbee417,_0x449319))||_0x1210d8;}return _0x2128f3>0x3&&_0x1210d8&&Object[_0x5e6e3c(0x1dd)](_0xbee417,_0x449319,_0x1210d8),_0x1210d8;},__metadata=this&&this['__metadata']||function(_0x15a912,_0xb4279a){const _0x1f59b6=a110_0x1add43;if(typeof Reflect==='object'&&typeof Reflect[_0x1f59b6(0x1cc)]===_0x1f59b6(0x1bd))return Reflect[_0x1f59b6(0x1cc)](_0x15a912,_0xb4279a);};Object[a110_0x1add43(0x1dd)](exports,a110_0x1add43(0x18f),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require(a110_0x1add43(0x1d0)),salesforce_git_sync_service_1=require(a110_0x1add43(0x1a0)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x1add43(0x1c6)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a110_0x1add43(0x1d6)),utils_1=require('../../parsers/utils'),factory_parser_1=require('../../parsers/mdapi/factory.parser'),vlocity_1=require(a110_0x1add43(0x1df));let GitCommitService=class GitCommitService{constructor(_0x2e6214,_0x487b57,_0x352131,_0x422898){const _0x7e6df1=a110_0x1add43;this[_0x7e6df1(0x1b7)]=_0x2e6214,this[_0x7e6df1(0x1ae)]=_0x487b57,this[_0x7e6df1(0x19a)]=_0x352131,this[_0x7e6df1(0x1e7)]=_0x422898,this[_0x7e6df1(0x1d7)]=0xc8;}get[a110_0x1add43(0x1b0)](){const _0x1b5fee=a110_0x1add43;var _0x451b38;return((_0x451b38=this[_0x1b5fee(0x19c)])===null||_0x451b38===void 0x0?void 0x0:_0x451b38[_0x1b5fee(0x1b0)])||'';}get[a110_0x1add43(0x1a4)](){const _0x33c4f3=a110_0x1add43;var _0x248fac;return((_0x248fac=this[_0x33c4f3(0x19c)])===null||_0x248fac===void 0x0?void 0x0:_0x248fac[_0x33c4f3(0x1a4)])||'';}async[a110_0x1add43(0x1be)](_0x3532c9){const _0x584b21=a110_0x1add43;return this[_0x584b21(0x1b7)][_0x584b21(0x1be)](_0x3532c9,this['repositoryId']);}async['checkSyncStatus'](_0x2f4851){const _0x4f4de0=a110_0x1add43;if(this[_0x4f4de0(0x19c)]){const _0x3ebbf6=await this['salesforceSync'][_0x4f4de0(0x1ba)](this[_0x4f4de0(0x19c)]),_0x1feeab=await this[_0x4f4de0(0x1e7)]['retrieveAttachment'](_0x3ebbf6)['then'](_0x248670=>typeof _0x248670===_0x4f4de0(0x193)?JSON[_0x4f4de0(0x18d)](_0x248670):_0x248670)[_0x4f4de0(0x196)](()=>({}));if(_0x1feeab[this['gitCommit']['repositoryGit']]){if(_0x1feeab[this[_0x4f4de0(0x1ac)]['repositoryGit']]['lastCommit']===_0x2f4851)return!![];}return![];}return![];}async['updateRemoteState'](_0x3d9637){const _0x2cba8d=a110_0x1add43;this[_0x2cba8d(0x19c)]&&await this[_0x2cba8d(0x19a)][_0x2cba8d(0x1a2)](this[_0x2cba8d(0x19c)],_0x3d9637);}['getUnusedComponentsFilePaths'](){const _0x5ef28e=a110_0x1add43;return this['componentsMetadata'][_0x5ef28e(0x1b3)](({fileName:_0x528347})=>_0x528347);}async['proceedFile'](_0x523e3b,_0x1f7d8c,_0x3f7fdc){const _0x44b475=a110_0x1add43,_0x459cd8=new RegExp('^'+_0x523e3b+_0x44b475(0x1d3));let _0x42fd03=[_0x523e3b];_0x3f7fdc&&!(0x0,vlocity_1[_0x44b475(0x1d9)])(_0x523e3b)&&(_0x42fd03=(0x0,utils_1[_0x44b475(0x1b1)])(await(0x0,utils_1[_0x44b475(0x1a8)])(_0x523e3b,_0x1f7d8c)['catch'](()=>[])));const _0x4478bf=_0x3f7fdc?this[_0x44b475(0x1a6)][_0x44b475(0x18c)](_0x5cc638=>_0x5cc638[_0x44b475(0x195)][_0x44b475(0x194)](_0x459cd8)):this[_0x44b475(0x1a6)][_0x44b475(0x18c)](_0x447e85=>_0x447e85['fileName']===_0x523e3b||_0x447e85['fileName']===_0x523e3b['replace'](constants_1[_0x44b475(0x1e4)],'')),_0x51d86c=factory_parser_1[_0x44b475(0x19f)]['create'](_0x1f7d8c,_0x42fd03),_0xb90035=await _0x51d86c[_0x44b475(0x18d)](),_0xfaccad=[],_0x15c334=[];for(const _0x4b016c of _0xb90035){const _0x56afe3=_0x4478bf[_0x44b475(0x190)](_0x225f9a=>_0x225f9a[_0x44b475(0x1d8)]===_0x4b016c[_0x44b475(0x1d8)]&&_0x225f9a[_0x44b475(0x1db)]===_0x4b016c['type']);if(!_0x56afe3){_0xfaccad[_0x44b475(0x1bc)](_0x4b016c);continue;}_0x4b016c['crc']!==_0x56afe3[_0x44b475(0x1b2)]&&_0x15c334[_0x44b475(0x1bc)]({'meta':_0x56afe3,'component':_0x4b016c}),_0x4478bf[_0x44b475(0x192)](_0x4478bf['indexOf'](_0x56afe3),0x1);}return{'inserted':_0xfaccad,'modified':_0x15c334,'removed':_0x4478bf};}async[a110_0x1add43(0x1c9)](){const _0x440a83=a110_0x1add43;this[_0x440a83(0x19c)]=this[_0x440a83(0x1ac)]['branch']===_0x440a83(0x1e5)?await this[_0x440a83(0x19a)][_0x440a83(0x1b5)](this[_0x440a83(0x1ac)][_0x440a83(0x1ab)]):await this[_0x440a83(0x19a)][_0x440a83(0x19b)](this[_0x440a83(0x1ac)][_0x440a83(0x1e8)]),this['recordTypes']=await this[_0x440a83(0x1b7)][_0x440a83(0x19e)]();}async[a110_0x1add43(0x1e2)](_0x4df39e){const _0x3fba53=a110_0x1add43;if(this['gitCommit']['force']||_0x4df39e){this[_0x3fba53(0x1a6)]=this[_0x3fba53(0x1a4)]?await this[_0x3fba53(0x1b7)][_0x3fba53(0x191)](this[_0x3fba53(0x1a4)]):await this[_0x3fba53(0x1b7)]['fetchRepositoryComponents'](this[_0x3fba53(0x1b0)]);return;}const _0x22273d=[...new Set(this['gitCommit'][_0x3fba53(0x1b9)][_0x3fba53(0x1b3)](_0x94456b=>_0x94456b[_0x3fba53(0x1c0)](constants_1[_0x3fba53(0x1e4)],'')))];this[_0x3fba53(0x1a6)]=[];while(_0x22273d[_0x3fba53(0x1d1)]){const _0x5b6b3e=_0x22273d[_0x3fba53(0x192)](0x0,this[_0x3fba53(0x1d7)]),_0x3cf1bf=this[_0x3fba53(0x1a4)]?await this['salesforceGitSync'][_0x3fba53(0x1a1)](_0x5b6b3e,this[_0x3fba53(0x1a4)]):await this[_0x3fba53(0x1b7)][_0x3fba53(0x1b4)](_0x5b6b3e,this[_0x3fba53(0x1b0)]);this[_0x3fba53(0x1a6)][_0x3fba53(0x1bc)](..._0x3cf1bf);}}async[a110_0x1add43(0x1c1)](_0x40dd4b){const _0x24c1a7=a110_0x1add43;this[_0x24c1a7(0x1a4)]?await this[_0x24c1a7(0x1ae)][_0x24c1a7(0x1c3)](constants_1[_0x24c1a7(0x1cb)],this[_0x24c1a7(0x1a4)],{[constants_1[_0x24c1a7(0x1d2)]+_0x24c1a7(0x1c5)]:_0x40dd4b,[constants_1[_0x24c1a7(0x1dc)]+_0x24c1a7(0x1e1)]:Date['now']()}):await this[_0x24c1a7(0x1ae)]['patch'](constants_1[_0x24c1a7(0x1e3)],this[_0x24c1a7(0x1b0)],{[constants_1[_0x24c1a7(0x1d2)]+_0x24c1a7(0x1c5)]:_0x40dd4b});}[a110_0x1add43(0x197)](_0x5d159e){this['gitCommit']=_0x5d159e;}[a110_0x1add43(0x1d5)](){return this['recordTypes'];}['getRepositoryId'](){const _0xed4e65=a110_0x1add43;return this[_0xed4e65(0x1b0)];}[a110_0x1add43(0x19d)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x1add43(0x1bf)])({'transient':!![]}),__metadata(a110_0x1add43(0x1bb),[salesforce_git_sync_service_1[a110_0x1add43(0x1c8)],salesforce_rest_service_1[a110_0x1add43(0x199)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a110_0x1add43(0x1c4)]])],GitCommitService),exports[a110_0x1add43(0x198)]=GitCommitService;