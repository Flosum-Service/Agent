function a110_0x25aa(){const _0x1f2b1f=['indexOf','getOwnPropertyDescriptor','12615588rxvjGD','force','Last_Updated_On__c','getComponentRecordTypes','checkSyncStatus','search','../../parsers/utils/vlocity','7ZcHLwD','SalesforceGitSyncService','getUnusedComponentsFilePaths','crc32','fetchRepositoryComponentsByFilenames','GitCommitService','filterParserPaths','getRepositoryId','push','fetchComponentsMetadata','createCommit','parse','retrieveAttachment','([./-]{1}|$)','create','name','(((.+)+)+)+$','decorate','updateRemoteState','getRepositoryRecordByName','lastCommit','toString','9nlzAaf','metadata','splice','branchId','catch','branch','constructor','repositoryId','proceedFile','fileName','fileNames','__decorate','SalesforceRestService','componentsMetadata','Service','type','typedi','META_XML_EXTENSION','3284304kUuXSN','../../parsers/utils','replace','filter','getRemoteStateAttachmentId','function','3809072AxYCaD','isVlocityComponent','patch','Synchronization_Status__c','readFilesByFilename','recordTypes','design:paramtypes','TASKS_PER_TICK','salesforceRest','../../salesforce/services/salesforce-sync.service','salesforce','214085xCNUQT','syncRecord','object','then','__metadata','getBranchId','salesforceSync','repositoryGit','FLOSUM_REPOSITORY','getBranchRecordByName','now','__esModule','fetchRepositoryComponents','master','1243146qGLMcm','salesforceGitSync','428898IJxmgW','FLOSUM_GIT_NAMESPACE','gitCommit','FLOSUM_BRANCH','setCommitDto','map','match','getRecordTypes','defineProperty','../../../../constants','fetchBranchComponents','935975rQvqid','length'];a110_0x25aa=function(){return _0x1f2b1f;};return a110_0x25aa();}const a110_0x512695=a110_0x1bc0;(function(_0x1e9fa8,_0x5138a1){const _0x4326a3=a110_0x1bc0,_0x5c7f1a=_0x1e9fa8();while(!![]){try{const _0x8a3cf7=-parseInt(_0x4326a3(0xe9))/0x1+-parseInt(_0x4326a3(0xf9))/0x2*(parseInt(_0x4326a3(0x125))/0x3)+parseInt(_0x4326a3(0x13d))/0x4+-parseInt(_0x4326a3(0x104))/0x5+parseInt(_0x4326a3(0xf7))/0x6*(-parseInt(_0x4326a3(0x10f))/0x7)+-parseInt(_0x4326a3(0x137))/0x8+parseInt(_0x4326a3(0x108))/0x9;if(_0x8a3cf7===_0x5138a1)break;else _0x5c7f1a['push'](_0x5c7f1a['shift']());}catch(_0x37dada){_0x5c7f1a['push'](_0x5c7f1a['shift']());}}}(a110_0x25aa,0xa8dbc));const a110_0x2816cf=(function(){let _0x218340=!![];return function(_0x1023a8,_0x2216dd){const _0x19d595=_0x218340?function(){if(_0x2216dd){const _0x39a7fb=_0x2216dd['apply'](_0x1023a8,arguments);return _0x2216dd=null,_0x39a7fb;}}:function(){};return _0x218340=![],_0x19d595;};}()),a110_0x113ae8=a110_0x2816cf(this,function(){const _0x323ba2=a110_0x1bc0;return a110_0x113ae8['toString']()[_0x323ba2(0x10d)](_0x323ba2(0x11f))[_0x323ba2(0x124)]()[_0x323ba2(0x12b)](a110_0x113ae8)[_0x323ba2(0x10d)](_0x323ba2(0x11f));});a110_0x113ae8();'use strict';var __decorate=this&&this[a110_0x512695(0x130)]||function(_0x499f77,_0x2a7beb,_0x111eb7,_0x76947a){const _0x422efd=a110_0x512695;var _0xd4f617=arguments[_0x422efd(0x105)],_0x163df0=_0xd4f617<0x3?_0x2a7beb:_0x76947a===null?_0x76947a=Object[_0x422efd(0x107)](_0x2a7beb,_0x111eb7):_0x76947a,_0x1e650f;if(typeof Reflect===_0x422efd(0xeb)&&typeof Reflect[_0x422efd(0x120)]==='function')_0x163df0=Reflect['decorate'](_0x499f77,_0x2a7beb,_0x111eb7,_0x76947a);else{for(var _0x334fa9=_0x499f77[_0x422efd(0x105)]-0x1;_0x334fa9>=0x0;_0x334fa9--)if(_0x1e650f=_0x499f77[_0x334fa9])_0x163df0=(_0xd4f617<0x3?_0x1e650f(_0x163df0):_0xd4f617>0x3?_0x1e650f(_0x2a7beb,_0x111eb7,_0x163df0):_0x1e650f(_0x2a7beb,_0x111eb7))||_0x163df0;}return _0xd4f617>0x3&&_0x163df0&&Object[_0x422efd(0x101)](_0x2a7beb,_0x111eb7,_0x163df0),_0x163df0;},__metadata=this&&this[a110_0x512695(0xed)]||function(_0x48caab,_0x35fb99){const _0x1626d1=a110_0x512695;if(typeof Reflect===_0x1626d1(0xeb)&&typeof Reflect['metadata']===_0x1626d1(0x13c))return Reflect[_0x1626d1(0x126)](_0x48caab,_0x35fb99);};Object[a110_0x512695(0x101)](exports,a110_0x512695(0xf4),{'value':!![]}),exports[a110_0x512695(0x114)]=void 0x0;const constants_1=require(a110_0x512695(0x102)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x512695(0x135)),salesforce_sync_service_1=require(a110_0x512695(0x146)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),utils_1=require(a110_0x512695(0x138)),factory_parser_1=require('../../parsers/mdapi/factory.parser'),vlocity_1=require(a110_0x512695(0x10e));let GitCommitService=class GitCommitService{constructor(_0x53d901,_0x316e94,_0x1064f1,_0x4c15e7){const _0x125979=a110_0x512695;this[_0x125979(0xf8)]=_0x53d901,this['salesforceRest']=_0x316e94,this[_0x125979(0xef)]=_0x1064f1,this[_0x125979(0xe8)]=_0x4c15e7,this[_0x125979(0x144)]=0xc8;}get[a110_0x512695(0x12c)](){const _0x4b916e=a110_0x512695;var _0x12ee2a;return((_0x12ee2a=this[_0x4b916e(0xea)])===null||_0x12ee2a===void 0x0?void 0x0:_0x12ee2a[_0x4b916e(0x12c)])||'';}get[a110_0x512695(0x128)](){const _0x5e6a8b=a110_0x512695;var _0x52a70c;return((_0x52a70c=this[_0x5e6a8b(0xea)])===null||_0x52a70c===void 0x0?void 0x0:_0x52a70c[_0x5e6a8b(0x128)])||'';}async[a110_0x512695(0x119)](_0x2c41ba){const _0x1018a9=a110_0x512695;return this[_0x1018a9(0xf8)][_0x1018a9(0x119)](_0x2c41ba,this[_0x1018a9(0x12c)]);}async[a110_0x512695(0x10c)](_0x12bb6a){const _0x51f908=a110_0x512695;if(this[_0x51f908(0xea)]){const _0x14d241=await this[_0x51f908(0xef)][_0x51f908(0x13b)](this[_0x51f908(0xea)]),_0x2abfb9=await this[_0x51f908(0xe8)][_0x51f908(0x11b)](_0x14d241)[_0x51f908(0xec)](_0x55edc6=>typeof _0x55edc6==='string'?JSON[_0x51f908(0x11a)](_0x55edc6):_0x55edc6)[_0x51f908(0x129)](()=>({}));if(_0x2abfb9[this['gitCommit'][_0x51f908(0xf0)]]){if(_0x2abfb9[this[_0x51f908(0xfb)][_0x51f908(0xf0)]][_0x51f908(0x123)]===_0x12bb6a)return!![];}return![];}return![];}async['updateRemoteState'](_0x513b92){const _0x511cc0=a110_0x512695;this[_0x511cc0(0xea)]&&await this['salesforceSync'][_0x511cc0(0x121)](this[_0x511cc0(0xea)],_0x513b92);}[a110_0x512695(0x111)](){const _0x1ed800=a110_0x512695;return this[_0x1ed800(0x132)][_0x1ed800(0xfe)](({fileName:_0x494582})=>_0x494582);}async[a110_0x512695(0x12d)](_0x26e928,_0xa80d13,_0x2a3423){const _0x1d8dea=a110_0x512695,_0x2a0711=new RegExp('^'+_0x26e928+_0x1d8dea(0x11c));let _0x163d29=[_0x26e928];_0x2a3423&&!(0x0,vlocity_1[_0x1d8dea(0x13e)])(_0x26e928)&&(_0x163d29=(0x0,utils_1[_0x1d8dea(0x115)])(await(0x0,utils_1[_0x1d8dea(0x141)])(_0x26e928,_0xa80d13)[_0x1d8dea(0x129)](()=>[])));const _0xc489ab=_0x2a3423?this[_0x1d8dea(0x132)]['filter'](_0x388781=>_0x388781[_0x1d8dea(0x12e)][_0x1d8dea(0xff)](_0x2a0711)):this[_0x1d8dea(0x132)][_0x1d8dea(0x13a)](_0x388ef8=>_0x388ef8['fileName']===_0x26e928||_0x388ef8[_0x1d8dea(0x12e)]===_0x26e928[_0x1d8dea(0x139)](constants_1[_0x1d8dea(0x136)],'')),_0x41e90c=factory_parser_1['FactoryParser'][_0x1d8dea(0x11d)](_0xa80d13,_0x163d29),_0x20505d=await _0x41e90c[_0x1d8dea(0x11a)](),_0x4cd9ed=[],_0x474ba8=[];for(const _0x5f1bde of _0x20505d){const _0x1e1e08=_0xc489ab['find'](_0x54941a=>_0x54941a[_0x1d8dea(0x11e)]===_0x5f1bde['name']&&_0x54941a[_0x1d8dea(0x134)]===_0x5f1bde['type']);if(!_0x1e1e08){_0x4cd9ed[_0x1d8dea(0x117)](_0x5f1bde);continue;}_0x5f1bde['crc']!==_0x1e1e08[_0x1d8dea(0x112)]&&_0x474ba8[_0x1d8dea(0x117)]({'meta':_0x1e1e08,'component':_0x5f1bde}),_0xc489ab[_0x1d8dea(0x127)](_0xc489ab[_0x1d8dea(0x106)](_0x1e1e08),0x1);}return{'inserted':_0x4cd9ed,'modified':_0x474ba8,'removed':_0xc489ab};}async['fetchRepositoryOrBranchData'](){const _0x33f80a=a110_0x512695;this[_0x33f80a(0xea)]=this[_0x33f80a(0xfb)][_0x33f80a(0x12a)]===_0x33f80a(0xf6)?await this[_0x33f80a(0xef)][_0x33f80a(0x122)](this[_0x33f80a(0xfb)]['repository']):await this['salesforceSync'][_0x33f80a(0xf2)](this[_0x33f80a(0xfb)]['branch']),this[_0x33f80a(0x142)]=await this[_0x33f80a(0xf8)][_0x33f80a(0x10b)]();}async[a110_0x512695(0x118)](_0x2ef23a){const _0x317642=a110_0x512695;if(this[_0x317642(0xfb)][_0x317642(0x109)]||_0x2ef23a){this[_0x317642(0x132)]=this[_0x317642(0x128)]?await this[_0x317642(0xf8)][_0x317642(0x103)](this[_0x317642(0x128)]):await this[_0x317642(0xf8)][_0x317642(0xf5)](this[_0x317642(0x12c)]);return;}const _0x4fc59f=[...new Set(this[_0x317642(0xfb)][_0x317642(0x12f)][_0x317642(0xfe)](_0x53d5c3=>_0x53d5c3[_0x317642(0x139)](constants_1[_0x317642(0x136)],'')))];this['componentsMetadata']=[];while(_0x4fc59f[_0x317642(0x105)]){const _0x3e4671=_0x4fc59f[_0x317642(0x127)](0x0,this[_0x317642(0x144)]),_0xd6e57b=this[_0x317642(0x128)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0x3e4671,this['branchId']):await this[_0x317642(0xf8)][_0x317642(0x113)](_0x3e4671,this[_0x317642(0x12c)]);this[_0x317642(0x132)]['push'](..._0xd6e57b);}}async['updateStatus'](_0x37742d){const _0x4c2503=a110_0x512695;this[_0x4c2503(0x128)]?await this['salesforceRest'][_0x4c2503(0x13f)](constants_1[_0x4c2503(0xfc)],this['branchId'],{[constants_1[_0x4c2503(0xfa)]+'Synchronization_Status__c']:_0x37742d,[constants_1['FLOSUM_NAMESPACE']+_0x4c2503(0x10a)]:Date[_0x4c2503(0xf3)]()}):await this[_0x4c2503(0x145)][_0x4c2503(0x13f)](constants_1[_0x4c2503(0xf1)],this[_0x4c2503(0x12c)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x4c2503(0x140)]:_0x37742d});}[a110_0x512695(0xfd)](_0x2bf8b2){const _0x446a69=a110_0x512695;this[_0x446a69(0xfb)]=_0x2bf8b2;}[a110_0x512695(0x100)](){return this['recordTypes'];}[a110_0x512695(0x116)](){return this['repositoryId'];}[a110_0x512695(0xee)](){const _0x48d1df=a110_0x512695;return this[_0x48d1df(0x128)];}};function a110_0x1bc0(_0x29b9df,_0x3a00cc){const _0x213da6=a110_0x25aa();return a110_0x1bc0=function(_0x113ae8,_0x2816cf){_0x113ae8=_0x113ae8-0xe8;let _0x25aae8=_0x213da6[_0x113ae8];return _0x25aae8;},a110_0x1bc0(_0x29b9df,_0x3a00cc);}GitCommitService=__decorate([(0x0,typedi_1[a110_0x512695(0x133)])({'transient':!![]}),__metadata(a110_0x512695(0x143),[salesforce_git_sync_service_1[a110_0x512695(0x110)],salesforce_rest_service_1[a110_0x512695(0x131)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1['SalesforceService']])],GitCommitService),exports['GitCommitService']=GitCommitService;