const a110_0x119f1e=a110_0x135e;(function(_0x36830d,_0x48e96d){const _0x3bbb2e=a110_0x135e,_0x1f41bb=_0x36830d();while(!![]){try{const _0x29501f=parseInt(_0x3bbb2e(0x1b1))/0x1*(parseInt(_0x3bbb2e(0x1b5))/0x2)+-parseInt(_0x3bbb2e(0x1cf))/0x3*(parseInt(_0x3bbb2e(0x187))/0x4)+-parseInt(_0x3bbb2e(0x1af))/0x5*(-parseInt(_0x3bbb2e(0x196))/0x6)+-parseInt(_0x3bbb2e(0x188))/0x7+parseInt(_0x3bbb2e(0x1cc))/0x8*(parseInt(_0x3bbb2e(0x1c8))/0x9)+-parseInt(_0x3bbb2e(0x19e))/0xa+parseInt(_0x3bbb2e(0x1a4))/0xb;if(_0x29501f===_0x48e96d)break;else _0x1f41bb['push'](_0x1f41bb['shift']());}catch(_0x35c2b7){_0x1f41bb['push'](_0x1f41bb['shift']());}}}(a110_0x5cb9,0x55536));const a110_0x421bbf=(function(){let _0x590f07=!![];return function(_0x32db23,_0x20c157){const _0x39bfe0=_0x590f07?function(){const _0x30828e=a110_0x135e;if(_0x20c157){const _0x1e56fd=_0x20c157[_0x30828e(0x19f)](_0x32db23,arguments);return _0x20c157=null,_0x1e56fd;}}:function(){};return _0x590f07=![],_0x39bfe0;};}()),a110_0x453dec=a110_0x421bbf(this,function(){const _0x3f127d=a110_0x135e;return a110_0x453dec['toString']()[_0x3f127d(0x189)](_0x3f127d(0x199))[_0x3f127d(0x1ae)]()[_0x3f127d(0x1da)](a110_0x453dec)[_0x3f127d(0x189)](_0x3f127d(0x199));});function a110_0x135e(_0x105294,_0x3c9176){const _0x1dac1c=a110_0x5cb9();return a110_0x135e=function(_0x453dec,_0x421bbf){_0x453dec=_0x453dec-0x17c;let _0x5cb9c4=_0x1dac1c[_0x453dec];return _0x5cb9c4;},a110_0x135e(_0x105294,_0x3c9176);}a110_0x453dec();function a110_0x5cb9(){const _0x625f1d=['getBranchRecordByName','../../parsers/utils/vlocity','length','708dLthqq','FLOSUM_NAMESPACE','updateRemoteState','(((.+)+)+)+$','filterParserPaths','gitCommit','([./-]{1}|$)','fetchBranchComponentsByFilenames','4770150pzqhvm','apply','type','metadata','decorate','__esModule','7072439ZppJEb','SalesforceSyncService','fetchBranchComponents','indexOf','recordTypes','Service','object','master','getRemoteStateAttachmentId','../../salesforce/services/salesforce-git-sync.service','toString','12465YuWrTI','function','838esOnaD','isVlocityComponent','componentsMetadata','branchId','170vFSpoL','SalesforceGitSyncService','match','getRepositoryRecordByName','retrieveAttachment','fetchComponentsMetadata','fetchRepositoryOrBranchData','defineProperty','name','SalesforceService','filter','catch','design:paramtypes','../../salesforce/services/salesforce.service','FactoryParser','FLOSUM_GIT_NAMESPACE','SalesforceRestService','FLOSUM_REPOSITORY','branch','26955sqHYBA','replace','lastCommit','Synchronization_Status__c','1760SNmOuy','createCommit','FLOSUM_BRANCH','2586RMpzAH','META_XML_EXTENSION','getBranchId','map','now','getComponentRecordTypes','../../../../constants','fetchRepositoryComponentsByFilenames','repositoryGit','splice','syncRecord','constructor','fetchRepositoryComponents','getRecordTypes','salesforceSync','__decorate','TASKS_PER_TICK','getOwnPropertyDescriptor','patch','GitCommitService','parse','repositoryId','fileName','2388rXkKcE','2282910XWXpoG','search','getUnusedComponentsFilePaths','../../salesforce/services/salesforce-rest.service','getRepositoryId','salesforceGitSync','push','repository','../../salesforce/services/salesforce-sync.service','salesforce','salesforceRest'];a110_0x5cb9=function(){return _0x625f1d;};return a110_0x5cb9();}'use strict';var __decorate=this&&this[a110_0x119f1e(0x17f)]||function(_0x245f20,_0x42ea89,_0x2d25d7,_0x4b9e19){const _0x54a369=a110_0x119f1e;var _0x3ffe6a=arguments[_0x54a369(0x195)],_0x246e23=_0x3ffe6a<0x3?_0x42ea89:_0x4b9e19===null?_0x4b9e19=Object[_0x54a369(0x181)](_0x42ea89,_0x2d25d7):_0x4b9e19,_0x1e4688;if(typeof Reflect===_0x54a369(0x1aa)&&typeof Reflect[_0x54a369(0x1a2)]===_0x54a369(0x1b0))_0x246e23=Reflect[_0x54a369(0x1a2)](_0x245f20,_0x42ea89,_0x2d25d7,_0x4b9e19);else{for(var _0x25845b=_0x245f20[_0x54a369(0x195)]-0x1;_0x25845b>=0x0;_0x25845b--)if(_0x1e4688=_0x245f20[_0x25845b])_0x246e23=(_0x3ffe6a<0x3?_0x1e4688(_0x246e23):_0x3ffe6a>0x3?_0x1e4688(_0x42ea89,_0x2d25d7,_0x246e23):_0x1e4688(_0x42ea89,_0x2d25d7))||_0x246e23;}return _0x3ffe6a>0x3&&_0x246e23&&Object[_0x54a369(0x1bc)](_0x42ea89,_0x2d25d7,_0x246e23),_0x246e23;},__metadata=this&&this['__metadata']||function(_0x5d63ad,_0x25332c){const _0x1a4453=a110_0x119f1e;if(typeof Reflect==='object'&&typeof Reflect[_0x1a4453(0x1a1)]==='function')return Reflect[_0x1a4453(0x1a1)](_0x5d63ad,_0x25332c);};Object[a110_0x119f1e(0x1bc)](exports,a110_0x119f1e(0x1a3),{'value':!![]}),exports[a110_0x119f1e(0x183)]=void 0x0;const constants_1=require(a110_0x119f1e(0x1d5)),salesforce_git_sync_service_1=require(a110_0x119f1e(0x1ad)),salesforce_rest_service_1=require(a110_0x119f1e(0x18b)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a110_0x119f1e(0x190)),salesforce_service_1=require(a110_0x119f1e(0x1c2)),utils_1=require('../../parsers/utils'),factory_parser_1=require('../../parsers/mdapi/factory.parser'),vlocity_1=require(a110_0x119f1e(0x194));let GitCommitService=class GitCommitService{constructor(_0x56d60a,_0x3b6ff8,_0xb94aac,_0x430341){const _0x4fed4f=a110_0x119f1e;this[_0x4fed4f(0x18d)]=_0x56d60a,this[_0x4fed4f(0x192)]=_0x3b6ff8,this['salesforceSync']=_0xb94aac,this[_0x4fed4f(0x191)]=_0x430341,this[_0x4fed4f(0x180)]=0xc8;}get['repositoryId'](){const _0xc48461=a110_0x119f1e;var _0x3be369;return((_0x3be369=this[_0xc48461(0x1d9)])===null||_0x3be369===void 0x0?void 0x0:_0x3be369[_0xc48461(0x185)])||'';}get[a110_0x119f1e(0x1b4)](){const _0x7ee9d8=a110_0x119f1e;var _0x45d17a;return((_0x45d17a=this['syncRecord'])===null||_0x45d17a===void 0x0?void 0x0:_0x45d17a[_0x7ee9d8(0x1b4)])||'';}async[a110_0x119f1e(0x1cd)](_0x190204){const _0x4e85e1=a110_0x119f1e;return this[_0x4e85e1(0x18d)][_0x4e85e1(0x1cd)](_0x190204,this['repositoryId']);}async['checkSyncStatus'](_0x5ae3bf){const _0x518260=a110_0x119f1e;if(this[_0x518260(0x1d9)]){const _0x36292c=await this['salesforceSync'][_0x518260(0x1ac)](this[_0x518260(0x1d9)]),_0x566d91=await this[_0x518260(0x191)][_0x518260(0x1b9)](_0x36292c)['then'](_0x3447b7=>typeof _0x3447b7==='string'?JSON['parse'](_0x3447b7):_0x3447b7)[_0x518260(0x1c0)](()=>({}));if(_0x566d91[this[_0x518260(0x19b)]['repositoryGit']]){if(_0x566d91[this['gitCommit'][_0x518260(0x1d7)]][_0x518260(0x1ca)]===_0x5ae3bf)return!![];}return![];}return![];}async[a110_0x119f1e(0x198)](_0x59c29d){const _0x49532e=a110_0x119f1e;this[_0x49532e(0x1d9)]&&await this[_0x49532e(0x17e)][_0x49532e(0x198)](this[_0x49532e(0x1d9)],_0x59c29d);}[a110_0x119f1e(0x18a)](){const _0x1e548b=a110_0x119f1e;return this['componentsMetadata'][_0x1e548b(0x1d2)](({fileName:_0x88f413})=>_0x88f413);}async['proceedFile'](_0x4a2e05,_0x5addf0,_0x22f39f){const _0xd6a898=a110_0x119f1e,_0x3b4160=new RegExp('^'+_0x4a2e05+_0xd6a898(0x19c));let _0x50a600=[_0x4a2e05];_0x22f39f&&!(0x0,vlocity_1[_0xd6a898(0x1b2)])(_0x4a2e05)&&(_0x50a600=(0x0,utils_1[_0xd6a898(0x19a)])(await(0x0,utils_1['readFilesByFilename'])(_0x4a2e05,_0x5addf0)['catch'](()=>[])));const _0x4bb73d=_0x22f39f?this[_0xd6a898(0x1b3)][_0xd6a898(0x1bf)](_0x9a9a09=>_0x9a9a09['fileName'][_0xd6a898(0x1b7)](_0x3b4160)):this[_0xd6a898(0x1b3)][_0xd6a898(0x1bf)](_0x31d696=>_0x31d696[_0xd6a898(0x186)]===_0x4a2e05||_0x31d696[_0xd6a898(0x186)]===_0x4a2e05[_0xd6a898(0x1c9)](constants_1[_0xd6a898(0x1d0)],'')),_0x42393c=factory_parser_1[_0xd6a898(0x1c3)]['create'](_0x5addf0,_0x50a600),_0x102555=await _0x42393c[_0xd6a898(0x184)](),_0x258c1d=[],_0x3e32e4=[];for(const _0x3a924d of _0x102555){const _0x5723bd=_0x4bb73d['find'](_0x443577=>_0x443577['name']===_0x3a924d[_0xd6a898(0x1bd)]&&_0x443577[_0xd6a898(0x1a0)]===_0x3a924d[_0xd6a898(0x1a0)]);if(!_0x5723bd){_0x258c1d[_0xd6a898(0x18e)](_0x3a924d);continue;}_0x3a924d['crc']!==_0x5723bd['crc32']&&_0x3e32e4[_0xd6a898(0x18e)]({'meta':_0x5723bd,'component':_0x3a924d}),_0x4bb73d['splice'](_0x4bb73d[_0xd6a898(0x1a7)](_0x5723bd),0x1);}return{'inserted':_0x258c1d,'modified':_0x3e32e4,'removed':_0x4bb73d};}async[a110_0x119f1e(0x1bb)](){const _0x48ad80=a110_0x119f1e;this[_0x48ad80(0x1d9)]=this[_0x48ad80(0x19b)][_0x48ad80(0x1c7)]===_0x48ad80(0x1ab)?await this[_0x48ad80(0x17e)][_0x48ad80(0x1b8)](this['gitCommit'][_0x48ad80(0x18f)]):await this['salesforceSync'][_0x48ad80(0x193)](this['gitCommit'][_0x48ad80(0x1c7)]),this[_0x48ad80(0x1a8)]=await this[_0x48ad80(0x18d)][_0x48ad80(0x1d4)]();}async[a110_0x119f1e(0x1ba)](_0x54f546){const _0x2fc342=a110_0x119f1e;if(this[_0x2fc342(0x19b)]['force']||_0x54f546){this[_0x2fc342(0x1b3)]=this[_0x2fc342(0x1b4)]?await this[_0x2fc342(0x18d)][_0x2fc342(0x1a6)](this[_0x2fc342(0x1b4)]):await this[_0x2fc342(0x18d)][_0x2fc342(0x17c)](this['repositoryId']);return;}const _0x7faf24=[...new Set(this[_0x2fc342(0x19b)]['fileNames'][_0x2fc342(0x1d2)](_0x1cd69f=>_0x1cd69f['replace'](constants_1[_0x2fc342(0x1d0)],'')))];this[_0x2fc342(0x1b3)]=[];while(_0x7faf24[_0x2fc342(0x195)]){const _0x3bc7db=_0x7faf24[_0x2fc342(0x1d8)](0x0,this[_0x2fc342(0x180)]),_0x528efa=this[_0x2fc342(0x1b4)]?await this[_0x2fc342(0x18d)][_0x2fc342(0x19d)](_0x3bc7db,this[_0x2fc342(0x1b4)]):await this['salesforceGitSync'][_0x2fc342(0x1d6)](_0x3bc7db,this['repositoryId']);this[_0x2fc342(0x1b3)]['push'](..._0x528efa);}}async['updateStatus'](_0x266311){const _0x1eaf00=a110_0x119f1e;this['branchId']?await this[_0x1eaf00(0x192)][_0x1eaf00(0x182)](constants_1[_0x1eaf00(0x1ce)],this['branchId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x1eaf00(0x1cb)]:_0x266311,[constants_1[_0x1eaf00(0x197)]+'Last_Updated_On__c']:Date[_0x1eaf00(0x1d3)]()}):await this[_0x1eaf00(0x192)][_0x1eaf00(0x182)](constants_1[_0x1eaf00(0x1c6)],this[_0x1eaf00(0x185)],{[constants_1[_0x1eaf00(0x1c4)]+_0x1eaf00(0x1cb)]:_0x266311});}['setCommitDto'](_0xa18473){this['gitCommit']=_0xa18473;}[a110_0x119f1e(0x17d)](){const _0x43fd38=a110_0x119f1e;return this[_0x43fd38(0x1a8)];}[a110_0x119f1e(0x18c)](){return this['repositoryId'];}[a110_0x119f1e(0x1d1)](){const _0x4f599e=a110_0x119f1e;return this[_0x4f599e(0x1b4)];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x119f1e(0x1a9)])({'transient':!![]}),__metadata(a110_0x119f1e(0x1c1),[salesforce_git_sync_service_1[a110_0x119f1e(0x1b6)],salesforce_rest_service_1[a110_0x119f1e(0x1c5)],salesforce_sync_service_1[a110_0x119f1e(0x1a5)],salesforce_service_1[a110_0x119f1e(0x1be)]])],GitCommitService),exports[a110_0x119f1e(0x183)]=GitCommitService;