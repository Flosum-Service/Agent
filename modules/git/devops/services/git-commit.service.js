const a109_0x482db5=a109_0x1829;(function(_0x3c8b79,_0x295e37){const _0x2382e3=a109_0x1829,_0xd79150=_0x3c8b79();while(!![]){try{const _0x3d0511=parseInt(_0x2382e3(0x186))/0x1*(-parseInt(_0x2382e3(0x187))/0x2)+-parseInt(_0x2382e3(0x157))/0x3*(parseInt(_0x2382e3(0x191))/0x4)+-parseInt(_0x2382e3(0x18e))/0x5+parseInt(_0x2382e3(0x155))/0x6*(-parseInt(_0x2382e3(0x173))/0x7)+parseInt(_0x2382e3(0x150))/0x8+-parseInt(_0x2382e3(0x172))/0x9+-parseInt(_0x2382e3(0x14b))/0xa*(-parseInt(_0x2382e3(0x18c))/0xb);if(_0x3d0511===_0x295e37)break;else _0xd79150['push'](_0xd79150['shift']());}catch(_0x42fcfd){_0xd79150['push'](_0xd79150['shift']());}}}(a109_0x4a7a,0x60642));const a109_0x531c5a=(function(){let _0x17755d=!![];return function(_0x337ac7,_0x353560){const _0x112ec0=_0x17755d?function(){const _0x2ef81e=a109_0x1829;if(_0x353560){const _0x13c090=_0x353560[_0x2ef81e(0x16c)](_0x337ac7,arguments);return _0x353560=null,_0x13c090;}}:function(){};return _0x17755d=![],_0x112ec0;};}()),a109_0x393e26=a109_0x531c5a(this,function(){const _0x259246=a109_0x1829;return a109_0x393e26[_0x259246(0x193)]()[_0x259246(0x170)](_0x259246(0x14c))[_0x259246(0x193)]()[_0x259246(0x199)](a109_0x393e26)[_0x259246(0x170)](_0x259246(0x14c));});a109_0x393e26();'use strict';var __decorate=this&&this[a109_0x482db5(0x145)]||function(_0x2672d2,_0x36e1be,_0x227219,_0x2e90cb){const _0x53f905=a109_0x482db5;var _0x364492=arguments[_0x53f905(0x178)],_0xc74322=_0x364492<0x3?_0x36e1be:_0x2e90cb===null?_0x2e90cb=Object[_0x53f905(0x15a)](_0x36e1be,_0x227219):_0x2e90cb,_0x4acf46;if(typeof Reflect===_0x53f905(0x185)&&typeof Reflect['decorate']===_0x53f905(0x152))_0xc74322=Reflect['decorate'](_0x2672d2,_0x36e1be,_0x227219,_0x2e90cb);else{for(var _0x58df66=_0x2672d2['length']-0x1;_0x58df66>=0x0;_0x58df66--)if(_0x4acf46=_0x2672d2[_0x58df66])_0xc74322=(_0x364492<0x3?_0x4acf46(_0xc74322):_0x364492>0x3?_0x4acf46(_0x36e1be,_0x227219,_0xc74322):_0x4acf46(_0x36e1be,_0x227219))||_0xc74322;}return _0x364492>0x3&&_0xc74322&&Object[_0x53f905(0x18b)](_0x36e1be,_0x227219,_0xc74322),_0xc74322;},__metadata=this&&this[a109_0x482db5(0x14f)]||function(_0x3ef3af,_0x3860d4){const _0x1cd460=a109_0x482db5;if(typeof Reflect===_0x1cd460(0x185)&&typeof Reflect[_0x1cd460(0x196)]===_0x1cd460(0x152))return Reflect[_0x1cd460(0x196)](_0x3ef3af,_0x3860d4);};function a109_0x1829(_0x5ce147,_0x2cd2b9){const _0x55424f=a109_0x4a7a();return a109_0x1829=function(_0x393e26,_0x531c5a){_0x393e26=_0x393e26-0x143;let _0x4a7a22=_0x55424f[_0x393e26];return _0x4a7a22;},a109_0x1829(_0x5ce147,_0x2cd2b9);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a109_0x482db5(0x197)]=void 0x0;const constants_1=require(a109_0x482db5(0x18f)),salesforce_git_sync_service_1=require(a109_0x482db5(0x16f)),salesforce_rest_service_1=require(a109_0x482db5(0x156)),typedi_1=require(a109_0x482db5(0x16d)),salesforce_sync_service_1=require(a109_0x482db5(0x161)),salesforce_service_1=require(a109_0x482db5(0x146)),parser_v2_1=require(a109_0x482db5(0x15c)),utils_1=require('../../parsers/utils');let GitCommitService=class GitCommitService{constructor(_0x225952,_0x3980bb,_0x55b60a,_0xa1119f){const _0x5e15f6=a109_0x482db5;this[_0x5e15f6(0x17d)]=_0x225952,this['salesforceRest']=_0x3980bb,this[_0x5e15f6(0x17a)]=_0x55b60a,this['salesforce']=_0xa1119f,this[_0x5e15f6(0x16b)]=0xc8;}get[a109_0x482db5(0x18a)](){const _0x27478c=a109_0x482db5;var _0x372cf7;return((_0x372cf7=this[_0x27478c(0x158)])===null||_0x372cf7===void 0x0?void 0x0:_0x372cf7[_0x27478c(0x18a)])||'';}get['branchId'](){const _0x589007=a109_0x482db5;var _0x47c656;return((_0x47c656=this[_0x589007(0x158)])===null||_0x47c656===void 0x0?void 0x0:_0x47c656[_0x589007(0x180)])||'';}async[a109_0x482db5(0x163)](_0x4e97f1){const _0x2403be=a109_0x482db5;return this[_0x2403be(0x17d)][_0x2403be(0x163)](_0x4e97f1,this[_0x2403be(0x18a)]);}async[a109_0x482db5(0x14a)](_0x5d8701){const _0x1ef60b=a109_0x482db5;if(this[_0x1ef60b(0x158)]){const _0x3674ca=await this['salesforceSync'][_0x1ef60b(0x19c)](this['syncRecord']),_0x1cfda9=await this[_0x1ef60b(0x17e)]['retrieveAttachment'](_0x3674ca)[_0x1ef60b(0x19a)](_0x32694b=>typeof _0x32694b===_0x1ef60b(0x18d)?JSON[_0x1ef60b(0x188)](_0x32694b):_0x32694b)[_0x1ef60b(0x151)](()=>({}));if(_0x1cfda9[this[_0x1ef60b(0x184)]['repositoryGit']]){if(_0x1cfda9[this[_0x1ef60b(0x184)]['repositoryGit']][_0x1ef60b(0x169)]===_0x5d8701)return!![];}return![];}return![];}async['updateRemoteState'](_0x1aadf6){const _0x23916d=a109_0x482db5;this[_0x23916d(0x158)]&&await this[_0x23916d(0x17a)][_0x23916d(0x19b)](this[_0x23916d(0x158)],_0x1aadf6);}[a109_0x482db5(0x171)](){const _0x4201b3=a109_0x482db5;return this['componentsMetadata'][_0x4201b3(0x182)](({fileName:_0x56058e})=>_0x56058e);}async[a109_0x482db5(0x14e)](_0x48f27b,_0x10c9a2,_0x55b7f6){const _0x4131ef=a109_0x482db5,_0x438a58=new RegExp('^'+_0x48f27b+_0x4131ef(0x143));let _0x5a5a08=[_0x48f27b];_0x55b7f6&&(_0x5a5a08=(0x0,utils_1[_0x4131ef(0x16e)])(await(0x0,utils_1[_0x4131ef(0x17c)])(_0x48f27b,_0x10c9a2)[_0x4131ef(0x151)](()=>[])));const _0x2eaa2b=_0x55b7f6?this[_0x4131ef(0x177)][_0x4131ef(0x15e)](_0x509af7=>_0x509af7[_0x4131ef(0x175)][_0x4131ef(0x162)](_0x438a58)):this[_0x4131ef(0x177)][_0x4131ef(0x15e)](_0x57f4ff=>_0x57f4ff[_0x4131ef(0x175)]===_0x48f27b||_0x57f4ff[_0x4131ef(0x175)]===_0x48f27b[_0x4131ef(0x194)](constants_1[_0x4131ef(0x19e)],'')),_0x25cc1e=new parser_v2_1[(_0x4131ef(0x166))](_0x10c9a2,_0x5a5a08),_0x1e3d4d=await _0x25cc1e[_0x4131ef(0x188)](),_0x545549=[],_0x209362=[];for(const _0x34fec8 of _0x1e3d4d){const _0x13cffd=_0x2eaa2b[_0x4131ef(0x17f)](_0x1316e0=>_0x1316e0[_0x4131ef(0x167)]===_0x34fec8[_0x4131ef(0x167)]&&_0x1316e0[_0x4131ef(0x147)]===_0x34fec8[_0x4131ef(0x147)]);if(!_0x13cffd){_0x545549[_0x4131ef(0x164)](_0x34fec8);continue;}_0x34fec8['crc']!==_0x13cffd[_0x4131ef(0x15f)]&&_0x209362[_0x4131ef(0x164)]({'meta':_0x13cffd,'component':_0x34fec8}),_0x2eaa2b['splice'](_0x2eaa2b[_0x4131ef(0x159)](_0x13cffd),0x1);}return{'inserted':_0x545549,'modified':_0x209362,'removed':_0x2eaa2b};}async['fetchRepositoryOrBranchData'](){const _0x2102c6=a109_0x482db5;this[_0x2102c6(0x158)]=this[_0x2102c6(0x184)][_0x2102c6(0x176)]==='master'?await this[_0x2102c6(0x17a)]['getRepositoryRecordByName'](this['gitCommit']['repository']):await this['salesforceSync'][_0x2102c6(0x148)](this[_0x2102c6(0x184)][_0x2102c6(0x176)]),this[_0x2102c6(0x192)]=await this[_0x2102c6(0x17d)]['getComponentRecordTypes']();}async[a109_0x482db5(0x160)](_0x43b2c6){const _0x50e56a=a109_0x482db5;if(this[_0x50e56a(0x184)][_0x50e56a(0x195)]||_0x43b2c6){this[_0x50e56a(0x177)]=this[_0x50e56a(0x180)]?await this['salesforceGitSync'][_0x50e56a(0x16a)](this[_0x50e56a(0x180)]):await this['salesforceGitSync'][_0x50e56a(0x15b)](this[_0x50e56a(0x18a)]);return;}const _0x4200d3=[...new Set(this[_0x50e56a(0x184)][_0x50e56a(0x19d)][_0x50e56a(0x182)](_0xec8c11=>_0xec8c11[_0x50e56a(0x194)](constants_1[_0x50e56a(0x19e)],'')))];this['componentsMetadata']=[];while(_0x4200d3[_0x50e56a(0x178)]){const _0xa8a81f=_0x4200d3[_0x50e56a(0x198)](0x0,this[_0x50e56a(0x16b)]),_0x274523=this[_0x50e56a(0x180)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0xa8a81f,this[_0x50e56a(0x180)]):await this[_0x50e56a(0x17d)][_0x50e56a(0x174)](_0xa8a81f,this[_0x50e56a(0x18a)]);this[_0x50e56a(0x177)]['push'](..._0x274523);}}async[a109_0x482db5(0x154)](_0x27f4e9){const _0x5bf9c3=a109_0x482db5;this[_0x5bf9c3(0x180)]?await this[_0x5bf9c3(0x181)]['patch'](constants_1['FLOSUM_BRANCH'],this[_0x5bf9c3(0x180)],{[constants_1[_0x5bf9c3(0x14d)]+'Synchronization_Status__c']:_0x27f4e9,[constants_1['FLOSUM_NAMESPACE']+_0x5bf9c3(0x183)]:Date[_0x5bf9c3(0x190)]()}):await this['salesforceRest'][_0x5bf9c3(0x144)](constants_1[_0x5bf9c3(0x19f)],this['repositoryId'],{[constants_1[_0x5bf9c3(0x14d)]+'Synchronization_Status__c']:_0x27f4e9});}[a109_0x482db5(0x189)](_0x5f1c4f){const _0x274ace=a109_0x482db5;this[_0x274ace(0x184)]=_0x5f1c4f;}[a109_0x482db5(0x165)](){const _0x5b0d1e=a109_0x482db5;return this[_0x5b0d1e(0x192)];}[a109_0x482db5(0x15d)](){const _0x4fd6dc=a109_0x482db5;return this[_0x4fd6dc(0x18a)];}[a109_0x482db5(0x17b)](){const _0x4d19d4=a109_0x482db5;return this[_0x4d19d4(0x180)];}};GitCommitService=__decorate([(0x0,typedi_1[a109_0x482db5(0x168)])({'transient':!![]}),__metadata(a109_0x482db5(0x149),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a109_0x482db5(0x179)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a109_0x482db5(0x153)]])],GitCommitService),exports[a109_0x482db5(0x197)]=GitCommitService;function a109_0x4a7a(){const _0x1fb149=['__metadata','2842480onADxt','catch','function','SalesforceService','updateStatus','3946962jUlxNR','../../salesforce/services/salesforce-rest.service','9LRlbrF','syncRecord','indexOf','getOwnPropertyDescriptor','fetchRepositoryComponents','../../parsers/mdapi/parser-v2','getRepositoryId','filter','crc32','fetchComponentsMetadata','../../salesforce/services/salesforce-sync.service','match','createCommit','push','getRecordTypes','MDApiParserV2','name','Service','lastCommit','fetchBranchComponents','TASKS_PER_TICK','apply','typedi','filterParserPaths','../../salesforce/services/salesforce-git-sync.service','search','getUnusedComponentsFilePaths','3252492UMJACW','7yUftAF','fetchRepositoryComponentsByFilenames','fileName','branch','componentsMetadata','length','SalesforceRestService','salesforceSync','getBranchId','readFilesByFilename','salesforceGitSync','salesforce','find','branchId','salesforceRest','map','Last_Updated_On__c','gitCommit','object','9IhVNPk','129182IQbzPN','parse','setCommitDto','repositoryId','defineProperty','11etTZAI','string','1501875JZdBOO','../../../../constants','now','757756QErjJE','recordTypes','toString','replace','force','metadata','GitCommitService','splice','constructor','then','updateRemoteState','getRemoteStateAttachmentId','fileNames','META_XML_EXTENSION','FLOSUM_REPOSITORY','([./-]{1}|$)','patch','__decorate','../../salesforce/services/salesforce.service','type','getBranchRecordByName','design:paramtypes','checkSyncStatus','25087340IEVtrk','(((.+)+)+)+$','FLOSUM_GIT_NAMESPACE','proceedFile'];a109_0x4a7a=function(){return _0x1fb149;};return a109_0x4a7a();}