function a109_0x4274(){const _0x7bde79=['salesforceRest','createCommit','branch','apply','checkSyncStatus','filterParserPaths','45vzdJpw','../../salesforce/services/salesforce-git-sync.service','1777336oOxpNi','720463onleUs','retrieveAttachment','now','fetchRepositoryComponents','repositoryId','fetchComponentsMetadata','object','7340382XKVMYG','metadata','__decorate','syncRecord','SalesforceRestService','recordTypes','Service','Last_Updated_On__c','parse','fetchRepositoryOrBranchData','componentsMetadata','MDApiParserV2','FLOSUM_BRANCH','(((.+)+)+)+$','../../salesforce/services/salesforce-sync.service','repositoryGit','push','repository','getUnusedComponentsFilePaths','splice','patch','../../parsers/utils','filter','FLOSUM_NAMESPACE','search','GitCommitService','function','2163PQuRIi','Synchronization_Status__c','string','getBranchId','TASKS_PER_TICK','getRecordTypes','2656690BGRvPH','updateRemoteState','proceedFile','length','__esModule','catch','1040XycyPK','type','indexOf','__metadata','FLOSUM_GIT_NAMESPACE','getOwnPropertyDescriptor','getRemoteStateAttachmentId','replace','getComponentRecordTypes','fileName','SalesforceService','typedi','1380352Hjndcc','constructor','fetchBranchComponents','salesforceSync','setCommitDto','gitCommit','branchId','then','defineProperty','FLOSUM_REPOSITORY','decorate','getBranchRecordByName','../../salesforce/services/salesforce-rest.service','2981721ADxtiL','5JRTfJy','SalesforceSyncService','fetchBranchComponentsByFilenames','design:paramtypes','([./-]{1}|$)','getRepositoryId','toString','fetchRepositoryComponentsByFilenames','name','META_XML_EXTENSION','map','salesforceGitSync'];a109_0x4274=function(){return _0x7bde79;};return a109_0x4274();}const a109_0x293c54=a109_0x49c7;function a109_0x49c7(_0xea28b6,_0x28d9b0){const _0x43be2d=a109_0x4274();return a109_0x49c7=function(_0x1517f9,_0x549fa9){_0x1517f9=_0x1517f9-0x117;let _0x4274d4=_0x43be2d[_0x1517f9];return _0x4274d4;},a109_0x49c7(_0xea28b6,_0x28d9b0);}(function(_0xf5ced7,_0x42f709){const _0x212d50=a109_0x49c7,_0x5e12ba=_0xf5ced7();while(!![]){try{const _0x5e993a=parseInt(_0x212d50(0x12b))/0x1+-parseInt(_0x212d50(0x165))/0x2+parseInt(_0x212d50(0x172))/0x3+-parseInt(_0x212d50(0x12a))/0x4+parseInt(_0x212d50(0x173))/0x5*(-parseInt(_0x212d50(0x132))/0x6)+parseInt(_0x212d50(0x14d))/0x7*(parseInt(_0x212d50(0x159))/0x8)+parseInt(_0x212d50(0x128))/0x9*(parseInt(_0x212d50(0x153))/0xa);if(_0x5e993a===_0x42f709)break;else _0x5e12ba['push'](_0x5e12ba['shift']());}catch(_0x340ff7){_0x5e12ba['push'](_0x5e12ba['shift']());}}}(a109_0x4274,0xb0ff2));const a109_0x549fa9=(function(){let _0x5d5ba0=!![];return function(_0x2e1ab4,_0x2ba4c1){const _0x40ce69=_0x5d5ba0?function(){const _0x213e51=a109_0x49c7;if(_0x2ba4c1){const _0xacc29c=_0x2ba4c1[_0x213e51(0x125)](_0x2e1ab4,arguments);return _0x2ba4c1=null,_0xacc29c;}}:function(){};return _0x5d5ba0=![],_0x40ce69;};}()),a109_0x1517f9=a109_0x549fa9(this,function(){const _0x4c2d4a=a109_0x49c7;return a109_0x1517f9['toString']()['search']('(((.+)+)+)+$')[_0x4c2d4a(0x11c)]()[_0x4c2d4a(0x166)](a109_0x1517f9)[_0x4c2d4a(0x14a)](_0x4c2d4a(0x13f));});a109_0x1517f9();'use strict';var __decorate=this&&this[a109_0x293c54(0x134)]||function(_0x2104c9,_0x476fb4,_0x32ea3b,_0x1c1042){const _0x234610=a109_0x293c54;var _0x543139=arguments[_0x234610(0x156)],_0x1b2b72=_0x543139<0x3?_0x476fb4:_0x1c1042===null?_0x1c1042=Object[_0x234610(0x15e)](_0x476fb4,_0x32ea3b):_0x1c1042,_0x293ab9;if(typeof Reflect===_0x234610(0x131)&&typeof Reflect[_0x234610(0x16f)]===_0x234610(0x14c))_0x1b2b72=Reflect[_0x234610(0x16f)](_0x2104c9,_0x476fb4,_0x32ea3b,_0x1c1042);else{for(var _0x54ed08=_0x2104c9[_0x234610(0x156)]-0x1;_0x54ed08>=0x0;_0x54ed08--)if(_0x293ab9=_0x2104c9[_0x54ed08])_0x1b2b72=(_0x543139<0x3?_0x293ab9(_0x1b2b72):_0x543139>0x3?_0x293ab9(_0x476fb4,_0x32ea3b,_0x1b2b72):_0x293ab9(_0x476fb4,_0x32ea3b))||_0x1b2b72;}return _0x543139>0x3&&_0x1b2b72&&Object['defineProperty'](_0x476fb4,_0x32ea3b,_0x1b2b72),_0x1b2b72;},__metadata=this&&this[a109_0x293c54(0x15c)]||function(_0x2e0517,_0x4482b7){const _0x4aa5cb=a109_0x293c54;if(typeof Reflect==='object'&&typeof Reflect[_0x4aa5cb(0x133)]===_0x4aa5cb(0x14c))return Reflect[_0x4aa5cb(0x133)](_0x2e0517,_0x4482b7);};Object[a109_0x293c54(0x16d)](exports,a109_0x293c54(0x157),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a109_0x293c54(0x129)),salesforce_rest_service_1=require(a109_0x293c54(0x171)),typedi_1=require(a109_0x293c54(0x164)),salesforce_sync_service_1=require(a109_0x293c54(0x140)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require('../../parsers/mdapi/parser-v2'),utils_1=require(a109_0x293c54(0x147));let GitCommitService=class GitCommitService{constructor(_0x19119d,_0x37a5a7,_0x35eaa5,_0x111db5){const _0x4fde28=a109_0x293c54;this[_0x4fde28(0x121)]=_0x19119d,this[_0x4fde28(0x122)]=_0x37a5a7,this[_0x4fde28(0x168)]=_0x35eaa5,this['salesforce']=_0x111db5,this[_0x4fde28(0x151)]=0xc8;}get[a109_0x293c54(0x12f)](){const _0x95e00b=a109_0x293c54;var _0x146747;return((_0x146747=this['syncRecord'])===null||_0x146747===void 0x0?void 0x0:_0x146747[_0x95e00b(0x12f)])||'';}get[a109_0x293c54(0x16b)](){const _0x15571d=a109_0x293c54;var _0x99f34;return((_0x99f34=this[_0x15571d(0x135)])===null||_0x99f34===void 0x0?void 0x0:_0x99f34[_0x15571d(0x16b)])||'';}async[a109_0x293c54(0x123)](_0x5ac3c0){const _0x2fc7c7=a109_0x293c54;return this[_0x2fc7c7(0x121)]['createCommit'](_0x5ac3c0,this[_0x2fc7c7(0x12f)]);}async[a109_0x293c54(0x126)](_0x3a1b7c){const _0x1a6322=a109_0x293c54;if(this[_0x1a6322(0x135)]){const _0x22bcae=await this['salesforceSync'][_0x1a6322(0x15f)](this[_0x1a6322(0x135)]),_0x4b3a60=await this['salesforce'][_0x1a6322(0x12c)](_0x22bcae)[_0x1a6322(0x16c)](_0x49ee1a=>typeof _0x49ee1a===_0x1a6322(0x14f)?JSON[_0x1a6322(0x13a)](_0x49ee1a):_0x49ee1a)[_0x1a6322(0x158)](()=>({}));if(_0x4b3a60[this[_0x1a6322(0x16a)][_0x1a6322(0x141)]]){if(_0x4b3a60[this['gitCommit']['repositoryGit']]['lastCommit']===_0x3a1b7c)return!![];}return![];}return![];}async[a109_0x293c54(0x154)](_0x10c6f4){const _0x20787d=a109_0x293c54;this['syncRecord']&&await this[_0x20787d(0x168)][_0x20787d(0x154)](this[_0x20787d(0x135)],_0x10c6f4);}[a109_0x293c54(0x144)](){const _0x52b2d7=a109_0x293c54;return this[_0x52b2d7(0x13c)][_0x52b2d7(0x120)](({fileName:_0x3ef421})=>_0x3ef421);}async[a109_0x293c54(0x155)](_0x54c1c7,_0x4286db,_0x3236ea){const _0x30b869=a109_0x293c54,_0x3641e3=new RegExp('^'+_0x54c1c7+_0x30b869(0x11a));let _0x3af7fd=[_0x54c1c7];_0x3236ea&&(_0x3af7fd=(0x0,utils_1[_0x30b869(0x127)])(await(0x0,utils_1['readFilesByFilename'])(_0x54c1c7,_0x4286db)[_0x30b869(0x158)](()=>[])));const _0x283f0c=_0x3236ea?this[_0x30b869(0x13c)]['filter'](_0x1182b7=>_0x1182b7[_0x30b869(0x162)]['match'](_0x3641e3)):this[_0x30b869(0x13c)][_0x30b869(0x148)](_0x35c154=>_0x35c154['fileName']===_0x54c1c7||_0x35c154[_0x30b869(0x162)]===_0x54c1c7['replace'](constants_1[_0x30b869(0x11f)],'')),_0x35477b=new parser_v2_1[(_0x30b869(0x13d))](_0x4286db,_0x3af7fd),_0x166e12=await _0x35477b[_0x30b869(0x13a)](),_0x10a2ee=[],_0x8e2b06=[];for(const _0x137612 of _0x166e12){const _0x41c1d3=_0x283f0c['find'](_0x4eb2d3=>_0x4eb2d3[_0x30b869(0x11e)]===_0x137612[_0x30b869(0x11e)]&&_0x4eb2d3[_0x30b869(0x15a)]===_0x137612[_0x30b869(0x15a)]);if(!_0x41c1d3){_0x10a2ee['push'](_0x137612);continue;}_0x137612['crc']!==_0x41c1d3['crc32']&&_0x8e2b06[_0x30b869(0x142)]({'meta':_0x41c1d3,'component':_0x137612}),_0x283f0c['splice'](_0x283f0c[_0x30b869(0x15b)](_0x41c1d3),0x1);}return{'inserted':_0x10a2ee,'modified':_0x8e2b06,'removed':_0x283f0c};}async[a109_0x293c54(0x13b)](){const _0x187cbf=a109_0x293c54;this[_0x187cbf(0x135)]=this[_0x187cbf(0x16a)][_0x187cbf(0x124)]==='master'?await this[_0x187cbf(0x168)]['getRepositoryRecordByName'](this[_0x187cbf(0x16a)][_0x187cbf(0x143)]):await this['salesforceSync'][_0x187cbf(0x170)](this[_0x187cbf(0x16a)]['branch']),this[_0x187cbf(0x137)]=await this[_0x187cbf(0x121)][_0x187cbf(0x161)]();}async[a109_0x293c54(0x130)](_0x15d459){const _0x55ac7d=a109_0x293c54;if(this[_0x55ac7d(0x16a)]['force']||_0x15d459){this[_0x55ac7d(0x13c)]=this[_0x55ac7d(0x16b)]?await this[_0x55ac7d(0x121)][_0x55ac7d(0x167)](this[_0x55ac7d(0x16b)]):await this[_0x55ac7d(0x121)][_0x55ac7d(0x12e)](this[_0x55ac7d(0x12f)]);return;}const _0x1c331f=[...new Set(this[_0x55ac7d(0x16a)]['fileNames'][_0x55ac7d(0x120)](_0x47efc7=>_0x47efc7[_0x55ac7d(0x160)](constants_1['META_XML_EXTENSION'],'')))];this[_0x55ac7d(0x13c)]=[];while(_0x1c331f['length']){const _0x58511b=_0x1c331f[_0x55ac7d(0x145)](0x0,this[_0x55ac7d(0x151)]),_0x32bb2d=this['branchId']?await this['salesforceGitSync'][_0x55ac7d(0x118)](_0x58511b,this[_0x55ac7d(0x16b)]):await this[_0x55ac7d(0x121)][_0x55ac7d(0x11d)](_0x58511b,this[_0x55ac7d(0x12f)]);this[_0x55ac7d(0x13c)][_0x55ac7d(0x142)](..._0x32bb2d);}}async['updateStatus'](_0x57f8f5){const _0x548fc7=a109_0x293c54;this[_0x548fc7(0x16b)]?await this[_0x548fc7(0x122)][_0x548fc7(0x146)](constants_1[_0x548fc7(0x13e)],this[_0x548fc7(0x16b)],{[constants_1[_0x548fc7(0x15d)]+_0x548fc7(0x14e)]:_0x57f8f5,[constants_1[_0x548fc7(0x149)]+_0x548fc7(0x139)]:Date[_0x548fc7(0x12d)]()}):await this[_0x548fc7(0x122)][_0x548fc7(0x146)](constants_1[_0x548fc7(0x16e)],this[_0x548fc7(0x12f)],{[constants_1[_0x548fc7(0x15d)]+_0x548fc7(0x14e)]:_0x57f8f5});}[a109_0x293c54(0x169)](_0x5500ce){const _0x3c856f=a109_0x293c54;this[_0x3c856f(0x16a)]=_0x5500ce;}[a109_0x293c54(0x152)](){const _0xe5e5e4=a109_0x293c54;return this[_0xe5e5e4(0x137)];}[a109_0x293c54(0x11b)](){const _0x20171b=a109_0x293c54;return this[_0x20171b(0x12f)];}[a109_0x293c54(0x150)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a109_0x293c54(0x138)])({'transient':!![]}),__metadata(a109_0x293c54(0x119),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a109_0x293c54(0x136)],salesforce_sync_service_1[a109_0x293c54(0x117)],salesforce_service_1[a109_0x293c54(0x163)]])],GitCommitService),exports[a109_0x293c54(0x14b)]=GitCommitService;