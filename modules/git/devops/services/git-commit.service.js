const a110_0x5c23b4=a110_0x34e0;(function(_0x2a9890,_0x393cc0){const _0x52196f=a110_0x34e0,_0x2861b0=_0x2a9890();while(!![]){try{const _0x33f30e=parseInt(_0x52196f(0x1ae))/0x1+parseInt(_0x52196f(0x1f6))/0x2*(-parseInt(_0x52196f(0x1d4))/0x3)+parseInt(_0x52196f(0x204))/0x4+-parseInt(_0x52196f(0x1da))/0x5+-parseInt(_0x52196f(0x20a))/0x6+parseInt(_0x52196f(0x1f9))/0x7*(-parseInt(_0x52196f(0x1ee))/0x8)+parseInt(_0x52196f(0x1fb))/0x9;if(_0x33f30e===_0x393cc0)break;else _0x2861b0['push'](_0x2861b0['shift']());}catch(_0x123f92){_0x2861b0['push'](_0x2861b0['shift']());}}}(a110_0x1f02,0x73a9b));const a110_0x69a1ca=(function(){let _0x3a79ba=!![];return function(_0x50d5a9,_0x31ab1e){const _0x347c6a=_0x3a79ba?function(){if(_0x31ab1e){const _0x527101=_0x31ab1e['apply'](_0x50d5a9,arguments);return _0x31ab1e=null,_0x527101;}}:function(){};return _0x3a79ba=![],_0x347c6a;};}()),a110_0x1dae66=a110_0x69a1ca(this,function(){const _0x38a0b1=a110_0x34e0;return a110_0x1dae66['toString']()[_0x38a0b1(0x1b3)]('(((.+)+)+)+$')[_0x38a0b1(0x1b6)]()[_0x38a0b1(0x1ff)](a110_0x1dae66)['search'](_0x38a0b1(0x1e3));});a110_0x1dae66();'use strict';var __decorate=this&&this[a110_0x5c23b4(0x1e2)]||function(_0x372cfc,_0x2ea0d3,_0x2331eb,_0x178ec1){const _0x4595c3=a110_0x5c23b4;var _0x46a555=arguments[_0x4595c3(0x1bc)],_0x1b8d3d=_0x46a555<0x3?_0x2ea0d3:_0x178ec1===null?_0x178ec1=Object[_0x4595c3(0x1d1)](_0x2ea0d3,_0x2331eb):_0x178ec1,_0x540c47;if(typeof Reflect===_0x4595c3(0x1b5)&&typeof Reflect[_0x4595c3(0x1fa)]==='function')_0x1b8d3d=Reflect[_0x4595c3(0x1fa)](_0x372cfc,_0x2ea0d3,_0x2331eb,_0x178ec1);else{for(var _0x3fd241=_0x372cfc[_0x4595c3(0x1bc)]-0x1;_0x3fd241>=0x0;_0x3fd241--)if(_0x540c47=_0x372cfc[_0x3fd241])_0x1b8d3d=(_0x46a555<0x3?_0x540c47(_0x1b8d3d):_0x46a555>0x3?_0x540c47(_0x2ea0d3,_0x2331eb,_0x1b8d3d):_0x540c47(_0x2ea0d3,_0x2331eb))||_0x1b8d3d;}return _0x46a555>0x3&&_0x1b8d3d&&Object[_0x4595c3(0x1ad)](_0x2ea0d3,_0x2331eb,_0x1b8d3d),_0x1b8d3d;},__metadata=this&&this[a110_0x5c23b4(0x208)]||function(_0x2a5697,_0x2ffcd1){const _0x4017db=a110_0x5c23b4;if(typeof Reflect===_0x4017db(0x1b5)&&typeof Reflect[_0x4017db(0x1b4)]===_0x4017db(0x201))return Reflect[_0x4017db(0x1b4)](_0x2a5697,_0x2ffcd1);};function a110_0x1f02(){const _0x39b47b=['length','filterParserPaths','getBranchId','map','getRepositoryId','FLOSUM_NAMESPACE','fetchBranchComponentsByFilenames','find','proceedFile','Synchronization_Status__c','getBranchRecordByName','salesforceRest','type','typedi','SalesforceSyncService','getUnusedComponentsFilePaths','branchId','../../salesforce/services/salesforce.service','componentsMetadata','SalesforceRestService','FLOSUM_GIT_NAMESPACE','getOwnPropertyDescriptor','([./-]{1}|$)','repositoryId','15hQtLuu','crc32','catch','../../../../constants','getComponentRecordTypes','filter','1068915sxHnYc','createCommit','../../salesforce/services/salesforce-git-sync.service','indexOf','setCommitDto','MDApiParserV2','GitCommitService','fileName','__decorate','(((.+)+)+)+$','syncRecord','push','checkSyncStatus','../../salesforce/services/salesforce-rest.service','name','crc','string','__esModule','fileNames','repository','959720zhMbRP','repositoryGit','../../salesforce/services/salesforce-sync.service','TASKS_PER_TICK','fetchRepositoryComponents','recordTypes','then','updateRemoteState','310628iIbKKN','updateStatus','splice','35uPhplo','decorate','13037787YAFwzK','readFilesByFilename','force','SalesforceService','constructor','match','function','fetchRepositoryComponentsByFilenames','salesforce','1449392OFUHlx','replace','parse','patch','__metadata','design:paramtypes','2604774BgVAHC','defineProperty','687071HJCHXs','salesforceGitSync','branch','salesforceSync','META_XML_EXTENSION','search','metadata','object','toString','retrieveAttachment','FLOSUM_BRANCH','gitCommit','Last_Updated_On__c','master'];a110_0x1f02=function(){return _0x39b47b;};return a110_0x1f02();}Object[a110_0x5c23b4(0x1ad)](exports,a110_0x5c23b4(0x1eb),{'value':!![]}),exports[a110_0x5c23b4(0x1e0)]=void 0x0;const constants_1=require(a110_0x5c23b4(0x1d7)),salesforce_git_sync_service_1=require(a110_0x5c23b4(0x1dc)),salesforce_rest_service_1=require(a110_0x5c23b4(0x1e7)),typedi_1=require(a110_0x5c23b4(0x1c9)),salesforce_sync_service_1=require(a110_0x5c23b4(0x1f0)),salesforce_service_1=require(a110_0x5c23b4(0x1cd)),parser_v2_1=require('../../parsers/mdapi/parser-v2'),utils_1=require('../../parsers/utils');let GitCommitService=class GitCommitService{constructor(_0x3a3378,_0x407cb6,_0x56540f,_0x3a9315){const _0x266024=a110_0x5c23b4;this[_0x266024(0x1af)]=_0x3a3378,this[_0x266024(0x1c7)]=_0x407cb6,this[_0x266024(0x1b1)]=_0x56540f,this[_0x266024(0x203)]=_0x3a9315,this[_0x266024(0x1f1)]=0xc8;}get[a110_0x5c23b4(0x1d3)](){const _0x1d7a8d=a110_0x5c23b4;var _0x4a843e;return((_0x4a843e=this[_0x1d7a8d(0x1e4)])===null||_0x4a843e===void 0x0?void 0x0:_0x4a843e[_0x1d7a8d(0x1d3)])||'';}get[a110_0x5c23b4(0x1cc)](){const _0x38b4b3=a110_0x5c23b4;var _0x36c4f6;return((_0x36c4f6=this[_0x38b4b3(0x1e4)])===null||_0x36c4f6===void 0x0?void 0x0:_0x36c4f6['branchId'])||'';}async[a110_0x5c23b4(0x1db)](_0x334c86){const _0x4a7417=a110_0x5c23b4;return this['salesforceGitSync'][_0x4a7417(0x1db)](_0x334c86,this[_0x4a7417(0x1d3)]);}async[a110_0x5c23b4(0x1e6)](_0x3bcd25){const _0x35ddec=a110_0x5c23b4;if(this[_0x35ddec(0x1e4)]){const _0x3ddfc9=await this['salesforceSync']['getRemoteStateAttachmentId'](this[_0x35ddec(0x1e4)]),_0x388e6d=await this[_0x35ddec(0x203)][_0x35ddec(0x1b7)](_0x3ddfc9)[_0x35ddec(0x1f4)](_0xd24fee=>typeof _0xd24fee===_0x35ddec(0x1ea)?JSON[_0x35ddec(0x206)](_0xd24fee):_0xd24fee)[_0x35ddec(0x1d6)](()=>({}));if(_0x388e6d[this[_0x35ddec(0x1b9)][_0x35ddec(0x1ef)]]){if(_0x388e6d[this[_0x35ddec(0x1b9)][_0x35ddec(0x1ef)]]['lastCommit']===_0x3bcd25)return!![];}return![];}return![];}async[a110_0x5c23b4(0x1f5)](_0x5e919a){const _0x4a08fd=a110_0x5c23b4;this[_0x4a08fd(0x1e4)]&&await this['salesforceSync']['updateRemoteState'](this[_0x4a08fd(0x1e4)],_0x5e919a);}[a110_0x5c23b4(0x1cb)](){const _0x30924a=a110_0x5c23b4;return this[_0x30924a(0x1ce)][_0x30924a(0x1bf)](({fileName:_0x9519c7})=>_0x9519c7);}async[a110_0x5c23b4(0x1c4)](_0x21980e,_0x4e654a,_0x4ddc17){const _0x985e31=a110_0x5c23b4,_0x623ffd=new RegExp('^'+_0x21980e+_0x985e31(0x1d2));let _0x50a869=[_0x21980e];_0x4ddc17&&(_0x50a869=(0x0,utils_1[_0x985e31(0x1bd)])(await(0x0,utils_1[_0x985e31(0x1fc)])(_0x21980e,_0x4e654a)['catch'](()=>[])));const _0x347209=_0x4ddc17?this[_0x985e31(0x1ce)][_0x985e31(0x1d9)](_0x4a2d8e=>_0x4a2d8e[_0x985e31(0x1e1)][_0x985e31(0x200)](_0x623ffd)):this[_0x985e31(0x1ce)][_0x985e31(0x1d9)](_0x1be65d=>_0x1be65d[_0x985e31(0x1e1)]===_0x21980e||_0x1be65d[_0x985e31(0x1e1)]===_0x21980e['replace'](constants_1['META_XML_EXTENSION'],'')),_0x180137=new parser_v2_1[(_0x985e31(0x1df))](_0x4e654a,_0x50a869),_0x4dd64a=await _0x180137[_0x985e31(0x206)](),_0x1819ed=[],_0x137617=[];for(const _0x433c5f of _0x4dd64a){const _0x1b481f=_0x347209[_0x985e31(0x1c3)](_0xfd3558=>_0xfd3558['name']===_0x433c5f[_0x985e31(0x1e8)]&&_0xfd3558[_0x985e31(0x1c8)]===_0x433c5f[_0x985e31(0x1c8)]);if(!_0x1b481f){_0x1819ed['push'](_0x433c5f);continue;}_0x433c5f[_0x985e31(0x1e9)]!==_0x1b481f[_0x985e31(0x1d5)]&&_0x137617[_0x985e31(0x1e5)]({'meta':_0x1b481f,'component':_0x433c5f}),_0x347209[_0x985e31(0x1f8)](_0x347209[_0x985e31(0x1dd)](_0x1b481f),0x1);}return{'inserted':_0x1819ed,'modified':_0x137617,'removed':_0x347209};}async['fetchRepositoryOrBranchData'](){const _0x55a6c7=a110_0x5c23b4;this[_0x55a6c7(0x1e4)]=this[_0x55a6c7(0x1b9)][_0x55a6c7(0x1b0)]===_0x55a6c7(0x1bb)?await this[_0x55a6c7(0x1b1)]['getRepositoryRecordByName'](this[_0x55a6c7(0x1b9)][_0x55a6c7(0x1ed)]):await this[_0x55a6c7(0x1b1)][_0x55a6c7(0x1c6)](this[_0x55a6c7(0x1b9)][_0x55a6c7(0x1b0)]),this['recordTypes']=await this[_0x55a6c7(0x1af)][_0x55a6c7(0x1d8)]();}async['fetchComponentsMetadata'](_0x328b72){const _0x426895=a110_0x5c23b4;if(this[_0x426895(0x1b9)][_0x426895(0x1fd)]||_0x328b72){this[_0x426895(0x1ce)]=this[_0x426895(0x1cc)]?await this['salesforceGitSync']['fetchBranchComponents'](this[_0x426895(0x1cc)]):await this[_0x426895(0x1af)][_0x426895(0x1f2)](this['repositoryId']);return;}const _0x2bee9c=[...new Set(this[_0x426895(0x1b9)][_0x426895(0x1ec)][_0x426895(0x1bf)](_0x175cb7=>_0x175cb7[_0x426895(0x205)](constants_1[_0x426895(0x1b2)],'')))];this['componentsMetadata']=[];while(_0x2bee9c[_0x426895(0x1bc)]){const _0x5ec8eb=_0x2bee9c['splice'](0x0,this[_0x426895(0x1f1)]),_0x62651f=this[_0x426895(0x1cc)]?await this[_0x426895(0x1af)][_0x426895(0x1c2)](_0x5ec8eb,this[_0x426895(0x1cc)]):await this[_0x426895(0x1af)][_0x426895(0x202)](_0x5ec8eb,this[_0x426895(0x1d3)]);this[_0x426895(0x1ce)][_0x426895(0x1e5)](..._0x62651f);}}async[a110_0x5c23b4(0x1f7)](_0x448efa){const _0x3721b3=a110_0x5c23b4;this['branchId']?await this[_0x3721b3(0x1c7)][_0x3721b3(0x207)](constants_1[_0x3721b3(0x1b8)],this[_0x3721b3(0x1cc)],{[constants_1[_0x3721b3(0x1d0)]+_0x3721b3(0x1c5)]:_0x448efa,[constants_1[_0x3721b3(0x1c1)]+_0x3721b3(0x1ba)]:Date['now']()}):await this[_0x3721b3(0x1c7)][_0x3721b3(0x207)](constants_1['FLOSUM_REPOSITORY'],this[_0x3721b3(0x1d3)],{[constants_1[_0x3721b3(0x1d0)]+_0x3721b3(0x1c5)]:_0x448efa});}[a110_0x5c23b4(0x1de)](_0x2cfc84){const _0x50e790=a110_0x5c23b4;this[_0x50e790(0x1b9)]=_0x2cfc84;}['getRecordTypes'](){const _0x3151a0=a110_0x5c23b4;return this[_0x3151a0(0x1f3)];}[a110_0x5c23b4(0x1c0)](){const _0x113243=a110_0x5c23b4;return this[_0x113243(0x1d3)];}[a110_0x5c23b4(0x1be)](){const _0x5041d7=a110_0x5c23b4;return this[_0x5041d7(0x1cc)];}};function a110_0x34e0(_0x3bdca0,_0x499290){const _0x4e3f93=a110_0x1f02();return a110_0x34e0=function(_0x1dae66,_0x69a1ca){_0x1dae66=_0x1dae66-0x1ad;let _0x1f0248=_0x4e3f93[_0x1dae66];return _0x1f0248;},a110_0x34e0(_0x3bdca0,_0x499290);}GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a110_0x5c23b4(0x209),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a110_0x5c23b4(0x1cf)],salesforce_sync_service_1[a110_0x5c23b4(0x1ca)],salesforce_service_1[a110_0x5c23b4(0x1fe)]])],GitCommitService),exports[a110_0x5c23b4(0x1e0)]=GitCommitService;