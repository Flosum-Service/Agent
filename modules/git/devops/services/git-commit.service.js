const a127_0x8e3a40=a127_0x48b0;(function(_0x25868a,_0x2d2dad){const _0x3c4682=a127_0x48b0,_0x4e8e4a=_0x25868a();while(!![]){try{const _0xa93e75=parseInt(_0x3c4682(0x102))/0x1*(-parseInt(_0x3c4682(0x120))/0x2)+-parseInt(_0x3c4682(0x138))/0x3*(parseInt(_0x3c4682(0x134))/0x4)+-parseInt(_0x3c4682(0x129))/0x5+-parseInt(_0x3c4682(0x108))/0x6*(parseInt(_0x3c4682(0x106))/0x7)+-parseInt(_0x3c4682(0x109))/0x8*(-parseInt(_0x3c4682(0x12a))/0x9)+-parseInt(_0x3c4682(0x136))/0xa+parseInt(_0x3c4682(0x10b))/0xb;if(_0xa93e75===_0x2d2dad)break;else _0x4e8e4a['push'](_0x4e8e4a['shift']());}catch(_0xe1cfd8){_0x4e8e4a['push'](_0x4e8e4a['shift']());}}}(a127_0x26c2,0x23ace));function a127_0x48b0(_0x3c48fb,_0x52e33a){const _0x2b5ac3=a127_0x26c2();return a127_0x48b0=function(_0x936b66,_0x496b3e){_0x936b66=_0x936b66-0xf2;let _0x26c29d=_0x2b5ac3[_0x936b66];return _0x26c29d;},a127_0x48b0(_0x3c48fb,_0x52e33a);}const a127_0x496b3e=(function(){let _0x1e56da=!![];return function(_0x195b44,_0xfd5168){const _0x11b9a4=_0x1e56da?function(){const _0x415444=a127_0x48b0;if(_0xfd5168){const _0x32318c=_0xfd5168[_0x415444(0x116)](_0x195b44,arguments);return _0xfd5168=null,_0x32318c;}}:function(){};return _0x1e56da=![],_0x11b9a4;};}()),a127_0x936b66=a127_0x496b3e(this,function(){const _0x1fca69=a127_0x48b0;return a127_0x936b66['toString']()[_0x1fca69(0x113)](_0x1fca69(0xfd))[_0x1fca69(0xfb)]()['constructor'](a127_0x936b66)['search'](_0x1fca69(0xfd));});function a127_0x26c2(){const _0x13e510=['(((.+)+)+)+$','getRemoteStateAttachmentId','updateRemoteState','Synchronization_Status__c','defineProperty','180459MYGASx','SalesforceSyncService','SalesforceGitSyncService','PathUtils','204274KihwVn','readComponentPaths','24EXZVuA','8IFJEAA','GitCommitService','6900245NEfAhQ','setCommitDto','branch','push','recordTypes','splice','map','__esModule','search','recordTypeName','now','apply','SalesforceService','parse','type','../utils/components.utils','fetchBranchComponents','syncRecord','catch','repositoryGit','typedi','2JMxuQh','../../salesforce/services/salesforce-sync.service','fetchRepositoryOrBranchData','updateStatus','componentsMetadata','salesforceGitSync','object','getRecordTypes','patch','10225CVzgNe','1393443SJPczA','../../../../constants','salesforceRest','indexOf','execute','find','repositoryId','getBranchId','lastCommit','../../salesforce/services/salesforce-git-sync.service','20IEtldU','fileNames','1210140inDHfN','ComponentsUtils','129450nwCGoz','fetchRepositoryComponentsByFilenames','../utils/path.utils','../../parsers/factory.parser','salesforce','FLOSUM_BRANCH','getOwnPropertyDescriptor','recordType','getBranchRecordByName','branchId','../../salesforce/services/salesforce.service','filterMetadataComponents','string','fetchComponentsMetadata','SalesforceRestService','fetchBranchComponentsByFilenames','gitCommit','master','../../salesforce/services/salesforce-rest.service','salesforceSync','name','checkSyncStatus','length','FLOSUM_REPOSITORY','metadata','FLOSUM_NAMESPACE','createCommit','decorate','function','design:paramtypes','Last_Updated_On__c','toString','then'];a127_0x26c2=function(){return _0x13e510;};return a127_0x26c2();}a127_0x936b66();'use strict';var __decorate=this&&this['__decorate']||function(_0x4a0692,_0x1a61fe,_0x40f7c7,_0x16f487){const _0x2ab3d3=a127_0x48b0;var _0x55a1bd=arguments[_0x2ab3d3(0xf2)],_0xa05764=_0x55a1bd<0x3?_0x1a61fe:_0x16f487===null?_0x16f487=Object[_0x2ab3d3(0x13e)](_0x1a61fe,_0x40f7c7):_0x16f487,_0x25ae63;if(typeof Reflect===_0x2ab3d3(0x126)&&typeof Reflect[_0x2ab3d3(0xf7)]===_0x2ab3d3(0xf8))_0xa05764=Reflect[_0x2ab3d3(0xf7)](_0x4a0692,_0x1a61fe,_0x40f7c7,_0x16f487);else{for(var _0x139e6c=_0x4a0692['length']-0x1;_0x139e6c>=0x0;_0x139e6c--)if(_0x25ae63=_0x4a0692[_0x139e6c])_0xa05764=(_0x55a1bd<0x3?_0x25ae63(_0xa05764):_0x55a1bd>0x3?_0x25ae63(_0x1a61fe,_0x40f7c7,_0xa05764):_0x25ae63(_0x1a61fe,_0x40f7c7))||_0xa05764;}return _0x55a1bd>0x3&&_0xa05764&&Object[_0x2ab3d3(0x101)](_0x1a61fe,_0x40f7c7,_0xa05764),_0xa05764;},__metadata=this&&this['__metadata']||function(_0x4d9eb9,_0x45c346){const _0x12a3be=a127_0x48b0;if(typeof Reflect==='object'&&typeof Reflect[_0x12a3be(0xf4)]===_0x12a3be(0xf8))return Reflect['metadata'](_0x4d9eb9,_0x45c346);};Object[a127_0x8e3a40(0x101)](exports,a127_0x8e3a40(0x112),{'value':!![]}),exports[a127_0x8e3a40(0x10a)]=void 0x0;const constants_1=require(a127_0x8e3a40(0x12b)),salesforce_git_sync_service_1=require(a127_0x8e3a40(0x133)),salesforce_rest_service_1=require(a127_0x8e3a40(0x14a)),typedi_1=require(a127_0x8e3a40(0x11f)),salesforce_sync_service_1=require(a127_0x8e3a40(0x121)),salesforce_service_1=require(a127_0x8e3a40(0x142)),factory_parser_1=require(a127_0x8e3a40(0x13b)),path_utils_1=require(a127_0x8e3a40(0x13a)),components_utils_1=require(a127_0x8e3a40(0x11a));let GitCommitService=class GitCommitService{constructor(_0x3b6eda,_0x4e4474,_0x24520d,_0x546c16){const _0x4cd421=a127_0x8e3a40;this['salesforceGitSync']=_0x3b6eda,this[_0x4cd421(0x12c)]=_0x4e4474,this[_0x4cd421(0x14b)]=_0x24520d,this[_0x4cd421(0x13c)]=_0x546c16,this['TASKS_PER_TICK']=0xc8;}get[a127_0x8e3a40(0x130)](){const _0x49c8df=a127_0x8e3a40;var _0x2eff91;return((_0x2eff91=this['syncRecord'])===null||_0x2eff91===void 0x0?void 0x0:_0x2eff91[_0x49c8df(0x130)])||'';}get[a127_0x8e3a40(0x141)](){const _0x8d052e=a127_0x8e3a40;var _0xac1ab8;return((_0xac1ab8=this[_0x8d052e(0x11c)])===null||_0xac1ab8===void 0x0?void 0x0:_0xac1ab8[_0x8d052e(0x141)])||'';}get[a127_0x8e3a40(0x13f)](){const _0x1a85c4=a127_0x8e3a40;return this[_0x1a85c4(0x11c)]['recordTypeName'];}async['createCommit'](_0x296f01){const _0x5a1542=a127_0x8e3a40;return this[_0x5a1542(0x125)][_0x5a1542(0xf6)](_0x296f01,this[_0x5a1542(0x130)]);}async[a127_0x8e3a40(0x14d)](_0x49ce25){const _0x1fcaec=a127_0x8e3a40;if(this['syncRecord']){const _0x316231=await this[_0x1fcaec(0x14b)][_0x1fcaec(0xfe)](this[_0x1fcaec(0x11c)]),_0xa600ba=await this['salesforce']['retrieveAttachment'](_0x316231)[_0x1fcaec(0xfc)](_0xc29704=>typeof _0xc29704===_0x1fcaec(0x144)?JSON[_0x1fcaec(0x118)](_0xc29704):_0xc29704)[_0x1fcaec(0x11d)](()=>({}));if(_0xa600ba[this[_0x1fcaec(0x148)][_0x1fcaec(0x11e)]]){if(_0xa600ba[this['gitCommit'][_0x1fcaec(0x11e)]][_0x1fcaec(0x132)]===_0x49ce25)return!![];}return![];}return![];}async[a127_0x8e3a40(0xff)](_0x43dba7){const _0x400437=a127_0x8e3a40;this[_0x400437(0x11c)]&&await this['salesforceSync'][_0x400437(0xff)](this['syncRecord'],_0x43dba7);}['getUnusedComponentsFilePaths'](){const _0x2d645b=a127_0x8e3a40;return this[_0x2d645b(0x124)][_0x2d645b(0x111)](({fileName:_0x19d221})=>_0x19d221);}async['proceedFile'](_0x5dbb87,_0x23a366,_0x1fb30a){const _0x5e1361=a127_0x8e3a40,_0x4f36c6=await path_utils_1[_0x5e1361(0x105)][_0x5e1361(0x107)](this[_0x5e1361(0x11c)][_0x5e1361(0x114)],_0x5dbb87,_0x23a366,_0x1fb30a),_0x13471a=components_utils_1[_0x5e1361(0x137)][_0x5e1361(0x143)](this[_0x5e1361(0x124)],_0x5dbb87,_0x1fb30a,this[_0x5e1361(0x11c)][_0x5e1361(0x114)]),_0x198520=factory_parser_1['FactoryParser']['create']({'recordType':this[_0x5e1361(0x11c)][_0x5e1361(0x114)],'sourceDir':_0x23a366,'paths':_0x4f36c6}),_0x34c863=await _0x198520[_0x5e1361(0x12e)](),_0x5cd9ea=[],_0x10d36e=[];for(const _0x1d700d of _0x34c863){const _0x32ce30=_0x13471a[_0x5e1361(0x12f)](_0x338050=>_0x338050['name']===_0x1d700d[_0x5e1361(0x14c)]&&_0x338050[_0x5e1361(0x119)]===_0x1d700d[_0x5e1361(0x119)]);if(!_0x32ce30){_0x5cd9ea[_0x5e1361(0x10e)](_0x1d700d);continue;}_0x1d700d['crc']!==_0x32ce30['crc32']&&_0x10d36e[_0x5e1361(0x10e)]({'meta':_0x32ce30,'component':_0x1d700d}),_0x13471a[_0x5e1361(0x110)](_0x13471a[_0x5e1361(0x12d)](_0x32ce30),0x1);}return{'inserted':_0x5cd9ea,'modified':_0x10d36e,'removed':_0x13471a};}async[a127_0x8e3a40(0x122)](){const _0xf60e65=a127_0x8e3a40;this[_0xf60e65(0x11c)]=this[_0xf60e65(0x148)][_0xf60e65(0x10d)]===_0xf60e65(0x149)?await this[_0xf60e65(0x14b)]['getRepositoryRecordByName'](this['gitCommit']['repository']):await this[_0xf60e65(0x14b)][_0xf60e65(0x140)](this['gitCommit'][_0xf60e65(0x10d)]),this[_0xf60e65(0x10f)]=await this[_0xf60e65(0x125)]['getComponentRecordTypes']();}async[a127_0x8e3a40(0x145)](_0xfca38b){const _0x121201=a127_0x8e3a40;if(this[_0x121201(0x148)]['force']||_0xfca38b){this['componentsMetadata']=this[_0x121201(0x141)]?await this['salesforceGitSync'][_0x121201(0x11b)](this['branchId']):await this[_0x121201(0x125)]['fetchRepositoryComponents'](this[_0x121201(0x130)]);return;}const _0x55bbe6=components_utils_1[_0x121201(0x137)]['prepareComponentNamesForFetchMetadata'](this['gitCommit'][_0x121201(0x135)],this[_0x121201(0x11c)][_0x121201(0x114)]);this[_0x121201(0x124)]=[];while(_0x55bbe6['length']){const _0x3c3aaa=_0x55bbe6[_0x121201(0x110)](0x0,this['TASKS_PER_TICK']),_0x1c0b5b=this[_0x121201(0x141)]?await this[_0x121201(0x125)][_0x121201(0x147)](_0x3c3aaa,this[_0x121201(0x141)]):await this['salesforceGitSync'][_0x121201(0x139)](_0x3c3aaa,this['repositoryId']);this[_0x121201(0x124)][_0x121201(0x10e)](..._0x1c0b5b);}}async[a127_0x8e3a40(0x123)](_0x5e63ff){const _0x295785=a127_0x8e3a40;this['branchId']?await this[_0x295785(0x12c)][_0x295785(0x128)](constants_1[_0x295785(0x13d)],this['branchId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x295785(0x100)]:_0x5e63ff,[constants_1[_0x295785(0xf5)]+_0x295785(0xfa)]:Date[_0x295785(0x115)]()}):await this[_0x295785(0x12c)][_0x295785(0x128)](constants_1[_0x295785(0xf3)],this['repositoryId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x295785(0x100)]:_0x5e63ff});}[a127_0x8e3a40(0x10c)](_0x447403){this['gitCommit']=_0x447403;}[a127_0x8e3a40(0x127)](){return this['recordTypes'];}['getRepositoryId'](){const _0x4c4a09=a127_0x8e3a40;return this[_0x4c4a09(0x130)];}[a127_0x8e3a40(0x131)](){const _0x142051=a127_0x8e3a40;return this[_0x142051(0x141)];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a127_0x8e3a40(0xf9),[salesforce_git_sync_service_1[a127_0x8e3a40(0x104)],salesforce_rest_service_1[a127_0x8e3a40(0x146)],salesforce_sync_service_1[a127_0x8e3a40(0x103)],salesforce_service_1[a127_0x8e3a40(0x117)]])],GitCommitService),exports['GitCommitService']=GitCommitService;