const a110_0x6c73bc=a110_0x3e65;(function(_0x182bc3,_0x3d8afd){const _0x54a0f4=a110_0x3e65,_0x106752=_0x182bc3();while(!![]){try{const _0x4c9fd4=parseInt(_0x54a0f4(0x126))/0x1*(parseInt(_0x54a0f4(0x110))/0x2)+parseInt(_0x54a0f4(0x159))/0x3*(parseInt(_0x54a0f4(0x128))/0x4)+parseInt(_0x54a0f4(0x13b))/0x5*(-parseInt(_0x54a0f4(0x123))/0x6)+parseInt(_0x54a0f4(0x10d))/0x7*(parseInt(_0x54a0f4(0x150))/0x8)+parseInt(_0x54a0f4(0x135))/0x9+-parseInt(_0x54a0f4(0x151))/0xa+parseInt(_0x54a0f4(0x141))/0xb*(-parseInt(_0x54a0f4(0x12f))/0xc);if(_0x4c9fd4===_0x3d8afd)break;else _0x106752['push'](_0x106752['shift']());}catch(_0x7b33b0){_0x106752['push'](_0x106752['shift']());}}}(a110_0xa547,0xa6587));const a110_0x490313=(function(){let _0x2874ca=!![];return function(_0x3819b3,_0x4cd9f6){const _0x8576f9=_0x2874ca?function(){if(_0x4cd9f6){const _0x1a4d68=_0x4cd9f6['apply'](_0x3819b3,arguments);return _0x4cd9f6=null,_0x1a4d68;}}:function(){};return _0x2874ca=![],_0x8576f9;};}()),a110_0x242e3d=a110_0x490313(this,function(){const _0x5d5b48=a110_0x3e65;return a110_0x242e3d[_0x5d5b48(0x131)]()[_0x5d5b48(0x12a)](_0x5d5b48(0x117))[_0x5d5b48(0x131)]()[_0x5d5b48(0x132)](a110_0x242e3d)[_0x5d5b48(0x12a)](_0x5d5b48(0x117));});a110_0x242e3d();function a110_0x3e65(_0x24986e,_0x2d5231){const _0x16d0ed=a110_0xa547();return a110_0x3e65=function(_0x242e3d,_0x490313){_0x242e3d=_0x242e3d-0xff;let _0xa5476f=_0x16d0ed[_0x242e3d];return _0xa5476f;},a110_0x3e65(_0x24986e,_0x2d5231);}'use strict';var __decorate=this&&this[a110_0x6c73bc(0x11b)]||function(_0x137510,_0x4e0db4,_0x5da95c,_0x20bf1a){const _0x259665=a110_0x6c73bc;var _0x2c062a=arguments[_0x259665(0x155)],_0x540d72=_0x2c062a<0x3?_0x4e0db4:_0x20bf1a===null?_0x20bf1a=Object[_0x259665(0x138)](_0x4e0db4,_0x5da95c):_0x20bf1a,_0x471df6;if(typeof Reflect===_0x259665(0x12e)&&typeof Reflect[_0x259665(0x10f)]===_0x259665(0x108))_0x540d72=Reflect[_0x259665(0x10f)](_0x137510,_0x4e0db4,_0x5da95c,_0x20bf1a);else{for(var _0x59ed83=_0x137510[_0x259665(0x155)]-0x1;_0x59ed83>=0x0;_0x59ed83--)if(_0x471df6=_0x137510[_0x59ed83])_0x540d72=(_0x2c062a<0x3?_0x471df6(_0x540d72):_0x2c062a>0x3?_0x471df6(_0x4e0db4,_0x5da95c,_0x540d72):_0x471df6(_0x4e0db4,_0x5da95c))||_0x540d72;}return _0x2c062a>0x3&&_0x540d72&&Object['defineProperty'](_0x4e0db4,_0x5da95c,_0x540d72),_0x540d72;},__metadata=this&&this[a110_0x6c73bc(0x106)]||function(_0x2e2b0d,_0x40adc5){if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x2e2b0d,_0x40adc5);};Object[a110_0x6c73bc(0x10c)](exports,a110_0x6c73bc(0x129),{'value':!![]}),exports[a110_0x6c73bc(0x11a)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x6c73bc(0x147)),salesforce_rest_service_1=require(a110_0x6c73bc(0x102)),typedi_1=require(a110_0x6c73bc(0x130)),salesforce_sync_service_1=require(a110_0x6c73bc(0x13f)),salesforce_service_1=require(a110_0x6c73bc(0x149)),utils_1=require(a110_0x6c73bc(0x160)),factory_parser_1=require(a110_0x6c73bc(0x137)),vlocity_1=require(a110_0x6c73bc(0x143));let GitCommitService=class GitCommitService{constructor(_0x5088ac,_0x3dfa5d,_0x12cde8,_0x3dd49a){const _0x3f73c7=a110_0x6c73bc;this[_0x3f73c7(0x13e)]=_0x5088ac,this[_0x3f73c7(0x12d)]=_0x3dfa5d,this[_0x3f73c7(0x118)]=_0x12cde8,this[_0x3f73c7(0x12b)]=_0x3dd49a,this['TASKS_PER_TICK']=0xc8;}get['repositoryId'](){const _0x2180ef=a110_0x6c73bc;var _0x2b57b2;return((_0x2b57b2=this[_0x2180ef(0x121)])===null||_0x2b57b2===void 0x0?void 0x0:_0x2b57b2[_0x2180ef(0x115)])||'';}get[a110_0x6c73bc(0x15a)](){const _0x56e2db=a110_0x6c73bc;var _0x547f4e;return((_0x547f4e=this[_0x56e2db(0x121)])===null||_0x547f4e===void 0x0?void 0x0:_0x547f4e[_0x56e2db(0x15a)])||'';}async[a110_0x6c73bc(0x105)](_0x124a0d){const _0x1ba4cf=a110_0x6c73bc;return this[_0x1ba4cf(0x13e)][_0x1ba4cf(0x105)](_0x124a0d,this[_0x1ba4cf(0x115)]);}async['checkSyncStatus'](_0x31bd41){const _0x13af4f=a110_0x6c73bc;if(this[_0x13af4f(0x121)]){const _0x539aea=await this['salesforceSync'][_0x13af4f(0x15d)](this[_0x13af4f(0x121)]),_0x4c3aef=await this[_0x13af4f(0x12b)][_0x13af4f(0x103)](_0x539aea)[_0x13af4f(0x10b)](_0x1250f2=>typeof _0x1250f2===_0x13af4f(0x12c)?JSON[_0x13af4f(0x11f)](_0x1250f2):_0x1250f2)[_0x13af4f(0x15f)](()=>({}));if(_0x4c3aef[this[_0x13af4f(0x125)][_0x13af4f(0x11e)]]){if(_0x4c3aef[this['gitCommit'][_0x13af4f(0x11e)]][_0x13af4f(0x14e)]===_0x31bd41)return!![];}return![];}return![];}async['updateRemoteState'](_0x15e466){const _0x2b1cfd=a110_0x6c73bc;this[_0x2b1cfd(0x121)]&&await this['salesforceSync'][_0x2b1cfd(0x161)](this[_0x2b1cfd(0x121)],_0x15e466);}['getUnusedComponentsFilePaths'](){const _0x26bb06=a110_0x6c73bc;return this[_0x26bb06(0x158)][_0x26bb06(0x15b)](({fileName:_0x469e42})=>_0x469e42);}async[a110_0x6c73bc(0x10a)](_0x3183b5,_0x58ed00,_0x31cdf2){const _0x4e3db8=a110_0x6c73bc,_0x4fdb28=new RegExp('^'+_0x3183b5+_0x4e3db8(0x153));let _0x446993=[_0x3183b5];_0x31cdf2&&!(0x0,vlocity_1[_0x4e3db8(0x100)])(_0x3183b5)&&(_0x446993=(0x0,utils_1[_0x4e3db8(0x14a)])(await(0x0,utils_1[_0x4e3db8(0x10e)])(_0x3183b5,_0x58ed00)['catch'](()=>[])));const _0x3e1943=_0x31cdf2?this[_0x4e3db8(0x158)][_0x4e3db8(0x154)](_0x3050ec=>_0x3050ec[_0x4e3db8(0x152)][_0x4e3db8(0xff)](_0x4fdb28)):this[_0x4e3db8(0x158)]['filter'](_0x7e3de1=>_0x7e3de1[_0x4e3db8(0x152)]===_0x3183b5||_0x7e3de1[_0x4e3db8(0x152)]===_0x3183b5[_0x4e3db8(0x101)](constants_1[_0x4e3db8(0x14b)],'')),_0xc529ed=factory_parser_1[_0x4e3db8(0x11c)][_0x4e3db8(0x112)](_0x58ed00,_0x446993),_0x5e44e2=await _0xc529ed[_0x4e3db8(0x11f)](),_0x11229a=[],_0x50a6f7=[];for(const _0x591139 of _0x5e44e2){const _0x1f6d95=_0x3e1943[_0x4e3db8(0x148)](_0x377a5d=>_0x377a5d[_0x4e3db8(0x11d)]===_0x591139[_0x4e3db8(0x11d)]&&_0x377a5d[_0x4e3db8(0x14f)]===_0x591139[_0x4e3db8(0x14f)]);if(!_0x1f6d95){_0x11229a[_0x4e3db8(0x107)](_0x591139);continue;}_0x591139[_0x4e3db8(0x119)]!==_0x1f6d95[_0x4e3db8(0x146)]&&_0x50a6f7[_0x4e3db8(0x107)]({'meta':_0x1f6d95,'component':_0x591139}),_0x3e1943[_0x4e3db8(0x140)](_0x3e1943['indexOf'](_0x1f6d95),0x1);}return{'inserted':_0x11229a,'modified':_0x50a6f7,'removed':_0x3e1943};}async['fetchRepositoryOrBranchData'](){const _0x5e7800=a110_0x6c73bc;this[_0x5e7800(0x121)]=this[_0x5e7800(0x125)][_0x5e7800(0x133)]===_0x5e7800(0x113)?await this[_0x5e7800(0x118)][_0x5e7800(0x111)](this['gitCommit'][_0x5e7800(0x104)]):await this[_0x5e7800(0x118)][_0x5e7800(0x136)](this[_0x5e7800(0x125)][_0x5e7800(0x133)]),this[_0x5e7800(0x14d)]=await this[_0x5e7800(0x13e)][_0x5e7800(0x134)]();}async['fetchComponentsMetadata'](_0x222ae5){const _0x329bd5=a110_0x6c73bc;if(this[_0x329bd5(0x125)][_0x329bd5(0x122)]||_0x222ae5){this['componentsMetadata']=this[_0x329bd5(0x15a)]?await this[_0x329bd5(0x13e)]['fetchBranchComponents'](this[_0x329bd5(0x15a)]):await this[_0x329bd5(0x13e)][_0x329bd5(0x13d)](this[_0x329bd5(0x115)]);return;}const _0x409bf7=[...new Set(this[_0x329bd5(0x125)][_0x329bd5(0x156)][_0x329bd5(0x15b)](_0x16f8db=>_0x16f8db['replace'](constants_1['META_XML_EXTENSION'],'')))];this[_0x329bd5(0x158)]=[];while(_0x409bf7[_0x329bd5(0x155)]){const _0x3cfc80=_0x409bf7['splice'](0x0,this[_0x329bd5(0x142)]),_0x1cac78=this[_0x329bd5(0x15a)]?await this['salesforceGitSync'][_0x329bd5(0x127)](_0x3cfc80,this[_0x329bd5(0x15a)]):await this['salesforceGitSync']['fetchRepositoryComponentsByFilenames'](_0x3cfc80,this['repositoryId']);this[_0x329bd5(0x158)][_0x329bd5(0x107)](..._0x1cac78);}}async[a110_0x6c73bc(0x114)](_0x1b8c8b){const _0x914542=a110_0x6c73bc;this[_0x914542(0x15a)]?await this[_0x914542(0x12d)]['patch'](constants_1[_0x914542(0x144)],this[_0x914542(0x15a)],{[constants_1[_0x914542(0x139)]+_0x914542(0x120)]:_0x1b8c8b,[constants_1[_0x914542(0x116)]+_0x914542(0x157)]:Date[_0x914542(0x14c)]()}):await this[_0x914542(0x12d)][_0x914542(0x15e)](constants_1[_0x914542(0x145)],this['repositoryId'],{[constants_1[_0x914542(0x139)]+_0x914542(0x120)]:_0x1b8c8b});}['setCommitDto'](_0x57f91e){const _0x4255fc=a110_0x6c73bc;this[_0x4255fc(0x125)]=_0x57f91e;}[a110_0x6c73bc(0x124)](){const _0xf8cad0=a110_0x6c73bc;return this[_0xf8cad0(0x14d)];}['getRepositoryId'](){const _0x2b28f8=a110_0x6c73bc;return this[_0x2b28f8(0x115)];}[a110_0x6c73bc(0x15c)](){const _0x202239=a110_0x6c73bc;return this[_0x202239(0x15a)];}};function a110_0xa547(){const _0x5d3042=['8661390lXkzMS','fileName','([./-]{1}|$)','filter','length','fileNames','Last_Updated_On__c','componentsMetadata','79617jJAnWn','branchId','map','getBranchId','getRemoteStateAttachmentId','patch','catch','../../parsers/utils','updateRemoteState','match','isVlocityComponent','replace','../../salesforce/services/salesforce-rest.service','retrieveAttachment','repository','createCommit','__metadata','push','function','SalesforceGitSyncService','proceedFile','then','defineProperty','97153yGqxDO','readFilesByFilename','decorate','2TMUefa','getRepositoryRecordByName','create','master','updateStatus','repositoryId','FLOSUM_NAMESPACE','(((.+)+)+)+$','salesforceSync','crc','GitCommitService','__decorate','FactoryParser','name','repositoryGit','parse','Synchronization_Status__c','syncRecord','force','126lQPuzm','getRecordTypes','gitCommit','564068miBiKp','fetchBranchComponentsByFilenames','20MulJLr','__esModule','search','salesforce','string','salesforceRest','object','48afszAw','typedi','toString','constructor','branch','getComponentRecordTypes','6400908cayOVP','getBranchRecordByName','../../parsers/mdapi/factory.parser','getOwnPropertyDescriptor','FLOSUM_GIT_NAMESPACE','SalesforceRestService','114795PlSRuc','design:paramtypes','fetchRepositoryComponents','salesforceGitSync','../../salesforce/services/salesforce-sync.service','splice','656821agvVCV','TASKS_PER_TICK','../../parsers/utils/vlocity','FLOSUM_BRANCH','FLOSUM_REPOSITORY','crc32','../../salesforce/services/salesforce-git-sync.service','find','../../salesforce/services/salesforce.service','filterParserPaths','META_XML_EXTENSION','now','recordTypes','lastCommit','type','496CWYQsp'];a110_0xa547=function(){return _0x5d3042;};return a110_0xa547();}GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a110_0x6c73bc(0x13c),[salesforce_git_sync_service_1[a110_0x6c73bc(0x109)],salesforce_rest_service_1[a110_0x6c73bc(0x13a)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1['SalesforceService']])],GitCommitService),exports['GitCommitService']=GitCommitService;