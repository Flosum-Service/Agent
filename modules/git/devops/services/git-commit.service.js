function a110_0xa837(_0x21499f,_0x47908c){const _0x2062d4=a110_0x2b36();return a110_0xa837=function(_0x3bc727,_0x306832){_0x3bc727=_0x3bc727-0x9d;let _0x2b36b7=_0x2062d4[_0x3bc727];return _0x2b36b7;},a110_0xa837(_0x21499f,_0x47908c);}const a110_0x4f3622=a110_0xa837;(function(_0x197196,_0x5b766c){const _0x45303b=a110_0xa837,_0x1abe2e=_0x197196();while(!![]){try{const _0x20bb05=parseInt(_0x45303b(0xa4))/0x1+-parseInt(_0x45303b(0xc0))/0x2+-parseInt(_0x45303b(0xaf))/0x3+-parseInt(_0x45303b(0xbb))/0x4*(parseInt(_0x45303b(0xb9))/0x5)+parseInt(_0x45303b(0xbe))/0x6*(-parseInt(_0x45303b(0xcc))/0x7)+parseInt(_0x45303b(0xf3))/0x8*(-parseInt(_0x45303b(0xd9))/0x9)+parseInt(_0x45303b(0xb8))/0xa;if(_0x20bb05===_0x5b766c)break;else _0x1abe2e['push'](_0x1abe2e['shift']());}catch(_0x2b3113){_0x1abe2e['push'](_0x1abe2e['shift']());}}}(a110_0x2b36,0x69f8c));function a110_0x2b36(){const _0x467d14=['821720PlBBCL','createCommit','Last_Updated_On__c','object','getComponentRecordTypes','branchId','FLOSUM_GIT_NAMESPACE','push','FLOSUM_NAMESPACE','filterParserPaths','lastCommit','SalesforceSyncService','21wdRpAK','../../salesforce/services/salesforce-git-sync.service','now','search','length','FLOSUM_REPOSITORY','getRecordTypes','isVlocityComponent','crc32','setCommitDto','string','fetchRepositoryOrBranchData','getRemoteStateAttachmentId','181971UwXlaZ','getOwnPropertyDescriptor','getRepositoryRecordByName','Service','updateStatus','repository','salesforce','updateRemoteState','fetchRepositoryComponentsByFilenames','replace','../../salesforce/services/salesforce.service','__decorate','([./-]{1}|$)','__metadata','__esModule','fileNames','type','getRepositoryId','../../salesforce/services/salesforce-rest.service','getBranchId','checkSyncStatus','gitCommit','recordTypes','syncRecord','salesforceGitSync','crc','320CMUODo','Synchronization_Status__c','match','../../salesforce/services/salesforce-sync.service','getUnusedComponentsFilePaths','../../parsers/mdapi/factory.parser','map','splice','constructor','TASKS_PER_TICK','then','FLOSUM_BRANCH','SalesforceService','repositoryGit','branch','filter','GitCommitService','patch','salesforceSync','find','184595LDGUTw','toString','fetchRepositoryComponents','design:paramtypes','FactoryParser','catch','META_XML_EXTENSION','(((.+)+)+)+$','metadata','fetchBranchComponents','getBranchRecordByName','651228WUZbCM','name','typedi','repositoryId','function','salesforceRest','retrieveAttachment','proceedFile','componentsMetadata','23528730CYZBgE','242815diZunC','fileName','20wZDJJi','force','parse','847794ulglKT','defineProperty'];a110_0x2b36=function(){return _0x467d14;};return a110_0x2b36();}const a110_0x306832=(function(){let _0x97f5fc=!![];return function(_0x5595d8,_0x5e0bf9){const _0x644aa7=_0x97f5fc?function(){if(_0x5e0bf9){const _0x2d72aa=_0x5e0bf9['apply'](_0x5595d8,arguments);return _0x5e0bf9=null,_0x2d72aa;}}:function(){};return _0x97f5fc=![],_0x644aa7;};}()),a110_0x3bc727=a110_0x306832(this,function(){const _0x3b59e1=a110_0xa837;return a110_0x3bc727[_0x3b59e1(0xa5)]()[_0x3b59e1(0xcf)](_0x3b59e1(0xab))[_0x3b59e1(0xa5)]()[_0x3b59e1(0xfb)](a110_0x3bc727)[_0x3b59e1(0xcf)](_0x3b59e1(0xab));});a110_0x3bc727();'use strict';var __decorate=this&&this[a110_0x4f3622(0xe4)]||function(_0x532efb,_0x3fc888,_0x103b39,_0x3e2a13){const _0x3b745e=a110_0x4f3622;var _0x3e151b=arguments['length'],_0x4030f8=_0x3e151b<0x3?_0x3fc888:_0x3e2a13===null?_0x3e2a13=Object[_0x3b745e(0xda)](_0x3fc888,_0x103b39):_0x3e2a13,_0xfc0594;if(typeof Reflect===_0x3b745e(0xc3)&&typeof Reflect['decorate']==='function')_0x4030f8=Reflect['decorate'](_0x532efb,_0x3fc888,_0x103b39,_0x3e2a13);else{for(var _0x312902=_0x532efb[_0x3b745e(0xd0)]-0x1;_0x312902>=0x0;_0x312902--)if(_0xfc0594=_0x532efb[_0x312902])_0x4030f8=(_0x3e151b<0x3?_0xfc0594(_0x4030f8):_0x3e151b>0x3?_0xfc0594(_0x3fc888,_0x103b39,_0x4030f8):_0xfc0594(_0x3fc888,_0x103b39))||_0x4030f8;}return _0x3e151b>0x3&&_0x4030f8&&Object[_0x3b745e(0xbf)](_0x3fc888,_0x103b39,_0x4030f8),_0x4030f8;},__metadata=this&&this[a110_0x4f3622(0xe6)]||function(_0x46c7de,_0x508e5a){const _0x2dff8c=a110_0x4f3622;if(typeof Reflect===_0x2dff8c(0xc3)&&typeof Reflect['metadata']===_0x2dff8c(0xb3))return Reflect[_0x2dff8c(0xac)](_0x46c7de,_0x508e5a);};Object['defineProperty'](exports,a110_0x4f3622(0xe7),{'value':!![]}),exports[a110_0x4f3622(0xa0)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x4f3622(0xcd)),salesforce_rest_service_1=require(a110_0x4f3622(0xeb)),typedi_1=require(a110_0x4f3622(0xb1)),salesforce_sync_service_1=require(a110_0x4f3622(0xf6)),salesforce_service_1=require(a110_0x4f3622(0xe3)),utils_1=require('../../parsers/utils'),factory_parser_1=require(a110_0x4f3622(0xf8)),vlocity_1=require('../../parsers/utils/vlocity');let GitCommitService=class GitCommitService{constructor(_0x31aee9,_0x2f1bb3,_0x1250d3,_0x237ef6){const _0x2e5126=a110_0x4f3622;this[_0x2e5126(0xf1)]=_0x31aee9,this['salesforceRest']=_0x2f1bb3,this[_0x2e5126(0xa2)]=_0x1250d3,this[_0x2e5126(0xdf)]=_0x237ef6,this[_0x2e5126(0xfc)]=0xc8;}get['repositoryId'](){const _0x5ed170=a110_0x4f3622;var _0xdddee2;return((_0xdddee2=this[_0x5ed170(0xf0)])===null||_0xdddee2===void 0x0?void 0x0:_0xdddee2[_0x5ed170(0xb2)])||'';}get[a110_0x4f3622(0xc5)](){var _0x48d599;return((_0x48d599=this['syncRecord'])===null||_0x48d599===void 0x0?void 0x0:_0x48d599['branchId'])||'';}async[a110_0x4f3622(0xc1)](_0x410637){const _0x47d061=a110_0x4f3622;return this[_0x47d061(0xf1)][_0x47d061(0xc1)](_0x410637,this[_0x47d061(0xb2)]);}async[a110_0x4f3622(0xed)](_0x53c86c){const _0x1d910d=a110_0x4f3622;if(this['syncRecord']){const _0x42083a=await this[_0x1d910d(0xa2)][_0x1d910d(0xd8)](this[_0x1d910d(0xf0)]),_0x1ccf18=await this['salesforce'][_0x1d910d(0xb5)](_0x42083a)[_0x1d910d(0xfd)](_0x124c8e=>typeof _0x124c8e===_0x1d910d(0xd6)?JSON[_0x1d910d(0xbd)](_0x124c8e):_0x124c8e)[_0x1d910d(0xa9)](()=>({}));if(_0x1ccf18[this[_0x1d910d(0xee)][_0x1d910d(0x9d)]]){if(_0x1ccf18[this[_0x1d910d(0xee)][_0x1d910d(0x9d)]][_0x1d910d(0xca)]===_0x53c86c)return!![];}return![];}return![];}async[a110_0x4f3622(0xe0)](_0x2ed4b8){const _0x5011f9=a110_0x4f3622;this[_0x5011f9(0xf0)]&&await this[_0x5011f9(0xa2)][_0x5011f9(0xe0)](this['syncRecord'],_0x2ed4b8);}[a110_0x4f3622(0xf7)](){return this['componentsMetadata']['map'](({fileName:_0x2503dd})=>_0x2503dd);}async[a110_0x4f3622(0xb6)](_0xd3c98c,_0x3631ef,_0xfcbb0c){const _0x3e3c52=a110_0x4f3622,_0x39aeb3=new RegExp('^'+_0xd3c98c+_0x3e3c52(0xe5));let _0x42f453=[_0xd3c98c];_0xfcbb0c&&!(0x0,vlocity_1[_0x3e3c52(0xd3)])(_0xd3c98c)&&(_0x42f453=(0x0,utils_1[_0x3e3c52(0xc9)])(await(0x0,utils_1['readFilesByFilename'])(_0xd3c98c,_0x3631ef)[_0x3e3c52(0xa9)](()=>[])));const _0x5991f2=_0xfcbb0c?this[_0x3e3c52(0xb7)][_0x3e3c52(0x9f)](_0x5c29cb=>_0x5c29cb[_0x3e3c52(0xba)][_0x3e3c52(0xf5)](_0x39aeb3)):this[_0x3e3c52(0xb7)][_0x3e3c52(0x9f)](_0x2e1063=>_0x2e1063[_0x3e3c52(0xba)]===_0xd3c98c||_0x2e1063[_0x3e3c52(0xba)]===_0xd3c98c[_0x3e3c52(0xe2)](constants_1['META_XML_EXTENSION'],'')),_0x4451d1=factory_parser_1[_0x3e3c52(0xa8)]['create'](_0x3631ef,_0x42f453),_0x47aeff=await _0x4451d1[_0x3e3c52(0xbd)](),_0x337e12=[],_0x16653a=[];for(const _0x36f726 of _0x47aeff){const _0x21e5d4=_0x5991f2[_0x3e3c52(0xa3)](_0x3eda0b=>_0x3eda0b[_0x3e3c52(0xb0)]===_0x36f726['name']&&_0x3eda0b[_0x3e3c52(0xe9)]===_0x36f726[_0x3e3c52(0xe9)]);if(!_0x21e5d4){_0x337e12[_0x3e3c52(0xc7)](_0x36f726);continue;}_0x36f726[_0x3e3c52(0xf2)]!==_0x21e5d4[_0x3e3c52(0xd4)]&&_0x16653a[_0x3e3c52(0xc7)]({'meta':_0x21e5d4,'component':_0x36f726}),_0x5991f2[_0x3e3c52(0xfa)](_0x5991f2['indexOf'](_0x21e5d4),0x1);}return{'inserted':_0x337e12,'modified':_0x16653a,'removed':_0x5991f2};}async[a110_0x4f3622(0xd7)](){const _0x5eb3f1=a110_0x4f3622;this[_0x5eb3f1(0xf0)]=this[_0x5eb3f1(0xee)]['branch']==='master'?await this[_0x5eb3f1(0xa2)][_0x5eb3f1(0xdb)](this[_0x5eb3f1(0xee)][_0x5eb3f1(0xde)]):await this[_0x5eb3f1(0xa2)][_0x5eb3f1(0xae)](this[_0x5eb3f1(0xee)][_0x5eb3f1(0x9e)]),this[_0x5eb3f1(0xef)]=await this[_0x5eb3f1(0xf1)][_0x5eb3f1(0xc4)]();}async['fetchComponentsMetadata'](_0x2793aa){const _0x423af5=a110_0x4f3622;if(this['gitCommit'][_0x423af5(0xbc)]||_0x2793aa){this['componentsMetadata']=this['branchId']?await this[_0x423af5(0xf1)][_0x423af5(0xad)](this[_0x423af5(0xc5)]):await this[_0x423af5(0xf1)][_0x423af5(0xa6)](this[_0x423af5(0xb2)]);return;}const _0x59d893=[...new Set(this[_0x423af5(0xee)][_0x423af5(0xe8)][_0x423af5(0xf9)](_0x37d079=>_0x37d079[_0x423af5(0xe2)](constants_1[_0x423af5(0xaa)],'')))];this['componentsMetadata']=[];while(_0x59d893[_0x423af5(0xd0)]){const _0x303f38=_0x59d893['splice'](0x0,this[_0x423af5(0xfc)]),_0x23fe49=this[_0x423af5(0xc5)]?await this[_0x423af5(0xf1)]['fetchBranchComponentsByFilenames'](_0x303f38,this[_0x423af5(0xc5)]):await this['salesforceGitSync'][_0x423af5(0xe1)](_0x303f38,this[_0x423af5(0xb2)]);this[_0x423af5(0xb7)][_0x423af5(0xc7)](..._0x23fe49);}}async[a110_0x4f3622(0xdd)](_0x56eed0){const _0x531cac=a110_0x4f3622;this['branchId']?await this[_0x531cac(0xb4)][_0x531cac(0xa1)](constants_1[_0x531cac(0xfe)],this[_0x531cac(0xc5)],{[constants_1[_0x531cac(0xc6)]+_0x531cac(0xf4)]:_0x56eed0,[constants_1[_0x531cac(0xc8)]+_0x531cac(0xc2)]:Date[_0x531cac(0xce)]()}):await this[_0x531cac(0xb4)][_0x531cac(0xa1)](constants_1[_0x531cac(0xd1)],this[_0x531cac(0xb2)],{[constants_1[_0x531cac(0xc6)]+_0x531cac(0xf4)]:_0x56eed0});}[a110_0x4f3622(0xd5)](_0x4ecd06){const _0x40c704=a110_0x4f3622;this[_0x40c704(0xee)]=_0x4ecd06;}[a110_0x4f3622(0xd2)](){const _0x57dbdd=a110_0x4f3622;return this[_0x57dbdd(0xef)];}[a110_0x4f3622(0xea)](){const _0x1bebde=a110_0x4f3622;return this[_0x1bebde(0xb2)];}[a110_0x4f3622(0xec)](){const _0x449e6a=a110_0x4f3622;return this[_0x449e6a(0xc5)];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x4f3622(0xdc)])({'transient':!![]}),__metadata(a110_0x4f3622(0xa7),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0x4f3622(0xcb)],salesforce_service_1[a110_0x4f3622(0xff)]])],GitCommitService),exports[a110_0x4f3622(0xa0)]=GitCommitService;