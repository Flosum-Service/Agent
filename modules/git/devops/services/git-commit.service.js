const a110_0x3999ba=a110_0x4cff;(function(_0x447786,_0x313259){const _0x45585b=a110_0x4cff,_0x2020c6=_0x447786();while(!![]){try{const _0x573996=-parseInt(_0x45585b(0xd3))/0x1+parseInt(_0x45585b(0xa3))/0x2+parseInt(_0x45585b(0xcf))/0x3*(-parseInt(_0x45585b(0x9f))/0x4)+parseInt(_0x45585b(0xcc))/0x5*(-parseInt(_0x45585b(0xa0))/0x6)+-parseInt(_0x45585b(0xac))/0x7*(parseInt(_0x45585b(0xb8))/0x8)+-parseInt(_0x45585b(0xa4))/0x9*(parseInt(_0x45585b(0xc5))/0xa)+-parseInt(_0x45585b(0xce))/0xb*(-parseInt(_0x45585b(0xb0))/0xc);if(_0x573996===_0x313259)break;else _0x2020c6['push'](_0x2020c6['shift']());}catch(_0x2de187){_0x2020c6['push'](_0x2020c6['shift']());}}}(a110_0x2fff,0xd3db2));const a110_0x164fb2=(function(){let _0x797c26=!![];return function(_0x53ed8c,_0x12fa0f){const _0x3dbf3d=_0x797c26?function(){const _0x1b301b=a110_0x4cff;if(_0x12fa0f){const _0x313132=_0x12fa0f[_0x1b301b(0xe7)](_0x53ed8c,arguments);return _0x12fa0f=null,_0x313132;}}:function(){};return _0x797c26=![],_0x3dbf3d;};}()),a110_0x16c68d=a110_0x164fb2(this,function(){const _0x33afa2=a110_0x4cff;return a110_0x16c68d[_0x33afa2(0xb2)]()[_0x33afa2(0xd4)](_0x33afa2(0xde))['toString']()[_0x33afa2(0xcd)](a110_0x16c68d)[_0x33afa2(0xd4)](_0x33afa2(0xde));});a110_0x16c68d();'use strict';function a110_0x2fff(){const _0x28f9aa=['branch','branchId','../../salesforce/services/salesforce-rest.service','5897488TDWkms','GitCommitService','syncRecord','checkSyncStatus','repository','getRecordTypes','lastCommit','setCommitDto','Synchronization_Status__c','SalesforceGitSyncService','SalesforceService','replace','fetchRepositoryOrBranchData','20CzeaFj','fetchBranchComponents','fetchRepositoryComponentsByFilenames','crc','typedi','match','SalesforceRestService','7142840XFQjTY','constructor','11RTlMAx','9NQeiXJ','../../parsers/mdapi/parser-v2','SalesforceSyncService','getRemoteStateAttachmentId','660951LqVcPo','search','([./-]{1}|$)','__esModule','FLOSUM_GIT_NAMESPACE','map','gitCommit','updateStatus','force','object','getRepositoryRecordByName','(((.+)+)+)+$','TASKS_PER_TICK','patch','getComponentRecordTypes','salesforce','proceedFile','then','fetchComponentsMetadata','salesforceSync','apply','decorate','FLOSUM_NAMESPACE','repositoryId','name','../../salesforce/services/salesforce-git-sync.service','__metadata','salesforceRest','readFilesByFilename','salesforceGitSync','updateRemoteState','recordTypes','../../../../constants','now','filterParserPaths','../../salesforce/services/salesforce.service','fetchBranchComponentsByFilenames','getBranchId','fetchRepositoryComponents','master','parse','getOwnPropertyDescriptor','Service','MDApiParserV2','defineProperty','META_XML_EXTENSION','fileNames','../../parsers/utils','2279708iOByJV','6UrPcnA','createCommit','Last_Updated_On__c','2964788xPyxsz','2216115PGDqjR','type','crc32','find','metadata','filter','fileName','length','7wmSvYl','function','push','FLOSUM_REPOSITORY','52971888GFKMNk','string','toString','componentsMetadata','indexOf'];a110_0x2fff=function(){return _0x28f9aa;};return a110_0x2fff();}var __decorate=this&&this['__decorate']||function(_0x3976cc,_0x548082,_0x653ac2,_0x25f31a){const _0x5985f8=a110_0x4cff;var _0x38f3e6=arguments[_0x5985f8(0xab)],_0x35f373=_0x38f3e6<0x3?_0x548082:_0x25f31a===null?_0x25f31a=Object[_0x5985f8(0x98)](_0x548082,_0x653ac2):_0x25f31a,_0x31a124;if(typeof Reflect==='object'&&typeof Reflect[_0x5985f8(0xe8)]==='function')_0x35f373=Reflect[_0x5985f8(0xe8)](_0x3976cc,_0x548082,_0x653ac2,_0x25f31a);else{for(var _0x308d34=_0x3976cc[_0x5985f8(0xab)]-0x1;_0x308d34>=0x0;_0x308d34--)if(_0x31a124=_0x3976cc[_0x308d34])_0x35f373=(_0x38f3e6<0x3?_0x31a124(_0x35f373):_0x38f3e6>0x3?_0x31a124(_0x548082,_0x653ac2,_0x35f373):_0x31a124(_0x548082,_0x653ac2))||_0x35f373;}return _0x38f3e6>0x3&&_0x35f373&&Object[_0x5985f8(0x9b)](_0x548082,_0x653ac2,_0x35f373),_0x35f373;},__metadata=this&&this[a110_0x3999ba(0x89)]||function(_0x497536,_0x2163e3){const _0x7deb94=a110_0x3999ba;if(typeof Reflect===_0x7deb94(0xdc)&&typeof Reflect[_0x7deb94(0xa8)]===_0x7deb94(0xad))return Reflect[_0x7deb94(0xa8)](_0x497536,_0x2163e3);};Object[a110_0x3999ba(0x9b)](exports,a110_0x3999ba(0xd6),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require(a110_0x3999ba(0x8f)),salesforce_git_sync_service_1=require(a110_0x3999ba(0x88)),salesforce_rest_service_1=require(a110_0x3999ba(0xb7)),typedi_1=require(a110_0x3999ba(0xc9)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a110_0x3999ba(0x92)),parser_v2_1=require(a110_0x3999ba(0xd0)),utils_1=require(a110_0x3999ba(0x9e));function a110_0x4cff(_0x5612bf,_0xade476){const _0x27fc36=a110_0x2fff();return a110_0x4cff=function(_0x16c68d,_0x164fb2){_0x16c68d=_0x16c68d-0x88;let _0x2fffdb=_0x27fc36[_0x16c68d];return _0x2fffdb;},a110_0x4cff(_0x5612bf,_0xade476);}let GitCommitService=class GitCommitService{constructor(_0x4a55b7,_0x3859ce,_0x3ce25b,_0x41236f){const _0xb0406c=a110_0x3999ba;this[_0xb0406c(0x8c)]=_0x4a55b7,this['salesforceRest']=_0x3859ce,this[_0xb0406c(0xe6)]=_0x3ce25b,this[_0xb0406c(0xe2)]=_0x41236f,this[_0xb0406c(0xdf)]=0xc8;}get[a110_0x3999ba(0xea)](){const _0x5198cd=a110_0x3999ba;var _0x5b2b54;return((_0x5b2b54=this[_0x5198cd(0xba)])===null||_0x5b2b54===void 0x0?void 0x0:_0x5b2b54['repositoryId'])||'';}get[a110_0x3999ba(0xb6)](){const _0x51efbf=a110_0x3999ba;var _0x382cf7;return((_0x382cf7=this[_0x51efbf(0xba)])===null||_0x382cf7===void 0x0?void 0x0:_0x382cf7['branchId'])||'';}async[a110_0x3999ba(0xa1)](_0x474eb3){const _0x5bf76e=a110_0x3999ba;return this['salesforceGitSync'][_0x5bf76e(0xa1)](_0x474eb3,this[_0x5bf76e(0xea)]);}async[a110_0x3999ba(0xbb)](_0x205488){const _0x4167b8=a110_0x3999ba;if(this['syncRecord']){const _0x38dfb9=await this[_0x4167b8(0xe6)][_0x4167b8(0xd2)](this['syncRecord']),_0x14d98f=await this[_0x4167b8(0xe2)]['retrieveAttachment'](_0x38dfb9)[_0x4167b8(0xe4)](_0x4088f2=>typeof _0x4088f2===_0x4167b8(0xb1)?JSON[_0x4167b8(0x97)](_0x4088f2):_0x4088f2)['catch'](()=>({}));if(_0x14d98f[this['gitCommit']['repositoryGit']]){if(_0x14d98f[this[_0x4167b8(0xd9)]['repositoryGit']][_0x4167b8(0xbe)]===_0x205488)return!![];}return![];}return![];}async[a110_0x3999ba(0x8d)](_0x379e97){const _0x5e0851=a110_0x3999ba;this[_0x5e0851(0xba)]&&await this[_0x5e0851(0xe6)][_0x5e0851(0x8d)](this[_0x5e0851(0xba)],_0x379e97);}['getUnusedComponentsFilePaths'](){const _0x390a3b=a110_0x3999ba;return this[_0x390a3b(0xb3)][_0x390a3b(0xd8)](({fileName:_0x95189b})=>_0x95189b);}async[a110_0x3999ba(0xe3)](_0x4589f7,_0x3f9812,_0x40da4e){const _0x29f2fd=a110_0x3999ba,_0x2b451a=new RegExp('^'+_0x4589f7+_0x29f2fd(0xd5));let _0x1965b8=[_0x4589f7];_0x40da4e&&(_0x1965b8=(0x0,utils_1[_0x29f2fd(0x91)])(await(0x0,utils_1[_0x29f2fd(0x8b)])(_0x4589f7,_0x3f9812)['catch'](()=>[])));const _0x707198=_0x40da4e?this[_0x29f2fd(0xb3)][_0x29f2fd(0xa9)](_0x581123=>_0x581123['fileName'][_0x29f2fd(0xca)](_0x2b451a)):this[_0x29f2fd(0xb3)][_0x29f2fd(0xa9)](_0x4f6a61=>_0x4f6a61[_0x29f2fd(0xaa)]===_0x4589f7||_0x4f6a61[_0x29f2fd(0xaa)]===_0x4589f7[_0x29f2fd(0xc3)](constants_1[_0x29f2fd(0x9c)],'')),_0x3afee0=new parser_v2_1[(_0x29f2fd(0x9a))](_0x3f9812,_0x1965b8),_0x2c7304=await _0x3afee0['parse'](),_0xb6ec27=[],_0x3d62ef=[];for(const _0x2695e3 of _0x2c7304){const _0x5818ae=_0x707198[_0x29f2fd(0xa7)](_0x16224e=>_0x16224e[_0x29f2fd(0xeb)]===_0x2695e3[_0x29f2fd(0xeb)]&&_0x16224e[_0x29f2fd(0xa5)]===_0x2695e3['type']);if(!_0x5818ae){_0xb6ec27[_0x29f2fd(0xae)](_0x2695e3);continue;}_0x2695e3[_0x29f2fd(0xc8)]!==_0x5818ae[_0x29f2fd(0xa6)]&&_0x3d62ef[_0x29f2fd(0xae)]({'meta':_0x5818ae,'component':_0x2695e3}),_0x707198['splice'](_0x707198[_0x29f2fd(0xb4)](_0x5818ae),0x1);}return{'inserted':_0xb6ec27,'modified':_0x3d62ef,'removed':_0x707198};}async[a110_0x3999ba(0xc4)](){const _0x29552d=a110_0x3999ba;this['syncRecord']=this['gitCommit'][_0x29552d(0xb5)]===_0x29552d(0x96)?await this['salesforceSync'][_0x29552d(0xdd)](this[_0x29552d(0xd9)][_0x29552d(0xbc)]):await this[_0x29552d(0xe6)]['getBranchRecordByName'](this['gitCommit'][_0x29552d(0xb5)]),this[_0x29552d(0x8e)]=await this[_0x29552d(0x8c)][_0x29552d(0xe1)]();}async[a110_0x3999ba(0xe5)](_0x296b6b){const _0x514f15=a110_0x3999ba;if(this[_0x514f15(0xd9)][_0x514f15(0xdb)]||_0x296b6b){this['componentsMetadata']=this['branchId']?await this[_0x514f15(0x8c)][_0x514f15(0xc6)](this[_0x514f15(0xb6)]):await this['salesforceGitSync'][_0x514f15(0x95)](this['repositoryId']);return;}const _0x31f6ef=[...new Set(this[_0x514f15(0xd9)][_0x514f15(0x9d)][_0x514f15(0xd8)](_0x363815=>_0x363815[_0x514f15(0xc3)](constants_1[_0x514f15(0x9c)],'')))];this[_0x514f15(0xb3)]=[];while(_0x31f6ef['length']){const _0xf5897f=_0x31f6ef['splice'](0x0,this[_0x514f15(0xdf)]),_0x1514bb=this['branchId']?await this['salesforceGitSync'][_0x514f15(0x93)](_0xf5897f,this['branchId']):await this[_0x514f15(0x8c)][_0x514f15(0xc7)](_0xf5897f,this['repositoryId']);this[_0x514f15(0xb3)][_0x514f15(0xae)](..._0x1514bb);}}async[a110_0x3999ba(0xda)](_0x4b5d83){const _0x2a5be5=a110_0x3999ba;this['branchId']?await this[_0x2a5be5(0x8a)]['patch'](constants_1['FLOSUM_BRANCH'],this[_0x2a5be5(0xb6)],{[constants_1[_0x2a5be5(0xd7)]+'Synchronization_Status__c']:_0x4b5d83,[constants_1[_0x2a5be5(0xe9)]+_0x2a5be5(0xa2)]:Date[_0x2a5be5(0x90)]()}):await this[_0x2a5be5(0x8a)][_0x2a5be5(0xe0)](constants_1[_0x2a5be5(0xaf)],this[_0x2a5be5(0xea)],{[constants_1[_0x2a5be5(0xd7)]+_0x2a5be5(0xc0)]:_0x4b5d83});}[a110_0x3999ba(0xbf)](_0x384cba){const _0x516b63=a110_0x3999ba;this[_0x516b63(0xd9)]=_0x384cba;}[a110_0x3999ba(0xbd)](){return this['recordTypes'];}['getRepositoryId'](){return this['repositoryId'];}[a110_0x3999ba(0x94)](){const _0x36412e=a110_0x3999ba;return this[_0x36412e(0xb6)];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x3999ba(0x99)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a110_0x3999ba(0xc1)],salesforce_rest_service_1[a110_0x3999ba(0xcb)],salesforce_sync_service_1[a110_0x3999ba(0xd1)],salesforce_service_1[a110_0x3999ba(0xc2)]])],GitCommitService),exports[a110_0x3999ba(0xb9)]=GitCommitService;