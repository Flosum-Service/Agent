const a111_0x5bfae1=a111_0x39bb;(function(_0x14e7ab,_0x59dbdf){const _0x1b1779=a111_0x39bb,_0xf553f5=_0x14e7ab();while(!![]){try{const _0x41406e=-parseInt(_0x1b1779(0x21d))/0x1+-parseInt(_0x1b1779(0x20b))/0x2*(-parseInt(_0x1b1779(0x21c))/0x3)+parseInt(_0x1b1779(0x1ed))/0x4+parseInt(_0x1b1779(0x20f))/0x5*(parseInt(_0x1b1779(0x20e))/0x6)+-parseInt(_0x1b1779(0x21f))/0x7+parseInt(_0x1b1779(0x21b))/0x8*(parseInt(_0x1b1779(0x208))/0x9)+parseInt(_0x1b1779(0x1e4))/0xa*(parseInt(_0x1b1779(0x20a))/0xb);if(_0x41406e===_0x59dbdf)break;else _0xf553f5['push'](_0xf553f5['shift']());}catch(_0x85b812){_0xf553f5['push'](_0xf553f5['shift']());}}}(a111_0x5660,0x9ab22));const a111_0x1591ef=(function(){let _0x438bd7=!![];return function(_0x507ee4,_0x262ce0){const _0x53c811=_0x438bd7?function(){const _0x4797aa=a111_0x39bb;if(_0x262ce0){const _0x28dea8=_0x262ce0[_0x4797aa(0x1d2)](_0x507ee4,arguments);return _0x262ce0=null,_0x28dea8;}}:function(){};return _0x438bd7=![],_0x53c811;};}()),a111_0x443f60=a111_0x1591ef(this,function(){const _0x53e01f=a111_0x39bb;return a111_0x443f60[_0x53e01f(0x1e9)]()[_0x53e01f(0x202)]('(((.+)+)+)+$')[_0x53e01f(0x1e9)]()[_0x53e01f(0x1d7)](a111_0x443f60)[_0x53e01f(0x202)]('(((.+)+)+)+$');});function a111_0x5660(){const _0x28f002=['create','getBranchId','metadata','4504luCFHn','183kBOZbP','764962sdSZCa','syncRecord','8176448OULwww','crc','Last_Updated_On__c','catch','branch','createCommit','typedi','recordTypeName','PathUtils','splice','SalesforceSyncService','salesforceSync','SalesforceRestService','getUnusedComponentsFilePaths','apply','object','FactoryParser','indexOf','salesforce','constructor','function','lastCommit','recordType','recordTypes','string','Synchronization_Status__c','../../salesforce/services/salesforce.service','../utils/components.utils','name','fetchBranchComponents','Service','execute','20rMEJvX','map','../../salesforce/services/salesforce-rest.service','filterMetadataComponents','fileNames','toString','fetchRepositoryComponents','FLOSUM_GIT_NAMESPACE','__metadata','4158100DwXZEZ','fetchComponentsMetadata','defineProperty','updateRemoteState','design:paramtypes','TASKS_PER_TICK','FLOSUM_NAMESPACE','getOwnPropertyDescriptor','then','master','componentsMetadata','push','ComponentsUtils','branchId','retrieveAttachment','__esModule','setCommitDto','length','repository','repositoryGit','../../salesforce/services/salesforce-sync.service','search','crc32','../../salesforce/services/salesforce-git-sync.service','../utils/path.utils','getRemoteStateAttachmentId','repositoryId','1467gZThQB','type','1257509ahREyf','37684tcFXIL','getBranchRecordByName','gitCommit','36Skaxcd','47805KbkNvt','fetchRepositoryComponentsByFilenames','salesforceRest','checkSyncStatus','decorate','patch','FLOSUM_BRANCH','salesforceGitSync','GitCommitService'];a111_0x5660=function(){return _0x28f002;};return a111_0x5660();}a111_0x443f60();'use strict';function a111_0x39bb(_0x3ac14f,_0x3ab6d2){const _0x1efc5a=a111_0x5660();return a111_0x39bb=function(_0x443f60,_0x1591ef){_0x443f60=_0x443f60-0x1cf;let _0x56609d=_0x1efc5a[_0x443f60];return _0x56609d;},a111_0x39bb(_0x3ac14f,_0x3ab6d2);}var __decorate=this&&this['__decorate']||function(_0x203aaa,_0x50b38e,_0x40d6f3,_0x210093){const _0x542e16=a111_0x39bb;var _0x5ed910=arguments['length'],_0x3a9b0d=_0x5ed910<0x3?_0x50b38e:_0x210093===null?_0x210093=Object[_0x542e16(0x1f4)](_0x50b38e,_0x40d6f3):_0x210093,_0x31171c;if(typeof Reflect===_0x542e16(0x1d3)&&typeof Reflect[_0x542e16(0x213)]===_0x542e16(0x1d8))_0x3a9b0d=Reflect[_0x542e16(0x213)](_0x203aaa,_0x50b38e,_0x40d6f3,_0x210093);else{for(var _0x4a29bd=_0x203aaa['length']-0x1;_0x4a29bd>=0x0;_0x4a29bd--)if(_0x31171c=_0x203aaa[_0x4a29bd])_0x3a9b0d=(_0x5ed910<0x3?_0x31171c(_0x3a9b0d):_0x5ed910>0x3?_0x31171c(_0x50b38e,_0x40d6f3,_0x3a9b0d):_0x31171c(_0x50b38e,_0x40d6f3))||_0x3a9b0d;}return _0x5ed910>0x3&&_0x3a9b0d&&Object['defineProperty'](_0x50b38e,_0x40d6f3,_0x3a9b0d),_0x3a9b0d;},__metadata=this&&this[a111_0x5bfae1(0x1ec)]||function(_0x24e8b2,_0x56ddf5){const _0x26f245=a111_0x5bfae1;if(typeof Reflect==='object'&&typeof Reflect[_0x26f245(0x21a)]===_0x26f245(0x1d8))return Reflect['metadata'](_0x24e8b2,_0x56ddf5);};Object[a111_0x5bfae1(0x1ef)](exports,a111_0x5bfae1(0x1fc),{'value':!![]}),exports[a111_0x5bfae1(0x217)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a111_0x5bfae1(0x204)),salesforce_rest_service_1=require(a111_0x5bfae1(0x1e6)),typedi_1=require(a111_0x5bfae1(0x225)),salesforce_sync_service_1=require(a111_0x5bfae1(0x201)),salesforce_service_1=require(a111_0x5bfae1(0x1de)),factory_parser_1=require('../../parsers/factory.parser'),path_utils_1=require(a111_0x5bfae1(0x205)),components_utils_1=require(a111_0x5bfae1(0x1df));let GitCommitService=class GitCommitService{constructor(_0x5966e4,_0x4d2426,_0x3cc001,_0x1b3e67){const _0xe38e54=a111_0x5bfae1;this[_0xe38e54(0x216)]=_0x5966e4,this[_0xe38e54(0x211)]=_0x4d2426,this[_0xe38e54(0x1cf)]=_0x3cc001,this[_0xe38e54(0x1d6)]=_0x1b3e67,this[_0xe38e54(0x1f2)]=0xc8;}get[a111_0x5bfae1(0x207)](){const _0xf1bb52=a111_0x5bfae1;var _0x46602e;return((_0x46602e=this[_0xf1bb52(0x21e)])===null||_0x46602e===void 0x0?void 0x0:_0x46602e[_0xf1bb52(0x207)])||'';}get['branchId'](){const _0x10f610=a111_0x5bfae1;var _0x5db525;return((_0x5db525=this[_0x10f610(0x21e)])===null||_0x5db525===void 0x0?void 0x0:_0x5db525[_0x10f610(0x1fa)])||'';}get[a111_0x5bfae1(0x1da)](){const _0x5df3dc=a111_0x5bfae1;return this[_0x5df3dc(0x21e)][_0x5df3dc(0x226)];}async['createCommit'](_0x13701f){const _0x557291=a111_0x5bfae1;return this[_0x557291(0x216)][_0x557291(0x224)](_0x13701f,this['repositoryId']);}async[a111_0x5bfae1(0x212)](_0x2e62f6){const _0xa09211=a111_0x5bfae1;if(this[_0xa09211(0x21e)]){const _0x3d0ead=await this[_0xa09211(0x1cf)][_0xa09211(0x206)](this['syncRecord']),_0x1e0ab0=await this[_0xa09211(0x1d6)][_0xa09211(0x1fb)](_0x3d0ead)[_0xa09211(0x1f5)](_0xfe4b55=>typeof _0xfe4b55===_0xa09211(0x1dc)?JSON['parse'](_0xfe4b55):_0xfe4b55)[_0xa09211(0x222)](()=>({}));if(_0x1e0ab0[this[_0xa09211(0x20d)][_0xa09211(0x200)]]){if(_0x1e0ab0[this[_0xa09211(0x20d)][_0xa09211(0x200)]][_0xa09211(0x1d9)]===_0x2e62f6)return!![];}return![];}return![];}async[a111_0x5bfae1(0x1f0)](_0x2a0da6){const _0x27a2f9=a111_0x5bfae1;this[_0x27a2f9(0x21e)]&&await this[_0x27a2f9(0x1cf)]['updateRemoteState'](this[_0x27a2f9(0x21e)],_0x2a0da6);}[a111_0x5bfae1(0x1d1)](){const _0x156942=a111_0x5bfae1;return this['componentsMetadata'][_0x156942(0x1e5)](({fileName:_0x5ad47f})=>_0x5ad47f);}async['proceedFile'](_0x3d6af9,_0x3714f5,_0x282491){const _0x4c82e7=a111_0x5bfae1,_0x5c3648=await path_utils_1[_0x4c82e7(0x227)]['readComponentPaths'](this['syncRecord']['recordTypeName'],_0x3d6af9,_0x3714f5,_0x282491),_0x4c5677=components_utils_1[_0x4c82e7(0x1f9)][_0x4c82e7(0x1e7)](this[_0x4c82e7(0x1f7)],_0x3d6af9,_0x282491,this['syncRecord'][_0x4c82e7(0x226)]),_0x2b4f32=factory_parser_1[_0x4c82e7(0x1d4)][_0x4c82e7(0x218)]({'recordType':this[_0x4c82e7(0x21e)][_0x4c82e7(0x226)],'sourceDir':_0x3714f5,'paths':_0x5c3648}),_0x44ed23=await _0x2b4f32[_0x4c82e7(0x1e3)](),_0xdebf33=[],_0x216537=[];for(const _0x1bfa6b of _0x44ed23){const _0x458fb7=_0x4c5677['find'](_0x2d70b6=>_0x2d70b6[_0x4c82e7(0x1e0)]===_0x1bfa6b[_0x4c82e7(0x1e0)]&&_0x2d70b6['type']===_0x1bfa6b[_0x4c82e7(0x209)]);if(!_0x458fb7){_0xdebf33[_0x4c82e7(0x1f8)](_0x1bfa6b);continue;}_0x1bfa6b[_0x4c82e7(0x220)]!==_0x458fb7[_0x4c82e7(0x203)]&&_0x216537[_0x4c82e7(0x1f8)]({'meta':_0x458fb7,'component':_0x1bfa6b}),_0x4c5677['splice'](_0x4c5677[_0x4c82e7(0x1d5)](_0x458fb7),0x1);}return{'inserted':_0xdebf33,'modified':_0x216537,'removed':_0x4c5677};}async['fetchRepositoryOrBranchData'](){const _0x396164=a111_0x5bfae1;this[_0x396164(0x21e)]=this[_0x396164(0x20d)]['branch']===_0x396164(0x1f6)?await this[_0x396164(0x1cf)]['getRepositoryRecordByName'](this[_0x396164(0x20d)][_0x396164(0x1ff)]):await this[_0x396164(0x1cf)][_0x396164(0x20c)](this[_0x396164(0x20d)][_0x396164(0x223)]),this[_0x396164(0x1db)]=await this[_0x396164(0x216)]['getComponentRecordTypes']();}async[a111_0x5bfae1(0x1ee)](_0x29cd92){const _0x1ed36d=a111_0x5bfae1;if(this[_0x1ed36d(0x20d)]['force']||_0x29cd92){this[_0x1ed36d(0x1f7)]=this[_0x1ed36d(0x1fa)]?await this[_0x1ed36d(0x216)][_0x1ed36d(0x1e1)](this[_0x1ed36d(0x1fa)]):await this[_0x1ed36d(0x216)][_0x1ed36d(0x1ea)](this[_0x1ed36d(0x207)]);return;}const _0x3f387a=components_utils_1[_0x1ed36d(0x1f9)]['prepareComponentNamesForFetchMetadata'](this[_0x1ed36d(0x20d)][_0x1ed36d(0x1e8)],this['syncRecord'][_0x1ed36d(0x226)]);this[_0x1ed36d(0x1f7)]=[];while(_0x3f387a[_0x1ed36d(0x1fe)]){const _0x4f4385=_0x3f387a[_0x1ed36d(0x228)](0x0,this['TASKS_PER_TICK']),_0x3e8608=this[_0x1ed36d(0x1fa)]?await this[_0x1ed36d(0x216)]['fetchBranchComponentsByFilenames'](_0x4f4385,this['branchId']):await this[_0x1ed36d(0x216)][_0x1ed36d(0x210)](_0x4f4385,this[_0x1ed36d(0x207)]);this[_0x1ed36d(0x1f7)]['push'](..._0x3e8608);}}async['updateStatus'](_0x33ea6c){const _0x51cec4=a111_0x5bfae1;this['branchId']?await this[_0x51cec4(0x211)][_0x51cec4(0x214)](constants_1[_0x51cec4(0x215)],this[_0x51cec4(0x1fa)],{[constants_1[_0x51cec4(0x1eb)]+_0x51cec4(0x1dd)]:_0x33ea6c,[constants_1[_0x51cec4(0x1f3)]+_0x51cec4(0x221)]:Date['now']()}):await this[_0x51cec4(0x211)]['patch'](constants_1['FLOSUM_REPOSITORY'],this[_0x51cec4(0x207)],{[constants_1[_0x51cec4(0x1eb)]+_0x51cec4(0x1dd)]:_0x33ea6c});}[a111_0x5bfae1(0x1fd)](_0x3a70e1){const _0x107c22=a111_0x5bfae1;this[_0x107c22(0x20d)]=_0x3a70e1;}['getRecordTypes'](){const _0x175bc2=a111_0x5bfae1;return this[_0x175bc2(0x1db)];}['getRepositoryId'](){const _0x51f189=a111_0x5bfae1;return this[_0x51f189(0x207)];}[a111_0x5bfae1(0x219)](){const _0x29018e=a111_0x5bfae1;return this[_0x29018e(0x1fa)];}};GitCommitService=__decorate([(0x0,typedi_1[a111_0x5bfae1(0x1e2)])({'transient':!![]}),__metadata(a111_0x5bfae1(0x1f1),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a111_0x5bfae1(0x1d0)],salesforce_sync_service_1[a111_0x5bfae1(0x229)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a111_0x5bfae1(0x217)]=GitCommitService;