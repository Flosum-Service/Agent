const a111_0x29c494=a111_0xae44;(function(_0x4947cc,_0x320605){const _0x2b9a7c=a111_0xae44,_0x5a8cb4=_0x4947cc();while(!![]){try{const _0x18c684=-parseInt(_0x2b9a7c(0x127))/0x1*(parseInt(_0x2b9a7c(0x16d))/0x2)+parseInt(_0x2b9a7c(0x16b))/0x3+-parseInt(_0x2b9a7c(0x12e))/0x4+parseInt(_0x2b9a7c(0x14a))/0x5+parseInt(_0x2b9a7c(0x175))/0x6+parseInt(_0x2b9a7c(0x159))/0x7*(parseInt(_0x2b9a7c(0x165))/0x8)+-parseInt(_0x2b9a7c(0x13e))/0x9;if(_0x18c684===_0x320605)break;else _0x5a8cb4['push'](_0x5a8cb4['shift']());}catch(_0x21286e){_0x5a8cb4['push'](_0x5a8cb4['shift']());}}}(a111_0x5507,0x84bfe));const a111_0xf9d2fa=(function(){let _0x4be1a9=!![];return function(_0x52b466,_0x2da446){const _0x42574b=_0x4be1a9?function(){const _0x98894a=a111_0xae44;if(_0x2da446){const _0xfcccb7=_0x2da446[_0x98894a(0x12a)](_0x52b466,arguments);return _0x2da446=null,_0xfcccb7;}}:function(){};return _0x4be1a9=![],_0x42574b;};}()),a111_0x49200b=a111_0xf9d2fa(this,function(){const _0x466028=a111_0xae44;return a111_0x49200b['toString']()['search'](_0x466028(0x172))[_0x466028(0x179)]()[_0x466028(0x14c)](a111_0x49200b)[_0x466028(0x158)]('(((.+)+)+)+$');});a111_0x49200b();'use strict';var __decorate=this&&this['__decorate']||function(_0x30d606,_0x4e79f2,_0x4f7a45,_0x1f6142){const _0x5b1f5c=a111_0xae44;var _0x43d22a=arguments[_0x5b1f5c(0x16e)],_0x1ee06b=_0x43d22a<0x3?_0x4e79f2:_0x1f6142===null?_0x1f6142=Object[_0x5b1f5c(0x143)](_0x4e79f2,_0x4f7a45):_0x1f6142,_0xe466d;if(typeof Reflect===_0x5b1f5c(0x152)&&typeof Reflect[_0x5b1f5c(0x124)]===_0x5b1f5c(0x131))_0x1ee06b=Reflect[_0x5b1f5c(0x124)](_0x30d606,_0x4e79f2,_0x4f7a45,_0x1f6142);else{for(var _0x25d480=_0x30d606['length']-0x1;_0x25d480>=0x0;_0x25d480--)if(_0xe466d=_0x30d606[_0x25d480])_0x1ee06b=(_0x43d22a<0x3?_0xe466d(_0x1ee06b):_0x43d22a>0x3?_0xe466d(_0x4e79f2,_0x4f7a45,_0x1ee06b):_0xe466d(_0x4e79f2,_0x4f7a45))||_0x1ee06b;}return _0x43d22a>0x3&&_0x1ee06b&&Object[_0x5b1f5c(0x160)](_0x4e79f2,_0x4f7a45,_0x1ee06b),_0x1ee06b;},__metadata=this&&this[a111_0x29c494(0x176)]||function(_0x866734,_0xe3ac7c){const _0x3a6fe9=a111_0x29c494;if(typeof Reflect===_0x3a6fe9(0x152)&&typeof Reflect['metadata']===_0x3a6fe9(0x131))return Reflect[_0x3a6fe9(0x14f)](_0x866734,_0xe3ac7c);};function a111_0x5507(){const _0x1e224c=['2174510QVqlvr','../../salesforce/services/salesforce-git-sync.service','constructor','../utils/components.utils','gitCommit','metadata','recordType','TASKS_PER_TICK','object','Last_Updated_On__c','salesforceSync','force','string','now','search','7dTQzDG','checkSyncStatus','create','patch','branch','fetchRepositoryComponents','map','defineProperty','Service','filterMetadataComponents','salesforce','prepareComponentNamesForFetchMetadata','8472952dcqdQk','../../salesforce/services/salesforce-sync.service','setCommitDto','design:paramtypes','find','repositoryId','714321bERmYW','recordTypeName','2dzIPaY','length','repositoryGit','typedi','../../parsers/factory.parser','(((.+)+)+)+$','updateRemoteState','getRecordTypes','5421642SdeLOo','__metadata','getBranchRecordByName','updateStatus','toString','createCommit','getBranchId','push','__esModule','GitCommitService','../../salesforce/services/salesforce-rest.service','decorate','SalesforceSyncService','syncRecord','330714NZpBSn','fetchRepositoryOrBranchData','FLOSUM_REPOSITORY','apply','getRemoteStateAttachmentId','fetchRepositoryComponentsByFilenames','fileNames','3061868wtYJMB','splice','then','function','componentsMetadata','FLOSUM_BRANCH','crc32','execute','Synchronization_Status__c','repository','getUnusedComponentsFilePaths','retrieveAttachment','type','salesforceGitSync','SalesforceGitSyncService','branchId','8962308KyWzbR','parse','fetchComponentsMetadata','name','lastCommit','getOwnPropertyDescriptor','salesforceRest','SalesforceRestService','ComponentsUtils','../../../../constants','FLOSUM_GIT_NAMESPACE','crc'];a111_0x5507=function(){return _0x1e224c;};return a111_0x5507();}Object[a111_0x29c494(0x160)](exports,a111_0x29c494(0x17d),{'value':!![]}),exports[a111_0x29c494(0x122)]=void 0x0;const constants_1=require(a111_0x29c494(0x147)),salesforce_git_sync_service_1=require(a111_0x29c494(0x14b)),salesforce_rest_service_1=require(a111_0x29c494(0x123)),typedi_1=require(a111_0x29c494(0x170)),salesforce_sync_service_1=require(a111_0x29c494(0x166)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),factory_parser_1=require(a111_0x29c494(0x171)),path_utils_1=require('../utils/path.utils'),components_utils_1=require(a111_0x29c494(0x14d));function a111_0xae44(_0x449494,_0x27ba22){const _0x1e8769=a111_0x5507();return a111_0xae44=function(_0x49200b,_0xf9d2fa){_0x49200b=_0x49200b-0x122;let _0x5507a2=_0x1e8769[_0x49200b];return _0x5507a2;},a111_0xae44(_0x449494,_0x27ba22);}let GitCommitService=class GitCommitService{constructor(_0x5e8ed2,_0x44bdba,_0x19bf8c,_0x117ea8){const _0x3ad7cc=a111_0x29c494;this[_0x3ad7cc(0x13b)]=_0x5e8ed2,this[_0x3ad7cc(0x144)]=_0x44bdba,this['salesforceSync']=_0x19bf8c,this[_0x3ad7cc(0x163)]=_0x117ea8,this[_0x3ad7cc(0x151)]=0xc8;}get[a111_0x29c494(0x16a)](){const _0x412c56=a111_0x29c494;var _0x4f33ed;return((_0x4f33ed=this['syncRecord'])===null||_0x4f33ed===void 0x0?void 0x0:_0x4f33ed[_0x412c56(0x16a)])||'';}get[a111_0x29c494(0x13d)](){const _0x56712e=a111_0x29c494;var _0x29c032;return((_0x29c032=this[_0x56712e(0x126)])===null||_0x29c032===void 0x0?void 0x0:_0x29c032[_0x56712e(0x13d)])||'';}get[a111_0x29c494(0x150)](){const _0x285ba2=a111_0x29c494;return this[_0x285ba2(0x126)]['recordTypeName'];}async[a111_0x29c494(0x17a)](_0x1b8cef){const _0x28e781=a111_0x29c494;return this[_0x28e781(0x13b)][_0x28e781(0x17a)](_0x1b8cef,this[_0x28e781(0x16a)]);}async[a111_0x29c494(0x15a)](_0x12fa60){const _0x2c69ef=a111_0x29c494;if(this[_0x2c69ef(0x126)]){const _0xfd6f2a=await this[_0x2c69ef(0x154)][_0x2c69ef(0x12b)](this['syncRecord']),_0x7f9c5=await this[_0x2c69ef(0x163)][_0x2c69ef(0x139)](_0xfd6f2a)[_0x2c69ef(0x130)](_0x4de479=>typeof _0x4de479===_0x2c69ef(0x156)?JSON[_0x2c69ef(0x13f)](_0x4de479):_0x4de479)['catch'](()=>({}));if(_0x7f9c5[this[_0x2c69ef(0x14e)][_0x2c69ef(0x16f)]]){if(_0x7f9c5[this[_0x2c69ef(0x14e)][_0x2c69ef(0x16f)]][_0x2c69ef(0x142)]===_0x12fa60)return!![];}return![];}return![];}async[a111_0x29c494(0x173)](_0x44ac9b){const _0x44497e=a111_0x29c494;this['syncRecord']&&await this[_0x44497e(0x154)][_0x44497e(0x173)](this[_0x44497e(0x126)],_0x44ac9b);}[a111_0x29c494(0x138)](){const _0x3cf3c7=a111_0x29c494;return this[_0x3cf3c7(0x132)][_0x3cf3c7(0x15f)](({fileName:_0x573e47})=>_0x573e47);}async['proceedFile'](_0x439a92,_0x54293d,_0x144c94){const _0x1829c7=a111_0x29c494,_0x41ca41=await path_utils_1['PathUtils']['readComponentPaths'](this['syncRecord'][_0x1829c7(0x16c)],_0x439a92,_0x54293d,_0x144c94),_0x27431f=components_utils_1[_0x1829c7(0x146)][_0x1829c7(0x162)](this[_0x1829c7(0x132)],_0x439a92,_0x144c94,this[_0x1829c7(0x126)][_0x1829c7(0x16c)]),_0x3e1569=factory_parser_1['FactoryParser'][_0x1829c7(0x15b)]({'recordType':this[_0x1829c7(0x126)][_0x1829c7(0x16c)],'sourceDir':_0x54293d,'paths':_0x41ca41}),_0x52363=await _0x3e1569[_0x1829c7(0x135)](),_0x32383d=[],_0x25e1b7=[];for(const _0x2aabd5 of _0x52363){const _0x38d761=_0x27431f[_0x1829c7(0x169)](_0x3f8a4f=>_0x3f8a4f[_0x1829c7(0x141)]===_0x2aabd5[_0x1829c7(0x141)]&&_0x3f8a4f[_0x1829c7(0x13a)]===_0x2aabd5[_0x1829c7(0x13a)]);if(!_0x38d761){_0x32383d[_0x1829c7(0x17c)](_0x2aabd5);continue;}_0x2aabd5[_0x1829c7(0x149)]!==_0x38d761[_0x1829c7(0x134)]&&_0x25e1b7[_0x1829c7(0x17c)]({'meta':_0x38d761,'component':_0x2aabd5}),_0x27431f[_0x1829c7(0x12f)](_0x27431f['indexOf'](_0x38d761),0x1);}return{'inserted':_0x32383d,'modified':_0x25e1b7,'removed':_0x27431f};}async[a111_0x29c494(0x128)](){const _0x3a973f=a111_0x29c494;this[_0x3a973f(0x126)]=this[_0x3a973f(0x14e)][_0x3a973f(0x15d)]==='master'?await this['salesforceSync']['getRepositoryRecordByName'](this[_0x3a973f(0x14e)][_0x3a973f(0x137)]):await this['salesforceSync'][_0x3a973f(0x177)](this['gitCommit']['branch']),this['recordTypes']=await this['salesforceGitSync']['getComponentRecordTypes']();}async[a111_0x29c494(0x140)](_0x386773){const _0x4d6253=a111_0x29c494;if(this[_0x4d6253(0x14e)][_0x4d6253(0x155)]||_0x386773){this[_0x4d6253(0x132)]=this[_0x4d6253(0x13d)]?await this[_0x4d6253(0x13b)]['fetchBranchComponents'](this['branchId']):await this['salesforceGitSync'][_0x4d6253(0x15e)](this[_0x4d6253(0x16a)]);return;}const _0x148b51=components_utils_1['ComponentsUtils'][_0x4d6253(0x164)](this[_0x4d6253(0x14e)][_0x4d6253(0x12d)],this[_0x4d6253(0x126)]['recordTypeName']);this['componentsMetadata']=[];while(_0x148b51[_0x4d6253(0x16e)]){const _0x22a06d=_0x148b51['splice'](0x0,this[_0x4d6253(0x151)]),_0x3c92a9=this[_0x4d6253(0x13d)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0x22a06d,this['branchId']):await this[_0x4d6253(0x13b)][_0x4d6253(0x12c)](_0x22a06d,this['repositoryId']);this['componentsMetadata'][_0x4d6253(0x17c)](..._0x3c92a9);}}async[a111_0x29c494(0x178)](_0x26dc0c){const _0x1ce728=a111_0x29c494;this[_0x1ce728(0x13d)]?await this[_0x1ce728(0x144)][_0x1ce728(0x15c)](constants_1[_0x1ce728(0x133)],this[_0x1ce728(0x13d)],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Synchronization_Status__c']:_0x26dc0c,[constants_1['FLOSUM_NAMESPACE']+_0x1ce728(0x153)]:Date[_0x1ce728(0x157)]()}):await this[_0x1ce728(0x144)][_0x1ce728(0x15c)](constants_1[_0x1ce728(0x129)],this[_0x1ce728(0x16a)],{[constants_1[_0x1ce728(0x148)]+_0x1ce728(0x136)]:_0x26dc0c});}[a111_0x29c494(0x167)](_0x3809a0){const _0x4051e3=a111_0x29c494;this[_0x4051e3(0x14e)]=_0x3809a0;}[a111_0x29c494(0x174)](){return this['recordTypes'];}['getRepositoryId'](){const _0x46018e=a111_0x29c494;return this[_0x46018e(0x16a)];}[a111_0x29c494(0x17b)](){const _0x2cf723=a111_0x29c494;return this[_0x2cf723(0x13d)];}};GitCommitService=__decorate([(0x0,typedi_1[a111_0x29c494(0x161)])({'transient':!![]}),__metadata(a111_0x29c494(0x168),[salesforce_git_sync_service_1[a111_0x29c494(0x13c)],salesforce_rest_service_1[a111_0x29c494(0x145)],salesforce_sync_service_1[a111_0x29c494(0x125)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a111_0x29c494(0x122)]=GitCommitService;