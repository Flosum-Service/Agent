const a110_0x5d68d6=a110_0xfa7f;(function(_0x3e8100,_0x44f63d){const _0x1ccb5c=a110_0xfa7f,_0x62db0d=_0x3e8100();while(!![]){try{const _0x48003b=parseInt(_0x1ccb5c(0x121))/0x1+parseInt(_0x1ccb5c(0x120))/0x2+-parseInt(_0x1ccb5c(0xe1))/0x3*(-parseInt(_0x1ccb5c(0x12f))/0x4)+parseInt(_0x1ccb5c(0x10f))/0x5*(parseInt(_0x1ccb5c(0x12a))/0x6)+-parseInt(_0x1ccb5c(0x122))/0x7+-parseInt(_0x1ccb5c(0x136))/0x8*(parseInt(_0x1ccb5c(0xe6))/0x9)+parseInt(_0x1ccb5c(0x100))/0xa;if(_0x48003b===_0x44f63d)break;else _0x62db0d['push'](_0x62db0d['shift']());}catch(_0x4b53b4){_0x62db0d['push'](_0x62db0d['shift']());}}}(a110_0x63bd,0xba6f7));function a110_0x63bd(){const _0x34a1d1=['lastCommit','catch','getRecordTypes','6997030lhjsNO','fetchComponentsMetadata','salesforce','../../parsers/utils','name','readFilesByFilename','../../salesforce/services/salesforce-git-sync.service','crc32','../../salesforce/services/salesforce-rest.service','repositoryGit','then','push','getUnusedComponentsFilePaths','apply','toString','1835590XeMRZu','master','checkSyncStatus','getRepositoryId','updateStatus','gitCommit','META_XML_EXTENSION','FLOSUM_BRANCH','crc','replace','function','createCommit','FLOSUM_REPOSITORY','proceedFile','Service','SalesforceSyncService','fetchRepositoryOrBranchData','4308vieUvB','526798rBQWzI','6701086bZJvar','repositoryId','search','SalesforceRestService','([./-]{1}|$)','fetchBranchComponents','salesforceGitSync','getBranchRecordByName','6HTmHAN','salesforceSync','(((.+)+)+)+$','find','fetchBranchComponentsByFilenames','12mxgxPp','../../salesforce/services/salesforce.service','metadata','filterParserPaths','FLOSUM_GIT_NAMESPACE','design:paramtypes','Last_Updated_On__c','426104JCGYYc','patch','now','SalesforceGitSyncService','syncRecord','decorate','parse','object','componentsMetadata','391479UxqEKZ','TASKS_PER_TICK','recordTypes','repository','updateRemoteState','45HmxLSG','retrieveAttachment','map','../../salesforce/services/salesforce-sync.service','getComponentRecordTypes','salesforceRest','branchId','constructor','__metadata','defineProperty','splice','match','indexOf','force','fetchRepositoryComponents','isVlocityComponent','type','filter','branch','fileName','length','setCommitDto','GitCommitService'];a110_0x63bd=function(){return _0x34a1d1;};return a110_0x63bd();}const a110_0x6b10b6=(function(){let _0x3e44b5=!![];return function(_0x418651,_0x3734fc){const _0x6accd1=_0x3e44b5?function(){const _0x20aeb3=a110_0xfa7f;if(_0x3734fc){const _0x2bf12b=_0x3734fc[_0x20aeb3(0x10d)](_0x418651,arguments);return _0x3734fc=null,_0x2bf12b;}}:function(){};return _0x3e44b5=![],_0x6accd1;};}()),a110_0x4d7ed3=a110_0x6b10b6(this,function(){const _0x3263bf=a110_0xfa7f;return a110_0x4d7ed3[_0x3263bf(0x10e)]()['search'](_0x3263bf(0x12c))['toString']()[_0x3263bf(0xed)](a110_0x4d7ed3)[_0x3263bf(0x124)](_0x3263bf(0x12c));});a110_0x4d7ed3();'use strict';var __decorate=this&&this['__decorate']||function(_0x168be3,_0x306e6d,_0x1728ec,_0x2377b7){const _0x66d72=a110_0xfa7f;var _0x30ae33=arguments[_0x66d72(0xfa)],_0x1a0fd3=_0x30ae33<0x3?_0x306e6d:_0x2377b7===null?_0x2377b7=Object['getOwnPropertyDescriptor'](_0x306e6d,_0x1728ec):_0x2377b7,_0x16cfa0;if(typeof Reflect===_0x66d72(0xdf)&&typeof Reflect[_0x66d72(0xdd)]===_0x66d72(0x119))_0x1a0fd3=Reflect[_0x66d72(0xdd)](_0x168be3,_0x306e6d,_0x1728ec,_0x2377b7);else{for(var _0x511ae5=_0x168be3[_0x66d72(0xfa)]-0x1;_0x511ae5>=0x0;_0x511ae5--)if(_0x16cfa0=_0x168be3[_0x511ae5])_0x1a0fd3=(_0x30ae33<0x3?_0x16cfa0(_0x1a0fd3):_0x30ae33>0x3?_0x16cfa0(_0x306e6d,_0x1728ec,_0x1a0fd3):_0x16cfa0(_0x306e6d,_0x1728ec))||_0x1a0fd3;}return _0x30ae33>0x3&&_0x1a0fd3&&Object[_0x66d72(0xef)](_0x306e6d,_0x1728ec,_0x1a0fd3),_0x1a0fd3;},__metadata=this&&this[a110_0x5d68d6(0xee)]||function(_0x413e19,_0x8653c2){const _0x529e92=a110_0x5d68d6;if(typeof Reflect===_0x529e92(0xdf)&&typeof Reflect[_0x529e92(0x131)]===_0x529e92(0x119))return Reflect[_0x529e92(0x131)](_0x413e19,_0x8653c2);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a110_0x5d68d6(0xfc)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x5d68d6(0x106)),salesforce_rest_service_1=require(a110_0x5d68d6(0x108)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a110_0x5d68d6(0xe9)),salesforce_service_1=require(a110_0x5d68d6(0x130)),utils_1=require(a110_0x5d68d6(0x103)),factory_parser_1=require('../../parsers/mdapi/factory.parser'),vlocity_1=require('../../parsers/utils/vlocity');let GitCommitService=class GitCommitService{constructor(_0x58ce28,_0x173bd2,_0x4df1b1,_0xcaf3e4){const _0x5915d1=a110_0x5d68d6;this[_0x5915d1(0x128)]=_0x58ce28,this[_0x5915d1(0xeb)]=_0x173bd2,this[_0x5915d1(0x12b)]=_0x4df1b1,this[_0x5915d1(0x102)]=_0xcaf3e4,this[_0x5915d1(0xe2)]=0xc8;}get[a110_0x5d68d6(0x123)](){const _0x4b71b8=a110_0x5d68d6;var _0x38627f;return((_0x38627f=this[_0x4b71b8(0xdc)])===null||_0x38627f===void 0x0?void 0x0:_0x38627f['repositoryId'])||'';}get['branchId'](){const _0x44bda8=a110_0x5d68d6;var _0x3670f4;return((_0x3670f4=this[_0x44bda8(0xdc)])===null||_0x3670f4===void 0x0?void 0x0:_0x3670f4['branchId'])||'';}async[a110_0x5d68d6(0x11a)](_0x30231f){const _0x2d365e=a110_0x5d68d6;return this[_0x2d365e(0x128)][_0x2d365e(0x11a)](_0x30231f,this[_0x2d365e(0x123)]);}async[a110_0x5d68d6(0x111)](_0x5036b8){const _0x38d2cf=a110_0x5d68d6;if(this[_0x38d2cf(0xdc)]){const _0xa1b9e0=await this['salesforceSync']['getRemoteStateAttachmentId'](this[_0x38d2cf(0xdc)]),_0x52da8f=await this[_0x38d2cf(0x102)][_0x38d2cf(0xe7)](_0xa1b9e0)[_0x38d2cf(0x10a)](_0x557ce5=>typeof _0x557ce5==='string'?JSON[_0x38d2cf(0xde)](_0x557ce5):_0x557ce5)['catch'](()=>({}));if(_0x52da8f[this[_0x38d2cf(0x114)][_0x38d2cf(0x109)]]){if(_0x52da8f[this[_0x38d2cf(0x114)][_0x38d2cf(0x109)]][_0x38d2cf(0xfd)]===_0x5036b8)return!![];}return![];}return![];}async[a110_0x5d68d6(0xe5)](_0x9346ca){const _0x12226c=a110_0x5d68d6;this['syncRecord']&&await this[_0x12226c(0x12b)][_0x12226c(0xe5)](this['syncRecord'],_0x9346ca);}[a110_0x5d68d6(0x10c)](){const _0x52227d=a110_0x5d68d6;return this[_0x52227d(0xe0)][_0x52227d(0xe8)](({fileName:_0x4a9e89})=>_0x4a9e89);}async[a110_0x5d68d6(0x11c)](_0xfd6afb,_0x137fc7,_0xc4df7d){const _0x1dfb5b=a110_0x5d68d6,_0x45f01d=new RegExp('^'+_0xfd6afb+_0x1dfb5b(0x126));let _0x524471=[_0xfd6afb];_0xc4df7d&&!(0x0,vlocity_1[_0x1dfb5b(0xf5)])(_0xfd6afb)&&(_0x524471=(0x0,utils_1[_0x1dfb5b(0x132)])(await(0x0,utils_1[_0x1dfb5b(0x105)])(_0xfd6afb,_0x137fc7)[_0x1dfb5b(0xfe)](()=>[])));const _0x45c217=_0xc4df7d?this[_0x1dfb5b(0xe0)]['filter'](_0x5c9f3e=>_0x5c9f3e[_0x1dfb5b(0xf9)][_0x1dfb5b(0xf1)](_0x45f01d)):this[_0x1dfb5b(0xe0)][_0x1dfb5b(0xf7)](_0x260e49=>_0x260e49[_0x1dfb5b(0xf9)]===_0xfd6afb||_0x260e49[_0x1dfb5b(0xf9)]===_0xfd6afb[_0x1dfb5b(0x118)](constants_1[_0x1dfb5b(0x115)],'')),_0x45ada3=factory_parser_1['FactoryParser']['create'](_0x137fc7,_0x524471),_0x452ae1=await _0x45ada3[_0x1dfb5b(0xde)](),_0x2aadef=[],_0x3ad317=[];for(const _0x32bfa2 of _0x452ae1){const _0x1a707d=_0x45c217[_0x1dfb5b(0x12d)](_0x2b1541=>_0x2b1541[_0x1dfb5b(0x104)]===_0x32bfa2[_0x1dfb5b(0x104)]&&_0x2b1541['type']===_0x32bfa2[_0x1dfb5b(0xf6)]);if(!_0x1a707d){_0x2aadef[_0x1dfb5b(0x10b)](_0x32bfa2);continue;}_0x32bfa2[_0x1dfb5b(0x117)]!==_0x1a707d[_0x1dfb5b(0x107)]&&_0x3ad317[_0x1dfb5b(0x10b)]({'meta':_0x1a707d,'component':_0x32bfa2}),_0x45c217[_0x1dfb5b(0xf0)](_0x45c217[_0x1dfb5b(0xf2)](_0x1a707d),0x1);}return{'inserted':_0x2aadef,'modified':_0x3ad317,'removed':_0x45c217};}async[a110_0x5d68d6(0x11f)](){const _0x1b4920=a110_0x5d68d6;this[_0x1b4920(0xdc)]=this[_0x1b4920(0x114)][_0x1b4920(0xf8)]===_0x1b4920(0x110)?await this[_0x1b4920(0x12b)]['getRepositoryRecordByName'](this[_0x1b4920(0x114)][_0x1b4920(0xe4)]):await this['salesforceSync'][_0x1b4920(0x129)](this[_0x1b4920(0x114)]['branch']),this[_0x1b4920(0xe3)]=await this[_0x1b4920(0x128)][_0x1b4920(0xea)]();}async[a110_0x5d68d6(0x101)](_0x466f5d){const _0x284f2e=a110_0x5d68d6;if(this[_0x284f2e(0x114)][_0x284f2e(0xf3)]||_0x466f5d){this[_0x284f2e(0xe0)]=this[_0x284f2e(0xec)]?await this[_0x284f2e(0x128)][_0x284f2e(0x127)](this[_0x284f2e(0xec)]):await this[_0x284f2e(0x128)][_0x284f2e(0xf4)](this[_0x284f2e(0x123)]);return;}const _0x5f3812=[...new Set(this[_0x284f2e(0x114)]['fileNames'][_0x284f2e(0xe8)](_0xaf0966=>_0xaf0966[_0x284f2e(0x118)](constants_1[_0x284f2e(0x115)],'')))];this[_0x284f2e(0xe0)]=[];while(_0x5f3812['length']){const _0xd82237=_0x5f3812[_0x284f2e(0xf0)](0x0,this[_0x284f2e(0xe2)]),_0xdcb1e5=this[_0x284f2e(0xec)]?await this[_0x284f2e(0x128)][_0x284f2e(0x12e)](_0xd82237,this['branchId']):await this[_0x284f2e(0x128)]['fetchRepositoryComponentsByFilenames'](_0xd82237,this[_0x284f2e(0x123)]);this[_0x284f2e(0xe0)][_0x284f2e(0x10b)](..._0xdcb1e5);}}async[a110_0x5d68d6(0x113)](_0x3a9294){const _0x201992=a110_0x5d68d6;this[_0x201992(0xec)]?await this['salesforceRest'][_0x201992(0x137)](constants_1[_0x201992(0x116)],this['branchId'],{[constants_1[_0x201992(0x133)]+'Synchronization_Status__c']:_0x3a9294,[constants_1['FLOSUM_NAMESPACE']+_0x201992(0x135)]:Date[_0x201992(0x138)]()}):await this[_0x201992(0xeb)][_0x201992(0x137)](constants_1[_0x201992(0x11b)],this[_0x201992(0x123)],{[constants_1[_0x201992(0x133)]+'Synchronization_Status__c']:_0x3a9294});}[a110_0x5d68d6(0xfb)](_0x33eb70){this['gitCommit']=_0x33eb70;}[a110_0x5d68d6(0xff)](){return this['recordTypes'];}[a110_0x5d68d6(0x112)](){return this['repositoryId'];}['getBranchId'](){const _0x32db38=a110_0x5d68d6;return this[_0x32db38(0xec)];}};function a110_0xfa7f(_0x57177a,_0x1fe2e6){const _0x197a88=a110_0x63bd();return a110_0xfa7f=function(_0x4d7ed3,_0x6b10b6){_0x4d7ed3=_0x4d7ed3-0xdb;let _0x63bd99=_0x197a88[_0x4d7ed3];return _0x63bd99;},a110_0xfa7f(_0x57177a,_0x1fe2e6);}GitCommitService=__decorate([(0x0,typedi_1[a110_0x5d68d6(0x11d)])({'transient':!![]}),__metadata(a110_0x5d68d6(0x134),[salesforce_git_sync_service_1[a110_0x5d68d6(0xdb)],salesforce_rest_service_1[a110_0x5d68d6(0x125)],salesforce_sync_service_1[a110_0x5d68d6(0x11e)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a110_0x5d68d6(0xfc)]=GitCommitService;