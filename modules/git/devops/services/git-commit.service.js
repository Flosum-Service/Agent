const a110_0x11092b=a110_0x477c;(function(_0x27a8dd,_0x58ea85){const _0x34ea79=a110_0x477c,_0x454ffc=_0x27a8dd();while(!![]){try{const _0x2ea33a=parseInt(_0x34ea79(0x86))/0x1*(parseInt(_0x34ea79(0x90))/0x2)+parseInt(_0x34ea79(0x8a))/0x3*(parseInt(_0x34ea79(0xa4))/0x4)+-parseInt(_0x34ea79(0xc9))/0x5+-parseInt(_0x34ea79(0xad))/0x6*(parseInt(_0x34ea79(0xb1))/0x7)+-parseInt(_0x34ea79(0x77))/0x8+parseInt(_0x34ea79(0xc6))/0x9*(-parseInt(_0x34ea79(0x9e))/0xa)+parseInt(_0x34ea79(0xb6))/0xb;if(_0x2ea33a===_0x58ea85)break;else _0x454ffc['push'](_0x454ffc['shift']());}catch(_0x1b0e72){_0x454ffc['push'](_0x454ffc['shift']());}}}(a110_0x57d0,0x9948f));const a110_0x5ee1ec=(function(){let _0x4244ed=!![];return function(_0x227d02,_0xf09d22){const _0x8d9429=_0x4244ed?function(){const _0x2d7c22=a110_0x477c;if(_0xf09d22){const _0x2dcf71=_0xf09d22[_0x2d7c22(0xa7)](_0x227d02,arguments);return _0xf09d22=null,_0x2dcf71;}}:function(){};return _0x4244ed=![],_0x8d9429;};}()),a110_0x776c85=a110_0x5ee1ec(this,function(){const _0x4aa447=a110_0x477c;return a110_0x776c85[_0x4aa447(0xb7)]()[_0x4aa447(0xb8)](_0x4aa447(0x99))[_0x4aa447(0xb7)]()[_0x4aa447(0xbe)](a110_0x776c85)[_0x4aa447(0xb8)](_0x4aa447(0x99));});function a110_0x57d0(){const _0x1a1438=['length','proceedFile','map','FLOSUM_GIT_NAMESPACE','310vaFgGy','filterParserPaths','metadata','getComponentRecordTypes','fetchRepositoryOrBranchData','../../salesforce/services/salesforce-git-sync.service','5936LLNbYF','../../parsers/mdapi/parser-v2','getRemoteStateAttachmentId','apply','../../../../constants','defineProperty','crc','patch','name','348252kGqTsI','getRepositoryId','design:paramtypes','recordTypes','119RactRx','filter','salesforce','__decorate','function','33711700OwXZyN','toString','search','Synchronization_Status__c','FLOSUM_BRANCH','Last_Updated_On__c','replace','FLOSUM_REPOSITORY','constructor','find','match','syncRecord','type','now','fileNames','updateStatus','62298nMOEbM','catch','updateRemoteState','4957415lwvaOR','getRepositoryRecordByName','__metadata','crc32','branch','SalesforceService','salesforceRest','splice','fetchBranchComponentsByFilenames','../../salesforce/services/salesforce.service','typedi','readFilesByFilename','componentsMetadata','SalesforceGitSyncService','7173464QDbASP','object','META_XML_EXTENSION','getBranchId','master','salesforceGitSync','Service','branchId','setCommitDto','checkSyncStatus','force','SalesforceSyncService','parse','salesforceSync','then','77cIhOlE','decorate','push','__esModule','72RdpCkL','getRecordTypes','repositoryGit','repositoryId','gitCommit','FLOSUM_NAMESPACE','16026rVvizp','createCommit','getBranchRecordByName','GitCommitService','SalesforceRestService','MDApiParserV2','string','../../parsers/utils','getUnusedComponentsFilePaths','(((.+)+)+)+$'];a110_0x57d0=function(){return _0x1a1438;};return a110_0x57d0();}a110_0x776c85();'use strict';var __decorate=this&&this[a110_0x11092b(0xb4)]||function(_0x36224c,_0x2327fc,_0x2361ef,_0x482cfb){const _0x3b5173=a110_0x11092b;var _0x591410=arguments[_0x3b5173(0x9a)],_0x2f616d=_0x591410<0x3?_0x2327fc:_0x482cfb===null?_0x482cfb=Object['getOwnPropertyDescriptor'](_0x2327fc,_0x2361ef):_0x482cfb,_0x27e3d8;if(typeof Reflect===_0x3b5173(0x78)&&typeof Reflect[_0x3b5173(0x87)]===_0x3b5173(0xb5))_0x2f616d=Reflect[_0x3b5173(0x87)](_0x36224c,_0x2327fc,_0x2361ef,_0x482cfb);else{for(var _0x5867fa=_0x36224c[_0x3b5173(0x9a)]-0x1;_0x5867fa>=0x0;_0x5867fa--)if(_0x27e3d8=_0x36224c[_0x5867fa])_0x2f616d=(_0x591410<0x3?_0x27e3d8(_0x2f616d):_0x591410>0x3?_0x27e3d8(_0x2327fc,_0x2361ef,_0x2f616d):_0x27e3d8(_0x2327fc,_0x2361ef))||_0x2f616d;}return _0x591410>0x3&&_0x2f616d&&Object[_0x3b5173(0xa9)](_0x2327fc,_0x2361ef,_0x2f616d),_0x2f616d;},__metadata=this&&this[a110_0x11092b(0xcb)]||function(_0x2657e8,_0x2ff13f){const _0x38c5b9=a110_0x11092b;if(typeof Reflect===_0x38c5b9(0x78)&&typeof Reflect[_0x38c5b9(0xa0)]==='function')return Reflect['metadata'](_0x2657e8,_0x2ff13f);};Object[a110_0x11092b(0xa9)](exports,a110_0x11092b(0x89),{'value':!![]}),exports[a110_0x11092b(0x93)]=void 0x0;const constants_1=require(a110_0x11092b(0xa8)),salesforce_git_sync_service_1=require(a110_0x11092b(0xa3)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x11092b(0x73)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a110_0x11092b(0x72)),parser_v2_1=require(a110_0x11092b(0xa5)),utils_1=require(a110_0x11092b(0x97));function a110_0x477c(_0x32b9b0,_0xd8e4fc){const _0x1b5cc3=a110_0x57d0();return a110_0x477c=function(_0x776c85,_0x5ee1ec){_0x776c85=_0x776c85-0x71;let _0x57d093=_0x1b5cc3[_0x776c85];return _0x57d093;},a110_0x477c(_0x32b9b0,_0xd8e4fc);}let GitCommitService=class GitCommitService{constructor(_0x55c6d6,_0x356f6c,_0x4e9df8,_0x3bd369){const _0x38f08a=a110_0x11092b;this[_0x38f08a(0x7c)]=_0x55c6d6,this[_0x38f08a(0xcf)]=_0x356f6c,this['salesforceSync']=_0x4e9df8,this['salesforce']=_0x3bd369,this['TASKS_PER_TICK']=0xc8;}get[a110_0x11092b(0x8d)](){const _0x44c685=a110_0x11092b;var _0x10cc7c;return((_0x10cc7c=this['syncRecord'])===null||_0x10cc7c===void 0x0?void 0x0:_0x10cc7c[_0x44c685(0x8d)])||'';}get[a110_0x11092b(0x7e)](){const _0x5dbf14=a110_0x11092b;var _0x21f85b;return((_0x21f85b=this[_0x5dbf14(0xc1)])===null||_0x21f85b===void 0x0?void 0x0:_0x21f85b['branchId'])||'';}async[a110_0x11092b(0x91)](_0x116d49){const _0x250fa1=a110_0x11092b;return this[_0x250fa1(0x7c)][_0x250fa1(0x91)](_0x116d49,this[_0x250fa1(0x8d)]);}async[a110_0x11092b(0x80)](_0x37eaa6){const _0x63b353=a110_0x11092b;if(this[_0x63b353(0xc1)]){const _0x3c15b6=await this[_0x63b353(0x84)][_0x63b353(0xa6)](this[_0x63b353(0xc1)]),_0x45c438=await this[_0x63b353(0xb3)]['retrieveAttachment'](_0x3c15b6)[_0x63b353(0x85)](_0x37ff74=>typeof _0x37ff74===_0x63b353(0x96)?JSON['parse'](_0x37ff74):_0x37ff74)['catch'](()=>({}));if(_0x45c438[this[_0x63b353(0x8e)][_0x63b353(0x8c)]]){if(_0x45c438[this['gitCommit']['repositoryGit']]['lastCommit']===_0x37eaa6)return!![];}return![];}return![];}async[a110_0x11092b(0xc8)](_0x4da1d4){const _0x3a012b=a110_0x11092b;this['syncRecord']&&await this[_0x3a012b(0x84)][_0x3a012b(0xc8)](this[_0x3a012b(0xc1)],_0x4da1d4);}[a110_0x11092b(0x98)](){const _0x5b1a83=a110_0x11092b;return this['componentsMetadata'][_0x5b1a83(0x9c)](({fileName:_0x236ba1})=>_0x236ba1);}async[a110_0x11092b(0x9b)](_0x272ef4,_0x1edbff,_0x4e85fe){const _0x5da3c5=a110_0x11092b,_0x181af4=new RegExp('^'+_0x272ef4+'([./-]{1}|$)');let _0x37138d=[_0x272ef4];_0x4e85fe&&(_0x37138d=(0x0,utils_1[_0x5da3c5(0x9f)])(await(0x0,utils_1[_0x5da3c5(0x74)])(_0x272ef4,_0x1edbff)[_0x5da3c5(0xc7)](()=>[])));const _0x1e431c=_0x4e85fe?this[_0x5da3c5(0x75)]['filter'](_0x1ca067=>_0x1ca067['fileName'][_0x5da3c5(0xc0)](_0x181af4)):this[_0x5da3c5(0x75)][_0x5da3c5(0xb2)](_0x44b2f0=>_0x44b2f0['fileName']===_0x272ef4||_0x44b2f0['fileName']===_0x272ef4['replace'](constants_1[_0x5da3c5(0x79)],'')),_0x4e0a3f=new parser_v2_1[(_0x5da3c5(0x95))](_0x1edbff,_0x37138d),_0x5824cf=await _0x4e0a3f[_0x5da3c5(0x83)](),_0x45a563=[],_0x595656=[];for(const _0x568a15 of _0x5824cf){const _0x1ed84b=_0x1e431c[_0x5da3c5(0xbf)](_0x939cce=>_0x939cce[_0x5da3c5(0xac)]===_0x568a15[_0x5da3c5(0xac)]&&_0x939cce['type']===_0x568a15[_0x5da3c5(0xc2)]);if(!_0x1ed84b){_0x45a563[_0x5da3c5(0x88)](_0x568a15);continue;}_0x568a15[_0x5da3c5(0xaa)]!==_0x1ed84b[_0x5da3c5(0xcc)]&&_0x595656[_0x5da3c5(0x88)]({'meta':_0x1ed84b,'component':_0x568a15}),_0x1e431c[_0x5da3c5(0xd0)](_0x1e431c['indexOf'](_0x1ed84b),0x1);}return{'inserted':_0x45a563,'modified':_0x595656,'removed':_0x1e431c};}async[a110_0x11092b(0xa2)](){const _0x3b9249=a110_0x11092b;this[_0x3b9249(0xc1)]=this[_0x3b9249(0x8e)][_0x3b9249(0xcd)]===_0x3b9249(0x7b)?await this[_0x3b9249(0x84)][_0x3b9249(0xca)](this[_0x3b9249(0x8e)]['repository']):await this[_0x3b9249(0x84)][_0x3b9249(0x92)](this[_0x3b9249(0x8e)]['branch']),this[_0x3b9249(0xb0)]=await this[_0x3b9249(0x7c)][_0x3b9249(0xa1)]();}async['fetchComponentsMetadata'](_0x4280eb){const _0x9498a6=a110_0x11092b;if(this[_0x9498a6(0x8e)][_0x9498a6(0x81)]||_0x4280eb){this[_0x9498a6(0x75)]=this[_0x9498a6(0x7e)]?await this[_0x9498a6(0x7c)]['fetchBranchComponents'](this[_0x9498a6(0x7e)]):await this[_0x9498a6(0x7c)]['fetchRepositoryComponents'](this[_0x9498a6(0x8d)]);return;}const _0x55ee23=[...new Set(this['gitCommit'][_0x9498a6(0xc4)][_0x9498a6(0x9c)](_0x485f3b=>_0x485f3b[_0x9498a6(0xbc)](constants_1['META_XML_EXTENSION'],'')))];this[_0x9498a6(0x75)]=[];while(_0x55ee23[_0x9498a6(0x9a)]){const _0x45c41d=_0x55ee23[_0x9498a6(0xd0)](0x0,this['TASKS_PER_TICK']),_0x5ba47c=this[_0x9498a6(0x7e)]?await this[_0x9498a6(0x7c)][_0x9498a6(0x71)](_0x45c41d,this[_0x9498a6(0x7e)]):await this[_0x9498a6(0x7c)]['fetchRepositoryComponentsByFilenames'](_0x45c41d,this[_0x9498a6(0x8d)]);this[_0x9498a6(0x75)][_0x9498a6(0x88)](..._0x5ba47c);}}async[a110_0x11092b(0xc5)](_0x3409ff){const _0x140e7e=a110_0x11092b;this[_0x140e7e(0x7e)]?await this[_0x140e7e(0xcf)]['patch'](constants_1[_0x140e7e(0xba)],this[_0x140e7e(0x7e)],{[constants_1[_0x140e7e(0x9d)]+_0x140e7e(0xb9)]:_0x3409ff,[constants_1[_0x140e7e(0x8f)]+_0x140e7e(0xbb)]:Date[_0x140e7e(0xc3)]()}):await this[_0x140e7e(0xcf)][_0x140e7e(0xab)](constants_1[_0x140e7e(0xbd)],this[_0x140e7e(0x8d)],{[constants_1[_0x140e7e(0x9d)]+_0x140e7e(0xb9)]:_0x3409ff});}[a110_0x11092b(0x7f)](_0x39ada8){const _0x348892=a110_0x11092b;this[_0x348892(0x8e)]=_0x39ada8;}[a110_0x11092b(0x8b)](){const _0x3d2f27=a110_0x11092b;return this[_0x3d2f27(0xb0)];}[a110_0x11092b(0xae)](){const _0x17c843=a110_0x11092b;return this[_0x17c843(0x8d)];}[a110_0x11092b(0x7a)](){const _0x2d1a9b=a110_0x11092b;return this[_0x2d1a9b(0x7e)];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x11092b(0x7d)])({'transient':!![]}),__metadata(a110_0x11092b(0xaf),[salesforce_git_sync_service_1[a110_0x11092b(0x76)],salesforce_rest_service_1[a110_0x11092b(0x94)],salesforce_sync_service_1[a110_0x11092b(0x82)],salesforce_service_1[a110_0x11092b(0xce)]])],GitCommitService),exports[a110_0x11092b(0x93)]=GitCommitService;