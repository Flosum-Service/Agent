const a66_0xf60550=a66_0x3966;(function(_0x102a83,_0x24765f){const _0x4efea3=a66_0x3966,_0x1e9318=_0x102a83();while(!![]){try{const _0x58f9a0=parseInt(_0x4efea3(0xea))/0x1+parseInt(_0x4efea3(0xe1))/0x2+parseInt(_0x4efea3(0xdb))/0x3*(-parseInt(_0x4efea3(0xd1))/0x4)+parseInt(_0x4efea3(0xbe))/0x5*(parseInt(_0x4efea3(0x9a))/0x6)+parseInt(_0x4efea3(0xaa))/0x7+parseInt(_0x4efea3(0x9b))/0x8+parseInt(_0x4efea3(0x99))/0x9*(-parseInt(_0x4efea3(0xd9))/0xa);if(_0x58f9a0===_0x24765f)break;else _0x1e9318['push'](_0x1e9318['shift']());}catch(_0x4c6ef0){_0x1e9318['push'](_0x1e9318['shift']());}}}(a66_0x39df,0x70592));const a66_0xe8283f=(function(){let _0x26d7ba=!![];return function(_0x4a1270,_0xa768ab){const _0x455002=_0x26d7ba?function(){if(_0xa768ab){const _0x17e34b=_0xa768ab['apply'](_0x4a1270,arguments);return _0xa768ab=null,_0x17e34b;}}:function(){};return _0x26d7ba=![],_0x455002;};}()),a66_0xa2c57e=a66_0xe8283f(this,function(){const _0x121a90=a66_0x3966;return a66_0xa2c57e[_0x121a90(0xcb)]()[_0x121a90(0xc1)]('(((.+)+)+)+$')[_0x121a90(0xcb)]()[_0x121a90(0xbc)](a66_0xa2c57e)[_0x121a90(0xc1)]('(((.+)+)+)+$');});a66_0xa2c57e();'use strict';var __decorate=this&&this[a66_0xf60550(0xe6)]||function(_0x2c5f65,_0x4ebfb1,_0x485de8,_0x4d9536){const _0x346074=a66_0xf60550;var _0x121ebb=arguments[_0x346074(0xca)],_0x5054e3=_0x121ebb<0x3?_0x4ebfb1:_0x4d9536===null?_0x4d9536=Object['getOwnPropertyDescriptor'](_0x4ebfb1,_0x485de8):_0x4d9536,_0x3be516;if(typeof Reflect===_0x346074(0xbd)&&typeof Reflect[_0x346074(0xb5)]===_0x346074(0xe5))_0x5054e3=Reflect[_0x346074(0xb5)](_0x2c5f65,_0x4ebfb1,_0x485de8,_0x4d9536);else{for(var _0x66847a=_0x2c5f65['length']-0x1;_0x66847a>=0x0;_0x66847a--)if(_0x3be516=_0x2c5f65[_0x66847a])_0x5054e3=(_0x121ebb<0x3?_0x3be516(_0x5054e3):_0x121ebb>0x3?_0x3be516(_0x4ebfb1,_0x485de8,_0x5054e3):_0x3be516(_0x4ebfb1,_0x485de8))||_0x5054e3;}return _0x121ebb>0x3&&_0x5054e3&&Object[_0x346074(0xd8)](_0x4ebfb1,_0x485de8,_0x5054e3),_0x5054e3;},__metadata=this&&this[a66_0xf60550(0xb7)]||function(_0x23f7ff,_0xcab5ac){const _0x5278ed=a66_0xf60550;if(typeof Reflect==='object'&&typeof Reflect[_0x5278ed(0xc5)]===_0x5278ed(0xe5))return Reflect['metadata'](_0x23f7ff,_0xcab5ac);};function a66_0x3966(_0x198e5e,_0x38bd3d){const _0x25f3a5=a66_0x39df();return a66_0x3966=function(_0xa2c57e,_0xe8283f){_0xa2c57e=_0xa2c57e-0x97;let _0x39df33=_0x25f3a5[_0xa2c57e];return _0x39df33;},a66_0x3966(_0x198e5e,_0x38bd3d);}Object[a66_0xf60550(0xd8)](exports,a66_0xf60550(0xe8),{'value':!![]}),exports[a66_0xf60550(0xde)]=void 0x0;const constants_1=require(a66_0xf60550(0xcd)),parser_1=require(a66_0xf60550(0xc3)),salesforce_git_sync_service_1=require(a66_0xf60550(0xc7)),salesforce_rest_service_1=require(a66_0xf60550(0xa5)),typedi_1=require(a66_0xf60550(0xa3)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a66_0xf60550(0xe3)),git_commit_utils_1=require(a66_0xf60550(0xcc));let GitCommitService=class GitCommitService{constructor(_0x1b436e,_0x351d01,_0x2ac524,_0x3d8490){const _0x2313ff=a66_0xf60550;this[_0x2313ff(0xbb)]=_0x1b436e,this[_0x2313ff(0xba)]=_0x351d01,this[_0x2313ff(0xad)]=_0x2ac524,this[_0x2313ff(0xe7)]=_0x3d8490,this[_0x2313ff(0xa0)]=0xc8;}get['repositoryId'](){const _0x3b87c5=a66_0xf60550;var _0x381fdd;return((_0x381fdd=this[_0x3b87c5(0xce)])===null||_0x381fdd===void 0x0?void 0x0:_0x381fdd['repositoryId'])||'';}get['branchId'](){const _0x501287=a66_0xf60550;var _0x251a58;return((_0x251a58=this[_0x501287(0xce)])===null||_0x251a58===void 0x0?void 0x0:_0x251a58[_0x501287(0xd4)])||'';}async[a66_0xf60550(0x9d)](_0x4c77ae){const _0x59143e=a66_0xf60550;return this[_0x59143e(0xbb)][_0x59143e(0x9d)](_0x4c77ae,this[_0x59143e(0xc0)]);}async[a66_0xf60550(0xd0)](_0x549bfb){const _0x1e2604=a66_0xf60550;if(this[_0x1e2604(0xce)]){const _0x2be817=await this[_0x1e2604(0xad)][_0x1e2604(0xa4)](this[_0x1e2604(0xce)]),_0x49b62d=await this[_0x1e2604(0xe7)][_0x1e2604(0xdf)](_0x2be817)['then'](_0x52e582=>typeof _0x52e582===_0x1e2604(0xb6)?JSON[_0x1e2604(0x97)](_0x52e582):_0x52e582)[_0x1e2604(0xe0)](()=>({}));if(_0x49b62d[this[_0x1e2604(0xd6)]['repositoryGit']]){if(_0x49b62d[this[_0x1e2604(0xd6)]['repositoryGit']][_0x1e2604(0xd3)]===_0x549bfb)return!![];}return![];}return![];}async[a66_0xf60550(0xa9)](_0x2e54da){const _0x5b149b=a66_0xf60550;this[_0x5b149b(0xce)]&&await this[_0x5b149b(0xad)][_0x5b149b(0xa9)](this[_0x5b149b(0xce)],_0x2e54da);}async['proceedFile'](_0x39f184,_0x4fe52d,_0x5ba420){const _0x27d6d4=a66_0xf60550,_0x2ecd65=this[_0x27d6d4(0xc9)][_0x27d6d4(0x9f)](_0x149f42=>git_commit_utils_1[_0x27d6d4(0xaf)](_0x149f42[_0x27d6d4(0xb2)],_0x39f184)),_0x2ee90b=[],_0x7926b4=[],_0x2684c6=[],_0x1868b4=new parser_1['MDApiParser'](_0x4fe52d,[_0x39f184],_0x5ba420),_0x5be85e=await _0x1868b4[_0x27d6d4(0x97)](),_0x2e341c=_0x5be85e[_0x27d6d4(0x98)](_0x531222=>{const _0x421a09=_0x27d6d4,_0x1afd4d=_0x2ecd65['find'](_0x40eedd=>_0x40eedd[_0x421a09(0xb9)]===_0x531222['name']&&_0x40eedd[_0x421a09(0x9e)]===_0x531222[_0x421a09(0x9e)]);if(!_0x1afd4d){const _0x3baa89={'crc32':_0x531222[_0x421a09(0xdd)],'fileName':_0x531222[_0x421a09(0xda)],'id':null,'version':0x1,'name':_0x531222[_0x421a09(0xb9)],'type':_0x531222[_0x421a09(0x9e)]};return this[_0x421a09(0xc9)][_0x421a09(0xa8)](_0x3baa89),_0x2ecd65[_0x421a09(0xa8)](_0x3baa89),_0x2684c6[_0x421a09(0xa8)](_0x3baa89),_0x7926b4[_0x421a09(0xa8)](_0x531222),null;}_0x2684c6[_0x421a09(0xa8)](_0x1afd4d);if(_0x531222[_0x421a09(0xdd)]===_0x1afd4d[_0x421a09(0xb3)])return null;return{'component':_0x531222,'meta':_0x1afd4d};})[_0x27d6d4(0x9f)](_0x8c6e58=>!!_0x8c6e58);_0x2ee90b[_0x27d6d4(0xa8)](..._0x2e341c);const _0x38e644=_0x2ecd65[_0x27d6d4(0x9f)](_0x1e9152=>!_0x2684c6[_0x27d6d4(0xac)](_0x1e9152));return this[_0x27d6d4(0xc9)]=this['componentsMetadata'][_0x27d6d4(0x9f)](_0x2283f5=>!_0x38e644[_0x27d6d4(0xac)](_0x2283f5)),{'inserted':_0x7926b4,'modified':_0x2ee90b,'removed':_0x38e644['map'](({id:_0x153d06,name:_0xde0f64,type:_0x471acb})=>({'id':_0x153d06,'name':_0xde0f64,'type':_0x471acb}))};}async['fetchRepositoryOrBranchData'](){const _0x1daed8=a66_0xf60550;this[_0x1daed8(0xce)]=this['gitCommit'][_0x1daed8(0xb1)]===_0x1daed8(0xa1)?await this[_0x1daed8(0xad)][_0x1daed8(0xab)](this[_0x1daed8(0xd6)]['repository']):await this[_0x1daed8(0xad)][_0x1daed8(0xc4)](this[_0x1daed8(0xd6)][_0x1daed8(0xb1)]),this[_0x1daed8(0xb8)]=await this[_0x1daed8(0xbb)][_0x1daed8(0xe4)]();}async['fetchComponentsMetadata'](_0x414545){const _0x12815f=a66_0xf60550,_0x28c9f3=[...this['gitCommit']['fileNames']];if(this[_0x12815f(0xd6)][_0x12815f(0xb0)]||_0x414545){this[_0x12815f(0xc9)]=this[_0x12815f(0xd4)]?await this['salesforceGitSync']['fetchBranchComponents'](this[_0x12815f(0xd4)]):await this[_0x12815f(0xbb)]['fetchRepositoryComponents'](this[_0x12815f(0xc0)]);return;}this[_0x12815f(0xc9)]=[];while(_0x28c9f3['length']){const _0x2405ac=_0x28c9f3[_0x12815f(0xae)](0x0,this[_0x12815f(0xa0)]),_0x31be2e=this[_0x12815f(0xd4)]?await this[_0x12815f(0xbb)][_0x12815f(0xd7)](_0x2405ac,this[_0x12815f(0xd4)]):await this[_0x12815f(0xbb)][_0x12815f(0xc8)](_0x2405ac,this[_0x12815f(0xc0)]);this[_0x12815f(0xc9)][_0x12815f(0xa8)](..._0x31be2e);}}async[a66_0xf60550(0x9c)](_0x4e699){const _0x36ea1a=a66_0xf60550;this[_0x36ea1a(0xd4)]?await this[_0x36ea1a(0xba)][_0x36ea1a(0xe9)](constants_1['FLOSUM_BRANCH'],this[_0x36ea1a(0xd4)],{[constants_1[_0x36ea1a(0xdc)]+_0x36ea1a(0xa2)]:_0x4e699,[constants_1[_0x36ea1a(0xbf)]+_0x36ea1a(0xd2)]:Date[_0x36ea1a(0xa6)]()}):await this['salesforceRest'][_0x36ea1a(0xe9)](constants_1[_0x36ea1a(0xcf)],this[_0x36ea1a(0xc0)],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Synchronization_Status__c']:_0x4e699});}['setCommitDto'](_0x1b13e7){const _0x2bf19f=a66_0xf60550;this[_0x2bf19f(0xd6)]=_0x1b13e7;}[a66_0xf60550(0xe2)](){const _0x4175ab=a66_0xf60550;return this[_0x4175ab(0xb8)];}['getRepositoryId'](){const _0x55d37e=a66_0xf60550;return this[_0x55d37e(0xc0)];}['getBranchId'](){const _0x6d44c3=a66_0xf60550;return this[_0x6d44c3(0xd4)];}};function a66_0x39df(){const _0x41af4f=['getRecordTypes','../../salesforce/services/salesforce.service','getComponentRecordTypes','function','__decorate','salesforce','__esModule','patch','558302jsxuDJ','parse','map','10081953kmDocW','1992RgsWdL','4709864eOlaik','updateStatus','createCommit','type','filter','TASKS_PER_TICK','master','Synchronization_Status__c','typedi','getRemoteStateAttachmentId','../../salesforce/services/salesforce-rest.service','now','SalesforceGitSyncService','push','updateRemoteState','5316052KgaqRs','getRepositoryRecordByName','includes','salesforceSync','splice','isPathsEquals','force','branch','fileName','crc32','SalesforceService','decorate','string','__metadata','recordTypes','name','salesforceRest','salesforceGitSync','constructor','object','1935kyvwka','FLOSUM_NAMESPACE','repositoryId','search','design:paramtypes','../../parsers/mdapi/parser','getBranchRecordByName','metadata','SalesforceRestService','../../salesforce/services/salesforce-git-sync.service','fetchRepositoryComponentsByFilenames','componentsMetadata','length','toString','../utils/git-commit.utils','../../../../constants','syncRecord','FLOSUM_REPOSITORY','checkSyncStatus','52swmcLb','Last_Updated_On__c','lastCommit','branchId','SalesforceSyncService','gitCommit','fetchBranchComponentsByFilenames','defineProperty','10ozLnko','filePath','131436Lhuuzn','FLOSUM_GIT_NAMESPACE','crc','GitCommitService','retrieveAttachment','catch','229992hqxvHS'];a66_0x39df=function(){return _0x41af4f;};return a66_0x39df();}GitCommitService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a66_0xf60550(0xc2),[salesforce_git_sync_service_1[a66_0xf60550(0xa7)],salesforce_rest_service_1[a66_0xf60550(0xc6)],salesforce_sync_service_1[a66_0xf60550(0xd5)],salesforce_service_1[a66_0xf60550(0xb4)]])],GitCommitService),exports[a66_0xf60550(0xde)]=GitCommitService;