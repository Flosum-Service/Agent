const a110_0x5540d5=a110_0x4c68;function a110_0x4c68(_0x203c9e,_0x300f60){const _0x3fdc2c=a110_0x421d();return a110_0x4c68=function(_0x41af6b,_0x389627){_0x41af6b=_0x41af6b-0x1a2;let _0x421dfd=_0x3fdc2c[_0x41af6b];return _0x421dfd;},a110_0x4c68(_0x203c9e,_0x300f60);}(function(_0x291b5e,_0x3223c0){const _0x5f40e5=a110_0x4c68,_0x14bc61=_0x291b5e();while(!![]){try{const _0x53830b=parseInt(_0x5f40e5(0x1bd))/0x1+-parseInt(_0x5f40e5(0x1a3))/0x2+parseInt(_0x5f40e5(0x1fd))/0x3+parseInt(_0x5f40e5(0x1c5))/0x4+parseInt(_0x5f40e5(0x1f2))/0x5+parseInt(_0x5f40e5(0x1b4))/0x6+parseInt(_0x5f40e5(0x1e6))/0x7*(-parseInt(_0x5f40e5(0x1d4))/0x8);if(_0x53830b===_0x3223c0)break;else _0x14bc61['push'](_0x14bc61['shift']());}catch(_0x3d8531){_0x14bc61['push'](_0x14bc61['shift']());}}}(a110_0x421d,0xa716d));const a110_0x389627=(function(){let _0x4ee349=!![];return function(_0x18d7cc,_0x45f90d){const _0x1c901d=_0x4ee349?function(){const _0x17452a=a110_0x4c68;if(_0x45f90d){const _0x10ee8c=_0x45f90d[_0x17452a(0x1fc)](_0x18d7cc,arguments);return _0x45f90d=null,_0x10ee8c;}}:function(){};return _0x4ee349=![],_0x1c901d;};}()),a110_0x41af6b=a110_0x389627(this,function(){const _0xa7be72=a110_0x4c68;return a110_0x41af6b[_0xa7be72(0x1f7)]()['search']('(((.+)+)+)+$')[_0xa7be72(0x1f7)]()['constructor'](a110_0x41af6b)[_0xa7be72(0x1d7)](_0xa7be72(0x1fa));});function a110_0x421d(){const _0x2142d7=['fetchBranchComponents','fetchRepositoryOrBranchData','master','fetchComponentsMetadata','crc','repository','map','getUnusedComponentsFilePaths','812286WNNURy','retrieveAttachment','decorate','object','FLOSUM_REPOSITORY','createCommit','isVlocityComponent','repositoryId','4782836zOBRaT','typedi','getRepositoryRecordByName','create','defineProperty','then','function','../../parsers/utils','salesforceRest','FLOSUM_BRANCH','branchId','splice','fetchBranchComponentsByFilenames','parse','fileName','24955592CLJBCp','now','__esModule','search','fetchRepositoryComponentsByFilenames','lastCommit','FactoryParser','TASKS_PER_TICK','getOwnPropertyDescriptor','FLOSUM_NAMESPACE','getRecordTypes','getBranchId','Last_Updated_On__c','replace','gitCommit','branch','crc32','type','7DWvyJZ','componentsMetadata','indexOf','META_XML_EXTENSION','salesforceGitSync','Synchronization_Status__c','../../salesforce/services/salesforce-git-sync.service','../../../../constants','readFilesByFilename','syncRecord','updateStatus','patch','5127120VGAQxn','name','recordTypes','getRemoteStateAttachmentId','([./-]{1}|$)','toString','length','find','(((.+)+)+)+$','salesforceSync','apply','535653XXIsRT','checkSyncStatus','../../parsers/mdapi/factory.parser','string','fetchRepositoryComponents','push','615974aSjniJ','proceedFile','GitCommitService','../../salesforce/services/salesforce.service','filter','../../parsers/utils/vlocity','updateRemoteState','SalesforceService','repositoryGit','Service','FLOSUM_GIT_NAMESPACE','salesforce','metadata','SalesforceSyncService','force','SalesforceRestService','../../salesforce/services/salesforce-sync.service','5399178DSPSzG'];a110_0x421d=function(){return _0x2142d7;};return a110_0x421d();}a110_0x41af6b();'use strict';var __decorate=this&&this['__decorate']||function(_0x52c02e,_0x299c6e,_0xa0d882,_0x18088d){const _0x1a7c90=a110_0x4c68;var _0x45742a=arguments[_0x1a7c90(0x1f8)],_0xd1d022=_0x45742a<0x3?_0x299c6e:_0x18088d===null?_0x18088d=Object[_0x1a7c90(0x1dc)](_0x299c6e,_0xa0d882):_0x18088d,_0x7f2981;if(typeof Reflect===_0x1a7c90(0x1c0)&&typeof Reflect[_0x1a7c90(0x1bf)]===_0x1a7c90(0x1cb))_0xd1d022=Reflect[_0x1a7c90(0x1bf)](_0x52c02e,_0x299c6e,_0xa0d882,_0x18088d);else{for(var _0x2385c5=_0x52c02e['length']-0x1;_0x2385c5>=0x0;_0x2385c5--)if(_0x7f2981=_0x52c02e[_0x2385c5])_0xd1d022=(_0x45742a<0x3?_0x7f2981(_0xd1d022):_0x45742a>0x3?_0x7f2981(_0x299c6e,_0xa0d882,_0xd1d022):_0x7f2981(_0x299c6e,_0xa0d882))||_0xd1d022;}return _0x45742a>0x3&&_0xd1d022&&Object[_0x1a7c90(0x1c9)](_0x299c6e,_0xa0d882,_0xd1d022),_0xd1d022;},__metadata=this&&this['__metadata']||function(_0x57e359,_0x2b4c11){const _0x4bed1c=a110_0x4c68;if(typeof Reflect===_0x4bed1c(0x1c0)&&typeof Reflect[_0x4bed1c(0x1af)]===_0x4bed1c(0x1cb))return Reflect[_0x4bed1c(0x1af)](_0x57e359,_0x2b4c11);};Object[a110_0x5540d5(0x1c9)](exports,a110_0x5540d5(0x1d6),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require(a110_0x5540d5(0x1ed)),salesforce_git_sync_service_1=require(a110_0x5540d5(0x1ec)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x5540d5(0x1c6)),salesforce_sync_service_1=require(a110_0x5540d5(0x1b3)),salesforce_service_1=require(a110_0x5540d5(0x1a6)),utils_1=require(a110_0x5540d5(0x1cc)),factory_parser_1=require(a110_0x5540d5(0x1ff)),vlocity_1=require(a110_0x5540d5(0x1a8));let GitCommitService=class GitCommitService{constructor(_0x5e3877,_0x4a1166,_0x134b84,_0x2e5a23){const _0x1f6413=a110_0x5540d5;this[_0x1f6413(0x1ea)]=_0x5e3877,this[_0x1f6413(0x1cd)]=_0x4a1166,this[_0x1f6413(0x1fb)]=_0x134b84,this[_0x1f6413(0x1ae)]=_0x2e5a23,this[_0x1f6413(0x1db)]=0xc8;}get[a110_0x5540d5(0x1c4)](){const _0xcbea83=a110_0x5540d5;var _0x28acd2;return((_0x28acd2=this['syncRecord'])===null||_0x28acd2===void 0x0?void 0x0:_0x28acd2[_0xcbea83(0x1c4)])||'';}get[a110_0x5540d5(0x1cf)](){const _0x173aa3=a110_0x5540d5;var _0x36f3c1;return((_0x36f3c1=this[_0x173aa3(0x1ef)])===null||_0x36f3c1===void 0x0?void 0x0:_0x36f3c1[_0x173aa3(0x1cf)])||'';}async[a110_0x5540d5(0x1c2)](_0x13604f){const _0x373a9a=a110_0x5540d5;return this[_0x373a9a(0x1ea)]['createCommit'](_0x13604f,this[_0x373a9a(0x1c4)]);}async[a110_0x5540d5(0x1fe)](_0x4a759f){const _0x1fd9e3=a110_0x5540d5;if(this[_0x1fd9e3(0x1ef)]){const _0x2ebb33=await this[_0x1fd9e3(0x1fb)][_0x1fd9e3(0x1f5)](this[_0x1fd9e3(0x1ef)]),_0x51f858=await this[_0x1fd9e3(0x1ae)][_0x1fd9e3(0x1be)](_0x2ebb33)[_0x1fd9e3(0x1ca)](_0x259970=>typeof _0x259970===_0x1fd9e3(0x200)?JSON[_0x1fd9e3(0x1d2)](_0x259970):_0x259970)['catch'](()=>({}));if(_0x51f858[this['gitCommit'][_0x1fd9e3(0x1ab)]]){if(_0x51f858[this[_0x1fd9e3(0x1e2)]['repositoryGit']][_0x1fd9e3(0x1d9)]===_0x4a759f)return!![];}return![];}return![];}async[a110_0x5540d5(0x1a9)](_0x2d065f){const _0x159df2=a110_0x5540d5;this[_0x159df2(0x1ef)]&&await this[_0x159df2(0x1fb)]['updateRemoteState'](this['syncRecord'],_0x2d065f);}[a110_0x5540d5(0x1bc)](){const _0x2b3582=a110_0x5540d5;return this['componentsMetadata'][_0x2b3582(0x1bb)](({fileName:_0x2d7495})=>_0x2d7495);}async[a110_0x5540d5(0x1a4)](_0x3be8c4,_0x5e719e,_0x4d5a4d){const _0x13f01a=a110_0x5540d5,_0x2a6183=new RegExp('^'+_0x3be8c4+_0x13f01a(0x1f6));let _0x26f2f7=[_0x3be8c4];_0x4d5a4d&&!(0x0,vlocity_1[_0x13f01a(0x1c3)])(_0x3be8c4)&&(_0x26f2f7=(0x0,utils_1['filterParserPaths'])(await(0x0,utils_1[_0x13f01a(0x1ee)])(_0x3be8c4,_0x5e719e)['catch'](()=>[])));const _0x545440=_0x4d5a4d?this[_0x13f01a(0x1e7)][_0x13f01a(0x1a7)](_0x3ff9fc=>_0x3ff9fc[_0x13f01a(0x1d3)]['match'](_0x2a6183)):this[_0x13f01a(0x1e7)]['filter'](_0x378bf4=>_0x378bf4[_0x13f01a(0x1d3)]===_0x3be8c4||_0x378bf4[_0x13f01a(0x1d3)]===_0x3be8c4[_0x13f01a(0x1e1)](constants_1[_0x13f01a(0x1e9)],'')),_0x12e1b3=factory_parser_1[_0x13f01a(0x1da)][_0x13f01a(0x1c8)](_0x5e719e,_0x26f2f7),_0x3d17b5=await _0x12e1b3[_0x13f01a(0x1d2)](),_0x210cde=[],_0x5061bf=[];for(const _0x409acd of _0x3d17b5){const _0x227369=_0x545440[_0x13f01a(0x1f9)](_0x1c8a8a=>_0x1c8a8a['name']===_0x409acd[_0x13f01a(0x1f3)]&&_0x1c8a8a[_0x13f01a(0x1e5)]===_0x409acd[_0x13f01a(0x1e5)]);if(!_0x227369){_0x210cde[_0x13f01a(0x1a2)](_0x409acd);continue;}_0x409acd[_0x13f01a(0x1b9)]!==_0x227369[_0x13f01a(0x1e4)]&&_0x5061bf['push']({'meta':_0x227369,'component':_0x409acd}),_0x545440[_0x13f01a(0x1d0)](_0x545440[_0x13f01a(0x1e8)](_0x227369),0x1);}return{'inserted':_0x210cde,'modified':_0x5061bf,'removed':_0x545440};}async[a110_0x5540d5(0x1b6)](){const _0x24b355=a110_0x5540d5;this[_0x24b355(0x1ef)]=this['gitCommit']['branch']===_0x24b355(0x1b7)?await this[_0x24b355(0x1fb)][_0x24b355(0x1c7)](this['gitCommit'][_0x24b355(0x1ba)]):await this[_0x24b355(0x1fb)]['getBranchRecordByName'](this[_0x24b355(0x1e2)][_0x24b355(0x1e3)]),this['recordTypes']=await this[_0x24b355(0x1ea)]['getComponentRecordTypes']();}async[a110_0x5540d5(0x1b8)](_0x3dac56){const _0x3b5e65=a110_0x5540d5;if(this[_0x3b5e65(0x1e2)][_0x3b5e65(0x1b1)]||_0x3dac56){this[_0x3b5e65(0x1e7)]=this[_0x3b5e65(0x1cf)]?await this[_0x3b5e65(0x1ea)][_0x3b5e65(0x1b5)](this[_0x3b5e65(0x1cf)]):await this[_0x3b5e65(0x1ea)][_0x3b5e65(0x201)](this[_0x3b5e65(0x1c4)]);return;}const _0x1a329d=[...new Set(this[_0x3b5e65(0x1e2)]['fileNames'][_0x3b5e65(0x1bb)](_0xb11ddd=>_0xb11ddd[_0x3b5e65(0x1e1)](constants_1[_0x3b5e65(0x1e9)],'')))];this[_0x3b5e65(0x1e7)]=[];while(_0x1a329d[_0x3b5e65(0x1f8)]){const _0x31ee05=_0x1a329d[_0x3b5e65(0x1d0)](0x0,this[_0x3b5e65(0x1db)]),_0x4f8a77=this[_0x3b5e65(0x1cf)]?await this[_0x3b5e65(0x1ea)][_0x3b5e65(0x1d1)](_0x31ee05,this[_0x3b5e65(0x1cf)]):await this['salesforceGitSync'][_0x3b5e65(0x1d8)](_0x31ee05,this[_0x3b5e65(0x1c4)]);this['componentsMetadata'][_0x3b5e65(0x1a2)](..._0x4f8a77);}}async[a110_0x5540d5(0x1f0)](_0x5a1035){const _0x2e6ca1=a110_0x5540d5;this['branchId']?await this[_0x2e6ca1(0x1cd)]['patch'](constants_1[_0x2e6ca1(0x1ce)],this[_0x2e6ca1(0x1cf)],{[constants_1[_0x2e6ca1(0x1ad)]+_0x2e6ca1(0x1eb)]:_0x5a1035,[constants_1[_0x2e6ca1(0x1dd)]+_0x2e6ca1(0x1e0)]:Date[_0x2e6ca1(0x1d5)]()}):await this[_0x2e6ca1(0x1cd)][_0x2e6ca1(0x1f1)](constants_1[_0x2e6ca1(0x1c1)],this[_0x2e6ca1(0x1c4)],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Synchronization_Status__c']:_0x5a1035});}['setCommitDto'](_0x3a1d9b){const _0x26486e=a110_0x5540d5;this[_0x26486e(0x1e2)]=_0x3a1d9b;}[a110_0x5540d5(0x1de)](){const _0xfc25e9=a110_0x5540d5;return this[_0xfc25e9(0x1f4)];}['getRepositoryId'](){const _0x7bc8b7=a110_0x5540d5;return this[_0x7bc8b7(0x1c4)];}[a110_0x5540d5(0x1df)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x5540d5(0x1ac)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a110_0x5540d5(0x1b2)],salesforce_sync_service_1[a110_0x5540d5(0x1b0)],salesforce_service_1[a110_0x5540d5(0x1aa)]])],GitCommitService),exports[a110_0x5540d5(0x1a5)]=GitCommitService;