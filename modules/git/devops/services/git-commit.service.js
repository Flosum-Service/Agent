const a79_0x248f50=a79_0x2f1b;(function(_0x5cf566,_0x1eebc2){const _0xb60c44=a79_0x2f1b,_0x415d91=_0x5cf566();while(!![]){try{const _0x38a0b6=-parseInt(_0xb60c44(0xf5))/0x1*(-parseInt(_0xb60c44(0xd5))/0x2)+parseInt(_0xb60c44(0x11b))/0x3*(-parseInt(_0xb60c44(0xe4))/0x4)+parseInt(_0xb60c44(0xed))/0x5+parseInt(_0xb60c44(0xf0))/0x6*(-parseInt(_0xb60c44(0x120))/0x7)+parseInt(_0xb60c44(0xcb))/0x8+-parseInt(_0xb60c44(0xce))/0x9+parseInt(_0xb60c44(0xd1))/0xa;if(_0x38a0b6===_0x1eebc2)break;else _0x415d91['push'](_0x415d91['shift']());}catch(_0x3c344d){_0x415d91['push'](_0x415d91['shift']());}}}(a79_0x12f2,0x85522));function a79_0x2f1b(_0x3ef93e,_0xdf5de0){const _0x250f55=a79_0x12f2();return a79_0x2f1b=function(_0x2a06c0,_0x206386){_0x2a06c0=_0x2a06c0-0xc9;let _0x12f2f0=_0x250f55[_0x2a06c0];return _0x12f2f0;},a79_0x2f1b(_0x3ef93e,_0xdf5de0);}const a79_0x206386=(function(){let _0x2b80b9=!![];return function(_0x5eb32d,_0x5f26dc){const _0x338d7c=_0x2b80b9?function(){const _0x13c0b2=a79_0x2f1b;if(_0x5f26dc){const _0x57f3e4=_0x5f26dc[_0x13c0b2(0xe3)](_0x5eb32d,arguments);return _0x5f26dc=null,_0x57f3e4;}}:function(){};return _0x2b80b9=![],_0x338d7c;};}()),a79_0x2a06c0=a79_0x206386(this,function(){const _0x1f9a98=a79_0x2f1b;return a79_0x2a06c0[_0x1f9a98(0x107)]()['search']('(((.+)+)+)+$')[_0x1f9a98(0x107)]()['constructor'](a79_0x2a06c0)[_0x1f9a98(0x115)]('(((.+)+)+)+$');});a79_0x2a06c0();'use strict';function a79_0x12f2(){const _0x5b41f7=['../../../../constants','670760QcryMm','getBranchId','createCommit','now','2rEWqhp','SalesforceRestService','GitCommitService','gitCommit','proceedFile','fetchBranchComponentsByFilenames','SalesforceGitSyncService','getRepositoryRecordByName','FLOSUM_GIT_NAMESPACE','splice','../../parsers/mdapi/parser-v2','push','lastCommit','repositoryGit','apply','4FRqtqI','salesforce','parse','recordTypes','getOwnPropertyDescriptor','getUnusedComponentsFilePaths','replace','salesforceRest','componentsMetadata','3257735hYXbTx','MDApiParserV2','filterParserPaths','5748XHzSrr','../../parsers/utils','salesforceGitSync','indexOf','function','97405HQsSZJ','__decorate','fetchRepositoryComponentsByFilenames','__metadata','name','syncRecord','__esModule','setCommitDto','fileNames','branch','type','getBranchRecordByName','catch','getComponentRecordTypes','crc','force','../../salesforce/services/salesforce-git-sync.service','FLOSUM_BRANCH','toString','defineProperty','META_XML_EXTENSION','crc32','TASKS_PER_TICK','string','repositoryId','retrieveAttachment','fetchRepositoryComponents','([./-]{1}|$)','getRecordTypes','salesforceSync','branchId','patch','search','decorate','metadata','Synchronization_Status__c','updateRemoteState','length','1863813unOdKb','fetchComponentsMetadata','fetchRepositoryOrBranchData','typedi','FLOSUM_NAMESPACE','602butNtY','SalesforceService','filter','FLOSUM_REPOSITORY','checkSyncStatus','map','Last_Updated_On__c','4931880bqfnqc','fileName','getRepositoryId','1644948MLeQjz','updateStatus'];a79_0x12f2=function(){return _0x5b41f7;};return a79_0x12f2();}var __decorate=this&&this[a79_0x248f50(0xf6)]||function(_0x8ab436,_0x2a75fc,_0x573d79,_0x5e0047){const _0x1442c7=a79_0x248f50;var _0x2a44c2=arguments[_0x1442c7(0x11a)],_0x3b847f=_0x2a44c2<0x3?_0x2a75fc:_0x5e0047===null?_0x5e0047=Object[_0x1442c7(0xe8)](_0x2a75fc,_0x573d79):_0x5e0047,_0x1b4d73;if(typeof Reflect==='object'&&typeof Reflect[_0x1442c7(0x116)]===_0x1442c7(0xf4))_0x3b847f=Reflect[_0x1442c7(0x116)](_0x8ab436,_0x2a75fc,_0x573d79,_0x5e0047);else{for(var _0x1f4f3e=_0x8ab436['length']-0x1;_0x1f4f3e>=0x0;_0x1f4f3e--)if(_0x1b4d73=_0x8ab436[_0x1f4f3e])_0x3b847f=(_0x2a44c2<0x3?_0x1b4d73(_0x3b847f):_0x2a44c2>0x3?_0x1b4d73(_0x2a75fc,_0x573d79,_0x3b847f):_0x1b4d73(_0x2a75fc,_0x573d79))||_0x3b847f;}return _0x2a44c2>0x3&&_0x3b847f&&Object['defineProperty'](_0x2a75fc,_0x573d79,_0x3b847f),_0x3b847f;},__metadata=this&&this[a79_0x248f50(0xf8)]||function(_0x129ead,_0x3b6951){const _0x40285d=a79_0x248f50;if(typeof Reflect==='object'&&typeof Reflect[_0x40285d(0x117)]===_0x40285d(0xf4))return Reflect[_0x40285d(0x117)](_0x129ead,_0x3b6951);};Object[a79_0x248f50(0x108)](exports,a79_0x248f50(0xfb),{'value':!![]}),exports[a79_0x248f50(0xd7)]=void 0x0;const constants_1=require(a79_0x248f50(0xd0)),salesforce_git_sync_service_1=require(a79_0x248f50(0x105)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a79_0x248f50(0x11e)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require(a79_0x248f50(0xdf)),utils_1=require(a79_0x248f50(0xf1));let GitCommitService=class GitCommitService{constructor(_0x1687ba,_0x2c9f4c,_0x2f8346,_0x2bfc88){const _0x4d8c95=a79_0x248f50;this['salesforceGitSync']=_0x1687ba,this[_0x4d8c95(0xeb)]=_0x2c9f4c,this[_0x4d8c95(0x112)]=_0x2f8346,this['salesforce']=_0x2bfc88,this[_0x4d8c95(0x10b)]=0xc8;}get[a79_0x248f50(0x10d)](){const _0x232aa1=a79_0x248f50;var _0x2af6fb;return((_0x2af6fb=this['syncRecord'])===null||_0x2af6fb===void 0x0?void 0x0:_0x2af6fb[_0x232aa1(0x10d)])||'';}get[a79_0x248f50(0x113)](){const _0x1242e3=a79_0x248f50;var _0x579350;return((_0x579350=this[_0x1242e3(0xfa)])===null||_0x579350===void 0x0?void 0x0:_0x579350[_0x1242e3(0x113)])||'';}async[a79_0x248f50(0xd3)](_0x4e3dac){const _0xcb5c64=a79_0x248f50;return this[_0xcb5c64(0xf2)]['createCommit'](_0x4e3dac,this[_0xcb5c64(0x10d)]);}async[a79_0x248f50(0x124)](_0x48b274){const _0x216867=a79_0x248f50;if(this[_0x216867(0xfa)]){const _0x2e0e0e=await this[_0x216867(0x112)]['getRemoteStateAttachmentId'](this[_0x216867(0xfa)]),_0x55d9ce=await this[_0x216867(0xe5)][_0x216867(0x10e)](_0x2e0e0e)['then'](_0x8eb351=>typeof _0x8eb351===_0x216867(0x10c)?JSON[_0x216867(0xe6)](_0x8eb351):_0x8eb351)[_0x216867(0x101)](()=>({}));if(_0x55d9ce[this[_0x216867(0xd8)]['repositoryGit']]){if(_0x55d9ce[this[_0x216867(0xd8)][_0x216867(0xe2)]][_0x216867(0xe1)]===_0x48b274)return!![];}return![];}return![];}async[a79_0x248f50(0x119)](_0x22fda1){const _0x3f4e5a=a79_0x248f50;this[_0x3f4e5a(0xfa)]&&await this[_0x3f4e5a(0x112)][_0x3f4e5a(0x119)](this[_0x3f4e5a(0xfa)],_0x22fda1);}[a79_0x248f50(0xe9)](){const _0x4cc8d9=a79_0x248f50;return this[_0x4cc8d9(0xec)][_0x4cc8d9(0xc9)](({fileName:_0x53c6e6})=>_0x53c6e6);}async[a79_0x248f50(0xd9)](_0x2cb2d2,_0x52240b,_0x108a30){const _0x5991fc=a79_0x248f50,_0x373b1b=new RegExp('^'+_0x2cb2d2+_0x5991fc(0x110));let _0x16050c=[_0x2cb2d2];_0x108a30&&(_0x16050c=(0x0,utils_1[_0x5991fc(0xef)])(await(0x0,utils_1['readFilesByFilename'])(_0x2cb2d2,_0x52240b)[_0x5991fc(0x101)](()=>[])));const _0xda571f=_0x108a30?this[_0x5991fc(0xec)][_0x5991fc(0x122)](_0x232fec=>_0x232fec[_0x5991fc(0xcc)]['match'](_0x373b1b)):this[_0x5991fc(0xec)][_0x5991fc(0x122)](_0x119343=>_0x119343[_0x5991fc(0xcc)]===_0x2cb2d2||_0x119343[_0x5991fc(0xcc)]===_0x2cb2d2[_0x5991fc(0xea)](constants_1[_0x5991fc(0x109)],'')),_0x4265ac=new parser_v2_1[(_0x5991fc(0xee))](_0x52240b,_0x16050c),_0xa59a57=await _0x4265ac[_0x5991fc(0xe6)](),_0x248eb9=[],_0x1f534=[];for(const _0x59d193 of _0xa59a57){const _0x11d069=_0xda571f['find'](_0x3d6e4d=>_0x3d6e4d[_0x5991fc(0xf9)]===_0x59d193[_0x5991fc(0xf9)]&&_0x3d6e4d[_0x5991fc(0xff)]===_0x59d193[_0x5991fc(0xff)]);if(!_0x11d069){_0x248eb9[_0x5991fc(0xe0)](_0x59d193);continue;}_0x59d193[_0x5991fc(0x103)]!==_0x11d069[_0x5991fc(0x10a)]&&_0x1f534[_0x5991fc(0xe0)]({'meta':_0x11d069,'component':_0x59d193}),_0xda571f[_0x5991fc(0xde)](_0xda571f[_0x5991fc(0xf3)](_0x11d069),0x1);}return{'inserted':_0x248eb9,'modified':_0x1f534,'removed':_0xda571f};}async[a79_0x248f50(0x11d)](){const _0x81bdf4=a79_0x248f50;this['syncRecord']=this['gitCommit'][_0x81bdf4(0xfe)]==='master'?await this[_0x81bdf4(0x112)][_0x81bdf4(0xdc)](this['gitCommit']['repository']):await this[_0x81bdf4(0x112)][_0x81bdf4(0x100)](this[_0x81bdf4(0xd8)][_0x81bdf4(0xfe)]),this[_0x81bdf4(0xe7)]=await this[_0x81bdf4(0xf2)][_0x81bdf4(0x102)]();}async[a79_0x248f50(0x11c)](_0x414477){const _0x2426b8=a79_0x248f50;if(this[_0x2426b8(0xd8)][_0x2426b8(0x104)]||_0x414477){this[_0x2426b8(0xec)]=this[_0x2426b8(0x113)]?await this[_0x2426b8(0xf2)]['fetchBranchComponents'](this[_0x2426b8(0x113)]):await this[_0x2426b8(0xf2)][_0x2426b8(0x10f)](this[_0x2426b8(0x10d)]);return;}const _0x7d7d5a=[...new Set(this['gitCommit'][_0x2426b8(0xfd)][_0x2426b8(0xc9)](_0x5d6d53=>_0x5d6d53[_0x2426b8(0xea)](constants_1[_0x2426b8(0x109)],'')))];this['componentsMetadata']=[];while(_0x7d7d5a[_0x2426b8(0x11a)]){const _0xe68c37=_0x7d7d5a[_0x2426b8(0xde)](0x0,this[_0x2426b8(0x10b)]),_0x599a53=this[_0x2426b8(0x113)]?await this[_0x2426b8(0xf2)][_0x2426b8(0xda)](_0xe68c37,this[_0x2426b8(0x113)]):await this[_0x2426b8(0xf2)][_0x2426b8(0xf7)](_0xe68c37,this[_0x2426b8(0x10d)]);this[_0x2426b8(0xec)][_0x2426b8(0xe0)](..._0x599a53);}}async[a79_0x248f50(0xcf)](_0x46cb36){const _0x54cfd3=a79_0x248f50;this[_0x54cfd3(0x113)]?await this['salesforceRest'][_0x54cfd3(0x114)](constants_1[_0x54cfd3(0x106)],this[_0x54cfd3(0x113)],{[constants_1[_0x54cfd3(0xdd)]+_0x54cfd3(0x118)]:_0x46cb36,[constants_1[_0x54cfd3(0x11f)]+_0x54cfd3(0xca)]:Date[_0x54cfd3(0xd4)]()}):await this[_0x54cfd3(0xeb)][_0x54cfd3(0x114)](constants_1[_0x54cfd3(0x123)],this['repositoryId'],{[constants_1[_0x54cfd3(0xdd)]+_0x54cfd3(0x118)]:_0x46cb36});}[a79_0x248f50(0xfc)](_0x2ac087){const _0xf96357=a79_0x248f50;this[_0xf96357(0xd8)]=_0x2ac087;}[a79_0x248f50(0x111)](){const _0x49ce35=a79_0x248f50;return this[_0x49ce35(0xe7)];}[a79_0x248f50(0xcd)](){const _0x5ba18c=a79_0x248f50;return this[_0x5ba18c(0x10d)];}[a79_0x248f50(0xd2)](){const _0x60e73a=a79_0x248f50;return this[_0x60e73a(0x113)];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a79_0x248f50(0xdb)],salesforce_rest_service_1[a79_0x248f50(0xd6)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a79_0x248f50(0x121)]])],GitCommitService),exports[a79_0x248f50(0xd7)]=GitCommitService;