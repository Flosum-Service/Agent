const a112_0x59c797=a112_0x2768;(function(_0x3c690b,_0x50876b){const _0x558ae6=a112_0x2768,_0x3cf179=_0x3c690b();while(!![]){try{const _0x4edba8=-parseInt(_0x558ae6(0x19e))/0x1*(-parseInt(_0x558ae6(0x1a7))/0x2)+-parseInt(_0x558ae6(0x1c2))/0x3*(parseInt(_0x558ae6(0x1a4))/0x4)+parseInt(_0x558ae6(0x1c4))/0x5+-parseInt(_0x558ae6(0x195))/0x6*(parseInt(_0x558ae6(0x18f))/0x7)+parseInt(_0x558ae6(0x1c5))/0x8*(-parseInt(_0x558ae6(0x185))/0x9)+parseInt(_0x558ae6(0x1bd))/0xa*(parseInt(_0x558ae6(0x1d8))/0xb)+parseInt(_0x558ae6(0x19f))/0xc;if(_0x4edba8===_0x50876b)break;else _0x3cf179['push'](_0x3cf179['shift']());}catch(_0x578912){_0x3cf179['push'](_0x3cf179['shift']());}}}(a112_0xe532,0xb8659));const a112_0x89d6df=(function(){let _0x56d6c0=!![];return function(_0x59c575,_0x196f51){const _0x206982=_0x56d6c0?function(){const _0x36afc8=a112_0x2768;if(_0x196f51){const _0x28f112=_0x196f51[_0x36afc8(0x1d1)](_0x59c575,arguments);return _0x196f51=null,_0x28f112;}}:function(){};return _0x56d6c0=![],_0x206982;};}()),a112_0x507636=a112_0x89d6df(this,function(){const _0x3df612=a112_0x2768;return a112_0x507636['toString']()[_0x3df612(0x1a5)](_0x3df612(0x190))[_0x3df612(0x193)]()[_0x3df612(0x1af)](a112_0x507636)[_0x3df612(0x1a5)](_0x3df612(0x190));});a112_0x507636();'use strict';var __decorate=this&&this[a112_0x59c797(0x1b4)]||function(_0x54dcc0,_0xc21df3,_0x5e9756,_0x349c27){const _0x101967=a112_0x59c797;var _0x5ae618=arguments[_0x101967(0x1a1)],_0x55a7a0=_0x5ae618<0x3?_0xc21df3:_0x349c27===null?_0x349c27=Object[_0x101967(0x1a8)](_0xc21df3,_0x5e9756):_0x349c27,_0x6c93da;if(typeof Reflect===_0x101967(0x1a0)&&typeof Reflect['decorate']===_0x101967(0x1a6))_0x55a7a0=Reflect[_0x101967(0x1c8)](_0x54dcc0,_0xc21df3,_0x5e9756,_0x349c27);else{for(var _0x2c4257=_0x54dcc0[_0x101967(0x1a1)]-0x1;_0x2c4257>=0x0;_0x2c4257--)if(_0x6c93da=_0x54dcc0[_0x2c4257])_0x55a7a0=(_0x5ae618<0x3?_0x6c93da(_0x55a7a0):_0x5ae618>0x3?_0x6c93da(_0xc21df3,_0x5e9756,_0x55a7a0):_0x6c93da(_0xc21df3,_0x5e9756))||_0x55a7a0;}return _0x5ae618>0x3&&_0x55a7a0&&Object[_0x101967(0x1d2)](_0xc21df3,_0x5e9756,_0x55a7a0),_0x55a7a0;},__metadata=this&&this[a112_0x59c797(0x1ae)]||function(_0x5933ed,_0x9b58f8){const _0x30fe97=a112_0x59c797;if(typeof Reflect===_0x30fe97(0x1a0)&&typeof Reflect[_0x30fe97(0x1ab)]==='function')return Reflect[_0x30fe97(0x1ab)](_0x5933ed,_0x9b58f8);};function a112_0x2768(_0x2fca55,_0x1f6577){const _0x46d76c=a112_0xe532();return a112_0x2768=function(_0x507636,_0x89d6df){_0x507636=_0x507636-0x180;let _0xe53281=_0x46d76c[_0x507636];return _0xe53281;},a112_0x2768(_0x2fca55,_0x1f6577);}Object[a112_0x59c797(0x1d2)](exports,a112_0x59c797(0x1d3),{'value':!![]}),exports[a112_0x59c797(0x1b2)]=void 0x0;const constants_1=require(a112_0x59c797(0x1c9)),salesforce_git_sync_service_1=require(a112_0x59c797(0x1b8)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a112_0x59c797(0x1be)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a112_0x59c797(0x1b6)),factory_parser_1=require('../../parsers/factory.parser'),path_utils_1=require(a112_0x59c797(0x1b7)),components_utils_1=require(a112_0x59c797(0x1cc));function a112_0xe532(){const _0x1f258b=['767938mKMFeC','getOwnPropertyDescriptor','salesforce','getRepositoryId','metadata','syncRecord','FactoryParser','__metadata','constructor','recordTypeName','push','GitCommitService','repositoryId','__decorate','fetchComponentsMetadata','../../salesforce/services/salesforce.service','../utils/path.utils','../../salesforce/services/salesforce-git-sync.service','repositoryGit','filterMetadataComponents','master','readComponentPaths','30LbLZzN','typedi','string','FLOSUM_BRANCH','PathUtils','66bjaLrU','TASKS_PER_TICK','124155QsgzSH','2296PULEpd','parse','repository','decorate','../../../../constants','getRemoteStateAttachmentId','indexOf','../utils/components.utils','design:paramtypes','Synchronization_Status__c','SalesforceService','fetchBranchComponentsByFilenames','apply','defineProperty','__esModule','Last_Updated_On__c','salesforceRest','type','now','60709yduVEH','getBranchRecordByName','retrieveAttachment','branchId','fetchRepositoryComponents','recordTypes','getComponentRecordTypes','getRepositoryRecordByName','FLOSUM_GIT_NAMESPACE','patch','crc','crc32','fetchBranchComponents','41688WDRgTh','fileNames','SalesforceGitSyncService','recordType','fetchRepositoryComponentsByFilenames','componentsMetadata','gitCommit','updateRemoteState','salesforceGitSync','getBranchId','8643439ojrUIg','(((.+)+)+)+$','FLOSUM_REPOSITORY','lastCommit','toString','checkSyncStatus','6kidTeb','SalesforceRestService','getRecordTypes','branch','ComponentsUtils','name','createCommit','map','then','2IHlkcM','40489824NjKFLA','object','length','prepareComponentNamesForFetchMetadata','salesforceSync','157096ajbwLG','search','function'];a112_0xe532=function(){return _0x1f258b;};return a112_0xe532();}let GitCommitService=class GitCommitService{constructor(_0x3e461f,_0x55cc68,_0x4e38ca,_0x2df923){const _0xd3733d=a112_0x59c797;this['salesforceGitSync']=_0x3e461f,this[_0xd3733d(0x1d5)]=_0x55cc68,this[_0xd3733d(0x1a3)]=_0x4e38ca,this['salesforce']=_0x2df923,this[_0xd3733d(0x1c3)]=0xc8;}get['repositoryId'](){const _0x45e015=a112_0x59c797;var _0x4250ad;return((_0x4250ad=this['syncRecord'])===null||_0x4250ad===void 0x0?void 0x0:_0x4250ad[_0x45e015(0x1b3)])||'';}get['branchId'](){const _0x3afe54=a112_0x59c797;var _0x5b2c2d;return((_0x5b2c2d=this['syncRecord'])===null||_0x5b2c2d===void 0x0?void 0x0:_0x5b2c2d[_0x3afe54(0x1db)])||'';}get[a112_0x59c797(0x188)](){const _0x4bfeba=a112_0x59c797;return this[_0x4bfeba(0x1ac)][_0x4bfeba(0x1b0)];}async[a112_0x59c797(0x19b)](_0x247252){const _0x3d68ac=a112_0x59c797;return this[_0x3d68ac(0x18d)][_0x3d68ac(0x19b)](_0x247252,this['repositoryId']);}async[a112_0x59c797(0x194)](_0x4e0c57){const _0x20990f=a112_0x59c797;if(this[_0x20990f(0x1ac)]){const _0x39d07d=await this[_0x20990f(0x1a3)][_0x20990f(0x1ca)](this[_0x20990f(0x1ac)]),_0x4968a7=await this[_0x20990f(0x1a9)][_0x20990f(0x1da)](_0x39d07d)[_0x20990f(0x19d)](_0x45b026=>typeof _0x45b026===_0x20990f(0x1bf)?JSON[_0x20990f(0x1c6)](_0x45b026):_0x45b026)['catch'](()=>({}));if(_0x4968a7[this['gitCommit'][_0x20990f(0x1b9)]]){if(_0x4968a7[this[_0x20990f(0x18b)][_0x20990f(0x1b9)]][_0x20990f(0x192)]===_0x4e0c57)return!![];}return![];}return![];}async[a112_0x59c797(0x18c)](_0x5dff2a){const _0x381e7e=a112_0x59c797;this[_0x381e7e(0x1ac)]&&await this[_0x381e7e(0x1a3)][_0x381e7e(0x18c)](this[_0x381e7e(0x1ac)],_0x5dff2a);}['getUnusedComponentsFilePaths'](){const _0x2f53f0=a112_0x59c797;return this['componentsMetadata'][_0x2f53f0(0x19c)](({fileName:_0x41f359})=>_0x41f359);}async['proceedFile'](_0x2a28c0,_0x2af020,_0x4e194e){const _0x3d5afd=a112_0x59c797,_0x30c945=await path_utils_1[_0x3d5afd(0x1c1)][_0x3d5afd(0x1bc)](this['syncRecord'][_0x3d5afd(0x1b0)],_0x2a28c0,_0x2af020,_0x4e194e),_0x58e891=components_utils_1[_0x3d5afd(0x199)][_0x3d5afd(0x1ba)](this['componentsMetadata'],_0x2a28c0,_0x4e194e,this[_0x3d5afd(0x1ac)][_0x3d5afd(0x1b0)]),_0x52eae4=factory_parser_1[_0x3d5afd(0x1ad)]['create']({'recordType':this['syncRecord'][_0x3d5afd(0x1b0)],'sourceDir':_0x2af020,'paths':_0x30c945}),_0x476d20=await _0x52eae4['execute'](),_0x581dbf=[],_0x3fdcf8=[];for(const _0x4d387b of _0x476d20){const _0x5486e1=_0x58e891['find'](_0x5ab953=>_0x5ab953[_0x3d5afd(0x19a)]===_0x4d387b[_0x3d5afd(0x19a)]&&_0x5ab953['type']===_0x4d387b[_0x3d5afd(0x1d6)]);if(!_0x5486e1){_0x581dbf[_0x3d5afd(0x1b1)](_0x4d387b);continue;}_0x4d387b[_0x3d5afd(0x182)]!==_0x5486e1[_0x3d5afd(0x183)]&&_0x3fdcf8[_0x3d5afd(0x1b1)]({'meta':_0x5486e1,'component':_0x4d387b}),_0x58e891['splice'](_0x58e891[_0x3d5afd(0x1cb)](_0x5486e1),0x1);}return{'inserted':_0x581dbf,'modified':_0x3fdcf8,'removed':_0x58e891};}async['fetchRepositoryOrBranchData'](){const _0x45961b=a112_0x59c797;this['syncRecord']=this[_0x45961b(0x18b)][_0x45961b(0x198)]===_0x45961b(0x1bb)?await this[_0x45961b(0x1a3)][_0x45961b(0x1df)](this[_0x45961b(0x18b)][_0x45961b(0x1c7)]):await this[_0x45961b(0x1a3)][_0x45961b(0x1d9)](this[_0x45961b(0x18b)][_0x45961b(0x198)]),this[_0x45961b(0x1dd)]=await this[_0x45961b(0x18d)][_0x45961b(0x1de)]();}async[a112_0x59c797(0x1b5)](_0x5cb4d3){const _0x142f2e=a112_0x59c797;if(this[_0x142f2e(0x18b)]['force']||_0x5cb4d3){this[_0x142f2e(0x18a)]=this[_0x142f2e(0x1db)]?await this[_0x142f2e(0x18d)][_0x142f2e(0x184)](this[_0x142f2e(0x1db)]):await this[_0x142f2e(0x18d)][_0x142f2e(0x1dc)](this['repositoryId']);return;}const _0x3c8509=components_utils_1[_0x142f2e(0x199)][_0x142f2e(0x1a2)](this[_0x142f2e(0x18b)][_0x142f2e(0x186)],this[_0x142f2e(0x1ac)][_0x142f2e(0x1b0)]);this[_0x142f2e(0x18a)]=[];while(_0x3c8509[_0x142f2e(0x1a1)]){const _0x448db3=_0x3c8509['splice'](0x0,this[_0x142f2e(0x1c3)]),_0x534fab=this[_0x142f2e(0x1db)]?await this[_0x142f2e(0x18d)][_0x142f2e(0x1d0)](_0x448db3,this[_0x142f2e(0x1db)]):await this[_0x142f2e(0x18d)][_0x142f2e(0x189)](_0x448db3,this[_0x142f2e(0x1b3)]);this[_0x142f2e(0x18a)]['push'](..._0x534fab);}}async['updateStatus'](_0x4f14b1){const _0x4cc4e4=a112_0x59c797;this[_0x4cc4e4(0x1db)]?await this['salesforceRest'][_0x4cc4e4(0x181)](constants_1[_0x4cc4e4(0x1c0)],this[_0x4cc4e4(0x1db)],{[constants_1[_0x4cc4e4(0x180)]+_0x4cc4e4(0x1ce)]:_0x4f14b1,[constants_1['FLOSUM_NAMESPACE']+_0x4cc4e4(0x1d4)]:Date[_0x4cc4e4(0x1d7)]()}):await this[_0x4cc4e4(0x1d5)][_0x4cc4e4(0x181)](constants_1[_0x4cc4e4(0x191)],this[_0x4cc4e4(0x1b3)],{[constants_1[_0x4cc4e4(0x180)]+_0x4cc4e4(0x1ce)]:_0x4f14b1});}['setCommitDto'](_0x144b75){const _0x28209e=a112_0x59c797;this[_0x28209e(0x18b)]=_0x144b75;}[a112_0x59c797(0x197)](){const _0x1aec90=a112_0x59c797;return this[_0x1aec90(0x1dd)];}[a112_0x59c797(0x1aa)](){const _0xe2ba7e=a112_0x59c797;return this[_0xe2ba7e(0x1b3)];}[a112_0x59c797(0x18e)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a112_0x59c797(0x1cd),[salesforce_git_sync_service_1[a112_0x59c797(0x187)],salesforce_rest_service_1[a112_0x59c797(0x196)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a112_0x59c797(0x1cf)]])],GitCommitService),exports[a112_0x59c797(0x1b2)]=GitCommitService;