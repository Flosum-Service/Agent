function a130_0x4792(){const _0x49aa01=['fetchBranchComponents','type','master','map','getOwnPropertyDescriptor','fetchBranchComponentsByFilenames','fileNames','gitCommit','recordType','syncRecord','apply','Service','then','118383SYAbqU','SalesforceGitSyncService','push','length','2326302aiDTXF','fetchRepositoryOrBranchData','GitCommitService','recordTypes','force','filterMetadataComponents','name','salesforceSync','constructor','2GbktEO','componentsMetadata','fetchRepositoryComponents','salesforceRest','recordTypeName','__esModule','../../salesforce/services/salesforce.service','parse','patch','repository','FLOSUM_NAMESPACE','FLOSUM_BRANCH','fetchRepositoryComponentsByFilenames','ComponentsUtils','retrieveAttachment','toString','143033txAkvT','25lHpOhf','getRepositoryRecordByName','proceedFile','readComponentPaths','prepareComponentNamesForFetchMetadata','fetchComponentsMetadata','getRecordTypes','splice','91408fXzJaq','../../salesforce/services/salesforce-sync.service','function','FLOSUM_REPOSITORY','design:paramtypes','branch','crc','../utils/components.utils','(((.+)+)+)+$','createCommit','Synchronization_Status__c','lastCommit','90769PiwVqL','getUnusedComponentsFilePaths','FactoryParser','defineProperty','SalesforceRestService','updateRemoteState','object','repositoryId','56148hKSBEn','getBranchRecordByName','1189950OPjFqK','repositoryGit','TASKS_PER_TICK','create','indexOf','search','__decorate','find','salesforce','FLOSUM_GIT_NAMESPACE','../../parsers/factory.parser','../../salesforce/services/salesforce-git-sync.service','crc32','getRemoteStateAttachmentId','../../../../constants','branchId','456kCsLJi','salesforceGitSync','decorate','updateStatus','getBranchId'];a130_0x4792=function(){return _0x49aa01;};return a130_0x4792();}const a130_0x2bfb0e=a130_0x5072;(function(_0x4cbfea,_0x18b1b8){const _0xec6595=a130_0x5072,_0x3af34a=_0x4cbfea();while(!![]){try{const _0x5c7dc5=parseInt(_0xec6595(0xb1))/0x1+parseInt(_0xec6595(0xff))/0x2*(-parseInt(_0xec6595(0xf2))/0x3)+-parseInt(_0xec6595(0xba))/0x4+-parseInt(_0xec6595(0xb2))/0x5*(parseInt(_0xec6595(0xce))/0x6)+parseInt(_0xec6595(0xc6))/0x7*(parseInt(_0xec6595(0xe0))/0x8)+-parseInt(_0xec6595(0xf6))/0x9+-parseInt(_0xec6595(0xd0))/0xa;if(_0x5c7dc5===_0x18b1b8)break;else _0x3af34a['push'](_0x3af34a['shift']());}catch(_0x493ea2){_0x3af34a['push'](_0x3af34a['shift']());}}}(a130_0x4792,0x60938));const a130_0x3cb88a=(function(){let _0x20989f=!![];return function(_0x8583cb,_0x356efb){const _0x129153=_0x20989f?function(){const _0x12d59c=a130_0x5072;if(_0x356efb){const _0x1d8dd0=_0x356efb[_0x12d59c(0xef)](_0x8583cb,arguments);return _0x356efb=null,_0x1d8dd0;}}:function(){};return _0x20989f=![],_0x129153;};}()),a130_0x2db464=a130_0x3cb88a(this,function(){const _0x1fb6d8=a130_0x5072;return a130_0x2db464[_0x1fb6d8(0xb0)]()['search'](_0x1fb6d8(0xc2))['toString']()[_0x1fb6d8(0xfe)](a130_0x2db464)[_0x1fb6d8(0xd5)](_0x1fb6d8(0xc2));});a130_0x2db464();'use strict';var __decorate=this&&this[a130_0x2bfb0e(0xd6)]||function(_0x4f39b1,_0x421250,_0x1cb64c,_0x18dacc){const _0x53e0d2=a130_0x2bfb0e;var _0x372a22=arguments[_0x53e0d2(0xf5)],_0x5593b5=_0x372a22<0x3?_0x421250:_0x18dacc===null?_0x18dacc=Object[_0x53e0d2(0xe9)](_0x421250,_0x1cb64c):_0x18dacc,_0x46c2a1;if(typeof Reflect===_0x53e0d2(0xcc)&&typeof Reflect[_0x53e0d2(0xe2)]===_0x53e0d2(0xbc))_0x5593b5=Reflect[_0x53e0d2(0xe2)](_0x4f39b1,_0x421250,_0x1cb64c,_0x18dacc);else{for(var _0x33db7e=_0x4f39b1['length']-0x1;_0x33db7e>=0x0;_0x33db7e--)if(_0x46c2a1=_0x4f39b1[_0x33db7e])_0x5593b5=(_0x372a22<0x3?_0x46c2a1(_0x5593b5):_0x372a22>0x3?_0x46c2a1(_0x421250,_0x1cb64c,_0x5593b5):_0x46c2a1(_0x421250,_0x1cb64c))||_0x5593b5;}return _0x372a22>0x3&&_0x5593b5&&Object[_0x53e0d2(0xc9)](_0x421250,_0x1cb64c,_0x5593b5),_0x5593b5;},__metadata=this&&this['__metadata']||function(_0x3082e3,_0x525a32){const _0x346999=a130_0x2bfb0e;if(typeof Reflect===_0x346999(0xcc)&&typeof Reflect['metadata']===_0x346999(0xbc))return Reflect['metadata'](_0x3082e3,_0x525a32);};Object[a130_0x2bfb0e(0xc9)](exports,a130_0x2bfb0e(0x104),{'value':!![]}),exports[a130_0x2bfb0e(0xf8)]=void 0x0;const constants_1=require(a130_0x2bfb0e(0xde)),salesforce_git_sync_service_1=require(a130_0x2bfb0e(0xdb)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require('typedi'),salesforce_sync_service_1=require(a130_0x2bfb0e(0xbb)),salesforce_service_1=require(a130_0x2bfb0e(0x105)),factory_parser_1=require(a130_0x2bfb0e(0xda)),path_utils_1=require('../utils/path.utils'),components_utils_1=require(a130_0x2bfb0e(0xc1));let GitCommitService=class GitCommitService{constructor(_0x1a26a7,_0x609682,_0x186408,_0x142f35){const _0x54a647=a130_0x2bfb0e;this[_0x54a647(0xe1)]=_0x1a26a7,this[_0x54a647(0x102)]=_0x609682,this['salesforceSync']=_0x186408,this[_0x54a647(0xd8)]=_0x142f35,this[_0x54a647(0xd2)]=0xc8;}get[a130_0x2bfb0e(0xcd)](){const _0x2b5927=a130_0x2bfb0e;var _0x5322f1;return((_0x5322f1=this['syncRecord'])===null||_0x5322f1===void 0x0?void 0x0:_0x5322f1[_0x2b5927(0xcd)])||'';}get[a130_0x2bfb0e(0xdf)](){const _0x47d449=a130_0x2bfb0e;var _0x7f2e38;return((_0x7f2e38=this[_0x47d449(0xee)])===null||_0x7f2e38===void 0x0?void 0x0:_0x7f2e38[_0x47d449(0xdf)])||'';}get[a130_0x2bfb0e(0xed)](){const _0x4edf1d=a130_0x2bfb0e;return this[_0x4edf1d(0xee)][_0x4edf1d(0x103)];}async[a130_0x2bfb0e(0xc3)](_0x39310e){const _0x3bc9ba=a130_0x2bfb0e;return this['salesforceGitSync'][_0x3bc9ba(0xc3)](_0x39310e,this[_0x3bc9ba(0xcd)]);}async['checkSyncStatus'](_0x5308ba){const _0x186df6=a130_0x2bfb0e;if(this[_0x186df6(0xee)]){const _0x1aae4a=await this[_0x186df6(0xfd)][_0x186df6(0xdd)](this[_0x186df6(0xee)]),_0x3c12c2=await this['salesforce'][_0x186df6(0x10d)](_0x1aae4a)[_0x186df6(0xf1)](_0x5a22d0=>typeof _0x5a22d0==='string'?JSON[_0x186df6(0x106)](_0x5a22d0):_0x5a22d0)['catch'](()=>({}));if(_0x3c12c2[this['gitCommit']['repositoryGit']]){if(_0x3c12c2[this[_0x186df6(0xec)][_0x186df6(0xd1)]][_0x186df6(0xc5)]===_0x5308ba)return!![];}return![];}return![];}async[a130_0x2bfb0e(0xcb)](_0x2ad6c0){const _0x34dfae=a130_0x2bfb0e;this['syncRecord']&&await this['salesforceSync'][_0x34dfae(0xcb)](this['syncRecord'],_0x2ad6c0);}[a130_0x2bfb0e(0xc7)](){const _0x227798=a130_0x2bfb0e;return this['componentsMetadata'][_0x227798(0xe8)](({fileName:_0x4cd77a})=>_0x4cd77a);}async[a130_0x2bfb0e(0xb4)](_0x2a42db,_0x30a08c,_0x1c53aa){const _0x30c52e=a130_0x2bfb0e,_0xde9664=await path_utils_1['PathUtils'][_0x30c52e(0xb5)](this[_0x30c52e(0xee)][_0x30c52e(0x103)],_0x2a42db,_0x30a08c,_0x1c53aa),_0x511b65=components_utils_1[_0x30c52e(0x10c)][_0x30c52e(0xfb)](this[_0x30c52e(0x100)],_0x2a42db,_0x1c53aa,this['syncRecord'][_0x30c52e(0x103)]),_0x238c36=factory_parser_1[_0x30c52e(0xc8)][_0x30c52e(0xd3)]({'recordType':this['syncRecord'][_0x30c52e(0x103)],'sourceDir':_0x30a08c,'paths':_0xde9664}),_0x1a6b11=await _0x238c36['execute'](),_0x2cfe5d=[],_0xf3441e=[];for(const _0x46f448 of _0x1a6b11){const _0x30f1dd=_0x511b65[_0x30c52e(0xd7)](_0x29331c=>_0x29331c[_0x30c52e(0xfc)]===_0x46f448[_0x30c52e(0xfc)]&&_0x29331c[_0x30c52e(0xe6)]===_0x46f448[_0x30c52e(0xe6)]);if(!_0x30f1dd){_0x2cfe5d['push'](_0x46f448);continue;}_0x46f448[_0x30c52e(0xc0)]!==_0x30f1dd[_0x30c52e(0xdc)]&&_0xf3441e[_0x30c52e(0xf4)]({'meta':_0x30f1dd,'component':_0x46f448}),_0x511b65[_0x30c52e(0xb9)](_0x511b65[_0x30c52e(0xd4)](_0x30f1dd),0x1);}return{'inserted':_0x2cfe5d,'modified':_0xf3441e,'removed':_0x511b65};}async[a130_0x2bfb0e(0xf7)](){const _0x1c4fef=a130_0x2bfb0e;this[_0x1c4fef(0xee)]=this['gitCommit'][_0x1c4fef(0xbf)]===_0x1c4fef(0xe7)?await this[_0x1c4fef(0xfd)][_0x1c4fef(0xb3)](this['gitCommit'][_0x1c4fef(0x108)]):await this['salesforceSync'][_0x1c4fef(0xcf)](this[_0x1c4fef(0xec)][_0x1c4fef(0xbf)]),this['recordTypes']=await this[_0x1c4fef(0xe1)]['getComponentRecordTypes']();}async[a130_0x2bfb0e(0xb7)](_0x3e2dad){const _0x1a5aa2=a130_0x2bfb0e;if(this[_0x1a5aa2(0xec)][_0x1a5aa2(0xfa)]||_0x3e2dad){this[_0x1a5aa2(0x100)]=this[_0x1a5aa2(0xdf)]?await this[_0x1a5aa2(0xe1)][_0x1a5aa2(0xe5)](this[_0x1a5aa2(0xdf)]):await this[_0x1a5aa2(0xe1)][_0x1a5aa2(0x101)](this[_0x1a5aa2(0xcd)]);return;}const _0x448fe8=components_utils_1[_0x1a5aa2(0x10c)][_0x1a5aa2(0xb6)](this[_0x1a5aa2(0xec)][_0x1a5aa2(0xeb)],this['syncRecord'][_0x1a5aa2(0x103)]);this[_0x1a5aa2(0x100)]=[];while(_0x448fe8[_0x1a5aa2(0xf5)]){const _0x1a208e=_0x448fe8['splice'](0x0,this[_0x1a5aa2(0xd2)]),_0x474145=this['branchId']?await this[_0x1a5aa2(0xe1)][_0x1a5aa2(0xea)](_0x1a208e,this['branchId']):await this[_0x1a5aa2(0xe1)][_0x1a5aa2(0x10b)](_0x1a208e,this[_0x1a5aa2(0xcd)]);this['componentsMetadata'][_0x1a5aa2(0xf4)](..._0x474145);}}async[a130_0x2bfb0e(0xe3)](_0x368f41){const _0x50afab=a130_0x2bfb0e;this['branchId']?await this[_0x50afab(0x102)][_0x50afab(0x107)](constants_1[_0x50afab(0x10a)],this[_0x50afab(0xdf)],{[constants_1[_0x50afab(0xd9)]+_0x50afab(0xc4)]:_0x368f41,[constants_1[_0x50afab(0x109)]+'Last_Updated_On__c']:Date['now']()}):await this[_0x50afab(0x102)]['patch'](constants_1[_0x50afab(0xbd)],this[_0x50afab(0xcd)],{[constants_1[_0x50afab(0xd9)]+_0x50afab(0xc4)]:_0x368f41});}['setCommitDto'](_0x1bc8a7){this['gitCommit']=_0x1bc8a7;}[a130_0x2bfb0e(0xb8)](){const _0x144e90=a130_0x2bfb0e;return this[_0x144e90(0xf9)];}['getRepositoryId'](){const _0x498931=a130_0x2bfb0e;return this[_0x498931(0xcd)];}[a130_0x2bfb0e(0xe4)](){const _0x4ff787=a130_0x2bfb0e;return this[_0x4ff787(0xdf)];}};function a130_0x5072(_0x8b32bd,_0x479197){const _0x523e06=a130_0x4792();return a130_0x5072=function(_0x2db464,_0x3cb88a){_0x2db464=_0x2db464-0xb0;let _0x479295=_0x523e06[_0x2db464];return _0x479295;},a130_0x5072(_0x8b32bd,_0x479197);}GitCommitService=__decorate([(0x0,typedi_1[a130_0x2bfb0e(0xf0)])({'transient':!![]}),__metadata(a130_0x2bfb0e(0xbe),[salesforce_git_sync_service_1[a130_0x2bfb0e(0xf3)],salesforce_rest_service_1[a130_0x2bfb0e(0xca)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a130_0x2bfb0e(0xf8)]=GitCommitService;