const a130_0xd03f57=a130_0x4140;function a130_0x4140(_0x526a57,_0x38fd97){const _0x134ba5=a130_0x3f2c();return a130_0x4140=function(_0x30d075,_0x4e08fd){_0x30d075=_0x30d075-0x169;let _0x3f2c2=_0x134ba5[_0x30d075];return _0x3f2c2;},a130_0x4140(_0x526a57,_0x38fd97);}(function(_0xa9a8c8,_0x4b3ffd){const _0x1796ca=a130_0x4140,_0x5b1e89=_0xa9a8c8();while(!![]){try{const _0x2cc227=-parseInt(_0x1796ca(0x19d))/0x1+parseInt(_0x1796ca(0x16f))/0x2*(parseInt(_0x1796ca(0x1c7))/0x3)+parseInt(_0x1796ca(0x1c6))/0x4*(-parseInt(_0x1796ca(0x1a9))/0x5)+-parseInt(_0x1796ca(0x16c))/0x6+parseInt(_0x1796ca(0x183))/0x7+-parseInt(_0x1796ca(0x18e))/0x8+parseInt(_0x1796ca(0x18d))/0x9;if(_0x2cc227===_0x4b3ffd)break;else _0x5b1e89['push'](_0x5b1e89['shift']());}catch(_0x3d5918){_0x5b1e89['push'](_0x5b1e89['shift']());}}}(a130_0x3f2c,0x41ce4));const a130_0x4e08fd=(function(){let _0x4c6257=!![];return function(_0x5cd484,_0x48d4f9){const _0x3e52c6=_0x4c6257?function(){const _0x4081c1=a130_0x4140;if(_0x48d4f9){const _0x4b2fc2=_0x48d4f9[_0x4081c1(0x1ae)](_0x5cd484,arguments);return _0x48d4f9=null,_0x4b2fc2;}}:function(){};return _0x4c6257=![],_0x3e52c6;};}()),a130_0x30d075=a130_0x4e08fd(this,function(){const _0x16d90f=a130_0x4140;return a130_0x30d075['toString']()['search'](_0x16d90f(0x16a))[_0x16d90f(0x1be)]()[_0x16d90f(0x1ab)](a130_0x30d075)[_0x16d90f(0x19f)](_0x16d90f(0x16a));});a130_0x30d075();function a130_0x3f2c(){const _0x3ece13=['search','readComponentPaths','salesforceGitSync','string','__esModule','crc32','fileNames','getOwnPropertyDescriptor','create','checkSyncStatus','200gDiSam','getRepositoryRecordByName','constructor','../../salesforce/services/salesforce.service','decorate','apply','componentsMetadata','recordTypeName','gitCommit','setCommitDto','SalesforceGitSyncService','fetchRepositoryComponentsByFilenames','../../salesforce/services/salesforce-git-sync.service','patch','TASKS_PER_TICK','updateRemoteState','parse','object','FLOSUM_REPOSITORY','../../salesforce/services/salesforce-rest.service','metadata','toString','defineProperty','getBranchId','recordTypes','getRecordTypes','function','indexOf','FLOSUM_GIT_NAMESPACE','5132CaYIAK','99612VgrYSf','GitCommitService','then','(((.+)+)+)+$','Synchronization_Status__c','1792902nWonBp','salesforceRest','SalesforceSyncService','32aaSLkX','Last_Updated_On__c','createCommit','master','branch','fetchRepositoryComponents','salesforce','syncRecord','retrieveAttachment','name','map','repositoryId','../utils/components.utils','filterMetadataComponents','push','PathUtils','force','fetchBranchComponents','fetchRepositoryOrBranchData','ComponentsUtils','577353quhBrb','splice','crc','updateStatus','SalesforceRestService','recordType','catch','find','FactoryParser','design:paramtypes','1750149oKxwrI','355832dzDpdB','execute','length','prepareComponentNamesForFetchMetadata','getRemoteStateAttachmentId','type','getComponentRecordTypes','getBranchRecordByName','branchId','repositoryGit','now','../../parsers/factory.parser','salesforceSync','SalesforceService','fetchComponentsMetadata','144048TaqnBQ','__metadata'];a130_0x3f2c=function(){return _0x3ece13;};return a130_0x3f2c();}'use strict';var __decorate=this&&this['__decorate']||function(_0x33c5fa,_0x26dbc8,_0x3cef88,_0x3d2a18){const _0x2d6d29=a130_0x4140;var _0x280100=arguments[_0x2d6d29(0x190)],_0x1ec8ad=_0x280100<0x3?_0x26dbc8:_0x3d2a18===null?_0x3d2a18=Object[_0x2d6d29(0x1a6)](_0x26dbc8,_0x3cef88):_0x3d2a18,_0x2ac407;if(typeof Reflect===_0x2d6d29(0x1ba)&&typeof Reflect[_0x2d6d29(0x1ad)]===_0x2d6d29(0x1c3))_0x1ec8ad=Reflect[_0x2d6d29(0x1ad)](_0x33c5fa,_0x26dbc8,_0x3cef88,_0x3d2a18);else{for(var _0x3658cb=_0x33c5fa[_0x2d6d29(0x190)]-0x1;_0x3658cb>=0x0;_0x3658cb--)if(_0x2ac407=_0x33c5fa[_0x3658cb])_0x1ec8ad=(_0x280100<0x3?_0x2ac407(_0x1ec8ad):_0x280100>0x3?_0x2ac407(_0x26dbc8,_0x3cef88,_0x1ec8ad):_0x2ac407(_0x26dbc8,_0x3cef88))||_0x1ec8ad;}return _0x280100>0x3&&_0x1ec8ad&&Object[_0x2d6d29(0x1bf)](_0x26dbc8,_0x3cef88,_0x1ec8ad),_0x1ec8ad;},__metadata=this&&this[a130_0xd03f57(0x19e)]||function(_0x987a7e,_0x2055aa){const _0x52cf83=a130_0xd03f57;if(typeof Reflect==='object'&&typeof Reflect[_0x52cf83(0x1bd)]===_0x52cf83(0x1c3))return Reflect['metadata'](_0x987a7e,_0x2055aa);};Object[a130_0xd03f57(0x1bf)](exports,a130_0xd03f57(0x1a3),{'value':!![]}),exports[a130_0xd03f57(0x1c8)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a130_0xd03f57(0x1b5)),salesforce_rest_service_1=require(a130_0xd03f57(0x1bc)),typedi_1=require('typedi'),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a130_0xd03f57(0x1ac)),factory_parser_1=require(a130_0xd03f57(0x199)),path_utils_1=require('../utils/path.utils'),components_utils_1=require(a130_0xd03f57(0x17b));let GitCommitService=class GitCommitService{constructor(_0x29b0cf,_0x1e9fae,_0x3a8bb3,_0xb103a8){const _0xc8720=a130_0xd03f57;this['salesforceGitSync']=_0x29b0cf,this['salesforceRest']=_0x1e9fae,this[_0xc8720(0x19a)]=_0x3a8bb3,this[_0xc8720(0x175)]=_0xb103a8,this[_0xc8720(0x1b7)]=0xc8;}get[a130_0xd03f57(0x17a)](){const _0x19daa3=a130_0xd03f57;var _0xe28ff4;return((_0xe28ff4=this[_0x19daa3(0x176)])===null||_0xe28ff4===void 0x0?void 0x0:_0xe28ff4[_0x19daa3(0x17a)])||'';}get[a130_0xd03f57(0x196)](){const _0x608a95=a130_0xd03f57;var _0xb16dfe;return((_0xb16dfe=this[_0x608a95(0x176)])===null||_0xb16dfe===void 0x0?void 0x0:_0xb16dfe[_0x608a95(0x196)])||'';}get[a130_0xd03f57(0x188)](){const _0x54c722=a130_0xd03f57;return this['syncRecord'][_0x54c722(0x1b0)];}async[a130_0xd03f57(0x171)](_0x5d491d){const _0x40e249=a130_0xd03f57;return this[_0x40e249(0x1a1)][_0x40e249(0x171)](_0x5d491d,this[_0x40e249(0x17a)]);}async[a130_0xd03f57(0x1a8)](_0x5f10fa){const _0x2642d1=a130_0xd03f57;if(this[_0x2642d1(0x176)]){const _0x38794c=await this[_0x2642d1(0x19a)][_0x2642d1(0x192)](this['syncRecord']),_0x26c577=await this['salesforce'][_0x2642d1(0x177)](_0x38794c)[_0x2642d1(0x169)](_0x70d41e=>typeof _0x70d41e===_0x2642d1(0x1a2)?JSON[_0x2642d1(0x1b9)](_0x70d41e):_0x70d41e)[_0x2642d1(0x189)](()=>({}));if(_0x26c577[this[_0x2642d1(0x1b1)][_0x2642d1(0x197)]]){if(_0x26c577[this[_0x2642d1(0x1b1)][_0x2642d1(0x197)]]['lastCommit']===_0x5f10fa)return!![];}return![];}return![];}async[a130_0xd03f57(0x1b8)](_0x315907){const _0x9b678b=a130_0xd03f57;this[_0x9b678b(0x176)]&&await this['salesforceSync'][_0x9b678b(0x1b8)](this[_0x9b678b(0x176)],_0x315907);}['getUnusedComponentsFilePaths'](){const _0x188182=a130_0xd03f57;return this[_0x188182(0x1af)][_0x188182(0x179)](({fileName:_0x179254})=>_0x179254);}async['proceedFile'](_0x43f140,_0x320e6e,_0x4b1064){const _0x390bc5=a130_0xd03f57,_0x152c6f=await path_utils_1[_0x390bc5(0x17e)][_0x390bc5(0x1a0)](this['syncRecord'][_0x390bc5(0x1b0)],_0x43f140,_0x320e6e,_0x4b1064),_0x2b589e=components_utils_1[_0x390bc5(0x182)][_0x390bc5(0x17c)](this['componentsMetadata'],_0x43f140,_0x4b1064,this[_0x390bc5(0x176)][_0x390bc5(0x1b0)]),_0x58f9bc=factory_parser_1[_0x390bc5(0x18b)][_0x390bc5(0x1a7)]({'recordType':this[_0x390bc5(0x176)][_0x390bc5(0x1b0)],'sourceDir':_0x320e6e,'paths':_0x152c6f}),_0x43d62d=await _0x58f9bc[_0x390bc5(0x18f)](),_0xb0a587=[],_0x3f1e97=[];for(const _0x40aa4f of _0x43d62d){const _0x236abc=_0x2b589e[_0x390bc5(0x18a)](_0x142e8f=>_0x142e8f[_0x390bc5(0x178)]===_0x40aa4f['name']&&_0x142e8f[_0x390bc5(0x193)]===_0x40aa4f[_0x390bc5(0x193)]);if(!_0x236abc){_0xb0a587[_0x390bc5(0x17d)](_0x40aa4f);continue;}_0x40aa4f[_0x390bc5(0x185)]!==_0x236abc[_0x390bc5(0x1a4)]&&_0x3f1e97['push']({'meta':_0x236abc,'component':_0x40aa4f}),_0x2b589e[_0x390bc5(0x184)](_0x2b589e[_0x390bc5(0x1c4)](_0x236abc),0x1);}return{'inserted':_0xb0a587,'modified':_0x3f1e97,'removed':_0x2b589e};}async[a130_0xd03f57(0x181)](){const _0x5a2655=a130_0xd03f57;this['syncRecord']=this[_0x5a2655(0x1b1)][_0x5a2655(0x173)]===_0x5a2655(0x172)?await this[_0x5a2655(0x19a)][_0x5a2655(0x1aa)](this[_0x5a2655(0x1b1)]['repository']):await this[_0x5a2655(0x19a)][_0x5a2655(0x195)](this['gitCommit'][_0x5a2655(0x173)]),this[_0x5a2655(0x1c1)]=await this['salesforceGitSync'][_0x5a2655(0x194)]();}async[a130_0xd03f57(0x19c)](_0x585fa5){const _0x2c891e=a130_0xd03f57;if(this['gitCommit'][_0x2c891e(0x17f)]||_0x585fa5){this['componentsMetadata']=this[_0x2c891e(0x196)]?await this[_0x2c891e(0x1a1)][_0x2c891e(0x180)](this[_0x2c891e(0x196)]):await this['salesforceGitSync'][_0x2c891e(0x174)](this[_0x2c891e(0x17a)]);return;}const _0x4e3421=components_utils_1[_0x2c891e(0x182)][_0x2c891e(0x191)](this['gitCommit'][_0x2c891e(0x1a5)],this[_0x2c891e(0x176)][_0x2c891e(0x1b0)]);this[_0x2c891e(0x1af)]=[];while(_0x4e3421[_0x2c891e(0x190)]){const _0x1ab150=_0x4e3421[_0x2c891e(0x184)](0x0,this[_0x2c891e(0x1b7)]),_0x3706fb=this[_0x2c891e(0x196)]?await this[_0x2c891e(0x1a1)]['fetchBranchComponentsByFilenames'](_0x1ab150,this[_0x2c891e(0x196)]):await this[_0x2c891e(0x1a1)][_0x2c891e(0x1b4)](_0x1ab150,this['repositoryId']);this[_0x2c891e(0x1af)][_0x2c891e(0x17d)](..._0x3706fb);}}async[a130_0xd03f57(0x186)](_0x1fd41a){const _0x4764d8=a130_0xd03f57;this[_0x4764d8(0x196)]?await this[_0x4764d8(0x16d)][_0x4764d8(0x1b6)](constants_1['FLOSUM_BRANCH'],this['branchId'],{[constants_1[_0x4764d8(0x1c5)]+'Synchronization_Status__c']:_0x1fd41a,[constants_1['FLOSUM_NAMESPACE']+_0x4764d8(0x170)]:Date[_0x4764d8(0x198)]()}):await this[_0x4764d8(0x16d)]['patch'](constants_1[_0x4764d8(0x1bb)],this[_0x4764d8(0x17a)],{[constants_1[_0x4764d8(0x1c5)]+_0x4764d8(0x16b)]:_0x1fd41a});}[a130_0xd03f57(0x1b2)](_0x3f446e){const _0x5d055a=a130_0xd03f57;this[_0x5d055a(0x1b1)]=_0x3f446e;}[a130_0xd03f57(0x1c2)](){const _0x492dda=a130_0xd03f57;return this[_0x492dda(0x1c1)];}['getRepositoryId'](){const _0x298671=a130_0xd03f57;return this[_0x298671(0x17a)];}[a130_0xd03f57(0x1c0)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a130_0xd03f57(0x18c),[salesforce_git_sync_service_1[a130_0xd03f57(0x1b3)],salesforce_rest_service_1[a130_0xd03f57(0x187)],salesforce_sync_service_1[a130_0xd03f57(0x16e)],salesforce_service_1[a130_0xd03f57(0x19b)]])],GitCommitService),exports['GitCommitService']=GitCommitService;