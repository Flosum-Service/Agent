const a110_0x44bf4b=a110_0x598b;function a110_0x4e2b(){const _0x1ac98d=['fetchRepositoryComponentsByFilenames','__metadata','../../parsers/utils','(((.+)+)+)+$','FLOSUM_BRANCH','filter','getUnusedComponentsFilePaths','1080474mRMcaO','Synchronization_Status__c','3UyBDkc','__decorate','8409492ijMjTN','repositoryGit','SalesforceGitSyncService','filterParserPaths','SalesforceSyncService','fileNames','now','master','decorate','branchId','Last_Updated_On__c','fetchComponentsMetadata','syncRecord','TASKS_PER_TICK','match','getComponentRecordTypes','fetchBranchComponents','repository','salesforce','getRecordTypes','../../salesforce/services/salesforce-rest.service','getRepositoryRecordByName','FLOSUM_GIT_NAMESPACE','parse','replace','toString','salesforceRest','retrieveAttachment','__esModule','catch','MDApiParserV2','setCommitDto','../../parsers/mdapi/parser-v2','209hbFWKB','repositoryId','componentsMetadata','../../salesforce/services/salesforce-sync.service','name','73168wUNITT','558FTkiKL','fetchRepositoryComponents','crc32','crc','length','253010PRpLex','constructor','2493786SZCTnU','fetchRepositoryOrBranchData','updateRemoteState','378109mXMFjL','fetchBranchComponentsByFilenames','force','splice','branch','SalesforceService','recordTypes','proceedFile','find','patch','getBranchId','defineProperty','../../salesforce/services/salesforce.service','updateStatus','push','then','getOwnPropertyDescriptor','function','META_XML_EXTENSION','4679144fLSzck','search','apply','object','5vnarkk','createCommit','design:paramtypes','salesforceSync','readFilesByFilename','Service','GitCommitService','string','typedi','getRemoteStateAttachmentId','fileName','../../../../constants','gitCommit','checkSyncStatus','salesforceGitSync','([./-]{1}|$)','map'];a110_0x4e2b=function(){return _0x1ac98d;};return a110_0x4e2b();}function a110_0x598b(_0xa01082,_0x3c4c68){const _0x5d22ce=a110_0x4e2b();return a110_0x598b=function(_0x47057f,_0x21ec63){_0x47057f=_0x47057f-0x16b;let _0x4e2b11=_0x5d22ce[_0x47057f];return _0x4e2b11;},a110_0x598b(_0xa01082,_0x3c4c68);}(function(_0x4e1c4c,_0x5b484a){const _0x377f62=a110_0x598b,_0x472bc8=_0x4e1c4c();while(!![]){try{const _0x5345b4=parseInt(_0x377f62(0x1a3))/0x1+parseInt(_0x377f62(0x16e))/0x2*(-parseInt(_0x377f62(0x170))/0x3)+parseInt(_0x377f62(0x1b6))/0x4+-parseInt(_0x377f62(0x1ba))/0x5*(parseInt(_0x377f62(0x1a0))/0x6)+parseInt(_0x377f62(0x172))/0x7+parseInt(_0x377f62(0x198))/0x8*(-parseInt(_0x377f62(0x199))/0x9)+-parseInt(_0x377f62(0x19e))/0xa*(parseInt(_0x377f62(0x193))/0xb);if(_0x5345b4===_0x5b484a)break;else _0x472bc8['push'](_0x472bc8['shift']());}catch(_0x18fd5d){_0x472bc8['push'](_0x472bc8['shift']());}}}(a110_0x4e2b,0xb608c));const a110_0x21ec63=(function(){let _0x12e56e=!![];return function(_0x378a33,_0x2c74a0){const _0x2e3a13=_0x12e56e?function(){const _0x576834=a110_0x598b;if(_0x2c74a0){const _0x4a970a=_0x2c74a0[_0x576834(0x1b8)](_0x378a33,arguments);return _0x2c74a0=null,_0x4a970a;}}:function(){};return _0x12e56e=![],_0x2e3a13;};}()),a110_0x47057f=a110_0x21ec63(this,function(){const _0x59169a=a110_0x598b;return a110_0x47057f['toString']()[_0x59169a(0x1b7)](_0x59169a(0x1ce))[_0x59169a(0x18b)]()[_0x59169a(0x19f)](a110_0x47057f)[_0x59169a(0x1b7)]('(((.+)+)+)+$');});a110_0x47057f();'use strict';var __decorate=this&&this[a110_0x44bf4b(0x171)]||function(_0x3e6c66,_0x302711,_0x2e4439,_0x5e704e){const _0x59ef90=a110_0x44bf4b;var _0x121d63=arguments[_0x59ef90(0x19d)],_0x346433=_0x121d63<0x3?_0x302711:_0x5e704e===null?_0x5e704e=Object[_0x59ef90(0x1b3)](_0x302711,_0x2e4439):_0x5e704e,_0x3abd95;if(typeof Reflect===_0x59ef90(0x1b9)&&typeof Reflect[_0x59ef90(0x17a)]===_0x59ef90(0x1b4))_0x346433=Reflect['decorate'](_0x3e6c66,_0x302711,_0x2e4439,_0x5e704e);else{for(var _0x233a56=_0x3e6c66['length']-0x1;_0x233a56>=0x0;_0x233a56--)if(_0x3abd95=_0x3e6c66[_0x233a56])_0x346433=(_0x121d63<0x3?_0x3abd95(_0x346433):_0x121d63>0x3?_0x3abd95(_0x302711,_0x2e4439,_0x346433):_0x3abd95(_0x302711,_0x2e4439))||_0x346433;}return _0x121d63>0x3&&_0x346433&&Object[_0x59ef90(0x1ae)](_0x302711,_0x2e4439,_0x346433),_0x346433;},__metadata=this&&this[a110_0x44bf4b(0x1cc)]||function(_0x58c85a,_0x21169b){const _0x3c0b90=a110_0x44bf4b;if(typeof Reflect===_0x3c0b90(0x1b9)&&typeof Reflect['metadata']===_0x3c0b90(0x1b4))return Reflect['metadata'](_0x58c85a,_0x21169b);};Object[a110_0x44bf4b(0x1ae)](exports,a110_0x44bf4b(0x18e),{'value':!![]}),exports[a110_0x44bf4b(0x1c0)]=void 0x0;const constants_1=require(a110_0x44bf4b(0x1c5)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a110_0x44bf4b(0x186)),typedi_1=require(a110_0x44bf4b(0x1c2)),salesforce_sync_service_1=require(a110_0x44bf4b(0x196)),salesforce_service_1=require(a110_0x44bf4b(0x1af)),parser_v2_1=require(a110_0x44bf4b(0x192)),utils_1=require(a110_0x44bf4b(0x1cd));let GitCommitService=class GitCommitService{constructor(_0x2fe913,_0x1e9446,_0x272c39,_0x4f7902){const _0x4893cc=a110_0x44bf4b;this[_0x4893cc(0x1c8)]=_0x2fe913,this[_0x4893cc(0x18c)]=_0x1e9446,this['salesforceSync']=_0x272c39,this['salesforce']=_0x4f7902,this[_0x4893cc(0x17f)]=0xc8;}get[a110_0x44bf4b(0x194)](){const _0x1f8a11=a110_0x44bf4b;var _0x20c703;return((_0x20c703=this[_0x1f8a11(0x17e)])===null||_0x20c703===void 0x0?void 0x0:_0x20c703[_0x1f8a11(0x194)])||'';}get[a110_0x44bf4b(0x17b)](){const _0x42d251=a110_0x44bf4b;var _0x15ba27;return((_0x15ba27=this[_0x42d251(0x17e)])===null||_0x15ba27===void 0x0?void 0x0:_0x15ba27[_0x42d251(0x17b)])||'';}async[a110_0x44bf4b(0x1bb)](_0x4d146e){const _0x1f4994=a110_0x44bf4b;return this[_0x1f4994(0x1c8)][_0x1f4994(0x1bb)](_0x4d146e,this['repositoryId']);}async[a110_0x44bf4b(0x1c7)](_0x1747c3){const _0x8966a6=a110_0x44bf4b;if(this[_0x8966a6(0x17e)]){const _0x43abb1=await this['salesforceSync'][_0x8966a6(0x1c3)](this[_0x8966a6(0x17e)]),_0x573f4e=await this[_0x8966a6(0x184)][_0x8966a6(0x18d)](_0x43abb1)[_0x8966a6(0x1b2)](_0x5e8b84=>typeof _0x5e8b84===_0x8966a6(0x1c1)?JSON[_0x8966a6(0x189)](_0x5e8b84):_0x5e8b84)['catch'](()=>({}));if(_0x573f4e[this[_0x8966a6(0x1c6)][_0x8966a6(0x173)]]){if(_0x573f4e[this[_0x8966a6(0x1c6)][_0x8966a6(0x173)]]['lastCommit']===_0x1747c3)return!![];}return![];}return![];}async[a110_0x44bf4b(0x1a2)](_0x12bfbd){const _0x2fe6c7=a110_0x44bf4b;this[_0x2fe6c7(0x17e)]&&await this[_0x2fe6c7(0x1bd)][_0x2fe6c7(0x1a2)](this[_0x2fe6c7(0x17e)],_0x12bfbd);}[a110_0x44bf4b(0x16d)](){const _0x23aa7b=a110_0x44bf4b;return this[_0x23aa7b(0x195)]['map'](({fileName:_0x4a00b0})=>_0x4a00b0);}async[a110_0x44bf4b(0x1aa)](_0x1095ba,_0x5d3820,_0x1ef8ba){const _0x58a924=a110_0x44bf4b,_0x4fc312=new RegExp('^'+_0x1095ba+_0x58a924(0x1c9));let _0x370e76=[_0x1095ba];_0x1ef8ba&&(_0x370e76=(0x0,utils_1[_0x58a924(0x175)])(await(0x0,utils_1[_0x58a924(0x1be)])(_0x1095ba,_0x5d3820)[_0x58a924(0x18f)](()=>[])));const _0x2db76e=_0x1ef8ba?this[_0x58a924(0x195)][_0x58a924(0x16c)](_0x1ed999=>_0x1ed999[_0x58a924(0x1c4)][_0x58a924(0x180)](_0x4fc312)):this['componentsMetadata'][_0x58a924(0x16c)](_0xb7a636=>_0xb7a636[_0x58a924(0x1c4)]===_0x1095ba||_0xb7a636['fileName']===_0x1095ba[_0x58a924(0x18a)](constants_1[_0x58a924(0x1b5)],'')),_0x218a29=new parser_v2_1[(_0x58a924(0x190))](_0x5d3820,_0x370e76),_0x41a775=await _0x218a29[_0x58a924(0x189)](),_0x3adaf1=[],_0x360b6d=[];for(const _0x3cfc2a of _0x41a775){const _0x3a9b60=_0x2db76e[_0x58a924(0x1ab)](_0x4e086f=>_0x4e086f[_0x58a924(0x197)]===_0x3cfc2a[_0x58a924(0x197)]&&_0x4e086f['type']===_0x3cfc2a['type']);if(!_0x3a9b60){_0x3adaf1['push'](_0x3cfc2a);continue;}_0x3cfc2a[_0x58a924(0x19c)]!==_0x3a9b60[_0x58a924(0x19b)]&&_0x360b6d[_0x58a924(0x1b1)]({'meta':_0x3a9b60,'component':_0x3cfc2a}),_0x2db76e[_0x58a924(0x1a6)](_0x2db76e['indexOf'](_0x3a9b60),0x1);}return{'inserted':_0x3adaf1,'modified':_0x360b6d,'removed':_0x2db76e};}async[a110_0x44bf4b(0x1a1)](){const _0x23a927=a110_0x44bf4b;this[_0x23a927(0x17e)]=this[_0x23a927(0x1c6)][_0x23a927(0x1a7)]===_0x23a927(0x179)?await this[_0x23a927(0x1bd)][_0x23a927(0x187)](this[_0x23a927(0x1c6)][_0x23a927(0x183)]):await this['salesforceSync']['getBranchRecordByName'](this[_0x23a927(0x1c6)]['branch']),this[_0x23a927(0x1a9)]=await this[_0x23a927(0x1c8)][_0x23a927(0x181)]();}async[a110_0x44bf4b(0x17d)](_0x167cc2){const _0x22b49f=a110_0x44bf4b;if(this['gitCommit'][_0x22b49f(0x1a5)]||_0x167cc2){this[_0x22b49f(0x195)]=this[_0x22b49f(0x17b)]?await this[_0x22b49f(0x1c8)][_0x22b49f(0x182)](this[_0x22b49f(0x17b)]):await this[_0x22b49f(0x1c8)][_0x22b49f(0x19a)](this['repositoryId']);return;}const _0x2267e6=[...new Set(this[_0x22b49f(0x1c6)][_0x22b49f(0x177)][_0x22b49f(0x1ca)](_0x455425=>_0x455425['replace'](constants_1['META_XML_EXTENSION'],'')))];this[_0x22b49f(0x195)]=[];while(_0x2267e6[_0x22b49f(0x19d)]){const _0x2d6181=_0x2267e6[_0x22b49f(0x1a6)](0x0,this[_0x22b49f(0x17f)]),_0x47bee3=this[_0x22b49f(0x17b)]?await this[_0x22b49f(0x1c8)][_0x22b49f(0x1a4)](_0x2d6181,this[_0x22b49f(0x17b)]):await this[_0x22b49f(0x1c8)][_0x22b49f(0x1cb)](_0x2d6181,this['repositoryId']);this[_0x22b49f(0x195)]['push'](..._0x47bee3);}}async[a110_0x44bf4b(0x1b0)](_0x5b974c){const _0x588bd9=a110_0x44bf4b;this[_0x588bd9(0x17b)]?await this['salesforceRest'][_0x588bd9(0x1ac)](constants_1[_0x588bd9(0x16b)],this[_0x588bd9(0x17b)],{[constants_1[_0x588bd9(0x188)]+_0x588bd9(0x16f)]:_0x5b974c,[constants_1['FLOSUM_NAMESPACE']+_0x588bd9(0x17c)]:Date[_0x588bd9(0x178)]()}):await this[_0x588bd9(0x18c)][_0x588bd9(0x1ac)](constants_1['FLOSUM_REPOSITORY'],this[_0x588bd9(0x194)],{[constants_1[_0x588bd9(0x188)]+_0x588bd9(0x16f)]:_0x5b974c});}[a110_0x44bf4b(0x191)](_0x1680e3){const _0x5646f4=a110_0x44bf4b;this[_0x5646f4(0x1c6)]=_0x1680e3;}[a110_0x44bf4b(0x185)](){return this['recordTypes'];}['getRepositoryId'](){return this['repositoryId'];}[a110_0x44bf4b(0x1ad)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x44bf4b(0x1bf)])({'transient':!![]}),__metadata(a110_0x44bf4b(0x1bc),[salesforce_git_sync_service_1[a110_0x44bf4b(0x174)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0x44bf4b(0x176)],salesforce_service_1[a110_0x44bf4b(0x1a8)]])],GitCommitService),exports[a110_0x44bf4b(0x1c0)]=GitCommitService;