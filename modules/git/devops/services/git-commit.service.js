const a110_0xb8baed=a110_0x32b1;function a110_0x32b1(_0x1b773b,_0x1b0dee){const _0x523c45=a110_0x1509();return a110_0x32b1=function(_0x21bda6,_0x30a431){_0x21bda6=_0x21bda6-0x12f;let _0x1509a3=_0x523c45[_0x21bda6];return _0x1509a3;},a110_0x32b1(_0x1b773b,_0x1b0dee);}(function(_0x51c827,_0x2f79a5){const _0x3c5920=a110_0x32b1,_0x55a427=_0x51c827();while(!![]){try{const _0x4aa0d8=-parseInt(_0x3c5920(0x17b))/0x1*(parseInt(_0x3c5920(0x143))/0x2)+-parseInt(_0x3c5920(0x149))/0x3*(-parseInt(_0x3c5920(0x132))/0x4)+-parseInt(_0x3c5920(0x14f))/0x5+parseInt(_0x3c5920(0x171))/0x6*(-parseInt(_0x3c5920(0x17f))/0x7)+parseInt(_0x3c5920(0x179))/0x8+parseInt(_0x3c5920(0x146))/0x9*(parseInt(_0x3c5920(0x139))/0xa)+parseInt(_0x3c5920(0x15e))/0xb;if(_0x4aa0d8===_0x2f79a5)break;else _0x55a427['push'](_0x55a427['shift']());}catch(_0x3a83bf){_0x55a427['push'](_0x55a427['shift']());}}}(a110_0x1509,0x28057));const a110_0x30a431=(function(){let _0x12ee01=!![];return function(_0xf7c89d,_0x34c967){const _0x4dfcc1=_0x12ee01?function(){if(_0x34c967){const _0x3488f4=_0x34c967['apply'](_0xf7c89d,arguments);return _0x34c967=null,_0x3488f4;}}:function(){};return _0x12ee01=![],_0x4dfcc1;};}()),a110_0x21bda6=a110_0x30a431(this,function(){const _0x4d7ef4=a110_0x32b1;return a110_0x21bda6[_0x4d7ef4(0x181)]()[_0x4d7ef4(0x162)](_0x4d7ef4(0x17a))['toString']()['constructor'](a110_0x21bda6)['search'](_0x4d7ef4(0x17a));});a110_0x21bda6();'use strict';var __decorate=this&&this['__decorate']||function(_0x859f60,_0x57d49c,_0x4d8cf7,_0x21a095){const _0x19a8e=a110_0x32b1;var _0x2b3981=arguments['length'],_0x34988b=_0x2b3981<0x3?_0x57d49c:_0x21a095===null?_0x21a095=Object['getOwnPropertyDescriptor'](_0x57d49c,_0x4d8cf7):_0x21a095,_0x28b77a;if(typeof Reflect==='object'&&typeof Reflect[_0x19a8e(0x159)]===_0x19a8e(0x185))_0x34988b=Reflect[_0x19a8e(0x159)](_0x859f60,_0x57d49c,_0x4d8cf7,_0x21a095);else{for(var _0x128c13=_0x859f60[_0x19a8e(0x15a)]-0x1;_0x128c13>=0x0;_0x128c13--)if(_0x28b77a=_0x859f60[_0x128c13])_0x34988b=(_0x2b3981<0x3?_0x28b77a(_0x34988b):_0x2b3981>0x3?_0x28b77a(_0x57d49c,_0x4d8cf7,_0x34988b):_0x28b77a(_0x57d49c,_0x4d8cf7))||_0x34988b;}return _0x2b3981>0x3&&_0x34988b&&Object[_0x19a8e(0x142)](_0x57d49c,_0x4d8cf7,_0x34988b),_0x34988b;},__metadata=this&&this[a110_0xb8baed(0x16b)]||function(_0xbdc377,_0x420f65){const _0x13febd=a110_0xb8baed;if(typeof Reflect===_0x13febd(0x177)&&typeof Reflect[_0x13febd(0x158)]===_0x13febd(0x185))return Reflect[_0x13febd(0x158)](_0xbdc377,_0x420f65);};Object[a110_0xb8baed(0x142)](exports,a110_0xb8baed(0x145),{'value':!![]}),exports[a110_0xb8baed(0x16c)]=void 0x0;const constants_1=require(a110_0xb8baed(0x182)),salesforce_git_sync_service_1=require(a110_0xb8baed(0x136)),salesforce_rest_service_1=require(a110_0xb8baed(0x141)),typedi_1=require(a110_0xb8baed(0x153)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a110_0xb8baed(0x169)),utils_1=require(a110_0xb8baed(0x157)),factory_parser_1=require(a110_0xb8baed(0x14c)),vlocity_1=require('../../parsers/utils/vlocity');let GitCommitService=class GitCommitService{constructor(_0x19bb3c,_0xd61819,_0xdef8d4,_0x2b7bd0){const _0x564d6f=a110_0xb8baed;this['salesforceGitSync']=_0x19bb3c,this[_0x564d6f(0x180)]=_0xd61819,this[_0x564d6f(0x14d)]=_0xdef8d4,this[_0x564d6f(0x183)]=_0x2b7bd0,this[_0x564d6f(0x168)]=0xc8;}get[a110_0xb8baed(0x160)](){const _0x49ece3=a110_0xb8baed;var _0x35951b;return((_0x35951b=this[_0x49ece3(0x17d)])===null||_0x35951b===void 0x0?void 0x0:_0x35951b[_0x49ece3(0x160)])||'';}get[a110_0xb8baed(0x170)](){const _0x5262a9=a110_0xb8baed;var _0xd17eab;return((_0xd17eab=this[_0x5262a9(0x17d)])===null||_0xd17eab===void 0x0?void 0x0:_0xd17eab[_0x5262a9(0x170)])||'';}async[a110_0xb8baed(0x156)](_0x48421a){const _0x37e453=a110_0xb8baed;return this['salesforceGitSync'][_0x37e453(0x156)](_0x48421a,this[_0x37e453(0x160)]);}async[a110_0xb8baed(0x15c)](_0x5767cf){const _0x19c3f2=a110_0xb8baed;if(this['syncRecord']){const _0x157230=await this[_0x19c3f2(0x14d)]['getRemoteStateAttachmentId'](this[_0x19c3f2(0x17d)]),_0x224e71=await this[_0x19c3f2(0x183)][_0x19c3f2(0x140)](_0x157230)['then'](_0x2de0f8=>typeof _0x2de0f8===_0x19c3f2(0x15b)?JSON['parse'](_0x2de0f8):_0x2de0f8)['catch'](()=>({}));if(_0x224e71[this[_0x19c3f2(0x166)][_0x19c3f2(0x147)]]){if(_0x224e71[this[_0x19c3f2(0x166)][_0x19c3f2(0x147)]][_0x19c3f2(0x184)]===_0x5767cf)return!![];}return![];}return![];}async[a110_0xb8baed(0x144)](_0x5098c3){const _0x28f474=a110_0xb8baed;this['syncRecord']&&await this[_0x28f474(0x14d)][_0x28f474(0x144)](this[_0x28f474(0x17d)],_0x5098c3);}['getUnusedComponentsFilePaths'](){const _0x374f4a=a110_0xb8baed;return this[_0x374f4a(0x14e)]['map'](({fileName:_0x471521})=>_0x471521);}async[a110_0xb8baed(0x154)](_0x16e2f4,_0x117abb,_0x1cda51){const _0x4558bd=a110_0xb8baed,_0x5f0d21=new RegExp('^'+_0x16e2f4+_0x4558bd(0x151));let _0x3f9672=[_0x16e2f4];_0x1cda51&&!(0x0,vlocity_1[_0x4558bd(0x14a)])(_0x16e2f4)&&(_0x3f9672=(0x0,utils_1[_0x4558bd(0x173)])(await(0x0,utils_1[_0x4558bd(0x16f)])(_0x16e2f4,_0x117abb)[_0x4558bd(0x135)](()=>[])));const _0x3e9142=_0x1cda51?this[_0x4558bd(0x14e)][_0x4558bd(0x172)](_0x5d9d03=>_0x5d9d03[_0x4558bd(0x13d)]['match'](_0x5f0d21)):this[_0x4558bd(0x14e)][_0x4558bd(0x172)](_0x3d9fd4=>_0x3d9fd4[_0x4558bd(0x13d)]===_0x16e2f4||_0x3d9fd4[_0x4558bd(0x13d)]===_0x16e2f4[_0x4558bd(0x155)](constants_1[_0x4558bd(0x15f)],'')),_0x3821aa=factory_parser_1['FactoryParser'][_0x4558bd(0x14b)](_0x117abb,_0x3f9672),_0x5b98fb=await _0x3821aa[_0x4558bd(0x174)](),_0x12f83e=[],_0x2222da=[];for(const _0x22ba02 of _0x5b98fb){const _0x5643f7=_0x3e9142['find'](_0x2a78ae=>_0x2a78ae['name']===_0x22ba02[_0x4558bd(0x16e)]&&_0x2a78ae['type']===_0x22ba02[_0x4558bd(0x16a)]);if(!_0x5643f7){_0x12f83e[_0x4558bd(0x152)](_0x22ba02);continue;}_0x22ba02[_0x4558bd(0x17e)]!==_0x5643f7[_0x4558bd(0x16d)]&&_0x2222da[_0x4558bd(0x152)]({'meta':_0x5643f7,'component':_0x22ba02}),_0x3e9142['splice'](_0x3e9142['indexOf'](_0x5643f7),0x1);}return{'inserted':_0x12f83e,'modified':_0x2222da,'removed':_0x3e9142};}async[a110_0xb8baed(0x175)](){const _0x2dff08=a110_0xb8baed;this[_0x2dff08(0x17d)]=this[_0x2dff08(0x166)][_0x2dff08(0x17c)]==='master'?await this[_0x2dff08(0x14d)]['getRepositoryRecordByName'](this[_0x2dff08(0x166)][_0x2dff08(0x163)]):await this[_0x2dff08(0x14d)][_0x2dff08(0x178)](this[_0x2dff08(0x166)][_0x2dff08(0x17c)]),this[_0x2dff08(0x133)]=await this[_0x2dff08(0x13c)][_0x2dff08(0x137)]();}async[a110_0xb8baed(0x12f)](_0x610db4){const _0x34c6ee=a110_0xb8baed;if(this['gitCommit'][_0x34c6ee(0x165)]||_0x610db4){this[_0x34c6ee(0x14e)]=this[_0x34c6ee(0x170)]?await this[_0x34c6ee(0x13c)][_0x34c6ee(0x176)](this[_0x34c6ee(0x170)]):await this[_0x34c6ee(0x13c)][_0x34c6ee(0x134)](this[_0x34c6ee(0x160)]);return;}const _0x1ccc84=[...new Set(this[_0x34c6ee(0x166)][_0x34c6ee(0x131)][_0x34c6ee(0x13e)](_0x506a5b=>_0x506a5b[_0x34c6ee(0x155)](constants_1[_0x34c6ee(0x15f)],'')))];this[_0x34c6ee(0x14e)]=[];while(_0x1ccc84[_0x34c6ee(0x15a)]){const _0x3ffdc5=_0x1ccc84[_0x34c6ee(0x130)](0x0,this[_0x34c6ee(0x168)]),_0x2cc63f=this[_0x34c6ee(0x170)]?await this[_0x34c6ee(0x13c)]['fetchBranchComponentsByFilenames'](_0x3ffdc5,this[_0x34c6ee(0x170)]):await this['salesforceGitSync']['fetchRepositoryComponentsByFilenames'](_0x3ffdc5,this['repositoryId']);this[_0x34c6ee(0x14e)][_0x34c6ee(0x152)](..._0x2cc63f);}}async[a110_0xb8baed(0x150)](_0x4c2236){const _0x452aa5=a110_0xb8baed;this[_0x452aa5(0x170)]?await this['salesforceRest'][_0x452aa5(0x13f)](constants_1['FLOSUM_BRANCH'],this[_0x452aa5(0x170)],{[constants_1['FLOSUM_GIT_NAMESPACE']+'Synchronization_Status__c']:_0x4c2236,[constants_1[_0x452aa5(0x186)]+_0x452aa5(0x13a)]:Date[_0x452aa5(0x15d)]()}):await this[_0x452aa5(0x180)][_0x452aa5(0x13f)](constants_1[_0x452aa5(0x148)],this['repositoryId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x452aa5(0x138)]:_0x4c2236});}['setCommitDto'](_0x1cb2e8){const _0x58999b=a110_0xb8baed;this[_0x58999b(0x166)]=_0x1cb2e8;}['getRecordTypes'](){const _0x2e8858=a110_0xb8baed;return this[_0x2e8858(0x133)];}[a110_0xb8baed(0x13b)](){const _0x2193d8=a110_0xb8baed;return this[_0x2193d8(0x160)];}['getBranchId'](){const _0x2a8ace=a110_0xb8baed;return this[_0x2a8ace(0x170)];}};function a110_0x1509(){const _0x373263=['type','__metadata','GitCommitService','crc32','name','readFilesByFilename','branchId','6AfFZoG','filter','filterParserPaths','parse','fetchRepositoryOrBranchData','fetchBranchComponents','object','getBranchRecordByName','577080mHiLXP','(((.+)+)+)+$','81tmbPhG','branch','syncRecord','crc','1086491HOqwmG','salesforceRest','toString','../../../../constants','salesforce','lastCommit','function','FLOSUM_NAMESPACE','fetchComponentsMetadata','splice','fileNames','1286792NPtkik','recordTypes','fetchRepositoryComponents','catch','../../salesforce/services/salesforce-git-sync.service','getComponentRecordTypes','Synchronization_Status__c','10aNnWtO','Last_Updated_On__c','getRepositoryId','salesforceGitSync','fileName','map','patch','retrieveAttachment','../../salesforce/services/salesforce-rest.service','defineProperty','2308xtIqhl','updateRemoteState','__esModule','1864494azuGum','repositoryGit','FLOSUM_REPOSITORY','3malRxv','isVlocityComponent','create','../../parsers/mdapi/factory.parser','salesforceSync','componentsMetadata','1480095YoqkaL','updateStatus','([./-]{1}|$)','push','typedi','proceedFile','replace','createCommit','../../parsers/utils','metadata','decorate','length','string','checkSyncStatus','now','1183974ovYdeF','META_XML_EXTENSION','repositoryId','SalesforceSyncService','search','repository','SalesforceGitSyncService','force','gitCommit','SalesforceService','TASKS_PER_TICK','../../salesforce/services/salesforce.service'];a110_0x1509=function(){return _0x373263;};return a110_0x1509();}GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a110_0xb8baed(0x164)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0xb8baed(0x161)],salesforce_service_1[a110_0xb8baed(0x167)]])],GitCommitService),exports[a110_0xb8baed(0x16c)]=GitCommitService;