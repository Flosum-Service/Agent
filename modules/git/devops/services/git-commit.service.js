const a78_0x5a5e85=a78_0x3724;(function(_0x24f348,_0x2ef204){const _0x31f7b6=a78_0x3724,_0xfbe79e=_0x24f348();while(!![]){try{const _0x1326e3=-parseInt(_0x31f7b6(0x10f))/0x1*(parseInt(_0x31f7b6(0x125))/0x2)+-parseInt(_0x31f7b6(0x10b))/0x3+parseInt(_0x31f7b6(0x101))/0x4*(-parseInt(_0x31f7b6(0xf5))/0x5)+parseInt(_0x31f7b6(0xfc))/0x6+parseInt(_0x31f7b6(0x12a))/0x7+parseInt(_0x31f7b6(0x12b))/0x8*(parseInt(_0x31f7b6(0xe6))/0x9)+-parseInt(_0x31f7b6(0xd4))/0xa;if(_0x1326e3===_0x2ef204)break;else _0xfbe79e['push'](_0xfbe79e['shift']());}catch(_0x1bb4f9){_0xfbe79e['push'](_0xfbe79e['shift']());}}}(a78_0x4665,0xbfbec));const a78_0xebc0f2=(function(){let _0x56efe8=!![];return function(_0x5e0ad8,_0x308b79){const _0x3d712c=_0x56efe8?function(){const _0x133582=a78_0x3724;if(_0x308b79){const _0x4d18bb=_0x308b79[_0x133582(0x104)](_0x5e0ad8,arguments);return _0x308b79=null,_0x4d18bb;}}:function(){};return _0x56efe8=![],_0x3d712c;};}()),a78_0x29f9c=a78_0xebc0f2(this,function(){const _0x40730f=a78_0x3724;return a78_0x29f9c['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x40730f(0xde)](a78_0x29f9c)[_0x40730f(0x10a)](_0x40730f(0x10d));});a78_0x29f9c();function a78_0x4665(){const _0x365787=['salesforce','(((.+)+)+)+$','SalesforceService','473566YDhZss','splice','getComponentRecordTypes','componentsMetadata','../../salesforce/services/salesforce-sync.service','defineProperty','checkSyncStatus','FLOSUM_BRANCH','indexOf','__decorate','getBranchRecordByName','Service','TASKS_PER_TICK','fetchBranchComponents','FLOSUM_NAMESPACE','parse','fetchBranchComponentsByFilenames','getOwnPropertyDescriptor','push','fetchComponentsMetadata','metadata','then','2LMEJTT','type','getRepositoryId','Last_Updated_On__c','fileName','810103uGkGqc','856MsNsPc','updateStatus','getRemoteStateAttachmentId','createCommit','filterParserPaths','META_XML_EXTENSION','509560xSNGQw','catch','string','design:paramtypes','replace','fetchRepositoryComponentsByFilenames','function','branchId','MDApiParserV2','recordTypes','constructor','fetchRepositoryOrBranchData','salesforceSync','Synchronization_Status__c','([./-]{1}|$)','name','../../parsers/mdapi/parser-v2','map','109845HkLpgy','setCommitDto','find','FLOSUM_GIT_NAMESPACE','lastCommit','salesforceRest','syncRecord','../../salesforce/services/salesforce-rest.service','../../../../constants','getRepositoryRecordByName','branch','match','SalesforceSyncService','GitCommitService','patch','14390HoRUEd','readFilesByFilename','object','../../parsers/utils','salesforceGitSync','repository','../../salesforce/services/salesforce.service','8806158luoXCI','length','proceedFile','repositoryGit','repositoryId','1156CsEkPV','decorate','gitCommit','apply','__metadata','fetchRepositoryComponents','SalesforceGitSyncService','getUnusedComponentsFilePaths','updateRemoteState','search','2243115eKMDZr'];a78_0x4665=function(){return _0x365787;};return a78_0x4665();}function a78_0x3724(_0x4db166,_0x59dd7e){const _0x32989e=a78_0x4665();return a78_0x3724=function(_0x29f9c,_0xebc0f2){_0x29f9c=_0x29f9c-0xd0;let _0x46656d=_0x32989e[_0x29f9c];return _0x46656d;},a78_0x3724(_0x4db166,_0x59dd7e);}'use strict';var __decorate=this&&this[a78_0x5a5e85(0x118)]||function(_0x4016bb,_0x4e53e8,_0x1a0e17,_0x4e4c92){const _0x23e9a2=a78_0x5a5e85;var _0x220f97=arguments[_0x23e9a2(0xfd)],_0x2dc397=_0x220f97<0x3?_0x4e53e8:_0x4e4c92===null?_0x4e4c92=Object[_0x23e9a2(0x120)](_0x4e53e8,_0x1a0e17):_0x4e4c92,_0x423684;if(typeof Reflect===_0x23e9a2(0xf7)&&typeof Reflect[_0x23e9a2(0x102)]===_0x23e9a2(0xda))_0x2dc397=Reflect[_0x23e9a2(0x102)](_0x4016bb,_0x4e53e8,_0x1a0e17,_0x4e4c92);else{for(var _0x33574c=_0x4016bb[_0x23e9a2(0xfd)]-0x1;_0x33574c>=0x0;_0x33574c--)if(_0x423684=_0x4016bb[_0x33574c])_0x2dc397=(_0x220f97<0x3?_0x423684(_0x2dc397):_0x220f97>0x3?_0x423684(_0x4e53e8,_0x1a0e17,_0x2dc397):_0x423684(_0x4e53e8,_0x1a0e17))||_0x2dc397;}return _0x220f97>0x3&&_0x2dc397&&Object[_0x23e9a2(0x114)](_0x4e53e8,_0x1a0e17,_0x2dc397),_0x2dc397;},__metadata=this&&this[a78_0x5a5e85(0x105)]||function(_0x4e44bc,_0x354782){const _0x487366=a78_0x5a5e85;if(typeof Reflect==='object'&&typeof Reflect[_0x487366(0x123)]===_0x487366(0xda))return Reflect[_0x487366(0x123)](_0x4e44bc,_0x354782);};Object[a78_0x5a5e85(0x114)](exports,'__esModule',{'value':!![]}),exports[a78_0x5a5e85(0xf3)]=void 0x0;const constants_1=require(a78_0x5a5e85(0xee)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a78_0x5a5e85(0xed)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a78_0x5a5e85(0x113)),salesforce_service_1=require(a78_0x5a5e85(0xfb)),parser_v2_1=require(a78_0x5a5e85(0xe4)),utils_1=require(a78_0x5a5e85(0xf8));let GitCommitService=class GitCommitService{constructor(_0x5510d1,_0x460246,_0x20cd5d,_0x1f3c0c){const _0x65c432=a78_0x5a5e85;this['salesforceGitSync']=_0x5510d1,this[_0x65c432(0xeb)]=_0x460246,this[_0x65c432(0xe0)]=_0x20cd5d,this[_0x65c432(0x10c)]=_0x1f3c0c,this[_0x65c432(0x11b)]=0xc8;}get[a78_0x5a5e85(0x100)](){const _0x1a266f=a78_0x5a5e85;var _0x1e5d91;return((_0x1e5d91=this['syncRecord'])===null||_0x1e5d91===void 0x0?void 0x0:_0x1e5d91[_0x1a266f(0x100)])||'';}get[a78_0x5a5e85(0xdb)](){const _0xd6dc06=a78_0x5a5e85;var _0x5e16f6;return((_0x5e16f6=this[_0xd6dc06(0xec)])===null||_0x5e16f6===void 0x0?void 0x0:_0x5e16f6['branchId'])||'';}async[a78_0x5a5e85(0xd1)](_0x19ef51){const _0x10f18d=a78_0x5a5e85;return this[_0x10f18d(0xf9)][_0x10f18d(0xd1)](_0x19ef51,this[_0x10f18d(0x100)]);}async[a78_0x5a5e85(0x115)](_0x226c49){const _0x278147=a78_0x5a5e85;if(this['syncRecord']){const _0x5143bf=await this['salesforceSync'][_0x278147(0xd0)](this[_0x278147(0xec)]),_0x511b6b=await this[_0x278147(0x10c)]['retrieveAttachment'](_0x5143bf)[_0x278147(0x124)](_0x159044=>typeof _0x159044===_0x278147(0xd6)?JSON[_0x278147(0x11e)](_0x159044):_0x159044)[_0x278147(0xd5)](()=>({}));if(_0x511b6b[this['gitCommit'][_0x278147(0xff)]]){if(_0x511b6b[this['gitCommit'][_0x278147(0xff)]][_0x278147(0xea)]===_0x226c49)return!![];}return![];}return![];}async[a78_0x5a5e85(0x109)](_0x5172e2){const _0x5655b2=a78_0x5a5e85;this[_0x5655b2(0xec)]&&await this[_0x5655b2(0xe0)][_0x5655b2(0x109)](this[_0x5655b2(0xec)],_0x5172e2);}[a78_0x5a5e85(0x108)](){const _0x243e67=a78_0x5a5e85;return this[_0x243e67(0x112)][_0x243e67(0xe5)](({fileName:_0x13e48c})=>_0x13e48c);}async[a78_0x5a5e85(0xfe)](_0x3c228f,_0x22e255,_0x44ce58){const _0x4a934b=a78_0x5a5e85,_0x3f6984=new RegExp('^'+_0x3c228f+_0x4a934b(0xe2));let _0x4dfa30=[_0x3c228f];_0x44ce58&&(_0x4dfa30=(0x0,utils_1[_0x4a934b(0xd2)])(await(0x0,utils_1[_0x4a934b(0xf6)])(_0x3c228f,_0x22e255)['catch'](()=>[])));const _0x4149bb=_0x44ce58?this[_0x4a934b(0x112)]['filter'](_0x137e69=>_0x137e69[_0x4a934b(0x129)][_0x4a934b(0xf1)](_0x3f6984)):this[_0x4a934b(0x112)]['filter'](_0x29b7b2=>_0x29b7b2[_0x4a934b(0x129)]===_0x3c228f||_0x29b7b2[_0x4a934b(0x129)]===_0x3c228f[_0x4a934b(0xd8)](constants_1[_0x4a934b(0xd3)],'')),_0xa6b715=new parser_v2_1[(_0x4a934b(0xdc))](_0x22e255,_0x4dfa30),_0x4324c0=await _0xa6b715['parse'](),_0x3fd199=[],_0x45fd60=[];for(const _0x3fb6a2 of _0x4324c0){const _0x36fae3=_0x4149bb[_0x4a934b(0xe8)](_0xaaa81e=>_0xaaa81e['name']===_0x3fb6a2[_0x4a934b(0xe3)]&&_0xaaa81e[_0x4a934b(0x126)]===_0x3fb6a2[_0x4a934b(0x126)]);if(!_0x36fae3){_0x3fd199[_0x4a934b(0x121)](_0x3fb6a2);continue;}_0x3fb6a2['crc']!==_0x36fae3['crc32']&&_0x45fd60[_0x4a934b(0x121)]({'meta':_0x36fae3,'component':_0x3fb6a2}),_0x4149bb[_0x4a934b(0x110)](_0x4149bb[_0x4a934b(0x117)](_0x36fae3),0x1);}return{'inserted':_0x3fd199,'modified':_0x45fd60,'removed':_0x4149bb};}async[a78_0x5a5e85(0xdf)](){const _0x256af5=a78_0x5a5e85;this[_0x256af5(0xec)]=this['gitCommit']['branch']==='master'?await this[_0x256af5(0xe0)][_0x256af5(0xef)](this[_0x256af5(0x103)][_0x256af5(0xfa)]):await this['salesforceSync'][_0x256af5(0x119)](this[_0x256af5(0x103)][_0x256af5(0xf0)]),this[_0x256af5(0xdd)]=await this[_0x256af5(0xf9)][_0x256af5(0x111)]();}async[a78_0x5a5e85(0x122)](_0x46479d){const _0x4f620e=a78_0x5a5e85;if(this['gitCommit']['force']||_0x46479d){this[_0x4f620e(0x112)]=this[_0x4f620e(0xdb)]?await this[_0x4f620e(0xf9)][_0x4f620e(0x11c)](this[_0x4f620e(0xdb)]):await this[_0x4f620e(0xf9)][_0x4f620e(0x106)](this[_0x4f620e(0x100)]);return;}const _0x2f0baf=[...new Set(this[_0x4f620e(0x103)]['fileNames']['map'](_0x4e2b71=>_0x4e2b71['replace'](constants_1[_0x4f620e(0xd3)],'')))];this[_0x4f620e(0x112)]=[];while(_0x2f0baf[_0x4f620e(0xfd)]){const _0x10ddda=_0x2f0baf['splice'](0x0,this[_0x4f620e(0x11b)]),_0x1ad7aa=this[_0x4f620e(0xdb)]?await this[_0x4f620e(0xf9)][_0x4f620e(0x11f)](_0x10ddda,this['branchId']):await this[_0x4f620e(0xf9)][_0x4f620e(0xd9)](_0x10ddda,this[_0x4f620e(0x100)]);this[_0x4f620e(0x112)][_0x4f620e(0x121)](..._0x1ad7aa);}}async[a78_0x5a5e85(0x12c)](_0x45a059){const _0x275ff4=a78_0x5a5e85;this[_0x275ff4(0xdb)]?await this[_0x275ff4(0xeb)][_0x275ff4(0xf4)](constants_1[_0x275ff4(0x116)],this['branchId'],{[constants_1[_0x275ff4(0xe9)]+_0x275ff4(0xe1)]:_0x45a059,[constants_1[_0x275ff4(0x11d)]+_0x275ff4(0x128)]:Date['now']()}):await this[_0x275ff4(0xeb)][_0x275ff4(0xf4)](constants_1['FLOSUM_REPOSITORY'],this[_0x275ff4(0x100)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x275ff4(0xe1)]:_0x45a059});}[a78_0x5a5e85(0xe7)](_0x59194){const _0x35554c=a78_0x5a5e85;this[_0x35554c(0x103)]=_0x59194;}['getRecordTypes'](){const _0xb421ef=a78_0x5a5e85;return this[_0xb421ef(0xdd)];}[a78_0x5a5e85(0x127)](){const _0x39e90b=a78_0x5a5e85;return this[_0x39e90b(0x100)];}['getBranchId'](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a78_0x5a5e85(0x11a)])({'transient':!![]}),__metadata(a78_0x5a5e85(0xd7),[salesforce_git_sync_service_1[a78_0x5a5e85(0x107)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a78_0x5a5e85(0xf2)],salesforce_service_1[a78_0x5a5e85(0x10e)]])],GitCommitService),exports[a78_0x5a5e85(0xf3)]=GitCommitService;