const a78_0x1e8c4c=a78_0x687f;(function(_0x7c19d3,_0x23577c){const _0x1cd527=a78_0x687f,_0x2ea667=_0x7c19d3();while(!![]){try{const _0x1915e1=parseInt(_0x1cd527(0x1d9))/0x1*(-parseInt(_0x1cd527(0x1fd))/0x2)+-parseInt(_0x1cd527(0x1ec))/0x3*(-parseInt(_0x1cd527(0x1ed))/0x4)+-parseInt(_0x1cd527(0x1a8))/0x5*(parseInt(_0x1cd527(0x1b9))/0x6)+-parseInt(_0x1cd527(0x1f3))/0x7+parseInt(_0x1cd527(0x1f2))/0x8+parseInt(_0x1cd527(0x1cd))/0x9*(-parseInt(_0x1cd527(0x1fa))/0xa)+-parseInt(_0x1cd527(0x1ad))/0xb*(-parseInt(_0x1cd527(0x1c1))/0xc);if(_0x1915e1===_0x23577c)break;else _0x2ea667['push'](_0x2ea667['shift']());}catch(_0x56d1dd){_0x2ea667['push'](_0x2ea667['shift']());}}}(a78_0x185c,0x9bed0));const a78_0x17dd98=(function(){let _0x321c6a=!![];return function(_0x23f091,_0x4a66c9){const _0x44939d=_0x321c6a?function(){const _0x2cd796=a78_0x687f;if(_0x4a66c9){const _0x1e0a61=_0x4a66c9[_0x2cd796(0x1ca)](_0x23f091,arguments);return _0x4a66c9=null,_0x1e0a61;}}:function(){};return _0x321c6a=![],_0x44939d;};}()),a78_0xa433e4=a78_0x17dd98(this,function(){const _0x2ba1bd=a78_0x687f;return a78_0xa433e4[_0x2ba1bd(0x1f9)]()[_0x2ba1bd(0x1b8)](_0x2ba1bd(0x1bc))['toString']()['constructor'](a78_0xa433e4)[_0x2ba1bd(0x1b8)](_0x2ba1bd(0x1bc));});function a78_0x185c(){const _0x26a212=['type','push','1036013AlleyE','length','getBranchRecordByName','readFilesByFilename','getRepositoryId','fileName','map','SalesforceService','checkSyncStatus','repository','metadata','../../salesforce/services/salesforce-git-sync.service','../../../../constants','filter','indexOf','updateRemoteState','META_XML_EXTENSION','salesforceSync','fetchRepositoryComponents','3mpttLd','4305844bcutPJ','setCommitDto','FLOSUM_BRANCH','string','match','3588264ascXJS','2790459nlTlVx','fetchRepositoryOrBranchData','GitCommitService','typedi','syncRecord','recordTypes','toString','410bJopKp','splice','branch','2gCIxDR','defineProperty','parse','patch','function','name','25pImJsw','__decorate','fetchBranchComponentsByFilenames','componentsMetadata','FLOSUM_GIT_NAMESPACE','55PNzfep','gitCommit','Service','crc','TASKS_PER_TICK','FLOSUM_REPOSITORY','SalesforceSyncService','crc32','retrieveAttachment','getRemoteStateAttachmentId','getComponentRecordTypes','search','275682injOgf','replace','../../parsers/mdapi/parser-v2','(((.+)+)+)+$','SalesforceGitSyncService','fetchBranchComponents','SalesforceRestService','createCommit','3168888IoBZHn','fetchComponentsMetadata','Last_Updated_On__c','salesforceRest','../../parsers/utils','catch','salesforce','branchId','repositoryId','apply','salesforceGitSync','getUnusedComponentsFilePaths','119043HQzFMR','updateStatus','find','FLOSUM_NAMESPACE','getRecordTypes','decorate','master','Synchronization_Status__c','object','getOwnPropertyDescriptor'];a78_0x185c=function(){return _0x26a212;};return a78_0x185c();}a78_0xa433e4();'use strict';function a78_0x687f(_0x1f3405,_0x49706c){const _0x14a6e0=a78_0x185c();return a78_0x687f=function(_0xa433e4,_0x17dd98){_0xa433e4=_0xa433e4-0x1a7;let _0x185cab=_0x14a6e0[_0xa433e4];return _0x185cab;},a78_0x687f(_0x1f3405,_0x49706c);}var __decorate=this&&this[a78_0x1e8c4c(0x1a9)]||function(_0x3a0ff4,_0x469a2f,_0x160a96,_0x2007bc){const _0x1cbe9e=a78_0x1e8c4c;var _0x43b264=arguments[_0x1cbe9e(0x1da)],_0x583ef3=_0x43b264<0x3?_0x469a2f:_0x2007bc===null?_0x2007bc=Object[_0x1cbe9e(0x1d6)](_0x469a2f,_0x160a96):_0x2007bc,_0x1e0c06;if(typeof Reflect===_0x1cbe9e(0x1d5)&&typeof Reflect[_0x1cbe9e(0x1d2)]===_0x1cbe9e(0x201))_0x583ef3=Reflect[_0x1cbe9e(0x1d2)](_0x3a0ff4,_0x469a2f,_0x160a96,_0x2007bc);else{for(var _0x88bb28=_0x3a0ff4['length']-0x1;_0x88bb28>=0x0;_0x88bb28--)if(_0x1e0c06=_0x3a0ff4[_0x88bb28])_0x583ef3=(_0x43b264<0x3?_0x1e0c06(_0x583ef3):_0x43b264>0x3?_0x1e0c06(_0x469a2f,_0x160a96,_0x583ef3):_0x1e0c06(_0x469a2f,_0x160a96))||_0x583ef3;}return _0x43b264>0x3&&_0x583ef3&&Object[_0x1cbe9e(0x1fe)](_0x469a2f,_0x160a96,_0x583ef3),_0x583ef3;},__metadata=this&&this['__metadata']||function(_0x2278a8,_0x268ea2){const _0x482e62=a78_0x1e8c4c;if(typeof Reflect==='object'&&typeof Reflect[_0x482e62(0x1e3)]===_0x482e62(0x201))return Reflect[_0x482e62(0x1e3)](_0x2278a8,_0x268ea2);};Object[a78_0x1e8c4c(0x1fe)](exports,'__esModule',{'value':!![]}),exports[a78_0x1e8c4c(0x1f5)]=void 0x0;const constants_1=require(a78_0x1e8c4c(0x1e5)),salesforce_git_sync_service_1=require(a78_0x1e8c4c(0x1e4)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a78_0x1e8c4c(0x1f6)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require(a78_0x1e8c4c(0x1bb)),utils_1=require(a78_0x1e8c4c(0x1c5));let GitCommitService=class GitCommitService{constructor(_0x205ff3,_0x1d0614,_0xcb04fb,_0xdb4844){const _0x327314=a78_0x1e8c4c;this[_0x327314(0x1cb)]=_0x205ff3,this[_0x327314(0x1c4)]=_0x1d0614,this[_0x327314(0x1ea)]=_0xcb04fb,this['salesforce']=_0xdb4844,this[_0x327314(0x1b1)]=0xc8;}get[a78_0x1e8c4c(0x1c9)](){const _0x40889f=a78_0x1e8c4c;var _0x32652c;return((_0x32652c=this[_0x40889f(0x1f7)])===null||_0x32652c===void 0x0?void 0x0:_0x32652c[_0x40889f(0x1c9)])||'';}get['branchId'](){const _0x5715d3=a78_0x1e8c4c;var _0x34aefd;return((_0x34aefd=this[_0x5715d3(0x1f7)])===null||_0x34aefd===void 0x0?void 0x0:_0x34aefd['branchId'])||'';}async[a78_0x1e8c4c(0x1c0)](_0x33e546){const _0x4fc22e=a78_0x1e8c4c;return this[_0x4fc22e(0x1cb)]['createCommit'](_0x33e546,this[_0x4fc22e(0x1c9)]);}async[a78_0x1e8c4c(0x1e1)](_0x3542b2){const _0x1fbfca=a78_0x1e8c4c;if(this[_0x1fbfca(0x1f7)]){const _0x2b5b7a=await this['salesforceSync'][_0x1fbfca(0x1b6)](this['syncRecord']),_0x225572=await this[_0x1fbfca(0x1c7)][_0x1fbfca(0x1b5)](_0x2b5b7a)['then'](_0x49fcce=>typeof _0x49fcce===_0x1fbfca(0x1f0)?JSON[_0x1fbfca(0x1ff)](_0x49fcce):_0x49fcce)[_0x1fbfca(0x1c6)](()=>({}));if(_0x225572[this['gitCommit']['repositoryGit']]){if(_0x225572[this[_0x1fbfca(0x1ae)]['repositoryGit']]['lastCommit']===_0x3542b2)return!![];}return![];}return![];}async['updateRemoteState'](_0x2cb3cd){const _0x34fa1f=a78_0x1e8c4c;this['syncRecord']&&await this[_0x34fa1f(0x1ea)][_0x34fa1f(0x1e8)](this[_0x34fa1f(0x1f7)],_0x2cb3cd);}[a78_0x1e8c4c(0x1cc)](){const _0x5c9963=a78_0x1e8c4c;return this['componentsMetadata'][_0x5c9963(0x1df)](({fileName:_0x2dbae3})=>_0x2dbae3);}async['proceedFile'](_0x464bde,_0x5474f4,_0x5cd0ea){const _0x2e5560=a78_0x1e8c4c,_0x811477=new RegExp('^'+_0x464bde+'([./-]{1}|$)');let _0x239eaa=[_0x464bde];_0x5cd0ea&&(_0x239eaa=(0x0,utils_1['filterParserPaths'])(await(0x0,utils_1[_0x2e5560(0x1dc)])(_0x464bde,_0x5474f4)[_0x2e5560(0x1c6)](()=>[])));const _0x3b1533=_0x5cd0ea?this[_0x2e5560(0x1ab)][_0x2e5560(0x1e6)](_0x52486a=>_0x52486a[_0x2e5560(0x1de)][_0x2e5560(0x1f1)](_0x811477)):this[_0x2e5560(0x1ab)][_0x2e5560(0x1e6)](_0x15522a=>_0x15522a[_0x2e5560(0x1de)]===_0x464bde||_0x15522a[_0x2e5560(0x1de)]===_0x464bde[_0x2e5560(0x1ba)](constants_1[_0x2e5560(0x1e9)],'')),_0x3382ee=new parser_v2_1['MDApiParserV2'](_0x5474f4,_0x239eaa),_0x5250e5=await _0x3382ee['parse'](),_0x38e8ef=[],_0x50d9d2=[];for(const _0x11fa74 of _0x5250e5){const _0x55ec7d=_0x3b1533[_0x2e5560(0x1cf)](_0x5bbc7c=>_0x5bbc7c[_0x2e5560(0x1a7)]===_0x11fa74[_0x2e5560(0x1a7)]&&_0x5bbc7c[_0x2e5560(0x1d7)]===_0x11fa74[_0x2e5560(0x1d7)]);if(!_0x55ec7d){_0x38e8ef['push'](_0x11fa74);continue;}_0x11fa74[_0x2e5560(0x1b0)]!==_0x55ec7d[_0x2e5560(0x1b4)]&&_0x50d9d2[_0x2e5560(0x1d8)]({'meta':_0x55ec7d,'component':_0x11fa74}),_0x3b1533[_0x2e5560(0x1fb)](_0x3b1533[_0x2e5560(0x1e7)](_0x55ec7d),0x1);}return{'inserted':_0x38e8ef,'modified':_0x50d9d2,'removed':_0x3b1533};}async[a78_0x1e8c4c(0x1f4)](){const _0x4bc888=a78_0x1e8c4c;this['syncRecord']=this['gitCommit']['branch']===_0x4bc888(0x1d3)?await this[_0x4bc888(0x1ea)]['getRepositoryRecordByName'](this['gitCommit'][_0x4bc888(0x1e2)]):await this[_0x4bc888(0x1ea)][_0x4bc888(0x1db)](this[_0x4bc888(0x1ae)][_0x4bc888(0x1fc)]),this[_0x4bc888(0x1f8)]=await this[_0x4bc888(0x1cb)][_0x4bc888(0x1b7)]();}async[a78_0x1e8c4c(0x1c2)](_0x8de4a){const _0x111f0c=a78_0x1e8c4c;if(this[_0x111f0c(0x1ae)]['force']||_0x8de4a){this[_0x111f0c(0x1ab)]=this[_0x111f0c(0x1c8)]?await this['salesforceGitSync'][_0x111f0c(0x1be)](this[_0x111f0c(0x1c8)]):await this[_0x111f0c(0x1cb)][_0x111f0c(0x1eb)](this[_0x111f0c(0x1c9)]);return;}const _0x488e86=[...new Set(this['gitCommit']['fileNames']['map'](_0x18c54=>_0x18c54[_0x111f0c(0x1ba)](constants_1['META_XML_EXTENSION'],'')))];this[_0x111f0c(0x1ab)]=[];while(_0x488e86[_0x111f0c(0x1da)]){const _0xd5358e=_0x488e86[_0x111f0c(0x1fb)](0x0,this['TASKS_PER_TICK']),_0x54697f=this[_0x111f0c(0x1c8)]?await this[_0x111f0c(0x1cb)][_0x111f0c(0x1aa)](_0xd5358e,this[_0x111f0c(0x1c8)]):await this[_0x111f0c(0x1cb)]['fetchRepositoryComponentsByFilenames'](_0xd5358e,this[_0x111f0c(0x1c9)]);this[_0x111f0c(0x1ab)][_0x111f0c(0x1d8)](..._0x54697f);}}async[a78_0x1e8c4c(0x1ce)](_0x1d547e){const _0xf5de65=a78_0x1e8c4c;this[_0xf5de65(0x1c8)]?await this['salesforceRest'][_0xf5de65(0x200)](constants_1[_0xf5de65(0x1ef)],this[_0xf5de65(0x1c8)],{[constants_1[_0xf5de65(0x1ac)]+_0xf5de65(0x1d4)]:_0x1d547e,[constants_1[_0xf5de65(0x1d0)]+_0xf5de65(0x1c3)]:Date['now']()}):await this[_0xf5de65(0x1c4)][_0xf5de65(0x200)](constants_1[_0xf5de65(0x1b2)],this[_0xf5de65(0x1c9)],{[constants_1[_0xf5de65(0x1ac)]+'Synchronization_Status__c']:_0x1d547e});}[a78_0x1e8c4c(0x1ee)](_0x515c99){const _0x1a01af=a78_0x1e8c4c;this[_0x1a01af(0x1ae)]=_0x515c99;}[a78_0x1e8c4c(0x1d1)](){const _0x133872=a78_0x1e8c4c;return this[_0x133872(0x1f8)];}[a78_0x1e8c4c(0x1dd)](){const _0x3b79d1=a78_0x1e8c4c;return this[_0x3b79d1(0x1c9)];}['getBranchId'](){const _0x93602d=a78_0x1e8c4c;return this[_0x93602d(0x1c8)];}};GitCommitService=__decorate([(0x0,typedi_1[a78_0x1e8c4c(0x1af)])({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a78_0x1e8c4c(0x1bd)],salesforce_rest_service_1[a78_0x1e8c4c(0x1bf)],salesforce_sync_service_1[a78_0x1e8c4c(0x1b3)],salesforce_service_1[a78_0x1e8c4c(0x1e0)]])],GitCommitService),exports['GitCommitService']=GitCommitService;