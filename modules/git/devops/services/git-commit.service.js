const a127_0x339ea9=a127_0x4537;(function(_0x581bfe,_0x4cd98c){const _0x549704=a127_0x4537,_0x339be4=_0x581bfe();while(!![]){try{const _0x4387c8=parseInt(_0x549704(0x1dd))/0x1*(-parseInt(_0x549704(0x1c7))/0x2)+-parseInt(_0x549704(0x1e6))/0x3*(parseInt(_0x549704(0x1a9))/0x4)+parseInt(_0x549704(0x1e4))/0x5+parseInt(_0x549704(0x1d8))/0x6+parseInt(_0x549704(0x1d4))/0x7*(parseInt(_0x549704(0x1b5))/0x8)+parseInt(_0x549704(0x1f5))/0x9+-parseInt(_0x549704(0x1aa))/0xa;if(_0x4387c8===_0x4cd98c)break;else _0x339be4['push'](_0x339be4['shift']());}catch(_0x321bed){_0x339be4['push'](_0x339be4['shift']());}}}(a127_0x3345,0xc67da));const a127_0x2e3289=(function(){let _0x51b5f2=!![];return function(_0x229e73,_0x29ddbd){const _0x32f15e=_0x51b5f2?function(){const _0x9e2c21=a127_0x4537;if(_0x29ddbd){const _0x8a592c=_0x29ddbd[_0x9e2c21(0x1ea)](_0x229e73,arguments);return _0x29ddbd=null,_0x8a592c;}}:function(){};return _0x51b5f2=![],_0x32f15e;};}()),a127_0x4175da=a127_0x2e3289(this,function(){const _0x3d53f4=a127_0x4537;return a127_0x4175da['toString']()[_0x3d53f4(0x1b4)]('(((.+)+)+)+$')['toString']()[_0x3d53f4(0x1e3)](a127_0x4175da)[_0x3d53f4(0x1b4)](_0x3d53f4(0x1d9));});a127_0x4175da();'use strict';var __decorate=this&&this['__decorate']||function(_0xcd719c,_0x2d866c,_0x1ac0b1,_0x206188){const _0x196084=a127_0x4537;var _0x2887b1=arguments[_0x196084(0x1ce)],_0x2f449e=_0x2887b1<0x3?_0x2d866c:_0x206188===null?_0x206188=Object['getOwnPropertyDescriptor'](_0x2d866c,_0x1ac0b1):_0x206188,_0x16b815;if(typeof Reflect===_0x196084(0x1ef)&&typeof Reflect[_0x196084(0x1b6)]===_0x196084(0x1c1))_0x2f449e=Reflect['decorate'](_0xcd719c,_0x2d866c,_0x1ac0b1,_0x206188);else{for(var _0x2ef5cf=_0xcd719c[_0x196084(0x1ce)]-0x1;_0x2ef5cf>=0x0;_0x2ef5cf--)if(_0x16b815=_0xcd719c[_0x2ef5cf])_0x2f449e=(_0x2887b1<0x3?_0x16b815(_0x2f449e):_0x2887b1>0x3?_0x16b815(_0x2d866c,_0x1ac0b1,_0x2f449e):_0x16b815(_0x2d866c,_0x1ac0b1))||_0x2f449e;}return _0x2887b1>0x3&&_0x2f449e&&Object[_0x196084(0x1cc)](_0x2d866c,_0x1ac0b1,_0x2f449e),_0x2f449e;},__metadata=this&&this[a127_0x339ea9(0x1f3)]||function(_0x50a21a,_0x1967f4){const _0x4c71cd=a127_0x339ea9;if(typeof Reflect===_0x4c71cd(0x1ef)&&typeof Reflect[_0x4c71cd(0x1a4)]===_0x4c71cd(0x1c1))return Reflect[_0x4c71cd(0x1a4)](_0x50a21a,_0x1967f4);};function a127_0x4537(_0x1eafbb,_0xf309d3){const _0x1b4f26=a127_0x3345();return a127_0x4537=function(_0x4175da,_0x2e3289){_0x4175da=_0x4175da-0x1a0;let _0x33453e=_0x1b4f26[_0x4175da];return _0x33453e;},a127_0x4537(_0x1eafbb,_0xf309d3);}function a127_0x3345(){const _0x39dfe6=['../../salesforce/services/salesforce-rest.service','FLOSUM_REPOSITORY','find','constructor','249545PsSkhV','map','443307bjbjhH','Last_Updated_On__c','componentsMetadata','TASKS_PER_TICK','apply','salesforceGitSync','../utils/path.utils','GitCommitService','typedi','object','name','updateStatus','gitCommit','__metadata','salesforce','11796912UaoyMZ','FactoryParser','type','../../salesforce/services/salesforce.service','../../salesforce/services/salesforce-git-sync.service','getBranchId','ComponentsUtils','getRepositoryRecordByName','design:paramtypes','SalesforceRestService','metadata','recordTypeName','__esModule','getUnusedComponentsFilePaths','Synchronization_Status__c','28RsfPPl','6600720gpcqEy','recordType','indexOf','fetchRepositoryComponents','patch','../../salesforce/services/salesforce-sync.service','SalesforceSyncService','force','master','salesforceSync','search','6776nvEgeU','decorate','prepareComponentNamesForFetchMetadata','../../parsers/factory.parser','getRepositoryId','recordTypes','Service','create','checkSyncStatus','repositoryGit','FLOSUM_BRANCH','../../../../constants','function','fileNames','fetchRepositoryComponentsByFilenames','push','SalesforceService','../utils/components.utils','2EmspOy','branchId','FLOSUM_GIT_NAMESPACE','getRemoteStateAttachmentId','createCommit','defineProperty','splice','length','branch','syncRecord','fetchBranchComponents','proceedFile','salesforceRest','5467wwgcpL','updateRemoteState','repositoryId','filterMetadataComponents','3530262CznFol','(((.+)+)+)+$','getComponentRecordTypes','parse','fetchComponentsMetadata','103088wzYGTF','crc32','retrieveAttachment'];a127_0x3345=function(){return _0x39dfe6;};return a127_0x3345();}Object[a127_0x339ea9(0x1cc)](exports,a127_0x339ea9(0x1a6),{'value':!![]}),exports[a127_0x339ea9(0x1ed)]=void 0x0;const constants_1=require(a127_0x339ea9(0x1c0)),salesforce_git_sync_service_1=require(a127_0x339ea9(0x1f9)),salesforce_rest_service_1=require(a127_0x339ea9(0x1e0)),typedi_1=require(a127_0x339ea9(0x1ee)),salesforce_sync_service_1=require(a127_0x339ea9(0x1af)),salesforce_service_1=require(a127_0x339ea9(0x1f8)),factory_parser_1=require(a127_0x339ea9(0x1b8)),path_utils_1=require(a127_0x339ea9(0x1ec)),components_utils_1=require(a127_0x339ea9(0x1c6));let GitCommitService=class GitCommitService{constructor(_0x47069c,_0x472216,_0x3ba01d,_0x48d7dd){const _0x391d06=a127_0x339ea9;this['salesforceGitSync']=_0x47069c,this[_0x391d06(0x1d3)]=_0x472216,this[_0x391d06(0x1b3)]=_0x3ba01d,this[_0x391d06(0x1f4)]=_0x48d7dd,this[_0x391d06(0x1e9)]=0xc8;}get[a127_0x339ea9(0x1d6)](){const _0x3be72b=a127_0x339ea9;var _0x24adae;return((_0x24adae=this[_0x3be72b(0x1d0)])===null||_0x24adae===void 0x0?void 0x0:_0x24adae[_0x3be72b(0x1d6)])||'';}get['branchId'](){var _0x1dbf5d;return((_0x1dbf5d=this['syncRecord'])===null||_0x1dbf5d===void 0x0?void 0x0:_0x1dbf5d['branchId'])||'';}get[a127_0x339ea9(0x1ab)](){const _0x1a3ebc=a127_0x339ea9;return this['syncRecord'][_0x1a3ebc(0x1a5)];}async[a127_0x339ea9(0x1cb)](_0x3b02ca){const _0x2dd544=a127_0x339ea9;return this[_0x2dd544(0x1eb)][_0x2dd544(0x1cb)](_0x3b02ca,this['repositoryId']);}async[a127_0x339ea9(0x1bd)](_0x2f7888){const _0x2b8b3a=a127_0x339ea9;if(this['syncRecord']){const _0x51c27b=await this[_0x2b8b3a(0x1b3)][_0x2b8b3a(0x1ca)](this[_0x2b8b3a(0x1d0)]),_0x11126b=await this[_0x2b8b3a(0x1f4)][_0x2b8b3a(0x1df)](_0x51c27b)['then'](_0x4458a8=>typeof _0x4458a8==='string'?JSON[_0x2b8b3a(0x1db)](_0x4458a8):_0x4458a8)['catch'](()=>({}));if(_0x11126b[this[_0x2b8b3a(0x1f2)][_0x2b8b3a(0x1be)]]){if(_0x11126b[this[_0x2b8b3a(0x1f2)][_0x2b8b3a(0x1be)]]['lastCommit']===_0x2f7888)return!![];}return![];}return![];}async[a127_0x339ea9(0x1d5)](_0x44a1ba){const _0x5152c5=a127_0x339ea9;this[_0x5152c5(0x1d0)]&&await this[_0x5152c5(0x1b3)][_0x5152c5(0x1d5)](this['syncRecord'],_0x44a1ba);}[a127_0x339ea9(0x1a7)](){const _0x5b6862=a127_0x339ea9;return this[_0x5b6862(0x1e8)][_0x5b6862(0x1e5)](({fileName:_0x5226dd})=>_0x5226dd);}async[a127_0x339ea9(0x1d2)](_0x3ed058,_0x3727a2,_0x322b70){const _0x417cf9=a127_0x339ea9,_0x57e21c=await path_utils_1['PathUtils']['readComponentPaths'](this[_0x417cf9(0x1d0)][_0x417cf9(0x1a5)],_0x3ed058,_0x3727a2,_0x322b70),_0x5f5be6=components_utils_1[_0x417cf9(0x1a0)][_0x417cf9(0x1d7)](this[_0x417cf9(0x1e8)],_0x3ed058,_0x322b70,this[_0x417cf9(0x1d0)][_0x417cf9(0x1a5)]),_0x285406=factory_parser_1[_0x417cf9(0x1f6)][_0x417cf9(0x1bc)]({'recordType':this[_0x417cf9(0x1d0)][_0x417cf9(0x1a5)],'sourceDir':_0x3727a2,'paths':_0x57e21c}),_0x1b5d32=await _0x285406['execute'](),_0x2e1676=[],_0x471a35=[];for(const _0x300e23 of _0x1b5d32){const _0x3cda14=_0x5f5be6[_0x417cf9(0x1e2)](_0x1a1a4=>_0x1a1a4[_0x417cf9(0x1f0)]===_0x300e23[_0x417cf9(0x1f0)]&&_0x1a1a4[_0x417cf9(0x1f7)]===_0x300e23[_0x417cf9(0x1f7)]);if(!_0x3cda14){_0x2e1676['push'](_0x300e23);continue;}_0x300e23['crc']!==_0x3cda14[_0x417cf9(0x1de)]&&_0x471a35[_0x417cf9(0x1c4)]({'meta':_0x3cda14,'component':_0x300e23}),_0x5f5be6[_0x417cf9(0x1cd)](_0x5f5be6[_0x417cf9(0x1ac)](_0x3cda14),0x1);}return{'inserted':_0x2e1676,'modified':_0x471a35,'removed':_0x5f5be6};}async['fetchRepositoryOrBranchData'](){const _0x823045=a127_0x339ea9;this[_0x823045(0x1d0)]=this[_0x823045(0x1f2)][_0x823045(0x1cf)]===_0x823045(0x1b2)?await this[_0x823045(0x1b3)][_0x823045(0x1a1)](this['gitCommit']['repository']):await this[_0x823045(0x1b3)]['getBranchRecordByName'](this[_0x823045(0x1f2)]['branch']),this['recordTypes']=await this[_0x823045(0x1eb)][_0x823045(0x1da)]();}async[a127_0x339ea9(0x1dc)](_0x39cc81){const _0x135ee0=a127_0x339ea9;if(this[_0x135ee0(0x1f2)][_0x135ee0(0x1b1)]||_0x39cc81){this[_0x135ee0(0x1e8)]=this[_0x135ee0(0x1c8)]?await this['salesforceGitSync'][_0x135ee0(0x1d1)](this['branchId']):await this[_0x135ee0(0x1eb)][_0x135ee0(0x1ad)](this['repositoryId']);return;}const _0x3080ff=components_utils_1[_0x135ee0(0x1a0)][_0x135ee0(0x1b7)](this[_0x135ee0(0x1f2)][_0x135ee0(0x1c2)],this[_0x135ee0(0x1d0)]['recordTypeName']);this[_0x135ee0(0x1e8)]=[];while(_0x3080ff[_0x135ee0(0x1ce)]){const _0x401f87=_0x3080ff['splice'](0x0,this[_0x135ee0(0x1e9)]),_0x203739=this[_0x135ee0(0x1c8)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0x401f87,this['branchId']):await this['salesforceGitSync'][_0x135ee0(0x1c3)](_0x401f87,this[_0x135ee0(0x1d6)]);this[_0x135ee0(0x1e8)][_0x135ee0(0x1c4)](..._0x203739);}}async[a127_0x339ea9(0x1f1)](_0x245e9d){const _0x2ada4f=a127_0x339ea9;this[_0x2ada4f(0x1c8)]?await this['salesforceRest'][_0x2ada4f(0x1ae)](constants_1[_0x2ada4f(0x1bf)],this['branchId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x2ada4f(0x1a8)]:_0x245e9d,[constants_1['FLOSUM_NAMESPACE']+_0x2ada4f(0x1e7)]:Date['now']()}):await this[_0x2ada4f(0x1d3)][_0x2ada4f(0x1ae)](constants_1[_0x2ada4f(0x1e1)],this[_0x2ada4f(0x1d6)],{[constants_1[_0x2ada4f(0x1c9)]+_0x2ada4f(0x1a8)]:_0x245e9d});}['setCommitDto'](_0x5c52a1){this['gitCommit']=_0x5c52a1;}['getRecordTypes'](){const _0x459721=a127_0x339ea9;return this[_0x459721(0x1ba)];}[a127_0x339ea9(0x1b9)](){return this['repositoryId'];}[a127_0x339ea9(0x1fa)](){const _0x45fdd3=a127_0x339ea9;return this[_0x45fdd3(0x1c8)];}};GitCommitService=__decorate([(0x0,typedi_1[a127_0x339ea9(0x1bb)])({'transient':!![]}),__metadata(a127_0x339ea9(0x1a2),[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a127_0x339ea9(0x1a3)],salesforce_sync_service_1[a127_0x339ea9(0x1b0)],salesforce_service_1[a127_0x339ea9(0x1c5)]])],GitCommitService),exports[a127_0x339ea9(0x1ed)]=GitCommitService;