const a110_0x5c831d=a110_0xf0a9;(function(_0x451923,_0x4c154e){const _0x10b43f=a110_0xf0a9,_0x12e1f6=_0x451923();while(!![]){try{const _0x586044=parseInt(_0x10b43f(0xdf))/0x1+-parseInt(_0x10b43f(0xfe))/0x2+-parseInt(_0x10b43f(0x103))/0x3*(-parseInt(_0x10b43f(0x117))/0x4)+-parseInt(_0x10b43f(0x11a))/0x5*(parseInt(_0x10b43f(0xe1))/0x6)+-parseInt(_0x10b43f(0xf8))/0x7*(-parseInt(_0x10b43f(0xde))/0x8)+-parseInt(_0x10b43f(0xe9))/0x9*(parseInt(_0x10b43f(0x10e))/0xa)+-parseInt(_0x10b43f(0xda))/0xb*(parseInt(_0x10b43f(0xfd))/0xc);if(_0x586044===_0x4c154e)break;else _0x12e1f6['push'](_0x12e1f6['shift']());}catch(_0x48a400){_0x12e1f6['push'](_0x12e1f6['shift']());}}}(a110_0x4fe5,0xedc12));const a110_0x8220d1=(function(){let _0x4ff64e=!![];return function(_0x4a7fd8,_0x294d03){const _0x18706c=_0x4ff64e?function(){if(_0x294d03){const _0x151e53=_0x294d03['apply'](_0x4a7fd8,arguments);return _0x294d03=null,_0x151e53;}}:function(){};return _0x4ff64e=![],_0x18706c;};}()),a110_0x170d1c=a110_0x8220d1(this,function(){const _0x4ff3e1=a110_0xf0a9;return a110_0x170d1c[_0x4ff3e1(0xd6)]()[_0x4ff3e1(0xd0)]('(((.+)+)+)+$')[_0x4ff3e1(0xd6)]()['constructor'](a110_0x170d1c)[_0x4ff3e1(0xd0)](_0x4ff3e1(0xc6));});a110_0x170d1c();function a110_0x4fe5(){const _0x5e16d9=['componentsMetadata','TASKS_PER_TICK','fetchRepositoryComponents','branch','catch','branchId','length','salesforce','fetchRepositoryOrBranchData','getOwnPropertyDescriptor','FLOSUM_NAMESPACE','function','type','filter','21154jxIBMZ','([./-]{1}|$)','__decorate','updateStatus','fetchBranchComponentsByFilenames','10002156dNWiXW','1474936AcZzOK','patch','repositoryId','crc32','../../../../constants','4785861pawDMm','getRepositoryId','GitCommitService','getRecordTypes','../../parsers/mdapi/parser-v2','syncRecord','Synchronization_Status__c','filterParserPaths','getBranchId','decorate','salesforceGitSync','6520XBiQXT','splice','../../salesforce/services/salesforce-rest.service','FLOSUM_BRANCH','fileNames','gitCommit','match','proceedFile','object','4OrYZMW','retrieveAttachment','replace','5cJUyEH','createCommit','salesforceRest','defineProperty','salesforceSync','SalesforceSyncService','name','SalesforceGitSyncService','getBranchRecordByName','fileName','lastCommit','find','fetchBranchComponents','(((.+)+)+)+$','Last_Updated_On__c','string','master','META_XML_EXTENSION','metadata','../../parsers/utils','checkSyncStatus','force','parse','search','repository','design:paramtypes','map','FLOSUM_REPOSITORY','getComponentRecordTypes','toString','recordTypes','crc','../../salesforce/services/salesforce-git-sync.service','11HvEjRM','FLOSUM_GIT_NAMESPACE','fetchRepositoryComponentsByFilenames','push','1432FhJRtB','1168183acXyEK','../../salesforce/services/salesforce.service','1028886uTJcXI','SalesforceService','getRemoteStateAttachmentId','updateRemoteState','fetchComponentsMetadata','readFilesByFilename','repositoryGit','indexOf','8118kopsXM'];a110_0x4fe5=function(){return _0x5e16d9;};return a110_0x4fe5();}'use strict';var __decorate=this&&this[a110_0x5c831d(0xfa)]||function(_0x5c460f,_0x141276,_0x1e25f9,_0x41e5ae){const _0x525165=a110_0x5c831d;var _0x572e3f=arguments[_0x525165(0xf0)],_0x50bcd5=_0x572e3f<0x3?_0x141276:_0x41e5ae===null?_0x41e5ae=Object[_0x525165(0xf3)](_0x141276,_0x1e25f9):_0x41e5ae,_0xf24a2e;if(typeof Reflect===_0x525165(0x116)&&typeof Reflect[_0x525165(0x10c)]==='function')_0x50bcd5=Reflect[_0x525165(0x10c)](_0x5c460f,_0x141276,_0x1e25f9,_0x41e5ae);else{for(var _0xd99e0f=_0x5c460f[_0x525165(0xf0)]-0x1;_0xd99e0f>=0x0;_0xd99e0f--)if(_0xf24a2e=_0x5c460f[_0xd99e0f])_0x50bcd5=(_0x572e3f<0x3?_0xf24a2e(_0x50bcd5):_0x572e3f>0x3?_0xf24a2e(_0x141276,_0x1e25f9,_0x50bcd5):_0xf24a2e(_0x141276,_0x1e25f9))||_0x50bcd5;}return _0x572e3f>0x3&&_0x50bcd5&&Object[_0x525165(0x11d)](_0x141276,_0x1e25f9,_0x50bcd5),_0x50bcd5;},__metadata=this&&this['__metadata']||function(_0x121f71,_0x342ed3){const _0x2009f2=a110_0x5c831d;if(typeof Reflect===_0x2009f2(0x116)&&typeof Reflect[_0x2009f2(0xcb)]===_0x2009f2(0xf5))return Reflect['metadata'](_0x121f71,_0x342ed3);};function a110_0xf0a9(_0x26dd89,_0x50576f){const _0x23b36b=a110_0x4fe5();return a110_0xf0a9=function(_0x170d1c,_0x8220d1){_0x170d1c=_0x170d1c-0xc2;let _0x4fe51c=_0x23b36b[_0x170d1c];return _0x4fe51c;},a110_0xf0a9(_0x26dd89,_0x50576f);}Object[a110_0x5c831d(0x11d)](exports,'__esModule',{'value':!![]}),exports[a110_0x5c831d(0x105)]=void 0x0;const constants_1=require(a110_0x5c831d(0x102)),salesforce_git_sync_service_1=require(a110_0x5c831d(0xd9)),salesforce_rest_service_1=require(a110_0x5c831d(0x110)),typedi_1=require('typedi'),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a110_0x5c831d(0xe0)),parser_v2_1=require(a110_0x5c831d(0x107)),utils_1=require(a110_0x5c831d(0xcc));let GitCommitService=class GitCommitService{constructor(_0x549c15,_0x3c1846,_0x22d2de,_0x37f9ae){const _0x3cd24a=a110_0x5c831d;this[_0x3cd24a(0x10d)]=_0x549c15,this[_0x3cd24a(0x11c)]=_0x3c1846,this[_0x3cd24a(0x11e)]=_0x22d2de,this[_0x3cd24a(0xf1)]=_0x37f9ae,this[_0x3cd24a(0xeb)]=0xc8;}get['repositoryId'](){const _0x403e73=a110_0x5c831d;var _0x54c4b4;return((_0x54c4b4=this[_0x403e73(0x108)])===null||_0x54c4b4===void 0x0?void 0x0:_0x54c4b4['repositoryId'])||'';}get[a110_0x5c831d(0xef)](){const _0x39f420=a110_0x5c831d;var _0x3daad2;return((_0x3daad2=this[_0x39f420(0x108)])===null||_0x3daad2===void 0x0?void 0x0:_0x3daad2['branchId'])||'';}async['createCommit'](_0x1c784d){const _0x31cd41=a110_0x5c831d;return this[_0x31cd41(0x10d)][_0x31cd41(0x11b)](_0x1c784d,this[_0x31cd41(0x100)]);}async[a110_0x5c831d(0xcd)](_0x35c90e){const _0x598bb4=a110_0x5c831d;if(this[_0x598bb4(0x108)]){const _0x33f7f4=await this[_0x598bb4(0x11e)][_0x598bb4(0xe3)](this[_0x598bb4(0x108)]),_0x51d600=await this[_0x598bb4(0xf1)][_0x598bb4(0x118)](_0x33f7f4)['then'](_0x410718=>typeof _0x410718===_0x598bb4(0xc8)?JSON['parse'](_0x410718):_0x410718)[_0x598bb4(0xee)](()=>({}));if(_0x51d600[this[_0x598bb4(0x113)][_0x598bb4(0xe7)]]){if(_0x51d600[this[_0x598bb4(0x113)][_0x598bb4(0xe7)]][_0x598bb4(0xc3)]===_0x35c90e)return!![];}return![];}return![];}async[a110_0x5c831d(0xe4)](_0x7a1273){const _0x82d9ee=a110_0x5c831d;this[_0x82d9ee(0x108)]&&await this[_0x82d9ee(0x11e)][_0x82d9ee(0xe4)](this['syncRecord'],_0x7a1273);}['getUnusedComponentsFilePaths'](){const _0x2c3e22=a110_0x5c831d;return this[_0x2c3e22(0xea)]['map'](({fileName:_0x2e39c4})=>_0x2e39c4);}async[a110_0x5c831d(0x115)](_0x2ca808,_0x299ef3,_0x2ed0ff){const _0x1daa47=a110_0x5c831d,_0x5060b0=new RegExp('^'+_0x2ca808+_0x1daa47(0xf9));let _0xadbcf2=[_0x2ca808];_0x2ed0ff&&(_0xadbcf2=(0x0,utils_1[_0x1daa47(0x10a)])(await(0x0,utils_1[_0x1daa47(0xe6)])(_0x2ca808,_0x299ef3)[_0x1daa47(0xee)](()=>[])));const _0x142458=_0x2ed0ff?this['componentsMetadata'][_0x1daa47(0xf7)](_0x2378b0=>_0x2378b0[_0x1daa47(0xc2)][_0x1daa47(0x114)](_0x5060b0)):this['componentsMetadata']['filter'](_0x5875e4=>_0x5875e4[_0x1daa47(0xc2)]===_0x2ca808||_0x5875e4['fileName']===_0x2ca808[_0x1daa47(0x119)](constants_1['META_XML_EXTENSION'],'')),_0x50af1c=new parser_v2_1['MDApiParserV2'](_0x299ef3,_0xadbcf2),_0x5021df=await _0x50af1c[_0x1daa47(0xcf)](),_0x1ff43a=[],_0x5089ea=[];for(const _0x28ae41 of _0x5021df){const _0x373a68=_0x142458[_0x1daa47(0xc4)](_0x3a3ebb=>_0x3a3ebb['name']===_0x28ae41[_0x1daa47(0x120)]&&_0x3a3ebb['type']===_0x28ae41[_0x1daa47(0xf6)]);if(!_0x373a68){_0x1ff43a['push'](_0x28ae41);continue;}_0x28ae41[_0x1daa47(0xd8)]!==_0x373a68[_0x1daa47(0x101)]&&_0x5089ea[_0x1daa47(0xdd)]({'meta':_0x373a68,'component':_0x28ae41}),_0x142458[_0x1daa47(0x10f)](_0x142458[_0x1daa47(0xe8)](_0x373a68),0x1);}return{'inserted':_0x1ff43a,'modified':_0x5089ea,'removed':_0x142458};}async[a110_0x5c831d(0xf2)](){const _0x4d1a90=a110_0x5c831d;this[_0x4d1a90(0x108)]=this['gitCommit'][_0x4d1a90(0xed)]===_0x4d1a90(0xc9)?await this[_0x4d1a90(0x11e)]['getRepositoryRecordByName'](this['gitCommit'][_0x4d1a90(0xd1)]):await this[_0x4d1a90(0x11e)][_0x4d1a90(0x122)](this['gitCommit']['branch']),this[_0x4d1a90(0xd7)]=await this['salesforceGitSync'][_0x4d1a90(0xd5)]();}async[a110_0x5c831d(0xe5)](_0x19a691){const _0x258d8d=a110_0x5c831d;if(this['gitCommit'][_0x258d8d(0xce)]||_0x19a691){this[_0x258d8d(0xea)]=this[_0x258d8d(0xef)]?await this[_0x258d8d(0x10d)][_0x258d8d(0xc5)](this[_0x258d8d(0xef)]):await this[_0x258d8d(0x10d)][_0x258d8d(0xec)](this[_0x258d8d(0x100)]);return;}const _0x376e63=[...new Set(this[_0x258d8d(0x113)][_0x258d8d(0x112)][_0x258d8d(0xd3)](_0xf3ad5c=>_0xf3ad5c[_0x258d8d(0x119)](constants_1[_0x258d8d(0xca)],'')))];this[_0x258d8d(0xea)]=[];while(_0x376e63['length']){const _0x56c817=_0x376e63[_0x258d8d(0x10f)](0x0,this[_0x258d8d(0xeb)]),_0xe682e2=this[_0x258d8d(0xef)]?await this[_0x258d8d(0x10d)][_0x258d8d(0xfc)](_0x56c817,this[_0x258d8d(0xef)]):await this[_0x258d8d(0x10d)][_0x258d8d(0xdc)](_0x56c817,this[_0x258d8d(0x100)]);this[_0x258d8d(0xea)][_0x258d8d(0xdd)](..._0xe682e2);}}async[a110_0x5c831d(0xfb)](_0x27bb6c){const _0x465da9=a110_0x5c831d;this[_0x465da9(0xef)]?await this[_0x465da9(0x11c)][_0x465da9(0xff)](constants_1[_0x465da9(0x111)],this[_0x465da9(0xef)],{[constants_1[_0x465da9(0xdb)]+'Synchronization_Status__c']:_0x27bb6c,[constants_1[_0x465da9(0xf4)]+_0x465da9(0xc7)]:Date['now']()}):await this[_0x465da9(0x11c)]['patch'](constants_1[_0x465da9(0xd4)],this[_0x465da9(0x100)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x465da9(0x109)]:_0x27bb6c});}['setCommitDto'](_0x4b0eb3){const _0x20d514=a110_0x5c831d;this[_0x20d514(0x113)]=_0x4b0eb3;}[a110_0x5c831d(0x106)](){const _0x1d4f77=a110_0x5c831d;return this[_0x1d4f77(0xd7)];}[a110_0x5c831d(0x104)](){const _0x4f3854=a110_0x5c831d;return this[_0x4f3854(0x100)];}[a110_0x5c831d(0x10b)](){const _0x158ec6=a110_0x5c831d;return this[_0x158ec6(0xef)];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a110_0x5c831d(0xd2),[salesforce_git_sync_service_1[a110_0x5c831d(0x121)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0x5c831d(0x11f)],salesforce_service_1[a110_0x5c831d(0xe2)]])],GitCommitService),exports[a110_0x5c831d(0x105)]=GitCommitService;