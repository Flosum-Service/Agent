const a66_0x39db92=a66_0x46f9;(function(_0xa537b8,_0x514e06){const _0x2bd185=a66_0x46f9,_0x3e62b3=_0xa537b8();while(!![]){try{const _0xf2bfa5=-parseInt(_0x2bd185(0x17c))/0x1*(parseInt(_0x2bd185(0x16f))/0x2)+-parseInt(_0x2bd185(0x161))/0x3*(-parseInt(_0x2bd185(0x15b))/0x4)+-parseInt(_0x2bd185(0x131))/0x5+parseInt(_0x2bd185(0x16c))/0x6*(-parseInt(_0x2bd185(0x172))/0x7)+-parseInt(_0x2bd185(0x17d))/0x8*(parseInt(_0x2bd185(0x17e))/0x9)+parseInt(_0x2bd185(0x152))/0xa+parseInt(_0x2bd185(0x157))/0xb;if(_0xf2bfa5===_0x514e06)break;else _0x3e62b3['push'](_0x3e62b3['shift']());}catch(_0x267dec){_0x3e62b3['push'](_0x3e62b3['shift']());}}}(a66_0x4d3e,0xe24b5));const a66_0x4f935d=(function(){let _0xc2cefd=!![];return function(_0x1a2d76,_0x3a9873){const _0xe56a27=_0xc2cefd?function(){const _0x585ae2=a66_0x46f9;if(_0x3a9873){const _0x1298ec=_0x3a9873[_0x585ae2(0x133)](_0x1a2d76,arguments);return _0x3a9873=null,_0x1298ec;}}:function(){};return _0xc2cefd=![],_0xe56a27;};}()),a66_0x167aa7=a66_0x4f935d(this,function(){const _0x5135fa=a66_0x46f9;return a66_0x167aa7[_0x5135fa(0x171)]()['search'](_0x5135fa(0x180))[_0x5135fa(0x171)]()[_0x5135fa(0x14b)](a66_0x167aa7)[_0x5135fa(0x13d)](_0x5135fa(0x180));});a66_0x167aa7();function a66_0x4d3e(){const _0x502498=['retrieveAttachment','21378984Pfkubw','master','fetchRepositoryComponents','SalesforceRestService','64396NTEtnm','map','SalesforceSyncService','Last_Updated_On__c','salesforceGitSync','repositoryGit','96hQjxlV','crc32','name','updateStatus','fetchRepositoryOrBranchData','createCommit','repositoryId','../../../../constants','Synchronization_Status__c','getRemoteStateAttachmentId','../../salesforce/services/salesforce-git-sync.service','7734018ZkLuWe','branch','getBranchRecordByName','1422518OMedJg','META_XML_EXTENSION','toString','7vqLjLW','../../salesforce/services/salesforce-rest.service','fetchBranchComponentsByFilenames','componentsMetadata','filterParserPaths','FLOSUM_GIT_NAMESPACE','filter','design:paramtypes','__decorate','find','1KiuHCL','12520YDSDIN','4842MZsTfu','getRepositoryRecordByName','(((.+)+)+)+$','getBranchId','patch','getRecordTypes','TASKS_PER_TICK','defineProperty','gitCommit','proceedFile','SalesforceGitSyncService','1377430xFoYLz','GitCommitService','apply','getUnusedComponentsFilePaths','catch','length','recordTypes','readFilesByFilename','FLOSUM_BRANCH','salesforceRest','salesforceSync','getComponentRecordTypes','search','branchId','setCommitDto','fileName','typedi','object','../../salesforce/services/salesforce-sync.service','function','getRepositoryId','syncRecord','salesforce','FLOSUM_NAMESPACE','updateRemoteState','push','constructor','replace','FLOSUM_REPOSITORY','splice','parse','indexOf','force','15859070MEmQoh','metadata','lastCommit','fetchComponentsMetadata'];a66_0x4d3e=function(){return _0x502498;};return a66_0x4d3e();}'use strict';var __decorate=this&&this[a66_0x39db92(0x17a)]||function(_0x1c4620,_0x19904f,_0x46e066,_0x84c1bc){const _0x1f91fd=a66_0x39db92;var _0x464cb0=arguments[_0x1f91fd(0x136)],_0x234514=_0x464cb0<0x3?_0x19904f:_0x84c1bc===null?_0x84c1bc=Object['getOwnPropertyDescriptor'](_0x19904f,_0x46e066):_0x84c1bc,_0x4b63c7;if(typeof Reflect===_0x1f91fd(0x142)&&typeof Reflect['decorate']===_0x1f91fd(0x144))_0x234514=Reflect['decorate'](_0x1c4620,_0x19904f,_0x46e066,_0x84c1bc);else{for(var _0x5181fc=_0x1c4620[_0x1f91fd(0x136)]-0x1;_0x5181fc>=0x0;_0x5181fc--)if(_0x4b63c7=_0x1c4620[_0x5181fc])_0x234514=(_0x464cb0<0x3?_0x4b63c7(_0x234514):_0x464cb0>0x3?_0x4b63c7(_0x19904f,_0x46e066,_0x234514):_0x4b63c7(_0x19904f,_0x46e066))||_0x234514;}return _0x464cb0>0x3&&_0x234514&&Object[_0x1f91fd(0x12d)](_0x19904f,_0x46e066,_0x234514),_0x234514;},__metadata=this&&this['__metadata']||function(_0x5d5b55,_0x3d4828){const _0x17e24a=a66_0x39db92;if(typeof Reflect===_0x17e24a(0x142)&&typeof Reflect['metadata']==='function')return Reflect[_0x17e24a(0x153)](_0x5d5b55,_0x3d4828);};Object[a66_0x39db92(0x12d)](exports,'__esModule',{'value':!![]}),exports[a66_0x39db92(0x132)]=void 0x0;const constants_1=require(a66_0x39db92(0x168)),salesforce_git_sync_service_1=require(a66_0x39db92(0x16b)),salesforce_rest_service_1=require(a66_0x39db92(0x173)),typedi_1=require(a66_0x39db92(0x141)),salesforce_sync_service_1=require(a66_0x39db92(0x143)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),parser_v2_1=require('../../parsers/mdapi/parser-v2'),utils_1=require('../../parsers/utils');let GitCommitService=class GitCommitService{constructor(_0x374a84,_0x4061f4,_0x2c7eac,_0x20b98d){const _0x4f826f=a66_0x39db92;this[_0x4f826f(0x15f)]=_0x374a84,this[_0x4f826f(0x13a)]=_0x4061f4,this[_0x4f826f(0x13b)]=_0x2c7eac,this[_0x4f826f(0x147)]=_0x20b98d,this[_0x4f826f(0x12c)]=0xc8;}get['repositoryId'](){const _0x5d89f2=a66_0x39db92;var _0x198390;return((_0x198390=this['syncRecord'])===null||_0x198390===void 0x0?void 0x0:_0x198390[_0x5d89f2(0x167)])||'';}get[a66_0x39db92(0x13e)](){const _0x40b778=a66_0x39db92;var _0x3eeeea;return((_0x3eeeea=this[_0x40b778(0x146)])===null||_0x3eeeea===void 0x0?void 0x0:_0x3eeeea[_0x40b778(0x13e)])||'';}async[a66_0x39db92(0x166)](_0x379b81){const _0x3a685b=a66_0x39db92;return this[_0x3a685b(0x15f)]['createCommit'](_0x379b81,this[_0x3a685b(0x167)]);}async['checkSyncStatus'](_0x34c6c0){const _0x1c775e=a66_0x39db92;if(this[_0x1c775e(0x146)]){const _0x53c343=await this[_0x1c775e(0x13b)][_0x1c775e(0x16a)](this[_0x1c775e(0x146)]),_0x36d0e0=await this[_0x1c775e(0x147)][_0x1c775e(0x156)](_0x53c343)['then'](_0x56c4c6=>typeof _0x56c4c6==='string'?JSON['parse'](_0x56c4c6):_0x56c4c6)[_0x1c775e(0x135)](()=>({}));if(_0x36d0e0[this[_0x1c775e(0x12e)]['repositoryGit']]){if(_0x36d0e0[this[_0x1c775e(0x12e)][_0x1c775e(0x160)]][_0x1c775e(0x154)]===_0x34c6c0)return!![];}return![];}return![];}async[a66_0x39db92(0x149)](_0x2f3592){const _0x1f85c7=a66_0x39db92;this[_0x1f85c7(0x146)]&&await this[_0x1f85c7(0x13b)][_0x1f85c7(0x149)](this[_0x1f85c7(0x146)],_0x2f3592);}[a66_0x39db92(0x134)](){const _0x1e7a2d=a66_0x39db92;return this[_0x1e7a2d(0x175)][_0x1e7a2d(0x15c)](({fileName:_0x2a35d7})=>_0x2a35d7);}async[a66_0x39db92(0x12f)](_0x18b62b,_0x5a4740,_0x4c4a9d){const _0x325d16=a66_0x39db92,_0x571297=new RegExp('^'+_0x18b62b+'([./-]{1}|$)');let _0x37e153=[_0x18b62b];_0x4c4a9d&&(_0x37e153=utils_1[_0x325d16(0x176)](await utils_1[_0x325d16(0x138)](_0x18b62b,_0x5a4740)[_0x325d16(0x135)](()=>[])));const _0x4839b5=_0x4c4a9d?this[_0x325d16(0x175)]['filter'](_0x4c2547=>_0x4c2547[_0x325d16(0x140)]['match'](_0x571297)):this[_0x325d16(0x175)][_0x325d16(0x178)](_0xae7023=>_0xae7023[_0x325d16(0x140)]===_0x18b62b||_0xae7023[_0x325d16(0x140)]===_0x18b62b['replace'](constants_1[_0x325d16(0x170)],'')),_0x5ccc1b=new parser_v2_1['MDApiParserV2'](_0x5a4740,_0x37e153),_0x1d18a4=await _0x5ccc1b[_0x325d16(0x14f)](),_0x1b6480=[],_0x3fa0f0=[];for(const _0x5a8f24 of _0x1d18a4){const _0x2af000=_0x4839b5[_0x325d16(0x17b)](_0xa0506a=>_0xa0506a['name']===_0x5a8f24[_0x325d16(0x163)]&&_0xa0506a['type']===_0x5a8f24['type']);if(!_0x2af000){_0x1b6480[_0x325d16(0x14a)](_0x5a8f24);continue;}_0x5a8f24['crc']!==_0x2af000[_0x325d16(0x162)]&&_0x3fa0f0[_0x325d16(0x14a)]({'meta':_0x2af000,'component':_0x5a8f24}),_0x4839b5[_0x325d16(0x14e)](_0x4839b5[_0x325d16(0x150)](_0x2af000),0x1);}return{'inserted':_0x1b6480,'modified':_0x3fa0f0,'removed':_0x4839b5};}async[a66_0x39db92(0x165)](){const _0x311eed=a66_0x39db92;this[_0x311eed(0x146)]=this[_0x311eed(0x12e)][_0x311eed(0x16d)]===_0x311eed(0x158)?await this['salesforceSync'][_0x311eed(0x17f)](this['gitCommit']['repository']):await this[_0x311eed(0x13b)][_0x311eed(0x16e)](this[_0x311eed(0x12e)][_0x311eed(0x16d)]),this[_0x311eed(0x137)]=await this['salesforceGitSync'][_0x311eed(0x13c)]();}async[a66_0x39db92(0x155)](_0x2ef8af){const _0x40287e=a66_0x39db92;if(this['gitCommit'][_0x40287e(0x151)]||_0x2ef8af){this['componentsMetadata']=this[_0x40287e(0x13e)]?await this['salesforceGitSync']['fetchBranchComponents'](this['branchId']):await this[_0x40287e(0x15f)][_0x40287e(0x159)](this['repositoryId']);return;}const _0x51e46f=[...new Set(this['gitCommit']['fileNames'][_0x40287e(0x15c)](_0x4003f3=>_0x4003f3[_0x40287e(0x14c)](constants_1[_0x40287e(0x170)],'')))];this['componentsMetadata']=[];while(_0x51e46f[_0x40287e(0x136)]){const _0xafa94b=_0x51e46f[_0x40287e(0x14e)](0x0,this[_0x40287e(0x12c)]),_0x216500=this['branchId']?await this['salesforceGitSync'][_0x40287e(0x174)](_0xafa94b,this[_0x40287e(0x13e)]):await this[_0x40287e(0x15f)]['fetchRepositoryComponentsByFilenames'](_0xafa94b,this[_0x40287e(0x167)]);this[_0x40287e(0x175)]['push'](..._0x216500);}}async[a66_0x39db92(0x164)](_0x55ec0d){const _0x1fc50d=a66_0x39db92;this[_0x1fc50d(0x13e)]?await this[_0x1fc50d(0x13a)]['patch'](constants_1[_0x1fc50d(0x139)],this[_0x1fc50d(0x13e)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x1fc50d(0x169)]:_0x55ec0d,[constants_1[_0x1fc50d(0x148)]+_0x1fc50d(0x15e)]:Date['now']()}):await this[_0x1fc50d(0x13a)][_0x1fc50d(0x12a)](constants_1[_0x1fc50d(0x14d)],this[_0x1fc50d(0x167)],{[constants_1[_0x1fc50d(0x177)]+_0x1fc50d(0x169)]:_0x55ec0d});}[a66_0x39db92(0x13f)](_0x1b2a85){this['gitCommit']=_0x1b2a85;}[a66_0x39db92(0x12b)](){return this['recordTypes'];}[a66_0x39db92(0x145)](){const _0x466fc5=a66_0x39db92;return this[_0x466fc5(0x167)];}[a66_0x39db92(0x129)](){const _0x4bede4=a66_0x39db92;return this[_0x4bede4(0x13e)];}};function a66_0x46f9(_0x4894fc,_0x10a62e){const _0x4ec25b=a66_0x4d3e();return a66_0x46f9=function(_0x167aa7,_0x4f935d){_0x167aa7=_0x167aa7-0x129;let _0x4d3efc=_0x4ec25b[_0x167aa7];return _0x4d3efc;},a66_0x46f9(_0x4894fc,_0x10a62e);}GitCommitService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a66_0x39db92(0x179),[salesforce_git_sync_service_1[a66_0x39db92(0x130)],salesforce_rest_service_1[a66_0x39db92(0x15a)],salesforce_sync_service_1[a66_0x39db92(0x15d)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a66_0x39db92(0x132)]=GitCommitService;