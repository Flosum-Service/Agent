const a110_0x44c9af=a110_0x3376;(function(_0x4e2786,_0x773100){const _0xe94412=a110_0x3376,_0x39227d=_0x4e2786();while(!![]){try{const _0x458b76=-parseInt(_0xe94412(0x1d7))/0x1*(-parseInt(_0xe94412(0x1a3))/0x2)+-parseInt(_0xe94412(0x1ea))/0x3+parseInt(_0xe94412(0x1d2))/0x4*(-parseInt(_0xe94412(0x1aa))/0x5)+-parseInt(_0xe94412(0x1cd))/0x6+-parseInt(_0xe94412(0x19c))/0x7*(-parseInt(_0xe94412(0x19e))/0x8)+parseInt(_0xe94412(0x1ba))/0x9+parseInt(_0xe94412(0x1b1))/0xa;if(_0x458b76===_0x773100)break;else _0x39227d['push'](_0x39227d['shift']());}catch(_0x1b4043){_0x39227d['push'](_0x39227d['shift']());}}}(a110_0x389e,0xb6c58));const a110_0x3eb8f6=(function(){let _0x36d5cd=!![];return function(_0x30184b,_0x214255){const _0x1da88a=_0x36d5cd?function(){const _0x77a436=a110_0x3376;if(_0x214255){const _0x4e4e70=_0x214255[_0x77a436(0x1ed)](_0x30184b,arguments);return _0x214255=null,_0x4e4e70;}}:function(){};return _0x36d5cd=![],_0x1da88a;};}()),a110_0x422e4a=a110_0x3eb8f6(this,function(){const _0x492695=a110_0x3376;return a110_0x422e4a[_0x492695(0x1b6)]()['search'](_0x492695(0x1b2))[_0x492695(0x1b6)]()[_0x492695(0x1ce)](a110_0x422e4a)[_0x492695(0x1dd)](_0x492695(0x1b2));});a110_0x422e4a();'use strict';function a110_0x3376(_0x5ad38b,_0x77d8f4){const _0x19de5f=a110_0x389e();return a110_0x3376=function(_0x422e4a,_0x3eb8f6){_0x422e4a=_0x422e4a-0x18f;let _0x389e86=_0x19de5f[_0x422e4a];return _0x389e86;},a110_0x3376(_0x5ad38b,_0x77d8f4);}var __decorate=this&&this[a110_0x44c9af(0x1e7)]||function(_0x751ef,_0x41c2b9,_0x4eb8ed,_0x50c41d){const _0x13fc27=a110_0x44c9af;var _0x1faf3e=arguments[_0x13fc27(0x1b5)],_0x3c06d1=_0x1faf3e<0x3?_0x41c2b9:_0x50c41d===null?_0x50c41d=Object[_0x13fc27(0x1ad)](_0x41c2b9,_0x4eb8ed):_0x50c41d,_0x5a5bdb;if(typeof Reflect===_0x13fc27(0x1eb)&&typeof Reflect['decorate']===_0x13fc27(0x1e3))_0x3c06d1=Reflect[_0x13fc27(0x1d1)](_0x751ef,_0x41c2b9,_0x4eb8ed,_0x50c41d);else{for(var _0x2e4d31=_0x751ef[_0x13fc27(0x1b5)]-0x1;_0x2e4d31>=0x0;_0x2e4d31--)if(_0x5a5bdb=_0x751ef[_0x2e4d31])_0x3c06d1=(_0x1faf3e<0x3?_0x5a5bdb(_0x3c06d1):_0x1faf3e>0x3?_0x5a5bdb(_0x41c2b9,_0x4eb8ed,_0x3c06d1):_0x5a5bdb(_0x41c2b9,_0x4eb8ed))||_0x3c06d1;}return _0x1faf3e>0x3&&_0x3c06d1&&Object['defineProperty'](_0x41c2b9,_0x4eb8ed,_0x3c06d1),_0x3c06d1;},__metadata=this&&this[a110_0x44c9af(0x193)]||function(_0x4ac831,_0x1e9878){const _0x188e07=a110_0x44c9af;if(typeof Reflect===_0x188e07(0x1eb)&&typeof Reflect[_0x188e07(0x1c4)]===_0x188e07(0x1e3))return Reflect[_0x188e07(0x1c4)](_0x4ac831,_0x1e9878);};Object[a110_0x44c9af(0x191)](exports,a110_0x44c9af(0x1e8),{'value':!![]}),exports[a110_0x44c9af(0x1d6)]=void 0x0;const constants_1=require(a110_0x44c9af(0x1b3)),salesforce_git_sync_service_1=require(a110_0x44c9af(0x1c1)),salesforce_rest_service_1=require(a110_0x44c9af(0x1c3)),typedi_1=require(a110_0x44c9af(0x1a8)),salesforce_sync_service_1=require(a110_0x44c9af(0x19d)),salesforce_service_1=require(a110_0x44c9af(0x1ca)),parser_v2_1=require(a110_0x44c9af(0x1a7)),utils_1=require(a110_0x44c9af(0x1a9));let GitCommitService=class GitCommitService{constructor(_0x1111b4,_0x145afd,_0x223a91,_0x53b314){const _0x2addd7=a110_0x44c9af;this[_0x2addd7(0x1a1)]=_0x1111b4,this[_0x2addd7(0x1cc)]=_0x145afd,this[_0x2addd7(0x190)]=_0x223a91,this[_0x2addd7(0x195)]=_0x53b314,this[_0x2addd7(0x1e6)]=0xc8;}get[a110_0x44c9af(0x1c0)](){const _0x38b19d=a110_0x44c9af;var _0x5d5571;return((_0x5d5571=this[_0x38b19d(0x1b8)])===null||_0x5d5571===void 0x0?void 0x0:_0x5d5571[_0x38b19d(0x1c0)])||'';}get['branchId'](){const _0x5145cf=a110_0x44c9af;var _0x158979;return((_0x158979=this[_0x5145cf(0x1b8)])===null||_0x158979===void 0x0?void 0x0:_0x158979[_0x5145cf(0x1b7)])||'';}async['createCommit'](_0x15e162){const _0x4d9e52=a110_0x44c9af;return this['salesforceGitSync'][_0x4d9e52(0x1df)](_0x15e162,this['repositoryId']);}async['checkSyncStatus'](_0xa52d17){const _0x1d455f=a110_0x44c9af;if(this[_0x1d455f(0x1b8)]){const _0x500e60=await this['salesforceSync'][_0x1d455f(0x1d8)](this[_0x1d455f(0x1b8)]),_0xfda912=await this['salesforce'][_0x1d455f(0x1c5)](_0x500e60)['then'](_0x4bcaf7=>typeof _0x4bcaf7===_0x1d455f(0x1ac)?JSON[_0x1d455f(0x1bf)](_0x4bcaf7):_0x4bcaf7)[_0x1d455f(0x192)](()=>({}));if(_0xfda912[this['gitCommit'][_0x1d455f(0x1d5)]]){if(_0xfda912[this[_0x1d455f(0x1e5)][_0x1d455f(0x1d5)]][_0x1d455f(0x1cf)]===_0xa52d17)return!![];}return![];}return![];}async[a110_0x44c9af(0x196)](_0x5b460d){const _0x19a89d=a110_0x44c9af;this[_0x19a89d(0x1b8)]&&await this[_0x19a89d(0x190)]['updateRemoteState'](this[_0x19a89d(0x1b8)],_0x5b460d);}[a110_0x44c9af(0x1ae)](){const _0x387b8b=a110_0x44c9af;return this[_0x387b8b(0x19a)]['map'](({fileName:_0x49df7a})=>_0x49df7a);}async[a110_0x44c9af(0x1a6)](_0x1c9f30,_0x16efc5,_0x2a3d9f){const _0x554523=a110_0x44c9af,_0x1f7c7e=new RegExp('^'+_0x1c9f30+_0x554523(0x19b));let _0x152408=[_0x1c9f30];_0x2a3d9f&&(_0x152408=(0x0,utils_1['filterParserPaths'])(await(0x0,utils_1['readFilesByFilename'])(_0x1c9f30,_0x16efc5)['catch'](()=>[])));const _0x4ae02d=_0x2a3d9f?this[_0x554523(0x19a)][_0x554523(0x1dc)](_0x19cef4=>_0x19cef4[_0x554523(0x1bc)][_0x554523(0x1c6)](_0x1f7c7e)):this[_0x554523(0x19a)][_0x554523(0x1dc)](_0x306aa2=>_0x306aa2[_0x554523(0x1bc)]===_0x1c9f30||_0x306aa2['fileName']===_0x1c9f30[_0x554523(0x1da)](constants_1[_0x554523(0x1a2)],'')),_0xbdddcb=new parser_v2_1[(_0x554523(0x1c7))](_0x16efc5,_0x152408),_0x204429=await _0xbdddcb[_0x554523(0x1bf)](),_0x861363=[],_0x5c7bc5=[];for(const _0x3854bb of _0x204429){const _0x1d165c=_0x4ae02d['find'](_0x1e0185=>_0x1e0185[_0x554523(0x1a0)]===_0x3854bb[_0x554523(0x1a0)]&&_0x1e0185['type']===_0x3854bb[_0x554523(0x1c2)]);if(!_0x1d165c){_0x861363[_0x554523(0x1bd)](_0x3854bb);continue;}_0x3854bb[_0x554523(0x1cb)]!==_0x1d165c['crc32']&&_0x5c7bc5[_0x554523(0x1bd)]({'meta':_0x1d165c,'component':_0x3854bb}),_0x4ae02d[_0x554523(0x1db)](_0x4ae02d[_0x554523(0x1b4)](_0x1d165c),0x1);}return{'inserted':_0x861363,'modified':_0x5c7bc5,'removed':_0x4ae02d};}async['fetchRepositoryOrBranchData'](){const _0xd04631=a110_0x44c9af;this[_0xd04631(0x1b8)]=this[_0xd04631(0x1e5)][_0xd04631(0x194)]==='master'?await this[_0xd04631(0x190)][_0xd04631(0x1de)](this['gitCommit'][_0xd04631(0x1a4)]):await this[_0xd04631(0x190)][_0xd04631(0x1d3)](this['gitCommit'][_0xd04631(0x194)]),this[_0xd04631(0x1b9)]=await this['salesforceGitSync'][_0xd04631(0x1d4)]();}async[a110_0x44c9af(0x1e0)](_0x587688){const _0xe11ab=a110_0x44c9af;if(this[_0xe11ab(0x1e5)][_0xe11ab(0x1bb)]||_0x587688){this['componentsMetadata']=this[_0xe11ab(0x1b7)]?await this[_0xe11ab(0x1a1)][_0xe11ab(0x1ee)](this[_0xe11ab(0x1b7)]):await this[_0xe11ab(0x1a1)]['fetchRepositoryComponents'](this[_0xe11ab(0x1c0)]);return;}const _0x3b936d=[...new Set(this[_0xe11ab(0x1e5)][_0xe11ab(0x1e9)][_0xe11ab(0x199)](_0x385ece=>_0x385ece[_0xe11ab(0x1da)](constants_1['META_XML_EXTENSION'],'')))];this['componentsMetadata']=[];while(_0x3b936d['length']){const _0x29bda5=_0x3b936d['splice'](0x0,this[_0xe11ab(0x1e6)]),_0xf14e0f=this['branchId']?await this[_0xe11ab(0x1a1)][_0xe11ab(0x1f0)](_0x29bda5,this[_0xe11ab(0x1b7)]):await this[_0xe11ab(0x1a1)][_0xe11ab(0x1d0)](_0x29bda5,this[_0xe11ab(0x1c0)]);this['componentsMetadata']['push'](..._0xf14e0f);}}async[a110_0x44c9af(0x1be)](_0x55a5be){const _0x315073=a110_0x44c9af;this[_0x315073(0x1b7)]?await this[_0x315073(0x1cc)][_0x315073(0x1d9)](constants_1[_0x315073(0x198)],this['branchId'],{[constants_1[_0x315073(0x197)]+_0x315073(0x1e1)]:_0x55a5be,[constants_1[_0x315073(0x1a5)]+_0x315073(0x18f)]:Date[_0x315073(0x1e4)]()}):await this[_0x315073(0x1cc)][_0x315073(0x1d9)](constants_1['FLOSUM_REPOSITORY'],this[_0x315073(0x1c0)],{[constants_1[_0x315073(0x197)]+'Synchronization_Status__c']:_0x55a5be});}[a110_0x44c9af(0x1ef)](_0x4c531e){const _0x5a7914=a110_0x44c9af;this[_0x5a7914(0x1e5)]=_0x4c531e;}['getRecordTypes'](){return this['recordTypes'];}[a110_0x44c9af(0x1ab)](){const _0x609b8f=a110_0x44c9af;return this[_0x609b8f(0x1c0)];}[a110_0x44c9af(0x1af)](){const _0x1e707a=a110_0x44c9af;return this[_0x1e707a(0x1b7)];}};function a110_0x389e(){const _0x359f56=['salesforceRest','1017282KNJZTd','constructor','lastCommit','fetchRepositoryComponentsByFilenames','decorate','1873244LogCEN','getBranchRecordByName','getComponentRecordTypes','repositoryGit','GitCommitService','2009DyyvJL','getRemoteStateAttachmentId','patch','replace','splice','filter','search','getRepositoryRecordByName','createCommit','fetchComponentsMetadata','Synchronization_Status__c','SalesforceGitSyncService','function','now','gitCommit','TASKS_PER_TICK','__decorate','__esModule','fileNames','2861922uwIYzH','object','SalesforceRestService','apply','fetchBranchComponents','setCommitDto','fetchBranchComponentsByFilenames','Last_Updated_On__c','salesforceSync','defineProperty','catch','__metadata','branch','salesforce','updateRemoteState','FLOSUM_GIT_NAMESPACE','FLOSUM_BRANCH','map','componentsMetadata','([./-]{1}|$)','14wwBCGU','../../salesforce/services/salesforce-sync.service','5616752OhkGJw','design:paramtypes','name','salesforceGitSync','META_XML_EXTENSION','586VLEWQb','repository','FLOSUM_NAMESPACE','proceedFile','../../parsers/mdapi/parser-v2','typedi','../../parsers/utils','5aGaokU','getRepositoryId','string','getOwnPropertyDescriptor','getUnusedComponentsFilePaths','getBranchId','SalesforceService','228500vtUsYy','(((.+)+)+)+$','../../../../constants','indexOf','length','toString','branchId','syncRecord','recordTypes','2923101RyWOVM','force','fileName','push','updateStatus','parse','repositoryId','../../salesforce/services/salesforce-git-sync.service','type','../../salesforce/services/salesforce-rest.service','metadata','retrieveAttachment','match','MDApiParserV2','Service','SalesforceSyncService','../../salesforce/services/salesforce.service','crc'];a110_0x389e=function(){return _0x359f56;};return a110_0x389e();}GitCommitService=__decorate([(0x0,typedi_1[a110_0x44c9af(0x1c8)])({'transient':!![]}),__metadata(a110_0x44c9af(0x19f),[salesforce_git_sync_service_1[a110_0x44c9af(0x1e2)],salesforce_rest_service_1[a110_0x44c9af(0x1ec)],salesforce_sync_service_1[a110_0x44c9af(0x1c9)],salesforce_service_1[a110_0x44c9af(0x1b0)]])],GitCommitService),exports['GitCommitService']=GitCommitService;