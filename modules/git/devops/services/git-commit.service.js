const a110_0x38fadc=a110_0x3ca0;(function(_0x4535c4,_0x441e84){const _0xa7b1d3=a110_0x3ca0,_0x58d555=_0x4535c4();while(!![]){try{const _0x91feb9=-parseInt(_0xa7b1d3(0x1a3))/0x1+-parseInt(_0xa7b1d3(0x1c1))/0x2*(parseInt(_0xa7b1d3(0x1dd))/0x3)+parseInt(_0xa7b1d3(0x1cb))/0x4*(parseInt(_0xa7b1d3(0x1b0))/0x5)+parseInt(_0xa7b1d3(0x1f2))/0x6+-parseInt(_0xa7b1d3(0x1ab))/0x7*(parseInt(_0xa7b1d3(0x1e9))/0x8)+-parseInt(_0xa7b1d3(0x1ce))/0x9*(parseInt(_0xa7b1d3(0x1af))/0xa)+parseInt(_0xa7b1d3(0x1da))/0xb;if(_0x91feb9===_0x441e84)break;else _0x58d555['push'](_0x58d555['shift']());}catch(_0x58e2ce){_0x58d555['push'](_0x58d555['shift']());}}}(a110_0x218b,0xda789));const a110_0x14a6b4=(function(){let _0x59fb9e=!![];return function(_0x53d7cb,_0x37df3a){const _0x391bee=_0x59fb9e?function(){if(_0x37df3a){const _0x464ce7=_0x37df3a['apply'](_0x53d7cb,arguments);return _0x37df3a=null,_0x464ce7;}}:function(){};return _0x59fb9e=![],_0x391bee;};}()),a110_0x32e724=a110_0x14a6b4(this,function(){const _0x2dcf82=a110_0x3ca0;return a110_0x32e724['toString']()['search'](_0x2dcf82(0x1e4))[_0x2dcf82(0x19c)]()[_0x2dcf82(0x1e0)](a110_0x32e724)[_0x2dcf82(0x1e3)]('(((.+)+)+)+$');});a110_0x32e724();function a110_0x218b(){const _0x43f15d=['lastCommit','type','META_XML_EXTENSION','updateRemoteState','syncRecord','design:paramtypes','replace','salesforceRest','36NRzDFd','Last_Updated_On__c','gitCommit','1560285kfTFAV','getRepositoryRecordByName','GitCommitService','length','checkSyncStatus','find','salesforceGitSync','branch','retrieveAttachment','getComponentRecordTypes','repository','../../../../constants','29745144ayIDjo','master','FLOSUM_NAMESPACE','1288908KyvCng','getRepositoryId','getUnusedComponentsFilePaths','constructor','__metadata','getBranchId','search','(((.+)+)+)+$','string','getRemoteStateAttachmentId','FLOSUM_BRANCH','TASKS_PER_TICK','234712xgRPbc','SalesforceGitSyncService','salesforce','catch','FLOSUM_GIT_NAMESPACE','repositoryGit','filter','fetchRepositoryComponentsByFilenames','fileNames','9285870ahwiLh','setCommitDto','Synchronization_Status__c','typedi','name','object','readFilesByFilename','repositoryId','toString','filterParserPaths','componentsMetadata','fetchBranchComponentsByFilenames','patch','fetchRepositoryComponents','recordTypes','1149328jWtSuA','salesforceSync','function','proceedFile','crc32','../../salesforce/services/salesforce.service','([./-]{1}|$)','createCommit','35SMGAOH','fetchBranchComponents','splice','fetchComponentsMetadata','70JUxBDv','245330zeqInn','SalesforceSyncService','defineProperty','decorate','getBranchRecordByName','../../parsers/utils','metadata','crc','push','../../salesforce/services/salesforce-rest.service','fileName','then','branchId','now','parse','getRecordTypes','../../salesforce/services/salesforce-sync.service','6rESLQV','indexOf'];a110_0x218b=function(){return _0x43f15d;};return a110_0x218b();}function a110_0x3ca0(_0x8932f4,_0x3e641b){const _0x59c2e7=a110_0x218b();return a110_0x3ca0=function(_0x32e724,_0x14a6b4){_0x32e724=_0x32e724-0x198;let _0x218b0e=_0x59c2e7[_0x32e724];return _0x218b0e;},a110_0x3ca0(_0x8932f4,_0x3e641b);}'use strict';var __decorate=this&&this['__decorate']||function(_0xf3a158,_0xa72fb1,_0x3559d9,_0x586143){const _0x4a6b82=a110_0x3ca0;var _0x9df047=arguments[_0x4a6b82(0x1d1)],_0x551b63=_0x9df047<0x3?_0xa72fb1:_0x586143===null?_0x586143=Object['getOwnPropertyDescriptor'](_0xa72fb1,_0x3559d9):_0x586143,_0x424b38;if(typeof Reflect===_0x4a6b82(0x199)&&typeof Reflect['decorate']===_0x4a6b82(0x1a5))_0x551b63=Reflect[_0x4a6b82(0x1b3)](_0xf3a158,_0xa72fb1,_0x3559d9,_0x586143);else{for(var _0x43ced8=_0xf3a158['length']-0x1;_0x43ced8>=0x0;_0x43ced8--)if(_0x424b38=_0xf3a158[_0x43ced8])_0x551b63=(_0x9df047<0x3?_0x424b38(_0x551b63):_0x9df047>0x3?_0x424b38(_0xa72fb1,_0x3559d9,_0x551b63):_0x424b38(_0xa72fb1,_0x3559d9))||_0x551b63;}return _0x9df047>0x3&&_0x551b63&&Object[_0x4a6b82(0x1b2)](_0xa72fb1,_0x3559d9,_0x551b63),_0x551b63;},__metadata=this&&this[a110_0x38fadc(0x1e1)]||function(_0xad8a81,_0x1e5059){const _0x2baecd=a110_0x38fadc;if(typeof Reflect==='object'&&typeof Reflect[_0x2baecd(0x1b6)]===_0x2baecd(0x1a5))return Reflect['metadata'](_0xad8a81,_0x1e5059);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a110_0x38fadc(0x1d0)]=void 0x0;const constants_1=require(a110_0x38fadc(0x1d9)),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a110_0x38fadc(0x1b9)),typedi_1=require(a110_0x38fadc(0x1f5)),salesforce_sync_service_1=require(a110_0x38fadc(0x1c0)),salesforce_service_1=require(a110_0x38fadc(0x1a8)),parser_v2_1=require('../../parsers/mdapi/parser-v2'),utils_1=require(a110_0x38fadc(0x1b5));let GitCommitService=class GitCommitService{constructor(_0x268a09,_0x48f817,_0x574d13,_0x244f26){const _0x445634=a110_0x38fadc;this[_0x445634(0x1d4)]=_0x268a09,this['salesforceRest']=_0x48f817,this[_0x445634(0x1a4)]=_0x574d13,this[_0x445634(0x1eb)]=_0x244f26,this[_0x445634(0x1e8)]=0xc8;}get['repositoryId'](){var _0x3146d8;return((_0x3146d8=this['syncRecord'])===null||_0x3146d8===void 0x0?void 0x0:_0x3146d8['repositoryId'])||'';}get[a110_0x38fadc(0x1bc)](){const _0x1d693f=a110_0x38fadc;var _0x27a6b6;return((_0x27a6b6=this[_0x1d693f(0x1c7)])===null||_0x27a6b6===void 0x0?void 0x0:_0x27a6b6['branchId'])||'';}async['createCommit'](_0x2038a8){const _0x2f80ca=a110_0x38fadc;return this['salesforceGitSync'][_0x2f80ca(0x1aa)](_0x2038a8,this['repositoryId']);}async[a110_0x38fadc(0x1d2)](_0x50bc80){const _0x3caa80=a110_0x38fadc;if(this[_0x3caa80(0x1c7)]){const _0x3ee3b2=await this['salesforceSync'][_0x3caa80(0x1e6)](this[_0x3caa80(0x1c7)]),_0x471fa9=await this[_0x3caa80(0x1eb)][_0x3caa80(0x1d6)](_0x3ee3b2)[_0x3caa80(0x1bb)](_0x2b48c4=>typeof _0x2b48c4===_0x3caa80(0x1e5)?JSON[_0x3caa80(0x1be)](_0x2b48c4):_0x2b48c4)[_0x3caa80(0x1ec)](()=>({}));if(_0x471fa9[this[_0x3caa80(0x1cd)]['repositoryGit']]){if(_0x471fa9[this[_0x3caa80(0x1cd)][_0x3caa80(0x1ee)]][_0x3caa80(0x1c3)]===_0x50bc80)return!![];}return![];}return![];}async['updateRemoteState'](_0x1e2a7a){const _0x216cc5=a110_0x38fadc;this['syncRecord']&&await this['salesforceSync'][_0x216cc5(0x1c6)](this[_0x216cc5(0x1c7)],_0x1e2a7a);}[a110_0x38fadc(0x1df)](){const _0x30928c=a110_0x38fadc;return this[_0x30928c(0x19e)]['map'](({fileName:_0x23662c})=>_0x23662c);}async[a110_0x38fadc(0x1a6)](_0x29c461,_0x282f21,_0x386fdd){const _0x3dde37=a110_0x38fadc,_0xf886ac=new RegExp('^'+_0x29c461+_0x3dde37(0x1a9));let _0x714dc8=[_0x29c461];_0x386fdd&&(_0x714dc8=(0x0,utils_1[_0x3dde37(0x19d)])(await(0x0,utils_1[_0x3dde37(0x19a)])(_0x29c461,_0x282f21)[_0x3dde37(0x1ec)](()=>[])));const _0x33e1a9=_0x386fdd?this[_0x3dde37(0x19e)][_0x3dde37(0x1ef)](_0x22c9a8=>_0x22c9a8[_0x3dde37(0x1ba)]['match'](_0xf886ac)):this[_0x3dde37(0x19e)][_0x3dde37(0x1ef)](_0x133dba=>_0x133dba[_0x3dde37(0x1ba)]===_0x29c461||_0x133dba['fileName']===_0x29c461[_0x3dde37(0x1c9)](constants_1[_0x3dde37(0x1c5)],'')),_0x4f481e=new parser_v2_1['MDApiParserV2'](_0x282f21,_0x714dc8),_0x2ad2cd=await _0x4f481e[_0x3dde37(0x1be)](),_0x39d816=[],_0x195b40=[];for(const _0x3059e8 of _0x2ad2cd){const _0x542e54=_0x33e1a9[_0x3dde37(0x1d3)](_0x37bdae=>_0x37bdae['name']===_0x3059e8[_0x3dde37(0x198)]&&_0x37bdae[_0x3dde37(0x1c4)]===_0x3059e8[_0x3dde37(0x1c4)]);if(!_0x542e54){_0x39d816[_0x3dde37(0x1b8)](_0x3059e8);continue;}_0x3059e8[_0x3dde37(0x1b7)]!==_0x542e54[_0x3dde37(0x1a7)]&&_0x195b40[_0x3dde37(0x1b8)]({'meta':_0x542e54,'component':_0x3059e8}),_0x33e1a9[_0x3dde37(0x1ad)](_0x33e1a9[_0x3dde37(0x1c2)](_0x542e54),0x1);}return{'inserted':_0x39d816,'modified':_0x195b40,'removed':_0x33e1a9};}async['fetchRepositoryOrBranchData'](){const _0x549602=a110_0x38fadc;this[_0x549602(0x1c7)]=this[_0x549602(0x1cd)][_0x549602(0x1d5)]===_0x549602(0x1db)?await this[_0x549602(0x1a4)][_0x549602(0x1cf)](this[_0x549602(0x1cd)][_0x549602(0x1d8)]):await this[_0x549602(0x1a4)][_0x549602(0x1b4)](this[_0x549602(0x1cd)][_0x549602(0x1d5)]),this[_0x549602(0x1a2)]=await this[_0x549602(0x1d4)][_0x549602(0x1d7)]();}async[a110_0x38fadc(0x1ae)](_0x167321){const _0x2ad444=a110_0x38fadc;if(this[_0x2ad444(0x1cd)]['force']||_0x167321){this[_0x2ad444(0x19e)]=this[_0x2ad444(0x1bc)]?await this[_0x2ad444(0x1d4)][_0x2ad444(0x1ac)](this['branchId']):await this['salesforceGitSync'][_0x2ad444(0x1a1)](this['repositoryId']);return;}const _0x166687=[...new Set(this[_0x2ad444(0x1cd)][_0x2ad444(0x1f1)]['map'](_0x1dbced=>_0x1dbced[_0x2ad444(0x1c9)](constants_1[_0x2ad444(0x1c5)],'')))];this[_0x2ad444(0x19e)]=[];while(_0x166687[_0x2ad444(0x1d1)]){const _0x891f4a=_0x166687[_0x2ad444(0x1ad)](0x0,this[_0x2ad444(0x1e8)]),_0x5b1748=this['branchId']?await this['salesforceGitSync'][_0x2ad444(0x19f)](_0x891f4a,this[_0x2ad444(0x1bc)]):await this[_0x2ad444(0x1d4)][_0x2ad444(0x1f0)](_0x891f4a,this[_0x2ad444(0x19b)]);this['componentsMetadata'][_0x2ad444(0x1b8)](..._0x5b1748);}}async['updateStatus'](_0xf6c738){const _0x443073=a110_0x38fadc;this[_0x443073(0x1bc)]?await this[_0x443073(0x1ca)][_0x443073(0x1a0)](constants_1[_0x443073(0x1e7)],this[_0x443073(0x1bc)],{[constants_1[_0x443073(0x1ed)]+_0x443073(0x1f4)]:_0xf6c738,[constants_1[_0x443073(0x1dc)]+_0x443073(0x1cc)]:Date[_0x443073(0x1bd)]()}):await this[_0x443073(0x1ca)]['patch'](constants_1['FLOSUM_REPOSITORY'],this['repositoryId'],{[constants_1[_0x443073(0x1ed)]+_0x443073(0x1f4)]:_0xf6c738});}[a110_0x38fadc(0x1f3)](_0x5ad03a){this['gitCommit']=_0x5ad03a;}[a110_0x38fadc(0x1bf)](){return this['recordTypes'];}[a110_0x38fadc(0x1de)](){const _0x5832ff=a110_0x38fadc;return this[_0x5832ff(0x19b)];}[a110_0x38fadc(0x1e2)](){const _0x4c7606=a110_0x38fadc;return this[_0x4c7606(0x1bc)];}};GitCommitService=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a110_0x38fadc(0x1c8),[salesforce_git_sync_service_1[a110_0x38fadc(0x1ea)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a110_0x38fadc(0x1b1)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a110_0x38fadc(0x1d0)]=GitCommitService;