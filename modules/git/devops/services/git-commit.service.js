const a110_0x46d92b=a110_0x3488;(function(_0xd0e6cb,_0x390871){const _0x6dfa5f=a110_0x3488,_0x3617df=_0xd0e6cb();while(!![]){try{const _0x54f0eb=parseInt(_0x6dfa5f(0x119))/0x1*(parseInt(_0x6dfa5f(0x128))/0x2)+parseInt(_0x6dfa5f(0x104))/0x3+-parseInt(_0x6dfa5f(0x152))/0x4*(parseInt(_0x6dfa5f(0x127))/0x5)+parseInt(_0x6dfa5f(0x109))/0x6+parseInt(_0x6dfa5f(0x136))/0x7*(parseInt(_0x6dfa5f(0x149))/0x8)+parseInt(_0x6dfa5f(0xfb))/0x9*(-parseInt(_0x6dfa5f(0x124))/0xa)+-parseInt(_0x6dfa5f(0x121))/0xb;if(_0x54f0eb===_0x390871)break;else _0x3617df['push'](_0x3617df['shift']());}catch(_0x76de){_0x3617df['push'](_0x3617df['shift']());}}}(a110_0x106d,0x4deea));const a110_0x2525d6=(function(){let _0x26cd4c=!![];return function(_0xf2f04,_0x309fbe){const _0x309f4c=_0x26cd4c?function(){const _0x20decb=a110_0x3488;if(_0x309fbe){const _0x327c60=_0x309fbe[_0x20decb(0x108)](_0xf2f04,arguments);return _0x309fbe=null,_0x327c60;}}:function(){};return _0x26cd4c=![],_0x309f4c;};}()),a110_0x398045=a110_0x2525d6(this,function(){const _0x253557=a110_0x3488;return a110_0x398045[_0x253557(0x154)]()['search'](_0x253557(0xff))['toString']()[_0x253557(0x11a)](a110_0x398045)['search'](_0x253557(0xff));});function a110_0x106d(){const _0x4fbb0d=['160QRsdxI','__decorate','salesforceRest','78335lcakey','2FKqXMF','fetchRepositoryOrBranchData','gitCommit','SalesforceGitSyncService','repositoryId','componentsMetadata','salesforce','type','getRecordTypes','__esModule','META_XML_EXTENSION','fetchBranchComponentsByFilenames','../../salesforce/services/salesforce.service','SalesforceService','1026655ddlFok','design:paramtypes','../../salesforce/services/salesforce-sync.service','fetchRepositoryComponents','now','GitCommitService','createCommit','repositoryGit','getUnusedComponentsFilePaths','getBranchId','splice','Service','map','([./-]{1}|$)','crc32','getOwnPropertyDescriptor','replace','force','FLOSUM_REPOSITORY','24MOSRqF','SalesforceRestService','filterParserPaths','name','fileNames','../../parsers/utils','readFilesByFilename','typedi','FLOSUM_GIT_NAMESPACE','16snSbeH','getComponentRecordTypes','toString','__metadata','SalesforceSyncService','../../parsers/mdapi/parser-v2','metadata','87327envOwK','filter','updateStatus','defineProperty','(((.+)+)+)+$','find','branchId','length','string','1160070LqtsNE','master','salesforceGitSync','catch','apply','482880WfDLGt','recordTypes','FLOSUM_NAMESPACE','crc','parse','object','getRepositoryRecordByName','fetchBranchComponents','fetchRepositoryComponentsByFilenames','Synchronization_Status__c','decorate','fileName','salesforceSync','syncRecord','push','../../salesforce/services/salesforce-git-sync.service','211929VVwqtt','constructor','Last_Updated_On__c','branch','fetchComponentsMetadata','match','setCommitDto','function','6401648zJntGN','retrieveAttachment','then'];a110_0x106d=function(){return _0x4fbb0d;};return a110_0x106d();}function a110_0x3488(_0x40254f,_0x51e726){const _0x46ab8d=a110_0x106d();return a110_0x3488=function(_0x398045,_0x2525d6){_0x398045=_0x398045-0xfb;let _0x106df1=_0x46ab8d[_0x398045];return _0x106df1;},a110_0x3488(_0x40254f,_0x51e726);}a110_0x398045();'use strict';var __decorate=this&&this[a110_0x46d92b(0x125)]||function(_0x5a27ab,_0x528982,_0x3b5193,_0x16a8d9){const _0x442c5b=a110_0x46d92b;var _0x4be944=arguments['length'],_0x5b6daf=_0x4be944<0x3?_0x528982:_0x16a8d9===null?_0x16a8d9=Object[_0x442c5b(0x145)](_0x528982,_0x3b5193):_0x16a8d9,_0x28dca5;if(typeof Reflect==='object'&&typeof Reflect[_0x442c5b(0x113)]===_0x442c5b(0x120))_0x5b6daf=Reflect['decorate'](_0x5a27ab,_0x528982,_0x3b5193,_0x16a8d9);else{for(var _0x164828=_0x5a27ab[_0x442c5b(0x102)]-0x1;_0x164828>=0x0;_0x164828--)if(_0x28dca5=_0x5a27ab[_0x164828])_0x5b6daf=(_0x4be944<0x3?_0x28dca5(_0x5b6daf):_0x4be944>0x3?_0x28dca5(_0x528982,_0x3b5193,_0x5b6daf):_0x28dca5(_0x528982,_0x3b5193))||_0x5b6daf;}return _0x4be944>0x3&&_0x5b6daf&&Object['defineProperty'](_0x528982,_0x3b5193,_0x5b6daf),_0x5b6daf;},__metadata=this&&this[a110_0x46d92b(0x155)]||function(_0x4db66d,_0x39a8ac){const _0x371cd1=a110_0x46d92b;if(typeof Reflect===_0x371cd1(0x10e)&&typeof Reflect[_0x371cd1(0x158)]===_0x371cd1(0x120))return Reflect[_0x371cd1(0x158)](_0x4db66d,_0x39a8ac);};Object[a110_0x46d92b(0xfe)](exports,a110_0x46d92b(0x131),{'value':!![]}),exports[a110_0x46d92b(0x13b)]=void 0x0;const constants_1=require('../../../../constants'),salesforce_git_sync_service_1=require(a110_0x46d92b(0x118)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a110_0x46d92b(0x150)),salesforce_sync_service_1=require(a110_0x46d92b(0x138)),salesforce_service_1=require(a110_0x46d92b(0x134)),parser_v2_1=require(a110_0x46d92b(0x157)),utils_1=require(a110_0x46d92b(0x14e));let GitCommitService=class GitCommitService{constructor(_0x5ab1a1,_0x290897,_0x3fcc2f,_0x37346b){const _0x3ac81a=a110_0x46d92b;this[_0x3ac81a(0x106)]=_0x5ab1a1,this[_0x3ac81a(0x126)]=_0x290897,this[_0x3ac81a(0x115)]=_0x3fcc2f,this['salesforce']=_0x37346b,this['TASKS_PER_TICK']=0xc8;}get[a110_0x46d92b(0x12c)](){const _0x47a9c3=a110_0x46d92b;var _0x59083d;return((_0x59083d=this[_0x47a9c3(0x116)])===null||_0x59083d===void 0x0?void 0x0:_0x59083d[_0x47a9c3(0x12c)])||'';}get[a110_0x46d92b(0x101)](){const _0x3d7811=a110_0x46d92b;var _0x15a73e;return((_0x15a73e=this['syncRecord'])===null||_0x15a73e===void 0x0?void 0x0:_0x15a73e[_0x3d7811(0x101)])||'';}async[a110_0x46d92b(0x13c)](_0x52cbb5){const _0x4fdb88=a110_0x46d92b;return this['salesforceGitSync'][_0x4fdb88(0x13c)](_0x52cbb5,this[_0x4fdb88(0x12c)]);}async['checkSyncStatus'](_0x327c07){const _0x25d3dd=a110_0x46d92b;if(this[_0x25d3dd(0x116)]){const _0x513fea=await this[_0x25d3dd(0x115)]['getRemoteStateAttachmentId'](this[_0x25d3dd(0x116)]),_0x34b96e=await this[_0x25d3dd(0x12e)][_0x25d3dd(0x122)](_0x513fea)[_0x25d3dd(0x123)](_0xdda149=>typeof _0xdda149===_0x25d3dd(0x103)?JSON[_0x25d3dd(0x10d)](_0xdda149):_0xdda149)['catch'](()=>({}));if(_0x34b96e[this[_0x25d3dd(0x12a)][_0x25d3dd(0x13d)]]){if(_0x34b96e[this[_0x25d3dd(0x12a)][_0x25d3dd(0x13d)]]['lastCommit']===_0x327c07)return!![];}return![];}return![];}async['updateRemoteState'](_0x1bce3c){const _0x5ba4da=a110_0x46d92b;this[_0x5ba4da(0x116)]&&await this[_0x5ba4da(0x115)]['updateRemoteState'](this['syncRecord'],_0x1bce3c);}[a110_0x46d92b(0x13e)](){const _0x50b8ed=a110_0x46d92b;return this[_0x50b8ed(0x12d)][_0x50b8ed(0x142)](({fileName:_0xb60efe})=>_0xb60efe);}async['proceedFile'](_0x5f46ed,_0x2cee13,_0xdc98aa){const _0x4be2da=a110_0x46d92b,_0x4847a1=new RegExp('^'+_0x5f46ed+_0x4be2da(0x143));let _0x17d686=[_0x5f46ed];_0xdc98aa&&(_0x17d686=(0x0,utils_1[_0x4be2da(0x14b)])(await(0x0,utils_1[_0x4be2da(0x14f)])(_0x5f46ed,_0x2cee13)[_0x4be2da(0x107)](()=>[])));const _0x182389=_0xdc98aa?this[_0x4be2da(0x12d)][_0x4be2da(0xfc)](_0x2ca316=>_0x2ca316[_0x4be2da(0x114)][_0x4be2da(0x11e)](_0x4847a1)):this[_0x4be2da(0x12d)][_0x4be2da(0xfc)](_0x5e36c6=>_0x5e36c6['fileName']===_0x5f46ed||_0x5e36c6[_0x4be2da(0x114)]===_0x5f46ed[_0x4be2da(0x146)](constants_1[_0x4be2da(0x132)],'')),_0x1f8f9b=new parser_v2_1['MDApiParserV2'](_0x2cee13,_0x17d686),_0x5647e6=await _0x1f8f9b['parse'](),_0x4709b7=[],_0x251543=[];for(const _0x23e3cd of _0x5647e6){const _0x3054f2=_0x182389[_0x4be2da(0x100)](_0x5ed70b=>_0x5ed70b[_0x4be2da(0x14c)]===_0x23e3cd[_0x4be2da(0x14c)]&&_0x5ed70b[_0x4be2da(0x12f)]===_0x23e3cd[_0x4be2da(0x12f)]);if(!_0x3054f2){_0x4709b7['push'](_0x23e3cd);continue;}_0x23e3cd[_0x4be2da(0x10c)]!==_0x3054f2[_0x4be2da(0x144)]&&_0x251543[_0x4be2da(0x117)]({'meta':_0x3054f2,'component':_0x23e3cd}),_0x182389[_0x4be2da(0x140)](_0x182389['indexOf'](_0x3054f2),0x1);}return{'inserted':_0x4709b7,'modified':_0x251543,'removed':_0x182389};}async[a110_0x46d92b(0x129)](){const _0x25514f=a110_0x46d92b;this[_0x25514f(0x116)]=this[_0x25514f(0x12a)][_0x25514f(0x11c)]===_0x25514f(0x105)?await this[_0x25514f(0x115)][_0x25514f(0x10f)](this[_0x25514f(0x12a)]['repository']):await this['salesforceSync']['getBranchRecordByName'](this[_0x25514f(0x12a)][_0x25514f(0x11c)]),this[_0x25514f(0x10a)]=await this[_0x25514f(0x106)][_0x25514f(0x153)]();}async[a110_0x46d92b(0x11d)](_0x24da80){const _0x4911db=a110_0x46d92b;if(this[_0x4911db(0x12a)][_0x4911db(0x147)]||_0x24da80){this[_0x4911db(0x12d)]=this['branchId']?await this[_0x4911db(0x106)][_0x4911db(0x110)](this[_0x4911db(0x101)]):await this['salesforceGitSync'][_0x4911db(0x139)](this[_0x4911db(0x12c)]);return;}const _0x2fa785=[...new Set(this[_0x4911db(0x12a)][_0x4911db(0x14d)]['map'](_0x593146=>_0x593146[_0x4911db(0x146)](constants_1[_0x4911db(0x132)],'')))];this[_0x4911db(0x12d)]=[];while(_0x2fa785[_0x4911db(0x102)]){const _0x4c2c0d=_0x2fa785['splice'](0x0,this['TASKS_PER_TICK']),_0x415eee=this[_0x4911db(0x101)]?await this[_0x4911db(0x106)][_0x4911db(0x133)](_0x4c2c0d,this[_0x4911db(0x101)]):await this['salesforceGitSync'][_0x4911db(0x111)](_0x4c2c0d,this[_0x4911db(0x12c)]);this[_0x4911db(0x12d)][_0x4911db(0x117)](..._0x415eee);}}async[a110_0x46d92b(0xfd)](_0x175cc5){const _0x32878d=a110_0x46d92b;this[_0x32878d(0x101)]?await this[_0x32878d(0x126)]['patch'](constants_1['FLOSUM_BRANCH'],this['branchId'],{[constants_1[_0x32878d(0x151)]+_0x32878d(0x112)]:_0x175cc5,[constants_1[_0x32878d(0x10b)]+_0x32878d(0x11b)]:Date[_0x32878d(0x13a)]()}):await this[_0x32878d(0x126)]['patch'](constants_1[_0x32878d(0x148)],this[_0x32878d(0x12c)],{[constants_1[_0x32878d(0x151)]+'Synchronization_Status__c']:_0x175cc5});}[a110_0x46d92b(0x11f)](_0x54b5e8){this['gitCommit']=_0x54b5e8;}[a110_0x46d92b(0x130)](){return this['recordTypes'];}['getRepositoryId'](){const _0x179766=a110_0x46d92b;return this[_0x179766(0x12c)];}[a110_0x46d92b(0x13f)](){return this['branchId'];}};GitCommitService=__decorate([(0x0,typedi_1[a110_0x46d92b(0x141)])({'transient':!![]}),__metadata(a110_0x46d92b(0x137),[salesforce_git_sync_service_1[a110_0x46d92b(0x12b)],salesforce_rest_service_1[a110_0x46d92b(0x14a)],salesforce_sync_service_1[a110_0x46d92b(0x156)],salesforce_service_1[a110_0x46d92b(0x135)]])],GitCommitService),exports[a110_0x46d92b(0x13b)]=GitCommitService;