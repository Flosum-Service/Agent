const a130_0x4bdb5=a130_0x43f7;(function(_0x2804d8,_0x5a9a09){const _0x251a9c=a130_0x43f7,_0x237d15=_0x2804d8();while(!![]){try{const _0x1cda06=parseInt(_0x251a9c(0xa5))/0x1+parseInt(_0x251a9c(0xa1))/0x2*(-parseInt(_0x251a9c(0x8c))/0x3)+-parseInt(_0x251a9c(0xad))/0x4*(parseInt(_0x251a9c(0x9b))/0x5)+parseInt(_0x251a9c(0x81))/0x6+parseInt(_0x251a9c(0x7b))/0x7*(parseInt(_0x251a9c(0x98))/0x8)+-parseInt(_0x251a9c(0xc2))/0x9*(-parseInt(_0x251a9c(0xb9))/0xa)+-parseInt(_0x251a9c(0x95))/0xb;if(_0x1cda06===_0x5a9a09)break;else _0x237d15['push'](_0x237d15['shift']());}catch(_0x40019e){_0x237d15['push'](_0x237d15['shift']());}}}(a130_0x1c55,0x3c016));const a130_0x21244b=(function(){let _0x516bc8=!![];return function(_0x39bcf8,_0x4a42f3){const _0x30e0cf=_0x516bc8?function(){const _0x5ee0c2=a130_0x43f7;if(_0x4a42f3){const _0x269fca=_0x4a42f3[_0x5ee0c2(0x97)](_0x39bcf8,arguments);return _0x4a42f3=null,_0x269fca;}}:function(){};return _0x516bc8=![],_0x30e0cf;};}()),a130_0x4845b2=a130_0x21244b(this,function(){const _0x3b0027=a130_0x43f7;return a130_0x4845b2[_0x3b0027(0xbc)]()[_0x3b0027(0x9c)](_0x3b0027(0x71))[_0x3b0027(0xbc)]()[_0x3b0027(0x88)](a130_0x4845b2)[_0x3b0027(0x9c)](_0x3b0027(0x71));});a130_0x4845b2();function a130_0x1c55(){const _0x291628=['constructor','master','GitCommitService','ComponentsUtils','836607XFiish','splice','Last_Updated_On__c','getRecordTypes','filterMetadataComponents','salesforceGitSync','branch','readComponentPaths','now','5731814CsobCu','../../salesforce/services/salesforce-sync.service','apply','544AlLKeV','prepareComponentNamesForFetchMetadata','../../salesforce/services/salesforce.service','8935YgIIbU','search','find','getOwnPropertyDescriptor','__decorate','FactoryParser','2kZqowS','design:paramtypes','PathUtils','FLOSUM_BRANCH','31684mhAHXz','fetchRepositoryOrBranchData','createCommit','../../../../constants','recordTypes','FLOSUM_GIT_NAMESPACE','crc','map','36EsVsqr','object','../utils/components.utils','branchId','function','decorate','../../salesforce/services/salesforce-rest.service','Service','fetchRepositoryComponents','catch','Synchronization_Status__c','fetchComponentsMetadata','20MIwhtu','salesforceSync','string','toString','syncRecord','indexOf','metadata','getBranchRecordByName','TASKS_PER_TICK','2056527crYPfJ','patch','repositoryId','../../salesforce/services/salesforce-git-sync.service','checkSyncStatus','getComponentRecordTypes','execute','name','SalesforceService','(((.+)+)+)+$','length','salesforce','force','__metadata','type','gitCommit','../utils/path.utils','getRepositoryRecordByName','defineProperty','46809ulWiqu','repositoryGit','create','salesforceRest','recordTypeName','SalesforceGitSyncService','710412XzYpiC','../../parsers/factory.parser','updateRemoteState','FLOSUM_NAMESPACE','push','getBranchId','componentsMetadata'];a130_0x1c55=function(){return _0x291628;};return a130_0x1c55();}'use strict';var __decorate=this&&this[a130_0x4bdb5(0x9f)]||function(_0x5b74b2,_0x1edd6f,_0x531d69,_0x17fcd4){const _0x19867d=a130_0x4bdb5;var _0x5f3b07=arguments[_0x19867d(0x72)],_0x45a901=_0x5f3b07<0x3?_0x1edd6f:_0x17fcd4===null?_0x17fcd4=Object[_0x19867d(0x9e)](_0x1edd6f,_0x531d69):_0x17fcd4,_0x312af6;if(typeof Reflect===_0x19867d(0xae)&&typeof Reflect[_0x19867d(0xb2)]===_0x19867d(0xb1))_0x45a901=Reflect[_0x19867d(0xb2)](_0x5b74b2,_0x1edd6f,_0x531d69,_0x17fcd4);else{for(var _0x5bd6e5=_0x5b74b2[_0x19867d(0x72)]-0x1;_0x5bd6e5>=0x0;_0x5bd6e5--)if(_0x312af6=_0x5b74b2[_0x5bd6e5])_0x45a901=(_0x5f3b07<0x3?_0x312af6(_0x45a901):_0x5f3b07>0x3?_0x312af6(_0x1edd6f,_0x531d69,_0x45a901):_0x312af6(_0x1edd6f,_0x531d69))||_0x45a901;}return _0x5f3b07>0x3&&_0x45a901&&Object[_0x19867d(0x7a)](_0x1edd6f,_0x531d69,_0x45a901),_0x45a901;},__metadata=this&&this[a130_0x4bdb5(0x75)]||function(_0x685c2d,_0x387f80){const _0x287567=a130_0x4bdb5;if(typeof Reflect===_0x287567(0xae)&&typeof Reflect[_0x287567(0xbf)]===_0x287567(0xb1))return Reflect[_0x287567(0xbf)](_0x685c2d,_0x387f80);};Object[a130_0x4bdb5(0x7a)](exports,'__esModule',{'value':!![]}),exports[a130_0x4bdb5(0x8a)]=void 0x0;const constants_1=require(a130_0x4bdb5(0xa8)),salesforce_git_sync_service_1=require(a130_0x4bdb5(0x6b)),salesforce_rest_service_1=require(a130_0x4bdb5(0xb3)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a130_0x4bdb5(0x96)),salesforce_service_1=require(a130_0x4bdb5(0x9a)),factory_parser_1=require(a130_0x4bdb5(0x82)),path_utils_1=require(a130_0x4bdb5(0x78)),components_utils_1=require(a130_0x4bdb5(0xaf));function a130_0x43f7(_0x2a5f3d,_0x48959d){const _0x5e14c2=a130_0x1c55();return a130_0x43f7=function(_0x4845b2,_0x21244b){_0x4845b2=_0x4845b2-0x69;let _0x1c55da=_0x5e14c2[_0x4845b2];return _0x1c55da;},a130_0x43f7(_0x2a5f3d,_0x48959d);}let GitCommitService=class GitCommitService{constructor(_0x2c5773,_0xbf512e,_0xc0b37b,_0x5453bb){const _0x5d3a8c=a130_0x4bdb5;this[_0x5d3a8c(0x91)]=_0x2c5773,this[_0x5d3a8c(0x7e)]=_0xbf512e,this['salesforceSync']=_0xc0b37b,this[_0x5d3a8c(0x73)]=_0x5453bb,this[_0x5d3a8c(0xc1)]=0xc8;}get[a130_0x4bdb5(0x6a)](){const _0x49063d=a130_0x4bdb5;var _0x5a7dc5;return((_0x5a7dc5=this['syncRecord'])===null||_0x5a7dc5===void 0x0?void 0x0:_0x5a7dc5[_0x49063d(0x6a)])||'';}get['branchId'](){const _0x1709a2=a130_0x4bdb5;var _0x5a8387;return((_0x5a8387=this[_0x1709a2(0xbd)])===null||_0x5a8387===void 0x0?void 0x0:_0x5a8387[_0x1709a2(0xb0)])||'';}get['recordType'](){const _0x465e3e=a130_0x4bdb5;return this[_0x465e3e(0xbd)][_0x465e3e(0x7f)];}async[a130_0x4bdb5(0xa7)](_0x539459){const _0xb62010=a130_0x4bdb5;return this[_0xb62010(0x91)]['createCommit'](_0x539459,this[_0xb62010(0x6a)]);}async[a130_0x4bdb5(0x6c)](_0x1c830e){const _0x5a7338=a130_0x4bdb5;if(this[_0x5a7338(0xbd)]){const _0x4e8abe=await this[_0x5a7338(0xba)]['getRemoteStateAttachmentId'](this[_0x5a7338(0xbd)]),_0x1de53e=await this[_0x5a7338(0x73)]['retrieveAttachment'](_0x4e8abe)['then'](_0x1a3cdc=>typeof _0x1a3cdc===_0x5a7338(0xbb)?JSON['parse'](_0x1a3cdc):_0x1a3cdc)[_0x5a7338(0xb6)](()=>({}));if(_0x1de53e[this['gitCommit'][_0x5a7338(0x7c)]]){if(_0x1de53e[this[_0x5a7338(0x77)][_0x5a7338(0x7c)]]['lastCommit']===_0x1c830e)return!![];}return![];}return![];}async[a130_0x4bdb5(0x83)](_0x274a7c){const _0x7d12c8=a130_0x4bdb5;this[_0x7d12c8(0xbd)]&&await this[_0x7d12c8(0xba)][_0x7d12c8(0x83)](this[_0x7d12c8(0xbd)],_0x274a7c);}['getUnusedComponentsFilePaths'](){const _0x5669d9=a130_0x4bdb5;return this[_0x5669d9(0x87)][_0x5669d9(0xac)](({fileName:_0x548f66})=>_0x548f66);}async['proceedFile'](_0x492712,_0x265234,_0x220cc7){const _0xeeb696=a130_0x4bdb5,_0x40d022=await path_utils_1[_0xeeb696(0xa3)][_0xeeb696(0x93)](this[_0xeeb696(0xbd)][_0xeeb696(0x7f)],_0x492712,_0x265234,_0x220cc7),_0x24c80a=components_utils_1[_0xeeb696(0x8b)][_0xeeb696(0x90)](this['componentsMetadata'],_0x492712,_0x220cc7,this[_0xeeb696(0xbd)][_0xeeb696(0x7f)]),_0x3d2f13=factory_parser_1[_0xeeb696(0xa0)][_0xeeb696(0x7d)]({'recordType':this[_0xeeb696(0xbd)][_0xeeb696(0x7f)],'sourceDir':_0x265234,'paths':_0x40d022}),_0x5d1a2b=await _0x3d2f13[_0xeeb696(0x6e)](),_0x1eb496=[],_0x357d02=[];for(const _0x124144 of _0x5d1a2b){const _0x41df47=_0x24c80a[_0xeeb696(0x9d)](_0x1ea0c4=>_0x1ea0c4[_0xeeb696(0x6f)]===_0x124144['name']&&_0x1ea0c4[_0xeeb696(0x76)]===_0x124144['type']);if(!_0x41df47){_0x1eb496[_0xeeb696(0x85)](_0x124144);continue;}_0x124144[_0xeeb696(0xab)]!==_0x41df47['crc32']&&_0x357d02[_0xeeb696(0x85)]({'meta':_0x41df47,'component':_0x124144}),_0x24c80a[_0xeeb696(0x8d)](_0x24c80a[_0xeeb696(0xbe)](_0x41df47),0x1);}return{'inserted':_0x1eb496,'modified':_0x357d02,'removed':_0x24c80a};}async[a130_0x4bdb5(0xa6)](){const _0x2192ec=a130_0x4bdb5;this[_0x2192ec(0xbd)]=this['gitCommit']['branch']===_0x2192ec(0x89)?await this['salesforceSync'][_0x2192ec(0x79)](this[_0x2192ec(0x77)]['repository']):await this['salesforceSync'][_0x2192ec(0xc0)](this[_0x2192ec(0x77)][_0x2192ec(0x92)]),this[_0x2192ec(0xa9)]=await this[_0x2192ec(0x91)][_0x2192ec(0x6d)]();}async[a130_0x4bdb5(0xb8)](_0x5357d9){const _0x240aea=a130_0x4bdb5;if(this[_0x240aea(0x77)][_0x240aea(0x74)]||_0x5357d9){this[_0x240aea(0x87)]=this[_0x240aea(0xb0)]?await this[_0x240aea(0x91)]['fetchBranchComponents'](this[_0x240aea(0xb0)]):await this[_0x240aea(0x91)][_0x240aea(0xb5)](this[_0x240aea(0x6a)]);return;}const _0x4f3996=components_utils_1[_0x240aea(0x8b)][_0x240aea(0x99)](this[_0x240aea(0x77)]['fileNames'],this['syncRecord']['recordTypeName']);this[_0x240aea(0x87)]=[];while(_0x4f3996[_0x240aea(0x72)]){const _0x37e883=_0x4f3996['splice'](0x0,this[_0x240aea(0xc1)]),_0x1c29d6=this[_0x240aea(0xb0)]?await this['salesforceGitSync']['fetchBranchComponentsByFilenames'](_0x37e883,this[_0x240aea(0xb0)]):await this[_0x240aea(0x91)]['fetchRepositoryComponentsByFilenames'](_0x37e883,this[_0x240aea(0x6a)]);this['componentsMetadata']['push'](..._0x1c29d6);}}async['updateStatus'](_0x2bf6ac){const _0x4548ec=a130_0x4bdb5;this[_0x4548ec(0xb0)]?await this[_0x4548ec(0x7e)][_0x4548ec(0x69)](constants_1[_0x4548ec(0xa4)],this[_0x4548ec(0xb0)],{[constants_1[_0x4548ec(0xaa)]+_0x4548ec(0xb7)]:_0x2bf6ac,[constants_1[_0x4548ec(0x84)]+_0x4548ec(0x8e)]:Date[_0x4548ec(0x94)]()}):await this[_0x4548ec(0x7e)][_0x4548ec(0x69)](constants_1['FLOSUM_REPOSITORY'],this['repositoryId'],{[constants_1[_0x4548ec(0xaa)]+_0x4548ec(0xb7)]:_0x2bf6ac});}['setCommitDto'](_0x3d525d){this['gitCommit']=_0x3d525d;}[a130_0x4bdb5(0x8f)](){const _0x5949c0=a130_0x4bdb5;return this[_0x5949c0(0xa9)];}['getRepositoryId'](){const _0x13ecf7=a130_0x4bdb5;return this[_0x13ecf7(0x6a)];}[a130_0x4bdb5(0x86)](){const _0x175cc0=a130_0x4bdb5;return this[_0x175cc0(0xb0)];}};GitCommitService=__decorate([(0x0,typedi_1[a130_0x4bdb5(0xb4)])({'transient':!![]}),__metadata(a130_0x4bdb5(0xa2),[salesforce_git_sync_service_1[a130_0x4bdb5(0x80)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a130_0x4bdb5(0x70)]])],GitCommitService),exports[a130_0x4bdb5(0x8a)]=GitCommitService;