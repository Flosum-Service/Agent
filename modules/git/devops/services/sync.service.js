function a111_0x4d7e(){const _0xb0224e=['connectionId','Syncing\x20','send','../../../../constants','1448wNjXKp','GitSyncJob','../jobs/git-sync.job',']\x20[','design:paramtypes','\x20branches.','[ERROR]\x20Could\x20not\x20find/create\x20repository.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Possible\x20error\x20reasons:\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x201.\x20Git\x20service\x20is\x20unavailable\x20for\x20the\x20moment.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x202.\x20Repository\x20with\x20this\x20name\x20already\x20created\x20in\x20git,\x20but\x20with\x20another\x20lettercase\x20(repository\x20names\x20are\x20case-sensitive\x20and\x20should\x20be\x20identical).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x203.\x20The\x20agent\x20could\x20not\x20recieve\x20all\x20repositories\x20from\x20git\x20service\x20due\x20permissions\x20that\x20you\x20provided.\x20(See\x20guide\x20how\x20to\x20setup\x20environment\x20variables\x20for\x20this\x20service).\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Original\x20error:\x20','\x20Sync\x20job\x20done.','object','45101HfXKLh','toString','2777970YxPESF','setLoggerId','SyncService','12rZLktO','getBranchRecords','catch','FlosumToGit','../../salesforce/dto/flosum-repository-sync.dto','\x22\x20does\x20not\x20exists.\x20Creating\x20it\x20on\x20git\x20service.','3084260POJmCC','\x20Syncing\x20repository:\x20\x22','gitUrl','Error','../../salesforce/services/salesforce-sync.service','name','\x20Completed\x20prepare\x20to\x20syncing.','Not\x20Synchronized','gitRepoService','config','function','getOrCreateRepo','\x27\x20[','log','decorate','../../salesforce/services/salesforce.service','108cqNPQk','createHookPayload','HooksUtils','\x22\x20branch:\x20\x22','toLowerCase','typedi','test','SalesforceService','salesforceSync','5486724zhGgxn','736338sFhSLc','search','sleep','FlosumSyncJob','\x27\x20in\x20repository\x20\x27','repoList','\x20Checking\x20valid\x20name.','setStatus','Container','isIntersects','repositoryId','branchId','length','repositoriesIntersections','getLoggerId','540411tcpikS','handleRecordSyncError','(((.+)+)+)+$','__decorate','prefix','\x27\x20due\x20it\x20intersects\x20with\x20another\x20repository\x20by\x20repository\x20key\x20\x27','run','\x20Start\x20sync\x20job.','branchName','gitApiService','__metadata','error','../../../shared/utils','isConvertToSfdx','checkValidNaming','../jobs/flosum-sync.job','\x27\x20due\x20branch\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.','../../providers/providers.tokens','\x27\x20due\x20repository\x20name\x20does\x20not\x20meet\x20the\x20naming\x20requirements.','logger','applicationUrl','repositoryName','\x27\x20-\x20\x27','find',']\x20branch.','isBidirectionalSynchronization','SalesforceSyncService','../../../../core/errors/too-many-requests.error','Waiting','\x20[PAUSE]\x20Pause\x20sync\x20job\x20due\x20error\x20-\x20Rate\x20limit\x20quota\x20for\x20git\x20service\x20exceeded.\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20Paused\x20for\x201h\x20to\x20refill\x20limit\x20quota\x20continue.\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20This\x20kind\x20of\x20error\x20is\x20not\x20critical\x20just\x20need\x20to\x20wait\x20until\x20we\x20can\x20continue\x20work\x20with\x20git\x20service.','Tokens','../../../../core/errors/bad-request.error','metadata','getAll','Logger','join','\x22\x20does\x27t\x20has\x20the\x20agent\x20webhook.\x20Agent\x20will\x20create\x20new\x20repository\x20webhook\x20to\x20enable\x20back\x20sync.','__esModule','defineProperty','SalesforceError','salesforceService','gitProvider','\x20Getting\x20Flosum\x20repository','\x20Repository\x20\x22','create','\x20Checking\x20intersects.','Unable\x20to\x20synchronize\x20branch\x20\x27','Unable\x20to\x20synchronize\x20repository\x20\x27','TooManyRequests','push','updateRemoteState','552160Ytsliy','sfLogger','get','../errors/git-branch-not-found.error','hooks','disableSync','toUpperCase','\x20Getting\x20repositories\x20from\x20git\x20service.','repoService'];a111_0x4d7e=function(){return _0xb0224e;};return a111_0x4d7e();}const a111_0x15a338=a111_0x2489;(function(_0x2202b0,_0x3922f2){const _0x426efc=a111_0x2489,_0x593101=_0x2202b0();while(!![]){try{const _0xf0d6a6=parseInt(_0x426efc(0x20f))/0x1+parseInt(_0x426efc(0x25d))/0x2*(-parseInt(_0x426efc(0x200))/0x3)+-parseInt(_0x426efc(0x1ff))/0x4+parseInt(_0x426efc(0x242))/0x5+parseInt(_0x426efc(0x25a))/0x6+parseInt(_0x426efc(0x258))/0x7*(-parseInt(_0x426efc(0x24f))/0x8)+parseInt(_0x426efc(0x1f6))/0x9*(parseInt(_0x426efc(0x263))/0xa);if(_0xf0d6a6===_0x3922f2)break;else _0x593101['push'](_0x593101['shift']());}catch(_0x3c7234){_0x593101['push'](_0x593101['shift']());}}}(a111_0x4d7e,0xc463a));const a111_0x570773=(function(){let _0x40bcb1=!![];return function(_0x4f8b37,_0x36537d){const _0x302675=_0x40bcb1?function(){if(_0x36537d){const _0x4a2fb7=_0x36537d['apply'](_0x4f8b37,arguments);return _0x36537d=null,_0x4a2fb7;}}:function(){};return _0x40bcb1=![],_0x302675;};}()),a111_0x46b5db=a111_0x570773(this,function(){const _0x3a2bad=a111_0x2489;return a111_0x46b5db[_0x3a2bad(0x259)]()[_0x3a2bad(0x201)](_0x3a2bad(0x211))[_0x3a2bad(0x259)]()['constructor'](a111_0x46b5db)[_0x3a2bad(0x201)](_0x3a2bad(0x211));});a111_0x46b5db();'use strict';var __decorate=this&&this[a111_0x15a338(0x212)]||function(_0x4e0565,_0x457702,_0x28b1be,_0xd9baf){const _0x4d341a=a111_0x15a338;var _0xfd13a7=arguments[_0x4d341a(0x20c)],_0x21137b=_0xfd13a7<0x3?_0x457702:_0xd9baf===null?_0xd9baf=Object['getOwnPropertyDescriptor'](_0x457702,_0x28b1be):_0xd9baf,_0x21c023;if(typeof Reflect===_0x4d341a(0x257)&&typeof Reflect['decorate']===_0x4d341a(0x26d))_0x21137b=Reflect[_0x4d341a(0x1f4)](_0x4e0565,_0x457702,_0x28b1be,_0xd9baf);else{for(var _0x10cf81=_0x4e0565[_0x4d341a(0x20c)]-0x1;_0x10cf81>=0x0;_0x10cf81--)if(_0x21c023=_0x4e0565[_0x10cf81])_0x21137b=(_0xfd13a7<0x3?_0x21c023(_0x21137b):_0xfd13a7>0x3?_0x21c023(_0x457702,_0x28b1be,_0x21137b):_0x21c023(_0x457702,_0x28b1be))||_0x21137b;}return _0xfd13a7>0x3&&_0x21137b&&Object[_0x4d341a(0x235)](_0x457702,_0x28b1be,_0x21137b),_0x21137b;},__metadata=this&&this[a111_0x15a338(0x219)]||function(_0x24a7e3,_0x4972db){const _0x2b7f7c=a111_0x15a338;if(typeof Reflect===_0x2b7f7c(0x257)&&typeof Reflect[_0x2b7f7c(0x22f)]===_0x2b7f7c(0x26d))return Reflect[_0x2b7f7c(0x22f)](_0x24a7e3,_0x4972db);},SyncService_1;Object[a111_0x15a338(0x235)](exports,a111_0x15a338(0x234),{'value':!![]}),exports[a111_0x15a338(0x25c)]=void 0x0;function a111_0x2489(_0x9785fc,_0x580491){const _0x205d59=a111_0x4d7e();return a111_0x2489=function(_0x46b5db,_0x570773){_0x46b5db=_0x46b5db-0x1f3;let _0x4d7e1c=_0x205d59[_0x46b5db];return _0x4d7e1c;},a111_0x2489(_0x9785fc,_0x580491);}const constants_1=require(a111_0x15a338(0x24e)),core_1=require('../../../../core'),too_many_requests_error_1=require(a111_0x15a338(0x22a)),flosum_repository_sync_dto_1=require(a111_0x15a338(0x261)),salesforce_error_1=require('../../salesforce/errors/salesforce.error'),salesforce_sync_service_1=require(a111_0x15a338(0x267)),salesforce_service_1=require(a111_0x15a338(0x1f5)),utils_1=require(a111_0x15a338(0x21b)),typedi_1=require(a111_0x15a338(0x1fb)),hooks_utils_1=require('../../providers/web-hooks/hooks.utils'),git_branch_not_found_error_1=require(a111_0x15a338(0x245)),flosum_sync_job_1=require(a111_0x15a338(0x21e)),git_sync_job_1=require(a111_0x15a338(0x251)),providers_tokens_1=require(a111_0x15a338(0x220)),bad_request_error_1=require(a111_0x15a338(0x22e));let SyncService=SyncService_1=class SyncService{constructor(_0x473b7d,_0x5f64d6){const _0x5be0a3=a111_0x15a338;this['salesforceService']=_0x473b7d,this['salesforceSync']=_0x5f64d6,this[_0x5be0a3(0x222)]=new core_1[(_0x5be0a3(0x231))](SyncService_1[_0x5be0a3(0x268)]),this[_0x5be0a3(0x20d)]={},this[_0x5be0a3(0x205)]=[];}async[a111_0x15a338(0x210)](_0x5ee805,_0x3d3965){const _0x3b0926=a111_0x15a338;if(_0x3d3965 instanceof git_branch_not_found_error_1['GitBranchNotFoundError']){await this[_0x3b0926(0x1fe)][_0x3b0926(0x207)](_0x5ee805,_0x3b0926(0x26a));return;}if(_0x3d3965 instanceof too_many_requests_error_1[_0x3b0926(0x23f)]){await this[_0x3b0926(0x1fe)][_0x3b0926(0x207)](_0x5ee805,_0x3b0926(0x22b));throw _0x3d3965;}try{await this['sfLogger']['error'](this['prefix']+'\x20Stop\x20sync\x20job\x20for\x20\x27'+_0x5ee805[_0x3b0926(0x224)]+_0x3b0926(0x26f)+_0x5ee805[_0x3b0926(0x217)]+']\x20due\x20error\x20-\x20'+_0x3d3965+'.')[_0x3b0926(0x24d)](),await this[_0x3b0926(0x1fe)][_0x3b0926(0x241)](_0x5ee805,{}),await this['salesforceSync'][_0x3b0926(0x207)](_0x5ee805,_0x3b0926(0x266));}catch(_0x37ed01){if(_0x37ed01 instanceof salesforce_error_1[_0x3b0926(0x236)])throw _0x37ed01;}}async[a111_0x15a338(0x209)](_0x423b00){const _0xd1b4e9=a111_0x15a338;if(_0x423b00[_0xd1b4e9(0x20a)]){const _0x4e0b13=_0x423b00[_0xd1b4e9(0x224)][_0xd1b4e9(0x1fa)](),_0x535f02=this[_0xd1b4e9(0x20d)][_0x4e0b13];if(!_0x535f02)this['repositoriesIntersections'][_0x4e0b13]=_0x423b00['repositoryName'];else{if(_0x535f02&&_0x535f02!==_0x423b00['repositoryName'])return await this['handleRecordSyncError'](_0x423b00,new Error(_0xd1b4e9(0x23e)+_0x423b00[_0xd1b4e9(0x224)]+_0xd1b4e9(0x214)+_0x4e0b13+_0xd1b4e9(0x225)+_0x535f02+'\x27')),!![];}}return![];}async[a111_0x15a338(0x21d)](_0x37f1a6){const _0x400540=a111_0x15a338;if(!constants_1['REPOSITORY_NAME_REGEXP'][_0x400540(0x1fc)](_0x37f1a6[_0x400540(0x224)]))return await this[_0x400540(0x210)](_0x37f1a6,new Error(_0x400540(0x23e)+_0x37f1a6[_0x400540(0x224)]+_0x400540(0x221))),![];if(!constants_1['BRANCH_NAME_REGEXP'][_0x400540(0x1fc)](_0x37f1a6[_0x400540(0x217)]))return await this['handleRecordSyncError'](_0x37f1a6,new Error(_0x400540(0x23d)+_0x37f1a6[_0x400540(0x217)]+_0x400540(0x204)+_0x37f1a6['repositoryName']+_0x400540(0x21f))),![];return!![];}async[a111_0x15a338(0x26e)](_0x3ade9e,_0x411627){const _0x2271bc=a111_0x15a338;let _0x36c847=this[_0x2271bc(0x205)]['find'](_0x4e41e9=>_0x3ade9e['repositoryName']===_0x4e41e9[_0x2271bc(0x268)]);!_0x36c847&&(this[_0x2271bc(0x243)]['log'](this['prefix']+_0x2271bc(0x23a)+_0x3ade9e[_0x2271bc(0x224)]+_0x2271bc(0x262)),_0x36c847=await this[_0x2271bc(0x24a)][_0x2271bc(0x23b)]({'name':_0x3ade9e[_0x2271bc(0x224)],'autoInit':!![],'defaultBranch':_0x3ade9e[_0x2271bc(0x217)],'private':!![],'createHook':typedi_1[_0x2271bc(0x208)]['get'](providers_tokens_1[_0x2271bc(0x22d)]['config'])[_0x2271bc(0x228)]}));if(this['config'][_0x2271bc(0x228)]){const _0x31c080=await _0x36c847[_0x2271bc(0x246)][_0x2271bc(0x230)]();!_0x31c080[_0x2271bc(0x226)](_0x489e09=>_0x489e09['url']===hooks_utils_1['HooksUtils']['getHookLinkFor'](this[_0x2271bc(0x26c)][_0x2271bc(0x238)],this[_0x2271bc(0x26c)][_0x2271bc(0x223)],_0x411627))&&(this['sfLogger'][_0x2271bc(0x1f3)](this['prefix']+_0x2271bc(0x23a)+_0x3ade9e[_0x2271bc(0x224)]+_0x2271bc(0x233)),await _0x36c847['hooks'][_0x2271bc(0x23b)](hooks_utils_1[_0x2271bc(0x1f8)][_0x2271bc(0x1f7)](this[_0x2271bc(0x26c)][_0x2271bc(0x238)],_0x36c847[_0x2271bc(0x246)],this[_0x2271bc(0x26c)]['applicationUrl'],_0x411627)));}return this['repoList'][_0x2271bc(0x240)](_0x36c847),_0x36c847;}async[a111_0x15a338(0x215)](){const _0x3414fc=a111_0x15a338;this[_0x3414fc(0x218)]=typedi_1[_0x3414fc(0x208)]['get'](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x218)]),this[_0x3414fc(0x24a)]=typedi_1[_0x3414fc(0x208)][_0x3414fc(0x244)](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x26b)]),this['config']=typedi_1['Container'][_0x3414fc(0x244)](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x26c)]),this['sfLogger']=typedi_1['Container']['get'](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x222)]),this['prefix']='['+SyncService_1[_0x3414fc(0x268)]+_0x3414fc(0x252)+this['config'][_0x3414fc(0x238)][_0x3414fc(0x248)]()+']',this[_0x3414fc(0x237)][_0x3414fc(0x25b)](this[_0x3414fc(0x243)][_0x3414fc(0x20e)]());try{this['sfLogger'][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x216)),await this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+'\x20Getting\x20repository\x20records.')[_0x3414fc(0x24d)]();const _0x928556=await this['salesforceSync']['getRepositoryRecords'](typedi_1['Container']['get'](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x24b)]));if(!_0x928556['length'])throw new bad_request_error_1['BadRequestError'](this['prefix']+'\x20No\x20repositories\x20to\x20sync.');await this['sfLogger'][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+'\x20Getting\x20branch\x20records.')[_0x3414fc(0x24d)]();const _0x175204=await this['salesforceSync'][_0x3414fc(0x25e)](_0x928556['map'](_0x172ff8=>'\x27'+_0x172ff8[_0x3414fc(0x20a)]+'\x27')[_0x3414fc(0x232)](','));await this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x249))[_0x3414fc(0x24d)](),this['repoList']=await this['repoService'][_0x3414fc(0x230)]();const _0xcaf8c3=[..._0x928556,..._0x175204];this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+'\x20Have\x20to\x20synchronize\x20'+_0xcaf8c3[_0x3414fc(0x20c)]+_0x3414fc(0x254));for(const _0x336b1d of _0xcaf8c3){this[_0x3414fc(0x222)][_0x3414fc(0x1f3)](_0x3414fc(0x24c)+_0x336b1d[_0x3414fc(0x224)]+'['+_0x336b1d[_0x3414fc(0x20a)]+']\x20repository\x20'+_0x336b1d[_0x3414fc(0x217)]+'['+_0x336b1d[_0x3414fc(0x20b)]+_0x3414fc(0x227)),this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x264)+_0x336b1d['repositoryName']+_0x3414fc(0x1f9)+_0x336b1d[_0x3414fc(0x217)]+'\x22.'),this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this['prefix']+_0x3414fc(0x206));const _0x249d93=await this[_0x3414fc(0x21d)](_0x336b1d);if(!_0x249d93)continue;this['sfLogger'][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x23c));const _0x44d69c=await this['isIntersects'](_0x336b1d);if(_0x44d69c)continue;await this[_0x3414fc(0x243)][_0x3414fc(0x24d)]();let _0x1a5cdb;try{await this['sfLogger'][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x239))[_0x3414fc(0x24d)](),_0x1a5cdb=await this['getOrCreateRepo'](_0x336b1d,typedi_1[_0x3414fc(0x208)]['get'](providers_tokens_1[_0x3414fc(0x22d)][_0x3414fc(0x24b)]));}catch(_0xe20052){await this['handleRecordSyncError'](_0x336b1d,_0xe20052 instanceof too_many_requests_error_1[_0x3414fc(0x23f)]?_0xe20052:new Error(_0x3414fc(0x255)+_0xe20052));continue;}await this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x269))[_0x3414fc(0x24d)]();if(_0x336b1d['direction']===flosum_repository_sync_dto_1['SyncDirection'][_0x3414fc(0x260)]){const _0x420ed8=typedi_1[_0x3414fc(0x208)][_0x3414fc(0x244)](flosum_sync_job_1[_0x3414fc(0x203)]);await _0x420ed8[_0x3414fc(0x215)]({'repository':_0x1a5cdb,'convertToSFDX':this[_0x3414fc(0x26c)][_0x3414fc(0x21c)],'syncRecord':_0x336b1d,'provider':this[_0x3414fc(0x26c)][_0x3414fc(0x238)]})['catch'](_0x14cf22=>this[_0x3414fc(0x210)](_0x336b1d,_0x14cf22));}else{const _0x27a3e7=typedi_1[_0x3414fc(0x208)][_0x3414fc(0x244)](git_sync_job_1[_0x3414fc(0x250)]);await _0x27a3e7[_0x3414fc(0x215)]({'repository':_0x1a5cdb,'branch':_0x336b1d[_0x3414fc(0x217)],'provider':this[_0x3414fc(0x26c)][_0x3414fc(0x238)],'repositoryGit':_0x1a5cdb[_0x3414fc(0x265)],'syncRecord':_0x336b1d})[_0x3414fc(0x25f)](_0x5c2201=>this[_0x3414fc(0x210)](_0x336b1d,_0x5c2201));}}}catch(_0x564cd2){this[_0x3414fc(0x222)][_0x3414fc(0x21a)](_0x564cd2);_0x564cd2 instanceof too_many_requests_error_1[_0x3414fc(0x23f)]?(await this['sfLogger'][_0x3414fc(0x1f3)](this['prefix']+_0x3414fc(0x22c))[_0x3414fc(0x24d)](),await(0x0,utils_1[_0x3414fc(0x202)])(0x3c*0x3c*0x3e8),this[_0x3414fc(0x215)]()):await this[_0x3414fc(0x243)][_0x3414fc(0x21a)](this['prefix']+'\x20Stop\x20sync\x20job\x20due\x20error\x20-\x20'+_0x564cd2)[_0x3414fc(0x24d)]();return;}await this[_0x3414fc(0x243)][_0x3414fc(0x1f3)](this[_0x3414fc(0x213)]+_0x3414fc(0x256))[_0x3414fc(0x24d)](),await this[_0x3414fc(0x1fe)][_0x3414fc(0x247)](typedi_1[_0x3414fc(0x208)][_0x3414fc(0x244)](providers_tokens_1['Tokens'][_0x3414fc(0x24b)]))[_0x3414fc(0x25f)](()=>null);}};SyncService=SyncService_1=__decorate([(0x0,typedi_1['Service'])({'transient':!![]}),__metadata(a111_0x15a338(0x253),[salesforce_service_1[a111_0x15a338(0x1fd)],salesforce_sync_service_1[a111_0x15a338(0x229)]])],SyncService),exports[a111_0x15a338(0x25c)]=SyncService;