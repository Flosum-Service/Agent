function a163_0x3d13(_0x41d9c3,_0x5e8ca6){const _0x36f5e4=a163_0x2318();return a163_0x3d13=function(_0x55e688,_0x58e1e8){_0x55e688=_0x55e688-0x14c;let _0x231865=_0x36f5e4[_0x55e688];return _0x231865;},a163_0x3d13(_0x41d9c3,_0x5e8ca6);}function a163_0x2318(){const _0x5a8ffb=['6397443MYNbvU','11346kNllxW','password','Inject','BitbucketCredentialsDto','12950yjSpqv','./git-api.service','decorate','964012jpGAaC','36TPmthi','object','defineProperty','createRequest','Service','7513ftFzuy','(((.+)+)+)+$','514623hcbpjs','interceptors','../credentials/dto/bitbucket-credentials.dto','getOwnPropertyDescriptor','BitbucketApiService','122125mIfzAp','search','__param','MAX_REQUEST_PER_HOUR','headers','isLoggedIn','__decorate','request','checkAccessToken','provider','refreshToken','now','axios','toString','Tokens','setAccessToken','__importDefault','default','/site/oauth2/access_token','68sTBxFX','__metadata','grant_type=client_credentials','84IGGwEb','GitApiService','use','__esModule','function','length','9UgXZSS','credentials','../types/git-provider','7706432MvfiGD','username','getAuthorizationHeader','getCurrentUser','accessTokenExpiresAt','post','typedi','16bvLoom'];a163_0x2318=function(){return _0x5a8ffb;};return a163_0x2318();}const a163_0x565465=a163_0x3d13;(function(_0x399a6d,_0x767e85){const _0x2f4a50=a163_0x3d13,_0x17c399=_0x399a6d();while(!![]){try{const _0x4fee68=parseInt(_0x2f4a50(0x16a))/0x1*(-parseInt(_0x2f4a50(0x155))/0x2)+-parseInt(_0x2f4a50(0x179))/0x3*(parseInt(_0x2f4a50(0x168))/0x4)+-parseInt(_0x2f4a50(0x17e))/0x5*(-parseInt(_0x2f4a50(0x158))/0x6)+-parseInt(_0x2f4a50(0x171))/0x7+-parseInt(_0x2f4a50(0x161))/0x8*(parseInt(_0x2f4a50(0x15e))/0x9)+-parseInt(_0x2f4a50(0x16e))/0xa*(-parseInt(_0x2f4a50(0x177))/0xb)+-parseInt(_0x2f4a50(0x172))/0xc*(-parseInt(_0x2f4a50(0x169))/0xd);if(_0x4fee68===_0x767e85)break;else _0x17c399['push'](_0x17c399['shift']());}catch(_0x5c425b){_0x17c399['push'](_0x17c399['shift']());}}}(a163_0x2318,0x8159c));const a163_0x58e1e8=(function(){let _0x5f2766=!![];return function(_0x588c6,_0x5248bc){const _0x8a2ad9=_0x5f2766?function(){if(_0x5248bc){const _0x5a060e=_0x5248bc['apply'](_0x588c6,arguments);return _0x5248bc=null,_0x5a060e;}}:function(){};return _0x5f2766=![],_0x8a2ad9;};}()),a163_0x55e688=a163_0x58e1e8(this,function(){const _0x178fd9=a163_0x3d13;return a163_0x55e688['toString']()[_0x178fd9(0x17f)]('(((.+)+)+)+$')[_0x178fd9(0x14f)]()['constructor'](a163_0x55e688)[_0x178fd9(0x17f)](_0x178fd9(0x178));});a163_0x55e688();'use strict';var __decorate=this&&this[a163_0x565465(0x184)]||function(_0x3096ee,_0xeba6bc,_0x147f9c,_0x4d6074){const _0xd8cfca=a163_0x565465;var _0x483446=arguments[_0xd8cfca(0x15d)],_0x58fa7e=_0x483446<0x3?_0xeba6bc:_0x4d6074===null?_0x4d6074=Object[_0xd8cfca(0x17c)](_0xeba6bc,_0x147f9c):_0x4d6074,_0x39d34c;if(typeof Reflect===_0xd8cfca(0x173)&&typeof Reflect['decorate']===_0xd8cfca(0x15c))_0x58fa7e=Reflect[_0xd8cfca(0x170)](_0x3096ee,_0xeba6bc,_0x147f9c,_0x4d6074);else{for(var _0x4392eb=_0x3096ee['length']-0x1;_0x4392eb>=0x0;_0x4392eb--)if(_0x39d34c=_0x3096ee[_0x4392eb])_0x58fa7e=(_0x483446<0x3?_0x39d34c(_0x58fa7e):_0x483446>0x3?_0x39d34c(_0xeba6bc,_0x147f9c,_0x58fa7e):_0x39d34c(_0xeba6bc,_0x147f9c))||_0x58fa7e;}return _0x483446>0x3&&_0x58fa7e&&Object[_0xd8cfca(0x174)](_0xeba6bc,_0x147f9c,_0x58fa7e),_0x58fa7e;},__metadata=this&&this[a163_0x565465(0x156)]||function(_0x55e911,_0x3fd8dc){const _0x15bb19=a163_0x565465;if(typeof Reflect===_0x15bb19(0x173)&&typeof Reflect['metadata']===_0x15bb19(0x15c))return Reflect['metadata'](_0x55e911,_0x3fd8dc);},__param=this&&this[a163_0x565465(0x180)]||function(_0x557195,_0x1cc1b7){return function(_0x59b252,_0x5296e1){_0x1cc1b7(_0x59b252,_0x5296e1,_0x557195);};},__importDefault=this&&this[a163_0x565465(0x152)]||function(_0x3ad707){const _0x210503=a163_0x565465;return _0x3ad707&&_0x3ad707[_0x210503(0x15b)]?_0x3ad707:{'default':_0x3ad707};};Object[a163_0x565465(0x174)](exports,a163_0x565465(0x15b),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require(a163_0x565465(0x14e))),typedi_1=require(a163_0x565465(0x167)),git_api_service_1=require(a163_0x565465(0x16f)),bitbucket_credentials_dto_1=require(a163_0x565465(0x17b)),providers_tokens_1=require('../providers.tokens'),git_provider_1=require(a163_0x565465(0x160)),url_1=require('url');let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a163_0x565465(0x159)]{constructor(_0x540cfa,_0x491340){const _0x255143=a163_0x565465;super(_0x540cfa,_0x491340),this[_0x255143(0x165)]=-0x1,this[_0x255143(0x181)]=0x3e8;}['createRequest'](_0x1aa700){const _0x570677=a163_0x565465,_0x419878=super[_0x570677(0x175)](_0x1aa700);return _0x419878[_0x570677(0x17a)][_0x570677(0x185)][_0x570677(0x15a)](async _0x418200=>{const _0x4acaea=_0x570677;return await this[_0x4acaea(0x186)](),_0x418200[_0x4acaea(0x182)]['Authorization']=this[_0x4acaea(0x15f)][_0x4acaea(0x163)](),_0x418200;}),_0x419878;}async[a163_0x565465(0x186)](){const _0xcb2461=a163_0x565465;if(Date[_0xcb2461(0x14d)]()<this[_0xcb2461(0x165)])return;await this[_0xcb2461(0x14c)]();}async[a163_0x565465(0x14c)](){const _0x270fc5=a163_0x565465,{clientId:_0x5b0c20,clientSecret:_0x41b61f}=this[_0x270fc5(0x15f)],_0x48cde7=new url_1['URL']('https://bitbucket.org');_0x48cde7[_0x270fc5(0x162)]=_0x5b0c20,_0x48cde7[_0x270fc5(0x16b)]=_0x41b61f,_0x48cde7['pathname']=_0x270fc5(0x154);const {data:_0xad8500}=await axios_1[_0x270fc5(0x153)][_0x270fc5(0x166)](_0x48cde7[_0x270fc5(0x14f)](),_0x270fc5(0x157)),{expires_in:_0x31bbe6,access_token:_0x2bd4b9}=_0xad8500;this['accessTokenExpiresAt']=Date[_0x270fc5(0x14d)]()+_0x31bbe6*0x3e8,this[_0x270fc5(0x15f)][_0x270fc5(0x151)](_0x2bd4b9);}['getHeaders'](){return{};}[a163_0x565465(0x164)](){const _0x327827=a163_0x565465;return this[_0x327827(0x185)]['get']('user');}async[a163_0x565465(0x183)](){const _0x43c72f=a163_0x565465;return await this[_0x43c72f(0x164)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a163_0x565465(0x176)])(),__param(0x0,(0x0,typedi_1[a163_0x565465(0x16c)])(providers_tokens_1[a163_0x565465(0x150)][a163_0x565465(0x187)])),__param(0x1,(0x0,typedi_1[a163_0x565465(0x16c)])(providers_tokens_1['Tokens'][a163_0x565465(0x15f)])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1[a163_0x565465(0x16d)]])],BitbucketApiService),exports[a163_0x565465(0x17d)]=BitbucketApiService;