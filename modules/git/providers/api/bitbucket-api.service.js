const a124_0x1c9695=a124_0x20ad;(function(_0x7e8a19,_0x51b197){const _0x7f7397=a124_0x20ad,_0x378998=_0x7e8a19();while(!![]){try{const _0x52bf19=-parseInt(_0x7f7397(0x1cd))/0x1*(parseInt(_0x7f7397(0x1ce))/0x2)+-parseInt(_0x7f7397(0x1d6))/0x3+parseInt(_0x7f7397(0x1c4))/0x4+parseInt(_0x7f7397(0x1e6))/0x5*(-parseInt(_0x7f7397(0x1bc))/0x6)+-parseInt(_0x7f7397(0x1c9))/0x7*(parseInt(_0x7f7397(0x1cc))/0x8)+-parseInt(_0x7f7397(0x1b7))/0x9+parseInt(_0x7f7397(0x1d4))/0xa*(parseInt(_0x7f7397(0x1e7))/0xb);if(_0x52bf19===_0x51b197)break;else _0x378998['push'](_0x378998['shift']());}catch(_0x303262){_0x378998['push'](_0x378998['shift']());}}}(a124_0x4215,0x28aef));const a124_0x315d20=(function(){let _0x1f1777=!![];return function(_0x44342d,_0x599984){const _0x54c039=_0x1f1777?function(){const _0x57fa9c=a124_0x20ad;if(_0x599984){const _0x396a05=_0x599984[_0x57fa9c(0x1c3)](_0x44342d,arguments);return _0x599984=null,_0x396a05;}}:function(){};return _0x1f1777=![],_0x54c039;};}()),a124_0x2f743d=a124_0x315d20(this,function(){const _0x3b22cd=a124_0x20ad;return a124_0x2f743d['toString']()[_0x3b22cd(0x1c1)](_0x3b22cd(0x1dc))[_0x3b22cd(0x1d0)]()['constructor'](a124_0x2f743d)[_0x3b22cd(0x1c1)](_0x3b22cd(0x1dc));});function a124_0x20ad(_0x5f3e26,_0x60314){const _0x511bde=a124_0x4215();return a124_0x20ad=function(_0x2f743d,_0x315d20){_0x2f743d=_0x2f743d-0x1b4;let _0x4215ed=_0x511bde[_0x2f743d];return _0x4215ed;},a124_0x20ad(_0x5f3e26,_0x60314);}a124_0x2f743d();'use strict';function a124_0x4215(){const _0x2e83c4=['8678470rhFmIX','isLoggedIn','858039vheGjb','axios','credentials','url','__decorate','getOwnPropertyDescriptor','(((.+)+)+)+$','https://bitbucket.org','length','Inject','setAccessToken','decorate','./git-api.service','__esModule','password','grant_type=client_credentials','3140MxePTz','11LyLHNJ','defineProperty','createRequest','refreshToken','accessTokenExpiresAt','Service','post','provider','URL','typedi','__importDefault','user','145980VNqeoy','BitbucketApiService','Tokens','now','interceptors','1812HRVdfN','__param','headers','__metadata','getCurrentUser','search','use','apply','1267832OWxjUd','metadata','MAX_REQUEST_PER_HOUR','checkAccessToken','object','1426439emgCjz','getHeaders','/site/oauth2/access_token','8XrJSbL','20ecdtHZ','32250KxXXRD','BitbucketCredentialsDto','toString','../types/git-provider','request','function'];a124_0x4215=function(){return _0x2e83c4;};return a124_0x4215();}var __decorate=this&&this[a124_0x1c9695(0x1da)]||function(_0x1609d0,_0x38511a,_0x275bf7,_0x56b9a5){const _0x16ee1b=a124_0x1c9695;var _0x493e5f=arguments[_0x16ee1b(0x1de)],_0x429a7e=_0x493e5f<0x3?_0x38511a:_0x56b9a5===null?_0x56b9a5=Object[_0x16ee1b(0x1db)](_0x38511a,_0x275bf7):_0x56b9a5,_0x16e21f;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x429a7e=Reflect[_0x16ee1b(0x1e1)](_0x1609d0,_0x38511a,_0x275bf7,_0x56b9a5);else{for(var _0x236e59=_0x1609d0[_0x16ee1b(0x1de)]-0x1;_0x236e59>=0x0;_0x236e59--)if(_0x16e21f=_0x1609d0[_0x236e59])_0x429a7e=(_0x493e5f<0x3?_0x16e21f(_0x429a7e):_0x493e5f>0x3?_0x16e21f(_0x38511a,_0x275bf7,_0x429a7e):_0x16e21f(_0x38511a,_0x275bf7))||_0x429a7e;}return _0x493e5f>0x3&&_0x429a7e&&Object[_0x16ee1b(0x1e8)](_0x38511a,_0x275bf7,_0x429a7e),_0x429a7e;},__metadata=this&&this[a124_0x1c9695(0x1bf)]||function(_0x1a17e3,_0x24bbd5){const _0x29b511=a124_0x1c9695;if(typeof Reflect===_0x29b511(0x1c8)&&typeof Reflect[_0x29b511(0x1c5)]===_0x29b511(0x1d3))return Reflect[_0x29b511(0x1c5)](_0x1a17e3,_0x24bbd5);},__param=this&&this[a124_0x1c9695(0x1bd)]||function(_0xe1f04d,_0x3254d5){return function(_0xeb4115,_0x1d5ded){_0x3254d5(_0xeb4115,_0x1d5ded,_0xe1f04d);};},__importDefault=this&&this[a124_0x1c9695(0x1b5)]||function(_0x591c5c){return _0x591c5c&&_0x591c5c['__esModule']?_0x591c5c:{'default':_0x591c5c};};Object['defineProperty'](exports,a124_0x1c9695(0x1e3),{'value':!![]}),exports[a124_0x1c9695(0x1b8)]=void 0x0;const axios_1=__importDefault(require(a124_0x1c9695(0x1d7))),typedi_1=require(a124_0x1c9695(0x1b4)),git_api_service_1=require(a124_0x1c9695(0x1e2)),bitbucket_credentials_dto_1=require('../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require('../providers.tokens'),git_provider_1=require(a124_0x1c9695(0x1d1)),url_1=require(a124_0x1c9695(0x1d9));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x4eca09,_0x3770ce){const _0x2c045f=a124_0x1c9695;super(_0x4eca09,_0x3770ce),this[_0x2c045f(0x1eb)]=-0x1,this[_0x2c045f(0x1c6)]=0x3e8;}['createRequest'](_0xb188b2){const _0x4bdb69=a124_0x1c9695,_0x1fabe1=super[_0x4bdb69(0x1e9)](_0xb188b2);return _0x1fabe1[_0x4bdb69(0x1bb)][_0x4bdb69(0x1d2)][_0x4bdb69(0x1c2)](async _0x53aea2=>{const _0x340ad0=_0x4bdb69;return await this[_0x340ad0(0x1c7)](),_0x53aea2['headers']||(_0x53aea2['headers']={}),_0x53aea2[_0x340ad0(0x1be)]['Authorization']=this[_0x340ad0(0x1d8)]['getAuthorizationHeader'](),_0x53aea2;}),_0x1fabe1;}async[a124_0x1c9695(0x1c7)](){const _0x1b1721=a124_0x1c9695;if(Date[_0x1b1721(0x1ba)]()<this[_0x1b1721(0x1eb)])return;await this[_0x1b1721(0x1ea)]();}async[a124_0x1c9695(0x1ea)](){const _0x531655=a124_0x1c9695,{clientId:_0x12d9f5,clientSecret:_0xe1179f}=this['credentials'],_0x56618d=new url_1[(_0x531655(0x1ef))](_0x531655(0x1dd));_0x56618d['username']=_0x12d9f5,_0x56618d[_0x531655(0x1e4)]=_0xe1179f,_0x56618d['pathname']=_0x531655(0x1cb);const {data:_0x5ccb57}=await axios_1['default'][_0x531655(0x1ed)](_0x56618d['toString'](),_0x531655(0x1e5)),{expires_in:_0x4907af,access_token:_0x47c679}=_0x5ccb57;this[_0x531655(0x1eb)]=Date[_0x531655(0x1ba)]()+_0x4907af*0x3e8,this[_0x531655(0x1d8)][_0x531655(0x1e0)](_0x47c679);}[a124_0x1c9695(0x1ca)](){return{};}[a124_0x1c9695(0x1c0)](){const _0x54e108=a124_0x1c9695;return this[_0x54e108(0x1d2)]['get'](_0x54e108(0x1b6));}async[a124_0x1c9695(0x1d5)](){const _0x3eee46=a124_0x1c9695;return await this[_0x3eee46(0x1c0)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a124_0x1c9695(0x1ec)])(),__param(0x0,(0x0,typedi_1[a124_0x1c9695(0x1df)])(providers_tokens_1[a124_0x1c9695(0x1b9)][a124_0x1c9695(0x1ee)])),__param(0x1,(0x0,typedi_1[a124_0x1c9695(0x1df)])(providers_tokens_1[a124_0x1c9695(0x1b9)]['credentials'])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1[a124_0x1c9695(0x1cf)]])],BitbucketApiService),exports[a124_0x1c9695(0x1b8)]=BitbucketApiService;