function a194_0x5de9(_0x42990a,_0x13de52){const _0x4fda6a=a194_0x3229();return a194_0x5de9=function(_0x1074ec,_0x4e06e2){_0x1074ec=_0x1074ec-0xe4;let _0x3229d1=_0x4fda6a[_0x1074ec];return _0x3229d1;},a194_0x5de9(_0x42990a,_0x13de52);}const a194_0x1e7406=a194_0x5de9;(function(_0x3deb2d,_0x10683e){const _0x530c6a=a194_0x5de9,_0x79bc26=_0x3deb2d();while(!![]){try{const _0x40bacd=parseInt(_0x530c6a(0x107))/0x1*(parseInt(_0x530c6a(0xf5))/0x2)+-parseInt(_0x530c6a(0xed))/0x3+parseInt(_0x530c6a(0xf2))/0x4+parseInt(_0x530c6a(0x120))/0x5*(parseInt(_0x530c6a(0x11b))/0x6)+parseInt(_0x530c6a(0xe5))/0x7*(-parseInt(_0x530c6a(0x109))/0x8)+-parseInt(_0x530c6a(0x119))/0x9+-parseInt(_0x530c6a(0x112))/0xa*(-parseInt(_0x530c6a(0x110))/0xb);if(_0x40bacd===_0x10683e)break;else _0x79bc26['push'](_0x79bc26['shift']());}catch(_0x2dfc84){_0x79bc26['push'](_0x79bc26['shift']());}}}(a194_0x3229,0x8c320));const a194_0x4e06e2=(function(){let _0x2ca2ea=!![];return function(_0xb257c6,_0x359ea9){const _0x15f171=_0x2ca2ea?function(){const _0x40accf=a194_0x5de9;if(_0x359ea9){const _0x5006af=_0x359ea9[_0x40accf(0x114)](_0xb257c6,arguments);return _0x359ea9=null,_0x5006af;}}:function(){};return _0x2ca2ea=![],_0x15f171;};}()),a194_0x1074ec=a194_0x4e06e2(this,function(){const _0x20af75=a194_0x5de9;return a194_0x1074ec['toString']()[_0x20af75(0x11a)]('(((.+)+)+)+$')[_0x20af75(0xf1)]()[_0x20af75(0x117)](a194_0x1074ec)['search'](_0x20af75(0x10e));});a194_0x1074ec();'use strict';var __decorate=this&&this['__decorate']||function(_0x4f62d4,_0x2237ef,_0x52f8f7,_0x5f1fe7){const _0x3e90d9=a194_0x5de9;var _0x2dd717=arguments['length'],_0x59030c=_0x2dd717<0x3?_0x2237ef:_0x5f1fe7===null?_0x5f1fe7=Object[_0x3e90d9(0x121)](_0x2237ef,_0x52f8f7):_0x5f1fe7,_0x43e159;if(typeof Reflect===_0x3e90d9(0xe8)&&typeof Reflect[_0x3e90d9(0xef)]===_0x3e90d9(0xf4))_0x59030c=Reflect[_0x3e90d9(0xef)](_0x4f62d4,_0x2237ef,_0x52f8f7,_0x5f1fe7);else{for(var _0x2442bd=_0x4f62d4[_0x3e90d9(0xe9)]-0x1;_0x2442bd>=0x0;_0x2442bd--)if(_0x43e159=_0x4f62d4[_0x2442bd])_0x59030c=(_0x2dd717<0x3?_0x43e159(_0x59030c):_0x2dd717>0x3?_0x43e159(_0x2237ef,_0x52f8f7,_0x59030c):_0x43e159(_0x2237ef,_0x52f8f7))||_0x59030c;}return _0x2dd717>0x3&&_0x59030c&&Object[_0x3e90d9(0xff)](_0x2237ef,_0x52f8f7,_0x59030c),_0x59030c;},__metadata=this&&this[a194_0x1e7406(0x113)]||function(_0x2a16c3,_0x18d52a){const _0x290cfe=a194_0x1e7406;if(typeof Reflect===_0x290cfe(0xe8)&&typeof Reflect[_0x290cfe(0xfd)]===_0x290cfe(0xf4))return Reflect[_0x290cfe(0xfd)](_0x2a16c3,_0x18d52a);},__param=this&&this[a194_0x1e7406(0x10b)]||function(_0xaa3b62,_0x3305ee){return function(_0x140dc0,_0x31de15){_0x3305ee(_0x140dc0,_0x31de15,_0xaa3b62);};},__importDefault=this&&this[a194_0x1e7406(0x118)]||function(_0x54f7f1){const _0x289738=a194_0x1e7406;return _0x54f7f1&&_0x54f7f1[_0x289738(0x106)]?_0x54f7f1:{'default':_0x54f7f1};};Object[a194_0x1e7406(0xff)](exports,a194_0x1e7406(0x106),{'value':!![]}),exports[a194_0x1e7406(0xfb)]=void 0x0;const axios_1=__importDefault(require(a194_0x1e7406(0x105))),typedi_1=require(a194_0x1e7406(0x11c)),git_api_service_1=require(a194_0x1e7406(0xe6)),bitbucket_credentials_dto_1=require('../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a194_0x1e7406(0x116)),git_provider_1=require(a194_0x1e7406(0xe7)),url_1=require(a194_0x1e7406(0x108));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x1e7406(0x122)]{constructor(_0x5c9bf3,_0x1fb5be){super(_0x5c9bf3,_0x1fb5be),this['accessTokenExpiresAt']=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8;}[a194_0x1e7406(0x11d)](_0x45e5c0){const _0x29ed49=a194_0x1e7406,_0x50d9b7=super[_0x29ed49(0x11d)](_0x45e5c0);return _0x50d9b7[_0x29ed49(0x102)][_0x29ed49(0xee)][_0x29ed49(0xea)](async _0x1e361b=>{const _0x5f5bc8=_0x29ed49;return await this[_0x5f5bc8(0xec)](),_0x1e361b[_0x5f5bc8(0x11e)][_0x5f5bc8(0x11f)]=this[_0x5f5bc8(0xf6)][_0x5f5bc8(0xfc)](),_0x1e361b;}),_0x50d9b7;}async[a194_0x1e7406(0xec)](){const _0x5e5a6c=a194_0x1e7406;if(Date['now']()<this[_0x5e5a6c(0x10f)])return;await this[_0x5e5a6c(0x10a)]();}async[a194_0x1e7406(0x10a)](){const _0x2cfb85=a194_0x1e7406,{clientId:_0x4f8ba3,clientSecret:_0x3a2581}=this[_0x2cfb85(0xf6)],_0x296b0f=new url_1['URL'](_0x2cfb85(0x104));_0x296b0f['username']=_0x4f8ba3,_0x296b0f[_0x2cfb85(0xf0)]=_0x3a2581,_0x296b0f['pathname']=_0x2cfb85(0xf9);const {data:_0x2ef701}=await axios_1[_0x2cfb85(0x111)][_0x2cfb85(0xf3)](_0x296b0f[_0x2cfb85(0xf1)](),_0x2cfb85(0x115)),{expires_in:_0x4b12e5,access_token:_0x3d7e07}=_0x2ef701;this[_0x2cfb85(0x10f)]=Date['now']()+_0x4b12e5*0x3e8,this['credentials'][_0x2cfb85(0xfe)](_0x3d7e07);}[a194_0x1e7406(0xfa)](){return{};}['getCurrentUser'](){const _0xf5d7e2=a194_0x1e7406;return this[_0xf5d7e2(0xee)][_0xf5d7e2(0xeb)](_0xf5d7e2(0xf8));}async[a194_0x1e7406(0x100)](){const _0x5abf9f=a194_0x1e7406;return await this[_0x5abf9f(0x10c)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a194_0x1e7406(0xf7)])(providers_tokens_1[a194_0x1e7406(0x101)][a194_0x1e7406(0xe4)])),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a194_0x1e7406(0x101)]['credentials'])),__metadata(a194_0x1e7406(0x10d),[String,bitbucket_credentials_dto_1[a194_0x1e7406(0x103)]])],BitbucketApiService),exports[a194_0x1e7406(0xfb)]=BitbucketApiService;function a194_0x3229(){const _0xe1976a=['default','470vIciMT','__metadata','apply','grant_type=client_credentials','../providers.tokens','constructor','__importDefault','220752pcpjFa','search','115086TkrtvF','typedi','createRequest','headers','Authorization','150DPsurP','getOwnPropertyDescriptor','GitApiService','provider','7LMIcED','./git-api.service','../types/git-provider','object','length','use','get','checkAccessToken','3037251rGvWce','request','decorate','password','toString','755540jRlegB','post','function','6qEhvkR','credentials','Inject','user','/site/oauth2/access_token','getHeaders','BitbucketApiService','getAuthorizationHeader','metadata','setAccessToken','defineProperty','isLoggedIn','Tokens','interceptors','BitbucketCredentialsDto','https://bitbucket.org','axios','__esModule','231979UNfdzQ','url','1913712kahMBY','refreshToken','__param','getCurrentUser','design:paramtypes','(((.+)+)+)+$','accessTokenExpiresAt','91311pchSYP'];a194_0x3229=function(){return _0xe1976a;};return a194_0x3229();}