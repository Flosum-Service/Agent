function a195_0x32c0(){const _0x3fe280=['BitbucketApiService','__esModule','Service','19686uWqNpW','./git-api.service','password','search','639548yGfDbE','Inject','https://bitbucket.org','constructor','5010ipComg','__param','accessTokenExpiresAt','11znQVIh','checkAccessToken','createRequest','user','setAccessToken','credentials','1328uxvugM','303881iBoghL','object','username','URL','now','defineProperty','189LXLLGm','axios','14178100QzJjkg','use','typedi','../providers.tokens','BitbucketCredentialsDto','12992MvzcWf','length','interceptors','4310iGxFJW','__decorate','__metadata','headers','metadata','Tokens','get','apply','../credentials/dto/bitbucket-credentials.dto','toString','(((.+)+)+)+$','getCurrentUser','GitApiService','function','design:paramtypes','__importDefault','refreshToken','6137460wAYvgv','/site/oauth2/access_token','default','getHeaders','url','request'];a195_0x32c0=function(){return _0x3fe280;};return a195_0x32c0();}function a195_0x8fba(_0xcfd51a,_0x3b5072){const _0x3d42d5=a195_0x32c0();return a195_0x8fba=function(_0x5dac64,_0x495a5a){_0x5dac64=_0x5dac64-0x7e;let _0x32c042=_0x3d42d5[_0x5dac64];return _0x32c042;},a195_0x8fba(_0xcfd51a,_0x3b5072);}const a195_0x1bc953=a195_0x8fba;(function(_0x3b24ea,_0x30d553){const _0x30dd19=a195_0x8fba,_0x2ef8f7=_0x3b24ea();while(!![]){try{const _0x49b74e=-parseInt(_0x30dd19(0xa3))/0x1+parseInt(_0x30dd19(0x91))/0x2*(-parseInt(_0x30dd19(0xa9))/0x3)+-parseInt(_0x30dd19(0x95))/0x4+parseInt(_0x30dd19(0xb3))/0x5*(parseInt(_0x30dd19(0x99))/0x6)+-parseInt(_0x30dd19(0xb0))/0x7*(-parseInt(_0x30dd19(0xa2))/0x8)+-parseInt(_0x30dd19(0x88))/0x9+-parseInt(_0x30dd19(0xab))/0xa*(-parseInt(_0x30dd19(0x9c))/0xb);if(_0x49b74e===_0x30d553)break;else _0x2ef8f7['push'](_0x2ef8f7['shift']());}catch(_0x2dfb36){_0x2ef8f7['push'](_0x2ef8f7['shift']());}}}(a195_0x32c0,0xa5fb3));const a195_0x495a5a=(function(){let _0x787ba0=!![];return function(_0x1396c2,_0x20e5f1){const _0x229983=_0x787ba0?function(){const _0x37f7e9=a195_0x8fba;if(_0x20e5f1){const _0x4e9025=_0x20e5f1[_0x37f7e9(0x7e)](_0x1396c2,arguments);return _0x20e5f1=null,_0x4e9025;}}:function(){};return _0x787ba0=![],_0x229983;};}()),a195_0x5dac64=a195_0x495a5a(this,function(){const _0x2e4716=a195_0x8fba;return a195_0x5dac64[_0x2e4716(0x80)]()[_0x2e4716(0x94)](_0x2e4716(0x81))[_0x2e4716(0x80)]()[_0x2e4716(0x98)](a195_0x5dac64)['search']('(((.+)+)+)+$');});a195_0x5dac64();'use strict';var __decorate=this&&this[a195_0x1bc953(0xb4)]||function(_0x1844ae,_0x2d28b4,_0x2acac2,_0x5a4745){const _0x492898=a195_0x1bc953;var _0x43b962=arguments[_0x492898(0xb1)],_0x1c5bfe=_0x43b962<0x3?_0x2d28b4:_0x5a4745===null?_0x5a4745=Object['getOwnPropertyDescriptor'](_0x2d28b4,_0x2acac2):_0x5a4745,_0x54ff37;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x492898(0x84))_0x1c5bfe=Reflect['decorate'](_0x1844ae,_0x2d28b4,_0x2acac2,_0x5a4745);else{for(var _0x2d33cb=_0x1844ae[_0x492898(0xb1)]-0x1;_0x2d33cb>=0x0;_0x2d33cb--)if(_0x54ff37=_0x1844ae[_0x2d33cb])_0x1c5bfe=(_0x43b962<0x3?_0x54ff37(_0x1c5bfe):_0x43b962>0x3?_0x54ff37(_0x2d28b4,_0x2acac2,_0x1c5bfe):_0x54ff37(_0x2d28b4,_0x2acac2))||_0x1c5bfe;}return _0x43b962>0x3&&_0x1c5bfe&&Object['defineProperty'](_0x2d28b4,_0x2acac2,_0x1c5bfe),_0x1c5bfe;},__metadata=this&&this[a195_0x1bc953(0xb5)]||function(_0x5a2e5f,_0x255051){const _0x2e5bb7=a195_0x1bc953;if(typeof Reflect===_0x2e5bb7(0xa4)&&typeof Reflect[_0x2e5bb7(0xb7)]===_0x2e5bb7(0x84))return Reflect[_0x2e5bb7(0xb7)](_0x5a2e5f,_0x255051);},__param=this&&this[a195_0x1bc953(0x9a)]||function(_0x5dd828,_0x3b9c4f){return function(_0x54143c,_0x3c99f0){_0x3b9c4f(_0x54143c,_0x3c99f0,_0x5dd828);};},__importDefault=this&&this[a195_0x1bc953(0x86)]||function(_0x52081b){const _0x280958=a195_0x1bc953;return _0x52081b&&_0x52081b[_0x280958(0x8f)]?_0x52081b:{'default':_0x52081b};};Object[a195_0x1bc953(0xa8)](exports,a195_0x1bc953(0x8f),{'value':!![]}),exports[a195_0x1bc953(0x8e)]=void 0x0;const axios_1=__importDefault(require(a195_0x1bc953(0xaa))),typedi_1=require(a195_0x1bc953(0xad)),git_api_service_1=require(a195_0x1bc953(0x92)),bitbucket_credentials_dto_1=require(a195_0x1bc953(0x7f)),providers_tokens_1=require(a195_0x1bc953(0xae)),git_provider_1=require('../types/git-provider'),url_1=require(a195_0x1bc953(0x8c));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a195_0x1bc953(0x83)]{constructor(_0x32d28b,_0xcd2e30){const _0x5df2c7=a195_0x1bc953;super(_0x32d28b,_0xcd2e30),this[_0x5df2c7(0x9b)]=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8;}[a195_0x1bc953(0x9e)](_0x4ce4dc){const _0x2bdf29=a195_0x1bc953,_0x2a6224=super[_0x2bdf29(0x9e)](_0x4ce4dc);return _0x2a6224[_0x2bdf29(0xb2)]['request'][_0x2bdf29(0xac)](async _0x429682=>{const _0x5309bc=_0x2bdf29;return await this[_0x5309bc(0x9d)](),_0x429682[_0x5309bc(0xb6)]['Authorization']=this['credentials']['getAuthorizationHeader'](),_0x429682;}),_0x2a6224;}async[a195_0x1bc953(0x9d)](){const _0x5e934c=a195_0x1bc953;if(Date[_0x5e934c(0xa7)]()<this['accessTokenExpiresAt'])return;await this[_0x5e934c(0x87)]();}async['refreshToken'](){const _0x1fabd3=a195_0x1bc953,{clientId:_0x592b54,clientSecret:_0x35fee1}=this[_0x1fabd3(0xa1)],_0x5da5d7=new url_1[(_0x1fabd3(0xa6))](_0x1fabd3(0x97));_0x5da5d7[_0x1fabd3(0xa5)]=_0x592b54,_0x5da5d7[_0x1fabd3(0x93)]=_0x35fee1,_0x5da5d7['pathname']=_0x1fabd3(0x89);const {data:_0x5e0675}=await axios_1[_0x1fabd3(0x8a)]['post'](_0x5da5d7[_0x1fabd3(0x80)](),'grant_type=client_credentials'),{expires_in:_0x501f57,access_token:_0x25814b}=_0x5e0675;this[_0x1fabd3(0x9b)]=Date[_0x1fabd3(0xa7)]()+_0x501f57*0x3e8,this[_0x1fabd3(0xa1)][_0x1fabd3(0xa0)](_0x25814b);}[a195_0x1bc953(0x8b)](){return{};}[a195_0x1bc953(0x82)](){const _0x208a8a=a195_0x1bc953;return this[_0x208a8a(0x8d)][_0x208a8a(0xb9)](_0x208a8a(0x9f));}async['isLoggedIn'](){const _0x225e61=a195_0x1bc953;return await this[_0x225e61(0x82)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a195_0x1bc953(0x90)])(),__param(0x0,(0x0,typedi_1['Inject'])(providers_tokens_1[a195_0x1bc953(0xb8)]['provider'])),__param(0x1,(0x0,typedi_1[a195_0x1bc953(0x96)])(providers_tokens_1['Tokens'][a195_0x1bc953(0xa1)])),__metadata(a195_0x1bc953(0x85),[String,bitbucket_credentials_dto_1[a195_0x1bc953(0xaf)]])],BitbucketApiService),exports[a195_0x1bc953(0x8e)]=BitbucketApiService;