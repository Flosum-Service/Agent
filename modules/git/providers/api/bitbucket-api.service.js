function a157_0x221c(_0x244a53,_0x471d4a){const _0x1e2c6f=a157_0x1c46();return a157_0x221c=function(_0x2e750b,_0x2ac155){_0x2e750b=_0x2e750b-0xa7;let _0x1c4620=_0x1e2c6f[_0x2e750b];return _0x1c4620;},a157_0x221c(_0x244a53,_0x471d4a);}const a157_0x45490b=a157_0x221c;(function(_0x4131b5,_0x5b0280){const _0x3645e0=a157_0x221c,_0x138a41=_0x4131b5();while(!![]){try{const _0xa951bf=-parseInt(_0x3645e0(0xd0))/0x1*(parseInt(_0x3645e0(0xc7))/0x2)+parseInt(_0x3645e0(0xcc))/0x3*(parseInt(_0x3645e0(0xc9))/0x4)+-parseInt(_0x3645e0(0xda))/0x5*(-parseInt(_0x3645e0(0xcf))/0x6)+-parseInt(_0x3645e0(0xb0))/0x7*(parseInt(_0x3645e0(0xbc))/0x8)+parseInt(_0x3645e0(0xc5))/0x9+parseInt(_0x3645e0(0xd2))/0xa*(-parseInt(_0x3645e0(0xba))/0xb)+parseInt(_0x3645e0(0xca))/0xc*(-parseInt(_0x3645e0(0xde))/0xd);if(_0xa951bf===_0x5b0280)break;else _0x138a41['push'](_0x138a41['shift']());}catch(_0x16f3ed){_0x138a41['push'](_0x138a41['shift']());}}}(a157_0x1c46,0x7dbf3));const a157_0x2ac155=(function(){let _0x55f786=!![];return function(_0xa44c8f,_0x238c55){const _0x5312bd=_0x55f786?function(){const _0x3c69ff=a157_0x221c;if(_0x238c55){const _0x5c2b88=_0x238c55[_0x3c69ff(0xc0)](_0xa44c8f,arguments);return _0x238c55=null,_0x5c2b88;}}:function(){};return _0x55f786=![],_0x5312bd;};}()),a157_0x2e750b=a157_0x2ac155(this,function(){const _0x4c4674=a157_0x221c;return a157_0x2e750b[_0x4c4674(0xae)]()[_0x4c4674(0xd3)](_0x4c4674(0xbe))[_0x4c4674(0xae)]()[_0x4c4674(0xe2)](a157_0x2e750b)['search'](_0x4c4674(0xbe));});a157_0x2e750b();'use strict';function a157_0x1c46(){const _0x411558=['constructor','pathname','__decorate','design:paramtypes','password','Tokens','isLoggedIn','MAX_REQUEST_PER_HOUR','decorate','Service','metadata','checkAccessToken','toString','refreshToken','14NFNIbm','createRequest','credentials','now','request','GitApiService','getAuthorizationHeader','__esModule','__importDefault','function','44JYwTLO','setAccessToken','748184GhowUY','length','(((.+)+)+)+$','./git-api.service','apply','/site/oauth2/access_token','https://bitbucket.org','__param','../providers.tokens','4783914kTjAsi','get','2XKhpRv','Inject','4UYvFkn','885084iAqEcH','__metadata','2590431SjMALk','../credentials/dto/bitbucket-credentials.dto','user','1513212DgbsMo','618743hvbmLc','username','2154280IWbDYZ','search','axios','accessTokenExpiresAt','defineProperty','typedi','provider','url','20zwdubi','getHeaders','URL','use','39ijdDTL','getCurrentUser','grant_type=client_credentials','object'];a157_0x1c46=function(){return _0x411558;};return a157_0x1c46();}var __decorate=this&&this[a157_0x45490b(0xe4)]||function(_0x2933d9,_0x319824,_0x53fb86,_0x3b5acb){const _0xea4cc8=a157_0x45490b;var _0x5d20a0=arguments['length'],_0x472ef6=_0x5d20a0<0x3?_0x319824:_0x3b5acb===null?_0x3b5acb=Object['getOwnPropertyDescriptor'](_0x319824,_0x53fb86):_0x3b5acb,_0x1a40bf;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xea4cc8(0xb9))_0x472ef6=Reflect[_0xea4cc8(0xaa)](_0x2933d9,_0x319824,_0x53fb86,_0x3b5acb);else{for(var _0x282b5b=_0x2933d9[_0xea4cc8(0xbd)]-0x1;_0x282b5b>=0x0;_0x282b5b--)if(_0x1a40bf=_0x2933d9[_0x282b5b])_0x472ef6=(_0x5d20a0<0x3?_0x1a40bf(_0x472ef6):_0x5d20a0>0x3?_0x1a40bf(_0x319824,_0x53fb86,_0x472ef6):_0x1a40bf(_0x319824,_0x53fb86))||_0x472ef6;}return _0x5d20a0>0x3&&_0x472ef6&&Object[_0xea4cc8(0xd6)](_0x319824,_0x53fb86,_0x472ef6),_0x472ef6;},__metadata=this&&this[a157_0x45490b(0xcb)]||function(_0x441308,_0x4b434c){const _0x479e0f=a157_0x45490b;if(typeof Reflect===_0x479e0f(0xe1)&&typeof Reflect[_0x479e0f(0xac)]===_0x479e0f(0xb9))return Reflect[_0x479e0f(0xac)](_0x441308,_0x4b434c);},__param=this&&this[a157_0x45490b(0xc3)]||function(_0x5a034c,_0x22473c){return function(_0x126000,_0x2e5ef6){_0x22473c(_0x126000,_0x2e5ef6,_0x5a034c);};},__importDefault=this&&this[a157_0x45490b(0xb8)]||function(_0x2fc5f5){const _0x1dc7a7=a157_0x45490b;return _0x2fc5f5&&_0x2fc5f5[_0x1dc7a7(0xb7)]?_0x2fc5f5:{'default':_0x2fc5f5};};Object[a157_0x45490b(0xd6)](exports,a157_0x45490b(0xb7),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require(a157_0x45490b(0xd4))),typedi_1=require(a157_0x45490b(0xd7)),git_api_service_1=require(a157_0x45490b(0xbf)),bitbucket_credentials_dto_1=require(a157_0x45490b(0xcd)),providers_tokens_1=require(a157_0x45490b(0xc4)),git_provider_1=require('../types/git-provider'),url_1=require(a157_0x45490b(0xd9));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a157_0x45490b(0xb5)]{constructor(_0x592402,_0x9677a8){const _0x3c1881=a157_0x45490b;super(_0x592402,_0x9677a8),this[_0x3c1881(0xd5)]=-0x1,this[_0x3c1881(0xa9)]=0x3e8;}[a157_0x45490b(0xb1)](_0x53cd3a){const _0x47ce3d=a157_0x45490b,_0x28c0b7=super[_0x47ce3d(0xb1)](_0x53cd3a);return _0x28c0b7['interceptors'][_0x47ce3d(0xb4)][_0x47ce3d(0xdd)](async _0x21a291=>{const _0x5a209b=_0x47ce3d;return await this['checkAccessToken'](),_0x21a291['headers']['Authorization']=this[_0x5a209b(0xb2)][_0x5a209b(0xb6)](),_0x21a291;}),_0x28c0b7;}async[a157_0x45490b(0xad)](){const _0x4cd5a8=a157_0x45490b;if(Date['now']()<this[_0x4cd5a8(0xd5)])return;await this[_0x4cd5a8(0xaf)]();}async[a157_0x45490b(0xaf)](){const _0x558838=a157_0x45490b,{clientId:_0xcc2212,clientSecret:_0x4ee1e9}=this[_0x558838(0xb2)],_0x10b2d7=new url_1[(_0x558838(0xdc))](_0x558838(0xc2));_0x10b2d7[_0x558838(0xd1)]=_0xcc2212,_0x10b2d7[_0x558838(0xe6)]=_0x4ee1e9,_0x10b2d7[_0x558838(0xe3)]=_0x558838(0xc1);const {data:_0x590558}=await axios_1['default']['post'](_0x10b2d7[_0x558838(0xae)](),_0x558838(0xe0)),{expires_in:_0x14ef76,access_token:_0x58d432}=_0x590558;this[_0x558838(0xd5)]=Date[_0x558838(0xb3)]()+_0x14ef76*0x3e8,this[_0x558838(0xb2)][_0x558838(0xbb)](_0x58d432);}[a157_0x45490b(0xdb)](){return{};}[a157_0x45490b(0xdf)](){const _0x5806c2=a157_0x45490b;return this[_0x5806c2(0xb4)][_0x5806c2(0xc6)](_0x5806c2(0xce));}async[a157_0x45490b(0xa8)](){const _0x34b11c=a157_0x45490b;return await this[_0x34b11c(0xdf)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a157_0x45490b(0xab)])(),__param(0x0,(0x0,typedi_1[a157_0x45490b(0xc8)])(providers_tokens_1[a157_0x45490b(0xa7)][a157_0x45490b(0xd8)])),__param(0x1,(0x0,typedi_1[a157_0x45490b(0xc8)])(providers_tokens_1[a157_0x45490b(0xa7)][a157_0x45490b(0xb2)])),__metadata(a157_0x45490b(0xe5),[String,bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;