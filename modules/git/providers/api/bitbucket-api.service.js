const a194_0xb8fd68=a194_0x1537;(function(_0xa089bd,_0xcfd13d){const _0x30a33c=a194_0x1537,_0x2fcc5c=_0xa089bd();while(!![]){try{const _0x188a11=-parseInt(_0x30a33c(0x110))/0x1*(-parseInt(_0x30a33c(0x120))/0x2)+parseInt(_0x30a33c(0x130))/0x3+parseInt(_0x30a33c(0x121))/0x4+parseInt(_0x30a33c(0x133))/0x5+-parseInt(_0x30a33c(0x11c))/0x6+parseInt(_0x30a33c(0x117))/0x7*(-parseInt(_0x30a33c(0x12c))/0x8)+parseInt(_0x30a33c(0x11e))/0x9*(-parseInt(_0x30a33c(0x118))/0xa);if(_0x188a11===_0xcfd13d)break;else _0x2fcc5c['push'](_0x2fcc5c['shift']());}catch(_0x39fa7d){_0x2fcc5c['push'](_0x2fcc5c['shift']());}}}(a194_0x4243,0x33f5e));function a194_0x4243(){const _0x1bdba5=['setAccessToken','BitbucketCredentialsDto','Service','../credentials/dto/bitbucket-credentials.dto','282168SnPUkf','../types/git-provider','default','credentials','764175qpUslc','https://bitbucket.org','get','1247020IZostJ','getCurrentUser','getAuthorizationHeader','now','post','BitbucketApiService','axios','getOwnPropertyDescriptor','(((.+)+)+)+$','getHeaders','apply','object','Inject','interceptors','URL','request','grant_type=client_credentials','toString','Tokens','checkAccessToken','constructor','url','length','password','typedi','refreshToken','accessTokenExpiresAt','1WAofWh','function','search','GitApiService','user','decorate','username','7Pfdgsr','326710aRnWrn','createRequest','./git-api.service','provider','1824126haIZGM','__metadata','153rHkThX','use','503078BzZlKy','1407444cCiEKv','headers','isLoggedIn','__decorate','__esModule','metadata','__param'];a194_0x4243=function(){return _0x1bdba5;};return a194_0x4243();}const a194_0x511c56=(function(){let _0x5a1e3a=!![];return function(_0x2ee605,_0x314410){const _0x242e13=_0x5a1e3a?function(){const _0xca2aab=a194_0x1537;if(_0x314410){const _0x30a1af=_0x314410[_0xca2aab(0x13d)](_0x2ee605,arguments);return _0x314410=null,_0x30a1af;}}:function(){};return _0x5a1e3a=![],_0x242e13;};}()),a194_0x5302f3=a194_0x511c56(this,function(){const _0xf21c7b=a194_0x1537;return a194_0x5302f3[_0xf21c7b(0x144)]()[_0xf21c7b(0x112)](_0xf21c7b(0x13b))[_0xf21c7b(0x144)]()[_0xf21c7b(0x109)](a194_0x5302f3)[_0xf21c7b(0x112)]('(((.+)+)+)+$');});a194_0x5302f3();'use strict';function a194_0x1537(_0x3d8b4f,_0x12aef8){const _0x1bf58c=a194_0x4243();return a194_0x1537=function(_0x5302f3,_0x511c56){_0x5302f3=_0x5302f3-0x107;let _0x4243d3=_0x1bf58c[_0x5302f3];return _0x4243d3;},a194_0x1537(_0x3d8b4f,_0x12aef8);}var __decorate=this&&this[a194_0xb8fd68(0x124)]||function(_0x1f136a,_0x1b1bf3,_0x4d3d4a,_0x35e644){const _0x31e179=a194_0xb8fd68;var _0x2a123c=arguments[_0x31e179(0x10b)],_0x381ddf=_0x2a123c<0x3?_0x1b1bf3:_0x35e644===null?_0x35e644=Object[_0x31e179(0x13a)](_0x1b1bf3,_0x4d3d4a):_0x35e644,_0x3531b5;if(typeof Reflect==='object'&&typeof Reflect[_0x31e179(0x115)]===_0x31e179(0x111))_0x381ddf=Reflect[_0x31e179(0x115)](_0x1f136a,_0x1b1bf3,_0x4d3d4a,_0x35e644);else{for(var _0x38e060=_0x1f136a['length']-0x1;_0x38e060>=0x0;_0x38e060--)if(_0x3531b5=_0x1f136a[_0x38e060])_0x381ddf=(_0x2a123c<0x3?_0x3531b5(_0x381ddf):_0x2a123c>0x3?_0x3531b5(_0x1b1bf3,_0x4d3d4a,_0x381ddf):_0x3531b5(_0x1b1bf3,_0x4d3d4a))||_0x381ddf;}return _0x2a123c>0x3&&_0x381ddf&&Object['defineProperty'](_0x1b1bf3,_0x4d3d4a,_0x381ddf),_0x381ddf;},__metadata=this&&this[a194_0xb8fd68(0x11d)]||function(_0xe2ab8c,_0x3d1b2f){const _0x3fa475=a194_0xb8fd68;if(typeof Reflect===_0x3fa475(0x13e)&&typeof Reflect['metadata']===_0x3fa475(0x111))return Reflect[_0x3fa475(0x126)](_0xe2ab8c,_0x3d1b2f);},__param=this&&this[a194_0xb8fd68(0x127)]||function(_0x3c173a,_0x26cff0){return function(_0x242756,_0x177a6e){_0x26cff0(_0x242756,_0x177a6e,_0x3c173a);};},__importDefault=this&&this['__importDefault']||function(_0x1cecc2){const _0x2644ed=a194_0xb8fd68;return _0x1cecc2&&_0x1cecc2[_0x2644ed(0x125)]?_0x1cecc2:{'default':_0x1cecc2};};Object['defineProperty'](exports,a194_0xb8fd68(0x125),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require(a194_0xb8fd68(0x139))),typedi_1=require(a194_0xb8fd68(0x10d)),git_api_service_1=require(a194_0xb8fd68(0x11a)),bitbucket_credentials_dto_1=require(a194_0xb8fd68(0x12b)),providers_tokens_1=require('../providers.tokens'),git_provider_1=require(a194_0xb8fd68(0x12d)),url_1=require(a194_0xb8fd68(0x10a));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0xb8fd68(0x113)]{constructor(_0x32df2b,_0x1dc88a){const _0x2eefe1=a194_0xb8fd68;super(_0x32df2b,_0x1dc88a),this[_0x2eefe1(0x10f)]=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8;}[a194_0xb8fd68(0x119)](_0x14a1d8){const _0x77306f=a194_0xb8fd68,_0x490cf=super[_0x77306f(0x119)](_0x14a1d8);return _0x490cf[_0x77306f(0x140)]['request'][_0x77306f(0x11f)](async _0x56dd2c=>{const _0x220a61=_0x77306f;return await this[_0x220a61(0x108)](),_0x56dd2c[_0x220a61(0x122)]['Authorization']=this[_0x220a61(0x12f)][_0x220a61(0x135)](),_0x56dd2c;}),_0x490cf;}async[a194_0xb8fd68(0x108)](){const _0x4e45ca=a194_0xb8fd68;if(Date[_0x4e45ca(0x136)]()<this['accessTokenExpiresAt'])return;await this[_0x4e45ca(0x10e)]();}async['refreshToken'](){const _0x4ffa0b=a194_0xb8fd68,{clientId:_0x3ba35c,clientSecret:_0x5cd020}=this[_0x4ffa0b(0x12f)],_0x1971ad=new url_1[(_0x4ffa0b(0x141))](_0x4ffa0b(0x131));_0x1971ad[_0x4ffa0b(0x116)]=_0x3ba35c,_0x1971ad[_0x4ffa0b(0x10c)]=_0x5cd020,_0x1971ad['pathname']='/site/oauth2/access_token';const {data:_0x37b17f}=await axios_1[_0x4ffa0b(0x12e)][_0x4ffa0b(0x137)](_0x1971ad['toString'](),_0x4ffa0b(0x143)),{expires_in:_0x11d0b0,access_token:_0x2e56e8}=_0x37b17f;this[_0x4ffa0b(0x10f)]=Date[_0x4ffa0b(0x136)]()+_0x11d0b0*0x3e8,this[_0x4ffa0b(0x12f)][_0x4ffa0b(0x128)](_0x2e56e8);}[a194_0xb8fd68(0x13c)](){return{};}[a194_0xb8fd68(0x134)](){const _0x4f4a4f=a194_0xb8fd68;return this[_0x4f4a4f(0x142)][_0x4f4a4f(0x132)](_0x4f4a4f(0x114));}async[a194_0xb8fd68(0x123)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a194_0xb8fd68(0x12a)])(),__param(0x0,(0x0,typedi_1[a194_0xb8fd68(0x13f)])(providers_tokens_1[a194_0xb8fd68(0x107)][a194_0xb8fd68(0x11b)])),__param(0x1,(0x0,typedi_1[a194_0xb8fd68(0x13f)])(providers_tokens_1[a194_0xb8fd68(0x107)][a194_0xb8fd68(0x12f)])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1[a194_0xb8fd68(0x129)]])],BitbucketApiService),exports[a194_0xb8fd68(0x138)]=BitbucketApiService;