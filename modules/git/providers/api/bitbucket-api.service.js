function a194_0x2a3b(_0x578744,_0x5014f1){const _0x155ef8=a194_0x56b8();return a194_0x2a3b=function(_0x3dc055,_0x426aa1){_0x3dc055=_0x3dc055-0x1c3;let _0x56b8b5=_0x155ef8[_0x3dc055];return _0x56b8b5;},a194_0x2a3b(_0x578744,_0x5014f1);}const a194_0x177269=a194_0x2a3b;(function(_0x2e8dee,_0x2b0124){const _0x2aa737=a194_0x2a3b,_0x2fb64f=_0x2e8dee();while(!![]){try{const _0xe42fbd=parseInt(_0x2aa737(0x1eb))/0x1*(parseInt(_0x2aa737(0x1fe))/0x2)+-parseInt(_0x2aa737(0x1e8))/0x3+-parseInt(_0x2aa737(0x1ff))/0x4*(-parseInt(_0x2aa737(0x1d0))/0x5)+-parseInt(_0x2aa737(0x1f3))/0x6*(-parseInt(_0x2aa737(0x1d4))/0x7)+parseInt(_0x2aa737(0x1d8))/0x8*(-parseInt(_0x2aa737(0x1db))/0x9)+-parseInt(_0x2aa737(0x1d3))/0xa+-parseInt(_0x2aa737(0x1f8))/0xb*(-parseInt(_0x2aa737(0x1c6))/0xc);if(_0xe42fbd===_0x2b0124)break;else _0x2fb64f['push'](_0x2fb64f['shift']());}catch(_0x445579){_0x2fb64f['push'](_0x2fb64f['shift']());}}}(a194_0x56b8,0x4a241));const a194_0x426aa1=(function(){let _0x3e088e=!![];return function(_0x54af66,_0x12bc10){const _0x1cb448=_0x3e088e?function(){const _0x2741e5=a194_0x2a3b;if(_0x12bc10){const _0x2f1556=_0x12bc10[_0x2741e5(0x1f0)](_0x54af66,arguments);return _0x12bc10=null,_0x2f1556;}}:function(){};return _0x3e088e=![],_0x1cb448;};}()),a194_0x3dc055=a194_0x426aa1(this,function(){const _0x2f90c8=a194_0x2a3b;return a194_0x3dc055[_0x2f90c8(0x1d5)]()['search'](_0x2f90c8(0x1ef))[_0x2f90c8(0x1d5)]()['constructor'](a194_0x3dc055)[_0x2f90c8(0x1f6)](_0x2f90c8(0x1ef));});a194_0x3dc055();function a194_0x56b8(){const _0x1763f3=['MAX_REQUEST_PER_HOUR','176194sWhZhK','316KUjkZw','pathname','length','username','Authorization','205260cKkEqe','__esModule','https://bitbucket.org','checkAccessToken','design:paramtypes','getCurrentUser','axios','post','function','password','12020CGUGGx','./git-api.service','../providers.tokens','3525260oyJnXt','900137uuCmTy','toString','getAuthorizationHeader','decorate','19216fikjLu','metadata','headers','1494zOpYlK','__importDefault','createRequest','BitbucketApiService','typedi','Tokens','now','defineProperty','Inject','default','grant_type=client_credentials','__param','url','1250358gXEIBF','URL','credentials','6XqqlJA','__metadata','object','__decorate','(((.+)+)+)+$','apply','BitbucketCredentialsDto','../credentials/dto/bitbucket-credentials.dto','12JJbyYU','setAccessToken','provider','search','Service','319RtqEvO','accessTokenExpiresAt','user','GitApiService','isLoggedIn'];a194_0x56b8=function(){return _0x1763f3;};return a194_0x56b8();}'use strict';var __decorate=this&&this[a194_0x177269(0x1ee)]||function(_0x3a385c,_0x44db59,_0x30a5e0,_0xf6f1dd){const _0x7850d2=a194_0x177269;var _0x5550fa=arguments[_0x7850d2(0x1c3)],_0x40429e=_0x5550fa<0x3?_0x44db59:_0xf6f1dd===null?_0xf6f1dd=Object['getOwnPropertyDescriptor'](_0x44db59,_0x30a5e0):_0xf6f1dd,_0x1790f0;if(typeof Reflect==='object'&&typeof Reflect[_0x7850d2(0x1d7)]===_0x7850d2(0x1ce))_0x40429e=Reflect[_0x7850d2(0x1d7)](_0x3a385c,_0x44db59,_0x30a5e0,_0xf6f1dd);else{for(var _0x48b14c=_0x3a385c[_0x7850d2(0x1c3)]-0x1;_0x48b14c>=0x0;_0x48b14c--)if(_0x1790f0=_0x3a385c[_0x48b14c])_0x40429e=(_0x5550fa<0x3?_0x1790f0(_0x40429e):_0x5550fa>0x3?_0x1790f0(_0x44db59,_0x30a5e0,_0x40429e):_0x1790f0(_0x44db59,_0x30a5e0))||_0x40429e;}return _0x5550fa>0x3&&_0x40429e&&Object[_0x7850d2(0x1e2)](_0x44db59,_0x30a5e0,_0x40429e),_0x40429e;},__metadata=this&&this[a194_0x177269(0x1ec)]||function(_0x5680f0,_0x10a845){const _0x1033c4=a194_0x177269;if(typeof Reflect===_0x1033c4(0x1ed)&&typeof Reflect['metadata']===_0x1033c4(0x1ce))return Reflect[_0x1033c4(0x1d9)](_0x5680f0,_0x10a845);},__param=this&&this[a194_0x177269(0x1e6)]||function(_0x3338fd,_0x1f3516){return function(_0x3c4b02,_0x22a9b7){_0x1f3516(_0x3c4b02,_0x22a9b7,_0x3338fd);};},__importDefault=this&&this[a194_0x177269(0x1dc)]||function(_0x21ffa6){const _0x3cb971=a194_0x177269;return _0x21ffa6&&_0x21ffa6[_0x3cb971(0x1c7)]?_0x21ffa6:{'default':_0x21ffa6};};Object[a194_0x177269(0x1e2)](exports,a194_0x177269(0x1c7),{'value':!![]}),exports[a194_0x177269(0x1de)]=void 0x0;const axios_1=__importDefault(require(a194_0x177269(0x1cc))),typedi_1=require(a194_0x177269(0x1df)),git_api_service_1=require(a194_0x177269(0x1d1)),bitbucket_credentials_dto_1=require(a194_0x177269(0x1f2)),providers_tokens_1=require(a194_0x177269(0x1d2)),git_provider_1=require('../types/git-provider'),url_1=require(a194_0x177269(0x1e7));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x177269(0x1fb)]{constructor(_0x193593,_0x4108f3){const _0x5853ae=a194_0x177269;super(_0x193593,_0x4108f3),this[_0x5853ae(0x1f9)]=-0x1,this[_0x5853ae(0x1fd)]=0x3e8;}[a194_0x177269(0x1dd)](_0x54b0d9){const _0x48a6d6=a194_0x177269,_0x1a6697=super[_0x48a6d6(0x1dd)](_0x54b0d9);return _0x1a6697['interceptors']['request']['use'](async _0x175733=>{const _0x21be65=_0x48a6d6;return await this[_0x21be65(0x1c9)](),_0x175733[_0x21be65(0x1da)][_0x21be65(0x1c5)]=this[_0x21be65(0x1ea)][_0x21be65(0x1d6)](),_0x175733;}),_0x1a6697;}async[a194_0x177269(0x1c9)](){const _0x42fcd5=a194_0x177269;if(Date[_0x42fcd5(0x1e1)]()<this['accessTokenExpiresAt'])return;await this['refreshToken']();}async['refreshToken'](){const _0x1bf3d9=a194_0x177269,{clientId:_0x2b54b4,clientSecret:_0x5ebf40}=this[_0x1bf3d9(0x1ea)],_0x3d71c6=new url_1[(_0x1bf3d9(0x1e9))](_0x1bf3d9(0x1c8));_0x3d71c6[_0x1bf3d9(0x1c4)]=_0x2b54b4,_0x3d71c6[_0x1bf3d9(0x1cf)]=_0x5ebf40,_0x3d71c6[_0x1bf3d9(0x200)]='/site/oauth2/access_token';const {data:_0x24aa3e}=await axios_1[_0x1bf3d9(0x1e4)][_0x1bf3d9(0x1cd)](_0x3d71c6['toString'](),_0x1bf3d9(0x1e5)),{expires_in:_0x58381a,access_token:_0x2faccf}=_0x24aa3e;this[_0x1bf3d9(0x1f9)]=Date[_0x1bf3d9(0x1e1)]()+_0x58381a*0x3e8,this[_0x1bf3d9(0x1ea)][_0x1bf3d9(0x1f4)](_0x2faccf);}['getHeaders'](){return{};}['getCurrentUser'](){const _0x2088a1=a194_0x177269;return this['request']['get'](_0x2088a1(0x1fa));}async[a194_0x177269(0x1fc)](){const _0x306ee5=a194_0x177269;return await this[_0x306ee5(0x1cb)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a194_0x177269(0x1f7)])(),__param(0x0,(0x0,typedi_1[a194_0x177269(0x1e3)])(providers_tokens_1[a194_0x177269(0x1e0)][a194_0x177269(0x1f5)])),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a194_0x177269(0x1e0)][a194_0x177269(0x1ea)])),__metadata(a194_0x177269(0x1ca),[String,bitbucket_credentials_dto_1[a194_0x177269(0x1f1)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;