const a163_0xfade13=a163_0x5b0c;(function(_0x4feeef,_0x595dd6){const _0x2ed498=a163_0x5b0c,_0x552d1a=_0x4feeef();while(!![]){try{const _0x29316a=-parseInt(_0x2ed498(0x1ed))/0x1*(parseInt(_0x2ed498(0x1d9))/0x2)+parseInt(_0x2ed498(0x1cd))/0x3+parseInt(_0x2ed498(0x1df))/0x4+parseInt(_0x2ed498(0x1f0))/0x5+-parseInt(_0x2ed498(0x1ba))/0x6*(-parseInt(_0x2ed498(0x1f3))/0x7)+-parseInt(_0x2ed498(0x1e2))/0x8+parseInt(_0x2ed498(0x1dd))/0x9*(-parseInt(_0x2ed498(0x1c8))/0xa);if(_0x29316a===_0x595dd6)break;else _0x552d1a['push'](_0x552d1a['shift']());}catch(_0x1c4a65){_0x552d1a['push'](_0x552d1a['shift']());}}}(a163_0x39fc,0x70cc1));const a163_0x41ecee=(function(){let _0x19659f=!![];return function(_0x19cb0c,_0x217f54){const _0x478919=_0x19659f?function(){const _0x783ef2=a163_0x5b0c;if(_0x217f54){const _0x4ffee2=_0x217f54[_0x783ef2(0x1d2)](_0x19cb0c,arguments);return _0x217f54=null,_0x4ffee2;}}:function(){};return _0x19659f=![],_0x478919;};}()),a163_0x30e8fa=a163_0x41ecee(this,function(){const _0x4ace4c=a163_0x5b0c;return a163_0x30e8fa[_0x4ace4c(0x1bd)]()['search'](_0x4ace4c(0x1d4))[_0x4ace4c(0x1bd)]()[_0x4ace4c(0x1e7)](a163_0x30e8fa)[_0x4ace4c(0x1cf)](_0x4ace4c(0x1d4));});a163_0x30e8fa();'use strict';function a163_0x5b0c(_0x304c24,_0x33ad7d){const _0x4d28bf=a163_0x39fc();return a163_0x5b0c=function(_0x30e8fa,_0x41ecee){_0x30e8fa=_0x30e8fa-0x1b8;let _0x39fc19=_0x4d28bf[_0x30e8fa];return _0x39fc19;},a163_0x5b0c(_0x304c24,_0x33ad7d);}var __decorate=this&&this[a163_0xfade13(0x1f5)]||function(_0x2eff4f,_0x5e2617,_0x52954d,_0x35ba28){const _0x11e162=a163_0xfade13;var _0x10eb14=arguments[_0x11e162(0x1b8)],_0x2edaae=_0x10eb14<0x3?_0x5e2617:_0x35ba28===null?_0x35ba28=Object[_0x11e162(0x1bf)](_0x5e2617,_0x52954d):_0x35ba28,_0x6584d2;if(typeof Reflect==='object'&&typeof Reflect[_0x11e162(0x1de)]===_0x11e162(0x1ef))_0x2edaae=Reflect[_0x11e162(0x1de)](_0x2eff4f,_0x5e2617,_0x52954d,_0x35ba28);else{for(var _0x169f92=_0x2eff4f[_0x11e162(0x1b8)]-0x1;_0x169f92>=0x0;_0x169f92--)if(_0x6584d2=_0x2eff4f[_0x169f92])_0x2edaae=(_0x10eb14<0x3?_0x6584d2(_0x2edaae):_0x10eb14>0x3?_0x6584d2(_0x5e2617,_0x52954d,_0x2edaae):_0x6584d2(_0x5e2617,_0x52954d))||_0x2edaae;}return _0x10eb14>0x3&&_0x2edaae&&Object['defineProperty'](_0x5e2617,_0x52954d,_0x2edaae),_0x2edaae;},__metadata=this&&this[a163_0xfade13(0x1e4)]||function(_0x5285b5,_0x375353){const _0x4e2a79=a163_0xfade13;if(typeof Reflect===_0x4e2a79(0x1f7)&&typeof Reflect[_0x4e2a79(0x1c1)]==='function')return Reflect[_0x4e2a79(0x1c1)](_0x5285b5,_0x375353);},__param=this&&this['__param']||function(_0x195105,_0x4239fc){return function(_0x25112d,_0x64d15a){_0x4239fc(_0x25112d,_0x64d15a,_0x195105);};},__importDefault=this&&this[a163_0xfade13(0x1e3)]||function(_0x1cea93){return _0x1cea93&&_0x1cea93['__esModule']?_0x1cea93:{'default':_0x1cea93};};function a163_0x39fc(){const _0x42b280=['MAX_REQUEST_PER_HOUR','credentials','refreshToken','15060imoaUI','now','../credentials/dto/bitbucket-credentials.dto','Tokens','interceptors','916650IGtJRs','Service','search','getHeaders','getAuthorizationHeader','apply','defineProperty','(((.+)+)+)+$','createRequest','isLoggedIn','checkAccessToken','provider','121426sujTrK','getCurrentUser','user','__esModule','2763ruPDII','decorate','3592376GfTPQm','grant_type=client_credentials','default','6798016DzWyEA','__importDefault','__metadata','GitApiService','../types/git-provider','constructor','pathname','./git-api.service','request','BitbucketApiService','password','5htQLET','username','function','2597460cqCwNi','Inject','post','41363tcTwQf','typedi','__decorate','axios','object','length','accessTokenExpiresAt','360DliiSY','get','Authorization','toString','https://bitbucket.org','getOwnPropertyDescriptor','/site/oauth2/access_token','metadata','url','headers','../providers.tokens'];a163_0x39fc=function(){return _0x42b280;};return a163_0x39fc();}Object[a163_0xfade13(0x1d3)](exports,a163_0xfade13(0x1dc),{'value':!![]}),exports[a163_0xfade13(0x1eb)]=void 0x0;const axios_1=__importDefault(require(a163_0xfade13(0x1f6))),typedi_1=require(a163_0xfade13(0x1f4)),git_api_service_1=require(a163_0xfade13(0x1e9)),bitbucket_credentials_dto_1=require(a163_0xfade13(0x1ca)),providers_tokens_1=require(a163_0xfade13(0x1c4)),git_provider_1=require(a163_0xfade13(0x1e6)),url_1=require(a163_0xfade13(0x1c2));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a163_0xfade13(0x1e5)]{constructor(_0x256404,_0x5e0120){const _0xa8f1a8=a163_0xfade13;super(_0x256404,_0x5e0120),this[_0xa8f1a8(0x1b9)]=-0x1,this[_0xa8f1a8(0x1c5)]=0x3e8;}['createRequest'](_0x53c848){const _0x3b264e=a163_0xfade13,_0x578df6=super[_0x3b264e(0x1d5)](_0x53c848);return _0x578df6[_0x3b264e(0x1cc)]['request']['use'](async _0x2b36d3=>{const _0xf1352=_0x3b264e;return await this['checkAccessToken'](),_0x2b36d3[_0xf1352(0x1c3)][_0xf1352(0x1bc)]=this[_0xf1352(0x1c6)][_0xf1352(0x1d1)](),_0x2b36d3;}),_0x578df6;}async[a163_0xfade13(0x1d7)](){const _0x199e8d=a163_0xfade13;if(Date['now']()<this['accessTokenExpiresAt'])return;await this[_0x199e8d(0x1c7)]();}async[a163_0xfade13(0x1c7)](){const _0x2c8609=a163_0xfade13,{clientId:_0xf1577c,clientSecret:_0x18467d}=this[_0x2c8609(0x1c6)],_0x7be11e=new url_1['URL'](_0x2c8609(0x1be));_0x7be11e[_0x2c8609(0x1ee)]=_0xf1577c,_0x7be11e[_0x2c8609(0x1ec)]=_0x18467d,_0x7be11e[_0x2c8609(0x1e8)]=_0x2c8609(0x1c0);const {data:_0x1ca830}=await axios_1[_0x2c8609(0x1e1)][_0x2c8609(0x1f2)](_0x7be11e[_0x2c8609(0x1bd)](),_0x2c8609(0x1e0)),{expires_in:_0x174580,access_token:_0x269a71}=_0x1ca830;this['accessTokenExpiresAt']=Date[_0x2c8609(0x1c9)]()+_0x174580*0x3e8,this[_0x2c8609(0x1c6)]['setAccessToken'](_0x269a71);}[a163_0xfade13(0x1d0)](){return{};}[a163_0xfade13(0x1da)](){const _0x3d2daf=a163_0xfade13;return this[_0x3d2daf(0x1ea)][_0x3d2daf(0x1bb)](_0x3d2daf(0x1db));}async[a163_0xfade13(0x1d6)](){const _0x18a4e9=a163_0xfade13;return await this[_0x18a4e9(0x1da)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a163_0xfade13(0x1ce)])(),__param(0x0,(0x0,typedi_1[a163_0xfade13(0x1f1)])(providers_tokens_1[a163_0xfade13(0x1cb)][a163_0xfade13(0x1d8)])),__param(0x1,(0x0,typedi_1[a163_0xfade13(0x1f1)])(providers_tokens_1[a163_0xfade13(0x1cb)][a163_0xfade13(0x1c6)])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;