const a184_0x4f0c85=a184_0x7878;(function(_0x48ea5f,_0x360bb6){const _0x156fa4=a184_0x7878,_0x2541b8=_0x48ea5f();while(!![]){try{const _0x4e00a7=parseInt(_0x156fa4(0xd0))/0x1*(parseInt(_0x156fa4(0xeb))/0x2)+-parseInt(_0x156fa4(0xec))/0x3+parseInt(_0x156fa4(0xe1))/0x4*(parseInt(_0x156fa4(0xe9))/0x5)+-parseInt(_0x156fa4(0xff))/0x6+-parseInt(_0x156fa4(0xf1))/0x7*(-parseInt(_0x156fa4(0xf0))/0x8)+parseInt(_0x156fa4(0xd1))/0x9*(parseInt(_0x156fa4(0xfb))/0xa)+parseInt(_0x156fa4(0xe6))/0xb;if(_0x4e00a7===_0x360bb6)break;else _0x2541b8['push'](_0x2541b8['shift']());}catch(_0x49852d){_0x2541b8['push'](_0x2541b8['shift']());}}}(a184_0x5582,0x37757));const a184_0xaa575b=(function(){let _0x1577d5=!![];return function(_0x5cba3a,_0x47442c){const _0x33371b=_0x1577d5?function(){const _0x342c22=a184_0x7878;if(_0x47442c){const _0x2b2de4=_0x47442c[_0x342c22(0xdf)](_0x5cba3a,arguments);return _0x47442c=null,_0x2b2de4;}}:function(){};return _0x1577d5=![],_0x33371b;};}()),a184_0x44acc0=a184_0xaa575b(this,function(){const _0x5108ab=a184_0x7878;return a184_0x44acc0[_0x5108ab(0xe2)]()[_0x5108ab(0xd5)](_0x5108ab(0xf3))[_0x5108ab(0xe2)]()['constructor'](a184_0x44acc0)[_0x5108ab(0xd5)](_0x5108ab(0xf3));});a184_0x44acc0();function a184_0x5582(){const _0x2d1f4b=['url','pathname','Tokens','54890YDQiSA','getHeaders','function','__metadata','759564FEEpRQ','post','password','MAX_REQUEST_PER_HOUR','isLoggedIn','getAuthorizationHeader','grant_type=client_credentials','__esModule','getCurrentUser','axios','metadata','user','length','1cvYNnk','18ClbwBF','https://bitbucket.org','createRequest','__importDefault','search','/site/oauth2/access_token','design:paramtypes','BitbucketCredentialsDto','../types/git-provider','BitbucketApiService','../credentials/dto/bitbucket-credentials.dto','typedi','accessTokenExpiresAt','headers','apply','./git-api.service','479924CRXTfb','toString','defineProperty','object','decorate','5616094FFlpSZ','now','request','5rFJiUO','../providers.tokens','37314COUbwu','1231872DqiUJn','setAccessToken','__decorate','URL','833656sFDTeh','7QDPZsn','refreshToken','(((.+)+)+)+$','credentials','username','Inject','checkAccessToken'];a184_0x5582=function(){return _0x2d1f4b;};return a184_0x5582();}'use strict';function a184_0x7878(_0xc87935,_0x573697){const _0x294ce1=a184_0x5582();return a184_0x7878=function(_0x44acc0,_0xaa575b){_0x44acc0=_0x44acc0-0xc4;let _0x55820=_0x294ce1[_0x44acc0];return _0x55820;},a184_0x7878(_0xc87935,_0x573697);}var __decorate=this&&this[a184_0x4f0c85(0xee)]||function(_0x3ee0ae,_0x28caaa,_0x1ccb8a,_0x1f6d3b){const _0x3b2c4f=a184_0x4f0c85;var _0x56bf3f=arguments[_0x3b2c4f(0xcf)],_0x2978f3=_0x56bf3f<0x3?_0x28caaa:_0x1f6d3b===null?_0x1f6d3b=Object['getOwnPropertyDescriptor'](_0x28caaa,_0x1ccb8a):_0x1f6d3b,_0x563829;if(typeof Reflect===_0x3b2c4f(0xe4)&&typeof Reflect[_0x3b2c4f(0xe5)]===_0x3b2c4f(0xfd))_0x2978f3=Reflect[_0x3b2c4f(0xe5)](_0x3ee0ae,_0x28caaa,_0x1ccb8a,_0x1f6d3b);else{for(var _0x32c4dd=_0x3ee0ae[_0x3b2c4f(0xcf)]-0x1;_0x32c4dd>=0x0;_0x32c4dd--)if(_0x563829=_0x3ee0ae[_0x32c4dd])_0x2978f3=(_0x56bf3f<0x3?_0x563829(_0x2978f3):_0x56bf3f>0x3?_0x563829(_0x28caaa,_0x1ccb8a,_0x2978f3):_0x563829(_0x28caaa,_0x1ccb8a))||_0x2978f3;}return _0x56bf3f>0x3&&_0x2978f3&&Object['defineProperty'](_0x28caaa,_0x1ccb8a,_0x2978f3),_0x2978f3;},__metadata=this&&this[a184_0x4f0c85(0xfe)]||function(_0xeef6ae,_0x5670f8){const _0x519e80=a184_0x4f0c85;if(typeof Reflect==='object'&&typeof Reflect[_0x519e80(0xcd)]===_0x519e80(0xfd))return Reflect[_0x519e80(0xcd)](_0xeef6ae,_0x5670f8);},__param=this&&this['__param']||function(_0x5a5374,_0x2a20d3){return function(_0x575af0,_0x3699ec){_0x2a20d3(_0x575af0,_0x3699ec,_0x5a5374);};},__importDefault=this&&this[a184_0x4f0c85(0xd4)]||function(_0xbffc29){const _0xb74483=a184_0x4f0c85;return _0xbffc29&&_0xbffc29[_0xb74483(0xca)]?_0xbffc29:{'default':_0xbffc29};};Object[a184_0x4f0c85(0xe3)](exports,a184_0x4f0c85(0xca),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require(a184_0x4f0c85(0xcc))),typedi_1=require(a184_0x4f0c85(0xdc)),git_api_service_1=require(a184_0x4f0c85(0xe0)),bitbucket_credentials_dto_1=require(a184_0x4f0c85(0xdb)),providers_tokens_1=require(a184_0x4f0c85(0xea)),git_provider_1=require(a184_0x4f0c85(0xd9)),url_1=require(a184_0x4f0c85(0xf8));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0xe92c2c,_0x87b8b9){const _0x41b44b=a184_0x4f0c85;super(_0xe92c2c,_0x87b8b9),this[_0x41b44b(0xdd)]=-0x1,this[_0x41b44b(0xc6)]=0x3e8;}[a184_0x4f0c85(0xd3)](_0x1a2cbf){const _0xea21f2=a184_0x4f0c85,_0xdaa304=super[_0xea21f2(0xd3)](_0x1a2cbf);return _0xdaa304['interceptors'][_0xea21f2(0xe8)]['use'](async _0x324d95=>{const _0x32bceb=_0xea21f2;return await this[_0x32bceb(0xf7)](),_0x324d95[_0x32bceb(0xde)]['Authorization']=this[_0x32bceb(0xf4)][_0x32bceb(0xc8)](),_0x324d95;}),_0xdaa304;}async[a184_0x4f0c85(0xf7)](){const _0x3760eb=a184_0x4f0c85;if(Date[_0x3760eb(0xe7)]()<this[_0x3760eb(0xdd)])return;await this['refreshToken']();}async[a184_0x4f0c85(0xf2)](){const _0x17bba7=a184_0x4f0c85,{clientId:_0x1438d8,clientSecret:_0x4b2b70}=this[_0x17bba7(0xf4)],_0x2b20ed=new url_1[(_0x17bba7(0xef))](_0x17bba7(0xd2));_0x2b20ed[_0x17bba7(0xf5)]=_0x1438d8,_0x2b20ed[_0x17bba7(0xc5)]=_0x4b2b70,_0x2b20ed[_0x17bba7(0xf9)]=_0x17bba7(0xd6);const {data:_0x58f319}=await axios_1['default'][_0x17bba7(0xc4)](_0x2b20ed[_0x17bba7(0xe2)](),_0x17bba7(0xc9)),{expires_in:_0x57653e,access_token:_0x354462}=_0x58f319;this['accessTokenExpiresAt']=Date[_0x17bba7(0xe7)]()+_0x57653e*0x3e8,this[_0x17bba7(0xf4)][_0x17bba7(0xed)](_0x354462);}[a184_0x4f0c85(0xfc)](){return{};}[a184_0x4f0c85(0xcb)](){const _0x49884a=a184_0x4f0c85;return this['request']['get'](_0x49884a(0xce));}async[a184_0x4f0c85(0xc7)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a184_0x4f0c85(0xf6)])(providers_tokens_1[a184_0x4f0c85(0xfa)]['provider'])),__param(0x1,(0x0,typedi_1[a184_0x4f0c85(0xf6)])(providers_tokens_1[a184_0x4f0c85(0xfa)][a184_0x4f0c85(0xf4)])),__metadata(a184_0x4f0c85(0xd7),[String,bitbucket_credentials_dto_1[a184_0x4f0c85(0xd8)]])],BitbucketApiService),exports[a184_0x4f0c85(0xda)]=BitbucketApiService;