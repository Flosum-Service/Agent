const a194_0x42dffd=a194_0x1cb7;(function(_0x363288,_0xde81ef){const _0x968d0b=a194_0x1cb7,_0x4fa76a=_0x363288();while(!![]){try{const _0x4cace6=-parseInt(_0x968d0b(0x204))/0x1*(-parseInt(_0x968d0b(0x1e5))/0x2)+-parseInt(_0x968d0b(0x1da))/0x3*(parseInt(_0x968d0b(0x209))/0x4)+parseInt(_0x968d0b(0x1d9))/0x5*(parseInt(_0x968d0b(0x1fa))/0x6)+parseInt(_0x968d0b(0x1f9))/0x7+-parseInt(_0x968d0b(0x1e2))/0x8+-parseInt(_0x968d0b(0x1d8))/0x9*(-parseInt(_0x968d0b(0x1de))/0xa)+-parseInt(_0x968d0b(0x1d5))/0xb*(parseInt(_0x968d0b(0x1f3))/0xc);if(_0x4cace6===_0xde81ef)break;else _0x4fa76a['push'](_0x4fa76a['shift']());}catch(_0x1c6145){_0x4fa76a['push'](_0x4fa76a['shift']());}}}(a194_0x39d9,0x8847c));const a194_0x34cbeb=(function(){let _0x5659cd=!![];return function(_0x586f0f,_0x4905a3){const _0x4f2983=_0x5659cd?function(){const _0x1f8628=a194_0x1cb7;if(_0x4905a3){const _0x1886d4=_0x4905a3[_0x1f8628(0x1e1)](_0x586f0f,arguments);return _0x4905a3=null,_0x1886d4;}}:function(){};return _0x5659cd=![],_0x4f2983;};}()),a194_0x289a30=a194_0x34cbeb(this,function(){const _0x125314=a194_0x1cb7;return a194_0x289a30['toString']()[_0x125314(0x1d3)](_0x125314(0x1fe))['toString']()['constructor'](a194_0x289a30)['search'](_0x125314(0x1fe));});a194_0x289a30();'use strict';var __decorate=this&&this['__decorate']||function(_0x5b36a8,_0x5dc44d,_0xd57847,_0x3c3d20){const _0x235b30=a194_0x1cb7;var _0x20a51f=arguments[_0x235b30(0x20a)],_0x2ef932=_0x20a51f<0x3?_0x5dc44d:_0x3c3d20===null?_0x3c3d20=Object[_0x235b30(0x1dd)](_0x5dc44d,_0xd57847):_0x3c3d20,_0x4bfa9e;if(typeof Reflect==='object'&&typeof Reflect[_0x235b30(0x1f4)]===_0x235b30(0x201))_0x2ef932=Reflect[_0x235b30(0x1f4)](_0x5b36a8,_0x5dc44d,_0xd57847,_0x3c3d20);else{for(var _0x51305a=_0x5b36a8['length']-0x1;_0x51305a>=0x0;_0x51305a--)if(_0x4bfa9e=_0x5b36a8[_0x51305a])_0x2ef932=(_0x20a51f<0x3?_0x4bfa9e(_0x2ef932):_0x20a51f>0x3?_0x4bfa9e(_0x5dc44d,_0xd57847,_0x2ef932):_0x4bfa9e(_0x5dc44d,_0xd57847))||_0x2ef932;}return _0x20a51f>0x3&&_0x2ef932&&Object[_0x235b30(0x1d0)](_0x5dc44d,_0xd57847,_0x2ef932),_0x2ef932;},__metadata=this&&this[a194_0x42dffd(0x1d2)]||function(_0x289a5a,_0x448252){const _0x2879aa=a194_0x42dffd;if(typeof Reflect===_0x2879aa(0x203)&&typeof Reflect[_0x2879aa(0x200)]===_0x2879aa(0x201))return Reflect[_0x2879aa(0x200)](_0x289a5a,_0x448252);},__param=this&&this[a194_0x42dffd(0x1d4)]||function(_0x3eff8f,_0x167072){return function(_0x108536,_0x39c348){_0x167072(_0x108536,_0x39c348,_0x3eff8f);};},__importDefault=this&&this[a194_0x42dffd(0x1ec)]||function(_0x312a4b){const _0x29bf58=a194_0x42dffd;return _0x312a4b&&_0x312a4b[_0x29bf58(0x1d6)]?_0x312a4b:{'default':_0x312a4b};};function a194_0x39d9(){const _0x59cbe3=['post','request','apply','1552632jemQMc','username','isLoggedIn','197522urBUbn','../types/git-provider','get','getHeaders','Authorization','typedi','Service','__importDefault','credentials','user','BitbucketCredentialsDto','URL','getCurrentUser','Tokens','84WcRxjh','decorate','url','/site/oauth2/access_token','use','now','7572040uDprxx','18IwTZDz','GitApiService','toString','setAccessToken','(((.+)+)+)+$','interceptors','metadata','function','headers','object','7EJQLEk','grant_type=client_credentials','refreshToken','accessTokenExpiresAt','https://bitbucket.org','724mkzsUr','length','createRequest','defineProperty','Inject','__metadata','search','__param','636383qENkoV','__esModule','checkAccessToken','4761zRaFRI','189550dIspKw','14757WzJpcW','MAX_REQUEST_PER_HOUR','./git-api.service','getOwnPropertyDescriptor','3040PugIUA'];a194_0x39d9=function(){return _0x59cbe3;};return a194_0x39d9();}Object['defineProperty'](exports,a194_0x42dffd(0x1d6),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require('axios')),typedi_1=require(a194_0x42dffd(0x1ea)),git_api_service_1=require(a194_0x42dffd(0x1dc)),bitbucket_credentials_dto_1=require('../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require('../providers.tokens'),git_provider_1=require(a194_0x42dffd(0x1e6)),url_1=require(a194_0x42dffd(0x1f5));function a194_0x1cb7(_0x171c6e,_0x50b0b9){const _0x2a417a=a194_0x39d9();return a194_0x1cb7=function(_0x289a30,_0x34cbeb){_0x289a30=_0x289a30-0x1d0;let _0x39d967=_0x2a417a[_0x289a30];return _0x39d967;},a194_0x1cb7(_0x171c6e,_0x50b0b9);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x42dffd(0x1fb)]{constructor(_0x26a47d,_0x3c51f3){const _0x104eca=a194_0x42dffd;super(_0x26a47d,_0x3c51f3),this[_0x104eca(0x207)]=-0x1,this[_0x104eca(0x1db)]=0x3e8;}[a194_0x42dffd(0x20b)](_0x4e59ad){const _0x235adc=a194_0x42dffd,_0x44e838=super[_0x235adc(0x20b)](_0x4e59ad);return _0x44e838[_0x235adc(0x1ff)][_0x235adc(0x1e0)][_0x235adc(0x1f7)](async _0x5139cc=>{const _0x396c3e=_0x235adc;return await this[_0x396c3e(0x1d7)](),_0x5139cc[_0x396c3e(0x202)][_0x396c3e(0x1e9)]=this[_0x396c3e(0x1ed)]['getAuthorizationHeader'](),_0x5139cc;}),_0x44e838;}async['checkAccessToken'](){const _0x46297a=a194_0x42dffd;if(Date[_0x46297a(0x1f8)]()<this[_0x46297a(0x207)])return;await this[_0x46297a(0x206)]();}async[a194_0x42dffd(0x206)](){const _0x233ef5=a194_0x42dffd,{clientId:_0x339546,clientSecret:_0x19cc3e}=this[_0x233ef5(0x1ed)],_0x5e3774=new url_1[(_0x233ef5(0x1f0))](_0x233ef5(0x208));_0x5e3774[_0x233ef5(0x1e3)]=_0x339546,_0x5e3774['password']=_0x19cc3e,_0x5e3774['pathname']=_0x233ef5(0x1f6);const {data:_0x32c241}=await axios_1['default'][_0x233ef5(0x1df)](_0x5e3774[_0x233ef5(0x1fc)](),_0x233ef5(0x205)),{expires_in:_0xa892d3,access_token:_0xe007eb}=_0x32c241;this[_0x233ef5(0x207)]=Date['now']()+_0xa892d3*0x3e8,this[_0x233ef5(0x1ed)][_0x233ef5(0x1fd)](_0xe007eb);}[a194_0x42dffd(0x1e8)](){return{};}[a194_0x42dffd(0x1f1)](){const _0x30fb07=a194_0x42dffd;return this['request'][_0x30fb07(0x1e7)](_0x30fb07(0x1ee));}async[a194_0x42dffd(0x1e4)](){const _0x11dcb2=a194_0x42dffd;return await this[_0x11dcb2(0x1f1)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a194_0x42dffd(0x1eb)])(),__param(0x0,(0x0,typedi_1[a194_0x42dffd(0x1d1)])(providers_tokens_1[a194_0x42dffd(0x1f2)]['provider'])),__param(0x1,(0x0,typedi_1[a194_0x42dffd(0x1d1)])(providers_tokens_1[a194_0x42dffd(0x1f2)]['credentials'])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1[a194_0x42dffd(0x1ef)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;