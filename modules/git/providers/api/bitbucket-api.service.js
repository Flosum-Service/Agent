const a194_0x2932a5=a194_0x491a;(function(_0x5aac8b,_0x3219ed){const _0x30b359=a194_0x491a,_0x7aa124=_0x5aac8b();while(!![]){try{const _0x11cbc2=parseInt(_0x30b359(0x12c))/0x1+parseInt(_0x30b359(0x144))/0x2+parseInt(_0x30b359(0x155))/0x3*(-parseInt(_0x30b359(0x157))/0x4)+parseInt(_0x30b359(0x140))/0x5+-parseInt(_0x30b359(0x14f))/0x6+parseInt(_0x30b359(0x13c))/0x7*(parseInt(_0x30b359(0x158))/0x8)+parseInt(_0x30b359(0x137))/0x9*(parseInt(_0x30b359(0x125))/0xa);if(_0x11cbc2===_0x3219ed)break;else _0x7aa124['push'](_0x7aa124['shift']());}catch(_0x35f026){_0x7aa124['push'](_0x7aa124['shift']());}}}(a194_0x2f33,0xae7ec));const a194_0x52b142=(function(){let _0x2621b1=!![];return function(_0x438a14,_0x185ff4){const _0x21e141=_0x2621b1?function(){if(_0x185ff4){const _0x145b54=_0x185ff4['apply'](_0x438a14,arguments);return _0x185ff4=null,_0x145b54;}}:function(){};return _0x2621b1=![],_0x21e141;};}()),a194_0x14aa82=a194_0x52b142(this,function(){const _0x465e33=a194_0x491a;return a194_0x14aa82[_0x465e33(0x13e)]()[_0x465e33(0x124)](_0x465e33(0x159))['toString']()['constructor'](a194_0x14aa82)[_0x465e33(0x124)](_0x465e33(0x159));});a194_0x14aa82();'use strict';var __decorate=this&&this[a194_0x2932a5(0x153)]||function(_0x393881,_0x4fd6c3,_0x2f660d,_0xc3e23f){const _0x111a7c=a194_0x2932a5;var _0x3941aa=arguments['length'],_0x28f624=_0x3941aa<0x3?_0x4fd6c3:_0xc3e23f===null?_0xc3e23f=Object[_0x111a7c(0x14e)](_0x4fd6c3,_0x2f660d):_0xc3e23f,_0x2b9ef5;if(typeof Reflect===_0x111a7c(0x12a)&&typeof Reflect['decorate']===_0x111a7c(0x135))_0x28f624=Reflect[_0x111a7c(0x146)](_0x393881,_0x4fd6c3,_0x2f660d,_0xc3e23f);else{for(var _0xdab2fc=_0x393881[_0x111a7c(0x13b)]-0x1;_0xdab2fc>=0x0;_0xdab2fc--)if(_0x2b9ef5=_0x393881[_0xdab2fc])_0x28f624=(_0x3941aa<0x3?_0x2b9ef5(_0x28f624):_0x3941aa>0x3?_0x2b9ef5(_0x4fd6c3,_0x2f660d,_0x28f624):_0x2b9ef5(_0x4fd6c3,_0x2f660d))||_0x28f624;}return _0x3941aa>0x3&&_0x28f624&&Object['defineProperty'](_0x4fd6c3,_0x2f660d,_0x28f624),_0x28f624;},__metadata=this&&this[a194_0x2932a5(0x126)]||function(_0x5deab4,_0x48cf0b){const _0x880e7d=a194_0x2932a5;if(typeof Reflect==='object'&&typeof Reflect[_0x880e7d(0x121)]===_0x880e7d(0x135))return Reflect['metadata'](_0x5deab4,_0x48cf0b);},__param=this&&this[a194_0x2932a5(0x11f)]||function(_0x27b837,_0x9507eb){return function(_0x131588,_0x505c09){_0x9507eb(_0x131588,_0x505c09,_0x27b837);};},__importDefault=this&&this['__importDefault']||function(_0x3f4319){const _0x339957=a194_0x2932a5;return _0x3f4319&&_0x3f4319[_0x339957(0x150)]?_0x3f4319:{'default':_0x3f4319};};Object[a194_0x2932a5(0x143)](exports,a194_0x2932a5(0x150),{'value':!![]}),exports[a194_0x2932a5(0x142)]=void 0x0;const axios_1=__importDefault(require(a194_0x2932a5(0x131))),typedi_1=require('typedi'),git_api_service_1=require(a194_0x2932a5(0x129)),bitbucket_credentials_dto_1=require('../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a194_0x2932a5(0x15a)),git_provider_1=require('../types/git-provider'),url_1=require(a194_0x2932a5(0x123));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x2932a5(0x122)]{constructor(_0x15786d,_0x1fb305){const _0x3e1508=a194_0x2932a5;super(_0x15786d,_0x1fb305),this[_0x3e1508(0x13f)]=-0x1,this[_0x3e1508(0x128)]=0x3e8;}[a194_0x2932a5(0x148)](_0x24cef3){const _0x8b2731=a194_0x2932a5,_0x33bb86=super[_0x8b2731(0x148)](_0x24cef3);return _0x33bb86[_0x8b2731(0x151)][_0x8b2731(0x139)][_0x8b2731(0x149)](async _0x2eac98=>{const _0x3607c7=_0x8b2731;return await this[_0x3607c7(0x12d)](),_0x2eac98[_0x3607c7(0x120)][_0x3607c7(0x12b)]=this[_0x3607c7(0x145)][_0x3607c7(0x14d)](),_0x2eac98;}),_0x33bb86;}async[a194_0x2932a5(0x12d)](){const _0x3a7865=a194_0x2932a5;if(Date[_0x3a7865(0x13a)]()<this[_0x3a7865(0x13f)])return;await this[_0x3a7865(0x127)]();}async[a194_0x2932a5(0x127)](){const _0x4ff015=a194_0x2932a5,{clientId:_0x308249,clientSecret:_0x55cb4e}=this[_0x4ff015(0x145)],_0x1f52a7=new url_1[(_0x4ff015(0x138))](_0x4ff015(0x12e));_0x1f52a7[_0x4ff015(0x14c)]=_0x308249,_0x1f52a7[_0x4ff015(0x133)]=_0x55cb4e,_0x1f52a7['pathname']=_0x4ff015(0x134);const {data:_0x35fdff}=await axios_1[_0x4ff015(0x132)]['post'](_0x1f52a7['toString'](),_0x4ff015(0x14a)),{expires_in:_0x5a9b10,access_token:_0x2fc818}=_0x35fdff;this[_0x4ff015(0x13f)]=Date['now']()+_0x5a9b10*0x3e8,this['credentials'][_0x4ff015(0x141)](_0x2fc818);}[a194_0x2932a5(0x154)](){return{};}['getCurrentUser'](){const _0x3becfb=a194_0x2932a5;return this['request'][_0x3becfb(0x130)]('user');}async['isLoggedIn'](){const _0x1298a2=a194_0x2932a5;return await this[_0x1298a2(0x136)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a194_0x2932a5(0x147)])(),__param(0x0,(0x0,typedi_1[a194_0x2932a5(0x156)])(providers_tokens_1['Tokens'][a194_0x2932a5(0x12f)])),__param(0x1,(0x0,typedi_1[a194_0x2932a5(0x156)])(providers_tokens_1[a194_0x2932a5(0x13d)][a194_0x2932a5(0x145)])),__metadata(a194_0x2932a5(0x152),[String,bitbucket_credentials_dto_1[a194_0x2932a5(0x14b)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;function a194_0x491a(_0x49b51b,_0x186f70){const _0x558958=a194_0x2f33();return a194_0x491a=function(_0x14aa82,_0x52b142){_0x14aa82=_0x14aa82-0x11f;let _0x2f3368=_0x558958[_0x14aa82];return _0x2f3368;},a194_0x491a(_0x49b51b,_0x186f70);}function a194_0x2f33(){const _0x6effc5=['grant_type=client_credentials','BitbucketCredentialsDto','username','getAuthorizationHeader','getOwnPropertyDescriptor','5474538KjhTjl','__esModule','interceptors','design:paramtypes','__decorate','getHeaders','331248Flksiv','Inject','24bacUGY','210448ucckMz','(((.+)+)+)+$','../providers.tokens','__param','headers','metadata','GitApiService','url','search','410OMXgDd','__metadata','refreshToken','MAX_REQUEST_PER_HOUR','./git-api.service','object','Authorization','508626gGUixC','checkAccessToken','https://bitbucket.org','provider','get','axios','default','password','/site/oauth2/access_token','function','getCurrentUser','25317BNNnIb','URL','request','now','length','91XVkwad','Tokens','toString','accessTokenExpiresAt','6234215VVuORP','setAccessToken','BitbucketApiService','defineProperty','153742zjKliW','credentials','decorate','Service','createRequest','use'];a194_0x2f33=function(){return _0x6effc5;};return a194_0x2f33();}