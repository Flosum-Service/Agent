const a194_0x9e30ad=a194_0x350c;(function(_0x336175,_0xa83f37){const _0x256f8d=a194_0x350c,_0x20d464=_0x336175();while(!![]){try{const _0x423e99=parseInt(_0x256f8d(0x1ba))/0x1*(parseInt(_0x256f8d(0x1e0))/0x2)+parseInt(_0x256f8d(0x1dc))/0x3*(-parseInt(_0x256f8d(0x1ca))/0x4)+-parseInt(_0x256f8d(0x1bf))/0x5*(-parseInt(_0x256f8d(0x1b5))/0x6)+-parseInt(_0x256f8d(0x1b8))/0x7+-parseInt(_0x256f8d(0x1e7))/0x8+-parseInt(_0x256f8d(0x1df))/0x9*(parseInt(_0x256f8d(0x1b4))/0xa)+-parseInt(_0x256f8d(0x1d8))/0xb*(-parseInt(_0x256f8d(0x1cb))/0xc);if(_0x423e99===_0xa83f37)break;else _0x20d464['push'](_0x20d464['shift']());}catch(_0x80b761){_0x20d464['push'](_0x20d464['shift']());}}}(a194_0xe32c,0x29e48));function a194_0xe32c(){const _0x118420=['grant_type=client_credentials','post','user','Authorization','accessTokenExpiresAt','../providers.tokens','../credentials/dto/bitbucket-credentials.dto','defineProperty','object','27290fWpmus','240axmTWh','decorate','function','2167249FiyjBx','(((.+)+)+)+$','12TkFmux','axios','Service','credentials','getHeaders','17965vLsQak','../types/git-provider','metadata','getOwnPropertyDescriptor','url','__importDefault','checkAccessToken','get','password','default','isLoggedIn','43084RjhaRY','10543548hyjvuf','URL','BitbucketApiService','createRequest','/site/oauth2/access_token','constructor','headers','provider','MAX_REQUEST_PER_HOUR','Inject','__decorate','https://bitbucket.org','getAuthorizationHeader','11QVFUET','typedi','getCurrentUser','setAccessToken','87CqPZvJ','username','__esModule','612uecwHo','22872PZRhqA','request','search','design:paramtypes','./git-api.service','apply','toString','1443608XpFlNL','__metadata'];a194_0xe32c=function(){return _0x118420;};return a194_0xe32c();}const a194_0x379c6a=(function(){let _0x3128e6=!![];return function(_0x2060e3,_0x35dcbe){const _0x60fb9e=_0x3128e6?function(){const _0x255150=a194_0x350c;if(_0x35dcbe){const _0x3a322b=_0x35dcbe[_0x255150(0x1e5)](_0x2060e3,arguments);return _0x35dcbe=null,_0x3a322b;}}:function(){};return _0x3128e6=![],_0x60fb9e;};}()),a194_0xefb8bd=a194_0x379c6a(this,function(){const _0x5ed076=a194_0x350c;return a194_0xefb8bd['toString']()['search'](_0x5ed076(0x1b9))[_0x5ed076(0x1e6)]()[_0x5ed076(0x1d0)](a194_0xefb8bd)[_0x5ed076(0x1e2)]('(((.+)+)+)+$');});a194_0xefb8bd();'use strict';function a194_0x350c(_0x2af048,_0x37e920){const _0x40ac22=a194_0xe32c();return a194_0x350c=function(_0xefb8bd,_0x379c6a){_0xefb8bd=_0xefb8bd-0x1b0;let _0xe32ce7=_0x40ac22[_0xefb8bd];return _0xe32ce7;},a194_0x350c(_0x2af048,_0x37e920);}var __decorate=this&&this[a194_0x9e30ad(0x1d5)]||function(_0x409d30,_0x588257,_0x5f40ee,_0x48bb8c){const _0xe82a25=a194_0x9e30ad;var _0x1a4589=arguments['length'],_0x21b9ff=_0x1a4589<0x3?_0x588257:_0x48bb8c===null?_0x48bb8c=Object[_0xe82a25(0x1c2)](_0x588257,_0x5f40ee):_0x48bb8c,_0x33bc99;if(typeof Reflect===_0xe82a25(0x1b3)&&typeof Reflect[_0xe82a25(0x1b6)]===_0xe82a25(0x1b7))_0x21b9ff=Reflect[_0xe82a25(0x1b6)](_0x409d30,_0x588257,_0x5f40ee,_0x48bb8c);else{for(var _0x11e716=_0x409d30['length']-0x1;_0x11e716>=0x0;_0x11e716--)if(_0x33bc99=_0x409d30[_0x11e716])_0x21b9ff=(_0x1a4589<0x3?_0x33bc99(_0x21b9ff):_0x1a4589>0x3?_0x33bc99(_0x588257,_0x5f40ee,_0x21b9ff):_0x33bc99(_0x588257,_0x5f40ee))||_0x21b9ff;}return _0x1a4589>0x3&&_0x21b9ff&&Object[_0xe82a25(0x1b2)](_0x588257,_0x5f40ee,_0x21b9ff),_0x21b9ff;},__metadata=this&&this[a194_0x9e30ad(0x1e8)]||function(_0x56f460,_0x4807fd){const _0x15a7c1=a194_0x9e30ad;if(typeof Reflect===_0x15a7c1(0x1b3)&&typeof Reflect[_0x15a7c1(0x1c1)]===_0x15a7c1(0x1b7))return Reflect[_0x15a7c1(0x1c1)](_0x56f460,_0x4807fd);},__param=this&&this['__param']||function(_0x5c67ce,_0xd547bf){return function(_0x3552a3,_0x42cffc){_0xd547bf(_0x3552a3,_0x42cffc,_0x5c67ce);};},__importDefault=this&&this[a194_0x9e30ad(0x1c4)]||function(_0x17f112){const _0x397952=a194_0x9e30ad;return _0x17f112&&_0x17f112[_0x397952(0x1de)]?_0x17f112:{'default':_0x17f112};};Object[a194_0x9e30ad(0x1b2)](exports,'__esModule',{'value':!![]}),exports[a194_0x9e30ad(0x1cd)]=void 0x0;const axios_1=__importDefault(require(a194_0x9e30ad(0x1bb))),typedi_1=require(a194_0x9e30ad(0x1d9)),git_api_service_1=require(a194_0x9e30ad(0x1e4)),bitbucket_credentials_dto_1=require(a194_0x9e30ad(0x1b1)),providers_tokens_1=require(a194_0x9e30ad(0x1b0)),git_provider_1=require(a194_0x9e30ad(0x1c0)),url_1=require(a194_0x9e30ad(0x1c3));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x3bfb34,_0x16f809){const _0x1a0801=a194_0x9e30ad;super(_0x3bfb34,_0x16f809),this['accessTokenExpiresAt']=-0x1,this[_0x1a0801(0x1d3)]=0x3e8;}['createRequest'](_0x3dd31e){const _0xe3a8fa=a194_0x9e30ad,_0x3235e6=super[_0xe3a8fa(0x1ce)](_0x3dd31e);return _0x3235e6['interceptors'][_0xe3a8fa(0x1e1)]['use'](async _0x8119de=>{const _0x25f3e2=_0xe3a8fa;return await this[_0x25f3e2(0x1c5)](),_0x8119de[_0x25f3e2(0x1d1)][_0x25f3e2(0x1ec)]=this['credentials'][_0x25f3e2(0x1d7)](),_0x8119de;}),_0x3235e6;}async[a194_0x9e30ad(0x1c5)](){const _0x25742e=a194_0x9e30ad;if(Date['now']()<this[_0x25742e(0x1ed)])return;await this['refreshToken']();}async['refreshToken'](){const _0x3ab8ee=a194_0x9e30ad,{clientId:_0x1679b2,clientSecret:_0x2a2b8c}=this[_0x3ab8ee(0x1bd)],_0x48bd13=new url_1[(_0x3ab8ee(0x1cc))](_0x3ab8ee(0x1d6));_0x48bd13[_0x3ab8ee(0x1dd)]=_0x1679b2,_0x48bd13[_0x3ab8ee(0x1c7)]=_0x2a2b8c,_0x48bd13['pathname']=_0x3ab8ee(0x1cf);const {data:_0x106173}=await axios_1[_0x3ab8ee(0x1c8)][_0x3ab8ee(0x1ea)](_0x48bd13[_0x3ab8ee(0x1e6)](),_0x3ab8ee(0x1e9)),{expires_in:_0x4aa022,access_token:_0x269c0f}=_0x106173;this['accessTokenExpiresAt']=Date['now']()+_0x4aa022*0x3e8,this['credentials'][_0x3ab8ee(0x1db)](_0x269c0f);}[a194_0x9e30ad(0x1be)](){return{};}[a194_0x9e30ad(0x1da)](){const _0x267d28=a194_0x9e30ad;return this['request'][_0x267d28(0x1c6)](_0x267d28(0x1eb));}async[a194_0x9e30ad(0x1c9)](){const _0x5167ae=a194_0x9e30ad;return await this[_0x5167ae(0x1da)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a194_0x9e30ad(0x1bc)])(),__param(0x0,(0x0,typedi_1[a194_0x9e30ad(0x1d4)])(providers_tokens_1['Tokens'][a194_0x9e30ad(0x1d2)])),__param(0x1,(0x0,typedi_1[a194_0x9e30ad(0x1d4)])(providers_tokens_1['Tokens'][a194_0x9e30ad(0x1bd)])),__metadata(a194_0x9e30ad(0x1e3),[String,bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketApiService),exports[a194_0x9e30ad(0x1cd)]=BitbucketApiService;