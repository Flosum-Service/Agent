const a163_0x1eac91=a163_0x356b;(function(_0x3fd970,_0x2764ec){const _0x1d2fc9=a163_0x356b,_0x37c193=_0x3fd970();while(!![]){try{const _0x4e0ec6=-parseInt(_0x1d2fc9(0x166))/0x1+parseInt(_0x1d2fc9(0x16c))/0x2*(-parseInt(_0x1d2fc9(0x191))/0x3)+parseInt(_0x1d2fc9(0x16f))/0x4*(parseInt(_0x1d2fc9(0x18a))/0x5)+-parseInt(_0x1d2fc9(0x193))/0x6*(parseInt(_0x1d2fc9(0x186))/0x7)+-parseInt(_0x1d2fc9(0x178))/0x8*(-parseInt(_0x1d2fc9(0x15c))/0x9)+parseInt(_0x1d2fc9(0x161))/0xa*(parseInt(_0x1d2fc9(0x185))/0xb)+parseInt(_0x1d2fc9(0x17d))/0xc;if(_0x4e0ec6===_0x2764ec)break;else _0x37c193['push'](_0x37c193['shift']());}catch(_0x2330d8){_0x37c193['push'](_0x37c193['shift']());}}}(a163_0x33ba,0x8cf15));const a163_0xc90ba3=(function(){let _0x2016e8=!![];return function(_0x1c126f,_0x53e913){const _0x460875=_0x2016e8?function(){const _0x251f39=a163_0x356b;if(_0x53e913){const _0x596e63=_0x53e913[_0x251f39(0x187)](_0x1c126f,arguments);return _0x53e913=null,_0x596e63;}}:function(){};return _0x2016e8=![],_0x460875;};}()),a163_0x5d42e8=a163_0xc90ba3(this,function(){const _0x3996eb=a163_0x356b;return a163_0x5d42e8[_0x3996eb(0x15b)]()['search'](_0x3996eb(0x179))[_0x3996eb(0x15b)]()[_0x3996eb(0x172)](a163_0x5d42e8)['search'](_0x3996eb(0x179));});a163_0x5d42e8();'use strict';var __decorate=this&&this[a163_0x1eac91(0x176)]||function(_0x4b63cc,_0x3bdb16,_0x5d5867,_0x220ecb){const _0x33dcc5=a163_0x1eac91;var _0xa6fa71=arguments['length'],_0x1ccb24=_0xa6fa71<0x3?_0x3bdb16:_0x220ecb===null?_0x220ecb=Object[_0x33dcc5(0x18f)](_0x3bdb16,_0x5d5867):_0x220ecb,_0x15267a;if(typeof Reflect===_0x33dcc5(0x175)&&typeof Reflect['decorate']===_0x33dcc5(0x171))_0x1ccb24=Reflect['decorate'](_0x4b63cc,_0x3bdb16,_0x5d5867,_0x220ecb);else{for(var _0x3c9ff0=_0x4b63cc[_0x33dcc5(0x18b)]-0x1;_0x3c9ff0>=0x0;_0x3c9ff0--)if(_0x15267a=_0x4b63cc[_0x3c9ff0])_0x1ccb24=(_0xa6fa71<0x3?_0x15267a(_0x1ccb24):_0xa6fa71>0x3?_0x15267a(_0x3bdb16,_0x5d5867,_0x1ccb24):_0x15267a(_0x3bdb16,_0x5d5867))||_0x1ccb24;}return _0xa6fa71>0x3&&_0x1ccb24&&Object['defineProperty'](_0x3bdb16,_0x5d5867,_0x1ccb24),_0x1ccb24;},__metadata=this&&this['__metadata']||function(_0x3f4633,_0x22dc9a){const _0xdc7d16=a163_0x1eac91;if(typeof Reflect===_0xdc7d16(0x175)&&typeof Reflect[_0xdc7d16(0x190)]===_0xdc7d16(0x171))return Reflect[_0xdc7d16(0x190)](_0x3f4633,_0x22dc9a);},__param=this&&this[a163_0x1eac91(0x16e)]||function(_0x1cb5e8,_0x18a977){return function(_0x7e848a,_0xd7df72){_0x18a977(_0x7e848a,_0xd7df72,_0x1cb5e8);};},__importDefault=this&&this[a163_0x1eac91(0x17f)]||function(_0x17f5c8){const _0x3ea784=a163_0x1eac91;return _0x17f5c8&&_0x17f5c8[_0x3ea784(0x167)]?_0x17f5c8:{'default':_0x17f5c8};};Object[a163_0x1eac91(0x168)](exports,'__esModule',{'value':!![]}),exports[a163_0x1eac91(0x194)]=void 0x0;const axios_1=__importDefault(require(a163_0x1eac91(0x16a))),typedi_1=require(a163_0x1eac91(0x195)),git_api_service_1=require(a163_0x1eac91(0x192)),bitbucket_credentials_dto_1=require('../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a163_0x1eac91(0x17a)),git_provider_1=require(a163_0x1eac91(0x169)),url_1=require(a163_0x1eac91(0x188));function a163_0x356b(_0x38cf77,_0x15a226){const _0x388852=a163_0x33ba();return a163_0x356b=function(_0x5d42e8,_0xc90ba3){_0x5d42e8=_0x5d42e8-0x15b;let _0x33ba2a=_0x388852[_0x5d42e8];return _0x33ba2a;},a163_0x356b(_0x38cf77,_0x15a226);}let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x2ee5e2,_0x53bb2c){const _0x5ec6ee=a163_0x1eac91;super(_0x2ee5e2,_0x53bb2c),this['accessTokenExpiresAt']=-0x1,this[_0x5ec6ee(0x189)]=0x3e8;}[a163_0x1eac91(0x160)](_0x33072a){const _0x1d80b5=a163_0x1eac91,_0x11d965=super[_0x1d80b5(0x160)](_0x33072a);return _0x11d965[_0x1d80b5(0x17e)][_0x1d80b5(0x173)][_0x1d80b5(0x177)](async _0x40869a=>{const _0x5ca6dd=_0x1d80b5;return await this[_0x5ca6dd(0x18c)](),_0x40869a['headers']['Authorization']=this[_0x5ca6dd(0x182)][_0x5ca6dd(0x17b)](),_0x40869a;}),_0x11d965;}async[a163_0x1eac91(0x18c)](){const _0x85e1fa=a163_0x1eac91;if(Date[_0x85e1fa(0x16d)]()<this[_0x85e1fa(0x184)])return;await this[_0x85e1fa(0x15e)]();}async[a163_0x1eac91(0x15e)](){const _0x2501e5=a163_0x1eac91,{clientId:_0x1d85f8,clientSecret:_0x565910}=this['credentials'],_0x4f1834=new url_1['URL'](_0x2501e5(0x174));_0x4f1834['username']=_0x1d85f8,_0x4f1834[_0x2501e5(0x17c)]=_0x565910,_0x4f1834[_0x2501e5(0x16b)]=_0x2501e5(0x163);const {data:_0x277b2c}=await axios_1[_0x2501e5(0x15f)][_0x2501e5(0x180)](_0x4f1834[_0x2501e5(0x15b)](),_0x2501e5(0x165)),{expires_in:_0x1add29,access_token:_0x28a305}=_0x277b2c;this[_0x2501e5(0x184)]=Date[_0x2501e5(0x16d)]()+_0x1add29*0x3e8,this[_0x2501e5(0x182)]['setAccessToken'](_0x28a305);}[a163_0x1eac91(0x162)](){return{};}[a163_0x1eac91(0x18e)](){const _0x5ab0ce=a163_0x1eac91;return this[_0x5ab0ce(0x173)][_0x5ab0ce(0x164)]('user');}async[a163_0x1eac91(0x196)](){const _0x5a9790=a163_0x1eac91;return await this[_0x5a9790(0x18e)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a163_0x1eac91(0x183)])(),__param(0x0,(0x0,typedi_1[a163_0x1eac91(0x15d)])(providers_tokens_1[a163_0x1eac91(0x18d)][a163_0x1eac91(0x170)])),__param(0x1,(0x0,typedi_1[a163_0x1eac91(0x15d)])(providers_tokens_1['Tokens'][a163_0x1eac91(0x182)])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1[a163_0x1eac91(0x181)]])],BitbucketApiService),exports[a163_0x1eac91(0x194)]=BitbucketApiService;function a163_0x33ba(){const _0x2655dc=['refreshToken','default','createRequest','15830UfrPpu','getHeaders','/site/oauth2/access_token','get','grant_type=client_credentials','1007017yjIYyC','__esModule','defineProperty','../types/git-provider','axios','pathname','2lpTmTG','now','__param','25372dFbPCT','provider','function','constructor','request','https://bitbucket.org','object','__decorate','use','6879512pJHCMj','(((.+)+)+)+$','../providers.tokens','getAuthorizationHeader','password','2039868RjMSiS','interceptors','__importDefault','post','BitbucketCredentialsDto','credentials','Service','accessTokenExpiresAt','4103ghdEwY','6097dDjaZS','apply','url','MAX_REQUEST_PER_HOUR','725QyTYft','length','checkAccessToken','Tokens','getCurrentUser','getOwnPropertyDescriptor','metadata','220443oyxMlU','./git-api.service','6078weyVmF','BitbucketApiService','typedi','isLoggedIn','toString','9xRRHmC','Inject'];a163_0x33ba=function(){return _0x2655dc;};return a163_0x33ba();}