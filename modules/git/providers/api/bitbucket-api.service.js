const a157_0x9393fe=a157_0x34bf;(function(_0x1103ed,_0x582980){const _0x410a15=a157_0x34bf,_0x69ac1b=_0x1103ed();while(!![]){try{const _0x407039=-parseInt(_0x410a15(0x1aa))/0x1+-parseInt(_0x410a15(0x1b3))/0x2+parseInt(_0x410a15(0x1bd))/0x3+parseInt(_0x410a15(0x1a6))/0x4*(-parseInt(_0x410a15(0x1cb))/0x5)+-parseInt(_0x410a15(0x1ba))/0x6*(parseInt(_0x410a15(0x1c2))/0x7)+parseInt(_0x410a15(0x1cc))/0x8*(-parseInt(_0x410a15(0x1b1))/0x9)+-parseInt(_0x410a15(0x1c6))/0xa*(-parseInt(_0x410a15(0x1b6))/0xb);if(_0x407039===_0x582980)break;else _0x69ac1b['push'](_0x69ac1b['shift']());}catch(_0x2c88b1){_0x69ac1b['push'](_0x69ac1b['shift']());}}}(a157_0x4a0c,0xa07c6));const a157_0x516a3f=(function(){let _0x4d685f=!![];return function(_0x2d8e39,_0x3c720b){const _0x2ae2dd=_0x4d685f?function(){const _0x92dd3e=a157_0x34bf;if(_0x3c720b){const _0x3647a5=_0x3c720b[_0x92dd3e(0x1dc)](_0x2d8e39,arguments);return _0x3c720b=null,_0x3647a5;}}:function(){};return _0x4d685f=![],_0x2ae2dd;};}()),a157_0x57578a=a157_0x516a3f(this,function(){const _0x2fb4fa=a157_0x34bf;return a157_0x57578a[_0x2fb4fa(0x1b2)]()[_0x2fb4fa(0x1d1)]('(((.+)+)+)+$')[_0x2fb4fa(0x1b2)]()['constructor'](a157_0x57578a)[_0x2fb4fa(0x1d1)](_0x2fb4fa(0x1d3));});a157_0x57578a();'use strict';var __decorate=this&&this[a157_0x9393fe(0x1d9)]||function(_0x507949,_0x466aea,_0x4f8f28,_0x3cc843){const _0x121aa5=a157_0x9393fe;var _0x44acd2=arguments[_0x121aa5(0x1d7)],_0x58cc06=_0x44acd2<0x3?_0x466aea:_0x3cc843===null?_0x3cc843=Object['getOwnPropertyDescriptor'](_0x466aea,_0x4f8f28):_0x3cc843,_0x3521db;if(typeof Reflect==='object'&&typeof Reflect[_0x121aa5(0x1be)]===_0x121aa5(0x1d8))_0x58cc06=Reflect[_0x121aa5(0x1be)](_0x507949,_0x466aea,_0x4f8f28,_0x3cc843);else{for(var _0x49429a=_0x507949[_0x121aa5(0x1d7)]-0x1;_0x49429a>=0x0;_0x49429a--)if(_0x3521db=_0x507949[_0x49429a])_0x58cc06=(_0x44acd2<0x3?_0x3521db(_0x58cc06):_0x44acd2>0x3?_0x3521db(_0x466aea,_0x4f8f28,_0x58cc06):_0x3521db(_0x466aea,_0x4f8f28))||_0x58cc06;}return _0x44acd2>0x3&&_0x58cc06&&Object['defineProperty'](_0x466aea,_0x4f8f28,_0x58cc06),_0x58cc06;},__metadata=this&&this[a157_0x9393fe(0x1a9)]||function(_0xe01c92,_0x2532ba){const _0x2c3dce=a157_0x9393fe;if(typeof Reflect===_0x2c3dce(0x1c5)&&typeof Reflect['metadata']===_0x2c3dce(0x1d8))return Reflect[_0x2c3dce(0x1af)](_0xe01c92,_0x2532ba);},__param=this&&this[a157_0x9393fe(0x1bf)]||function(_0x3367b7,_0x4931b8){return function(_0x213a84,_0x400b95){_0x4931b8(_0x213a84,_0x400b95,_0x3367b7);};},__importDefault=this&&this[a157_0x9393fe(0x1b7)]||function(_0x30428a){return _0x30428a&&_0x30428a['__esModule']?_0x30428a:{'default':_0x30428a};};Object[a157_0x9393fe(0x1a3)](exports,a157_0x9393fe(0x1b5),{'value':!![]}),exports[a157_0x9393fe(0x1ac)]=void 0x0;function a157_0x34bf(_0x34ad49,_0x455e40){const _0x16277d=a157_0x4a0c();return a157_0x34bf=function(_0x57578a,_0x516a3f){_0x57578a=_0x57578a-0x1a2;let _0x4a0c39=_0x16277d[_0x57578a];return _0x4a0c39;},a157_0x34bf(_0x34ad49,_0x455e40);}const axios_1=__importDefault(require(a157_0x9393fe(0x1d5))),typedi_1=require(a157_0x9393fe(0x1cf)),git_api_service_1=require(a157_0x9393fe(0x1d2)),bitbucket_credentials_dto_1=require(a157_0x9393fe(0x1c9)),providers_tokens_1=require(a157_0x9393fe(0x1ad)),git_provider_1=require(a157_0x9393fe(0x1db)),url_1=require(a157_0x9393fe(0x1a8));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a157_0x9393fe(0x1d4)]{constructor(_0x2fa964,_0x57a884){const _0x51cade=a157_0x9393fe;super(_0x2fa964,_0x57a884),this[_0x51cade(0x1b8)]=-0x1,this[_0x51cade(0x1c3)]=0x3e8;}[a157_0x9393fe(0x1d0)](_0x4c60fa){const _0x47f53a=a157_0x9393fe,_0xdc9dd7=super[_0x47f53a(0x1d0)](_0x4c60fa);return _0xdc9dd7[_0x47f53a(0x1a7)][_0x47f53a(0x1ae)][_0x47f53a(0x1c4)](async _0x28db09=>{const _0x197f6c=_0x47f53a;return await this[_0x197f6c(0x1bb)](),_0x28db09[_0x197f6c(0x1ab)][_0x197f6c(0x1ca)]=this[_0x197f6c(0x1a4)][_0x197f6c(0x1bc)](),_0x28db09;}),_0xdc9dd7;}async[a157_0x9393fe(0x1bb)](){const _0x4b0c04=a157_0x9393fe;if(Date[_0x4b0c04(0x1b4)]()<this[_0x4b0c04(0x1b8)])return;await this[_0x4b0c04(0x1c1)]();}async[a157_0x9393fe(0x1c1)](){const _0x2e6efd=a157_0x9393fe,{clientId:_0x318d47,clientSecret:_0x10454d}=this[_0x2e6efd(0x1a4)],_0x166db5=new url_1[(_0x2e6efd(0x1a5))](_0x2e6efd(0x1cd));_0x166db5[_0x2e6efd(0x1dd)]=_0x318d47,_0x166db5['password']=_0x10454d,_0x166db5['pathname']=_0x2e6efd(0x1a2);const {data:_0x56c67e}=await axios_1[_0x2e6efd(0x1c8)]['post'](_0x166db5[_0x2e6efd(0x1b2)](),_0x2e6efd(0x1b0)),{expires_in:_0x270254,access_token:_0xbabcc4}=_0x56c67e;this[_0x2e6efd(0x1b8)]=Date[_0x2e6efd(0x1b4)]()+_0x270254*0x3e8,this[_0x2e6efd(0x1a4)]['setAccessToken'](_0xbabcc4);}['getHeaders'](){return{};}[a157_0x9393fe(0x1c7)](){const _0x6a347d=a157_0x9393fe;return this['request'][_0x6a347d(0x1b9)](_0x6a347d(0x1da));}async[a157_0x9393fe(0x1c0)](){const _0x449c1c=a157_0x9393fe;return await this[_0x449c1c(0x1c7)](),!![];}};function a157_0x4a0c(){const _0xbe7bca=['createRequest','search','./git-api.service','(((.+)+)+)+$','GitApiService','axios','Service','length','function','__decorate','user','../types/git-provider','apply','username','Inject','/site/oauth2/access_token','defineProperty','credentials','URL','73520RbBlvp','interceptors','url','__metadata','1086913RuoNJD','headers','BitbucketApiService','../providers.tokens','request','metadata','grant_type=client_credentials','38142YHECYQ','toString','1305774tCfIuJ','now','__esModule','15598OGNGuV','__importDefault','accessTokenExpiresAt','get','25458wIOmJE','checkAccessToken','getAuthorizationHeader','1728378PpRIJC','decorate','__param','isLoggedIn','refreshToken','966EPiJre','MAX_REQUEST_PER_HOUR','use','object','20390vWEfHQ','getCurrentUser','default','../credentials/dto/bitbucket-credentials.dto','Authorization','65aOqVoO','464aDLvgF','https://bitbucket.org','Tokens','typedi'];a157_0x4a0c=function(){return _0xbe7bca;};return a157_0x4a0c();}BitbucketApiService=__decorate([(0x0,typedi_1[a157_0x9393fe(0x1d6)])(),__param(0x0,(0x0,typedi_1[a157_0x9393fe(0x1de)])(providers_tokens_1[a157_0x9393fe(0x1ce)]['provider'])),__param(0x1,(0x0,typedi_1[a157_0x9393fe(0x1de)])(providers_tokens_1[a157_0x9393fe(0x1ce)][a157_0x9393fe(0x1a4)])),__metadata('design:paramtypes',[String,bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketApiService),exports[a157_0x9393fe(0x1ac)]=BitbucketApiService;