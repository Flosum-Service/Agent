const a185_0x57cc93=a185_0x5791;function a185_0x5791(_0x583b55,_0x2e2c9b){const _0x758fc=a185_0x15fd();return a185_0x5791=function(_0x478a02,_0x9cb40){_0x478a02=_0x478a02-0x191;let _0x15fdff=_0x758fc[_0x478a02];return _0x15fdff;},a185_0x5791(_0x583b55,_0x2e2c9b);}(function(_0x5a0d24,_0x211a0e){const _0x5e1af7=a185_0x5791,_0x3cd511=_0x5a0d24();while(!![]){try{const _0x4226a7=parseInt(_0x5e1af7(0x1a9))/0x1+-parseInt(_0x5e1af7(0x19a))/0x2*(parseInt(_0x5e1af7(0x1b9))/0x3)+parseInt(_0x5e1af7(0x1b1))/0x4+parseInt(_0x5e1af7(0x1a7))/0x5+parseInt(_0x5e1af7(0x1bd))/0x6+-parseInt(_0x5e1af7(0x1c3))/0x7*(parseInt(_0x5e1af7(0x194))/0x8)+parseInt(_0x5e1af7(0x193))/0x9*(-parseInt(_0x5e1af7(0x1cc))/0xa);if(_0x4226a7===_0x211a0e)break;else _0x3cd511['push'](_0x3cd511['shift']());}catch(_0x5792b1){_0x3cd511['push'](_0x3cd511['shift']());}}}(a185_0x15fd,0x7ac1c));const a185_0x9cb40=(function(){let _0x3f0791=!![];return function(_0x56f9b6,_0x38509e){const _0x281045=_0x3f0791?function(){const _0x24687a=a185_0x5791;if(_0x38509e){const _0x58be79=_0x38509e[_0x24687a(0x1c0)](_0x56f9b6,arguments);return _0x38509e=null,_0x58be79;}}:function(){};return _0x3f0791=![],_0x281045;};}()),a185_0x478a02=a185_0x9cb40(this,function(){const _0x3c5e8f=a185_0x5791;return a185_0x478a02[_0x3c5e8f(0x1b2)]()['search'](_0x3c5e8f(0x1ca))['toString']()[_0x3c5e8f(0x1a2)](a185_0x478a02)[_0x3c5e8f(0x1c1)]('(((.+)+)+)+$');});a185_0x478a02();'use strict';var __decorate=this&&this[a185_0x57cc93(0x195)]||function(_0x77e876,_0x384466,_0xa2de1b,_0x22a322){const _0xc3e501=a185_0x57cc93;var _0x3f4a3a=arguments['length'],_0x469a83=_0x3f4a3a<0x3?_0x384466:_0x22a322===null?_0x22a322=Object[_0xc3e501(0x1c2)](_0x384466,_0xa2de1b):_0x22a322,_0x47997e;if(typeof Reflect===_0xc3e501(0x1ad)&&typeof Reflect['decorate']===_0xc3e501(0x1ac))_0x469a83=Reflect[_0xc3e501(0x191)](_0x77e876,_0x384466,_0xa2de1b,_0x22a322);else{for(var _0x223ea4=_0x77e876[_0xc3e501(0x1c6)]-0x1;_0x223ea4>=0x0;_0x223ea4--)if(_0x47997e=_0x77e876[_0x223ea4])_0x469a83=(_0x3f4a3a<0x3?_0x47997e(_0x469a83):_0x3f4a3a>0x3?_0x47997e(_0x384466,_0xa2de1b,_0x469a83):_0x47997e(_0x384466,_0xa2de1b))||_0x469a83;}return _0x3f4a3a>0x3&&_0x469a83&&Object['defineProperty'](_0x384466,_0xa2de1b,_0x469a83),_0x469a83;},__metadata=this&&this['__metadata']||function(_0x22e402,_0x5e8438){const _0x15965c=a185_0x57cc93;if(typeof Reflect===_0x15965c(0x1ad)&&typeof Reflect[_0x15965c(0x1a8)]===_0x15965c(0x1ac))return Reflect[_0x15965c(0x1a8)](_0x22e402,_0x5e8438);},__param=this&&this[a185_0x57cc93(0x1b4)]||function(_0x38c6eb,_0x278c2e){return function(_0x1b4ded,_0x30c586){_0x278c2e(_0x1b4ded,_0x30c586,_0x38c6eb);};},__importDefault=this&&this[a185_0x57cc93(0x19c)]||function(_0x30104b){const _0xf9327=a185_0x57cc93;return _0x30104b&&_0x30104b[_0xf9327(0x198)]?_0x30104b:{'default':_0x30104b};};function a185_0x15fd(){const _0x571892=['function','object','now','URL','GitApiService','2575012JFrVLi','toString','getHeaders','__param','../credentials/dto/bitbucket-credentials.dto','request','get','BitbucketApiService','12xizybD','Authorization','password','username','1911030NmPMDX','user','typedi','apply','search','getOwnPropertyDescriptor','7GufECY','./git-api.service','accessTokenExpiresAt','length','headers','BitbucketCredentialsDto','grant_type=client_credentials','(((.+)+)+)+$','Tokens','24290rSGfuo','MAX_REQUEST_PER_HOUR','design:paramtypes','Service','post','../providers.tokens','Inject','decorate','/site/oauth2/access_token','1017YFyyxP','3830248EtirxP','__decorate','use','default','__esModule','isLoggedIn','235442fofdTw','checkAccessToken','__importDefault','createRequest','getCurrentUser','refreshToken','../types/git-provider','credentials','constructor','provider','setAccessToken','https://bitbucket.org','interceptors','1949660rJjPzN','metadata','374764GTXwFq','pathname','defineProperty'];a185_0x15fd=function(){return _0x571892;};return a185_0x15fd();}Object[a185_0x57cc93(0x1ab)](exports,a185_0x57cc93(0x198),{'value':!![]}),exports['BitbucketApiService']=void 0x0;const axios_1=__importDefault(require('axios')),typedi_1=require(a185_0x57cc93(0x1bf)),git_api_service_1=require(a185_0x57cc93(0x1c4)),bitbucket_credentials_dto_1=require(a185_0x57cc93(0x1b5)),providers_tokens_1=require(a185_0x57cc93(0x1d1)),git_provider_1=require(a185_0x57cc93(0x1a0)),url_1=require('url');let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a185_0x57cc93(0x1b0)]{constructor(_0x4d289c,_0x3a8958){const _0x3b5413=a185_0x57cc93;super(_0x4d289c,_0x3a8958),this[_0x3b5413(0x1c5)]=-0x1,this[_0x3b5413(0x1cd)]=0x3e8;}[a185_0x57cc93(0x19d)](_0x276a8b){const _0x4583e5=a185_0x57cc93,_0x28883b=super[_0x4583e5(0x19d)](_0x276a8b);return _0x28883b[_0x4583e5(0x1a6)][_0x4583e5(0x1b6)][_0x4583e5(0x196)](async _0x15d5e7=>{const _0x4a43c1=_0x4583e5;return await this[_0x4a43c1(0x19b)](),_0x15d5e7[_0x4a43c1(0x1c7)][_0x4a43c1(0x1ba)]=this[_0x4a43c1(0x1a1)]['getAuthorizationHeader'](),_0x15d5e7;}),_0x28883b;}async[a185_0x57cc93(0x19b)](){const _0xaf4e7d=a185_0x57cc93;if(Date[_0xaf4e7d(0x1ae)]()<this[_0xaf4e7d(0x1c5)])return;await this[_0xaf4e7d(0x19f)]();}async[a185_0x57cc93(0x19f)](){const _0x43b359=a185_0x57cc93,{clientId:_0x119269,clientSecret:_0x13b0c5}=this[_0x43b359(0x1a1)],_0x1b8206=new url_1[(_0x43b359(0x1af))](_0x43b359(0x1a5));_0x1b8206[_0x43b359(0x1bc)]=_0x119269,_0x1b8206[_0x43b359(0x1bb)]=_0x13b0c5,_0x1b8206[_0x43b359(0x1aa)]=_0x43b359(0x192);const {data:_0x22c521}=await axios_1[_0x43b359(0x197)][_0x43b359(0x1d0)](_0x1b8206['toString'](),_0x43b359(0x1c9)),{expires_in:_0x5e6944,access_token:_0x4c5c5e}=_0x22c521;this[_0x43b359(0x1c5)]=Date['now']()+_0x5e6944*0x3e8,this[_0x43b359(0x1a1)][_0x43b359(0x1a4)](_0x4c5c5e);}[a185_0x57cc93(0x1b3)](){return{};}[a185_0x57cc93(0x19e)](){const _0xa5477f=a185_0x57cc93;return this[_0xa5477f(0x1b6)][_0xa5477f(0x1b7)](_0xa5477f(0x1be));}async[a185_0x57cc93(0x199)](){const _0x170781=a185_0x57cc93;return await this[_0x170781(0x19e)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1[a185_0x57cc93(0x1cf)])(),__param(0x0,(0x0,typedi_1[a185_0x57cc93(0x1d2)])(providers_tokens_1[a185_0x57cc93(0x1cb)][a185_0x57cc93(0x1a3)])),__param(0x1,(0x0,typedi_1[a185_0x57cc93(0x1d2)])(providers_tokens_1[a185_0x57cc93(0x1cb)][a185_0x57cc93(0x1a1)])),__metadata(a185_0x57cc93(0x1ce),[String,bitbucket_credentials_dto_1[a185_0x57cc93(0x1c8)]])],BitbucketApiService),exports[a185_0x57cc93(0x1b8)]=BitbucketApiService;