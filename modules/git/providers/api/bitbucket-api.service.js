function a194_0x5399(_0x2ad113,_0x11cdb0){const _0x45b8d5=a194_0x1300();return a194_0x5399=function(_0x378c02,_0x1c49d7){_0x378c02=_0x378c02-0x144;let _0x1300a6=_0x45b8d5[_0x378c02];return _0x1300a6;},a194_0x5399(_0x2ad113,_0x11cdb0);}const a194_0x3d9f77=a194_0x5399;(function(_0x161c42,_0x29a157){const _0x397c76=a194_0x5399,_0x18f9b6=_0x161c42();while(!![]){try{const _0x129c84=-parseInt(_0x397c76(0x144))/0x1+parseInt(_0x397c76(0x166))/0x2+parseInt(_0x397c76(0x14c))/0x3+parseInt(_0x397c76(0x176))/0x4*(-parseInt(_0x397c76(0x146))/0x5)+parseInt(_0x397c76(0x145))/0x6*(parseInt(_0x397c76(0x16a))/0x7)+parseInt(_0x397c76(0x16c))/0x8*(parseInt(_0x397c76(0x164))/0x9)+parseInt(_0x397c76(0x178))/0xa*(-parseInt(_0x397c76(0x16d))/0xb);if(_0x129c84===_0x29a157)break;else _0x18f9b6['push'](_0x18f9b6['shift']());}catch(_0x54e4d4){_0x18f9b6['push'](_0x18f9b6['shift']());}}}(a194_0x1300,0x87c9b));const a194_0x1c49d7=(function(){let _0x4e6d08=!![];return function(_0x5d7a53,_0x317eaa){const _0x297745=_0x4e6d08?function(){if(_0x317eaa){const _0x401633=_0x317eaa['apply'](_0x5d7a53,arguments);return _0x317eaa=null,_0x401633;}}:function(){};return _0x4e6d08=![],_0x297745;};}()),a194_0x378c02=a194_0x1c49d7(this,function(){const _0x6805c2=a194_0x5399;return a194_0x378c02[_0x6805c2(0x151)]()[_0x6805c2(0x14e)](_0x6805c2(0x16f))[_0x6805c2(0x151)]()[_0x6805c2(0x15e)](a194_0x378c02)[_0x6805c2(0x14e)]('(((.+)+)+)+$');});a194_0x378c02();function a194_0x1300(){const _0x415bcc=['4182JROxVK','65rMCbhk','now','design:paramtypes','../credentials/dto/bitbucket-credentials.dto','https://bitbucket.org','BitbucketCredentialsDto','3327051OVAXsM','__decorate','search','object','grant_type=client_credentials','toString','typedi','createRequest','interceptors','setAccessToken','getCurrentUser','URL','../types/git-provider','accessTokenExpiresAt','../providers.tokens','metadata','checkAccessToken','refreshToken','constructor','default','Inject','/site/oauth2/access_token','__esModule','pathname','825642KwkJzU','__metadata','1434474LOODYG','GitApiService','provider','length','2366sWVJQC','BitbucketApiService','88ETLvjQ','25645565FFAoCI','getOwnPropertyDescriptor','(((.+)+)+)+$','user','post','axios','headers','decorate','./git-api.service','51132gqdjkp','credentials','10LGTVJz','Tokens','url','isLoggedIn','MAX_REQUEST_PER_HOUR','17177GLBEaE'];a194_0x1300=function(){return _0x415bcc;};return a194_0x1300();}'use strict';var __decorate=this&&this[a194_0x3d9f77(0x14d)]||function(_0x689902,_0x387f55,_0xe70706,_0x66fb50){const _0x3a6883=a194_0x3d9f77;var _0x344ac8=arguments[_0x3a6883(0x169)],_0x176320=_0x344ac8<0x3?_0x387f55:_0x66fb50===null?_0x66fb50=Object[_0x3a6883(0x16e)](_0x387f55,_0xe70706):_0x66fb50,_0x4f0cb7;if(typeof Reflect===_0x3a6883(0x14f)&&typeof Reflect[_0x3a6883(0x174)]==='function')_0x176320=Reflect[_0x3a6883(0x174)](_0x689902,_0x387f55,_0xe70706,_0x66fb50);else{for(var _0x10b069=_0x689902[_0x3a6883(0x169)]-0x1;_0x10b069>=0x0;_0x10b069--)if(_0x4f0cb7=_0x689902[_0x10b069])_0x176320=(_0x344ac8<0x3?_0x4f0cb7(_0x176320):_0x344ac8>0x3?_0x4f0cb7(_0x387f55,_0xe70706,_0x176320):_0x4f0cb7(_0x387f55,_0xe70706))||_0x176320;}return _0x344ac8>0x3&&_0x176320&&Object['defineProperty'](_0x387f55,_0xe70706,_0x176320),_0x176320;},__metadata=this&&this[a194_0x3d9f77(0x165)]||function(_0x169301,_0x4ff6c3){const _0x35791a=a194_0x3d9f77;if(typeof Reflect===_0x35791a(0x14f)&&typeof Reflect[_0x35791a(0x15b)]==='function')return Reflect['metadata'](_0x169301,_0x4ff6c3);},__param=this&&this['__param']||function(_0x3fd735,_0x479677){return function(_0x245eff,_0x192209){_0x479677(_0x245eff,_0x192209,_0x3fd735);};},__importDefault=this&&this['__importDefault']||function(_0x33b419){const _0x2762d6=a194_0x3d9f77;return _0x33b419&&_0x33b419[_0x2762d6(0x162)]?_0x33b419:{'default':_0x33b419};};Object['defineProperty'](exports,a194_0x3d9f77(0x162),{'value':!![]}),exports[a194_0x3d9f77(0x16b)]=void 0x0;const axios_1=__importDefault(require(a194_0x3d9f77(0x172))),typedi_1=require(a194_0x3d9f77(0x152)),git_api_service_1=require(a194_0x3d9f77(0x175)),bitbucket_credentials_dto_1=require(a194_0x3d9f77(0x149)),providers_tokens_1=require(a194_0x3d9f77(0x15a)),git_provider_1=require(a194_0x3d9f77(0x158)),url_1=require(a194_0x3d9f77(0x17a));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x3d9f77(0x167)]{constructor(_0x86761d,_0x23e58e){const _0x1fe1db=a194_0x3d9f77;super(_0x86761d,_0x23e58e),this[_0x1fe1db(0x159)]=-0x1,this[_0x1fe1db(0x17c)]=0x3e8;}['createRequest'](_0x3ec833){const _0x517fdd=a194_0x3d9f77,_0x100750=super[_0x517fdd(0x153)](_0x3ec833);return _0x100750[_0x517fdd(0x154)]['request']['use'](async _0x1445ab=>{const _0x5de736=_0x517fdd;return await this['checkAccessToken'](),_0x1445ab[_0x5de736(0x173)]['Authorization']=this['credentials']['getAuthorizationHeader'](),_0x1445ab;}),_0x100750;}async[a194_0x3d9f77(0x15c)](){const _0x6a2135=a194_0x3d9f77;if(Date['now']()<this[_0x6a2135(0x159)])return;await this[_0x6a2135(0x15d)]();}async[a194_0x3d9f77(0x15d)](){const _0x210841=a194_0x3d9f77,{clientId:_0x2007e8,clientSecret:_0xc98398}=this['credentials'],_0x40a358=new url_1[(_0x210841(0x157))](_0x210841(0x14a));_0x40a358['username']=_0x2007e8,_0x40a358['password']=_0xc98398,_0x40a358[_0x210841(0x163)]=_0x210841(0x161);const {data:_0x10cc5c}=await axios_1[_0x210841(0x15f)][_0x210841(0x171)](_0x40a358[_0x210841(0x151)](),_0x210841(0x150)),{expires_in:_0x2f7609,access_token:_0x5bf377}=_0x10cc5c;this['accessTokenExpiresAt']=Date[_0x210841(0x147)]()+_0x2f7609*0x3e8,this[_0x210841(0x177)][_0x210841(0x155)](_0x5bf377);}['getHeaders'](){return{};}[a194_0x3d9f77(0x156)](){const _0x115745=a194_0x3d9f77;return this['request']['get'](_0x115745(0x170));}async[a194_0x3d9f77(0x17b)](){const _0x2f76a4=a194_0x3d9f77;return await this[_0x2f76a4(0x156)](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a194_0x3d9f77(0x160)])(providers_tokens_1[a194_0x3d9f77(0x179)][a194_0x3d9f77(0x168)])),__param(0x1,(0x0,typedi_1[a194_0x3d9f77(0x160)])(providers_tokens_1[a194_0x3d9f77(0x179)][a194_0x3d9f77(0x177)])),__metadata(a194_0x3d9f77(0x148),[String,bitbucket_credentials_dto_1[a194_0x3d9f77(0x14b)]])],BitbucketApiService),exports[a194_0x3d9f77(0x16b)]=BitbucketApiService;