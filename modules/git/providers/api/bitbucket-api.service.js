const a194_0x50cd42=a194_0x4fe9;(function(_0x15c91d,_0x550ed4){const _0x3cac39=a194_0x4fe9,_0x44eed8=_0x15c91d();while(!![]){try{const _0x1522ab=-parseInt(_0x3cac39(0x1d0))/0x1+-parseInt(_0x3cac39(0x1f8))/0x2+-parseInt(_0x3cac39(0x1f5))/0x3+parseInt(_0x3cac39(0x201))/0x4*(-parseInt(_0x3cac39(0x1cd))/0x5)+parseInt(_0x3cac39(0x207))/0x6+parseInt(_0x3cac39(0x204))/0x7+-parseInt(_0x3cac39(0x1fd))/0x8*(-parseInt(_0x3cac39(0x1fc))/0x9);if(_0x1522ab===_0x550ed4)break;else _0x44eed8['push'](_0x44eed8['shift']());}catch(_0x11e1f5){_0x44eed8['push'](_0x44eed8['shift']());}}}(a194_0x1665,0x27b25));function a194_0x1665(){const _0x22019e=['axios','checkAccessToken','1116426bcSTCD','20SUcbfb','default','search','268638MBeZnp','../credentials/dto/bitbucket-credentials.dto','../types/git-provider','metadata','URL','length','toString','__decorate','__param','refreshToken','url','interceptors','now','__metadata','decorate','GitApiService','request','/site/oauth2/access_token','MAX_REQUEST_PER_HOUR','pathname','Tokens','user','use','Inject','BitbucketApiService','BitbucketCredentialsDto','../providers.tokens','design:paramtypes','provider','setAccessToken','https://bitbucket.org','(((.+)+)+)+$','defineProperty','username','./git-api.service','getOwnPropertyDescriptor','credentials','88503xZyhee','accessTokenExpiresAt','createRequest','23328rHZjOi','function','Authorization','grant_type=client_credentials','27PLVJDL','1412408aHyAFi','getCurrentUser','getHeaders','headers','311196iPjIqM','object','get','475104TXTlnb'];a194_0x1665=function(){return _0x22019e;};return a194_0x1665();}const a194_0x5a9815=(function(){let _0x242092=!![];return function(_0x13bddb,_0x4771ef){const _0x4e43d0=_0x242092?function(){if(_0x4771ef){const _0x496985=_0x4771ef['apply'](_0x13bddb,arguments);return _0x4771ef=null,_0x496985;}}:function(){};return _0x242092=![],_0x4e43d0;};}()),a194_0xd3f8d=a194_0x5a9815(this,function(){const _0x518923=a194_0x4fe9;return a194_0xd3f8d[_0x518923(0x1d6)]()[_0x518923(0x1cf)]('(((.+)+)+)+$')['toString']()['constructor'](a194_0xd3f8d)[_0x518923(0x1cf)](_0x518923(0x1ef));});a194_0xd3f8d();function a194_0x4fe9(_0x43a407,_0x10f02d){const _0xb9aed7=a194_0x1665();return a194_0x4fe9=function(_0xd3f8d,_0x5a9815){_0xd3f8d=_0xd3f8d-0x1cd;let _0x16657c=_0xb9aed7[_0xd3f8d];return _0x16657c;},a194_0x4fe9(_0x43a407,_0x10f02d);}'use strict';var __decorate=this&&this[a194_0x50cd42(0x1d7)]||function(_0x46296f,_0x5e86bf,_0x22193b,_0x43899c){const _0x2d0190=a194_0x50cd42;var _0x5b9591=arguments[_0x2d0190(0x1d5)],_0x95acad=_0x5b9591<0x3?_0x5e86bf:_0x43899c===null?_0x43899c=Object[_0x2d0190(0x1f3)](_0x5e86bf,_0x22193b):_0x43899c,_0x538f47;if(typeof Reflect==='object'&&typeof Reflect[_0x2d0190(0x1de)]===_0x2d0190(0x1f9))_0x95acad=Reflect['decorate'](_0x46296f,_0x5e86bf,_0x22193b,_0x43899c);else{for(var _0x3c7c79=_0x46296f['length']-0x1;_0x3c7c79>=0x0;_0x3c7c79--)if(_0x538f47=_0x46296f[_0x3c7c79])_0x95acad=(_0x5b9591<0x3?_0x538f47(_0x95acad):_0x5b9591>0x3?_0x538f47(_0x5e86bf,_0x22193b,_0x95acad):_0x538f47(_0x5e86bf,_0x22193b))||_0x95acad;}return _0x5b9591>0x3&&_0x95acad&&Object[_0x2d0190(0x1f0)](_0x5e86bf,_0x22193b,_0x95acad),_0x95acad;},__metadata=this&&this[a194_0x50cd42(0x1dd)]||function(_0x27cc69,_0x36d0aa){const _0x529094=a194_0x50cd42;if(typeof Reflect===_0x529094(0x202)&&typeof Reflect['metadata']==='function')return Reflect[_0x529094(0x1d3)](_0x27cc69,_0x36d0aa);},__param=this&&this[a194_0x50cd42(0x1d8)]||function(_0x1c6e35,_0x487e08){return function(_0x2491b1,_0x1621f6){_0x487e08(_0x2491b1,_0x1621f6,_0x1c6e35);};},__importDefault=this&&this['__importDefault']||function(_0x16803b){return _0x16803b&&_0x16803b['__esModule']?_0x16803b:{'default':_0x16803b};};Object[a194_0x50cd42(0x1f0)](exports,'__esModule',{'value':!![]}),exports[a194_0x50cd42(0x1e8)]=void 0x0;const axios_1=__importDefault(require(a194_0x50cd42(0x205))),typedi_1=require('typedi'),git_api_service_1=require(a194_0x50cd42(0x1f2)),bitbucket_credentials_dto_1=require(a194_0x50cd42(0x1d1)),providers_tokens_1=require(a194_0x50cd42(0x1ea)),git_provider_1=require(a194_0x50cd42(0x1d2)),url_1=require(a194_0x50cd42(0x1da));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a194_0x50cd42(0x1df)]{constructor(_0x57ec06,_0x4bdbd6){const _0x278a0d=a194_0x50cd42;super(_0x57ec06,_0x4bdbd6),this[_0x278a0d(0x1f6)]=-0x1,this[_0x278a0d(0x1e2)]=0x3e8;}[a194_0x50cd42(0x1f7)](_0x5bab6b){const _0x515e01=a194_0x50cd42,_0x15fec3=super[_0x515e01(0x1f7)](_0x5bab6b);return _0x15fec3[_0x515e01(0x1db)][_0x515e01(0x1e0)][_0x515e01(0x1e6)](async _0xd3701a=>{const _0x4b3349=_0x515e01;return await this[_0x4b3349(0x206)](),_0xd3701a[_0x4b3349(0x200)][_0x4b3349(0x1fa)]=this[_0x4b3349(0x1f4)]['getAuthorizationHeader'](),_0xd3701a;}),_0x15fec3;}async['checkAccessToken'](){const _0x665511=a194_0x50cd42;if(Date[_0x665511(0x1dc)]()<this[_0x665511(0x1f6)])return;await this[_0x665511(0x1d9)]();}async[a194_0x50cd42(0x1d9)](){const _0x3c4dd1=a194_0x50cd42,{clientId:_0x2c70b8,clientSecret:_0x83c4b2}=this['credentials'],_0x14c2e2=new url_1[(_0x3c4dd1(0x1d4))](_0x3c4dd1(0x1ee));_0x14c2e2[_0x3c4dd1(0x1f1)]=_0x2c70b8,_0x14c2e2['password']=_0x83c4b2,_0x14c2e2[_0x3c4dd1(0x1e3)]=_0x3c4dd1(0x1e1);const {data:_0x4f7a73}=await axios_1[_0x3c4dd1(0x1ce)]['post'](_0x14c2e2['toString'](),_0x3c4dd1(0x1fb)),{expires_in:_0x4845f5,access_token:_0x26c8d9}=_0x4f7a73;this[_0x3c4dd1(0x1f6)]=Date['now']()+_0x4845f5*0x3e8,this[_0x3c4dd1(0x1f4)][_0x3c4dd1(0x1ed)](_0x26c8d9);}[a194_0x50cd42(0x1ff)](){return{};}[a194_0x50cd42(0x1fe)](){const _0x2975d7=a194_0x50cd42;return this[_0x2975d7(0x1e0)][_0x2975d7(0x203)](_0x2975d7(0x1e5));}async['isLoggedIn'](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([(0x0,typedi_1['Service'])(),__param(0x0,(0x0,typedi_1[a194_0x50cd42(0x1e7)])(providers_tokens_1['Tokens'][a194_0x50cd42(0x1ec)])),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a194_0x50cd42(0x1e4)][a194_0x50cd42(0x1f4)])),__metadata(a194_0x50cd42(0x1eb),[String,bitbucket_credentials_dto_1[a194_0x50cd42(0x1e9)]])],BitbucketApiService),exports[a194_0x50cd42(0x1e8)]=BitbucketApiService;