const a200_0x9aeb3b=a200_0x5d40;(function(_0x7957c5,_0x122c97){const _0x4c8c26=a200_0x5d40,_0x30d0a0=_0x7957c5();while(!![]){try{const _0x6def1d=parseInt(_0x4c8c26(0xe4))/0x1+parseInt(_0x4c8c26(0xf0))/0x2+-parseInt(_0x4c8c26(0xff))/0x3*(parseInt(_0x4c8c26(0xf9))/0x4)+-parseInt(_0x4c8c26(0x105))/0x5+-parseInt(_0x4c8c26(0xee))/0x6+parseInt(_0x4c8c26(0xfc))/0x7+parseInt(_0x4c8c26(0xf3))/0x8*(parseInt(_0x4c8c26(0xf2))/0x9);if(_0x6def1d===_0x122c97)break;else _0x30d0a0['push'](_0x30d0a0['shift']());}catch(_0x3d3612){_0x30d0a0['push'](_0x30d0a0['shift']());}}}(a200_0x8165,0x601b1));const a200_0x359426=(function(){let _0x268e6b=!![];return function(_0x53b056,_0x3b6dc7){const _0x428a73=_0x268e6b?function(){if(_0x3b6dc7){const _0x4980b8=_0x3b6dc7['apply'](_0x53b056,arguments);return _0x3b6dc7=null,_0x4980b8;}}:function(){};return _0x268e6b=![],_0x428a73;};}()),a200_0x31c1ca=a200_0x359426(this,function(){const _0x5b617a=a200_0x5d40;return a200_0x31c1ca[_0x5b617a(0xfa)]()[_0x5b617a(0x101)](_0x5b617a(0x103))[_0x5b617a(0xfa)]()['constructor'](a200_0x31c1ca)['search']('(((.+)+)+)+$');});a200_0x31c1ca();function a200_0x5d40(_0x59f6d2,_0x4f8f3b){const _0x142812=a200_0x8165();return a200_0x5d40=function(_0x31c1ca,_0x359426){_0x31c1ca=_0x31c1ca-0xe4;let _0x81652f=_0x142812[_0x31c1ca];return _0x81652f;},a200_0x5d40(_0x59f6d2,_0x4f8f3b);}'use strict';var __decorate=this&&this['__decorate']||function(_0x1fd876,_0x559a62,_0x34aaa2,_0x14ce7f){const _0x308454=a200_0x5d40;var _0x74c47c=arguments['length'],_0x3480d9=_0x74c47c<0x3?_0x559a62:_0x14ce7f===null?_0x14ce7f=Object['getOwnPropertyDescriptor'](_0x559a62,_0x34aaa2):_0x14ce7f,_0x205015;if(typeof Reflect===_0x308454(0xf5)&&typeof Reflect[_0x308454(0x108)]===_0x308454(0x100))_0x3480d9=Reflect[_0x308454(0x108)](_0x1fd876,_0x559a62,_0x34aaa2,_0x14ce7f);else{for(var _0x12b0ea=_0x1fd876[_0x308454(0xfe)]-0x1;_0x12b0ea>=0x0;_0x12b0ea--)if(_0x205015=_0x1fd876[_0x12b0ea])_0x3480d9=(_0x74c47c<0x3?_0x205015(_0x3480d9):_0x74c47c>0x3?_0x205015(_0x559a62,_0x34aaa2,_0x3480d9):_0x205015(_0x559a62,_0x34aaa2))||_0x3480d9;}return _0x74c47c>0x3&&_0x3480d9&&Object['defineProperty'](_0x559a62,_0x34aaa2,_0x3480d9),_0x3480d9;},__metadata=this&&this['__metadata']||function(_0x24723d,_0x943ebf){const _0x8cf57=a200_0x5d40;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x8cf57(0xf8)](_0x24723d,_0x943ebf);};Object[a200_0x9aeb3b(0x104)](exports,a200_0x9aeb3b(0xed),{'value':!![]}),exports['GitConnectionMiddleware']=void 0x0;const core_1=require('../../../../core'),salesforce_service_1=require(a200_0x9aeb3b(0x106)),providers_tokens_1=require('../providers.tokens'),credentials_factory_1=require(a200_0x9aeb3b(0x102)),git_api_factory_1=require(a200_0x9aeb3b(0xef)),errors_1=require(a200_0x9aeb3b(0xe8));function a200_0x8165(){const _0x174e68=['4zbtnPJ','toString','ServicesFactory','3743089bjyhcg','createFromProvider','length','1066677NoQdGa','function','search','../credentials/credentials.factory','(((.+)+)+)+$','defineProperty','2224010pNfflY','../../salesforce/services/salesforce.service','context','decorate','createFromConnection','headers','salesforceService','design:paramtypes','585736fxxffE','SalesforceService','container','GitConnectionMiddleware','../../../../constants/errors','before','Middleware','set','ERR_UNKNOWN_GIT_SERVICE','__esModule','1225344HSoPiT','../api/git-api.factory','466120gSADnY','gitProvider','9bNtdjc','357688ypKNsM','Tokens','object','x-connection-id','credentials','metadata'];a200_0x8165=function(){return _0x174e68;};return a200_0x8165();}let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x2c443a){const _0x649923=a200_0x9aeb3b;this[_0x649923(0x10b)]=_0x2c443a;}async['handle'](_0x3d1df1,_0x41a464){const _0x557e6c=a200_0x9aeb3b,_0x3bc6b6=_0x3d1df1[_0x557e6c(0x10a)][_0x557e6c(0xf6)]||null;if(!_0x3bc6b6||!_0x3d1df1[_0x557e6c(0x107)][_0x557e6c(0xe6)])throw new Error(errors_1[_0x557e6c(0xec)]);const _0x4f1bcd=await this[_0x557e6c(0x10b)]['fetchConnection'](_0x3bc6b6);if(!_0x4f1bcd)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x93e3fd=await credentials_factory_1['CredentialsFactory'][_0x557e6c(0x109)](_0x4f1bcd),_0x204e5a=_0x3d1df1[_0x557e6c(0x107)][_0x557e6c(0xe6)];_0x204e5a[_0x557e6c(0xeb)](providers_tokens_1[_0x557e6c(0xf4)]['provider'],_0x4f1bcd[_0x557e6c(0xf1)]),_0x204e5a['set'](providers_tokens_1[_0x557e6c(0xf4)][_0x557e6c(0xf7)],_0x93e3fd),_0x3d1df1['context']['provider']=git_api_factory_1[_0x557e6c(0xfb)][_0x557e6c(0xfd)](_0x204e5a,_0x4f1bcd[_0x557e6c(0xf1)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a200_0x9aeb3b(0xea)])(a200_0x9aeb3b(0xe9)),__metadata(a200_0x9aeb3b(0x10c),[salesforce_service_1[a200_0x9aeb3b(0xe5)]])],GitConnectionMiddleware),exports[a200_0x9aeb3b(0xe7)]=GitConnectionMiddleware;