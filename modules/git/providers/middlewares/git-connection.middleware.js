const a137_0x141107=a137_0x1204;(function(_0x387e84,_0x47e5cd){const _0x3af61c=a137_0x1204,_0x23b739=_0x387e84();while(!![]){try{const _0x2ae3a7=parseInt(_0x3af61c(0x174))/0x1*(parseInt(_0x3af61c(0x18d))/0x2)+parseInt(_0x3af61c(0x17c))/0x3+parseInt(_0x3af61c(0x170))/0x4*(-parseInt(_0x3af61c(0x197))/0x5)+-parseInt(_0x3af61c(0x17f))/0x6*(-parseInt(_0x3af61c(0x192))/0x7)+parseInt(_0x3af61c(0x184))/0x8+-parseInt(_0x3af61c(0x183))/0x9*(-parseInt(_0x3af61c(0x17e))/0xa)+-parseInt(_0x3af61c(0x17b))/0xb;if(_0x2ae3a7===_0x47e5cd)break;else _0x23b739['push'](_0x23b739['shift']());}catch(_0x30e216){_0x23b739['push'](_0x23b739['shift']());}}}(a137_0x4c0e,0xad1fd));const a137_0x2c467b=(function(){let _0x435af3=!![];return function(_0x48b4c6,_0x51decf){const _0x30cab1=_0x435af3?function(){const _0x98e4b=a137_0x1204;if(_0x51decf){const _0x1c2fe2=_0x51decf[_0x98e4b(0x18e)](_0x48b4c6,arguments);return _0x51decf=null,_0x1c2fe2;}}:function(){};return _0x435af3=![],_0x30cab1;};}()),a137_0x47a388=a137_0x2c467b(this,function(){const _0x1eacd7=a137_0x1204;return a137_0x47a388[_0x1eacd7(0x187)]()['search'](_0x1eacd7(0x18c))[_0x1eacd7(0x187)]()[_0x1eacd7(0x190)](a137_0x47a388)['search'](_0x1eacd7(0x18c));});a137_0x47a388();'use strict';var __decorate=this&&this['__decorate']||function(_0x502233,_0x57cb27,_0x562b7b,_0x257d77){const _0x291c7a=a137_0x1204;var _0x3ebcb7=arguments[_0x291c7a(0x18a)],_0xec73d7=_0x3ebcb7<0x3?_0x57cb27:_0x257d77===null?_0x257d77=Object[_0x291c7a(0x194)](_0x57cb27,_0x562b7b):_0x257d77,_0x1978fe;if(typeof Reflect===_0x291c7a(0x175)&&typeof Reflect['decorate']==='function')_0xec73d7=Reflect[_0x291c7a(0x182)](_0x502233,_0x57cb27,_0x562b7b,_0x257d77);else{for(var _0x4726d8=_0x502233[_0x291c7a(0x18a)]-0x1;_0x4726d8>=0x0;_0x4726d8--)if(_0x1978fe=_0x502233[_0x4726d8])_0xec73d7=(_0x3ebcb7<0x3?_0x1978fe(_0xec73d7):_0x3ebcb7>0x3?_0x1978fe(_0x57cb27,_0x562b7b,_0xec73d7):_0x1978fe(_0x57cb27,_0x562b7b))||_0xec73d7;}return _0x3ebcb7>0x3&&_0xec73d7&&Object[_0x291c7a(0x176)](_0x57cb27,_0x562b7b,_0xec73d7),_0xec73d7;},__metadata=this&&this[a137_0x141107(0x181)]||function(_0x11e010,_0x3202ab){const _0x4c0405=a137_0x141107;if(typeof Reflect===_0x4c0405(0x175)&&typeof Reflect[_0x4c0405(0x178)]==='function')return Reflect[_0x4c0405(0x178)](_0x11e010,_0x3202ab);};function a137_0x4c0e(){const _0x44f59e=['metadata','Middleware','gitProvider','9468965NaNsOw','575004gvNCrd','../providers.tokens','3679980XoAVOB','6zYTNhC','fetchConnection','__metadata','decorate','9AcuMhv','4326600MYuoKu','../api/git-api.factory','salesforceService','toString','headers','handle','length','x-connection-id','(((.+)+)+)+$','22fpYQtC','apply','createFromConnection','constructor','set','3587038RWxlJF','CredentialsFactory','getOwnPropertyDescriptor','container','design:paramtypes','64505tsySzd','SalesforceService','ERR_UNKNOWN_GIT_SERVICE','56bwrzqA','GitConnectionMiddleware','../../../../constants/errors','context','12511dugizd','object','defineProperty','__esModule'];a137_0x4c0e=function(){return _0x44f59e;};return a137_0x4c0e();}Object[a137_0x141107(0x176)](exports,a137_0x141107(0x177),{'value':!![]}),exports['GitConnectionMiddleware']=void 0x0;const core_1=require('../../../../core'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),providers_tokens_1=require(a137_0x141107(0x17d)),credentials_factory_1=require('../credentials/credentials.factory'),git_api_factory_1=require(a137_0x141107(0x185)),errors_1=require(a137_0x141107(0x172));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x54daa8){this['salesforceService']=_0x54daa8;}async[a137_0x141107(0x189)](_0x430c7a,_0x161c83){const _0x49f5a3=a137_0x141107,_0x36e42e=_0x430c7a[_0x49f5a3(0x188)][_0x49f5a3(0x18b)]||null;if(!_0x36e42e||!_0x430c7a[_0x49f5a3(0x173)][_0x49f5a3(0x195)])throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x3e804c=await this[_0x49f5a3(0x186)][_0x49f5a3(0x180)](_0x36e42e);if(!_0x3e804c)throw new Error(errors_1[_0x49f5a3(0x16f)]);const _0x4b3707=await credentials_factory_1[_0x49f5a3(0x193)][_0x49f5a3(0x18f)](_0x3e804c),_0x4dba0d=_0x430c7a[_0x49f5a3(0x173)]['container'];_0x4dba0d[_0x49f5a3(0x191)](providers_tokens_1['Tokens']['provider'],_0x3e804c['gitProvider']),_0x4dba0d[_0x49f5a3(0x191)](providers_tokens_1['Tokens']['credentials'],_0x4b3707),_0x430c7a[_0x49f5a3(0x173)]['provider']=git_api_factory_1['ServicesFactory']['createFromProvider'](_0x4dba0d,_0x3e804c[_0x49f5a3(0x17a)]);}};function a137_0x1204(_0x2c0299,_0x76c989){const _0x4e5582=a137_0x4c0e();return a137_0x1204=function(_0x47a388,_0x2c467b){_0x47a388=_0x47a388-0x16e;let _0x4c0e32=_0x4e5582[_0x47a388];return _0x4c0e32;},a137_0x1204(_0x2c0299,_0x76c989);}GitConnectionMiddleware=__decorate([core_1[a137_0x141107(0x179)]('before'),__metadata(a137_0x141107(0x196),[salesforce_service_1[a137_0x141107(0x16e)]])],GitConnectionMiddleware),exports[a137_0x141107(0x171)]=GitConnectionMiddleware;