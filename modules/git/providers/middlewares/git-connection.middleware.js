const a225_0x4ac9bc=a225_0x1d22;function a225_0x4343(){const _0x4db583=['set','SalesforceService','GitConnectionMiddleware','635380BrGyoP','4057152smuqhk','context','2568093FFhtqd','ServicesFactory','4529cPPKCL','apply','getOwnPropertyDescriptor','CredentialsFactory','handle','__metadata','createFromConnection','../api/git-api.factory','3465845OZmUlk','2cfVvmQ','__decorate','object','Middleware','constructor','salesforceService','function','../credentials/credentials.factory','decorate','gitProvider','1473080OSNKsO','Tokens','container','toString','search','../../../../core','(((.+)+)+)+$','provider','../../../../constants/errors','../providers.tokens','297ouJnhh','../../salesforce/services/salesforce.service','14406LMLsqq','defineProperty','length','x-connection-id','1387250ZZaslE','before'];a225_0x4343=function(){return _0x4db583;};return a225_0x4343();}(function(_0x5cb429,_0xef3c18){const _0x29aa70=a225_0x1d22,_0x4bbc45=_0x5cb429();while(!![]){try{const _0x29dd9a=parseInt(_0x29aa70(0xae))/0x1*(-parseInt(_0x29aa70(0x8f))/0x2)+-parseInt(_0x29aa70(0xb1))/0x3+-parseInt(_0x29aa70(0x99))/0x4+-parseInt(_0x29aa70(0x8e))/0x5+-parseInt(_0x29aa70(0xa5))/0x6*(parseInt(_0x29aa70(0xb3))/0x7)+parseInt(_0x29aa70(0xaf))/0x8+parseInt(_0x29aa70(0xa3))/0x9*(parseInt(_0x29aa70(0xa9))/0xa);if(_0x29dd9a===_0xef3c18)break;else _0x4bbc45['push'](_0x4bbc45['shift']());}catch(_0x3fd97d){_0x4bbc45['push'](_0x4bbc45['shift']());}}}(a225_0x4343,0xeef54));const a225_0x3565aa=(function(){let _0x661a4b=!![];return function(_0x4c9d0e,_0x119303){const _0x3b2bf3=_0x661a4b?function(){const _0x1b1e12=a225_0x1d22;if(_0x119303){const _0x50378c=_0x119303[_0x1b1e12(0xb4)](_0x4c9d0e,arguments);return _0x119303=null,_0x50378c;}}:function(){};return _0x661a4b=![],_0x3b2bf3;};}()),a225_0x2c3d8d=a225_0x3565aa(this,function(){const _0x4d94c5=a225_0x1d22;return a225_0x2c3d8d[_0x4d94c5(0x9c)]()[_0x4d94c5(0x9d)](_0x4d94c5(0x9f))[_0x4d94c5(0x9c)]()[_0x4d94c5(0x93)](a225_0x2c3d8d)[_0x4d94c5(0x9d)](_0x4d94c5(0x9f));});a225_0x2c3d8d();'use strict';var __decorate=this&&this[a225_0x4ac9bc(0x90)]||function(_0x279b0c,_0xc16db5,_0x2304b6,_0x326767){const _0xe34c2d=a225_0x4ac9bc;var _0x573b33=arguments['length'],_0x1e0f59=_0x573b33<0x3?_0xc16db5:_0x326767===null?_0x326767=Object[_0xe34c2d(0x88)](_0xc16db5,_0x2304b6):_0x326767,_0x543f49;if(typeof Reflect===_0xe34c2d(0x91)&&typeof Reflect[_0xe34c2d(0x97)]===_0xe34c2d(0x95))_0x1e0f59=Reflect[_0xe34c2d(0x97)](_0x279b0c,_0xc16db5,_0x2304b6,_0x326767);else{for(var _0x41cf33=_0x279b0c[_0xe34c2d(0xa7)]-0x1;_0x41cf33>=0x0;_0x41cf33--)if(_0x543f49=_0x279b0c[_0x41cf33])_0x1e0f59=(_0x573b33<0x3?_0x543f49(_0x1e0f59):_0x573b33>0x3?_0x543f49(_0xc16db5,_0x2304b6,_0x1e0f59):_0x543f49(_0xc16db5,_0x2304b6))||_0x1e0f59;}return _0x573b33>0x3&&_0x1e0f59&&Object['defineProperty'](_0xc16db5,_0x2304b6,_0x1e0f59),_0x1e0f59;},__metadata=this&&this[a225_0x4ac9bc(0x8b)]||function(_0x33aa77,_0x4a6728){const _0x30028f=a225_0x4ac9bc;if(typeof Reflect===_0x30028f(0x91)&&typeof Reflect['metadata']===_0x30028f(0x95))return Reflect['metadata'](_0x33aa77,_0x4a6728);};Object[a225_0x4ac9bc(0xa6)](exports,'__esModule',{'value':!![]}),exports[a225_0x4ac9bc(0xad)]=void 0x0;const core_1=require(a225_0x4ac9bc(0x9e)),salesforce_service_1=require(a225_0x4ac9bc(0xa4)),providers_tokens_1=require(a225_0x4ac9bc(0xa2)),credentials_factory_1=require(a225_0x4ac9bc(0x96)),git_api_factory_1=require(a225_0x4ac9bc(0x8d)),errors_1=require(a225_0x4ac9bc(0xa1));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x3b7cd4){this['salesforceService']=_0x3b7cd4;}async[a225_0x4ac9bc(0x8a)](_0x8af210,_0x4d4ffb){const _0x55ae2d=a225_0x4ac9bc,_0x7f6b1b=_0x8af210['headers'][_0x55ae2d(0xa8)]||null;if(!_0x7f6b1b||!_0x8af210['context'][_0x55ae2d(0x9b)])throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0xbe0836=await this[_0x55ae2d(0x94)]['fetchConnection'](_0x7f6b1b);if(!_0xbe0836)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x5e3b31=await credentials_factory_1[_0x55ae2d(0x89)][_0x55ae2d(0x8c)](_0xbe0836),_0x13eb2f=_0x8af210['context'][_0x55ae2d(0x9b)];_0x13eb2f['set'](providers_tokens_1['Tokens'][_0x55ae2d(0xa0)],_0xbe0836[_0x55ae2d(0x98)]),_0x13eb2f[_0x55ae2d(0xab)](providers_tokens_1[_0x55ae2d(0x9a)]['credentials'],_0x5e3b31),_0x8af210[_0x55ae2d(0xb0)][_0x55ae2d(0xa0)]=git_api_factory_1[_0x55ae2d(0xb2)]['createFromProvider'](_0x13eb2f,_0xbe0836[_0x55ae2d(0x98)]);}};function a225_0x1d22(_0x2ffa24,_0x1eb5ac){const _0x2d4189=a225_0x4343();return a225_0x1d22=function(_0x2c3d8d,_0x3565aa){_0x2c3d8d=_0x2c3d8d-0x88;let _0x43436c=_0x2d4189[_0x2c3d8d];return _0x43436c;},a225_0x1d22(_0x2ffa24,_0x1eb5ac);}GitConnectionMiddleware=__decorate([(0x0,core_1[a225_0x4ac9bc(0x92)])(a225_0x4ac9bc(0xaa)),__metadata('design:paramtypes',[salesforce_service_1[a225_0x4ac9bc(0xac)]])],GitConnectionMiddleware),exports['GitConnectionMiddleware']=GitConnectionMiddleware;