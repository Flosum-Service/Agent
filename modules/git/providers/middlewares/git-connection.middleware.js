const a226_0x1bc26d=a226_0x4568;(function(_0x4a4622,_0x2f66bc){const _0x3c76d5=a226_0x4568,_0xa889d1=_0x4a4622();while(!![]){try{const _0x597cb0=-parseInt(_0x3c76d5(0x127))/0x1+-parseInt(_0x3c76d5(0x14d))/0x2*(parseInt(_0x3c76d5(0x12e))/0x3)+-parseInt(_0x3c76d5(0x139))/0x4*(parseInt(_0x3c76d5(0x142))/0x5)+parseInt(_0x3c76d5(0x13f))/0x6*(-parseInt(_0x3c76d5(0x145))/0x7)+parseInt(_0x3c76d5(0x151))/0x8+parseInt(_0x3c76d5(0x150))/0x9*(-parseInt(_0x3c76d5(0x13a))/0xa)+-parseInt(_0x3c76d5(0x140))/0xb*(-parseInt(_0x3c76d5(0x147))/0xc);if(_0x597cb0===_0x2f66bc)break;else _0xa889d1['push'](_0xa889d1['shift']());}catch(_0x2fc55f){_0xa889d1['push'](_0xa889d1['shift']());}}}(a226_0x5b8e,0x6c74f));const a226_0x554db7=(function(){let _0x53b690=!![];return function(_0x596271,_0x42aef7){const _0x45ebc2=_0x53b690?function(){const _0x41245b=a226_0x4568;if(_0x42aef7){const _0x5d931d=_0x42aef7[_0x41245b(0x146)](_0x596271,arguments);return _0x42aef7=null,_0x5d931d;}}:function(){};return _0x53b690=![],_0x45ebc2;};}()),a226_0x35f804=a226_0x554db7(this,function(){const _0x26b106=a226_0x4568;return a226_0x35f804['toString']()['search'](_0x26b106(0x13d))['toString']()[_0x26b106(0x14a)](a226_0x35f804)[_0x26b106(0x141)](_0x26b106(0x13d));});a226_0x35f804();'use strict';function a226_0x4568(_0x4aae92,_0x393009){const _0x203ee7=a226_0x5b8e();return a226_0x4568=function(_0x35f804,_0x554db7){_0x35f804=_0x35f804-0x126;let _0x5b8e14=_0x203ee7[_0x35f804];return _0x5b8e14;},a226_0x4568(_0x4aae92,_0x393009);}var __decorate=this&&this[a226_0x1bc26d(0x143)]||function(_0x4db485,_0x20b7bb,_0x5d6100,_0x2dffda){const _0x139655=a226_0x1bc26d;var _0x2444fc=arguments[_0x139655(0x138)],_0x179757=_0x2444fc<0x3?_0x20b7bb:_0x2dffda===null?_0x2dffda=Object[_0x139655(0x14e)](_0x20b7bb,_0x5d6100):_0x2dffda,_0x2ab165;if(typeof Reflect===_0x139655(0x12c)&&typeof Reflect[_0x139655(0x13b)]===_0x139655(0x12a))_0x179757=Reflect['decorate'](_0x4db485,_0x20b7bb,_0x5d6100,_0x2dffda);else{for(var _0x2b2f84=_0x4db485[_0x139655(0x138)]-0x1;_0x2b2f84>=0x0;_0x2b2f84--)if(_0x2ab165=_0x4db485[_0x2b2f84])_0x179757=(_0x2444fc<0x3?_0x2ab165(_0x179757):_0x2444fc>0x3?_0x2ab165(_0x20b7bb,_0x5d6100,_0x179757):_0x2ab165(_0x20b7bb,_0x5d6100))||_0x179757;}return _0x2444fc>0x3&&_0x179757&&Object[_0x139655(0x12b)](_0x20b7bb,_0x5d6100,_0x179757),_0x179757;},__metadata=this&&this['__metadata']||function(_0x8827d2,_0xe0ba16){const _0x5d85b1=a226_0x1bc26d;if(typeof Reflect==='object'&&typeof Reflect[_0x5d85b1(0x133)]==='function')return Reflect[_0x5d85b1(0x133)](_0x8827d2,_0xe0ba16);};Object[a226_0x1bc26d(0x12b)](exports,'__esModule',{'value':!![]}),exports['GitConnectionMiddleware']=void 0x0;function a226_0x5b8e(){const _0x5a8bfa=['decorate','container','(((.+)+)+)+$','gitProvider','327972TFBJwp','146487HEOtvi','search','635QMzmoe','__decorate','ServicesFactory','14TlZfSZ','apply','732amHPpw','context','../providers.tokens','constructor','Middleware','before','9272rXfKOl','getOwnPropertyDescriptor','createFromProvider','3134529IfNHKp','4899488rNnIbf','provider','78463FlWmBj','set','Tokens','function','defineProperty','object','../../../../constants/errors','177vcwOyn','handle','design:paramtypes','../credentials/credentials.factory','createFromConnection','metadata','salesforceService','../../salesforce/services/salesforce.service','GitConnectionMiddleware','x-connection-id','length','5384FgEFRg','10XQLaBc'];a226_0x5b8e=function(){return _0x5a8bfa;};return a226_0x5b8e();}const core_1=require('../../../../core'),salesforce_service_1=require(a226_0x1bc26d(0x135)),providers_tokens_1=require(a226_0x1bc26d(0x149)),credentials_factory_1=require(a226_0x1bc26d(0x131)),git_api_factory_1=require('../api/git-api.factory'),errors_1=require(a226_0x1bc26d(0x12d));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x3e4d72){const _0x1832bd=a226_0x1bc26d;this[_0x1832bd(0x134)]=_0x3e4d72;}async[a226_0x1bc26d(0x12f)](_0x576cd3,_0x31459e){const _0x5b0e6c=a226_0x1bc26d,_0x23a93f=_0x576cd3['headers'][_0x5b0e6c(0x137)]||null;if(!_0x23a93f||!_0x576cd3['context']['container'])throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x37c20e=await this[_0x5b0e6c(0x134)]['fetchConnection'](_0x23a93f);if(!_0x37c20e)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x494084=await credentials_factory_1['CredentialsFactory'][_0x5b0e6c(0x132)](_0x37c20e),_0x524a49=_0x576cd3[_0x5b0e6c(0x148)][_0x5b0e6c(0x13c)];_0x524a49[_0x5b0e6c(0x128)](providers_tokens_1[_0x5b0e6c(0x129)][_0x5b0e6c(0x126)],_0x37c20e['gitProvider']),_0x524a49[_0x5b0e6c(0x128)](providers_tokens_1[_0x5b0e6c(0x129)]['credentials'],_0x494084),_0x576cd3['context']['provider']=git_api_factory_1[_0x5b0e6c(0x144)][_0x5b0e6c(0x14f)](_0x524a49,_0x37c20e[_0x5b0e6c(0x13e)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a226_0x1bc26d(0x14b)])(a226_0x1bc26d(0x14c)),__metadata(a226_0x1bc26d(0x130),[salesforce_service_1['SalesforceService']])],GitConnectionMiddleware),exports[a226_0x1bc26d(0x136)]=GitConnectionMiddleware;