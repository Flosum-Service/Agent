const a226_0x12e981=a226_0x3a06;function a226_0x3a06(_0x52413a,_0x11031e){const _0x56628d=a226_0x37f3();return a226_0x3a06=function(_0x442b62,_0x36efab){_0x442b62=_0x442b62-0xdc;let _0x37f339=_0x56628d[_0x442b62];return _0x37f339;},a226_0x3a06(_0x52413a,_0x11031e);}(function(_0x57de0a,_0x4ab076){const _0x1980ba=a226_0x3a06,_0x8ece3a=_0x57de0a();while(!![]){try{const _0xe5e2a5=-parseInt(_0x1980ba(0xf6))/0x1+-parseInt(_0x1980ba(0xf2))/0x2+parseInt(_0x1980ba(0xe6))/0x3+parseInt(_0x1980ba(0xdd))/0x4*(parseInt(_0x1980ba(0x102))/0x5)+parseInt(_0x1980ba(0xdf))/0x6*(parseInt(_0x1980ba(0xfe))/0x7)+parseInt(_0x1980ba(0xea))/0x8+-parseInt(_0x1980ba(0xe5))/0x9*(parseInt(_0x1980ba(0xef))/0xa);if(_0xe5e2a5===_0x4ab076)break;else _0x8ece3a['push'](_0x8ece3a['shift']());}catch(_0x2a3bde){_0x8ece3a['push'](_0x8ece3a['shift']());}}}(a226_0x37f3,0xaa7e4));const a226_0x36efab=(function(){let _0x50f4ce=!![];return function(_0xd69454,_0x2caf1b){const _0x2267ac=_0x50f4ce?function(){if(_0x2caf1b){const _0x28fb57=_0x2caf1b['apply'](_0xd69454,arguments);return _0x2caf1b=null,_0x28fb57;}}:function(){};return _0x50f4ce=![],_0x2267ac;};}()),a226_0x442b62=a226_0x36efab(this,function(){const _0x294d9e=a226_0x3a06;return a226_0x442b62['toString']()[_0x294d9e(0xf0)]('(((.+)+)+)+$')['toString']()['constructor'](a226_0x442b62)['search']('(((.+)+)+)+$');});a226_0x442b62();'use strict';var __decorate=this&&this[a226_0x12e981(0xf1)]||function(_0x521470,_0xb8956,_0x40e18f,_0x59634f){const _0x242609=a226_0x12e981;var _0x5d3515=arguments[_0x242609(0xe2)],_0x2f57ac=_0x5d3515<0x3?_0xb8956:_0x59634f===null?_0x59634f=Object[_0x242609(0xe8)](_0xb8956,_0x40e18f):_0x59634f,_0xb62519;if(typeof Reflect==='object'&&typeof Reflect[_0x242609(0xe1)]===_0x242609(0xe7))_0x2f57ac=Reflect['decorate'](_0x521470,_0xb8956,_0x40e18f,_0x59634f);else{for(var _0x3e271d=_0x521470[_0x242609(0xe2)]-0x1;_0x3e271d>=0x0;_0x3e271d--)if(_0xb62519=_0x521470[_0x3e271d])_0x2f57ac=(_0x5d3515<0x3?_0xb62519(_0x2f57ac):_0x5d3515>0x3?_0xb62519(_0xb8956,_0x40e18f,_0x2f57ac):_0xb62519(_0xb8956,_0x40e18f))||_0x2f57ac;}return _0x5d3515>0x3&&_0x2f57ac&&Object['defineProperty'](_0xb8956,_0x40e18f,_0x2f57ac),_0x2f57ac;},__metadata=this&&this[a226_0x12e981(0x101)]||function(_0x3d00cd,_0xd454f9){const _0x5e8cb7=a226_0x12e981;if(typeof Reflect==='object'&&typeof Reflect[_0x5e8cb7(0xde)]===_0x5e8cb7(0xe7))return Reflect['metadata'](_0x3d00cd,_0xd454f9);};Object[a226_0x12e981(0xff)](exports,a226_0x12e981(0x100),{'value':!![]}),exports[a226_0x12e981(0xfb)]=void 0x0;const core_1=require(a226_0x12e981(0xf5)),salesforce_service_1=require(a226_0x12e981(0xfa)),providers_tokens_1=require(a226_0x12e981(0xed)),credentials_factory_1=require('../credentials/credentials.factory'),git_api_factory_1=require('../api/git-api.factory'),errors_1=require(a226_0x12e981(0xf7));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x33ebce){const _0x54b6f9=a226_0x12e981;this[_0x54b6f9(0xfd)]=_0x33ebce;}async[a226_0x12e981(0xf9)](_0x51f671,_0x40f058){const _0x52fb2b=a226_0x12e981,_0x124c12=_0x51f671[_0x52fb2b(0xf4)]['x-connection-id']||null;if(!_0x124c12||!_0x51f671[_0x52fb2b(0xe0)]['container'])throw new Error(errors_1[_0x52fb2b(0x104)]);const _0xbd8ae3=await this[_0x52fb2b(0xfd)][_0x52fb2b(0xee)](_0x124c12);if(!_0xbd8ae3)throw new Error(errors_1[_0x52fb2b(0x104)]);const _0xfbc8f3=await credentials_factory_1['CredentialsFactory']['createFromConnection'](_0xbd8ae3),_0x129e3f=_0x51f671[_0x52fb2b(0xe0)]['container'];_0x129e3f[_0x52fb2b(0xfc)](providers_tokens_1[_0x52fb2b(0xeb)][_0x52fb2b(0xe3)],_0xbd8ae3[_0x52fb2b(0xe4)]),_0x129e3f[_0x52fb2b(0xfc)](providers_tokens_1[_0x52fb2b(0xeb)]['credentials'],_0xfbc8f3),_0x51f671[_0x52fb2b(0xe0)][_0x52fb2b(0xe3)]=git_api_factory_1[_0x52fb2b(0x103)][_0x52fb2b(0xf3)](_0x129e3f,_0xbd8ae3['gitProvider']);}};function a226_0x37f3(){const _0x29b50e=['__metadata','16565xQggdW','ServicesFactory','ERR_UNKNOWN_GIT_SERVICE','SalesforceService','872zFHFSC','metadata','3745890PJNKBC','context','decorate','length','provider','gitProvider','1314feSDqo','487707nwNRCU','function','getOwnPropertyDescriptor','Middleware','4113496rzJLwo','Tokens','design:paramtypes','../providers.tokens','fetchConnection','93850KzVpPa','search','__decorate','1046958jwqBMN','createFromProvider','headers','../../../../core','55591BABMRW','../../../../constants/errors','before','handle','../../salesforce/services/salesforce.service','GitConnectionMiddleware','set','salesforceService','14SXhirv','defineProperty','__esModule'];a226_0x37f3=function(){return _0x29b50e;};return a226_0x37f3();}GitConnectionMiddleware=__decorate([(0x0,core_1[a226_0x12e981(0xe9)])(a226_0x12e981(0xf8)),__metadata(a226_0x12e981(0xec),[salesforce_service_1[a226_0x12e981(0xdc)]])],GitConnectionMiddleware),exports[a226_0x12e981(0xfb)]=GitConnectionMiddleware;