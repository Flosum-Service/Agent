const a226_0x3c2281=a226_0x1263;function a226_0x4390(){const _0x4581bc=['Tokens','search','GitConnectionMiddleware','8khzgDX','../../../../constants/errors','6993603BWCpTu','headers','../credentials/credentials.factory','../providers.tokens','(((.+)+)+)+$','length','defineProperty','1144epfUQc','249946rmTaye','340468IRlbJO','createFromProvider','x-connection-id','metadata','ServicesFactory','set','getOwnPropertyDescriptor','7182468xnMGsW','3zwdcCR','constructor','gitProvider','Middleware','__esModule','../../../../core','fetchConnection','8448342vtVDrk','toString','5qpQpAb','702985WBAGEg','credentials','__decorate','context','function','object','89530TTWzeY','ERR_UNKNOWN_GIT_SERVICE','SalesforceService','provider','decorate','container'];a226_0x4390=function(){return _0x4581bc;};return a226_0x4390();}(function(_0x570474,_0x287e0d){const _0x5c45fc=a226_0x1263,_0x1a5552=_0x570474();while(!![]){try{const _0x1b5756=parseInt(_0x5c45fc(0x1e2))/0x1*(parseInt(_0x5c45fc(0x1fc))/0x2)+parseInt(_0x5c45fc(0x1d9))/0x3*(-parseInt(_0x5c45fc(0x1fd))/0x4)+parseInt(_0x5c45fc(0x1e3))/0x5+parseInt(_0x5c45fc(0x1d8))/0x6+-parseInt(_0x5c45fc(0x1e0))/0x7+-parseInt(_0x5c45fc(0x1f2))/0x8*(parseInt(_0x5c45fc(0x1f4))/0x9)+-parseInt(_0x5c45fc(0x1e9))/0xa*(-parseInt(_0x5c45fc(0x1fb))/0xb);if(_0x1b5756===_0x287e0d)break;else _0x1a5552['push'](_0x1a5552['shift']());}catch(_0x5d7618){_0x1a5552['push'](_0x1a5552['shift']());}}}(a226_0x4390,0xc94f2));const a226_0x4f7cab=(function(){let _0x2406c1=!![];return function(_0x55adae,_0x7e98df){const _0x3bffdc=_0x2406c1?function(){if(_0x7e98df){const _0x47058e=_0x7e98df['apply'](_0x55adae,arguments);return _0x7e98df=null,_0x47058e;}}:function(){};return _0x2406c1=![],_0x3bffdc;};}()),a226_0x51b424=a226_0x4f7cab(this,function(){const _0x27b296=a226_0x1263;return a226_0x51b424[_0x27b296(0x1e1)]()['search'](_0x27b296(0x1f8))['toString']()[_0x27b296(0x1da)](a226_0x51b424)[_0x27b296(0x1f0)]('(((.+)+)+)+$');});a226_0x51b424();'use strict';var __decorate=this&&this[a226_0x3c2281(0x1e5)]||function(_0x7a00fb,_0x3ec64a,_0x3d2649,_0x4a1920){const _0x5e6ce0=a226_0x3c2281;var _0x224d11=arguments['length'],_0x34e091=_0x224d11<0x3?_0x3ec64a:_0x4a1920===null?_0x4a1920=Object[_0x5e6ce0(0x203)](_0x3ec64a,_0x3d2649):_0x4a1920,_0x1e662d;if(typeof Reflect===_0x5e6ce0(0x1e8)&&typeof Reflect[_0x5e6ce0(0x1ed)]===_0x5e6ce0(0x1e7))_0x34e091=Reflect[_0x5e6ce0(0x1ed)](_0x7a00fb,_0x3ec64a,_0x3d2649,_0x4a1920);else{for(var _0x157398=_0x7a00fb[_0x5e6ce0(0x1f9)]-0x1;_0x157398>=0x0;_0x157398--)if(_0x1e662d=_0x7a00fb[_0x157398])_0x34e091=(_0x224d11<0x3?_0x1e662d(_0x34e091):_0x224d11>0x3?_0x1e662d(_0x3ec64a,_0x3d2649,_0x34e091):_0x1e662d(_0x3ec64a,_0x3d2649))||_0x34e091;}return _0x224d11>0x3&&_0x34e091&&Object[_0x5e6ce0(0x1fa)](_0x3ec64a,_0x3d2649,_0x34e091),_0x34e091;},__metadata=this&&this['__metadata']||function(_0x197f7f,_0x3a0554){const _0x230256=a226_0x3c2281;if(typeof Reflect===_0x230256(0x1e8)&&typeof Reflect[_0x230256(0x200)]==='function')return Reflect[_0x230256(0x200)](_0x197f7f,_0x3a0554);};function a226_0x1263(_0x544fc5,_0x5d992b){const _0x272918=a226_0x4390();return a226_0x1263=function(_0x51b424,_0x4f7cab){_0x51b424=_0x51b424-0x1d8;let _0x4390c9=_0x272918[_0x51b424];return _0x4390c9;},a226_0x1263(_0x544fc5,_0x5d992b);}Object[a226_0x3c2281(0x1fa)](exports,a226_0x3c2281(0x1dd),{'value':!![]}),exports[a226_0x3c2281(0x1f1)]=void 0x0;const core_1=require(a226_0x3c2281(0x1de)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),providers_tokens_1=require(a226_0x3c2281(0x1f7)),credentials_factory_1=require(a226_0x3c2281(0x1f6)),git_api_factory_1=require('../api/git-api.factory'),errors_1=require(a226_0x3c2281(0x1f3));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x42cd84){this['salesforceService']=_0x42cd84;}async['handle'](_0x59344d,_0x131aaf){const _0x83465b=a226_0x3c2281,_0x164e89=_0x59344d[_0x83465b(0x1f5)][_0x83465b(0x1ff)]||null;if(!_0x164e89||!_0x59344d['context'][_0x83465b(0x1ee)])throw new Error(errors_1[_0x83465b(0x1ea)]);const _0xdf2719=await this['salesforceService'][_0x83465b(0x1df)](_0x164e89);if(!_0xdf2719)throw new Error(errors_1[_0x83465b(0x1ea)]);const _0x46b6dd=await credentials_factory_1['CredentialsFactory']['createFromConnection'](_0xdf2719),_0x113808=_0x59344d[_0x83465b(0x1e6)]['container'];_0x113808[_0x83465b(0x202)](providers_tokens_1[_0x83465b(0x1ef)][_0x83465b(0x1ec)],_0xdf2719['gitProvider']),_0x113808[_0x83465b(0x202)](providers_tokens_1['Tokens'][_0x83465b(0x1e4)],_0x46b6dd),_0x59344d[_0x83465b(0x1e6)][_0x83465b(0x1ec)]=git_api_factory_1[_0x83465b(0x201)][_0x83465b(0x1fe)](_0x113808,_0xdf2719[_0x83465b(0x1db)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a226_0x3c2281(0x1dc)])('before'),__metadata('design:paramtypes',[salesforce_service_1[a226_0x3c2281(0x1eb)]])],GitConnectionMiddleware),exports[a226_0x3c2281(0x1f1)]=GitConnectionMiddleware;