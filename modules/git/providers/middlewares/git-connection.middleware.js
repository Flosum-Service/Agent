const a199_0x192e75=a199_0x9c40;(function(_0xcb7f3d,_0x5387a0){const _0x2ad716=a199_0x9c40,_0x18244a=_0xcb7f3d();while(!![]){try{const _0x36947c=parseInt(_0x2ad716(0x187))/0x1+parseInt(_0x2ad716(0x17d))/0x2*(parseInt(_0x2ad716(0x188))/0x3)+parseInt(_0x2ad716(0x190))/0x4+parseInt(_0x2ad716(0x176))/0x5*(-parseInt(_0x2ad716(0x192))/0x6)+parseInt(_0x2ad716(0x19f))/0x7*(parseInt(_0x2ad716(0x17a))/0x8)+-parseInt(_0x2ad716(0x184))/0x9+-parseInt(_0x2ad716(0x186))/0xa*(parseInt(_0x2ad716(0x17f))/0xb);if(_0x36947c===_0x5387a0)break;else _0x18244a['push'](_0x18244a['shift']());}catch(_0x1762a1){_0x18244a['push'](_0x18244a['shift']());}}}(a199_0x4d55,0x1cf14));const a199_0xd364d8=(function(){let _0x2a5a86=!![];return function(_0x5c757e,_0x373895){const _0x32f3ca=_0x2a5a86?function(){const _0xea5f0=a199_0x9c40;if(_0x373895){const _0x1d570e=_0x373895[_0xea5f0(0x181)](_0x5c757e,arguments);return _0x373895=null,_0x1d570e;}}:function(){};return _0x2a5a86=![],_0x32f3ca;};}()),a199_0x1da309=a199_0xd364d8(this,function(){const _0xd65bb2=a199_0x9c40;return a199_0x1da309[_0xd65bb2(0x199)]()[_0xd65bb2(0x177)](_0xd65bb2(0x198))['toString']()[_0xd65bb2(0x196)](a199_0x1da309)[_0xd65bb2(0x177)](_0xd65bb2(0x198));});a199_0x1da309();function a199_0x9c40(_0x226460,_0x23b19c){const _0x222f7e=a199_0x4d55();return a199_0x9c40=function(_0x1da309,_0xd364d8){_0x1da309=_0x1da309-0x176;let _0x4d55d9=_0x222f7e[_0x1da309];return _0x4d55d9;},a199_0x9c40(_0x226460,_0x23b19c);}'use strict';var __decorate=this&&this[a199_0x192e75(0x183)]||function(_0x401540,_0x4808b2,_0x5799b1,_0x35f53f){const _0x4fc884=a199_0x192e75;var _0x17c4f5=arguments[_0x4fc884(0x180)],_0x3df2cf=_0x17c4f5<0x3?_0x4808b2:_0x35f53f===null?_0x35f53f=Object['getOwnPropertyDescriptor'](_0x4808b2,_0x5799b1):_0x35f53f,_0x142265;if(typeof Reflect===_0x4fc884(0x197)&&typeof Reflect[_0x4fc884(0x185)]===_0x4fc884(0x18d))_0x3df2cf=Reflect[_0x4fc884(0x185)](_0x401540,_0x4808b2,_0x5799b1,_0x35f53f);else{for(var _0x125bb8=_0x401540['length']-0x1;_0x125bb8>=0x0;_0x125bb8--)if(_0x142265=_0x401540[_0x125bb8])_0x3df2cf=(_0x17c4f5<0x3?_0x142265(_0x3df2cf):_0x17c4f5>0x3?_0x142265(_0x4808b2,_0x5799b1,_0x3df2cf):_0x142265(_0x4808b2,_0x5799b1))||_0x3df2cf;}return _0x17c4f5>0x3&&_0x3df2cf&&Object[_0x4fc884(0x18c)](_0x4808b2,_0x5799b1,_0x3df2cf),_0x3df2cf;},__metadata=this&&this[a199_0x192e75(0x195)]||function(_0x257786,_0x9a7f87){const _0x3f50a1=a199_0x192e75;if(typeof Reflect===_0x3f50a1(0x197)&&typeof Reflect['metadata']==='function')return Reflect[_0x3f50a1(0x17b)](_0x257786,_0x9a7f87);};Object[a199_0x192e75(0x18c)](exports,a199_0x192e75(0x18f),{'value':!![]}),exports[a199_0x192e75(0x191)]=void 0x0;const core_1=require(a199_0x192e75(0x19d)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),providers_tokens_1=require('../providers.tokens'),credentials_factory_1=require('../credentials/credentials.factory'),git_api_factory_1=require('../api/git-api.factory'),errors_1=require(a199_0x192e75(0x178));function a199_0x4d55(){const _0x21025b=['gitProvider','20EkOuCk','context','11yohDFT','length','apply','salesforceService','__decorate','1319652PFpPFO','decorate','115260mHZfkt','12480QwJEFw','6783RLUkdM','Middleware','Tokens','handle','defineProperty','function','provider','__esModule','926716GhjggT','GitConnectionMiddleware','18wlgQfW','fetchConnection','design:paramtypes','__metadata','constructor','object','(((.+)+)+)+$','toString','ERR_UNKNOWN_GIT_SERVICE','before','SalesforceService','../../../../core','credentials','66752oxXTWl','createFromConnection','364885ZDKCHX','search','../../../../constants/errors','set','192opIFHJ','metadata'];a199_0x4d55=function(){return _0x21025b;};return a199_0x4d55();}let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x31f309){const _0x3a7fa9=a199_0x192e75;this[_0x3a7fa9(0x182)]=_0x31f309;}async[a199_0x192e75(0x18b)](_0x4bba57,_0x3a53b5){const _0x35af91=a199_0x192e75,_0x1eaac9=_0x4bba57['headers']['x-connection-id']||null;if(!_0x1eaac9||!_0x4bba57['context']['container'])throw new Error(errors_1[_0x35af91(0x19a)]);const _0x18a236=await this['salesforceService'][_0x35af91(0x193)](_0x1eaac9);if(!_0x18a236)throw new Error(errors_1[_0x35af91(0x19a)]);const _0x22b2ae=await credentials_factory_1['CredentialsFactory'][_0x35af91(0x1a0)](_0x18a236),_0x355a37=_0x4bba57['context']['container'];_0x355a37['set'](providers_tokens_1['Tokens']['provider'],_0x18a236['gitProvider']),_0x355a37[_0x35af91(0x179)](providers_tokens_1[_0x35af91(0x18a)][_0x35af91(0x19e)],_0x22b2ae),_0x4bba57[_0x35af91(0x17e)][_0x35af91(0x18e)]=git_api_factory_1['ServicesFactory']['createFromProvider'](_0x355a37,_0x18a236[_0x35af91(0x17c)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a199_0x192e75(0x189)])(a199_0x192e75(0x19b)),__metadata(a199_0x192e75(0x194),[salesforce_service_1[a199_0x192e75(0x19c)]])],GitConnectionMiddleware),exports[a199_0x192e75(0x191)]=GitConnectionMiddleware;