const a155_0x2ed301=a155_0x5ed2;(function(_0x157b7a,_0x205c40){const _0x4485a0=a155_0x5ed2,_0x415d23=_0x157b7a();while(!![]){try{const _0xad682a=-parseInt(_0x4485a0(0xce))/0x1+-parseInt(_0x4485a0(0xcd))/0x2+-parseInt(_0x4485a0(0xba))/0x3+-parseInt(_0x4485a0(0xc3))/0x4*(-parseInt(_0x4485a0(0xde))/0x5)+-parseInt(_0x4485a0(0xd5))/0x6+-parseInt(_0x4485a0(0xc7))/0x7+-parseInt(_0x4485a0(0xdf))/0x8*(-parseInt(_0x4485a0(0xbb))/0x9);if(_0xad682a===_0x205c40)break;else _0x415d23['push'](_0x415d23['shift']());}catch(_0x350eb9){_0x415d23['push'](_0x415d23['shift']());}}}(a155_0xf6c5,0xf19cb));const a155_0x56e50d=(function(){let _0xed796d=!![];return function(_0x245a57,_0x1771c3){const _0x4a42c2=_0xed796d?function(){const _0x210009=a155_0x5ed2;if(_0x1771c3){const _0x469c56=_0x1771c3[_0x210009(0xc1)](_0x245a57,arguments);return _0x1771c3=null,_0x469c56;}}:function(){};return _0xed796d=![],_0x4a42c2;};}()),a155_0x15e7ab=a155_0x56e50d(this,function(){const _0xeeb09c=a155_0x5ed2;return a155_0x15e7ab['toString']()[_0xeeb09c(0xdd)](_0xeeb09c(0xe5))[_0xeeb09c(0xbe)]()[_0xeeb09c(0xe4)](a155_0x15e7ab)[_0xeeb09c(0xdd)](_0xeeb09c(0xe5));});a155_0x15e7ab();function a155_0x5ed2(_0x418ba6,_0x52feb6){const _0x2231b7=a155_0xf6c5();return a155_0x5ed2=function(_0x15e7ab,_0x56e50d){_0x15e7ab=_0x15e7ab-0xba;let _0xf6c50e=_0x2231b7[_0x15e7ab];return _0xf6c50e;},a155_0x5ed2(_0x418ba6,_0x52feb6);}'use strict';var __decorate=this&&this[a155_0x2ed301(0xe1)]||function(_0x3ff176,_0x150fd0,_0x51aefd,_0x371d83){const _0x1d189d=a155_0x2ed301;var _0x53e0cf=arguments[_0x1d189d(0xe2)],_0x55bdb2=_0x53e0cf<0x3?_0x150fd0:_0x371d83===null?_0x371d83=Object['getOwnPropertyDescriptor'](_0x150fd0,_0x51aefd):_0x371d83,_0x4cad70;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x1d189d(0xc8))_0x55bdb2=Reflect[_0x1d189d(0xd9)](_0x3ff176,_0x150fd0,_0x51aefd,_0x371d83);else{for(var _0x2e0e1d=_0x3ff176[_0x1d189d(0xe2)]-0x1;_0x2e0e1d>=0x0;_0x2e0e1d--)if(_0x4cad70=_0x3ff176[_0x2e0e1d])_0x55bdb2=(_0x53e0cf<0x3?_0x4cad70(_0x55bdb2):_0x53e0cf>0x3?_0x4cad70(_0x150fd0,_0x51aefd,_0x55bdb2):_0x4cad70(_0x150fd0,_0x51aefd))||_0x55bdb2;}return _0x53e0cf>0x3&&_0x55bdb2&&Object[_0x1d189d(0xbf)](_0x150fd0,_0x51aefd,_0x55bdb2),_0x55bdb2;},__metadata=this&&this[a155_0x2ed301(0xc2)]||function(_0x573830,_0x269c2c){const _0x167de9=a155_0x2ed301;if(typeof Reflect===_0x167de9(0xd8)&&typeof Reflect[_0x167de9(0xe0)]===_0x167de9(0xc8))return Reflect[_0x167de9(0xe0)](_0x573830,_0x269c2c);};Object[a155_0x2ed301(0xbf)](exports,'__esModule',{'value':!![]}),exports['GitConnectionMiddleware']=void 0x0;function a155_0xf6c5(){const _0x8a1526=['apply','__metadata','430968gcfqdT','x-connection-id','createFromProvider','../../salesforce/services/salesforce.service','5529937foTMbK','function','fetchConnection','gitProvider','container','salesforceService','1954892reeWnV','1145138ERddCc','GitConnectionMiddleware','context','before','handle','../credentials/credentials.factory','../../../../core','5274738rETIWf','set','Middleware','object','decorate','Tokens','../providers.tokens','ERR_UNKNOWN_GIT_SERVICE','search','35LHOtKN','21961712vniTKE','metadata','__decorate','length','createFromConnection','constructor','(((.+)+)+)+$','4389843mRptwu','18nwMuKW','../api/git-api.factory','headers','toString','defineProperty','design:paramtypes'];a155_0xf6c5=function(){return _0x8a1526;};return a155_0xf6c5();}const core_1=require(a155_0x2ed301(0xd4)),salesforce_service_1=require(a155_0x2ed301(0xc6)),providers_tokens_1=require(a155_0x2ed301(0xdb)),credentials_factory_1=require(a155_0x2ed301(0xd3)),git_api_factory_1=require(a155_0x2ed301(0xbc)),errors_1=require('../../../../constants/errors');let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x4a84e3){const _0x4f709f=a155_0x2ed301;this[_0x4f709f(0xcc)]=_0x4a84e3;}async[a155_0x2ed301(0xd2)](_0x24c4a1,_0x5d745c){const _0x246f55=a155_0x2ed301,_0x3e2edb=_0x24c4a1[_0x246f55(0xbd)][_0x246f55(0xc4)]||null;if(!_0x3e2edb||!_0x24c4a1[_0x246f55(0xd0)]['container'])throw new Error(errors_1[_0x246f55(0xdc)]);const _0x2a49c9=await this['salesforceService'][_0x246f55(0xc9)](_0x3e2edb);if(!_0x2a49c9)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x5e5bdd=await credentials_factory_1['CredentialsFactory'][_0x246f55(0xe3)](_0x2a49c9),_0x248194=_0x24c4a1[_0x246f55(0xd0)][_0x246f55(0xcb)];_0x248194['set'](providers_tokens_1[_0x246f55(0xda)]['provider'],_0x2a49c9['gitProvider']),_0x248194[_0x246f55(0xd6)](providers_tokens_1['Tokens']['credentials'],_0x5e5bdd),_0x24c4a1[_0x246f55(0xd0)]['provider']=git_api_factory_1['ServicesFactory'][_0x246f55(0xc5)](_0x248194,_0x2a49c9[_0x246f55(0xca)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a155_0x2ed301(0xd7)])(a155_0x2ed301(0xd1)),__metadata(a155_0x2ed301(0xc0),[salesforce_service_1['SalesforceService']])],GitConnectionMiddleware),exports[a155_0x2ed301(0xcf)]=GitConnectionMiddleware;