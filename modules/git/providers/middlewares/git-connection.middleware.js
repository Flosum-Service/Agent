const a225_0x2dd4ff=a225_0xc3f0;(function(_0xec4d2b,_0x3798b8){const _0x1930d8=a225_0xc3f0,_0x3ae3f7=_0xec4d2b();while(!![]){try{const _0x23dab6=parseInt(_0x1930d8(0xd5))/0x1*(-parseInt(_0x1930d8(0xe6))/0x2)+-parseInt(_0x1930d8(0xb9))/0x3*(-parseInt(_0x1930d8(0xde))/0x4)+-parseInt(_0x1930d8(0xe5))/0x5*(parseInt(_0x1930d8(0xd3))/0x6)+-parseInt(_0x1930d8(0xc8))/0x7+parseInt(_0x1930d8(0xdc))/0x8*(parseInt(_0x1930d8(0xe3))/0x9)+-parseInt(_0x1930d8(0xd8))/0xa*(parseInt(_0x1930d8(0xce))/0xb)+parseInt(_0x1930d8(0xc2))/0xc*(parseInt(_0x1930d8(0xc4))/0xd);if(_0x23dab6===_0x3798b8)break;else _0x3ae3f7['push'](_0x3ae3f7['shift']());}catch(_0x37cd81){_0x3ae3f7['push'](_0x3ae3f7['shift']());}}}(a225_0x4bcf,0x3efbf));const a225_0x29ae02=(function(){let _0xd09bed=!![];return function(_0x437be6,_0x5f4950){const _0x332b02=_0xd09bed?function(){const _0x10175f=a225_0xc3f0;if(_0x5f4950){const _0x208f49=_0x5f4950[_0x10175f(0xc0)](_0x437be6,arguments);return _0x5f4950=null,_0x208f49;}}:function(){};return _0xd09bed=![],_0x332b02;};}()),a225_0x45e6a5=a225_0x29ae02(this,function(){const _0x3c1406=a225_0xc3f0;return a225_0x45e6a5['toString']()['search'](_0x3c1406(0xbc))[_0x3c1406(0xdf)]()['constructor'](a225_0x45e6a5)[_0x3c1406(0xd4)]('(((.+)+)+)+$');});a225_0x45e6a5();'use strict';function a225_0xc3f0(_0xc7f285,_0x3e80b8){const _0x4eb854=a225_0x4bcf();return a225_0xc3f0=function(_0x45e6a5,_0x29ae02){_0x45e6a5=_0x45e6a5-0xb9;let _0x4bcf66=_0x4eb854[_0x45e6a5];return _0x4bcf66;},a225_0xc3f0(_0xc7f285,_0x3e80b8);}var __decorate=this&&this[a225_0x2dd4ff(0xbf)]||function(_0x16e3f1,_0xba2cb7,_0x3090cb,_0x495428){const _0x1e7bf6=a225_0x2dd4ff;var _0x5fa62b=arguments['length'],_0x57fd52=_0x5fa62b<0x3?_0xba2cb7:_0x495428===null?_0x495428=Object[_0x1e7bf6(0xbe)](_0xba2cb7,_0x3090cb):_0x495428,_0x569240;if(typeof Reflect==='object'&&typeof Reflect[_0x1e7bf6(0xe2)]===_0x1e7bf6(0xc7))_0x57fd52=Reflect['decorate'](_0x16e3f1,_0xba2cb7,_0x3090cb,_0x495428);else{for(var _0x1b5b1e=_0x16e3f1[_0x1e7bf6(0xe4)]-0x1;_0x1b5b1e>=0x0;_0x1b5b1e--)if(_0x569240=_0x16e3f1[_0x1b5b1e])_0x57fd52=(_0x5fa62b<0x3?_0x569240(_0x57fd52):_0x5fa62b>0x3?_0x569240(_0xba2cb7,_0x3090cb,_0x57fd52):_0x569240(_0xba2cb7,_0x3090cb))||_0x57fd52;}return _0x5fa62b>0x3&&_0x57fd52&&Object[_0x1e7bf6(0xdb)](_0xba2cb7,_0x3090cb,_0x57fd52),_0x57fd52;},__metadata=this&&this[a225_0x2dd4ff(0xcc)]||function(_0x4097cb,_0x4985a0){const _0xac257=a225_0x2dd4ff;if(typeof Reflect===_0xac257(0xda)&&typeof Reflect[_0xac257(0xc1)]===_0xac257(0xc7))return Reflect[_0xac257(0xc1)](_0x4097cb,_0x4985a0);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a225_0x2dd4ff(0xc6)]=void 0x0;const core_1=require('../../../../core'),salesforce_service_1=require(a225_0x2dd4ff(0xca)),providers_tokens_1=require(a225_0x2dd4ff(0xc3)),credentials_factory_1=require(a225_0x2dd4ff(0xd1)),git_api_factory_1=require(a225_0x2dd4ff(0xdd)),errors_1=require('../../../../constants/errors');function a225_0x4bcf(){const _0x53f77e=['toString','x-connection-id','Tokens','decorate','16047sngEJb','length','5TxjCbY','290hqTGXF','set','15468mnMVyR','Middleware','SalesforceService','(((.+)+)+)+$','provider','getOwnPropertyDescriptor','__decorate','apply','metadata','33036mluOjW','../providers.tokens','5122yRzggh','before','GitConnectionMiddleware','function','29645NoxDlq','fetchConnection','../../salesforce/services/salesforce.service','handle','__metadata','container','3279155vWIquz','gitProvider','createFromConnection','../credentials/credentials.factory','createFromProvider','1978716cIgFJN','search','1525CxlmiB','context','CredentialsFactory','10iYPnLn','ServicesFactory','object','defineProperty','96wnyCjm','../api/git-api.factory','4ZCcOgt'];a225_0x4bcf=function(){return _0x53f77e;};return a225_0x4bcf();}let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x458db4){this['salesforceService']=_0x458db4;}async[a225_0x2dd4ff(0xcb)](_0x2e53e5,_0x459b90){const _0x206fb6=a225_0x2dd4ff,_0x501db9=_0x2e53e5['headers'][_0x206fb6(0xe0)]||null;if(!_0x501db9||!_0x2e53e5[_0x206fb6(0xd6)][_0x206fb6(0xcd)])throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x42b333=await this['salesforceService'][_0x206fb6(0xc9)](_0x501db9);if(!_0x42b333)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x477821=await credentials_factory_1[_0x206fb6(0xd7)][_0x206fb6(0xd0)](_0x42b333),_0x19ec83=_0x2e53e5['context']['container'];_0x19ec83['set'](providers_tokens_1[_0x206fb6(0xe1)][_0x206fb6(0xbd)],_0x42b333[_0x206fb6(0xcf)]),_0x19ec83[_0x206fb6(0xe7)](providers_tokens_1[_0x206fb6(0xe1)]['credentials'],_0x477821),_0x2e53e5[_0x206fb6(0xd6)]['provider']=git_api_factory_1[_0x206fb6(0xd9)][_0x206fb6(0xd2)](_0x19ec83,_0x42b333[_0x206fb6(0xcf)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a225_0x2dd4ff(0xba)])(a225_0x2dd4ff(0xc5)),__metadata('design:paramtypes',[salesforce_service_1[a225_0x2dd4ff(0xbb)]])],GitConnectionMiddleware),exports['GitConnectionMiddleware']=GitConnectionMiddleware;