const a194_0x2e4d7a=a194_0xd1e0;(function(_0x4f87d3,_0x330471){const _0x21f09=a194_0xd1e0,_0x2eb046=_0x4f87d3();while(!![]){try{const _0x5a66be=parseInt(_0x21f09(0x83))/0x1+-parseInt(_0x21f09(0x8b))/0x2+-parseInt(_0x21f09(0x6c))/0x3+-parseInt(_0x21f09(0x7f))/0x4*(parseInt(_0x21f09(0x79))/0x5)+-parseInt(_0x21f09(0x6d))/0x6+parseInt(_0x21f09(0x7a))/0x7*(-parseInt(_0x21f09(0x72))/0x8)+parseInt(_0x21f09(0x78))/0x9;if(_0x5a66be===_0x330471)break;else _0x2eb046['push'](_0x2eb046['shift']());}catch(_0x114a2a){_0x2eb046['push'](_0x2eb046['shift']());}}}(a194_0xcb8b,0xe1e85));function a194_0xd1e0(_0x378a2b,_0x2d1d94){const _0x1c1531=a194_0xcb8b();return a194_0xd1e0=function(_0x2ba0b5,_0x519aff){_0x2ba0b5=_0x2ba0b5-0x6b;let _0xcb8b86=_0x1c1531[_0x2ba0b5];return _0xcb8b86;},a194_0xd1e0(_0x378a2b,_0x2d1d94);}const a194_0x519aff=(function(){let _0x518aed=!![];return function(_0x4a7388,_0x409f8f){const _0x292f2a=_0x518aed?function(){const _0x8944e8=a194_0xd1e0;if(_0x409f8f){const _0x3964c0=_0x409f8f[_0x8944e8(0x95)](_0x4a7388,arguments);return _0x409f8f=null,_0x3964c0;}}:function(){};return _0x518aed=![],_0x292f2a;};}()),a194_0x2ba0b5=a194_0x519aff(this,function(){const _0x2cb285=a194_0xd1e0;return a194_0x2ba0b5[_0x2cb285(0x87)]()[_0x2cb285(0x80)]('(((.+)+)+)+$')[_0x2cb285(0x87)]()[_0x2cb285(0x6b)](a194_0x2ba0b5)[_0x2cb285(0x80)](_0x2cb285(0x6f));});a194_0x2ba0b5();'use strict';var __decorate=this&&this[a194_0x2e4d7a(0x76)]||function(_0x20b780,_0x3ce101,_0x1330f2,_0x5bfe91){const _0x1e442e=a194_0x2e4d7a;var _0x544465=arguments[_0x1e442e(0x92)],_0x7740ab=_0x544465<0x3?_0x3ce101:_0x5bfe91===null?_0x5bfe91=Object['getOwnPropertyDescriptor'](_0x3ce101,_0x1330f2):_0x5bfe91,_0x1273a8;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x1e442e(0x8c))_0x7740ab=Reflect[_0x1e442e(0x73)](_0x20b780,_0x3ce101,_0x1330f2,_0x5bfe91);else{for(var _0x5698e5=_0x20b780['length']-0x1;_0x5698e5>=0x0;_0x5698e5--)if(_0x1273a8=_0x20b780[_0x5698e5])_0x7740ab=(_0x544465<0x3?_0x1273a8(_0x7740ab):_0x544465>0x3?_0x1273a8(_0x3ce101,_0x1330f2,_0x7740ab):_0x1273a8(_0x3ce101,_0x1330f2))||_0x7740ab;}return _0x544465>0x3&&_0x7740ab&&Object['defineProperty'](_0x3ce101,_0x1330f2,_0x7740ab),_0x7740ab;},__metadata=this&&this[a194_0x2e4d7a(0x7c)]||function(_0x4675fe,_0x1ebadc){const _0x33f06e=a194_0x2e4d7a;if(typeof Reflect===_0x33f06e(0x7e)&&typeof Reflect[_0x33f06e(0x6e)]===_0x33f06e(0x8c))return Reflect[_0x33f06e(0x6e)](_0x4675fe,_0x1ebadc);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a194_0x2e4d7a(0x70)]=void 0x0;const core_1=require(a194_0x2e4d7a(0x90)),salesforce_service_1=require(a194_0x2e4d7a(0x86)),providers_tokens_1=require(a194_0x2e4d7a(0x8f)),credentials_factory_1=require(a194_0x2e4d7a(0x82)),git_api_factory_1=require('../api/git-api.factory'),errors_1=require('../../../../constants/errors');function a194_0xcb8b(){const _0x46eb2f=['set','__decorate','gitProvider','30375684HyniGs','2560eeeUoZ','14XhGksR','context','__metadata','design:paramtypes','object','2072TVVIgi','search','credentials','../credentials/credentials.factory','645199xwroJC','provider','container','../../salesforce/services/salesforce.service','toString','createFromConnection','salesforceService','Middleware','967418yVXNUQ','function','CredentialsFactory','ERR_UNKNOWN_GIT_SERVICE','../providers.tokens','../../../../core','headers','length','Tokens','createFromProvider','apply','constructor','1338645FlAUcz','6721848JWAKZZ','metadata','(((.+)+)+)+$','GitConnectionMiddleware','before','3118040qPnROv','decorate','x-connection-id'];a194_0xcb8b=function(){return _0x46eb2f;};return a194_0xcb8b();}let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x2300fd){const _0x2a3e54=a194_0x2e4d7a;this[_0x2a3e54(0x89)]=_0x2300fd;}async['handle'](_0x59d53f,_0x2d6a97){const _0x1c1eb0=a194_0x2e4d7a,_0x558af2=_0x59d53f[_0x1c1eb0(0x91)][_0x1c1eb0(0x74)]||null;if(!_0x558af2||!_0x59d53f['context'][_0x1c1eb0(0x85)])throw new Error(errors_1[_0x1c1eb0(0x8e)]);const _0x299079=await this[_0x1c1eb0(0x89)]['fetchConnection'](_0x558af2);if(!_0x299079)throw new Error(errors_1[_0x1c1eb0(0x8e)]);const _0x4e8b3e=await credentials_factory_1[_0x1c1eb0(0x8d)][_0x1c1eb0(0x88)](_0x299079),_0x2ee9a2=_0x59d53f['context'][_0x1c1eb0(0x85)];_0x2ee9a2[_0x1c1eb0(0x75)](providers_tokens_1[_0x1c1eb0(0x93)][_0x1c1eb0(0x84)],_0x299079[_0x1c1eb0(0x77)]),_0x2ee9a2['set'](providers_tokens_1[_0x1c1eb0(0x93)][_0x1c1eb0(0x81)],_0x4e8b3e),_0x59d53f[_0x1c1eb0(0x7b)][_0x1c1eb0(0x84)]=git_api_factory_1['ServicesFactory'][_0x1c1eb0(0x94)](_0x2ee9a2,_0x299079[_0x1c1eb0(0x77)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a194_0x2e4d7a(0x8a)])(a194_0x2e4d7a(0x71)),__metadata(a194_0x2e4d7a(0x7d),[salesforce_service_1['SalesforceService']])],GitConnectionMiddleware),exports['GitConnectionMiddleware']=GitConnectionMiddleware;