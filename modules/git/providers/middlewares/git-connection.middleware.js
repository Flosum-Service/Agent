const a155_0x334f1d=a155_0xfdb4;(function(_0x5ddace,_0xc620a7){const _0x4e2e97=a155_0xfdb4,_0x1a0d30=_0x5ddace();while(!![]){try{const _0x38fb71=-parseInt(_0x4e2e97(0xc0))/0x1*(-parseInt(_0x4e2e97(0xa0))/0x2)+-parseInt(_0x4e2e97(0xb4))/0x3+parseInt(_0x4e2e97(0xb2))/0x4*(-parseInt(_0x4e2e97(0xb9))/0x5)+-parseInt(_0x4e2e97(0xb6))/0x6*(-parseInt(_0x4e2e97(0xbb))/0x7)+parseInt(_0x4e2e97(0xb1))/0x8+parseInt(_0x4e2e97(0xa4))/0x9+-parseInt(_0x4e2e97(0xa1))/0xa;if(_0x38fb71===_0xc620a7)break;else _0x1a0d30['push'](_0x1a0d30['shift']());}catch(_0x345aa1){_0x1a0d30['push'](_0x1a0d30['shift']());}}}(a155_0x56af,0xb1680));function a155_0x56af(){const _0x1f7397=['decorate','../providers.tokens','2WIFUSJ','9581890AlaDgP','set','gitProvider','12443220anuyqt','function','__esModule','search','(((.+)+)+)+$','metadata','Middleware','createFromConnection','toString','getOwnPropertyDescriptor','provider','object','../../../../core','3237040rXjRUo','4IKIeQS','GitConnectionMiddleware','2351385nicRVH','Tokens','550818bjhaei','headers','salesforceService','4913210RMTRJO','length','77PLKubo','design:paramtypes','constructor','__decorate','defineProperty','654239ZJCOUJ','context','../credentials/credentials.factory','../../../../constants/errors','../../salesforce/services/salesforce.service','container'];a155_0x56af=function(){return _0x1f7397;};return a155_0x56af();}const a155_0x5760e2=(function(){let _0x140dfa=!![];return function(_0xe2a6c,_0x54d1af){const _0x278bb6=_0x140dfa?function(){if(_0x54d1af){const _0x527d7b=_0x54d1af['apply'](_0xe2a6c,arguments);return _0x54d1af=null,_0x527d7b;}}:function(){};return _0x140dfa=![],_0x278bb6;};}()),a155_0x1f8962=a155_0x5760e2(this,function(){const _0x4cfc93=a155_0xfdb4;return a155_0x1f8962[_0x4cfc93(0xac)]()[_0x4cfc93(0xa7)](_0x4cfc93(0xa8))[_0x4cfc93(0xac)]()[_0x4cfc93(0xbd)](a155_0x1f8962)[_0x4cfc93(0xa7)](_0x4cfc93(0xa8));});function a155_0xfdb4(_0x2fa586,_0x5e2fd2){const _0x1a5344=a155_0x56af();return a155_0xfdb4=function(_0x1f8962,_0x5760e2){_0x1f8962=_0x1f8962-0x9b;let _0x56af60=_0x1a5344[_0x1f8962];return _0x56af60;},a155_0xfdb4(_0x2fa586,_0x5e2fd2);}a155_0x1f8962();'use strict';var __decorate=this&&this[a155_0x334f1d(0xbe)]||function(_0x3bc493,_0x8ca129,_0x38fc84,_0x14d785){const _0x49b8fe=a155_0x334f1d;var _0x235396=arguments[_0x49b8fe(0xba)],_0x24a558=_0x235396<0x3?_0x8ca129:_0x14d785===null?_0x14d785=Object[_0x49b8fe(0xad)](_0x8ca129,_0x38fc84):_0x14d785,_0x30d6f2;if(typeof Reflect===_0x49b8fe(0xaf)&&typeof Reflect[_0x49b8fe(0x9e)]===_0x49b8fe(0xa5))_0x24a558=Reflect[_0x49b8fe(0x9e)](_0x3bc493,_0x8ca129,_0x38fc84,_0x14d785);else{for(var _0x1d422e=_0x3bc493[_0x49b8fe(0xba)]-0x1;_0x1d422e>=0x0;_0x1d422e--)if(_0x30d6f2=_0x3bc493[_0x1d422e])_0x24a558=(_0x235396<0x3?_0x30d6f2(_0x24a558):_0x235396>0x3?_0x30d6f2(_0x8ca129,_0x38fc84,_0x24a558):_0x30d6f2(_0x8ca129,_0x38fc84))||_0x24a558;}return _0x235396>0x3&&_0x24a558&&Object['defineProperty'](_0x8ca129,_0x38fc84,_0x24a558),_0x24a558;},__metadata=this&&this['__metadata']||function(_0x36326e,_0xc16e07){const _0x54031b=a155_0x334f1d;if(typeof Reflect===_0x54031b(0xaf)&&typeof Reflect['metadata']===_0x54031b(0xa5))return Reflect[_0x54031b(0xa9)](_0x36326e,_0xc16e07);};Object[a155_0x334f1d(0xbf)](exports,a155_0x334f1d(0xa6),{'value':!![]}),exports[a155_0x334f1d(0xb3)]=void 0x0;const core_1=require(a155_0x334f1d(0xb0)),salesforce_service_1=require(a155_0x334f1d(0x9c)),providers_tokens_1=require(a155_0x334f1d(0x9f)),credentials_factory_1=require(a155_0x334f1d(0xc2)),git_api_factory_1=require('../api/git-api.factory'),errors_1=require(a155_0x334f1d(0x9b));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x4cfd1e){const _0x43b39c=a155_0x334f1d;this[_0x43b39c(0xb8)]=_0x4cfd1e;}async['handle'](_0x4b10e4,_0x1c91e9){const _0x33f71a=a155_0x334f1d,_0x48fafa=_0x4b10e4[_0x33f71a(0xb7)]['x-connection-id']||null;if(!_0x48fafa||!_0x4b10e4[_0x33f71a(0xc1)][_0x33f71a(0x9d)])throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x23240b=await this[_0x33f71a(0xb8)]['fetchConnection'](_0x48fafa);if(!_0x23240b)throw new Error(errors_1['ERR_UNKNOWN_GIT_SERVICE']);const _0x57fb25=await credentials_factory_1['CredentialsFactory'][_0x33f71a(0xab)](_0x23240b),_0x476895=_0x4b10e4[_0x33f71a(0xc1)]['container'];_0x476895[_0x33f71a(0xa2)](providers_tokens_1[_0x33f71a(0xb5)][_0x33f71a(0xae)],_0x23240b[_0x33f71a(0xa3)]),_0x476895[_0x33f71a(0xa2)](providers_tokens_1[_0x33f71a(0xb5)]['credentials'],_0x57fb25),_0x4b10e4[_0x33f71a(0xc1)]['provider']=git_api_factory_1['ServicesFactory']['createFromProvider'](_0x476895,_0x23240b[_0x33f71a(0xa3)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a155_0x334f1d(0xaa)])('before'),__metadata(a155_0x334f1d(0xbc),[salesforce_service_1['SalesforceService']])],GitConnectionMiddleware),exports[a155_0x334f1d(0xb3)]=GitConnectionMiddleware;