const a155_0x30ca8d=a155_0x404b;(function(_0x3ef2da,_0xe7a6ec){const _0x18d4f1=a155_0x404b,_0x56bd17=_0x3ef2da();while(!![]){try{const _0x4dc478=parseInt(_0x18d4f1(0x125))/0x1+-parseInt(_0x18d4f1(0x140))/0x2*(-parseInt(_0x18d4f1(0x12d))/0x3)+parseInt(_0x18d4f1(0x12a))/0x4+-parseInt(_0x18d4f1(0x13d))/0x5*(-parseInt(_0x18d4f1(0x123))/0x6)+parseInt(_0x18d4f1(0x136))/0x7+-parseInt(_0x18d4f1(0x122))/0x8+-parseInt(_0x18d4f1(0x138))/0x9;if(_0x4dc478===_0xe7a6ec)break;else _0x56bd17['push'](_0x56bd17['shift']());}catch(_0x494671){_0x56bd17['push'](_0x56bd17['shift']());}}}(a155_0x1743,0x30870));const a155_0x38c275=(function(){let _0x4660ee=!![];return function(_0x5475dc,_0x25a197){const _0x893ab3=_0x4660ee?function(){const _0xd4142d=a155_0x404b;if(_0x25a197){const _0x54e8a0=_0x25a197[_0xd4142d(0x12e)](_0x5475dc,arguments);return _0x25a197=null,_0x54e8a0;}}:function(){};return _0x4660ee=![],_0x893ab3;};}()),a155_0x50378b=a155_0x38c275(this,function(){const _0x1b86b7=a155_0x404b;return a155_0x50378b[_0x1b86b7(0x11a)]()[_0x1b86b7(0x139)](_0x1b86b7(0x130))['toString']()[_0x1b86b7(0x132)](a155_0x50378b)[_0x1b86b7(0x139)]('(((.+)+)+)+$');});a155_0x50378b();'use strict';function a155_0x404b(_0x3f3f59,_0x783c90){const _0x2559b3=a155_0x1743();return a155_0x404b=function(_0x50378b,_0x38c275){_0x50378b=_0x50378b-0x119;let _0x174302=_0x2559b3[_0x50378b];return _0x174302;},a155_0x404b(_0x3f3f59,_0x783c90);}var __decorate=this&&this[a155_0x30ca8d(0x12f)]||function(_0x32ee85,_0x3cf126,_0x5c8947,_0x4159ed){const _0x2a649d=a155_0x30ca8d;var _0x5d6969=arguments['length'],_0x14f9a1=_0x5d6969<0x3?_0x3cf126:_0x4159ed===null?_0x4159ed=Object[_0x2a649d(0x13c)](_0x3cf126,_0x5c8947):_0x4159ed,_0x4d87b7;if(typeof Reflect===_0x2a649d(0x137)&&typeof Reflect['decorate']===_0x2a649d(0x142))_0x14f9a1=Reflect[_0x2a649d(0x124)](_0x32ee85,_0x3cf126,_0x5c8947,_0x4159ed);else{for(var _0x74a670=_0x32ee85[_0x2a649d(0x129)]-0x1;_0x74a670>=0x0;_0x74a670--)if(_0x4d87b7=_0x32ee85[_0x74a670])_0x14f9a1=(_0x5d6969<0x3?_0x4d87b7(_0x14f9a1):_0x5d6969>0x3?_0x4d87b7(_0x3cf126,_0x5c8947,_0x14f9a1):_0x4d87b7(_0x3cf126,_0x5c8947))||_0x14f9a1;}return _0x5d6969>0x3&&_0x14f9a1&&Object[_0x2a649d(0x13b)](_0x3cf126,_0x5c8947,_0x14f9a1),_0x14f9a1;},__metadata=this&&this[a155_0x30ca8d(0x13a)]||function(_0x306282,_0x4a39de){const _0x14cd73=a155_0x30ca8d;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x14cd73(0x142))return Reflect[_0x14cd73(0x135)](_0x306282,_0x4a39de);};Object[a155_0x30ca8d(0x13b)](exports,'__esModule',{'value':!![]}),exports['GitConnectionMiddleware']=void 0x0;const core_1=require('../../../../core'),salesforce_service_1=require(a155_0x30ca8d(0x119)),providers_tokens_1=require('../providers.tokens'),credentials_factory_1=require('../credentials/credentials.factory'),git_api_factory_1=require(a155_0x30ca8d(0x134)),errors_1=require('../../../../constants/errors');function a155_0x1743(){const _0x162933=['decorate','324894LtVmEe','CredentialsFactory','container','credentials','length','996056MXfbzu','Tokens','SalesforceService','21uLJEhG','apply','__decorate','(((.+)+)+)+$','before','constructor','createFromConnection','../api/git-api.factory','metadata','2539292jKHHqN','object','7621785QNlPhf','search','__metadata','defineProperty','getOwnPropertyDescriptor','109465XZrOYa','ServicesFactory','headers','49230reDWkB','ERR_UNKNOWN_GIT_SERVICE','function','provider','../../salesforce/services/salesforce.service','toString','context','set','Middleware','handle','x-connection-id','gitProvider','GitConnectionMiddleware','2433272IATzdf','66IyRCnp'];a155_0x1743=function(){return _0x162933;};return a155_0x1743();}let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x155435){this['salesforceService']=_0x155435;}async[a155_0x30ca8d(0x11e)](_0x38c01d,_0xbcce88){const _0x5e199a=a155_0x30ca8d,_0x3ef7cc=_0x38c01d[_0x5e199a(0x13f)][_0x5e199a(0x11f)]||null;if(!_0x3ef7cc||!_0x38c01d['context'][_0x5e199a(0x127)])throw new Error(errors_1[_0x5e199a(0x141)]);const _0x973690=await this['salesforceService']['fetchConnection'](_0x3ef7cc);if(!_0x973690)throw new Error(errors_1[_0x5e199a(0x141)]);const _0x107775=await credentials_factory_1[_0x5e199a(0x126)][_0x5e199a(0x133)](_0x973690),_0x404315=_0x38c01d['context'][_0x5e199a(0x127)];_0x404315[_0x5e199a(0x11c)](providers_tokens_1[_0x5e199a(0x12b)][_0x5e199a(0x143)],_0x973690[_0x5e199a(0x120)]),_0x404315[_0x5e199a(0x11c)](providers_tokens_1['Tokens'][_0x5e199a(0x128)],_0x107775),_0x38c01d[_0x5e199a(0x11b)][_0x5e199a(0x143)]=git_api_factory_1[_0x5e199a(0x13e)]['createFromProvider'](_0x404315,_0x973690[_0x5e199a(0x120)]);}};GitConnectionMiddleware=__decorate([(0x0,core_1[a155_0x30ca8d(0x11d)])(a155_0x30ca8d(0x131)),__metadata('design:paramtypes',[salesforce_service_1[a155_0x30ca8d(0x12c)]])],GitConnectionMiddleware),exports[a155_0x30ca8d(0x121)]=GitConnectionMiddleware;