const a227_0x3ed103=a227_0x50bc;(function(_0x3e584f,_0x4f252e){const _0x9026bc=a227_0x50bc,_0x119688=_0x3e584f();while(!![]){try{const _0x4c7e5a=parseInt(_0x9026bc(0xef))/0x1*(-parseInt(_0x9026bc(0xe0))/0x2)+parseInt(_0x9026bc(0xce))/0x3*(-parseInt(_0x9026bc(0xcf))/0x4)+parseInt(_0x9026bc(0xd3))/0x5*(parseInt(_0x9026bc(0xcb))/0x6)+parseInt(_0x9026bc(0xdf))/0x7*(-parseInt(_0x9026bc(0xe7))/0x8)+parseInt(_0x9026bc(0xe9))/0x9+-parseInt(_0x9026bc(0xdb))/0xa+-parseInt(_0x9026bc(0xc5))/0xb*(-parseInt(_0x9026bc(0xc3))/0xc);if(_0x4c7e5a===_0x4f252e)break;else _0x119688['push'](_0x119688['shift']());}catch(_0xdbc19e){_0x119688['push'](_0x119688['shift']());}}}(a227_0x995f,0x71630));const a227_0x2cfe66=(function(){let _0x3a9b8a=!![];return function(_0x2f0895,_0x732692){const _0x4dddc8=_0x3a9b8a?function(){const _0x428305=a227_0x50bc;if(_0x732692){const _0xfa02cc=_0x732692[_0x428305(0xc9)](_0x2f0895,arguments);return _0x732692=null,_0xfa02cc;}}:function(){};return _0x3a9b8a=![],_0x4dddc8;};}()),a227_0x1f97c=a227_0x2cfe66(this,function(){const _0x324867=a227_0x50bc;return a227_0x1f97c['toString']()['search'](_0x324867(0xea))[_0x324867(0xd0)]()[_0x324867(0xe6)](a227_0x1f97c)['search'](_0x324867(0xea));});a227_0x1f97c();function a227_0x995f(){const _0x286618=['__decorate','__metadata','578712LLMjSX','../providers.tokens','396dBUPkD','decorate','__esModule','CredentialsFactory','apply','object','24VmkKPB','context','fetchConnection','478809KaxHrc','20dxXEnz','toString','createFromConnection','Tokens','874075EvzduT','../../../../core','design:paramtypes','ServicesFactory','salesforceService','../api/git-api.factory','credentials','../../../../constants/errors','5745810FnEjsx','defineProperty','headers','createFromProvider','427ApcaHV','19960PmJBqR','before','SalesforceService','gitProvider','container','function','constructor','92368TPfHhc','provider','2480382pXJgLU','(((.+)+)+)+$','GitConnectionMiddleware','metadata','ERR_UNKNOWN_GIT_SERVICE','length','17GrElnE'];a227_0x995f=function(){return _0x286618;};return a227_0x995f();}'use strict';var __decorate=this&&this[a227_0x3ed103(0xc1)]||function(_0x3b5955,_0x234cde,_0x579012,_0x5c8a2f){const _0x586bf1=a227_0x3ed103;var _0x121427=arguments[_0x586bf1(0xee)],_0x1b82ce=_0x121427<0x3?_0x234cde:_0x5c8a2f===null?_0x5c8a2f=Object['getOwnPropertyDescriptor'](_0x234cde,_0x579012):_0x5c8a2f,_0x13a867;if(typeof Reflect===_0x586bf1(0xca)&&typeof Reflect[_0x586bf1(0xc6)]===_0x586bf1(0xe5))_0x1b82ce=Reflect[_0x586bf1(0xc6)](_0x3b5955,_0x234cde,_0x579012,_0x5c8a2f);else{for(var _0x1efd9c=_0x3b5955['length']-0x1;_0x1efd9c>=0x0;_0x1efd9c--)if(_0x13a867=_0x3b5955[_0x1efd9c])_0x1b82ce=(_0x121427<0x3?_0x13a867(_0x1b82ce):_0x121427>0x3?_0x13a867(_0x234cde,_0x579012,_0x1b82ce):_0x13a867(_0x234cde,_0x579012))||_0x1b82ce;}return _0x121427>0x3&&_0x1b82ce&&Object[_0x586bf1(0xdc)](_0x234cde,_0x579012,_0x1b82ce),_0x1b82ce;},__metadata=this&&this[a227_0x3ed103(0xc2)]||function(_0x2941b6,_0x4a43fb){const _0x1ce117=a227_0x3ed103;if(typeof Reflect===_0x1ce117(0xca)&&typeof Reflect['metadata']===_0x1ce117(0xe5))return Reflect[_0x1ce117(0xec)](_0x2941b6,_0x4a43fb);};function a227_0x50bc(_0x53e17b,_0x4618f8){const _0x44064d=a227_0x995f();return a227_0x50bc=function(_0x1f97c,_0x2cfe66){_0x1f97c=_0x1f97c-0xc1;let _0x995f2b=_0x44064d[_0x1f97c];return _0x995f2b;},a227_0x50bc(_0x53e17b,_0x4618f8);}Object[a227_0x3ed103(0xdc)](exports,a227_0x3ed103(0xc7),{'value':!![]}),exports[a227_0x3ed103(0xeb)]=void 0x0;const core_1=require(a227_0x3ed103(0xd4)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),providers_tokens_1=require(a227_0x3ed103(0xc4)),credentials_factory_1=require('../credentials/credentials.factory'),git_api_factory_1=require(a227_0x3ed103(0xd8)),errors_1=require(a227_0x3ed103(0xda));let GitConnectionMiddleware=class GitConnectionMiddleware{constructor(_0x580370){const _0x5a2295=a227_0x3ed103;this[_0x5a2295(0xd7)]=_0x580370;}async['handle'](_0x35e003,_0x13fa52){const _0x38ab41=a227_0x3ed103,_0x3b3473=_0x35e003[_0x38ab41(0xdd)]['x-connection-id']||null;if(!_0x3b3473||!_0x35e003[_0x38ab41(0xcc)][_0x38ab41(0xe4)])throw new Error(errors_1[_0x38ab41(0xed)]);const _0x3d6f8f=await this[_0x38ab41(0xd7)][_0x38ab41(0xcd)](_0x3b3473);if(!_0x3d6f8f)throw new Error(errors_1[_0x38ab41(0xed)]);const _0x3bfc7d=await credentials_factory_1[_0x38ab41(0xc8)][_0x38ab41(0xd1)](_0x3d6f8f),_0x2a4786=_0x35e003[_0x38ab41(0xcc)][_0x38ab41(0xe4)];_0x2a4786['set'](providers_tokens_1[_0x38ab41(0xd2)][_0x38ab41(0xe8)],_0x3d6f8f[_0x38ab41(0xe3)]),_0x2a4786['set'](providers_tokens_1[_0x38ab41(0xd2)][_0x38ab41(0xd9)],_0x3bfc7d),_0x35e003[_0x38ab41(0xcc)]['provider']=git_api_factory_1[_0x38ab41(0xd6)][_0x38ab41(0xde)](_0x2a4786,_0x3d6f8f['gitProvider']);}};GitConnectionMiddleware=__decorate([(0x0,core_1['Middleware'])(a227_0x3ed103(0xe1)),__metadata(a227_0x3ed103(0xd5),[salesforce_service_1[a227_0x3ed103(0xe2)]])],GitConnectionMiddleware),exports['GitConnectionMiddleware']=GitConnectionMiddleware;