const a242_0x221bab=a242_0x4329;(function(_0x58ebf7,_0x56bd54){const _0x583a22=a242_0x4329,_0xcf864e=_0x58ebf7();while(!![]){try{const _0x472321=-parseInt(_0x583a22(0x14f))/0x1+parseInt(_0x583a22(0x12d))/0x2*(parseInt(_0x583a22(0x159))/0x3)+-parseInt(_0x583a22(0x15d))/0x4+-parseInt(_0x583a22(0x132))/0x5+parseInt(_0x583a22(0x149))/0x6+parseInt(_0x583a22(0x137))/0x7*(-parseInt(_0x583a22(0x13d))/0x8)+parseInt(_0x583a22(0x134))/0x9;if(_0x472321===_0x56bd54)break;else _0xcf864e['push'](_0xcf864e['shift']());}catch(_0x530605){_0xcf864e['push'](_0xcf864e['shift']());}}}(a242_0x4ded,0xe0907));const a242_0xecdddc=(function(){let _0x551c5a=!![];return function(_0x470651,_0x1a5f09){const _0x538602=_0x551c5a?function(){if(_0x1a5f09){const _0x1a59e9=_0x1a5f09['apply'](_0x470651,arguments);return _0x1a5f09=null,_0x1a59e9;}}:function(){};return _0x551c5a=![],_0x538602;};}()),a242_0xb8ccd6=a242_0xecdddc(this,function(){const _0x24d5ec=a242_0x4329;return a242_0xb8ccd6['toString']()[_0x24d5ec(0x155)](_0x24d5ec(0x12c))['toString']()[_0x24d5ec(0x144)](a242_0xb8ccd6)[_0x24d5ec(0x155)]('(((.+)+)+)+$');});function a242_0x4ded(){const _0x3f3287=['private','projects','3662010odBfsW','credentials','38752920SScdRJ','update','../../../../../core/errors/api.error','7rsqgGe','length','NotFoundError','users/','request','groupId','8498424zljYfL','createRequest','getUsername','fromGitlab','groups/','createEmptyBranch','username','constructor','map','Tokens','groupPath','__param','2894022pFwyKJ','getOne','Git','../../../../../core/errors/not-found.error','createRequestToRepo','./git-repo.service','1593686CIaBft','getGroup','metadata','autoInit','../../providers.tokens','master','search','typedi','defaultBranch','../repo.class','3439461MdqkFf','Service','../../../../../core/errors/bad-request.error','delete','6505992WzxUkT','decorate','get','Repo','/projects','push','function','put','name','Inject','getCurrentUser','GitRepoService','api','public','ApiError','GitlabRepoService','apiBody','full_path','../../credentials/dto/gitlab-credentials.dto','(((.+)+)+)+$','2jjHoOr','BadRequestError','getOwnPropertyDescriptor'];a242_0x4ded=function(){return _0x3f3287;};return a242_0x4ded();}a242_0xb8ccd6();'use strict';var __decorate=this&&this['__decorate']||function(_0x5e616c,_0x2191bf,_0x527639,_0x4cf1b4){const _0x1de7dc=a242_0x4329;var _0x6707b0=arguments[_0x1de7dc(0x138)],_0x17e3d0=_0x6707b0<0x3?_0x2191bf:_0x4cf1b4===null?_0x4cf1b4=Object[_0x1de7dc(0x12f)](_0x2191bf,_0x527639):_0x4cf1b4,_0x1cec5f;if(typeof Reflect==='object'&&typeof Reflect[_0x1de7dc(0x15e)]===_0x1de7dc(0x163))_0x17e3d0=Reflect[_0x1de7dc(0x15e)](_0x5e616c,_0x2191bf,_0x527639,_0x4cf1b4);else{for(var _0x2882cc=_0x5e616c[_0x1de7dc(0x138)]-0x1;_0x2882cc>=0x0;_0x2882cc--)if(_0x1cec5f=_0x5e616c[_0x2882cc])_0x17e3d0=(_0x6707b0<0x3?_0x1cec5f(_0x17e3d0):_0x6707b0>0x3?_0x1cec5f(_0x2191bf,_0x527639,_0x17e3d0):_0x1cec5f(_0x2191bf,_0x527639))||_0x17e3d0;}return _0x6707b0>0x3&&_0x17e3d0&&Object['defineProperty'](_0x2191bf,_0x527639,_0x17e3d0),_0x17e3d0;},__metadata=this&&this['__metadata']||function(_0x3cf883,_0x330792){const _0x482e28=a242_0x4329;if(typeof Reflect==='object'&&typeof Reflect[_0x482e28(0x151)]==='function')return Reflect[_0x482e28(0x151)](_0x3cf883,_0x330792);},__param=this&&this[a242_0x221bab(0x148)]||function(_0x19f95e,_0x48f977){return function(_0x1a04ab,_0x2d84fc){_0x48f977(_0x1a04ab,_0x2d84fc,_0x19f95e);};};function a242_0x4329(_0x58eb26,_0x3956b4){const _0x21c494=a242_0x4ded();return a242_0x4329=function(_0xb8ccd6,_0xecdddc){_0xb8ccd6=_0xb8ccd6-0x129;let _0x4dede0=_0x21c494[_0xb8ccd6];return _0x4dede0;},a242_0x4329(_0x58eb26,_0x3956b4);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a242_0x221bab(0x16c)]=void 0x0;const bad_request_error_1=require(a242_0x221bab(0x15b)),not_found_error_1=require(a242_0x221bab(0x14c)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a242_0x221bab(0x156)),api_error_1=require(a242_0x221bab(0x136)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a242_0x221bab(0x158)),git_repo_service_1=require(a242_0x221bab(0x14e)),gitlab_credentials_dto_1=require(a242_0x221bab(0x12b)),providers_tokens_1=require(a242_0x221bab(0x153));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a242_0x221bab(0x168)]{constructor(_0x424fa5,_0x4a89c1){const _0x2e71f0=a242_0x221bab;super(_0x424fa5),this[_0x2e71f0(0x169)]=_0x424fa5,this[_0x2e71f0(0x13c)]=_0x4a89c1[_0x2e71f0(0x13c)],this[_0x2e71f0(0x133)]=_0x4a89c1;}async['getGroupPath'](){const _0x51910d=a242_0x221bab;if(!this[_0x51910d(0x147)]){const _0x190c8e=await this[_0x51910d(0x169)][_0x51910d(0x150)](this['groupId']);this['groupPath']=_0x190c8e[_0x51910d(0x12a)];}return this[_0x51910d(0x147)];}async[a242_0x221bab(0x13f)](){const _0x28a222=a242_0x221bab;if(!this[_0x28a222(0x143)]){const _0x8fa5a=await this['api'][_0x28a222(0x167)]();this[_0x28a222(0x143)]=_0x8fa5a[_0x28a222(0x143)];}return this[_0x28a222(0x143)];}async[a242_0x221bab(0x14d)](_0x3b188e){const _0x2ec7ea=a242_0x221bab,_0x1e772f=await(this[_0x2ec7ea(0x13c)]?this['getGroupPath']():this[_0x2ec7ea(0x13f)]()),_0x1d4718=this[_0x2ec7ea(0x169)][_0x2ec7ea(0x13e)](this[_0x2ec7ea(0x13b)]['defaults']['baseURL']+'/projects/'+encodeURIComponent(_0x1e772f+'/'+_0x3b188e));return _0x1d4718;}async['create'](_0x161dc9){const _0x2b8228=a242_0x221bab;try{const _0x5e7c4f={'name':_0x161dc9['name'],'visibility':_0x161dc9[_0x2b8228(0x130)]?_0x2b8228(0x130):_0x2b8228(0x16a),'namespace_id':this['groupId'],..._0x161dc9[_0x2b8228(0x129)]||{}},_0x21ed5b=await this[_0x2b8228(0x13b)]['post'](_0x2b8228(0x131),_0x5e7c4f),_0x186401=repo_class_1[_0x2b8228(0x160)][_0x2b8228(0x140)](_0x21ed5b,this[_0x2b8228(0x169)],this[_0x2b8228(0x133)]);return _0x161dc9[_0x2b8228(0x152)]&&await git_internal_1[_0x2b8228(0x14b)][_0x2b8228(0x142)](_0x186401,_0x161dc9[_0x2b8228(0x157)]||{'name':_0x2b8228(0x154)},'',this[_0x2b8228(0x133)]),this[_0x2b8228(0x14a)](_0x186401['name']);}catch(_0x812834){if(_0x812834 instanceof api_error_1[_0x2b8228(0x16b)])throw _0x812834;throw new bad_request_error_1['BadRequestError'](_0x812834);}}async[a242_0x221bab(0x14a)](_0x395479){const _0x53e80f=a242_0x221bab;try{const _0x1f6031=await this[_0x53e80f(0x14d)](_0x395479),_0x4fca02=await _0x1f6031[_0x53e80f(0x15f)]('');return repo_class_1[_0x53e80f(0x160)][_0x53e80f(0x140)](_0x4fca02,this['api'],this[_0x53e80f(0x133)]);}catch(_0xe36d22){if(_0xe36d22 instanceof api_error_1['ApiError'])throw _0xe36d22;throw new not_found_error_1[(_0x53e80f(0x139))](_0xe36d22);}}async['getAll'](){const _0x3b1b02=a242_0x221bab;try{let _0x19874a='';if(this[_0x3b1b02(0x13c)])_0x19874a=_0x3b1b02(0x141)+this[_0x3b1b02(0x13c)]+_0x3b1b02(0x161);else{const _0x68509=await this[_0x3b1b02(0x13f)]();_0x19874a=_0x3b1b02(0x13a)+_0x68509+'/projects';}let _0x3d0690=!![],_0x4a95a9=0x1;const _0x3df521=[];do{const _0x31794e=await this[_0x3b1b02(0x13b)][_0x3b1b02(0x15f)](_0x19874a,{'params':{'page':_0x4a95a9,'per_page':0x64}});_0x3df521[_0x3b1b02(0x162)](..._0x31794e),_0x3d0690=_0x31794e[_0x3b1b02(0x138)]>0x0,_0x4a95a9+=0x1;}while(_0x3d0690);return _0x3df521[_0x3b1b02(0x145)](_0x5bdfe3=>repo_class_1[_0x3b1b02(0x160)][_0x3b1b02(0x140)](_0x5bdfe3,this['api'],this['credentials']));}catch(_0x221fe2){if(_0x221fe2 instanceof api_error_1[_0x3b1b02(0x16b)])throw _0x221fe2;throw new not_found_error_1[(_0x3b1b02(0x139))](_0x221fe2);}}async[a242_0x221bab(0x135)](_0x349026,_0x482c96){const _0x5a37f2=a242_0x221bab;try{const _0x53708d=await this[_0x5a37f2(0x14d)](_0x349026),_0x555568=await _0x53708d[_0x5a37f2(0x164)]('',{..._0x482c96,'path':_0x482c96[_0x5a37f2(0x165)]});return repo_class_1[_0x5a37f2(0x160)]['fromGitlab'](_0x555568,this[_0x5a37f2(0x169)],this['credentials']);}catch(_0x522c0d){if(_0x522c0d instanceof api_error_1[_0x5a37f2(0x16b)])throw _0x522c0d;throw new not_found_error_1[(_0x5a37f2(0x139))](_0x522c0d);}}async[a242_0x221bab(0x15c)](_0x30a822){const _0x45ad26=a242_0x221bab;try{const _0x42e083=await this['createRequestToRepo'](_0x30a822);await _0x42e083[_0x45ad26(0x15c)]('');}catch(_0x4f589c){if(_0x4f589c instanceof api_error_1[_0x45ad26(0x16b)])throw _0x4f589c;throw new bad_request_error_1[(_0x45ad26(0x12e))](_0x4f589c);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a242_0x221bab(0x15a)])(),__param(0x1,(0x0,typedi_1[a242_0x221bab(0x166)])(providers_tokens_1[a242_0x221bab(0x146)][a242_0x221bab(0x133)])),__metadata('design:paramtypes',[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports[a242_0x221bab(0x16c)]=GitlabRepoService;