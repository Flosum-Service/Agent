const a241_0x197ccc=a241_0x19ea;(function(_0x4d5dc4,_0x4bd2a1){const _0xef9b62=a241_0x19ea,_0x5a511a=_0x4d5dc4();while(!![]){try{const _0x5ed8a2=-parseInt(_0xef9b62(0x85))/0x1+-parseInt(_0xef9b62(0xc9))/0x2*(-parseInt(_0xef9b62(0xc3))/0x3)+parseInt(_0xef9b62(0xa4))/0x4*(parseInt(_0xef9b62(0xb2))/0x5)+-parseInt(_0xef9b62(0xa3))/0x6*(parseInt(_0xef9b62(0xa5))/0x7)+-parseInt(_0xef9b62(0xaf))/0x8*(parseInt(_0xef9b62(0xbe))/0x9)+-parseInt(_0xef9b62(0xad))/0xa*(-parseInt(_0xef9b62(0xc0))/0xb)+-parseInt(_0xef9b62(0x9e))/0xc*(parseInt(_0xef9b62(0xba))/0xd);if(_0x5ed8a2===_0x4bd2a1)break;else _0x5a511a['push'](_0x5a511a['shift']());}catch(_0x34ffa7){_0x5a511a['push'](_0x5a511a['shift']());}}}(a241_0x5b3b,0x2fae5));const a241_0x3e0776=(function(){let _0x124272=!![];return function(_0x15af1a,_0x1031e9){const _0xdfb784=_0x124272?function(){const _0x5b8851=a241_0x19ea;if(_0x1031e9){const _0x445024=_0x1031e9[_0x5b8851(0x99)](_0x15af1a,arguments);return _0x1031e9=null,_0x445024;}}:function(){};return _0x124272=![],_0xdfb784;};}()),a241_0x5073a7=a241_0x3e0776(this,function(){const _0x2ae5bd=a241_0x19ea;return a241_0x5073a7[_0x2ae5bd(0xaa)]()[_0x2ae5bd(0x84)](_0x2ae5bd(0xc6))[_0x2ae5bd(0xaa)]()[_0x2ae5bd(0x97)](a241_0x5073a7)[_0x2ae5bd(0x84)](_0x2ae5bd(0xc6));});a241_0x5073a7();'use strict';var __decorate=this&&this[a241_0x197ccc(0xb6)]||function(_0x19f11f,_0x2d41e2,_0x377f5a,_0x3186e8){const _0x56cf94=a241_0x197ccc;var _0x14c58a=arguments[_0x56cf94(0xb8)],_0x5cb234=_0x14c58a<0x3?_0x2d41e2:_0x3186e8===null?_0x3186e8=Object[_0x56cf94(0x92)](_0x2d41e2,_0x377f5a):_0x3186e8,_0xff10ab;if(typeof Reflect===_0x56cf94(0xc2)&&typeof Reflect['decorate']===_0x56cf94(0x8d))_0x5cb234=Reflect[_0x56cf94(0x9f)](_0x19f11f,_0x2d41e2,_0x377f5a,_0x3186e8);else{for(var _0x4d134f=_0x19f11f[_0x56cf94(0xb8)]-0x1;_0x4d134f>=0x0;_0x4d134f--)if(_0xff10ab=_0x19f11f[_0x4d134f])_0x5cb234=(_0x14c58a<0x3?_0xff10ab(_0x5cb234):_0x14c58a>0x3?_0xff10ab(_0x2d41e2,_0x377f5a,_0x5cb234):_0xff10ab(_0x2d41e2,_0x377f5a))||_0x5cb234;}return _0x14c58a>0x3&&_0x5cb234&&Object[_0x56cf94(0xb1)](_0x2d41e2,_0x377f5a,_0x5cb234),_0x5cb234;},__metadata=this&&this[a241_0x197ccc(0x88)]||function(_0x262aa9,_0x59ae76){const _0x560662=a241_0x197ccc;if(typeof Reflect===_0x560662(0xc2)&&typeof Reflect[_0x560662(0xa9)]===_0x560662(0x8d))return Reflect['metadata'](_0x262aa9,_0x59ae76);},__param=this&&this['__param']||function(_0x315a69,_0x7587b5){return function(_0x4c6291,_0x2d8fbe){_0x7587b5(_0x4c6291,_0x2d8fbe,_0x315a69);};};function a241_0x19ea(_0x3e1b3a,_0x340742){const _0x451d3a=a241_0x5b3b();return a241_0x19ea=function(_0x5073a7,_0x3e0776){_0x5073a7=_0x5073a7-0x82;let _0x5b3b6c=_0x451d3a[_0x5073a7];return _0x5b3b6c;},a241_0x19ea(_0x3e1b3a,_0x340742);}Object[a241_0x197ccc(0xb1)](exports,a241_0x197ccc(0xbc),{'value':!![]}),exports[a241_0x197ccc(0xc4)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a241_0x197ccc(0xc5)),gitlab_api_service_1=require(a241_0x197ccc(0x95)),typedi_1=require(a241_0x197ccc(0xb3)),api_error_1=require(a241_0x197ccc(0x9c)),git_internal_1=require(a241_0x197ccc(0x8a)),repo_class_1=require(a241_0x197ccc(0xc8)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a241_0x197ccc(0x91)),providers_tokens_1=require(a241_0x197ccc(0xb4));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a241_0x197ccc(0xa6)]{constructor(_0x3c5a8d,_0x1a4100){const _0x4ed4e2=a241_0x197ccc;super(_0x3c5a8d),this[_0x4ed4e2(0x98)]=_0x3c5a8d,this['groupId']=_0x1a4100[_0x4ed4e2(0xa7)],this[_0x4ed4e2(0xca)]=_0x1a4100;}async[a241_0x197ccc(0xc7)](){const _0x1161fb=a241_0x197ccc;if(!this[_0x1161fb(0xab)]){const _0x4074c8=await this[_0x1161fb(0x98)][_0x1161fb(0x9a)](this[_0x1161fb(0xa7)]);this[_0x1161fb(0xab)]=_0x4074c8[_0x1161fb(0x83)];}return this[_0x1161fb(0xab)];}async[a241_0x197ccc(0xbb)](){const _0x3b54e1=a241_0x197ccc;if(!this[_0x3b54e1(0xa2)]){const _0x3bfbfb=await this['api']['getCurrentUser']();this['username']=_0x3bfbfb['username'];}return this['username'];}async[a241_0x197ccc(0xac)](_0x23ee94){const _0x8c0e82=a241_0x197ccc,_0x330d31=await(this[_0x8c0e82(0xa7)]?this['getGroupPath']():this['getUsername']()),_0x28a28b=this[_0x8c0e82(0x98)][_0x8c0e82(0x90)](this['request'][_0x8c0e82(0x8e)][_0x8c0e82(0xc1)]+_0x8c0e82(0xb9)+encodeURIComponent(_0x330d31+'/'+_0x23ee94));return _0x28a28b;}async['create'](_0x318c20){const _0x48a025=a241_0x197ccc;try{const _0x56c53d={'name':_0x318c20[_0x48a025(0xb0)],'visibility':_0x318c20['private']?_0x48a025(0x9d):_0x48a025(0xae),'namespace_id':this['groupId'],..._0x318c20[_0x48a025(0x96)]||{}},_0x4b14de=await this[_0x48a025(0x8c)]['post']('projects',_0x56c53d),_0x41f741=repo_class_1['Repo'][_0x48a025(0x94)](_0x4b14de,this['api'],this['credentials']);return _0x318c20[_0x48a025(0xbf)]&&await git_internal_1[_0x48a025(0x82)]['createEmptyBranch'](_0x41f741,_0x318c20[_0x48a025(0xbd)]||{'name':_0x48a025(0xa1)},'',this['credentials']),this['getOne'](_0x41f741['name']);}catch(_0x338d3e){if(_0x338d3e instanceof api_error_1['ApiError'])throw _0x338d3e;throw new bad_request_error_1[(_0x48a025(0x87))](_0x338d3e);}}async['getOne'](_0xe03daa){const _0x1a8e97=a241_0x197ccc;try{const _0x324427=await this[_0x1a8e97(0xac)](_0xe03daa),_0x5a2a03=await _0x324427[_0x1a8e97(0x89)]('');return repo_class_1[_0x1a8e97(0x8b)]['fromGitlab'](_0x5a2a03,this[_0x1a8e97(0x98)],this[_0x1a8e97(0xca)]);}catch(_0x297703){if(_0x297703 instanceof api_error_1[_0x1a8e97(0xa0)])throw _0x297703;throw new not_found_error_1[(_0x1a8e97(0xcb))](_0x297703);}}async['getAll'](){const _0x27d96e=a241_0x197ccc;try{let _0x457827='';if(this[_0x27d96e(0xa7)])_0x457827=_0x27d96e(0x86)+this[_0x27d96e(0xa7)]+_0x27d96e(0x93);else{const _0x2f854f=await this[_0x27d96e(0xbb)]();_0x457827='users/'+_0x2f854f+_0x27d96e(0x93);}let _0x45f80c=!![],_0x597f76=0x1;const _0x5b982b=[];do{const _0x3896de=await this[_0x27d96e(0x8c)]['get'](_0x457827,{'params':{'page':_0x597f76,'per_page':0x64}});_0x5b982b['push'](..._0x3896de),_0x45f80c=_0x3896de[_0x27d96e(0xb8)]>0x0,_0x597f76+=0x1;}while(_0x45f80c);return _0x5b982b['map'](_0x1b4045=>repo_class_1['Repo'][_0x27d96e(0x94)](_0x1b4045,this['api'],this['credentials']));}catch(_0x147be8){if(_0x147be8 instanceof api_error_1[_0x27d96e(0xa0)])throw _0x147be8;throw new not_found_error_1['NotFoundError'](_0x147be8);}}async[a241_0x197ccc(0x8f)](_0x10f47c,_0x50243e){const _0x94afc7=a241_0x197ccc;try{const _0x54ca15=await this['createRequestToRepo'](_0x10f47c),_0x26df01=await _0x54ca15[_0x94afc7(0x9b)]('',{..._0x50243e,'path':_0x50243e[_0x94afc7(0xb0)]});return repo_class_1[_0x94afc7(0x8b)][_0x94afc7(0x94)](_0x26df01,this[_0x94afc7(0x98)],this[_0x94afc7(0xca)]);}catch(_0x5aaa0b){if(_0x5aaa0b instanceof api_error_1[_0x94afc7(0xa0)])throw _0x5aaa0b;throw new not_found_error_1[(_0x94afc7(0xcb))](_0x5aaa0b);}}async['delete'](_0x5eb23c){const _0x247daa=a241_0x197ccc;try{const _0x3a781d=await this[_0x247daa(0xac)](_0x5eb23c);await _0x3a781d['delete']('');}catch(_0xb2a48f){if(_0xb2a48f instanceof api_error_1[_0x247daa(0xa0)])throw _0xb2a48f;throw new bad_request_error_1[(_0x247daa(0x87))](_0xb2a48f);}}};function a241_0x5b3b(){const _0x440cf0=['toString','groupPath','createRequestToRepo','2114980FkqibH','public','24DrZCkJ','name','defineProperty','1034510VkWrzG','typedi','../../providers.tokens','Service','__decorate','GitlabApiService','length','/projects/','39OrCnYI','getUsername','__esModule','defaultBranch','273654ZiJUuO','autoInit','11lYvbES','baseURL','object','457269SBtzqp','GitlabRepoService','../../../../../core/errors/not-found.error','(((.+)+)+)+$','getGroupPath','../repo.class','2qkgYoA','credentials','NotFoundError','Git','full_path','search','100067VuPXuy','groups/','BadRequestError','__metadata','get','../../../internal/git.internal','Repo','request','function','defaults','update','createRequest','../../credentials/dto/gitlab-credentials.dto','getOwnPropertyDescriptor','/projects','fromGitlab','../../api/gitlab-api.service','apiBody','constructor','api','apply','getGroup','put','../../../../../core/errors/api.error','private','263148AJbfdq','decorate','ApiError','master','username','60BRlnUS','4AFWaUU','82915mTsjAi','GitRepoService','groupId','Inject','metadata'];a241_0x5b3b=function(){return _0x440cf0;};return a241_0x5b3b();}GitlabRepoService=__decorate([(0x0,typedi_1[a241_0x197ccc(0xb5)])(),__param(0x1,(0x0,typedi_1[a241_0x197ccc(0xa8)])(providers_tokens_1['Tokens']['credentials'])),__metadata('design:paramtypes',[gitlab_api_service_1[a241_0x197ccc(0xb7)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;