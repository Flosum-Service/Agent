const a171_0xe6706=a171_0x136b;(function(_0x20391a,_0x2909ac){const _0x34a37d=a171_0x136b,_0x29f163=_0x20391a();while(!![]){try{const _0x57dd87=-parseInt(_0x34a37d(0x1c7))/0x1+-parseInt(_0x34a37d(0x1ba))/0x2*(parseInt(_0x34a37d(0x1f7))/0x3)+-parseInt(_0x34a37d(0x1d1))/0x4+-parseInt(_0x34a37d(0x1b9))/0x5+parseInt(_0x34a37d(0x1ea))/0x6*(parseInt(_0x34a37d(0x1d0))/0x7)+-parseInt(_0x34a37d(0x1c1))/0x8+parseInt(_0x34a37d(0x1f4))/0x9*(parseInt(_0x34a37d(0x1c4))/0xa);if(_0x57dd87===_0x2909ac)break;else _0x29f163['push'](_0x29f163['shift']());}catch(_0xd670ea){_0x29f163['push'](_0x29f163['shift']());}}}(a171_0x3157,0x39d42));const a171_0x144c34=(function(){let _0x269cef=!![];return function(_0x15d4a4,_0x2df49b){const _0x33bee7=_0x269cef?function(){const _0xca72fd=a171_0x136b;if(_0x2df49b){const _0x482c2b=_0x2df49b[_0xca72fd(0x1d2)](_0x15d4a4,arguments);return _0x2df49b=null,_0x482c2b;}}:function(){};return _0x269cef=![],_0x33bee7;};}()),a171_0x35ce7d=a171_0x144c34(this,function(){const _0x197d5b=a171_0x136b;return a171_0x35ce7d[_0x197d5b(0x1f3)]()[_0x197d5b(0x1cb)](_0x197d5b(0x1c2))[_0x197d5b(0x1f3)]()[_0x197d5b(0x1ec)](a171_0x35ce7d)[_0x197d5b(0x1cb)](_0x197d5b(0x1c2));});a171_0x35ce7d();'use strict';var __decorate=this&&this[a171_0xe6706(0x1d8)]||function(_0x43b43d,_0x41cce4,_0x4ab280,_0x5afeae){const _0x15c3a4=a171_0xe6706;var _0x193a20=arguments['length'],_0x4c17c5=_0x193a20<0x3?_0x41cce4:_0x5afeae===null?_0x5afeae=Object[_0x15c3a4(0x1e6)](_0x41cce4,_0x4ab280):_0x5afeae,_0x374f42;if(typeof Reflect===_0x15c3a4(0x203)&&typeof Reflect['decorate']==='function')_0x4c17c5=Reflect['decorate'](_0x43b43d,_0x41cce4,_0x4ab280,_0x5afeae);else{for(var _0x1ddee7=_0x43b43d[_0x15c3a4(0x1be)]-0x1;_0x1ddee7>=0x0;_0x1ddee7--)if(_0x374f42=_0x43b43d[_0x1ddee7])_0x4c17c5=(_0x193a20<0x3?_0x374f42(_0x4c17c5):_0x193a20>0x3?_0x374f42(_0x41cce4,_0x4ab280,_0x4c17c5):_0x374f42(_0x41cce4,_0x4ab280))||_0x4c17c5;}return _0x193a20>0x3&&_0x4c17c5&&Object[_0x15c3a4(0x1c0)](_0x41cce4,_0x4ab280,_0x4c17c5),_0x4c17c5;},__metadata=this&&this[a171_0xe6706(0x1fe)]||function(_0x141ea6,_0x5856e7){const _0x57b117=a171_0xe6706;if(typeof Reflect===_0x57b117(0x203)&&typeof Reflect[_0x57b117(0x1ee)]==='function')return Reflect[_0x57b117(0x1ee)](_0x141ea6,_0x5856e7);},__param=this&&this[a171_0xe6706(0x1eb)]||function(_0x856557,_0x1a21ec){return function(_0xfa570a,_0x25fb4a){_0x1a21ec(_0xfa570a,_0x25fb4a,_0x856557);};};function a171_0x136b(_0x4401f2,_0x168afd){const _0x375610=a171_0x3157();return a171_0x136b=function(_0x35ce7d,_0x144c34){_0x35ce7d=_0x35ce7d-0x1b9;let _0x31574c=_0x375610[_0x35ce7d];return _0x31574c;},a171_0x136b(_0x4401f2,_0x168afd);}function a171_0x3157(){const _0x8cdf32=['autoInit','users/','Service','push','../repo.class','../../../../../core/errors/not-found.error','getOwnPropertyDescriptor','getGroup','getUsername','GitlabApiService','6sKlQiU','__param','constructor','ApiError','metadata','map','design:paramtypes','../../providers.tokens','getCurrentUser','toString','13815306zXxBxQ','username','BadRequestError','3tEVpGE','get','../../../internal/git.internal','groupPath','projects','/projects','request','__metadata','createEmptyBranch','create','fromGitlab','public','object','1606790YELXcC','923558lRuMtL','createRequestToRepo','defaultBranch','getGroupPath','length','Git','defineProperty','1172384Wlrhlz','(((.+)+)+)+$','../../../../../core/errors/api.error','10SGfFyW','full_path','groupId','279732sPvhwn','private','../../api/gitlab-api.service','getAll','search','createRequest','master','Inject','name','1037141TtDZnq','947656Tvvmyc','apply','getOne','put','typedi','GitlabRepoService','/projects/','__decorate','__esModule','credentials','Repo','GitRepoService','delete','NotFoundError','api'];a171_0x3157=function(){return _0x8cdf32;};return a171_0x3157();}Object['defineProperty'](exports,a171_0xe6706(0x1d9),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a171_0xe6706(0x1e5)),gitlab_api_service_1=require(a171_0xe6706(0x1c9)),typedi_1=require(a171_0xe6706(0x1d5)),api_error_1=require(a171_0xe6706(0x1c3)),git_internal_1=require(a171_0xe6706(0x1f9)),repo_class_1=require(a171_0xe6706(0x1e4)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a171_0xe6706(0x1f1));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a171_0xe6706(0x1dc)]{constructor(_0x149936,_0x333591){const _0x51b021=a171_0xe6706;super(_0x149936),this[_0x51b021(0x1df)]=_0x149936,this['groupId']=_0x333591[_0x51b021(0x1c6)],this['credentials']=_0x333591;}async[a171_0xe6706(0x1bd)](){const _0xfeb0ce=a171_0xe6706;if(!this[_0xfeb0ce(0x1fa)]){const _0x212e17=await this[_0xfeb0ce(0x1df)][_0xfeb0ce(0x1e7)](this['groupId']);this[_0xfeb0ce(0x1fa)]=_0x212e17[_0xfeb0ce(0x1c5)];}return this[_0xfeb0ce(0x1fa)];}async[a171_0xe6706(0x1e8)](){const _0x1078f3=a171_0xe6706;if(!this[_0x1078f3(0x1f5)]){const _0x351967=await this['api'][_0x1078f3(0x1f2)]();this[_0x1078f3(0x1f5)]=_0x351967[_0x1078f3(0x1f5)];}return this[_0x1078f3(0x1f5)];}async['createRequestToRepo'](_0x251edc){const _0x1124e6=a171_0xe6706,_0x4e5189=await(this['groupId']?this[_0x1124e6(0x1bd)]():this[_0x1124e6(0x1e8)]()),_0x56be1c=this[_0x1124e6(0x1df)][_0x1124e6(0x1cc)](this['request']['defaults']['baseURL']+_0x1124e6(0x1d7)+encodeURIComponent(_0x4e5189+'/'+_0x251edc));return _0x56be1c;}async[a171_0xe6706(0x200)](_0xac16){const _0x4f1d6d=a171_0xe6706;try{const _0x18da73={'name':_0xac16[_0x4f1d6d(0x1cf)],'visibility':_0xac16[_0x4f1d6d(0x1c8)]?_0x4f1d6d(0x1c8):_0x4f1d6d(0x202),'namespace_id':this[_0x4f1d6d(0x1c6)],..._0xac16['apiBody']||{}},_0x5372bd=await this[_0x4f1d6d(0x1fd)]['post'](_0x4f1d6d(0x1fb),_0x18da73),_0x253ae5=repo_class_1['Repo'][_0x4f1d6d(0x201)](_0x5372bd,this[_0x4f1d6d(0x1df)],this[_0x4f1d6d(0x1da)]);return _0xac16[_0x4f1d6d(0x1e0)]&&await git_internal_1[_0x4f1d6d(0x1bf)][_0x4f1d6d(0x1ff)](_0x253ae5,_0xac16[_0x4f1d6d(0x1bc)]||_0x4f1d6d(0x1cd),'',this[_0x4f1d6d(0x1da)]),this['getOne'](_0x253ae5[_0x4f1d6d(0x1cf)]);}catch(_0x1a5663){if(_0x1a5663 instanceof api_error_1[_0x4f1d6d(0x1ed)])throw _0x1a5663;throw new bad_request_error_1[(_0x4f1d6d(0x1f6))](_0x1a5663);}}async[a171_0xe6706(0x1d3)](_0x3e3242){const _0x5107c8=a171_0xe6706;try{const _0x4a15c1=await this['createRequestToRepo'](_0x3e3242),_0x389553=await _0x4a15c1['get']('');return repo_class_1[_0x5107c8(0x1db)][_0x5107c8(0x201)](_0x389553,this[_0x5107c8(0x1df)],this['credentials']);}catch(_0x270d84){if(_0x270d84 instanceof api_error_1[_0x5107c8(0x1ed)])throw _0x270d84;throw new not_found_error_1[(_0x5107c8(0x1de))](_0x270d84);}}async[a171_0xe6706(0x1ca)](){const _0x58145d=a171_0xe6706;try{let _0x142501='';if(this[_0x58145d(0x1c6)])_0x142501='groups/'+this[_0x58145d(0x1c6)]+_0x58145d(0x1fc);else{const _0x324777=await this[_0x58145d(0x1e8)]();_0x142501=_0x58145d(0x1e1)+_0x324777+_0x58145d(0x1fc);}let _0x421d38=!![],_0x5b8f9d=0x1;const _0x2e1ad0=[];do{const _0x523146=await this[_0x58145d(0x1fd)][_0x58145d(0x1f8)](_0x142501,{'params':{'page':_0x5b8f9d,'per_page':0x64}});_0x2e1ad0[_0x58145d(0x1e3)](..._0x523146),_0x421d38=_0x523146[_0x58145d(0x1be)]>0x0,_0x5b8f9d+=0x1;}while(_0x421d38);return _0x2e1ad0[_0x58145d(0x1ef)](_0xe79514=>repo_class_1[_0x58145d(0x1db)][_0x58145d(0x201)](_0xe79514,this[_0x58145d(0x1df)],this[_0x58145d(0x1da)]));}catch(_0x1a5f71){if(_0x1a5f71 instanceof api_error_1[_0x58145d(0x1ed)])throw _0x1a5f71;throw new not_found_error_1['NotFoundError'](_0x1a5f71);}}async['update'](_0x2fb096,_0x55b2ac){const _0x19471a=a171_0xe6706;try{const _0x47bfdf=await this[_0x19471a(0x1bb)](_0x2fb096),_0x3a9085=await _0x47bfdf[_0x19471a(0x1d4)]('',{..._0x55b2ac,'path':_0x55b2ac['name']});return repo_class_1['Repo'][_0x19471a(0x201)](_0x3a9085,this[_0x19471a(0x1df)],this['credentials']);}catch(_0x575bfe){if(_0x575bfe instanceof api_error_1[_0x19471a(0x1ed)])throw _0x575bfe;throw new not_found_error_1[(_0x19471a(0x1de))](_0x575bfe);}}async[a171_0xe6706(0x1dd)](_0x2ce609){const _0x2f6f8a=a171_0xe6706;try{const _0x17b830=await this[_0x2f6f8a(0x1bb)](_0x2ce609);await _0x17b830[_0x2f6f8a(0x1dd)]('');}catch(_0x4ce9e0){if(_0x4ce9e0 instanceof api_error_1[_0x2f6f8a(0x1ed)])throw _0x4ce9e0;throw new bad_request_error_1[(_0x2f6f8a(0x1f6))](_0x4ce9e0);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a171_0xe6706(0x1e2)])(),__param(0x1,(0x0,typedi_1[a171_0xe6706(0x1ce)])(providers_tokens_1['Tokens'][a171_0xe6706(0x1da)])),__metadata(a171_0xe6706(0x1f0),[gitlab_api_service_1[a171_0xe6706(0x1e9)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports[a171_0xe6706(0x1d6)]=GitlabRepoService;