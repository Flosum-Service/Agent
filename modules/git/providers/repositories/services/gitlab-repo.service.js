const a240_0x283177=a240_0x5303;(function(_0x39affd,_0x1d66a9){const _0x2b8fc1=a240_0x5303,_0x2917fd=_0x39affd();while(!![]){try{const _0x7bbded=-parseInt(_0x2b8fc1(0x139))/0x1+parseInt(_0x2b8fc1(0x154))/0x2*(-parseInt(_0x2b8fc1(0x127))/0x3)+parseInt(_0x2b8fc1(0x15a))/0x4+-parseInt(_0x2b8fc1(0x145))/0x5*(parseInt(_0x2b8fc1(0x124))/0x6)+-parseInt(_0x2b8fc1(0x133))/0x7+parseInt(_0x2b8fc1(0x147))/0x8*(parseInt(_0x2b8fc1(0x123))/0x9)+parseInt(_0x2b8fc1(0x130))/0xa;if(_0x7bbded===_0x1d66a9)break;else _0x2917fd['push'](_0x2917fd['shift']());}catch(_0x1379ba){_0x2917fd['push'](_0x2917fd['shift']());}}}(a240_0x1765,0xe8ad1));const a240_0xfcf4d1=(function(){let _0x24b02f=!![];return function(_0x5d8b90,_0x1bd872){const _0x4d9db3=_0x24b02f?function(){const _0x7abfca=a240_0x5303;if(_0x1bd872){const _0x705933=_0x1bd872[_0x7abfca(0x12a)](_0x5d8b90,arguments);return _0x1bd872=null,_0x705933;}}:function(){};return _0x24b02f=![],_0x4d9db3;};}()),a240_0x158151=a240_0xfcf4d1(this,function(){const _0x326493=a240_0x5303;return a240_0x158151[_0x326493(0x141)]()[_0x326493(0x140)](_0x326493(0x125))[_0x326493(0x141)]()[_0x326493(0x157)](a240_0x158151)[_0x326493(0x140)](_0x326493(0x125));});function a240_0x5303(_0x15b702,_0x597bbe){const _0x132fca=a240_0x1765();return a240_0x5303=function(_0x158151,_0xfcf4d1){_0x158151=_0x158151-0x11a;let _0x17650a=_0x132fca[_0x158151];return _0x17650a;},a240_0x5303(_0x15b702,_0x597bbe);}a240_0x158151();'use strict';var __decorate=this&&this[a240_0x283177(0x14f)]||function(_0x184f48,_0x448f33,_0x538164,_0x489a78){const _0x2f1272=a240_0x283177;var _0x54b96b=arguments[_0x2f1272(0x122)],_0x38aa78=_0x54b96b<0x3?_0x448f33:_0x489a78===null?_0x489a78=Object['getOwnPropertyDescriptor'](_0x448f33,_0x538164):_0x489a78,_0x3f9e4b;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2f1272(0x128))_0x38aa78=Reflect[_0x2f1272(0x11e)](_0x184f48,_0x448f33,_0x538164,_0x489a78);else{for(var _0x32394a=_0x184f48['length']-0x1;_0x32394a>=0x0;_0x32394a--)if(_0x3f9e4b=_0x184f48[_0x32394a])_0x38aa78=(_0x54b96b<0x3?_0x3f9e4b(_0x38aa78):_0x54b96b>0x3?_0x3f9e4b(_0x448f33,_0x538164,_0x38aa78):_0x3f9e4b(_0x448f33,_0x538164))||_0x38aa78;}return _0x54b96b>0x3&&_0x38aa78&&Object[_0x2f1272(0x165)](_0x448f33,_0x538164,_0x38aa78),_0x38aa78;},__metadata=this&&this[a240_0x283177(0x158)]||function(_0x500f58,_0x393f13){const _0xb4ee0c=a240_0x283177;if(typeof Reflect===_0xb4ee0c(0x12c)&&typeof Reflect[_0xb4ee0c(0x149)]==='function')return Reflect[_0xb4ee0c(0x149)](_0x500f58,_0x393f13);},__param=this&&this[a240_0x283177(0x146)]||function(_0x19b2ac,_0x5231cb){return function(_0xff143d,_0x4bceb4){_0x5231cb(_0xff143d,_0x4bceb4,_0x19b2ac);};};Object[a240_0x283177(0x165)](exports,a240_0x283177(0x156),{'value':!![]}),exports[a240_0x283177(0x159)]=void 0x0;const bad_request_error_1=require(a240_0x283177(0x13d)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a240_0x283177(0x143)),typedi_1=require(a240_0x283177(0x163)),api_error_1=require(a240_0x283177(0x153)),git_internal_1=require(a240_0x283177(0x15d)),repo_class_1=require(a240_0x283177(0x11d)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a240_0x283177(0x132)),providers_tokens_1=require(a240_0x283177(0x15f));function a240_0x1765(){const _0x1a357e=['groupId','defineProperty','Repo','Git','projects','../repo.class','decorate','getAll','get','getGroupPath','length','54387mHWVvs','7320126LDDUgt','(((.+)+)+)+$','autoInit','327ZzPCpE','function','GitlabApiService','apply','post','object','createRequest','fromGitlab','username','25891540OPKqRv','GitRepoService','../../credentials/dto/gitlab-credentials.dto','8176903PcDJoa','getOne','name','apiBody','public','full_path','79219ZwDujM','api','credentials','BadRequestError','../../../../../core/errors/bad-request.error','Tokens','createEmptyBranch','search','toString','ApiError','../../api/gitlab-api.service','Inject','5fOwKVX','__param','952zpNmyl','map','metadata','NotFoundError','defaults','Service','getGroup','private','__decorate','GitlabCredentialsDto','push','design:paramtypes','../../../../../core/errors/api.error','7652hwqgdV','getUsername','__esModule','constructor','__metadata','GitlabRepoService','2116692cswvsS','groups/','put','../../../internal/git.internal','master','../../providers.tokens','createRequestToRepo','groupPath','request','typedi'];a240_0x1765=function(){return _0x1a357e;};return a240_0x1765();}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a240_0x283177(0x131)]{constructor(_0x4197de,_0x3925e0){const _0xdcda3d=a240_0x283177;super(_0x4197de),this[_0xdcda3d(0x13a)]=_0x4197de,this[_0xdcda3d(0x164)]=_0x3925e0['groupId'],this['credentials']=_0x3925e0;}async[a240_0x283177(0x121)](){const _0x1f144a=a240_0x283177;if(!this[_0x1f144a(0x161)]){const _0x3a25d9=await this[_0x1f144a(0x13a)][_0x1f144a(0x14d)](this[_0x1f144a(0x164)]);this[_0x1f144a(0x161)]=_0x3a25d9[_0x1f144a(0x138)];}return this[_0x1f144a(0x161)];}async[a240_0x283177(0x155)](){const _0x24d789=a240_0x283177;if(!this[_0x24d789(0x12f)]){const _0x1289a7=await this[_0x24d789(0x13a)]['getCurrentUser']();this[_0x24d789(0x12f)]=_0x1289a7[_0x24d789(0x12f)];}return this[_0x24d789(0x12f)];}async[a240_0x283177(0x160)](_0x1dc1b5){const _0xc55049=a240_0x283177,_0x3528b9=await(this['groupId']?this[_0xc55049(0x121)]():this['getUsername']()),_0x5018a2=this[_0xc55049(0x13a)][_0xc55049(0x12d)](this['request'][_0xc55049(0x14b)]['baseURL']+'/projects/'+encodeURIComponent(_0x3528b9+'/'+_0x1dc1b5));return _0x5018a2;}async['create'](_0x5c9bf9){const _0x4804e6=a240_0x283177;try{const _0x3f5621={'name':_0x5c9bf9[_0x4804e6(0x135)],'visibility':_0x5c9bf9['private']?_0x4804e6(0x14e):_0x4804e6(0x137),'namespace_id':this['groupId'],..._0x5c9bf9[_0x4804e6(0x136)]||{}},_0x1435a6=await this[_0x4804e6(0x162)][_0x4804e6(0x12b)](_0x4804e6(0x11c),_0x3f5621),_0x52d9c5=repo_class_1[_0x4804e6(0x11a)][_0x4804e6(0x12e)](_0x1435a6,this[_0x4804e6(0x13a)],this[_0x4804e6(0x13b)]);return _0x5c9bf9[_0x4804e6(0x126)]&&await git_internal_1[_0x4804e6(0x11b)][_0x4804e6(0x13f)](_0x52d9c5,_0x5c9bf9['defaultBranch']||_0x4804e6(0x15e),'',this['credentials']),this[_0x4804e6(0x134)](_0x52d9c5[_0x4804e6(0x135)]);}catch(_0x3d5a35){if(_0x3d5a35 instanceof api_error_1[_0x4804e6(0x142)])throw _0x3d5a35;throw new bad_request_error_1[(_0x4804e6(0x13c))](_0x3d5a35);}}async[a240_0x283177(0x134)](_0x23584){const _0x5bf1ce=a240_0x283177;try{const _0x12bfa6=await this['createRequestToRepo'](_0x23584),_0x1b7558=await _0x12bfa6[_0x5bf1ce(0x120)]('');return repo_class_1[_0x5bf1ce(0x11a)][_0x5bf1ce(0x12e)](_0x1b7558,this[_0x5bf1ce(0x13a)],this['credentials']);}catch(_0x249f1d){if(_0x249f1d instanceof api_error_1['ApiError'])throw _0x249f1d;throw new not_found_error_1[(_0x5bf1ce(0x14a))](_0x249f1d);}}async[a240_0x283177(0x11f)](){const _0x11cf0e=a240_0x283177;try{let _0x4e3bce='';if(this[_0x11cf0e(0x164)])_0x4e3bce=_0x11cf0e(0x15b)+this[_0x11cf0e(0x164)]+'/projects';else{const _0x4d7079=await this[_0x11cf0e(0x155)]();_0x4e3bce='users/'+_0x4d7079+'/projects';}let _0x5837c3=!![],_0x14a5e7=0x1;const _0x507094=[];do{const _0x5b03fa=await this[_0x11cf0e(0x162)][_0x11cf0e(0x120)](_0x4e3bce,{'params':{'page':_0x14a5e7,'per_page':0x64}});_0x507094[_0x11cf0e(0x151)](..._0x5b03fa),_0x5837c3=_0x5b03fa['length']>0x0,_0x14a5e7+=0x1;}while(_0x5837c3);return _0x507094[_0x11cf0e(0x148)](_0x24e322=>repo_class_1['Repo'][_0x11cf0e(0x12e)](_0x24e322,this['api'],this['credentials']));}catch(_0x4d34b7){if(_0x4d34b7 instanceof api_error_1[_0x11cf0e(0x142)])throw _0x4d34b7;throw new not_found_error_1['NotFoundError'](_0x4d34b7);}}async['update'](_0x367aa8,_0x2af9ef){const _0x2f28c4=a240_0x283177;try{const _0x2a73ad=await this[_0x2f28c4(0x160)](_0x367aa8),_0x3facd7=await _0x2a73ad[_0x2f28c4(0x15c)]('',{..._0x2af9ef,'path':_0x2af9ef['name']});return repo_class_1[_0x2f28c4(0x11a)][_0x2f28c4(0x12e)](_0x3facd7,this[_0x2f28c4(0x13a)],this[_0x2f28c4(0x13b)]);}catch(_0x51f1c7){if(_0x51f1c7 instanceof api_error_1[_0x2f28c4(0x142)])throw _0x51f1c7;throw new not_found_error_1['NotFoundError'](_0x51f1c7);}}async['delete'](_0x2e7ff9){const _0xc67650=a240_0x283177;try{const _0x28b2c1=await this['createRequestToRepo'](_0x2e7ff9);await _0x28b2c1['delete']('');}catch(_0x454662){if(_0x454662 instanceof api_error_1[_0xc67650(0x142)])throw _0x454662;throw new bad_request_error_1[(_0xc67650(0x13c))](_0x454662);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a240_0x283177(0x14c)])(),__param(0x1,(0x0,typedi_1[a240_0x283177(0x144)])(providers_tokens_1[a240_0x283177(0x13e)][a240_0x283177(0x13b)])),__metadata(a240_0x283177(0x152),[gitlab_api_service_1[a240_0x283177(0x129)],gitlab_credentials_dto_1[a240_0x283177(0x150)]])],GitlabRepoService),exports[a240_0x283177(0x159)]=GitlabRepoService;