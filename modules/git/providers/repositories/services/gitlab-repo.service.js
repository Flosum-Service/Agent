const a209_0x5291af=a209_0x299f;(function(_0x3672cb,_0x20a37e){const _0x20e804=a209_0x299f,_0x5a427e=_0x3672cb();while(!![]){try{const _0x53239c=parseInt(_0x20e804(0x1dc))/0x1*(-parseInt(_0x20e804(0x1bb))/0x2)+parseInt(_0x20e804(0x1b4))/0x3*(-parseInt(_0x20e804(0x1b0))/0x4)+-parseInt(_0x20e804(0x1ec))/0x5+parseInt(_0x20e804(0x1da))/0x6+parseInt(_0x20e804(0x1af))/0x7*(parseInt(_0x20e804(0x1f2))/0x8)+parseInt(_0x20e804(0x1e0))/0x9+parseInt(_0x20e804(0x1e9))/0xa*(parseInt(_0x20e804(0x1d7))/0xb);if(_0x53239c===_0x20a37e)break;else _0x5a427e['push'](_0x5a427e['shift']());}catch(_0x2f37be){_0x5a427e['push'](_0x5a427e['shift']());}}}(a209_0xce73,0x90e95));const a209_0x60f540=(function(){let _0x4e43fd=!![];return function(_0x3e919d,_0x265856){const _0x48c2e0=_0x4e43fd?function(){const _0x150db1=a209_0x299f;if(_0x265856){const _0x30195a=_0x265856[_0x150db1(0x1b5)](_0x3e919d,arguments);return _0x265856=null,_0x30195a;}}:function(){};return _0x4e43fd=![],_0x48c2e0;};}()),a209_0x700a07=a209_0x60f540(this,function(){const _0x4aa1db=a209_0x299f;return a209_0x700a07[_0x4aa1db(0x1e2)]()['search'](_0x4aa1db(0x1c3))[_0x4aa1db(0x1e2)]()[_0x4aa1db(0x1ee)](a209_0x700a07)[_0x4aa1db(0x1dd)]('(((.+)+)+)+$');});a209_0x700a07();'use strict';var __decorate=this&&this[a209_0x5291af(0x1d4)]||function(_0x4a1435,_0x2f2c7b,_0x131ceb,_0x22500f){const _0x3f48ba=a209_0x5291af;var _0x3b0c0c=arguments[_0x3f48ba(0x1b9)],_0x52a5ed=_0x3b0c0c<0x3?_0x2f2c7b:_0x22500f===null?_0x22500f=Object[_0x3f48ba(0x1c6)](_0x2f2c7b,_0x131ceb):_0x22500f,_0x4b6a12;if(typeof Reflect===_0x3f48ba(0x1cc)&&typeof Reflect[_0x3f48ba(0x1c5)]===_0x3f48ba(0x1ae))_0x52a5ed=Reflect[_0x3f48ba(0x1c5)](_0x4a1435,_0x2f2c7b,_0x131ceb,_0x22500f);else{for(var _0xbe5ebf=_0x4a1435[_0x3f48ba(0x1b9)]-0x1;_0xbe5ebf>=0x0;_0xbe5ebf--)if(_0x4b6a12=_0x4a1435[_0xbe5ebf])_0x52a5ed=(_0x3b0c0c<0x3?_0x4b6a12(_0x52a5ed):_0x3b0c0c>0x3?_0x4b6a12(_0x2f2c7b,_0x131ceb,_0x52a5ed):_0x4b6a12(_0x2f2c7b,_0x131ceb))||_0x52a5ed;}return _0x3b0c0c>0x3&&_0x52a5ed&&Object[_0x3f48ba(0x1d8)](_0x2f2c7b,_0x131ceb,_0x52a5ed),_0x52a5ed;},__metadata=this&&this['__metadata']||function(_0x3dba54,_0x5c42d3){const _0x14f437=a209_0x5291af;if(typeof Reflect==='object'&&typeof Reflect[_0x14f437(0x1e3)]==='function')return Reflect[_0x14f437(0x1e3)](_0x3dba54,_0x5c42d3);},__param=this&&this[a209_0x5291af(0x1ab)]||function(_0x2e2a90,_0x3f9c4b){return function(_0xd4559,_0x2a366d){_0x3f9c4b(_0xd4559,_0x2a366d,_0x2e2a90);};};function a209_0xce73(){const _0x596dae=['NotFoundError','toString','metadata','groupPath','credentials','Tokens','fromGitlab','baseURL','980TBYYXy','typedi','request','3612370ZZBGOo','GitlabApiService','constructor','./git-repo.service','create','autoInit','72WpmBjR','post','groups/','username','/projects','__param','../../../../../core/errors/bad-request.error','Repo','function','515067wsvCFD','4HomeqB','__esModule','update','../../../../../core/errors/api.error','2581665pVycQF','apply','design:paramtypes','../../../internal/git.internal','master','length','Service','16710pmSzOS','apiBody','../../providers.tokens','../../api/gitlab-api.service','public','getAll','getUsername','api','(((.+)+)+)+$','getCurrentUser','decorate','getOwnPropertyDescriptor','Inject','BadRequestError','GitRepoService','ApiError','getGroup','object','getGroupPath','put','GitlabCredentialsDto','name','get','../../../../../core/errors/not-found.error','private','__decorate','createRequest','createRequestToRepo','186241GfcidF','defineProperty','../../credentials/dto/gitlab-credentials.dto','2177586kPrIxD','getOne','82seTZQF','search','groupId','Git','1595682fKKXgN'];a209_0xce73=function(){return _0x596dae;};return a209_0xce73();}Object[a209_0x5291af(0x1d8)](exports,a209_0x5291af(0x1b1),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a209_0x5291af(0x1ac)),not_found_error_1=require(a209_0x5291af(0x1d2)),gitlab_api_service_1=require(a209_0x5291af(0x1be)),typedi_1=require(a209_0x5291af(0x1ea)),api_error_1=require(a209_0x5291af(0x1b3)),git_internal_1=require(a209_0x5291af(0x1b7)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a209_0x5291af(0x1ef)),gitlab_credentials_dto_1=require(a209_0x5291af(0x1d9)),providers_tokens_1=require(a209_0x5291af(0x1bd));function a209_0x299f(_0x281d1e,_0x4e32df){const _0x489314=a209_0xce73();return a209_0x299f=function(_0x700a07,_0x60f540){_0x700a07=_0x700a07-0x1a7;let _0xce7393=_0x489314[_0x700a07];return _0xce7393;},a209_0x299f(_0x281d1e,_0x4e32df);}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a209_0x5291af(0x1c9)]{constructor(_0x44a5cd,_0x299774){const _0x455737=a209_0x5291af;super(_0x44a5cd),this['api']=_0x44a5cd,this['groupId']=_0x299774[_0x455737(0x1de)],this[_0x455737(0x1e5)]=_0x299774;}async[a209_0x5291af(0x1cd)](){const _0x2827b7=a209_0x5291af;if(!this[_0x2827b7(0x1e4)]){const _0xb7c759=await this[_0x2827b7(0x1c2)][_0x2827b7(0x1cb)](this[_0x2827b7(0x1de)]);this['groupPath']=_0xb7c759['full_path'];}return this[_0x2827b7(0x1e4)];}async[a209_0x5291af(0x1c1)](){const _0x400c6e=a209_0x5291af;if(!this[_0x400c6e(0x1a9)]){const _0x24567f=await this['api'][_0x400c6e(0x1c4)]();this[_0x400c6e(0x1a9)]=_0x24567f[_0x400c6e(0x1a9)];}return this[_0x400c6e(0x1a9)];}async[a209_0x5291af(0x1d6)](_0x90db20){const _0x13aa29=a209_0x5291af,_0x59e4c2=await(this[_0x13aa29(0x1de)]?this['getGroupPath']():this[_0x13aa29(0x1c1)]()),_0x347028=this[_0x13aa29(0x1c2)][_0x13aa29(0x1d5)](this[_0x13aa29(0x1eb)]['defaults'][_0x13aa29(0x1e8)]+'/projects/'+encodeURIComponent(_0x59e4c2+'/'+_0x90db20));return _0x347028;}async[a209_0x5291af(0x1f0)](_0x140576){const _0x57a0d0=a209_0x5291af;try{const _0xa2de2b={'name':_0x140576[_0x57a0d0(0x1d0)],'visibility':_0x140576[_0x57a0d0(0x1d3)]?_0x57a0d0(0x1d3):_0x57a0d0(0x1bf),'namespace_id':this[_0x57a0d0(0x1de)],..._0x140576[_0x57a0d0(0x1bc)]||{}},_0x2d7d6c=await this[_0x57a0d0(0x1eb)][_0x57a0d0(0x1a7)]('projects',_0xa2de2b),_0x5ac534=repo_class_1['Repo']['fromGitlab'](_0x2d7d6c,this['api'],this['credentials']);return _0x140576[_0x57a0d0(0x1f1)]&&await git_internal_1[_0x57a0d0(0x1df)]['createEmptyBranch'](_0x5ac534,_0x140576['defaultBranch']||_0x57a0d0(0x1b8),'',this[_0x57a0d0(0x1e5)]),this['getOne'](_0x5ac534[_0x57a0d0(0x1d0)]);}catch(_0x46ff51){if(_0x46ff51 instanceof api_error_1[_0x57a0d0(0x1ca)])throw _0x46ff51;throw new bad_request_error_1[(_0x57a0d0(0x1c8))](_0x46ff51);}}async[a209_0x5291af(0x1db)](_0x3f2f59){const _0x5bc644=a209_0x5291af;try{const _0x1efa28=await this[_0x5bc644(0x1d6)](_0x3f2f59),_0x3b2cf7=await _0x1efa28[_0x5bc644(0x1d1)]('');return repo_class_1[_0x5bc644(0x1ad)]['fromGitlab'](_0x3b2cf7,this['api'],this[_0x5bc644(0x1e5)]);}catch(_0x19ac49){if(_0x19ac49 instanceof api_error_1[_0x5bc644(0x1ca)])throw _0x19ac49;throw new not_found_error_1[(_0x5bc644(0x1e1))](_0x19ac49);}}async[a209_0x5291af(0x1c0)](){const _0x3762e8=a209_0x5291af;try{let _0x1f627f='';if(this[_0x3762e8(0x1de)])_0x1f627f=_0x3762e8(0x1a8)+this['groupId']+_0x3762e8(0x1aa);else{const _0x5debef=await this['getUsername']();_0x1f627f='users/'+_0x5debef+_0x3762e8(0x1aa);}let _0x2527ec=!![],_0x25a9d7=0x1;const _0x1bd6c6=[];do{const _0x1f6271=await this['request'][_0x3762e8(0x1d1)](_0x1f627f,{'params':{'page':_0x25a9d7,'per_page':0x64}});_0x1bd6c6['push'](..._0x1f6271),_0x2527ec=_0x1f6271[_0x3762e8(0x1b9)]>0x0,_0x25a9d7+=0x1;}while(_0x2527ec);return _0x1bd6c6['map'](_0x551fb8=>repo_class_1[_0x3762e8(0x1ad)]['fromGitlab'](_0x551fb8,this[_0x3762e8(0x1c2)],this['credentials']));}catch(_0x1a839e){if(_0x1a839e instanceof api_error_1[_0x3762e8(0x1ca)])throw _0x1a839e;throw new not_found_error_1['NotFoundError'](_0x1a839e);}}async[a209_0x5291af(0x1b2)](_0xe44001,_0x136dab){const _0x3317ca=a209_0x5291af;try{const _0x480b82=await this[_0x3317ca(0x1d6)](_0xe44001),_0x537169=await _0x480b82[_0x3317ca(0x1ce)]('',{..._0x136dab,'path':_0x136dab[_0x3317ca(0x1d0)]});return repo_class_1[_0x3317ca(0x1ad)][_0x3317ca(0x1e7)](_0x537169,this['api'],this[_0x3317ca(0x1e5)]);}catch(_0x4b7385){if(_0x4b7385 instanceof api_error_1[_0x3317ca(0x1ca)])throw _0x4b7385;throw new not_found_error_1[(_0x3317ca(0x1e1))](_0x4b7385);}}async['delete'](_0x279cd8){const _0x5ba9ff=a209_0x5291af;try{const _0x4480a7=await this['createRequestToRepo'](_0x279cd8);await _0x4480a7['delete']('');}catch(_0x6eb194){if(_0x6eb194 instanceof api_error_1[_0x5ba9ff(0x1ca)])throw _0x6eb194;throw new bad_request_error_1[(_0x5ba9ff(0x1c8))](_0x6eb194);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a209_0x5291af(0x1ba)])(),__param(0x1,(0x0,typedi_1[a209_0x5291af(0x1c7)])(providers_tokens_1[a209_0x5291af(0x1e6)]['credentials'])),__metadata(a209_0x5291af(0x1b6),[gitlab_api_service_1[a209_0x5291af(0x1ed)],gitlab_credentials_dto_1[a209_0x5291af(0x1cf)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;