const a209_0x5b35eb=a209_0x1819;(function(_0x5347e3,_0x2fa864){const _0x47e32f=a209_0x1819,_0x255f4c=_0x5347e3();while(!![]){try{const _0x25bb90=-parseInt(_0x47e32f(0x1b2))/0x1+parseInt(_0x47e32f(0x1a2))/0x2+parseInt(_0x47e32f(0x1ae))/0x3+-parseInt(_0x47e32f(0x1a8))/0x4+-parseInt(_0x47e32f(0x1be))/0x5+parseInt(_0x47e32f(0x1c4))/0x6+parseInt(_0x47e32f(0x196))/0x7*(parseInt(_0x47e32f(0x18c))/0x8);if(_0x25bb90===_0x2fa864)break;else _0x255f4c['push'](_0x255f4c['shift']());}catch(_0x38524f){_0x255f4c['push'](_0x255f4c['shift']());}}}(a209_0xbd8f,0x2ab9e));const a209_0x1a6ed7=(function(){let _0x417a67=!![];return function(_0x1a8c87,_0xccffa5){const _0x19138a=_0x417a67?function(){const _0x201194=a209_0x1819;if(_0xccffa5){const _0x48dd68=_0xccffa5[_0x201194(0x1a4)](_0x1a8c87,arguments);return _0xccffa5=null,_0x48dd68;}}:function(){};return _0x417a67=![],_0x19138a;};}()),a209_0x3e61a5=a209_0x1a6ed7(this,function(){const _0x55182f=a209_0x1819;return a209_0x3e61a5[_0x55182f(0x1af)]()[_0x55182f(0x1b7)](_0x55182f(0x1bb))['toString']()['constructor'](a209_0x3e61a5)[_0x55182f(0x1b7)](_0x55182f(0x1bb));});a209_0x3e61a5();'use strict';var __decorate=this&&this[a209_0x5b35eb(0x1ba)]||function(_0x466a06,_0x5bb4af,_0x18a877,_0x5d3742){const _0x46f8a8=a209_0x5b35eb;var _0x390033=arguments[_0x46f8a8(0x1a0)],_0x33cdaa=_0x390033<0x3?_0x5bb4af:_0x5d3742===null?_0x5d3742=Object[_0x46f8a8(0x181)](_0x5bb4af,_0x18a877):_0x5d3742,_0x24d3c1;if(typeof Reflect===_0x46f8a8(0x18a)&&typeof Reflect[_0x46f8a8(0x19c)]===_0x46f8a8(0x195))_0x33cdaa=Reflect[_0x46f8a8(0x19c)](_0x466a06,_0x5bb4af,_0x18a877,_0x5d3742);else{for(var _0x4360da=_0x466a06[_0x46f8a8(0x1a0)]-0x1;_0x4360da>=0x0;_0x4360da--)if(_0x24d3c1=_0x466a06[_0x4360da])_0x33cdaa=(_0x390033<0x3?_0x24d3c1(_0x33cdaa):_0x390033>0x3?_0x24d3c1(_0x5bb4af,_0x18a877,_0x33cdaa):_0x24d3c1(_0x5bb4af,_0x18a877))||_0x33cdaa;}return _0x390033>0x3&&_0x33cdaa&&Object['defineProperty'](_0x5bb4af,_0x18a877,_0x33cdaa),_0x33cdaa;},__metadata=this&&this[a209_0x5b35eb(0x192)]||function(_0x8f0b30,_0x477303){const _0x5b2097=a209_0x5b35eb;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5b2097(0x195))return Reflect[_0x5b2097(0x19f)](_0x8f0b30,_0x477303);},__param=this&&this[a209_0x5b35eb(0x188)]||function(_0x224c22,_0x29cf4b){return function(_0x36af85,_0x463ed4){_0x29cf4b(_0x36af85,_0x463ed4,_0x224c22);};};function a209_0x1819(_0x54d2e8,_0x5c8d3e){const _0x511729=a209_0xbd8f();return a209_0x1819=function(_0x3e61a5,_0x1a6ed7){_0x3e61a5=_0x3e61a5-0x17a;let _0xbd8f69=_0x511729[_0x3e61a5];return _0xbd8f69;},a209_0x1819(_0x54d2e8,_0x5c8d3e);}Object[a209_0x5b35eb(0x199)](exports,a209_0x5b35eb(0x187),{'value':!![]}),exports['GitlabRepoService']=void 0x0;function a209_0xbd8f(){const _0x43e210=['search','username','groups/','__decorate','(((.+)+)+)+$','public','name','571570fZOFRc','getGroupPath','typedi','master','apiBody','Inject','1491468xKkSkw','Git','Service','map','../../../../../core/errors/bad-request.error','getCurrentUser','../../credentials/dto/gitlab-credentials.dto','NotFoundError','getOwnPropertyDescriptor','Repo','/projects','createEmptyBranch','full_path','../repo.class','__esModule','__param','update','object','GitlabRepoService','16oGLRyS','../../../../../core/errors/not-found.error','GitlabApiService','push','getUsername','api','__metadata','get','credentials','function','947723HRjKMT','createRequestToRepo','./git-repo.service','defineProperty','../../providers.tokens','Tokens','decorate','getGroup','createRequest','metadata','length','GitlabCredentialsDto','339846QDljdv','request','apply','BadRequestError','../../../../../core/errors/api.error','fromGitlab','1208352FWnKfr','groupId','groupPath','GitRepoService','delete','ApiError','379797SCgoZV','toString','defaults','create','224470drEDcO','getOne','private','baseURL','projects'];a209_0xbd8f=function(){return _0x43e210;};return a209_0xbd8f();}const bad_request_error_1=require(a209_0x5b35eb(0x17d)),not_found_error_1=require(a209_0x5b35eb(0x18d)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a209_0x5b35eb(0x1c0)),api_error_1=require(a209_0x5b35eb(0x1a6)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a209_0x5b35eb(0x186)),git_repo_service_1=require(a209_0x5b35eb(0x198)),gitlab_credentials_dto_1=require(a209_0x5b35eb(0x17f)),providers_tokens_1=require(a209_0x5b35eb(0x19a));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a209_0x5b35eb(0x1ab)]{constructor(_0x3a41b7,_0x1ec9bf){const _0x309443=a209_0x5b35eb;super(_0x3a41b7),this[_0x309443(0x191)]=_0x3a41b7,this[_0x309443(0x1a9)]=_0x1ec9bf[_0x309443(0x1a9)],this[_0x309443(0x194)]=_0x1ec9bf;}async[a209_0x5b35eb(0x1bf)](){const _0x230f08=a209_0x5b35eb;if(!this['groupPath']){const _0x425c53=await this[_0x230f08(0x191)][_0x230f08(0x19d)](this['groupId']);this['groupPath']=_0x425c53[_0x230f08(0x185)];}return this[_0x230f08(0x1aa)];}async['getUsername'](){const _0x36a63e=a209_0x5b35eb;if(!this[_0x36a63e(0x1b8)]){const _0x1354bf=await this[_0x36a63e(0x191)][_0x36a63e(0x17e)]();this[_0x36a63e(0x1b8)]=_0x1354bf[_0x36a63e(0x1b8)];}return this[_0x36a63e(0x1b8)];}async[a209_0x5b35eb(0x197)](_0x527710){const _0x33cb7a=a209_0x5b35eb,_0x31ce41=await(this['groupId']?this[_0x33cb7a(0x1bf)]():this['getUsername']()),_0x313ee8=this[_0x33cb7a(0x191)][_0x33cb7a(0x19e)](this[_0x33cb7a(0x1a3)][_0x33cb7a(0x1b0)][_0x33cb7a(0x1b5)]+'/projects/'+encodeURIComponent(_0x31ce41+'/'+_0x527710));return _0x313ee8;}async[a209_0x5b35eb(0x1b1)](_0xcd29b1){const _0x3e697d=a209_0x5b35eb;try{const _0x4f8063={'name':_0xcd29b1['name'],'visibility':_0xcd29b1['private']?_0x3e697d(0x1b4):_0x3e697d(0x1bc),'namespace_id':this[_0x3e697d(0x1a9)],..._0xcd29b1[_0x3e697d(0x1c2)]||{}},_0x4cbb6f=await this['request']['post'](_0x3e697d(0x1b6),_0x4f8063),_0x309e88=repo_class_1[_0x3e697d(0x182)][_0x3e697d(0x1a7)](_0x4cbb6f,this['api'],this[_0x3e697d(0x194)]);return _0xcd29b1['autoInit']&&await git_internal_1[_0x3e697d(0x17a)][_0x3e697d(0x184)](_0x309e88,_0xcd29b1['defaultBranch']||_0x3e697d(0x1c1),'',this[_0x3e697d(0x194)]),this[_0x3e697d(0x1b3)](_0x309e88[_0x3e697d(0x1bd)]);}catch(_0x240f81){if(_0x240f81 instanceof api_error_1[_0x3e697d(0x1ad)])throw _0x240f81;throw new bad_request_error_1[(_0x3e697d(0x1a5))](_0x240f81);}}async[a209_0x5b35eb(0x1b3)](_0x44f246){const _0x2879a4=a209_0x5b35eb;try{const _0xce9e48=await this[_0x2879a4(0x197)](_0x44f246),_0x3638f5=await _0xce9e48[_0x2879a4(0x193)]('');return repo_class_1['Repo'][_0x2879a4(0x1a7)](_0x3638f5,this[_0x2879a4(0x191)],this['credentials']);}catch(_0x298671){if(_0x298671 instanceof api_error_1[_0x2879a4(0x1ad)])throw _0x298671;throw new not_found_error_1['NotFoundError'](_0x298671);}}async['getAll'](){const _0x5a4367=a209_0x5b35eb;try{let _0x6027dc='';if(this['groupId'])_0x6027dc=_0x5a4367(0x1b9)+this['groupId']+_0x5a4367(0x183);else{const _0x330945=await this[_0x5a4367(0x190)]();_0x6027dc='users/'+_0x330945+_0x5a4367(0x183);}let _0x3f9a3d=!![],_0x1055ef=0x1;const _0x1c34f3=[];do{const _0x2e9c6c=await this['request'][_0x5a4367(0x193)](_0x6027dc,{'params':{'page':_0x1055ef,'per_page':0x64}});_0x1c34f3[_0x5a4367(0x18f)](..._0x2e9c6c),_0x3f9a3d=_0x2e9c6c[_0x5a4367(0x1a0)]>0x0,_0x1055ef+=0x1;}while(_0x3f9a3d);return _0x1c34f3[_0x5a4367(0x17c)](_0x3e94f5=>repo_class_1[_0x5a4367(0x182)][_0x5a4367(0x1a7)](_0x3e94f5,this[_0x5a4367(0x191)],this[_0x5a4367(0x194)]));}catch(_0x5c7219){if(_0x5c7219 instanceof api_error_1[_0x5a4367(0x1ad)])throw _0x5c7219;throw new not_found_error_1[(_0x5a4367(0x180))](_0x5c7219);}}async[a209_0x5b35eb(0x189)](_0x4904a9,_0x39d840){const _0x5f4d56=a209_0x5b35eb;try{const _0x5d47c8=await this['createRequestToRepo'](_0x4904a9),_0x1d98ba=await _0x5d47c8['put']('',{..._0x39d840,'path':_0x39d840[_0x5f4d56(0x1bd)]});return repo_class_1[_0x5f4d56(0x182)][_0x5f4d56(0x1a7)](_0x1d98ba,this[_0x5f4d56(0x191)],this[_0x5f4d56(0x194)]);}catch(_0x517f02){if(_0x517f02 instanceof api_error_1[_0x5f4d56(0x1ad)])throw _0x517f02;throw new not_found_error_1[(_0x5f4d56(0x180))](_0x517f02);}}async['delete'](_0x4e92a5){const _0x6c2d66=a209_0x5b35eb;try{const _0x2f2e81=await this['createRequestToRepo'](_0x4e92a5);await _0x2f2e81[_0x6c2d66(0x1ac)]('');}catch(_0x4cce1e){if(_0x4cce1e instanceof api_error_1[_0x6c2d66(0x1ad)])throw _0x4cce1e;throw new bad_request_error_1[(_0x6c2d66(0x1a5))](_0x4cce1e);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a209_0x5b35eb(0x17b)])(),__param(0x1,(0x0,typedi_1[a209_0x5b35eb(0x1c3)])(providers_tokens_1[a209_0x5b35eb(0x19b)][a209_0x5b35eb(0x194)])),__metadata('design:paramtypes',[gitlab_api_service_1[a209_0x5b35eb(0x18e)],gitlab_credentials_dto_1[a209_0x5b35eb(0x1a1)]])],GitlabRepoService),exports[a209_0x5b35eb(0x18b)]=GitlabRepoService;