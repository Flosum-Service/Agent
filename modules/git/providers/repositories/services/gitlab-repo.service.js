const a240_0x6e77a2=a240_0x6f5f;(function(_0x54ce59,_0x36f024){const _0x3b6379=a240_0x6f5f,_0x30e5b1=_0x54ce59();while(!![]){try{const _0x28caa9=-parseInt(_0x3b6379(0x175))/0x1+parseInt(_0x3b6379(0x14d))/0x2*(parseInt(_0x3b6379(0x179))/0x3)+-parseInt(_0x3b6379(0x17e))/0x4*(-parseInt(_0x3b6379(0x164))/0x5)+parseInt(_0x3b6379(0x16e))/0x6*(parseInt(_0x3b6379(0x13e))/0x7)+parseInt(_0x3b6379(0x158))/0x8*(-parseInt(_0x3b6379(0x178))/0x9)+parseInt(_0x3b6379(0x184))/0xa*(-parseInt(_0x3b6379(0x14a))/0xb)+-parseInt(_0x3b6379(0x162))/0xc*(-parseInt(_0x3b6379(0x17c))/0xd);if(_0x28caa9===_0x36f024)break;else _0x30e5b1['push'](_0x30e5b1['shift']());}catch(_0x1f0618){_0x30e5b1['push'](_0x30e5b1['shift']());}}}(a240_0x20bd,0xead9e));const a240_0x153643=(function(){let _0x2aeedf=!![];return function(_0x5cf6b8,_0x292b23){const _0x46b10b=_0x2aeedf?function(){const _0x1c819b=a240_0x6f5f;if(_0x292b23){const _0x1bfe1c=_0x292b23[_0x1c819b(0x142)](_0x5cf6b8,arguments);return _0x292b23=null,_0x1bfe1c;}}:function(){};return _0x2aeedf=![],_0x46b10b;};}()),a240_0x390c6d=a240_0x153643(this,function(){const _0x29d5a3=a240_0x6f5f;return a240_0x390c6d[_0x29d5a3(0x177)]()[_0x29d5a3(0x148)](_0x29d5a3(0x17d))[_0x29d5a3(0x177)]()[_0x29d5a3(0x15a)](a240_0x390c6d)['search'](_0x29d5a3(0x17d));});a240_0x390c6d();function a240_0x6f5f(_0x1d377b,_0x169798){const _0x440285=a240_0x20bd();return a240_0x6f5f=function(_0x390c6d,_0x153643){_0x390c6d=_0x390c6d-0x13c;let _0x20bdb6=_0x440285[_0x390c6d];return _0x20bdb6;},a240_0x6f5f(_0x1d377b,_0x169798);}function a240_0x20bd(){const _0x2897d7=['../repo.class','../../../internal/git.internal','Tokens','getGroupPath','Git','createRequestToRepo','NotFoundError','202352YBXzVA','api','constructor','request','GitRepoService','getOne','createRequest','metadata','createEmptyBranch','length','12mbDjcv','getUsername','5tDPGbt','apiBody','map','public','/projects/','fromGitlab','defineProperty','decorate','GitlabApiService','name','1986168bgUUXP','__decorate','defaultBranch','credentials','push','username','groupId','1481900eIUHVt','groups/','toString','360pNsWJz','6RMgGTV','__metadata','function','47685443FmHOVD','(((.+)+)+)+$','2259828QQOwoW','private','autoInit','baseURL','design:paramtypes','/projects','8658460ApUNej','BadRequestError','GitlabCredentialsDto','GitlabRepoService','7GDsooI','object','../../../../../core/errors/not-found.error','../../../../../core/errors/api.error','apply','users/','__esModule','ApiError','delete','put','search','Repo','22yePDKw','post','getOwnPropertyDescriptor','623206dAgqgp','defaults','get','master'];a240_0x20bd=function(){return _0x2897d7;};return a240_0x20bd();}'use strict';var __decorate=this&&this[a240_0x6e77a2(0x16f)]||function(_0x26762b,_0x2c29f8,_0x3d7c17,_0xd24830){const _0x46a0f0=a240_0x6e77a2;var _0x3eb979=arguments[_0x46a0f0(0x161)],_0x125856=_0x3eb979<0x3?_0x2c29f8:_0xd24830===null?_0xd24830=Object[_0x46a0f0(0x14c)](_0x2c29f8,_0x3d7c17):_0xd24830,_0x194ece;if(typeof Reflect===_0x46a0f0(0x13f)&&typeof Reflect[_0x46a0f0(0x16b)]===_0x46a0f0(0x17b))_0x125856=Reflect[_0x46a0f0(0x16b)](_0x26762b,_0x2c29f8,_0x3d7c17,_0xd24830);else{for(var _0x2006ca=_0x26762b[_0x46a0f0(0x161)]-0x1;_0x2006ca>=0x0;_0x2006ca--)if(_0x194ece=_0x26762b[_0x2006ca])_0x125856=(_0x3eb979<0x3?_0x194ece(_0x125856):_0x3eb979>0x3?_0x194ece(_0x2c29f8,_0x3d7c17,_0x125856):_0x194ece(_0x2c29f8,_0x3d7c17))||_0x125856;}return _0x3eb979>0x3&&_0x125856&&Object[_0x46a0f0(0x16a)](_0x2c29f8,_0x3d7c17,_0x125856),_0x125856;},__metadata=this&&this[a240_0x6e77a2(0x17a)]||function(_0x50cb8a,_0x3f9bd4){const _0x43cc3a=a240_0x6e77a2;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x43cc3a(0x17b))return Reflect[_0x43cc3a(0x15f)](_0x50cb8a,_0x3f9bd4);},__param=this&&this['__param']||function(_0x40ac73,_0x49bc89){return function(_0x2e5f60,_0x16fa19){_0x49bc89(_0x2e5f60,_0x16fa19,_0x40ac73);};};Object[a240_0x6e77a2(0x16a)](exports,a240_0x6e77a2(0x144),{'value':!![]}),exports[a240_0x6e77a2(0x13d)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a240_0x6e77a2(0x140)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require('typedi'),api_error_1=require(a240_0x6e77a2(0x141)),git_internal_1=require(a240_0x6e77a2(0x152)),repo_class_1=require(a240_0x6e77a2(0x151)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a240_0x6e77a2(0x15c)]{constructor(_0x5840f5,_0x3c1d75){const _0x12852d=a240_0x6e77a2;super(_0x5840f5),this[_0x12852d(0x159)]=_0x5840f5,this[_0x12852d(0x174)]=_0x3c1d75['groupId'],this['credentials']=_0x3c1d75;}async[a240_0x6e77a2(0x154)](){const _0x455aac=a240_0x6e77a2;if(!this['groupPath']){const _0x513565=await this[_0x455aac(0x159)]['getGroup'](this[_0x455aac(0x174)]);this['groupPath']=_0x513565['full_path'];}return this['groupPath'];}async[a240_0x6e77a2(0x163)](){const _0x4625fd=a240_0x6e77a2;if(!this['username']){const _0x4493da=await this[_0x4625fd(0x159)]['getCurrentUser']();this['username']=_0x4493da[_0x4625fd(0x173)];}return this[_0x4625fd(0x173)];}async[a240_0x6e77a2(0x156)](_0x2b73a4){const _0x2930dc=a240_0x6e77a2,_0x2b3d5f=await(this['groupId']?this[_0x2930dc(0x154)]():this[_0x2930dc(0x163)]()),_0x48ea0a=this['api'][_0x2930dc(0x15e)](this[_0x2930dc(0x15b)][_0x2930dc(0x14e)][_0x2930dc(0x181)]+_0x2930dc(0x168)+encodeURIComponent(_0x2b3d5f+'/'+_0x2b73a4));return _0x48ea0a;}async['create'](_0x5a3d6d){const _0x54da23=a240_0x6e77a2;try{const _0x1c5f16={'name':_0x5a3d6d[_0x54da23(0x16d)],'visibility':_0x5a3d6d['private']?_0x54da23(0x17f):_0x54da23(0x167),'namespace_id':this['groupId'],..._0x5a3d6d[_0x54da23(0x165)]||{}},_0x550cfb=await this[_0x54da23(0x15b)][_0x54da23(0x14b)]('projects',_0x1c5f16),_0x3d996f=repo_class_1[_0x54da23(0x149)][_0x54da23(0x169)](_0x550cfb,this[_0x54da23(0x159)],this[_0x54da23(0x171)]);return _0x5a3d6d[_0x54da23(0x180)]&&await git_internal_1[_0x54da23(0x155)][_0x54da23(0x160)](_0x3d996f,_0x5a3d6d[_0x54da23(0x170)]||_0x54da23(0x150),'',this[_0x54da23(0x171)]),this[_0x54da23(0x15d)](_0x3d996f[_0x54da23(0x16d)]);}catch(_0x2881cb){if(_0x2881cb instanceof api_error_1[_0x54da23(0x145)])throw _0x2881cb;throw new bad_request_error_1['BadRequestError'](_0x2881cb);}}async['getOne'](_0x40c8a7){const _0x5c7929=a240_0x6e77a2;try{const _0x4bbab2=await this['createRequestToRepo'](_0x40c8a7),_0x34ff81=await _0x4bbab2['get']('');return repo_class_1[_0x5c7929(0x149)]['fromGitlab'](_0x34ff81,this[_0x5c7929(0x159)],this['credentials']);}catch(_0x44f58d){if(_0x44f58d instanceof api_error_1['ApiError'])throw _0x44f58d;throw new not_found_error_1['NotFoundError'](_0x44f58d);}}async['getAll'](){const _0x4b712a=a240_0x6e77a2;try{let _0x5921a3='';if(this['groupId'])_0x5921a3=_0x4b712a(0x176)+this[_0x4b712a(0x174)]+_0x4b712a(0x183);else{const _0x94f9dd=await this[_0x4b712a(0x163)]();_0x5921a3=_0x4b712a(0x143)+_0x94f9dd+_0x4b712a(0x183);}let _0x2948d7=!![],_0x1d154a=0x1;const _0x37c1c6=[];do{const _0x1f9b47=await this[_0x4b712a(0x15b)][_0x4b712a(0x14f)](_0x5921a3,{'params':{'page':_0x1d154a,'per_page':0x64}});_0x37c1c6[_0x4b712a(0x172)](..._0x1f9b47),_0x2948d7=_0x1f9b47[_0x4b712a(0x161)]>0x0,_0x1d154a+=0x1;}while(_0x2948d7);return _0x37c1c6[_0x4b712a(0x166)](_0x264091=>repo_class_1['Repo'][_0x4b712a(0x169)](_0x264091,this[_0x4b712a(0x159)],this[_0x4b712a(0x171)]));}catch(_0x371d8d){if(_0x371d8d instanceof api_error_1[_0x4b712a(0x145)])throw _0x371d8d;throw new not_found_error_1[(_0x4b712a(0x157))](_0x371d8d);}}async['update'](_0x5cec1f,_0xc6ed77){const _0x394d64=a240_0x6e77a2;try{const _0x27df67=await this[_0x394d64(0x156)](_0x5cec1f),_0xf3dc27=await _0x27df67[_0x394d64(0x147)]('',{..._0xc6ed77,'path':_0xc6ed77[_0x394d64(0x16d)]});return repo_class_1[_0x394d64(0x149)][_0x394d64(0x169)](_0xf3dc27,this['api'],this[_0x394d64(0x171)]);}catch(_0x14244c){if(_0x14244c instanceof api_error_1[_0x394d64(0x145)])throw _0x14244c;throw new not_found_error_1['NotFoundError'](_0x14244c);}}async['delete'](_0x30f5e1){const _0xa98e38=a240_0x6e77a2;try{const _0x4f3b9b=await this[_0xa98e38(0x156)](_0x30f5e1);await _0x4f3b9b[_0xa98e38(0x146)]('');}catch(_0x278bed){if(_0x278bed instanceof api_error_1['ApiError'])throw _0x278bed;throw new bad_request_error_1[(_0xa98e38(0x185))](_0x278bed);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a240_0x6e77a2(0x153)][a240_0x6e77a2(0x171)])),__metadata(a240_0x6e77a2(0x182),[gitlab_api_service_1[a240_0x6e77a2(0x16c)],gitlab_credentials_dto_1[a240_0x6e77a2(0x13c)]])],GitlabRepoService),exports[a240_0x6e77a2(0x13d)]=GitlabRepoService;