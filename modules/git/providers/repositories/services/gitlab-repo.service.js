const a204_0x430e5b=a204_0x62bb;(function(_0xb83d6c,_0x533596){const _0x4d6e77=a204_0x62bb,_0x2ecaf3=_0xb83d6c();while(!![]){try{const _0x169f8d=-parseInt(_0x4d6e77(0x76))/0x1*(parseInt(_0x4d6e77(0x88))/0x2)+-parseInt(_0x4d6e77(0x96))/0x3*(-parseInt(_0x4d6e77(0xa2))/0x4)+-parseInt(_0x4d6e77(0x7b))/0x5+parseInt(_0x4d6e77(0x92))/0x6*(parseInt(_0x4d6e77(0x7e))/0x7)+-parseInt(_0x4d6e77(0xb4))/0x8+parseInt(_0x4d6e77(0xb8))/0x9*(-parseInt(_0x4d6e77(0x89))/0xa)+parseInt(_0x4d6e77(0xaa))/0xb;if(_0x169f8d===_0x533596)break;else _0x2ecaf3['push'](_0x2ecaf3['shift']());}catch(_0x4659be){_0x2ecaf3['push'](_0x2ecaf3['shift']());}}}(a204_0x1593,0x916b0));const a204_0x554278=(function(){let _0x1de82a=!![];return function(_0x52bbd3,_0x25f19c){const _0xc9f868=_0x1de82a?function(){if(_0x25f19c){const _0x26032a=_0x25f19c['apply'](_0x52bbd3,arguments);return _0x25f19c=null,_0x26032a;}}:function(){};return _0x1de82a=![],_0xc9f868;};}()),a204_0x117184=a204_0x554278(this,function(){const _0xec765f=a204_0x62bb;return a204_0x117184[_0xec765f(0xad)]()['search'](_0xec765f(0x9b))[_0xec765f(0xad)]()[_0xec765f(0x9c)](a204_0x117184)[_0xec765f(0xb0)]('(((.+)+)+)+$');});function a204_0x1593(){const _0x132d8f=['11310DYSsKJ','__metadata','createRequest','users/','baseURL','GitlabApiService','typedi','Inject','fromGitlab','15186vrNgmx','/projects/','credentials','push','3psAiXz','GitlabCredentialsDto','GitRepoService','metadata','getOwnPropertyDescriptor','(((.+)+)+)+$','constructor','getGroupPath','GitlabRepoService','Repo','public','update','157904wwBuBD','defaults','put','autoInit','design:paramtypes','groupId','../../../../../core/errors/bad-request.error','request','18602639TBeQDT','private','createEmptyBranch','toString','username','../../../../../core/errors/api.error','search','map','getCurrentUser','/projects','1030552UyGfNm','full_path','./git-repo.service','../../../../../core/errors/not-found.error','8469XvzWLR','name','get','Tokens','length','createRequestToRepo','BadRequestError','__param','7fXdFsm','api','getOne','function','decorate','1335935toamhX','groupPath','object','2807Rlyfpq','ApiError','__decorate','Git','groups/','NotFoundError','getUsername','../../../internal/git.internal','getGroup','delete','197042jxPHWh'];a204_0x1593=function(){return _0x132d8f;};return a204_0x1593();}a204_0x117184();'use strict';function a204_0x62bb(_0x10f980,_0x1e6df2){const _0x1a945a=a204_0x1593();return a204_0x62bb=function(_0x117184,_0x554278){_0x117184=_0x117184-0x74;let _0x1593c6=_0x1a945a[_0x117184];return _0x1593c6;},a204_0x62bb(_0x10f980,_0x1e6df2);}var __decorate=this&&this[a204_0x430e5b(0x80)]||function(_0x577854,_0x32cd7a,_0x83a5ea,_0xa8a20a){const _0x21116f=a204_0x430e5b;var _0x360ffa=arguments['length'],_0x28e280=_0x360ffa<0x3?_0x32cd7a:_0xa8a20a===null?_0xa8a20a=Object[_0x21116f(0x9a)](_0x32cd7a,_0x83a5ea):_0xa8a20a,_0x36d427;if(typeof Reflect===_0x21116f(0x7d)&&typeof Reflect[_0x21116f(0x7a)]===_0x21116f(0x79))_0x28e280=Reflect['decorate'](_0x577854,_0x32cd7a,_0x83a5ea,_0xa8a20a);else{for(var _0xe4ee5b=_0x577854[_0x21116f(0xbc)]-0x1;_0xe4ee5b>=0x0;_0xe4ee5b--)if(_0x36d427=_0x577854[_0xe4ee5b])_0x28e280=(_0x360ffa<0x3?_0x36d427(_0x28e280):_0x360ffa>0x3?_0x36d427(_0x32cd7a,_0x83a5ea,_0x28e280):_0x36d427(_0x32cd7a,_0x83a5ea))||_0x28e280;}return _0x360ffa>0x3&&_0x28e280&&Object['defineProperty'](_0x32cd7a,_0x83a5ea,_0x28e280),_0x28e280;},__metadata=this&&this[a204_0x430e5b(0x8a)]||function(_0x2732af,_0x1afd32){const _0x9a9453=a204_0x430e5b;if(typeof Reflect==='object'&&typeof Reflect[_0x9a9453(0x99)]===_0x9a9453(0x79))return Reflect[_0x9a9453(0x99)](_0x2732af,_0x1afd32);},__param=this&&this[a204_0x430e5b(0x75)]||function(_0x5250c1,_0x40f930){return function(_0x18ac34,_0x5dfb05){_0x40f930(_0x18ac34,_0x5dfb05,_0x5250c1);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a204_0x430e5b(0x9e)]=void 0x0;const bad_request_error_1=require(a204_0x430e5b(0xa8)),not_found_error_1=require(a204_0x430e5b(0xb7)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a204_0x430e5b(0x8f)),api_error_1=require(a204_0x430e5b(0xaf)),git_internal_1=require(a204_0x430e5b(0x85)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a204_0x430e5b(0xb6)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a204_0x430e5b(0x98)]{constructor(_0xa19a7b,_0x4d7177){const _0x38360c=a204_0x430e5b;super(_0xa19a7b),this[_0x38360c(0x77)]=_0xa19a7b,this[_0x38360c(0xa7)]=_0x4d7177[_0x38360c(0xa7)],this[_0x38360c(0x94)]=_0x4d7177;}async[a204_0x430e5b(0x9d)](){const _0x10ce4c=a204_0x430e5b;if(!this[_0x10ce4c(0x7c)]){const _0x25aae6=await this[_0x10ce4c(0x77)][_0x10ce4c(0x86)](this['groupId']);this['groupPath']=_0x25aae6[_0x10ce4c(0xb5)];}return this[_0x10ce4c(0x7c)];}async[a204_0x430e5b(0x84)](){const _0x58b813=a204_0x430e5b;if(!this[_0x58b813(0xae)]){const _0x25506d=await this[_0x58b813(0x77)][_0x58b813(0xb2)]();this[_0x58b813(0xae)]=_0x25506d[_0x58b813(0xae)];}return this[_0x58b813(0xae)];}async['createRequestToRepo'](_0x559962){const _0x16a50d=a204_0x430e5b,_0x1a845e=await(this[_0x16a50d(0xa7)]?this[_0x16a50d(0x9d)]():this['getUsername']()),_0x5f3b62=this[_0x16a50d(0x77)][_0x16a50d(0x8b)](this[_0x16a50d(0xa9)][_0x16a50d(0xa3)][_0x16a50d(0x8d)]+_0x16a50d(0x93)+encodeURIComponent(_0x1a845e+'/'+_0x559962));return _0x5f3b62;}async['create'](_0x5a8721){const _0x80dd48=a204_0x430e5b;try{const _0xcbaae3={'name':_0x5a8721['name'],'visibility':_0x5a8721[_0x80dd48(0xab)]?_0x80dd48(0xab):_0x80dd48(0xa0),'namespace_id':this[_0x80dd48(0xa7)],..._0x5a8721['apiBody']||{}},_0x496d36=await this['request']['post']('projects',_0xcbaae3),_0x4924fb=repo_class_1['Repo'][_0x80dd48(0x91)](_0x496d36,this['api'],this[_0x80dd48(0x94)]);return _0x5a8721[_0x80dd48(0xa5)]&&await git_internal_1[_0x80dd48(0x81)][_0x80dd48(0xac)](_0x4924fb,_0x5a8721['defaultBranch']||'master','',this[_0x80dd48(0x94)]),this['getOne'](_0x4924fb[_0x80dd48(0xb9)]);}catch(_0x3e38c4){if(_0x3e38c4 instanceof api_error_1[_0x80dd48(0x7f)])throw _0x3e38c4;throw new bad_request_error_1[(_0x80dd48(0x74))](_0x3e38c4);}}async[a204_0x430e5b(0x78)](_0x1356b1){const _0x1b5fcc=a204_0x430e5b;try{const _0xe055a=await this[_0x1b5fcc(0xbd)](_0x1356b1),_0x109e76=await _0xe055a[_0x1b5fcc(0xba)]('');return repo_class_1['Repo']['fromGitlab'](_0x109e76,this['api'],this[_0x1b5fcc(0x94)]);}catch(_0x1e60bb){if(_0x1e60bb instanceof api_error_1[_0x1b5fcc(0x7f)])throw _0x1e60bb;throw new not_found_error_1[(_0x1b5fcc(0x83))](_0x1e60bb);}}async['getAll'](){const _0x443178=a204_0x430e5b;try{let _0x462dce='';if(this[_0x443178(0xa7)])_0x462dce=_0x443178(0x82)+this[_0x443178(0xa7)]+_0x443178(0xb3);else{const _0x18dcd3=await this['getUsername']();_0x462dce=_0x443178(0x8c)+_0x18dcd3+'/projects';}let _0x58bcf3=!![],_0x3f13fa=0x1;const _0x3a5410=[];do{const _0x54c6e8=await this[_0x443178(0xa9)]['get'](_0x462dce,{'params':{'page':_0x3f13fa,'per_page':0x64}});_0x3a5410[_0x443178(0x95)](..._0x54c6e8),_0x58bcf3=_0x54c6e8['length']>0x0,_0x3f13fa+=0x1;}while(_0x58bcf3);return _0x3a5410[_0x443178(0xb1)](_0x3b5b7b=>repo_class_1[_0x443178(0x9f)][_0x443178(0x91)](_0x3b5b7b,this[_0x443178(0x77)],this['credentials']));}catch(_0x2ac7d3){if(_0x2ac7d3 instanceof api_error_1[_0x443178(0x7f)])throw _0x2ac7d3;throw new not_found_error_1[(_0x443178(0x83))](_0x2ac7d3);}}async[a204_0x430e5b(0xa1)](_0x104a93,_0x2a1b67){const _0x2c970f=a204_0x430e5b;try{const _0x308930=await this[_0x2c970f(0xbd)](_0x104a93),_0x5d1e1e=await _0x308930[_0x2c970f(0xa4)]('',{..._0x2a1b67,'path':_0x2a1b67['name']});return repo_class_1[_0x2c970f(0x9f)][_0x2c970f(0x91)](_0x5d1e1e,this[_0x2c970f(0x77)],this[_0x2c970f(0x94)]);}catch(_0x4a88c4){if(_0x4a88c4 instanceof api_error_1['ApiError'])throw _0x4a88c4;throw new not_found_error_1[(_0x2c970f(0x83))](_0x4a88c4);}}async['delete'](_0x9d41c9){const _0x196751=a204_0x430e5b;try{const _0x5990e7=await this[_0x196751(0xbd)](_0x9d41c9);await _0x5990e7[_0x196751(0x87)]('');}catch(_0x454446){if(_0x454446 instanceof api_error_1[_0x196751(0x7f)])throw _0x454446;throw new bad_request_error_1[(_0x196751(0x74))](_0x454446);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a204_0x430e5b(0x90)])(providers_tokens_1[a204_0x430e5b(0xbb)][a204_0x430e5b(0x94)])),__metadata(a204_0x430e5b(0xa6),[gitlab_api_service_1[a204_0x430e5b(0x8e)],gitlab_credentials_dto_1[a204_0x430e5b(0x97)]])],GitlabRepoService),exports[a204_0x430e5b(0x9e)]=GitlabRepoService;