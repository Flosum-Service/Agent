const a230_0x26d74b=a230_0x43ea;function a230_0x5784(){const _0x393da5=['getCurrentUser','full_path','/projects/','getOwnPropertyDescriptor','create','public','GitlabApiService','defaults','defineProperty','projects','apply','getGroup','username','decorate','push','GitlabCredentialsDto','toString','88rfnKlk','fromGitlab','ApiError','./git-repo.service','search','../../providers.tokens','map','GitRepoService','delete','function','3057304DRTIVX','request','groupId','metadata','1TQcTBS','get','9mIKydl','6fyHLSh','1162104pRLMXt','defaultBranch','../repo.class','post','NotFoundError','1580734riVSGm','name','/projects','3789055qWbbIk','(((.+)+)+)+$','__param','5704140OrhpoB','Repo','put','184588EJIyxC','__metadata','getUsername','getGroupPath','GitlabRepoService','length','__esModule','object','groupPath','createRequestToRepo','Service','credentials','15NrrdvJ','Git','createRequest','private','baseURL','3128930sfMKan','BadRequestError','api'];a230_0x5784=function(){return _0x393da5;};return a230_0x5784();}(function(_0x4a208c,_0x25c1ab){const _0x4e1b6a=a230_0x43ea,_0x26ac74=_0x4a208c();while(!![]){try{const _0x45e974=parseInt(_0x4e1b6a(0x1a5))/0x1*(parseInt(_0x4e1b6a(0x1ae))/0x2)+-parseInt(_0x4e1b6a(0x1c3))/0x3*(parseInt(_0x4e1b6a(0x1b7))/0x4)+-parseInt(_0x4e1b6a(0x1b1))/0x5*(parseInt(_0x4e1b6a(0x1a8))/0x6)+parseInt(_0x4e1b6a(0x1c8))/0x7+parseInt(_0x4e1b6a(0x1a1))/0x8*(parseInt(_0x4e1b6a(0x1a7))/0x9)+parseInt(_0x4e1b6a(0x1b4))/0xa+parseInt(_0x4e1b6a(0x1dc))/0xb*(-parseInt(_0x4e1b6a(0x1a9))/0xc);if(_0x45e974===_0x25c1ab)break;else _0x26ac74['push'](_0x26ac74['shift']());}catch(_0x5b783a){_0x26ac74['push'](_0x26ac74['shift']());}}}(a230_0x5784,0x6829c));const a230_0x3ccfd4=(function(){let _0x5a1b6d=!![];return function(_0x1f9311,_0x4e4572){const _0x42f327=_0x5a1b6d?function(){const _0x4a3db3=a230_0x43ea;if(_0x4e4572){const _0x4da1f3=_0x4e4572[_0x4a3db3(0x1d5)](_0x1f9311,arguments);return _0x4e4572=null,_0x4da1f3;}}:function(){};return _0x5a1b6d=![],_0x42f327;};}()),a230_0x43b751=a230_0x3ccfd4(this,function(){const _0x5cc2a2=a230_0x43ea;return a230_0x43b751[_0x5cc2a2(0x1db)]()[_0x5cc2a2(0x1e0)](_0x5cc2a2(0x1b2))['toString']()['constructor'](a230_0x43b751)[_0x5cc2a2(0x1e0)](_0x5cc2a2(0x1b2));});a230_0x43b751();'use strict';var __decorate=this&&this['__decorate']||function(_0x3ecc19,_0x3649ca,_0x578028,_0x27adee){const _0x4866c2=a230_0x43ea;var _0x13a0a3=arguments[_0x4866c2(0x1bc)],_0x543a7f=_0x13a0a3<0x3?_0x3649ca:_0x27adee===null?_0x27adee=Object[_0x4866c2(0x1ce)](_0x3649ca,_0x578028):_0x27adee,_0x319e14;if(typeof Reflect===_0x4866c2(0x1be)&&typeof Reflect[_0x4866c2(0x1d8)]==='function')_0x543a7f=Reflect[_0x4866c2(0x1d8)](_0x3ecc19,_0x3649ca,_0x578028,_0x27adee);else{for(var _0x14df0e=_0x3ecc19['length']-0x1;_0x14df0e>=0x0;_0x14df0e--)if(_0x319e14=_0x3ecc19[_0x14df0e])_0x543a7f=(_0x13a0a3<0x3?_0x319e14(_0x543a7f):_0x13a0a3>0x3?_0x319e14(_0x3649ca,_0x578028,_0x543a7f):_0x319e14(_0x3649ca,_0x578028))||_0x543a7f;}return _0x13a0a3>0x3&&_0x543a7f&&Object[_0x4866c2(0x1d3)](_0x3649ca,_0x578028,_0x543a7f),_0x543a7f;},__metadata=this&&this[a230_0x26d74b(0x1b8)]||function(_0x1b718b,_0x41cf5c){const _0x25954e=a230_0x26d74b;if(typeof Reflect==='object'&&typeof Reflect[_0x25954e(0x1a4)]===_0x25954e(0x1a0))return Reflect[_0x25954e(0x1a4)](_0x1b718b,_0x41cf5c);},__param=this&&this[a230_0x26d74b(0x1b3)]||function(_0x3ff426,_0x449df8){return function(_0x1abc7e,_0xb01448){_0x449df8(_0x1abc7e,_0xb01448,_0x3ff426);};};Object['defineProperty'](exports,a230_0x26d74b(0x1bd),{'value':!![]}),exports[a230_0x26d74b(0x1bb)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a230_0x26d74b(0x1ab)),git_repo_service_1=require(a230_0x26d74b(0x1df)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a230_0x26d74b(0x1e1));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a230_0x26d74b(0x1e3)]{constructor(_0x35c9a6,_0x5044af){const _0x331977=a230_0x26d74b;super(_0x35c9a6),this[_0x331977(0x1ca)]=_0x35c9a6,this[_0x331977(0x1a3)]=_0x5044af[_0x331977(0x1a3)],this['credentials']=_0x5044af;}async[a230_0x26d74b(0x1ba)](){const _0x1890b=a230_0x26d74b;if(!this['groupPath']){const _0xc2f22f=await this[_0x1890b(0x1ca)][_0x1890b(0x1d6)](this['groupId']);this['groupPath']=_0xc2f22f[_0x1890b(0x1cc)];}return this[_0x1890b(0x1bf)];}async[a230_0x26d74b(0x1b9)](){const _0x1e763c=a230_0x26d74b;if(!this[_0x1e763c(0x1d7)]){const _0x3d5490=await this[_0x1e763c(0x1ca)][_0x1e763c(0x1cb)]();this[_0x1e763c(0x1d7)]=_0x3d5490[_0x1e763c(0x1d7)];}return this[_0x1e763c(0x1d7)];}async[a230_0x26d74b(0x1c0)](_0x2f5239){const _0x3baf58=a230_0x26d74b,_0x1c259e=await(this[_0x3baf58(0x1a3)]?this[_0x3baf58(0x1ba)]():this['getUsername']()),_0x36dd25=this[_0x3baf58(0x1ca)][_0x3baf58(0x1c5)](this['request'][_0x3baf58(0x1d2)][_0x3baf58(0x1c7)]+_0x3baf58(0x1cd)+encodeURIComponent(_0x1c259e+'/'+_0x2f5239));return _0x36dd25;}async[a230_0x26d74b(0x1cf)](_0x197638){const _0x11e802=a230_0x26d74b;try{const _0xde804f={'name':_0x197638['name'],'visibility':_0x197638[_0x11e802(0x1c6)]?'private':_0x11e802(0x1d0),'namespace_id':this[_0x11e802(0x1a3)],..._0x197638['apiBody']||{}},_0x292521=await this[_0x11e802(0x1a2)][_0x11e802(0x1ac)](_0x11e802(0x1d4),_0xde804f),_0x299ac4=repo_class_1[_0x11e802(0x1b5)][_0x11e802(0x1dd)](_0x292521,this[_0x11e802(0x1ca)],this['credentials']);return _0x197638['autoInit']&&await git_internal_1[_0x11e802(0x1c4)]['createEmptyBranch'](_0x299ac4,_0x197638[_0x11e802(0x1aa)]||'master','',this[_0x11e802(0x1c2)]),this['getOne'](_0x299ac4[_0x11e802(0x1af)]);}catch(_0x3c3662){if(_0x3c3662 instanceof api_error_1['ApiError'])throw _0x3c3662;throw new bad_request_error_1[(_0x11e802(0x1c9))](_0x3c3662);}}async['getOne'](_0x113d73){const _0x57f6b0=a230_0x26d74b;try{const _0x2720ea=await this[_0x57f6b0(0x1c0)](_0x113d73),_0x5a7ad8=await _0x2720ea['get']('');return repo_class_1[_0x57f6b0(0x1b5)]['fromGitlab'](_0x5a7ad8,this['api'],this['credentials']);}catch(_0x59dc8d){if(_0x59dc8d instanceof api_error_1[_0x57f6b0(0x1de)])throw _0x59dc8d;throw new not_found_error_1['NotFoundError'](_0x59dc8d);}}async['getAll'](){const _0x3b4ee4=a230_0x26d74b;try{let _0x57057e='';if(this[_0x3b4ee4(0x1a3)])_0x57057e='groups/'+this['groupId']+_0x3b4ee4(0x1b0);else{const _0x25aabd=await this[_0x3b4ee4(0x1b9)]();_0x57057e='users/'+_0x25aabd+_0x3b4ee4(0x1b0);}let _0x5238ac=!![],_0xc2f647=0x1;const _0x41b854=[];do{const _0x301ddb=await this[_0x3b4ee4(0x1a2)][_0x3b4ee4(0x1a6)](_0x57057e,{'params':{'page':_0xc2f647,'per_page':0x64}});_0x41b854[_0x3b4ee4(0x1d9)](..._0x301ddb),_0x5238ac=_0x301ddb[_0x3b4ee4(0x1bc)]>0x0,_0xc2f647+=0x1;}while(_0x5238ac);return _0x41b854[_0x3b4ee4(0x1e2)](_0xca4f47=>repo_class_1[_0x3b4ee4(0x1b5)]['fromGitlab'](_0xca4f47,this[_0x3b4ee4(0x1ca)],this[_0x3b4ee4(0x1c2)]));}catch(_0x224d60){if(_0x224d60 instanceof api_error_1[_0x3b4ee4(0x1de)])throw _0x224d60;throw new not_found_error_1[(_0x3b4ee4(0x1ad))](_0x224d60);}}async['update'](_0x300e85,_0x50b0f1){const _0x8555c2=a230_0x26d74b;try{const _0xd3cc0c=await this['createRequestToRepo'](_0x300e85),_0x3a1030=await _0xd3cc0c[_0x8555c2(0x1b6)]('',{..._0x50b0f1,'path':_0x50b0f1['name']});return repo_class_1[_0x8555c2(0x1b5)]['fromGitlab'](_0x3a1030,this['api'],this[_0x8555c2(0x1c2)]);}catch(_0xb002d){if(_0xb002d instanceof api_error_1['ApiError'])throw _0xb002d;throw new not_found_error_1['NotFoundError'](_0xb002d);}}async[a230_0x26d74b(0x19f)](_0x45e45c){const _0x1b86bd=a230_0x26d74b;try{const _0xeb993=await this[_0x1b86bd(0x1c0)](_0x45e45c);await _0xeb993[_0x1b86bd(0x19f)]('');}catch(_0x5b54f6){if(_0x5b54f6 instanceof api_error_1['ApiError'])throw _0x5b54f6;throw new bad_request_error_1['BadRequestError'](_0x5b54f6);}}};function a230_0x43ea(_0x182045,_0x130270){const _0x485e2a=a230_0x5784();return a230_0x43ea=function(_0x43b751,_0x3ccfd4){_0x43b751=_0x43b751-0x19f;let _0x578491=_0x485e2a[_0x43b751];return _0x578491;},a230_0x43ea(_0x182045,_0x130270);}GitlabRepoService=__decorate([(0x0,typedi_1[a230_0x26d74b(0x1c1)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1['Tokens']['credentials'])),__metadata('design:paramtypes',[gitlab_api_service_1[a230_0x26d74b(0x1d1)],gitlab_credentials_dto_1[a230_0x26d74b(0x1da)]])],GitlabRepoService),exports[a230_0x26d74b(0x1bb)]=GitlabRepoService;