const a241_0x1f1610=a241_0x59df;(function(_0x3e8643,_0x38ccd1){const _0x1735ff=a241_0x59df,_0x3e48fa=_0x3e8643();while(!![]){try{const _0x30ca8c=parseInt(_0x1735ff(0xed))/0x1*(-parseInt(_0x1735ff(0xd6))/0x2)+-parseInt(_0x1735ff(0xf8))/0x3*(-parseInt(_0x1735ff(0xc5))/0x4)+parseInt(_0x1735ff(0xf0))/0x5*(-parseInt(_0x1735ff(0xd9))/0x6)+-parseInt(_0x1735ff(0xe2))/0x7+parseInt(_0x1735ff(0xd0))/0x8*(parseInt(_0x1735ff(0xba))/0x9)+-parseInt(_0x1735ff(0xf7))/0xa*(parseInt(_0x1735ff(0xcb))/0xb)+-parseInt(_0x1735ff(0xbc))/0xc*(-parseInt(_0x1735ff(0xdd))/0xd);if(_0x30ca8c===_0x38ccd1)break;else _0x3e48fa['push'](_0x3e48fa['shift']());}catch(_0x401d39){_0x3e48fa['push'](_0x3e48fa['shift']());}}}(a241_0x10a4,0xe0a1a));const a241_0x37fd36=(function(){let _0xf823a0=!![];return function(_0x45030e,_0x3c0f0d){const _0x12a8c0=_0xf823a0?function(){const _0x154b7c=a241_0x59df;if(_0x3c0f0d){const _0x2e2904=_0x3c0f0d[_0x154b7c(0xd8)](_0x45030e,arguments);return _0x3c0f0d=null,_0x2e2904;}}:function(){};return _0xf823a0=![],_0x12a8c0;};}()),a241_0x366efa=a241_0x37fd36(this,function(){const _0x9ca078=a241_0x59df;return a241_0x366efa['toString']()['search'](_0x9ca078(0xec))[_0x9ca078(0xbd)]()['constructor'](a241_0x366efa)[_0x9ca078(0xc0)](_0x9ca078(0xec));});function a241_0x10a4(){const _0x390e71=['Tokens','groupPath','api','create','projects','__param','getOwnPropertyDescriptor','username','570951PsyXJb','GitRepoService','3912RqVRXd','toString','createRequestToRepo','baseURL','search','get','length','createEmptyBranch','Repo','676252GlTdfC','getAll','post','design:paramtypes','put','request','5240037zEOqij','../../credentials/dto/gitlab-credentials.dto','name','BadRequestError','GitlabRepoService','8wqSPfT','__decorate','getUsername','typedi','groups/','../../../internal/git.internal','1405982ROqXoc','public','apply','1899006yyrTTC','object','./git-repo.service','getCurrentUser','135187WLgSGG','decorate','../../../../../core/errors/not-found.error','/projects','ApiError','406637krADgO','update','/projects/','NotFoundError','delete','../../../../../core/errors/bad-request.error','defaults','full_path','getOne','metadata','(((.+)+)+)+$','2krAmfn','credentials','GitlabCredentialsDto','5vqbdii','map','createRequest','../../api/gitlab-api.service','groupId','GitlabApiService','Inject','30YItrkV','12McpKKC','function','private','../repo.class','push','fromGitlab','defineProperty','__esModule'];a241_0x10a4=function(){return _0x390e71;};return a241_0x10a4();}a241_0x366efa();'use strict';function a241_0x59df(_0x548464,_0x5b17e9){const _0x340a6e=a241_0x10a4();return a241_0x59df=function(_0x366efa,_0x37fd36){_0x366efa=_0x366efa-0xac;let _0x10a4f7=_0x340a6e[_0x366efa];return _0x10a4f7;},a241_0x59df(_0x548464,_0x5b17e9);}var __decorate=this&&this[a241_0x1f1610(0xd1)]||function(_0x350c88,_0x5d4839,_0x30b447,_0x5df5b8){const _0x445f52=a241_0x1f1610;var _0x1ead7b=arguments['length'],_0xd10b49=_0x1ead7b<0x3?_0x5d4839:_0x5df5b8===null?_0x5df5b8=Object[_0x445f52(0xb8)](_0x5d4839,_0x30b447):_0x5df5b8,_0x360b91;if(typeof Reflect===_0x445f52(0xda)&&typeof Reflect[_0x445f52(0xde)]===_0x445f52(0xf9))_0xd10b49=Reflect[_0x445f52(0xde)](_0x350c88,_0x5d4839,_0x30b447,_0x5df5b8);else{for(var _0x14dbe5=_0x350c88['length']-0x1;_0x14dbe5>=0x0;_0x14dbe5--)if(_0x360b91=_0x350c88[_0x14dbe5])_0xd10b49=(_0x1ead7b<0x3?_0x360b91(_0xd10b49):_0x1ead7b>0x3?_0x360b91(_0x5d4839,_0x30b447,_0xd10b49):_0x360b91(_0x5d4839,_0x30b447))||_0xd10b49;}return _0x1ead7b>0x3&&_0xd10b49&&Object[_0x445f52(0xb0)](_0x5d4839,_0x30b447,_0xd10b49),_0xd10b49;},__metadata=this&&this['__metadata']||function(_0x457251,_0x1637ba){const _0x4827f1=a241_0x1f1610;if(typeof Reflect===_0x4827f1(0xda)&&typeof Reflect[_0x4827f1(0xeb)]===_0x4827f1(0xf9))return Reflect[_0x4827f1(0xeb)](_0x457251,_0x1637ba);},__param=this&&this[a241_0x1f1610(0xb7)]||function(_0x142622,_0x5c4be6){return function(_0x53b0c9,_0x1bce22){_0x5c4be6(_0x53b0c9,_0x1bce22,_0x142622);};};Object['defineProperty'](exports,a241_0x1f1610(0xb1),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a241_0x1f1610(0xe7)),not_found_error_1=require(a241_0x1f1610(0xdf)),gitlab_api_service_1=require(a241_0x1f1610(0xf3)),typedi_1=require(a241_0x1f1610(0xd3)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a241_0x1f1610(0xd5)),repo_class_1=require(a241_0x1f1610(0xad)),git_repo_service_1=require(a241_0x1f1610(0xdb)),gitlab_credentials_dto_1=require(a241_0x1f1610(0xcc)),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a241_0x1f1610(0xbb)]{constructor(_0x12f324,_0x87abf4){const _0x31fc9c=a241_0x1f1610;super(_0x12f324),this['api']=_0x12f324,this[_0x31fc9c(0xf4)]=_0x87abf4[_0x31fc9c(0xf4)],this[_0x31fc9c(0xee)]=_0x87abf4;}async['getGroupPath'](){const _0x2f32e0=a241_0x1f1610;if(!this[_0x2f32e0(0xb3)]){const _0x2cf861=await this[_0x2f32e0(0xb4)]['getGroup'](this['groupId']);this['groupPath']=_0x2cf861[_0x2f32e0(0xe9)];}return this[_0x2f32e0(0xb3)];}async[a241_0x1f1610(0xd2)](){const _0x24468c=a241_0x1f1610;if(!this[_0x24468c(0xb9)]){const _0x484ce7=await this[_0x24468c(0xb4)][_0x24468c(0xdc)]();this['username']=_0x484ce7[_0x24468c(0xb9)];}return this[_0x24468c(0xb9)];}async['createRequestToRepo'](_0x54a319){const _0x4db8dc=a241_0x1f1610,_0x76e1f7=await(this[_0x4db8dc(0xf4)]?this['getGroupPath']():this['getUsername']()),_0x3b4a74=this[_0x4db8dc(0xb4)][_0x4db8dc(0xf2)](this[_0x4db8dc(0xca)][_0x4db8dc(0xe8)][_0x4db8dc(0xbf)]+_0x4db8dc(0xe4)+encodeURIComponent(_0x76e1f7+'/'+_0x54a319));return _0x3b4a74;}async[a241_0x1f1610(0xb5)](_0x4ba2f8){const _0x24a95e=a241_0x1f1610;try{const _0x46af3a={'name':_0x4ba2f8[_0x24a95e(0xcd)],'visibility':_0x4ba2f8[_0x24a95e(0xac)]?_0x24a95e(0xac):_0x24a95e(0xd7),'namespace_id':this['groupId'],..._0x4ba2f8['apiBody']||{}},_0x24cf3a=await this[_0x24a95e(0xca)][_0x24a95e(0xc7)](_0x24a95e(0xb6),_0x46af3a),_0x2e2e15=repo_class_1['Repo'][_0x24a95e(0xaf)](_0x24cf3a,this[_0x24a95e(0xb4)],this[_0x24a95e(0xee)]);return _0x4ba2f8['autoInit']&&await git_internal_1['Git'][_0x24a95e(0xc3)](_0x2e2e15,_0x4ba2f8['defaultBranch']||'master','',this[_0x24a95e(0xee)]),this[_0x24a95e(0xea)](_0x2e2e15[_0x24a95e(0xcd)]);}catch(_0x1239a4){if(_0x1239a4 instanceof api_error_1['ApiError'])throw _0x1239a4;throw new bad_request_error_1[(_0x24a95e(0xce))](_0x1239a4);}}async[a241_0x1f1610(0xea)](_0xd1f558){const _0x3ae32b=a241_0x1f1610;try{const _0x475cae=await this[_0x3ae32b(0xbe)](_0xd1f558),_0x5618c6=await _0x475cae[_0x3ae32b(0xc1)]('');return repo_class_1[_0x3ae32b(0xc4)][_0x3ae32b(0xaf)](_0x5618c6,this[_0x3ae32b(0xb4)],this[_0x3ae32b(0xee)]);}catch(_0x5c4c34){if(_0x5c4c34 instanceof api_error_1[_0x3ae32b(0xe1)])throw _0x5c4c34;throw new not_found_error_1['NotFoundError'](_0x5c4c34);}}async[a241_0x1f1610(0xc6)](){const _0x1732a9=a241_0x1f1610;try{let _0xf79268='';if(this['groupId'])_0xf79268=_0x1732a9(0xd4)+this[_0x1732a9(0xf4)]+'/projects';else{const _0x45e898=await this[_0x1732a9(0xd2)]();_0xf79268='users/'+_0x45e898+_0x1732a9(0xe0);}let _0x34d39d=!![],_0x165c73=0x1;const _0x35633f=[];do{const _0x2e9ac2=await this[_0x1732a9(0xca)]['get'](_0xf79268,{'params':{'page':_0x165c73,'per_page':0x64}});_0x35633f[_0x1732a9(0xae)](..._0x2e9ac2),_0x34d39d=_0x2e9ac2[_0x1732a9(0xc2)]>0x0,_0x165c73+=0x1;}while(_0x34d39d);return _0x35633f[_0x1732a9(0xf1)](_0x524fe3=>repo_class_1[_0x1732a9(0xc4)][_0x1732a9(0xaf)](_0x524fe3,this['api'],this['credentials']));}catch(_0x39706c){if(_0x39706c instanceof api_error_1[_0x1732a9(0xe1)])throw _0x39706c;throw new not_found_error_1[(_0x1732a9(0xe5))](_0x39706c);}}async[a241_0x1f1610(0xe3)](_0x532efd,_0x24f737){const _0x3bed05=a241_0x1f1610;try{const _0x2b7802=await this[_0x3bed05(0xbe)](_0x532efd),_0xa0789d=await _0x2b7802[_0x3bed05(0xc9)]('',{..._0x24f737,'path':_0x24f737[_0x3bed05(0xcd)]});return repo_class_1[_0x3bed05(0xc4)][_0x3bed05(0xaf)](_0xa0789d,this['api'],this[_0x3bed05(0xee)]);}catch(_0x3f5dec){if(_0x3f5dec instanceof api_error_1[_0x3bed05(0xe1)])throw _0x3f5dec;throw new not_found_error_1[(_0x3bed05(0xe5))](_0x3f5dec);}}async[a241_0x1f1610(0xe6)](_0x5284ab){const _0x199d1d=a241_0x1f1610;try{const _0x1e05dc=await this[_0x199d1d(0xbe)](_0x5284ab);await _0x1e05dc[_0x199d1d(0xe6)]('');}catch(_0x124ce5){if(_0x124ce5 instanceof api_error_1['ApiError'])throw _0x124ce5;throw new bad_request_error_1['BadRequestError'](_0x124ce5);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a241_0x1f1610(0xf6)])(providers_tokens_1[a241_0x1f1610(0xb2)][a241_0x1f1610(0xee)])),__metadata(a241_0x1f1610(0xc8),[gitlab_api_service_1[a241_0x1f1610(0xf5)],gitlab_credentials_dto_1[a241_0x1f1610(0xef)]])],GitlabRepoService),exports[a241_0x1f1610(0xcf)]=GitlabRepoService;