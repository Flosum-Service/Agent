const a209_0x2fe366=a209_0x2d84;function a209_0x1640(){const _0x22370f=['842466WhOxan','__esModule','autoInit','207963cDRAZw','request','../../../../../core/errors/api.error','typedi','120KfsiEb','Repo','fromGitlab','put','../../api/gitlab-api.service','createRequestToRepo','metadata','Inject','length','9235NOshnc','function','14FFtMyC','GitRepoService','defaults','NotFoundError','get','2100100UWllCT','groupId','apiBody','defaultBranch','private','map','50vDFfab','getGroupPath','update','BadRequestError','./git-repo.service','../../../../../core/errors/not-found.error','credentials','/projects','public','constructor','GitlabApiService','apply','getUsername','createEmptyBranch','search','ApiError','decorate','1715619KtBXAn','master','__decorate','design:paramtypes','delete','__param','../repo.class','users/','groupPath','getOwnPropertyDescriptor','api','GitlabCredentialsDto','Service','/projects/','(((.+)+)+)+$','defineProperty','getOne','createRequest','10212192krUGPw','../../providers.tokens','toString','baseURL','759473rVewie','Tokens','Git','username','name'];a209_0x1640=function(){return _0x22370f;};return a209_0x1640();}(function(_0x139af7,_0x1a1827){const _0x2c3377=a209_0x2d84,_0x47e858=_0x139af7();while(!![]){try{const _0x3c14ef=-parseInt(_0x2c3377(0xbb))/0x1+parseInt(_0x2c3377(0xd7))/0x2+-parseInt(_0x2c3377(0xa5))/0x3+-parseInt(_0x2c3377(0xc7))/0x4*(-parseInt(_0x2c3377(0xd0))/0x5)+-parseInt(_0x2c3377(0xc0))/0x6*(parseInt(_0x2c3377(0xd2))/0x7)+parseInt(_0x2c3377(0xb7))/0x8+-parseInt(_0x2c3377(0xc3))/0x9*(parseInt(_0x2c3377(0xdd))/0xa);if(_0x3c14ef===_0x1a1827)break;else _0x47e858['push'](_0x47e858['shift']());}catch(_0xba140c){_0x47e858['push'](_0x47e858['shift']());}}}(a209_0x1640,0x9fbc9));const a209_0x1aabfc=(function(){let _0x3b3022=!![];return function(_0x1f5c9e,_0x591696){const _0x1a94a0=_0x3b3022?function(){const _0x18e47c=a209_0x2d84;if(_0x591696){const _0x43fa80=_0x591696[_0x18e47c(0x9f)](_0x1f5c9e,arguments);return _0x591696=null,_0x43fa80;}}:function(){};return _0x3b3022=![],_0x1a94a0;};}()),a209_0x23d0b7=a209_0x1aabfc(this,function(){const _0x4df007=a209_0x2d84;return a209_0x23d0b7[_0x4df007(0xb9)]()[_0x4df007(0xa2)]('(((.+)+)+)+$')['toString']()[_0x4df007(0x9d)](a209_0x23d0b7)['search'](_0x4df007(0xb3));});a209_0x23d0b7();'use strict';var __decorate=this&&this[a209_0x2fe366(0xa7)]||function(_0x503f4c,_0x550429,_0x502b0c,_0x487a15){const _0x2f01a6=a209_0x2fe366;var _0xcc8164=arguments[_0x2f01a6(0xcf)],_0xfb916=_0xcc8164<0x3?_0x550429:_0x487a15===null?_0x487a15=Object[_0x2f01a6(0xae)](_0x550429,_0x502b0c):_0x487a15,_0x330738;if(typeof Reflect==='object'&&typeof Reflect[_0x2f01a6(0xa4)]===_0x2f01a6(0xd1))_0xfb916=Reflect['decorate'](_0x503f4c,_0x550429,_0x502b0c,_0x487a15);else{for(var _0x3a4671=_0x503f4c[_0x2f01a6(0xcf)]-0x1;_0x3a4671>=0x0;_0x3a4671--)if(_0x330738=_0x503f4c[_0x3a4671])_0xfb916=(_0xcc8164<0x3?_0x330738(_0xfb916):_0xcc8164>0x3?_0x330738(_0x550429,_0x502b0c,_0xfb916):_0x330738(_0x550429,_0x502b0c))||_0xfb916;}return _0xcc8164>0x3&&_0xfb916&&Object[_0x2f01a6(0xb4)](_0x550429,_0x502b0c,_0xfb916),_0xfb916;},__metadata=this&&this['__metadata']||function(_0x4c7f8b,_0x539b01){const _0xdb12f9=a209_0x2fe366;if(typeof Reflect==='object'&&typeof Reflect[_0xdb12f9(0xcd)]===_0xdb12f9(0xd1))return Reflect[_0xdb12f9(0xcd)](_0x4c7f8b,_0x539b01);},__param=this&&this[a209_0x2fe366(0xaa)]||function(_0x30466f,_0x74d24d){return function(_0xc908e1,_0x2b8286){_0x74d24d(_0xc908e1,_0x2b8286,_0x30466f);};};function a209_0x2d84(_0x566db0,_0x2619b7){const _0x36bb4e=a209_0x1640();return a209_0x2d84=function(_0x23d0b7,_0x1aabfc){_0x23d0b7=_0x23d0b7-0x98;let _0x1640ab=_0x36bb4e[_0x23d0b7];return _0x1640ab;},a209_0x2d84(_0x566db0,_0x2619b7);}Object['defineProperty'](exports,a209_0x2fe366(0xc1),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a209_0x2fe366(0x99)),gitlab_api_service_1=require(a209_0x2fe366(0xcb)),typedi_1=require(a209_0x2fe366(0xc6)),api_error_1=require(a209_0x2fe366(0xc5)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a209_0x2fe366(0xab)),git_repo_service_1=require(a209_0x2fe366(0x98)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a209_0x2fe366(0xb8));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a209_0x2fe366(0xd3)]{constructor(_0x5ea836,_0x11a8bf){const _0x47a599=a209_0x2fe366;super(_0x5ea836),this['api']=_0x5ea836,this[_0x47a599(0xd8)]=_0x11a8bf['groupId'],this[_0x47a599(0x9a)]=_0x11a8bf;}async[a209_0x2fe366(0xde)](){const _0x2f29d8=a209_0x2fe366;if(!this['groupPath']){const _0x4ce5eb=await this[_0x2f29d8(0xaf)]['getGroup'](this[_0x2f29d8(0xd8)]);this[_0x2f29d8(0xad)]=_0x4ce5eb['full_path'];}return this['groupPath'];}async[a209_0x2fe366(0xa0)](){const _0x49fece=a209_0x2fe366;if(!this[_0x49fece(0xbe)]){const _0x47cb3e=await this[_0x49fece(0xaf)]['getCurrentUser']();this[_0x49fece(0xbe)]=_0x47cb3e[_0x49fece(0xbe)];}return this[_0x49fece(0xbe)];}async['createRequestToRepo'](_0x5645f1){const _0x363f77=a209_0x2fe366,_0x2e4ec2=await(this['groupId']?this['getGroupPath']():this['getUsername']()),_0x325f0a=this[_0x363f77(0xaf)][_0x363f77(0xb6)](this[_0x363f77(0xc4)][_0x363f77(0xd4)][_0x363f77(0xba)]+_0x363f77(0xb2)+encodeURIComponent(_0x2e4ec2+'/'+_0x5645f1));return _0x325f0a;}async['create'](_0x18ecff){const _0x431098=a209_0x2fe366;try{const _0x1cd21c={'name':_0x18ecff[_0x431098(0xbf)],'visibility':_0x18ecff[_0x431098(0xdb)]?'private':_0x431098(0x9c),'namespace_id':this[_0x431098(0xd8)],..._0x18ecff[_0x431098(0xd9)]||{}},_0x3be0c5=await this[_0x431098(0xc4)]['post']('projects',_0x1cd21c),_0x542d7b=repo_class_1['Repo'][_0x431098(0xc9)](_0x3be0c5,this[_0x431098(0xaf)],this[_0x431098(0x9a)]);return _0x18ecff[_0x431098(0xc2)]&&await git_internal_1[_0x431098(0xbd)][_0x431098(0xa1)](_0x542d7b,_0x18ecff[_0x431098(0xda)]||_0x431098(0xa6),'',this[_0x431098(0x9a)]),this['getOne'](_0x542d7b[_0x431098(0xbf)]);}catch(_0xc08226){if(_0xc08226 instanceof api_error_1[_0x431098(0xa3)])throw _0xc08226;throw new bad_request_error_1[(_0x431098(0xe0))](_0xc08226);}}async[a209_0x2fe366(0xb5)](_0x5c29a6){const _0x2388be=a209_0x2fe366;try{const _0x41ed16=await this[_0x2388be(0xcc)](_0x5c29a6),_0x525145=await _0x41ed16[_0x2388be(0xd6)]('');return repo_class_1['Repo'][_0x2388be(0xc9)](_0x525145,this[_0x2388be(0xaf)],this[_0x2388be(0x9a)]);}catch(_0x4b57e3){if(_0x4b57e3 instanceof api_error_1[_0x2388be(0xa3)])throw _0x4b57e3;throw new not_found_error_1[(_0x2388be(0xd5))](_0x4b57e3);}}async['getAll'](){const _0x54f8d6=a209_0x2fe366;try{let _0x4e9d78='';if(this[_0x54f8d6(0xd8)])_0x4e9d78='groups/'+this[_0x54f8d6(0xd8)]+_0x54f8d6(0x9b);else{const _0x767e89=await this[_0x54f8d6(0xa0)]();_0x4e9d78=_0x54f8d6(0xac)+_0x767e89+'/projects';}let _0x55aedc=!![],_0x89c4f4=0x1;const _0x29771e=[];do{const _0x245f13=await this[_0x54f8d6(0xc4)][_0x54f8d6(0xd6)](_0x4e9d78,{'params':{'page':_0x89c4f4,'per_page':0x64}});_0x29771e['push'](..._0x245f13),_0x55aedc=_0x245f13[_0x54f8d6(0xcf)]>0x0,_0x89c4f4+=0x1;}while(_0x55aedc);return _0x29771e[_0x54f8d6(0xdc)](_0x1ce54c=>repo_class_1[_0x54f8d6(0xc8)][_0x54f8d6(0xc9)](_0x1ce54c,this[_0x54f8d6(0xaf)],this[_0x54f8d6(0x9a)]));}catch(_0x52665a){if(_0x52665a instanceof api_error_1['ApiError'])throw _0x52665a;throw new not_found_error_1['NotFoundError'](_0x52665a);}}async[a209_0x2fe366(0xdf)](_0x18c1e7,_0x34fcde){const _0x5bfa77=a209_0x2fe366;try{const _0x27efc8=await this[_0x5bfa77(0xcc)](_0x18c1e7),_0x39ab35=await _0x27efc8[_0x5bfa77(0xca)]('',{..._0x34fcde,'path':_0x34fcde[_0x5bfa77(0xbf)]});return repo_class_1[_0x5bfa77(0xc8)]['fromGitlab'](_0x39ab35,this['api'],this[_0x5bfa77(0x9a)]);}catch(_0xb0e8ee){if(_0xb0e8ee instanceof api_error_1[_0x5bfa77(0xa3)])throw _0xb0e8ee;throw new not_found_error_1['NotFoundError'](_0xb0e8ee);}}async[a209_0x2fe366(0xa9)](_0x238627){const _0x42c059=a209_0x2fe366;try{const _0x25fbc1=await this[_0x42c059(0xcc)](_0x238627);await _0x25fbc1[_0x42c059(0xa9)]('');}catch(_0x3e3abf){if(_0x3e3abf instanceof api_error_1[_0x42c059(0xa3)])throw _0x3e3abf;throw new bad_request_error_1[(_0x42c059(0xe0))](_0x3e3abf);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a209_0x2fe366(0xb1)])(),__param(0x1,(0x0,typedi_1[a209_0x2fe366(0xce)])(providers_tokens_1[a209_0x2fe366(0xbc)]['credentials'])),__metadata(a209_0x2fe366(0xa8),[gitlab_api_service_1[a209_0x2fe366(0x9e)],gitlab_credentials_dto_1[a209_0x2fe366(0xb0)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;