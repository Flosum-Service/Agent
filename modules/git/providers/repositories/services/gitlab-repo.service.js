const a214_0x2423cd=a214_0x5734;(function(_0x35b3f4,_0x12c8e6){const _0x5a77b3=a214_0x5734,_0x1a2fc3=_0x35b3f4();while(!![]){try{const _0x1dbe0d=parseInt(_0x5a77b3(0x1d7))/0x1+parseInt(_0x5a77b3(0x1f1))/0x2+parseInt(_0x5a77b3(0x1d5))/0x3+parseInt(_0x5a77b3(0x1f8))/0x4+-parseInt(_0x5a77b3(0x1ce))/0x5+-parseInt(_0x5a77b3(0x1b7))/0x6+parseInt(_0x5a77b3(0x1dc))/0x7;if(_0x1dbe0d===_0x12c8e6)break;else _0x1a2fc3['push'](_0x1a2fc3['shift']());}catch(_0x4b4900){_0x1a2fc3['push'](_0x1a2fc3['shift']());}}}(a214_0x25fb,0xe0134));const a214_0x2db3b7=(function(){let _0xaf7acb=!![];return function(_0x846eee,_0x2e741c){const _0x549768=_0xaf7acb?function(){const _0x4ece61=a214_0x5734;if(_0x2e741c){const _0x31e7c6=_0x2e741c[_0x4ece61(0x1d2)](_0x846eee,arguments);return _0x2e741c=null,_0x31e7c6;}}:function(){};return _0xaf7acb=![],_0x549768;};}()),a214_0x3cf7df=a214_0x2db3b7(this,function(){const _0x3f8de4=a214_0x5734;return a214_0x3cf7df[_0x3f8de4(0x1bc)]()[_0x3f8de4(0x1c9)](_0x3f8de4(0x1ff))[_0x3f8de4(0x1bc)]()[_0x3f8de4(0x1e1)](a214_0x3cf7df)['search'](_0x3f8de4(0x1ff));});a214_0x3cf7df();'use strict';var __decorate=this&&this[a214_0x2423cd(0x1cb)]||function(_0x30ef42,_0x5ec9b3,_0x4cf3e2,_0x180c71){const _0x1a17f6=a214_0x2423cd;var _0x1db6be=arguments[_0x1a17f6(0x1cf)],_0x3c6b87=_0x1db6be<0x3?_0x5ec9b3:_0x180c71===null?_0x180c71=Object[_0x1a17f6(0x1ee)](_0x5ec9b3,_0x4cf3e2):_0x180c71,_0xc45b8a;if(typeof Reflect==='object'&&typeof Reflect[_0x1a17f6(0x1c5)]===_0x1a17f6(0x1fd))_0x3c6b87=Reflect['decorate'](_0x30ef42,_0x5ec9b3,_0x4cf3e2,_0x180c71);else{for(var _0x2881d0=_0x30ef42[_0x1a17f6(0x1cf)]-0x1;_0x2881d0>=0x0;_0x2881d0--)if(_0xc45b8a=_0x30ef42[_0x2881d0])_0x3c6b87=(_0x1db6be<0x3?_0xc45b8a(_0x3c6b87):_0x1db6be>0x3?_0xc45b8a(_0x5ec9b3,_0x4cf3e2,_0x3c6b87):_0xc45b8a(_0x5ec9b3,_0x4cf3e2))||_0x3c6b87;}return _0x1db6be>0x3&&_0x3c6b87&&Object[_0x1a17f6(0x1d6)](_0x5ec9b3,_0x4cf3e2,_0x3c6b87),_0x3c6b87;},__metadata=this&&this[a214_0x2423cd(0x1b9)]||function(_0x284691,_0xdb69bc){const _0xabc307=a214_0x2423cd;if(typeof Reflect===_0xabc307(0x1db)&&typeof Reflect[_0xabc307(0x1f6)]==='function')return Reflect[_0xabc307(0x1f6)](_0x284691,_0xdb69bc);},__param=this&&this[a214_0x2423cd(0x1fb)]||function(_0x549012,_0x5a3923){return function(_0x209260,_0x373432){_0x5a3923(_0x209260,_0x373432,_0x549012);};};Object[a214_0x2423cd(0x1d6)](exports,a214_0x2423cd(0x1d1),{'value':!![]}),exports[a214_0x2423cd(0x1e6)]=void 0x0;function a214_0x5734(_0x27cfc8,_0x206659){const _0x23e87a=a214_0x25fb();return a214_0x5734=function(_0x3cf7df,_0x2db3b7){_0x3cf7df=_0x3cf7df-0x1b4;let _0x25fba2=_0x23e87a[_0x3cf7df];return _0x25fba2;},a214_0x5734(_0x27cfc8,_0x206659);}function a214_0x25fb(){const _0x1c21c7=['GitRepoService','push','576664CmzbHF','Repo','map','defaultBranch','name','metadata','./git-repo.service','558616lQbPSv','username','../../providers.tokens','__param','../../../../../core/errors/bad-request.error','function','../repo.class','(((.+)+)+)+$','groupId','credentials','getOne','apiBody','defaults','createRequestToRepo','3740664xGqLmF','../../../internal/git.internal','__metadata','createEmptyBranch','public','toString','Git','BadRequestError','/projects','full_path','typedi','ApiError','../../../../../core/errors/api.error','Tokens','decorate','getAll','getUsername','post','search','put','__decorate','autoInit','fromGitlab','2792585NWKFMr','length','getCurrentUser','__esModule','apply','baseURL','../../api/gitlab-api.service','3056319bSoGFd','defineProperty','280465rWkKZu','users/','get','update','object','2607843tdTJQx','api','Service','private','groupPath','constructor','../../../../../core/errors/not-found.error','/projects/','getGroup','groups/','GitlabRepoService','GitlabCredentialsDto','createRequest','delete','request','master','getGroupPath','NotFoundError','getOwnPropertyDescriptor'];a214_0x25fb=function(){return _0x1c21c7;};return a214_0x25fb();}const bad_request_error_1=require(a214_0x2423cd(0x1fc)),not_found_error_1=require(a214_0x2423cd(0x1e2)),gitlab_api_service_1=require(a214_0x2423cd(0x1d4)),typedi_1=require(a214_0x2423cd(0x1c1)),api_error_1=require(a214_0x2423cd(0x1c3)),git_internal_1=require(a214_0x2423cd(0x1b8)),repo_class_1=require(a214_0x2423cd(0x1fe)),git_repo_service_1=require(a214_0x2423cd(0x1f7)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a214_0x2423cd(0x1fa));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a214_0x2423cd(0x1ef)]{constructor(_0x58c53b,_0x11fabd){const _0x14acd3=a214_0x2423cd;super(_0x58c53b),this[_0x14acd3(0x1dd)]=_0x58c53b,this['groupId']=_0x11fabd[_0x14acd3(0x200)],this[_0x14acd3(0x201)]=_0x11fabd;}async[a214_0x2423cd(0x1ec)](){const _0x539bbf=a214_0x2423cd;if(!this[_0x539bbf(0x1e0)]){const _0x337cc5=await this[_0x539bbf(0x1dd)][_0x539bbf(0x1e4)](this['groupId']);this[_0x539bbf(0x1e0)]=_0x337cc5[_0x539bbf(0x1c0)];}return this[_0x539bbf(0x1e0)];}async[a214_0x2423cd(0x1c7)](){const _0x220e98=a214_0x2423cd;if(!this[_0x220e98(0x1f9)]){const _0x1bf1d0=await this[_0x220e98(0x1dd)][_0x220e98(0x1d0)]();this[_0x220e98(0x1f9)]=_0x1bf1d0['username'];}return this['username'];}async[a214_0x2423cd(0x1b6)](_0x12ecbe){const _0x5d031d=a214_0x2423cd,_0x657def=await(this['groupId']?this['getGroupPath']():this[_0x5d031d(0x1c7)]()),_0x55f2c2=this[_0x5d031d(0x1dd)][_0x5d031d(0x1e8)](this[_0x5d031d(0x1ea)][_0x5d031d(0x1b5)][_0x5d031d(0x1d3)]+_0x5d031d(0x1e3)+encodeURIComponent(_0x657def+'/'+_0x12ecbe));return _0x55f2c2;}async['create'](_0x15b932){const _0x31b3dc=a214_0x2423cd;try{const _0x124fcf={'name':_0x15b932[_0x31b3dc(0x1f5)],'visibility':_0x15b932[_0x31b3dc(0x1df)]?_0x31b3dc(0x1df):_0x31b3dc(0x1bb),'namespace_id':this[_0x31b3dc(0x200)],..._0x15b932[_0x31b3dc(0x1b4)]||{}},_0x4c4680=await this['request'][_0x31b3dc(0x1c8)]('projects',_0x124fcf),_0x38326b=repo_class_1[_0x31b3dc(0x1f2)][_0x31b3dc(0x1cd)](_0x4c4680,this[_0x31b3dc(0x1dd)],this['credentials']);return _0x15b932[_0x31b3dc(0x1cc)]&&await git_internal_1[_0x31b3dc(0x1bd)][_0x31b3dc(0x1ba)](_0x38326b,_0x15b932[_0x31b3dc(0x1f4)]||_0x31b3dc(0x1eb),'',this[_0x31b3dc(0x201)]),this[_0x31b3dc(0x202)](_0x38326b[_0x31b3dc(0x1f5)]);}catch(_0x31e682){if(_0x31e682 instanceof api_error_1[_0x31b3dc(0x1c2)])throw _0x31e682;throw new bad_request_error_1['BadRequestError'](_0x31e682);}}async[a214_0x2423cd(0x202)](_0x138611){const _0x420451=a214_0x2423cd;try{const _0x2e297a=await this[_0x420451(0x1b6)](_0x138611),_0x24ffc5=await _0x2e297a[_0x420451(0x1d9)]('');return repo_class_1[_0x420451(0x1f2)][_0x420451(0x1cd)](_0x24ffc5,this[_0x420451(0x1dd)],this[_0x420451(0x201)]);}catch(_0x5e748b){if(_0x5e748b instanceof api_error_1[_0x420451(0x1c2)])throw _0x5e748b;throw new not_found_error_1[(_0x420451(0x1ed))](_0x5e748b);}}async[a214_0x2423cd(0x1c6)](){const _0x2fa0b2=a214_0x2423cd;try{let _0x53dd42='';if(this[_0x2fa0b2(0x200)])_0x53dd42=_0x2fa0b2(0x1e5)+this[_0x2fa0b2(0x200)]+_0x2fa0b2(0x1bf);else{const _0x483645=await this['getUsername']();_0x53dd42=_0x2fa0b2(0x1d8)+_0x483645+_0x2fa0b2(0x1bf);}let _0x5d3e7f=!![],_0x10e03e=0x1;const _0x34ed84=[];do{const _0x8ff190=await this['request'][_0x2fa0b2(0x1d9)](_0x53dd42,{'params':{'page':_0x10e03e,'per_page':0x64}});_0x34ed84[_0x2fa0b2(0x1f0)](..._0x8ff190),_0x5d3e7f=_0x8ff190[_0x2fa0b2(0x1cf)]>0x0,_0x10e03e+=0x1;}while(_0x5d3e7f);return _0x34ed84[_0x2fa0b2(0x1f3)](_0x4f40fc=>repo_class_1[_0x2fa0b2(0x1f2)][_0x2fa0b2(0x1cd)](_0x4f40fc,this[_0x2fa0b2(0x1dd)],this[_0x2fa0b2(0x201)]));}catch(_0x113890){if(_0x113890 instanceof api_error_1[_0x2fa0b2(0x1c2)])throw _0x113890;throw new not_found_error_1[(_0x2fa0b2(0x1ed))](_0x113890);}}async[a214_0x2423cd(0x1da)](_0x4ec05d,_0x3395d8){const _0x3192bf=a214_0x2423cd;try{const _0x5deeb7=await this['createRequestToRepo'](_0x4ec05d),_0x416646=await _0x5deeb7[_0x3192bf(0x1ca)]('',{..._0x3395d8,'path':_0x3395d8[_0x3192bf(0x1f5)]});return repo_class_1[_0x3192bf(0x1f2)]['fromGitlab'](_0x416646,this[_0x3192bf(0x1dd)],this[_0x3192bf(0x201)]);}catch(_0x18792e){if(_0x18792e instanceof api_error_1['ApiError'])throw _0x18792e;throw new not_found_error_1[(_0x3192bf(0x1ed))](_0x18792e);}}async[a214_0x2423cd(0x1e9)](_0x399af3){const _0x4ea4ba=a214_0x2423cd;try{const _0x5f5a60=await this[_0x4ea4ba(0x1b6)](_0x399af3);await _0x5f5a60[_0x4ea4ba(0x1e9)]('');}catch(_0x158d83){if(_0x158d83 instanceof api_error_1[_0x4ea4ba(0x1c2)])throw _0x158d83;throw new bad_request_error_1[(_0x4ea4ba(0x1be))](_0x158d83);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a214_0x2423cd(0x1de)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a214_0x2423cd(0x1c4)][a214_0x2423cd(0x201)])),__metadata('design:paramtypes',[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a214_0x2423cd(0x1e7)]])],GitlabRepoService),exports[a214_0x2423cd(0x1e6)]=GitlabRepoService;