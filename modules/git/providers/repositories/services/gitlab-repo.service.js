const a209_0x2b44d5=a209_0x13a5;(function(_0x11f76b,_0x1f3c5f){const _0x5c5ebd=a209_0x13a5,_0x38e60=_0x11f76b();while(!![]){try{const _0x46180f=-parseInt(_0x5c5ebd(0x146))/0x1*(-parseInt(_0x5c5ebd(0x13d))/0x2)+-parseInt(_0x5c5ebd(0x114))/0x3*(parseInt(_0x5c5ebd(0x143))/0x4)+parseInt(_0x5c5ebd(0x125))/0x5+parseInt(_0x5c5ebd(0x126))/0x6+-parseInt(_0x5c5ebd(0x11f))/0x7+-parseInt(_0x5c5ebd(0x13a))/0x8+parseInt(_0x5c5ebd(0x14d))/0x9*(parseInt(_0x5c5ebd(0x13b))/0xa);if(_0x46180f===_0x1f3c5f)break;else _0x38e60['push'](_0x38e60['shift']());}catch(_0x158183){_0x38e60['push'](_0x38e60['shift']());}}}(a209_0x459c,0x9da47));const a209_0x1375a8=(function(){let _0x33ddc0=!![];return function(_0x1dd40b,_0x4a5250){const _0x241b8e=_0x33ddc0?function(){const _0x30c3be=a209_0x13a5;if(_0x4a5250){const _0x34ae5b=_0x4a5250[_0x30c3be(0x141)](_0x1dd40b,arguments);return _0x4a5250=null,_0x34ae5b;}}:function(){};return _0x33ddc0=![],_0x241b8e;};}()),a209_0x52ac35=a209_0x1375a8(this,function(){const _0x51bf53=a209_0x13a5;return a209_0x52ac35[_0x51bf53(0x131)]()['search'](_0x51bf53(0x117))[_0x51bf53(0x131)]()[_0x51bf53(0x13c)](a209_0x52ac35)[_0x51bf53(0x138)](_0x51bf53(0x117));});a209_0x52ac35();'use strict';function a209_0x459c(){const _0x3c6826=['__esModule','createRequestToRepo','getOwnPropertyDescriptor','ApiError','toString','Tokens','../../api/gitlab-api.service','username','BadRequestError','length','create','search','baseURL','7284520adLbCH','315440cMYvDq','constructor','2oILjWq','__metadata','groupId','Service','apply','Repo','4ruLnDV','master','__decorate','722229zYIxnt','fromGitlab','function','metadata','full_path','design:paramtypes','delete','9WulViW','getGroup','GitlabRepoService','private','./git-repo.service','decorate','GitlabApiService','NotFoundError','map','update','../../providers.tokens','groupPath','defineProperty','2303649vYIAkF','getOne','createEmptyBranch','(((.+)+)+)+$','name','__param','typedi','request','Git','defaults','../repo.class','2885148CBhYvQ','users/','getCurrentUser','getGroupPath','api','getAll','4563410xSZoDB','6419160vdgoTZ','object','credentials','getUsername','post','../../../../../core/errors/not-found.error','createRequest'];a209_0x459c=function(){return _0x3c6826;};return a209_0x459c();}var __decorate=this&&this[a209_0x2b44d5(0x145)]||function(_0x3e11b2,_0x22e8f6,_0x11c530,_0x5aa803){const _0x4c8bd5=a209_0x2b44d5;var _0x72e043=arguments['length'],_0x5287bd=_0x72e043<0x3?_0x22e8f6:_0x5aa803===null?_0x5aa803=Object[_0x4c8bd5(0x12f)](_0x22e8f6,_0x11c530):_0x5aa803,_0x45b2ab;if(typeof Reflect===_0x4c8bd5(0x127)&&typeof Reflect['decorate']===_0x4c8bd5(0x148))_0x5287bd=Reflect[_0x4c8bd5(0x152)](_0x3e11b2,_0x22e8f6,_0x11c530,_0x5aa803);else{for(var _0x4bd0bc=_0x3e11b2[_0x4c8bd5(0x136)]-0x1;_0x4bd0bc>=0x0;_0x4bd0bc--)if(_0x45b2ab=_0x3e11b2[_0x4bd0bc])_0x5287bd=(_0x72e043<0x3?_0x45b2ab(_0x5287bd):_0x72e043>0x3?_0x45b2ab(_0x22e8f6,_0x11c530,_0x5287bd):_0x45b2ab(_0x22e8f6,_0x11c530))||_0x5287bd;}return _0x72e043>0x3&&_0x5287bd&&Object[_0x4c8bd5(0x159)](_0x22e8f6,_0x11c530,_0x5287bd),_0x5287bd;},__metadata=this&&this[a209_0x2b44d5(0x13e)]||function(_0x2be035,_0x3bcc03){const _0x105c78=a209_0x2b44d5;if(typeof Reflect===_0x105c78(0x127)&&typeof Reflect['metadata']===_0x105c78(0x148))return Reflect[_0x105c78(0x149)](_0x2be035,_0x3bcc03);},__param=this&&this[a209_0x2b44d5(0x119)]||function(_0x213673,_0x107189){return function(_0x458c86,_0x42f6d8){_0x107189(_0x458c86,_0x42f6d8,_0x213673);};};Object[a209_0x2b44d5(0x159)](exports,a209_0x2b44d5(0x12d),{'value':!![]}),exports[a209_0x2b44d5(0x14f)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a209_0x2b44d5(0x12b)),gitlab_api_service_1=require(a209_0x2b44d5(0x133)),typedi_1=require(a209_0x2b44d5(0x11a)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a209_0x2b44d5(0x11e)),git_repo_service_1=require(a209_0x2b44d5(0x151)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a209_0x2b44d5(0x157));function a209_0x13a5(_0x433d3c,_0x167803){const _0x29132f=a209_0x459c();return a209_0x13a5=function(_0x52ac35,_0x1375a8){_0x52ac35=_0x52ac35-0x114;let _0x459cb7=_0x29132f[_0x52ac35];return _0x459cb7;},a209_0x13a5(_0x433d3c,_0x167803);}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5d30d8,_0x161bd2){const _0x2110ff=a209_0x2b44d5;super(_0x5d30d8),this[_0x2110ff(0x123)]=_0x5d30d8,this['groupId']=_0x161bd2[_0x2110ff(0x13f)],this[_0x2110ff(0x128)]=_0x161bd2;}async[a209_0x2b44d5(0x122)](){const _0x3b8ee9=a209_0x2b44d5;if(!this[_0x3b8ee9(0x158)]){const _0x30b61a=await this['api'][_0x3b8ee9(0x14e)](this[_0x3b8ee9(0x13f)]);this[_0x3b8ee9(0x158)]=_0x30b61a[_0x3b8ee9(0x14a)];}return this['groupPath'];}async[a209_0x2b44d5(0x129)](){const _0x5b886b=a209_0x2b44d5;if(!this['username']){const _0x363750=await this[_0x5b886b(0x123)][_0x5b886b(0x121)]();this['username']=_0x363750['username'];}return this[_0x5b886b(0x134)];}async[a209_0x2b44d5(0x12e)](_0x52a651){const _0x1f61e6=a209_0x2b44d5,_0x566196=await(this[_0x1f61e6(0x13f)]?this[_0x1f61e6(0x122)]():this[_0x1f61e6(0x129)]()),_0x85edf1=this[_0x1f61e6(0x123)][_0x1f61e6(0x12c)](this['request'][_0x1f61e6(0x11d)][_0x1f61e6(0x139)]+'/projects/'+encodeURIComponent(_0x566196+'/'+_0x52a651));return _0x85edf1;}async[a209_0x2b44d5(0x137)](_0x4d7ff1){const _0x526390=a209_0x2b44d5;try{const _0x22e949={'name':_0x4d7ff1['name'],'visibility':_0x4d7ff1[_0x526390(0x150)]?_0x526390(0x150):'public','namespace_id':this['groupId'],..._0x4d7ff1['apiBody']||{}},_0x46a97e=await this[_0x526390(0x11b)][_0x526390(0x12a)]('projects',_0x22e949),_0x21d4f1=repo_class_1[_0x526390(0x142)][_0x526390(0x147)](_0x46a97e,this['api'],this[_0x526390(0x128)]);return _0x4d7ff1['autoInit']&&await git_internal_1[_0x526390(0x11c)][_0x526390(0x116)](_0x21d4f1,_0x4d7ff1['defaultBranch']||_0x526390(0x144),'',this['credentials']),this[_0x526390(0x115)](_0x21d4f1['name']);}catch(_0x66c92f){if(_0x66c92f instanceof api_error_1[_0x526390(0x130)])throw _0x66c92f;throw new bad_request_error_1['BadRequestError'](_0x66c92f);}}async[a209_0x2b44d5(0x115)](_0xe2e32){const _0x34f495=a209_0x2b44d5;try{const _0x23cf5d=await this[_0x34f495(0x12e)](_0xe2e32),_0xca4c36=await _0x23cf5d['get']('');return repo_class_1[_0x34f495(0x142)][_0x34f495(0x147)](_0xca4c36,this[_0x34f495(0x123)],this[_0x34f495(0x128)]);}catch(_0x92b7f5){if(_0x92b7f5 instanceof api_error_1[_0x34f495(0x130)])throw _0x92b7f5;throw new not_found_error_1[(_0x34f495(0x154))](_0x92b7f5);}}async[a209_0x2b44d5(0x124)](){const _0x49912e=a209_0x2b44d5;try{let _0x13a871='';if(this['groupId'])_0x13a871='groups/'+this['groupId']+'/projects';else{const _0x5571d6=await this[_0x49912e(0x129)]();_0x13a871=_0x49912e(0x120)+_0x5571d6+'/projects';}let _0x228986=!![],_0x207cf7=0x1;const _0x34c712=[];do{const _0x261d3e=await this['request']['get'](_0x13a871,{'params':{'page':_0x207cf7,'per_page':0x64}});_0x34c712['push'](..._0x261d3e),_0x228986=_0x261d3e[_0x49912e(0x136)]>0x0,_0x207cf7+=0x1;}while(_0x228986);return _0x34c712[_0x49912e(0x155)](_0x30a489=>repo_class_1[_0x49912e(0x142)][_0x49912e(0x147)](_0x30a489,this['api'],this[_0x49912e(0x128)]));}catch(_0x138666){if(_0x138666 instanceof api_error_1['ApiError'])throw _0x138666;throw new not_found_error_1['NotFoundError'](_0x138666);}}async[a209_0x2b44d5(0x156)](_0x182e5d,_0x527380){const _0x55ac83=a209_0x2b44d5;try{const _0x1b330d=await this['createRequestToRepo'](_0x182e5d),_0x346e68=await _0x1b330d['put']('',{..._0x527380,'path':_0x527380[_0x55ac83(0x118)]});return repo_class_1[_0x55ac83(0x142)][_0x55ac83(0x147)](_0x346e68,this[_0x55ac83(0x123)],this[_0x55ac83(0x128)]);}catch(_0x4ae55b){if(_0x4ae55b instanceof api_error_1[_0x55ac83(0x130)])throw _0x4ae55b;throw new not_found_error_1[(_0x55ac83(0x154))](_0x4ae55b);}}async[a209_0x2b44d5(0x14c)](_0x330a9a){const _0x2df0a7=a209_0x2b44d5;try{const _0x5bd16b=await this[_0x2df0a7(0x12e)](_0x330a9a);await _0x5bd16b[_0x2df0a7(0x14c)]('');}catch(_0x1ebbfa){if(_0x1ebbfa instanceof api_error_1[_0x2df0a7(0x130)])throw _0x1ebbfa;throw new bad_request_error_1[(_0x2df0a7(0x135))](_0x1ebbfa);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a209_0x2b44d5(0x140)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a209_0x2b44d5(0x132)][a209_0x2b44d5(0x128)])),__metadata(a209_0x2b44d5(0x14b),[gitlab_api_service_1[a209_0x2b44d5(0x153)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;