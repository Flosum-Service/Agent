const a153_0x3970f0=a153_0x1b8b;(function(_0x49880e,_0x7393de){const _0x3c6e7f=a153_0x1b8b,_0x8e56a8=_0x49880e();while(!![]){try{const _0x3520e0=-parseInt(_0x3c6e7f(0x18b))/0x1*(-parseInt(_0x3c6e7f(0x171))/0x2)+-parseInt(_0x3c6e7f(0x170))/0x3+-parseInt(_0x3c6e7f(0x19b))/0x4+parseInt(_0x3c6e7f(0x164))/0x5+parseInt(_0x3c6e7f(0x17f))/0x6+-parseInt(_0x3c6e7f(0x18f))/0x7*(-parseInt(_0x3c6e7f(0x19d))/0x8)+parseInt(_0x3c6e7f(0x187))/0x9*(-parseInt(_0x3c6e7f(0x199))/0xa);if(_0x3520e0===_0x7393de)break;else _0x8e56a8['push'](_0x8e56a8['shift']());}catch(_0x14be1d){_0x8e56a8['push'](_0x8e56a8['shift']());}}}(a153_0x4390,0xdb021));const a153_0x1a82a4=(function(){let _0xd05cfb=!![];return function(_0x325f74,_0x3fcf7d){const _0x46588c=_0xd05cfb?function(){const _0x1dd1a9=a153_0x1b8b;if(_0x3fcf7d){const _0x34f6ba=_0x3fcf7d[_0x1dd1a9(0x188)](_0x325f74,arguments);return _0x3fcf7d=null,_0x34f6ba;}}:function(){};return _0xd05cfb=![],_0x46588c;};}()),a153_0x5b60df=a153_0x1a82a4(this,function(){const _0x11a059=a153_0x1b8b;return a153_0x5b60df['toString']()[_0x11a059(0x165)](_0x11a059(0x19f))['toString']()[_0x11a059(0x184)](a153_0x5b60df)[_0x11a059(0x165)](_0x11a059(0x19f));});a153_0x5b60df();'use strict';var __decorate=this&&this['__decorate']||function(_0x13dcf7,_0x39df53,_0x51bc7c,_0x5d0ce5){const _0x41c85f=a153_0x1b8b;var _0x36fed4=arguments[_0x41c85f(0x178)],_0x5b6696=_0x36fed4<0x3?_0x39df53:_0x5d0ce5===null?_0x5d0ce5=Object[_0x41c85f(0x193)](_0x39df53,_0x51bc7c):_0x5d0ce5,_0x317558;if(typeof Reflect===_0x41c85f(0x175)&&typeof Reflect[_0x41c85f(0x161)]===_0x41c85f(0x1a1))_0x5b6696=Reflect[_0x41c85f(0x161)](_0x13dcf7,_0x39df53,_0x51bc7c,_0x5d0ce5);else{for(var _0x496696=_0x13dcf7[_0x41c85f(0x178)]-0x1;_0x496696>=0x0;_0x496696--)if(_0x317558=_0x13dcf7[_0x496696])_0x5b6696=(_0x36fed4<0x3?_0x317558(_0x5b6696):_0x36fed4>0x3?_0x317558(_0x39df53,_0x51bc7c,_0x5b6696):_0x317558(_0x39df53,_0x51bc7c))||_0x5b6696;}return _0x36fed4>0x3&&_0x5b6696&&Object['defineProperty'](_0x39df53,_0x51bc7c,_0x5b6696),_0x5b6696;},__metadata=this&&this[a153_0x3970f0(0x1a5)]||function(_0x5030e3,_0x226351){const _0x110d20=a153_0x3970f0;if(typeof Reflect===_0x110d20(0x175)&&typeof Reflect[_0x110d20(0x182)]===_0x110d20(0x1a1))return Reflect[_0x110d20(0x182)](_0x5030e3,_0x226351);},__param=this&&this['__param']||function(_0x26caf4,_0x563867){return function(_0x58a85f,_0x1a8e22){_0x563867(_0x58a85f,_0x1a8e22,_0x26caf4);};};Object[a153_0x3970f0(0x196)](exports,'__esModule',{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a153_0x3970f0(0x1a3)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a153_0x3970f0(0x174)),api_error_1=require(a153_0x3970f0(0x16e)),git_internal_1=require(a153_0x3970f0(0x1a0)),repo_class_1=require(a153_0x3970f0(0x172)),git_repo_service_1=require(a153_0x3970f0(0x191)),gitlab_credentials_dto_1=require(a153_0x3970f0(0x197)),providers_tokens_1=require(a153_0x3970f0(0x168));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a153_0x3970f0(0x183)]{constructor(_0x3e4e4d,_0x2b51b1){const _0x1f9251=a153_0x3970f0;super(_0x3e4e4d),this[_0x1f9251(0x16a)]=_0x3e4e4d,this[_0x1f9251(0x173)]=_0x2b51b1[_0x1f9251(0x173)],this[_0x1f9251(0x15e)]=_0x2b51b1;}async[a153_0x3970f0(0x162)](){const _0x301c29=a153_0x3970f0;if(!this['groupPath']){const _0x1eb860=await this['api'][_0x301c29(0x1a2)](this[_0x301c29(0x173)]);this['groupPath']=_0x1eb860['full_path'];}return this[_0x301c29(0x18a)];}async['getUsername'](){const _0x37c7e4=a153_0x3970f0;if(!this['username']){const _0x552665=await this[_0x37c7e4(0x16a)][_0x37c7e4(0x163)]();this['username']=_0x552665[_0x37c7e4(0x17b)];}return this[_0x37c7e4(0x17b)];}async['createRequestToRepo'](_0x1bc25d){const _0x8aa2f5=a153_0x3970f0,_0x17e9e7=await(this[_0x8aa2f5(0x173)]?this[_0x8aa2f5(0x162)]():this[_0x8aa2f5(0x16f)]()),_0x5ddea0=this['api'][_0x8aa2f5(0x17a)](this[_0x8aa2f5(0x167)][_0x8aa2f5(0x18c)][_0x8aa2f5(0x17d)]+_0x8aa2f5(0x195)+encodeURIComponent(_0x17e9e7+'/'+_0x1bc25d));return _0x5ddea0;}async[a153_0x3970f0(0x16c)](_0x25a2be){const _0x46a3e5=a153_0x3970f0;try{const _0xdcf039={'name':_0x25a2be[_0x46a3e5(0x16d)],'visibility':_0x25a2be[_0x46a3e5(0x18d)]?_0x46a3e5(0x18d):'public','namespace_id':this['groupId'],..._0x25a2be[_0x46a3e5(0x179)]||{}},_0x3faf56=await this[_0x46a3e5(0x167)]['post'](_0x46a3e5(0x1a4),_0xdcf039),_0x5c98b3=repo_class_1[_0x46a3e5(0x166)][_0x46a3e5(0x176)](_0x3faf56,this[_0x46a3e5(0x16a)],this['credentials']);return _0x25a2be['autoInit']&&await git_internal_1[_0x46a3e5(0x160)][_0x46a3e5(0x186)](_0x5c98b3,_0x25a2be[_0x46a3e5(0x18e)]||'master','',this[_0x46a3e5(0x15e)]),this[_0x46a3e5(0x192)](_0x5c98b3[_0x46a3e5(0x16d)]);}catch(_0x52eb0c){if(_0x52eb0c instanceof api_error_1[_0x46a3e5(0x177)])throw _0x52eb0c;throw new bad_request_error_1[(_0x46a3e5(0x181))](_0x52eb0c);}}async[a153_0x3970f0(0x192)](_0x568f92){const _0x35bb80=a153_0x3970f0;try{const _0x452986=await this[_0x35bb80(0x194)](_0x568f92),_0x2684a3=await _0x452986[_0x35bb80(0x189)]('');return repo_class_1[_0x35bb80(0x166)]['fromGitlab'](_0x2684a3,this[_0x35bb80(0x16a)],this[_0x35bb80(0x15e)]);}catch(_0x222451){if(_0x222451 instanceof api_error_1[_0x35bb80(0x177)])throw _0x222451;throw new not_found_error_1['NotFoundError'](_0x222451);}}async[a153_0x3970f0(0x1a6)](){const _0xc975e6=a153_0x3970f0;try{let _0x21bb66='';if(this[_0xc975e6(0x173)])_0x21bb66=_0xc975e6(0x190)+this[_0xc975e6(0x173)]+'/projects';else{const _0x191240=await this['getUsername']();_0x21bb66=_0xc975e6(0x19a)+_0x191240+_0xc975e6(0x17c);}let _0x5a5a28=!![],_0x26b8fb=0x1;const _0x1f60e7=[];do{const _0x2031ae=await this[_0xc975e6(0x167)][_0xc975e6(0x189)](_0x21bb66,{'params':{'page':_0x26b8fb,'per_page':0x64}});_0x1f60e7[_0xc975e6(0x180)](..._0x2031ae),_0x5a5a28=_0x2031ae['length']>0x0,_0x26b8fb+=0x1;}while(_0x5a5a28);return _0x1f60e7[_0xc975e6(0x19c)](_0x121d9b=>repo_class_1[_0xc975e6(0x166)]['fromGitlab'](_0x121d9b,this[_0xc975e6(0x16a)],this[_0xc975e6(0x15e)]));}catch(_0x232a6d){if(_0x232a6d instanceof api_error_1[_0xc975e6(0x177)])throw _0x232a6d;throw new not_found_error_1[(_0xc975e6(0x15f))](_0x232a6d);}}async[a153_0x3970f0(0x17e)](_0x397aa3,_0x1f69d0){const _0x507232=a153_0x3970f0;try{const _0x429c1e=await this[_0x507232(0x194)](_0x397aa3),_0x318a4d=await _0x429c1e['put']('',{..._0x1f69d0,'path':_0x1f69d0[_0x507232(0x16d)]});return repo_class_1[_0x507232(0x166)]['fromGitlab'](_0x318a4d,this['api'],this['credentials']);}catch(_0x4d4c4d){if(_0x4d4c4d instanceof api_error_1[_0x507232(0x177)])throw _0x4d4c4d;throw new not_found_error_1[(_0x507232(0x15f))](_0x4d4c4d);}}async[a153_0x3970f0(0x16b)](_0x40032f){const _0x44396a=a153_0x3970f0;try{const _0x23813e=await this['createRequestToRepo'](_0x40032f);await _0x23813e[_0x44396a(0x16b)]('');}catch(_0x657d72){if(_0x657d72 instanceof api_error_1[_0x44396a(0x177)])throw _0x657d72;throw new bad_request_error_1[(_0x44396a(0x181))](_0x657d72);}}};function a153_0x4390(){const _0x1afff3=['users/','745076LbYYTK','map','488QBHQzw','design:paramtypes','(((.+)+)+)+$','../../../internal/git.internal','function','getGroup','../../../../../core/errors/not-found.error','projects','__metadata','getAll','credentials','NotFoundError','Git','decorate','getGroupPath','getCurrentUser','7080600zeMudN','search','Repo','request','../../providers.tokens','GitlabCredentialsDto','api','delete','create','name','../../../../../core/errors/api.error','getUsername','2807973aUltZl','331194fUKwaL','../repo.class','groupId','typedi','object','fromGitlab','ApiError','length','apiBody','createRequest','username','/projects','baseURL','update','10563360rkNKsz','push','BadRequestError','metadata','GitRepoService','constructor','Tokens','createEmptyBranch','7579287IlkfJR','apply','get','groupPath','1UJxApm','defaults','private','defaultBranch','138103GEgJmD','groups/','./git-repo.service','getOne','getOwnPropertyDescriptor','createRequestToRepo','/projects/','defineProperty','../../credentials/dto/gitlab-credentials.dto','GitlabRepoService','30jxDuFn'];a153_0x4390=function(){return _0x1afff3;};return a153_0x4390();}function a153_0x1b8b(_0x112c6c,_0x290088){const _0x4fb263=a153_0x4390();return a153_0x1b8b=function(_0x5b60df,_0x1a82a4){_0x5b60df=_0x5b60df-0x15e;let _0x4390b5=_0x4fb263[_0x5b60df];return _0x4390b5;},a153_0x1b8b(_0x112c6c,_0x290088);}GitlabRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1['Inject'](providers_tokens_1[a153_0x3970f0(0x185)][a153_0x3970f0(0x15e)])),__metadata(a153_0x3970f0(0x19e),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a153_0x3970f0(0x169)]])],GitlabRepoService),exports[a153_0x3970f0(0x198)]=GitlabRepoService;