const a214_0xd33d1c=a214_0x28be;(function(_0x3cc750,_0x4b4a56){const _0x1589ca=a214_0x28be,_0x47e45e=_0x3cc750();while(!![]){try{const _0x74cc89=-parseInt(_0x1589ca(0xb9))/0x1+parseInt(_0x1589ca(0x84))/0x2*(-parseInt(_0x1589ca(0x92))/0x3)+-parseInt(_0x1589ca(0xb7))/0x4*(parseInt(_0x1589ca(0x76))/0x5)+-parseInt(_0x1589ca(0x8b))/0x6+-parseInt(_0x1589ca(0x7f))/0x7+-parseInt(_0x1589ca(0x97))/0x8+parseInt(_0x1589ca(0x77))/0x9;if(_0x74cc89===_0x4b4a56)break;else _0x47e45e['push'](_0x47e45e['shift']());}catch(_0x1e2f0d){_0x47e45e['push'](_0x47e45e['shift']());}}}(a214_0x1573,0x6ab7a));const a214_0x1f2ad0=(function(){let _0x3a7089=!![];return function(_0x45b3cd,_0x4994cb){const _0x11b1ff=_0x3a7089?function(){const _0x2c490c=a214_0x28be;if(_0x4994cb){const _0x41654b=_0x4994cb[_0x2c490c(0x80)](_0x45b3cd,arguments);return _0x4994cb=null,_0x41654b;}}:function(){};return _0x3a7089=![],_0x11b1ff;};}()),a214_0x5122cd=a214_0x1f2ad0(this,function(){const _0xf18e9d=a214_0x28be;return a214_0x5122cd[_0xf18e9d(0xb3)]()[_0xf18e9d(0xac)](_0xf18e9d(0x93))[_0xf18e9d(0xb3)]()[_0xf18e9d(0x78)](a214_0x5122cd)[_0xf18e9d(0xac)](_0xf18e9d(0x93));});function a214_0x28be(_0x25d0d3,_0x4a0f60){const _0x14e579=a214_0x1573();return a214_0x28be=function(_0x5122cd,_0x1f2ad0){_0x5122cd=_0x5122cd-0x76;let _0x15738e=_0x14e579[_0x5122cd];return _0x15738e;},a214_0x28be(_0x25d0d3,_0x4a0f60);}a214_0x5122cd();'use strict';function a214_0x1573(){const _0x3eca4e=['NotFoundError','post','search','api','master','getUsername','Tokens','BadRequestError','map','toString','GitlabCredentialsDto','getCurrentUser','Git','260324AikfAS','getAll','283956ZKuaEF','getGroupPath','10UIIhew','27349749UxVhGh','constructor','typedi','createEmptyBranch','createRequestToRepo','create','name','length','5199838AWDRcg','apply','../../../../../core/errors/not-found.error','../../api/gitlab-api.service','full_path','1461458ZKqAmm','__esModule','ApiError','autoInit','/projects','defaultBranch','Service','4144182gpoUAL','GitlabRepoService','metadata','fromGitlab','defineProperty','getGroup','Repo','3TAnlUS','(((.+)+)+)+$','credentials','../../../../../core/errors/api.error','GitRepoService','186952aDucDB','groupId','request','defaults','public','Inject','design:paramtypes','./git-repo.service','groupPath','function','username','get','../../credentials/dto/gitlab-credentials.dto','apiBody','../../../internal/git.internal','__metadata','getOwnPropertyDescriptor','push','decorate'];a214_0x1573=function(){return _0x3eca4e;};return a214_0x1573();}var __decorate=this&&this['__decorate']||function(_0xa44be,_0x8d498d,_0x17f81a,_0x3fd3ef){const _0x420065=a214_0x28be;var _0x39f922=arguments[_0x420065(0x7e)],_0x40c902=_0x39f922<0x3?_0x8d498d:_0x3fd3ef===null?_0x3fd3ef=Object[_0x420065(0xa7)](_0x8d498d,_0x17f81a):_0x3fd3ef,_0x222249;if(typeof Reflect==='object'&&typeof Reflect[_0x420065(0xa9)]===_0x420065(0xa0))_0x40c902=Reflect['decorate'](_0xa44be,_0x8d498d,_0x17f81a,_0x3fd3ef);else{for(var _0x164a48=_0xa44be['length']-0x1;_0x164a48>=0x0;_0x164a48--)if(_0x222249=_0xa44be[_0x164a48])_0x40c902=(_0x39f922<0x3?_0x222249(_0x40c902):_0x39f922>0x3?_0x222249(_0x8d498d,_0x17f81a,_0x40c902):_0x222249(_0x8d498d,_0x17f81a))||_0x40c902;}return _0x39f922>0x3&&_0x40c902&&Object[_0x420065(0x8f)](_0x8d498d,_0x17f81a,_0x40c902),_0x40c902;},__metadata=this&&this[a214_0xd33d1c(0xa6)]||function(_0x44b5e3,_0x5a8ee1){const _0xc8fba5=a214_0xd33d1c;if(typeof Reflect==='object'&&typeof Reflect[_0xc8fba5(0x8d)]===_0xc8fba5(0xa0))return Reflect[_0xc8fba5(0x8d)](_0x44b5e3,_0x5a8ee1);},__param=this&&this['__param']||function(_0x2ac245,_0x20a5e9){return function(_0x6e1727,_0x5cb664){_0x20a5e9(_0x6e1727,_0x5cb664,_0x2ac245);};};Object[a214_0xd33d1c(0x8f)](exports,a214_0xd33d1c(0x85),{'value':!![]}),exports[a214_0xd33d1c(0x8c)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a214_0xd33d1c(0x81)),gitlab_api_service_1=require(a214_0xd33d1c(0x82)),typedi_1=require(a214_0xd33d1c(0x79)),api_error_1=require(a214_0xd33d1c(0x95)),git_internal_1=require(a214_0xd33d1c(0xa5)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a214_0xd33d1c(0x9e)),gitlab_credentials_dto_1=require(a214_0xd33d1c(0xa3)),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a214_0xd33d1c(0x96)]{constructor(_0x42b49a,_0x10d566){const _0xa748f5=a214_0xd33d1c;super(_0x42b49a),this['api']=_0x42b49a,this[_0xa748f5(0x98)]=_0x10d566['groupId'],this['credentials']=_0x10d566;}async[a214_0xd33d1c(0xba)](){const _0x443e34=a214_0xd33d1c;if(!this[_0x443e34(0x9f)]){const _0x4fda45=await this[_0x443e34(0xad)][_0x443e34(0x90)](this[_0x443e34(0x98)]);this[_0x443e34(0x9f)]=_0x4fda45[_0x443e34(0x83)];}return this[_0x443e34(0x9f)];}async['getUsername'](){const _0x14719e=a214_0xd33d1c;if(!this[_0x14719e(0xa1)]){const _0x4a93d4=await this[_0x14719e(0xad)][_0x14719e(0xb5)]();this['username']=_0x4a93d4['username'];}return this[_0x14719e(0xa1)];}async[a214_0xd33d1c(0x7b)](_0x28c3c1){const _0x32fb4f=a214_0xd33d1c,_0x481b91=await(this[_0x32fb4f(0x98)]?this[_0x32fb4f(0xba)]():this[_0x32fb4f(0xaf)]()),_0x517b44=this[_0x32fb4f(0xad)]['createRequest'](this[_0x32fb4f(0x99)][_0x32fb4f(0x9a)]['baseURL']+'/projects/'+encodeURIComponent(_0x481b91+'/'+_0x28c3c1));return _0x517b44;}async[a214_0xd33d1c(0x7c)](_0x3b55e8){const _0x4fa319=a214_0xd33d1c;try{const _0x3aebab={'name':_0x3b55e8[_0x4fa319(0x7d)],'visibility':_0x3b55e8['private']?'private':_0x4fa319(0x9b),'namespace_id':this[_0x4fa319(0x98)],..._0x3b55e8[_0x4fa319(0xa4)]||{}},_0x50076a=await this[_0x4fa319(0x99)][_0x4fa319(0xab)]('projects',_0x3aebab),_0x359c9e=repo_class_1[_0x4fa319(0x91)]['fromGitlab'](_0x50076a,this[_0x4fa319(0xad)],this[_0x4fa319(0x94)]);return _0x3b55e8[_0x4fa319(0x87)]&&await git_internal_1[_0x4fa319(0xb6)][_0x4fa319(0x7a)](_0x359c9e,_0x3b55e8[_0x4fa319(0x89)]||_0x4fa319(0xae),'',this[_0x4fa319(0x94)]),this['getOne'](_0x359c9e['name']);}catch(_0x250346){if(_0x250346 instanceof api_error_1[_0x4fa319(0x86)])throw _0x250346;throw new bad_request_error_1[(_0x4fa319(0xb1))](_0x250346);}}async['getOne'](_0x403eef){const _0xd33ddc=a214_0xd33d1c;try{const _0x366f36=await this['createRequestToRepo'](_0x403eef),_0x49ff82=await _0x366f36[_0xd33ddc(0xa2)]('');return repo_class_1[_0xd33ddc(0x91)]['fromGitlab'](_0x49ff82,this[_0xd33ddc(0xad)],this[_0xd33ddc(0x94)]);}catch(_0x548643){if(_0x548643 instanceof api_error_1['ApiError'])throw _0x548643;throw new not_found_error_1[(_0xd33ddc(0xaa))](_0x548643);}}async[a214_0xd33d1c(0xb8)](){const _0x226f45=a214_0xd33d1c;try{let _0x21251d='';if(this[_0x226f45(0x98)])_0x21251d='groups/'+this[_0x226f45(0x98)]+_0x226f45(0x88);else{const _0x4c68ea=await this['getUsername']();_0x21251d='users/'+_0x4c68ea+_0x226f45(0x88);}let _0x4ca9a3=!![],_0x470a30=0x1;const _0x3f6fc5=[];do{const _0x3c8707=await this[_0x226f45(0x99)][_0x226f45(0xa2)](_0x21251d,{'params':{'page':_0x470a30,'per_page':0x64}});_0x3f6fc5[_0x226f45(0xa8)](..._0x3c8707),_0x4ca9a3=_0x3c8707[_0x226f45(0x7e)]>0x0,_0x470a30+=0x1;}while(_0x4ca9a3);return _0x3f6fc5[_0x226f45(0xb2)](_0x4d8e26=>repo_class_1[_0x226f45(0x91)][_0x226f45(0x8e)](_0x4d8e26,this[_0x226f45(0xad)],this[_0x226f45(0x94)]));}catch(_0xd0dc1e){if(_0xd0dc1e instanceof api_error_1[_0x226f45(0x86)])throw _0xd0dc1e;throw new not_found_error_1[(_0x226f45(0xaa))](_0xd0dc1e);}}async['update'](_0x4af57c,_0x96c51){const _0x270b38=a214_0xd33d1c;try{const _0x37d26a=await this['createRequestToRepo'](_0x4af57c),_0x31f4cd=await _0x37d26a['put']('',{..._0x96c51,'path':_0x96c51[_0x270b38(0x7d)]});return repo_class_1[_0x270b38(0x91)]['fromGitlab'](_0x31f4cd,this[_0x270b38(0xad)],this['credentials']);}catch(_0x16a4cc){if(_0x16a4cc instanceof api_error_1[_0x270b38(0x86)])throw _0x16a4cc;throw new not_found_error_1[(_0x270b38(0xaa))](_0x16a4cc);}}async['delete'](_0x20cf26){const _0x38bbdc=a214_0xd33d1c;try{const _0x3cbd0b=await this['createRequestToRepo'](_0x20cf26);await _0x3cbd0b['delete']('');}catch(_0x242322){if(_0x242322 instanceof api_error_1[_0x38bbdc(0x86)])throw _0x242322;throw new bad_request_error_1[(_0x38bbdc(0xb1))](_0x242322);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a214_0xd33d1c(0x8a)])(),__param(0x1,(0x0,typedi_1[a214_0xd33d1c(0x9c)])(providers_tokens_1[a214_0xd33d1c(0xb0)]['credentials'])),__metadata(a214_0xd33d1c(0x9d),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a214_0xd33d1c(0xb4)]])],GitlabRepoService),exports[a214_0xd33d1c(0x8c)]=GitlabRepoService;