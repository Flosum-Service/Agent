function a170_0x2e71(){const _0x7af3bb=['metadata','getUsername','public','createRequestToRepo','map','apply','5YBnwng','baseURL','getGroup','1933380CvCLDW','post','GitlabRepoService','../../api/gitlab-api.service','329DBKNoF','(((.+)+)+)+$','NotFoundError','__esModule','full_path','1652024SewmbW','getCurrentUser','1058376PSafly','function','delete','../../../../../core/errors/bad-request.error','GitlabCredentialsDto','BadRequestError','username','constructor','378863fECwJV','create','length','name','__decorate','getGroupPath','Git','Repo','66246fOwxZk','request','GitRepoService','/projects/','typedi','users/','private','credentials','createRequest','GitlabApiService','apiBody','update','search','20YJgcKo','./git-repo.service','../../providers.tokens','defaultBranch','defineProperty','Inject','autoInit','../repo.class','2698ScMEhO','ApiError','get','19583220iwNxHY','groupId','getOne','fromGitlab','createEmptyBranch','toString','Tokens','defaults','api','__param','9KqVzWF','object','decorate','../../credentials/dto/gitlab-credentials.dto','groups/','1161WRftiV','../../../../../core/errors/not-found.error','groupPath'];a170_0x2e71=function(){return _0x7af3bb;};return a170_0x2e71();}const a170_0x1e75ab=a170_0x387b;function a170_0x387b(_0x331d17,_0x45b4ee){const _0x157d16=a170_0x2e71();return a170_0x387b=function(_0x4e1985,_0x48bbee){_0x4e1985=_0x4e1985-0x1d1;let _0x2e71b4=_0x157d16[_0x4e1985];return _0x2e71b4;},a170_0x387b(_0x331d17,_0x45b4ee);}(function(_0x3581c1,_0x535f6e){const _0x1afd0b=a170_0x387b,_0x1a9ac0=_0x3581c1();while(!![]){try{const _0x16801a=-parseInt(_0x1afd0b(0x217))/0x1+-parseInt(_0x1afd0b(0x1e6))/0x2*(-parseInt(_0x1afd0b(0x1f8))/0x3)+parseInt(_0x1afd0b(0x204))/0x4*(-parseInt(_0x1afd0b(0x201))/0x5)+-parseInt(_0x1afd0b(0x1d1))/0x6*(parseInt(_0x1afd0b(0x208))/0x7)+parseInt(_0x1afd0b(0x20f))/0x8*(-parseInt(_0x1afd0b(0x1f3))/0x9)+-parseInt(_0x1afd0b(0x1de))/0xa*(parseInt(_0x1afd0b(0x20d))/0xb)+parseInt(_0x1afd0b(0x1e9))/0xc;if(_0x16801a===_0x535f6e)break;else _0x1a9ac0['push'](_0x1a9ac0['shift']());}catch(_0x3922b4){_0x1a9ac0['push'](_0x1a9ac0['shift']());}}}(a170_0x2e71,0x530e6));const a170_0x48bbee=(function(){let _0x156179=!![];return function(_0x294608,_0x1124ea){const _0x142833=_0x156179?function(){const _0x34630c=a170_0x387b;if(_0x1124ea){const _0x4c73b2=_0x1124ea[_0x34630c(0x200)](_0x294608,arguments);return _0x1124ea=null,_0x4c73b2;}}:function(){};return _0x156179=![],_0x142833;};}()),a170_0x4e1985=a170_0x48bbee(this,function(){const _0x3461b0=a170_0x387b;return a170_0x4e1985[_0x3461b0(0x1ee)]()[_0x3461b0(0x1dd)](_0x3461b0(0x209))[_0x3461b0(0x1ee)]()[_0x3461b0(0x216)](a170_0x4e1985)[_0x3461b0(0x1dd)]('(((.+)+)+)+$');});a170_0x4e1985();'use strict';var __decorate=this&&this[a170_0x1e75ab(0x21b)]||function(_0x4438fc,_0x57105e,_0x395a05,_0x34e1e0){const _0x336a1c=a170_0x1e75ab;var _0x201ff9=arguments['length'],_0x3a5d05=_0x201ff9<0x3?_0x57105e:_0x34e1e0===null?_0x34e1e0=Object['getOwnPropertyDescriptor'](_0x57105e,_0x395a05):_0x34e1e0,_0x2f55d4;if(typeof Reflect===_0x336a1c(0x1f4)&&typeof Reflect[_0x336a1c(0x1f5)]===_0x336a1c(0x210))_0x3a5d05=Reflect['decorate'](_0x4438fc,_0x57105e,_0x395a05,_0x34e1e0);else{for(var _0x15665b=_0x4438fc['length']-0x1;_0x15665b>=0x0;_0x15665b--)if(_0x2f55d4=_0x4438fc[_0x15665b])_0x3a5d05=(_0x201ff9<0x3?_0x2f55d4(_0x3a5d05):_0x201ff9>0x3?_0x2f55d4(_0x57105e,_0x395a05,_0x3a5d05):_0x2f55d4(_0x57105e,_0x395a05))||_0x3a5d05;}return _0x201ff9>0x3&&_0x3a5d05&&Object[_0x336a1c(0x1e2)](_0x57105e,_0x395a05,_0x3a5d05),_0x3a5d05;},__metadata=this&&this['__metadata']||function(_0x50d4f3,_0x1b9fdf){const _0x25f656=a170_0x1e75ab;if(typeof Reflect==='object'&&typeof Reflect[_0x25f656(0x1fb)]===_0x25f656(0x210))return Reflect[_0x25f656(0x1fb)](_0x50d4f3,_0x1b9fdf);},__param=this&&this[a170_0x1e75ab(0x1f2)]||function(_0x7e389e,_0x1bd73a){return function(_0x342a41,_0x3dd0f8){_0x1bd73a(_0x342a41,_0x3dd0f8,_0x7e389e);};};Object[a170_0x1e75ab(0x1e2)](exports,a170_0x1e75ab(0x20b),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a170_0x1e75ab(0x212)),not_found_error_1=require(a170_0x1e75ab(0x1f9)),gitlab_api_service_1=require(a170_0x1e75ab(0x207)),typedi_1=require(a170_0x1e75ab(0x1d5)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a170_0x1e75ab(0x1e5)),git_repo_service_1=require(a170_0x1e75ab(0x1df)),gitlab_credentials_dto_1=require(a170_0x1e75ab(0x1f6)),providers_tokens_1=require(a170_0x1e75ab(0x1e0));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a170_0x1e75ab(0x1d3)]{constructor(_0x28acce,_0x1c5773){const _0x57509d=a170_0x1e75ab;super(_0x28acce),this[_0x57509d(0x1f1)]=_0x28acce,this[_0x57509d(0x1ea)]=_0x1c5773[_0x57509d(0x1ea)],this[_0x57509d(0x1d8)]=_0x1c5773;}async[a170_0x1e75ab(0x21c)](){const _0x3677fa=a170_0x1e75ab;if(!this[_0x3677fa(0x1fa)]){const _0xb9c717=await this['api'][_0x3677fa(0x203)](this['groupId']);this[_0x3677fa(0x1fa)]=_0xb9c717[_0x3677fa(0x20c)];}return this['groupPath'];}async['getUsername'](){const _0x26e792=a170_0x1e75ab;if(!this['username']){const _0x4deab0=await this[_0x26e792(0x1f1)][_0x26e792(0x20e)]();this[_0x26e792(0x215)]=_0x4deab0[_0x26e792(0x215)];}return this[_0x26e792(0x215)];}async['createRequestToRepo'](_0x501e1b){const _0x1f6d0a=a170_0x1e75ab,_0x542b03=await(this['groupId']?this[_0x1f6d0a(0x21c)]():this[_0x1f6d0a(0x1fc)]()),_0x90d1f8=this[_0x1f6d0a(0x1f1)][_0x1f6d0a(0x1d9)](this[_0x1f6d0a(0x1d2)][_0x1f6d0a(0x1f0)][_0x1f6d0a(0x202)]+_0x1f6d0a(0x1d4)+encodeURIComponent(_0x542b03+'/'+_0x501e1b));return _0x90d1f8;}async[a170_0x1e75ab(0x218)](_0x239810){const _0x27db01=a170_0x1e75ab;try{const _0x4d1584={'name':_0x239810['name'],'visibility':_0x239810[_0x27db01(0x1d7)]?'private':_0x27db01(0x1fd),'namespace_id':this['groupId'],..._0x239810[_0x27db01(0x1db)]||{}},_0x82115a=await this[_0x27db01(0x1d2)][_0x27db01(0x205)]('projects',_0x4d1584),_0x2c1aaf=repo_class_1['Repo'][_0x27db01(0x1ec)](_0x82115a,this[_0x27db01(0x1f1)],this[_0x27db01(0x1d8)]);return _0x239810[_0x27db01(0x1e4)]&&await git_internal_1[_0x27db01(0x21d)][_0x27db01(0x1ed)](_0x2c1aaf,_0x239810[_0x27db01(0x1e1)]||'master','',this['credentials']),this[_0x27db01(0x1eb)](_0x2c1aaf[_0x27db01(0x21a)]);}catch(_0x22306d){if(_0x22306d instanceof api_error_1[_0x27db01(0x1e7)])throw _0x22306d;throw new bad_request_error_1[(_0x27db01(0x214))](_0x22306d);}}async['getOne'](_0x18eb4e){const _0x4fbaf3=a170_0x1e75ab;try{const _0x46c1c0=await this[_0x4fbaf3(0x1fe)](_0x18eb4e),_0x278a89=await _0x46c1c0[_0x4fbaf3(0x1e8)]('');return repo_class_1[_0x4fbaf3(0x21e)][_0x4fbaf3(0x1ec)](_0x278a89,this[_0x4fbaf3(0x1f1)],this[_0x4fbaf3(0x1d8)]);}catch(_0x43c38c){if(_0x43c38c instanceof api_error_1[_0x4fbaf3(0x1e7)])throw _0x43c38c;throw new not_found_error_1[(_0x4fbaf3(0x20a))](_0x43c38c);}}async['getAll'](){const _0x58724c=a170_0x1e75ab;try{let _0x3349a7='';if(this[_0x58724c(0x1ea)])_0x3349a7=_0x58724c(0x1f7)+this[_0x58724c(0x1ea)]+'/projects';else{const _0x5c35b4=await this['getUsername']();_0x3349a7=_0x58724c(0x1d6)+_0x5c35b4+'/projects';}let _0x5c0e41=!![],_0x51bd18=0x1;const _0x127a30=[];do{const _0x472a06=await this[_0x58724c(0x1d2)][_0x58724c(0x1e8)](_0x3349a7,{'params':{'page':_0x51bd18,'per_page':0x64}});_0x127a30['push'](..._0x472a06),_0x5c0e41=_0x472a06[_0x58724c(0x219)]>0x0,_0x51bd18+=0x1;}while(_0x5c0e41);return _0x127a30[_0x58724c(0x1ff)](_0x563fe8=>repo_class_1[_0x58724c(0x21e)][_0x58724c(0x1ec)](_0x563fe8,this[_0x58724c(0x1f1)],this[_0x58724c(0x1d8)]));}catch(_0x4e024d){if(_0x4e024d instanceof api_error_1[_0x58724c(0x1e7)])throw _0x4e024d;throw new not_found_error_1[(_0x58724c(0x20a))](_0x4e024d);}}async[a170_0x1e75ab(0x1dc)](_0x2e7b7a,_0x8c97bf){const _0x442827=a170_0x1e75ab;try{const _0x3e13f6=await this['createRequestToRepo'](_0x2e7b7a),_0xa3d7af=await _0x3e13f6['put']('',{..._0x8c97bf,'path':_0x8c97bf['name']});return repo_class_1[_0x442827(0x21e)][_0x442827(0x1ec)](_0xa3d7af,this[_0x442827(0x1f1)],this[_0x442827(0x1d8)]);}catch(_0x36f551){if(_0x36f551 instanceof api_error_1[_0x442827(0x1e7)])throw _0x36f551;throw new not_found_error_1['NotFoundError'](_0x36f551);}}async[a170_0x1e75ab(0x211)](_0x52eb82){const _0x1d0a84=a170_0x1e75ab;try{const _0x2da742=await this[_0x1d0a84(0x1fe)](_0x52eb82);await _0x2da742[_0x1d0a84(0x211)]('');}catch(_0x5f1e39){if(_0x5f1e39 instanceof api_error_1[_0x1d0a84(0x1e7)])throw _0x5f1e39;throw new bad_request_error_1[(_0x1d0a84(0x214))](_0x5f1e39);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a170_0x1e75ab(0x1e3)])(providers_tokens_1[a170_0x1e75ab(0x1ef)][a170_0x1e75ab(0x1d8)])),__metadata('design:paramtypes',[gitlab_api_service_1[a170_0x1e75ab(0x1da)],gitlab_credentials_dto_1[a170_0x1e75ab(0x213)]])],GitlabRepoService),exports[a170_0x1e75ab(0x206)]=GitlabRepoService;