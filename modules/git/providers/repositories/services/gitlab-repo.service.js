const a203_0x37391e=a203_0x58b4;(function(_0x4949c8,_0x4536d2){const _0x52f0b4=a203_0x58b4,_0x55abe1=_0x4949c8();while(!![]){try{const _0x21c3b4=-parseInt(_0x52f0b4(0x1de))/0x1*(-parseInt(_0x52f0b4(0x1c8))/0x2)+parseInt(_0x52f0b4(0x1b7))/0x3+-parseInt(_0x52f0b4(0x1db))/0x4*(-parseInt(_0x52f0b4(0x1cb))/0x5)+-parseInt(_0x52f0b4(0x1cc))/0x6+-parseInt(_0x52f0b4(0x1e9))/0x7+-parseInt(_0x52f0b4(0x1d4))/0x8*(-parseInt(_0x52f0b4(0x1e1))/0x9)+-parseInt(_0x52f0b4(0x1eb))/0xa;if(_0x21c3b4===_0x4536d2)break;else _0x55abe1['push'](_0x55abe1['shift']());}catch(_0x1c6706){_0x55abe1['push'](_0x55abe1['shift']());}}}(a203_0x5220,0x85b04));const a203_0x5d7404=(function(){let _0xeb67e1=!![];return function(_0x1ed667,_0x4849dd){const _0x41d5da=_0xeb67e1?function(){const _0x11bed2=a203_0x58b4;if(_0x4849dd){const _0x4c77ad=_0x4849dd[_0x11bed2(0x1ce)](_0x1ed667,arguments);return _0x4849dd=null,_0x4c77ad;}}:function(){};return _0xeb67e1=![],_0x41d5da;};}()),a203_0x20dedb=a203_0x5d7404(this,function(){const _0x379f92=a203_0x58b4;return a203_0x20dedb[_0x379f92(0x1f2)]()[_0x379f92(0x1d7)](_0x379f92(0x1c4))[_0x379f92(0x1f2)]()[_0x379f92(0x1b4)](a203_0x20dedb)[_0x379f92(0x1d7)](_0x379f92(0x1c4));});a203_0x20dedb();function a203_0x5220(){const _0x4b37e3=['../repo.class','../../../../../core/errors/bad-request.error','./git-repo.service','../../../../../core/errors/not-found.error','object','typedi','getCurrentUser','getOwnPropertyDescriptor','/projects/','(((.+)+)+)+$','getAll','create','GitlabApiService','4QSMeOn','createRequest','NotFoundError','9735McftXz','6489414eDHmRe','GitlabRepoService','apply','request','defaults','../../../internal/git.internal','push','function','16WujMRo','../../api/gitlab-api.service','length','search','design:paramtypes','../../../../../core/errors/api.error','post','2164bIMjor','api','getUsername','173563eozlRz','delete','createRequestToRepo','4513347RSHAGq','defaultBranch','credentials','private','createEmptyBranch','get','autoInit','../../providers.tokens','5638206WUyuSx','username','2696820YgwkKm','map','GitlabCredentialsDto','__decorate','name','groupId','getOne','toString','groupPath','Inject','apiBody','Repo','users/','put','Service','defineProperty','Git','getGroupPath','constructor','baseURL','ApiError','902634ouRKBU','fromGitlab','getGroup','decorate'];a203_0x5220=function(){return _0x4b37e3;};return a203_0x5220();}function a203_0x58b4(_0xcf6913,_0x58091a){const _0x2a6779=a203_0x5220();return a203_0x58b4=function(_0x20dedb,_0x5d7404){_0x20dedb=_0x20dedb-0x1b1;let _0x52209d=_0x2a6779[_0x20dedb];return _0x52209d;},a203_0x58b4(_0xcf6913,_0x58091a);}'use strict';var __decorate=this&&this[a203_0x37391e(0x1ee)]||function(_0x52dec9,_0x3ef9fb,_0xaa2f8a,_0x22b193){const _0x11efe2=a203_0x37391e;var _0x30ff98=arguments[_0x11efe2(0x1d6)],_0x5e5bf3=_0x30ff98<0x3?_0x3ef9fb:_0x22b193===null?_0x22b193=Object[_0x11efe2(0x1c2)](_0x3ef9fb,_0xaa2f8a):_0x22b193,_0xf4ecfd;if(typeof Reflect===_0x11efe2(0x1bf)&&typeof Reflect[_0x11efe2(0x1ba)]===_0x11efe2(0x1d3))_0x5e5bf3=Reflect['decorate'](_0x52dec9,_0x3ef9fb,_0xaa2f8a,_0x22b193);else{for(var _0x5a1eee=_0x52dec9[_0x11efe2(0x1d6)]-0x1;_0x5a1eee>=0x0;_0x5a1eee--)if(_0xf4ecfd=_0x52dec9[_0x5a1eee])_0x5e5bf3=(_0x30ff98<0x3?_0xf4ecfd(_0x5e5bf3):_0x30ff98>0x3?_0xf4ecfd(_0x3ef9fb,_0xaa2f8a,_0x5e5bf3):_0xf4ecfd(_0x3ef9fb,_0xaa2f8a))||_0x5e5bf3;}return _0x30ff98>0x3&&_0x5e5bf3&&Object['defineProperty'](_0x3ef9fb,_0xaa2f8a,_0x5e5bf3),_0x5e5bf3;},__metadata=this&&this['__metadata']||function(_0x3c44e5,_0x2cac1e){const _0x53f7f3=a203_0x37391e;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x53f7f3(0x1d3))return Reflect['metadata'](_0x3c44e5,_0x2cac1e);},__param=this&&this['__param']||function(_0x3c867f,_0x1a1f25){return function(_0x20e9dd,_0x20d005){_0x1a1f25(_0x20e9dd,_0x20d005,_0x3c867f);};};Object[a203_0x37391e(0x1b1)](exports,'__esModule',{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a203_0x37391e(0x1bc)),not_found_error_1=require(a203_0x37391e(0x1be)),gitlab_api_service_1=require(a203_0x37391e(0x1d5)),typedi_1=require(a203_0x37391e(0x1c0)),api_error_1=require(a203_0x37391e(0x1d9)),git_internal_1=require(a203_0x37391e(0x1d1)),repo_class_1=require(a203_0x37391e(0x1bb)),git_repo_service_1=require(a203_0x37391e(0x1bd)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a203_0x37391e(0x1e8));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x1a0632,_0x16fada){const _0x5c15e0=a203_0x37391e;super(_0x1a0632),this[_0x5c15e0(0x1dc)]=_0x1a0632,this['groupId']=_0x16fada[_0x5c15e0(0x1f0)],this['credentials']=_0x16fada;}async[a203_0x37391e(0x1b3)](){const _0x58bb76=a203_0x37391e;if(!this[_0x58bb76(0x1f3)]){const _0x3047af=await this[_0x58bb76(0x1dc)][_0x58bb76(0x1b9)](this[_0x58bb76(0x1f0)]);this['groupPath']=_0x3047af['full_path'];}return this[_0x58bb76(0x1f3)];}async[a203_0x37391e(0x1dd)](){const _0x384fc7=a203_0x37391e;if(!this[_0x384fc7(0x1ea)]){const _0x543986=await this['api'][_0x384fc7(0x1c1)]();this[_0x384fc7(0x1ea)]=_0x543986[_0x384fc7(0x1ea)];}return this[_0x384fc7(0x1ea)];}async[a203_0x37391e(0x1e0)](_0xb755b8){const _0x3b52c1=a203_0x37391e,_0x47e34d=await(this[_0x3b52c1(0x1f0)]?this['getGroupPath']():this[_0x3b52c1(0x1dd)]()),_0x366919=this[_0x3b52c1(0x1dc)][_0x3b52c1(0x1c9)](this['request'][_0x3b52c1(0x1d0)][_0x3b52c1(0x1b5)]+_0x3b52c1(0x1c3)+encodeURIComponent(_0x47e34d+'/'+_0xb755b8));return _0x366919;}async[a203_0x37391e(0x1c6)](_0xdb25b4){const _0x39c6bf=a203_0x37391e;try{const _0x5ac99b={'name':_0xdb25b4[_0x39c6bf(0x1ef)],'visibility':_0xdb25b4['private']?_0x39c6bf(0x1e4):'public','namespace_id':this[_0x39c6bf(0x1f0)],..._0xdb25b4[_0x39c6bf(0x1f5)]||{}},_0x10890b=await this[_0x39c6bf(0x1cf)][_0x39c6bf(0x1da)]('projects',_0x5ac99b),_0x4d8bf5=repo_class_1['Repo']['fromGitlab'](_0x10890b,this[_0x39c6bf(0x1dc)],this['credentials']);return _0xdb25b4[_0x39c6bf(0x1e7)]&&await git_internal_1[_0x39c6bf(0x1b2)][_0x39c6bf(0x1e5)](_0x4d8bf5,_0xdb25b4[_0x39c6bf(0x1e2)]||'master','',this[_0x39c6bf(0x1e3)]),this[_0x39c6bf(0x1f1)](_0x4d8bf5[_0x39c6bf(0x1ef)]);}catch(_0x24e3ed){if(_0x24e3ed instanceof api_error_1[_0x39c6bf(0x1b6)])throw _0x24e3ed;throw new bad_request_error_1['BadRequestError'](_0x24e3ed);}}async[a203_0x37391e(0x1f1)](_0x2a57c4){const _0x18b063=a203_0x37391e;try{const _0x14c2e7=await this[_0x18b063(0x1e0)](_0x2a57c4),_0x640201=await _0x14c2e7[_0x18b063(0x1e6)]('');return repo_class_1['Repo'][_0x18b063(0x1b8)](_0x640201,this[_0x18b063(0x1dc)],this['credentials']);}catch(_0x34d280){if(_0x34d280 instanceof api_error_1[_0x18b063(0x1b6)])throw _0x34d280;throw new not_found_error_1[(_0x18b063(0x1ca))](_0x34d280);}}async[a203_0x37391e(0x1c5)](){const _0x1081b6=a203_0x37391e;try{let _0x4a3e0a='';if(this['groupId'])_0x4a3e0a='groups/'+this[_0x1081b6(0x1f0)]+'/projects';else{const _0x81a9f1=await this[_0x1081b6(0x1dd)]();_0x4a3e0a=_0x1081b6(0x1f7)+_0x81a9f1+'/projects';}let _0x484a60=!![],_0x48ff01=0x1;const _0x5b9612=[];do{const _0x582f8b=await this[_0x1081b6(0x1cf)]['get'](_0x4a3e0a,{'params':{'page':_0x48ff01,'per_page':0x64}});_0x5b9612[_0x1081b6(0x1d2)](..._0x582f8b),_0x484a60=_0x582f8b[_0x1081b6(0x1d6)]>0x0,_0x48ff01+=0x1;}while(_0x484a60);return _0x5b9612[_0x1081b6(0x1ec)](_0x3d29a8=>repo_class_1['Repo'][_0x1081b6(0x1b8)](_0x3d29a8,this[_0x1081b6(0x1dc)],this[_0x1081b6(0x1e3)]));}catch(_0x2bd5d6){if(_0x2bd5d6 instanceof api_error_1[_0x1081b6(0x1b6)])throw _0x2bd5d6;throw new not_found_error_1[(_0x1081b6(0x1ca))](_0x2bd5d6);}}async['update'](_0x47459a,_0x25df4a){const _0x35c919=a203_0x37391e;try{const _0x5dfdb2=await this[_0x35c919(0x1e0)](_0x47459a),_0x4dc7c4=await _0x5dfdb2[_0x35c919(0x1f8)]('',{..._0x25df4a,'path':_0x25df4a[_0x35c919(0x1ef)]});return repo_class_1[_0x35c919(0x1f6)][_0x35c919(0x1b8)](_0x4dc7c4,this[_0x35c919(0x1dc)],this['credentials']);}catch(_0x5515a8){if(_0x5515a8 instanceof api_error_1[_0x35c919(0x1b6)])throw _0x5515a8;throw new not_found_error_1[(_0x35c919(0x1ca))](_0x5515a8);}}async[a203_0x37391e(0x1df)](_0x12967b){const _0x1eafb0=a203_0x37391e;try{const _0x5229af=await this[_0x1eafb0(0x1e0)](_0x12967b);await _0x5229af[_0x1eafb0(0x1df)]('');}catch(_0xe47ffb){if(_0xe47ffb instanceof api_error_1[_0x1eafb0(0x1b6)])throw _0xe47ffb;throw new bad_request_error_1['BadRequestError'](_0xe47ffb);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a203_0x37391e(0x1f9)])(),__param(0x1,(0x0,typedi_1[a203_0x37391e(0x1f4)])(providers_tokens_1['Tokens'][a203_0x37391e(0x1e3)])),__metadata(a203_0x37391e(0x1d8),[gitlab_api_service_1[a203_0x37391e(0x1c7)],gitlab_credentials_dto_1[a203_0x37391e(0x1ed)]])],GitlabRepoService),exports[a203_0x37391e(0x1cd)]=GitlabRepoService;