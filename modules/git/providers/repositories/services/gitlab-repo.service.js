const a215_0x641356=a215_0x3271;(function(_0x4bd6bf,_0x9f908c){const _0x538dd1=a215_0x3271,_0x8e3a72=_0x4bd6bf();while(!![]){try{const _0x34a2a7=-parseInt(_0x538dd1(0x8d))/0x1*(parseInt(_0x538dd1(0x85))/0x2)+-parseInt(_0x538dd1(0x99))/0x3+parseInt(_0x538dd1(0x76))/0x4*(-parseInt(_0x538dd1(0xa3))/0x5)+-parseInt(_0x538dd1(0x87))/0x6*(parseInt(_0x538dd1(0xa4))/0x7)+-parseInt(_0x538dd1(0xa1))/0x8+parseInt(_0x538dd1(0x65))/0x9+parseInt(_0x538dd1(0x69))/0xa;if(_0x34a2a7===_0x9f908c)break;else _0x8e3a72['push'](_0x8e3a72['shift']());}catch(_0x20eda7){_0x8e3a72['push'](_0x8e3a72['shift']());}}}(a215_0x4c5c,0x4d247));const a215_0x48beb4=(function(){let _0x22d8ec=!![];return function(_0x49eb59,_0x51cc37){const _0x4cc18a=_0x22d8ec?function(){const _0x1e309a=a215_0x3271;if(_0x51cc37){const _0x2fae8f=_0x51cc37[_0x1e309a(0x9c)](_0x49eb59,arguments);return _0x51cc37=null,_0x2fae8f;}}:function(){};return _0x22d8ec=![],_0x4cc18a;};}()),a215_0x4890ae=a215_0x48beb4(this,function(){const _0x3cd0f0=a215_0x3271;return a215_0x4890ae[_0x3cd0f0(0x78)]()[_0x3cd0f0(0x75)](_0x3cd0f0(0x91))[_0x3cd0f0(0x78)]()[_0x3cd0f0(0x7d)](a215_0x4890ae)[_0x3cd0f0(0x75)](_0x3cd0f0(0x91));});a215_0x4890ae();'use strict';function a215_0x3271(_0x48b87b,_0xcc1882){const _0x18b938=a215_0x4c5c();return a215_0x3271=function(_0x4890ae,_0x48beb4){_0x4890ae=_0x4890ae-0x65;let _0x4c5c3f=_0x18b938[_0x4890ae];return _0x4c5c3f;},a215_0x3271(_0x48b87b,_0xcc1882);}var __decorate=this&&this[a215_0x641356(0x71)]||function(_0x56ac5b,_0x1de40e,_0x5172e5,_0xe891ef){const _0x11ac96=a215_0x641356;var _0x5756ac=arguments[_0x11ac96(0x77)],_0x448ef3=_0x5756ac<0x3?_0x1de40e:_0xe891ef===null?_0xe891ef=Object[_0x11ac96(0x9d)](_0x1de40e,_0x5172e5):_0xe891ef,_0x13310f;if(typeof Reflect===_0x11ac96(0x83)&&typeof Reflect[_0x11ac96(0x92)]===_0x11ac96(0x7c))_0x448ef3=Reflect['decorate'](_0x56ac5b,_0x1de40e,_0x5172e5,_0xe891ef);else{for(var _0x1eec12=_0x56ac5b[_0x11ac96(0x77)]-0x1;_0x1eec12>=0x0;_0x1eec12--)if(_0x13310f=_0x56ac5b[_0x1eec12])_0x448ef3=(_0x5756ac<0x3?_0x13310f(_0x448ef3):_0x5756ac>0x3?_0x13310f(_0x1de40e,_0x5172e5,_0x448ef3):_0x13310f(_0x1de40e,_0x5172e5))||_0x448ef3;}return _0x5756ac>0x3&&_0x448ef3&&Object['defineProperty'](_0x1de40e,_0x5172e5,_0x448ef3),_0x448ef3;},__metadata=this&&this[a215_0x641356(0x81)]||function(_0x5da619,_0x291291){const _0x3b8aad=a215_0x641356;if(typeof Reflect===_0x3b8aad(0x83)&&typeof Reflect['metadata']===_0x3b8aad(0x7c))return Reflect[_0x3b8aad(0x66)](_0x5da619,_0x291291);},__param=this&&this[a215_0x641356(0xa0)]||function(_0xf1559e,_0x59aaf3){return function(_0x25613e,_0x13f551){_0x59aaf3(_0x25613e,_0x13f551,_0xf1559e);};};Object['defineProperty'](exports,a215_0x641356(0x6d),{'value':!![]}),exports[a215_0x641356(0x9e)]=void 0x0;const bad_request_error_1=require(a215_0x641356(0xa9)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a215_0x641356(0x84)),typedi_1=require('typedi'),api_error_1=require(a215_0x641356(0x7e)),git_internal_1=require(a215_0x641356(0x7a)),repo_class_1=require(a215_0x641356(0x74)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a215_0x641356(0x73)),providers_tokens_1=require(a215_0x641356(0x72));function a215_0x4c5c(){const _0x11be32=['update','apply','getOwnPropertyDescriptor','GitlabRepoService','GitlabApiService','__param','861088yjIgvE','getUsername','55karjlC','7snWYmu','/projects','groupId','map','defaultBranch','../../../../../core/errors/bad-request.error','getOne','username','create','groupPath','1853496wJliLi','metadata','private','getGroup','13095080NdJgaW','groups/','post','Tokens','__esModule','public','api','request','__decorate','../../providers.tokens','../../credentials/dto/gitlab-credentials.dto','../repo.class','search','170484DOgDWH','length','toString','NotFoundError','../../../internal/git.internal','Repo','function','constructor','../../../../../core/errors/api.error','delete','ApiError','__metadata','get','object','../../api/gitlab-api.service','2BtJkot','getCurrentUser','85206zjlGmU','GitlabCredentialsDto','getGroupPath','users/','/projects/','full_path','76849uBYxrD','Git','name','put','(((.+)+)+)+$','decorate','createRequestToRepo','Inject','credentials','autoInit','fromGitlab','BadRequestError','1595880bijVKu','defaults'];a215_0x4c5c=function(){return _0x11be32;};return a215_0x4c5c();}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5337c9,_0x41b292){const _0x16d51a=a215_0x641356;super(_0x5337c9),this[_0x16d51a(0x6f)]=_0x5337c9,this[_0x16d51a(0xa6)]=_0x41b292[_0x16d51a(0xa6)],this[_0x16d51a(0x95)]=_0x41b292;}async['getGroupPath'](){const _0x4a92fc=a215_0x641356;if(!this[_0x4a92fc(0xad)]){const _0xbdd996=await this[_0x4a92fc(0x6f)][_0x4a92fc(0x68)](this['groupId']);this[_0x4a92fc(0xad)]=_0xbdd996[_0x4a92fc(0x8c)];}return this['groupPath'];}async['getUsername'](){const _0x2aca69=a215_0x641356;if(!this[_0x2aca69(0xab)]){const _0x4a2742=await this['api'][_0x2aca69(0x86)]();this[_0x2aca69(0xab)]=_0x4a2742['username'];}return this[_0x2aca69(0xab)];}async['createRequestToRepo'](_0x4b43f7){const _0xe59d66=a215_0x641356,_0x18801a=await(this[_0xe59d66(0xa6)]?this[_0xe59d66(0x89)]():this[_0xe59d66(0xa2)]()),_0x183741=this[_0xe59d66(0x6f)]['createRequest'](this['request'][_0xe59d66(0x9a)]['baseURL']+_0xe59d66(0x8b)+encodeURIComponent(_0x18801a+'/'+_0x4b43f7));return _0x183741;}async[a215_0x641356(0xac)](_0x26183a){const _0x98cdbb=a215_0x641356;try{const _0x2b3a70={'name':_0x26183a[_0x98cdbb(0x8f)],'visibility':_0x26183a[_0x98cdbb(0x67)]?_0x98cdbb(0x67):_0x98cdbb(0x6e),'namespace_id':this[_0x98cdbb(0xa6)],..._0x26183a['apiBody']||{}},_0x5313b8=await this[_0x98cdbb(0x70)][_0x98cdbb(0x6b)]('projects',_0x2b3a70),_0xbd5c93=repo_class_1[_0x98cdbb(0x7b)][_0x98cdbb(0x97)](_0x5313b8,this[_0x98cdbb(0x6f)],this[_0x98cdbb(0x95)]);return _0x26183a[_0x98cdbb(0x96)]&&await git_internal_1[_0x98cdbb(0x8e)]['createEmptyBranch'](_0xbd5c93,_0x26183a[_0x98cdbb(0xa8)]||'master','',this[_0x98cdbb(0x95)]),this[_0x98cdbb(0xaa)](_0xbd5c93[_0x98cdbb(0x8f)]);}catch(_0x18b00d){if(_0x18b00d instanceof api_error_1[_0x98cdbb(0x80)])throw _0x18b00d;throw new bad_request_error_1[(_0x98cdbb(0x98))](_0x18b00d);}}async[a215_0x641356(0xaa)](_0x2ce348){const _0x174926=a215_0x641356;try{const _0x5664e5=await this['createRequestToRepo'](_0x2ce348),_0x1bfb55=await _0x5664e5['get']('');return repo_class_1[_0x174926(0x7b)][_0x174926(0x97)](_0x1bfb55,this[_0x174926(0x6f)],this[_0x174926(0x95)]);}catch(_0x1fa68c){if(_0x1fa68c instanceof api_error_1[_0x174926(0x80)])throw _0x1fa68c;throw new not_found_error_1['NotFoundError'](_0x1fa68c);}}async['getAll'](){const _0x3c41b3=a215_0x641356;try{let _0x173e46='';if(this[_0x3c41b3(0xa6)])_0x173e46=_0x3c41b3(0x6a)+this['groupId']+'/projects';else{const _0x27bf3e=await this['getUsername']();_0x173e46=_0x3c41b3(0x8a)+_0x27bf3e+_0x3c41b3(0xa5);}let _0x4e7388=!![],_0xa88f4e=0x1;const _0x14b9d2=[];do{const _0xe0535=await this[_0x3c41b3(0x70)][_0x3c41b3(0x82)](_0x173e46,{'params':{'page':_0xa88f4e,'per_page':0x64}});_0x14b9d2['push'](..._0xe0535),_0x4e7388=_0xe0535[_0x3c41b3(0x77)]>0x0,_0xa88f4e+=0x1;}while(_0x4e7388);return _0x14b9d2[_0x3c41b3(0xa7)](_0x702771=>repo_class_1[_0x3c41b3(0x7b)][_0x3c41b3(0x97)](_0x702771,this[_0x3c41b3(0x6f)],this[_0x3c41b3(0x95)]));}catch(_0x4fd107){if(_0x4fd107 instanceof api_error_1[_0x3c41b3(0x80)])throw _0x4fd107;throw new not_found_error_1[(_0x3c41b3(0x79))](_0x4fd107);}}async[a215_0x641356(0x9b)](_0x3e4868,_0xaa0e00){const _0x4b6e11=a215_0x641356;try{const _0x1b73c4=await this[_0x4b6e11(0x93)](_0x3e4868),_0xe48ab=await _0x1b73c4[_0x4b6e11(0x90)]('',{..._0xaa0e00,'path':_0xaa0e00[_0x4b6e11(0x8f)]});return repo_class_1[_0x4b6e11(0x7b)][_0x4b6e11(0x97)](_0xe48ab,this[_0x4b6e11(0x6f)],this[_0x4b6e11(0x95)]);}catch(_0x18d85e){if(_0x18d85e instanceof api_error_1['ApiError'])throw _0x18d85e;throw new not_found_error_1[(_0x4b6e11(0x79))](_0x18d85e);}}async[a215_0x641356(0x7f)](_0x4bc2b9){const _0x3ec216=a215_0x641356;try{const _0x2c2a5e=await this[_0x3ec216(0x93)](_0x4bc2b9);await _0x2c2a5e[_0x3ec216(0x7f)]('');}catch(_0xb21d2d){if(_0xb21d2d instanceof api_error_1[_0x3ec216(0x80)])throw _0xb21d2d;throw new bad_request_error_1[(_0x3ec216(0x98))](_0xb21d2d);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a215_0x641356(0x94)])(providers_tokens_1[a215_0x641356(0x6c)][a215_0x641356(0x95)])),__metadata('design:paramtypes',[gitlab_api_service_1[a215_0x641356(0x9f)],gitlab_credentials_dto_1[a215_0x641356(0x88)]])],GitlabRepoService),exports[a215_0x641356(0x9e)]=GitlabRepoService;