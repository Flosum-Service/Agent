const a204_0x164ce3=a204_0x2800;function a204_0x397d(){const _0x5b4688=['create','metadata','baseURL','Repo','fromGitlab','GitRepoService','toString','../repo.class','../../credentials/dto/gitlab-credentials.dto','full_path','getUsername','../../../internal/git.internal','BadRequestError','credentials','14mSKURB','getAll','6676020vbdzLM','Inject','private','createEmptyBranch','7059600zzbtNN','77zEcGXT','getOne','decorate','../../../../../core/errors/bad-request.error','NotFoundError','../../../../../core/errors/not-found.error','5767360YXdJkS','update','(((.+)+)+)+$','__metadata','object','username','map','../../api/gitlab-api.service','autoInit','GitlabRepoService','13286mLaZdy','ApiError','groupId','delete','public','__decorate','../../providers.tokens','4966155CbURlR','getGroup','/projects','name','createRequest','3972172lPBsrT','length','post','3lbwgSy','GitlabCredentialsDto','api','__param','createRequestToRepo','master','getOwnPropertyDescriptor','groups/','getGroupPath','/projects/','Git','defineProperty','groupPath','3096732hEDLay','design:paramtypes','search','request'];a204_0x397d=function(){return _0x5b4688;};return a204_0x397d();}(function(_0x3f4094,_0x5a9d70){const _0x3408f9=a204_0x2800,_0x9f91cf=_0x3f4094();while(!![]){try{const _0x209ca8=parseInt(_0x3408f9(0xec))/0x1*(-parseInt(_0x3408f9(0xfc))/0x2)+-parseInt(_0x3408f9(0x10b))/0x3*(-parseInt(_0x3408f9(0x108))/0x4)+parseInt(_0x3408f9(0x103))/0x5+parseInt(_0x3408f9(0x118))/0x6*(-parseInt(_0x3408f9(0xe5))/0x7)+-parseInt(_0x3408f9(0xeb))/0x8+parseInt(_0x3408f9(0xe7))/0x9+parseInt(_0x3408f9(0xf2))/0xa;if(_0x209ca8===_0x5a9d70)break;else _0x9f91cf['push'](_0x9f91cf['shift']());}catch(_0x3172b0){_0x9f91cf['push'](_0x9f91cf['shift']());}}}(a204_0x397d,0xd67f9));const a204_0x36bbda=(function(){let _0x254c0b=!![];return function(_0x386e0e,_0x52b0ee){const _0x1a8a58=_0x254c0b?function(){if(_0x52b0ee){const _0x1a367a=_0x52b0ee['apply'](_0x386e0e,arguments);return _0x52b0ee=null,_0x1a367a;}}:function(){};return _0x254c0b=![],_0x1a8a58;};}()),a204_0x4a3ca5=a204_0x36bbda(this,function(){const _0x53cf82=a204_0x2800;return a204_0x4a3ca5[_0x53cf82(0x122)]()['search']('(((.+)+)+)+$')[_0x53cf82(0x122)]()['constructor'](a204_0x4a3ca5)[_0x53cf82(0x11a)](_0x53cf82(0xf4));});function a204_0x2800(_0x1a9400,_0x500a91){const _0x550871=a204_0x397d();return a204_0x2800=function(_0x4a3ca5,_0x36bbda){_0x4a3ca5=_0x4a3ca5-0xe3;let _0x397dde=_0x550871[_0x4a3ca5];return _0x397dde;},a204_0x2800(_0x1a9400,_0x500a91);}a204_0x4a3ca5();'use strict';var __decorate=this&&this[a204_0x164ce3(0x101)]||function(_0x1d4b25,_0x4f32e1,_0x5748f7,_0x48bb32){const _0x57b33d=a204_0x164ce3;var _0x13fc00=arguments[_0x57b33d(0x109)],_0x1afdcd=_0x13fc00<0x3?_0x4f32e1:_0x48bb32===null?_0x48bb32=Object[_0x57b33d(0x111)](_0x4f32e1,_0x5748f7):_0x48bb32,_0x2664d3;if(typeof Reflect==='object'&&typeof Reflect[_0x57b33d(0xee)]==='function')_0x1afdcd=Reflect['decorate'](_0x1d4b25,_0x4f32e1,_0x5748f7,_0x48bb32);else{for(var _0x1da6a1=_0x1d4b25[_0x57b33d(0x109)]-0x1;_0x1da6a1>=0x0;_0x1da6a1--)if(_0x2664d3=_0x1d4b25[_0x1da6a1])_0x1afdcd=(_0x13fc00<0x3?_0x2664d3(_0x1afdcd):_0x13fc00>0x3?_0x2664d3(_0x4f32e1,_0x5748f7,_0x1afdcd):_0x2664d3(_0x4f32e1,_0x5748f7))||_0x1afdcd;}return _0x13fc00>0x3&&_0x1afdcd&&Object['defineProperty'](_0x4f32e1,_0x5748f7,_0x1afdcd),_0x1afdcd;},__metadata=this&&this[a204_0x164ce3(0xf5)]||function(_0x42ebc5,_0x24abac){const _0x1320e3=a204_0x164ce3;if(typeof Reflect===_0x1320e3(0xf6)&&typeof Reflect[_0x1320e3(0x11d)]==='function')return Reflect[_0x1320e3(0x11d)](_0x42ebc5,_0x24abac);},__param=this&&this[a204_0x164ce3(0x10e)]||function(_0x1e562f,_0xaed95f){return function(_0xdeada8,_0x4becfd){_0xaed95f(_0xdeada8,_0x4becfd,_0x1e562f);};};Object[a204_0x164ce3(0x116)](exports,'__esModule',{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a204_0x164ce3(0xef)),not_found_error_1=require(a204_0x164ce3(0xf1)),gitlab_api_service_1=require(a204_0x164ce3(0xf9)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a204_0x164ce3(0x127)),repo_class_1=require(a204_0x164ce3(0x123)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a204_0x164ce3(0x124)),providers_tokens_1=require(a204_0x164ce3(0x102));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a204_0x164ce3(0x121)]{constructor(_0x2819d3,_0x25d96e){const _0x943f8c=a204_0x164ce3;super(_0x2819d3),this[_0x943f8c(0x10d)]=_0x2819d3,this[_0x943f8c(0xfe)]=_0x25d96e[_0x943f8c(0xfe)],this['credentials']=_0x25d96e;}async[a204_0x164ce3(0x113)](){const _0x45bea0=a204_0x164ce3;if(!this[_0x45bea0(0x117)]){const _0x1b69c2=await this['api'][_0x45bea0(0x104)](this[_0x45bea0(0xfe)]);this[_0x45bea0(0x117)]=_0x1b69c2[_0x45bea0(0x125)];}return this[_0x45bea0(0x117)];}async['getUsername'](){const _0x8cba14=a204_0x164ce3;if(!this[_0x8cba14(0xf7)]){const _0x434961=await this[_0x8cba14(0x10d)]['getCurrentUser']();this[_0x8cba14(0xf7)]=_0x434961[_0x8cba14(0xf7)];}return this[_0x8cba14(0xf7)];}async[a204_0x164ce3(0x10f)](_0x31b1cf){const _0x3f602c=a204_0x164ce3,_0x5f3834=await(this[_0x3f602c(0xfe)]?this[_0x3f602c(0x113)]():this['getUsername']()),_0x2abee8=this[_0x3f602c(0x10d)][_0x3f602c(0x107)](this[_0x3f602c(0x11b)]['defaults'][_0x3f602c(0x11e)]+_0x3f602c(0x114)+encodeURIComponent(_0x5f3834+'/'+_0x31b1cf));return _0x2abee8;}async[a204_0x164ce3(0x11c)](_0x3019bd){const _0x4a2b52=a204_0x164ce3;try{const _0x7f8407={'name':_0x3019bd['name'],'visibility':_0x3019bd[_0x4a2b52(0xe9)]?_0x4a2b52(0xe9):_0x4a2b52(0x100),'namespace_id':this[_0x4a2b52(0xfe)],..._0x3019bd['apiBody']||{}},_0x3cbd81=await this[_0x4a2b52(0x11b)][_0x4a2b52(0x10a)]('projects',_0x7f8407),_0x260db6=repo_class_1[_0x4a2b52(0x11f)][_0x4a2b52(0x120)](_0x3cbd81,this['api'],this[_0x4a2b52(0xe4)]);return _0x3019bd[_0x4a2b52(0xfa)]&&await git_internal_1[_0x4a2b52(0x115)][_0x4a2b52(0xea)](_0x260db6,_0x3019bd['defaultBranch']||_0x4a2b52(0x110),'',this['credentials']),this[_0x4a2b52(0xed)](_0x260db6[_0x4a2b52(0x106)]);}catch(_0x42596f){if(_0x42596f instanceof api_error_1['ApiError'])throw _0x42596f;throw new bad_request_error_1['BadRequestError'](_0x42596f);}}async[a204_0x164ce3(0xed)](_0x1f2f70){const _0x4975ed=a204_0x164ce3;try{const _0x21fe33=await this[_0x4975ed(0x10f)](_0x1f2f70),_0x5a95f7=await _0x21fe33['get']('');return repo_class_1[_0x4975ed(0x11f)][_0x4975ed(0x120)](_0x5a95f7,this[_0x4975ed(0x10d)],this['credentials']);}catch(_0xe4daf){if(_0xe4daf instanceof api_error_1['ApiError'])throw _0xe4daf;throw new not_found_error_1[(_0x4975ed(0xf0))](_0xe4daf);}}async[a204_0x164ce3(0xe6)](){const _0x2118be=a204_0x164ce3;try{let _0x2e08e3='';if(this[_0x2118be(0xfe)])_0x2e08e3=_0x2118be(0x112)+this[_0x2118be(0xfe)]+'/projects';else{const _0x169fc4=await this[_0x2118be(0x126)]();_0x2e08e3='users/'+_0x169fc4+_0x2118be(0x105);}let _0x2e1b02=!![],_0x43d11f=0x1;const _0x36931e=[];do{const _0x17e1fd=await this['request']['get'](_0x2e08e3,{'params':{'page':_0x43d11f,'per_page':0x64}});_0x36931e['push'](..._0x17e1fd),_0x2e1b02=_0x17e1fd[_0x2118be(0x109)]>0x0,_0x43d11f+=0x1;}while(_0x2e1b02);return _0x36931e[_0x2118be(0xf8)](_0x1a245e=>repo_class_1[_0x2118be(0x11f)][_0x2118be(0x120)](_0x1a245e,this[_0x2118be(0x10d)],this[_0x2118be(0xe4)]));}catch(_0x26e8d5){if(_0x26e8d5 instanceof api_error_1[_0x2118be(0xfd)])throw _0x26e8d5;throw new not_found_error_1['NotFoundError'](_0x26e8d5);}}async[a204_0x164ce3(0xf3)](_0x487ead,_0x3d929f){const _0x5487af=a204_0x164ce3;try{const _0x5796ef=await this[_0x5487af(0x10f)](_0x487ead),_0x1208f6=await _0x5796ef['put']('',{..._0x3d929f,'path':_0x3d929f[_0x5487af(0x106)]});return repo_class_1[_0x5487af(0x11f)]['fromGitlab'](_0x1208f6,this[_0x5487af(0x10d)],this[_0x5487af(0xe4)]);}catch(_0x137064){if(_0x137064 instanceof api_error_1[_0x5487af(0xfd)])throw _0x137064;throw new not_found_error_1[(_0x5487af(0xf0))](_0x137064);}}async[a204_0x164ce3(0xff)](_0x200087){const _0x345fe9=a204_0x164ce3;try{const _0x47c749=await this[_0x345fe9(0x10f)](_0x200087);await _0x47c749['delete']('');}catch(_0x41182){if(_0x41182 instanceof api_error_1[_0x345fe9(0xfd)])throw _0x41182;throw new bad_request_error_1[(_0x345fe9(0xe3))](_0x41182);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a204_0x164ce3(0xe8)])(providers_tokens_1['Tokens'][a204_0x164ce3(0xe4)])),__metadata(a204_0x164ce3(0x119),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a204_0x164ce3(0x10c)]])],GitlabRepoService),exports[a204_0x164ce3(0xfb)]=GitlabRepoService;