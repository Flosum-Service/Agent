const a215_0x1feb5e=a215_0x3ba9;(function(_0x28ba5b,_0x14179c){const _0x2df212=a215_0x3ba9,_0x29a4dc=_0x28ba5b();while(!![]){try{const _0x2d109e=parseInt(_0x2df212(0xd1))/0x1+-parseInt(_0x2df212(0xaf))/0x2*(-parseInt(_0x2df212(0xc8))/0x3)+-parseInt(_0x2df212(0xb2))/0x4*(parseInt(_0x2df212(0x9f))/0x5)+parseInt(_0x2df212(0xb4))/0x6*(-parseInt(_0x2df212(0x9b))/0x7)+-parseInt(_0x2df212(0xad))/0x8*(parseInt(_0x2df212(0xc6))/0x9)+-parseInt(_0x2df212(0xc9))/0xa+parseInt(_0x2df212(0xb3))/0xb;if(_0x2d109e===_0x14179c)break;else _0x29a4dc['push'](_0x29a4dc['shift']());}catch(_0x3181ca){_0x29a4dc['push'](_0x29a4dc['shift']());}}}(a215_0x3b9a,0x907bb));function a215_0x3ba9(_0x55674e,_0x4b63b3){const _0x33e985=a215_0x3b9a();return a215_0x3ba9=function(_0x2bc8a4,_0x718732){_0x2bc8a4=_0x2bc8a4-0x8f;let _0x3b9ae4=_0x33e985[_0x2bc8a4];return _0x3b9ae4;},a215_0x3ba9(_0x55674e,_0x4b63b3);}const a215_0x718732=(function(){let _0x779e7=!![];return function(_0x14981f,_0x58d6e3){const _0x54ddbf=_0x779e7?function(){const _0x2b792b=a215_0x3ba9;if(_0x58d6e3){const _0xb97f05=_0x58d6e3[_0x2b792b(0xa2)](_0x14981f,arguments);return _0x58d6e3=null,_0xb97f05;}}:function(){};return _0x779e7=![],_0x54ddbf;};}()),a215_0x2bc8a4=a215_0x718732(this,function(){const _0x4abdae=a215_0x3ba9;return a215_0x2bc8a4[_0x4abdae(0xde)]()[_0x4abdae(0xd0)](_0x4abdae(0xb9))['toString']()[_0x4abdae(0xbf)](a215_0x2bc8a4)['search'](_0x4abdae(0xb9));});a215_0x2bc8a4();'use strict';var __decorate=this&&this[a215_0x1feb5e(0xa3)]||function(_0x158ad1,_0x36596c,_0x2cf872,_0x16a052){const _0xc3db2e=a215_0x1feb5e;var _0x51e314=arguments['length'],_0x54a467=_0x51e314<0x3?_0x36596c:_0x16a052===null?_0x16a052=Object[_0xc3db2e(0xcd)](_0x36596c,_0x2cf872):_0x16a052,_0xbc2ebb;if(typeof Reflect===_0xc3db2e(0x9a)&&typeof Reflect[_0xc3db2e(0xbe)]===_0xc3db2e(0xc3))_0x54a467=Reflect[_0xc3db2e(0xbe)](_0x158ad1,_0x36596c,_0x2cf872,_0x16a052);else{for(var _0x16bf07=_0x158ad1[_0xc3db2e(0xd8)]-0x1;_0x16bf07>=0x0;_0x16bf07--)if(_0xbc2ebb=_0x158ad1[_0x16bf07])_0x54a467=(_0x51e314<0x3?_0xbc2ebb(_0x54a467):_0x51e314>0x3?_0xbc2ebb(_0x36596c,_0x2cf872,_0x54a467):_0xbc2ebb(_0x36596c,_0x2cf872))||_0x54a467;}return _0x51e314>0x3&&_0x54a467&&Object[_0xc3db2e(0xcb)](_0x36596c,_0x2cf872,_0x54a467),_0x54a467;},__metadata=this&&this[a215_0x1feb5e(0x98)]||function(_0x34f1d5,_0x470616){const _0x4defa8=a215_0x1feb5e;if(typeof Reflect==='object'&&typeof Reflect[_0x4defa8(0xd6)]===_0x4defa8(0xc3))return Reflect['metadata'](_0x34f1d5,_0x470616);},__param=this&&this[a215_0x1feb5e(0x90)]||function(_0x43cdf1,_0x3a991e){return function(_0x195e3c,_0x1e552e){_0x3a991e(_0x195e3c,_0x1e552e,_0x43cdf1);};};Object['defineProperty'](exports,a215_0x1feb5e(0xcc),{'value':!![]}),exports[a215_0x1feb5e(0xdb)]=void 0x0;const bad_request_error_1=require(a215_0x1feb5e(0xb7)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a215_0x1feb5e(0xcf)),typedi_1=require(a215_0x1feb5e(0xa4)),api_error_1=require(a215_0x1feb5e(0xac)),git_internal_1=require(a215_0x1feb5e(0xc7)),repo_class_1=require(a215_0x1feb5e(0xc0)),git_repo_service_1=require(a215_0x1feb5e(0xa0)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a215_0x1feb5e(0x92));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a215_0x1feb5e(0x8f)]{constructor(_0x16107f,_0x3418f0){const _0x374abd=a215_0x1feb5e;super(_0x16107f),this[_0x374abd(0x9c)]=_0x16107f,this['groupId']=_0x3418f0['groupId'],this['credentials']=_0x3418f0;}async[a215_0x1feb5e(0xbb)](){const _0x3283e9=a215_0x1feb5e;if(!this[_0x3283e9(0xda)]){const _0x708c2f=await this[_0x3283e9(0x9c)][_0x3283e9(0xd5)](this['groupId']);this[_0x3283e9(0xda)]=_0x708c2f[_0x3283e9(0x9d)];}return this[_0x3283e9(0xda)];}async[a215_0x1feb5e(0x99)](){const _0x303486=a215_0x1feb5e;if(!this['username']){const _0x5336b9=await this[_0x303486(0x9c)]['getCurrentUser']();this[_0x303486(0xb6)]=_0x5336b9['username'];}return this[_0x303486(0xb6)];}async['createRequestToRepo'](_0x2f2ea0){const _0xc94932=a215_0x1feb5e,_0x214ca5=await(this['groupId']?this[_0xc94932(0xbb)]():this['getUsername']()),_0x4e6245=this[_0xc94932(0x9c)][_0xc94932(0xca)](this[_0xc94932(0xa7)]['defaults'][_0xc94932(0xa5)]+_0xc94932(0xce)+encodeURIComponent(_0x214ca5+'/'+_0x2f2ea0));return _0x4e6245;}async[a215_0x1feb5e(0xa1)](_0x2b174a){const _0x34cbf1=a215_0x1feb5e;try{const _0x4e1b25={'name':_0x2b174a[_0x34cbf1(0xc2)],'visibility':_0x2b174a[_0x34cbf1(0xc5)]?_0x34cbf1(0xc5):_0x34cbf1(0xa9),'namespace_id':this['groupId'],..._0x2b174a[_0x34cbf1(0xae)]||{}},_0x330228=await this[_0x34cbf1(0xa7)][_0x34cbf1(0xaa)]('projects',_0x4e1b25),_0x52c974=repo_class_1['Repo']['fromGitlab'](_0x330228,this['api'],this['credentials']);return _0x2b174a[_0x34cbf1(0xb8)]&&await git_internal_1[_0x34cbf1(0xc4)][_0x34cbf1(0xd3)](_0x52c974,_0x2b174a[_0x34cbf1(0xc1)]||'master','',this[_0x34cbf1(0xbc)]),this[_0x34cbf1(0xa6)](_0x52c974[_0x34cbf1(0xc2)]);}catch(_0x1631e0){if(_0x1631e0 instanceof api_error_1[_0x34cbf1(0x96)])throw _0x1631e0;throw new bad_request_error_1['BadRequestError'](_0x1631e0);}}async[a215_0x1feb5e(0xa6)](_0x1d94e7){const _0x3d7bf9=a215_0x1feb5e;try{const _0x4081c5=await this['createRequestToRepo'](_0x1d94e7),_0x3178e8=await _0x4081c5[_0x3d7bf9(0xbd)]('');return repo_class_1['Repo'][_0x3d7bf9(0x93)](_0x3178e8,this['api'],this[_0x3d7bf9(0xbc)]);}catch(_0x35e6ca){if(_0x35e6ca instanceof api_error_1['ApiError'])throw _0x35e6ca;throw new not_found_error_1[(_0x3d7bf9(0xb0))](_0x35e6ca);}}async['getAll'](){const _0x2f6218=a215_0x1feb5e;try{let _0x4b3e57='';if(this[_0x2f6218(0xd2)])_0x4b3e57=_0x2f6218(0x9e)+this[_0x2f6218(0xd2)]+_0x2f6218(0xd4);else{const _0x2cfc04=await this[_0x2f6218(0x99)]();_0x4b3e57=_0x2f6218(0x95)+_0x2cfc04+_0x2f6218(0xd4);}let _0x16767d=!![],_0x4020d7=0x1;const _0x3c878f=[];do{const _0x336a60=await this[_0x2f6218(0xa7)]['get'](_0x4b3e57,{'params':{'page':_0x4020d7,'per_page':0x64}});_0x3c878f[_0x2f6218(0xa8)](..._0x336a60),_0x16767d=_0x336a60[_0x2f6218(0xd8)]>0x0,_0x4020d7+=0x1;}while(_0x16767d);return _0x3c878f[_0x2f6218(0xb1)](_0xe1ee4f=>repo_class_1['Repo'][_0x2f6218(0x93)](_0xe1ee4f,this[_0x2f6218(0x9c)],this[_0x2f6218(0xbc)]));}catch(_0x55b614){if(_0x55b614 instanceof api_error_1[_0x2f6218(0x96)])throw _0x55b614;throw new not_found_error_1[(_0x2f6218(0xb0))](_0x55b614);}}async[a215_0x1feb5e(0x91)](_0x1a4b26,_0x19e838){const _0x5920e3=a215_0x1feb5e;try{const _0x3c58df=await this['createRequestToRepo'](_0x1a4b26),_0x3219f4=await _0x3c58df[_0x5920e3(0xab)]('',{..._0x19e838,'path':_0x19e838[_0x5920e3(0xc2)]});return repo_class_1[_0x5920e3(0xd7)][_0x5920e3(0x93)](_0x3219f4,this[_0x5920e3(0x9c)],this[_0x5920e3(0xbc)]);}catch(_0x492037){if(_0x492037 instanceof api_error_1['ApiError'])throw _0x492037;throw new not_found_error_1['NotFoundError'](_0x492037);}}async['delete'](_0x33af37){const _0x350f30=a215_0x1feb5e;try{const _0x63dda5=await this[_0x350f30(0xdc)](_0x33af37);await _0x63dda5['delete']('');}catch(_0x42ecd6){if(_0x42ecd6 instanceof api_error_1[_0x350f30(0x96)])throw _0x42ecd6;throw new bad_request_error_1[(_0x350f30(0x94))](_0x42ecd6);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a215_0x1feb5e(0xba)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a215_0x1feb5e(0xd9)][a215_0x1feb5e(0xbc)])),__metadata(a215_0x1feb5e(0xdd),[gitlab_api_service_1[a215_0x1feb5e(0xb5)],gitlab_credentials_dto_1[a215_0x1feb5e(0x97)]])],GitlabRepoService),exports[a215_0x1feb5e(0xdb)]=GitlabRepoService;function a215_0x3b9a(){const _0x3a819a=['push','public','post','put','../../../../../core/errors/api.error','45728OfQRhk','apiBody','296774yKOQXc','NotFoundError','map','4PocImb','25627591LfmJFf','244914CEVFXx','GitlabApiService','username','../../../../../core/errors/bad-request.error','autoInit','(((.+)+)+)+$','Service','getGroupPath','credentials','get','decorate','constructor','../repo.class','defaultBranch','name','function','Git','private','36qfkscM','../../../internal/git.internal','6PEKgLu','10347300yAtpUl','createRequest','defineProperty','__esModule','getOwnPropertyDescriptor','/projects/','../../api/gitlab-api.service','search','225976SaWQcf','groupId','createEmptyBranch','/projects','getGroup','metadata','Repo','length','Tokens','groupPath','GitlabRepoService','createRequestToRepo','design:paramtypes','toString','GitRepoService','__param','update','../../providers.tokens','fromGitlab','BadRequestError','users/','ApiError','GitlabCredentialsDto','__metadata','getUsername','object','119eVMxuP','api','full_path','groups/','2546055fWvNEx','./git-repo.service','create','apply','__decorate','typedi','baseURL','getOne','request'];a215_0x3b9a=function(){return _0x3a819a;};return a215_0x3b9a();}