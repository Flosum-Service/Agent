const a241_0x478021=a241_0x1e0c;(function(_0x34724b,_0x4e04fd){const _0x488b37=a241_0x1e0c,_0x37cd61=_0x34724b();while(!![]){try{const _0x41c379=parseInt(_0x488b37(0x137))/0x1*(-parseInt(_0x488b37(0x14c))/0x2)+-parseInt(_0x488b37(0x175))/0x3+-parseInt(_0x488b37(0x153))/0x4+-parseInt(_0x488b37(0x13a))/0x5+parseInt(_0x488b37(0x161))/0x6*(-parseInt(_0x488b37(0x155))/0x7)+-parseInt(_0x488b37(0x12a))/0x8+parseInt(_0x488b37(0x15c))/0x9;if(_0x41c379===_0x4e04fd)break;else _0x37cd61['push'](_0x37cd61['shift']());}catch(_0x3a95b1){_0x37cd61['push'](_0x37cd61['shift']());}}}(a241_0x5282,0xc7bcf));const a241_0x4a376c=(function(){let _0x46c04a=!![];return function(_0x257093,_0x1a254c){const _0x2041bd=_0x46c04a?function(){if(_0x1a254c){const _0x55901b=_0x1a254c['apply'](_0x257093,arguments);return _0x1a254c=null,_0x55901b;}}:function(){};return _0x46c04a=![],_0x2041bd;};}()),a241_0x42ca23=a241_0x4a376c(this,function(){const _0x33a0ff=a241_0x1e0c;return a241_0x42ca23['toString']()[_0x33a0ff(0x15a)]('(((.+)+)+)+$')['toString']()[_0x33a0ff(0x14b)](a241_0x42ca23)[_0x33a0ff(0x15a)](_0x33a0ff(0x162));});a241_0x42ca23();function a241_0x5282(){const _0x16f15c=['__metadata','Git','object','createRequestToRepo','getCurrentUser','create','function','groupPath','ApiError','getOwnPropertyDescriptor','update','../../credentials/dto/gitlab-credentials.dto','decorate','__param','NotFoundError','constructor','4satxIJ','private','public','defineProperty','map','GitRepoService','get','6312204lMQoUZ','defaultBranch','455SPocDF','createEmptyBranch','length','getOne','createRequest','search','username','54547776eljGbu','groupId','typedi','BadRequestError','../../../../../core/errors/api.error','134868MMoItc','(((.+)+)+)+$','baseURL','metadata','__decorate','api','Repo','../../../internal/git.internal','/projects','getUsername','groups/','push','request','name','credentials','full_path','../../../../../core/errors/bad-request.error','getGroup','Tokens','../../providers.tokens','1628094xJiOlp','5087000PzgxAX','delete','apiBody','users/','getGroupPath','Service','fromGitlab','GitlabRepoService','put','master','autoInit','design:paramtypes','GitlabCredentialsDto','324651sMpJBm','./git-repo.service','__esModule','1878705BpyCol','/projects/'];a241_0x5282=function(){return _0x16f15c;};return a241_0x5282();}'use strict';var __decorate=this&&this[a241_0x478021(0x165)]||function(_0x5bb1a5,_0x3dcc86,_0xbbb03f,_0x190184){const _0x13f58b=a241_0x478021;var _0x231eb2=arguments[_0x13f58b(0x157)],_0x38796c=_0x231eb2<0x3?_0x3dcc86:_0x190184===null?_0x190184=Object[_0x13f58b(0x145)](_0x3dcc86,_0xbbb03f):_0x190184,_0x1c12dd;if(typeof Reflect===_0x13f58b(0x13e)&&typeof Reflect[_0x13f58b(0x148)]===_0x13f58b(0x142))_0x38796c=Reflect[_0x13f58b(0x148)](_0x5bb1a5,_0x3dcc86,_0xbbb03f,_0x190184);else{for(var _0x4938a8=_0x5bb1a5[_0x13f58b(0x157)]-0x1;_0x4938a8>=0x0;_0x4938a8--)if(_0x1c12dd=_0x5bb1a5[_0x4938a8])_0x38796c=(_0x231eb2<0x3?_0x1c12dd(_0x38796c):_0x231eb2>0x3?_0x1c12dd(_0x3dcc86,_0xbbb03f,_0x38796c):_0x1c12dd(_0x3dcc86,_0xbbb03f))||_0x38796c;}return _0x231eb2>0x3&&_0x38796c&&Object[_0x13f58b(0x14f)](_0x3dcc86,_0xbbb03f,_0x38796c),_0x38796c;},__metadata=this&&this[a241_0x478021(0x13c)]||function(_0x1b58e0,_0x496274){const _0x4b4c8c=a241_0x478021;if(typeof Reflect===_0x4b4c8c(0x13e)&&typeof Reflect[_0x4b4c8c(0x164)]===_0x4b4c8c(0x142))return Reflect['metadata'](_0x1b58e0,_0x496274);},__param=this&&this[a241_0x478021(0x149)]||function(_0x1716cf,_0x3d55ec){return function(_0x2f39f0,_0x604cc6){_0x3d55ec(_0x2f39f0,_0x604cc6,_0x1716cf);};};Object[a241_0x478021(0x14f)](exports,a241_0x478021(0x139),{'value':!![]}),exports[a241_0x478021(0x131)]=void 0x0;const bad_request_error_1=require(a241_0x478021(0x171)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a241_0x478021(0x15e)),api_error_1=require(a241_0x478021(0x160)),git_internal_1=require(a241_0x478021(0x168)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a241_0x478021(0x138)),gitlab_credentials_dto_1=require(a241_0x478021(0x147)),providers_tokens_1=require(a241_0x478021(0x174));function a241_0x1e0c(_0x3e2c63,_0x32a70e){const _0x454ce1=a241_0x5282();return a241_0x1e0c=function(_0x42ca23,_0x4a376c){_0x42ca23=_0x42ca23-0x12a;let _0x5282ce=_0x454ce1[_0x42ca23];return _0x5282ce;},a241_0x1e0c(_0x3e2c63,_0x32a70e);}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a241_0x478021(0x151)]{constructor(_0x3e0bd6,_0x3e65bd){const _0x343a7e=a241_0x478021;super(_0x3e0bd6),this['api']=_0x3e0bd6,this[_0x343a7e(0x15d)]=_0x3e65bd[_0x343a7e(0x15d)],this['credentials']=_0x3e65bd;}async[a241_0x478021(0x12e)](){const _0x23acac=a241_0x478021;if(!this['groupPath']){const _0x27877d=await this[_0x23acac(0x166)][_0x23acac(0x172)](this['groupId']);this[_0x23acac(0x143)]=_0x27877d[_0x23acac(0x170)];}return this[_0x23acac(0x143)];}async[a241_0x478021(0x16a)](){const _0x975a52=a241_0x478021;if(!this[_0x975a52(0x15b)]){const _0x4fbc25=await this[_0x975a52(0x166)][_0x975a52(0x140)]();this[_0x975a52(0x15b)]=_0x4fbc25[_0x975a52(0x15b)];}return this[_0x975a52(0x15b)];}async[a241_0x478021(0x13f)](_0xcfa302){const _0x35efe6=a241_0x478021,_0x45f9ed=await(this[_0x35efe6(0x15d)]?this[_0x35efe6(0x12e)]():this['getUsername']()),_0x218193=this['api'][_0x35efe6(0x159)](this['request']['defaults'][_0x35efe6(0x163)]+_0x35efe6(0x13b)+encodeURIComponent(_0x45f9ed+'/'+_0xcfa302));return _0x218193;}async[a241_0x478021(0x141)](_0x5c95a8){const _0x16d049=a241_0x478021;try{const _0x24eb3d={'name':_0x5c95a8[_0x16d049(0x16e)],'visibility':_0x5c95a8[_0x16d049(0x14d)]?'private':_0x16d049(0x14e),'namespace_id':this[_0x16d049(0x15d)],..._0x5c95a8[_0x16d049(0x12c)]||{}},_0x4f9e00=await this[_0x16d049(0x16d)]['post']('projects',_0x24eb3d),_0x3a5337=repo_class_1[_0x16d049(0x167)][_0x16d049(0x130)](_0x4f9e00,this[_0x16d049(0x166)],this[_0x16d049(0x16f)]);return _0x5c95a8[_0x16d049(0x134)]&&await git_internal_1[_0x16d049(0x13d)][_0x16d049(0x156)](_0x3a5337,_0x5c95a8[_0x16d049(0x154)]||_0x16d049(0x133),'',this[_0x16d049(0x16f)]),this[_0x16d049(0x158)](_0x3a5337[_0x16d049(0x16e)]);}catch(_0x1205d6){if(_0x1205d6 instanceof api_error_1[_0x16d049(0x144)])throw _0x1205d6;throw new bad_request_error_1[(_0x16d049(0x15f))](_0x1205d6);}}async['getOne'](_0x481b5d){const _0x5acd83=a241_0x478021;try{const _0x4843e5=await this[_0x5acd83(0x13f)](_0x481b5d),_0x39a89c=await _0x4843e5[_0x5acd83(0x152)]('');return repo_class_1['Repo'][_0x5acd83(0x130)](_0x39a89c,this[_0x5acd83(0x166)],this['credentials']);}catch(_0x1aa14f){if(_0x1aa14f instanceof api_error_1[_0x5acd83(0x144)])throw _0x1aa14f;throw new not_found_error_1[(_0x5acd83(0x14a))](_0x1aa14f);}}async['getAll'](){const _0x516741=a241_0x478021;try{let _0x393738='';if(this[_0x516741(0x15d)])_0x393738=_0x516741(0x16b)+this['groupId']+'/projects';else{const _0x5a8f04=await this['getUsername']();_0x393738=_0x516741(0x12d)+_0x5a8f04+_0x516741(0x169);}let _0x247c5b=!![],_0x43d202=0x1;const _0xa9e1fc=[];do{const _0x4ec63b=await this[_0x516741(0x16d)][_0x516741(0x152)](_0x393738,{'params':{'page':_0x43d202,'per_page':0x64}});_0xa9e1fc[_0x516741(0x16c)](..._0x4ec63b),_0x247c5b=_0x4ec63b[_0x516741(0x157)]>0x0,_0x43d202+=0x1;}while(_0x247c5b);return _0xa9e1fc[_0x516741(0x150)](_0x103caa=>repo_class_1[_0x516741(0x167)]['fromGitlab'](_0x103caa,this['api'],this[_0x516741(0x16f)]));}catch(_0x3b98d3){if(_0x3b98d3 instanceof api_error_1[_0x516741(0x144)])throw _0x3b98d3;throw new not_found_error_1[(_0x516741(0x14a))](_0x3b98d3);}}async[a241_0x478021(0x146)](_0x5271bb,_0x39086e){const _0x12dd19=a241_0x478021;try{const _0x28ae68=await this[_0x12dd19(0x13f)](_0x5271bb),_0x2fc6b6=await _0x28ae68[_0x12dd19(0x132)]('',{..._0x39086e,'path':_0x39086e[_0x12dd19(0x16e)]});return repo_class_1[_0x12dd19(0x167)][_0x12dd19(0x130)](_0x2fc6b6,this['api'],this['credentials']);}catch(_0x3b1210){if(_0x3b1210 instanceof api_error_1[_0x12dd19(0x144)])throw _0x3b1210;throw new not_found_error_1[(_0x12dd19(0x14a))](_0x3b1210);}}async[a241_0x478021(0x12b)](_0x5372eb){const _0x16b62a=a241_0x478021;try{const _0x2f1ce0=await this['createRequestToRepo'](_0x5372eb);await _0x2f1ce0[_0x16b62a(0x12b)]('');}catch(_0x33f2fb){if(_0x33f2fb instanceof api_error_1[_0x16b62a(0x144)])throw _0x33f2fb;throw new bad_request_error_1[(_0x16b62a(0x15f))](_0x33f2fb);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a241_0x478021(0x12f)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a241_0x478021(0x173)][a241_0x478021(0x16f)])),__metadata(a241_0x478021(0x135),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a241_0x478021(0x136)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;