const a241_0x2eae14=a241_0x4f2a;function a241_0x4e26(){const _0x1db724=['getCurrentUser','request','function','NotFoundError','search','../../api/gitlab-api.service','__decorate','./git-repo.service','BadRequestError','3845776pNWDkJ','380735aEvcfP','credentials','users/','get','3534888uppCwo','map','GitlabRepoService','projects','createRequest','full_path','/projects','640911AoeDxO','push','21VPqczR','Tokens','GitlabApiService','name','constructor','1977363vcMksz','defaultBranch','api','delete','master','__esModule','createRequestToRepo','defineProperty','fromGitlab','2657500IYVyTc','getUsername','ApiError','apiBody','groupId','78UQYhLD','GitlabCredentialsDto','getGroupPath','groupPath','groups/','design:paramtypes','autoInit','../../../../../core/errors/bad-request.error','apply','defaults','Inject','../../../../../core/errors/not-found.error','Git','typedi','update','private','../../providers.tokens','create','Service','object','length','decorate','(((.+)+)+)+$','34076196AABhgC','Repo','getOne','metadata','getGroup','createEmptyBranch','__param','public','../../credentials/dto/gitlab-credentials.dto','/projects/','toString','username'];a241_0x4e26=function(){return _0x1db724;};return a241_0x4e26();}(function(_0x706237,_0x28e5e5){const _0x55cccd=a241_0x4f2a,_0x397e3e=_0x706237();while(!![]){try{const _0x3aea4b=-parseInt(_0x55cccd(0x200))/0x1+-parseInt(_0x55cccd(0x1c3))/0x2+-parseInt(_0x55cccd(0x1ba))/0x3+-parseInt(_0x55cccd(0x1f9))/0x4+-parseInt(_0x55cccd(0x1f5))/0x5*(parseInt(_0x55cccd(0x1c8))/0x6)+parseInt(_0x55cccd(0x202))/0x7*(parseInt(_0x55cccd(0x1f4))/0x8)+parseInt(_0x55cccd(0x1df))/0x9;if(_0x3aea4b===_0x28e5e5)break;else _0x397e3e['push'](_0x397e3e['shift']());}catch(_0x2ef6c5){_0x397e3e['push'](_0x397e3e['shift']());}}}(a241_0x4e26,0xb13eb));const a241_0x23fbe4=(function(){let _0x1325c7=!![];return function(_0xc12de9,_0x3c6f24){const _0x2fd775=_0x1325c7?function(){const _0x1ebb2e=a241_0x4f2a;if(_0x3c6f24){const _0x666fef=_0x3c6f24[_0x1ebb2e(0x1d0)](_0xc12de9,arguments);return _0x3c6f24=null,_0x666fef;}}:function(){};return _0x1325c7=![],_0x2fd775;};}()),a241_0x59f64f=a241_0x23fbe4(this,function(){const _0x5b3f6a=a241_0x4f2a;return a241_0x59f64f['toString']()[_0x5b3f6a(0x1ef)](_0x5b3f6a(0x1de))[_0x5b3f6a(0x1e9)]()[_0x5b3f6a(0x1b9)](a241_0x59f64f)[_0x5b3f6a(0x1ef)]('(((.+)+)+)+$');});a241_0x59f64f();'use strict';function a241_0x4f2a(_0x270ba7,_0x29e0b0){const _0x2dde14=a241_0x4e26();return a241_0x4f2a=function(_0x59f64f,_0x23fbe4){_0x59f64f=_0x59f64f-0x1b7;let _0x4e26af=_0x2dde14[_0x59f64f];return _0x4e26af;},a241_0x4f2a(_0x270ba7,_0x29e0b0);}var __decorate=this&&this[a241_0x2eae14(0x1f1)]||function(_0x5826fd,_0x28e8d4,_0x47669d,_0x4454f8){const _0x35d72c=a241_0x2eae14;var _0x45fe94=arguments[_0x35d72c(0x1dc)],_0x3977ef=_0x45fe94<0x3?_0x28e8d4:_0x4454f8===null?_0x4454f8=Object['getOwnPropertyDescriptor'](_0x28e8d4,_0x47669d):_0x4454f8,_0x170b3b;if(typeof Reflect===_0x35d72c(0x1db)&&typeof Reflect['decorate']===_0x35d72c(0x1ed))_0x3977ef=Reflect[_0x35d72c(0x1dd)](_0x5826fd,_0x28e8d4,_0x47669d,_0x4454f8);else{for(var _0x4eb1c8=_0x5826fd[_0x35d72c(0x1dc)]-0x1;_0x4eb1c8>=0x0;_0x4eb1c8--)if(_0x170b3b=_0x5826fd[_0x4eb1c8])_0x3977ef=(_0x45fe94<0x3?_0x170b3b(_0x3977ef):_0x45fe94>0x3?_0x170b3b(_0x28e8d4,_0x47669d,_0x3977ef):_0x170b3b(_0x28e8d4,_0x47669d))||_0x3977ef;}return _0x45fe94>0x3&&_0x3977ef&&Object[_0x35d72c(0x1c1)](_0x28e8d4,_0x47669d,_0x3977ef),_0x3977ef;},__metadata=this&&this['__metadata']||function(_0x30c136,_0x5bd252){const _0x5c4d01=a241_0x2eae14;if(typeof Reflect===_0x5c4d01(0x1db)&&typeof Reflect[_0x5c4d01(0x1e2)]===_0x5c4d01(0x1ed))return Reflect[_0x5c4d01(0x1e2)](_0x30c136,_0x5bd252);},__param=this&&this[a241_0x2eae14(0x1e5)]||function(_0x31b1b0,_0x372994){return function(_0x38226b,_0x5b470a){_0x372994(_0x38226b,_0x5b470a,_0x31b1b0);};};Object[a241_0x2eae14(0x1c1)](exports,a241_0x2eae14(0x1bf),{'value':!![]}),exports[a241_0x2eae14(0x1fb)]=void 0x0;const bad_request_error_1=require(a241_0x2eae14(0x1cf)),not_found_error_1=require(a241_0x2eae14(0x1d3)),gitlab_api_service_1=require(a241_0x2eae14(0x1f0)),typedi_1=require(a241_0x2eae14(0x1d5)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a241_0x2eae14(0x1f2)),gitlab_credentials_dto_1=require(a241_0x2eae14(0x1e7)),providers_tokens_1=require(a241_0x2eae14(0x1d8));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x41159a,_0x14ec2a){const _0x45a2ce=a241_0x2eae14;super(_0x41159a),this[_0x45a2ce(0x1bc)]=_0x41159a,this[_0x45a2ce(0x1c7)]=_0x14ec2a[_0x45a2ce(0x1c7)],this[_0x45a2ce(0x1f6)]=_0x14ec2a;}async[a241_0x2eae14(0x1ca)](){const _0x14ddf1=a241_0x2eae14;if(!this[_0x14ddf1(0x1cb)]){const _0xf7f899=await this[_0x14ddf1(0x1bc)][_0x14ddf1(0x1e3)](this['groupId']);this[_0x14ddf1(0x1cb)]=_0xf7f899[_0x14ddf1(0x1fe)];}return this[_0x14ddf1(0x1cb)];}async[a241_0x2eae14(0x1c4)](){const _0x46b460=a241_0x2eae14;if(!this[_0x46b460(0x1ea)]){const _0x3e1af4=await this[_0x46b460(0x1bc)][_0x46b460(0x1eb)]();this[_0x46b460(0x1ea)]=_0x3e1af4[_0x46b460(0x1ea)];}return this[_0x46b460(0x1ea)];}async[a241_0x2eae14(0x1c0)](_0x2d42ca){const _0x2c40a0=a241_0x2eae14,_0x57d467=await(this[_0x2c40a0(0x1c7)]?this['getGroupPath']():this[_0x2c40a0(0x1c4)]()),_0x5120ab=this[_0x2c40a0(0x1bc)][_0x2c40a0(0x1fd)](this[_0x2c40a0(0x1ec)][_0x2c40a0(0x1d1)]['baseURL']+_0x2c40a0(0x1e8)+encodeURIComponent(_0x57d467+'/'+_0x2d42ca));return _0x5120ab;}async[a241_0x2eae14(0x1d9)](_0x3d5181){const _0x24d74f=a241_0x2eae14;try{const _0x1df2b0={'name':_0x3d5181['name'],'visibility':_0x3d5181[_0x24d74f(0x1d7)]?_0x24d74f(0x1d7):_0x24d74f(0x1e6),'namespace_id':this[_0x24d74f(0x1c7)],..._0x3d5181[_0x24d74f(0x1c6)]||{}},_0x5539de=await this[_0x24d74f(0x1ec)]['post'](_0x24d74f(0x1fc),_0x1df2b0),_0x751586=repo_class_1[_0x24d74f(0x1e0)][_0x24d74f(0x1c2)](_0x5539de,this[_0x24d74f(0x1bc)],this['credentials']);return _0x3d5181[_0x24d74f(0x1ce)]&&await git_internal_1[_0x24d74f(0x1d4)][_0x24d74f(0x1e4)](_0x751586,_0x3d5181[_0x24d74f(0x1bb)]||_0x24d74f(0x1be),'',this[_0x24d74f(0x1f6)]),this['getOne'](_0x751586['name']);}catch(_0x3de833){if(_0x3de833 instanceof api_error_1[_0x24d74f(0x1c5)])throw _0x3de833;throw new bad_request_error_1[(_0x24d74f(0x1f3))](_0x3de833);}}async[a241_0x2eae14(0x1e1)](_0x4c104f){const _0x5d742d=a241_0x2eae14;try{const _0x5b5de2=await this[_0x5d742d(0x1c0)](_0x4c104f),_0x2870fc=await _0x5b5de2[_0x5d742d(0x1f8)]('');return repo_class_1['Repo'][_0x5d742d(0x1c2)](_0x2870fc,this[_0x5d742d(0x1bc)],this[_0x5d742d(0x1f6)]);}catch(_0x101df0){if(_0x101df0 instanceof api_error_1[_0x5d742d(0x1c5)])throw _0x101df0;throw new not_found_error_1['NotFoundError'](_0x101df0);}}async['getAll'](){const _0x1a09bc=a241_0x2eae14;try{let _0x29723f='';if(this[_0x1a09bc(0x1c7)])_0x29723f=_0x1a09bc(0x1cc)+this['groupId']+'/projects';else{const _0x32b643=await this[_0x1a09bc(0x1c4)]();_0x29723f=_0x1a09bc(0x1f7)+_0x32b643+_0x1a09bc(0x1ff);}let _0x36b3a2=!![],_0x8f11c7=0x1;const _0x4338a1=[];do{const _0x41f5f9=await this[_0x1a09bc(0x1ec)]['get'](_0x29723f,{'params':{'page':_0x8f11c7,'per_page':0x64}});_0x4338a1[_0x1a09bc(0x201)](..._0x41f5f9),_0x36b3a2=_0x41f5f9['length']>0x0,_0x8f11c7+=0x1;}while(_0x36b3a2);return _0x4338a1[_0x1a09bc(0x1fa)](_0x44fb6e=>repo_class_1['Repo'][_0x1a09bc(0x1c2)](_0x44fb6e,this[_0x1a09bc(0x1bc)],this['credentials']));}catch(_0x1de0a3){if(_0x1de0a3 instanceof api_error_1[_0x1a09bc(0x1c5)])throw _0x1de0a3;throw new not_found_error_1[(_0x1a09bc(0x1ee))](_0x1de0a3);}}async[a241_0x2eae14(0x1d6)](_0xf61e9a,_0x19a9d9){const _0x26ee60=a241_0x2eae14;try{const _0x525f15=await this[_0x26ee60(0x1c0)](_0xf61e9a),_0x58a42e=await _0x525f15['put']('',{..._0x19a9d9,'path':_0x19a9d9[_0x26ee60(0x1b8)]});return repo_class_1[_0x26ee60(0x1e0)][_0x26ee60(0x1c2)](_0x58a42e,this[_0x26ee60(0x1bc)],this[_0x26ee60(0x1f6)]);}catch(_0x49fee4){if(_0x49fee4 instanceof api_error_1[_0x26ee60(0x1c5)])throw _0x49fee4;throw new not_found_error_1[(_0x26ee60(0x1ee))](_0x49fee4);}}async[a241_0x2eae14(0x1bd)](_0x4f738b){const _0x12a1f4=a241_0x2eae14;try{const _0x7fe7bf=await this[_0x12a1f4(0x1c0)](_0x4f738b);await _0x7fe7bf[_0x12a1f4(0x1bd)]('');}catch(_0x5d66fe){if(_0x5d66fe instanceof api_error_1['ApiError'])throw _0x5d66fe;throw new bad_request_error_1[(_0x12a1f4(0x1f3))](_0x5d66fe);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a241_0x2eae14(0x1da)])(),__param(0x1,(0x0,typedi_1[a241_0x2eae14(0x1d2)])(providers_tokens_1[a241_0x2eae14(0x203)][a241_0x2eae14(0x1f6)])),__metadata(a241_0x2eae14(0x1cd),[gitlab_api_service_1[a241_0x2eae14(0x1b7)],gitlab_credentials_dto_1[a241_0x2eae14(0x1c9)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;