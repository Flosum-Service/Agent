const a204_0x21ff1f=a204_0x2673;function a204_0x2673(_0x90f4bc,_0x5431a6){const _0x23f5a1=a204_0x3238();return a204_0x2673=function(_0x2efb29,_0x878fa2){_0x2efb29=_0x2efb29-0x70;let _0x323860=_0x23f5a1[_0x2efb29];return _0x323860;},a204_0x2673(_0x90f4bc,_0x5431a6);}(function(_0x360b1b,_0x594944){const _0x14cb16=a204_0x2673,_0x1baff1=_0x360b1b();while(!![]){try{const _0x25ed8d=parseInt(_0x14cb16(0x92))/0x1*(-parseInt(_0x14cb16(0xb1))/0x2)+-parseInt(_0x14cb16(0x7d))/0x3+-parseInt(_0x14cb16(0x90))/0x4*(parseInt(_0x14cb16(0x71))/0x5)+parseInt(_0x14cb16(0x88))/0x6+-parseInt(_0x14cb16(0xaa))/0x7+-parseInt(_0x14cb16(0xad))/0x8+parseInt(_0x14cb16(0x8c))/0x9;if(_0x25ed8d===_0x594944)break;else _0x1baff1['push'](_0x1baff1['shift']());}catch(_0x4bcbde){_0x1baff1['push'](_0x1baff1['shift']());}}}(a204_0x3238,0x7279a));const a204_0x878fa2=(function(){let _0x19d07d=!![];return function(_0x560d5f,_0x356fbd){const _0x5712bd=_0x19d07d?function(){const _0x31bd94=a204_0x2673;if(_0x356fbd){const _0xb56243=_0x356fbd[_0x31bd94(0x78)](_0x560d5f,arguments);return _0x356fbd=null,_0xb56243;}}:function(){};return _0x19d07d=![],_0x5712bd;};}()),a204_0x2efb29=a204_0x878fa2(this,function(){const _0x38f745=a204_0x2673;return a204_0x2efb29[_0x38f745(0x75)]()[_0x38f745(0x98)](_0x38f745(0xa2))[_0x38f745(0x75)]()[_0x38f745(0x79)](a204_0x2efb29)[_0x38f745(0x98)](_0x38f745(0xa2));});a204_0x2efb29();'use strict';var __decorate=this&&this[a204_0x21ff1f(0x8e)]||function(_0x2d61f2,_0x3e2729,_0x421f1a,_0x3216c3){const _0x1d8319=a204_0x21ff1f;var _0x96b96e=arguments[_0x1d8319(0x94)],_0x43cae2=_0x96b96e<0x3?_0x3e2729:_0x3216c3===null?_0x3216c3=Object['getOwnPropertyDescriptor'](_0x3e2729,_0x421f1a):_0x3216c3,_0x4cc785;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x1d8319(0x87))_0x43cae2=Reflect[_0x1d8319(0x72)](_0x2d61f2,_0x3e2729,_0x421f1a,_0x3216c3);else{for(var _0x294a0e=_0x2d61f2['length']-0x1;_0x294a0e>=0x0;_0x294a0e--)if(_0x4cc785=_0x2d61f2[_0x294a0e])_0x43cae2=(_0x96b96e<0x3?_0x4cc785(_0x43cae2):_0x96b96e>0x3?_0x4cc785(_0x3e2729,_0x421f1a,_0x43cae2):_0x4cc785(_0x3e2729,_0x421f1a))||_0x43cae2;}return _0x96b96e>0x3&&_0x43cae2&&Object[_0x1d8319(0x74)](_0x3e2729,_0x421f1a,_0x43cae2),_0x43cae2;},__metadata=this&&this[a204_0x21ff1f(0x77)]||function(_0x38efac,_0x2e33b4){const _0x194d65=a204_0x21ff1f;if(typeof Reflect==='object'&&typeof Reflect[_0x194d65(0x7a)]===_0x194d65(0x87))return Reflect[_0x194d65(0x7a)](_0x38efac,_0x2e33b4);},__param=this&&this[a204_0x21ff1f(0x9d)]||function(_0x31cc39,_0x4e0ed3){return function(_0x1eb787,_0x14e6bc){_0x4e0ed3(_0x1eb787,_0x14e6bc,_0x31cc39);};};function a204_0x3238(){const _0x316937=['groups/','function','2658642jMVNQm','design:paramtypes','../../../internal/git.internal','groupPath','23017437npykSc','NotFoundError','__decorate','put','980HQTvqx','request','3qrpLND','credentials','length','getAll','public','__esModule','search','api','fromGitlab','createRequestToRepo','./git-repo.service','__param','../../credentials/dto/gitlab-credentials.dto','getOne','createEmptyBranch','ApiError','(((.+)+)+)+$','users/','Repo','/projects/','createRequest','groupId','master','../../../../../core/errors/not-found.error','2012311DbCOuL','projects','private','5476808EaXvZG','defaultBranch','../../../../../core/errors/bad-request.error','delete','402722OxZWnY','autoInit','getGroupPath','create','../../providers.tokens','getGroup','baseURL','update','Tokens','name','getUsername','5410tURpLI','decorate','username','defineProperty','toString','getCurrentUser','__metadata','apply','constructor','metadata','../repo.class','/projects','2071389iXKNOj','GitlabCredentialsDto','GitlabRepoService','post','map','Inject','../../../../../core/errors/api.error','defaults','BadRequestError'];a204_0x3238=function(){return _0x316937;};return a204_0x3238();}Object[a204_0x21ff1f(0x74)](exports,a204_0x21ff1f(0x97),{'value':!![]}),exports[a204_0x21ff1f(0x7f)]=void 0x0;const bad_request_error_1=require(a204_0x21ff1f(0xaf)),not_found_error_1=require(a204_0x21ff1f(0xa9)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require('typedi'),api_error_1=require(a204_0x21ff1f(0x83)),git_internal_1=require(a204_0x21ff1f(0x8a)),repo_class_1=require(a204_0x21ff1f(0x7b)),git_repo_service_1=require(a204_0x21ff1f(0x9c)),gitlab_credentials_dto_1=require(a204_0x21ff1f(0x9e)),providers_tokens_1=require(a204_0x21ff1f(0xb5));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x30bda3,_0x1d038d){const _0x545687=a204_0x21ff1f;super(_0x30bda3),this['api']=_0x30bda3,this[_0x545687(0xa7)]=_0x1d038d[_0x545687(0xa7)],this[_0x545687(0x93)]=_0x1d038d;}async[a204_0x21ff1f(0xb3)](){const _0x29a141=a204_0x21ff1f;if(!this[_0x29a141(0x8b)]){const _0x49cb7f=await this[_0x29a141(0x99)][_0x29a141(0xb6)](this[_0x29a141(0xa7)]);this['groupPath']=_0x49cb7f['full_path'];}return this[_0x29a141(0x8b)];}async[a204_0x21ff1f(0x70)](){const _0x3795cd=a204_0x21ff1f;if(!this['username']){const _0x2164db=await this['api'][_0x3795cd(0x76)]();this[_0x3795cd(0x73)]=_0x2164db[_0x3795cd(0x73)];}return this['username'];}async[a204_0x21ff1f(0x9b)](_0x1a49fc){const _0x23b753=a204_0x21ff1f,_0x4de67f=await(this[_0x23b753(0xa7)]?this['getGroupPath']():this['getUsername']()),_0x464fa6=this[_0x23b753(0x99)][_0x23b753(0xa6)](this[_0x23b753(0x91)][_0x23b753(0x84)][_0x23b753(0xb7)]+_0x23b753(0xa5)+encodeURIComponent(_0x4de67f+'/'+_0x1a49fc));return _0x464fa6;}async[a204_0x21ff1f(0xb4)](_0x24d515){const _0x30f170=a204_0x21ff1f;try{const _0x5ce37e={'name':_0x24d515[_0x30f170(0xba)],'visibility':_0x24d515[_0x30f170(0xac)]?_0x30f170(0xac):_0x30f170(0x96),'namespace_id':this[_0x30f170(0xa7)],..._0x24d515['apiBody']||{}},_0x57aa53=await this['request'][_0x30f170(0x80)](_0x30f170(0xab),_0x5ce37e),_0x1e9d3c=repo_class_1[_0x30f170(0xa4)][_0x30f170(0x9a)](_0x57aa53,this['api'],this[_0x30f170(0x93)]);return _0x24d515[_0x30f170(0xb2)]&&await git_internal_1['Git'][_0x30f170(0xa0)](_0x1e9d3c,_0x24d515[_0x30f170(0xae)]||_0x30f170(0xa8),'',this[_0x30f170(0x93)]),this[_0x30f170(0x9f)](_0x1e9d3c[_0x30f170(0xba)]);}catch(_0x5a35e4){if(_0x5a35e4 instanceof api_error_1['ApiError'])throw _0x5a35e4;throw new bad_request_error_1[(_0x30f170(0x85))](_0x5a35e4);}}async[a204_0x21ff1f(0x9f)](_0x250bd8){const _0xbee049=a204_0x21ff1f;try{const _0xcccd6=await this[_0xbee049(0x9b)](_0x250bd8),_0x4b9bce=await _0xcccd6['get']('');return repo_class_1[_0xbee049(0xa4)][_0xbee049(0x9a)](_0x4b9bce,this[_0xbee049(0x99)],this['credentials']);}catch(_0x45de23){if(_0x45de23 instanceof api_error_1[_0xbee049(0xa1)])throw _0x45de23;throw new not_found_error_1[(_0xbee049(0x8d))](_0x45de23);}}async[a204_0x21ff1f(0x95)](){const _0x4bfcc7=a204_0x21ff1f;try{let _0x448dbd='';if(this[_0x4bfcc7(0xa7)])_0x448dbd=_0x4bfcc7(0x86)+this[_0x4bfcc7(0xa7)]+_0x4bfcc7(0x7c);else{const _0xe481bb=await this[_0x4bfcc7(0x70)]();_0x448dbd=_0x4bfcc7(0xa3)+_0xe481bb+'/projects';}let _0x28f765=!![],_0xdf9905=0x1;const _0x5c9955=[];do{const _0x1fc4c4=await this[_0x4bfcc7(0x91)]['get'](_0x448dbd,{'params':{'page':_0xdf9905,'per_page':0x64}});_0x5c9955['push'](..._0x1fc4c4),_0x28f765=_0x1fc4c4[_0x4bfcc7(0x94)]>0x0,_0xdf9905+=0x1;}while(_0x28f765);return _0x5c9955[_0x4bfcc7(0x81)](_0x1b09cf=>repo_class_1['Repo'][_0x4bfcc7(0x9a)](_0x1b09cf,this['api'],this[_0x4bfcc7(0x93)]));}catch(_0x438781){if(_0x438781 instanceof api_error_1[_0x4bfcc7(0xa1)])throw _0x438781;throw new not_found_error_1[(_0x4bfcc7(0x8d))](_0x438781);}}async[a204_0x21ff1f(0xb8)](_0xf9a138,_0x4d5118){const _0x1f0a65=a204_0x21ff1f;try{const _0x2160a8=await this[_0x1f0a65(0x9b)](_0xf9a138),_0x537d94=await _0x2160a8[_0x1f0a65(0x8f)]('',{..._0x4d5118,'path':_0x4d5118[_0x1f0a65(0xba)]});return repo_class_1[_0x1f0a65(0xa4)]['fromGitlab'](_0x537d94,this[_0x1f0a65(0x99)],this[_0x1f0a65(0x93)]);}catch(_0x1b8e01){if(_0x1b8e01 instanceof api_error_1[_0x1f0a65(0xa1)])throw _0x1b8e01;throw new not_found_error_1[(_0x1f0a65(0x8d))](_0x1b8e01);}}async[a204_0x21ff1f(0xb0)](_0x21090d){const _0x4d41cc=a204_0x21ff1f;try{const _0x56cdbf=await this['createRequestToRepo'](_0x21090d);await _0x56cdbf[_0x4d41cc(0xb0)]('');}catch(_0x1c562a){if(_0x1c562a instanceof api_error_1[_0x4d41cc(0xa1)])throw _0x1c562a;throw new bad_request_error_1[(_0x4d41cc(0x85))](_0x1c562a);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a204_0x21ff1f(0x82)])(providers_tokens_1[a204_0x21ff1f(0xb9)]['credentials'])),__metadata(a204_0x21ff1f(0x89),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a204_0x21ff1f(0x7e)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;