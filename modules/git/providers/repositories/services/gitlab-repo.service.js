const a170_0x3f61c5=a170_0x3db5;(function(_0xc9faf2,_0x175431){const _0x30cc3c=a170_0x3db5,_0x2bf667=_0xc9faf2();while(!![]){try{const _0x19cd21=-parseInt(_0x30cc3c(0x135))/0x1+-parseInt(_0x30cc3c(0x15f))/0x2+-parseInt(_0x30cc3c(0x176))/0x3+-parseInt(_0x30cc3c(0x16c))/0x4+parseInt(_0x30cc3c(0x134))/0x5*(parseInt(_0x30cc3c(0x152))/0x6)+-parseInt(_0x30cc3c(0x156))/0x7*(-parseInt(_0x30cc3c(0x168))/0x8)+parseInt(_0x30cc3c(0x16f))/0x9;if(_0x19cd21===_0x175431)break;else _0x2bf667['push'](_0x2bf667['shift']());}catch(_0x3ec34c){_0x2bf667['push'](_0x2bf667['shift']());}}}(a170_0x16dc,0x405fa));const a170_0x5d9ae1=(function(){let _0x342f35=!![];return function(_0x464584,_0x574d68){const _0x123815=_0x342f35?function(){const _0x421df2=a170_0x3db5;if(_0x574d68){const _0x408fd2=_0x574d68[_0x421df2(0x174)](_0x464584,arguments);return _0x574d68=null,_0x408fd2;}}:function(){};return _0x342f35=![],_0x123815;};}()),a170_0x585b90=a170_0x5d9ae1(this,function(){const _0x69530e=a170_0x3db5;return a170_0x585b90['toString']()[_0x69530e(0x14d)](_0x69530e(0x139))[_0x69530e(0x172)]()['constructor'](a170_0x585b90)[_0x69530e(0x14d)]('(((.+)+)+)+$');});function a170_0x16dc(){const _0x360e50=['../repo.class','baseURL','function','autoInit','373140cxkTwR','../../../internal/git.internal','createRequestToRepo','GitlabCredentialsDto','getUsername','users/','../../providers.tokens','/projects/','getGroupPath','408264azjOPy','private','../../api/gitlab-api.service','__param','453792vqXsuJ','credentials','put','5626161fzlYVR','GitlabRepoService','post','toString','NotFoundError','apply','map','456714VWEHLe','master','getOne','BadRequestError','1977610bcsKfP','355754yuUOyn','full_path','Git','apiBody','(((.+)+)+)+$','username','length','request','groupId','/projects','defaults','./git-repo.service','api','__decorate','Service','ApiError','typedi','metadata','../../../../../core/errors/bad-request.error','delete','defineProperty','createRequest','fromGitlab','object','search','decorate','Repo','design:paramtypes','../../../../../core/errors/not-found.error','6SNukoY','groupPath','name','Tokens','7QxmsRp','getGroup','get','../../credentials/dto/gitlab-credentials.dto','update'];a170_0x16dc=function(){return _0x360e50;};return a170_0x16dc();}a170_0x585b90();'use strict';function a170_0x3db5(_0x178773,_0xc70ef1){const _0x34a709=a170_0x16dc();return a170_0x3db5=function(_0x585b90,_0x5d9ae1){_0x585b90=_0x585b90-0x133;let _0x16dca9=_0x34a709[_0x585b90];return _0x16dca9;},a170_0x3db5(_0x178773,_0xc70ef1);}var __decorate=this&&this[a170_0x3f61c5(0x142)]||function(_0x1f06a2,_0x4a8c8b,_0x629084,_0x4299eb){const _0x374ffc=a170_0x3f61c5;var _0x22954f=arguments[_0x374ffc(0x13b)],_0x13cb71=_0x22954f<0x3?_0x4a8c8b:_0x4299eb===null?_0x4299eb=Object['getOwnPropertyDescriptor'](_0x4a8c8b,_0x629084):_0x4299eb,_0x25bde1;if(typeof Reflect===_0x374ffc(0x14c)&&typeof Reflect[_0x374ffc(0x14e)]===_0x374ffc(0x15d))_0x13cb71=Reflect['decorate'](_0x1f06a2,_0x4a8c8b,_0x629084,_0x4299eb);else{for(var _0x812e1c=_0x1f06a2[_0x374ffc(0x13b)]-0x1;_0x812e1c>=0x0;_0x812e1c--)if(_0x25bde1=_0x1f06a2[_0x812e1c])_0x13cb71=(_0x22954f<0x3?_0x25bde1(_0x13cb71):_0x22954f>0x3?_0x25bde1(_0x4a8c8b,_0x629084,_0x13cb71):_0x25bde1(_0x4a8c8b,_0x629084))||_0x13cb71;}return _0x22954f>0x3&&_0x13cb71&&Object[_0x374ffc(0x149)](_0x4a8c8b,_0x629084,_0x13cb71),_0x13cb71;},__metadata=this&&this['__metadata']||function(_0xffe0c7,_0x46c6f7){const _0x505517=a170_0x3f61c5;if(typeof Reflect===_0x505517(0x14c)&&typeof Reflect[_0x505517(0x146)]===_0x505517(0x15d))return Reflect['metadata'](_0xffe0c7,_0x46c6f7);},__param=this&&this[a170_0x3f61c5(0x16b)]||function(_0x30ed1d,_0x534f60){return function(_0x26c9a9,_0x109466){_0x534f60(_0x26c9a9,_0x109466,_0x30ed1d);};};Object[a170_0x3f61c5(0x149)](exports,'__esModule',{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a170_0x3f61c5(0x147)),not_found_error_1=require(a170_0x3f61c5(0x151)),gitlab_api_service_1=require(a170_0x3f61c5(0x16a)),typedi_1=require(a170_0x3f61c5(0x145)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a170_0x3f61c5(0x160)),repo_class_1=require(a170_0x3f61c5(0x15b)),git_repo_service_1=require(a170_0x3f61c5(0x140)),gitlab_credentials_dto_1=require(a170_0x3f61c5(0x159)),providers_tokens_1=require(a170_0x3f61c5(0x165));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x41c5ba,_0x195fcd){const _0x1df327=a170_0x3f61c5;super(_0x41c5ba),this[_0x1df327(0x141)]=_0x41c5ba,this[_0x1df327(0x13d)]=_0x195fcd[_0x1df327(0x13d)],this[_0x1df327(0x16d)]=_0x195fcd;}async[a170_0x3f61c5(0x167)](){const _0x3e2006=a170_0x3f61c5;if(!this[_0x3e2006(0x153)]){const _0xf66393=await this[_0x3e2006(0x141)][_0x3e2006(0x157)](this[_0x3e2006(0x13d)]);this[_0x3e2006(0x153)]=_0xf66393[_0x3e2006(0x136)];}return this[_0x3e2006(0x153)];}async[a170_0x3f61c5(0x163)](){const _0x5a3484=a170_0x3f61c5;if(!this[_0x5a3484(0x13a)]){const _0xaa1add=await this[_0x5a3484(0x141)]['getCurrentUser']();this['username']=_0xaa1add[_0x5a3484(0x13a)];}return this['username'];}async[a170_0x3f61c5(0x161)](_0x2d66fe){const _0x2ddbf1=a170_0x3f61c5,_0x431e93=await(this[_0x2ddbf1(0x13d)]?this[_0x2ddbf1(0x167)]():this[_0x2ddbf1(0x163)]()),_0x4b146e=this[_0x2ddbf1(0x141)][_0x2ddbf1(0x14a)](this['request'][_0x2ddbf1(0x13f)][_0x2ddbf1(0x15c)]+_0x2ddbf1(0x166)+encodeURIComponent(_0x431e93+'/'+_0x2d66fe));return _0x4b146e;}async['create'](_0x263ce8){const _0x395e38=a170_0x3f61c5;try{const _0x1dccb1={'name':_0x263ce8[_0x395e38(0x154)],'visibility':_0x263ce8[_0x395e38(0x169)]?_0x395e38(0x169):'public','namespace_id':this[_0x395e38(0x13d)],..._0x263ce8[_0x395e38(0x138)]||{}},_0x47371a=await this[_0x395e38(0x13c)][_0x395e38(0x171)]('projects',_0x1dccb1),_0x3a1f3e=repo_class_1[_0x395e38(0x14f)][_0x395e38(0x14b)](_0x47371a,this[_0x395e38(0x141)],this[_0x395e38(0x16d)]);return _0x263ce8[_0x395e38(0x15e)]&&await git_internal_1[_0x395e38(0x137)]['createEmptyBranch'](_0x3a1f3e,_0x263ce8['defaultBranch']||_0x395e38(0x177),'',this[_0x395e38(0x16d)]),this[_0x395e38(0x178)](_0x3a1f3e[_0x395e38(0x154)]);}catch(_0x132463){if(_0x132463 instanceof api_error_1[_0x395e38(0x144)])throw _0x132463;throw new bad_request_error_1[(_0x395e38(0x133))](_0x132463);}}async[a170_0x3f61c5(0x178)](_0x5828b3){const _0x319653=a170_0x3f61c5;try{const _0x1c7f77=await this['createRequestToRepo'](_0x5828b3),_0x3758e6=await _0x1c7f77[_0x319653(0x158)]('');return repo_class_1['Repo'][_0x319653(0x14b)](_0x3758e6,this[_0x319653(0x141)],this[_0x319653(0x16d)]);}catch(_0x20e947){if(_0x20e947 instanceof api_error_1[_0x319653(0x144)])throw _0x20e947;throw new not_found_error_1[(_0x319653(0x173))](_0x20e947);}}async['getAll'](){const _0x32f284=a170_0x3f61c5;try{let _0x422a96='';if(this[_0x32f284(0x13d)])_0x422a96='groups/'+this[_0x32f284(0x13d)]+_0x32f284(0x13e);else{const _0x32ae9a=await this['getUsername']();_0x422a96=_0x32f284(0x164)+_0x32ae9a+_0x32f284(0x13e);}let _0x59f3f6=!![],_0x2d2d74=0x1;const _0x19aa68=[];do{const _0x833fcc=await this[_0x32f284(0x13c)]['get'](_0x422a96,{'params':{'page':_0x2d2d74,'per_page':0x64}});_0x19aa68['push'](..._0x833fcc),_0x59f3f6=_0x833fcc[_0x32f284(0x13b)]>0x0,_0x2d2d74+=0x1;}while(_0x59f3f6);return _0x19aa68[_0x32f284(0x175)](_0x11bc8e=>repo_class_1[_0x32f284(0x14f)][_0x32f284(0x14b)](_0x11bc8e,this['api'],this[_0x32f284(0x16d)]));}catch(_0x4c6428){if(_0x4c6428 instanceof api_error_1['ApiError'])throw _0x4c6428;throw new not_found_error_1[(_0x32f284(0x173))](_0x4c6428);}}async[a170_0x3f61c5(0x15a)](_0x12116e,_0x5df23d){const _0x33418e=a170_0x3f61c5;try{const _0x25a492=await this[_0x33418e(0x161)](_0x12116e),_0xf14850=await _0x25a492[_0x33418e(0x16e)]('',{..._0x5df23d,'path':_0x5df23d['name']});return repo_class_1[_0x33418e(0x14f)][_0x33418e(0x14b)](_0xf14850,this[_0x33418e(0x141)],this[_0x33418e(0x16d)]);}catch(_0x521ef4){if(_0x521ef4 instanceof api_error_1['ApiError'])throw _0x521ef4;throw new not_found_error_1[(_0x33418e(0x173))](_0x521ef4);}}async[a170_0x3f61c5(0x148)](_0x18e66b){const _0x6d88ff=a170_0x3f61c5;try{const _0x4c9011=await this[_0x6d88ff(0x161)](_0x18e66b);await _0x4c9011[_0x6d88ff(0x148)]('');}catch(_0x359122){if(_0x359122 instanceof api_error_1[_0x6d88ff(0x144)])throw _0x359122;throw new bad_request_error_1[(_0x6d88ff(0x133))](_0x359122);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a170_0x3f61c5(0x143)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a170_0x3f61c5(0x155)][a170_0x3f61c5(0x16d)])),__metadata(a170_0x3f61c5(0x150),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a170_0x3f61c5(0x162)]])],GitlabRepoService),exports[a170_0x3f61c5(0x170)]=GitlabRepoService;