const a203_0x124ba0=a203_0x5578;function a203_0x5578(_0x3ed8e5,_0x3853fc){const _0x1f2dee=a203_0x2ebf();return a203_0x5578=function(_0xced06,_0x5d1944){_0xced06=_0xced06-0x7a;let _0x2ebf2f=_0x1f2dee[_0xced06];return _0x2ebf2f;},a203_0x5578(_0x3ed8e5,_0x3853fc);}(function(_0x8cfbf3,_0x258008){const _0xa775fa=a203_0x5578,_0x6852ff=_0x8cfbf3();while(!![]){try{const _0x5b8f80=parseInt(_0xa775fa(0xbc))/0x1*(-parseInt(_0xa775fa(0x9d))/0x2)+-parseInt(_0xa775fa(0x83))/0x3*(parseInt(_0xa775fa(0x7a))/0x4)+-parseInt(_0xa775fa(0xc4))/0x5*(parseInt(_0xa775fa(0xbf))/0x6)+parseInt(_0xa775fa(0xbe))/0x7+-parseInt(_0xa775fa(0x81))/0x8+-parseInt(_0xa775fa(0x98))/0x9+parseInt(_0xa775fa(0xa7))/0xa*(parseInt(_0xa775fa(0x84))/0xb);if(_0x5b8f80===_0x258008)break;else _0x6852ff['push'](_0x6852ff['shift']());}catch(_0x51949){_0x6852ff['push'](_0x6852ff['shift']());}}}(a203_0x2ebf,0x9b738));const a203_0x5d1944=(function(){let _0x3cc2be=!![];return function(_0x259656,_0x4fb6f0){const _0x17c6e6=_0x3cc2be?function(){const _0x59878c=a203_0x5578;if(_0x4fb6f0){const _0x1a7f55=_0x4fb6f0[_0x59878c(0xaa)](_0x259656,arguments);return _0x4fb6f0=null,_0x1a7f55;}}:function(){};return _0x3cc2be=![],_0x17c6e6;};}()),a203_0xced06=a203_0x5d1944(this,function(){const _0x57cdc9=a203_0x5578;return a203_0xced06[_0x57cdc9(0xb4)]()[_0x57cdc9(0x86)](_0x57cdc9(0xba))[_0x57cdc9(0xb4)]()[_0x57cdc9(0xc1)](a203_0xced06)[_0x57cdc9(0x86)](_0x57cdc9(0xba));});function a203_0x2ebf(){const _0x2c1d17=['5137391GKgLJi','5970PThPEG','groupId','constructor','getOne','getAll','3235DXieYy','GitRepoService','typedi','4781156MTlcoV','createEmptyBranch','delete','NotFoundError','createRequestToRepo','request','design:paramtypes','9271224qEXNQC','private','3HGBGvz','583KIigZW','put','search','groups/','getUsername','/projects','length','../repo.class','object','GitlabRepoService','../../../internal/git.internal','fromGitlab','../../credentials/dto/gitlab-credentials.dto','createRequest','api','public','./git-repo.service','getGroupPath','credentials','getOwnPropertyDescriptor','402714AIcWBV','ApiError','/projects/','Repo','projects','882778TNcCJL','getCurrentUser','create','Service','Inject','../../../../../core/errors/api.error','metadata','autoInit','name','defaults','722320VFExdH','users/','username','apply','decorate','../../../../../core/errors/bad-request.error','push','GitlabCredentialsDto','function','full_path','apiBody','get','map','toString','groupPath','__param','__esModule','__decorate','../../providers.tokens','(((.+)+)+)+$','BadRequestError','2KicKQT','defineProperty'];a203_0x2ebf=function(){return _0x2c1d17;};return a203_0x2ebf();}a203_0xced06();'use strict';var __decorate=this&&this[a203_0x124ba0(0xb8)]||function(_0x16181e,_0x496e9b,_0x4de595,_0x2b042c){const _0x14f364=a203_0x124ba0;var _0x24ede0=arguments['length'],_0x512ca2=_0x24ede0<0x3?_0x496e9b:_0x2b042c===null?_0x2b042c=Object[_0x14f364(0x97)](_0x496e9b,_0x4de595):_0x2b042c,_0xe512a7;if(typeof Reflect===_0x14f364(0x8c)&&typeof Reflect['decorate']===_0x14f364(0xaf))_0x512ca2=Reflect[_0x14f364(0xab)](_0x16181e,_0x496e9b,_0x4de595,_0x2b042c);else{for(var _0x2805fb=_0x16181e['length']-0x1;_0x2805fb>=0x0;_0x2805fb--)if(_0xe512a7=_0x16181e[_0x2805fb])_0x512ca2=(_0x24ede0<0x3?_0xe512a7(_0x512ca2):_0x24ede0>0x3?_0xe512a7(_0x496e9b,_0x4de595,_0x512ca2):_0xe512a7(_0x496e9b,_0x4de595))||_0x512ca2;}return _0x24ede0>0x3&&_0x512ca2&&Object[_0x14f364(0xbd)](_0x496e9b,_0x4de595,_0x512ca2),_0x512ca2;},__metadata=this&&this['__metadata']||function(_0x399108,_0x3407a7){const _0x22d839=a203_0x124ba0;if(typeof Reflect===_0x22d839(0x8c)&&typeof Reflect[_0x22d839(0xa3)]===_0x22d839(0xaf))return Reflect[_0x22d839(0xa3)](_0x399108,_0x3407a7);},__param=this&&this[a203_0x124ba0(0xb6)]||function(_0x4843ec,_0x261265){return function(_0x5a1d2f,_0x5969c6){_0x261265(_0x5a1d2f,_0x5969c6,_0x4843ec);};};Object[a203_0x124ba0(0xbd)](exports,a203_0x124ba0(0xb7),{'value':!![]}),exports[a203_0x124ba0(0x8d)]=void 0x0;const bad_request_error_1=require(a203_0x124ba0(0xac)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a203_0x124ba0(0xc6)),api_error_1=require(a203_0x124ba0(0xa2)),git_internal_1=require(a203_0x124ba0(0x8e)),repo_class_1=require(a203_0x124ba0(0x8b)),git_repo_service_1=require(a203_0x124ba0(0x94)),gitlab_credentials_dto_1=require(a203_0x124ba0(0x90)),providers_tokens_1=require(a203_0x124ba0(0xb9));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a203_0x124ba0(0xc5)]{constructor(_0x2fce18,_0x3169e1){const _0x139971=a203_0x124ba0;super(_0x2fce18),this[_0x139971(0x92)]=_0x2fce18,this[_0x139971(0xc0)]=_0x3169e1['groupId'],this[_0x139971(0x96)]=_0x3169e1;}async[a203_0x124ba0(0x95)](){const _0x3d870c=a203_0x124ba0;if(!this['groupPath']){const _0x4e4fbc=await this['api']['getGroup'](this[_0x3d870c(0xc0)]);this[_0x3d870c(0xb5)]=_0x4e4fbc[_0x3d870c(0xb0)];}return this[_0x3d870c(0xb5)];}async[a203_0x124ba0(0x88)](){const _0x50a24e=a203_0x124ba0;if(!this[_0x50a24e(0xa9)]){const _0x5a89ff=await this['api'][_0x50a24e(0x9e)]();this['username']=_0x5a89ff[_0x50a24e(0xa9)];}return this[_0x50a24e(0xa9)];}async['createRequestToRepo'](_0x1f8571){const _0x23c37a=a203_0x124ba0,_0x2a2ee6=await(this[_0x23c37a(0xc0)]?this['getGroupPath']():this[_0x23c37a(0x88)]()),_0x1c70fe=this[_0x23c37a(0x92)][_0x23c37a(0x91)](this[_0x23c37a(0x7f)][_0x23c37a(0xa6)]['baseURL']+_0x23c37a(0x9a)+encodeURIComponent(_0x2a2ee6+'/'+_0x1f8571));return _0x1c70fe;}async[a203_0x124ba0(0x9f)](_0x1d7dab){const _0x101d53=a203_0x124ba0;try{const _0x31464a={'name':_0x1d7dab[_0x101d53(0xa5)],'visibility':_0x1d7dab[_0x101d53(0x82)]?_0x101d53(0x82):_0x101d53(0x93),'namespace_id':this['groupId'],..._0x1d7dab[_0x101d53(0xb1)]||{}},_0x415b41=await this['request']['post'](_0x101d53(0x9c),_0x31464a),_0x3a692d=repo_class_1['Repo']['fromGitlab'](_0x415b41,this[_0x101d53(0x92)],this[_0x101d53(0x96)]);return _0x1d7dab[_0x101d53(0xa4)]&&await git_internal_1['Git'][_0x101d53(0x7b)](_0x3a692d,_0x1d7dab['defaultBranch']||'master','',this[_0x101d53(0x96)]),this[_0x101d53(0xc2)](_0x3a692d[_0x101d53(0xa5)]);}catch(_0x101793){if(_0x101793 instanceof api_error_1['ApiError'])throw _0x101793;throw new bad_request_error_1['BadRequestError'](_0x101793);}}async[a203_0x124ba0(0xc2)](_0x28bc43){const _0x1e1a64=a203_0x124ba0;try{const _0x5444f4=await this[_0x1e1a64(0x7e)](_0x28bc43),_0x17f6b4=await _0x5444f4[_0x1e1a64(0xb2)]('');return repo_class_1[_0x1e1a64(0x9b)]['fromGitlab'](_0x17f6b4,this['api'],this['credentials']);}catch(_0x3b0991){if(_0x3b0991 instanceof api_error_1[_0x1e1a64(0x99)])throw _0x3b0991;throw new not_found_error_1[(_0x1e1a64(0x7d))](_0x3b0991);}}async[a203_0x124ba0(0xc3)](){const _0x57b9ea=a203_0x124ba0;try{let _0x4f091f='';if(this[_0x57b9ea(0xc0)])_0x4f091f=_0x57b9ea(0x87)+this[_0x57b9ea(0xc0)]+_0x57b9ea(0x89);else{const _0x5c1c07=await this['getUsername']();_0x4f091f=_0x57b9ea(0xa8)+_0x5c1c07+_0x57b9ea(0x89);}let _0x420d65=!![],_0xd6bb86=0x1;const _0x1f85dd=[];do{const _0xdc179=await this[_0x57b9ea(0x7f)][_0x57b9ea(0xb2)](_0x4f091f,{'params':{'page':_0xd6bb86,'per_page':0x64}});_0x1f85dd[_0x57b9ea(0xad)](..._0xdc179),_0x420d65=_0xdc179[_0x57b9ea(0x8a)]>0x0,_0xd6bb86+=0x1;}while(_0x420d65);return _0x1f85dd[_0x57b9ea(0xb3)](_0x522775=>repo_class_1[_0x57b9ea(0x9b)][_0x57b9ea(0x8f)](_0x522775,this[_0x57b9ea(0x92)],this[_0x57b9ea(0x96)]));}catch(_0x4b3358){if(_0x4b3358 instanceof api_error_1['ApiError'])throw _0x4b3358;throw new not_found_error_1[(_0x57b9ea(0x7d))](_0x4b3358);}}async['update'](_0x30acf3,_0xedb6fb){const _0x5e3c76=a203_0x124ba0;try{const _0x3e293d=await this[_0x5e3c76(0x7e)](_0x30acf3),_0x37e3e3=await _0x3e293d[_0x5e3c76(0x85)]('',{..._0xedb6fb,'path':_0xedb6fb[_0x5e3c76(0xa5)]});return repo_class_1['Repo'][_0x5e3c76(0x8f)](_0x37e3e3,this[_0x5e3c76(0x92)],this[_0x5e3c76(0x96)]);}catch(_0x2d2a0e){if(_0x2d2a0e instanceof api_error_1[_0x5e3c76(0x99)])throw _0x2d2a0e;throw new not_found_error_1[(_0x5e3c76(0x7d))](_0x2d2a0e);}}async['delete'](_0x363086){const _0x2db49f=a203_0x124ba0;try{const _0x12677a=await this[_0x2db49f(0x7e)](_0x363086);await _0x12677a[_0x2db49f(0x7c)]('');}catch(_0x373bb6){if(_0x373bb6 instanceof api_error_1[_0x2db49f(0x99)])throw _0x373bb6;throw new bad_request_error_1[(_0x2db49f(0xbb))](_0x373bb6);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a203_0x124ba0(0xa0)])(),__param(0x1,(0x0,typedi_1[a203_0x124ba0(0xa1)])(providers_tokens_1['Tokens'][a203_0x124ba0(0x96)])),__metadata(a203_0x124ba0(0x80),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a203_0x124ba0(0xae)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;