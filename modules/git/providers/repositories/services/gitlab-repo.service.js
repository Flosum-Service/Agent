const a240_0x1ff3d3=a240_0x3e36;(function(_0x580267,_0x563b86){const _0x4c458f=a240_0x3e36,_0xa07257=_0x580267();while(!![]){try{const _0x454c36=parseInt(_0x4c458f(0xad))/0x1*(-parseInt(_0x4c458f(0x95))/0x2)+parseInt(_0x4c458f(0xbb))/0x3+-parseInt(_0x4c458f(0xa9))/0x4*(parseInt(_0x4c458f(0x9b))/0x5)+parseInt(_0x4c458f(0xbf))/0x6+parseInt(_0x4c458f(0x8b))/0x7+parseInt(_0x4c458f(0xc7))/0x8+-parseInt(_0x4c458f(0xc6))/0x9;if(_0x454c36===_0x563b86)break;else _0xa07257['push'](_0xa07257['shift']());}catch(_0x156e93){_0xa07257['push'](_0xa07257['shift']());}}}(a240_0x417a,0xdb0d2));const a240_0x1b22ad=(function(){let _0x133d71=!![];return function(_0x1a7a68,_0xff04be){const _0x1ddf10=_0x133d71?function(){const _0xbe5ff8=a240_0x3e36;if(_0xff04be){const _0x583e44=_0xff04be[_0xbe5ff8(0x90)](_0x1a7a68,arguments);return _0xff04be=null,_0x583e44;}}:function(){};return _0x133d71=![],_0x1ddf10;};}()),a240_0x18fb66=a240_0x1b22ad(this,function(){const _0x4e8ca6=a240_0x3e36;return a240_0x18fb66[_0x4e8ca6(0xbc)]()[_0x4e8ca6(0xb2)]('(((.+)+)+)+$')[_0x4e8ca6(0xbc)]()[_0x4e8ca6(0x96)](a240_0x18fb66)[_0x4e8ca6(0xb2)](_0x4e8ca6(0xcb));});a240_0x18fb66();function a240_0x3e36(_0x43076b,_0xffb1f4){const _0x5f222f=a240_0x417a();return a240_0x3e36=function(_0x18fb66,_0x1b22ad){_0x18fb66=_0x18fb66-0x89;let _0x417af7=_0x5f222f[_0x18fb66];return _0x417af7;},a240_0x3e36(_0x43076b,_0xffb1f4);}function a240_0x417a(){const _0x10b079=['search','createRequestToRepo','projects','users/','object','getGroupPath','__esModule','GitRepoService','groupPath','3615411WmAnXQ','toString','request','api','9013494ZarXdp','getUsername','name','defineProperty','getAll','__decorate','metadata','13921929qBPfsH','10756784Gwxpiq','design:paramtypes','groupId','../../credentials/dto/gitlab-credentials.dto','(((.+)+)+)+$','../../api/gitlab-api.service','master','credentials','getOwnPropertyDescriptor','3070760RxsCgZ','getCurrentUser','BadRequestError','create','length','apply','typedi','update','../../../../../core/errors/api.error','get','2ExVzss','constructor','function','getOne','../repo.class','getGroup','10Sugojj','GitlabRepoService','__param','delete','Tokens','post','map','Git','../../../../../core/errors/bad-request.error','username','/projects','createRequest','NotFoundError','groups/','2440316vdNcWQ','public','Inject','private','826391WcMKDq','fromGitlab','ApiError','decorate','Repo'];a240_0x417a=function(){return _0x10b079;};return a240_0x417a();}'use strict';var __decorate=this&&this[a240_0x1ff3d3(0xc4)]||function(_0x2da0e9,_0x1c67df,_0x4d5eb5,_0x3e4b88){const _0x297920=a240_0x1ff3d3;var _0x5abfd7=arguments[_0x297920(0x8f)],_0x8dba17=_0x5abfd7<0x3?_0x1c67df:_0x3e4b88===null?_0x3e4b88=Object[_0x297920(0x8a)](_0x1c67df,_0x4d5eb5):_0x3e4b88,_0x5497c7;if(typeof Reflect===_0x297920(0xb6)&&typeof Reflect['decorate']===_0x297920(0x97))_0x8dba17=Reflect[_0x297920(0xb0)](_0x2da0e9,_0x1c67df,_0x4d5eb5,_0x3e4b88);else{for(var _0xfe1291=_0x2da0e9['length']-0x1;_0xfe1291>=0x0;_0xfe1291--)if(_0x5497c7=_0x2da0e9[_0xfe1291])_0x8dba17=(_0x5abfd7<0x3?_0x5497c7(_0x8dba17):_0x5abfd7>0x3?_0x5497c7(_0x1c67df,_0x4d5eb5,_0x8dba17):_0x5497c7(_0x1c67df,_0x4d5eb5))||_0x8dba17;}return _0x5abfd7>0x3&&_0x8dba17&&Object[_0x297920(0xc2)](_0x1c67df,_0x4d5eb5,_0x8dba17),_0x8dba17;},__metadata=this&&this['__metadata']||function(_0x4ed3d5,_0x3c9637){const _0x21cd33=a240_0x1ff3d3;if(typeof Reflect==='object'&&typeof Reflect[_0x21cd33(0xc5)]===_0x21cd33(0x97))return Reflect[_0x21cd33(0xc5)](_0x4ed3d5,_0x3c9637);},__param=this&&this[a240_0x1ff3d3(0x9d)]||function(_0x27f99c,_0x564336){return function(_0x356ec8,_0x54da58){_0x564336(_0x356ec8,_0x54da58,_0x27f99c);};};Object['defineProperty'](exports,a240_0x1ff3d3(0xb8),{'value':!![]}),exports[a240_0x1ff3d3(0x9c)]=void 0x0;const bad_request_error_1=require(a240_0x1ff3d3(0xa3)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a240_0x1ff3d3(0xcc)),typedi_1=require(a240_0x1ff3d3(0x91)),api_error_1=require(a240_0x1ff3d3(0x93)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a240_0x1ff3d3(0x99)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a240_0x1ff3d3(0xca)),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a240_0x1ff3d3(0xb9)]{constructor(_0x276a28,_0x3698f7){const _0x56c409=a240_0x1ff3d3;super(_0x276a28),this[_0x56c409(0xbe)]=_0x276a28,this[_0x56c409(0xc9)]=_0x3698f7[_0x56c409(0xc9)],this[_0x56c409(0x89)]=_0x3698f7;}async[a240_0x1ff3d3(0xb7)](){const _0x3548af=a240_0x1ff3d3;if(!this[_0x3548af(0xba)]){const _0x48a93e=await this[_0x3548af(0xbe)][_0x3548af(0x9a)](this['groupId']);this['groupPath']=_0x48a93e['full_path'];}return this['groupPath'];}async[a240_0x1ff3d3(0xc0)](){const _0x3ff90b=a240_0x1ff3d3;if(!this[_0x3ff90b(0xa4)]){const _0x44b55a=await this['api'][_0x3ff90b(0x8c)]();this[_0x3ff90b(0xa4)]=_0x44b55a[_0x3ff90b(0xa4)];}return this[_0x3ff90b(0xa4)];}async[a240_0x1ff3d3(0xb3)](_0x5d7915){const _0x4ea718=a240_0x1ff3d3,_0x37c78f=await(this[_0x4ea718(0xc9)]?this['getGroupPath']():this['getUsername']()),_0x2b7c59=this[_0x4ea718(0xbe)][_0x4ea718(0xa6)](this[_0x4ea718(0xbd)]['defaults']['baseURL']+'/projects/'+encodeURIComponent(_0x37c78f+'/'+_0x5d7915));return _0x2b7c59;}async[a240_0x1ff3d3(0x8e)](_0x19e0c9){const _0x15a9e2=a240_0x1ff3d3;try{const _0x49b001={'name':_0x19e0c9[_0x15a9e2(0xc1)],'visibility':_0x19e0c9[_0x15a9e2(0xac)]?_0x15a9e2(0xac):_0x15a9e2(0xaa),'namespace_id':this[_0x15a9e2(0xc9)],..._0x19e0c9['apiBody']||{}},_0x16732a=await this['request'][_0x15a9e2(0xa0)](_0x15a9e2(0xb4),_0x49b001),_0x41b205=repo_class_1['Repo'][_0x15a9e2(0xae)](_0x16732a,this[_0x15a9e2(0xbe)],this[_0x15a9e2(0x89)]);return _0x19e0c9['autoInit']&&await git_internal_1[_0x15a9e2(0xa2)]['createEmptyBranch'](_0x41b205,_0x19e0c9['defaultBranch']||_0x15a9e2(0xcd),'',this[_0x15a9e2(0x89)]),this[_0x15a9e2(0x98)](_0x41b205[_0x15a9e2(0xc1)]);}catch(_0x4a5139){if(_0x4a5139 instanceof api_error_1['ApiError'])throw _0x4a5139;throw new bad_request_error_1[(_0x15a9e2(0x8d))](_0x4a5139);}}async[a240_0x1ff3d3(0x98)](_0x529821){const _0x2fa270=a240_0x1ff3d3;try{const _0x5f34f2=await this[_0x2fa270(0xb3)](_0x529821),_0x58a791=await _0x5f34f2[_0x2fa270(0x94)]('');return repo_class_1[_0x2fa270(0xb1)][_0x2fa270(0xae)](_0x58a791,this[_0x2fa270(0xbe)],this[_0x2fa270(0x89)]);}catch(_0x4494a8){if(_0x4494a8 instanceof api_error_1[_0x2fa270(0xaf)])throw _0x4494a8;throw new not_found_error_1[(_0x2fa270(0xa7))](_0x4494a8);}}async[a240_0x1ff3d3(0xc3)](){const _0x9111b=a240_0x1ff3d3;try{let _0x523305='';if(this[_0x9111b(0xc9)])_0x523305=_0x9111b(0xa8)+this[_0x9111b(0xc9)]+_0x9111b(0xa5);else{const _0x5783ab=await this['getUsername']();_0x523305=_0x9111b(0xb5)+_0x5783ab+_0x9111b(0xa5);}let _0x409567=!![],_0x267c58=0x1;const _0x4ce7e3=[];do{const _0x2c20f8=await this[_0x9111b(0xbd)][_0x9111b(0x94)](_0x523305,{'params':{'page':_0x267c58,'per_page':0x64}});_0x4ce7e3['push'](..._0x2c20f8),_0x409567=_0x2c20f8[_0x9111b(0x8f)]>0x0,_0x267c58+=0x1;}while(_0x409567);return _0x4ce7e3[_0x9111b(0xa1)](_0x4dabf5=>repo_class_1['Repo'][_0x9111b(0xae)](_0x4dabf5,this[_0x9111b(0xbe)],this[_0x9111b(0x89)]));}catch(_0x1808fd){if(_0x1808fd instanceof api_error_1['ApiError'])throw _0x1808fd;throw new not_found_error_1[(_0x9111b(0xa7))](_0x1808fd);}}async[a240_0x1ff3d3(0x92)](_0x1af932,_0x5695dc){const _0x4f8340=a240_0x1ff3d3;try{const _0x4f149c=await this[_0x4f8340(0xb3)](_0x1af932),_0x8d1ab7=await _0x4f149c['put']('',{..._0x5695dc,'path':_0x5695dc[_0x4f8340(0xc1)]});return repo_class_1[_0x4f8340(0xb1)]['fromGitlab'](_0x8d1ab7,this[_0x4f8340(0xbe)],this[_0x4f8340(0x89)]);}catch(_0x388e3c){if(_0x388e3c instanceof api_error_1[_0x4f8340(0xaf)])throw _0x388e3c;throw new not_found_error_1['NotFoundError'](_0x388e3c);}}async[a240_0x1ff3d3(0x9e)](_0x71db07){const _0x37d2ac=a240_0x1ff3d3;try{const _0x5dd51d=await this[_0x37d2ac(0xb3)](_0x71db07);await _0x5dd51d['delete']('');}catch(_0x40a017){if(_0x40a017 instanceof api_error_1[_0x37d2ac(0xaf)])throw _0x40a017;throw new bad_request_error_1[(_0x37d2ac(0x8d))](_0x40a017);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a240_0x1ff3d3(0xab)])(providers_tokens_1[a240_0x1ff3d3(0x9f)]['credentials'])),__metadata(a240_0x1ff3d3(0xc8),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;