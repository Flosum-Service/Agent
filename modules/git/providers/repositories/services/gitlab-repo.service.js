const a242_0x406dbd=a242_0x28d6;function a242_0x23ba(){const _0x1d73c3=['createRequestToRepo','projects','GitRepoService','NotFoundError','122676HUBMjK','getGroupPath','private','defaults','GitlabCredentialsDto','name','createEmptyBranch','update','typedi','../../../../../core/errors/not-found.error','get','9YOcMmZ','post','205WxrXOG','Service','65335DxFfwV','2378926CEAOmh','../../../../../core/errors/bad-request.error','username','12340029XzcIfj','/projects','5268hvpCDA','groups/','10OgyPeC','getOne','./git-repo.service','full_path','fromGitlab','__esModule','../../providers.tokens','users/','getAll','2922loYVyB','ApiError','decorate','function','BadRequestError','credentials','1820880FVqEFN','object','master','../../api/gitlab-api.service','Git','7502290gShZsF','(((.+)+)+)+$','public','defaultBranch','metadata','groupPath','createRequest','getUsername','groupId','__param','request','create','length','__metadata','24XQsOvt','GitlabApiService','constructor','GitlabRepoService','Tokens','search','api','__decorate','42htfYpd','Repo','../repo.class','toString','defineProperty'];a242_0x23ba=function(){return _0x1d73c3;};return a242_0x23ba();}(function(_0x47725a,_0x2801eb){const _0x141147=a242_0x28d6,_0xa7efdc=_0x47725a();while(!![]){try{const _0x583849=parseInt(_0x141147(0xa9))/0x1*(parseInt(_0x141147(0xb1))/0x2)+parseInt(_0x141147(0xba))/0x3*(parseInt(_0x141147(0xaf))/0x4)+parseInt(_0x141147(0xa7))/0x5*(-parseInt(_0x141147(0xe4))/0x6)+-parseInt(_0x141147(0xdb))/0x7*(-parseInt(_0x141147(0xc0))/0x8)+parseInt(_0x141147(0xa5))/0x9*(parseInt(_0x141147(0xc5))/0xa)+-parseInt(_0x141147(0xaa))/0xb+-parseInt(_0x141147(0xd3))/0xc*(parseInt(_0x141147(0xad))/0xd);if(_0x583849===_0x2801eb)break;else _0xa7efdc['push'](_0xa7efdc['shift']());}catch(_0x310474){_0xa7efdc['push'](_0xa7efdc['shift']());}}}(a242_0x23ba,0xbc8d0));const a242_0x3cd4fb=(function(){let _0x2677c0=!![];return function(_0x35a6fd,_0x364df1){const _0x43be45=_0x2677c0?function(){if(_0x364df1){const _0xf15004=_0x364df1['apply'](_0x35a6fd,arguments);return _0x364df1=null,_0xf15004;}}:function(){};return _0x2677c0=![],_0x43be45;};}()),a242_0x546110=a242_0x3cd4fb(this,function(){const _0x320b73=a242_0x28d6;return a242_0x546110['toString']()[_0x320b73(0xd8)](_0x320b73(0xc6))[_0x320b73(0xde)]()[_0x320b73(0xd5)](a242_0x546110)[_0x320b73(0xd8)]('(((.+)+)+)+$');});a242_0x546110();function a242_0x28d6(_0x4ce907,_0x5b9c47){const _0x568a46=a242_0x23ba();return a242_0x28d6=function(_0x546110,_0x3cd4fb){_0x546110=_0x546110-0xa2;let _0x23bab7=_0x568a46[_0x546110];return _0x23bab7;},a242_0x28d6(_0x4ce907,_0x5b9c47);}'use strict';var __decorate=this&&this[a242_0x406dbd(0xda)]||function(_0x5336c1,_0x366d73,_0x33ae25,_0x316512){const _0x402261=a242_0x406dbd;var _0x152534=arguments[_0x402261(0xd1)],_0x1a9ef7=_0x152534<0x3?_0x366d73:_0x316512===null?_0x316512=Object['getOwnPropertyDescriptor'](_0x366d73,_0x33ae25):_0x316512,_0x305fff;if(typeof Reflect===_0x402261(0xc1)&&typeof Reflect['decorate']===_0x402261(0xbd))_0x1a9ef7=Reflect[_0x402261(0xbc)](_0x5336c1,_0x366d73,_0x33ae25,_0x316512);else{for(var _0xc33b44=_0x5336c1[_0x402261(0xd1)]-0x1;_0xc33b44>=0x0;_0xc33b44--)if(_0x305fff=_0x5336c1[_0xc33b44])_0x1a9ef7=(_0x152534<0x3?_0x305fff(_0x1a9ef7):_0x152534>0x3?_0x305fff(_0x366d73,_0x33ae25,_0x1a9ef7):_0x305fff(_0x366d73,_0x33ae25))||_0x1a9ef7;}return _0x152534>0x3&&_0x1a9ef7&&Object['defineProperty'](_0x366d73,_0x33ae25,_0x1a9ef7),_0x1a9ef7;},__metadata=this&&this[a242_0x406dbd(0xd2)]||function(_0x5821dd,_0xd4a7fc){const _0x192cf2=a242_0x406dbd;if(typeof Reflect===_0x192cf2(0xc1)&&typeof Reflect['metadata']===_0x192cf2(0xbd))return Reflect[_0x192cf2(0xc9)](_0x5821dd,_0xd4a7fc);},__param=this&&this[a242_0x406dbd(0xce)]||function(_0x8407ee,_0x28b98e){return function(_0x113cf2,_0x5ac1e3){_0x28b98e(_0x113cf2,_0x5ac1e3,_0x8407ee);};};Object[a242_0x406dbd(0xdf)](exports,a242_0x406dbd(0xb6),{'value':!![]}),exports[a242_0x406dbd(0xd6)]=void 0x0;const bad_request_error_1=require(a242_0x406dbd(0xab)),not_found_error_1=require(a242_0x406dbd(0xa3)),gitlab_api_service_1=require(a242_0x406dbd(0xc3)),typedi_1=require(a242_0x406dbd(0xa2)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a242_0x406dbd(0xdd)),git_repo_service_1=require(a242_0x406dbd(0xb3)),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a242_0x406dbd(0xb7));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a242_0x406dbd(0xe2)]{constructor(_0x58e969,_0x2b029d){const _0x397cd0=a242_0x406dbd;super(_0x58e969),this['api']=_0x58e969,this[_0x397cd0(0xcd)]=_0x2b029d['groupId'],this[_0x397cd0(0xbf)]=_0x2b029d;}async[a242_0x406dbd(0xe5)](){const _0x2fb100=a242_0x406dbd;if(!this[_0x2fb100(0xca)]){const _0x3a3ff6=await this[_0x2fb100(0xd9)]['getGroup'](this[_0x2fb100(0xcd)]);this['groupPath']=_0x3a3ff6[_0x2fb100(0xb4)];}return this['groupPath'];}async[a242_0x406dbd(0xcc)](){const _0x41d817=a242_0x406dbd;if(!this[_0x41d817(0xac)]){const _0x38450d=await this[_0x41d817(0xd9)]['getCurrentUser']();this['username']=_0x38450d['username'];}return this[_0x41d817(0xac)];}async['createRequestToRepo'](_0x22eb5c){const _0x35e750=a242_0x406dbd,_0x2b5b90=await(this[_0x35e750(0xcd)]?this['getGroupPath']():this[_0x35e750(0xcc)]()),_0x397c82=this[_0x35e750(0xd9)][_0x35e750(0xcb)](this[_0x35e750(0xcf)][_0x35e750(0xe7)]['baseURL']+'/projects/'+encodeURIComponent(_0x2b5b90+'/'+_0x22eb5c));return _0x397c82;}async[a242_0x406dbd(0xd0)](_0x4fc6db){const _0x5eb3c9=a242_0x406dbd;try{const _0x3ca119={'name':_0x4fc6db[_0x5eb3c9(0xe9)],'visibility':_0x4fc6db[_0x5eb3c9(0xe6)]?_0x5eb3c9(0xe6):_0x5eb3c9(0xc7),'namespace_id':this[_0x5eb3c9(0xcd)],..._0x4fc6db['apiBody']||{}},_0x239381=await this[_0x5eb3c9(0xcf)][_0x5eb3c9(0xa6)](_0x5eb3c9(0xe1),_0x3ca119),_0x16e5d1=repo_class_1[_0x5eb3c9(0xdc)]['fromGitlab'](_0x239381,this[_0x5eb3c9(0xd9)],this[_0x5eb3c9(0xbf)]);return _0x4fc6db['autoInit']&&await git_internal_1[_0x5eb3c9(0xc4)][_0x5eb3c9(0xea)](_0x16e5d1,_0x4fc6db[_0x5eb3c9(0xc8)]||{'name':_0x5eb3c9(0xc2)},'',this['credentials']),this['getOne'](_0x16e5d1[_0x5eb3c9(0xe9)]);}catch(_0x3a30a5){if(_0x3a30a5 instanceof api_error_1['ApiError'])throw _0x3a30a5;throw new bad_request_error_1[(_0x5eb3c9(0xbe))](_0x3a30a5);}}async[a242_0x406dbd(0xb2)](_0x38c90c){const _0xc814bc=a242_0x406dbd;try{const _0x321bd3=await this[_0xc814bc(0xe0)](_0x38c90c),_0x557e34=await _0x321bd3['get']('');return repo_class_1['Repo'][_0xc814bc(0xb5)](_0x557e34,this[_0xc814bc(0xd9)],this['credentials']);}catch(_0x5b21e6){if(_0x5b21e6 instanceof api_error_1[_0xc814bc(0xbb)])throw _0x5b21e6;throw new not_found_error_1[(_0xc814bc(0xe3))](_0x5b21e6);}}async[a242_0x406dbd(0xb9)](){const _0xfa9596=a242_0x406dbd;try{let _0x59777c='';if(this[_0xfa9596(0xcd)])_0x59777c=_0xfa9596(0xb0)+this[_0xfa9596(0xcd)]+_0xfa9596(0xae);else{const _0x5e22c5=await this[_0xfa9596(0xcc)]();_0x59777c=_0xfa9596(0xb8)+_0x5e22c5+'/projects';}let _0x394970=!![],_0x46510e=0x1;const _0x26ab78=[];do{const _0x171616=await this['request'][_0xfa9596(0xa4)](_0x59777c,{'params':{'page':_0x46510e,'per_page':0x64}});_0x26ab78['push'](..._0x171616),_0x394970=_0x171616['length']>0x0,_0x46510e+=0x1;}while(_0x394970);return _0x26ab78['map'](_0x2e1be1=>repo_class_1[_0xfa9596(0xdc)][_0xfa9596(0xb5)](_0x2e1be1,this[_0xfa9596(0xd9)],this['credentials']));}catch(_0x501bff){if(_0x501bff instanceof api_error_1[_0xfa9596(0xbb)])throw _0x501bff;throw new not_found_error_1['NotFoundError'](_0x501bff);}}async[a242_0x406dbd(0xeb)](_0x213037,_0x59c212){const _0x28bfcd=a242_0x406dbd;try{const _0x1193f0=await this[_0x28bfcd(0xe0)](_0x213037),_0x211e39=await _0x1193f0['put']('',{..._0x59c212,'path':_0x59c212['name']});return repo_class_1[_0x28bfcd(0xdc)][_0x28bfcd(0xb5)](_0x211e39,this[_0x28bfcd(0xd9)],this[_0x28bfcd(0xbf)]);}catch(_0x552f1b){if(_0x552f1b instanceof api_error_1[_0x28bfcd(0xbb)])throw _0x552f1b;throw new not_found_error_1['NotFoundError'](_0x552f1b);}}async['delete'](_0x2382bd){const _0x20348a=a242_0x406dbd;try{const _0x69261b=await this['createRequestToRepo'](_0x2382bd);await _0x69261b['delete']('');}catch(_0x13a644){if(_0x13a644 instanceof api_error_1[_0x20348a(0xbb)])throw _0x13a644;throw new bad_request_error_1[(_0x20348a(0xbe))](_0x13a644);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a242_0x406dbd(0xa8)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a242_0x406dbd(0xd7)][a242_0x406dbd(0xbf)])),__metadata('design:paramtypes',[gitlab_api_service_1[a242_0x406dbd(0xd4)],gitlab_credentials_dto_1[a242_0x406dbd(0xe8)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;