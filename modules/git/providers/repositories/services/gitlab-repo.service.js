const a241_0x5ef0e4=a241_0x4e68;(function(_0x463b55,_0x44101f){const _0x3c570e=a241_0x4e68,_0x13bb9d=_0x463b55();while(!![]){try{const _0x5495b=-parseInt(_0x3c570e(0x153))/0x1*(-parseInt(_0x3c570e(0x15b))/0x2)+parseInt(_0x3c570e(0x168))/0x3+parseInt(_0x3c570e(0x140))/0x4+-parseInt(_0x3c570e(0x137))/0x5*(-parseInt(_0x3c570e(0x154))/0x6)+-parseInt(_0x3c570e(0x169))/0x7+-parseInt(_0x3c570e(0x14b))/0x8*(parseInt(_0x3c570e(0x143))/0x9)+-parseInt(_0x3c570e(0x13b))/0xa*(parseInt(_0x3c570e(0x152))/0xb);if(_0x5495b===_0x44101f)break;else _0x13bb9d['push'](_0x13bb9d['shift']());}catch(_0x31ed6e){_0x13bb9d['push'](_0x13bb9d['shift']());}}}(a241_0x39ec,0x7e414));const a241_0x1e42c8=(function(){let _0x24868d=!![];return function(_0x196d85,_0x1ea60e){const _0x519219=_0x24868d?function(){const _0x5d985a=a241_0x4e68;if(_0x1ea60e){const _0x2c6bc9=_0x1ea60e[_0x5d985a(0x14a)](_0x196d85,arguments);return _0x1ea60e=null,_0x2c6bc9;}}:function(){};return _0x24868d=![],_0x519219;};}()),a241_0x2e0566=a241_0x1e42c8(this,function(){const _0x303736=a241_0x4e68;return a241_0x2e0566['toString']()[_0x303736(0x179)]('(((.+)+)+)+$')[_0x303736(0x136)]()[_0x303736(0x16c)](a241_0x2e0566)['search']('(((.+)+)+)+$');});function a241_0x39ec(){const _0x583ce3=['Inject','put','get','../../providers.tokens','Git','groups/','createRequestToRepo','ApiError','1852440BCuWKH','4690049POsUKl','create','defaults','constructor','update','api','metadata','BadRequestError','credentials','full_path','typedi','groupId','../../../internal/git.internal','users/','object','post','search','../../api/gitlab-api.service','Service','fromGitlab','function','__param','username','master','/projects','toString','5670MLiJbt','__esModule','getOne','decorate','45350AFsnrp','Tokens','getUsername','defaultBranch','map','3014624Brjsqn','delete','../../../../../core/errors/not-found.error','585RJwFGT','Repo','getGroupPath','request','autoInit','getGroup','name','apply','108184wSiCYi','__metadata','GitRepoService','private','NotFoundError','__decorate','./git-repo.service','330BAezzV','2fUoXlg','1176oCHMJr','length','/projects/','apiBody','design:paramtypes','../../credentials/dto/gitlab-credentials.dto','getAll','608792yMpyEN','createRequest','GitlabApiService','groupPath','getOwnPropertyDescriptor'];a241_0x39ec=function(){return _0x583ce3;};return a241_0x39ec();}function a241_0x4e68(_0xba7632,_0x13c682){const _0x444122=a241_0x39ec();return a241_0x4e68=function(_0x2e0566,_0x1e42c8){_0x2e0566=_0x2e0566-0x134;let _0x39ec35=_0x444122[_0x2e0566];return _0x39ec35;},a241_0x4e68(_0xba7632,_0x13c682);}a241_0x2e0566();'use strict';var __decorate=this&&this[a241_0x5ef0e4(0x150)]||function(_0xf49930,_0x651c40,_0x2f8918,_0x2e937a){const _0xdcc42=a241_0x5ef0e4;var _0x5ab333=arguments[_0xdcc42(0x155)],_0x2fafed=_0x5ab333<0x3?_0x651c40:_0x2e937a===null?_0x2e937a=Object[_0xdcc42(0x15f)](_0x651c40,_0x2f8918):_0x2e937a,_0x52dd88;if(typeof Reflect===_0xdcc42(0x177)&&typeof Reflect[_0xdcc42(0x13a)]===_0xdcc42(0x17d))_0x2fafed=Reflect[_0xdcc42(0x13a)](_0xf49930,_0x651c40,_0x2f8918,_0x2e937a);else{for(var _0x4c7d67=_0xf49930['length']-0x1;_0x4c7d67>=0x0;_0x4c7d67--)if(_0x52dd88=_0xf49930[_0x4c7d67])_0x2fafed=(_0x5ab333<0x3?_0x52dd88(_0x2fafed):_0x5ab333>0x3?_0x52dd88(_0x651c40,_0x2f8918,_0x2fafed):_0x52dd88(_0x651c40,_0x2f8918))||_0x2fafed;}return _0x5ab333>0x3&&_0x2fafed&&Object['defineProperty'](_0x651c40,_0x2f8918,_0x2fafed),_0x2fafed;},__metadata=this&&this[a241_0x5ef0e4(0x14c)]||function(_0x4d6e36,_0xbbe2a0){const _0x5c107c=a241_0x5ef0e4;if(typeof Reflect===_0x5c107c(0x177)&&typeof Reflect[_0x5c107c(0x16f)]===_0x5c107c(0x17d))return Reflect[_0x5c107c(0x16f)](_0x4d6e36,_0xbbe2a0);},__param=this&&this[a241_0x5ef0e4(0x17e)]||function(_0x252098,_0x5e6cbd){return function(_0xb85f70,_0x463712){_0x5e6cbd(_0xb85f70,_0x463712,_0x252098);};};Object['defineProperty'](exports,a241_0x5ef0e4(0x138),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a241_0x5ef0e4(0x142)),gitlab_api_service_1=require(a241_0x5ef0e4(0x17a)),typedi_1=require(a241_0x5ef0e4(0x173)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a241_0x5ef0e4(0x175)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a241_0x5ef0e4(0x151)),gitlab_credentials_dto_1=require(a241_0x5ef0e4(0x159)),providers_tokens_1=require(a241_0x5ef0e4(0x163));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a241_0x5ef0e4(0x14d)]{constructor(_0xe957f,_0x3687fb){const _0x1dfdd5=a241_0x5ef0e4;super(_0xe957f),this[_0x1dfdd5(0x16e)]=_0xe957f,this[_0x1dfdd5(0x174)]=_0x3687fb[_0x1dfdd5(0x174)],this['credentials']=_0x3687fb;}async['getGroupPath'](){const _0x1963ab=a241_0x5ef0e4;if(!this['groupPath']){const _0x2f5e8e=await this[_0x1963ab(0x16e)][_0x1963ab(0x148)](this['groupId']);this[_0x1963ab(0x15e)]=_0x2f5e8e[_0x1963ab(0x172)];}return this['groupPath'];}async['getUsername'](){const _0x3c9526=a241_0x5ef0e4;if(!this[_0x3c9526(0x17f)]){const _0x53d368=await this['api']['getCurrentUser']();this[_0x3c9526(0x17f)]=_0x53d368[_0x3c9526(0x17f)];}return this[_0x3c9526(0x17f)];}async[a241_0x5ef0e4(0x166)](_0x234870){const _0x41fef2=a241_0x5ef0e4,_0x5b6eed=await(this[_0x41fef2(0x174)]?this[_0x41fef2(0x145)]():this[_0x41fef2(0x13d)]()),_0x19d1d2=this[_0x41fef2(0x16e)][_0x41fef2(0x15c)](this[_0x41fef2(0x146)][_0x41fef2(0x16b)]['baseURL']+_0x41fef2(0x156)+encodeURIComponent(_0x5b6eed+'/'+_0x234870));return _0x19d1d2;}async[a241_0x5ef0e4(0x16a)](_0x2f9657){const _0x55d3f9=a241_0x5ef0e4;try{const _0x2667f0={'name':_0x2f9657['name'],'visibility':_0x2f9657[_0x55d3f9(0x14e)]?_0x55d3f9(0x14e):'public','namespace_id':this['groupId'],..._0x2f9657[_0x55d3f9(0x157)]||{}},_0x105cd6=await this[_0x55d3f9(0x146)][_0x55d3f9(0x178)]('projects',_0x2667f0),_0x48b599=repo_class_1[_0x55d3f9(0x144)][_0x55d3f9(0x17c)](_0x105cd6,this[_0x55d3f9(0x16e)],this['credentials']);return _0x2f9657[_0x55d3f9(0x147)]&&await git_internal_1[_0x55d3f9(0x164)]['createEmptyBranch'](_0x48b599,_0x2f9657[_0x55d3f9(0x13e)]||_0x55d3f9(0x134),'',this[_0x55d3f9(0x171)]),this['getOne'](_0x48b599[_0x55d3f9(0x149)]);}catch(_0x278112){if(_0x278112 instanceof api_error_1['ApiError'])throw _0x278112;throw new bad_request_error_1['BadRequestError'](_0x278112);}}async[a241_0x5ef0e4(0x139)](_0x275e84){const _0x4da323=a241_0x5ef0e4;try{const _0x254643=await this['createRequestToRepo'](_0x275e84),_0x11d5de=await _0x254643[_0x4da323(0x162)]('');return repo_class_1[_0x4da323(0x144)]['fromGitlab'](_0x11d5de,this[_0x4da323(0x16e)],this['credentials']);}catch(_0x485a85){if(_0x485a85 instanceof api_error_1[_0x4da323(0x167)])throw _0x485a85;throw new not_found_error_1['NotFoundError'](_0x485a85);}}async[a241_0x5ef0e4(0x15a)](){const _0xff528=a241_0x5ef0e4;try{let _0x4ae0c5='';if(this[_0xff528(0x174)])_0x4ae0c5=_0xff528(0x165)+this[_0xff528(0x174)]+'/projects';else{const _0x2246eb=await this[_0xff528(0x13d)]();_0x4ae0c5=_0xff528(0x176)+_0x2246eb+_0xff528(0x135);}let _0x3bd05c=!![],_0x4a22f4=0x1;const _0x5b24de=[];do{const _0x1684c4=await this['request'][_0xff528(0x162)](_0x4ae0c5,{'params':{'page':_0x4a22f4,'per_page':0x64}});_0x5b24de['push'](..._0x1684c4),_0x3bd05c=_0x1684c4[_0xff528(0x155)]>0x0,_0x4a22f4+=0x1;}while(_0x3bd05c);return _0x5b24de[_0xff528(0x13f)](_0x1510ce=>repo_class_1[_0xff528(0x144)]['fromGitlab'](_0x1510ce,this[_0xff528(0x16e)],this[_0xff528(0x171)]));}catch(_0x48c57a){if(_0x48c57a instanceof api_error_1[_0xff528(0x167)])throw _0x48c57a;throw new not_found_error_1[(_0xff528(0x14f))](_0x48c57a);}}async[a241_0x5ef0e4(0x16d)](_0x42f1ea,_0x55b90b){const _0x316725=a241_0x5ef0e4;try{const _0x12074a=await this['createRequestToRepo'](_0x42f1ea),_0x20cdeb=await _0x12074a[_0x316725(0x161)]('',{..._0x55b90b,'path':_0x55b90b[_0x316725(0x149)]});return repo_class_1[_0x316725(0x144)][_0x316725(0x17c)](_0x20cdeb,this[_0x316725(0x16e)],this[_0x316725(0x171)]);}catch(_0x1645b2){if(_0x1645b2 instanceof api_error_1[_0x316725(0x167)])throw _0x1645b2;throw new not_found_error_1[(_0x316725(0x14f))](_0x1645b2);}}async['delete'](_0x29f4fb){const _0x48e5fa=a241_0x5ef0e4;try{const _0x1ff1be=await this[_0x48e5fa(0x166)](_0x29f4fb);await _0x1ff1be[_0x48e5fa(0x141)]('');}catch(_0x56f12c){if(_0x56f12c instanceof api_error_1[_0x48e5fa(0x167)])throw _0x56f12c;throw new bad_request_error_1[(_0x48e5fa(0x170))](_0x56f12c);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a241_0x5ef0e4(0x17b)])(),__param(0x1,(0x0,typedi_1[a241_0x5ef0e4(0x160)])(providers_tokens_1[a241_0x5ef0e4(0x13c)]['credentials'])),__metadata(a241_0x5ef0e4(0x158),[gitlab_api_service_1[a241_0x5ef0e4(0x15d)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;