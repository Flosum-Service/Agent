const a215_0x262acd=a215_0x1877;function a215_0x1877(_0x155049,_0x98c83a){const _0x115dad=a215_0x1542();return a215_0x1877=function(_0x4ea782,_0x28c0cb){_0x4ea782=_0x4ea782-0xc7;let _0x15421c=_0x115dad[_0x4ea782];return _0x15421c;},a215_0x1877(_0x155049,_0x98c83a);}(function(_0x47d6f8,_0x1d71c1){const _0x365768=a215_0x1877,_0x437f16=_0x47d6f8();while(!![]){try{const _0x4f6b6b=-parseInt(_0x365768(0xf1))/0x1+-parseInt(_0x365768(0xd5))/0x2*(-parseInt(_0x365768(0xf4))/0x3)+-parseInt(_0x365768(0xe1))/0x4+parseInt(_0x365768(0x10d))/0x5*(parseInt(_0x365768(0xca))/0x6)+-parseInt(_0x365768(0xc8))/0x7+-parseInt(_0x365768(0xf9))/0x8+parseInt(_0x365768(0xd6))/0x9*(parseInt(_0x365768(0xdc))/0xa);if(_0x4f6b6b===_0x1d71c1)break;else _0x437f16['push'](_0x437f16['shift']());}catch(_0x183ec3){_0x437f16['push'](_0x437f16['shift']());}}}(a215_0x1542,0x9e721));const a215_0x28c0cb=(function(){let _0x3b4075=!![];return function(_0x1a9512,_0x3cb0f4){const _0x2c5d73=_0x3b4075?function(){const _0x7a95ac=a215_0x1877;if(_0x3cb0f4){const _0x3057ee=_0x3cb0f4[_0x7a95ac(0xf8)](_0x1a9512,arguments);return _0x3cb0f4=null,_0x3057ee;}}:function(){};return _0x3b4075=![],_0x2c5d73;};}()),a215_0x4ea782=a215_0x28c0cb(this,function(){const _0x3edd51=a215_0x1877;return a215_0x4ea782[_0x3edd51(0xe2)]()['search']('(((.+)+)+)+$')['toString']()[_0x3edd51(0xdd)](a215_0x4ea782)[_0x3edd51(0xcc)](_0x3edd51(0x10f));});a215_0x4ea782();'use strict';var __decorate=this&&this[a215_0x262acd(0xf0)]||function(_0x32deb6,_0x107088,_0x5c8ab6,_0x3e480f){const _0x181585=a215_0x262acd;var _0x12a6f3=arguments['length'],_0x44c0c5=_0x12a6f3<0x3?_0x107088:_0x3e480f===null?_0x3e480f=Object[_0x181585(0x101)](_0x107088,_0x5c8ab6):_0x3e480f,_0x18299b;if(typeof Reflect===_0x181585(0x10c)&&typeof Reflect[_0x181585(0xd4)]===_0x181585(0xe4))_0x44c0c5=Reflect[_0x181585(0xd4)](_0x32deb6,_0x107088,_0x5c8ab6,_0x3e480f);else{for(var _0xa5a520=_0x32deb6[_0x181585(0xd3)]-0x1;_0xa5a520>=0x0;_0xa5a520--)if(_0x18299b=_0x32deb6[_0xa5a520])_0x44c0c5=(_0x12a6f3<0x3?_0x18299b(_0x44c0c5):_0x12a6f3>0x3?_0x18299b(_0x107088,_0x5c8ab6,_0x44c0c5):_0x18299b(_0x107088,_0x5c8ab6))||_0x44c0c5;}return _0x12a6f3>0x3&&_0x44c0c5&&Object[_0x181585(0xfb)](_0x107088,_0x5c8ab6,_0x44c0c5),_0x44c0c5;},__metadata=this&&this[a215_0x262acd(0xde)]||function(_0x39e74e,_0x28993d){const _0x320fec=a215_0x262acd;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x320fec(0xf3)](_0x39e74e,_0x28993d);},__param=this&&this['__param']||function(_0x4249a6,_0x3c6300){return function(_0x222725,_0x55fc93){_0x3c6300(_0x222725,_0x55fc93,_0x4249a6);};};Object[a215_0x262acd(0xfb)](exports,a215_0x262acd(0x10e),{'value':!![]}),exports['GitlabRepoService']=void 0x0;function a215_0x1542(){const _0x1caafc=['ApiError','defaults','typedi','getOwnPropertyDescriptor','../repo.class','groupId','full_path','Git','map','private','request','GitlabRepoService','getUsername','GitlabApiService','object','5dGDwYo','__esModule','(((.+)+)+)+$','../../api/gitlab-api.service','createEmptyBranch','/projects','public','create','../../../../../core/errors/not-found.error','design:paramtypes','1942157krSaTv','NotFoundError','4086534OmHnrv','projects','search','../../../../../core/errors/api.error','users/','post','delete','getGroupPath','groups/','length','decorate','3258XliYuJ','1611CffisC','createRequest','fromGitlab','username','Inject','createRequestToRepo','168870FCIahQ','constructor','__metadata','get','update','4860276DrkEiJ','toString','getAll','function','../../providers.tokens','../../credentials/dto/gitlab-credentials.dto','defaultBranch','BadRequestError','credentials','name','baseURL','../../../../../core/errors/bad-request.error','./git-repo.service','groupPath','getOne','__decorate','1160013aIlEJu','master','metadata','1515DNZfBK','push','autoInit','Repo','apply','9799848jNOboo','put','defineProperty','getGroup','api'];a215_0x1542=function(){return _0x1caafc;};return a215_0x1542();}const bad_request_error_1=require(a215_0x262acd(0xec)),not_found_error_1=require(a215_0x262acd(0x115)),gitlab_api_service_1=require(a215_0x262acd(0x110)),typedi_1=require(a215_0x262acd(0x100)),api_error_1=require(a215_0x262acd(0xcd)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a215_0x262acd(0x102)),git_repo_service_1=require(a215_0x262acd(0xed)),gitlab_credentials_dto_1=require(a215_0x262acd(0xe6)),providers_tokens_1=require(a215_0x262acd(0xe5));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x342e13,_0x55b286){const _0x52fff9=a215_0x262acd;super(_0x342e13),this[_0x52fff9(0xfd)]=_0x342e13,this[_0x52fff9(0x103)]=_0x55b286[_0x52fff9(0x103)],this[_0x52fff9(0xe9)]=_0x55b286;}async[a215_0x262acd(0xd1)](){const _0x4b0ee3=a215_0x262acd;if(!this[_0x4b0ee3(0xee)]){const _0x345f2e=await this[_0x4b0ee3(0xfd)][_0x4b0ee3(0xfc)](this[_0x4b0ee3(0x103)]);this[_0x4b0ee3(0xee)]=_0x345f2e[_0x4b0ee3(0x104)];}return this[_0x4b0ee3(0xee)];}async[a215_0x262acd(0x10a)](){const _0x1062c6=a215_0x262acd;if(!this[_0x1062c6(0xd9)]){const _0x528f3d=await this['api']['getCurrentUser']();this[_0x1062c6(0xd9)]=_0x528f3d['username'];}return this[_0x1062c6(0xd9)];}async[a215_0x262acd(0xdb)](_0x1fd87f){const _0xbe8313=a215_0x262acd,_0x2beb61=await(this['groupId']?this[_0xbe8313(0xd1)]():this[_0xbe8313(0x10a)]()),_0x1bc8d2=this[_0xbe8313(0xfd)][_0xbe8313(0xd7)](this[_0xbe8313(0x108)][_0xbe8313(0xff)][_0xbe8313(0xeb)]+'/projects/'+encodeURIComponent(_0x2beb61+'/'+_0x1fd87f));return _0x1bc8d2;}async[a215_0x262acd(0x114)](_0x5c0b82){const _0x192452=a215_0x262acd;try{const _0x1d690e={'name':_0x5c0b82[_0x192452(0xea)],'visibility':_0x5c0b82[_0x192452(0x107)]?'private':_0x192452(0x113),'namespace_id':this[_0x192452(0x103)],..._0x5c0b82['apiBody']||{}},_0x4c5830=await this['request'][_0x192452(0xcf)](_0x192452(0xcb),_0x1d690e),_0x1491e6=repo_class_1[_0x192452(0xf7)][_0x192452(0xd8)](_0x4c5830,this['api'],this[_0x192452(0xe9)]);return _0x5c0b82[_0x192452(0xf6)]&&await git_internal_1[_0x192452(0x105)][_0x192452(0x111)](_0x1491e6,_0x5c0b82[_0x192452(0xe7)]||_0x192452(0xf2),'',this['credentials']),this['getOne'](_0x1491e6['name']);}catch(_0x3fc14c){if(_0x3fc14c instanceof api_error_1[_0x192452(0xfe)])throw _0x3fc14c;throw new bad_request_error_1[(_0x192452(0xe8))](_0x3fc14c);}}async[a215_0x262acd(0xef)](_0x5a5cde){const _0x122065=a215_0x262acd;try{const _0x47a9e1=await this[_0x122065(0xdb)](_0x5a5cde),_0x10b637=await _0x47a9e1[_0x122065(0xdf)]('');return repo_class_1[_0x122065(0xf7)][_0x122065(0xd8)](_0x10b637,this['api'],this[_0x122065(0xe9)]);}catch(_0x224ac9){if(_0x224ac9 instanceof api_error_1[_0x122065(0xfe)])throw _0x224ac9;throw new not_found_error_1[(_0x122065(0xc9))](_0x224ac9);}}async[a215_0x262acd(0xe3)](){const _0x2b2a0e=a215_0x262acd;try{let _0x374594='';if(this[_0x2b2a0e(0x103)])_0x374594=_0x2b2a0e(0xd2)+this[_0x2b2a0e(0x103)]+_0x2b2a0e(0x112);else{const _0x2fdbfd=await this['getUsername']();_0x374594=_0x2b2a0e(0xce)+_0x2fdbfd+'/projects';}let _0x1612d3=!![],_0x12600b=0x1;const _0x2fff7e=[];do{const _0x5190d4=await this[_0x2b2a0e(0x108)]['get'](_0x374594,{'params':{'page':_0x12600b,'per_page':0x64}});_0x2fff7e[_0x2b2a0e(0xf5)](..._0x5190d4),_0x1612d3=_0x5190d4[_0x2b2a0e(0xd3)]>0x0,_0x12600b+=0x1;}while(_0x1612d3);return _0x2fff7e[_0x2b2a0e(0x106)](_0x3e037a=>repo_class_1[_0x2b2a0e(0xf7)][_0x2b2a0e(0xd8)](_0x3e037a,this['api'],this[_0x2b2a0e(0xe9)]));}catch(_0x4476b8){if(_0x4476b8 instanceof api_error_1[_0x2b2a0e(0xfe)])throw _0x4476b8;throw new not_found_error_1[(_0x2b2a0e(0xc9))](_0x4476b8);}}async[a215_0x262acd(0xe0)](_0x4fdbd5,_0x216277){const _0x55d15c=a215_0x262acd;try{const _0x115450=await this[_0x55d15c(0xdb)](_0x4fdbd5),_0x1a92e6=await _0x115450[_0x55d15c(0xfa)]('',{..._0x216277,'path':_0x216277['name']});return repo_class_1['Repo'][_0x55d15c(0xd8)](_0x1a92e6,this[_0x55d15c(0xfd)],this['credentials']);}catch(_0x5662c8){if(_0x5662c8 instanceof api_error_1['ApiError'])throw _0x5662c8;throw new not_found_error_1[(_0x55d15c(0xc9))](_0x5662c8);}}async[a215_0x262acd(0xd0)](_0x5ceb13){const _0xf2ec49=a215_0x262acd;try{const _0x368e9c=await this[_0xf2ec49(0xdb)](_0x5ceb13);await _0x368e9c[_0xf2ec49(0xd0)]('');}catch(_0x8b4f52){if(_0x8b4f52 instanceof api_error_1['ApiError'])throw _0x8b4f52;throw new bad_request_error_1['BadRequestError'](_0x8b4f52);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a215_0x262acd(0xda)])(providers_tokens_1['Tokens']['credentials'])),__metadata(a215_0x262acd(0xc7),[gitlab_api_service_1[a215_0x262acd(0x10b)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports[a215_0x262acd(0x109)]=GitlabRepoService;