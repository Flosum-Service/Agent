const a170_0x24c5b3=a170_0x845a;(function(_0x1ba1a2,_0x19ea4e){const _0xba7a72=a170_0x845a,_0x3ab33c=_0x1ba1a2();while(!![]){try{const _0xc431c4=parseInt(_0xba7a72(0xe0))/0x1*(-parseInt(_0xba7a72(0xdf))/0x2)+parseInt(_0xba7a72(0xf5))/0x3+parseInt(_0xba7a72(0xc4))/0x4*(-parseInt(_0xba7a72(0xd0))/0x5)+parseInt(_0xba7a72(0xc0))/0x6*(parseInt(_0xba7a72(0xfb))/0x7)+-parseInt(_0xba7a72(0xba))/0x8*(parseInt(_0xba7a72(0xed))/0x9)+-parseInt(_0xba7a72(0xbf))/0xa+parseInt(_0xba7a72(0xce))/0xb*(parseInt(_0xba7a72(0xf8))/0xc);if(_0xc431c4===_0x19ea4e)break;else _0x3ab33c['push'](_0x3ab33c['shift']());}catch(_0x108f4e){_0x3ab33c['push'](_0x3ab33c['shift']());}}}(a170_0xdad7,0xa7fc5));const a170_0x44b781=(function(){let _0x5e4143=!![];return function(_0xb17815,_0x135d43){const _0x4a441f=_0x5e4143?function(){const _0x43dfef=a170_0x845a;if(_0x135d43){const _0x541967=_0x135d43[_0x43dfef(0xe3)](_0xb17815,arguments);return _0x135d43=null,_0x541967;}}:function(){};return _0x5e4143=![],_0x4a441f;};}()),a170_0x1b5dba=a170_0x44b781(this,function(){const _0x4b0edd=a170_0x845a;return a170_0x1b5dba[_0x4b0edd(0xe5)]()[_0x4b0edd(0xbb)]('(((.+)+)+)+$')[_0x4b0edd(0xe5)]()[_0x4b0edd(0xb9)](a170_0x1b5dba)[_0x4b0edd(0xbb)](_0x4b0edd(0xc8));});function a170_0x845a(_0x28d897,_0x5ec06){const _0x17de28=a170_0xdad7();return a170_0x845a=function(_0x1b5dba,_0x44b781){_0x1b5dba=_0x1b5dba-0xb5;let _0xdad73d=_0x17de28[_0x1b5dba];return _0xdad73d;},a170_0x845a(_0x28d897,_0x5ec06);}a170_0x1b5dba();'use strict';var __decorate=this&&this[a170_0x24c5b3(0xc6)]||function(_0x1e41a3,_0x152e26,_0x5127a0,_0x3ae22d){const _0x2e39d1=a170_0x24c5b3;var _0xe53ccb=arguments['length'],_0x3f035c=_0xe53ccb<0x3?_0x152e26:_0x3ae22d===null?_0x3ae22d=Object[_0x2e39d1(0xc1)](_0x152e26,_0x5127a0):_0x3ae22d,_0x52252a;if(typeof Reflect==='object'&&typeof Reflect[_0x2e39d1(0xb5)]===_0x2e39d1(0xf0))_0x3f035c=Reflect[_0x2e39d1(0xb5)](_0x1e41a3,_0x152e26,_0x5127a0,_0x3ae22d);else{for(var _0x4f87b3=_0x1e41a3['length']-0x1;_0x4f87b3>=0x0;_0x4f87b3--)if(_0x52252a=_0x1e41a3[_0x4f87b3])_0x3f035c=(_0xe53ccb<0x3?_0x52252a(_0x3f035c):_0xe53ccb>0x3?_0x52252a(_0x152e26,_0x5127a0,_0x3f035c):_0x52252a(_0x152e26,_0x5127a0))||_0x3f035c;}return _0xe53ccb>0x3&&_0x3f035c&&Object[_0x2e39d1(0xcf)](_0x152e26,_0x5127a0,_0x3f035c),_0x3f035c;},__metadata=this&&this[a170_0x24c5b3(0xbe)]||function(_0x16eeab,_0x4b7096){const _0x4a3cc5=a170_0x24c5b3;if(typeof Reflect===_0x4a3cc5(0xf3)&&typeof Reflect['metadata']===_0x4a3cc5(0xf0))return Reflect[_0x4a3cc5(0xbd)](_0x16eeab,_0x4b7096);},__param=this&&this[a170_0x24c5b3(0xe4)]||function(_0x51621c,_0x10ce40){return function(_0x8c503a,_0x1eeace){_0x10ce40(_0x8c503a,_0x1eeace,_0x51621c);};};Object[a170_0x24c5b3(0xcf)](exports,'__esModule',{'value':!![]}),exports[a170_0x24c5b3(0xfd)]=void 0x0;const bad_request_error_1=require(a170_0x24c5b3(0x101)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a170_0x24c5b3(0xbc)),typedi_1=require(a170_0x24c5b3(0xf7)),api_error_1=require(a170_0x24c5b3(0xd4)),git_internal_1=require(a170_0x24c5b3(0xd5)),repo_class_1=require(a170_0x24c5b3(0xdd)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require('../../credentials/dto/gitlab-credentials.dto'),providers_tokens_1=require(a170_0x24c5b3(0xfc));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a170_0x24c5b3(0x100)]{constructor(_0x467619,_0xdab8d5){const _0x16ea97=a170_0x24c5b3;super(_0x467619),this['api']=_0x467619,this['groupId']=_0xdab8d5[_0x16ea97(0xcd)],this[_0x16ea97(0xe8)]=_0xdab8d5;}async[a170_0x24c5b3(0xec)](){const _0x27f18a=a170_0x24c5b3;if(!this[_0x27f18a(0xd3)]){const _0x17e1c1=await this[_0x27f18a(0xd6)][_0x27f18a(0xb6)](this[_0x27f18a(0xcd)]);this[_0x27f18a(0xd3)]=_0x17e1c1[_0x27f18a(0xee)];}return this[_0x27f18a(0xd3)];}async['getUsername'](){const _0x587833=a170_0x24c5b3;if(!this[_0x587833(0xe2)]){const _0x1fe5f3=await this[_0x587833(0xd6)][_0x587833(0xf9)]();this[_0x587833(0xe2)]=_0x1fe5f3['username'];}return this[_0x587833(0xe2)];}async[a170_0x24c5b3(0xcb)](_0x370c31){const _0x488e44=a170_0x24c5b3,_0x33165c=await(this[_0x488e44(0xcd)]?this[_0x488e44(0xec)]():this[_0x488e44(0xc3)]()),_0x17b1c1=this['api'][_0x488e44(0xd8)](this[_0x488e44(0xc2)]['defaults'][_0x488e44(0xf2)]+'/projects/'+encodeURIComponent(_0x33165c+'/'+_0x370c31));return _0x17b1c1;}async['create'](_0x4b7e37){const _0x4c3e43=a170_0x24c5b3;try{const _0x2769e0={'name':_0x4b7e37[_0x4c3e43(0xe6)],'visibility':_0x4b7e37[_0x4c3e43(0xef)]?_0x4c3e43(0xef):_0x4c3e43(0xc7),'namespace_id':this[_0x4c3e43(0xcd)],..._0x4b7e37[_0x4c3e43(0xdb)]||{}},_0x1e8f2a=await this['request']['post'](_0x4c3e43(0xe1),_0x2769e0),_0x35aafc=repo_class_1[_0x4c3e43(0xc5)][_0x4c3e43(0xff)](_0x1e8f2a,this['api'],this[_0x4c3e43(0xe8)]);return _0x4b7e37[_0x4c3e43(0xd7)]&&await git_internal_1[_0x4c3e43(0xb8)][_0x4c3e43(0xda)](_0x35aafc,_0x4b7e37[_0x4c3e43(0xd2)]||_0x4c3e43(0xca),'',this[_0x4c3e43(0xe8)]),this[_0x4c3e43(0xf6)](_0x35aafc[_0x4c3e43(0xe6)]);}catch(_0x9fa070){if(_0x9fa070 instanceof api_error_1[_0x4c3e43(0xdc)])throw _0x9fa070;throw new bad_request_error_1[(_0x4c3e43(0xfe))](_0x9fa070);}}async['getOne'](_0x3273e3){const _0x3ca841=a170_0x24c5b3;try{const _0x37292e=await this[_0x3ca841(0xcb)](_0x3273e3),_0xfe79d7=await _0x37292e['get']('');return repo_class_1[_0x3ca841(0xc5)][_0x3ca841(0xff)](_0xfe79d7,this['api'],this['credentials']);}catch(_0xf61925){if(_0xf61925 instanceof api_error_1[_0x3ca841(0xdc)])throw _0xf61925;throw new not_found_error_1['NotFoundError'](_0xf61925);}}async['getAll'](){const _0x714ff2=a170_0x24c5b3;try{let _0x1ad344='';if(this[_0x714ff2(0xcd)])_0x1ad344=_0x714ff2(0xc9)+this[_0x714ff2(0xcd)]+_0x714ff2(0xea);else{const _0x5e3e32=await this[_0x714ff2(0xc3)]();_0x1ad344='users/'+_0x5e3e32+'/projects';}let _0x51690f=!![],_0x4c2a1b=0x1;const _0x4832d0=[];do{const _0x46e9f0=await this[_0x714ff2(0xc2)][_0x714ff2(0xeb)](_0x1ad344,{'params':{'page':_0x4c2a1b,'per_page':0x64}});_0x4832d0[_0x714ff2(0xf1)](..._0x46e9f0),_0x51690f=_0x46e9f0[_0x714ff2(0xd9)]>0x0,_0x4c2a1b+=0x1;}while(_0x51690f);return _0x4832d0[_0x714ff2(0xe9)](_0x29d5ea=>repo_class_1[_0x714ff2(0xc5)][_0x714ff2(0xff)](_0x29d5ea,this['api'],this[_0x714ff2(0xe8)]));}catch(_0x35233c){if(_0x35233c instanceof api_error_1[_0x714ff2(0xdc)])throw _0x35233c;throw new not_found_error_1['NotFoundError'](_0x35233c);}}async['update'](_0x3d54cb,_0x19040e){const _0x57ac8f=a170_0x24c5b3;try{const _0x4b8feb=await this[_0x57ac8f(0xcb)](_0x3d54cb),_0x4a52b0=await _0x4b8feb[_0x57ac8f(0xcc)]('',{..._0x19040e,'path':_0x19040e[_0x57ac8f(0xe6)]});return repo_class_1[_0x57ac8f(0xc5)][_0x57ac8f(0xff)](_0x4a52b0,this['api'],this['credentials']);}catch(_0x1815a5){if(_0x1815a5 instanceof api_error_1[_0x57ac8f(0xdc)])throw _0x1815a5;throw new not_found_error_1[(_0x57ac8f(0xde))](_0x1815a5);}}async['delete'](_0x351cf9){const _0x1ad76f=a170_0x24c5b3;try{const _0x4072fa=await this[_0x1ad76f(0xcb)](_0x351cf9);await _0x4072fa[_0x1ad76f(0xfa)]('');}catch(_0x407579){if(_0x407579 instanceof api_error_1['ApiError'])throw _0x407579;throw new bad_request_error_1[(_0x1ad76f(0xfe))](_0x407579);}}};function a170_0xdad7(){const _0x4a50b6=['../../providers.tokens','GitlabRepoService','BadRequestError','fromGitlab','GitRepoService','../../../../../core/errors/bad-request.error','decorate','getGroup','Inject','Git','constructor','4212808rcRnoV','search','../../api/gitlab-api.service','metadata','__metadata','8309640GMiUJC','72dXqVor','getOwnPropertyDescriptor','request','getUsername','3756EpKnGx','Repo','__decorate','public','(((.+)+)+)+$','groups/','master','createRequestToRepo','put','groupId','33913QURPyc','defineProperty','1680beHEge','GitlabApiService','defaultBranch','groupPath','../../../../../core/errors/api.error','../../../internal/git.internal','api','autoInit','createRequest','length','createEmptyBranch','apiBody','ApiError','../repo.class','NotFoundError','1756586ZrbanS','1BbhlOP','projects','username','apply','__param','toString','name','design:paramtypes','credentials','map','/projects','get','getGroupPath','9ZdLtjj','full_path','private','function','push','baseURL','object','GitlabCredentialsDto','43719IkUxoW','getOne','typedi','7464ewgAPd','getCurrentUser','delete','762552vooJKw'];a170_0xdad7=function(){return _0x4a50b6;};return a170_0xdad7();}GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a170_0x24c5b3(0xb7)])(providers_tokens_1['Tokens'][a170_0x24c5b3(0xe8)])),__metadata(a170_0x24c5b3(0xe7),[gitlab_api_service_1[a170_0x24c5b3(0xd1)],gitlab_credentials_dto_1[a170_0x24c5b3(0xf4)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;