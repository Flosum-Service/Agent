const a204_0x5ac422=a204_0x1db3;(function(_0x74cf15,_0x485be1){const _0x288ea2=a204_0x1db3,_0x46c206=_0x74cf15();while(!![]){try{const _0x3a5a98=parseInt(_0x288ea2(0x119))/0x1+-parseInt(_0x288ea2(0x120))/0x2+-parseInt(_0x288ea2(0x124))/0x3*(-parseInt(_0x288ea2(0x11c))/0x4)+parseInt(_0x288ea2(0x13a))/0x5+parseInt(_0x288ea2(0x121))/0x6+-parseInt(_0x288ea2(0x12e))/0x7+-parseInt(_0x288ea2(0x126))/0x8;if(_0x3a5a98===_0x485be1)break;else _0x46c206['push'](_0x46c206['shift']());}catch(_0x349baa){_0x46c206['push'](_0x46c206['shift']());}}}(a204_0x19d3,0x49392));const a204_0x3b8d44=(function(){let _0x27507=!![];return function(_0x433d94,_0x4c55cf){const _0x3c1e41=_0x27507?function(){const _0x38fe12=a204_0x1db3;if(_0x4c55cf){const _0x10a4a1=_0x4c55cf[_0x38fe12(0x134)](_0x433d94,arguments);return _0x4c55cf=null,_0x10a4a1;}}:function(){};return _0x27507=![],_0x3c1e41;};}()),a204_0x5e8389=a204_0x3b8d44(this,function(){const _0x5d470f=a204_0x1db3;return a204_0x5e8389[_0x5d470f(0x11d)]()['search'](_0x5d470f(0x14e))[_0x5d470f(0x11d)]()[_0x5d470f(0x143)](a204_0x5e8389)[_0x5d470f(0x158)]('(((.+)+)+)+$');});function a204_0x19d3(){const _0x2a722c=['__metadata','search','BadRequestError','post','../../credentials/dto/gitlab-credentials.dto','../../api/gitlab-api.service','GitlabRepoService','delete','getGroup','put','master','NotFoundError','groupId','269769OugMAv','decorate','getUsername','239044clvbwU','toString','update','full_path','377334EEkutT','1492530wybQMA','__param','metadata','15tfHnDV','createRequest','1165800xGGEyH','defineProperty','create','ApiError','get','../../../../../core/errors/not-found.error','/projects/','groups/','2318393WZRHbH','request','credentials','fromGitlab','name','object','apply','Repo','/projects','private','baseURL','function','740920XkNtyu','groupPath','GitRepoService','apiBody','Git','__esModule','getOne','GitlabApiService','length','constructor','../../../../../core/errors/bad-request.error','autoInit','users/','map','Tokens','public','getOwnPropertyDescriptor','username','defaults','../../../internal/git.internal','(((.+)+)+)+$','getGroupPath','api','../repo.class','Service','getAll','__decorate','createRequestToRepo','typedi'];a204_0x19d3=function(){return _0x2a722c;};return a204_0x19d3();}a204_0x5e8389();'use strict';var __decorate=this&&this[a204_0x5ac422(0x154)]||function(_0x578631,_0x220a27,_0x590782,_0x2d1263){const _0x5e89ea=a204_0x5ac422;var _0x10d013=arguments[_0x5e89ea(0x142)],_0x325aa2=_0x10d013<0x3?_0x220a27:_0x2d1263===null?_0x2d1263=Object[_0x5e89ea(0x14a)](_0x220a27,_0x590782):_0x2d1263,_0x599b37;if(typeof Reflect===_0x5e89ea(0x133)&&typeof Reflect['decorate']==='function')_0x325aa2=Reflect[_0x5e89ea(0x11a)](_0x578631,_0x220a27,_0x590782,_0x2d1263);else{for(var _0x371cb5=_0x578631['length']-0x1;_0x371cb5>=0x0;_0x371cb5--)if(_0x599b37=_0x578631[_0x371cb5])_0x325aa2=(_0x10d013<0x3?_0x599b37(_0x325aa2):_0x10d013>0x3?_0x599b37(_0x220a27,_0x590782,_0x325aa2):_0x599b37(_0x220a27,_0x590782))||_0x325aa2;}return _0x10d013>0x3&&_0x325aa2&&Object[_0x5e89ea(0x127)](_0x220a27,_0x590782,_0x325aa2),_0x325aa2;},__metadata=this&&this[a204_0x5ac422(0x157)]||function(_0x2862ad,_0x39dd63){const _0x2eda8d=a204_0x5ac422;if(typeof Reflect===_0x2eda8d(0x133)&&typeof Reflect[_0x2eda8d(0x123)]===_0x2eda8d(0x139))return Reflect[_0x2eda8d(0x123)](_0x2862ad,_0x39dd63);},__param=this&&this[a204_0x5ac422(0x122)]||function(_0x27bad5,_0x43f9a2){return function(_0x1deee7,_0x391527){_0x43f9a2(_0x1deee7,_0x391527,_0x27bad5);};};Object[a204_0x5ac422(0x127)](exports,a204_0x5ac422(0x13f),{'value':!![]}),exports[a204_0x5ac422(0x15d)]=void 0x0;function a204_0x1db3(_0x8184c5,_0x5aeb43){const _0x3fa645=a204_0x19d3();return a204_0x1db3=function(_0x5e8389,_0x3b8d44){_0x5e8389=_0x5e8389-0x118;let _0x19d370=_0x3fa645[_0x5e8389];return _0x19d370;},a204_0x1db3(_0x8184c5,_0x5aeb43);}const bad_request_error_1=require(a204_0x5ac422(0x144)),not_found_error_1=require(a204_0x5ac422(0x12b)),gitlab_api_service_1=require(a204_0x5ac422(0x15c)),typedi_1=require(a204_0x5ac422(0x156)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a204_0x5ac422(0x14d)),repo_class_1=require(a204_0x5ac422(0x151)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a204_0x5ac422(0x15b)),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a204_0x5ac422(0x13c)]{constructor(_0x3fb679,_0x5aa9b4){const _0x37c3d6=a204_0x5ac422;super(_0x3fb679),this[_0x37c3d6(0x150)]=_0x3fb679,this['groupId']=_0x5aa9b4['groupId'],this['credentials']=_0x5aa9b4;}async['getGroupPath'](){const _0x52c4d1=a204_0x5ac422;if(!this[_0x52c4d1(0x13b)]){const _0x3bf5d3=await this[_0x52c4d1(0x150)][_0x52c4d1(0x15f)](this['groupId']);this[_0x52c4d1(0x13b)]=_0x3bf5d3[_0x52c4d1(0x11f)];}return this[_0x52c4d1(0x13b)];}async[a204_0x5ac422(0x11b)](){const _0x2437a0=a204_0x5ac422;if(!this[_0x2437a0(0x14b)]){const _0x4edc9f=await this[_0x2437a0(0x150)]['getCurrentUser']();this[_0x2437a0(0x14b)]=_0x4edc9f[_0x2437a0(0x14b)];}return this[_0x2437a0(0x14b)];}async[a204_0x5ac422(0x155)](_0x2d680d){const _0x5168d6=a204_0x5ac422,_0x5c605f=await(this[_0x5168d6(0x118)]?this[_0x5168d6(0x14f)]():this['getUsername']()),_0x4dcf57=this['api'][_0x5168d6(0x125)](this[_0x5168d6(0x12f)][_0x5168d6(0x14c)][_0x5168d6(0x138)]+_0x5168d6(0x12c)+encodeURIComponent(_0x5c605f+'/'+_0x2d680d));return _0x4dcf57;}async[a204_0x5ac422(0x128)](_0x18f690){const _0x4f0a22=a204_0x5ac422;try{const _0x104f2b={'name':_0x18f690['name'],'visibility':_0x18f690[_0x4f0a22(0x137)]?_0x4f0a22(0x137):_0x4f0a22(0x149),'namespace_id':this[_0x4f0a22(0x118)],..._0x18f690[_0x4f0a22(0x13d)]||{}},_0x5b18f9=await this['request'][_0x4f0a22(0x15a)]('projects',_0x104f2b),_0x3d8cfd=repo_class_1[_0x4f0a22(0x135)]['fromGitlab'](_0x5b18f9,this['api'],this[_0x4f0a22(0x130)]);return _0x18f690[_0x4f0a22(0x145)]&&await git_internal_1[_0x4f0a22(0x13e)]['createEmptyBranch'](_0x3d8cfd,_0x18f690['defaultBranch']||_0x4f0a22(0x161),'',this[_0x4f0a22(0x130)]),this[_0x4f0a22(0x140)](_0x3d8cfd[_0x4f0a22(0x132)]);}catch(_0x467e9d){if(_0x467e9d instanceof api_error_1['ApiError'])throw _0x467e9d;throw new bad_request_error_1['BadRequestError'](_0x467e9d);}}async[a204_0x5ac422(0x140)](_0x20a603){const _0x209147=a204_0x5ac422;try{const _0x2821cb=await this[_0x209147(0x155)](_0x20a603),_0x69474f=await _0x2821cb['get']('');return repo_class_1['Repo'][_0x209147(0x131)](_0x69474f,this[_0x209147(0x150)],this['credentials']);}catch(_0x509d80){if(_0x509d80 instanceof api_error_1[_0x209147(0x129)])throw _0x509d80;throw new not_found_error_1[(_0x209147(0x162))](_0x509d80);}}async[a204_0x5ac422(0x153)](){const _0x362a78=a204_0x5ac422;try{let _0x1510ad='';if(this[_0x362a78(0x118)])_0x1510ad=_0x362a78(0x12d)+this[_0x362a78(0x118)]+_0x362a78(0x136);else{const _0x5ddbae=await this[_0x362a78(0x11b)]();_0x1510ad=_0x362a78(0x146)+_0x5ddbae+_0x362a78(0x136);}let _0x387cc8=!![],_0x307b86=0x1;const _0x3a3c97=[];do{const _0x46b35f=await this[_0x362a78(0x12f)][_0x362a78(0x12a)](_0x1510ad,{'params':{'page':_0x307b86,'per_page':0x64}});_0x3a3c97['push'](..._0x46b35f),_0x387cc8=_0x46b35f[_0x362a78(0x142)]>0x0,_0x307b86+=0x1;}while(_0x387cc8);return _0x3a3c97[_0x362a78(0x147)](_0x24d0d8=>repo_class_1['Repo'][_0x362a78(0x131)](_0x24d0d8,this[_0x362a78(0x150)],this[_0x362a78(0x130)]));}catch(_0x2ad6e0){if(_0x2ad6e0 instanceof api_error_1[_0x362a78(0x129)])throw _0x2ad6e0;throw new not_found_error_1['NotFoundError'](_0x2ad6e0);}}async[a204_0x5ac422(0x11e)](_0x35e3eb,_0x10465a){const _0x544b32=a204_0x5ac422;try{const _0x561767=await this[_0x544b32(0x155)](_0x35e3eb),_0x4cdca1=await _0x561767[_0x544b32(0x160)]('',{..._0x10465a,'path':_0x10465a[_0x544b32(0x132)]});return repo_class_1[_0x544b32(0x135)][_0x544b32(0x131)](_0x4cdca1,this[_0x544b32(0x150)],this['credentials']);}catch(_0x2b96e7){if(_0x2b96e7 instanceof api_error_1[_0x544b32(0x129)])throw _0x2b96e7;throw new not_found_error_1['NotFoundError'](_0x2b96e7);}}async['delete'](_0xf7fa07){const _0x2e0642=a204_0x5ac422;try{const _0x8f6319=await this[_0x2e0642(0x155)](_0xf7fa07);await _0x8f6319[_0x2e0642(0x15e)]('');}catch(_0x1a8408){if(_0x1a8408 instanceof api_error_1[_0x2e0642(0x129)])throw _0x1a8408;throw new bad_request_error_1[(_0x2e0642(0x159))](_0x1a8408);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a204_0x5ac422(0x152)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a204_0x5ac422(0x148)][a204_0x5ac422(0x130)])),__metadata('design:paramtypes',[gitlab_api_service_1[a204_0x5ac422(0x141)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports[a204_0x5ac422(0x15d)]=GitlabRepoService;