const a203_0xa7008a=a203_0x2b17;(function(_0x520406,_0x22c52e){const _0x1c36ac=a203_0x2b17,_0x6b4910=_0x520406();while(!![]){try{const _0x46ea90=-parseInt(_0x1c36ac(0x126))/0x1+-parseInt(_0x1c36ac(0x12b))/0x2*(-parseInt(_0x1c36ac(0x11d))/0x3)+parseInt(_0x1c36ac(0x132))/0x4+parseInt(_0x1c36ac(0x14a))/0x5+parseInt(_0x1c36ac(0x118))/0x6*(parseInt(_0x1c36ac(0x10c))/0x7)+parseInt(_0x1c36ac(0x125))/0x8*(parseInt(_0x1c36ac(0x143))/0x9)+-parseInt(_0x1c36ac(0x134))/0xa*(parseInt(_0x1c36ac(0x147))/0xb);if(_0x46ea90===_0x22c52e)break;else _0x6b4910['push'](_0x6b4910['shift']());}catch(_0x3c5c9c){_0x6b4910['push'](_0x6b4910['shift']());}}}(a203_0xc674,0xdc35b));const a203_0x34bd45=(function(){let _0x21113c=!![];return function(_0x426eeb,_0x3a477d){const _0xde7697=_0x21113c?function(){if(_0x3a477d){const _0x556a52=_0x3a477d['apply'](_0x426eeb,arguments);return _0x3a477d=null,_0x556a52;}}:function(){};return _0x21113c=![],_0xde7697;};}()),a203_0x2d6c13=a203_0x34bd45(this,function(){const _0x118e6d=a203_0x2b17;return a203_0x2d6c13[_0x118e6d(0x13b)]()[_0x118e6d(0x11c)](_0x118e6d(0x111))[_0x118e6d(0x13b)]()[_0x118e6d(0x11f)](a203_0x2d6c13)['search']('(((.+)+)+)+$');});a203_0x2d6c13();'use strict';var __decorate=this&&this['__decorate']||function(_0x1174d2,_0x13b1aa,_0x17deaa,_0x51830c){const _0x11c6a0=a203_0x2b17;var _0x9e7e6c=arguments[_0x11c6a0(0x138)],_0x482b11=_0x9e7e6c<0x3?_0x13b1aa:_0x51830c===null?_0x51830c=Object['getOwnPropertyDescriptor'](_0x13b1aa,_0x17deaa):_0x51830c,_0x36d509;if(typeof Reflect==='object'&&typeof Reflect[_0x11c6a0(0x122)]===_0x11c6a0(0x135))_0x482b11=Reflect[_0x11c6a0(0x122)](_0x1174d2,_0x13b1aa,_0x17deaa,_0x51830c);else{for(var _0x3a524c=_0x1174d2[_0x11c6a0(0x138)]-0x1;_0x3a524c>=0x0;_0x3a524c--)if(_0x36d509=_0x1174d2[_0x3a524c])_0x482b11=(_0x9e7e6c<0x3?_0x36d509(_0x482b11):_0x9e7e6c>0x3?_0x36d509(_0x13b1aa,_0x17deaa,_0x482b11):_0x36d509(_0x13b1aa,_0x17deaa))||_0x482b11;}return _0x9e7e6c>0x3&&_0x482b11&&Object[_0x11c6a0(0x121)](_0x13b1aa,_0x17deaa,_0x482b11),_0x482b11;},__metadata=this&&this['__metadata']||function(_0x5e312a,_0x1a536b){const _0xfa39b6=a203_0x2b17;if(typeof Reflect==='object'&&typeof Reflect[_0xfa39b6(0x123)]===_0xfa39b6(0x135))return Reflect[_0xfa39b6(0x123)](_0x5e312a,_0x1a536b);},__param=this&&this[a203_0xa7008a(0x10e)]||function(_0xada867,_0x4cda47){return function(_0x1a5fe5,_0x121c2a){_0x4cda47(_0x1a5fe5,_0x121c2a,_0xada867);};};function a203_0xc674(){const _0x55c1ef=['GitlabCredentialsDto','projects','9rmmzDe','BadRequestError','/projects/','Service','74206WqJeNa','createRequestToRepo','post','2237805TPvsSh','NotFoundError','request','GitlabApiService','push','fromGitlab','ApiError','287fEpQdd','getGroupPath','__param','groupId','map','(((.+)+)+)+$','credentials','../../providers.tokens','full_path','master','public','delete','202974pTMcih','Repo','put','../../../../../core/errors/not-found.error','search','21Dgkata','/projects','constructor','Git','defineProperty','decorate','metadata','baseURL','2672184SoFZAZ','1268565ubhhff','Inject','private','username','Tokens','492CRHnbk','design:paramtypes','../../credentials/dto/gitlab-credentials.dto','autoInit','typedi','getUsername','groupPath','3185108hSKndv','api','1180BaGEkg','function','getGroup','getOne','length','defaults','name','toString','getCurrentUser','groups/','apiBody','get','GitlabRepoService'];a203_0xc674=function(){return _0x55c1ef;};return a203_0xc674();}Object[a203_0xa7008a(0x121)](exports,'__esModule',{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a203_0xa7008a(0x11b)),gitlab_api_service_1=require('../../api/gitlab-api.service'),typedi_1=require(a203_0xa7008a(0x12f)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a203_0xa7008a(0x12d)),providers_tokens_1=require(a203_0xa7008a(0x113));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x310759,_0x421125){const _0x17e9f0=a203_0xa7008a;super(_0x310759),this[_0x17e9f0(0x133)]=_0x310759,this['groupId']=_0x421125[_0x17e9f0(0x10f)],this[_0x17e9f0(0x112)]=_0x421125;}async[a203_0xa7008a(0x10d)](){const _0x19557d=a203_0xa7008a;if(!this[_0x19557d(0x131)]){const _0x489a97=await this[_0x19557d(0x133)][_0x19557d(0x136)](this[_0x19557d(0x10f)]);this['groupPath']=_0x489a97[_0x19557d(0x114)];}return this[_0x19557d(0x131)];}async['getUsername'](){const _0x557608=a203_0xa7008a;if(!this['username']){const _0xf7608d=await this[_0x557608(0x133)][_0x557608(0x13c)]();this[_0x557608(0x129)]=_0xf7608d[_0x557608(0x129)];}return this[_0x557608(0x129)];}async['createRequestToRepo'](_0x595930){const _0x495fad=a203_0xa7008a,_0x1823f2=await(this[_0x495fad(0x10f)]?this[_0x495fad(0x10d)]():this[_0x495fad(0x130)]()),_0x3e612a=this[_0x495fad(0x133)]['createRequest'](this[_0x495fad(0x14c)][_0x495fad(0x139)][_0x495fad(0x124)]+_0x495fad(0x145)+encodeURIComponent(_0x1823f2+'/'+_0x595930));return _0x3e612a;}async['create'](_0x3648f4){const _0xf58e2b=a203_0xa7008a;try{const _0x4e4ebe={'name':_0x3648f4[_0xf58e2b(0x13a)],'visibility':_0x3648f4['private']?_0xf58e2b(0x128):_0xf58e2b(0x116),'namespace_id':this[_0xf58e2b(0x10f)],..._0x3648f4[_0xf58e2b(0x13e)]||{}},_0x134f83=await this[_0xf58e2b(0x14c)][_0xf58e2b(0x149)](_0xf58e2b(0x142),_0x4e4ebe),_0x9d7797=repo_class_1['Repo']['fromGitlab'](_0x134f83,this[_0xf58e2b(0x133)],this[_0xf58e2b(0x112)]);return _0x3648f4[_0xf58e2b(0x12e)]&&await git_internal_1[_0xf58e2b(0x120)]['createEmptyBranch'](_0x9d7797,_0x3648f4['defaultBranch']||_0xf58e2b(0x115),'',this[_0xf58e2b(0x112)]),this[_0xf58e2b(0x137)](_0x9d7797[_0xf58e2b(0x13a)]);}catch(_0x45bc55){if(_0x45bc55 instanceof api_error_1['ApiError'])throw _0x45bc55;throw new bad_request_error_1[(_0xf58e2b(0x144))](_0x45bc55);}}async['getOne'](_0x255499){const _0x54f7f3=a203_0xa7008a;try{const _0x1d46d2=await this[_0x54f7f3(0x148)](_0x255499),_0x33320c=await _0x1d46d2[_0x54f7f3(0x13f)]('');return repo_class_1[_0x54f7f3(0x119)]['fromGitlab'](_0x33320c,this[_0x54f7f3(0x133)],this[_0x54f7f3(0x112)]);}catch(_0x125c61){if(_0x125c61 instanceof api_error_1[_0x54f7f3(0x150)])throw _0x125c61;throw new not_found_error_1['NotFoundError'](_0x125c61);}}async['getAll'](){const _0x418f4c=a203_0xa7008a;try{let _0x16e073='';if(this[_0x418f4c(0x10f)])_0x16e073=_0x418f4c(0x13d)+this['groupId']+_0x418f4c(0x11e);else{const _0x43ed9c=await this[_0x418f4c(0x130)]();_0x16e073='users/'+_0x43ed9c+_0x418f4c(0x11e);}let _0x3eed7c=!![],_0x18f48e=0x1;const _0x22421e=[];do{const _0x169230=await this[_0x418f4c(0x14c)]['get'](_0x16e073,{'params':{'page':_0x18f48e,'per_page':0x64}});_0x22421e[_0x418f4c(0x14e)](..._0x169230),_0x3eed7c=_0x169230[_0x418f4c(0x138)]>0x0,_0x18f48e+=0x1;}while(_0x3eed7c);return _0x22421e[_0x418f4c(0x110)](_0x3c221e=>repo_class_1['Repo'][_0x418f4c(0x14f)](_0x3c221e,this[_0x418f4c(0x133)],this[_0x418f4c(0x112)]));}catch(_0x1e5336){if(_0x1e5336 instanceof api_error_1[_0x418f4c(0x150)])throw _0x1e5336;throw new not_found_error_1[(_0x418f4c(0x14b))](_0x1e5336);}}async['update'](_0x189691,_0x3ae15c){const _0x29e376=a203_0xa7008a;try{const _0x487807=await this[_0x29e376(0x148)](_0x189691),_0x17f4d4=await _0x487807[_0x29e376(0x11a)]('',{..._0x3ae15c,'path':_0x3ae15c[_0x29e376(0x13a)]});return repo_class_1[_0x29e376(0x119)][_0x29e376(0x14f)](_0x17f4d4,this[_0x29e376(0x133)],this[_0x29e376(0x112)]);}catch(_0x48dbda){if(_0x48dbda instanceof api_error_1['ApiError'])throw _0x48dbda;throw new not_found_error_1[(_0x29e376(0x14b))](_0x48dbda);}}async[a203_0xa7008a(0x117)](_0x8f0ba2){const _0x269639=a203_0xa7008a;try{const _0x55fd44=await this[_0x269639(0x148)](_0x8f0ba2);await _0x55fd44[_0x269639(0x117)]('');}catch(_0x4f1db7){if(_0x4f1db7 instanceof api_error_1[_0x269639(0x150)])throw _0x4f1db7;throw new bad_request_error_1[(_0x269639(0x144))](_0x4f1db7);}}};function a203_0x2b17(_0x5bab6c,_0xb7b3e){const _0x45e915=a203_0xc674();return a203_0x2b17=function(_0x2d6c13,_0x34bd45){_0x2d6c13=_0x2d6c13-0x10c;let _0xc6746d=_0x45e915[_0x2d6c13];return _0xc6746d;},a203_0x2b17(_0x5bab6c,_0xb7b3e);}GitlabRepoService=__decorate([(0x0,typedi_1[a203_0xa7008a(0x146)])(),__param(0x1,(0x0,typedi_1[a203_0xa7008a(0x127)])(providers_tokens_1[a203_0xa7008a(0x12a)][a203_0xa7008a(0x112)])),__metadata(a203_0xa7008a(0x12c),[gitlab_api_service_1[a203_0xa7008a(0x14d)],gitlab_credentials_dto_1[a203_0xa7008a(0x141)]])],GitlabRepoService),exports[a203_0xa7008a(0x140)]=GitlabRepoService;