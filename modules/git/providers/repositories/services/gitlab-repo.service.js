const a203_0x119c0e=a203_0x5e8f;function a203_0x3ff9(){const _0x8fe1ad=['../../api/gitlab-api.service','6212BPIvTm','../../providers.tokens','18457740vbeiXt','create','1065LORhMX','459rXjnDi','../../credentials/dto/gitlab-credentials.dto','2898310KudnXH','defaultBranch','createRequestToRepo','Git','autoInit','(((.+)+)+)+$','groupPath','master','getCurrentUser','fromGitlab','apiBody','105048fRarwY','/projects/','function','users/','request','Tokens','/projects','api','__esModule','70hFadxN','700697rdMizo','credentials','GitRepoService','private','getOne','getOwnPropertyDescriptor','__param','design:paramtypes','groupId','ApiError','./git-repo.service','object','decorate','getGroup','../../../../../core/errors/not-found.error','GitlabCredentialsDto','../../../../../core/errors/bad-request.error','Repo','2fcFHgN','__decorate','delete','GitlabRepoService','toString','../../../../../core/errors/api.error','projects','metadata','length','get','map','381227kCKLNW','defaults','createRequest','update','constructor','username','12MHTcKS','../../../internal/git.internal','defineProperty','1505882NxKxgL','BadRequestError','getGroupPath','NotFoundError','name','getUsername','Inject','groups/'];a203_0x3ff9=function(){return _0x8fe1ad;};return a203_0x3ff9();}(function(_0x3ee52d,_0x3ea3f2){const _0x1df64a=a203_0x5e8f,_0x409d5b=_0x3ee52d();while(!![]){try{const _0x3e0438=-parseInt(_0x1df64a(0x10a))/0x1*(parseInt(_0x1df64a(0x11c))/0x2)+parseInt(_0x1df64a(0xf2))/0x3*(parseInt(_0x1df64a(0x139))/0x4)+-parseInt(_0x1df64a(0xf5))/0x5*(parseInt(_0x1df64a(0x12d))/0x6)+parseInt(_0x1df64a(0x130))/0x7+parseInt(_0x1df64a(0x100))/0x8*(parseInt(_0x1df64a(0xf3))/0x9)+-parseInt(_0x1df64a(0x109))/0xa*(parseInt(_0x1df64a(0x127))/0xb)+parseInt(_0x1df64a(0x13b))/0xc;if(_0x3e0438===_0x3ea3f2)break;else _0x409d5b['push'](_0x409d5b['shift']());}catch(_0x3c74cf){_0x409d5b['push'](_0x409d5b['shift']());}}}(a203_0x3ff9,0xd4cdf));const a203_0x4a5c4c=(function(){let _0x257ce0=!![];return function(_0x276c05,_0x598a51){const _0x200b20=_0x257ce0?function(){if(_0x598a51){const _0xb8d23d=_0x598a51['apply'](_0x276c05,arguments);return _0x598a51=null,_0xb8d23d;}}:function(){};return _0x257ce0=![],_0x200b20;};}()),a203_0x23450a=a203_0x4a5c4c(this,function(){const _0x4842f1=a203_0x5e8f;return a203_0x23450a[_0x4842f1(0x120)]()['search'](_0x4842f1(0xfa))['toString']()[_0x4842f1(0x12b)](a203_0x23450a)['search'](_0x4842f1(0xfa));});a203_0x23450a();function a203_0x5e8f(_0x3fcae6,_0x5643e){const _0x4cc31c=a203_0x3ff9();return a203_0x5e8f=function(_0x23450a,_0x4a5c4c){_0x23450a=_0x23450a-0xf1;let _0x3ff918=_0x4cc31c[_0x23450a];return _0x3ff918;},a203_0x5e8f(_0x3fcae6,_0x5643e);}'use strict';var __decorate=this&&this[a203_0x119c0e(0x11d)]||function(_0xa7041,_0x4e07db,_0x3c0518,_0x312e88){const _0x4c05b9=a203_0x119c0e;var _0x47dd9b=arguments[_0x4c05b9(0x124)],_0x2c5177=_0x47dd9b<0x3?_0x4e07db:_0x312e88===null?_0x312e88=Object[_0x4c05b9(0x10f)](_0x4e07db,_0x3c0518):_0x312e88,_0x477d3c;if(typeof Reflect==='object'&&typeof Reflect[_0x4c05b9(0x116)]==='function')_0x2c5177=Reflect[_0x4c05b9(0x116)](_0xa7041,_0x4e07db,_0x3c0518,_0x312e88);else{for(var _0x5fc09f=_0xa7041['length']-0x1;_0x5fc09f>=0x0;_0x5fc09f--)if(_0x477d3c=_0xa7041[_0x5fc09f])_0x2c5177=(_0x47dd9b<0x3?_0x477d3c(_0x2c5177):_0x47dd9b>0x3?_0x477d3c(_0x4e07db,_0x3c0518,_0x2c5177):_0x477d3c(_0x4e07db,_0x3c0518))||_0x2c5177;}return _0x47dd9b>0x3&&_0x2c5177&&Object[_0x4c05b9(0x12f)](_0x4e07db,_0x3c0518,_0x2c5177),_0x2c5177;},__metadata=this&&this['__metadata']||function(_0x2955d8,_0x45949f){const _0x36d1f6=a203_0x119c0e;if(typeof Reflect===_0x36d1f6(0x115)&&typeof Reflect[_0x36d1f6(0x123)]===_0x36d1f6(0x102))return Reflect[_0x36d1f6(0x123)](_0x2955d8,_0x45949f);},__param=this&&this[a203_0x119c0e(0x110)]||function(_0x45414b,_0x3452d5){return function(_0x4a2a9e,_0x3f9971){_0x3452d5(_0x4a2a9e,_0x3f9971,_0x45414b);};};Object[a203_0x119c0e(0x12f)](exports,a203_0x119c0e(0x108),{'value':!![]}),exports['GitlabRepoService']=void 0x0;const bad_request_error_1=require(a203_0x119c0e(0x11a)),not_found_error_1=require(a203_0x119c0e(0x118)),gitlab_api_service_1=require(a203_0x119c0e(0x138)),typedi_1=require('typedi'),api_error_1=require(a203_0x119c0e(0x121)),git_internal_1=require(a203_0x119c0e(0x12e)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a203_0x119c0e(0x114)),gitlab_credentials_dto_1=require(a203_0x119c0e(0xf4)),providers_tokens_1=require(a203_0x119c0e(0x13a));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a203_0x119c0e(0x10c)]{constructor(_0xde3e3c,_0x44fa5f){const _0x1d77fb=a203_0x119c0e;super(_0xde3e3c),this['api']=_0xde3e3c,this[_0x1d77fb(0x112)]=_0x44fa5f['groupId'],this[_0x1d77fb(0x10b)]=_0x44fa5f;}async[a203_0x119c0e(0x132)](){const _0x5ad6fc=a203_0x119c0e;if(!this[_0x5ad6fc(0xfb)]){const _0x443802=await this[_0x5ad6fc(0x107)][_0x5ad6fc(0x117)](this['groupId']);this[_0x5ad6fc(0xfb)]=_0x443802['full_path'];}return this['groupPath'];}async['getUsername'](){const _0x3cb704=a203_0x119c0e;if(!this[_0x3cb704(0x12c)]){const _0x54340f=await this[_0x3cb704(0x107)][_0x3cb704(0xfd)]();this[_0x3cb704(0x12c)]=_0x54340f['username'];}return this[_0x3cb704(0x12c)];}async[a203_0x119c0e(0xf7)](_0x3144b2){const _0x15b7ae=a203_0x119c0e,_0x1c6366=await(this['groupId']?this['getGroupPath']():this[_0x15b7ae(0x135)]()),_0x2ee6b2=this['api'][_0x15b7ae(0x129)](this['request'][_0x15b7ae(0x128)]['baseURL']+_0x15b7ae(0x101)+encodeURIComponent(_0x1c6366+'/'+_0x3144b2));return _0x2ee6b2;}async[a203_0x119c0e(0xf1)](_0x2f744e){const _0x13f6eb=a203_0x119c0e;try{const _0x422fb7={'name':_0x2f744e[_0x13f6eb(0x134)],'visibility':_0x2f744e[_0x13f6eb(0x10d)]?'private':'public','namespace_id':this['groupId'],..._0x2f744e[_0x13f6eb(0xff)]||{}},_0x210842=await this['request']['post'](_0x13f6eb(0x122),_0x422fb7),_0x299335=repo_class_1[_0x13f6eb(0x11b)]['fromGitlab'](_0x210842,this[_0x13f6eb(0x107)],this['credentials']);return _0x2f744e[_0x13f6eb(0xf9)]&&await git_internal_1[_0x13f6eb(0xf8)]['createEmptyBranch'](_0x299335,_0x2f744e[_0x13f6eb(0xf6)]||_0x13f6eb(0xfc),'',this[_0x13f6eb(0x10b)]),this[_0x13f6eb(0x10e)](_0x299335[_0x13f6eb(0x134)]);}catch(_0x3d4217){if(_0x3d4217 instanceof api_error_1[_0x13f6eb(0x113)])throw _0x3d4217;throw new bad_request_error_1[(_0x13f6eb(0x131))](_0x3d4217);}}async[a203_0x119c0e(0x10e)](_0x507882){const _0xfb3286=a203_0x119c0e;try{const _0xf00d45=await this[_0xfb3286(0xf7)](_0x507882),_0x6c378a=await _0xf00d45[_0xfb3286(0x125)]('');return repo_class_1[_0xfb3286(0x11b)][_0xfb3286(0xfe)](_0x6c378a,this[_0xfb3286(0x107)],this[_0xfb3286(0x10b)]);}catch(_0x57fb98){if(_0x57fb98 instanceof api_error_1[_0xfb3286(0x113)])throw _0x57fb98;throw new not_found_error_1['NotFoundError'](_0x57fb98);}}async['getAll'](){const _0x3e9625=a203_0x119c0e;try{let _0x56ce90='';if(this[_0x3e9625(0x112)])_0x56ce90=_0x3e9625(0x137)+this[_0x3e9625(0x112)]+_0x3e9625(0x106);else{const _0x747c3f=await this['getUsername']();_0x56ce90=_0x3e9625(0x103)+_0x747c3f+_0x3e9625(0x106);}let _0x32045a=!![],_0x18443d=0x1;const _0x5d4a16=[];do{const _0x407c7a=await this[_0x3e9625(0x104)][_0x3e9625(0x125)](_0x56ce90,{'params':{'page':_0x18443d,'per_page':0x64}});_0x5d4a16['push'](..._0x407c7a),_0x32045a=_0x407c7a[_0x3e9625(0x124)]>0x0,_0x18443d+=0x1;}while(_0x32045a);return _0x5d4a16[_0x3e9625(0x126)](_0x5e4dc0=>repo_class_1[_0x3e9625(0x11b)]['fromGitlab'](_0x5e4dc0,this[_0x3e9625(0x107)],this[_0x3e9625(0x10b)]));}catch(_0x510287){if(_0x510287 instanceof api_error_1[_0x3e9625(0x113)])throw _0x510287;throw new not_found_error_1['NotFoundError'](_0x510287);}}async[a203_0x119c0e(0x12a)](_0x227338,_0x43fa46){const _0x1a0023=a203_0x119c0e;try{const _0x5baeed=await this[_0x1a0023(0xf7)](_0x227338),_0x887544=await _0x5baeed['put']('',{..._0x43fa46,'path':_0x43fa46['name']});return repo_class_1['Repo'][_0x1a0023(0xfe)](_0x887544,this[_0x1a0023(0x107)],this[_0x1a0023(0x10b)]);}catch(_0x408dc1){if(_0x408dc1 instanceof api_error_1[_0x1a0023(0x113)])throw _0x408dc1;throw new not_found_error_1[(_0x1a0023(0x133))](_0x408dc1);}}async[a203_0x119c0e(0x11e)](_0x9086dc){const _0x4527e1=a203_0x119c0e;try{const _0xb82385=await this[_0x4527e1(0xf7)](_0x9086dc);await _0xb82385[_0x4527e1(0x11e)]('');}catch(_0x1a97c7){if(_0x1a97c7 instanceof api_error_1[_0x4527e1(0x113)])throw _0x1a97c7;throw new bad_request_error_1['BadRequestError'](_0x1a97c7);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a203_0x119c0e(0x136)])(providers_tokens_1[a203_0x119c0e(0x105)][a203_0x119c0e(0x10b)])),__metadata(a203_0x119c0e(0x111),[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a203_0x119c0e(0x119)]])],GitlabRepoService),exports[a203_0x119c0e(0x11f)]=GitlabRepoService;