const a241_0x50f18c=a241_0x150a;(function(_0x4508cd,_0x2e2f74){const _0x1a38d5=a241_0x150a,_0x2834c8=_0x4508cd();while(!![]){try{const _0x2a521b=-parseInt(_0x1a38d5(0x127))/0x1+parseInt(_0x1a38d5(0x142))/0x2*(parseInt(_0x1a38d5(0x124))/0x3)+parseInt(_0x1a38d5(0x13c))/0x4+parseInt(_0x1a38d5(0x111))/0x5*(-parseInt(_0x1a38d5(0x118))/0x6)+-parseInt(_0x1a38d5(0x126))/0x7*(parseInt(_0x1a38d5(0x146))/0x8)+-parseInt(_0x1a38d5(0x133))/0x9*(parseInt(_0x1a38d5(0x13b))/0xa)+-parseInt(_0x1a38d5(0x115))/0xb;if(_0x2a521b===_0x2e2f74)break;else _0x2834c8['push'](_0x2834c8['shift']());}catch(_0x53a96a){_0x2834c8['push'](_0x2834c8['shift']());}}}(a241_0x2ed7,0xe3280));const a241_0x4ebaaa=(function(){let _0x5c0b9f=!![];return function(_0x5249be,_0x4a3401){const _0x3e52ce=_0x5c0b9f?function(){const _0x12c97f=a241_0x150a;if(_0x4a3401){const _0x483a1=_0x4a3401[_0x12c97f(0x13e)](_0x5249be,arguments);return _0x4a3401=null,_0x483a1;}}:function(){};return _0x5c0b9f=![],_0x3e52ce;};}()),a241_0xb2d8af=a241_0x4ebaaa(this,function(){const _0x5c4f7e=a241_0x150a;return a241_0xb2d8af[_0x5c4f7e(0x132)]()[_0x5c4f7e(0x144)](_0x5c4f7e(0x12b))[_0x5c4f7e(0x132)]()['constructor'](a241_0xb2d8af)[_0x5c4f7e(0x144)]('(((.+)+)+)+$');});a241_0xb2d8af();function a241_0x150a(_0x546b18,_0x4ed989){const _0x2486a9=a241_0x2ed7();return a241_0x150a=function(_0xb2d8af,_0x4ebaaa){_0xb2d8af=_0xb2d8af-0x109;let _0x2ed77c=_0x2486a9[_0xb2d8af];return _0x2ed77c;},a241_0x150a(_0x546b18,_0x4ed989);}'use strict';function a241_0x2ed7(){const _0x38a1ec=['createRequestToRepo','decorate','name','Git','function','./git-repo.service','Repo','update','getGroup','autoInit','getUsername','groupPath','349135vODvuC','GitRepoService','__decorate','baseURL','5301802MclCVH','private','metadata','6yGNnsq','../../../../../core/errors/api.error','Service','getAll','typedi','push','create','put','__param','username','users/','/projects','898041pGyPaI','groupId','1184029aFJpQi','174305oJIPcJ','get','createRequest','credentials','(((.+)+)+)+$','object','map','length','NotFoundError','../../../../../core/errors/bad-request.error','fromGitlab','toString','1683657piCLcz','ApiError','getOwnPropertyDescriptor','api','groups/','GitlabRepoService','../../credentials/dto/gitlab-credentials.dto','getGroupPath','40PmAbhH','6338764NxPfTY','request','apply','createEmptyBranch','public','../../providers.tokens','10nIXFgo','delete','search','getOne','32BKHvce','master','../../../internal/git.internal','../../api/gitlab-api.service','defaults'];a241_0x2ed7=function(){return _0x38a1ec;};return a241_0x2ed7();}var __decorate=this&&this[a241_0x50f18c(0x113)]||function(_0x185e6d,_0x28e66b,_0x4ebce9,_0x16c502){const _0xed5417=a241_0x50f18c;var _0x40905d=arguments[_0xed5417(0x12e)],_0x42b721=_0x40905d<0x3?_0x28e66b:_0x16c502===null?_0x16c502=Object[_0xed5417(0x135)](_0x28e66b,_0x4ebce9):_0x16c502,_0x1b8e0b;if(typeof Reflect===_0xed5417(0x12c)&&typeof Reflect['decorate']===_0xed5417(0x109))_0x42b721=Reflect[_0xed5417(0x14c)](_0x185e6d,_0x28e66b,_0x4ebce9,_0x16c502);else{for(var _0x4be335=_0x185e6d[_0xed5417(0x12e)]-0x1;_0x4be335>=0x0;_0x4be335--)if(_0x1b8e0b=_0x185e6d[_0x4be335])_0x42b721=(_0x40905d<0x3?_0x1b8e0b(_0x42b721):_0x40905d>0x3?_0x1b8e0b(_0x28e66b,_0x4ebce9,_0x42b721):_0x1b8e0b(_0x28e66b,_0x4ebce9))||_0x42b721;}return _0x40905d>0x3&&_0x42b721&&Object['defineProperty'](_0x28e66b,_0x4ebce9,_0x42b721),_0x42b721;},__metadata=this&&this['__metadata']||function(_0x42d181,_0x430b0c){const _0xb4d51f=a241_0x50f18c;if(typeof Reflect===_0xb4d51f(0x12c)&&typeof Reflect[_0xb4d51f(0x117)]==='function')return Reflect['metadata'](_0x42d181,_0x430b0c);},__param=this&&this[a241_0x50f18c(0x120)]||function(_0xff679e,_0x5726d8){return function(_0x33a3e1,_0x5c354b){_0x5726d8(_0x33a3e1,_0x5c354b,_0xff679e);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a241_0x50f18c(0x138)]=void 0x0;const bad_request_error_1=require(a241_0x50f18c(0x130)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a241_0x50f18c(0x149)),typedi_1=require(a241_0x50f18c(0x11c)),api_error_1=require(a241_0x50f18c(0x119)),git_internal_1=require(a241_0x50f18c(0x148)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a241_0x50f18c(0x10a)),gitlab_credentials_dto_1=require(a241_0x50f18c(0x139)),providers_tokens_1=require(a241_0x50f18c(0x141));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a241_0x50f18c(0x112)]{constructor(_0x31dd87,_0x29fd58){const _0x18b600=a241_0x50f18c;super(_0x31dd87),this[_0x18b600(0x136)]=_0x31dd87,this[_0x18b600(0x125)]=_0x29fd58['groupId'],this[_0x18b600(0x12a)]=_0x29fd58;}async['getGroupPath'](){const _0x37cef1=a241_0x50f18c;if(!this['groupPath']){const _0x4387f5=await this[_0x37cef1(0x136)][_0x37cef1(0x10d)](this['groupId']);this['groupPath']=_0x4387f5['full_path'];}return this[_0x37cef1(0x110)];}async[a241_0x50f18c(0x10f)](){const _0x1c8adc=a241_0x50f18c;if(!this[_0x1c8adc(0x121)]){const _0x49a994=await this[_0x1c8adc(0x136)]['getCurrentUser']();this[_0x1c8adc(0x121)]=_0x49a994[_0x1c8adc(0x121)];}return this[_0x1c8adc(0x121)];}async['createRequestToRepo'](_0x30e018){const _0x3fe3a3=a241_0x50f18c,_0x6e61b0=await(this[_0x3fe3a3(0x125)]?this[_0x3fe3a3(0x13a)]():this[_0x3fe3a3(0x10f)]()),_0x1100e0=this[_0x3fe3a3(0x136)][_0x3fe3a3(0x129)](this['request'][_0x3fe3a3(0x14a)][_0x3fe3a3(0x114)]+'/projects/'+encodeURIComponent(_0x6e61b0+'/'+_0x30e018));return _0x1100e0;}async[a241_0x50f18c(0x11e)](_0x210ee6){const _0x8033aa=a241_0x50f18c;try{const _0x25089d={'name':_0x210ee6[_0x8033aa(0x14d)],'visibility':_0x210ee6[_0x8033aa(0x116)]?_0x8033aa(0x116):_0x8033aa(0x140),'namespace_id':this[_0x8033aa(0x125)],..._0x210ee6['apiBody']||{}},_0x4e61c6=await this[_0x8033aa(0x13d)]['post']('projects',_0x25089d),_0x231cbd=repo_class_1['Repo']['fromGitlab'](_0x4e61c6,this[_0x8033aa(0x136)],this['credentials']);return _0x210ee6[_0x8033aa(0x10e)]&&await git_internal_1[_0x8033aa(0x14e)][_0x8033aa(0x13f)](_0x231cbd,_0x210ee6['defaultBranch']||{'name':_0x8033aa(0x147)},'',this[_0x8033aa(0x12a)]),this['getOne'](_0x231cbd['name']);}catch(_0x26a162){if(_0x26a162 instanceof api_error_1[_0x8033aa(0x134)])throw _0x26a162;throw new bad_request_error_1['BadRequestError'](_0x26a162);}}async[a241_0x50f18c(0x145)](_0x19205c){const _0x4f7d79=a241_0x50f18c;try{const _0x5e48b4=await this['createRequestToRepo'](_0x19205c),_0x44a0f1=await _0x5e48b4[_0x4f7d79(0x128)]('');return repo_class_1[_0x4f7d79(0x10b)][_0x4f7d79(0x131)](_0x44a0f1,this['api'],this['credentials']);}catch(_0x4003e5){if(_0x4003e5 instanceof api_error_1['ApiError'])throw _0x4003e5;throw new not_found_error_1[(_0x4f7d79(0x12f))](_0x4003e5);}}async[a241_0x50f18c(0x11b)](){const _0x51470e=a241_0x50f18c;try{let _0x2dc548='';if(this[_0x51470e(0x125)])_0x2dc548=_0x51470e(0x137)+this[_0x51470e(0x125)]+_0x51470e(0x123);else{const _0x3dd937=await this[_0x51470e(0x10f)]();_0x2dc548=_0x51470e(0x122)+_0x3dd937+_0x51470e(0x123);}let _0x4d1a99=!![],_0x31a2f3=0x1;const _0x212c46=[];do{const _0x457027=await this[_0x51470e(0x13d)][_0x51470e(0x128)](_0x2dc548,{'params':{'page':_0x31a2f3,'per_page':0x64}});_0x212c46[_0x51470e(0x11d)](..._0x457027),_0x4d1a99=_0x457027[_0x51470e(0x12e)]>0x0,_0x31a2f3+=0x1;}while(_0x4d1a99);return _0x212c46[_0x51470e(0x12d)](_0x276e6a=>repo_class_1['Repo'][_0x51470e(0x131)](_0x276e6a,this['api'],this[_0x51470e(0x12a)]));}catch(_0x105bfd){if(_0x105bfd instanceof api_error_1[_0x51470e(0x134)])throw _0x105bfd;throw new not_found_error_1['NotFoundError'](_0x105bfd);}}async[a241_0x50f18c(0x10c)](_0x3f017d,_0x22d6c2){const _0x135088=a241_0x50f18c;try{const _0xc96e15=await this['createRequestToRepo'](_0x3f017d),_0x181df4=await _0xc96e15[_0x135088(0x11f)]('',{..._0x22d6c2,'path':_0x22d6c2[_0x135088(0x14d)]});return repo_class_1[_0x135088(0x10b)][_0x135088(0x131)](_0x181df4,this['api'],this['credentials']);}catch(_0x308c24){if(_0x308c24 instanceof api_error_1[_0x135088(0x134)])throw _0x308c24;throw new not_found_error_1[(_0x135088(0x12f))](_0x308c24);}}async['delete'](_0xc6d6f0){const _0x11ce4f=a241_0x50f18c;try{const _0x9acbc=await this[_0x11ce4f(0x14b)](_0xc6d6f0);await _0x9acbc[_0x11ce4f(0x143)]('');}catch(_0x4eb924){if(_0x4eb924 instanceof api_error_1[_0x11ce4f(0x134)])throw _0x4eb924;throw new bad_request_error_1['BadRequestError'](_0x4eb924);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a241_0x50f18c(0x11a)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1['Tokens']['credentials'])),__metadata('design:paramtypes',[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;