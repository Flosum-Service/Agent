const a170_0x53246a=a170_0x1d9f;(function(_0x2b9a0a,_0x3cdb56){const _0x268469=a170_0x1d9f,_0x2d9fd7=_0x2b9a0a();while(!![]){try{const _0x145bdc=-parseInt(_0x268469(0xce))/0x1+parseInt(_0x268469(0xef))/0x2+parseInt(_0x268469(0xf5))/0x3+parseInt(_0x268469(0xd7))/0x4*(parseInt(_0x268469(0x102))/0x5)+-parseInt(_0x268469(0xe4))/0x6+parseInt(_0x268469(0xde))/0x7+parseInt(_0x268469(0xc6))/0x8;if(_0x145bdc===_0x3cdb56)break;else _0x2d9fd7['push'](_0x2d9fd7['shift']());}catch(_0x404e55){_0x2d9fd7['push'](_0x2d9fd7['shift']());}}}(a170_0x2632,0x74ac5));const a170_0x4d8009=(function(){let _0x335755=!![];return function(_0xdb4468,_0x5c4a5e){const _0x373aef=_0x335755?function(){const _0x4878da=a170_0x1d9f;if(_0x5c4a5e){const _0x4eaaba=_0x5c4a5e[_0x4878da(0xdb)](_0xdb4468,arguments);return _0x5c4a5e=null,_0x4eaaba;}}:function(){};return _0x335755=![],_0x373aef;};}()),a170_0x2aade9=a170_0x4d8009(this,function(){const _0x5f335d=a170_0x1d9f;return a170_0x2aade9[_0x5f335d(0xfb)]()[_0x5f335d(0xbe)](_0x5f335d(0xc9))[_0x5f335d(0xfb)]()[_0x5f335d(0xcd)](a170_0x2aade9)[_0x5f335d(0xbe)](_0x5f335d(0xc9));});a170_0x2aade9();'use strict';function a170_0x1d9f(_0x5b0c52,_0x5ee56c){const _0x4cc66c=a170_0x2632();return a170_0x1d9f=function(_0x2aade9,_0x4d8009){_0x2aade9=_0x2aade9-0xbc;let _0x26328e=_0x4cc66c[_0x2aade9];return _0x26328e;},a170_0x1d9f(_0x5b0c52,_0x5ee56c);}var __decorate=this&&this[a170_0x53246a(0x103)]||function(_0x29e55d,_0x136ad7,_0x350380,_0x4c22c0){const _0x4f43cb=a170_0x53246a;var _0x3ea4fc=arguments[_0x4f43cb(0xc5)],_0x34549c=_0x3ea4fc<0x3?_0x136ad7:_0x4c22c0===null?_0x4c22c0=Object[_0x4f43cb(0xdc)](_0x136ad7,_0x350380):_0x4c22c0,_0x4a9d04;if(typeof Reflect===_0x4f43cb(0xe2)&&typeof Reflect['decorate']===_0x4f43cb(0xc8))_0x34549c=Reflect[_0x4f43cb(0xf2)](_0x29e55d,_0x136ad7,_0x350380,_0x4c22c0);else{for(var _0x3a3e96=_0x29e55d[_0x4f43cb(0xc5)]-0x1;_0x3a3e96>=0x0;_0x3a3e96--)if(_0x4a9d04=_0x29e55d[_0x3a3e96])_0x34549c=(_0x3ea4fc<0x3?_0x4a9d04(_0x34549c):_0x3ea4fc>0x3?_0x4a9d04(_0x136ad7,_0x350380,_0x34549c):_0x4a9d04(_0x136ad7,_0x350380))||_0x34549c;}return _0x3ea4fc>0x3&&_0x34549c&&Object['defineProperty'](_0x136ad7,_0x350380,_0x34549c),_0x34549c;},__metadata=this&&this[a170_0x53246a(0xc0)]||function(_0x2a75ff,_0x199378){const _0x913773=a170_0x53246a;if(typeof Reflect===_0x913773(0xe2)&&typeof Reflect[_0x913773(0xc7)]===_0x913773(0xc8))return Reflect['metadata'](_0x2a75ff,_0x199378);},__param=this&&this[a170_0x53246a(0x101)]||function(_0x12f08c,_0x45bd3d){return function(_0x528d82,_0x32fe6f){_0x45bd3d(_0x528d82,_0x32fe6f,_0x12f08c);};};Object[a170_0x53246a(0xe6)](exports,'__esModule',{'value':!![]}),exports[a170_0x53246a(0xec)]=void 0x0;function a170_0x2632(){const _0x2f68b1=['../../api/gitlab-api.service','apply','getOwnPropertyDescriptor','credentials','3860339cgJOzY','getGroup','../../../../../core/errors/api.error','master','object','api','3820632KrGaPQ','defaults','defineProperty','NotFoundError','groupId','../repo.class','delete','createRequest','GitlabRepoService','createRequestToRepo','getOne','830810SLkIuc','./git-repo.service','groupPath','decorate','request','projects','336444MVWpps','design:paramtypes','ApiError','../../credentials/dto/gitlab-credentials.dto','/projects','post','toString','full_path','push','name','baseURL','public','__param','1791670PLjVra','__decorate','private','../../../../../core/errors/not-found.error','Inject','search','BadRequestError','__metadata','autoInit','Repo','typedi','GitlabCredentialsDto','length','3897184UVbFNJ','metadata','function','(((.+)+)+)+$','GitlabApiService','../../../../../core/errors/bad-request.error','groups/','constructor','809847HvvRju','defaultBranch','fromGitlab','/projects/','get','GitRepoService','getGroupPath','create','getUsername','4oHwUkC','put','username'];a170_0x2632=function(){return _0x2f68b1;};return a170_0x2632();}const bad_request_error_1=require(a170_0x53246a(0xcb)),not_found_error_1=require(a170_0x53246a(0xbc)),gitlab_api_service_1=require(a170_0x53246a(0xda)),typedi_1=require(a170_0x53246a(0xc3)),api_error_1=require(a170_0x53246a(0xe0)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a170_0x53246a(0xe9)),git_repo_service_1=require(a170_0x53246a(0xf0)),gitlab_credentials_dto_1=require(a170_0x53246a(0xf8)),providers_tokens_1=require('../../providers.tokens');let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a170_0x53246a(0xd3)]{constructor(_0x45211c,_0x18f0e7){const _0x2ff05b=a170_0x53246a;super(_0x45211c),this['api']=_0x45211c,this['groupId']=_0x18f0e7['groupId'],this[_0x2ff05b(0xdd)]=_0x18f0e7;}async[a170_0x53246a(0xd4)](){const _0x2c08a4=a170_0x53246a;if(!this[_0x2c08a4(0xf1)]){const _0x3f73a5=await this[_0x2c08a4(0xe3)][_0x2c08a4(0xdf)](this[_0x2c08a4(0xe8)]);this[_0x2c08a4(0xf1)]=_0x3f73a5[_0x2c08a4(0xfc)];}return this[_0x2c08a4(0xf1)];}async[a170_0x53246a(0xd6)](){const _0x4e664c=a170_0x53246a;if(!this[_0x4e664c(0xd9)]){const _0x46ab9a=await this[_0x4e664c(0xe3)]['getCurrentUser']();this[_0x4e664c(0xd9)]=_0x46ab9a['username'];}return this[_0x4e664c(0xd9)];}async[a170_0x53246a(0xed)](_0x4ed579){const _0x53d638=a170_0x53246a,_0x241eb8=await(this[_0x53d638(0xe8)]?this['getGroupPath']():this[_0x53d638(0xd6)]()),_0x4770b9=this[_0x53d638(0xe3)][_0x53d638(0xeb)](this[_0x53d638(0xf3)][_0x53d638(0xe5)][_0x53d638(0xff)]+_0x53d638(0xd1)+encodeURIComponent(_0x241eb8+'/'+_0x4ed579));return _0x4770b9;}async[a170_0x53246a(0xd5)](_0x160358){const _0x238110=a170_0x53246a;try{const _0x2cd8c3={'name':_0x160358[_0x238110(0xfe)],'visibility':_0x160358[_0x238110(0x104)]?_0x238110(0x104):_0x238110(0x100),'namespace_id':this[_0x238110(0xe8)],..._0x160358['apiBody']||{}},_0x3d2675=await this['request'][_0x238110(0xfa)](_0x238110(0xf4),_0x2cd8c3),_0x2ba107=repo_class_1['Repo'][_0x238110(0xd0)](_0x3d2675,this[_0x238110(0xe3)],this[_0x238110(0xdd)]);return _0x160358[_0x238110(0xc1)]&&await git_internal_1['Git']['createEmptyBranch'](_0x2ba107,_0x160358[_0x238110(0xcf)]||_0x238110(0xe1),'',this[_0x238110(0xdd)]),this[_0x238110(0xee)](_0x2ba107[_0x238110(0xfe)]);}catch(_0x262a64){if(_0x262a64 instanceof api_error_1[_0x238110(0xf7)])throw _0x262a64;throw new bad_request_error_1[(_0x238110(0xbf))](_0x262a64);}}async[a170_0x53246a(0xee)](_0x114bd2){const _0x163de8=a170_0x53246a;try{const _0xd986ee=await this['createRequestToRepo'](_0x114bd2),_0x28d443=await _0xd986ee[_0x163de8(0xd2)]('');return repo_class_1[_0x163de8(0xc2)]['fromGitlab'](_0x28d443,this[_0x163de8(0xe3)],this['credentials']);}catch(_0x1829a4){if(_0x1829a4 instanceof api_error_1[_0x163de8(0xf7)])throw _0x1829a4;throw new not_found_error_1[(_0x163de8(0xe7))](_0x1829a4);}}async['getAll'](){const _0x3e0df6=a170_0x53246a;try{let _0xaf9ed6='';if(this[_0x3e0df6(0xe8)])_0xaf9ed6=_0x3e0df6(0xcc)+this['groupId']+_0x3e0df6(0xf9);else{const _0x4675fb=await this[_0x3e0df6(0xd6)]();_0xaf9ed6='users/'+_0x4675fb+_0x3e0df6(0xf9);}let _0x46c370=!![],_0x4cc686=0x1;const _0x54544a=[];do{const _0x3e40b1=await this[_0x3e0df6(0xf3)][_0x3e0df6(0xd2)](_0xaf9ed6,{'params':{'page':_0x4cc686,'per_page':0x64}});_0x54544a[_0x3e0df6(0xfd)](..._0x3e40b1),_0x46c370=_0x3e40b1[_0x3e0df6(0xc5)]>0x0,_0x4cc686+=0x1;}while(_0x46c370);return _0x54544a['map'](_0x4b8b3d=>repo_class_1['Repo'][_0x3e0df6(0xd0)](_0x4b8b3d,this[_0x3e0df6(0xe3)],this[_0x3e0df6(0xdd)]));}catch(_0xc989e9){if(_0xc989e9 instanceof api_error_1[_0x3e0df6(0xf7)])throw _0xc989e9;throw new not_found_error_1[(_0x3e0df6(0xe7))](_0xc989e9);}}async['update'](_0x99cef3,_0x36fceb){const _0x312933=a170_0x53246a;try{const _0x14a0dc=await this[_0x312933(0xed)](_0x99cef3),_0x2e3e4e=await _0x14a0dc[_0x312933(0xd8)]('',{..._0x36fceb,'path':_0x36fceb[_0x312933(0xfe)]});return repo_class_1[_0x312933(0xc2)][_0x312933(0xd0)](_0x2e3e4e,this[_0x312933(0xe3)],this[_0x312933(0xdd)]);}catch(_0x19d13d){if(_0x19d13d instanceof api_error_1[_0x312933(0xf7)])throw _0x19d13d;throw new not_found_error_1[(_0x312933(0xe7))](_0x19d13d);}}async[a170_0x53246a(0xea)](_0x2c702a){const _0x27cc04=a170_0x53246a;try{const _0x4b00af=await this[_0x27cc04(0xed)](_0x2c702a);await _0x4b00af['delete']('');}catch(_0x4f90dd){if(_0x4f90dd instanceof api_error_1[_0x27cc04(0xf7)])throw _0x4f90dd;throw new bad_request_error_1[(_0x27cc04(0xbf))](_0x4f90dd);}}};GitlabRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a170_0x53246a(0xbd)])(providers_tokens_1['Tokens'][a170_0x53246a(0xdd)])),__metadata(a170_0x53246a(0xf6),[gitlab_api_service_1[a170_0x53246a(0xca)],gitlab_credentials_dto_1[a170_0x53246a(0xc4)]])],GitlabRepoService),exports[a170_0x53246a(0xec)]=GitlabRepoService;