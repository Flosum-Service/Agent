const a209_0x44632e=a209_0xe485;(function(_0x347aae,_0x2b9094){const _0x17b613=a209_0xe485,_0x10f122=_0x347aae();while(!![]){try{const _0x4b4a32=-parseInt(_0x17b613(0x74))/0x1*(parseInt(_0x17b613(0x73))/0x2)+parseInt(_0x17b613(0x99))/0x3*(parseInt(_0x17b613(0x9d))/0x4)+parseInt(_0x17b613(0x85))/0x5*(-parseInt(_0x17b613(0x91))/0x6)+-parseInt(_0x17b613(0x9c))/0x7+-parseInt(_0x17b613(0x71))/0x8+parseInt(_0x17b613(0x8e))/0x9*(-parseInt(_0x17b613(0x7c))/0xa)+parseInt(_0x17b613(0x6c))/0xb*(parseInt(_0x17b613(0xab))/0xc);if(_0x4b4a32===_0x2b9094)break;else _0x10f122['push'](_0x10f122['shift']());}catch(_0x176c1e){_0x10f122['push'](_0x10f122['shift']());}}}(a209_0x2a28,0xf4175));const a209_0x38c942=(function(){let _0x1686d8=!![];return function(_0x48ff41,_0x3e04d1){const _0x43ed84=_0x1686d8?function(){if(_0x3e04d1){const _0x4272f3=_0x3e04d1['apply'](_0x48ff41,arguments);return _0x3e04d1=null,_0x4272f3;}}:function(){};return _0x1686d8=![],_0x43ed84;};}()),a209_0x2a5c49=a209_0x38c942(this,function(){const _0x2ebc50=a209_0xe485;return a209_0x2a5c49[_0x2ebc50(0x72)]()[_0x2ebc50(0xa6)](_0x2ebc50(0xa0))[_0x2ebc50(0x72)]()[_0x2ebc50(0x89)](a209_0x2a5c49)[_0x2ebc50(0xa6)](_0x2ebc50(0xa0));});a209_0x2a5c49();'use strict';var __decorate=this&&this[a209_0x44632e(0x9b)]||function(_0x42cc21,_0x560e1e,_0x3deee3,_0x45b221){const _0xfe15c0=a209_0x44632e;var _0x5942e4=arguments['length'],_0x5aa067=_0x5942e4<0x3?_0x560e1e:_0x45b221===null?_0x45b221=Object[_0xfe15c0(0x78)](_0x560e1e,_0x3deee3):_0x45b221,_0x555e40;if(typeof Reflect===_0xfe15c0(0x6a)&&typeof Reflect[_0xfe15c0(0x6b)]===_0xfe15c0(0x93))_0x5aa067=Reflect[_0xfe15c0(0x6b)](_0x42cc21,_0x560e1e,_0x3deee3,_0x45b221);else{for(var _0x35810c=_0x42cc21[_0xfe15c0(0x9e)]-0x1;_0x35810c>=0x0;_0x35810c--)if(_0x555e40=_0x42cc21[_0x35810c])_0x5aa067=(_0x5942e4<0x3?_0x555e40(_0x5aa067):_0x5942e4>0x3?_0x555e40(_0x560e1e,_0x3deee3,_0x5aa067):_0x555e40(_0x560e1e,_0x3deee3))||_0x5aa067;}return _0x5942e4>0x3&&_0x5aa067&&Object[_0xfe15c0(0x8c)](_0x560e1e,_0x3deee3,_0x5aa067),_0x5aa067;},__metadata=this&&this['__metadata']||function(_0x496944,_0x2cd556){const _0x28e624=a209_0x44632e;if(typeof Reflect==='object'&&typeof Reflect[_0x28e624(0x95)]===_0x28e624(0x93))return Reflect[_0x28e624(0x95)](_0x496944,_0x2cd556);},__param=this&&this[a209_0x44632e(0x88)]||function(_0x3ccc8e,_0x552a7e){return function(_0x496a4e,_0x432098){_0x552a7e(_0x496a4e,_0x432098,_0x3ccc8e);};};Object[a209_0x44632e(0x8c)](exports,a209_0x44632e(0xa1),{'value':!![]}),exports[a209_0x44632e(0x87)]=void 0x0;function a209_0xe485(_0x496053,_0x554f2d){const _0x344a4c=a209_0x2a28();return a209_0xe485=function(_0x2a5c49,_0x38c942){_0x2a5c49=_0x2a5c49-0x67;let _0x2a28d4=_0x344a4c[_0x2a5c49];return _0x2a28d4;},a209_0xe485(_0x496053,_0x554f2d);}const bad_request_error_1=require(a209_0x44632e(0x86)),not_found_error_1=require('../../../../../core/errors/not-found.error'),gitlab_api_service_1=require(a209_0x44632e(0xae)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a209_0x44632e(0x6f)),git_repo_service_1=require(a209_0x44632e(0x69)),gitlab_credentials_dto_1=require(a209_0x44632e(0xad)),providers_tokens_1=require(a209_0x44632e(0x75));function a209_0x2a28(){const _0x41bbb3=['getGroup','post','Service','755jgqsnW','../../../../../core/errors/bad-request.error','GitlabRepoService','__param','constructor','fromGitlab','put','defineProperty','createRequestToRepo','6543bYMfrO','getUsername','/projects','73740XlnDwu','ApiError','function','projects','metadata','getCurrentUser','NotFoundError','GitlabApiService','12TlLHDk','baseURL','__decorate','6668690dcKdqy','589496shEQmo','length','Inject','(((.+)+)+)+$','__esModule','Tokens','getGroupPath','Repo','groups/','search','credentials','username','name','getOne','12gUdoqR','createRequest','../../credentials/dto/gitlab-credentials.dto','../../api/gitlab-api.service','Git','autoInit','public','map','./git-repo.service','object','decorate','57352702cXdmqZ','api','createEmptyBranch','../repo.class','users/','3345656KoSRnK','toString','2zCITvU','1525297cLNyzA','../../providers.tokens','defaults','private','getOwnPropertyDescriptor','groupPath','BadRequestError','request','710RXIHWU','create','GitRepoService','groupId','apiBody','delete'];a209_0x2a28=function(){return _0x41bbb3;};return a209_0x2a28();}let GitlabRepoService=class GitlabRepoService extends git_repo_service_1[a209_0x44632e(0x7e)]{constructor(_0x9ffa45,_0x4c34ba){super(_0x9ffa45),this['api']=_0x9ffa45,this['groupId']=_0x4c34ba['groupId'],this['credentials']=_0x4c34ba;}async[a209_0x44632e(0xa3)](){const _0x2500d=a209_0x44632e;if(!this['groupPath']){const _0x5ebbc8=await this[_0x2500d(0x6d)][_0x2500d(0x82)](this['groupId']);this[_0x2500d(0x79)]=_0x5ebbc8['full_path'];}return this[_0x2500d(0x79)];}async[a209_0x44632e(0x8f)](){const _0x94e01=a209_0x44632e;if(!this[_0x94e01(0xa8)]){const _0x510139=await this['api'][_0x94e01(0x96)]();this[_0x94e01(0xa8)]=_0x510139['username'];}return this[_0x94e01(0xa8)];}async[a209_0x44632e(0x8d)](_0x268c19){const _0x113951=a209_0x44632e,_0x1492e7=await(this['groupId']?this[_0x113951(0xa3)]():this[_0x113951(0x8f)]()),_0xbe1be7=this[_0x113951(0x6d)][_0x113951(0xac)](this[_0x113951(0x7b)][_0x113951(0x76)][_0x113951(0x9a)]+'/projects/'+encodeURIComponent(_0x1492e7+'/'+_0x268c19));return _0xbe1be7;}async[a209_0x44632e(0x7d)](_0x2570fc){const _0x4b0a0a=a209_0x44632e;try{const _0x36b678={'name':_0x2570fc[_0x4b0a0a(0xa9)],'visibility':_0x2570fc[_0x4b0a0a(0x77)]?_0x4b0a0a(0x77):_0x4b0a0a(0x67),'namespace_id':this[_0x4b0a0a(0x7f)],..._0x2570fc[_0x4b0a0a(0x80)]||{}},_0x5d30b4=await this[_0x4b0a0a(0x7b)][_0x4b0a0a(0x83)](_0x4b0a0a(0x94),_0x36b678),_0x3b040f=repo_class_1[_0x4b0a0a(0xa4)][_0x4b0a0a(0x8a)](_0x5d30b4,this[_0x4b0a0a(0x6d)],this[_0x4b0a0a(0xa7)]);return _0x2570fc[_0x4b0a0a(0xb0)]&&await git_internal_1[_0x4b0a0a(0xaf)][_0x4b0a0a(0x6e)](_0x3b040f,_0x2570fc['defaultBranch']||'master','',this['credentials']),this[_0x4b0a0a(0xaa)](_0x3b040f[_0x4b0a0a(0xa9)]);}catch(_0x516e3a){if(_0x516e3a instanceof api_error_1['ApiError'])throw _0x516e3a;throw new bad_request_error_1[(_0x4b0a0a(0x7a))](_0x516e3a);}}async['getOne'](_0xa6caf2){const _0x338cee=a209_0x44632e;try{const _0xd5656f=await this[_0x338cee(0x8d)](_0xa6caf2),_0x2ae309=await _0xd5656f['get']('');return repo_class_1[_0x338cee(0xa4)][_0x338cee(0x8a)](_0x2ae309,this[_0x338cee(0x6d)],this[_0x338cee(0xa7)]);}catch(_0x5d62c5){if(_0x5d62c5 instanceof api_error_1[_0x338cee(0x92)])throw _0x5d62c5;throw new not_found_error_1['NotFoundError'](_0x5d62c5);}}async['getAll'](){const _0x253221=a209_0x44632e;try{let _0x47136d='';if(this[_0x253221(0x7f)])_0x47136d=_0x253221(0xa5)+this['groupId']+_0x253221(0x90);else{const _0x4c95d8=await this['getUsername']();_0x47136d=_0x253221(0x70)+_0x4c95d8+_0x253221(0x90);}let _0x436e4d=!![],_0x37b569=0x1;const _0x13d240=[];do{const _0x205932=await this['request']['get'](_0x47136d,{'params':{'page':_0x37b569,'per_page':0x64}});_0x13d240['push'](..._0x205932),_0x436e4d=_0x205932[_0x253221(0x9e)]>0x0,_0x37b569+=0x1;}while(_0x436e4d);return _0x13d240[_0x253221(0x68)](_0x4a0512=>repo_class_1[_0x253221(0xa4)][_0x253221(0x8a)](_0x4a0512,this[_0x253221(0x6d)],this['credentials']));}catch(_0x3941e0){if(_0x3941e0 instanceof api_error_1[_0x253221(0x92)])throw _0x3941e0;throw new not_found_error_1[(_0x253221(0x97))](_0x3941e0);}}async['update'](_0x17f96c,_0x39b841){const _0x28e563=a209_0x44632e;try{const _0x21fb2b=await this[_0x28e563(0x8d)](_0x17f96c),_0x2b65d9=await _0x21fb2b[_0x28e563(0x8b)]('',{..._0x39b841,'path':_0x39b841[_0x28e563(0xa9)]});return repo_class_1[_0x28e563(0xa4)]['fromGitlab'](_0x2b65d9,this[_0x28e563(0x6d)],this['credentials']);}catch(_0x4cb1ab){if(_0x4cb1ab instanceof api_error_1[_0x28e563(0x92)])throw _0x4cb1ab;throw new not_found_error_1[(_0x28e563(0x97))](_0x4cb1ab);}}async[a209_0x44632e(0x81)](_0x59fe28){const _0x38b719=a209_0x44632e;try{const _0x32ee37=await this[_0x38b719(0x8d)](_0x59fe28);await _0x32ee37[_0x38b719(0x81)]('');}catch(_0x487ddb){if(_0x487ddb instanceof api_error_1[_0x38b719(0x92)])throw _0x487ddb;throw new bad_request_error_1[(_0x38b719(0x7a))](_0x487ddb);}}};GitlabRepoService=__decorate([(0x0,typedi_1[a209_0x44632e(0x84)])(),__param(0x1,(0x0,typedi_1[a209_0x44632e(0x9f)])(providers_tokens_1[a209_0x44632e(0xa2)][a209_0x44632e(0xa7)])),__metadata('design:paramtypes',[gitlab_api_service_1[a209_0x44632e(0x98)],gitlab_credentials_dto_1['GitlabCredentialsDto']])],GitlabRepoService),exports[a209_0x44632e(0x87)]=GitlabRepoService;