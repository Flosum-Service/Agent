const a157_0x3707a3=a157_0x2268;(function(_0x25630c,_0x926dff){const _0x4e3432=a157_0x2268,_0x59eb86=_0x25630c();while(!![]){try{const _0x1a2eb0=-parseInt(_0x4e3432(0x14b))/0x1+-parseInt(_0x4e3432(0x120))/0x2*(-parseInt(_0x4e3432(0x12e))/0x3)+-parseInt(_0x4e3432(0x153))/0x4+parseInt(_0x4e3432(0x122))/0x5+-parseInt(_0x4e3432(0x141))/0x6*(parseInt(_0x4e3432(0x140))/0x7)+-parseInt(_0x4e3432(0x135))/0x8*(parseInt(_0x4e3432(0x156))/0x9)+parseInt(_0x4e3432(0x11f))/0xa;if(_0x1a2eb0===_0x926dff)break;else _0x59eb86['push'](_0x59eb86['shift']());}catch(_0x285b42){_0x59eb86['push'](_0x59eb86['shift']());}}}(a157_0x67c6,0xab594));const a157_0x39cbf8=(function(){let _0x398fa9=!![];return function(_0x4eee99,_0x1f5d9d){const _0x29ef06=_0x398fa9?function(){const _0x46414e=a157_0x2268;if(_0x1f5d9d){const _0x387771=_0x1f5d9d[_0x46414e(0x11c)](_0x4eee99,arguments);return _0x1f5d9d=null,_0x387771;}}:function(){};return _0x398fa9=![],_0x29ef06;};}()),a157_0x12055c=a157_0x39cbf8(this,function(){const _0x4a8b59=a157_0x2268;return a157_0x12055c['toString']()[_0x4a8b59(0x15a)]('(((.+)+)+)+$')[_0x4a8b59(0x154)]()[_0x4a8b59(0x132)](a157_0x12055c)[_0x4a8b59(0x15a)](_0x4a8b59(0x11b));});function a157_0x2268(_0x5ec39e,_0x2e556c){const _0x526187=a157_0x67c6();return a157_0x2268=function(_0x12055c,_0x39cbf8){_0x12055c=_0x12055c-0x119;let _0x67c687=_0x526187[_0x12055c];return _0x67c687;},a157_0x2268(_0x5ec39e,_0x2e556c);}a157_0x12055c();'use strict';function a157_0x67c6(){const _0x124f3d=['32nzxent','../../api/gitlab-api.service','createRequestToRepo','BadRequestError','map','public','name','../../../../../core/errors/api.error','../repo.class','getUsername','metadata','31220sYpQIb','156brtPzn','getCurrentUser','Service','getOne','master','GitlabRepoService','put','__metadata','Git','defaultBranch','293827zWPULj','getGroup','../../../internal/git.internal','Repo','length','projects','get','GitlabCredentialsDto','2519112NQDRLC','toString','fromGitlab','2552121IrAMDB','request','api','Inject','search','__param','object','autoInit','credentials','defaults','defineProperty','(((.+)+)+)+$','apply','groups/','groupId','4254930VZiMjf','2UosGLv','groupPath','6939505FqJPpM','getGroupPath','__esModule','Tokens','decorate','username','/projects','../../../../../core/errors/not-found.error','NotFoundError','../../providers.tokens','full_path','baseURL','3186873WSLmjx','getOwnPropertyDescriptor','create','ApiError','constructor','post','../../credentials/dto/gitlab-credentials.dto'];a157_0x67c6=function(){return _0x124f3d;};return a157_0x67c6();}var __decorate=this&&this['__decorate']||function(_0xf97e9a,_0x2a2a80,_0x5908b0,_0xbc4a3f){const _0x287d62=a157_0x2268;var _0x28557a=arguments[_0x287d62(0x14f)],_0x24a50e=_0x28557a<0x3?_0x2a2a80:_0xbc4a3f===null?_0xbc4a3f=Object[_0x287d62(0x12f)](_0x2a2a80,_0x5908b0):_0xbc4a3f,_0x940a75;if(typeof Reflect===_0x287d62(0x15c)&&typeof Reflect[_0x287d62(0x126)]==='function')_0x24a50e=Reflect[_0x287d62(0x126)](_0xf97e9a,_0x2a2a80,_0x5908b0,_0xbc4a3f);else{for(var _0x518467=_0xf97e9a[_0x287d62(0x14f)]-0x1;_0x518467>=0x0;_0x518467--)if(_0x940a75=_0xf97e9a[_0x518467])_0x24a50e=(_0x28557a<0x3?_0x940a75(_0x24a50e):_0x28557a>0x3?_0x940a75(_0x2a2a80,_0x5908b0,_0x24a50e):_0x940a75(_0x2a2a80,_0x5908b0))||_0x24a50e;}return _0x28557a>0x3&&_0x24a50e&&Object[_0x287d62(0x11a)](_0x2a2a80,_0x5908b0,_0x24a50e),_0x24a50e;},__metadata=this&&this[a157_0x3707a3(0x148)]||function(_0x3fecc9,_0x89b334){const _0x6dd371=a157_0x3707a3;if(typeof Reflect===_0x6dd371(0x15c)&&typeof Reflect[_0x6dd371(0x13f)]==='function')return Reflect[_0x6dd371(0x13f)](_0x3fecc9,_0x89b334);},__param=this&&this[a157_0x3707a3(0x15b)]||function(_0x4f656a,_0x447c27){return function(_0x4e7873,_0xc571f8){_0x447c27(_0x4e7873,_0xc571f8,_0x4f656a);};};Object['defineProperty'](exports,a157_0x3707a3(0x124),{'value':!![]}),exports[a157_0x3707a3(0x146)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a157_0x3707a3(0x129)),gitlab_api_service_1=require(a157_0x3707a3(0x136)),typedi_1=require('typedi'),api_error_1=require(a157_0x3707a3(0x13c)),git_internal_1=require(a157_0x3707a3(0x14d)),repo_class_1=require(a157_0x3707a3(0x13d)),git_repo_service_1=require('./git-repo.service'),gitlab_credentials_dto_1=require(a157_0x3707a3(0x134)),providers_tokens_1=require(a157_0x3707a3(0x12b));let GitlabRepoService=class GitlabRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x33babf,_0x2b48e5){const _0x199899=a157_0x3707a3;super(_0x33babf),this[_0x199899(0x158)]=_0x33babf,this[_0x199899(0x11e)]=_0x2b48e5[_0x199899(0x11e)],this[_0x199899(0x15e)]=_0x2b48e5;}async[a157_0x3707a3(0x123)](){const _0x22cfbd=a157_0x3707a3;if(!this['groupPath']){const _0x383c6a=await this[_0x22cfbd(0x158)][_0x22cfbd(0x14c)](this['groupId']);this[_0x22cfbd(0x121)]=_0x383c6a[_0x22cfbd(0x12c)];}return this['groupPath'];}async[a157_0x3707a3(0x13e)](){const _0x5165b=a157_0x3707a3;if(!this[_0x5165b(0x127)]){const _0x32fa9e=await this[_0x5165b(0x158)][_0x5165b(0x142)]();this['username']=_0x32fa9e['username'];}return this['username'];}async[a157_0x3707a3(0x137)](_0xf183a8){const _0x3fd9f6=a157_0x3707a3,_0x567c64=await(this['groupId']?this[_0x3fd9f6(0x123)]():this['getUsername']()),_0x176148=this[_0x3fd9f6(0x158)]['createRequest'](this[_0x3fd9f6(0x157)][_0x3fd9f6(0x119)][_0x3fd9f6(0x12d)]+'/projects/'+encodeURIComponent(_0x567c64+'/'+_0xf183a8));return _0x176148;}async[a157_0x3707a3(0x130)](_0x1701a5){const _0xfc002a=a157_0x3707a3;try{const _0x5ad8aa={'name':_0x1701a5[_0xfc002a(0x13b)],'visibility':_0x1701a5['private']?'private':_0xfc002a(0x13a),'namespace_id':this[_0xfc002a(0x11e)],..._0x1701a5['apiBody']||{}},_0xb1adbd=await this[_0xfc002a(0x157)][_0xfc002a(0x133)](_0xfc002a(0x150),_0x5ad8aa),_0x204c53=repo_class_1[_0xfc002a(0x14e)][_0xfc002a(0x155)](_0xb1adbd,this[_0xfc002a(0x158)],this[_0xfc002a(0x15e)]);return _0x1701a5[_0xfc002a(0x15d)]&&await git_internal_1[_0xfc002a(0x149)]['createEmptyBranch'](_0x204c53,_0x1701a5[_0xfc002a(0x14a)]||_0xfc002a(0x145),'',this[_0xfc002a(0x15e)]),this[_0xfc002a(0x144)](_0x204c53[_0xfc002a(0x13b)]);}catch(_0x4bd5d8){if(_0x4bd5d8 instanceof api_error_1[_0xfc002a(0x131)])throw _0x4bd5d8;throw new bad_request_error_1['BadRequestError'](_0x4bd5d8);}}async['getOne'](_0x41653a){const _0x93a352=a157_0x3707a3;try{const _0x579393=await this[_0x93a352(0x137)](_0x41653a),_0x21e393=await _0x579393[_0x93a352(0x151)]('');return repo_class_1[_0x93a352(0x14e)][_0x93a352(0x155)](_0x21e393,this[_0x93a352(0x158)],this['credentials']);}catch(_0x3c8d63){if(_0x3c8d63 instanceof api_error_1[_0x93a352(0x131)])throw _0x3c8d63;throw new not_found_error_1[(_0x93a352(0x12a))](_0x3c8d63);}}async['getAll'](){const _0x5607ef=a157_0x3707a3;try{let _0x39f8b6='';if(this[_0x5607ef(0x11e)])_0x39f8b6=_0x5607ef(0x11d)+this['groupId']+'/projects';else{const _0x2bb265=await this[_0x5607ef(0x13e)]();_0x39f8b6='users/'+_0x2bb265+_0x5607ef(0x128);}let _0x44d418=!![],_0x436c03=0x1;const _0x3387c7=[];do{const _0x12c90e=await this['request'][_0x5607ef(0x151)](_0x39f8b6,{'params':{'page':_0x436c03,'per_page':0x64}});_0x3387c7['push'](..._0x12c90e),_0x44d418=_0x12c90e['length']>0x0,_0x436c03+=0x1;}while(_0x44d418);return _0x3387c7[_0x5607ef(0x139)](_0x1635b3=>repo_class_1['Repo'][_0x5607ef(0x155)](_0x1635b3,this[_0x5607ef(0x158)],this['credentials']));}catch(_0x330b32){if(_0x330b32 instanceof api_error_1[_0x5607ef(0x131)])throw _0x330b32;throw new not_found_error_1[(_0x5607ef(0x12a))](_0x330b32);}}async['update'](_0x523f1f,_0x3c29d4){const _0x3819ef=a157_0x3707a3;try{const _0x4b2402=await this['createRequestToRepo'](_0x523f1f),_0x2ac27b=await _0x4b2402[_0x3819ef(0x147)]('',{..._0x3c29d4,'path':_0x3c29d4[_0x3819ef(0x13b)]});return repo_class_1['Repo'][_0x3819ef(0x155)](_0x2ac27b,this[_0x3819ef(0x158)],this['credentials']);}catch(_0x190104){if(_0x190104 instanceof api_error_1[_0x3819ef(0x131)])throw _0x190104;throw new not_found_error_1[(_0x3819ef(0x12a))](_0x190104);}}async['delete'](_0x130411){const _0x2f4c7c=a157_0x3707a3;try{const _0xcf5e0b=await this[_0x2f4c7c(0x137)](_0x130411);await _0xcf5e0b['delete']('');}catch(_0x318bfe){if(_0x318bfe instanceof api_error_1[_0x2f4c7c(0x131)])throw _0x318bfe;throw new bad_request_error_1[(_0x2f4c7c(0x138))](_0x318bfe);}}};GitlabRepoService=__decorate([typedi_1[a157_0x3707a3(0x143)](),__param(0x1,typedi_1[a157_0x3707a3(0x159)](providers_tokens_1[a157_0x3707a3(0x125)][a157_0x3707a3(0x15e)])),__metadata('design:paramtypes',[gitlab_api_service_1['GitlabApiService'],gitlab_credentials_dto_1[a157_0x3707a3(0x152)]])],GitlabRepoService),exports['GitlabRepoService']=GitlabRepoService;