const a199_0x45da14=a199_0x1d40;(function(_0x4b46ae,_0x11b2b1){const _0x3386de=a199_0x1d40,_0x12218c=_0x4b46ae();while(!![]){try{const _0xd501e5=parseInt(_0x3386de(0x1de))/0x1*(-parseInt(_0x3386de(0x1c1))/0x2)+-parseInt(_0x3386de(0x1ce))/0x3*(-parseInt(_0x3386de(0x1c6))/0x4)+parseInt(_0x3386de(0x1d8))/0x5+-parseInt(_0x3386de(0x1dd))/0x6+-parseInt(_0x3386de(0x1ca))/0x7*(parseInt(_0x3386de(0x1e1))/0x8)+-parseInt(_0x3386de(0x1be))/0x9*(parseInt(_0x3386de(0x1c8))/0xa)+parseInt(_0x3386de(0x1b2))/0xb*(parseInt(_0x3386de(0x1a9))/0xc);if(_0xd501e5===_0x11b2b1)break;else _0x12218c['push'](_0x12218c['shift']());}catch(_0x1de2dc){_0x12218c['push'](_0x12218c['shift']());}}}(a199_0x5d78,0xdd6b5));const a199_0xcb6bd5=(function(){let _0x384abd=!![];return function(_0x16e079,_0x16f970){const _0x5ddd92=_0x384abd?function(){const _0x42ab02=a199_0x1d40;if(_0x16f970){const _0x5ae606=_0x16f970[_0x42ab02(0x1ba)](_0x16e079,arguments);return _0x16f970=null,_0x5ae606;}}:function(){};return _0x384abd=![],_0x5ddd92;};}()),a199_0x511be8=a199_0xcb6bd5(this,function(){const _0x129240=a199_0x1d40;return a199_0x511be8[_0x129240(0x1ab)]()['search'](_0x129240(0x1e3))[_0x129240(0x1ab)]()[_0x129240(0x1c9)](a199_0x511be8)[_0x129240(0x1e5)](_0x129240(0x1e3));});a199_0x511be8();function a199_0x5d78(){const _0x1205dd=['function','__metadata','68682wWApYI','name','length','BadRequestError','/repositories/','BitbucketCredentialsDto','toLowerCase','createEmptyBranch','design:paramtypes','getOne','6059955GoDwFl','ApiError','workspace','Inject','../../../internal/git.internal','5005668OLwJyR','729090gPybVF','defaultBranch','push','2224jRoBqZ','getAll','(((.+)+)+)+$','repositories/','search','BitbucketRepoService','map','decorate','NotFoundError','api','__param','../../../../../core/errors/api.error','next','createRequest','135612aILuLu','getOwnPropertyDescriptor','toString','metadata','credentials','master','../../../../../core/errors/bad-request.error','../../api/bitbucket-api.service','post','1738eIVOah','create','../../providers.tokens','../repo.class','../../../../../constants/errors','request','delete','get','apply','Tokens','autoInit','__esModule','11296890tRfcAS','defineProperty','./git-repo.service','2BxPNPN','__decorate','Repo','fromBitbucket','project','188OKJwoP','../../../../../core/errors/not-found.error','10yCsiTJ','constructor','8764bXkVGb','object'];a199_0x5d78=function(){return _0x1205dd;};return a199_0x5d78();}'use strict';var __decorate=this&&this[a199_0x45da14(0x1c2)]||function(_0x25286f,_0x27d37a,_0x144a52,_0x4c84ff){const _0x22dfe0=a199_0x45da14;var _0x1cb402=arguments['length'],_0x4cd0f9=_0x1cb402<0x3?_0x27d37a:_0x4c84ff===null?_0x4c84ff=Object[_0x22dfe0(0x1aa)](_0x27d37a,_0x144a52):_0x4c84ff,_0x5c4049;if(typeof Reflect===_0x22dfe0(0x1cb)&&typeof Reflect[_0x22dfe0(0x1a2)]===_0x22dfe0(0x1cc))_0x4cd0f9=Reflect[_0x22dfe0(0x1a2)](_0x25286f,_0x27d37a,_0x144a52,_0x4c84ff);else{for(var _0x4707d8=_0x25286f[_0x22dfe0(0x1d0)]-0x1;_0x4707d8>=0x0;_0x4707d8--)if(_0x5c4049=_0x25286f[_0x4707d8])_0x4cd0f9=(_0x1cb402<0x3?_0x5c4049(_0x4cd0f9):_0x1cb402>0x3?_0x5c4049(_0x27d37a,_0x144a52,_0x4cd0f9):_0x5c4049(_0x27d37a,_0x144a52))||_0x4cd0f9;}return _0x1cb402>0x3&&_0x4cd0f9&&Object[_0x22dfe0(0x1bf)](_0x27d37a,_0x144a52,_0x4cd0f9),_0x4cd0f9;},__metadata=this&&this[a199_0x45da14(0x1cd)]||function(_0x987b3b,_0x18316f){const _0xdf9897=a199_0x45da14;if(typeof Reflect===_0xdf9897(0x1cb)&&typeof Reflect['metadata']==='function')return Reflect[_0xdf9897(0x1ac)](_0x987b3b,_0x18316f);},__param=this&&this[a199_0x45da14(0x1a5)]||function(_0x194ba4,_0x2cc9b6){return function(_0x24bbda,_0x29c46f){_0x2cc9b6(_0x24bbda,_0x29c46f,_0x194ba4);};};Object[a199_0x45da14(0x1bf)](exports,a199_0x45da14(0x1bd),{'value':!![]}),exports[a199_0x45da14(0x1e6)]=void 0x0;function a199_0x1d40(_0x17a3ba,_0x55daec){const _0x153e72=a199_0x5d78();return a199_0x1d40=function(_0x511be8,_0xcb6bd5){_0x511be8=_0x511be8-0x1a2;let _0x5d788e=_0x153e72[_0x511be8];return _0x5d788e;},a199_0x1d40(_0x17a3ba,_0x55daec);}const errors_1=require(a199_0x45da14(0x1b6)),bad_request_error_1=require(a199_0x45da14(0x1af)),not_found_error_1=require(a199_0x45da14(0x1c7)),bitbucket_api_service_1=require(a199_0x45da14(0x1b0)),typedi_1=require('typedi'),api_error_1=require(a199_0x45da14(0x1a6)),git_internal_1=require(a199_0x45da14(0x1dc)),repo_class_1=require(a199_0x45da14(0x1b5)),git_repo_service_1=require(a199_0x45da14(0x1c0)),bitbucket_credentials_dto_1=require('../../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a199_0x45da14(0x1b4));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x461952,_0x4adbcf){const _0x581154=a199_0x45da14;super(_0x461952),this[_0x581154(0x1a4)]=_0x461952,this['request']=_0x461952[_0x581154(0x1a8)](),this[_0x581154(0x1c5)]=_0x4adbcf[_0x581154(0x1c5)],this[_0x581154(0x1da)]=_0x4adbcf[_0x581154(0x1da)],this[_0x581154(0x1ad)]=_0x4adbcf;if(!this[_0x581154(0x1da)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x581154(0x1c5)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a199_0x45da14(0x1b3)](_0x24a92a){const _0xcb22d2=a199_0x45da14;try{const {name:_0x18ffd4}=_0x24a92a,_0x3a1ed5={'name':_0x24a92a[_0xcb22d2(0x1cf)],'is_private':_0x24a92a['private'],..._0x24a92a['apiBody']||{},'project':{'key':this[_0xcb22d2(0x1c5)]}},_0x365fae=await this[_0xcb22d2(0x1b7)][_0xcb22d2(0x1b1)](_0xcb22d2(0x1d2)+this[_0xcb22d2(0x1da)]+'/'+_0x18ffd4[_0xcb22d2(0x1d4)](),_0x3a1ed5),_0x486cbd=repo_class_1['Repo'][_0xcb22d2(0x1c4)](_0x365fae,this[_0xcb22d2(0x1a4)],this[_0xcb22d2(0x1ad)]);return _0x24a92a[_0xcb22d2(0x1bc)]&&(await git_internal_1['Git'][_0xcb22d2(0x1d5)](_0x486cbd,_0x24a92a[_0xcb22d2(0x1df)]||_0xcb22d2(0x1ae),'',this['credentials']),_0x486cbd[_0xcb22d2(0x1df)]=_0x24a92a[_0xcb22d2(0x1df)]||_0xcb22d2(0x1ae)),_0x486cbd;}catch(_0x3c5ee1){if(_0x3c5ee1 instanceof api_error_1[_0xcb22d2(0x1d9)])throw _0x3c5ee1;throw new bad_request_error_1['BadRequestError'](_0x3c5ee1);}}async[a199_0x45da14(0x1e2)](){const _0xa8a57b=a199_0x45da14;try{const _0x354e23=[];let _0x367d0a;do{_0x367d0a=await this['request'][_0xa8a57b(0x1b9)](_0x367d0a?_0x367d0a[_0xa8a57b(0x1a7)]:_0xa8a57b(0x1e4)+this[_0xa8a57b(0x1da)]),_0x354e23[_0xa8a57b(0x1e0)](..._0x367d0a['values']);}while(_0x367d0a['next']);return _0x354e23[_0xa8a57b(0x1e7)](_0x386b2d=>repo_class_1[_0xa8a57b(0x1c3)]['fromBitbucket'](_0x386b2d,this[_0xa8a57b(0x1a4)],this[_0xa8a57b(0x1ad)]));}catch(_0x5ae4b8){if(_0x5ae4b8 instanceof api_error_1[_0xa8a57b(0x1d9)])throw _0x5ae4b8;throw new not_found_error_1[(_0xa8a57b(0x1a3))](_0x5ae4b8);}}async[a199_0x45da14(0x1d7)](_0x56d2c3){const _0x3f0331=a199_0x45da14;try{const _0x38ad53=await this['request'][_0x3f0331(0x1b9)](_0x3f0331(0x1e4)+this['workspace']+'/'+_0x56d2c3[_0x3f0331(0x1d4)]());return repo_class_1[_0x3f0331(0x1c3)][_0x3f0331(0x1c4)](_0x38ad53,this[_0x3f0331(0x1a4)],this[_0x3f0331(0x1ad)]);}catch(_0x1b6fdd){if(_0x1b6fdd instanceof api_error_1[_0x3f0331(0x1d9)])throw _0x1b6fdd;throw new not_found_error_1[(_0x3f0331(0x1a3))](_0x1b6fdd);}}async['update'](_0x3754b6,_0x227530){const _0x4e09a7=a199_0x45da14;await this[_0x4e09a7(0x1d7)](_0x3754b6);try{const _0x1f2336=await this['request']['put'](_0x4e09a7(0x1e4)+this['workspace']+'/'+_0x3754b6[_0x4e09a7(0x1d4)](),_0x227530);return repo_class_1[_0x4e09a7(0x1c3)]['fromBitbucket'](_0x1f2336,this[_0x4e09a7(0x1a4)],this[_0x4e09a7(0x1ad)]);}catch(_0x14a25c){if(_0x14a25c instanceof api_error_1[_0x4e09a7(0x1d9)])throw _0x14a25c;throw new not_found_error_1[(_0x4e09a7(0x1a3))](_0x14a25c);}}async[a199_0x45da14(0x1b8)](_0x49648d){const _0x1d7f11=a199_0x45da14;try{await this[_0x1d7f11(0x1b7)][_0x1d7f11(0x1b8)](_0x1d7f11(0x1e4)+this[_0x1d7f11(0x1da)]+'/'+_0x49648d[_0x1d7f11(0x1d4)]());}catch(_0x1b9f6d){if(_0x1b9f6d instanceof api_error_1['ApiError'])throw _0x1b9f6d;throw new bad_request_error_1[(_0x1d7f11(0x1d1))](_0x1b9f6d);}}};BitbucketRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a199_0x45da14(0x1db)])(providers_tokens_1[a199_0x45da14(0x1bb)][a199_0x45da14(0x1ad)])),__metadata(a199_0x45da14(0x1d6),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1[a199_0x45da14(0x1d3)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;