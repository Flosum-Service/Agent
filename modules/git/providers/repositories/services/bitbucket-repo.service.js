const a210_0x5ecf1c=a210_0x5094;(function(_0x325486,_0x2a1017){const _0x55d043=a210_0x5094,_0xf57871=_0x325486();while(!![]){try{const _0x52a7c1=parseInt(_0x55d043(0x150))/0x1+parseInt(_0x55d043(0x136))/0x2*(parseInt(_0x55d043(0x177))/0x3)+-parseInt(_0x55d043(0x165))/0x4*(-parseInt(_0x55d043(0x158))/0x5)+-parseInt(_0x55d043(0x15b))/0x6*(parseInt(_0x55d043(0x156))/0x7)+parseInt(_0x55d043(0x14f))/0x8*(parseInt(_0x55d043(0x162))/0x9)+-parseInt(_0x55d043(0x14c))/0xa+parseInt(_0x55d043(0x151))/0xb;if(_0x52a7c1===_0x2a1017)break;else _0xf57871['push'](_0xf57871['shift']());}catch(_0x11a5f0){_0xf57871['push'](_0xf57871['shift']());}}}(a210_0x5b25,0x87107));const a210_0xde99ff=(function(){let _0xe857e8=!![];return function(_0x3a652d,_0x3b97d8){const _0x413522=_0xe857e8?function(){const _0x191dcb=a210_0x5094;if(_0x3b97d8){const _0x166742=_0x3b97d8[_0x191dcb(0x167)](_0x3a652d,arguments);return _0x3b97d8=null,_0x166742;}}:function(){};return _0xe857e8=![],_0x413522;};}()),a210_0x52fc0f=a210_0xde99ff(this,function(){const _0x4eeaac=a210_0x5094;return a210_0x52fc0f[_0x4eeaac(0x134)]()[_0x4eeaac(0x172)](_0x4eeaac(0x163))[_0x4eeaac(0x134)]()[_0x4eeaac(0x143)](a210_0x52fc0f)[_0x4eeaac(0x172)]('(((.+)+)+)+$');});a210_0x52fc0f();function a210_0x5b25(){const _0x9e35cc=['values','?q=project.key=\x22','../../providers.tokens','workspace','BitbucketCredentialsDto','ERR_BITBUCKET_MISSING_WORKSPACE','Repo','search','ERR_BITBUCKET_MISSING_PROJECT','getOne','GitRepoService','object','142677VxsCZq','../../../../../core/errors/bad-request.error','toString','getAll','6KiWgAJ','Inject','get','push','master','put','BadRequestError','map','\x22&pagelen=','../../../../../core/errors/not-found.error','design:paramtypes','BitbucketRepoService','post','constructor','autoInit','defaultBranch','getOwnPropertyDescriptor','../../api/bitbucket-api.service','update','credentials','repositories/','fromBitbucket','9375070edqInO','api','__param','906976ipsjUB','637398tFYJTp','7116571otXEzK','Git','../../credentials/dto/bitbucket-credentials.dto','defineProperty','ITEMS_PER_RESPONSE','4781yUdRaD','project','4115zXEwUa','ApiError','../repo.class','6018xbYgAs','create','apiBody','../../../internal/git.internal','../../../../../constants/errors','function','request','45oXMLLj','(((.+)+)+)+$','length','884JvUOgS','NotFoundError','apply','decorate','name','toLowerCase'];a210_0x5b25=function(){return _0x9e35cc;};return a210_0x5b25();}'use strict';function a210_0x5094(_0x223b97,_0x5a7b73){const _0x319737=a210_0x5b25();return a210_0x5094=function(_0x52fc0f,_0xde99ff){_0x52fc0f=_0x52fc0f-0x134;let _0x5b25ff=_0x319737[_0x52fc0f];return _0x5b25ff;},a210_0x5094(_0x223b97,_0x5a7b73);}var __decorate=this&&this['__decorate']||function(_0x871127,_0x4c490e,_0x7939c5,_0xbc8ffe){const _0x58be9c=a210_0x5094;var _0x3dfbef=arguments[_0x58be9c(0x164)],_0x3b1511=_0x3dfbef<0x3?_0x4c490e:_0xbc8ffe===null?_0xbc8ffe=Object[_0x58be9c(0x146)](_0x4c490e,_0x7939c5):_0xbc8ffe,_0x439821;if(typeof Reflect==='object'&&typeof Reflect[_0x58be9c(0x168)]==='function')_0x3b1511=Reflect['decorate'](_0x871127,_0x4c490e,_0x7939c5,_0xbc8ffe);else{for(var _0x5723a4=_0x871127[_0x58be9c(0x164)]-0x1;_0x5723a4>=0x0;_0x5723a4--)if(_0x439821=_0x871127[_0x5723a4])_0x3b1511=(_0x3dfbef<0x3?_0x439821(_0x3b1511):_0x3dfbef>0x3?_0x439821(_0x4c490e,_0x7939c5,_0x3b1511):_0x439821(_0x4c490e,_0x7939c5))||_0x3b1511;}return _0x3dfbef>0x3&&_0x3b1511&&Object[_0x58be9c(0x154)](_0x4c490e,_0x7939c5,_0x3b1511),_0x3b1511;},__metadata=this&&this['__metadata']||function(_0x5d17ac,_0x4235a9){const _0x1c2611=a210_0x5094;if(typeof Reflect===_0x1c2611(0x176)&&typeof Reflect['metadata']===_0x1c2611(0x160))return Reflect['metadata'](_0x5d17ac,_0x4235a9);},__param=this&&this[a210_0x5ecf1c(0x14e)]||function(_0x2280e2,_0x592114){return function(_0x1dbb1d,_0x1d36af){_0x592114(_0x1dbb1d,_0x1d36af,_0x2280e2);};},BitbucketRepoService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a210_0x5ecf1c(0x141)]=void 0x0;const errors_1=require(a210_0x5ecf1c(0x15f)),bad_request_error_1=require(a210_0x5ecf1c(0x178)),not_found_error_1=require(a210_0x5ecf1c(0x13f)),bitbucket_api_service_1=require(a210_0x5ecf1c(0x147)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a210_0x5ecf1c(0x15e)),repo_class_1=require(a210_0x5ecf1c(0x15a)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require(a210_0x5ecf1c(0x153)),providers_tokens_1=require(a210_0x5ecf1c(0x16d));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a210_0x5ecf1c(0x175)]{constructor(_0x4c8aa4,_0x3b377c){const _0x4277c8=a210_0x5ecf1c;super(_0x4c8aa4),this[_0x4277c8(0x14d)]=_0x4c8aa4,this[_0x4277c8(0x161)]=_0x4c8aa4['createRequest'](),this[_0x4277c8(0x157)]=_0x3b377c[_0x4277c8(0x157)],this[_0x4277c8(0x16e)]=_0x3b377c[_0x4277c8(0x16e)],this[_0x4277c8(0x149)]=_0x3b377c;if(!this[_0x4277c8(0x16e)])throw new Error(errors_1[_0x4277c8(0x170)]);if(!this[_0x4277c8(0x157)])throw new Error(errors_1[_0x4277c8(0x173)]);}async[a210_0x5ecf1c(0x15c)](_0x336f7f){const _0x3fba75=a210_0x5ecf1c;try{const {name:_0x3890f4}=_0x336f7f,_0x141ea1={'name':_0x336f7f[_0x3fba75(0x169)],'is_private':_0x336f7f['private'],..._0x336f7f[_0x3fba75(0x15d)]||{},'project':{'key':this[_0x3fba75(0x157)]}},_0x2dfb12=await this[_0x3fba75(0x161)][_0x3fba75(0x142)]('/repositories/'+this['workspace']+'/'+_0x3890f4[_0x3fba75(0x16a)](),_0x141ea1),_0x48d384=repo_class_1[_0x3fba75(0x171)][_0x3fba75(0x14b)](_0x2dfb12,this['api'],this[_0x3fba75(0x149)]);return _0x336f7f[_0x3fba75(0x144)]&&(await git_internal_1[_0x3fba75(0x152)]['createEmptyBranch'](_0x48d384,_0x336f7f[_0x3fba75(0x145)]||_0x3fba75(0x13a),'',this[_0x3fba75(0x149)]),_0x48d384[_0x3fba75(0x145)]=_0x336f7f[_0x3fba75(0x145)]||_0x3fba75(0x13a)),_0x48d384;}catch(_0x586f9e){if(_0x586f9e instanceof api_error_1['ApiError'])throw _0x586f9e;throw new bad_request_error_1[(_0x3fba75(0x13c))](_0x586f9e);}}async[a210_0x5ecf1c(0x135)](){const _0x1d6891=a210_0x5ecf1c;try{const _0x1e3b7d=[];let _0x17c01f,_0x5517a9=_0x1d6891(0x14a)+this[_0x1d6891(0x16e)]+_0x1d6891(0x16c)+this['project']+_0x1d6891(0x13e)+BitbucketRepoService_1[_0x1d6891(0x155)];do{_0x17c01f=await this[_0x1d6891(0x161)][_0x1d6891(0x138)](_0x5517a9),_0x5517a9=_0x17c01f['next'],_0x1e3b7d[_0x1d6891(0x139)](..._0x17c01f[_0x1d6891(0x16b)]);}while(_0x5517a9);return _0x1e3b7d[_0x1d6891(0x13d)](_0xa7c803=>repo_class_1['Repo'][_0x1d6891(0x14b)](_0xa7c803,this[_0x1d6891(0x14d)],this[_0x1d6891(0x149)]));}catch(_0x23cdff){if(_0x23cdff instanceof api_error_1['ApiError'])throw _0x23cdff;throw new not_found_error_1[(_0x1d6891(0x166))](_0x23cdff);}}async[a210_0x5ecf1c(0x174)](_0x387280){const _0x16f0fb=a210_0x5ecf1c;try{const _0xdbe3b3=await this[_0x16f0fb(0x161)]['get'](_0x16f0fb(0x14a)+this[_0x16f0fb(0x16e)]+'/'+_0x387280[_0x16f0fb(0x16a)]());return repo_class_1[_0x16f0fb(0x171)][_0x16f0fb(0x14b)](_0xdbe3b3,this[_0x16f0fb(0x14d)],this['credentials']);}catch(_0x19f899){if(_0x19f899 instanceof api_error_1['ApiError'])throw _0x19f899;throw new not_found_error_1['NotFoundError'](_0x19f899);}}async[a210_0x5ecf1c(0x148)](_0x37d88b,_0x5c9cad){const _0x5e7297=a210_0x5ecf1c;await this[_0x5e7297(0x174)](_0x37d88b);try{const _0x58eaa8=await this[_0x5e7297(0x161)][_0x5e7297(0x13b)](_0x5e7297(0x14a)+this['workspace']+'/'+_0x37d88b['toLowerCase'](),_0x5c9cad);return repo_class_1[_0x5e7297(0x171)][_0x5e7297(0x14b)](_0x58eaa8,this[_0x5e7297(0x14d)],this[_0x5e7297(0x149)]);}catch(_0x3f6c96){if(_0x3f6c96 instanceof api_error_1[_0x5e7297(0x159)])throw _0x3f6c96;throw new not_found_error_1['NotFoundError'](_0x3f6c96);}}async['delete'](_0x9988ce){const _0x4aef40=a210_0x5ecf1c;try{await this[_0x4aef40(0x161)]['delete'](_0x4aef40(0x14a)+this[_0x4aef40(0x16e)]+'/'+_0x9988ce[_0x4aef40(0x16a)]());}catch(_0x260b7c){if(_0x260b7c instanceof api_error_1[_0x4aef40(0x159)])throw _0x260b7c;throw new bad_request_error_1[(_0x4aef40(0x13c))](_0x260b7c);}}};BitbucketRepoService[a210_0x5ecf1c(0x155)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a210_0x5ecf1c(0x137)])(providers_tokens_1['Tokens'][a210_0x5ecf1c(0x149)])),__metadata(a210_0x5ecf1c(0x140),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1[a210_0x5ecf1c(0x16f)]])],BitbucketRepoService),exports[a210_0x5ecf1c(0x141)]=BitbucketRepoService;