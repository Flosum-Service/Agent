const a210_0x4a590=a210_0x2226;(function(_0x436457,_0x506ec2){const _0x8faa03=a210_0x2226,_0xbff7f=_0x436457();while(!![]){try{const _0x2e3f06=-parseInt(_0x8faa03(0x1b9))/0x1+-parseInt(_0x8faa03(0x191))/0x2+-parseInt(_0x8faa03(0x1a4))/0x3+parseInt(_0x8faa03(0x19a))/0x4*(parseInt(_0x8faa03(0x1a0))/0x5)+-parseInt(_0x8faa03(0x181))/0x6+parseInt(_0x8faa03(0x18b))/0x7+-parseInt(_0x8faa03(0x18f))/0x8*(-parseInt(_0x8faa03(0x1c1))/0x9);if(_0x2e3f06===_0x506ec2)break;else _0xbff7f['push'](_0xbff7f['shift']());}catch(_0x10a83b){_0xbff7f['push'](_0xbff7f['shift']());}}}(a210_0x2ad0,0x583cb));const a210_0x17c347=(function(){let _0x35c0b4=!![];return function(_0x4ac761,_0x443db9){const _0x28d318=_0x35c0b4?function(){const _0xc0a8f6=a210_0x2226;if(_0x443db9){const _0x17bf66=_0x443db9[_0xc0a8f6(0x1be)](_0x4ac761,arguments);return _0x443db9=null,_0x17bf66;}}:function(){};return _0x35c0b4=![],_0x28d318;};}()),a210_0x1e558f=a210_0x17c347(this,function(){const _0x3e585d=a210_0x2226;return a210_0x1e558f['toString']()['search'](_0x3e585d(0x196))['toString']()['constructor'](a210_0x1e558f)['search'](_0x3e585d(0x196));});a210_0x1e558f();'use strict';var __decorate=this&&this[a210_0x4a590(0x1b2)]||function(_0x159fbd,_0x7f9af7,_0x2fc01a,_0x482f4c){const _0x3bc1c3=a210_0x4a590;var _0x438513=arguments[_0x3bc1c3(0x1b5)],_0x52f46e=_0x438513<0x3?_0x7f9af7:_0x482f4c===null?_0x482f4c=Object[_0x3bc1c3(0x1b7)](_0x7f9af7,_0x2fc01a):_0x482f4c,_0x306d2c;if(typeof Reflect===_0x3bc1c3(0x19b)&&typeof Reflect[_0x3bc1c3(0x1bc)]===_0x3bc1c3(0x1bd))_0x52f46e=Reflect[_0x3bc1c3(0x1bc)](_0x159fbd,_0x7f9af7,_0x2fc01a,_0x482f4c);else{for(var _0x3a3f53=_0x159fbd[_0x3bc1c3(0x1b5)]-0x1;_0x3a3f53>=0x0;_0x3a3f53--)if(_0x306d2c=_0x159fbd[_0x3a3f53])_0x52f46e=(_0x438513<0x3?_0x306d2c(_0x52f46e):_0x438513>0x3?_0x306d2c(_0x7f9af7,_0x2fc01a,_0x52f46e):_0x306d2c(_0x7f9af7,_0x2fc01a))||_0x52f46e;}return _0x438513>0x3&&_0x52f46e&&Object[_0x3bc1c3(0x194)](_0x7f9af7,_0x2fc01a,_0x52f46e),_0x52f46e;},__metadata=this&&this[a210_0x4a590(0x1ae)]||function(_0x4f8318,_0x20c760){const _0x5cf4e1=a210_0x4a590;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x5cf4e1(0x1bd))return Reflect[_0x5cf4e1(0x1b1)](_0x4f8318,_0x20c760);},__param=this&&this['__param']||function(_0x4e3e60,_0x1d6b31){return function(_0x208951,_0x103a23){_0x1d6b31(_0x208951,_0x103a23,_0x4e3e60);};},BitbucketRepoService_1;Object[a210_0x4a590(0x194)](exports,a210_0x4a590(0x18a),{'value':!![]}),exports[a210_0x4a590(0x193)]=void 0x0;function a210_0x2ad0(){const _0x96a98c=['1704912uPWbqX','../../../internal/git.internal','values','repositories/','apiBody','./git-repo.service','ERR_BITBUCKET_MISSING_WORKSPACE','get','getAll','__esModule','3205860Feyjyy','workspace','createRequest','put','32UEPYXI','../../credentials/dto/bitbucket-credentials.dto','739218ACZaHW','ApiError','BitbucketRepoService','defineProperty','delete','(((.+)+)+)+$','\x22&pagelen=','autoInit','BadRequestError','9460Qocbyf','object','post','next','NotFoundError','Tokens','535PDqegj','BitbucketApiService','ITEMS_PER_RESPONSE','master','472770zAznRe','typedi','../repo.class','toLowerCase','../../../../../core/errors/bad-request.error','api','../../providers.tokens','../../../../../core/errors/not-found.error','/repositories/','private','__metadata','../../../../../core/errors/api.error','fromBitbucket','metadata','__decorate','request','getOne','length','../../api/bitbucket-api.service','getOwnPropertyDescriptor','project','696093DGQLuN','create','Repo','decorate','function','apply','credentials','ERR_BITBUCKET_MISSING_PROJECT','2605113XwUsTG','GitRepoService'];a210_0x2ad0=function(){return _0x96a98c;};return a210_0x2ad0();}const errors_1=require('../../../../../constants/errors'),bad_request_error_1=require(a210_0x4a590(0x1a8)),not_found_error_1=require(a210_0x4a590(0x1ab)),bitbucket_api_service_1=require(a210_0x4a590(0x1b6)),typedi_1=require(a210_0x4a590(0x1a5)),api_error_1=require(a210_0x4a590(0x1af)),git_internal_1=require(a210_0x4a590(0x182)),repo_class_1=require(a210_0x4a590(0x1a6)),git_repo_service_1=require(a210_0x4a590(0x186)),bitbucket_credentials_dto_1=require(a210_0x4a590(0x190)),providers_tokens_1=require(a210_0x4a590(0x1aa));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a210_0x4a590(0x1c2)]{constructor(_0x23d154,_0x1573cf){const _0x24eccc=a210_0x4a590;super(_0x23d154),this[_0x24eccc(0x1a9)]=_0x23d154,this[_0x24eccc(0x1b3)]=_0x23d154[_0x24eccc(0x18d)](),this['project']=_0x1573cf[_0x24eccc(0x1b8)],this[_0x24eccc(0x18c)]=_0x1573cf[_0x24eccc(0x18c)],this[_0x24eccc(0x1bf)]=_0x1573cf;if(!this[_0x24eccc(0x18c)])throw new Error(errors_1[_0x24eccc(0x187)]);if(!this[_0x24eccc(0x1b8)])throw new Error(errors_1[_0x24eccc(0x1c0)]);}async[a210_0x4a590(0x1ba)](_0x3766bf){const _0x55add4=a210_0x4a590;try{const {name:_0x4f9d70}=_0x3766bf,_0x1327c2={'name':_0x3766bf['name'],'is_private':_0x3766bf[_0x55add4(0x1ad)],..._0x3766bf[_0x55add4(0x185)]||{},'project':{'key':this[_0x55add4(0x1b8)]}},_0x5a560e=await this[_0x55add4(0x1b3)][_0x55add4(0x19c)](_0x55add4(0x1ac)+this[_0x55add4(0x18c)]+'/'+_0x4f9d70[_0x55add4(0x1a7)](),_0x1327c2),_0x310163=repo_class_1[_0x55add4(0x1bb)][_0x55add4(0x1b0)](_0x5a560e,this[_0x55add4(0x1a9)],this[_0x55add4(0x1bf)]);return _0x3766bf[_0x55add4(0x198)]&&(await git_internal_1['Git']['createEmptyBranch'](_0x310163,_0x3766bf['defaultBranch']||_0x55add4(0x1a3),'',this['credentials']),_0x310163['defaultBranch']=_0x3766bf['defaultBranch']||'master'),_0x310163;}catch(_0x48fe98){if(_0x48fe98 instanceof api_error_1[_0x55add4(0x192)])throw _0x48fe98;throw new bad_request_error_1[(_0x55add4(0x199))](_0x48fe98);}}async[a210_0x4a590(0x189)](){const _0x169fa9=a210_0x4a590;try{const _0x395f2a=[];let _0x28cb71,_0x53a726='repositories/'+this[_0x169fa9(0x18c)]+'?q=project.key=\x22'+this[_0x169fa9(0x1b8)]+_0x169fa9(0x197)+BitbucketRepoService_1[_0x169fa9(0x1a2)];do{_0x28cb71=await this['request'][_0x169fa9(0x188)](_0x53a726),_0x53a726=_0x28cb71[_0x169fa9(0x19d)],_0x395f2a['push'](..._0x28cb71[_0x169fa9(0x183)]);}while(_0x53a726);return _0x395f2a['map'](_0xf62304=>repo_class_1['Repo'][_0x169fa9(0x1b0)](_0xf62304,this[_0x169fa9(0x1a9)],this[_0x169fa9(0x1bf)]));}catch(_0x114c7c){if(_0x114c7c instanceof api_error_1['ApiError'])throw _0x114c7c;throw new not_found_error_1['NotFoundError'](_0x114c7c);}}async[a210_0x4a590(0x1b4)](_0x3d15b5){const _0x2021be=a210_0x4a590;try{const _0x239de6=await this[_0x2021be(0x1b3)][_0x2021be(0x188)](_0x2021be(0x184)+this[_0x2021be(0x18c)]+'/'+_0x3d15b5[_0x2021be(0x1a7)]());return repo_class_1[_0x2021be(0x1bb)][_0x2021be(0x1b0)](_0x239de6,this['api'],this[_0x2021be(0x1bf)]);}catch(_0x7fc83a){if(_0x7fc83a instanceof api_error_1[_0x2021be(0x192)])throw _0x7fc83a;throw new not_found_error_1['NotFoundError'](_0x7fc83a);}}async['update'](_0x58bd4d,_0x4e6319){const _0x4f57e6=a210_0x4a590;await this['getOne'](_0x58bd4d);try{const _0x2c514f=await this['request'][_0x4f57e6(0x18e)](_0x4f57e6(0x184)+this[_0x4f57e6(0x18c)]+'/'+_0x58bd4d[_0x4f57e6(0x1a7)](),_0x4e6319);return repo_class_1['Repo'][_0x4f57e6(0x1b0)](_0x2c514f,this[_0x4f57e6(0x1a9)],this[_0x4f57e6(0x1bf)]);}catch(_0x402664){if(_0x402664 instanceof api_error_1[_0x4f57e6(0x192)])throw _0x402664;throw new not_found_error_1[(_0x4f57e6(0x19e))](_0x402664);}}async['delete'](_0x431315){const _0x30eba4=a210_0x4a590;try{await this[_0x30eba4(0x1b3)][_0x30eba4(0x195)](_0x30eba4(0x184)+this['workspace']+'/'+_0x431315[_0x30eba4(0x1a7)]());}catch(_0x1002a3){if(_0x1002a3 instanceof api_error_1['ApiError'])throw _0x1002a3;throw new bad_request_error_1['BadRequestError'](_0x1002a3);}}};function a210_0x2226(_0x4fb146,_0x122dc5){const _0x45efc3=a210_0x2ad0();return a210_0x2226=function(_0x1e558f,_0x17c347){_0x1e558f=_0x1e558f-0x181;let _0x2ad071=_0x45efc3[_0x1e558f];return _0x2ad071;},a210_0x2226(_0x4fb146,_0x122dc5);}BitbucketRepoService[a210_0x4a590(0x1a2)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a210_0x4a590(0x19f)][a210_0x4a590(0x1bf)])),__metadata('design:paramtypes',[bitbucket_api_service_1[a210_0x4a590(0x1a1)],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a210_0x4a590(0x193)]=BitbucketRepoService;