const a200_0x90c60f=a200_0x20a2;(function(_0x5abb03,_0x5d59f4){const _0x57bf0e=a200_0x20a2,_0x5240d9=_0x5abb03();while(!![]){try{const _0xb8b54f=parseInt(_0x57bf0e(0x125))/0x1*(parseInt(_0x57bf0e(0x113))/0x2)+parseInt(_0x57bf0e(0x103))/0x3+-parseInt(_0x57bf0e(0xfe))/0x4+-parseInt(_0x57bf0e(0xf4))/0x5*(-parseInt(_0x57bf0e(0xe8))/0x6)+-parseInt(_0x57bf0e(0xec))/0x7*(parseInt(_0x57bf0e(0x112))/0x8)+parseInt(_0x57bf0e(0x100))/0x9*(parseInt(_0x57bf0e(0x119))/0xa)+parseInt(_0x57bf0e(0x117))/0xb*(-parseInt(_0x57bf0e(0xf5))/0xc);if(_0xb8b54f===_0x5d59f4)break;else _0x5240d9['push'](_0x5240d9['shift']());}catch(_0x990df7){_0x5240d9['push'](_0x5240d9['shift']());}}}(a200_0x56fe,0x9e934));const a200_0x4edcf4=(function(){let _0x5c06b5=!![];return function(_0x11ec14,_0x2c2d57){const _0x140b62=_0x5c06b5?function(){if(_0x2c2d57){const _0x881fc7=_0x2c2d57['apply'](_0x11ec14,arguments);return _0x2c2d57=null,_0x881fc7;}}:function(){};return _0x5c06b5=![],_0x140b62;};}()),a200_0x287e97=a200_0x4edcf4(this,function(){const _0x4d62b9=a200_0x20a2;return a200_0x287e97['toString']()['search'](_0x4d62b9(0xea))[_0x4d62b9(0x10c)]()[_0x4d62b9(0xf6)](a200_0x287e97)[_0x4d62b9(0x116)](_0x4d62b9(0xea));});a200_0x287e97();'use strict';function a200_0x56fe(){const _0x301ffb=['ERR_BITBUCKET_MISSING_PROJECT','search','5587901TWlyNW','toLowerCase','958310vpVDSp','typedi','../repo.class','../../../../../core/errors/api.error','ERR_BITBUCKET_MISSING_WORKSPACE','object','post','metadata','ApiError','__esModule','design:paramtypes','getAll','1arfLsH','createRequest','GitRepoService','decorate','Tokens','/repositories/','../../../../../core/errors/not-found.error','../../credentials/dto/bitbucket-credentials.dto','../../../../../core/errors/bad-request.error','delete','defaultBranch','request','private','Git','863514rgrAZP','Repo','(((.+)+)+)+$','__param','7ZJuUGv','__decorate','create','master','getOwnPropertyDescriptor','function','getOne','put','45cmWVRG','12dvTMRV','constructor','createEmptyBranch','push','NotFoundError','next','repositories/','BitbucketRepoService','BitbucketApiService','4165120JxZAFC','defineProperty','63xbhbcw','get','credentials','2140179uLRKIJ','api','length','project','fromBitbucket','values','map','autoInit','update','toString','__metadata','../../providers.tokens','./git-repo.service','Service','BadRequestError','7908304vRABhG','1015704hwXXYU','workspace'];a200_0x56fe=function(){return _0x301ffb;};return a200_0x56fe();}var __decorate=this&&this[a200_0x90c60f(0xed)]||function(_0xb47417,_0x15c61d,_0x300b31,_0x302d57){const _0x1c90fe=a200_0x90c60f;var _0x3caa33=arguments[_0x1c90fe(0x105)],_0x2e238c=_0x3caa33<0x3?_0x15c61d:_0x302d57===null?_0x302d57=Object[_0x1c90fe(0xf0)](_0x15c61d,_0x300b31):_0x302d57,_0x5d13cb;if(typeof Reflect===_0x1c90fe(0x11e)&&typeof Reflect[_0x1c90fe(0xdd)]==='function')_0x2e238c=Reflect[_0x1c90fe(0xdd)](_0xb47417,_0x15c61d,_0x300b31,_0x302d57);else{for(var _0x2d1674=_0xb47417[_0x1c90fe(0x105)]-0x1;_0x2d1674>=0x0;_0x2d1674--)if(_0x5d13cb=_0xb47417[_0x2d1674])_0x2e238c=(_0x3caa33<0x3?_0x5d13cb(_0x2e238c):_0x3caa33>0x3?_0x5d13cb(_0x15c61d,_0x300b31,_0x2e238c):_0x5d13cb(_0x15c61d,_0x300b31))||_0x2e238c;}return _0x3caa33>0x3&&_0x2e238c&&Object[_0x1c90fe(0xff)](_0x15c61d,_0x300b31,_0x2e238c),_0x2e238c;},__metadata=this&&this[a200_0x90c60f(0x10d)]||function(_0x687ad,_0x461567){const _0x378cc6=a200_0x90c60f;if(typeof Reflect===_0x378cc6(0x11e)&&typeof Reflect[_0x378cc6(0x120)]===_0x378cc6(0xf1))return Reflect[_0x378cc6(0x120)](_0x687ad,_0x461567);},__param=this&&this[a200_0x90c60f(0xeb)]||function(_0x4e4df5,_0x2719b6){return function(_0x3fa056,_0x7a31ab){_0x2719b6(_0x3fa056,_0x7a31ab,_0x4e4df5);};};function a200_0x20a2(_0x2fb233,_0x34ee57){const _0xc68df8=a200_0x56fe();return a200_0x20a2=function(_0x287e97,_0x4edcf4){_0x287e97=_0x287e97-0xdc;let _0x56fea1=_0xc68df8[_0x287e97];return _0x56fea1;},a200_0x20a2(_0x2fb233,_0x34ee57);}Object[a200_0x90c60f(0xff)](exports,a200_0x90c60f(0x122),{'value':!![]}),exports[a200_0x90c60f(0xfc)]=void 0x0;const errors_1=require('../../../../../constants/errors'),bad_request_error_1=require(a200_0x90c60f(0xe2)),not_found_error_1=require(a200_0x90c60f(0xe0)),bitbucket_api_service_1=require('../../api/bitbucket-api.service'),typedi_1=require(a200_0x90c60f(0x11a)),api_error_1=require(a200_0x90c60f(0x11c)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a200_0x90c60f(0x11b)),git_repo_service_1=require(a200_0x90c60f(0x10f)),bitbucket_credentials_dto_1=require(a200_0x90c60f(0xe1)),providers_tokens_1=require(a200_0x90c60f(0x10e));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a200_0x90c60f(0xdc)]{constructor(_0x194f24,_0x1b9a6c){const _0x349723=a200_0x90c60f;super(_0x194f24),this[_0x349723(0x104)]=_0x194f24,this[_0x349723(0xe5)]=_0x194f24[_0x349723(0x126)](),this['project']=_0x1b9a6c[_0x349723(0x106)],this[_0x349723(0x114)]=_0x1b9a6c[_0x349723(0x114)],this[_0x349723(0x102)]=_0x1b9a6c;if(!this[_0x349723(0x114)])throw new Error(errors_1[_0x349723(0x11d)]);if(!this[_0x349723(0x106)])throw new Error(errors_1[_0x349723(0x115)]);}async[a200_0x90c60f(0xee)](_0x190040){const _0x5cb2d7=a200_0x90c60f;try{const {name:_0xa4c304}=_0x190040,_0x47e665={'name':_0x190040['name'],'is_private':_0x190040[_0x5cb2d7(0xe6)],..._0x190040['apiBody']||{},'project':{'key':this[_0x5cb2d7(0x106)]}},_0x2b82ad=await this[_0x5cb2d7(0xe5)][_0x5cb2d7(0x11f)](_0x5cb2d7(0xdf)+this[_0x5cb2d7(0x114)]+'/'+_0xa4c304[_0x5cb2d7(0x118)](),_0x47e665),_0x673c75=repo_class_1[_0x5cb2d7(0xe9)][_0x5cb2d7(0x107)](_0x2b82ad,this[_0x5cb2d7(0x104)],this['credentials']);return _0x190040[_0x5cb2d7(0x10a)]&&(await git_internal_1[_0x5cb2d7(0xe7)][_0x5cb2d7(0xf7)](_0x673c75,_0x190040[_0x5cb2d7(0xe4)]||_0x5cb2d7(0xef),'',this[_0x5cb2d7(0x102)]),_0x673c75[_0x5cb2d7(0xe4)]=_0x190040['defaultBranch']||_0x5cb2d7(0xef)),_0x673c75;}catch(_0x384427){if(_0x384427 instanceof api_error_1[_0x5cb2d7(0x121)])throw _0x384427;throw new bad_request_error_1[(_0x5cb2d7(0x111))](_0x384427);}}async[a200_0x90c60f(0x124)](){const _0x4b3eb6=a200_0x90c60f;try{const _0x5c132a=[];let _0x365757;do{_0x365757=await this['request'][_0x4b3eb6(0x101)](_0x365757?_0x365757[_0x4b3eb6(0xfa)]:'repositories/'+this[_0x4b3eb6(0x114)]),_0x5c132a[_0x4b3eb6(0xf8)](..._0x365757[_0x4b3eb6(0x108)]);}while(_0x365757[_0x4b3eb6(0xfa)]);return _0x5c132a[_0x4b3eb6(0x109)](_0x208d17=>repo_class_1[_0x4b3eb6(0xe9)][_0x4b3eb6(0x107)](_0x208d17,this[_0x4b3eb6(0x104)],this[_0x4b3eb6(0x102)]));}catch(_0x3eab7d){if(_0x3eab7d instanceof api_error_1['ApiError'])throw _0x3eab7d;throw new not_found_error_1[(_0x4b3eb6(0xf9))](_0x3eab7d);}}async[a200_0x90c60f(0xf2)](_0x4bccc8){const _0x1e2e74=a200_0x90c60f;try{const _0x5f2535=await this['request'][_0x1e2e74(0x101)](_0x1e2e74(0xfb)+this[_0x1e2e74(0x114)]+'/'+_0x4bccc8[_0x1e2e74(0x118)]());return repo_class_1[_0x1e2e74(0xe9)][_0x1e2e74(0x107)](_0x5f2535,this['api'],this[_0x1e2e74(0x102)]);}catch(_0x1502ce){if(_0x1502ce instanceof api_error_1['ApiError'])throw _0x1502ce;throw new not_found_error_1[(_0x1e2e74(0xf9))](_0x1502ce);}}async[a200_0x90c60f(0x10b)](_0x47c83f,_0x258e7d){const _0x40b97f=a200_0x90c60f;await this['getOne'](_0x47c83f);try{const _0x1ccfef=await this[_0x40b97f(0xe5)][_0x40b97f(0xf3)]('repositories/'+this[_0x40b97f(0x114)]+'/'+_0x47c83f[_0x40b97f(0x118)](),_0x258e7d);return repo_class_1[_0x40b97f(0xe9)][_0x40b97f(0x107)](_0x1ccfef,this['api'],this['credentials']);}catch(_0x46f509){if(_0x46f509 instanceof api_error_1[_0x40b97f(0x121)])throw _0x46f509;throw new not_found_error_1[(_0x40b97f(0xf9))](_0x46f509);}}async[a200_0x90c60f(0xe3)](_0x537ce3){const _0xf3bee3=a200_0x90c60f;try{await this[_0xf3bee3(0xe5)][_0xf3bee3(0xe3)](_0xf3bee3(0xfb)+this['workspace']+'/'+_0x537ce3[_0xf3bee3(0x118)]());}catch(_0x4e2487){if(_0x4e2487 instanceof api_error_1[_0xf3bee3(0x121)])throw _0x4e2487;throw new bad_request_error_1[(_0xf3bee3(0x111))](_0x4e2487);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a200_0x90c60f(0x110)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a200_0x90c60f(0xde)][a200_0x90c60f(0x102)])),__metadata(a200_0x90c60f(0x123),[bitbucket_api_service_1[a200_0x90c60f(0xfd)],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a200_0x90c60f(0xfc)]=BitbucketRepoService;