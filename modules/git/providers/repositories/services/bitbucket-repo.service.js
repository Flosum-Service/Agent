const a211_0x5a7bf7=a211_0x2a58;(function(_0x370e86,_0x339f83){const _0x887ef7=a211_0x2a58,_0x2082b1=_0x370e86();while(!![]){try{const _0x3478b0=parseInt(_0x887ef7(0x1bf))/0x1*(parseInt(_0x887ef7(0x1b3))/0x2)+-parseInt(_0x887ef7(0x1c1))/0x3+-parseInt(_0x887ef7(0x1a1))/0x4*(-parseInt(_0x887ef7(0x1b0))/0x5)+parseInt(_0x887ef7(0x1cf))/0x6*(parseInt(_0x887ef7(0x1c0))/0x7)+-parseInt(_0x887ef7(0x19c))/0x8+parseInt(_0x887ef7(0x1bb))/0x9+parseInt(_0x887ef7(0x1dc))/0xa*(-parseInt(_0x887ef7(0x1ae))/0xb);if(_0x3478b0===_0x339f83)break;else _0x2082b1['push'](_0x2082b1['shift']());}catch(_0x3ba885){_0x2082b1['push'](_0x2082b1['shift']());}}}(a211_0x12ef,0x8724c));const a211_0x22d308=(function(){let _0x5c70e7=!![];return function(_0x58dff9,_0x42f8c4){const _0x32f9c1=_0x5c70e7?function(){if(_0x42f8c4){const _0x887eae=_0x42f8c4['apply'](_0x58dff9,arguments);return _0x42f8c4=null,_0x887eae;}}:function(){};return _0x5c70e7=![],_0x32f9c1;};}()),a211_0x3b37ca=a211_0x22d308(this,function(){const _0x2088df=a211_0x2a58;return a211_0x3b37ca['toString']()[_0x2088df(0x1e6)](_0x2088df(0x1b6))[_0x2088df(0x1aa)]()[_0x2088df(0x1b7)](a211_0x3b37ca)['search'](_0x2088df(0x1b6));});a211_0x3b37ca();'use strict';var __decorate=this&&this['__decorate']||function(_0x43c324,_0x4ca7cf,_0x4e8dc6,_0x74c4c5){const _0x46408c=a211_0x2a58;var _0x3be99c=arguments[_0x46408c(0x1be)],_0x1dee79=_0x3be99c<0x3?_0x4ca7cf:_0x74c4c5===null?_0x74c4c5=Object['getOwnPropertyDescriptor'](_0x4ca7cf,_0x4e8dc6):_0x74c4c5,_0x3d701a;if(typeof Reflect===_0x46408c(0x1b1)&&typeof Reflect['decorate']==='function')_0x1dee79=Reflect[_0x46408c(0x1d2)](_0x43c324,_0x4ca7cf,_0x4e8dc6,_0x74c4c5);else{for(var _0x2a2373=_0x43c324[_0x46408c(0x1be)]-0x1;_0x2a2373>=0x0;_0x2a2373--)if(_0x3d701a=_0x43c324[_0x2a2373])_0x1dee79=(_0x3be99c<0x3?_0x3d701a(_0x1dee79):_0x3be99c>0x3?_0x3d701a(_0x4ca7cf,_0x4e8dc6,_0x1dee79):_0x3d701a(_0x4ca7cf,_0x4e8dc6))||_0x1dee79;}return _0x3be99c>0x3&&_0x1dee79&&Object[_0x46408c(0x1b2)](_0x4ca7cf,_0x4e8dc6,_0x1dee79),_0x1dee79;},__metadata=this&&this[a211_0x5a7bf7(0x1e2)]||function(_0x1ff82b,_0x586989){const _0xd680e7=a211_0x5a7bf7;if(typeof Reflect===_0xd680e7(0x1b1)&&typeof Reflect[_0xd680e7(0x1b5)]===_0xd680e7(0x1b9))return Reflect[_0xd680e7(0x1b5)](_0x1ff82b,_0x586989);},__param=this&&this[a211_0x5a7bf7(0x1e4)]||function(_0x81b418,_0x389d8d){return function(_0x4e1040,_0x12ba80){_0x389d8d(_0x4e1040,_0x12ba80,_0x81b418);};},BitbucketRepoService_1;Object[a211_0x5a7bf7(0x1b2)](exports,a211_0x5a7bf7(0x1da),{'value':!![]}),exports[a211_0x5a7bf7(0x1c5)]=void 0x0;const errors_1=require(a211_0x5a7bf7(0x1ab)),bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a211_0x5a7bf7(0x1a5)),bitbucket_api_service_1=require(a211_0x5a7bf7(0x1d1)),typedi_1=require(a211_0x5a7bf7(0x1dd)),api_error_1=require(a211_0x5a7bf7(0x1c2)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a211_0x5a7bf7(0x1ca)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require(a211_0x5a7bf7(0x1a3)),providers_tokens_1=require(a211_0x5a7bf7(0x1db));function a211_0x12ef(){const _0xa43e59=['NotFoundError','4315pkePJk','object','defineProperty','1682974gTYKfn','Service','metadata','(((.+)+)+)+$','constructor','\x22&pagelen=','function','map','2968101isHnkp','put','get','length','1YPiCYU','91MvVvMN','1385550MTfRRD','../../../../../core/errors/api.error','name','apiBody','BitbucketRepoService','ERR_BITBUCKET_MISSING_WORKSPACE','defaultBranch','BadRequestError','repositories/','../repo.class','Inject','fromBitbucket','createRequest','project','445722xNvBTx','post','../../api/bitbucket-api.service','decorate','workspace','create','Repo','delete','Git','values','design:paramtypes','__esModule','../../providers.tokens','229010EmIkzL','typedi','next','request','?q=project.key=\x22','BitbucketApiService','__metadata','ERR_BITBUCKET_MISSING_PROJECT','__param','master','search','3990728pOZLhZ','toLowerCase','api','Tokens','ApiError','404ZhAVye','getOne','../../credentials/dto/bitbucket-credentials.dto','getAll','../../../../../core/errors/not-found.error','update','/repositories/','ITEMS_PER_RESPONSE','autoInit','toString','../../../../../constants/errors','createEmptyBranch','credentials','341pieCEe'];a211_0x12ef=function(){return _0xa43e59;};return a211_0x12ef();}let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x4c4bb4,_0x285bb5){const _0x26476c=a211_0x5a7bf7;super(_0x4c4bb4),this[_0x26476c(0x19e)]=_0x4c4bb4,this[_0x26476c(0x1df)]=_0x4c4bb4[_0x26476c(0x1cd)](),this[_0x26476c(0x1ce)]=_0x285bb5[_0x26476c(0x1ce)],this[_0x26476c(0x1d3)]=_0x285bb5['workspace'],this[_0x26476c(0x1ad)]=_0x285bb5;if(!this[_0x26476c(0x1d3)])throw new Error(errors_1[_0x26476c(0x1c6)]);if(!this[_0x26476c(0x1ce)])throw new Error(errors_1[_0x26476c(0x1e3)]);}async[a211_0x5a7bf7(0x1d4)](_0x51c439){const _0x41cf79=a211_0x5a7bf7;try{const {name:_0x117d75}=_0x51c439,_0xa65142={'name':_0x51c439[_0x41cf79(0x1c3)],'is_private':_0x51c439['private'],..._0x51c439[_0x41cf79(0x1c4)]||{},'project':{'key':this['project']}},_0x46785e=await this[_0x41cf79(0x1df)][_0x41cf79(0x1d0)](_0x41cf79(0x1a7)+this[_0x41cf79(0x1d3)]+'/'+_0x117d75[_0x41cf79(0x19d)](),_0xa65142),_0x241c27=repo_class_1[_0x41cf79(0x1d5)][_0x41cf79(0x1cc)](_0x46785e,this['api'],this[_0x41cf79(0x1ad)]);return _0x51c439[_0x41cf79(0x1a9)]&&(await git_internal_1[_0x41cf79(0x1d7)][_0x41cf79(0x1ac)](_0x241c27,_0x51c439[_0x41cf79(0x1c7)]||_0x41cf79(0x1e5),'',this[_0x41cf79(0x1ad)]),_0x241c27[_0x41cf79(0x1c7)]=_0x51c439[_0x41cf79(0x1c7)]||_0x41cf79(0x1e5)),_0x241c27;}catch(_0x1b2885){if(_0x1b2885 instanceof api_error_1['ApiError'])throw _0x1b2885;throw new bad_request_error_1[(_0x41cf79(0x1c8))](_0x1b2885);}}async[a211_0x5a7bf7(0x1a4)](){const _0x21a6f8=a211_0x5a7bf7;try{const _0x397281=[];let _0x3ace40,_0x57a0d0=_0x21a6f8(0x1c9)+this[_0x21a6f8(0x1d3)]+_0x21a6f8(0x1e0)+this[_0x21a6f8(0x1ce)]+_0x21a6f8(0x1b8)+BitbucketRepoService_1[_0x21a6f8(0x1a8)];do{_0x3ace40=await this[_0x21a6f8(0x1df)][_0x21a6f8(0x1bd)](_0x57a0d0),_0x57a0d0=_0x3ace40[_0x21a6f8(0x1de)],_0x397281['push'](..._0x3ace40[_0x21a6f8(0x1d8)]);}while(_0x57a0d0);return _0x397281[_0x21a6f8(0x1ba)](_0x3e5719=>repo_class_1[_0x21a6f8(0x1d5)][_0x21a6f8(0x1cc)](_0x3e5719,this[_0x21a6f8(0x19e)],this['credentials']));}catch(_0x425684){if(_0x425684 instanceof api_error_1[_0x21a6f8(0x1a0)])throw _0x425684;throw new not_found_error_1[(_0x21a6f8(0x1af))](_0x425684);}}async[a211_0x5a7bf7(0x1a2)](_0x3877b0){const _0x4865ec=a211_0x5a7bf7;try{const _0x554e5a=await this[_0x4865ec(0x1df)][_0x4865ec(0x1bd)](_0x4865ec(0x1c9)+this[_0x4865ec(0x1d3)]+'/'+_0x3877b0[_0x4865ec(0x19d)]());return repo_class_1[_0x4865ec(0x1d5)]['fromBitbucket'](_0x554e5a,this[_0x4865ec(0x19e)],this['credentials']);}catch(_0x128389){if(_0x128389 instanceof api_error_1[_0x4865ec(0x1a0)])throw _0x128389;throw new not_found_error_1[(_0x4865ec(0x1af))](_0x128389);}}async[a211_0x5a7bf7(0x1a6)](_0x3d1689,_0x27c471){const _0x5e92ef=a211_0x5a7bf7;await this[_0x5e92ef(0x1a2)](_0x3d1689);try{const _0x48b3cb=await this[_0x5e92ef(0x1df)][_0x5e92ef(0x1bc)](_0x5e92ef(0x1c9)+this[_0x5e92ef(0x1d3)]+'/'+_0x3d1689[_0x5e92ef(0x19d)](),_0x27c471);return repo_class_1['Repo'][_0x5e92ef(0x1cc)](_0x48b3cb,this['api'],this[_0x5e92ef(0x1ad)]);}catch(_0x72a584){if(_0x72a584 instanceof api_error_1['ApiError'])throw _0x72a584;throw new not_found_error_1[(_0x5e92ef(0x1af))](_0x72a584);}}async[a211_0x5a7bf7(0x1d6)](_0x5bd441){const _0x13308b=a211_0x5a7bf7;try{await this['request']['delete'](_0x13308b(0x1c9)+this[_0x13308b(0x1d3)]+'/'+_0x5bd441['toLowerCase']());}catch(_0x4c6820){if(_0x4c6820 instanceof api_error_1[_0x13308b(0x1a0)])throw _0x4c6820;throw new bad_request_error_1[(_0x13308b(0x1c8))](_0x4c6820);}}};function a211_0x2a58(_0x340729,_0x515fc4){const _0x24273a=a211_0x12ef();return a211_0x2a58=function(_0x3b37ca,_0x22d308){_0x3b37ca=_0x3b37ca-0x19c;let _0x12ef93=_0x24273a[_0x3b37ca];return _0x12ef93;},a211_0x2a58(_0x340729,_0x515fc4);}BitbucketRepoService[a211_0x5a7bf7(0x1a8)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a211_0x5a7bf7(0x1b4)])(),__param(0x1,(0x0,typedi_1[a211_0x5a7bf7(0x1cb)])(providers_tokens_1[a211_0x5a7bf7(0x19f)][a211_0x5a7bf7(0x1ad)])),__metadata(a211_0x5a7bf7(0x1d9),[bitbucket_api_service_1[a211_0x5a7bf7(0x1e1)],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a211_0x5a7bf7(0x1c5)]=BitbucketRepoService;