function a205_0x3899(_0xe1775,_0x24731e){const _0x1561de=a205_0x23c4();return a205_0x3899=function(_0x30310e,_0x1f1006){_0x30310e=_0x30310e-0xb6;let _0x23c4de=_0x1561de[_0x30310e];return _0x23c4de;},a205_0x3899(_0xe1775,_0x24731e);}const a205_0x223ec6=a205_0x3899;(function(_0x242937,_0x397381){const _0x194117=a205_0x3899,_0x39e6d6=_0x242937();while(!![]){try{const _0x2a62ae=parseInt(_0x194117(0xeb))/0x1*(parseInt(_0x194117(0xcc))/0x2)+-parseInt(_0x194117(0xe2))/0x3+-parseInt(_0x194117(0xf3))/0x4*(parseInt(_0x194117(0xd6))/0x5)+-parseInt(_0x194117(0xef))/0x6+-parseInt(_0x194117(0xb9))/0x7+parseInt(_0x194117(0xc6))/0x8+parseInt(_0x194117(0xe8))/0x9;if(_0x2a62ae===_0x397381)break;else _0x39e6d6['push'](_0x39e6d6['shift']());}catch(_0x5c7648){_0x39e6d6['push'](_0x39e6d6['shift']());}}}(a205_0x23c4,0x6b5e7));const a205_0x1f1006=(function(){let _0x34a73c=!![];return function(_0x4bd913,_0x398836){const _0x3831d2=_0x34a73c?function(){const _0x18af87=a205_0x3899;if(_0x398836){const _0x4a514=_0x398836[_0x18af87(0xe3)](_0x4bd913,arguments);return _0x398836=null,_0x4a514;}}:function(){};return _0x34a73c=![],_0x3831d2;};}()),a205_0x30310e=a205_0x1f1006(this,function(){const _0x29e230=a205_0x3899;return a205_0x30310e[_0x29e230(0xf2)]()[_0x29e230(0xc8)](_0x29e230(0xd0))[_0x29e230(0xf2)]()[_0x29e230(0xdf)](a205_0x30310e)[_0x29e230(0xc8)](_0x29e230(0xd0));});a205_0x30310e();'use strict';var __decorate=this&&this[a205_0x223ec6(0xc5)]||function(_0x19c7c4,_0x1bddf9,_0x2f5a3c,_0x13977e){const _0x5558be=a205_0x223ec6;var _0x1f1ef4=arguments[_0x5558be(0xe1)],_0x44be99=_0x1f1ef4<0x3?_0x1bddf9:_0x13977e===null?_0x13977e=Object[_0x5558be(0xfd)](_0x1bddf9,_0x2f5a3c):_0x13977e,_0x493564;if(typeof Reflect===_0x5558be(0xb6)&&typeof Reflect[_0x5558be(0xcf)]===_0x5558be(0xbe))_0x44be99=Reflect[_0x5558be(0xcf)](_0x19c7c4,_0x1bddf9,_0x2f5a3c,_0x13977e);else{for(var _0xc8e59b=_0x19c7c4['length']-0x1;_0xc8e59b>=0x0;_0xc8e59b--)if(_0x493564=_0x19c7c4[_0xc8e59b])_0x44be99=(_0x1f1ef4<0x3?_0x493564(_0x44be99):_0x1f1ef4>0x3?_0x493564(_0x1bddf9,_0x2f5a3c,_0x44be99):_0x493564(_0x1bddf9,_0x2f5a3c))||_0x44be99;}return _0x1f1ef4>0x3&&_0x44be99&&Object['defineProperty'](_0x1bddf9,_0x2f5a3c,_0x44be99),_0x44be99;},__metadata=this&&this[a205_0x223ec6(0xd1)]||function(_0x49fb14,_0x3b33e7){const _0x5d6d50=a205_0x223ec6;if(typeof Reflect===_0x5d6d50(0xb6)&&typeof Reflect[_0x5d6d50(0xf7)]===_0x5d6d50(0xbe))return Reflect[_0x5d6d50(0xf7)](_0x49fb14,_0x3b33e7);},__param=this&&this[a205_0x223ec6(0xc3)]||function(_0x402b6d,_0x446612){return function(_0x492e02,_0x2a39d5){_0x446612(_0x492e02,_0x2a39d5,_0x402b6d);};};Object[a205_0x223ec6(0xb7)](exports,a205_0x223ec6(0xda),{'value':!![]}),exports[a205_0x223ec6(0xb8)]=void 0x0;const errors_1=require(a205_0x223ec6(0xe6)),bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a205_0x223ec6(0xed)),bitbucket_api_service_1=require(a205_0x223ec6(0xf4)),typedi_1=require(a205_0x223ec6(0xba)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a205_0x223ec6(0xea)),repo_class_1=require(a205_0x223ec6(0xc1)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require(a205_0x223ec6(0xee)),providers_tokens_1=require('../../providers.tokens');function a205_0x23c4(){const _0x5a4316=['ApiError','getAll','workspace','getOwnPropertyDescriptor','object','defineProperty','BitbucketRepoService','3848838ADpFGg','typedi','values','project','delete','function','Service','request','../repo.class','Git','__param','repositories/','__decorate','5851600QtWUzQ','apiBody','search','createEmptyBranch','update','fromBitbucket','188tXgNZh','private','get','decorate','(((.+)+)+)+$','__metadata','Tokens','post','put','toLowerCase','5KhHkAf','next','getOne','create','__esModule','master','BitbucketCredentialsDto','Repo','/repositories/','constructor','credentials','length','2287905tAfuDl','apply','push','BitbucketApiService','../../../../../constants/errors','api','21282885JmwRIQ','design:paramtypes','../../../internal/git.internal','1559gUFAGn','NotFoundError','../../../../../core/errors/not-found.error','../../credentials/dto/bitbucket-credentials.dto','4952340tHMHHJ','GitRepoService','createRequest','toString','2660476aiwlzN','../../api/bitbucket-api.service','map','defaultBranch','metadata','autoInit','BadRequestError'];a205_0x23c4=function(){return _0x5a4316;};return a205_0x23c4();}let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a205_0x223ec6(0xf0)]{constructor(_0x1c0362,_0x5e3bb7){const _0x2fa159=a205_0x223ec6;super(_0x1c0362),this[_0x2fa159(0xe7)]=_0x1c0362,this[_0x2fa159(0xc0)]=_0x1c0362[_0x2fa159(0xf1)](),this[_0x2fa159(0xbc)]=_0x5e3bb7[_0x2fa159(0xbc)],this[_0x2fa159(0xfc)]=_0x5e3bb7[_0x2fa159(0xfc)],this['credentials']=_0x5e3bb7;if(!this[_0x2fa159(0xfc)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this['project'])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a205_0x223ec6(0xd9)](_0x573621){const _0x34b918=a205_0x223ec6;try{const {name:_0x4500b0}=_0x573621,_0x49d120={'name':_0x573621['name'],'is_private':_0x573621[_0x34b918(0xcd)],..._0x573621[_0x34b918(0xc7)]||{},'project':{'key':this['project']}},_0x47ca9c=await this[_0x34b918(0xc0)][_0x34b918(0xd3)](_0x34b918(0xde)+this[_0x34b918(0xfc)]+'/'+_0x4500b0[_0x34b918(0xd5)](),_0x49d120),_0x69ccc7=repo_class_1[_0x34b918(0xdd)][_0x34b918(0xcb)](_0x47ca9c,this['api'],this['credentials']);return _0x573621[_0x34b918(0xf8)]&&(await git_internal_1[_0x34b918(0xc2)][_0x34b918(0xc9)](_0x69ccc7,_0x573621[_0x34b918(0xf6)]||_0x34b918(0xdb),'',this[_0x34b918(0xe0)]),_0x69ccc7[_0x34b918(0xf6)]=_0x573621[_0x34b918(0xf6)]||_0x34b918(0xdb)),_0x69ccc7;}catch(_0x4a25da){if(_0x4a25da instanceof api_error_1[_0x34b918(0xfa)])throw _0x4a25da;throw new bad_request_error_1['BadRequestError'](_0x4a25da);}}async[a205_0x223ec6(0xfb)](){const _0x24459b=a205_0x223ec6;try{const _0x10015b=[];let _0x41ca14;do{_0x41ca14=await this[_0x24459b(0xc0)]['get'](_0x41ca14?_0x41ca14[_0x24459b(0xd7)]:'repositories/'+this[_0x24459b(0xfc)]),_0x10015b[_0x24459b(0xe4)](..._0x41ca14[_0x24459b(0xbb)]);}while(_0x41ca14[_0x24459b(0xd7)]);return _0x10015b[_0x24459b(0xf5)](_0x39a71a=>repo_class_1[_0x24459b(0xdd)][_0x24459b(0xcb)](_0x39a71a,this[_0x24459b(0xe7)],this[_0x24459b(0xe0)]));}catch(_0x21afd1){if(_0x21afd1 instanceof api_error_1[_0x24459b(0xfa)])throw _0x21afd1;throw new not_found_error_1[(_0x24459b(0xec))](_0x21afd1);}}async['getOne'](_0x2d2431){const _0x4cfd32=a205_0x223ec6;try{const _0x27dea8=await this['request'][_0x4cfd32(0xce)](_0x4cfd32(0xc4)+this[_0x4cfd32(0xfc)]+'/'+_0x2d2431[_0x4cfd32(0xd5)]());return repo_class_1[_0x4cfd32(0xdd)]['fromBitbucket'](_0x27dea8,this['api'],this[_0x4cfd32(0xe0)]);}catch(_0x583d4a){if(_0x583d4a instanceof api_error_1['ApiError'])throw _0x583d4a;throw new not_found_error_1[(_0x4cfd32(0xec))](_0x583d4a);}}async[a205_0x223ec6(0xca)](_0x2e129d,_0x53ef8c){const _0x616710=a205_0x223ec6;await this[_0x616710(0xd8)](_0x2e129d);try{const _0x39c988=await this[_0x616710(0xc0)][_0x616710(0xd4)]('repositories/'+this['workspace']+'/'+_0x2e129d[_0x616710(0xd5)](),_0x53ef8c);return repo_class_1[_0x616710(0xdd)][_0x616710(0xcb)](_0x39c988,this['api'],this[_0x616710(0xe0)]);}catch(_0x526196){if(_0x526196 instanceof api_error_1['ApiError'])throw _0x526196;throw new not_found_error_1[(_0x616710(0xec))](_0x526196);}}async[a205_0x223ec6(0xbd)](_0x2fe5f4){const _0x57738f=a205_0x223ec6;try{await this['request'][_0x57738f(0xbd)](_0x57738f(0xc4)+this['workspace']+'/'+_0x2fe5f4[_0x57738f(0xd5)]());}catch(_0x3e0537){if(_0x3e0537 instanceof api_error_1[_0x57738f(0xfa)])throw _0x3e0537;throw new bad_request_error_1[(_0x57738f(0xf9))](_0x3e0537);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a205_0x223ec6(0xbf)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a205_0x223ec6(0xd2)][a205_0x223ec6(0xe0)])),__metadata(a205_0x223ec6(0xe9),[bitbucket_api_service_1[a205_0x223ec6(0xe5)],bitbucket_credentials_dto_1[a205_0x223ec6(0xdc)]])],BitbucketRepoService),exports[a205_0x223ec6(0xb8)]=BitbucketRepoService;