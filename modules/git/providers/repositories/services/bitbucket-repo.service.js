function a238_0x1738(_0x44e566,_0x56fb6b){const _0x277deb=a238_0x3203();return a238_0x1738=function(_0x457b48,_0x23bcff){_0x457b48=_0x457b48-0x1bd;let _0x3203b5=_0x277deb[_0x457b48];return _0x3203b5;},a238_0x1738(_0x44e566,_0x56fb6b);}const a238_0x58f3f3=a238_0x1738;(function(_0x5f0f38,_0x4bb57e){const _0x4bbc00=a238_0x1738,_0x1dc0d8=_0x5f0f38();while(!![]){try{const _0x212d53=-parseInt(_0x4bbc00(0x1f3))/0x1+-parseInt(_0x4bbc00(0x1c7))/0x2+-parseInt(_0x4bbc00(0x1ce))/0x3*(parseInt(_0x4bbc00(0x1fb))/0x4)+-parseInt(_0x4bbc00(0x1f6))/0x5*(parseInt(_0x4bbc00(0x1fc))/0x6)+-parseInt(_0x4bbc00(0x1e2))/0x7*(-parseInt(_0x4bbc00(0x1c2))/0x8)+-parseInt(_0x4bbc00(0x1d0))/0x9*(parseInt(_0x4bbc00(0x1e3))/0xa)+parseInt(_0x4bbc00(0x1d7))/0xb;if(_0x212d53===_0x4bb57e)break;else _0x1dc0d8['push'](_0x1dc0d8['shift']());}catch(_0x8733cb){_0x1dc0d8['push'](_0x1dc0d8['shift']());}}}(a238_0x3203,0x3fcaf));const a238_0x23bcff=(function(){let _0x44bded=!![];return function(_0x15109f,_0x2dd6fb){const _0x4198a7=_0x44bded?function(){const _0x4d28ad=a238_0x1738;if(_0x2dd6fb){const _0x4dd2dc=_0x2dd6fb[_0x4d28ad(0x200)](_0x15109f,arguments);return _0x2dd6fb=null,_0x4dd2dc;}}:function(){};return _0x44bded=![],_0x4198a7;};}()),a238_0x457b48=a238_0x23bcff(this,function(){const _0x23cc76=a238_0x1738;return a238_0x457b48[_0x23cc76(0x1ed)]()[_0x23cc76(0x1d3)]('(((.+)+)+)+$')[_0x23cc76(0x1ed)]()[_0x23cc76(0x1c4)](a238_0x457b48)[_0x23cc76(0x1d3)](_0x23cc76(0x1fd));});a238_0x457b48();'use strict';var __decorate=this&&this[a238_0x58f3f3(0x1f7)]||function(_0x38c400,_0x3dc9d0,_0x4edb31,_0x53a9a3){const _0x20a736=a238_0x58f3f3;var _0x545bd2=arguments[_0x20a736(0x1f2)],_0x5566b9=_0x545bd2<0x3?_0x3dc9d0:_0x53a9a3===null?_0x53a9a3=Object[_0x20a736(0x201)](_0x3dc9d0,_0x4edb31):_0x53a9a3,_0x139644;if(typeof Reflect===_0x20a736(0x1be)&&typeof Reflect[_0x20a736(0x1c9)]==='function')_0x5566b9=Reflect[_0x20a736(0x1c9)](_0x38c400,_0x3dc9d0,_0x4edb31,_0x53a9a3);else{for(var _0x193f54=_0x38c400['length']-0x1;_0x193f54>=0x0;_0x193f54--)if(_0x139644=_0x38c400[_0x193f54])_0x5566b9=(_0x545bd2<0x3?_0x139644(_0x5566b9):_0x545bd2>0x3?_0x139644(_0x3dc9d0,_0x4edb31,_0x5566b9):_0x139644(_0x3dc9d0,_0x4edb31))||_0x5566b9;}return _0x545bd2>0x3&&_0x5566b9&&Object[_0x20a736(0x1ec)](_0x3dc9d0,_0x4edb31,_0x5566b9),_0x5566b9;},__metadata=this&&this['__metadata']||function(_0x8b826d,_0x10fd02){const _0x2ae368=a238_0x58f3f3;if(typeof Reflect==='object'&&typeof Reflect[_0x2ae368(0x1bd)]===_0x2ae368(0x1fe))return Reflect[_0x2ae368(0x1bd)](_0x8b826d,_0x10fd02);},__param=this&&this[a238_0x58f3f3(0x1c3)]||function(_0x169f5a,_0x29b120){return function(_0x2f1ee4,_0x319d4b){_0x29b120(_0x2f1ee4,_0x319d4b,_0x169f5a);};},BitbucketRepoService_1;function a238_0x3203(){const _0x2aa38f=['ERR_BITBUCKET_MISSING_WORKSPACE','name','14759206UMIjnQ','workspace','Service','../../../../../constants/errors','typedi','design:paramtypes','repositories/','Tokens','BadRequestError','\x22&pagelen=','../../../../../core/errors/bad-request.error','259UKWwfe','730kzXdbX','map','/repositories/','private','master','BitbucketRepoService','autoInit','ITEMS_PER_RESPONSE','NotFoundError','defineProperty','toString','api','put','?q=project.key=\x22','push','length','19028kPsCkw','GitRepoService','__esModule','2544825SbjHhb','__decorate','credentials','defaultBranch','create','1448884TEJYBp','6PLKPwb','(((.+)+)+)+$','function','get','apply','getOwnPropertyDescriptor','../../credentials/dto/bitbucket-credentials.dto','request','toLowerCase','getOne','metadata','object','delete','getAll','fromBitbucket','87416njwrra','__param','constructor','./git-repo.service','project','958684iyLJmH','ApiError','decorate','../../api/bitbucket-api.service','Repo','../../../../../core/errors/api.error','Inject','3UZMBOU','Git','14202JJZsLg','post','createRequest','search','../../providers.tokens'];a238_0x3203=function(){return _0x2aa38f;};return a238_0x3203();}Object['defineProperty'](exports,a238_0x58f3f3(0x1f5),{'value':!![]}),exports[a238_0x58f3f3(0x1e8)]=void 0x0;const errors_1=require(a238_0x58f3f3(0x1da)),bad_request_error_1=require(a238_0x58f3f3(0x1e1)),not_found_error_1=require('../../../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a238_0x58f3f3(0x1ca)),typedi_1=require(a238_0x58f3f3(0x1db)),api_error_1=require(a238_0x58f3f3(0x1cc)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a238_0x58f3f3(0x1c5)),bitbucket_credentials_dto_1=require(a238_0x58f3f3(0x202)),providers_tokens_1=require(a238_0x58f3f3(0x1d4));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a238_0x58f3f3(0x1f4)]{constructor(_0x1acbee,_0x1ed62a){const _0x3e3ea0=a238_0x58f3f3;super(_0x1acbee),this[_0x3e3ea0(0x1ee)]=_0x1acbee,this[_0x3e3ea0(0x203)]=_0x1acbee[_0x3e3ea0(0x1d2)](),this['project']=_0x1ed62a[_0x3e3ea0(0x1c6)],this['workspace']=_0x1ed62a['workspace'],this[_0x3e3ea0(0x1f8)]=_0x1ed62a;if(!this['workspace'])throw new Error(errors_1[_0x3e3ea0(0x1d5)]);if(!this[_0x3e3ea0(0x1c6)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a238_0x58f3f3(0x1fa)](_0x5e0b3d){const _0x1dd277=a238_0x58f3f3;var _0xa4feb9;try{const {name:_0x48e7aa}=_0x5e0b3d,_0x16eeea={'name':_0x5e0b3d['name'],'is_private':_0x5e0b3d[_0x1dd277(0x1e6)],..._0x5e0b3d['apiBody']||{},'project':{'key':this['project']}},_0x478f6c=await this[_0x1dd277(0x203)][_0x1dd277(0x1d1)](_0x1dd277(0x1e5)+this[_0x1dd277(0x1d8)]+'/'+_0x48e7aa[_0x1dd277(0x204)](),_0x16eeea),_0x11a2c0=repo_class_1[_0x1dd277(0x1cb)][_0x1dd277(0x1c1)](_0x478f6c,this[_0x1dd277(0x1ee)],this[_0x1dd277(0x1f8)]);return _0x5e0b3d[_0x1dd277(0x1e9)]&&(await git_internal_1[_0x1dd277(0x1cf)]['createEmptyBranch'](_0x11a2c0,_0x5e0b3d[_0x1dd277(0x1f9)]||{'name':_0x1dd277(0x1e7)},'',this[_0x1dd277(0x1f8)]),_0x11a2c0[_0x1dd277(0x1f9)]=((_0xa4feb9=_0x5e0b3d[_0x1dd277(0x1f9)])===null||_0xa4feb9===void 0x0?void 0x0:_0xa4feb9[_0x1dd277(0x1d6)])||_0x1dd277(0x1e7)),_0x11a2c0;}catch(_0x51b87f){if(_0x51b87f instanceof api_error_1[_0x1dd277(0x1c8)])throw _0x51b87f;throw new bad_request_error_1[(_0x1dd277(0x1df))](_0x51b87f);}}async[a238_0x58f3f3(0x1c0)](){const _0x40737f=a238_0x58f3f3;try{const _0x3164e0=[];let _0x696dbe,_0x17d569=_0x40737f(0x1dd)+this[_0x40737f(0x1d8)]+_0x40737f(0x1f0)+this[_0x40737f(0x1c6)]+_0x40737f(0x1e0)+BitbucketRepoService_1[_0x40737f(0x1ea)];do{_0x696dbe=await this[_0x40737f(0x203)][_0x40737f(0x1ff)](_0x17d569),_0x17d569=_0x696dbe['next'],_0x3164e0[_0x40737f(0x1f1)](..._0x696dbe['values']);}while(_0x17d569);return _0x3164e0[_0x40737f(0x1e4)](_0x4f1ef2=>repo_class_1[_0x40737f(0x1cb)]['fromBitbucket'](_0x4f1ef2,this[_0x40737f(0x1ee)],this[_0x40737f(0x1f8)]));}catch(_0x13bbb9){if(_0x13bbb9 instanceof api_error_1['ApiError'])throw _0x13bbb9;throw new not_found_error_1[(_0x40737f(0x1eb))](_0x13bbb9);}}async[a238_0x58f3f3(0x205)](_0x4d6a25){const _0x32fb5a=a238_0x58f3f3;try{const _0x3f3d0b=await this[_0x32fb5a(0x203)][_0x32fb5a(0x1ff)]('repositories/'+this[_0x32fb5a(0x1d8)]+'/'+_0x4d6a25[_0x32fb5a(0x204)]());return repo_class_1['Repo'][_0x32fb5a(0x1c1)](_0x3f3d0b,this[_0x32fb5a(0x1ee)],this[_0x32fb5a(0x1f8)]);}catch(_0x1d03f4){if(_0x1d03f4 instanceof api_error_1[_0x32fb5a(0x1c8)])throw _0x1d03f4;throw new not_found_error_1[(_0x32fb5a(0x1eb))](_0x1d03f4);}}async['update'](_0x104570,_0xfd02bc){const _0x301c79=a238_0x58f3f3;await this['getOne'](_0x104570);try{const _0xa229d5=await this[_0x301c79(0x203)][_0x301c79(0x1ef)](_0x301c79(0x1dd)+this[_0x301c79(0x1d8)]+'/'+_0x104570[_0x301c79(0x204)](),_0xfd02bc);return repo_class_1[_0x301c79(0x1cb)][_0x301c79(0x1c1)](_0xa229d5,this[_0x301c79(0x1ee)],this[_0x301c79(0x1f8)]);}catch(_0x2b4736){if(_0x2b4736 instanceof api_error_1[_0x301c79(0x1c8)])throw _0x2b4736;throw new not_found_error_1[(_0x301c79(0x1eb))](_0x2b4736);}}async[a238_0x58f3f3(0x1bf)](_0x362870){const _0x5cb796=a238_0x58f3f3;try{await this[_0x5cb796(0x203)][_0x5cb796(0x1bf)](_0x5cb796(0x1dd)+this[_0x5cb796(0x1d8)]+'/'+_0x362870[_0x5cb796(0x204)]());}catch(_0x91b5eb){if(_0x91b5eb instanceof api_error_1[_0x5cb796(0x1c8)])throw _0x91b5eb;throw new bad_request_error_1['BadRequestError'](_0x91b5eb);}}};BitbucketRepoService['ITEMS_PER_RESPONSE']=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a238_0x58f3f3(0x1d9)])(),__param(0x1,(0x0,typedi_1[a238_0x58f3f3(0x1cd)])(providers_tokens_1[a238_0x58f3f3(0x1de)][a238_0x58f3f3(0x1f8)])),__metadata(a238_0x58f3f3(0x1dc),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a238_0x58f3f3(0x1e8)]=BitbucketRepoService;