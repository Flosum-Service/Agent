const a205_0x23786a=a205_0x405c;(function(_0x146f34,_0x46c62c){const _0x23b2c5=a205_0x405c,_0x2faf5f=_0x146f34();while(!![]){try{const _0x5abf03=parseInt(_0x23b2c5(0x149))/0x1*(parseInt(_0x23b2c5(0x11c))/0x2)+-parseInt(_0x23b2c5(0x129))/0x3*(parseInt(_0x23b2c5(0x12e))/0x4)+-parseInt(_0x23b2c5(0x114))/0x5+-parseInt(_0x23b2c5(0x148))/0x6*(-parseInt(_0x23b2c5(0x140))/0x7)+-parseInt(_0x23b2c5(0x14f))/0x8*(-parseInt(_0x23b2c5(0x14a))/0x9)+parseInt(_0x23b2c5(0x14d))/0xa*(parseInt(_0x23b2c5(0x12a))/0xb)+-parseInt(_0x23b2c5(0x134))/0xc;if(_0x5abf03===_0x46c62c)break;else _0x2faf5f['push'](_0x2faf5f['shift']());}catch(_0x123eee){_0x2faf5f['push'](_0x2faf5f['shift']());}}}(a205_0x4d90,0xcd916));const a205_0xb61764=(function(){let _0x1ad49a=!![];return function(_0x3b11a2,_0x36d7d7){const _0x1708f3=_0x1ad49a?function(){const _0x85c799=a205_0x405c;if(_0x36d7d7){const _0x5d312f=_0x36d7d7[_0x85c799(0x15d)](_0x3b11a2,arguments);return _0x36d7d7=null,_0x5d312f;}}:function(){};return _0x1ad49a=![],_0x1708f3;};}()),a205_0x5555f4=a205_0xb61764(this,function(){const _0x409420=a205_0x405c;return a205_0x5555f4[_0x409420(0x11f)]()[_0x409420(0x154)](_0x409420(0x132))[_0x409420(0x11f)]()[_0x409420(0x151)](a205_0x5555f4)[_0x409420(0x154)](_0x409420(0x132));});a205_0x5555f4();'use strict';function a205_0x405c(_0x1189b0,_0x5810cd){const _0xaec315=a205_0x4d90();return a205_0x405c=function(_0x5555f4,_0xb61764){_0x5555f4=_0x5555f4-0x114;let _0x4d9025=_0xaec315[_0x5555f4];return _0x4d9025;},a205_0x405c(_0x1189b0,_0x5810cd);}var __decorate=this&&this[a205_0x23786a(0x14b)]||function(_0x498b7e,_0x32db7d,_0x2e2610,_0x45d4e7){const _0x41af89=a205_0x23786a;var _0x2f0fc6=arguments['length'],_0xd0edf1=_0x2f0fc6<0x3?_0x32db7d:_0x45d4e7===null?_0x45d4e7=Object[_0x41af89(0x133)](_0x32db7d,_0x2e2610):_0x45d4e7,_0x26da14;if(typeof Reflect===_0x41af89(0x143)&&typeof Reflect[_0x41af89(0x123)]===_0x41af89(0x155))_0xd0edf1=Reflect[_0x41af89(0x123)](_0x498b7e,_0x32db7d,_0x2e2610,_0x45d4e7);else{for(var _0x23edfd=_0x498b7e[_0x41af89(0x15a)]-0x1;_0x23edfd>=0x0;_0x23edfd--)if(_0x26da14=_0x498b7e[_0x23edfd])_0xd0edf1=(_0x2f0fc6<0x3?_0x26da14(_0xd0edf1):_0x2f0fc6>0x3?_0x26da14(_0x32db7d,_0x2e2610,_0xd0edf1):_0x26da14(_0x32db7d,_0x2e2610))||_0xd0edf1;}return _0x2f0fc6>0x3&&_0xd0edf1&&Object[_0x41af89(0x15e)](_0x32db7d,_0x2e2610,_0xd0edf1),_0xd0edf1;},__metadata=this&&this[a205_0x23786a(0x138)]||function(_0x413ca3,_0x5c0467){const _0x4b2384=a205_0x23786a;if(typeof Reflect==='object'&&typeof Reflect[_0x4b2384(0x128)]===_0x4b2384(0x155))return Reflect[_0x4b2384(0x128)](_0x413ca3,_0x5c0467);},__param=this&&this['__param']||function(_0x139496,_0x2165cc){return function(_0x3e01df,_0x34fce0){_0x2165cc(_0x3e01df,_0x34fce0,_0x139496);};},BitbucketRepoService_1;Object[a205_0x23786a(0x15e)](exports,a205_0x23786a(0x135),{'value':!![]}),exports[a205_0x23786a(0x142)]=void 0x0;function a205_0x4d90(){const _0xeacef3=['put','__metadata','BadRequestError','post','Repo','\x22&pagelen=','BitbucketCredentialsDto','GitRepoService','Service','72583SPVXPj','Tokens','BitbucketRepoService','object','NotFoundError','values','design:paramtypes','api','186hCoPoq','394675jqMEVd','18wibMpq','__decorate','toLowerCase','954820lWkfjg','createRequest','3635272bYjRBu','next','constructor','../../../../../core/errors/not-found.error','autoInit','search','function','../../../../../core/errors/bad-request.error','Git','../../../../../constants/errors','map','length','typedi','request','apply','defineProperty','getOne','3370060rOpfzp','master','credentials','fromBitbucket','create','ApiError','push','delete','4pFAFgz','repositories/','ITEMS_PER_RESPONSE','toString','defaultBranch','../../providers.tokens','ERR_BITBUCKET_MISSING_PROJECT','decorate','project','private','name','ERR_BITBUCKET_MISSING_WORKSPACE','metadata','4428hmWIdM','99sAgDRJ','update','getAll','../repo.class','996zczWQp','workspace','get','../../../../../core/errors/api.error','(((.+)+)+)+$','getOwnPropertyDescriptor','11944836hHaeFU','__esModule','BitbucketApiService'];a205_0x4d90=function(){return _0xeacef3;};return a205_0x4d90();}const errors_1=require(a205_0x23786a(0x158)),bad_request_error_1=require(a205_0x23786a(0x156)),not_found_error_1=require(a205_0x23786a(0x152)),bitbucket_api_service_1=require('../../api/bitbucket-api.service'),typedi_1=require(a205_0x23786a(0x15b)),api_error_1=require(a205_0x23786a(0x131)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a205_0x23786a(0x12d)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require('../../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a205_0x23786a(0x121));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a205_0x23786a(0x13e)]{constructor(_0x510da7,_0x3dd694){const _0x5cb5d1=a205_0x23786a;super(_0x510da7),this[_0x5cb5d1(0x147)]=_0x510da7,this['request']=_0x510da7[_0x5cb5d1(0x14e)](),this['project']=_0x3dd694['project'],this[_0x5cb5d1(0x12f)]=_0x3dd694[_0x5cb5d1(0x12f)],this[_0x5cb5d1(0x116)]=_0x3dd694;if(!this[_0x5cb5d1(0x12f)])throw new Error(errors_1[_0x5cb5d1(0x127)]);if(!this[_0x5cb5d1(0x124)])throw new Error(errors_1[_0x5cb5d1(0x122)]);}async[a205_0x23786a(0x118)](_0x5543f2){const _0x2d04dc=a205_0x23786a;try{const {name:_0x1dab43}=_0x5543f2,_0x4af017={'name':_0x5543f2[_0x2d04dc(0x126)],'is_private':_0x5543f2[_0x2d04dc(0x125)],..._0x5543f2['apiBody']||{},'project':{'key':this[_0x2d04dc(0x124)]}},_0x1138ab=await this[_0x2d04dc(0x15c)][_0x2d04dc(0x13a)]('/repositories/'+this[_0x2d04dc(0x12f)]+'/'+_0x1dab43[_0x2d04dc(0x14c)](),_0x4af017),_0x3fc525=repo_class_1[_0x2d04dc(0x13b)][_0x2d04dc(0x117)](_0x1138ab,this[_0x2d04dc(0x147)],this[_0x2d04dc(0x116)]);return _0x5543f2[_0x2d04dc(0x153)]&&(await git_internal_1[_0x2d04dc(0x157)]['createEmptyBranch'](_0x3fc525,_0x5543f2[_0x2d04dc(0x120)]||_0x2d04dc(0x115),'',this[_0x2d04dc(0x116)]),_0x3fc525['defaultBranch']=_0x5543f2['defaultBranch']||_0x2d04dc(0x115)),_0x3fc525;}catch(_0x11582a){if(_0x11582a instanceof api_error_1[_0x2d04dc(0x119)])throw _0x11582a;throw new bad_request_error_1[(_0x2d04dc(0x139))](_0x11582a);}}async[a205_0x23786a(0x12c)](){const _0x6ff6d=a205_0x23786a;try{const _0x5d2680=[];let _0xb04f1,_0x20f654='repositories/'+this[_0x6ff6d(0x12f)]+'?q=project.key=\x22'+this['project']+_0x6ff6d(0x13c)+BitbucketRepoService_1[_0x6ff6d(0x11e)];do{_0xb04f1=await this[_0x6ff6d(0x15c)][_0x6ff6d(0x130)](_0x20f654),_0x20f654=_0xb04f1[_0x6ff6d(0x150)],_0x5d2680[_0x6ff6d(0x11a)](..._0xb04f1[_0x6ff6d(0x145)]);}while(_0x20f654);return _0x5d2680[_0x6ff6d(0x159)](_0x287d26=>repo_class_1[_0x6ff6d(0x13b)][_0x6ff6d(0x117)](_0x287d26,this[_0x6ff6d(0x147)],this[_0x6ff6d(0x116)]));}catch(_0x60878d){if(_0x60878d instanceof api_error_1[_0x6ff6d(0x119)])throw _0x60878d;throw new not_found_error_1[(_0x6ff6d(0x144))](_0x60878d);}}async[a205_0x23786a(0x15f)](_0x4165da){const _0x49d8a8=a205_0x23786a;try{const _0x21470c=await this['request'][_0x49d8a8(0x130)](_0x49d8a8(0x11d)+this[_0x49d8a8(0x12f)]+'/'+_0x4165da[_0x49d8a8(0x14c)]());return repo_class_1['Repo'][_0x49d8a8(0x117)](_0x21470c,this[_0x49d8a8(0x147)],this['credentials']);}catch(_0x503a0a){if(_0x503a0a instanceof api_error_1[_0x49d8a8(0x119)])throw _0x503a0a;throw new not_found_error_1['NotFoundError'](_0x503a0a);}}async[a205_0x23786a(0x12b)](_0x2abd77,_0x30486c){const _0x198f33=a205_0x23786a;await this[_0x198f33(0x15f)](_0x2abd77);try{const _0xbeb9a7=await this[_0x198f33(0x15c)][_0x198f33(0x137)](_0x198f33(0x11d)+this[_0x198f33(0x12f)]+'/'+_0x2abd77[_0x198f33(0x14c)](),_0x30486c);return repo_class_1[_0x198f33(0x13b)]['fromBitbucket'](_0xbeb9a7,this['api'],this[_0x198f33(0x116)]);}catch(_0xe0b5aa){if(_0xe0b5aa instanceof api_error_1[_0x198f33(0x119)])throw _0xe0b5aa;throw new not_found_error_1[(_0x198f33(0x144))](_0xe0b5aa);}}async[a205_0x23786a(0x11b)](_0x44ad50){const _0x244990=a205_0x23786a;try{await this[_0x244990(0x15c)][_0x244990(0x11b)]('repositories/'+this[_0x244990(0x12f)]+'/'+_0x44ad50['toLowerCase']());}catch(_0x451b8a){if(_0x451b8a instanceof api_error_1[_0x244990(0x119)])throw _0x451b8a;throw new bad_request_error_1[(_0x244990(0x139))](_0x451b8a);}}};BitbucketRepoService['ITEMS_PER_RESPONSE']=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a205_0x23786a(0x13f)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a205_0x23786a(0x141)][a205_0x23786a(0x116)])),__metadata(a205_0x23786a(0x146),[bitbucket_api_service_1[a205_0x23786a(0x136)],bitbucket_credentials_dto_1[a205_0x23786a(0x13d)]])],BitbucketRepoService),exports[a205_0x23786a(0x142)]=BitbucketRepoService;