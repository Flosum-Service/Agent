const a205_0x22ed47=a205_0x4c1f;function a205_0x4019(){const _0x308e72=['search','../../../../../core/errors/not-found.error','defaultBranch','4488880XpGfNe','?q=project.key=\x22','object','BitbucketRepoService','get','Tokens','length','toLowerCase','ERR_BITBUCKET_MISSING_WORKSPACE','(((.+)+)+)+$','./git-repo.service','../repo.class','__metadata','Repo','1763153HvnpsL','typedi','design:paramtypes','workspace','apply','master','BadRequestError','push','../../providers.tokens','toString','../../../../../constants/errors','defineProperty','__esModule','decorate','Git','/repositories/','10905000BIHTXj','apiBody','repositories/','BitbucketApiService','__decorate','request','createEmptyBranch','update','project','GitRepoService','api','next','getAll','Inject','put','values','41960633FygZRP','constructor','325100oVOdNK','24aTHwcf','5842422slkVbx','3165654sXzLdN','24zryWEp','map','post','../../../../../core/errors/api.error','autoInit','create','fromBitbucket','10ReeGbs','name','credentials','metadata','delete','1wrNMLj','ITEMS_PER_RESPONSE','../../../../../core/errors/bad-request.error','ApiError','NotFoundError','private','../../../internal/git.internal','\x22&pagelen=','getOne','__param'];a205_0x4019=function(){return _0x308e72;};return a205_0x4019();}(function(_0x150513,_0x3f6b11){const _0x5959a0=a205_0x4c1f,_0x48484b=_0x150513();while(!![]){try{const _0x1361c2=-parseInt(_0x5959a0(0xd6))/0x1*(parseInt(_0x5959a0(0xc9))/0x2)+-parseInt(_0x5959a0(0xc7))/0x3*(parseInt(_0x5959a0(0xc6))/0x4)+-parseInt(_0x5959a0(0xe3))/0x5+-parseInt(_0x5959a0(0xca))/0x6*(-parseInt(_0x5959a0(0xf1))/0x7)+-parseInt(_0x5959a0(0x101))/0x8+parseInt(_0x5959a0(0xc8))/0x9+-parseInt(_0x5959a0(0xd1))/0xa*(-parseInt(_0x5959a0(0xc4))/0xb);if(_0x1361c2===_0x3f6b11)break;else _0x48484b['push'](_0x48484b['shift']());}catch(_0x2e9557){_0x48484b['push'](_0x48484b['shift']());}}}(a205_0x4019,0xee9c5));const a205_0x54369c=(function(){let _0x35687f=!![];return function(_0x6167db,_0x258dd5){const _0x60dcd7=_0x35687f?function(){const _0x1eb626=a205_0x4c1f;if(_0x258dd5){const _0x11ecba=_0x258dd5[_0x1eb626(0xf5)](_0x6167db,arguments);return _0x258dd5=null,_0x11ecba;}}:function(){};return _0x35687f=![],_0x60dcd7;};}()),a205_0x329013=a205_0x54369c(this,function(){const _0x133fbc=a205_0x4c1f;return a205_0x329013[_0x133fbc(0xfa)]()[_0x133fbc(0xe0)](_0x133fbc(0xec))[_0x133fbc(0xfa)]()[_0x133fbc(0xc5)](a205_0x329013)[_0x133fbc(0xe0)]('(((.+)+)+)+$');});a205_0x329013();'use strict';var __decorate=this&&this[a205_0x22ed47(0x105)]||function(_0x89639a,_0x4a048c,_0x2b87a3,_0x149daa){const _0x53a603=a205_0x22ed47;var _0x83c80c=arguments[_0x53a603(0xe9)],_0x148dd6=_0x83c80c<0x3?_0x4a048c:_0x149daa===null?_0x149daa=Object['getOwnPropertyDescriptor'](_0x4a048c,_0x2b87a3):_0x149daa,_0x3b1290;if(typeof Reflect==='object'&&typeof Reflect[_0x53a603(0xfe)]==='function')_0x148dd6=Reflect[_0x53a603(0xfe)](_0x89639a,_0x4a048c,_0x2b87a3,_0x149daa);else{for(var _0x4105c5=_0x89639a[_0x53a603(0xe9)]-0x1;_0x4105c5>=0x0;_0x4105c5--)if(_0x3b1290=_0x89639a[_0x4105c5])_0x148dd6=(_0x83c80c<0x3?_0x3b1290(_0x148dd6):_0x83c80c>0x3?_0x3b1290(_0x4a048c,_0x2b87a3,_0x148dd6):_0x3b1290(_0x4a048c,_0x2b87a3))||_0x148dd6;}return _0x83c80c>0x3&&_0x148dd6&&Object[_0x53a603(0xfc)](_0x4a048c,_0x2b87a3,_0x148dd6),_0x148dd6;},__metadata=this&&this[a205_0x22ed47(0xef)]||function(_0x24e3d8,_0x2d3e96){const _0x1b215f=a205_0x22ed47;if(typeof Reflect===_0x1b215f(0xe5)&&typeof Reflect[_0x1b215f(0xd4)]==='function')return Reflect['metadata'](_0x24e3d8,_0x2d3e96);},__param=this&&this[a205_0x22ed47(0xdf)]||function(_0x511998,_0x122691){return function(_0x44ab74,_0xd91505){_0x122691(_0x44ab74,_0xd91505,_0x511998);};},BitbucketRepoService_1;Object[a205_0x22ed47(0xfc)](exports,a205_0x22ed47(0xfd),{'value':!![]}),exports[a205_0x22ed47(0xe6)]=void 0x0;const errors_1=require(a205_0x22ed47(0xfb)),bad_request_error_1=require(a205_0x22ed47(0xd8)),not_found_error_1=require(a205_0x22ed47(0xe1)),bitbucket_api_service_1=require('../../api/bitbucket-api.service'),typedi_1=require(a205_0x22ed47(0xf2)),api_error_1=require(a205_0x22ed47(0xcd)),git_internal_1=require(a205_0x22ed47(0xdc)),repo_class_1=require(a205_0x22ed47(0xee)),git_repo_service_1=require(a205_0x22ed47(0xed)),bitbucket_credentials_dto_1=require('../../credentials/dto/bitbucket-credentials.dto'),providers_tokens_1=require(a205_0x22ed47(0xf9));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a205_0x22ed47(0x10a)]{constructor(_0x5014eb,_0x5cbede){const _0x1a994c=a205_0x22ed47;super(_0x5014eb),this[_0x1a994c(0xbe)]=_0x5014eb,this['request']=_0x5014eb['createRequest'](),this[_0x1a994c(0x109)]=_0x5cbede[_0x1a994c(0x109)],this['workspace']=_0x5cbede[_0x1a994c(0xf4)],this[_0x1a994c(0xd3)]=_0x5cbede;if(!this[_0x1a994c(0xf4)])throw new Error(errors_1[_0x1a994c(0xeb)]);if(!this['project'])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a205_0x22ed47(0xcf)](_0x4253d5){const _0x5dfc5e=a205_0x22ed47;try{const {name:_0x5edcb5}=_0x4253d5,_0x382fa0={'name':_0x4253d5[_0x5dfc5e(0xd2)],'is_private':_0x4253d5[_0x5dfc5e(0xdb)],..._0x4253d5[_0x5dfc5e(0x102)]||{},'project':{'key':this['project']}},_0x1b9c6d=await this[_0x5dfc5e(0x106)][_0x5dfc5e(0xcc)](_0x5dfc5e(0x100)+this[_0x5dfc5e(0xf4)]+'/'+_0x5edcb5[_0x5dfc5e(0xea)](),_0x382fa0),_0x28cdf3=repo_class_1[_0x5dfc5e(0xf0)]['fromBitbucket'](_0x1b9c6d,this['api'],this[_0x5dfc5e(0xd3)]);return _0x4253d5[_0x5dfc5e(0xce)]&&(await git_internal_1[_0x5dfc5e(0xff)][_0x5dfc5e(0x107)](_0x28cdf3,_0x4253d5[_0x5dfc5e(0xe2)]||'master','',this[_0x5dfc5e(0xd3)]),_0x28cdf3[_0x5dfc5e(0xe2)]=_0x4253d5[_0x5dfc5e(0xe2)]||_0x5dfc5e(0xf6)),_0x28cdf3;}catch(_0x5a3f45){if(_0x5a3f45 instanceof api_error_1['ApiError'])throw _0x5a3f45;throw new bad_request_error_1[(_0x5dfc5e(0xf7))](_0x5a3f45);}}async[a205_0x22ed47(0xc0)](){const _0x14282d=a205_0x22ed47;try{const _0x5689d5=[];let _0x2571cd,_0x5344d5='repositories/'+this[_0x14282d(0xf4)]+_0x14282d(0xe4)+this[_0x14282d(0x109)]+_0x14282d(0xdd)+BitbucketRepoService_1['ITEMS_PER_RESPONSE'];do{_0x2571cd=await this['request'][_0x14282d(0xe7)](_0x5344d5),_0x5344d5=_0x2571cd[_0x14282d(0xbf)],_0x5689d5[_0x14282d(0xf8)](..._0x2571cd[_0x14282d(0xc3)]);}while(_0x5344d5);return _0x5689d5[_0x14282d(0xcb)](_0x1abf27=>repo_class_1[_0x14282d(0xf0)][_0x14282d(0xd0)](_0x1abf27,this[_0x14282d(0xbe)],this['credentials']));}catch(_0x383d70){if(_0x383d70 instanceof api_error_1[_0x14282d(0xd9)])throw _0x383d70;throw new not_found_error_1['NotFoundError'](_0x383d70);}}async[a205_0x22ed47(0xde)](_0x4afd05){const _0x550c4f=a205_0x22ed47;try{const _0x3523de=await this['request'][_0x550c4f(0xe7)](_0x550c4f(0x103)+this[_0x550c4f(0xf4)]+'/'+_0x4afd05[_0x550c4f(0xea)]());return repo_class_1[_0x550c4f(0xf0)][_0x550c4f(0xd0)](_0x3523de,this[_0x550c4f(0xbe)],this['credentials']);}catch(_0x5ea947){if(_0x5ea947 instanceof api_error_1['ApiError'])throw _0x5ea947;throw new not_found_error_1['NotFoundError'](_0x5ea947);}}async[a205_0x22ed47(0x108)](_0x5ad3df,_0x3dedf1){const _0x2cb76a=a205_0x22ed47;await this['getOne'](_0x5ad3df);try{const _0xd5713c=await this[_0x2cb76a(0x106)][_0x2cb76a(0xc2)](_0x2cb76a(0x103)+this[_0x2cb76a(0xf4)]+'/'+_0x5ad3df[_0x2cb76a(0xea)](),_0x3dedf1);return repo_class_1[_0x2cb76a(0xf0)][_0x2cb76a(0xd0)](_0xd5713c,this['api'],this[_0x2cb76a(0xd3)]);}catch(_0xc9e9c2){if(_0xc9e9c2 instanceof api_error_1['ApiError'])throw _0xc9e9c2;throw new not_found_error_1[(_0x2cb76a(0xda))](_0xc9e9c2);}}async[a205_0x22ed47(0xd5)](_0x198c15){const _0x35681f=a205_0x22ed47;try{await this['request'][_0x35681f(0xd5)](_0x35681f(0x103)+this[_0x35681f(0xf4)]+'/'+_0x198c15[_0x35681f(0xea)]());}catch(_0x4ae512){if(_0x4ae512 instanceof api_error_1[_0x35681f(0xd9)])throw _0x4ae512;throw new bad_request_error_1[(_0x35681f(0xf7))](_0x4ae512);}}};function a205_0x4c1f(_0x11a16f,_0x400f58){const _0x55902b=a205_0x4019();return a205_0x4c1f=function(_0x329013,_0x54369c){_0x329013=_0x329013-0xbe;let _0x4019a5=_0x55902b[_0x329013];return _0x4019a5;},a205_0x4c1f(_0x11a16f,_0x400f58);}BitbucketRepoService[a205_0x22ed47(0xd7)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a205_0x22ed47(0xc1)])(providers_tokens_1[a205_0x22ed47(0xe8)][a205_0x22ed47(0xd3)])),__metadata(a205_0x22ed47(0xf3),[bitbucket_api_service_1[a205_0x22ed47(0x104)],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a205_0x22ed47(0xe6)]=BitbucketRepoService;