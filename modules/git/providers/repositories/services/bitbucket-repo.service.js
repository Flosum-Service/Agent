const a166_0x4458de=a166_0x288d;(function(_0x3f7de8,_0xb3aba8){const _0x548374=a166_0x288d,_0x4f6936=_0x3f7de8();while(!![]){try{const _0x16ab3a=parseInt(_0x548374(0x146))/0x1*(-parseInt(_0x548374(0x159))/0x2)+parseInt(_0x548374(0x123))/0x3+-parseInt(_0x548374(0x12c))/0x4*(parseInt(_0x548374(0x15e))/0x5)+parseInt(_0x548374(0x126))/0x6*(-parseInt(_0x548374(0x140))/0x7)+parseInt(_0x548374(0x15f))/0x8*(parseInt(_0x548374(0x143))/0x9)+parseInt(_0x548374(0x16d))/0xa*(-parseInt(_0x548374(0x156))/0xb)+parseInt(_0x548374(0x158))/0xc*(parseInt(_0x548374(0x13f))/0xd);if(_0x16ab3a===_0xb3aba8)break;else _0x4f6936['push'](_0x4f6936['shift']());}catch(_0x4820a9){_0x4f6936['push'](_0x4f6936['shift']());}}}(a166_0x24e9,0xa54f0));const a166_0x3702ac=(function(){let _0x42b407=!![];return function(_0x515b5e,_0x30e630){const _0x1603a5=_0x42b407?function(){const _0x54c78c=a166_0x288d;if(_0x30e630){const _0x291453=_0x30e630[_0x54c78c(0x157)](_0x515b5e,arguments);return _0x30e630=null,_0x291453;}}:function(){};return _0x42b407=![],_0x1603a5;};}()),a166_0x3c1d0f=a166_0x3702ac(this,function(){const _0x49f679=a166_0x288d;return a166_0x3c1d0f[_0x49f679(0x133)]()[_0x49f679(0x139)]('(((.+)+)+)+$')[_0x49f679(0x133)]()[_0x49f679(0x13c)](a166_0x3c1d0f)[_0x49f679(0x139)](_0x49f679(0x124));});a166_0x3c1d0f();function a166_0x288d(_0x53477f,_0xe9ca11){const _0x5a1d0c=a166_0x24e9();return a166_0x288d=function(_0x3c1d0f,_0x3702ac){_0x3c1d0f=_0x3c1d0f-0x123;let _0x24e981=_0x5a1d0c[_0x3c1d0f];return _0x24e981;},a166_0x288d(_0x53477f,_0xe9ca11);}'use strict';function a166_0x24e9(){const _0xdc2499=['Inject','metadata','Tokens','../repo.class','__metadata','../../../../../core/errors/not-found.error','put','defaultBranch','../../../../../core/errors/bad-request.error','ERR_BITBUCKET_MISSING_PROJECT','project','Repo','1716IgzQxf','apply','22998036ogBQyR','118iAHgrF','private','Git','BitbucketRepoService','BitbucketApiService','3512955cIJauH','670184cOZFMX','ApiError','../../providers.tokens','map','defineProperty','workspace','get','apiBody','/repositories/','values','repositories/','BadRequestError','master','../../../internal/git.internal','65350RdUadg','credentials','2091552cingjh','(((.+)+)+)+$','request','66BVfuTo','next','toLowerCase','__param','name','getAll','4rnaMRH','decorate','create','../../../../../core/errors/api.error','update','design:paramtypes','ERR_BITBUCKET_MISSING_WORKSPACE','toString','__esModule','api','../../../../../constants/errors','getOne','BitbucketCredentialsDto','search','NotFoundError','__decorate','constructor','length','createEmptyBranch','13mMOMhA','474663LXDbYL','fromBitbucket','object','135xvgOij','../../credentials/dto/bitbucket-credentials.dto','function','12292tAModL','push','../../api/bitbucket-api.service','typedi'];a166_0x24e9=function(){return _0xdc2499;};return a166_0x24e9();}var __decorate=this&&this[a166_0x4458de(0x13b)]||function(_0x376a0a,_0x49e6d6,_0x51df9f,_0x113edf){const _0x56890f=a166_0x4458de;var _0x26a66b=arguments[_0x56890f(0x13d)],_0x156f4d=_0x26a66b<0x3?_0x49e6d6:_0x113edf===null?_0x113edf=Object['getOwnPropertyDescriptor'](_0x49e6d6,_0x51df9f):_0x113edf,_0x16ecd3;if(typeof Reflect==='object'&&typeof Reflect[_0x56890f(0x12d)]===_0x56890f(0x145))_0x156f4d=Reflect[_0x56890f(0x12d)](_0x376a0a,_0x49e6d6,_0x51df9f,_0x113edf);else{for(var _0x18c83d=_0x376a0a['length']-0x1;_0x18c83d>=0x0;_0x18c83d--)if(_0x16ecd3=_0x376a0a[_0x18c83d])_0x156f4d=(_0x26a66b<0x3?_0x16ecd3(_0x156f4d):_0x26a66b>0x3?_0x16ecd3(_0x49e6d6,_0x51df9f,_0x156f4d):_0x16ecd3(_0x49e6d6,_0x51df9f))||_0x156f4d;}return _0x26a66b>0x3&&_0x156f4d&&Object['defineProperty'](_0x49e6d6,_0x51df9f,_0x156f4d),_0x156f4d;},__metadata=this&&this[a166_0x4458de(0x14e)]||function(_0xf8803b,_0x43a6a1){const _0x3482a0=a166_0x4458de;if(typeof Reflect===_0x3482a0(0x142)&&typeof Reflect[_0x3482a0(0x14b)]===_0x3482a0(0x145))return Reflect[_0x3482a0(0x14b)](_0xf8803b,_0x43a6a1);},__param=this&&this[a166_0x4458de(0x129)]||function(_0x3dd518,_0x42f48b){return function(_0x4a339b,_0x1d0725){_0x42f48b(_0x4a339b,_0x1d0725,_0x3dd518);};};Object[a166_0x4458de(0x163)](exports,a166_0x4458de(0x134),{'value':!![]}),exports[a166_0x4458de(0x15c)]=void 0x0;const errors_1=require(a166_0x4458de(0x136)),bad_request_error_1=require(a166_0x4458de(0x152)),not_found_error_1=require(a166_0x4458de(0x14f)),bitbucket_api_service_1=require(a166_0x4458de(0x148)),typedi_1=require(a166_0x4458de(0x149)),api_error_1=require(a166_0x4458de(0x12f)),git_internal_1=require(a166_0x4458de(0x16c)),repo_class_1=require(a166_0x4458de(0x14d)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require(a166_0x4458de(0x144)),providers_tokens_1=require(a166_0x4458de(0x161));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x4649f9,_0x421d62){const _0x4e9572=a166_0x4458de;super(_0x4649f9),this[_0x4e9572(0x135)]=_0x4649f9,this[_0x4e9572(0x125)]=_0x4649f9['createRequest'](),this[_0x4e9572(0x154)]=_0x421d62[_0x4e9572(0x154)],this[_0x4e9572(0x164)]=_0x421d62['workspace'],this[_0x4e9572(0x16e)]=_0x421d62;if(!this['workspace'])throw new Error(errors_1[_0x4e9572(0x132)]);if(!this[_0x4e9572(0x154)])throw new Error(errors_1[_0x4e9572(0x153)]);}async[a166_0x4458de(0x12e)](_0x37302a){const _0x7c0201=a166_0x4458de;try{const {name:_0x5f3c54}=_0x37302a,_0x568b30={'name':_0x37302a[_0x7c0201(0x12a)],'is_private':_0x37302a[_0x7c0201(0x15a)],..._0x37302a[_0x7c0201(0x166)]||{},'project':{'key':this['project']}},_0x4fd0b5=await this[_0x7c0201(0x125)]['post'](_0x7c0201(0x167)+this[_0x7c0201(0x164)]+'/'+_0x5f3c54[_0x7c0201(0x128)](),_0x568b30),_0xd58790=repo_class_1['Repo'][_0x7c0201(0x141)](_0x4fd0b5,this['api'],this[_0x7c0201(0x16e)]);return _0x37302a['autoInit']&&(await git_internal_1[_0x7c0201(0x15b)][_0x7c0201(0x13e)](_0xd58790,_0x37302a[_0x7c0201(0x151)]||_0x7c0201(0x16b),'',this[_0x7c0201(0x16e)]),_0xd58790[_0x7c0201(0x151)]=_0x37302a['defaultBranch']||_0x7c0201(0x16b)),_0xd58790;}catch(_0x3e62e0){if(_0x3e62e0 instanceof api_error_1[_0x7c0201(0x160)])throw _0x3e62e0;throw new bad_request_error_1[(_0x7c0201(0x16a))](_0x3e62e0);}}async[a166_0x4458de(0x12b)](){const _0x5c290f=a166_0x4458de;try{const _0x48fd63=[];let _0x3b926e;do{_0x3b926e=await this[_0x5c290f(0x125)][_0x5c290f(0x165)](_0x3b926e?_0x3b926e[_0x5c290f(0x127)]:_0x5c290f(0x169)+this['workspace']),_0x48fd63[_0x5c290f(0x147)](..._0x3b926e[_0x5c290f(0x168)]);}while(_0x3b926e[_0x5c290f(0x127)]);return _0x48fd63[_0x5c290f(0x162)](_0x132867=>repo_class_1['Repo'][_0x5c290f(0x141)](_0x132867,this[_0x5c290f(0x135)],this[_0x5c290f(0x16e)]));}catch(_0xe524b4){if(_0xe524b4 instanceof api_error_1[_0x5c290f(0x160)])throw _0xe524b4;throw new not_found_error_1[(_0x5c290f(0x13a))](_0xe524b4);}}async['getOne'](_0x5914cb){const _0x26781c=a166_0x4458de;try{const _0x1eae3c=await this['request'][_0x26781c(0x165)](_0x26781c(0x169)+this[_0x26781c(0x164)]+'/'+_0x5914cb[_0x26781c(0x128)]());return repo_class_1[_0x26781c(0x155)]['fromBitbucket'](_0x1eae3c,this[_0x26781c(0x135)],this[_0x26781c(0x16e)]);}catch(_0x2ce256){if(_0x2ce256 instanceof api_error_1['ApiError'])throw _0x2ce256;throw new not_found_error_1['NotFoundError'](_0x2ce256);}}async[a166_0x4458de(0x130)](_0x5e5bcf,_0x57a177){const _0x3ca580=a166_0x4458de;await this[_0x3ca580(0x137)](_0x5e5bcf);try{const _0x11b252=await this[_0x3ca580(0x125)][_0x3ca580(0x150)](_0x3ca580(0x169)+this[_0x3ca580(0x164)]+'/'+_0x5e5bcf[_0x3ca580(0x128)](),_0x57a177);return repo_class_1[_0x3ca580(0x155)]['fromBitbucket'](_0x11b252,this[_0x3ca580(0x135)],this[_0x3ca580(0x16e)]);}catch(_0x5e508c){if(_0x5e508c instanceof api_error_1['ApiError'])throw _0x5e508c;throw new not_found_error_1[(_0x3ca580(0x13a))](_0x5e508c);}}async['delete'](_0x584063){const _0x5ea336=a166_0x4458de;try{await this[_0x5ea336(0x125)]['delete'](_0x5ea336(0x169)+this[_0x5ea336(0x164)]+'/'+_0x584063[_0x5ea336(0x128)]());}catch(_0x5292f6){if(_0x5292f6 instanceof api_error_1[_0x5ea336(0x160)])throw _0x5292f6;throw new bad_request_error_1['BadRequestError'](_0x5292f6);}}};BitbucketRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a166_0x4458de(0x14a)])(providers_tokens_1[a166_0x4458de(0x14c)][a166_0x4458de(0x16e)])),__metadata(a166_0x4458de(0x131),[bitbucket_api_service_1[a166_0x4458de(0x15d)],bitbucket_credentials_dto_1[a166_0x4458de(0x138)]])],BitbucketRepoService),exports[a166_0x4458de(0x15c)]=BitbucketRepoService;