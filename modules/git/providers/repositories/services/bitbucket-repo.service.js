function a166_0x5091(_0x2e173f,_0x10b46a){const _0x15a60e=a166_0x2bdd();return a166_0x5091=function(_0x8a921e,_0x321b61){_0x8a921e=_0x8a921e-0x121;let _0x2bdd3d=_0x15a60e[_0x8a921e];return _0x2bdd3d;},a166_0x5091(_0x2e173f,_0x10b46a);}const a166_0x3f2357=a166_0x5091;(function(_0x4c4818,_0x378974){const _0x337952=a166_0x5091,_0x2f7e35=_0x4c4818();while(!![]){try{const _0x2bf8b5=parseInt(_0x337952(0x126))/0x1*(-parseInt(_0x337952(0x12a))/0x2)+-parseInt(_0x337952(0x15b))/0x3+parseInt(_0x337952(0x164))/0x4*(parseInt(_0x337952(0x146))/0x5)+parseInt(_0x337952(0x144))/0x6+parseInt(_0x337952(0x135))/0x7*(-parseInt(_0x337952(0x159))/0x8)+-parseInt(_0x337952(0x13b))/0x9*(parseInt(_0x337952(0x13a))/0xa)+parseInt(_0x337952(0x136))/0xb*(parseInt(_0x337952(0x15e))/0xc);if(_0x2bf8b5===_0x378974)break;else _0x2f7e35['push'](_0x2f7e35['shift']());}catch(_0xa93868){_0x2f7e35['push'](_0x2f7e35['shift']());}}}(a166_0x2bdd,0xac82b));const a166_0x321b61=(function(){let _0x371f25=!![];return function(_0x31d421,_0x570ffc){const _0x5071cb=_0x371f25?function(){if(_0x570ffc){const _0x134eb8=_0x570ffc['apply'](_0x31d421,arguments);return _0x570ffc=null,_0x134eb8;}}:function(){};return _0x371f25=![],_0x5071cb;};}()),a166_0x8a921e=a166_0x321b61(this,function(){const _0x19bf58=a166_0x5091;return a166_0x8a921e[_0x19bf58(0x149)]()[_0x19bf58(0x150)]('(((.+)+)+)+$')['toString']()[_0x19bf58(0x130)](a166_0x8a921e)[_0x19bf58(0x150)](_0x19bf58(0x152));});a166_0x8a921e();'use strict';var __decorate=this&&this[a166_0x3f2357(0x15f)]||function(_0xed19b4,_0x3aa56b,_0x19413f,_0x5dbd0b){const _0x482f91=a166_0x3f2357;var _0x1d6626=arguments['length'],_0x24498a=_0x1d6626<0x3?_0x3aa56b:_0x5dbd0b===null?_0x5dbd0b=Object['getOwnPropertyDescriptor'](_0x3aa56b,_0x19413f):_0x5dbd0b,_0x745007;if(typeof Reflect===_0x482f91(0x151)&&typeof Reflect['decorate']===_0x482f91(0x129))_0x24498a=Reflect[_0x482f91(0x139)](_0xed19b4,_0x3aa56b,_0x19413f,_0x5dbd0b);else{for(var _0x3ddb61=_0xed19b4[_0x482f91(0x14c)]-0x1;_0x3ddb61>=0x0;_0x3ddb61--)if(_0x745007=_0xed19b4[_0x3ddb61])_0x24498a=(_0x1d6626<0x3?_0x745007(_0x24498a):_0x1d6626>0x3?_0x745007(_0x3aa56b,_0x19413f,_0x24498a):_0x745007(_0x3aa56b,_0x19413f))||_0x24498a;}return _0x1d6626>0x3&&_0x24498a&&Object[_0x482f91(0x125)](_0x3aa56b,_0x19413f,_0x24498a),_0x24498a;},__metadata=this&&this['__metadata']||function(_0x11f8b6,_0x13d382){const _0x29314f=a166_0x3f2357;if(typeof Reflect===_0x29314f(0x151)&&typeof Reflect['metadata']===_0x29314f(0x129))return Reflect[_0x29314f(0x12c)](_0x11f8b6,_0x13d382);},__param=this&&this[a166_0x3f2357(0x14b)]||function(_0xb0ec77,_0x36aa37){return function(_0x365af6,_0x1a99b4){_0x36aa37(_0x365af6,_0x1a99b4,_0xb0ec77);};};Object[a166_0x3f2357(0x125)](exports,a166_0x3f2357(0x13e),{'value':!![]}),exports[a166_0x3f2357(0x13d)]=void 0x0;const errors_1=require(a166_0x3f2357(0x148)),bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a166_0x3f2357(0x145)),bitbucket_api_service_1=require(a166_0x3f2357(0x12e)),typedi_1=require(a166_0x3f2357(0x155)),api_error_1=require(a166_0x3f2357(0x153)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a166_0x3f2357(0x160)),git_repo_service_1=require(a166_0x3f2357(0x142)),bitbucket_credentials_dto_1=require(a166_0x3f2357(0x123)),providers_tokens_1=require(a166_0x3f2357(0x137));function a166_0x2bdd(){const _0x3c1643=['toLowerCase','__param','length','BitbucketCredentialsDto','create','Service','search','object','(((.+)+)+)+$','../../../../../core/errors/api.error','private','typedi','apiBody','BadRequestError','autoInit','16gbGBks','delete','1159614UbiYzc','getAll','ERR_BITBUCKET_MISSING_PROJECT','12uaxAAo','__decorate','../repo.class','master','fromBitbucket','get','152MlzoGN','update','credentials','ApiError','../../credentials/dto/bitbucket-credentials.dto','NotFoundError','defineProperty','1YPGPof','getOne','defaultBranch','function','218320pGKzbc','api','metadata','repositories/','../../api/bitbucket-api.service','design:paramtypes','constructor','next','GitRepoService','put','createRequest','4879462YuVhTn','25877863qoaGZa','../../providers.tokens','workspace','decorate','8060060CWqAfm','9hiDgry','request','BitbucketRepoService','__esModule','post','/repositories/','Repo','./git-repo.service','project','3260652VNNmnB','../../../../../core/errors/not-found.error','66640IFiAWj','Inject','../../../../../constants/errors','toString'];a166_0x2bdd=function(){return _0x3c1643;};return a166_0x2bdd();}let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a166_0x3f2357(0x132)]{constructor(_0x56dd98,_0x42b71a){const _0x3852c3=a166_0x3f2357;super(_0x56dd98),this[_0x3852c3(0x12b)]=_0x56dd98,this[_0x3852c3(0x13c)]=_0x56dd98[_0x3852c3(0x134)](),this[_0x3852c3(0x143)]=_0x42b71a[_0x3852c3(0x143)],this['workspace']=_0x42b71a[_0x3852c3(0x138)],this['credentials']=_0x42b71a;if(!this[_0x3852c3(0x138)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x3852c3(0x143)])throw new Error(errors_1[_0x3852c3(0x15d)]);}async[a166_0x3f2357(0x14e)](_0x2602c4){const _0xa9502b=a166_0x3f2357;try{const {name:_0x6564d8}=_0x2602c4,_0x2a3a70={'name':_0x2602c4['name'],'is_private':_0x2602c4[_0xa9502b(0x154)],..._0x2602c4[_0xa9502b(0x156)]||{},'project':{'key':this[_0xa9502b(0x143)]}},_0x533878=await this[_0xa9502b(0x13c)][_0xa9502b(0x13f)](_0xa9502b(0x140)+this[_0xa9502b(0x138)]+'/'+_0x6564d8[_0xa9502b(0x14a)](),_0x2a3a70),_0x2e44ab=repo_class_1[_0xa9502b(0x141)][_0xa9502b(0x162)](_0x533878,this[_0xa9502b(0x12b)],this[_0xa9502b(0x121)]);return _0x2602c4[_0xa9502b(0x158)]&&(await git_internal_1['Git']['createEmptyBranch'](_0x2e44ab,_0x2602c4[_0xa9502b(0x128)]||_0xa9502b(0x161),'',this[_0xa9502b(0x121)]),_0x2e44ab[_0xa9502b(0x128)]=_0x2602c4[_0xa9502b(0x128)]||_0xa9502b(0x161)),_0x2e44ab;}catch(_0x1af718){if(_0x1af718 instanceof api_error_1[_0xa9502b(0x122)])throw _0x1af718;throw new bad_request_error_1['BadRequestError'](_0x1af718);}}async[a166_0x3f2357(0x15c)](){const _0x4da33c=a166_0x3f2357;try{const _0x36ab40=[];let _0x5eff04;do{_0x5eff04=await this[_0x4da33c(0x13c)][_0x4da33c(0x163)](_0x5eff04?_0x5eff04[_0x4da33c(0x131)]:_0x4da33c(0x12d)+this[_0x4da33c(0x138)]),_0x36ab40['push'](..._0x5eff04['values']);}while(_0x5eff04[_0x4da33c(0x131)]);return _0x36ab40['map'](_0x3d21e4=>repo_class_1[_0x4da33c(0x141)][_0x4da33c(0x162)](_0x3d21e4,this[_0x4da33c(0x12b)],this['credentials']));}catch(_0x40a72c){if(_0x40a72c instanceof api_error_1[_0x4da33c(0x122)])throw _0x40a72c;throw new not_found_error_1[(_0x4da33c(0x124))](_0x40a72c);}}async[a166_0x3f2357(0x127)](_0x440a13){const _0x103f29=a166_0x3f2357;try{const _0x5e8ef9=await this['request'][_0x103f29(0x163)]('repositories/'+this[_0x103f29(0x138)]+'/'+_0x440a13[_0x103f29(0x14a)]());return repo_class_1['Repo'][_0x103f29(0x162)](_0x5e8ef9,this[_0x103f29(0x12b)],this['credentials']);}catch(_0x254583){if(_0x254583 instanceof api_error_1[_0x103f29(0x122)])throw _0x254583;throw new not_found_error_1[(_0x103f29(0x124))](_0x254583);}}async[a166_0x3f2357(0x165)](_0x1da063,_0x4bc00d){const _0x20eec2=a166_0x3f2357;await this[_0x20eec2(0x127)](_0x1da063);try{const _0x16a3c0=await this[_0x20eec2(0x13c)][_0x20eec2(0x133)](_0x20eec2(0x12d)+this[_0x20eec2(0x138)]+'/'+_0x1da063[_0x20eec2(0x14a)](),_0x4bc00d);return repo_class_1[_0x20eec2(0x141)][_0x20eec2(0x162)](_0x16a3c0,this['api'],this[_0x20eec2(0x121)]);}catch(_0x32c4ea){if(_0x32c4ea instanceof api_error_1[_0x20eec2(0x122)])throw _0x32c4ea;throw new not_found_error_1[(_0x20eec2(0x124))](_0x32c4ea);}}async['delete'](_0x44002f){const _0x3dea70=a166_0x3f2357;try{await this['request'][_0x3dea70(0x15a)](_0x3dea70(0x12d)+this[_0x3dea70(0x138)]+'/'+_0x44002f[_0x3dea70(0x14a)]());}catch(_0x524ddf){if(_0x524ddf instanceof api_error_1[_0x3dea70(0x122)])throw _0x524ddf;throw new bad_request_error_1[(_0x3dea70(0x157))](_0x524ddf);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a166_0x3f2357(0x14f)])(),__param(0x1,(0x0,typedi_1[a166_0x3f2357(0x147)])(providers_tokens_1['Tokens'][a166_0x3f2357(0x121)])),__metadata(a166_0x3f2357(0x12f),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1[a166_0x3f2357(0x14d)]])],BitbucketRepoService),exports[a166_0x3f2357(0x13d)]=BitbucketRepoService;