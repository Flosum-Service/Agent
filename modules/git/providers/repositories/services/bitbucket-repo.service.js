const a205_0x1a359a=a205_0x5efc;function a205_0x37cc(){const _0x405ed1=['BitbucketCredentialsDto','master','14790470nVQvKg','credentials','2571COvMWF','17214597QmYKxm','repositories/','getOne','ApiError','project','delete','8SjXgjv','search','Inject','map','GitRepoService','BadRequestError','update','9224mkJWeL','Repo','NotFoundError','autoInit','metadata','(((.+)+)+)+$','35dhKdDE','2VVgJNx','createRequest','60737974HvZdzR','572290kwzaWN','Service','toString','__metadata','create','../../../internal/git.internal','object','../../credentials/dto/bitbucket-credentials.dto','function','constructor','6440119xCqmpt','fromBitbucket','put','push','__param','/repositories/','BitbucketApiService','Git','api','defaultBranch','private','../../../../../constants/errors','ERR_BITBUCKET_MISSING_PROJECT','decorate','../../../../../core/errors/api.error','name','createEmptyBranch','toLowerCase','workspace','defineProperty','length','getAll','get','post','./git-repo.service','681996jtyoKP','getOwnPropertyDescriptor','../../api/bitbucket-api.service','request','BitbucketRepoService'];a205_0x37cc=function(){return _0x405ed1;};return a205_0x37cc();}function a205_0x5efc(_0x18e0cd,_0x47b37e){const _0x6aba0=a205_0x37cc();return a205_0x5efc=function(_0x35cfcd,_0x3141eb){_0x35cfcd=_0x35cfcd-0x112;let _0x37ccb4=_0x6aba0[_0x35cfcd];return _0x37ccb4;},a205_0x5efc(_0x18e0cd,_0x47b37e);}(function(_0x3e4025,_0x20112a){const _0x375f93=a205_0x5efc,_0x58e0b1=_0x3e4025();while(!![]){try{const _0x56fc3c=-parseInt(_0x375f93(0x14b))/0x1*(parseInt(_0x375f93(0x14e))/0x2)+-parseInt(_0x375f93(0x136))/0x3*(-parseInt(_0x375f93(0x144))/0x4)+parseInt(_0x375f93(0x14a))/0x5*(parseInt(_0x375f93(0x12d))/0x6)+parseInt(_0x375f93(0x114))/0x7*(parseInt(_0x375f93(0x13d))/0x8)+parseInt(_0x375f93(0x137))/0x9+parseInt(_0x375f93(0x134))/0xa+-parseInt(_0x375f93(0x14d))/0xb;if(_0x56fc3c===_0x20112a)break;else _0x58e0b1['push'](_0x58e0b1['shift']());}catch(_0x474056){_0x58e0b1['push'](_0x58e0b1['shift']());}}}(a205_0x37cc,0xf1a51));const a205_0x3141eb=(function(){let _0xc5c496=!![];return function(_0xaf9e4e,_0xcd424c){const _0x5530c5=_0xc5c496?function(){if(_0xcd424c){const _0x196cf3=_0xcd424c['apply'](_0xaf9e4e,arguments);return _0xcd424c=null,_0x196cf3;}}:function(){};return _0xc5c496=![],_0x5530c5;};}()),a205_0x35cfcd=a205_0x3141eb(this,function(){const _0x4893d0=a205_0x5efc;return a205_0x35cfcd[_0x4893d0(0x150)]()['search'](_0x4893d0(0x149))[_0x4893d0(0x150)]()[_0x4893d0(0x113)](a205_0x35cfcd)[_0x4893d0(0x13e)](_0x4893d0(0x149));});a205_0x35cfcd();'use strict';var __decorate=this&&this['__decorate']||function(_0x5b9ed0,_0x516b05,_0x2e1ad6,_0x5717c7){const _0x11c7fe=a205_0x5efc;var _0x297599=arguments[_0x11c7fe(0x128)],_0x175b32=_0x297599<0x3?_0x516b05:_0x5717c7===null?_0x5717c7=Object[_0x11c7fe(0x12e)](_0x516b05,_0x2e1ad6):_0x5717c7,_0x184053;if(typeof Reflect===_0x11c7fe(0x154)&&typeof Reflect[_0x11c7fe(0x121)]===_0x11c7fe(0x112))_0x175b32=Reflect[_0x11c7fe(0x121)](_0x5b9ed0,_0x516b05,_0x2e1ad6,_0x5717c7);else{for(var _0x534eda=_0x5b9ed0[_0x11c7fe(0x128)]-0x1;_0x534eda>=0x0;_0x534eda--)if(_0x184053=_0x5b9ed0[_0x534eda])_0x175b32=(_0x297599<0x3?_0x184053(_0x175b32):_0x297599>0x3?_0x184053(_0x516b05,_0x2e1ad6,_0x175b32):_0x184053(_0x516b05,_0x2e1ad6))||_0x175b32;}return _0x297599>0x3&&_0x175b32&&Object[_0x11c7fe(0x127)](_0x516b05,_0x2e1ad6,_0x175b32),_0x175b32;},__metadata=this&&this[a205_0x1a359a(0x151)]||function(_0x4b777d,_0x1dbad8){const _0x4979bc=a205_0x1a359a;if(typeof Reflect==='object'&&typeof Reflect[_0x4979bc(0x148)]==='function')return Reflect[_0x4979bc(0x148)](_0x4b777d,_0x1dbad8);},__param=this&&this[a205_0x1a359a(0x118)]||function(_0x45f57e,_0x208e18){return function(_0x5fcff6,_0x898942){_0x208e18(_0x5fcff6,_0x898942,_0x45f57e);};};Object[a205_0x1a359a(0x127)](exports,'__esModule',{'value':!![]}),exports[a205_0x1a359a(0x131)]=void 0x0;const errors_1=require(a205_0x1a359a(0x11f)),bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require('../../../../../core/errors/not-found.error'),bitbucket_api_service_1=require(a205_0x1a359a(0x12f)),typedi_1=require('typedi'),api_error_1=require(a205_0x1a359a(0x122)),git_internal_1=require(a205_0x1a359a(0x153)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a205_0x1a359a(0x12c)),bitbucket_credentials_dto_1=require(a205_0x1a359a(0x155)),providers_tokens_1=require('../../providers.tokens');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a205_0x1a359a(0x141)]{constructor(_0x4dfbd6,_0x1114e9){const _0x3ef82d=a205_0x1a359a;super(_0x4dfbd6),this[_0x3ef82d(0x11c)]=_0x4dfbd6,this[_0x3ef82d(0x130)]=_0x4dfbd6[_0x3ef82d(0x14c)](),this[_0x3ef82d(0x13b)]=_0x1114e9[_0x3ef82d(0x13b)],this[_0x3ef82d(0x126)]=_0x1114e9[_0x3ef82d(0x126)],this[_0x3ef82d(0x135)]=_0x1114e9;if(!this[_0x3ef82d(0x126)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x3ef82d(0x13b)])throw new Error(errors_1[_0x3ef82d(0x120)]);}async[a205_0x1a359a(0x152)](_0x274aa6){const _0xb731db=a205_0x1a359a;try{const {name:_0x175ccf}=_0x274aa6,_0x574cd1={'name':_0x274aa6[_0xb731db(0x123)],'is_private':_0x274aa6[_0xb731db(0x11e)],..._0x274aa6['apiBody']||{},'project':{'key':this['project']}},_0x25a473=await this[_0xb731db(0x130)][_0xb731db(0x12b)](_0xb731db(0x119)+this[_0xb731db(0x126)]+'/'+_0x175ccf['toLowerCase'](),_0x574cd1),_0x1af78d=repo_class_1[_0xb731db(0x145)][_0xb731db(0x115)](_0x25a473,this[_0xb731db(0x11c)],this[_0xb731db(0x135)]);return _0x274aa6[_0xb731db(0x147)]&&(await git_internal_1[_0xb731db(0x11b)][_0xb731db(0x124)](_0x1af78d,_0x274aa6['defaultBranch']||'master','',this[_0xb731db(0x135)]),_0x1af78d[_0xb731db(0x11d)]=_0x274aa6[_0xb731db(0x11d)]||_0xb731db(0x133)),_0x1af78d;}catch(_0x457452){if(_0x457452 instanceof api_error_1[_0xb731db(0x13a)])throw _0x457452;throw new bad_request_error_1[(_0xb731db(0x142))](_0x457452);}}async[a205_0x1a359a(0x129)](){const _0x2c745f=a205_0x1a359a;try{const _0x275ac3=[];let _0x211c06;do{_0x211c06=await this[_0x2c745f(0x130)][_0x2c745f(0x12a)](_0x211c06?_0x211c06['next']:_0x2c745f(0x138)+this[_0x2c745f(0x126)]),_0x275ac3[_0x2c745f(0x117)](..._0x211c06['values']);}while(_0x211c06['next']);return _0x275ac3[_0x2c745f(0x140)](_0x52d295=>repo_class_1['Repo'][_0x2c745f(0x115)](_0x52d295,this['api'],this[_0x2c745f(0x135)]));}catch(_0x47fc05){if(_0x47fc05 instanceof api_error_1[_0x2c745f(0x13a)])throw _0x47fc05;throw new not_found_error_1[(_0x2c745f(0x146))](_0x47fc05);}}async['getOne'](_0x2a59e3){const _0x2035d=a205_0x1a359a;try{const _0x2e1a35=await this[_0x2035d(0x130)][_0x2035d(0x12a)](_0x2035d(0x138)+this[_0x2035d(0x126)]+'/'+_0x2a59e3[_0x2035d(0x125)]());return repo_class_1[_0x2035d(0x145)][_0x2035d(0x115)](_0x2e1a35,this[_0x2035d(0x11c)],this[_0x2035d(0x135)]);}catch(_0x343405){if(_0x343405 instanceof api_error_1[_0x2035d(0x13a)])throw _0x343405;throw new not_found_error_1[(_0x2035d(0x146))](_0x343405);}}async[a205_0x1a359a(0x143)](_0x3c9c4e,_0xcb1fff){const _0x571048=a205_0x1a359a;await this[_0x571048(0x139)](_0x3c9c4e);try{const _0x4cb418=await this[_0x571048(0x130)][_0x571048(0x116)]('repositories/'+this[_0x571048(0x126)]+'/'+_0x3c9c4e[_0x571048(0x125)](),_0xcb1fff);return repo_class_1[_0x571048(0x145)][_0x571048(0x115)](_0x4cb418,this['api'],this[_0x571048(0x135)]);}catch(_0x5169c6){if(_0x5169c6 instanceof api_error_1[_0x571048(0x13a)])throw _0x5169c6;throw new not_found_error_1[(_0x571048(0x146))](_0x5169c6);}}async['delete'](_0x31dc0e){const _0x350f16=a205_0x1a359a;try{await this[_0x350f16(0x130)][_0x350f16(0x13c)]('repositories/'+this[_0x350f16(0x126)]+'/'+_0x31dc0e[_0x350f16(0x125)]());}catch(_0x4a8c16){if(_0x4a8c16 instanceof api_error_1[_0x350f16(0x13a)])throw _0x4a8c16;throw new bad_request_error_1[(_0x350f16(0x142))](_0x4a8c16);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a205_0x1a359a(0x14f)])(),__param(0x1,(0x0,typedi_1[a205_0x1a359a(0x13f)])(providers_tokens_1['Tokens'][a205_0x1a359a(0x135)])),__metadata('design:paramtypes',[bitbucket_api_service_1[a205_0x1a359a(0x11a)],bitbucket_credentials_dto_1[a205_0x1a359a(0x132)]])],BitbucketRepoService),exports[a205_0x1a359a(0x131)]=BitbucketRepoService;