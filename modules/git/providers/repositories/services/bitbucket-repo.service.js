const a205_0x4280fb=a205_0x2410;(function(_0x17e1e8,_0x6ae01){const _0xd01ee=a205_0x2410,_0x1c8553=_0x17e1e8();while(!![]){try{const _0x1557ed=parseInt(_0xd01ee(0x15e))/0x1+parseInt(_0xd01ee(0x13a))/0x2+-parseInt(_0xd01ee(0x150))/0x3+parseInt(_0xd01ee(0x139))/0x4*(-parseInt(_0xd01ee(0x155))/0x5)+parseInt(_0xd01ee(0x145))/0x6+parseInt(_0xd01ee(0x154))/0x7+-parseInt(_0xd01ee(0x14f))/0x8;if(_0x1557ed===_0x6ae01)break;else _0x1c8553['push'](_0x1c8553['shift']());}catch(_0x329f5f){_0x1c8553['push'](_0x1c8553['shift']());}}}(a205_0x19c7,0x9de20));const a205_0x24647b=(function(){let _0x2ee1fa=!![];return function(_0x3755bf,_0xf89e2a){const _0x4aeb03=_0x2ee1fa?function(){const _0x38fa6b=a205_0x2410;if(_0xf89e2a){const _0x23dd44=_0xf89e2a[_0x38fa6b(0x158)](_0x3755bf,arguments);return _0xf89e2a=null,_0x23dd44;}}:function(){};return _0x2ee1fa=![],_0x4aeb03;};}()),a205_0x326f57=a205_0x24647b(this,function(){const _0x38a199=a205_0x2410;return a205_0x326f57[_0x38a199(0x169)]()[_0x38a199(0x157)](_0x38a199(0x15d))[_0x38a199(0x169)]()[_0x38a199(0x148)](a205_0x326f57)['search']('(((.+)+)+)+$');});function a205_0x2410(_0x22ab5e,_0x397cd7){const _0x2b6c39=a205_0x19c7();return a205_0x2410=function(_0x326f57,_0x24647b){_0x326f57=_0x326f57-0x125;let _0x19c7b1=_0x2b6c39[_0x326f57];return _0x19c7b1;},a205_0x2410(_0x22ab5e,_0x397cd7);}a205_0x326f57();'use strict';var __decorate=this&&this[a205_0x4280fb(0x12d)]||function(_0x53d9cd,_0x57638b,_0x3451e2,_0x1854ad){const _0x40af13=a205_0x4280fb;var _0x42ccb1=arguments[_0x40af13(0x12a)],_0x2c322d=_0x42ccb1<0x3?_0x57638b:_0x1854ad===null?_0x1854ad=Object[_0x40af13(0x163)](_0x57638b,_0x3451e2):_0x1854ad,_0x3464f8;if(typeof Reflect===_0x40af13(0x14d)&&typeof Reflect[_0x40af13(0x147)]===_0x40af13(0x14a))_0x2c322d=Reflect['decorate'](_0x53d9cd,_0x57638b,_0x3451e2,_0x1854ad);else{for(var _0x563427=_0x53d9cd['length']-0x1;_0x563427>=0x0;_0x563427--)if(_0x3464f8=_0x53d9cd[_0x563427])_0x2c322d=(_0x42ccb1<0x3?_0x3464f8(_0x2c322d):_0x42ccb1>0x3?_0x3464f8(_0x57638b,_0x3451e2,_0x2c322d):_0x3464f8(_0x57638b,_0x3451e2))||_0x2c322d;}return _0x42ccb1>0x3&&_0x2c322d&&Object['defineProperty'](_0x57638b,_0x3451e2,_0x2c322d),_0x2c322d;},__metadata=this&&this[a205_0x4280fb(0x162)]||function(_0x2d1a5c,_0x16d5f7){const _0x580f11=a205_0x4280fb;if(typeof Reflect===_0x580f11(0x14d)&&typeof Reflect[_0x580f11(0x137)]==='function')return Reflect[_0x580f11(0x137)](_0x2d1a5c,_0x16d5f7);},__param=this&&this[a205_0x4280fb(0x149)]||function(_0x46f0e9,_0x20fcdc){return function(_0x216f8e,_0x49c269){_0x20fcdc(_0x216f8e,_0x49c269,_0x46f0e9);};},BitbucketRepoService_1;Object[a205_0x4280fb(0x125)](exports,'__esModule',{'value':!![]}),exports[a205_0x4280fb(0x146)]=void 0x0;const errors_1=require(a205_0x4280fb(0x161)),bad_request_error_1=require(a205_0x4280fb(0x15a)),not_found_error_1=require(a205_0x4280fb(0x16e)),bitbucket_api_service_1=require(a205_0x4280fb(0x143)),typedi_1=require(a205_0x4280fb(0x167)),api_error_1=require(a205_0x4280fb(0x15f)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a205_0x4280fb(0x13b)),git_repo_service_1=require(a205_0x4280fb(0x12c)),bitbucket_credentials_dto_1=require(a205_0x4280fb(0x153)),providers_tokens_1=require(a205_0x4280fb(0x156));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a205_0x4280fb(0x12b)]{constructor(_0x4f7023,_0x50fc78){const _0x207bdd=a205_0x4280fb;super(_0x4f7023),this[_0x207bdd(0x135)]=_0x4f7023,this['request']=_0x4f7023[_0x207bdd(0x129)](),this[_0x207bdd(0x168)]=_0x50fc78[_0x207bdd(0x168)],this[_0x207bdd(0x134)]=_0x50fc78[_0x207bdd(0x134)],this[_0x207bdd(0x164)]=_0x50fc78;if(!this[_0x207bdd(0x134)])throw new Error(errors_1[_0x207bdd(0x138)]);if(!this[_0x207bdd(0x168)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a205_0x4280fb(0x140)](_0x13aa9e){const _0x4f30e3=a205_0x4280fb;try{const {name:_0x3a9367}=_0x13aa9e,_0x16d40={'name':_0x13aa9e['name'],'is_private':_0x13aa9e[_0x4f30e3(0x13f)],..._0x13aa9e[_0x4f30e3(0x142)]||{},'project':{'key':this['project']}},_0x1fe0ac=await this[_0x4f30e3(0x159)][_0x4f30e3(0x130)](_0x4f30e3(0x14c)+this[_0x4f30e3(0x134)]+'/'+_0x3a9367[_0x4f30e3(0x126)](),_0x16d40),_0xcbad58=repo_class_1['Repo'][_0x4f30e3(0x15b)](_0x1fe0ac,this[_0x4f30e3(0x135)],this[_0x4f30e3(0x164)]);return _0x13aa9e[_0x4f30e3(0x160)]&&(await git_internal_1[_0x4f30e3(0x151)][_0x4f30e3(0x12e)](_0xcbad58,_0x13aa9e['defaultBranch']||_0x4f30e3(0x136),'',this[_0x4f30e3(0x164)]),_0xcbad58['defaultBranch']=_0x13aa9e['defaultBranch']||_0x4f30e3(0x136)),_0xcbad58;}catch(_0x18e89b){if(_0x18e89b instanceof api_error_1[_0x4f30e3(0x16d)])throw _0x18e89b;throw new bad_request_error_1['BadRequestError'](_0x18e89b);}}async[a205_0x4280fb(0x132)](){const _0x2b37a0=a205_0x4280fb;try{const _0x217bf8=[];let _0x3991ad,_0x534238=_0x2b37a0(0x166)+this[_0x2b37a0(0x134)]+_0x2b37a0(0x12f)+this['project']+_0x2b37a0(0x127)+BitbucketRepoService_1[_0x2b37a0(0x13c)];do{_0x3991ad=await this[_0x2b37a0(0x159)]['get'](_0x534238),_0x534238=_0x3991ad['next'],_0x217bf8[_0x2b37a0(0x16c)](..._0x3991ad[_0x2b37a0(0x165)]);}while(_0x534238);return _0x217bf8['map'](_0x1fa11e=>repo_class_1[_0x2b37a0(0x128)][_0x2b37a0(0x15b)](_0x1fa11e,this[_0x2b37a0(0x135)],this['credentials']));}catch(_0x4f7d16){if(_0x4f7d16 instanceof api_error_1[_0x2b37a0(0x16d)])throw _0x4f7d16;throw new not_found_error_1[(_0x2b37a0(0x144))](_0x4f7d16);}}async['getOne'](_0x1b257b){const _0x14af7e=a205_0x4280fb;try{const _0x15f1e0=await this[_0x14af7e(0x159)][_0x14af7e(0x16a)](_0x14af7e(0x166)+this[_0x14af7e(0x134)]+'/'+_0x1b257b['toLowerCase']());return repo_class_1['Repo']['fromBitbucket'](_0x15f1e0,this['api'],this['credentials']);}catch(_0x3d785d){if(_0x3d785d instanceof api_error_1[_0x14af7e(0x16d)])throw _0x3d785d;throw new not_found_error_1[(_0x14af7e(0x144))](_0x3d785d);}}async[a205_0x4280fb(0x133)](_0xbe9880,_0x16e43f){const _0x147daa=a205_0x4280fb;await this['getOne'](_0xbe9880);try{const _0x500cf4=await this['request'][_0x147daa(0x13e)](_0x147daa(0x166)+this['workspace']+'/'+_0xbe9880[_0x147daa(0x126)](),_0x16e43f);return repo_class_1['Repo']['fromBitbucket'](_0x500cf4,this['api'],this[_0x147daa(0x164)]);}catch(_0x4ed67a){if(_0x4ed67a instanceof api_error_1[_0x147daa(0x16d)])throw _0x4ed67a;throw new not_found_error_1[(_0x147daa(0x144))](_0x4ed67a);}}async[a205_0x4280fb(0x141)](_0x3aa94f){const _0x5d29d1=a205_0x4280fb;try{await this[_0x5d29d1(0x159)]['delete'](_0x5d29d1(0x166)+this[_0x5d29d1(0x134)]+'/'+_0x3aa94f[_0x5d29d1(0x126)]());}catch(_0x1e50eb){if(_0x1e50eb instanceof api_error_1[_0x5d29d1(0x16d)])throw _0x1e50eb;throw new bad_request_error_1[(_0x5d29d1(0x14b))](_0x1e50eb);}}};function a205_0x19c7(){const _0x3da259=['\x22&pagelen=','Repo','createRequest','length','GitRepoService','./git-repo.service','__decorate','createEmptyBranch','?q=project.key=\x22','post','BitbucketApiService','getAll','update','workspace','api','master','metadata','ERR_BITBUCKET_MISSING_WORKSPACE','3698428ZqQVLz','1047990rEwoJF','../repo.class','ITEMS_PER_RESPONSE','Tokens','put','private','create','delete','apiBody','../../api/bitbucket-api.service','NotFoundError','346536igubCH','BitbucketRepoService','decorate','constructor','__param','function','BadRequestError','/repositories/','object','design:paramtypes','3702584iPVZPL','82542TZGmvr','Git','Inject','../../credentials/dto/bitbucket-credentials.dto','2843008QHdbYT','5ksAEmr','../../providers.tokens','search','apply','request','../../../../../core/errors/bad-request.error','fromBitbucket','Service','(((.+)+)+)+$','1073737vVHXbI','../../../../../core/errors/api.error','autoInit','../../../../../constants/errors','__metadata','getOwnPropertyDescriptor','credentials','values','repositories/','typedi','project','toString','get','BitbucketCredentialsDto','push','ApiError','../../../../../core/errors/not-found.error','defineProperty','toLowerCase'];a205_0x19c7=function(){return _0x3da259;};return a205_0x19c7();}BitbucketRepoService[a205_0x4280fb(0x13c)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a205_0x4280fb(0x15c)])(),__param(0x1,(0x0,typedi_1[a205_0x4280fb(0x152)])(providers_tokens_1[a205_0x4280fb(0x13d)][a205_0x4280fb(0x164)])),__metadata(a205_0x4280fb(0x14e),[bitbucket_api_service_1[a205_0x4280fb(0x131)],bitbucket_credentials_dto_1[a205_0x4280fb(0x16b)]])],BitbucketRepoService),exports[a205_0x4280fb(0x146)]=BitbucketRepoService;