function a199_0x14bd(_0x39914b,_0x54215a){const _0x48bacb=a199_0x25f9();return a199_0x14bd=function(_0x276ca6,_0x1e1297){_0x276ca6=_0x276ca6-0xac;let _0x25f966=_0x48bacb[_0x276ca6];return _0x25f966;},a199_0x14bd(_0x39914b,_0x54215a);}const a199_0x24a3ab=a199_0x14bd;(function(_0x152c1e,_0x2b5929){const _0x163cd5=a199_0x14bd,_0xe4cc74=_0x152c1e();while(!![]){try{const _0x131a3c=-parseInt(_0x163cd5(0xca))/0x1*(parseInt(_0x163cd5(0xc3))/0x2)+parseInt(_0x163cd5(0xd4))/0x3*(-parseInt(_0x163cd5(0xd7))/0x4)+-parseInt(_0x163cd5(0xc7))/0x5+-parseInt(_0x163cd5(0xb3))/0x6*(-parseInt(_0x163cd5(0xf3))/0x7)+-parseInt(_0x163cd5(0xb2))/0x8*(parseInt(_0x163cd5(0xe4))/0x9)+-parseInt(_0x163cd5(0xea))/0xa+-parseInt(_0x163cd5(0xc8))/0xb*(-parseInt(_0x163cd5(0xaf))/0xc);if(_0x131a3c===_0x2b5929)break;else _0xe4cc74['push'](_0xe4cc74['shift']());}catch(_0x5a8f24){_0xe4cc74['push'](_0xe4cc74['shift']());}}}(a199_0x25f9,0x3dcf6));const a199_0x1e1297=(function(){let _0xf81777=!![];return function(_0x4689ec,_0x4f411f){const _0x244d67=_0xf81777?function(){if(_0x4f411f){const _0x4bbf5c=_0x4f411f['apply'](_0x4689ec,arguments);return _0x4f411f=null,_0x4bbf5c;}}:function(){};return _0xf81777=![],_0x244d67;};}()),a199_0x276ca6=a199_0x1e1297(this,function(){const _0xecdc04=a199_0x14bd;return a199_0x276ca6[_0xecdc04(0xe5)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a199_0x276ca6)[_0xecdc04(0xcf)]('(((.+)+)+)+$');});a199_0x276ca6();'use strict';function a199_0x25f9(){const _0x1f3c38=['14087DRDftf','Repo','object','metadata','get','search','createRequest','/repositories/','./git-repo.service','next','6GCQkFM','values','put','482420ogpILn','credentials','toLowerCase','post','master','NotFoundError','defaultBranch','__decorate','../../credentials/dto/bitbucket-credentials.dto','request','decorate','../../../../../core/errors/api.error','getAll','9lEyTsf','toString','__param','BitbucketRepoService','workspace','Tokens','3284540EHpDCX','__esModule','function','../../../../../core/errors/not-found.error','../../../internal/git.internal','../../../../../constants/errors','Git','defineProperty','project','21WuPEsx','api','ApiError','name','10107732egCsDo','getOwnPropertyDescriptor','push','606856CCLcUr','885084sNJaXr','getOne','apiBody','Inject','createEmptyBranch','design:paramtypes','Service','length','repositories/','../repo.class','delete','autoInit','../../../../../core/errors/bad-request.error','typedi','BadRequestError','private','18QqJAaY','create','__metadata','../../api/bitbucket-api.service','1296875avojZa','11YDqOhc','fromBitbucket'];a199_0x25f9=function(){return _0x1f3c38;};return a199_0x25f9();}var __decorate=this&&this[a199_0x24a3ab(0xde)]||function(_0x5f456b,_0x2b4c3e,_0x4254c7,_0x49b52b){const _0x4a6711=a199_0x24a3ab;var _0x531b75=arguments['length'],_0x54b149=_0x531b75<0x3?_0x2b4c3e:_0x49b52b===null?_0x49b52b=Object[_0x4a6711(0xb0)](_0x2b4c3e,_0x4254c7):_0x49b52b,_0x21ec32;if(typeof Reflect==='object'&&typeof Reflect[_0x4a6711(0xe1)]===_0x4a6711(0xec))_0x54b149=Reflect[_0x4a6711(0xe1)](_0x5f456b,_0x2b4c3e,_0x4254c7,_0x49b52b);else{for(var _0x9d7406=_0x5f456b[_0x4a6711(0xba)]-0x1;_0x9d7406>=0x0;_0x9d7406--)if(_0x21ec32=_0x5f456b[_0x9d7406])_0x54b149=(_0x531b75<0x3?_0x21ec32(_0x54b149):_0x531b75>0x3?_0x21ec32(_0x2b4c3e,_0x4254c7,_0x54b149):_0x21ec32(_0x2b4c3e,_0x4254c7))||_0x54b149;}return _0x531b75>0x3&&_0x54b149&&Object[_0x4a6711(0xf1)](_0x2b4c3e,_0x4254c7,_0x54b149),_0x54b149;},__metadata=this&&this[a199_0x24a3ab(0xc5)]||function(_0x3b4484,_0x21b4f4){const _0x15e05c=a199_0x24a3ab;if(typeof Reflect===_0x15e05c(0xcc)&&typeof Reflect[_0x15e05c(0xcd)]===_0x15e05c(0xec))return Reflect['metadata'](_0x3b4484,_0x21b4f4);},__param=this&&this[a199_0x24a3ab(0xe6)]||function(_0x12dcee,_0x52b7da){return function(_0x1af928,_0x2a8076){_0x52b7da(_0x1af928,_0x2a8076,_0x12dcee);};};Object[a199_0x24a3ab(0xf1)](exports,a199_0x24a3ab(0xeb),{'value':!![]}),exports[a199_0x24a3ab(0xe7)]=void 0x0;const errors_1=require(a199_0x24a3ab(0xef)),bad_request_error_1=require(a199_0x24a3ab(0xbf)),not_found_error_1=require(a199_0x24a3ab(0xed)),bitbucket_api_service_1=require(a199_0x24a3ab(0xc6)),typedi_1=require(a199_0x24a3ab(0xc0)),api_error_1=require(a199_0x24a3ab(0xe2)),git_internal_1=require(a199_0x24a3ab(0xee)),repo_class_1=require(a199_0x24a3ab(0xbc)),git_repo_service_1=require(a199_0x24a3ab(0xd2)),bitbucket_credentials_dto_1=require(a199_0x24a3ab(0xdf)),providers_tokens_1=require('../../providers.tokens');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x6edcd4,_0x63c248){const _0x389871=a199_0x24a3ab;super(_0x6edcd4),this[_0x389871(0xac)]=_0x6edcd4,this[_0x389871(0xe0)]=_0x6edcd4[_0x389871(0xd0)](),this[_0x389871(0xf2)]=_0x63c248[_0x389871(0xf2)],this['workspace']=_0x63c248[_0x389871(0xe8)],this[_0x389871(0xd8)]=_0x63c248;if(!this[_0x389871(0xe8)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x389871(0xf2)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a199_0x24a3ab(0xc4)](_0x35ab9c){const _0x417fc5=a199_0x24a3ab;try{const {name:_0x5f32e1}=_0x35ab9c,_0x232cd9={'name':_0x35ab9c[_0x417fc5(0xae)],'is_private':_0x35ab9c[_0x417fc5(0xc2)],..._0x35ab9c[_0x417fc5(0xb5)]||{},'project':{'key':this[_0x417fc5(0xf2)]}},_0x4d83ed=await this['request'][_0x417fc5(0xda)](_0x417fc5(0xd1)+this[_0x417fc5(0xe8)]+'/'+_0x5f32e1[_0x417fc5(0xd9)](),_0x232cd9),_0x3c3c3b=repo_class_1[_0x417fc5(0xcb)][_0x417fc5(0xc9)](_0x4d83ed,this[_0x417fc5(0xac)],this[_0x417fc5(0xd8)]);return _0x35ab9c[_0x417fc5(0xbe)]&&(await git_internal_1[_0x417fc5(0xf0)][_0x417fc5(0xb7)](_0x3c3c3b,_0x35ab9c[_0x417fc5(0xdd)]||_0x417fc5(0xdb),'',this[_0x417fc5(0xd8)]),_0x3c3c3b[_0x417fc5(0xdd)]=_0x35ab9c['defaultBranch']||_0x417fc5(0xdb)),_0x3c3c3b;}catch(_0x23188d){if(_0x23188d instanceof api_error_1[_0x417fc5(0xad)])throw _0x23188d;throw new bad_request_error_1[(_0x417fc5(0xc1))](_0x23188d);}}async[a199_0x24a3ab(0xe3)](){const _0x4bf1fd=a199_0x24a3ab;try{const _0x1ec5c4=[];let _0x4b95b0;do{_0x4b95b0=await this['request'][_0x4bf1fd(0xce)](_0x4b95b0?_0x4b95b0[_0x4bf1fd(0xd3)]:'repositories/'+this[_0x4bf1fd(0xe8)]),_0x1ec5c4[_0x4bf1fd(0xb1)](..._0x4b95b0[_0x4bf1fd(0xd5)]);}while(_0x4b95b0['next']);return _0x1ec5c4['map'](_0x40ca88=>repo_class_1['Repo'][_0x4bf1fd(0xc9)](_0x40ca88,this[_0x4bf1fd(0xac)],this['credentials']));}catch(_0x4ed658){if(_0x4ed658 instanceof api_error_1['ApiError'])throw _0x4ed658;throw new not_found_error_1[(_0x4bf1fd(0xdc))](_0x4ed658);}}async[a199_0x24a3ab(0xb4)](_0x178acb){const _0x347b67=a199_0x24a3ab;try{const _0x41cf05=await this[_0x347b67(0xe0)][_0x347b67(0xce)](_0x347b67(0xbb)+this['workspace']+'/'+_0x178acb[_0x347b67(0xd9)]());return repo_class_1[_0x347b67(0xcb)][_0x347b67(0xc9)](_0x41cf05,this[_0x347b67(0xac)],this[_0x347b67(0xd8)]);}catch(_0x3bf35f){if(_0x3bf35f instanceof api_error_1[_0x347b67(0xad)])throw _0x3bf35f;throw new not_found_error_1[(_0x347b67(0xdc))](_0x3bf35f);}}async['update'](_0x1ff7a3,_0xb61882){const _0xc39975=a199_0x24a3ab;await this['getOne'](_0x1ff7a3);try{const _0x22c365=await this[_0xc39975(0xe0)][_0xc39975(0xd6)](_0xc39975(0xbb)+this['workspace']+'/'+_0x1ff7a3[_0xc39975(0xd9)](),_0xb61882);return repo_class_1[_0xc39975(0xcb)][_0xc39975(0xc9)](_0x22c365,this[_0xc39975(0xac)],this[_0xc39975(0xd8)]);}catch(_0x5a3ae2){if(_0x5a3ae2 instanceof api_error_1[_0xc39975(0xad)])throw _0x5a3ae2;throw new not_found_error_1[(_0xc39975(0xdc))](_0x5a3ae2);}}async['delete'](_0x224a3d){const _0x377339=a199_0x24a3ab;try{await this[_0x377339(0xe0)][_0x377339(0xbd)](_0x377339(0xbb)+this['workspace']+'/'+_0x224a3d[_0x377339(0xd9)]());}catch(_0x2697eb){if(_0x2697eb instanceof api_error_1[_0x377339(0xad)])throw _0x2697eb;throw new bad_request_error_1['BadRequestError'](_0x2697eb);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a199_0x24a3ab(0xb9)])(),__param(0x1,(0x0,typedi_1[a199_0x24a3ab(0xb6)])(providers_tokens_1[a199_0x24a3ab(0xe9)][a199_0x24a3ab(0xd8)])),__metadata(a199_0x24a3ab(0xb8),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1['BitbucketCredentialsDto']])],BitbucketRepoService),exports[a199_0x24a3ab(0xe7)]=BitbucketRepoService;