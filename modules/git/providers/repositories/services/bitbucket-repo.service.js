const a236_0x1f20bc=a236_0x82b0;(function(_0x7af158,_0x34cc49){const _0x1d8b8e=a236_0x82b0,_0x552e19=_0x7af158();while(!![]){try{const _0x2bd9bf=-parseInt(_0x1d8b8e(0x17f))/0x1*(parseInt(_0x1d8b8e(0x165))/0x2)+-parseInt(_0x1d8b8e(0x19f))/0x3*(parseInt(_0x1d8b8e(0x19b))/0x4)+parseInt(_0x1d8b8e(0x197))/0x5*(-parseInt(_0x1d8b8e(0x16e))/0x6)+-parseInt(_0x1d8b8e(0x173))/0x7*(parseInt(_0x1d8b8e(0x15f))/0x8)+-parseInt(_0x1d8b8e(0x1a0))/0x9+-parseInt(_0x1d8b8e(0x16c))/0xa+parseInt(_0x1d8b8e(0x190))/0xb;if(_0x2bd9bf===_0x34cc49)break;else _0x552e19['push'](_0x552e19['shift']());}catch(_0x566576){_0x552e19['push'](_0x552e19['shift']());}}}(a236_0x21de,0x607d2));const a236_0x506799=(function(){let _0x1b1936=!![];return function(_0x4889c9,_0x26d52f){const _0x3e18d1=_0x1b1936?function(){const _0x274d92=a236_0x82b0;if(_0x26d52f){const _0xaaf5dc=_0x26d52f[_0x274d92(0x18a)](_0x4889c9,arguments);return _0x26d52f=null,_0xaaf5dc;}}:function(){};return _0x1b1936=![],_0x3e18d1;};}()),a236_0x1db589=a236_0x506799(this,function(){const _0x1e147b=a236_0x82b0;return a236_0x1db589[_0x1e147b(0x168)]()[_0x1e147b(0x18b)]('(((.+)+)+)+$')['toString']()[_0x1e147b(0x171)](a236_0x1db589)[_0x1e147b(0x18b)](_0x1e147b(0x162));});a236_0x1db589();'use strict';function a236_0x21de(){const _0x254aa1=['defaultBranch','BitbucketApiService','Inject','33461736nojtvW','object','metadata','__esModule','Service','delete','apiBody','14955KfQypt','Tokens','length','NotFoundError','20kChgVW','next','get','toLowerCase','121491kPWuhZ','4560894yikaMY','/repositories/','typedi','\x22&pagelen=','map','api','2648jZyXoV','ApiError','workspace','(((.+)+)+)+$','../../credentials/dto/bitbucket-credentials.dto','../../providers.tokens','214kJUvIY','../repo.class','../../api/bitbucket-api.service','toString','getAll','project','defineProperty','6827380gGucgX','function','1398IQJspm','update','getOwnPropertyDescriptor','constructor','../../../../../constants/errors','427LaGpRS','Repo','private','../../../../../core/errors/api.error','request','post','design:paramtypes','?q=project.key=\x22','../../../../../core/errors/not-found.error','ITEMS_PER_RESPONSE','repositories/','getOne','5025HzMDEa','GitRepoService','push','credentials','put','fromBitbucket','BadRequestError','decorate','ERR_BITBUCKET_MISSING_PROJECT','BitbucketCredentialsDto','values','apply','search','Git'];a236_0x21de=function(){return _0x254aa1;};return a236_0x21de();}var __decorate=this&&this['__decorate']||function(_0x1a7833,_0x3a9a8e,_0x24d23d,_0x25bfb5){const _0x458dac=a236_0x82b0;var _0x583c2a=arguments[_0x458dac(0x199)],_0x2f8857=_0x583c2a<0x3?_0x3a9a8e:_0x25bfb5===null?_0x25bfb5=Object[_0x458dac(0x170)](_0x3a9a8e,_0x24d23d):_0x25bfb5,_0x4c979a;if(typeof Reflect==='object'&&typeof Reflect[_0x458dac(0x186)]===_0x458dac(0x16d))_0x2f8857=Reflect[_0x458dac(0x186)](_0x1a7833,_0x3a9a8e,_0x24d23d,_0x25bfb5);else{for(var _0x479f22=_0x1a7833[_0x458dac(0x199)]-0x1;_0x479f22>=0x0;_0x479f22--)if(_0x4c979a=_0x1a7833[_0x479f22])_0x2f8857=(_0x583c2a<0x3?_0x4c979a(_0x2f8857):_0x583c2a>0x3?_0x4c979a(_0x3a9a8e,_0x24d23d,_0x2f8857):_0x4c979a(_0x3a9a8e,_0x24d23d))||_0x2f8857;}return _0x583c2a>0x3&&_0x2f8857&&Object[_0x458dac(0x16b)](_0x3a9a8e,_0x24d23d,_0x2f8857),_0x2f8857;},__metadata=this&&this['__metadata']||function(_0x5a476b,_0x5a8639){const _0x30c762=a236_0x82b0;if(typeof Reflect===_0x30c762(0x191)&&typeof Reflect[_0x30c762(0x192)]===_0x30c762(0x16d))return Reflect[_0x30c762(0x192)](_0x5a476b,_0x5a8639);},__param=this&&this['__param']||function(_0x5e7bb7,_0x32984a){return function(_0x575256,_0x187075){_0x32984a(_0x575256,_0x187075,_0x5e7bb7);};},BitbucketRepoService_1;Object[a236_0x1f20bc(0x16b)](exports,a236_0x1f20bc(0x193),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a236_0x1f20bc(0x172)),bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a236_0x1f20bc(0x17b)),bitbucket_api_service_1=require(a236_0x1f20bc(0x167)),typedi_1=require(a236_0x1f20bc(0x15b)),api_error_1=require(a236_0x1f20bc(0x176)),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a236_0x1f20bc(0x166)),git_repo_service_1=require('./git-repo.service'),bitbucket_credentials_dto_1=require(a236_0x1f20bc(0x163)),providers_tokens_1=require(a236_0x1f20bc(0x164));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a236_0x1f20bc(0x180)]{constructor(_0x3840b2,_0x54be96){const _0x50e91b=a236_0x1f20bc;super(_0x3840b2),this[_0x50e91b(0x15e)]=_0x3840b2,this[_0x50e91b(0x177)]=_0x3840b2['createRequest'](),this[_0x50e91b(0x16a)]=_0x54be96['project'],this[_0x50e91b(0x161)]=_0x54be96[_0x50e91b(0x161)],this['credentials']=_0x54be96;if(!this[_0x50e91b(0x161)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x50e91b(0x16a)])throw new Error(errors_1[_0x50e91b(0x187)]);}async['create'](_0x50375c){const _0x5d5020=a236_0x1f20bc;try{const {name:_0x23c526}=_0x50375c,_0x361722={'name':_0x50375c['name'],'is_private':_0x50375c[_0x5d5020(0x175)],..._0x50375c[_0x5d5020(0x196)]||{},'project':{'key':this[_0x5d5020(0x16a)]}},_0xf97452=await this['request'][_0x5d5020(0x178)](_0x5d5020(0x1a1)+this[_0x5d5020(0x161)]+'/'+_0x23c526[_0x5d5020(0x19e)](),_0x361722),_0x222239=repo_class_1[_0x5d5020(0x174)]['fromBitbucket'](_0xf97452,this[_0x5d5020(0x15e)],this[_0x5d5020(0x182)]);return _0x50375c['autoInit']&&(await git_internal_1[_0x5d5020(0x18c)]['createEmptyBranch'](_0x222239,_0x50375c[_0x5d5020(0x18d)]||'master','',this['credentials']),_0x222239[_0x5d5020(0x18d)]=_0x50375c[_0x5d5020(0x18d)]||'master'),_0x222239;}catch(_0x289dfc){if(_0x289dfc instanceof api_error_1[_0x5d5020(0x160)])throw _0x289dfc;throw new bad_request_error_1['BadRequestError'](_0x289dfc);}}async[a236_0x1f20bc(0x169)](){const _0x4538ca=a236_0x1f20bc;try{const _0x4f5793=[];let _0x352541,_0x370039=_0x4538ca(0x17d)+this[_0x4538ca(0x161)]+_0x4538ca(0x17a)+this[_0x4538ca(0x16a)]+_0x4538ca(0x15c)+BitbucketRepoService_1[_0x4538ca(0x17c)];do{_0x352541=await this[_0x4538ca(0x177)][_0x4538ca(0x19d)](_0x370039),_0x370039=_0x352541[_0x4538ca(0x19c)],_0x4f5793[_0x4538ca(0x181)](..._0x352541[_0x4538ca(0x189)]);}while(_0x370039);return _0x4f5793[_0x4538ca(0x15d)](_0x382c5e=>repo_class_1[_0x4538ca(0x174)][_0x4538ca(0x184)](_0x382c5e,this[_0x4538ca(0x15e)],this['credentials']));}catch(_0x55b835){if(_0x55b835 instanceof api_error_1[_0x4538ca(0x160)])throw _0x55b835;throw new not_found_error_1[(_0x4538ca(0x19a))](_0x55b835);}}async[a236_0x1f20bc(0x17e)](_0x1a9ae9){const _0x1c5022=a236_0x1f20bc;try{const _0x4270bc=await this['request'][_0x1c5022(0x19d)](_0x1c5022(0x17d)+this[_0x1c5022(0x161)]+'/'+_0x1a9ae9[_0x1c5022(0x19e)]());return repo_class_1[_0x1c5022(0x174)][_0x1c5022(0x184)](_0x4270bc,this[_0x1c5022(0x15e)],this[_0x1c5022(0x182)]);}catch(_0x5b053f){if(_0x5b053f instanceof api_error_1[_0x1c5022(0x160)])throw _0x5b053f;throw new not_found_error_1[(_0x1c5022(0x19a))](_0x5b053f);}}async[a236_0x1f20bc(0x16f)](_0x4d83c1,_0x281b7d){const _0x493c74=a236_0x1f20bc;await this['getOne'](_0x4d83c1);try{const _0x28b466=await this['request'][_0x493c74(0x183)](_0x493c74(0x17d)+this[_0x493c74(0x161)]+'/'+_0x4d83c1[_0x493c74(0x19e)](),_0x281b7d);return repo_class_1[_0x493c74(0x174)][_0x493c74(0x184)](_0x28b466,this[_0x493c74(0x15e)],this[_0x493c74(0x182)]);}catch(_0x1741cf){if(_0x1741cf instanceof api_error_1[_0x493c74(0x160)])throw _0x1741cf;throw new not_found_error_1['NotFoundError'](_0x1741cf);}}async[a236_0x1f20bc(0x195)](_0x4b0739){const _0x1cf252=a236_0x1f20bc;try{await this[_0x1cf252(0x177)][_0x1cf252(0x195)](_0x1cf252(0x17d)+this[_0x1cf252(0x161)]+'/'+_0x4b0739[_0x1cf252(0x19e)]());}catch(_0x75e07c){if(_0x75e07c instanceof api_error_1[_0x1cf252(0x160)])throw _0x75e07c;throw new bad_request_error_1[(_0x1cf252(0x185))](_0x75e07c);}}};function a236_0x82b0(_0x55cdb5,_0x3e8f57){const _0x45d0fc=a236_0x21de();return a236_0x82b0=function(_0x1db589,_0x506799){_0x1db589=_0x1db589-0x15b;let _0x21de97=_0x45d0fc[_0x1db589];return _0x21de97;},a236_0x82b0(_0x55cdb5,_0x3e8f57);}BitbucketRepoService['ITEMS_PER_RESPONSE']=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a236_0x1f20bc(0x194)])(),__param(0x1,(0x0,typedi_1[a236_0x1f20bc(0x18f)])(providers_tokens_1[a236_0x1f20bc(0x198)][a236_0x1f20bc(0x182)])),__metadata(a236_0x1f20bc(0x179),[bitbucket_api_service_1[a236_0x1f20bc(0x18e)],bitbucket_credentials_dto_1[a236_0x1f20bc(0x188)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;