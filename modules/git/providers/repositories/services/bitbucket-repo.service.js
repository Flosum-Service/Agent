const a236_0x5dfe77=a236_0x1211;function a236_0x494c(){const _0xb944ad=['1817654pQRqDi','credentials','apply','2951664VNvITN','222090xLzPSL','length','workspace','push','20799AiRclu','?q=project.key=\x22','ITEMS_PER_RESPONSE','../../providers.tokens','\x22&pagelen=','getOne','BitbucketApiService','1150MMsVeA','Git','object','fromBitbucket','Tokens','../../../../../constants/errors','typedi','private','NotFoundError','project','createEmptyBranch','search','BadRequestError','function','Service','design:paramtypes','Repo','defaultBranch','Inject','823803ugUCaE','put','next','../../../../../core/errors/bad-request.error','create','toString','repositories/','../repo.class','BitbucketCredentialsDto','autoInit','constructor','16639aQZSEd','BitbucketRepoService','decorate','../../credentials/dto/bitbucket-credentials.dto','toLowerCase','ERR_BITBUCKET_MISSING_WORKSPACE','3592KZKrFZ','../../../internal/git.internal','request','master','247840IHKDpK','ApiError','/repositories/','getAll','__decorate','defineProperty','get','api','delete','5CkwlHm','(((.+)+)+)+$','metadata','values','__metadata','../../../../../core/errors/api.error','./git-repo.service','map'];a236_0x494c=function(){return _0xb944ad;};return a236_0x494c();}function a236_0x1211(_0x2b5d17,_0x4ae36e){const _0x3f60e7=a236_0x494c();return a236_0x1211=function(_0xc418bc,_0x3039ec){_0xc418bc=_0xc418bc-0xd2;let _0x494c56=_0x3f60e7[_0xc418bc];return _0x494c56;},a236_0x1211(_0x2b5d17,_0x4ae36e);}(function(_0x20e3ab,_0x2a88c1){const _0x20dc30=a236_0x1211,_0x2eab93=_0x20e3ab();while(!![]){try{const _0x4040c9=-parseInt(_0x20dc30(0xd4))/0x1+parseInt(_0x20dc30(0x118))/0x2+parseInt(_0x20dc30(0xf2))/0x3+-parseInt(_0x20dc30(0x107))/0x4+-parseInt(_0x20dc30(0x110))/0x5*(-parseInt(_0x20dc30(0xd3))/0x6)+-parseInt(_0x20dc30(0xfd))/0x7*(parseInt(_0x20dc30(0x103))/0x8)+parseInt(_0x20dc30(0xd8))/0x9*(parseInt(_0x20dc30(0xdf))/0xa);if(_0x4040c9===_0x2a88c1)break;else _0x2eab93['push'](_0x2eab93['shift']());}catch(_0x2daa81){_0x2eab93['push'](_0x2eab93['shift']());}}}(a236_0x494c,0x8fff6));const a236_0x3039ec=(function(){let _0x15d08e=!![];return function(_0x2e6273,_0x1d134a){const _0x4a4a95=_0x15d08e?function(){const _0x48abdb=a236_0x1211;if(_0x1d134a){const _0x5dfdab=_0x1d134a[_0x48abdb(0xd2)](_0x2e6273,arguments);return _0x1d134a=null,_0x5dfdab;}}:function(){};return _0x15d08e=![],_0x4a4a95;};}()),a236_0xc418bc=a236_0x3039ec(this,function(){const _0x200e9b=a236_0x1211;return a236_0xc418bc[_0x200e9b(0xf7)]()[_0x200e9b(0xea)](_0x200e9b(0x111))[_0x200e9b(0xf7)]()[_0x200e9b(0xfc)](a236_0xc418bc)[_0x200e9b(0xea)](_0x200e9b(0x111));});a236_0xc418bc();'use strict';var __decorate=this&&this[a236_0x5dfe77(0x10b)]||function(_0x2ac806,_0x3fc316,_0xf0fd3c,_0x7dc032){const _0x3dce3f=a236_0x5dfe77;var _0x34ee96=arguments[_0x3dce3f(0xd5)],_0x2ae1a9=_0x34ee96<0x3?_0x3fc316:_0x7dc032===null?_0x7dc032=Object['getOwnPropertyDescriptor'](_0x3fc316,_0xf0fd3c):_0x7dc032,_0xd0c900;if(typeof Reflect==='object'&&typeof Reflect[_0x3dce3f(0xff)]===_0x3dce3f(0xec))_0x2ae1a9=Reflect[_0x3dce3f(0xff)](_0x2ac806,_0x3fc316,_0xf0fd3c,_0x7dc032);else{for(var _0x21de7c=_0x2ac806['length']-0x1;_0x21de7c>=0x0;_0x21de7c--)if(_0xd0c900=_0x2ac806[_0x21de7c])_0x2ae1a9=(_0x34ee96<0x3?_0xd0c900(_0x2ae1a9):_0x34ee96>0x3?_0xd0c900(_0x3fc316,_0xf0fd3c,_0x2ae1a9):_0xd0c900(_0x3fc316,_0xf0fd3c))||_0x2ae1a9;}return _0x34ee96>0x3&&_0x2ae1a9&&Object[_0x3dce3f(0x10c)](_0x3fc316,_0xf0fd3c,_0x2ae1a9),_0x2ae1a9;},__metadata=this&&this[a236_0x5dfe77(0x114)]||function(_0x4b122c,_0x4b579f){const _0x540b10=a236_0x5dfe77;if(typeof Reflect===_0x540b10(0xe1)&&typeof Reflect[_0x540b10(0x112)]===_0x540b10(0xec))return Reflect['metadata'](_0x4b122c,_0x4b579f);},__param=this&&this['__param']||function(_0x135d8b,_0x30d5d9){return function(_0x5283b4,_0x391fbf){_0x30d5d9(_0x5283b4,_0x391fbf,_0x135d8b);};},BitbucketRepoService_1;Object[a236_0x5dfe77(0x10c)](exports,'__esModule',{'value':!![]}),exports[a236_0x5dfe77(0xfe)]=void 0x0;const errors_1=require(a236_0x5dfe77(0xe4)),bad_request_error_1=require(a236_0x5dfe77(0xf5)),not_found_error_1=require('../../../../../core/errors/not-found.error'),bitbucket_api_service_1=require('../../api/bitbucket-api.service'),typedi_1=require(a236_0x5dfe77(0xe5)),api_error_1=require(a236_0x5dfe77(0x115)),git_internal_1=require(a236_0x5dfe77(0x104)),repo_class_1=require(a236_0x5dfe77(0xf9)),git_repo_service_1=require(a236_0x5dfe77(0x116)),bitbucket_credentials_dto_1=require(a236_0x5dfe77(0x100)),providers_tokens_1=require(a236_0x5dfe77(0xdb));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x513057,_0x55cdf3){const _0x252252=a236_0x5dfe77;super(_0x513057),this[_0x252252(0x10e)]=_0x513057,this[_0x252252(0x105)]=_0x513057['createRequest'](),this[_0x252252(0xe8)]=_0x55cdf3[_0x252252(0xe8)],this[_0x252252(0xd6)]=_0x55cdf3[_0x252252(0xd6)],this[_0x252252(0x119)]=_0x55cdf3;if(!this[_0x252252(0xd6)])throw new Error(errors_1[_0x252252(0x102)]);if(!this[_0x252252(0xe8)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_PROJECT']);}async[a236_0x5dfe77(0xf6)](_0xdc7865){const _0x39ebba=a236_0x5dfe77;try{const {name:_0x361261}=_0xdc7865,_0x230cbe={'name':_0xdc7865['name'],'is_private':_0xdc7865[_0x39ebba(0xe6)],..._0xdc7865['apiBody']||{},'project':{'key':this[_0x39ebba(0xe8)]}},_0x4455b3=await this[_0x39ebba(0x105)]['post'](_0x39ebba(0x109)+this[_0x39ebba(0xd6)]+'/'+_0x361261[_0x39ebba(0x101)](),_0x230cbe),_0x54baa8=repo_class_1[_0x39ebba(0xef)][_0x39ebba(0xe2)](_0x4455b3,this[_0x39ebba(0x10e)],this[_0x39ebba(0x119)]);return _0xdc7865[_0x39ebba(0xfb)]&&(await git_internal_1[_0x39ebba(0xe0)][_0x39ebba(0xe9)](_0x54baa8,_0xdc7865[_0x39ebba(0xf0)]||_0x39ebba(0x106),'',this['credentials']),_0x54baa8['defaultBranch']=_0xdc7865[_0x39ebba(0xf0)]||'master'),_0x54baa8;}catch(_0x5dd654){if(_0x5dd654 instanceof api_error_1[_0x39ebba(0x108)])throw _0x5dd654;throw new bad_request_error_1[(_0x39ebba(0xeb))](_0x5dd654);}}async[a236_0x5dfe77(0x10a)](){const _0x4d2079=a236_0x5dfe77;try{const _0x21cefe=[];let _0x362ee2,_0x2abc7d=_0x4d2079(0xf8)+this[_0x4d2079(0xd6)]+_0x4d2079(0xd9)+this['project']+_0x4d2079(0xdc)+BitbucketRepoService_1[_0x4d2079(0xda)];do{_0x362ee2=await this[_0x4d2079(0x105)]['get'](_0x2abc7d),_0x2abc7d=_0x362ee2[_0x4d2079(0xf4)],_0x21cefe[_0x4d2079(0xd7)](..._0x362ee2[_0x4d2079(0x113)]);}while(_0x2abc7d);return _0x21cefe[_0x4d2079(0x117)](_0x2fe09c=>repo_class_1[_0x4d2079(0xef)]['fromBitbucket'](_0x2fe09c,this[_0x4d2079(0x10e)],this['credentials']));}catch(_0x5efa92){if(_0x5efa92 instanceof api_error_1[_0x4d2079(0x108)])throw _0x5efa92;throw new not_found_error_1[(_0x4d2079(0xe7))](_0x5efa92);}}async[a236_0x5dfe77(0xdd)](_0x52c32c){const _0x1a0d6b=a236_0x5dfe77;try{const _0x15a8de=await this[_0x1a0d6b(0x105)][_0x1a0d6b(0x10d)]('repositories/'+this[_0x1a0d6b(0xd6)]+'/'+_0x52c32c[_0x1a0d6b(0x101)]());return repo_class_1[_0x1a0d6b(0xef)][_0x1a0d6b(0xe2)](_0x15a8de,this[_0x1a0d6b(0x10e)],this['credentials']);}catch(_0x202af4){if(_0x202af4 instanceof api_error_1[_0x1a0d6b(0x108)])throw _0x202af4;throw new not_found_error_1[(_0x1a0d6b(0xe7))](_0x202af4);}}async['update'](_0x10d9d0,_0x5f2d5f){const _0x505509=a236_0x5dfe77;await this['getOne'](_0x10d9d0);try{const _0x17ba19=await this[_0x505509(0x105)][_0x505509(0xf3)](_0x505509(0xf8)+this['workspace']+'/'+_0x10d9d0['toLowerCase'](),_0x5f2d5f);return repo_class_1['Repo']['fromBitbucket'](_0x17ba19,this[_0x505509(0x10e)],this[_0x505509(0x119)]);}catch(_0x23a689){if(_0x23a689 instanceof api_error_1[_0x505509(0x108)])throw _0x23a689;throw new not_found_error_1[(_0x505509(0xe7))](_0x23a689);}}async['delete'](_0x10cae0){const _0x549cce=a236_0x5dfe77;try{await this[_0x549cce(0x105)][_0x549cce(0x10f)](_0x549cce(0xf8)+this[_0x549cce(0xd6)]+'/'+_0x10cae0[_0x549cce(0x101)]());}catch(_0x554239){if(_0x554239 instanceof api_error_1[_0x549cce(0x108)])throw _0x554239;throw new bad_request_error_1['BadRequestError'](_0x554239);}}};BitbucketRepoService[a236_0x5dfe77(0xda)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a236_0x5dfe77(0xed)])(),__param(0x1,(0x0,typedi_1[a236_0x5dfe77(0xf1)])(providers_tokens_1[a236_0x5dfe77(0xe3)][a236_0x5dfe77(0x119)])),__metadata(a236_0x5dfe77(0xee),[bitbucket_api_service_1[a236_0x5dfe77(0xde)],bitbucket_credentials_dto_1[a236_0x5dfe77(0xfa)]])],BitbucketRepoService),exports[a236_0x5dfe77(0xfe)]=BitbucketRepoService;