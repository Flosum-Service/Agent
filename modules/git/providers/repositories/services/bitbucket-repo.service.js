const a237_0x620d51=a237_0x4f62;function a237_0x4f62(_0x1f6c1b,_0x2a6ecc){const _0x2efe0a=a237_0x1a1c();return a237_0x4f62=function(_0xb49cdd,_0x271990){_0xb49cdd=_0xb49cdd-0x1d5;let _0x1a1c61=_0x2efe0a[_0xb49cdd];return _0x1a1c61;},a237_0x4f62(_0x1f6c1b,_0x2a6ecc);}function a237_0x1a1c(){const _0x4b1e38=['BitbucketCredentialsDto','request','../../../../../constants/errors','post','toString','__param','master','put','Tokens','get','fromBitbucket','9576376Wnofqi','values','../../../../../core/errors/not-found.error','BitbucketRepoService','./git-repo.service','delete','autoInit','../../providers.tokens','__esModule','GitRepoService','decorate','object','metadata','806268UJrnvI','BadRequestError','../../../../../core/errors/bad-request.error','credentials','1158012vEbbGq','Repo','workspace','ITEMS_PER_RESPONSE','NotFoundError','defaultBranch','next','__metadata','3132275kxMoCz','/repositories/','../../../../../core/errors/api.error','\x22&pagelen=','1803495Skwveg','../../../internal/git.internal','../../credentials/dto/bitbucket-credentials.dto','project','createEmptyBranch','api','search','?q=project.key=\x22','constructor','__decorate','length','design:paramtypes','update','Inject','(((.+)+)+)+$','typedi','name','ApiError','ERR_BITBUCKET_MISSING_PROJECT','Service','createRequest','toLowerCase','defineProperty','658nXyUhl','../../api/bitbucket-api.service','getOne','map','repositories/','294730lIOiQz','BitbucketApiService','create','47010AeJCPz'];a237_0x1a1c=function(){return _0x4b1e38;};return a237_0x1a1c();}(function(_0x251274,_0x114057){const _0x8bca03=a237_0x4f62,_0x25af0b=_0x251274();while(!![]){try{const _0x4d5e97=-parseInt(_0x8bca03(0x1f9))/0x1+-parseInt(_0x8bca03(0x1dd))/0x2+parseInt(_0x8bca03(0x209))/0x3+-parseInt(_0x8bca03(0x1fd))/0x4+parseInt(_0x8bca03(0x205))/0x5+parseInt(_0x8bca03(0x1e0))/0x6*(-parseInt(_0x8bca03(0x1d8))/0x7)+parseInt(_0x8bca03(0x1ec))/0x8;if(_0x4d5e97===_0x114057)break;else _0x25af0b['push'](_0x25af0b['shift']());}catch(_0x4c8f5b){_0x25af0b['push'](_0x25af0b['shift']());}}}(a237_0x1a1c,0x6ca71));const a237_0x271990=(function(){let _0x5c5d5b=!![];return function(_0x5dde6b,_0x9ccb14){const _0x428877=_0x5c5d5b?function(){if(_0x9ccb14){const _0x5d5820=_0x9ccb14['apply'](_0x5dde6b,arguments);return _0x9ccb14=null,_0x5d5820;}}:function(){};return _0x5c5d5b=![],_0x428877;};}()),a237_0xb49cdd=a237_0x271990(this,function(){const _0x3a26ef=a237_0x4f62;return a237_0xb49cdd[_0x3a26ef(0x1e5)]()[_0x3a26ef(0x20f)]('(((.+)+)+)+$')['toString']()[_0x3a26ef(0x211)](a237_0xb49cdd)['search'](_0x3a26ef(0x217));});a237_0xb49cdd();'use strict';var __decorate=this&&this[a237_0x620d51(0x212)]||function(_0x1b3c18,_0xfd6e41,_0x26630b,_0xe85d62){const _0x56375e=a237_0x620d51;var _0x148d1a=arguments[_0x56375e(0x213)],_0x329c87=_0x148d1a<0x3?_0xfd6e41:_0xe85d62===null?_0xe85d62=Object['getOwnPropertyDescriptor'](_0xfd6e41,_0x26630b):_0xe85d62,_0x162610;if(typeof Reflect===_0x56375e(0x1f7)&&typeof Reflect[_0x56375e(0x1f6)]==='function')_0x329c87=Reflect[_0x56375e(0x1f6)](_0x1b3c18,_0xfd6e41,_0x26630b,_0xe85d62);else{for(var _0x4f5292=_0x1b3c18['length']-0x1;_0x4f5292>=0x0;_0x4f5292--)if(_0x162610=_0x1b3c18[_0x4f5292])_0x329c87=(_0x148d1a<0x3?_0x162610(_0x329c87):_0x148d1a>0x3?_0x162610(_0xfd6e41,_0x26630b,_0x329c87):_0x162610(_0xfd6e41,_0x26630b))||_0x329c87;}return _0x148d1a>0x3&&_0x329c87&&Object[_0x56375e(0x1d7)](_0xfd6e41,_0x26630b,_0x329c87),_0x329c87;},__metadata=this&&this[a237_0x620d51(0x204)]||function(_0x355b53,_0x41637d){const _0x909994=a237_0x620d51;if(typeof Reflect==='object'&&typeof Reflect[_0x909994(0x1f8)]==='function')return Reflect[_0x909994(0x1f8)](_0x355b53,_0x41637d);},__param=this&&this[a237_0x620d51(0x1e6)]||function(_0x165ea3,_0x530c21){return function(_0x29109c,_0x3d1ef0){_0x530c21(_0x29109c,_0x3d1ef0,_0x165ea3);};},BitbucketRepoService_1;Object[a237_0x620d51(0x1d7)](exports,a237_0x620d51(0x1f4),{'value':!![]}),exports[a237_0x620d51(0x1ef)]=void 0x0;const errors_1=require(a237_0x620d51(0x1e3)),bad_request_error_1=require(a237_0x620d51(0x1fb)),not_found_error_1=require(a237_0x620d51(0x1ee)),bitbucket_api_service_1=require(a237_0x620d51(0x1d9)),typedi_1=require(a237_0x620d51(0x218)),api_error_1=require(a237_0x620d51(0x207)),git_internal_1=require(a237_0x620d51(0x20a)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a237_0x620d51(0x1f0)),bitbucket_credentials_dto_1=require(a237_0x620d51(0x20b)),providers_tokens_1=require(a237_0x620d51(0x1f3));let BitbucketRepoService=BitbucketRepoService_1=class BitbucketRepoService extends git_repo_service_1[a237_0x620d51(0x1f5)]{constructor(_0x253b35,_0x1ae18b){const _0x41748b=a237_0x620d51;super(_0x253b35),this['api']=_0x253b35,this['request']=_0x253b35[_0x41748b(0x1d5)](),this[_0x41748b(0x20c)]=_0x1ae18b[_0x41748b(0x20c)],this[_0x41748b(0x1ff)]=_0x1ae18b[_0x41748b(0x1ff)],this['credentials']=_0x1ae18b;if(!this[_0x41748b(0x1ff)])throw new Error(errors_1['ERR_BITBUCKET_MISSING_WORKSPACE']);if(!this[_0x41748b(0x20c)])throw new Error(errors_1[_0x41748b(0x21b)]);}async[a237_0x620d51(0x1df)](_0x2bcf1b){const _0xbcb247=a237_0x620d51;try{const {name:_0x272645}=_0x2bcf1b,_0x392840={'name':_0x2bcf1b[_0xbcb247(0x219)],'is_private':_0x2bcf1b['private'],..._0x2bcf1b['apiBody']||{},'project':{'key':this['project']}},_0x3c488d=await this['request'][_0xbcb247(0x1e4)](_0xbcb247(0x206)+this[_0xbcb247(0x1ff)]+'/'+_0x272645[_0xbcb247(0x1d6)](),_0x392840),_0x3095f6=repo_class_1['Repo'][_0xbcb247(0x1eb)](_0x3c488d,this[_0xbcb247(0x20e)],this['credentials']);return _0x2bcf1b[_0xbcb247(0x1f2)]&&(await git_internal_1['Git'][_0xbcb247(0x20d)](_0x3095f6,_0x2bcf1b[_0xbcb247(0x202)]||'master','',this[_0xbcb247(0x1fc)]),_0x3095f6[_0xbcb247(0x202)]=_0x2bcf1b[_0xbcb247(0x202)]||_0xbcb247(0x1e7)),_0x3095f6;}catch(_0x3a353a){if(_0x3a353a instanceof api_error_1[_0xbcb247(0x21a)])throw _0x3a353a;throw new bad_request_error_1[(_0xbcb247(0x1fa))](_0x3a353a);}}async['getAll'](){const _0x510599=a237_0x620d51;try{const _0x1415cd=[];let _0x71bb55,_0xfe4a07='repositories/'+this['workspace']+_0x510599(0x210)+this[_0x510599(0x20c)]+_0x510599(0x208)+BitbucketRepoService_1[_0x510599(0x200)];do{_0x71bb55=await this[_0x510599(0x1e2)][_0x510599(0x1ea)](_0xfe4a07),_0xfe4a07=_0x71bb55[_0x510599(0x203)],_0x1415cd['push'](..._0x71bb55[_0x510599(0x1ed)]);}while(_0xfe4a07);return _0x1415cd[_0x510599(0x1db)](_0x47dcdc=>repo_class_1['Repo'][_0x510599(0x1eb)](_0x47dcdc,this['api'],this[_0x510599(0x1fc)]));}catch(_0x5d4d30){if(_0x5d4d30 instanceof api_error_1[_0x510599(0x21a)])throw _0x5d4d30;throw new not_found_error_1[(_0x510599(0x201))](_0x5d4d30);}}async[a237_0x620d51(0x1da)](_0x1a9742){const _0x4132ab=a237_0x620d51;try{const _0x83d2ff=await this['request'][_0x4132ab(0x1ea)](_0x4132ab(0x1dc)+this[_0x4132ab(0x1ff)]+'/'+_0x1a9742['toLowerCase']());return repo_class_1[_0x4132ab(0x1fe)][_0x4132ab(0x1eb)](_0x83d2ff,this['api'],this[_0x4132ab(0x1fc)]);}catch(_0x1efab8){if(_0x1efab8 instanceof api_error_1[_0x4132ab(0x21a)])throw _0x1efab8;throw new not_found_error_1[(_0x4132ab(0x201))](_0x1efab8);}}async[a237_0x620d51(0x215)](_0x18d39a,_0x2b1490){const _0x149f90=a237_0x620d51;await this['getOne'](_0x18d39a);try{const _0x2eb168=await this[_0x149f90(0x1e2)][_0x149f90(0x1e8)](_0x149f90(0x1dc)+this['workspace']+'/'+_0x18d39a[_0x149f90(0x1d6)](),_0x2b1490);return repo_class_1[_0x149f90(0x1fe)][_0x149f90(0x1eb)](_0x2eb168,this['api'],this[_0x149f90(0x1fc)]);}catch(_0x252065){if(_0x252065 instanceof api_error_1[_0x149f90(0x21a)])throw _0x252065;throw new not_found_error_1['NotFoundError'](_0x252065);}}async[a237_0x620d51(0x1f1)](_0x14a561){const _0x10715a=a237_0x620d51;try{await this['request'][_0x10715a(0x1f1)](_0x10715a(0x1dc)+this[_0x10715a(0x1ff)]+'/'+_0x14a561['toLowerCase']());}catch(_0x1525be){if(_0x1525be instanceof api_error_1[_0x10715a(0x21a)])throw _0x1525be;throw new bad_request_error_1[(_0x10715a(0x1fa))](_0x1525be);}}};BitbucketRepoService[a237_0x620d51(0x200)]=0x64,BitbucketRepoService=BitbucketRepoService_1=__decorate([(0x0,typedi_1[a237_0x620d51(0x21c)])(),__param(0x1,(0x0,typedi_1[a237_0x620d51(0x216)])(providers_tokens_1[a237_0x620d51(0x1e9)][a237_0x620d51(0x1fc)])),__metadata(a237_0x620d51(0x214),[bitbucket_api_service_1[a237_0x620d51(0x1de)],bitbucket_credentials_dto_1[a237_0x620d51(0x1e1)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;