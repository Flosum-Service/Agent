function a166_0x41d2(_0x29028f,_0x1c6179){const _0x531a25=a166_0x595e();return a166_0x41d2=function(_0x126502,_0x5bed12){_0x126502=_0x126502-0x10f;let _0x595e4f=_0x531a25[_0x126502];return _0x595e4f;},a166_0x41d2(_0x29028f,_0x1c6179);}function a166_0x595e(){const _0x1e629d=['search','BadRequestError','NotFoundError','defaultBranch','237028DEltLG','constructor','function','Service','push','api','request','3761492GzyGgJ','ERR_BITBUCKET_MISSING_WORKSPACE','(((.+)+)+)+$','toString','design:paramtypes','351378qVovQA','Git','6460584YoApRs','202760kNiZJp','decorate','3962bwvtAU','apiBody','../../../../../core/errors/not-found.error','getOne','Tokens','Inject','./git-repo.service','apply','toLowerCase','getAll','repositories/','defineProperty','private','autoInit','master','getOwnPropertyDescriptor','post','typedi','6iEoRIu','next','BitbucketRepoService','/repositories/','fromBitbucket','createRequest','Repo','__metadata','workspace','../../providers.tokens','216MTRPtq','metadata','get','project','../../../../../core/errors/bad-request.error','../../api/bitbucket-api.service','BitbucketCredentialsDto','name','ERR_BITBUCKET_MISSING_PROJECT','map','__decorate','1834585jKMlbi','ApiError','createEmptyBranch','../../credentials/dto/bitbucket-credentials.dto','length','__esModule','276LoGZMw','delete','../../../internal/git.internal','credentials','object'];a166_0x595e=function(){return _0x1e629d;};return a166_0x595e();}const a166_0x25c45d=a166_0x41d2;(function(_0x316ab7,_0x4bb9c1){const _0x30d000=a166_0x41d2,_0x2cd58b=_0x316ab7();while(!![]){try{const _0x9dee27=parseInt(_0x30d000(0x12b))/0x1+-parseInt(_0x30d000(0x130))/0x2*(parseInt(_0x30d000(0x116))/0x3)+-parseInt(_0x30d000(0x11f))/0x4+-parseInt(_0x30d000(0x110))/0x5*(parseInt(_0x30d000(0x142))/0x6)+-parseInt(_0x30d000(0x126))/0x7+parseInt(_0x30d000(0x12d))/0x8+-parseInt(_0x30d000(0x14c))/0x9*(-parseInt(_0x30d000(0x12e))/0xa);if(_0x9dee27===_0x4bb9c1)break;else _0x2cd58b['push'](_0x2cd58b['shift']());}catch(_0x20ad54){_0x2cd58b['push'](_0x2cd58b['shift']());}}}(a166_0x595e,0x7a051));const a166_0x5bed12=(function(){let _0x41075e=!![];return function(_0x19691e,_0x4671bf){const _0x16ec07=_0x41075e?function(){const _0x582116=a166_0x41d2;if(_0x4671bf){const _0x163e21=_0x4671bf[_0x582116(0x137)](_0x19691e,arguments);return _0x4671bf=null,_0x163e21;}}:function(){};return _0x41075e=![],_0x16ec07;};}()),a166_0x126502=a166_0x5bed12(this,function(){const _0x42e350=a166_0x41d2;return a166_0x126502[_0x42e350(0x129)]()[_0x42e350(0x11b)](_0x42e350(0x128))[_0x42e350(0x129)]()[_0x42e350(0x120)](a166_0x126502)[_0x42e350(0x11b)](_0x42e350(0x128));});a166_0x126502();'use strict';var __decorate=this&&this[a166_0x25c45d(0x10f)]||function(_0x58de9a,_0x3cb13a,_0x2ddd9e,_0x1fa648){const _0x397acf=a166_0x25c45d;var _0x1916a6=arguments[_0x397acf(0x114)],_0x5df932=_0x1916a6<0x3?_0x3cb13a:_0x1fa648===null?_0x1fa648=Object[_0x397acf(0x13f)](_0x3cb13a,_0x2ddd9e):_0x1fa648,_0xc5fc1c;if(typeof Reflect===_0x397acf(0x11a)&&typeof Reflect[_0x397acf(0x12f)]==='function')_0x5df932=Reflect['decorate'](_0x58de9a,_0x3cb13a,_0x2ddd9e,_0x1fa648);else{for(var _0x567926=_0x58de9a[_0x397acf(0x114)]-0x1;_0x567926>=0x0;_0x567926--)if(_0xc5fc1c=_0x58de9a[_0x567926])_0x5df932=(_0x1916a6<0x3?_0xc5fc1c(_0x5df932):_0x1916a6>0x3?_0xc5fc1c(_0x3cb13a,_0x2ddd9e,_0x5df932):_0xc5fc1c(_0x3cb13a,_0x2ddd9e))||_0x5df932;}return _0x1916a6>0x3&&_0x5df932&&Object[_0x397acf(0x13b)](_0x3cb13a,_0x2ddd9e,_0x5df932),_0x5df932;},__metadata=this&&this[a166_0x25c45d(0x149)]||function(_0x22b26c,_0x30b637){const _0x28df2c=a166_0x25c45d;if(typeof Reflect===_0x28df2c(0x11a)&&typeof Reflect[_0x28df2c(0x14d)]===_0x28df2c(0x121))return Reflect[_0x28df2c(0x14d)](_0x22b26c,_0x30b637);},__param=this&&this['__param']||function(_0x35a421,_0x45a7c8){return function(_0x5d7388,_0x342408){_0x45a7c8(_0x5d7388,_0x342408,_0x35a421);};};Object[a166_0x25c45d(0x13b)](exports,a166_0x25c45d(0x115),{'value':!![]}),exports[a166_0x25c45d(0x144)]=void 0x0;const errors_1=require('../../../../../constants/errors'),bad_request_error_1=require(a166_0x25c45d(0x150)),not_found_error_1=require(a166_0x25c45d(0x132)),bitbucket_api_service_1=require(a166_0x25c45d(0x151)),typedi_1=require(a166_0x25c45d(0x141)),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a166_0x25c45d(0x118)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a166_0x25c45d(0x136)),bitbucket_credentials_dto_1=require(a166_0x25c45d(0x113)),providers_tokens_1=require(a166_0x25c45d(0x14b));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x30e587,_0xf521c2){const _0x5b1341=a166_0x25c45d;super(_0x30e587),this['api']=_0x30e587,this['request']=_0x30e587[_0x5b1341(0x147)](),this[_0x5b1341(0x14f)]=_0xf521c2['project'],this[_0x5b1341(0x14a)]=_0xf521c2[_0x5b1341(0x14a)],this[_0x5b1341(0x119)]=_0xf521c2;if(!this['workspace'])throw new Error(errors_1[_0x5b1341(0x127)]);if(!this[_0x5b1341(0x14f)])throw new Error(errors_1[_0x5b1341(0x154)]);}async['create'](_0x2729b7){const _0x1d1891=a166_0x25c45d;try{const {name:_0x53247e}=_0x2729b7,_0x4dd3fc={'name':_0x2729b7[_0x1d1891(0x153)],'is_private':_0x2729b7[_0x1d1891(0x13c)],..._0x2729b7[_0x1d1891(0x131)]||{},'project':{'key':this['project']}},_0x10e95c=await this[_0x1d1891(0x125)][_0x1d1891(0x140)](_0x1d1891(0x145)+this[_0x1d1891(0x14a)]+'/'+_0x53247e['toLowerCase'](),_0x4dd3fc),_0x54d600=repo_class_1['Repo'][_0x1d1891(0x146)](_0x10e95c,this[_0x1d1891(0x124)],this[_0x1d1891(0x119)]);return _0x2729b7[_0x1d1891(0x13d)]&&(await git_internal_1[_0x1d1891(0x12c)][_0x1d1891(0x112)](_0x54d600,_0x2729b7[_0x1d1891(0x11e)]||_0x1d1891(0x13e),'',this[_0x1d1891(0x119)]),_0x54d600[_0x1d1891(0x11e)]=_0x2729b7['defaultBranch']||_0x1d1891(0x13e)),_0x54d600;}catch(_0x35b846){if(_0x35b846 instanceof api_error_1[_0x1d1891(0x111)])throw _0x35b846;throw new bad_request_error_1[(_0x1d1891(0x11c))](_0x35b846);}}async[a166_0x25c45d(0x139)](){const _0x5d5199=a166_0x25c45d;try{const _0x2aa52f=[];let _0x2a8763;do{_0x2a8763=await this['request'][_0x5d5199(0x14e)](_0x2a8763?_0x2a8763[_0x5d5199(0x143)]:'repositories/'+this[_0x5d5199(0x14a)]),_0x2aa52f[_0x5d5199(0x123)](..._0x2a8763['values']);}while(_0x2a8763[_0x5d5199(0x143)]);return _0x2aa52f[_0x5d5199(0x155)](_0x1197b7=>repo_class_1[_0x5d5199(0x148)][_0x5d5199(0x146)](_0x1197b7,this[_0x5d5199(0x124)],this[_0x5d5199(0x119)]));}catch(_0x57e189){if(_0x57e189 instanceof api_error_1[_0x5d5199(0x111)])throw _0x57e189;throw new not_found_error_1[(_0x5d5199(0x11d))](_0x57e189);}}async[a166_0x25c45d(0x133)](_0x2d7b4a){const _0x42c44c=a166_0x25c45d;try{const _0x422837=await this['request']['get'](_0x42c44c(0x13a)+this[_0x42c44c(0x14a)]+'/'+_0x2d7b4a['toLowerCase']());return repo_class_1[_0x42c44c(0x148)][_0x42c44c(0x146)](_0x422837,this[_0x42c44c(0x124)],this[_0x42c44c(0x119)]);}catch(_0x579168){if(_0x579168 instanceof api_error_1['ApiError'])throw _0x579168;throw new not_found_error_1['NotFoundError'](_0x579168);}}async['update'](_0x4d3fb4,_0x19766c){const _0x1e413d=a166_0x25c45d;await this['getOne'](_0x4d3fb4);try{const _0x4785fc=await this[_0x1e413d(0x125)]['put'](_0x1e413d(0x13a)+this[_0x1e413d(0x14a)]+'/'+_0x4d3fb4['toLowerCase'](),_0x19766c);return repo_class_1['Repo']['fromBitbucket'](_0x4785fc,this[_0x1e413d(0x124)],this[_0x1e413d(0x119)]);}catch(_0x254d82){if(_0x254d82 instanceof api_error_1[_0x1e413d(0x111)])throw _0x254d82;throw new not_found_error_1[(_0x1e413d(0x11d))](_0x254d82);}}async[a166_0x25c45d(0x117)](_0x8c2a88){const _0x4c3af4=a166_0x25c45d;try{await this[_0x4c3af4(0x125)][_0x4c3af4(0x117)]('repositories/'+this[_0x4c3af4(0x14a)]+'/'+_0x8c2a88[_0x4c3af4(0x138)]());}catch(_0x386a67){if(_0x386a67 instanceof api_error_1[_0x4c3af4(0x111)])throw _0x386a67;throw new bad_request_error_1['BadRequestError'](_0x386a67);}}};BitbucketRepoService=__decorate([(0x0,typedi_1[a166_0x25c45d(0x122)])(),__param(0x1,(0x0,typedi_1[a166_0x25c45d(0x135)])(providers_tokens_1[a166_0x25c45d(0x134)][a166_0x25c45d(0x119)])),__metadata(a166_0x25c45d(0x12a),[bitbucket_api_service_1['BitbucketApiService'],bitbucket_credentials_dto_1[a166_0x25c45d(0x152)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;