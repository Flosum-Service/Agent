function a206_0x21c1(_0x56ea3a,_0x1f0611){const _0x48c9b4=a206_0x60d9();return a206_0x21c1=function(_0x4bd531,_0x49930e){_0x4bd531=_0x4bd531-0x1dc;let _0x60d9b0=_0x48c9b4[_0x4bd531];return _0x60d9b0;},a206_0x21c1(_0x56ea3a,_0x1f0611);}function a206_0x60d9(){const _0x49ea62=['BitbucketServerApiService','apiUrl','defineProperty','length','/default-branch','(((.+)+)+)+$','Tokens','nextPageStart','../repo.class','get','delete','getAll','metadata','joinURL','credentials','search','54726cPaefV','Inject','./git-repo.service','10znWLbF','1131648rFQcyo','Service','defaults','873075tYXMKZ','BitbucketServerRepoService','defaultBranch','values','getOne','../../../../../core/errors/api.error','784UDRWSI','../../../../shared/utils','BitbucketServerCredentialsDto','autoInit','api','isDefault','baseURL','displayId','99874oYITyX','find','typedi','__decorate','GitRepoService','isLastPage','/repos','../../api/bitbucket-server-api.service','__param','project','__metadata','object','function','3392zDpZso','__esModule','ApiError','name','BadRequestError','../../../internal/git.internal','apiBody','../../../../../core/errors/not-found.error','5508ADRBSx','post','master','getOwnPropertyDescriptor','/projects/','NotFoundError','../../credentials/dto/bitbucket-server-credentials.dto','../../../../../core/errors/bad-request.error','request','106580RlzkTU','create','push','/repos/','projects/','decorate','design:paramtypes','then','/branches','toString','fromBitbucketServer','1111CQwaFi','../../providers.tokens','Repo','1653225ZRzzsK'];a206_0x60d9=function(){return _0x49ea62;};return a206_0x60d9();}const a206_0x1189e0=a206_0x21c1;(function(_0x515532,_0x2e0352){const _0x21cbdb=a206_0x21c1,_0x2e76a1=_0x515532();while(!![]){try{const _0x525fb1=parseInt(_0x21cbdb(0x21e))/0x1*(-parseInt(_0x21cbdb(0x20c))/0x2)+-parseInt(_0x21cbdb(0x1f8))/0x3+-parseInt(_0x21cbdb(0x20d))/0x4+parseInt(_0x21cbdb(0x210))/0x5+parseInt(_0x21cbdb(0x209))/0x6*(parseInt(_0x21cbdb(0x216))/0x7)+-parseInt(_0x21cbdb(0x22b))/0x8*(parseInt(_0x21cbdb(0x1e1))/0x9)+-parseInt(_0x21cbdb(0x1ea))/0xa*(-parseInt(_0x21cbdb(0x1f5))/0xb);if(_0x525fb1===_0x2e0352)break;else _0x2e76a1['push'](_0x2e76a1['shift']());}catch(_0x26b679){_0x2e76a1['push'](_0x2e76a1['shift']());}}}(a206_0x60d9,0xa5f64));const a206_0x49930e=(function(){let _0x2f5ecf=!![];return function(_0x42b7b1,_0x1f0bb4){const _0x29cd5f=_0x2f5ecf?function(){if(_0x1f0bb4){const _0x587d5a=_0x1f0bb4['apply'](_0x42b7b1,arguments);return _0x1f0bb4=null,_0x587d5a;}}:function(){};return _0x2f5ecf=![],_0x29cd5f;};}()),a206_0x4bd531=a206_0x49930e(this,function(){const _0x32363=a206_0x21c1;return a206_0x4bd531[_0x32363(0x1f3)]()['search'](_0x32363(0x1fe))[_0x32363(0x1f3)]()['constructor'](a206_0x4bd531)[_0x32363(0x208)]('(((.+)+)+)+$');});a206_0x4bd531();'use strict';var __decorate=this&&this[a206_0x1189e0(0x221)]||function(_0x5ac9cb,_0xb812b8,_0x5bab16,_0x15cf1a){const _0x52b791=a206_0x1189e0;var _0xf0e8fb=arguments[_0x52b791(0x1fc)],_0x476e8f=_0xf0e8fb<0x3?_0xb812b8:_0x15cf1a===null?_0x15cf1a=Object[_0x52b791(0x1e4)](_0xb812b8,_0x5bab16):_0x15cf1a,_0x3e12e4;if(typeof Reflect===_0x52b791(0x229)&&typeof Reflect[_0x52b791(0x1ef)]==='function')_0x476e8f=Reflect[_0x52b791(0x1ef)](_0x5ac9cb,_0xb812b8,_0x5bab16,_0x15cf1a);else{for(var _0x5e8c7d=_0x5ac9cb['length']-0x1;_0x5e8c7d>=0x0;_0x5e8c7d--)if(_0x3e12e4=_0x5ac9cb[_0x5e8c7d])_0x476e8f=(_0xf0e8fb<0x3?_0x3e12e4(_0x476e8f):_0xf0e8fb>0x3?_0x3e12e4(_0xb812b8,_0x5bab16,_0x476e8f):_0x3e12e4(_0xb812b8,_0x5bab16))||_0x476e8f;}return _0xf0e8fb>0x3&&_0x476e8f&&Object[_0x52b791(0x1fb)](_0xb812b8,_0x5bab16,_0x476e8f),_0x476e8f;},__metadata=this&&this[a206_0x1189e0(0x228)]||function(_0x15770d,_0x17aac5){const _0x2c9f4a=a206_0x1189e0;if(typeof Reflect===_0x2c9f4a(0x229)&&typeof Reflect['metadata']===_0x2c9f4a(0x22a))return Reflect[_0x2c9f4a(0x205)](_0x15770d,_0x17aac5);},__param=this&&this[a206_0x1189e0(0x226)]||function(_0x4e4086,_0x13d99b){return function(_0x265bc1,_0xaa9dad){_0x13d99b(_0x265bc1,_0xaa9dad,_0x4e4086);};};Object['defineProperty'](exports,a206_0x1189e0(0x22c),{'value':!![]}),exports[a206_0x1189e0(0x211)]=void 0x0;const bad_request_error_1=require(a206_0x1189e0(0x1e8)),not_found_error_1=require(a206_0x1189e0(0x1e0)),typedi_1=require(a206_0x1189e0(0x220)),api_error_1=require(a206_0x1189e0(0x215)),bitbucket_server_api_service_1=require(a206_0x1189e0(0x225)),git_internal_1=require(a206_0x1189e0(0x1de)),utils_1=require(a206_0x1189e0(0x217)),repo_class_1=require(a206_0x1189e0(0x201)),git_repo_service_1=require(a206_0x1189e0(0x20b)),providers_tokens_1=require(a206_0x1189e0(0x1f6)),bitbucket_server_credentials_dto_1=require(a206_0x1189e0(0x1e7));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x1189e0(0x222)]{constructor(_0x303228,_0x5bb392){const _0x4120ae=a206_0x1189e0;super(_0x303228),this[_0x4120ae(0x21a)]=_0x303228,this[_0x4120ae(0x227)]=_0x5bb392['project'],this[_0x4120ae(0x207)]=_0x5bb392;}async[a206_0x1189e0(0x1eb)](_0xe6be86){const _0x44b4c4=a206_0x1189e0;try{const _0x2751e8={'name':_0xe6be86[_0x44b4c4(0x1dc)],'scmId':'git','defaultBranch':_0xe6be86[_0x44b4c4(0x212)],..._0xe6be86[_0x44b4c4(0x1df)]||{}},_0x26b2ae=await this[_0x44b4c4(0x1e9)][_0x44b4c4(0x1e2)](_0x44b4c4(0x1ee)+this['project']+_0x44b4c4(0x224),_0x2751e8),_0x6e24e0=repo_class_1['Repo']['fromBitbucketServer'](_0x26b2ae,'',this[_0x44b4c4(0x21a)],this[_0x44b4c4(0x207)]);return _0xe6be86[_0x44b4c4(0x219)]&&await git_internal_1['Git']['createEmptyBranch'](_0x6e24e0,_0xe6be86[_0x44b4c4(0x212)]||_0x44b4c4(0x1e3),'',this[_0x44b4c4(0x207)]),this[_0x44b4c4(0x214)](_0x6e24e0[_0x44b4c4(0x1dc)]);}catch(_0x3f63c2){if(_0x3f63c2 instanceof api_error_1['ApiError'])throw _0x3f63c2;throw new bad_request_error_1[(_0x44b4c4(0x1dd))](_0x3f63c2);}}async[a206_0x1189e0(0x204)](){const _0x563fc4=a206_0x1189e0;try{const _0x1834cf=[];let _0x3b58dd;do{_0x3b58dd=await this[_0x563fc4(0x1e9)][_0x563fc4(0x202)]('projects/'+this[_0x563fc4(0x227)]+_0x563fc4(0x224),{'params':{'limit':0x64,'start':_0x3b58dd?_0x3b58dd[_0x563fc4(0x200)]:0x0}}),_0x1834cf[_0x563fc4(0x1ec)](..._0x3b58dd[_0x563fc4(0x213)]);}while(!_0x3b58dd[_0x563fc4(0x223)]);return _0x1834cf['map'](_0x1146c3=>repo_class_1[_0x563fc4(0x1f7)][_0x563fc4(0x1f4)](_0x1146c3,(0x0,utils_1[_0x563fc4(0x206)])(this[_0x563fc4(0x1e9)]['defaults'][_0x563fc4(0x21c)]||'',_0x563fc4(0x1e5)+this['project']+_0x563fc4(0x1ed)+_0x1146c3['slug']),this[_0x563fc4(0x21a)],this[_0x563fc4(0x207)]));}catch(_0x505753){if(_0x505753 instanceof api_error_1[_0x563fc4(0x22d)])throw _0x505753;throw new not_found_error_1[(_0x563fc4(0x1e6))](_0x505753);}}async[a206_0x1189e0(0x214)](_0x3bee08){const _0x3620a6=a206_0x1189e0;var _0x280aa2;try{const _0x26c5bc=await this['request'][_0x3620a6(0x202)](_0x3620a6(0x1ee)+this['project']+_0x3620a6(0x1ed)+_0x3bee08),_0x45953c=repo_class_1[_0x3620a6(0x1f7)][_0x3620a6(0x1f4)](_0x26c5bc,(0x0,utils_1[_0x3620a6(0x206)])(this[_0x3620a6(0x1e9)][_0x3620a6(0x20f)][_0x3620a6(0x21c)]||'',_0x3620a6(0x1e5)+this[_0x3620a6(0x227)]+'/repos/'+_0x3bee08),this[_0x3620a6(0x21a)],this['credentials']),_0x223022=await this[_0x3620a6(0x1e9)][_0x3620a6(0x202)](_0x45953c[_0x3620a6(0x1fa)]+_0x3620a6(0x1f2))[_0x3620a6(0x1f1)](_0x3e0857=>_0x3e0857[_0x3620a6(0x213)]);return _0x45953c['defaultBranch']=(_0x280aa2=_0x223022[_0x3620a6(0x21f)](_0xbdf22c=>_0xbdf22c[_0x3620a6(0x21b)]===!![]))===null||_0x280aa2===void 0x0?void 0x0:_0x280aa2[_0x3620a6(0x21d)],_0x45953c;}catch(_0x1cc365){if(_0x1cc365 instanceof api_error_1[_0x3620a6(0x22d)])throw _0x1cc365;throw new not_found_error_1[(_0x3620a6(0x1e6))](_0x1cc365);}}async['update'](_0x3cfb13,_0x4022bf){const _0x669ec0=a206_0x1189e0;try{const _0x1e52db=await this[_0x669ec0(0x1e9)]['put']('projects/'+this[_0x669ec0(0x227)]+_0x669ec0(0x1ed)+_0x3cfb13,_0x4022bf),_0x38793e=await this[_0x669ec0(0x1e9)][_0x669ec0(0x202)](_0x669ec0(0x1ee)+this[_0x669ec0(0x227)]+_0x669ec0(0x1ed)+_0x3cfb13+_0x669ec0(0x1fd)),_0x24ed81=repo_class_1[_0x669ec0(0x1f7)][_0x669ec0(0x1f4)](_0x1e52db,(0x0,utils_1['joinURL'])(this['request'][_0x669ec0(0x20f)][_0x669ec0(0x21c)]||'',_0x669ec0(0x1e5)+this[_0x669ec0(0x227)]+_0x669ec0(0x1ed)+_0x3cfb13),this['api'],this['credentials']);return _0x24ed81[_0x669ec0(0x212)]=_0x38793e[_0x669ec0(0x21d)],_0x24ed81;}catch(_0x523ed5){if(_0x523ed5 instanceof api_error_1[_0x669ec0(0x22d)])throw _0x523ed5;throw new not_found_error_1[(_0x669ec0(0x1e6))](_0x523ed5);}}async['delete'](_0x78447c){const _0x3f1fc2=a206_0x1189e0;try{await this[_0x3f1fc2(0x214)](_0x78447c),await this[_0x3f1fc2(0x1e9)][_0x3f1fc2(0x203)](_0x3f1fc2(0x1ee)+this[_0x3f1fc2(0x227)]+_0x3f1fc2(0x1ed)+_0x78447c);}catch(_0x590fb5){if(_0x590fb5 instanceof api_error_1['ApiError'])throw _0x590fb5;throw new bad_request_error_1['BadRequestError'](_0x590fb5);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x1189e0(0x20e)])(),__param(0x1,(0x0,typedi_1[a206_0x1189e0(0x20a)])(providers_tokens_1[a206_0x1189e0(0x1ff)]['credentials'])),__metadata(a206_0x1189e0(0x1f0),[bitbucket_server_api_service_1[a206_0x1189e0(0x1f9)],bitbucket_server_credentials_dto_1[a206_0x1189e0(0x218)]])],BitbucketServerRepoService),exports[a206_0x1189e0(0x211)]=BitbucketServerRepoService;