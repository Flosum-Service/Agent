function a227_0x4c80(){const _0x4d823a=['post','project','design:paramtypes','baseURL','toString','Git','map','credentials','then','4004465KBPAkD','Repo','name','length','object','get','search','isDefault','__metadata','2imcbCj','request','create','Service','put','Tokens','377538FjdHFl','apiBody','autoInit','isLastPage','/repos','BitbucketServerCredentialsDto','master','7198555weGYwL','values','GitRepoService','function','joinURL','3XCqFJc','20HBlPTG','../../api/bitbucket-server-api.service','__decorate','defineProperty','BitbucketServerRepoService','Inject','../../../../../core/errors/api.error','../../../internal/git.internal','BadRequestError','update','getAll','/projects/','projects/','constructor','delete','displayId','git','5894746BjRQaO','18472okaBAl','typedi','decorate','fromBitbucketServer','2992972MlnsgH','/default-branch','slug','../../../../../core/errors/bad-request.error','NotFoundError','metadata','5382tMtowL','1136623bulizu','ApiError','defaultBranch','../../providers.tokens','(((.+)+)+)+$','__esModule','api','/repos/','../../credentials/dto/bitbucket-server-credentials.dto','find','BitbucketServerApiService','../../../../shared/utils','../repo.class','getOne','/branches','defaults'];a227_0x4c80=function(){return _0x4d823a;};return a227_0x4c80();}const a227_0x21a2ca=a227_0xb1f8;(function(_0x13a215,_0x5f187a){const _0xa50701=a227_0xb1f8,_0x5e64ff=_0x13a215();while(!![]){try{const _0x3caec7=-parseInt(_0xa50701(0x181))/0x1*(parseInt(_0xa50701(0x151))/0x2)+parseInt(_0xa50701(0x163))/0x3*(-parseInt(_0xa50701(0x17a))/0x4)+-parseInt(_0xa50701(0x148))/0x5+-parseInt(_0xa50701(0x157))/0x6+parseInt(_0xa50701(0x15e))/0x7+-parseInt(_0xa50701(0x176))/0x8*(-parseInt(_0xa50701(0x180))/0x9)+parseInt(_0xa50701(0x164))/0xa*(parseInt(_0xa50701(0x175))/0xb);if(_0x3caec7===_0x5f187a)break;else _0x5e64ff['push'](_0x5e64ff['shift']());}catch(_0x420896){_0x5e64ff['push'](_0x5e64ff['shift']());}}}(a227_0x4c80,0xb2c4d));const a227_0x27eda9=(function(){let _0x5a3c8a=!![];return function(_0x19a0ba,_0x4d3287){const _0x29394a=_0x5a3c8a?function(){if(_0x4d3287){const _0x2de0bb=_0x4d3287['apply'](_0x19a0ba,arguments);return _0x4d3287=null,_0x2de0bb;}}:function(){};return _0x5a3c8a=![],_0x29394a;};}()),a227_0x5ef0cf=a227_0x27eda9(this,function(){const _0x51ea22=a227_0xb1f8;return a227_0x5ef0cf[_0x51ea22(0x143)]()[_0x51ea22(0x14e)](_0x51ea22(0x185))[_0x51ea22(0x143)]()[_0x51ea22(0x171)](a227_0x5ef0cf)[_0x51ea22(0x14e)](_0x51ea22(0x185));});a227_0x5ef0cf();function a227_0xb1f8(_0x5a8478,_0x22a2ae){const _0x39c2e5=a227_0x4c80();return a227_0xb1f8=function(_0x5ef0cf,_0x27eda9){_0x5ef0cf=_0x5ef0cf-0x13c;let _0x4c80f3=_0x39c2e5[_0x5ef0cf];return _0x4c80f3;},a227_0xb1f8(_0x5a8478,_0x22a2ae);}'use strict';var __decorate=this&&this[a227_0x21a2ca(0x166)]||function(_0x69762d,_0x111a99,_0x43c7cd,_0x4e144a){const _0x4793fc=a227_0x21a2ca;var _0x80a651=arguments[_0x4793fc(0x14b)],_0x18ed41=_0x80a651<0x3?_0x111a99:_0x4e144a===null?_0x4e144a=Object['getOwnPropertyDescriptor'](_0x111a99,_0x43c7cd):_0x4e144a,_0x5516f4;if(typeof Reflect===_0x4793fc(0x14c)&&typeof Reflect[_0x4793fc(0x178)]===_0x4793fc(0x161))_0x18ed41=Reflect['decorate'](_0x69762d,_0x111a99,_0x43c7cd,_0x4e144a);else{for(var _0x82ebc7=_0x69762d[_0x4793fc(0x14b)]-0x1;_0x82ebc7>=0x0;_0x82ebc7--)if(_0x5516f4=_0x69762d[_0x82ebc7])_0x18ed41=(_0x80a651<0x3?_0x5516f4(_0x18ed41):_0x80a651>0x3?_0x5516f4(_0x111a99,_0x43c7cd,_0x18ed41):_0x5516f4(_0x111a99,_0x43c7cd))||_0x18ed41;}return _0x80a651>0x3&&_0x18ed41&&Object['defineProperty'](_0x111a99,_0x43c7cd,_0x18ed41),_0x18ed41;},__metadata=this&&this[a227_0x21a2ca(0x150)]||function(_0x5190d2,_0x1bcb67){const _0x414ee6=a227_0x21a2ca;if(typeof Reflect===_0x414ee6(0x14c)&&typeof Reflect['metadata']===_0x414ee6(0x161))return Reflect[_0x414ee6(0x17f)](_0x5190d2,_0x1bcb67);},__param=this&&this['__param']||function(_0x5b16f5,_0x52c9d5){return function(_0x4090dc,_0x2ccce9){_0x52c9d5(_0x4090dc,_0x2ccce9,_0x5b16f5);};};Object[a227_0x21a2ca(0x167)](exports,a227_0x21a2ca(0x186),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a227_0x21a2ca(0x17d)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a227_0x21a2ca(0x177)),api_error_1=require(a227_0x21a2ca(0x16a)),bitbucket_server_api_service_1=require(a227_0x21a2ca(0x165)),git_internal_1=require(a227_0x21a2ca(0x16b)),utils_1=require(a227_0x21a2ca(0x18c)),repo_class_1=require(a227_0x21a2ca(0x18d)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a227_0x21a2ca(0x184)),bitbucket_server_credentials_dto_1=require(a227_0x21a2ca(0x189));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a227_0x21a2ca(0x160)]{constructor(_0x649f6f,_0x28866e){const _0x4d970e=a227_0x21a2ca;super(_0x649f6f),this['api']=_0x649f6f,this[_0x4d970e(0x140)]=_0x28866e[_0x4d970e(0x140)],this[_0x4d970e(0x146)]=_0x28866e;}async[a227_0x21a2ca(0x153)](_0x2e397e){const _0x418e03=a227_0x21a2ca;try{const _0x285492={'name':_0x2e397e[_0x418e03(0x14a)],'scmId':_0x418e03(0x174),'defaultBranch':_0x2e397e[_0x418e03(0x183)],..._0x2e397e[_0x418e03(0x158)]||{}},_0x397e0d=await this[_0x418e03(0x152)][_0x418e03(0x13f)](_0x418e03(0x170)+this['project']+_0x418e03(0x15b),_0x285492),_0x19225b=repo_class_1[_0x418e03(0x149)]['fromBitbucketServer'](_0x397e0d,'',this[_0x418e03(0x187)],this['credentials']);return _0x2e397e[_0x418e03(0x159)]&&await git_internal_1[_0x418e03(0x144)]['createEmptyBranch'](_0x19225b,_0x2e397e[_0x418e03(0x183)]||_0x418e03(0x15d),'',this[_0x418e03(0x146)]),this[_0x418e03(0x13c)](_0x19225b[_0x418e03(0x14a)]);}catch(_0x4b7f7c){if(_0x4b7f7c instanceof api_error_1[_0x418e03(0x182)])throw _0x4b7f7c;throw new bad_request_error_1[(_0x418e03(0x16c))](_0x4b7f7c);}}async[a227_0x21a2ca(0x16e)](){const _0x337eb8=a227_0x21a2ca;try{const _0x5bde3e=[];let _0x5e2de5;do{_0x5e2de5=await this['request'][_0x337eb8(0x14d)](_0x337eb8(0x170)+this[_0x337eb8(0x140)]+_0x337eb8(0x15b),{'params':{'limit':0x64,'start':_0x5e2de5?_0x5e2de5['nextPageStart']:0x0}}),_0x5bde3e['push'](..._0x5e2de5[_0x337eb8(0x15f)]);}while(!_0x5e2de5[_0x337eb8(0x15a)]);return _0x5bde3e[_0x337eb8(0x145)](_0x5fa8ff=>repo_class_1['Repo'][_0x337eb8(0x179)](_0x5fa8ff,(0x0,utils_1['joinURL'])(this[_0x337eb8(0x152)]['defaults'][_0x337eb8(0x142)]||'',_0x337eb8(0x16f)+this['project']+_0x337eb8(0x188)+_0x5fa8ff[_0x337eb8(0x17c)]),this['api'],this['credentials']));}catch(_0x14344a){if(_0x14344a instanceof api_error_1[_0x337eb8(0x182)])throw _0x14344a;throw new not_found_error_1['NotFoundError'](_0x14344a);}}async[a227_0x21a2ca(0x13c)](_0x4a403e){const _0x46dff0=a227_0x21a2ca;var _0x4c6da3;try{const _0x220cd3=await this[_0x46dff0(0x152)][_0x46dff0(0x14d)]('projects/'+this['project']+_0x46dff0(0x188)+_0x4a403e),_0x50f8c0=repo_class_1[_0x46dff0(0x149)][_0x46dff0(0x179)](_0x220cd3,(0x0,utils_1[_0x46dff0(0x162)])(this[_0x46dff0(0x152)][_0x46dff0(0x13e)][_0x46dff0(0x142)]||'','/projects/'+this[_0x46dff0(0x140)]+'/repos/'+_0x4a403e),this['api'],this[_0x46dff0(0x146)]),_0x5a4850=await this[_0x46dff0(0x152)][_0x46dff0(0x14d)](_0x50f8c0['apiUrl']+_0x46dff0(0x13d))[_0x46dff0(0x147)](_0x22bda0=>_0x22bda0[_0x46dff0(0x15f)]);return _0x50f8c0[_0x46dff0(0x183)]=(_0x4c6da3=_0x5a4850[_0x46dff0(0x18a)](_0x3e11ee=>_0x3e11ee[_0x46dff0(0x14f)]===!![]))===null||_0x4c6da3===void 0x0?void 0x0:_0x4c6da3[_0x46dff0(0x173)],_0x50f8c0;}catch(_0xb0f972){if(_0xb0f972 instanceof api_error_1[_0x46dff0(0x182)])throw _0xb0f972;throw new not_found_error_1[(_0x46dff0(0x17e))](_0xb0f972);}}async[a227_0x21a2ca(0x16d)](_0x567f42,_0x2eb321){const _0x1d973c=a227_0x21a2ca;try{const _0x3bef8a=await this['request'][_0x1d973c(0x155)]('projects/'+this['project']+_0x1d973c(0x188)+_0x567f42,_0x2eb321),_0x357d54=await this[_0x1d973c(0x152)]['get'](_0x1d973c(0x170)+this[_0x1d973c(0x140)]+_0x1d973c(0x188)+_0x567f42+_0x1d973c(0x17b)),_0x1cb59f=repo_class_1[_0x1d973c(0x149)][_0x1d973c(0x179)](_0x3bef8a,(0x0,utils_1[_0x1d973c(0x162)])(this[_0x1d973c(0x152)][_0x1d973c(0x13e)][_0x1d973c(0x142)]||'',_0x1d973c(0x16f)+this[_0x1d973c(0x140)]+'/repos/'+_0x567f42),this[_0x1d973c(0x187)],this[_0x1d973c(0x146)]);return _0x1cb59f['defaultBranch']=_0x357d54[_0x1d973c(0x173)],_0x1cb59f;}catch(_0x36836a){if(_0x36836a instanceof api_error_1['ApiError'])throw _0x36836a;throw new not_found_error_1[(_0x1d973c(0x17e))](_0x36836a);}}async[a227_0x21a2ca(0x172)](_0xa5145b){const _0x3c3593=a227_0x21a2ca;try{await this[_0x3c3593(0x13c)](_0xa5145b),await this['request']['delete'](_0x3c3593(0x170)+this[_0x3c3593(0x140)]+_0x3c3593(0x188)+_0xa5145b);}catch(_0xc19362){if(_0xc19362 instanceof api_error_1[_0x3c3593(0x182)])throw _0xc19362;throw new bad_request_error_1['BadRequestError'](_0xc19362);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a227_0x21a2ca(0x154)])(),__param(0x1,(0x0,typedi_1[a227_0x21a2ca(0x169)])(providers_tokens_1[a227_0x21a2ca(0x156)]['credentials'])),__metadata(a227_0x21a2ca(0x141),[bitbucket_server_api_service_1[a227_0x21a2ca(0x18b)],bitbucket_server_credentials_dto_1[a227_0x21a2ca(0x15c)]])],BitbucketServerRepoService),exports[a227_0x21a2ca(0x168)]=BitbucketServerRepoService;