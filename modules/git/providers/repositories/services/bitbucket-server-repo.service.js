function a206_0x8a0b(){const _0x260381=['../../api/bitbucket-server-api.service','object','project','9710904QefQaw','api','constructor','typedi','7251462kiYqVo','apply','__param','design:paramtypes','../../../../shared/utils','../repo.class','../../providers.tokens','createEmptyBranch','__esModule','getOne','slug','apiBody','get','isLastPage','defaultBranch','baseURL','request','ApiError','then','4020530kifKoW','../../../internal/git.internal','update','Tokens','202589QSVFgP','8fcQRuG','toString','search','projects/','192276TxNagr','/repos/','Repo','NotFoundError','../../../../../core/errors/bad-request.error','credentials','decorate','5145994VZwjJR','push','(((.+)+)+)+$','getOwnPropertyDescriptor','BitbucketServerApiService','map','BadRequestError','BitbucketServerCredentialsDto','create','/default-branch','master','isDefault','git','joinURL','../../credentials/dto/bitbucket-server-credentials.dto','metadata','Inject','defaults','name','./git-repo.service','length','Service','../../../../../core/errors/api.error','BitbucketServerRepoService','delete','values','3980264fhpKFE','displayId','/projects/','find','defineProperty','fromBitbucketServer'];a206_0x8a0b=function(){return _0x260381;};return a206_0x8a0b();}const a206_0x1884c1=a206_0x5b22;(function(_0x41d1c6,_0x2104bb){const _0xff4c00=a206_0x5b22,_0x3be948=_0x41d1c6();while(!![]){try{const _0xffadad=-parseInt(_0xff4c00(0x126))/0x1*(parseInt(_0xff4c00(0x127))/0x2)+parseInt(_0xff4c00(0x12b))/0x3+-parseInt(_0xff4c00(0x102))/0x4+-parseInt(_0xff4c00(0x122))/0x5+parseInt(_0xff4c00(0x10f))/0x6+parseInt(_0xff4c00(0x132))/0x7+parseInt(_0xff4c00(0x10b))/0x8;if(_0xffadad===_0x2104bb)break;else _0x3be948['push'](_0x3be948['shift']());}catch(_0x3e0fa7){_0x3be948['push'](_0x3be948['shift']());}}}(a206_0x8a0b,0x95732));const a206_0x2d23df=(function(){let _0x3a3cf2=!![];return function(_0x155ec0,_0x365366){const _0x562b34=_0x3a3cf2?function(){const _0x40e841=a206_0x5b22;if(_0x365366){const _0x1fe403=_0x365366[_0x40e841(0x110)](_0x155ec0,arguments);return _0x365366=null,_0x1fe403;}}:function(){};return _0x3a3cf2=![],_0x562b34;};}()),a206_0x5c19b7=a206_0x2d23df(this,function(){const _0x2d4bb0=a206_0x5b22;return a206_0x5c19b7[_0x2d4bb0(0x128)]()[_0x2d4bb0(0x129)](_0x2d4bb0(0x134))[_0x2d4bb0(0x128)]()[_0x2d4bb0(0x10d)](a206_0x5c19b7)[_0x2d4bb0(0x129)](_0x2d4bb0(0x134));});a206_0x5c19b7();function a206_0x5b22(_0x3811f2,_0x1924db){const _0x2123d4=a206_0x8a0b();return a206_0x5b22=function(_0x5c19b7,_0x2d23df){_0x5c19b7=_0x5c19b7-0xed;let _0x8a0b6a=_0x2123d4[_0x5c19b7];return _0x8a0b6a;},a206_0x5b22(_0x3811f2,_0x1924db);}'use strict';var __decorate=this&&this['__decorate']||function(_0x202518,_0x5ec4b6,_0x24e8d4,_0x504e4e){const _0x122f5e=a206_0x5b22;var _0x1e2f43=arguments['length'],_0x3b70c3=_0x1e2f43<0x3?_0x5ec4b6:_0x504e4e===null?_0x504e4e=Object[_0x122f5e(0x135)](_0x5ec4b6,_0x24e8d4):_0x504e4e,_0x33b27c;if(typeof Reflect===_0x122f5e(0x109)&&typeof Reflect['decorate']==='function')_0x3b70c3=Reflect[_0x122f5e(0x131)](_0x202518,_0x5ec4b6,_0x24e8d4,_0x504e4e);else{for(var _0x3e4e70=_0x202518[_0x122f5e(0xfc)]-0x1;_0x3e4e70>=0x0;_0x3e4e70--)if(_0x33b27c=_0x202518[_0x3e4e70])_0x3b70c3=(_0x1e2f43<0x3?_0x33b27c(_0x3b70c3):_0x1e2f43>0x3?_0x33b27c(_0x5ec4b6,_0x24e8d4,_0x3b70c3):_0x33b27c(_0x5ec4b6,_0x24e8d4))||_0x3b70c3;}return _0x1e2f43>0x3&&_0x3b70c3&&Object['defineProperty'](_0x5ec4b6,_0x24e8d4,_0x3b70c3),_0x3b70c3;},__metadata=this&&this['__metadata']||function(_0x176b6a,_0x558d25){const _0x1384c5=a206_0x5b22;if(typeof Reflect===_0x1384c5(0x109)&&typeof Reflect[_0x1384c5(0xf7)]==='function')return Reflect[_0x1384c5(0xf7)](_0x176b6a,_0x558d25);},__param=this&&this[a206_0x1884c1(0x111)]||function(_0x1d705d,_0x2015b4){return function(_0x34de6a,_0x4d7899){_0x2015b4(_0x34de6a,_0x4d7899,_0x1d705d);};};Object[a206_0x1884c1(0x106)](exports,a206_0x1884c1(0x117),{'value':!![]}),exports[a206_0x1884c1(0xff)]=void 0x0;const bad_request_error_1=require(a206_0x1884c1(0x12f)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a206_0x1884c1(0x10e)),api_error_1=require(a206_0x1884c1(0xfe)),bitbucket_server_api_service_1=require(a206_0x1884c1(0x108)),git_internal_1=require(a206_0x1884c1(0x123)),utils_1=require(a206_0x1884c1(0x113)),repo_class_1=require(a206_0x1884c1(0x114)),git_repo_service_1=require(a206_0x1884c1(0xfb)),providers_tokens_1=require(a206_0x1884c1(0x115)),bitbucket_server_credentials_dto_1=require(a206_0x1884c1(0xf6));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5276b3,_0x1e6189){const _0x5e6cdb=a206_0x1884c1;super(_0x5276b3),this[_0x5e6cdb(0x10c)]=_0x5276b3,this[_0x5e6cdb(0x10a)]=_0x1e6189[_0x5e6cdb(0x10a)],this[_0x5e6cdb(0x130)]=_0x1e6189;}async[a206_0x1884c1(0xf0)](_0xca7fd6){const _0x167714=a206_0x1884c1;try{const _0x3c1c3b={'name':_0xca7fd6[_0x167714(0xfa)],'scmId':_0x167714(0xf4),'defaultBranch':_0xca7fd6[_0x167714(0x11d)],..._0xca7fd6[_0x167714(0x11a)]||{}},_0x2df8d9=await this[_0x167714(0x11f)]['post'](_0x167714(0x12a)+this[_0x167714(0x10a)]+'/repos',_0x3c1c3b),_0x123bf2=repo_class_1['Repo']['fromBitbucketServer'](_0x2df8d9,'',this[_0x167714(0x10c)],this['credentials']);return _0xca7fd6['autoInit']&&await git_internal_1['Git'][_0x167714(0x116)](_0x123bf2,_0xca7fd6[_0x167714(0x11d)]||_0x167714(0xf2),'',this[_0x167714(0x130)]),this[_0x167714(0x118)](_0x123bf2['name']);}catch(_0x21794c){if(_0x21794c instanceof api_error_1[_0x167714(0x120)])throw _0x21794c;throw new bad_request_error_1['BadRequestError'](_0x21794c);}}async['getAll'](){const _0x376461=a206_0x1884c1;try{const _0x456b0f=[];let _0x137356;do{_0x137356=await this[_0x376461(0x11f)][_0x376461(0x11b)](_0x376461(0x12a)+this[_0x376461(0x10a)]+'/repos',{'params':{'limit':0x64,'start':_0x137356?_0x137356['nextPageStart']:0x0}}),_0x456b0f[_0x376461(0x133)](..._0x137356['values']);}while(!_0x137356[_0x376461(0x11c)]);return _0x456b0f[_0x376461(0xed)](_0x3a4398=>repo_class_1[_0x376461(0x12d)]['fromBitbucketServer'](_0x3a4398,(0x0,utils_1[_0x376461(0xf5)])(this[_0x376461(0x11f)]['defaults'][_0x376461(0x11e)]||'',_0x376461(0x104)+this[_0x376461(0x10a)]+_0x376461(0x12c)+_0x3a4398[_0x376461(0x119)]),this[_0x376461(0x10c)],this[_0x376461(0x130)]));}catch(_0x2f9bf8){if(_0x2f9bf8 instanceof api_error_1[_0x376461(0x120)])throw _0x2f9bf8;throw new not_found_error_1[(_0x376461(0x12e))](_0x2f9bf8);}}async['getOne'](_0x1081fd){const _0x3e3110=a206_0x1884c1;var _0x330774;try{const _0x3928e5=await this[_0x3e3110(0x11f)][_0x3e3110(0x11b)](_0x3e3110(0x12a)+this[_0x3e3110(0x10a)]+'/repos/'+_0x1081fd),_0x273e2f=repo_class_1['Repo'][_0x3e3110(0x107)](_0x3928e5,(0x0,utils_1[_0x3e3110(0xf5)])(this[_0x3e3110(0x11f)]['defaults'][_0x3e3110(0x11e)]||'',_0x3e3110(0x104)+this['project']+_0x3e3110(0x12c)+_0x1081fd),this[_0x3e3110(0x10c)],this[_0x3e3110(0x130)]),_0x4fe6cb=await this[_0x3e3110(0x11f)]['get'](_0x273e2f['apiUrl']+'/branches')[_0x3e3110(0x121)](_0x45efbe=>_0x45efbe[_0x3e3110(0x101)]);return _0x273e2f[_0x3e3110(0x11d)]=(_0x330774=_0x4fe6cb[_0x3e3110(0x105)](_0x935e95=>_0x935e95[_0x3e3110(0xf3)]===!![]))===null||_0x330774===void 0x0?void 0x0:_0x330774[_0x3e3110(0x103)],_0x273e2f;}catch(_0x282fce){if(_0x282fce instanceof api_error_1[_0x3e3110(0x120)])throw _0x282fce;throw new not_found_error_1[(_0x3e3110(0x12e))](_0x282fce);}}async[a206_0x1884c1(0x124)](_0x3e2663,_0x555912){const _0x3aaf75=a206_0x1884c1;try{const _0x4e5913=await this[_0x3aaf75(0x11f)]['put'](_0x3aaf75(0x12a)+this[_0x3aaf75(0x10a)]+_0x3aaf75(0x12c)+_0x3e2663,_0x555912),_0x1d3fa2=await this[_0x3aaf75(0x11f)]['get']('projects/'+this[_0x3aaf75(0x10a)]+_0x3aaf75(0x12c)+_0x3e2663+_0x3aaf75(0xf1)),_0x3611b2=repo_class_1[_0x3aaf75(0x12d)][_0x3aaf75(0x107)](_0x4e5913,(0x0,utils_1['joinURL'])(this[_0x3aaf75(0x11f)][_0x3aaf75(0xf9)][_0x3aaf75(0x11e)]||'',_0x3aaf75(0x104)+this[_0x3aaf75(0x10a)]+_0x3aaf75(0x12c)+_0x3e2663),this['api'],this[_0x3aaf75(0x130)]);return _0x3611b2['defaultBranch']=_0x1d3fa2['displayId'],_0x3611b2;}catch(_0x73378e){if(_0x73378e instanceof api_error_1[_0x3aaf75(0x120)])throw _0x73378e;throw new not_found_error_1[(_0x3aaf75(0x12e))](_0x73378e);}}async['delete'](_0x3a3999){const _0x243024=a206_0x1884c1;try{await this['getOne'](_0x3a3999),await this['request'][_0x243024(0x100)]('projects/'+this[_0x243024(0x10a)]+_0x243024(0x12c)+_0x3a3999);}catch(_0x1b344a){if(_0x1b344a instanceof api_error_1[_0x243024(0x120)])throw _0x1b344a;throw new bad_request_error_1[(_0x243024(0xee))](_0x1b344a);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x1884c1(0xfd)])(),__param(0x1,(0x0,typedi_1[a206_0x1884c1(0xf8)])(providers_tokens_1[a206_0x1884c1(0x125)][a206_0x1884c1(0x130)])),__metadata(a206_0x1884c1(0x112),[bitbucket_server_api_service_1[a206_0x1884c1(0x136)],bitbucket_server_credentials_dto_1[a206_0x1884c1(0xef)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;