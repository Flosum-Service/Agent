const a211_0x165779=a211_0x3a02;(function(_0x28ace7,_0xbc7dea){const _0xdf5e55=a211_0x3a02,_0x23c519=_0x28ace7();while(!![]){try{const _0x4ed8a2=parseInt(_0xdf5e55(0x207))/0x1*(parseInt(_0xdf5e55(0x23c))/0x2)+parseInt(_0xdf5e55(0x204))/0x3+-parseInt(_0xdf5e55(0x1f1))/0x4*(-parseInt(_0xdf5e55(0x1fe))/0x5)+-parseInt(_0xdf5e55(0x20e))/0x6+parseInt(_0xdf5e55(0x1f3))/0x7*(-parseInt(_0xdf5e55(0x233))/0x8)+parseInt(_0xdf5e55(0x220))/0x9*(parseInt(_0xdf5e55(0x1ee))/0xa)+-parseInt(_0xdf5e55(0x1fc))/0xb;if(_0x4ed8a2===_0xbc7dea)break;else _0x23c519['push'](_0x23c519['shift']());}catch(_0x5891de){_0x23c519['push'](_0x23c519['shift']());}}}(a211_0xed48,0x73967));const a211_0x2b6168=(function(){let _0x482cb0=!![];return function(_0x1abb5a,_0x28f015){const _0xb61b88=_0x482cb0?function(){const _0x109d1e=a211_0x3a02;if(_0x28f015){const _0x116705=_0x28f015[_0x109d1e(0x230)](_0x1abb5a,arguments);return _0x28f015=null,_0x116705;}}:function(){};return _0x482cb0=![],_0xb61b88;};}()),a211_0x31807a=a211_0x2b6168(this,function(){const _0x4e721e=a211_0x3a02;return a211_0x31807a[_0x4e721e(0x1f5)]()[_0x4e721e(0x222)]('(((.+)+)+)+$')[_0x4e721e(0x1f5)]()[_0x4e721e(0x213)](a211_0x31807a)[_0x4e721e(0x222)]('(((.+)+)+)+$');});a211_0x31807a();function a211_0x3a02(_0xe72fb6,_0x3ec51d){const _0x56e9cf=a211_0xed48();return a211_0x3a02=function(_0x31807a,_0x2b6168){_0x31807a=_0x31807a-0x1ed;let _0xed48fc=_0x56e9cf[_0x31807a];return _0xed48fc;},a211_0x3a02(_0xe72fb6,_0x3ec51d);}'use strict';var __decorate=this&&this[a211_0x165779(0x1f0)]||function(_0x4f7ce6,_0x5d3df0,_0x3d7dc8,_0x24f6c7){const _0x490945=a211_0x165779;var _0x585278=arguments[_0x490945(0x1f4)],_0x2ac2b2=_0x585278<0x3?_0x5d3df0:_0x24f6c7===null?_0x24f6c7=Object[_0x490945(0x234)](_0x5d3df0,_0x3d7dc8):_0x24f6c7,_0x28a51c;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x490945(0x235))_0x2ac2b2=Reflect[_0x490945(0x20c)](_0x4f7ce6,_0x5d3df0,_0x3d7dc8,_0x24f6c7);else{for(var _0xf78dd8=_0x4f7ce6[_0x490945(0x1f4)]-0x1;_0xf78dd8>=0x0;_0xf78dd8--)if(_0x28a51c=_0x4f7ce6[_0xf78dd8])_0x2ac2b2=(_0x585278<0x3?_0x28a51c(_0x2ac2b2):_0x585278>0x3?_0x28a51c(_0x5d3df0,_0x3d7dc8,_0x2ac2b2):_0x28a51c(_0x5d3df0,_0x3d7dc8))||_0x2ac2b2;}return _0x585278>0x3&&_0x2ac2b2&&Object[_0x490945(0x205)](_0x5d3df0,_0x3d7dc8,_0x2ac2b2),_0x2ac2b2;},__metadata=this&&this[a211_0x165779(0x20a)]||function(_0x1a9f05,_0x382b51){const _0x2cfc62=a211_0x165779;if(typeof Reflect===_0x2cfc62(0x1ed)&&typeof Reflect['metadata']===_0x2cfc62(0x235))return Reflect[_0x2cfc62(0x209)](_0x1a9f05,_0x382b51);},__param=this&&this[a211_0x165779(0x21d)]||function(_0xd229af,_0x509947){return function(_0x532d9f,_0xb40aa0){_0x509947(_0x532d9f,_0xb40aa0,_0xd229af);};};Object[a211_0x165779(0x205)](exports,a211_0x165779(0x206),{'value':!![]}),exports[a211_0x165779(0x20d)]=void 0x0;const bad_request_error_1=require(a211_0x165779(0x225)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a211_0x165779(0x1f7)),api_error_1=require(a211_0x165779(0x226)),bitbucket_server_api_service_1=require(a211_0x165779(0x21b)),git_internal_1=require(a211_0x165779(0x21f)),utils_1=require(a211_0x165779(0x201)),repo_class_1=require(a211_0x165779(0x211)),git_repo_service_1=require(a211_0x165779(0x20b)),providers_tokens_1=require(a211_0x165779(0x22a)),bitbucket_server_credentials_dto_1=require(a211_0x165779(0x215));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a211_0x165779(0x23d)]{constructor(_0x5c2cdf,_0x3ed8ed){const _0x5ba596=a211_0x165779;super(_0x5c2cdf),this[_0x5ba596(0x208)]=_0x5c2cdf,this[_0x5ba596(0x218)]=_0x3ed8ed['project'],this[_0x5ba596(0x22b)]=_0x3ed8ed;}async['create'](_0x53ae14){const _0x994b1c=a211_0x165779;try{const _0x563a0a={'name':_0x53ae14[_0x994b1c(0x224)],'scmId':_0x994b1c(0x236),'defaultBranch':_0x53ae14[_0x994b1c(0x228)],..._0x53ae14[_0x994b1c(0x216)]||{}},_0x5258fc=await this[_0x994b1c(0x23a)]['post'](_0x994b1c(0x232)+this[_0x994b1c(0x218)]+_0x994b1c(0x227),_0x563a0a),_0x2f80e9=repo_class_1[_0x994b1c(0x200)]['fromBitbucketServer'](_0x5258fc,'',this[_0x994b1c(0x208)],this['credentials']);return _0x53ae14[_0x994b1c(0x202)]&&await git_internal_1[_0x994b1c(0x229)][_0x994b1c(0x238)](_0x2f80e9,_0x53ae14[_0x994b1c(0x228)]||_0x994b1c(0x1fb),'',this[_0x994b1c(0x22b)]),this[_0x994b1c(0x1f2)](_0x2f80e9['name']);}catch(_0x4b8dab){if(_0x4b8dab instanceof api_error_1[_0x994b1c(0x21a)])throw _0x4b8dab;throw new bad_request_error_1[(_0x994b1c(0x22e))](_0x4b8dab);}}async[a211_0x165779(0x217)](){const _0x14d248=a211_0x165779;try{const _0x1162e3=[];let _0x5408de;do{_0x5408de=await this['request'][_0x14d248(0x21e)]('projects/'+this[_0x14d248(0x218)]+_0x14d248(0x227),{'params':{'limit':0x64,'start':_0x5408de?_0x5408de[_0x14d248(0x239)]:0x0}}),_0x1162e3['push'](..._0x5408de[_0x14d248(0x219)]);}while(!_0x5408de['isLastPage']);return _0x1162e3[_0x14d248(0x1f8)](_0x46e4c3=>repo_class_1['Repo']['fromBitbucketServer'](_0x46e4c3,(0x0,utils_1[_0x14d248(0x1fa)])(this[_0x14d248(0x23a)][_0x14d248(0x221)]['baseURL']||'','/projects/'+this[_0x14d248(0x218)]+_0x14d248(0x212)+_0x46e4c3[_0x14d248(0x1f9)]),this[_0x14d248(0x208)],this[_0x14d248(0x22b)]));}catch(_0x359870){if(_0x359870 instanceof api_error_1[_0x14d248(0x21a)])throw _0x359870;throw new not_found_error_1[(_0x14d248(0x1ef))](_0x359870);}}async[a211_0x165779(0x1f2)](_0x1a6ff5){const _0x543c0d=a211_0x165779;var _0x2dc6f6;try{const _0x2e7c6a=await this[_0x543c0d(0x23a)][_0x543c0d(0x21e)]('projects/'+this[_0x543c0d(0x218)]+'/repos/'+_0x1a6ff5),_0x2fabcc=repo_class_1[_0x543c0d(0x200)][_0x543c0d(0x22c)](_0x2e7c6a,(0x0,utils_1[_0x543c0d(0x1fa)])(this['request']['defaults']['baseURL']||'',_0x543c0d(0x203)+this[_0x543c0d(0x218)]+_0x543c0d(0x212)+_0x1a6ff5),this['api'],this[_0x543c0d(0x22b)]),_0x422989=await this[_0x543c0d(0x23a)]['get'](_0x2fabcc[_0x543c0d(0x23b)]+_0x543c0d(0x1fd))['then'](_0x26fa8d=>_0x26fa8d[_0x543c0d(0x219)]);return _0x2fabcc[_0x543c0d(0x228)]=(_0x2dc6f6=_0x422989['find'](_0x4c607d=>_0x4c607d[_0x543c0d(0x223)]===!![]))===null||_0x2dc6f6===void 0x0?void 0x0:_0x2dc6f6[_0x543c0d(0x237)],_0x2fabcc;}catch(_0x144efb){if(_0x144efb instanceof api_error_1[_0x543c0d(0x21a)])throw _0x144efb;throw new not_found_error_1[(_0x543c0d(0x1ef))](_0x144efb);}}async[a211_0x165779(0x210)](_0x27e241,_0x1fd936){const _0x27ddc2=a211_0x165779;try{const _0x3bfe2a=await this['request'][_0x27ddc2(0x214)](_0x27ddc2(0x232)+this[_0x27ddc2(0x218)]+_0x27ddc2(0x212)+_0x27e241,_0x1fd936),_0x39b12c=await this['request'][_0x27ddc2(0x21e)](_0x27ddc2(0x232)+this['project']+_0x27ddc2(0x212)+_0x27e241+_0x27ddc2(0x22d)),_0x2f0080=repo_class_1['Repo']['fromBitbucketServer'](_0x3bfe2a,(0x0,utils_1[_0x27ddc2(0x1fa)])(this[_0x27ddc2(0x23a)][_0x27ddc2(0x221)][_0x27ddc2(0x22f)]||'',_0x27ddc2(0x203)+this[_0x27ddc2(0x218)]+_0x27ddc2(0x212)+_0x27e241),this[_0x27ddc2(0x208)],this[_0x27ddc2(0x22b)]);return _0x2f0080[_0x27ddc2(0x228)]=_0x39b12c[_0x27ddc2(0x237)],_0x2f0080;}catch(_0x3d7e83){if(_0x3d7e83 instanceof api_error_1[_0x27ddc2(0x21a)])throw _0x3d7e83;throw new not_found_error_1[(_0x27ddc2(0x1ef))](_0x3d7e83);}}async[a211_0x165779(0x231)](_0x266bfd){const _0x1de606=a211_0x165779;try{await this[_0x1de606(0x1f2)](_0x266bfd),await this[_0x1de606(0x23a)][_0x1de606(0x231)](_0x1de606(0x232)+this[_0x1de606(0x218)]+_0x1de606(0x212)+_0x266bfd);}catch(_0x43a4b1){if(_0x43a4b1 instanceof api_error_1['ApiError'])throw _0x43a4b1;throw new bad_request_error_1['BadRequestError'](_0x43a4b1);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a211_0x165779(0x1ff)])(providers_tokens_1[a211_0x165779(0x20f)][a211_0x165779(0x22b)])),__metadata(a211_0x165779(0x21c),[bitbucket_server_api_service_1[a211_0x165779(0x1f6)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a211_0x165779(0x20d)]=BitbucketServerRepoService;function a211_0xed48(){const _0x331931=['99sxvdpB','defaults','search','isDefault','name','../../../../../core/errors/bad-request.error','../../../../../core/errors/api.error','/repos','defaultBranch','Git','../../providers.tokens','credentials','fromBitbucketServer','/default-branch','BadRequestError','baseURL','apply','delete','projects/','8AcLbRR','getOwnPropertyDescriptor','function','git','displayId','createEmptyBranch','nextPageStart','request','apiUrl','20lCDshz','GitRepoService','object','511430vhtyQV','NotFoundError','__decorate','205404Eujdrz','getOne','2107903ekjLcw','length','toString','BitbucketServerApiService','typedi','map','slug','joinURL','master','6269164nTpHDD','/branches','55kTyFwm','Inject','Repo','../../../../shared/utils','autoInit','/projects/','2024760HxYiAe','defineProperty','__esModule','32251CmkqWK','api','metadata','__metadata','./git-repo.service','decorate','BitbucketServerRepoService','4682184afiKkv','Tokens','update','../repo.class','/repos/','constructor','put','../../credentials/dto/bitbucket-server-credentials.dto','apiBody','getAll','project','values','ApiError','../../api/bitbucket-server-api.service','design:paramtypes','__param','get','../../../internal/git.internal'];a211_0xed48=function(){return _0x331931;};return a211_0xed48();}