function a154_0xf10d(){const _0x79f18b=['project','BitbucketServerRepoService','__decorate','createEmptyBranch','18304164HWReWq','__param','Tokens','function','../repo.class','getOwnPropertyDescriptor','create','values','metadata','BitbucketServerApiService','post','/projects/','displayId','../../../internal/git.internal','request','./git-repo.service','__esModule','toString','fromBitbucketServer','design:paramtypes','credentials','../../api/bitbucket-server-api.service','length','/repos/','defaultBranch','autoInit','put','(((.+)+)+)+$','../../providers.tokens','typedi','find','map','get','getOne','delete','Git','../../../../../core/errors/api.error','Service','/branches','Repo','apiBody','api','2420240CciJLz','/repos','../../../../../core/errors/not-found.error','baseURL','nextPageStart','isLastPage','name','defineProperty','joinURL','master','703578czeVQx','getAll','7tuIsyo','../../../../../core/errors/bad-request.error','3SabNCp','search','542803zZznNU','isDefault','951506avUXZR','/default-branch','10Ectoop','ApiError','BadRequestError','323912HsGJUD','defaults','NotFoundError','decorate','3191780ZueSey','projects/','__metadata'];a154_0xf10d=function(){return _0x79f18b;};return a154_0xf10d();}const a154_0x4dbf1e=a154_0xd26e;(function(_0x33d45d,_0x25a444){const _0x1aef19=a154_0xd26e,_0xb01867=_0x33d45d();while(!![]){try{const _0x90c2eb=-parseInt(_0x1aef19(0x11a))/0x1+parseInt(_0x1aef19(0x11c))/0x2+parseInt(_0x1aef19(0x118))/0x3*(-parseInt(_0x1aef19(0x125))/0x4)+-parseInt(_0x1aef19(0x10a))/0x5+parseInt(_0x1aef19(0x114))/0x6+-parseInt(_0x1aef19(0x116))/0x7*(-parseInt(_0x1aef19(0x121))/0x8)+parseInt(_0x1aef19(0x12c))/0x9*(parseInt(_0x1aef19(0x11e))/0xa);if(_0x90c2eb===_0x25a444)break;else _0xb01867['push'](_0xb01867['shift']());}catch(_0x3fcfd8){_0xb01867['push'](_0xb01867['shift']());}}}(a154_0xf10d,0xcdb09));const a154_0x53c7cd=(function(){let _0x5cdcb0=!![];return function(_0x1cf1d5,_0xa0a132){const _0x10a4df=_0x5cdcb0?function(){if(_0xa0a132){const _0x16a9d3=_0xa0a132['apply'](_0x1cf1d5,arguments);return _0xa0a132=null,_0x16a9d3;}}:function(){};return _0x5cdcb0=![],_0x10a4df;};}()),a154_0x382cff=a154_0x53c7cd(this,function(){const _0x12e7b9=a154_0xd26e;return a154_0x382cff[_0x12e7b9(0xf1)]()[_0x12e7b9(0x119)](_0x12e7b9(0xfb))['toString']()['constructor'](a154_0x382cff)[_0x12e7b9(0x119)](_0x12e7b9(0xfb));});function a154_0xd26e(_0x515033,_0x5eb615){const _0x4003d8=a154_0xf10d();return a154_0xd26e=function(_0x382cff,_0x53c7cd){_0x382cff=_0x382cff-0xe3;let _0xf10dce=_0x4003d8[_0x382cff];return _0xf10dce;},a154_0xd26e(_0x515033,_0x5eb615);}a154_0x382cff();'use strict';var __decorate=this&&this[a154_0x4dbf1e(0x12a)]||function(_0x494dc0,_0x5d1b6e,_0x7b7f47,_0x2ce494){const _0x17339f=a154_0x4dbf1e;var _0x3f6310=arguments[_0x17339f(0xf6)],_0x2aed45=_0x3f6310<0x3?_0x5d1b6e:_0x2ce494===null?_0x2ce494=Object[_0x17339f(0xe5)](_0x5d1b6e,_0x7b7f47):_0x2ce494,_0x166c5a;if(typeof Reflect==='object'&&typeof Reflect[_0x17339f(0x124)]===_0x17339f(0xe3))_0x2aed45=Reflect[_0x17339f(0x124)](_0x494dc0,_0x5d1b6e,_0x7b7f47,_0x2ce494);else{for(var _0x39e362=_0x494dc0[_0x17339f(0xf6)]-0x1;_0x39e362>=0x0;_0x39e362--)if(_0x166c5a=_0x494dc0[_0x39e362])_0x2aed45=(_0x3f6310<0x3?_0x166c5a(_0x2aed45):_0x3f6310>0x3?_0x166c5a(_0x5d1b6e,_0x7b7f47,_0x2aed45):_0x166c5a(_0x5d1b6e,_0x7b7f47))||_0x2aed45;}return _0x3f6310>0x3&&_0x2aed45&&Object['defineProperty'](_0x5d1b6e,_0x7b7f47,_0x2aed45),_0x2aed45;},__metadata=this&&this[a154_0x4dbf1e(0x127)]||function(_0x31b171,_0x4e4b60){const _0x43331d=a154_0x4dbf1e;if(typeof Reflect==='object'&&typeof Reflect[_0x43331d(0xe8)]===_0x43331d(0xe3))return Reflect[_0x43331d(0xe8)](_0x31b171,_0x4e4b60);},__param=this&&this[a154_0x4dbf1e(0x12d)]||function(_0x2f8986,_0x2fc7cf){return function(_0xe9ac42,_0x569bba){_0x2fc7cf(_0xe9ac42,_0x569bba,_0x2f8986);};};Object[a154_0x4dbf1e(0x111)](exports,a154_0x4dbf1e(0xf0),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a154_0x4dbf1e(0x117)),not_found_error_1=require(a154_0x4dbf1e(0x10c)),typedi_1=require(a154_0x4dbf1e(0xfd)),api_error_1=require(a154_0x4dbf1e(0x104)),bitbucket_server_api_service_1=require(a154_0x4dbf1e(0xf5)),git_internal_1=require(a154_0x4dbf1e(0xed)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a154_0x4dbf1e(0xe4)),git_repo_service_1=require(a154_0x4dbf1e(0xef)),providers_tokens_1=require(a154_0x4dbf1e(0xfc)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x335393,_0x3188f9){const _0x5e232f=a154_0x4dbf1e;super(_0x335393),this[_0x5e232f(0x109)]=_0x335393,this[_0x5e232f(0x128)]=_0x3188f9[_0x5e232f(0x128)],this[_0x5e232f(0xf4)]=_0x3188f9;}async[a154_0x4dbf1e(0xe6)](_0x5caa2e){const _0x50c877=a154_0x4dbf1e;try{const _0x1ff9c7={'name':_0x5caa2e[_0x50c877(0x110)],'scmId':'git','defaultBranch':_0x5caa2e[_0x50c877(0xf8)],..._0x5caa2e[_0x50c877(0x108)]||{}},_0xe4443b=await this[_0x50c877(0xee)][_0x50c877(0xea)]('projects/'+this[_0x50c877(0x128)]+'/repos',_0x1ff9c7),_0x236f30=repo_class_1[_0x50c877(0x107)][_0x50c877(0xf2)](_0xe4443b,'',this[_0x50c877(0x109)],this[_0x50c877(0xf4)]);return _0x5caa2e[_0x50c877(0xf9)]&&await git_internal_1[_0x50c877(0x103)][_0x50c877(0x12b)](_0x236f30,_0x5caa2e['defaultBranch']||_0x50c877(0x113),'',this[_0x50c877(0xf4)]),this[_0x50c877(0x101)](_0x236f30[_0x50c877(0x110)]);}catch(_0x5af24f){if(_0x5af24f instanceof api_error_1['ApiError'])throw _0x5af24f;throw new bad_request_error_1['BadRequestError'](_0x5af24f);}}async[a154_0x4dbf1e(0x115)](){const _0x4062d4=a154_0x4dbf1e;try{const _0x3baa84=[];let _0x504ff1;do{_0x504ff1=await this[_0x4062d4(0xee)][_0x4062d4(0x100)](_0x4062d4(0x126)+this[_0x4062d4(0x128)]+_0x4062d4(0x10b),{'params':{'limit':0x64,'start':_0x504ff1?_0x504ff1[_0x4062d4(0x10e)]:0x0}}),_0x3baa84['push'](..._0x504ff1[_0x4062d4(0xe7)]);}while(!_0x504ff1[_0x4062d4(0x10f)]);return _0x3baa84[_0x4062d4(0xff)](_0x1b1156=>repo_class_1[_0x4062d4(0x107)][_0x4062d4(0xf2)](_0x1b1156,utils_1[_0x4062d4(0x112)](this['request'][_0x4062d4(0x122)][_0x4062d4(0x10d)]||'',_0x4062d4(0xeb)+this[_0x4062d4(0x128)]+_0x4062d4(0xf7)+_0x1b1156['slug']),this[_0x4062d4(0x109)],this[_0x4062d4(0xf4)]));}catch(_0x505afb){if(_0x505afb instanceof api_error_1[_0x4062d4(0x11f)])throw _0x505afb;throw new not_found_error_1[(_0x4062d4(0x123))](_0x505afb);}}async[a154_0x4dbf1e(0x101)](_0x269239){const _0x1894df=a154_0x4dbf1e;var _0x3bc3ce;try{const _0x52c394=await this[_0x1894df(0xee)][_0x1894df(0x100)]('projects/'+this[_0x1894df(0x128)]+_0x1894df(0xf7)+_0x269239),_0x3590cd=repo_class_1[_0x1894df(0x107)][_0x1894df(0xf2)](_0x52c394,utils_1[_0x1894df(0x112)](this[_0x1894df(0xee)][_0x1894df(0x122)][_0x1894df(0x10d)]||'',_0x1894df(0xeb)+this['project']+'/repos/'+_0x269239),this[_0x1894df(0x109)],this[_0x1894df(0xf4)]),_0x2c89c3=await this[_0x1894df(0xee)][_0x1894df(0x100)](_0x3590cd['apiUrl']+_0x1894df(0x106))['then'](_0xfa81de=>_0xfa81de['values']);return _0x3590cd[_0x1894df(0xf8)]=(_0x3bc3ce=_0x2c89c3[_0x1894df(0xfe)](_0x2549ad=>_0x2549ad[_0x1894df(0x11b)]===!![]))===null||_0x3bc3ce===void 0x0?void 0x0:_0x3bc3ce[_0x1894df(0xec)],_0x3590cd;}catch(_0x30f3ff){if(_0x30f3ff instanceof api_error_1['ApiError'])throw _0x30f3ff;throw new not_found_error_1[(_0x1894df(0x123))](_0x30f3ff);}}async['update'](_0x119c87,_0x10ffe8){const _0x3a8c98=a154_0x4dbf1e;try{const _0xa5dc20=await this[_0x3a8c98(0xee)][_0x3a8c98(0xfa)](_0x3a8c98(0x126)+this['project']+_0x3a8c98(0xf7)+_0x119c87,_0x10ffe8),_0x3d9474=await this[_0x3a8c98(0xee)][_0x3a8c98(0x100)](_0x3a8c98(0x126)+this['project']+_0x3a8c98(0xf7)+_0x119c87+_0x3a8c98(0x11d)),_0x263248=repo_class_1[_0x3a8c98(0x107)][_0x3a8c98(0xf2)](_0xa5dc20,utils_1[_0x3a8c98(0x112)](this[_0x3a8c98(0xee)]['defaults'][_0x3a8c98(0x10d)]||'',_0x3a8c98(0xeb)+this[_0x3a8c98(0x128)]+_0x3a8c98(0xf7)+_0x119c87),this['api'],this[_0x3a8c98(0xf4)]);return _0x263248[_0x3a8c98(0xf8)]=_0x3d9474[_0x3a8c98(0xec)],_0x263248;}catch(_0x1c5c92){if(_0x1c5c92 instanceof api_error_1['ApiError'])throw _0x1c5c92;throw new not_found_error_1['NotFoundError'](_0x1c5c92);}}async[a154_0x4dbf1e(0x102)](_0x289eb5){const _0x1a87a4=a154_0x4dbf1e;try{await this[_0x1a87a4(0x101)](_0x289eb5),await this[_0x1a87a4(0xee)][_0x1a87a4(0x102)]('projects/'+this[_0x1a87a4(0x128)]+_0x1a87a4(0xf7)+_0x289eb5);}catch(_0x32d40b){if(_0x32d40b instanceof api_error_1[_0x1a87a4(0x11f)])throw _0x32d40b;throw new bad_request_error_1[(_0x1a87a4(0x120))](_0x32d40b);}}};BitbucketServerRepoService=__decorate([typedi_1[a154_0x4dbf1e(0x105)](),__param(0x1,typedi_1['Inject'](providers_tokens_1[a154_0x4dbf1e(0x12e)][a154_0x4dbf1e(0xf4)])),__metadata(a154_0x4dbf1e(0xf3),[bitbucket_server_api_service_1[a154_0x4dbf1e(0xe9)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a154_0x4dbf1e(0x129)]=BitbucketServerRepoService;