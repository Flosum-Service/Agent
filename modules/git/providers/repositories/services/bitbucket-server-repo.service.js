const a200_0x40fb85=a200_0x1abf;(function(_0x1f669a,_0x4d770f){const _0x21502c=a200_0x1abf,_0x11843c=_0x1f669a();while(!![]){try{const _0x4847c4=parseInt(_0x21502c(0x11d))/0x1+-parseInt(_0x21502c(0x153))/0x2+parseInt(_0x21502c(0x149))/0x3*(-parseInt(_0x21502c(0x14b))/0x4)+-parseInt(_0x21502c(0x12d))/0x5+-parseInt(_0x21502c(0x110))/0x6*(-parseInt(_0x21502c(0x12e))/0x7)+parseInt(_0x21502c(0x156))/0x8+-parseInt(_0x21502c(0x116))/0x9*(-parseInt(_0x21502c(0x12a))/0xa);if(_0x4847c4===_0x4d770f)break;else _0x11843c['push'](_0x11843c['shift']());}catch(_0x119cc9){_0x11843c['push'](_0x11843c['shift']());}}}(a200_0x26aa,0xde6b7));const a200_0x143898=(function(){let _0x5b1c87=!![];return function(_0x1eba74,_0x41a11d){const _0x3d1d8c=_0x5b1c87?function(){const _0x540cf3=a200_0x1abf;if(_0x41a11d){const _0x5084dc=_0x41a11d[_0x540cf3(0x123)](_0x1eba74,arguments);return _0x41a11d=null,_0x5084dc;}}:function(){};return _0x5b1c87=![],_0x3d1d8c;};}()),a200_0x3c244e=a200_0x143898(this,function(){const _0x5f13f0=a200_0x1abf;return a200_0x3c244e[_0x5f13f0(0x130)]()[_0x5f13f0(0x15a)](_0x5f13f0(0x145))[_0x5f13f0(0x130)]()[_0x5f13f0(0x120)](a200_0x3c244e)['search'](_0x5f13f0(0x145));});a200_0x3c244e();'use strict';var __decorate=this&&this[a200_0x40fb85(0x122)]||function(_0x62a673,_0x4bb4c4,_0x479705,_0x2d8117){const _0xa1b21d=a200_0x40fb85;var _0x1350f1=arguments[_0xa1b21d(0x10f)],_0x9b6718=_0x1350f1<0x3?_0x4bb4c4:_0x2d8117===null?_0x2d8117=Object[_0xa1b21d(0x146)](_0x4bb4c4,_0x479705):_0x2d8117,_0x35dc15;if(typeof Reflect===_0xa1b21d(0x118)&&typeof Reflect[_0xa1b21d(0x142)]===_0xa1b21d(0x111))_0x9b6718=Reflect[_0xa1b21d(0x142)](_0x62a673,_0x4bb4c4,_0x479705,_0x2d8117);else{for(var _0xb83491=_0x62a673[_0xa1b21d(0x10f)]-0x1;_0xb83491>=0x0;_0xb83491--)if(_0x35dc15=_0x62a673[_0xb83491])_0x9b6718=(_0x1350f1<0x3?_0x35dc15(_0x9b6718):_0x1350f1>0x3?_0x35dc15(_0x4bb4c4,_0x479705,_0x9b6718):_0x35dc15(_0x4bb4c4,_0x479705))||_0x9b6718;}return _0x1350f1>0x3&&_0x9b6718&&Object[_0xa1b21d(0x148)](_0x4bb4c4,_0x479705,_0x9b6718),_0x9b6718;},__metadata=this&&this[a200_0x40fb85(0x13b)]||function(_0x381140,_0x1a90c1){const _0x2cdfd4=a200_0x40fb85;if(typeof Reflect===_0x2cdfd4(0x118)&&typeof Reflect[_0x2cdfd4(0x13e)]===_0x2cdfd4(0x111))return Reflect[_0x2cdfd4(0x13e)](_0x381140,_0x1a90c1);},__param=this&&this[a200_0x40fb85(0x12c)]||function(_0x372567,_0x1037d8){return function(_0x509c0e,_0x246c0){_0x1037d8(_0x509c0e,_0x246c0,_0x372567);};};Object[a200_0x40fb85(0x148)](exports,a200_0x40fb85(0x114),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a200_0x40fb85(0x11e)),not_found_error_1=require(a200_0x40fb85(0x132)),typedi_1=require(a200_0x40fb85(0x136)),api_error_1=require(a200_0x40fb85(0x125)),bitbucket_server_api_service_1=require(a200_0x40fb85(0x10e)),git_internal_1=require(a200_0x40fb85(0x11c)),utils_1=require(a200_0x40fb85(0x14c)),repo_class_1=require(a200_0x40fb85(0x151)),git_repo_service_1=require(a200_0x40fb85(0x10c)),providers_tokens_1=require(a200_0x40fb85(0x14d)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a200_0x40fb85(0x119)]{constructor(_0xc1ca90,_0x19f18a){const _0x2df9cd=a200_0x40fb85;super(_0xc1ca90),this[_0x2df9cd(0x13a)]=_0xc1ca90,this['project']=_0x19f18a[_0x2df9cd(0x112)],this[_0x2df9cd(0x11f)]=_0x19f18a;}async[a200_0x40fb85(0x158)](_0x2ef239){const _0x90b1d6=a200_0x40fb85;try{const _0x18ad4f={'name':_0x2ef239[_0x90b1d6(0x117)],'scmId':'git','defaultBranch':_0x2ef239[_0x90b1d6(0x13f)],..._0x2ef239[_0x90b1d6(0x11a)]||{}},_0x17adc4=await this[_0x90b1d6(0x115)]['post'](_0x90b1d6(0x137)+this[_0x90b1d6(0x112)]+'/repos',_0x18ad4f),_0x51dab2=repo_class_1['Repo'][_0x90b1d6(0x155)](_0x17adc4,'',this['api'],this[_0x90b1d6(0x11f)]);return _0x2ef239[_0x90b1d6(0x128)]&&await git_internal_1['Git']['createEmptyBranch'](_0x51dab2,_0x2ef239[_0x90b1d6(0x13f)]||_0x90b1d6(0x131),'',this['credentials']),this[_0x90b1d6(0x147)](_0x51dab2[_0x90b1d6(0x117)]);}catch(_0x288a24){if(_0x288a24 instanceof api_error_1[_0x90b1d6(0x144)])throw _0x288a24;throw new bad_request_error_1[(_0x90b1d6(0x121))](_0x288a24);}}async[a200_0x40fb85(0x14f)](){const _0x17dfac=a200_0x40fb85;try{const _0x92a5c1=[];let _0x39fca3;do{_0x39fca3=await this[_0x17dfac(0x115)][_0x17dfac(0x140)](_0x17dfac(0x137)+this[_0x17dfac(0x112)]+'/repos',{'params':{'limit':0x64,'start':_0x39fca3?_0x39fca3[_0x17dfac(0x15b)]:0x0}}),_0x92a5c1[_0x17dfac(0x143)](..._0x39fca3[_0x17dfac(0x154)]);}while(!_0x39fca3[_0x17dfac(0x157)]);return _0x92a5c1[_0x17dfac(0x126)](_0x3390ff=>repo_class_1['Repo']['fromBitbucketServer'](_0x3390ff,(0x0,utils_1[_0x17dfac(0x113)])(this[_0x17dfac(0x115)][_0x17dfac(0x14a)][_0x17dfac(0x13c)]||'',_0x17dfac(0x129)+this[_0x17dfac(0x112)]+_0x17dfac(0x13d)+_0x3390ff[_0x17dfac(0x14e)]),this['api'],this[_0x17dfac(0x11f)]));}catch(_0x23b0ad){if(_0x23b0ad instanceof api_error_1[_0x17dfac(0x144)])throw _0x23b0ad;throw new not_found_error_1['NotFoundError'](_0x23b0ad);}}async['getOne'](_0x59074d){const _0x4e984a=a200_0x40fb85;var _0x1e4a0e;try{const _0x1a9428=await this['request'][_0x4e984a(0x140)](_0x4e984a(0x137)+this['project']+_0x4e984a(0x13d)+_0x59074d),_0x2c9f9f=repo_class_1[_0x4e984a(0x152)]['fromBitbucketServer'](_0x1a9428,(0x0,utils_1['joinURL'])(this[_0x4e984a(0x115)][_0x4e984a(0x14a)][_0x4e984a(0x13c)]||'',_0x4e984a(0x129)+this[_0x4e984a(0x112)]+_0x4e984a(0x13d)+_0x59074d),this['api'],this['credentials']),_0x1f4f61=await this[_0x4e984a(0x115)][_0x4e984a(0x140)](_0x2c9f9f[_0x4e984a(0x138)]+_0x4e984a(0x10b))[_0x4e984a(0x11b)](_0x1c781f=>_0x1c781f[_0x4e984a(0x154)]);return _0x2c9f9f[_0x4e984a(0x13f)]=(_0x1e4a0e=_0x1f4f61['find'](_0x2c236e=>_0x2c236e[_0x4e984a(0x150)]===!![]))===null||_0x1e4a0e===void 0x0?void 0x0:_0x1e4a0e['displayId'],_0x2c9f9f;}catch(_0x444d1f){if(_0x444d1f instanceof api_error_1[_0x4e984a(0x144)])throw _0x444d1f;throw new not_found_error_1[(_0x4e984a(0x133))](_0x444d1f);}}async[a200_0x40fb85(0x135)](_0xa2fe12,_0x2dc055){const _0x340eb2=a200_0x40fb85;try{const _0x4931dd=await this[_0x340eb2(0x115)][_0x340eb2(0x159)](_0x340eb2(0x137)+this[_0x340eb2(0x112)]+_0x340eb2(0x13d)+_0xa2fe12,_0x2dc055),_0x5c2743=await this[_0x340eb2(0x115)][_0x340eb2(0x140)](_0x340eb2(0x137)+this[_0x340eb2(0x112)]+_0x340eb2(0x13d)+_0xa2fe12+_0x340eb2(0x134)),_0x165c1a=repo_class_1['Repo'][_0x340eb2(0x155)](_0x4931dd,(0x0,utils_1['joinURL'])(this[_0x340eb2(0x115)][_0x340eb2(0x14a)][_0x340eb2(0x13c)]||'',_0x340eb2(0x129)+this['project']+'/repos/'+_0xa2fe12),this['api'],this['credentials']);return _0x165c1a[_0x340eb2(0x13f)]=_0x5c2743[_0x340eb2(0x10d)],_0x165c1a;}catch(_0x2af161){if(_0x2af161 instanceof api_error_1['ApiError'])throw _0x2af161;throw new not_found_error_1[(_0x340eb2(0x133))](_0x2af161);}}async[a200_0x40fb85(0x139)](_0x4bb827){const _0x4cf408=a200_0x40fb85;try{await this[_0x4cf408(0x147)](_0x4bb827),await this[_0x4cf408(0x115)][_0x4cf408(0x139)](_0x4cf408(0x137)+this[_0x4cf408(0x112)]+_0x4cf408(0x13d)+_0x4bb827);}catch(_0x1c28ad){if(_0x1c28ad instanceof api_error_1['ApiError'])throw _0x1c28ad;throw new bad_request_error_1[(_0x4cf408(0x121))](_0x1c28ad);}}};function a200_0x1abf(_0x262466,_0x35bd42){const _0x243e72=a200_0x26aa();return a200_0x1abf=function(_0x3c244e,_0x143898){_0x3c244e=_0x3c244e-0x10b;let _0x26aa8d=_0x243e72[_0x3c244e];return _0x26aa8d;},a200_0x1abf(_0x262466,_0x35bd42);}function a200_0x26aa(){const _0x43ddf9=['isDefault','../repo.class','Repo','2581778LkBkUE','values','fromBitbucketServer','2050696ZOCUwY','isLastPage','create','put','search','nextPageStart','BitbucketServerCredentialsDto','/branches','./git-repo.service','displayId','../../api/bitbucket-server-api.service','length','18KngiPS','function','project','joinURL','__esModule','request','9CasLlq','name','object','GitRepoService','apiBody','then','../../../internal/git.internal','873659uqiqBr','../../../../../core/errors/bad-request.error','credentials','constructor','BadRequestError','__decorate','apply','BitbucketServerRepoService','../../../../../core/errors/api.error','map','BitbucketServerApiService','autoInit','/projects/','24367520wmVXGD','Service','__param','8720615roRoZW','2071923rPIDFW','design:paramtypes','toString','master','../../../../../core/errors/not-found.error','NotFoundError','/default-branch','update','typedi','projects/','apiUrl','delete','api','__metadata','baseURL','/repos/','metadata','defaultBranch','get','Inject','decorate','push','ApiError','(((.+)+)+)+$','getOwnPropertyDescriptor','getOne','defineProperty','47688DGxjTl','defaults','128FXImYg','../../../../shared/utils','../../providers.tokens','slug','getAll'];a200_0x26aa=function(){return _0x43ddf9;};return a200_0x26aa();}BitbucketServerRepoService=__decorate([(0x0,typedi_1[a200_0x40fb85(0x12b)])(),__param(0x1,(0x0,typedi_1[a200_0x40fb85(0x141)])(providers_tokens_1['Tokens'][a200_0x40fb85(0x11f)])),__metadata(a200_0x40fb85(0x12f),[bitbucket_server_api_service_1[a200_0x40fb85(0x127)],bitbucket_server_credentials_dto_1[a200_0x40fb85(0x15c)]])],BitbucketServerRepoService),exports[a200_0x40fb85(0x124)]=BitbucketServerRepoService;