function a201_0x154a(){const _0x1607e7=['ApiError','apiUrl','getOwnPropertyDescriptor','push','nextPageStart','getOne','function','1063560LZxjlB','object','decorate','defaults','slug','../../providers.tokens','defaultBranch','projects/','createEmptyBranch','toString','/default-branch','477dQmVex','get','__metadata','3586583NVvdNv','490467TirzOS','autoInit','isDefault','name','apply','project','Inject','../../../../../core/errors/api.error','2331475JyynKE','../repo.class','update','git','NotFoundError','/repos/','__decorate','/projects/','Repo','505154wghTLF','api','search','joinURL','BitbucketServerRepoService','../../credentials/dto/bitbucket-server-credentials.dto','displayId','8LhdXMi','apiBody','metadata','(((.+)+)+)+$','request','put','getAll','../../../../../core/errors/not-found.error','create','Tokens','baseURL','post','/branches','map','../../../../shared/utils','find','defineProperty','BitbucketServerCredentialsDto','then','isLastPage','BadRequestError','/repos','delete','master','values','__esModule','1637796HCZQje','credentials','length','71816dzvKlj','fromBitbucketServer'];a201_0x154a=function(){return _0x1607e7;};return a201_0x154a();}const a201_0x3686c1=a201_0xe0f4;function a201_0xe0f4(_0xd98824,_0x5b6473){const _0x4f449a=a201_0x154a();return a201_0xe0f4=function(_0x2d3afe,_0x383fb3){_0x2d3afe=_0x2d3afe-0xb8;let _0x154a75=_0x4f449a[_0x2d3afe];return _0x154a75;},a201_0xe0f4(_0xd98824,_0x5b6473);}(function(_0x34b9ff,_0x474455){const _0x586702=a201_0xe0f4,_0x3707dc=_0x34b9ff();while(!![]){try{const _0x5f34ab=parseInt(_0x586702(0xe5))/0x1+-parseInt(_0x586702(0xc5))/0x2+parseInt(_0x586702(0xd4))/0x3*(-parseInt(_0x586702(0xec))/0x4)+parseInt(_0x586702(0xdc))/0x5+parseInt(_0x586702(0xb9))/0x6+parseInt(_0x586702(0xd3))/0x7+-parseInt(_0x586702(0xbc))/0x8*(parseInt(_0x586702(0xd0))/0x9);if(_0x5f34ab===_0x474455)break;else _0x3707dc['push'](_0x3707dc['shift']());}catch(_0x1a7a4c){_0x3707dc['push'](_0x3707dc['shift']());}}}(a201_0x154a,0x67165));const a201_0x383fb3=(function(){let _0x1c13a9=!![];return function(_0x429f42,_0x207c4d){const _0x33a8df=_0x1c13a9?function(){const _0x329587=a201_0xe0f4;if(_0x207c4d){const _0x5a22de=_0x207c4d[_0x329587(0xd8)](_0x429f42,arguments);return _0x207c4d=null,_0x5a22de;}}:function(){};return _0x1c13a9=![],_0x33a8df;};}()),a201_0x2d3afe=a201_0x383fb3(this,function(){const _0x5bbf24=a201_0xe0f4;return a201_0x2d3afe[_0x5bbf24(0xce)]()[_0x5bbf24(0xe7)](_0x5bbf24(0xef))[_0x5bbf24(0xce)]()['constructor'](a201_0x2d3afe)[_0x5bbf24(0xe7)]('(((.+)+)+)+$');});a201_0x2d3afe();'use strict';var __decorate=this&&this[a201_0x3686c1(0xe2)]||function(_0x4362f7,_0x2c4c4c,_0x5df91f,_0x2d35ba){const _0x512d60=a201_0x3686c1;var _0x50bb55=arguments[_0x512d60(0xbb)],_0x2ef62c=_0x50bb55<0x3?_0x2c4c4c:_0x2d35ba===null?_0x2d35ba=Object[_0x512d60(0xc0)](_0x2c4c4c,_0x5df91f):_0x2d35ba,_0x35ef2c;if(typeof Reflect===_0x512d60(0xc6)&&typeof Reflect['decorate']===_0x512d60(0xc4))_0x2ef62c=Reflect[_0x512d60(0xc7)](_0x4362f7,_0x2c4c4c,_0x5df91f,_0x2d35ba);else{for(var _0x2e4f74=_0x4362f7[_0x512d60(0xbb)]-0x1;_0x2e4f74>=0x0;_0x2e4f74--)if(_0x35ef2c=_0x4362f7[_0x2e4f74])_0x2ef62c=(_0x50bb55<0x3?_0x35ef2c(_0x2ef62c):_0x50bb55>0x3?_0x35ef2c(_0x2c4c4c,_0x5df91f,_0x2ef62c):_0x35ef2c(_0x2c4c4c,_0x5df91f))||_0x2ef62c;}return _0x50bb55>0x3&&_0x2ef62c&&Object[_0x512d60(0xfc)](_0x2c4c4c,_0x5df91f,_0x2ef62c),_0x2ef62c;},__metadata=this&&this[a201_0x3686c1(0xd2)]||function(_0x2c0eed,_0x1cec1e){const _0x454d86=a201_0x3686c1;if(typeof Reflect===_0x454d86(0xc6)&&typeof Reflect[_0x454d86(0xee)]===_0x454d86(0xc4))return Reflect['metadata'](_0x2c0eed,_0x1cec1e);},__param=this&&this['__param']||function(_0x23c6a7,_0x4574d2){return function(_0xa73860,_0x24fc3d){_0x4574d2(_0xa73860,_0x24fc3d,_0x23c6a7);};};Object[a201_0x3686c1(0xfc)](exports,a201_0x3686c1(0xb8),{'value':!![]}),exports[a201_0x3686c1(0xe9)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a201_0x3686c1(0xf3)),typedi_1=require('typedi'),api_error_1=require(a201_0x3686c1(0xdb)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require('../../../internal/git.internal'),utils_1=require(a201_0x3686c1(0xfa)),repo_class_1=require(a201_0x3686c1(0xdd)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a201_0x3686c1(0xca)),bitbucket_server_credentials_dto_1=require(a201_0x3686c1(0xea));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x4523db,_0x58edf6){const _0x56fdf6=a201_0x3686c1;super(_0x4523db),this[_0x56fdf6(0xe6)]=_0x4523db,this['project']=_0x58edf6[_0x56fdf6(0xd9)],this[_0x56fdf6(0xba)]=_0x58edf6;}async[a201_0x3686c1(0xf4)](_0x3ce817){const _0x54b442=a201_0x3686c1;try{const _0x3821f6={'name':_0x3ce817[_0x54b442(0xd7)],'scmId':_0x54b442(0xdf),'defaultBranch':_0x3ce817[_0x54b442(0xcb)],..._0x3ce817[_0x54b442(0xed)]||{}},_0x2a0763=await this[_0x54b442(0xf0)][_0x54b442(0xf7)](_0x54b442(0xcc)+this[_0x54b442(0xd9)]+_0x54b442(0x101),_0x3821f6),_0x141cff=repo_class_1[_0x54b442(0xe4)][_0x54b442(0xbd)](_0x2a0763,'',this['api'],this['credentials']);return _0x3ce817[_0x54b442(0xd5)]&&await git_internal_1['Git'][_0x54b442(0xcd)](_0x141cff,_0x3ce817['defaultBranch']||_0x54b442(0x103),'',this['credentials']),this[_0x54b442(0xc3)](_0x141cff[_0x54b442(0xd7)]);}catch(_0x3ee96d){if(_0x3ee96d instanceof api_error_1[_0x54b442(0xbe)])throw _0x3ee96d;throw new bad_request_error_1[(_0x54b442(0x100))](_0x3ee96d);}}async[a201_0x3686c1(0xf2)](){const _0x2fd749=a201_0x3686c1;try{const _0xcab252=[];let _0x15605b;do{_0x15605b=await this['request'][_0x2fd749(0xd1)]('projects/'+this[_0x2fd749(0xd9)]+_0x2fd749(0x101),{'params':{'limit':0x64,'start':_0x15605b?_0x15605b[_0x2fd749(0xc2)]:0x0}}),_0xcab252[_0x2fd749(0xc1)](..._0x15605b[_0x2fd749(0x104)]);}while(!_0x15605b[_0x2fd749(0xff)]);return _0xcab252[_0x2fd749(0xf9)](_0x5b765e=>repo_class_1[_0x2fd749(0xe4)][_0x2fd749(0xbd)](_0x5b765e,(0x0,utils_1[_0x2fd749(0xe8)])(this[_0x2fd749(0xf0)][_0x2fd749(0xc8)][_0x2fd749(0xf6)]||'',_0x2fd749(0xe3)+this['project']+_0x2fd749(0xe1)+_0x5b765e[_0x2fd749(0xc9)]),this[_0x2fd749(0xe6)],this[_0x2fd749(0xba)]));}catch(_0x569234){if(_0x569234 instanceof api_error_1[_0x2fd749(0xbe)])throw _0x569234;throw new not_found_error_1[(_0x2fd749(0xe0))](_0x569234);}}async[a201_0x3686c1(0xc3)](_0x1117ec){const _0xe353=a201_0x3686c1;var _0xc07f09;try{const _0x4d19dd=await this[_0xe353(0xf0)][_0xe353(0xd1)](_0xe353(0xcc)+this['project']+_0xe353(0xe1)+_0x1117ec),_0x4597b7=repo_class_1[_0xe353(0xe4)][_0xe353(0xbd)](_0x4d19dd,(0x0,utils_1['joinURL'])(this[_0xe353(0xf0)][_0xe353(0xc8)][_0xe353(0xf6)]||'',_0xe353(0xe3)+this[_0xe353(0xd9)]+_0xe353(0xe1)+_0x1117ec),this[_0xe353(0xe6)],this[_0xe353(0xba)]),_0x45d8d0=await this[_0xe353(0xf0)][_0xe353(0xd1)](_0x4597b7[_0xe353(0xbf)]+_0xe353(0xf8))[_0xe353(0xfe)](_0xc29adf=>_0xc29adf['values']);return _0x4597b7['defaultBranch']=(_0xc07f09=_0x45d8d0[_0xe353(0xfb)](_0x48a04e=>_0x48a04e[_0xe353(0xd6)]===!![]))===null||_0xc07f09===void 0x0?void 0x0:_0xc07f09[_0xe353(0xeb)],_0x4597b7;}catch(_0x421fb3){if(_0x421fb3 instanceof api_error_1[_0xe353(0xbe)])throw _0x421fb3;throw new not_found_error_1[(_0xe353(0xe0))](_0x421fb3);}}async[a201_0x3686c1(0xde)](_0xf0b6e,_0x4a827d){const _0x153e86=a201_0x3686c1;try{const _0x222389=await this['request'][_0x153e86(0xf1)](_0x153e86(0xcc)+this[_0x153e86(0xd9)]+_0x153e86(0xe1)+_0xf0b6e,_0x4a827d),_0x2b81fb=await this[_0x153e86(0xf0)][_0x153e86(0xd1)](_0x153e86(0xcc)+this[_0x153e86(0xd9)]+_0x153e86(0xe1)+_0xf0b6e+_0x153e86(0xcf)),_0x41bfe5=repo_class_1[_0x153e86(0xe4)][_0x153e86(0xbd)](_0x222389,(0x0,utils_1[_0x153e86(0xe8)])(this[_0x153e86(0xf0)]['defaults'][_0x153e86(0xf6)]||'',_0x153e86(0xe3)+this[_0x153e86(0xd9)]+_0x153e86(0xe1)+_0xf0b6e),this['api'],this['credentials']);return _0x41bfe5['defaultBranch']=_0x2b81fb[_0x153e86(0xeb)],_0x41bfe5;}catch(_0x125b62){if(_0x125b62 instanceof api_error_1['ApiError'])throw _0x125b62;throw new not_found_error_1['NotFoundError'](_0x125b62);}}async[a201_0x3686c1(0x102)](_0x30c450){const _0x3a565c=a201_0x3686c1;try{await this['getOne'](_0x30c450),await this[_0x3a565c(0xf0)][_0x3a565c(0x102)]('projects/'+this[_0x3a565c(0xd9)]+_0x3a565c(0xe1)+_0x30c450);}catch(_0x19ba87){if(_0x19ba87 instanceof api_error_1[_0x3a565c(0xbe)])throw _0x19ba87;throw new bad_request_error_1['BadRequestError'](_0x19ba87);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a201_0x3686c1(0xda)])(providers_tokens_1[a201_0x3686c1(0xf5)][a201_0x3686c1(0xba)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1[a201_0x3686c1(0xfd)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;