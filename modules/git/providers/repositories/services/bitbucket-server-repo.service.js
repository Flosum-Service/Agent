const a237_0x9e3665=a237_0x3985;(function(_0x13fe1f,_0x1e379c){const _0x525ae1=a237_0x3985,_0x32d0cc=_0x13fe1f();while(!![]){try{const _0x16824f=-parseInt(_0x525ae1(0x150))/0x1+parseInt(_0x525ae1(0x14c))/0x2+-parseInt(_0x525ae1(0x12c))/0x3*(-parseInt(_0x525ae1(0x151))/0x4)+parseInt(_0x525ae1(0x12e))/0x5+-parseInt(_0x525ae1(0x15a))/0x6*(parseInt(_0x525ae1(0x124))/0x7)+-parseInt(_0x525ae1(0x128))/0x8+-parseInt(_0x525ae1(0x13a))/0x9*(-parseInt(_0x525ae1(0x12a))/0xa);if(_0x16824f===_0x1e379c)break;else _0x32d0cc['push'](_0x32d0cc['shift']());}catch(_0x47818d){_0x32d0cc['push'](_0x32d0cc['shift']());}}}(a237_0x3e77,0x39697));const a237_0x4de739=(function(){let _0x162dd1=!![];return function(_0x57d3d4,_0x54a1dd){const _0x369e18=_0x162dd1?function(){if(_0x54a1dd){const _0x1d4479=_0x54a1dd['apply'](_0x57d3d4,arguments);return _0x54a1dd=null,_0x1d4479;}}:function(){};return _0x162dd1=![],_0x369e18;};}()),a237_0x54a520=a237_0x4de739(this,function(){const _0x58f581=a237_0x3985;return a237_0x54a520['toString']()[_0x58f581(0x12d)](_0x58f581(0x147))[_0x58f581(0x162)]()['constructor'](a237_0x54a520)['search'](_0x58f581(0x147));});a237_0x54a520();function a237_0x3985(_0x3c0dfd,_0x22231c){const _0x2f4a53=a237_0x3e77();return a237_0x3985=function(_0x54a520,_0x4de739){_0x54a520=_0x54a520-0x11a;let _0x3e7736=_0x2f4a53[_0x54a520];return _0x3e7736;},a237_0x3985(_0x3c0dfd,_0x22231c);}'use strict';var __decorate=this&&this[a237_0x9e3665(0x127)]||function(_0x3bf88f,_0x1adba2,_0x25c505,_0x567ccd){const _0x474c19=a237_0x9e3665;var _0xee8be=arguments[_0x474c19(0x133)],_0x38309d=_0xee8be<0x3?_0x1adba2:_0x567ccd===null?_0x567ccd=Object[_0x474c19(0x154)](_0x1adba2,_0x25c505):_0x567ccd,_0x48a609;if(typeof Reflect==='object'&&typeof Reflect[_0x474c19(0x145)]==='function')_0x38309d=Reflect[_0x474c19(0x145)](_0x3bf88f,_0x1adba2,_0x25c505,_0x567ccd);else{for(var _0x12c144=_0x3bf88f[_0x474c19(0x133)]-0x1;_0x12c144>=0x0;_0x12c144--)if(_0x48a609=_0x3bf88f[_0x12c144])_0x38309d=(_0xee8be<0x3?_0x48a609(_0x38309d):_0xee8be>0x3?_0x48a609(_0x1adba2,_0x25c505,_0x38309d):_0x48a609(_0x1adba2,_0x25c505))||_0x38309d;}return _0xee8be>0x3&&_0x38309d&&Object[_0x474c19(0x120)](_0x1adba2,_0x25c505,_0x38309d),_0x38309d;},__metadata=this&&this[a237_0x9e3665(0x126)]||function(_0x20a88b,_0x482062){const _0x12353e=a237_0x9e3665;if(typeof Reflect===_0x12353e(0x135)&&typeof Reflect[_0x12353e(0x14b)]===_0x12353e(0x11e))return Reflect['metadata'](_0x20a88b,_0x482062);},__param=this&&this[a237_0x9e3665(0x11f)]||function(_0x42fdbe,_0x4c753b){return function(_0x408ec5,_0x2e8c44){_0x4c753b(_0x408ec5,_0x2e8c44,_0x42fdbe);};};function a237_0x3e77(){const _0x21ef6a=['baseURL','351552YKYrcs','14656ILdTkW','projects/','../../../../shared/utils','getOwnPropertyDescriptor','../../providers.tokens','ApiError','apiUrl','GitRepoService','autoInit','178086GfYzHM','../../credentials/dto/bitbucket-server-credentials.dto','__esModule','master','credentials','apiBody','/default-branch','../../../internal/git.internal','toString','nextPageStart','project','BitbucketServerApiService','design:paramtypes','../../../../../core/errors/not-found.error','/repos/','get','git','function','__param','defineProperty','slug','map','post','21DFRKzv','BitbucketServerCredentialsDto','__metadata','__decorate','2916024GeOyKW','/branches','10TIbVkr','find','81UEsdyR','search','1474565sHONPL','Repo','fromBitbucketServer','Tokens','values','length','request','object','BitbucketServerRepoService','Git','getOne','BadRequestError','5668119HPimJH','then','name','../../../../../core/errors/api.error','defaultBranch','../../../../../core/errors/bad-request.error','NotFoundError','joinURL','Service','/projects/','create','decorate','api','(((.+)+)+)+$','/repos','defaults','createEmptyBranch','metadata','33250aSRCtN','delete','update'];a237_0x3e77=function(){return _0x21ef6a;};return a237_0x3e77();}Object[a237_0x9e3665(0x120)](exports,a237_0x9e3665(0x15c),{'value':!![]}),exports[a237_0x9e3665(0x136)]=void 0x0;const bad_request_error_1=require(a237_0x9e3665(0x13f)),not_found_error_1=require(a237_0x9e3665(0x11a)),typedi_1=require('typedi'),api_error_1=require(a237_0x9e3665(0x13d)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a237_0x9e3665(0x161)),utils_1=require(a237_0x9e3665(0x153)),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a237_0x9e3665(0x155)),bitbucket_server_credentials_dto_1=require(a237_0x9e3665(0x15b));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a237_0x9e3665(0x158)]{constructor(_0x45b8b1,_0x51e829){const _0x33df7c=a237_0x9e3665;super(_0x45b8b1),this[_0x33df7c(0x146)]=_0x45b8b1,this[_0x33df7c(0x164)]=_0x51e829[_0x33df7c(0x164)],this[_0x33df7c(0x15e)]=_0x51e829;}async[a237_0x9e3665(0x144)](_0x58870a){const _0x11e52e=a237_0x9e3665;try{const _0x2713da={'name':_0x58870a[_0x11e52e(0x13c)],'scmId':_0x11e52e(0x11d),'defaultBranch':_0x58870a[_0x11e52e(0x13e)],..._0x58870a[_0x11e52e(0x15f)]||{}},_0x51a4e8=await this[_0x11e52e(0x134)][_0x11e52e(0x123)](_0x11e52e(0x152)+this[_0x11e52e(0x164)]+_0x11e52e(0x148),_0x2713da),_0xe0a8c0=repo_class_1['Repo'][_0x11e52e(0x130)](_0x51a4e8,'',this[_0x11e52e(0x146)],this[_0x11e52e(0x15e)]);return _0x58870a[_0x11e52e(0x159)]&&await git_internal_1[_0x11e52e(0x137)][_0x11e52e(0x14a)](_0xe0a8c0,_0x58870a[_0x11e52e(0x13e)]||_0x11e52e(0x15d),'',this[_0x11e52e(0x15e)]),this['getOne'](_0xe0a8c0['name']);}catch(_0x1e3051){if(_0x1e3051 instanceof api_error_1[_0x11e52e(0x156)])throw _0x1e3051;throw new bad_request_error_1[(_0x11e52e(0x139))](_0x1e3051);}}async['getAll'](){const _0x1125fa=a237_0x9e3665;try{const _0x21cff3=[];let _0x90b648;do{_0x90b648=await this[_0x1125fa(0x134)]['get'](_0x1125fa(0x152)+this[_0x1125fa(0x164)]+'/repos',{'params':{'limit':0x64,'start':_0x90b648?_0x90b648[_0x1125fa(0x163)]:0x0}}),_0x21cff3['push'](..._0x90b648['values']);}while(!_0x90b648['isLastPage']);return _0x21cff3[_0x1125fa(0x122)](_0x18de4e=>repo_class_1[_0x1125fa(0x12f)][_0x1125fa(0x130)](_0x18de4e,(0x0,utils_1[_0x1125fa(0x141)])(this[_0x1125fa(0x134)]['defaults'][_0x1125fa(0x14f)]||'',_0x1125fa(0x143)+this['project']+_0x1125fa(0x11b)+_0x18de4e[_0x1125fa(0x121)]),this[_0x1125fa(0x146)],this['credentials']));}catch(_0x1e7b91){if(_0x1e7b91 instanceof api_error_1[_0x1125fa(0x156)])throw _0x1e7b91;throw new not_found_error_1[(_0x1125fa(0x140))](_0x1e7b91);}}async[a237_0x9e3665(0x138)](_0x5702d3){const _0x111374=a237_0x9e3665;var _0x15341d;try{const _0x3ccded=await this['request'][_0x111374(0x11c)](_0x111374(0x152)+this[_0x111374(0x164)]+_0x111374(0x11b)+_0x5702d3),_0x36b9ce=repo_class_1[_0x111374(0x12f)][_0x111374(0x130)](_0x3ccded,(0x0,utils_1['joinURL'])(this[_0x111374(0x134)][_0x111374(0x149)][_0x111374(0x14f)]||'',_0x111374(0x143)+this[_0x111374(0x164)]+'/repos/'+_0x5702d3),this[_0x111374(0x146)],this[_0x111374(0x15e)]),_0x43cf1f=await this['request']['get'](_0x36b9ce[_0x111374(0x157)]+_0x111374(0x129))[_0x111374(0x13b)](_0x2919c4=>_0x2919c4[_0x111374(0x132)]);return _0x36b9ce[_0x111374(0x13e)]=(_0x15341d=_0x43cf1f[_0x111374(0x12b)](_0x59d022=>_0x59d022['isDefault']===!![]))===null||_0x15341d===void 0x0?void 0x0:_0x15341d['displayId'],_0x36b9ce;}catch(_0x1d360a){if(_0x1d360a instanceof api_error_1['ApiError'])throw _0x1d360a;throw new not_found_error_1[(_0x111374(0x140))](_0x1d360a);}}async[a237_0x9e3665(0x14e)](_0x534374,_0x3c5de9){const _0x472a60=a237_0x9e3665;try{const _0x1dbe40=await this[_0x472a60(0x134)]['put'](_0x472a60(0x152)+this[_0x472a60(0x164)]+'/repos/'+_0x534374,_0x3c5de9),_0x37abd8=await this[_0x472a60(0x134)][_0x472a60(0x11c)](_0x472a60(0x152)+this['project']+_0x472a60(0x11b)+_0x534374+_0x472a60(0x160)),_0x973c9=repo_class_1['Repo'][_0x472a60(0x130)](_0x1dbe40,(0x0,utils_1[_0x472a60(0x141)])(this[_0x472a60(0x134)][_0x472a60(0x149)][_0x472a60(0x14f)]||'',_0x472a60(0x143)+this[_0x472a60(0x164)]+'/repos/'+_0x534374),this[_0x472a60(0x146)],this[_0x472a60(0x15e)]);return _0x973c9[_0x472a60(0x13e)]=_0x37abd8['displayId'],_0x973c9;}catch(_0x57e681){if(_0x57e681 instanceof api_error_1[_0x472a60(0x156)])throw _0x57e681;throw new not_found_error_1[(_0x472a60(0x140))](_0x57e681);}}async[a237_0x9e3665(0x14d)](_0x3e943e){const _0x308ad7=a237_0x9e3665;try{await this[_0x308ad7(0x138)](_0x3e943e),await this[_0x308ad7(0x134)][_0x308ad7(0x14d)](_0x308ad7(0x152)+this[_0x308ad7(0x164)]+'/repos/'+_0x3e943e);}catch(_0xec84cb){if(_0xec84cb instanceof api_error_1['ApiError'])throw _0xec84cb;throw new bad_request_error_1[(_0x308ad7(0x139))](_0xec84cb);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a237_0x9e3665(0x142)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a237_0x9e3665(0x131)][a237_0x9e3665(0x15e)])),__metadata(a237_0x9e3665(0x166),[bitbucket_server_api_service_1[a237_0x9e3665(0x165)],bitbucket_server_credentials_dto_1[a237_0x9e3665(0x125)]])],BitbucketServerRepoService),exports[a237_0x9e3665(0x136)]=BitbucketServerRepoService;