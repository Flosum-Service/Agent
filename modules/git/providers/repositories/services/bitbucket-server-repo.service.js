const a206_0x1211f2=a206_0x2ae6;(function(_0x25d978,_0x23a6d6){const _0x2fef80=a206_0x2ae6,_0x5a4198=_0x25d978();while(!![]){try{const _0x3b2334=parseInt(_0x2fef80(0x88))/0x1*(parseInt(_0x2fef80(0x89))/0x2)+-parseInt(_0x2fef80(0x9b))/0x3*(parseInt(_0x2fef80(0x8c))/0x4)+parseInt(_0x2fef80(0xc3))/0x5+parseInt(_0x2fef80(0x81))/0x6*(parseInt(_0x2fef80(0x9c))/0x7)+parseInt(_0x2fef80(0xbb))/0x8+-parseInt(_0x2fef80(0x90))/0x9+-parseInt(_0x2fef80(0x8b))/0xa;if(_0x3b2334===_0x23a6d6)break;else _0x5a4198['push'](_0x5a4198['shift']());}catch(_0x1d261a){_0x5a4198['push'](_0x5a4198['shift']());}}}(a206_0x2391,0xb9c19));const a206_0x3d7d16=(function(){let _0x20c85b=!![];return function(_0x359b47,_0x137ce2){const _0x8853e=_0x20c85b?function(){if(_0x137ce2){const _0x19d11c=_0x137ce2['apply'](_0x359b47,arguments);return _0x137ce2=null,_0x19d11c;}}:function(){};return _0x20c85b=![],_0x8853e;};}()),a206_0x3be728=a206_0x3d7d16(this,function(){const _0x368720=a206_0x2ae6;return a206_0x3be728[_0x368720(0x97)]()[_0x368720(0xca)](_0x368720(0xa1))[_0x368720(0x97)]()[_0x368720(0xc6)](a206_0x3be728)[_0x368720(0xca)]('(((.+)+)+)+$');});a206_0x3be728();function a206_0x2ae6(_0x52092e,_0x28ac0d){const _0x11a004=a206_0x2391();return a206_0x2ae6=function(_0x3be728,_0x3d7d16){_0x3be728=_0x3be728-0x7f;let _0x239143=_0x11a004[_0x3be728];return _0x239143;},a206_0x2ae6(_0x52092e,_0x28ac0d);}'use strict';var __decorate=this&&this[a206_0x1211f2(0x9a)]||function(_0x56de3c,_0x4cdbf9,_0xb2404e,_0x4f4218){const _0x7436c7=a206_0x1211f2;var _0x107f4b=arguments[_0x7436c7(0xa4)],_0x288de8=_0x107f4b<0x3?_0x4cdbf9:_0x4f4218===null?_0x4f4218=Object['getOwnPropertyDescriptor'](_0x4cdbf9,_0xb2404e):_0x4f4218,_0xdffe64;if(typeof Reflect===_0x7436c7(0xba)&&typeof Reflect[_0x7436c7(0xc8)]===_0x7436c7(0x99))_0x288de8=Reflect[_0x7436c7(0xc8)](_0x56de3c,_0x4cdbf9,_0xb2404e,_0x4f4218);else{for(var _0x3d28dd=_0x56de3c['length']-0x1;_0x3d28dd>=0x0;_0x3d28dd--)if(_0xdffe64=_0x56de3c[_0x3d28dd])_0x288de8=(_0x107f4b<0x3?_0xdffe64(_0x288de8):_0x107f4b>0x3?_0xdffe64(_0x4cdbf9,_0xb2404e,_0x288de8):_0xdffe64(_0x4cdbf9,_0xb2404e))||_0x288de8;}return _0x107f4b>0x3&&_0x288de8&&Object[_0x7436c7(0xc2)](_0x4cdbf9,_0xb2404e,_0x288de8),_0x288de8;},__metadata=this&&this['__metadata']||function(_0x50b27e,_0xf28fe1){const _0x3792a8=a206_0x1211f2;if(typeof Reflect===_0x3792a8(0xba)&&typeof Reflect[_0x3792a8(0xa7)]===_0x3792a8(0x99))return Reflect[_0x3792a8(0xa7)](_0x50b27e,_0xf28fe1);},__param=this&&this[a206_0x1211f2(0x8f)]||function(_0xed8a17,_0x4c9c9b){return function(_0x292710,_0x4e2907){_0x4c9c9b(_0x292710,_0x4e2907,_0xed8a17);};};function a206_0x2391(){const _0x4d2651=['../../../../../core/errors/api.error','isDefault','Inject','defaultBranch','Repo','apiBody','baseURL','map','fromBitbucketServer','/default-branch','/repos','/projects/','getAll','BitbucketServerRepoService','autoInit','delete','getOne','defaults','object','1975704lNJFhJ','api','../../../../../core/errors/bad-request.error','name','push','../../providers.tokens','displayId','defineProperty','6321695LYQfBx','put','apiUrl','constructor','Service','decorate','post','search','../../../../../core/errors/not-found.error','createEmptyBranch','../../../../shared/utils','11916YNNwai','credentials','../../api/bitbucket-server-api.service','git','project','Git','get','977190Piumoi','2XDzdbq','NotFoundError','1849510dpebfr','4LBjlby','nextPageStart','/repos/','__param','9290466VNnKBs','__esModule','../../../internal/git.internal','joinURL','ApiError','typedi','BadRequestError','toString','slug','function','__decorate','4563852Bhdofs','3563tMVBNJ','projects/','GitRepoService','request','./git-repo.service','(((.+)+)+)+$','create','values','length','/branches','BitbucketServerApiService','metadata'];a206_0x2391=function(){return _0x4d2651;};return a206_0x2391();}Object[a206_0x1211f2(0xc2)](exports,a206_0x1211f2(0x91),{'value':!![]}),exports[a206_0x1211f2(0xb5)]=void 0x0;const bad_request_error_1=require(a206_0x1211f2(0xbd)),not_found_error_1=require(a206_0x1211f2(0xcb)),typedi_1=require(a206_0x1211f2(0x95)),api_error_1=require(a206_0x1211f2(0xa8)),bitbucket_server_api_service_1=require(a206_0x1211f2(0x83)),git_internal_1=require(a206_0x1211f2(0x92)),utils_1=require(a206_0x1211f2(0x80)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a206_0x1211f2(0xa0)),providers_tokens_1=require(a206_0x1211f2(0xc0)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x1211f2(0x9e)]{constructor(_0x3df4d2,_0x50a381){const _0x915714=a206_0x1211f2;super(_0x3df4d2),this[_0x915714(0xbc)]=_0x3df4d2,this[_0x915714(0x85)]=_0x50a381['project'],this[_0x915714(0x82)]=_0x50a381;}async[a206_0x1211f2(0xa2)](_0x345688){const _0x1e2c1f=a206_0x1211f2;try{const _0x121d2c={'name':_0x345688[_0x1e2c1f(0xbe)],'scmId':_0x1e2c1f(0x84),'defaultBranch':_0x345688['defaultBranch'],..._0x345688[_0x1e2c1f(0xad)]||{}},_0x2990c1=await this[_0x1e2c1f(0x9f)][_0x1e2c1f(0xc9)](_0x1e2c1f(0x9d)+this[_0x1e2c1f(0x85)]+_0x1e2c1f(0xb2),_0x121d2c),_0x16a7a3=repo_class_1[_0x1e2c1f(0xac)][_0x1e2c1f(0xb0)](_0x2990c1,'',this[_0x1e2c1f(0xbc)],this[_0x1e2c1f(0x82)]);return _0x345688[_0x1e2c1f(0xb6)]&&await git_internal_1[_0x1e2c1f(0x86)][_0x1e2c1f(0x7f)](_0x16a7a3,_0x345688[_0x1e2c1f(0xab)]||'master','',this[_0x1e2c1f(0x82)]),this[_0x1e2c1f(0xb8)](_0x16a7a3['name']);}catch(_0xaecc15){if(_0xaecc15 instanceof api_error_1[_0x1e2c1f(0x94)])throw _0xaecc15;throw new bad_request_error_1[(_0x1e2c1f(0x96))](_0xaecc15);}}async[a206_0x1211f2(0xb4)](){const _0x4c5812=a206_0x1211f2;try{const _0x418647=[];let _0x308963;do{_0x308963=await this[_0x4c5812(0x9f)]['get'](_0x4c5812(0x9d)+this[_0x4c5812(0x85)]+_0x4c5812(0xb2),{'params':{'limit':0x64,'start':_0x308963?_0x308963[_0x4c5812(0x8d)]:0x0}}),_0x418647[_0x4c5812(0xbf)](..._0x308963[_0x4c5812(0xa3)]);}while(!_0x308963['isLastPage']);return _0x418647[_0x4c5812(0xaf)](_0xb3a403=>repo_class_1[_0x4c5812(0xac)][_0x4c5812(0xb0)](_0xb3a403,(0x0,utils_1[_0x4c5812(0x93)])(this[_0x4c5812(0x9f)][_0x4c5812(0xb9)][_0x4c5812(0xae)]||'',_0x4c5812(0xb3)+this[_0x4c5812(0x85)]+'/repos/'+_0xb3a403[_0x4c5812(0x98)]),this[_0x4c5812(0xbc)],this[_0x4c5812(0x82)]));}catch(_0x4e66a9){if(_0x4e66a9 instanceof api_error_1[_0x4c5812(0x94)])throw _0x4e66a9;throw new not_found_error_1[(_0x4c5812(0x8a))](_0x4e66a9);}}async[a206_0x1211f2(0xb8)](_0x50868e){const _0x44b619=a206_0x1211f2;var _0x54f9f6;try{const _0x55fa08=await this[_0x44b619(0x9f)][_0x44b619(0x87)](_0x44b619(0x9d)+this['project']+_0x44b619(0x8e)+_0x50868e),_0x4b2789=repo_class_1[_0x44b619(0xac)][_0x44b619(0xb0)](_0x55fa08,(0x0,utils_1['joinURL'])(this[_0x44b619(0x9f)][_0x44b619(0xb9)][_0x44b619(0xae)]||'',_0x44b619(0xb3)+this['project']+_0x44b619(0x8e)+_0x50868e),this[_0x44b619(0xbc)],this[_0x44b619(0x82)]),_0x3b8e2d=await this[_0x44b619(0x9f)]['get'](_0x4b2789[_0x44b619(0xc5)]+_0x44b619(0xa5))['then'](_0x3dcc40=>_0x3dcc40[_0x44b619(0xa3)]);return _0x4b2789[_0x44b619(0xab)]=(_0x54f9f6=_0x3b8e2d['find'](_0x340f13=>_0x340f13[_0x44b619(0xa9)]===!![]))===null||_0x54f9f6===void 0x0?void 0x0:_0x54f9f6['displayId'],_0x4b2789;}catch(_0x4218fc){if(_0x4218fc instanceof api_error_1['ApiError'])throw _0x4218fc;throw new not_found_error_1[(_0x44b619(0x8a))](_0x4218fc);}}async['update'](_0x210a96,_0x376827){const _0x2d2b67=a206_0x1211f2;try{const _0x2380d2=await this[_0x2d2b67(0x9f)][_0x2d2b67(0xc4)](_0x2d2b67(0x9d)+this[_0x2d2b67(0x85)]+'/repos/'+_0x210a96,_0x376827),_0x31038a=await this[_0x2d2b67(0x9f)][_0x2d2b67(0x87)](_0x2d2b67(0x9d)+this[_0x2d2b67(0x85)]+'/repos/'+_0x210a96+_0x2d2b67(0xb1)),_0x5abc6e=repo_class_1[_0x2d2b67(0xac)][_0x2d2b67(0xb0)](_0x2380d2,(0x0,utils_1[_0x2d2b67(0x93)])(this[_0x2d2b67(0x9f)]['defaults'][_0x2d2b67(0xae)]||'',_0x2d2b67(0xb3)+this['project']+_0x2d2b67(0x8e)+_0x210a96),this[_0x2d2b67(0xbc)],this[_0x2d2b67(0x82)]);return _0x5abc6e['defaultBranch']=_0x31038a[_0x2d2b67(0xc1)],_0x5abc6e;}catch(_0x2a2d73){if(_0x2a2d73 instanceof api_error_1['ApiError'])throw _0x2a2d73;throw new not_found_error_1[(_0x2d2b67(0x8a))](_0x2a2d73);}}async['delete'](_0x459414){const _0x49ff81=a206_0x1211f2;try{await this[_0x49ff81(0xb8)](_0x459414),await this[_0x49ff81(0x9f)][_0x49ff81(0xb7)]('projects/'+this[_0x49ff81(0x85)]+_0x49ff81(0x8e)+_0x459414);}catch(_0x4ea327){if(_0x4ea327 instanceof api_error_1['ApiError'])throw _0x4ea327;throw new bad_request_error_1[(_0x49ff81(0x96))](_0x4ea327);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x1211f2(0xc7)])(),__param(0x1,(0x0,typedi_1[a206_0x1211f2(0xaa)])(providers_tokens_1['Tokens'][a206_0x1211f2(0x82)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a206_0x1211f2(0xa6)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a206_0x1211f2(0xb5)]=BitbucketServerRepoService;