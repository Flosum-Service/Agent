const a239_0x35274f=a239_0x1a0f;(function(_0x25950e,_0x193ddf){const _0x45aa59=a239_0x1a0f,_0x5417f0=_0x25950e();while(!![]){try{const _0xc9932a=parseInt(_0x45aa59(0x1c3))/0x1*(parseInt(_0x45aa59(0x199))/0x2)+parseInt(_0x45aa59(0x189))/0x3*(parseInt(_0x45aa59(0x19a))/0x4)+-parseInt(_0x45aa59(0x19b))/0x5+parseInt(_0x45aa59(0x188))/0x6+-parseInt(_0x45aa59(0x18f))/0x7+-parseInt(_0x45aa59(0x1ad))/0x8*(-parseInt(_0x45aa59(0x19f))/0x9)+parseInt(_0x45aa59(0x1a3))/0xa;if(_0xc9932a===_0x193ddf)break;else _0x5417f0['push'](_0x5417f0['shift']());}catch(_0x41fe6f){_0x5417f0['push'](_0x5417f0['shift']());}}}(a239_0x4025,0xddfde));const a239_0x7a19d0=(function(){let _0x15aefc=!![];return function(_0x1be470,_0x4f873a){const _0x52c173=_0x15aefc?function(){const _0x35e0f5=a239_0x1a0f;if(_0x4f873a){const _0x1599f9=_0x4f873a[_0x35e0f5(0x1af)](_0x1be470,arguments);return _0x4f873a=null,_0x1599f9;}}:function(){};return _0x15aefc=![],_0x52c173;};}()),a239_0x5cf1ee=a239_0x7a19d0(this,function(){const _0x37a004=a239_0x1a0f;return a239_0x5cf1ee[_0x37a004(0x1ba)]()[_0x37a004(0x17e)](_0x37a004(0x1a8))['toString']()['constructor'](a239_0x5cf1ee)[_0x37a004(0x17e)](_0x37a004(0x1a8));});a239_0x5cf1ee();'use strict';var __decorate=this&&this[a239_0x35274f(0x1aa)]||function(_0x570419,_0x4db307,_0x108368,_0x36255e){const _0x244f42=a239_0x35274f;var _0x1567cd=arguments['length'],_0x3d677e=_0x1567cd<0x3?_0x4db307:_0x36255e===null?_0x36255e=Object[_0x244f42(0x1a5)](_0x4db307,_0x108368):_0x36255e,_0x1e2143;if(typeof Reflect===_0x244f42(0x1bb)&&typeof Reflect[_0x244f42(0x1a4)]===_0x244f42(0x185))_0x3d677e=Reflect[_0x244f42(0x1a4)](_0x570419,_0x4db307,_0x108368,_0x36255e);else{for(var _0x5ee272=_0x570419[_0x244f42(0x17f)]-0x1;_0x5ee272>=0x0;_0x5ee272--)if(_0x1e2143=_0x570419[_0x5ee272])_0x3d677e=(_0x1567cd<0x3?_0x1e2143(_0x3d677e):_0x1567cd>0x3?_0x1e2143(_0x4db307,_0x108368,_0x3d677e):_0x1e2143(_0x4db307,_0x108368))||_0x3d677e;}return _0x1567cd>0x3&&_0x3d677e&&Object[_0x244f42(0x1c1)](_0x4db307,_0x108368,_0x3d677e),_0x3d677e;},__metadata=this&&this[a239_0x35274f(0x187)]||function(_0xe54d9a,_0x12962e){const _0x250f58=a239_0x35274f;if(typeof Reflect===_0x250f58(0x1bb)&&typeof Reflect[_0x250f58(0x182)]===_0x250f58(0x185))return Reflect[_0x250f58(0x182)](_0xe54d9a,_0x12962e);},__param=this&&this[a239_0x35274f(0x17b)]||function(_0x28914b,_0x4edc40){return function(_0x12286e,_0x244476){_0x4edc40(_0x12286e,_0x244476,_0x28914b);};};Object[a239_0x35274f(0x1c1)](exports,'__esModule',{'value':!![]}),exports[a239_0x35274f(0x18c)]=void 0x0;function a239_0x1a0f(_0x42d041,_0x1ef44b){const _0x10ffb0=a239_0x4025();return a239_0x1a0f=function(_0x5cf1ee,_0x7a19d0){_0x5cf1ee=_0x5cf1ee-0x174;let _0x402564=_0x10ffb0[_0x5cf1ee];return _0x402564;},a239_0x1a0f(_0x42d041,_0x1ef44b);}const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a239_0x35274f(0x179)),typedi_1=require(a239_0x35274f(0x18e)),api_error_1=require(a239_0x35274f(0x1c0)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a239_0x35274f(0x176)),utils_1=require(a239_0x35274f(0x181)),repo_class_1=require(a239_0x35274f(0x1bc)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a239_0x35274f(0x1b2)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a239_0x35274f(0x1ac)]{constructor(_0x4076cf,_0x1890c1){const _0x2bdced=a239_0x35274f;super(_0x4076cf),this[_0x2bdced(0x178)]=_0x4076cf,this[_0x2bdced(0x193)]=_0x1890c1[_0x2bdced(0x193)],this['credentials']=_0x1890c1;}async[a239_0x35274f(0x190)](_0x1171ea){const _0x324fa0=a239_0x35274f;try{const _0x58eaa5={'name':_0x1171ea[_0x324fa0(0x174)],'scmId':_0x324fa0(0x183),'defaultBranch':_0x1171ea[_0x324fa0(0x180)],..._0x1171ea[_0x324fa0(0x1a7)]||{}},_0x391f9c=await this['request'][_0x324fa0(0x18a)](_0x324fa0(0x19c)+this[_0x324fa0(0x193)]+_0x324fa0(0x1ab),_0x58eaa5),_0x3ed3b1=repo_class_1[_0x324fa0(0x1ae)][_0x324fa0(0x1b7)](_0x391f9c,'',this[_0x324fa0(0x178)],this['credentials']);return _0x1171ea[_0x324fa0(0x1b6)]&&await git_internal_1['Git'][_0x324fa0(0x1a0)](_0x3ed3b1,_0x1171ea[_0x324fa0(0x180)]||{'name':_0x324fa0(0x175)},'',this['credentials']),this[_0x324fa0(0x194)](_0x3ed3b1[_0x324fa0(0x174)]);}catch(_0x5f4db0){if(_0x5f4db0 instanceof api_error_1['ApiError'])throw _0x5f4db0;throw new bad_request_error_1[(_0x324fa0(0x1a6))](_0x5f4db0);}}async[a239_0x35274f(0x1a1)](){const _0x2a3bac=a239_0x35274f;try{const _0x1cbd94=[];let _0x29c07f;do{_0x29c07f=await this[_0x2a3bac(0x18b)][_0x2a3bac(0x192)](_0x2a3bac(0x19c)+this[_0x2a3bac(0x193)]+_0x2a3bac(0x1ab),{'params':{'limit':0x64,'start':_0x29c07f?_0x29c07f[_0x2a3bac(0x17d)]:0x0}}),_0x1cbd94['push'](..._0x29c07f['values']);}while(!_0x29c07f[_0x2a3bac(0x19e)]);return _0x1cbd94[_0x2a3bac(0x1b5)](_0x347b34=>repo_class_1['Repo'][_0x2a3bac(0x1b7)](_0x347b34,(0x0,utils_1['joinURL'])(this['request'][_0x2a3bac(0x1b0)][_0x2a3bac(0x195)]||'','/projects/'+this[_0x2a3bac(0x193)]+_0x2a3bac(0x19d)+_0x347b34[_0x2a3bac(0x198)]),this['api'],this['credentials']));}catch(_0x2f9faf){if(_0x2f9faf instanceof api_error_1[_0x2a3bac(0x1b4)])throw _0x2f9faf;throw new not_found_error_1[(_0x2a3bac(0x1b1))](_0x2f9faf);}}async[a239_0x35274f(0x194)](_0x587467){const _0x2ffd93=a239_0x35274f;var _0x1c91b5;try{const _0x4fa4dc=await this[_0x2ffd93(0x18b)][_0x2ffd93(0x192)](_0x2ffd93(0x19c)+this['project']+'/repos/'+_0x587467),_0x219894=repo_class_1[_0x2ffd93(0x1ae)][_0x2ffd93(0x1b7)](_0x4fa4dc,(0x0,utils_1[_0x2ffd93(0x191)])(this[_0x2ffd93(0x18b)][_0x2ffd93(0x1b0)][_0x2ffd93(0x195)]||'',_0x2ffd93(0x1b9)+this['project']+_0x2ffd93(0x19d)+_0x587467),this[_0x2ffd93(0x178)],this[_0x2ffd93(0x1bf)]),_0x20b6f5=await this[_0x2ffd93(0x18b)][_0x2ffd93(0x192)](_0x219894[_0x2ffd93(0x18d)]+_0x2ffd93(0x1a2))['then'](_0x4e267b=>_0x4e267b[_0x2ffd93(0x1be)]);return _0x219894[_0x2ffd93(0x180)]=(_0x1c91b5=_0x20b6f5[_0x2ffd93(0x1b3)](_0xf3148=>_0xf3148[_0x2ffd93(0x1b8)]===!![]))===null||_0x1c91b5===void 0x0?void 0x0:_0x1c91b5[_0x2ffd93(0x1bd)],_0x219894;}catch(_0x5e7000){if(_0x5e7000 instanceof api_error_1[_0x2ffd93(0x1b4)])throw _0x5e7000;throw new not_found_error_1[(_0x2ffd93(0x1b1))](_0x5e7000);}}async[a239_0x35274f(0x1c2)](_0x5e4080,_0x5bdc47){const _0x114ded=a239_0x35274f;try{const _0x9e635f=await this[_0x114ded(0x18b)][_0x114ded(0x186)]('projects/'+this[_0x114ded(0x193)]+_0x114ded(0x19d)+_0x5e4080,_0x5bdc47),_0x406fa6=await this[_0x114ded(0x18b)][_0x114ded(0x192)]('projects/'+this[_0x114ded(0x193)]+_0x114ded(0x19d)+_0x5e4080+_0x114ded(0x197)),_0x95822b=repo_class_1[_0x114ded(0x1ae)][_0x114ded(0x1b7)](_0x9e635f,(0x0,utils_1[_0x114ded(0x191)])(this[_0x114ded(0x18b)][_0x114ded(0x1b0)][_0x114ded(0x195)]||'','/projects/'+this[_0x114ded(0x193)]+_0x114ded(0x19d)+_0x5e4080),this['api'],this[_0x114ded(0x1bf)]);return _0x95822b['defaultBranch']=_0x406fa6[_0x114ded(0x1bd)],_0x95822b;}catch(_0x4558d0){if(_0x4558d0 instanceof api_error_1['ApiError'])throw _0x4558d0;throw new not_found_error_1[(_0x114ded(0x1b1))](_0x4558d0);}}async[a239_0x35274f(0x177)](_0x50e98f){const _0x258f8a=a239_0x35274f;try{await this['getOne'](_0x50e98f),await this[_0x258f8a(0x18b)][_0x258f8a(0x177)](_0x258f8a(0x19c)+this['project']+_0x258f8a(0x19d)+_0x50e98f);}catch(_0x1a5c0a){if(_0x1a5c0a instanceof api_error_1[_0x258f8a(0x1b4)])throw _0x1a5c0a;throw new bad_request_error_1[(_0x258f8a(0x1a6))](_0x1a5c0a);}}};function a239_0x4025(){const _0xb5e3e1=['getOne','baseURL','design:paramtypes','/default-branch','slug','1045474zpIwPe','4FFtxRf','9011395iTTgOZ','projects/','/repos/','isLastPage','234fKiHWd','createEmptyBranch','getAll','/branches','6940450uJLEIZ','decorate','getOwnPropertyDescriptor','BadRequestError','apiBody','(((.+)+)+)+$','Tokens','__decorate','/repos','GitRepoService','368096WOdqsy','Repo','apply','defaults','NotFoundError','../../providers.tokens','find','ApiError','map','autoInit','fromBitbucketServer','isDefault','/projects/','toString','object','../repo.class','displayId','values','credentials','../../../../../core/errors/api.error','defineProperty','update','1QgtgnI','name','master','../../../internal/git.internal','delete','api','../../../../../core/errors/not-found.error','Service','__param','Inject','nextPageStart','search','length','defaultBranch','../../../../shared/utils','metadata','git','BitbucketServerCredentialsDto','function','put','__metadata','8433570efouhO','910161BJJNJW','post','request','BitbucketServerRepoService','apiUrl','typedi','9873633zMREvd','create','joinURL','get','project'];a239_0x4025=function(){return _0xb5e3e1;};return a239_0x4025();}BitbucketServerRepoService=__decorate([(0x0,typedi_1[a239_0x35274f(0x17a)])(),__param(0x1,(0x0,typedi_1[a239_0x35274f(0x17c)])(providers_tokens_1[a239_0x35274f(0x1a9)][a239_0x35274f(0x1bf)])),__metadata(a239_0x35274f(0x196),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1[a239_0x35274f(0x184)]])],BitbucketServerRepoService),exports[a239_0x35274f(0x18c)]=BitbucketServerRepoService;