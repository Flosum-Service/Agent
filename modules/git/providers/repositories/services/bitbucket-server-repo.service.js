function a154_0x3f09(_0x5ed227,_0x95bee9){const _0x36bbb4=a154_0x24fe();return a154_0x3f09=function(_0x59db44,_0x438406){_0x59db44=_0x59db44-0x1db;let _0x24feb8=_0x36bbb4[_0x59db44];return _0x24feb8;},a154_0x3f09(_0x5ed227,_0x95bee9);}const a154_0xdaba6f=a154_0x3f09;(function(_0x4166a2,_0x1ebb01){const _0x24e30f=a154_0x3f09,_0x1bf881=_0x4166a2();while(!![]){try{const _0x2635e7=-parseInt(_0x24e30f(0x1fe))/0x1+parseInt(_0x24e30f(0x20d))/0x2*(parseInt(_0x24e30f(0x221))/0x3)+-parseInt(_0x24e30f(0x218))/0x4+parseInt(_0x24e30f(0x1ef))/0x5*(parseInt(_0x24e30f(0x222))/0x6)+-parseInt(_0x24e30f(0x21d))/0x7*(-parseInt(_0x24e30f(0x1ff))/0x8)+-parseInt(_0x24e30f(0x21f))/0x9*(parseInt(_0x24e30f(0x1e0))/0xa)+parseInt(_0x24e30f(0x1e4))/0xb;if(_0x2635e7===_0x1ebb01)break;else _0x1bf881['push'](_0x1bf881['shift']());}catch(_0x280f5b){_0x1bf881['push'](_0x1bf881['shift']());}}}(a154_0x24fe,0x22a00));const a154_0x438406=(function(){let _0x4a77b9=!![];return function(_0x2bf5f0,_0x13d208){const _0x3de7f2=_0x4a77b9?function(){const _0x596f62=a154_0x3f09;if(_0x13d208){const _0x352387=_0x13d208[_0x596f62(0x219)](_0x2bf5f0,arguments);return _0x13d208=null,_0x352387;}}:function(){};return _0x4a77b9=![],_0x3de7f2;};}()),a154_0x59db44=a154_0x438406(this,function(){const _0xae518c=a154_0x3f09;return a154_0x59db44[_0xae518c(0x1ed)]()['search'](_0xae518c(0x201))[_0xae518c(0x1ed)]()['constructor'](a154_0x59db44)[_0xae518c(0x20f)](_0xae518c(0x201));});a154_0x59db44();function a154_0x24fe(){const _0x837ed6=['363657GYvPwc','6xuMFBL','getAll','project','./git-repo.service','request','object','metadata','apiUrl','BadRequestError','__param','11230pXxfQo','../../../../shared/utils','__decorate','function','2228633mYZiMG','/repos','/repos/','api','autoInit','map','name','nextPageStart','../../credentials/dto/bitbucket-server-credentials.dto','toString','BitbucketServerRepoService','729565zeutwo','/projects/','then','find','values','length','Tokens','baseURL','update','apiBody','ApiError','displayId','delete','../../providers.tokens','joinURL','221168aMbjXL','743944rdbbZZ','../../../../../core/errors/not-found.error','(((.+)+)+)+$','projects/','getOwnPropertyDescriptor','__esModule','getOne','create','get','git','../../api/bitbucket-server-api.service','Git','defaultBranch','/branches','2vHkhaq','Repo','search','decorate','credentials','slug','master','fromBitbucketServer','defaults','GitRepoService','typedi','93700KkEbXq','apply','put','BitbucketServerApiService','defineProperty','7MAzIrD','NotFoundError','1413EVDFoT','../../../internal/git.internal'];a154_0x24fe=function(){return _0x837ed6;};return a154_0x24fe();}'use strict';var __decorate=this&&this[a154_0xdaba6f(0x1e2)]||function(_0x575d08,_0x2f88cb,_0xd9d89f,_0xca6433){const _0x40dabe=a154_0xdaba6f;var _0x18d6ee=arguments['length'],_0x5468f4=_0x18d6ee<0x3?_0x2f88cb:_0xca6433===null?_0xca6433=Object[_0x40dabe(0x203)](_0x2f88cb,_0xd9d89f):_0xca6433,_0xc99b47;if(typeof Reflect===_0x40dabe(0x1db)&&typeof Reflect[_0x40dabe(0x210)]===_0x40dabe(0x1e3))_0x5468f4=Reflect[_0x40dabe(0x210)](_0x575d08,_0x2f88cb,_0xd9d89f,_0xca6433);else{for(var _0x9813a=_0x575d08[_0x40dabe(0x1f4)]-0x1;_0x9813a>=0x0;_0x9813a--)if(_0xc99b47=_0x575d08[_0x9813a])_0x5468f4=(_0x18d6ee<0x3?_0xc99b47(_0x5468f4):_0x18d6ee>0x3?_0xc99b47(_0x2f88cb,_0xd9d89f,_0x5468f4):_0xc99b47(_0x2f88cb,_0xd9d89f))||_0x5468f4;}return _0x18d6ee>0x3&&_0x5468f4&&Object[_0x40dabe(0x21c)](_0x2f88cb,_0xd9d89f,_0x5468f4),_0x5468f4;},__metadata=this&&this['__metadata']||function(_0x3cedef,_0x1ba269){const _0x4920d8=a154_0xdaba6f;if(typeof Reflect==='object'&&typeof Reflect[_0x4920d8(0x1dc)]===_0x4920d8(0x1e3))return Reflect[_0x4920d8(0x1dc)](_0x3cedef,_0x1ba269);},__param=this&&this[a154_0xdaba6f(0x1df)]||function(_0x2d7fd4,_0x32688f){return function(_0x21d55b,_0x31c56d){_0x32688f(_0x21d55b,_0x31c56d,_0x2d7fd4);};};Object['defineProperty'](exports,a154_0xdaba6f(0x204),{'value':!![]}),exports[a154_0xdaba6f(0x1ee)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a154_0xdaba6f(0x200)),typedi_1=require(a154_0xdaba6f(0x217)),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a154_0xdaba6f(0x209)),git_internal_1=require(a154_0xdaba6f(0x220)),utils_1=require(a154_0xdaba6f(0x1e1)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a154_0xdaba6f(0x225)),providers_tokens_1=require(a154_0xdaba6f(0x1fc)),bitbucket_server_credentials_dto_1=require(a154_0xdaba6f(0x1ec));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a154_0xdaba6f(0x216)]{constructor(_0x4468d9,_0x5251d4){const _0x191625=a154_0xdaba6f;super(_0x4468d9),this['api']=_0x4468d9,this[_0x191625(0x224)]=_0x5251d4[_0x191625(0x224)],this[_0x191625(0x211)]=_0x5251d4;}async[a154_0xdaba6f(0x206)](_0x115f09){const _0x3e4589=a154_0xdaba6f;try{const _0x2a87d5={'name':_0x115f09[_0x3e4589(0x1ea)],'scmId':_0x3e4589(0x208),'defaultBranch':_0x115f09[_0x3e4589(0x20b)],..._0x115f09[_0x3e4589(0x1f8)]||{}},_0x26bc39=await this['request']['post'](_0x3e4589(0x202)+this[_0x3e4589(0x224)]+_0x3e4589(0x1e5),_0x2a87d5),_0x278d3f=repo_class_1[_0x3e4589(0x20e)][_0x3e4589(0x214)](_0x26bc39,'',this[_0x3e4589(0x1e7)],this[_0x3e4589(0x211)]);return _0x115f09[_0x3e4589(0x1e8)]&&await git_internal_1[_0x3e4589(0x20a)]['createEmptyBranch'](_0x278d3f,_0x115f09[_0x3e4589(0x20b)]||_0x3e4589(0x213),'',this[_0x3e4589(0x211)]),this[_0x3e4589(0x205)](_0x278d3f[_0x3e4589(0x1ea)]);}catch(_0x4896a6){if(_0x4896a6 instanceof api_error_1[_0x3e4589(0x1f9)])throw _0x4896a6;throw new bad_request_error_1['BadRequestError'](_0x4896a6);}}async[a154_0xdaba6f(0x223)](){const _0xfa45f8=a154_0xdaba6f;try{const _0x4ffe81=[];let _0x4a0e3e;do{_0x4a0e3e=await this[_0xfa45f8(0x226)][_0xfa45f8(0x207)]('projects/'+this[_0xfa45f8(0x224)]+'/repos',{'params':{'limit':0x64,'start':_0x4a0e3e?_0x4a0e3e[_0xfa45f8(0x1eb)]:0x0}}),_0x4ffe81['push'](..._0x4a0e3e[_0xfa45f8(0x1f3)]);}while(!_0x4a0e3e['isLastPage']);return _0x4ffe81[_0xfa45f8(0x1e9)](_0x5a4bc1=>repo_class_1[_0xfa45f8(0x20e)]['fromBitbucketServer'](_0x5a4bc1,utils_1['joinURL'](this[_0xfa45f8(0x226)][_0xfa45f8(0x215)][_0xfa45f8(0x1f6)]||'',_0xfa45f8(0x1f0)+this['project']+_0xfa45f8(0x1e6)+_0x5a4bc1[_0xfa45f8(0x212)]),this['api'],this[_0xfa45f8(0x211)]));}catch(_0x142dbf){if(_0x142dbf instanceof api_error_1[_0xfa45f8(0x1f9)])throw _0x142dbf;throw new not_found_error_1[(_0xfa45f8(0x21e))](_0x142dbf);}}async[a154_0xdaba6f(0x205)](_0x22192f){const _0x504992=a154_0xdaba6f;var _0x5c6a3e;try{const _0x4371a3=await this['request'][_0x504992(0x207)]('projects/'+this['project']+_0x504992(0x1e6)+_0x22192f),_0x33cbba=repo_class_1['Repo'][_0x504992(0x214)](_0x4371a3,utils_1['joinURL'](this[_0x504992(0x226)]['defaults'][_0x504992(0x1f6)]||'',_0x504992(0x1f0)+this['project']+_0x504992(0x1e6)+_0x22192f),this[_0x504992(0x1e7)],this['credentials']),_0x475381=await this['request'][_0x504992(0x207)](_0x33cbba[_0x504992(0x1dd)]+_0x504992(0x20c))[_0x504992(0x1f1)](_0x1afbc1=>_0x1afbc1[_0x504992(0x1f3)]);return _0x33cbba['defaultBranch']=(_0x5c6a3e=_0x475381[_0x504992(0x1f2)](_0x491786=>_0x491786['isDefault']===!![]))===null||_0x5c6a3e===void 0x0?void 0x0:_0x5c6a3e[_0x504992(0x1fa)],_0x33cbba;}catch(_0x4911f0){if(_0x4911f0 instanceof api_error_1['ApiError'])throw _0x4911f0;throw new not_found_error_1[(_0x504992(0x21e))](_0x4911f0);}}async[a154_0xdaba6f(0x1f7)](_0x44359b,_0x15ae4d){const _0x534e73=a154_0xdaba6f;try{const _0x343f8d=await this[_0x534e73(0x226)][_0x534e73(0x21a)](_0x534e73(0x202)+this[_0x534e73(0x224)]+'/repos/'+_0x44359b,_0x15ae4d),_0x2c4f68=await this[_0x534e73(0x226)][_0x534e73(0x207)](_0x534e73(0x202)+this[_0x534e73(0x224)]+_0x534e73(0x1e6)+_0x44359b+'/default-branch'),_0xb4fefa=repo_class_1['Repo'][_0x534e73(0x214)](_0x343f8d,utils_1[_0x534e73(0x1fd)](this[_0x534e73(0x226)][_0x534e73(0x215)]['baseURL']||'','/projects/'+this[_0x534e73(0x224)]+_0x534e73(0x1e6)+_0x44359b),this['api'],this['credentials']);return _0xb4fefa['defaultBranch']=_0x2c4f68[_0x534e73(0x1fa)],_0xb4fefa;}catch(_0xd5c760){if(_0xd5c760 instanceof api_error_1['ApiError'])throw _0xd5c760;throw new not_found_error_1[(_0x534e73(0x21e))](_0xd5c760);}}async[a154_0xdaba6f(0x1fb)](_0x101372){const _0x307d83=a154_0xdaba6f;try{await this['getOne'](_0x101372),await this[_0x307d83(0x226)][_0x307d83(0x1fb)](_0x307d83(0x202)+this['project']+_0x307d83(0x1e6)+_0x101372);}catch(_0xc82c48){if(_0xc82c48 instanceof api_error_1[_0x307d83(0x1f9)])throw _0xc82c48;throw new bad_request_error_1[(_0x307d83(0x1de))](_0xc82c48);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1['Inject'](providers_tokens_1[a154_0xdaba6f(0x1f5)][a154_0xdaba6f(0x211)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a154_0xdaba6f(0x21b)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a154_0xdaba6f(0x1ee)]=BitbucketServerRepoService;