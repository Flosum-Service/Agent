const a239_0xebe1f0=a239_0xf8d8;(function(_0x1246c0,_0x17b6b4){const _0x42b9f3=a239_0xf8d8,_0x2fd877=_0x1246c0();while(!![]){try{const _0x28d23b=parseInt(_0x42b9f3(0x170))/0x1*(parseInt(_0x42b9f3(0x18f))/0x2)+parseInt(_0x42b9f3(0x183))/0x3+-parseInt(_0x42b9f3(0x17a))/0x4+-parseInt(_0x42b9f3(0x174))/0x5*(-parseInt(_0x42b9f3(0x157))/0x6)+-parseInt(_0x42b9f3(0x198))/0x7*(parseInt(_0x42b9f3(0x176))/0x8)+-parseInt(_0x42b9f3(0x15e))/0x9*(-parseInt(_0x42b9f3(0x165))/0xa)+-parseInt(_0x42b9f3(0x17b))/0xb;if(_0x28d23b===_0x17b6b4)break;else _0x2fd877['push'](_0x2fd877['shift']());}catch(_0xd611b7){_0x2fd877['push'](_0x2fd877['shift']());}}}(a239_0x3ea5,0x839c0));function a239_0x3ea5(){const _0x270597=['/projects/','../repo.class','isDefault','262xYJZJa','apiUrl','function','displayId','(((.+)+)+)+$','request','Service','object','project','49cNqLQl','ApiError','search','apiBody','defaultBranch','BitbucketServerApiService','typedi','get','../../providers.tokens','../../../../../core/errors/not-found.error','metadata','Inject','BitbucketServerRepoService','getOne','name','find','3054522LVmPqZ','isLastPage','defineProperty','delete','Repo','Tokens','../../api/bitbucket-server-api.service','9KNkUUI','getAll','BitbucketServerCredentialsDto','/repos/','joinURL','../../../../shared/utils','credentials','4111970WUEpVj','NotFoundError','git','../../../internal/git.internal','BadRequestError','fromBitbucketServer','master','push','../../../../../core/errors/api.error','update','/default-branch','8087vixMhr','put','nextPageStart','/branches','10rJGJtZ','defaults','320592sgNsXJ','create','./git-repo.service','baseURL','4185164VpzTZZ','10422346uRWipB','__metadata','projects/','length','Git','__param','__esModule','decorate','973797BynQZR','autoInit','values','api','constructor','map','GitRepoService','../../credentials/dto/bitbucket-server-credentials.dto','../../../../../core/errors/bad-request.error'];a239_0x3ea5=function(){return _0x270597;};return a239_0x3ea5();}const a239_0x15afea=(function(){let _0x1a9e9b=!![];return function(_0x5a93ef,_0x3f318b){const _0x54b445=_0x1a9e9b?function(){if(_0x3f318b){const _0x5d80a8=_0x3f318b['apply'](_0x5a93ef,arguments);return _0x3f318b=null,_0x5d80a8;}}:function(){};return _0x1a9e9b=![],_0x54b445;};}()),a239_0x1f6f10=a239_0x15afea(this,function(){const _0x44430e=a239_0xf8d8;return a239_0x1f6f10['toString']()[_0x44430e(0x19a)](_0x44430e(0x193))['toString']()[_0x44430e(0x187)](a239_0x1f6f10)[_0x44430e(0x19a)](_0x44430e(0x193));});a239_0x1f6f10();'use strict';function a239_0xf8d8(_0x5e599b,_0x30b2b4){const _0x20c03f=a239_0x3ea5();return a239_0xf8d8=function(_0x1f6f10,_0x15afea){_0x1f6f10=_0x1f6f10-0x156;let _0x3ea578=_0x20c03f[_0x1f6f10];return _0x3ea578;},a239_0xf8d8(_0x5e599b,_0x30b2b4);}var __decorate=this&&this['__decorate']||function(_0x49353d,_0x250c4b,_0xd536c8,_0x249f3c){const _0x5ec2bb=a239_0xf8d8;var _0x4f2116=arguments[_0x5ec2bb(0x17e)],_0x4b8b74=_0x4f2116<0x3?_0x250c4b:_0x249f3c===null?_0x249f3c=Object['getOwnPropertyDescriptor'](_0x250c4b,_0xd536c8):_0x249f3c,_0x2f1e72;if(typeof Reflect===_0x5ec2bb(0x196)&&typeof Reflect[_0x5ec2bb(0x182)]===_0x5ec2bb(0x191))_0x4b8b74=Reflect[_0x5ec2bb(0x182)](_0x49353d,_0x250c4b,_0xd536c8,_0x249f3c);else{for(var _0x2bccd5=_0x49353d[_0x5ec2bb(0x17e)]-0x1;_0x2bccd5>=0x0;_0x2bccd5--)if(_0x2f1e72=_0x49353d[_0x2bccd5])_0x4b8b74=(_0x4f2116<0x3?_0x2f1e72(_0x4b8b74):_0x4f2116>0x3?_0x2f1e72(_0x250c4b,_0xd536c8,_0x4b8b74):_0x2f1e72(_0x250c4b,_0xd536c8))||_0x4b8b74;}return _0x4f2116>0x3&&_0x4b8b74&&Object[_0x5ec2bb(0x159)](_0x250c4b,_0xd536c8,_0x4b8b74),_0x4b8b74;},__metadata=this&&this[a239_0xebe1f0(0x17c)]||function(_0x1f0067,_0x159045){const _0x5c861f=a239_0xebe1f0;if(typeof Reflect==='object'&&typeof Reflect[_0x5c861f(0x1a2)]===_0x5c861f(0x191))return Reflect[_0x5c861f(0x1a2)](_0x1f0067,_0x159045);},__param=this&&this[a239_0xebe1f0(0x180)]||function(_0x5bddb5,_0xfc86d5){return function(_0x4e926d,_0x3e561d){_0xfc86d5(_0x4e926d,_0x3e561d,_0x5bddb5);};};Object['defineProperty'](exports,a239_0xebe1f0(0x181),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a239_0xebe1f0(0x18b)),not_found_error_1=require(a239_0xebe1f0(0x1a1)),typedi_1=require(a239_0xebe1f0(0x19e)),api_error_1=require(a239_0xebe1f0(0x16d)),bitbucket_server_api_service_1=require(a239_0xebe1f0(0x15d)),git_internal_1=require(a239_0xebe1f0(0x168)),utils_1=require(a239_0xebe1f0(0x163)),repo_class_1=require(a239_0xebe1f0(0x18d)),git_repo_service_1=require(a239_0xebe1f0(0x178)),providers_tokens_1=require(a239_0xebe1f0(0x1a0)),bitbucket_server_credentials_dto_1=require(a239_0xebe1f0(0x18a));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a239_0xebe1f0(0x189)]{constructor(_0x596018,_0x1ac221){const _0x1f7025=a239_0xebe1f0;super(_0x596018),this['api']=_0x596018,this[_0x1f7025(0x197)]=_0x1ac221[_0x1f7025(0x197)],this[_0x1f7025(0x164)]=_0x1ac221;}async[a239_0xebe1f0(0x177)](_0x19670a){const _0x27557c=a239_0xebe1f0;try{const _0x4b6ca3={'name':_0x19670a[_0x27557c(0x1a6)],'scmId':_0x27557c(0x167),'defaultBranch':_0x19670a['defaultBranch'],..._0x19670a[_0x27557c(0x19b)]||{}},_0x17c483=await this['request']['post']('projects/'+this[_0x27557c(0x197)]+'/repos',_0x4b6ca3),_0x3b20d0=repo_class_1[_0x27557c(0x15b)][_0x27557c(0x16a)](_0x17c483,'',this[_0x27557c(0x186)],this['credentials']);return _0x19670a[_0x27557c(0x184)]&&await git_internal_1[_0x27557c(0x17f)]['createEmptyBranch'](_0x3b20d0,_0x19670a[_0x27557c(0x19c)]||{'name':_0x27557c(0x16b)},'',this[_0x27557c(0x164)]),this[_0x27557c(0x1a5)](_0x3b20d0['name']);}catch(_0x4e7fdc){if(_0x4e7fdc instanceof api_error_1[_0x27557c(0x199)])throw _0x4e7fdc;throw new bad_request_error_1[(_0x27557c(0x169))](_0x4e7fdc);}}async[a239_0xebe1f0(0x15f)](){const _0xbb9047=a239_0xebe1f0;try{const _0xf7b3c3=[];let _0x9e5811;do{_0x9e5811=await this[_0xbb9047(0x194)][_0xbb9047(0x19f)](_0xbb9047(0x17d)+this[_0xbb9047(0x197)]+'/repos',{'params':{'limit':0x64,'start':_0x9e5811?_0x9e5811[_0xbb9047(0x172)]:0x0}}),_0xf7b3c3[_0xbb9047(0x16c)](..._0x9e5811[_0xbb9047(0x185)]);}while(!_0x9e5811[_0xbb9047(0x158)]);return _0xf7b3c3[_0xbb9047(0x188)](_0x5cb688=>repo_class_1[_0xbb9047(0x15b)][_0xbb9047(0x16a)](_0x5cb688,(0x0,utils_1[_0xbb9047(0x162)])(this[_0xbb9047(0x194)][_0xbb9047(0x175)]['baseURL']||'',_0xbb9047(0x18c)+this['project']+_0xbb9047(0x161)+_0x5cb688['slug']),this[_0xbb9047(0x186)],this[_0xbb9047(0x164)]));}catch(_0x446cf7){if(_0x446cf7 instanceof api_error_1[_0xbb9047(0x199)])throw _0x446cf7;throw new not_found_error_1[(_0xbb9047(0x166))](_0x446cf7);}}async[a239_0xebe1f0(0x1a5)](_0x1be2b1){const _0x451244=a239_0xebe1f0;var _0x36a83a;try{const _0x291a4f=await this[_0x451244(0x194)][_0x451244(0x19f)](_0x451244(0x17d)+this[_0x451244(0x197)]+_0x451244(0x161)+_0x1be2b1),_0x2b976b=repo_class_1['Repo'][_0x451244(0x16a)](_0x291a4f,(0x0,utils_1[_0x451244(0x162)])(this[_0x451244(0x194)][_0x451244(0x175)][_0x451244(0x179)]||'',_0x451244(0x18c)+this[_0x451244(0x197)]+_0x451244(0x161)+_0x1be2b1),this[_0x451244(0x186)],this['credentials']),_0x98fc2f=await this['request']['get'](_0x2b976b[_0x451244(0x190)]+_0x451244(0x173))['then'](_0x12ee52=>_0x12ee52[_0x451244(0x185)]);return _0x2b976b[_0x451244(0x19c)]=(_0x36a83a=_0x98fc2f[_0x451244(0x156)](_0x6832fa=>_0x6832fa[_0x451244(0x18e)]===!![]))===null||_0x36a83a===void 0x0?void 0x0:_0x36a83a[_0x451244(0x192)],_0x2b976b;}catch(_0x1313bc){if(_0x1313bc instanceof api_error_1[_0x451244(0x199)])throw _0x1313bc;throw new not_found_error_1[(_0x451244(0x166))](_0x1313bc);}}async[a239_0xebe1f0(0x16e)](_0x435766,_0x37d20c){const _0x3041d3=a239_0xebe1f0;try{const _0x4d6311=await this[_0x3041d3(0x194)][_0x3041d3(0x171)]('projects/'+this[_0x3041d3(0x197)]+_0x3041d3(0x161)+_0x435766,_0x37d20c),_0x23df9c=await this[_0x3041d3(0x194)][_0x3041d3(0x19f)](_0x3041d3(0x17d)+this[_0x3041d3(0x197)]+_0x3041d3(0x161)+_0x435766+_0x3041d3(0x16f)),_0x4215e1=repo_class_1['Repo']['fromBitbucketServer'](_0x4d6311,(0x0,utils_1['joinURL'])(this[_0x3041d3(0x194)]['defaults'][_0x3041d3(0x179)]||'',_0x3041d3(0x18c)+this[_0x3041d3(0x197)]+_0x3041d3(0x161)+_0x435766),this['api'],this[_0x3041d3(0x164)]);return _0x4215e1[_0x3041d3(0x19c)]=_0x23df9c['displayId'],_0x4215e1;}catch(_0x3779cb){if(_0x3779cb instanceof api_error_1[_0x3041d3(0x199)])throw _0x3779cb;throw new not_found_error_1[(_0x3041d3(0x166))](_0x3779cb);}}async['delete'](_0x2e2b56){const _0x389ab5=a239_0xebe1f0;try{await this[_0x389ab5(0x1a5)](_0x2e2b56),await this[_0x389ab5(0x194)][_0x389ab5(0x15a)](_0x389ab5(0x17d)+this[_0x389ab5(0x197)]+_0x389ab5(0x161)+_0x2e2b56);}catch(_0x425bc1){if(_0x425bc1 instanceof api_error_1[_0x389ab5(0x199)])throw _0x425bc1;throw new bad_request_error_1[(_0x389ab5(0x169))](_0x425bc1);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a239_0xebe1f0(0x195)])(),__param(0x1,(0x0,typedi_1[a239_0xebe1f0(0x1a3)])(providers_tokens_1[a239_0xebe1f0(0x15c)][a239_0xebe1f0(0x164)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a239_0xebe1f0(0x19d)],bitbucket_server_credentials_dto_1[a239_0xebe1f0(0x160)]])],BitbucketServerRepoService),exports[a239_0xebe1f0(0x1a4)]=BitbucketServerRepoService;