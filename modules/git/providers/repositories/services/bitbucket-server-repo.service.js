const a206_0x8f04b4=a206_0x4509;(function(_0x2bb00f,_0x18a18d){const _0x3babac=a206_0x4509,_0x2b4b99=_0x2bb00f();while(!![]){try{const _0x36ca84=parseInt(_0x3babac(0xd7))/0x1*(-parseInt(_0x3babac(0xf9))/0x2)+parseInt(_0x3babac(0xf2))/0x3*(parseInt(_0x3babac(0xda))/0x4)+parseInt(_0x3babac(0xf8))/0x5+-parseInt(_0x3babac(0xc0))/0x6+parseInt(_0x3babac(0xe3))/0x7+parseInt(_0x3babac(0xe9))/0x8*(parseInt(_0x3babac(0xc3))/0x9)+parseInt(_0x3babac(0xf1))/0xa*(-parseInt(_0x3babac(0xd2))/0xb);if(_0x36ca84===_0x18a18d)break;else _0x2b4b99['push'](_0x2b4b99['shift']());}catch(_0x3e8363){_0x2b4b99['push'](_0x2b4b99['shift']());}}}(a206_0x21f4,0xac833));function a206_0x4509(_0xd7bcd3,_0x22f6ab){const _0x43201a=a206_0x21f4();return a206_0x4509=function(_0x1564a8,_0x12aa95){_0x1564a8=_0x1564a8-0xb5;let _0x21f43e=_0x43201a[_0x1564a8];return _0x21f43e;},a206_0x4509(_0xd7bcd3,_0x22f6ab);}const a206_0x12aa95=(function(){let _0x58f1b4=!![];return function(_0x44180d,_0x831eeb){const _0x3d8977=_0x58f1b4?function(){const _0x506913=a206_0x4509;if(_0x831eeb){const _0x40b699=_0x831eeb[_0x506913(0xe6)](_0x44180d,arguments);return _0x831eeb=null,_0x40b699;}}:function(){};return _0x58f1b4=![],_0x3d8977;};}()),a206_0x1564a8=a206_0x12aa95(this,function(){const _0x515a60=a206_0x4509;return a206_0x1564a8[_0x515a60(0xd9)]()[_0x515a60(0xc5)](_0x515a60(0xe4))[_0x515a60(0xd9)]()[_0x515a60(0xfd)](a206_0x1564a8)['search']('(((.+)+)+)+$');});a206_0x1564a8();'use strict';var __decorate=this&&this[a206_0x8f04b4(0xc2)]||function(_0x281f4b,_0x42bf37,_0x47d738,_0x506684){const _0x5a33d9=a206_0x8f04b4;var _0xe31de2=arguments[_0x5a33d9(0xf6)],_0x59042d=_0xe31de2<0x3?_0x42bf37:_0x506684===null?_0x506684=Object['getOwnPropertyDescriptor'](_0x42bf37,_0x47d738):_0x506684,_0x26e75a;if(typeof Reflect===_0x5a33d9(0xbe)&&typeof Reflect[_0x5a33d9(0xfa)]===_0x5a33d9(0xfb))_0x59042d=Reflect[_0x5a33d9(0xfa)](_0x281f4b,_0x42bf37,_0x47d738,_0x506684);else{for(var _0x27da3c=_0x281f4b[_0x5a33d9(0xf6)]-0x1;_0x27da3c>=0x0;_0x27da3c--)if(_0x26e75a=_0x281f4b[_0x27da3c])_0x59042d=(_0xe31de2<0x3?_0x26e75a(_0x59042d):_0xe31de2>0x3?_0x26e75a(_0x42bf37,_0x47d738,_0x59042d):_0x26e75a(_0x42bf37,_0x47d738))||_0x59042d;}return _0xe31de2>0x3&&_0x59042d&&Object[_0x5a33d9(0xfe)](_0x42bf37,_0x47d738,_0x59042d),_0x59042d;},__metadata=this&&this['__metadata']||function(_0x5c309e,_0x57b277){const _0x28fc5a=a206_0x8f04b4;if(typeof Reflect===_0x28fc5a(0xbe)&&typeof Reflect[_0x28fc5a(0xf7)]===_0x28fc5a(0xfb))return Reflect[_0x28fc5a(0xf7)](_0x5c309e,_0x57b277);},__param=this&&this[a206_0x8f04b4(0xd5)]||function(_0x4ace6e,_0x2b6757){return function(_0x3c4fc9,_0x25c9af){_0x2b6757(_0x3c4fc9,_0x25c9af,_0x4ace6e);};};Object[a206_0x8f04b4(0xfe)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;function a206_0x21f4(){const _0x300388=['projects/','create','defaultBranch','getAll','credentials','../../../internal/git.internal','/branches','fromBitbucketServer','update','apiBody','joinURL','/projects/','4334pVKYcd','isLastPage','getOne','__param','baseURL','5SMBhhJ','name','toString','496bnZiEk','design:paramtypes','git','push','GitRepoService','Repo','../../../../../core/errors/bad-request.error','delete','ApiError','6863458ZshqWw','(((.+)+)+)+$','../../providers.tokens','apply','../../../../shared/utils','../../api/bitbucket-server-api.service','8480zqfejl','project','/default-branch','api','isDefault','/repos','autoInit','then','17630WIMThv','10599DxjESj','slug','request','defaults','length','metadata','3854050rmLTzS','83788jmdpnQ','decorate','function','displayId','constructor','defineProperty','master','put','map','BitbucketServerRepoService','get','NotFoundError','Tokens','BitbucketServerApiService','Inject','post','object','values','4063638oLMAhO','./git-repo.service','__decorate','837ALkonc','/repos/','search'];a206_0x21f4=function(){return _0x300388;};return a206_0x21f4();}const bad_request_error_1=require(a206_0x8f04b4(0xe0)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a206_0x8f04b4(0xe8)),git_internal_1=require(a206_0x8f04b4(0xcb)),utils_1=require(a206_0x8f04b4(0xe7)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a206_0x8f04b4(0xc1)),providers_tokens_1=require(a206_0x8f04b4(0xe5)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x8f04b4(0xde)]{constructor(_0x5659d2,_0x30e98b){const _0x9335a7=a206_0x8f04b4;super(_0x5659d2),this[_0x9335a7(0xec)]=_0x5659d2,this[_0x9335a7(0xea)]=_0x30e98b[_0x9335a7(0xea)],this['credentials']=_0x30e98b;}async[a206_0x8f04b4(0xc7)](_0x400385){const _0x5e2ba6=a206_0x8f04b4;try{const _0x3d6184={'name':_0x400385['name'],'scmId':_0x5e2ba6(0xdc),'defaultBranch':_0x400385[_0x5e2ba6(0xc8)],..._0x400385[_0x5e2ba6(0xcf)]||{}},_0x59160c=await this['request'][_0x5e2ba6(0xbd)]('projects/'+this['project']+_0x5e2ba6(0xee),_0x3d6184),_0xaeb19a=repo_class_1[_0x5e2ba6(0xdf)]['fromBitbucketServer'](_0x59160c,'',this[_0x5e2ba6(0xec)],this[_0x5e2ba6(0xca)]);return _0x400385[_0x5e2ba6(0xef)]&&await git_internal_1['Git']['createEmptyBranch'](_0xaeb19a,_0x400385[_0x5e2ba6(0xc8)]||_0x5e2ba6(0xff),'',this[_0x5e2ba6(0xca)]),this[_0x5e2ba6(0xd4)](_0xaeb19a[_0x5e2ba6(0xd8)]);}catch(_0x502a94){if(_0x502a94 instanceof api_error_1['ApiError'])throw _0x502a94;throw new bad_request_error_1['BadRequestError'](_0x502a94);}}async[a206_0x8f04b4(0xc9)](){const _0x44380a=a206_0x8f04b4;try{const _0x5b4de8=[];let _0x2c60f3;do{_0x2c60f3=await this[_0x44380a(0xf4)][_0x44380a(0xb8)](_0x44380a(0xc6)+this[_0x44380a(0xea)]+_0x44380a(0xee),{'params':{'limit':0x64,'start':_0x2c60f3?_0x2c60f3['nextPageStart']:0x0}}),_0x5b4de8[_0x44380a(0xdd)](..._0x2c60f3[_0x44380a(0xbf)]);}while(!_0x2c60f3[_0x44380a(0xd3)]);return _0x5b4de8[_0x44380a(0xb6)](_0x13a19b=>repo_class_1[_0x44380a(0xdf)][_0x44380a(0xcd)](_0x13a19b,(0x0,utils_1[_0x44380a(0xd0)])(this[_0x44380a(0xf4)]['defaults'][_0x44380a(0xd6)]||'','/projects/'+this[_0x44380a(0xea)]+_0x44380a(0xc4)+_0x13a19b[_0x44380a(0xf3)]),this[_0x44380a(0xec)],this['credentials']));}catch(_0x58cc72){if(_0x58cc72 instanceof api_error_1['ApiError'])throw _0x58cc72;throw new not_found_error_1[(_0x44380a(0xb9))](_0x58cc72);}}async[a206_0x8f04b4(0xd4)](_0x552793){const _0x232fcf=a206_0x8f04b4;var _0x587ac3;try{const _0x3d149a=await this['request']['get'](_0x232fcf(0xc6)+this['project']+_0x232fcf(0xc4)+_0x552793),_0x4135ce=repo_class_1[_0x232fcf(0xdf)][_0x232fcf(0xcd)](_0x3d149a,(0x0,utils_1['joinURL'])(this['request'][_0x232fcf(0xf5)][_0x232fcf(0xd6)]||'',_0x232fcf(0xd1)+this['project']+'/repos/'+_0x552793),this['api'],this[_0x232fcf(0xca)]),_0x1d15a4=await this['request'][_0x232fcf(0xb8)](_0x4135ce['apiUrl']+_0x232fcf(0xcc))[_0x232fcf(0xf0)](_0x5e9c62=>_0x5e9c62[_0x232fcf(0xbf)]);return _0x4135ce[_0x232fcf(0xc8)]=(_0x587ac3=_0x1d15a4['find'](_0x597e1d=>_0x597e1d[_0x232fcf(0xed)]===!![]))===null||_0x587ac3===void 0x0?void 0x0:_0x587ac3[_0x232fcf(0xfc)],_0x4135ce;}catch(_0x4a4a55){if(_0x4a4a55 instanceof api_error_1['ApiError'])throw _0x4a4a55;throw new not_found_error_1[(_0x232fcf(0xb9))](_0x4a4a55);}}async[a206_0x8f04b4(0xce)](_0x648c24,_0x30ffb9){const _0xd7081a=a206_0x8f04b4;try{const _0x296943=await this['request'][_0xd7081a(0xb5)](_0xd7081a(0xc6)+this[_0xd7081a(0xea)]+_0xd7081a(0xc4)+_0x648c24,_0x30ffb9),_0x334e27=await this[_0xd7081a(0xf4)][_0xd7081a(0xb8)]('projects/'+this[_0xd7081a(0xea)]+_0xd7081a(0xc4)+_0x648c24+_0xd7081a(0xeb)),_0x1a6771=repo_class_1[_0xd7081a(0xdf)][_0xd7081a(0xcd)](_0x296943,(0x0,utils_1[_0xd7081a(0xd0)])(this[_0xd7081a(0xf4)][_0xd7081a(0xf5)][_0xd7081a(0xd6)]||'',_0xd7081a(0xd1)+this['project']+_0xd7081a(0xc4)+_0x648c24),this['api'],this['credentials']);return _0x1a6771[_0xd7081a(0xc8)]=_0x334e27[_0xd7081a(0xfc)],_0x1a6771;}catch(_0x3815d5){if(_0x3815d5 instanceof api_error_1['ApiError'])throw _0x3815d5;throw new not_found_error_1[(_0xd7081a(0xb9))](_0x3815d5);}}async['delete'](_0x12b18b){const _0x5387b6=a206_0x8f04b4;try{await this[_0x5387b6(0xd4)](_0x12b18b),await this[_0x5387b6(0xf4)][_0x5387b6(0xe1)](_0x5387b6(0xc6)+this[_0x5387b6(0xea)]+_0x5387b6(0xc4)+_0x12b18b);}catch(_0x57260d){if(_0x57260d instanceof api_error_1[_0x5387b6(0xe2)])throw _0x57260d;throw new bad_request_error_1['BadRequestError'](_0x57260d);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a206_0x8f04b4(0xbc)])(providers_tokens_1[a206_0x8f04b4(0xba)]['credentials'])),__metadata(a206_0x8f04b4(0xdb),[bitbucket_server_api_service_1[a206_0x8f04b4(0xbb)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a206_0x8f04b4(0xb7)]=BitbucketServerRepoService;