const a166_0x1fbd05=a166_0x1703;(function(_0x3e5e34,_0x40feb5){const _0x237826=a166_0x1703,_0xad7845=_0x3e5e34();while(!![]){try{const _0x1d9815=parseInt(_0x237826(0x19b))/0x1+parseInt(_0x237826(0x1b7))/0x2*(parseInt(_0x237826(0x18c))/0x3)+parseInt(_0x237826(0x1b8))/0x4*(parseInt(_0x237826(0x1b2))/0x5)+parseInt(_0x237826(0x191))/0x6*(parseInt(_0x237826(0x1d4))/0x7)+parseInt(_0x237826(0x1d6))/0x8+-parseInt(_0x237826(0x1c4))/0x9*(parseInt(_0x237826(0x19a))/0xa)+parseInt(_0x237826(0x1c1))/0xb*(-parseInt(_0x237826(0x19e))/0xc);if(_0x1d9815===_0x40feb5)break;else _0xad7845['push'](_0xad7845['shift']());}catch(_0x5a656c){_0xad7845['push'](_0xad7845['shift']());}}}(a166_0x146a,0xe71c0));const a166_0xcfb06d=(function(){let _0x3a8c8f=!![];return function(_0x41df6e,_0x11b716){const _0x1b4fe3=_0x3a8c8f?function(){if(_0x11b716){const _0x3aa6bf=_0x11b716['apply'](_0x41df6e,arguments);return _0x11b716=null,_0x3aa6bf;}}:function(){};return _0x3a8c8f=![],_0x1b4fe3;};}()),a166_0x5bd7d1=a166_0xcfb06d(this,function(){const _0x5fdea6=a166_0x1703;return a166_0x5bd7d1[_0x5fdea6(0x18b)]()['search']('(((.+)+)+)+$')[_0x5fdea6(0x18b)]()[_0x5fdea6(0x1d5)](a166_0x5bd7d1)[_0x5fdea6(0x1cb)](_0x5fdea6(0x1a2));});a166_0x5bd7d1();'use strict';function a166_0x1703(_0x206f6b,_0x5b4567){const _0x59d99e=a166_0x146a();return a166_0x1703=function(_0x5bd7d1,_0xcfb06d){_0x5bd7d1=_0x5bd7d1-0x186;let _0x146a23=_0x59d99e[_0x5bd7d1];return _0x146a23;},a166_0x1703(_0x206f6b,_0x5b4567);}var __decorate=this&&this['__decorate']||function(_0x191756,_0x3b79c7,_0x17d2fd,_0x18000a){const _0x476499=a166_0x1703;var _0xc50f4d=arguments[_0x476499(0x1a5)],_0x4c370d=_0xc50f4d<0x3?_0x3b79c7:_0x18000a===null?_0x18000a=Object[_0x476499(0x1d8)](_0x3b79c7,_0x17d2fd):_0x18000a,_0x24f6a1;if(typeof Reflect===_0x476499(0x186)&&typeof Reflect[_0x476499(0x1a7)]===_0x476499(0x1a4))_0x4c370d=Reflect['decorate'](_0x191756,_0x3b79c7,_0x17d2fd,_0x18000a);else{for(var _0xac537d=_0x191756[_0x476499(0x1a5)]-0x1;_0xac537d>=0x0;_0xac537d--)if(_0x24f6a1=_0x191756[_0xac537d])_0x4c370d=(_0xc50f4d<0x3?_0x24f6a1(_0x4c370d):_0xc50f4d>0x3?_0x24f6a1(_0x3b79c7,_0x17d2fd,_0x4c370d):_0x24f6a1(_0x3b79c7,_0x17d2fd))||_0x4c370d;}return _0xc50f4d>0x3&&_0x4c370d&&Object['defineProperty'](_0x3b79c7,_0x17d2fd,_0x4c370d),_0x4c370d;},__metadata=this&&this[a166_0x1fbd05(0x188)]||function(_0x3d944d,_0xb25fa5){const _0xe5b1e0=a166_0x1fbd05;if(typeof Reflect===_0xe5b1e0(0x186)&&typeof Reflect[_0xe5b1e0(0x1ab)]==='function')return Reflect[_0xe5b1e0(0x1ab)](_0x3d944d,_0xb25fa5);},__param=this&&this[a166_0x1fbd05(0x1c5)]||function(_0xdd468f,_0x2bf009){return function(_0x125bfd,_0x31287b){_0x2bf009(_0x125bfd,_0x31287b,_0xdd468f);};};Object[a166_0x1fbd05(0x1ce)](exports,a166_0x1fbd05(0x1ae),{'value':!![]}),exports[a166_0x1fbd05(0x1d0)]=void 0x0;const bad_request_error_1=require(a166_0x1fbd05(0x1d1)),not_found_error_1=require(a166_0x1fbd05(0x1c3)),typedi_1=require(a166_0x1fbd05(0x1ac)),api_error_1=require(a166_0x1fbd05(0x1b4)),bitbucket_server_api_service_1=require(a166_0x1fbd05(0x190)),git_internal_1=require(a166_0x1fbd05(0x1b1)),utils_1=require(a166_0x1fbd05(0x1af)),repo_class_1=require(a166_0x1fbd05(0x1d3)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a166_0x1fbd05(0x1aa)),bitbucket_server_credentials_dto_1=require(a166_0x1fbd05(0x193));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a166_0x1fbd05(0x189)]{constructor(_0x18f9b6,_0x268633){const _0x38e1b=a166_0x1fbd05;super(_0x18f9b6),this['api']=_0x18f9b6,this[_0x38e1b(0x18f)]=_0x268633[_0x38e1b(0x18f)],this[_0x38e1b(0x192)]=_0x268633;}async[a166_0x1fbd05(0x19f)](_0x4c4fba){const _0x365fe0=a166_0x1fbd05;try{const _0xda92f4={'name':_0x4c4fba[_0x365fe0(0x1a3)],'scmId':_0x365fe0(0x1a0),'defaultBranch':_0x4c4fba[_0x365fe0(0x1a8)],..._0x4c4fba[_0x365fe0(0x1c2)]||{}},_0x1384c2=await this[_0x365fe0(0x196)][_0x365fe0(0x198)](_0x365fe0(0x1b5)+this[_0x365fe0(0x18f)]+'/repos',_0xda92f4),_0x3539de=repo_class_1[_0x365fe0(0x1b9)][_0x365fe0(0x1d2)](_0x1384c2,'',this[_0x365fe0(0x1c9)],this[_0x365fe0(0x192)]);return _0x4c4fba['autoInit']&&await git_internal_1[_0x365fe0(0x1d7)][_0x365fe0(0x1ca)](_0x3539de,_0x4c4fba[_0x365fe0(0x1a8)]||_0x365fe0(0x18d),'',this[_0x365fe0(0x192)]),this[_0x365fe0(0x1bf)](_0x3539de['name']);}catch(_0x45b7a1){if(_0x45b7a1 instanceof api_error_1[_0x365fe0(0x1b3)])throw _0x45b7a1;throw new bad_request_error_1[(_0x365fe0(0x1a9))](_0x45b7a1);}}async[a166_0x1fbd05(0x1b6)](){const _0x1f8bfe=a166_0x1fbd05;try{const _0xf623a1=[];let _0x4fe518;do{_0x4fe518=await this[_0x1f8bfe(0x196)]['get'](_0x1f8bfe(0x1b5)+this[_0x1f8bfe(0x18f)]+_0x1f8bfe(0x1c7),{'params':{'limit':0x64,'start':_0x4fe518?_0x4fe518[_0x1f8bfe(0x1ba)]:0x0}}),_0xf623a1['push'](..._0x4fe518['values']);}while(!_0x4fe518[_0x1f8bfe(0x1bb)]);return _0xf623a1[_0x1f8bfe(0x1cc)](_0x48406f=>repo_class_1[_0x1f8bfe(0x1b9)][_0x1f8bfe(0x1d2)](_0x48406f,(0x0,utils_1['joinURL'])(this[_0x1f8bfe(0x196)][_0x1f8bfe(0x1be)][_0x1f8bfe(0x19d)]||'',_0x1f8bfe(0x1c8)+this[_0x1f8bfe(0x18f)]+_0x1f8bfe(0x1bd)+_0x48406f[_0x1f8bfe(0x1c0)]),this[_0x1f8bfe(0x1c9)],this[_0x1f8bfe(0x192)]));}catch(_0x2ca505){if(_0x2ca505 instanceof api_error_1['ApiError'])throw _0x2ca505;throw new not_found_error_1['NotFoundError'](_0x2ca505);}}async[a166_0x1fbd05(0x1bf)](_0x45d2e4){const _0x5dd02b=a166_0x1fbd05;var _0x5e7529;try{const _0xb4ccc=await this['request'][_0x5dd02b(0x187)]('projects/'+this[_0x5dd02b(0x18f)]+_0x5dd02b(0x1bd)+_0x45d2e4),_0x444cd2=repo_class_1[_0x5dd02b(0x1b9)][_0x5dd02b(0x1d2)](_0xb4ccc,(0x0,utils_1[_0x5dd02b(0x1d9)])(this['request'][_0x5dd02b(0x1be)]['baseURL']||'','/projects/'+this[_0x5dd02b(0x18f)]+_0x5dd02b(0x1bd)+_0x45d2e4),this[_0x5dd02b(0x1c9)],this[_0x5dd02b(0x192)]),_0x3d0691=await this['request']['get'](_0x444cd2[_0x5dd02b(0x1a1)]+_0x5dd02b(0x1ad))[_0x5dd02b(0x1cd)](_0x38a18d=>_0x38a18d[_0x5dd02b(0x195)]);return _0x444cd2[_0x5dd02b(0x1a8)]=(_0x5e7529=_0x3d0691[_0x5dd02b(0x1bc)](_0x25f2b5=>_0x25f2b5[_0x5dd02b(0x19c)]===!![]))===null||_0x5e7529===void 0x0?void 0x0:_0x5e7529[_0x5dd02b(0x1b0)],_0x444cd2;}catch(_0x4c93c9){if(_0x4c93c9 instanceof api_error_1[_0x5dd02b(0x1b3)])throw _0x4c93c9;throw new not_found_error_1[(_0x5dd02b(0x18e))](_0x4c93c9);}}async[a166_0x1fbd05(0x1cf)](_0x22a766,_0x48a2da){const _0x42658e=a166_0x1fbd05;try{const _0x43768a=await this[_0x42658e(0x196)]['put']('projects/'+this['project']+_0x42658e(0x1bd)+_0x22a766,_0x48a2da),_0x42bca9=await this[_0x42658e(0x196)]['get'](_0x42658e(0x1b5)+this[_0x42658e(0x18f)]+_0x42658e(0x1bd)+_0x22a766+_0x42658e(0x197)),_0x1d537c=repo_class_1[_0x42658e(0x1b9)]['fromBitbucketServer'](_0x43768a,(0x0,utils_1['joinURL'])(this['request'][_0x42658e(0x1be)]['baseURL']||'',_0x42658e(0x1c8)+this[_0x42658e(0x18f)]+_0x42658e(0x1bd)+_0x22a766),this['api'],this[_0x42658e(0x192)]);return _0x1d537c[_0x42658e(0x1a8)]=_0x42bca9[_0x42658e(0x1b0)],_0x1d537c;}catch(_0x1ddb7e){if(_0x1ddb7e instanceof api_error_1[_0x42658e(0x1b3)])throw _0x1ddb7e;throw new not_found_error_1['NotFoundError'](_0x1ddb7e);}}async[a166_0x1fbd05(0x18a)](_0x37f98e){const _0x563141=a166_0x1fbd05;try{await this[_0x563141(0x1bf)](_0x37f98e),await this['request']['delete']('projects/'+this[_0x563141(0x18f)]+_0x563141(0x1bd)+_0x37f98e);}catch(_0x590d7e){if(_0x590d7e instanceof api_error_1[_0x563141(0x1b3)])throw _0x590d7e;throw new bad_request_error_1[(_0x563141(0x1a9))](_0x590d7e);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a166_0x1fbd05(0x199)])(),__param(0x1,(0x0,typedi_1[a166_0x1fbd05(0x1a6)])(providers_tokens_1['Tokens']['credentials'])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a166_0x1fbd05(0x194)],bitbucket_server_credentials_dto_1[a166_0x1fbd05(0x1c6)]])],BitbucketServerRepoService),exports[a166_0x1fbd05(0x1d0)]=BitbucketServerRepoService;function a166_0x146a(){const _0x8083b8=['79599PdOQID','master','NotFoundError','project','../../api/bitbucket-server-api.service','805038aCHdCv','credentials','../../credentials/dto/bitbucket-server-credentials.dto','BitbucketServerApiService','values','request','/default-branch','post','Service','10veXpeV','475721TnDbwc','isDefault','baseURL','456wscWkh','create','git','apiUrl','(((.+)+)+)+$','name','function','length','Inject','decorate','defaultBranch','BadRequestError','../../providers.tokens','metadata','typedi','/branches','__esModule','../../../../shared/utils','displayId','../../../internal/git.internal','118595cPNABU','ApiError','../../../../../core/errors/api.error','projects/','getAll','28HqPeOu','192ZSWdzl','Repo','nextPageStart','isLastPage','find','/repos/','defaults','getOne','slug','304117uihidS','apiBody','../../../../../core/errors/not-found.error','7777287iKMysF','__param','BitbucketServerCredentialsDto','/repos','/projects/','api','createEmptyBranch','search','map','then','defineProperty','update','BitbucketServerRepoService','../../../../../core/errors/bad-request.error','fromBitbucketServer','../repo.class','35hazUAJ','constructor','1638344BTUELY','Git','getOwnPropertyDescriptor','joinURL','object','get','__metadata','GitRepoService','delete','toString'];a166_0x146a=function(){return _0x8083b8;};return a166_0x146a();}