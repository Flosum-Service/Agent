const a200_0x11e430=a200_0x58ee;(function(_0x519b6a,_0xa53b26){const _0xb61e33=a200_0x58ee,_0x26e45b=_0x519b6a();while(!![]){try{const _0x57b6f3=parseInt(_0xb61e33(0x16f))/0x1+-parseInt(_0xb61e33(0x136))/0x2+parseInt(_0xb61e33(0x146))/0x3*(parseInt(_0xb61e33(0x12b))/0x4)+-parseInt(_0xb61e33(0x16c))/0x5+-parseInt(_0xb61e33(0x134))/0x6+parseInt(_0xb61e33(0x14e))/0x7+-parseInt(_0xb61e33(0x170))/0x8;if(_0x57b6f3===_0xa53b26)break;else _0x26e45b['push'](_0x26e45b['shift']());}catch(_0x4a6ffc){_0x26e45b['push'](_0x26e45b['shift']());}}}(a200_0xae46,0x35113));const a200_0x59880c=(function(){let _0x11f568=!![];return function(_0x262cf3,_0x4a12cd){const _0x33c938=_0x11f568?function(){if(_0x4a12cd){const _0x5868e6=_0x4a12cd['apply'](_0x262cf3,arguments);return _0x4a12cd=null,_0x5868e6;}}:function(){};return _0x11f568=![],_0x33c938;};}()),a200_0x509704=a200_0x59880c(this,function(){const _0x4ab51f=a200_0x58ee;return a200_0x509704[_0x4ab51f(0x164)]()[_0x4ab51f(0x135)](_0x4ab51f(0x133))[_0x4ab51f(0x164)]()[_0x4ab51f(0x129)](a200_0x509704)[_0x4ab51f(0x135)](_0x4ab51f(0x133));});a200_0x509704();'use strict';var __decorate=this&&this[a200_0x11e430(0x125)]||function(_0x1ce0e4,_0x268bbc,_0x17bff5,_0xa59bef){const _0x1a01c2=a200_0x11e430;var _0x489b=arguments[_0x1a01c2(0x143)],_0x23f047=_0x489b<0x3?_0x268bbc:_0xa59bef===null?_0xa59bef=Object[_0x1a01c2(0x159)](_0x268bbc,_0x17bff5):_0xa59bef,_0x21cdbc;if(typeof Reflect===_0x1a01c2(0x14b)&&typeof Reflect[_0x1a01c2(0x16a)]===_0x1a01c2(0x148))_0x23f047=Reflect[_0x1a01c2(0x16a)](_0x1ce0e4,_0x268bbc,_0x17bff5,_0xa59bef);else{for(var _0x421dfb=_0x1ce0e4[_0x1a01c2(0x143)]-0x1;_0x421dfb>=0x0;_0x421dfb--)if(_0x21cdbc=_0x1ce0e4[_0x421dfb])_0x23f047=(_0x489b<0x3?_0x21cdbc(_0x23f047):_0x489b>0x3?_0x21cdbc(_0x268bbc,_0x17bff5,_0x23f047):_0x21cdbc(_0x268bbc,_0x17bff5))||_0x23f047;}return _0x489b>0x3&&_0x23f047&&Object[_0x1a01c2(0x137)](_0x268bbc,_0x17bff5,_0x23f047),_0x23f047;},__metadata=this&&this[a200_0x11e430(0x13b)]||function(_0x124a2b,_0x3751a7){const _0x119c4=a200_0x11e430;if(typeof Reflect===_0x119c4(0x14b)&&typeof Reflect['metadata']===_0x119c4(0x148))return Reflect[_0x119c4(0x157)](_0x124a2b,_0x3751a7);},__param=this&&this['__param']||function(_0x12d3aa,_0x2e8f01){return function(_0x555022,_0xef5b2c){_0x2e8f01(_0x555022,_0xef5b2c,_0x12d3aa);};};function a200_0x58ee(_0xffd9ee,_0x57c009){const _0x269a93=a200_0xae46();return a200_0x58ee=function(_0x509704,_0x59880c){_0x509704=_0x509704-0x125;let _0xae4678=_0x269a93[_0x509704];return _0xae4678;},a200_0x58ee(_0xffd9ee,_0x57c009);}function a200_0xae46(){const _0x5d38b1=['git','post','name','api','getAll','NotFoundError','request','(((.+)+)+)+$','1392360PvYDfL','search','782238lnfeFM','defineProperty','credentials','apiUrl','Inject','__metadata','Tokens','../../../../shared/utils','../repo.class','map','slug','displayId','../../api/bitbucket-server-api.service','length','find','baseURL','1179753PAXezK','project','function','/branches','/repos/','object','BitbucketServerCredentialsDto','../../../internal/git.internal','2406740EOOszS','design:paramtypes','Git','push','../../../../../core/errors/bad-request.error','/projects/','update','../../../../../core/errors/not-found.error','BadRequestError','metadata','put','getOwnPropertyDescriptor','__esModule','BitbucketServerApiService','./git-repo.service','then','/repos','master','../../providers.tokens','/default-branch','delete','typedi','toString','values','createEmptyBranch','fromBitbucketServer','GitRepoService','Repo','decorate','create','400995cVbVNJ','joinURL','../../../../../core/errors/api.error','222051aHLRhq','307048NtjYCj','defaults','defaultBranch','ApiError','__decorate','autoInit','get','getOne','constructor','projects/','4DaKdSH'];a200_0xae46=function(){return _0x5d38b1;};return a200_0xae46();}Object[a200_0x11e430(0x137)](exports,a200_0x11e430(0x15a),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a200_0x11e430(0x152)),not_found_error_1=require(a200_0x11e430(0x155)),typedi_1=require(a200_0x11e430(0x163)),api_error_1=require(a200_0x11e430(0x16e)),bitbucket_server_api_service_1=require(a200_0x11e430(0x142)),git_internal_1=require(a200_0x11e430(0x14d)),utils_1=require(a200_0x11e430(0x13d)),repo_class_1=require(a200_0x11e430(0x13e)),git_repo_service_1=require(a200_0x11e430(0x15c)),providers_tokens_1=require(a200_0x11e430(0x160)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a200_0x11e430(0x168)]{constructor(_0x4a9f3,_0x55969f){const _0x5cc020=a200_0x11e430;super(_0x4a9f3),this[_0x5cc020(0x12f)]=_0x4a9f3,this['project']=_0x55969f['project'],this[_0x5cc020(0x138)]=_0x55969f;}async[a200_0x11e430(0x16b)](_0x5c7ceb){const _0x20bb4e=a200_0x11e430;try{const _0x3715c3={'name':_0x5c7ceb[_0x20bb4e(0x12e)],'scmId':_0x20bb4e(0x12c),'defaultBranch':_0x5c7ceb[_0x20bb4e(0x172)],..._0x5c7ceb['apiBody']||{}},_0x38ecc9=await this['request'][_0x20bb4e(0x12d)](_0x20bb4e(0x12a)+this['project']+_0x20bb4e(0x15e),_0x3715c3),_0x322e6e=repo_class_1[_0x20bb4e(0x169)][_0x20bb4e(0x167)](_0x38ecc9,'',this['api'],this[_0x20bb4e(0x138)]);return _0x5c7ceb[_0x20bb4e(0x126)]&&await git_internal_1[_0x20bb4e(0x150)][_0x20bb4e(0x166)](_0x322e6e,_0x5c7ceb['defaultBranch']||_0x20bb4e(0x15f),'',this[_0x20bb4e(0x138)]),this[_0x20bb4e(0x128)](_0x322e6e['name']);}catch(_0x4ba62c){if(_0x4ba62c instanceof api_error_1[_0x20bb4e(0x173)])throw _0x4ba62c;throw new bad_request_error_1['BadRequestError'](_0x4ba62c);}}async[a200_0x11e430(0x130)](){const _0x44f629=a200_0x11e430;try{const _0x46205c=[];let _0x570fb0;do{_0x570fb0=await this[_0x44f629(0x132)][_0x44f629(0x127)]('projects/'+this[_0x44f629(0x147)]+'/repos',{'params':{'limit':0x64,'start':_0x570fb0?_0x570fb0['nextPageStart']:0x0}}),_0x46205c[_0x44f629(0x151)](..._0x570fb0[_0x44f629(0x165)]);}while(!_0x570fb0['isLastPage']);return _0x46205c[_0x44f629(0x13f)](_0xcc83=>repo_class_1[_0x44f629(0x169)][_0x44f629(0x167)](_0xcc83,(0x0,utils_1[_0x44f629(0x16d)])(this[_0x44f629(0x132)]['defaults'][_0x44f629(0x145)]||'','/projects/'+this[_0x44f629(0x147)]+'/repos/'+_0xcc83[_0x44f629(0x140)]),this[_0x44f629(0x12f)],this[_0x44f629(0x138)]));}catch(_0x12db21){if(_0x12db21 instanceof api_error_1[_0x44f629(0x173)])throw _0x12db21;throw new not_found_error_1['NotFoundError'](_0x12db21);}}async[a200_0x11e430(0x128)](_0x5be7f4){const _0x20f2f4=a200_0x11e430;var _0x10add5;try{const _0x383bb8=await this[_0x20f2f4(0x132)][_0x20f2f4(0x127)](_0x20f2f4(0x12a)+this[_0x20f2f4(0x147)]+_0x20f2f4(0x14a)+_0x5be7f4),_0x15bc41=repo_class_1[_0x20f2f4(0x169)]['fromBitbucketServer'](_0x383bb8,(0x0,utils_1[_0x20f2f4(0x16d)])(this[_0x20f2f4(0x132)]['defaults']['baseURL']||'',_0x20f2f4(0x153)+this['project']+_0x20f2f4(0x14a)+_0x5be7f4),this[_0x20f2f4(0x12f)],this['credentials']),_0x377f29=await this[_0x20f2f4(0x132)][_0x20f2f4(0x127)](_0x15bc41[_0x20f2f4(0x139)]+_0x20f2f4(0x149))[_0x20f2f4(0x15d)](_0x3f5e1f=>_0x3f5e1f[_0x20f2f4(0x165)]);return _0x15bc41['defaultBranch']=(_0x10add5=_0x377f29[_0x20f2f4(0x144)](_0x280b3f=>_0x280b3f['isDefault']===!![]))===null||_0x10add5===void 0x0?void 0x0:_0x10add5[_0x20f2f4(0x141)],_0x15bc41;}catch(_0x1eaa5e){if(_0x1eaa5e instanceof api_error_1[_0x20f2f4(0x173)])throw _0x1eaa5e;throw new not_found_error_1[(_0x20f2f4(0x131))](_0x1eaa5e);}}async[a200_0x11e430(0x154)](_0x480f87,_0x1bc435){const _0x315e6b=a200_0x11e430;try{const _0x20fa47=await this[_0x315e6b(0x132)][_0x315e6b(0x158)](_0x315e6b(0x12a)+this[_0x315e6b(0x147)]+_0x315e6b(0x14a)+_0x480f87,_0x1bc435),_0x51688e=await this[_0x315e6b(0x132)][_0x315e6b(0x127)](_0x315e6b(0x12a)+this[_0x315e6b(0x147)]+_0x315e6b(0x14a)+_0x480f87+_0x315e6b(0x161)),_0x4bbfb5=repo_class_1[_0x315e6b(0x169)][_0x315e6b(0x167)](_0x20fa47,(0x0,utils_1[_0x315e6b(0x16d)])(this['request'][_0x315e6b(0x171)]['baseURL']||'','/projects/'+this['project']+_0x315e6b(0x14a)+_0x480f87),this[_0x315e6b(0x12f)],this[_0x315e6b(0x138)]);return _0x4bbfb5[_0x315e6b(0x172)]=_0x51688e[_0x315e6b(0x141)],_0x4bbfb5;}catch(_0x4cf11c){if(_0x4cf11c instanceof api_error_1[_0x315e6b(0x173)])throw _0x4cf11c;throw new not_found_error_1[(_0x315e6b(0x131))](_0x4cf11c);}}async[a200_0x11e430(0x162)](_0x43b71c){const _0x43a8ba=a200_0x11e430;try{await this[_0x43a8ba(0x128)](_0x43b71c),await this[_0x43a8ba(0x132)][_0x43a8ba(0x162)](_0x43a8ba(0x12a)+this[_0x43a8ba(0x147)]+_0x43a8ba(0x14a)+_0x43b71c);}catch(_0x6f692){if(_0x6f692 instanceof api_error_1[_0x43a8ba(0x173)])throw _0x6f692;throw new bad_request_error_1[(_0x43a8ba(0x156))](_0x6f692);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a200_0x11e430(0x13a)])(providers_tokens_1[a200_0x11e430(0x13c)][a200_0x11e430(0x138)])),__metadata(a200_0x11e430(0x14f),[bitbucket_server_api_service_1[a200_0x11e430(0x15b)],bitbucket_server_credentials_dto_1[a200_0x11e430(0x14c)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;