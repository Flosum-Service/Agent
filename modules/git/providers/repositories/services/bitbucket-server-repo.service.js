const a212_0x522f26=a212_0x16f3;(function(_0x4f7a87,_0x5980aa){const _0x451553=a212_0x16f3,_0x2d9d0f=_0x4f7a87();while(!![]){try{const _0x5a8b04=parseInt(_0x451553(0x20c))/0x1*(parseInt(_0x451553(0x216))/0x2)+parseInt(_0x451553(0x21b))/0x3+-parseInt(_0x451553(0x1fd))/0x4+parseInt(_0x451553(0x205))/0x5+-parseInt(_0x451553(0x1ed))/0x6*(-parseInt(_0x451553(0x221))/0x7)+parseInt(_0x451553(0x232))/0x8*(parseInt(_0x451553(0x1ec))/0x9)+-parseInt(_0x451553(0x21e))/0xa;if(_0x5a8b04===_0x5980aa)break;else _0x2d9d0f['push'](_0x2d9d0f['shift']());}catch(_0x2f3c76){_0x2d9d0f['push'](_0x2d9d0f['shift']());}}}(a212_0x6ffa,0xb8368));function a212_0x6ffa(){const _0x89bfc8=['/default-branch','credentials','BitbucketServerRepoService','function','../../../internal/git.internal','../repo.class','constructor','api','git','length','../../providers.tokens','baseURL','/repos','BitbucketServerCredentialsDto','BadRequestError','8ONBewd','find','/projects/','displayId','metadata','project','delete','joinURL','476721NJiyYw','1074330mfNHIs','then','getOne','../../../../shared/utils','apiUrl','fromBitbucketServer','typedi','NotFoundError','../../../../../core/errors/not-found.error','BitbucketServerApiService','./git-repo.service','master','Inject','projects/','getOwnPropertyDescriptor','../../credentials/dto/bitbucket-server-credentials.dto','2635892cDwLEm','createEmptyBranch','ApiError','/branches','create','__decorate','isLastPage','defaults','4918730buLGdG','object','values','Repo','request','search','../../../../../core/errors/api.error','318InLUyl','../../../../../core/errors/bad-request.error','design:paramtypes','/repos/','Tokens','Git','defaultBranch','decorate','isDefault','__esModule','9194mxqOyI','put','slug','(((.+)+)+)+$','map','4344036DQDNns','update','../../api/bitbucket-server-api.service','32492840rovPKh','post','get','28LNeaCU','getAll'];a212_0x6ffa=function(){return _0x89bfc8;};return a212_0x6ffa();}const a212_0xf6712f=(function(){let _0x4b723d=!![];return function(_0x51e69d,_0x4d2612){const _0xf82c2b=_0x4b723d?function(){if(_0x4d2612){const _0x2c07a6=_0x4d2612['apply'](_0x51e69d,arguments);return _0x4d2612=null,_0x2c07a6;}}:function(){};return _0x4b723d=![],_0xf82c2b;};}()),a212_0x511323=a212_0xf6712f(this,function(){const _0xa53f27=a212_0x16f3;return a212_0x511323['toString']()[_0xa53f27(0x20a)](_0xa53f27(0x219))['toString']()[_0xa53f27(0x229)](a212_0x511323)[_0xa53f27(0x20a)](_0xa53f27(0x219));});a212_0x511323();'use strict';function a212_0x16f3(_0x2abd97,_0x596573){const _0x3c5e0b=a212_0x6ffa();return a212_0x16f3=function(_0x511323,_0xf6712f){_0x511323=_0x511323-0x1e9;let _0x6ffadc=_0x3c5e0b[_0x511323];return _0x6ffadc;},a212_0x16f3(_0x2abd97,_0x596573);}var __decorate=this&&this[a212_0x522f26(0x202)]||function(_0x39a982,_0xc45049,_0x17ce23,_0x3f229e){const _0x4d0c5e=a212_0x522f26;var _0x5c552a=arguments[_0x4d0c5e(0x22c)],_0x1ce297=_0x5c552a<0x3?_0xc45049:_0x3f229e===null?_0x3f229e=Object[_0x4d0c5e(0x1fb)](_0xc45049,_0x17ce23):_0x3f229e,_0x3bc09c;if(typeof Reflect==='object'&&typeof Reflect[_0x4d0c5e(0x213)]===_0x4d0c5e(0x226))_0x1ce297=Reflect['decorate'](_0x39a982,_0xc45049,_0x17ce23,_0x3f229e);else{for(var _0x257e26=_0x39a982[_0x4d0c5e(0x22c)]-0x1;_0x257e26>=0x0;_0x257e26--)if(_0x3bc09c=_0x39a982[_0x257e26])_0x1ce297=(_0x5c552a<0x3?_0x3bc09c(_0x1ce297):_0x5c552a>0x3?_0x3bc09c(_0xc45049,_0x17ce23,_0x1ce297):_0x3bc09c(_0xc45049,_0x17ce23))||_0x1ce297;}return _0x5c552a>0x3&&_0x1ce297&&Object['defineProperty'](_0xc45049,_0x17ce23,_0x1ce297),_0x1ce297;},__metadata=this&&this['__metadata']||function(_0x44eb74,_0x19d06a){const _0x4148c3=a212_0x522f26;if(typeof Reflect===_0x4148c3(0x206)&&typeof Reflect[_0x4148c3(0x236)]===_0x4148c3(0x226))return Reflect[_0x4148c3(0x236)](_0x44eb74,_0x19d06a);},__param=this&&this['__param']||function(_0x23743b,_0x2df100){return function(_0x3cf1ab,_0xdfd113){_0x2df100(_0x3cf1ab,_0xdfd113,_0x23743b);};};Object['defineProperty'](exports,a212_0x522f26(0x215),{'value':!![]}),exports[a212_0x522f26(0x225)]=void 0x0;const bad_request_error_1=require(a212_0x522f26(0x20d)),not_found_error_1=require(a212_0x522f26(0x1f5)),typedi_1=require(a212_0x522f26(0x1f3)),api_error_1=require(a212_0x522f26(0x20b)),bitbucket_server_api_service_1=require(a212_0x522f26(0x21d)),git_internal_1=require(a212_0x522f26(0x227)),utils_1=require(a212_0x522f26(0x1f0)),repo_class_1=require(a212_0x522f26(0x228)),git_repo_service_1=require(a212_0x522f26(0x1f7)),providers_tokens_1=require(a212_0x522f26(0x22d)),bitbucket_server_credentials_dto_1=require(a212_0x522f26(0x1fc));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x3c8295,_0x4f3d72){const _0x471a9a=a212_0x522f26;super(_0x3c8295),this[_0x471a9a(0x22a)]=_0x3c8295,this[_0x471a9a(0x1e9)]=_0x4f3d72[_0x471a9a(0x1e9)],this[_0x471a9a(0x224)]=_0x4f3d72;}async[a212_0x522f26(0x201)](_0xd37ce7){const _0x54eff0=a212_0x522f26;try{const _0x318fce={'name':_0xd37ce7['name'],'scmId':_0x54eff0(0x22b),'defaultBranch':_0xd37ce7[_0x54eff0(0x212)],..._0xd37ce7['apiBody']||{}},_0x512b3d=await this[_0x54eff0(0x209)][_0x54eff0(0x21f)]('projects/'+this['project']+'/repos',_0x318fce),_0x234d72=repo_class_1[_0x54eff0(0x208)][_0x54eff0(0x1f2)](_0x512b3d,'',this[_0x54eff0(0x22a)],this[_0x54eff0(0x224)]);return _0xd37ce7['autoInit']&&await git_internal_1[_0x54eff0(0x211)][_0x54eff0(0x1fe)](_0x234d72,_0xd37ce7[_0x54eff0(0x212)]||_0x54eff0(0x1f8),'',this[_0x54eff0(0x224)]),this[_0x54eff0(0x1ef)](_0x234d72['name']);}catch(_0xfc3bf2){if(_0xfc3bf2 instanceof api_error_1['ApiError'])throw _0xfc3bf2;throw new bad_request_error_1[(_0x54eff0(0x231))](_0xfc3bf2);}}async[a212_0x522f26(0x222)](){const _0x3e2304=a212_0x522f26;try{const _0x125b19=[];let _0x3a6734;do{_0x3a6734=await this[_0x3e2304(0x209)][_0x3e2304(0x220)](_0x3e2304(0x1fa)+this['project']+_0x3e2304(0x22f),{'params':{'limit':0x64,'start':_0x3a6734?_0x3a6734['nextPageStart']:0x0}}),_0x125b19['push'](..._0x3a6734[_0x3e2304(0x207)]);}while(!_0x3a6734[_0x3e2304(0x203)]);return _0x125b19[_0x3e2304(0x21a)](_0x3d8ffe=>repo_class_1[_0x3e2304(0x208)]['fromBitbucketServer'](_0x3d8ffe,(0x0,utils_1[_0x3e2304(0x1eb)])(this[_0x3e2304(0x209)][_0x3e2304(0x204)][_0x3e2304(0x22e)]||'',_0x3e2304(0x234)+this['project']+'/repos/'+_0x3d8ffe[_0x3e2304(0x218)]),this[_0x3e2304(0x22a)],this['credentials']));}catch(_0x33c011){if(_0x33c011 instanceof api_error_1[_0x3e2304(0x1ff)])throw _0x33c011;throw new not_found_error_1[(_0x3e2304(0x1f4))](_0x33c011);}}async[a212_0x522f26(0x1ef)](_0x4c4d6d){const _0x37b56=a212_0x522f26;var _0x32ca90;try{const _0x391604=await this[_0x37b56(0x209)][_0x37b56(0x220)](_0x37b56(0x1fa)+this[_0x37b56(0x1e9)]+_0x37b56(0x20f)+_0x4c4d6d),_0x24e817=repo_class_1[_0x37b56(0x208)]['fromBitbucketServer'](_0x391604,(0x0,utils_1[_0x37b56(0x1eb)])(this[_0x37b56(0x209)]['defaults'][_0x37b56(0x22e)]||'',_0x37b56(0x234)+this[_0x37b56(0x1e9)]+'/repos/'+_0x4c4d6d),this[_0x37b56(0x22a)],this[_0x37b56(0x224)]),_0x4ec907=await this[_0x37b56(0x209)][_0x37b56(0x220)](_0x24e817[_0x37b56(0x1f1)]+_0x37b56(0x200))[_0x37b56(0x1ee)](_0xb47a69=>_0xb47a69[_0x37b56(0x207)]);return _0x24e817['defaultBranch']=(_0x32ca90=_0x4ec907[_0x37b56(0x233)](_0x3cc8ad=>_0x3cc8ad[_0x37b56(0x214)]===!![]))===null||_0x32ca90===void 0x0?void 0x0:_0x32ca90[_0x37b56(0x235)],_0x24e817;}catch(_0x1ce9cf){if(_0x1ce9cf instanceof api_error_1[_0x37b56(0x1ff)])throw _0x1ce9cf;throw new not_found_error_1['NotFoundError'](_0x1ce9cf);}}async[a212_0x522f26(0x21c)](_0x154d9a,_0x3d91ee){const _0x2f4ee0=a212_0x522f26;try{const _0x3d0be9=await this['request'][_0x2f4ee0(0x217)](_0x2f4ee0(0x1fa)+this[_0x2f4ee0(0x1e9)]+'/repos/'+_0x154d9a,_0x3d91ee),_0x108a46=await this[_0x2f4ee0(0x209)][_0x2f4ee0(0x220)](_0x2f4ee0(0x1fa)+this[_0x2f4ee0(0x1e9)]+_0x2f4ee0(0x20f)+_0x154d9a+_0x2f4ee0(0x223)),_0x346c54=repo_class_1[_0x2f4ee0(0x208)][_0x2f4ee0(0x1f2)](_0x3d0be9,(0x0,utils_1['joinURL'])(this[_0x2f4ee0(0x209)][_0x2f4ee0(0x204)][_0x2f4ee0(0x22e)]||'','/projects/'+this[_0x2f4ee0(0x1e9)]+_0x2f4ee0(0x20f)+_0x154d9a),this[_0x2f4ee0(0x22a)],this['credentials']);return _0x346c54[_0x2f4ee0(0x212)]=_0x108a46[_0x2f4ee0(0x235)],_0x346c54;}catch(_0x5563b9){if(_0x5563b9 instanceof api_error_1[_0x2f4ee0(0x1ff)])throw _0x5563b9;throw new not_found_error_1[(_0x2f4ee0(0x1f4))](_0x5563b9);}}async[a212_0x522f26(0x1ea)](_0x4cb203){const _0x3c5491=a212_0x522f26;try{await this[_0x3c5491(0x1ef)](_0x4cb203),await this[_0x3c5491(0x209)][_0x3c5491(0x1ea)](_0x3c5491(0x1fa)+this[_0x3c5491(0x1e9)]+'/repos/'+_0x4cb203);}catch(_0x3a7e4d){if(_0x3a7e4d instanceof api_error_1[_0x3c5491(0x1ff)])throw _0x3a7e4d;throw new bad_request_error_1[(_0x3c5491(0x231))](_0x3a7e4d);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a212_0x522f26(0x1f9)])(providers_tokens_1[a212_0x522f26(0x210)][a212_0x522f26(0x224)])),__metadata(a212_0x522f26(0x20e),[bitbucket_server_api_service_1[a212_0x522f26(0x1f6)],bitbucket_server_credentials_dto_1[a212_0x522f26(0x230)]])],BitbucketServerRepoService),exports[a212_0x522f26(0x225)]=BitbucketServerRepoService;