const a227_0x392ac4=a227_0x1b14;(function(_0x289a5f,_0x37ec36){const _0x11e1aa=a227_0x1b14,_0xa0d3e3=_0x289a5f();while(!![]){try{const _0x298ff0=-parseInt(_0x11e1aa(0x11d))/0x1*(-parseInt(_0x11e1aa(0x147))/0x2)+-parseInt(_0x11e1aa(0x125))/0x3*(-parseInt(_0x11e1aa(0x110))/0x4)+parseInt(_0x11e1aa(0x128))/0x5+parseInt(_0x11e1aa(0x129))/0x6*(-parseInt(_0x11e1aa(0x138))/0x7)+-parseInt(_0x11e1aa(0x10b))/0x8*(parseInt(_0x11e1aa(0x12b))/0x9)+parseInt(_0x11e1aa(0x120))/0xa*(parseInt(_0x11e1aa(0x101))/0xb)+parseInt(_0x11e1aa(0x108))/0xc*(-parseInt(_0x11e1aa(0xfe))/0xd);if(_0x298ff0===_0x37ec36)break;else _0xa0d3e3['push'](_0xa0d3e3['shift']());}catch(_0xe68631){_0xa0d3e3['push'](_0xa0d3e3['shift']());}}}(a227_0x3c1f,0x1c711));const a227_0x505e89=(function(){let _0x37248e=!![];return function(_0x5ec784,_0x32620f){const _0x370c8f=_0x37248e?function(){const _0x3b6a47=a227_0x1b14;if(_0x32620f){const _0x460a13=_0x32620f[_0x3b6a47(0x134)](_0x5ec784,arguments);return _0x32620f=null,_0x460a13;}}:function(){};return _0x37248e=![],_0x370c8f;};}()),a227_0x3b700d=a227_0x505e89(this,function(){const _0xc4644d=a227_0x1b14;return a227_0x3b700d['toString']()[_0xc4644d(0x116)]('(((.+)+)+)+$')[_0xc4644d(0x146)]()['constructor'](a227_0x3b700d)[_0xc4644d(0x116)]('(((.+)+)+)+$');});a227_0x3b700d();function a227_0x1b14(_0x3c0244,_0x55cdfa){const _0x2a3cfa=a227_0x3c1f();return a227_0x1b14=function(_0x3b700d,_0x505e89){_0x3b700d=_0x3b700d-0xfd;let _0x3c1fd2=_0x2a3cfa[_0x3b700d];return _0x3c1fd2;},a227_0x1b14(_0x3c0244,_0x55cdfa);}'use strict';var __decorate=this&&this[a227_0x392ac4(0x12d)]||function(_0x2d7d40,_0x261b41,_0x887173,_0x49f670){const _0x4c3739=a227_0x392ac4;var _0x1b9482=arguments[_0x4c3739(0x109)],_0x46ac16=_0x1b9482<0x3?_0x261b41:_0x49f670===null?_0x49f670=Object['getOwnPropertyDescriptor'](_0x261b41,_0x887173):_0x49f670,_0x3f634a;if(typeof Reflect===_0x4c3739(0x117)&&typeof Reflect[_0x4c3739(0x137)]===_0x4c3739(0x10c))_0x46ac16=Reflect['decorate'](_0x2d7d40,_0x261b41,_0x887173,_0x49f670);else{for(var _0x387263=_0x2d7d40[_0x4c3739(0x109)]-0x1;_0x387263>=0x0;_0x387263--)if(_0x3f634a=_0x2d7d40[_0x387263])_0x46ac16=(_0x1b9482<0x3?_0x3f634a(_0x46ac16):_0x1b9482>0x3?_0x3f634a(_0x261b41,_0x887173,_0x46ac16):_0x3f634a(_0x261b41,_0x887173))||_0x46ac16;}return _0x1b9482>0x3&&_0x46ac16&&Object[_0x4c3739(0x123)](_0x261b41,_0x887173,_0x46ac16),_0x46ac16;},__metadata=this&&this[a227_0x392ac4(0x14a)]||function(_0x35dc16,_0x353122){const _0x23bac6=a227_0x392ac4;if(typeof Reflect===_0x23bac6(0x117)&&typeof Reflect[_0x23bac6(0x130)]===_0x23bac6(0x10c))return Reflect[_0x23bac6(0x130)](_0x35dc16,_0x353122);},__param=this&&this[a227_0x392ac4(0x111)]||function(_0x36f935,_0x5d8f96){return function(_0x68d56a,_0x1ae00a){_0x5d8f96(_0x68d56a,_0x1ae00a,_0x36f935);};};Object[a227_0x392ac4(0x123)](exports,a227_0x392ac4(0x14b),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a227_0x392ac4(0x121)),not_found_error_1=require(a227_0x392ac4(0x143)),typedi_1=require(a227_0x392ac4(0x133)),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a227_0x392ac4(0x127)),utils_1=require(a227_0x392ac4(0x11a)),repo_class_1=require(a227_0x392ac4(0x13c)),git_repo_service_1=require(a227_0x392ac4(0x11b)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a227_0x392ac4(0x115));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a227_0x392ac4(0x10a)]{constructor(_0x4c438d,_0x1ab93b){const _0x459523=a227_0x392ac4;super(_0x4c438d),this[_0x459523(0x12a)]=_0x4c438d,this[_0x459523(0xfd)]=_0x1ab93b[_0x459523(0xfd)],this[_0x459523(0x148)]=_0x1ab93b;}async[a227_0x392ac4(0x136)](_0x5c7c98){const _0x8e46e7=a227_0x392ac4;try{const _0x40a6a6={'name':_0x5c7c98[_0x8e46e7(0x10e)],'scmId':_0x8e46e7(0x104),'defaultBranch':_0x5c7c98[_0x8e46e7(0x11e)],..._0x5c7c98['apiBody']||{}},_0x1e88d4=await this[_0x8e46e7(0x12e)]['post']('projects/'+this[_0x8e46e7(0xfd)]+_0x8e46e7(0x124),_0x40a6a6),_0x4bcf0b=repo_class_1[_0x8e46e7(0x132)][_0x8e46e7(0x13f)](_0x1e88d4,'',this[_0x8e46e7(0x12a)],this[_0x8e46e7(0x148)]);return _0x5c7c98[_0x8e46e7(0x100)]&&await git_internal_1[_0x8e46e7(0x10d)]['createEmptyBranch'](_0x4bcf0b,_0x5c7c98[_0x8e46e7(0x11e)]||_0x8e46e7(0x113),'',this[_0x8e46e7(0x148)]),this[_0x8e46e7(0xff)](_0x4bcf0b[_0x8e46e7(0x10e)]);}catch(_0x4af35c){if(_0x4af35c instanceof api_error_1[_0x8e46e7(0x11c)])throw _0x4af35c;throw new bad_request_error_1[(_0x8e46e7(0x106))](_0x4af35c);}}async['getAll'](){const _0x5d82ed=a227_0x392ac4;try{const _0x22ea0d=[];let _0x2180c6;do{_0x2180c6=await this[_0x5d82ed(0x12e)][_0x5d82ed(0x126)](_0x5d82ed(0x122)+this[_0x5d82ed(0xfd)]+_0x5d82ed(0x124),{'params':{'limit':0x64,'start':_0x2180c6?_0x2180c6[_0x5d82ed(0x149)]:0x0}}),_0x22ea0d[_0x5d82ed(0x11f)](..._0x2180c6[_0x5d82ed(0x13b)]);}while(!_0x2180c6[_0x5d82ed(0x103)]);return _0x22ea0d[_0x5d82ed(0x140)](_0x181419=>repo_class_1[_0x5d82ed(0x132)][_0x5d82ed(0x13f)](_0x181419,(0x0,utils_1[_0x5d82ed(0x112)])(this[_0x5d82ed(0x12e)]['defaults'][_0x5d82ed(0x14c)]||'',_0x5d82ed(0x135)+this['project']+_0x5d82ed(0x107)+_0x181419[_0x5d82ed(0x12f)]),this[_0x5d82ed(0x12a)],this[_0x5d82ed(0x148)]));}catch(_0x2f06dd){if(_0x2f06dd instanceof api_error_1[_0x5d82ed(0x11c)])throw _0x2f06dd;throw new not_found_error_1[(_0x5d82ed(0x105))](_0x2f06dd);}}async['getOne'](_0x45f6d3){const _0x5176e2=a227_0x392ac4;var _0x6c2e7d;try{const _0x19b3ef=await this[_0x5176e2(0x12e)]['get'](_0x5176e2(0x122)+this['project']+_0x5176e2(0x107)+_0x45f6d3),_0x2cc5ca=repo_class_1[_0x5176e2(0x132)]['fromBitbucketServer'](_0x19b3ef,(0x0,utils_1[_0x5176e2(0x112)])(this[_0x5176e2(0x12e)][_0x5176e2(0x144)][_0x5176e2(0x14c)]||'','/projects/'+this[_0x5176e2(0xfd)]+'/repos/'+_0x45f6d3),this[_0x5176e2(0x12a)],this[_0x5176e2(0x148)]),_0x40bc03=await this[_0x5176e2(0x12e)][_0x5176e2(0x126)](_0x2cc5ca[_0x5176e2(0x10f)]+_0x5176e2(0x119))[_0x5176e2(0x145)](_0x5032cd=>_0x5032cd[_0x5176e2(0x13b)]);return _0x2cc5ca[_0x5176e2(0x11e)]=(_0x6c2e7d=_0x40bc03[_0x5176e2(0x141)](_0x590561=>_0x590561['isDefault']===!![]))===null||_0x6c2e7d===void 0x0?void 0x0:_0x6c2e7d[_0x5176e2(0x12c)],_0x2cc5ca;}catch(_0x257e30){if(_0x257e30 instanceof api_error_1[_0x5176e2(0x11c)])throw _0x257e30;throw new not_found_error_1['NotFoundError'](_0x257e30);}}async[a227_0x392ac4(0x13e)](_0x52dd2b,_0x4907c9){const _0xaf93a6=a227_0x392ac4;try{const _0xd12a18=await this[_0xaf93a6(0x12e)][_0xaf93a6(0x13a)]('projects/'+this[_0xaf93a6(0xfd)]+'/repos/'+_0x52dd2b,_0x4907c9),_0x5c9a48=await this[_0xaf93a6(0x12e)]['get'](_0xaf93a6(0x122)+this[_0xaf93a6(0xfd)]+_0xaf93a6(0x107)+_0x52dd2b+_0xaf93a6(0x131)),_0x3b12d6=repo_class_1[_0xaf93a6(0x132)][_0xaf93a6(0x13f)](_0xd12a18,(0x0,utils_1[_0xaf93a6(0x112)])(this[_0xaf93a6(0x12e)]['defaults']['baseURL']||'',_0xaf93a6(0x135)+this[_0xaf93a6(0xfd)]+_0xaf93a6(0x107)+_0x52dd2b),this[_0xaf93a6(0x12a)],this['credentials']);return _0x3b12d6[_0xaf93a6(0x11e)]=_0x5c9a48['displayId'],_0x3b12d6;}catch(_0x39b5bd){if(_0x39b5bd instanceof api_error_1[_0xaf93a6(0x11c)])throw _0x39b5bd;throw new not_found_error_1[(_0xaf93a6(0x105))](_0x39b5bd);}}async[a227_0x392ac4(0x118)](_0x43519e){const _0x977485=a227_0x392ac4;try{await this[_0x977485(0xff)](_0x43519e),await this[_0x977485(0x12e)][_0x977485(0x118)]('projects/'+this['project']+_0x977485(0x107)+_0x43519e);}catch(_0x1e0469){if(_0x1e0469 instanceof api_error_1[_0x977485(0x11c)])throw _0x1e0469;throw new bad_request_error_1[(_0x977485(0x106))](_0x1e0469);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a227_0x392ac4(0x114)])(),__param(0x1,(0x0,typedi_1[a227_0x392ac4(0x13d)])(providers_tokens_1['Tokens'][a227_0x392ac4(0x148)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a227_0x392ac4(0x142)],bitbucket_server_credentials_dto_1[a227_0x392ac4(0x139)]])],BitbucketServerRepoService),exports[a227_0x392ac4(0x102)]=BitbucketServerRepoService;function a227_0x3c1f(){const _0x3b6c5a=['7oJHngN','BitbucketServerCredentialsDto','put','values','../repo.class','Inject','update','fromBitbucketServer','map','find','BitbucketServerApiService','../../../../../core/errors/not-found.error','defaults','then','toString','3082TGToNq','credentials','nextPageStart','__metadata','__esModule','baseURL','project','491439rDeRAf','getOne','autoInit','99JONjNN','BitbucketServerRepoService','isLastPage','git','NotFoundError','BadRequestError','/repos/','84LcVavd','length','GitRepoService','776KAVjxV','function','Git','name','apiUrl','301412boTlNf','__param','joinURL','master','Service','../../credentials/dto/bitbucket-server-credentials.dto','search','object','delete','/branches','../../../../shared/utils','./git-repo.service','ApiError','109KXilos','defaultBranch','push','218530KDquhP','../../../../../core/errors/bad-request.error','projects/','defineProperty','/repos','9WlDkOY','get','../../../internal/git.internal','156710CaxQDE','761142jYYvSB','api','10584ttaPyE','displayId','__decorate','request','slug','metadata','/default-branch','Repo','typedi','apply','/projects/','create','decorate'];a227_0x3c1f=function(){return _0x3b6c5a;};return a227_0x3c1f();}