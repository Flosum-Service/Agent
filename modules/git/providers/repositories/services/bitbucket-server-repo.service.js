const a168_0x37620d=a168_0xa280;(function(_0x50c6ba,_0x577a78){const _0x523681=a168_0xa280,_0x145eae=_0x50c6ba();while(!![]){try{const _0x18a5a5=parseInt(_0x523681(0x154))/0x1*(-parseInt(_0x523681(0x14d))/0x2)+parseInt(_0x523681(0x18c))/0x3+parseInt(_0x523681(0x184))/0x4*(-parseInt(_0x523681(0x171))/0x5)+-parseInt(_0x523681(0x193))/0x6+-parseInt(_0x523681(0x185))/0x7*(-parseInt(_0x523681(0x176))/0x8)+parseInt(_0x523681(0x16d))/0x9*(parseInt(_0x523681(0x156))/0xa)+parseInt(_0x523681(0x150))/0xb;if(_0x18a5a5===_0x577a78)break;else _0x145eae['push'](_0x145eae['shift']());}catch(_0x2775f9){_0x145eae['push'](_0x145eae['shift']());}}}(a168_0x1a06,0x56ee4));const a168_0x30accf=(function(){let _0x5c540b=!![];return function(_0x230169,_0x3a9ab8){const _0x55ce27=_0x5c540b?function(){const _0x510ecc=a168_0xa280;if(_0x3a9ab8){const _0x463344=_0x3a9ab8[_0x510ecc(0x187)](_0x230169,arguments);return _0x3a9ab8=null,_0x463344;}}:function(){};return _0x5c540b=![],_0x55ce27;};}()),a168_0x207415=a168_0x30accf(this,function(){const _0x16906c=a168_0xa280;return a168_0x207415[_0x16906c(0x151)]()[_0x16906c(0x169)](_0x16906c(0x149))[_0x16906c(0x151)]()['constructor'](a168_0x207415)[_0x16906c(0x169)](_0x16906c(0x149));});a168_0x207415();function a168_0x1a06(){const _0x5db356=['../../../internal/git.internal','find','decorate','apiUrl','projects/','/projects/','defaults','post','BitbucketServerRepoService','getAll','slug','Git','../../../../shared/utils','get','isDefault','Repo','search','values','design:paramtypes','credentials','69471ZQaSlc','git','joinURL','../../../../../core/errors/api.error','94505nHVPnu','__param','/repos','BadRequestError','__decorate','376bbnbfZ','../../../../../core/errors/bad-request.error','displayId','object','project','name','fromBitbucketServer','getOne','./git-repo.service','__metadata','function','Tokens','length','create','84lAkPri','9219Xibxlp','then','apply','api','Service','__esModule','delete','756780uHPHUc','getOwnPropertyDescriptor','../../providers.tokens','master','NotFoundError','../../../../../core/errors/not-found.error','map','4091964bshfjc','../repo.class','defaultBranch','(((.+)+)+)+$','request','createEmptyBranch','/repos/','30182Ivbnts','push','Inject','6551435ExUpbK','toString','autoInit','ApiError','1WRaZiE','/branches','700wFKoKR','typedi','isLastPage'];a168_0x1a06=function(){return _0x5db356;};return a168_0x1a06();}'use strict';function a168_0xa280(_0x588043,_0x234e7f){const _0x57a320=a168_0x1a06();return a168_0xa280=function(_0x207415,_0x30accf){_0x207415=_0x207415-0x148;let _0x1a0688=_0x57a320[_0x207415];return _0x1a0688;},a168_0xa280(_0x588043,_0x234e7f);}var __decorate=this&&this[a168_0x37620d(0x175)]||function(_0x10abfc,_0x268eb9,_0x113669,_0x38723c){const _0x45daf5=a168_0x37620d;var _0x159de4=arguments[_0x45daf5(0x182)],_0x342e76=_0x159de4<0x3?_0x268eb9:_0x38723c===null?_0x38723c=Object[_0x45daf5(0x18d)](_0x268eb9,_0x113669):_0x38723c,_0x41424e;if(typeof Reflect===_0x45daf5(0x179)&&typeof Reflect['decorate']===_0x45daf5(0x180))_0x342e76=Reflect[_0x45daf5(0x15b)](_0x10abfc,_0x268eb9,_0x113669,_0x38723c);else{for(var _0x155d58=_0x10abfc[_0x45daf5(0x182)]-0x1;_0x155d58>=0x0;_0x155d58--)if(_0x41424e=_0x10abfc[_0x155d58])_0x342e76=(_0x159de4<0x3?_0x41424e(_0x342e76):_0x159de4>0x3?_0x41424e(_0x268eb9,_0x113669,_0x342e76):_0x41424e(_0x268eb9,_0x113669))||_0x342e76;}return _0x159de4>0x3&&_0x342e76&&Object['defineProperty'](_0x268eb9,_0x113669,_0x342e76),_0x342e76;},__metadata=this&&this[a168_0x37620d(0x17f)]||function(_0x718b7e,_0x35742c){const _0x3aa432=a168_0x37620d;if(typeof Reflect===_0x3aa432(0x179)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x718b7e,_0x35742c);},__param=this&&this[a168_0x37620d(0x172)]||function(_0xd74b5d,_0x3d2223){return function(_0x2a3d65,_0x36a19a){_0x3d2223(_0x2a3d65,_0x36a19a,_0xd74b5d);};};Object['defineProperty'](exports,a168_0x37620d(0x18a),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a168_0x37620d(0x177)),not_found_error_1=require(a168_0x37620d(0x191)),typedi_1=require(a168_0x37620d(0x157)),api_error_1=require(a168_0x37620d(0x170)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a168_0x37620d(0x159)),utils_1=require(a168_0x37620d(0x165)),repo_class_1=require(a168_0x37620d(0x194)),git_repo_service_1=require(a168_0x37620d(0x17e)),providers_tokens_1=require(a168_0x37620d(0x18e)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x334af8,_0x2bde51){const _0x54c0d9=a168_0x37620d;super(_0x334af8),this['api']=_0x334af8,this[_0x54c0d9(0x17a)]=_0x2bde51['project'],this[_0x54c0d9(0x16c)]=_0x2bde51;}async[a168_0x37620d(0x183)](_0x9f871a){const _0x418859=a168_0x37620d;try{const _0x24f85f={'name':_0x9f871a[_0x418859(0x17b)],'scmId':_0x418859(0x16e),'defaultBranch':_0x9f871a[_0x418859(0x148)],..._0x9f871a['apiBody']||{}},_0x2d327c=await this[_0x418859(0x14a)][_0x418859(0x160)](_0x418859(0x15d)+this[_0x418859(0x17a)]+'/repos',_0x24f85f),_0x4018a1=repo_class_1[_0x418859(0x168)][_0x418859(0x17c)](_0x2d327c,'',this[_0x418859(0x188)],this['credentials']);return _0x9f871a[_0x418859(0x152)]&&await git_internal_1[_0x418859(0x164)][_0x418859(0x14b)](_0x4018a1,_0x9f871a['defaultBranch']||_0x418859(0x18f),'',this[_0x418859(0x16c)]),this[_0x418859(0x17d)](_0x4018a1[_0x418859(0x17b)]);}catch(_0x37ccd6){if(_0x37ccd6 instanceof api_error_1['ApiError'])throw _0x37ccd6;throw new bad_request_error_1['BadRequestError'](_0x37ccd6);}}async[a168_0x37620d(0x162)](){const _0x483001=a168_0x37620d;try{const _0x1f5e3e=[];let _0x59e58a;do{_0x59e58a=await this[_0x483001(0x14a)][_0x483001(0x166)](_0x483001(0x15d)+this[_0x483001(0x17a)]+_0x483001(0x173),{'params':{'limit':0x64,'start':_0x59e58a?_0x59e58a['nextPageStart']:0x0}}),_0x1f5e3e[_0x483001(0x14e)](..._0x59e58a[_0x483001(0x16a)]);}while(!_0x59e58a[_0x483001(0x158)]);return _0x1f5e3e[_0x483001(0x192)](_0x4c04ed=>repo_class_1[_0x483001(0x168)][_0x483001(0x17c)](_0x4c04ed,(0x0,utils_1[_0x483001(0x16f)])(this['request'][_0x483001(0x15f)]['baseURL']||'',_0x483001(0x15e)+this['project']+_0x483001(0x14c)+_0x4c04ed[_0x483001(0x163)]),this[_0x483001(0x188)],this['credentials']));}catch(_0x2fa4f4){if(_0x2fa4f4 instanceof api_error_1[_0x483001(0x153)])throw _0x2fa4f4;throw new not_found_error_1['NotFoundError'](_0x2fa4f4);}}async[a168_0x37620d(0x17d)](_0x2a33bf){const _0x58d92e=a168_0x37620d;var _0x2c8fbb;try{const _0xaeb92d=await this[_0x58d92e(0x14a)][_0x58d92e(0x166)](_0x58d92e(0x15d)+this[_0x58d92e(0x17a)]+'/repos/'+_0x2a33bf),_0x5d1e1c=repo_class_1[_0x58d92e(0x168)]['fromBitbucketServer'](_0xaeb92d,(0x0,utils_1['joinURL'])(this[_0x58d92e(0x14a)][_0x58d92e(0x15f)]['baseURL']||'',_0x58d92e(0x15e)+this[_0x58d92e(0x17a)]+_0x58d92e(0x14c)+_0x2a33bf),this[_0x58d92e(0x188)],this[_0x58d92e(0x16c)]),_0x4cfeb3=await this[_0x58d92e(0x14a)][_0x58d92e(0x166)](_0x5d1e1c[_0x58d92e(0x15c)]+_0x58d92e(0x155))[_0x58d92e(0x186)](_0x4f1848=>_0x4f1848[_0x58d92e(0x16a)]);return _0x5d1e1c[_0x58d92e(0x148)]=(_0x2c8fbb=_0x4cfeb3[_0x58d92e(0x15a)](_0x3aa473=>_0x3aa473[_0x58d92e(0x167)]===!![]))===null||_0x2c8fbb===void 0x0?void 0x0:_0x2c8fbb[_0x58d92e(0x178)],_0x5d1e1c;}catch(_0x401ee2){if(_0x401ee2 instanceof api_error_1[_0x58d92e(0x153)])throw _0x401ee2;throw new not_found_error_1[(_0x58d92e(0x190))](_0x401ee2);}}async['update'](_0x229827,_0x4c6400){const _0x47a342=a168_0x37620d;try{const _0x57b1a8=await this[_0x47a342(0x14a)]['put']('projects/'+this[_0x47a342(0x17a)]+_0x47a342(0x14c)+_0x229827,_0x4c6400),_0x512d25=await this[_0x47a342(0x14a)][_0x47a342(0x166)](_0x47a342(0x15d)+this[_0x47a342(0x17a)]+'/repos/'+_0x229827+'/default-branch'),_0x1e2288=repo_class_1[_0x47a342(0x168)]['fromBitbucketServer'](_0x57b1a8,(0x0,utils_1[_0x47a342(0x16f)])(this['request'][_0x47a342(0x15f)]['baseURL']||'',_0x47a342(0x15e)+this[_0x47a342(0x17a)]+_0x47a342(0x14c)+_0x229827),this[_0x47a342(0x188)],this[_0x47a342(0x16c)]);return _0x1e2288[_0x47a342(0x148)]=_0x512d25[_0x47a342(0x178)],_0x1e2288;}catch(_0x23ee8c){if(_0x23ee8c instanceof api_error_1[_0x47a342(0x153)])throw _0x23ee8c;throw new not_found_error_1[(_0x47a342(0x190))](_0x23ee8c);}}async[a168_0x37620d(0x18b)](_0x14698f){const _0x47ae02=a168_0x37620d;try{await this[_0x47ae02(0x17d)](_0x14698f),await this[_0x47ae02(0x14a)][_0x47ae02(0x18b)]('projects/'+this[_0x47ae02(0x17a)]+'/repos/'+_0x14698f);}catch(_0x198891){if(_0x198891 instanceof api_error_1[_0x47ae02(0x153)])throw _0x198891;throw new bad_request_error_1[(_0x47ae02(0x174))](_0x198891);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a168_0x37620d(0x189)])(),__param(0x1,(0x0,typedi_1[a168_0x37620d(0x14f)])(providers_tokens_1[a168_0x37620d(0x181)][a168_0x37620d(0x16c)])),__metadata(a168_0x37620d(0x16b),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a168_0x37620d(0x161)]=BitbucketServerRepoService;