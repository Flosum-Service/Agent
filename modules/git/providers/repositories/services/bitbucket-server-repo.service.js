const a150_0x5adf14=a150_0x55ff;(function(_0x329899,_0x5067fb){const _0x5640b7=a150_0x55ff,_0x339b66=_0x329899();while(!![]){try{const _0x543e33=-parseInt(_0x5640b7(0x13a))/0x1+parseInt(_0x5640b7(0x135))/0x2*(parseInt(_0x5640b7(0x132))/0x3)+-parseInt(_0x5640b7(0x167))/0x4+parseInt(_0x5640b7(0x138))/0x5+-parseInt(_0x5640b7(0x134))/0x6+parseInt(_0x5640b7(0x148))/0x7*(parseInt(_0x5640b7(0x150))/0x8)+parseInt(_0x5640b7(0x15b))/0x9*(parseInt(_0x5640b7(0x153))/0xa);if(_0x543e33===_0x5067fb)break;else _0x339b66['push'](_0x339b66['shift']());}catch(_0x53d6b2){_0x339b66['push'](_0x339b66['shift']());}}}(a150_0x5615,0x1c230));const a150_0x22d80e=(function(){let _0x352a1f=!![];return function(_0x4a001c,_0x31f49a){const _0x481aad=_0x352a1f?function(){const _0x2cc626=a150_0x55ff;if(_0x31f49a){const _0x1511d4=_0x31f49a[_0x2cc626(0x157)](_0x4a001c,arguments);return _0x31f49a=null,_0x1511d4;}}:function(){};return _0x352a1f=![],_0x481aad;};}()),a150_0x32f221=a150_0x22d80e(this,function(){const _0x2524f7=a150_0x55ff;return a150_0x32f221[_0x2524f7(0x133)]()['search'](_0x2524f7(0x15a))[_0x2524f7(0x133)]()[_0x2524f7(0x12e)](a150_0x32f221)['search']('(((.+)+)+)+$');});function a150_0x55ff(_0x37ac89,_0x1bc992){const _0x4aecfe=a150_0x5615();return a150_0x55ff=function(_0x32f221,_0x22d80e){_0x32f221=_0x32f221-0x11b;let _0x561525=_0x4aecfe[_0x32f221];return _0x561525;},a150_0x55ff(_0x37ac89,_0x1bc992);}a150_0x32f221();'use strict';function a150_0x5615(){const _0x2a9a9b=['getAll','153752megYBp','NotFoundError','defaultBranch','20VHGPoi','/default-branch','baseURL','displayId','apply','decorate','/branches','(((.+)+)+)+$','1048347bjdhSa','name','__param','BitbucketServerRepoService','autoInit','git','create','Tokens','createEmptyBranch','../../api/bitbucket-server-api.service','Inject','getOne','729364rhjONT','find','delete','master','request','BitbucketServerCredentialsDto','/projects/','defineProperty','design:paramtypes','/repos','../repo.class','Repo','../../../../../core/errors/not-found.error','nextPageStart','update','Service','apiBody','projects/','BitbucketServerApiService','post','constructor','metadata','../../credentials/dto/bitbucket-server-credentials.dto','./git-repo.service','360744rrsnbU','toString','837198bbMSQN','2SSPeOI','BadRequestError','ApiError','252295IHaliB','length','62646xRIWGL','apiUrl','/repos/','then','defaults','credentials','joinURL','push','fromBitbucketServer','slug','function','__metadata','api','GitRepoService','35PYULKN','get','map','project','__esModule','values','isDefault'];a150_0x5615=function(){return _0x2a9a9b;};return a150_0x5615();}var __decorate=this&&this['__decorate']||function(_0x508a1c,_0x539e11,_0x36806a,_0x1a7fe3){const _0x5a0963=a150_0x55ff;var _0x5ce5cb=arguments['length'],_0x2d14d8=_0x5ce5cb<0x3?_0x539e11:_0x1a7fe3===null?_0x1a7fe3=Object['getOwnPropertyDescriptor'](_0x539e11,_0x36806a):_0x1a7fe3,_0x3b80f3;if(typeof Reflect==='object'&&typeof Reflect[_0x5a0963(0x158)]===_0x5a0963(0x144))_0x2d14d8=Reflect['decorate'](_0x508a1c,_0x539e11,_0x36806a,_0x1a7fe3);else{for(var _0x2bc7a1=_0x508a1c[_0x5a0963(0x139)]-0x1;_0x2bc7a1>=0x0;_0x2bc7a1--)if(_0x3b80f3=_0x508a1c[_0x2bc7a1])_0x2d14d8=(_0x5ce5cb<0x3?_0x3b80f3(_0x2d14d8):_0x5ce5cb>0x3?_0x3b80f3(_0x539e11,_0x36806a,_0x2d14d8):_0x3b80f3(_0x539e11,_0x36806a))||_0x2d14d8;}return _0x5ce5cb>0x3&&_0x2d14d8&&Object[_0x5a0963(0x121)](_0x539e11,_0x36806a,_0x2d14d8),_0x2d14d8;},__metadata=this&&this[a150_0x5adf14(0x145)]||function(_0x5b813f,_0x47c858){const _0x363fe9=a150_0x5adf14;if(typeof Reflect==='object'&&typeof Reflect[_0x363fe9(0x12f)]===_0x363fe9(0x144))return Reflect[_0x363fe9(0x12f)](_0x5b813f,_0x47c858);},__param=this&&this[a150_0x5adf14(0x15d)]||function(_0x5c3d1f,_0x3917cb){return function(_0x25c924,_0x4f77e6){_0x3917cb(_0x25c924,_0x4f77e6,_0x5c3d1f);};};Object['defineProperty'](exports,a150_0x5adf14(0x14c),{'value':!![]}),exports[a150_0x5adf14(0x15e)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a150_0x5adf14(0x126)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a150_0x5adf14(0x164)),git_internal_1=require('../../../internal/git.internal'),utils_1=require('../../../../shared/utils'),repo_class_1=require(a150_0x5adf14(0x124)),git_repo_service_1=require(a150_0x5adf14(0x131)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a150_0x5adf14(0x130));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a150_0x5adf14(0x147)]{constructor(_0x4cad93,_0x49500d){const _0x2ea5f3=a150_0x5adf14;super(_0x4cad93),this[_0x2ea5f3(0x146)]=_0x4cad93,this[_0x2ea5f3(0x14b)]=_0x49500d[_0x2ea5f3(0x14b)],this['credentials']=_0x49500d;}async[a150_0x5adf14(0x161)](_0x4c2fe6){const _0x5ef890=a150_0x5adf14;try{const _0x5dae10={'name':_0x4c2fe6[_0x5ef890(0x15c)],'scmId':_0x5ef890(0x160),'defaultBranch':_0x4c2fe6[_0x5ef890(0x152)],..._0x4c2fe6[_0x5ef890(0x12a)]||{}},_0x3fea12=await this['request'][_0x5ef890(0x12d)]('projects/'+this[_0x5ef890(0x14b)]+_0x5ef890(0x123),_0x5dae10),_0x4e1445=repo_class_1[_0x5ef890(0x125)][_0x5ef890(0x142)](_0x3fea12,'',this[_0x5ef890(0x146)],this['credentials']);return _0x4c2fe6[_0x5ef890(0x15f)]&&await git_internal_1['Git'][_0x5ef890(0x163)](_0x4e1445,_0x4c2fe6[_0x5ef890(0x152)]||_0x5ef890(0x11d),'',this['credentials']),this[_0x5ef890(0x166)](_0x4e1445[_0x5ef890(0x15c)]);}catch(_0x1d884b){if(_0x1d884b instanceof api_error_1[_0x5ef890(0x137)])throw _0x1d884b;throw new bad_request_error_1['BadRequestError'](_0x1d884b);}}async[a150_0x5adf14(0x14f)](){const _0x381f49=a150_0x5adf14;try{const _0x1ce37e=[];let _0x3e471d;do{_0x3e471d=await this[_0x381f49(0x11e)]['get']('projects/'+this['project']+_0x381f49(0x123),{'params':{'limit':0x64,'start':_0x3e471d?_0x3e471d[_0x381f49(0x127)]:0x0}}),_0x1ce37e[_0x381f49(0x141)](..._0x3e471d[_0x381f49(0x14d)]);}while(!_0x3e471d['isLastPage']);return _0x1ce37e[_0x381f49(0x14a)](_0x1aa162=>repo_class_1[_0x381f49(0x125)][_0x381f49(0x142)](_0x1aa162,utils_1[_0x381f49(0x140)](this[_0x381f49(0x11e)][_0x381f49(0x13e)][_0x381f49(0x155)]||'',_0x381f49(0x120)+this[_0x381f49(0x14b)]+_0x381f49(0x13c)+_0x1aa162[_0x381f49(0x143)]),this[_0x381f49(0x146)],this[_0x381f49(0x13f)]));}catch(_0x144db9){if(_0x144db9 instanceof api_error_1['ApiError'])throw _0x144db9;throw new not_found_error_1[(_0x381f49(0x151))](_0x144db9);}}async[a150_0x5adf14(0x166)](_0x4b7a98){const _0x179597=a150_0x5adf14;var _0x270203;try{const _0x341a1e=await this[_0x179597(0x11e)][_0x179597(0x149)](_0x179597(0x12b)+this[_0x179597(0x14b)]+_0x179597(0x13c)+_0x4b7a98),_0x1fe41f=repo_class_1[_0x179597(0x125)][_0x179597(0x142)](_0x341a1e,utils_1['joinURL'](this[_0x179597(0x11e)]['defaults'][_0x179597(0x155)]||'',_0x179597(0x120)+this[_0x179597(0x14b)]+_0x179597(0x13c)+_0x4b7a98),this[_0x179597(0x146)],this[_0x179597(0x13f)]),_0x4a2ee3=await this[_0x179597(0x11e)]['get'](_0x1fe41f[_0x179597(0x13b)]+_0x179597(0x159))[_0x179597(0x13d)](_0x3781c8=>_0x3781c8[_0x179597(0x14d)]);return _0x1fe41f[_0x179597(0x152)]=(_0x270203=_0x4a2ee3[_0x179597(0x11b)](_0x37126a=>_0x37126a[_0x179597(0x14e)]===!![]))===null||_0x270203===void 0x0?void 0x0:_0x270203[_0x179597(0x156)],_0x1fe41f;}catch(_0x2857c6){if(_0x2857c6 instanceof api_error_1[_0x179597(0x137)])throw _0x2857c6;throw new not_found_error_1[(_0x179597(0x151))](_0x2857c6);}}async[a150_0x5adf14(0x128)](_0x1ed0a3,_0x32c100){const _0x2c5b6d=a150_0x5adf14;try{const _0x2031d2=await this[_0x2c5b6d(0x11e)]['put']('projects/'+this['project']+_0x2c5b6d(0x13c)+_0x1ed0a3,_0x32c100),_0x49944e=await this[_0x2c5b6d(0x11e)]['get'](_0x2c5b6d(0x12b)+this[_0x2c5b6d(0x14b)]+_0x2c5b6d(0x13c)+_0x1ed0a3+_0x2c5b6d(0x154)),_0x2ac939=repo_class_1[_0x2c5b6d(0x125)][_0x2c5b6d(0x142)](_0x2031d2,utils_1['joinURL'](this['request'][_0x2c5b6d(0x13e)][_0x2c5b6d(0x155)]||'',_0x2c5b6d(0x120)+this[_0x2c5b6d(0x14b)]+_0x2c5b6d(0x13c)+_0x1ed0a3),this[_0x2c5b6d(0x146)],this[_0x2c5b6d(0x13f)]);return _0x2ac939[_0x2c5b6d(0x152)]=_0x49944e[_0x2c5b6d(0x156)],_0x2ac939;}catch(_0x1e9000){if(_0x1e9000 instanceof api_error_1[_0x2c5b6d(0x137)])throw _0x1e9000;throw new not_found_error_1[(_0x2c5b6d(0x151))](_0x1e9000);}}async[a150_0x5adf14(0x11c)](_0x2f0291){const _0xaee345=a150_0x5adf14;try{await this[_0xaee345(0x166)](_0x2f0291),await this[_0xaee345(0x11e)][_0xaee345(0x11c)]('projects/'+this[_0xaee345(0x14b)]+'/repos/'+_0x2f0291);}catch(_0x10539c){if(_0x10539c instanceof api_error_1[_0xaee345(0x137)])throw _0x10539c;throw new bad_request_error_1[(_0xaee345(0x136))](_0x10539c);}}};BitbucketServerRepoService=__decorate([typedi_1[a150_0x5adf14(0x129)](),__param(0x1,typedi_1[a150_0x5adf14(0x165)](providers_tokens_1[a150_0x5adf14(0x162)][a150_0x5adf14(0x13f)])),__metadata(a150_0x5adf14(0x122),[bitbucket_server_api_service_1[a150_0x5adf14(0x12c)],bitbucket_server_credentials_dto_1[a150_0x5adf14(0x11f)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;