const a206_0x20dfe6=a206_0x419c;(function(_0x3a8f86,_0x51777d){const _0xab033=a206_0x419c,_0x5b1073=_0x3a8f86();while(!![]){try{const _0x4e9ee9=-parseInt(_0xab033(0x189))/0x1*(-parseInt(_0xab033(0x160))/0x2)+-parseInt(_0xab033(0x161))/0x3+-parseInt(_0xab033(0x144))/0x4*(-parseInt(_0xab033(0x16a))/0x5)+-parseInt(_0xab033(0x145))/0x6+parseInt(_0xab033(0x172))/0x7+parseInt(_0xab033(0x156))/0x8*(parseInt(_0xab033(0x14e))/0x9)+-parseInt(_0xab033(0x159))/0xa*(-parseInt(_0xab033(0x140))/0xb);if(_0x4e9ee9===_0x51777d)break;else _0x5b1073['push'](_0x5b1073['shift']());}catch(_0x4dd283){_0x5b1073['push'](_0x5b1073['shift']());}}}(a206_0x4c12,0xe5ce5));const a206_0x3d5414=(function(){let _0x14baa1=!![];return function(_0x37db99,_0xbffc93){const _0x47dc41=_0x14baa1?function(){const _0x2b758a=a206_0x419c;if(_0xbffc93){const _0xecaeb0=_0xbffc93[_0x2b758a(0x183)](_0x37db99,arguments);return _0xbffc93=null,_0xecaeb0;}}:function(){};return _0x14baa1=![],_0x47dc41;};}()),a206_0x127bca=a206_0x3d5414(this,function(){const _0x3c9813=a206_0x419c;return a206_0x127bca['toString']()[_0x3c9813(0x178)](_0x3c9813(0x17f))[_0x3c9813(0x165)]()['constructor'](a206_0x127bca)['search'](_0x3c9813(0x17f));});a206_0x127bca();function a206_0x419c(_0x5e4aaa,_0x4cfa3b){const _0x27be5f=a206_0x4c12();return a206_0x419c=function(_0x127bca,_0x3d5414){_0x127bca=_0x127bca-0x140;let _0x4c128e=_0x27be5f[_0x127bca];return _0x4c128e;},a206_0x419c(_0x5e4aaa,_0x4cfa3b);}function a206_0x4c12(){const _0x5d5063=['baseURL','__metadata','nextPageStart','/default-branch','api','1033025wdxdZl','map','create','../../../../../core/errors/bad-request.error','Tokens','../../../internal/git.internal','search','../../../../../core/errors/not-found.error','__decorate','BitbucketServerRepoService','project','slug','/repos/','(((.+)+)+)+$','apiUrl','Inject','credentials','apply','get','__param','../repo.class','getOwnPropertyDescriptor','put','58676HloHBo','push','../../api/bitbucket-server-api.service','then','delete','isLastPage','name','286XubKSJ','NotFoundError','fromBitbucketServer','/branches','4qonGFf','6292542oQXsKD','ApiError','git','Repo','getAll','Service','defaultBranch','/repos','values','1355049SnQPme','request','update','length','isDefault','autoInit','defineProperty','GitRepoService','32euNaHB','design:paramtypes','function','281740QmOdqP','projects/','find','/projects/','decorate','defaults','createEmptyBranch','56hMgOug','5487033oAsdNv','BitbucketServerCredentialsDto','getOne','metadata','toString','../../credentials/dto/bitbucket-server-credentials.dto','./git-repo.service','__esModule','object','3468910LgDqsH','post','joinURL'];a206_0x4c12=function(){return _0x5d5063;};return a206_0x4c12();}'use strict';var __decorate=this&&this[a206_0x20dfe6(0x17a)]||function(_0x2bb7d3,_0x1cb20e,_0x10aa0a,_0x1fa29f){const _0xee782b=a206_0x20dfe6;var _0x14bae3=arguments[_0xee782b(0x151)],_0x53e976=_0x14bae3<0x3?_0x1cb20e:_0x1fa29f===null?_0x1fa29f=Object[_0xee782b(0x187)](_0x1cb20e,_0x10aa0a):_0x1fa29f,_0x4d1619;if(typeof Reflect===_0xee782b(0x169)&&typeof Reflect['decorate']===_0xee782b(0x158))_0x53e976=Reflect[_0xee782b(0x15d)](_0x2bb7d3,_0x1cb20e,_0x10aa0a,_0x1fa29f);else{for(var _0x18d44b=_0x2bb7d3[_0xee782b(0x151)]-0x1;_0x18d44b>=0x0;_0x18d44b--)if(_0x4d1619=_0x2bb7d3[_0x18d44b])_0x53e976=(_0x14bae3<0x3?_0x4d1619(_0x53e976):_0x14bae3>0x3?_0x4d1619(_0x1cb20e,_0x10aa0a,_0x53e976):_0x4d1619(_0x1cb20e,_0x10aa0a))||_0x53e976;}return _0x14bae3>0x3&&_0x53e976&&Object[_0xee782b(0x154)](_0x1cb20e,_0x10aa0a,_0x53e976),_0x53e976;},__metadata=this&&this[a206_0x20dfe6(0x16e)]||function(_0x56bb70,_0x46d7da){const _0x260523=a206_0x20dfe6;if(typeof Reflect==='object'&&typeof Reflect[_0x260523(0x164)]==='function')return Reflect[_0x260523(0x164)](_0x56bb70,_0x46d7da);},__param=this&&this[a206_0x20dfe6(0x185)]||function(_0x56e975,_0x2c1cf7){return function(_0x7e4943,_0x50fef0){_0x2c1cf7(_0x7e4943,_0x50fef0,_0x56e975);};};Object[a206_0x20dfe6(0x154)](exports,a206_0x20dfe6(0x168),{'value':!![]}),exports[a206_0x20dfe6(0x17b)]=void 0x0;const bad_request_error_1=require(a206_0x20dfe6(0x175)),not_found_error_1=require(a206_0x20dfe6(0x179)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a206_0x20dfe6(0x18b)),git_internal_1=require(a206_0x20dfe6(0x177)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a206_0x20dfe6(0x186)),git_repo_service_1=require(a206_0x20dfe6(0x167)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a206_0x20dfe6(0x166));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x20dfe6(0x155)]{constructor(_0x9d9309,_0xf37c07){const _0x45aa8b=a206_0x20dfe6;super(_0x9d9309),this['api']=_0x9d9309,this[_0x45aa8b(0x17c)]=_0xf37c07[_0x45aa8b(0x17c)],this[_0x45aa8b(0x182)]=_0xf37c07;}async[a206_0x20dfe6(0x174)](_0x3926a6){const _0x5390f4=a206_0x20dfe6;try{const _0x414c96={'name':_0x3926a6[_0x5390f4(0x18f)],'scmId':_0x5390f4(0x147),'defaultBranch':_0x3926a6[_0x5390f4(0x14b)],..._0x3926a6['apiBody']||{}},_0x1b6ffb=await this[_0x5390f4(0x14f)][_0x5390f4(0x16b)](_0x5390f4(0x15a)+this['project']+_0x5390f4(0x14c),_0x414c96),_0x2744a6=repo_class_1[_0x5390f4(0x148)][_0x5390f4(0x142)](_0x1b6ffb,'',this[_0x5390f4(0x171)],this[_0x5390f4(0x182)]);return _0x3926a6[_0x5390f4(0x153)]&&await git_internal_1['Git'][_0x5390f4(0x15f)](_0x2744a6,_0x3926a6[_0x5390f4(0x14b)]||'master','',this[_0x5390f4(0x182)]),this[_0x5390f4(0x163)](_0x2744a6[_0x5390f4(0x18f)]);}catch(_0x41183b){if(_0x41183b instanceof api_error_1[_0x5390f4(0x146)])throw _0x41183b;throw new bad_request_error_1['BadRequestError'](_0x41183b);}}async[a206_0x20dfe6(0x149)](){const _0x4e1b7a=a206_0x20dfe6;try{const _0x4ca78d=[];let _0x510635;do{_0x510635=await this[_0x4e1b7a(0x14f)][_0x4e1b7a(0x184)](_0x4e1b7a(0x15a)+this[_0x4e1b7a(0x17c)]+'/repos',{'params':{'limit':0x64,'start':_0x510635?_0x510635[_0x4e1b7a(0x16f)]:0x0}}),_0x4ca78d[_0x4e1b7a(0x18a)](..._0x510635[_0x4e1b7a(0x14d)]);}while(!_0x510635[_0x4e1b7a(0x18e)]);return _0x4ca78d[_0x4e1b7a(0x173)](_0x3c2c5b=>repo_class_1[_0x4e1b7a(0x148)]['fromBitbucketServer'](_0x3c2c5b,(0x0,utils_1['joinURL'])(this[_0x4e1b7a(0x14f)][_0x4e1b7a(0x15e)]['baseURL']||'',_0x4e1b7a(0x15c)+this['project']+_0x4e1b7a(0x17e)+_0x3c2c5b[_0x4e1b7a(0x17d)]),this[_0x4e1b7a(0x171)],this['credentials']));}catch(_0x126bc5){if(_0x126bc5 instanceof api_error_1[_0x4e1b7a(0x146)])throw _0x126bc5;throw new not_found_error_1[(_0x4e1b7a(0x141))](_0x126bc5);}}async[a206_0x20dfe6(0x163)](_0x59545d){const _0x2284b2=a206_0x20dfe6;var _0x567300;try{const _0x48eb11=await this[_0x2284b2(0x14f)][_0x2284b2(0x184)](_0x2284b2(0x15a)+this['project']+_0x2284b2(0x17e)+_0x59545d),_0x442d17=repo_class_1[_0x2284b2(0x148)][_0x2284b2(0x142)](_0x48eb11,(0x0,utils_1[_0x2284b2(0x16c)])(this[_0x2284b2(0x14f)][_0x2284b2(0x15e)][_0x2284b2(0x16d)]||'',_0x2284b2(0x15c)+this[_0x2284b2(0x17c)]+_0x2284b2(0x17e)+_0x59545d),this[_0x2284b2(0x171)],this[_0x2284b2(0x182)]),_0x4d7a3c=await this[_0x2284b2(0x14f)][_0x2284b2(0x184)](_0x442d17[_0x2284b2(0x180)]+_0x2284b2(0x143))[_0x2284b2(0x18c)](_0x44ead6=>_0x44ead6['values']);return _0x442d17[_0x2284b2(0x14b)]=(_0x567300=_0x4d7a3c[_0x2284b2(0x15b)](_0x2b49e2=>_0x2b49e2[_0x2284b2(0x152)]===!![]))===null||_0x567300===void 0x0?void 0x0:_0x567300['displayId'],_0x442d17;}catch(_0xe87196){if(_0xe87196 instanceof api_error_1[_0x2284b2(0x146)])throw _0xe87196;throw new not_found_error_1['NotFoundError'](_0xe87196);}}async[a206_0x20dfe6(0x150)](_0x2ad699,_0x754388){const _0x16fd78=a206_0x20dfe6;try{const _0x3a4f7c=await this[_0x16fd78(0x14f)][_0x16fd78(0x188)]('projects/'+this['project']+_0x16fd78(0x17e)+_0x2ad699,_0x754388),_0x25b5c9=await this['request'][_0x16fd78(0x184)](_0x16fd78(0x15a)+this[_0x16fd78(0x17c)]+_0x16fd78(0x17e)+_0x2ad699+_0x16fd78(0x170)),_0x350d25=repo_class_1['Repo'][_0x16fd78(0x142)](_0x3a4f7c,(0x0,utils_1[_0x16fd78(0x16c)])(this[_0x16fd78(0x14f)][_0x16fd78(0x15e)][_0x16fd78(0x16d)]||'',_0x16fd78(0x15c)+this[_0x16fd78(0x17c)]+_0x16fd78(0x17e)+_0x2ad699),this['api'],this[_0x16fd78(0x182)]);return _0x350d25[_0x16fd78(0x14b)]=_0x25b5c9['displayId'],_0x350d25;}catch(_0x120577){if(_0x120577 instanceof api_error_1[_0x16fd78(0x146)])throw _0x120577;throw new not_found_error_1['NotFoundError'](_0x120577);}}async[a206_0x20dfe6(0x18d)](_0x5c03fe){const _0x37e4e0=a206_0x20dfe6;try{await this[_0x37e4e0(0x163)](_0x5c03fe),await this['request'][_0x37e4e0(0x18d)](_0x37e4e0(0x15a)+this[_0x37e4e0(0x17c)]+'/repos/'+_0x5c03fe);}catch(_0xbd119f){if(_0xbd119f instanceof api_error_1['ApiError'])throw _0xbd119f;throw new bad_request_error_1['BadRequestError'](_0xbd119f);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x20dfe6(0x14a)])(),__param(0x1,(0x0,typedi_1[a206_0x20dfe6(0x181)])(providers_tokens_1[a206_0x20dfe6(0x176)][a206_0x20dfe6(0x182)])),__metadata(a206_0x20dfe6(0x157),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1[a206_0x20dfe6(0x162)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;