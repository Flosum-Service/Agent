const a228_0x57cd08=a228_0x5935;(function(_0x45736e,_0x1cc844){const _0x5c546f=a228_0x5935,_0x447343=_0x45736e();while(!![]){try{const _0x366eb5=-parseInt(_0x5c546f(0x1ee))/0x1*(-parseInt(_0x5c546f(0x237))/0x2)+parseInt(_0x5c546f(0x1ed))/0x3*(parseInt(_0x5c546f(0x21a))/0x4)+parseInt(_0x5c546f(0x233))/0x5*(parseInt(_0x5c546f(0x20f))/0x6)+-parseInt(_0x5c546f(0x230))/0x7*(-parseInt(_0x5c546f(0x20b))/0x8)+parseInt(_0x5c546f(0x21f))/0x9*(parseInt(_0x5c546f(0x238))/0xa)+parseInt(_0x5c546f(0x1fd))/0xb+-parseInt(_0x5c546f(0x221))/0xc;if(_0x366eb5===_0x1cc844)break;else _0x447343['push'](_0x447343['shift']());}catch(_0x1817d0){_0x447343['push'](_0x447343['shift']());}}}(a228_0x13a8,0xb9391));const a228_0x2a797f=(function(){let _0x4023b3=!![];return function(_0x50222c,_0xfff6dc){const _0x43059e=_0x4023b3?function(){if(_0xfff6dc){const _0x4245d4=_0xfff6dc['apply'](_0x50222c,arguments);return _0xfff6dc=null,_0x4245d4;}}:function(){};return _0x4023b3=![],_0x43059e;};}()),a228_0x4d00d8=a228_0x2a797f(this,function(){const _0x16e2a9=a228_0x5935;return a228_0x4d00d8['toString']()['search'](_0x16e2a9(0x22f))[_0x16e2a9(0x20d)]()[_0x16e2a9(0x1f1)](a228_0x4d00d8)[_0x16e2a9(0x1ff)](_0x16e2a9(0x22f));});a228_0x4d00d8();'use strict';var __decorate=this&&this[a228_0x57cd08(0x1fc)]||function(_0x377cc,_0x3d4f5f,_0x220b89,_0xc35b48){const _0x223c05=a228_0x57cd08;var _0x4c9371=arguments['length'],_0x1daca1=_0x4c9371<0x3?_0x3d4f5f:_0xc35b48===null?_0xc35b48=Object['getOwnPropertyDescriptor'](_0x3d4f5f,_0x220b89):_0xc35b48,_0x1dbe98;if(typeof Reflect===_0x223c05(0x236)&&typeof Reflect[_0x223c05(0x219)]===_0x223c05(0x224))_0x1daca1=Reflect[_0x223c05(0x219)](_0x377cc,_0x3d4f5f,_0x220b89,_0xc35b48);else{for(var _0x4c264d=_0x377cc[_0x223c05(0x20e)]-0x1;_0x4c264d>=0x0;_0x4c264d--)if(_0x1dbe98=_0x377cc[_0x4c264d])_0x1daca1=(_0x4c9371<0x3?_0x1dbe98(_0x1daca1):_0x4c9371>0x3?_0x1dbe98(_0x3d4f5f,_0x220b89,_0x1daca1):_0x1dbe98(_0x3d4f5f,_0x220b89))||_0x1daca1;}return _0x4c9371>0x3&&_0x1daca1&&Object[_0x223c05(0x1f2)](_0x3d4f5f,_0x220b89,_0x1daca1),_0x1daca1;},__metadata=this&&this[a228_0x57cd08(0x217)]||function(_0x5d919f,_0x45230f){const _0x271d03=a228_0x57cd08;if(typeof Reflect===_0x271d03(0x236)&&typeof Reflect['metadata']===_0x271d03(0x224))return Reflect[_0x271d03(0x1f9)](_0x5d919f,_0x45230f);},__param=this&&this['__param']||function(_0x2ba757,_0x3648f7){return function(_0x2b35b8,_0x4b1e21){_0x3648f7(_0x2b35b8,_0x4b1e21,_0x2ba757);};};Object[a228_0x57cd08(0x1f2)](exports,a228_0x57cd08(0x20a),{'value':!![]}),exports[a228_0x57cd08(0x226)]=void 0x0;const bad_request_error_1=require(a228_0x57cd08(0x213)),not_found_error_1=require(a228_0x57cd08(0x22a)),typedi_1=require(a228_0x57cd08(0x21b)),api_error_1=require(a228_0x57cd08(0x23a)),bitbucket_server_api_service_1=require(a228_0x57cd08(0x1f0)),git_internal_1=require(a228_0x57cd08(0x225)),utils_1=require(a228_0x57cd08(0x1f3)),repo_class_1=require(a228_0x57cd08(0x215)),git_repo_service_1=require(a228_0x57cd08(0x21d)),providers_tokens_1=require(a228_0x57cd08(0x1fe)),bitbucket_server_credentials_dto_1=require(a228_0x57cd08(0x228));function a228_0x5935(_0x172e30,_0x4515bd){const _0x1260e2=a228_0x13a8();return a228_0x5935=function(_0x4d00d8,_0x2a797f){_0x4d00d8=_0x4d00d8-0x1ed;let _0x13a8ea=_0x1260e2[_0x4d00d8];return _0x13a8ea;},a228_0x5935(_0x172e30,_0x4515bd);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x192e98,_0x2557a3){const _0x5c869e=a228_0x57cd08;super(_0x192e98),this[_0x5c869e(0x227)]=_0x192e98,this[_0x5c869e(0x201)]=_0x2557a3[_0x5c869e(0x201)],this[_0x5c869e(0x204)]=_0x2557a3;}async[a228_0x57cd08(0x234)](_0x224b24){const _0x542267=a228_0x57cd08;try{const _0x47fecf={'name':_0x224b24[_0x542267(0x22e)],'scmId':'git','defaultBranch':_0x224b24['defaultBranch'],..._0x224b24[_0x542267(0x21c)]||{}},_0xba99e1=await this[_0x542267(0x232)][_0x542267(0x212)](_0x542267(0x214)+this[_0x542267(0x201)]+'/repos',_0x47fecf),_0x2c9745=repo_class_1[_0x542267(0x202)][_0x542267(0x1f5)](_0xba99e1,'',this[_0x542267(0x227)],this['credentials']);return _0x224b24[_0x542267(0x235)]&&await git_internal_1[_0x542267(0x210)][_0x542267(0x206)](_0x2c9745,_0x224b24[_0x542267(0x203)]||'master','',this['credentials']),this[_0x542267(0x239)](_0x2c9745['name']);}catch(_0x1d28e5){if(_0x1d28e5 instanceof api_error_1['ApiError'])throw _0x1d28e5;throw new bad_request_error_1[(_0x542267(0x216))](_0x1d28e5);}}async['getAll'](){const _0x91f77e=a228_0x57cd08;try{const _0x4605b5=[];let _0xf7330d;do{_0xf7330d=await this[_0x91f77e(0x232)][_0x91f77e(0x211)](_0x91f77e(0x214)+this[_0x91f77e(0x201)]+_0x91f77e(0x222),{'params':{'limit':0x64,'start':_0xf7330d?_0xf7330d[_0x91f77e(0x1ef)]:0x0}}),_0x4605b5[_0x91f77e(0x200)](..._0xf7330d['values']);}while(!_0xf7330d[_0x91f77e(0x1fa)]);return _0x4605b5[_0x91f77e(0x218)](_0x4d1fd3=>repo_class_1[_0x91f77e(0x202)][_0x91f77e(0x1f5)](_0x4d1fd3,(0x0,utils_1[_0x91f77e(0x1f4)])(this['request'][_0x91f77e(0x22c)][_0x91f77e(0x209)]||'',_0x91f77e(0x22d)+this['project']+'/repos/'+_0x4d1fd3['slug']),this[_0x91f77e(0x227)],this[_0x91f77e(0x204)]));}catch(_0xaacb9d){if(_0xaacb9d instanceof api_error_1[_0x91f77e(0x208)])throw _0xaacb9d;throw new not_found_error_1[(_0x91f77e(0x22b))](_0xaacb9d);}}async[a228_0x57cd08(0x239)](_0x44ba85){const _0xcf4d0b=a228_0x57cd08;var _0x3a7427;try{const _0x74385d=await this[_0xcf4d0b(0x232)][_0xcf4d0b(0x211)](_0xcf4d0b(0x214)+this[_0xcf4d0b(0x201)]+_0xcf4d0b(0x207)+_0x44ba85),_0x12b942=repo_class_1['Repo'][_0xcf4d0b(0x1f5)](_0x74385d,(0x0,utils_1[_0xcf4d0b(0x1f4)])(this['request'][_0xcf4d0b(0x22c)][_0xcf4d0b(0x209)]||'',_0xcf4d0b(0x22d)+this[_0xcf4d0b(0x201)]+_0xcf4d0b(0x207)+_0x44ba85),this[_0xcf4d0b(0x227)],this['credentials']),_0x366a6e=await this['request'][_0xcf4d0b(0x211)](_0x12b942[_0xcf4d0b(0x229)]+_0xcf4d0b(0x220))['then'](_0x36fd7f=>_0x36fd7f[_0xcf4d0b(0x21e)]);return _0x12b942[_0xcf4d0b(0x203)]=(_0x3a7427=_0x366a6e[_0xcf4d0b(0x223)](_0x2995db=>_0x2995db['isDefault']===!![]))===null||_0x3a7427===void 0x0?void 0x0:_0x3a7427['displayId'],_0x12b942;}catch(_0x1edc30){if(_0x1edc30 instanceof api_error_1[_0xcf4d0b(0x208)])throw _0x1edc30;throw new not_found_error_1[(_0xcf4d0b(0x22b))](_0x1edc30);}}async[a228_0x57cd08(0x1f6)](_0x55d4f0,_0x2cbd7d){const _0x3360ad=a228_0x57cd08;try{const _0x3ba90f=await this[_0x3360ad(0x232)][_0x3360ad(0x1f7)]('projects/'+this[_0x3360ad(0x201)]+_0x3360ad(0x207)+_0x55d4f0,_0x2cbd7d),_0x50b933=await this[_0x3360ad(0x232)][_0x3360ad(0x211)](_0x3360ad(0x214)+this['project']+_0x3360ad(0x207)+_0x55d4f0+_0x3360ad(0x1f8)),_0x49ab9b=repo_class_1[_0x3360ad(0x202)][_0x3360ad(0x1f5)](_0x3ba90f,(0x0,utils_1[_0x3360ad(0x1f4)])(this[_0x3360ad(0x232)][_0x3360ad(0x22c)][_0x3360ad(0x209)]||'',_0x3360ad(0x22d)+this['project']+_0x3360ad(0x207)+_0x55d4f0),this[_0x3360ad(0x227)],this[_0x3360ad(0x204)]);return _0x49ab9b[_0x3360ad(0x203)]=_0x50b933[_0x3360ad(0x205)],_0x49ab9b;}catch(_0x2f303d){if(_0x2f303d instanceof api_error_1[_0x3360ad(0x208)])throw _0x2f303d;throw new not_found_error_1[(_0x3360ad(0x22b))](_0x2f303d);}}async[a228_0x57cd08(0x20c)](_0x26fee3){const _0x50910d=a228_0x57cd08;try{await this[_0x50910d(0x239)](_0x26fee3),await this['request']['delete'](_0x50910d(0x214)+this[_0x50910d(0x201)]+'/repos/'+_0x26fee3);}catch(_0x51d780){if(_0x51d780 instanceof api_error_1['ApiError'])throw _0x51d780;throw new bad_request_error_1[(_0x50910d(0x216))](_0x51d780);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a228_0x57cd08(0x231)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1['Tokens']['credentials'])),__metadata(a228_0x57cd08(0x1fb),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a228_0x57cd08(0x226)]=BitbucketServerRepoService;function a228_0x13a8(){const _0x43d19b=['request','170IunSpb','create','autoInit','object','8PUdpsz','10aeGPkT','getOne','../../../../../core/errors/api.error','18HSiirk','188422qIhvKh','nextPageStart','../../api/bitbucket-server-api.service','constructor','defineProperty','../../../../shared/utils','joinURL','fromBitbucketServer','update','put','/default-branch','metadata','isLastPage','design:paramtypes','__decorate','8489811MrAERT','../../providers.tokens','search','push','project','Repo','defaultBranch','credentials','displayId','createEmptyBranch','/repos/','ApiError','baseURL','__esModule','62752EiMIGO','delete','toString','length','23742dWBINJ','Git','get','post','../../../../../core/errors/bad-request.error','projects/','../repo.class','BadRequestError','__metadata','map','decorate','662428rVFaju','typedi','apiBody','./git-repo.service','values','12629709lUyhFs','/branches','47768700enARzT','/repos','find','function','../../../internal/git.internal','BitbucketServerRepoService','api','../../credentials/dto/bitbucket-server-credentials.dto','apiUrl','../../../../../core/errors/not-found.error','NotFoundError','defaults','/projects/','name','(((.+)+)+)+$','609NyDkcr','Service'];a228_0x13a8=function(){return _0x43d19b;};return a228_0x13a8();}