const a212_0x17f16e=a212_0x2414;(function(_0x4e96e5,_0x1899ef){const _0x3cc6ec=a212_0x2414,_0x7a4f26=_0x4e96e5();while(!![]){try{const _0x2ff322=parseInt(_0x3cc6ec(0x173))/0x1*(parseInt(_0x3cc6ec(0x194))/0x2)+-parseInt(_0x3cc6ec(0x172))/0x3+parseInt(_0x3cc6ec(0x193))/0x4*(parseInt(_0x3cc6ec(0x19e))/0x5)+-parseInt(_0x3cc6ec(0x1a5))/0x6+parseInt(_0x3cc6ec(0x1ad))/0x7*(-parseInt(_0x3cc6ec(0x19f))/0x8)+-parseInt(_0x3cc6ec(0x19a))/0x9+-parseInt(_0x3cc6ec(0x18d))/0xa*(-parseInt(_0x3cc6ec(0x184))/0xb);if(_0x2ff322===_0x1899ef)break;else _0x7a4f26['push'](_0x7a4f26['shift']());}catch(_0x40bc92){_0x7a4f26['push'](_0x7a4f26['shift']());}}}(a212_0x5616,0xad676));const a212_0x372e63=(function(){let _0x47bee7=!![];return function(_0x437ad3,_0x4945f4){const _0x5675c7=_0x47bee7?function(){const _0x51b04d=a212_0x2414;if(_0x4945f4){const _0x32259b=_0x4945f4[_0x51b04d(0x18b)](_0x437ad3,arguments);return _0x4945f4=null,_0x32259b;}}:function(){};return _0x47bee7=![],_0x5675c7;};}()),a212_0xe29aa2=a212_0x372e63(this,function(){const _0x1b98dc=a212_0x2414;return a212_0xe29aa2[_0x1b98dc(0x1a2)]()[_0x1b98dc(0x195)](_0x1b98dc(0x1ab))[_0x1b98dc(0x1a2)]()['constructor'](a212_0xe29aa2)[_0x1b98dc(0x195)](_0x1b98dc(0x1ab));});function a212_0x2414(_0x195946,_0x2eada4){const _0xe665b6=a212_0x5616();return a212_0x2414=function(_0xe29aa2,_0x372e63){_0xe29aa2=_0xe29aa2-0x168;let _0x561603=_0xe665b6[_0xe29aa2];return _0x561603;},a212_0x2414(_0x195946,_0x2eada4);}a212_0xe29aa2();'use strict';var __decorate=this&&this[a212_0x17f16e(0x1b0)]||function(_0x1abd6f,_0x2a266a,_0x31d659,_0x421f89){const _0x5c088a=a212_0x17f16e;var _0x2b61fb=arguments['length'],_0x2c1aeb=_0x2b61fb<0x3?_0x2a266a:_0x421f89===null?_0x421f89=Object[_0x5c088a(0x19d)](_0x2a266a,_0x31d659):_0x421f89,_0x33dbbc;if(typeof Reflect==='object'&&typeof Reflect[_0x5c088a(0x19b)]===_0x5c088a(0x1ac))_0x2c1aeb=Reflect['decorate'](_0x1abd6f,_0x2a266a,_0x31d659,_0x421f89);else{for(var _0x246799=_0x1abd6f[_0x5c088a(0x176)]-0x1;_0x246799>=0x0;_0x246799--)if(_0x33dbbc=_0x1abd6f[_0x246799])_0x2c1aeb=(_0x2b61fb<0x3?_0x33dbbc(_0x2c1aeb):_0x2b61fb>0x3?_0x33dbbc(_0x2a266a,_0x31d659,_0x2c1aeb):_0x33dbbc(_0x2a266a,_0x31d659))||_0x2c1aeb;}return _0x2b61fb>0x3&&_0x2c1aeb&&Object[_0x5c088a(0x183)](_0x2a266a,_0x31d659,_0x2c1aeb),_0x2c1aeb;},__metadata=this&&this[a212_0x17f16e(0x18f)]||function(_0x88f57b,_0x38a4e4){const _0x44633f=a212_0x17f16e;if(typeof Reflect===_0x44633f(0x168)&&typeof Reflect[_0x44633f(0x169)]===_0x44633f(0x1ac))return Reflect[_0x44633f(0x169)](_0x88f57b,_0x38a4e4);},__param=this&&this[a212_0x17f16e(0x188)]||function(_0x2998ce,_0x309558){return function(_0x4fbfad,_0x91803d){_0x309558(_0x4fbfad,_0x91803d,_0x2998ce);};};function a212_0x5616(){const _0x2cc4ad=['api','3955191AvRGEk','22094rPJmkn','../../../../../core/errors/bad-request.error','BitbucketServerRepoService','length','values','../../../internal/git.internal','__esModule','../../credentials/dto/bitbucket-server-credentials.dto','Inject','/default-branch','git','project','./git-repo.service','fromBitbucketServer','baseURL','then','defineProperty','34507Spfmkx','/repos/','nextPageStart','displayId','__param','NotFoundError','post','apply','isDefault','15310xfMmMx','../../../../shared/utils','__metadata','BitbucketServerApiService','/branches','BadRequestError','33524dzLpfh','18RYhVop','search','GitRepoService','Tokens','delete','master','8278002YTTqET','decorate','credentials','getOwnPropertyDescriptor','60vRqChG','7246552kzSbir','/projects/','projects/','toString','put','createEmptyBranch','7487454fNRGbt','slug','getOne','joinURL','typedi','../../../../../core/errors/not-found.error','(((.+)+)+)+$','function','7NgvwzA','Repo','Git','__decorate','/repos','ApiError','defaultBranch','defaults','get','object','metadata','update','isLastPage','request','apiBody','BitbucketServerCredentialsDto','apiUrl','../../../../../core/errors/api.error'];a212_0x5616=function(){return _0x2cc4ad;};return a212_0x5616();}Object[a212_0x17f16e(0x183)](exports,a212_0x17f16e(0x179),{'value':!![]}),exports[a212_0x17f16e(0x175)]=void 0x0;const bad_request_error_1=require(a212_0x17f16e(0x174)),not_found_error_1=require(a212_0x17f16e(0x1aa)),typedi_1=require(a212_0x17f16e(0x1a9)),api_error_1=require(a212_0x17f16e(0x170)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a212_0x17f16e(0x178)),utils_1=require(a212_0x17f16e(0x18e)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a212_0x17f16e(0x17f)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a212_0x17f16e(0x17a));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a212_0x17f16e(0x196)]{constructor(_0xa5ce8d,_0xbf81f7){const _0x4d00a4=a212_0x17f16e;super(_0xa5ce8d),this[_0x4d00a4(0x171)]=_0xa5ce8d,this[_0x4d00a4(0x17e)]=_0xbf81f7[_0x4d00a4(0x17e)],this[_0x4d00a4(0x19c)]=_0xbf81f7;}async['create'](_0x508819){const _0xd5ecea=a212_0x17f16e;try{const _0x187d77={'name':_0x508819['name'],'scmId':_0xd5ecea(0x17d),'defaultBranch':_0x508819['defaultBranch'],..._0x508819[_0xd5ecea(0x16d)]||{}},_0x7b0673=await this[_0xd5ecea(0x16c)][_0xd5ecea(0x18a)](_0xd5ecea(0x1a1)+this[_0xd5ecea(0x17e)]+_0xd5ecea(0x1b1),_0x187d77),_0x57729b=repo_class_1[_0xd5ecea(0x1ae)][_0xd5ecea(0x180)](_0x7b0673,'',this[_0xd5ecea(0x171)],this[_0xd5ecea(0x19c)]);return _0x508819['autoInit']&&await git_internal_1[_0xd5ecea(0x1af)][_0xd5ecea(0x1a4)](_0x57729b,_0x508819['defaultBranch']||_0xd5ecea(0x199),'',this[_0xd5ecea(0x19c)]),this['getOne'](_0x57729b['name']);}catch(_0x3ce50c){if(_0x3ce50c instanceof api_error_1[_0xd5ecea(0x1b2)])throw _0x3ce50c;throw new bad_request_error_1[(_0xd5ecea(0x192))](_0x3ce50c);}}async['getAll'](){const _0x5730c1=a212_0x17f16e;try{const _0xfc1b37=[];let _0x4fdb94;do{_0x4fdb94=await this[_0x5730c1(0x16c)][_0x5730c1(0x1b5)]('projects/'+this[_0x5730c1(0x17e)]+_0x5730c1(0x1b1),{'params':{'limit':0x64,'start':_0x4fdb94?_0x4fdb94[_0x5730c1(0x186)]:0x0}}),_0xfc1b37['push'](..._0x4fdb94[_0x5730c1(0x177)]);}while(!_0x4fdb94[_0x5730c1(0x16b)]);return _0xfc1b37['map'](_0x57f905=>repo_class_1[_0x5730c1(0x1ae)][_0x5730c1(0x180)](_0x57f905,(0x0,utils_1[_0x5730c1(0x1a8)])(this[_0x5730c1(0x16c)][_0x5730c1(0x1b4)][_0x5730c1(0x181)]||'',_0x5730c1(0x1a0)+this[_0x5730c1(0x17e)]+_0x5730c1(0x185)+_0x57f905[_0x5730c1(0x1a6)]),this['api'],this['credentials']));}catch(_0xd06e25){if(_0xd06e25 instanceof api_error_1['ApiError'])throw _0xd06e25;throw new not_found_error_1[(_0x5730c1(0x189))](_0xd06e25);}}async[a212_0x17f16e(0x1a7)](_0x3f3654){const _0x47a082=a212_0x17f16e;var _0x4d3939;try{const _0x1f076e=await this[_0x47a082(0x16c)][_0x47a082(0x1b5)](_0x47a082(0x1a1)+this[_0x47a082(0x17e)]+_0x47a082(0x185)+_0x3f3654),_0xe3b49c=repo_class_1[_0x47a082(0x1ae)][_0x47a082(0x180)](_0x1f076e,(0x0,utils_1['joinURL'])(this[_0x47a082(0x16c)][_0x47a082(0x1b4)][_0x47a082(0x181)]||'',_0x47a082(0x1a0)+this['project']+_0x47a082(0x185)+_0x3f3654),this['api'],this[_0x47a082(0x19c)]),_0x159634=await this[_0x47a082(0x16c)][_0x47a082(0x1b5)](_0xe3b49c[_0x47a082(0x16f)]+_0x47a082(0x191))[_0x47a082(0x182)](_0x1ab3a2=>_0x1ab3a2[_0x47a082(0x177)]);return _0xe3b49c[_0x47a082(0x1b3)]=(_0x4d3939=_0x159634['find'](_0x232eff=>_0x232eff[_0x47a082(0x18c)]===!![]))===null||_0x4d3939===void 0x0?void 0x0:_0x4d3939[_0x47a082(0x187)],_0xe3b49c;}catch(_0x444fe6){if(_0x444fe6 instanceof api_error_1[_0x47a082(0x1b2)])throw _0x444fe6;throw new not_found_error_1[(_0x47a082(0x189))](_0x444fe6);}}async[a212_0x17f16e(0x16a)](_0x11e3f4,_0x3c8919){const _0xad225d=a212_0x17f16e;try{const _0x446e8d=await this[_0xad225d(0x16c)][_0xad225d(0x1a3)](_0xad225d(0x1a1)+this[_0xad225d(0x17e)]+_0xad225d(0x185)+_0x11e3f4,_0x3c8919),_0x36870e=await this[_0xad225d(0x16c)]['get']('projects/'+this['project']+_0xad225d(0x185)+_0x11e3f4+_0xad225d(0x17c)),_0x4a3de1=repo_class_1[_0xad225d(0x1ae)][_0xad225d(0x180)](_0x446e8d,(0x0,utils_1['joinURL'])(this['request']['defaults']['baseURL']||'',_0xad225d(0x1a0)+this['project']+_0xad225d(0x185)+_0x11e3f4),this['api'],this[_0xad225d(0x19c)]);return _0x4a3de1[_0xad225d(0x1b3)]=_0x36870e[_0xad225d(0x187)],_0x4a3de1;}catch(_0x5de17f){if(_0x5de17f instanceof api_error_1[_0xad225d(0x1b2)])throw _0x5de17f;throw new not_found_error_1[(_0xad225d(0x189))](_0x5de17f);}}async[a212_0x17f16e(0x198)](_0x12ecda){const _0x27dbea=a212_0x17f16e;try{await this[_0x27dbea(0x1a7)](_0x12ecda),await this[_0x27dbea(0x16c)][_0x27dbea(0x198)](_0x27dbea(0x1a1)+this[_0x27dbea(0x17e)]+_0x27dbea(0x185)+_0x12ecda);}catch(_0x2f2da6){if(_0x2f2da6 instanceof api_error_1[_0x27dbea(0x1b2)])throw _0x2f2da6;throw new bad_request_error_1[(_0x27dbea(0x192))](_0x2f2da6);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a212_0x17f16e(0x17b)])(providers_tokens_1[a212_0x17f16e(0x197)][a212_0x17f16e(0x19c)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a212_0x17f16e(0x190)],bitbucket_server_credentials_dto_1[a212_0x17f16e(0x16e)]])],BitbucketServerRepoService),exports[a212_0x17f16e(0x175)]=BitbucketServerRepoService;