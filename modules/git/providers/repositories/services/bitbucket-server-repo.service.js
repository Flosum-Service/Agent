const a201_0x292f08=a201_0x2a58;(function(_0x526cff,_0x294d77){const _0x289971=a201_0x2a58,_0x56381b=_0x526cff();while(!![]){try{const _0xa7b80=-parseInt(_0x289971(0x103))/0x1+parseInt(_0x289971(0xf4))/0x2+parseInt(_0x289971(0xcd))/0x3+-parseInt(_0x289971(0xdc))/0x4+-parseInt(_0x289971(0xd7))/0x5+parseInt(_0x289971(0x10f))/0x6*(parseInt(_0x289971(0xf8))/0x7)+-parseInt(_0x289971(0xde))/0x8*(-parseInt(_0x289971(0xee))/0x9);if(_0xa7b80===_0x294d77)break;else _0x56381b['push'](_0x56381b['shift']());}catch(_0xa59d8f){_0x56381b['push'](_0x56381b['shift']());}}}(a201_0x7e47,0x9d280));const a201_0x106e38=(function(){let _0x38a121=!![];return function(_0x4e489a,_0x23773d){const _0x482e1d=_0x38a121?function(){const _0x8980e4=a201_0x2a58;if(_0x23773d){const _0x289870=_0x23773d[_0x8980e4(0x110)](_0x4e489a,arguments);return _0x23773d=null,_0x289870;}}:function(){};return _0x38a121=![],_0x482e1d;};}()),a201_0x5a4f48=a201_0x106e38(this,function(){const _0x391784=a201_0x2a58;return a201_0x5a4f48['toString']()[_0x391784(0x101)]('(((.+)+)+)+$')[_0x391784(0x115)]()['constructor'](a201_0x5a4f48)[_0x391784(0x101)]('(((.+)+)+)+$');});a201_0x5a4f48();function a201_0x2a58(_0x41cb1e,_0x47941a){const _0x5ee928=a201_0x7e47();return a201_0x2a58=function(_0x5a4f48,_0x106e38){_0x5a4f48=_0x5a4f48-0xcc;let _0x7e47ed=_0x5ee928[_0x5a4f48];return _0x7e47ed;},a201_0x2a58(_0x41cb1e,_0x47941a);}'use strict';var __decorate=this&&this[a201_0x292f08(0xcc)]||function(_0x4ba521,_0x1c3e86,_0x1d0ca1,_0x51be4c){const _0x52b8f7=a201_0x292f08;var _0x4451c2=arguments[_0x52b8f7(0xd4)],_0x5a016f=_0x4451c2<0x3?_0x1c3e86:_0x51be4c===null?_0x51be4c=Object[_0x52b8f7(0xe6)](_0x1c3e86,_0x1d0ca1):_0x51be4c,_0x55b80f;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x52b8f7(0xe4))_0x5a016f=Reflect[_0x52b8f7(0x112)](_0x4ba521,_0x1c3e86,_0x1d0ca1,_0x51be4c);else{for(var _0x3f0ad0=_0x4ba521[_0x52b8f7(0xd4)]-0x1;_0x3f0ad0>=0x0;_0x3f0ad0--)if(_0x55b80f=_0x4ba521[_0x3f0ad0])_0x5a016f=(_0x4451c2<0x3?_0x55b80f(_0x5a016f):_0x4451c2>0x3?_0x55b80f(_0x1c3e86,_0x1d0ca1,_0x5a016f):_0x55b80f(_0x1c3e86,_0x1d0ca1))||_0x5a016f;}return _0x4451c2>0x3&&_0x5a016f&&Object[_0x52b8f7(0xf3)](_0x1c3e86,_0x1d0ca1,_0x5a016f),_0x5a016f;},__metadata=this&&this[a201_0x292f08(0xe0)]||function(_0x5ee6ad,_0x20f5cd){const _0xc6a888=a201_0x292f08;if(typeof Reflect===_0xc6a888(0xfb)&&typeof Reflect[_0xc6a888(0xfc)]===_0xc6a888(0xe4))return Reflect['metadata'](_0x5ee6ad,_0x20f5cd);},__param=this&&this[a201_0x292f08(0x107)]||function(_0x3edf3a,_0x1e16f8){return function(_0x295dd1,_0xf0b104){_0x1e16f8(_0x295dd1,_0xf0b104,_0x3edf3a);};};Object[a201_0x292f08(0xf3)](exports,a201_0x292f08(0xe8),{'value':!![]}),exports[a201_0x292f08(0xf7)]=void 0x0;const bad_request_error_1=require(a201_0x292f08(0x118)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a201_0x292f08(0x114)),api_error_1=require(a201_0x292f08(0xef)),bitbucket_server_api_service_1=require(a201_0x292f08(0x100)),git_internal_1=require(a201_0x292f08(0xf2)),utils_1=require(a201_0x292f08(0x117)),repo_class_1=require(a201_0x292f08(0x108)),git_repo_service_1=require(a201_0x292f08(0xd6)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a201_0x292f08(0xdf));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x292f08(0xff)]{constructor(_0x566b61,_0xd268a5){const _0x1f84ad=a201_0x292f08;super(_0x566b61),this['api']=_0x566b61,this[_0x1f84ad(0xd9)]=_0xd268a5[_0x1f84ad(0xd9)],this[_0x1f84ad(0x10a)]=_0xd268a5;}async[a201_0x292f08(0xd5)](_0x23714c){const _0x5f5aff=a201_0x292f08;try{const _0x9e10ed={'name':_0x23714c[_0x5f5aff(0xce)],'scmId':_0x5f5aff(0xe3),'defaultBranch':_0x23714c['defaultBranch'],..._0x23714c[_0x5f5aff(0xec)]||{}},_0x5717d7=await this[_0x5f5aff(0x113)][_0x5f5aff(0xf9)](_0x5f5aff(0x10d)+this[_0x5f5aff(0xd9)]+_0x5f5aff(0xdd),_0x9e10ed),_0x4c83ff=repo_class_1[_0x5f5aff(0xf0)]['fromBitbucketServer'](_0x5717d7,'',this['api'],this['credentials']);return _0x23714c[_0x5f5aff(0xd8)]&&await git_internal_1[_0x5f5aff(0xfd)][_0x5f5aff(0xe1)](_0x4c83ff,_0x23714c[_0x5f5aff(0xd0)]||_0x5f5aff(0x111),'',this[_0x5f5aff(0x10a)]),this['getOne'](_0x4c83ff[_0x5f5aff(0xce)]);}catch(_0x1c24a3){if(_0x1c24a3 instanceof api_error_1[_0x5f5aff(0x10c)])throw _0x1c24a3;throw new bad_request_error_1['BadRequestError'](_0x1c24a3);}}async[a201_0x292f08(0x10b)](){const _0x47551b=a201_0x292f08;try{const _0x34c896=[];let _0x47ae10;do{_0x47ae10=await this[_0x47551b(0x113)][_0x47551b(0xd3)](_0x47551b(0x10d)+this[_0x47551b(0xd9)]+_0x47551b(0xdd),{'params':{'limit':0x64,'start':_0x47ae10?_0x47ae10['nextPageStart']:0x0}}),_0x34c896['push'](..._0x47ae10[_0x47551b(0xd2)]);}while(!_0x47ae10['isLastPage']);return _0x34c896['map'](_0x1026c7=>repo_class_1[_0x47551b(0xf0)][_0x47551b(0xeb)](_0x1026c7,(0x0,utils_1[_0x47551b(0xe2)])(this['request']['defaults']['baseURL']||'','/projects/'+this[_0x47551b(0xd9)]+_0x47551b(0xfa)+_0x1026c7[_0x47551b(0xfe)]),this[_0x47551b(0xda)],this[_0x47551b(0x10a)]));}catch(_0x33936e){if(_0x33936e instanceof api_error_1[_0x47551b(0x10c)])throw _0x33936e;throw new not_found_error_1[(_0x47551b(0x102))](_0x33936e);}}async['getOne'](_0x1f0ba1){const _0xcf9c64=a201_0x292f08;var _0x36eacd;try{const _0x205ee3=await this[_0xcf9c64(0x113)]['get'](_0xcf9c64(0x10d)+this[_0xcf9c64(0xd9)]+'/repos/'+_0x1f0ba1),_0xf52a73=repo_class_1[_0xcf9c64(0xf0)][_0xcf9c64(0xeb)](_0x205ee3,(0x0,utils_1['joinURL'])(this['request'][_0xcf9c64(0x106)][_0xcf9c64(0xcf)]||'','/projects/'+this[_0xcf9c64(0xd9)]+_0xcf9c64(0xfa)+_0x1f0ba1),this['api'],this[_0xcf9c64(0x10a)]),_0x533050=await this[_0xcf9c64(0x113)][_0xcf9c64(0xd3)](_0xf52a73[_0xcf9c64(0x116)]+'/branches')[_0xcf9c64(0xe7)](_0x1c9d45=>_0x1c9d45[_0xcf9c64(0xd2)]);return _0xf52a73[_0xcf9c64(0xd0)]=(_0x36eacd=_0x533050[_0xcf9c64(0xf5)](_0x5a0c0d=>_0x5a0c0d[_0xcf9c64(0xea)]===!![]))===null||_0x36eacd===void 0x0?void 0x0:_0x36eacd[_0xcf9c64(0x109)],_0xf52a73;}catch(_0x13be7d){if(_0x13be7d instanceof api_error_1[_0xcf9c64(0x10c)])throw _0x13be7d;throw new not_found_error_1[(_0xcf9c64(0x102))](_0x13be7d);}}async[a201_0x292f08(0xf1)](_0x365a6b,_0x6c8d8f){const _0x3aa5bb=a201_0x292f08;try{const _0x2eb149=await this[_0x3aa5bb(0x113)]['put']('projects/'+this['project']+_0x3aa5bb(0xfa)+_0x365a6b,_0x6c8d8f),_0x4d37ea=await this[_0x3aa5bb(0x113)][_0x3aa5bb(0xd3)](_0x3aa5bb(0x10d)+this['project']+'/repos/'+_0x365a6b+_0x3aa5bb(0xd1)),_0x3805a4=repo_class_1['Repo']['fromBitbucketServer'](_0x2eb149,(0x0,utils_1['joinURL'])(this['request'][_0x3aa5bb(0x106)][_0x3aa5bb(0xcf)]||'',_0x3aa5bb(0xe5)+this['project']+_0x3aa5bb(0xfa)+_0x365a6b),this[_0x3aa5bb(0xda)],this[_0x3aa5bb(0x10a)]);return _0x3805a4[_0x3aa5bb(0xd0)]=_0x4d37ea[_0x3aa5bb(0x109)],_0x3805a4;}catch(_0x3ebb54){if(_0x3ebb54 instanceof api_error_1[_0x3aa5bb(0x10c)])throw _0x3ebb54;throw new not_found_error_1[(_0x3aa5bb(0x102))](_0x3ebb54);}}async[a201_0x292f08(0xed)](_0x194008){const _0xb784cc=a201_0x292f08;try{await this[_0xb784cc(0xf6)](_0x194008),await this[_0xb784cc(0x113)][_0xb784cc(0xed)](_0xb784cc(0x10d)+this['project']+_0xb784cc(0xfa)+_0x194008);}catch(_0xc0e6ee){if(_0xc0e6ee instanceof api_error_1[_0xb784cc(0x10c)])throw _0xc0e6ee;throw new bad_request_error_1[(_0xb784cc(0x10e))](_0xc0e6ee);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a201_0x292f08(0x105)])(),__param(0x1,(0x0,typedi_1[a201_0x292f08(0xe9)])(providers_tokens_1[a201_0x292f08(0x104)][a201_0x292f08(0x10a)])),__metadata(a201_0x292f08(0xdb),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;function a201_0x7e47(){const _0x39cd90=['/repos','750328koKrhO','../../credentials/dto/bitbucket-server-credentials.dto','__metadata','createEmptyBranch','joinURL','git','function','/projects/','getOwnPropertyDescriptor','then','__esModule','Inject','isDefault','fromBitbucketServer','apiBody','delete','153TSWwlV','../../../../../core/errors/api.error','Repo','update','../../../internal/git.internal','defineProperty','352442ZkAmlw','find','getOne','BitbucketServerRepoService','3942722bGcgcy','post','/repos/','object','metadata','Git','slug','GitRepoService','../../api/bitbucket-server-api.service','search','NotFoundError','685213KvIWzA','Tokens','Service','defaults','__param','../repo.class','displayId','credentials','getAll','ApiError','projects/','BadRequestError','12cdgJtD','apply','master','decorate','request','typedi','toString','apiUrl','../../../../shared/utils','../../../../../core/errors/bad-request.error','__decorate','1059159QIUSZt','name','baseURL','defaultBranch','/default-branch','values','get','length','create','./git-repo.service','5425375vvcLAQ','autoInit','project','api','design:paramtypes','3344852ylvhoN'];a201_0x7e47=function(){return _0x39cd90;};return a201_0x7e47();}