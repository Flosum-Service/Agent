const a167_0x1763b6=a167_0x5577;(function(_0x5d0da9,_0x4b9b8a){const _0x1f87ab=a167_0x5577,_0x2a4bb6=_0x5d0da9();while(!![]){try{const _0x4d31ea=-parseInt(_0x1f87ab(0x114))/0x1*(-parseInt(_0x1f87ab(0x125))/0x2)+parseInt(_0x1f87ab(0x127))/0x3+-parseInt(_0x1f87ab(0x11e))/0x4+-parseInt(_0x1f87ab(0xff))/0x5+parseInt(_0x1f87ab(0x10c))/0x6*(parseInt(_0x1f87ab(0x123))/0x7)+-parseInt(_0x1f87ab(0x131))/0x8*(parseInt(_0x1f87ab(0xf3))/0x9)+parseInt(_0x1f87ab(0xf0))/0xa;if(_0x4d31ea===_0x4b9b8a)break;else _0x2a4bb6['push'](_0x2a4bb6['shift']());}catch(_0x2e6ef0){_0x2a4bb6['push'](_0x2a4bb6['shift']());}}}(a167_0x3427,0xb44cc));function a167_0x5577(_0x55e2e5,_0x3f1892){const _0x17007f=a167_0x3427();return a167_0x5577=function(_0x521fde,_0x417e47){_0x521fde=_0x521fde-0xe7;let _0x34279e=_0x17007f[_0x521fde];return _0x34279e;},a167_0x5577(_0x55e2e5,_0x3f1892);}function a167_0x3427(){const _0x4cb7fa=['credentials','api','defaultBranch','update','(((.+)+)+)+$','displayId','nextPageStart','../../../../../core/errors/not-found.error','metadata','3948960qIMAbH','Service','isLastPage','toString','/repos','420UPVAIX','projects/','278NzlofR','length','2927388yHMhpg','autoInit','/branches','apiUrl','git','delete','getOwnPropertyDescriptor','push','apply','apiBody','470992FQrUHq','../repo.class','BitbucketServerRepoService','joinURL','Inject','baseURL','request','/default-branch','BitbucketServerApiService','design:paramtypes','../../providers.tokens','decorate','BadRequestError','then','post','defineProperty','/repos/','../../../../../core/errors/api.error','16422010QBKEen','../../api/bitbucket-server-api.service','constructor','27xsULAk','./git-repo.service','ApiError','defaults','object','create','values','Git','../../credentials/dto/bitbucket-server-credentials.dto','__esModule','get','function','6719000dmfudJ','search','../../../../shared/utils','put','NotFoundError','find','GitRepoService','getAll','getOne','project','__metadata','typedi','fromBitbucketServer','4062igNVpR','/projects/','createEmptyBranch','__decorate','../../../internal/git.internal','slug','Repo','name','4227sMeDPk'];a167_0x3427=function(){return _0x4cb7fa;};return a167_0x3427();}const a167_0x417e47=(function(){let _0x3d5fc9=!![];return function(_0x106388,_0x4d4de4){const _0x48cfb2=_0x3d5fc9?function(){const _0x334b4a=a167_0x5577;if(_0x4d4de4){const _0x2898ed=_0x4d4de4[_0x334b4a(0x12f)](_0x106388,arguments);return _0x4d4de4=null,_0x2898ed;}}:function(){};return _0x3d5fc9=![],_0x48cfb2;};}()),a167_0x521fde=a167_0x417e47(this,function(){const _0x281588=a167_0x5577;return a167_0x521fde['toString']()['search'](_0x281588(0x119))[_0x281588(0x121)]()[_0x281588(0xf2)](a167_0x521fde)[_0x281588(0x100)](_0x281588(0x119));});a167_0x521fde();'use strict';var __decorate=this&&this[a167_0x1763b6(0x10f)]||function(_0x574b4a,_0x354c1d,_0x460744,_0x5906a4){const _0x4213d8=a167_0x1763b6;var _0xa869c5=arguments[_0x4213d8(0x126)],_0x235011=_0xa869c5<0x3?_0x354c1d:_0x5906a4===null?_0x5906a4=Object[_0x4213d8(0x12d)](_0x354c1d,_0x460744):_0x5906a4,_0x1bc1bb;if(typeof Reflect===_0x4213d8(0xf7)&&typeof Reflect[_0x4213d8(0xe9)]===_0x4213d8(0xfe))_0x235011=Reflect[_0x4213d8(0xe9)](_0x574b4a,_0x354c1d,_0x460744,_0x5906a4);else{for(var _0x34f847=_0x574b4a[_0x4213d8(0x126)]-0x1;_0x34f847>=0x0;_0x34f847--)if(_0x1bc1bb=_0x574b4a[_0x34f847])_0x235011=(_0xa869c5<0x3?_0x1bc1bb(_0x235011):_0xa869c5>0x3?_0x1bc1bb(_0x354c1d,_0x460744,_0x235011):_0x1bc1bb(_0x354c1d,_0x460744))||_0x235011;}return _0xa869c5>0x3&&_0x235011&&Object[_0x4213d8(0xed)](_0x354c1d,_0x460744,_0x235011),_0x235011;},__metadata=this&&this[a167_0x1763b6(0x109)]||function(_0x12bd81,_0x5c7d4d){const _0x5b01bd=a167_0x1763b6;if(typeof Reflect===_0x5b01bd(0xf7)&&typeof Reflect[_0x5b01bd(0x11d)]===_0x5b01bd(0xfe))return Reflect[_0x5b01bd(0x11d)](_0x12bd81,_0x5c7d4d);},__param=this&&this['__param']||function(_0x19f7d3,_0x43ff1b){return function(_0x5f3498,_0x5ce3bb){_0x43ff1b(_0x5f3498,_0x5ce3bb,_0x19f7d3);};};Object[a167_0x1763b6(0xed)](exports,a167_0x1763b6(0xfc),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a167_0x1763b6(0x11c)),typedi_1=require(a167_0x1763b6(0x10a)),api_error_1=require(a167_0x1763b6(0xef)),bitbucket_server_api_service_1=require(a167_0x1763b6(0xf1)),git_internal_1=require(a167_0x1763b6(0x110)),utils_1=require(a167_0x1763b6(0x101)),repo_class_1=require(a167_0x1763b6(0x132)),git_repo_service_1=require(a167_0x1763b6(0xf4)),providers_tokens_1=require(a167_0x1763b6(0xe8)),bitbucket_server_credentials_dto_1=require(a167_0x1763b6(0xfb));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a167_0x1763b6(0x105)]{constructor(_0x5edb01,_0x4e7cdd){const _0x47f427=a167_0x1763b6;super(_0x5edb01),this[_0x47f427(0x116)]=_0x5edb01,this[_0x47f427(0x108)]=_0x4e7cdd[_0x47f427(0x108)],this[_0x47f427(0x115)]=_0x4e7cdd;}async[a167_0x1763b6(0xf8)](_0x3d256f){const _0x470889=a167_0x1763b6;try{const _0x2f1f83={'name':_0x3d256f[_0x470889(0x113)],'scmId':_0x470889(0x12b),'defaultBranch':_0x3d256f[_0x470889(0x117)],..._0x3d256f[_0x470889(0x130)]||{}},_0x42f8d1=await this[_0x470889(0x137)][_0x470889(0xec)]('projects/'+this['project']+_0x470889(0x122),_0x2f1f83),_0x2f39e9=repo_class_1[_0x470889(0x112)][_0x470889(0x10b)](_0x42f8d1,'',this[_0x470889(0x116)],this[_0x470889(0x115)]);return _0x3d256f[_0x470889(0x128)]&&await git_internal_1[_0x470889(0xfa)][_0x470889(0x10e)](_0x2f39e9,_0x3d256f[_0x470889(0x117)]||'master','',this[_0x470889(0x115)]),this[_0x470889(0x107)](_0x2f39e9[_0x470889(0x113)]);}catch(_0x2ce4ee){if(_0x2ce4ee instanceof api_error_1[_0x470889(0xf5)])throw _0x2ce4ee;throw new bad_request_error_1[(_0x470889(0xea))](_0x2ce4ee);}}async[a167_0x1763b6(0x106)](){const _0x386985=a167_0x1763b6;try{const _0x4a37a6=[];let _0x1a6b72;do{_0x1a6b72=await this[_0x386985(0x137)][_0x386985(0xfd)](_0x386985(0x124)+this['project']+_0x386985(0x122),{'params':{'limit':0x64,'start':_0x1a6b72?_0x1a6b72[_0x386985(0x11b)]:0x0}}),_0x4a37a6[_0x386985(0x12e)](..._0x1a6b72['values']);}while(!_0x1a6b72[_0x386985(0x120)]);return _0x4a37a6['map'](_0x5e13ef=>repo_class_1[_0x386985(0x112)][_0x386985(0x10b)](_0x5e13ef,(0x0,utils_1[_0x386985(0x134)])(this[_0x386985(0x137)][_0x386985(0xf6)]['baseURL']||'',_0x386985(0x10d)+this[_0x386985(0x108)]+_0x386985(0xee)+_0x5e13ef[_0x386985(0x111)]),this['api'],this[_0x386985(0x115)]));}catch(_0x59c749){if(_0x59c749 instanceof api_error_1[_0x386985(0xf5)])throw _0x59c749;throw new not_found_error_1[(_0x386985(0x103))](_0x59c749);}}async[a167_0x1763b6(0x107)](_0x905122){const _0x224c22=a167_0x1763b6;var _0x5489b5;try{const _0x171741=await this[_0x224c22(0x137)][_0x224c22(0xfd)]('projects/'+this['project']+'/repos/'+_0x905122),_0x42a196=repo_class_1[_0x224c22(0x112)]['fromBitbucketServer'](_0x171741,(0x0,utils_1[_0x224c22(0x134)])(this['request'][_0x224c22(0xf6)]['baseURL']||'',_0x224c22(0x10d)+this[_0x224c22(0x108)]+_0x224c22(0xee)+_0x905122),this[_0x224c22(0x116)],this[_0x224c22(0x115)]),_0x4fae14=await this[_0x224c22(0x137)][_0x224c22(0xfd)](_0x42a196[_0x224c22(0x12a)]+_0x224c22(0x129))[_0x224c22(0xeb)](_0x20870d=>_0x20870d[_0x224c22(0xf9)]);return _0x42a196['defaultBranch']=(_0x5489b5=_0x4fae14[_0x224c22(0x104)](_0x1b2b23=>_0x1b2b23['isDefault']===!![]))===null||_0x5489b5===void 0x0?void 0x0:_0x5489b5[_0x224c22(0x11a)],_0x42a196;}catch(_0x42af18){if(_0x42af18 instanceof api_error_1[_0x224c22(0xf5)])throw _0x42af18;throw new not_found_error_1['NotFoundError'](_0x42af18);}}async[a167_0x1763b6(0x118)](_0x38cf87,_0x4656bd){const _0x1e25d7=a167_0x1763b6;try{const _0x121fc9=await this['request'][_0x1e25d7(0x102)]('projects/'+this[_0x1e25d7(0x108)]+'/repos/'+_0x38cf87,_0x4656bd),_0x2ecbce=await this[_0x1e25d7(0x137)][_0x1e25d7(0xfd)](_0x1e25d7(0x124)+this[_0x1e25d7(0x108)]+'/repos/'+_0x38cf87+_0x1e25d7(0x138)),_0x10012a=repo_class_1[_0x1e25d7(0x112)][_0x1e25d7(0x10b)](_0x121fc9,(0x0,utils_1[_0x1e25d7(0x134)])(this[_0x1e25d7(0x137)][_0x1e25d7(0xf6)][_0x1e25d7(0x136)]||'',_0x1e25d7(0x10d)+this[_0x1e25d7(0x108)]+'/repos/'+_0x38cf87),this[_0x1e25d7(0x116)],this['credentials']);return _0x10012a[_0x1e25d7(0x117)]=_0x2ecbce[_0x1e25d7(0x11a)],_0x10012a;}catch(_0x412bdb){if(_0x412bdb instanceof api_error_1[_0x1e25d7(0xf5)])throw _0x412bdb;throw new not_found_error_1[(_0x1e25d7(0x103))](_0x412bdb);}}async[a167_0x1763b6(0x12c)](_0x57e959){const _0x1a2a7e=a167_0x1763b6;try{await this[_0x1a2a7e(0x107)](_0x57e959),await this['request'][_0x1a2a7e(0x12c)](_0x1a2a7e(0x124)+this[_0x1a2a7e(0x108)]+_0x1a2a7e(0xee)+_0x57e959);}catch(_0x4d4a84){if(_0x4d4a84 instanceof api_error_1[_0x1a2a7e(0xf5)])throw _0x4d4a84;throw new bad_request_error_1[(_0x1a2a7e(0xea))](_0x4d4a84);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a167_0x1763b6(0x11f)])(),__param(0x1,(0x0,typedi_1[a167_0x1763b6(0x135)])(providers_tokens_1['Tokens']['credentials'])),__metadata(a167_0x1763b6(0xe7),[bitbucket_server_api_service_1[a167_0x1763b6(0x139)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a167_0x1763b6(0x133)]=BitbucketServerRepoService;