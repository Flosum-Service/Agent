const a201_0x156f54=a201_0x1bb6;function a201_0x2092(){const _0x525fa8=['credentials','/repos','createEmptyBranch','24BNvsCK','get','constructor','delete','isDefault','Service','defaultBranch','name','autoInit','../../../../shared/utils','../../../../../core/errors/bad-request.error','../../providers.tokens','67418SnFQlx','BitbucketServerCredentialsDto','design:paramtypes','displayId','1902kcTmrN','function','__param','values','project','length','4030DdtpJW','57YqXleE','find','defaults','git','defineProperty','map','apiUrl','update','GitRepoService','__metadata','12996BAomvn','baseURL','decorate','4BTELHY','object','Repo','/branches','projects/','/default-branch','668112GQerpV','request','isLastPage','Tokens','../repo.class','master','13916JGcnNY','nextPageStart','typedi','post','9273616KgzgOP','3929688yifyew','../../../../../core/errors/not-found.error','apiBody','metadata','../../credentials/dto/bitbucket-server-credentials.dto','BitbucketServerRepoService','BadRequestError','BitbucketServerApiService','fromBitbucketServer','/projects/','../../api/bitbucket-server-api.service','NotFoundError','getOne','api','1840495DWKKaI','../../../../../core/errors/api.error','getAll','search','slug','toString','apply','/repos/','joinURL','__esModule','ApiError'];a201_0x2092=function(){return _0x525fa8;};return a201_0x2092();}(function(_0x436c2e,_0x1ece4d){const _0x301de1=a201_0x1bb6,_0x3d2be1=_0x436c2e();while(!![]){try{const _0x7a5fc2=-parseInt(_0x301de1(0x117))/0x1+parseInt(_0x301de1(0x14a))/0x2*(parseInt(_0x301de1(0x155))/0x3)+-parseInt(_0x301de1(0x111))/0x4*(-parseInt(_0x301de1(0x130))/0x5)+-parseInt(_0x301de1(0x14e))/0x6*(-parseInt(_0x301de1(0x11d))/0x7)+parseInt(_0x301de1(0x122))/0x8+-parseInt(_0x301de1(0x10e))/0x9*(-parseInt(_0x301de1(0x154))/0xa)+parseInt(_0x301de1(0x121))/0xb*(-parseInt(_0x301de1(0x13e))/0xc);if(_0x7a5fc2===_0x1ece4d)break;else _0x3d2be1['push'](_0x3d2be1['shift']());}catch(_0x4eafa9){_0x3d2be1['push'](_0x3d2be1['shift']());}}}(a201_0x2092,0x57535));const a201_0x3b009c=(function(){let _0x3c2b97=!![];return function(_0x5e4dc7,_0x4d8f90){const _0x647719=_0x3c2b97?function(){const _0x4c570c=a201_0x1bb6;if(_0x4d8f90){const _0x3c5780=_0x4d8f90[_0x4c570c(0x136)](_0x5e4dc7,arguments);return _0x4d8f90=null,_0x3c5780;}}:function(){};return _0x3c2b97=![],_0x647719;};}()),a201_0x5c403d=a201_0x3b009c(this,function(){const _0x112299=a201_0x1bb6;return a201_0x5c403d[_0x112299(0x135)]()[_0x112299(0x133)]('(((.+)+)+)+$')['toString']()[_0x112299(0x140)](a201_0x5c403d)[_0x112299(0x133)]('(((.+)+)+)+$');});a201_0x5c403d();'use strict';var __decorate=this&&this['__decorate']||function(_0x12fdae,_0x3d18af,_0x42e2d6,_0x3e9df0){const _0x537c72=a201_0x1bb6;var _0x39ade1=arguments[_0x537c72(0x153)],_0x50d7bc=_0x39ade1<0x3?_0x3d18af:_0x3e9df0===null?_0x3e9df0=Object['getOwnPropertyDescriptor'](_0x3d18af,_0x42e2d6):_0x3e9df0,_0x413df7;if(typeof Reflect===_0x537c72(0x112)&&typeof Reflect[_0x537c72(0x110)]===_0x537c72(0x14f))_0x50d7bc=Reflect[_0x537c72(0x110)](_0x12fdae,_0x3d18af,_0x42e2d6,_0x3e9df0);else{for(var _0x195cf1=_0x12fdae[_0x537c72(0x153)]-0x1;_0x195cf1>=0x0;_0x195cf1--)if(_0x413df7=_0x12fdae[_0x195cf1])_0x50d7bc=(_0x39ade1<0x3?_0x413df7(_0x50d7bc):_0x39ade1>0x3?_0x413df7(_0x3d18af,_0x42e2d6,_0x50d7bc):_0x413df7(_0x3d18af,_0x42e2d6))||_0x50d7bc;}return _0x39ade1>0x3&&_0x50d7bc&&Object[_0x537c72(0x159)](_0x3d18af,_0x42e2d6,_0x50d7bc),_0x50d7bc;},__metadata=this&&this[a201_0x156f54(0x10d)]||function(_0x37679c,_0x173a98){const _0x3da813=a201_0x156f54;if(typeof Reflect==='object'&&typeof Reflect[_0x3da813(0x125)]===_0x3da813(0x14f))return Reflect[_0x3da813(0x125)](_0x37679c,_0x173a98);},__param=this&&this[a201_0x156f54(0x150)]||function(_0xa37cea,_0x1179af){return function(_0x523d2a,_0x4b0393){_0x1179af(_0x523d2a,_0x4b0393,_0xa37cea);};};Object[a201_0x156f54(0x159)](exports,a201_0x156f54(0x139),{'value':!![]}),exports[a201_0x156f54(0x127)]=void 0x0;const bad_request_error_1=require(a201_0x156f54(0x148)),not_found_error_1=require(a201_0x156f54(0x123)),typedi_1=require(a201_0x156f54(0x11f)),api_error_1=require(a201_0x156f54(0x131)),bitbucket_server_api_service_1=require(a201_0x156f54(0x12c)),git_internal_1=require('../../../internal/git.internal'),utils_1=require(a201_0x156f54(0x147)),repo_class_1=require(a201_0x156f54(0x11b)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a201_0x156f54(0x149)),bitbucket_server_credentials_dto_1=require(a201_0x156f54(0x126));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x156f54(0x10c)]{constructor(_0x5ad6fc,_0x21fa7e){const _0x208a90=a201_0x156f54;super(_0x5ad6fc),this['api']=_0x5ad6fc,this[_0x208a90(0x152)]=_0x21fa7e[_0x208a90(0x152)],this[_0x208a90(0x13b)]=_0x21fa7e;}async['create'](_0x186b6f){const _0x363143=a201_0x156f54;try{const _0x3753f5={'name':_0x186b6f[_0x363143(0x145)],'scmId':_0x363143(0x158),'defaultBranch':_0x186b6f[_0x363143(0x144)],..._0x186b6f[_0x363143(0x124)]||{}},_0x2817a8=await this[_0x363143(0x118)][_0x363143(0x120)](_0x363143(0x115)+this[_0x363143(0x152)]+_0x363143(0x13c),_0x3753f5),_0x5d275b=repo_class_1[_0x363143(0x113)]['fromBitbucketServer'](_0x2817a8,'',this[_0x363143(0x12f)],this[_0x363143(0x13b)]);return _0x186b6f[_0x363143(0x146)]&&await git_internal_1['Git'][_0x363143(0x13d)](_0x5d275b,_0x186b6f[_0x363143(0x144)]||_0x363143(0x11c),'',this[_0x363143(0x13b)]),this[_0x363143(0x12e)](_0x5d275b['name']);}catch(_0x3d5a38){if(_0x3d5a38 instanceof api_error_1[_0x363143(0x13a)])throw _0x3d5a38;throw new bad_request_error_1[(_0x363143(0x128))](_0x3d5a38);}}async[a201_0x156f54(0x132)](){const _0x124eca=a201_0x156f54;try{const _0x14d4d2=[];let _0x309d34;do{_0x309d34=await this[_0x124eca(0x118)][_0x124eca(0x13f)](_0x124eca(0x115)+this[_0x124eca(0x152)]+_0x124eca(0x13c),{'params':{'limit':0x64,'start':_0x309d34?_0x309d34[_0x124eca(0x11e)]:0x0}}),_0x14d4d2['push'](..._0x309d34['values']);}while(!_0x309d34[_0x124eca(0x119)]);return _0x14d4d2[_0x124eca(0x15a)](_0x1102fe=>repo_class_1['Repo']['fromBitbucketServer'](_0x1102fe,(0x0,utils_1[_0x124eca(0x138)])(this[_0x124eca(0x118)]['defaults'][_0x124eca(0x10f)]||'',_0x124eca(0x12b)+this['project']+_0x124eca(0x137)+_0x1102fe[_0x124eca(0x134)]),this[_0x124eca(0x12f)],this['credentials']));}catch(_0x4a9571){if(_0x4a9571 instanceof api_error_1[_0x124eca(0x13a)])throw _0x4a9571;throw new not_found_error_1[(_0x124eca(0x12d))](_0x4a9571);}}async['getOne'](_0x3da03d){const _0x2196b8=a201_0x156f54;var _0x59dd9c;try{const _0x22485a=await this[_0x2196b8(0x118)][_0x2196b8(0x13f)](_0x2196b8(0x115)+this[_0x2196b8(0x152)]+'/repos/'+_0x3da03d),_0x33af64=repo_class_1[_0x2196b8(0x113)]['fromBitbucketServer'](_0x22485a,(0x0,utils_1[_0x2196b8(0x138)])(this[_0x2196b8(0x118)][_0x2196b8(0x157)][_0x2196b8(0x10f)]||'','/projects/'+this[_0x2196b8(0x152)]+'/repos/'+_0x3da03d),this[_0x2196b8(0x12f)],this[_0x2196b8(0x13b)]),_0x4010f3=await this[_0x2196b8(0x118)][_0x2196b8(0x13f)](_0x33af64[_0x2196b8(0x15b)]+_0x2196b8(0x114))['then'](_0x5ebd19=>_0x5ebd19[_0x2196b8(0x151)]);return _0x33af64[_0x2196b8(0x144)]=(_0x59dd9c=_0x4010f3[_0x2196b8(0x156)](_0x17be7d=>_0x17be7d[_0x2196b8(0x142)]===!![]))===null||_0x59dd9c===void 0x0?void 0x0:_0x59dd9c[_0x2196b8(0x14d)],_0x33af64;}catch(_0x3a904f){if(_0x3a904f instanceof api_error_1[_0x2196b8(0x13a)])throw _0x3a904f;throw new not_found_error_1[(_0x2196b8(0x12d))](_0x3a904f);}}async[a201_0x156f54(0x10b)](_0x14931d,_0x2a0241){const _0x181ce1=a201_0x156f54;try{const _0x1a1b44=await this['request']['put'](_0x181ce1(0x115)+this[_0x181ce1(0x152)]+'/repos/'+_0x14931d,_0x2a0241),_0x3fc1ea=await this[_0x181ce1(0x118)][_0x181ce1(0x13f)](_0x181ce1(0x115)+this[_0x181ce1(0x152)]+_0x181ce1(0x137)+_0x14931d+_0x181ce1(0x116)),_0x5d7c0c=repo_class_1[_0x181ce1(0x113)][_0x181ce1(0x12a)](_0x1a1b44,(0x0,utils_1['joinURL'])(this[_0x181ce1(0x118)][_0x181ce1(0x157)][_0x181ce1(0x10f)]||'','/projects/'+this['project']+_0x181ce1(0x137)+_0x14931d),this[_0x181ce1(0x12f)],this['credentials']);return _0x5d7c0c[_0x181ce1(0x144)]=_0x3fc1ea[_0x181ce1(0x14d)],_0x5d7c0c;}catch(_0x20c0d4){if(_0x20c0d4 instanceof api_error_1[_0x181ce1(0x13a)])throw _0x20c0d4;throw new not_found_error_1[(_0x181ce1(0x12d))](_0x20c0d4);}}async[a201_0x156f54(0x141)](_0x5f4958){const _0x167b0f=a201_0x156f54;try{await this[_0x167b0f(0x12e)](_0x5f4958),await this[_0x167b0f(0x118)][_0x167b0f(0x141)](_0x167b0f(0x115)+this[_0x167b0f(0x152)]+_0x167b0f(0x137)+_0x5f4958);}catch(_0x49ca18){if(_0x49ca18 instanceof api_error_1['ApiError'])throw _0x49ca18;throw new bad_request_error_1[(_0x167b0f(0x128))](_0x49ca18);}}};function a201_0x1bb6(_0x106527,_0x30aafd){const _0x3cf79d=a201_0x2092();return a201_0x1bb6=function(_0x5c403d,_0x3b009c){_0x5c403d=_0x5c403d-0x10b;let _0x20924d=_0x3cf79d[_0x5c403d];return _0x20924d;},a201_0x1bb6(_0x106527,_0x30aafd);}BitbucketServerRepoService=__decorate([(0x0,typedi_1[a201_0x156f54(0x143)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a201_0x156f54(0x11a)][a201_0x156f54(0x13b)])),__metadata(a201_0x156f54(0x14c),[bitbucket_server_api_service_1[a201_0x156f54(0x129)],bitbucket_server_credentials_dto_1[a201_0x156f54(0x14b)]])],BitbucketServerRepoService),exports[a201_0x156f54(0x127)]=BitbucketServerRepoService;