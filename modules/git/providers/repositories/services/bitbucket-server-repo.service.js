const a212_0x1e522a=a212_0x1daf;(function(_0x2b8e89,_0x5d8ce2){const _0xfc9d54=a212_0x1daf,_0x4727de=_0x2b8e89();while(!![]){try{const _0x2969f2=-parseInt(_0xfc9d54(0x9f))/0x1+-parseInt(_0xfc9d54(0xdd))/0x2*(parseInt(_0xfc9d54(0xcc))/0x3)+parseInt(_0xfc9d54(0xae))/0x4+-parseInt(_0xfc9d54(0xb0))/0x5*(-parseInt(_0xfc9d54(0xd6))/0x6)+-parseInt(_0xfc9d54(0xbc))/0x7*(parseInt(_0xfc9d54(0xc1))/0x8)+parseInt(_0xfc9d54(0xde))/0x9+-parseInt(_0xfc9d54(0xd4))/0xa*(parseInt(_0xfc9d54(0xe0))/0xb);if(_0x2969f2===_0x5d8ce2)break;else _0x4727de['push'](_0x4727de['shift']());}catch(_0x628488){_0x4727de['push'](_0x4727de['shift']());}}}(a212_0x4403,0xa8c01));const a212_0x2911ec=(function(){let _0x4bdfde=!![];return function(_0x4b7166,_0x130885){const _0x127e91=_0x4bdfde?function(){const _0xa964dd=a212_0x1daf;if(_0x130885){const _0x372ede=_0x130885[_0xa964dd(0xa9)](_0x4b7166,arguments);return _0x130885=null,_0x372ede;}}:function(){};return _0x4bdfde=![],_0x127e91;};}()),a212_0x148f93=a212_0x2911ec(this,function(){const _0x5cf930=a212_0x1daf;return a212_0x148f93[_0x5cf930(0xc4)]()[_0x5cf930(0xbb)](_0x5cf930(0xa1))['toString']()['constructor'](a212_0x148f93)[_0x5cf930(0xbb)](_0x5cf930(0xa1));});function a212_0x1daf(_0x1caa40,_0x4249cb){const _0x25966f=a212_0x4403();return a212_0x1daf=function(_0x148f93,_0x2911ec){_0x148f93=_0x148f93-0x91;let _0x4403bd=_0x25966f[_0x148f93];return _0x4403bd;},a212_0x1daf(_0x1caa40,_0x4249cb);}a212_0x148f93();'use strict';var __decorate=this&&this[a212_0x1e522a(0xa5)]||function(_0x1212fc,_0x4d9986,_0x3a4e7a,_0x39e440){const _0x2c8953=a212_0x1e522a;var _0x1111d4=arguments['length'],_0x250757=_0x1111d4<0x3?_0x4d9986:_0x39e440===null?_0x39e440=Object[_0x2c8953(0xda)](_0x4d9986,_0x3a4e7a):_0x39e440,_0x4459fc;if(typeof Reflect===_0x2c8953(0xd0)&&typeof Reflect[_0x2c8953(0x94)]===_0x2c8953(0xbd))_0x250757=Reflect['decorate'](_0x1212fc,_0x4d9986,_0x3a4e7a,_0x39e440);else{for(var _0x455f5a=_0x1212fc['length']-0x1;_0x455f5a>=0x0;_0x455f5a--)if(_0x4459fc=_0x1212fc[_0x455f5a])_0x250757=(_0x1111d4<0x3?_0x4459fc(_0x250757):_0x1111d4>0x3?_0x4459fc(_0x4d9986,_0x3a4e7a,_0x250757):_0x4459fc(_0x4d9986,_0x3a4e7a))||_0x250757;}return _0x1111d4>0x3&&_0x250757&&Object[_0x2c8953(0xe2)](_0x4d9986,_0x3a4e7a,_0x250757),_0x250757;},__metadata=this&&this[a212_0x1e522a(0xca)]||function(_0x2a71b9,_0x17b322){const _0x1c46c0=a212_0x1e522a;if(typeof Reflect===_0x1c46c0(0xd0)&&typeof Reflect[_0x1c46c0(0xac)]===_0x1c46c0(0xbd))return Reflect['metadata'](_0x2a71b9,_0x17b322);},__param=this&&this[a212_0x1e522a(0xc6)]||function(_0x767792,_0xf108d0){return function(_0x3e572f,_0x1bda71){_0xf108d0(_0x3e572f,_0x1bda71,_0x767792);};};Object[a212_0x1e522a(0xe2)](exports,a212_0x1e522a(0xb6),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a212_0x1e522a(0xa2)),not_found_error_1=require(a212_0x1e522a(0xd8)),typedi_1=require(a212_0x1e522a(0xe1)),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a212_0x1e522a(0xaa)),git_internal_1=require(a212_0x1e522a(0x98)),utils_1=require(a212_0x1e522a(0xbe)),repo_class_1=require(a212_0x1e522a(0xa7)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a212_0x1e522a(0xd7)),bitbucket_server_credentials_dto_1=require(a212_0x1e522a(0xc5));function a212_0x4403(){const _0x77e394=['NotFoundError','1998iAukuw','request','Service','isDefault','object','name','credentials','isLastPage','10NAJkaO','then','1321566eITUaW','../../providers.tokens','../../../../../core/errors/not-found.error','projects/','getOwnPropertyDescriptor','slug','joinURL','3254ZfrOOX','12294990eAqRtW','Repo','518595MKqLGW','typedi','defineProperty','getOne','post','BitbucketServerCredentialsDto','decorate','update','/projects/','values','../../../internal/git.internal','get','autoInit','baseURL','GitRepoService','apiUrl','createEmptyBranch','137883AgHQJb','/default-branch','(((.+)+)+)+$','../../../../../core/errors/bad-request.error','design:paramtypes','BitbucketServerRepoService','__decorate','Tokens','../repo.class','project','apply','../../api/bitbucket-server-api.service','git','metadata','master','2648200LbQOpS','getAll','20hxHPgu','/branches','defaultBranch','Git','map','BadRequestError','__esModule','defaults','Inject','delete','fromBitbucketServer','search','6645751yhwLiY','function','../../../../shared/utils','nextPageStart','push','8RjoVjP','/repos/','displayId','toString','../../credentials/dto/bitbucket-server-credentials.dto','__param','find','ApiError','api','__metadata'];a212_0x4403=function(){return _0x77e394;};return a212_0x4403();}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a212_0x1e522a(0x9c)]{constructor(_0x346cc0,_0x214cd4){const _0x31b495=a212_0x1e522a;super(_0x346cc0),this[_0x31b495(0xc9)]=_0x346cc0,this[_0x31b495(0xa8)]=_0x214cd4[_0x31b495(0xa8)],this[_0x31b495(0xd2)]=_0x214cd4;}async['create'](_0x3eca21){const _0xda4bc=a212_0x1e522a;try{const _0x351af5={'name':_0x3eca21[_0xda4bc(0xd1)],'scmId':_0xda4bc(0xab),'defaultBranch':_0x3eca21[_0xda4bc(0xb2)],..._0x3eca21['apiBody']||{}},_0x3dbac3=await this[_0xda4bc(0xcd)][_0xda4bc(0x92)](_0xda4bc(0xd9)+this[_0xda4bc(0xa8)]+'/repos',_0x351af5),_0x24ed67=repo_class_1[_0xda4bc(0xdf)][_0xda4bc(0xba)](_0x3dbac3,'',this[_0xda4bc(0xc9)],this[_0xda4bc(0xd2)]);return _0x3eca21[_0xda4bc(0x9a)]&&await git_internal_1[_0xda4bc(0xb3)][_0xda4bc(0x9e)](_0x24ed67,_0x3eca21[_0xda4bc(0xb2)]||_0xda4bc(0xad),'',this[_0xda4bc(0xd2)]),this['getOne'](_0x24ed67[_0xda4bc(0xd1)]);}catch(_0x228cf6){if(_0x228cf6 instanceof api_error_1[_0xda4bc(0xc8)])throw _0x228cf6;throw new bad_request_error_1[(_0xda4bc(0xb5))](_0x228cf6);}}async[a212_0x1e522a(0xaf)](){const _0x4654f9=a212_0x1e522a;try{const _0x292437=[];let _0x17e50f;do{_0x17e50f=await this[_0x4654f9(0xcd)][_0x4654f9(0x99)](_0x4654f9(0xd9)+this['project']+'/repos',{'params':{'limit':0x64,'start':_0x17e50f?_0x17e50f[_0x4654f9(0xbf)]:0x0}}),_0x292437[_0x4654f9(0xc0)](..._0x17e50f['values']);}while(!_0x17e50f[_0x4654f9(0xd3)]);return _0x292437[_0x4654f9(0xb4)](_0x34593f=>repo_class_1[_0x4654f9(0xdf)][_0x4654f9(0xba)](_0x34593f,(0x0,utils_1['joinURL'])(this[_0x4654f9(0xcd)][_0x4654f9(0xb7)]['baseURL']||'',_0x4654f9(0x96)+this[_0x4654f9(0xa8)]+_0x4654f9(0xc2)+_0x34593f[_0x4654f9(0xdb)]),this['api'],this[_0x4654f9(0xd2)]));}catch(_0x5bdd7c){if(_0x5bdd7c instanceof api_error_1[_0x4654f9(0xc8)])throw _0x5bdd7c;throw new not_found_error_1[(_0x4654f9(0xcb))](_0x5bdd7c);}}async[a212_0x1e522a(0x91)](_0x3b007a){const _0x1ee533=a212_0x1e522a;var _0x270775;try{const _0x3bca83=await this['request'][_0x1ee533(0x99)](_0x1ee533(0xd9)+this[_0x1ee533(0xa8)]+_0x1ee533(0xc2)+_0x3b007a),_0x19306c=repo_class_1['Repo'][_0x1ee533(0xba)](_0x3bca83,(0x0,utils_1[_0x1ee533(0xdc)])(this[_0x1ee533(0xcd)][_0x1ee533(0xb7)][_0x1ee533(0x9b)]||'','/projects/'+this[_0x1ee533(0xa8)]+_0x1ee533(0xc2)+_0x3b007a),this[_0x1ee533(0xc9)],this['credentials']),_0x5ef37d=await this[_0x1ee533(0xcd)][_0x1ee533(0x99)](_0x19306c[_0x1ee533(0x9d)]+_0x1ee533(0xb1))[_0x1ee533(0xd5)](_0x768261=>_0x768261[_0x1ee533(0x97)]);return _0x19306c[_0x1ee533(0xb2)]=(_0x270775=_0x5ef37d[_0x1ee533(0xc7)](_0x1a3b50=>_0x1a3b50[_0x1ee533(0xcf)]===!![]))===null||_0x270775===void 0x0?void 0x0:_0x270775[_0x1ee533(0xc3)],_0x19306c;}catch(_0x4948c7){if(_0x4948c7 instanceof api_error_1[_0x1ee533(0xc8)])throw _0x4948c7;throw new not_found_error_1[(_0x1ee533(0xcb))](_0x4948c7);}}async[a212_0x1e522a(0x95)](_0x552875,_0x54d534){const _0x23ba0c=a212_0x1e522a;try{const _0x592933=await this['request']['put'](_0x23ba0c(0xd9)+this['project']+_0x23ba0c(0xc2)+_0x552875,_0x54d534),_0x487b70=await this['request']['get'](_0x23ba0c(0xd9)+this['project']+_0x23ba0c(0xc2)+_0x552875+_0x23ba0c(0xa0)),_0x2e7874=repo_class_1[_0x23ba0c(0xdf)][_0x23ba0c(0xba)](_0x592933,(0x0,utils_1[_0x23ba0c(0xdc)])(this[_0x23ba0c(0xcd)]['defaults'][_0x23ba0c(0x9b)]||'','/projects/'+this[_0x23ba0c(0xa8)]+_0x23ba0c(0xc2)+_0x552875),this[_0x23ba0c(0xc9)],this[_0x23ba0c(0xd2)]);return _0x2e7874[_0x23ba0c(0xb2)]=_0x487b70[_0x23ba0c(0xc3)],_0x2e7874;}catch(_0x1a8759){if(_0x1a8759 instanceof api_error_1['ApiError'])throw _0x1a8759;throw new not_found_error_1[(_0x23ba0c(0xcb))](_0x1a8759);}}async[a212_0x1e522a(0xb9)](_0x2ef343){const _0x55b159=a212_0x1e522a;try{await this[_0x55b159(0x91)](_0x2ef343),await this[_0x55b159(0xcd)][_0x55b159(0xb9)]('projects/'+this[_0x55b159(0xa8)]+_0x55b159(0xc2)+_0x2ef343);}catch(_0x3ccb46){if(_0x3ccb46 instanceof api_error_1['ApiError'])throw _0x3ccb46;throw new bad_request_error_1['BadRequestError'](_0x3ccb46);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a212_0x1e522a(0xce)])(),__param(0x1,(0x0,typedi_1[a212_0x1e522a(0xb8)])(providers_tokens_1[a212_0x1e522a(0xa6)]['credentials'])),__metadata(a212_0x1e522a(0xa3),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1[a212_0x1e522a(0x93)]])],BitbucketServerRepoService),exports[a212_0x1e522a(0xa4)]=BitbucketServerRepoService;