const a206_0x15adba=a206_0x155d;(function(_0x415a27,_0x4df27a){const _0x64ac96=a206_0x155d,_0x4c03ee=_0x415a27();while(!![]){try{const _0x937e65=parseInt(_0x64ac96(0x185))/0x1*(-parseInt(_0x64ac96(0x16d))/0x2)+-parseInt(_0x64ac96(0x184))/0x3+parseInt(_0x64ac96(0x165))/0x4+parseInt(_0x64ac96(0x194))/0x5+-parseInt(_0x64ac96(0x17f))/0x6*(-parseInt(_0x64ac96(0x17e))/0x7)+parseInt(_0x64ac96(0x17d))/0x8*(-parseInt(_0x64ac96(0x18f))/0x9)+parseInt(_0x64ac96(0x191))/0xa*(-parseInt(_0x64ac96(0x164))/0xb);if(_0x937e65===_0x4df27a)break;else _0x4c03ee['push'](_0x4c03ee['shift']());}catch(_0x34622a){_0x4c03ee['push'](_0x4c03ee['shift']());}}}(a206_0x3b12,0x772a7));const a206_0x21e493=(function(){let _0x1f6c2f=!![];return function(_0xb2f65,_0x29a88a){const _0x9dcfa=_0x1f6c2f?function(){if(_0x29a88a){const _0x47af14=_0x29a88a['apply'](_0xb2f65,arguments);return _0x29a88a=null,_0x47af14;}}:function(){};return _0x1f6c2f=![],_0x9dcfa;};}()),a206_0x1da61e=a206_0x21e493(this,function(){const _0xe13a05=a206_0x155d;return a206_0x1da61e[_0xe13a05(0x197)]()[_0xe13a05(0x178)](_0xe13a05(0x174))[_0xe13a05(0x197)]()[_0xe13a05(0x181)](a206_0x1da61e)[_0xe13a05(0x178)](_0xe13a05(0x174));});a206_0x1da61e();'use strict';function a206_0x3b12(){const _0x2d944b=['decorate','nextPageStart','../../../internal/git.internal','NotFoundError','/repos','__esModule','../../../../../core/errors/api.error','getOne','projects/','name','defaults','Tokens','apiUrl','create','slug','BitbucketServerApiService','map','11gagqyV','3033684JccBGs','ApiError','joinURL','isDefault','BadRequestError','api','length','../../../../../core/errors/bad-request.error','647706sAGrex','project','getAll','BitbucketServerRepoService','/repos/','values','./git-repo.service','(((.+)+)+)+$','design:paramtypes','fromBitbucketServer','autoInit','search','credentials','Repo','push','function','173112kLucvq','43890biLTxW','894xIuUWr','../../providers.tokens','constructor','createEmptyBranch','request','107397rhQELm','1iWTlgc','post','apiBody','baseURL','defineProperty','Service','delete','get','find','../../api/bitbucket-server-api.service','27vspNgs','../repo.class','13486240lYpgVb','../../credentials/dto/bitbucket-server-credentials.dto','__metadata','2843225NUaXSZ','displayId','/projects/','toString','typedi','defaultBranch','__decorate','metadata','then','__param'];a206_0x3b12=function(){return _0x2d944b;};return a206_0x3b12();}var __decorate=this&&this[a206_0x15adba(0x19a)]||function(_0x369d51,_0x3a5cef,_0x2168db,_0x568566){const _0x3e43bc=a206_0x15adba;var _0x1f23a4=arguments[_0x3e43bc(0x16b)],_0x305adb=_0x1f23a4<0x3?_0x3a5cef:_0x568566===null?_0x568566=Object['getOwnPropertyDescriptor'](_0x3a5cef,_0x2168db):_0x568566,_0x244247;if(typeof Reflect==='object'&&typeof Reflect[_0x3e43bc(0x19e)]===_0x3e43bc(0x17c))_0x305adb=Reflect[_0x3e43bc(0x19e)](_0x369d51,_0x3a5cef,_0x2168db,_0x568566);else{for(var _0xee7edf=_0x369d51[_0x3e43bc(0x16b)]-0x1;_0xee7edf>=0x0;_0xee7edf--)if(_0x244247=_0x369d51[_0xee7edf])_0x305adb=(_0x1f23a4<0x3?_0x244247(_0x305adb):_0x1f23a4>0x3?_0x244247(_0x3a5cef,_0x2168db,_0x305adb):_0x244247(_0x3a5cef,_0x2168db))||_0x305adb;}return _0x1f23a4>0x3&&_0x305adb&&Object[_0x3e43bc(0x189)](_0x3a5cef,_0x2168db,_0x305adb),_0x305adb;},__metadata=this&&this[a206_0x15adba(0x193)]||function(_0x1ad3a9,_0x3edbac){const _0x1138a9=a206_0x15adba;if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect[_0x1138a9(0x19b)](_0x1ad3a9,_0x3edbac);},__param=this&&this[a206_0x15adba(0x19d)]||function(_0x1cbafb,_0x1ff8ec){return function(_0x1c774b,_0x2228e3){_0x1ff8ec(_0x1c774b,_0x2228e3,_0x1cbafb);};};Object[a206_0x15adba(0x189)](exports,a206_0x15adba(0x1a3),{'value':!![]}),exports[a206_0x15adba(0x170)]=void 0x0;function a206_0x155d(_0x2774f8,_0x1bf130){const _0x2dbae8=a206_0x3b12();return a206_0x155d=function(_0x1da61e,_0x21e493){_0x1da61e=_0x1da61e-0x159;let _0x3b1243=_0x2dbae8[_0x1da61e];return _0x3b1243;},a206_0x155d(_0x2774f8,_0x1bf130);}const bad_request_error_1=require(a206_0x15adba(0x16c)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a206_0x15adba(0x198)),api_error_1=require(a206_0x15adba(0x159)),bitbucket_server_api_service_1=require(a206_0x15adba(0x18e)),git_internal_1=require(a206_0x15adba(0x1a0)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a206_0x15adba(0x190)),git_repo_service_1=require(a206_0x15adba(0x173)),providers_tokens_1=require(a206_0x15adba(0x180)),bitbucket_server_credentials_dto_1=require(a206_0x15adba(0x192));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x2b50c0,_0x379309){const _0x2a493d=a206_0x15adba;super(_0x2b50c0),this['api']=_0x2b50c0,this[_0x2a493d(0x16e)]=_0x379309[_0x2a493d(0x16e)],this[_0x2a493d(0x179)]=_0x379309;}async[a206_0x15adba(0x160)](_0x1236fa){const _0x3c6606=a206_0x15adba;try{const _0x4b3398={'name':_0x1236fa[_0x3c6606(0x15c)],'scmId':'git','defaultBranch':_0x1236fa['defaultBranch'],..._0x1236fa[_0x3c6606(0x187)]||{}},_0x389824=await this[_0x3c6606(0x183)][_0x3c6606(0x186)](_0x3c6606(0x15b)+this[_0x3c6606(0x16e)]+_0x3c6606(0x1a2),_0x4b3398),_0x26377d=repo_class_1['Repo'][_0x3c6606(0x176)](_0x389824,'',this[_0x3c6606(0x16a)],this['credentials']);return _0x1236fa[_0x3c6606(0x177)]&&await git_internal_1['Git'][_0x3c6606(0x182)](_0x26377d,_0x1236fa[_0x3c6606(0x199)]||'master','',this['credentials']),this[_0x3c6606(0x15a)](_0x26377d['name']);}catch(_0x2103bd){if(_0x2103bd instanceof api_error_1[_0x3c6606(0x166)])throw _0x2103bd;throw new bad_request_error_1[(_0x3c6606(0x169))](_0x2103bd);}}async[a206_0x15adba(0x16f)](){const _0x37ef54=a206_0x15adba;try{const _0x3799e6=[];let _0x5d5f73;do{_0x5d5f73=await this[_0x37ef54(0x183)][_0x37ef54(0x18c)](_0x37ef54(0x15b)+this[_0x37ef54(0x16e)]+_0x37ef54(0x1a2),{'params':{'limit':0x64,'start':_0x5d5f73?_0x5d5f73[_0x37ef54(0x19f)]:0x0}}),_0x3799e6[_0x37ef54(0x17b)](..._0x5d5f73[_0x37ef54(0x172)]);}while(!_0x5d5f73['isLastPage']);return _0x3799e6[_0x37ef54(0x163)](_0x19fea0=>repo_class_1['Repo'][_0x37ef54(0x176)](_0x19fea0,(0x0,utils_1[_0x37ef54(0x167)])(this['request'][_0x37ef54(0x15d)][_0x37ef54(0x188)]||'',_0x37ef54(0x196)+this[_0x37ef54(0x16e)]+'/repos/'+_0x19fea0[_0x37ef54(0x161)]),this[_0x37ef54(0x16a)],this['credentials']));}catch(_0xe034e9){if(_0xe034e9 instanceof api_error_1[_0x37ef54(0x166)])throw _0xe034e9;throw new not_found_error_1[(_0x37ef54(0x1a1))](_0xe034e9);}}async[a206_0x15adba(0x15a)](_0x187c57){const _0x3cdd4c=a206_0x15adba;var _0x1ef4ef;try{const _0x40a45e=await this[_0x3cdd4c(0x183)][_0x3cdd4c(0x18c)](_0x3cdd4c(0x15b)+this[_0x3cdd4c(0x16e)]+_0x3cdd4c(0x171)+_0x187c57),_0x54ef63=repo_class_1[_0x3cdd4c(0x17a)][_0x3cdd4c(0x176)](_0x40a45e,(0x0,utils_1[_0x3cdd4c(0x167)])(this[_0x3cdd4c(0x183)]['defaults'][_0x3cdd4c(0x188)]||'',_0x3cdd4c(0x196)+this['project']+_0x3cdd4c(0x171)+_0x187c57),this[_0x3cdd4c(0x16a)],this[_0x3cdd4c(0x179)]),_0x49e805=await this[_0x3cdd4c(0x183)][_0x3cdd4c(0x18c)](_0x54ef63[_0x3cdd4c(0x15f)]+'/branches')[_0x3cdd4c(0x19c)](_0x1f9e85=>_0x1f9e85[_0x3cdd4c(0x172)]);return _0x54ef63[_0x3cdd4c(0x199)]=(_0x1ef4ef=_0x49e805[_0x3cdd4c(0x18d)](_0x64e130=>_0x64e130[_0x3cdd4c(0x168)]===!![]))===null||_0x1ef4ef===void 0x0?void 0x0:_0x1ef4ef[_0x3cdd4c(0x195)],_0x54ef63;}catch(_0x4bddbd){if(_0x4bddbd instanceof api_error_1[_0x3cdd4c(0x166)])throw _0x4bddbd;throw new not_found_error_1['NotFoundError'](_0x4bddbd);}}async['update'](_0x4fa372,_0x2bd187){const _0x428e49=a206_0x15adba;try{const _0xc697ab=await this[_0x428e49(0x183)]['put']('projects/'+this[_0x428e49(0x16e)]+'/repos/'+_0x4fa372,_0x2bd187),_0x1a6a3b=await this[_0x428e49(0x183)][_0x428e49(0x18c)]('projects/'+this['project']+'/repos/'+_0x4fa372+'/default-branch'),_0x28e64c=repo_class_1[_0x428e49(0x17a)]['fromBitbucketServer'](_0xc697ab,(0x0,utils_1[_0x428e49(0x167)])(this[_0x428e49(0x183)][_0x428e49(0x15d)]['baseURL']||'',_0x428e49(0x196)+this[_0x428e49(0x16e)]+_0x428e49(0x171)+_0x4fa372),this[_0x428e49(0x16a)],this[_0x428e49(0x179)]);return _0x28e64c[_0x428e49(0x199)]=_0x1a6a3b[_0x428e49(0x195)],_0x28e64c;}catch(_0x4df039){if(_0x4df039 instanceof api_error_1[_0x428e49(0x166)])throw _0x4df039;throw new not_found_error_1[(_0x428e49(0x1a1))](_0x4df039);}}async['delete'](_0x2843c6){const _0x4ac0d5=a206_0x15adba;try{await this[_0x4ac0d5(0x15a)](_0x2843c6),await this[_0x4ac0d5(0x183)][_0x4ac0d5(0x18b)](_0x4ac0d5(0x15b)+this['project']+'/repos/'+_0x2843c6);}catch(_0x1f6fba){if(_0x1f6fba instanceof api_error_1[_0x4ac0d5(0x166)])throw _0x1f6fba;throw new bad_request_error_1[(_0x4ac0d5(0x169))](_0x1f6fba);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x15adba(0x18a)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a206_0x15adba(0x15e)][a206_0x15adba(0x179)])),__metadata(a206_0x15adba(0x175),[bitbucket_server_api_service_1[a206_0x15adba(0x162)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a206_0x15adba(0x170)]=BitbucketServerRepoService;