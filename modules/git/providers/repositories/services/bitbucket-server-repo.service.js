function a206_0x13cd(){const _0x327af7=['project','Git','NotFoundError','342876xOMnAv','map','1152620PvcSov','metadata','getAll','253748ykwVOv','createEmptyBranch','Service','length','__param','isDefault','./git-repo.service','getOne','GitRepoService','/branches','put','../../../../../core/errors/not-found.error','design:paramtypes','then','BitbucketServerRepoService','typedi','update','joinURL','fromBitbucketServer','BitbucketServerCredentialsDto','name','ApiError','delete','create','/repos/','(((.+)+)+)+$','request','../../credentials/dto/bitbucket-server-credentials.dto','nextPageStart','1736154DAeqsd','defineProperty','../../api/bitbucket-server-api.service','115504YDzUbU','../../../internal/git.internal','Repo','26533VvXTDP','getOwnPropertyDescriptor','341154VATVpe','get','credentials','/repos','defaultBranch','BadRequestError','defaults','apiUrl','10hlnpey','__decorate','search','projects/','BitbucketServerApiService','__metadata','function','toString','api','git','post','baseURL','slug','apiBody','/projects/','/default-branch','displayId','../../../../../core/errors/api.error','decorate','values'];a206_0x13cd=function(){return _0x327af7;};return a206_0x13cd();}const a206_0x3af7ac=a206_0x3f56;function a206_0x3f56(_0x201f66,_0x5eabd3){const _0x1a13cc=a206_0x13cd();return a206_0x3f56=function(_0xacced1,_0x4f9bab){_0xacced1=_0xacced1-0xc7;let _0x13cdcf=_0x1a13cc[_0xacced1];return _0x13cdcf;},a206_0x3f56(_0x201f66,_0x5eabd3);}(function(_0x59d560,_0x593451){const _0x45d36f=a206_0x3f56,_0x33724f=_0x59d560();while(!![]){try{const _0x5f0a79=parseInt(_0x45d36f(0xe2))/0x1*(parseInt(_0x45d36f(0xec))/0x2)+parseInt(_0x45d36f(0xe4))/0x3+-parseInt(_0x45d36f(0x108))/0x4+-parseInt(_0x45d36f(0x105))/0x5+-parseInt(_0x45d36f(0x103))/0x6+parseInt(_0x45d36f(0xdc))/0x7+-parseInt(_0x45d36f(0xdf))/0x8;if(_0x5f0a79===_0x593451)break;else _0x33724f['push'](_0x33724f['shift']());}catch(_0x9c798){_0x33724f['push'](_0x33724f['shift']());}}}(a206_0x13cd,0x1f75c));const a206_0x4f9bab=(function(){let _0xa24d91=!![];return function(_0x2800ad,_0x20e859){const _0x5c7467=_0xa24d91?function(){if(_0x20e859){const _0x45d066=_0x20e859['apply'](_0x2800ad,arguments);return _0x20e859=null,_0x45d066;}}:function(){};return _0xa24d91=![],_0x5c7467;};}()),a206_0xacced1=a206_0x4f9bab(this,function(){const _0xe7a1e7=a206_0x3f56;return a206_0xacced1[_0xe7a1e7(0xf3)]()[_0xe7a1e7(0xee)](_0xe7a1e7(0xd8))['toString']()['constructor'](a206_0xacced1)['search'](_0xe7a1e7(0xd8));});a206_0xacced1();'use strict';var __decorate=this&&this[a206_0x3af7ac(0xed)]||function(_0x62c412,_0x5a4600,_0x382472,_0x39cb11){const _0x4fd069=a206_0x3af7ac;var _0x52ab05=arguments[_0x4fd069(0x10b)],_0x2ecfcf=_0x52ab05<0x3?_0x5a4600:_0x39cb11===null?_0x39cb11=Object[_0x4fd069(0xe3)](_0x5a4600,_0x382472):_0x39cb11,_0x197424;if(typeof Reflect==='object'&&typeof Reflect[_0x4fd069(0xfe)]===_0x4fd069(0xf2))_0x2ecfcf=Reflect[_0x4fd069(0xfe)](_0x62c412,_0x5a4600,_0x382472,_0x39cb11);else{for(var _0x4cde74=_0x62c412[_0x4fd069(0x10b)]-0x1;_0x4cde74>=0x0;_0x4cde74--)if(_0x197424=_0x62c412[_0x4cde74])_0x2ecfcf=(_0x52ab05<0x3?_0x197424(_0x2ecfcf):_0x52ab05>0x3?_0x197424(_0x5a4600,_0x382472,_0x2ecfcf):_0x197424(_0x5a4600,_0x382472))||_0x2ecfcf;}return _0x52ab05>0x3&&_0x2ecfcf&&Object['defineProperty'](_0x5a4600,_0x382472,_0x2ecfcf),_0x2ecfcf;},__metadata=this&&this[a206_0x3af7ac(0xf1)]||function(_0x5cc3f1,_0x3a9839){const _0x9409b=a206_0x3af7ac;if(typeof Reflect==='object'&&typeof Reflect[_0x9409b(0x106)]===_0x9409b(0xf2))return Reflect[_0x9409b(0x106)](_0x5cc3f1,_0x3a9839);},__param=this&&this[a206_0x3af7ac(0x10c)]||function(_0x7b5a50,_0x27075d){return function(_0x4a713e,_0x504272){_0x27075d(_0x4a713e,_0x504272,_0x7b5a50);};};Object[a206_0x3af7ac(0xdd)](exports,'__esModule',{'value':!![]}),exports[a206_0x3af7ac(0xcd)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a206_0x3af7ac(0xca)),typedi_1=require(a206_0x3af7ac(0xce)),api_error_1=require(a206_0x3af7ac(0xfd)),bitbucket_server_api_service_1=require(a206_0x3af7ac(0xde)),git_internal_1=require(a206_0x3af7ac(0xe0)),utils_1=require('../../../../shared/utils'),repo_class_1=require('../repo.class'),git_repo_service_1=require(a206_0x3af7ac(0x10e)),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a206_0x3af7ac(0xda));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x3af7ac(0xc7)]{constructor(_0x26ebd7,_0x240cef){const _0x59afde=a206_0x3af7ac;super(_0x26ebd7),this['api']=_0x26ebd7,this[_0x59afde(0x100)]=_0x240cef[_0x59afde(0x100)],this[_0x59afde(0xe6)]=_0x240cef;}async[a206_0x3af7ac(0xd6)](_0x415669){const _0x51541e=a206_0x3af7ac;try{const _0x3d99e7={'name':_0x415669[_0x51541e(0xd3)],'scmId':_0x51541e(0xf5),'defaultBranch':_0x415669['defaultBranch'],..._0x415669[_0x51541e(0xf9)]||{}},_0x1117da=await this['request'][_0x51541e(0xf6)](_0x51541e(0xef)+this['project']+_0x51541e(0xe7),_0x3d99e7),_0x4ed471=repo_class_1['Repo'][_0x51541e(0xd1)](_0x1117da,'',this['api'],this['credentials']);return _0x415669['autoInit']&&await git_internal_1[_0x51541e(0x101)][_0x51541e(0x109)](_0x4ed471,_0x415669[_0x51541e(0xe8)]||'master','',this['credentials']),this[_0x51541e(0x10f)](_0x4ed471[_0x51541e(0xd3)]);}catch(_0x47541e){if(_0x47541e instanceof api_error_1[_0x51541e(0xd4)])throw _0x47541e;throw new bad_request_error_1[(_0x51541e(0xe9))](_0x47541e);}}async[a206_0x3af7ac(0x107)](){const _0x13d773=a206_0x3af7ac;try{const _0x41ba3c=[];let _0x4d4ac6;do{_0x4d4ac6=await this[_0x13d773(0xd9)][_0x13d773(0xe5)](_0x13d773(0xef)+this[_0x13d773(0x100)]+'/repos',{'params':{'limit':0x64,'start':_0x4d4ac6?_0x4d4ac6[_0x13d773(0xdb)]:0x0}}),_0x41ba3c['push'](..._0x4d4ac6[_0x13d773(0xff)]);}while(!_0x4d4ac6['isLastPage']);return _0x41ba3c[_0x13d773(0x104)](_0x57b21e=>repo_class_1[_0x13d773(0xe1)][_0x13d773(0xd1)](_0x57b21e,(0x0,utils_1[_0x13d773(0xd0)])(this[_0x13d773(0xd9)][_0x13d773(0xea)][_0x13d773(0xf7)]||'',_0x13d773(0xfa)+this[_0x13d773(0x100)]+_0x13d773(0xd7)+_0x57b21e[_0x13d773(0xf8)]),this[_0x13d773(0xf4)],this['credentials']));}catch(_0x5916c6){if(_0x5916c6 instanceof api_error_1[_0x13d773(0xd4)])throw _0x5916c6;throw new not_found_error_1[(_0x13d773(0x102))](_0x5916c6);}}async[a206_0x3af7ac(0x10f)](_0x1b9096){const _0x163dfd=a206_0x3af7ac;var _0x27b725;try{const _0x27d308=await this['request']['get'](_0x163dfd(0xef)+this[_0x163dfd(0x100)]+_0x163dfd(0xd7)+_0x1b9096),_0x26e5be=repo_class_1['Repo'][_0x163dfd(0xd1)](_0x27d308,(0x0,utils_1['joinURL'])(this['request']['defaults'][_0x163dfd(0xf7)]||'','/projects/'+this[_0x163dfd(0x100)]+'/repos/'+_0x1b9096),this[_0x163dfd(0xf4)],this[_0x163dfd(0xe6)]),_0x3b0251=await this[_0x163dfd(0xd9)][_0x163dfd(0xe5)](_0x26e5be[_0x163dfd(0xeb)]+_0x163dfd(0xc8))[_0x163dfd(0xcc)](_0x5cbdc7=>_0x5cbdc7['values']);return _0x26e5be['defaultBranch']=(_0x27b725=_0x3b0251['find'](_0x18f48f=>_0x18f48f[_0x163dfd(0x10d)]===!![]))===null||_0x27b725===void 0x0?void 0x0:_0x27b725[_0x163dfd(0xfc)],_0x26e5be;}catch(_0x564771){if(_0x564771 instanceof api_error_1[_0x163dfd(0xd4)])throw _0x564771;throw new not_found_error_1[(_0x163dfd(0x102))](_0x564771);}}async[a206_0x3af7ac(0xcf)](_0xd89821,_0x3048f1){const _0x12ff16=a206_0x3af7ac;try{const _0x52baeb=await this[_0x12ff16(0xd9)][_0x12ff16(0xc9)](_0x12ff16(0xef)+this[_0x12ff16(0x100)]+_0x12ff16(0xd7)+_0xd89821,_0x3048f1),_0x2470b3=await this[_0x12ff16(0xd9)]['get'](_0x12ff16(0xef)+this[_0x12ff16(0x100)]+_0x12ff16(0xd7)+_0xd89821+_0x12ff16(0xfb)),_0x32ae78=repo_class_1[_0x12ff16(0xe1)][_0x12ff16(0xd1)](_0x52baeb,(0x0,utils_1[_0x12ff16(0xd0)])(this[_0x12ff16(0xd9)][_0x12ff16(0xea)][_0x12ff16(0xf7)]||'',_0x12ff16(0xfa)+this[_0x12ff16(0x100)]+_0x12ff16(0xd7)+_0xd89821),this[_0x12ff16(0xf4)],this[_0x12ff16(0xe6)]);return _0x32ae78['defaultBranch']=_0x2470b3[_0x12ff16(0xfc)],_0x32ae78;}catch(_0x1c8918){if(_0x1c8918 instanceof api_error_1[_0x12ff16(0xd4)])throw _0x1c8918;throw new not_found_error_1[(_0x12ff16(0x102))](_0x1c8918);}}async[a206_0x3af7ac(0xd5)](_0x4c0017){const _0x4a134a=a206_0x3af7ac;try{await this[_0x4a134a(0x10f)](_0x4c0017),await this[_0x4a134a(0xd9)][_0x4a134a(0xd5)](_0x4a134a(0xef)+this[_0x4a134a(0x100)]+_0x4a134a(0xd7)+_0x4c0017);}catch(_0x22c332){if(_0x22c332 instanceof api_error_1[_0x4a134a(0xd4)])throw _0x22c332;throw new bad_request_error_1[(_0x4a134a(0xe9))](_0x22c332);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x3af7ac(0x10a)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1['Tokens'][a206_0x3af7ac(0xe6)])),__metadata(a206_0x3af7ac(0xcb),[bitbucket_server_api_service_1[a206_0x3af7ac(0xf0)],bitbucket_server_credentials_dto_1[a206_0x3af7ac(0xd2)]])],BitbucketServerRepoService),exports[a206_0x3af7ac(0xcd)]=BitbucketServerRepoService;