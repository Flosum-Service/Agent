function a206_0x24b9(){const _0xd92461=['metadata','157494BcfwCK','values','project','GitRepoService','35IFrtrS','../../credentials/dto/bitbucket-server-credentials.dto','object','../../../../../core/errors/bad-request.error','create','design:paramtypes','credentials','slug','isDefault','isLastPage','defaultBranch','/repos','name','length','BadRequestError','NotFoundError','put','get','getOne','api','post','Repo','21900gqBuvI','/projects/','function','ApiError','../../api/bitbucket-server-api.service','__esModule','fromBitbucketServer','4580850JryKoi','search','request','toString','../../../internal/git.internal','decorate','__decorate','(((.+)+)+)+$','git','createEmptyBranch','/branches','BitbucketServerApiService','4411ogUvSj','Tokens','defaults','2525157QbnyEr','2883366BiZjIt','getOwnPropertyDescriptor','apiBody','baseURL','push','update','../repo.class','/repos/','defineProperty','4770045rHrUgJ','projects/','delete','map','8nBMRlN','joinURL','then','displayId','Inject','4RHiDVz','apiUrl','master','__metadata','2yjCRDj','nextPageStart','__param','217074KvBQcM'];a206_0x24b9=function(){return _0xd92461;};return a206_0x24b9();}const a206_0xf1a96c=a206_0x531c;(function(_0x16886e,_0xaca379){const _0x4dac5d=a206_0x531c,_0x5b4337=_0x16886e();while(!![]){try{const _0x371e1e=-parseInt(_0x4dac5d(0x165))/0x1*(parseInt(_0x4dac5d(0x1ac))/0x2)+-parseInt(_0x4dac5d(0x196))/0x3*(-parseInt(_0x4dac5d(0x1a8))/0x4)+-parseInt(_0x4dac5d(0x19f))/0x5+-parseInt(_0x4dac5d(0x163))/0x6*(parseInt(_0x4dac5d(0x169))/0x7)+-parseInt(_0x4dac5d(0x1a3))/0x8*(parseInt(_0x4dac5d(0x195))/0x9)+parseInt(_0x4dac5d(0x186))/0xa+-parseInt(_0x4dac5d(0x192))/0xb*(-parseInt(_0x4dac5d(0x17f))/0xc);if(_0x371e1e===_0xaca379)break;else _0x5b4337['push'](_0x5b4337['shift']());}catch(_0x334c08){_0x5b4337['push'](_0x5b4337['shift']());}}}(a206_0x24b9,0x8d20d));const a206_0x27cd8a=(function(){let _0x5c86bb=!![];return function(_0x40f88a,_0x5a61ee){const _0x2421d3=_0x5c86bb?function(){if(_0x5a61ee){const _0x1d7a06=_0x5a61ee['apply'](_0x40f88a,arguments);return _0x5a61ee=null,_0x1d7a06;}}:function(){};return _0x5c86bb=![],_0x2421d3;};}()),a206_0x1a98c5=a206_0x27cd8a(this,function(){const _0xa276b9=a206_0x531c;return a206_0x1a98c5[_0xa276b9(0x189)]()['search']('(((.+)+)+)+$')[_0xa276b9(0x189)]()['constructor'](a206_0x1a98c5)[_0xa276b9(0x187)](_0xa276b9(0x18d));});a206_0x1a98c5();'use strict';var __decorate=this&&this[a206_0xf1a96c(0x18c)]||function(_0x3598ad,_0x2103da,_0x5bb04b,_0x7c4a12){const _0x1b8c8c=a206_0xf1a96c;var _0x3367df=arguments[_0x1b8c8c(0x176)],_0x3e4c3e=_0x3367df<0x3?_0x2103da:_0x7c4a12===null?_0x7c4a12=Object[_0x1b8c8c(0x197)](_0x2103da,_0x5bb04b):_0x7c4a12,_0x20c954;if(typeof Reflect===_0x1b8c8c(0x16b)&&typeof Reflect[_0x1b8c8c(0x18b)]===_0x1b8c8c(0x181))_0x3e4c3e=Reflect['decorate'](_0x3598ad,_0x2103da,_0x5bb04b,_0x7c4a12);else{for(var _0x45b439=_0x3598ad['length']-0x1;_0x45b439>=0x0;_0x45b439--)if(_0x20c954=_0x3598ad[_0x45b439])_0x3e4c3e=(_0x3367df<0x3?_0x20c954(_0x3e4c3e):_0x3367df>0x3?_0x20c954(_0x2103da,_0x5bb04b,_0x3e4c3e):_0x20c954(_0x2103da,_0x5bb04b))||_0x3e4c3e;}return _0x3367df>0x3&&_0x3e4c3e&&Object['defineProperty'](_0x2103da,_0x5bb04b,_0x3e4c3e),_0x3e4c3e;},__metadata=this&&this[a206_0xf1a96c(0x1ab)]||function(_0xb5434a,_0x505cb1){const _0xe6bec1=a206_0xf1a96c;if(typeof Reflect==='object'&&typeof Reflect[_0xe6bec1(0x164)]===_0xe6bec1(0x181))return Reflect[_0xe6bec1(0x164)](_0xb5434a,_0x505cb1);},__param=this&&this[a206_0xf1a96c(0x1ae)]||function(_0x20d7de,_0x991ae3){return function(_0xc52a5c,_0xe4061e){_0x991ae3(_0xc52a5c,_0xe4061e,_0x20d7de);};};function a206_0x531c(_0x36fbd1,_0x3e5a04){const _0x1c4e80=a206_0x24b9();return a206_0x531c=function(_0x1a98c5,_0x27cd8a){_0x1a98c5=_0x1a98c5-0x163;let _0x24b904=_0x1c4e80[_0x1a98c5];return _0x24b904;},a206_0x531c(_0x36fbd1,_0x3e5a04);}Object[a206_0xf1a96c(0x19e)](exports,a206_0xf1a96c(0x184),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a206_0xf1a96c(0x16c)),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a206_0xf1a96c(0x183)),git_internal_1=require(a206_0xf1a96c(0x18a)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a206_0xf1a96c(0x19c)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require('../../providers.tokens'),bitbucket_server_credentials_dto_1=require(a206_0xf1a96c(0x16a));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0xf1a96c(0x168)]{constructor(_0x4b7e0b,_0x46dea1){const _0x59e348=a206_0xf1a96c;super(_0x4b7e0b),this[_0x59e348(0x17c)]=_0x4b7e0b,this[_0x59e348(0x167)]=_0x46dea1['project'],this[_0x59e348(0x16f)]=_0x46dea1;}async[a206_0xf1a96c(0x16d)](_0x1089f4){const _0x520e2c=a206_0xf1a96c;try{const _0x280f11={'name':_0x1089f4['name'],'scmId':_0x520e2c(0x18e),'defaultBranch':_0x1089f4[_0x520e2c(0x173)],..._0x1089f4[_0x520e2c(0x198)]||{}},_0x361900=await this['request'][_0x520e2c(0x17d)](_0x520e2c(0x1a0)+this['project']+_0x520e2c(0x174),_0x280f11),_0x1aff68=repo_class_1[_0x520e2c(0x17e)][_0x520e2c(0x185)](_0x361900,'',this[_0x520e2c(0x17c)],this[_0x520e2c(0x16f)]);return _0x1089f4['autoInit']&&await git_internal_1['Git'][_0x520e2c(0x18f)](_0x1aff68,_0x1089f4[_0x520e2c(0x173)]||_0x520e2c(0x1aa),'',this[_0x520e2c(0x16f)]),this[_0x520e2c(0x17b)](_0x1aff68[_0x520e2c(0x175)]);}catch(_0x2f0937){if(_0x2f0937 instanceof api_error_1['ApiError'])throw _0x2f0937;throw new bad_request_error_1[(_0x520e2c(0x177))](_0x2f0937);}}async['getAll'](){const _0x1fa0a4=a206_0xf1a96c;try{const _0x36e470=[];let _0x14f1e4;do{_0x14f1e4=await this[_0x1fa0a4(0x188)][_0x1fa0a4(0x17a)]('projects/'+this[_0x1fa0a4(0x167)]+_0x1fa0a4(0x174),{'params':{'limit':0x64,'start':_0x14f1e4?_0x14f1e4[_0x1fa0a4(0x1ad)]:0x0}}),_0x36e470[_0x1fa0a4(0x19a)](..._0x14f1e4[_0x1fa0a4(0x166)]);}while(!_0x14f1e4[_0x1fa0a4(0x172)]);return _0x36e470[_0x1fa0a4(0x1a2)](_0x1a9291=>repo_class_1[_0x1fa0a4(0x17e)][_0x1fa0a4(0x185)](_0x1a9291,(0x0,utils_1[_0x1fa0a4(0x1a4)])(this[_0x1fa0a4(0x188)][_0x1fa0a4(0x194)]['baseURL']||'',_0x1fa0a4(0x180)+this[_0x1fa0a4(0x167)]+_0x1fa0a4(0x19d)+_0x1a9291[_0x1fa0a4(0x170)]),this[_0x1fa0a4(0x17c)],this[_0x1fa0a4(0x16f)]));}catch(_0xfa687){if(_0xfa687 instanceof api_error_1[_0x1fa0a4(0x182)])throw _0xfa687;throw new not_found_error_1['NotFoundError'](_0xfa687);}}async[a206_0xf1a96c(0x17b)](_0x3b5720){const _0x2e89d9=a206_0xf1a96c;var _0x343fcd;try{const _0x486f3d=await this[_0x2e89d9(0x188)]['get']('projects/'+this['project']+_0x2e89d9(0x19d)+_0x3b5720),_0x310070=repo_class_1[_0x2e89d9(0x17e)]['fromBitbucketServer'](_0x486f3d,(0x0,utils_1['joinURL'])(this[_0x2e89d9(0x188)][_0x2e89d9(0x194)][_0x2e89d9(0x199)]||'',_0x2e89d9(0x180)+this[_0x2e89d9(0x167)]+_0x2e89d9(0x19d)+_0x3b5720),this['api'],this['credentials']),_0x2003a3=await this[_0x2e89d9(0x188)][_0x2e89d9(0x17a)](_0x310070[_0x2e89d9(0x1a9)]+_0x2e89d9(0x190))[_0x2e89d9(0x1a5)](_0x5a77fe=>_0x5a77fe['values']);return _0x310070[_0x2e89d9(0x173)]=(_0x343fcd=_0x2003a3['find'](_0x313156=>_0x313156[_0x2e89d9(0x171)]===!![]))===null||_0x343fcd===void 0x0?void 0x0:_0x343fcd[_0x2e89d9(0x1a6)],_0x310070;}catch(_0x46b209){if(_0x46b209 instanceof api_error_1['ApiError'])throw _0x46b209;throw new not_found_error_1[(_0x2e89d9(0x178))](_0x46b209);}}async[a206_0xf1a96c(0x19b)](_0x4f6ec0,_0x4045a9){const _0x153e5c=a206_0xf1a96c;try{const _0x2dbcea=await this[_0x153e5c(0x188)][_0x153e5c(0x179)](_0x153e5c(0x1a0)+this[_0x153e5c(0x167)]+_0x153e5c(0x19d)+_0x4f6ec0,_0x4045a9),_0x5db889=await this['request'][_0x153e5c(0x17a)](_0x153e5c(0x1a0)+this[_0x153e5c(0x167)]+'/repos/'+_0x4f6ec0+'/default-branch'),_0x540b73=repo_class_1[_0x153e5c(0x17e)][_0x153e5c(0x185)](_0x2dbcea,(0x0,utils_1[_0x153e5c(0x1a4)])(this['request'][_0x153e5c(0x194)][_0x153e5c(0x199)]||'',_0x153e5c(0x180)+this[_0x153e5c(0x167)]+_0x153e5c(0x19d)+_0x4f6ec0),this[_0x153e5c(0x17c)],this[_0x153e5c(0x16f)]);return _0x540b73[_0x153e5c(0x173)]=_0x5db889[_0x153e5c(0x1a6)],_0x540b73;}catch(_0x46bb87){if(_0x46bb87 instanceof api_error_1[_0x153e5c(0x182)])throw _0x46bb87;throw new not_found_error_1[(_0x153e5c(0x178))](_0x46bb87);}}async[a206_0xf1a96c(0x1a1)](_0x154f21){const _0x41f842=a206_0xf1a96c;try{await this[_0x41f842(0x17b)](_0x154f21),await this[_0x41f842(0x188)][_0x41f842(0x1a1)](_0x41f842(0x1a0)+this[_0x41f842(0x167)]+_0x41f842(0x19d)+_0x154f21);}catch(_0x1c3e57){if(_0x1c3e57 instanceof api_error_1[_0x41f842(0x182)])throw _0x1c3e57;throw new bad_request_error_1[(_0x41f842(0x177))](_0x1c3e57);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a206_0xf1a96c(0x1a7)])(providers_tokens_1[a206_0xf1a96c(0x193)][a206_0xf1a96c(0x16f)])),__metadata(a206_0xf1a96c(0x16e),[bitbucket_server_api_service_1[a206_0xf1a96c(0x191)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;