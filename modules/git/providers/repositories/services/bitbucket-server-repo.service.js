const a206_0x33b7e8=a206_0x450b;(function(_0x572516,_0xda19bd){const _0x144c50=a206_0x450b,_0x1171b1=_0x572516();while(!![]){try{const _0x51f294=parseInt(_0x144c50(0x153))/0x1*(parseInt(_0x144c50(0x116))/0x2)+-parseInt(_0x144c50(0x139))/0x3*(-parseInt(_0x144c50(0x142))/0x4)+-parseInt(_0x144c50(0x114))/0x5*(parseInt(_0x144c50(0x113))/0x6)+parseInt(_0x144c50(0x11b))/0x7*(-parseInt(_0x144c50(0x151))/0x8)+-parseInt(_0x144c50(0x162))/0x9*(-parseInt(_0x144c50(0x119))/0xa)+parseInt(_0x144c50(0x141))/0xb+parseInt(_0x144c50(0x14c))/0xc;if(_0x51f294===_0xda19bd)break;else _0x1171b1['push'](_0x1171b1['shift']());}catch(_0xf481f2){_0x1171b1['push'](_0x1171b1['shift']());}}}(a206_0x265a,0xf414d));const a206_0x4d0fd7=(function(){let _0x3dbe63=!![];return function(_0xb516b0,_0xf9b2e7){const _0x4b2254=_0x3dbe63?function(){const _0x1b7b73=a206_0x450b;if(_0xf9b2e7){const _0x1e969b=_0xf9b2e7[_0x1b7b73(0x13a)](_0xb516b0,arguments);return _0xf9b2e7=null,_0x1e969b;}}:function(){};return _0x3dbe63=![],_0x4b2254;};}()),a206_0x1669de=a206_0x4d0fd7(this,function(){const _0x57adcb=a206_0x450b;return a206_0x1669de[_0x57adcb(0x14f)]()[_0x57adcb(0x126)](_0x57adcb(0x127))[_0x57adcb(0x14f)]()[_0x57adcb(0x137)](a206_0x1669de)[_0x57adcb(0x126)](_0x57adcb(0x127));});a206_0x1669de();'use strict';var __decorate=this&&this[a206_0x33b7e8(0x138)]||function(_0x36b433,_0xf5b27e,_0x3c029a,_0x15ec40){const _0x1ee161=a206_0x33b7e8;var _0x160a37=arguments[_0x1ee161(0x161)],_0x2bfb45=_0x160a37<0x3?_0xf5b27e:_0x15ec40===null?_0x15ec40=Object[_0x1ee161(0x140)](_0xf5b27e,_0x3c029a):_0x15ec40,_0x91296b;if(typeof Reflect==='object'&&typeof Reflect[_0x1ee161(0x144)]===_0x1ee161(0x133))_0x2bfb45=Reflect[_0x1ee161(0x144)](_0x36b433,_0xf5b27e,_0x3c029a,_0x15ec40);else{for(var _0x545948=_0x36b433[_0x1ee161(0x161)]-0x1;_0x545948>=0x0;_0x545948--)if(_0x91296b=_0x36b433[_0x545948])_0x2bfb45=(_0x160a37<0x3?_0x91296b(_0x2bfb45):_0x160a37>0x3?_0x91296b(_0xf5b27e,_0x3c029a,_0x2bfb45):_0x91296b(_0xf5b27e,_0x3c029a))||_0x2bfb45;}return _0x160a37>0x3&&_0x2bfb45&&Object[_0x1ee161(0x143)](_0xf5b27e,_0x3c029a,_0x2bfb45),_0x2bfb45;},__metadata=this&&this[a206_0x33b7e8(0x14e)]||function(_0x1e16d8,_0x25a605){const _0xd7c0aa=a206_0x33b7e8;if(typeof Reflect===_0xd7c0aa(0x154)&&typeof Reflect[_0xd7c0aa(0x15d)]===_0xd7c0aa(0x133))return Reflect[_0xd7c0aa(0x15d)](_0x1e16d8,_0x25a605);},__param=this&&this[a206_0x33b7e8(0x145)]||function(_0x46548b,_0xa930a){return function(_0x21b235,_0x28133f){_0xa930a(_0x21b235,_0x28133f,_0x46548b);};};Object[a206_0x33b7e8(0x143)](exports,'__esModule',{'value':!![]}),exports[a206_0x33b7e8(0x12f)]=void 0x0;function a206_0x265a(){const _0x1126dd=['NotFoundError','__metadata','toString','Inject','8sNzoKN','get','20LtXpRo','object','/branches','../../api/bitbucket-server-api.service','BitbucketServerApiService','master','credentials','put','slug','/repos/','metadata','values','name','displayId','length','375273PVkrMB','666dBNRUO','73005xzsTwG','/repos','49418OhGNmI','push','Tokens','440hydTDd','Service','7002170VmfeEP','post','delete','../../credentials/dto/bitbucket-server-credentials.dto','design:paramtypes','Git','getOne','createEmptyBranch','defaults','/projects/','../../../../../core/errors/not-found.error','search','(((.+)+)+)+$','../../providers.tokens','defaultBranch','ApiError','request','../../../../shared/utils','/default-branch','GitRepoService','BitbucketServerRepoService','getAll','api','fromBitbucketServer','function','Repo','find','update','constructor','__decorate','246aWRprd','apply','nextPageStart','../../../../../core/errors/api.error','project','./git-repo.service','apiUrl','getOwnPropertyDescriptor','1378982iIsqDi','1996RZFAVO','defineProperty','decorate','__param','baseURL','git','joinURL','apiBody','projects/','../../../internal/git.internal','13507800pxfmwy'];a206_0x265a=function(){return _0x1126dd;};return a206_0x265a();}const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a206_0x33b7e8(0x125)),typedi_1=require('typedi'),api_error_1=require(a206_0x33b7e8(0x13c)),bitbucket_server_api_service_1=require(a206_0x33b7e8(0x156)),git_internal_1=require(a206_0x33b7e8(0x14b)),utils_1=require(a206_0x33b7e8(0x12c)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a206_0x33b7e8(0x13e)),providers_tokens_1=require(a206_0x33b7e8(0x128)),bitbucket_server_credentials_dto_1=require(a206_0x33b7e8(0x11e));function a206_0x450b(_0x136715,_0x3ac77b){const _0x31cfe1=a206_0x265a();return a206_0x450b=function(_0x1669de,_0x4d0fd7){_0x1669de=_0x1669de-0x113;let _0x265a46=_0x31cfe1[_0x1669de];return _0x265a46;},a206_0x450b(_0x136715,_0x3ac77b);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a206_0x33b7e8(0x12e)]{constructor(_0x375a05,_0x5177f4){const _0x23fcee=a206_0x33b7e8;super(_0x375a05),this[_0x23fcee(0x131)]=_0x375a05,this[_0x23fcee(0x13d)]=_0x5177f4[_0x23fcee(0x13d)],this[_0x23fcee(0x159)]=_0x5177f4;}async['create'](_0x34fa4e){const _0xb5794d=a206_0x33b7e8;try{const _0x1df952={'name':_0x34fa4e['name'],'scmId':_0xb5794d(0x147),'defaultBranch':_0x34fa4e['defaultBranch'],..._0x34fa4e[_0xb5794d(0x149)]||{}},_0x15a204=await this[_0xb5794d(0x12b)][_0xb5794d(0x11c)](_0xb5794d(0x14a)+this[_0xb5794d(0x13d)]+_0xb5794d(0x115),_0x1df952),_0x17c050=repo_class_1[_0xb5794d(0x134)][_0xb5794d(0x132)](_0x15a204,'',this[_0xb5794d(0x131)],this[_0xb5794d(0x159)]);return _0x34fa4e['autoInit']&&await git_internal_1[_0xb5794d(0x120)][_0xb5794d(0x122)](_0x17c050,_0x34fa4e['defaultBranch']||_0xb5794d(0x158),'',this[_0xb5794d(0x159)]),this[_0xb5794d(0x121)](_0x17c050[_0xb5794d(0x15f)]);}catch(_0xc84f50){if(_0xc84f50 instanceof api_error_1['ApiError'])throw _0xc84f50;throw new bad_request_error_1['BadRequestError'](_0xc84f50);}}async[a206_0x33b7e8(0x130)](){const _0xd7605c=a206_0x33b7e8;try{const _0x5cfbbc=[];let _0x398948;do{_0x398948=await this[_0xd7605c(0x12b)][_0xd7605c(0x152)](_0xd7605c(0x14a)+this[_0xd7605c(0x13d)]+_0xd7605c(0x115),{'params':{'limit':0x64,'start':_0x398948?_0x398948[_0xd7605c(0x13b)]:0x0}}),_0x5cfbbc[_0xd7605c(0x117)](..._0x398948['values']);}while(!_0x398948['isLastPage']);return _0x5cfbbc['map'](_0x255108=>repo_class_1[_0xd7605c(0x134)][_0xd7605c(0x132)](_0x255108,(0x0,utils_1[_0xd7605c(0x148)])(this[_0xd7605c(0x12b)][_0xd7605c(0x123)]['baseURL']||'','/projects/'+this['project']+_0xd7605c(0x15c)+_0x255108[_0xd7605c(0x15b)]),this['api'],this['credentials']));}catch(_0x5a6b64){if(_0x5a6b64 instanceof api_error_1['ApiError'])throw _0x5a6b64;throw new not_found_error_1[(_0xd7605c(0x14d))](_0x5a6b64);}}async['getOne'](_0xc25389){const _0x3f81ab=a206_0x33b7e8;var _0x5a65ba;try{const _0x3106e7=await this[_0x3f81ab(0x12b)][_0x3f81ab(0x152)](_0x3f81ab(0x14a)+this[_0x3f81ab(0x13d)]+_0x3f81ab(0x15c)+_0xc25389),_0x51ef5f=repo_class_1[_0x3f81ab(0x134)][_0x3f81ab(0x132)](_0x3106e7,(0x0,utils_1[_0x3f81ab(0x148)])(this[_0x3f81ab(0x12b)]['defaults'][_0x3f81ab(0x146)]||'','/projects/'+this[_0x3f81ab(0x13d)]+_0x3f81ab(0x15c)+_0xc25389),this['api'],this[_0x3f81ab(0x159)]),_0x5db6b5=await this[_0x3f81ab(0x12b)]['get'](_0x51ef5f[_0x3f81ab(0x13f)]+_0x3f81ab(0x155))['then'](_0x2acefe=>_0x2acefe[_0x3f81ab(0x15e)]);return _0x51ef5f[_0x3f81ab(0x129)]=(_0x5a65ba=_0x5db6b5[_0x3f81ab(0x135)](_0x588f65=>_0x588f65['isDefault']===!![]))===null||_0x5a65ba===void 0x0?void 0x0:_0x5a65ba['displayId'],_0x51ef5f;}catch(_0x4e7764){if(_0x4e7764 instanceof api_error_1[_0x3f81ab(0x12a)])throw _0x4e7764;throw new not_found_error_1['NotFoundError'](_0x4e7764);}}async[a206_0x33b7e8(0x136)](_0x232b9f,_0x1a1126){const _0x7eb120=a206_0x33b7e8;try{const _0x4af178=await this['request'][_0x7eb120(0x15a)](_0x7eb120(0x14a)+this[_0x7eb120(0x13d)]+_0x7eb120(0x15c)+_0x232b9f,_0x1a1126),_0x4a65be=await this[_0x7eb120(0x12b)][_0x7eb120(0x152)](_0x7eb120(0x14a)+this[_0x7eb120(0x13d)]+'/repos/'+_0x232b9f+_0x7eb120(0x12d)),_0x193a2f=repo_class_1[_0x7eb120(0x134)][_0x7eb120(0x132)](_0x4af178,(0x0,utils_1['joinURL'])(this[_0x7eb120(0x12b)][_0x7eb120(0x123)]['baseURL']||'',_0x7eb120(0x124)+this[_0x7eb120(0x13d)]+_0x7eb120(0x15c)+_0x232b9f),this[_0x7eb120(0x131)],this[_0x7eb120(0x159)]);return _0x193a2f[_0x7eb120(0x129)]=_0x4a65be[_0x7eb120(0x160)],_0x193a2f;}catch(_0x3eb4a2){if(_0x3eb4a2 instanceof api_error_1[_0x7eb120(0x12a)])throw _0x3eb4a2;throw new not_found_error_1[(_0x7eb120(0x14d))](_0x3eb4a2);}}async[a206_0x33b7e8(0x11d)](_0x514852){const _0x55d1ab=a206_0x33b7e8;try{await this['getOne'](_0x514852),await this[_0x55d1ab(0x12b)]['delete'](_0x55d1ab(0x14a)+this[_0x55d1ab(0x13d)]+'/repos/'+_0x514852);}catch(_0x36c5e7){if(_0x36c5e7 instanceof api_error_1[_0x55d1ab(0x12a)])throw _0x36c5e7;throw new bad_request_error_1['BadRequestError'](_0x36c5e7);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a206_0x33b7e8(0x11a)])(),__param(0x1,(0x0,typedi_1[a206_0x33b7e8(0x150)])(providers_tokens_1[a206_0x33b7e8(0x118)][a206_0x33b7e8(0x159)])),__metadata(a206_0x33b7e8(0x11f),[bitbucket_server_api_service_1[a206_0x33b7e8(0x157)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a206_0x33b7e8(0x12f)]=BitbucketServerRepoService;