const a200_0x421f48=a200_0x2393;(function(_0x232eb4,_0x3a24a5){const _0x4d8cb6=a200_0x2393,_0x27a4c7=_0x232eb4();while(!![]){try{const _0x40be85=-parseInt(_0x4d8cb6(0x1a3))/0x1*(-parseInt(_0x4d8cb6(0x193))/0x2)+-parseInt(_0x4d8cb6(0x191))/0x3*(-parseInt(_0x4d8cb6(0x194))/0x4)+parseInt(_0x4d8cb6(0x18f))/0x5*(-parseInt(_0x4d8cb6(0x1b7))/0x6)+-parseInt(_0x4d8cb6(0x16e))/0x7*(parseInt(_0x4d8cb6(0x1ad))/0x8)+parseInt(_0x4d8cb6(0x199))/0x9*(-parseInt(_0x4d8cb6(0x17d))/0xa)+parseInt(_0x4d8cb6(0x19a))/0xb+parseInt(_0x4d8cb6(0x173))/0xc*(-parseInt(_0x4d8cb6(0x19d))/0xd);if(_0x40be85===_0x3a24a5)break;else _0x27a4c7['push'](_0x27a4c7['shift']());}catch(_0x2a3927){_0x27a4c7['push'](_0x27a4c7['shift']());}}}(a200_0x1bf9,0x5884d));const a200_0x11480c=(function(){let _0x628c96=!![];return function(_0x39b222,_0x2032fc){const _0xbe6311=_0x628c96?function(){const _0x5aac2c=a200_0x2393;if(_0x2032fc){const _0x21a8ae=_0x2032fc[_0x5aac2c(0x1a2)](_0x39b222,arguments);return _0x2032fc=null,_0x21a8ae;}}:function(){};return _0x628c96=![],_0xbe6311;};}()),a200_0x52b88a=a200_0x11480c(this,function(){const _0x3b7798=a200_0x2393;return a200_0x52b88a[_0x3b7798(0x181)]()[_0x3b7798(0x18e)](_0x3b7798(0x177))['toString']()[_0x3b7798(0x18c)](a200_0x52b88a)[_0x3b7798(0x18e)](_0x3b7798(0x177));});a200_0x52b88a();'use strict';var __decorate=this&&this[a200_0x421f48(0x184)]||function(_0x1c2534,_0x4d871c,_0x1c8c48,_0x2bf7ef){const _0x249fb1=a200_0x421f48;var _0x58cd6c=arguments['length'],_0x5c7672=_0x58cd6c<0x3?_0x4d871c:_0x2bf7ef===null?_0x2bf7ef=Object[_0x249fb1(0x1a7)](_0x4d871c,_0x1c8c48):_0x2bf7ef,_0x4e8ebe;if(typeof Reflect===_0x249fb1(0x1bb)&&typeof Reflect[_0x249fb1(0x19c)]===_0x249fb1(0x1af))_0x5c7672=Reflect['decorate'](_0x1c2534,_0x4d871c,_0x1c8c48,_0x2bf7ef);else{for(var _0x32ab61=_0x1c2534[_0x249fb1(0x1b4)]-0x1;_0x32ab61>=0x0;_0x32ab61--)if(_0x4e8ebe=_0x1c2534[_0x32ab61])_0x5c7672=(_0x58cd6c<0x3?_0x4e8ebe(_0x5c7672):_0x58cd6c>0x3?_0x4e8ebe(_0x4d871c,_0x1c8c48,_0x5c7672):_0x4e8ebe(_0x4d871c,_0x1c8c48))||_0x5c7672;}return _0x58cd6c>0x3&&_0x5c7672&&Object[_0x249fb1(0x178)](_0x4d871c,_0x1c8c48,_0x5c7672),_0x5c7672;},__metadata=this&&this[a200_0x421f48(0x176)]||function(_0x4cf322,_0x3909cd){const _0x44f481=a200_0x421f48;if(typeof Reflect===_0x44f481(0x1bb)&&typeof Reflect[_0x44f481(0x1b6)]===_0x44f481(0x1af))return Reflect[_0x44f481(0x1b6)](_0x4cf322,_0x3909cd);},__param=this&&this[a200_0x421f48(0x179)]||function(_0x179809,_0x509ccb){return function(_0x20d557,_0x100876){_0x509ccb(_0x20d557,_0x100876,_0x179809);};};Object[a200_0x421f48(0x178)](exports,a200_0x421f48(0x1bd),{'value':!![]}),exports[a200_0x421f48(0x180)]=void 0x0;const bad_request_error_1=require(a200_0x421f48(0x172)),not_found_error_1=require(a200_0x421f48(0x1a8)),typedi_1=require(a200_0x421f48(0x189)),api_error_1=require(a200_0x421f48(0x1be)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a200_0x421f48(0x17e)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a200_0x421f48(0x182)),git_repo_service_1=require(a200_0x421f48(0x17f)),providers_tokens_1=require(a200_0x421f48(0x190)),bitbucket_server_credentials_dto_1=require(a200_0x421f48(0x1a4));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x260fb2,_0x47a319){const _0x9fc7a4=a200_0x421f48;super(_0x260fb2),this['api']=_0x260fb2,this[_0x9fc7a4(0x1b2)]=_0x47a319['project'],this[_0x9fc7a4(0x1bc)]=_0x47a319;}async[a200_0x421f48(0x1b1)](_0x359fef){const _0x24c798=a200_0x421f48;try{const _0x36848e={'name':_0x359fef[_0x24c798(0x16d)],'scmId':_0x24c798(0x1ac),'defaultBranch':_0x359fef[_0x24c798(0x185)],..._0x359fef[_0x24c798(0x1b9)]||{}},_0x2c6c1f=await this[_0x24c798(0x196)][_0x24c798(0x19f)]('projects/'+this['project']+_0x24c798(0x1b0),_0x36848e),_0x285fd3=repo_class_1[_0x24c798(0x17a)]['fromBitbucketServer'](_0x2c6c1f,'',this[_0x24c798(0x192)],this['credentials']);return _0x359fef['autoInit']&&await git_internal_1[_0x24c798(0x170)][_0x24c798(0x1b5)](_0x285fd3,_0x359fef[_0x24c798(0x185)]||_0x24c798(0x17b),'',this[_0x24c798(0x1bc)]),this['getOne'](_0x285fd3[_0x24c798(0x16d)]);}catch(_0x2c7bc8){if(_0x2c7bc8 instanceof api_error_1[_0x24c798(0x171)])throw _0x2c7bc8;throw new bad_request_error_1['BadRequestError'](_0x2c7bc8);}}async['getAll'](){const _0x109db0=a200_0x421f48;try{const _0x564361=[];let _0x9f1ca7;do{_0x9f1ca7=await this[_0x109db0(0x196)]['get'](_0x109db0(0x1ae)+this[_0x109db0(0x1b2)]+_0x109db0(0x1b0),{'params':{'limit':0x64,'start':_0x9f1ca7?_0x9f1ca7[_0x109db0(0x1a9)]:0x0}}),_0x564361[_0x109db0(0x187)](..._0x9f1ca7[_0x109db0(0x1ba)]);}while(!_0x9f1ca7[_0x109db0(0x183)]);return _0x564361[_0x109db0(0x1a6)](_0x49e546=>repo_class_1[_0x109db0(0x17a)]['fromBitbucketServer'](_0x49e546,(0x0,utils_1[_0x109db0(0x188)])(this['request'][_0x109db0(0x19e)][_0x109db0(0x197)]||'','/projects/'+this[_0x109db0(0x1b2)]+_0x109db0(0x186)+_0x49e546[_0x109db0(0x17c)]),this[_0x109db0(0x192)],this['credentials']));}catch(_0x8c9454){if(_0x8c9454 instanceof api_error_1[_0x109db0(0x171)])throw _0x8c9454;throw new not_found_error_1['NotFoundError'](_0x8c9454);}}async[a200_0x421f48(0x1a5)](_0x3dd41c){const _0x28b791=a200_0x421f48;var _0x1d9a63;try{const _0x3d0cd2=await this[_0x28b791(0x196)][_0x28b791(0x1ab)](_0x28b791(0x1ae)+this[_0x28b791(0x1b2)]+_0x28b791(0x186)+_0x3dd41c),_0x4f8b1a=repo_class_1['Repo'][_0x28b791(0x16c)](_0x3d0cd2,(0x0,utils_1['joinURL'])(this[_0x28b791(0x196)]['defaults'][_0x28b791(0x197)]||'','/projects/'+this['project']+_0x28b791(0x186)+_0x3dd41c),this[_0x28b791(0x192)],this[_0x28b791(0x1bc)]),_0x14e574=await this[_0x28b791(0x196)][_0x28b791(0x1ab)](_0x4f8b1a[_0x28b791(0x1a1)]+_0x28b791(0x1aa))[_0x28b791(0x19b)](_0x30ca29=>_0x30ca29[_0x28b791(0x1ba)]);return _0x4f8b1a[_0x28b791(0x185)]=(_0x1d9a63=_0x14e574[_0x28b791(0x1b8)](_0x9ed5e9=>_0x9ed5e9[_0x28b791(0x18b)]===!![]))===null||_0x1d9a63===void 0x0?void 0x0:_0x1d9a63['displayId'],_0x4f8b1a;}catch(_0xfffd64){if(_0xfffd64 instanceof api_error_1[_0x28b791(0x171)])throw _0xfffd64;throw new not_found_error_1['NotFoundError'](_0xfffd64);}}async[a200_0x421f48(0x175)](_0x42e3fa,_0x125856){const _0x347cbe=a200_0x421f48;try{const _0x261b0a=await this[_0x347cbe(0x196)]['put'](_0x347cbe(0x1ae)+this[_0x347cbe(0x1b2)]+_0x347cbe(0x186)+_0x42e3fa,_0x125856),_0x10bd1d=await this[_0x347cbe(0x196)][_0x347cbe(0x1ab)](_0x347cbe(0x1ae)+this['project']+'/repos/'+_0x42e3fa+_0x347cbe(0x18d)),_0x56ae43=repo_class_1[_0x347cbe(0x17a)][_0x347cbe(0x16c)](_0x261b0a,(0x0,utils_1['joinURL'])(this['request'][_0x347cbe(0x19e)][_0x347cbe(0x197)]||'',_0x347cbe(0x18a)+this[_0x347cbe(0x1b2)]+_0x347cbe(0x186)+_0x42e3fa),this[_0x347cbe(0x192)],this[_0x347cbe(0x1bc)]);return _0x56ae43[_0x347cbe(0x185)]=_0x10bd1d[_0x347cbe(0x174)],_0x56ae43;}catch(_0x50f3f9){if(_0x50f3f9 instanceof api_error_1['ApiError'])throw _0x50f3f9;throw new not_found_error_1[(_0x347cbe(0x16f))](_0x50f3f9);}}async[a200_0x421f48(0x1b3)](_0x16da3c){const _0x4f39e6=a200_0x421f48;try{await this[_0x4f39e6(0x1a5)](_0x16da3c),await this['request']['delete']('projects/'+this[_0x4f39e6(0x1b2)]+_0x4f39e6(0x186)+_0x16da3c);}catch(_0x55ef5b){if(_0x55ef5b instanceof api_error_1[_0x4f39e6(0x171)])throw _0x55ef5b;throw new bad_request_error_1['BadRequestError'](_0x55ef5b);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a200_0x421f48(0x195)])(),__param(0x1,(0x0,typedi_1[a200_0x421f48(0x198)])(providers_tokens_1['Tokens'][a200_0x421f48(0x1bc)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a200_0x421f48(0x1bf)],bitbucket_server_credentials_dto_1[a200_0x421f48(0x1a0)]])],BitbucketServerRepoService),exports[a200_0x421f48(0x180)]=BitbucketServerRepoService;function a200_0x2393(_0x2689b3,_0x4d3f8a){const _0x1aa863=a200_0x1bf9();return a200_0x2393=function(_0x52b88a,_0x11480c){_0x52b88a=_0x52b88a-0x16c;let _0x1bf9ed=_0x1aa863[_0x52b88a];return _0x1bf9ed;},a200_0x2393(_0x2689b3,_0x4d3f8a);}function a200_0x1bf9(){const _0x35a801=['108mYAtvq','api','2MBkeTT','66756uLjGZu','Service','request','baseURL','Inject','117gstgke','1496836MrLoUZ','then','decorate','5534659rOpQhK','defaults','post','BitbucketServerCredentialsDto','apiUrl','apply','606527PyQQjB','../../credentials/dto/bitbucket-server-credentials.dto','getOne','map','getOwnPropertyDescriptor','../../../../../core/errors/not-found.error','nextPageStart','/branches','get','git','8oYdupH','projects/','function','/repos','create','project','delete','length','createEmptyBranch','metadata','90GEPfwh','find','apiBody','values','object','credentials','__esModule','../../../../../core/errors/api.error','BitbucketServerApiService','fromBitbucketServer','name','2383493JrSXYe','NotFoundError','Git','ApiError','../../../../../core/errors/bad-request.error','12WTIYvf','displayId','update','__metadata','(((.+)+)+)+$','defineProperty','__param','Repo','master','slug','12590FHgAxS','../../../internal/git.internal','./git-repo.service','BitbucketServerRepoService','toString','../repo.class','isLastPage','__decorate','defaultBranch','/repos/','push','joinURL','typedi','/projects/','isDefault','constructor','/default-branch','search','66075RFEHxB','../../providers.tokens'];a200_0x1bf9=function(){return _0x35a801;};return a200_0x1bf9();}