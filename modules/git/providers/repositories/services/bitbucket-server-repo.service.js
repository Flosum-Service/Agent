const a201_0x5289a2=a201_0x4aa0;(function(_0x137fb0,_0x2cd9aa){const _0x4f740f=a201_0x4aa0,_0x2d6b83=_0x137fb0();while(!![]){try{const _0x57b1d6=-parseInt(_0x4f740f(0xf5))/0x1*(parseInt(_0x4f740f(0x138))/0x2)+-parseInt(_0x4f740f(0x106))/0x3*(-parseInt(_0x4f740f(0x12e))/0x4)+-parseInt(_0x4f740f(0x122))/0x5+-parseInt(_0x4f740f(0x104))/0x6+-parseInt(_0x4f740f(0x141))/0x7*(parseInt(_0x4f740f(0x110))/0x8)+parseInt(_0x4f740f(0xfe))/0x9*(-parseInt(_0x4f740f(0x136))/0xa)+parseInt(_0x4f740f(0x131))/0xb*(parseInt(_0x4f740f(0x119))/0xc);if(_0x57b1d6===_0x2cd9aa)break;else _0x2d6b83['push'](_0x2d6b83['shift']());}catch(_0x5ae23c){_0x2d6b83['push'](_0x2d6b83['shift']());}}}(a201_0x1178,0x20c3e));const a201_0x101f15=(function(){let _0x47929c=!![];return function(_0x4524a8,_0x550560){const _0x42b514=_0x47929c?function(){const _0x181c7d=a201_0x4aa0;if(_0x550560){const _0x56aeb9=_0x550560[_0x181c7d(0x128)](_0x4524a8,arguments);return _0x550560=null,_0x56aeb9;}}:function(){};return _0x47929c=![],_0x42b514;};}()),a201_0x1f5717=a201_0x101f15(this,function(){const _0xd8b674=a201_0x4aa0;return a201_0x1f5717[_0xd8b674(0x134)]()[_0xd8b674(0x130)](_0xd8b674(0x13e))[_0xd8b674(0x134)]()[_0xd8b674(0x11b)](a201_0x1f5717)[_0xd8b674(0x130)](_0xd8b674(0x13e));});a201_0x1f5717();'use strict';var __decorate=this&&this[a201_0x5289a2(0x145)]||function(_0x434068,_0x37b197,_0x4e9b2f,_0x551acb){const _0x4cb21b=a201_0x5289a2;var _0x1bb4dd=arguments[_0x4cb21b(0x139)],_0x25ffd0=_0x1bb4dd<0x3?_0x37b197:_0x551acb===null?_0x551acb=Object[_0x4cb21b(0x11a)](_0x37b197,_0x4e9b2f):_0x551acb,_0x4df145;if(typeof Reflect===_0x4cb21b(0xf7)&&typeof Reflect['decorate']===_0x4cb21b(0x10b))_0x25ffd0=Reflect[_0x4cb21b(0x127)](_0x434068,_0x37b197,_0x4e9b2f,_0x551acb);else{for(var _0x457895=_0x434068[_0x4cb21b(0x139)]-0x1;_0x457895>=0x0;_0x457895--)if(_0x4df145=_0x434068[_0x457895])_0x25ffd0=(_0x1bb4dd<0x3?_0x4df145(_0x25ffd0):_0x1bb4dd>0x3?_0x4df145(_0x37b197,_0x4e9b2f,_0x25ffd0):_0x4df145(_0x37b197,_0x4e9b2f))||_0x25ffd0;}return _0x1bb4dd>0x3&&_0x25ffd0&&Object[_0x4cb21b(0x137)](_0x37b197,_0x4e9b2f,_0x25ffd0),_0x25ffd0;},__metadata=this&&this['__metadata']||function(_0x250f75,_0x5ce5b7){const _0x4a5bfb=a201_0x5289a2;if(typeof Reflect===_0x4a5bfb(0xf7)&&typeof Reflect[_0x4a5bfb(0x132)]==='function')return Reflect[_0x4a5bfb(0x132)](_0x250f75,_0x5ce5b7);},__param=this&&this[a201_0x5289a2(0x144)]||function(_0x4f0212,_0x498e28){return function(_0x1485b3,_0x147251){_0x498e28(_0x1485b3,_0x147251,_0x4f0212);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a201_0x5289a2(0x146)),not_found_error_1=require(a201_0x5289a2(0x11c)),typedi_1=require(a201_0x5289a2(0x10f)),api_error_1=require(a201_0x5289a2(0xfb)),bitbucket_server_api_service_1=require(a201_0x5289a2(0x11d)),git_internal_1=require(a201_0x5289a2(0x112)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a201_0x5289a2(0x101)),git_repo_service_1=require(a201_0x5289a2(0xfd)),providers_tokens_1=require(a201_0x5289a2(0x12c)),bitbucket_server_credentials_dto_1=require(a201_0x5289a2(0x109));function a201_0x4aa0(_0x522528,_0x42886b){const _0x485631=a201_0x1178();return a201_0x4aa0=function(_0x1f5717,_0x101f15){_0x1f5717=_0x1f5717-0xf4;let _0x1178a=_0x485631[_0x1f5717];return _0x1178a;},a201_0x4aa0(_0x522528,_0x42886b);}function a201_0x1178(){const _0x1b1647=['/repos/','getAll','typedi','16NcsxGt','git','../../../internal/git.internal','get','push','slug','api','NotFoundError','Service','11604nROhYl','getOwnPropertyDescriptor','constructor','../../../../../core/errors/not-found.error','../../api/bitbucket-server-api.service','nextPageStart','baseURL','put','Git','994470wQNIKW','defaults','request','autoInit','getOne','decorate','apply','/repos','BitbucketServerCredentialsDto','project','../../providers.tokens','projects/','8sUCcfE','design:paramtypes','search','8481RxHpJA','metadata','BitbucketServerRepoService','toString','create','6500ugXfHW','defineProperty','10334elnItn','length','/projects/','map','GitRepoService','isLastPage','(((.+)+)+)+$','credentials','joinURL','41594VynXSa','/branches','post','__param','__decorate','../../../../../core/errors/bad-request.error','Tokens','delete','values','21FxiEKM','BitbucketServerApiService','object','defaultBranch','find','then','../../../../../core/errors/api.error','fromBitbucketServer','./git-repo.service','3015mGHGKe','isDefault','BadRequestError','../repo.class','Inject','/default-branch','1296672HKAJVA','name','212694pgAsJS','Repo','displayId','../../credentials/dto/bitbucket-server-credentials.dto','master','function','ApiError'];a201_0x1178=function(){return _0x1b1647;};return a201_0x1178();}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x5289a2(0x13c)]{constructor(_0x2a4313,_0x3ffc87){const _0x4aeac9=a201_0x5289a2;super(_0x2a4313),this[_0x4aeac9(0x116)]=_0x2a4313,this[_0x4aeac9(0x12b)]=_0x3ffc87['project'],this['credentials']=_0x3ffc87;}async[a201_0x5289a2(0x135)](_0x11ccf4){const _0x253f83=a201_0x5289a2;try{const _0x5a1c9c={'name':_0x11ccf4['name'],'scmId':_0x253f83(0x111),'defaultBranch':_0x11ccf4['defaultBranch'],..._0x11ccf4['apiBody']||{}},_0x28f407=await this['request'][_0x253f83(0x143)](_0x253f83(0x12d)+this[_0x253f83(0x12b)]+'/repos',_0x5a1c9c),_0x29a853=repo_class_1['Repo'][_0x253f83(0xfc)](_0x28f407,'',this['api'],this[_0x253f83(0x13f)]);return _0x11ccf4[_0x253f83(0x125)]&&await git_internal_1[_0x253f83(0x121)]['createEmptyBranch'](_0x29a853,_0x11ccf4[_0x253f83(0xf8)]||_0x253f83(0x10a),'',this[_0x253f83(0x13f)]),this['getOne'](_0x29a853[_0x253f83(0x105)]);}catch(_0x931cba){if(_0x931cba instanceof api_error_1[_0x253f83(0x10c)])throw _0x931cba;throw new bad_request_error_1[(_0x253f83(0x100))](_0x931cba);}}async[a201_0x5289a2(0x10e)](){const _0x1c1a07=a201_0x5289a2;try{const _0x5c2a7a=[];let _0x515391;do{_0x515391=await this[_0x1c1a07(0x124)][_0x1c1a07(0x113)](_0x1c1a07(0x12d)+this[_0x1c1a07(0x12b)]+_0x1c1a07(0x129),{'params':{'limit':0x64,'start':_0x515391?_0x515391[_0x1c1a07(0x11e)]:0x0}}),_0x5c2a7a[_0x1c1a07(0x114)](..._0x515391[_0x1c1a07(0xf4)]);}while(!_0x515391[_0x1c1a07(0x13d)]);return _0x5c2a7a[_0x1c1a07(0x13b)](_0x47e452=>repo_class_1[_0x1c1a07(0x107)]['fromBitbucketServer'](_0x47e452,(0x0,utils_1[_0x1c1a07(0x140)])(this[_0x1c1a07(0x124)][_0x1c1a07(0x123)][_0x1c1a07(0x11f)]||'',_0x1c1a07(0x13a)+this[_0x1c1a07(0x12b)]+_0x1c1a07(0x10d)+_0x47e452[_0x1c1a07(0x115)]),this[_0x1c1a07(0x116)],this[_0x1c1a07(0x13f)]));}catch(_0x4d6b58){if(_0x4d6b58 instanceof api_error_1[_0x1c1a07(0x10c)])throw _0x4d6b58;throw new not_found_error_1[(_0x1c1a07(0x117))](_0x4d6b58);}}async[a201_0x5289a2(0x126)](_0x1aa735){const _0x9ca59c=a201_0x5289a2;var _0x430c6f;try{const _0x5d9ee7=await this['request'][_0x9ca59c(0x113)](_0x9ca59c(0x12d)+this['project']+'/repos/'+_0x1aa735),_0x2b1a6c=repo_class_1['Repo'][_0x9ca59c(0xfc)](_0x5d9ee7,(0x0,utils_1[_0x9ca59c(0x140)])(this[_0x9ca59c(0x124)][_0x9ca59c(0x123)][_0x9ca59c(0x11f)]||'',_0x9ca59c(0x13a)+this['project']+_0x9ca59c(0x10d)+_0x1aa735),this[_0x9ca59c(0x116)],this[_0x9ca59c(0x13f)]),_0x587c2b=await this['request'][_0x9ca59c(0x113)](_0x2b1a6c['apiUrl']+_0x9ca59c(0x142))[_0x9ca59c(0xfa)](_0x1e5d9c=>_0x1e5d9c[_0x9ca59c(0xf4)]);return _0x2b1a6c[_0x9ca59c(0xf8)]=(_0x430c6f=_0x587c2b[_0x9ca59c(0xf9)](_0x34d69e=>_0x34d69e[_0x9ca59c(0xff)]===!![]))===null||_0x430c6f===void 0x0?void 0x0:_0x430c6f[_0x9ca59c(0x108)],_0x2b1a6c;}catch(_0x5cfe9e){if(_0x5cfe9e instanceof api_error_1['ApiError'])throw _0x5cfe9e;throw new not_found_error_1[(_0x9ca59c(0x117))](_0x5cfe9e);}}async['update'](_0x3df113,_0x484146){const _0x3a1a63=a201_0x5289a2;try{const _0x14feb0=await this['request'][_0x3a1a63(0x120)]('projects/'+this[_0x3a1a63(0x12b)]+_0x3a1a63(0x10d)+_0x3df113,_0x484146),_0x94034c=await this[_0x3a1a63(0x124)][_0x3a1a63(0x113)](_0x3a1a63(0x12d)+this[_0x3a1a63(0x12b)]+_0x3a1a63(0x10d)+_0x3df113+_0x3a1a63(0x103)),_0x54225a=repo_class_1[_0x3a1a63(0x107)][_0x3a1a63(0xfc)](_0x14feb0,(0x0,utils_1[_0x3a1a63(0x140)])(this[_0x3a1a63(0x124)][_0x3a1a63(0x123)][_0x3a1a63(0x11f)]||'',_0x3a1a63(0x13a)+this[_0x3a1a63(0x12b)]+_0x3a1a63(0x10d)+_0x3df113),this['api'],this['credentials']);return _0x54225a[_0x3a1a63(0xf8)]=_0x94034c[_0x3a1a63(0x108)],_0x54225a;}catch(_0x423ce8){if(_0x423ce8 instanceof api_error_1[_0x3a1a63(0x10c)])throw _0x423ce8;throw new not_found_error_1['NotFoundError'](_0x423ce8);}}async[a201_0x5289a2(0x148)](_0x2e0cd9){const _0x1f7d53=a201_0x5289a2;try{await this[_0x1f7d53(0x126)](_0x2e0cd9),await this['request']['delete'](_0x1f7d53(0x12d)+this[_0x1f7d53(0x12b)]+_0x1f7d53(0x10d)+_0x2e0cd9);}catch(_0x3a8d40){if(_0x3a8d40 instanceof api_error_1[_0x1f7d53(0x10c)])throw _0x3a8d40;throw new bad_request_error_1[(_0x1f7d53(0x100))](_0x3a8d40);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a201_0x5289a2(0x118)])(),__param(0x1,(0x0,typedi_1[a201_0x5289a2(0x102)])(providers_tokens_1[a201_0x5289a2(0x147)]['credentials'])),__metadata(a201_0x5289a2(0x12f),[bitbucket_server_api_service_1[a201_0x5289a2(0xf6)],bitbucket_server_credentials_dto_1[a201_0x5289a2(0x12a)]])],BitbucketServerRepoService),exports[a201_0x5289a2(0x133)]=BitbucketServerRepoService;