function a201_0x1c0b(_0xedb48e,_0x4c70a9){const _0x5ce91d=a201_0x4bcd();return a201_0x1c0b=function(_0x29a8a4,_0x3d1e52){_0x29a8a4=_0x29a8a4-0x1a2;let _0x4bcd4b=_0x5ce91d[_0x29a8a4];return _0x4bcd4b;},a201_0x1c0b(_0xedb48e,_0x4c70a9);}const a201_0x993eb2=a201_0x1c0b;(function(_0x400931,_0x37a280){const _0x437fa3=a201_0x1c0b,_0x1f7a65=_0x400931();while(!![]){try{const _0x2b0610=-parseInt(_0x437fa3(0x1d8))/0x1+parseInt(_0x437fa3(0x1bd))/0x2*(-parseInt(_0x437fa3(0x1bb))/0x3)+-parseInt(_0x437fa3(0x1eb))/0x4+parseInt(_0x437fa3(0x1e0))/0x5+parseInt(_0x437fa3(0x1cb))/0x6+-parseInt(_0x437fa3(0x1c1))/0x7+parseInt(_0x437fa3(0x1cd))/0x8;if(_0x2b0610===_0x37a280)break;else _0x1f7a65['push'](_0x1f7a65['shift']());}catch(_0xa61e5a){_0x1f7a65['push'](_0x1f7a65['shift']());}}}(a201_0x4bcd,0x34f35));function a201_0x4bcd(){const _0x321447=['metadata','then','/branches','nextPageStart','master','slug','getOwnPropertyDescriptor','defaultBranch','29864XsRCeC','object','BitbucketServerRepoService','../../credentials/dto/bitbucket-server-credentials.dto','isLastPage','git','toString','map','create','get','../../providers.tokens','project','../../../../shared/utils','search','GitRepoService','push','decorate','BadRequestError','find','defaults','(((.+)+)+)+$','/projects/','post','Git','apiBody','apiUrl','update','isDefault','903LUIzkj','length','480yiPNDJ','request','__decorate','__metadata','1037106ImdOBV','./git-repo.service','typedi','put','__esModule','displayId','../../../../../core/errors/api.error','joinURL','/repos/','delete','1914126zxTgmK','getOne','1748080IOCRkZ','NotFoundError','/default-branch','values','credentials','api','BitbucketServerCredentialsDto','fromBitbucketServer','function','autoInit','/repos','409808sqntOt','projects/','baseURL','design:paramtypes','createEmptyBranch','Inject','name','Repo','1585130RbuoWI','ApiError','getAll'];a201_0x4bcd=function(){return _0x321447;};return a201_0x4bcd();}const a201_0x3d1e52=(function(){let _0x563639=!![];return function(_0x2f8481,_0x364914){const _0x2da13a=_0x563639?function(){if(_0x364914){const _0x5315f9=_0x364914['apply'](_0x2f8481,arguments);return _0x364914=null,_0x5315f9;}}:function(){};return _0x563639=![],_0x2da13a;};}()),a201_0x29a8a4=a201_0x3d1e52(this,function(){const _0x3f19d7=a201_0x1c0b;return a201_0x29a8a4['toString']()[_0x3f19d7(0x1ac)](_0x3f19d7(0x1b3))[_0x3f19d7(0x1a5)]()['constructor'](a201_0x29a8a4)[_0x3f19d7(0x1ac)]('(((.+)+)+)+$');});a201_0x29a8a4();'use strict';var __decorate=this&&this[a201_0x993eb2(0x1bf)]||function(_0x2fd32f,_0xfcb0ba,_0xe20537,_0x5cefda){const _0x1ab06b=a201_0x993eb2;var _0x17d177=arguments[_0x1ab06b(0x1bc)],_0x55ee33=_0x17d177<0x3?_0xfcb0ba:_0x5cefda===null?_0x5cefda=Object[_0x1ab06b(0x1e9)](_0xfcb0ba,_0xe20537):_0x5cefda,_0x1b1378;if(typeof Reflect===_0x1ab06b(0x1ec)&&typeof Reflect[_0x1ab06b(0x1af)]===_0x1ab06b(0x1d5))_0x55ee33=Reflect['decorate'](_0x2fd32f,_0xfcb0ba,_0xe20537,_0x5cefda);else{for(var _0x2bfb30=_0x2fd32f[_0x1ab06b(0x1bc)]-0x1;_0x2bfb30>=0x0;_0x2bfb30--)if(_0x1b1378=_0x2fd32f[_0x2bfb30])_0x55ee33=(_0x17d177<0x3?_0x1b1378(_0x55ee33):_0x17d177>0x3?_0x1b1378(_0xfcb0ba,_0xe20537,_0x55ee33):_0x1b1378(_0xfcb0ba,_0xe20537))||_0x55ee33;}return _0x17d177>0x3&&_0x55ee33&&Object['defineProperty'](_0xfcb0ba,_0xe20537,_0x55ee33),_0x55ee33;},__metadata=this&&this[a201_0x993eb2(0x1c0)]||function(_0xda3f4d,_0x49755c){const _0x2d78c9=a201_0x993eb2;if(typeof Reflect===_0x2d78c9(0x1ec)&&typeof Reflect[_0x2d78c9(0x1e3)]===_0x2d78c9(0x1d5))return Reflect[_0x2d78c9(0x1e3)](_0xda3f4d,_0x49755c);},__param=this&&this['__param']||function(_0x8bef0f,_0x3c0fcd){return function(_0x392617,_0x26f0d4){_0x3c0fcd(_0x392617,_0x26f0d4,_0x8bef0f);};};Object['defineProperty'](exports,a201_0x993eb2(0x1c5),{'value':!![]}),exports[a201_0x993eb2(0x1ed)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require('../../../../../core/errors/not-found.error'),typedi_1=require(a201_0x993eb2(0x1c3)),api_error_1=require(a201_0x993eb2(0x1c7)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require('../../../internal/git.internal'),utils_1=require(a201_0x993eb2(0x1ab)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a201_0x993eb2(0x1c2)),providers_tokens_1=require(a201_0x993eb2(0x1a9)),bitbucket_server_credentials_dto_1=require(a201_0x993eb2(0x1a2));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x993eb2(0x1ad)]{constructor(_0xec106f,_0x4f3516){const _0x49ebf1=a201_0x993eb2;super(_0xec106f),this[_0x49ebf1(0x1d2)]=_0xec106f,this[_0x49ebf1(0x1aa)]=_0x4f3516[_0x49ebf1(0x1aa)],this[_0x49ebf1(0x1d1)]=_0x4f3516;}async[a201_0x993eb2(0x1a7)](_0x2142bb){const _0x10f910=a201_0x993eb2;try{const _0x4cd61c={'name':_0x2142bb[_0x10f910(0x1de)],'scmId':_0x10f910(0x1a4),'defaultBranch':_0x2142bb[_0x10f910(0x1ea)],..._0x2142bb[_0x10f910(0x1b7)]||{}},_0x1f5b1d=await this[_0x10f910(0x1be)][_0x10f910(0x1b5)]('projects/'+this[_0x10f910(0x1aa)]+_0x10f910(0x1d7),_0x4cd61c),_0x4e16af=repo_class_1[_0x10f910(0x1df)][_0x10f910(0x1d4)](_0x1f5b1d,'',this[_0x10f910(0x1d2)],this[_0x10f910(0x1d1)]);return _0x2142bb[_0x10f910(0x1d6)]&&await git_internal_1[_0x10f910(0x1b6)][_0x10f910(0x1dc)](_0x4e16af,_0x2142bb[_0x10f910(0x1ea)]||_0x10f910(0x1e7),'',this[_0x10f910(0x1d1)]),this[_0x10f910(0x1cc)](_0x4e16af[_0x10f910(0x1de)]);}catch(_0x5a1be2){if(_0x5a1be2 instanceof api_error_1[_0x10f910(0x1e1)])throw _0x5a1be2;throw new bad_request_error_1[(_0x10f910(0x1b0))](_0x5a1be2);}}async[a201_0x993eb2(0x1e2)](){const _0x3de2a7=a201_0x993eb2;try{const _0x193b7e=[];let _0x5959cc;do{_0x5959cc=await this['request']['get']('projects/'+this[_0x3de2a7(0x1aa)]+'/repos',{'params':{'limit':0x64,'start':_0x5959cc?_0x5959cc[_0x3de2a7(0x1e6)]:0x0}}),_0x193b7e[_0x3de2a7(0x1ae)](..._0x5959cc['values']);}while(!_0x5959cc[_0x3de2a7(0x1a3)]);return _0x193b7e[_0x3de2a7(0x1a6)](_0x3877ff=>repo_class_1[_0x3de2a7(0x1df)][_0x3de2a7(0x1d4)](_0x3877ff,(0x0,utils_1[_0x3de2a7(0x1c8)])(this['request'][_0x3de2a7(0x1b2)][_0x3de2a7(0x1da)]||'',_0x3de2a7(0x1b4)+this[_0x3de2a7(0x1aa)]+_0x3de2a7(0x1c9)+_0x3877ff[_0x3de2a7(0x1e8)]),this[_0x3de2a7(0x1d2)],this[_0x3de2a7(0x1d1)]));}catch(_0x1225a5){if(_0x1225a5 instanceof api_error_1[_0x3de2a7(0x1e1)])throw _0x1225a5;throw new not_found_error_1[(_0x3de2a7(0x1ce))](_0x1225a5);}}async['getOne'](_0x4f18d5){const _0x342b23=a201_0x993eb2;var _0x2bdf44;try{const _0x440da7=await this['request'][_0x342b23(0x1a8)](_0x342b23(0x1d9)+this[_0x342b23(0x1aa)]+_0x342b23(0x1c9)+_0x4f18d5),_0x2aef06=repo_class_1[_0x342b23(0x1df)][_0x342b23(0x1d4)](_0x440da7,(0x0,utils_1[_0x342b23(0x1c8)])(this['request'][_0x342b23(0x1b2)][_0x342b23(0x1da)]||'',_0x342b23(0x1b4)+this['project']+_0x342b23(0x1c9)+_0x4f18d5),this[_0x342b23(0x1d2)],this[_0x342b23(0x1d1)]),_0x4fe9b8=await this[_0x342b23(0x1be)]['get'](_0x2aef06[_0x342b23(0x1b8)]+_0x342b23(0x1e5))[_0x342b23(0x1e4)](_0x56011b=>_0x56011b[_0x342b23(0x1d0)]);return _0x2aef06[_0x342b23(0x1ea)]=(_0x2bdf44=_0x4fe9b8[_0x342b23(0x1b1)](_0x34f50a=>_0x34f50a[_0x342b23(0x1ba)]===!![]))===null||_0x2bdf44===void 0x0?void 0x0:_0x2bdf44[_0x342b23(0x1c6)],_0x2aef06;}catch(_0x52919e){if(_0x52919e instanceof api_error_1[_0x342b23(0x1e1)])throw _0x52919e;throw new not_found_error_1[(_0x342b23(0x1ce))](_0x52919e);}}async[a201_0x993eb2(0x1b9)](_0xb2963e,_0x46ec74){const _0x3aa5ab=a201_0x993eb2;try{const _0x4feb90=await this[_0x3aa5ab(0x1be)][_0x3aa5ab(0x1c4)]('projects/'+this['project']+_0x3aa5ab(0x1c9)+_0xb2963e,_0x46ec74),_0x247a37=await this[_0x3aa5ab(0x1be)]['get'](_0x3aa5ab(0x1d9)+this[_0x3aa5ab(0x1aa)]+_0x3aa5ab(0x1c9)+_0xb2963e+_0x3aa5ab(0x1cf)),_0x1157eb=repo_class_1[_0x3aa5ab(0x1df)]['fromBitbucketServer'](_0x4feb90,(0x0,utils_1['joinURL'])(this['request'][_0x3aa5ab(0x1b2)][_0x3aa5ab(0x1da)]||'',_0x3aa5ab(0x1b4)+this[_0x3aa5ab(0x1aa)]+_0x3aa5ab(0x1c9)+_0xb2963e),this[_0x3aa5ab(0x1d2)],this[_0x3aa5ab(0x1d1)]);return _0x1157eb[_0x3aa5ab(0x1ea)]=_0x247a37[_0x3aa5ab(0x1c6)],_0x1157eb;}catch(_0x6aabbf){if(_0x6aabbf instanceof api_error_1[_0x3aa5ab(0x1e1)])throw _0x6aabbf;throw new not_found_error_1[(_0x3aa5ab(0x1ce))](_0x6aabbf);}}async[a201_0x993eb2(0x1ca)](_0x5c5781){const _0x1ec78e=a201_0x993eb2;try{await this[_0x1ec78e(0x1cc)](_0x5c5781),await this[_0x1ec78e(0x1be)]['delete']('projects/'+this[_0x1ec78e(0x1aa)]+_0x1ec78e(0x1c9)+_0x5c5781);}catch(_0x3d26dc){if(_0x3d26dc instanceof api_error_1[_0x1ec78e(0x1e1)])throw _0x3d26dc;throw new bad_request_error_1[(_0x1ec78e(0x1b0))](_0x3d26dc);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a201_0x993eb2(0x1dd)])(providers_tokens_1['Tokens']['credentials'])),__metadata(a201_0x993eb2(0x1db),[bitbucket_server_api_service_1['BitbucketServerApiService'],bitbucket_server_credentials_dto_1[a201_0x993eb2(0x1d3)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;