const a239_0x47fe85=a239_0x5776;(function(_0x364528,_0x30178d){const _0x83b48e=a239_0x5776,_0x555262=_0x364528();while(!![]){try{const _0x1faac5=-parseInt(_0x83b48e(0x125))/0x1+parseInt(_0x83b48e(0x119))/0x2*(parseInt(_0x83b48e(0xf0))/0x3)+parseInt(_0x83b48e(0xf9))/0x4*(parseInt(_0x83b48e(0xd9))/0x5)+parseInt(_0x83b48e(0x10f))/0x6*(-parseInt(_0x83b48e(0x106))/0x7)+-parseInt(_0x83b48e(0xf3))/0x8*(parseInt(_0x83b48e(0xee))/0x9)+parseInt(_0x83b48e(0xdd))/0xa+-parseInt(_0x83b48e(0xfd))/0xb*(-parseInt(_0x83b48e(0x102))/0xc);if(_0x1faac5===_0x30178d)break;else _0x555262['push'](_0x555262['shift']());}catch(_0x3d86c1){_0x555262['push'](_0x555262['shift']());}}}(a239_0x30d5,0x89c88));function a239_0x5776(_0x166df0,_0x14872c){const _0x1ce59d=a239_0x30d5();return a239_0x5776=function(_0x214f9c,_0x35b413){_0x214f9c=_0x214f9c-0xd5;let _0x30d5f9=_0x1ce59d[_0x214f9c];return _0x30d5f9;},a239_0x5776(_0x166df0,_0x14872c);}const a239_0x35b413=(function(){let _0x5add4b=!![];return function(_0x522d86,_0x1bb354){const _0x2932a0=_0x5add4b?function(){const _0x114742=a239_0x5776;if(_0x1bb354){const _0x410110=_0x1bb354[_0x114742(0x110)](_0x522d86,arguments);return _0x1bb354=null,_0x410110;}}:function(){};return _0x5add4b=![],_0x2932a0;};}()),a239_0x214f9c=a239_0x35b413(this,function(){const _0x4f5c2d=a239_0x5776;return a239_0x214f9c[_0x4f5c2d(0xff)]()[_0x4f5c2d(0x117)](_0x4f5c2d(0xe6))[_0x4f5c2d(0xff)]()[_0x4f5c2d(0xf7)](a239_0x214f9c)['search'](_0x4f5c2d(0xe6));});a239_0x214f9c();'use strict';function a239_0x30d5(){const _0x175020=['../../providers.tokens','/repos','264GYlhDY','nextPageStart','toString','Git','delete','74076WKqJSb','fromBitbucketServer','BadRequestError','projects/','210ehpgOZ','Tokens','autoInit','typedi','NotFoundError','post','getOne','decorate','displayId','162030tbpeVq','apply','../../../../../core/errors/api.error','joinURL','baseURL','Repo','createEmptyBranch','getAll','search','ApiError','1758314BCqvTb','metadata','project','map','/branches','master','length','update','defineProperty','credentials','function','../../credentials/dto/bitbucket-server-credentials.dto','210433vGiZkj','/default-branch','defaultBranch','../../api/bitbucket-server-api.service','git','find','../../../internal/git.internal','28955ncpuXh','Service','BitbucketServerCredentialsDto','name','10412420vqDooA','isDefault','__esModule','get','/projects/','Inject','__param','isLastPage','../../../../../core/errors/not-found.error','(((.+)+)+)+$','api','BitbucketServerApiService','slug','__metadata','../repo.class','request','put','100305QHykpv','values','3bIbhzo','BitbucketServerRepoService','object','688MnZAZH','GitRepoService','/repos/','create','constructor','../../../../../core/errors/bad-request.error','328OIZGMS','defaults'];a239_0x30d5=function(){return _0x175020;};return a239_0x30d5();}var __decorate=this&&this['__decorate']||function(_0x42c6c0,_0x33751f,_0x2af912,_0x464010){const _0x5373f1=a239_0x5776;var _0x539999=arguments[_0x5373f1(0x11f)],_0x5db02e=_0x539999<0x3?_0x33751f:_0x464010===null?_0x464010=Object['getOwnPropertyDescriptor'](_0x33751f,_0x2af912):_0x464010,_0x224244;if(typeof Reflect===_0x5373f1(0xf2)&&typeof Reflect['decorate']===_0x5373f1(0x123))_0x5db02e=Reflect[_0x5373f1(0x10d)](_0x42c6c0,_0x33751f,_0x2af912,_0x464010);else{for(var _0x374ed8=_0x42c6c0[_0x5373f1(0x11f)]-0x1;_0x374ed8>=0x0;_0x374ed8--)if(_0x224244=_0x42c6c0[_0x374ed8])_0x5db02e=(_0x539999<0x3?_0x224244(_0x5db02e):_0x539999>0x3?_0x224244(_0x33751f,_0x2af912,_0x5db02e):_0x224244(_0x33751f,_0x2af912))||_0x5db02e;}return _0x539999>0x3&&_0x5db02e&&Object[_0x5373f1(0x121)](_0x33751f,_0x2af912,_0x5db02e),_0x5db02e;},__metadata=this&&this[a239_0x47fe85(0xea)]||function(_0x56d5ec,_0x33fedf){const _0x1119ca=a239_0x47fe85;if(typeof Reflect===_0x1119ca(0xf2)&&typeof Reflect['metadata']==='function')return Reflect[_0x1119ca(0x11a)](_0x56d5ec,_0x33fedf);},__param=this&&this[a239_0x47fe85(0xe3)]||function(_0x5399a4,_0xe7077d){return function(_0x3dffd3,_0x3811ed){_0xe7077d(_0x3dffd3,_0x3811ed,_0x5399a4);};};Object[a239_0x47fe85(0x121)](exports,a239_0x47fe85(0xdf),{'value':!![]}),exports[a239_0x47fe85(0xf1)]=void 0x0;const bad_request_error_1=require(a239_0x47fe85(0xf8)),not_found_error_1=require(a239_0x47fe85(0xe5)),typedi_1=require(a239_0x47fe85(0x109)),api_error_1=require(a239_0x47fe85(0x111)),bitbucket_server_api_service_1=require(a239_0x47fe85(0xd5)),git_internal_1=require(a239_0x47fe85(0xd8)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a239_0x47fe85(0xeb)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a239_0x47fe85(0xfb)),bitbucket_server_credentials_dto_1=require(a239_0x47fe85(0x124));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a239_0x47fe85(0xf4)]{constructor(_0x341aa7,_0x5c9aa3){const _0x13b3f6=a239_0x47fe85;super(_0x341aa7),this[_0x13b3f6(0xe7)]=_0x341aa7,this[_0x13b3f6(0x11b)]=_0x5c9aa3[_0x13b3f6(0x11b)],this[_0x13b3f6(0x122)]=_0x5c9aa3;}async[a239_0x47fe85(0xf6)](_0x5c6331){const _0x1fea33=a239_0x47fe85;try{const _0x34ddbe={'name':_0x5c6331[_0x1fea33(0xdc)],'scmId':_0x1fea33(0xd6),'defaultBranch':_0x5c6331[_0x1fea33(0x127)],..._0x5c6331['apiBody']||{}},_0x63d848=await this[_0x1fea33(0xec)][_0x1fea33(0x10b)](_0x1fea33(0x105)+this['project']+_0x1fea33(0xfc),_0x34ddbe),_0x223e6a=repo_class_1[_0x1fea33(0x114)][_0x1fea33(0x103)](_0x63d848,'',this[_0x1fea33(0xe7)],this['credentials']);return _0x5c6331[_0x1fea33(0x108)]&&await git_internal_1[_0x1fea33(0x100)][_0x1fea33(0x115)](_0x223e6a,_0x5c6331[_0x1fea33(0x127)]||{'name':_0x1fea33(0x11e)},'',this[_0x1fea33(0x122)]),this[_0x1fea33(0x10c)](_0x223e6a[_0x1fea33(0xdc)]);}catch(_0x310036){if(_0x310036 instanceof api_error_1[_0x1fea33(0x118)])throw _0x310036;throw new bad_request_error_1[(_0x1fea33(0x104))](_0x310036);}}async[a239_0x47fe85(0x116)](){const _0x165604=a239_0x47fe85;try{const _0x4749a=[];let _0x4e3933;do{_0x4e3933=await this[_0x165604(0xec)][_0x165604(0xe0)](_0x165604(0x105)+this['project']+_0x165604(0xfc),{'params':{'limit':0x64,'start':_0x4e3933?_0x4e3933[_0x165604(0xfe)]:0x0}}),_0x4749a['push'](..._0x4e3933[_0x165604(0xef)]);}while(!_0x4e3933[_0x165604(0xe4)]);return _0x4749a[_0x165604(0x11c)](_0x3f0681=>repo_class_1['Repo']['fromBitbucketServer'](_0x3f0681,(0x0,utils_1[_0x165604(0x112)])(this[_0x165604(0xec)][_0x165604(0xfa)][_0x165604(0x113)]||'',_0x165604(0xe1)+this[_0x165604(0x11b)]+_0x165604(0xf5)+_0x3f0681[_0x165604(0xe9)]),this['api'],this[_0x165604(0x122)]));}catch(_0xdceef4){if(_0xdceef4 instanceof api_error_1['ApiError'])throw _0xdceef4;throw new not_found_error_1['NotFoundError'](_0xdceef4);}}async['getOne'](_0x172633){const _0x4253be=a239_0x47fe85;var _0x3e3ced;try{const _0x3b4718=await this[_0x4253be(0xec)][_0x4253be(0xe0)](_0x4253be(0x105)+this[_0x4253be(0x11b)]+_0x4253be(0xf5)+_0x172633),_0x52359a=repo_class_1[_0x4253be(0x114)][_0x4253be(0x103)](_0x3b4718,(0x0,utils_1[_0x4253be(0x112)])(this[_0x4253be(0xec)][_0x4253be(0xfa)][_0x4253be(0x113)]||'','/projects/'+this[_0x4253be(0x11b)]+'/repos/'+_0x172633),this['api'],this[_0x4253be(0x122)]),_0xac36d8=await this[_0x4253be(0xec)][_0x4253be(0xe0)](_0x52359a['apiUrl']+_0x4253be(0x11d))['then'](_0x1a5b3a=>_0x1a5b3a['values']);return _0x52359a[_0x4253be(0x127)]=(_0x3e3ced=_0xac36d8[_0x4253be(0xd7)](_0x282a5d=>_0x282a5d[_0x4253be(0xde)]===!![]))===null||_0x3e3ced===void 0x0?void 0x0:_0x3e3ced[_0x4253be(0x10e)],_0x52359a;}catch(_0x5611dd){if(_0x5611dd instanceof api_error_1[_0x4253be(0x118)])throw _0x5611dd;throw new not_found_error_1[(_0x4253be(0x10a))](_0x5611dd);}}async[a239_0x47fe85(0x120)](_0x346d2a,_0x4d726a){const _0x46a2db=a239_0x47fe85;try{const _0x5de36e=await this[_0x46a2db(0xec)][_0x46a2db(0xed)](_0x46a2db(0x105)+this[_0x46a2db(0x11b)]+_0x46a2db(0xf5)+_0x346d2a,_0x4d726a),_0x7940b=await this['request']['get']('projects/'+this[_0x46a2db(0x11b)]+_0x46a2db(0xf5)+_0x346d2a+_0x46a2db(0x126)),_0x4f2172=repo_class_1['Repo'][_0x46a2db(0x103)](_0x5de36e,(0x0,utils_1[_0x46a2db(0x112)])(this[_0x46a2db(0xec)]['defaults'][_0x46a2db(0x113)]||'',_0x46a2db(0xe1)+this[_0x46a2db(0x11b)]+_0x46a2db(0xf5)+_0x346d2a),this[_0x46a2db(0xe7)],this[_0x46a2db(0x122)]);return _0x4f2172[_0x46a2db(0x127)]=_0x7940b[_0x46a2db(0x10e)],_0x4f2172;}catch(_0x5a854e){if(_0x5a854e instanceof api_error_1[_0x46a2db(0x118)])throw _0x5a854e;throw new not_found_error_1[(_0x46a2db(0x10a))](_0x5a854e);}}async[a239_0x47fe85(0x101)](_0x5870a8){const _0x3761bf=a239_0x47fe85;try{await this[_0x3761bf(0x10c)](_0x5870a8),await this['request'][_0x3761bf(0x101)](_0x3761bf(0x105)+this[_0x3761bf(0x11b)]+'/repos/'+_0x5870a8);}catch(_0xcb4689){if(_0xcb4689 instanceof api_error_1['ApiError'])throw _0xcb4689;throw new bad_request_error_1[(_0x3761bf(0x104))](_0xcb4689);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a239_0x47fe85(0xda)])(),__param(0x1,(0x0,typedi_1[a239_0x47fe85(0xe2)])(providers_tokens_1[a239_0x47fe85(0x107)][a239_0x47fe85(0x122)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a239_0x47fe85(0xe8)],bitbucket_server_credentials_dto_1[a239_0x47fe85(0xdb)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;