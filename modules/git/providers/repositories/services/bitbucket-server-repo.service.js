const a201_0x50f29a=a201_0x1e9a;(function(_0xfe1421,_0x1fa156){const _0x7e3bf9=a201_0x1e9a,_0x4feb3c=_0xfe1421();while(!![]){try{const _0xfed9f6=parseInt(_0x7e3bf9(0x1d7))/0x1*(parseInt(_0x7e3bf9(0x1d4))/0x2)+-parseInt(_0x7e3bf9(0x1da))/0x3*(-parseInt(_0x7e3bf9(0x1c3))/0x4)+parseInt(_0x7e3bf9(0x1b3))/0x5*(parseInt(_0x7e3bf9(0x1a7))/0x6)+parseInt(_0x7e3bf9(0x1ca))/0x7+parseInt(_0x7e3bf9(0x1b6))/0x8+-parseInt(_0x7e3bf9(0x1bf))/0x9+-parseInt(_0x7e3bf9(0x1dc))/0xa;if(_0xfed9f6===_0x1fa156)break;else _0x4feb3c['push'](_0x4feb3c['shift']());}catch(_0x2e9902){_0x4feb3c['push'](_0x4feb3c['shift']());}}}(a201_0xe802,0x5f6a3));const a201_0x1846e9=(function(){let _0x2e6aa9=!![];return function(_0x5ea470,_0x229358){const _0x318455=_0x2e6aa9?function(){if(_0x229358){const _0x437347=_0x229358['apply'](_0x5ea470,arguments);return _0x229358=null,_0x437347;}}:function(){};return _0x2e6aa9=![],_0x318455;};}()),a201_0x40aca0=a201_0x1846e9(this,function(){const _0x5e665f=a201_0x1e9a;return a201_0x40aca0[_0x5e665f(0x1c2)]()[_0x5e665f(0x1d0)](_0x5e665f(0x1b4))[_0x5e665f(0x1c2)]()[_0x5e665f(0x1ce)](a201_0x40aca0)['search'](_0x5e665f(0x1b4));});function a201_0xe802(){const _0x4f9f10=['function','BitbucketServerApiService','/branches','getAll','768918VTKcTz','get','decorate','then','name','ApiError','joinURL','delete','design:paramtypes','isLastPage','projects/','post','5DxHBlV','(((.+)+)+)+$','api','6152056wQIilY','map','apiBody','NotFoundError','../repo.class','update','BitbucketServerRepoService','defineProperty','/repos','5659686cZZbzp','../../../internal/git.internal','defaultBranch','toString','44iVMjuF','credentials','push','length','slug','request','defaults','409605puzIgl','Tokens','../../../../../core/errors/not-found.error','master','constructor','project','search','autoInit','../../providers.tokens','BitbucketServerCredentialsDto','82fHHKtn','../../credentials/dto/bitbucket-server-credentials.dto','__decorate','681EASGdM','baseURL','createEmptyBranch','47541AvIeLQ','__param','1382400EJbMHr','values','../../../../../core/errors/bad-request.error','/repos/','getOne','create','GitRepoService','put','./git-repo.service','/projects/','displayId','object','apiUrl','nextPageStart','isDefault','Repo','BadRequestError','metadata','../../api/bitbucket-server-api.service','__metadata','__esModule','find','fromBitbucketServer'];a201_0xe802=function(){return _0x4f9f10;};return a201_0xe802();}a201_0x40aca0();'use strict';var __decorate=this&&this[a201_0x50f29a(0x1d6)]||function(_0x555f0e,_0x52c769,_0x4b7ab7,_0x50cf01){const _0x3a6e45=a201_0x50f29a;var _0x447a63=arguments['length'],_0x13ccc6=_0x447a63<0x3?_0x52c769:_0x50cf01===null?_0x50cf01=Object['getOwnPropertyDescriptor'](_0x52c769,_0x4b7ab7):_0x50cf01,_0x3caac3;if(typeof Reflect===_0x3a6e45(0x1e7)&&typeof Reflect[_0x3a6e45(0x1a9)]==='function')_0x13ccc6=Reflect[_0x3a6e45(0x1a9)](_0x555f0e,_0x52c769,_0x4b7ab7,_0x50cf01);else{for(var _0x22bb3b=_0x555f0e[_0x3a6e45(0x1c6)]-0x1;_0x22bb3b>=0x0;_0x22bb3b--)if(_0x3caac3=_0x555f0e[_0x22bb3b])_0x13ccc6=(_0x447a63<0x3?_0x3caac3(_0x13ccc6):_0x447a63>0x3?_0x3caac3(_0x52c769,_0x4b7ab7,_0x13ccc6):_0x3caac3(_0x52c769,_0x4b7ab7))||_0x13ccc6;}return _0x447a63>0x3&&_0x13ccc6&&Object['defineProperty'](_0x52c769,_0x4b7ab7,_0x13ccc6),_0x13ccc6;},__metadata=this&&this[a201_0x50f29a(0x1ef)]||function(_0x305c09,_0x4af678){const _0x3e3088=a201_0x50f29a;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x3e3088(0x1f3))return Reflect[_0x3e3088(0x1ed)](_0x305c09,_0x4af678);},__param=this&&this[a201_0x50f29a(0x1db)]||function(_0x3306f2,_0x3b0cf7){return function(_0x51dee5,_0x2f71b0){_0x3b0cf7(_0x51dee5,_0x2f71b0,_0x3306f2);};};Object[a201_0x50f29a(0x1bd)](exports,a201_0x50f29a(0x1f0),{'value':!![]}),exports[a201_0x50f29a(0x1bc)]=void 0x0;const bad_request_error_1=require(a201_0x50f29a(0x1de)),not_found_error_1=require(a201_0x50f29a(0x1cc)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a201_0x50f29a(0x1ee)),git_internal_1=require(a201_0x50f29a(0x1c0)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a201_0x50f29a(0x1ba)),git_repo_service_1=require(a201_0x50f29a(0x1e4)),providers_tokens_1=require(a201_0x50f29a(0x1d2)),bitbucket_server_credentials_dto_1=require(a201_0x50f29a(0x1d5));function a201_0x1e9a(_0xe22c16,_0x232782){const _0x759da7=a201_0xe802();return a201_0x1e9a=function(_0x40aca0,_0x1846e9){_0x40aca0=_0x40aca0-0x1a4;let _0xe802bb=_0x759da7[_0x40aca0];return _0xe802bb;},a201_0x1e9a(_0xe22c16,_0x232782);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x50f29a(0x1e2)]{constructor(_0xadbc21,_0x2ea5fc){const _0x37641c=a201_0x50f29a;super(_0xadbc21),this[_0x37641c(0x1b5)]=_0xadbc21,this['project']=_0x2ea5fc[_0x37641c(0x1cf)],this[_0x37641c(0x1c4)]=_0x2ea5fc;}async[a201_0x50f29a(0x1e1)](_0x1a0512){const _0x21d754=a201_0x50f29a;try{const _0x58b927={'name':_0x1a0512[_0x21d754(0x1ab)],'scmId':'git','defaultBranch':_0x1a0512[_0x21d754(0x1c1)],..._0x1a0512[_0x21d754(0x1b8)]||{}},_0x1b370f=await this[_0x21d754(0x1c8)][_0x21d754(0x1b2)](_0x21d754(0x1b1)+this['project']+'/repos',_0x58b927),_0x3fc4f1=repo_class_1[_0x21d754(0x1eb)][_0x21d754(0x1f2)](_0x1b370f,'',this[_0x21d754(0x1b5)],this[_0x21d754(0x1c4)]);return _0x1a0512[_0x21d754(0x1d1)]&&await git_internal_1['Git'][_0x21d754(0x1d9)](_0x3fc4f1,_0x1a0512['defaultBranch']||_0x21d754(0x1cd),'',this[_0x21d754(0x1c4)]),this['getOne'](_0x3fc4f1[_0x21d754(0x1ab)]);}catch(_0x189fdc){if(_0x189fdc instanceof api_error_1['ApiError'])throw _0x189fdc;throw new bad_request_error_1[(_0x21d754(0x1ec))](_0x189fdc);}}async[a201_0x50f29a(0x1a6)](){const _0x12b746=a201_0x50f29a;try{const _0x1bc537=[];let _0x4faa0a;do{_0x4faa0a=await this['request'][_0x12b746(0x1a8)](_0x12b746(0x1b1)+this[_0x12b746(0x1cf)]+_0x12b746(0x1be),{'params':{'limit':0x64,'start':_0x4faa0a?_0x4faa0a[_0x12b746(0x1e9)]:0x0}}),_0x1bc537[_0x12b746(0x1c5)](..._0x4faa0a[_0x12b746(0x1dd)]);}while(!_0x4faa0a[_0x12b746(0x1b0)]);return _0x1bc537[_0x12b746(0x1b7)](_0x1b7233=>repo_class_1[_0x12b746(0x1eb)][_0x12b746(0x1f2)](_0x1b7233,(0x0,utils_1[_0x12b746(0x1ad)])(this[_0x12b746(0x1c8)][_0x12b746(0x1c9)][_0x12b746(0x1d8)]||'',_0x12b746(0x1e5)+this[_0x12b746(0x1cf)]+_0x12b746(0x1df)+_0x1b7233[_0x12b746(0x1c7)]),this[_0x12b746(0x1b5)],this[_0x12b746(0x1c4)]));}catch(_0x1ebe2e){if(_0x1ebe2e instanceof api_error_1[_0x12b746(0x1ac)])throw _0x1ebe2e;throw new not_found_error_1[(_0x12b746(0x1b9))](_0x1ebe2e);}}async['getOne'](_0x3df9a8){const _0x2b7efb=a201_0x50f29a;var _0x4f79e1;try{const _0x3791b8=await this['request']['get'](_0x2b7efb(0x1b1)+this[_0x2b7efb(0x1cf)]+_0x2b7efb(0x1df)+_0x3df9a8),_0x4626a4=repo_class_1['Repo'][_0x2b7efb(0x1f2)](_0x3791b8,(0x0,utils_1['joinURL'])(this[_0x2b7efb(0x1c8)][_0x2b7efb(0x1c9)][_0x2b7efb(0x1d8)]||'',_0x2b7efb(0x1e5)+this[_0x2b7efb(0x1cf)]+_0x2b7efb(0x1df)+_0x3df9a8),this[_0x2b7efb(0x1b5)],this['credentials']),_0x59688a=await this['request'][_0x2b7efb(0x1a8)](_0x4626a4[_0x2b7efb(0x1e8)]+_0x2b7efb(0x1a5))[_0x2b7efb(0x1aa)](_0xcf1323=>_0xcf1323[_0x2b7efb(0x1dd)]);return _0x4626a4[_0x2b7efb(0x1c1)]=(_0x4f79e1=_0x59688a[_0x2b7efb(0x1f1)](_0xac1061=>_0xac1061[_0x2b7efb(0x1ea)]===!![]))===null||_0x4f79e1===void 0x0?void 0x0:_0x4f79e1[_0x2b7efb(0x1e6)],_0x4626a4;}catch(_0x48a379){if(_0x48a379 instanceof api_error_1[_0x2b7efb(0x1ac)])throw _0x48a379;throw new not_found_error_1['NotFoundError'](_0x48a379);}}async[a201_0x50f29a(0x1bb)](_0xc740d8,_0x4696f2){const _0x4c0b53=a201_0x50f29a;try{const _0x496328=await this[_0x4c0b53(0x1c8)][_0x4c0b53(0x1e3)]('projects/'+this['project']+_0x4c0b53(0x1df)+_0xc740d8,_0x4696f2),_0x43de4c=await this['request'][_0x4c0b53(0x1a8)](_0x4c0b53(0x1b1)+this[_0x4c0b53(0x1cf)]+_0x4c0b53(0x1df)+_0xc740d8+'/default-branch'),_0x42158a=repo_class_1[_0x4c0b53(0x1eb)][_0x4c0b53(0x1f2)](_0x496328,(0x0,utils_1[_0x4c0b53(0x1ad)])(this[_0x4c0b53(0x1c8)]['defaults'][_0x4c0b53(0x1d8)]||'',_0x4c0b53(0x1e5)+this[_0x4c0b53(0x1cf)]+_0x4c0b53(0x1df)+_0xc740d8),this[_0x4c0b53(0x1b5)],this['credentials']);return _0x42158a['defaultBranch']=_0x43de4c['displayId'],_0x42158a;}catch(_0x22e73b){if(_0x22e73b instanceof api_error_1[_0x4c0b53(0x1ac)])throw _0x22e73b;throw new not_found_error_1[(_0x4c0b53(0x1b9))](_0x22e73b);}}async[a201_0x50f29a(0x1ae)](_0xb3baeb){const _0x290000=a201_0x50f29a;try{await this[_0x290000(0x1e0)](_0xb3baeb),await this[_0x290000(0x1c8)][_0x290000(0x1ae)](_0x290000(0x1b1)+this[_0x290000(0x1cf)]+'/repos/'+_0xb3baeb);}catch(_0x365f28){if(_0x365f28 instanceof api_error_1['ApiError'])throw _0x365f28;throw new bad_request_error_1['BadRequestError'](_0x365f28);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a201_0x50f29a(0x1cb)][a201_0x50f29a(0x1c4)])),__metadata(a201_0x50f29a(0x1af),[bitbucket_server_api_service_1[a201_0x50f29a(0x1a4)],bitbucket_server_credentials_dto_1[a201_0x50f29a(0x1d3)]])],BitbucketServerRepoService),exports[a201_0x50f29a(0x1bc)]=BitbucketServerRepoService;