function a201_0x10eb(_0x163119,_0x36e2ec){const _0x364abd=a201_0x5348();return a201_0x10eb=function(_0x531a9e,_0x4407c2){_0x531a9e=_0x531a9e-0x13e;let _0x534828=_0x364abd[_0x531a9e];return _0x534828;},a201_0x10eb(_0x163119,_0x36e2ec);}const a201_0x2f5d17=a201_0x10eb;(function(_0x538d3b,_0x24b0e7){const _0x19651b=a201_0x10eb,_0x3a2445=_0x538d3b();while(!![]){try{const _0x5b5014=-parseInt(_0x19651b(0x156))/0x1*(parseInt(_0x19651b(0x16b))/0x2)+-parseInt(_0x19651b(0x149))/0x3+parseInt(_0x19651b(0x14d))/0x4*(-parseInt(_0x19651b(0x187))/0x5)+-parseInt(_0x19651b(0x184))/0x6*(-parseInt(_0x19651b(0x165))/0x7)+parseInt(_0x19651b(0x183))/0x8*(parseInt(_0x19651b(0x188))/0x9)+-parseInt(_0x19651b(0x18b))/0xa*(-parseInt(_0x19651b(0x172))/0xb)+-parseInt(_0x19651b(0x143))/0xc*(parseInt(_0x19651b(0x163))/0xd);if(_0x5b5014===_0x24b0e7)break;else _0x3a2445['push'](_0x3a2445['shift']());}catch(_0x543756){_0x3a2445['push'](_0x3a2445['shift']());}}}(a201_0x5348,0x9b630));const a201_0x4407c2=(function(){let _0x2a19f9=!![];return function(_0x5b960e,_0x24fc19){const _0x19f73e=_0x2a19f9?function(){const _0x44bee8=a201_0x10eb;if(_0x24fc19){const _0x40813f=_0x24fc19[_0x44bee8(0x142)](_0x5b960e,arguments);return _0x24fc19=null,_0x40813f;}}:function(){};return _0x2a19f9=![],_0x19f73e;};}()),a201_0x531a9e=a201_0x4407c2(this,function(){const _0xa68e2a=a201_0x10eb;return a201_0x531a9e['toString']()[_0xa68e2a(0x176)](_0xa68e2a(0x151))['toString']()[_0xa68e2a(0x170)](a201_0x531a9e)[_0xa68e2a(0x176)]('(((.+)+)+)+$');});function a201_0x5348(){const _0x2bffb2=['(((.+)+)+)+$','ApiError','nextPageStart','slug','put','907127gKOImz','BitbucketServerRepoService','../../providers.tokens','Service','GitRepoService','defaultBranch','length','name','/repos/','credentials','typedi','api','defaults','5275153lCuJGh','object','7XNySrh','metadata','project','projects/','../../../internal/git.internal','/repos','2omBALB','Repo','get','BitbucketServerApiService','../repo.class','constructor','push','11WbMCgK','../../credentials/dto/bitbucket-server-credentials.dto','Git','decorate','search','displayId','../../../../../core/errors/api.error','find','delete','apiUrl','NotFoundError','then','fromBitbucketServer','Tokens','./git-repo.service','apiBody','baseURL','664DAxdkd','7278042DwBpRx','function','getOne','5WLPBmC','106479oJnbov','createEmptyBranch','create','12358670KpTDzS','post','request','BadRequestError','defineProperty','map','isDefault','apply','36SBLHoS','/projects/','git','values','__metadata','update','1140018fRdkWH','../../../../../core/errors/not-found.error','joinURL','../../../../shared/utils','1159628TATPTx','getAll','../../api/bitbucket-server-api.service','design:paramtypes'];a201_0x5348=function(){return _0x2bffb2;};return a201_0x5348();}a201_0x531a9e();'use strict';var __decorate=this&&this['__decorate']||function(_0x5ca9ed,_0x535a40,_0x125565,_0xb7cd42){const _0xe312f8=a201_0x10eb;var _0x33abf0=arguments[_0xe312f8(0x15c)],_0x357a80=_0x33abf0<0x3?_0x535a40:_0xb7cd42===null?_0xb7cd42=Object['getOwnPropertyDescriptor'](_0x535a40,_0x125565):_0xb7cd42,_0x21caa4;if(typeof Reflect===_0xe312f8(0x164)&&typeof Reflect['decorate']===_0xe312f8(0x185))_0x357a80=Reflect[_0xe312f8(0x175)](_0x5ca9ed,_0x535a40,_0x125565,_0xb7cd42);else{for(var _0x15732e=_0x5ca9ed[_0xe312f8(0x15c)]-0x1;_0x15732e>=0x0;_0x15732e--)if(_0x21caa4=_0x5ca9ed[_0x15732e])_0x357a80=(_0x33abf0<0x3?_0x21caa4(_0x357a80):_0x33abf0>0x3?_0x21caa4(_0x535a40,_0x125565,_0x357a80):_0x21caa4(_0x535a40,_0x125565))||_0x357a80;}return _0x33abf0>0x3&&_0x357a80&&Object['defineProperty'](_0x535a40,_0x125565,_0x357a80),_0x357a80;},__metadata=this&&this[a201_0x2f5d17(0x147)]||function(_0x2427cf,_0x21f10f){const _0x3c2861=a201_0x2f5d17;if(typeof Reflect==='object'&&typeof Reflect[_0x3c2861(0x166)]===_0x3c2861(0x185))return Reflect[_0x3c2861(0x166)](_0x2427cf,_0x21f10f);},__param=this&&this['__param']||function(_0x43da7f,_0x8d76cf){return function(_0x230bd3,_0x33fffc){_0x8d76cf(_0x230bd3,_0x33fffc,_0x43da7f);};};Object[a201_0x2f5d17(0x13f)](exports,'__esModule',{'value':!![]}),exports[a201_0x2f5d17(0x157)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a201_0x2f5d17(0x14a)),typedi_1=require(a201_0x2f5d17(0x160)),api_error_1=require(a201_0x2f5d17(0x178)),bitbucket_server_api_service_1=require(a201_0x2f5d17(0x14f)),git_internal_1=require(a201_0x2f5d17(0x169)),utils_1=require(a201_0x2f5d17(0x14c)),repo_class_1=require(a201_0x2f5d17(0x16f)),git_repo_service_1=require(a201_0x2f5d17(0x180)),providers_tokens_1=require(a201_0x2f5d17(0x158)),bitbucket_server_credentials_dto_1=require(a201_0x2f5d17(0x173));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a201_0x2f5d17(0x15a)]{constructor(_0x3b4bbf,_0x16fb34){const _0x2f14d2=a201_0x2f5d17;super(_0x3b4bbf),this[_0x2f14d2(0x161)]=_0x3b4bbf,this[_0x2f14d2(0x167)]=_0x16fb34['project'],this[_0x2f14d2(0x15f)]=_0x16fb34;}async[a201_0x2f5d17(0x18a)](_0x10f347){const _0x3ece90=a201_0x2f5d17;try{const _0x423dd9={'name':_0x10f347[_0x3ece90(0x15d)],'scmId':_0x3ece90(0x145),'defaultBranch':_0x10f347['defaultBranch'],..._0x10f347[_0x3ece90(0x181)]||{}},_0xdbd1fd=await this[_0x3ece90(0x18d)][_0x3ece90(0x18c)](_0x3ece90(0x168)+this[_0x3ece90(0x167)]+_0x3ece90(0x16a),_0x423dd9),_0x1ac8b9=repo_class_1[_0x3ece90(0x16c)][_0x3ece90(0x17e)](_0xdbd1fd,'',this[_0x3ece90(0x161)],this['credentials']);return _0x10f347['autoInit']&&await git_internal_1[_0x3ece90(0x174)][_0x3ece90(0x189)](_0x1ac8b9,_0x10f347[_0x3ece90(0x15b)]||'master','',this[_0x3ece90(0x15f)]),this[_0x3ece90(0x186)](_0x1ac8b9[_0x3ece90(0x15d)]);}catch(_0x58c7c4){if(_0x58c7c4 instanceof api_error_1['ApiError'])throw _0x58c7c4;throw new bad_request_error_1[(_0x3ece90(0x13e))](_0x58c7c4);}}async[a201_0x2f5d17(0x14e)](){const _0x38d688=a201_0x2f5d17;try{const _0x2db021=[];let _0x12eb3e;do{_0x12eb3e=await this['request'][_0x38d688(0x16d)](_0x38d688(0x168)+this[_0x38d688(0x167)]+'/repos',{'params':{'limit':0x64,'start':_0x12eb3e?_0x12eb3e[_0x38d688(0x153)]:0x0}}),_0x2db021[_0x38d688(0x171)](..._0x12eb3e['values']);}while(!_0x12eb3e['isLastPage']);return _0x2db021[_0x38d688(0x140)](_0x3a7034=>repo_class_1[_0x38d688(0x16c)]['fromBitbucketServer'](_0x3a7034,(0x0,utils_1['joinURL'])(this['request'][_0x38d688(0x162)][_0x38d688(0x182)]||'',_0x38d688(0x144)+this['project']+_0x38d688(0x15e)+_0x3a7034[_0x38d688(0x154)]),this[_0x38d688(0x161)],this[_0x38d688(0x15f)]));}catch(_0x48b059){if(_0x48b059 instanceof api_error_1[_0x38d688(0x152)])throw _0x48b059;throw new not_found_error_1[(_0x38d688(0x17c))](_0x48b059);}}async[a201_0x2f5d17(0x186)](_0x554625){const _0x3227a6=a201_0x2f5d17;var _0x2ae697;try{const _0x23faad=await this[_0x3227a6(0x18d)][_0x3227a6(0x16d)]('projects/'+this[_0x3227a6(0x167)]+_0x3227a6(0x15e)+_0x554625),_0x55cf7e=repo_class_1['Repo'][_0x3227a6(0x17e)](_0x23faad,(0x0,utils_1[_0x3227a6(0x14b)])(this['request'][_0x3227a6(0x162)][_0x3227a6(0x182)]||'','/projects/'+this[_0x3227a6(0x167)]+_0x3227a6(0x15e)+_0x554625),this[_0x3227a6(0x161)],this[_0x3227a6(0x15f)]),_0x33783a=await this['request'][_0x3227a6(0x16d)](_0x55cf7e[_0x3227a6(0x17b)]+'/branches')[_0x3227a6(0x17d)](_0xdcb870=>_0xdcb870[_0x3227a6(0x146)]);return _0x55cf7e[_0x3227a6(0x15b)]=(_0x2ae697=_0x33783a[_0x3227a6(0x179)](_0x4dfd74=>_0x4dfd74[_0x3227a6(0x141)]===!![]))===null||_0x2ae697===void 0x0?void 0x0:_0x2ae697[_0x3227a6(0x177)],_0x55cf7e;}catch(_0x5b6c7d){if(_0x5b6c7d instanceof api_error_1['ApiError'])throw _0x5b6c7d;throw new not_found_error_1['NotFoundError'](_0x5b6c7d);}}async[a201_0x2f5d17(0x148)](_0x43d576,_0x57e175){const _0x3fc02d=a201_0x2f5d17;try{const _0x441243=await this[_0x3fc02d(0x18d)][_0x3fc02d(0x155)](_0x3fc02d(0x168)+this[_0x3fc02d(0x167)]+_0x3fc02d(0x15e)+_0x43d576,_0x57e175),_0x3e7abb=await this[_0x3fc02d(0x18d)][_0x3fc02d(0x16d)]('projects/'+this[_0x3fc02d(0x167)]+_0x3fc02d(0x15e)+_0x43d576+'/default-branch'),_0x39431c=repo_class_1[_0x3fc02d(0x16c)][_0x3fc02d(0x17e)](_0x441243,(0x0,utils_1[_0x3fc02d(0x14b)])(this['request'][_0x3fc02d(0x162)]['baseURL']||'','/projects/'+this['project']+_0x3fc02d(0x15e)+_0x43d576),this['api'],this['credentials']);return _0x39431c['defaultBranch']=_0x3e7abb[_0x3fc02d(0x177)],_0x39431c;}catch(_0x43b5d7){if(_0x43b5d7 instanceof api_error_1['ApiError'])throw _0x43b5d7;throw new not_found_error_1[(_0x3fc02d(0x17c))](_0x43b5d7);}}async[a201_0x2f5d17(0x17a)](_0x388e89){const _0x79133b=a201_0x2f5d17;try{await this['getOne'](_0x388e89),await this[_0x79133b(0x18d)][_0x79133b(0x17a)](_0x79133b(0x168)+this['project']+'/repos/'+_0x388e89);}catch(_0x1f96f2){if(_0x1f96f2 instanceof api_error_1[_0x79133b(0x152)])throw _0x1f96f2;throw new bad_request_error_1[(_0x79133b(0x13e))](_0x1f96f2);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a201_0x2f5d17(0x159)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a201_0x2f5d17(0x17f)][a201_0x2f5d17(0x15f)])),__metadata(a201_0x2f5d17(0x150),[bitbucket_server_api_service_1[a201_0x2f5d17(0x16e)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;