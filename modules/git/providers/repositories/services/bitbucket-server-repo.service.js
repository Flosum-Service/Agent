const a200_0x14b738=a200_0x4029;(function(_0x5da03f,_0x111beb){const _0x2efe79=a200_0x4029,_0x97d036=_0x5da03f();while(!![]){try{const _0x294d13=-parseInt(_0x2efe79(0xfb))/0x1+-parseInt(_0x2efe79(0xda))/0x2+parseInt(_0x2efe79(0xf0))/0x3+-parseInt(_0x2efe79(0xf3))/0x4*(parseInt(_0x2efe79(0x110))/0x5)+-parseInt(_0x2efe79(0x11a))/0x6*(-parseInt(_0x2efe79(0xec))/0x7)+-parseInt(_0x2efe79(0xe4))/0x8+-parseInt(_0x2efe79(0x111))/0x9*(-parseInt(_0x2efe79(0x103))/0xa);if(_0x294d13===_0x111beb)break;else _0x97d036['push'](_0x97d036['shift']());}catch(_0x199073){_0x97d036['push'](_0x97d036['shift']());}}}(a200_0x55b1,0x649d8));const a200_0x5ba00c=(function(){let _0x2c12ea=!![];return function(_0x175d66,_0x566f00){const _0x61223b=_0x2c12ea?function(){const _0xe0fedb=a200_0x4029;if(_0x566f00){const _0xc2567=_0x566f00[_0xe0fedb(0x119)](_0x175d66,arguments);return _0x566f00=null,_0xc2567;}}:function(){};return _0x2c12ea=![],_0x61223b;};}()),a200_0x3b6c9c=a200_0x5ba00c(this,function(){const _0x5a1a29=a200_0x4029;return a200_0x3b6c9c[_0x5a1a29(0x100)]()[_0x5a1a29(0xd4)](_0x5a1a29(0xfa))[_0x5a1a29(0x100)]()['constructor'](a200_0x3b6c9c)[_0x5a1a29(0xd4)](_0x5a1a29(0xfa));});a200_0x3b6c9c();'use strict';var __decorate=this&&this[a200_0x14b738(0x10d)]||function(_0x3960df,_0x353a1c,_0x2724b1,_0x1a63f9){const _0x154b88=a200_0x14b738;var _0xfef595=arguments['length'],_0x40341f=_0xfef595<0x3?_0x353a1c:_0x1a63f9===null?_0x1a63f9=Object[_0x154b88(0xe1)](_0x353a1c,_0x2724b1):_0x1a63f9,_0x2da388;if(typeof Reflect===_0x154b88(0x104)&&typeof Reflect[_0x154b88(0xfd)]==='function')_0x40341f=Reflect[_0x154b88(0xfd)](_0x3960df,_0x353a1c,_0x2724b1,_0x1a63f9);else{for(var _0x5f3fe9=_0x3960df[_0x154b88(0xfe)]-0x1;_0x5f3fe9>=0x0;_0x5f3fe9--)if(_0x2da388=_0x3960df[_0x5f3fe9])_0x40341f=(_0xfef595<0x3?_0x2da388(_0x40341f):_0xfef595>0x3?_0x2da388(_0x353a1c,_0x2724b1,_0x40341f):_0x2da388(_0x353a1c,_0x2724b1))||_0x40341f;}return _0xfef595>0x3&&_0x40341f&&Object[_0x154b88(0xfc)](_0x353a1c,_0x2724b1,_0x40341f),_0x40341f;},__metadata=this&&this[a200_0x14b738(0xf9)]||function(_0x14490c,_0x2beaab){const _0x12b173=a200_0x14b738;if(typeof Reflect===_0x12b173(0x104)&&typeof Reflect[_0x12b173(0xf4)]===_0x12b173(0xef))return Reflect[_0x12b173(0xf4)](_0x14490c,_0x2beaab);},__param=this&&this['__param']||function(_0x4493ba,_0x3eb05b){return function(_0x9d6721,_0x49bef1){_0x3eb05b(_0x9d6721,_0x49bef1,_0x4493ba);};};Object[a200_0x14b738(0xfc)](exports,'__esModule',{'value':!![]}),exports[a200_0x14b738(0x105)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a200_0x14b738(0x113)),typedi_1=require(a200_0x14b738(0xd1)),api_error_1=require(a200_0x14b738(0xd6)),bitbucket_server_api_service_1=require(a200_0x14b738(0xd5)),git_internal_1=require(a200_0x14b738(0x11c)),utils_1=require(a200_0x14b738(0xd9)),repo_class_1=require(a200_0x14b738(0x116)),git_repo_service_1=require(a200_0x14b738(0xed)),providers_tokens_1=require(a200_0x14b738(0x10a)),bitbucket_server_credentials_dto_1=require(a200_0x14b738(0xf1));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5ae7d8,_0x488878){const _0x26ca44=a200_0x14b738;super(_0x5ae7d8),this[_0x26ca44(0x10c)]=_0x5ae7d8,this[_0x26ca44(0xf5)]=_0x488878['project'],this[_0x26ca44(0x106)]=_0x488878;}async[a200_0x14b738(0xd3)](_0x2a99df){const _0x5e9043=a200_0x14b738;try{const _0x4ff2c4={'name':_0x2a99df[_0x5e9043(0xde)],'scmId':_0x5e9043(0xdc),'defaultBranch':_0x2a99df[_0x5e9043(0xd2)],..._0x2a99df[_0x5e9043(0xf8)]||{}},_0x3fa1a1=await this['request'][_0x5e9043(0x115)]('projects/'+this['project']+'/repos',_0x4ff2c4),_0x45c38b=repo_class_1['Repo'][_0x5e9043(0xf2)](_0x3fa1a1,'',this[_0x5e9043(0x10c)],this[_0x5e9043(0x106)]);return _0x2a99df[_0x5e9043(0x102)]&&await git_internal_1[_0x5e9043(0xd0)][_0x5e9043(0x107)](_0x45c38b,_0x2a99df[_0x5e9043(0xd2)]||'master','',this[_0x5e9043(0x106)]),this[_0x5e9043(0x117)](_0x45c38b[_0x5e9043(0xde)]);}catch(_0x3aa159){if(_0x3aa159 instanceof api_error_1[_0x5e9043(0xe9)])throw _0x3aa159;throw new bad_request_error_1[(_0x5e9043(0xd7))](_0x3aa159);}}async['getAll'](){const _0x9ebe98=a200_0x14b738;try{const _0x5b5565=[];let _0x53201f;do{_0x53201f=await this[_0x9ebe98(0x101)][_0x9ebe98(0x10f)](_0x9ebe98(0x118)+this[_0x9ebe98(0xf5)]+_0x9ebe98(0x112),{'params':{'limit':0x64,'start':_0x53201f?_0x53201f[_0x9ebe98(0xe3)]:0x0}}),_0x5b5565[_0x9ebe98(0xe8)](..._0x53201f[_0x9ebe98(0xe7)]);}while(!_0x53201f['isLastPage']);return _0x5b5565[_0x9ebe98(0xdb)](_0x23a65e=>repo_class_1[_0x9ebe98(0xf7)][_0x9ebe98(0xf2)](_0x23a65e,(0x0,utils_1[_0x9ebe98(0xcf)])(this[_0x9ebe98(0x101)][_0x9ebe98(0x114)][_0x9ebe98(0xf6)]||'',_0x9ebe98(0xe5)+this['project']+_0x9ebe98(0x109)+_0x23a65e[_0x9ebe98(0xe2)]),this['api'],this['credentials']));}catch(_0x14dcab){if(_0x14dcab instanceof api_error_1[_0x9ebe98(0xe9)])throw _0x14dcab;throw new not_found_error_1[(_0x9ebe98(0x108))](_0x14dcab);}}async[a200_0x14b738(0x117)](_0x4c9f70){const _0x4dfdb3=a200_0x14b738;var _0x5453e5;try{const _0x78eddb=await this[_0x4dfdb3(0x101)][_0x4dfdb3(0x10f)](_0x4dfdb3(0x118)+this[_0x4dfdb3(0xf5)]+_0x4dfdb3(0x109)+_0x4c9f70),_0x4ec9c2=repo_class_1[_0x4dfdb3(0xf7)][_0x4dfdb3(0xf2)](_0x78eddb,(0x0,utils_1[_0x4dfdb3(0xcf)])(this[_0x4dfdb3(0x101)][_0x4dfdb3(0x114)][_0x4dfdb3(0xf6)]||'',_0x4dfdb3(0xe5)+this['project']+'/repos/'+_0x4c9f70),this['api'],this[_0x4dfdb3(0x106)]),_0x2559f8=await this[_0x4dfdb3(0x101)]['get'](_0x4ec9c2[_0x4dfdb3(0x10b)]+_0x4dfdb3(0x11b))[_0x4dfdb3(0xe6)](_0x231c4b=>_0x231c4b[_0x4dfdb3(0xe7)]);return _0x4ec9c2['defaultBranch']=(_0x5453e5=_0x2559f8['find'](_0x2332cf=>_0x2332cf[_0x4dfdb3(0xea)]===!![]))===null||_0x5453e5===void 0x0?void 0x0:_0x5453e5[_0x4dfdb3(0xee)],_0x4ec9c2;}catch(_0x5ef9ba){if(_0x5ef9ba instanceof api_error_1[_0x4dfdb3(0xe9)])throw _0x5ef9ba;throw new not_found_error_1[(_0x4dfdb3(0x108))](_0x5ef9ba);}}async[a200_0x14b738(0xff)](_0x92ab3d,_0x13d7c6){const _0x376325=a200_0x14b738;try{const _0x27280e=await this[_0x376325(0x101)][_0x376325(0xeb)](_0x376325(0x118)+this['project']+_0x376325(0x109)+_0x92ab3d,_0x13d7c6),_0x5c1dc1=await this[_0x376325(0x101)][_0x376325(0x10f)](_0x376325(0x118)+this[_0x376325(0xf5)]+_0x376325(0x109)+_0x92ab3d+'/default-branch'),_0x490404=repo_class_1[_0x376325(0xf7)][_0x376325(0xf2)](_0x27280e,(0x0,utils_1[_0x376325(0xcf)])(this['request'][_0x376325(0x114)][_0x376325(0xf6)]||'',_0x376325(0xe5)+this[_0x376325(0xf5)]+_0x376325(0x109)+_0x92ab3d),this[_0x376325(0x10c)],this[_0x376325(0x106)]);return _0x490404[_0x376325(0xd2)]=_0x5c1dc1[_0x376325(0xee)],_0x490404;}catch(_0xa369a2){if(_0xa369a2 instanceof api_error_1[_0x376325(0xe9)])throw _0xa369a2;throw new not_found_error_1[(_0x376325(0x108))](_0xa369a2);}}async[a200_0x14b738(0xdd)](_0x4926b4){const _0x442486=a200_0x14b738;try{await this['getOne'](_0x4926b4),await this[_0x442486(0x101)]['delete']('projects/'+this[_0x442486(0xf5)]+_0x442486(0x109)+_0x4926b4);}catch(_0x3d9e8b){if(_0x3d9e8b instanceof api_error_1[_0x442486(0xe9)])throw _0x3d9e8b;throw new bad_request_error_1[(_0x442486(0xd7))](_0x3d9e8b);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a200_0x14b738(0x11d)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a200_0x14b738(0xe0)][a200_0x14b738(0x106)])),__metadata(a200_0x14b738(0xdf),[bitbucket_server_api_service_1[a200_0x14b738(0x10e)],bitbucket_server_credentials_dto_1[a200_0x14b738(0xd8)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;function a200_0x4029(_0x12503b,_0x365b5a){const _0x52f85b=a200_0x55b1();return a200_0x4029=function(_0x3b6c9c,_0x5ba00c){_0x3b6c9c=_0x3b6c9c-0xcf;let _0x55b1b4=_0x52f85b[_0x3b6c9c];return _0x55b1b4;},a200_0x4029(_0x12503b,_0x365b5a);}function a200_0x55b1(){const _0x24706f=['object','BitbucketServerRepoService','credentials','createEmptyBranch','NotFoundError','/repos/','../../providers.tokens','apiUrl','api','__decorate','BitbucketServerApiService','get','117695fNLnKW','15823854QGBWPB','/repos','../../../../../core/errors/not-found.error','defaults','post','../repo.class','getOne','projects/','apply','42ziSKnD','/branches','../../../internal/git.internal','Service','joinURL','Git','typedi','defaultBranch','create','search','../../api/bitbucket-server-api.service','../../../../../core/errors/api.error','BadRequestError','BitbucketServerCredentialsDto','../../../../shared/utils','964550ovVLmV','map','git','delete','name','design:paramtypes','Tokens','getOwnPropertyDescriptor','slug','nextPageStart','2878144LlseRk','/projects/','then','values','push','ApiError','isDefault','put','234367Uiltwb','./git-repo.service','displayId','function','803958nUjkKQ','../../credentials/dto/bitbucket-server-credentials.dto','fromBitbucketServer','52Axoakp','metadata','project','baseURL','Repo','apiBody','__metadata','(((.+)+)+)+$','700389MwvebA','defineProperty','decorate','length','update','toString','request','autoInit','10jQeTtW'];a200_0x55b1=function(){return _0x24706f;};return a200_0x55b1();}