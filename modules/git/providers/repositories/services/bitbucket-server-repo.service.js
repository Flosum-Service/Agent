const a167_0x47617f=a167_0x5234;(function(_0x2d5012,_0x3ed699){const _0x392d8e=a167_0x5234,_0xd499fe=_0x2d5012();while(!![]){try{const _0x29d912=-parseInt(_0x392d8e(0x213))/0x1+parseInt(_0x392d8e(0x1f6))/0x2*(parseInt(_0x392d8e(0x229))/0x3)+-parseInt(_0x392d8e(0x21a))/0x4+parseInt(_0x392d8e(0x217))/0x5+parseInt(_0x392d8e(0x236))/0x6*(-parseInt(_0x392d8e(0x204))/0x7)+-parseInt(_0x392d8e(0x1f5))/0x8+-parseInt(_0x392d8e(0x230))/0x9*(-parseInt(_0x392d8e(0x212))/0xa);if(_0x29d912===_0x3ed699)break;else _0xd499fe['push'](_0xd499fe['shift']());}catch(_0x1be9c9){_0xd499fe['push'](_0xd499fe['shift']());}}}(a167_0x4bc4,0x6f9d5));function a167_0x4bc4(){const _0x35d67e=['/projects/','values','../../credentials/dto/bitbucket-server-credentials.dto','typedi','get','name','object','10NNaOtJ','26009TYnMTG','git','defaults','BadRequestError','3165530hFPTts','function','displayId','462200qRwVrS','__esModule','__metadata','isDefault','../../../../../core/errors/api.error','credentials','../repo.class','BitbucketServerCredentialsDto','__param','/repos','master','search','defineProperty','/branches','put','9GcRraI','nextPageStart','fromBitbucketServer','Repo','BitbucketServerRepoService','Git','ApiError','7410348PEPXrl','find','decorate','/default-branch','../../api/bitbucket-server-api.service','../../../../../core/errors/bad-request.error','6GssjjH','../../../../../core/errors/not-found.error','apiUrl','Tokens','./git-repo.service','GitRepoService','/repos/','getOne','../../providers.tokens','createEmptyBranch','defaultBranch','api','2262384RtnYqs','82470kzqqHE','BitbucketServerApiService','joinURL','length','apply','projects/','then','getAll','autoInit','create','request','../../../internal/git.internal','project','(((.+)+)+)+$','4890571FPEMpN','baseURL','isLastPage','slug','NotFoundError','toString','post'];a167_0x4bc4=function(){return _0x35d67e;};return a167_0x4bc4();}const a167_0x34dfbb=(function(){let _0x32f4e5=!![];return function(_0x10c588,_0x1094f2){const _0x400b21=_0x32f4e5?function(){const _0x45bd74=a167_0x5234;if(_0x1094f2){const _0x1c465c=_0x1094f2[_0x45bd74(0x1fa)](_0x10c588,arguments);return _0x1094f2=null,_0x1c465c;}}:function(){};return _0x32f4e5=![],_0x400b21;};}()),a167_0x33e066=a167_0x34dfbb(this,function(){const _0x5d0a00=a167_0x5234;return a167_0x33e066['toString']()[_0x5d0a00(0x225)](_0x5d0a00(0x203))[_0x5d0a00(0x209)]()['constructor'](a167_0x33e066)[_0x5d0a00(0x225)](_0x5d0a00(0x203));});a167_0x33e066();'use strict';var __decorate=this&&this['__decorate']||function(_0x3187c0,_0x9b9056,_0x9eb757,_0x259c8c){const _0x463b73=a167_0x5234;var _0x4fbb4a=arguments[_0x463b73(0x1f9)],_0xa7ee6a=_0x4fbb4a<0x3?_0x9b9056:_0x259c8c===null?_0x259c8c=Object['getOwnPropertyDescriptor'](_0x9b9056,_0x9eb757):_0x259c8c,_0x120c3a;if(typeof Reflect===_0x463b73(0x211)&&typeof Reflect[_0x463b73(0x232)]==='function')_0xa7ee6a=Reflect[_0x463b73(0x232)](_0x3187c0,_0x9b9056,_0x9eb757,_0x259c8c);else{for(var _0x55e544=_0x3187c0[_0x463b73(0x1f9)]-0x1;_0x55e544>=0x0;_0x55e544--)if(_0x120c3a=_0x3187c0[_0x55e544])_0xa7ee6a=(_0x4fbb4a<0x3?_0x120c3a(_0xa7ee6a):_0x4fbb4a>0x3?_0x120c3a(_0x9b9056,_0x9eb757,_0xa7ee6a):_0x120c3a(_0x9b9056,_0x9eb757))||_0xa7ee6a;}return _0x4fbb4a>0x3&&_0xa7ee6a&&Object[_0x463b73(0x226)](_0x9b9056,_0x9eb757,_0xa7ee6a),_0xa7ee6a;},__metadata=this&&this[a167_0x47617f(0x21c)]||function(_0x3a6905,_0x16b01f){const _0x4b730d=a167_0x47617f;if(typeof Reflect===_0x4b730d(0x211)&&typeof Reflect['metadata']===_0x4b730d(0x218))return Reflect['metadata'](_0x3a6905,_0x16b01f);},__param=this&&this[a167_0x47617f(0x222)]||function(_0x30d3b6,_0x41ec40){return function(_0x289703,_0x2a91f2){_0x41ec40(_0x289703,_0x2a91f2,_0x30d3b6);};};Object[a167_0x47617f(0x226)](exports,a167_0x47617f(0x21b),{'value':!![]}),exports[a167_0x47617f(0x22d)]=void 0x0;function a167_0x5234(_0x3b2765,_0x4e19ab){const _0x1bfa5e=a167_0x4bc4();return a167_0x5234=function(_0x33e066,_0x34dfbb){_0x33e066=_0x33e066-0x1ef;let _0x4bc441=_0x1bfa5e[_0x33e066];return _0x4bc441;},a167_0x5234(_0x3b2765,_0x4e19ab);}const bad_request_error_1=require(a167_0x47617f(0x235)),not_found_error_1=require(a167_0x47617f(0x237)),typedi_1=require(a167_0x47617f(0x20e)),api_error_1=require(a167_0x47617f(0x21e)),bitbucket_server_api_service_1=require(a167_0x47617f(0x234)),git_internal_1=require(a167_0x47617f(0x201)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a167_0x47617f(0x220)),git_repo_service_1=require(a167_0x47617f(0x23a)),providers_tokens_1=require(a167_0x47617f(0x1f1)),bitbucket_server_credentials_dto_1=require(a167_0x47617f(0x20d));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a167_0x47617f(0x23b)]{constructor(_0x5b405e,_0x149383){const _0x5665b9=a167_0x47617f;super(_0x5b405e),this[_0x5665b9(0x1f4)]=_0x5b405e,this[_0x5665b9(0x202)]=_0x149383['project'],this[_0x5665b9(0x21f)]=_0x149383;}async[a167_0x47617f(0x1ff)](_0x561358){const _0x169402=a167_0x47617f;try{const _0x2a71ce={'name':_0x561358[_0x169402(0x210)],'scmId':_0x169402(0x214),'defaultBranch':_0x561358[_0x169402(0x1f3)],..._0x561358['apiBody']||{}},_0xde6629=await this[_0x169402(0x200)][_0x169402(0x20a)](_0x169402(0x1fb)+this[_0x169402(0x202)]+_0x169402(0x223),_0x2a71ce),_0x1d1ab5=repo_class_1[_0x169402(0x22c)]['fromBitbucketServer'](_0xde6629,'',this[_0x169402(0x1f4)],this[_0x169402(0x21f)]);return _0x561358[_0x169402(0x1fe)]&&await git_internal_1[_0x169402(0x22e)][_0x169402(0x1f2)](_0x1d1ab5,_0x561358['defaultBranch']||_0x169402(0x224),'',this[_0x169402(0x21f)]),this[_0x169402(0x1f0)](_0x1d1ab5[_0x169402(0x210)]);}catch(_0x2d0971){if(_0x2d0971 instanceof api_error_1[_0x169402(0x22f)])throw _0x2d0971;throw new bad_request_error_1[(_0x169402(0x216))](_0x2d0971);}}async[a167_0x47617f(0x1fd)](){const _0x7b784d=a167_0x47617f;try{const _0x2d5792=[];let _0x4d3020;do{_0x4d3020=await this[_0x7b784d(0x200)][_0x7b784d(0x20f)](_0x7b784d(0x1fb)+this['project']+_0x7b784d(0x223),{'params':{'limit':0x64,'start':_0x4d3020?_0x4d3020[_0x7b784d(0x22a)]:0x0}}),_0x2d5792['push'](..._0x4d3020['values']);}while(!_0x4d3020[_0x7b784d(0x206)]);return _0x2d5792['map'](_0x4ba7ec=>repo_class_1[_0x7b784d(0x22c)][_0x7b784d(0x22b)](_0x4ba7ec,(0x0,utils_1[_0x7b784d(0x1f8)])(this[_0x7b784d(0x200)][_0x7b784d(0x215)]['baseURL']||'','/projects/'+this[_0x7b784d(0x202)]+_0x7b784d(0x1ef)+_0x4ba7ec[_0x7b784d(0x207)]),this[_0x7b784d(0x1f4)],this[_0x7b784d(0x21f)]));}catch(_0x218e6b){if(_0x218e6b instanceof api_error_1[_0x7b784d(0x22f)])throw _0x218e6b;throw new not_found_error_1[(_0x7b784d(0x208))](_0x218e6b);}}async[a167_0x47617f(0x1f0)](_0x35092f){const _0x294085=a167_0x47617f;var _0x5f37f7;try{const _0x1bae11=await this[_0x294085(0x200)][_0x294085(0x20f)]('projects/'+this[_0x294085(0x202)]+_0x294085(0x1ef)+_0x35092f),_0x2680e0=repo_class_1['Repo'][_0x294085(0x22b)](_0x1bae11,(0x0,utils_1['joinURL'])(this[_0x294085(0x200)][_0x294085(0x215)]['baseURL']||'',_0x294085(0x20b)+this[_0x294085(0x202)]+_0x294085(0x1ef)+_0x35092f),this[_0x294085(0x1f4)],this[_0x294085(0x21f)]),_0x3295b7=await this[_0x294085(0x200)]['get'](_0x2680e0[_0x294085(0x238)]+_0x294085(0x227))[_0x294085(0x1fc)](_0x3e8850=>_0x3e8850[_0x294085(0x20c)]);return _0x2680e0['defaultBranch']=(_0x5f37f7=_0x3295b7[_0x294085(0x231)](_0x58979=>_0x58979[_0x294085(0x21d)]===!![]))===null||_0x5f37f7===void 0x0?void 0x0:_0x5f37f7[_0x294085(0x219)],_0x2680e0;}catch(_0x1a205a){if(_0x1a205a instanceof api_error_1['ApiError'])throw _0x1a205a;throw new not_found_error_1['NotFoundError'](_0x1a205a);}}async['update'](_0x11296a,_0x2be63c){const _0x456f8a=a167_0x47617f;try{const _0x444367=await this[_0x456f8a(0x200)][_0x456f8a(0x228)](_0x456f8a(0x1fb)+this['project']+_0x456f8a(0x1ef)+_0x11296a,_0x2be63c),_0x5d1a91=await this[_0x456f8a(0x200)][_0x456f8a(0x20f)](_0x456f8a(0x1fb)+this['project']+_0x456f8a(0x1ef)+_0x11296a+_0x456f8a(0x233)),_0xdea9c4=repo_class_1[_0x456f8a(0x22c)]['fromBitbucketServer'](_0x444367,(0x0,utils_1[_0x456f8a(0x1f8)])(this[_0x456f8a(0x200)][_0x456f8a(0x215)][_0x456f8a(0x205)]||'',_0x456f8a(0x20b)+this['project']+'/repos/'+_0x11296a),this[_0x456f8a(0x1f4)],this['credentials']);return _0xdea9c4[_0x456f8a(0x1f3)]=_0x5d1a91[_0x456f8a(0x219)],_0xdea9c4;}catch(_0x5c49ce){if(_0x5c49ce instanceof api_error_1[_0x456f8a(0x22f)])throw _0x5c49ce;throw new not_found_error_1[(_0x456f8a(0x208))](_0x5c49ce);}}async['delete'](_0x1743fa){const _0x38ea29=a167_0x47617f;try{await this[_0x38ea29(0x1f0)](_0x1743fa),await this['request']['delete'](_0x38ea29(0x1fb)+this[_0x38ea29(0x202)]+_0x38ea29(0x1ef)+_0x1743fa);}catch(_0x44b60e){if(_0x44b60e instanceof api_error_1['ApiError'])throw _0x44b60e;throw new bad_request_error_1[(_0x38ea29(0x216))](_0x44b60e);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a167_0x47617f(0x239)][a167_0x47617f(0x21f)])),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a167_0x47617f(0x1f7)],bitbucket_server_credentials_dto_1[a167_0x47617f(0x221)]])],BitbucketServerRepoService),exports[a167_0x47617f(0x22d)]=BitbucketServerRepoService;