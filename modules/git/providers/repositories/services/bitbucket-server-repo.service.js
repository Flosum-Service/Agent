const a237_0x44c63e=a237_0x4edd;(function(_0x5ad4f1,_0x4ef709){const _0x430d0f=a237_0x4edd,_0x4a4562=_0x5ad4f1();while(!![]){try{const _0xb42a6d=-parseInt(_0x430d0f(0x1e6))/0x1*(-parseInt(_0x430d0f(0x1f5))/0x2)+-parseInt(_0x430d0f(0x1d8))/0x3+-parseInt(_0x430d0f(0x20b))/0x4*(-parseInt(_0x430d0f(0x1d3))/0x5)+-parseInt(_0x430d0f(0x207))/0x6+-parseInt(_0x430d0f(0x206))/0x7+-parseInt(_0x430d0f(0x1cd))/0x8*(parseInt(_0x430d0f(0x211))/0x9)+-parseInt(_0x430d0f(0x1e0))/0xa*(-parseInt(_0x430d0f(0x1ee))/0xb);if(_0xb42a6d===_0x4ef709)break;else _0x4a4562['push'](_0x4a4562['shift']());}catch(_0x43a005){_0x4a4562['push'](_0x4a4562['shift']());}}}(a237_0x3296,0xde758));const a237_0x57dcde=(function(){let _0x4e5b97=!![];return function(_0x31a668,_0x5ae6a1){const _0x2ae3d8=_0x4e5b97?function(){const _0x21d3d8=a237_0x4edd;if(_0x5ae6a1){const _0x454092=_0x5ae6a1[_0x21d3d8(0x1da)](_0x31a668,arguments);return _0x5ae6a1=null,_0x454092;}}:function(){};return _0x4e5b97=![],_0x2ae3d8;};}()),a237_0x3313b0=a237_0x57dcde(this,function(){const _0x5f4d17=a237_0x4edd;return a237_0x3313b0[_0x5f4d17(0x1f2)]()[_0x5f4d17(0x1d1)](_0x5f4d17(0x204))[_0x5f4d17(0x1f2)]()[_0x5f4d17(0x1cc)](a237_0x3313b0)[_0x5f4d17(0x1d1)](_0x5f4d17(0x204));});a237_0x3313b0();'use strict';var __decorate=this&&this[a237_0x44c63e(0x1f3)]||function(_0x50676c,_0x2271e9,_0x1c2229,_0x319c64){const _0x36e3bf=a237_0x44c63e;var _0x31433b=arguments[_0x36e3bf(0x1ed)],_0x20c480=_0x31433b<0x3?_0x2271e9:_0x319c64===null?_0x319c64=Object[_0x36e3bf(0x1f1)](_0x2271e9,_0x1c2229):_0x319c64,_0x4e1df7;if(typeof Reflect===_0x36e3bf(0x218)&&typeof Reflect[_0x36e3bf(0x1ef)]===_0x36e3bf(0x1df))_0x20c480=Reflect[_0x36e3bf(0x1ef)](_0x50676c,_0x2271e9,_0x1c2229,_0x319c64);else{for(var _0x2482b0=_0x50676c[_0x36e3bf(0x1ed)]-0x1;_0x2482b0>=0x0;_0x2482b0--)if(_0x4e1df7=_0x50676c[_0x2482b0])_0x20c480=(_0x31433b<0x3?_0x4e1df7(_0x20c480):_0x31433b>0x3?_0x4e1df7(_0x2271e9,_0x1c2229,_0x20c480):_0x4e1df7(_0x2271e9,_0x1c2229))||_0x20c480;}return _0x31433b>0x3&&_0x20c480&&Object['defineProperty'](_0x2271e9,_0x1c2229,_0x20c480),_0x20c480;},__metadata=this&&this[a237_0x44c63e(0x20a)]||function(_0x19f42c,_0x3eb3bf){const _0x483054=a237_0x44c63e;if(typeof Reflect===_0x483054(0x218)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x19f42c,_0x3eb3bf);},__param=this&&this[a237_0x44c63e(0x216)]||function(_0x271f65,_0x49a870){return function(_0xab5884,_0x58503e){_0x49a870(_0xab5884,_0x58503e,_0x271f65);};};Object[a237_0x44c63e(0x1c9)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;function a237_0x4edd(_0x476b2d,_0x4f333b){const _0x2d0bda=a237_0x3296();return a237_0x4edd=function(_0x3313b0,_0x57dcde){_0x3313b0=_0x3313b0-0x1c9;let _0x32966c=_0x2d0bda[_0x3313b0];return _0x32966c;},a237_0x4edd(_0x476b2d,_0x4f333b);}const bad_request_error_1=require(a237_0x44c63e(0x20c)),not_found_error_1=require(a237_0x44c63e(0x1ff)),typedi_1=require(a237_0x44c63e(0x1d2)),api_error_1=require(a237_0x44c63e(0x1d6)),bitbucket_server_api_service_1=require('../../api/bitbucket-server-api.service'),git_internal_1=require(a237_0x44c63e(0x1f6)),utils_1=require(a237_0x44c63e(0x213)),repo_class_1=require(a237_0x44c63e(0x1f4)),git_repo_service_1=require(a237_0x44c63e(0x1f8)),providers_tokens_1=require(a237_0x44c63e(0x1dc)),bitbucket_server_credentials_dto_1=require('../../credentials/dto/bitbucket-server-credentials.dto');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x43a6b4,_0x5f287f){const _0x58ca77=a237_0x44c63e;super(_0x43a6b4),this['api']=_0x43a6b4,this[_0x58ca77(0x201)]=_0x5f287f[_0x58ca77(0x201)],this[_0x58ca77(0x20e)]=_0x5f287f;}async[a237_0x44c63e(0x1cf)](_0x1c2b3a){const _0x382480=a237_0x44c63e;try{const _0x4e6095={'name':_0x1c2b3a['name'],'scmId':'git','defaultBranch':_0x1c2b3a['defaultBranch'],..._0x1c2b3a[_0x382480(0x205)]||{}},_0xbf3db2=await this[_0x382480(0x1cb)][_0x382480(0x214)](_0x382480(0x1fe)+this['project']+'/repos',_0x4e6095),_0x3d97fe=repo_class_1[_0x382480(0x1e7)][_0x382480(0x1d7)](_0xbf3db2,'',this[_0x382480(0x217)],this[_0x382480(0x20e)]);return _0x1c2b3a[_0x382480(0x1ea)]&&await git_internal_1[_0x382480(0x1e9)][_0x382480(0x1ec)](_0x3d97fe,_0x1c2b3a[_0x382480(0x1f9)]||_0x382480(0x1dd),'',this['credentials']),this[_0x382480(0x1f0)](_0x3d97fe[_0x382480(0x20d)]);}catch(_0x4dd65a){if(_0x4dd65a instanceof api_error_1[_0x382480(0x1de)])throw _0x4dd65a;throw new bad_request_error_1['BadRequestError'](_0x4dd65a);}}async[a237_0x44c63e(0x203)](){const _0x215a60=a237_0x44c63e;try{const _0x2a3b4b=[];let _0x996953;do{_0x996953=await this[_0x215a60(0x1cb)][_0x215a60(0x1ce)](_0x215a60(0x1fe)+this[_0x215a60(0x201)]+_0x215a60(0x1fb),{'params':{'limit':0x64,'start':_0x996953?_0x996953[_0x215a60(0x202)]:0x0}}),_0x2a3b4b[_0x215a60(0x1eb)](..._0x996953[_0x215a60(0x200)]);}while(!_0x996953[_0x215a60(0x1e1)]);return _0x2a3b4b[_0x215a60(0x1f7)](_0x407b7c=>repo_class_1[_0x215a60(0x1e7)][_0x215a60(0x1d7)](_0x407b7c,(0x0,utils_1[_0x215a60(0x1d5)])(this[_0x215a60(0x1cb)][_0x215a60(0x1e2)][_0x215a60(0x1db)]||'','/projects/'+this[_0x215a60(0x201)]+_0x215a60(0x208)+_0x407b7c[_0x215a60(0x1fa)]),this['api'],this[_0x215a60(0x20e)]));}catch(_0xd870e1){if(_0xd870e1 instanceof api_error_1['ApiError'])throw _0xd870e1;throw new not_found_error_1[(_0x215a60(0x210))](_0xd870e1);}}async[a237_0x44c63e(0x1f0)](_0x36ccfb){const _0x401567=a237_0x44c63e;var _0x413fbb;try{const _0x4a6b8b=await this[_0x401567(0x1cb)][_0x401567(0x1ce)](_0x401567(0x1fe)+this[_0x401567(0x201)]+_0x401567(0x208)+_0x36ccfb),_0x815772=repo_class_1[_0x401567(0x1e7)][_0x401567(0x1d7)](_0x4a6b8b,(0x0,utils_1['joinURL'])(this[_0x401567(0x1cb)][_0x401567(0x1e2)][_0x401567(0x1db)]||'',_0x401567(0x1d9)+this[_0x401567(0x201)]+'/repos/'+_0x36ccfb),this[_0x401567(0x217)],this[_0x401567(0x20e)]),_0x2fba29=await this['request'][_0x401567(0x1ce)](_0x815772[_0x401567(0x1ca)]+_0x401567(0x1e8))[_0x401567(0x1fc)](_0x1f60d6=>_0x1f60d6[_0x401567(0x200)]);return _0x815772[_0x401567(0x1f9)]=(_0x413fbb=_0x2fba29[_0x401567(0x219)](_0x5967c3=>_0x5967c3[_0x401567(0x1fd)]===!![]))===null||_0x413fbb===void 0x0?void 0x0:_0x413fbb[_0x401567(0x1d0)],_0x815772;}catch(_0x355b48){if(_0x355b48 instanceof api_error_1['ApiError'])throw _0x355b48;throw new not_found_error_1[(_0x401567(0x210))](_0x355b48);}}async[a237_0x44c63e(0x1e3)](_0x4b926a,_0x3f06de){const _0x130d7a=a237_0x44c63e;try{const _0x4a3e75=await this['request'][_0x130d7a(0x212)](_0x130d7a(0x1fe)+this['project']+'/repos/'+_0x4b926a,_0x3f06de),_0x172d29=await this[_0x130d7a(0x1cb)]['get'](_0x130d7a(0x1fe)+this[_0x130d7a(0x201)]+'/repos/'+_0x4b926a+'/default-branch'),_0x24d9c6=repo_class_1['Repo'][_0x130d7a(0x1d7)](_0x4a3e75,(0x0,utils_1[_0x130d7a(0x1d5)])(this['request']['defaults'][_0x130d7a(0x1db)]||'',_0x130d7a(0x1d9)+this[_0x130d7a(0x201)]+_0x130d7a(0x208)+_0x4b926a),this[_0x130d7a(0x217)],this[_0x130d7a(0x20e)]);return _0x24d9c6[_0x130d7a(0x1f9)]=_0x172d29['displayId'],_0x24d9c6;}catch(_0x4356cf){if(_0x4356cf instanceof api_error_1[_0x130d7a(0x1de)])throw _0x4356cf;throw new not_found_error_1[(_0x130d7a(0x210))](_0x4356cf);}}async[a237_0x44c63e(0x1e4)](_0x162a76){const _0x12bb94=a237_0x44c63e;try{await this[_0x12bb94(0x1f0)](_0x162a76),await this[_0x12bb94(0x1cb)][_0x12bb94(0x1e4)]('projects/'+this['project']+'/repos/'+_0x162a76);}catch(_0x2f6e82){if(_0x2f6e82 instanceof api_error_1[_0x12bb94(0x1de)])throw _0x2f6e82;throw new bad_request_error_1['BadRequestError'](_0x2f6e82);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a237_0x44c63e(0x1d4)])(providers_tokens_1[a237_0x44c63e(0x209)][a237_0x44c63e(0x20e)])),__metadata(a237_0x44c63e(0x215),[bitbucket_server_api_service_1[a237_0x44c63e(0x20f)],bitbucket_server_credentials_dto_1['BitbucketServerCredentialsDto']])],BitbucketServerRepoService),exports[a237_0x44c63e(0x1e5)]=BitbucketServerRepoService;function a237_0x3296(){const _0x309d68=['projects/','../../../../../core/errors/not-found.error','values','project','nextPageStart','getAll','(((.+)+)+)+$','apiBody','4011630SnDFJJ','2377716leDwyp','/repos/','Tokens','__metadata','64pKhiBu','../../../../../core/errors/bad-request.error','name','credentials','BitbucketServerApiService','NotFoundError','1044qbjJyi','put','../../../../shared/utils','post','design:paramtypes','__param','api','object','find','defineProperty','apiUrl','request','constructor','88096UTsNkn','get','create','displayId','search','typedi','327190qKwfue','Inject','joinURL','../../../../../core/errors/api.error','fromBitbucketServer','3095844HWUvWl','/projects/','apply','baseURL','../../providers.tokens','master','ApiError','function','10VGKMRr','isLastPage','defaults','update','delete','BitbucketServerRepoService','679963OzjfeC','Repo','/branches','Git','autoInit','push','createEmptyBranch','length','19612714jaUAfi','decorate','getOne','getOwnPropertyDescriptor','toString','__decorate','../repo.class','4brItjV','../../../internal/git.internal','map','./git-repo.service','defaultBranch','slug','/repos','then','isDefault'];a237_0x3296=function(){return _0x309d68;};return a237_0x3296();}