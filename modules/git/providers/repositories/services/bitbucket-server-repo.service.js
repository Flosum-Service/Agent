const a166_0xe9f598=a166_0x35fe;(function(_0x15db34,_0x15c8d2){const _0x3ffa11=a166_0x35fe,_0x1bc639=_0x15db34();while(!![]){try{const _0x2bf3c9=parseInt(_0x3ffa11(0x1f3))/0x1*(-parseInt(_0x3ffa11(0x1f4))/0x2)+parseInt(_0x3ffa11(0x1f1))/0x3*(-parseInt(_0x3ffa11(0x1f9))/0x4)+-parseInt(_0x3ffa11(0x1dc))/0x5+-parseInt(_0x3ffa11(0x1da))/0x6+parseInt(_0x3ffa11(0x207))/0x7+parseInt(_0x3ffa11(0x202))/0x8*(parseInt(_0x3ffa11(0x205))/0x9)+-parseInt(_0x3ffa11(0x211))/0xa*(-parseInt(_0x3ffa11(0x1f5))/0xb);if(_0x2bf3c9===_0x15c8d2)break;else _0x1bc639['push'](_0x1bc639['shift']());}catch(_0x3d6f10){_0x1bc639['push'](_0x1bc639['shift']());}}}(a166_0x3d91,0x97a3f));const a166_0x67d65f=(function(){let _0x2eae04=!![];return function(_0x3737d9,_0x53a101){const _0x447f47=_0x2eae04?function(){const _0x2d46b2=a166_0x35fe;if(_0x53a101){const _0x274d17=_0x53a101[_0x2d46b2(0x203)](_0x3737d9,arguments);return _0x53a101=null,_0x274d17;}}:function(){};return _0x2eae04=![],_0x447f47;};}()),a166_0x336b35=a166_0x67d65f(this,function(){const _0x500261=a166_0x35fe;return a166_0x336b35['toString']()[_0x500261(0x1fa)](_0x500261(0x1db))[_0x500261(0x1e3)]()['constructor'](a166_0x336b35)[_0x500261(0x1fa)](_0x500261(0x1db));});a166_0x336b35();'use strict';var __decorate=this&&this[a166_0xe9f598(0x1c9)]||function(_0x34b7ad,_0x44bf8a,_0x2f4ae5,_0x2d7dc0){const _0xecceaa=a166_0xe9f598;var _0x2664c2=arguments[_0xecceaa(0x1fb)],_0x369f5b=_0x2664c2<0x3?_0x44bf8a:_0x2d7dc0===null?_0x2d7dc0=Object[_0xecceaa(0x1ee)](_0x44bf8a,_0x2f4ae5):_0x2d7dc0,_0x12e37f;if(typeof Reflect===_0xecceaa(0x1e1)&&typeof Reflect[_0xecceaa(0x1e6)]===_0xecceaa(0x1de))_0x369f5b=Reflect['decorate'](_0x34b7ad,_0x44bf8a,_0x2f4ae5,_0x2d7dc0);else{for(var _0x4c5156=_0x34b7ad[_0xecceaa(0x1fb)]-0x1;_0x4c5156>=0x0;_0x4c5156--)if(_0x12e37f=_0x34b7ad[_0x4c5156])_0x369f5b=(_0x2664c2<0x3?_0x12e37f(_0x369f5b):_0x2664c2>0x3?_0x12e37f(_0x44bf8a,_0x2f4ae5,_0x369f5b):_0x12e37f(_0x44bf8a,_0x2f4ae5))||_0x369f5b;}return _0x2664c2>0x3&&_0x369f5b&&Object['defineProperty'](_0x44bf8a,_0x2f4ae5,_0x369f5b),_0x369f5b;},__metadata=this&&this[a166_0xe9f598(0x1ca)]||function(_0x2ee7e9,_0x52d288){const _0x34ac89=a166_0xe9f598;if(typeof Reflect===_0x34ac89(0x1e1)&&typeof Reflect[_0x34ac89(0x1dd)]==='function')return Reflect[_0x34ac89(0x1dd)](_0x2ee7e9,_0x52d288);},__param=this&&this[a166_0xe9f598(0x1fd)]||function(_0x3800a2,_0x24e9e3){return function(_0x3c75cb,_0x5c1451){_0x24e9e3(_0x3c75cb,_0x5c1451,_0x3800a2);};};function a166_0x3d91(){const _0x21dc6d=['search','length','request','__param','put','post','/branches','design:paramtypes','425368abCSiR','apply','baseURL','144uVaaUy','project','1436575AsFDJQ','../../../../../core/errors/api.error','git','get','/default-branch','../../providers.tokens','typedi','/projects/','BitbucketServerCredentialsDto','BadRequestError','10QvPLXt','GitRepoService','autoInit','Service','joinURL','ApiError','__decorate','__metadata','projects/','fromBitbucketServer','defineProperty','Repo','getOne','Git','/repos/','slug','isDefault','values','defaultBranch','BitbucketServerRepoService','Inject','api','master','6157350xUXlou','(((.+)+)+)+$','5986525OKbHoY','metadata','function','../repo.class','push','object','BitbucketServerApiService','toString','NotFoundError','credentials','decorate','find','Tokens','__esModule','nextPageStart','../../credentials/dto/bitbucket-server-credentials.dto','../../../../../core/errors/not-found.error','/repos','getOwnPropertyDescriptor','name','../../../internal/git.internal','87brzCPe','map','80317npKHvq','22lWldnB','34358203PZpgtL','../../api/bitbucket-server-api.service','../../../../../core/errors/bad-request.error','defaults','62248CmGMps'];a166_0x3d91=function(){return _0x21dc6d;};return a166_0x3d91();}function a166_0x35fe(_0x58cc6e,_0xe74b51){const _0x135580=a166_0x3d91();return a166_0x35fe=function(_0x336b35,_0x67d65f){_0x336b35=_0x336b35-0x1c4;let _0x3d9117=_0x135580[_0x336b35];return _0x3d9117;},a166_0x35fe(_0x58cc6e,_0xe74b51);}Object[a166_0xe9f598(0x1cd)](exports,a166_0xe9f598(0x1e9),{'value':!![]}),exports[a166_0xe9f598(0x1d6)]=void 0x0;const bad_request_error_1=require(a166_0xe9f598(0x1f7)),not_found_error_1=require(a166_0xe9f598(0x1ec)),typedi_1=require(a166_0xe9f598(0x20d)),api_error_1=require(a166_0xe9f598(0x208)),bitbucket_server_api_service_1=require(a166_0xe9f598(0x1f6)),git_internal_1=require(a166_0xe9f598(0x1f0)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a166_0xe9f598(0x1df)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a166_0xe9f598(0x20c)),bitbucket_server_credentials_dto_1=require(a166_0xe9f598(0x1eb));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a166_0xe9f598(0x1c4)]{constructor(_0x22cbb4,_0x1e13a0){const _0x50b7eb=a166_0xe9f598;super(_0x22cbb4),this[_0x50b7eb(0x1d8)]=_0x22cbb4,this[_0x50b7eb(0x206)]=_0x1e13a0[_0x50b7eb(0x206)],this[_0x50b7eb(0x1e5)]=_0x1e13a0;}async['create'](_0x2155ea){const _0x245590=a166_0xe9f598;try{const _0x8a84cc={'name':_0x2155ea[_0x245590(0x1ef)],'scmId':_0x245590(0x209),'defaultBranch':_0x2155ea['defaultBranch'],..._0x2155ea['apiBody']||{}},_0x202268=await this[_0x245590(0x1fc)][_0x245590(0x1ff)](_0x245590(0x1cb)+this[_0x245590(0x206)]+_0x245590(0x1ed),_0x8a84cc),_0x36e5f9=repo_class_1['Repo'][_0x245590(0x1cc)](_0x202268,'',this[_0x245590(0x1d8)],this[_0x245590(0x1e5)]);return _0x2155ea[_0x245590(0x1c5)]&&await git_internal_1[_0x245590(0x1d0)]['createEmptyBranch'](_0x36e5f9,_0x2155ea[_0x245590(0x1d5)]||_0x245590(0x1d9),'',this['credentials']),this[_0x245590(0x1cf)](_0x36e5f9[_0x245590(0x1ef)]);}catch(_0x40d901){if(_0x40d901 instanceof api_error_1[_0x245590(0x1c8)])throw _0x40d901;throw new bad_request_error_1[(_0x245590(0x210))](_0x40d901);}}async['getAll'](){const _0x50d5bf=a166_0xe9f598;try{const _0x48bd7a=[];let _0x478dd4;do{_0x478dd4=await this['request'][_0x50d5bf(0x20a)](_0x50d5bf(0x1cb)+this[_0x50d5bf(0x206)]+_0x50d5bf(0x1ed),{'params':{'limit':0x64,'start':_0x478dd4?_0x478dd4[_0x50d5bf(0x1ea)]:0x0}}),_0x48bd7a[_0x50d5bf(0x1e0)](..._0x478dd4['values']);}while(!_0x478dd4['isLastPage']);return _0x48bd7a[_0x50d5bf(0x1f2)](_0x14b149=>repo_class_1[_0x50d5bf(0x1ce)][_0x50d5bf(0x1cc)](_0x14b149,(0x0,utils_1[_0x50d5bf(0x1c7)])(this[_0x50d5bf(0x1fc)][_0x50d5bf(0x1f8)][_0x50d5bf(0x204)]||'',_0x50d5bf(0x20e)+this[_0x50d5bf(0x206)]+_0x50d5bf(0x1d1)+_0x14b149[_0x50d5bf(0x1d2)]),this[_0x50d5bf(0x1d8)],this[_0x50d5bf(0x1e5)]));}catch(_0x3d72be){if(_0x3d72be instanceof api_error_1[_0x50d5bf(0x1c8)])throw _0x3d72be;throw new not_found_error_1[(_0x50d5bf(0x1e4))](_0x3d72be);}}async[a166_0xe9f598(0x1cf)](_0x4192f3){const _0x113f85=a166_0xe9f598;var _0x3a0e02;try{const _0x523415=await this['request']['get'](_0x113f85(0x1cb)+this[_0x113f85(0x206)]+_0x113f85(0x1d1)+_0x4192f3),_0x45f338=repo_class_1[_0x113f85(0x1ce)]['fromBitbucketServer'](_0x523415,(0x0,utils_1[_0x113f85(0x1c7)])(this[_0x113f85(0x1fc)][_0x113f85(0x1f8)][_0x113f85(0x204)]||'','/projects/'+this[_0x113f85(0x206)]+_0x113f85(0x1d1)+_0x4192f3),this[_0x113f85(0x1d8)],this['credentials']),_0x812fac=await this[_0x113f85(0x1fc)][_0x113f85(0x20a)](_0x45f338['apiUrl']+_0x113f85(0x200))['then'](_0x30e428=>_0x30e428[_0x113f85(0x1d4)]);return _0x45f338['defaultBranch']=(_0x3a0e02=_0x812fac[_0x113f85(0x1e7)](_0x3961c4=>_0x3961c4[_0x113f85(0x1d3)]===!![]))===null||_0x3a0e02===void 0x0?void 0x0:_0x3a0e02['displayId'],_0x45f338;}catch(_0x4378cf){if(_0x4378cf instanceof api_error_1[_0x113f85(0x1c8)])throw _0x4378cf;throw new not_found_error_1[(_0x113f85(0x1e4))](_0x4378cf);}}async['update'](_0x2433ab,_0x5b58d5){const _0x5aa9b2=a166_0xe9f598;try{const _0x58c239=await this[_0x5aa9b2(0x1fc)][_0x5aa9b2(0x1fe)](_0x5aa9b2(0x1cb)+this[_0x5aa9b2(0x206)]+'/repos/'+_0x2433ab,_0x5b58d5),_0x48b1a5=await this[_0x5aa9b2(0x1fc)][_0x5aa9b2(0x20a)]('projects/'+this[_0x5aa9b2(0x206)]+_0x5aa9b2(0x1d1)+_0x2433ab+_0x5aa9b2(0x20b)),_0x502199=repo_class_1['Repo'][_0x5aa9b2(0x1cc)](_0x58c239,(0x0,utils_1['joinURL'])(this[_0x5aa9b2(0x1fc)][_0x5aa9b2(0x1f8)][_0x5aa9b2(0x204)]||'',_0x5aa9b2(0x20e)+this[_0x5aa9b2(0x206)]+_0x5aa9b2(0x1d1)+_0x2433ab),this['api'],this[_0x5aa9b2(0x1e5)]);return _0x502199[_0x5aa9b2(0x1d5)]=_0x48b1a5['displayId'],_0x502199;}catch(_0x1213dd){if(_0x1213dd instanceof api_error_1[_0x5aa9b2(0x1c8)])throw _0x1213dd;throw new not_found_error_1[(_0x5aa9b2(0x1e4))](_0x1213dd);}}async['delete'](_0x2c0a2f){const _0x58b6bd=a166_0xe9f598;try{await this[_0x58b6bd(0x1cf)](_0x2c0a2f),await this[_0x58b6bd(0x1fc)]['delete'](_0x58b6bd(0x1cb)+this[_0x58b6bd(0x206)]+'/repos/'+_0x2c0a2f);}catch(_0x3e3474){if(_0x3e3474 instanceof api_error_1[_0x58b6bd(0x1c8)])throw _0x3e3474;throw new bad_request_error_1['BadRequestError'](_0x3e3474);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1[a166_0xe9f598(0x1c6)])(),__param(0x1,(0x0,typedi_1[a166_0xe9f598(0x1d7)])(providers_tokens_1[a166_0xe9f598(0x1e8)][a166_0xe9f598(0x1e5)])),__metadata(a166_0xe9f598(0x201),[bitbucket_server_api_service_1[a166_0xe9f598(0x1e2)],bitbucket_server_credentials_dto_1[a166_0xe9f598(0x20f)]])],BitbucketServerRepoService),exports[a166_0xe9f598(0x1d6)]=BitbucketServerRepoService;