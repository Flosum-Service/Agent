const a238_0x504ebb=a238_0x2514;(function(_0x2452ab,_0x23f5a5){const _0x1f3d57=a238_0x2514,_0x52dc6d=_0x2452ab();while(!![]){try{const _0x4d0bcd=-parseInt(_0x1f3d57(0x108))/0x1*(parseInt(_0x1f3d57(0x119))/0x2)+-parseInt(_0x1f3d57(0xf4))/0x3*(parseInt(_0x1f3d57(0x11d))/0x4)+parseInt(_0x1f3d57(0x123))/0x5*(parseInt(_0x1f3d57(0xf5))/0x6)+-parseInt(_0x1f3d57(0x10b))/0x7*(-parseInt(_0x1f3d57(0x122))/0x8)+parseInt(_0x1f3d57(0xed))/0x9*(parseInt(_0x1f3d57(0x102))/0xa)+parseInt(_0x1f3d57(0x115))/0xb*(parseInt(_0x1f3d57(0x104))/0xc)+-parseInt(_0x1f3d57(0x132))/0xd;if(_0x4d0bcd===_0x23f5a5)break;else _0x52dc6d['push'](_0x52dc6d['shift']());}catch(_0x54277b){_0x52dc6d['push'](_0x52dc6d['shift']());}}}(a238_0x1631,0x850c9));const a238_0x3eafb9=(function(){let _0x2d70af=!![];return function(_0x51b982,_0x47601f){const _0xc3486=_0x2d70af?function(){if(_0x47601f){const _0x3a3a6e=_0x47601f['apply'](_0x51b982,arguments);return _0x47601f=null,_0x3a3a6e;}}:function(){};return _0x2d70af=![],_0xc3486;};}()),a238_0xbe3b39=a238_0x3eafb9(this,function(){const _0x16f9a2=a238_0x2514;return a238_0xbe3b39[_0x16f9a2(0xff)]()['search'](_0x16f9a2(0x10f))[_0x16f9a2(0xff)]()[_0x16f9a2(0xe4)](a238_0xbe3b39)[_0x16f9a2(0x126)](_0x16f9a2(0x10f));});a238_0xbe3b39();'use strict';var __decorate=this&&this[a238_0x504ebb(0x12a)]||function(_0x2c922d,_0x32d3f7,_0x39b211,_0x42fb30){const _0x4571fe=a238_0x504ebb;var _0x7f9168=arguments['length'],_0x4725c5=_0x7f9168<0x3?_0x32d3f7:_0x42fb30===null?_0x42fb30=Object[_0x4571fe(0xe5)](_0x32d3f7,_0x39b211):_0x42fb30,_0x6385ae;if(typeof Reflect===_0x4571fe(0xf9)&&typeof Reflect[_0x4571fe(0x117)]===_0x4571fe(0x103))_0x4725c5=Reflect[_0x4571fe(0x117)](_0x2c922d,_0x32d3f7,_0x39b211,_0x42fb30);else{for(var _0x212bdd=_0x2c922d[_0x4571fe(0xe9)]-0x1;_0x212bdd>=0x0;_0x212bdd--)if(_0x6385ae=_0x2c922d[_0x212bdd])_0x4725c5=(_0x7f9168<0x3?_0x6385ae(_0x4725c5):_0x7f9168>0x3?_0x6385ae(_0x32d3f7,_0x39b211,_0x4725c5):_0x6385ae(_0x32d3f7,_0x39b211))||_0x4725c5;}return _0x7f9168>0x3&&_0x4725c5&&Object[_0x4571fe(0x112)](_0x32d3f7,_0x39b211,_0x4725c5),_0x4725c5;},__metadata=this&&this[a238_0x504ebb(0x121)]||function(_0x320e7e,_0x3af5d5){const _0x5c24fc=a238_0x504ebb;if(typeof Reflect===_0x5c24fc(0xf9)&&typeof Reflect[_0x5c24fc(0x116)]===_0x5c24fc(0x103))return Reflect['metadata'](_0x320e7e,_0x3af5d5);},__param=this&&this['__param']||function(_0x2f5982,_0x3edcd1){return function(_0x2c82cb,_0x245343){_0x3edcd1(_0x2c82cb,_0x245343,_0x2f5982);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;function a238_0x1631(){const _0x3df3b8=['Inject','/projects/','1720432JzgmYM','/repos','apiBody','apiUrl','__metadata','3605512VQNixh','25jOdGrL','../../api/bitbucket-server-api.service','BitbucketServerCredentialsDto','search','master','Tokens','defaults','__decorate','push','getOne','/branches','credentials','../../../../../core/errors/not-found.error','ApiError','BadRequestError','1204697gsRcFV','../../../../../core/errors/api.error','api','constructor','getOwnPropertyDescriptor','typedi','name','../repo.class','length','Repo','BitbucketServerRepoService','fromBitbucketServer','1107nLWHeO','project','/repos/','then','design:paramtypes','../../providers.tokens','../../../internal/git.internal','3IQTIVZ','1015458HTUTja','Git','defaultBranch','BitbucketServerApiService','object','get','NotFoundError','request','/default-branch','post','toString','../../../../../core/errors/bad-request.error','values','37860LOKVOb','function','12UJEzFZ','../../credentials/dto/bitbucket-server-credentials.dto','git','createEmptyBranch','32569BoHUyB','joinURL','create','7YShTiT','./git-repo.service','nextPageStart','baseURL','(((.+)+)+)+$','delete','projects/','defineProperty','GitRepoService','isLastPage','596761VJMOuU','metadata','decorate','put','46mERJAq','update'];a238_0x1631=function(){return _0x3df3b8;};return a238_0x1631();}const bad_request_error_1=require(a238_0x504ebb(0x100)),not_found_error_1=require(a238_0x504ebb(0x12f)),typedi_1=require(a238_0x504ebb(0xe6)),api_error_1=require(a238_0x504ebb(0x133)),bitbucket_server_api_service_1=require(a238_0x504ebb(0x124)),git_internal_1=require(a238_0x504ebb(0xf3)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a238_0x504ebb(0xe8)),git_repo_service_1=require(a238_0x504ebb(0x10c)),providers_tokens_1=require(a238_0x504ebb(0xf2)),bitbucket_server_credentials_dto_1=require(a238_0x504ebb(0x105));function a238_0x2514(_0xab8d5a,_0x5ca737){const _0x158ea8=a238_0x1631();return a238_0x2514=function(_0xbe3b39,_0x3eafb9){_0xbe3b39=_0xbe3b39-0xe3;let _0x1631f4=_0x158ea8[_0xbe3b39];return _0x1631f4;},a238_0x2514(_0xab8d5a,_0x5ca737);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a238_0x504ebb(0x113)]{constructor(_0x577aec,_0x3202fa){const _0x3276fa=a238_0x504ebb;super(_0x577aec),this[_0x3276fa(0xe3)]=_0x577aec,this[_0x3276fa(0xee)]=_0x3202fa[_0x3276fa(0xee)],this[_0x3276fa(0x12e)]=_0x3202fa;}async[a238_0x504ebb(0x10a)](_0x553928){const _0xa33dc=a238_0x504ebb;try{const _0x4b8b12={'name':_0x553928[_0xa33dc(0xe7)],'scmId':_0xa33dc(0x106),'defaultBranch':_0x553928[_0xa33dc(0xf7)],..._0x553928[_0xa33dc(0x11f)]||{}},_0x241b39=await this[_0xa33dc(0xfc)][_0xa33dc(0xfe)]('projects/'+this[_0xa33dc(0xee)]+_0xa33dc(0x11e),_0x4b8b12),_0x238828=repo_class_1[_0xa33dc(0xea)][_0xa33dc(0xec)](_0x241b39,'',this['api'],this[_0xa33dc(0x12e)]);return _0x553928['autoInit']&&await git_internal_1[_0xa33dc(0xf6)][_0xa33dc(0x107)](_0x238828,_0x553928['defaultBranch']||_0xa33dc(0x127),'',this[_0xa33dc(0x12e)]),this[_0xa33dc(0x12c)](_0x238828[_0xa33dc(0xe7)]);}catch(_0x18ed04){if(_0x18ed04 instanceof api_error_1[_0xa33dc(0x130)])throw _0x18ed04;throw new bad_request_error_1['BadRequestError'](_0x18ed04);}}async['getAll'](){const _0x41c3c2=a238_0x504ebb;try{const _0x93072c=[];let _0x1dc208;do{_0x1dc208=await this['request'][_0x41c3c2(0xfa)]('projects/'+this[_0x41c3c2(0xee)]+_0x41c3c2(0x11e),{'params':{'limit':0x64,'start':_0x1dc208?_0x1dc208[_0x41c3c2(0x10d)]:0x0}}),_0x93072c[_0x41c3c2(0x12b)](..._0x1dc208['values']);}while(!_0x1dc208[_0x41c3c2(0x114)]);return _0x93072c['map'](_0x514227=>repo_class_1[_0x41c3c2(0xea)][_0x41c3c2(0xec)](_0x514227,(0x0,utils_1['joinURL'])(this[_0x41c3c2(0xfc)][_0x41c3c2(0x129)][_0x41c3c2(0x10e)]||'',_0x41c3c2(0x11c)+this['project']+_0x41c3c2(0xef)+_0x514227['slug']),this[_0x41c3c2(0xe3)],this['credentials']));}catch(_0x11e787){if(_0x11e787 instanceof api_error_1['ApiError'])throw _0x11e787;throw new not_found_error_1[(_0x41c3c2(0xfb))](_0x11e787);}}async[a238_0x504ebb(0x12c)](_0x5da125){const _0x53e424=a238_0x504ebb;var _0x571fe0;try{const _0x5f2b2a=await this[_0x53e424(0xfc)][_0x53e424(0xfa)]('projects/'+this['project']+_0x53e424(0xef)+_0x5da125),_0x240114=repo_class_1[_0x53e424(0xea)][_0x53e424(0xec)](_0x5f2b2a,(0x0,utils_1[_0x53e424(0x109)])(this[_0x53e424(0xfc)][_0x53e424(0x129)][_0x53e424(0x10e)]||'',_0x53e424(0x11c)+this[_0x53e424(0xee)]+_0x53e424(0xef)+_0x5da125),this['api'],this['credentials']),_0x2437fc=await this[_0x53e424(0xfc)][_0x53e424(0xfa)](_0x240114[_0x53e424(0x120)]+_0x53e424(0x12d))[_0x53e424(0xf0)](_0x21abbd=>_0x21abbd[_0x53e424(0x101)]);return _0x240114[_0x53e424(0xf7)]=(_0x571fe0=_0x2437fc['find'](_0x1636fa=>_0x1636fa['isDefault']===!![]))===null||_0x571fe0===void 0x0?void 0x0:_0x571fe0['displayId'],_0x240114;}catch(_0x45c59d){if(_0x45c59d instanceof api_error_1[_0x53e424(0x130)])throw _0x45c59d;throw new not_found_error_1[(_0x53e424(0xfb))](_0x45c59d);}}async[a238_0x504ebb(0x11a)](_0x117c91,_0x7590c6){const _0x22567a=a238_0x504ebb;try{const _0x327466=await this[_0x22567a(0xfc)][_0x22567a(0x118)](_0x22567a(0x111)+this[_0x22567a(0xee)]+'/repos/'+_0x117c91,_0x7590c6),_0x4ea450=await this[_0x22567a(0xfc)]['get']('projects/'+this[_0x22567a(0xee)]+_0x22567a(0xef)+_0x117c91+_0x22567a(0xfd)),_0x188b0e=repo_class_1[_0x22567a(0xea)][_0x22567a(0xec)](_0x327466,(0x0,utils_1[_0x22567a(0x109)])(this[_0x22567a(0xfc)]['defaults']['baseURL']||'',_0x22567a(0x11c)+this['project']+_0x22567a(0xef)+_0x117c91),this[_0x22567a(0xe3)],this[_0x22567a(0x12e)]);return _0x188b0e[_0x22567a(0xf7)]=_0x4ea450['displayId'],_0x188b0e;}catch(_0x4f90be){if(_0x4f90be instanceof api_error_1['ApiError'])throw _0x4f90be;throw new not_found_error_1[(_0x22567a(0xfb))](_0x4f90be);}}async[a238_0x504ebb(0x110)](_0x157ea3){const _0x28ea03=a238_0x504ebb;try{await this[_0x28ea03(0x12c)](_0x157ea3),await this['request'][_0x28ea03(0x110)](_0x28ea03(0x111)+this['project']+_0x28ea03(0xef)+_0x157ea3);}catch(_0x4c9940){if(_0x4c9940 instanceof api_error_1['ApiError'])throw _0x4c9940;throw new bad_request_error_1[(_0x28ea03(0x131))](_0x4c9940);}}};BitbucketServerRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a238_0x504ebb(0x11b)])(providers_tokens_1[a238_0x504ebb(0x128)][a238_0x504ebb(0x12e)])),__metadata(a238_0x504ebb(0xf1),[bitbucket_server_api_service_1[a238_0x504ebb(0xf8)],bitbucket_server_credentials_dto_1[a238_0x504ebb(0x125)]])],BitbucketServerRepoService),exports[a238_0x504ebb(0xeb)]=BitbucketServerRepoService;