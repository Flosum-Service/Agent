const a237_0x52b6ed=a237_0x1336;(function(_0xbc6cc4,_0x288631){const _0x5d479b=a237_0x1336,_0x3be1e5=_0xbc6cc4();while(!![]){try{const _0x3f2691=parseInt(_0x5d479b(0xb4))/0x1+-parseInt(_0x5d479b(0x9e))/0x2+parseInt(_0x5d479b(0xb3))/0x3+-parseInt(_0x5d479b(0xd3))/0x4+parseInt(_0x5d479b(0xa2))/0x5+-parseInt(_0x5d479b(0xc1))/0x6+parseInt(_0x5d479b(0xb5))/0x7*(parseInt(_0x5d479b(0xa6))/0x8);if(_0x3f2691===_0x288631)break;else _0x3be1e5['push'](_0x3be1e5['shift']());}catch(_0x15a764){_0x3be1e5['push'](_0x3be1e5['shift']());}}}(a237_0xd9d7,0xbe769));const a237_0x2b25f3=(function(){let _0x19a594=!![];return function(_0x4ed4ad,_0x36aa44){const _0x411b85=_0x19a594?function(){const _0x14b1bb=a237_0x1336;if(_0x36aa44){const _0x3ff444=_0x36aa44[_0x14b1bb(0xdc)](_0x4ed4ad,arguments);return _0x36aa44=null,_0x3ff444;}}:function(){};return _0x19a594=![],_0x411b85;};}()),a237_0x572007=a237_0x2b25f3(this,function(){const _0x29a2e6=a237_0x1336;return a237_0x572007['toString']()[_0x29a2e6(0xbc)](_0x29a2e6(0xaa))[_0x29a2e6(0xc4)]()[_0x29a2e6(0xbd)](a237_0x572007)[_0x29a2e6(0xbc)]('(((.+)+)+)+$');});function a237_0x1336(_0x3e842e,_0x1c042d){const _0x6300e4=a237_0xd9d7();return a237_0x1336=function(_0x572007,_0x2b25f3){_0x572007=_0x572007-0x9d;let _0xd9d793=_0x6300e4[_0x572007];return _0xd9d793;},a237_0x1336(_0x3e842e,_0x1c042d);}a237_0x572007();'use strict';var __decorate=this&&this[a237_0x52b6ed(0xb7)]||function(_0x9f856b,_0x40bc19,_0x4cbe7b,_0x319d9f){const _0x56c8a7=a237_0x52b6ed;var _0x22abeb=arguments[_0x56c8a7(0xbf)],_0x1798a9=_0x22abeb<0x3?_0x40bc19:_0x319d9f===null?_0x319d9f=Object[_0x56c8a7(0xd7)](_0x40bc19,_0x4cbe7b):_0x319d9f,_0x1070b3;if(typeof Reflect===_0x56c8a7(0xda)&&typeof Reflect[_0x56c8a7(0xa0)]===_0x56c8a7(0xd1))_0x1798a9=Reflect[_0x56c8a7(0xa0)](_0x9f856b,_0x40bc19,_0x4cbe7b,_0x319d9f);else{for(var _0x48bd75=_0x9f856b[_0x56c8a7(0xbf)]-0x1;_0x48bd75>=0x0;_0x48bd75--)if(_0x1070b3=_0x9f856b[_0x48bd75])_0x1798a9=(_0x22abeb<0x3?_0x1070b3(_0x1798a9):_0x22abeb>0x3?_0x1070b3(_0x40bc19,_0x4cbe7b,_0x1798a9):_0x1070b3(_0x40bc19,_0x4cbe7b))||_0x1798a9;}return _0x22abeb>0x3&&_0x1798a9&&Object[_0x56c8a7(0xc2)](_0x40bc19,_0x4cbe7b,_0x1798a9),_0x1798a9;},__metadata=this&&this[a237_0x52b6ed(0xa5)]||function(_0x5c208b,_0x18fe3c){const _0x48dc2e=a237_0x52b6ed;if(typeof Reflect===_0x48dc2e(0xda)&&typeof Reflect[_0x48dc2e(0xb1)]==='function')return Reflect['metadata'](_0x5c208b,_0x18fe3c);},__param=this&&this[a237_0x52b6ed(0xc8)]||function(_0xde7bc5,_0x18fa14){return function(_0x48cfe9,_0x1d9852){_0x18fa14(_0x48cfe9,_0x1d9852,_0xde7bc5);};};Object['defineProperty'](exports,a237_0x52b6ed(0xcd),{'value':!![]}),exports[a237_0x52b6ed(0xcf)]=void 0x0;function a237_0xd9d7(){const _0x58e8ad=['__param','baseURL','name','map','createEmptyBranch','__esModule','Tokens','AzureRepoService','Repo','function','delete','4751660jpnXgu','getAll','organization','patch','getOwnPropertyDescriptor','NotFoundError','../../../../../core/errors/not-found.error','object','value','apply','getOne','AzureCredentialsDto','725984ArIRCV','master','decorate','../repo.class','7179815piTsPJ','defaultBranch','repositories','__metadata','8ffQIyQ','credentials','../../credentials/dto/azure-credentials.dto','repositories/','(((.+)+)+)+$','../../../../../core/errors/bad-request.error','Git','ApiError','defaults','../../providers.tokens','autoInit','metadata','request','4433790kHneKy','579994PHuAjb','1911301awhLdT','project','__decorate','create','get','design:paramtypes','fromAzure','search','constructor','BadRequestError','length','GitRepoService','8615316ucIFwR','defineProperty','/_apis/git','toString','api','post','Inject'];a237_0xd9d7=function(){return _0x58e8ad;};return a237_0xd9d7();}const bad_request_error_1=require(a237_0x52b6ed(0xab)),not_found_error_1=require(a237_0x52b6ed(0xd9)),azure_api_service_1=require('../../api/azure-api.service'),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require('../../../internal/git.internal'),repo_class_1=require(a237_0x52b6ed(0xa1)),git_repo_service_1=require('./git-repo.service'),azure_credentials_dto_1=require(a237_0x52b6ed(0xa8)),providers_tokens_1=require(a237_0x52b6ed(0xaf));let AzureRepoService=class AzureRepoService extends git_repo_service_1[a237_0x52b6ed(0xc0)]{constructor(_0x22bb2a,_0x1f99de){const _0x1fbe40=a237_0x52b6ed;super(_0x22bb2a),this[_0x1fbe40(0xc5)]=_0x22bb2a,this['organization']=_0x1f99de[_0x1fbe40(0xd5)],this[_0x1fbe40(0xb6)]=_0x1f99de[_0x1fbe40(0xb6)],this['credentials']=_0x1f99de,this[_0x1fbe40(0xb2)][_0x1fbe40(0xae)]['baseURL']=this['request'][_0x1fbe40(0xae)][_0x1fbe40(0xc9)]+'/'+this[_0x1fbe40(0xd5)]+'/'+this[_0x1fbe40(0xb6)]+_0x1fbe40(0xc3);}async[a237_0x52b6ed(0xb8)](_0x489dd8){const _0x5ea558=a237_0x52b6ed;try{const _0x1af23c=await this[_0x5ea558(0xb2)][_0x5ea558(0xc6)](_0x5ea558(0xa4),_0x489dd8),_0x506d44=repo_class_1[_0x5ea558(0xd0)][_0x5ea558(0xbb)](_0x1af23c,this[_0x5ea558(0xc5)],this[_0x5ea558(0xa7)]);return _0x489dd8[_0x5ea558(0xb0)]&&await git_internal_1[_0x5ea558(0xac)][_0x5ea558(0xcc)](_0x506d44,_0x489dd8[_0x5ea558(0xa3)]||{'name':_0x5ea558(0x9f)},'',this[_0x5ea558(0xa7)]),this['getOne'](_0x506d44[_0x5ea558(0xca)]);}catch(_0x4f8354){if(_0x4f8354 instanceof api_error_1['ApiError'])throw _0x4f8354;throw new bad_request_error_1[(_0x5ea558(0xbe))](_0x4f8354);}}async['getOne'](_0x5e4ad4){const _0x5e8e27=a237_0x52b6ed;try{const _0x354d45=await this[_0x5e8e27(0xb2)][_0x5e8e27(0xb9)](_0x5e8e27(0xa9)+_0x5e4ad4);return repo_class_1[_0x5e8e27(0xd0)]['fromAzure'](_0x354d45,this['api'],this['credentials']);}catch(_0x45547b){if(_0x45547b instanceof api_error_1[_0x5e8e27(0xad)])throw _0x45547b;throw new not_found_error_1[(_0x5e8e27(0xd8))](_0x45547b);}}async[a237_0x52b6ed(0xd4)](){const _0x348afa=a237_0x52b6ed;try{const _0x427dc7=await this['request'][_0x348afa(0xb9)](_0x348afa(0xa4));return _0x427dc7[_0x348afa(0xdb)][_0x348afa(0xcb)](_0x571f91=>repo_class_1['Repo']['fromAzure'](_0x571f91,this[_0x348afa(0xc5)],this[_0x348afa(0xa7)]));}catch(_0xc50db3){if(_0xc50db3 instanceof api_error_1[_0x348afa(0xad)])throw _0xc50db3;throw new not_found_error_1[(_0x348afa(0xd8))](_0xc50db3);}}async['update'](_0x3eb924,_0x4b1451){const _0x38a9a9=a237_0x52b6ed;try{const _0x14ff67=await this[_0x38a9a9(0xdd)](_0x3eb924),_0x32139f=await this[_0x38a9a9(0xb2)][_0x38a9a9(0xd6)](_0x14ff67['apiUrl'],_0x4b1451);return repo_class_1[_0x38a9a9(0xd0)][_0x38a9a9(0xbb)](_0x32139f,this[_0x38a9a9(0xc5)],this[_0x38a9a9(0xa7)]);}catch(_0x2855ed){if(_0x2855ed instanceof api_error_1['ApiError'])throw _0x2855ed;throw new bad_request_error_1[(_0x38a9a9(0xbe))](_0x2855ed);}}async[a237_0x52b6ed(0xd2)](_0xf262c1){const _0x33f5fa=a237_0x52b6ed;try{const _0x5183c0=await this[_0x33f5fa(0xb2)][_0x33f5fa(0xb9)](_0x33f5fa(0xa9)+_0xf262c1);await this[_0x33f5fa(0xb2)][_0x33f5fa(0xd2)]('repositories/'+_0x5183c0['id']);}catch(_0x4e6d7b){if(_0x4e6d7b instanceof api_error_1['ApiError'])throw _0x4e6d7b;throw new not_found_error_1[(_0x33f5fa(0xd8))](_0x4e6d7b);}}};AzureRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a237_0x52b6ed(0xc7)])(providers_tokens_1[a237_0x52b6ed(0xce)][a237_0x52b6ed(0xa7)])),__metadata(a237_0x52b6ed(0xba),[azure_api_service_1['AzureApiService'],azure_credentials_dto_1[a237_0x52b6ed(0x9d)]])],AzureRepoService),exports[a237_0x52b6ed(0xcf)]=AzureRepoService;