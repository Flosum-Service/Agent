const a152_0x40bc05=a152_0x6572;(function(_0x55377d,_0x18ee61){const _0x41fa91=a152_0x6572,_0x1240fb=_0x55377d();while(!![]){try{const _0x510f1a=-parseInt(_0x41fa91(0xfb))/0x1*(parseInt(_0x41fa91(0x100))/0x2)+-parseInt(_0x41fa91(0xeb))/0x3+parseInt(_0x41fa91(0xec))/0x4*(parseInt(_0x41fa91(0xf8))/0x5)+parseInt(_0x41fa91(0xfd))/0x6+-parseInt(_0x41fa91(0xe1))/0x7*(parseInt(_0x41fa91(0xda))/0x8)+-parseInt(_0x41fa91(0xee))/0x9*(-parseInt(_0x41fa91(0xd0))/0xa)+parseInt(_0x41fa91(0xf7))/0xb*(parseInt(_0x41fa91(0xfe))/0xc);if(_0x510f1a===_0x18ee61)break;else _0x1240fb['push'](_0x1240fb['shift']());}catch(_0x5653a6){_0x1240fb['push'](_0x1240fb['shift']());}}}(a152_0x5dfc,0xd77b6));const a152_0x3929af=(function(){let _0x19ad41=!![];return function(_0x198e54,_0x23ba2b){const _0x22270c=_0x19ad41?function(){const _0x124605=a152_0x6572;if(_0x23ba2b){const _0x3b2594=_0x23ba2b[_0x124605(0xd5)](_0x198e54,arguments);return _0x23ba2b=null,_0x3b2594;}}:function(){};return _0x19ad41=![],_0x22270c;};}()),a152_0x5e754c=a152_0x3929af(this,function(){const _0x5c95c0=a152_0x6572;return a152_0x5e754c[_0x5c95c0(0xef)]()[_0x5c95c0(0xc8)]('(((.+)+)+)+$')[_0x5c95c0(0xef)]()['constructor'](a152_0x5e754c)[_0x5c95c0(0xc8)](_0x5c95c0(0xe5));});a152_0x5e754c();'use strict';function a152_0x6572(_0x3445a3,_0xaeed8b){const _0x54dfc5=a152_0x5dfc();return a152_0x6572=function(_0x5e754c,_0x3929af){_0x5e754c=_0x5e754c-0xc5;let _0x5dfcb8=_0x54dfc5[_0x5e754c];return _0x5dfcb8;},a152_0x6572(_0x3445a3,_0xaeed8b);}var __decorate=this&&this[a152_0x40bc05(0xd3)]||function(_0x278ed4,_0x35c9d6,_0x1104d5,_0x245912){const _0x45692d=a152_0x40bc05;var _0x1b3c0a=arguments[_0x45692d(0xf5)],_0x3e3baa=_0x1b3c0a<0x3?_0x35c9d6:_0x245912===null?_0x245912=Object[_0x45692d(0xdc)](_0x35c9d6,_0x1104d5):_0x245912,_0x3bdeba;if(typeof Reflect===_0x45692d(0xe2)&&typeof Reflect[_0x45692d(0xd9)]===_0x45692d(0xd1))_0x3e3baa=Reflect[_0x45692d(0xd9)](_0x278ed4,_0x35c9d6,_0x1104d5,_0x245912);else{for(var _0x109dc5=_0x278ed4[_0x45692d(0xf5)]-0x1;_0x109dc5>=0x0;_0x109dc5--)if(_0x3bdeba=_0x278ed4[_0x109dc5])_0x3e3baa=(_0x1b3c0a<0x3?_0x3bdeba(_0x3e3baa):_0x1b3c0a>0x3?_0x3bdeba(_0x35c9d6,_0x1104d5,_0x3e3baa):_0x3bdeba(_0x35c9d6,_0x1104d5))||_0x3e3baa;}return _0x1b3c0a>0x3&&_0x3e3baa&&Object[_0x45692d(0xe6)](_0x35c9d6,_0x1104d5,_0x3e3baa),_0x3e3baa;},__metadata=this&&this[a152_0x40bc05(0xe7)]||function(_0x645091,_0x1f7036){const _0x237a65=a152_0x40bc05;if(typeof Reflect===_0x237a65(0xe2)&&typeof Reflect[_0x237a65(0xfc)]==='function')return Reflect['metadata'](_0x645091,_0x1f7036);},__param=this&&this[a152_0x40bc05(0xf3)]||function(_0x45657d,_0x17257d){return function(_0x250ecf,_0x38913a){_0x17257d(_0x250ecf,_0x38913a,_0x45657d);};};Object[a152_0x40bc05(0xe6)](exports,'__esModule',{'value':!![]}),exports[a152_0x40bc05(0xf9)]=void 0x0;function a152_0x5dfc(){const _0x5c8a56=['622jJnnVr','../../credentials/dto/azure-credentials.dto','../../../../../core/errors/bad-request.error','credentials','request','search','./git-repo.service','get','Repo','post','map','autoInit','api','26410GgjNIn','function','repositories/','__decorate','../../api/azure-api.service','apply','../../../internal/git.internal','value','defaults','decorate','32DJEDtd','repositories','getOwnPropertyDescriptor','getOne','../../providers.tokens','fromAzure','NotFoundError','1961554HIjoPP','object','delete','BadRequestError','(((.+)+)+)+$','defineProperty','__metadata','ApiError','apiUrl','../../../../../core/errors/api.error','3190416RDmseO','8TMvbkw','project','306pqnVdI','toString','organization','Service','../../../../../core/errors/not-found.error','__param','design:paramtypes','length','baseURL','336435JAblat','4157035KHQAwh','AzureRepoService','create','5581mtKGyI','metadata','3252522chEVEu','984bYHZFY','update'];a152_0x5dfc=function(){return _0x5c8a56;};return a152_0x5dfc();}const bad_request_error_1=require(a152_0x40bc05(0xc5)),not_found_error_1=require(a152_0x40bc05(0xf2)),azure_api_service_1=require(a152_0x40bc05(0xd4)),typedi_1=require('typedi'),api_error_1=require(a152_0x40bc05(0xea)),git_internal_1=require(a152_0x40bc05(0xd6)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a152_0x40bc05(0xc9)),azure_credentials_dto_1=require(a152_0x40bc05(0x101)),providers_tokens_1=require(a152_0x40bc05(0xde));let AzureRepoService=class AzureRepoService extends git_repo_service_1['GitRepoService']{constructor(_0xacde37,_0x31cef4){const _0x367179=a152_0x40bc05;super(_0xacde37),this[_0x367179(0xcf)]=_0xacde37,this[_0x367179(0xf0)]=_0x31cef4[_0x367179(0xf0)],this[_0x367179(0xed)]=_0x31cef4[_0x367179(0xed)],this[_0x367179(0xc6)]=_0x31cef4,this['request'][_0x367179(0xd8)][_0x367179(0xf6)]=this[_0x367179(0xc7)][_0x367179(0xd8)][_0x367179(0xf6)]+'/'+this[_0x367179(0xf0)]+'/'+this[_0x367179(0xed)]+'/_apis/git';}async[a152_0x40bc05(0xfa)](_0x511bc2){const _0x42398a=a152_0x40bc05;try{const _0x4b187f=await this[_0x42398a(0xc7)][_0x42398a(0xcc)](_0x42398a(0xdb),_0x511bc2),_0x521b3f=repo_class_1[_0x42398a(0xcb)][_0x42398a(0xdf)](_0x4b187f,this[_0x42398a(0xcf)],this[_0x42398a(0xc6)]);return _0x511bc2[_0x42398a(0xce)]&&await git_internal_1['Git']['createEmptyBranch'](_0x521b3f,_0x511bc2['defaultBranch']||'master','',this[_0x42398a(0xc6)]),this[_0x42398a(0xdd)](_0x521b3f['name']);}catch(_0x302d82){if(_0x302d82 instanceof api_error_1[_0x42398a(0xe8)])throw _0x302d82;throw new bad_request_error_1[(_0x42398a(0xe4))](_0x302d82);}}async['getOne'](_0x4471a0){const _0x28479f=a152_0x40bc05;try{const _0x39924a=await this[_0x28479f(0xc7)][_0x28479f(0xca)](_0x28479f(0xd2)+_0x4471a0);return repo_class_1[_0x28479f(0xcb)][_0x28479f(0xdf)](_0x39924a,this[_0x28479f(0xcf)],this['credentials']);}catch(_0x3d9eb1){if(_0x3d9eb1 instanceof api_error_1['ApiError'])throw _0x3d9eb1;throw new not_found_error_1['NotFoundError'](_0x3d9eb1);}}async['getAll'](){const _0x875beb=a152_0x40bc05;try{const _0x206ef5=await this[_0x875beb(0xc7)][_0x875beb(0xca)](_0x875beb(0xdb));return _0x206ef5[_0x875beb(0xd7)][_0x875beb(0xcd)](_0x45be3a=>repo_class_1[_0x875beb(0xcb)]['fromAzure'](_0x45be3a,this[_0x875beb(0xcf)],this[_0x875beb(0xc6)]));}catch(_0xafcbd6){if(_0xafcbd6 instanceof api_error_1[_0x875beb(0xe8)])throw _0xafcbd6;throw new not_found_error_1['NotFoundError'](_0xafcbd6);}}async[a152_0x40bc05(0xff)](_0x10bd22,_0x4ae073){const _0x17ad45=a152_0x40bc05;try{const _0x1a88b2=await this[_0x17ad45(0xdd)](_0x10bd22),_0x11b4f2=await this[_0x17ad45(0xc7)]['patch'](_0x1a88b2[_0x17ad45(0xe9)],_0x4ae073);return repo_class_1[_0x17ad45(0xcb)][_0x17ad45(0xdf)](_0x11b4f2,this['api'],this[_0x17ad45(0xc6)]);}catch(_0xd77a1){if(_0xd77a1 instanceof api_error_1[_0x17ad45(0xe8)])throw _0xd77a1;throw new bad_request_error_1[(_0x17ad45(0xe4))](_0xd77a1);}}async[a152_0x40bc05(0xe3)](_0x291d74){const _0x824aca=a152_0x40bc05;try{const _0x317dfc=await this[_0x824aca(0xc7)]['get'](_0x824aca(0xd2)+_0x291d74);await this[_0x824aca(0xc7)][_0x824aca(0xe3)]('repositories/'+_0x317dfc['id']);}catch(_0xce73d6){if(_0xce73d6 instanceof api_error_1[_0x824aca(0xe8)])throw _0xce73d6;throw new not_found_error_1[(_0x824aca(0xe0))](_0xce73d6);}}};AzureRepoService=__decorate([typedi_1[a152_0x40bc05(0xf1)](),__param(0x1,typedi_1['Inject'](providers_tokens_1['Tokens'][a152_0x40bc05(0xc6)])),__metadata(a152_0x40bc05(0xf4),[azure_api_service_1['AzureApiService'],azure_credentials_dto_1['AzureCredentialsDto']])],AzureRepoService),exports[a152_0x40bc05(0xf9)]=AzureRepoService;