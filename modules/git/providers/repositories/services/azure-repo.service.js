const a199_0x24e749=a199_0x3b6c;(function(_0x843671,_0x6ec86e){const _0x193bdd=a199_0x3b6c,_0xbaf576=_0x843671();while(!![]){try{const _0x506848=parseInt(_0x193bdd(0xaf))/0x1+parseInt(_0x193bdd(0x9b))/0x2*(-parseInt(_0x193bdd(0xa5))/0x3)+parseInt(_0x193bdd(0x8a))/0x4+-parseInt(_0x193bdd(0x95))/0x5+parseInt(_0x193bdd(0x7f))/0x6*(-parseInt(_0x193bdd(0xba))/0x7)+parseInt(_0x193bdd(0xb8))/0x8*(parseInt(_0x193bdd(0xb9))/0x9)+parseInt(_0x193bdd(0x7d))/0xa*(parseInt(_0x193bdd(0xa4))/0xb);if(_0x506848===_0x6ec86e)break;else _0xbaf576['push'](_0xbaf576['shift']());}catch(_0x54e1b8){_0xbaf576['push'](_0xbaf576['shift']());}}}(a199_0x406a,0x78a36));const a199_0x47a312=(function(){let _0x468356=!![];return function(_0x135e13,_0x3d2cea){const _0x5c8c3f=_0x468356?function(){const _0x4723c4=a199_0x3b6c;if(_0x3d2cea){const _0x3a0218=_0x3d2cea[_0x4723c4(0x8d)](_0x135e13,arguments);return _0x3d2cea=null,_0x3a0218;}}:function(){};return _0x468356=![],_0x5c8c3f;};}()),a199_0x54d5a8=a199_0x47a312(this,function(){const _0x527a65=a199_0x3b6c;return a199_0x54d5a8[_0x527a65(0x86)]()[_0x527a65(0x9e)](_0x527a65(0x98))[_0x527a65(0x86)]()['constructor'](a199_0x54d5a8)['search'](_0x527a65(0x98));});a199_0x54d5a8();'use strict';var __decorate=this&&this[a199_0x24e749(0xab)]||function(_0x4891fa,_0x49a246,_0x468b31,_0x2b509a){const _0x44dda1=a199_0x24e749;var _0x103707=arguments[_0x44dda1(0xa7)],_0x4cd6be=_0x103707<0x3?_0x49a246:_0x2b509a===null?_0x2b509a=Object['getOwnPropertyDescriptor'](_0x49a246,_0x468b31):_0x2b509a,_0x17d201;if(typeof Reflect===_0x44dda1(0x97)&&typeof Reflect['decorate']==='function')_0x4cd6be=Reflect[_0x44dda1(0xb0)](_0x4891fa,_0x49a246,_0x468b31,_0x2b509a);else{for(var _0x55c3d0=_0x4891fa['length']-0x1;_0x55c3d0>=0x0;_0x55c3d0--)if(_0x17d201=_0x4891fa[_0x55c3d0])_0x4cd6be=(_0x103707<0x3?_0x17d201(_0x4cd6be):_0x103707>0x3?_0x17d201(_0x49a246,_0x468b31,_0x4cd6be):_0x17d201(_0x49a246,_0x468b31))||_0x4cd6be;}return _0x103707>0x3&&_0x4cd6be&&Object[_0x44dda1(0xb6)](_0x49a246,_0x468b31,_0x4cd6be),_0x4cd6be;},__metadata=this&&this[a199_0x24e749(0x90)]||function(_0x27aa40,_0x4ba284){const _0x25d48b=a199_0x24e749;if(typeof Reflect==='object'&&typeof Reflect[_0x25d48b(0xb3)]===_0x25d48b(0x9f))return Reflect['metadata'](_0x27aa40,_0x4ba284);},__param=this&&this['__param']||function(_0x15d2ab,_0x34b935){return function(_0x292496,_0x17e6bc){_0x34b935(_0x292496,_0x17e6bc,_0x15d2ab);};};Object[a199_0x24e749(0xb6)](exports,a199_0x24e749(0x8f),{'value':!![]}),exports[a199_0x24e749(0xad)]=void 0x0;const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a199_0x24e749(0x80)),azure_api_service_1=require(a199_0x24e749(0xa6)),typedi_1=require(a199_0x24e749(0xa9)),api_error_1=require(a199_0x24e749(0x87)),git_internal_1=require(a199_0x24e749(0x7e)),repo_class_1=require(a199_0x24e749(0xb7)),git_repo_service_1=require(a199_0x24e749(0xbc)),azure_credentials_dto_1=require(a199_0x24e749(0xa1)),providers_tokens_1=require(a199_0x24e749(0x8c));function a199_0x3b6c(_0x2f7fb2,_0x430fea){const _0x1a9d51=a199_0x406a();return a199_0x3b6c=function(_0x54d5a8,_0x47a312){_0x54d5a8=_0x54d5a8-0x79;let _0x406a82=_0x1a9d51[_0x54d5a8];return _0x406a82;},a199_0x3b6c(_0x2f7fb2,_0x430fea);}function a199_0x406a(){const _0x77814d=['__esModule','__metadata','getAll','delete','repositories','project','1247860uzkMIp','autoInit','object','(((.+)+)+)+$','defaults','get','96310dQCCMj','baseURL','design:paramtypes','search','function','Repo','../../credentials/dto/azure-credentials.dto','fromAzure','patch','32582TOnJry','48scEOIV','../../api/azure-api.service','length','Inject','typedi','AzureCredentialsDto','__decorate','create','AzureRepoService','api','400315himerQ','decorate','getOne','name','metadata','map','request','defineProperty','../repo.class','112NhxHLy','68895wPEFrY','695639eacecv','Git','./git-repo.service','post','value','defaultBranch','BadRequestError','apiUrl','2460dlIXbK','../../../internal/git.internal','6GlwKNs','../../../../../core/errors/not-found.error','credentials','AzureApiService','createEmptyBranch','NotFoundError','ApiError','toString','../../../../../core/errors/api.error','GitRepoService','organization','1509704pgklaw','repositories/','../../providers.tokens','apply','Tokens'];a199_0x406a=function(){return _0x77814d;};return a199_0x406a();}let AzureRepoService=class AzureRepoService extends git_repo_service_1[a199_0x24e749(0x88)]{constructor(_0x31b219,_0x276d1f){const _0x345c00=a199_0x24e749;super(_0x31b219),this[_0x345c00(0xae)]=_0x31b219,this['organization']=_0x276d1f[_0x345c00(0x89)],this[_0x345c00(0x94)]=_0x276d1f[_0x345c00(0x94)],this[_0x345c00(0x81)]=_0x276d1f,this[_0x345c00(0xb5)][_0x345c00(0x99)]['baseURL']=this[_0x345c00(0xb5)][_0x345c00(0x99)][_0x345c00(0x9c)]+'/'+this[_0x345c00(0x89)]+'/'+this[_0x345c00(0x94)]+'/_apis/git';}async[a199_0x24e749(0xac)](_0x565de0){const _0x1296df=a199_0x24e749;try{const _0x1a056a=await this[_0x1296df(0xb5)][_0x1296df(0xbd)](_0x1296df(0x93),_0x565de0),_0x2d970e=repo_class_1[_0x1296df(0xa0)]['fromAzure'](_0x1a056a,this[_0x1296df(0xae)],this[_0x1296df(0x81)]);return _0x565de0[_0x1296df(0x96)]&&await git_internal_1[_0x1296df(0xbb)][_0x1296df(0x83)](_0x2d970e,_0x565de0[_0x1296df(0x7a)]||'master','',this[_0x1296df(0x81)]),this[_0x1296df(0xb1)](_0x2d970e[_0x1296df(0xb2)]);}catch(_0x4c1e9b){if(_0x4c1e9b instanceof api_error_1['ApiError'])throw _0x4c1e9b;throw new bad_request_error_1[(_0x1296df(0x7b))](_0x4c1e9b);}}async['getOne'](_0x475fa2){const _0x4c181f=a199_0x24e749;try{const _0x5875ae=await this[_0x4c181f(0xb5)][_0x4c181f(0x9a)]('repositories/'+_0x475fa2);return repo_class_1[_0x4c181f(0xa0)][_0x4c181f(0xa2)](_0x5875ae,this[_0x4c181f(0xae)],this[_0x4c181f(0x81)]);}catch(_0x73707b){if(_0x73707b instanceof api_error_1[_0x4c181f(0x85)])throw _0x73707b;throw new not_found_error_1[(_0x4c181f(0x84))](_0x73707b);}}async[a199_0x24e749(0x91)](){const _0x201fa3=a199_0x24e749;try{const _0x4a9d56=await this[_0x201fa3(0xb5)][_0x201fa3(0x9a)](_0x201fa3(0x93));return _0x4a9d56[_0x201fa3(0x79)][_0x201fa3(0xb4)](_0x36a53e=>repo_class_1['Repo'][_0x201fa3(0xa2)](_0x36a53e,this[_0x201fa3(0xae)],this[_0x201fa3(0x81)]));}catch(_0x56a11d){if(_0x56a11d instanceof api_error_1[_0x201fa3(0x85)])throw _0x56a11d;throw new not_found_error_1[(_0x201fa3(0x84))](_0x56a11d);}}async['update'](_0x92b5d4,_0x56a40){const _0x56a164=a199_0x24e749;try{const _0x58066d=await this[_0x56a164(0xb1)](_0x92b5d4),_0x32d805=await this[_0x56a164(0xb5)][_0x56a164(0xa3)](_0x58066d[_0x56a164(0x7c)],_0x56a40);return repo_class_1['Repo'][_0x56a164(0xa2)](_0x32d805,this[_0x56a164(0xae)],this[_0x56a164(0x81)]);}catch(_0x334823){if(_0x334823 instanceof api_error_1[_0x56a164(0x85)])throw _0x334823;throw new bad_request_error_1[(_0x56a164(0x7b))](_0x334823);}}async[a199_0x24e749(0x92)](_0x3496b5){const _0x376eb3=a199_0x24e749;try{const _0x38c7bf=await this[_0x376eb3(0xb5)]['get'](_0x376eb3(0x8b)+_0x3496b5);await this[_0x376eb3(0xb5)][_0x376eb3(0x92)](_0x376eb3(0x8b)+_0x38c7bf['id']);}catch(_0x9f1f59){if(_0x9f1f59 instanceof api_error_1['ApiError'])throw _0x9f1f59;throw new not_found_error_1['NotFoundError'](_0x9f1f59);}}};AzureRepoService=__decorate([(0x0,typedi_1['Service'])(),__param(0x1,(0x0,typedi_1[a199_0x24e749(0xa8)])(providers_tokens_1[a199_0x24e749(0x8e)][a199_0x24e749(0x81)])),__metadata(a199_0x24e749(0x9d),[azure_api_service_1[a199_0x24e749(0x82)],azure_credentials_dto_1[a199_0x24e749(0xaa)]])],AzureRepoService),exports[a199_0x24e749(0xad)]=AzureRepoService;