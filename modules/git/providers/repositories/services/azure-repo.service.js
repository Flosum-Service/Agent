const a236_0xbef574=a236_0x336a;(function(_0x324c2,_0x52b572){const _0x52d11a=a236_0x336a,_0x15f2bc=_0x324c2();while(!![]){try{const _0x2ca509=parseInt(_0x52d11a(0x164))/0x1*(parseInt(_0x52d11a(0x184))/0x2)+-parseInt(_0x52d11a(0x16e))/0x3*(-parseInt(_0x52d11a(0x175))/0x4)+parseInt(_0x52d11a(0x173))/0x5*(parseInt(_0x52d11a(0x187))/0x6)+-parseInt(_0x52d11a(0x18f))/0x7+-parseInt(_0x52d11a(0x19c))/0x8*(parseInt(_0x52d11a(0x17e))/0x9)+-parseInt(_0x52d11a(0x188))/0xa+-parseInt(_0x52d11a(0x171))/0xb*(-parseInt(_0x52d11a(0x18a))/0xc);if(_0x2ca509===_0x52b572)break;else _0x15f2bc['push'](_0x15f2bc['shift']());}catch(_0x48a9c1){_0x15f2bc['push'](_0x15f2bc['shift']());}}}(a236_0x3aae,0x513b2));const a236_0x29bfff=(function(){let _0x4942c9=!![];return function(_0x5f5739,_0x4d9b6b){const _0x4d649d=_0x4942c9?function(){const _0x2bddcf=a236_0x336a;if(_0x4d9b6b){const _0x1bb97c=_0x4d9b6b[_0x2bddcf(0x193)](_0x5f5739,arguments);return _0x4d9b6b=null,_0x1bb97c;}}:function(){};return _0x4942c9=![],_0x4d649d;};}()),a236_0x52813e=a236_0x29bfff(this,function(){const _0xbc0f49=a236_0x336a;return a236_0x52813e['toString']()[_0xbc0f49(0x161)]('(((.+)+)+)+$')[_0xbc0f49(0x17b)]()[_0xbc0f49(0x191)](a236_0x52813e)['search'](_0xbc0f49(0x186));});function a236_0x336a(_0x514f33,_0x4d248e){const _0x4947ac=a236_0x3aae();return a236_0x336a=function(_0x52813e,_0x29bfff){_0x52813e=_0x52813e-0x160;let _0x3aae8c=_0x4947ac[_0x52813e];return _0x3aae8c;},a236_0x336a(_0x514f33,_0x4d248e);}a236_0x52813e();'use strict';var __decorate=this&&this['__decorate']||function(_0x36973d,_0x966c4a,_0x54d9e9,_0x719c70){const _0x3f8623=a236_0x336a;var _0xe25c9c=arguments[_0x3f8623(0x194)],_0x4491b5=_0xe25c9c<0x3?_0x966c4a:_0x719c70===null?_0x719c70=Object['getOwnPropertyDescriptor'](_0x966c4a,_0x54d9e9):_0x719c70,_0x125452;if(typeof Reflect===_0x3f8623(0x165)&&typeof Reflect[_0x3f8623(0x178)]==='function')_0x4491b5=Reflect[_0x3f8623(0x178)](_0x36973d,_0x966c4a,_0x54d9e9,_0x719c70);else{for(var _0x1ad2a8=_0x36973d[_0x3f8623(0x194)]-0x1;_0x1ad2a8>=0x0;_0x1ad2a8--)if(_0x125452=_0x36973d[_0x1ad2a8])_0x4491b5=(_0xe25c9c<0x3?_0x125452(_0x4491b5):_0xe25c9c>0x3?_0x125452(_0x966c4a,_0x54d9e9,_0x4491b5):_0x125452(_0x966c4a,_0x54d9e9))||_0x4491b5;}return _0xe25c9c>0x3&&_0x4491b5&&Object[_0x3f8623(0x18b)](_0x966c4a,_0x54d9e9,_0x4491b5),_0x4491b5;},__metadata=this&&this[a236_0xbef574(0x190)]||function(_0x123589,_0x7665c4){const _0x85311c=a236_0xbef574;if(typeof Reflect===_0x85311c(0x165)&&typeof Reflect[_0x85311c(0x183)]===_0x85311c(0x19a))return Reflect['metadata'](_0x123589,_0x7665c4);},__param=this&&this['__param']||function(_0x2415ac,_0x4a38e6){return function(_0x40db80,_0x3e4307){_0x4a38e6(_0x40db80,_0x3e4307,_0x2415ac);};};Object[a236_0xbef574(0x18b)](exports,'__esModule',{'value':!![]}),exports['AzureRepoService']=void 0x0;const bad_request_error_1=require(a236_0xbef574(0x18e)),not_found_error_1=require('../../../../../core/errors/not-found.error'),azure_api_service_1=require(a236_0xbef574(0x16d)),typedi_1=require(a236_0xbef574(0x19d)),api_error_1=require(a236_0xbef574(0x185)),git_internal_1=require(a236_0xbef574(0x16f)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a236_0xbef574(0x167)),azure_credentials_dto_1=require('../../credentials/dto/azure-credentials.dto'),providers_tokens_1=require(a236_0xbef574(0x174));function a236_0x3aae(){const _0x135c0a=['315csAjZZ','update','AzureApiService','createEmptyBranch','Git','metadata','14dgbgJH','../../../../../core/errors/api.error','(((.+)+)+)+$','566700pMvxLf','4160230dNraYK','api','69060lkmnHG','defineProperty','project','Inject','../../../../../core/errors/bad-request.error','1196174uGMcLZ','__metadata','constructor','Service','apply','length','repositories','autoInit','request','organization','Repo','function','BadRequestError','104888mFulKj','typedi','NotFoundError','search','baseURL','ApiError','42033EUUsIJ','object','credentials','./git-repo.service','map','get','delete','patch','GitRepoService','../../api/azure-api.service','6YlHlPI','../../../internal/git.internal','Tokens','891LDGLfX','repositories/','5EBzGta','../../providers.tokens','1047352SwVzxX','design:paramtypes','value','decorate','AzureCredentialsDto','getOne','toString','getAll','fromAzure'];a236_0x3aae=function(){return _0x135c0a;};return a236_0x3aae();}let AzureRepoService=class AzureRepoService extends git_repo_service_1[a236_0xbef574(0x16c)]{constructor(_0x3eea21,_0x2410b0){const _0x239ebd=a236_0xbef574;super(_0x3eea21),this[_0x239ebd(0x189)]=_0x3eea21,this[_0x239ebd(0x198)]=_0x2410b0[_0x239ebd(0x198)],this['project']=_0x2410b0[_0x239ebd(0x18c)],this[_0x239ebd(0x166)]=_0x2410b0,this[_0x239ebd(0x197)]['defaults'][_0x239ebd(0x162)]=this[_0x239ebd(0x197)]['defaults']['baseURL']+'/'+this[_0x239ebd(0x198)]+'/'+this[_0x239ebd(0x18c)]+'/_apis/git';}async['create'](_0x345fe7){const _0x52ee37=a236_0xbef574;try{const _0x29c624=await this[_0x52ee37(0x197)]['post'](_0x52ee37(0x195),_0x345fe7),_0x2793a4=repo_class_1[_0x52ee37(0x199)]['fromAzure'](_0x29c624,this['api'],this[_0x52ee37(0x166)]);return _0x345fe7[_0x52ee37(0x196)]&&await git_internal_1[_0x52ee37(0x182)][_0x52ee37(0x181)](_0x2793a4,_0x345fe7['defaultBranch']||'master','',this['credentials']),this[_0x52ee37(0x17a)](_0x2793a4['name']);}catch(_0xfb629b){if(_0xfb629b instanceof api_error_1[_0x52ee37(0x163)])throw _0xfb629b;throw new bad_request_error_1[(_0x52ee37(0x19b))](_0xfb629b);}}async['getOne'](_0x1af9a8){const _0x3a228d=a236_0xbef574;try{const _0x4bafe5=await this[_0x3a228d(0x197)][_0x3a228d(0x169)](_0x3a228d(0x172)+_0x1af9a8);return repo_class_1[_0x3a228d(0x199)][_0x3a228d(0x17d)](_0x4bafe5,this[_0x3a228d(0x189)],this['credentials']);}catch(_0x611dd8){if(_0x611dd8 instanceof api_error_1['ApiError'])throw _0x611dd8;throw new not_found_error_1[(_0x3a228d(0x160))](_0x611dd8);}}async[a236_0xbef574(0x17c)](){const _0x165545=a236_0xbef574;try{const _0x41b060=await this[_0x165545(0x197)][_0x165545(0x169)](_0x165545(0x195));return _0x41b060[_0x165545(0x177)][_0x165545(0x168)](_0x388b05=>repo_class_1[_0x165545(0x199)][_0x165545(0x17d)](_0x388b05,this[_0x165545(0x189)],this[_0x165545(0x166)]));}catch(_0x5a8de8){if(_0x5a8de8 instanceof api_error_1[_0x165545(0x163)])throw _0x5a8de8;throw new not_found_error_1[(_0x165545(0x160))](_0x5a8de8);}}async[a236_0xbef574(0x17f)](_0x5d1875,_0x2cc65d){const _0x53ff8d=a236_0xbef574;try{const _0x440a20=await this[_0x53ff8d(0x17a)](_0x5d1875),_0xa856a6=await this['request'][_0x53ff8d(0x16b)](_0x440a20['apiUrl'],_0x2cc65d);return repo_class_1[_0x53ff8d(0x199)][_0x53ff8d(0x17d)](_0xa856a6,this[_0x53ff8d(0x189)],this[_0x53ff8d(0x166)]);}catch(_0x27abb9){if(_0x27abb9 instanceof api_error_1['ApiError'])throw _0x27abb9;throw new bad_request_error_1['BadRequestError'](_0x27abb9);}}async[a236_0xbef574(0x16a)](_0x302d9c){const _0x350daa=a236_0xbef574;try{const _0x363eaa=await this[_0x350daa(0x197)]['get'](_0x350daa(0x172)+_0x302d9c);await this[_0x350daa(0x197)][_0x350daa(0x16a)](_0x350daa(0x172)+_0x363eaa['id']);}catch(_0x5698f8){if(_0x5698f8 instanceof api_error_1[_0x350daa(0x163)])throw _0x5698f8;throw new not_found_error_1[(_0x350daa(0x160))](_0x5698f8);}}};AzureRepoService=__decorate([(0x0,typedi_1[a236_0xbef574(0x192)])(),__param(0x1,(0x0,typedi_1[a236_0xbef574(0x18d)])(providers_tokens_1[a236_0xbef574(0x170)][a236_0xbef574(0x166)])),__metadata(a236_0xbef574(0x176),[azure_api_service_1[a236_0xbef574(0x180)],azure_credentials_dto_1[a236_0xbef574(0x179)]])],AzureRepoService),exports['AzureRepoService']=AzureRepoService;