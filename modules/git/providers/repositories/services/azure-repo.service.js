const a204_0x2aba3c=a204_0x27d5;function a204_0x27d5(_0x10e916,_0x12d5e1){const _0x45746d=a204_0x1bc8();return a204_0x27d5=function(_0x41f9c0,_0x503f84){_0x41f9c0=_0x41f9c0-0x188;let _0x1bc8b0=_0x45746d[_0x41f9c0];return _0x1bc8b0;},a204_0x27d5(_0x10e916,_0x12d5e1);}(function(_0x547f18,_0x4fef27){const _0xbacbf4=a204_0x27d5,_0x2ce4ca=_0x547f18();while(!![]){try{const _0x3eb559=-parseInt(_0xbacbf4(0x1a8))/0x1+-parseInt(_0xbacbf4(0x18f))/0x2+parseInt(_0xbacbf4(0x1b7))/0x3*(parseInt(_0xbacbf4(0x19a))/0x4)+parseInt(_0xbacbf4(0x19e))/0x5*(parseInt(_0xbacbf4(0x190))/0x6)+-parseInt(_0xbacbf4(0x1bc))/0x7+parseInt(_0xbacbf4(0x195))/0x8*(parseInt(_0xbacbf4(0x1b0))/0x9)+-parseInt(_0xbacbf4(0x1aa))/0xa*(parseInt(_0xbacbf4(0x1b1))/0xb);if(_0x3eb559===_0x4fef27)break;else _0x2ce4ca['push'](_0x2ce4ca['shift']());}catch(_0x1f422b){_0x2ce4ca['push'](_0x2ce4ca['shift']());}}}(a204_0x1bc8,0x40a26));const a204_0x503f84=(function(){let _0x4b7fd5=!![];return function(_0x1f774b,_0x3f1335){const _0x3ea4c8=_0x4b7fd5?function(){const _0x3d8f68=a204_0x27d5;if(_0x3f1335){const _0x13690f=_0x3f1335[_0x3d8f68(0x1b8)](_0x1f774b,arguments);return _0x3f1335=null,_0x13690f;}}:function(){};return _0x4b7fd5=![],_0x3ea4c8;};}()),a204_0x41f9c0=a204_0x503f84(this,function(){const _0x5ccded=a204_0x27d5;return a204_0x41f9c0['toString']()[_0x5ccded(0x1a5)](_0x5ccded(0x1bf))[_0x5ccded(0x1be)]()[_0x5ccded(0x1a3)](a204_0x41f9c0)[_0x5ccded(0x1a5)](_0x5ccded(0x1bf));});a204_0x41f9c0();'use strict';var __decorate=this&&this[a204_0x2aba3c(0x19b)]||function(_0xc19fb1,_0x402ecb,_0x43f637,_0x1573f8){const _0x6bdb6c=a204_0x2aba3c;var _0x178af0=arguments[_0x6bdb6c(0x1a7)],_0x5af21e=_0x178af0<0x3?_0x402ecb:_0x1573f8===null?_0x1573f8=Object[_0x6bdb6c(0x1b9)](_0x402ecb,_0x43f637):_0x1573f8,_0x430d43;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x6bdb6c(0x189))_0x5af21e=Reflect[_0x6bdb6c(0x1b4)](_0xc19fb1,_0x402ecb,_0x43f637,_0x1573f8);else{for(var _0x5be29e=_0xc19fb1[_0x6bdb6c(0x1a7)]-0x1;_0x5be29e>=0x0;_0x5be29e--)if(_0x430d43=_0xc19fb1[_0x5be29e])_0x5af21e=(_0x178af0<0x3?_0x430d43(_0x5af21e):_0x178af0>0x3?_0x430d43(_0x402ecb,_0x43f637,_0x5af21e):_0x430d43(_0x402ecb,_0x43f637))||_0x5af21e;}return _0x178af0>0x3&&_0x5af21e&&Object['defineProperty'](_0x402ecb,_0x43f637,_0x5af21e),_0x5af21e;},__metadata=this&&this['__metadata']||function(_0x1b7ff9,_0x2f79e3){const _0x5d357f=a204_0x2aba3c;if(typeof Reflect===_0x5d357f(0x1af)&&typeof Reflect[_0x5d357f(0x191)]==='function')return Reflect['metadata'](_0x1b7ff9,_0x2f79e3);},__param=this&&this[a204_0x2aba3c(0x18b)]||function(_0xd78e92,_0x314111){return function(_0x5c7420,_0x2c8dcb){_0x314111(_0x5c7420,_0x2c8dcb,_0xd78e92);};};Object['defineProperty'](exports,a204_0x2aba3c(0x1c4),{'value':!![]}),exports['AzureRepoService']=void 0x0;function a204_0x1bc8(){const _0x26f87e=['73935zTOVok','621137wyXBQg','BadRequestError','apiUrl','decorate','credentials','update','276699oazySj','apply','getOwnPropertyDescriptor','defaults','delete','129255anDxFw','../../credentials/dto/azure-credentials.dto','toString','(((.+)+)+)+$','AzureApiService','Repo','Git','autoInit','__esModule','Tokens','repositories/','function','get','__param','../../../../../core/errors/bad-request.error','../../../internal/git.internal','repositories','668730ViMqzD','1995396wYwwfN','metadata','Service','fromAzure','request','272jOqAiH','/_apis/git','../../providers.tokens','getOne','api','20fACMqb','__decorate','../../api/azure-api.service','NotFoundError','5Dtaypo','organization','AzureRepoService','getAll','name','constructor','ApiError','search','AzureCredentialsDto','length','116667RKGSev','../../../../../core/errors/not-found.error','60lJBGyr','defaultBranch','project','patch','master','object'];a204_0x1bc8=function(){return _0x26f87e;};return a204_0x1bc8();}const bad_request_error_1=require(a204_0x2aba3c(0x18c)),not_found_error_1=require(a204_0x2aba3c(0x1a9)),azure_api_service_1=require(a204_0x2aba3c(0x19c)),typedi_1=require('typedi'),api_error_1=require('../../../../../core/errors/api.error'),git_internal_1=require(a204_0x2aba3c(0x18d)),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service'),azure_credentials_dto_1=require(a204_0x2aba3c(0x1bd)),providers_tokens_1=require(a204_0x2aba3c(0x197));let AzureRepoService=class AzureRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x59fd36,_0x24e74d){const _0x369c2b=a204_0x2aba3c;super(_0x59fd36),this[_0x369c2b(0x199)]=_0x59fd36,this[_0x369c2b(0x19f)]=_0x24e74d[_0x369c2b(0x19f)],this[_0x369c2b(0x1ac)]=_0x24e74d['project'],this['credentials']=_0x24e74d,this[_0x369c2b(0x194)][_0x369c2b(0x1ba)]['baseURL']=this[_0x369c2b(0x194)][_0x369c2b(0x1ba)]['baseURL']+'/'+this[_0x369c2b(0x19f)]+'/'+this['project']+_0x369c2b(0x196);}async['create'](_0x15fea5){const _0x559694=a204_0x2aba3c;try{const _0x4ce904=await this[_0x559694(0x194)]['post'](_0x559694(0x18e),_0x15fea5),_0x38096c=repo_class_1[_0x559694(0x1c1)][_0x559694(0x193)](_0x4ce904,this['api'],this[_0x559694(0x1b5)]);return _0x15fea5[_0x559694(0x1c3)]&&await git_internal_1[_0x559694(0x1c2)]['createEmptyBranch'](_0x38096c,_0x15fea5[_0x559694(0x1ab)]||_0x559694(0x1ae),'',this['credentials']),this[_0x559694(0x198)](_0x38096c[_0x559694(0x1a2)]);}catch(_0x363eb0){if(_0x363eb0 instanceof api_error_1[_0x559694(0x1a4)])throw _0x363eb0;throw new bad_request_error_1['BadRequestError'](_0x363eb0);}}async[a204_0x2aba3c(0x198)](_0x4becb2){const _0x37519e=a204_0x2aba3c;try{const _0x3ff572=await this['request'][_0x37519e(0x18a)](_0x37519e(0x188)+_0x4becb2);return repo_class_1['Repo']['fromAzure'](_0x3ff572,this[_0x37519e(0x199)],this[_0x37519e(0x1b5)]);}catch(_0x5509f7){if(_0x5509f7 instanceof api_error_1['ApiError'])throw _0x5509f7;throw new not_found_error_1[(_0x37519e(0x19d))](_0x5509f7);}}async[a204_0x2aba3c(0x1a1)](){const _0x24bd09=a204_0x2aba3c;try{const _0x4838ec=await this['request'][_0x24bd09(0x18a)](_0x24bd09(0x18e));return _0x4838ec['value']['map'](_0x43ec9c=>repo_class_1[_0x24bd09(0x1c1)][_0x24bd09(0x193)](_0x43ec9c,this[_0x24bd09(0x199)],this[_0x24bd09(0x1b5)]));}catch(_0x4cf21b){if(_0x4cf21b instanceof api_error_1[_0x24bd09(0x1a4)])throw _0x4cf21b;throw new not_found_error_1[(_0x24bd09(0x19d))](_0x4cf21b);}}async[a204_0x2aba3c(0x1b6)](_0x5569bd,_0x20d45b){const _0x331994=a204_0x2aba3c;try{const _0x7a40d=await this['getOne'](_0x5569bd),_0x4dfcf3=await this['request'][_0x331994(0x1ad)](_0x7a40d[_0x331994(0x1b3)],_0x20d45b);return repo_class_1[_0x331994(0x1c1)][_0x331994(0x193)](_0x4dfcf3,this['api'],this[_0x331994(0x1b5)]);}catch(_0xd2b590){if(_0xd2b590 instanceof api_error_1[_0x331994(0x1a4)])throw _0xd2b590;throw new bad_request_error_1[(_0x331994(0x1b2))](_0xd2b590);}}async[a204_0x2aba3c(0x1bb)](_0x12d2ba){const _0x199188=a204_0x2aba3c;try{const _0x16383f=await this['request'][_0x199188(0x18a)](_0x199188(0x188)+_0x12d2ba);await this['request'][_0x199188(0x1bb)]('repositories/'+_0x16383f['id']);}catch(_0x35a3ad){if(_0x35a3ad instanceof api_error_1[_0x199188(0x1a4)])throw _0x35a3ad;throw new not_found_error_1[(_0x199188(0x19d))](_0x35a3ad);}}};AzureRepoService=__decorate([(0x0,typedi_1[a204_0x2aba3c(0x192)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a204_0x2aba3c(0x1c5)][a204_0x2aba3c(0x1b5)])),__metadata('design:paramtypes',[azure_api_service_1[a204_0x2aba3c(0x1c0)],azure_credentials_dto_1[a204_0x2aba3c(0x1a6)]])],AzureRepoService),exports[a204_0x2aba3c(0x1a0)]=AzureRepoService;