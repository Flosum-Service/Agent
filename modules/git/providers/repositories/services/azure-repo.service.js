const a199_0x2a2a6a=a199_0x167e;(function(_0x39276d,_0x124a6a){const _0x5621cb=a199_0x167e,_0x94e4fa=_0x39276d();while(!![]){try{const _0x59fe2c=parseInt(_0x5621cb(0x116))/0x1+parseInt(_0x5621cb(0x13b))/0x2*(-parseInt(_0x5621cb(0x113))/0x3)+parseInt(_0x5621cb(0x11d))/0x4+-parseInt(_0x5621cb(0x138))/0x5+parseInt(_0x5621cb(0x145))/0x6+-parseInt(_0x5621cb(0x13e))/0x7*(parseInt(_0x5621cb(0x136))/0x8)+-parseInt(_0x5621cb(0x110))/0x9;if(_0x59fe2c===_0x124a6a)break;else _0x94e4fa['push'](_0x94e4fa['shift']());}catch(_0x3385ce){_0x94e4fa['push'](_0x94e4fa['shift']());}}}(a199_0xa8f9,0x588de));const a199_0x3f062e=(function(){let _0x26e27b=!![];return function(_0x55ca45,_0x5eadff){const _0x314867=_0x26e27b?function(){const _0x5436cf=a199_0x167e;if(_0x5eadff){const _0x502d60=_0x5eadff[_0x5436cf(0x12b)](_0x55ca45,arguments);return _0x5eadff=null,_0x502d60;}}:function(){};return _0x26e27b=![],_0x314867;};}()),a199_0x5331af=a199_0x3f062e(this,function(){const _0x277401=a199_0x167e;return a199_0x5331af[_0x277401(0x13c)]()[_0x277401(0x12e)](_0x277401(0x10f))[_0x277401(0x13c)]()[_0x277401(0x148)](a199_0x5331af)[_0x277401(0x12e)](_0x277401(0x10f));});function a199_0x167e(_0x4fdaf3,_0x200db8){const _0x20e185=a199_0xa8f9();return a199_0x167e=function(_0x5331af,_0x3f062e){_0x5331af=_0x5331af-0x10b;let _0xa8f91c=_0x20e185[_0x5331af];return _0xa8f91c;},a199_0x167e(_0x4fdaf3,_0x200db8);}a199_0x5331af();'use strict';var __decorate=this&&this[a199_0x2a2a6a(0x11f)]||function(_0x13fc49,_0x47d6b4,_0x3c55cb,_0x2a2073){const _0x110d7c=a199_0x2a2a6a;var _0x5b227f=arguments[_0x110d7c(0x140)],_0xbb25df=_0x5b227f<0x3?_0x47d6b4:_0x2a2073===null?_0x2a2073=Object[_0x110d7c(0x111)](_0x47d6b4,_0x3c55cb):_0x2a2073,_0x58cdae;if(typeof Reflect===_0x110d7c(0x10b)&&typeof Reflect[_0x110d7c(0x13a)]==='function')_0xbb25df=Reflect['decorate'](_0x13fc49,_0x47d6b4,_0x3c55cb,_0x2a2073);else{for(var _0x595238=_0x13fc49['length']-0x1;_0x595238>=0x0;_0x595238--)if(_0x58cdae=_0x13fc49[_0x595238])_0xbb25df=(_0x5b227f<0x3?_0x58cdae(_0xbb25df):_0x5b227f>0x3?_0x58cdae(_0x47d6b4,_0x3c55cb,_0xbb25df):_0x58cdae(_0x47d6b4,_0x3c55cb))||_0xbb25df;}return _0x5b227f>0x3&&_0xbb25df&&Object[_0x110d7c(0x146)](_0x47d6b4,_0x3c55cb,_0xbb25df),_0xbb25df;},__metadata=this&&this[a199_0x2a2a6a(0x114)]||function(_0x4af8c5,_0x5708dc){const _0x587e59=a199_0x2a2a6a;if(typeof Reflect===_0x587e59(0x10b)&&typeof Reflect[_0x587e59(0x115)]===_0x587e59(0x122))return Reflect['metadata'](_0x4af8c5,_0x5708dc);},__param=this&&this[a199_0x2a2a6a(0x10d)]||function(_0x32fb80,_0xf06a7){return function(_0x95019d,_0x46cd41){_0xf06a7(_0x95019d,_0x46cd41,_0x32fb80);};};Object[a199_0x2a2a6a(0x146)](exports,'__esModule',{'value':!![]}),exports['AzureRepoService']=void 0x0;const bad_request_error_1=require(a199_0x2a2a6a(0x112)),not_found_error_1=require('../../../../../core/errors/not-found.error'),azure_api_service_1=require('../../api/azure-api.service'),typedi_1=require(a199_0x2a2a6a(0x123)),api_error_1=require(a199_0x2a2a6a(0x129)),git_internal_1=require(a199_0x2a2a6a(0x12d)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a199_0x2a2a6a(0x12a)),azure_credentials_dto_1=require(a199_0x2a2a6a(0x127)),providers_tokens_1=require(a199_0x2a2a6a(0x131));function a199_0xa8f9(){const _0x2f81d2=['Service','Inject','../../providers.tokens','master','Git','name','baseURL','8GluOSq','fromAzure','2636080cfysfA','request','decorate','2GguOfN','toString','design:paramtypes','2499630joMiSk','credentials','length','BadRequestError','GitRepoService','getOne','ApiError','3344574dwNeky','defineProperty','create','constructor','organization','object','patch','__param','NotFoundError','(((.+)+)+)+$','590733dbnaJh','getOwnPropertyDescriptor','../../../../../core/errors/bad-request.error','102576PCoQlb','__metadata','metadata','233631cWpgRl','defaults','repositories/','project','apiUrl','autoInit','AzureApiService','2223172LrUKvv','AzureRepoService','__decorate','Repo','update','function','typedi','repositories','get','defaultBranch','../../credentials/dto/azure-credentials.dto','api','../../../../../core/errors/api.error','./git-repo.service','apply','createEmptyBranch','../../../internal/git.internal','search'];a199_0xa8f9=function(){return _0x2f81d2;};return a199_0xa8f9();}let AzureRepoService=class AzureRepoService extends git_repo_service_1[a199_0x2a2a6a(0x142)]{constructor(_0x57ca41,_0x421953){const _0x295808=a199_0x2a2a6a;super(_0x57ca41),this[_0x295808(0x128)]=_0x57ca41,this['organization']=_0x421953[_0x295808(0x149)],this[_0x295808(0x119)]=_0x421953[_0x295808(0x119)],this[_0x295808(0x13f)]=_0x421953,this[_0x295808(0x139)][_0x295808(0x117)][_0x295808(0x135)]=this['request']['defaults'][_0x295808(0x135)]+'/'+this[_0x295808(0x149)]+'/'+this[_0x295808(0x119)]+'/_apis/git';}async[a199_0x2a2a6a(0x147)](_0x4b56bb){const _0x5e3dbc=a199_0x2a2a6a;try{const _0x48bf18=await this[_0x5e3dbc(0x139)]['post']('repositories',_0x4b56bb),_0xa7391b=repo_class_1['Repo'][_0x5e3dbc(0x137)](_0x48bf18,this[_0x5e3dbc(0x128)],this['credentials']);return _0x4b56bb[_0x5e3dbc(0x11b)]&&await git_internal_1[_0x5e3dbc(0x133)][_0x5e3dbc(0x12c)](_0xa7391b,_0x4b56bb[_0x5e3dbc(0x126)]||_0x5e3dbc(0x132),'',this[_0x5e3dbc(0x13f)]),this[_0x5e3dbc(0x143)](_0xa7391b[_0x5e3dbc(0x134)]);}catch(_0xdb6ad3){if(_0xdb6ad3 instanceof api_error_1[_0x5e3dbc(0x144)])throw _0xdb6ad3;throw new bad_request_error_1[(_0x5e3dbc(0x141))](_0xdb6ad3);}}async['getOne'](_0x2a4e44){const _0xb4b6c9=a199_0x2a2a6a;try{const _0x1640b2=await this[_0xb4b6c9(0x139)][_0xb4b6c9(0x125)](_0xb4b6c9(0x118)+_0x2a4e44);return repo_class_1[_0xb4b6c9(0x120)]['fromAzure'](_0x1640b2,this[_0xb4b6c9(0x128)],this[_0xb4b6c9(0x13f)]);}catch(_0x506a45){if(_0x506a45 instanceof api_error_1[_0xb4b6c9(0x144)])throw _0x506a45;throw new not_found_error_1[(_0xb4b6c9(0x10e))](_0x506a45);}}async['getAll'](){const _0x197b79=a199_0x2a2a6a;try{const _0x340a82=await this['request'][_0x197b79(0x125)](_0x197b79(0x124));return _0x340a82['value']['map'](_0x40044f=>repo_class_1[_0x197b79(0x120)][_0x197b79(0x137)](_0x40044f,this[_0x197b79(0x128)],this['credentials']));}catch(_0x4d0fa9){if(_0x4d0fa9 instanceof api_error_1['ApiError'])throw _0x4d0fa9;throw new not_found_error_1['NotFoundError'](_0x4d0fa9);}}async[a199_0x2a2a6a(0x121)](_0x2eb781,_0xf35437){const _0x1dcac0=a199_0x2a2a6a;try{const _0x33cc71=await this[_0x1dcac0(0x143)](_0x2eb781),_0x493d97=await this[_0x1dcac0(0x139)][_0x1dcac0(0x10c)](_0x33cc71[_0x1dcac0(0x11a)],_0xf35437);return repo_class_1[_0x1dcac0(0x120)]['fromAzure'](_0x493d97,this['api'],this['credentials']);}catch(_0x12ab2e){if(_0x12ab2e instanceof api_error_1[_0x1dcac0(0x144)])throw _0x12ab2e;throw new bad_request_error_1[(_0x1dcac0(0x141))](_0x12ab2e);}}async['delete'](_0x5d17d2){const _0x25daf5=a199_0x2a2a6a;try{const _0x180564=await this[_0x25daf5(0x139)][_0x25daf5(0x125)]('repositories/'+_0x5d17d2);await this[_0x25daf5(0x139)]['delete'](_0x25daf5(0x118)+_0x180564['id']);}catch(_0x32c349){if(_0x32c349 instanceof api_error_1[_0x25daf5(0x144)])throw _0x32c349;throw new not_found_error_1['NotFoundError'](_0x32c349);}}};AzureRepoService=__decorate([(0x0,typedi_1[a199_0x2a2a6a(0x12f)])(),__param(0x1,(0x0,typedi_1[a199_0x2a2a6a(0x130)])(providers_tokens_1['Tokens'][a199_0x2a2a6a(0x13f)])),__metadata(a199_0x2a2a6a(0x13d),[azure_api_service_1[a199_0x2a2a6a(0x11c)],azure_credentials_dto_1['AzureCredentialsDto']])],AzureRepoService),exports[a199_0x2a2a6a(0x11e)]=AzureRepoService;