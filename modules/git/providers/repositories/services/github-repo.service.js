const a229_0x475b2e=a229_0x592d;(function(_0x518bf9,_0x35aaba){const _0x3a13a6=a229_0x592d,_0x2d887d=_0x518bf9();while(!![]){try{const _0xa89efc=parseInt(_0x3a13a6(0x132))/0x1+parseInt(_0x3a13a6(0x14e))/0x2+parseInt(_0x3a13a6(0x12f))/0x3*(parseInt(_0x3a13a6(0x165))/0x4)+parseInt(_0x3a13a6(0x158))/0x5+parseInt(_0x3a13a6(0x13d))/0x6+-parseInt(_0x3a13a6(0x15a))/0x7+-parseInt(_0x3a13a6(0x16d))/0x8;if(_0xa89efc===_0x35aaba)break;else _0x2d887d['push'](_0x2d887d['shift']());}catch(_0x330495){_0x2d887d['push'](_0x2d887d['shift']());}}}(a229_0x4e7f,0x3869a));const a229_0x2d28e7=(function(){let _0x4778ec=!![];return function(_0x22f90e,_0x18eeac){const _0x12fadd=_0x4778ec?function(){const _0x3ac3c9=a229_0x592d;if(_0x18eeac){const _0x5e4bd3=_0x18eeac[_0x3ac3c9(0x16a)](_0x22f90e,arguments);return _0x18eeac=null,_0x5e4bd3;}}:function(){};return _0x4778ec=![],_0x12fadd;};}()),a229_0x510db4=a229_0x2d28e7(this,function(){const _0x1bef19=a229_0x592d;return a229_0x510db4[_0x1bef19(0x159)]()['search'](_0x1bef19(0x134))[_0x1bef19(0x159)]()[_0x1bef19(0x150)](a229_0x510db4)[_0x1bef19(0x167)](_0x1bef19(0x134));});function a229_0x592d(_0x22295c,_0x4d70f0){const _0x20d79c=a229_0x4e7f();return a229_0x592d=function(_0x510db4,_0x2d28e7){_0x510db4=_0x510db4-0x12a;let _0x4e7f1e=_0x20d79c[_0x510db4];return _0x4e7f1e;},a229_0x592d(_0x22295c,_0x4d70f0);}a229_0x510db4();'use strict';function a229_0x4e7f(){const _0x347269=['credentials','getAll','function','Service','../../../../../core/errors/api.error','defaultBranch','3JHhnDE','GithubRepoService','ApiError','9377JmcILa','isArray','(((.+)+)+)+$','apiBody','BadRequestError','createRequestToRepos','__metadata','autoInit','NotFoundError','update','user/repos','2018574uUkUSU','__esModule','patch','metadata','push','GithubCredentialsDto','object','../../../../shared/utils','create','../../../internal/git.internal','../../../../../core/errors/bad-request.error','delete','getOne','../../api/github-api.service','repos/','username','../repo.class','545032ivRsuh','length','constructor','./git-repo.service','joinURL','map','request','organization','createRequest','__decorate','1854205MThHCS','toString','1776698SNThDI','fromGithub','Repo','api','/repos','post','defineProperty','Tokens','get','decorate','../../../../../core/errors/not-found.error','960392jQfLKO','Inject','search','../../credentials/dto/github-credentials.dto','private','apply','defaults','orgs/','5955048adlyfk','typedi','design:paramtypes'];a229_0x4e7f=function(){return _0x347269;};return a229_0x4e7f();}var __decorate=this&&this[a229_0x475b2e(0x157)]||function(_0x271dde,_0x29230b,_0x5a050b,_0x545dc2){const _0x1d6f05=a229_0x475b2e;var _0x452399=arguments[_0x1d6f05(0x14f)],_0x55dfb8=_0x452399<0x3?_0x29230b:_0x545dc2===null?_0x545dc2=Object['getOwnPropertyDescriptor'](_0x29230b,_0x5a050b):_0x545dc2,_0x11fd50;if(typeof Reflect==='object'&&typeof Reflect[_0x1d6f05(0x163)]==='function')_0x55dfb8=Reflect[_0x1d6f05(0x163)](_0x271dde,_0x29230b,_0x5a050b,_0x545dc2);else{for(var _0x57b160=_0x271dde[_0x1d6f05(0x14f)]-0x1;_0x57b160>=0x0;_0x57b160--)if(_0x11fd50=_0x271dde[_0x57b160])_0x55dfb8=(_0x452399<0x3?_0x11fd50(_0x55dfb8):_0x452399>0x3?_0x11fd50(_0x29230b,_0x5a050b,_0x55dfb8):_0x11fd50(_0x29230b,_0x5a050b))||_0x55dfb8;}return _0x452399>0x3&&_0x55dfb8&&Object[_0x1d6f05(0x160)](_0x29230b,_0x5a050b,_0x55dfb8),_0x55dfb8;},__metadata=this&&this[a229_0x475b2e(0x138)]||function(_0x375a15,_0x3b9c90){const _0x341d20=a229_0x475b2e;if(typeof Reflect===_0x341d20(0x143)&&typeof Reflect[_0x341d20(0x140)]===_0x341d20(0x12b))return Reflect[_0x341d20(0x140)](_0x375a15,_0x3b9c90);},__param=this&&this['__param']||function(_0x1863f2,_0x574494){return function(_0x994ead,_0x3ad681){_0x574494(_0x994ead,_0x3ad681,_0x1863f2);};};Object['defineProperty'](exports,a229_0x475b2e(0x13e),{'value':!![]}),exports['GithubRepoService']=void 0x0;const bad_request_error_1=require(a229_0x475b2e(0x147)),not_found_error_1=require(a229_0x475b2e(0x164)),github_api_service_1=require(a229_0x475b2e(0x14a)),typedi_1=require(a229_0x475b2e(0x16e)),api_error_1=require(a229_0x475b2e(0x12d)),git_internal_1=require(a229_0x475b2e(0x146)),utils_1=require(a229_0x475b2e(0x144)),repo_class_1=require(a229_0x475b2e(0x14d)),git_repo_service_1=require(a229_0x475b2e(0x151)),providers_tokens_1=require('../../providers.tokens'),github_credentials_dto_1=require(a229_0x475b2e(0x168));let GithubRepoService=class GithubRepoService extends git_repo_service_1['GitRepoService']{constructor(_0xb4b99b,_0x5c927e){const _0x410ef2=a229_0x475b2e;super(_0xb4b99b),this[_0x410ef2(0x15d)]=_0xb4b99b,this[_0x410ef2(0x155)]=_0x5c927e[_0x410ef2(0x155)],this[_0x410ef2(0x14c)]=_0x5c927e[_0x410ef2(0x14c)],this['credentials']=_0x5c927e;}[a229_0x475b2e(0x137)](){const _0x1d1bc8=a229_0x475b2e;let _0x14ae1a='';this['organization']?_0x14ae1a=_0x1d1bc8(0x14b)+this[_0x1d1bc8(0x155)]:_0x14ae1a='repos/'+this[_0x1d1bc8(0x14c)];const _0x491445=this[_0x1d1bc8(0x15d)][_0x1d1bc8(0x156)]((0x0,utils_1[_0x1d1bc8(0x152)])(''+this[_0x1d1bc8(0x154)][_0x1d1bc8(0x16b)]['baseURL'],''+_0x14ae1a));return _0x491445;}async[a229_0x475b2e(0x145)](_0x5ab384){const _0x54bdaf=a229_0x475b2e;try{const _0x33a6b9=this[_0x54bdaf(0x155)]?'orgs/'+this[_0x54bdaf(0x155)]+_0x54bdaf(0x15e):'user/repos',_0x2a131c={'name':_0x5ab384['name'],'private':_0x5ab384[_0x54bdaf(0x169)],..._0x5ab384[_0x54bdaf(0x135)]||{}},_0x500277=await this[_0x54bdaf(0x154)][_0x54bdaf(0x15f)](_0x33a6b9,_0x2a131c),_0x385d34=repo_class_1[_0x54bdaf(0x15c)]['fromGithub'](_0x500277,this['api'],this[_0x54bdaf(0x170)]);return _0x5ab384[_0x54bdaf(0x139)]&&await git_internal_1['Git']['createEmptyBranch'](_0x385d34,_0x5ab384[_0x54bdaf(0x12e)]||'master','',this[_0x54bdaf(0x170)]),this[_0x54bdaf(0x149)](_0x385d34['name']);}catch(_0x1b6923){if(_0x1b6923 instanceof api_error_1[_0x54bdaf(0x131)])throw _0x1b6923;throw new bad_request_error_1[(_0x54bdaf(0x136))](_0x1b6923);}}async[a229_0x475b2e(0x12a)](){const _0x1a6d1f=a229_0x475b2e;try{const _0x12f5ec=this[_0x1a6d1f(0x155)]?_0x1a6d1f(0x16c)+this[_0x1a6d1f(0x155)]+'/repos':_0x1a6d1f(0x13c),_0x2ad2f3=[];let _0x4d0b7b=!![],_0xbc9fe=0x1;do{const _0x3fd884=await this['request'][_0x1a6d1f(0x162)](_0x12f5ec,{'params':{'per_page':0x64,'page':_0xbc9fe}});_0xbc9fe+=0x1;if(Array[_0x1a6d1f(0x133)](_0x3fd884)&&_0x3fd884[_0x1a6d1f(0x14f)]===0x0)_0x4d0b7b=![];else{if(Array[_0x1a6d1f(0x133)](_0x3fd884))_0x2ad2f3[_0x1a6d1f(0x141)](..._0x3fd884);else throw new bad_request_error_1['BadRequestError'](_0x3fd884);}}while(_0x4d0b7b);return _0x2ad2f3[_0x1a6d1f(0x153)](_0x32f6a5=>repo_class_1['Repo'][_0x1a6d1f(0x15b)](_0x32f6a5,this[_0x1a6d1f(0x15d)],this[_0x1a6d1f(0x170)]));}catch(_0x1b4edb){if(_0x1b4edb instanceof api_error_1[_0x1a6d1f(0x131)])throw _0x1b4edb;throw new not_found_error_1[(_0x1a6d1f(0x13a))](_0x1b4edb);}}async[a229_0x475b2e(0x149)](_0x477a8a){const _0x516f5c=a229_0x475b2e;try{const _0x3f93d2=this[_0x516f5c(0x137)](),_0x334dda=await _0x3f93d2[_0x516f5c(0x162)](_0x477a8a);return repo_class_1[_0x516f5c(0x15c)][_0x516f5c(0x15b)](_0x334dda,this[_0x516f5c(0x15d)],this[_0x516f5c(0x170)]);}catch(_0x41394d){if(_0x41394d instanceof api_error_1[_0x516f5c(0x131)])throw _0x41394d;throw new not_found_error_1[(_0x516f5c(0x13a))](_0x41394d);}}async[a229_0x475b2e(0x13b)](_0x2fbc5d,_0xb46113){const _0x760388=a229_0x475b2e;try{const _0x127af7=this[_0x760388(0x137)](),_0x6fe8d4=await _0x127af7[_0x760388(0x13f)](_0x2fbc5d,_0xb46113);return repo_class_1[_0x760388(0x15c)]['fromGithub'](_0x6fe8d4,this[_0x760388(0x15d)],this[_0x760388(0x170)]);}catch(_0x5720e1){throw new not_found_error_1['NotFoundError'](_0x5720e1);}}async[a229_0x475b2e(0x148)](_0x13061b){const _0x46fb3d=a229_0x475b2e;try{const _0x3661be=this[_0x46fb3d(0x137)]();await _0x3661be['delete'](_0x13061b);}catch(_0x511905){throw new bad_request_error_1[(_0x46fb3d(0x136))](_0x511905);}}};GithubRepoService=__decorate([(0x0,typedi_1[a229_0x475b2e(0x12c)])(),__param(0x1,(0x0,typedi_1[a229_0x475b2e(0x166)])(providers_tokens_1[a229_0x475b2e(0x161)][a229_0x475b2e(0x170)])),__metadata(a229_0x475b2e(0x16f),[github_api_service_1['GithubApiService'],github_credentials_dto_1[a229_0x475b2e(0x142)]])],GithubRepoService),exports[a229_0x475b2e(0x130)]=GithubRepoService;