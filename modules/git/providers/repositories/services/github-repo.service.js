const a203_0x15840c=a203_0xa8c4;(function(_0x2b6f0f,_0x500e95){const _0x4cf569=a203_0xa8c4,_0x59b0c8=_0x2b6f0f();while(!![]){try{const _0x575cc2=-parseInt(_0x4cf569(0x11c))/0x1*(parseInt(_0x4cf569(0x11e))/0x2)+parseInt(_0x4cf569(0xfe))/0x3*(-parseInt(_0x4cf569(0x100))/0x4)+-parseInt(_0x4cf569(0xe9))/0x5+parseInt(_0x4cf569(0xf7))/0x6+parseInt(_0x4cf569(0x120))/0x7*(parseInt(_0x4cf569(0xe5))/0x8)+-parseInt(_0x4cf569(0x113))/0x9*(-parseInt(_0x4cf569(0xe2))/0xa)+-parseInt(_0x4cf569(0xea))/0xb*(-parseInt(_0x4cf569(0xf3))/0xc);if(_0x575cc2===_0x500e95)break;else _0x59b0c8['push'](_0x59b0c8['shift']());}catch(_0x1ba7b8){_0x59b0c8['push'](_0x59b0c8['shift']());}}}(a203_0x307a,0x58d09));const a203_0x4384b6=(function(){let _0x203023=!![];return function(_0x951cb5,_0xb478f2){const _0x23e2f3=_0x203023?function(){const _0x16fe8d=a203_0xa8c4;if(_0xb478f2){const _0x178da0=_0xb478f2[_0x16fe8d(0xeb)](_0x951cb5,arguments);return _0xb478f2=null,_0x178da0;}}:function(){};return _0x203023=![],_0x23e2f3;};}()),a203_0x1166c5=a203_0x4384b6(this,function(){const _0x2e3e4b=a203_0xa8c4;return a203_0x1166c5[_0x2e3e4b(0xf6)]()[_0x2e3e4b(0xe4)](_0x2e3e4b(0x125))['toString']()[_0x2e3e4b(0x109)](a203_0x1166c5)[_0x2e3e4b(0xe4)]('(((.+)+)+)+$');});a203_0x1166c5();'use strict';function a203_0xa8c4(_0x1ab9e7,_0x50ae2c){const _0x2f5b34=a203_0x307a();return a203_0xa8c4=function(_0x1166c5,_0x4384b6){_0x1166c5=_0x1166c5-0xdd;let _0x307a24=_0x2f5b34[_0x1166c5];return _0x307a24;},a203_0xa8c4(_0x1ab9e7,_0x50ae2c);}var __decorate=this&&this[a203_0x15840c(0x10c)]||function(_0x4709f3,_0x44bcf7,_0xa075dd,_0x30238e){const _0x2b269e=a203_0x15840c;var _0x2599b5=arguments['length'],_0x1a6326=_0x2599b5<0x3?_0x44bcf7:_0x30238e===null?_0x30238e=Object[_0x2b269e(0x106)](_0x44bcf7,_0xa075dd):_0x30238e,_0xded5ab;if(typeof Reflect===_0x2b269e(0x107)&&typeof Reflect['decorate']===_0x2b269e(0xe7))_0x1a6326=Reflect['decorate'](_0x4709f3,_0x44bcf7,_0xa075dd,_0x30238e);else{for(var _0x785508=_0x4709f3[_0x2b269e(0xe6)]-0x1;_0x785508>=0x0;_0x785508--)if(_0xded5ab=_0x4709f3[_0x785508])_0x1a6326=(_0x2599b5<0x3?_0xded5ab(_0x1a6326):_0x2599b5>0x3?_0xded5ab(_0x44bcf7,_0xa075dd,_0x1a6326):_0xded5ab(_0x44bcf7,_0xa075dd))||_0x1a6326;}return _0x2599b5>0x3&&_0x1a6326&&Object[_0x2b269e(0xe1)](_0x44bcf7,_0xa075dd,_0x1a6326),_0x1a6326;},__metadata=this&&this[a203_0x15840c(0xff)]||function(_0x4affba,_0x5d4f96){const _0xa28728=a203_0x15840c;if(typeof Reflect===_0xa28728(0x107)&&typeof Reflect['metadata']===_0xa28728(0xe7))return Reflect[_0xa28728(0xfd)](_0x4affba,_0x5d4f96);},__param=this&&this['__param']||function(_0x411866,_0x3f272e){return function(_0x4e8508,_0x4c20b2){_0x3f272e(_0x4e8508,_0x4c20b2,_0x411866);};};Object[a203_0x15840c(0xe1)](exports,a203_0x15840c(0xfb),{'value':!![]}),exports[a203_0x15840c(0x10f)]=void 0x0;function a203_0x307a(){const _0x4dfbcd=['159271zaBfKx','Git','../repo.class','create','/repos','(((.+)+)+)+$','getAll','master','baseURL','orgs/','defineProperty','2438230rrHtlG','repos/','search','8WNnwFI','length','function','get','1751610AmMtWo','1548899LfsadH','apply','fromGithub','BadRequestError','getOne','createRequest','createEmptyBranch','isArray','../../providers.tokens','48Zyjvyt','name','Service','toString','1465278EFXuej','apiBody','organization','defaultBranch','__esModule','username','metadata','1584174fzdgHA','__metadata','4DoQduC','Repo','autoInit','push','credentials','../../../../../core/errors/bad-request.error','getOwnPropertyDescriptor','object','map','constructor','GithubCredentialsDto','ApiError','__decorate','api','../../../internal/git.internal','GithubRepoService','../../../../../core/errors/api.error','GitRepoService','../../credentials/dto/github-credentials.dto','18OISBVQ','NotFoundError','request','../../../../../core/errors/not-found.error','typedi','patch','delete','defaults','user/repos','75683Hrulte','Tokens','2yCUAle','createRequestToRepos'];a203_0x307a=function(){return _0x4dfbcd;};return a203_0x307a();}const bad_request_error_1=require(a203_0x15840c(0x105)),not_found_error_1=require(a203_0x15840c(0x116)),github_api_service_1=require('../../api/github-api.service'),typedi_1=require(a203_0x15840c(0x117)),api_error_1=require(a203_0x15840c(0x110)),git_internal_1=require(a203_0x15840c(0x10e)),utils_1=require('../../../../shared/utils'),repo_class_1=require(a203_0x15840c(0x122)),git_repo_service_1=require('./git-repo.service'),providers_tokens_1=require(a203_0x15840c(0xf2)),github_credentials_dto_1=require(a203_0x15840c(0x112));let GithubRepoService=class GithubRepoService extends git_repo_service_1[a203_0x15840c(0x111)]{constructor(_0x56a9c3,_0x3ed13a){const _0x28791e=a203_0x15840c;super(_0x56a9c3),this['api']=_0x56a9c3,this[_0x28791e(0xf9)]=_0x3ed13a[_0x28791e(0xf9)],this[_0x28791e(0xfc)]=_0x3ed13a[_0x28791e(0xfc)],this[_0x28791e(0x104)]=_0x3ed13a;}[a203_0x15840c(0x11f)](){const _0x7b5a65=a203_0x15840c;let _0x3bc8d9='';this[_0x7b5a65(0xf9)]?_0x3bc8d9='repos/'+this[_0x7b5a65(0xf9)]:_0x3bc8d9=_0x7b5a65(0xe3)+this[_0x7b5a65(0xfc)];const _0x4208d=this[_0x7b5a65(0x10d)][_0x7b5a65(0xef)]((0x0,utils_1['joinURL'])(''+this[_0x7b5a65(0x115)][_0x7b5a65(0x11a)][_0x7b5a65(0xdf)],''+_0x3bc8d9));return _0x4208d;}async[a203_0x15840c(0x123)](_0x235c59){const _0x13f91a=a203_0x15840c;try{const _0x229b40=this[_0x13f91a(0xf9)]?_0x13f91a(0xe0)+this[_0x13f91a(0xf9)]+_0x13f91a(0x124):'user/repos',_0x175808={'name':_0x235c59[_0x13f91a(0xf4)],'private':_0x235c59['private'],..._0x235c59[_0x13f91a(0xf8)]||{}},_0x16f8f0=await this[_0x13f91a(0x115)]['post'](_0x229b40,_0x175808),_0x2f9f41=repo_class_1[_0x13f91a(0x101)]['fromGithub'](_0x16f8f0,this['api'],this[_0x13f91a(0x104)]);return _0x235c59[_0x13f91a(0x102)]&&await git_internal_1[_0x13f91a(0x121)][_0x13f91a(0xf0)](_0x2f9f41,_0x235c59[_0x13f91a(0xfa)]||_0x13f91a(0xde),'',this[_0x13f91a(0x104)]),this[_0x13f91a(0xee)](_0x2f9f41[_0x13f91a(0xf4)]);}catch(_0x32524b){if(_0x32524b instanceof api_error_1['ApiError'])throw _0x32524b;throw new bad_request_error_1[(_0x13f91a(0xed))](_0x32524b);}}async[a203_0x15840c(0xdd)](){const _0x4a8639=a203_0x15840c;try{const _0x37c630=this[_0x4a8639(0xf9)]?_0x4a8639(0xe0)+this[_0x4a8639(0xf9)]+_0x4a8639(0x124):_0x4a8639(0x11b),_0x989113=[];let _0xde6284=!![],_0x33281c=0x1;do{const _0x434fc1=await this[_0x4a8639(0x115)][_0x4a8639(0xe8)](_0x37c630,{'params':{'per_page':0x64,'page':_0x33281c}});_0x33281c+=0x1;if(Array[_0x4a8639(0xf1)](_0x434fc1)&&_0x434fc1[_0x4a8639(0xe6)]===0x0)_0xde6284=![];else{if(Array[_0x4a8639(0xf1)](_0x434fc1))_0x989113[_0x4a8639(0x103)](..._0x434fc1);else throw new bad_request_error_1[(_0x4a8639(0xed))](_0x434fc1);}}while(_0xde6284);return _0x989113[_0x4a8639(0x108)](_0x5e6003=>repo_class_1[_0x4a8639(0x101)][_0x4a8639(0xec)](_0x5e6003,this[_0x4a8639(0x10d)],this[_0x4a8639(0x104)]));}catch(_0x122977){if(_0x122977 instanceof api_error_1['ApiError'])throw _0x122977;throw new not_found_error_1[(_0x4a8639(0x114))](_0x122977);}}async[a203_0x15840c(0xee)](_0xff376f){const _0x5c04c5=a203_0x15840c;try{const _0x1ffbeb=this['createRequestToRepos'](),_0x2ed33a=await _0x1ffbeb[_0x5c04c5(0xe8)](_0xff376f);return repo_class_1[_0x5c04c5(0x101)][_0x5c04c5(0xec)](_0x2ed33a,this[_0x5c04c5(0x10d)],this[_0x5c04c5(0x104)]);}catch(_0x312c6e){if(_0x312c6e instanceof api_error_1[_0x5c04c5(0x10b)])throw _0x312c6e;throw new not_found_error_1[(_0x5c04c5(0x114))](_0x312c6e);}}async['update'](_0x121567,_0x21d18c){const _0x44499c=a203_0x15840c;try{const _0x537677=this[_0x44499c(0x11f)](),_0x452529=await _0x537677[_0x44499c(0x118)](_0x121567,_0x21d18c);return repo_class_1[_0x44499c(0x101)]['fromGithub'](_0x452529,this[_0x44499c(0x10d)],this[_0x44499c(0x104)]);}catch(_0x3616a4){throw new not_found_error_1[(_0x44499c(0x114))](_0x3616a4);}}async[a203_0x15840c(0x119)](_0x2018c5){const _0x58c982=a203_0x15840c;try{const _0x3467d8=this[_0x58c982(0x11f)]();await _0x3467d8[_0x58c982(0x119)](_0x2018c5);}catch(_0x3d0d47){throw new bad_request_error_1[(_0x58c982(0xed))](_0x3d0d47);}}};GithubRepoService=__decorate([(0x0,typedi_1[a203_0x15840c(0xf5)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a203_0x15840c(0x11d)][a203_0x15840c(0x104)])),__metadata('design:paramtypes',[github_api_service_1['GithubApiService'],github_credentials_dto_1[a203_0x15840c(0x10a)]])],GithubRepoService),exports['GithubRepoService']=GithubRepoService;