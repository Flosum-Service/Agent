const a239_0x4cf215=a239_0x541d;(function(_0x1e89a1,_0x54811b){const _0x7eefd6=a239_0x541d,_0x1ea274=_0x1e89a1();while(!![]){try{const _0x257ae3=parseInt(_0x7eefd6(0x12b))/0x1+parseInt(_0x7eefd6(0x119))/0x2*(-parseInt(_0x7eefd6(0xfc))/0x3)+parseInt(_0x7eefd6(0x10e))/0x4+-parseInt(_0x7eefd6(0x11d))/0x5+-parseInt(_0x7eefd6(0x103))/0x6*(parseInt(_0x7eefd6(0x13d))/0x7)+parseInt(_0x7eefd6(0x13a))/0x8+parseInt(_0x7eefd6(0x104))/0x9;if(_0x257ae3===_0x54811b)break;else _0x1ea274['push'](_0x1ea274['shift']());}catch(_0x6c4f57){_0x1ea274['push'](_0x1ea274['shift']());}}}(a239_0x9532,0x726ec));const a239_0x2339c8=(function(){let _0x3fb838=!![];return function(_0x52192b,_0x45c6e1){const _0x597abe=_0x3fb838?function(){const _0xff3d08=a239_0x541d;if(_0x45c6e1){const _0x5308ba=_0x45c6e1[_0xff3d08(0x130)](_0x52192b,arguments);return _0x45c6e1=null,_0x5308ba;}}:function(){};return _0x3fb838=![],_0x597abe;};}()),a239_0x513813=a239_0x2339c8(this,function(){const _0x25f475=a239_0x541d;return a239_0x513813[_0x25f475(0x134)]()[_0x25f475(0x128)]('(((.+)+)+)+$')[_0x25f475(0x134)]()[_0x25f475(0x116)](a239_0x513813)[_0x25f475(0x128)](_0x25f475(0x120));});a239_0x513813();'use strict';var __decorate=this&&this[a239_0x4cf215(0x13e)]||function(_0x3da792,_0x643e09,_0x3813b1,_0xc60a3d){const _0x367c19=a239_0x4cf215;var _0x262cd4=arguments['length'],_0x2362d1=_0x262cd4<0x3?_0x643e09:_0xc60a3d===null?_0xc60a3d=Object[_0x367c19(0x12c)](_0x643e09,_0x3813b1):_0xc60a3d,_0x4fd0b7;if(typeof Reflect===_0x367c19(0x108)&&typeof Reflect['decorate']==='function')_0x2362d1=Reflect[_0x367c19(0x135)](_0x3da792,_0x643e09,_0x3813b1,_0xc60a3d);else{for(var _0x169021=_0x3da792['length']-0x1;_0x169021>=0x0;_0x169021--)if(_0x4fd0b7=_0x3da792[_0x169021])_0x2362d1=(_0x262cd4<0x3?_0x4fd0b7(_0x2362d1):_0x262cd4>0x3?_0x4fd0b7(_0x643e09,_0x3813b1,_0x2362d1):_0x4fd0b7(_0x643e09,_0x3813b1))||_0x2362d1;}return _0x262cd4>0x3&&_0x2362d1&&Object[_0x367c19(0x122)](_0x643e09,_0x3813b1,_0x2362d1),_0x2362d1;},__metadata=this&&this[a239_0x4cf215(0x102)]||function(_0x127a4b,_0x200744){const _0x3d58e3=a239_0x4cf215;if(typeof Reflect==='object'&&typeof Reflect[_0x3d58e3(0x114)]===_0x3d58e3(0x10f))return Reflect[_0x3d58e3(0x114)](_0x127a4b,_0x200744);},__param=this&&this[a239_0x4cf215(0x13c)]||function(_0x3fbf69,_0x183db2){return function(_0x513a40,_0x299f3c){_0x183db2(_0x513a40,_0x299f3c,_0x3fbf69);};};Object[a239_0x4cf215(0x122)](exports,a239_0x4cf215(0x112),{'value':!![]}),exports[a239_0x4cf215(0x140)]=void 0x0;function a239_0x9532(){const _0x3d4391=['length','Tokens','autoInit','../repo.class','__metadata','498nCXVGL','5427864qgBmjj','organization','typedi','repos/','object','createRequest','baseURL','createRequestToRepos','../../credentials/dto/github-credentials.dto','update','3385096QDDmmZ','function','/repos','Git','__esModule','fromGithub','metadata','design:paramtypes','constructor','apiBody','../../../../shared/utils','63286eTFSax','defaults','delete','post','4185345IEOecU','BadRequestError','push','(((.+)+)+)+$','NotFoundError','defineProperty','user/repos','api','name','defaultBranch','patch','search','../../../../../core/errors/bad-request.error','orgs/','97805JYIdnv','getOwnPropertyDescriptor','Service','getAll','private','apply','request','ApiError','credentials','toString','decorate','../../../../../core/errors/api.error','username','GithubCredentialsDto','./git-repo.service','6401184ZfUxFM','get','__param','58485HiBEfU','__decorate','Repo','GithubRepoService','GithubApiService','GitRepoService','../../api/github-api.service','getOne','33VWzEPC','isArray'];a239_0x9532=function(){return _0x3d4391;};return a239_0x9532();}function a239_0x541d(_0x442c1d,_0x25ab6c){const _0x5d199d=a239_0x9532();return a239_0x541d=function(_0x513813,_0x2339c8){_0x513813=_0x513813-0xfa;let _0x95329=_0x5d199d[_0x513813];return _0x95329;},a239_0x541d(_0x442c1d,_0x25ab6c);}const bad_request_error_1=require(a239_0x4cf215(0x129)),not_found_error_1=require('../../../../../core/errors/not-found.error'),github_api_service_1=require(a239_0x4cf215(0xfa)),typedi_1=require(a239_0x4cf215(0x106)),api_error_1=require(a239_0x4cf215(0x136)),git_internal_1=require('../../../internal/git.internal'),utils_1=require(a239_0x4cf215(0x118)),repo_class_1=require(a239_0x4cf215(0x101)),git_repo_service_1=require(a239_0x4cf215(0x139)),providers_tokens_1=require('../../providers.tokens'),github_credentials_dto_1=require(a239_0x4cf215(0x10c));let GithubRepoService=class GithubRepoService extends git_repo_service_1[a239_0x4cf215(0x142)]{constructor(_0x1c8619,_0x32d10b){const _0xb9ff4e=a239_0x4cf215;super(_0x1c8619),this[_0xb9ff4e(0x124)]=_0x1c8619,this[_0xb9ff4e(0x105)]=_0x32d10b[_0xb9ff4e(0x105)],this[_0xb9ff4e(0x137)]=_0x32d10b['username'],this[_0xb9ff4e(0x133)]=_0x32d10b;}['createRequestToRepos'](){const _0x2e3080=a239_0x4cf215;let _0x38cad5='';this['organization']?_0x38cad5=_0x2e3080(0x107)+this[_0x2e3080(0x105)]:_0x38cad5=_0x2e3080(0x107)+this[_0x2e3080(0x137)];const _0x17127d=this[_0x2e3080(0x124)][_0x2e3080(0x109)]((0x0,utils_1['joinURL'])(''+this[_0x2e3080(0x131)][_0x2e3080(0x11a)][_0x2e3080(0x10a)],''+_0x38cad5));return _0x17127d;}async['create'](_0xf2a0e3){const _0x30e071=a239_0x4cf215;try{const _0x2d1a46=this[_0x30e071(0x105)]?_0x30e071(0x12a)+this['organization']+_0x30e071(0x110):_0x30e071(0x123),_0x56743b={'name':_0xf2a0e3[_0x30e071(0x125)],'private':_0xf2a0e3[_0x30e071(0x12f)],..._0xf2a0e3[_0x30e071(0x117)]||{}},_0x44bce7=await this[_0x30e071(0x131)][_0x30e071(0x11c)](_0x2d1a46,_0x56743b),_0x566e5a=repo_class_1[_0x30e071(0x13f)][_0x30e071(0x113)](_0x44bce7,this['api'],this[_0x30e071(0x133)]);return _0xf2a0e3[_0x30e071(0x100)]&&await git_internal_1[_0x30e071(0x111)]['createEmptyBranch'](_0x566e5a,_0xf2a0e3[_0x30e071(0x126)]||'master','',this[_0x30e071(0x133)]),this[_0x30e071(0xfb)](_0x566e5a['name']);}catch(_0x47fb6f){if(_0x47fb6f instanceof api_error_1['ApiError'])throw _0x47fb6f;throw new bad_request_error_1[(_0x30e071(0x11e))](_0x47fb6f);}}async[a239_0x4cf215(0x12e)](){const _0x1ac18a=a239_0x4cf215;try{const _0x8a59c8=this['organization']?_0x1ac18a(0x12a)+this[_0x1ac18a(0x105)]+_0x1ac18a(0x110):'user/repos',_0x182a39=[];let _0x3358d1=!![],_0x16f8e9=0x1;do{const _0x374e33=await this[_0x1ac18a(0x131)][_0x1ac18a(0x13b)](_0x8a59c8,{'params':{'per_page':0x64,'page':_0x16f8e9}});_0x16f8e9+=0x1;if(Array[_0x1ac18a(0xfd)](_0x374e33)&&_0x374e33[_0x1ac18a(0xfe)]===0x0)_0x3358d1=![];else{if(Array['isArray'](_0x374e33))_0x182a39[_0x1ac18a(0x11f)](..._0x374e33);else throw new bad_request_error_1[(_0x1ac18a(0x11e))](_0x374e33);}}while(_0x3358d1);return _0x182a39['map'](_0x1d10d0=>repo_class_1['Repo'][_0x1ac18a(0x113)](_0x1d10d0,this[_0x1ac18a(0x124)],this[_0x1ac18a(0x133)]));}catch(_0x2ce851){if(_0x2ce851 instanceof api_error_1[_0x1ac18a(0x132)])throw _0x2ce851;throw new not_found_error_1[(_0x1ac18a(0x121))](_0x2ce851);}}async[a239_0x4cf215(0xfb)](_0x567370){const _0x233df4=a239_0x4cf215;try{const _0x183420=this['createRequestToRepos'](),_0x357790=await _0x183420[_0x233df4(0x13b)](_0x567370);return repo_class_1[_0x233df4(0x13f)][_0x233df4(0x113)](_0x357790,this[_0x233df4(0x124)],this[_0x233df4(0x133)]);}catch(_0x4506e4){if(_0x4506e4 instanceof api_error_1[_0x233df4(0x132)])throw _0x4506e4;throw new not_found_error_1['NotFoundError'](_0x4506e4);}}async[a239_0x4cf215(0x10d)](_0x4288be,_0x5eba10){const _0x263c77=a239_0x4cf215;try{const _0x9a1212=this[_0x263c77(0x10b)](),_0x266f39=await _0x9a1212[_0x263c77(0x127)](_0x4288be,_0x5eba10);return repo_class_1[_0x263c77(0x13f)][_0x263c77(0x113)](_0x266f39,this['api'],this[_0x263c77(0x133)]);}catch(_0x586561){throw new not_found_error_1[(_0x263c77(0x121))](_0x586561);}}async[a239_0x4cf215(0x11b)](_0x530a90){const _0x14ecd3=a239_0x4cf215;try{const _0x1f41ef=this[_0x14ecd3(0x10b)]();await _0x1f41ef[_0x14ecd3(0x11b)](_0x530a90);}catch(_0x511315){throw new bad_request_error_1[(_0x14ecd3(0x11e))](_0x511315);}}};GithubRepoService=__decorate([(0x0,typedi_1[a239_0x4cf215(0x12d)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a239_0x4cf215(0xff)][a239_0x4cf215(0x133)])),__metadata(a239_0x4cf215(0x115),[github_api_service_1[a239_0x4cf215(0x141)],github_credentials_dto_1[a239_0x4cf215(0x138)]])],GithubRepoService),exports[a239_0x4cf215(0x140)]=GithubRepoService;