const a208_0x32cb04=a208_0x2ac5;(function(_0x17c63b,_0x192916){const _0x49c637=a208_0x2ac5,_0xbf9e5a=_0x17c63b();while(!![]){try{const _0x28b801=-parseInt(_0x49c637(0x8e))/0x1*(-parseInt(_0x49c637(0xb5))/0x2)+parseInt(_0x49c637(0x93))/0x3+-parseInt(_0x49c637(0x7f))/0x4+parseInt(_0x49c637(0xb7))/0x5+parseInt(_0x49c637(0xbc))/0x6*(parseInt(_0x49c637(0x84))/0x7)+parseInt(_0x49c637(0xaf))/0x8*(parseInt(_0x49c637(0x8d))/0x9)+-parseInt(_0x49c637(0xba))/0xa;if(_0x28b801===_0x192916)break;else _0xbf9e5a['push'](_0xbf9e5a['shift']());}catch(_0xeca064){_0xbf9e5a['push'](_0xbf9e5a['shift']());}}}(a208_0x3998,0x18ffe));const a208_0x5f5bcd=(function(){let _0x59acfc=!![];return function(_0x27ae61,_0x246595){const _0x363157=_0x59acfc?function(){const _0x349857=a208_0x2ac5;if(_0x246595){const _0x433476=_0x246595[_0x349857(0xa0)](_0x27ae61,arguments);return _0x246595=null,_0x433476;}}:function(){};return _0x59acfc=![],_0x363157;};}()),a208_0x332e27=a208_0x5f5bcd(this,function(){const _0x7df6da=a208_0x2ac5;return a208_0x332e27[_0x7df6da(0x88)]()[_0x7df6da(0x7b)](_0x7df6da(0x99))['toString']()[_0x7df6da(0xb2)](a208_0x332e27)[_0x7df6da(0x7b)]('(((.+)+)+)+$');});a208_0x332e27();'use strict';var __decorate=this&&this[a208_0x32cb04(0x98)]||function(_0x5c3516,_0x19efcd,_0x491625,_0x363d9a){const _0x363755=a208_0x32cb04;var _0x20e447=arguments[_0x363755(0xa1)],_0x51d60c=_0x20e447<0x3?_0x19efcd:_0x363d9a===null?_0x363d9a=Object['getOwnPropertyDescriptor'](_0x19efcd,_0x491625):_0x363d9a,_0x5ec30a;if(typeof Reflect==='object'&&typeof Reflect[_0x363755(0x85)]==='function')_0x51d60c=Reflect[_0x363755(0x85)](_0x5c3516,_0x19efcd,_0x491625,_0x363d9a);else{for(var _0x3027e2=_0x5c3516[_0x363755(0xa1)]-0x1;_0x3027e2>=0x0;_0x3027e2--)if(_0x5ec30a=_0x5c3516[_0x3027e2])_0x51d60c=(_0x20e447<0x3?_0x5ec30a(_0x51d60c):_0x20e447>0x3?_0x5ec30a(_0x19efcd,_0x491625,_0x51d60c):_0x5ec30a(_0x19efcd,_0x491625))||_0x51d60c;}return _0x20e447>0x3&&_0x51d60c&&Object['defineProperty'](_0x19efcd,_0x491625,_0x51d60c),_0x51d60c;},__metadata=this&&this[a208_0x32cb04(0xa3)]||function(_0x5f2df3,_0x4957e3){const _0x4051ed=a208_0x32cb04;if(typeof Reflect==='object'&&typeof Reflect[_0x4051ed(0xa7)]===_0x4051ed(0x91))return Reflect[_0x4051ed(0xa7)](_0x5f2df3,_0x4957e3);},__param=this&&this['__param']||function(_0xc4fcc9,_0x2efec6){return function(_0x31dee1,_0x5a0c77){_0x2efec6(_0x31dee1,_0x5a0c77,_0xc4fcc9);};};function a208_0x2ac5(_0x3c601c,_0x48fe0b){const _0x5b63ac=a208_0x3998();return a208_0x2ac5=function(_0x332e27,_0x5f5bcd){_0x332e27=_0x332e27-0x7b;let _0x39983f=_0x5b63ac[_0x332e27];return _0x39983f;},a208_0x2ac5(_0x3c601c,_0x48fe0b);}Object[a208_0x32cb04(0x9a)](exports,a208_0x32cb04(0x87),{'value':!![]}),exports[a208_0x32cb04(0xa5)]=void 0x0;function a208_0x3998(){const _0x2fbac2=['(((.+)+)+)+$','defineProperty','../../../../../core/errors/not-found.error','api','autoInit','../../../../../core/errors/api.error','NotFoundError','apply','length','ApiError','__metadata','../repo.class','GithubRepoService','orgs/','metadata','patch','delete','Git','./git-repo.service','GithubApiService','isArray','defaultBranch','1144RwmzBU','post','user/repos','constructor','name','createRequestToRepos','1210XWfmWZ','BadRequestError','227830jqyngT','joinURL','createRequest','1665970ouFUzm','create','510OYKsHd','Repo','repos/','apiBody','search','/repos','Tokens','organization','591316RPlmZH','../../credentials/dto/github-credentials.dto','fromGithub','update','map','119tVAQaW','decorate','credentials','__esModule','toString','getAll','Service','request','defaults','9081fpwSns','295hVRugJ','private','../../../internal/git.internal','function','GitRepoService','141153EBYrjl','username','master','typedi','../../../../shared/utils','__decorate'];a208_0x3998=function(){return _0x2fbac2;};return a208_0x3998();}const bad_request_error_1=require('../../../../../core/errors/bad-request.error'),not_found_error_1=require(a208_0x32cb04(0x9b)),github_api_service_1=require('../../api/github-api.service'),typedi_1=require(a208_0x32cb04(0x96)),api_error_1=require(a208_0x32cb04(0x9e)),git_internal_1=require(a208_0x32cb04(0x90)),utils_1=require(a208_0x32cb04(0x97)),repo_class_1=require(a208_0x32cb04(0xa4)),git_repo_service_1=require(a208_0x32cb04(0xab)),providers_tokens_1=require('../../providers.tokens'),github_credentials_dto_1=require(a208_0x32cb04(0x80));let GithubRepoService=class GithubRepoService extends git_repo_service_1[a208_0x32cb04(0x92)]{constructor(_0x321ce6,_0x4f7419){const _0x337c1b=a208_0x32cb04;super(_0x321ce6),this['api']=_0x321ce6,this[_0x337c1b(0x7e)]=_0x4f7419[_0x337c1b(0x7e)],this['username']=_0x4f7419[_0x337c1b(0x94)],this[_0x337c1b(0x86)]=_0x4f7419;}[a208_0x32cb04(0xb4)](){const _0x2a31c2=a208_0x32cb04;let _0x5ebdaf='';this[_0x2a31c2(0x7e)]?_0x5ebdaf='repos/'+this[_0x2a31c2(0x7e)]:_0x5ebdaf=_0x2a31c2(0xbe)+this[_0x2a31c2(0x94)];const _0x35e5ae=this[_0x2a31c2(0x9c)][_0x2a31c2(0xb9)]((0x0,utils_1[_0x2a31c2(0xb8)])(''+this[_0x2a31c2(0x8b)][_0x2a31c2(0x8c)]['baseURL'],''+_0x5ebdaf));return _0x35e5ae;}async[a208_0x32cb04(0xbb)](_0x4cd185){const _0x31d866=a208_0x32cb04;try{const _0xe0d105=this[_0x31d866(0x7e)]?'orgs/'+this[_0x31d866(0x7e)]+'/repos':'user/repos',_0x1d4ede={'name':_0x4cd185[_0x31d866(0xb3)],'private':_0x4cd185[_0x31d866(0x8f)],..._0x4cd185[_0x31d866(0xbf)]||{}},_0x3aa164=await this['request'][_0x31d866(0xb0)](_0xe0d105,_0x1d4ede),_0x3fa42f=repo_class_1['Repo'][_0x31d866(0x81)](_0x3aa164,this[_0x31d866(0x9c)],this[_0x31d866(0x86)]);return _0x4cd185[_0x31d866(0x9d)]&&await git_internal_1[_0x31d866(0xaa)]['createEmptyBranch'](_0x3fa42f,_0x4cd185[_0x31d866(0xae)]||_0x31d866(0x95),'',this[_0x31d866(0x86)]),this['getOne'](_0x3fa42f[_0x31d866(0xb3)]);}catch(_0x17f34f){if(_0x17f34f instanceof api_error_1[_0x31d866(0xa2)])throw _0x17f34f;throw new bad_request_error_1[(_0x31d866(0xb6))](_0x17f34f);}}async[a208_0x32cb04(0x89)](){const _0x461aec=a208_0x32cb04;try{const _0x1e3bba=this['organization']?_0x461aec(0xa6)+this['organization']+_0x461aec(0x7c):_0x461aec(0xb1),_0x30392e=[];let _0x221a18=!![],_0x5cbcd5=0x1;do{const _0x4cb6d2=await this[_0x461aec(0x8b)]['get'](_0x1e3bba,{'params':{'per_page':0x64,'page':_0x5cbcd5}});_0x5cbcd5+=0x1;if(Array[_0x461aec(0xad)](_0x4cb6d2)&&_0x4cb6d2[_0x461aec(0xa1)]===0x0)_0x221a18=![];else{if(Array[_0x461aec(0xad)](_0x4cb6d2))_0x30392e['push'](..._0x4cb6d2);else throw new bad_request_error_1['BadRequestError'](_0x4cb6d2);}}while(_0x221a18);return _0x30392e[_0x461aec(0x83)](_0x56a0fd=>repo_class_1[_0x461aec(0xbd)][_0x461aec(0x81)](_0x56a0fd,this[_0x461aec(0x9c)],this[_0x461aec(0x86)]));}catch(_0x3f9b77){if(_0x3f9b77 instanceof api_error_1['ApiError'])throw _0x3f9b77;throw new not_found_error_1['NotFoundError'](_0x3f9b77);}}async['getOne'](_0x551c17){const _0x53098b=a208_0x32cb04;try{const _0x4004e9=this[_0x53098b(0xb4)](),_0x35e341=await _0x4004e9['get'](_0x551c17);return repo_class_1['Repo']['fromGithub'](_0x35e341,this[_0x53098b(0x9c)],this['credentials']);}catch(_0x4dad96){if(_0x4dad96 instanceof api_error_1[_0x53098b(0xa2)])throw _0x4dad96;throw new not_found_error_1[(_0x53098b(0x9f))](_0x4dad96);}}async[a208_0x32cb04(0x82)](_0x388b6b,_0x46bc17){const _0x365e73=a208_0x32cb04;try{const _0xf884a3=this[_0x365e73(0xb4)](),_0x5b4a25=await _0xf884a3[_0x365e73(0xa8)](_0x388b6b,_0x46bc17);return repo_class_1[_0x365e73(0xbd)][_0x365e73(0x81)](_0x5b4a25,this[_0x365e73(0x9c)],this['credentials']);}catch(_0x26c61d){throw new not_found_error_1[(_0x365e73(0x9f))](_0x26c61d);}}async['delete'](_0x35d6fc){const _0xfbeaed=a208_0x32cb04;try{const _0x39c6b9=this[_0xfbeaed(0xb4)]();await _0x39c6b9[_0xfbeaed(0xa9)](_0x35d6fc);}catch(_0x26ee1d){throw new bad_request_error_1[(_0xfbeaed(0xb6))](_0x26ee1d);}}};GithubRepoService=__decorate([(0x0,typedi_1[a208_0x32cb04(0x8a)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a208_0x32cb04(0x7d)][a208_0x32cb04(0x86)])),__metadata('design:paramtypes',[github_api_service_1[a208_0x32cb04(0xac)],github_credentials_dto_1['GithubCredentialsDto']])],GithubRepoService),exports[a208_0x32cb04(0xa5)]=GithubRepoService;