const a208_0x24f032=a208_0x4344;(function(_0x464b4d,_0x39f531){const _0x3952a8=a208_0x4344,_0x55aa52=_0x464b4d();while(!![]){try{const _0x4aa858=parseInt(_0x3952a8(0xac))/0x1+parseInt(_0x3952a8(0xb6))/0x2*(parseInt(_0x3952a8(0xcf))/0x3)+parseInt(_0x3952a8(0xd4))/0x4+-parseInt(_0x3952a8(0xa8))/0x5*(-parseInt(_0x3952a8(0xa4))/0x6)+-parseInt(_0x3952a8(0xa1))/0x7+parseInt(_0x3952a8(0xba))/0x8+-parseInt(_0x3952a8(0xb1))/0x9;if(_0x4aa858===_0x39f531)break;else _0x55aa52['push'](_0x55aa52['shift']());}catch(_0x40182a){_0x55aa52['push'](_0x55aa52['shift']());}}}(a208_0x5281,0xf1e64));const a208_0x4aba32=(function(){let _0x18859c=!![];return function(_0x1772a8,_0x3b418a){const _0x32d350=_0x18859c?function(){const _0x5f2698=a208_0x4344;if(_0x3b418a){const _0x69a342=_0x3b418a[_0x5f2698(0xbb)](_0x1772a8,arguments);return _0x3b418a=null,_0x69a342;}}:function(){};return _0x18859c=![],_0x32d350;};}()),a208_0x20feae=a208_0x4aba32(this,function(){const _0x296258=a208_0x4344;return a208_0x20feae[_0x296258(0xcb)]()[_0x296258(0xd2)](_0x296258(0xc7))['toString']()[_0x296258(0xa7)](a208_0x20feae)[_0x296258(0xd2)]('(((.+)+)+)+$');});a208_0x20feae();'use strict';var __decorate=this&&this['__decorate']||function(_0x3d61ce,_0x276836,_0x5c0a45,_0x38f423){const _0x24c38c=a208_0x4344;var _0x20dd1e=arguments[_0x24c38c(0xd8)],_0x1a28ff=_0x20dd1e<0x3?_0x276836:_0x38f423===null?_0x38f423=Object['getOwnPropertyDescriptor'](_0x276836,_0x5c0a45):_0x38f423,_0x3d4c7b;if(typeof Reflect==='object'&&typeof Reflect[_0x24c38c(0xc6)]===_0x24c38c(0xa0))_0x1a28ff=Reflect[_0x24c38c(0xc6)](_0x3d61ce,_0x276836,_0x5c0a45,_0x38f423);else{for(var _0x4feae1=_0x3d61ce[_0x24c38c(0xd8)]-0x1;_0x4feae1>=0x0;_0x4feae1--)if(_0x3d4c7b=_0x3d61ce[_0x4feae1])_0x1a28ff=(_0x20dd1e<0x3?_0x3d4c7b(_0x1a28ff):_0x20dd1e>0x3?_0x3d4c7b(_0x276836,_0x5c0a45,_0x1a28ff):_0x3d4c7b(_0x276836,_0x5c0a45))||_0x1a28ff;}return _0x20dd1e>0x3&&_0x1a28ff&&Object[_0x24c38c(0xb2)](_0x276836,_0x5c0a45,_0x1a28ff),_0x1a28ff;},__metadata=this&&this[a208_0x24f032(0xbf)]||function(_0x2909e7,_0x71fde5){const _0x253a32=a208_0x24f032;if(typeof Reflect===_0x253a32(0xb8)&&typeof Reflect[_0x253a32(0xb5)]==='function')return Reflect['metadata'](_0x2909e7,_0x71fde5);},__param=this&&this[a208_0x24f032(0xb4)]||function(_0x3d1111,_0x291881){return function(_0xbcbef3,_0x290775){_0x291881(_0xbcbef3,_0x290775,_0x3d1111);};};Object[a208_0x24f032(0xb2)](exports,a208_0x24f032(0xae),{'value':!![]}),exports['GithubRepoService']=void 0x0;const bad_request_error_1=require(a208_0x24f032(0xca)),not_found_error_1=require('../../../../../core/errors/not-found.error'),github_api_service_1=require(a208_0x24f032(0xd3)),typedi_1=require(a208_0x24f032(0xa2)),api_error_1=require(a208_0x24f032(0xd0)),git_internal_1=require(a208_0x24f032(0xab)),utils_1=require(a208_0x24f032(0x9a)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a208_0x24f032(0xa5)),providers_tokens_1=require(a208_0x24f032(0xbe)),github_credentials_dto_1=require('../../credentials/dto/github-credentials.dto');function a208_0x4344(_0x118d82,_0x485995){const _0x1f14a5=a208_0x5281();return a208_0x4344=function(_0x20feae,_0x4aba32){_0x20feae=_0x20feae-0x98;let _0x528149=_0x1f14a5[_0x20feae];return _0x528149;},a208_0x4344(_0x118d82,_0x485995);}function a208_0x5281(){const _0x4b76e9=['27XPsKwn','../../../../../core/errors/api.error','NotFoundError','search','../../api/github-api.service','1497264UuXXaT','defaults','username','design:paramtypes','length','GithubApiService','map','update','autoInit','Git','/repos','name','../../../../shared/utils','apiBody','create','isArray','defaultBranch','api','function','8666FFGUsg','typedi','delete','1004034uBDNTy','./git-repo.service','GitRepoService','constructor','25HVxwdr','credentials','joinURL','../../../internal/git.internal','1603917dTSqBl','Tokens','__esModule','repos/','push','22932549jDXMaa','defineProperty','fromGithub','__param','metadata','38778NudMPV','Service','object','Repo','4405520CWUSit','apply','get','baseURL','../../providers.tokens','__metadata','BadRequestError','request','createRequest','post','organization','orgs/','decorate','(((.+)+)+)+$','patch','master','../../../../../core/errors/bad-request.error','toString','getOne','createRequestToRepos','ApiError'];a208_0x5281=function(){return _0x4b76e9;};return a208_0x5281();}let GithubRepoService=class GithubRepoService extends git_repo_service_1[a208_0x24f032(0xa6)]{constructor(_0x3d85f3,_0x5a7b63){const _0x22a999=a208_0x24f032;super(_0x3d85f3),this[_0x22a999(0x9f)]=_0x3d85f3,this[_0x22a999(0xc4)]=_0x5a7b63[_0x22a999(0xc4)],this[_0x22a999(0xd6)]=_0x5a7b63[_0x22a999(0xd6)],this[_0x22a999(0xa9)]=_0x5a7b63;}['createRequestToRepos'](){const _0x317e1a=a208_0x24f032;let _0x4278e='';this['organization']?_0x4278e='repos/'+this[_0x317e1a(0xc4)]:_0x4278e=_0x317e1a(0xaf)+this[_0x317e1a(0xd6)];const _0x34108c=this[_0x317e1a(0x9f)][_0x317e1a(0xc2)]((0x0,utils_1[_0x317e1a(0xaa)])(''+this['request'][_0x317e1a(0xd5)][_0x317e1a(0xbd)],''+_0x4278e));return _0x34108c;}async[a208_0x24f032(0x9c)](_0x37b60b){const _0x1553aa=a208_0x24f032;try{const _0x51c1de=this[_0x1553aa(0xc4)]?'orgs/'+this[_0x1553aa(0xc4)]+_0x1553aa(0x98):'user/repos',_0xe32b74={'name':_0x37b60b['name'],'private':_0x37b60b['private'],..._0x37b60b[_0x1553aa(0x9b)]||{}},_0x2c35fe=await this[_0x1553aa(0xc1)][_0x1553aa(0xc3)](_0x51c1de,_0xe32b74),_0x2c4261=repo_class_1['Repo'][_0x1553aa(0xb3)](_0x2c35fe,this[_0x1553aa(0x9f)],this['credentials']);return _0x37b60b[_0x1553aa(0xdc)]&&await git_internal_1[_0x1553aa(0xdd)]['createEmptyBranch'](_0x2c4261,_0x37b60b[_0x1553aa(0x9e)]||_0x1553aa(0xc9),'',this[_0x1553aa(0xa9)]),this[_0x1553aa(0xcc)](_0x2c4261[_0x1553aa(0x99)]);}catch(_0x2cb7c3){if(_0x2cb7c3 instanceof api_error_1[_0x1553aa(0xce)])throw _0x2cb7c3;throw new bad_request_error_1['BadRequestError'](_0x2cb7c3);}}async['getAll'](){const _0x35c687=a208_0x24f032;try{const _0x3ec263=this[_0x35c687(0xc4)]?_0x35c687(0xc5)+this[_0x35c687(0xc4)]+_0x35c687(0x98):'user/repos',_0x3e8912=[];let _0x17f73c=!![],_0xfff2a2=0x1;do{const _0x22da90=await this[_0x35c687(0xc1)][_0x35c687(0xbc)](_0x3ec263,{'params':{'per_page':0x64,'page':_0xfff2a2}});_0xfff2a2+=0x1;if(Array[_0x35c687(0x9d)](_0x22da90)&&_0x22da90['length']===0x0)_0x17f73c=![];else{if(Array['isArray'](_0x22da90))_0x3e8912[_0x35c687(0xb0)](..._0x22da90);else throw new bad_request_error_1[(_0x35c687(0xc0))](_0x22da90);}}while(_0x17f73c);return _0x3e8912[_0x35c687(0xda)](_0x53bae0=>repo_class_1[_0x35c687(0xb9)]['fromGithub'](_0x53bae0,this[_0x35c687(0x9f)],this[_0x35c687(0xa9)]));}catch(_0x2964c0){if(_0x2964c0 instanceof api_error_1[_0x35c687(0xce)])throw _0x2964c0;throw new not_found_error_1[(_0x35c687(0xd1))](_0x2964c0);}}async[a208_0x24f032(0xcc)](_0x2fd5d8){const _0x2a2abf=a208_0x24f032;try{const _0x153116=this[_0x2a2abf(0xcd)](),_0x3edcee=await _0x153116[_0x2a2abf(0xbc)](_0x2fd5d8);return repo_class_1['Repo'][_0x2a2abf(0xb3)](_0x3edcee,this[_0x2a2abf(0x9f)],this[_0x2a2abf(0xa9)]);}catch(_0x1fe5bf){if(_0x1fe5bf instanceof api_error_1[_0x2a2abf(0xce)])throw _0x1fe5bf;throw new not_found_error_1[(_0x2a2abf(0xd1))](_0x1fe5bf);}}async[a208_0x24f032(0xdb)](_0xaca133,_0x89811a){const _0x480cb3=a208_0x24f032;try{const _0x5821af=this['createRequestToRepos'](),_0x284332=await _0x5821af[_0x480cb3(0xc8)](_0xaca133,_0x89811a);return repo_class_1['Repo']['fromGithub'](_0x284332,this[_0x480cb3(0x9f)],this['credentials']);}catch(_0x32cce0){throw new not_found_error_1['NotFoundError'](_0x32cce0);}}async[a208_0x24f032(0xa3)](_0x5eafae){const _0x18f013=a208_0x24f032;try{const _0x4cc7b9=this['createRequestToRepos']();await _0x4cc7b9[_0x18f013(0xa3)](_0x5eafae);}catch(_0x921d8e){throw new bad_request_error_1[(_0x18f013(0xc0))](_0x921d8e);}}};GithubRepoService=__decorate([(0x0,typedi_1[a208_0x24f032(0xb7)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a208_0x24f032(0xad)]['credentials'])),__metadata(a208_0x24f032(0xd7),[github_api_service_1[a208_0x24f032(0xd9)],github_credentials_dto_1['GithubCredentialsDto']])],GithubRepoService),exports['GithubRepoService']=GithubRepoService;