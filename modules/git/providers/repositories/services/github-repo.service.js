const a229_0x3f94de=a229_0x2e92;(function(_0xd65fbb,_0x41064e){const _0x218af9=a229_0x2e92,_0x565d9a=_0xd65fbb();while(!![]){try{const _0x8a012b=parseInt(_0x218af9(0x96))/0x1*(-parseInt(_0x218af9(0xbb))/0x2)+parseInt(_0x218af9(0x8e))/0x3+-parseInt(_0x218af9(0xa1))/0x4*(-parseInt(_0x218af9(0x9e))/0x5)+-parseInt(_0x218af9(0x91))/0x6*(-parseInt(_0x218af9(0xbd))/0x7)+parseInt(_0x218af9(0xa0))/0x8+parseInt(_0x218af9(0xb4))/0x9*(-parseInt(_0x218af9(0x79))/0xa)+parseInt(_0x218af9(0xa2))/0xb*(-parseInt(_0x218af9(0xb3))/0xc);if(_0x8a012b===_0x41064e)break;else _0x565d9a['push'](_0x565d9a['shift']());}catch(_0xbd6b54){_0x565d9a['push'](_0x565d9a['shift']());}}}(a229_0x5e97,0x82036));const a229_0x5a6ef2=(function(){let _0x42f384=!![];return function(_0x4f4631,_0x3ee1c2){const _0x202f01=_0x42f384?function(){if(_0x3ee1c2){const _0x302ef0=_0x3ee1c2['apply'](_0x4f4631,arguments);return _0x3ee1c2=null,_0x302ef0;}}:function(){};return _0x42f384=![],_0x202f01;};}()),a229_0x471301=a229_0x5a6ef2(this,function(){const _0x2ff33b=a229_0x2e92;return a229_0x471301[_0x2ff33b(0x90)]()['search'](_0x2ff33b(0xbf))[_0x2ff33b(0x90)]()[_0x2ff33b(0x95)](a229_0x471301)[_0x2ff33b(0xa5)](_0x2ff33b(0xbf));});a229_0x471301();'use strict';var __decorate=this&&this['__decorate']||function(_0x7133e6,_0x3f9dc1,_0x3502c9,_0x17c943){const _0x459eae=a229_0x2e92;var _0x13a539=arguments[_0x459eae(0x7b)],_0x51e66b=_0x13a539<0x3?_0x3f9dc1:_0x17c943===null?_0x17c943=Object[_0x459eae(0x77)](_0x3f9dc1,_0x3502c9):_0x17c943,_0x41bfd9;if(typeof Reflect===_0x459eae(0xad)&&typeof Reflect['decorate']===_0x459eae(0xba))_0x51e66b=Reflect[_0x459eae(0x8d)](_0x7133e6,_0x3f9dc1,_0x3502c9,_0x17c943);else{for(var _0x55c732=_0x7133e6['length']-0x1;_0x55c732>=0x0;_0x55c732--)if(_0x41bfd9=_0x7133e6[_0x55c732])_0x51e66b=(_0x13a539<0x3?_0x41bfd9(_0x51e66b):_0x13a539>0x3?_0x41bfd9(_0x3f9dc1,_0x3502c9,_0x51e66b):_0x41bfd9(_0x3f9dc1,_0x3502c9))||_0x51e66b;}return _0x13a539>0x3&&_0x51e66b&&Object[_0x459eae(0xab)](_0x3f9dc1,_0x3502c9,_0x51e66b),_0x51e66b;},__metadata=this&&this[a229_0x3f94de(0xb2)]||function(_0x27896b,_0x9ce9f1){const _0x4f389f=a229_0x3f94de;if(typeof Reflect==='object'&&typeof Reflect[_0x4f389f(0x8f)]===_0x4f389f(0xba))return Reflect[_0x4f389f(0x8f)](_0x27896b,_0x9ce9f1);},__param=this&&this[a229_0x3f94de(0x83)]||function(_0x2dc866,_0x57b061){return function(_0x549641,_0x106307){_0x57b061(_0x549641,_0x106307,_0x2dc866);};};function a229_0x5e97(){const _0xdf1c22=['credentials','get','__metadata','25524492niASJt','263187jzrSLM','createRequestToRepos','fromGithub','GitRepoService','delete','Service','function','249706DYunPS','GithubRepoService','1257277qpntrW','createRequest','(((.+)+)+)+$','getOwnPropertyDescriptor','api','220TjnAgQ','design:paramtypes','length','../repo.class','getOne','GithubCredentialsDto','../../api/github-api.service','name','update','orgs/','__param','Repo','NotFoundError','defaultBranch','organization','Git','../../../../shared/utils','autoInit','user/repos','BadRequestError','decorate','2941560QQccLq','metadata','toString','18wBgvjL','../../../../../core/errors/bad-request.error','GithubApiService','__esModule','constructor','1pzDtVR','/repos','master','Tokens','joinURL','request','typedi','create','33305gavvDE','ApiError','7540608ObsMZJ','580QVSJKP','11zerxLU','apiBody','../../../../../core/errors/api.error','search','map','repos/','username','private','isArray','defineProperty','./git-repo.service','object','defaults','../../../../../core/errors/not-found.error'];a229_0x5e97=function(){return _0xdf1c22;};return a229_0x5e97();}Object[a229_0x3f94de(0xab)](exports,a229_0x3f94de(0x94),{'value':!![]}),exports[a229_0x3f94de(0xbc)]=void 0x0;const bad_request_error_1=require(a229_0x3f94de(0x92)),not_found_error_1=require(a229_0x3f94de(0xaf)),github_api_service_1=require(a229_0x3f94de(0x7f)),typedi_1=require(a229_0x3f94de(0x9c)),api_error_1=require(a229_0x3f94de(0xa4)),git_internal_1=require('../../../internal/git.internal'),utils_1=require(a229_0x3f94de(0x89)),repo_class_1=require(a229_0x3f94de(0x7c)),git_repo_service_1=require(a229_0x3f94de(0xac)),providers_tokens_1=require('../../providers.tokens'),github_credentials_dto_1=require('../../credentials/dto/github-credentials.dto');let GithubRepoService=class GithubRepoService extends git_repo_service_1[a229_0x3f94de(0xb7)]{constructor(_0x18ff7a,_0x22a565){const _0x150e91=a229_0x3f94de;super(_0x18ff7a),this['api']=_0x18ff7a,this[_0x150e91(0x87)]=_0x22a565['organization'],this[_0x150e91(0xa8)]=_0x22a565['username'],this['credentials']=_0x22a565;}['createRequestToRepos'](){const _0x7f66c0=a229_0x3f94de;let _0x30c614='';this[_0x7f66c0(0x87)]?_0x30c614=_0x7f66c0(0xa7)+this['organization']:_0x30c614=_0x7f66c0(0xa7)+this[_0x7f66c0(0xa8)];const _0x2f6b71=this['api'][_0x7f66c0(0xbe)]((0x0,utils_1[_0x7f66c0(0x9a)])(''+this[_0x7f66c0(0x9b)][_0x7f66c0(0xae)]['baseURL'],''+_0x30c614));return _0x2f6b71;}async[a229_0x3f94de(0x9d)](_0x5c779d){const _0x5d2a86=a229_0x3f94de;try{const _0xa817ba=this[_0x5d2a86(0x87)]?_0x5d2a86(0x82)+this['organization']+_0x5d2a86(0x97):'user/repos',_0x2220de={'name':_0x5c779d[_0x5d2a86(0x80)],'private':_0x5c779d[_0x5d2a86(0xa9)],..._0x5c779d[_0x5d2a86(0xa3)]||{}},_0x443fde=await this[_0x5d2a86(0x9b)]['post'](_0xa817ba,_0x2220de),_0x5f00cc=repo_class_1[_0x5d2a86(0x84)][_0x5d2a86(0xb6)](_0x443fde,this[_0x5d2a86(0x78)],this['credentials']);return _0x5c779d[_0x5d2a86(0x8a)]&&await git_internal_1[_0x5d2a86(0x88)]['createEmptyBranch'](_0x5f00cc,_0x5c779d[_0x5d2a86(0x86)]||_0x5d2a86(0x98),'',this['credentials']),this[_0x5d2a86(0x7d)](_0x5f00cc[_0x5d2a86(0x80)]);}catch(_0x268548){if(_0x268548 instanceof api_error_1['ApiError'])throw _0x268548;throw new bad_request_error_1['BadRequestError'](_0x268548);}}async['getAll'](){const _0x873045=a229_0x3f94de;try{const _0x31b40c=this['organization']?_0x873045(0x82)+this['organization']+'/repos':_0x873045(0x8b),_0x3381ea=[];let _0x11d766=!![],_0x30ea6b=0x1;do{const _0x58ee28=await this[_0x873045(0x9b)][_0x873045(0xb1)](_0x31b40c,{'params':{'per_page':0x64,'page':_0x30ea6b}});_0x30ea6b+=0x1;if(Array[_0x873045(0xaa)](_0x58ee28)&&_0x58ee28[_0x873045(0x7b)]===0x0)_0x11d766=![];else{if(Array[_0x873045(0xaa)](_0x58ee28))_0x3381ea['push'](..._0x58ee28);else throw new bad_request_error_1[(_0x873045(0x8c))](_0x58ee28);}}while(_0x11d766);return _0x3381ea[_0x873045(0xa6)](_0x4afe31=>repo_class_1[_0x873045(0x84)][_0x873045(0xb6)](_0x4afe31,this[_0x873045(0x78)],this[_0x873045(0xb0)]));}catch(_0x5c9fcb){if(_0x5c9fcb instanceof api_error_1['ApiError'])throw _0x5c9fcb;throw new not_found_error_1[(_0x873045(0x85))](_0x5c9fcb);}}async['getOne'](_0x482ef8){const _0x2dc935=a229_0x3f94de;try{const _0x498661=this[_0x2dc935(0xb5)](),_0x3e8723=await _0x498661['get'](_0x482ef8);return repo_class_1['Repo']['fromGithub'](_0x3e8723,this[_0x2dc935(0x78)],this[_0x2dc935(0xb0)]);}catch(_0x55c38b){if(_0x55c38b instanceof api_error_1[_0x2dc935(0x9f)])throw _0x55c38b;throw new not_found_error_1['NotFoundError'](_0x55c38b);}}async[a229_0x3f94de(0x81)](_0x52577f,_0x139441){const _0x3efc5e=a229_0x3f94de;try{const _0x39ec9b=this[_0x3efc5e(0xb5)](),_0x507a11=await _0x39ec9b['patch'](_0x52577f,_0x139441);return repo_class_1[_0x3efc5e(0x84)][_0x3efc5e(0xb6)](_0x507a11,this[_0x3efc5e(0x78)],this['credentials']);}catch(_0x43ba04){throw new not_found_error_1[(_0x3efc5e(0x85))](_0x43ba04);}}async[a229_0x3f94de(0xb8)](_0x3e23e2){const _0x580e83=a229_0x3f94de;try{const _0x267c57=this[_0x580e83(0xb5)]();await _0x267c57[_0x580e83(0xb8)](_0x3e23e2);}catch(_0x429e37){throw new bad_request_error_1[(_0x580e83(0x8c))](_0x429e37);}}};function a229_0x2e92(_0xe75291,_0x4e79c9){const _0x2c7085=a229_0x5e97();return a229_0x2e92=function(_0x471301,_0x5a6ef2){_0x471301=_0x471301-0x77;let _0x5e9765=_0x2c7085[_0x471301];return _0x5e9765;},a229_0x2e92(_0xe75291,_0x4e79c9);}GithubRepoService=__decorate([(0x0,typedi_1[a229_0x3f94de(0xb9)])(),__param(0x1,(0x0,typedi_1['Inject'])(providers_tokens_1[a229_0x3f94de(0x99)][a229_0x3f94de(0xb0)])),__metadata(a229_0x3f94de(0x7a),[github_api_service_1[a229_0x3f94de(0x93)],github_credentials_dto_1[a229_0x3f94de(0x7e)]])],GithubRepoService),exports[a229_0x3f94de(0xbc)]=GithubRepoService;