function a217_0x3187(){const _0xb5c4ca=['205364cmBMZA','values','create','getOne','delete','webhooks/','search','apply','27979DOFkXl','put','fromBitbucketServer','HookDto','update','get','webhooks','apiUrl','BitbucketServerHookService','NotFoundError','115OPwfSt','../../../../../core/errors/bad-request.error','3575916hProzt','3150534KDgIOD','472fcNuYp','toString','request','770344TXMtVJ','api','BadRequestError','30qDYXfK','__esModule','3044715rTSNzL','1839806lbPshg','defineProperty','createRequest','./git-hook.service'];a217_0x3187=function(){return _0xb5c4ca;};return a217_0x3187();}const a217_0x694e96=a217_0x2b93;function a217_0x2b93(_0x57ad29,_0x39ab3b){const _0x352795=a217_0x3187();return a217_0x2b93=function(_0x591713,_0x1521b1){_0x591713=_0x591713-0x19a;let _0x3187fa=_0x352795[_0x591713];return _0x3187fa;},a217_0x2b93(_0x57ad29,_0x39ab3b);}(function(_0x3e8cc5,_0x357066){const _0x1dc1ba=a217_0x2b93,_0x11059e=_0x3e8cc5();while(!![]){try{const _0x195ffb=-parseInt(_0x1dc1ba(0x1a9))/0x1+parseInt(_0x1dc1ba(0x1af))/0x2+-parseInt(_0x1dc1ba(0x1ae))/0x3+parseInt(_0x1dc1ba(0x1b3))/0x4*(parseInt(_0x1dc1ba(0x1a2))/0x5)+-parseInt(_0x1dc1ba(0x1a5))/0x6+-parseInt(_0x1dc1ba(0x1bb))/0x7*(parseInt(_0x1dc1ba(0x1a6))/0x8)+parseInt(_0x1dc1ba(0x1a4))/0x9*(parseInt(_0x1dc1ba(0x1ac))/0xa);if(_0x195ffb===_0x357066)break;else _0x11059e['push'](_0x11059e['shift']());}catch(_0x105bae){_0x11059e['push'](_0x11059e['shift']());}}}(a217_0x3187,0xb643d));const a217_0x1521b1=(function(){let _0x5c9da9=!![];return function(_0x5c99b2,_0x2aa60d){const _0xebc091=_0x5c9da9?function(){const _0x38c193=a217_0x2b93;if(_0x2aa60d){const _0x787df0=_0x2aa60d[_0x38c193(0x1ba)](_0x5c99b2,arguments);return _0x2aa60d=null,_0x787df0;}}:function(){};return _0x5c9da9=![],_0xebc091;};}()),a217_0x591713=a217_0x1521b1(this,function(){const _0x407616=a217_0x2b93;return a217_0x591713[_0x407616(0x1a7)]()[_0x407616(0x1b9)]('(((.+)+)+)+$')[_0x407616(0x1a7)]()['constructor'](a217_0x591713)[_0x407616(0x1b9)]('(((.+)+)+)+$');});a217_0x591713();'use strict';Object[a217_0x694e96(0x1b0)](exports,a217_0x694e96(0x1ad),{'value':!![]}),exports[a217_0x694e96(0x1a0)]=void 0x0;const bad_request_error_1=require(a217_0x694e96(0x1a3)),not_found_error_1=require('../../../../../core/errors/not-found.error'),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require(a217_0x694e96(0x1b2));class BitbucketServerHookService extends git_hook_service_1['GitHookService']{constructor(_0x54424d,_0x4fa8ee){const _0x442210=a217_0x694e96;super(_0x54424d),this[_0x442210(0x1aa)]=_0x4fa8ee,this[_0x442210(0x1a8)]=this['createRequest']();}[a217_0x694e96(0x1b1)](){const _0x3e2d1f=a217_0x694e96;return this[_0x3e2d1f(0x1aa)][_0x3e2d1f(0x1b1)](this['repository'][_0x3e2d1f(0x19f)]);}async[a217_0x694e96(0x1b5)](_0x33783b){const _0x3fd696=a217_0x694e96;try{const _0x158a4e=await this[_0x3fd696(0x1a8)]['post'](_0x3fd696(0x19e),_0x33783b);return hook_dto_1[_0x3fd696(0x19b)][_0x3fd696(0x19a)](_0x158a4e);}catch(_0xf9b023){throw new bad_request_error_1[(_0x3fd696(0x1ab))](_0xf9b023);}}async[a217_0x694e96(0x1b6)](_0x5e67d9){const _0x4cda87=a217_0x694e96;try{const _0x595f29=await this[_0x4cda87(0x1a8)][_0x4cda87(0x19d)](_0x4cda87(0x1b8)+_0x5e67d9);return hook_dto_1[_0x4cda87(0x19b)][_0x4cda87(0x19a)](_0x595f29);}catch(_0x5b68ef){throw new not_found_error_1[(_0x4cda87(0x1a1))](_0x5b68ef);}}async['getAll'](){const _0x35f411=a217_0x694e96;try{const _0x4b12fa=await this[_0x35f411(0x1a8)]['get']('webhooks');return _0x4b12fa[_0x35f411(0x1b4)]['map'](_0x15fa3a=>hook_dto_1['HookDto']['fromBitbucketServer'](_0x15fa3a));}catch(_0x1a5c63){throw new not_found_error_1[(_0x35f411(0x1a1))](_0x1a5c63);}}async[a217_0x694e96(0x19c)](_0xcc4448,_0x191297){const _0x37987b=a217_0x694e96;try{const _0x3c4035=await this[_0x37987b(0x1a8)][_0x37987b(0x1bc)]('webhooks/'+_0xcc4448,_0x191297);return hook_dto_1[_0x37987b(0x19b)][_0x37987b(0x19a)](_0x3c4035);}catch(_0x55205c){throw new not_found_error_1['NotFoundError'](_0x55205c);}}async[a217_0x694e96(0x1b7)](_0x2950de){const _0xf890ce=a217_0x694e96;try{await this[_0xf890ce(0x1a8)]['delete'](_0xf890ce(0x1b8)+_0x2950de);}catch(_0x304678){throw new not_found_error_1[(_0xf890ce(0x1a1))](_0x304678);}}}exports[a217_0x694e96(0x1a0)]=BitbucketServerHookService;