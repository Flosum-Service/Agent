const a246_0x69d66c=a246_0x4826;function a246_0x4826(_0xde8b3b,_0x1d09f6){const _0x11616c=a246_0x5b2a();return a246_0x4826=function(_0x653e68,_0x585a79){_0x653e68=_0x653e68-0xca;let _0x5b2a3d=_0x11616c[_0x653e68];return _0x5b2a3d;},a246_0x4826(_0xde8b3b,_0x1d09f6);}function a246_0x5b2a(){const _0x263f72=['2499924WwTQZQ','7CMsjXf','../dto/hook.dto','3952376jKDNTJ','../../../../../core/errors/not-found.error','../../../../../core/errors/bad-request.error','GitHookService','/_apis/hooks/subscriptions/','8hYhHPr','publisherInputs','1700310eZlQTL','toString','(((.+)+)+)+$','delete','fromAzure','credentials','request','/_apis/hooks/subscriptions','HookDto','patch','66kMYIbX','getProjectId','AzureHookService','apply','__esModule','NotFoundError','search','375656iTryXt','getOne','createRequest','projectId','getAll','constructor','78035aFUNYV','3818979yhLQRP','map','api','organization','get','BadRequestError','6251980fxUbLP'];a246_0x5b2a=function(){return _0x263f72;};return a246_0x5b2a();}(function(_0x124d01,_0x5ce008){const _0x576ec1=a246_0x4826,_0x9f95c4=_0x124d01();while(!![]){try{const _0x28333e=parseInt(_0x576ec1(0xcb))/0x1*(parseInt(_0x576ec1(0xe5))/0x2)+-parseInt(_0x576ec1(0xca))/0x3+parseInt(_0x576ec1(0xcd))/0x4+parseInt(_0x576ec1(0xeb))/0x5*(-parseInt(_0x576ec1(0xde))/0x6)+-parseInt(_0x576ec1(0xf2))/0x7+parseInt(_0x576ec1(0xd2))/0x8*(parseInt(_0x576ec1(0xec))/0x9)+-parseInt(_0x576ec1(0xd4))/0xa;if(_0x28333e===_0x5ce008)break;else _0x9f95c4['push'](_0x9f95c4['shift']());}catch(_0x3547de){_0x9f95c4['push'](_0x9f95c4['shift']());}}}(a246_0x5b2a,0xa0e79));const a246_0x585a79=(function(){let _0x278c96=!![];return function(_0x5d02e3,_0x51b44c){const _0x13154c=_0x278c96?function(){const _0x165a8f=a246_0x4826;if(_0x51b44c){const _0x45ddd5=_0x51b44c[_0x165a8f(0xe1)](_0x5d02e3,arguments);return _0x51b44c=null,_0x45ddd5;}}:function(){};return _0x278c96=![],_0x13154c;};}()),a246_0x653e68=a246_0x585a79(this,function(){const _0x162bee=a246_0x4826;return a246_0x653e68[_0x162bee(0xd5)]()[_0x162bee(0xe4)](_0x162bee(0xd6))[_0x162bee(0xd5)]()[_0x162bee(0xea)](a246_0x653e68)[_0x162bee(0xe4)](_0x162bee(0xd6));});a246_0x653e68();'use strict';Object['defineProperty'](exports,a246_0x69d66c(0xe2),{'value':!![]}),exports[a246_0x69d66c(0xe0)]=void 0x0;const bad_request_error_1=require(a246_0x69d66c(0xcf)),not_found_error_1=require(a246_0x69d66c(0xce)),hook_dto_1=require(a246_0x69d66c(0xcc)),git_hook_service_1=require('./git-hook.service');class AzureHookService extends git_hook_service_1[a246_0x69d66c(0xd0)]{constructor(_0x526c8b,_0x45fd9e,_0x42b491,_0x3eae9a){const _0x10da2d=a246_0x69d66c;super(_0x526c8b),this['projectId']=_0x45fd9e,this[_0x10da2d(0xee)]=_0x42b491,this[_0x10da2d(0xd9)]=_0x3eae9a,this[_0x10da2d(0xda)]=this[_0x10da2d(0xe7)]();}get[a246_0x69d66c(0xef)](){const _0x465817=a246_0x69d66c;return this[_0x465817(0xd9)]['organization'];}[a246_0x69d66c(0xe7)](){const _0x2a8479=a246_0x69d66c;return this['api'][_0x2a8479(0xe7)]();}[a246_0x69d66c(0xdf)](){const _0x2122f5=a246_0x69d66c;return this[_0x2122f5(0xe8)];}async['create'](_0x19ffc5){const _0x285ad1=a246_0x69d66c;try{const _0x5a2fe3=await this['request']['post'](this[_0x285ad1(0xef)]+_0x285ad1(0xdb),_0x19ffc5);return hook_dto_1[_0x285ad1(0xdc)][_0x285ad1(0xd8)](_0x5a2fe3);}catch(_0x3db5f2){throw new bad_request_error_1[(_0x285ad1(0xf1))](_0x3db5f2);}}async[a246_0x69d66c(0xe6)](_0x1d9442){const _0x2eb85e=a246_0x69d66c;try{const _0xfcc12c=await this['request'][_0x2eb85e(0xf0)](this['organization']+_0x2eb85e(0xd1)+_0x1d9442);return hook_dto_1[_0x2eb85e(0xdc)][_0x2eb85e(0xd8)](_0xfcc12c);}catch(_0x280828){throw new not_found_error_1[(_0x2eb85e(0xe3))](_0x280828);}}async[a246_0x69d66c(0xe9)](){const _0x33de34=a246_0x69d66c;try{const _0x2a88be=await this[_0x33de34(0xda)][_0x33de34(0xf0)](this['organization']+'/_apis/hooks/subscriptions');return _0x2a88be['value']['filter'](_0x19b735=>{const _0x346990=_0x33de34;var _0x8bebe0;return((_0x8bebe0=_0x19b735===null||_0x19b735===void 0x0?void 0x0:_0x19b735[_0x346990(0xd3)])===null||_0x8bebe0===void 0x0?void 0x0:_0x8bebe0['projectId'])===this[_0x346990(0xe8)];})[_0x33de34(0xed)](_0x3b19ce=>hook_dto_1['HookDto'][_0x33de34(0xd8)](_0x3b19ce));}catch(_0x5a335b){throw new not_found_error_1[(_0x33de34(0xe3))](_0x5a335b);}}async['update'](_0x4dfd18,_0x9f6fe){const _0x3fd94a=a246_0x69d66c;try{const _0x3179e2=await this[_0x3fd94a(0xda)][_0x3fd94a(0xdd)](this[_0x3fd94a(0xef)]+_0x3fd94a(0xd1)+_0x4dfd18,_0x9f6fe);return hook_dto_1[_0x3fd94a(0xdc)]['fromGithub'](_0x3179e2);}catch(_0x57169a){throw new bad_request_error_1[(_0x3fd94a(0xf1))](_0x57169a);}}async[a246_0x69d66c(0xd7)](_0x43b34a){const _0x3d6f33=a246_0x69d66c;try{await this[_0x3d6f33(0xda)]['delete'](this[_0x3d6f33(0xef)]+_0x3d6f33(0xd1)+_0x43b34a);}catch(_0x46dddc){throw new bad_request_error_1['BadRequestError'](_0x46dddc);}}}exports[a246_0x69d66c(0xe0)]=AzureHookService;