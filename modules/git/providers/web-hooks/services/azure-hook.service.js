const a247_0x22e973=a247_0x502a;function a247_0x19e5(){const _0x4bed48=['6MzJViv','/_apis/hooks/subscriptions','(((.+)+)+)+$','819csjPwm','api','constructor','organization','22194656gbnxHo','GitHookService','createRequest','toString','HookDto','/_apis/hooks/subscriptions/','getProjectId','update','1176480UECwoG','__esModule','2574312QQWiMI','getOne','97900HDWLxT','AzureHookService','delete','7xIejgt','fromAzure','request','BadRequestError','credentials','getAll','value','get','search','../../../../../core/errors/bad-request.error','defineProperty','../../../../../core/errors/not-found.error','2774015IDBKyR','757920SIFKDu','2396686XHfnhi','create','projectId','fromGithub','./git-hook.service','filter','NotFoundError','3LSMYdh','post'];a247_0x19e5=function(){return _0x4bed48;};return a247_0x19e5();}(function(_0x590a1a,_0x71616f){const _0x2649ca=a247_0x502a,_0xbe9d9e=_0x590a1a();while(!![]){try{const _0x3a188f=-parseInt(_0x2649ca(0x197))/0x1+-parseInt(_0x2649ca(0x17f))/0x2*(parseInt(_0x2649ca(0x186))/0x3)+parseInt(_0x2649ca(0x17e))/0x4+parseInt(_0x2649ca(0x17d))/0x5*(parseInt(_0x2649ca(0x188))/0x6)+parseInt(_0x2649ca(0x171))/0x7*(-parseInt(_0x2649ca(0x199))/0x8)+parseInt(_0x2649ca(0x18b))/0x9*(parseInt(_0x2649ca(0x19b))/0xa)+parseInt(_0x2649ca(0x18f))/0xb;if(_0x3a188f===_0x71616f)break;else _0xbe9d9e['push'](_0xbe9d9e['shift']());}catch(_0x53dae8){_0xbe9d9e['push'](_0xbe9d9e['shift']());}}}(a247_0x19e5,0xe9761));const a247_0x5d8833=(function(){let _0x4e2874=!![];return function(_0x574d6a,_0x111da8){const _0x86ce7d=_0x4e2874?function(){if(_0x111da8){const _0x3bc42d=_0x111da8['apply'](_0x574d6a,arguments);return _0x111da8=null,_0x3bc42d;}}:function(){};return _0x4e2874=![],_0x86ce7d;};}()),a247_0x518700=a247_0x5d8833(this,function(){const _0x51359e=a247_0x502a;return a247_0x518700[_0x51359e(0x192)]()[_0x51359e(0x179)]('(((.+)+)+)+$')[_0x51359e(0x192)]()[_0x51359e(0x18d)](a247_0x518700)[_0x51359e(0x179)](_0x51359e(0x18a));});a247_0x518700();'use strict';Object[a247_0x22e973(0x17b)](exports,a247_0x22e973(0x198),{'value':!![]}),exports[a247_0x22e973(0x16f)]=void 0x0;function a247_0x502a(_0x21512e,_0x28fd0d){const _0x24c84e=a247_0x19e5();return a247_0x502a=function(_0x518700,_0x5d8833){_0x518700=_0x518700-0x16f;let _0x19e5d7=_0x24c84e[_0x518700];return _0x19e5d7;},a247_0x502a(_0x21512e,_0x28fd0d);}const bad_request_error_1=require(a247_0x22e973(0x17a)),not_found_error_1=require(a247_0x22e973(0x17c)),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require(a247_0x22e973(0x183));class AzureHookService extends git_hook_service_1[a247_0x22e973(0x190)]{constructor(_0x5f4459,_0x8cf8b0,_0x279168,_0x2478b4){const _0x23d12c=a247_0x22e973;super(_0x5f4459),this[_0x23d12c(0x181)]=_0x8cf8b0,this['api']=_0x279168,this[_0x23d12c(0x175)]=_0x2478b4,this[_0x23d12c(0x173)]=this[_0x23d12c(0x191)]();}get['organization'](){const _0x35b09b=a247_0x22e973;return this[_0x35b09b(0x175)][_0x35b09b(0x18e)];}[a247_0x22e973(0x191)](){const _0x374b0e=a247_0x22e973;return this[_0x374b0e(0x18c)][_0x374b0e(0x191)]();}[a247_0x22e973(0x195)](){const _0x195be8=a247_0x22e973;return this[_0x195be8(0x181)];}async[a247_0x22e973(0x180)](_0x2ff48c){const _0x23de7b=a247_0x22e973;try{const _0x4d743c=await this[_0x23de7b(0x173)][_0x23de7b(0x187)](this[_0x23de7b(0x18e)]+_0x23de7b(0x189),_0x2ff48c);return hook_dto_1[_0x23de7b(0x193)]['fromAzure'](_0x4d743c);}catch(_0x5701e7){throw new bad_request_error_1['BadRequestError'](_0x5701e7);}}async[a247_0x22e973(0x19a)](_0x80c414){const _0x47154a=a247_0x22e973;try{const _0x1f144b=await this['request']['get'](this[_0x47154a(0x18e)]+_0x47154a(0x194)+_0x80c414);return hook_dto_1['HookDto'][_0x47154a(0x172)](_0x1f144b);}catch(_0x3168e4){throw new not_found_error_1[(_0x47154a(0x185))](_0x3168e4);}}async[a247_0x22e973(0x176)](){const _0x406e8d=a247_0x22e973;try{const _0x16aa9f=await this[_0x406e8d(0x173)][_0x406e8d(0x178)](this['organization']+_0x406e8d(0x189));return _0x16aa9f[_0x406e8d(0x177)][_0x406e8d(0x184)](_0x3ec143=>{var _0x288f03;return((_0x288f03=_0x3ec143===null||_0x3ec143===void 0x0?void 0x0:_0x3ec143['publisherInputs'])===null||_0x288f03===void 0x0?void 0x0:_0x288f03['projectId'])===this['projectId'];})['map'](_0x55875e=>hook_dto_1['HookDto'][_0x406e8d(0x172)](_0x55875e));}catch(_0x2ae58f){throw new not_found_error_1[(_0x406e8d(0x185))](_0x2ae58f);}}async[a247_0x22e973(0x196)](_0x484672,_0x145532){const _0x4666fc=a247_0x22e973;try{const _0x5bb3cc=await this[_0x4666fc(0x173)]['patch'](this[_0x4666fc(0x18e)]+'/_apis/hooks/subscriptions/'+_0x484672,_0x145532);return hook_dto_1[_0x4666fc(0x193)][_0x4666fc(0x182)](_0x5bb3cc);}catch(_0xe02d38){throw new bad_request_error_1[(_0x4666fc(0x174))](_0xe02d38);}}async[a247_0x22e973(0x170)](_0x4527f8){const _0x2333a4=a247_0x22e973;try{await this[_0x2333a4(0x173)][_0x2333a4(0x170)](this[_0x2333a4(0x18e)]+_0x2333a4(0x194)+_0x4527f8);}catch(_0x211b8f){throw new bad_request_error_1[(_0x2333a4(0x174))](_0x211b8f);}}}exports[a247_0x22e973(0x16f)]=AzureHookService;