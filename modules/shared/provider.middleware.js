const a158_0x3bcd71=a158_0x454a;(function(_0x5d3101,_0x14e4aa){const _0x81b969=a158_0x454a,_0xfa2350=_0x5d3101();while(!![]){try{const _0xc6e69f=parseInt(_0x81b969(0xf0))/0x1*(-parseInt(_0x81b969(0xf6))/0x2)+-parseInt(_0x81b969(0xd5))/0x3+parseInt(_0x81b969(0xee))/0x4*(-parseInt(_0x81b969(0xe6))/0x5)+parseInt(_0x81b969(0xda))/0x6+parseInt(_0x81b969(0xe3))/0x7+parseInt(_0x81b969(0xf9))/0x8+-parseInt(_0x81b969(0xed))/0x9*(-parseInt(_0x81b969(0xd4))/0xa);if(_0xc6e69f===_0x14e4aa)break;else _0xfa2350['push'](_0xfa2350['shift']());}catch(_0x5a9afd){_0xfa2350['push'](_0xfa2350['shift']());}}}(a158_0x2aa4,0x8de53));function a158_0x454a(_0x5161d4,_0x2578e8){const _0xb3cbba=a158_0x2aa4();return a158_0x454a=function(_0x17b488,_0x51b43b){_0x17b488=_0x17b488-0xd4;let _0x2aa422=_0xb3cbba[_0x17b488];return _0x2aa422;},a158_0x454a(_0x5161d4,_0x2578e8);}const a158_0x51b43b=(function(){let _0x54e654=!![];return function(_0x57fcbd,_0x2b6458){const _0x2a9076=_0x54e654?function(){if(_0x2b6458){const _0x5a90=_0x2b6458['apply'](_0x57fcbd,arguments);return _0x2b6458=null,_0x5a90;}}:function(){};return _0x54e654=![],_0x2a9076;};}()),a158_0x17b488=a158_0x51b43b(this,function(){const _0x355c3c=a158_0x454a;return a158_0x17b488[_0x355c3c(0xde)]()[_0x355c3c(0xd7)]('(((.+)+)+)+$')[_0x355c3c(0xde)]()[_0x355c3c(0xf2)](a158_0x17b488)[_0x355c3c(0xd7)](_0x355c3c(0xfa));});a158_0x17b488();'use strict';var __decorate=this&&this[a158_0x3bcd71(0xd8)]||function(_0x226bbe,_0xc5d291,_0x5312b9,_0x396098){const _0x2e9a73=a158_0x3bcd71;var _0x34f1fb=arguments['length'],_0x6d7d99=_0x34f1fb<0x3?_0xc5d291:_0x396098===null?_0x396098=Object[_0x2e9a73(0xf3)](_0xc5d291,_0x5312b9):_0x396098,_0x33d75e;if(typeof Reflect===_0x2e9a73(0xe8)&&typeof Reflect[_0x2e9a73(0xe5)]===_0x2e9a73(0xf4))_0x6d7d99=Reflect[_0x2e9a73(0xe5)](_0x226bbe,_0xc5d291,_0x5312b9,_0x396098);else{for(var _0x189d15=_0x226bbe[_0x2e9a73(0xf1)]-0x1;_0x189d15>=0x0;_0x189d15--)if(_0x33d75e=_0x226bbe[_0x189d15])_0x6d7d99=(_0x34f1fb<0x3?_0x33d75e(_0x6d7d99):_0x34f1fb>0x3?_0x33d75e(_0xc5d291,_0x5312b9,_0x6d7d99):_0x33d75e(_0xc5d291,_0x5312b9))||_0x6d7d99;}return _0x34f1fb>0x3&&_0x6d7d99&&Object[_0x2e9a73(0xe9)](_0xc5d291,_0x5312b9,_0x6d7d99),_0x6d7d99;},__metadata=this&&this[a158_0x3bcd71(0xe0)]||function(_0x3dd432,_0x2da0c9){const _0x5a2229=a158_0x3bcd71;if(typeof Reflect===_0x5a2229(0xe8)&&typeof Reflect['metadata']==='function')return Reflect[_0x5a2229(0xdb)](_0x3dd432,_0x2da0c9);},__importDefault=this&&this[a158_0x3bcd71(0xd6)]||function(_0x3a9a9e){const _0x4bbaef=a158_0x3bcd71;return _0x3a9a9e&&_0x3a9a9e[_0x4bbaef(0xd9)]?_0x3a9a9e:{'default':_0x3a9a9e};};Object[a158_0x3bcd71(0xe9)](exports,a158_0x3bcd71(0xd9),{'value':!![]}),exports[a158_0x3bcd71(0xf8)]=void 0x0;const core_1=require(a158_0x3bcd71(0xe1)),unauthorized_error_1=require(a158_0x3bcd71(0xdc)),typedi_1=__importDefault(require(a158_0x3bcd71(0xdd))),internal_server_error_1=require(a158_0x3bcd71(0xe7)),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require(a158_0x3bcd71(0xec));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x153e54){const _0x3b0a37=a158_0x3bcd71;this[_0x3b0a37(0xeb)]=_0x153e54;}async[a158_0x3bcd71(0xf7)](_0x3440e6,_0x1a3cc2){const _0x31c90d=a158_0x3bcd71;if(_0x3440e6['headers'][_0x31c90d(0xe4)]){this[_0x31c90d(0xeb)][_0x31c90d(0xdf)]({'provider':_0x3440e6[_0x31c90d(0xfb)]['x-git-provider'][_0x31c90d(0xde)]()});const _0x44c8fa=typedi_1['default']['get'](git_provider_manager_1['GitProviderManager'])['getApi'](_0x3440e6['headers'][_0x31c90d(0xe4)][_0x31c90d(0xde)]());try{await _0x44c8fa[_0x31c90d(0xef)]();}catch(_0x575a38){if(_0x575a38 instanceof internal_server_error_1['InternalServerError'])throw _0x575a38;throw new unauthorized_error_1[(_0x31c90d(0xea))](_0x575a38);}}}};ProviderMiddleware=__decorate([core_1[a158_0x3bcd71(0xf5)](a158_0x3bcd71(0xe2)),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a158_0x3bcd71(0xf8)]=ProviderMiddleware;function a158_0x2aa4(){const _0x229971=['typedi','toString','update','__metadata','../../core','before','5009970YgICyk','x-git-provider','decorate','40195DbdHRx','../../core/errors/internal-server.error','object','defineProperty','UnauthorizedError','appSettings','./services/app-settings.service','65781csaLAh','508vXoAiS','isLoggedIn','1VJLkwB','length','constructor','getOwnPropertyDescriptor','function','Middleware','1491634lvrnmN','handle','ProviderMiddleware','5013264mbsWwQ','(((.+)+)+)+$','headers','1580bzsaoq','1281843pXZBmd','__importDefault','search','__decorate','__esModule','1668384UVRTui','metadata','../../core/errors/unauthorized.error'];a158_0x2aa4=function(){return _0x229971;};return a158_0x2aa4();}