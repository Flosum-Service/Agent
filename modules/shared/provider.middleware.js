const a158_0x192d51=a158_0x139c;(function(_0x1e84a8,_0x35ab97){const _0x273682=a158_0x139c,_0x5ce1ad=_0x1e84a8();while(!![]){try{const _0x1bb955=parseInt(_0x273682(0x1e8))/0x1+parseInt(_0x273682(0x1f5))/0x2+parseInt(_0x273682(0x1fb))/0x3+parseInt(_0x273682(0x208))/0x4+parseInt(_0x273682(0x1e5))/0x5*(parseInt(_0x273682(0x204))/0x6)+-parseInt(_0x273682(0x1e9))/0x7+-parseInt(_0x273682(0x1f0))/0x8;if(_0x1bb955===_0x35ab97)break;else _0x5ce1ad['push'](_0x5ce1ad['shift']());}catch(_0x35f2ae){_0x5ce1ad['push'](_0x5ce1ad['shift']());}}}(a158_0x144d,0x440c6));const a158_0x3c6bd2=(function(){let _0x161fc6=!![];return function(_0x2b22ac,_0x2c57e5){const _0xc9359d=_0x161fc6?function(){if(_0x2c57e5){const _0x779381=_0x2c57e5['apply'](_0x2b22ac,arguments);return _0x2c57e5=null,_0x779381;}}:function(){};return _0x161fc6=![],_0xc9359d;};}()),a158_0x45e22c=a158_0x3c6bd2(this,function(){const _0xbd1a61=a158_0x139c;return a158_0x45e22c['toString']()[_0xbd1a61(0x20c)](_0xbd1a61(0x1fa))[_0xbd1a61(0x1e4)]()[_0xbd1a61(0x1eb)](a158_0x45e22c)[_0xbd1a61(0x20c)](_0xbd1a61(0x1fa));});a158_0x45e22c();'use strict';function a158_0x144d(){const _0x137b69=['__metadata','../../core/errors/internal-server.error','ProviderMiddleware','3122706HyBEVi','__importDefault','__decorate','GitProviderManager','531236SVwxTt','appSettings','AppSettingsService','defineProperty','search','metadata','toString','5ObdYkI','decorate','design:paramtypes','116682oNeAkR','1463154kApKwg','../../core/errors/unauthorized.error','constructor','../../core','InternalServerError','update','before','3623552rAzGxC','default','Middleware','length','./git-provider.manager','197540GGumNK','isLoggedIn','getApi','headers','x-git-provider','(((.+)+)+)+$','215940SwOAGR','get','function','getOwnPropertyDescriptor','object','__esModule'];a158_0x144d=function(){return _0x137b69;};return a158_0x144d();}var __decorate=this&&this[a158_0x192d51(0x206)]||function(_0x17aa68,_0x4d9347,_0x1240de,_0x49fa7b){const _0x439b6d=a158_0x192d51;var _0x3a78cc=arguments[_0x439b6d(0x1f3)],_0x477470=_0x3a78cc<0x3?_0x4d9347:_0x49fa7b===null?_0x49fa7b=Object[_0x439b6d(0x1fe)](_0x4d9347,_0x1240de):_0x49fa7b,_0x37f4fd;if(typeof Reflect===_0x439b6d(0x1ff)&&typeof Reflect[_0x439b6d(0x1e6)]===_0x439b6d(0x1fd))_0x477470=Reflect[_0x439b6d(0x1e6)](_0x17aa68,_0x4d9347,_0x1240de,_0x49fa7b);else{for(var _0x14cc5c=_0x17aa68[_0x439b6d(0x1f3)]-0x1;_0x14cc5c>=0x0;_0x14cc5c--)if(_0x37f4fd=_0x17aa68[_0x14cc5c])_0x477470=(_0x3a78cc<0x3?_0x37f4fd(_0x477470):_0x3a78cc>0x3?_0x37f4fd(_0x4d9347,_0x1240de,_0x477470):_0x37f4fd(_0x4d9347,_0x1240de))||_0x477470;}return _0x3a78cc>0x3&&_0x477470&&Object[_0x439b6d(0x20b)](_0x4d9347,_0x1240de,_0x477470),_0x477470;},__metadata=this&&this[a158_0x192d51(0x201)]||function(_0x1fddd4,_0x464b7c){const _0x27e5cb=a158_0x192d51;if(typeof Reflect===_0x27e5cb(0x1ff)&&typeof Reflect[_0x27e5cb(0x1e3)]===_0x27e5cb(0x1fd))return Reflect[_0x27e5cb(0x1e3)](_0x1fddd4,_0x464b7c);},__importDefault=this&&this[a158_0x192d51(0x205)]||function(_0x158eb9){return _0x158eb9&&_0x158eb9['__esModule']?_0x158eb9:{'default':_0x158eb9};};function a158_0x139c(_0x26c881,_0x4288b0){const _0x5f1364=a158_0x144d();return a158_0x139c=function(_0x45e22c,_0x3c6bd2){_0x45e22c=_0x45e22c-0x1e3;let _0x144d1e=_0x5f1364[_0x45e22c];return _0x144d1e;},a158_0x139c(_0x26c881,_0x4288b0);}Object[a158_0x192d51(0x20b)](exports,a158_0x192d51(0x200),{'value':!![]}),exports[a158_0x192d51(0x203)]=void 0x0;const core_1=require(a158_0x192d51(0x1ec)),unauthorized_error_1=require(a158_0x192d51(0x1ea)),typedi_1=__importDefault(require('typedi')),internal_server_error_1=require(a158_0x192d51(0x202)),git_provider_manager_1=require(a158_0x192d51(0x1f4)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x18746a){const _0x2b3186=a158_0x192d51;this[_0x2b3186(0x209)]=_0x18746a;}async['handle'](_0x16bba8,_0x1df771){const _0x47dad7=a158_0x192d51;if(_0x16bba8['headers'][_0x47dad7(0x1f9)]){this['appSettings'][_0x47dad7(0x1ee)]({'provider':_0x16bba8[_0x47dad7(0x1f8)][_0x47dad7(0x1f9)]['toString']()});const _0x3d202e=typedi_1[_0x47dad7(0x1f1)][_0x47dad7(0x1fc)](git_provider_manager_1[_0x47dad7(0x207)])[_0x47dad7(0x1f7)](_0x16bba8[_0x47dad7(0x1f8)]['x-git-provider']['toString']());try{await _0x3d202e[_0x47dad7(0x1f6)]();}catch(_0x35f2d2){if(_0x35f2d2 instanceof internal_server_error_1[_0x47dad7(0x1ed)])throw _0x35f2d2;throw new unauthorized_error_1['UnauthorizedError'](_0x35f2d2);}}}};ProviderMiddleware=__decorate([core_1[a158_0x192d51(0x1f2)](a158_0x192d51(0x1ef)),__metadata(a158_0x192d51(0x1e7),[app_settings_service_1[a158_0x192d51(0x20a)]])],ProviderMiddleware),exports[a158_0x192d51(0x203)]=ProviderMiddleware;