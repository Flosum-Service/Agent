const a158_0x9f39fe=a158_0x27f0;(function(_0x5116db,_0x2275ee){const _0xc94a6b=a158_0x27f0,_0x575fa0=_0x5116db();while(!![]){try{const _0x5d544d=-parseInt(_0xc94a6b(0xdb))/0x1+parseInt(_0xc94a6b(0xc2))/0x2*(-parseInt(_0xc94a6b(0xc5))/0x3)+-parseInt(_0xc94a6b(0xd1))/0x4+-parseInt(_0xc94a6b(0xc8))/0x5*(parseInt(_0xc94a6b(0xc0))/0x6)+parseInt(_0xc94a6b(0xd4))/0x7+parseInt(_0xc94a6b(0xc1))/0x8*(-parseInt(_0xc94a6b(0xca))/0x9)+parseInt(_0xc94a6b(0xd8))/0xa;if(_0x5d544d===_0x2275ee)break;else _0x575fa0['push'](_0x575fa0['shift']());}catch(_0x3e434b){_0x575fa0['push'](_0x575fa0['shift']());}}}(a158_0x325c,0xeee81));const a158_0x316c47=(function(){let _0x1a3a49=!![];return function(_0x20b09c,_0x45c270){const _0x56443c=_0x1a3a49?function(){const _0x376f6b=a158_0x27f0;if(_0x45c270){const _0x1895f1=_0x45c270[_0x376f6b(0xc6)](_0x20b09c,arguments);return _0x45c270=null,_0x1895f1;}}:function(){};return _0x1a3a49=![],_0x56443c;};}()),a158_0x17b9a4=a158_0x316c47(this,function(){const _0x3d9e28=a158_0x27f0;return a158_0x17b9a4['toString']()['search'](_0x3d9e28(0xc7))[_0x3d9e28(0xde)]()[_0x3d9e28(0xcd)](a158_0x17b9a4)[_0x3d9e28(0xbd)]('(((.+)+)+)+$');});function a158_0x325c(){const _0x32d9d5=['./services/app-settings.service','handle','getOwnPropertyDescriptor','search','decorate','update','6NNrYPc','5694400rdiivJ','2DdNtCW','default','metadata','337335wZDyrE','apply','(((.+)+)+)+$','2242585veUzuN','../../core/errors/unauthorized.error','18lzihCR','../../core','__importDefault','constructor','isLoggedIn','ProviderMiddleware','object','5315688KdAPty','UnauthorizedError','./git-provider.manager','5999126VcaaVO','function','get','headers','34857720TodINi','__esModule','../../core/errors/internal-server.error','50745nndLvK','length','defineProperty','toString','design:paramtypes','x-git-provider'];a158_0x325c=function(){return _0x32d9d5;};return a158_0x325c();}a158_0x17b9a4();'use strict';var __decorate=this&&this['__decorate']||function(_0x1e6020,_0x409dff,_0x40b23d,_0xa793c4){const _0xc3e125=a158_0x27f0;var _0x260d98=arguments[_0xc3e125(0xdc)],_0x58a72c=_0x260d98<0x3?_0x409dff:_0xa793c4===null?_0xa793c4=Object[_0xc3e125(0xbc)](_0x409dff,_0x40b23d):_0xa793c4,_0xd8f183;if(typeof Reflect===_0xc3e125(0xd0)&&typeof Reflect[_0xc3e125(0xbe)]===_0xc3e125(0xd5))_0x58a72c=Reflect['decorate'](_0x1e6020,_0x409dff,_0x40b23d,_0xa793c4);else{for(var _0x489b32=_0x1e6020[_0xc3e125(0xdc)]-0x1;_0x489b32>=0x0;_0x489b32--)if(_0xd8f183=_0x1e6020[_0x489b32])_0x58a72c=(_0x260d98<0x3?_0xd8f183(_0x58a72c):_0x260d98>0x3?_0xd8f183(_0x409dff,_0x40b23d,_0x58a72c):_0xd8f183(_0x409dff,_0x40b23d))||_0x58a72c;}return _0x260d98>0x3&&_0x58a72c&&Object[_0xc3e125(0xdd)](_0x409dff,_0x40b23d,_0x58a72c),_0x58a72c;},__metadata=this&&this['__metadata']||function(_0x3fbd9d,_0x15b8df){const _0x299160=a158_0x27f0;if(typeof Reflect===_0x299160(0xd0)&&typeof Reflect[_0x299160(0xc4)]===_0x299160(0xd5))return Reflect[_0x299160(0xc4)](_0x3fbd9d,_0x15b8df);},__importDefault=this&&this[a158_0x9f39fe(0xcc)]||function(_0x4fcc54){const _0x1c9799=a158_0x9f39fe;return _0x4fcc54&&_0x4fcc54[_0x1c9799(0xd9)]?_0x4fcc54:{'default':_0x4fcc54};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const core_1=require(a158_0x9f39fe(0xcb)),unauthorized_error_1=require(a158_0x9f39fe(0xc9)),typedi_1=__importDefault(require('typedi')),internal_server_error_1=require(a158_0x9f39fe(0xda)),git_provider_manager_1=require(a158_0x9f39fe(0xd3)),app_settings_service_1=require(a158_0x9f39fe(0xe1));function a158_0x27f0(_0x1e5874,_0x232943){const _0x1edb8e=a158_0x325c();return a158_0x27f0=function(_0x17b9a4,_0x316c47){_0x17b9a4=_0x17b9a4-0xbc;let _0x325c50=_0x1edb8e[_0x17b9a4];return _0x325c50;},a158_0x27f0(_0x1e5874,_0x232943);}let ProviderMiddleware=class ProviderMiddleware{constructor(_0x4faa8d){this['appSettings']=_0x4faa8d;}async[a158_0x9f39fe(0xe2)](_0x23082f,_0x433f6b){const _0x56ce3b=a158_0x9f39fe;if(_0x23082f['headers'][_0x56ce3b(0xe0)]){this['appSettings'][_0x56ce3b(0xbf)]({'provider':_0x23082f[_0x56ce3b(0xd7)][_0x56ce3b(0xe0)]['toString']()});const _0x51400a=typedi_1[_0x56ce3b(0xc3)][_0x56ce3b(0xd6)](git_provider_manager_1['GitProviderManager'])['getApi'](_0x23082f[_0x56ce3b(0xd7)][_0x56ce3b(0xe0)]['toString']());try{await _0x51400a[_0x56ce3b(0xce)]();}catch(_0x55a605){if(_0x55a605 instanceof internal_server_error_1['InternalServerError'])throw _0x55a605;throw new unauthorized_error_1[(_0x56ce3b(0xd2))](_0x55a605);}}}};ProviderMiddleware=__decorate([core_1['Middleware']('before'),__metadata(a158_0x9f39fe(0xdf),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a158_0x9f39fe(0xcf)]=ProviderMiddleware;