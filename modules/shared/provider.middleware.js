const a158_0x1c63aa=a158_0x19ae;function a158_0xe045(){const _0x4103ca=['__decorate','update','ProviderMiddleware','14gdeUFr','getApi','1525512VAPpcT','3184xNHoci','GitProviderManager','isLoggedIn','function','(((.+)+)+)+$','825812lOONkd','5958FhUVCc','metadata','getOwnPropertyDescriptor','default','before','appSettings','./services/app-settings.service','AppSettingsService','../../core','search','length','__metadata','x-git-provider','defineProperty','1914rWCPqS','object','decorate','1FOZECu','13266336aAspDY','__esModule','design:paramtypes','5TPrtjj','../../core/errors/internal-server.error','toString','constructor','typedi','InternalServerError','1234440zAPYIU','UnauthorizedError','3364292PWkart','42970BjpSQj','./git-provider.manager'];a158_0xe045=function(){return _0x4103ca;};return a158_0xe045();}(function(_0x19edc7,_0x2b7f5b){const _0x157a5d=a158_0x19ae,_0x2d3378=_0x19edc7();while(!![]){try{const _0x154435=parseInt(_0x157a5d(0x18b))/0x1*(-parseInt(_0x157a5d(0x179))/0x2)+-parseInt(_0x157a5d(0x169))/0x3+parseInt(_0x157a5d(0x16b))/0x4*(-parseInt(_0x157a5d(0x163))/0x5)+-parseInt(_0x157a5d(0x173))/0x6*(-parseInt(_0x157a5d(0x171))/0x7)+parseInt(_0x157a5d(0x174))/0x8*(-parseInt(_0x157a5d(0x17a))/0x9)+parseInt(_0x157a5d(0x16c))/0xa*(parseInt(_0x157a5d(0x188))/0xb)+parseInt(_0x157a5d(0x18c))/0xc;if(_0x154435===_0x2b7f5b)break;else _0x2d3378['push'](_0x2d3378['shift']());}catch(_0x563925){_0x2d3378['push'](_0x2d3378['shift']());}}}(a158_0xe045,0x69a87));const a158_0xa7c7ca=(function(){let _0x199343=!![];return function(_0x43360d,_0x483659){const _0x526a3d=_0x199343?function(){if(_0x483659){const _0x1898b1=_0x483659['apply'](_0x43360d,arguments);return _0x483659=null,_0x1898b1;}}:function(){};return _0x199343=![],_0x526a3d;};}()),a158_0x140b45=a158_0xa7c7ca(this,function(){const _0xaa86b2=a158_0x19ae;return a158_0x140b45[_0xaa86b2(0x165)]()['search'](_0xaa86b2(0x178))[_0xaa86b2(0x165)]()[_0xaa86b2(0x166)](a158_0x140b45)[_0xaa86b2(0x183)](_0xaa86b2(0x178));});a158_0x140b45();'use strict';var __decorate=this&&this[a158_0x1c63aa(0x16e)]||function(_0x5541ff,_0x3bdde3,_0x5abfe9,_0x19b376){const _0x58e948=a158_0x1c63aa;var _0x5ca11f=arguments[_0x58e948(0x184)],_0xc4f13f=_0x5ca11f<0x3?_0x3bdde3:_0x19b376===null?_0x19b376=Object[_0x58e948(0x17c)](_0x3bdde3,_0x5abfe9):_0x19b376,_0x1056a6;if(typeof Reflect===_0x58e948(0x189)&&typeof Reflect[_0x58e948(0x18a)]==='function')_0xc4f13f=Reflect['decorate'](_0x5541ff,_0x3bdde3,_0x5abfe9,_0x19b376);else{for(var _0x24f4f5=_0x5541ff[_0x58e948(0x184)]-0x1;_0x24f4f5>=0x0;_0x24f4f5--)if(_0x1056a6=_0x5541ff[_0x24f4f5])_0xc4f13f=(_0x5ca11f<0x3?_0x1056a6(_0xc4f13f):_0x5ca11f>0x3?_0x1056a6(_0x3bdde3,_0x5abfe9,_0xc4f13f):_0x1056a6(_0x3bdde3,_0x5abfe9))||_0xc4f13f;}return _0x5ca11f>0x3&&_0xc4f13f&&Object[_0x58e948(0x187)](_0x3bdde3,_0x5abfe9,_0xc4f13f),_0xc4f13f;},__metadata=this&&this[a158_0x1c63aa(0x185)]||function(_0x322e8e,_0x41492d){const _0x1a1ff3=a158_0x1c63aa;if(typeof Reflect==='object'&&typeof Reflect[_0x1a1ff3(0x17b)]===_0x1a1ff3(0x177))return Reflect[_0x1a1ff3(0x17b)](_0x322e8e,_0x41492d);},__importDefault=this&&this['__importDefault']||function(_0x287e2b){const _0x4332a7=a158_0x1c63aa;return _0x287e2b&&_0x287e2b[_0x4332a7(0x18d)]?_0x287e2b:{'default':_0x287e2b};};Object[a158_0x1c63aa(0x187)](exports,a158_0x1c63aa(0x18d),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;function a158_0x19ae(_0x1c7cf3,_0x6d1475){const _0x3e4f20=a158_0xe045();return a158_0x19ae=function(_0x140b45,_0xa7c7ca){_0x140b45=_0x140b45-0x163;let _0xe0452=_0x3e4f20[_0x140b45];return _0xe0452;},a158_0x19ae(_0x1c7cf3,_0x6d1475);}const core_1=require(a158_0x1c63aa(0x182)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a158_0x1c63aa(0x167))),internal_server_error_1=require(a158_0x1c63aa(0x164)),git_provider_manager_1=require(a158_0x1c63aa(0x16d)),app_settings_service_1=require(a158_0x1c63aa(0x180));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x786bd6){const _0x56f119=a158_0x1c63aa;this[_0x56f119(0x17f)]=_0x786bd6;}async['handle'](_0x5af84b,_0x3b0575){const _0x8539ca=a158_0x1c63aa;if(_0x5af84b['headers'][_0x8539ca(0x186)]){this[_0x8539ca(0x17f)][_0x8539ca(0x16f)]({'provider':_0x5af84b['headers'][_0x8539ca(0x186)][_0x8539ca(0x165)]()});const _0x3dd8ec=typedi_1[_0x8539ca(0x17d)]['get'](git_provider_manager_1[_0x8539ca(0x175)])[_0x8539ca(0x172)](_0x5af84b['headers']['x-git-provider'][_0x8539ca(0x165)]());try{await _0x3dd8ec[_0x8539ca(0x176)]();}catch(_0x38cad5){if(_0x38cad5 instanceof internal_server_error_1[_0x8539ca(0x168)])throw _0x38cad5;throw new unauthorized_error_1[(_0x8539ca(0x16a))](_0x38cad5);}}}};ProviderMiddleware=__decorate([core_1['Middleware'](a158_0x1c63aa(0x17e)),__metadata(a158_0x1c63aa(0x18e),[app_settings_service_1[a158_0x1c63aa(0x181)]])],ProviderMiddleware),exports[a158_0x1c63aa(0x170)]=ProviderMiddleware;