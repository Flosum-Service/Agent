const a158_0x56fd01=a158_0x5153;function a158_0x5153(_0x2ad242,_0x5eed40){const _0x5c1418=a158_0x14e8();return a158_0x5153=function(_0x29ae90,_0x2ca5a9){_0x29ae90=_0x29ae90-0x1d7;let _0x14e8ab=_0x5c1418[_0x29ae90];return _0x14e8ab;},a158_0x5153(_0x2ad242,_0x5eed40);}(function(_0x58b21e,_0x3ccac0){const _0x31a2c5=a158_0x5153,_0x4b480e=_0x58b21e();while(!![]){try{const _0x2cb792=-parseInt(_0x31a2c5(0x1d8))/0x1*(-parseInt(_0x31a2c5(0x1e5))/0x2)+-parseInt(_0x31a2c5(0x1e2))/0x3*(-parseInt(_0x31a2c5(0x1ff))/0x4)+-parseInt(_0x31a2c5(0x1fe))/0x5+parseInt(_0x31a2c5(0x1fa))/0x6*(-parseInt(_0x31a2c5(0x1e7))/0x7)+-parseInt(_0x31a2c5(0x1f0))/0x8+-parseInt(_0x31a2c5(0x1f7))/0x9*(parseInt(_0x31a2c5(0x1fb))/0xa)+parseInt(_0x31a2c5(0x1ef))/0xb*(parseInt(_0x31a2c5(0x1f9))/0xc);if(_0x2cb792===_0x3ccac0)break;else _0x4b480e['push'](_0x4b480e['shift']());}catch(_0x5d3141){_0x4b480e['push'](_0x4b480e['shift']());}}}(a158_0x14e8,0xd6801));const a158_0x2ca5a9=(function(){let _0x5d61a2=!![];return function(_0x3a3863,_0x364045){const _0x3f5851=_0x5d61a2?function(){if(_0x364045){const _0x10e668=_0x364045['apply'](_0x3a3863,arguments);return _0x364045=null,_0x10e668;}}:function(){};return _0x5d61a2=![],_0x3f5851;};}()),a158_0x29ae90=a158_0x2ca5a9(this,function(){const _0x49a416=a158_0x5153;return a158_0x29ae90[_0x49a416(0x1e1)]()['search'](_0x49a416(0x1e3))[_0x49a416(0x1e1)]()[_0x49a416(0x1dd)](a158_0x29ae90)[_0x49a416(0x1fc)](_0x49a416(0x1e3));});a158_0x29ae90();'use strict';var __decorate=this&&this[a158_0x56fd01(0x1da)]||function(_0xf6a219,_0x59c305,_0x3e50f0,_0x378585){const _0x52d6d4=a158_0x56fd01;var _0x250316=arguments[_0x52d6d4(0x1ea)],_0x153c42=_0x250316<0x3?_0x59c305:_0x378585===null?_0x378585=Object['getOwnPropertyDescriptor'](_0x59c305,_0x3e50f0):_0x378585,_0x1e2dee;if(typeof Reflect===_0x52d6d4(0x1ed)&&typeof Reflect[_0x52d6d4(0x1f1)]===_0x52d6d4(0x1d7))_0x153c42=Reflect[_0x52d6d4(0x1f1)](_0xf6a219,_0x59c305,_0x3e50f0,_0x378585);else{for(var _0x272b37=_0xf6a219[_0x52d6d4(0x1ea)]-0x1;_0x272b37>=0x0;_0x272b37--)if(_0x1e2dee=_0xf6a219[_0x272b37])_0x153c42=(_0x250316<0x3?_0x1e2dee(_0x153c42):_0x250316>0x3?_0x1e2dee(_0x59c305,_0x3e50f0,_0x153c42):_0x1e2dee(_0x59c305,_0x3e50f0))||_0x153c42;}return _0x250316>0x3&&_0x153c42&&Object[_0x52d6d4(0x1e4)](_0x59c305,_0x3e50f0,_0x153c42),_0x153c42;},__metadata=this&&this['__metadata']||function(_0x3c802b,_0x355a26){const _0x4aa466=a158_0x56fd01;if(typeof Reflect===_0x4aa466(0x1ed)&&typeof Reflect['metadata']===_0x4aa466(0x1d7))return Reflect['metadata'](_0x3c802b,_0x355a26);},__importDefault=this&&this[a158_0x56fd01(0x1de)]||function(_0x2d3c2e){const _0x353cc4=a158_0x56fd01;return _0x2d3c2e&&_0x2d3c2e[_0x353cc4(0x1e6)]?_0x2d3c2e:{'default':_0x2d3c2e};};Object[a158_0x56fd01(0x1e4)](exports,a158_0x56fd01(0x1e6),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;function a158_0x14e8(){const _0x54b61a=['./git-provider.manager','__decorate','update','./services/app-settings.service','constructor','__importDefault','x-git-provider','AppSettingsService','toString','3covFGh','(((.+)+)+)+$','defineProperty','1036470LVlvmG','__esModule','1057lDCDUB','appSettings','design:paramtypes','length','Middleware','default','object','ProviderMiddleware','143bgzeiK','10188944WGBVAh','decorate','InternalServerError','isLoggedIn','../../core/errors/unauthorized.error','headers','GitProviderManager','414fNPlVY','before','3403812lGAKwn','42546QPgbFl','289690WCArmI','search','../../core/errors/internal-server.error','5683165SqgSWn','1799964pecsUh','function','3zXXtkg'];a158_0x14e8=function(){return _0x54b61a;};return a158_0x14e8();}const core_1=require('../../core'),unauthorized_error_1=require(a158_0x56fd01(0x1f4)),typedi_1=__importDefault(require('typedi')),internal_server_error_1=require(a158_0x56fd01(0x1fd)),git_provider_manager_1=require(a158_0x56fd01(0x1d9)),app_settings_service_1=require(a158_0x56fd01(0x1dc));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x5cb918){const _0x17b3ee=a158_0x56fd01;this[_0x17b3ee(0x1e8)]=_0x5cb918;}async['handle'](_0x46fc7c,_0x342f0f){const _0x1cd0fa=a158_0x56fd01;if(_0x46fc7c[_0x1cd0fa(0x1f5)]['x-git-provider']){this[_0x1cd0fa(0x1e8)][_0x1cd0fa(0x1db)]({'provider':_0x46fc7c[_0x1cd0fa(0x1f5)][_0x1cd0fa(0x1df)][_0x1cd0fa(0x1e1)]()});const _0x54c037=typedi_1[_0x1cd0fa(0x1ec)]['get'](git_provider_manager_1[_0x1cd0fa(0x1f6)])['getApi'](_0x46fc7c[_0x1cd0fa(0x1f5)]['x-git-provider'][_0x1cd0fa(0x1e1)]());try{await _0x54c037[_0x1cd0fa(0x1f3)]();}catch(_0x1e9dee){if(_0x1e9dee instanceof internal_server_error_1[_0x1cd0fa(0x1f2)])throw _0x1e9dee;throw new unauthorized_error_1['UnauthorizedError'](_0x1e9dee);}}}};ProviderMiddleware=__decorate([core_1[a158_0x56fd01(0x1eb)](a158_0x56fd01(0x1f8)),__metadata(a158_0x56fd01(0x1e9),[app_settings_service_1[a158_0x56fd01(0x1e0)]])],ProviderMiddleware),exports[a158_0x56fd01(0x1ee)]=ProviderMiddleware;