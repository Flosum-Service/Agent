const a157_0x4f31ab=a157_0x3df8;(function(_0xd55e24,_0x55944c){const _0x5aa61f=a157_0x3df8,_0x1a510d=_0xd55e24();while(!![]){try{const _0x5b3e5e=parseInt(_0x5aa61f(0xf4))/0x1+parseInt(_0x5aa61f(0xd5))/0x2*(-parseInt(_0x5aa61f(0xee))/0x3)+-parseInt(_0x5aa61f(0xd9))/0x4*(-parseInt(_0x5aa61f(0xe7))/0x5)+-parseInt(_0x5aa61f(0xec))/0x6*(-parseInt(_0x5aa61f(0xef))/0x7)+parseInt(_0x5aa61f(0xe0))/0x8+-parseInt(_0x5aa61f(0xf5))/0x9+-parseInt(_0x5aa61f(0xda))/0xa*(parseInt(_0x5aa61f(0xfc))/0xb);if(_0x5b3e5e===_0x55944c)break;else _0x1a510d['push'](_0x1a510d['shift']());}catch(_0x28febb){_0x1a510d['push'](_0x1a510d['shift']());}}}(a157_0x37c5,0x8df0e));function a157_0x3df8(_0x3b34b8,_0x382a0){const _0x24407d=a157_0x37c5();return a157_0x3df8=function(_0x183a86,_0x965f71){_0x183a86=_0x183a86-0xd3;let _0x37c590=_0x24407d[_0x183a86];return _0x37c590;},a157_0x3df8(_0x3b34b8,_0x382a0);}const a157_0x965f71=(function(){let _0x3d10c1=!![];return function(_0xa0eb65,_0x472838){const _0x5b278f=_0x3d10c1?function(){const _0x421683=a157_0x3df8;if(_0x472838){const _0x31c7f8=_0x472838[_0x421683(0xfd)](_0xa0eb65,arguments);return _0x472838=null,_0x31c7f8;}}:function(){};return _0x3d10c1=![],_0x5b278f;};}()),a157_0x183a86=a157_0x965f71(this,function(){const _0x2a7d9e=a157_0x3df8;return a157_0x183a86[_0x2a7d9e(0xe3)]()[_0x2a7d9e(0xd3)](_0x2a7d9e(0xea))['toString']()[_0x2a7d9e(0xfa)](a157_0x183a86)['search'](_0x2a7d9e(0xea));});function a157_0x37c5(){const _0x14c19d=['apply','default','search','getApi','9372kKMZwU','defineProperty','./services/app-settings.service','get','188CPXdFX','1110FGVXEH','metadata','function','x-git-provider','UnauthorizedError','typedi','271576ibSXvQ','ProviderMiddleware','design:paramtypes','toString','GitProviderManager','isLoggedIn','before','45790BEQVwZ','AppSettingsService','__metadata','(((.+)+)+)+$','InternalServerError','1218fYDmJZ','decorate','48NaZnKX','30730bsWoAa','__importDefault','appSettings','length','headers','836358xhAnqq','2416230pHfoPT','Middleware','__esModule','object','getOwnPropertyDescriptor','constructor','handle','125565DXtDwy'];a157_0x37c5=function(){return _0x14c19d;};return a157_0x37c5();}a157_0x183a86();'use strict';var __decorate=this&&this['__decorate']||function(_0x1a7f03,_0x854148,_0x4c569f,_0x5cc261){const _0x108410=a157_0x3df8;var _0x381025=arguments[_0x108410(0xf2)],_0x1ea60f=_0x381025<0x3?_0x854148:_0x5cc261===null?_0x5cc261=Object[_0x108410(0xf9)](_0x854148,_0x4c569f):_0x5cc261,_0x52da6e;if(typeof Reflect===_0x108410(0xf8)&&typeof Reflect[_0x108410(0xed)]===_0x108410(0xdc))_0x1ea60f=Reflect[_0x108410(0xed)](_0x1a7f03,_0x854148,_0x4c569f,_0x5cc261);else{for(var _0x1345cc=_0x1a7f03[_0x108410(0xf2)]-0x1;_0x1345cc>=0x0;_0x1345cc--)if(_0x52da6e=_0x1a7f03[_0x1345cc])_0x1ea60f=(_0x381025<0x3?_0x52da6e(_0x1ea60f):_0x381025>0x3?_0x52da6e(_0x854148,_0x4c569f,_0x1ea60f):_0x52da6e(_0x854148,_0x4c569f))||_0x1ea60f;}return _0x381025>0x3&&_0x1ea60f&&Object[_0x108410(0xd6)](_0x854148,_0x4c569f,_0x1ea60f),_0x1ea60f;},__metadata=this&&this[a157_0x4f31ab(0xe9)]||function(_0x2ce6de,_0x1565ef){const _0x494879=a157_0x4f31ab;if(typeof Reflect===_0x494879(0xf8)&&typeof Reflect[_0x494879(0xdb)]===_0x494879(0xdc))return Reflect[_0x494879(0xdb)](_0x2ce6de,_0x1565ef);},__importDefault=this&&this[a157_0x4f31ab(0xf0)]||function(_0x3fc9ee){return _0x3fc9ee&&_0x3fc9ee['__esModule']?_0x3fc9ee:{'default':_0x3fc9ee};};Object[a157_0x4f31ab(0xd6)](exports,a157_0x4f31ab(0xf7),{'value':!![]}),exports['ProviderMiddleware']=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a157_0x4f31ab(0xdf))),internal_server_error_1=require('../../core/errors/internal-server.error'),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require(a157_0x4f31ab(0xd7));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x65ea9){const _0x52cf88=a157_0x4f31ab;this[_0x52cf88(0xf1)]=_0x65ea9;}async[a157_0x4f31ab(0xfb)](_0x3f3b6c,_0x300309){const _0xd67e54=a157_0x4f31ab;if(_0x3f3b6c[_0xd67e54(0xf3)][_0xd67e54(0xdd)]){this[_0xd67e54(0xf1)]['update']({'provider':_0x3f3b6c[_0xd67e54(0xf3)][_0xd67e54(0xdd)]['toString']()});const _0x2baaa0=typedi_1[_0xd67e54(0xfe)][_0xd67e54(0xd8)](git_provider_manager_1[_0xd67e54(0xe4)])[_0xd67e54(0xd4)](_0x3f3b6c[_0xd67e54(0xf3)][_0xd67e54(0xdd)][_0xd67e54(0xe3)]());try{await _0x2baaa0[_0xd67e54(0xe5)]();}catch(_0x53382c){if(_0x53382c instanceof internal_server_error_1[_0xd67e54(0xeb)])throw _0x53382c;throw new unauthorized_error_1[(_0xd67e54(0xde))](_0x53382c);}}}};ProviderMiddleware=__decorate([core_1[a157_0x4f31ab(0xf6)](a157_0x4f31ab(0xe6)),__metadata(a157_0x4f31ab(0xe2),[app_settings_service_1[a157_0x4f31ab(0xe8)]])],ProviderMiddleware),exports[a157_0x4f31ab(0xe1)]=ProviderMiddleware;