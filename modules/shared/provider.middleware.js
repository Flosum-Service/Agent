const a158_0x3c0e60=a158_0x3f1b;(function(_0x3d5ceb,_0x84af91){const _0x211de8=a158_0x3f1b,_0xa6ce39=_0x3d5ceb();while(!![]){try{const _0x187846=parseInt(_0x211de8(0x1e3))/0x1*(parseInt(_0x211de8(0x1e7))/0x2)+-parseInt(_0x211de8(0x1d0))/0x3*(-parseInt(_0x211de8(0x1d8))/0x4)+parseInt(_0x211de8(0x1da))/0x5*(parseInt(_0x211de8(0x1ee))/0x6)+parseInt(_0x211de8(0x1d5))/0x7*(parseInt(_0x211de8(0x1cd))/0x8)+-parseInt(_0x211de8(0x1cf))/0x9*(parseInt(_0x211de8(0x1cc))/0xa)+-parseInt(_0x211de8(0x1ec))/0xb+-parseInt(_0x211de8(0x1ef))/0xc*(-parseInt(_0x211de8(0x1e6))/0xd);if(_0x187846===_0x84af91)break;else _0xa6ce39['push'](_0xa6ce39['shift']());}catch(_0x311730){_0xa6ce39['push'](_0xa6ce39['shift']());}}}(a158_0x5a3a,0x585b7));const a158_0x355d0b=(function(){let _0x51cb05=!![];return function(_0x52e047,_0x57e729){const _0x2ca000=_0x51cb05?function(){const _0x1acfaf=a158_0x3f1b;if(_0x57e729){const _0x385dba=_0x57e729[_0x1acfaf(0x1db)](_0x52e047,arguments);return _0x57e729=null,_0x385dba;}}:function(){};return _0x51cb05=![],_0x2ca000;};}()),a158_0x395e43=a158_0x355d0b(this,function(){const _0x3e62d5=a158_0x3f1b;return a158_0x395e43[_0x3e62d5(0x1cb)]()[_0x3e62d5(0x1f2)](_0x3e62d5(0x1d2))[_0x3e62d5(0x1cb)]()[_0x3e62d5(0x1d9)](a158_0x395e43)[_0x3e62d5(0x1f2)]('(((.+)+)+)+$');});a158_0x395e43();'use strict';var __decorate=this&&this[a158_0x3c0e60(0x1de)]||function(_0x1ebfba,_0x300e16,_0x359826,_0x2626b0){const _0x151547=a158_0x3c0e60;var _0x35d260=arguments[_0x151547(0x1e2)],_0x556ed6=_0x35d260<0x3?_0x300e16:_0x2626b0===null?_0x2626b0=Object[_0x151547(0x1f0)](_0x300e16,_0x359826):_0x2626b0,_0x37ae20;if(typeof Reflect===_0x151547(0x1c9)&&typeof Reflect[_0x151547(0x1f1)]===_0x151547(0x1eb))_0x556ed6=Reflect[_0x151547(0x1f1)](_0x1ebfba,_0x300e16,_0x359826,_0x2626b0);else{for(var _0xbe9cf3=_0x1ebfba[_0x151547(0x1e2)]-0x1;_0xbe9cf3>=0x0;_0xbe9cf3--)if(_0x37ae20=_0x1ebfba[_0xbe9cf3])_0x556ed6=(_0x35d260<0x3?_0x37ae20(_0x556ed6):_0x35d260>0x3?_0x37ae20(_0x300e16,_0x359826,_0x556ed6):_0x37ae20(_0x300e16,_0x359826))||_0x556ed6;}return _0x35d260>0x3&&_0x556ed6&&Object[_0x151547(0x1e8)](_0x300e16,_0x359826,_0x556ed6),_0x556ed6;},__metadata=this&&this['__metadata']||function(_0x2d5956,_0x5b685e){const _0x5067dc=a158_0x3c0e60;if(typeof Reflect===_0x5067dc(0x1c9)&&typeof Reflect[_0x5067dc(0x1dd)]==='function')return Reflect[_0x5067dc(0x1dd)](_0x2d5956,_0x5b685e);},__importDefault=this&&this['__importDefault']||function(_0x3b9572){return _0x3b9572&&_0x3b9572['__esModule']?_0x3b9572:{'default':_0x3b9572};};Object[a158_0x3c0e60(0x1e8)](exports,a158_0x3c0e60(0x1ca),{'value':!![]}),exports[a158_0x3c0e60(0x1e5)]=void 0x0;function a158_0x5a3a(){const _0x548824=['ProviderMiddleware','13CdLvRL','43466uMpUjz','defineProperty','design:paramtypes','appSettings','function','6758037rdmCiC','getApi','18yNeSfA','7196244FTJXSl','getOwnPropertyDescriptor','decorate','search','../../core','Middleware','object','__esModule','toString','10QlSMIH','128440TBwHAU','handle','6121638qbFfhh','244551fKpsug','./services/app-settings.service','(((.+)+)+)+$','typedi','before','7pTBmcn','update','../../core/errors/unauthorized.error','4BDfUIV','constructor','1200230dlTwPG','apply','AppSettingsService','metadata','__decorate','x-git-provider','InternalServerError','UnauthorizedError','length','11PnymEy','headers'];a158_0x5a3a=function(){return _0x548824;};return a158_0x5a3a();}const core_1=require(a158_0x3c0e60(0x1c7)),unauthorized_error_1=require(a158_0x3c0e60(0x1d7)),typedi_1=__importDefault(require(a158_0x3c0e60(0x1d3))),internal_server_error_1=require('../../core/errors/internal-server.error'),git_provider_manager_1=require('./git-provider.manager'),app_settings_service_1=require(a158_0x3c0e60(0x1d1));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x3223bb){const _0x19cf19=a158_0x3c0e60;this[_0x19cf19(0x1ea)]=_0x3223bb;}async[a158_0x3c0e60(0x1ce)](_0x4be168,_0x48d3e9){const _0x2c63ed=a158_0x3c0e60;if(_0x4be168[_0x2c63ed(0x1e4)][_0x2c63ed(0x1df)]){this[_0x2c63ed(0x1ea)][_0x2c63ed(0x1d6)]({'provider':_0x4be168[_0x2c63ed(0x1e4)][_0x2c63ed(0x1df)][_0x2c63ed(0x1cb)]()});const _0x25a7a8=typedi_1['default']['get'](git_provider_manager_1['GitProviderManager'])[_0x2c63ed(0x1ed)](_0x4be168[_0x2c63ed(0x1e4)]['x-git-provider'][_0x2c63ed(0x1cb)]());try{await _0x25a7a8['isLoggedIn']();}catch(_0xf096ec){if(_0xf096ec instanceof internal_server_error_1[_0x2c63ed(0x1e0)])throw _0xf096ec;throw new unauthorized_error_1[(_0x2c63ed(0x1e1))](_0xf096ec);}}}};function a158_0x3f1b(_0x25d01d,_0x3a01dc){const _0x5453f0=a158_0x5a3a();return a158_0x3f1b=function(_0x395e43,_0x355d0b){_0x395e43=_0x395e43-0x1c7;let _0x5a3ae8=_0x5453f0[_0x395e43];return _0x5a3ae8;},a158_0x3f1b(_0x25d01d,_0x3a01dc);}ProviderMiddleware=__decorate([core_1[a158_0x3c0e60(0x1c8)](a158_0x3c0e60(0x1d4)),__metadata(a158_0x3c0e60(0x1e9),[app_settings_service_1[a158_0x3c0e60(0x1dc)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;