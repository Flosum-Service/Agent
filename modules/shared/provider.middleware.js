const a158_0x5c836b=a158_0x1fc9;(function(_0xd49e2e,_0x55dc08){const _0x519f9a=a158_0x1fc9,_0x3f3417=_0xd49e2e();while(!![]){try{const _0x55aa23=-parseInt(_0x519f9a(0x1a6))/0x1*(parseInt(_0x519f9a(0x1aa))/0x2)+parseInt(_0x519f9a(0x1b8))/0x3+parseInt(_0x519f9a(0x1b7))/0x4*(-parseInt(_0x519f9a(0x1a7))/0x5)+-parseInt(_0x519f9a(0x1c0))/0x6+parseInt(_0x519f9a(0x1b6))/0x7+-parseInt(_0x519f9a(0x1b5))/0x8+parseInt(_0x519f9a(0x1a9))/0x9*(parseInt(_0x519f9a(0x1bd))/0xa);if(_0x55aa23===_0x55dc08)break;else _0x3f3417['push'](_0x3f3417['shift']());}catch(_0x4248c0){_0x3f3417['push'](_0x3f3417['shift']());}}}(a158_0x35d7,0x86a93));const a158_0x195d6e=(function(){let _0x3381fb=!![];return function(_0x2a80ee,_0x18cce7){const _0x43c8a6=_0x3381fb?function(){const _0xb24f35=a158_0x1fc9;if(_0x18cce7){const _0x16fce5=_0x18cce7[_0xb24f35(0x1b3)](_0x2a80ee,arguments);return _0x18cce7=null,_0x16fce5;}}:function(){};return _0x3381fb=![],_0x43c8a6;};}()),a158_0x19f01f=a158_0x195d6e(this,function(){const _0x437ed7=a158_0x1fc9;return a158_0x19f01f[_0x437ed7(0x1ab)]()['search'](_0x437ed7(0x1a8))[_0x437ed7(0x1ab)]()['constructor'](a158_0x19f01f)[_0x437ed7(0x1c7)]('(((.+)+)+)+$');});a158_0x19f01f();'use strict';var __decorate=this&&this[a158_0x5c836b(0x1c6)]||function(_0x4a7110,_0x422f00,_0x34eab8,_0x5c859c){const _0x3f5239=a158_0x5c836b;var _0xd1c7fd=arguments[_0x3f5239(0x1ad)],_0x3d9c73=_0xd1c7fd<0x3?_0x422f00:_0x5c859c===null?_0x5c859c=Object['getOwnPropertyDescriptor'](_0x422f00,_0x34eab8):_0x5c859c,_0x154c9a;if(typeof Reflect===_0x3f5239(0x1bc)&&typeof Reflect[_0x3f5239(0x1b4)]===_0x3f5239(0x1bf))_0x3d9c73=Reflect[_0x3f5239(0x1b4)](_0x4a7110,_0x422f00,_0x34eab8,_0x5c859c);else{for(var _0x35f33f=_0x4a7110[_0x3f5239(0x1ad)]-0x1;_0x35f33f>=0x0;_0x35f33f--)if(_0x154c9a=_0x4a7110[_0x35f33f])_0x3d9c73=(_0xd1c7fd<0x3?_0x154c9a(_0x3d9c73):_0xd1c7fd>0x3?_0x154c9a(_0x422f00,_0x34eab8,_0x3d9c73):_0x154c9a(_0x422f00,_0x34eab8))||_0x3d9c73;}return _0xd1c7fd>0x3&&_0x3d9c73&&Object[_0x3f5239(0x1c3)](_0x422f00,_0x34eab8,_0x3d9c73),_0x3d9c73;},__metadata=this&&this[a158_0x5c836b(0x1be)]||function(_0x38eca7,_0x24365e){const _0x4074b3=a158_0x5c836b;if(typeof Reflect===_0x4074b3(0x1bc)&&typeof Reflect[_0x4074b3(0x1b0)]===_0x4074b3(0x1bf))return Reflect[_0x4074b3(0x1b0)](_0x38eca7,_0x24365e);},__importDefault=this&&this[a158_0x5c836b(0x19e)]||function(_0x4b7412){const _0x5a01fa=a158_0x5c836b;return _0x4b7412&&_0x4b7412[_0x5a01fa(0x1a4)]?_0x4b7412:{'default':_0x4b7412};};Object['defineProperty'](exports,a158_0x5c836b(0x1a4),{'value':!![]}),exports[a158_0x5c836b(0x1c2)]=void 0x0;function a158_0x1fc9(_0x432cb9,_0x1b2262){const _0x280b19=a158_0x35d7();return a158_0x1fc9=function(_0x19f01f,_0x195d6e){_0x19f01f=_0x19f01f-0x19d;let _0x35d70c=_0x280b19[_0x19f01f];return _0x35d70c;},a158_0x1fc9(_0x432cb9,_0x1b2262);}function a158_0x35d7(){const _0x2a5366=['2140302YhoGKI','../../core','AppSettingsService','InternalServerError','object','190660pWVJrp','__metadata','function','6518886rkBCAO','appSettings','ProviderMiddleware','defineProperty','design:paramtypes','typedi','__decorate','search','get','__importDefault','getApi','Middleware','handle','UnauthorizedError','../../core/errors/internal-server.error','__esModule','./git-provider.manager','13307gycfhP','155BGsIlO','(((.+)+)+)+$','837xJcWPX','86NPkWSM','toString','default','length','headers','GitProviderManager','metadata','update','x-git-provider','apply','decorate','7919920pKSKPR','6767502XioUpO','32660eeTTKQ'];a158_0x35d7=function(){return _0x2a5366;};return a158_0x35d7();}const core_1=require(a158_0x5c836b(0x1b9)),unauthorized_error_1=require('../../core/errors/unauthorized.error'),typedi_1=__importDefault(require(a158_0x5c836b(0x1c5))),internal_server_error_1=require(a158_0x5c836b(0x1a3)),git_provider_manager_1=require(a158_0x5c836b(0x1a5)),app_settings_service_1=require('./services/app-settings.service');let ProviderMiddleware=class ProviderMiddleware{constructor(_0x12fe5e){const _0x1fa4c3=a158_0x5c836b;this[_0x1fa4c3(0x1c1)]=_0x12fe5e;}async[a158_0x5c836b(0x1a1)](_0x2c23b9,_0xe8f369){const _0x60982=a158_0x5c836b;if(_0x2c23b9['headers'][_0x60982(0x1b2)]){this[_0x60982(0x1c1)][_0x60982(0x1b1)]({'provider':_0x2c23b9['headers']['x-git-provider'][_0x60982(0x1ab)]()});const _0x2fe93f=typedi_1[_0x60982(0x1ac)][_0x60982(0x19d)](git_provider_manager_1[_0x60982(0x1af)])[_0x60982(0x19f)](_0x2c23b9[_0x60982(0x1ae)][_0x60982(0x1b2)][_0x60982(0x1ab)]());try{await _0x2fe93f['isLoggedIn']();}catch(_0x1e8a15){if(_0x1e8a15 instanceof internal_server_error_1[_0x60982(0x1bb)])throw _0x1e8a15;throw new unauthorized_error_1[(_0x60982(0x1a2))](_0x1e8a15);}}}};ProviderMiddleware=__decorate([core_1[a158_0x5c836b(0x1a0)]('before'),__metadata(a158_0x5c836b(0x1c4),[app_settings_service_1[a158_0x5c836b(0x1ba)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;