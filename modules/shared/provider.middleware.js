const a158_0x554eb2=a158_0x1fd8;(function(_0x4787ab,_0x509daf){const _0x28c43f=a158_0x1fd8,_0x25162c=_0x4787ab();while(!![]){try{const _0x2449dc=parseInt(_0x28c43f(0x1cd))/0x1*(-parseInt(_0x28c43f(0x1d1))/0x2)+-parseInt(_0x28c43f(0x1b1))/0x3*(-parseInt(_0x28c43f(0x1d6))/0x4)+-parseInt(_0x28c43f(0x1d7))/0x5*(-parseInt(_0x28c43f(0x1b6))/0x6)+parseInt(_0x28c43f(0x1d4))/0x7*(-parseInt(_0x28c43f(0x1bb))/0x8)+parseInt(_0x28c43f(0x1d9))/0x9*(-parseInt(_0x28c43f(0x1bf))/0xa)+-parseInt(_0x28c43f(0x1b4))/0xb*(-parseInt(_0x28c43f(0x1d0))/0xc)+-parseInt(_0x28c43f(0x1cf))/0xd*(-parseInt(_0x28c43f(0x1db))/0xe);if(_0x2449dc===_0x509daf)break;else _0x25162c['push'](_0x25162c['shift']());}catch(_0x20e802){_0x25162c['push'](_0x25162c['shift']());}}}(a158_0x18e2,0x6f0c3));const a158_0x4a57b8=(function(){let _0x3e96ab=!![];return function(_0x237ab3,_0x74768e){const _0x107852=_0x3e96ab?function(){const _0x5b0201=a158_0x1fd8;if(_0x74768e){const _0x438342=_0x74768e[_0x5b0201(0x1be)](_0x237ab3,arguments);return _0x74768e=null,_0x438342;}}:function(){};return _0x3e96ab=![],_0x107852;};}()),a158_0x1f5371=a158_0x4a57b8(this,function(){const _0x76068c=a158_0x1fd8;return a158_0x1f5371[_0x76068c(0x1b5)]()[_0x76068c(0x1cc)](_0x76068c(0x1cb))['toString']()['constructor'](a158_0x1f5371)[_0x76068c(0x1cc)](_0x76068c(0x1cb));});function a158_0x1fd8(_0x453969,_0x1554e0){const _0x2e811c=a158_0x18e2();return a158_0x1fd8=function(_0x1f5371,_0x4a57b8){_0x1f5371=_0x1f5371-0x1b1;let _0x18e225=_0x2e811c[_0x1f5371];return _0x18e225;},a158_0x1fd8(_0x453969,_0x1554e0);}a158_0x1f5371();'use strict';var __decorate=this&&this[a158_0x554eb2(0x1da)]||function(_0x90d89,_0x551bfe,_0x30562b,_0x58c33f){const _0x38b958=a158_0x554eb2;var _0x35810e=arguments['length'],_0x47681f=_0x35810e<0x3?_0x551bfe:_0x58c33f===null?_0x58c33f=Object[_0x38b958(0x1d2)](_0x551bfe,_0x30562b):_0x58c33f,_0x5e8cf1;if(typeof Reflect===_0x38b958(0x1b2)&&typeof Reflect[_0x38b958(0x1ca)]===_0x38b958(0x1bc))_0x47681f=Reflect[_0x38b958(0x1ca)](_0x90d89,_0x551bfe,_0x30562b,_0x58c33f);else{for(var _0x520fa6=_0x90d89[_0x38b958(0x1d3)]-0x1;_0x520fa6>=0x0;_0x520fa6--)if(_0x5e8cf1=_0x90d89[_0x520fa6])_0x47681f=(_0x35810e<0x3?_0x5e8cf1(_0x47681f):_0x35810e>0x3?_0x5e8cf1(_0x551bfe,_0x30562b,_0x47681f):_0x5e8cf1(_0x551bfe,_0x30562b))||_0x47681f;}return _0x35810e>0x3&&_0x47681f&&Object['defineProperty'](_0x551bfe,_0x30562b,_0x47681f),_0x47681f;},__metadata=this&&this[a158_0x554eb2(0x1c3)]||function(_0x50c35f,_0x3d86ad){if(typeof Reflect==='object'&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x50c35f,_0x3d86ad);},__importDefault=this&&this[a158_0x554eb2(0x1dc)]||function(_0x3091dd){return _0x3091dd&&_0x3091dd['__esModule']?_0x3091dd:{'default':_0x3091dd};};function a158_0x18e2(){const _0x30e3e1=['459LmAOyR','object','isLoggedIn','11jjaFHX','toString','25266WYRLuV','headers','defineProperty','design:paramtypes','Middleware','24AICnMx','function','UnauthorizedError','apply','20HdaEqf','x-git-provider','GitProviderManager','appSettings','__metadata','./git-provider.manager','ProviderMiddleware','update','__esModule','default','../../core/errors/unauthorized.error','decorate','(((.+)+)+)+$','search','5578AUnFSI','./services/app-settings.service','13wbZuPU','2665836IBIyLV','216MLKqpf','getOwnPropertyDescriptor','length','1363369kMgUXX','../../core/errors/internal-server.error','8716YwWpaL','15FGwvmO','get','3818007AiFhLU','__decorate','26905886UQwaJI','__importDefault','typedi','InternalServerError'];a158_0x18e2=function(){return _0x30e3e1;};return a158_0x18e2();}Object[a158_0x554eb2(0x1b8)](exports,a158_0x554eb2(0x1c7),{'value':!![]}),exports[a158_0x554eb2(0x1c5)]=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require(a158_0x554eb2(0x1c9)),typedi_1=__importDefault(require(a158_0x554eb2(0x1dd))),internal_server_error_1=require(a158_0x554eb2(0x1d5)),git_provider_manager_1=require(a158_0x554eb2(0x1c4)),app_settings_service_1=require(a158_0x554eb2(0x1ce));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x37a748){const _0x4d1d00=a158_0x554eb2;this[_0x4d1d00(0x1c2)]=_0x37a748;}async['handle'](_0x3ed7bb,_0x62fc43){const _0x4e1a8a=a158_0x554eb2;if(_0x3ed7bb[_0x4e1a8a(0x1b7)][_0x4e1a8a(0x1c0)]){this['appSettings'][_0x4e1a8a(0x1c6)]({'provider':_0x3ed7bb['headers'][_0x4e1a8a(0x1c0)][_0x4e1a8a(0x1b5)]()});const _0x217a00=typedi_1[_0x4e1a8a(0x1c8)][_0x4e1a8a(0x1d8)](git_provider_manager_1[_0x4e1a8a(0x1c1)])['getApi'](_0x3ed7bb['headers'][_0x4e1a8a(0x1c0)][_0x4e1a8a(0x1b5)]());try{await _0x217a00[_0x4e1a8a(0x1b3)]();}catch(_0x3211f2){if(_0x3211f2 instanceof internal_server_error_1[_0x4e1a8a(0x1de)])throw _0x3211f2;throw new unauthorized_error_1[(_0x4e1a8a(0x1bd))](_0x3211f2);}}}};ProviderMiddleware=__decorate([core_1[a158_0x554eb2(0x1ba)]('before'),__metadata(a158_0x554eb2(0x1b9),[app_settings_service_1['AppSettingsService']])],ProviderMiddleware),exports[a158_0x554eb2(0x1c5)]=ProviderMiddleware;