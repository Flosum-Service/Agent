function a158_0x35e8(){const _0x13e7e3=['search','get','metadata','object','constructor','__importDefault','GitProviderManager','2947221wPGzPO','10UjrgOa','./services/app-settings.service','handle','ProviderMiddleware','../../core/errors/unauthorized.error','design:paramtypes','default','Middleware','getApi','63QnsyvP','244392mQcmWO','3010876ZjomSD','(((.+)+)+)+$','decorate','UnauthorizedError','9317588pInWmo','x-git-provider','1936565UJraFy','getOwnPropertyDescriptor','headers','__esModule','6156400TbrTqh','1169132ssyrFv','AppSettingsService','function','12yfgmOu','update','./git-provider.manager','toString','InternalServerError'];a158_0x35e8=function(){return _0x13e7e3;};return a158_0x35e8();}const a158_0x6df6dd=a158_0xad65;(function(_0xdb7885,_0x222d15){const _0x41406c=a158_0xad65,_0x1ca076=_0xdb7885();while(!![]){try{const _0x24d151=parseInt(_0x41406c(0x1ab))/0x1+parseInt(_0x41406c(0x1a0))/0x2+parseInt(_0x41406c(0x19e))/0x3*(-parseInt(_0x41406c(0x19f))/0x4)+-parseInt(_0x41406c(0x1a6))/0x5*(parseInt(_0x41406c(0x1ae))/0x6)+parseInt(_0x41406c(0x1a4))/0x7+-parseInt(_0x41406c(0x1aa))/0x8+-parseInt(_0x41406c(0x194))/0x9*(parseInt(_0x41406c(0x195))/0xa);if(_0x24d151===_0x222d15)break;else _0x1ca076['push'](_0x1ca076['shift']());}catch(_0x4ca2b9){_0x1ca076['push'](_0x1ca076['shift']());}}}(a158_0x35e8,0xcfc07));const a158_0x405255=(function(){let _0x3337ce=!![];return function(_0x33d0f1,_0x47bde2){const _0x1a4d1b=_0x3337ce?function(){if(_0x47bde2){const _0x58930b=_0x47bde2['apply'](_0x33d0f1,arguments);return _0x47bde2=null,_0x58930b;}}:function(){};return _0x3337ce=![],_0x1a4d1b;};}()),a158_0x34e8c2=a158_0x405255(this,function(){const _0x267fbe=a158_0xad65;return a158_0x34e8c2['toString']()[_0x267fbe(0x18d)](_0x267fbe(0x1a1))[_0x267fbe(0x18b)]()[_0x267fbe(0x191)](a158_0x34e8c2)[_0x267fbe(0x18d)](_0x267fbe(0x1a1));});a158_0x34e8c2();'use strict';var __decorate=this&&this['__decorate']||function(_0x166912,_0x55012d,_0x2a15bb,_0x1b943d){const _0x2ef2d4=a158_0xad65;var _0x3531d9=arguments['length'],_0x3b0558=_0x3531d9<0x3?_0x55012d:_0x1b943d===null?_0x1b943d=Object[_0x2ef2d4(0x1a7)](_0x55012d,_0x2a15bb):_0x1b943d,_0x2fa564;if(typeof Reflect===_0x2ef2d4(0x190)&&typeof Reflect[_0x2ef2d4(0x1a2)]===_0x2ef2d4(0x1ad))_0x3b0558=Reflect[_0x2ef2d4(0x1a2)](_0x166912,_0x55012d,_0x2a15bb,_0x1b943d);else{for(var _0x3ceaf6=_0x166912['length']-0x1;_0x3ceaf6>=0x0;_0x3ceaf6--)if(_0x2fa564=_0x166912[_0x3ceaf6])_0x3b0558=(_0x3531d9<0x3?_0x2fa564(_0x3b0558):_0x3531d9>0x3?_0x2fa564(_0x55012d,_0x2a15bb,_0x3b0558):_0x2fa564(_0x55012d,_0x2a15bb))||_0x3b0558;}return _0x3531d9>0x3&&_0x3b0558&&Object['defineProperty'](_0x55012d,_0x2a15bb,_0x3b0558),_0x3b0558;},__metadata=this&&this['__metadata']||function(_0x356267,_0x5db62d){const _0x1b2d7d=a158_0xad65;if(typeof Reflect===_0x1b2d7d(0x190)&&typeof Reflect[_0x1b2d7d(0x18f)]==='function')return Reflect[_0x1b2d7d(0x18f)](_0x356267,_0x5db62d);},__importDefault=this&&this[a158_0x6df6dd(0x192)]||function(_0x10faaf){const _0x23e152=a158_0x6df6dd;return _0x10faaf&&_0x10faaf[_0x23e152(0x1a9)]?_0x10faaf:{'default':_0x10faaf};};function a158_0xad65(_0x3ae554,_0xec7926){const _0x1d6064=a158_0x35e8();return a158_0xad65=function(_0x34e8c2,_0x405255){_0x34e8c2=_0x34e8c2-0x18a;let _0x35e897=_0x1d6064[_0x34e8c2];return _0x35e897;},a158_0xad65(_0x3ae554,_0xec7926);}Object['defineProperty'](exports,a158_0x6df6dd(0x1a9),{'value':!![]}),exports[a158_0x6df6dd(0x198)]=void 0x0;const core_1=require('../../core'),unauthorized_error_1=require(a158_0x6df6dd(0x199)),typedi_1=__importDefault(require('typedi')),internal_server_error_1=require('../../core/errors/internal-server.error'),git_provider_manager_1=require(a158_0x6df6dd(0x18a)),app_settings_service_1=require(a158_0x6df6dd(0x196));let ProviderMiddleware=class ProviderMiddleware{constructor(_0x4b99fe){this['appSettings']=_0x4b99fe;}async[a158_0x6df6dd(0x197)](_0x37c32d,_0x132e5c){const _0x388576=a158_0x6df6dd;if(_0x37c32d[_0x388576(0x1a8)][_0x388576(0x1a5)]){this['appSettings'][_0x388576(0x1af)]({'provider':_0x37c32d[_0x388576(0x1a8)][_0x388576(0x1a5)][_0x388576(0x18b)]()});const _0x499c3b=typedi_1[_0x388576(0x19b)][_0x388576(0x18e)](git_provider_manager_1[_0x388576(0x193)])[_0x388576(0x19d)](_0x37c32d[_0x388576(0x1a8)][_0x388576(0x1a5)]['toString']());try{await _0x499c3b['isLoggedIn']();}catch(_0x265188){if(_0x265188 instanceof internal_server_error_1[_0x388576(0x18c)])throw _0x265188;throw new unauthorized_error_1[(_0x388576(0x1a3))](_0x265188);}}}};ProviderMiddleware=__decorate([core_1[a158_0x6df6dd(0x19c)]('before'),__metadata(a158_0x6df6dd(0x19a),[app_settings_service_1[a158_0x6df6dd(0x1ac)]])],ProviderMiddleware),exports['ProviderMiddleware']=ProviderMiddleware;