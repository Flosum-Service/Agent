const a319_0x23d3ee=a319_0x5a90;(function(_0x11777d,_0x467a87){const _0x16aa02=a319_0x5a90,_0x2802db=_0x11777d();while(!![]){try{const _0x1cf58f=-parseInt(_0x16aa02(0xf5))/0x1+parseInt(_0x16aa02(0xd5))/0x2+parseInt(_0x16aa02(0xd7))/0x3+-parseInt(_0x16aa02(0xe3))/0x4+parseInt(_0x16aa02(0xec))/0x5*(-parseInt(_0x16aa02(0xde))/0x6)+-parseInt(_0x16aa02(0xdf))/0x7+parseInt(_0x16aa02(0xf0))/0x8*(parseInt(_0x16aa02(0xd6))/0x9);if(_0x1cf58f===_0x467a87)break;else _0x2802db['push'](_0x2802db['shift']());}catch(_0x1741d8){_0x2802db['push'](_0x2802db['shift']());}}}(a319_0x36f8,0xd3b3a));const a319_0x27768e=(function(){let _0x13f8ba=!![];return function(_0x23fc26,_0x5a97f0){const _0x3840ba=_0x13f8ba?function(){const _0xd83976=a319_0x5a90;if(_0x5a97f0){const _0x2e2b8d=_0x5a97f0[_0xd83976(0xd0)](_0x23fc26,arguments);return _0x5a97f0=null,_0x2e2b8d;}}:function(){};return _0x13f8ba=![],_0x3840ba;};}()),a319_0x3c4feb=a319_0x27768e(this,function(){const _0x1777d9=a319_0x5a90;return a319_0x3c4feb[_0x1777d9(0xd9)]()[_0x1777d9(0xeb)](_0x1777d9(0xee))['toString']()['constructor'](a319_0x3c4feb)[_0x1777d9(0xeb)](_0x1777d9(0xee));});a319_0x3c4feb();'use strict';Object[a319_0x23d3ee(0xe9)](exports,a319_0x23d3ee(0xf4),{'value':!![]}),exports[a319_0x23d3ee(0xdb)]=exports[a319_0x23d3ee(0xea)]=exports[a319_0x23d3ee(0xe0)]=exports[a319_0x23d3ee(0xf2)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a319_0x23d3ee(0xef)),constants_1=require(a319_0x23d3ee(0xd2)),salesforce_request_1=require(a319_0x23d3ee(0xe4)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a319_0x23d3ee(0xd3)],FIELD_PARENT_ID=a319_0x23d3ee(0xdc),FIELD_ID='Id';async function retrieveAttachments(_0x426a16,_0xe1e968){const _0x4e8d38=a319_0x23d3ee;let _0x1878e7=0x0,_0x5ba6ae=0x0,_0x5add6a=[];const _0x1263e1=[];for(const _0xba22b8 of _0x426a16){if(_0xba22b8[_0x4e8d38(0xe1)]>REST_ATTACHMENT_MAX_SIZE){const _0x2e4708=await fetchAttachmentBody(_0xe1e968,_0xba22b8['Id']);_0x1263e1[_0x4e8d38(0xcf)]({'id':_0xba22b8['Id'],'values':{'Body':_0x2e4708[_0x4e8d38(0xd9)](_0x4e8d38(0xe5))}});continue;}if(_0xba22b8['BodyLength']+_0x1878e7>REST_ATTACHMENT_MAX_SIZE||_0x5ba6ae+0x1>=REST_ATTACHMENT_COUNT){const _0x320e9d=await fetchAttachments(_0xe1e968,BINARY_FIELDS,_0x5add6a);_0x1263e1[_0x4e8d38(0xcf)](..._0x320e9d),_0x5add6a=[],_0x1878e7=0x0,_0x5ba6ae=0x0;}_0x5add6a[_0x4e8d38(0xcf)](_0xba22b8['Id']),_0x1878e7+=_0xba22b8[_0x4e8d38(0xe1)],_0x5ba6ae++;}if(_0x5add6a['length']){const _0x1a4829=await fetchAttachments(_0xe1e968,BINARY_FIELDS,_0x5add6a);_0x1263e1[_0x4e8d38(0xcf)](..._0x1a4829);}return _0x1263e1;}exports[a319_0x23d3ee(0xd4)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x77f432,_0xf1f246){return fetchAttachmentsDetails(_0x77f432,FIELD_ID,_0xf1f246);}exports[a319_0x23d3ee(0xf2)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x23a775,_0x5cdd5c){return fetchAttachmentsDetails(_0x23a775,FIELD_PARENT_ID,_0x5cdd5c);}exports[a319_0x23d3ee(0xe0)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x41b110,_0x9d4ffa,_0x1aa22c){const _0x1efa87=a319_0x23d3ee,_0x457bfa=[],_0x17944c=(0x0,index_1['chunkArray'])(_0x1aa22c,CHUNK_QUERY_SIZE);for(const _0x1d794f of _0x17944c){const _0x2958da=_0x1efa87(0xd8)+_0x9d4ffa+_0x1efa87(0xdd)+('\x27'+_0x1d794f['join'](_0x1efa87(0xe6))+'\x27')+')',{data:_0x499b25}=await _0x41b110[_0x1efa87(0xe2)]('/services/data/'+constants_1[_0x1efa87(0xda)]+_0x1efa87(0xe8),{'params':{'q':_0x2958da}});_0x457bfa['push'](..._0x499b25['records']);}return _0x457bfa;}async function fetchAttachmentBody(_0x3a0300,_0x42ed70){const _0x780e4b=a319_0x23d3ee,{data:_0x320dcc}=await _0x3a0300[_0x780e4b(0xe2)]('/services/data/'+constants_1[_0x780e4b(0xda)]+_0x780e4b(0xe7)+_0x42ed70+_0x780e4b(0xf3),{'responseType':'arraybuffer'});return _0x320dcc;}exports[a319_0x23d3ee(0xea)]=fetchAttachmentBody;function a319_0x5a90(_0x129cf9,_0x543ffb){const _0x558c4b=a319_0x36f8();return a319_0x5a90=function(_0x3c4feb,_0x27768e){_0x3c4feb=_0x3c4feb-0xcf;let _0x36f81e=_0x558c4b[_0x3c4feb];return _0x36f81e;},a319_0x5a90(_0x129cf9,_0x543ffb);}async function fetchAttachments(_0x31517f,_0x394617,_0x48a346){const _0x16451d=a319_0x23d3ee,{data:_0x1bd1c9}=await _0x31517f[_0x16451d(0xd1)](_0x16451d(0xed)+salesforce_request_1[_0x16451d(0xf1)]+'/retrieveAttachments/',{'objectName':'Attachment','binaryFields':_0x394617,'recordIds':_0x48a346});return _0x1bd1c9;}function a319_0x36f8(){const _0x363466=['BodyLength','get','2420676gcsEDN','../../functions/utils/salesforce-request','base64','\x27,\x27','/sobjects/Attachment/','/query/','defineProperty','fetchAttachmentBody','search','324155awdRej','/services/apexrest','(((.+)+)+)+$','./index','40dxHkyU','namespace','fetchAttachmentsDetailsById','/body','__esModule','1510854HLLrNy','push','apply','post','../../../constants','Body','retrieveAttachments','91114KQraRF','4983714oCRSkD','3357651rjHvbw','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','toString','SALESFORCE_API_VERSION','fetchAttachments','ParentId','\x20IN\x20(','42UMXOZB','3475738luWJND','fetchAttachmentsDetailsByParentId'];a319_0x36f8=function(){return _0x363466;};return a319_0x36f8();}exports['fetchAttachments']=fetchAttachments;