const a319_0x2fa5b7=a319_0x43ad;(function(_0x208a79,_0x4a59ef){const _0x4cbe00=a319_0x43ad,_0x3459bd=_0x208a79();while(!![]){try{const _0xcbf8e6=-parseInt(_0x4cbe00(0x128))/0x1*(-parseInt(_0x4cbe00(0x12c))/0x2)+-parseInt(_0x4cbe00(0x12e))/0x3+-parseInt(_0x4cbe00(0x126))/0x4*(parseInt(_0x4cbe00(0x121))/0x5)+parseInt(_0x4cbe00(0x118))/0x6*(parseInt(_0x4cbe00(0x131))/0x7)+parseInt(_0x4cbe00(0x132))/0x8+-parseInt(_0x4cbe00(0x11b))/0x9*(parseInt(_0x4cbe00(0x11d))/0xa)+parseInt(_0x4cbe00(0x130))/0xb;if(_0xcbf8e6===_0x4a59ef)break;else _0x3459bd['push'](_0x3459bd['shift']());}catch(_0x2430b4){_0x3459bd['push'](_0x3459bd['shift']());}}}(a319_0x5cee,0x3135d));const a319_0x592cf4=(function(){let _0x322f13=!![];return function(_0x47391b,_0x3bafc6){const _0x3c7f0a=_0x322f13?function(){const _0x2e814a=a319_0x43ad;if(_0x3bafc6){const _0x49fa9e=_0x3bafc6[_0x2e814a(0x11a)](_0x47391b,arguments);return _0x3bafc6=null,_0x49fa9e;}}:function(){};return _0x322f13=![],_0x3c7f0a;};}()),a319_0x1d2041=a319_0x592cf4(this,function(){const _0x4e84c1=a319_0x43ad;return a319_0x1d2041['toString']()[_0x4e84c1(0x136)](_0x4e84c1(0x12f))[_0x4e84c1(0x115)]()[_0x4e84c1(0x11c)](a319_0x1d2041)['search'](_0x4e84c1(0x12f));});function a319_0x43ad(_0xd0638f,_0x3a113f){const _0xff9d6b=a319_0x5cee();return a319_0x43ad=function(_0x1d2041,_0x592cf4){_0x1d2041=_0x1d2041-0x10d;let _0x5cee2b=_0xff9d6b[_0x1d2041];return _0x5cee2b;},a319_0x43ad(_0xd0638f,_0x3a113f);}a319_0x1d2041();'use strict';Object['defineProperty'](exports,a319_0x2fa5b7(0x134),{'value':!![]}),exports[a319_0x2fa5b7(0x11e)]=exports[a319_0x2fa5b7(0x119)]=exports['fetchAttachmentsDetailsByParentId']=exports[a319_0x2fa5b7(0x127)]=exports[a319_0x2fa5b7(0x129)]=void 0x0;const index_1=require(a319_0x2fa5b7(0x133)),constants_1=require(a319_0x2fa5b7(0x114)),salesforce_request_1=require(a319_0x2fa5b7(0x111)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a319_0x2fa5b7(0x10f)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x32b222,_0x49b40c){const _0x4e0fe0=a319_0x2fa5b7;let _0x2d0076=0x0,_0x142294=0x0,_0x386ae8=[];const _0x2efc63=[];for(const _0x1dfb31 of _0x32b222){if(_0x1dfb31['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x546f56=await fetchAttachmentBody(_0x49b40c,_0x1dfb31['Id']);_0x2efc63['push']({'id':_0x1dfb31['Id'],'values':{'Body':_0x546f56[_0x4e0fe0(0x115)](_0x4e0fe0(0x117))}});continue;}if(_0x1dfb31[_0x4e0fe0(0x120)]+_0x2d0076>REST_ATTACHMENT_MAX_SIZE||_0x142294+0x1>=REST_ATTACHMENT_COUNT){const _0xdb42e9=await fetchAttachments(_0x49b40c,BINARY_FIELDS,_0x386ae8);_0x2efc63[_0x4e0fe0(0x123)](..._0xdb42e9),_0x386ae8=[],_0x2d0076=0x0,_0x142294=0x0;}_0x386ae8[_0x4e0fe0(0x123)](_0x1dfb31['Id']),_0x2d0076+=_0x1dfb31['BodyLength'],_0x142294++;}if(_0x386ae8[_0x4e0fe0(0x122)]){const _0x4ca10f=await fetchAttachments(_0x49b40c,BINARY_FIELDS,_0x386ae8);_0x2efc63[_0x4e0fe0(0x123)](..._0x4ca10f);}return _0x2efc63;}exports[a319_0x2fa5b7(0x129)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x202870,_0x42ff0c){return fetchAttachmentsDetails(_0x202870,FIELD_ID,_0x42ff0c);}exports[a319_0x2fa5b7(0x127)]=fetchAttachmentsDetailsById;function a319_0x5cee(){const _0x3ce6e6=['/services/data/','../../../constants','toString','/body','base64','37206BbNinY','fetchAttachmentBody','apply','268767xvyxnw','constructor','130vxIHZK','fetchAttachments','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','BodyLength','320690PauQvM','length','push','post','Attachment','24xaaMQJ','fetchAttachmentsDetailsById','1SEIoCT','retrieveAttachments','\x20IN\x20(','join','777654SRceNd','/retrieveAttachments/','824352DaQVgN','(((.+)+)+)+$','8888275YrizwT','56sFZpEX','23488CdipXl','./index','__esModule','get','search','\x27,\x27','arraybuffer','Body','records','../../functions/utils/salesforce-request','namespace'];a319_0x5cee=function(){return _0x3ce6e6;};return a319_0x5cee();}function fetchAttachmentsDetailsByParentId(_0x4c39c8,_0x277144){return fetchAttachmentsDetails(_0x4c39c8,FIELD_PARENT_ID,_0x277144);}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x13a185,_0x330f57,_0x5c0b56){const _0x5e2c8b=a319_0x2fa5b7,_0x41265d=[],_0x1de74e=(0x0,index_1['chunkArray'])(_0x5c0b56,CHUNK_QUERY_SIZE);for(const _0x2a3d19 of _0x1de74e){const _0x356ff4=_0x5e2c8b(0x11f)+_0x330f57+_0x5e2c8b(0x12a)+('\x27'+_0x2a3d19[_0x5e2c8b(0x12b)](_0x5e2c8b(0x10d))+'\x27')+')',{data:_0x797b8a}=await _0x13a185[_0x5e2c8b(0x135)](_0x5e2c8b(0x113)+constants_1['SALESFORCE_API_VERSION']+'/query/',{'params':{'q':_0x356ff4}});_0x41265d[_0x5e2c8b(0x123)](..._0x797b8a[_0x5e2c8b(0x110)]);}return _0x41265d;}async function fetchAttachmentBody(_0x3d4fff,_0x17e0ef){const _0x4f3c8d=a319_0x2fa5b7,{data:_0x559151}=await _0x3d4fff[_0x4f3c8d(0x135)](_0x4f3c8d(0x113)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x17e0ef+_0x4f3c8d(0x116),{'responseType':_0x4f3c8d(0x10e)});return _0x559151;}exports[a319_0x2fa5b7(0x119)]=fetchAttachmentBody;async function fetchAttachments(_0x1288b9,_0x40f300,_0x344c77){const _0x41df2e=a319_0x2fa5b7,{data:_0x22d94e}=await _0x1288b9[_0x41df2e(0x124)]('/services/apexrest'+salesforce_request_1[_0x41df2e(0x112)]+_0x41df2e(0x12d),{'objectName':_0x41df2e(0x125),'binaryFields':_0x40f300,'recordIds':_0x344c77});return _0x22d94e;}exports[a319_0x2fa5b7(0x11e)]=fetchAttachments;