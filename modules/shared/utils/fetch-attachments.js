const a282_0x18d50f=a282_0x147e;(function(_0x4eaae6,_0x590ca7){const _0x138fa7=a282_0x147e,_0x588e7b=_0x4eaae6();while(!![]){try{const _0xda2bbc=parseInt(_0x138fa7(0xb4))/0x1+-parseInt(_0x138fa7(0xd5))/0x2*(parseInt(_0x138fa7(0xb6))/0x3)+parseInt(_0x138fa7(0xce))/0x4*(parseInt(_0x138fa7(0xd4))/0x5)+-parseInt(_0x138fa7(0xc1))/0x6+parseInt(_0x138fa7(0xb1))/0x7+-parseInt(_0x138fa7(0xbf))/0x8+-parseInt(_0x138fa7(0xaf))/0x9*(-parseInt(_0x138fa7(0xd9))/0xa);if(_0xda2bbc===_0x590ca7)break;else _0x588e7b['push'](_0x588e7b['shift']());}catch(_0x51701b){_0x588e7b['push'](_0x588e7b['shift']());}}}(a282_0xf3df,0x8d5fa));const a282_0x2131ba=(function(){let _0x8dea6d=!![];return function(_0x490bd7,_0xe1aaa3){const _0x87d5=_0x8dea6d?function(){const _0xfafe97=a282_0x147e;if(_0xe1aaa3){const _0x4ffb35=_0xe1aaa3[_0xfafe97(0xc3)](_0x490bd7,arguments);return _0xe1aaa3=null,_0x4ffb35;}}:function(){};return _0x8dea6d=![],_0x87d5;};}()),a282_0x18ee92=a282_0x2131ba(this,function(){const _0xcf7f33=a282_0x147e;return a282_0x18ee92[_0xcf7f33(0xb9)]()[_0xcf7f33(0xb0)](_0xcf7f33(0xc0))[_0xcf7f33(0xb9)]()[_0xcf7f33(0xca)](a282_0x18ee92)[_0xcf7f33(0xb0)](_0xcf7f33(0xc0));});a282_0x18ee92();'use strict';Object[a282_0x18d50f(0xb2)](exports,a282_0x18d50f(0xc2),{'value':!![]}),exports[a282_0x18d50f(0xcf)]=exports['fetchAttachmentBody']=exports[a282_0x18d50f(0xb3)]=exports[a282_0x18d50f(0xc5)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a282_0x18d50f(0xb8)),constants_1=require(a282_0x18d50f(0xb7)),salesforce_request_1=require(a282_0x18d50f(0xb5)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a282_0x18d50f(0xd2)],FIELD_PARENT_ID=a282_0x18d50f(0xd7),FIELD_ID='Id';async function retrieveAttachments(_0x785de3,_0xd99762){const _0x5cefdb=a282_0x18d50f;let _0x1a2a91=0x0,_0x4c012b=0x0,_0x6712f8=[];const _0x543c05=[];for(const _0xe91936 of _0x785de3){if(_0xe91936[_0x5cefdb(0xcb)]>REST_ATTACHMENT_MAX_SIZE){const _0x26e5d4=await fetchAttachmentBody(_0xd99762,_0xe91936['Id']);_0x543c05[_0x5cefdb(0xd8)]({'id':_0xe91936['Id'],'values':{'Body':_0x26e5d4[_0x5cefdb(0xb9)](_0x5cefdb(0xcc))}});continue;}if(_0xe91936[_0x5cefdb(0xcb)]+_0x1a2a91>REST_ATTACHMENT_MAX_SIZE||_0x4c012b+0x1>=REST_ATTACHMENT_COUNT){const _0x2de0fe=await fetchAttachments(_0xd99762,BINARY_FIELDS,_0x6712f8);_0x543c05['push'](..._0x2de0fe),_0x6712f8=[],_0x1a2a91=0x0,_0x4c012b=0x0;}_0x6712f8[_0x5cefdb(0xd8)](_0xe91936['Id']),_0x1a2a91+=_0xe91936['BodyLength'],_0x4c012b++;}if(_0x6712f8[_0x5cefdb(0xc4)]){const _0x546a61=await fetchAttachments(_0xd99762,BINARY_FIELDS,_0x6712f8);_0x543c05[_0x5cefdb(0xd8)](..._0x546a61);}return _0x543c05;}function a282_0xf3df(){const _0x3063c2=['Body','Attachment','5wNqdlb','46sVIoKV','/body','ParentId','push','113060jsCdni','27kiaEUn','search','7560252KspSbl','defineProperty','fetchAttachmentsDetailsByParentId','158485BoHTMn','../../functions/utils/salesforce-request','67293tOuHHj','../../../constants','./index','toString','/services/apexrest','/sobjects/Attachment/','/retrieveAttachments/','arraybuffer','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','5883848iYDwhW','(((.+)+)+)+$','2807196lbqqge','__esModule','apply','length','fetchAttachmentsDetailsById','/services/data/','post','/query/','SALESFORCE_API_VERSION','constructor','BodyLength','base64','join','4103548xKHehU','fetchAttachments','\x27,\x27','get'];a282_0xf3df=function(){return _0x3063c2;};return a282_0xf3df();}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x3a3710,_0x10d4cb){return fetchAttachmentsDetails(_0x3a3710,FIELD_ID,_0x10d4cb);}function a282_0x147e(_0x42567e,_0x2153f1){const _0x4c587a=a282_0xf3df();return a282_0x147e=function(_0x18ee92,_0x2131ba){_0x18ee92=_0x18ee92-0xaf;let _0xf3df79=_0x4c587a[_0x18ee92];return _0xf3df79;},a282_0x147e(_0x42567e,_0x2153f1);}exports[a282_0x18d50f(0xc5)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3c5728,_0x495179){return fetchAttachmentsDetails(_0x3c5728,FIELD_PARENT_ID,_0x495179);}exports[a282_0x18d50f(0xb3)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x353b83,_0x4a8c7e,_0x2aa10f){const _0x1678f=a282_0x18d50f,_0xd677a5=[],_0x2fcd1f=(0x0,index_1['chunkArray'])(_0x2aa10f,CHUNK_QUERY_SIZE);for(const _0xf9c116 of _0x2fcd1f){const _0x476e30=_0x1678f(0xbe)+_0x4a8c7e+'\x20IN\x20('+('\x27'+_0xf9c116[_0x1678f(0xcd)](_0x1678f(0xd0))+'\x27')+')',{data:_0x42e955}=await _0x353b83[_0x1678f(0xd1)](_0x1678f(0xc6)+constants_1[_0x1678f(0xc9)]+_0x1678f(0xc8),{'params':{'q':_0x476e30}});_0xd677a5[_0x1678f(0xd8)](..._0x42e955['records']);}return _0xd677a5;}async function fetchAttachmentBody(_0x490ea6,_0x3474e2){const _0x1037ec=a282_0x18d50f,{data:_0x3dadbb}=await _0x490ea6[_0x1037ec(0xd1)]('/services/data/'+constants_1[_0x1037ec(0xc9)]+_0x1037ec(0xbb)+_0x3474e2+_0x1037ec(0xd6),{'responseType':_0x1037ec(0xbd)});return _0x3dadbb;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x23c6e3,_0x46cce7,_0x53735f){const _0xf7d218=a282_0x18d50f,{data:_0x596aa7}=await _0x23c6e3[_0xf7d218(0xc7)](_0xf7d218(0xba)+salesforce_request_1['namespace']+_0xf7d218(0xbc),{'objectName':_0xf7d218(0xd3),'binaryFields':_0x46cce7,'recordIds':_0x53735f});return _0x596aa7;}exports[a282_0x18d50f(0xcf)]=fetchAttachments;