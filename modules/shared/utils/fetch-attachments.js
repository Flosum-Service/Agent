const a280_0x473930=a280_0x4366;(function(_0x5243f1,_0x46cee5){const _0x19ff7b=a280_0x4366,_0x161202=_0x5243f1();while(!![]){try{const _0x4462d6=-parseInt(_0x19ff7b(0x1b5))/0x1*(-parseInt(_0x19ff7b(0x1c2))/0x2)+-parseInt(_0x19ff7b(0x1ca))/0x3*(-parseInt(_0x19ff7b(0x1af))/0x4)+parseInt(_0x19ff7b(0x1b3))/0x5*(-parseInt(_0x19ff7b(0x1be))/0x6)+parseInt(_0x19ff7b(0x1b1))/0x7+parseInt(_0x19ff7b(0x1a7))/0x8*(-parseInt(_0x19ff7b(0x1bd))/0x9)+parseInt(_0x19ff7b(0x1ba))/0xa+-parseInt(_0x19ff7b(0x1c4))/0xb*(parseInt(_0x19ff7b(0x1bf))/0xc);if(_0x4462d6===_0x46cee5)break;else _0x161202['push'](_0x161202['shift']());}catch(_0xbd52bd){_0x161202['push'](_0x161202['shift']());}}}(a280_0x4aa9,0x4844b));const a280_0x210095=(function(){let _0x24fb1a=!![];return function(_0xb3e042,_0x3d0fde){const _0x29a693=_0x24fb1a?function(){const _0x3e294e=a280_0x4366;if(_0x3d0fde){const _0x459d78=_0x3d0fde[_0x3e294e(0x1aa)](_0xb3e042,arguments);return _0x3d0fde=null,_0x459d78;}}:function(){};return _0x24fb1a=![],_0x29a693;};}()),a280_0x598f7a=a280_0x210095(this,function(){const _0x5e073d=a280_0x4366;return a280_0x598f7a['toString']()['search'](_0x5e073d(0x1bb))[_0x5e073d(0x1b7)]()[_0x5e073d(0x1d4)](a280_0x598f7a)[_0x5e073d(0x1b8)](_0x5e073d(0x1bb));});a280_0x598f7a();function a280_0x4aa9(){const _0x34bec2=['chunkArray','2938lPWxHS','retrieveAttachments','704jixRSu','arraybuffer','SALESFORCE_API_VERSION','BodyLength','\x27,\x27','fetchAttachments','321102AhbXFY','fetchAttachmentBody','../../functions/utils/salesforce-request','/body','get','fetchAttachmentsDetailsByParentId','push','../../../constants','length','/sobjects/Attachment/','constructor','515128nKSAbP','/retrieveAttachments/','base64','apply','namespace','records','/services/apexrest','Body','16bjbKky','join','2261364LdVuwZ','./index','35yvVHsL','/services/data/','39JzdMSm','fetchAttachmentsDetailsById','toString','search','defineProperty','5744340bDubMC','(((.+)+)+)+$','ParentId','63qRGnfD','292722PuDpdX','55248oVxWAd','post'];a280_0x4aa9=function(){return _0x34bec2;};return a280_0x4aa9();}'use strict';Object[a280_0x473930(0x1b9)](exports,'__esModule',{'value':!![]}),exports[a280_0x473930(0x1c9)]=exports[a280_0x473930(0x1cb)]=exports[a280_0x473930(0x1cf)]=exports[a280_0x473930(0x1b6)]=exports[a280_0x473930(0x1c3)]=void 0x0;const index_1=require(a280_0x473930(0x1b2)),constants_1=require(a280_0x473930(0x1d1)),salesforce_request_1=require(a280_0x473930(0x1cc)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a280_0x473930(0x1ae)],FIELD_PARENT_ID=a280_0x473930(0x1bc),FIELD_ID='Id';async function retrieveAttachments(_0x3cd3c0,_0x4e47a4){const _0x68768c=a280_0x473930;let _0x2d28aa=0x0,_0x283f84=0x0,_0x1e46a5=[];const _0x5d7936=[];for(const _0x5aae57 of _0x3cd3c0){if(_0x5aae57[_0x68768c(0x1c7)]>REST_ATTACHMENT_MAX_SIZE){const _0x400b76=await fetchAttachmentBody(_0x4e47a4,_0x5aae57['Id']);_0x5d7936[_0x68768c(0x1d0)]({'id':_0x5aae57['Id'],'values':{'Body':_0x400b76[_0x68768c(0x1b7)](_0x68768c(0x1a9))}});continue;}if(_0x5aae57[_0x68768c(0x1c7)]+_0x2d28aa>REST_ATTACHMENT_MAX_SIZE||_0x283f84+0x1>=REST_ATTACHMENT_COUNT){const _0x2886ed=await fetchAttachments(_0x4e47a4,BINARY_FIELDS,_0x1e46a5);_0x5d7936[_0x68768c(0x1d0)](..._0x2886ed),_0x1e46a5=[],_0x2d28aa=0x0,_0x283f84=0x0;}_0x1e46a5[_0x68768c(0x1d0)](_0x5aae57['Id']),_0x2d28aa+=_0x5aae57[_0x68768c(0x1c7)],_0x283f84++;}if(_0x1e46a5[_0x68768c(0x1d2)]){const _0x4685be=await fetchAttachments(_0x4e47a4,BINARY_FIELDS,_0x1e46a5);_0x5d7936[_0x68768c(0x1d0)](..._0x4685be);}return _0x5d7936;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x770d64,_0x193d35){return fetchAttachmentsDetails(_0x770d64,FIELD_ID,_0x193d35);}exports[a280_0x473930(0x1b6)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x518c46,_0x45f041){return fetchAttachmentsDetails(_0x518c46,FIELD_PARENT_ID,_0x45f041);}exports[a280_0x473930(0x1cf)]=fetchAttachmentsDetailsByParentId;function a280_0x4366(_0x1542c3,_0x292bc1){const _0x10a708=a280_0x4aa9();return a280_0x4366=function(_0x598f7a,_0x210095){_0x598f7a=_0x598f7a-0x1a7;let _0x4aa932=_0x10a708[_0x598f7a];return _0x4aa932;},a280_0x4366(_0x1542c3,_0x292bc1);}async function fetchAttachmentsDetails(_0x1fe061,_0x5417f1,_0x5bae51){const _0x3e5cdc=a280_0x473930,_0xd27a70=[],_0x525bfe=(0x0,index_1[_0x3e5cdc(0x1c1)])(_0x5bae51,CHUNK_QUERY_SIZE);for(const _0x49d760 of _0x525bfe){const _0x51e5c4='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0x5417f1+'\x20IN\x20('+('\x27'+_0x49d760[_0x3e5cdc(0x1b0)](_0x3e5cdc(0x1c8))+'\x27')+')',{data:_0x5c2b0e}=await _0x1fe061[_0x3e5cdc(0x1ce)](_0x3e5cdc(0x1b4)+constants_1[_0x3e5cdc(0x1c6)]+'/query/',{'params':{'q':_0x51e5c4}});_0xd27a70['push'](..._0x5c2b0e[_0x3e5cdc(0x1ac)]);}return _0xd27a70;}async function fetchAttachmentBody(_0x30a15a,_0x3793c2){const _0x37b95f=a280_0x473930,{data:_0x155fef}=await _0x30a15a[_0x37b95f(0x1ce)](_0x37b95f(0x1b4)+constants_1[_0x37b95f(0x1c6)]+_0x37b95f(0x1d3)+_0x3793c2+_0x37b95f(0x1cd),{'responseType':_0x37b95f(0x1c5)});return _0x155fef;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x54b938,_0x4de3b3,_0x43e73f){const _0x4818c3=a280_0x473930,{data:_0x15f327}=await _0x54b938[_0x4818c3(0x1c0)](_0x4818c3(0x1ad)+salesforce_request_1[_0x4818c3(0x1ab)]+_0x4818c3(0x1a8),{'objectName':'Attachment','binaryFields':_0x4de3b3,'recordIds':_0x43e73f});return _0x15f327;}exports[a280_0x473930(0x1c9)]=fetchAttachments;