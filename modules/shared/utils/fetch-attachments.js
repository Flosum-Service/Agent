const a280_0xf69de0=a280_0x7d7a;(function(_0x34460b,_0x1cfa01){const _0x551678=a280_0x7d7a,_0x2b8d7b=_0x34460b();while(!![]){try{const _0x5b2775=parseInt(_0x551678(0x8b))/0x1*(-parseInt(_0x551678(0x78))/0x2)+parseInt(_0x551678(0x8d))/0x3*(parseInt(_0x551678(0x70))/0x4)+parseInt(_0x551678(0x79))/0x5+-parseInt(_0x551678(0x80))/0x6*(parseInt(_0x551678(0x81))/0x7)+-parseInt(_0x551678(0x6c))/0x8+parseInt(_0x551678(0x76))/0x9*(-parseInt(_0x551678(0x73))/0xa)+parseInt(_0x551678(0x8f))/0xb;if(_0x5b2775===_0x1cfa01)break;else _0x2b8d7b['push'](_0x2b8d7b['shift']());}catch(_0x53f124){_0x2b8d7b['push'](_0x2b8d7b['shift']());}}}(a280_0xccdf,0x6d461));const a280_0x55763b=(function(){let _0x58b07c=!![];return function(_0x4226ed,_0x247fcb){const _0x26ce99=_0x58b07c?function(){if(_0x247fcb){const _0xd2933d=_0x247fcb['apply'](_0x4226ed,arguments);return _0x247fcb=null,_0xd2933d;}}:function(){};return _0x58b07c=![],_0x26ce99;};}()),a280_0x1aaa4b=a280_0x55763b(this,function(){const _0x269b2d=a280_0x7d7a;return a280_0x1aaa4b[_0x269b2d(0x94)]()[_0x269b2d(0x87)](_0x269b2d(0x7d))[_0x269b2d(0x94)]()[_0x269b2d(0x7a)](a280_0x1aaa4b)[_0x269b2d(0x87)](_0x269b2d(0x7d));});a280_0x1aaa4b();function a280_0x7d7a(_0x13e2db,_0x1bd8af){const _0x4715e2=a280_0xccdf();return a280_0x7d7a=function(_0x1aaa4b,_0x55763b){_0x1aaa4b=_0x1aaa4b-0x6c;let _0xccdf8f=_0x4715e2[_0x1aaa4b];return _0xccdf8f;},a280_0x7d7a(_0x13e2db,_0x1bd8af);}function a280_0xccdf(){const _0x2991ee=['records','base64','47930NYFKUe','\x20IN\x20(','/body','918WIcKdW','fetchAttachments','24VZWQnn','3126230TfUEZN','constructor','retrieveAttachments','/sobjects/Attachment/','(((.+)+)+)+$','fetchAttachmentsDetailsByParentId','arraybuffer','2597874rtdZBI','7GCHhxM','BodyLength','defineProperty','ParentId','/retrieveAttachments/','get','search','SALESFORCE_API_VERSION','length','fetchAttachmentBody','60773dUyifZ','__esModule','287286eIeNnY','../../../constants','15137716mMNsro','push','namespace','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','/query/','toString','3051888WKbckZ','Attachment','chunkArray','./index','20sPyudt'];a280_0xccdf=function(){return _0x2991ee;};return a280_0xccdf();}'use strict';Object[a280_0xf69de0(0x83)](exports,a280_0xf69de0(0x8c),{'value':!![]}),exports[a280_0xf69de0(0x77)]=exports['fetchAttachmentBody']=exports[a280_0xf69de0(0x7e)]=exports['fetchAttachmentsDetailsById']=exports[a280_0xf69de0(0x7b)]=void 0x0;const index_1=require(a280_0xf69de0(0x6f)),constants_1=require(a280_0xf69de0(0x8e)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a280_0xf69de0(0x84),FIELD_ID='Id';async function retrieveAttachments(_0x578b5c,_0x498bb0){const _0x358d23=a280_0xf69de0;let _0x52076e=0x0,_0x25c8f7=0x0,_0x12360b=[];const _0x239a77=[];for(const _0x269073 of _0x578b5c){if(_0x269073[_0x358d23(0x82)]>REST_ATTACHMENT_MAX_SIZE){const _0x39da1e=await fetchAttachmentBody(_0x498bb0,_0x269073['Id']);_0x239a77[_0x358d23(0x90)]({'id':_0x269073['Id'],'values':{'Body':_0x39da1e[_0x358d23(0x94)](_0x358d23(0x72))}});continue;}if(_0x269073[_0x358d23(0x82)]+_0x52076e>REST_ATTACHMENT_MAX_SIZE||_0x25c8f7+0x1>=REST_ATTACHMENT_COUNT){const _0x5e967d=await fetchAttachments(_0x498bb0,BINARY_FIELDS,_0x12360b);_0x239a77[_0x358d23(0x90)](..._0x5e967d),_0x12360b=[],_0x52076e=0x0,_0x25c8f7=0x0;}_0x12360b[_0x358d23(0x90)](_0x269073['Id']),_0x52076e+=_0x269073[_0x358d23(0x82)],_0x25c8f7++;}if(_0x12360b[_0x358d23(0x89)]){const _0x25a070=await fetchAttachments(_0x498bb0,BINARY_FIELDS,_0x12360b);_0x239a77['push'](..._0x25a070);}return _0x239a77;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x5bcf4c,_0x2210df){return fetchAttachmentsDetails(_0x5bcf4c,FIELD_ID,_0x2210df);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3ca5e6,_0x451d99){return fetchAttachmentsDetails(_0x3ca5e6,FIELD_PARENT_ID,_0x451d99);}exports[a280_0xf69de0(0x7e)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x14a010,_0x2973c5,_0x377552){const _0x2e4e20=a280_0xf69de0,_0x3302c2=[],_0x19b6a0=(0x0,index_1[_0x2e4e20(0x6e)])(_0x377552,CHUNK_QUERY_SIZE);for(const _0x553fe8 of _0x19b6a0){const _0x468b7f=_0x2e4e20(0x92)+_0x2973c5+_0x2e4e20(0x74)+('\x27'+_0x553fe8['join']('\x27,\x27')+'\x27')+')',{data:_0x4e20a4}=await _0x14a010[_0x2e4e20(0x86)]('/services/data/'+constants_1[_0x2e4e20(0x88)]+_0x2e4e20(0x93),{'params':{'q':_0x468b7f}});_0x3302c2[_0x2e4e20(0x90)](..._0x4e20a4[_0x2e4e20(0x71)]);}return _0x3302c2;}async function fetchAttachmentBody(_0x24ef48,_0x62e0b){const _0x51e33f=a280_0xf69de0,{data:_0x1324a7}=await _0x24ef48['get']('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x51e33f(0x7c)+_0x62e0b+_0x51e33f(0x75),{'responseType':_0x51e33f(0x7f)});return _0x1324a7;}exports[a280_0xf69de0(0x8a)]=fetchAttachmentBody;async function fetchAttachments(_0x3f1580,_0x6d917d,_0x3cbe47){const _0xb5f966=a280_0xf69de0,{data:_0x4330e1}=await _0x3f1580['post']('/services/apexrest'+salesforce_request_1[_0xb5f966(0x91)]+_0xb5f966(0x85),{'objectName':_0xb5f966(0x6d),'binaryFields':_0x6d917d,'recordIds':_0x3cbe47});return _0x4330e1;}exports[a280_0xf69de0(0x77)]=fetchAttachments;