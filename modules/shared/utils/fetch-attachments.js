const a227_0x19936c=a227_0x496f;(function(_0x62951b,_0x484f01){const _0x3d1c67=a227_0x496f,_0x40a2af=_0x62951b();while(!![]){try{const _0x120360=-parseInt(_0x3d1c67(0x113))/0x1+-parseInt(_0x3d1c67(0x107))/0x2+parseInt(_0x3d1c67(0x104))/0x3*(parseInt(_0x3d1c67(0x100))/0x4)+parseInt(_0x3d1c67(0x129))/0x5*(-parseInt(_0x3d1c67(0x101))/0x6)+parseInt(_0x3d1c67(0x10b))/0x7+parseInt(_0x3d1c67(0x126))/0x8*(parseInt(_0x3d1c67(0xff))/0x9)+parseInt(_0x3d1c67(0x11e))/0xa;if(_0x120360===_0x484f01)break;else _0x40a2af['push'](_0x40a2af['shift']());}catch(_0x1510b4){_0x40a2af['push'](_0x40a2af['shift']());}}}(a227_0x1655,0xdd180));const a227_0x53cea8=(function(){let _0x32e97f=!![];return function(_0x20704f,_0x4a5f14){const _0x354d1c=_0x32e97f?function(){const _0x36e8b7=a227_0x496f;if(_0x4a5f14){const _0x428594=_0x4a5f14[_0x36e8b7(0x118)](_0x20704f,arguments);return _0x4a5f14=null,_0x428594;}}:function(){};return _0x32e97f=![],_0x354d1c;};}()),a227_0x36f2e1=a227_0x53cea8(this,function(){const _0x38358b=a227_0x496f;return a227_0x36f2e1[_0x38358b(0x10c)]()[_0x38358b(0x110)](_0x38358b(0x127))['toString']()['constructor'](a227_0x36f2e1)['search']('(((.+)+)+)+$');});a227_0x36f2e1();function a227_0x496f(_0x47fb44,_0xf1ab68){const _0xbede52=a227_0x1655();return a227_0x496f=function(_0x36f2e1,_0x53cea8){_0x36f2e1=_0x36f2e1-0xff;let _0x16551a=_0xbede52[_0x36f2e1];return _0x16551a;},a227_0x496f(_0x47fb44,_0xf1ab68);}'use strict';function a227_0x1655(){const _0x33d5ff=['search','push','./index','1166527EUHahX','\x20IN\x20(','fetchAttachments','/body','/sobjects/Attachment/','apply','join','../../../constants','namespace','length','Body','4500310LjmWnj','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','fetchAttachmentBody','/services/apexrest','chunkArray','Attachment','/retrieveAttachments/','BodyLength','2503696EUUrbp','(((.+)+)+)+$','__esModule','70055KRshAH','get','fetchAttachmentsDetailsById','defineProperty','9klpRXb','4aTgzoS','162yXhuSn','/services/data/','arraybuffer','3009099kWwPfO','/query/','post','1087750RlCDwD','fetchAttachmentsDetailsByParentId','ParentId','base64','8597911AYzZic','toString','\x27,\x27','retrieveAttachments','SALESFORCE_API_VERSION'];a227_0x1655=function(){return _0x33d5ff;};return a227_0x1655();}Object[a227_0x19936c(0x12c)](exports,a227_0x19936c(0x128),{'value':!![]}),exports['fetchAttachments']=exports[a227_0x19936c(0x120)]=exports[a227_0x19936c(0x108)]=exports[a227_0x19936c(0x12b)]=exports[a227_0x19936c(0x10e)]=void 0x0;const index_1=require(a227_0x19936c(0x112)),constants_1=require(a227_0x19936c(0x11a)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a227_0x19936c(0x11d)],FIELD_PARENT_ID=a227_0x19936c(0x109),FIELD_ID='Id';async function retrieveAttachments(_0x24a943,_0x5b31bb){const _0x366987=a227_0x19936c;let _0x2be840=0x0,_0x42bf0b=0x0,_0x5bdd5f=[];const _0x34d55d=[];for(const _0x420c7b of _0x24a943){if(_0x420c7b['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x1d0aca=await fetchAttachmentBody(_0x5b31bb,_0x420c7b['Id']);_0x34d55d[_0x366987(0x111)]({'id':_0x420c7b['Id'],'values':{'Body':_0x1d0aca['toString'](_0x366987(0x10a))}});continue;}if(_0x420c7b['BodyLength']+_0x2be840>REST_ATTACHMENT_MAX_SIZE||_0x42bf0b+0x1>=REST_ATTACHMENT_COUNT){const _0x33ec91=await fetchAttachments(_0x5b31bb,BINARY_FIELDS,_0x5bdd5f);_0x34d55d['push'](..._0x33ec91),_0x5bdd5f=[],_0x2be840=0x0,_0x42bf0b=0x0;}_0x5bdd5f[_0x366987(0x111)](_0x420c7b['Id']),_0x2be840+=_0x420c7b[_0x366987(0x125)],_0x42bf0b++;}if(_0x5bdd5f[_0x366987(0x11c)]){const _0xf1889c=await fetchAttachments(_0x5b31bb,BINARY_FIELDS,_0x5bdd5f);_0x34d55d[_0x366987(0x111)](..._0xf1889c);}return _0x34d55d;}exports[a227_0x19936c(0x10e)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x2d06e7,_0x5e4195){return fetchAttachmentsDetails(_0x2d06e7,FIELD_ID,_0x5e4195);}exports[a227_0x19936c(0x12b)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x529d99,_0x4ebb1c){return fetchAttachmentsDetails(_0x529d99,FIELD_PARENT_ID,_0x4ebb1c);}exports[a227_0x19936c(0x108)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0xfd6438,_0x424384,_0x28b8cb){const _0x2ea0e6=a227_0x19936c,_0x4b5c0d=[],_0x16916d=(0x0,index_1[_0x2ea0e6(0x122)])(_0x28b8cb,CHUNK_QUERY_SIZE);for(const _0x225921 of _0x16916d){const _0x450b51=_0x2ea0e6(0x11f)+_0x424384+_0x2ea0e6(0x114)+('\x27'+_0x225921[_0x2ea0e6(0x119)](_0x2ea0e6(0x10d))+'\x27')+')',{data:_0x45aa3d}=await _0xfd6438[_0x2ea0e6(0x12a)](_0x2ea0e6(0x102)+constants_1[_0x2ea0e6(0x10f)]+_0x2ea0e6(0x105),{'params':{'q':_0x450b51}});_0x4b5c0d['push'](..._0x45aa3d['records']);}return _0x4b5c0d;}async function fetchAttachmentBody(_0x2f73ce,_0xe6218c){const _0xbb140f=a227_0x19936c,{data:_0x57d5d1}=await _0x2f73ce[_0xbb140f(0x12a)](_0xbb140f(0x102)+constants_1[_0xbb140f(0x10f)]+_0xbb140f(0x117)+_0xe6218c+_0xbb140f(0x116),{'responseType':_0xbb140f(0x103)});return _0x57d5d1;}exports[a227_0x19936c(0x120)]=fetchAttachmentBody;async function fetchAttachments(_0x47a73b,_0x3ba596,_0x373a80){const _0x3c6472=a227_0x19936c,{data:_0x43fae0}=await _0x47a73b[_0x3c6472(0x106)](_0x3c6472(0x121)+salesforce_request_1[_0x3c6472(0x11b)]+_0x3c6472(0x124),{'objectName':_0x3c6472(0x123),'binaryFields':_0x3ba596,'recordIds':_0x373a80});return _0x43fae0;}exports[a227_0x19936c(0x115)]=fetchAttachments;