const a332_0x504293=a332_0x5992;(function(_0x3f27da,_0x490dd2){const _0x5bbc97=a332_0x5992,_0x127523=_0x3f27da();while(!![]){try{const _0x3d8491=parseInt(_0x5bbc97(0x1b2))/0x1*(-parseInt(_0x5bbc97(0x1b5))/0x2)+parseInt(_0x5bbc97(0x1a3))/0x3*(parseInt(_0x5bbc97(0x187))/0x4)+parseInt(_0x5bbc97(0x19a))/0x5+-parseInt(_0x5bbc97(0x1ae))/0x6*(-parseInt(_0x5bbc97(0x198))/0x7)+parseInt(_0x5bbc97(0x1b1))/0x8+-parseInt(_0x5bbc97(0x1aa))/0x9*(parseInt(_0x5bbc97(0x18a))/0xa)+parseInt(_0x5bbc97(0x1b0))/0xb*(-parseInt(_0x5bbc97(0x188))/0xc);if(_0x3d8491===_0x490dd2)break;else _0x127523['push'](_0x127523['shift']());}catch(_0x3e8edf){_0x127523['push'](_0x127523['shift']());}}}(a332_0x23f6,0x4a921));const a332_0x4aeecd=(function(){let _0x56d3ef=!![];return function(_0x54ff6b,_0x3907d5){const _0x4b0caf=_0x56d3ef?function(){const _0x1ac354=a332_0x5992;if(_0x3907d5){const _0x1ef233=_0x3907d5[_0x1ac354(0x195)](_0x54ff6b,arguments);return _0x3907d5=null,_0x1ef233;}}:function(){};return _0x56d3ef=![],_0x4b0caf;};}()),a332_0x77f9ca=a332_0x4aeecd(this,function(){const _0x271dfe=a332_0x5992;return a332_0x77f9ca[_0x271dfe(0x1a2)]()[_0x271dfe(0x1a4)](_0x271dfe(0x1a8))[_0x271dfe(0x1a2)]()[_0x271dfe(0x18d)](a332_0x77f9ca)['search'](_0x271dfe(0x1a8));});a332_0x77f9ca();'use strict';Object[a332_0x504293(0x193)](exports,a332_0x504293(0x194),{'value':!![]}),exports[a332_0x504293(0x1b3)]=exports[a332_0x504293(0x19f)]=exports['fetchAttachmentsDetailsByParentId']=exports[a332_0x504293(0x18b)]=exports[a332_0x504293(0x18f)]=void 0x0;const index_1=require(a332_0x504293(0x1af)),constants_1=require('../../../constants'),salesforce_request_1=require(a332_0x504293(0x1ac)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a332_0x504293(0x18c)],FIELD_PARENT_ID=a332_0x504293(0x1a9),FIELD_ID='Id';async function retrieveAttachments(_0x5468e8,_0x13c095){const _0x4e1958=a332_0x504293;let _0x512e7b=0x0,_0xd59e34=0x0,_0xec8668=[];const _0x44f592=[];for(const _0x4938c4 of _0x5468e8){if(_0x4938c4[_0x4e1958(0x19e)]>REST_ATTACHMENT_MAX_SIZE){const _0x2ca616=await fetchAttachmentBody(_0x13c095,_0x4938c4['Id']);_0x44f592[_0x4e1958(0x1a6)]({'id':_0x4938c4['Id'],'values':{'Body':_0x2ca616[_0x4e1958(0x1a2)]('base64')}});continue;}if(_0x4938c4[_0x4e1958(0x19e)]+_0x512e7b>REST_ATTACHMENT_MAX_SIZE||_0xd59e34+0x1>=REST_ATTACHMENT_COUNT){const _0x565ead=await fetchAttachments(_0x13c095,BINARY_FIELDS,_0xec8668);_0x44f592[_0x4e1958(0x1a6)](..._0x565ead),_0xec8668=[],_0x512e7b=0x0,_0xd59e34=0x0;}_0xec8668[_0x4e1958(0x1a6)](_0x4938c4['Id']),_0x512e7b+=_0x4938c4[_0x4e1958(0x19e)],_0xd59e34++;}if(_0xec8668[_0x4e1958(0x191)]){const _0x330311=await fetchAttachments(_0x13c095,BINARY_FIELDS,_0xec8668);_0x44f592['push'](..._0x330311);}return _0x44f592;}exports[a332_0x504293(0x18f)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x5b8eb5,_0x322232){return fetchAttachmentsDetails(_0x5b8eb5,FIELD_ID,_0x322232);}exports[a332_0x504293(0x18b)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x42cca6,_0x103015){return fetchAttachmentsDetails(_0x42cca6,FIELD_PARENT_ID,_0x103015);}function a332_0x5992(_0x57f594,_0x66c8ea){const _0x2f10d6=a332_0x23f6();return a332_0x5992=function(_0x77f9ca,_0x4aeecd){_0x77f9ca=_0x77f9ca-0x186;let _0x23f668=_0x2f10d6[_0x77f9ca];return _0x23f668;},a332_0x5992(_0x57f594,_0x66c8ea);}exports[a332_0x504293(0x1a1)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x11e2d1,_0x22a779,_0x5eb777){const _0x172648=a332_0x504293,_0x171399=[],_0x11a02a=(0x0,index_1['chunkArray'])(_0x5eb777,CHUNK_QUERY_SIZE);for(const _0x4c4108 of _0x11a02a){const _0x418ce2=_0x172648(0x1a0)+_0x22a779+_0x172648(0x196)+('\x27'+_0x4c4108[_0x172648(0x19c)](_0x172648(0x1a7))+'\x27')+')',{data:_0x3f2367}=await _0x11e2d1[_0x172648(0x197)](_0x172648(0x1a5)+constants_1[_0x172648(0x1ad)]+_0x172648(0x18e),{'params':{'q':_0x418ce2}});_0x171399[_0x172648(0x1a6)](..._0x3f2367[_0x172648(0x1b4)]);}return _0x171399;}async function fetchAttachmentBody(_0x1eb867,_0x27c9e1){const _0x6ea147=a332_0x504293,{data:_0x278a59}=await _0x1eb867[_0x6ea147(0x197)](_0x6ea147(0x1a5)+constants_1[_0x6ea147(0x1ad)]+_0x6ea147(0x189)+_0x27c9e1+_0x6ea147(0x1ab),{'responseType':_0x6ea147(0x19b)});return _0x278a59;}exports[a332_0x504293(0x19f)]=fetchAttachmentBody;function a332_0x23f6(){const _0x2977a2=['114ZBtizD','./index','22ybcdbT','37976LVQXLz','5bRfLIJ','fetchAttachments','records','1854YTcEuW','post','1009648kOTmSJ','1763868CvIjAx','/sobjects/Attachment/','1118380wGNxyJ','fetchAttachmentsDetailsById','Body','constructor','/query/','retrieveAttachments','/retrieveAttachments/','length','Attachment','defineProperty','__esModule','apply','\x20IN\x20(','get','141785THYMWq','namespace','2047010UDjNYx','arraybuffer','join','/services/apexrest','BodyLength','fetchAttachmentBody','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','fetchAttachmentsDetailsByParentId','toString','3MkFeRU','search','/services/data/','push','\x27,\x27','(((.+)+)+)+$','ParentId','36NlLDlf','/body','../../functions/utils/salesforce-request','SALESFORCE_API_VERSION'];a332_0x23f6=function(){return _0x2977a2;};return a332_0x23f6();}async function fetchAttachments(_0xb15950,_0x1f0998,_0x1a1fdf){const _0xc5b026=a332_0x504293,{data:_0x5f277b}=await _0xb15950[_0xc5b026(0x186)](_0xc5b026(0x19d)+salesforce_request_1[_0xc5b026(0x199)]+_0xc5b026(0x190),{'objectName':_0xc5b026(0x192),'binaryFields':_0x1f0998,'recordIds':_0x1a1fdf});return _0x5f277b;}exports[a332_0x504293(0x1b3)]=fetchAttachments;