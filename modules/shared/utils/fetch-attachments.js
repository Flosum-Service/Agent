const a331_0x4bfa03=a331_0x1824;(function(_0x4b5723,_0x39962b){const _0x11322e=a331_0x1824,_0x525c4b=_0x4b5723();while(!![]){try{const _0x290526=-parseInt(_0x11322e(0xcd))/0x1*(-parseInt(_0x11322e(0xc4))/0x2)+parseInt(_0x11322e(0xbd))/0x3*(parseInt(_0x11322e(0xd9))/0x4)+parseInt(_0x11322e(0xbe))/0x5*(parseInt(_0x11322e(0xd7))/0x6)+parseInt(_0x11322e(0xc2))/0x7*(-parseInt(_0x11322e(0xb7))/0x8)+parseInt(_0x11322e(0xc1))/0x9+-parseInt(_0x11322e(0xb6))/0xa*(parseInt(_0x11322e(0xc9))/0xb)+parseInt(_0x11322e(0xcf))/0xc;if(_0x290526===_0x39962b)break;else _0x525c4b['push'](_0x525c4b['shift']());}catch(_0x22fe42){_0x525c4b['push'](_0x525c4b['shift']());}}}(a331_0x1a6b,0xc9646));const a331_0x1c715b=(function(){let _0x335026=!![];return function(_0x483f96,_0x4eccc1){const _0x68965e=_0x335026?function(){const _0x100b9c=a331_0x1824;if(_0x4eccc1){const _0x3bb2b3=_0x4eccc1[_0x100b9c(0xd6)](_0x483f96,arguments);return _0x4eccc1=null,_0x3bb2b3;}}:function(){};return _0x335026=![],_0x68965e;};}()),a331_0x1bd5ab=a331_0x1c715b(this,function(){const _0x3790e1=a331_0x1824;return a331_0x1bd5ab[_0x3790e1(0xbc)]()['search'](_0x3790e1(0xba))[_0x3790e1(0xbc)]()[_0x3790e1(0xd2)](a331_0x1bd5ab)[_0x3790e1(0xbb)](_0x3790e1(0xba));});a331_0x1bd5ab();function a331_0x1824(_0x2c1222,_0x34ce1a){const _0x2d6004=a331_0x1a6b();return a331_0x1824=function(_0x1bd5ab,_0x1c715b){_0x1bd5ab=_0x1bd5ab-0xb3;let _0x1a6bd9=_0x2d6004[_0x1bd5ab];return _0x1a6bd9;},a331_0x1824(_0x2c1222,_0x34ce1a);}'use strict';Object[a331_0x4bfa03(0xc3)](exports,a331_0x4bfa03(0xd4),{'value':!![]}),exports[a331_0x4bfa03(0xc6)]=exports[a331_0x4bfa03(0xd5)]=exports['fetchAttachmentsDetailsByParentId']=exports[a331_0x4bfa03(0xdf)]=exports[a331_0x4bfa03(0xb5)]=void 0x0;const index_1=require(a331_0x4bfa03(0xdb)),constants_1=require(a331_0x4bfa03(0xde)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a331_0x4bfa03(0xda)],FIELD_PARENT_ID=a331_0x4bfa03(0xb8),FIELD_ID='Id';async function retrieveAttachments(_0x5e1fb9,_0x52a9f8){const _0x3e747f=a331_0x4bfa03;let _0xbcb892=0x0,_0x6a0a1d=0x0,_0x6845e5=[];const _0x29e730=[];for(const _0x47e6d8 of _0x5e1fb9){if(_0x47e6d8[_0x3e747f(0xce)]>REST_ATTACHMENT_MAX_SIZE){const _0x2387d3=await fetchAttachmentBody(_0x52a9f8,_0x47e6d8['Id']);_0x29e730[_0x3e747f(0xd0)]({'id':_0x47e6d8['Id'],'values':{'Body':_0x2387d3['toString'](_0x3e747f(0xc5))}});continue;}if(_0x47e6d8[_0x3e747f(0xce)]+_0xbcb892>REST_ATTACHMENT_MAX_SIZE||_0x6a0a1d+0x1>=REST_ATTACHMENT_COUNT){const _0x6b45ef=await fetchAttachments(_0x52a9f8,BINARY_FIELDS,_0x6845e5);_0x29e730['push'](..._0x6b45ef),_0x6845e5=[],_0xbcb892=0x0,_0x6a0a1d=0x0;}_0x6845e5[_0x3e747f(0xd0)](_0x47e6d8['Id']),_0xbcb892+=_0x47e6d8['BodyLength'],_0x6a0a1d++;}if(_0x6845e5[_0x3e747f(0xb4)]){const _0x2f6b17=await fetchAttachments(_0x52a9f8,BINARY_FIELDS,_0x6845e5);_0x29e730[_0x3e747f(0xd0)](..._0x2f6b17);}return _0x29e730;}exports[a331_0x4bfa03(0xb5)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x3f69c0,_0x68dac9){return fetchAttachmentsDetails(_0x3f69c0,FIELD_ID,_0x68dac9);}exports[a331_0x4bfa03(0xdf)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x5ca9e7,_0x1ce1ca){return fetchAttachmentsDetails(_0x5ca9e7,FIELD_PARENT_ID,_0x1ce1ca);}exports[a331_0x4bfa03(0xcb)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x18019c,_0xaaf189,_0x1c2e0f){const _0x9724d5=a331_0x4bfa03,_0x37fd5d=[],_0x817e10=(0x0,index_1['chunkArray'])(_0x1c2e0f,CHUNK_QUERY_SIZE);for(const _0x1e724c of _0x817e10){const _0x5a642c='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0xaaf189+'\x20IN\x20('+('\x27'+_0x1e724c[_0x9724d5(0xcc)](_0x9724d5(0xdc))+'\x27')+')',{data:_0x4b54cb}=await _0x18019c[_0x9724d5(0xc7)]('/services/data/'+constants_1[_0x9724d5(0xc0)]+_0x9724d5(0xd3),{'params':{'q':_0x5a642c}});_0x37fd5d[_0x9724d5(0xd0)](..._0x4b54cb[_0x9724d5(0xe0)]);}return _0x37fd5d;}async function fetchAttachmentBody(_0x4c316c,_0x65382f){const _0x438a5e=a331_0x4bfa03,{data:_0x50424f}=await _0x4c316c[_0x438a5e(0xc7)]('/services/data/'+constants_1[_0x438a5e(0xc0)]+_0x438a5e(0xbf)+_0x65382f+_0x438a5e(0xca),{'responseType':_0x438a5e(0xd1)});return _0x50424f;}exports[a331_0x4bfa03(0xd5)]=fetchAttachmentBody;function a331_0x1a6b(){const _0x284622=['12dhVNdd','Attachment','8SshJSd','Body','./index','\x27,\x27','post','../../../constants','fetchAttachmentsDetailsById','records','/retrieveAttachments/','length','retrieveAttachments','1510VdCFNZ','2152696aptiRC','ParentId','/services/apexrest','(((.+)+)+)+$','search','toString','1930089DYgyzj','550765CpvejR','/sobjects/Attachment/','SALESFORCE_API_VERSION','7212888ooeGsk','21gmYYWM','defineProperty','2534shZybl','base64','fetchAttachments','get','namespace','110495WPtUwA','/body','fetchAttachmentsDetailsByParentId','join','643IyrpaB','BodyLength','309756RfZxZZ','push','arraybuffer','constructor','/query/','__esModule','fetchAttachmentBody','apply'];a331_0x1a6b=function(){return _0x284622;};return a331_0x1a6b();}async function fetchAttachments(_0xaa14cc,_0x3209c8,_0x4b077c){const _0x58b05b=a331_0x4bfa03,{data:_0x6af3d9}=await _0xaa14cc[_0x58b05b(0xdd)](_0x58b05b(0xb9)+salesforce_request_1[_0x58b05b(0xc8)]+_0x58b05b(0xb3),{'objectName':_0x58b05b(0xd8),'binaryFields':_0x3209c8,'recordIds':_0x4b077c});return _0x6af3d9;}exports[a331_0x4bfa03(0xc6)]=fetchAttachments;