const a280_0x54a3d9=a280_0x10ad;(function(_0x1c1820,_0x42acef){const _0x1908a0=a280_0x10ad,_0x54af1b=_0x1c1820();while(!![]){try{const _0x4a29b5=parseInt(_0x1908a0(0xf2))/0x1*(-parseInt(_0x1908a0(0xe6))/0x2)+-parseInt(_0x1908a0(0xdb))/0x3+parseInt(_0x1908a0(0xec))/0x4+parseInt(_0x1908a0(0xd8))/0x5+-parseInt(_0x1908a0(0xf1))/0x6+parseInt(_0x1908a0(0xef))/0x7+parseInt(_0x1908a0(0xe9))/0x8;if(_0x4a29b5===_0x42acef)break;else _0x54af1b['push'](_0x54af1b['shift']());}catch(_0x5721b8){_0x54af1b['push'](_0x54af1b['shift']());}}}(a280_0x4cc7,0x243fc));function a280_0x10ad(_0x5da52b,_0xc2e1a9){const _0x5f2de6=a280_0x4cc7();return a280_0x10ad=function(_0x2953f8,_0x2405dd){_0x2953f8=_0x2953f8-0xd2;let _0x4cc70c=_0x5f2de6[_0x2953f8];return _0x4cc70c;},a280_0x10ad(_0x5da52b,_0xc2e1a9);}const a280_0x2405dd=(function(){let _0x3df45b=!![];return function(_0x1b1ca4,_0x5028f4){const _0x311315=_0x3df45b?function(){const _0x5acaea=a280_0x10ad;if(_0x5028f4){const _0x52dbfe=_0x5028f4[_0x5acaea(0xf8)](_0x1b1ca4,arguments);return _0x5028f4=null,_0x52dbfe;}}:function(){};return _0x3df45b=![],_0x311315;};}()),a280_0x2953f8=a280_0x2405dd(this,function(){const _0x110824=a280_0x10ad;return a280_0x2953f8[_0x110824(0xfa)]()[_0x110824(0xf4)]('(((.+)+)+)+$')[_0x110824(0xfa)]()[_0x110824(0xdf)](a280_0x2953f8)[_0x110824(0xf4)](_0x110824(0xda));});function a280_0x4cc7(){const _0x34705b=['\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','apply','./index','toString','../../../constants','Attachment','\x20IN\x20(','namespace','base64','post','201755UZJDhD','fetchAttachmentBody','(((.+)+)+)+$','438042nFQwaz','records','fetchAttachmentsDetailsById','\x27,\x27','constructor','retrieveAttachments','ParentId','/services/apexrest','push','/query/','/sobjects/Attachment/','2606PfajDC','fetchAttachmentsDetailsByParentId','fetchAttachments','4080400wqAMfT','BodyLength','chunkArray','311840DRWTOD','arraybuffer','/services/data/','730562hUkwoY','__esModule','1652172YXlTnR','125JSiAQx','SALESFORCE_API_VERSION','search','get','defineProperty'];a280_0x4cc7=function(){return _0x34705b;};return a280_0x4cc7();}a280_0x2953f8();'use strict';Object[a280_0x54a3d9(0xf6)](exports,a280_0x54a3d9(0xf0),{'value':!![]}),exports['fetchAttachments']=exports[a280_0x54a3d9(0xd9)]=exports[a280_0x54a3d9(0xe7)]=exports['fetchAttachmentsDetailsById']=exports[a280_0x54a3d9(0xe0)]=void 0x0;const index_1=require(a280_0x54a3d9(0xf9)),constants_1=require(a280_0x54a3d9(0xd2)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a280_0x54a3d9(0xe1),FIELD_ID='Id';async function retrieveAttachments(_0x80a1f6,_0x1a4b5a){const _0x32b5d0=a280_0x54a3d9;let _0x4c527c=0x0,_0x20afae=0x0,_0x49c430=[];const _0x21399b=[];for(const _0x88f040 of _0x80a1f6){if(_0x88f040[_0x32b5d0(0xea)]>REST_ATTACHMENT_MAX_SIZE){const _0x4fdee0=await fetchAttachmentBody(_0x1a4b5a,_0x88f040['Id']);_0x21399b[_0x32b5d0(0xe3)]({'id':_0x88f040['Id'],'values':{'Body':_0x4fdee0['toString'](_0x32b5d0(0xd6))}});continue;}if(_0x88f040[_0x32b5d0(0xea)]+_0x4c527c>REST_ATTACHMENT_MAX_SIZE||_0x20afae+0x1>=REST_ATTACHMENT_COUNT){const _0x5ccfe4=await fetchAttachments(_0x1a4b5a,BINARY_FIELDS,_0x49c430);_0x21399b[_0x32b5d0(0xe3)](..._0x5ccfe4),_0x49c430=[],_0x4c527c=0x0,_0x20afae=0x0;}_0x49c430[_0x32b5d0(0xe3)](_0x88f040['Id']),_0x4c527c+=_0x88f040[_0x32b5d0(0xea)],_0x20afae++;}if(_0x49c430['length']){const _0x2ae4b6=await fetchAttachments(_0x1a4b5a,BINARY_FIELDS,_0x49c430);_0x21399b['push'](..._0x2ae4b6);}return _0x21399b;}exports[a280_0x54a3d9(0xe0)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x4c36ea,_0x361788){return fetchAttachmentsDetails(_0x4c36ea,FIELD_ID,_0x361788);}exports[a280_0x54a3d9(0xdd)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x4ab238,_0x4a7dba){return fetchAttachmentsDetails(_0x4ab238,FIELD_PARENT_ID,_0x4a7dba);}exports[a280_0x54a3d9(0xe7)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5a5c0f,_0x19c3a3,_0x260465){const _0x111702=a280_0x54a3d9,_0x791a7f=[],_0x448691=(0x0,index_1[_0x111702(0xeb)])(_0x260465,CHUNK_QUERY_SIZE);for(const _0x26d58b of _0x448691){const _0x42b04a=_0x111702(0xf7)+_0x19c3a3+_0x111702(0xd4)+('\x27'+_0x26d58b['join'](_0x111702(0xde))+'\x27')+')',{data:_0x1aced5}=await _0x5a5c0f[_0x111702(0xf5)](_0x111702(0xee)+constants_1[_0x111702(0xf3)]+_0x111702(0xe4),{'params':{'q':_0x42b04a}});_0x791a7f['push'](..._0x1aced5[_0x111702(0xdc)]);}return _0x791a7f;}async function fetchAttachmentBody(_0x48554a,_0x345b1a){const _0x5853ed=a280_0x54a3d9,{data:_0x5ab1ff}=await _0x48554a[_0x5853ed(0xf5)](_0x5853ed(0xee)+constants_1['SALESFORCE_API_VERSION']+_0x5853ed(0xe5)+_0x345b1a+'/body',{'responseType':_0x5853ed(0xed)});return _0x5ab1ff;}exports[a280_0x54a3d9(0xd9)]=fetchAttachmentBody;async function fetchAttachments(_0x51c457,_0x3bc366,_0x53f29a){const _0x467413=a280_0x54a3d9,{data:_0xf389f7}=await _0x51c457[_0x467413(0xd7)](_0x467413(0xe2)+salesforce_request_1[_0x467413(0xd5)]+'/retrieveAttachments/',{'objectName':_0x467413(0xd3),'binaryFields':_0x3bc366,'recordIds':_0x53f29a});return _0xf389f7;}exports[a280_0x54a3d9(0xe8)]=fetchAttachments;