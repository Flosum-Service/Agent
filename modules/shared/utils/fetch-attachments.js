const a303_0x4e4cbe=a303_0x1cc7;(function(_0x2641bb,_0x154783){const _0x2919f1=a303_0x1cc7,_0x2f38fa=_0x2641bb();while(!![]){try{const _0x73e23e=parseInt(_0x2919f1(0x142))/0x1*(-parseInt(_0x2919f1(0x116))/0x2)+parseInt(_0x2919f1(0x131))/0x3*(-parseInt(_0x2919f1(0x11b))/0x4)+parseInt(_0x2919f1(0x121))/0x5*(-parseInt(_0x2919f1(0x11d))/0x6)+parseInt(_0x2919f1(0x13d))/0x7*(parseInt(_0x2919f1(0x12a))/0x8)+-parseInt(_0x2919f1(0x120))/0x9+-parseInt(_0x2919f1(0x126))/0xa*(-parseInt(_0x2919f1(0x12c))/0xb)+parseInt(_0x2919f1(0x13a))/0xc*(parseInt(_0x2919f1(0x11e))/0xd);if(_0x73e23e===_0x154783)break;else _0x2f38fa['push'](_0x2f38fa['shift']());}catch(_0xd07efa){_0x2f38fa['push'](_0x2f38fa['shift']());}}}(a303_0x1597,0xf3ecc));const a303_0x5c65c7=(function(){let _0x4fb166=!![];return function(_0x39fd87,_0x39764a){const _0x305dcf=_0x4fb166?function(){const _0x8c2d79=a303_0x1cc7;if(_0x39764a){const _0x2b9a21=_0x39764a[_0x8c2d79(0x13e)](_0x39fd87,arguments);return _0x39764a=null,_0x2b9a21;}}:function(){};return _0x4fb166=![],_0x305dcf;};}()),a303_0x254625=a303_0x5c65c7(this,function(){const _0x96b44=a303_0x1cc7;return a303_0x254625[_0x96b44(0x133)]()[_0x96b44(0x13f)](_0x96b44(0x139))['toString']()['constructor'](a303_0x254625)[_0x96b44(0x13f)](_0x96b44(0x139));});function a303_0x1cc7(_0x1779a4,_0x3d9a06){const _0x249b58=a303_0x1597();return a303_0x1cc7=function(_0x254625,_0x5c65c7){_0x254625=_0x254625-0x116;let _0x159768=_0x249b58[_0x254625];return _0x159768;},a303_0x1cc7(_0x1779a4,_0x3d9a06);}a303_0x254625();'use strict';function a303_0x1597(){const _0xbc83a2=['toString','defineProperty','/services/apexrest','/retrieveAttachments/','fetchAttachmentsDetailsById','records','(((.+)+)+)+$','60187044dWSrZJ','../../../constants','base64','7ifHyiz','apply','search','BodyLength','\x27,\x27','33uQGDok','47190CXuSwK','arraybuffer','retrieveAttachments','/services/data/','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','6730088AMiShM','SALESFORCE_API_VERSION','24tSTnhX','13loHVLU','Body','16641747FnWqfg','2314015vGeIrk','join','chunkArray','fetchAttachments','ParentId','692290OrTQrF','post','get','__esModule','3867880jIaqbA','fetchAttachmentsDetailsByParentId','264FQAiVD','fetchAttachmentBody','push','/sobjects/Attachment/','/body','3mFcAyt','Attachment'];a303_0x1597=function(){return _0xbc83a2;};return a303_0x1597();}Object[a303_0x4e4cbe(0x134)](exports,a303_0x4e4cbe(0x129),{'value':!![]}),exports[a303_0x4e4cbe(0x124)]=exports[a303_0x4e4cbe(0x12d)]=exports[a303_0x4e4cbe(0x12b)]=exports[a303_0x4e4cbe(0x137)]=exports[a303_0x4e4cbe(0x118)]=void 0x0;const index_1=require('./index'),constants_1=require(a303_0x4e4cbe(0x13b)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a303_0x4e4cbe(0x11f)],FIELD_PARENT_ID=a303_0x4e4cbe(0x125),FIELD_ID='Id';async function retrieveAttachments(_0x3073b3,_0x3bd847){const _0xf8ade6=a303_0x4e4cbe;let _0x3f9d3c=0x0,_0x9dda69=0x0,_0x4404aa=[];const _0x438417=[];for(const _0x4ccbf3 of _0x3073b3){if(_0x4ccbf3['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x47da40=await fetchAttachmentBody(_0x3bd847,_0x4ccbf3['Id']);_0x438417[_0xf8ade6(0x12e)]({'id':_0x4ccbf3['Id'],'values':{'Body':_0x47da40['toString'](_0xf8ade6(0x13c))}});continue;}if(_0x4ccbf3[_0xf8ade6(0x140)]+_0x3f9d3c>REST_ATTACHMENT_MAX_SIZE||_0x9dda69+0x1>=REST_ATTACHMENT_COUNT){const _0x1075bf=await fetchAttachments(_0x3bd847,BINARY_FIELDS,_0x4404aa);_0x438417[_0xf8ade6(0x12e)](..._0x1075bf),_0x4404aa=[],_0x3f9d3c=0x0,_0x9dda69=0x0;}_0x4404aa[_0xf8ade6(0x12e)](_0x4ccbf3['Id']),_0x3f9d3c+=_0x4ccbf3['BodyLength'],_0x9dda69++;}if(_0x4404aa['length']){const _0x6d05c6=await fetchAttachments(_0x3bd847,BINARY_FIELDS,_0x4404aa);_0x438417[_0xf8ade6(0x12e)](..._0x6d05c6);}return _0x438417;}exports[a303_0x4e4cbe(0x118)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x330ebb,_0x2c437e){return fetchAttachmentsDetails(_0x330ebb,FIELD_ID,_0x2c437e);}exports[a303_0x4e4cbe(0x137)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x8dceee,_0x42faa4){return fetchAttachmentsDetails(_0x8dceee,FIELD_PARENT_ID,_0x42faa4);}exports[a303_0x4e4cbe(0x12b)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x38c5f5,_0x59b0bd,_0x268518){const _0xcc4a9e=a303_0x4e4cbe,_0xf24e4f=[],_0xef75a4=(0x0,index_1[_0xcc4a9e(0x123)])(_0x268518,CHUNK_QUERY_SIZE);for(const _0x1a1a20 of _0xef75a4){const _0x368a51=_0xcc4a9e(0x11a)+_0x59b0bd+'\x20IN\x20('+('\x27'+_0x1a1a20[_0xcc4a9e(0x122)](_0xcc4a9e(0x141))+'\x27')+')',{data:_0x13585e}=await _0x38c5f5['get'](_0xcc4a9e(0x119)+constants_1[_0xcc4a9e(0x11c)]+'/query/',{'params':{'q':_0x368a51}});_0xf24e4f[_0xcc4a9e(0x12e)](..._0x13585e[_0xcc4a9e(0x138)]);}return _0xf24e4f;}async function fetchAttachmentBody(_0x4d13fb,_0x223d15){const _0x494dc5=a303_0x4e4cbe,{data:_0x180387}=await _0x4d13fb[_0x494dc5(0x128)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x494dc5(0x12f)+_0x223d15+_0x494dc5(0x130),{'responseType':_0x494dc5(0x117)});return _0x180387;}exports[a303_0x4e4cbe(0x12d)]=fetchAttachmentBody;async function fetchAttachments(_0xfa5b7b,_0x8d91f4,_0x7ed01b){const _0x1ade02=a303_0x4e4cbe,{data:_0x1814af}=await _0xfa5b7b[_0x1ade02(0x127)](_0x1ade02(0x135)+salesforce_request_1['namespace']+_0x1ade02(0x136),{'objectName':_0x1ade02(0x132),'binaryFields':_0x8d91f4,'recordIds':_0x7ed01b});return _0x1814af;}exports[a303_0x4e4cbe(0x124)]=fetchAttachments;