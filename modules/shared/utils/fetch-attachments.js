const a330_0x696c54=a330_0x4a60;(function(_0x263943,_0x4b51d9){const _0x42d096=a330_0x4a60,_0x1b89f0=_0x263943();while(!![]){try{const _0x323958=-parseInt(_0x42d096(0x159))/0x1+-parseInt(_0x42d096(0x15e))/0x2+-parseInt(_0x42d096(0x15b))/0x3+parseInt(_0x42d096(0x15f))/0x4+-parseInt(_0x42d096(0x15a))/0x5+-parseInt(_0x42d096(0x16c))/0x6*(parseInt(_0x42d096(0x171))/0x7)+-parseInt(_0x42d096(0x178))/0x8*(-parseInt(_0x42d096(0x175))/0x9);if(_0x323958===_0x4b51d9)break;else _0x1b89f0['push'](_0x1b89f0['shift']());}catch(_0x5c5e58){_0x1b89f0['push'](_0x1b89f0['shift']());}}}(a330_0x579d,0x6eb73));const a330_0x173aee=(function(){let _0x5e3fc7=!![];return function(_0x42b451,_0x166cb1){const _0x256fc5=_0x5e3fc7?function(){const _0x92efe4=a330_0x4a60;if(_0x166cb1){const _0x5ce066=_0x166cb1[_0x92efe4(0x16d)](_0x42b451,arguments);return _0x166cb1=null,_0x5ce066;}}:function(){};return _0x5e3fc7=![],_0x256fc5;};}()),a330_0x1b5434=a330_0x173aee(this,function(){const _0xf0f9d4=a330_0x4a60;return a330_0x1b5434['toString']()[_0xf0f9d4(0x155)](_0xf0f9d4(0x176))['toString']()[_0xf0f9d4(0x166)](a330_0x1b5434)['search']('(((.+)+)+)+$');});a330_0x1b5434();'use strict';Object['defineProperty'](exports,a330_0x696c54(0x169),{'value':!![]}),exports[a330_0x696c54(0x16f)]=exports[a330_0x696c54(0x177)]=exports['fetchAttachmentsDetailsByParentId']=exports['fetchAttachmentsDetailsById']=exports[a330_0x696c54(0x15d)]=void 0x0;const index_1=require(a330_0x696c54(0x158)),constants_1=require(a330_0x696c54(0x165)),salesforce_request_1=require(a330_0x696c54(0x179)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a330_0x696c54(0x154),FIELD_ID='Id';async function retrieveAttachments(_0x541fb9,_0x13283e){const _0x4da394=a330_0x696c54;let _0x19c90a=0x0,_0x25147e=0x0,_0x17e645=[];const _0x545cc9=[];for(const _0x19dfc6 of _0x541fb9){if(_0x19dfc6[_0x4da394(0x160)]>REST_ATTACHMENT_MAX_SIZE){const _0x520773=await fetchAttachmentBody(_0x13283e,_0x19dfc6['Id']);_0x545cc9[_0x4da394(0x172)]({'id':_0x19dfc6['Id'],'values':{'Body':_0x520773[_0x4da394(0x163)](_0x4da394(0x16e))}});continue;}if(_0x19dfc6[_0x4da394(0x160)]+_0x19c90a>REST_ATTACHMENT_MAX_SIZE||_0x25147e+0x1>=REST_ATTACHMENT_COUNT){const _0x305260=await fetchAttachments(_0x13283e,BINARY_FIELDS,_0x17e645);_0x545cc9['push'](..._0x305260),_0x17e645=[],_0x19c90a=0x0,_0x25147e=0x0;}_0x17e645[_0x4da394(0x172)](_0x19dfc6['Id']),_0x19c90a+=_0x19dfc6['BodyLength'],_0x25147e++;}if(_0x17e645[_0x4da394(0x15c)]){const _0x29ff63=await fetchAttachments(_0x13283e,BINARY_FIELDS,_0x17e645);_0x545cc9[_0x4da394(0x172)](..._0x29ff63);}return _0x545cc9;}exports[a330_0x696c54(0x15d)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x688f1f,_0x6b3215){return fetchAttachmentsDetails(_0x688f1f,FIELD_ID,_0x6b3215);}function a330_0x4a60(_0xb73759,_0x5a8dc1){const _0x4f4e3b=a330_0x579d();return a330_0x4a60=function(_0x1b5434,_0x173aee){_0x1b5434=_0x1b5434-0x154;let _0x579d6b=_0x4f4e3b[_0x1b5434];return _0x579d6b;},a330_0x4a60(_0xb73759,_0x5a8dc1);}exports[a330_0x696c54(0x16a)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x76714b,_0x504aa6){return fetchAttachmentsDetails(_0x76714b,FIELD_PARENT_ID,_0x504aa6);}exports[a330_0x696c54(0x162)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4f913f,_0xc6ba89,_0x2b4091){const _0x45d097=a330_0x696c54,_0x4accfa=[],_0x26d7c6=(0x0,index_1['chunkArray'])(_0x2b4091,CHUNK_QUERY_SIZE);for(const _0x642c2 of _0x26d7c6){const _0x415344='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0xc6ba89+_0x45d097(0x16b)+('\x27'+_0x642c2['join']('\x27,\x27')+'\x27')+')',{data:_0x56caea}=await _0x4f913f['get'](_0x45d097(0x170)+constants_1[_0x45d097(0x167)]+'/query/',{'params':{'q':_0x415344}});_0x4accfa[_0x45d097(0x172)](..._0x56caea[_0x45d097(0x156)]);}return _0x4accfa;}async function fetchAttachmentBody(_0x308591,_0x4bd736){const _0x1e96c9=a330_0x696c54,{data:_0x4a6835}=await _0x308591[_0x1e96c9(0x168)](_0x1e96c9(0x170)+constants_1[_0x1e96c9(0x167)]+_0x1e96c9(0x157)+_0x4bd736+_0x1e96c9(0x174),{'responseType':_0x1e96c9(0x164)});return _0x4a6835;}exports[a330_0x696c54(0x177)]=fetchAttachmentBody;function a330_0x579d(){const _0x53f795=['/body','1719cpcQWW','(((.+)+)+)+$','fetchAttachmentBody','88856xtxUJF','../../functions/utils/salesforce-request','ParentId','search','records','/sobjects/Attachment/','./index','416270fzKEms','1035300oPDAeo','1953015QAXvpQ','length','retrieveAttachments','319634rEAKCi','1946296bmbSjv','BodyLength','Attachment','fetchAttachmentsDetailsByParentId','toString','arraybuffer','../../../constants','constructor','SALESFORCE_API_VERSION','get','__esModule','fetchAttachmentsDetailsById','\x20IN\x20(','540276fiXOyD','apply','base64','fetchAttachments','/services/data/','56ndqKtb','push','post'];a330_0x579d=function(){return _0x53f795;};return a330_0x579d();}async function fetchAttachments(_0x339a00,_0x3dd227,_0x48f891){const _0x27c850=a330_0x696c54,{data:_0x48e54d}=await _0x339a00[_0x27c850(0x173)]('/services/apexrest'+salesforce_request_1['namespace']+'/retrieveAttachments/',{'objectName':_0x27c850(0x161),'binaryFields':_0x3dd227,'recordIds':_0x48f891});return _0x48e54d;}exports[a330_0x696c54(0x16f)]=fetchAttachments;