const a287_0x597284=a287_0x428f;(function(_0x2339bd,_0x1bfb27){const _0x42ab1a=a287_0x428f,_0x2d3838=_0x2339bd();while(!![]){try{const _0x99627f=-parseInt(_0x42ab1a(0x19e))/0x1*(parseInt(_0x42ab1a(0x1b7))/0x2)+parseInt(_0x42ab1a(0x1aa))/0x3*(-parseInt(_0x42ab1a(0x1c0))/0x4)+-parseInt(_0x42ab1a(0x1b9))/0x5+-parseInt(_0x42ab1a(0x1b3))/0x6*(parseInt(_0x42ab1a(0x1b8))/0x7)+-parseInt(_0x42ab1a(0x1c3))/0x8*(-parseInt(_0x42ab1a(0x1b2))/0x9)+-parseInt(_0x42ab1a(0x1c1))/0xa+-parseInt(_0x42ab1a(0x1a7))/0xb*(-parseInt(_0x42ab1a(0x19f))/0xc);if(_0x99627f===_0x1bfb27)break;else _0x2d3838['push'](_0x2d3838['shift']());}catch(_0x579706){_0x2d3838['push'](_0x2d3838['shift']());}}}(a287_0x3cb2,0x8b372));const a287_0x30a1e4=(function(){let _0x51d647=!![];return function(_0x4f0e83,_0xf6147e){const _0x2795fe=_0x51d647?function(){const _0x55e206=a287_0x428f;if(_0xf6147e){const _0x4ac754=_0xf6147e[_0x55e206(0x1c4)](_0x4f0e83,arguments);return _0xf6147e=null,_0x4ac754;}}:function(){};return _0x51d647=![],_0x2795fe;};}()),a287_0x3f8fef=a287_0x30a1e4(this,function(){const _0x20c523=a287_0x428f;return a287_0x3f8fef['toString']()[_0x20c523(0x1a1)](_0x20c523(0x1a8))[_0x20c523(0x1ae)]()['constructor'](a287_0x3f8fef)[_0x20c523(0x1a1)](_0x20c523(0x1a8));});function a287_0x3cb2(){const _0x43ddac=['fetchAttachmentsDetailsByParentId','get','905769UrYMKA','18dGVask','join','\x20IN\x20(','arraybuffer','100726DLlICj','1879682WCmNpK','2573960PNHugT','retrieveAttachments','Attachment','fetchAttachmentsDetailsById','../../../constants','BodyLength','SALESFORCE_API_VERSION','12vVJPta','10740880ZzgyBR','chunkArray','40RzKLWj','apply','push','post','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','12qYVUQw','159816hHcQMv','fetchAttachments','search','/retrieveAttachments/','/query/','\x27,\x27','../../functions/utils/salesforce-request','./index','2541yNZhjJ','(((.+)+)+)+$','/sobjects/Attachment/','10623NdfaJX','ParentId','records','Body','toString','fetchAttachmentBody'];a287_0x3cb2=function(){return _0x43ddac;};return a287_0x3cb2();}a287_0x3f8fef();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['fetchAttachments']=exports[a287_0x597284(0x1af)]=exports[a287_0x597284(0x1b0)]=exports[a287_0x597284(0x1bc)]=exports[a287_0x597284(0x1ba)]=void 0x0;const index_1=require(a287_0x597284(0x1a6)),constants_1=require(a287_0x597284(0x1bd)),salesforce_request_1=require(a287_0x597284(0x1a5)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x597284(0x1ad)],FIELD_PARENT_ID=a287_0x597284(0x1ab),FIELD_ID='Id';function a287_0x428f(_0xd70f4f,_0x271d9f){const _0x2499ff=a287_0x3cb2();return a287_0x428f=function(_0x3f8fef,_0x30a1e4){_0x3f8fef=_0x3f8fef-0x19b;let _0x3cb259=_0x2499ff[_0x3f8fef];return _0x3cb259;},a287_0x428f(_0xd70f4f,_0x271d9f);}async function retrieveAttachments(_0x49fa9f,_0x301977){const _0x37452f=a287_0x597284;let _0x124902=0x0,_0x1c1f8d=0x0,_0x4acc2a=[];const _0x5d3dcc=[];for(const _0x473a4a of _0x49fa9f){if(_0x473a4a[_0x37452f(0x1be)]>REST_ATTACHMENT_MAX_SIZE){const _0x440f04=await fetchAttachmentBody(_0x301977,_0x473a4a['Id']);_0x5d3dcc[_0x37452f(0x19b)]({'id':_0x473a4a['Id'],'values':{'Body':_0x440f04[_0x37452f(0x1ae)]('base64')}});continue;}if(_0x473a4a[_0x37452f(0x1be)]+_0x124902>REST_ATTACHMENT_MAX_SIZE||_0x1c1f8d+0x1>=REST_ATTACHMENT_COUNT){const _0x1d66a6=await fetchAttachments(_0x301977,BINARY_FIELDS,_0x4acc2a);_0x5d3dcc[_0x37452f(0x19b)](..._0x1d66a6),_0x4acc2a=[],_0x124902=0x0,_0x1c1f8d=0x0;}_0x4acc2a['push'](_0x473a4a['Id']),_0x124902+=_0x473a4a[_0x37452f(0x1be)],_0x1c1f8d++;}if(_0x4acc2a['length']){const _0x386c16=await fetchAttachments(_0x301977,BINARY_FIELDS,_0x4acc2a);_0x5d3dcc[_0x37452f(0x19b)](..._0x386c16);}return _0x5d3dcc;}exports[a287_0x597284(0x1ba)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x23e50e,_0x361f11){return fetchAttachmentsDetails(_0x23e50e,FIELD_ID,_0x361f11);}exports[a287_0x597284(0x1bc)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0xe1bfdf,_0x385bda){return fetchAttachmentsDetails(_0xe1bfdf,FIELD_PARENT_ID,_0x385bda);}exports[a287_0x597284(0x1b0)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x547136,_0x1f1187,_0x1d2051){const _0x29d1f7=a287_0x597284,_0x2a7f37=[],_0x5bdf97=(0x0,index_1[_0x29d1f7(0x1c2)])(_0x1d2051,CHUNK_QUERY_SIZE);for(const _0x125b76 of _0x5bdf97){const _0x20fb27=_0x29d1f7(0x19d)+_0x1f1187+_0x29d1f7(0x1b5)+('\x27'+_0x125b76[_0x29d1f7(0x1b4)](_0x29d1f7(0x1a4))+'\x27')+')',{data:_0x43cd08}=await _0x547136[_0x29d1f7(0x1b1)]('/services/data/'+constants_1[_0x29d1f7(0x1bf)]+_0x29d1f7(0x1a3),{'params':{'q':_0x20fb27}});_0x2a7f37[_0x29d1f7(0x19b)](..._0x43cd08[_0x29d1f7(0x1ac)]);}return _0x2a7f37;}async function fetchAttachmentBody(_0x5449ec,_0x10e847){const _0x441681=a287_0x597284,{data:_0x1f3105}=await _0x5449ec[_0x441681(0x1b1)]('/services/data/'+constants_1[_0x441681(0x1bf)]+_0x441681(0x1a9)+_0x10e847+'/body',{'responseType':_0x441681(0x1b6)});return _0x1f3105;}exports[a287_0x597284(0x1af)]=fetchAttachmentBody;async function fetchAttachments(_0x2be012,_0x14addb,_0x42ebb1){const _0x47b8e3=a287_0x597284,{data:_0x1f44f8}=await _0x2be012[_0x47b8e3(0x19c)]('/services/apexrest'+salesforce_request_1['namespace']+_0x47b8e3(0x1a2),{'objectName':_0x47b8e3(0x1bb),'binaryFields':_0x14addb,'recordIds':_0x42ebb1});return _0x1f44f8;}exports[a287_0x597284(0x1a0)]=fetchAttachments;