const a287_0x1403ea=a287_0x2922;(function(_0x1a3153,_0x371b56){const _0x262300=a287_0x2922,_0x174a7a=_0x1a3153();while(!![]){try{const _0x22aa56=parseInt(_0x262300(0x19d))/0x1*(-parseInt(_0x262300(0x1a2))/0x2)+-parseInt(_0x262300(0x17f))/0x3*(parseInt(_0x262300(0x194))/0x4)+-parseInt(_0x262300(0x192))/0x5*(-parseInt(_0x262300(0x1a8))/0x6)+-parseInt(_0x262300(0x198))/0x7+parseInt(_0x262300(0x19e))/0x8*(parseInt(_0x262300(0x18a))/0x9)+-parseInt(_0x262300(0x196))/0xa+parseInt(_0x262300(0x19f))/0xb;if(_0x22aa56===_0x371b56)break;else _0x174a7a['push'](_0x174a7a['shift']());}catch(_0x60b349){_0x174a7a['push'](_0x174a7a['shift']());}}}(a287_0x1d3c,0x73b42));const a287_0x4edbfd=(function(){let _0x24a7fa=!![];return function(_0x14729b,_0x32695a){const _0x26c109=_0x24a7fa?function(){const _0x54418c=a287_0x2922;if(_0x32695a){const _0x173fbc=_0x32695a[_0x54418c(0x188)](_0x14729b,arguments);return _0x32695a=null,_0x173fbc;}}:function(){};return _0x24a7fa=![],_0x26c109;};}()),a287_0x58de65=a287_0x4edbfd(this,function(){const _0x3a1b65=a287_0x2922;return a287_0x58de65[_0x3a1b65(0x18d)]()[_0x3a1b65(0x1a9)](_0x3a1b65(0x18e))[_0x3a1b65(0x18d)]()['constructor'](a287_0x58de65)[_0x3a1b65(0x1a9)]('(((.+)+)+)+$');});a287_0x58de65();'use strict';Object[a287_0x1403ea(0x1a1)](exports,a287_0x1403ea(0x199),{'value':!![]}),exports[a287_0x1403ea(0x1a4)]=exports[a287_0x1403ea(0x1ad)]=exports[a287_0x1403ea(0x181)]=exports[a287_0x1403ea(0x1ac)]=exports[a287_0x1403ea(0x18f)]=void 0x0;const index_1=require(a287_0x1403ea(0x18b)),constants_1=require('../../../constants'),salesforce_request_1=require(a287_0x1403ea(0x1aa)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x1403ea(0x183)],FIELD_PARENT_ID=a287_0x1403ea(0x19b),FIELD_ID='Id';async function retrieveAttachments(_0x305126,_0x317657){const _0x55cb26=a287_0x1403ea;let _0x441d51=0x0,_0x2dfb11=0x0,_0x1fdcf4=[];const _0x4348f8=[];for(const _0x43a052 of _0x305126){if(_0x43a052['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x4a17cd=await fetchAttachmentBody(_0x317657,_0x43a052['Id']);_0x4348f8[_0x55cb26(0x190)]({'id':_0x43a052['Id'],'values':{'Body':_0x4a17cd['toString'](_0x55cb26(0x193))}});continue;}if(_0x43a052[_0x55cb26(0x1ab)]+_0x441d51>REST_ATTACHMENT_MAX_SIZE||_0x2dfb11+0x1>=REST_ATTACHMENT_COUNT){const _0x1d0f24=await fetchAttachments(_0x317657,BINARY_FIELDS,_0x1fdcf4);_0x4348f8[_0x55cb26(0x190)](..._0x1d0f24),_0x1fdcf4=[],_0x441d51=0x0,_0x2dfb11=0x0;}_0x1fdcf4[_0x55cb26(0x190)](_0x43a052['Id']),_0x441d51+=_0x43a052['BodyLength'],_0x2dfb11++;}if(_0x1fdcf4[_0x55cb26(0x1a6)]){const _0x22e268=await fetchAttachments(_0x317657,BINARY_FIELDS,_0x1fdcf4);_0x4348f8[_0x55cb26(0x190)](..._0x22e268);}return _0x4348f8;}exports[a287_0x1403ea(0x18f)]=retrieveAttachments;function a287_0x2922(_0x945ead,_0x3f6f9c){const _0x5c6eda=a287_0x1d3c();return a287_0x2922=function(_0x58de65,_0x4edbfd){_0x58de65=_0x58de65-0x17f;let _0x1d3c44=_0x5c6eda[_0x58de65];return _0x1d3c44;},a287_0x2922(_0x945ead,_0x3f6f9c);}function fetchAttachmentsDetailsById(_0x5a288c,_0x18f081){return fetchAttachmentsDetails(_0x5a288c,FIELD_ID,_0x18f081);}exports[a287_0x1403ea(0x1ac)]=fetchAttachmentsDetailsById;function a287_0x1d3c(){const _0x144437=['4381060RdPKov','post','2652790brkKag','__esModule','/retrieveAttachments/','ParentId','Attachment','2IcZMCo','16rvpPAC','6795228QMoeTR','chunkArray','defineProperty','248212MDmnJI','get','fetchAttachments','/sobjects/Attachment/','length','namespace','48JZVMGU','search','../../functions/utils/salesforce-request','BodyLength','fetchAttachmentsDetailsById','fetchAttachmentBody','6SgyMcb','/services/apexrest','fetchAttachmentsDetailsByParentId','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','Body','SALESFORCE_API_VERSION','\x27,\x27','arraybuffer','/query/','apply','\x20IN\x20(','3754521KQJEVP','./index','/services/data/','toString','(((.+)+)+)+$','retrieveAttachments','push','join','447770eiNnss','base64','1258616XWEGXR','/body'];a287_0x1d3c=function(){return _0x144437;};return a287_0x1d3c();}function fetchAttachmentsDetailsByParentId(_0x3d159c,_0x463506){return fetchAttachmentsDetails(_0x3d159c,FIELD_PARENT_ID,_0x463506);}exports[a287_0x1403ea(0x181)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x569ab6,_0x271964,_0x46626b){const _0x2b80c4=a287_0x1403ea,_0x52c2ec=[],_0x42cf53=(0x0,index_1[_0x2b80c4(0x1a0)])(_0x46626b,CHUNK_QUERY_SIZE);for(const _0x45bcd3 of _0x42cf53){const _0x4b624c=_0x2b80c4(0x182)+_0x271964+_0x2b80c4(0x189)+('\x27'+_0x45bcd3[_0x2b80c4(0x191)](_0x2b80c4(0x185))+'\x27')+')',{data:_0x4beca0}=await _0x569ab6[_0x2b80c4(0x1a3)](_0x2b80c4(0x18c)+constants_1['SALESFORCE_API_VERSION']+_0x2b80c4(0x187),{'params':{'q':_0x4b624c}});_0x52c2ec['push'](..._0x4beca0['records']);}return _0x52c2ec;}async function fetchAttachmentBody(_0x6ed4d5,_0xaf575){const _0x5d2c8f=a287_0x1403ea,{data:_0x4c4d23}=await _0x6ed4d5[_0x5d2c8f(0x1a3)]('/services/data/'+constants_1[_0x5d2c8f(0x184)]+_0x5d2c8f(0x1a5)+_0xaf575+_0x5d2c8f(0x195),{'responseType':_0x5d2c8f(0x186)});return _0x4c4d23;}exports[a287_0x1403ea(0x1ad)]=fetchAttachmentBody;async function fetchAttachments(_0x1e335e,_0xf031e9,_0xa119a8){const _0x147e2e=a287_0x1403ea,{data:_0x2273e2}=await _0x1e335e[_0x147e2e(0x197)](_0x147e2e(0x180)+salesforce_request_1[_0x147e2e(0x1a7)]+_0x147e2e(0x19a),{'objectName':_0x147e2e(0x19c),'binaryFields':_0xf031e9,'recordIds':_0xa119a8});return _0x2273e2;}exports[a287_0x1403ea(0x1a4)]=fetchAttachments;