const a279_0x3d9847=a279_0x91dc;(function(_0x53b177,_0x2f8a32){const _0x5382b1=a279_0x91dc,_0xb1f863=_0x53b177();while(!![]){try{const _0x11f94d=-parseInt(_0x5382b1(0xf7))/0x1*(parseInt(_0x5382b1(0x108))/0x2)+parseInt(_0x5382b1(0x116))/0x3+-parseInt(_0x5382b1(0xf8))/0x4*(parseInt(_0x5382b1(0x10a))/0x5)+-parseInt(_0x5382b1(0x10f))/0x6*(-parseInt(_0x5382b1(0x117))/0x7)+parseInt(_0x5382b1(0x105))/0x8+-parseInt(_0x5382b1(0x10b))/0x9+-parseInt(_0x5382b1(0x113))/0xa;if(_0x11f94d===_0x2f8a32)break;else _0xb1f863['push'](_0xb1f863['shift']());}catch(_0x2405cb){_0xb1f863['push'](_0xb1f863['shift']());}}}(a279_0x4fe1,0x2a2be));const a279_0x4bc6da=(function(){let _0x2c4a3e=!![];return function(_0x3d4f87,_0x11157d){const _0xdd9593=_0x2c4a3e?function(){const _0x5885e6=a279_0x91dc;if(_0x11157d){const _0x32494f=_0x11157d[_0x5885e6(0xf9)](_0x3d4f87,arguments);return _0x11157d=null,_0x32494f;}}:function(){};return _0x2c4a3e=![],_0xdd9593;};}()),a279_0x565534=a279_0x4bc6da(this,function(){const _0x237150=a279_0x91dc;return a279_0x565534[_0x237150(0xf6)]()[_0x237150(0x115)](_0x237150(0x104))[_0x237150(0xf6)]()['constructor'](a279_0x565534)[_0x237150(0x115)](_0x237150(0x104));});a279_0x565534();'use strict';Object[a279_0x3d9847(0xfa)](exports,a279_0x3d9847(0xf4),{'value':!![]}),exports[a279_0x3d9847(0x106)]=exports[a279_0x3d9847(0x11c)]=exports[a279_0x3d9847(0xf3)]=exports[a279_0x3d9847(0xfb)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a279_0x3d9847(0xf5)),constants_1=require(a279_0x3d9847(0x119)),salesforce_request_1=require(a279_0x3d9847(0x10c)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a279_0x3d9847(0xfc)],FIELD_PARENT_ID=a279_0x3d9847(0x114),FIELD_ID='Id';async function retrieveAttachments(_0x48b968,_0xa57131){const _0x2eefe6=a279_0x3d9847;let _0xfbf568=0x0,_0x47df8f=0x0,_0xf414a2=[];const _0x235698=[];for(const _0x31ffdf of _0x48b968){if(_0x31ffdf[_0x2eefe6(0xff)]>REST_ATTACHMENT_MAX_SIZE){const _0x2c2e82=await fetchAttachmentBody(_0xa57131,_0x31ffdf['Id']);_0x235698[_0x2eefe6(0x10e)]({'id':_0x31ffdf['Id'],'values':{'Body':_0x2c2e82[_0x2eefe6(0xf6)](_0x2eefe6(0xfd))}});continue;}if(_0x31ffdf[_0x2eefe6(0xff)]+_0xfbf568>REST_ATTACHMENT_MAX_SIZE||_0x47df8f+0x1>=REST_ATTACHMENT_COUNT){const _0x5067e3=await fetchAttachments(_0xa57131,BINARY_FIELDS,_0xf414a2);_0x235698[_0x2eefe6(0x10e)](..._0x5067e3),_0xf414a2=[],_0xfbf568=0x0,_0x47df8f=0x0;}_0xf414a2[_0x2eefe6(0x10e)](_0x31ffdf['Id']),_0xfbf568+=_0x31ffdf[_0x2eefe6(0xff)],_0x47df8f++;}if(_0xf414a2[_0x2eefe6(0x107)]){const _0x357dc5=await fetchAttachments(_0xa57131,BINARY_FIELDS,_0xf414a2);_0x235698[_0x2eefe6(0x10e)](..._0x357dc5);}return _0x235698;}exports[a279_0x3d9847(0xfe)]=retrieveAttachments;function a279_0x91dc(_0x27dcde,_0xa71c9f){const _0x3c98e1=a279_0x4fe1();return a279_0x91dc=function(_0x565534,_0x4bc6da){_0x565534=_0x565534-0xf3;let _0x4fe142=_0x3c98e1[_0x565534];return _0x4fe142;},a279_0x91dc(_0x27dcde,_0xa71c9f);}function a279_0x4fe1(){const _0x5ea12f=['get','post','(((.+)+)+)+$','2588024jrMPYa','fetchAttachments','length','551198NWFwIj','/retrieveAttachments/','95QMooMY','216504uNimqT','../../functions/utils/salesforce-request','join','push','606168SUhbZv','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','namespace','Attachment','757180kqGyDj','ParentId','search','826656WQWEZV','14RUPVlf','SALESFORCE_API_VERSION','../../../constants','\x20IN\x20(','/body','fetchAttachmentBody','fetchAttachmentsDetailsByParentId','__esModule','./index','toString','1rXFFHu','53264MvDjlE','apply','defineProperty','fetchAttachmentsDetailsById','Body','base64','retrieveAttachments','BodyLength','chunkArray','/services/data/'];a279_0x4fe1=function(){return _0x5ea12f;};return a279_0x4fe1();}function fetchAttachmentsDetailsById(_0x3f3571,_0x558fac){return fetchAttachmentsDetails(_0x3f3571,FIELD_ID,_0x558fac);}exports[a279_0x3d9847(0xfb)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x351939,_0xb523cd){return fetchAttachmentsDetails(_0x351939,FIELD_PARENT_ID,_0xb523cd);}exports[a279_0x3d9847(0xf3)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x57abe1,_0x8cad67,_0x11bbf4){const _0x15133c=a279_0x3d9847,_0x2d3ac7=[],_0x42eceb=(0x0,index_1[_0x15133c(0x100)])(_0x11bbf4,CHUNK_QUERY_SIZE);for(const _0x3fae35 of _0x42eceb){const _0x5db80d=_0x15133c(0x110)+_0x8cad67+_0x15133c(0x11a)+('\x27'+_0x3fae35[_0x15133c(0x10d)]('\x27,\x27')+'\x27')+')',{data:_0xd911f0}=await _0x57abe1[_0x15133c(0x102)](_0x15133c(0x101)+constants_1[_0x15133c(0x118)]+'/query/',{'params':{'q':_0x5db80d}});_0x2d3ac7[_0x15133c(0x10e)](..._0xd911f0['records']);}return _0x2d3ac7;}async function fetchAttachmentBody(_0x4dea7b,_0x22da4c){const _0xa27d2a=a279_0x3d9847,{data:_0x724a15}=await _0x4dea7b['get'](_0xa27d2a(0x101)+constants_1[_0xa27d2a(0x118)]+'/sobjects/Attachment/'+_0x22da4c+_0xa27d2a(0x11b),{'responseType':'arraybuffer'});return _0x724a15;}exports[a279_0x3d9847(0x11c)]=fetchAttachmentBody;async function fetchAttachments(_0x5a183e,_0x4aaa0e,_0x1399da){const _0x4cbfa4=a279_0x3d9847,{data:_0x68658f}=await _0x5a183e[_0x4cbfa4(0x103)]('/services/apexrest'+salesforce_request_1[_0x4cbfa4(0x111)]+_0x4cbfa4(0x109),{'objectName':_0x4cbfa4(0x112),'binaryFields':_0x4aaa0e,'recordIds':_0x1399da});return _0x68658f;}exports[a279_0x3d9847(0x106)]=fetchAttachments;