const a330_0x2e27be=a330_0x4629;(function(_0x4945f9,_0x5200fe){const _0x25ed77=a330_0x4629,_0x4e9cc8=_0x4945f9();while(!![]){try{const _0x20e597=-parseInt(_0x25ed77(0x121))/0x1+parseInt(_0x25ed77(0x12d))/0x2+parseInt(_0x25ed77(0x12b))/0x3*(-parseInt(_0x25ed77(0x12c))/0x4)+parseInt(_0x25ed77(0x10b))/0x5+-parseInt(_0x25ed77(0x112))/0x6+parseInt(_0x25ed77(0x110))/0x7+parseInt(_0x25ed77(0x127))/0x8;if(_0x20e597===_0x5200fe)break;else _0x4e9cc8['push'](_0x4e9cc8['shift']());}catch(_0x4c7872){_0x4e9cc8['push'](_0x4e9cc8['shift']());}}}(a330_0x43c8,0x4213a));const a330_0x30f8d9=(function(){let _0x5689b9=!![];return function(_0x41998c,_0x2deb40){const _0x5d2382=_0x5689b9?function(){const _0x3473b5=a330_0x4629;if(_0x2deb40){const _0xa41d25=_0x2deb40[_0x3473b5(0x10c)](_0x41998c,arguments);return _0x2deb40=null,_0xa41d25;}}:function(){};return _0x5689b9=![],_0x5d2382;};}()),a330_0x426821=a330_0x30f8d9(this,function(){const _0x43f296=a330_0x4629;return a330_0x426821['toString']()[_0x43f296(0x122)](_0x43f296(0x128))[_0x43f296(0x11e)]()[_0x43f296(0x120)](a330_0x426821)[_0x43f296(0x122)](_0x43f296(0x128));});a330_0x426821();'use strict';Object[a330_0x2e27be(0x115)](exports,a330_0x2e27be(0x10f),{'value':!![]}),exports[a330_0x2e27be(0x11d)]=exports[a330_0x2e27be(0x117)]=exports['fetchAttachmentsDetailsByParentId']=exports['fetchAttachmentsDetailsById']=exports['retrieveAttachments']=void 0x0;const index_1=require('./index'),constants_1=require(a330_0x2e27be(0x119)),salesforce_request_1=require(a330_0x2e27be(0x12a)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a330_0x2e27be(0x131)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x66286f,_0x454376){const _0x5b61b5=a330_0x2e27be;let _0x449407=0x0,_0x19e116=0x0,_0xf752ac=[];const _0x562180=[];for(const _0x3b0911 of _0x66286f){if(_0x3b0911[_0x5b61b5(0x12f)]>REST_ATTACHMENT_MAX_SIZE){const _0x4fe3b3=await fetchAttachmentBody(_0x454376,_0x3b0911['Id']);_0x562180[_0x5b61b5(0x124)]({'id':_0x3b0911['Id'],'values':{'Body':_0x4fe3b3[_0x5b61b5(0x11e)](_0x5b61b5(0x12e))}});continue;}if(_0x3b0911[_0x5b61b5(0x12f)]+_0x449407>REST_ATTACHMENT_MAX_SIZE||_0x19e116+0x1>=REST_ATTACHMENT_COUNT){const _0x375187=await fetchAttachments(_0x454376,BINARY_FIELDS,_0xf752ac);_0x562180[_0x5b61b5(0x124)](..._0x375187),_0xf752ac=[],_0x449407=0x0,_0x19e116=0x0;}_0xf752ac[_0x5b61b5(0x124)](_0x3b0911['Id']),_0x449407+=_0x3b0911['BodyLength'],_0x19e116++;}if(_0xf752ac[_0x5b61b5(0x10d)]){const _0x4e2870=await fetchAttachments(_0x454376,BINARY_FIELDS,_0xf752ac);_0x562180[_0x5b61b5(0x124)](..._0x4e2870);}return _0x562180;}exports[a330_0x2e27be(0x11c)]=retrieveAttachments;function a330_0x43c8(){const _0x50ac44=['(((.+)+)+)+$','\x20IN\x20(','../../functions/utils/salesforce-request','3nwWWnw','1628108pwWzRP','758424qPKbdT','base64','BodyLength','fetchAttachmentsDetailsById','Body','get','SALESFORCE_API_VERSION','arraybuffer','/query/','/retrieveAttachments/','711990sLCPUp','apply','length','/services/data/','__esModule','446306hvFvSj','namespace','1720464EPeijt','fetchAttachmentsDetailsByParentId','/sobjects/Attachment/','defineProperty','/body','fetchAttachmentBody','Attachment','../../../constants','chunkArray','post','retrieveAttachments','fetchAttachments','toString','records','constructor','383108SrdHJe','search','\x27,\x27','push','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','/services/apexrest','6097288oNpkLS'];a330_0x43c8=function(){return _0x50ac44;};return a330_0x43c8();}function fetchAttachmentsDetailsById(_0x1c3526,_0x402082){return fetchAttachmentsDetails(_0x1c3526,FIELD_ID,_0x402082);}exports[a330_0x2e27be(0x130)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x4e7199,_0x4fcb3e){return fetchAttachmentsDetails(_0x4e7199,FIELD_PARENT_ID,_0x4fcb3e);}function a330_0x4629(_0x560f29,_0x3d7f1){const _0x536099=a330_0x43c8();return a330_0x4629=function(_0x426821,_0x30f8d9){_0x426821=_0x426821-0x108;let _0x43c811=_0x536099[_0x426821];return _0x43c811;},a330_0x4629(_0x560f29,_0x3d7f1);}exports[a330_0x2e27be(0x113)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x2a9f39,_0x4297a6,_0x3463d1){const _0x2f7e48=a330_0x2e27be,_0x38d918=[],_0x4eef35=(0x0,index_1[_0x2f7e48(0x11a)])(_0x3463d1,CHUNK_QUERY_SIZE);for(const _0xfab39e of _0x4eef35){const _0x229635=_0x2f7e48(0x125)+_0x4297a6+_0x2f7e48(0x129)+('\x27'+_0xfab39e['join'](_0x2f7e48(0x123))+'\x27')+')',{data:_0x28d82f}=await _0x2a9f39[_0x2f7e48(0x132)](_0x2f7e48(0x10e)+constants_1[_0x2f7e48(0x133)]+_0x2f7e48(0x109),{'params':{'q':_0x229635}});_0x38d918['push'](..._0x28d82f[_0x2f7e48(0x11f)]);}return _0x38d918;}async function fetchAttachmentBody(_0x163b62,_0x191381){const _0x50c8bd=a330_0x2e27be,{data:_0x464a62}=await _0x163b62[_0x50c8bd(0x132)]('/services/data/'+constants_1[_0x50c8bd(0x133)]+_0x50c8bd(0x114)+_0x191381+_0x50c8bd(0x116),{'responseType':_0x50c8bd(0x108)});return _0x464a62;}exports[a330_0x2e27be(0x117)]=fetchAttachmentBody;async function fetchAttachments(_0x5f89e2,_0x36012d,_0x1eb64e){const _0x43da7e=a330_0x2e27be,{data:_0x230b90}=await _0x5f89e2[_0x43da7e(0x11b)](_0x43da7e(0x126)+salesforce_request_1[_0x43da7e(0x111)]+_0x43da7e(0x10a),{'objectName':_0x43da7e(0x118),'binaryFields':_0x36012d,'recordIds':_0x1eb64e});return _0x230b90;}exports[a330_0x2e27be(0x11d)]=fetchAttachments;