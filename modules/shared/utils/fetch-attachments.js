const a303_0xb99a3a=a303_0x355c;function a303_0x5997(){const _0x40885a=['BodyLength','toString','apply','get','fetchAttachmentsDetailsById','fetchAttachments','./index','878366tFqNYX','15cFhYhH','1FxtYML','/body','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','3496788ZOWwwo','post','fetchAttachmentBody','62634Fitdeq','/services/data/','constructor','base64','push','2217099ISwLBG','length','/services/apexrest','/sobjects/Attachment/','retrieveAttachments','23354410CopcXi','arraybuffer','\x27,\x27','records','join','1477148jCdwJN','/retrieveAttachments/','6000272OqgpsT','fetchAttachmentsDetailsByParentId','ParentId','defineProperty','7MiLmmj','../../functions/utils/salesforce-request','search','../../../constants','/query/','Body','namespace','SALESFORCE_API_VERSION','(((.+)+)+)+$'];a303_0x5997=function(){return _0x40885a;};return a303_0x5997();}(function(_0xc68905,_0x22462e){const _0x548051=a303_0x355c,_0x290157=_0xc68905();while(!![]){try{const _0x229f7a=-parseInt(_0x548051(0x10a))/0x1*(parseInt(_0x548051(0x108))/0x2)+-parseInt(_0x548051(0xe8))/0x3+-parseInt(_0x548051(0xf2))/0x4+-parseInt(_0x548051(0x109))/0x5*(parseInt(_0x548051(0x110))/0x6)+parseInt(_0x548051(0xf8))/0x7*(-parseInt(_0x548051(0xf4))/0x8)+parseInt(_0x548051(0x10d))/0x9+parseInt(_0x548051(0xed))/0xa;if(_0x229f7a===_0x22462e)break;else _0x290157['push'](_0x290157['shift']());}catch(_0x133557){_0x290157['push'](_0x290157['shift']());}}}(a303_0x5997,0x6076f));const a303_0x2b1a59=(function(){let _0x278864=!![];return function(_0x3b0bfc,_0x505925){const _0x516bbf=_0x278864?function(){const _0x4a1d1e=a303_0x355c;if(_0x505925){const _0x10083d=_0x505925[_0x4a1d1e(0x103)](_0x3b0bfc,arguments);return _0x505925=null,_0x10083d;}}:function(){};return _0x278864=![],_0x516bbf;};}()),a303_0x45bb04=a303_0x2b1a59(this,function(){const _0x563756=a303_0x355c;return a303_0x45bb04[_0x563756(0x102)]()[_0x563756(0xfa)](_0x563756(0x100))[_0x563756(0x102)]()[_0x563756(0x112)](a303_0x45bb04)[_0x563756(0xfa)](_0x563756(0x100));});a303_0x45bb04();function a303_0x355c(_0x51829d,_0x573e06){const _0x310db7=a303_0x5997();return a303_0x355c=function(_0x45bb04,_0x2b1a59){_0x45bb04=_0x45bb04-0xe6;let _0x5997d2=_0x310db7[_0x45bb04];return _0x5997d2;},a303_0x355c(_0x51829d,_0x573e06);}'use strict';Object[a303_0xb99a3a(0xf7)](exports,'__esModule',{'value':!![]}),exports[a303_0xb99a3a(0x106)]=exports[a303_0xb99a3a(0x10f)]=exports['fetchAttachmentsDetailsByParentId']=exports[a303_0xb99a3a(0x105)]=exports[a303_0xb99a3a(0xec)]=void 0x0;const index_1=require(a303_0xb99a3a(0x107)),constants_1=require(a303_0xb99a3a(0xfb)),salesforce_request_1=require(a303_0xb99a3a(0xf9)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a303_0xb99a3a(0xfd)],FIELD_PARENT_ID=a303_0xb99a3a(0xf6),FIELD_ID='Id';async function retrieveAttachments(_0x412040,_0x4c19be){const _0x131147=a303_0xb99a3a;let _0x329dcf=0x0,_0x456662=0x0,_0x77a11d=[];const _0x507fae=[];for(const _0x2baed1 of _0x412040){if(_0x2baed1[_0x131147(0x101)]>REST_ATTACHMENT_MAX_SIZE){const _0x281ae5=await fetchAttachmentBody(_0x4c19be,_0x2baed1['Id']);_0x507fae[_0x131147(0xe7)]({'id':_0x2baed1['Id'],'values':{'Body':_0x281ae5[_0x131147(0x102)](_0x131147(0xe6))}});continue;}if(_0x2baed1[_0x131147(0x101)]+_0x329dcf>REST_ATTACHMENT_MAX_SIZE||_0x456662+0x1>=REST_ATTACHMENT_COUNT){const _0x35c2fa=await fetchAttachments(_0x4c19be,BINARY_FIELDS,_0x77a11d);_0x507fae[_0x131147(0xe7)](..._0x35c2fa),_0x77a11d=[],_0x329dcf=0x0,_0x456662=0x0;}_0x77a11d[_0x131147(0xe7)](_0x2baed1['Id']),_0x329dcf+=_0x2baed1['BodyLength'],_0x456662++;}if(_0x77a11d[_0x131147(0xe9)]){const _0x105c4c=await fetchAttachments(_0x4c19be,BINARY_FIELDS,_0x77a11d);_0x507fae[_0x131147(0xe7)](..._0x105c4c);}return _0x507fae;}exports[a303_0xb99a3a(0xec)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x556ae5,_0x5218eb){return fetchAttachmentsDetails(_0x556ae5,FIELD_ID,_0x5218eb);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x32aa0f,_0x499b17){return fetchAttachmentsDetails(_0x32aa0f,FIELD_PARENT_ID,_0x499b17);}exports[a303_0xb99a3a(0xf5)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x47ee6d,_0x1ab903,_0x4ec2a6){const _0x47fafa=a303_0xb99a3a,_0x3432ac=[],_0x10bd25=(0x0,index_1['chunkArray'])(_0x4ec2a6,CHUNK_QUERY_SIZE);for(const _0x28a3cc of _0x10bd25){const _0x593eff=_0x47fafa(0x10c)+_0x1ab903+'\x20IN\x20('+('\x27'+_0x28a3cc[_0x47fafa(0xf1)](_0x47fafa(0xef))+'\x27')+')',{data:_0xe1f821}=await _0x47ee6d[_0x47fafa(0x104)](_0x47fafa(0x111)+constants_1[_0x47fafa(0xff)]+_0x47fafa(0xfc),{'params':{'q':_0x593eff}});_0x3432ac[_0x47fafa(0xe7)](..._0xe1f821[_0x47fafa(0xf0)]);}return _0x3432ac;}async function fetchAttachmentBody(_0x147bec,_0x519cb8){const _0xf77883=a303_0xb99a3a,{data:_0x2eee18}=await _0x147bec[_0xf77883(0x104)](_0xf77883(0x111)+constants_1[_0xf77883(0xff)]+_0xf77883(0xeb)+_0x519cb8+_0xf77883(0x10b),{'responseType':_0xf77883(0xee)});return _0x2eee18;}exports[a303_0xb99a3a(0x10f)]=fetchAttachmentBody;async function fetchAttachments(_0x17633e,_0x7b7782,_0x208eea){const _0x17827c=a303_0xb99a3a,{data:_0x2adab9}=await _0x17633e[_0x17827c(0x10e)](_0x17827c(0xea)+salesforce_request_1[_0x17827c(0xfe)]+_0x17827c(0xf3),{'objectName':'Attachment','binaryFields':_0x7b7782,'recordIds':_0x208eea});return _0x2adab9;}exports[a303_0xb99a3a(0x106)]=fetchAttachments;