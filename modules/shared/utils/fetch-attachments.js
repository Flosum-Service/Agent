function a287_0x428f(_0x1d5ece,_0x1d4156){const _0x37b7b1=a287_0x1b7d();return a287_0x428f=function(_0x115138,_0x4de1a1){_0x115138=_0x115138-0x7e;let _0x1b7db9=_0x37b7b1[_0x115138];return _0x1b7db9;},a287_0x428f(_0x1d5ece,_0x1d4156);}const a287_0x2eecec=a287_0x428f;(function(_0x1b8f1d,_0x21280f){const _0x39a9bf=a287_0x428f,_0x25bc55=_0x1b8f1d();while(!![]){try{const _0x3e9b79=parseInt(_0x39a9bf(0x93))/0x1*(parseInt(_0x39a9bf(0x94))/0x2)+-parseInt(_0x39a9bf(0x9a))/0x3*(-parseInt(_0x39a9bf(0x84))/0x4)+-parseInt(_0x39a9bf(0x97))/0x5+-parseInt(_0x39a9bf(0xa2))/0x6+parseInt(_0x39a9bf(0xa1))/0x7+parseInt(_0x39a9bf(0x8f))/0x8*(parseInt(_0x39a9bf(0xa5))/0x9)+parseInt(_0x39a9bf(0x82))/0xa*(-parseInt(_0x39a9bf(0x8e))/0xb);if(_0x3e9b79===_0x21280f)break;else _0x25bc55['push'](_0x25bc55['shift']());}catch(_0x37e490){_0x25bc55['push'](_0x25bc55['shift']());}}}(a287_0x1b7d,0x20421));const a287_0x4de1a1=(function(){let _0x1f4321=!![];return function(_0x3d13a9,_0xaf5f4c){const _0x39da0c=_0x1f4321?function(){if(_0xaf5f4c){const _0x2a2906=_0xaf5f4c['apply'](_0x3d13a9,arguments);return _0xaf5f4c=null,_0x2a2906;}}:function(){};return _0x1f4321=![],_0x39da0c;};}()),a287_0x115138=a287_0x4de1a1(this,function(){const _0x27558e=a287_0x428f;return a287_0x115138[_0x27558e(0xa6)]()['search'](_0x27558e(0x9f))[_0x27558e(0xa6)]()[_0x27558e(0xa7)](a287_0x115138)['search'](_0x27558e(0x9f));});a287_0x115138();'use strict';Object[a287_0x2eecec(0x96)](exports,'__esModule',{'value':!![]}),exports[a287_0x2eecec(0x9b)]=exports[a287_0x2eecec(0x87)]=exports[a287_0x2eecec(0x8c)]=exports[a287_0x2eecec(0x9d)]=exports[a287_0x2eecec(0x91)]=void 0x0;const index_1=require(a287_0x2eecec(0x99)),constants_1=require(a287_0x2eecec(0x8a)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a287_0x2eecec(0x89),FIELD_ID='Id';async function retrieveAttachments(_0x4bce21,_0x6431f8){const _0x438e9c=a287_0x2eecec;let _0x1b13a8=0x0,_0xa44969=0x0,_0x596115=[];const _0x16b9c8=[];for(const _0x3f26bf of _0x4bce21){if(_0x3f26bf['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x5217eb=await fetchAttachmentBody(_0x6431f8,_0x3f26bf['Id']);_0x16b9c8[_0x438e9c(0x90)]({'id':_0x3f26bf['Id'],'values':{'Body':_0x5217eb['toString'](_0x438e9c(0x80))}});continue;}if(_0x3f26bf[_0x438e9c(0xa3)]+_0x1b13a8>REST_ATTACHMENT_MAX_SIZE||_0xa44969+0x1>=REST_ATTACHMENT_COUNT){const _0x4ebf96=await fetchAttachments(_0x6431f8,BINARY_FIELDS,_0x596115);_0x16b9c8[_0x438e9c(0x90)](..._0x4ebf96),_0x596115=[],_0x1b13a8=0x0,_0xa44969=0x0;}_0x596115[_0x438e9c(0x90)](_0x3f26bf['Id']),_0x1b13a8+=_0x3f26bf['BodyLength'],_0xa44969++;}if(_0x596115[_0x438e9c(0x81)]){const _0x5a9a53=await fetchAttachments(_0x6431f8,BINARY_FIELDS,_0x596115);_0x16b9c8[_0x438e9c(0x90)](..._0x5a9a53);}return _0x16b9c8;}exports[a287_0x2eecec(0x91)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x3ad0de,_0x1f360f){return fetchAttachmentsDetails(_0x3ad0de,FIELD_ID,_0x1f360f);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3cbae8,_0x194a4c){return fetchAttachmentsDetails(_0x3cbae8,FIELD_PARENT_ID,_0x194a4c);}function a287_0x1b7d(){const _0x1635c9=['1137768waPsYQ','BodyLength','/services/apexrest','2319453vugLxv','toString','constructor','/body','chunkArray','namespace','base64','length','40DKrfPf','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','168lbqNEd','post','SALESFORCE_API_VERSION','fetchAttachmentBody','/services/data/','ParentId','../../../constants','Attachment','fetchAttachmentsDetailsByParentId','/retrieveAttachments/','813527imanoz','8fvVBVx','push','retrieveAttachments','/sobjects/Attachment/','23QCCGRb','4390nWgbdY','\x27,\x27','defineProperty','869330UaQHTM','get','./index','17613DTIAuR','fetchAttachments','records','fetchAttachmentsDetailsById','\x20IN\x20(','(((.+)+)+)+$','arraybuffer','1656669Ibbmam'];a287_0x1b7d=function(){return _0x1635c9;};return a287_0x1b7d();}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x9c3df3,_0x461476,_0x2bf6c6){const _0x51004c=a287_0x2eecec,_0x291c84=[],_0x9b71f9=(0x0,index_1[_0x51004c(0x7e)])(_0x2bf6c6,CHUNK_QUERY_SIZE);for(const _0x32044e of _0x9b71f9){const _0x1871a9=_0x51004c(0x83)+_0x461476+_0x51004c(0x9e)+('\x27'+_0x32044e['join'](_0x51004c(0x95))+'\x27')+')',{data:_0x271a8d}=await _0x9c3df3[_0x51004c(0x98)](_0x51004c(0x88)+constants_1[_0x51004c(0x86)]+'/query/',{'params':{'q':_0x1871a9}});_0x291c84[_0x51004c(0x90)](..._0x271a8d[_0x51004c(0x9c)]);}return _0x291c84;}async function fetchAttachmentBody(_0x480644,_0x2c03aa){const _0x27dca0=a287_0x2eecec,{data:_0x295f65}=await _0x480644['get'](_0x27dca0(0x88)+constants_1[_0x27dca0(0x86)]+_0x27dca0(0x92)+_0x2c03aa+_0x27dca0(0xa8),{'responseType':_0x27dca0(0xa0)});return _0x295f65;}exports[a287_0x2eecec(0x87)]=fetchAttachmentBody;async function fetchAttachments(_0x4badfc,_0x1459e3,_0x40ac36){const _0x52232a=a287_0x2eecec,{data:_0x2aa689}=await _0x4badfc[_0x52232a(0x85)](_0x52232a(0xa4)+salesforce_request_1[_0x52232a(0x7f)]+_0x52232a(0x8d),{'objectName':_0x52232a(0x8b),'binaryFields':_0x1459e3,'recordIds':_0x40ac36});return _0x2aa689;}exports['fetchAttachments']=fetchAttachments;