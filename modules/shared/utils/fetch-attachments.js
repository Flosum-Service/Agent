const a330_0x2a0e39=a330_0x5d51;(function(_0x516d93,_0x8dddff){const _0xf0f9af=a330_0x5d51,_0x504232=_0x516d93();while(!![]){try{const _0x1242f7=parseInt(_0xf0f9af(0x19c))/0x1*(parseInt(_0xf0f9af(0x1aa))/0x2)+-parseInt(_0xf0f9af(0x1a2))/0x3+-parseInt(_0xf0f9af(0x1b2))/0x4*(parseInt(_0xf0f9af(0x1b4))/0x5)+-parseInt(_0xf0f9af(0x19a))/0x6*(-parseInt(_0xf0f9af(0x1b5))/0x7)+-parseInt(_0xf0f9af(0x199))/0x8+-parseInt(_0xf0f9af(0x1af))/0x9+parseInt(_0xf0f9af(0x1a5))/0xa;if(_0x1242f7===_0x8dddff)break;else _0x504232['push'](_0x504232['shift']());}catch(_0x1546f4){_0x504232['push'](_0x504232['shift']());}}}(a330_0x48ae,0x5c939));const a330_0x566942=(function(){let _0x205db1=!![];return function(_0x25b2de,_0x598581){const _0xf8c2df=_0x205db1?function(){const _0xc7ab52=a330_0x5d51;if(_0x598581){const _0x2193ac=_0x598581[_0xc7ab52(0x192)](_0x25b2de,arguments);return _0x598581=null,_0x2193ac;}}:function(){};return _0x205db1=![],_0xf8c2df;};}()),a330_0x87784d=a330_0x566942(this,function(){const _0x34f277=a330_0x5d51;return a330_0x87784d[_0x34f277(0x196)]()[_0x34f277(0x195)](_0x34f277(0x19e))['toString']()[_0x34f277(0x1a9)](a330_0x87784d)['search'](_0x34f277(0x19e));});a330_0x87784d();'use strict';Object[a330_0x2a0e39(0x19d)](exports,a330_0x2a0e39(0x197),{'value':!![]}),exports[a330_0x2a0e39(0x1ba)]=exports[a330_0x2a0e39(0x1b0)]=exports[a330_0x2a0e39(0x1a1)]=exports[a330_0x2a0e39(0x1b8)]=exports[a330_0x2a0e39(0x198)]=void 0x0;const index_1=require('./index'),constants_1=require('../../../constants'),salesforce_request_1=require(a330_0x2a0e39(0x193)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a330_0x2a0e39(0x1a8)],FIELD_PARENT_ID=a330_0x2a0e39(0x1bb),FIELD_ID='Id';function a330_0x48ae(){const _0x3c0128=['defineProperty','(((.+)+)+)+$','\x27,\x27','/query/','fetchAttachmentsDetailsByParentId','1367580wXhnAw','/services/apexrest','length','12082430DDuKmG','get','\x20IN\x20(','Body','constructor','648NmfXgE','arraybuffer','/sobjects/Attachment/','/services/data/','/retrieveAttachments/','5269122QdVUeP','fetchAttachmentBody','chunkArray','4fkIpqE','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','466660ZsbudW','14238ccXQtq','push','Attachment','fetchAttachmentsDetailsById','base64','fetchAttachments','ParentId','SALESFORCE_API_VERSION','apply','../../functions/utils/salesforce-request','records','search','toString','__esModule','retrieveAttachments','3965072eEJbxp','582yMvEnZ','join','1864RxijVX'];a330_0x48ae=function(){return _0x3c0128;};return a330_0x48ae();}async function retrieveAttachments(_0x16c44c,_0x34ed0){const _0xb8ec8e=a330_0x2a0e39;let _0x41d307=0x0,_0x5adfbe=0x0,_0x202ca8=[];const _0x3f614a=[];for(const _0x3ad69a of _0x16c44c){if(_0x3ad69a['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x1acae3=await fetchAttachmentBody(_0x34ed0,_0x3ad69a['Id']);_0x3f614a['push']({'id':_0x3ad69a['Id'],'values':{'Body':_0x1acae3['toString'](_0xb8ec8e(0x1b9))}});continue;}if(_0x3ad69a['BodyLength']+_0x41d307>REST_ATTACHMENT_MAX_SIZE||_0x5adfbe+0x1>=REST_ATTACHMENT_COUNT){const _0x45d61a=await fetchAttachments(_0x34ed0,BINARY_FIELDS,_0x202ca8);_0x3f614a[_0xb8ec8e(0x1b6)](..._0x45d61a),_0x202ca8=[],_0x41d307=0x0,_0x5adfbe=0x0;}_0x202ca8[_0xb8ec8e(0x1b6)](_0x3ad69a['Id']),_0x41d307+=_0x3ad69a['BodyLength'],_0x5adfbe++;}if(_0x202ca8[_0xb8ec8e(0x1a4)]){const _0x4acc0d=await fetchAttachments(_0x34ed0,BINARY_FIELDS,_0x202ca8);_0x3f614a[_0xb8ec8e(0x1b6)](..._0x4acc0d);}return _0x3f614a;}exports['retrieveAttachments']=retrieveAttachments;function a330_0x5d51(_0x54915f,_0x578ccc){const _0x833cf4=a330_0x48ae();return a330_0x5d51=function(_0x87784d,_0x566942){_0x87784d=_0x87784d-0x192;let _0x48aeb7=_0x833cf4[_0x87784d];return _0x48aeb7;},a330_0x5d51(_0x54915f,_0x578ccc);}function fetchAttachmentsDetailsById(_0xd26384,_0x1bccda){return fetchAttachmentsDetails(_0xd26384,FIELD_ID,_0x1bccda);}exports[a330_0x2a0e39(0x1b8)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x338e6e,_0x44b166){return fetchAttachmentsDetails(_0x338e6e,FIELD_PARENT_ID,_0x44b166);}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x33a8f5,_0x5b6f06,_0x1e3aeb){const _0x5df803=a330_0x2a0e39,_0x5e78dc=[],_0x4a061e=(0x0,index_1[_0x5df803(0x1b1)])(_0x1e3aeb,CHUNK_QUERY_SIZE);for(const _0x1f2073 of _0x4a061e){const _0x1003c9=_0x5df803(0x1b3)+_0x5b6f06+_0x5df803(0x1a7)+('\x27'+_0x1f2073[_0x5df803(0x19b)](_0x5df803(0x19f))+'\x27')+')',{data:_0x5f0af6}=await _0x33a8f5[_0x5df803(0x1a6)](_0x5df803(0x1ad)+constants_1[_0x5df803(0x1bc)]+_0x5df803(0x1a0),{'params':{'q':_0x1003c9}});_0x5e78dc[_0x5df803(0x1b6)](..._0x5f0af6[_0x5df803(0x194)]);}return _0x5e78dc;}async function fetchAttachmentBody(_0x4dbe6c,_0x39b38a){const _0x902b0f=a330_0x2a0e39,{data:_0x463852}=await _0x4dbe6c[_0x902b0f(0x1a6)](_0x902b0f(0x1ad)+constants_1[_0x902b0f(0x1bc)]+_0x902b0f(0x1ac)+_0x39b38a+'/body',{'responseType':_0x902b0f(0x1ab)});return _0x463852;}exports[a330_0x2a0e39(0x1b0)]=fetchAttachmentBody;async function fetchAttachments(_0x116102,_0x4fb9d9,_0x492512){const _0x122a70=a330_0x2a0e39,{data:_0x5c1323}=await _0x116102['post'](_0x122a70(0x1a3)+salesforce_request_1['namespace']+_0x122a70(0x1ae),{'objectName':_0x122a70(0x1b7),'binaryFields':_0x4fb9d9,'recordIds':_0x492512});return _0x5c1323;}exports[a330_0x2a0e39(0x1ba)]=fetchAttachments;