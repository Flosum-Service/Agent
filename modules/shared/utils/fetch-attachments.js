function a332_0x5369(_0x393e07,_0x29a50e){const _0x24a6fd=a332_0x2843();return a332_0x5369=function(_0x13f0f6,_0x21af0c){_0x13f0f6=_0x13f0f6-0x170;let _0x28436a=_0x24a6fd[_0x13f0f6];return _0x28436a;},a332_0x5369(_0x393e07,_0x29a50e);}const a332_0x2c0006=a332_0x5369;(function(_0x2feff2,_0x3fe967){const _0x307d4d=a332_0x5369,_0x43928f=_0x2feff2();while(!![]){try{const _0x591770=-parseInt(_0x307d4d(0x188))/0x1+-parseInt(_0x307d4d(0x17b))/0x2+parseInt(_0x307d4d(0x18a))/0x3+parseInt(_0x307d4d(0x17f))/0x4*(-parseInt(_0x307d4d(0x177))/0x5)+parseInt(_0x307d4d(0x18f))/0x6+-parseInt(_0x307d4d(0x182))/0x7+parseInt(_0x307d4d(0x173))/0x8*(parseInt(_0x307d4d(0x17e))/0x9);if(_0x591770===_0x3fe967)break;else _0x43928f['push'](_0x43928f['shift']());}catch(_0x215c10){_0x43928f['push'](_0x43928f['shift']());}}}(a332_0x2843,0xbdfbc));const a332_0x21af0c=(function(){let _0x32b354=!![];return function(_0x8146a7,_0x52f499){const _0x3914fa=_0x32b354?function(){const _0x20830b=a332_0x5369;if(_0x52f499){const _0x1e3314=_0x52f499[_0x20830b(0x186)](_0x8146a7,arguments);return _0x52f499=null,_0x1e3314;}}:function(){};return _0x32b354=![],_0x3914fa;};}()),a332_0x13f0f6=a332_0x21af0c(this,function(){const _0xbb186c=a332_0x5369;return a332_0x13f0f6[_0xbb186c(0x18b)]()[_0xbb186c(0x181)](_0xbb186c(0x184))['toString']()['constructor'](a332_0x13f0f6)['search']('(((.+)+)+)+$');});a332_0x13f0f6();function a332_0x2843(){const _0x21fa20=['3495OzuimY','\x20IN\x20(','get','fetchAttachments','378132ZyklpQ','post','push','19521xJTNfu','2428ZgchwL','/query/','search','158025LCnUUx','/services/data/','(((.+)+)+)+$','base64','apply','chunkArray','960604cwQBxC','retrieveAttachments','145434tVpVTS','toString','/retrieveAttachments/','namespace','defineProperty','2413974jXpccf','length','fetchAttachmentsDetailsById','/body','Body','__esModule','arraybuffer','fetchAttachmentsDetailsByParentId','ParentId','Attachment','BodyLength','../../functions/utils/salesforce-request','records','7096nxzFRv','fetchAttachmentBody','\x27,\x27','SALESFORCE_API_VERSION'];a332_0x2843=function(){return _0x21fa20;};return a332_0x2843();}'use strict';Object[a332_0x2c0006(0x18e)](exports,a332_0x2c0006(0x194),{'value':!![]}),exports[a332_0x2c0006(0x17a)]=exports[a332_0x2c0006(0x174)]=exports[a332_0x2c0006(0x196)]=exports['fetchAttachmentsDetailsById']=exports['retrieveAttachments']=void 0x0;const index_1=require('./index'),constants_1=require('../../../constants'),salesforce_request_1=require(a332_0x2c0006(0x171)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a332_0x2c0006(0x193)],FIELD_PARENT_ID=a332_0x2c0006(0x197),FIELD_ID='Id';async function retrieveAttachments(_0x3ee01f,_0x5117f1){const _0x3a9cbe=a332_0x2c0006;let _0x1ab29f=0x0,_0x51df72=0x0,_0x343cf3=[];const _0x46e7a0=[];for(const _0x557c05 of _0x3ee01f){if(_0x557c05['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x23b49f=await fetchAttachmentBody(_0x5117f1,_0x557c05['Id']);_0x46e7a0['push']({'id':_0x557c05['Id'],'values':{'Body':_0x23b49f[_0x3a9cbe(0x18b)](_0x3a9cbe(0x185))}});continue;}if(_0x557c05[_0x3a9cbe(0x170)]+_0x1ab29f>REST_ATTACHMENT_MAX_SIZE||_0x51df72+0x1>=REST_ATTACHMENT_COUNT){const _0xe8121f=await fetchAttachments(_0x5117f1,BINARY_FIELDS,_0x343cf3);_0x46e7a0[_0x3a9cbe(0x17d)](..._0xe8121f),_0x343cf3=[],_0x1ab29f=0x0,_0x51df72=0x0;}_0x343cf3[_0x3a9cbe(0x17d)](_0x557c05['Id']),_0x1ab29f+=_0x557c05['BodyLength'],_0x51df72++;}if(_0x343cf3[_0x3a9cbe(0x190)]){const _0x9eaec6=await fetchAttachments(_0x5117f1,BINARY_FIELDS,_0x343cf3);_0x46e7a0[_0x3a9cbe(0x17d)](..._0x9eaec6);}return _0x46e7a0;}exports[a332_0x2c0006(0x189)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x478ef5,_0x268289){return fetchAttachmentsDetails(_0x478ef5,FIELD_ID,_0x268289);}exports[a332_0x2c0006(0x191)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3c624e,_0x3f3c8f){return fetchAttachmentsDetails(_0x3c624e,FIELD_PARENT_ID,_0x3f3c8f);}exports[a332_0x2c0006(0x196)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x191eea,_0x1d50be,_0x2452f8){const _0x92deb6=a332_0x2c0006,_0x3986e8=[],_0x4d1655=(0x0,index_1[_0x92deb6(0x187)])(_0x2452f8,CHUNK_QUERY_SIZE);for(const _0x3a1890 of _0x4d1655){const _0x375633='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0x1d50be+_0x92deb6(0x178)+('\x27'+_0x3a1890['join'](_0x92deb6(0x175))+'\x27')+')',{data:_0x4a76fb}=await _0x191eea[_0x92deb6(0x179)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x92deb6(0x180),{'params':{'q':_0x375633}});_0x3986e8[_0x92deb6(0x17d)](..._0x4a76fb[_0x92deb6(0x172)]);}return _0x3986e8;}async function fetchAttachmentBody(_0x18b609,_0x5ea332){const _0x101b56=a332_0x2c0006,{data:_0x224b3d}=await _0x18b609[_0x101b56(0x179)](_0x101b56(0x183)+constants_1[_0x101b56(0x176)]+'/sobjects/Attachment/'+_0x5ea332+_0x101b56(0x192),{'responseType':_0x101b56(0x195)});return _0x224b3d;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x904985,_0x3ae550,_0x4e9b52){const _0xa0f725=a332_0x2c0006,{data:_0x2d5eaf}=await _0x904985[_0xa0f725(0x17c)]('/services/apexrest'+salesforce_request_1[_0xa0f725(0x18d)]+_0xa0f725(0x18c),{'objectName':_0xa0f725(0x198),'binaryFields':_0x3ae550,'recordIds':_0x4e9b52});return _0x2d5eaf;}exports[a332_0x2c0006(0x17a)]=fetchAttachments;