const a302_0xb6736c=a302_0xbb41;(function(_0x12de5e,_0x488943){const _0x465179=a302_0xbb41,_0x2d178b=_0x12de5e();while(!![]){try{const _0x14b44d=-parseInt(_0x465179(0xc3))/0x1*(-parseInt(_0x465179(0xc6))/0x2)+-parseInt(_0x465179(0xa2))/0x3*(-parseInt(_0x465179(0xc7))/0x4)+parseInt(_0x465179(0xa7))/0x5+-parseInt(_0x465179(0xbf))/0x6*(-parseInt(_0x465179(0xc0))/0x7)+-parseInt(_0x465179(0xa8))/0x8+-parseInt(_0x465179(0xa6))/0x9+-parseInt(_0x465179(0xb7))/0xa;if(_0x14b44d===_0x488943)break;else _0x2d178b['push'](_0x2d178b['shift']());}catch(_0x4f8232){_0x2d178b['push'](_0x2d178b['shift']());}}}(a302_0x3c4c,0xef16a));function a302_0x3c4c(){const _0x29e7a3=['fetchAttachmentsDetailsByParentId','Attachment','33177960duqhvD','/services/data/','join','get','Body','fetchAttachmentBody','defineProperty','/query/','11274qcgNOQ','6125pNVoKx','\x27,\x27','length','136583oedOJC','/services/apexrest','__esModule','20hdASIk','119388UTohzm','namespace','push','(((.+)+)+)+$','/sobjects/Attachment/','SALESFORCE_API_VERSION','123Swyrol','constructor','chunkArray','post','4090779fpdEuJ','4341015ikSFzA','2802016AhALBf','retrieveAttachments','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','apply','/body','BodyLength','toString','fetchAttachmentsDetailsById','\x20IN\x20(','fetchAttachments','search','../../../constants','ParentId'];a302_0x3c4c=function(){return _0x29e7a3;};return a302_0x3c4c();}const a302_0x141e74=(function(){let _0x4b4d99=!![];return function(_0x4ca13a,_0x382a8a){const _0x59a35c=_0x4b4d99?function(){const _0x21d796=a302_0xbb41;if(_0x382a8a){const _0x44e0da=_0x382a8a[_0x21d796(0xab)](_0x4ca13a,arguments);return _0x382a8a=null,_0x44e0da;}}:function(){};return _0x4b4d99=![],_0x59a35c;};}()),a302_0x4b1954=a302_0x141e74(this,function(){const _0x1cba83=a302_0xbb41;return a302_0x4b1954[_0x1cba83(0xae)]()[_0x1cba83(0xb2)]('(((.+)+)+)+$')[_0x1cba83(0xae)]()[_0x1cba83(0xa3)](a302_0x4b1954)[_0x1cba83(0xb2)](_0x1cba83(0x9f));});a302_0x4b1954();'use strict';Object[a302_0xb6736c(0xbd)](exports,a302_0xb6736c(0xc5),{'value':!![]}),exports[a302_0xb6736c(0xb1)]=exports[a302_0xb6736c(0xbc)]=exports[a302_0xb6736c(0xb5)]=exports[a302_0xb6736c(0xaf)]=exports[a302_0xb6736c(0xa9)]=void 0x0;const index_1=require('./index'),constants_1=require(a302_0xb6736c(0xb3)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a302_0xb6736c(0xbb)],FIELD_PARENT_ID=a302_0xb6736c(0xb4),FIELD_ID='Id';async function retrieveAttachments(_0x1170c5,_0x19b6c9){const _0x46be29=a302_0xb6736c;let _0x12314d=0x0,_0x4dc946=0x0,_0x17c576=[];const _0x5a6231=[];for(const _0x97ec0f of _0x1170c5){if(_0x97ec0f[_0x46be29(0xad)]>REST_ATTACHMENT_MAX_SIZE){const _0x882cb=await fetchAttachmentBody(_0x19b6c9,_0x97ec0f['Id']);_0x5a6231[_0x46be29(0x9e)]({'id':_0x97ec0f['Id'],'values':{'Body':_0x882cb[_0x46be29(0xae)]('base64')}});continue;}if(_0x97ec0f[_0x46be29(0xad)]+_0x12314d>REST_ATTACHMENT_MAX_SIZE||_0x4dc946+0x1>=REST_ATTACHMENT_COUNT){const _0x328b49=await fetchAttachments(_0x19b6c9,BINARY_FIELDS,_0x17c576);_0x5a6231['push'](..._0x328b49),_0x17c576=[],_0x12314d=0x0,_0x4dc946=0x0;}_0x17c576[_0x46be29(0x9e)](_0x97ec0f['Id']),_0x12314d+=_0x97ec0f[_0x46be29(0xad)],_0x4dc946++;}if(_0x17c576[_0x46be29(0xc2)]){const _0x2e71da=await fetchAttachments(_0x19b6c9,BINARY_FIELDS,_0x17c576);_0x5a6231['push'](..._0x2e71da);}return _0x5a6231;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x495205,_0x54c1d9){return fetchAttachmentsDetails(_0x495205,FIELD_ID,_0x54c1d9);}exports[a302_0xb6736c(0xaf)]=fetchAttachmentsDetailsById;function a302_0xbb41(_0x16ce72,_0x6f92a5){const _0x525fad=a302_0x3c4c();return a302_0xbb41=function(_0x4b1954,_0x141e74){_0x4b1954=_0x4b1954-0x9e;let _0x3c4ca9=_0x525fad[_0x4b1954];return _0x3c4ca9;},a302_0xbb41(_0x16ce72,_0x6f92a5);}function fetchAttachmentsDetailsByParentId(_0x5a9631,_0x1f6b06){return fetchAttachmentsDetails(_0x5a9631,FIELD_PARENT_ID,_0x1f6b06);}exports[a302_0xb6736c(0xb5)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x435fd9,_0x243391,_0x327fb9){const _0x4b856b=a302_0xb6736c,_0x4514e8=[],_0x29c616=(0x0,index_1[_0x4b856b(0xa4)])(_0x327fb9,CHUNK_QUERY_SIZE);for(const _0x5668d3 of _0x29c616){const _0x48bc63=_0x4b856b(0xaa)+_0x243391+_0x4b856b(0xb0)+('\x27'+_0x5668d3[_0x4b856b(0xb9)](_0x4b856b(0xc1))+'\x27')+')',{data:_0x4f556a}=await _0x435fd9[_0x4b856b(0xba)](_0x4b856b(0xb8)+constants_1[_0x4b856b(0xa1)]+_0x4b856b(0xbe),{'params':{'q':_0x48bc63}});_0x4514e8[_0x4b856b(0x9e)](..._0x4f556a['records']);}return _0x4514e8;}async function fetchAttachmentBody(_0x4e5745,_0x4abc75){const _0x23ed09=a302_0xb6736c,{data:_0x372321}=await _0x4e5745['get'](_0x23ed09(0xb8)+constants_1[_0x23ed09(0xa1)]+_0x23ed09(0xa0)+_0x4abc75+_0x23ed09(0xac),{'responseType':'arraybuffer'});return _0x372321;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x3d9710,_0x1d4011,_0x382164){const _0x4dd5f7=a302_0xb6736c,{data:_0x57f58b}=await _0x3d9710[_0x4dd5f7(0xa5)](_0x4dd5f7(0xc4)+salesforce_request_1[_0x4dd5f7(0xc8)]+'/retrieveAttachments/',{'objectName':_0x4dd5f7(0xb6),'binaryFields':_0x1d4011,'recordIds':_0x382164});return _0x57f58b;}exports[a302_0xb6736c(0xb1)]=fetchAttachments;