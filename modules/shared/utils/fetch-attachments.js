const a331_0x3bab4a=a331_0xa37b;(function(_0x2b32d1,_0x149e55){const _0x26fa46=a331_0xa37b,_0x4ccc92=_0x2b32d1();while(!![]){try{const _0x4cc181=parseInt(_0x26fa46(0xdc))/0x1*(parseInt(_0x26fa46(0xe8))/0x2)+parseInt(_0x26fa46(0xd0))/0x3*(parseInt(_0x26fa46(0xf3))/0x4)+-parseInt(_0x26fa46(0xf2))/0x5*(-parseInt(_0x26fa46(0x101))/0x6)+parseInt(_0x26fa46(0xfe))/0x7*(-parseInt(_0x26fa46(0xe6))/0x8)+parseInt(_0x26fa46(0xcf))/0x9*(-parseInt(_0x26fa46(0xe3))/0xa)+parseInt(_0x26fa46(0xdb))/0xb*(-parseInt(_0x26fa46(0xd5))/0xc)+parseInt(_0x26fa46(0xe9))/0xd*(-parseInt(_0x26fa46(0xfc))/0xe);if(_0x4cc181===_0x149e55)break;else _0x4ccc92['push'](_0x4ccc92['shift']());}catch(_0x59c8bb){_0x4ccc92['push'](_0x4ccc92['shift']());}}}(a331_0x5e1d,0x58c1f));const a331_0x4ff9a5=(function(){let _0xd21ade=!![];return function(_0x27307e,_0x12b606){const _0x4d5481=_0xd21ade?function(){const _0x5bbeac=a331_0xa37b;if(_0x12b606){const _0x52a5e3=_0x12b606[_0x5bbeac(0xd1)](_0x27307e,arguments);return _0x12b606=null,_0x52a5e3;}}:function(){};return _0xd21ade=![],_0x4d5481;};}()),a331_0x3b9664=a331_0x4ff9a5(this,function(){const _0x1bb460=a331_0xa37b;return a331_0x3b9664[_0x1bb460(0xd6)]()[_0x1bb460(0xe2)](_0x1bb460(0xe5))[_0x1bb460(0xd6)]()[_0x1bb460(0xde)](a331_0x3b9664)['search']('(((.+)+)+)+$');});a331_0x3b9664();'use strict';Object[a331_0x3bab4a(0xf6)](exports,a331_0x3bab4a(0xf8),{'value':!![]}),exports['fetchAttachments']=exports[a331_0x3bab4a(0xec)]=exports[a331_0x3bab4a(0xf0)]=exports[a331_0x3bab4a(0xd2)]=exports[a331_0x3bab4a(0xfd)]=void 0x0;const index_1=require(a331_0x3bab4a(0x100)),constants_1=require(a331_0x3bab4a(0xda)),salesforce_request_1=require(a331_0x3bab4a(0xdf)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a331_0x3bab4a(0xeb)],FIELD_PARENT_ID=a331_0x3bab4a(0xea),FIELD_ID='Id';async function retrieveAttachments(_0x46e3a5,_0x13e889){const _0xb4809a=a331_0x3bab4a;let _0x13be97=0x0,_0xde1c91=0x0,_0x10ec65=[];const _0x5a3a54=[];for(const _0x4d1190 of _0x46e3a5){if(_0x4d1190[_0xb4809a(0xe7)]>REST_ATTACHMENT_MAX_SIZE){const _0xc54297=await fetchAttachmentBody(_0x13e889,_0x4d1190['Id']);_0x5a3a54[_0xb4809a(0xd8)]({'id':_0x4d1190['Id'],'values':{'Body':_0xc54297[_0xb4809a(0xd6)](_0xb4809a(0xff))}});continue;}if(_0x4d1190[_0xb4809a(0xe7)]+_0x13be97>REST_ATTACHMENT_MAX_SIZE||_0xde1c91+0x1>=REST_ATTACHMENT_COUNT){const _0x37543b=await fetchAttachments(_0x13e889,BINARY_FIELDS,_0x10ec65);_0x5a3a54[_0xb4809a(0xd8)](..._0x37543b),_0x10ec65=[],_0x13be97=0x0,_0xde1c91=0x0;}_0x10ec65['push'](_0x4d1190['Id']),_0x13be97+=_0x4d1190[_0xb4809a(0xe7)],_0xde1c91++;}if(_0x10ec65[_0xb4809a(0xfb)]){const _0x1b5deb=await fetchAttachments(_0x13e889,BINARY_FIELDS,_0x10ec65);_0x5a3a54[_0xb4809a(0xd8)](..._0x1b5deb);}return _0x5a3a54;}exports[a331_0x3bab4a(0xfd)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x20d690,_0x4173bd){return fetchAttachmentsDetails(_0x20d690,FIELD_ID,_0x4173bd);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function a331_0xa37b(_0x419f89,_0x40f328){const _0x4705dc=a331_0x5e1d();return a331_0xa37b=function(_0x3b9664,_0x4ff9a5){_0x3b9664=_0x3b9664-0xcf;let _0x5e1d77=_0x4705dc[_0x3b9664];return _0x5e1d77;},a331_0xa37b(_0x419f89,_0x40f328);}function a331_0x5e1d(){const _0x16502b=['chunkArray','constructor','../../functions/utils/salesforce-request','/sobjects/Attachment/','/services/data/','search','2630xtcmDs','fetchAttachments','(((.+)+)+)+$','8ydouvO','BodyLength','1269994LdeMBn','212407eyCcrm','ParentId','Body','fetchAttachmentBody','records','\x27,\x27','/services/apexrest','fetchAttachmentsDetailsByParentId','/retrieveAttachments/','5aZTymN','16HOTQIl','get','post','defineProperty','namespace','__esModule','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','Attachment','length','644JVErjH','retrieveAttachments','762335XJWTES','base64','./index','2595546bKfbwd','7137BdsYSi','495255IrqLds','apply','fetchAttachmentsDetailsById','\x20IN\x20(','arraybuffer','3543828tznprL','toString','SALESFORCE_API_VERSION','push','/body','../../../constants','11IOhIWf','1PXWkfx'];a331_0x5e1d=function(){return _0x16502b;};return a331_0x5e1d();}function fetchAttachmentsDetailsByParentId(_0x11cf76,_0x2c60e4){return fetchAttachmentsDetails(_0x11cf76,FIELD_PARENT_ID,_0x2c60e4);}exports[a331_0x3bab4a(0xf0)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4b0fb1,_0x4d7a33,_0x517ac3){const _0x50e132=a331_0x3bab4a,_0x3841e7=[],_0x3fb94f=(0x0,index_1[_0x50e132(0xdd)])(_0x517ac3,CHUNK_QUERY_SIZE);for(const _0x5640fd of _0x3fb94f){const _0x162844=_0x50e132(0xf9)+_0x4d7a33+_0x50e132(0xd3)+('\x27'+_0x5640fd['join'](_0x50e132(0xee))+'\x27')+')',{data:_0x1407c3}=await _0x4b0fb1[_0x50e132(0xf4)](_0x50e132(0xe1)+constants_1[_0x50e132(0xd7)]+'/query/',{'params':{'q':_0x162844}});_0x3841e7[_0x50e132(0xd8)](..._0x1407c3[_0x50e132(0xed)]);}return _0x3841e7;}async function fetchAttachmentBody(_0x362c04,_0x4f7828){const _0x44bbe5=a331_0x3bab4a,{data:_0x55e4f8}=await _0x362c04[_0x44bbe5(0xf4)](_0x44bbe5(0xe1)+constants_1[_0x44bbe5(0xd7)]+_0x44bbe5(0xe0)+_0x4f7828+_0x44bbe5(0xd9),{'responseType':_0x44bbe5(0xd4)});return _0x55e4f8;}exports[a331_0x3bab4a(0xec)]=fetchAttachmentBody;async function fetchAttachments(_0x164e63,_0x572492,_0x492a91){const _0x1fdb3f=a331_0x3bab4a,{data:_0x2659a3}=await _0x164e63[_0x1fdb3f(0xf5)](_0x1fdb3f(0xef)+salesforce_request_1[_0x1fdb3f(0xf7)]+_0x1fdb3f(0xf1),{'objectName':_0x1fdb3f(0xfa),'binaryFields':_0x572492,'recordIds':_0x492a91});return _0x2659a3;}exports[a331_0x3bab4a(0xe4)]=fetchAttachments;