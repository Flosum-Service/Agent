const a280_0x259eb7=a280_0x51e3;function a280_0x2755(){const _0x1690ff=['../../functions/utils/salesforce-request','base64','BodyLength','/services/data/','fetchAttachments','9ncAzCo','retrieveAttachments','387633KIboFT','toString','../../../constants','defineProperty','552010wLYxLK','995350dXhaDQ','push','SALESFORCE_API_VERSION','/query/','fetchAttachmentBody','6YtqEHQ','1115340XENavf','2907653GSFrnM','__esModule','arraybuffer','get','constructor','1896472ELUYMT','post','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','fetchAttachmentsDetailsById','search','length','1961013Ywuafb','apply','\x27,\x27','fetchAttachmentsDetailsByParentId','namespace','(((.+)+)+)+$','/body','ParentId'];a280_0x2755=function(){return _0x1690ff;};return a280_0x2755();}(function(_0x551baf,_0x527a65){const _0x1407fe=a280_0x51e3,_0x1faa74=_0x551baf();while(!![]){try{const _0x34c4b9=-parseInt(_0x1407fe(0xcd))/0x1+parseInt(_0x1407fe(0xd1))/0x2+parseInt(_0x1407fe(0xbe))/0x3+parseInt(_0x1407fe(0xd8))/0x4+parseInt(_0x1407fe(0xd2))/0x5+parseInt(_0x1407fe(0xd7))/0x6*(-parseInt(_0x1407fe(0xd9))/0x7)+parseInt(_0x1407fe(0xb8))/0x8*(-parseInt(_0x1407fe(0xcb))/0x9);if(_0x34c4b9===_0x527a65)break;else _0x1faa74['push'](_0x1faa74['shift']());}catch(_0x14e478){_0x1faa74['push'](_0x1faa74['shift']());}}}(a280_0x2755,0x59b96));const a280_0x5caa73=(function(){let _0x2a0a65=!![];return function(_0x3ee4cb,_0x4dd198){const _0x2651d0=_0x2a0a65?function(){const _0x9660de=a280_0x51e3;if(_0x4dd198){const _0x4599dd=_0x4dd198[_0x9660de(0xbf)](_0x3ee4cb,arguments);return _0x4dd198=null,_0x4599dd;}}:function(){};return _0x2a0a65=![],_0x2651d0;};}()),a280_0x4ac575=a280_0x5caa73(this,function(){const _0x68a6b4=a280_0x51e3;return a280_0x4ac575[_0x68a6b4(0xce)]()['search'](_0x68a6b4(0xc3))[_0x68a6b4(0xce)]()[_0x68a6b4(0xb7)](a280_0x4ac575)[_0x68a6b4(0xbc)]('(((.+)+)+)+$');});a280_0x4ac575();'use strict';Object[a280_0x259eb7(0xd0)](exports,a280_0x259eb7(0xda),{'value':!![]}),exports[a280_0x259eb7(0xca)]=exports[a280_0x259eb7(0xd6)]=exports[a280_0x259eb7(0xc1)]=exports[a280_0x259eb7(0xbb)]=exports[a280_0x259eb7(0xcc)]=void 0x0;const index_1=require('./index'),constants_1=require(a280_0x259eb7(0xcf)),salesforce_request_1=require(a280_0x259eb7(0xc6)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a280_0x259eb7(0xc5),FIELD_ID='Id';async function retrieveAttachments(_0x188a3a,_0x46017a){const _0x4e46cb=a280_0x259eb7;let _0x3cd30a=0x0,_0x184d0e=0x0,_0x5ae8e8=[];const _0x11e234=[];for(const _0x1ae795 of _0x188a3a){if(_0x1ae795[_0x4e46cb(0xc8)]>REST_ATTACHMENT_MAX_SIZE){const _0x921942=await fetchAttachmentBody(_0x46017a,_0x1ae795['Id']);_0x11e234[_0x4e46cb(0xd3)]({'id':_0x1ae795['Id'],'values':{'Body':_0x921942[_0x4e46cb(0xce)](_0x4e46cb(0xc7))}});continue;}if(_0x1ae795[_0x4e46cb(0xc8)]+_0x3cd30a>REST_ATTACHMENT_MAX_SIZE||_0x184d0e+0x1>=REST_ATTACHMENT_COUNT){const _0x1c05f1=await fetchAttachments(_0x46017a,BINARY_FIELDS,_0x5ae8e8);_0x11e234[_0x4e46cb(0xd3)](..._0x1c05f1),_0x5ae8e8=[],_0x3cd30a=0x0,_0x184d0e=0x0;}_0x5ae8e8[_0x4e46cb(0xd3)](_0x1ae795['Id']),_0x3cd30a+=_0x1ae795['BodyLength'],_0x184d0e++;}if(_0x5ae8e8[_0x4e46cb(0xbd)]){const _0x46b5ee=await fetchAttachments(_0x46017a,BINARY_FIELDS,_0x5ae8e8);_0x11e234[_0x4e46cb(0xd3)](..._0x46b5ee);}return _0x11e234;}exports[a280_0x259eb7(0xcc)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x389971,_0xa5fe10){return fetchAttachmentsDetails(_0x389971,FIELD_ID,_0xa5fe10);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3afeac,_0x386b9f){return fetchAttachmentsDetails(_0x3afeac,FIELD_PARENT_ID,_0x386b9f);}exports[a280_0x259eb7(0xc1)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5c0c4b,_0x29ab51,_0x5d053a){const _0x2fd818=a280_0x259eb7,_0x5ef049=[],_0x20432b=(0x0,index_1['chunkArray'])(_0x5d053a,CHUNK_QUERY_SIZE);for(const _0x19fa33 of _0x20432b){const _0x461acc=_0x2fd818(0xba)+_0x29ab51+'\x20IN\x20('+('\x27'+_0x19fa33['join'](_0x2fd818(0xc0))+'\x27')+')',{data:_0x20a3ea}=await _0x5c0c4b[_0x2fd818(0xb6)](_0x2fd818(0xc9)+constants_1[_0x2fd818(0xd4)]+_0x2fd818(0xd5),{'params':{'q':_0x461acc}});_0x5ef049['push'](..._0x20a3ea['records']);}return _0x5ef049;}async function fetchAttachmentBody(_0x56699f,_0x120d70){const _0x5abb01=a280_0x259eb7,{data:_0x117482}=await _0x56699f[_0x5abb01(0xb6)](_0x5abb01(0xc9)+constants_1[_0x5abb01(0xd4)]+'/sobjects/Attachment/'+_0x120d70+_0x5abb01(0xc4),{'responseType':_0x5abb01(0xb5)});return _0x117482;}function a280_0x51e3(_0x3a8667,_0x9fe5a9){const _0x406364=a280_0x2755();return a280_0x51e3=function(_0x4ac575,_0x5caa73){_0x4ac575=_0x4ac575-0xb5;let _0x275542=_0x406364[_0x4ac575];return _0x275542;},a280_0x51e3(_0x3a8667,_0x9fe5a9);}exports[a280_0x259eb7(0xd6)]=fetchAttachmentBody;async function fetchAttachments(_0x4978ad,_0x4020ac,_0x3f27b3){const _0x2d1c39=a280_0x259eb7,{data:_0x4572d3}=await _0x4978ad[_0x2d1c39(0xb9)]('/services/apexrest'+salesforce_request_1[_0x2d1c39(0xc2)]+'/retrieveAttachments/',{'objectName':'Attachment','binaryFields':_0x4020ac,'recordIds':_0x3f27b3});return _0x4572d3;}exports[a280_0x259eb7(0xca)]=fetchAttachments;