const a287_0x8f7f6b=a287_0x2090;(function(_0x3d0948,_0x3910a1){const _0x2603e0=a287_0x2090,_0x25f6de=_0x3d0948();while(!![]){try{const _0x29bd30=-parseInt(_0x2603e0(0xf5))/0x1+parseInt(_0x2603e0(0x119))/0x2+parseInt(_0x2603e0(0x115))/0x3*(parseInt(_0x2603e0(0x117))/0x4)+-parseInt(_0x2603e0(0x100))/0x5*(-parseInt(_0x2603e0(0x11f))/0x6)+parseInt(_0x2603e0(0x116))/0x7+-parseInt(_0x2603e0(0x10b))/0x8*(-parseInt(_0x2603e0(0x10d))/0x9)+-parseInt(_0x2603e0(0xfc))/0xa;if(_0x29bd30===_0x3910a1)break;else _0x25f6de['push'](_0x25f6de['shift']());}catch(_0x3c2559){_0x25f6de['push'](_0x25f6de['shift']());}}}(a287_0x42fa,0x5a842));const a287_0xeceba7=(function(){let _0x2ba142=!![];return function(_0x15f19a,_0x385ea6){const _0xf3cba7=_0x2ba142?function(){if(_0x385ea6){const _0x393a73=_0x385ea6['apply'](_0x15f19a,arguments);return _0x385ea6=null,_0x393a73;}}:function(){};return _0x2ba142=![],_0xf3cba7;};}()),a287_0x35dfa7=a287_0xeceba7(this,function(){const _0x35988b=a287_0x2090;return a287_0x35dfa7['toString']()[_0x35988b(0x113)](_0x35988b(0xfb))[_0x35988b(0x114)]()[_0x35988b(0x112)](a287_0x35dfa7)[_0x35988b(0x113)](_0x35988b(0xfb));});a287_0x35dfa7();'use strict';Object[a287_0x8f7f6b(0x11e)](exports,'__esModule',{'value':!![]}),exports[a287_0x8f7f6b(0x10e)]=exports[a287_0x8f7f6b(0x102)]=exports[a287_0x8f7f6b(0xf9)]=exports[a287_0x8f7f6b(0x101)]=exports[a287_0x8f7f6b(0xfd)]=void 0x0;const index_1=require(a287_0x8f7f6b(0x10a)),constants_1=require(a287_0x8f7f6b(0x11a)),salesforce_request_1=require(a287_0x8f7f6b(0xf6)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x8f7f6b(0xf8)],FIELD_PARENT_ID=a287_0x8f7f6b(0x110),FIELD_ID='Id';async function retrieveAttachments(_0x2e87f1,_0x58fb71){const _0x492321=a287_0x8f7f6b;let _0x1958fa=0x0,_0x1515e7=0x0,_0x5ef18b=[];const _0x93ddf8=[];for(const _0x7ed58 of _0x2e87f1){if(_0x7ed58['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x159071=await fetchAttachmentBody(_0x58fb71,_0x7ed58['Id']);_0x93ddf8['push']({'id':_0x7ed58['Id'],'values':{'Body':_0x159071[_0x492321(0x114)]('base64')}});continue;}if(_0x7ed58[_0x492321(0x103)]+_0x1958fa>REST_ATTACHMENT_MAX_SIZE||_0x1515e7+0x1>=REST_ATTACHMENT_COUNT){const _0x5493a0=await fetchAttachments(_0x58fb71,BINARY_FIELDS,_0x5ef18b);_0x93ddf8['push'](..._0x5493a0),_0x5ef18b=[],_0x1958fa=0x0,_0x1515e7=0x0;}_0x5ef18b[_0x492321(0x11c)](_0x7ed58['Id']),_0x1958fa+=_0x7ed58['BodyLength'],_0x1515e7++;}if(_0x5ef18b[_0x492321(0xf7)]){const _0x8cd102=await fetchAttachments(_0x58fb71,BINARY_FIELDS,_0x5ef18b);_0x93ddf8[_0x492321(0x11c)](..._0x8cd102);}return _0x93ddf8;}function a287_0x2090(_0x5f4606,_0x23b693){const _0x5296d3=a287_0x42fa();return a287_0x2090=function(_0x35dfa7,_0xeceba7){_0x35dfa7=_0x35dfa7-0xf5;let _0x42fab2=_0x5296d3[_0x35dfa7];return _0x42fab2;},a287_0x2090(_0x5f4606,_0x23b693);}function a287_0x42fa(){const _0x50a4ae=['564HVfAsb','2584645lUlgfe','2620OCQXrs','Attachment','404694rZSFro','../../../constants','chunkArray','push','/sobjects/Attachment/','defineProperty','3246JedQwz','131207aJFqYW','../../functions/utils/salesforce-request','length','Body','fetchAttachmentsDetailsByParentId','\x20IN\x20(','(((.+)+)+)+$','9748990HzhslB','retrieveAttachments','arraybuffer','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','5090MLmHro','fetchAttachmentsDetailsById','fetchAttachmentBody','BodyLength','\x27,\x27','/body','/query/','get','namespace','SALESFORCE_API_VERSION','./index','416bRXdoM','/retrieveAttachments/','40050RXTjCj','fetchAttachments','/services/data/','ParentId','/services/apexrest','constructor','search','toString'];a287_0x42fa=function(){return _0x50a4ae;};return a287_0x42fa();}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x54f9c1,_0x1fd3e2){return fetchAttachmentsDetails(_0x54f9c1,FIELD_ID,_0x1fd3e2);}exports[a287_0x8f7f6b(0x101)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3ba0e1,_0x2f0ec1){return fetchAttachmentsDetails(_0x3ba0e1,FIELD_PARENT_ID,_0x2f0ec1);}exports[a287_0x8f7f6b(0xf9)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4ae070,_0x59975a,_0x295dcb){const _0x256131=a287_0x8f7f6b,_0x2e5f8e=[],_0x2d7ea5=(0x0,index_1[_0x256131(0x11b)])(_0x295dcb,CHUNK_QUERY_SIZE);for(const _0x592740 of _0x2d7ea5){const _0x51b0fa=_0x256131(0xff)+_0x59975a+_0x256131(0xfa)+('\x27'+_0x592740['join'](_0x256131(0x104))+'\x27')+')',{data:_0x2955b8}=await _0x4ae070[_0x256131(0x107)](_0x256131(0x10f)+constants_1['SALESFORCE_API_VERSION']+_0x256131(0x106),{'params':{'q':_0x51b0fa}});_0x2e5f8e[_0x256131(0x11c)](..._0x2955b8['records']);}return _0x2e5f8e;}async function fetchAttachmentBody(_0x194661,_0x537ded){const _0x183f4a=a287_0x8f7f6b,{data:_0x5a7133}=await _0x194661[_0x183f4a(0x107)](_0x183f4a(0x10f)+constants_1[_0x183f4a(0x109)]+_0x183f4a(0x11d)+_0x537ded+_0x183f4a(0x105),{'responseType':_0x183f4a(0xfe)});return _0x5a7133;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x410e0f,_0x2967f7,_0x41c536){const _0x3d48c6=a287_0x8f7f6b,{data:_0xcb4a91}=await _0x410e0f['post'](_0x3d48c6(0x111)+salesforce_request_1[_0x3d48c6(0x108)]+_0x3d48c6(0x10c),{'objectName':_0x3d48c6(0x118),'binaryFields':_0x2967f7,'recordIds':_0x41c536});return _0xcb4a91;}exports[a287_0x8f7f6b(0x10e)]=fetchAttachments;