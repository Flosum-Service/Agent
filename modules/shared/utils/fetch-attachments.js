const a279_0xcf9df1=a279_0xc5f2;(function(_0x49488a,_0x2fc576){const _0x1f8bd7=a279_0xc5f2,_0x19620d=_0x49488a();while(!![]){try{const _0x6648d3=parseInt(_0x1f8bd7(0x126))/0x1*(-parseInt(_0x1f8bd7(0x132))/0x2)+parseInt(_0x1f8bd7(0x133))/0x3+parseInt(_0x1f8bd7(0x121))/0x4+-parseInt(_0x1f8bd7(0x140))/0x5+parseInt(_0x1f8bd7(0x13a))/0x6*(-parseInt(_0x1f8bd7(0x11c))/0x7)+-parseInt(_0x1f8bd7(0x11b))/0x8*(-parseInt(_0x1f8bd7(0x13d))/0x9)+parseInt(_0x1f8bd7(0x13e))/0xa;if(_0x6648d3===_0x2fc576)break;else _0x19620d['push'](_0x19620d['shift']());}catch(_0x16b917){_0x19620d['push'](_0x19620d['shift']());}}}(a279_0x5aca,0x393bd));const a279_0x41c0a0=(function(){let _0x48cfbc=!![];return function(_0x525ac8,_0x353b34){const _0x54b0b3=_0x48cfbc?function(){const _0x4058fe=a279_0xc5f2;if(_0x353b34){const _0x2b8764=_0x353b34[_0x4058fe(0x11f)](_0x525ac8,arguments);return _0x353b34=null,_0x2b8764;}}:function(){};return _0x48cfbc=![],_0x54b0b3;};}()),a279_0x4d167f=a279_0x41c0a0(this,function(){const _0x3c4e6c=a279_0xc5f2;return a279_0x4d167f['toString']()[_0x3c4e6c(0x13c)](_0x3c4e6c(0x139))['toString']()[_0x3c4e6c(0x137)](a279_0x4d167f)['search'](_0x3c4e6c(0x139));});a279_0x4d167f();'use strict';Object['defineProperty'](exports,a279_0xcf9df1(0x12b),{'value':!![]}),exports[a279_0xcf9df1(0x13f)]=exports[a279_0xcf9df1(0x125)]=exports[a279_0xcf9df1(0x130)]=exports[a279_0xcf9df1(0x12c)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a279_0xcf9df1(0x129)),constants_1=require(a279_0xcf9df1(0x122)),salesforce_request_1=require(a279_0xcf9df1(0x13b)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a279_0xcf9df1(0x138),FIELD_ID='Id';async function retrieveAttachments(_0x3da172,_0x4e27bf){const _0x1809e0=a279_0xcf9df1;let _0x4b6104=0x0,_0x96dda9=0x0,_0x34e642=[];const _0x1ac64f=[];for(const _0x3f24ad of _0x3da172){if(_0x3f24ad['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x5de191=await fetchAttachmentBody(_0x4e27bf,_0x3f24ad['Id']);_0x1ac64f[_0x1809e0(0x131)]({'id':_0x3f24ad['Id'],'values':{'Body':_0x5de191['toString'](_0x1809e0(0x12d))}});continue;}if(_0x3f24ad[_0x1809e0(0x141)]+_0x4b6104>REST_ATTACHMENT_MAX_SIZE||_0x96dda9+0x1>=REST_ATTACHMENT_COUNT){const _0xad2471=await fetchAttachments(_0x4e27bf,BINARY_FIELDS,_0x34e642);_0x1ac64f[_0x1809e0(0x131)](..._0xad2471),_0x34e642=[],_0x4b6104=0x0,_0x96dda9=0x0;}_0x34e642['push'](_0x3f24ad['Id']),_0x4b6104+=_0x3f24ad[_0x1809e0(0x141)],_0x96dda9++;}if(_0x34e642[_0x1809e0(0x134)]){const _0x156e53=await fetchAttachments(_0x4e27bf,BINARY_FIELDS,_0x34e642);_0x1ac64f[_0x1809e0(0x131)](..._0x156e53);}return _0x1ac64f;}function a279_0x5aca(){const _0x67fa0a=['Attachment','SALESFORCE_API_VERSION','constructor','ParentId','(((.+)+)+)+$','48rEwdgA','../../functions/utils/salesforce-request','search','745146KKdELA','3046540kRHcFA','fetchAttachments','733485YKVRrA','BodyLength','chunkArray','/query/','get','32WljLXt','317233gpeydO','arraybuffer','post','apply','/body','689544ELMJlf','../../../constants','/retrieveAttachments/','join','fetchAttachmentBody','19508RPSquv','retrieveAttachments','namespace','./index','records','__esModule','fetchAttachmentsDetailsById','base64','\x20IN\x20(','/services/data/','fetchAttachmentsDetailsByParentId','push','18irjKal','333102HSwYCG','length'];a279_0x5aca=function(){return _0x67fa0a;};return a279_0x5aca();}exports[a279_0xcf9df1(0x127)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x1208f9,_0x38ea79){return fetchAttachmentsDetails(_0x1208f9,FIELD_ID,_0x38ea79);}exports[a279_0xcf9df1(0x12c)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x559f6a,_0x4e88e8){return fetchAttachmentsDetails(_0x559f6a,FIELD_PARENT_ID,_0x4e88e8);}exports[a279_0xcf9df1(0x130)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5c19d9,_0x1ad64e,_0x7880d2){const _0xef6b11=a279_0xcf9df1,_0x356b10=[],_0xacfd4a=(0x0,index_1[_0xef6b11(0x118)])(_0x7880d2,CHUNK_QUERY_SIZE);for(const _0x269b77 of _0xacfd4a){const _0x583f49='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0x1ad64e+_0xef6b11(0x12e)+('\x27'+_0x269b77[_0xef6b11(0x124)]('\x27,\x27')+'\x27')+')',{data:_0x13e8dc}=await _0x5c19d9[_0xef6b11(0x11a)](_0xef6b11(0x12f)+constants_1[_0xef6b11(0x136)]+_0xef6b11(0x119),{'params':{'q':_0x583f49}});_0x356b10[_0xef6b11(0x131)](..._0x13e8dc[_0xef6b11(0x12a)]);}return _0x356b10;}async function fetchAttachmentBody(_0x59588f,_0x29ddb5){const _0x2f8af0=a279_0xcf9df1,{data:_0x5ae57f}=await _0x59588f['get'](_0x2f8af0(0x12f)+constants_1[_0x2f8af0(0x136)]+'/sobjects/Attachment/'+_0x29ddb5+_0x2f8af0(0x120),{'responseType':_0x2f8af0(0x11d)});return _0x5ae57f;}exports[a279_0xcf9df1(0x125)]=fetchAttachmentBody;async function fetchAttachments(_0x105371,_0x29122a,_0x3e7017){const _0x403e43=a279_0xcf9df1,{data:_0x52abec}=await _0x105371[_0x403e43(0x11e)]('/services/apexrest'+salesforce_request_1[_0x403e43(0x128)]+_0x403e43(0x123),{'objectName':_0x403e43(0x135),'binaryFields':_0x29122a,'recordIds':_0x3e7017});return _0x52abec;}function a279_0xc5f2(_0xfafbb8,_0x4fb247){const _0x39295e=a279_0x5aca();return a279_0xc5f2=function(_0x4d167f,_0x41c0a0){_0x4d167f=_0x4d167f-0x118;let _0x5aca29=_0x39295e[_0x4d167f];return _0x5aca29;},a279_0xc5f2(_0xfafbb8,_0x4fb247);}exports[a279_0xcf9df1(0x13f)]=fetchAttachments;