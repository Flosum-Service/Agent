function a330_0xeb39(){const _0x57d04a=['/sobjects/Attachment/','(((.+)+)+)+$','27991770YoVYRl','search','12foRDfb','fetchAttachmentBody','defineProperty','fetchAttachmentsDetailsByParentId','/services/apexrest','240165JmHnKQ','BodyLength','1010773tyFcPN','\x20IN\x20(','9595452rHYVHt','get','Body','join','/retrieveAttachments/','length','12991104KvcggW','/services/data/','SALESFORCE_API_VERSION','fetchAttachmentsDetailsById','retrieveAttachments','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','namespace','Attachment','toString','records','base64','/body','fetchAttachments','chunkArray','2SJZlTZ','9hFmsKf','5482743GYaafq','4815702osKuNB','constructor','./index','../../../constants','__esModule','../../functions/utils/salesforce-request','push'];a330_0xeb39=function(){return _0x57d04a;};return a330_0xeb39();}function a330_0x25ba(_0x1cfe3c,_0x237538){const _0x30a73e=a330_0xeb39();return a330_0x25ba=function(_0x401202,_0x492a53){_0x401202=_0x401202-0x76;let _0xeb3912=_0x30a73e[_0x401202];return _0xeb3912;},a330_0x25ba(_0x1cfe3c,_0x237538);}const a330_0x230928=a330_0x25ba;(function(_0x3b26f8,_0x2610b5){const _0x2b01ef=a330_0x25ba,_0xa34f09=_0x3b26f8();while(!![]){try{const _0x2eade5=-parseInt(_0x2b01ef(0x8d))/0x1+parseInt(_0x2b01ef(0x78))/0x2*(-parseInt(_0x2b01ef(0x7b))/0x3)+parseInt(_0x2b01ef(0x86))/0x4*(-parseInt(_0x2b01ef(0x8b))/0x5)+-parseInt(_0x2b01ef(0x8f))/0x6+parseInt(_0x2b01ef(0x7a))/0x7+parseInt(_0x2b01ef(0x95))/0x8+-parseInt(_0x2b01ef(0x79))/0x9*(-parseInt(_0x2b01ef(0x84))/0xa);if(_0x2eade5===_0x2610b5)break;else _0xa34f09['push'](_0xa34f09['shift']());}catch(_0x4ad2ff){_0xa34f09['push'](_0xa34f09['shift']());}}}(a330_0xeb39,0xcec76));const a330_0x492a53=(function(){let _0x3df9b6=!![];return function(_0x1a257b,_0x458cd2){const _0x13efe6=_0x3df9b6?function(){if(_0x458cd2){const _0x2134e7=_0x458cd2['apply'](_0x1a257b,arguments);return _0x458cd2=null,_0x2134e7;}}:function(){};return _0x3df9b6=![],_0x13efe6;};}()),a330_0x401202=a330_0x492a53(this,function(){const _0x2626bd=a330_0x25ba;return a330_0x401202[_0x2626bd(0x9d)]()[_0x2626bd(0x85)](_0x2626bd(0x83))[_0x2626bd(0x9d)]()[_0x2626bd(0x7c)](a330_0x401202)[_0x2626bd(0x85)]('(((.+)+)+)+$');});a330_0x401202();'use strict';Object[a330_0x230928(0x88)](exports,a330_0x230928(0x7f),{'value':!![]}),exports[a330_0x230928(0x76)]=exports[a330_0x230928(0x87)]=exports[a330_0x230928(0x89)]=exports[a330_0x230928(0x98)]=exports[a330_0x230928(0x99)]=void 0x0;const index_1=require(a330_0x230928(0x7d)),constants_1=require(a330_0x230928(0x7e)),salesforce_request_1=require(a330_0x230928(0x80)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a330_0x230928(0x91)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x3307a8,_0x18c3a8){const _0x1dc5fb=a330_0x230928;let _0x828642=0x0,_0x3c0feb=0x0,_0x577788=[];const _0x13c684=[];for(const _0x54373e of _0x3307a8){if(_0x54373e[_0x1dc5fb(0x8c)]>REST_ATTACHMENT_MAX_SIZE){const _0x3fbdc3=await fetchAttachmentBody(_0x18c3a8,_0x54373e['Id']);_0x13c684[_0x1dc5fb(0x81)]({'id':_0x54373e['Id'],'values':{'Body':_0x3fbdc3[_0x1dc5fb(0x9d)](_0x1dc5fb(0x9f))}});continue;}if(_0x54373e[_0x1dc5fb(0x8c)]+_0x828642>REST_ATTACHMENT_MAX_SIZE||_0x3c0feb+0x1>=REST_ATTACHMENT_COUNT){const _0x52bffc=await fetchAttachments(_0x18c3a8,BINARY_FIELDS,_0x577788);_0x13c684['push'](..._0x52bffc),_0x577788=[],_0x828642=0x0,_0x3c0feb=0x0;}_0x577788[_0x1dc5fb(0x81)](_0x54373e['Id']),_0x828642+=_0x54373e[_0x1dc5fb(0x8c)],_0x3c0feb++;}if(_0x577788[_0x1dc5fb(0x94)]){const _0x235223=await fetchAttachments(_0x18c3a8,BINARY_FIELDS,_0x577788);_0x13c684[_0x1dc5fb(0x81)](..._0x235223);}return _0x13c684;}exports[a330_0x230928(0x99)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x3a186a,_0x4c2b1d){return fetchAttachmentsDetails(_0x3a186a,FIELD_ID,_0x4c2b1d);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x5baa66,_0x171d4d){return fetchAttachmentsDetails(_0x5baa66,FIELD_PARENT_ID,_0x171d4d);}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x41b7b7,_0x4a8605,_0x50dab9){const _0x529683=a330_0x230928,_0x3cd959=[],_0x2e21cc=(0x0,index_1[_0x529683(0x77)])(_0x50dab9,CHUNK_QUERY_SIZE);for(const _0x7b3061 of _0x2e21cc){const _0x39e5e0=_0x529683(0x9a)+_0x4a8605+_0x529683(0x8e)+('\x27'+_0x7b3061[_0x529683(0x92)]('\x27,\x27')+'\x27')+')',{data:_0x13958c}=await _0x41b7b7[_0x529683(0x90)](_0x529683(0x96)+constants_1[_0x529683(0x97)]+'/query/',{'params':{'q':_0x39e5e0}});_0x3cd959[_0x529683(0x81)](..._0x13958c[_0x529683(0x9e)]);}return _0x3cd959;}async function fetchAttachmentBody(_0x329506,_0x19c092){const _0x53925f=a330_0x230928,{data:_0x76149e}=await _0x329506[_0x53925f(0x90)]('/services/data/'+constants_1[_0x53925f(0x97)]+_0x53925f(0x82)+_0x19c092+_0x53925f(0xa0),{'responseType':'arraybuffer'});return _0x76149e;}exports[a330_0x230928(0x87)]=fetchAttachmentBody;async function fetchAttachments(_0x4e5ccf,_0x5f47af,_0x23cb6d){const _0x457cd6=a330_0x230928,{data:_0x435d8d}=await _0x4e5ccf['post'](_0x457cd6(0x8a)+salesforce_request_1[_0x457cd6(0x9b)]+_0x457cd6(0x93),{'objectName':_0x457cd6(0x9c),'binaryFields':_0x5f47af,'recordIds':_0x23cb6d});return _0x435d8d;}exports[a330_0x230928(0x76)]=fetchAttachments;