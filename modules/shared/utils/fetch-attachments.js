const a279_0x59dc21=a279_0x4901;(function(_0x7558f8,_0x3229ce){const _0x3924b0=a279_0x4901,_0x266cb0=_0x7558f8();while(!![]){try{const _0x4616fb=parseInt(_0x3924b0(0x183))/0x1*(-parseInt(_0x3924b0(0x188))/0x2)+parseInt(_0x3924b0(0x185))/0x3*(-parseInt(_0x3924b0(0x172))/0x4)+parseInt(_0x3924b0(0x18a))/0x5+-parseInt(_0x3924b0(0x181))/0x6+-parseInt(_0x3924b0(0x168))/0x7+parseInt(_0x3924b0(0x173))/0x8*(-parseInt(_0x3924b0(0x17c))/0x9)+parseInt(_0x3924b0(0x17f))/0xa*(parseInt(_0x3924b0(0x167))/0xb);if(_0x4616fb===_0x3229ce)break;else _0x266cb0['push'](_0x266cb0['shift']());}catch(_0x435fe8){_0x266cb0['push'](_0x266cb0['shift']());}}}(a279_0x5b22,0xe6466));const a279_0x39d319=(function(){let _0x58a414=!![];return function(_0xb367c,_0x1eaeea){const _0x546eef=_0x58a414?function(){const _0x8c63c7=a279_0x4901;if(_0x1eaeea){const _0x562dec=_0x1eaeea[_0x8c63c7(0x166)](_0xb367c,arguments);return _0x1eaeea=null,_0x562dec;}}:function(){};return _0x58a414=![],_0x546eef;};}()),a279_0x5cfc10=a279_0x39d319(this,function(){const _0x2bd5d1=a279_0x4901;return a279_0x5cfc10[_0x2bd5d1(0x164)]()[_0x2bd5d1(0x176)](_0x2bd5d1(0x16d))[_0x2bd5d1(0x164)]()[_0x2bd5d1(0x175)](a279_0x5cfc10)['search'](_0x2bd5d1(0x16d));});a279_0x5cfc10();'use strict';Object[a279_0x59dc21(0x187)](exports,'__esModule',{'value':!![]}),exports['fetchAttachments']=exports[a279_0x59dc21(0x180)]=exports['fetchAttachmentsDetailsByParentId']=exports[a279_0x59dc21(0x165)]=exports[a279_0x59dc21(0x161)]=void 0x0;const index_1=require(a279_0x59dc21(0x16f)),constants_1=require(a279_0x59dc21(0x17b)),salesforce_request_1=require(a279_0x59dc21(0x16c)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a279_0x59dc21(0x186)],FIELD_PARENT_ID=a279_0x59dc21(0x182),FIELD_ID='Id';function a279_0x4901(_0x18c407,_0x17eb6d){const _0x3f4757=a279_0x5b22();return a279_0x4901=function(_0x5cfc10,_0x39d319){_0x5cfc10=_0x5cfc10-0x161;let _0x5b22e4=_0x3f4757[_0x5cfc10];return _0x5b22e4;},a279_0x4901(_0x18c407,_0x17eb6d);}async function retrieveAttachments(_0x785e02,_0x40fbdc){const _0x5b15cd=a279_0x59dc21;let _0x33ab36=0x0,_0x1da3c4=0x0,_0x4d6d1a=[];const _0x2edcad=[];for(const _0x3ccd92 of _0x785e02){if(_0x3ccd92[_0x5b15cd(0x17d)]>REST_ATTACHMENT_MAX_SIZE){const _0x22485e=await fetchAttachmentBody(_0x40fbdc,_0x3ccd92['Id']);_0x2edcad[_0x5b15cd(0x178)]({'id':_0x3ccd92['Id'],'values':{'Body':_0x22485e[_0x5b15cd(0x164)](_0x5b15cd(0x17a))}});continue;}if(_0x3ccd92[_0x5b15cd(0x17d)]+_0x33ab36>REST_ATTACHMENT_MAX_SIZE||_0x1da3c4+0x1>=REST_ATTACHMENT_COUNT){const _0x195463=await fetchAttachments(_0x40fbdc,BINARY_FIELDS,_0x4d6d1a);_0x2edcad[_0x5b15cd(0x178)](..._0x195463),_0x4d6d1a=[],_0x33ab36=0x0,_0x1da3c4=0x0;}_0x4d6d1a['push'](_0x3ccd92['Id']),_0x33ab36+=_0x3ccd92['BodyLength'],_0x1da3c4++;}if(_0x4d6d1a['length']){const _0x426bc5=await fetchAttachments(_0x40fbdc,BINARY_FIELDS,_0x4d6d1a);_0x2edcad[_0x5b15cd(0x178)](..._0x426bc5);}return _0x2edcad;}exports[a279_0x59dc21(0x161)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x57ace3,_0x10e322){return fetchAttachmentsDetails(_0x57ace3,FIELD_ID,_0x10e322);}exports[a279_0x59dc21(0x165)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x9be084,_0xc87bbd){return fetchAttachmentsDetails(_0x9be084,FIELD_PARENT_ID,_0xc87bbd);}exports[a279_0x59dc21(0x174)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x3367e0,_0x41b3b4,_0x3de5ba){const _0x1e70ec=a279_0x59dc21,_0x564a81=[],_0x3a21b4=(0x0,index_1['chunkArray'])(_0x3de5ba,CHUNK_QUERY_SIZE);for(const _0x650ced of _0x3a21b4){const _0x32da3b=_0x1e70ec(0x179)+_0x41b3b4+_0x1e70ec(0x163)+('\x27'+_0x650ced['join'](_0x1e70ec(0x16e))+'\x27')+')',{data:_0x320045}=await _0x3367e0[_0x1e70ec(0x189)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x1e70ec(0x169),{'params':{'q':_0x32da3b}});_0x564a81[_0x1e70ec(0x178)](..._0x320045[_0x1e70ec(0x16b)]);}return _0x564a81;}function a279_0x5b22(){const _0xcd2be7=['497407nCUPem','namespace','3CbvGzQ','Body','defineProperty','4Ivfffb','get','8831605JvnKkH','retrieveAttachments','/services/apexrest','\x20IN\x20(','toString','fetchAttachmentsDetailsById','apply','121jYWAhJ','6358072TQewFm','/query/','/retrieveAttachments/','records','../../functions/utils/salesforce-request','(((.+)+)+)+$','\x27,\x27','./index','/sobjects/Attachment/','/services/data/','466148pvsyAn','8bxPlYg','fetchAttachmentsDetailsByParentId','constructor','search','post','push','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','base64','../../../constants','14077998iyyczZ','BodyLength','fetchAttachments','3127930TZkDTa','fetchAttachmentBody','4079814NiFoTl','ParentId'];a279_0x5b22=function(){return _0xcd2be7;};return a279_0x5b22();}async function fetchAttachmentBody(_0x286abc,_0x2c491e){const _0x3bdda8=a279_0x59dc21,{data:_0x4d4f0e}=await _0x286abc[_0x3bdda8(0x189)](_0x3bdda8(0x171)+constants_1['SALESFORCE_API_VERSION']+_0x3bdda8(0x170)+_0x2c491e+'/body',{'responseType':'arraybuffer'});return _0x4d4f0e;}exports[a279_0x59dc21(0x180)]=fetchAttachmentBody;async function fetchAttachments(_0x22eac6,_0x36dded,_0xc7f1fe){const _0x5b1079=a279_0x59dc21,{data:_0x1ca700}=await _0x22eac6[_0x5b1079(0x177)](_0x5b1079(0x162)+salesforce_request_1[_0x5b1079(0x184)]+_0x5b1079(0x16a),{'objectName':'Attachment','binaryFields':_0x36dded,'recordIds':_0xc7f1fe});return _0x1ca700;}exports[a279_0x59dc21(0x17e)]=fetchAttachments;