const a280_0x1321a0=a280_0x5c62;(function(_0x3494ec,_0x3a0158){const _0x230c77=a280_0x5c62,_0x2dc110=_0x3494ec();while(!![]){try{const _0x4b30e0=parseInt(_0x230c77(0x1a9))/0x1*(-parseInt(_0x230c77(0x1ac))/0x2)+-parseInt(_0x230c77(0x1b8))/0x3*(-parseInt(_0x230c77(0x1aa))/0x4)+parseInt(_0x230c77(0x19e))/0x5*(-parseInt(_0x230c77(0x1a7))/0x6)+-parseInt(_0x230c77(0x1a4))/0x7*(-parseInt(_0x230c77(0x1a3))/0x8)+parseInt(_0x230c77(0x1b7))/0x9*(-parseInt(_0x230c77(0x1b6))/0xa)+parseInt(_0x230c77(0x1ab))/0xb+parseInt(_0x230c77(0x1b9))/0xc;if(_0x4b30e0===_0x3a0158)break;else _0x2dc110['push'](_0x2dc110['shift']());}catch(_0x3d1f51){_0x2dc110['push'](_0x2dc110['shift']());}}}(a280_0x2b5c,0xa3656));const a280_0x4559b3=(function(){let _0x43581d=!![];return function(_0xd12da6,_0x298f59){const _0x4a5f67=_0x43581d?function(){const _0x9994fb=a280_0x5c62;if(_0x298f59){const _0xc79f7b=_0x298f59[_0x9994fb(0x1a5)](_0xd12da6,arguments);return _0x298f59=null,_0xc79f7b;}}:function(){};return _0x43581d=![],_0x4a5f67;};}()),a280_0x5bd535=a280_0x4559b3(this,function(){const _0x2173f0=a280_0x5c62;return a280_0x5bd535['toString']()['search']('(((.+)+)+)+$')[_0x2173f0(0x1ba)]()[_0x2173f0(0x1b4)](a280_0x5bd535)[_0x2173f0(0x1b5)](_0x2173f0(0x19c));});a280_0x5bd535();'use strict';Object[a280_0x1321a0(0x1bc)](exports,a280_0x1321a0(0x1c6),{'value':!![]}),exports['fetchAttachments']=exports['fetchAttachmentBody']=exports['fetchAttachmentsDetailsByParentId']=exports[a280_0x1321a0(0x19f)]=exports[a280_0x1321a0(0x1c4)]=void 0x0;function a280_0x2b5c(){const _0x4a42c6=['constructor','search','3181570oRJrVk','27MAtxxR','1299hEpVnR','30082404kczFNE','toString','fetchAttachmentBody','defineProperty','push','Attachment','fetchAttachmentsDetailsByParentId','post','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','ParentId','/retrieveAttachments/','retrieveAttachments','length','__esModule','(((.+)+)+)+$','\x20IN\x20(','5515xkzvjO','fetchAttachmentsDetailsById','./index','/sobjects/Attachment/','get','16xQtwru','2810759BgXJCS','apply','../../../constants','6222CXOVmr','chunkArray','1209539xwlRYj','2864maplny','3928342KwMjek','2nQKgtp','join','/services/data/','\x27,\x27','SALESFORCE_API_VERSION','BodyLength','/services/apexrest','/query/'];a280_0x2b5c=function(){return _0x4a42c6;};return a280_0x2b5c();}const index_1=require(a280_0x1321a0(0x1a0)),constants_1=require(a280_0x1321a0(0x1a6)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a280_0x1321a0(0x1c2),FIELD_ID='Id';function a280_0x5c62(_0x3ef633,_0x5e3f58){const _0x2222d0=a280_0x2b5c();return a280_0x5c62=function(_0x5bd535,_0x4559b3){_0x5bd535=_0x5bd535-0x19c;let _0x2b5c5e=_0x2222d0[_0x5bd535];return _0x2b5c5e;},a280_0x5c62(_0x3ef633,_0x5e3f58);}async function retrieveAttachments(_0x221006,_0x58da6b){const _0x2d87c0=a280_0x1321a0;let _0x19fa10=0x0,_0x4e7adf=0x0,_0x231296=[];const _0x2ab714=[];for(const _0x8b75d1 of _0x221006){if(_0x8b75d1[_0x2d87c0(0x1b1)]>REST_ATTACHMENT_MAX_SIZE){const _0xeb280d=await fetchAttachmentBody(_0x58da6b,_0x8b75d1['Id']);_0x2ab714[_0x2d87c0(0x1bd)]({'id':_0x8b75d1['Id'],'values':{'Body':_0xeb280d[_0x2d87c0(0x1ba)]('base64')}});continue;}if(_0x8b75d1[_0x2d87c0(0x1b1)]+_0x19fa10>REST_ATTACHMENT_MAX_SIZE||_0x4e7adf+0x1>=REST_ATTACHMENT_COUNT){const _0x33fc1f=await fetchAttachments(_0x58da6b,BINARY_FIELDS,_0x231296);_0x2ab714[_0x2d87c0(0x1bd)](..._0x33fc1f),_0x231296=[],_0x19fa10=0x0,_0x4e7adf=0x0;}_0x231296[_0x2d87c0(0x1bd)](_0x8b75d1['Id']),_0x19fa10+=_0x8b75d1[_0x2d87c0(0x1b1)],_0x4e7adf++;}if(_0x231296[_0x2d87c0(0x1c5)]){const _0x5a0f33=await fetchAttachments(_0x58da6b,BINARY_FIELDS,_0x231296);_0x2ab714[_0x2d87c0(0x1bd)](..._0x5a0f33);}return _0x2ab714;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x7627e0,_0x57d4ae){return fetchAttachmentsDetails(_0x7627e0,FIELD_ID,_0x57d4ae);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x5f59f8,_0x5c93e6){return fetchAttachmentsDetails(_0x5f59f8,FIELD_PARENT_ID,_0x5c93e6);}exports[a280_0x1321a0(0x1bf)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x25b69c,_0x501e79,_0x3de065){const _0x11ed37=a280_0x1321a0,_0x77d3fa=[],_0x3fb42a=(0x0,index_1[_0x11ed37(0x1a8)])(_0x3de065,CHUNK_QUERY_SIZE);for(const _0x36f5d1 of _0x3fb42a){const _0x3bffde=_0x11ed37(0x1c1)+_0x501e79+_0x11ed37(0x19d)+('\x27'+_0x36f5d1[_0x11ed37(0x1ad)](_0x11ed37(0x1af))+'\x27')+')',{data:_0x2608c7}=await _0x25b69c[_0x11ed37(0x1a2)](_0x11ed37(0x1ae)+constants_1[_0x11ed37(0x1b0)]+_0x11ed37(0x1b3),{'params':{'q':_0x3bffde}});_0x77d3fa['push'](..._0x2608c7['records']);}return _0x77d3fa;}async function fetchAttachmentBody(_0x2b570f,_0x44f1cc){const _0x26abdd=a280_0x1321a0,{data:_0x11e1ca}=await _0x2b570f[_0x26abdd(0x1a2)](_0x26abdd(0x1ae)+constants_1[_0x26abdd(0x1b0)]+_0x26abdd(0x1a1)+_0x44f1cc+'/body',{'responseType':'arraybuffer'});return _0x11e1ca;}exports[a280_0x1321a0(0x1bb)]=fetchAttachmentBody;async function fetchAttachments(_0xd06ba7,_0xbd6caf,_0x462dcd){const _0x2e9de5=a280_0x1321a0,{data:_0x2cd64b}=await _0xd06ba7[_0x2e9de5(0x1c0)](_0x2e9de5(0x1b2)+salesforce_request_1['namespace']+_0x2e9de5(0x1c3),{'objectName':_0x2e9de5(0x1be),'binaryFields':_0xbd6caf,'recordIds':_0x462dcd});return _0x2cd64b;}exports['fetchAttachments']=fetchAttachments;