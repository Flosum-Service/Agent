const a331_0x15f3af=a331_0x4a08;(function(_0x15874a,_0x55e161){const _0x10170c=a331_0x4a08,_0x20940f=_0x15874a();while(!![]){try{const _0x21ffd6=parseInt(_0x10170c(0xe1))/0x1*(parseInt(_0x10170c(0xc5))/0x2)+parseInt(_0x10170c(0xde))/0x3+-parseInt(_0x10170c(0xca))/0x4+parseInt(_0x10170c(0xbf))/0x5*(-parseInt(_0x10170c(0xd6))/0x6)+-parseInt(_0x10170c(0xbd))/0x7+-parseInt(_0x10170c(0xc6))/0x8*(parseInt(_0x10170c(0xcd))/0x9)+parseInt(_0x10170c(0xd1))/0xa*(parseInt(_0x10170c(0xd9))/0xb);if(_0x21ffd6===_0x55e161)break;else _0x20940f['push'](_0x20940f['shift']());}catch(_0xa84fa2){_0x20940f['push'](_0x20940f['shift']());}}}(a331_0x3d83,0x69dec));const a331_0x16f744=(function(){let _0x2b661d=!![];return function(_0x136855,_0x27d524){const _0x2d77ab=_0x2b661d?function(){const _0x6624a2=a331_0x4a08;if(_0x27d524){const _0x2c7eed=_0x27d524[_0x6624a2(0xda)](_0x136855,arguments);return _0x27d524=null,_0x2c7eed;}}:function(){};return _0x2b661d=![],_0x2d77ab;};}()),a331_0x9af066=a331_0x16f744(this,function(){const _0x1aa497=a331_0x4a08;return a331_0x9af066['toString']()[_0x1aa497(0xe3)](_0x1aa497(0xc9))['toString']()[_0x1aa497(0xdc)](a331_0x9af066)[_0x1aa497(0xe3)](_0x1aa497(0xc9));});a331_0x9af066();'use strict';Object[a331_0x15f3af(0xd8)](exports,a331_0x15f3af(0xce),{'value':!![]}),exports[a331_0x15f3af(0xcc)]=exports[a331_0x15f3af(0xba)]=exports[a331_0x15f3af(0xe4)]=exports[a331_0x15f3af(0xc2)]=exports[a331_0x15f3af(0xdb)]=void 0x0;const index_1=require(a331_0x15f3af(0xd3)),constants_1=require(a331_0x15f3af(0xdf)),salesforce_request_1=require(a331_0x15f3af(0xc4)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a331_0x15f3af(0xcb)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x1f5bbd,_0x5a3250){const _0x53941d=a331_0x15f3af;let _0x374373=0x0,_0x39e638=0x0,_0x5ef401=[];const _0x371604=[];for(const _0x2d5696 of _0x1f5bbd){if(_0x2d5696['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x12bcf0=await fetchAttachmentBody(_0x5a3250,_0x2d5696['Id']);_0x371604[_0x53941d(0xd0)]({'id':_0x2d5696['Id'],'values':{'Body':_0x12bcf0[_0x53941d(0xd7)]('base64')}});continue;}if(_0x2d5696['BodyLength']+_0x374373>REST_ATTACHMENT_MAX_SIZE||_0x39e638+0x1>=REST_ATTACHMENT_COUNT){const _0x19c4ae=await fetchAttachments(_0x5a3250,BINARY_FIELDS,_0x5ef401);_0x371604[_0x53941d(0xd0)](..._0x19c4ae),_0x5ef401=[],_0x374373=0x0,_0x39e638=0x0;}_0x5ef401[_0x53941d(0xd0)](_0x2d5696['Id']),_0x374373+=_0x2d5696[_0x53941d(0xd2)],_0x39e638++;}if(_0x5ef401['length']){const _0x177869=await fetchAttachments(_0x5a3250,BINARY_FIELDS,_0x5ef401);_0x371604[_0x53941d(0xd0)](..._0x177869);}return _0x371604;}exports[a331_0x15f3af(0xdb)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x459396,_0x41d6e3){return fetchAttachmentsDetails(_0x459396,FIELD_ID,_0x41d6e3);}function a331_0x3d83(){const _0x3f49c1=['../../../constants','/retrieveAttachments/','269656xNYPoS','/services/data/','search','fetchAttachmentsDetailsByParentId','fetchAttachmentBody','/body','Attachment','544859KzmCUT','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','4049655itnLfR','records','post','fetchAttachmentsDetailsById','/services/apexrest','../../functions/utils/salesforce-request','2HxuozG','154008roCrJa','join','get','(((.+)+)+)+$','2462668iIUlKJ','Body','fetchAttachments','342rXPlqJ','__esModule','arraybuffer','push','10tymPHG','BodyLength','./index','chunkArray','\x27,\x27','6iVIlej','toString','defineProperty','26019202kDtRoe','apply','retrieveAttachments','constructor','SALESFORCE_API_VERSION','100737gMYODt'];a331_0x3d83=function(){return _0x3f49c1;};return a331_0x3d83();}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x15b977,_0x348077){return fetchAttachmentsDetails(_0x15b977,FIELD_PARENT_ID,_0x348077);}exports[a331_0x15f3af(0xe4)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x50bfdb,_0x590d25,_0x4f159a){const _0x5ea6b6=a331_0x15f3af,_0x14e863=[],_0x24530b=(0x0,index_1[_0x5ea6b6(0xd4)])(_0x4f159a,CHUNK_QUERY_SIZE);for(const _0x48bc97 of _0x24530b){const _0x24bd9d=_0x5ea6b6(0xbe)+_0x590d25+'\x20IN\x20('+('\x27'+_0x48bc97[_0x5ea6b6(0xc7)](_0x5ea6b6(0xd5))+'\x27')+')',{data:_0x217d32}=await _0x50bfdb[_0x5ea6b6(0xc8)](_0x5ea6b6(0xe2)+constants_1['SALESFORCE_API_VERSION']+'/query/',{'params':{'q':_0x24bd9d}});_0x14e863['push'](..._0x217d32[_0x5ea6b6(0xc0)]);}return _0x14e863;}async function fetchAttachmentBody(_0xb97b07,_0x209ac9){const _0x132f85=a331_0x15f3af,{data:_0x404d68}=await _0xb97b07[_0x132f85(0xc8)](_0x132f85(0xe2)+constants_1[_0x132f85(0xdd)]+'/sobjects/Attachment/'+_0x209ac9+_0x132f85(0xbb),{'responseType':_0x132f85(0xcf)});return _0x404d68;}exports[a331_0x15f3af(0xba)]=fetchAttachmentBody;async function fetchAttachments(_0x26b3e3,_0x25469f,_0x547ab0){const _0x37d269=a331_0x15f3af,{data:_0x22ee44}=await _0x26b3e3[_0x37d269(0xc1)](_0x37d269(0xc3)+salesforce_request_1['namespace']+_0x37d269(0xe0),{'objectName':_0x37d269(0xbc),'binaryFields':_0x25469f,'recordIds':_0x547ab0});return _0x22ee44;}function a331_0x4a08(_0x4dc08a,_0xba47a8){const _0x587257=a331_0x3d83();return a331_0x4a08=function(_0x9af066,_0x16f744){_0x9af066=_0x9af066-0xba;let _0x3d8361=_0x587257[_0x9af066];return _0x3d8361;},a331_0x4a08(_0x4dc08a,_0xba47a8);}exports['fetchAttachments']=fetchAttachments;