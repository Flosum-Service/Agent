const a332_0x24452a=a332_0x17ad;function a332_0x2e5e(){const _0x3aaf47=['359520RyEDvt','search','6220560oUlHxN','1498LYDLZr','chunkArray','10aUAVJD','Attachment','SALESFORCE_API_VERSION','BodyLength','22iudoeM','toString','/services/data/','\x20IN\x20(','(((.+)+)+)+$','/body','namespace','./index','fetchAttachments','/services/apexrest','push','post','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','get','fetchAttachmentsDetailsById','constructor','fetchAttachmentsDetailsByParentId','/retrieveAttachments/','171280EWEmWC','../../../constants','117qFroOA','25998BVeMcg','2951703gospqN','../../functions/utils/salesforce-request','apply','679768BSnXHU','arraybuffer','2SKLwmR','\x27,\x27','2006556wojQGZ','ParentId','Body','defineProperty','__esModule','retrieveAttachments'];a332_0x2e5e=function(){return _0x3aaf47;};return a332_0x2e5e();}(function(_0x4654d6,_0x4dc0ca){const _0x1f4757=a332_0x17ad,_0x42bcf7=_0x4654d6();while(!![]){try{const _0x53b597=-parseInt(_0x1f4757(0x15a))/0x1+parseInt(_0x1f4757(0x152))/0x2*(parseInt(_0x1f4757(0x14d))/0x3)+parseInt(_0x1f4757(0x150))/0x4*(parseInt(_0x1f4757(0x15f))/0x5)+parseInt(_0x1f4757(0x14c))/0x6*(parseInt(_0x1f4757(0x15d))/0x7)+-parseInt(_0x1f4757(0x15c))/0x8+parseInt(_0x1f4757(0x14b))/0x9*(-parseInt(_0x1f4757(0x149))/0xa)+parseInt(_0x1f4757(0x163))/0xb*(-parseInt(_0x1f4757(0x154))/0xc);if(_0x53b597===_0x4dc0ca)break;else _0x42bcf7['push'](_0x42bcf7['shift']());}catch(_0x504927){_0x42bcf7['push'](_0x42bcf7['shift']());}}}(a332_0x2e5e,0x87f43));const a332_0x58f4f6=(function(){let _0x25f3bc=!![];return function(_0x2d3d19,_0x54f980){const _0x5c324a=_0x25f3bc?function(){const _0x71f13b=a332_0x17ad;if(_0x54f980){const _0x4855c5=_0x54f980[_0x71f13b(0x14f)](_0x2d3d19,arguments);return _0x54f980=null,_0x4855c5;}}:function(){};return _0x25f3bc=![],_0x5c324a;};}()),a332_0x4b6d3b=a332_0x58f4f6(this,function(){const _0x2a7111=a332_0x17ad;return a332_0x4b6d3b[_0x2a7111(0x164)]()[_0x2a7111(0x15b)](_0x2a7111(0x167))['toString']()[_0x2a7111(0x146)](a332_0x4b6d3b)[_0x2a7111(0x15b)](_0x2a7111(0x167));});a332_0x4b6d3b();'use strict';Object[a332_0x24452a(0x157)](exports,a332_0x24452a(0x158),{'value':!![]}),exports[a332_0x24452a(0x16b)]=exports['fetchAttachmentBody']=exports[a332_0x24452a(0x147)]=exports[a332_0x24452a(0x171)]=exports[a332_0x24452a(0x159)]=void 0x0;const index_1=require(a332_0x24452a(0x16a)),constants_1=require(a332_0x24452a(0x14a)),salesforce_request_1=require(a332_0x24452a(0x14e)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a332_0x24452a(0x156)],FIELD_PARENT_ID=a332_0x24452a(0x155),FIELD_ID='Id';async function retrieveAttachments(_0x337f14,_0x400903){const _0x5e582d=a332_0x24452a;let _0x47568b=0x0,_0x393059=0x0,_0x5928fc=[];const _0x249e1c=[];for(const _0x1c32fd of _0x337f14){if(_0x1c32fd[_0x5e582d(0x162)]>REST_ATTACHMENT_MAX_SIZE){const _0x578206=await fetchAttachmentBody(_0x400903,_0x1c32fd['Id']);_0x249e1c[_0x5e582d(0x16d)]({'id':_0x1c32fd['Id'],'values':{'Body':_0x578206[_0x5e582d(0x164)]('base64')}});continue;}if(_0x1c32fd[_0x5e582d(0x162)]+_0x47568b>REST_ATTACHMENT_MAX_SIZE||_0x393059+0x1>=REST_ATTACHMENT_COUNT){const _0x293d4=await fetchAttachments(_0x400903,BINARY_FIELDS,_0x5928fc);_0x249e1c[_0x5e582d(0x16d)](..._0x293d4),_0x5928fc=[],_0x47568b=0x0,_0x393059=0x0;}_0x5928fc[_0x5e582d(0x16d)](_0x1c32fd['Id']),_0x47568b+=_0x1c32fd[_0x5e582d(0x162)],_0x393059++;}if(_0x5928fc['length']){const _0x5d84b7=await fetchAttachments(_0x400903,BINARY_FIELDS,_0x5928fc);_0x249e1c[_0x5e582d(0x16d)](..._0x5d84b7);}return _0x249e1c;}exports[a332_0x24452a(0x159)]=retrieveAttachments;function a332_0x17ad(_0xa87e51,_0x530d2a){const _0x46bd0f=a332_0x2e5e();return a332_0x17ad=function(_0x4b6d3b,_0x58f4f6){_0x4b6d3b=_0x4b6d3b-0x146;let _0x2e5e11=_0x46bd0f[_0x4b6d3b];return _0x2e5e11;},a332_0x17ad(_0xa87e51,_0x530d2a);}function fetchAttachmentsDetailsById(_0x22e932,_0x53099a){return fetchAttachmentsDetails(_0x22e932,FIELD_ID,_0x53099a);}exports[a332_0x24452a(0x171)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x160397,_0x3e11a2){return fetchAttachmentsDetails(_0x160397,FIELD_PARENT_ID,_0x3e11a2);}exports[a332_0x24452a(0x147)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5a4e65,_0x4e2061,_0x554b9b){const _0x5cfa06=a332_0x24452a,_0x37406b=[],_0x23d9e9=(0x0,index_1[_0x5cfa06(0x15e)])(_0x554b9b,CHUNK_QUERY_SIZE);for(const _0x2c7bf2 of _0x23d9e9){const _0x2892d6=_0x5cfa06(0x16f)+_0x4e2061+_0x5cfa06(0x166)+('\x27'+_0x2c7bf2['join'](_0x5cfa06(0x153))+'\x27')+')',{data:_0x4a1739}=await _0x5a4e65[_0x5cfa06(0x170)]('/services/data/'+constants_1[_0x5cfa06(0x161)]+'/query/',{'params':{'q':_0x2892d6}});_0x37406b[_0x5cfa06(0x16d)](..._0x4a1739['records']);}return _0x37406b;}async function fetchAttachmentBody(_0x46a539,_0x252ee1){const _0x8ceaa2=a332_0x24452a,{data:_0x343316}=await _0x46a539[_0x8ceaa2(0x170)](_0x8ceaa2(0x165)+constants_1[_0x8ceaa2(0x161)]+'/sobjects/Attachment/'+_0x252ee1+_0x8ceaa2(0x168),{'responseType':_0x8ceaa2(0x151)});return _0x343316;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x43c7f1,_0x1ea22b,_0x585261){const _0x45f527=a332_0x24452a,{data:_0xc1df40}=await _0x43c7f1[_0x45f527(0x16e)](_0x45f527(0x16c)+salesforce_request_1[_0x45f527(0x169)]+_0x45f527(0x148),{'objectName':_0x45f527(0x160),'binaryFields':_0x1ea22b,'recordIds':_0x585261});return _0xc1df40;}exports['fetchAttachments']=fetchAttachments;