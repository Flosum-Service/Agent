const a287_0x2fc399=a287_0x4616;(function(_0x4c589d,_0x1bc4b3){const _0x48b8fb=a287_0x4616,_0x182b34=_0x4c589d();while(!![]){try{const _0x50b293=parseInt(_0x48b8fb(0x197))/0x1*(-parseInt(_0x48b8fb(0x189))/0x2)+parseInt(_0x48b8fb(0x184))/0x3+parseInt(_0x48b8fb(0x19e))/0x4*(-parseInt(_0x48b8fb(0x18c))/0x5)+-parseInt(_0x48b8fb(0x193))/0x6+parseInt(_0x48b8fb(0x1a0))/0x7*(parseInt(_0x48b8fb(0x1a5))/0x8)+parseInt(_0x48b8fb(0x19f))/0x9+parseInt(_0x48b8fb(0x18f))/0xa;if(_0x50b293===_0x1bc4b3)break;else _0x182b34['push'](_0x182b34['shift']());}catch(_0x22a41e){_0x182b34['push'](_0x182b34['shift']());}}}(a287_0x4f9a,0x77cf8));const a287_0x509e15=(function(){let _0x1be3db=!![];return function(_0xe3dfd2,_0x182a1a){const _0x5aee81=_0x1be3db?function(){const _0x183195=a287_0x4616;if(_0x182a1a){const _0x256141=_0x182a1a[_0x183195(0x18e)](_0xe3dfd2,arguments);return _0x182a1a=null,_0x256141;}}:function(){};return _0x1be3db=![],_0x5aee81;};}()),a287_0x357a0a=a287_0x509e15(this,function(){const _0x2bf8f6=a287_0x4616;return a287_0x357a0a[_0x2bf8f6(0x19d)]()[_0x2bf8f6(0x185)](_0x2bf8f6(0x1a8))[_0x2bf8f6(0x19d)]()['constructor'](a287_0x357a0a)['search'](_0x2bf8f6(0x1a8));});a287_0x357a0a();'use strict';function a287_0x4f9a(){const _0x5176db=['80fCebrl','2797479IRRdQK','1970955xSxMUB','retrieveAttachments','/services/data/','/sobjects/Attachment/','get','8zrpJNl','ParentId','Attachment','(((.+)+)+)+$','__esModule','records','517926GtrBlp','search','./index','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','\x27,\x27','433518EBOays','chunkArray','fetchAttachmentBody','2770acHjpw','base64','apply','4074770ESCNLq','../../functions/utils/salesforce-request','Body','fetchAttachmentsDetailsByParentId','1423038idYPxA','SALESFORCE_API_VERSION','arraybuffer','join','2HumcOc','fetchAttachments','fetchAttachmentsDetailsById','../../../constants','push','BodyLength','toString'];a287_0x4f9a=function(){return _0x5176db;};return a287_0x4f9a();}Object['defineProperty'](exports,a287_0x2fc399(0x1a9),{'value':!![]}),exports[a287_0x2fc399(0x198)]=exports[a287_0x2fc399(0x18b)]=exports[a287_0x2fc399(0x192)]=exports[a287_0x2fc399(0x199)]=exports[a287_0x2fc399(0x1a1)]=void 0x0;const index_1=require(a287_0x2fc399(0x186)),constants_1=require(a287_0x2fc399(0x19a)),salesforce_request_1=require(a287_0x2fc399(0x190)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x2fc399(0x191)],FIELD_PARENT_ID=a287_0x2fc399(0x1a6),FIELD_ID='Id';async function retrieveAttachments(_0x13cd88,_0x4f7e98){const _0x3c81b0=a287_0x2fc399;let _0x20e206=0x0,_0x1ffba8=0x0,_0x54f369=[];const _0x59b7c5=[];for(const _0x4c62b5 of _0x13cd88){if(_0x4c62b5[_0x3c81b0(0x19c)]>REST_ATTACHMENT_MAX_SIZE){const _0x471d75=await fetchAttachmentBody(_0x4f7e98,_0x4c62b5['Id']);_0x59b7c5[_0x3c81b0(0x19b)]({'id':_0x4c62b5['Id'],'values':{'Body':_0x471d75[_0x3c81b0(0x19d)](_0x3c81b0(0x18d))}});continue;}if(_0x4c62b5[_0x3c81b0(0x19c)]+_0x20e206>REST_ATTACHMENT_MAX_SIZE||_0x1ffba8+0x1>=REST_ATTACHMENT_COUNT){const _0x3a10e0=await fetchAttachments(_0x4f7e98,BINARY_FIELDS,_0x54f369);_0x59b7c5[_0x3c81b0(0x19b)](..._0x3a10e0),_0x54f369=[],_0x20e206=0x0,_0x1ffba8=0x0;}_0x54f369[_0x3c81b0(0x19b)](_0x4c62b5['Id']),_0x20e206+=_0x4c62b5[_0x3c81b0(0x19c)],_0x1ffba8++;}if(_0x54f369['length']){const _0x5d509d=await fetchAttachments(_0x4f7e98,BINARY_FIELDS,_0x54f369);_0x59b7c5[_0x3c81b0(0x19b)](..._0x5d509d);}return _0x59b7c5;}function a287_0x4616(_0x25ccc0,_0xf43dca){const _0x3ca0f8=a287_0x4f9a();return a287_0x4616=function(_0x357a0a,_0x509e15){_0x357a0a=_0x357a0a-0x184;let _0x4f9a60=_0x3ca0f8[_0x357a0a];return _0x4f9a60;},a287_0x4616(_0x25ccc0,_0xf43dca);}exports[a287_0x2fc399(0x1a1)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x4503f2,_0x1dccca){return fetchAttachmentsDetails(_0x4503f2,FIELD_ID,_0x1dccca);}exports[a287_0x2fc399(0x199)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x1a8e0d,_0x3834c4){return fetchAttachmentsDetails(_0x1a8e0d,FIELD_PARENT_ID,_0x3834c4);}exports[a287_0x2fc399(0x192)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x1180cc,_0x3e06cd,_0x288fc7){const _0x3bfc95=a287_0x2fc399,_0x2f9f20=[],_0xb11733=(0x0,index_1[_0x3bfc95(0x18a)])(_0x288fc7,CHUNK_QUERY_SIZE);for(const _0x1dd349 of _0xb11733){const _0x13bfd6=_0x3bfc95(0x187)+_0x3e06cd+'\x20IN\x20('+('\x27'+_0x1dd349[_0x3bfc95(0x196)](_0x3bfc95(0x188))+'\x27')+')',{data:_0xb6185a}=await _0x1180cc[_0x3bfc95(0x1a4)](_0x3bfc95(0x1a2)+constants_1[_0x3bfc95(0x194)]+'/query/',{'params':{'q':_0x13bfd6}});_0x2f9f20[_0x3bfc95(0x19b)](..._0xb6185a[_0x3bfc95(0x1aa)]);}return _0x2f9f20;}async function fetchAttachmentBody(_0x3bb16b,_0x527ad3){const _0x126698=a287_0x2fc399,{data:_0x1e99a2}=await _0x3bb16b['get']('/services/data/'+constants_1[_0x126698(0x194)]+_0x126698(0x1a3)+_0x527ad3+'/body',{'responseType':_0x126698(0x195)});return _0x1e99a2;}exports[a287_0x2fc399(0x18b)]=fetchAttachmentBody;async function fetchAttachments(_0xe16ff7,_0x2ff8c0,_0x130606){const _0x2771dd=a287_0x2fc399,{data:_0x36467e}=await _0xe16ff7['post']('/services/apexrest'+salesforce_request_1['namespace']+'/retrieveAttachments/',{'objectName':_0x2771dd(0x1a7),'binaryFields':_0x2ff8c0,'recordIds':_0x130606});return _0x36467e;}exports[a287_0x2fc399(0x198)]=fetchAttachments;