function a287_0x4dee(){const _0x33f64b=['\x27,\x27','length','983ISEKOl','/services/data/','records','defineProperty','../../functions/utils/salesforce-request','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','push','696753xjmZDO','/sobjects/Attachment/','Attachment','BodyLength','557082NTlZxN','/services/apexrest','fetchAttachments','search','../../../constants','400612MPqIQu','4924170QQBVNt','(((.+)+)+)+$','/retrieveAttachments/','__esModule','/query/','retrieveAttachments','8YVnSjC','6hLffPM','1511566WFfbtm','toString','ParentId','510aDGgcT','constructor','fetchAttachmentBody','arraybuffer','SALESFORCE_API_VERSION','Body','fetchAttachmentsDetailsById','489715sQkJyO','/body','fetchAttachmentsDetailsByParentId','post','base64','get'];a287_0x4dee=function(){return _0x33f64b;};return a287_0x4dee();}const a287_0x145e5b=a287_0x12f7;(function(_0x2f56cf,_0x28b3e4){const _0x27c9fe=a287_0x12f7,_0x131a5c=_0x2f56cf();while(!![]){try{const _0x2c5c16=-parseInt(_0x27c9fe(0x1de))/0x1*(parseInt(_0x27c9fe(0x1cf))/0x2)+parseInt(_0x27c9fe(0x1e9))/0x3+-parseInt(_0x27c9fe(0x1ee))/0x4+parseInt(_0x27c9fe(0x1d6))/0x5*(parseInt(_0x27c9fe(0x1cb))/0x6)+-parseInt(_0x27c9fe(0x1cc))/0x7+parseInt(_0x27c9fe(0x1ca))/0x8*(-parseInt(_0x27c9fe(0x1e5))/0x9)+parseInt(_0x27c9fe(0x1ef))/0xa;if(_0x2c5c16===_0x28b3e4)break;else _0x131a5c['push'](_0x131a5c['shift']());}catch(_0x162338){_0x131a5c['push'](_0x131a5c['shift']());}}}(a287_0x4dee,0x20329));const a287_0x2e71e4=(function(){let _0x12ea7=!![];return function(_0x4af4f6,_0x255ca9){const _0x5daf7a=_0x12ea7?function(){if(_0x255ca9){const _0x2141d2=_0x255ca9['apply'](_0x4af4f6,arguments);return _0x255ca9=null,_0x2141d2;}}:function(){};return _0x12ea7=![],_0x5daf7a;};}()),a287_0x3bcea8=a287_0x2e71e4(this,function(){const _0x2c46b4=a287_0x12f7;return a287_0x3bcea8[_0x2c46b4(0x1cd)]()[_0x2c46b4(0x1ec)](_0x2c46b4(0x1c5))['toString']()[_0x2c46b4(0x1d0)](a287_0x3bcea8)[_0x2c46b4(0x1ec)](_0x2c46b4(0x1c5));});a287_0x3bcea8();'use strict';function a287_0x12f7(_0x3e682c,_0x445ee4){const _0x57e4e5=a287_0x4dee();return a287_0x12f7=function(_0x3bcea8,_0x2e71e4){_0x3bcea8=_0x3bcea8-0x1c5;let _0x4dee2e=_0x57e4e5[_0x3bcea8];return _0x4dee2e;},a287_0x12f7(_0x3e682c,_0x445ee4);}Object[a287_0x145e5b(0x1e1)](exports,a287_0x145e5b(0x1c7),{'value':!![]}),exports[a287_0x145e5b(0x1eb)]=exports[a287_0x145e5b(0x1d1)]=exports['fetchAttachmentsDetailsByParentId']=exports[a287_0x145e5b(0x1d5)]=exports[a287_0x145e5b(0x1c9)]=void 0x0;const index_1=require('./index'),constants_1=require(a287_0x145e5b(0x1ed)),salesforce_request_1=require(a287_0x145e5b(0x1e2)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x145e5b(0x1d4)],FIELD_PARENT_ID=a287_0x145e5b(0x1ce),FIELD_ID='Id';async function retrieveAttachments(_0x25e0e9,_0x2d8239){const _0x47ff23=a287_0x145e5b;let _0x40a645=0x0,_0x42b713=0x0,_0x1124a1=[];const _0xedd08e=[];for(const _0x23598c of _0x25e0e9){if(_0x23598c[_0x47ff23(0x1e8)]>REST_ATTACHMENT_MAX_SIZE){const _0x52ebe7=await fetchAttachmentBody(_0x2d8239,_0x23598c['Id']);_0xedd08e['push']({'id':_0x23598c['Id'],'values':{'Body':_0x52ebe7[_0x47ff23(0x1cd)](_0x47ff23(0x1da))}});continue;}if(_0x23598c[_0x47ff23(0x1e8)]+_0x40a645>REST_ATTACHMENT_MAX_SIZE||_0x42b713+0x1>=REST_ATTACHMENT_COUNT){const _0x277d22=await fetchAttachments(_0x2d8239,BINARY_FIELDS,_0x1124a1);_0xedd08e[_0x47ff23(0x1e4)](..._0x277d22),_0x1124a1=[],_0x40a645=0x0,_0x42b713=0x0;}_0x1124a1[_0x47ff23(0x1e4)](_0x23598c['Id']),_0x40a645+=_0x23598c[_0x47ff23(0x1e8)],_0x42b713++;}if(_0x1124a1[_0x47ff23(0x1dd)]){const _0x567438=await fetchAttachments(_0x2d8239,BINARY_FIELDS,_0x1124a1);_0xedd08e[_0x47ff23(0x1e4)](..._0x567438);}return _0xedd08e;}exports[a287_0x145e5b(0x1c9)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x290b5a,_0x122907){return fetchAttachmentsDetails(_0x290b5a,FIELD_ID,_0x122907);}exports[a287_0x145e5b(0x1d5)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x251b54,_0x4099b3){return fetchAttachmentsDetails(_0x251b54,FIELD_PARENT_ID,_0x4099b3);}exports[a287_0x145e5b(0x1d8)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x154cd9,_0x144120,_0xf5df4d){const _0x2899f3=a287_0x145e5b,_0x49c484=[],_0x1ff7a4=(0x0,index_1['chunkArray'])(_0xf5df4d,CHUNK_QUERY_SIZE);for(const _0xba8aa1 of _0x1ff7a4){const _0x8dc585=_0x2899f3(0x1e3)+_0x144120+'\x20IN\x20('+('\x27'+_0xba8aa1['join'](_0x2899f3(0x1dc))+'\x27')+')',{data:_0x4e18e2}=await _0x154cd9[_0x2899f3(0x1db)](_0x2899f3(0x1df)+constants_1[_0x2899f3(0x1d3)]+_0x2899f3(0x1c8),{'params':{'q':_0x8dc585}});_0x49c484['push'](..._0x4e18e2[_0x2899f3(0x1e0)]);}return _0x49c484;}async function fetchAttachmentBody(_0x49f05d,_0x49d16c){const _0x11255c=a287_0x145e5b,{data:_0x444501}=await _0x49f05d[_0x11255c(0x1db)](_0x11255c(0x1df)+constants_1[_0x11255c(0x1d3)]+_0x11255c(0x1e6)+_0x49d16c+_0x11255c(0x1d7),{'responseType':_0x11255c(0x1d2)});return _0x444501;}exports[a287_0x145e5b(0x1d1)]=fetchAttachmentBody;async function fetchAttachments(_0x378746,_0x3ade7f,_0x192939){const _0x5a5b02=a287_0x145e5b,{data:_0x5ef893}=await _0x378746[_0x5a5b02(0x1d9)](_0x5a5b02(0x1ea)+salesforce_request_1['namespace']+_0x5a5b02(0x1c6),{'objectName':_0x5a5b02(0x1e7),'binaryFields':_0x3ade7f,'recordIds':_0x192939});return _0x5ef893;}exports['fetchAttachments']=fetchAttachments;