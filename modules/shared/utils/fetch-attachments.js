const a330_0x4d67df=a330_0x5b84;(function(_0x544c3f,_0x3bb9f8){const _0xafb19b=a330_0x5b84,_0x5d2d35=_0x544c3f();while(!![]){try{const _0x2820c1=parseInt(_0xafb19b(0xbd))/0x1+-parseInt(_0xafb19b(0xbb))/0x2+parseInt(_0xafb19b(0xc3))/0x3*(parseInt(_0xafb19b(0xb8))/0x4)+parseInt(_0xafb19b(0xa9))/0x5*(parseInt(_0xafb19b(0xbf))/0x6)+-parseInt(_0xafb19b(0xb5))/0x7*(-parseInt(_0xafb19b(0xac))/0x8)+parseInt(_0xafb19b(0xc6))/0x9+-parseInt(_0xafb19b(0xa5))/0xa;if(_0x2820c1===_0x3bb9f8)break;else _0x5d2d35['push'](_0x5d2d35['shift']());}catch(_0x47fe7a){_0x5d2d35['push'](_0x5d2d35['shift']());}}}(a330_0x487a,0x5a3ee));const a330_0x45f003=(function(){let _0x3c12fa=!![];return function(_0x2cf3f6,_0x29b5e1){const _0x4aeddd=_0x3c12fa?function(){const _0x14f11b=a330_0x5b84;if(_0x29b5e1){const _0x3d3ec4=_0x29b5e1[_0x14f11b(0xb1)](_0x2cf3f6,arguments);return _0x29b5e1=null,_0x3d3ec4;}}:function(){};return _0x3c12fa=![],_0x4aeddd;};}()),a330_0xc6aab8=a330_0x45f003(this,function(){const _0xb75515=a330_0x5b84;return a330_0xc6aab8['toString']()[_0xb75515(0xc2)](_0xb75515(0xc0))[_0xb75515(0xc9)]()[_0xb75515(0xa4)](a330_0xc6aab8)[_0xb75515(0xc2)]('(((.+)+)+)+$');});a330_0xc6aab8();'use strict';Object[a330_0x4d67df(0xb2)](exports,'__esModule',{'value':!![]}),exports[a330_0x4d67df(0xae)]=exports[a330_0x4d67df(0xb4)]=exports[a330_0x4d67df(0xb7)]=exports[a330_0x4d67df(0xab)]=exports[a330_0x4d67df(0xc5)]=void 0x0;const index_1=require(a330_0x4d67df(0xb6)),constants_1=require(a330_0x4d67df(0xb3)),salesforce_request_1=require(a330_0x4d67df(0xaf)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a330_0x4d67df(0xa7)],FIELD_PARENT_ID=a330_0x4d67df(0xa3),FIELD_ID='Id';function a330_0x487a(){const _0x5deb32=['24bDGzmw','BodyLength','fetchAttachments','../../functions/utils/salesforce-request','SALESFORCE_API_VERSION','apply','defineProperty','../../../constants','fetchAttachmentBody','98063CDeuNG','./index','fetchAttachmentsDetailsByParentId','215120VEUJmY','get','/services/apexrest','1263082qvTXZY','push','663907qHWtlo','/services/data/','195534pEObPg','(((.+)+)+)+$','post','search','33mJSDGz','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','retrieveAttachments','2687670flpLYE','records','\x20IN\x20(','toString','join','\x27,\x27','Attachment','ParentId','constructor','6275460DbpfhH','base64','Body','/query/','5qzIUCh','/body','fetchAttachmentsDetailsById'];a330_0x487a=function(){return _0x5deb32;};return a330_0x487a();}async function retrieveAttachments(_0x2117aa,_0x56d6e6){const _0x3af9ec=a330_0x4d67df;let _0x810738=0x0,_0x2a102b=0x0,_0x359d12=[];const _0x47cfd4=[];for(const _0x1d132e of _0x2117aa){if(_0x1d132e[_0x3af9ec(0xad)]>REST_ATTACHMENT_MAX_SIZE){const _0x30437a=await fetchAttachmentBody(_0x56d6e6,_0x1d132e['Id']);_0x47cfd4[_0x3af9ec(0xbc)]({'id':_0x1d132e['Id'],'values':{'Body':_0x30437a[_0x3af9ec(0xc9)](_0x3af9ec(0xa6))}});continue;}if(_0x1d132e['BodyLength']+_0x810738>REST_ATTACHMENT_MAX_SIZE||_0x2a102b+0x1>=REST_ATTACHMENT_COUNT){const _0x393550=await fetchAttachments(_0x56d6e6,BINARY_FIELDS,_0x359d12);_0x47cfd4[_0x3af9ec(0xbc)](..._0x393550),_0x359d12=[],_0x810738=0x0,_0x2a102b=0x0;}_0x359d12[_0x3af9ec(0xbc)](_0x1d132e['Id']),_0x810738+=_0x1d132e[_0x3af9ec(0xad)],_0x2a102b++;}if(_0x359d12['length']){const _0x13a046=await fetchAttachments(_0x56d6e6,BINARY_FIELDS,_0x359d12);_0x47cfd4['push'](..._0x13a046);}return _0x47cfd4;}exports[a330_0x4d67df(0xc5)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x35f0df,_0x3db743){return fetchAttachmentsDetails(_0x35f0df,FIELD_ID,_0x3db743);}exports[a330_0x4d67df(0xab)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x13d1e9,_0xe7db83){return fetchAttachmentsDetails(_0x13d1e9,FIELD_PARENT_ID,_0xe7db83);}exports[a330_0x4d67df(0xb7)]=fetchAttachmentsDetailsByParentId;function a330_0x5b84(_0x46e355,_0x28f1c4){const _0x5f4e57=a330_0x487a();return a330_0x5b84=function(_0xc6aab8,_0x45f003){_0xc6aab8=_0xc6aab8-0xa2;let _0x487a0a=_0x5f4e57[_0xc6aab8];return _0x487a0a;},a330_0x5b84(_0x46e355,_0x28f1c4);}async function fetchAttachmentsDetails(_0x5df83a,_0x5e8bd9,_0x1bc4ca){const _0x53f8f5=a330_0x4d67df,_0x5edc62=[],_0x26de48=(0x0,index_1['chunkArray'])(_0x1bc4ca,CHUNK_QUERY_SIZE);for(const _0x1cba6c of _0x26de48){const _0x3772c7=_0x53f8f5(0xc4)+_0x5e8bd9+_0x53f8f5(0xc8)+('\x27'+_0x1cba6c[_0x53f8f5(0xca)](_0x53f8f5(0xcb))+'\x27')+')',{data:_0x43ec04}=await _0x5df83a[_0x53f8f5(0xb9)]('/services/data/'+constants_1[_0x53f8f5(0xb0)]+_0x53f8f5(0xa8),{'params':{'q':_0x3772c7}});_0x5edc62[_0x53f8f5(0xbc)](..._0x43ec04[_0x53f8f5(0xc7)]);}return _0x5edc62;}async function fetchAttachmentBody(_0x538258,_0x46a6cb){const _0x4108d4=a330_0x4d67df,{data:_0x327eda}=await _0x538258[_0x4108d4(0xb9)](_0x4108d4(0xbe)+constants_1[_0x4108d4(0xb0)]+'/sobjects/Attachment/'+_0x46a6cb+_0x4108d4(0xaa),{'responseType':'arraybuffer'});return _0x327eda;}exports[a330_0x4d67df(0xb4)]=fetchAttachmentBody;async function fetchAttachments(_0x1a602c,_0xfbc124,_0x25c4a5){const _0x1ac39b=a330_0x4d67df,{data:_0x1fffe5}=await _0x1a602c[_0x1ac39b(0xc1)](_0x1ac39b(0xba)+salesforce_request_1['namespace']+'/retrieveAttachments/',{'objectName':_0x1ac39b(0xa2),'binaryFields':_0xfbc124,'recordIds':_0x25c4a5});return _0x1fffe5;}exports[a330_0x4d67df(0xae)]=fetchAttachments;