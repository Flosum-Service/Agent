const a279_0x4e2b1a=a279_0x27c4;(function(_0x294c2c,_0x21adce){const _0x31db73=a279_0x27c4,_0x3af7b4=_0x294c2c();while(!![]){try{const _0x4513fd=-parseInt(_0x31db73(0xef))/0x1*(-parseInt(_0x31db73(0xe2))/0x2)+-parseInt(_0x31db73(0xd8))/0x3+parseInt(_0x31db73(0xf7))/0x4*(-parseInt(_0x31db73(0xee))/0x5)+-parseInt(_0x31db73(0xd1))/0x6+-parseInt(_0x31db73(0xe0))/0x7+parseInt(_0x31db73(0xf8))/0x8*(-parseInt(_0x31db73(0xed))/0x9)+parseInt(_0x31db73(0xe6))/0xa;if(_0x4513fd===_0x21adce)break;else _0x3af7b4['push'](_0x3af7b4['shift']());}catch(_0xeb5260){_0x3af7b4['push'](_0x3af7b4['shift']());}}}(a279_0x3c52,0xee08d));const a279_0x867655=(function(){let _0x453399=!![];return function(_0xfdd2b9,_0x3f47df){const _0x3fcb04=_0x453399?function(){const _0x2bd356=a279_0x27c4;if(_0x3f47df){const _0xbb8260=_0x3f47df[_0x2bd356(0xe1)](_0xfdd2b9,arguments);return _0x3f47df=null,_0xbb8260;}}:function(){};return _0x453399=![],_0x3fcb04;};}()),a279_0x48b86e=a279_0x867655(this,function(){const _0x2c9732=a279_0x27c4;return a279_0x48b86e['toString']()[_0x2c9732(0xeb)]('(((.+)+)+)+$')[_0x2c9732(0xf0)]()['constructor'](a279_0x48b86e)['search']('(((.+)+)+)+$');});a279_0x48b86e();'use strict';Object[a279_0x4e2b1a(0xd3)](exports,a279_0x4e2b1a(0xec),{'value':!![]}),exports['fetchAttachments']=exports['fetchAttachmentBody']=exports[a279_0x4e2b1a(0xe7)]=exports[a279_0x4e2b1a(0xf1)]=exports[a279_0x4e2b1a(0xd6)]=void 0x0;const index_1=require('./index'),constants_1=require(a279_0x4e2b1a(0xe4)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a279_0x4e2b1a(0xde)],FIELD_PARENT_ID=a279_0x4e2b1a(0xf5),FIELD_ID='Id';async function retrieveAttachments(_0x164067,_0x4c8c9e){const _0x40f843=a279_0x4e2b1a;let _0x1aa1e8=0x0,_0x38caa8=0x0,_0x7455a8=[];const _0x2a79c9=[];for(const _0x1ddcf7 of _0x164067){if(_0x1ddcf7[_0x40f843(0xe9)]>REST_ATTACHMENT_MAX_SIZE){const _0x25a121=await fetchAttachmentBody(_0x4c8c9e,_0x1ddcf7['Id']);_0x2a79c9[_0x40f843(0xe8)]({'id':_0x1ddcf7['Id'],'values':{'Body':_0x25a121[_0x40f843(0xf0)](_0x40f843(0xf4))}});continue;}if(_0x1ddcf7[_0x40f843(0xe9)]+_0x1aa1e8>REST_ATTACHMENT_MAX_SIZE||_0x38caa8+0x1>=REST_ATTACHMENT_COUNT){const _0x18417f=await fetchAttachments(_0x4c8c9e,BINARY_FIELDS,_0x7455a8);_0x2a79c9['push'](..._0x18417f),_0x7455a8=[],_0x1aa1e8=0x0,_0x38caa8=0x0;}_0x7455a8[_0x40f843(0xe8)](_0x1ddcf7['Id']),_0x1aa1e8+=_0x1ddcf7[_0x40f843(0xe9)],_0x38caa8++;}if(_0x7455a8[_0x40f843(0xf6)]){const _0x3fdae9=await fetchAttachments(_0x4c8c9e,BINARY_FIELDS,_0x7455a8);_0x2a79c9['push'](..._0x3fdae9);}return _0x2a79c9;}exports[a279_0x4e2b1a(0xd6)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x2ebfcb,_0x52eaa3){return fetchAttachmentsDetails(_0x2ebfcb,FIELD_ID,_0x52eaa3);}exports[a279_0x4e2b1a(0xf1)]=fetchAttachmentsDetailsById;function a279_0x3c52(){const _0x5d113a=['/query/','12403881lOhGHs','apply','2695592essPND','get','../../../constants','chunkArray','56834900jZkcij','fetchAttachmentsDetailsByParentId','push','BodyLength','/retrieveAttachments/','search','__esModule','17465481FOEBCa','4970NIcJPP','1gBXyZb','toString','fetchAttachmentsDetailsById','SALESFORCE_API_VERSION','Attachment','base64','ParentId','length','7512szGEPS','8AKnRki','1922856HIhgcl','\x27,\x27','defineProperty','records','\x20IN\x20(','retrieveAttachments','join','469491WFUZut','fetchAttachments','/body','/services/data/','/services/apexrest','fetchAttachmentBody','Body'];a279_0x3c52=function(){return _0x5d113a;};return a279_0x3c52();}function fetchAttachmentsDetailsByParentId(_0x2cbf9d,_0x70edf6){return fetchAttachmentsDetails(_0x2cbf9d,FIELD_PARENT_ID,_0x70edf6);}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x50e3b0,_0x40a8cf,_0x32e8bd){const _0xe77d9a=a279_0x4e2b1a,_0x2d4783=[],_0x4aad56=(0x0,index_1[_0xe77d9a(0xe5)])(_0x32e8bd,CHUNK_QUERY_SIZE);for(const _0x51580 of _0x4aad56){const _0x51483a='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0x40a8cf+_0xe77d9a(0xd5)+('\x27'+_0x51580[_0xe77d9a(0xd7)](_0xe77d9a(0xd2))+'\x27')+')',{data:_0x58e947}=await _0x50e3b0[_0xe77d9a(0xe3)](_0xe77d9a(0xdb)+constants_1[_0xe77d9a(0xf2)]+_0xe77d9a(0xdf),{'params':{'q':_0x51483a}});_0x2d4783[_0xe77d9a(0xe8)](..._0x58e947[_0xe77d9a(0xd4)]);}return _0x2d4783;}async function fetchAttachmentBody(_0x427ae6,_0x59a45d){const _0x5a6d31=a279_0x4e2b1a,{data:_0x3cf64b}=await _0x427ae6[_0x5a6d31(0xe3)](_0x5a6d31(0xdb)+constants_1[_0x5a6d31(0xf2)]+'/sobjects/Attachment/'+_0x59a45d+_0x5a6d31(0xda),{'responseType':'arraybuffer'});return _0x3cf64b;}exports[a279_0x4e2b1a(0xdd)]=fetchAttachmentBody;async function fetchAttachments(_0x2ecd24,_0x44fa11,_0x25bcfc){const _0x454d4a=a279_0x4e2b1a,{data:_0x4b358d}=await _0x2ecd24['post'](_0x454d4a(0xdc)+salesforce_request_1['namespace']+_0x454d4a(0xea),{'objectName':_0x454d4a(0xf3),'binaryFields':_0x44fa11,'recordIds':_0x25bcfc});return _0x4b358d;}function a279_0x27c4(_0x2c26d3,_0x3f094e){const _0x1f3a50=a279_0x3c52();return a279_0x27c4=function(_0x48b86e,_0x867655){_0x48b86e=_0x48b86e-0xd1;let _0x3c525f=_0x1f3a50[_0x48b86e];return _0x3c525f;},a279_0x27c4(_0x2c26d3,_0x3f094e);}exports[a279_0x4e2b1a(0xd9)]=fetchAttachments;