const a303_0x281b78=a303_0x139f;(function(_0x13170d,_0x1eb4f1){const _0x7d3cee=a303_0x139f,_0x180886=_0x13170d();while(!![]){try{const _0x172bfa=parseInt(_0x7d3cee(0x102))/0x1*(parseInt(_0x7d3cee(0x10b))/0x2)+-parseInt(_0x7d3cee(0xf7))/0x3*(parseInt(_0x7d3cee(0x10e))/0x4)+parseInt(_0x7d3cee(0x10a))/0x5*(parseInt(_0x7d3cee(0xf8))/0x6)+-parseInt(_0x7d3cee(0xf3))/0x7+-parseInt(_0x7d3cee(0xf6))/0x8*(parseInt(_0x7d3cee(0xf4))/0x9)+-parseInt(_0x7d3cee(0xf2))/0xa+-parseInt(_0x7d3cee(0x114))/0xb*(-parseInt(_0x7d3cee(0xff))/0xc);if(_0x172bfa===_0x1eb4f1)break;else _0x180886['push'](_0x180886['shift']());}catch(_0x2f1939){_0x180886['push'](_0x180886['shift']());}}}(a303_0x1a86,0x9e093));const a303_0x5e3dd8=(function(){let _0x37396f=!![];return function(_0x3c21f6,_0x2d5032){const _0xfd0654=_0x37396f?function(){const _0x1ae3d9=a303_0x139f;if(_0x2d5032){const _0x37408c=_0x2d5032[_0x1ae3d9(0x11c)](_0x3c21f6,arguments);return _0x2d5032=null,_0x37408c;}}:function(){};return _0x37396f=![],_0xfd0654;};}()),a303_0x257154=a303_0x5e3dd8(this,function(){const _0x31f3fc=a303_0x139f;return a303_0x257154['toString']()[_0x31f3fc(0xf1)](_0x31f3fc(0x111))[_0x31f3fc(0x104)]()[_0x31f3fc(0xfc)](a303_0x257154)[_0x31f3fc(0xf1)](_0x31f3fc(0x111));});a303_0x257154();'use strict';Object[a303_0x281b78(0x103)](exports,a303_0x281b78(0x100),{'value':!![]}),exports[a303_0x281b78(0x109)]=exports[a303_0x281b78(0x117)]=exports['fetchAttachmentsDetailsByParentId']=exports[a303_0x281b78(0xfb)]=exports[a303_0x281b78(0xf9)]=void 0x0;const index_1=require(a303_0x281b78(0xee)),constants_1=require('../../../constants'),salesforce_request_1=require(a303_0x281b78(0x119)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a303_0x281b78(0xfa)],FIELD_PARENT_ID=a303_0x281b78(0xf0),FIELD_ID='Id';async function retrieveAttachments(_0x14c25f,_0x1ec0c7){const _0xbc9d6=a303_0x281b78;let _0x28f799=0x0,_0x576ca7=0x0,_0x4b18c7=[];const _0x127d2d=[];for(const _0x26a730 of _0x14c25f){if(_0x26a730[_0xbc9d6(0x107)]>REST_ATTACHMENT_MAX_SIZE){const _0x412eac=await fetchAttachmentBody(_0x1ec0c7,_0x26a730['Id']);_0x127d2d[_0xbc9d6(0xfe)]({'id':_0x26a730['Id'],'values':{'Body':_0x412eac[_0xbc9d6(0x104)](_0xbc9d6(0x112))}});continue;}if(_0x26a730['BodyLength']+_0x28f799>REST_ATTACHMENT_MAX_SIZE||_0x576ca7+0x1>=REST_ATTACHMENT_COUNT){const _0x42913b=await fetchAttachments(_0x1ec0c7,BINARY_FIELDS,_0x4b18c7);_0x127d2d[_0xbc9d6(0xfe)](..._0x42913b),_0x4b18c7=[],_0x28f799=0x0,_0x576ca7=0x0;}_0x4b18c7[_0xbc9d6(0xfe)](_0x26a730['Id']),_0x28f799+=_0x26a730[_0xbc9d6(0x107)],_0x576ca7++;}if(_0x4b18c7[_0xbc9d6(0x110)]){const _0x3abc45=await fetchAttachments(_0x1ec0c7,BINARY_FIELDS,_0x4b18c7);_0x127d2d[_0xbc9d6(0xfe)](..._0x3abc45);}return _0x127d2d;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x2e1e89,_0x1948d5){return fetchAttachmentsDetails(_0x2e1e89,FIELD_ID,_0x1948d5);}function a303_0x139f(_0x25428d,_0x12ff40){const _0x4f9014=a303_0x1a86();return a303_0x139f=function(_0x257154,_0x5e3dd8){_0x257154=_0x257154-0xee;let _0x1a86aa=_0x4f9014[_0x257154];return _0x1a86aa;},a303_0x139f(_0x25428d,_0x12ff40);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x290cbe,_0x1917f6){return fetchAttachmentsDetails(_0x290cbe,FIELD_PARENT_ID,_0x1917f6);}exports[a303_0x281b78(0x108)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x3b6c65,_0x6e2e73,_0x47e54b){const _0x2c3bc1=a303_0x281b78,_0x9f302c=[],_0x2cbaa7=(0x0,index_1[_0x2c3bc1(0x101)])(_0x47e54b,CHUNK_QUERY_SIZE);for(const _0x37f76b of _0x2cbaa7){const _0x3b8ec=_0x2c3bc1(0xf5)+_0x6e2e73+_0x2c3bc1(0x106)+('\x27'+_0x37f76b['join'](_0x2c3bc1(0x11b))+'\x27')+')',{data:_0xb5f387}=await _0x3b6c65[_0x2c3bc1(0x116)](_0x2c3bc1(0x10d)+constants_1[_0x2c3bc1(0xfd)]+_0x2c3bc1(0x113),{'params':{'q':_0x3b8ec}});_0x9f302c['push'](..._0xb5f387[_0x2c3bc1(0x118)]);}return _0x9f302c;}function a303_0x1a86(){const _0x273d98=['(((.+)+)+)+$','base64','/query/','578776tfaQSc','/sobjects/Attachment/','get','fetchAttachmentBody','records','../../functions/utils/salesforce-request','/services/apexrest','\x27,\x27','apply','./index','/body','ParentId','search','4963600WMzKnT','8981609hqFAMR','243iNaJOP','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','315248CGxbfi','21GecwRU','18JgxQFN','retrieveAttachments','Body','fetchAttachmentsDetailsById','constructor','SALESFORCE_API_VERSION','push','696vDCevY','__esModule','chunkArray','911PvdLtU','defineProperty','toString','arraybuffer','\x20IN\x20(','BodyLength','fetchAttachmentsDetailsByParentId','fetchAttachments','2110885NMLIFg','584KDUZwY','post','/services/data/','624884DPHggO','namespace','length'];a303_0x1a86=function(){return _0x273d98;};return a303_0x1a86();}async function fetchAttachmentBody(_0x4bcda1,_0x51345d){const _0x5432ad=a303_0x281b78,{data:_0x277203}=await _0x4bcda1['get'](_0x5432ad(0x10d)+constants_1[_0x5432ad(0xfd)]+_0x5432ad(0x115)+_0x51345d+_0x5432ad(0xef),{'responseType':_0x5432ad(0x105)});return _0x277203;}exports[a303_0x281b78(0x117)]=fetchAttachmentBody;async function fetchAttachments(_0x13ac61,_0x351501,_0x770a92){const _0x296191=a303_0x281b78,{data:_0x2a6017}=await _0x13ac61[_0x296191(0x10c)](_0x296191(0x11a)+salesforce_request_1[_0x296191(0x10f)]+'/retrieveAttachments/',{'objectName':'Attachment','binaryFields':_0x351501,'recordIds':_0x770a92});return _0x2a6017;}exports[a303_0x281b78(0x109)]=fetchAttachments;