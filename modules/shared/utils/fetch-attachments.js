const a331_0x7377e2=a331_0x45c4;(function(_0xf4a55c,_0x22e0a4){const _0x2f0a19=a331_0x45c4,_0x3d5e9f=_0xf4a55c();while(!![]){try{const _0x36cdf6=parseInt(_0x2f0a19(0x1ec))/0x1+-parseInt(_0x2f0a19(0x20b))/0x2+-parseInt(_0x2f0a19(0x1e9))/0x3+-parseInt(_0x2f0a19(0x1f8))/0x4+-parseInt(_0x2f0a19(0x1fe))/0x5*(parseInt(_0x2f0a19(0x1f6))/0x6)+-parseInt(_0x2f0a19(0x1fa))/0x7*(-parseInt(_0x2f0a19(0x1ff))/0x8)+parseInt(_0x2f0a19(0x203))/0x9;if(_0x36cdf6===_0x22e0a4)break;else _0x3d5e9f['push'](_0x3d5e9f['shift']());}catch(_0x291c55){_0x3d5e9f['push'](_0x3d5e9f['shift']());}}}(a331_0x18b7,0x5450b));const a331_0x3eff3d=(function(){let _0x5acbe8=!![];return function(_0x32b582,_0x40360d){const _0x4b26f0=_0x5acbe8?function(){const _0x83c06c=a331_0x45c4;if(_0x40360d){const _0x22a8f2=_0x40360d[_0x83c06c(0x1f0)](_0x32b582,arguments);return _0x40360d=null,_0x22a8f2;}}:function(){};return _0x5acbe8=![],_0x4b26f0;};}()),a331_0x51408c=a331_0x3eff3d(this,function(){const _0x4848c8=a331_0x45c4;return a331_0x51408c['toString']()[_0x4848c8(0x1e2)]('(((.+)+)+)+$')[_0x4848c8(0x1f7)]()[_0x4848c8(0x1f4)](a331_0x51408c)[_0x4848c8(0x1e2)](_0x4848c8(0x1e4));});a331_0x51408c();function a331_0x18b7(){const _0x2f9d92=['990576WPaBtD','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','retrieveAttachments','177533sYidfL','fetchAttachmentsDetailsByParentId','length','defineProperty','apply','Body','fetchAttachmentsDetailsById','get','constructor','join','584214jyqMLb','toString','1034664oLlMaU','Attachment','119TqmdJU','/query/','BodyLength','/body','30TzKxSU','227928UwCNqH','push','records','./index','12305241WTXGRo','fetchAttachmentBody','__esModule','chunkArray','SALESFORCE_API_VERSION','/retrieveAttachments/','post','fetchAttachments','1021404jrBOuj','/services/apexrest','/services/data/','search','../../functions/utils/salesforce-request','(((.+)+)+)+$','/sobjects/Attachment/','base64','ParentId','\x27,\x27'];a331_0x18b7=function(){return _0x2f9d92;};return a331_0x18b7();}'use strict';Object[a331_0x7377e2(0x1ef)](exports,a331_0x7377e2(0x205),{'value':!![]}),exports[a331_0x7377e2(0x20a)]=exports['fetchAttachmentBody']=exports[a331_0x7377e2(0x1ed)]=exports[a331_0x7377e2(0x1f2)]=exports[a331_0x7377e2(0x1eb)]=void 0x0;const index_1=require(a331_0x7377e2(0x202)),constants_1=require('../../../constants'),salesforce_request_1=require(a331_0x7377e2(0x1e3)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a331_0x7377e2(0x1f1)],FIELD_PARENT_ID=a331_0x7377e2(0x1e7),FIELD_ID='Id';async function retrieveAttachments(_0x2e5839,_0x2c6116){const _0x3725c1=a331_0x7377e2;let _0x426c50=0x0,_0x1b4cac=0x0,_0x35a193=[];const _0x5e4d9b=[];for(const _0x38e30d of _0x2e5839){if(_0x38e30d[_0x3725c1(0x1fc)]>REST_ATTACHMENT_MAX_SIZE){const _0x47ff3b=await fetchAttachmentBody(_0x2c6116,_0x38e30d['Id']);_0x5e4d9b['push']({'id':_0x38e30d['Id'],'values':{'Body':_0x47ff3b[_0x3725c1(0x1f7)](_0x3725c1(0x1e6))}});continue;}if(_0x38e30d['BodyLength']+_0x426c50>REST_ATTACHMENT_MAX_SIZE||_0x1b4cac+0x1>=REST_ATTACHMENT_COUNT){const _0x3f1ecf=await fetchAttachments(_0x2c6116,BINARY_FIELDS,_0x35a193);_0x5e4d9b[_0x3725c1(0x200)](..._0x3f1ecf),_0x35a193=[],_0x426c50=0x0,_0x1b4cac=0x0;}_0x35a193[_0x3725c1(0x200)](_0x38e30d['Id']),_0x426c50+=_0x38e30d[_0x3725c1(0x1fc)],_0x1b4cac++;}if(_0x35a193[_0x3725c1(0x1ee)]){const _0x386b23=await fetchAttachments(_0x2c6116,BINARY_FIELDS,_0x35a193);_0x5e4d9b[_0x3725c1(0x200)](..._0x386b23);}return _0x5e4d9b;}exports[a331_0x7377e2(0x1eb)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x53b48e,_0x2e1249){return fetchAttachmentsDetails(_0x53b48e,FIELD_ID,_0x2e1249);}exports[a331_0x7377e2(0x1f2)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3dda82,_0x2869e5){return fetchAttachmentsDetails(_0x3dda82,FIELD_PARENT_ID,_0x2869e5);}exports[a331_0x7377e2(0x1ed)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5de0fe,_0x2a297f,_0x30b3a4){const _0x40c2ac=a331_0x7377e2,_0xba7dc9=[],_0x2ecf00=(0x0,index_1[_0x40c2ac(0x206)])(_0x30b3a4,CHUNK_QUERY_SIZE);for(const _0x4d6b4c of _0x2ecf00){const _0x5ec3fc=_0x40c2ac(0x1ea)+_0x2a297f+'\x20IN\x20('+('\x27'+_0x4d6b4c[_0x40c2ac(0x1f5)](_0x40c2ac(0x1e8))+'\x27')+')',{data:_0x57ffad}=await _0x5de0fe[_0x40c2ac(0x1f3)](_0x40c2ac(0x1e1)+constants_1[_0x40c2ac(0x207)]+_0x40c2ac(0x1fb),{'params':{'q':_0x5ec3fc}});_0xba7dc9['push'](..._0x57ffad[_0x40c2ac(0x201)]);}return _0xba7dc9;}async function fetchAttachmentBody(_0xe679ae,_0x4a6630){const _0x29e6c5=a331_0x7377e2,{data:_0x3df68c}=await _0xe679ae[_0x29e6c5(0x1f3)](_0x29e6c5(0x1e1)+constants_1[_0x29e6c5(0x207)]+_0x29e6c5(0x1e5)+_0x4a6630+_0x29e6c5(0x1fd),{'responseType':'arraybuffer'});return _0x3df68c;}exports[a331_0x7377e2(0x204)]=fetchAttachmentBody;async function fetchAttachments(_0xc1e205,_0x139457,_0x43afd7){const _0x33a827=a331_0x7377e2,{data:_0x3f36e5}=await _0xc1e205[_0x33a827(0x209)](_0x33a827(0x20c)+salesforce_request_1['namespace']+_0x33a827(0x208),{'objectName':_0x33a827(0x1f9),'binaryFields':_0x139457,'recordIds':_0x43afd7});return _0x3f36e5;}function a331_0x45c4(_0x5935da,_0x6a60bc){const _0x49b69d=a331_0x18b7();return a331_0x45c4=function(_0x51408c,_0x3eff3d){_0x51408c=_0x51408c-0x1e1;let _0x18b7c8=_0x49b69d[_0x51408c];return _0x18b7c8;},a331_0x45c4(_0x5935da,_0x6a60bc);}exports[a331_0x7377e2(0x20a)]=fetchAttachments;