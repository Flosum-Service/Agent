const a332_0x4c6170=a332_0x2805;(function(_0x48eb99,_0x5bac0c){const _0x25c8e6=a332_0x2805,_0x3c0200=_0x48eb99();while(!![]){try{const _0xa75874=-parseInt(_0x25c8e6(0x1ad))/0x1*(-parseInt(_0x25c8e6(0x1b9))/0x2)+-parseInt(_0x25c8e6(0x1b0))/0x3+parseInt(_0x25c8e6(0x1b4))/0x4+-parseInt(_0x25c8e6(0x1c7))/0x5+parseInt(_0x25c8e6(0x1ac))/0x6*(parseInt(_0x25c8e6(0x1ae))/0x7)+parseInt(_0x25c8e6(0x1c1))/0x8+parseInt(_0x25c8e6(0x1c6))/0x9*(-parseInt(_0x25c8e6(0x1aa))/0xa);if(_0xa75874===_0x5bac0c)break;else _0x3c0200['push'](_0x3c0200['shift']());}catch(_0x4616a3){_0x3c0200['push'](_0x3c0200['shift']());}}}(a332_0x3a81,0xdb26c));const a332_0x4558f2=(function(){let _0x9cfec1=!![];return function(_0x385c07,_0xb2bc41){const _0x45c224=_0x9cfec1?function(){const _0x51f572=a332_0x2805;if(_0xb2bc41){const _0x2d6038=_0xb2bc41[_0x51f572(0x1b3)](_0x385c07,arguments);return _0xb2bc41=null,_0x2d6038;}}:function(){};return _0x9cfec1=![],_0x45c224;};}()),a332_0xc4fdc8=a332_0x4558f2(this,function(){const _0x5628aa=a332_0x2805;return a332_0xc4fdc8[_0x5628aa(0x1b2)]()[_0x5628aa(0x1c4)](_0x5628aa(0x1bb))[_0x5628aa(0x1b2)]()['constructor'](a332_0xc4fdc8)[_0x5628aa(0x1c4)](_0x5628aa(0x1bb));});a332_0xc4fdc8();'use strict';Object[a332_0x4c6170(0x1ab)](exports,'__esModule',{'value':!![]}),exports[a332_0x4c6170(0x1bc)]=exports[a332_0x4c6170(0x1af)]=exports[a332_0x4c6170(0x1a2)]=exports[a332_0x4c6170(0x1c8)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a332_0x4c6170(0x1be)),constants_1=require(a332_0x4c6170(0x1b7)),salesforce_request_1=require(a332_0x4c6170(0x1c2)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a332_0x4c6170(0x1c9)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x43518a,_0x1e7ddf){const _0xec9ce1=a332_0x4c6170;let _0x243818=0x0,_0x2fd6ab=0x0,_0x3310f0=[];const _0x294d90=[];for(const _0x4850ae of _0x43518a){if(_0x4850ae[_0xec9ce1(0x1b1)]>REST_ATTACHMENT_MAX_SIZE){const _0x3b9866=await fetchAttachmentBody(_0x1e7ddf,_0x4850ae['Id']);_0x294d90[_0xec9ce1(0x1b5)]({'id':_0x4850ae['Id'],'values':{'Body':_0x3b9866[_0xec9ce1(0x1b2)]('base64')}});continue;}if(_0x4850ae[_0xec9ce1(0x1b1)]+_0x243818>REST_ATTACHMENT_MAX_SIZE||_0x2fd6ab+0x1>=REST_ATTACHMENT_COUNT){const _0x48e49e=await fetchAttachments(_0x1e7ddf,BINARY_FIELDS,_0x3310f0);_0x294d90['push'](..._0x48e49e),_0x3310f0=[],_0x243818=0x0,_0x2fd6ab=0x0;}_0x3310f0[_0xec9ce1(0x1b5)](_0x4850ae['Id']),_0x243818+=_0x4850ae['BodyLength'],_0x2fd6ab++;}if(_0x3310f0[_0xec9ce1(0x1bf)]){const _0x26b60a=await fetchAttachments(_0x1e7ddf,BINARY_FIELDS,_0x3310f0);_0x294d90['push'](..._0x26b60a);}return _0x294d90;}exports[a332_0x4c6170(0x1a3)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x27273e,_0x5dada2){return fetchAttachmentsDetails(_0x27273e,FIELD_ID,_0x5dada2);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function a332_0x2805(_0x366eca,_0x1bfebd){const _0x26fd76=a332_0x3a81();return a332_0x2805=function(_0xc4fdc8,_0x4558f2){_0xc4fdc8=_0xc4fdc8-0x1a2;let _0x3a8147=_0x26fd76[_0xc4fdc8];return _0x3a8147;},a332_0x2805(_0x366eca,_0x1bfebd);}function fetchAttachmentsDetailsByParentId(_0x48c74e,_0x53b1a9){return fetchAttachmentsDetails(_0x48c74e,FIELD_PARENT_ID,_0x53b1a9);}function a332_0x3a81(){const _0x3f348f=['\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','9NcuqzO','3551325rSblto','fetchAttachmentsDetailsById','Body','chunkArray','/services/apexrest','/sobjects/Attachment/','fetchAttachmentsDetailsByParentId','retrieveAttachments','/body','arraybuffer','get','SALESFORCE_API_VERSION','namespace','/retrieveAttachments/','9644870MIaldZ','defineProperty','4518762uIPDgE','35852kSZsuJ','14GRreBV','fetchAttachmentBody','2605923lgigIg','BodyLength','toString','apply','1485104qJAapw','push','join','../../../constants','/services/data/','44vAmdCW','\x20IN\x20(','(((.+)+)+)+$','fetchAttachments','post','./index','length','\x27,\x27','6198104IiFLWR','../../functions/utils/salesforce-request','/query/','search'];a332_0x3a81=function(){return _0x3f348f;};return a332_0x3a81();}exports[a332_0x4c6170(0x1a2)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4386a5,_0x1e6b1a,_0x53b8e5){const _0x5c127e=a332_0x4c6170,_0x8b07b4=[],_0xa959d5=(0x0,index_1[_0x5c127e(0x1ca)])(_0x53b8e5,CHUNK_QUERY_SIZE);for(const _0x3c64ca of _0xa959d5){const _0xea1feb=_0x5c127e(0x1c5)+_0x1e6b1a+_0x5c127e(0x1ba)+('\x27'+_0x3c64ca[_0x5c127e(0x1b6)](_0x5c127e(0x1c0))+'\x27')+')',{data:_0x347931}=await _0x4386a5[_0x5c127e(0x1a6)](_0x5c127e(0x1b8)+constants_1[_0x5c127e(0x1a7)]+_0x5c127e(0x1c3),{'params':{'q':_0xea1feb}});_0x8b07b4[_0x5c127e(0x1b5)](..._0x347931['records']);}return _0x8b07b4;}async function fetchAttachmentBody(_0x18a187,_0x215b43){const _0x27b757=a332_0x4c6170,{data:_0x5b691d}=await _0x18a187[_0x27b757(0x1a6)](_0x27b757(0x1b8)+constants_1[_0x27b757(0x1a7)]+_0x27b757(0x1cc)+_0x215b43+_0x27b757(0x1a4),{'responseType':_0x27b757(0x1a5)});return _0x5b691d;}exports[a332_0x4c6170(0x1af)]=fetchAttachmentBody;async function fetchAttachments(_0x465ca7,_0x4b0332,_0x38591f){const _0x39de3d=a332_0x4c6170,{data:_0x5bd288}=await _0x465ca7[_0x39de3d(0x1bd)](_0x39de3d(0x1cb)+salesforce_request_1[_0x39de3d(0x1a8)]+_0x39de3d(0x1a9),{'objectName':'Attachment','binaryFields':_0x4b0332,'recordIds':_0x38591f});return _0x5bd288;}exports[a332_0x4c6170(0x1bc)]=fetchAttachments;