const a302_0x16eb3c=a302_0x6da0;(function(_0x4765a7,_0x589dfa){const _0x205eb5=a302_0x6da0,_0x3b8da1=_0x4765a7();while(!![]){try{const _0x267070=-parseInt(_0x205eb5(0x1dc))/0x1+-parseInt(_0x205eb5(0x1d6))/0x2+-parseInt(_0x205eb5(0x1e5))/0x3*(parseInt(_0x205eb5(0x1f0))/0x4)+parseInt(_0x205eb5(0x1f3))/0x5*(parseInt(_0x205eb5(0x1e6))/0x6)+parseInt(_0x205eb5(0x1fb))/0x7+-parseInt(_0x205eb5(0x1ec))/0x8+parseInt(_0x205eb5(0x1fd))/0x9;if(_0x267070===_0x589dfa)break;else _0x3b8da1['push'](_0x3b8da1['shift']());}catch(_0x3fdf21){_0x3b8da1['push'](_0x3b8da1['shift']());}}}(a302_0x457c,0x4a008));const a302_0x5c925f=(function(){let _0x3526c3=!![];return function(_0x4ace86,_0x3eab83){const _0x44e30f=_0x3526c3?function(){const _0x29fa63=a302_0x6da0;if(_0x3eab83){const _0x424792=_0x3eab83[_0x29fa63(0x1f4)](_0x4ace86,arguments);return _0x3eab83=null,_0x424792;}}:function(){};return _0x3526c3=![],_0x44e30f;};}()),a302_0x5933a8=a302_0x5c925f(this,function(){const _0x48b631=a302_0x6da0;return a302_0x5933a8['toString']()[_0x48b631(0x1de)](_0x48b631(0x1e9))[_0x48b631(0x1d9)]()['constructor'](a302_0x5933a8)[_0x48b631(0x1de)]('(((.+)+)+)+$');});a302_0x5933a8();'use strict';function a302_0x6da0(_0x3b0733,_0x2d6450){const _0x5781a4=a302_0x457c();return a302_0x6da0=function(_0x5933a8,_0x5c925f){_0x5933a8=_0x5933a8-0x1d6;let _0x457c82=_0x5781a4[_0x5933a8];return _0x457c82;},a302_0x6da0(_0x3b0733,_0x2d6450);}Object[a302_0x16eb3c(0x1dd)](exports,'__esModule',{'value':!![]}),exports[a302_0x16eb3c(0x1da)]=exports[a302_0x16eb3c(0x1ed)]=exports[a302_0x16eb3c(0x1df)]=exports['fetchAttachmentsDetailsById']=exports[a302_0x16eb3c(0x1ee)]=void 0x0;const index_1=require(a302_0x16eb3c(0x1d7)),constants_1=require('../../../constants'),salesforce_request_1=require(a302_0x16eb3c(0x1db)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a302_0x16eb3c(0x1f8),FIELD_ID='Id';async function retrieveAttachments(_0x7d6087,_0x785396){const _0x358c7c=a302_0x16eb3c;let _0x504974=0x0,_0x10f6f3=0x0,_0x8c8cfc=[];const _0x1dea18=[];for(const _0x95b2a2 of _0x7d6087){if(_0x95b2a2[_0x358c7c(0x1e2)]>REST_ATTACHMENT_MAX_SIZE){const _0x1c6f45=await fetchAttachmentBody(_0x785396,_0x95b2a2['Id']);_0x1dea18[_0x358c7c(0x1e3)]({'id':_0x95b2a2['Id'],'values':{'Body':_0x1c6f45['toString'](_0x358c7c(0x1e4))}});continue;}if(_0x95b2a2['BodyLength']+_0x504974>REST_ATTACHMENT_MAX_SIZE||_0x10f6f3+0x1>=REST_ATTACHMENT_COUNT){const _0x45c806=await fetchAttachments(_0x785396,BINARY_FIELDS,_0x8c8cfc);_0x1dea18[_0x358c7c(0x1e3)](..._0x45c806),_0x8c8cfc=[],_0x504974=0x0,_0x10f6f3=0x0;}_0x8c8cfc[_0x358c7c(0x1e3)](_0x95b2a2['Id']),_0x504974+=_0x95b2a2[_0x358c7c(0x1e2)],_0x10f6f3++;}if(_0x8c8cfc[_0x358c7c(0x1ea)]){const _0x873cb=await fetchAttachments(_0x785396,BINARY_FIELDS,_0x8c8cfc);_0x1dea18[_0x358c7c(0x1e3)](..._0x873cb);}return _0x1dea18;}exports[a302_0x16eb3c(0x1ee)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x5ed2ad,_0x22db20){return fetchAttachmentsDetails(_0x5ed2ad,FIELD_ID,_0x22db20);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x167878,_0x36582d){return fetchAttachmentsDetails(_0x167878,FIELD_PARENT_ID,_0x36582d);}exports[a302_0x16eb3c(0x1df)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4c080e,_0x4ec520,_0x5abd2c){const _0x5972fb=a302_0x16eb3c,_0x49b2c5=[],_0x3ff590=(0x0,index_1[_0x5972fb(0x1d8)])(_0x5abd2c,CHUNK_QUERY_SIZE);for(const _0x40a592 of _0x3ff590){const _0x524d57=_0x5972fb(0x1f1)+_0x4ec520+'\x20IN\x20('+('\x27'+_0x40a592[_0x5972fb(0x1fc)](_0x5972fb(0x1fe))+'\x27')+')',{data:_0x2a3fae}=await _0x4c080e[_0x5972fb(0x1e7)](_0x5972fb(0x1f6)+constants_1['SALESFORCE_API_VERSION']+_0x5972fb(0x1f2),{'params':{'q':_0x524d57}});_0x49b2c5['push'](..._0x2a3fae[_0x5972fb(0x1eb)]);}return _0x49b2c5;}async function fetchAttachmentBody(_0xda64ed,_0xb14cb5){const _0x3fcb02=a302_0x16eb3c,{data:_0x641065}=await _0xda64ed[_0x3fcb02(0x1e7)]('/services/data/'+constants_1[_0x3fcb02(0x1fa)]+_0x3fcb02(0x1e0)+_0xb14cb5+_0x3fcb02(0x1e1),{'responseType':'arraybuffer'});return _0x641065;}exports[a302_0x16eb3c(0x1ed)]=fetchAttachmentBody;async function fetchAttachments(_0x1d82fd,_0x2d3af9,_0xb7116f){const _0x4a796c=a302_0x16eb3c,{data:_0x3ec725}=await _0x1d82fd[_0x4a796c(0x1e8)](_0x4a796c(0x1f9)+salesforce_request_1[_0x4a796c(0x1f7)]+_0x4a796c(0x1f5),{'objectName':_0x4a796c(0x1ef),'binaryFields':_0x2d3af9,'recordIds':_0xb7116f});return _0x3ec725;}exports[a302_0x16eb3c(0x1da)]=fetchAttachments;function a302_0x457c(){const _0x2890a0=['base64','309NLKzjg','150KpUHOu','get','post','(((.+)+)+)+$','length','records','3865872lgrdmY','fetchAttachmentBody','retrieveAttachments','Attachment','5272hXQifL','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','/query/','65425IRLnzb','apply','/retrieveAttachments/','/services/data/','namespace','ParentId','/services/apexrest','SALESFORCE_API_VERSION','2685361IRfztd','join','7350606SFnepa','\x27,\x27','185790NuwEdn','./index','chunkArray','toString','fetchAttachments','../../functions/utils/salesforce-request','512487GavPXB','defineProperty','search','fetchAttachmentsDetailsByParentId','/sobjects/Attachment/','/body','BodyLength','push'];a302_0x457c=function(){return _0x2890a0;};return a302_0x457c();}