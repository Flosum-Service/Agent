const a318_0x158890=a318_0x35ef;(function(_0x8e397f,_0x558f56){const _0x3aac54=a318_0x35ef,_0xab7c5d=_0x8e397f();while(!![]){try{const _0x47fa88=-parseInt(_0x3aac54(0x20c))/0x1+parseInt(_0x3aac54(0x1f3))/0x2*(-parseInt(_0x3aac54(0x20b))/0x3)+-parseInt(_0x3aac54(0x204))/0x4+parseInt(_0x3aac54(0x1e7))/0x5*(parseInt(_0x3aac54(0x1eb))/0x6)+-parseInt(_0x3aac54(0x209))/0x7+parseInt(_0x3aac54(0x206))/0x8+parseInt(_0x3aac54(0x1fb))/0x9;if(_0x47fa88===_0x558f56)break;else _0xab7c5d['push'](_0xab7c5d['shift']());}catch(_0xb8d833){_0xab7c5d['push'](_0xab7c5d['shift']());}}}(a318_0x2924,0x4628d));const a318_0x2fd236=(function(){let _0x3da8e4=!![];return function(_0x4ffb09,_0x34f7e4){const _0x406c7d=_0x3da8e4?function(){const _0x54c844=a318_0x35ef;if(_0x34f7e4){const _0x497a77=_0x34f7e4[_0x54c844(0x208)](_0x4ffb09,arguments);return _0x34f7e4=null,_0x497a77;}}:function(){};return _0x3da8e4=![],_0x406c7d;};}()),a318_0x60f37c=a318_0x2fd236(this,function(){const _0x5ec624=a318_0x35ef;return a318_0x60f37c[_0x5ec624(0x1f4)]()[_0x5ec624(0x1ee)](_0x5ec624(0x1f8))[_0x5ec624(0x1f4)]()[_0x5ec624(0x1fd)](a318_0x60f37c)[_0x5ec624(0x1ee)](_0x5ec624(0x1f8));});a318_0x60f37c();'use strict';Object[a318_0x158890(0x1fc)](exports,a318_0x158890(0x1f1),{'value':!![]}),exports[a318_0x158890(0x203)]=exports[a318_0x158890(0x1fe)]=exports[a318_0x158890(0x1ff)]=exports[a318_0x158890(0x1f5)]=exports[a318_0x158890(0x1f0)]=void 0x0;const index_1=require(a318_0x158890(0x1f2)),constants_1=require('../../../constants'),salesforce_request_1=require(a318_0x158890(0x1e9)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a318_0x158890(0x1ea)],FIELD_PARENT_ID=a318_0x158890(0x205),FIELD_ID='Id';async function retrieveAttachments(_0x4409c1,_0x49f6ac){const _0x426102=a318_0x158890;let _0x313539=0x0,_0x3e1ef8=0x0,_0x529ac1=[];const _0x1dedbe=[];for(const _0x53fac6 of _0x4409c1){if(_0x53fac6[_0x426102(0x20a)]>REST_ATTACHMENT_MAX_SIZE){const _0x1cf84c=await fetchAttachmentBody(_0x49f6ac,_0x53fac6['Id']);_0x1dedbe['push']({'id':_0x53fac6['Id'],'values':{'Body':_0x1cf84c[_0x426102(0x1f4)](_0x426102(0x1f6))}});continue;}if(_0x53fac6['BodyLength']+_0x313539>REST_ATTACHMENT_MAX_SIZE||_0x3e1ef8+0x1>=REST_ATTACHMENT_COUNT){const _0x637fb0=await fetchAttachments(_0x49f6ac,BINARY_FIELDS,_0x529ac1);_0x1dedbe['push'](..._0x637fb0),_0x529ac1=[],_0x313539=0x0,_0x3e1ef8=0x0;}_0x529ac1[_0x426102(0x1e6)](_0x53fac6['Id']),_0x313539+=_0x53fac6[_0x426102(0x20a)],_0x3e1ef8++;}if(_0x529ac1[_0x426102(0x1ec)]){const _0x1a82f3=await fetchAttachments(_0x49f6ac,BINARY_FIELDS,_0x529ac1);_0x1dedbe[_0x426102(0x1e6)](..._0x1a82f3);}return _0x1dedbe;}exports[a318_0x158890(0x1f0)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0xe6a072,_0x3927fa){return fetchAttachmentsDetails(_0xe6a072,FIELD_ID,_0x3927fa);}exports[a318_0x158890(0x1f5)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x1dfdf3,_0x5931c2){return fetchAttachmentsDetails(_0x1dfdf3,FIELD_PARENT_ID,_0x5931c2);}exports[a318_0x158890(0x1ff)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x3914dc,_0x266a8f,_0x38c39a){const _0x1b1d68=a318_0x158890,_0x4bc6eb=[],_0x4fa0a0=(0x0,index_1['chunkArray'])(_0x38c39a,CHUNK_QUERY_SIZE);for(const _0x52709b of _0x4fa0a0){const _0x3c5cde=_0x1b1d68(0x1e8)+_0x266a8f+'\x20IN\x20('+('\x27'+_0x52709b[_0x1b1d68(0x1ef)]('\x27,\x27')+'\x27')+')',{data:_0x104a13}=await _0x3914dc[_0x1b1d68(0x20d)](_0x1b1d68(0x200)+constants_1[_0x1b1d68(0x207)]+_0x1b1d68(0x1ed),{'params':{'q':_0x3c5cde}});_0x4bc6eb[_0x1b1d68(0x1e6)](..._0x104a13['records']);}return _0x4bc6eb;}async function fetchAttachmentBody(_0x3d1f82,_0x2b781f){const _0x49a09a=a318_0x158890,{data:_0x4846f3}=await _0x3d1f82[_0x49a09a(0x20d)](_0x49a09a(0x200)+constants_1[_0x49a09a(0x207)]+_0x49a09a(0x201)+_0x2b781f+_0x49a09a(0x1f9),{'responseType':_0x49a09a(0x1f7)});return _0x4846f3;}exports[a318_0x158890(0x1fe)]=fetchAttachmentBody;async function fetchAttachments(_0xfdf4a5,_0x4dc7df,_0x56f11e){const _0x1c18bc=a318_0x158890,{data:_0x12e659}=await _0xfdf4a5['post']('/services/apexrest'+salesforce_request_1[_0x1c18bc(0x1fa)]+_0x1c18bc(0x202),{'objectName':'Attachment','binaryFields':_0x4dc7df,'recordIds':_0x56f11e});return _0x12e659;}function a318_0x2924(){const _0xe191b6=['1254327BWllyX','304749IBmejQ','get','push','950VqIEnH','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','../../functions/utils/salesforce-request','Body','246nOBcbK','length','/query/','search','join','retrieveAttachments','__esModule','./index','2PjApoe','toString','fetchAttachmentsDetailsById','base64','arraybuffer','(((.+)+)+)+$','/body','namespace','8253720ZOMhba','defineProperty','constructor','fetchAttachmentBody','fetchAttachmentsDetailsByParentId','/services/data/','/sobjects/Attachment/','/retrieveAttachments/','fetchAttachments','554432EsFYOy','ParentId','4046032xBFaLL','SALESFORCE_API_VERSION','apply','1972495CMADLK','BodyLength'];a318_0x2924=function(){return _0xe191b6;};return a318_0x2924();}function a318_0x35ef(_0x101ef4,_0x1e69cf){const _0x51cbf3=a318_0x2924();return a318_0x35ef=function(_0x60f37c,_0x2fd236){_0x60f37c=_0x60f37c-0x1e6;let _0x292440=_0x51cbf3[_0x60f37c];return _0x292440;},a318_0x35ef(_0x101ef4,_0x1e69cf);}exports[a318_0x158890(0x203)]=fetchAttachments;