const a330_0x2bac6c=a330_0x5118;(function(_0x4b8a44,_0x22f764){const _0x2fc268=a330_0x5118,_0x2a0b27=_0x4b8a44();while(!![]){try{const _0x341c28=-parseInt(_0x2fc268(0x14c))/0x1+parseInt(_0x2fc268(0x14a))/0x2+parseInt(_0x2fc268(0x156))/0x3*(parseInt(_0x2fc268(0x15a))/0x4)+-parseInt(_0x2fc268(0x149))/0x5+-parseInt(_0x2fc268(0x14f))/0x6*(parseInt(_0x2fc268(0x13b))/0x7)+-parseInt(_0x2fc268(0x150))/0x8*(-parseInt(_0x2fc268(0x13e))/0x9)+parseInt(_0x2fc268(0x159))/0xa;if(_0x341c28===_0x22f764)break;else _0x2a0b27['push'](_0x2a0b27['shift']());}catch(_0x119fa9){_0x2a0b27['push'](_0x2a0b27['shift']());}}}(a330_0xcc98,0x46c95));const a330_0x50a088=(function(){let _0x197cf1=!![];return function(_0x438783,_0x30b691){const _0x39cba2=_0x197cf1?function(){const _0x378c0a=a330_0x5118;if(_0x30b691){const _0x58ca55=_0x30b691[_0x378c0a(0x14e)](_0x438783,arguments);return _0x30b691=null,_0x58ca55;}}:function(){};return _0x197cf1=![],_0x39cba2;};}()),a330_0x29594f=a330_0x50a088(this,function(){const _0x21a755=a330_0x5118;return a330_0x29594f[_0x21a755(0x152)]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a330_0x29594f)['search']('(((.+)+)+)+$');});a330_0x29594f();'use strict';Object[a330_0x2bac6c(0x14b)](exports,a330_0x2bac6c(0x151),{'value':!![]}),exports[a330_0x2bac6c(0x155)]=exports[a330_0x2bac6c(0x142)]=exports[a330_0x2bac6c(0x15c)]=exports['fetchAttachmentsDetailsById']=exports[a330_0x2bac6c(0x141)]=void 0x0;const index_1=require('./index'),constants_1=require(a330_0x2bac6c(0x15b)),salesforce_request_1=require(a330_0x2bac6c(0x157)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a330_0x2bac6c(0x146)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x40b1d6,_0x424090){const _0x1aa52f=a330_0x2bac6c;let _0xe093cf=0x0,_0x4e31dc=0x0,_0x6c74e8=[];const _0x5a0d42=[];for(const _0x71299f of _0x40b1d6){if(_0x71299f[_0x1aa52f(0x139)]>REST_ATTACHMENT_MAX_SIZE){const _0x4c1bb8=await fetchAttachmentBody(_0x424090,_0x71299f['Id']);_0x5a0d42[_0x1aa52f(0x140)]({'id':_0x71299f['Id'],'values':{'Body':_0x4c1bb8[_0x1aa52f(0x152)](_0x1aa52f(0x13c))}});continue;}if(_0x71299f[_0x1aa52f(0x139)]+_0xe093cf>REST_ATTACHMENT_MAX_SIZE||_0x4e31dc+0x1>=REST_ATTACHMENT_COUNT){const _0x1782d5=await fetchAttachments(_0x424090,BINARY_FIELDS,_0x6c74e8);_0x5a0d42[_0x1aa52f(0x140)](..._0x1782d5),_0x6c74e8=[],_0xe093cf=0x0,_0x4e31dc=0x0;}_0x6c74e8[_0x1aa52f(0x140)](_0x71299f['Id']),_0xe093cf+=_0x71299f['BodyLength'],_0x4e31dc++;}if(_0x6c74e8[_0x1aa52f(0x148)]){const _0x49f443=await fetchAttachments(_0x424090,BINARY_FIELDS,_0x6c74e8);_0x5a0d42[_0x1aa52f(0x140)](..._0x49f443);}return _0x5a0d42;}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x32dc80,_0x54cbb9){return fetchAttachmentsDetails(_0x32dc80,FIELD_ID,_0x54cbb9);}exports[a330_0x2bac6c(0x15e)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x2feb6b,_0x2c75ae){return fetchAttachmentsDetails(_0x2feb6b,FIELD_PARENT_ID,_0x2c75ae);}exports[a330_0x2bac6c(0x15c)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x1c7a89,_0x2bf799,_0x3082d7){const _0x2e2f1b=a330_0x2bac6c,_0x4b91d8=[],_0x3a21b3=(0x0,index_1[_0x2e2f1b(0x13f)])(_0x3082d7,CHUNK_QUERY_SIZE);for(const _0x3058e5 of _0x3a21b3){const _0x28ce48=_0x2e2f1b(0x13d)+_0x2bf799+'\x20IN\x20('+('\x27'+_0x3058e5[_0x2e2f1b(0x143)]('\x27,\x27')+'\x27')+')',{data:_0x169aa1}=await _0x1c7a89['get']('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x2e2f1b(0x153),{'params':{'q':_0x28ce48}});_0x4b91d8[_0x2e2f1b(0x140)](..._0x169aa1[_0x2e2f1b(0x13a)]);}return _0x4b91d8;}async function fetchAttachmentBody(_0x138c92,_0x5f1255){const _0x58bcdd=a330_0x2bac6c,{data:_0x4162d8}=await _0x138c92[_0x58bcdd(0x144)]('/services/data/'+constants_1[_0x58bcdd(0x15f)]+_0x58bcdd(0x145)+_0x5f1255+_0x58bcdd(0x154),{'responseType':_0x58bcdd(0x147)});return _0x4162d8;}exports[a330_0x2bac6c(0x142)]=fetchAttachmentBody;async function fetchAttachments(_0x33a78a,_0x3e29a6,_0x3bbc74){const _0x5ad4aa=a330_0x2bac6c,{data:_0x2e4469}=await _0x33a78a[_0x5ad4aa(0x14d)](_0x5ad4aa(0x15d)+salesforce_request_1[_0x5ad4aa(0x158)]+'/retrieveAttachments/',{'objectName':'Attachment','binaryFields':_0x3e29a6,'recordIds':_0x3bbc74});return _0x2e4469;}function a330_0x5118(_0x46c05f,_0x4f98b3){const _0x18f376=a330_0xcc98();return a330_0x5118=function(_0x29594f,_0x50a088){_0x29594f=_0x29594f-0x139;let _0xcc9869=_0x18f376[_0x29594f];return _0xcc9869;},a330_0x5118(_0x46c05f,_0x4f98b3);}exports[a330_0x2bac6c(0x155)]=fetchAttachments;function a330_0xcc98(){const _0x6d2648=['apply','228cJwGnw','118504gfYcvR','__esModule','toString','/query/','/body','fetchAttachments','3UMWvoK','../../functions/utils/salesforce-request','namespace','9611090niGfjJ','495964rDksyV','../../../constants','fetchAttachmentsDetailsByParentId','/services/apexrest','fetchAttachmentsDetailsById','SALESFORCE_API_VERSION','BodyLength','records','103159VHYSQB','base64','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','279ciCmAc','chunkArray','push','retrieveAttachments','fetchAttachmentBody','join','get','/sobjects/Attachment/','Body','arraybuffer','length','2031075xoMmQE','181048IhqsFL','defineProperty','378665tTXdGE','post'];a330_0xcc98=function(){return _0x6d2648;};return a330_0xcc98();}