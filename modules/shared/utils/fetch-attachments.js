const a287_0x2450d9=a287_0x53c7;(function(_0x1356b8,_0x2ef287){const _0x40f13a=a287_0x53c7,_0x4e6f31=_0x1356b8();while(!![]){try{const _0x259c54=-parseInt(_0x40f13a(0xba))/0x1*(-parseInt(_0x40f13a(0xc1))/0x2)+-parseInt(_0x40f13a(0xbb))/0x3+parseInt(_0x40f13a(0xa6))/0x4+-parseInt(_0x40f13a(0xac))/0x5+parseInt(_0x40f13a(0xb1))/0x6*(parseInt(_0x40f13a(0xbc))/0x7)+-parseInt(_0x40f13a(0xa7))/0x8+parseInt(_0x40f13a(0xb7))/0x9;if(_0x259c54===_0x2ef287)break;else _0x4e6f31['push'](_0x4e6f31['shift']());}catch(_0x360a72){_0x4e6f31['push'](_0x4e6f31['shift']());}}}(a287_0x352f,0x6b85c));const a287_0x422b42=(function(){let _0x2564f6=!![];return function(_0x34f669,_0xef5ec8){const _0x1633d6=_0x2564f6?function(){const _0x46495e=a287_0x53c7;if(_0xef5ec8){const _0x516c34=_0xef5ec8[_0x46495e(0xa9)](_0x34f669,arguments);return _0xef5ec8=null,_0x516c34;}}:function(){};return _0x2564f6=![],_0x1633d6;};}()),a287_0x2bfb9d=a287_0x422b42(this,function(){const _0x1d1d90=a287_0x53c7;return a287_0x2bfb9d[_0x1d1d90(0x9d)]()[_0x1d1d90(0xbf)](_0x1d1d90(0xc3))['toString']()[_0x1d1d90(0xb6)](a287_0x2bfb9d)[_0x1d1d90(0xbf)](_0x1d1d90(0xc3));});a287_0x2bfb9d();'use strict';Object[a287_0x2450d9(0xae)](exports,a287_0x2450d9(0xc2),{'value':!![]}),exports[a287_0x2450d9(0xb2)]=exports['fetchAttachmentBody']=exports[a287_0x2450d9(0xa5)]=exports[a287_0x2450d9(0xaf)]=exports[a287_0x2450d9(0xbe)]=void 0x0;const index_1=require(a287_0x2450d9(0xb4)),constants_1=require('../../../constants'),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a287_0x2450d9(0xa3)],FIELD_PARENT_ID=a287_0x2450d9(0xb5),FIELD_ID='Id';async function retrieveAttachments(_0x22ed24,_0x2cb01d){const _0x2846d9=a287_0x2450d9;let _0x4649dd=0x0,_0x35154e=0x0,_0x10e61e=[];const _0x311800=[];for(const _0x2b6fcd of _0x22ed24){if(_0x2b6fcd[_0x2846d9(0xc5)]>REST_ATTACHMENT_MAX_SIZE){const _0x2b9fdf=await fetchAttachmentBody(_0x2cb01d,_0x2b6fcd['Id']);_0x311800[_0x2846d9(0xa1)]({'id':_0x2b6fcd['Id'],'values':{'Body':_0x2b9fdf[_0x2846d9(0x9d)](_0x2846d9(0xa4))}});continue;}if(_0x2b6fcd[_0x2846d9(0xc5)]+_0x4649dd>REST_ATTACHMENT_MAX_SIZE||_0x35154e+0x1>=REST_ATTACHMENT_COUNT){const _0x5c8dc9=await fetchAttachments(_0x2cb01d,BINARY_FIELDS,_0x10e61e);_0x311800[_0x2846d9(0xa1)](..._0x5c8dc9),_0x10e61e=[],_0x4649dd=0x0,_0x35154e=0x0;}_0x10e61e[_0x2846d9(0xa1)](_0x2b6fcd['Id']),_0x4649dd+=_0x2b6fcd[_0x2846d9(0xc5)],_0x35154e++;}if(_0x10e61e[_0x2846d9(0xc0)]){const _0x129a70=await fetchAttachments(_0x2cb01d,BINARY_FIELDS,_0x10e61e);_0x311800['push'](..._0x129a70);}return _0x311800;}exports[a287_0x2450d9(0xbe)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x455690,_0x4f0662){return fetchAttachmentsDetails(_0x455690,FIELD_ID,_0x4f0662);}function a287_0x53c7(_0x4b1d32,_0x32c2e4){const _0x2c508b=a287_0x352f();return a287_0x53c7=function(_0x2bfb9d,_0x422b42){_0x2bfb9d=_0x2bfb9d-0x9c;let _0x352fb7=_0x2c508b[_0x2bfb9d];return _0x352fb7;},a287_0x53c7(_0x4b1d32,_0x32c2e4);}exports[a287_0x2450d9(0xaf)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x19ef05,_0x15328d){return fetchAttachmentsDetails(_0x19ef05,FIELD_PARENT_ID,_0x15328d);}exports[a287_0x2450d9(0xa5)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x155313,_0x4fa003,_0x423633){const _0x25be9b=a287_0x2450d9,_0x3eb5a1=[],_0x144d21=(0x0,index_1[_0x25be9b(0xab)])(_0x423633,CHUNK_QUERY_SIZE);for(const _0x4b32f9 of _0x144d21){const _0x4f96ed=_0x25be9b(0x9f)+_0x4fa003+_0x25be9b(0xbd)+('\x27'+_0x4b32f9[_0x25be9b(0xa0)](_0x25be9b(0x9e))+'\x27')+')',{data:_0x57c3b8}=await _0x155313['get']('/services/data/'+constants_1[_0x25be9b(0xa8)]+'/query/',{'params':{'q':_0x4f96ed}});_0x3eb5a1['push'](..._0x57c3b8[_0x25be9b(0xc4)]);}return _0x3eb5a1;}async function fetchAttachmentBody(_0x68e653,_0x400665){const _0x3453ba=a287_0x2450d9,{data:_0x279fc9}=await _0x68e653[_0x3453ba(0xad)](_0x3453ba(0xb0)+constants_1[_0x3453ba(0xa8)]+_0x3453ba(0xb9)+_0x400665+_0x3453ba(0xb3),{'responseType':_0x3453ba(0xa2)});return _0x279fc9;}exports['fetchAttachmentBody']=fetchAttachmentBody;function a287_0x352f(){const _0xe7a4ff=['constructor','12055077nSrUFV','/services/apexrest','/sobjects/Attachment/','10217WawZTC','397977NpTVfX','7hjuVLz','\x20IN\x20(','retrieveAttachments','search','length','10PsjKxB','__esModule','(((.+)+)+)+$','records','BodyLength','/retrieveAttachments/','toString','\x27,\x27','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','join','push','arraybuffer','Body','base64','fetchAttachmentsDetailsByParentId','261232gnaYVp','5417944ncVgva','SALESFORCE_API_VERSION','apply','Attachment','chunkArray','2045035ipoJBb','get','defineProperty','fetchAttachmentsDetailsById','/services/data/','1220850aVlkGp','fetchAttachments','/body','./index','ParentId'];a287_0x352f=function(){return _0xe7a4ff;};return a287_0x352f();}async function fetchAttachments(_0x327372,_0xe7f163,_0x81a68d){const _0xf0d489=a287_0x2450d9,{data:_0x291fa4}=await _0x327372['post'](_0xf0d489(0xb8)+salesforce_request_1['namespace']+_0xf0d489(0x9c),{'objectName':_0xf0d489(0xaa),'binaryFields':_0xe7f163,'recordIds':_0x81a68d});return _0x291fa4;}exports[a287_0x2450d9(0xb2)]=fetchAttachments;