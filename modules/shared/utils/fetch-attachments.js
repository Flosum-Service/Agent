const a319_0x2396d6=a319_0xc72f;(function(_0xadb56b,_0x4d8276){const _0x4e86ff=a319_0xc72f,_0x5a4394=_0xadb56b();while(!![]){try{const _0x45a938=parseInt(_0x4e86ff(0x196))/0x1*(parseInt(_0x4e86ff(0x190))/0x2)+parseInt(_0x4e86ff(0x191))/0x3*(parseInt(_0x4e86ff(0x1a5))/0x4)+-parseInt(_0x4e86ff(0x19d))/0x5*(-parseInt(_0x4e86ff(0x198))/0x6)+parseInt(_0x4e86ff(0x19f))/0x7+parseInt(_0x4e86ff(0x187))/0x8+parseInt(_0x4e86ff(0x184))/0x9*(-parseInt(_0x4e86ff(0x1a6))/0xa)+-parseInt(_0x4e86ff(0x195))/0xb*(parseInt(_0x4e86ff(0x181))/0xc);if(_0x45a938===_0x4d8276)break;else _0x5a4394['push'](_0x5a4394['shift']());}catch(_0x4f2461){_0x5a4394['push'](_0x5a4394['shift']());}}}(a319_0x478e,0xb5918));const a319_0x222d71=(function(){let _0x4d0aa7=!![];return function(_0x490e63,_0x5030fd){const _0xba4417=_0x4d0aa7?function(){const _0xd34ba1=a319_0xc72f;if(_0x5030fd){const _0x8c67e1=_0x5030fd[_0xd34ba1(0x186)](_0x490e63,arguments);return _0x5030fd=null,_0x8c67e1;}}:function(){};return _0x4d0aa7=![],_0xba4417;};}()),a319_0x2e5ba4=a319_0x222d71(this,function(){const _0x798b46=a319_0xc72f;return a319_0x2e5ba4[_0x798b46(0x18b)]()['search'](_0x798b46(0x17d))[_0x798b46(0x18b)]()[_0x798b46(0x1a0)](a319_0x2e5ba4)['search']('(((.+)+)+)+$');});a319_0x2e5ba4();'use strict';Object[a319_0x2396d6(0x197)](exports,'__esModule',{'value':!![]}),exports['fetchAttachments']=exports[a319_0x2396d6(0x182)]=exports['fetchAttachmentsDetailsByParentId']=exports[a319_0x2396d6(0x180)]=exports[a319_0x2396d6(0x193)]=void 0x0;function a319_0x478e(){const _0x19e30d=['SALESFORCE_API_VERSION','12SFWkXi','213837mfuvNu','Attachment','retrieveAttachments','BodyLength','34857768TLWsND','232867bUDwKr','defineProperty','32874eqTkCF','namespace','Body','fetchAttachments','arraybuffer','1255buoset','/services/data/','8301363FESvKd','constructor','get','/services/apexrest','records','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','20tjjHDe','2470utvnKH','/sobjects/Attachment/','(((.+)+)+)+$','join','\x27,\x27','fetchAttachmentsDetailsById','12YTzKLo','fetchAttachmentBody','base64','44946IuTPOh','/query/','apply','6651000kGkdmA','\x20IN\x20(','./index','push','toString','post','/body','../../../constants'];a319_0x478e=function(){return _0x19e30d;};return a319_0x478e();}const index_1=require(a319_0x2396d6(0x189)),constants_1=require(a319_0x2396d6(0x18e)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a319_0x2396d6(0x19a)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x2e7e28,_0x2816ea){const _0x1ecdd2=a319_0x2396d6;let _0x449518=0x0,_0x5f5ba6=0x0,_0x267645=[];const _0x2b0740=[];for(const _0x28426a of _0x2e7e28){if(_0x28426a[_0x1ecdd2(0x194)]>REST_ATTACHMENT_MAX_SIZE){const _0x31cd2c=await fetchAttachmentBody(_0x2816ea,_0x28426a['Id']);_0x2b0740[_0x1ecdd2(0x18a)]({'id':_0x28426a['Id'],'values':{'Body':_0x31cd2c['toString'](_0x1ecdd2(0x183))}});continue;}if(_0x28426a[_0x1ecdd2(0x194)]+_0x449518>REST_ATTACHMENT_MAX_SIZE||_0x5f5ba6+0x1>=REST_ATTACHMENT_COUNT){const _0x59c03c=await fetchAttachments(_0x2816ea,BINARY_FIELDS,_0x267645);_0x2b0740[_0x1ecdd2(0x18a)](..._0x59c03c),_0x267645=[],_0x449518=0x0,_0x5f5ba6=0x0;}_0x267645[_0x1ecdd2(0x18a)](_0x28426a['Id']),_0x449518+=_0x28426a[_0x1ecdd2(0x194)],_0x5f5ba6++;}if(_0x267645['length']){const _0x13849c=await fetchAttachments(_0x2816ea,BINARY_FIELDS,_0x267645);_0x2b0740['push'](..._0x13849c);}return _0x2b0740;}exports[a319_0x2396d6(0x193)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x5523bf,_0x456fe5){return fetchAttachmentsDetails(_0x5523bf,FIELD_ID,_0x456fe5);}exports[a319_0x2396d6(0x180)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x298d72,_0x5758cb){return fetchAttachmentsDetails(_0x298d72,FIELD_PARENT_ID,_0x5758cb);}exports['fetchAttachmentsDetailsByParentId']=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x38cc9a,_0x3b2f69,_0x2e9c0f){const _0x1bc5a2=a319_0x2396d6,_0x4de673=[],_0x498c84=(0x0,index_1['chunkArray'])(_0x2e9c0f,CHUNK_QUERY_SIZE);for(const _0x47db51 of _0x498c84){const _0x5b6f23=_0x1bc5a2(0x1a4)+_0x3b2f69+_0x1bc5a2(0x188)+('\x27'+_0x47db51[_0x1bc5a2(0x17e)](_0x1bc5a2(0x17f))+'\x27')+')',{data:_0x9ca6ec}=await _0x38cc9a[_0x1bc5a2(0x1a1)]('/services/data/'+constants_1[_0x1bc5a2(0x18f)]+_0x1bc5a2(0x185),{'params':{'q':_0x5b6f23}});_0x4de673['push'](..._0x9ca6ec[_0x1bc5a2(0x1a3)]);}return _0x4de673;}async function fetchAttachmentBody(_0x41011a,_0x44b5d8){const _0x153932=a319_0x2396d6,{data:_0x1e82ea}=await _0x41011a[_0x153932(0x1a1)](_0x153932(0x19e)+constants_1[_0x153932(0x18f)]+_0x153932(0x1a7)+_0x44b5d8+_0x153932(0x18d),{'responseType':_0x153932(0x19c)});return _0x1e82ea;}exports[a319_0x2396d6(0x182)]=fetchAttachmentBody;async function fetchAttachments(_0x39032b,_0x7946b7,_0x40ef74){const _0x7469c9=a319_0x2396d6,{data:_0x2a9f17}=await _0x39032b[_0x7469c9(0x18c)](_0x7469c9(0x1a2)+salesforce_request_1[_0x7469c9(0x199)]+'/retrieveAttachments/',{'objectName':_0x7469c9(0x192),'binaryFields':_0x7946b7,'recordIds':_0x40ef74});return _0x2a9f17;}function a319_0xc72f(_0x4c0110,_0x19a931){const _0x5557c4=a319_0x478e();return a319_0xc72f=function(_0x2e5ba4,_0x222d71){_0x2e5ba4=_0x2e5ba4-0x17d;let _0x478e10=_0x5557c4[_0x2e5ba4];return _0x478e10;},a319_0xc72f(_0x4c0110,_0x19a931);}exports[a319_0x2396d6(0x19b)]=fetchAttachments;