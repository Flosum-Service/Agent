function a280_0x5f1b(_0x12bbfe,_0x34777c){const _0x5dc9e9=a280_0x304f();return a280_0x5f1b=function(_0x3f17d6,_0xbb39c5){_0x3f17d6=_0x3f17d6-0x177;let _0x304f18=_0x5dc9e9[_0x3f17d6];return _0x304f18;},a280_0x5f1b(_0x12bbfe,_0x34777c);}const a280_0x38d1e9=a280_0x5f1b;(function(_0x219215,_0xe4d583){const _0x1e39be=a280_0x5f1b,_0x3d8364=_0x219215();while(!![]){try{const _0x45754b=-parseInt(_0x1e39be(0x17a))/0x1+parseInt(_0x1e39be(0x17e))/0x2+parseInt(_0x1e39be(0x19b))/0x3*(-parseInt(_0x1e39be(0x18b))/0x4)+parseInt(_0x1e39be(0x186))/0x5+-parseInt(_0x1e39be(0x193))/0x6*(parseInt(_0x1e39be(0x17b))/0x7)+-parseInt(_0x1e39be(0x188))/0x8*(-parseInt(_0x1e39be(0x181))/0x9)+parseInt(_0x1e39be(0x196))/0xa;if(_0x45754b===_0xe4d583)break;else _0x3d8364['push'](_0x3d8364['shift']());}catch(_0x2b2767){_0x3d8364['push'](_0x3d8364['shift']());}}}(a280_0x304f,0x52b57));function a280_0x304f(){const _0x5be388=['ParentId','Body','992395alDUlT','get','1864Tezkdd','records','retrieveAttachments','1400348BKendk','chunkArray','../../../constants','BodyLength','/query/','arraybuffer','/body','fetchAttachmentsDetailsByParentId','14460TbyRms','__esModule','join','7861080cEYqoU','push','\x20IN\x20(','length','base64','3DQHFXN','constructor','SALESFORCE_API_VERSION','/sobjects/Attachment/','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','search','/retrieveAttachments/','658871dCoSBC','1463WMlfyd','defineProperty','toString','1125542QHEdDp','fetchAttachments','fetchAttachmentBody','11745VobrPM','/services/apexrest','(((.+)+)+)+$'];a280_0x304f=function(){return _0x5be388;};return a280_0x304f();}const a280_0xbb39c5=(function(){let _0x4a51af=!![];return function(_0x24c750,_0x404a54){const _0x350166=_0x4a51af?function(){if(_0x404a54){const _0x4f7269=_0x404a54['apply'](_0x24c750,arguments);return _0x404a54=null,_0x4f7269;}}:function(){};return _0x4a51af=![],_0x350166;};}()),a280_0x3f17d6=a280_0xbb39c5(this,function(){const _0x4e38d9=a280_0x5f1b;return a280_0x3f17d6[_0x4e38d9(0x17d)]()[_0x4e38d9(0x178)]('(((.+)+)+)+$')[_0x4e38d9(0x17d)]()[_0x4e38d9(0x19c)](a280_0x3f17d6)[_0x4e38d9(0x178)](_0x4e38d9(0x183));});a280_0x3f17d6();'use strict';Object[a280_0x38d1e9(0x17c)](exports,a280_0x38d1e9(0x194),{'value':!![]}),exports[a280_0x38d1e9(0x17f)]=exports[a280_0x38d1e9(0x180)]=exports[a280_0x38d1e9(0x192)]=exports['fetchAttachmentsDetailsById']=exports[a280_0x38d1e9(0x18a)]=void 0x0;const index_1=require('./index'),constants_1=require(a280_0x38d1e9(0x18d)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a280_0x38d1e9(0x185)],FIELD_PARENT_ID=a280_0x38d1e9(0x184),FIELD_ID='Id';async function retrieveAttachments(_0xb56612,_0x369399){const _0xfcbb18=a280_0x38d1e9;let _0x1ea8cb=0x0,_0x334576=0x0,_0x3b8eee=[];const _0x93e978=[];for(const _0xf8147a of _0xb56612){if(_0xf8147a[_0xfcbb18(0x18e)]>REST_ATTACHMENT_MAX_SIZE){const _0x4bd795=await fetchAttachmentBody(_0x369399,_0xf8147a['Id']);_0x93e978['push']({'id':_0xf8147a['Id'],'values':{'Body':_0x4bd795[_0xfcbb18(0x17d)](_0xfcbb18(0x19a))}});continue;}if(_0xf8147a[_0xfcbb18(0x18e)]+_0x1ea8cb>REST_ATTACHMENT_MAX_SIZE||_0x334576+0x1>=REST_ATTACHMENT_COUNT){const _0x34924b=await fetchAttachments(_0x369399,BINARY_FIELDS,_0x3b8eee);_0x93e978['push'](..._0x34924b),_0x3b8eee=[],_0x1ea8cb=0x0,_0x334576=0x0;}_0x3b8eee['push'](_0xf8147a['Id']),_0x1ea8cb+=_0xf8147a['BodyLength'],_0x334576++;}if(_0x3b8eee[_0xfcbb18(0x199)]){const _0x9796df=await fetchAttachments(_0x369399,BINARY_FIELDS,_0x3b8eee);_0x93e978['push'](..._0x9796df);}return _0x93e978;}exports[a280_0x38d1e9(0x18a)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x3f80d3,_0xbf40fc){return fetchAttachmentsDetails(_0x3f80d3,FIELD_ID,_0xbf40fc);}exports['fetchAttachmentsDetailsById']=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x13d1d0,_0x2fba37){return fetchAttachmentsDetails(_0x13d1d0,FIELD_PARENT_ID,_0x2fba37);}exports[a280_0x38d1e9(0x192)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x4c897b,_0x35a2b7,_0x325c3e){const _0x40abf6=a280_0x38d1e9,_0x300cab=[],_0x1ede55=(0x0,index_1[_0x40abf6(0x18c)])(_0x325c3e,CHUNK_QUERY_SIZE);for(const _0x1b6ed7 of _0x1ede55){const _0x4384c3=_0x40abf6(0x177)+_0x35a2b7+_0x40abf6(0x198)+('\x27'+_0x1b6ed7[_0x40abf6(0x195)]('\x27,\x27')+'\x27')+')',{data:_0x1d3982}=await _0x4c897b[_0x40abf6(0x187)]('/services/data/'+constants_1[_0x40abf6(0x19d)]+_0x40abf6(0x18f),{'params':{'q':_0x4384c3}});_0x300cab[_0x40abf6(0x197)](..._0x1d3982[_0x40abf6(0x189)]);}return _0x300cab;}async function fetchAttachmentBody(_0x486a3a,_0x157a5c){const _0x1f8da3=a280_0x38d1e9,{data:_0x2943e2}=await _0x486a3a[_0x1f8da3(0x187)]('/services/data/'+constants_1[_0x1f8da3(0x19d)]+_0x1f8da3(0x19e)+_0x157a5c+_0x1f8da3(0x191),{'responseType':_0x1f8da3(0x190)});return _0x2943e2;}exports[a280_0x38d1e9(0x180)]=fetchAttachmentBody;async function fetchAttachments(_0x8faad9,_0x580674,_0x23c9c0){const _0x571383=a280_0x38d1e9,{data:_0x27278b}=await _0x8faad9['post'](_0x571383(0x182)+salesforce_request_1['namespace']+_0x571383(0x179),{'objectName':'Attachment','binaryFields':_0x580674,'recordIds':_0x23c9c0});return _0x27278b;}exports[a280_0x38d1e9(0x17f)]=fetchAttachments;