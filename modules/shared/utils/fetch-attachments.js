const a331_0x484c8a=a331_0x56c1;(function(_0x48aadc,_0x586faa){const _0x3706c1=a331_0x56c1,_0x3bb508=_0x48aadc();while(!![]){try{const _0x5c295e=parseInt(_0x3706c1(0x160))/0x1+-parseInt(_0x3706c1(0x157))/0x2*(-parseInt(_0x3706c1(0x164))/0x3)+parseInt(_0x3706c1(0x16e))/0x4*(parseInt(_0x3706c1(0x150))/0x5)+parseInt(_0x3706c1(0x153))/0x6+-parseInt(_0x3706c1(0x14e))/0x7*(-parseInt(_0x3706c1(0x14f))/0x8)+-parseInt(_0x3706c1(0x168))/0x9+-parseInt(_0x3706c1(0x171))/0xa;if(_0x5c295e===_0x586faa)break;else _0x3bb508['push'](_0x3bb508['shift']());}catch(_0xe758e7){_0x3bb508['push'](_0x3bb508['shift']());}}}(a331_0x579a,0x73fd1));const a331_0x5d8d15=(function(){let _0x29df8a=!![];return function(_0x43fb82,_0x7633da){const _0x2f8ec7=_0x29df8a?function(){if(_0x7633da){const _0x2f7b25=_0x7633da['apply'](_0x43fb82,arguments);return _0x7633da=null,_0x2f7b25;}}:function(){};return _0x29df8a=![],_0x2f8ec7;};}()),a331_0x36331c=a331_0x5d8d15(this,function(){const _0x19a367=a331_0x56c1;return a331_0x36331c[_0x19a367(0x14c)]()['search'](_0x19a367(0x15b))[_0x19a367(0x14c)]()[_0x19a367(0x16a)](a331_0x36331c)[_0x19a367(0x156)]('(((.+)+)+)+$');});a331_0x36331c();'use strict';Object['defineProperty'](exports,a331_0x484c8a(0x158),{'value':!![]}),exports[a331_0x484c8a(0x16f)]=exports[a331_0x484c8a(0x15e)]=exports[a331_0x484c8a(0x159)]=exports['fetchAttachmentsDetailsById']=exports['retrieveAttachments']=void 0x0;const index_1=require(a331_0x484c8a(0x172)),constants_1=require(a331_0x484c8a(0x152)),salesforce_request_1=require(a331_0x484c8a(0x16b)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a331_0x484c8a(0x155)],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x46974e,_0x12a2ea){const _0x16429a=a331_0x484c8a;let _0x301a99=0x0,_0x349beb=0x0,_0x5524ff=[];const _0x5b89d7=[];for(const _0x54ca5f of _0x46974e){if(_0x54ca5f['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x26b57e=await fetchAttachmentBody(_0x12a2ea,_0x54ca5f['Id']);_0x5b89d7[_0x16429a(0x15a)]({'id':_0x54ca5f['Id'],'values':{'Body':_0x26b57e[_0x16429a(0x14c)](_0x16429a(0x16d))}});continue;}if(_0x54ca5f[_0x16429a(0x170)]+_0x301a99>REST_ATTACHMENT_MAX_SIZE||_0x349beb+0x1>=REST_ATTACHMENT_COUNT){const _0x4bad6d=await fetchAttachments(_0x12a2ea,BINARY_FIELDS,_0x5524ff);_0x5b89d7[_0x16429a(0x15a)](..._0x4bad6d),_0x5524ff=[],_0x301a99=0x0,_0x349beb=0x0;}_0x5524ff[_0x16429a(0x15a)](_0x54ca5f['Id']),_0x301a99+=_0x54ca5f[_0x16429a(0x170)],_0x349beb++;}if(_0x5524ff['length']){const _0x70112=await fetchAttachments(_0x12a2ea,BINARY_FIELDS,_0x5524ff);_0x5b89d7[_0x16429a(0x15a)](..._0x70112);}return _0x5b89d7;}exports[a331_0x484c8a(0x151)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x2522bf,_0x51df36){return fetchAttachmentsDetails(_0x2522bf,FIELD_ID,_0x51df36);}function a331_0x56c1(_0x53b264,_0x4865b4){const _0x1848ad=a331_0x579a();return a331_0x56c1=function(_0x36331c,_0x5d8d15){_0x36331c=_0x36331c-0x14b;let _0x579aeb=_0x1848ad[_0x36331c];return _0x579aeb;},a331_0x56c1(_0x53b264,_0x4865b4);}exports[a331_0x484c8a(0x161)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x3c9d7d,_0x3fa2de){return fetchAttachmentsDetails(_0x3c9d7d,FIELD_PARENT_ID,_0x3fa2de);}exports[a331_0x484c8a(0x159)]=fetchAttachmentsDetailsByParentId;function a331_0x579a(){const _0x49f005=['5JZUXNY','retrieveAttachments','../../../constants','2805762sHsbNE','SALESFORCE_API_VERSION','Body','search','2YhGxev','__esModule','fetchAttachmentsDetailsByParentId','push','(((.+)+)+)+$','\x20IN\x20(','arraybuffer','fetchAttachmentBody','namespace','670462XvrjYM','fetchAttachmentsDetailsById','post','/retrieveAttachments/','1513737spXZiz','/body','get','/services/apexrest','8212392GBMWAi','Attachment','constructor','../../functions/utils/salesforce-request','join','base64','1385236QxNpDI','fetchAttachments','BodyLength','10713240dfCjbR','./index','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','toString','/services/data/','253036RkTKwK','104fUcIjN'];a331_0x579a=function(){return _0x49f005;};return a331_0x579a();}async function fetchAttachmentsDetails(_0x287d11,_0xac632,_0x40c609){const _0x2313d6=a331_0x484c8a,_0x1c7c46=[],_0xba0b77=(0x0,index_1['chunkArray'])(_0x40c609,CHUNK_QUERY_SIZE);for(const _0x2f5b6a of _0xba0b77){const _0x1a6069=_0x2313d6(0x14b)+_0xac632+_0x2313d6(0x15c)+('\x27'+_0x2f5b6a[_0x2313d6(0x16c)]('\x27,\x27')+'\x27')+')',{data:_0x51d875}=await _0x287d11[_0x2313d6(0x166)](_0x2313d6(0x14d)+constants_1[_0x2313d6(0x154)]+'/query/',{'params':{'q':_0x1a6069}});_0x1c7c46[_0x2313d6(0x15a)](..._0x51d875['records']);}return _0x1c7c46;}async function fetchAttachmentBody(_0x4fc64e,_0x3b31d3){const _0x3c80e2=a331_0x484c8a,{data:_0x15c7d2}=await _0x4fc64e['get'](_0x3c80e2(0x14d)+constants_1[_0x3c80e2(0x154)]+'/sobjects/Attachment/'+_0x3b31d3+_0x3c80e2(0x165),{'responseType':_0x3c80e2(0x15d)});return _0x15c7d2;}exports[a331_0x484c8a(0x15e)]=fetchAttachmentBody;async function fetchAttachments(_0xf2dca8,_0x34b9df,_0x53162d){const _0x320f26=a331_0x484c8a,{data:_0x55aed0}=await _0xf2dca8[_0x320f26(0x162)](_0x320f26(0x167)+salesforce_request_1[_0x320f26(0x15f)]+_0x320f26(0x163),{'objectName':_0x320f26(0x169),'binaryFields':_0x34b9df,'recordIds':_0x53162d});return _0x55aed0;}exports[a331_0x484c8a(0x16f)]=fetchAttachments;