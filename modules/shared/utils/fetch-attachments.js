const a319_0x1ba82f=a319_0x23e0;(function(_0x177de2,_0x13f384){const _0x44290e=a319_0x23e0,_0x1759bc=_0x177de2();while(!![]){try{const _0x3ccee0=-parseInt(_0x44290e(0xbc))/0x1+parseInt(_0x44290e(0xca))/0x2+parseInt(_0x44290e(0xb9))/0x3*(parseInt(_0x44290e(0xb4))/0x4)+parseInt(_0x44290e(0xa7))/0x5+-parseInt(_0x44290e(0xac))/0x6*(parseInt(_0x44290e(0xa4))/0x7)+parseInt(_0x44290e(0xa0))/0x8*(parseInt(_0x44290e(0xae))/0x9)+-parseInt(_0x44290e(0xc8))/0xa*(parseInt(_0x44290e(0xad))/0xb);if(_0x3ccee0===_0x13f384)break;else _0x1759bc['push'](_0x1759bc['shift']());}catch(_0x26f4ff){_0x1759bc['push'](_0x1759bc['shift']());}}}(a319_0x5b5f,0xa5da6));const a319_0xa81904=(function(){let _0x57e126=!![];return function(_0x5ec90f,_0x2a6cc9){const _0x469a7c=_0x57e126?function(){const _0x5b68b8=a319_0x23e0;if(_0x2a6cc9){const _0x1c678b=_0x2a6cc9[_0x5b68b8(0xc7)](_0x5ec90f,arguments);return _0x2a6cc9=null,_0x1c678b;}}:function(){};return _0x57e126=![],_0x469a7c;};}()),a319_0x1c3289=a319_0xa81904(this,function(){const _0x33537d=a319_0x23e0;return a319_0x1c3289[_0x33537d(0xc1)]()[_0x33537d(0xc0)](_0x33537d(0xb5))['toString']()[_0x33537d(0xa8)](a319_0x1c3289)['search'](_0x33537d(0xb5));});a319_0x1c3289();'use strict';Object['defineProperty'](exports,a319_0x1ba82f(0xcb),{'value':!![]}),exports[a319_0x1ba82f(0xa5)]=exports[a319_0x1ba82f(0xbf)]=exports[a319_0x1ba82f(0xb3)]=exports[a319_0x1ba82f(0xb8)]=exports[a319_0x1ba82f(0xc4)]=void 0x0;const index_1=require(a319_0x1ba82f(0xba)),constants_1=require('../../../constants'),salesforce_request_1=require(a319_0x1ba82f(0xa1)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a319_0x1ba82f(0xa2)],FIELD_PARENT_ID=a319_0x1ba82f(0xb6),FIELD_ID='Id';async function retrieveAttachments(_0x2689be,_0x23f4e9){const _0x2d6156=a319_0x1ba82f;let _0x115400=0x0,_0x562f4c=0x0,_0x26591a=[];const _0x44eb35=[];for(const _0x16d93d of _0x2689be){if(_0x16d93d[_0x2d6156(0xa9)]>REST_ATTACHMENT_MAX_SIZE){const _0x4e6be6=await fetchAttachmentBody(_0x23f4e9,_0x16d93d['Id']);_0x44eb35['push']({'id':_0x16d93d['Id'],'values':{'Body':_0x4e6be6[_0x2d6156(0xc1)]('base64')}});continue;}if(_0x16d93d['BodyLength']+_0x115400>REST_ATTACHMENT_MAX_SIZE||_0x562f4c+0x1>=REST_ATTACHMENT_COUNT){const _0x53f3c6=await fetchAttachments(_0x23f4e9,BINARY_FIELDS,_0x26591a);_0x44eb35[_0x2d6156(0xa3)](..._0x53f3c6),_0x26591a=[],_0x115400=0x0,_0x562f4c=0x0;}_0x26591a['push'](_0x16d93d['Id']),_0x115400+=_0x16d93d[_0x2d6156(0xa9)],_0x562f4c++;}if(_0x26591a[_0x2d6156(0xaa)]){const _0x1d6c0c=await fetchAttachments(_0x23f4e9,BINARY_FIELDS,_0x26591a);_0x44eb35[_0x2d6156(0xa3)](..._0x1d6c0c);}return _0x44eb35;}function a319_0x5b5f(){const _0x4a18c1=['50VctcSJ','/query/','946994cvvzim','__esModule','join','post','11072WcpzjZ','../../functions/utils/salesforce-request','Body','push','7vgiYcN','fetchAttachments','/body','4747335JYQiJO','constructor','BodyLength','length','/services/data/','4081830IuKAUT','3179484CbMhzr','8793uyqHbX','Attachment','\x27,\x27','chunkArray','\x20IN\x20(','fetchAttachmentsDetailsByParentId','717640FRGFlS','(((.+)+)+)+$','ParentId','SALESFORCE_API_VERSION','fetchAttachmentsDetailsById','18LxVXaU','./index','get','1046733zfqgvN','records','/retrieveAttachments/','fetchAttachmentBody','search','toString','namespace','/services/apexrest','retrieveAttachments','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','/sobjects/Attachment/','apply'];a319_0x5b5f=function(){return _0x4a18c1;};return a319_0x5b5f();}exports['retrieveAttachments']=retrieveAttachments;function fetchAttachmentsDetailsById(_0x26972b,_0x4df9a4){return fetchAttachmentsDetails(_0x26972b,FIELD_ID,_0x4df9a4);}exports[a319_0x1ba82f(0xb8)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x1836fb,_0x115b8e){return fetchAttachmentsDetails(_0x1836fb,FIELD_PARENT_ID,_0x115b8e);}exports[a319_0x1ba82f(0xb3)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x5e86f9,_0xca8e69,_0x56f8e9){const _0x13a429=a319_0x1ba82f,_0x1d813e=[],_0x5b32d0=(0x0,index_1[_0x13a429(0xb1)])(_0x56f8e9,CHUNK_QUERY_SIZE);for(const _0xc761a3 of _0x5b32d0){const _0x587858=_0x13a429(0xc5)+_0xca8e69+_0x13a429(0xb2)+('\x27'+_0xc761a3[_0x13a429(0xcc)](_0x13a429(0xb0))+'\x27')+')',{data:_0x5aeffb}=await _0x5e86f9[_0x13a429(0xbb)](_0x13a429(0xab)+constants_1[_0x13a429(0xb7)]+_0x13a429(0xc9),{'params':{'q':_0x587858}});_0x1d813e[_0x13a429(0xa3)](..._0x5aeffb[_0x13a429(0xbd)]);}return _0x1d813e;}async function fetchAttachmentBody(_0x5cd6eb,_0x152ab5){const _0x55c3c8=a319_0x1ba82f,{data:_0x259bf4}=await _0x5cd6eb[_0x55c3c8(0xbb)](_0x55c3c8(0xab)+constants_1['SALESFORCE_API_VERSION']+_0x55c3c8(0xc6)+_0x152ab5+_0x55c3c8(0xa6),{'responseType':'arraybuffer'});return _0x259bf4;}exports[a319_0x1ba82f(0xbf)]=fetchAttachmentBody;async function fetchAttachments(_0x5c8817,_0xad9e69,_0x586c7c){const _0x2b1403=a319_0x1ba82f,{data:_0x595a6b}=await _0x5c8817[_0x2b1403(0xcd)](_0x2b1403(0xc3)+salesforce_request_1[_0x2b1403(0xc2)]+_0x2b1403(0xbe),{'objectName':_0x2b1403(0xaf),'binaryFields':_0xad9e69,'recordIds':_0x586c7c});return _0x595a6b;}function a319_0x23e0(_0x557241,_0x598c99){const _0x365346=a319_0x5b5f();return a319_0x23e0=function(_0x1c3289,_0xa81904){_0x1c3289=_0x1c3289-0xa0;let _0x5b5fd2=_0x365346[_0x1c3289];return _0x5b5fd2;},a319_0x23e0(_0x557241,_0x598c99);}exports[a319_0x1ba82f(0xa5)]=fetchAttachments;