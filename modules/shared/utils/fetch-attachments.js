const a287_0x862f9d=a287_0x56a6;(function(_0x348ae2,_0x4f8f5f){const _0x1b6442=a287_0x56a6,_0xdc7254=_0x348ae2();while(!![]){try{const _0x4ada04=-parseInt(_0x1b6442(0x100))/0x1*(-parseInt(_0x1b6442(0x11f))/0x2)+-parseInt(_0x1b6442(0x10b))/0x3+-parseInt(_0x1b6442(0x119))/0x4*(-parseInt(_0x1b6442(0x120))/0x5)+parseInt(_0x1b6442(0x125))/0x6+-parseInt(_0x1b6442(0x127))/0x7*(parseInt(_0x1b6442(0x128))/0x8)+-parseInt(_0x1b6442(0x107))/0x9+parseInt(_0x1b6442(0x10c))/0xa*(parseInt(_0x1b6442(0x108))/0xb);if(_0x4ada04===_0x4f8f5f)break;else _0xdc7254['push'](_0xdc7254['shift']());}catch(_0x54ca2e){_0xdc7254['push'](_0xdc7254['shift']());}}}(a287_0x15a1,0xc75f8));const a287_0x4aafc1=(function(){let _0x52cdcb=!![];return function(_0x4f5955,_0x2a146e){const _0x50be03=_0x52cdcb?function(){if(_0x2a146e){const _0x2819bd=_0x2a146e['apply'](_0x4f5955,arguments);return _0x2a146e=null,_0x2819bd;}}:function(){};return _0x52cdcb=![],_0x50be03;};}()),a287_0x2d3923=a287_0x4aafc1(this,function(){const _0x1afa36=a287_0x56a6;return a287_0x2d3923['toString']()[_0x1afa36(0x10a)](_0x1afa36(0x10e))[_0x1afa36(0x121)]()['constructor'](a287_0x2d3923)[_0x1afa36(0x10a)]('(((.+)+)+)+$');});a287_0x2d3923();'use strict';function a287_0x15a1(){const _0x75b2c1=['fetchAttachmentBody','SALESFORCE_API_VERSION','8863584EqrvFM','/retrieveAttachments/','147511NKvqjc','304llRvRD','254813piAuDY','defineProperty','/sobjects/Attachment/','/services/data/','./index','/body','base64','9349857VMBkuf','1117633kRjAyn','fetchAttachments','search','3159624KtmOba','60KvDtzJ','../../functions/utils/salesforce-request','(((.+)+)+)+$','fetchAttachmentsDetailsByParentId','/services/apexrest','push','arraybuffer','retrieveAttachments','fetchAttachmentsDetailsById','../../../constants','__esModule','\x27,\x27','namespace','69708ESJyFI','\x20IN\x20(','get','join','BodyLength','records','10thYAMU','100xoyUwj','toString','chunkArray'];a287_0x15a1=function(){return _0x75b2c1;};return a287_0x15a1();}Object[a287_0x862f9d(0x101)](exports,a287_0x862f9d(0x116),{'value':!![]}),exports[a287_0x862f9d(0x109)]=exports['fetchAttachmentBody']=exports[a287_0x862f9d(0x10f)]=exports[a287_0x862f9d(0x114)]=exports['retrieveAttachments']=void 0x0;const index_1=require(a287_0x862f9d(0x104)),constants_1=require(a287_0x862f9d(0x115)),salesforce_request_1=require(a287_0x862f9d(0x10d)),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID='ParentId',FIELD_ID='Id';async function retrieveAttachments(_0x54ded4,_0x76474f){const _0x5cf6a2=a287_0x862f9d;let _0x2125de=0x0,_0x1df056=0x0,_0x395664=[];const _0x3a1bcf=[];for(const _0x1bdfef of _0x54ded4){if(_0x1bdfef['BodyLength']>REST_ATTACHMENT_MAX_SIZE){const _0x524ddc=await fetchAttachmentBody(_0x76474f,_0x1bdfef['Id']);_0x3a1bcf[_0x5cf6a2(0x111)]({'id':_0x1bdfef['Id'],'values':{'Body':_0x524ddc['toString'](_0x5cf6a2(0x106))}});continue;}if(_0x1bdfef[_0x5cf6a2(0x11d)]+_0x2125de>REST_ATTACHMENT_MAX_SIZE||_0x1df056+0x1>=REST_ATTACHMENT_COUNT){const _0x3c67c2=await fetchAttachments(_0x76474f,BINARY_FIELDS,_0x395664);_0x3a1bcf[_0x5cf6a2(0x111)](..._0x3c67c2),_0x395664=[],_0x2125de=0x0,_0x1df056=0x0;}_0x395664[_0x5cf6a2(0x111)](_0x1bdfef['Id']),_0x2125de+=_0x1bdfef[_0x5cf6a2(0x11d)],_0x1df056++;}if(_0x395664['length']){const _0x5cee29=await fetchAttachments(_0x76474f,BINARY_FIELDS,_0x395664);_0x3a1bcf[_0x5cf6a2(0x111)](..._0x5cee29);}return _0x3a1bcf;}function a287_0x56a6(_0x24af46,_0x9b2e37){const _0x5827ec=a287_0x15a1();return a287_0x56a6=function(_0x2d3923,_0x4aafc1){_0x2d3923=_0x2d3923-0x100;let _0x15a14c=_0x5827ec[_0x2d3923];return _0x15a14c;},a287_0x56a6(_0x24af46,_0x9b2e37);}exports[a287_0x862f9d(0x113)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0xb54956,_0x5f2b3b){return fetchAttachmentsDetails(_0xb54956,FIELD_ID,_0x5f2b3b);}exports[a287_0x862f9d(0x114)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x550908,_0x4c05f1){return fetchAttachmentsDetails(_0x550908,FIELD_PARENT_ID,_0x4c05f1);}exports[a287_0x862f9d(0x10f)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x524a37,_0x470a88,_0x6f80b3){const _0x349e53=a287_0x862f9d,_0x51e089=[],_0x21bf23=(0x0,index_1[_0x349e53(0x122)])(_0x6f80b3,CHUNK_QUERY_SIZE);for(const _0x472613 of _0x21bf23){const _0x89c186='\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20'+_0x470a88+_0x349e53(0x11a)+('\x27'+_0x472613[_0x349e53(0x11c)](_0x349e53(0x117))+'\x27')+')',{data:_0x4db86}=await _0x524a37[_0x349e53(0x11b)](_0x349e53(0x103)+constants_1[_0x349e53(0x124)]+'/query/',{'params':{'q':_0x89c186}});_0x51e089[_0x349e53(0x111)](..._0x4db86[_0x349e53(0x11e)]);}return _0x51e089;}async function fetchAttachmentBody(_0x3e6c79,_0x10d988){const _0x4336b4=a287_0x862f9d,{data:_0x2e1cfa}=await _0x3e6c79[_0x4336b4(0x11b)](_0x4336b4(0x103)+constants_1[_0x4336b4(0x124)]+_0x4336b4(0x102)+_0x10d988+_0x4336b4(0x105),{'responseType':_0x4336b4(0x112)});return _0x2e1cfa;}exports[a287_0x862f9d(0x123)]=fetchAttachmentBody;async function fetchAttachments(_0x805fde,_0x205118,_0xacce17){const _0xcd3528=a287_0x862f9d,{data:_0x974e26}=await _0x805fde['post'](_0xcd3528(0x110)+salesforce_request_1[_0xcd3528(0x118)]+_0xcd3528(0x126),{'objectName':'Attachment','binaryFields':_0x205118,'recordIds':_0xacce17});return _0x974e26;}exports[a287_0x862f9d(0x109)]=fetchAttachments;