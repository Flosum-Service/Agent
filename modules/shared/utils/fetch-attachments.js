const a330_0x100850=a330_0x3c6b;(function(_0xe2b318,_0x460bb4){const _0x536385=a330_0x3c6b,_0x1cbf43=_0xe2b318();while(!![]){try{const _0x28cec3=parseInt(_0x536385(0x199))/0x1*(parseInt(_0x536385(0x18d))/0x2)+parseInt(_0x536385(0x1a2))/0x3*(parseInt(_0x536385(0x190))/0x4)+-parseInt(_0x536385(0x1a9))/0x5+-parseInt(_0x536385(0x195))/0x6+parseInt(_0x536385(0x1b2))/0x7*(-parseInt(_0x536385(0x192))/0x8)+-parseInt(_0x536385(0x19b))/0x9+-parseInt(_0x536385(0x1a4))/0xa*(-parseInt(_0x536385(0x1a8))/0xb);if(_0x28cec3===_0x460bb4)break;else _0x1cbf43['push'](_0x1cbf43['shift']());}catch(_0x2f70f5){_0x1cbf43['push'](_0x1cbf43['shift']());}}}(a330_0x5d86,0x23154));const a330_0x3aa22a=(function(){let _0x24e0cb=!![];return function(_0x4edd4e,_0x4d9a4e){const _0x5b479c=_0x24e0cb?function(){const _0xd33b6=a330_0x3c6b;if(_0x4d9a4e){const _0x3159f7=_0x4d9a4e[_0xd33b6(0x19e)](_0x4edd4e,arguments);return _0x4d9a4e=null,_0x3159f7;}}:function(){};return _0x24e0cb=![],_0x5b479c;};}()),a330_0x505d47=a330_0x3aa22a(this,function(){const _0x5f329e=a330_0x3c6b;return a330_0x505d47[_0x5f329e(0x1a7)]()[_0x5f329e(0x191)](_0x5f329e(0x1ab))['toString']()['constructor'](a330_0x505d47)[_0x5f329e(0x191)]('(((.+)+)+)+$');});a330_0x505d47();'use strict';Object['defineProperty'](exports,a330_0x100850(0x18b),{'value':!![]}),exports[a330_0x100850(0x1a6)]=exports[a330_0x100850(0x18f)]=exports[a330_0x100850(0x1af)]=exports['fetchAttachmentsDetailsById']=exports[a330_0x100850(0x19f)]=void 0x0;const index_1=require('./index'),constants_1=require(a330_0x100850(0x1b4)),salesforce_request_1=require('../../functions/utils/salesforce-request'),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=['Body'],FIELD_PARENT_ID=a330_0x100850(0x19a),FIELD_ID='Id';async function retrieveAttachments(_0x1db9b1,_0x4d456c){const _0x176b4d=a330_0x100850;let _0x1d26c1=0x0,_0x432da4=0x0,_0x262790=[];const _0x460c4e=[];for(const _0x183f5d of _0x1db9b1){if(_0x183f5d[_0x176b4d(0x1a0)]>REST_ATTACHMENT_MAX_SIZE){const _0x2e0c9a=await fetchAttachmentBody(_0x4d456c,_0x183f5d['Id']);_0x460c4e[_0x176b4d(0x194)]({'id':_0x183f5d['Id'],'values':{'Body':_0x2e0c9a[_0x176b4d(0x1a7)](_0x176b4d(0x18e))}});continue;}if(_0x183f5d[_0x176b4d(0x1a0)]+_0x1d26c1>REST_ATTACHMENT_MAX_SIZE||_0x432da4+0x1>=REST_ATTACHMENT_COUNT){const _0x4570aa=await fetchAttachments(_0x4d456c,BINARY_FIELDS,_0x262790);_0x460c4e[_0x176b4d(0x194)](..._0x4570aa),_0x262790=[],_0x1d26c1=0x0,_0x432da4=0x0;}_0x262790[_0x176b4d(0x194)](_0x183f5d['Id']),_0x1d26c1+=_0x183f5d[_0x176b4d(0x1a0)],_0x432da4++;}if(_0x262790[_0x176b4d(0x1a3)]){const _0x26a1ff=await fetchAttachments(_0x4d456c,BINARY_FIELDS,_0x262790);_0x460c4e[_0x176b4d(0x194)](..._0x26a1ff);}return _0x460c4e;}function a330_0x5d86(){const _0x525727=['/query/','../../../constants','__esModule','get','565402enqJee','base64','fetchAttachmentBody','4FcYazE','search','1624jiuxOa','join','push','349728TnnEoK','/sobjects/Attachment/','/body','namespace','1mUrAlp','ParentId','830376xxdMIx','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20','records','apply','retrieveAttachments','BodyLength','/services/data/','510186ycBlyi','length','40WvSGXf','Attachment','fetchAttachments','toString','740179iyQTaP','1195400uTiimg','/services/apexrest','(((.+)+)+)+$','\x27,\x27','chunkArray','arraybuffer','fetchAttachmentsDetailsByParentId','fetchAttachmentsDetailsById','SALESFORCE_API_VERSION','6503IALqLa'];a330_0x5d86=function(){return _0x525727;};return a330_0x5d86();}function a330_0x3c6b(_0x4f2048,_0x39a7eb){const _0x3d8837=a330_0x5d86();return a330_0x3c6b=function(_0x505d47,_0x3aa22a){_0x505d47=_0x505d47-0x18b;let _0x5d869d=_0x3d8837[_0x505d47];return _0x5d869d;},a330_0x3c6b(_0x4f2048,_0x39a7eb);}exports[a330_0x100850(0x19f)]=retrieveAttachments;function fetchAttachmentsDetailsById(_0x538086,_0x5a9b39){return fetchAttachmentsDetails(_0x538086,FIELD_ID,_0x5a9b39);}exports[a330_0x100850(0x1b0)]=fetchAttachmentsDetailsById;function fetchAttachmentsDetailsByParentId(_0x588047,_0x102b4a){return fetchAttachmentsDetails(_0x588047,FIELD_PARENT_ID,_0x102b4a);}exports[a330_0x100850(0x1af)]=fetchAttachmentsDetailsByParentId;async function fetchAttachmentsDetails(_0x364f55,_0x229850,_0x3ec84f){const _0x4167f9=a330_0x100850,_0x95fecf=[],_0x37e6c8=(0x0,index_1[_0x4167f9(0x1ad)])(_0x3ec84f,CHUNK_QUERY_SIZE);for(const _0x221e51 of _0x37e6c8){const _0x482a49=_0x4167f9(0x19c)+_0x229850+'\x20IN\x20('+('\x27'+_0x221e51[_0x4167f9(0x193)](_0x4167f9(0x1ac))+'\x27')+')',{data:_0x51f55c}=await _0x364f55[_0x4167f9(0x18c)](_0x4167f9(0x1a1)+constants_1[_0x4167f9(0x1b1)]+_0x4167f9(0x1b3),{'params':{'q':_0x482a49}});_0x95fecf['push'](..._0x51f55c[_0x4167f9(0x19d)]);}return _0x95fecf;}async function fetchAttachmentBody(_0x48c24a,_0x300b05){const _0x5c117a=a330_0x100850,{data:_0x3d48e9}=await _0x48c24a[_0x5c117a(0x18c)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x5c117a(0x196)+_0x300b05+_0x5c117a(0x197),{'responseType':_0x5c117a(0x1ae)});return _0x3d48e9;}exports['fetchAttachmentBody']=fetchAttachmentBody;async function fetchAttachments(_0x347741,_0x391720,_0x2886b0){const _0x12ed8e=a330_0x100850,{data:_0xe37741}=await _0x347741['post'](_0x12ed8e(0x1aa)+salesforce_request_1[_0x12ed8e(0x198)]+'/retrieveAttachments/',{'objectName':_0x12ed8e(0x1a5),'binaryFields':_0x391720,'recordIds':_0x2886b0});return _0xe37741;}exports[a330_0x100850(0x1a6)]=fetchAttachments;