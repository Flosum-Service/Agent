const a335_0x1d28ee=a335_0x483a;function a335_0x530f(){const _0x16326a=['14MUftJE','shortid','4542LUhMBv','FsUtils','9973051RBYyOL','close','2864tQaciB','constructor','generateJobId','log','5vOiqZG','__esModule','map','../../../constants/job','../../../core','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','get','search','executeInterpreter','join','name','(((.+)+)+)+$','default','stat','defineProperty','apply','keys','52266IVybal','from','path','./spawn.utils','Logger','readdir','46990QOMhfH','1359SURWOn','5556216nGUvlq','11eCaELH','toString','once','JOB_LOG_STATE_FILENAME','birthtime','122964ISWupq','7201432zfdmZX','getJobsIds','isExistsPath','3146xMYDup'];a335_0x530f=function(){return _0x16326a;};return a335_0x530f();}(function(_0x47392e,_0x56a3f7){const _0x47e0e6=a335_0x483a,_0x574b45=_0x47392e();while(!![]){try{const _0x253b16=parseInt(_0x47e0e6(0x1e1))/0x1*(parseInt(_0x47e0e6(0x1d8))/0x2)+parseInt(_0x47e0e6(0x1ed))/0x3*(-parseInt(_0x47e0e6(0x1f1))/0x4)+-parseInt(_0x47e0e6(0x1f5))/0x5*(parseInt(_0x47e0e6(0x1e0))/0x6)+-parseInt(_0x47e0e6(0x1eb))/0x7*(-parseInt(_0x47e0e6(0x1e7))/0x8)+-parseInt(_0x47e0e6(0x1df))/0x9*(parseInt(_0x47e0e6(0x1de))/0xa)+-parseInt(_0x47e0e6(0x1ef))/0xb+parseInt(_0x47e0e6(0x1e6))/0xc*(parseInt(_0x47e0e6(0x1ea))/0xd);if(_0x253b16===_0x56a3f7)break;else _0x574b45['push'](_0x574b45['shift']());}catch(_0x55754d){_0x574b45['push'](_0x574b45['shift']());}}}(a335_0x530f,0xe5d21));function a335_0x483a(_0x8c535a,_0x5dc964){const _0x27940f=a335_0x530f();return a335_0x483a=function(_0x114970,_0x25d8ab){_0x114970=_0x114970-0x1d4;let _0x530f69=_0x27940f[_0x114970];return _0x530f69;},a335_0x483a(_0x8c535a,_0x5dc964);}const a335_0x25d8ab=(function(){let _0x1bfa46=!![];return function(_0x584639,_0x2f18d1){const _0x36ceb7=_0x1bfa46?function(){const _0x148e6e=a335_0x483a;if(_0x2f18d1){const _0x3ce779=_0x2f18d1[_0x148e6e(0x1d6)](_0x584639,arguments);return _0x2f18d1=null,_0x3ce779;}}:function(){};return _0x1bfa46=![],_0x36ceb7;};}()),a335_0x114970=a335_0x25d8ab(this,function(){const _0x193da3=a335_0x483a;return a335_0x114970[_0x193da3(0x1e2)]()[_0x193da3(0x1fc)]('(((.+)+)+)+$')[_0x193da3(0x1e2)]()[_0x193da3(0x1f2)](a335_0x114970)[_0x193da3(0x1fc)](_0x193da3(0x200));});a335_0x114970();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x285853){const _0x180539=a335_0x483a;return _0x285853&&_0x285853[_0x180539(0x1f6)]?_0x285853:{'default':_0x285853};};Object[a335_0x1d28ee(0x1d5)](exports,a335_0x1d28ee(0x1f6),{'value':!![]});const path_1=__importDefault(require(a335_0x1d28ee(0x1da))),spawn_utils_1=require(a335_0x1d28ee(0x1db)),core_1=require(a335_0x1d28ee(0x1f9)),shortid_1=__importDefault(require(a335_0x1d28ee(0x1ec))),utils_1=require('@flosum/utils'),promises_1=require('fs/promises'),job_1=require(a335_0x1d28ee(0x1f8));class JobUtils{static[a335_0x1d28ee(0x1f3)](){const _0x59214e=a335_0x1d28ee;return(0x0,shortid_1[_0x59214e(0x201)])();}static['runJob'](_0x2beecb,_0x4c0b59){return new Promise((_0x4f7d0e,_0x56d43c)=>{const _0x15fbd5=a335_0x483a,{jobStorePath:_0x42af70,jobId:_0x55e650}=_0x4c0b59,_0x3f5c18=(0x0,spawn_utils_1[_0x15fbd5(0x1fd)])(_0x2beecb,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x42af70,'jobId':_0x55e650})),_0x3d5b73=new core_1[(_0x15fbd5(0x1dc))](_0x55e650);_0x3f5c18[_0x15fbd5(0x1e3)](_0x15fbd5(0x1f0),_0xc053e7=>{const _0x5c94bd=_0x15fbd5,_0x420d57=_0x5c94bd(0x1fa)+_0xc053e7;_0x3d5b73[_0x5c94bd(0x1f4)](_0x420d57),_0xc053e7===0x0?_0x4f7d0e(_0x420d57):_0x56d43c(new Error(_0x420d57));});});}static async[a335_0x1d28ee(0x1e8)](_0x39c193){const _0x163f23=a335_0x1d28ee;if(!await utils_1['FsUtils'][_0x163f23(0x1e9)](_0x39c193))return[];const _0x402835=await(0x0,promises_1[_0x163f23(0x1dd)])(_0x39c193,{'withFileTypes':!![]}),_0x1420ea=_0x402835['filter'](_0x8500e0=>_0x8500e0['isDirectory']())[_0x163f23(0x1f7)](_0x446bbf=>_0x446bbf[_0x163f23(0x1ff)]),_0x362c5b=[];for(const _0x1b6e7d of _0x1420ea){const _0x29bc3a=path_1[_0x163f23(0x201)]['join'](_0x39c193,_0x1b6e7d,job_1[_0x163f23(0x1e4)]);await utils_1[_0x163f23(0x1ee)][_0x163f23(0x1e9)](_0x29bc3a)&&_0x362c5b['push'](_0x1b6e7d);}return _0x362c5b;}static async['sortJobsIds'](_0x4573db,_0x525982){const _0x5c67d1=a335_0x1d28ee,_0xfb87d0=new Map();for(const _0x50fc42 of _0x525982){const _0x50f29d=await(0x0,promises_1[_0x5c67d1(0x1d4)])(path_1['default'][_0x5c67d1(0x1fe)](_0x4573db,_0x50fc42));_0xfb87d0['set'](_0x50f29d,_0x50fc42);}return Array[_0x5c67d1(0x1d9)](_0xfb87d0[_0x5c67d1(0x1d7)]())['sort']((_0x5ce420,_0x3d044e)=>_0x3d044e['birthtime']-_0x5ce420[_0x5c67d1(0x1e5)])['map'](_0x5b7d8c=>_0xfb87d0[_0x5c67d1(0x1fb)](_0x5b7d8c));}}exports['default']=JobUtils;