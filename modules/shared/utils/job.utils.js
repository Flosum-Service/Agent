const a334_0x11b324=a334_0x3284;function a334_0x517a(){const _0x1016e7=['isExistsPath','stat','close','151929UpNWkx','name','toString','5pUYcrL','FsUtils','95866bOyUqc','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','readdir','set','default','objectToArgsList','filter','../../../constants/job','apply','314048sVPoBk','38460eSHspG','birthtime','(((.+)+)+)+$','isDirectory','getJobsIds','6zIGDqq','sortJobsIds','once','runJob','map','JOB_LOG_STATE_FILENAME','push','path','850368pbaitp','get','__esModule','shortid','447144wkKnMT','7evPMAv','from','generateJobId','../../../core','join','search','Logger','fs/promises','__importDefault','888762ZdlRDv'];a334_0x517a=function(){return _0x1016e7;};return a334_0x517a();}(function(_0x12dd25,_0x522f17){const _0x4f5053=a334_0x3284,_0x329626=_0x12dd25();while(!![]){try{const _0x1d8158=-parseInt(_0x4f5053(0x15c))/0x1*(-parseInt(_0x4f5053(0x16b))/0x2)+-parseInt(_0x4f5053(0x173))/0x3+parseInt(_0x4f5053(0x165))/0x4+parseInt(_0x4f5053(0x15a))/0x5*(parseInt(_0x4f5053(0x181))/0x6)+parseInt(_0x4f5053(0x178))/0x7*(-parseInt(_0x4f5053(0x177))/0x8)+-parseInt(_0x4f5053(0x185))/0x9+parseInt(_0x4f5053(0x166))/0xa;if(_0x1d8158===_0x522f17)break;else _0x329626['push'](_0x329626['shift']());}catch(_0x13e00b){_0x329626['push'](_0x329626['shift']());}}}(a334_0x517a,0x2783d));const a334_0x1186c7=(function(){let _0x589ab6=!![];return function(_0x517c62,_0x52a167){const _0x24c712=_0x589ab6?function(){const _0x5c6ca3=a334_0x3284;if(_0x52a167){const _0x53b490=_0x52a167[_0x5c6ca3(0x164)](_0x517c62,arguments);return _0x52a167=null,_0x53b490;}}:function(){};return _0x589ab6=![],_0x24c712;};}()),a334_0x6d3d14=a334_0x1186c7(this,function(){const _0x1e8188=a334_0x3284;return a334_0x6d3d14[_0x1e8188(0x159)]()[_0x1e8188(0x17d)](_0x1e8188(0x168))[_0x1e8188(0x159)]()['constructor'](a334_0x6d3d14)[_0x1e8188(0x17d)](_0x1e8188(0x168));});a334_0x6d3d14();'use strict';var __importDefault=this&&this[a334_0x11b324(0x180)]||function(_0x451080){const _0x56c237=a334_0x11b324;return _0x451080&&_0x451080[_0x56c237(0x175)]?_0x451080:{'default':_0x451080};};Object['defineProperty'](exports,a334_0x11b324(0x175),{'value':!![]});const path_1=__importDefault(require(a334_0x11b324(0x172))),spawn_utils_1=require('./spawn.utils'),core_1=require(a334_0x11b324(0x17b)),shortid_1=__importDefault(require(a334_0x11b324(0x176))),utils_1=require('@flosum/utils'),promises_1=require(a334_0x11b324(0x17f)),job_1=require(a334_0x11b324(0x163));function a334_0x3284(_0x2efee3,_0x10651b){const _0x1a0aac=a334_0x517a();return a334_0x3284=function(_0x6d3d14,_0x1186c7){_0x6d3d14=_0x6d3d14-0x159;let _0x517af9=_0x1a0aac[_0x6d3d14];return _0x517af9;},a334_0x3284(_0x2efee3,_0x10651b);}class JobUtils{static[a334_0x11b324(0x17a)](){return(0x0,shortid_1['default'])();}static[a334_0x11b324(0x16e)](_0x2e3199,_0x5b706b){return new Promise((_0x5a80e2,_0x57d813)=>{const _0x490c14=a334_0x3284,{jobStorePath:_0x500a08,jobId:_0x247928}=_0x5b706b,_0x5d6e04=(0x0,spawn_utils_1['executeInterpreter'])(_0x2e3199,...(0x0,spawn_utils_1[_0x490c14(0x161)])({'jobStorePath':_0x500a08,'jobId':_0x247928})),_0x22c2fe=new core_1[(_0x490c14(0x17e))](_0x247928);_0x5d6e04[_0x490c14(0x16d)](_0x490c14(0x184),_0x3efce8=>{const _0x4a1631=_0x490c14,_0x1320d4=_0x4a1631(0x15d)+_0x3efce8;_0x22c2fe['log'](_0x1320d4),_0x3efce8===0x0?_0x5a80e2(_0x1320d4):_0x57d813(new Error(_0x1320d4));});});}static async[a334_0x11b324(0x16a)](_0x4ba72e){const _0x4cd2c8=a334_0x11b324;if(!await utils_1[_0x4cd2c8(0x15b)][_0x4cd2c8(0x182)](_0x4ba72e))return[];const _0x24e9ed=await(0x0,promises_1[_0x4cd2c8(0x15e)])(_0x4ba72e,{'withFileTypes':!![]}),_0x1519da=_0x24e9ed[_0x4cd2c8(0x162)](_0xa46380=>_0xa46380[_0x4cd2c8(0x169)]())[_0x4cd2c8(0x16f)](_0x25cdac=>_0x25cdac[_0x4cd2c8(0x186)]),_0x52e8fd=[];for(const _0x25db3c of _0x1519da){const _0x1684da=path_1['default'][_0x4cd2c8(0x17c)](_0x4ba72e,_0x25db3c,job_1[_0x4cd2c8(0x170)]);await utils_1[_0x4cd2c8(0x15b)][_0x4cd2c8(0x182)](_0x1684da)&&_0x52e8fd[_0x4cd2c8(0x171)](_0x25db3c);}return _0x52e8fd;}static async[a334_0x11b324(0x16c)](_0x11cd2c,_0x19aa6e){const _0x1dabb7=a334_0x11b324,_0x29c84c=new Map();for(const _0x38a3bb of _0x19aa6e){const _0x36c100=await(0x0,promises_1[_0x1dabb7(0x183)])(path_1[_0x1dabb7(0x160)][_0x1dabb7(0x17c)](_0x11cd2c,_0x38a3bb));_0x29c84c[_0x1dabb7(0x15f)](_0x36c100,_0x38a3bb);}return Array[_0x1dabb7(0x179)](_0x29c84c['keys']())['sort']((_0x17fd63,_0x1b0724)=>_0x1b0724['birthtime']-_0x17fd63[_0x1dabb7(0x167)])[_0x1dabb7(0x16f)](_0x373416=>_0x29c84c[_0x1dabb7(0x174)](_0x373416));}}exports['default']=JobUtils;