function a283_0x5053(_0x5657cf,_0xb914de){const _0x21375f=a283_0x9863();return a283_0x5053=function(_0x7289d,_0x5f223d){_0x7289d=_0x7289d-0x1bf;let _0x98636d=_0x21375f[_0x7289d];return _0x98636d;},a283_0x5053(_0x5657cf,_0xb914de);}const a283_0x128544=a283_0x5053;(function(_0x4c07c5,_0x21d9ab){const _0x337325=a283_0x5053,_0x170a34=_0x4c07c5();while(!![]){try{const _0xe18f2b=-parseInt(_0x337325(0x1d1))/0x1+parseInt(_0x337325(0x1c3))/0x2*(-parseInt(_0x337325(0x1c7))/0x3)+-parseInt(_0x337325(0x1ca))/0x4+-parseInt(_0x337325(0x1d7))/0x5+parseInt(_0x337325(0x1c5))/0x6*(parseInt(_0x337325(0x1e7))/0x7)+-parseInt(_0x337325(0x1c1))/0x8+parseInt(_0x337325(0x1d3))/0x9;if(_0xe18f2b===_0x21d9ab)break;else _0x170a34['push'](_0x170a34['shift']());}catch(_0x267092){_0x170a34['push'](_0x170a34['shift']());}}}(a283_0x9863,0x3167f));const a283_0x5f223d=(function(){let _0x5a7ff1=!![];return function(_0x5a371b,_0x30d010){const _0xcb5e66=_0x5a7ff1?function(){const _0x446f1e=a283_0x5053;if(_0x30d010){const _0x2819ba=_0x30d010[_0x446f1e(0x1da)](_0x5a371b,arguments);return _0x30d010=null,_0x2819ba;}}:function(){};return _0x5a7ff1=![],_0xcb5e66;};}()),a283_0x7289d=a283_0x5f223d(this,function(){const _0x26bbdf=a283_0x5053;return a283_0x7289d[_0x26bbdf(0x1e1)]()[_0x26bbdf(0x1d2)]('(((.+)+)+)+$')[_0x26bbdf(0x1e1)]()['constructor'](a283_0x7289d)[_0x26bbdf(0x1d2)](_0x26bbdf(0x1de));});a283_0x7289d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x27b2e9){const _0x167c0b=a283_0x5053;return _0x27b2e9&&_0x27b2e9[_0x167c0b(0x1ce)]?_0x27b2e9:{'default':_0x27b2e9};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a283_0x9863(){const _0xc98b10=['6NiESAe','join','log','1358432VYvsGR','runJob','FsUtils','map','__esModule','set','shortid','142763AXtThl','search','8843616bEpKye','path','close','../../../constants/job','120135oMPWpg','push','Logger','apply','from','get','./spawn.utils','(((.+)+)+)+$','isExistsPath','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','toString','../../../core','readdir','objectToArgsList','sort','birthtime','3703OXytki','stat','default','getJobsIds','2296560daJYKO','name','223252IrWdUK','sortJobsIds','2682VXQnTz','filter'];a283_0x9863=function(){return _0xc98b10;};return a283_0x9863();}const path_1=__importDefault(require(a283_0x128544(0x1d4))),spawn_utils_1=require(a283_0x128544(0x1dd)),core_1=require(a283_0x128544(0x1e2)),shortid_1=__importDefault(require(a283_0x128544(0x1d0))),utils_1=require('@flosum/utils'),promises_1=require('fs/promises'),job_1=require(a283_0x128544(0x1d6));class JobUtils{static['generateJobId'](){return(0x0,shortid_1['default'])();}static[a283_0x128544(0x1cb)](_0x1bb803,_0x42e4ba){return new Promise((_0xb75d45,_0x300323)=>{const _0x591ee4=a283_0x5053,{jobStorePath:_0x4e1ffb,jobId:_0x246108}=_0x42e4ba,_0x277587=(0x0,spawn_utils_1['executeInterpreter'])(_0x1bb803,...(0x0,spawn_utils_1[_0x591ee4(0x1e4)])({'jobStorePath':_0x4e1ffb,'jobId':_0x246108})),_0x194839=new core_1[(_0x591ee4(0x1d9))](_0x246108);_0x277587['once'](_0x591ee4(0x1d5),_0x5c69f6=>{const _0x425ad8=_0x591ee4,_0x428b25=_0x425ad8(0x1e0)+_0x5c69f6;_0x194839[_0x425ad8(0x1c9)](_0x428b25),_0x5c69f6===0x0?_0xb75d45(_0x428b25):_0x300323(new Error(_0x428b25));});});}static async[a283_0x128544(0x1c0)](_0x338ecd){const _0x308403=a283_0x128544;if(!await utils_1[_0x308403(0x1cc)]['isExistsPath'](_0x338ecd))return[];const _0x68512c=await(0x0,promises_1[_0x308403(0x1e3)])(_0x338ecd,{'withFileTypes':!![]}),_0x554aef=_0x68512c[_0x308403(0x1c6)](_0x34502f=>_0x34502f['isDirectory']())[_0x308403(0x1cd)](_0x39f322=>_0x39f322[_0x308403(0x1c2)]),_0x42a1b1=[];for(const _0x56f69b of _0x554aef){const _0x1f3617=path_1['default']['join'](_0x338ecd,_0x56f69b,job_1['JOB_LOG_STATE_FILENAME']);await utils_1[_0x308403(0x1cc)][_0x308403(0x1df)](_0x1f3617)&&_0x42a1b1[_0x308403(0x1d8)](_0x56f69b);}return _0x42a1b1;}static async[a283_0x128544(0x1c4)](_0x532e99,_0x349245){const _0x2d2d71=a283_0x128544,_0x36c90f=new Map();for(const _0x2e1509 of _0x349245){const _0xf94e3f=await(0x0,promises_1[_0x2d2d71(0x1e8)])(path_1[_0x2d2d71(0x1bf)][_0x2d2d71(0x1c8)](_0x532e99,_0x2e1509));_0x36c90f[_0x2d2d71(0x1cf)](_0xf94e3f,_0x2e1509);}return Array[_0x2d2d71(0x1db)](_0x36c90f['keys']())[_0x2d2d71(0x1e5)]((_0x3df59e,_0x4f57d8)=>_0x4f57d8[_0x2d2d71(0x1e6)]-_0x3df59e[_0x2d2d71(0x1e6)])['map'](_0x2cf1fb=>_0x36c90f[_0x2d2d71(0x1dc)](_0x2cf1fb));}}exports[a283_0x128544(0x1bf)]=JobUtils;