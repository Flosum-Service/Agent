const a282_0x4f43b2=a282_0x8bca;(function(_0x5e993a,_0x47ea37){const _0x2fed7a=a282_0x8bca,_0x5ed9ec=_0x5e993a();while(!![]){try{const _0x10ae48=-parseInt(_0x2fed7a(0x10d))/0x1+-parseInt(_0x2fed7a(0xf9))/0x2*(parseInt(_0x2fed7a(0x108))/0x3)+-parseInt(_0x2fed7a(0xf1))/0x4*(parseInt(_0x2fed7a(0xf0))/0x5)+parseInt(_0x2fed7a(0x107))/0x6*(parseInt(_0x2fed7a(0xe9))/0x7)+parseInt(_0x2fed7a(0xf7))/0x8*(-parseInt(_0x2fed7a(0xfe))/0x9)+parseInt(_0x2fed7a(0xe7))/0xa*(parseInt(_0x2fed7a(0x105))/0xb)+-parseInt(_0x2fed7a(0xeb))/0xc*(parseInt(_0x2fed7a(0x101))/0xd);if(_0x10ae48===_0x47ea37)break;else _0x5ed9ec['push'](_0x5ed9ec['shift']());}catch(_0x59bc6a){_0x5ed9ec['push'](_0x5ed9ec['shift']());}}}(a282_0x4078,0xe9bce));const a282_0x3d1a11=(function(){let _0x57f3dc=!![];return function(_0x5663e9,_0x3a9b59){const _0x50e481=_0x57f3dc?function(){const _0x1c0014=a282_0x8bca;if(_0x3a9b59){const _0x4bc659=_0x3a9b59[_0x1c0014(0xee)](_0x5663e9,arguments);return _0x3a9b59=null,_0x4bc659;}}:function(){};return _0x57f3dc=![],_0x50e481;};}()),a282_0x538bcc=a282_0x3d1a11(this,function(){const _0x18d606=a282_0x8bca;return a282_0x538bcc[_0x18d606(0x103)]()[_0x18d606(0xff)](_0x18d606(0xf5))['toString']()[_0x18d606(0xef)](a282_0x538bcc)[_0x18d606(0xff)](_0x18d606(0xf5));});a282_0x538bcc();'use strict';function a282_0x8bca(_0x1f13c3,_0x45c214){const _0xa0b416=a282_0x4078();return a282_0x8bca=function(_0x538bcc,_0x3d1a11){_0x538bcc=_0x538bcc-0xe3;let _0x40782d=_0xa0b416[_0x538bcc];return _0x40782d;},a282_0x8bca(_0x1f13c3,_0x45c214);}function a282_0x4078(){const _0x345661=['join','28188jRMvvp','birthtime','../../../constants/job','apply','constructor','144305dduDCs','24FxYnUx','isExistsPath','objectToArgsList','executeInterpreter','(((.+)+)+)+$','close','3961224VKiHsc','push','246BQgMEu','./spawn.utils','defineProperty','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','fs/promises','9Ccbroi','search','from','6331kNwYar','default','toString','set','16689662UhhFXn','keys','10602084MTyGbI','327bBivpD','getJobsIds','FsUtils','path','__importDefault','501177euSZAk','JOB_LOG_STATE_FILENAME','sortJobsIds','map','__esModule','10NsxKzJ','generateJobId','7KjNVes'];a282_0x4078=function(){return _0x345661;};return a282_0x4078();}var __importDefault=this&&this[a282_0x4f43b2(0x10c)]||function(_0x259850){const _0x50ac3e=a282_0x4f43b2;return _0x259850&&_0x259850[_0x50ac3e(0xe6)]?_0x259850:{'default':_0x259850};};Object[a282_0x4f43b2(0xfb)](exports,a282_0x4f43b2(0xe6),{'value':!![]});const path_1=__importDefault(require(a282_0x4f43b2(0x10b))),spawn_utils_1=require(a282_0x4f43b2(0xfa)),core_1=require('../../../core'),shortid_1=__importDefault(require('shortid')),utils_1=require('@flosum/utils'),promises_1=require(a282_0x4f43b2(0xfd)),job_1=require(a282_0x4f43b2(0xed));class JobUtils{static[a282_0x4f43b2(0xe8)](){const _0xa9f259=a282_0x4f43b2;return(0x0,shortid_1[_0xa9f259(0x102)])();}static['runJob'](_0x45dc23,_0x534b55){return new Promise((_0x465974,_0x3eaf08)=>{const _0x4d1b23=a282_0x8bca,{jobStorePath:_0x1ffa74,jobId:_0x5d5f68}=_0x534b55,_0x44ff42=(0x0,spawn_utils_1[_0x4d1b23(0xf4)])(_0x45dc23,...(0x0,spawn_utils_1[_0x4d1b23(0xf3)])({'jobStorePath':_0x1ffa74,'jobId':_0x5d5f68})),_0x105241=new core_1['Logger'](_0x5d5f68);_0x44ff42['once'](_0x4d1b23(0xf6),_0x3385a5=>{const _0x33f94c=_0x4d1b23,_0x291d4d=_0x33f94c(0xfc)+_0x3385a5;_0x105241['log'](_0x291d4d),_0x3385a5===0x0?_0x465974(_0x291d4d):_0x3eaf08(new Error(_0x291d4d));});});}static async[a282_0x4f43b2(0x109)](_0x1a4b60){const _0x50c326=a282_0x4f43b2;if(!await utils_1[_0x50c326(0x10a)][_0x50c326(0xf2)](_0x1a4b60))return[];const _0x366a4e=await(0x0,promises_1['readdir'])(_0x1a4b60,{'withFileTypes':!![]}),_0x12cfb8=_0x366a4e['filter'](_0x5391b1=>_0x5391b1['isDirectory']())[_0x50c326(0xe5)](_0x45206a=>_0x45206a['name']),_0x2f0bfb=[];for(const _0x5d4ed2 of _0x12cfb8){const _0x51412c=path_1['default'][_0x50c326(0xea)](_0x1a4b60,_0x5d4ed2,job_1[_0x50c326(0xe3)]);await utils_1[_0x50c326(0x10a)][_0x50c326(0xf2)](_0x51412c)&&_0x2f0bfb[_0x50c326(0xf8)](_0x5d4ed2);}return _0x2f0bfb;}static async[a282_0x4f43b2(0xe4)](_0x59605c,_0x4582fe){const _0x2ee3db=a282_0x4f43b2,_0x85ab6e=new Map();for(const _0x516c27 of _0x4582fe){const _0x2c2857=await(0x0,promises_1['stat'])(path_1['default'][_0x2ee3db(0xea)](_0x59605c,_0x516c27));_0x85ab6e[_0x2ee3db(0x104)](_0x2c2857,_0x516c27);}return Array[_0x2ee3db(0x100)](_0x85ab6e[_0x2ee3db(0x106)]())['sort']((_0x363d2d,_0x447ec2)=>_0x447ec2[_0x2ee3db(0xec)]-_0x363d2d[_0x2ee3db(0xec)])[_0x2ee3db(0xe5)](_0x1f63b5=>_0x85ab6e['get'](_0x1f63b5));}}exports[a282_0x4f43b2(0x102)]=JobUtils;