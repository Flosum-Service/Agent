function a322_0x19b3(){const _0x57e89f=['FsUtils','log','constructor','136015urLuHJ','default','getJobsIds','once','apply','693835psGUFo','search','executeInterpreter','302337OXZmdc','generateJobId','__esModule','5033253xVyXkn','objectToArgsList','272XrQPpP','get','push','name','runJob','isExistsPath','../../../constants/job','1tEBaay','@flosum/utils','birthtime','1925408DxiYhz','path','close','(((.+)+)+)+$','join','isDirectory','170zVIlMW','map','stat','JOB_LOG_STATE_FILENAME','defineProperty','4PnlYmu','fs/promises','9909570zPKUFB','shortid','6927192oUDWnw','readdir','sortJobsIds','__importDefault'];a322_0x19b3=function(){return _0x57e89f;};return a322_0x19b3();}const a322_0x1abdc6=a322_0x38fb;(function(_0x4e9150,_0x580fcf){const _0x25f584=a322_0x38fb,_0x2d1002=_0x4e9150();while(!![]){try{const _0x2a78c8=-parseInt(_0x25f584(0x1f3))/0x1*(parseInt(_0x25f584(0x1f6))/0x2)+parseInt(_0x25f584(0x1ea))/0x3+parseInt(_0x25f584(0x1d4))/0x4*(-parseInt(_0x25f584(0x1e4))/0x5)+-parseInt(_0x25f584(0x1d6))/0x6+-parseInt(_0x25f584(0x1e7))/0x7*(-parseInt(_0x25f584(0x1ec))/0x8)+parseInt(_0x25f584(0x1d8))/0x9+-parseInt(_0x25f584(0x1fc))/0xa*(parseInt(_0x25f584(0x1df))/0xb);if(_0x2a78c8===_0x580fcf)break;else _0x2d1002['push'](_0x2d1002['shift']());}catch(_0x3ebaa4){_0x2d1002['push'](_0x2d1002['shift']());}}}(a322_0x19b3,0xe8956));function a322_0x38fb(_0x37fc07,_0x38d41b){const _0xf8cc91=a322_0x19b3();return a322_0x38fb=function(_0x33ab3a,_0x33d375){_0x33ab3a=_0x33ab3a-0x1d2;let _0x19b384=_0xf8cc91[_0x33ab3a];return _0x19b384;},a322_0x38fb(_0x37fc07,_0x38d41b);}const a322_0x33d375=(function(){let _0x45b39e=!![];return function(_0x237b9a,_0x3554b5){const _0x566fce=_0x45b39e?function(){const _0x5b73a1=a322_0x38fb;if(_0x3554b5){const _0x192283=_0x3554b5[_0x5b73a1(0x1e3)](_0x237b9a,arguments);return _0x3554b5=null,_0x192283;}}:function(){};return _0x45b39e=![],_0x566fce;};}()),a322_0x33ab3a=a322_0x33d375(this,function(){const _0x4ec154=a322_0x38fb;return a322_0x33ab3a['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x4ec154(0x1de)](a322_0x33ab3a)[_0x4ec154(0x1e5)](_0x4ec154(0x1f9));});a322_0x33ab3a();'use strict';var __importDefault=this&&this[a322_0x1abdc6(0x1db)]||function(_0x532383){const _0x23763b=a322_0x1abdc6;return _0x532383&&_0x532383[_0x23763b(0x1e9)]?_0x532383:{'default':_0x532383};};Object[a322_0x1abdc6(0x1d3)](exports,a322_0x1abdc6(0x1e9),{'value':!![]});const path_1=__importDefault(require(a322_0x1abdc6(0x1f7))),spawn_utils_1=require('./spawn.utils'),core_1=require('../../../core'),shortid_1=__importDefault(require(a322_0x1abdc6(0x1d7))),utils_1=require(a322_0x1abdc6(0x1f4)),promises_1=require(a322_0x1abdc6(0x1d5)),job_1=require(a322_0x1abdc6(0x1f2));class JobUtils{static[a322_0x1abdc6(0x1e8)](){const _0x5adedc=a322_0x1abdc6;return(0x0,shortid_1[_0x5adedc(0x1e0)])();}static[a322_0x1abdc6(0x1f0)](_0x118fd6,_0x4d1de7){return new Promise((_0x5383d3,_0x41cc2f)=>{const _0x16640c=a322_0x38fb,{jobStorePath:_0x24831f,jobId:_0x5e9f5b}=_0x4d1de7,_0x32b34c=(0x0,spawn_utils_1[_0x16640c(0x1e6)])(_0x118fd6,...(0x0,spawn_utils_1[_0x16640c(0x1eb)])({'jobStorePath':_0x24831f,'jobId':_0x5e9f5b})),_0x181365=new core_1['Logger'](_0x5e9f5b);_0x32b34c[_0x16640c(0x1e2)](_0x16640c(0x1f8),_0x3183dc=>{const _0x527ab6=_0x16640c,_0x5b5a6b='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x3183dc;_0x181365[_0x527ab6(0x1dd)](_0x5b5a6b),_0x3183dc===0x0?_0x5383d3(_0x5b5a6b):_0x41cc2f(new Error(_0x5b5a6b));});});}static async[a322_0x1abdc6(0x1e1)](_0x3b8185){const _0x33d7af=a322_0x1abdc6;if(!await utils_1[_0x33d7af(0x1dc)][_0x33d7af(0x1f1)](_0x3b8185))return[];const _0x4b561c=await(0x0,promises_1[_0x33d7af(0x1d9)])(_0x3b8185,{'withFileTypes':!![]}),_0x45d3f8=_0x4b561c['filter'](_0x4628c5=>_0x4628c5[_0x33d7af(0x1fb)]())[_0x33d7af(0x1fd)](_0x125af8=>_0x125af8[_0x33d7af(0x1ef)]),_0x4c4ae5=[];for(const _0x3517e6 of _0x45d3f8){const _0x469029=path_1['default'][_0x33d7af(0x1fa)](_0x3b8185,_0x3517e6,job_1[_0x33d7af(0x1d2)]);await utils_1[_0x33d7af(0x1dc)]['isExistsPath'](_0x469029)&&_0x4c4ae5[_0x33d7af(0x1ee)](_0x3517e6);}return _0x4c4ae5;}static async[a322_0x1abdc6(0x1da)](_0x31e70e,_0x5aabcc){const _0x52a139=a322_0x1abdc6,_0x53f105=new Map();for(const _0x3803f8 of _0x5aabcc){const _0x4402c2=await(0x0,promises_1[_0x52a139(0x1fe)])(path_1[_0x52a139(0x1e0)][_0x52a139(0x1fa)](_0x31e70e,_0x3803f8));_0x53f105['set'](_0x4402c2,_0x3803f8);}return Array['from'](_0x53f105['keys']())['sort']((_0x2d1387,_0x5d45be)=>_0x5d45be[_0x52a139(0x1f5)]-_0x2d1387[_0x52a139(0x1f5)])['map'](_0x3a550a=>_0x53f105[_0x52a139(0x1ed)](_0x3a550a));}}exports[a322_0x1abdc6(0x1e0)]=JobUtils;