const a290_0x1724fa=a290_0x1992;(function(_0x3b8cef,_0x446ad4){const _0x1d0783=a290_0x1992,_0x420284=_0x3b8cef();while(!![]){try{const _0x49549e=-parseInt(_0x1d0783(0x1ab))/0x1*(parseInt(_0x1d0783(0x1a8))/0x2)+-parseInt(_0x1d0783(0x1a3))/0x3+-parseInt(_0x1d0783(0x192))/0x4+parseInt(_0x1d0783(0x199))/0x5+parseInt(_0x1d0783(0x1b6))/0x6+parseInt(_0x1d0783(0x193))/0x7*(-parseInt(_0x1d0783(0x1b7))/0x8)+parseInt(_0x1d0783(0x1b3))/0x9*(parseInt(_0x1d0783(0x1b2))/0xa);if(_0x49549e===_0x446ad4)break;else _0x420284['push'](_0x420284['shift']());}catch(_0x4bf5c1){_0x420284['push'](_0x420284['shift']());}}}(a290_0x11ff,0x4717a));function a290_0x1992(_0x5a7ed4,_0x3e4cd5){const _0x22bfcd=a290_0x11ff();return a290_0x1992=function(_0x34bd08,_0x2e18b9){_0x34bd08=_0x34bd08-0x18f;let _0x11ff17=_0x22bfcd[_0x34bd08];return _0x11ff17;},a290_0x1992(_0x5a7ed4,_0x3e4cd5);}const a290_0x2e18b9=(function(){let _0x57ff28=!![];return function(_0x1b357a,_0x68e16e){const _0x390020=_0x57ff28?function(){const _0x504040=a290_0x1992;if(_0x68e16e){const _0x33da0d=_0x68e16e[_0x504040(0x1a6)](_0x1b357a,arguments);return _0x68e16e=null,_0x33da0d;}}:function(){};return _0x57ff28=![],_0x390020;};}()),a290_0x34bd08=a290_0x2e18b9(this,function(){const _0x15e771=a290_0x1992;return a290_0x34bd08['toString']()[_0x15e771(0x1af)](_0x15e771(0x1b4))[_0x15e771(0x1b0)]()[_0x15e771(0x19f)](a290_0x34bd08)['search']('(((.+)+)+)+$');});a290_0x34bd08();'use strict';function a290_0x11ff(){const _0x1c255b=['FsUtils','2630335XSkqyq','JOB_LOG_STATE_FILENAME','__esModule','sortJobsIds','runJob','keys','constructor','isDirectory','from','shortid','21696oZBNdU','default','close','apply','objectToArgsList','2gJFtBD','name','Logger','501601kzRlLG','once','__importDefault','getJobsIds','search','toString','map','140FwVMeG','487386lveyyz','(((.+)+)+)+$','./spawn.utils','772950HCSIzO','56632qYXLyk','../../../constants/job','birthtime','set','get','readdir','498280OpfJzy','483ObJIMl','fs/promises','@flosum/utils','executeInterpreter','isExistsPath'];a290_0x11ff=function(){return _0x1c255b;};return a290_0x11ff();}var __importDefault=this&&this[a290_0x1724fa(0x1ad)]||function(_0x34ffda){const _0x561110=a290_0x1724fa;return _0x34ffda&&_0x34ffda[_0x561110(0x19b)]?_0x34ffda:{'default':_0x34ffda};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require('path')),spawn_utils_1=require(a290_0x1724fa(0x1b5)),core_1=require('../../../core'),shortid_1=__importDefault(require(a290_0x1724fa(0x1a2))),utils_1=require(a290_0x1724fa(0x195)),promises_1=require(a290_0x1724fa(0x194)),job_1=require(a290_0x1724fa(0x1b8));class JobUtils{static['generateJobId'](){const _0x5e81c3=a290_0x1724fa;return(0x0,shortid_1[_0x5e81c3(0x1a4)])();}static[a290_0x1724fa(0x19d)](_0x271966,_0x16caae){return new Promise((_0x509d3a,_0x39ff2c)=>{const _0x66691c=a290_0x1992,{jobStorePath:_0x31e86e,jobId:_0x59096c}=_0x16caae,_0x36f1ce=(0x0,spawn_utils_1[_0x66691c(0x196)])(_0x271966,...(0x0,spawn_utils_1[_0x66691c(0x1a7)])({'jobStorePath':_0x31e86e,'jobId':_0x59096c})),_0x483002=new core_1[(_0x66691c(0x1aa))](_0x59096c);_0x36f1ce[_0x66691c(0x1ac)](_0x66691c(0x1a5),_0x2bbba5=>{const _0x389435='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x2bbba5;_0x483002['log'](_0x389435),_0x2bbba5===0x0?_0x509d3a(_0x389435):_0x39ff2c(new Error(_0x389435));});});}static async[a290_0x1724fa(0x1ae)](_0x3073cd){const _0x92ee89=a290_0x1724fa;if(!await utils_1['FsUtils']['isExistsPath'](_0x3073cd))return[];const _0x4e262e=await(0x0,promises_1[_0x92ee89(0x191)])(_0x3073cd,{'withFileTypes':!![]}),_0x1e8fe0=_0x4e262e['filter'](_0x900eac=>_0x900eac[_0x92ee89(0x1a0)]())[_0x92ee89(0x1b1)](_0x5d9c3a=>_0x5d9c3a[_0x92ee89(0x1a9)]),_0x5ca9e1=[];for(const _0x5e3166 of _0x1e8fe0){const _0x8a3e20=path_1['default']['join'](_0x3073cd,_0x5e3166,job_1[_0x92ee89(0x19a)]);await utils_1[_0x92ee89(0x198)][_0x92ee89(0x197)](_0x8a3e20)&&_0x5ca9e1['push'](_0x5e3166);}return _0x5ca9e1;}static async[a290_0x1724fa(0x19c)](_0x247806,_0x387df5){const _0x2adb85=a290_0x1724fa,_0x30a6ee=new Map();for(const _0x359c0f of _0x387df5){const _0x2eb4b=await(0x0,promises_1['stat'])(path_1['default']['join'](_0x247806,_0x359c0f));_0x30a6ee[_0x2adb85(0x18f)](_0x2eb4b,_0x359c0f);}return Array[_0x2adb85(0x1a1)](_0x30a6ee[_0x2adb85(0x19e)]())['sort']((_0x39d24d,_0x11d87e)=>_0x11d87e[_0x2adb85(0x1b9)]-_0x39d24d['birthtime'])[_0x2adb85(0x1b1)](_0x462ffc=>_0x30a6ee[_0x2adb85(0x190)](_0x462ffc));}}exports[a290_0x1724fa(0x1a4)]=JobUtils;