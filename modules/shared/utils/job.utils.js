const a290_0x8b825=a290_0x729c;(function(_0x3f1851,_0x5d63f2){const _0x5b02e0=a290_0x729c,_0x27c79b=_0x3f1851();while(!![]){try{const _0xe75dac=-parseInt(_0x5b02e0(0xd6))/0x1*(-parseInt(_0x5b02e0(0xc2))/0x2)+-parseInt(_0x5b02e0(0xdd))/0x3+-parseInt(_0x5b02e0(0xbd))/0x4+parseInt(_0x5b02e0(0xd1))/0x5*(parseInt(_0x5b02e0(0xbb))/0x6)+parseInt(_0x5b02e0(0xd5))/0x7+-parseInt(_0x5b02e0(0xc3))/0x8*(-parseInt(_0x5b02e0(0xcf))/0x9)+parseInt(_0x5b02e0(0xd7))/0xa*(-parseInt(_0x5b02e0(0xc4))/0xb);if(_0xe75dac===_0x5d63f2)break;else _0x27c79b['push'](_0x27c79b['shift']());}catch(_0x560625){_0x27c79b['push'](_0x27c79b['shift']());}}}(a290_0x2741,0x56ddd));const a290_0x636d=(function(){let _0x4e7823=!![];return function(_0x182753,_0x3b70cb){const _0x78b0f5=_0x4e7823?function(){const _0x53b8f4=a290_0x729c;if(_0x3b70cb){const _0x5ef075=_0x3b70cb[_0x53b8f4(0xbe)](_0x182753,arguments);return _0x3b70cb=null,_0x5ef075;}}:function(){};return _0x4e7823=![],_0x78b0f5;};}()),a290_0x4351c8=a290_0x636d(this,function(){const _0x429a18=a290_0x729c;return a290_0x4351c8['toString']()[_0x429a18(0xd9)](_0x429a18(0xd0))[_0x429a18(0xb5)]()[_0x429a18(0xd4)](a290_0x4351c8)[_0x429a18(0xd9)](_0x429a18(0xd0));});a290_0x4351c8();function a290_0x2741(){const _0x327ff4=['close','map','objectToArgsList','JOB_LOG_STATE_FILENAME','readdir','generateJobId','__importDefault','9rhMhQs','(((.+)+)+)+$','5PIJDRU','sort','join','constructor','2617440SSibEj','399063qMDypw','10070ZlRXDy','from','search','runJob','__esModule','@flosum/utils','1614792oZxDhS','name','push','executeInterpreter','toString','filter','fs/promises','defineProperty','isExistsPath','path','3330378NgMnJF','keys','1858536LivVtV','apply','FsUtils','once','default','2NBNedE','1558384SiRDLD','1793kHTxTG','./spawn.utils','log','birthtime'];a290_0x2741=function(){return _0x327ff4;};return a290_0x2741();}'use strict';function a290_0x729c(_0x48828b,_0x491bd0){const _0x5978ac=a290_0x2741();return a290_0x729c=function(_0x4351c8,_0x636d){_0x4351c8=_0x4351c8-0xb5;let _0x274195=_0x5978ac[_0x4351c8];return _0x274195;},a290_0x729c(_0x48828b,_0x491bd0);}var __importDefault=this&&this[a290_0x8b825(0xce)]||function(_0x41b2ab){return _0x41b2ab&&_0x41b2ab['__esModule']?_0x41b2ab:{'default':_0x41b2ab};};Object[a290_0x8b825(0xb8)](exports,a290_0x8b825(0xdb),{'value':!![]});const path_1=__importDefault(require(a290_0x8b825(0xba))),spawn_utils_1=require(a290_0x8b825(0xc5)),core_1=require('../../../core'),shortid_1=__importDefault(require('shortid')),utils_1=require(a290_0x8b825(0xdc)),promises_1=require(a290_0x8b825(0xb7)),job_1=require('../../../constants/job');class JobUtils{static[a290_0x8b825(0xcd)](){const _0x305437=a290_0x8b825;return(0x0,shortid_1[_0x305437(0xc1)])();}static[a290_0x8b825(0xda)](_0x1ad079,_0x17bf49){return new Promise((_0x5c2691,_0x3f941c)=>{const _0x4c1446=a290_0x729c,{jobStorePath:_0x31b116,jobId:_0x1e6370}=_0x17bf49,_0xb2179c=(0x0,spawn_utils_1[_0x4c1446(0xe0)])(_0x1ad079,...(0x0,spawn_utils_1[_0x4c1446(0xca)])({'jobStorePath':_0x31b116,'jobId':_0x1e6370})),_0x388099=new core_1['Logger'](_0x1e6370);_0xb2179c[_0x4c1446(0xc0)](_0x4c1446(0xc8),_0xf3886f=>{const _0x37e14d=_0x4c1446,_0x59a424='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0xf3886f;_0x388099[_0x37e14d(0xc6)](_0x59a424),_0xf3886f===0x0?_0x5c2691(_0x59a424):_0x3f941c(new Error(_0x59a424));});});}static async['getJobsIds'](_0x4daf50){const _0x1d4233=a290_0x8b825;if(!await utils_1['FsUtils'][_0x1d4233(0xb9)](_0x4daf50))return[];const _0x25afb1=await(0x0,promises_1[_0x1d4233(0xcc)])(_0x4daf50,{'withFileTypes':!![]}),_0x2ede41=_0x25afb1[_0x1d4233(0xb6)](_0x1b4476=>_0x1b4476['isDirectory']())[_0x1d4233(0xc9)](_0x5684e6=>_0x5684e6[_0x1d4233(0xde)]),_0xe082c3=[];for(const _0x179d8c of _0x2ede41){const _0x23fa56=path_1[_0x1d4233(0xc1)][_0x1d4233(0xd3)](_0x4daf50,_0x179d8c,job_1[_0x1d4233(0xcb)]);await utils_1[_0x1d4233(0xbf)][_0x1d4233(0xb9)](_0x23fa56)&&_0xe082c3[_0x1d4233(0xdf)](_0x179d8c);}return _0xe082c3;}static async['sortJobsIds'](_0x3c407f,_0x3e001e){const _0x20f5ba=a290_0x8b825,_0x51c045=new Map();for(const _0x36e436 of _0x3e001e){const _0x3659b1=await(0x0,promises_1['stat'])(path_1[_0x20f5ba(0xc1)][_0x20f5ba(0xd3)](_0x3c407f,_0x36e436));_0x51c045['set'](_0x3659b1,_0x36e436);}return Array[_0x20f5ba(0xd8)](_0x51c045[_0x20f5ba(0xbc)]())[_0x20f5ba(0xd2)]((_0x886281,_0xf5a5a6)=>_0xf5a5a6[_0x20f5ba(0xc7)]-_0x886281[_0x20f5ba(0xc7)])['map'](_0x586f70=>_0x51c045['get'](_0x586f70));}}exports[a290_0x8b825(0xc1)]=JobUtils;