const a283_0x45ec57=a283_0x5424;(function(_0x46a75e,_0x27fd78){const _0x2e9947=a283_0x5424,_0x144164=_0x46a75e();while(!![]){try{const _0x99ca3a=-parseInt(_0x2e9947(0x155))/0x1+-parseInt(_0x2e9947(0x16c))/0x2+parseInt(_0x2e9947(0x170))/0x3*(parseInt(_0x2e9947(0x177))/0x4)+-parseInt(_0x2e9947(0x158))/0x5*(-parseInt(_0x2e9947(0x166))/0x6)+parseInt(_0x2e9947(0x17a))/0x7*(-parseInt(_0x2e9947(0x163))/0x8)+parseInt(_0x2e9947(0x167))/0x9+-parseInt(_0x2e9947(0x172))/0xa*(-parseInt(_0x2e9947(0x16a))/0xb);if(_0x99ca3a===_0x27fd78)break;else _0x144164['push'](_0x144164['shift']());}catch(_0x14766a){_0x144164['push'](_0x144164['shift']());}}}(a283_0x3a5b,0xb3387));const a283_0x29c189=(function(){let _0x6203fe=!![];return function(_0x4fc68d,_0x41c0e1){const _0xebe9fa=_0x6203fe?function(){const _0x74b57=a283_0x5424;if(_0x41c0e1){const _0x39305a=_0x41c0e1[_0x74b57(0x165)](_0x4fc68d,arguments);return _0x41c0e1=null,_0x39305a;}}:function(){};return _0x6203fe=![],_0xebe9fa;};}()),a283_0x383669=a283_0x29c189(this,function(){const _0x339222=a283_0x5424;return a283_0x383669[_0x339222(0x159)]()['search'](_0x339222(0x15e))[_0x339222(0x159)]()[_0x339222(0x169)](a283_0x383669)[_0x339222(0x153)](_0x339222(0x15e));});function a283_0x5424(_0x1a0633,_0x49f7d8){const _0x1cac15=a283_0x3a5b();return a283_0x5424=function(_0x383669,_0x29c189){_0x383669=_0x383669-0x153;let _0x3a5b69=_0x1cac15[_0x383669];return _0x3a5b69;},a283_0x5424(_0x1a0633,_0x49f7d8);}a283_0x383669();'use strict';var __importDefault=this&&this[a283_0x45ec57(0x156)]||function(_0x5260b8){const _0x5e119b=a283_0x45ec57;return _0x5260b8&&_0x5260b8[_0x5e119b(0x15b)]?_0x5260b8:{'default':_0x5260b8};};Object[a283_0x45ec57(0x178)](exports,a283_0x45ec57(0x15b),{'value':!![]});const path_1=__importDefault(require(a283_0x45ec57(0x179))),spawn_utils_1=require('./spawn.utils'),core_1=require(a283_0x45ec57(0x157)),shortid_1=__importDefault(require('shortid')),utils_1=require('@flosum/utils'),promises_1=require('fs/promises'),job_1=require(a283_0x45ec57(0x16b));class JobUtils{static[a283_0x45ec57(0x17b)](){const _0x32244c=a283_0x45ec57;return(0x0,shortid_1[_0x32244c(0x16f)])();}static[a283_0x45ec57(0x15c)](_0x43ca4c,_0x22cca2){return new Promise((_0x1d1b75,_0x248380)=>{const _0x526390=a283_0x5424,{jobStorePath:_0x471cb9,jobId:_0x2c385c}=_0x22cca2,_0x100ad1=(0x0,spawn_utils_1['executeInterpreter'])(_0x43ca4c,...(0x0,spawn_utils_1[_0x526390(0x15f)])({'jobStorePath':_0x471cb9,'jobId':_0x2c385c})),_0x1571b5=new core_1['Logger'](_0x2c385c);_0x100ad1['once'](_0x526390(0x176),_0x5bb6e2=>{const _0x2930ec=_0x526390,_0x24ec15='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x5bb6e2;_0x1571b5[_0x2930ec(0x168)](_0x24ec15),_0x5bb6e2===0x0?_0x1d1b75(_0x24ec15):_0x248380(new Error(_0x24ec15));});});}static async['getJobsIds'](_0x3dfde3){const _0x1002b6=a283_0x45ec57;if(!await utils_1[_0x1002b6(0x162)][_0x1002b6(0x175)](_0x3dfde3))return[];const _0x46329a=await(0x0,promises_1[_0x1002b6(0x161)])(_0x3dfde3,{'withFileTypes':!![]}),_0xeae0dd=_0x46329a['filter'](_0x54a165=>_0x54a165[_0x1002b6(0x160)]())[_0x1002b6(0x164)](_0x2134c4=>_0x2134c4[_0x1002b6(0x16e)]),_0x1e30f7=[];for(const _0x16c616 of _0xeae0dd){const _0x13ab44=path_1[_0x1002b6(0x16f)][_0x1002b6(0x173)](_0x3dfde3,_0x16c616,job_1['JOB_LOG_STATE_FILENAME']);await utils_1[_0x1002b6(0x162)][_0x1002b6(0x175)](_0x13ab44)&&_0x1e30f7['push'](_0x16c616);}return _0x1e30f7;}static async[a283_0x45ec57(0x16d)](_0xcbb908,_0x2294ff){const _0x81879a=a283_0x45ec57,_0xfe3b08=new Map();for(const _0x12c1fb of _0x2294ff){const _0x5d5827=await(0x0,promises_1['stat'])(path_1[_0x81879a(0x16f)]['join'](_0xcbb908,_0x12c1fb));_0xfe3b08[_0x81879a(0x174)](_0x5d5827,_0x12c1fb);}return Array['from'](_0xfe3b08[_0x81879a(0x15a)]())[_0x81879a(0x15d)]((_0x48f726,_0x290429)=>_0x290429[_0x81879a(0x154)]-_0x48f726[_0x81879a(0x154)])['map'](_0x1db812=>_0xfe3b08[_0x81879a(0x171)](_0x1db812));}}function a283_0x3a5b(){const _0x36ee4d=['constructor','233288VZhahQ','../../../constants/job','699610PkgKRJ','sortJobsIds','name','default','5979uRxhXi','get','50eQFIeG','join','set','isExistsPath','close','2644WLbXXq','defineProperty','path','241122PcipWT','generateJobId','search','birthtime','491575xzdEhy','__importDefault','../../../core','2800610lYhOyx','toString','keys','__esModule','runJob','sort','(((.+)+)+)+$','objectToArgsList','isDirectory','readdir','FsUtils','176KycCdG','map','apply','6vowpXG','3147696xaIIXh','log'];a283_0x3a5b=function(){return _0x36ee4d;};return a283_0x3a5b();}exports['default']=JobUtils;