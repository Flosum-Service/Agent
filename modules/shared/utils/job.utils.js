function a322_0x3973(_0x7fe172,_0x58e609){const _0x4bc502=a322_0x24f6();return a322_0x3973=function(_0x20f6c9,_0x3d4afe){_0x20f6c9=_0x20f6c9-0xc5;let _0x24f653=_0x4bc502[_0x20f6c9];return _0x24f653;},a322_0x3973(_0x7fe172,_0x58e609);}const a322_0x1ad892=a322_0x3973;(function(_0x13db44,_0x2bb522){const _0x109224=a322_0x3973,_0x5ac2c2=_0x13db44();while(!![]){try{const _0x4f3730=-parseInt(_0x109224(0xec))/0x1*(-parseInt(_0x109224(0xc6))/0x2)+-parseInt(_0x109224(0xdd))/0x3*(-parseInt(_0x109224(0xea))/0x4)+parseInt(_0x109224(0xd3))/0x5+parseInt(_0x109224(0xcc))/0x6+parseInt(_0x109224(0xe6))/0x7+parseInt(_0x109224(0xcf))/0x8+parseInt(_0x109224(0xc8))/0x9*(-parseInt(_0x109224(0xed))/0xa);if(_0x4f3730===_0x2bb522)break;else _0x5ac2c2['push'](_0x5ac2c2['shift']());}catch(_0x4fb113){_0x5ac2c2['push'](_0x5ac2c2['shift']());}}}(a322_0x24f6,0xaa74e));const a322_0x3d4afe=(function(){let _0x116a38=!![];return function(_0x1be095,_0x2410fd){const _0x54a1ff=_0x116a38?function(){const _0x2d2745=a322_0x3973;if(_0x2410fd){const _0x23722d=_0x2410fd[_0x2d2745(0xe8)](_0x1be095,arguments);return _0x2410fd=null,_0x23722d;}}:function(){};return _0x116a38=![],_0x54a1ff;};}()),a322_0x20f6c9=a322_0x3d4afe(this,function(){const _0x483540=a322_0x3973;return a322_0x20f6c9[_0x483540(0xca)]()[_0x483540(0xd9)](_0x483540(0xce))['toString']()[_0x483540(0xdc)](a322_0x20f6c9)['search'](_0x483540(0xce));});a322_0x20f6c9();'use strict';function a322_0x24f6(){const _0x51961e=['name','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','readdir','push','search','__importDefault','objectToArgsList','constructor','1057218lTbTud','JOB_LOG_STATE_FILENAME','fs/promises','default','runJob','generateJobId','executeInterpreter','stat','FsUtils','4869662GlFwOa','once','apply','log','12RQcwcN','./spawn.utils','1AHrNJC','450MxSFZH','map','keys','defineProperty','__esModule','birthtime','2052742NYEwVJ','close','749205klWtMP','isDirectory','toString','getJobsIds','1812870UjyEGW','join','(((.+)+)+)+$','10308936vaKPgG','isExistsPath','@flosum/utils','../../../core','370990lTKMiv','filter'];a322_0x24f6=function(){return _0x51961e;};return a322_0x24f6();}var __importDefault=this&&this[a322_0x1ad892(0xda)]||function(_0x2abe68){const _0x37b677=a322_0x1ad892;return _0x2abe68&&_0x2abe68[_0x37b677(0xf1)]?_0x2abe68:{'default':_0x2abe68};};Object[a322_0x1ad892(0xf0)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require('path')),spawn_utils_1=require(a322_0x1ad892(0xeb)),core_1=require(a322_0x1ad892(0xd2)),shortid_1=__importDefault(require('shortid')),utils_1=require(a322_0x1ad892(0xd1)),promises_1=require(a322_0x1ad892(0xdf)),job_1=require('../../../constants/job');class JobUtils{static[a322_0x1ad892(0xe2)](){return(0x0,shortid_1['default'])();}static[a322_0x1ad892(0xe1)](_0x51f57c,_0x580aec){return new Promise((_0xe84912,_0x39a46d)=>{const _0x10311d=a322_0x3973,{jobStorePath:_0x2bc862,jobId:_0x105bdb}=_0x580aec,_0x22f7b5=(0x0,spawn_utils_1[_0x10311d(0xe3)])(_0x51f57c,...(0x0,spawn_utils_1[_0x10311d(0xdb)])({'jobStorePath':_0x2bc862,'jobId':_0x105bdb})),_0x177026=new core_1['Logger'](_0x105bdb);_0x22f7b5[_0x10311d(0xe7)](_0x10311d(0xc7),_0xf2c2dc=>{const _0x41a037=_0x10311d,_0x5632e0=_0x41a037(0xd6)+_0xf2c2dc;_0x177026[_0x41a037(0xe9)](_0x5632e0),_0xf2c2dc===0x0?_0xe84912(_0x5632e0):_0x39a46d(new Error(_0x5632e0));});});}static async[a322_0x1ad892(0xcb)](_0x28f528){const _0x473784=a322_0x1ad892;if(!await utils_1[_0x473784(0xe5)][_0x473784(0xd0)](_0x28f528))return[];const _0x7e39b9=await(0x0,promises_1[_0x473784(0xd7)])(_0x28f528,{'withFileTypes':!![]}),_0x25a9cf=_0x7e39b9[_0x473784(0xd4)](_0x4d5618=>_0x4d5618[_0x473784(0xc9)]())[_0x473784(0xee)](_0x429768=>_0x429768[_0x473784(0xd5)]),_0x11877b=[];for(const _0x2dda37 of _0x25a9cf){const _0x53f8c8=path_1[_0x473784(0xe0)][_0x473784(0xcd)](_0x28f528,_0x2dda37,job_1[_0x473784(0xde)]);await utils_1['FsUtils'][_0x473784(0xd0)](_0x53f8c8)&&_0x11877b[_0x473784(0xd8)](_0x2dda37);}return _0x11877b;}static async['sortJobsIds'](_0x4716dd,_0x8d60ba){const _0x184949=a322_0x1ad892,_0x43172e=new Map();for(const _0x106719 of _0x8d60ba){const _0x43353c=await(0x0,promises_1[_0x184949(0xe4)])(path_1['default'][_0x184949(0xcd)](_0x4716dd,_0x106719));_0x43172e['set'](_0x43353c,_0x106719);}return Array['from'](_0x43172e[_0x184949(0xef)]())['sort']((_0x5d36da,_0x152245)=>_0x152245[_0x184949(0xc5)]-_0x5d36da[_0x184949(0xc5)])['map'](_0x2647a1=>_0x43172e['get'](_0x2647a1));}}exports[a322_0x1ad892(0xe0)]=JobUtils;