const a290_0x175f5a=a290_0x2465;function a290_0x1778(){const _0x2843e5=['close','readdir','2GTuNmv','getJobsIds','10514878eziuNK','35nZFTfX','stat','default','name','from','63VeXKce','isExistsPath','7692455eqCMWv','sort','birthtime','toString','once','shortid','apply','__esModule','set','FsUtils','fs/promises','join','JOB_LOG_STATE_FILENAME','./spawn.utils','@flosum/utils','map','86150LTbIEQ','33RFTMrL','executeInterpreter','filter','__importDefault','370544ggISFU','search','defineProperty','isDirectory','339128OyVRJD','199372wvWcEs','sortJobsIds','../../../core','keys','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','2695158iIbicG','constructor'];a290_0x1778=function(){return _0x2843e5;};return a290_0x1778();}(function(_0x138ffe,_0x35980d){const _0x480e32=a290_0x2465,_0xa89e67=_0x138ffe();while(!![]){try{const _0x5dd143=parseInt(_0x480e32(0x19d))/0x1*(-parseInt(_0x480e32(0x194))/0x2)+parseInt(_0x480e32(0x1b8))/0x3*(parseInt(_0x480e32(0x193))/0x4)+-parseInt(_0x480e32(0x1a7))/0x5+parseInt(_0x480e32(0x199))/0x6+-parseInt(_0x480e32(0x1a0))/0x7*(-parseInt(_0x480e32(0x1bc))/0x8)+-parseInt(_0x480e32(0x1a5))/0x9*(-parseInt(_0x480e32(0x1b7))/0xa)+parseInt(_0x480e32(0x19f))/0xb;if(_0x5dd143===_0x35980d)break;else _0xa89e67['push'](_0xa89e67['shift']());}catch(_0x100751){_0xa89e67['push'](_0xa89e67['shift']());}}}(a290_0x1778,0xd9b4d));const a290_0xef2636=(function(){let _0x47eafa=!![];return function(_0x320042,_0x35795a){const _0x41bd3f=_0x47eafa?function(){const _0x1b17ad=a290_0x2465;if(_0x35795a){const _0xf18a62=_0x35795a[_0x1b17ad(0x1ad)](_0x320042,arguments);return _0x35795a=null,_0xf18a62;}}:function(){};return _0x47eafa=![],_0x41bd3f;};}()),a290_0x73465d=a290_0xef2636(this,function(){const _0x15430e=a290_0x2465;return a290_0x73465d[_0x15430e(0x1aa)]()[_0x15430e(0x1bd)]('(((.+)+)+)+$')[_0x15430e(0x1aa)]()[_0x15430e(0x19a)](a290_0x73465d)[_0x15430e(0x1bd)]('(((.+)+)+)+$');});a290_0x73465d();'use strict';var __importDefault=this&&this[a290_0x175f5a(0x1bb)]||function(_0x3d342b){return _0x3d342b&&_0x3d342b['__esModule']?_0x3d342b:{'default':_0x3d342b};};Object[a290_0x175f5a(0x191)](exports,a290_0x175f5a(0x1ae),{'value':!![]});function a290_0x2465(_0x6b6d2e,_0xf9e441){const _0x3dd34a=a290_0x1778();return a290_0x2465=function(_0x73465d,_0xef2636){_0x73465d=_0x73465d-0x191;let _0x17787b=_0x3dd34a[_0x73465d];return _0x17787b;},a290_0x2465(_0x6b6d2e,_0xf9e441);}const path_1=__importDefault(require('path')),spawn_utils_1=require(a290_0x175f5a(0x1b4)),core_1=require(a290_0x175f5a(0x196)),shortid_1=__importDefault(require(a290_0x175f5a(0x1ac))),utils_1=require(a290_0x175f5a(0x1b5)),promises_1=require(a290_0x175f5a(0x1b1)),job_1=require('../../../constants/job');class JobUtils{static['generateJobId'](){const _0x5963a5=a290_0x175f5a;return(0x0,shortid_1[_0x5963a5(0x1a2)])();}static['runJob'](_0x117b4a,_0xf08918){return new Promise((_0x1b0f99,_0xe49645)=>{const _0x2f8097=a290_0x2465,{jobStorePath:_0x45e159,jobId:_0xca981f}=_0xf08918,_0x5e0af4=(0x0,spawn_utils_1[_0x2f8097(0x1b9)])(_0x117b4a,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x45e159,'jobId':_0xca981f})),_0x156b1d=new core_1['Logger'](_0xca981f);_0x5e0af4[_0x2f8097(0x1ab)](_0x2f8097(0x19b),_0x2a1ef0=>{const _0x22002b=_0x2f8097,_0x59b04f=_0x22002b(0x198)+_0x2a1ef0;_0x156b1d['log'](_0x59b04f),_0x2a1ef0===0x0?_0x1b0f99(_0x59b04f):_0xe49645(new Error(_0x59b04f));});});}static async[a290_0x175f5a(0x19e)](_0x2ab072){const _0x27f04e=a290_0x175f5a;if(!await utils_1[_0x27f04e(0x1b0)][_0x27f04e(0x1a6)](_0x2ab072))return[];const _0x1d1d45=await(0x0,promises_1[_0x27f04e(0x19c)])(_0x2ab072,{'withFileTypes':!![]}),_0x4f891c=_0x1d1d45[_0x27f04e(0x1ba)](_0x2cef48=>_0x2cef48[_0x27f04e(0x192)]())[_0x27f04e(0x1b6)](_0x54ee2c=>_0x54ee2c[_0x27f04e(0x1a3)]),_0x23b2ac=[];for(const _0x5be07b of _0x4f891c){const _0x32440c=path_1['default'][_0x27f04e(0x1b2)](_0x2ab072,_0x5be07b,job_1[_0x27f04e(0x1b3)]);await utils_1[_0x27f04e(0x1b0)][_0x27f04e(0x1a6)](_0x32440c)&&_0x23b2ac['push'](_0x5be07b);}return _0x23b2ac;}static async[a290_0x175f5a(0x195)](_0x310a7e,_0x599366){const _0x243ff9=a290_0x175f5a,_0x2dd2ed=new Map();for(const _0x31a82d of _0x599366){const _0x41013e=await(0x0,promises_1[_0x243ff9(0x1a1)])(path_1['default'][_0x243ff9(0x1b2)](_0x310a7e,_0x31a82d));_0x2dd2ed[_0x243ff9(0x1af)](_0x41013e,_0x31a82d);}return Array[_0x243ff9(0x1a4)](_0x2dd2ed[_0x243ff9(0x197)]())[_0x243ff9(0x1a8)]((_0x515606,_0x20d08a)=>_0x20d08a[_0x243ff9(0x1a9)]-_0x515606[_0x243ff9(0x1a9)])['map'](_0x492ccc=>_0x2dd2ed['get'](_0x492ccc));}}exports[a290_0x175f5a(0x1a2)]=JobUtils;