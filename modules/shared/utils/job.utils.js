const a334_0x557c3c=a334_0x14a7;(function(_0x75e027,_0x2d18a8){const _0xa17d23=a334_0x14a7,_0x1600de=_0x75e027();while(!![]){try{const _0x15efa6=-parseInt(_0xa17d23(0x103))/0x1*(-parseInt(_0xa17d23(0x108))/0x2)+parseInt(_0xa17d23(0x105))/0x3*(parseInt(_0xa17d23(0x10d))/0x4)+parseInt(_0xa17d23(0x118))/0x5+parseInt(_0xa17d23(0x113))/0x6+-parseInt(_0xa17d23(0x110))/0x7+parseInt(_0xa17d23(0x104))/0x8+parseInt(_0xa17d23(0xf8))/0x9*(-parseInt(_0xa17d23(0xf4))/0xa);if(_0x15efa6===_0x2d18a8)break;else _0x1600de['push'](_0x1600de['shift']());}catch(_0x4ec843){_0x1600de['push'](_0x1600de['shift']());}}}(a334_0xacf1,0xd0f23));const a334_0x3a28f5=(function(){let _0x4b6830=!![];return function(_0x590680,_0x55a0e8){const _0x33fc8b=_0x4b6830?function(){const _0xb769bc=a334_0x14a7;if(_0x55a0e8){const _0x447aa5=_0x55a0e8[_0xb769bc(0x112)](_0x590680,arguments);return _0x55a0e8=null,_0x447aa5;}}:function(){};return _0x4b6830=![],_0x33fc8b;};}()),a334_0x565cef=a334_0x3a28f5(this,function(){const _0x378123=a334_0x14a7;return a334_0x565cef[_0x378123(0x101)]()['search']('(((.+)+)+)+$')['toString']()[_0x378123(0xff)](a334_0x565cef)[_0x378123(0x106)](_0x378123(0x115));});function a334_0xacf1(){const _0x46cb46=['Logger','executeInterpreter','name','get','FsUtils','generateJobId','constructor','join','toString','stat','1etjbNK','6396640sNmAgj','6441eAUoDy','search','objectToArgsList','1819242PyhgWz','default','shortid','@flosum/utils','filter','2164UwxAIx','./spawn.utils','set','10990616AupRjC','birthtime','apply','314112bNiuzP','JOB_LOG_STATE_FILENAME','(((.+)+)+)+$','isDirectory','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','1994315uNrgfg','../../../constants/job','getJobsIds','40nwiOEo','map','isExistsPath','runJob','2016027uWPreA'];a334_0xacf1=function(){return _0x46cb46;};return a334_0xacf1();}function a334_0x14a7(_0xfbe157,_0x3ec562){const _0x4fa61a=a334_0xacf1();return a334_0x14a7=function(_0x565cef,_0x3a28f5){_0x565cef=_0x565cef-0xf4;let _0xacf17e=_0x4fa61a[_0x565cef];return _0xacf17e;},a334_0x14a7(_0xfbe157,_0x3ec562);}a334_0x565cef();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xdf84db){return _0xdf84db&&_0xdf84db['__esModule']?_0xdf84db:{'default':_0xdf84db};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require('path')),spawn_utils_1=require(a334_0x557c3c(0x10e)),core_1=require('../../../core'),shortid_1=__importDefault(require(a334_0x557c3c(0x10a))),utils_1=require(a334_0x557c3c(0x10b)),promises_1=require('fs/promises'),job_1=require(a334_0x557c3c(0x119));class JobUtils{static[a334_0x557c3c(0xfe)](){return(0x0,shortid_1['default'])();}static[a334_0x557c3c(0xf7)](_0x3af37f,_0xe04f0f){return new Promise((_0x30c7f8,_0x5eb0e9)=>{const _0x216397=a334_0x14a7,{jobStorePath:_0x17baae,jobId:_0xbcbdac}=_0xe04f0f,_0x28eebc=(0x0,spawn_utils_1[_0x216397(0xfa)])(_0x3af37f,...(0x0,spawn_utils_1[_0x216397(0x107)])({'jobStorePath':_0x17baae,'jobId':_0xbcbdac})),_0x13411d=new core_1[(_0x216397(0xf9))](_0xbcbdac);_0x28eebc['once']('close',_0x59dc5b=>{const _0xe6e6d1=_0x216397,_0x933fd5=_0xe6e6d1(0x117)+_0x59dc5b;_0x13411d['log'](_0x933fd5),_0x59dc5b===0x0?_0x30c7f8(_0x933fd5):_0x5eb0e9(new Error(_0x933fd5));});});}static async[a334_0x557c3c(0x11a)](_0x4f2dc3){const _0x57b71d=a334_0x557c3c;if(!await utils_1[_0x57b71d(0xfd)]['isExistsPath'](_0x4f2dc3))return[];const _0x456b87=await(0x0,promises_1['readdir'])(_0x4f2dc3,{'withFileTypes':!![]}),_0x4093b4=_0x456b87[_0x57b71d(0x10c)](_0x4cac14=>_0x4cac14[_0x57b71d(0x116)]())['map'](_0x26c8c8=>_0x26c8c8[_0x57b71d(0xfb)]),_0x5e5bcc=[];for(const _0x26c589 of _0x4093b4){const _0xac2882=path_1['default'][_0x57b71d(0x100)](_0x4f2dc3,_0x26c589,job_1[_0x57b71d(0x114)]);await utils_1[_0x57b71d(0xfd)][_0x57b71d(0xf6)](_0xac2882)&&_0x5e5bcc['push'](_0x26c589);}return _0x5e5bcc;}static async['sortJobsIds'](_0x5ca109,_0x279464){const _0x41fc50=a334_0x557c3c,_0x637d75=new Map();for(const _0x2d19cc of _0x279464){const _0x3e65ed=await(0x0,promises_1[_0x41fc50(0x102)])(path_1[_0x41fc50(0x109)][_0x41fc50(0x100)](_0x5ca109,_0x2d19cc));_0x637d75[_0x41fc50(0x10f)](_0x3e65ed,_0x2d19cc);}return Array['from'](_0x637d75['keys']())['sort']((_0x28ed6,_0x17c279)=>_0x17c279[_0x41fc50(0x111)]-_0x28ed6[_0x41fc50(0x111)])[_0x41fc50(0xf5)](_0x24380b=>_0x637d75[_0x41fc50(0xfc)](_0x24380b));}}exports[a334_0x557c3c(0x109)]=JobUtils;