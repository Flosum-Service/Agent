const a322_0x35460b=a322_0x3fbe;function a322_0x143c(){const _0x3dfda3=['74545KfBvSd','476706vdXDON','stat','default','fs/promises','get','./spawn.utils','FsUtils','getJobsIds','map','readdir','505590OATQEc','runJob','sort','855CpAgHc','name','executeInterpreter','search','66727xLtujl','isExistsPath','generateJobId','birthtime','2vbjdVI','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','constructor','shortid','push','sortJobsIds','join','apply','toString','5222406fAcjLa','(((.+)+)+)+$','set','188870loauXM','../../../constants/job','4092352MQPcaH','objectToArgsList','236sGkLUE','__importDefault','../../../core','path','keys','log','defineProperty','__esModule'];a322_0x143c=function(){return _0x3dfda3;};return a322_0x143c();}(function(_0x2237f9,_0x118ce8){const _0x4e6388=a322_0x3fbe,_0x37487c=_0x2237f9();while(!![]){try{const _0xf4a6d6=-parseInt(_0x4e6388(0x1a1))/0x1*(-parseInt(_0x4e6388(0x1a5))/0x2)+parseInt(_0x4e6388(0x19a))/0x3+parseInt(_0x4e6388(0x187))/0x4*(parseInt(_0x4e6388(0x18f))/0x5)+-parseInt(_0x4e6388(0x190))/0x6+parseInt(_0x4e6388(0x1ae))/0x7+parseInt(_0x4e6388(0x185))/0x8+-parseInt(_0x4e6388(0x19d))/0x9*(parseInt(_0x4e6388(0x1b1))/0xa);if(_0xf4a6d6===_0x118ce8)break;else _0x37487c['push'](_0x37487c['shift']());}catch(_0x533dc0){_0x37487c['push'](_0x37487c['shift']());}}}(a322_0x143c,0x79c56));const a322_0x1c8c65=(function(){let _0x67835d=!![];return function(_0x1cc9cc,_0x525c5c){const _0x50ba42=_0x67835d?function(){const _0x578fb1=a322_0x3fbe;if(_0x525c5c){const _0x1d0612=_0x525c5c[_0x578fb1(0x1ac)](_0x1cc9cc,arguments);return _0x525c5c=null,_0x1d0612;}}:function(){};return _0x67835d=![],_0x50ba42;};}()),a322_0x31ca07=a322_0x1c8c65(this,function(){const _0x2ac248=a322_0x3fbe;return a322_0x31ca07[_0x2ac248(0x1ad)]()[_0x2ac248(0x1a0)](_0x2ac248(0x1af))[_0x2ac248(0x1ad)]()[_0x2ac248(0x1a7)](a322_0x31ca07)[_0x2ac248(0x1a0)]('(((.+)+)+)+$');});a322_0x31ca07();'use strict';var __importDefault=this&&this[a322_0x35460b(0x188)]||function(_0x400342){const _0x57c44b=a322_0x35460b;return _0x400342&&_0x400342[_0x57c44b(0x18e)]?_0x400342:{'default':_0x400342};};Object[a322_0x35460b(0x18d)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a322_0x35460b(0x18a))),spawn_utils_1=require(a322_0x35460b(0x195)),core_1=require(a322_0x35460b(0x189)),shortid_1=__importDefault(require(a322_0x35460b(0x1a8))),utils_1=require('@flosum/utils'),promises_1=require(a322_0x35460b(0x193)),job_1=require(a322_0x35460b(0x184));class JobUtils{static[a322_0x35460b(0x1a3)](){const _0x194995=a322_0x35460b;return(0x0,shortid_1[_0x194995(0x192)])();}static[a322_0x35460b(0x19b)](_0x4ba01e,_0x200697){return new Promise((_0x192903,_0x1727df)=>{const _0x3ca404=a322_0x3fbe,{jobStorePath:_0x3eb371,jobId:_0x141ba4}=_0x200697,_0x410f8f=(0x0,spawn_utils_1[_0x3ca404(0x19f)])(_0x4ba01e,...(0x0,spawn_utils_1[_0x3ca404(0x186)])({'jobStorePath':_0x3eb371,'jobId':_0x141ba4})),_0x3a6b5e=new core_1['Logger'](_0x141ba4);_0x410f8f['once']('close',_0x1bdd87=>{const _0x58cb81=_0x3ca404,_0x184578=_0x58cb81(0x1a6)+_0x1bdd87;_0x3a6b5e[_0x58cb81(0x18c)](_0x184578),_0x1bdd87===0x0?_0x192903(_0x184578):_0x1727df(new Error(_0x184578));});});}static async[a322_0x35460b(0x197)](_0x12be56){const _0x427e8e=a322_0x35460b;if(!await utils_1[_0x427e8e(0x196)][_0x427e8e(0x1a2)](_0x12be56))return[];const _0x15c227=await(0x0,promises_1[_0x427e8e(0x199)])(_0x12be56,{'withFileTypes':!![]}),_0x5bb852=_0x15c227['filter'](_0x180e34=>_0x180e34['isDirectory']())['map'](_0x5d4e18=>_0x5d4e18[_0x427e8e(0x19e)]),_0x6b9b51=[];for(const _0x35cad7 of _0x5bb852){const _0x3c60cc=path_1[_0x427e8e(0x192)][_0x427e8e(0x1ab)](_0x12be56,_0x35cad7,job_1['JOB_LOG_STATE_FILENAME']);await utils_1[_0x427e8e(0x196)][_0x427e8e(0x1a2)](_0x3c60cc)&&_0x6b9b51[_0x427e8e(0x1a9)](_0x35cad7);}return _0x6b9b51;}static async[a322_0x35460b(0x1aa)](_0x473471,_0x27962d){const _0x5d349a=a322_0x35460b,_0x1e52f7=new Map();for(const _0x1b5fcb of _0x27962d){const _0x59db51=await(0x0,promises_1[_0x5d349a(0x191)])(path_1[_0x5d349a(0x192)]['join'](_0x473471,_0x1b5fcb));_0x1e52f7[_0x5d349a(0x1b0)](_0x59db51,_0x1b5fcb);}return Array['from'](_0x1e52f7[_0x5d349a(0x18b)]())[_0x5d349a(0x19c)]((_0x128990,_0x28ff58)=>_0x28ff58[_0x5d349a(0x1a4)]-_0x128990[_0x5d349a(0x1a4)])[_0x5d349a(0x198)](_0x499fc1=>_0x1e52f7[_0x5d349a(0x194)](_0x499fc1));}}function a322_0x3fbe(_0x35b177,_0x501043){const _0x591908=a322_0x143c();return a322_0x3fbe=function(_0x31ca07,_0x1c8c65){_0x31ca07=_0x31ca07-0x184;let _0x143c95=_0x591908[_0x31ca07];return _0x143c95;},a322_0x3fbe(_0x35b177,_0x501043);}exports[a322_0x35460b(0x192)]=JobUtils;