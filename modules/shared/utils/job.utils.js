const a334_0x5e3bce=a334_0x18fe;(function(_0x2e3b73,_0x4f0e33){const _0x32c691=a334_0x18fe,_0x434259=_0x2e3b73();while(!![]){try{const _0x2cc08c=-parseInt(_0x32c691(0x152))/0x1*(parseInt(_0x32c691(0x131))/0x2)+-parseInt(_0x32c691(0x14a))/0x3*(parseInt(_0x32c691(0x133))/0x4)+-parseInt(_0x32c691(0x158))/0x5*(-parseInt(_0x32c691(0x135))/0x6)+parseInt(_0x32c691(0x155))/0x7+-parseInt(_0x32c691(0x13d))/0x8+-parseInt(_0x32c691(0x137))/0x9*(parseInt(_0x32c691(0x151))/0xa)+parseInt(_0x32c691(0x14c))/0xb;if(_0x2cc08c===_0x4f0e33)break;else _0x434259['push'](_0x434259['shift']());}catch(_0x1ba09c){_0x434259['push'](_0x434259['shift']());}}}(a334_0x2d2a,0x49f3c));const a334_0x53635e=(function(){let _0x394fe5=!![];return function(_0x4d9681,_0x296cca){const _0x25cc69=_0x394fe5?function(){const _0xad91f=a334_0x18fe;if(_0x296cca){const _0x40e6b9=_0x296cca[_0xad91f(0x141)](_0x4d9681,arguments);return _0x296cca=null,_0x40e6b9;}}:function(){};return _0x394fe5=![],_0x25cc69;};}()),a334_0xe230ed=a334_0x53635e(this,function(){const _0x3d5c2b=a334_0x18fe;return a334_0xe230ed[_0x3d5c2b(0x150)]()['search'](_0x3d5c2b(0x14f))['toString']()['constructor'](a334_0xe230ed)[_0x3d5c2b(0x15b)](_0x3d5c2b(0x14f));});a334_0xe230ed();function a334_0x2d2a(){const _0x1ed983=['__esModule','isDirectory','2679754oSvsNC','../../../constants/job','from','5zAgkua','name','FsUtils','search','once','268BXiKgi','get','4BYFjSb','set','3076446NirNfK','default','112527GKvjnN','path','push','getJobsIds','runJob','isExistsPath','4745768QmYBLa','JOB_LOG_STATE_FILENAME','__importDefault','log','apply','map','filter','sortJobsIds','fs/promises','birthtime','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','join','./spawn.utils','717339eOqNJy','close','7797394kKRKXI','../../../core','shortid','(((.+)+)+)+$','toString','10hVSYYZ','3408fYPTIO'];a334_0x2d2a=function(){return _0x1ed983;};return a334_0x2d2a();}'use strict';var __importDefault=this&&this[a334_0x5e3bce(0x13f)]||function(_0x2d888e){const _0x7d3946=a334_0x5e3bce;return _0x2d888e&&_0x2d888e[_0x7d3946(0x153)]?_0x2d888e:{'default':_0x2d888e};};function a334_0x18fe(_0x543b31,_0x1e6696){const _0x37fbb9=a334_0x2d2a();return a334_0x18fe=function(_0xe230ed,_0x53635e){_0xe230ed=_0xe230ed-0x131;let _0x2d2a2b=_0x37fbb9[_0xe230ed];return _0x2d2a2b;},a334_0x18fe(_0x543b31,_0x1e6696);}Object['defineProperty'](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a334_0x5e3bce(0x138))),spawn_utils_1=require(a334_0x5e3bce(0x149)),core_1=require(a334_0x5e3bce(0x14d)),shortid_1=__importDefault(require(a334_0x5e3bce(0x14e))),utils_1=require('@flosum/utils'),promises_1=require(a334_0x5e3bce(0x145)),job_1=require(a334_0x5e3bce(0x156));class JobUtils{static['generateJobId'](){const _0x867324=a334_0x5e3bce;return(0x0,shortid_1[_0x867324(0x136)])();}static[a334_0x5e3bce(0x13b)](_0x2fa14a,_0x2f0533){return new Promise((_0x8c0179,_0x46b5b6)=>{const _0x4e5cd2=a334_0x18fe,{jobStorePath:_0x145fcc,jobId:_0x49f9ce}=_0x2f0533,_0x530d4c=(0x0,spawn_utils_1['executeInterpreter'])(_0x2fa14a,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x145fcc,'jobId':_0x49f9ce})),_0x5c6ff1=new core_1['Logger'](_0x49f9ce);_0x530d4c[_0x4e5cd2(0x15c)](_0x4e5cd2(0x14b),_0x2b9b95=>{const _0x437566=_0x4e5cd2,_0x2dd995=_0x437566(0x147)+_0x2b9b95;_0x5c6ff1[_0x437566(0x140)](_0x2dd995),_0x2b9b95===0x0?_0x8c0179(_0x2dd995):_0x46b5b6(new Error(_0x2dd995));});});}static async[a334_0x5e3bce(0x13a)](_0x52fee){const _0x18fd72=a334_0x5e3bce;if(!await utils_1[_0x18fd72(0x15a)]['isExistsPath'](_0x52fee))return[];const _0x1d123e=await(0x0,promises_1['readdir'])(_0x52fee,{'withFileTypes':!![]}),_0x3f0b03=_0x1d123e[_0x18fd72(0x143)](_0xdded06=>_0xdded06[_0x18fd72(0x154)]())[_0x18fd72(0x142)](_0x30ce86=>_0x30ce86[_0x18fd72(0x159)]),_0x49d507=[];for(const _0x2080e0 of _0x3f0b03){const _0x395a2f=path_1['default']['join'](_0x52fee,_0x2080e0,job_1[_0x18fd72(0x13e)]);await utils_1['FsUtils'][_0x18fd72(0x13c)](_0x395a2f)&&_0x49d507[_0x18fd72(0x139)](_0x2080e0);}return _0x49d507;}static async[a334_0x5e3bce(0x144)](_0x506568,_0xa43e84){const _0x52c210=a334_0x5e3bce,_0x6a704c=new Map();for(const _0x35afae of _0xa43e84){const _0x782893=await(0x0,promises_1['stat'])(path_1[_0x52c210(0x136)][_0x52c210(0x148)](_0x506568,_0x35afae));_0x6a704c[_0x52c210(0x134)](_0x782893,_0x35afae);}return Array[_0x52c210(0x157)](_0x6a704c['keys']())['sort']((_0x46f436,_0xdc6662)=>_0xdc6662[_0x52c210(0x146)]-_0x46f436['birthtime'])[_0x52c210(0x142)](_0x280639=>_0x6a704c[_0x52c210(0x132)](_0x280639));}}exports[a334_0x5e3bce(0x136)]=JobUtils;