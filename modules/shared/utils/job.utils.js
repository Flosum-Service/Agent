const a290_0xafeae6=a290_0x14f8;(function(_0x3691fc,_0x13dca4){const _0x55267e=a290_0x14f8,_0x3abe34=_0x3691fc();while(!![]){try{const _0x42ec40=parseInt(_0x55267e(0x202))/0x1+-parseInt(_0x55267e(0x210))/0x2*(-parseInt(_0x55267e(0x1ff))/0x3)+-parseInt(_0x55267e(0x208))/0x4*(-parseInt(_0x55267e(0x206))/0x5)+-parseInt(_0x55267e(0x215))/0x6+-parseInt(_0x55267e(0x204))/0x7+parseInt(_0x55267e(0x1fa))/0x8+-parseInt(_0x55267e(0x1f1))/0x9*(parseInt(_0x55267e(0x1fd))/0xa);if(_0x42ec40===_0x13dca4)break;else _0x3abe34['push'](_0x3abe34['shift']());}catch(_0x4d0f9f){_0x3abe34['push'](_0x3abe34['shift']());}}}(a290_0xce3c,0xeb157));const a290_0x51c067=(function(){let _0x582603=!![];return function(_0x225555,_0x5151e2){const _0x1b0403=_0x582603?function(){if(_0x5151e2){const _0x39f816=_0x5151e2['apply'](_0x225555,arguments);return _0x5151e2=null,_0x39f816;}}:function(){};return _0x582603=![],_0x1b0403;};}()),a290_0x326526=a290_0x51c067(this,function(){const _0x181410=a290_0x14f8;return a290_0x326526[_0x181410(0x1f8)]()[_0x181410(0x20b)](_0x181410(0x1f2))['toString']()[_0x181410(0x21a)](a290_0x326526)[_0x181410(0x20b)](_0x181410(0x1f2));});function a290_0xce3c(){const _0x42a03e=['keys','name','isExistsPath','5989758MhaSdB','runJob','getJobsIds','close','get','constructor','2689434BzomEu','(((.+)+)+)+$','FsUtils','Logger','join','../../../core','path','toString','readdir','7266976fpyYVW','from','birthtime','50hUrVXt','objectToArgsList','78dNjIYc','JOB_LOG_STATE_FILENAME','@flosum/utils','1096739HBetUY','__esModule','4426317xVumIP','executeInterpreter','40ILhqsb','sortJobsIds','573884tHVyNR','shortid','push','search','stat','default','__importDefault','once','71906jMIMhE','map'];a290_0xce3c=function(){return _0x42a03e;};return a290_0xce3c();}a290_0x326526();'use strict';var __importDefault=this&&this[a290_0xafeae6(0x20e)]||function(_0x10abb5){const _0x11850a=a290_0xafeae6;return _0x10abb5&&_0x10abb5[_0x11850a(0x203)]?_0x10abb5:{'default':_0x10abb5};};function a290_0x14f8(_0x44a176,_0xc282bf){const _0x3596f0=a290_0xce3c();return a290_0x14f8=function(_0x326526,_0x51c067){_0x326526=_0x326526-0x1f1;let _0xce3cfc=_0x3596f0[_0x326526];return _0xce3cfc;},a290_0x14f8(_0x44a176,_0xc282bf);}Object['defineProperty'](exports,a290_0xafeae6(0x203),{'value':!![]});const path_1=__importDefault(require(a290_0xafeae6(0x1f7))),spawn_utils_1=require('./spawn.utils'),core_1=require(a290_0xafeae6(0x1f6)),shortid_1=__importDefault(require(a290_0xafeae6(0x209))),utils_1=require(a290_0xafeae6(0x201)),promises_1=require('fs/promises'),job_1=require('../../../constants/job');class JobUtils{static['generateJobId'](){return(0x0,shortid_1['default'])();}static[a290_0xafeae6(0x216)](_0x5af61,_0x55090d){return new Promise((_0x18d699,_0x4c0cc4)=>{const _0x5d9cc6=a290_0x14f8,{jobStorePath:_0x31e0cb,jobId:_0x5dbcaa}=_0x55090d,_0x4671e5=(0x0,spawn_utils_1[_0x5d9cc6(0x205)])(_0x5af61,...(0x0,spawn_utils_1[_0x5d9cc6(0x1fe)])({'jobStorePath':_0x31e0cb,'jobId':_0x5dbcaa})),_0x1ada2b=new core_1[(_0x5d9cc6(0x1f4))](_0x5dbcaa);_0x4671e5[_0x5d9cc6(0x20f)](_0x5d9cc6(0x218),_0x5d7ce4=>{const _0x4d3ac9='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x5d7ce4;_0x1ada2b['log'](_0x4d3ac9),_0x5d7ce4===0x0?_0x18d699(_0x4d3ac9):_0x4c0cc4(new Error(_0x4d3ac9));});});}static async[a290_0xafeae6(0x217)](_0x1f6164){const _0x301da3=a290_0xafeae6;if(!await utils_1[_0x301da3(0x1f3)][_0x301da3(0x214)](_0x1f6164))return[];const _0x4743c0=await(0x0,promises_1[_0x301da3(0x1f9)])(_0x1f6164,{'withFileTypes':!![]}),_0x592a37=_0x4743c0['filter'](_0x10c822=>_0x10c822['isDirectory']())[_0x301da3(0x211)](_0x3198a2=>_0x3198a2[_0x301da3(0x213)]),_0x574a05=[];for(const _0x1b906a of _0x592a37){const _0x2d2780=path_1[_0x301da3(0x20d)][_0x301da3(0x1f5)](_0x1f6164,_0x1b906a,job_1[_0x301da3(0x200)]);await utils_1[_0x301da3(0x1f3)][_0x301da3(0x214)](_0x2d2780)&&_0x574a05[_0x301da3(0x20a)](_0x1b906a);}return _0x574a05;}static async[a290_0xafeae6(0x207)](_0x383e1c,_0x3dc729){const _0x2aa7f3=a290_0xafeae6,_0x5e3b82=new Map();for(const _0x5a8269 of _0x3dc729){const _0xebab1a=await(0x0,promises_1[_0x2aa7f3(0x20c)])(path_1[_0x2aa7f3(0x20d)][_0x2aa7f3(0x1f5)](_0x383e1c,_0x5a8269));_0x5e3b82['set'](_0xebab1a,_0x5a8269);}return Array[_0x2aa7f3(0x1fb)](_0x5e3b82[_0x2aa7f3(0x212)]())['sort']((_0x24fb8b,_0x4b105a)=>_0x4b105a['birthtime']-_0x24fb8b[_0x2aa7f3(0x1fc)])['map'](_0x414797=>_0x5e3b82[_0x2aa7f3(0x219)](_0x414797));}}exports[a290_0xafeae6(0x20d)]=JobUtils;