function a290_0x24a8(){const _0x2d15b3=['./spawn.utils','(((.+)+)+)+$','join','readdir','stat','isDirectory','push','default','FsUtils','set','2730462qQUkYn','sortJobsIds','once','17506328oYRgTy','map','from','birthtime','1809110cXHbhZ','2359QcRdko','constructor','@flosum/utils','sort','3738988rLqujn','shortid','../../../constants/job','get','fs/promises','close','880638wfEGqB','toString','1519120jmDGhP','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','defineProperty','10206KOhUaE','runJob','isExistsPath','apply','keys'];a290_0x24a8=function(){return _0x2d15b3;};return a290_0x24a8();}const a290_0xba1e2b=a290_0xcbe3;function a290_0xcbe3(_0x15a65e,_0x10eedc){const _0x2ac40f=a290_0x24a8();return a290_0xcbe3=function(_0x33db3a,_0x9bf6ca){_0x33db3a=_0x33db3a-0xa1;let _0x24a8b0=_0x2ac40f[_0x33db3a];return _0x24a8b0;},a290_0xcbe3(_0x15a65e,_0x10eedc);}(function(_0x4d7157,_0x5d24e7){const _0x3433a8=a290_0xcbe3,_0x19c48e=_0x4d7157();while(!![]){try{const _0x218b46=parseInt(_0x3433a8(0xab))/0x1+-parseInt(_0x3433a8(0xc6))/0x2+-parseInt(_0x3433a8(0xbf))/0x3+-parseInt(_0x3433a8(0xa5))/0x4+-parseInt(_0x3433a8(0xad))/0x5+parseInt(_0x3433a8(0xb0))/0x6*(parseInt(_0x3433a8(0xa1))/0x7)+parseInt(_0x3433a8(0xc2))/0x8;if(_0x218b46===_0x5d24e7)break;else _0x19c48e['push'](_0x19c48e['shift']());}catch(_0x2a9945){_0x19c48e['push'](_0x19c48e['shift']());}}}(a290_0x24a8,0x8fc56));const a290_0x9bf6ca=(function(){let _0x2eb3df=!![];return function(_0x370da4,_0x585f16){const _0x52a4e7=_0x2eb3df?function(){const _0x5763fc=a290_0xcbe3;if(_0x585f16){const _0xe61658=_0x585f16[_0x5763fc(0xb3)](_0x370da4,arguments);return _0x585f16=null,_0xe61658;}}:function(){};return _0x2eb3df=![],_0x52a4e7;};}()),a290_0x33db3a=a290_0x9bf6ca(this,function(){const _0x1eedc8=a290_0xcbe3;return a290_0x33db3a[_0x1eedc8(0xac)]()['search'](_0x1eedc8(0xb6))[_0x1eedc8(0xac)]()[_0x1eedc8(0xa2)](a290_0x33db3a)['search'](_0x1eedc8(0xb6));});a290_0x33db3a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x16f724){return _0x16f724&&_0x16f724['__esModule']?_0x16f724:{'default':_0x16f724};};Object[a290_0xba1e2b(0xaf)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require('path')),spawn_utils_1=require(a290_0xba1e2b(0xb5)),core_1=require('../../../core'),shortid_1=__importDefault(require(a290_0xba1e2b(0xa6))),utils_1=require(a290_0xba1e2b(0xa3)),promises_1=require(a290_0xba1e2b(0xa9)),job_1=require(a290_0xba1e2b(0xa7));class JobUtils{static['generateJobId'](){return(0x0,shortid_1['default'])();}static[a290_0xba1e2b(0xb1)](_0x41bfa2,_0x4d8068){return new Promise((_0x89383e,_0x1c9a8b)=>{const _0x1615ae=a290_0xcbe3,{jobStorePath:_0x33700e,jobId:_0x364fef}=_0x4d8068,_0x4677a9=(0x0,spawn_utils_1['executeInterpreter'])(_0x41bfa2,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x33700e,'jobId':_0x364fef})),_0xd7dcbe=new core_1['Logger'](_0x364fef);_0x4677a9[_0x1615ae(0xc1)](_0x1615ae(0xaa),_0x19f8b3=>{const _0x516786=_0x1615ae,_0x58a608=_0x516786(0xae)+_0x19f8b3;_0xd7dcbe['log'](_0x58a608),_0x19f8b3===0x0?_0x89383e(_0x58a608):_0x1c9a8b(new Error(_0x58a608));});});}static async['getJobsIds'](_0x123cef){const _0x4f1097=a290_0xba1e2b;if(!await utils_1[_0x4f1097(0xbd)][_0x4f1097(0xb2)](_0x123cef))return[];const _0x184368=await(0x0,promises_1[_0x4f1097(0xb8)])(_0x123cef,{'withFileTypes':!![]}),_0x2f88d4=_0x184368['filter'](_0x566657=>_0x566657[_0x4f1097(0xba)]())[_0x4f1097(0xc3)](_0x55aa00=>_0x55aa00['name']),_0x491360=[];for(const _0x2394b5 of _0x2f88d4){const _0x462ed5=path_1[_0x4f1097(0xbc)][_0x4f1097(0xb7)](_0x123cef,_0x2394b5,job_1['JOB_LOG_STATE_FILENAME']);await utils_1[_0x4f1097(0xbd)][_0x4f1097(0xb2)](_0x462ed5)&&_0x491360[_0x4f1097(0xbb)](_0x2394b5);}return _0x491360;}static async[a290_0xba1e2b(0xc0)](_0x54c70d,_0x4b91e3){const _0x41c247=a290_0xba1e2b,_0x3b74ce=new Map();for(const _0x3638cb of _0x4b91e3){const _0x17eea8=await(0x0,promises_1[_0x41c247(0xb9)])(path_1[_0x41c247(0xbc)][_0x41c247(0xb7)](_0x54c70d,_0x3638cb));_0x3b74ce[_0x41c247(0xbe)](_0x17eea8,_0x3638cb);}return Array[_0x41c247(0xc4)](_0x3b74ce[_0x41c247(0xb4)]())[_0x41c247(0xa4)]((_0x3e3732,_0x2186e9)=>_0x2186e9[_0x41c247(0xc5)]-_0x3e3732[_0x41c247(0xc5)])['map'](_0x32a3cf=>_0x3b74ce[_0x41c247(0xa8)](_0x32a3cf));}}exports['default']=JobUtils;