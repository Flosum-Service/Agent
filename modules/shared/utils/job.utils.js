const a335_0x4d964a=a335_0x1bbe;(function(_0xc76beb,_0x1382b6){const _0xc284dd=a335_0x1bbe,_0xd22531=_0xc76beb();while(!![]){try{const _0x4092d=parseInt(_0xc284dd(0xb4))/0x1*(-parseInt(_0xc284dd(0x9b))/0x2)+-parseInt(_0xc284dd(0x9e))/0x3*(parseInt(_0xc284dd(0xba))/0x4)+-parseInt(_0xc284dd(0xad))/0x5*(parseInt(_0xc284dd(0x90))/0x6)+parseInt(_0xc284dd(0xb0))/0x7+parseInt(_0xc284dd(0xa2))/0x8*(parseInt(_0xc284dd(0x99))/0x9)+parseInt(_0xc284dd(0xac))/0xa+-parseInt(_0xc284dd(0x95))/0xb*(-parseInt(_0xc284dd(0xb9))/0xc);if(_0x4092d===_0x1382b6)break;else _0xd22531['push'](_0xd22531['shift']());}catch(_0x51c7a6){_0xd22531['push'](_0xd22531['shift']());}}}(a335_0x7870,0x8d197));const a335_0x26e7c7=(function(){let _0x3e49e8=!![];return function(_0x47c46a,_0x475c14){const _0x1e6947=_0x3e49e8?function(){const _0x2d5562=a335_0x1bbe;if(_0x475c14){const _0x403ed6=_0x475c14[_0x2d5562(0xb6)](_0x47c46a,arguments);return _0x475c14=null,_0x403ed6;}}:function(){};return _0x3e49e8=![],_0x1e6947;};}()),a335_0x946d4e=a335_0x26e7c7(this,function(){const _0x522345=a335_0x1bbe;return a335_0x946d4e[_0x522345(0x93)]()['search'](_0x522345(0x91))[_0x522345(0x93)]()['constructor'](a335_0x946d4e)[_0x522345(0xaf)](_0x522345(0x91));});a335_0x946d4e();'use strict';var __importDefault=this&&this[a335_0x4d964a(0x8e)]||function(_0x2b8d47){const _0x3e62f3=a335_0x4d964a;return _0x2b8d47&&_0x2b8d47[_0x3e62f3(0xa4)]?_0x2b8d47:{'default':_0x2b8d47};};Object['defineProperty'](exports,'__esModule',{'value':!![]});function a335_0x7870(){const _0x202cfd=['apply','isDirectory','get','12eKQYPa','234352oJAcjV','__importDefault','../../../constants/job','168PEcTTZ','(((.+)+)+)+$','runJob','toString','sort','29881137XhXKpO','JOB_LOG_STATE_FILENAME','fs/promises','stat','1620qWawRY','birthtime','2tLqhjz','executeInterpreter','default','48STEvQf','generateJobId','close','FsUtils','19920xivWBo','filter','__esModule','set','once','sortJobsIds','shortid','log','isExistsPath','Logger','555780OMdYDb','116785nkHCFF','map','search','225645qztJCk','getJobsIds','push','join','1083133wrkHlr','@flosum/utils'];a335_0x7870=function(){return _0x202cfd;};return a335_0x7870();}function a335_0x1bbe(_0x4997ee,_0x489b40){const _0x3c7dba=a335_0x7870();return a335_0x1bbe=function(_0x946d4e,_0x26e7c7){_0x946d4e=_0x946d4e-0x8e;let _0x787083=_0x3c7dba[_0x946d4e];return _0x787083;},a335_0x1bbe(_0x4997ee,_0x489b40);}const path_1=__importDefault(require('path')),spawn_utils_1=require('./spawn.utils'),core_1=require('../../../core'),shortid_1=__importDefault(require(a335_0x4d964a(0xa8))),utils_1=require(a335_0x4d964a(0xb5)),promises_1=require(a335_0x4d964a(0x97)),job_1=require(a335_0x4d964a(0x8f));class JobUtils{static[a335_0x4d964a(0x9f)](){return(0x0,shortid_1['default'])();}static[a335_0x4d964a(0x92)](_0x32004f,_0x37ef9f){return new Promise((_0x55471b,_0x393309)=>{const _0x466254=a335_0x1bbe,{jobStorePath:_0x4fce5e,jobId:_0x55668d}=_0x37ef9f,_0x70b58=(0x0,spawn_utils_1[_0x466254(0x9c)])(_0x32004f,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x4fce5e,'jobId':_0x55668d})),_0x4ef3b8=new core_1[(_0x466254(0xab))](_0x55668d);_0x70b58[_0x466254(0xa6)](_0x466254(0xa0),_0x18e44c=>{const _0x2a91fa=_0x466254,_0x56b6a0='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x18e44c;_0x4ef3b8[_0x2a91fa(0xa9)](_0x56b6a0),_0x18e44c===0x0?_0x55471b(_0x56b6a0):_0x393309(new Error(_0x56b6a0));});});}static async[a335_0x4d964a(0xb1)](_0x538122){const _0xbaa51=a335_0x4d964a;if(!await utils_1[_0xbaa51(0xa1)][_0xbaa51(0xaa)](_0x538122))return[];const _0x532483=await(0x0,promises_1['readdir'])(_0x538122,{'withFileTypes':!![]}),_0x5bc0a2=_0x532483[_0xbaa51(0xa3)](_0x8a6213=>_0x8a6213[_0xbaa51(0xb7)]())[_0xbaa51(0xae)](_0x8fb83f=>_0x8fb83f['name']),_0x5797ea=[];for(const _0x99b942 of _0x5bc0a2){const _0x332af6=path_1['default'][_0xbaa51(0xb3)](_0x538122,_0x99b942,job_1[_0xbaa51(0x96)]);await utils_1['FsUtils']['isExistsPath'](_0x332af6)&&_0x5797ea[_0xbaa51(0xb2)](_0x99b942);}return _0x5797ea;}static async[a335_0x4d964a(0xa7)](_0x406202,_0x3f8a47){const _0x134c7a=a335_0x4d964a,_0x3b7fe5=new Map();for(const _0x4a7203 of _0x3f8a47){const _0xa042c6=await(0x0,promises_1[_0x134c7a(0x98)])(path_1['default']['join'](_0x406202,_0x4a7203));_0x3b7fe5[_0x134c7a(0xa5)](_0xa042c6,_0x4a7203);}return Array['from'](_0x3b7fe5['keys']())[_0x134c7a(0x94)]((_0xe25493,_0x273903)=>_0x273903['birthtime']-_0xe25493[_0x134c7a(0x9a)])[_0x134c7a(0xae)](_0x3b201c=>_0x3b7fe5[_0x134c7a(0xb8)](_0x3b201c));}}exports[a335_0x4d964a(0x9d)]=JobUtils;