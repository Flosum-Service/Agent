const a282_0x4551a2=a282_0x5b20;(function(_0x482612,_0x5a2f1c){const _0x52a950=a282_0x5b20,_0x3ac24c=_0x482612();while(!![]){try{const _0xad2f34=parseInt(_0x52a950(0x8d))/0x1*(-parseInt(_0x52a950(0x80))/0x2)+parseInt(_0x52a950(0x9a))/0x3*(-parseInt(_0x52a950(0x9d))/0x4)+parseInt(_0x52a950(0xa5))/0x5+parseInt(_0x52a950(0xa3))/0x6+-parseInt(_0x52a950(0x9c))/0x7+-parseInt(_0x52a950(0x7b))/0x8*(-parseInt(_0x52a950(0x82))/0x9)+-parseInt(_0x52a950(0x8e))/0xa*(parseInt(_0x52a950(0x94))/0xb);if(_0xad2f34===_0x5a2f1c)break;else _0x3ac24c['push'](_0x3ac24c['shift']());}catch(_0x4c1922){_0x3ac24c['push'](_0x3ac24c['shift']());}}}(a282_0x267f,0x1d50d));function a282_0x267f(){const _0x39d0f5=['isDirectory','constructor','generateJobId','1dBMvut','256570oMhKCO','runJob','JOB_LOG_STATE_FILENAME','FsUtils','search','defineProperty','11NEqgKe','close','map','Logger','__importDefault','get','137526EjQOkJ','getJobsIds','580559PgfFTs','4BVwxIr','keys','join','readdir','set','from','457026AQRnbQ','filter','612930ODZBeo','shortid','../../../core','once','776EvtWuC','(((.+)+)+)+$','__esModule','apply','birthtime','67902zeJtzQ','default','10179WTbzTv','fs/promises','@flosum/utils','isExistsPath','path','executeInterpreter','sort','./spawn.utils'];a282_0x267f=function(){return _0x39d0f5;};return a282_0x267f();}const a282_0x5ec5a2=(function(){let _0x1c7242=!![];return function(_0x44eb69,_0x439715){const _0x2d0d81=_0x1c7242?function(){const _0x1e95ab=a282_0x5b20;if(_0x439715){const _0x2d5d9a=_0x439715[_0x1e95ab(0x7e)](_0x44eb69,arguments);return _0x439715=null,_0x2d5d9a;}}:function(){};return _0x1c7242=![],_0x2d0d81;};}()),a282_0x2d6546=a282_0x5ec5a2(this,function(){const _0x55a89a=a282_0x5b20;return a282_0x2d6546['toString']()['search'](_0x55a89a(0x7c))['toString']()[_0x55a89a(0x8b)](a282_0x2d6546)[_0x55a89a(0x92)](_0x55a89a(0x7c));});a282_0x2d6546();function a282_0x5b20(_0x546346,_0x12022d){const _0x37b2a0=a282_0x267f();return a282_0x5b20=function(_0x2d6546,_0x5ec5a2){_0x2d6546=_0x2d6546-0x79;let _0x267fd7=_0x37b2a0[_0x2d6546];return _0x267fd7;},a282_0x5b20(_0x546346,_0x12022d);}'use strict';var __importDefault=this&&this[a282_0x4551a2(0x98)]||function(_0x4609e6){const _0x1f62e6=a282_0x4551a2;return _0x4609e6&&_0x4609e6[_0x1f62e6(0x7d)]?_0x4609e6:{'default':_0x4609e6};};Object[a282_0x4551a2(0x93)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a282_0x4551a2(0x86))),spawn_utils_1=require(a282_0x4551a2(0x89)),core_1=require(a282_0x4551a2(0x79)),shortid_1=__importDefault(require(a282_0x4551a2(0xa6))),utils_1=require(a282_0x4551a2(0x84)),promises_1=require(a282_0x4551a2(0x83)),job_1=require('../../../constants/job');class JobUtils{static[a282_0x4551a2(0x8c)](){return(0x0,shortid_1['default'])();}static[a282_0x4551a2(0x8f)](_0x11c73e,_0x31e9c3){return new Promise((_0x1a8918,_0x124436)=>{const _0x294bee=a282_0x5b20,{jobStorePath:_0x4f83f1,jobId:_0x1c3904}=_0x31e9c3,_0x35348b=(0x0,spawn_utils_1[_0x294bee(0x87)])(_0x11c73e,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x4f83f1,'jobId':_0x1c3904})),_0x4095b2=new core_1[(_0x294bee(0x97))](_0x1c3904);_0x35348b[_0x294bee(0x7a)](_0x294bee(0x95),_0x556377=>{const _0x452af8='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x556377;_0x4095b2['log'](_0x452af8),_0x556377===0x0?_0x1a8918(_0x452af8):_0x124436(new Error(_0x452af8));});});}static async[a282_0x4551a2(0x9b)](_0x4f910c){const _0x73de21=a282_0x4551a2;if(!await utils_1[_0x73de21(0x91)][_0x73de21(0x85)](_0x4f910c))return[];const _0x228c1c=await(0x0,promises_1[_0x73de21(0xa0)])(_0x4f910c,{'withFileTypes':!![]}),_0x280877=_0x228c1c[_0x73de21(0xa4)](_0x8da49e=>_0x8da49e[_0x73de21(0x8a)]())[_0x73de21(0x96)](_0x27e410=>_0x27e410['name']),_0x4bded2=[];for(const _0x1a1727 of _0x280877){const _0x5a1821=path_1[_0x73de21(0x81)][_0x73de21(0x9f)](_0x4f910c,_0x1a1727,job_1[_0x73de21(0x90)]);await utils_1['FsUtils'][_0x73de21(0x85)](_0x5a1821)&&_0x4bded2['push'](_0x1a1727);}return _0x4bded2;}static async['sortJobsIds'](_0x351ec7,_0x538be3){const _0x3a5a78=a282_0x4551a2,_0x58fe32=new Map();for(const _0x245d90 of _0x538be3){const _0x18fe23=await(0x0,promises_1['stat'])(path_1['default'][_0x3a5a78(0x9f)](_0x351ec7,_0x245d90));_0x58fe32[_0x3a5a78(0xa1)](_0x18fe23,_0x245d90);}return Array[_0x3a5a78(0xa2)](_0x58fe32[_0x3a5a78(0x9e)]())[_0x3a5a78(0x88)]((_0x239009,_0x46d0f1)=>_0x46d0f1[_0x3a5a78(0x7f)]-_0x239009[_0x3a5a78(0x7f)])['map'](_0x48d417=>_0x58fe32[_0x3a5a78(0x99)](_0x48d417));}}exports[a282_0x4551a2(0x81)]=JobUtils;