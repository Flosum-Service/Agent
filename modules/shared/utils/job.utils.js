const a282_0x5e4376=a282_0x144e;function a282_0x144e(_0x23e8f0,_0x25d832){const _0x9abb73=a282_0x59f9();return a282_0x144e=function(_0x4dd705,_0x5bd9b9){_0x4dd705=_0x4dd705-0x106;let _0x59f9ce=_0x9abb73[_0x4dd705];return _0x59f9ce;},a282_0x144e(_0x23e8f0,_0x25d832);}(function(_0x144c5c,_0x26ecc7){const _0x4fcdad=a282_0x144e,_0x54ac48=_0x144c5c();while(!![]){try{const _0xecb5ac=-parseInt(_0x4fcdad(0x123))/0x1+parseInt(_0x4fcdad(0x10c))/0x2+-parseInt(_0x4fcdad(0x124))/0x3*(-parseInt(_0x4fcdad(0x128))/0x4)+parseInt(_0x4fcdad(0x11e))/0x5*(-parseInt(_0x4fcdad(0x111))/0x6)+-parseInt(_0x4fcdad(0x12a))/0x7+-parseInt(_0x4fcdad(0x121))/0x8*(-parseInt(_0x4fcdad(0x114))/0x9)+parseInt(_0x4fcdad(0x118))/0xa;if(_0xecb5ac===_0x26ecc7)break;else _0x54ac48['push'](_0x54ac48['shift']());}catch(_0x30ae9b){_0x54ac48['push'](_0x54ac48['shift']());}}}(a282_0x59f9,0xdba80));function a282_0x59f9(){const _0x699cde=['get','join','stat','248nIydpb','isExistsPath','7953890osGXVD','../../../core','search','name','log','readdir','@flosum/utils','push','1123182amXXcz','generateJobId','(((.+)+)+)+$','./spawn.utils','shortid','1866fySpJg','once','map','3447YsTlEW','defineProperty','__esModule','apply','5910710crUqpH','birthtime','fs/promises','executeInterpreter','keys','runJob','19660MVeLfc','objectToArgsList','Logger','18672ayrQoX','default','463114YZoIBM','81066HPebpc'];a282_0x59f9=function(){return _0x699cde;};return a282_0x59f9();}const a282_0x5bd9b9=(function(){let _0x48e3a1=!![];return function(_0x410236,_0x380901){const _0x301084=_0x48e3a1?function(){const _0x1ecdac=a282_0x144e;if(_0x380901){const _0x49a823=_0x380901[_0x1ecdac(0x117)](_0x410236,arguments);return _0x380901=null,_0x49a823;}}:function(){};return _0x48e3a1=![],_0x301084;};}()),a282_0x4dd705=a282_0x5bd9b9(this,function(){const _0x118cdf=a282_0x144e;return a282_0x4dd705['toString']()['search'](_0x118cdf(0x10e))['toString']()['constructor'](a282_0x4dd705)[_0x118cdf(0x106)](_0x118cdf(0x10e));});a282_0x4dd705();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x24c0c7){const _0xf6a7c1=a282_0x144e;return _0x24c0c7&&_0x24c0c7[_0xf6a7c1(0x116)]?_0x24c0c7:{'default':_0x24c0c7};};Object[a282_0x5e4376(0x115)](exports,a282_0x5e4376(0x116),{'value':!![]});const path_1=__importDefault(require('path')),spawn_utils_1=require(a282_0x5e4376(0x10f)),core_1=require(a282_0x5e4376(0x12b)),shortid_1=__importDefault(require(a282_0x5e4376(0x110))),utils_1=require(a282_0x5e4376(0x10a)),promises_1=require(a282_0x5e4376(0x11a)),job_1=require('../../../constants/job');class JobUtils{static[a282_0x5e4376(0x10d)](){const _0x282d49=a282_0x5e4376;return(0x0,shortid_1[_0x282d49(0x122)])();}static[a282_0x5e4376(0x11d)](_0x43cc5e,_0xe2c3be){return new Promise((_0x1d93de,_0x18c31d)=>{const _0x470026=a282_0x144e,{jobStorePath:_0x5ea134,jobId:_0x27b256}=_0xe2c3be,_0x107523=(0x0,spawn_utils_1[_0x470026(0x11b)])(_0x43cc5e,...(0x0,spawn_utils_1[_0x470026(0x11f)])({'jobStorePath':_0x5ea134,'jobId':_0x27b256})),_0x239416=new core_1[(_0x470026(0x120))](_0x27b256);_0x107523[_0x470026(0x112)]('close',_0x1a0c24=>{const _0x5e906c=_0x470026,_0x351688='Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20'+_0x1a0c24;_0x239416[_0x5e906c(0x108)](_0x351688),_0x1a0c24===0x0?_0x1d93de(_0x351688):_0x18c31d(new Error(_0x351688));});});}static async['getJobsIds'](_0xc231e0){const _0x1eab9a=a282_0x5e4376;if(!await utils_1['FsUtils'][_0x1eab9a(0x129)](_0xc231e0))return[];const _0x1e3909=await(0x0,promises_1[_0x1eab9a(0x109)])(_0xc231e0,{'withFileTypes':!![]}),_0x303981=_0x1e3909['filter'](_0x4d633f=>_0x4d633f['isDirectory']())[_0x1eab9a(0x113)](_0x8080bc=>_0x8080bc[_0x1eab9a(0x107)]),_0x5acb9b=[];for(const _0x48bebc of _0x303981){const _0x2678d0=path_1[_0x1eab9a(0x122)][_0x1eab9a(0x126)](_0xc231e0,_0x48bebc,job_1['JOB_LOG_STATE_FILENAME']);await utils_1['FsUtils'][_0x1eab9a(0x129)](_0x2678d0)&&_0x5acb9b[_0x1eab9a(0x10b)](_0x48bebc);}return _0x5acb9b;}static async['sortJobsIds'](_0x4c7a0b,_0x4cc14a){const _0x1d7b63=a282_0x5e4376,_0x32ef8e=new Map();for(const _0x4b5b3f of _0x4cc14a){const _0x5daab4=await(0x0,promises_1[_0x1d7b63(0x127)])(path_1[_0x1d7b63(0x122)][_0x1d7b63(0x126)](_0x4c7a0b,_0x4b5b3f));_0x32ef8e['set'](_0x5daab4,_0x4b5b3f);}return Array['from'](_0x32ef8e[_0x1d7b63(0x11c)]())['sort']((_0x47a4f9,_0x47fe48)=>_0x47fe48[_0x1d7b63(0x119)]-_0x47a4f9[_0x1d7b63(0x119)])[_0x1d7b63(0x113)](_0x3e55a0=>_0x32ef8e[_0x1d7b63(0x125)](_0x3e55a0));}}exports[a282_0x5e4376(0x122)]=JobUtils;