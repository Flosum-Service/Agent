function a305_0x4568(_0x174565,_0x4272fc){const _0x442c0c=a305_0x295f();return a305_0x4568=function(_0x44961f,_0xe6b59e){_0x44961f=_0x44961f-0x183;let _0x295fad=_0x442c0c[_0x44961f];return _0x295fad;},a305_0x4568(_0x174565,_0x4272fc);}const a305_0xaf1391=a305_0x4568;(function(_0x18656a,_0x22a35d){const _0x48fac8=a305_0x4568,_0x1e1eca=_0x18656a();while(!![]){try{const _0x249424=parseInt(_0x48fac8(0x183))/0x1+-parseInt(_0x48fac8(0x190))/0x2*(-parseInt(_0x48fac8(0x185))/0x3)+parseInt(_0x48fac8(0x19d))/0x4+-parseInt(_0x48fac8(0x193))/0x5+-parseInt(_0x48fac8(0x1a5))/0x6+-parseInt(_0x48fac8(0x18a))/0x7+parseInt(_0x48fac8(0x19f))/0x8;if(_0x249424===_0x22a35d)break;else _0x1e1eca['push'](_0x1e1eca['shift']());}catch(_0x349170){_0x1e1eca['push'](_0x1e1eca['shift']());}}}(a305_0x295f,0x3a073));const a305_0xe6b59e=(function(){let _0x20bf7f=!![];return function(_0x4090a2,_0x1560aa){const _0x8ef8bb=_0x20bf7f?function(){const _0x55f4e7=a305_0x4568;if(_0x1560aa){const _0x426dc1=_0x1560aa[_0x55f4e7(0x1a2)](_0x4090a2,arguments);return _0x1560aa=null,_0x426dc1;}}:function(){};return _0x20bf7f=![],_0x8ef8bb;};}()),a305_0x44961f=a305_0xe6b59e(this,function(){const _0x53d47f=a305_0x4568;return a305_0x44961f[_0x53d47f(0x18d)]()['search'](_0x53d47f(0x189))[_0x53d47f(0x18d)]()[_0x53d47f(0x19b)](a305_0x44961f)[_0x53d47f(0x186)](_0x53d47f(0x189));});a305_0x44961f();'use strict';function a305_0x295f(){const _0xf5b7d7=['404568AyxNdM','join','FsUtils','apply','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','path','288762GRSqdO','generateJobId','readdir','map','from','filter','push','default','once','get','67566MLjJbM','getJobsIds','41973wMEIbt','search','sortJobsIds','defineProperty','(((.+)+)+)+$','1186549ctTNBg','../../../core','fs/promises','toString','name','shortid','14NUwWIX','__esModule','keys','553570sohBQq','birthtime','stat','log','runJob','JOB_LOG_STATE_FILENAME','Logger','../../../constants/job','constructor','isExistsPath','1399828HjBlqe','set'];a305_0x295f=function(){return _0xf5b7d7;};return a305_0x295f();}var __importDefault=this&&this['__importDefault']||function(_0x213f5d){const _0x25d543=a305_0x4568;return _0x213f5d&&_0x213f5d[_0x25d543(0x191)]?_0x213f5d:{'default':_0x213f5d};};Object[a305_0xaf1391(0x188)](exports,a305_0xaf1391(0x191),{'value':!![]});const path_1=__importDefault(require(a305_0xaf1391(0x1a4))),spawn_utils_1=require('./spawn.utils'),core_1=require(a305_0xaf1391(0x18b)),shortid_1=__importDefault(require(a305_0xaf1391(0x18f))),utils_1=require('@flosum/utils'),promises_1=require(a305_0xaf1391(0x18c)),job_1=require(a305_0xaf1391(0x19a));class JobUtils{static[a305_0xaf1391(0x1a6)](){const _0x568f1e=a305_0xaf1391;return(0x0,shortid_1[_0x568f1e(0x1ac)])();}static[a305_0xaf1391(0x197)](_0x43258c,_0x216a06){return new Promise((_0x29ca03,_0x184336)=>{const _0x43aa00=a305_0x4568,{jobStorePath:_0x2e74ec,jobId:_0x3858ea}=_0x216a06,_0x48a596=(0x0,spawn_utils_1['executeInterpreter'])(_0x43258c,...(0x0,spawn_utils_1['objectToArgsList'])({'jobStorePath':_0x2e74ec,'jobId':_0x3858ea})),_0x6352a0=new core_1[(_0x43aa00(0x199))](_0x3858ea);_0x48a596[_0x43aa00(0x1ad)]('close',_0x20cbb9=>{const _0x4eb847=_0x43aa00,_0x29ac60=_0x4eb847(0x1a3)+_0x20cbb9;_0x6352a0[_0x4eb847(0x196)](_0x29ac60),_0x20cbb9===0x0?_0x29ca03(_0x29ac60):_0x184336(new Error(_0x29ac60));});});}static async[a305_0xaf1391(0x184)](_0x241cd6){const _0x3c93c8=a305_0xaf1391;if(!await utils_1['FsUtils'][_0x3c93c8(0x19c)](_0x241cd6))return[];const _0x7d6eff=await(0x0,promises_1[_0x3c93c8(0x1a7)])(_0x241cd6,{'withFileTypes':!![]}),_0x24b5dd=_0x7d6eff[_0x3c93c8(0x1aa)](_0x22654b=>_0x22654b['isDirectory']())[_0x3c93c8(0x1a8)](_0x21ae22=>_0x21ae22[_0x3c93c8(0x18e)]),_0x4be9d2=[];for(const _0x3485ae of _0x24b5dd){const _0x440fcc=path_1['default'][_0x3c93c8(0x1a0)](_0x241cd6,_0x3485ae,job_1[_0x3c93c8(0x198)]);await utils_1[_0x3c93c8(0x1a1)][_0x3c93c8(0x19c)](_0x440fcc)&&_0x4be9d2[_0x3c93c8(0x1ab)](_0x3485ae);}return _0x4be9d2;}static async[a305_0xaf1391(0x187)](_0x1a2b32,_0x4e3340){const _0x5630f7=a305_0xaf1391,_0x2ce863=new Map();for(const _0x56a1df of _0x4e3340){const _0x244cdf=await(0x0,promises_1[_0x5630f7(0x195)])(path_1[_0x5630f7(0x1ac)][_0x5630f7(0x1a0)](_0x1a2b32,_0x56a1df));_0x2ce863[_0x5630f7(0x19e)](_0x244cdf,_0x56a1df);}return Array[_0x5630f7(0x1a9)](_0x2ce863[_0x5630f7(0x192)]())['sort']((_0x5ca490,_0x1d25f6)=>_0x1d25f6[_0x5630f7(0x194)]-_0x5ca490[_0x5630f7(0x194)])[_0x5630f7(0x1a8)](_0x166c24=>_0x2ce863[_0x5630f7(0x1ae)](_0x166c24));}}exports[a305_0xaf1391(0x1ac)]=JobUtils;