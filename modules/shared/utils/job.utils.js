const a283_0x2dfc79=a283_0x2dac;(function(_0x3203ba,_0x4dfb97){const _0x1e7620=a283_0x2dac,_0x1b4c79=_0x3203ba();while(!![]){try{const _0x1da487=-parseInt(_0x1e7620(0x210))/0x1*(-parseInt(_0x1e7620(0x1fa))/0x2)+parseInt(_0x1e7620(0x207))/0x3+parseInt(_0x1e7620(0x219))/0x4*(-parseInt(_0x1e7620(0x208))/0x5)+parseInt(_0x1e7620(0x1f0))/0x6*(parseInt(_0x1e7620(0x20a))/0x7)+parseInt(_0x1e7620(0x1f8))/0x8+parseInt(_0x1e7620(0x206))/0x9*(-parseInt(_0x1e7620(0x1f3))/0xa)+-parseInt(_0x1e7620(0x216))/0xb*(parseInt(_0x1e7620(0x1ee))/0xc);if(_0x1da487===_0x4dfb97)break;else _0x1b4c79['push'](_0x1b4c79['shift']());}catch(_0x9a7804){_0x1b4c79['push'](_0x1b4c79['shift']());}}}(a283_0x5c68,0x1b51d));const a283_0x21972e=(function(){let _0x3f1c80=!![];return function(_0x30a246,_0x55482d){const _0x20f621=_0x3f1c80?function(){const _0x52d812=a283_0x2dac;if(_0x55482d){const _0x53c519=_0x55482d[_0x52d812(0x215)](_0x30a246,arguments);return _0x55482d=null,_0x53c519;}}:function(){};return _0x3f1c80=![],_0x20f621;};}()),a283_0x347837=a283_0x21972e(this,function(){const _0x4c4e7d=a283_0x2dac;return a283_0x347837['toString']()[_0x4c4e7d(0x218)](_0x4c4e7d(0x1f9))[_0x4c4e7d(0x212)]()[_0x4c4e7d(0x1f7)](a283_0x347837)[_0x4c4e7d(0x218)](_0x4c4e7d(0x1f9));});function a283_0x5c68(){const _0x448a27=['Logger','from','executeInterpreter','34301QCAvOo','filter','toString','../../../core','close','apply','76241edLJBE','name','search','904QSIHyv','keys','isDirectory','log','set','objectToArgsList','228oSutQH','sortJobsIds','6KljQyU','default','path','10LIQVCH','isExistsPath','join','birthtime','constructor','870992xSAiaS','(((.+)+)+)+$','4ShVVns','__esModule','./spawn.utils','generateJobId','map','Job\x20has\x20been\x20closed\x20with\x20status\x20code:\x20','getJobsIds','get','push','sort','once','stat','197685XgXhXg','504789kvMHNb','1805TViIiC','defineProperty','9814SIjNVH','shortid','FsUtils'];a283_0x5c68=function(){return _0x448a27;};return a283_0x5c68();}a283_0x347837();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3c1066){const _0x32acf5=a283_0x2dac;return _0x3c1066&&_0x3c1066[_0x32acf5(0x1fb)]?_0x3c1066:{'default':_0x3c1066};};Object[a283_0x2dfc79(0x209)](exports,'__esModule',{'value':!![]});const path_1=__importDefault(require(a283_0x2dfc79(0x1f2))),spawn_utils_1=require(a283_0x2dfc79(0x1fc)),core_1=require(a283_0x2dfc79(0x213)),shortid_1=__importDefault(require(a283_0x2dfc79(0x20b))),utils_1=require('@flosum/utils'),promises_1=require('fs/promises'),job_1=require('../../../constants/job');class JobUtils{static[a283_0x2dfc79(0x1fd)](){const _0x12cecd=a283_0x2dfc79;return(0x0,shortid_1[_0x12cecd(0x1f1)])();}static['runJob'](_0x588fc3,_0xe8db06){return new Promise((_0x740576,_0x5bd8c4)=>{const _0x5bb9c6=a283_0x2dac,{jobStorePath:_0x25b73a,jobId:_0x2e5712}=_0xe8db06,_0x38fc0c=(0x0,spawn_utils_1[_0x5bb9c6(0x20f)])(_0x588fc3,...(0x0,spawn_utils_1[_0x5bb9c6(0x1ed)])({'jobStorePath':_0x25b73a,'jobId':_0x2e5712})),_0x2e8b71=new core_1[(_0x5bb9c6(0x20d))](_0x2e5712);_0x38fc0c[_0x5bb9c6(0x204)](_0x5bb9c6(0x214),_0x20130d=>{const _0x1189d2=_0x5bb9c6,_0x45dbe6=_0x1189d2(0x1ff)+_0x20130d;_0x2e8b71[_0x1189d2(0x21c)](_0x45dbe6),_0x20130d===0x0?_0x740576(_0x45dbe6):_0x5bd8c4(new Error(_0x45dbe6));});});}static async[a283_0x2dfc79(0x200)](_0x265af3){const _0xf1aa73=a283_0x2dfc79;if(!await utils_1[_0xf1aa73(0x20c)][_0xf1aa73(0x1f4)](_0x265af3))return[];const _0x15b0b5=await(0x0,promises_1['readdir'])(_0x265af3,{'withFileTypes':!![]}),_0x1848ac=_0x15b0b5[_0xf1aa73(0x211)](_0x178d74=>_0x178d74[_0xf1aa73(0x21b)]())['map'](_0x3a1447=>_0x3a1447[_0xf1aa73(0x217)]),_0x1549b6=[];for(const _0x563743 of _0x1848ac){const _0x40fdc4=path_1[_0xf1aa73(0x1f1)]['join'](_0x265af3,_0x563743,job_1['JOB_LOG_STATE_FILENAME']);await utils_1[_0xf1aa73(0x20c)][_0xf1aa73(0x1f4)](_0x40fdc4)&&_0x1549b6[_0xf1aa73(0x202)](_0x563743);}return _0x1549b6;}static async[a283_0x2dfc79(0x1ef)](_0x4f1de3,_0x454ab8){const _0x3f0215=a283_0x2dfc79,_0x1f2029=new Map();for(const _0x14f2a6 of _0x454ab8){const _0x422e0d=await(0x0,promises_1[_0x3f0215(0x205)])(path_1[_0x3f0215(0x1f1)][_0x3f0215(0x1f5)](_0x4f1de3,_0x14f2a6));_0x1f2029[_0x3f0215(0x1ec)](_0x422e0d,_0x14f2a6);}return Array[_0x3f0215(0x20e)](_0x1f2029[_0x3f0215(0x21a)]())[_0x3f0215(0x203)]((_0x104fdb,_0x3ff29a)=>_0x3ff29a[_0x3f0215(0x1f6)]-_0x104fdb['birthtime'])[_0x3f0215(0x1fe)](_0xebe2cc=>_0x1f2029[_0x3f0215(0x201)](_0xebe2cc));}}function a283_0x2dac(_0x3d5eb5,_0x36b820){const _0x4a8e64=a283_0x5c68();return a283_0x2dac=function(_0x347837,_0x21972e){_0x347837=_0x347837-0x1ec;let _0x5c68c8=_0x4a8e64[_0x347837];return _0x5c68c8;},a283_0x2dac(_0x3d5eb5,_0x36b820);}exports[a283_0x2dfc79(0x1f1)]=JobUtils;