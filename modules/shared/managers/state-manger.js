const a328_0x44442f=a328_0xc6ca;(function(_0x93722f,_0x760fb1){const _0x3d991a=a328_0xc6ca,_0x2485a9=_0x93722f();while(!![]){try{const _0x4721a3=parseInt(_0x3d991a(0x1b9))/0x1+-parseInt(_0x3d991a(0x1a0))/0x2+parseInt(_0x3d991a(0x19a))/0x3*(-parseInt(_0x3d991a(0x1be))/0x4)+-parseInt(_0x3d991a(0x1ae))/0x5+parseInt(_0x3d991a(0x1bf))/0x6+-parseInt(_0x3d991a(0x19c))/0x7+-parseInt(_0x3d991a(0x1c2))/0x8*(-parseInt(_0x3d991a(0x1b8))/0x9);if(_0x4721a3===_0x760fb1)break;else _0x2485a9['push'](_0x2485a9['shift']());}catch(_0x1f8723){_0x2485a9['push'](_0x2485a9['shift']());}}}(a328_0x4509,0xad871));function a328_0x4509(){const _0x2085d6=['status','join','23160mnMAoz','createdDate','(((.+)+)+)+$','constructor','../../../constants/job','search','COMPLETED','writeFile','update','12450ZnCDhu','getJobStatePath','9672656GZlSZQ','setCompleted','jobState','@flosum/utils','26748PpDMFH','parse','Job\x20not\x20found.','setError','warnings','create','completedDate','statePath','__esModule','path','addWarning','FAILED','getJobState','error','6383610nCbSYE','../enums/logger.enums','FsUtils','default','stringify','apply','JOB_LOG_STATE_FILENAME','utf-8','JobStatus','IN_PROGRESS','9675TlJQeO','328437kDogAN','readFile','then','__importDefault','QUEUED','932AzGsOL','5454366QmlFLE'];a328_0x4509=function(){return _0x2085d6;};return a328_0x4509();}const a328_0x37ef7c=(function(){let _0x4e9969=!![];return function(_0x32d14e,_0x41eed4){const _0x2a638f=_0x4e9969?function(){const _0x3babef=a328_0xc6ca;if(_0x41eed4){const _0x1b02aa=_0x41eed4[_0x3babef(0x1b3)](_0x32d14e,arguments);return _0x41eed4=null,_0x1b02aa;}}:function(){};return _0x4e9969=![],_0x2a638f;};}()),a328_0x5738e7=a328_0x37ef7c(this,function(){const _0x3878cd=a328_0xc6ca;return a328_0x5738e7['toString']()[_0x3878cd(0x196)](_0x3878cd(0x1c4))['toString']()[_0x3878cd(0x194)](a328_0x5738e7)[_0x3878cd(0x196)](_0x3878cd(0x1c4));});a328_0x5738e7();function a328_0xc6ca(_0x3bf418,_0x47ec9d){const _0x48955c=a328_0x4509();return a328_0xc6ca=function(_0x5738e7,_0x37ef7c){_0x5738e7=_0x5738e7-0x194;let _0x45097f=_0x48955c[_0x5738e7];return _0x45097f;},a328_0xc6ca(_0x3bf418,_0x47ec9d);}'use strict';var __importDefault=this&&this[a328_0x44442f(0x1bc)]||function(_0xbf9900){const _0x4e3943=a328_0x44442f;return _0xbf9900&&_0xbf9900[_0x4e3943(0x1a8)]?_0xbf9900:{'default':_0xbf9900};};Object['defineProperty'](exports,a328_0x44442f(0x1a8),{'value':!![]});const logger_enums_1=require(a328_0x44442f(0x1af)),path_1=__importDefault(require(a328_0x44442f(0x1a9))),promises_1=require('fs/promises'),utils_1=require(a328_0x44442f(0x19f)),job_1=require(a328_0x44442f(0x195));class StateManager{constructor(_0x131a83){const _0x472ec4=a328_0x44442f;this[_0x472ec4(0x1a7)]=StateManager['getJobStatePath'](_0x131a83);}static[a328_0x44442f(0x19b)](_0x147e1b){const _0x298d6d=a328_0x44442f;return path_1[_0x298d6d(0x1b1)][_0x298d6d(0x1c1)](_0x147e1b,job_1[_0x298d6d(0x1b4)]);}static async[a328_0x44442f(0x1a5)](_0x2806e2,_0xb7ce22){const _0x1ccad2=a328_0x44442f,_0x2e7df6=StateManager['getJobStatePath'](_0x2806e2),_0x2833b7={'id':_0xb7ce22,'status':logger_enums_1[_0x1ccad2(0x1b6)][_0x1ccad2(0x1bd)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x1ccad2(0x198)])(_0x2e7df6,JSON['stringify'](_0x2833b7));}static async[a328_0x44442f(0x1ac)](_0xbe7143){const _0x1baabe=a328_0x44442f,_0x3ad46c=StateManager[_0x1baabe(0x19b)](_0xbe7143);if(await utils_1[_0x1baabe(0x1b0)]['isExistsPath'](_0x3ad46c))return(0x0,promises_1[_0x1baabe(0x1ba)])(_0x3ad46c,_0x1baabe(0x1b5))[_0x1baabe(0x1bb)](JSON[_0x1baabe(0x1a1)]);throw new Error(_0x1baabe(0x1a2));}async[a328_0x44442f(0x199)](){const _0x3ca379=a328_0x44442f;await(0x0,promises_1[_0x3ca379(0x198)])(this[_0x3ca379(0x1a7)],JSON[_0x3ca379(0x1b2)](this[_0x3ca379(0x19e)]));}async['init'](){const _0x436a8b=a328_0x44442f;return this[_0x436a8b(0x19e)]=await(0x0,promises_1[_0x436a8b(0x1ba)])(this[_0x436a8b(0x1a7)],_0x436a8b(0x1b5))['then'](JSON[_0x436a8b(0x1a1)]),this;}async['setInProgress'](){const _0x277ae7=a328_0x44442f;this[_0x277ae7(0x19e)][_0x277ae7(0x1c0)]=logger_enums_1['JobStatus'][_0x277ae7(0x1b7)],this[_0x277ae7(0x19e)][_0x277ae7(0x1c3)]=new Date()['getTime'](),await this[_0x277ae7(0x199)]();}async[a328_0x44442f(0x19d)](){const _0x379dab=a328_0x44442f;this[_0x379dab(0x19e)][_0x379dab(0x1c0)]=logger_enums_1[_0x379dab(0x1b6)][_0x379dab(0x197)],this[_0x379dab(0x19e)][_0x379dab(0x1a6)]=new Date()['getTime'](),await this['update']();}async[a328_0x44442f(0x1a3)]({message:_0x6fa1db}){const _0x4295a4=a328_0x44442f;this[_0x4295a4(0x19e)][_0x4295a4(0x1c0)]=logger_enums_1[_0x4295a4(0x1b6)][_0x4295a4(0x1ab)],this['jobState']['completedDate']=new Date()['getTime'](),this[_0x4295a4(0x19e)][_0x4295a4(0x1ad)]=_0x6fa1db,await this[_0x4295a4(0x199)]();}[a328_0x44442f(0x1aa)](_0x1dd81e){const _0x8260a8=a328_0x44442f;return this[_0x8260a8(0x19e)][_0x8260a8(0x1a4)]['push'](_0x1dd81e),this[_0x8260a8(0x199)]();}}exports[a328_0x44442f(0x1b1)]=StateManager;