const a283_0x32d02d=a283_0x4209;(function(_0x7776b,_0x4e09b1){const _0x4425d7=a283_0x4209,_0x85be90=_0x7776b();while(!![]){try{const _0x9bf87c=-parseInt(_0x4425d7(0x1d8))/0x1*(parseInt(_0x4425d7(0x1b0))/0x2)+-parseInt(_0x4425d7(0x1af))/0x3+parseInt(_0x4425d7(0x1bc))/0x4+parseInt(_0x4425d7(0x1c9))/0x5*(parseInt(_0x4425d7(0x1be))/0x6)+parseInt(_0x4425d7(0x1c6))/0x7*(-parseInt(_0x4425d7(0x1bb))/0x8)+-parseInt(_0x4425d7(0x1c4))/0x9+-parseInt(_0x4425d7(0x1b6))/0xa*(-parseInt(_0x4425d7(0x1b3))/0xb);if(_0x9bf87c===_0x4e09b1)break;else _0x85be90['push'](_0x85be90['shift']());}catch(_0x477431){_0x85be90['push'](_0x85be90['shift']());}}}(a283_0x185e,0x37117));const a283_0x4d25f0=(function(){let _0x48c5ee=!![];return function(_0x229b74,_0x2fc777){const _0x4b074e=_0x48c5ee?function(){const _0xabdc21=a283_0x4209;if(_0x2fc777){const _0x1e59e5=_0x2fc777[_0xabdc21(0x1ba)](_0x229b74,arguments);return _0x2fc777=null,_0x1e59e5;}}:function(){};return _0x48c5ee=![],_0x4b074e;};}()),a283_0x4b5f68=a283_0x4d25f0(this,function(){const _0x826d5d=a283_0x4209;return a283_0x4b5f68['toString']()[_0x826d5d(0x1c0)]('(((.+)+)+)+$')['toString']()[_0x826d5d(0x1d7)](a283_0x4b5f68)[_0x826d5d(0x1c0)](_0x826d5d(0x1ae));});a283_0x4b5f68();'use strict';function a283_0x4209(_0x362446,_0x4c43f7){const _0x1ea301=a283_0x185e();return a283_0x4209=function(_0x4b5f68,_0x4d25f0){_0x4b5f68=_0x4b5f68-0x1ae;let _0x185ea0=_0x1ea301[_0x4b5f68];return _0x185ea0;},a283_0x4209(_0x362446,_0x4c43f7);}var __importDefault=this&&this[a283_0x32d02d(0x1b1)]||function(_0x1d21ae){const _0x39db34=a283_0x32d02d;return _0x1d21ae&&_0x1d21ae[_0x39db34(0x1b4)]?_0x1d21ae:{'default':_0x1d21ae};};Object['defineProperty'](exports,a283_0x32d02d(0x1b4),{'value':!![]});const logger_enums_1=require(a283_0x32d02d(0x1e0)),path_1=__importDefault(require(a283_0x32d02d(0x1d6))),promises_1=require(a283_0x32d02d(0x1cc)),utils_1=require(a283_0x32d02d(0x1d0)),job_1=require('../../../constants/job');class StateManager{constructor(_0x24de1d){const _0x5d8ebe=a283_0x32d02d;this[_0x5d8ebe(0x1b5)]=StateManager[_0x5d8ebe(0x1c7)](_0x24de1d);}static[a283_0x32d02d(0x1c7)](_0x1f09ed){const _0xf41e92=a283_0x32d02d;return path_1[_0xf41e92(0x1bd)][_0xf41e92(0x1d3)](_0x1f09ed,job_1[_0xf41e92(0x1dc)]);}static async[a283_0x32d02d(0x1d9)](_0x57070f,_0x3025ce){const _0x37202f=a283_0x32d02d,_0x4acd08=StateManager[_0x37202f(0x1c7)](_0x57070f),_0x11b9ae={'id':_0x3025ce,'status':logger_enums_1[_0x37202f(0x1da)]['QUEUED'],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x37202f(0x1d1)])(_0x4acd08,JSON[_0x37202f(0x1c8)](_0x11b9ae));}static async[a283_0x32d02d(0x1d5)](_0x1b422d){const _0x328e6c=a283_0x32d02d,_0x3ea850=StateManager[_0x328e6c(0x1c7)](_0x1b422d);if(await utils_1[_0x328e6c(0x1c3)][_0x328e6c(0x1c2)](_0x3ea850))return(0x0,promises_1[_0x328e6c(0x1bf)])(_0x3ea850,_0x328e6c(0x1de))[_0x328e6c(0x1ce)](JSON[_0x328e6c(0x1d4)]);throw new Error(_0x328e6c(0x1c1));}async[a283_0x32d02d(0x1b9)](){const _0x5e63ac=a283_0x32d02d;await(0x0,promises_1[_0x5e63ac(0x1d1)])(this['statePath'],JSON['stringify'](this['jobState']));}async['init'](){const _0x41c156=a283_0x32d02d;return this[_0x41c156(0x1b7)]=await(0x0,promises_1[_0x41c156(0x1bf)])(this[_0x41c156(0x1b5)],_0x41c156(0x1de))[_0x41c156(0x1ce)](JSON[_0x41c156(0x1d4)]),this;}async['setInProgress'](){const _0x4c68b2=a283_0x32d02d;this[_0x4c68b2(0x1b7)]['status']=logger_enums_1['JobStatus'][_0x4c68b2(0x1cb)],this[_0x4c68b2(0x1b7)][_0x4c68b2(0x1df)]=new Date()['getTime'](),await this[_0x4c68b2(0x1b9)]();}async[a283_0x32d02d(0x1ca)](){const _0x7680f2=a283_0x32d02d;this[_0x7680f2(0x1b7)][_0x7680f2(0x1c5)]=logger_enums_1[_0x7680f2(0x1da)][_0x7680f2(0x1d2)],this[_0x7680f2(0x1b7)]['completedDate']=new Date()[_0x7680f2(0x1b8)](),await this[_0x7680f2(0x1b9)]();}async['setError']({message:_0x2ebf33}){const _0x199b16=a283_0x32d02d;this[_0x199b16(0x1b7)][_0x199b16(0x1c5)]=logger_enums_1[_0x199b16(0x1da)][_0x199b16(0x1dd)],this[_0x199b16(0x1b7)]['completedDate']=new Date()[_0x199b16(0x1b8)](),this[_0x199b16(0x1b7)][_0x199b16(0x1cd)]=_0x2ebf33,await this['update']();}[a283_0x32d02d(0x1db)](_0x43db83){const _0x530d71=a283_0x32d02d;return this[_0x530d71(0x1b7)][_0x530d71(0x1cf)][_0x530d71(0x1b2)](_0x43db83),this[_0x530d71(0x1b9)]();}}function a283_0x185e(){const _0x17bda2=['addWarning','JOB_LOG_STATE_FILENAME','FAILED','utf-8','createdDate','../enums/logger.enums','(((.+)+)+)+$','1108293FcgfQx','966TUAndS','__importDefault','push','5740493TrLvBd','__esModule','statePath','10vCUoWr','jobState','getTime','update','apply','124552xUCEvX','550632IVgauW','default','1212duZyTl','readFile','search','Job\x20not\x20found.','isExistsPath','FsUtils','1782999XCRVbx','status','77HLpSnQ','getJobStatePath','stringify','8490ixkvUD','setCompleted','IN_PROGRESS','fs/promises','error','then','warnings','@flosum/utils','writeFile','COMPLETED','join','parse','getJobState','path','constructor','79EOGIRA','create','JobStatus'];a283_0x185e=function(){return _0x17bda2;};return a283_0x185e();}exports[a283_0x32d02d(0x1bd)]=StateManager;