function a299_0xb41b(_0x3ee910,_0x2618ef){const _0x22284b=a299_0x44ec();return a299_0xb41b=function(_0x2d4518,_0x6f9ee6){_0x2d4518=_0x2d4518-0xf4;let _0x44ec84=_0x22284b[_0x2d4518];return _0x44ec84;},a299_0xb41b(_0x3ee910,_0x2618ef);}const a299_0x5375cd=a299_0xb41b;(function(_0xc5cd40,_0x4adb88){const _0x5415dd=a299_0xb41b,_0x583519=_0xc5cd40();while(!![]){try{const _0x2c8163=parseInt(_0x5415dd(0x127))/0x1+-parseInt(_0x5415dd(0x125))/0x2*(parseInt(_0x5415dd(0x118))/0x3)+-parseInt(_0x5415dd(0x10a))/0x4*(parseInt(_0x5415dd(0x114))/0x5)+parseInt(_0x5415dd(0xf9))/0x6*(parseInt(_0x5415dd(0x11b))/0x7)+-parseInt(_0x5415dd(0x110))/0x8*(parseInt(_0x5415dd(0x11a))/0x9)+parseInt(_0x5415dd(0x10c))/0xa+parseInt(_0x5415dd(0xfc))/0xb*(parseInt(_0x5415dd(0x117))/0xc);if(_0x2c8163===_0x4adb88)break;else _0x583519['push'](_0x583519['shift']());}catch(_0x196059){_0x583519['push'](_0x583519['shift']());}}}(a299_0x44ec,0xde0dd));const a299_0x6f9ee6=(function(){let _0x16f7c8=!![];return function(_0xb08425,_0x59d304){const _0x2fce48=_0x16f7c8?function(){const _0x352313=a299_0xb41b;if(_0x59d304){const _0x2ab5e6=_0x59d304[_0x352313(0x10e)](_0xb08425,arguments);return _0x59d304=null,_0x2ab5e6;}}:function(){};return _0x16f7c8=![],_0x2fce48;};}()),a299_0x2d4518=a299_0x6f9ee6(this,function(){const _0x36b17b=a299_0xb41b;return a299_0x2d4518[_0x36b17b(0x105)]()[_0x36b17b(0x11c)]('(((.+)+)+)+$')[_0x36b17b(0x105)]()[_0x36b17b(0xfb)](a299_0x2d4518)[_0x36b17b(0x11c)](_0x36b17b(0x123));});a299_0x2d4518();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x114d81){const _0x35469d=a299_0xb41b;return _0x114d81&&_0x114d81[_0x35469d(0x128)]?_0x114d81:{'default':_0x114d81};};Object['defineProperty'](exports,a299_0x5375cd(0x128),{'value':!![]});const logger_enums_1=require(a299_0x5375cd(0x11e)),path_1=__importDefault(require(a299_0x5375cd(0xfa))),promises_1=require(a299_0x5375cd(0xf5)),utils_1=require(a299_0x5375cd(0x119)),job_1=require(a299_0x5375cd(0x106));class StateManager{constructor(_0x203b53){const _0x254fc6=a299_0x5375cd;this[_0x254fc6(0x107)]=StateManager[_0x254fc6(0x115)](_0x203b53);}static[a299_0x5375cd(0x115)](_0x232dfd){const _0x3a972e=a299_0x5375cd;return path_1['default'][_0x3a972e(0x104)](_0x232dfd,job_1[_0x3a972e(0x11f)]);}static async[a299_0x5375cd(0xfe)](_0x56411a,_0x3b24bd){const _0x41c352=a299_0x5375cd,_0x3841ff=StateManager[_0x41c352(0x115)](_0x56411a),_0x4df715={'id':_0x3b24bd,'status':logger_enums_1['JobStatus'][_0x41c352(0x101)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x41c352(0xf8)])(_0x3841ff,JSON['stringify'](_0x4df715));}static async[a299_0x5375cd(0x113)](_0x103c22){const _0x5a0e03=a299_0x5375cd,_0x3e19cf=StateManager['getJobStatePath'](_0x103c22);if(await utils_1[_0x5a0e03(0x116)]['isExistsPath'](_0x3e19cf))return(0x0,promises_1[_0x5a0e03(0x10f)])(_0x3e19cf,_0x5a0e03(0x108))['then'](JSON[_0x5a0e03(0x10b)]);throw new Error('Job\x20not\x20found.');}async[a299_0x5375cd(0xf7)](){const _0x2896d1=a299_0x5375cd;await(0x0,promises_1['writeFile'])(this['statePath'],JSON[_0x2896d1(0x126)](this['jobState']));}async[a299_0x5375cd(0x120)](){const _0x5da708=a299_0x5375cd;return this[_0x5da708(0xf6)]=await(0x0,promises_1[_0x5da708(0x10f)])(this[_0x5da708(0x107)],'utf-8')[_0x5da708(0xff)](JSON[_0x5da708(0x10b)]),this;}async[a299_0x5375cd(0x11d)](){const _0xc2b360=a299_0x5375cd;this[_0xc2b360(0xf6)][_0xc2b360(0xf4)]=logger_enums_1[_0xc2b360(0x100)][_0xc2b360(0x102)],this['jobState'][_0xc2b360(0x10d)]=new Date()[_0xc2b360(0x109)](),await this[_0xc2b360(0xf7)]();}async[a299_0x5375cd(0x124)](){const _0x11d162=a299_0x5375cd;this[_0x11d162(0xf6)]['status']=logger_enums_1[_0x11d162(0x100)][_0x11d162(0x111)],this[_0x11d162(0xf6)][_0x11d162(0x112)]=new Date()[_0x11d162(0x109)](),await this['update']();}async[a299_0x5375cd(0x122)]({message:_0x15a87c}){const _0x4e0e67=a299_0x5375cd;this[_0x4e0e67(0xf6)]['status']=logger_enums_1['JobStatus'][_0x4e0e67(0x121)],this[_0x4e0e67(0xf6)][_0x4e0e67(0x112)]=new Date()[_0x4e0e67(0x109)](),this[_0x4e0e67(0xf6)]['error']=_0x15a87c,await this[_0x4e0e67(0xf7)]();}[a299_0x5375cd(0xfd)](_0x326bb4){const _0x38af86=a299_0x5375cd;return this[_0x38af86(0xf6)][_0x38af86(0x103)]['push'](_0x326bb4),this[_0x38af86(0xf7)]();}}exports['default']=StateManager;function a299_0x44ec(){const _0x432033=['setCompleted','23540YxtKjx','stringify','323959qilmUp','__esModule','status','fs/promises','jobState','update','writeFile','5155062NsqThE','path','constructor','6391TBLUuo','addWarning','create','then','JobStatus','QUEUED','IN_PROGRESS','warnings','join','toString','../../../constants/job','statePath','utf-8','getTime','4QBMkQn','parse','2875170NPkcNT','createdDate','apply','readFile','90808jfvLYc','COMPLETED','completedDate','getJobState','3433060JqPbJT','getJobStatePath','FsUtils','28284OrJjjE','129gIAthI','@flosum/utils','585vOWKVn','7SCBsmd','search','setInProgress','../enums/logger.enums','JOB_LOG_STATE_FILENAME','init','FAILED','setError','(((.+)+)+)+$'];a299_0x44ec=function(){return _0x432033;};return a299_0x44ec();}