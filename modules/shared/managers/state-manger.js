function a314_0x3f0b(){const _0x57463d=['@flosum/utils','57612YgOLSf','getTime','stringify','utf-8','writeFile','../../../constants/job','35jDrENH','13893dWkSJa','4715470fRMNki','FAILED','setCompleted','join','status','52vdUzBp','default','Job\x20not\x20found.','path','search','push','115998VmwDgp','(((.+)+)+)+$','defineProperty','JobStatus','readFile','getJobState','COMPLETED','140565ZVJNpe','completedDate','error','jobState','76275YMYeXL','isExistsPath','statePath','createdDate','../enums/logger.enums','then','create','toString','35AEdMJb','28476nAaOHH','344lWtaXB','IN_PROGRESS','11796myJoXH','__importDefault','init','update','setError','fs/promises','constructor','QUEUED','parse','warnings','getJobStatePath'];a314_0x3f0b=function(){return _0x57463d;};return a314_0x3f0b();}const a314_0x311f5f=a314_0x3db0;(function(_0x25f1b9,_0x29c2c6){const _0xfae7e8=a314_0x3db0,_0x11662a=_0x25f1b9();while(!![]){try{const _0x10de80=parseInt(_0xfae7e8(0x153))/0x1+-parseInt(_0xfae7e8(0x146))/0x2*(-parseInt(_0xfae7e8(0x139))/0x3)+-parseInt(_0xfae7e8(0x160))/0x4*(parseInt(_0xfae7e8(0x13f))/0x5)+-parseInt(_0xfae7e8(0x14c))/0x6*(-parseInt(_0xfae7e8(0x15f))/0x7)+parseInt(_0xfae7e8(0x161))/0x8*(parseInt(_0xfae7e8(0x157))/0x9)+parseInt(_0xfae7e8(0x141))/0xa+parseInt(_0xfae7e8(0x140))/0xb*(-parseInt(_0xfae7e8(0x163))/0xc);if(_0x10de80===_0x29c2c6)break;else _0x11662a['push'](_0x11662a['shift']());}catch(_0x51cf1e){_0x11662a['push'](_0x11662a['shift']());}}}(a314_0x3f0b,0x44a38));const a314_0x29f2b3=(function(){let _0x4a4598=!![];return function(_0x32cb4a,_0x2c3a32){const _0x52306c=_0x4a4598?function(){if(_0x2c3a32){const _0x402375=_0x2c3a32['apply'](_0x32cb4a,arguments);return _0x2c3a32=null,_0x402375;}}:function(){};return _0x4a4598=![],_0x52306c;};}()),a314_0x3cded0=a314_0x29f2b3(this,function(){const _0x302767=a314_0x3db0;return a314_0x3cded0[_0x302767(0x15e)]()[_0x302767(0x14a)](_0x302767(0x14d))[_0x302767(0x15e)]()[_0x302767(0x133)](a314_0x3cded0)[_0x302767(0x14a)](_0x302767(0x14d));});a314_0x3cded0();function a314_0x3db0(_0xb2d94b,_0x202e28){const _0x2b9b74=a314_0x3f0b();return a314_0x3db0=function(_0x3cded0,_0x29f2b3){_0x3cded0=_0x3cded0-0x131;let _0x3f0bfb=_0x2b9b74[_0x3cded0];return _0x3f0bfb;},a314_0x3db0(_0xb2d94b,_0x202e28);}'use strict';var __importDefault=this&&this[a314_0x311f5f(0x164)]||function(_0x1b2f76){return _0x1b2f76&&_0x1b2f76['__esModule']?_0x1b2f76:{'default':_0x1b2f76};};Object[a314_0x311f5f(0x14e)](exports,'__esModule',{'value':!![]});const logger_enums_1=require(a314_0x311f5f(0x15b)),path_1=__importDefault(require(a314_0x311f5f(0x149))),promises_1=require(a314_0x311f5f(0x132)),utils_1=require(a314_0x311f5f(0x138)),job_1=require(a314_0x311f5f(0x13e));class StateManager{constructor(_0x387f34){const _0x242260=a314_0x311f5f;this[_0x242260(0x159)]=StateManager[_0x242260(0x137)](_0x387f34);}static[a314_0x311f5f(0x137)](_0x4c3f4e){const _0x5bce9d=a314_0x311f5f;return path_1['default'][_0x5bce9d(0x144)](_0x4c3f4e,job_1['JOB_LOG_STATE_FILENAME']);}static async[a314_0x311f5f(0x15d)](_0x492dc1,_0x3ff346){const _0x5aa7e3=a314_0x311f5f,_0x26e9ae=StateManager[_0x5aa7e3(0x137)](_0x492dc1),_0x5954be={'id':_0x3ff346,'status':logger_enums_1[_0x5aa7e3(0x14f)][_0x5aa7e3(0x134)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x5aa7e3(0x13d)])(_0x26e9ae,JSON[_0x5aa7e3(0x13b)](_0x5954be));}static async[a314_0x311f5f(0x151)](_0x5d9911){const _0x598c47=a314_0x311f5f,_0xb5abab=StateManager[_0x598c47(0x137)](_0x5d9911);if(await utils_1['FsUtils'][_0x598c47(0x158)](_0xb5abab))return(0x0,promises_1[_0x598c47(0x150)])(_0xb5abab,_0x598c47(0x13c))['then'](JSON[_0x598c47(0x135)]);throw new Error(_0x598c47(0x148));}async[a314_0x311f5f(0x166)](){const _0x53ef05=a314_0x311f5f;await(0x0,promises_1[_0x53ef05(0x13d)])(this[_0x53ef05(0x159)],JSON['stringify'](this[_0x53ef05(0x156)]));}async[a314_0x311f5f(0x165)](){const _0x57ec58=a314_0x311f5f;return this[_0x57ec58(0x156)]=await(0x0,promises_1[_0x57ec58(0x150)])(this[_0x57ec58(0x159)],'utf-8')[_0x57ec58(0x15c)](JSON[_0x57ec58(0x135)]),this;}async['setInProgress'](){const _0x105278=a314_0x311f5f;this[_0x105278(0x156)]['status']=logger_enums_1['JobStatus'][_0x105278(0x162)],this['jobState'][_0x105278(0x15a)]=new Date()['getTime'](),await this[_0x105278(0x166)]();}async[a314_0x311f5f(0x143)](){const _0x29d556=a314_0x311f5f;this[_0x29d556(0x156)][_0x29d556(0x145)]=logger_enums_1[_0x29d556(0x14f)][_0x29d556(0x152)],this[_0x29d556(0x156)]['completedDate']=new Date()[_0x29d556(0x13a)](),await this[_0x29d556(0x166)]();}async[a314_0x311f5f(0x131)]({message:_0x6c96cb}){const _0x3b2f27=a314_0x311f5f;this[_0x3b2f27(0x156)][_0x3b2f27(0x145)]=logger_enums_1[_0x3b2f27(0x14f)][_0x3b2f27(0x142)],this['jobState'][_0x3b2f27(0x154)]=new Date()['getTime'](),this[_0x3b2f27(0x156)][_0x3b2f27(0x155)]=_0x6c96cb,await this['update']();}['addWarning'](_0xfb2e07){const _0x3a42c0=a314_0x311f5f;return this[_0x3a42c0(0x156)][_0x3a42c0(0x136)][_0x3a42c0(0x14b)](_0xfb2e07),this[_0x3a42c0(0x166)]();}}exports[a314_0x311f5f(0x147)]=StateManager;