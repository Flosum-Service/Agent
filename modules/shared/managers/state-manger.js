const a278_0x2e8ee7=a278_0x4cf8;function a278_0x4cf8(_0x3101d4,_0x57d418){const _0x4d96ff=a278_0x2157();return a278_0x4cf8=function(_0x4aaadc,_0x580d72){_0x4aaadc=_0x4aaadc-0xfe;let _0x21575b=_0x4d96ff[_0x4aaadc];return _0x21575b;},a278_0x4cf8(_0x3101d4,_0x57d418);}(function(_0x1f9d43,_0x2c20d0){const _0x234ddc=a278_0x4cf8,_0x17e1a2=_0x1f9d43();while(!![]){try{const _0x3ad11a=parseInt(_0x234ddc(0x111))/0x1*(parseInt(_0x234ddc(0x126))/0x2)+-parseInt(_0x234ddc(0x12c))/0x3*(-parseInt(_0x234ddc(0x12a))/0x4)+-parseInt(_0x234ddc(0x124))/0x5+parseInt(_0x234ddc(0x101))/0x6+-parseInt(_0x234ddc(0x122))/0x7*(-parseInt(_0x234ddc(0x100))/0x8)+-parseInt(_0x234ddc(0x114))/0x9*(-parseInt(_0x234ddc(0x12d))/0xa)+-parseInt(_0x234ddc(0x12b))/0xb*(parseInt(_0x234ddc(0x120))/0xc);if(_0x3ad11a===_0x2c20d0)break;else _0x17e1a2['push'](_0x17e1a2['shift']());}catch(_0x5b60fd){_0x17e1a2['push'](_0x17e1a2['shift']());}}}(a278_0x2157,0xdb4e3));const a278_0x580d72=(function(){let _0x3d6299=!![];return function(_0x4c0b5c,_0x306026){const _0x3a57d9=_0x3d6299?function(){if(_0x306026){const _0x500e04=_0x306026['apply'](_0x4c0b5c,arguments);return _0x306026=null,_0x500e04;}}:function(){};return _0x3d6299=![],_0x3a57d9;};}()),a278_0x4aaadc=a278_0x580d72(this,function(){const _0x245b01=a278_0x4cf8;return a278_0x4aaadc[_0x245b01(0x10a)]()[_0x245b01(0x119)](_0x245b01(0x10c))[_0x245b01(0x10a)]()[_0x245b01(0x113)](a278_0x4aaadc)[_0x245b01(0x119)](_0x245b01(0x10c));});a278_0x4aaadc();'use strict';var __importDefault=this&&this[a278_0x2e8ee7(0x104)]||function(_0x512b5e){return _0x512b5e&&_0x512b5e['__esModule']?_0x512b5e:{'default':_0x512b5e};};Object['defineProperty'](exports,a278_0x2e8ee7(0x116),{'value':!![]});const logger_enums_1=require(a278_0x2e8ee7(0x10b)),path_1=__importDefault(require(a278_0x2e8ee7(0x10e))),promises_1=require('fs/promises'),utils_1=require(a278_0x2e8ee7(0x110)),job_1=require(a278_0x2e8ee7(0x128));class StateManager{constructor(_0x33fad3){const _0x349569=a278_0x2e8ee7;this[_0x349569(0x125)]=StateManager[_0x349569(0x11a)](_0x33fad3);}static[a278_0x2e8ee7(0x11a)](_0x1f551c){const _0x45c365=a278_0x2e8ee7;return path_1[_0x45c365(0x10d)][_0x45c365(0x112)](_0x1f551c,job_1[_0x45c365(0x106)]);}static async[a278_0x2e8ee7(0x129)](_0x59fbf2,_0xcbd2c5){const _0x2b32a8=a278_0x2e8ee7,_0xceb585=StateManager[_0x2b32a8(0x11a)](_0x59fbf2),_0x5e0eb5={'id':_0xcbd2c5,'status':logger_enums_1[_0x2b32a8(0x105)]['QUEUED'],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x2b32a8(0x127)])(_0xceb585,JSON['stringify'](_0x5e0eb5));}static async[a278_0x2e8ee7(0x115)](_0x4d4cdf){const _0x430750=a278_0x2e8ee7,_0xb9798a=StateManager[_0x430750(0x11a)](_0x4d4cdf);if(await utils_1[_0x430750(0x11e)]['isExistsPath'](_0xb9798a))return(0x0,promises_1[_0x430750(0x108)])(_0xb9798a,_0x430750(0xfe))[_0x430750(0x123)](JSON['parse']);throw new Error(_0x430750(0x121));}async['update'](){const _0x12d04e=a278_0x2e8ee7;await(0x0,promises_1[_0x12d04e(0x127)])(this[_0x12d04e(0x125)],JSON[_0x12d04e(0x10f)](this[_0x12d04e(0x118)]));}async[a278_0x2e8ee7(0x11c)](){const _0x53f2b4=a278_0x2e8ee7;return this[_0x53f2b4(0x118)]=await(0x0,promises_1[_0x53f2b4(0x108)])(this[_0x53f2b4(0x125)],_0x53f2b4(0xfe))[_0x53f2b4(0x123)](JSON[_0x53f2b4(0x107)]),this;}async[a278_0x2e8ee7(0x102)](){const _0xdb1ba3=a278_0x2e8ee7;this[_0xdb1ba3(0x118)][_0xdb1ba3(0x117)]=logger_enums_1[_0xdb1ba3(0x105)][_0xdb1ba3(0x11f)],this['jobState']['createdDate']=new Date()[_0xdb1ba3(0x11b)](),await this['update']();}async[a278_0x2e8ee7(0x11d)](){const _0x543c53=a278_0x2e8ee7;this['jobState'][_0x543c53(0x117)]=logger_enums_1['JobStatus']['COMPLETED'],this[_0x543c53(0x118)][_0x543c53(0xff)]=new Date()['getTime'](),await this[_0x543c53(0x109)]();}async[a278_0x2e8ee7(0x12e)]({message:_0xe48369}){const _0x30228e=a278_0x2e8ee7;this[_0x30228e(0x118)][_0x30228e(0x117)]=logger_enums_1[_0x30228e(0x105)]['FAILED'],this[_0x30228e(0x118)][_0x30228e(0xff)]=new Date()[_0x30228e(0x11b)](),this[_0x30228e(0x118)][_0x30228e(0x12f)]=_0xe48369,await this[_0x30228e(0x109)]();}['addWarning'](_0x3b1006){const _0x4cf94a=a278_0x2e8ee7;return this[_0x4cf94a(0x118)][_0x4cf94a(0x103)]['push'](_0x3b1006),this[_0x4cf94a(0x109)]();}}function a278_0x2157(){const _0x5db6cb=['778840CfyHIb','2672994LPagaH','setInProgress','warnings','__importDefault','JobStatus','JOB_LOG_STATE_FILENAME','parse','readFile','update','toString','../enums/logger.enums','(((.+)+)+)+$','default','path','stringify','@flosum/utils','869893FNLDjR','join','constructor','26307vCvxEl','getJobState','__esModule','status','jobState','search','getJobStatePath','getTime','init','setCompleted','FsUtils','IN_PROGRESS','12QLqeDc','Job\x20not\x20found.','56JytXyw','then','8880465dkXmuf','statePath','4sGRHcT','writeFile','../../../constants/job','create','4jBeXyD','17190085bHLGTQ','1021623hTsSPM','3190OKGTRR','setError','error','utf-8','completedDate'];a278_0x2157=function(){return _0x5db6cb;};return a278_0x2157();}exports[a278_0x2e8ee7(0x10d)]=StateManager;