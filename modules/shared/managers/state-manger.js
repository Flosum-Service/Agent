const a326_0x3e01b8=a326_0x57c6;(function(_0x46f81a,_0x2232c9){const _0x490a23=a326_0x57c6,_0x7c0132=_0x46f81a();while(!![]){try{const _0x14a401=parseInt(_0x490a23(0x125))/0x1+parseInt(_0x490a23(0x13e))/0x2+-parseInt(_0x490a23(0x141))/0x3+parseInt(_0x490a23(0x147))/0x4*(parseInt(_0x490a23(0x14a))/0x5)+parseInt(_0x490a23(0x14c))/0x6*(parseInt(_0x490a23(0x139))/0x7)+-parseInt(_0x490a23(0x12f))/0x8*(-parseInt(_0x490a23(0x11b))/0x9)+parseInt(_0x490a23(0x142))/0xa*(-parseInt(_0x490a23(0x146))/0xb);if(_0x14a401===_0x2232c9)break;else _0x7c0132['push'](_0x7c0132['shift']());}catch(_0x400167){_0x7c0132['push'](_0x7c0132['shift']());}}}(a326_0x2e4f,0xde6cd));const a326_0x615e30=(function(){let _0x49175f=!![];return function(_0xd815b2,_0x56e6c3){const _0x44c695=_0x49175f?function(){if(_0x56e6c3){const _0x3482b7=_0x56e6c3['apply'](_0xd815b2,arguments);return _0x56e6c3=null,_0x3482b7;}}:function(){};return _0x49175f=![],_0x44c695;};}()),a326_0x4fbc7b=a326_0x615e30(this,function(){const _0x48bb9a=a326_0x57c6;return a326_0x4fbc7b[_0x48bb9a(0x12b)]()[_0x48bb9a(0x149)]('(((.+)+)+)+$')[_0x48bb9a(0x12b)]()[_0x48bb9a(0x132)](a326_0x4fbc7b)[_0x48bb9a(0x149)](_0x48bb9a(0x143));});a326_0x4fbc7b();'use strict';var __importDefault=this&&this[a326_0x3e01b8(0x121)]||function(_0x5d650d){const _0x3c602f=a326_0x3e01b8;return _0x5d650d&&_0x5d650d[_0x3c602f(0x13f)]?_0x5d650d:{'default':_0x5d650d};};function a326_0x2e4f(){const _0x2df713=['8YMzWBX','QUEUED','status','constructor','../enums/logger.enums','isExistsPath','COMPLETED','JOB_LOG_STATE_FILENAME','readFile','addWarning','70ITOhzI','FAILED','path','getTime','setCompleted','2712882ATuKdl','__esModule','stringify','5252466GAuruc','1380gaAPrl','(((.+)+)+)+$','then','default','227711JHTRlP','28OgsiwB','init','search','94625YoPhnc','parse','794592edEpvL','jobState','getJobState','statePath','update','14142483qVasLM','@flosum/utils','setError','utf-8','getJobStatePath','push','__importDefault','FsUtils','completedDate','IN_PROGRESS','1133990Cmucse','writeFile','Job\x20not\x20found.','createdDate','../../../constants/job','join','toString','fs/promises','defineProperty','JobStatus'];a326_0x2e4f=function(){return _0x2df713;};return a326_0x2e4f();}function a326_0x57c6(_0x500126,_0x4a5b2b){const _0x49fdee=a326_0x2e4f();return a326_0x57c6=function(_0x4fbc7b,_0x615e30){_0x4fbc7b=_0x4fbc7b-0x118;let _0x2e4f5d=_0x49fdee[_0x4fbc7b];return _0x2e4f5d;},a326_0x57c6(_0x500126,_0x4a5b2b);}Object[a326_0x3e01b8(0x12d)](exports,'__esModule',{'value':!![]});const logger_enums_1=require(a326_0x3e01b8(0x133)),path_1=__importDefault(require(a326_0x3e01b8(0x13b))),promises_1=require(a326_0x3e01b8(0x12c)),utils_1=require(a326_0x3e01b8(0x11c)),job_1=require(a326_0x3e01b8(0x129));class StateManager{constructor(_0x4d08b2){const _0x304341=a326_0x3e01b8;this[_0x304341(0x119)]=StateManager[_0x304341(0x11f)](_0x4d08b2);}static['getJobStatePath'](_0x3b06f){const _0x92a15c=a326_0x3e01b8;return path_1['default'][_0x92a15c(0x12a)](_0x3b06f,job_1[_0x92a15c(0x136)]);}static async['create'](_0x222c47,_0x58d3af){const _0x3fb03e=a326_0x3e01b8,_0x2c008c=StateManager[_0x3fb03e(0x11f)](_0x222c47),_0x219b2a={'id':_0x58d3af,'status':logger_enums_1[_0x3fb03e(0x12e)][_0x3fb03e(0x130)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x3fb03e(0x126)])(_0x2c008c,JSON[_0x3fb03e(0x140)](_0x219b2a));}static async[a326_0x3e01b8(0x118)](_0x110713){const _0x465794=a326_0x3e01b8,_0x26ea2d=StateManager[_0x465794(0x11f)](_0x110713);if(await utils_1[_0x465794(0x122)][_0x465794(0x134)](_0x26ea2d))return(0x0,promises_1[_0x465794(0x137)])(_0x26ea2d,_0x465794(0x11e))[_0x465794(0x144)](JSON[_0x465794(0x14b)]);throw new Error(_0x465794(0x127));}async[a326_0x3e01b8(0x11a)](){const _0x5efcbb=a326_0x3e01b8;await(0x0,promises_1['writeFile'])(this[_0x5efcbb(0x119)],JSON[_0x5efcbb(0x140)](this['jobState']));}async[a326_0x3e01b8(0x148)](){const _0x56f5ea=a326_0x3e01b8;return this[_0x56f5ea(0x14d)]=await(0x0,promises_1[_0x56f5ea(0x137)])(this[_0x56f5ea(0x119)],_0x56f5ea(0x11e))['then'](JSON[_0x56f5ea(0x14b)]),this;}async['setInProgress'](){const _0x1f1850=a326_0x3e01b8;this[_0x1f1850(0x14d)][_0x1f1850(0x131)]=logger_enums_1[_0x1f1850(0x12e)][_0x1f1850(0x124)],this[_0x1f1850(0x14d)][_0x1f1850(0x128)]=new Date()[_0x1f1850(0x13c)](),await this['update']();}async[a326_0x3e01b8(0x13d)](){const _0x59e397=a326_0x3e01b8;this[_0x59e397(0x14d)][_0x59e397(0x131)]=logger_enums_1[_0x59e397(0x12e)][_0x59e397(0x135)],this['jobState'][_0x59e397(0x123)]=new Date()[_0x59e397(0x13c)](),await this[_0x59e397(0x11a)]();}async[a326_0x3e01b8(0x11d)]({message:_0x5c8c6b}){const _0x4bd588=a326_0x3e01b8;this[_0x4bd588(0x14d)][_0x4bd588(0x131)]=logger_enums_1[_0x4bd588(0x12e)][_0x4bd588(0x13a)],this[_0x4bd588(0x14d)][_0x4bd588(0x123)]=new Date()[_0x4bd588(0x13c)](),this[_0x4bd588(0x14d)]['error']=_0x5c8c6b,await this[_0x4bd588(0x11a)]();}[a326_0x3e01b8(0x138)](_0x454d00){const _0x59cf97=a326_0x3e01b8;return this[_0x59cf97(0x14d)]['warnings'][_0x59cf97(0x120)](_0x454d00),this[_0x59cf97(0x11a)]();}}exports[a326_0x3e01b8(0x145)]=StateManager;