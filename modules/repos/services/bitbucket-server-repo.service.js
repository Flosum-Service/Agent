const a111_0x5dd009=a111_0xa1ed;(function(_0x31153d,_0x53f759){const _0x3cc4e7=a111_0xa1ed,_0x3b4065=_0x31153d();while(!![]){try{const _0x3d9ec9=-parseInt(_0x3cc4e7(0x134))/0x1*(parseInt(_0x3cc4e7(0x163))/0x2)+parseInt(_0x3cc4e7(0x12a))/0x3*(parseInt(_0x3cc4e7(0x130))/0x4)+-parseInt(_0x3cc4e7(0x16f))/0x5*(-parseInt(_0x3cc4e7(0x164))/0x6)+parseInt(_0x3cc4e7(0x15f))/0x7*(-parseInt(_0x3cc4e7(0x160))/0x8)+-parseInt(_0x3cc4e7(0x145))/0x9*(parseInt(_0x3cc4e7(0x120))/0xa)+parseInt(_0x3cc4e7(0x124))/0xb+-parseInt(_0x3cc4e7(0x16c))/0xc*(parseInt(_0x3cc4e7(0x157))/0xd);if(_0x3d9ec9===_0x53f759)break;else _0x3b4065['push'](_0x3b4065['shift']());}catch(_0x5b2fa2){_0x3b4065['push'](_0x3b4065['shift']());}}}(a111_0x3768,0x9d649));function a111_0x3768(){const _0x3ee938=['projects/','function','GitRepoService','master','project','__param','post','autoInit','baseURL','design:paramtypes','length','metadata','9JXeazu','defaultBranch','./git-repo.service','isLastPage','update','defaults','../../../core/errors/bad-request.error','BitbucketServerRepoService','isDefault','push','apiBody','/default-branch','fromBitbucketServer','get','apiUrl','Inject','AuthSettingsService','values','5675566vjdnaE','BadRequestError','map','/repos/','/projects/','/branches','defineProperty','../../../core/errors/api.error','696521dYouID','16xCvGRA','create','name','122SgRaax','314166VtGDuM','find','Repo','NotFoundError','decorate','request','put','delete','12cssuCr','joinURL','__metadata','5xSVfyh','187930UBPMeI','then','search','(((.+)+)+)+$','7388029YrxCjz','/repos','object','api','__decorate','../repo.class','2139CidQiS','../../internal/git.internal','../../git-api/services/bitbucket-server-api.service','bitbucketServer','ApiError','typedi','6572DzqfsD','toString','getOne','createEmptyBranch','9777dhwkGq','BitbucketServerApiService','Service','constructor','displayId'];a111_0x3768=function(){return _0x3ee938;};return a111_0x3768();}const a111_0x227c3b=(function(){let _0x58cae2=!![];return function(_0x341b55,_0x4bb04d){const _0xe303fb=_0x58cae2?function(){if(_0x4bb04d){const _0xe53285=_0x4bb04d['apply'](_0x341b55,arguments);return _0x4bb04d=null,_0xe53285;}}:function(){};return _0x58cae2=![],_0xe303fb;};}()),a111_0x2de4d9=a111_0x227c3b(this,function(){const _0x338b14=a111_0xa1ed;return a111_0x2de4d9[_0x338b14(0x131)]()[_0x338b14(0x122)](_0x338b14(0x123))[_0x338b14(0x131)]()[_0x338b14(0x137)](a111_0x2de4d9)[_0x338b14(0x122)](_0x338b14(0x123));});a111_0x2de4d9();function a111_0xa1ed(_0x2c944f,_0x2861ba){const _0x32b5b5=a111_0x3768();return a111_0xa1ed=function(_0x2de4d9,_0x227c3b){_0x2de4d9=_0x2de4d9-0x120;let _0x376869=_0x32b5b5[_0x2de4d9];return _0x376869;},a111_0xa1ed(_0x2c944f,_0x2861ba);}'use strict';var __decorate=this&&this[a111_0x5dd009(0x128)]||function(_0x3e6dd8,_0x34b712,_0x46bac9,_0x1fcbaf){const _0x145e08=a111_0x5dd009;var _0x4fceb8=arguments[_0x145e08(0x143)],_0x2c39fb=_0x4fceb8<0x3?_0x34b712:_0x1fcbaf===null?_0x1fcbaf=Object['getOwnPropertyDescriptor'](_0x34b712,_0x46bac9):_0x1fcbaf,_0x371bb1;if(typeof Reflect===_0x145e08(0x126)&&typeof Reflect[_0x145e08(0x168)]==='function')_0x2c39fb=Reflect[_0x145e08(0x168)](_0x3e6dd8,_0x34b712,_0x46bac9,_0x1fcbaf);else{for(var _0x43ba5f=_0x3e6dd8['length']-0x1;_0x43ba5f>=0x0;_0x43ba5f--)if(_0x371bb1=_0x3e6dd8[_0x43ba5f])_0x2c39fb=(_0x4fceb8<0x3?_0x371bb1(_0x2c39fb):_0x4fceb8>0x3?_0x371bb1(_0x34b712,_0x46bac9,_0x2c39fb):_0x371bb1(_0x34b712,_0x46bac9))||_0x2c39fb;}return _0x4fceb8>0x3&&_0x2c39fb&&Object[_0x145e08(0x15d)](_0x34b712,_0x46bac9,_0x2c39fb),_0x2c39fb;},__metadata=this&&this[a111_0x5dd009(0x16e)]||function(_0x3061df,_0x29618b){const _0x22edec=a111_0x5dd009;if(typeof Reflect===_0x22edec(0x126)&&typeof Reflect[_0x22edec(0x144)]===_0x22edec(0x13a))return Reflect[_0x22edec(0x144)](_0x3061df,_0x29618b);},__param=this&&this[a111_0x5dd009(0x13e)]||function(_0x58dcf3,_0x4ed1be){return function(_0x3a32fd,_0x42be12){_0x4ed1be(_0x3a32fd,_0x42be12,_0x58dcf3);};};Object[a111_0x5dd009(0x15d)](exports,'__esModule',{'value':!![]}),exports[a111_0x5dd009(0x14c)]=void 0x0;const bad_request_error_1=require(a111_0x5dd009(0x14b)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a111_0x5dd009(0x12f)),api_error_1=require(a111_0x5dd009(0x15e)),bitbucket_server_api_service_1=require(a111_0x5dd009(0x12c)),git_internal_1=require(a111_0x5dd009(0x12b)),utils_1=require('../../shared/utils'),repo_class_1=require(a111_0x5dd009(0x129)),git_repo_service_1=require(a111_0x5dd009(0x147));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0x5dd009(0x13b)]{constructor(_0x45b749,_0x58ef55){const _0x1422de=a111_0x5dd009;super(_0x45b749),this[_0x1422de(0x127)]=_0x45b749,this['project']=_0x58ef55[_0x1422de(0x12d)]['project'];}async[a111_0x5dd009(0x161)](_0x4908d7){const _0x224106=a111_0x5dd009;try{const _0x4001d2={'name':_0x4908d7[_0x224106(0x162)],'scmId':'git','defaultBranch':_0x4908d7[_0x224106(0x146)],..._0x4908d7[_0x224106(0x14f)]||{}},_0xcf9873=await this[_0x224106(0x169)][_0x224106(0x13f)]('projects/'+this[_0x224106(0x13d)]+_0x224106(0x125),_0x4001d2),_0x666687=repo_class_1[_0x224106(0x166)]['fromBitbucketServer'](_0xcf9873,'');return _0x4908d7[_0x224106(0x140)]&&await git_internal_1['Git'][_0x224106(0x133)](_0x666687,_0x4908d7[_0x224106(0x146)]||_0x224106(0x13c)),this[_0x224106(0x132)](_0x666687[_0x224106(0x162)]);}catch(_0x4b4608){if(_0x4b4608 instanceof api_error_1['ApiError'])throw _0x4b4608;throw new bad_request_error_1[(_0x224106(0x158))](_0x4b4608);}}async['getAll'](){const _0x2efff5=a111_0x5dd009;try{const _0x3274e2=[];let _0x3afe10;do{_0x3afe10=await this[_0x2efff5(0x169)][_0x2efff5(0x152)](_0x2efff5(0x139)+this[_0x2efff5(0x13d)]+_0x2efff5(0x125),{'params':{'limit':0x64,'start':_0x3afe10?_0x3afe10['nextPageStart']:0x0}}),_0x3274e2[_0x2efff5(0x14e)](..._0x3afe10[_0x2efff5(0x156)]);}while(!_0x3afe10[_0x2efff5(0x148)]);return _0x3274e2[_0x2efff5(0x159)](_0x38b93d=>repo_class_1[_0x2efff5(0x166)][_0x2efff5(0x151)](_0x38b93d,utils_1[_0x2efff5(0x16d)](this['request'][_0x2efff5(0x14a)][_0x2efff5(0x141)]||'',_0x2efff5(0x15b)+this['project']+_0x2efff5(0x15a)+_0x38b93d['slug'])));}catch(_0x115fbd){if(_0x115fbd instanceof api_error_1[_0x2efff5(0x12e)])throw _0x115fbd;throw new not_found_error_1['NotFoundError'](_0x115fbd);}}async[a111_0x5dd009(0x132)](_0x1e5004){const _0x555c5c=a111_0x5dd009;var _0x4c10f2;try{const _0x448d2a=await this[_0x555c5c(0x169)][_0x555c5c(0x152)]('projects/'+this['project']+'/repos/'+_0x1e5004),_0x49ca19=repo_class_1[_0x555c5c(0x166)][_0x555c5c(0x151)](_0x448d2a,utils_1[_0x555c5c(0x16d)](this[_0x555c5c(0x169)][_0x555c5c(0x14a)]['baseURL']||'',_0x555c5c(0x15b)+this[_0x555c5c(0x13d)]+'/repos/'+_0x1e5004)),_0x2206d3=await this[_0x555c5c(0x169)][_0x555c5c(0x152)](_0x49ca19[_0x555c5c(0x153)]+_0x555c5c(0x15c))[_0x555c5c(0x121)](_0x230d69=>_0x230d69[_0x555c5c(0x156)]);return _0x49ca19['defaultBranch']=(_0x4c10f2=_0x2206d3[_0x555c5c(0x165)](_0x2060c6=>_0x2060c6[_0x555c5c(0x14d)]===!![]))===null||_0x4c10f2===void 0x0?void 0x0:_0x4c10f2[_0x555c5c(0x138)],_0x49ca19;}catch(_0x5ce9c6){if(_0x5ce9c6 instanceof api_error_1[_0x555c5c(0x12e)])throw _0x5ce9c6;throw new not_found_error_1[(_0x555c5c(0x167))](_0x5ce9c6);}}async[a111_0x5dd009(0x149)](_0x1895ea,_0x1d6a77){const _0x2b6fcb=a111_0x5dd009;try{const _0x1912e8=await this[_0x2b6fcb(0x169)][_0x2b6fcb(0x16a)](_0x2b6fcb(0x139)+this[_0x2b6fcb(0x13d)]+_0x2b6fcb(0x15a)+_0x1895ea,_0x1d6a77),_0x5d591b=await this[_0x2b6fcb(0x169)]['get'](_0x2b6fcb(0x139)+this[_0x2b6fcb(0x13d)]+_0x2b6fcb(0x15a)+_0x1895ea+_0x2b6fcb(0x150)),_0x53d181=repo_class_1[_0x2b6fcb(0x166)][_0x2b6fcb(0x151)](_0x1912e8,utils_1[_0x2b6fcb(0x16d)](this[_0x2b6fcb(0x169)][_0x2b6fcb(0x14a)][_0x2b6fcb(0x141)]||'',_0x2b6fcb(0x15b)+this['project']+_0x2b6fcb(0x15a)+_0x1895ea));return _0x53d181[_0x2b6fcb(0x146)]=_0x5d591b[_0x2b6fcb(0x138)],_0x53d181;}catch(_0x1218e7){if(_0x1218e7 instanceof api_error_1[_0x2b6fcb(0x12e)])throw _0x1218e7;throw new not_found_error_1['NotFoundError'](_0x1218e7);}}async[a111_0x5dd009(0x16b)](_0x1a81b7){const _0xbd0fdf=a111_0x5dd009;try{await this[_0xbd0fdf(0x132)](_0x1a81b7),await this[_0xbd0fdf(0x169)]['delete'](_0xbd0fdf(0x139)+this[_0xbd0fdf(0x13d)]+_0xbd0fdf(0x15a)+_0x1a81b7);}catch(_0x4c5679){if(_0x4c5679 instanceof api_error_1['ApiError'])throw _0x4c5679;throw new bad_request_error_1[(_0xbd0fdf(0x158))](_0x4c5679);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x5dd009(0x136)](),__param(0x1,typedi_1[a111_0x5dd009(0x154)]()),__metadata(a111_0x5dd009(0x142),[bitbucket_server_api_service_1[a111_0x5dd009(0x135)],auth_settings_service_1[a111_0x5dd009(0x155)]])],BitbucketServerRepoService),exports[a111_0x5dd009(0x14c)]=BitbucketServerRepoService;