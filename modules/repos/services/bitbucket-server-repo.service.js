const a111_0xa4ace9=a111_0x35bc;function a111_0x3e46(){const _0x24f8ed=['defaultBranch','12bkNTEr','1MeJSxe','../../git-api/services/bitbucket-server-api.service','BadRequestError','22779EXVPfY','../../../core/errors/api.error','defaults','toString','872LGqoLd','1350578UVzZMu','1735062HHYPXy','length','update','slug','../../../core/errors/not-found.error','get','constructor','../repo.class','BitbucketServerRepoService','getOwnPropertyDescriptor','apply','push','(((.+)+)+)+$','request','./git-repo.service','api','createEmptyBranch','/repos','../../internal/git.internal','/repos/','13zWFrfT','Repo','function','1608884KLjcKl','project','decorate','autoInit','/branches','14587896uHTNeK','put','name','values','/default-branch','joinURL','metadata','delete','BitbucketServerApiService','git','search','8960sEWGOf','object','displayId','then','getOne','typedi','projects/','/projects/','3yWhkoK','ApiError','isDefault','bitbucketServer','../../shared/services/auth-settings.service','find','map','1556300jcjBSh','3058GjRmeq','../../shared/utils','NotFoundError','../../../core/errors/bad-request.error','Git','GitRepoService','fromBitbucketServer','Inject','baseURL','defineProperty','master'];a111_0x3e46=function(){return _0x24f8ed;};return a111_0x3e46();}(function(_0x34e964,_0x5afbab){const _0x54c2cf=a111_0x35bc,_0xef3446=_0x34e964();while(!![]){try{const _0x1e661e=-parseInt(_0x54c2cf(0x189))/0x1*(parseInt(_0x54c2cf(0x191))/0x2)+parseInt(_0x54c2cf(0x174))/0x3*(-parseInt(_0x54c2cf(0x15c))/0x4)+parseInt(_0x54c2cf(0x17b))/0x5+parseInt(_0x54c2cf(0x188))/0x6*(parseInt(_0x54c2cf(0x192))/0x7)+-parseInt(_0x54c2cf(0x190))/0x8*(parseInt(_0x54c2cf(0x18c))/0x9)+-parseInt(_0x54c2cf(0x16c))/0xa*(parseInt(_0x54c2cf(0x17c))/0xb)+parseInt(_0x54c2cf(0x161))/0xc*(parseInt(_0x54c2cf(0x159))/0xd);if(_0x1e661e===_0x5afbab)break;else _0xef3446['push'](_0xef3446['shift']());}catch(_0x32218f){_0xef3446['push'](_0xef3446['shift']());}}}(a111_0x3e46,0x6694d));const a111_0x3ec62c=(function(){let _0x3ee623=!![];return function(_0x2302ac,_0x37e995){const _0x1d1f91=_0x3ee623?function(){const _0xcdd9e4=a111_0x35bc;if(_0x37e995){const _0x5ae37b=_0x37e995[_0xcdd9e4(0x14f)](_0x2302ac,arguments);return _0x37e995=null,_0x5ae37b;}}:function(){};return _0x3ee623=![],_0x1d1f91;};}()),a111_0xcf5ad3=a111_0x3ec62c(this,function(){const _0x12b407=a111_0x35bc;return a111_0xcf5ad3[_0x12b407(0x18f)]()[_0x12b407(0x16b)](_0x12b407(0x151))[_0x12b407(0x18f)]()[_0x12b407(0x198)](a111_0xcf5ad3)['search']('(((.+)+)+)+$');});a111_0xcf5ad3();'use strict';function a111_0x35bc(_0x20e5bc,_0x3f656d){const _0x556fd4=a111_0x3e46();return a111_0x35bc=function(_0xcf5ad3,_0x3ec62c){_0xcf5ad3=_0xcf5ad3-0x14e;let _0x3e464b=_0x556fd4[_0xcf5ad3];return _0x3e464b;},a111_0x35bc(_0x20e5bc,_0x3f656d);}var __decorate=this&&this['__decorate']||function(_0x5974ed,_0x5dca4c,_0x1ae922,_0x59f5bf){const _0x4c6e3d=a111_0x35bc;var _0x2e11cb=arguments[_0x4c6e3d(0x193)],_0x4c365a=_0x2e11cb<0x3?_0x5dca4c:_0x59f5bf===null?_0x59f5bf=Object[_0x4c6e3d(0x14e)](_0x5dca4c,_0x1ae922):_0x59f5bf,_0x42d679;if(typeof Reflect===_0x4c6e3d(0x16d)&&typeof Reflect[_0x4c6e3d(0x15e)]===_0x4c6e3d(0x15b))_0x4c365a=Reflect[_0x4c6e3d(0x15e)](_0x5974ed,_0x5dca4c,_0x1ae922,_0x59f5bf);else{for(var _0x49feff=_0x5974ed['length']-0x1;_0x49feff>=0x0;_0x49feff--)if(_0x42d679=_0x5974ed[_0x49feff])_0x4c365a=(_0x2e11cb<0x3?_0x42d679(_0x4c365a):_0x2e11cb>0x3?_0x42d679(_0x5dca4c,_0x1ae922,_0x4c365a):_0x42d679(_0x5dca4c,_0x1ae922))||_0x4c365a;}return _0x2e11cb>0x3&&_0x4c365a&&Object['defineProperty'](_0x5dca4c,_0x1ae922,_0x4c365a),_0x4c365a;},__metadata=this&&this['__metadata']||function(_0xc65307,_0x7284f5){const _0x2b9b91=a111_0x35bc;if(typeof Reflect===_0x2b9b91(0x16d)&&typeof Reflect['metadata']==='function')return Reflect[_0x2b9b91(0x167)](_0xc65307,_0x7284f5);},__param=this&&this['__param']||function(_0x2321f7,_0x27f147){return function(_0x5067ca,_0x16a2db){_0x27f147(_0x5067ca,_0x16a2db,_0x2321f7);};};Object[a111_0xa4ace9(0x185)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a111_0xa4ace9(0x17f)),not_found_error_1=require(a111_0xa4ace9(0x196)),auth_settings_service_1=require(a111_0xa4ace9(0x178)),typedi_1=require(a111_0xa4ace9(0x171)),api_error_1=require(a111_0xa4ace9(0x18d)),bitbucket_server_api_service_1=require(a111_0xa4ace9(0x18a)),git_internal_1=require(a111_0xa4ace9(0x157)),utils_1=require(a111_0xa4ace9(0x17d)),repo_class_1=require(a111_0xa4ace9(0x199)),git_repo_service_1=require(a111_0xa4ace9(0x153));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0xa4ace9(0x181)]{constructor(_0x4cfbde,_0x4f47a9){const _0x9113f5=a111_0xa4ace9;super(_0x4cfbde),this[_0x9113f5(0x154)]=_0x4cfbde,this[_0x9113f5(0x15d)]=_0x4f47a9[_0x9113f5(0x177)][_0x9113f5(0x15d)];}async['create'](_0x38e41e){const _0x58b1ed=a111_0xa4ace9;try{const _0x3fd347={'name':_0x38e41e[_0x58b1ed(0x163)],'scmId':_0x58b1ed(0x16a),'defaultBranch':_0x38e41e['defaultBranch'],..._0x38e41e['apiBody']||{}},_0x5cb3bd=await this[_0x58b1ed(0x152)]['post'](_0x58b1ed(0x172)+this[_0x58b1ed(0x15d)]+'/repos',_0x3fd347),_0x1975c5=repo_class_1[_0x58b1ed(0x15a)][_0x58b1ed(0x182)](_0x5cb3bd,'');return _0x38e41e[_0x58b1ed(0x15f)]&&await git_internal_1[_0x58b1ed(0x180)][_0x58b1ed(0x155)](_0x1975c5,_0x38e41e[_0x58b1ed(0x187)]||_0x58b1ed(0x186)),this[_0x58b1ed(0x170)](_0x1975c5[_0x58b1ed(0x163)]);}catch(_0x24a02a){if(_0x24a02a instanceof api_error_1[_0x58b1ed(0x175)])throw _0x24a02a;throw new bad_request_error_1['BadRequestError'](_0x24a02a);}}async['getAll'](){const _0x163ba2=a111_0xa4ace9;try{const _0x4e9b48=[];let _0x2e2d4d;do{_0x2e2d4d=await this[_0x163ba2(0x152)]['get'](_0x163ba2(0x172)+this['project']+_0x163ba2(0x156),{'params':{'limit':0x64,'start':_0x2e2d4d?_0x2e2d4d['nextPageStart']:0x0}}),_0x4e9b48[_0x163ba2(0x150)](..._0x2e2d4d[_0x163ba2(0x164)]);}while(!_0x2e2d4d['isLastPage']);return _0x4e9b48[_0x163ba2(0x17a)](_0xa1de7b=>repo_class_1['Repo'][_0x163ba2(0x182)](_0xa1de7b,utils_1[_0x163ba2(0x166)](this[_0x163ba2(0x152)][_0x163ba2(0x18e)][_0x163ba2(0x184)]||'',_0x163ba2(0x173)+this[_0x163ba2(0x15d)]+_0x163ba2(0x158)+_0xa1de7b[_0x163ba2(0x195)])));}catch(_0x4c16f4){if(_0x4c16f4 instanceof api_error_1[_0x163ba2(0x175)])throw _0x4c16f4;throw new not_found_error_1[(_0x163ba2(0x17e))](_0x4c16f4);}}async[a111_0xa4ace9(0x170)](_0x4d573e){const _0x57d1ea=a111_0xa4ace9;var _0x29841d;try{const _0x19b875=await this[_0x57d1ea(0x152)][_0x57d1ea(0x197)]('projects/'+this[_0x57d1ea(0x15d)]+_0x57d1ea(0x158)+_0x4d573e),_0x479202=repo_class_1[_0x57d1ea(0x15a)][_0x57d1ea(0x182)](_0x19b875,utils_1[_0x57d1ea(0x166)](this[_0x57d1ea(0x152)][_0x57d1ea(0x18e)]['baseURL']||'',_0x57d1ea(0x173)+this[_0x57d1ea(0x15d)]+'/repos/'+_0x4d573e)),_0x4d8b3c=await this['request'][_0x57d1ea(0x197)](_0x479202['apiUrl']+_0x57d1ea(0x160))[_0x57d1ea(0x16f)](_0x1210f3=>_0x1210f3[_0x57d1ea(0x164)]);return _0x479202[_0x57d1ea(0x187)]=(_0x29841d=_0x4d8b3c[_0x57d1ea(0x179)](_0x4bd2df=>_0x4bd2df[_0x57d1ea(0x176)]===!![]))===null||_0x29841d===void 0x0?void 0x0:_0x29841d[_0x57d1ea(0x16e)],_0x479202;}catch(_0x366d5b){if(_0x366d5b instanceof api_error_1[_0x57d1ea(0x175)])throw _0x366d5b;throw new not_found_error_1[(_0x57d1ea(0x17e))](_0x366d5b);}}async[a111_0xa4ace9(0x194)](_0x4e2343,_0xdbb65a){const _0x6cad83=a111_0xa4ace9;try{const _0x3c398b=await this['request'][_0x6cad83(0x162)](_0x6cad83(0x172)+this[_0x6cad83(0x15d)]+_0x6cad83(0x158)+_0x4e2343,_0xdbb65a),_0xe439d5=await this['request']['get'](_0x6cad83(0x172)+this['project']+'/repos/'+_0x4e2343+_0x6cad83(0x165)),_0x117c7e=repo_class_1[_0x6cad83(0x15a)][_0x6cad83(0x182)](_0x3c398b,utils_1['joinURL'](this[_0x6cad83(0x152)][_0x6cad83(0x18e)][_0x6cad83(0x184)]||'',_0x6cad83(0x173)+this['project']+_0x6cad83(0x158)+_0x4e2343));return _0x117c7e[_0x6cad83(0x187)]=_0xe439d5[_0x6cad83(0x16e)],_0x117c7e;}catch(_0x18af46){if(_0x18af46 instanceof api_error_1[_0x6cad83(0x175)])throw _0x18af46;throw new not_found_error_1[(_0x6cad83(0x17e))](_0x18af46);}}async[a111_0xa4ace9(0x168)](_0x6c8bc8){const _0x4919ce=a111_0xa4ace9;try{await this[_0x4919ce(0x170)](_0x6c8bc8),await this[_0x4919ce(0x152)][_0x4919ce(0x168)](_0x4919ce(0x172)+this[_0x4919ce(0x15d)]+'/repos/'+_0x6c8bc8);}catch(_0x1f667b){if(_0x1f667b instanceof api_error_1[_0x4919ce(0x175)])throw _0x1f667b;throw new bad_request_error_1[(_0x4919ce(0x18b))](_0x1f667b);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a111_0xa4ace9(0x183)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a111_0xa4ace9(0x169)],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports[a111_0xa4ace9(0x19a)]=BitbucketServerRepoService;