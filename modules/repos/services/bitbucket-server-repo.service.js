const a110_0x49dd96=a110_0x1645;(function(_0x16868c,_0x8840c3){const _0x1424c3=a110_0x1645,_0x255824=_0x16868c();while(!![]){try{const _0x3e33f8=-parseInt(_0x1424c3(0x216))/0x1+-parseInt(_0x1424c3(0x1e3))/0x2+-parseInt(_0x1424c3(0x20a))/0x3*(parseInt(_0x1424c3(0x204))/0x4)+parseInt(_0x1424c3(0x1e8))/0x5+parseInt(_0x1424c3(0x1e7))/0x6+-parseInt(_0x1424c3(0x201))/0x7+-parseInt(_0x1424c3(0x1f7))/0x8*(-parseInt(_0x1424c3(0x1f9))/0x9);if(_0x3e33f8===_0x8840c3)break;else _0x255824['push'](_0x255824['shift']());}catch(_0x389fa3){_0x255824['push'](_0x255824['shift']());}}}(a110_0xc738,0xe0555));const a110_0xd9ee54=(function(){let _0x597ef2=!![];return function(_0x3e520d,_0x59b09a){const _0x182caf=_0x597ef2?function(){if(_0x59b09a){const _0x26a6ce=_0x59b09a['apply'](_0x3e520d,arguments);return _0x59b09a=null,_0x26a6ce;}}:function(){};return _0x597ef2=![],_0x182caf;};}()),a110_0x24b1d7=a110_0xd9ee54(this,function(){const _0x2a81c5=a110_0x1645;return a110_0x24b1d7[_0x2a81c5(0x208)]()[_0x2a81c5(0x1d6)](_0x2a81c5(0x200))[_0x2a81c5(0x208)]()['constructor'](a110_0x24b1d7)[_0x2a81c5(0x1d6)](_0x2a81c5(0x200));});function a110_0xc738(){const _0x49e85c=['git','750654wyiPrJ','autoInit','__esModule','fromBitbucketServer','slug','search','../../shared/utils','getOne','create','baseURL','delete','map','Repo','decorate','values','ApiError','projects/','../repo.class','1899012VRowRI','../../../core/errors/bad-request.error','/repos/','then','2169180SVIAwA','2256850VFDsOr','GitRepoService','request','__param','/repos','../../shared/services/auth-settings.service','bitbucketServer','BadRequestError','length','design:paramtypes','object','nextPageStart','project','./git-repo.service','isDefault','832vwaiGR','defaultBranch','279036lyMFLd','getOwnPropertyDescriptor','Inject','defaults','/default-branch','__metadata','displayId','(((.+)+)+)+$','3084655FbDWIn','push','get','4lLlRqq','BitbucketServerApiService','apiBody','../../../core/errors/not-found.error','toString','__decorate','2932866fuImoB','joinURL','function','metadata','Service','master','NotFoundError','find','../../../core/errors/api.error','defineProperty','/projects/'];a110_0xc738=function(){return _0x49e85c;};return a110_0xc738();}a110_0x24b1d7();'use strict';var __decorate=this&&this[a110_0x49dd96(0x209)]||function(_0x3de80e,_0x56f072,_0x226b65,_0x52115f){const _0x25f123=a110_0x49dd96;var _0x488f62=arguments[_0x25f123(0x1f0)],_0x33f6f8=_0x488f62<0x3?_0x56f072:_0x52115f===null?_0x52115f=Object[_0x25f123(0x1fa)](_0x56f072,_0x226b65):_0x52115f,_0x317358;if(typeof Reflect===_0x25f123(0x1f2)&&typeof Reflect[_0x25f123(0x1de)]===_0x25f123(0x20c))_0x33f6f8=Reflect[_0x25f123(0x1de)](_0x3de80e,_0x56f072,_0x226b65,_0x52115f);else{for(var _0x540a12=_0x3de80e['length']-0x1;_0x540a12>=0x0;_0x540a12--)if(_0x317358=_0x3de80e[_0x540a12])_0x33f6f8=(_0x488f62<0x3?_0x317358(_0x33f6f8):_0x488f62>0x3?_0x317358(_0x56f072,_0x226b65,_0x33f6f8):_0x317358(_0x56f072,_0x226b65))||_0x33f6f8;}return _0x488f62>0x3&&_0x33f6f8&&Object[_0x25f123(0x213)](_0x56f072,_0x226b65,_0x33f6f8),_0x33f6f8;},__metadata=this&&this[a110_0x49dd96(0x1fe)]||function(_0xc61f7e,_0x59e451){const _0x2953ad=a110_0x49dd96;if(typeof Reflect===_0x2953ad(0x1f2)&&typeof Reflect['metadata']===_0x2953ad(0x20c))return Reflect[_0x2953ad(0x20d)](_0xc61f7e,_0x59e451);},__param=this&&this[a110_0x49dd96(0x1eb)]||function(_0x54112b,_0x220bde){return function(_0x38df64,_0xf752b3){_0x220bde(_0x38df64,_0xf752b3,_0x54112b);};};Object[a110_0x49dd96(0x213)](exports,a110_0x49dd96(0x218),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a110_0x49dd96(0x1e4)),not_found_error_1=require(a110_0x49dd96(0x207)),auth_settings_service_1=require(a110_0x49dd96(0x1ed)),typedi_1=require('typedi'),api_error_1=require(a110_0x49dd96(0x212)),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require('../../internal/git.internal'),utils_1=require(a110_0x49dd96(0x1d7)),repo_class_1=require(a110_0x49dd96(0x1e2)),git_repo_service_1=require(a110_0x49dd96(0x1f5));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a110_0x49dd96(0x1e9)]{constructor(_0x3f1e2e,_0x429c89){const _0x42761e=a110_0x49dd96;super(_0x3f1e2e),this['api']=_0x3f1e2e,this[_0x42761e(0x1f4)]=_0x429c89[_0x42761e(0x1ee)]['project'];}async[a110_0x49dd96(0x1d9)](_0x1eeb66){const _0xad48e=a110_0x49dd96;try{const _0x1337f0={'name':_0x1eeb66['name'],'scmId':_0xad48e(0x215),'defaultBranch':_0x1eeb66[_0xad48e(0x1f8)],..._0x1eeb66[_0xad48e(0x206)]||{}},_0x2704b5=await this[_0xad48e(0x1ea)]['post']('projects/'+this['project']+_0xad48e(0x1ec),_0x1337f0),_0x5113c3=repo_class_1[_0xad48e(0x1dd)]['fromBitbucketServer'](_0x2704b5,'');return _0x1eeb66[_0xad48e(0x217)]&&await git_internal_1['Git']['createEmptyBranch'](_0x5113c3,_0x1eeb66[_0xad48e(0x1f8)]||_0xad48e(0x20f)),this[_0xad48e(0x1d8)](_0x5113c3['name']);}catch(_0x59aeb3){if(_0x59aeb3 instanceof api_error_1[_0xad48e(0x1e0)])throw _0x59aeb3;throw new bad_request_error_1[(_0xad48e(0x1ef))](_0x59aeb3);}}async['getAll'](){const _0x49dc97=a110_0x49dd96;try{const _0x398d58=[];let _0x67ffa9;do{_0x67ffa9=await this[_0x49dc97(0x1ea)][_0x49dc97(0x203)](_0x49dc97(0x1e1)+this[_0x49dc97(0x1f4)]+'/repos',{'params':{'limit':0x64,'start':_0x67ffa9?_0x67ffa9[_0x49dc97(0x1f3)]:0x0}}),_0x398d58[_0x49dc97(0x202)](..._0x67ffa9[_0x49dc97(0x1df)]);}while(!_0x67ffa9['isLastPage']);return _0x398d58[_0x49dc97(0x1dc)](_0x5f2816=>repo_class_1[_0x49dc97(0x1dd)][_0x49dc97(0x219)](_0x5f2816,utils_1[_0x49dc97(0x20b)](this[_0x49dc97(0x1ea)]['defaults'][_0x49dc97(0x1da)]||'','/projects/'+this['project']+_0x49dc97(0x1e5)+_0x5f2816[_0x49dc97(0x1d5)])));}catch(_0x3dbd79){if(_0x3dbd79 instanceof api_error_1[_0x49dc97(0x1e0)])throw _0x3dbd79;throw new not_found_error_1['NotFoundError'](_0x3dbd79);}}async[a110_0x49dd96(0x1d8)](_0x211bb2){const _0x589b22=a110_0x49dd96;var _0x3d06ab;try{const _0x27d5cf=await this['request'][_0x589b22(0x203)](_0x589b22(0x1e1)+this['project']+_0x589b22(0x1e5)+_0x211bb2),_0x55b0b6=repo_class_1[_0x589b22(0x1dd)][_0x589b22(0x219)](_0x27d5cf,utils_1['joinURL'](this[_0x589b22(0x1ea)][_0x589b22(0x1fc)][_0x589b22(0x1da)]||'',_0x589b22(0x214)+this[_0x589b22(0x1f4)]+_0x589b22(0x1e5)+_0x211bb2)),_0x207989=await this['request']['get'](_0x55b0b6['apiUrl']+'/branches')[_0x589b22(0x1e6)](_0x197736=>_0x197736[_0x589b22(0x1df)]);return _0x55b0b6[_0x589b22(0x1f8)]=(_0x3d06ab=_0x207989[_0x589b22(0x211)](_0x105697=>_0x105697[_0x589b22(0x1f6)]===!![]))===null||_0x3d06ab===void 0x0?void 0x0:_0x3d06ab['displayId'],_0x55b0b6;}catch(_0xfe3e23){if(_0xfe3e23 instanceof api_error_1[_0x589b22(0x1e0)])throw _0xfe3e23;throw new not_found_error_1[(_0x589b22(0x210))](_0xfe3e23);}}async['update'](_0x55f7d1,_0x52a4fc){const _0x520d8a=a110_0x49dd96;try{const _0x12754f=await this['request']['put'](_0x520d8a(0x1e1)+this[_0x520d8a(0x1f4)]+_0x520d8a(0x1e5)+_0x55f7d1,_0x52a4fc),_0x1583cf=await this['request']['get'](_0x520d8a(0x1e1)+this['project']+_0x520d8a(0x1e5)+_0x55f7d1+_0x520d8a(0x1fd)),_0x1f0e85=repo_class_1[_0x520d8a(0x1dd)][_0x520d8a(0x219)](_0x12754f,utils_1['joinURL'](this['request']['defaults'][_0x520d8a(0x1da)]||'','/projects/'+this[_0x520d8a(0x1f4)]+_0x520d8a(0x1e5)+_0x55f7d1));return _0x1f0e85[_0x520d8a(0x1f8)]=_0x1583cf[_0x520d8a(0x1ff)],_0x1f0e85;}catch(_0x393bc3){if(_0x393bc3 instanceof api_error_1['ApiError'])throw _0x393bc3;throw new not_found_error_1[(_0x520d8a(0x210))](_0x393bc3);}}async[a110_0x49dd96(0x1db)](_0x5bfea3){const _0x5f2f92=a110_0x49dd96;try{await this['getOne'](_0x5bfea3),await this[_0x5f2f92(0x1ea)]['delete']('projects/'+this[_0x5f2f92(0x1f4)]+_0x5f2f92(0x1e5)+_0x5bfea3);}catch(_0x1c00f5){if(_0x1c00f5 instanceof api_error_1[_0x5f2f92(0x1e0)])throw _0x1c00f5;throw new bad_request_error_1[(_0x5f2f92(0x1ef))](_0x1c00f5);}}};function a110_0x1645(_0x4d96d1,_0xe385bb){const _0x39d638=a110_0xc738();return a110_0x1645=function(_0x24b1d7,_0xd9ee54){_0x24b1d7=_0x24b1d7-0x1d5;let _0xc7382=_0x39d638[_0x24b1d7];return _0xc7382;},a110_0x1645(_0x4d96d1,_0xe385bb);}BitbucketServerRepoService=__decorate([typedi_1[a110_0x49dd96(0x20e)](),__param(0x1,typedi_1[a110_0x49dd96(0x1fb)]()),__metadata(a110_0x49dd96(0x1f1),[bitbucket_server_api_service_1[a110_0x49dd96(0x205)],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;