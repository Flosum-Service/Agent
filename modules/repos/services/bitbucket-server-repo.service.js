const a111_0x1ac4a4=a111_0x4f93;function a111_0x5085(){const _0x4c2bd0=['projects/','Repo','map','function','project','defaults','displayId','apply','BitbucketServerApiService','get','/repos/','../../shared/services/auth-settings.service','nextPageStart','7TFgofm','slug','baseURL','defineProperty','__metadata','3099371VMYjhP','../../../core/errors/not-found.error','values','Service','apiBody','../../git-api/services/bitbucket-server-api.service','put','length','__decorate','AuthSettingsService','find','BadRequestError','isLastPage','GitRepoService','search','/repos','getOne','git','typedi','object','createEmptyBranch','/projects/','update','decorate','autoInit','10TDpIUC','NotFoundError','5uwicMf','getOwnPropertyDescriptor','337008rMNVUa','toString','903404vWtHcO','then','/default-branch','../../../core/errors/api.error','getAll','../../internal/git.internal','request','bitbucketServer','isDefault','create','BitbucketServerRepoService','joinURL','../repo.class','(((.+)+)+)+$','1230306lEiJya','metadata','63sYmhZb','fromBitbucketServer','ApiError','name','2596365wZqiMK','../../shared/utils','delete','constructor','push','242DvTVSJ','28562cfKhAM','/branches','api','post','defaultBranch'];a111_0x5085=function(){return _0x4c2bd0;};return a111_0x5085();}(function(_0xdca69f,_0x3cf59d){const _0x59e4db=a111_0x4f93,_0x5046db=_0xdca69f();while(!![]){try{const _0x558e5b=parseInt(_0x59e4db(0x15a))/0x1+-parseInt(_0x59e4db(0x15b))/0x2*(-parseInt(_0x59e4db(0x151))/0x3)+-parseInt(_0x59e4db(0x141))/0x4*(-parseInt(_0x59e4db(0x13d))/0x5)+parseInt(_0x59e4db(0x14f))/0x6*(-parseInt(_0x59e4db(0x16d))/0x7)+-parseInt(_0x59e4db(0x13f))/0x8+parseInt(_0x59e4db(0x155))/0x9+-parseInt(_0x59e4db(0x18b))/0xa*(parseInt(_0x59e4db(0x172))/0xb);if(_0x558e5b===_0x3cf59d)break;else _0x5046db['push'](_0x5046db['shift']());}catch(_0x155ab9){_0x5046db['push'](_0x5046db['shift']());}}}(a111_0x5085,0x45b65));const a111_0x4e80d8=(function(){let _0x50b4da=!![];return function(_0x153b2b,_0xb58e25){const _0x57a8a4=_0x50b4da?function(){const _0x1057f8=a111_0x4f93;if(_0xb58e25){const _0x1b0118=_0xb58e25[_0x1057f8(0x167)](_0x153b2b,arguments);return _0xb58e25=null,_0x1b0118;}}:function(){};return _0x50b4da=![],_0x57a8a4;};}()),a111_0x38a5ff=a111_0x4e80d8(this,function(){const _0x22939c=a111_0x4f93;return a111_0x38a5ff[_0x22939c(0x140)]()[_0x22939c(0x180)]('(((.+)+)+)+$')[_0x22939c(0x140)]()[_0x22939c(0x158)](a111_0x38a5ff)[_0x22939c(0x180)](_0x22939c(0x14e));});a111_0x38a5ff();'use strict';function a111_0x4f93(_0x15b02e,_0x2fd60c){const _0x39ec25=a111_0x5085();return a111_0x4f93=function(_0x38a5ff,_0x4e80d8){_0x38a5ff=_0x38a5ff-0x13c;let _0x508582=_0x39ec25[_0x38a5ff];return _0x508582;},a111_0x4f93(_0x15b02e,_0x2fd60c);}var __decorate=this&&this[a111_0x1ac4a4(0x17a)]||function(_0x47f08b,_0x2a5b48,_0x4b2d9f,_0x167c1e){const _0x21cfc3=a111_0x1ac4a4;var _0x19eaf1=arguments[_0x21cfc3(0x179)],_0x12406a=_0x19eaf1<0x3?_0x2a5b48:_0x167c1e===null?_0x167c1e=Object[_0x21cfc3(0x13e)](_0x2a5b48,_0x4b2d9f):_0x167c1e,_0x2585fb;if(typeof Reflect===_0x21cfc3(0x185)&&typeof Reflect[_0x21cfc3(0x189)]===_0x21cfc3(0x163))_0x12406a=Reflect['decorate'](_0x47f08b,_0x2a5b48,_0x4b2d9f,_0x167c1e);else{for(var _0x547c1c=_0x47f08b['length']-0x1;_0x547c1c>=0x0;_0x547c1c--)if(_0x2585fb=_0x47f08b[_0x547c1c])_0x12406a=(_0x19eaf1<0x3?_0x2585fb(_0x12406a):_0x19eaf1>0x3?_0x2585fb(_0x2a5b48,_0x4b2d9f,_0x12406a):_0x2585fb(_0x2a5b48,_0x4b2d9f))||_0x12406a;}return _0x19eaf1>0x3&&_0x12406a&&Object[_0x21cfc3(0x170)](_0x2a5b48,_0x4b2d9f,_0x12406a),_0x12406a;},__metadata=this&&this[a111_0x1ac4a4(0x171)]||function(_0x1edffa,_0x5eeb0b){const _0x54da1b=a111_0x1ac4a4;if(typeof Reflect===_0x54da1b(0x185)&&typeof Reflect[_0x54da1b(0x150)]==='function')return Reflect['metadata'](_0x1edffa,_0x5eeb0b);},__param=this&&this['__param']||function(_0x1560dc,_0x3837e8){return function(_0x526325,_0x3e1424){_0x3837e8(_0x526325,_0x3e1424,_0x1560dc);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a111_0x1ac4a4(0x14b)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a111_0x1ac4a4(0x173)),auth_settings_service_1=require(a111_0x1ac4a4(0x16b)),typedi_1=require(a111_0x1ac4a4(0x184)),api_error_1=require(a111_0x1ac4a4(0x144)),bitbucket_server_api_service_1=require(a111_0x1ac4a4(0x177)),git_internal_1=require(a111_0x1ac4a4(0x146)),utils_1=require(a111_0x1ac4a4(0x156)),repo_class_1=require(a111_0x1ac4a4(0x14d)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0x1ac4a4(0x17f)]{constructor(_0x443a3d,_0x4a17df){const _0x229f4f=a111_0x1ac4a4;super(_0x443a3d),this[_0x229f4f(0x15d)]=_0x443a3d,this[_0x229f4f(0x164)]=_0x4a17df[_0x229f4f(0x148)]['project'];}async[a111_0x1ac4a4(0x14a)](_0x1892bf){const _0x57c464=a111_0x1ac4a4;try{const _0x36dc1e={'name':_0x1892bf['name'],'scmId':_0x57c464(0x183),'defaultBranch':_0x1892bf[_0x57c464(0x15f)],..._0x1892bf[_0x57c464(0x176)]||{}},_0x4d485c=await this[_0x57c464(0x147)][_0x57c464(0x15e)](_0x57c464(0x160)+this[_0x57c464(0x164)]+_0x57c464(0x181),_0x36dc1e),_0x387207=repo_class_1['Repo'][_0x57c464(0x152)](_0x4d485c,'');return _0x1892bf[_0x57c464(0x18a)]&&await git_internal_1['Git'][_0x57c464(0x186)](_0x387207,_0x1892bf['defaultBranch']||'master'),this['getOne'](_0x387207[_0x57c464(0x154)]);}catch(_0x36c65e){if(_0x36c65e instanceof api_error_1[_0x57c464(0x153)])throw _0x36c65e;throw new bad_request_error_1['BadRequestError'](_0x36c65e);}}async[a111_0x1ac4a4(0x145)](){const _0x1e9973=a111_0x1ac4a4;try{const _0x487da7=[];let _0x24fc51;do{_0x24fc51=await this[_0x1e9973(0x147)][_0x1e9973(0x169)](_0x1e9973(0x160)+this[_0x1e9973(0x164)]+_0x1e9973(0x181),{'params':{'limit':0x64,'start':_0x24fc51?_0x24fc51[_0x1e9973(0x16c)]:0x0}}),_0x487da7[_0x1e9973(0x159)](..._0x24fc51[_0x1e9973(0x174)]);}while(!_0x24fc51[_0x1e9973(0x17e)]);return _0x487da7[_0x1e9973(0x162)](_0x59b511=>repo_class_1[_0x1e9973(0x161)]['fromBitbucketServer'](_0x59b511,utils_1[_0x1e9973(0x14c)](this[_0x1e9973(0x147)]['defaults'][_0x1e9973(0x16f)]||'',_0x1e9973(0x187)+this[_0x1e9973(0x164)]+_0x1e9973(0x16a)+_0x59b511[_0x1e9973(0x16e)])));}catch(_0x186cf7){if(_0x186cf7 instanceof api_error_1[_0x1e9973(0x153)])throw _0x186cf7;throw new not_found_error_1[(_0x1e9973(0x13c))](_0x186cf7);}}async[a111_0x1ac4a4(0x182)](_0x480f50){const _0x3db576=a111_0x1ac4a4;var _0x263e03;try{const _0x40d7d4=await this[_0x3db576(0x147)][_0x3db576(0x169)](_0x3db576(0x160)+this[_0x3db576(0x164)]+_0x3db576(0x16a)+_0x480f50),_0x490b83=repo_class_1[_0x3db576(0x161)]['fromBitbucketServer'](_0x40d7d4,utils_1[_0x3db576(0x14c)](this[_0x3db576(0x147)][_0x3db576(0x165)][_0x3db576(0x16f)]||'',_0x3db576(0x187)+this[_0x3db576(0x164)]+_0x3db576(0x16a)+_0x480f50)),_0x583558=await this['request'][_0x3db576(0x169)](_0x490b83['apiUrl']+_0x3db576(0x15c))[_0x3db576(0x142)](_0x1c3f32=>_0x1c3f32[_0x3db576(0x174)]);return _0x490b83[_0x3db576(0x15f)]=(_0x263e03=_0x583558[_0x3db576(0x17c)](_0x3a7510=>_0x3a7510[_0x3db576(0x149)]===!![]))===null||_0x263e03===void 0x0?void 0x0:_0x263e03[_0x3db576(0x166)],_0x490b83;}catch(_0x404fd3){if(_0x404fd3 instanceof api_error_1[_0x3db576(0x153)])throw _0x404fd3;throw new not_found_error_1[(_0x3db576(0x13c))](_0x404fd3);}}async[a111_0x1ac4a4(0x188)](_0x2a9eba,_0x47dab7){const _0x122c43=a111_0x1ac4a4;try{const _0xebe8eb=await this[_0x122c43(0x147)][_0x122c43(0x178)](_0x122c43(0x160)+this[_0x122c43(0x164)]+_0x122c43(0x16a)+_0x2a9eba,_0x47dab7),_0x1ac023=await this[_0x122c43(0x147)][_0x122c43(0x169)](_0x122c43(0x160)+this[_0x122c43(0x164)]+_0x122c43(0x16a)+_0x2a9eba+_0x122c43(0x143)),_0xf43bc=repo_class_1[_0x122c43(0x161)][_0x122c43(0x152)](_0xebe8eb,utils_1[_0x122c43(0x14c)](this[_0x122c43(0x147)][_0x122c43(0x165)][_0x122c43(0x16f)]||'','/projects/'+this[_0x122c43(0x164)]+'/repos/'+_0x2a9eba));return _0xf43bc['defaultBranch']=_0x1ac023[_0x122c43(0x166)],_0xf43bc;}catch(_0x1eea1f){if(_0x1eea1f instanceof api_error_1[_0x122c43(0x153)])throw _0x1eea1f;throw new not_found_error_1[(_0x122c43(0x13c))](_0x1eea1f);}}async[a111_0x1ac4a4(0x157)](_0x3e4611){const _0x148e46=a111_0x1ac4a4;try{await this[_0x148e46(0x182)](_0x3e4611),await this[_0x148e46(0x147)][_0x148e46(0x157)](_0x148e46(0x160)+this[_0x148e46(0x164)]+'/repos/'+_0x3e4611);}catch(_0x63826c){if(_0x63826c instanceof api_error_1[_0x148e46(0x153)])throw _0x63826c;throw new bad_request_error_1[(_0x148e46(0x17d))](_0x63826c);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x1ac4a4(0x175)](),__param(0x1,typedi_1['Inject']()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a111_0x1ac4a4(0x168)],auth_settings_service_1[a111_0x1ac4a4(0x17b)]])],BitbucketServerRepoService),exports[a111_0x1ac4a4(0x14b)]=BitbucketServerRepoService;