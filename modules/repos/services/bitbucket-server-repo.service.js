const a111_0xa3d7f5=a111_0x2acb;(function(_0x27a60d,_0xe412a6){const _0x3c61ff=a111_0x2acb,_0x194a04=_0x27a60d();while(!![]){try{const _0x312db4=-parseInt(_0x3c61ff(0x1cf))/0x1+-parseInt(_0x3c61ff(0x1bb))/0x2*(-parseInt(_0x3c61ff(0x1b4))/0x3)+parseInt(_0x3c61ff(0x19d))/0x4*(-parseInt(_0x3c61ff(0x1a8))/0x5)+-parseInt(_0x3c61ff(0x19f))/0x6*(parseInt(_0x3c61ff(0x1bd))/0x7)+-parseInt(_0x3c61ff(0x1bf))/0x8+parseInt(_0x3c61ff(0x1b2))/0x9+-parseInt(_0x3c61ff(0x1a7))/0xa*(-parseInt(_0x3c61ff(0x1a4))/0xb);if(_0x312db4===_0xe412a6)break;else _0x194a04['push'](_0x194a04['shift']());}catch(_0x2dac59){_0x194a04['push'](_0x194a04['shift']());}}}(a111_0x4da3,0xf3765));const a111_0x121f6f=(function(){let _0x12efe1=!![];return function(_0x5baeba,_0x2daa4){const _0x5afb5d=_0x12efe1?function(){const _0x2e98d9=a111_0x2acb;if(_0x2daa4){const _0x55300c=_0x2daa4[_0x2e98d9(0x1ca)](_0x5baeba,arguments);return _0x2daa4=null,_0x55300c;}}:function(){};return _0x12efe1=![],_0x5afb5d;};}()),a111_0x4544ac=a111_0x121f6f(this,function(){const _0x263b91=a111_0x2acb;return a111_0x4544ac[_0x263b91(0x1b6)]()[_0x263b91(0x195)](_0x263b91(0x1b3))[_0x263b91(0x1b6)]()[_0x263b91(0x1d2)](a111_0x4544ac)[_0x263b91(0x195)](_0x263b91(0x1b3));});a111_0x4544ac();'use strict';function a111_0x2acb(_0x3d5756,_0x23d856){const _0x1e2fb8=a111_0x4da3();return a111_0x2acb=function(_0x4544ac,_0x121f6f){_0x4544ac=_0x4544ac-0x193;let _0x4da387=_0x1e2fb8[_0x4544ac];return _0x4da387;},a111_0x2acb(_0x3d5756,_0x23d856);}var __decorate=this&&this['__decorate']||function(_0x368550,_0x1370d9,_0x5715bd,_0xa480f7){const _0x4fa52c=a111_0x2acb;var _0x3d8528=arguments[_0x4fa52c(0x194)],_0x4edea8=_0x3d8528<0x3?_0x1370d9:_0xa480f7===null?_0xa480f7=Object[_0x4fa52c(0x1dc)](_0x1370d9,_0x5715bd):_0xa480f7,_0x207ed3;if(typeof Reflect===_0x4fa52c(0x1be)&&typeof Reflect[_0x4fa52c(0x19a)]===_0x4fa52c(0x1d0))_0x4edea8=Reflect[_0x4fa52c(0x19a)](_0x368550,_0x1370d9,_0x5715bd,_0xa480f7);else{for(var _0x139ed5=_0x368550[_0x4fa52c(0x194)]-0x1;_0x139ed5>=0x0;_0x139ed5--)if(_0x207ed3=_0x368550[_0x139ed5])_0x4edea8=(_0x3d8528<0x3?_0x207ed3(_0x4edea8):_0x3d8528>0x3?_0x207ed3(_0x1370d9,_0x5715bd,_0x4edea8):_0x207ed3(_0x1370d9,_0x5715bd))||_0x4edea8;}return _0x3d8528>0x3&&_0x4edea8&&Object[_0x4fa52c(0x19c)](_0x1370d9,_0x5715bd,_0x4edea8),_0x4edea8;},__metadata=this&&this[a111_0xa3d7f5(0x1d6)]||function(_0x5496c1,_0x4765f4){const _0x3b68db=a111_0xa3d7f5;if(typeof Reflect===_0x3b68db(0x1be)&&typeof Reflect[_0x3b68db(0x1d5)]===_0x3b68db(0x1d0))return Reflect[_0x3b68db(0x1d5)](_0x5496c1,_0x4765f4);},__param=this&&this['__param']||function(_0x3c70b8,_0x2bbb9b){return function(_0x538171,_0x3714fc){_0x2bbb9b(_0x538171,_0x3714fc,_0x3c70b8);};};function a111_0x4da3(){const _0x501fd6=['getOwnPropertyDescriptor','projects/','values','isDefault','git','../repo.class','apiUrl','length','search','Service','../../internal/git.internal','GitRepoService','BitbucketServerRepoService','decorate','ApiError','defineProperty','17336CDfjEj','defaults','1735206gRVifU','/default-branch','defaultBranch','BitbucketServerApiService','BadRequestError','1973477AzVSzh','/projects/','baseURL','90BGZbWv','220QdnuJV','design:paramtypes','/repos/','../../git-api/services/bitbucket-server-api.service','post','project','isLastPage','./git-repo.service','then','createEmptyBranch','15589683rkwxrU','(((.+)+)+)+$','636621uttmDE','NotFoundError','toString','getOne','typedi','Git','__esModule','6DbDeaV','displayId','14yRLzAW','object','8413408nONtTJ','delete','Repo','fromBitbucketServer','request','nextPageStart','push','put','find','slug','autoInit','apply','update','joinURL','api','../../shared/utils','1165476NFnwBR','function','AuthSettingsService','constructor','create','../../shared/services/auth-settings.service','metadata','__metadata','/branches','get','../../../core/errors/not-found.error','master','name'];a111_0x4da3=function(){return _0x501fd6;};return a111_0x4da3();}Object[a111_0xa3d7f5(0x19c)](exports,a111_0xa3d7f5(0x1ba),{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a111_0xa3d7f5(0x1d9)),auth_settings_service_1=require(a111_0xa3d7f5(0x1d4)),typedi_1=require(a111_0xa3d7f5(0x1b8)),api_error_1=require('../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a111_0xa3d7f5(0x1ab)),git_internal_1=require(a111_0xa3d7f5(0x197)),utils_1=require(a111_0xa3d7f5(0x1ce)),repo_class_1=require(a111_0xa3d7f5(0x1e1)),git_repo_service_1=require(a111_0xa3d7f5(0x1af));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0xa3d7f5(0x198)]{constructor(_0x3fbd48,_0x35baf1){const _0x452681=a111_0xa3d7f5;super(_0x3fbd48),this[_0x452681(0x1cd)]=_0x3fbd48,this[_0x452681(0x1ad)]=_0x35baf1['bitbucketServer'][_0x452681(0x1ad)];}async[a111_0xa3d7f5(0x1d3)](_0x11bbd5){const _0x3fe8ff=a111_0xa3d7f5;try{const _0x14b612={'name':_0x11bbd5[_0x3fe8ff(0x1db)],'scmId':_0x3fe8ff(0x1e0),'defaultBranch':_0x11bbd5[_0x3fe8ff(0x1a1)],..._0x11bbd5['apiBody']||{}},_0x2f4e65=await this['request'][_0x3fe8ff(0x1ac)](_0x3fe8ff(0x1dd)+this[_0x3fe8ff(0x1ad)]+'/repos',_0x14b612),_0x4ab059=repo_class_1['Repo']['fromBitbucketServer'](_0x2f4e65,'');return _0x11bbd5[_0x3fe8ff(0x1c9)]&&await git_internal_1[_0x3fe8ff(0x1b9)][_0x3fe8ff(0x1b1)](_0x4ab059,_0x11bbd5[_0x3fe8ff(0x1a1)]||_0x3fe8ff(0x1da)),this[_0x3fe8ff(0x1b7)](_0x4ab059[_0x3fe8ff(0x1db)]);}catch(_0x6d2add){if(_0x6d2add instanceof api_error_1['ApiError'])throw _0x6d2add;throw new bad_request_error_1[(_0x3fe8ff(0x1a3))](_0x6d2add);}}async['getAll'](){const _0x28e495=a111_0xa3d7f5;try{const _0x372c55=[];let _0x152ee9;do{_0x152ee9=await this[_0x28e495(0x1c3)]['get'](_0x28e495(0x1dd)+this[_0x28e495(0x1ad)]+'/repos',{'params':{'limit':0x64,'start':_0x152ee9?_0x152ee9[_0x28e495(0x1c4)]:0x0}}),_0x372c55[_0x28e495(0x1c5)](..._0x152ee9['values']);}while(!_0x152ee9[_0x28e495(0x1ae)]);return _0x372c55['map'](_0x487438=>repo_class_1['Repo'][_0x28e495(0x1c2)](_0x487438,utils_1[_0x28e495(0x1cc)](this[_0x28e495(0x1c3)]['defaults']['baseURL']||'',_0x28e495(0x1a5)+this['project']+'/repos/'+_0x487438[_0x28e495(0x1c8)])));}catch(_0x12e66f){if(_0x12e66f instanceof api_error_1[_0x28e495(0x19b)])throw _0x12e66f;throw new not_found_error_1[(_0x28e495(0x1b5))](_0x12e66f);}}async['getOne'](_0x377c6b){const _0x23571f=a111_0xa3d7f5;var _0x8fdd97;try{const _0x2f1631=await this[_0x23571f(0x1c3)]['get']('projects/'+this[_0x23571f(0x1ad)]+_0x23571f(0x1aa)+_0x377c6b),_0x40a0d2=repo_class_1['Repo'][_0x23571f(0x1c2)](_0x2f1631,utils_1[_0x23571f(0x1cc)](this[_0x23571f(0x1c3)][_0x23571f(0x19e)][_0x23571f(0x1a6)]||'','/projects/'+this[_0x23571f(0x1ad)]+_0x23571f(0x1aa)+_0x377c6b)),_0x34653d=await this['request'][_0x23571f(0x1d8)](_0x40a0d2[_0x23571f(0x193)]+_0x23571f(0x1d7))[_0x23571f(0x1b0)](_0x487df1=>_0x487df1[_0x23571f(0x1de)]);return _0x40a0d2[_0x23571f(0x1a1)]=(_0x8fdd97=_0x34653d[_0x23571f(0x1c7)](_0x7cd4b2=>_0x7cd4b2[_0x23571f(0x1df)]===!![]))===null||_0x8fdd97===void 0x0?void 0x0:_0x8fdd97[_0x23571f(0x1bc)],_0x40a0d2;}catch(_0xa70145){if(_0xa70145 instanceof api_error_1[_0x23571f(0x19b)])throw _0xa70145;throw new not_found_error_1[(_0x23571f(0x1b5))](_0xa70145);}}async[a111_0xa3d7f5(0x1cb)](_0x202d8c,_0x468893){const _0x1709e7=a111_0xa3d7f5;try{const _0x50c8c7=await this['request'][_0x1709e7(0x1c6)](_0x1709e7(0x1dd)+this[_0x1709e7(0x1ad)]+'/repos/'+_0x202d8c,_0x468893),_0xdc0688=await this[_0x1709e7(0x1c3)]['get']('projects/'+this[_0x1709e7(0x1ad)]+_0x1709e7(0x1aa)+_0x202d8c+_0x1709e7(0x1a0)),_0x481c8b=repo_class_1[_0x1709e7(0x1c1)][_0x1709e7(0x1c2)](_0x50c8c7,utils_1[_0x1709e7(0x1cc)](this[_0x1709e7(0x1c3)][_0x1709e7(0x19e)][_0x1709e7(0x1a6)]||'',_0x1709e7(0x1a5)+this['project']+'/repos/'+_0x202d8c));return _0x481c8b[_0x1709e7(0x1a1)]=_0xdc0688[_0x1709e7(0x1bc)],_0x481c8b;}catch(_0x2fd533){if(_0x2fd533 instanceof api_error_1[_0x1709e7(0x19b)])throw _0x2fd533;throw new not_found_error_1[(_0x1709e7(0x1b5))](_0x2fd533);}}async[a111_0xa3d7f5(0x1c0)](_0x17ee4d){const _0x13fbd6=a111_0xa3d7f5;try{await this[_0x13fbd6(0x1b7)](_0x17ee4d),await this[_0x13fbd6(0x1c3)]['delete'](_0x13fbd6(0x1dd)+this[_0x13fbd6(0x1ad)]+'/repos/'+_0x17ee4d);}catch(_0x5a8da2){if(_0x5a8da2 instanceof api_error_1[_0x13fbd6(0x19b)])throw _0x5a8da2;throw new bad_request_error_1[(_0x13fbd6(0x1a3))](_0x5a8da2);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0xa3d7f5(0x196)](),__param(0x1,typedi_1['Inject']()),__metadata(a111_0xa3d7f5(0x1a9),[bitbucket_server_api_service_1[a111_0xa3d7f5(0x1a2)],auth_settings_service_1[a111_0xa3d7f5(0x1d1)]])],BitbucketServerRepoService),exports[a111_0xa3d7f5(0x199)]=BitbucketServerRepoService;