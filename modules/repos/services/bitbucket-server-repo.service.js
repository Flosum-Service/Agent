const a110_0x3c8333=a110_0x5641;function a110_0x5547(){const _0x590761=['../../git-api/services/bitbucket-server-api.service','project','joinURL','/default-branch','1935HSewrA','fromBitbucketServer','metadata','../../../core/errors/bad-request.error','name','./git-repo.service','getOne','put','/repos','git','design:paramtypes','constructor','getAll','__esModule','isLastPage','Repo','/repos/','then','defaultBranch','values','551496SFVJHu','defineProperty','get','Service','delete','/projects/','(((.+)+)+)+$','typedi','BadRequestError','decorate','Inject','NotFoundError','84379nvGgXr','13916220shDTPz','__param','update','createEmptyBranch','../../../core/errors/api.error','__metadata','6MHTrHk','projects/','isDefault','1863665rxrHOS','search','getOwnPropertyDescriptor','3irQpCy','find','nextPageStart','slug','displayId','object','defaults','master','apiBody','autoInit','toString','ApiError','request','/branches','post','333244EgdqvW','3578764zasLmE','../../shared/utils','apply','../repo.class','../../internal/git.internal','baseURL','AuthSettingsService','12912dzGpGP','push','function','Git','BitbucketServerRepoService'];a110_0x5547=function(){return _0x590761;};return a110_0x5547();}(function(_0x6ce03b,_0x27c739){const _0x45c9d7=a110_0x5641,_0x2284dd=_0x6ce03b();while(!![]){try{const _0x352806=parseInt(_0x45c9d7(0x152))/0x1+parseInt(_0x45c9d7(0x16e))/0x2*(parseInt(_0x45c9d7(0x15f))/0x3)+-parseInt(_0x45c9d7(0x146))/0x4+-parseInt(_0x45c9d7(0x15c))/0x5+-parseInt(_0x45c9d7(0x159))/0x6*(parseInt(_0x45c9d7(0x16f))/0x7)+parseInt(_0x45c9d7(0x176))/0x8*(-parseInt(_0x45c9d7(0x132))/0x9)+parseInt(_0x45c9d7(0x153))/0xa;if(_0x352806===_0x27c739)break;else _0x2284dd['push'](_0x2284dd['shift']());}catch(_0x343116){_0x2284dd['push'](_0x2284dd['shift']());}}}(a110_0x5547,0x42d5a));const a110_0xe1ef96=(function(){let _0xc8c0c0=!![];return function(_0x3f122f,_0x225697){const _0x4f2644=_0xc8c0c0?function(){const _0x4caa32=a110_0x5641;if(_0x225697){const _0x53b30c=_0x225697[_0x4caa32(0x171)](_0x3f122f,arguments);return _0x225697=null,_0x53b30c;}}:function(){};return _0xc8c0c0=![],_0x4f2644;};}()),a110_0x3b1505=a110_0xe1ef96(this,function(){const _0x2207a8=a110_0x5641;return a110_0x3b1505[_0x2207a8(0x169)]()[_0x2207a8(0x15d)](_0x2207a8(0x14c))[_0x2207a8(0x169)]()[_0x2207a8(0x13d)](a110_0x3b1505)['search'](_0x2207a8(0x14c));});function a110_0x5641(_0x10aa4b,_0x44a6bd){const _0x54e3d4=a110_0x5547();return a110_0x5641=function(_0x3b1505,_0xe1ef96){_0x3b1505=_0x3b1505-0x12d;let _0x554748=_0x54e3d4[_0x3b1505];return _0x554748;},a110_0x5641(_0x10aa4b,_0x44a6bd);}a110_0x3b1505();'use strict';var __decorate=this&&this['__decorate']||function(_0x2cb8ac,_0x218c02,_0x2f41c7,_0x58cbf6){const _0x175768=a110_0x5641;var _0x42e7de=arguments['length'],_0x326588=_0x42e7de<0x3?_0x218c02:_0x58cbf6===null?_0x58cbf6=Object[_0x175768(0x15e)](_0x218c02,_0x2f41c7):_0x58cbf6,_0x4f71f7;if(typeof Reflect===_0x175768(0x164)&&typeof Reflect[_0x175768(0x14f)]===_0x175768(0x178))_0x326588=Reflect[_0x175768(0x14f)](_0x2cb8ac,_0x218c02,_0x2f41c7,_0x58cbf6);else{for(var _0x3a7ba9=_0x2cb8ac['length']-0x1;_0x3a7ba9>=0x0;_0x3a7ba9--)if(_0x4f71f7=_0x2cb8ac[_0x3a7ba9])_0x326588=(_0x42e7de<0x3?_0x4f71f7(_0x326588):_0x42e7de>0x3?_0x4f71f7(_0x218c02,_0x2f41c7,_0x326588):_0x4f71f7(_0x218c02,_0x2f41c7))||_0x326588;}return _0x42e7de>0x3&&_0x326588&&Object[_0x175768(0x147)](_0x218c02,_0x2f41c7,_0x326588),_0x326588;},__metadata=this&&this[a110_0x3c8333(0x158)]||function(_0x133a7c,_0x3c1a3b){const _0x291121=a110_0x3c8333;if(typeof Reflect===_0x291121(0x164)&&typeof Reflect[_0x291121(0x134)]===_0x291121(0x178))return Reflect[_0x291121(0x134)](_0x133a7c,_0x3c1a3b);},__param=this&&this[a110_0x3c8333(0x154)]||function(_0x460379,_0x5c784e){return function(_0x26a2c3,_0x295eec){_0x5c784e(_0x26a2c3,_0x295eec,_0x460379);};};Object[a110_0x3c8333(0x147)](exports,a110_0x3c8333(0x13f),{'value':!![]}),exports[a110_0x3c8333(0x12d)]=void 0x0;const bad_request_error_1=require(a110_0x3c8333(0x135)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a110_0x3c8333(0x14d)),api_error_1=require(a110_0x3c8333(0x157)),bitbucket_server_api_service_1=require(a110_0x3c8333(0x12e)),git_internal_1=require(a110_0x3c8333(0x173)),utils_1=require(a110_0x3c8333(0x170)),repo_class_1=require(a110_0x3c8333(0x172)),git_repo_service_1=require(a110_0x3c8333(0x137));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0xfeb302,_0x29f2ea){const _0x4e8e8d=a110_0x3c8333;super(_0xfeb302),this['api']=_0xfeb302,this[_0x4e8e8d(0x12f)]=_0x29f2ea['bitbucketServer'][_0x4e8e8d(0x12f)];}async['create'](_0x2177ce){const _0x3096cb=a110_0x3c8333;try{const _0x40aef8={'name':_0x2177ce['name'],'scmId':_0x3096cb(0x13b),'defaultBranch':_0x2177ce[_0x3096cb(0x144)],..._0x2177ce[_0x3096cb(0x167)]||{}},_0x46cb9c=await this[_0x3096cb(0x16b)][_0x3096cb(0x16d)](_0x3096cb(0x15a)+this[_0x3096cb(0x12f)]+_0x3096cb(0x13a),_0x40aef8),_0x3e96e8=repo_class_1[_0x3096cb(0x141)][_0x3096cb(0x133)](_0x46cb9c,'');return _0x2177ce[_0x3096cb(0x168)]&&await git_internal_1[_0x3096cb(0x179)][_0x3096cb(0x156)](_0x3e96e8,_0x2177ce[_0x3096cb(0x144)]||_0x3096cb(0x166)),this[_0x3096cb(0x138)](_0x3e96e8[_0x3096cb(0x136)]);}catch(_0x5a898f){if(_0x5a898f instanceof api_error_1['ApiError'])throw _0x5a898f;throw new bad_request_error_1[(_0x3096cb(0x14e))](_0x5a898f);}}async[a110_0x3c8333(0x13e)](){const _0x5ab77b=a110_0x3c8333;try{const _0x130d7e=[];let _0x2922fe;do{_0x2922fe=await this[_0x5ab77b(0x16b)][_0x5ab77b(0x148)](_0x5ab77b(0x15a)+this[_0x5ab77b(0x12f)]+_0x5ab77b(0x13a),{'params':{'limit':0x64,'start':_0x2922fe?_0x2922fe[_0x5ab77b(0x161)]:0x0}}),_0x130d7e[_0x5ab77b(0x177)](..._0x2922fe[_0x5ab77b(0x145)]);}while(!_0x2922fe[_0x5ab77b(0x140)]);return _0x130d7e['map'](_0x1b67f9=>repo_class_1[_0x5ab77b(0x141)][_0x5ab77b(0x133)](_0x1b67f9,utils_1['joinURL'](this['request']['defaults'][_0x5ab77b(0x174)]||'',_0x5ab77b(0x14b)+this[_0x5ab77b(0x12f)]+_0x5ab77b(0x142)+_0x1b67f9[_0x5ab77b(0x162)])));}catch(_0x590df6){if(_0x590df6 instanceof api_error_1[_0x5ab77b(0x16a)])throw _0x590df6;throw new not_found_error_1['NotFoundError'](_0x590df6);}}async[a110_0x3c8333(0x138)](_0x1d0d30){const _0x252f56=a110_0x3c8333;var _0x2891bf;try{const _0x23066d=await this[_0x252f56(0x16b)][_0x252f56(0x148)](_0x252f56(0x15a)+this[_0x252f56(0x12f)]+_0x252f56(0x142)+_0x1d0d30),_0x7cef2a=repo_class_1['Repo'][_0x252f56(0x133)](_0x23066d,utils_1[_0x252f56(0x130)](this[_0x252f56(0x16b)][_0x252f56(0x165)]['baseURL']||'',_0x252f56(0x14b)+this['project']+_0x252f56(0x142)+_0x1d0d30)),_0xad8a70=await this[_0x252f56(0x16b)]['get'](_0x7cef2a['apiUrl']+_0x252f56(0x16c))[_0x252f56(0x143)](_0x20c2d0=>_0x20c2d0[_0x252f56(0x145)]);return _0x7cef2a[_0x252f56(0x144)]=(_0x2891bf=_0xad8a70[_0x252f56(0x160)](_0x59938c=>_0x59938c[_0x252f56(0x15b)]===!![]))===null||_0x2891bf===void 0x0?void 0x0:_0x2891bf[_0x252f56(0x163)],_0x7cef2a;}catch(_0x370c1b){if(_0x370c1b instanceof api_error_1['ApiError'])throw _0x370c1b;throw new not_found_error_1[(_0x252f56(0x151))](_0x370c1b);}}async[a110_0x3c8333(0x155)](_0x6fd149,_0x325b66){const _0x2fb115=a110_0x3c8333;try{const _0x56d9ee=await this[_0x2fb115(0x16b)][_0x2fb115(0x139)](_0x2fb115(0x15a)+this[_0x2fb115(0x12f)]+_0x2fb115(0x142)+_0x6fd149,_0x325b66),_0x7d113=await this[_0x2fb115(0x16b)][_0x2fb115(0x148)]('projects/'+this['project']+'/repos/'+_0x6fd149+_0x2fb115(0x131)),_0x5870af=repo_class_1['Repo'][_0x2fb115(0x133)](_0x56d9ee,utils_1[_0x2fb115(0x130)](this[_0x2fb115(0x16b)][_0x2fb115(0x165)][_0x2fb115(0x174)]||'','/projects/'+this[_0x2fb115(0x12f)]+_0x2fb115(0x142)+_0x6fd149));return _0x5870af[_0x2fb115(0x144)]=_0x7d113[_0x2fb115(0x163)],_0x5870af;}catch(_0x26f084){if(_0x26f084 instanceof api_error_1['ApiError'])throw _0x26f084;throw new not_found_error_1[(_0x2fb115(0x151))](_0x26f084);}}async[a110_0x3c8333(0x14a)](_0x1f5220){const _0x18a282=a110_0x3c8333;try{await this['getOne'](_0x1f5220),await this['request']['delete']('projects/'+this[_0x18a282(0x12f)]+_0x18a282(0x142)+_0x1f5220);}catch(_0x567165){if(_0x567165 instanceof api_error_1[_0x18a282(0x16a)])throw _0x567165;throw new bad_request_error_1[(_0x18a282(0x14e))](_0x567165);}}};BitbucketServerRepoService=__decorate([typedi_1[a110_0x3c8333(0x149)](),__param(0x1,typedi_1[a110_0x3c8333(0x150)]()),__metadata(a110_0x3c8333(0x13c),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1[a110_0x3c8333(0x175)]])],BitbucketServerRepoService),exports[a110_0x3c8333(0x12d)]=BitbucketServerRepoService;