const a110_0x1a6230=a110_0x1775;(function(_0x5d5bea,_0x3e3660){const _0x29713c=a110_0x1775,_0x3b663c=_0x5d5bea();while(!![]){try{const _0x400816=parseInt(_0x29713c(0x15a))/0x1*(parseInt(_0x29713c(0x178))/0x2)+parseInt(_0x29713c(0x141))/0x3*(parseInt(_0x29713c(0x134))/0x4)+parseInt(_0x29713c(0x155))/0x5+-parseInt(_0x29713c(0x13c))/0x6*(parseInt(_0x29713c(0x133))/0x7)+-parseInt(_0x29713c(0x14b))/0x8+parseInt(_0x29713c(0x144))/0x9+-parseInt(_0x29713c(0x160))/0xa*(parseInt(_0x29713c(0x17d))/0xb);if(_0x400816===_0x3e3660)break;else _0x3b663c['push'](_0x3b663c['shift']());}catch(_0x2542ce){_0x3b663c['push'](_0x3b663c['shift']());}}}(a110_0x4e78,0x88fca));const a110_0x4aee3b=(function(){let _0x47493c=!![];return function(_0x43d1ac,_0x3402f6){const _0xbf77d8=_0x47493c?function(){const _0x4de79b=a110_0x1775;if(_0x3402f6){const _0x50f5c0=_0x3402f6[_0x4de79b(0x138)](_0x43d1ac,arguments);return _0x3402f6=null,_0x50f5c0;}}:function(){};return _0x47493c=![],_0xbf77d8;};}()),a110_0xf1a3d3=a110_0x4aee3b(this,function(){const _0x2ebcc6=a110_0x1775;return a110_0xf1a3d3[_0x2ebcc6(0x147)]()[_0x2ebcc6(0x13e)](_0x2ebcc6(0x17b))[_0x2ebcc6(0x147)]()['constructor'](a110_0xf1a3d3)[_0x2ebcc6(0x13e)](_0x2ebcc6(0x17b));});a110_0xf1a3d3();'use strict';var __decorate=this&&this[a110_0x1a6230(0x170)]||function(_0x25f38c,_0xbf8771,_0x269a77,_0x343e5f){const _0x36992f=a110_0x1a6230;var _0x21eea6=arguments['length'],_0x2c1df=_0x21eea6<0x3?_0xbf8771:_0x343e5f===null?_0x343e5f=Object[_0x36992f(0x15f)](_0xbf8771,_0x269a77):_0x343e5f,_0x77f540;if(typeof Reflect===_0x36992f(0x173)&&typeof Reflect[_0x36992f(0x14e)]===_0x36992f(0x180))_0x2c1df=Reflect[_0x36992f(0x14e)](_0x25f38c,_0xbf8771,_0x269a77,_0x343e5f);else{for(var _0x2be03c=_0x25f38c['length']-0x1;_0x2be03c>=0x0;_0x2be03c--)if(_0x77f540=_0x25f38c[_0x2be03c])_0x2c1df=(_0x21eea6<0x3?_0x77f540(_0x2c1df):_0x21eea6>0x3?_0x77f540(_0xbf8771,_0x269a77,_0x2c1df):_0x77f540(_0xbf8771,_0x269a77))||_0x2c1df;}return _0x21eea6>0x3&&_0x2c1df&&Object[_0x36992f(0x172)](_0xbf8771,_0x269a77,_0x2c1df),_0x2c1df;},__metadata=this&&this[a110_0x1a6230(0x14a)]||function(_0x431b3b,_0x51d20a){const _0x3e7024=a110_0x1a6230;if(typeof Reflect==='object'&&typeof Reflect[_0x3e7024(0x16e)]===_0x3e7024(0x180))return Reflect[_0x3e7024(0x16e)](_0x431b3b,_0x51d20a);},__param=this&&this[a110_0x1a6230(0x150)]||function(_0x57f3f8,_0x52c396){return function(_0x4c1c9c,_0x193fe1){_0x52c396(_0x4c1c9c,_0x193fe1,_0x57f3f8);};};Object[a110_0x1a6230(0x172)](exports,a110_0x1a6230(0x16f),{'value':!![]}),exports[a110_0x1a6230(0x137)]=void 0x0;function a110_0x1775(_0xb177c0,_0x5e522e){const _0x1307ed=a110_0x4e78();return a110_0x1775=function(_0xf1a3d3,_0x4aee3b){_0xf1a3d3=_0xf1a3d3-0x133;let _0x4e78aa=_0x1307ed[_0xf1a3d3];return _0x4e78aa;},a110_0x1775(_0xb177c0,_0x5e522e);}const bad_request_error_1=require(a110_0x1a6230(0x159)),not_found_error_1=require(a110_0x1a6230(0x169)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a110_0x1a6230(0x145)),api_error_1=require('../../../core/errors/api.error'),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),git_internal_1=require(a110_0x1a6230(0x151)),utils_1=require(a110_0x1a6230(0x135)),repo_class_1=require(a110_0x1a6230(0x16d)),git_repo_service_1=require(a110_0x1a6230(0x177));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a110_0x1a6230(0x175)]{constructor(_0x33c37e,_0x19d8d2){const _0x1dcda3=a110_0x1a6230;super(_0x33c37e),this[_0x1dcda3(0x140)]=_0x33c37e,this[_0x1dcda3(0x163)]=_0x19d8d2['bitbucketServer'][_0x1dcda3(0x163)];}async[a110_0x1a6230(0x179)](_0x4998ac){const _0x3eb138=a110_0x1a6230;try{const _0x50acd1={'name':_0x4998ac[_0x3eb138(0x165)],'scmId':_0x3eb138(0x15c),'defaultBranch':_0x4998ac[_0x3eb138(0x161)],..._0x4998ac[_0x3eb138(0x152)]||{}},_0x1c3ae1=await this[_0x3eb138(0x14f)][_0x3eb138(0x17c)](_0x3eb138(0x162)+this['project']+_0x3eb138(0x16b),_0x50acd1),_0x2926aa=repo_class_1[_0x3eb138(0x158)][_0x3eb138(0x168)](_0x1c3ae1,'');return _0x4998ac['autoInit']&&await git_internal_1[_0x3eb138(0x16c)][_0x3eb138(0x13a)](_0x2926aa,_0x4998ac[_0x3eb138(0x161)]||_0x3eb138(0x15d)),this[_0x3eb138(0x14c)](_0x2926aa[_0x3eb138(0x165)]);}catch(_0x17cbdd){if(_0x17cbdd instanceof api_error_1[_0x3eb138(0x146)])throw _0x17cbdd;throw new bad_request_error_1[(_0x3eb138(0x17f))](_0x17cbdd);}}async[a110_0x1a6230(0x142)](){const _0x494b76=a110_0x1a6230;try{const _0x37ca14=[];let _0x248cfb;do{_0x248cfb=await this[_0x494b76(0x14f)][_0x494b76(0x17a)]('projects/'+this[_0x494b76(0x163)]+_0x494b76(0x16b),{'params':{'limit':0x64,'start':_0x248cfb?_0x248cfb['nextPageStart']:0x0}}),_0x37ca14[_0x494b76(0x154)](..._0x248cfb[_0x494b76(0x15b)]);}while(!_0x248cfb[_0x494b76(0x166)]);return _0x37ca14[_0x494b76(0x139)](_0x42005e=>repo_class_1[_0x494b76(0x158)][_0x494b76(0x168)](_0x42005e,utils_1[_0x494b76(0x176)](this[_0x494b76(0x14f)][_0x494b76(0x164)][_0x494b76(0x14d)]||'',_0x494b76(0x153)+this['project']+'/repos/'+_0x42005e[_0x494b76(0x15e)])));}catch(_0x3fbeb7){if(_0x3fbeb7 instanceof api_error_1['ApiError'])throw _0x3fbeb7;throw new not_found_error_1[(_0x494b76(0x157))](_0x3fbeb7);}}async[a110_0x1a6230(0x14c)](_0x2113d0){const _0x30d15c=a110_0x1a6230;var _0x4990b8;try{const _0x234252=await this[_0x30d15c(0x14f)][_0x30d15c(0x17a)](_0x30d15c(0x162)+this[_0x30d15c(0x163)]+'/repos/'+_0x2113d0),_0x3a0916=repo_class_1['Repo'][_0x30d15c(0x168)](_0x234252,utils_1[_0x30d15c(0x176)](this[_0x30d15c(0x14f)][_0x30d15c(0x164)][_0x30d15c(0x14d)]||'',_0x30d15c(0x153)+this[_0x30d15c(0x163)]+_0x30d15c(0x174)+_0x2113d0)),_0x1be9b1=await this[_0x30d15c(0x14f)][_0x30d15c(0x17a)](_0x3a0916['apiUrl']+_0x30d15c(0x13d))[_0x30d15c(0x143)](_0x435231=>_0x435231['values']);return _0x3a0916[_0x30d15c(0x161)]=(_0x4990b8=_0x1be9b1[_0x30d15c(0x13f)](_0x812aee=>_0x812aee[_0x30d15c(0x136)]===!![]))===null||_0x4990b8===void 0x0?void 0x0:_0x4990b8['displayId'],_0x3a0916;}catch(_0x2de2dd){if(_0x2de2dd instanceof api_error_1[_0x30d15c(0x146)])throw _0x2de2dd;throw new not_found_error_1[(_0x30d15c(0x157))](_0x2de2dd);}}async['update'](_0x6dd7e0,_0xd69ba){const _0x3d5b1b=a110_0x1a6230;try{const _0x5ecffb=await this[_0x3d5b1b(0x14f)][_0x3d5b1b(0x17e)](_0x3d5b1b(0x162)+this[_0x3d5b1b(0x163)]+_0x3d5b1b(0x174)+_0x6dd7e0,_0xd69ba),_0x19c07b=await this[_0x3d5b1b(0x14f)][_0x3d5b1b(0x17a)](_0x3d5b1b(0x162)+this[_0x3d5b1b(0x163)]+_0x3d5b1b(0x174)+_0x6dd7e0+'/default-branch'),_0x3f3647=repo_class_1[_0x3d5b1b(0x158)]['fromBitbucketServer'](_0x5ecffb,utils_1[_0x3d5b1b(0x176)](this[_0x3d5b1b(0x14f)][_0x3d5b1b(0x164)][_0x3d5b1b(0x14d)]||'','/projects/'+this[_0x3d5b1b(0x163)]+_0x3d5b1b(0x174)+_0x6dd7e0));return _0x3f3647[_0x3d5b1b(0x161)]=_0x19c07b[_0x3d5b1b(0x149)],_0x3f3647;}catch(_0x508998){if(_0x508998 instanceof api_error_1['ApiError'])throw _0x508998;throw new not_found_error_1['NotFoundError'](_0x508998);}}async[a110_0x1a6230(0x167)](_0x11833a){const _0x4c1fa0=a110_0x1a6230;try{await this['getOne'](_0x11833a),await this[_0x4c1fa0(0x14f)][_0x4c1fa0(0x167)]('projects/'+this[_0x4c1fa0(0x163)]+_0x4c1fa0(0x174)+_0x11833a);}catch(_0x2f1194){if(_0x2f1194 instanceof api_error_1[_0x4c1fa0(0x146)])throw _0x2f1194;throw new bad_request_error_1[(_0x4c1fa0(0x17f))](_0x2f1194);}}};function a110_0x4e78(){const _0x4a68d9=['apiBody','/projects/','push','2887580mUJPgt','Service','NotFoundError','Repo','../../../core/errors/bad-request.error','40389psUmvO','values','git','master','slug','getOwnPropertyDescriptor','10xiMqYe','defaultBranch','projects/','project','defaults','name','isLastPage','delete','fromBitbucketServer','../../../core/errors/not-found.error','AuthSettingsService','/repos','Git','../repo.class','metadata','__esModule','__decorate','Inject','defineProperty','object','/repos/','GitRepoService','joinURL','./git-repo.service','20KdksIl','create','get','(((.+)+)+)+$','post','152482fWQhSC','put','BadRequestError','function','14497rjYcsz','1076952Emlrfi','../../shared/utils','isDefault','BitbucketServerRepoService','apply','map','createEmptyBranch','BitbucketServerApiService','1818YolWZA','/branches','search','find','api','3Qldhre','getAll','then','7621704oRJaDF','typedi','ApiError','toString','design:paramtypes','displayId','__metadata','7160216gGJzLB','getOne','baseURL','decorate','request','__param','../../internal/git.internal'];a110_0x4e78=function(){return _0x4a68d9;};return a110_0x4e78();}BitbucketServerRepoService=__decorate([typedi_1[a110_0x1a6230(0x156)](),__param(0x1,typedi_1[a110_0x1a6230(0x171)]()),__metadata(a110_0x1a6230(0x148),[bitbucket_server_api_service_1[a110_0x1a6230(0x13b)],auth_settings_service_1[a110_0x1a6230(0x16a)]])],BitbucketServerRepoService),exports[a110_0x1a6230(0x137)]=BitbucketServerRepoService;