const a111_0x5f99b6=a111_0x2eee;(function(_0x4b6420,_0x29f375){const _0x1b8fa7=a111_0x2eee,_0x36bac3=_0x4b6420();while(!![]){try{const _0x4e14dd=-parseInt(_0x1b8fa7(0x184))/0x1*(-parseInt(_0x1b8fa7(0x165))/0x2)+parseInt(_0x1b8fa7(0x181))/0x3+parseInt(_0x1b8fa7(0x14d))/0x4+parseInt(_0x1b8fa7(0x170))/0x5+parseInt(_0x1b8fa7(0x16e))/0x6+-parseInt(_0x1b8fa7(0x193))/0x7+-parseInt(_0x1b8fa7(0x15b))/0x8*(parseInt(_0x1b8fa7(0x192))/0x9);if(_0x4e14dd===_0x29f375)break;else _0x36bac3['push'](_0x36bac3['shift']());}catch(_0x885ae1){_0x36bac3['push'](_0x36bac3['shift']());}}}(a111_0xa0b9,0x44f50));function a111_0xa0b9(){const _0x3e3870=['15978267gkcKwv','525420SvUwtG','request','values','NotFoundError','getAll','/repos/','__decorate','map','2253860KwyRym','/repos','length','fromBitbucketServer','constructor','defineProperty','function','nextPageStart','Git','BitbucketServerRepoService','BitbucketServerApiService','typedi','git','autoInit','8CJarZk','/branches','then','put','find','../repo.class','design:paramtypes','projects/','../../git-api/services/bitbucket-server-api.service','createEmptyBranch','4aqUUrn','Service','decorate','object','Repo','Inject','__param','post','get','2913984FBhvLO','bitbucketServer','2310110jkpmHW','project','name','slug','(((.+)+)+)+$','__metadata','getOne','metadata','isLastPage','../../internal/git.internal','ApiError','BadRequestError','defaultBranch','../../shared/utils','__esModule','search','/projects/','959322TRTldH','../../../core/errors/api.error','toString','150973WjzwQb','delete','defaults','baseURL','apiBody','/default-branch','create','GitRepoService','apply','getOwnPropertyDescriptor','../../shared/services/auth-settings.service','joinURL','displayId','isDefault'];a111_0xa0b9=function(){return _0x3e3870;};return a111_0xa0b9();}const a111_0x4133ae=(function(){let _0x3743ea=!![];return function(_0x261cbc,_0x97058b){const _0x1acfc5=_0x3743ea?function(){const _0x14ab95=a111_0x2eee;if(_0x97058b){const _0xdb2426=_0x97058b[_0x14ab95(0x18c)](_0x261cbc,arguments);return _0x97058b=null,_0xdb2426;}}:function(){};return _0x3743ea=![],_0x1acfc5;};}()),a111_0x30f5ee=a111_0x4133ae(this,function(){const _0x2808b9=a111_0x2eee;return a111_0x30f5ee[_0x2808b9(0x183)]()[_0x2808b9(0x17f)](_0x2808b9(0x174))['toString']()[_0x2808b9(0x151)](a111_0x30f5ee)[_0x2808b9(0x17f)](_0x2808b9(0x174));});a111_0x30f5ee();'use strict';var __decorate=this&&this[a111_0x5f99b6(0x14b)]||function(_0x444235,_0x4903b4,_0x4b454a,_0x57a839){const _0x40ceb3=a111_0x5f99b6;var _0x432e2a=arguments[_0x40ceb3(0x14f)],_0x26819a=_0x432e2a<0x3?_0x4903b4:_0x57a839===null?_0x57a839=Object[_0x40ceb3(0x18d)](_0x4903b4,_0x4b454a):_0x57a839,_0x3130d4;if(typeof Reflect==='object'&&typeof Reflect[_0x40ceb3(0x167)]===_0x40ceb3(0x153))_0x26819a=Reflect[_0x40ceb3(0x167)](_0x444235,_0x4903b4,_0x4b454a,_0x57a839);else{for(var _0xea514c=_0x444235[_0x40ceb3(0x14f)]-0x1;_0xea514c>=0x0;_0xea514c--)if(_0x3130d4=_0x444235[_0xea514c])_0x26819a=(_0x432e2a<0x3?_0x3130d4(_0x26819a):_0x432e2a>0x3?_0x3130d4(_0x4903b4,_0x4b454a,_0x26819a):_0x3130d4(_0x4903b4,_0x4b454a))||_0x26819a;}return _0x432e2a>0x3&&_0x26819a&&Object[_0x40ceb3(0x152)](_0x4903b4,_0x4b454a,_0x26819a),_0x26819a;},__metadata=this&&this[a111_0x5f99b6(0x175)]||function(_0x3a7e19,_0x30d51e){const _0x29d1e0=a111_0x5f99b6;if(typeof Reflect===_0x29d1e0(0x168)&&typeof Reflect[_0x29d1e0(0x177)]===_0x29d1e0(0x153))return Reflect[_0x29d1e0(0x177)](_0x3a7e19,_0x30d51e);},__param=this&&this[a111_0x5f99b6(0x16b)]||function(_0x3db781,_0x40c831){return function(_0x327edd,_0x26b12a){_0x40c831(_0x327edd,_0x26b12a,_0x3db781);};};Object[a111_0x5f99b6(0x152)](exports,a111_0x5f99b6(0x17e),{'value':!![]}),exports[a111_0x5f99b6(0x156)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require(a111_0x5f99b6(0x18e)),typedi_1=require(a111_0x5f99b6(0x158)),api_error_1=require(a111_0x5f99b6(0x182)),bitbucket_server_api_service_1=require(a111_0x5f99b6(0x163)),git_internal_1=require(a111_0x5f99b6(0x179)),utils_1=require(a111_0x5f99b6(0x17d)),repo_class_1=require(a111_0x5f99b6(0x160)),git_repo_service_1=require('./git-repo.service');function a111_0x2eee(_0x38f5f3,_0x5b3927){const _0x57dfb9=a111_0xa0b9();return a111_0x2eee=function(_0x30f5ee,_0x4133ae){_0x30f5ee=_0x30f5ee-0x148;let _0xa0b9c8=_0x57dfb9[_0x30f5ee];return _0xa0b9c8;},a111_0x2eee(_0x38f5f3,_0x5b3927);}let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0x5f99b6(0x18b)]{constructor(_0x5c3011,_0x1d9840){const _0x78859b=a111_0x5f99b6;super(_0x5c3011),this['api']=_0x5c3011,this[_0x78859b(0x171)]=_0x1d9840[_0x78859b(0x16f)][_0x78859b(0x171)];}async[a111_0x5f99b6(0x18a)](_0x3558c3){const _0x3b6162=a111_0x5f99b6;try{const _0x2d2d59={'name':_0x3558c3[_0x3b6162(0x172)],'scmId':_0x3b6162(0x159),'defaultBranch':_0x3558c3[_0x3b6162(0x17c)],..._0x3558c3[_0x3b6162(0x188)]||{}},_0x585b5b=await this[_0x3b6162(0x194)][_0x3b6162(0x16c)](_0x3b6162(0x162)+this[_0x3b6162(0x171)]+_0x3b6162(0x14e),_0x2d2d59),_0x523d77=repo_class_1['Repo'][_0x3b6162(0x150)](_0x585b5b,'');return _0x3558c3[_0x3b6162(0x15a)]&&await git_internal_1[_0x3b6162(0x155)][_0x3b6162(0x164)](_0x523d77,_0x3558c3[_0x3b6162(0x17c)]||'master'),this[_0x3b6162(0x176)](_0x523d77['name']);}catch(_0x30df5d){if(_0x30df5d instanceof api_error_1['ApiError'])throw _0x30df5d;throw new bad_request_error_1[(_0x3b6162(0x17b))](_0x30df5d);}}async[a111_0x5f99b6(0x149)](){const _0x3773af=a111_0x5f99b6;try{const _0xacd324=[];let _0xfd15dd;do{_0xfd15dd=await this['request'][_0x3773af(0x16d)](_0x3773af(0x162)+this[_0x3773af(0x171)]+'/repos',{'params':{'limit':0x64,'start':_0xfd15dd?_0xfd15dd[_0x3773af(0x154)]:0x0}}),_0xacd324['push'](..._0xfd15dd[_0x3773af(0x195)]);}while(!_0xfd15dd[_0x3773af(0x178)]);return _0xacd324[_0x3773af(0x14c)](_0x434ea8=>repo_class_1[_0x3773af(0x169)]['fromBitbucketServer'](_0x434ea8,utils_1[_0x3773af(0x18f)](this['request'][_0x3773af(0x186)][_0x3773af(0x187)]||'','/projects/'+this['project']+_0x3773af(0x14a)+_0x434ea8[_0x3773af(0x173)])));}catch(_0x3cb6d2){if(_0x3cb6d2 instanceof api_error_1[_0x3773af(0x17a)])throw _0x3cb6d2;throw new not_found_error_1[(_0x3773af(0x148))](_0x3cb6d2);}}async['getOne'](_0x5b55cd){const _0x4b4151=a111_0x5f99b6;var _0x1a4e78;try{const _0x3f81ba=await this[_0x4b4151(0x194)][_0x4b4151(0x16d)](_0x4b4151(0x162)+this[_0x4b4151(0x171)]+_0x4b4151(0x14a)+_0x5b55cd),_0x8c7e64=repo_class_1['Repo'][_0x4b4151(0x150)](_0x3f81ba,utils_1['joinURL'](this['request'][_0x4b4151(0x186)][_0x4b4151(0x187)]||'',_0x4b4151(0x180)+this[_0x4b4151(0x171)]+_0x4b4151(0x14a)+_0x5b55cd)),_0x235ae0=await this['request'][_0x4b4151(0x16d)](_0x8c7e64['apiUrl']+_0x4b4151(0x15c))[_0x4b4151(0x15d)](_0x1493cb=>_0x1493cb[_0x4b4151(0x195)]);return _0x8c7e64[_0x4b4151(0x17c)]=(_0x1a4e78=_0x235ae0[_0x4b4151(0x15f)](_0x5c2a52=>_0x5c2a52[_0x4b4151(0x191)]===!![]))===null||_0x1a4e78===void 0x0?void 0x0:_0x1a4e78[_0x4b4151(0x190)],_0x8c7e64;}catch(_0x48bc36){if(_0x48bc36 instanceof api_error_1[_0x4b4151(0x17a)])throw _0x48bc36;throw new not_found_error_1[(_0x4b4151(0x148))](_0x48bc36);}}async['update'](_0x3a0043,_0x40824b){const _0x22807e=a111_0x5f99b6;try{const _0x166a28=await this['request'][_0x22807e(0x15e)](_0x22807e(0x162)+this[_0x22807e(0x171)]+_0x22807e(0x14a)+_0x3a0043,_0x40824b),_0x32145a=await this[_0x22807e(0x194)][_0x22807e(0x16d)](_0x22807e(0x162)+this[_0x22807e(0x171)]+_0x22807e(0x14a)+_0x3a0043+_0x22807e(0x189)),_0x492ea5=repo_class_1[_0x22807e(0x169)][_0x22807e(0x150)](_0x166a28,utils_1[_0x22807e(0x18f)](this[_0x22807e(0x194)][_0x22807e(0x186)][_0x22807e(0x187)]||'',_0x22807e(0x180)+this[_0x22807e(0x171)]+'/repos/'+_0x3a0043));return _0x492ea5[_0x22807e(0x17c)]=_0x32145a[_0x22807e(0x190)],_0x492ea5;}catch(_0x495a04){if(_0x495a04 instanceof api_error_1['ApiError'])throw _0x495a04;throw new not_found_error_1[(_0x22807e(0x148))](_0x495a04);}}async[a111_0x5f99b6(0x185)](_0x40827f){const _0x377305=a111_0x5f99b6;try{await this[_0x377305(0x176)](_0x40827f),await this[_0x377305(0x194)][_0x377305(0x185)](_0x377305(0x162)+this['project']+_0x377305(0x14a)+_0x40827f);}catch(_0x4e521e){if(_0x4e521e instanceof api_error_1[_0x377305(0x17a)])throw _0x4e521e;throw new bad_request_error_1['BadRequestError'](_0x4e521e);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x5f99b6(0x166)](),__param(0x1,typedi_1[a111_0x5f99b6(0x16a)]()),__metadata(a111_0x5f99b6(0x161),[bitbucket_server_api_service_1[a111_0x5f99b6(0x157)],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports[a111_0x5f99b6(0x156)]=BitbucketServerRepoService;