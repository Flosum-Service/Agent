const a110_0x5dbb74=a110_0x10e0;(function(_0x5c4ec4,_0x2d4b64){const _0x23f051=a110_0x10e0,_0x2dfa6c=_0x5c4ec4();while(!![]){try{const _0xb7bf84=-parseInt(_0x23f051(0xc2))/0x1*(parseInt(_0x23f051(0xab))/0x2)+-parseInt(_0x23f051(0xb8))/0x3+-parseInt(_0x23f051(0x96))/0x4+-parseInt(_0x23f051(0x9e))/0x5+-parseInt(_0x23f051(0x9a))/0x6+-parseInt(_0x23f051(0xae))/0x7+parseInt(_0x23f051(0xc7))/0x8;if(_0xb7bf84===_0x2d4b64)break;else _0x2dfa6c['push'](_0x2dfa6c['shift']());}catch(_0x5c11ad){_0x2dfa6c['push'](_0x2dfa6c['shift']());}}}(a110_0x3cbe,0xc3760));function a110_0x3cbe(){const _0x21d148=['autoInit','bitbucketServer','/default-branch','./git-repo.service','Repo','__decorate','Inject','Service','2xTVmTv','ApiError','__metadata','1436680IWSQHt','../../../core/errors/bad-request.error','../../internal/git.internal','search','displayId','(((.+)+)+)+$','isDefault','getOne','master','projects/','2955717ytZcjT','apply','../../shared/utils','Git','post','apiUrl','NotFoundError','push','isLastPage','createEmptyBranch','538757jEfRLy','name','update','BitbucketServerRepoService','defaultBranch','55333640EMezYL','defaults','apiBody','/repos','/branches','constructor','api','GitRepoService','/repos/','toString','/projects/','baseURL','../../git-api/services/bitbucket-server-api.service','typedi','metadata','put','function','decorate','../../../core/errors/api.error','delete','length','get','find','BitbucketServerApiService','AuthSettingsService','create','getAll','defineProperty','5581392mwPMKi','request','values','getOwnPropertyDescriptor','9456414OSCsEp','BadRequestError','project','fromBitbucketServer','7077220reVYYv','object','slug','then','__param'];a110_0x3cbe=function(){return _0x21d148;};return a110_0x3cbe();}const a110_0x4345d3=(function(){let _0x3768c7=!![];return function(_0x465c01,_0x33a912){const _0x126755=_0x3768c7?function(){const _0x185d59=a110_0x10e0;if(_0x33a912){const _0x607a7d=_0x33a912[_0x185d59(0xb9)](_0x465c01,arguments);return _0x33a912=null,_0x607a7d;}}:function(){};return _0x3768c7=![],_0x126755;};}()),a110_0x38a59f=a110_0x4345d3(this,function(){const _0x941d53=a110_0x10e0;return a110_0x38a59f[_0x941d53(0xd0)]()[_0x941d53(0xb1)]('(((.+)+)+)+$')[_0x941d53(0xd0)]()[_0x941d53(0xcc)](a110_0x38a59f)['search'](_0x941d53(0xb3));});function a110_0x10e0(_0x57e321,_0x37b0bf){const _0x51ae6b=a110_0x3cbe();return a110_0x10e0=function(_0x38a59f,_0x4345d3){_0x38a59f=_0x38a59f-0x95;let _0x3cbe2e=_0x51ae6b[_0x38a59f];return _0x3cbe2e;},a110_0x10e0(_0x57e321,_0x37b0bf);}a110_0x38a59f();'use strict';var __decorate=this&&this[a110_0x5dbb74(0xa8)]||function(_0x578112,_0xada0f7,_0x137479,_0x4325ef){const _0x3b67ec=a110_0x5dbb74;var _0x54c8c4=arguments[_0x3b67ec(0xdb)],_0x71e76e=_0x54c8c4<0x3?_0xada0f7:_0x4325ef===null?_0x4325ef=Object[_0x3b67ec(0x99)](_0xada0f7,_0x137479):_0x4325ef,_0x414055;if(typeof Reflect===_0x3b67ec(0x9f)&&typeof Reflect[_0x3b67ec(0xd8)]===_0x3b67ec(0xd7))_0x71e76e=Reflect[_0x3b67ec(0xd8)](_0x578112,_0xada0f7,_0x137479,_0x4325ef);else{for(var _0x1d9962=_0x578112[_0x3b67ec(0xdb)]-0x1;_0x1d9962>=0x0;_0x1d9962--)if(_0x414055=_0x578112[_0x1d9962])_0x71e76e=(_0x54c8c4<0x3?_0x414055(_0x71e76e):_0x54c8c4>0x3?_0x414055(_0xada0f7,_0x137479,_0x71e76e):_0x414055(_0xada0f7,_0x137479))||_0x71e76e;}return _0x54c8c4>0x3&&_0x71e76e&&Object['defineProperty'](_0xada0f7,_0x137479,_0x71e76e),_0x71e76e;},__metadata=this&&this[a110_0x5dbb74(0xad)]||function(_0x5abb95,_0x459704){const _0x5cff79=a110_0x5dbb74;if(typeof Reflect==='object'&&typeof Reflect[_0x5cff79(0xd5)]===_0x5cff79(0xd7))return Reflect['metadata'](_0x5abb95,_0x459704);},__param=this&&this[a110_0x5dbb74(0xa2)]||function(_0xaa15eb,_0x12cd18){return function(_0x237d4f,_0x458029){_0x12cd18(_0x237d4f,_0x458029,_0xaa15eb);};};Object[a110_0x5dbb74(0x95)](exports,'__esModule',{'value':!![]}),exports['BitbucketServerRepoService']=void 0x0;const bad_request_error_1=require(a110_0x5dbb74(0xaf)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require(a110_0x5dbb74(0xd4)),api_error_1=require(a110_0x5dbb74(0xd9)),bitbucket_server_api_service_1=require(a110_0x5dbb74(0xd3)),git_internal_1=require(a110_0x5dbb74(0xb0)),utils_1=require(a110_0x5dbb74(0xba)),repo_class_1=require('../repo.class'),git_repo_service_1=require(a110_0x5dbb74(0xa6));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a110_0x5dbb74(0xce)]{constructor(_0x2e9b14,_0x56d364){const _0x1c2de5=a110_0x5dbb74;super(_0x2e9b14),this[_0x1c2de5(0xcd)]=_0x2e9b14,this[_0x1c2de5(0x9c)]=_0x56d364[_0x1c2de5(0xa4)][_0x1c2de5(0x9c)];}async[a110_0x5dbb74(0xe0)](_0x24f2d1){const _0x1fb5f1=a110_0x5dbb74;try{const _0x55a7a4={'name':_0x24f2d1[_0x1fb5f1(0xc3)],'scmId':'git','defaultBranch':_0x24f2d1['defaultBranch'],..._0x24f2d1[_0x1fb5f1(0xc9)]||{}},_0x5813ca=await this[_0x1fb5f1(0x97)][_0x1fb5f1(0xbc)](_0x1fb5f1(0xb7)+this[_0x1fb5f1(0x9c)]+'/repos',_0x55a7a4),_0x243c4a=repo_class_1[_0x1fb5f1(0xa7)]['fromBitbucketServer'](_0x5813ca,'');return _0x24f2d1[_0x1fb5f1(0xa3)]&&await git_internal_1[_0x1fb5f1(0xbb)][_0x1fb5f1(0xc1)](_0x243c4a,_0x24f2d1[_0x1fb5f1(0xc6)]||_0x1fb5f1(0xb6)),this[_0x1fb5f1(0xb5)](_0x243c4a[_0x1fb5f1(0xc3)]);}catch(_0x19a1aa){if(_0x19a1aa instanceof api_error_1['ApiError'])throw _0x19a1aa;throw new bad_request_error_1[(_0x1fb5f1(0x9b))](_0x19a1aa);}}async[a110_0x5dbb74(0xe1)](){const _0x281e31=a110_0x5dbb74;try{const _0x4bde3a=[];let _0x5e5982;do{_0x5e5982=await this[_0x281e31(0x97)]['get'](_0x281e31(0xb7)+this['project']+_0x281e31(0xca),{'params':{'limit':0x64,'start':_0x5e5982?_0x5e5982['nextPageStart']:0x0}}),_0x4bde3a[_0x281e31(0xbf)](..._0x5e5982['values']);}while(!_0x5e5982[_0x281e31(0xc0)]);return _0x4bde3a['map'](_0x3df439=>repo_class_1[_0x281e31(0xa7)][_0x281e31(0x9d)](_0x3df439,utils_1['joinURL'](this[_0x281e31(0x97)][_0x281e31(0xc8)][_0x281e31(0xd2)]||'',_0x281e31(0xd1)+this[_0x281e31(0x9c)]+_0x281e31(0xcf)+_0x3df439[_0x281e31(0xa0)])));}catch(_0x47d301){if(_0x47d301 instanceof api_error_1['ApiError'])throw _0x47d301;throw new not_found_error_1[(_0x281e31(0xbe))](_0x47d301);}}async['getOne'](_0x2b7356){const _0x5b5565=a110_0x5dbb74;var _0xb0feff;try{const _0xa51c5b=await this[_0x5b5565(0x97)]['get'](_0x5b5565(0xb7)+this[_0x5b5565(0x9c)]+_0x5b5565(0xcf)+_0x2b7356),_0x16addf=repo_class_1[_0x5b5565(0xa7)][_0x5b5565(0x9d)](_0xa51c5b,utils_1['joinURL'](this['request'][_0x5b5565(0xc8)][_0x5b5565(0xd2)]||'','/projects/'+this[_0x5b5565(0x9c)]+_0x5b5565(0xcf)+_0x2b7356)),_0x129f9f=await this[_0x5b5565(0x97)][_0x5b5565(0xdc)](_0x16addf[_0x5b5565(0xbd)]+_0x5b5565(0xcb))[_0x5b5565(0xa1)](_0x2991df=>_0x2991df[_0x5b5565(0x98)]);return _0x16addf[_0x5b5565(0xc6)]=(_0xb0feff=_0x129f9f[_0x5b5565(0xdd)](_0x117b01=>_0x117b01[_0x5b5565(0xb4)]===!![]))===null||_0xb0feff===void 0x0?void 0x0:_0xb0feff[_0x5b5565(0xb2)],_0x16addf;}catch(_0x4a0aba){if(_0x4a0aba instanceof api_error_1[_0x5b5565(0xac)])throw _0x4a0aba;throw new not_found_error_1['NotFoundError'](_0x4a0aba);}}async[a110_0x5dbb74(0xc4)](_0x3857fe,_0x5dc789){const _0x31d7a9=a110_0x5dbb74;try{const _0x504645=await this[_0x31d7a9(0x97)][_0x31d7a9(0xd6)](_0x31d7a9(0xb7)+this[_0x31d7a9(0x9c)]+'/repos/'+_0x3857fe,_0x5dc789),_0x2ce6fb=await this[_0x31d7a9(0x97)][_0x31d7a9(0xdc)](_0x31d7a9(0xb7)+this[_0x31d7a9(0x9c)]+_0x31d7a9(0xcf)+_0x3857fe+_0x31d7a9(0xa5)),_0x3f6495=repo_class_1['Repo'][_0x31d7a9(0x9d)](_0x504645,utils_1['joinURL'](this[_0x31d7a9(0x97)]['defaults'][_0x31d7a9(0xd2)]||'','/projects/'+this['project']+_0x31d7a9(0xcf)+_0x3857fe));return _0x3f6495[_0x31d7a9(0xc6)]=_0x2ce6fb[_0x31d7a9(0xb2)],_0x3f6495;}catch(_0x1ead37){if(_0x1ead37 instanceof api_error_1[_0x31d7a9(0xac)])throw _0x1ead37;throw new not_found_error_1['NotFoundError'](_0x1ead37);}}async[a110_0x5dbb74(0xda)](_0x5ae5cb){const _0x514f6c=a110_0x5dbb74;try{await this[_0x514f6c(0xb5)](_0x5ae5cb),await this[_0x514f6c(0x97)]['delete']('projects/'+this[_0x514f6c(0x9c)]+_0x514f6c(0xcf)+_0x5ae5cb);}catch(_0x16ad80){if(_0x16ad80 instanceof api_error_1[_0x514f6c(0xac)])throw _0x16ad80;throw new bad_request_error_1[(_0x514f6c(0x9b))](_0x16ad80);}}};BitbucketServerRepoService=__decorate([typedi_1[a110_0x5dbb74(0xaa)](),__param(0x1,typedi_1[a110_0x5dbb74(0xa9)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a110_0x5dbb74(0xde)],auth_settings_service_1[a110_0x5dbb74(0xdf)]])],BitbucketServerRepoService),exports[a110_0x5dbb74(0xc5)]=BitbucketServerRepoService;