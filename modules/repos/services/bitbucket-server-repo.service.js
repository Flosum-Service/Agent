const a111_0x512739=a111_0x52a7;(function(_0xfc4f50,_0x5dc158){const _0x4fd32d=a111_0x52a7,_0x45106d=_0xfc4f50();while(!![]){try{const _0x1c8066=-parseInt(_0x4fd32d(0x115))/0x1*(-parseInt(_0x4fd32d(0x109))/0x2)+-parseInt(_0x4fd32d(0x119))/0x3+parseInt(_0x4fd32d(0xe5))/0x4+parseInt(_0x4fd32d(0x113))/0x5*(parseInt(_0x4fd32d(0xe4))/0x6)+parseInt(_0x4fd32d(0x128))/0x7+parseInt(_0x4fd32d(0x100))/0x8*(-parseInt(_0x4fd32d(0xfd))/0x9)+-parseInt(_0x4fd32d(0x10e))/0xa;if(_0x1c8066===_0x5dc158)break;else _0x45106d['push'](_0x45106d['shift']());}catch(_0x312a7d){_0x45106d['push'](_0x45106d['shift']());}}}(a111_0x4ee6,0xb1a4f));function a111_0x52a7(_0x4e3c79,_0x1a90af){const _0x1fe389=a111_0x4ee6();return a111_0x52a7=function(_0x38db0b,_0x14c5bb){_0x38db0b=_0x38db0b-0xe3;let _0x4ee656=_0x1fe389[_0x38db0b];return _0x4ee656;},a111_0x52a7(_0x4e3c79,_0x1a90af);}const a111_0x14c5bb=(function(){let _0x5bb50c=!![];return function(_0x13d700,_0x5275dc){const _0x522bf8=_0x5bb50c?function(){if(_0x5275dc){const _0x3fbbfa=_0x5275dc['apply'](_0x13d700,arguments);return _0x5275dc=null,_0x3fbbfa;}}:function(){};return _0x5bb50c=![],_0x522bf8;};}()),a111_0x38db0b=a111_0x14c5bb(this,function(){const _0x16725a=a111_0x52a7;return a111_0x38db0b[_0x16725a(0xea)]()[_0x16725a(0xe6)](_0x16725a(0x123))[_0x16725a(0xea)]()[_0x16725a(0xf0)](a111_0x38db0b)[_0x16725a(0xe6)]('(((.+)+)+)+$');});a111_0x38db0b();'use strict';function a111_0x4ee6(){const _0x4e808f=['(((.+)+)+)+$','decorate','../../shared/utils','ApiError','isLastPage','8837955CEjMxL','joinURL','NotFoundError','Inject','__param','Service','137106hCYvlO','793508sVWrqX','search','then','../../../core/errors/api.error','/projects/','toString','createEmptyBranch','find','name','fromBitbucketServer','getOne','constructor','getAll','__metadata','autoInit','baseURL','defaults','apiBody','getOwnPropertyDescriptor','put','git','get','/branches','push','306zqtLLc','length','function','97912BFKbIy','request','__esModule','../../../core/errors/bad-request.error','/default-branch','../../git-api/services/bitbucket-server-api.service','object','slug','apiUrl','1100972jkSBHs','../../internal/git.internal','defaultBranch','isDefault','project','14386710gueRMr','master','displayId','__decorate','../repo.class','290pswqyn','delete','2OwrWBt','/repos/','BitbucketServerRepoService','BadRequestError','3914532DSlojj','/repos','design:paramtypes','defineProperty','create','metadata','projects/','Repo','bitbucketServer','api'];a111_0x4ee6=function(){return _0x4e808f;};return a111_0x4ee6();}var __decorate=this&&this[a111_0x512739(0x111)]||function(_0x1688bc,_0x423b4f,_0x183052,_0x2ed720){const _0x1996e5=a111_0x512739;var _0x3a6189=arguments[_0x1996e5(0xfe)],_0x1acbf1=_0x3a6189<0x3?_0x423b4f:_0x2ed720===null?_0x2ed720=Object[_0x1996e5(0xf7)](_0x423b4f,_0x183052):_0x2ed720,_0x4d485c;if(typeof Reflect===_0x1996e5(0x106)&&typeof Reflect[_0x1996e5(0x124)]===_0x1996e5(0xff))_0x1acbf1=Reflect[_0x1996e5(0x124)](_0x1688bc,_0x423b4f,_0x183052,_0x2ed720);else{for(var _0x52a8fc=_0x1688bc[_0x1996e5(0xfe)]-0x1;_0x52a8fc>=0x0;_0x52a8fc--)if(_0x4d485c=_0x1688bc[_0x52a8fc])_0x1acbf1=(_0x3a6189<0x3?_0x4d485c(_0x1acbf1):_0x3a6189>0x3?_0x4d485c(_0x423b4f,_0x183052,_0x1acbf1):_0x4d485c(_0x423b4f,_0x183052))||_0x1acbf1;}return _0x3a6189>0x3&&_0x1acbf1&&Object[_0x1996e5(0x11c)](_0x423b4f,_0x183052,_0x1acbf1),_0x1acbf1;},__metadata=this&&this[a111_0x512739(0xf2)]||function(_0x53dc24,_0x555210){const _0xbe0829=a111_0x512739;if(typeof Reflect===_0xbe0829(0x106)&&typeof Reflect[_0xbe0829(0x11e)]===_0xbe0829(0xff))return Reflect[_0xbe0829(0x11e)](_0x53dc24,_0x555210);},__param=this&&this[a111_0x512739(0x12c)]||function(_0x3bb088,_0x5c2ffa){return function(_0x996ab1,_0x353ce6){_0x5c2ffa(_0x996ab1,_0x353ce6,_0x3bb088);};};Object['defineProperty'](exports,a111_0x512739(0x102),{'value':!![]}),exports[a111_0x512739(0x117)]=void 0x0;const bad_request_error_1=require(a111_0x512739(0x103)),not_found_error_1=require('../../../core/errors/not-found.error'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require('typedi'),api_error_1=require(a111_0x512739(0xe8)),bitbucket_server_api_service_1=require(a111_0x512739(0x105)),git_internal_1=require(a111_0x512739(0x10a)),utils_1=require(a111_0x512739(0x125)),repo_class_1=require(a111_0x512739(0x112)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0xc8453,_0x3ded31){const _0x27c89f=a111_0x512739;super(_0xc8453),this[_0x27c89f(0x122)]=_0xc8453,this['project']=_0x3ded31[_0x27c89f(0x121)][_0x27c89f(0x10d)];}async[a111_0x512739(0x11d)](_0x177bfe){const _0x5547c9=a111_0x512739;try{const _0x16ad08={'name':_0x177bfe[_0x5547c9(0xed)],'scmId':_0x5547c9(0xf9),'defaultBranch':_0x177bfe[_0x5547c9(0x10b)],..._0x177bfe[_0x5547c9(0xf6)]||{}},_0x37c8c7=await this['request']['post'](_0x5547c9(0x11f)+this['project']+_0x5547c9(0x11a),_0x16ad08),_0x85a9b1=repo_class_1[_0x5547c9(0x120)][_0x5547c9(0xee)](_0x37c8c7,'');return _0x177bfe[_0x5547c9(0xf3)]&&await git_internal_1['Git'][_0x5547c9(0xeb)](_0x85a9b1,_0x177bfe[_0x5547c9(0x10b)]||_0x5547c9(0x10f)),this['getOne'](_0x85a9b1[_0x5547c9(0xed)]);}catch(_0x35ef08){if(_0x35ef08 instanceof api_error_1[_0x5547c9(0x126)])throw _0x35ef08;throw new bad_request_error_1[(_0x5547c9(0x118))](_0x35ef08);}}async[a111_0x512739(0xf1)](){const _0xf4c21c=a111_0x512739;try{const _0x44d8ac=[];let _0x322de9;do{_0x322de9=await this[_0xf4c21c(0x101)]['get'](_0xf4c21c(0x11f)+this['project']+'/repos',{'params':{'limit':0x64,'start':_0x322de9?_0x322de9['nextPageStart']:0x0}}),_0x44d8ac[_0xf4c21c(0xfc)](..._0x322de9['values']);}while(!_0x322de9[_0xf4c21c(0x127)]);return _0x44d8ac['map'](_0xbb37f1=>repo_class_1[_0xf4c21c(0x120)][_0xf4c21c(0xee)](_0xbb37f1,utils_1[_0xf4c21c(0x129)](this['request'][_0xf4c21c(0xf5)][_0xf4c21c(0xf4)]||'',_0xf4c21c(0xe9)+this['project']+_0xf4c21c(0x116)+_0xbb37f1[_0xf4c21c(0x107)])));}catch(_0x1bbb7b){if(_0x1bbb7b instanceof api_error_1[_0xf4c21c(0x126)])throw _0x1bbb7b;throw new not_found_error_1['NotFoundError'](_0x1bbb7b);}}async[a111_0x512739(0xef)](_0x48ec6c){const _0x238c9e=a111_0x512739;var _0x40d676;try{const _0x19d10d=await this[_0x238c9e(0x101)][_0x238c9e(0xfa)](_0x238c9e(0x11f)+this[_0x238c9e(0x10d)]+'/repos/'+_0x48ec6c),_0x5c940b=repo_class_1[_0x238c9e(0x120)]['fromBitbucketServer'](_0x19d10d,utils_1[_0x238c9e(0x129)](this['request'][_0x238c9e(0xf5)]['baseURL']||'',_0x238c9e(0xe9)+this[_0x238c9e(0x10d)]+_0x238c9e(0x116)+_0x48ec6c)),_0x8c4f6c=await this[_0x238c9e(0x101)][_0x238c9e(0xfa)](_0x5c940b[_0x238c9e(0x108)]+_0x238c9e(0xfb))[_0x238c9e(0xe7)](_0x4b058d=>_0x4b058d['values']);return _0x5c940b[_0x238c9e(0x10b)]=(_0x40d676=_0x8c4f6c[_0x238c9e(0xec)](_0x230815=>_0x230815[_0x238c9e(0x10c)]===!![]))===null||_0x40d676===void 0x0?void 0x0:_0x40d676[_0x238c9e(0x110)],_0x5c940b;}catch(_0x14cbcb){if(_0x14cbcb instanceof api_error_1[_0x238c9e(0x126)])throw _0x14cbcb;throw new not_found_error_1[(_0x238c9e(0x12a))](_0x14cbcb);}}async['update'](_0x4ec00e,_0x2e38cb){const _0x259df2=a111_0x512739;try{const _0x151c10=await this[_0x259df2(0x101)][_0x259df2(0xf8)]('projects/'+this['project']+'/repos/'+_0x4ec00e,_0x2e38cb),_0x25cde6=await this[_0x259df2(0x101)][_0x259df2(0xfa)]('projects/'+this[_0x259df2(0x10d)]+_0x259df2(0x116)+_0x4ec00e+_0x259df2(0x104)),_0x1ecbfb=repo_class_1[_0x259df2(0x120)][_0x259df2(0xee)](_0x151c10,utils_1[_0x259df2(0x129)](this['request'][_0x259df2(0xf5)]['baseURL']||'',_0x259df2(0xe9)+this[_0x259df2(0x10d)]+'/repos/'+_0x4ec00e));return _0x1ecbfb[_0x259df2(0x10b)]=_0x25cde6[_0x259df2(0x110)],_0x1ecbfb;}catch(_0x169b31){if(_0x169b31 instanceof api_error_1['ApiError'])throw _0x169b31;throw new not_found_error_1[(_0x259df2(0x12a))](_0x169b31);}}async[a111_0x512739(0x114)](_0x43d8ea){const _0x2ca459=a111_0x512739;try{await this[_0x2ca459(0xef)](_0x43d8ea),await this['request'][_0x2ca459(0x114)](_0x2ca459(0x11f)+this[_0x2ca459(0x10d)]+'/repos/'+_0x43d8ea);}catch(_0x1473bc){if(_0x1473bc instanceof api_error_1[_0x2ca459(0x126)])throw _0x1473bc;throw new bad_request_error_1[(_0x2ca459(0x118))](_0x1473bc);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x512739(0xe3)](),__param(0x1,typedi_1[a111_0x512739(0x12b)]()),__metadata(a111_0x512739(0x11b),[bitbucket_server_api_service_1['BitbucketServerApiService'],auth_settings_service_1['AuthSettingsService']])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;