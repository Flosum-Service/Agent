const a111_0x2d0b01=a111_0x3993;function a111_0x3993(_0xd5606a,_0x29605e){const _0x11908d=a111_0x4dcc();return a111_0x3993=function(_0x3a796e,_0x51036c){_0x3a796e=_0x3a796e-0x164;let _0x4dcc29=_0x11908d[_0x3a796e];return _0x4dcc29;},a111_0x3993(_0xd5606a,_0x29605e);}(function(_0x32a88a,_0x3afedc){const _0x3c8be8=a111_0x3993,_0xe7c918=_0x32a88a();while(!![]){try{const _0x1f23b7=parseInt(_0x3c8be8(0x191))/0x1+parseInt(_0x3c8be8(0x195))/0x2*(-parseInt(_0x3c8be8(0x167))/0x3)+parseInt(_0x3c8be8(0x18e))/0x4+-parseInt(_0x3c8be8(0x182))/0x5+-parseInt(_0x3c8be8(0x18a))/0x6*(parseInt(_0x3c8be8(0x169))/0x7)+-parseInt(_0x3c8be8(0x17b))/0x8*(parseInt(_0x3c8be8(0x178))/0x9)+parseInt(_0x3c8be8(0x189))/0xa*(parseInt(_0x3c8be8(0x16e))/0xb);if(_0x1f23b7===_0x3afedc)break;else _0xe7c918['push'](_0xe7c918['shift']());}catch(_0x7871eb){_0xe7c918['push'](_0xe7c918['shift']());}}}(a111_0x4dcc,0xaa9ba));const a111_0x51036c=(function(){let _0xa43b1c=!![];return function(_0x174db6,_0x5a4b0e){const _0x40208c=_0xa43b1c?function(){if(_0x5a4b0e){const _0x4b3357=_0x5a4b0e['apply'](_0x174db6,arguments);return _0x5a4b0e=null,_0x4b3357;}}:function(){};return _0xa43b1c=![],_0x40208c;};}()),a111_0x3a796e=a111_0x51036c(this,function(){const _0x17b627=a111_0x3993;return a111_0x3a796e[_0x17b627(0x1a2)]()['search'](_0x17b627(0x194))['toString']()[_0x17b627(0x1ac)](a111_0x3a796e)[_0x17b627(0x1a9)]('(((.+)+)+)+$');});a111_0x3a796e();'use strict';var __decorate=this&&this[a111_0x2d0b01(0x181)]||function(_0x4d7a6f,_0x490669,_0x816548,_0x47a41e){const _0x2faeeb=a111_0x2d0b01;var _0xd7be1e=arguments[_0x2faeeb(0x170)],_0x4f5157=_0xd7be1e<0x3?_0x490669:_0x47a41e===null?_0x47a41e=Object[_0x2faeeb(0x17f)](_0x490669,_0x816548):_0x47a41e,_0x56845;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x2faeeb(0x1a5))_0x4f5157=Reflect[_0x2faeeb(0x18c)](_0x4d7a6f,_0x490669,_0x816548,_0x47a41e);else{for(var _0x6579a1=_0x4d7a6f[_0x2faeeb(0x170)]-0x1;_0x6579a1>=0x0;_0x6579a1--)if(_0x56845=_0x4d7a6f[_0x6579a1])_0x4f5157=(_0xd7be1e<0x3?_0x56845(_0x4f5157):_0xd7be1e>0x3?_0x56845(_0x490669,_0x816548,_0x4f5157):_0x56845(_0x490669,_0x816548))||_0x4f5157;}return _0xd7be1e>0x3&&_0x4f5157&&Object[_0x2faeeb(0x19a)](_0x490669,_0x816548,_0x4f5157),_0x4f5157;},__metadata=this&&this[a111_0x2d0b01(0x172)]||function(_0x339742,_0x441408){const _0x6a6675=a111_0x2d0b01;if(typeof Reflect===_0x6a6675(0x174)&&typeof Reflect['metadata']==='function')return Reflect[_0x6a6675(0x19b)](_0x339742,_0x441408);},__param=this&&this['__param']||function(_0x295561,_0x130260){return function(_0x2d7963,_0x5c4eb7){_0x130260(_0x2d7963,_0x5c4eb7,_0x295561);};};Object['defineProperty'](exports,a111_0x2d0b01(0x16a),{'value':!![]}),exports[a111_0x2d0b01(0x1a0)]=void 0x0;function a111_0x4dcc(){const _0x3f859f=['Git','typedi','then','4796qamKkB','BadRequestError','length','../../shared/utils','__metadata','post','object','isLastPage','defaults','BitbucketServerApiService','9550422prwnyX','request','../../internal/git.internal','8uWJQJr','put','Service','../../git-api/services/bitbucket-server-api.service','getOwnPropertyDescriptor','fromBitbucketServer','__decorate','1769320eploqM','apiUrl','push','get','/repos','Inject','getOne','42290GmLJpf','30oFQJiq','map','decorate','update','2713956iQIijV','delete','/projects/','1263470oOXBSv','master','ApiError','(((.+)+)+)+$','374126ukpxmh','../../../core/errors/api.error','/branches','getAll','../../../core/errors/not-found.error','defineProperty','metadata','nextPageStart','autoInit','project','/repos/','BitbucketServerRepoService','defaultBranch','toString','name','apiBody','function','AuthSettingsService','Repo','projects/','search','../../shared/services/auth-settings.service','values','constructor','create','slug','../../../core/errors/bad-request.error','joinURL','displayId','find','NotFoundError','21fZcYTm','baseURL','507542duajwm','__esModule'];a111_0x4dcc=function(){return _0x3f859f;};return a111_0x4dcc();}const bad_request_error_1=require(a111_0x2d0b01(0x1af)),not_found_error_1=require(a111_0x2d0b01(0x199)),auth_settings_service_1=require(a111_0x2d0b01(0x1aa)),typedi_1=require(a111_0x2d0b01(0x16c)),api_error_1=require(a111_0x2d0b01(0x196)),bitbucket_server_api_service_1=require(a111_0x2d0b01(0x17e)),git_internal_1=require(a111_0x2d0b01(0x17a)),utils_1=require(a111_0x2d0b01(0x171)),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x40dfcd,_0x2e13c8){const _0x47e6e1=a111_0x2d0b01;super(_0x40dfcd),this['api']=_0x40dfcd,this[_0x47e6e1(0x19e)]=_0x2e13c8['bitbucketServer'][_0x47e6e1(0x19e)];}async[a111_0x2d0b01(0x1ad)](_0x5394c0){const _0xc740c4=a111_0x2d0b01;try{const _0x464799={'name':_0x5394c0['name'],'scmId':'git','defaultBranch':_0x5394c0[_0xc740c4(0x1a1)],..._0x5394c0[_0xc740c4(0x1a4)]||{}},_0x5ddaf7=await this['request'][_0xc740c4(0x173)](_0xc740c4(0x1a8)+this[_0xc740c4(0x19e)]+_0xc740c4(0x186),_0x464799),_0x316c27=repo_class_1['Repo'][_0xc740c4(0x180)](_0x5ddaf7,'');return _0x5394c0[_0xc740c4(0x19d)]&&await git_internal_1[_0xc740c4(0x16b)]['createEmptyBranch'](_0x316c27,_0x5394c0['defaultBranch']||_0xc740c4(0x192)),this[_0xc740c4(0x188)](_0x316c27[_0xc740c4(0x1a3)]);}catch(_0x55453e){if(_0x55453e instanceof api_error_1[_0xc740c4(0x193)])throw _0x55453e;throw new bad_request_error_1[(_0xc740c4(0x16f))](_0x55453e);}}async[a111_0x2d0b01(0x198)](){const _0x4c79be=a111_0x2d0b01;try{const _0x4f4155=[];let _0x37a6ee;do{_0x37a6ee=await this['request'][_0x4c79be(0x185)](_0x4c79be(0x1a8)+this['project']+_0x4c79be(0x186),{'params':{'limit':0x64,'start':_0x37a6ee?_0x37a6ee[_0x4c79be(0x19c)]:0x0}}),_0x4f4155[_0x4c79be(0x184)](..._0x37a6ee[_0x4c79be(0x1ab)]);}while(!_0x37a6ee[_0x4c79be(0x175)]);return _0x4f4155[_0x4c79be(0x18b)](_0x25c96d=>repo_class_1[_0x4c79be(0x1a7)]['fromBitbucketServer'](_0x25c96d,utils_1[_0x4c79be(0x1b0)](this[_0x4c79be(0x179)]['defaults'][_0x4c79be(0x168)]||'','/projects/'+this[_0x4c79be(0x19e)]+_0x4c79be(0x19f)+_0x25c96d[_0x4c79be(0x1ae)])));}catch(_0x1e0e6c){if(_0x1e0e6c instanceof api_error_1[_0x4c79be(0x193)])throw _0x1e0e6c;throw new not_found_error_1[(_0x4c79be(0x166))](_0x1e0e6c);}}async[a111_0x2d0b01(0x188)](_0x40172f){const _0x207760=a111_0x2d0b01;var _0x2d1b3b;try{const _0x31211f=await this['request'][_0x207760(0x185)]('projects/'+this[_0x207760(0x19e)]+_0x207760(0x19f)+_0x40172f),_0x10cf0f=repo_class_1['Repo'][_0x207760(0x180)](_0x31211f,utils_1[_0x207760(0x1b0)](this[_0x207760(0x179)][_0x207760(0x176)][_0x207760(0x168)]||'',_0x207760(0x190)+this[_0x207760(0x19e)]+_0x207760(0x19f)+_0x40172f)),_0x40df36=await this[_0x207760(0x179)][_0x207760(0x185)](_0x10cf0f[_0x207760(0x183)]+_0x207760(0x197))[_0x207760(0x16d)](_0x2c9838=>_0x2c9838[_0x207760(0x1ab)]);return _0x10cf0f[_0x207760(0x1a1)]=(_0x2d1b3b=_0x40df36[_0x207760(0x165)](_0x22274c=>_0x22274c['isDefault']===!![]))===null||_0x2d1b3b===void 0x0?void 0x0:_0x2d1b3b[_0x207760(0x164)],_0x10cf0f;}catch(_0x3a5750){if(_0x3a5750 instanceof api_error_1['ApiError'])throw _0x3a5750;throw new not_found_error_1['NotFoundError'](_0x3a5750);}}async[a111_0x2d0b01(0x18d)](_0x7a8b8a,_0x5b9318){const _0x40dd22=a111_0x2d0b01;try{const _0x295ddc=await this[_0x40dd22(0x179)][_0x40dd22(0x17c)](_0x40dd22(0x1a8)+this[_0x40dd22(0x19e)]+_0x40dd22(0x19f)+_0x7a8b8a,_0x5b9318),_0x4da6d3=await this[_0x40dd22(0x179)]['get'](_0x40dd22(0x1a8)+this[_0x40dd22(0x19e)]+_0x40dd22(0x19f)+_0x7a8b8a+'/default-branch'),_0x153729=repo_class_1[_0x40dd22(0x1a7)]['fromBitbucketServer'](_0x295ddc,utils_1[_0x40dd22(0x1b0)](this[_0x40dd22(0x179)][_0x40dd22(0x176)]['baseURL']||'',_0x40dd22(0x190)+this['project']+_0x40dd22(0x19f)+_0x7a8b8a));return _0x153729[_0x40dd22(0x1a1)]=_0x4da6d3[_0x40dd22(0x164)],_0x153729;}catch(_0x7648fa){if(_0x7648fa instanceof api_error_1[_0x40dd22(0x193)])throw _0x7648fa;throw new not_found_error_1[(_0x40dd22(0x166))](_0x7648fa);}}async[a111_0x2d0b01(0x18f)](_0x4e53c7){const _0x3fb6b7=a111_0x2d0b01;try{await this[_0x3fb6b7(0x188)](_0x4e53c7),await this[_0x3fb6b7(0x179)]['delete'](_0x3fb6b7(0x1a8)+this[_0x3fb6b7(0x19e)]+'/repos/'+_0x4e53c7);}catch(_0xfa113f){if(_0xfa113f instanceof api_error_1[_0x3fb6b7(0x193)])throw _0xfa113f;throw new bad_request_error_1[(_0x3fb6b7(0x16f))](_0xfa113f);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x2d0b01(0x17d)](),__param(0x1,typedi_1[a111_0x2d0b01(0x187)]()),__metadata('design:paramtypes',[bitbucket_server_api_service_1[a111_0x2d0b01(0x177)],auth_settings_service_1[a111_0x2d0b01(0x1a6)]])],BitbucketServerRepoService),exports['BitbucketServerRepoService']=BitbucketServerRepoService;