const a111_0x18f4c8=a111_0x38cf;function a111_0x3ac2(){const _0x9fd3a6=['BadRequestError','displayId','object','1404688jxoTEH','defineProperty','toString','design:paramtypes','isLastPage','(((.+)+)+)+$','create','update','push','14CuiRia','/repos/','Git','getOne','AuthSettingsService','joinURL','post','9351MPOHEc','search','metadata','apply','name','then','../../../core/errors/api.error','Inject','1910cvCOlG','nextPageStart','apiBody','fromBitbucketServer','../../shared/services/auth-settings.service','baseURL','decorate','getOwnPropertyDescriptor','6tOgvwz','defaults','../../git-api/services/bitbucket-server-api.service','/default-branch','__decorate','2702396aXPWCZ','request','projects/','function','typedi','../../../core/errors/not-found.error','project','/repos','__metadata','534183JzNttG','values','ApiError','Repo','get','master','3563715Weucdl','isDefault','1265762huKAuC','../../internal/git.internal','1245396cGxGae','BitbucketServerApiService','apiUrl','NotFoundError','264wwUDpU','/projects/','/branches','length','defaultBranch','3rhPbBN','find','../repo.class','put','delete','BitbucketServerRepoService','map','./git-repo.service','../../../core/errors/bad-request.error','__esModule'];a111_0x3ac2=function(){return _0x9fd3a6;};return a111_0x3ac2();}(function(_0x570f4d,_0x450894){const _0x1d39aa=a111_0x38cf,_0x7d3c83=_0x570f4d();while(!![]){try{const _0x28a41b=parseInt(_0x1d39aa(0x1c9))/0x1+-parseInt(_0x1d39aa(0x1d1))/0x2*(parseInt(_0x1d39aa(0x1dc))/0x3)+-parseInt(_0x1d39aa(0x1c0))/0x4+-parseInt(_0x1d39aa(0x1cf))/0x5*(parseInt(_0x1d39aa(0x1bb))/0x6)+-parseInt(_0x1d39aa(0x1f2))/0x7*(parseInt(_0x1d39aa(0x1e9))/0x8)+parseInt(_0x1d39aa(0x1f9))/0x9*(-parseInt(_0x1d39aa(0x201))/0xa)+parseInt(_0x1d39aa(0x1d7))/0xb*(parseInt(_0x1d39aa(0x1d3))/0xc);if(_0x28a41b===_0x450894)break;else _0x7d3c83['push'](_0x7d3c83['shift']());}catch(_0x50547b){_0x7d3c83['push'](_0x7d3c83['shift']());}}}(a111_0x3ac2,0x6edf3));const a111_0x1e72fb=(function(){let _0x41a03a=!![];return function(_0x3cf7f1,_0x5f0bec){const _0x6f0b0f=_0x41a03a?function(){const _0x5f5154=a111_0x38cf;if(_0x5f0bec){const _0x4c18a5=_0x5f0bec[_0x5f5154(0x1fc)](_0x3cf7f1,arguments);return _0x5f0bec=null,_0x4c18a5;}}:function(){};return _0x41a03a=![],_0x6f0b0f;};}()),a111_0x1614e4=a111_0x1e72fb(this,function(){const _0x1a50dc=a111_0x38cf;return a111_0x1614e4[_0x1a50dc(0x1eb)]()['search'](_0x1a50dc(0x1ee))[_0x1a50dc(0x1eb)]()['constructor'](a111_0x1614e4)[_0x1a50dc(0x1fa)](_0x1a50dc(0x1ee));});a111_0x1614e4();'use strict';function a111_0x38cf(_0x5d526a,_0x5104ca){const _0x77aca3=a111_0x3ac2();return a111_0x38cf=function(_0x1614e4,_0x1e72fb){_0x1614e4=_0x1614e4-0x1b4;let _0x3ac2de=_0x77aca3[_0x1614e4];return _0x3ac2de;},a111_0x38cf(_0x5d526a,_0x5104ca);}var __decorate=this&&this[a111_0x18f4c8(0x1bf)]||function(_0x275816,_0x2858da,_0x4fca76,_0x4f10da){const _0x3df09c=a111_0x18f4c8;var _0x18280b=arguments[_0x3df09c(0x1da)],_0x152650=_0x18280b<0x3?_0x2858da:_0x4f10da===null?_0x4f10da=Object[_0x3df09c(0x1ba)](_0x2858da,_0x4fca76):_0x4f10da,_0x494954;if(typeof Reflect===_0x3df09c(0x1e8)&&typeof Reflect[_0x3df09c(0x1b9)]===_0x3df09c(0x1c3))_0x152650=Reflect[_0x3df09c(0x1b9)](_0x275816,_0x2858da,_0x4fca76,_0x4f10da);else{for(var _0x578248=_0x275816[_0x3df09c(0x1da)]-0x1;_0x578248>=0x0;_0x578248--)if(_0x494954=_0x275816[_0x578248])_0x152650=(_0x18280b<0x3?_0x494954(_0x152650):_0x18280b>0x3?_0x494954(_0x2858da,_0x4fca76,_0x152650):_0x494954(_0x2858da,_0x4fca76))||_0x152650;}return _0x18280b>0x3&&_0x152650&&Object[_0x3df09c(0x1ea)](_0x2858da,_0x4fca76,_0x152650),_0x152650;},__metadata=this&&this[a111_0x18f4c8(0x1c8)]||function(_0x2e31e6,_0x51a087){const _0x16a8b0=a111_0x18f4c8;if(typeof Reflect===_0x16a8b0(0x1e8)&&typeof Reflect[_0x16a8b0(0x1fb)]===_0x16a8b0(0x1c3))return Reflect[_0x16a8b0(0x1fb)](_0x2e31e6,_0x51a087);},__param=this&&this['__param']||function(_0x20dcb0,_0x4fb0a4){return function(_0x40a39d,_0x56916d){_0x4fb0a4(_0x40a39d,_0x56916d,_0x20dcb0);};};Object[a111_0x18f4c8(0x1ea)](exports,a111_0x18f4c8(0x1e5),{'value':!![]}),exports[a111_0x18f4c8(0x1e1)]=void 0x0;const bad_request_error_1=require(a111_0x18f4c8(0x1e4)),not_found_error_1=require(a111_0x18f4c8(0x1c5)),auth_settings_service_1=require(a111_0x18f4c8(0x1b7)),typedi_1=require(a111_0x18f4c8(0x1c4)),api_error_1=require(a111_0x18f4c8(0x1ff)),bitbucket_server_api_service_1=require(a111_0x18f4c8(0x1bd)),git_internal_1=require(a111_0x18f4c8(0x1d2)),utils_1=require('../../shared/utils'),repo_class_1=require(a111_0x18f4c8(0x1de)),git_repo_service_1=require(a111_0x18f4c8(0x1e3));let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x5963f1,_0x4fa576){const _0x4d0422=a111_0x18f4c8;super(_0x5963f1),this['api']=_0x5963f1,this[_0x4d0422(0x1c6)]=_0x4fa576['bitbucketServer'][_0x4d0422(0x1c6)];}async[a111_0x18f4c8(0x1ef)](_0x95f49a){const _0x6a62db=a111_0x18f4c8;try{const _0x2370c0={'name':_0x95f49a[_0x6a62db(0x1fd)],'scmId':'git','defaultBranch':_0x95f49a['defaultBranch'],..._0x95f49a[_0x6a62db(0x1b5)]||{}},_0x26ec59=await this[_0x6a62db(0x1c1)][_0x6a62db(0x1f8)]('projects/'+this[_0x6a62db(0x1c6)]+_0x6a62db(0x1c7),_0x2370c0),_0x120ccd=repo_class_1[_0x6a62db(0x1cc)][_0x6a62db(0x1b6)](_0x26ec59,'');return _0x95f49a['autoInit']&&await git_internal_1[_0x6a62db(0x1f4)]['createEmptyBranch'](_0x120ccd,_0x95f49a[_0x6a62db(0x1db)]||_0x6a62db(0x1ce)),this['getOne'](_0x120ccd[_0x6a62db(0x1fd)]);}catch(_0x293f07){if(_0x293f07 instanceof api_error_1[_0x6a62db(0x1cb)])throw _0x293f07;throw new bad_request_error_1[(_0x6a62db(0x1e6))](_0x293f07);}}async['getAll'](){const _0x12df2f=a111_0x18f4c8;try{const _0x4576b5=[];let _0x4ca4c7;do{_0x4ca4c7=await this[_0x12df2f(0x1c1)][_0x12df2f(0x1cd)](_0x12df2f(0x1c2)+this[_0x12df2f(0x1c6)]+_0x12df2f(0x1c7),{'params':{'limit':0x64,'start':_0x4ca4c7?_0x4ca4c7[_0x12df2f(0x1b4)]:0x0}}),_0x4576b5[_0x12df2f(0x1f1)](..._0x4ca4c7[_0x12df2f(0x1ca)]);}while(!_0x4ca4c7[_0x12df2f(0x1ed)]);return _0x4576b5[_0x12df2f(0x1e2)](_0x336e7d=>repo_class_1[_0x12df2f(0x1cc)][_0x12df2f(0x1b6)](_0x336e7d,utils_1[_0x12df2f(0x1f7)](this[_0x12df2f(0x1c1)][_0x12df2f(0x1bc)]['baseURL']||'','/projects/'+this[_0x12df2f(0x1c6)]+_0x12df2f(0x1f3)+_0x336e7d['slug'])));}catch(_0x1a0572){if(_0x1a0572 instanceof api_error_1[_0x12df2f(0x1cb)])throw _0x1a0572;throw new not_found_error_1[(_0x12df2f(0x1d6))](_0x1a0572);}}async[a111_0x18f4c8(0x1f5)](_0x5cda8e){const _0x722186=a111_0x18f4c8;var _0x2b5e55;try{const _0x473e04=await this[_0x722186(0x1c1)][_0x722186(0x1cd)](_0x722186(0x1c2)+this['project']+_0x722186(0x1f3)+_0x5cda8e),_0x5671ca=repo_class_1[_0x722186(0x1cc)][_0x722186(0x1b6)](_0x473e04,utils_1[_0x722186(0x1f7)](this['request'][_0x722186(0x1bc)]['baseURL']||'',_0x722186(0x1d8)+this[_0x722186(0x1c6)]+'/repos/'+_0x5cda8e)),_0x2e136d=await this[_0x722186(0x1c1)][_0x722186(0x1cd)](_0x5671ca[_0x722186(0x1d5)]+_0x722186(0x1d9))[_0x722186(0x1fe)](_0x3afe0c=>_0x3afe0c[_0x722186(0x1ca)]);return _0x5671ca['defaultBranch']=(_0x2b5e55=_0x2e136d[_0x722186(0x1dd)](_0x424cca=>_0x424cca[_0x722186(0x1d0)]===!![]))===null||_0x2b5e55===void 0x0?void 0x0:_0x2b5e55[_0x722186(0x1e7)],_0x5671ca;}catch(_0x47759f){if(_0x47759f instanceof api_error_1[_0x722186(0x1cb)])throw _0x47759f;throw new not_found_error_1[(_0x722186(0x1d6))](_0x47759f);}}async[a111_0x18f4c8(0x1f0)](_0x37e4a4,_0x3ee5fc){const _0x4883de=a111_0x18f4c8;try{const _0x151db6=await this['request'][_0x4883de(0x1df)](_0x4883de(0x1c2)+this['project']+'/repos/'+_0x37e4a4,_0x3ee5fc),_0x2fc5ee=await this['request'][_0x4883de(0x1cd)]('projects/'+this[_0x4883de(0x1c6)]+_0x4883de(0x1f3)+_0x37e4a4+_0x4883de(0x1be)),_0x3447f5=repo_class_1[_0x4883de(0x1cc)]['fromBitbucketServer'](_0x151db6,utils_1[_0x4883de(0x1f7)](this[_0x4883de(0x1c1)][_0x4883de(0x1bc)][_0x4883de(0x1b8)]||'','/projects/'+this['project']+_0x4883de(0x1f3)+_0x37e4a4));return _0x3447f5[_0x4883de(0x1db)]=_0x2fc5ee[_0x4883de(0x1e7)],_0x3447f5;}catch(_0xa1cf34){if(_0xa1cf34 instanceof api_error_1[_0x4883de(0x1cb)])throw _0xa1cf34;throw new not_found_error_1[(_0x4883de(0x1d6))](_0xa1cf34);}}async[a111_0x18f4c8(0x1e0)](_0x4a2b95){const _0x2fdff9=a111_0x18f4c8;try{await this[_0x2fdff9(0x1f5)](_0x4a2b95),await this[_0x2fdff9(0x1c1)][_0x2fdff9(0x1e0)]('projects/'+this[_0x2fdff9(0x1c6)]+_0x2fdff9(0x1f3)+_0x4a2b95);}catch(_0x57bda9){if(_0x57bda9 instanceof api_error_1['ApiError'])throw _0x57bda9;throw new bad_request_error_1[(_0x2fdff9(0x1e6))](_0x57bda9);}}};BitbucketServerRepoService=__decorate([typedi_1['Service'](),__param(0x1,typedi_1[a111_0x18f4c8(0x200)]()),__metadata(a111_0x18f4c8(0x1ec),[bitbucket_server_api_service_1[a111_0x18f4c8(0x1d4)],auth_settings_service_1[a111_0x18f4c8(0x1f6)]])],BitbucketServerRepoService),exports[a111_0x18f4c8(0x1e1)]=BitbucketServerRepoService;