const a111_0x7ba924=a111_0xba73;(function(_0x3682d5,_0x1a5435){const _0x90ea1a=a111_0xba73,_0x38323c=_0x3682d5();while(!![]){try{const _0x5d0661=-parseInt(_0x90ea1a(0xc2))/0x1+parseInt(_0x90ea1a(0x92))/0x2*(parseInt(_0x90ea1a(0xcd))/0x3)+-parseInt(_0x90ea1a(0xb7))/0x4*(-parseInt(_0x90ea1a(0x93))/0x5)+parseInt(_0x90ea1a(0xd1))/0x6+parseInt(_0x90ea1a(0xa2))/0x7*(-parseInt(_0x90ea1a(0xb3))/0x8)+-parseInt(_0x90ea1a(0xac))/0x9+-parseInt(_0x90ea1a(0x9d))/0xa;if(_0x5d0661===_0x1a5435)break;else _0x38323c['push'](_0x38323c['shift']());}catch(_0x56c101){_0x38323c['push'](_0x38323c['shift']());}}}(a111_0x2074,0x8a058));const a111_0x5a3a8a=(function(){let _0x4c8c7d=!![];return function(_0x529e8f,_0x5d9a09){const _0x2ba73d=_0x4c8c7d?function(){const _0x1ae58d=a111_0xba73;if(_0x5d9a09){const _0x4b0bd9=_0x5d9a09[_0x1ae58d(0xbf)](_0x529e8f,arguments);return _0x5d9a09=null,_0x4b0bd9;}}:function(){};return _0x4c8c7d=![],_0x2ba73d;};}()),a111_0x5a5eda=a111_0x5a3a8a(this,function(){const _0x7721a5=a111_0xba73;return a111_0x5a5eda['toString']()[_0x7721a5(0xa7)](_0x7721a5(0xc7))[_0x7721a5(0xc9)]()[_0x7721a5(0xb1)](a111_0x5a5eda)['search']('(((.+)+)+)+$');});a111_0x5a5eda();'use strict';var __decorate=this&&this[a111_0x7ba924(0x9a)]||function(_0x33bf7d,_0x491916,_0x450ff6,_0x30d96a){const _0x1b6a3a=a111_0x7ba924;var _0x39d580=arguments[_0x1b6a3a(0x97)],_0x211e92=_0x39d580<0x3?_0x491916:_0x30d96a===null?_0x30d96a=Object['getOwnPropertyDescriptor'](_0x491916,_0x450ff6):_0x30d96a,_0xb3250b;if(typeof Reflect==='object'&&typeof Reflect[_0x1b6a3a(0xc3)]===_0x1b6a3a(0xd2))_0x211e92=Reflect['decorate'](_0x33bf7d,_0x491916,_0x450ff6,_0x30d96a);else{for(var _0x3e2177=_0x33bf7d[_0x1b6a3a(0x97)]-0x1;_0x3e2177>=0x0;_0x3e2177--)if(_0xb3250b=_0x33bf7d[_0x3e2177])_0x211e92=(_0x39d580<0x3?_0xb3250b(_0x211e92):_0x39d580>0x3?_0xb3250b(_0x491916,_0x450ff6,_0x211e92):_0xb3250b(_0x491916,_0x450ff6))||_0x211e92;}return _0x39d580>0x3&&_0x211e92&&Object[_0x1b6a3a(0xc1)](_0x491916,_0x450ff6,_0x211e92),_0x211e92;},__metadata=this&&this[a111_0x7ba924(0x9f)]||function(_0x1fb24e,_0x1d0b4c){const _0x1fdbf8=a111_0x7ba924;if(typeof Reflect===_0x1fdbf8(0xd0)&&typeof Reflect[_0x1fdbf8(0xce)]===_0x1fdbf8(0xd2))return Reflect[_0x1fdbf8(0xce)](_0x1fb24e,_0x1d0b4c);},__param=this&&this[a111_0x7ba924(0xb8)]||function(_0x3d19ff,_0x96aad8){return function(_0x141af0,_0x33e1b4){_0x96aad8(_0x141af0,_0x33e1b4,_0x3d19ff);};};function a111_0xba73(_0x4e2814,_0x4439e2){const _0x68dc59=a111_0x2074();return a111_0xba73=function(_0x5a5eda,_0x5a3a8a){_0x5a5eda=_0x5a5eda-0x92;let _0x2074d2=_0x68dc59[_0x5a5eda];return _0x2074d2;},a111_0xba73(_0x4e2814,_0x4439e2);}Object[a111_0x7ba924(0xc1)](exports,a111_0x7ba924(0xc4),{'value':!![]}),exports[a111_0x7ba924(0xa6)]=void 0x0;const bad_request_error_1=require(a111_0x7ba924(0xd5)),not_found_error_1=require(a111_0x7ba924(0xa5)),auth_settings_service_1=require(a111_0x7ba924(0xd8)),typedi_1=require('typedi'),api_error_1=require('../../../core/errors/api.error'),bitbucket_server_api_service_1=require(a111_0x7ba924(0xa8)),git_internal_1=require('../../internal/git.internal'),utils_1=require('../../shared/utils'),repo_class_1=require(a111_0x7ba924(0xcc)),git_repo_service_1=require('./git-repo.service');let BitbucketServerRepoService=class BitbucketServerRepoService extends git_repo_service_1[a111_0x7ba924(0x9e)]{constructor(_0xc9686b,_0x19eb4c){const _0x4af88a=a111_0x7ba924;super(_0xc9686b),this['api']=_0xc9686b,this[_0x4af88a(0xbb)]=_0x19eb4c['bitbucketServer'][_0x4af88a(0xbb)];}async[a111_0x7ba924(0x98)](_0x75167f){const _0x2ce4cb=a111_0x7ba924;try{const _0x24389a={'name':_0x75167f[_0x2ce4cb(0x96)],'scmId':_0x2ce4cb(0x9c),'defaultBranch':_0x75167f[_0x2ce4cb(0xc0)],..._0x75167f[_0x2ce4cb(0x95)]||{}},_0x38f07a=await this['request'][_0x2ce4cb(0xa0)](_0x2ce4cb(0xb0)+this[_0x2ce4cb(0xbb)]+_0x2ce4cb(0xaa),_0x24389a),_0x399e46=repo_class_1[_0x2ce4cb(0xa9)][_0x2ce4cb(0xb2)](_0x38f07a,'');return _0x75167f[_0x2ce4cb(0xd4)]&&await git_internal_1['Git'][_0x2ce4cb(0xcb)](_0x399e46,_0x75167f['defaultBranch']||_0x2ce4cb(0xd7)),this[_0x2ce4cb(0xae)](_0x399e46[_0x2ce4cb(0x96)]);}catch(_0x483e7a){if(_0x483e7a instanceof api_error_1[_0x2ce4cb(0xc5)])throw _0x483e7a;throw new bad_request_error_1[(_0x2ce4cb(0x94))](_0x483e7a);}}async[a111_0x7ba924(0x9b)](){const _0x5e0eee=a111_0x7ba924;try{const _0xdca1c1=[];let _0x416f07;do{_0x416f07=await this['request']['get']('projects/'+this['project']+_0x5e0eee(0xaa),{'params':{'limit':0x64,'start':_0x416f07?_0x416f07[_0x5e0eee(0xbe)]:0x0}}),_0xdca1c1[_0x5e0eee(0x99)](..._0x416f07['values']);}while(!_0x416f07[_0x5e0eee(0xba)]);return _0xdca1c1['map'](_0x2e1c5f=>repo_class_1[_0x5e0eee(0xa9)][_0x5e0eee(0xb2)](_0x2e1c5f,utils_1[_0x5e0eee(0xaf)](this['request'][_0x5e0eee(0xb5)][_0x5e0eee(0xb9)]||'',_0x5e0eee(0xc8)+this['project']+_0x5e0eee(0xa4)+_0x2e1c5f[_0x5e0eee(0xd6)])));}catch(_0xb9f985){if(_0xb9f985 instanceof api_error_1[_0x5e0eee(0xc5)])throw _0xb9f985;throw new not_found_error_1[(_0x5e0eee(0xbc))](_0xb9f985);}}async[a111_0x7ba924(0xae)](_0x11695){const _0x2e6d56=a111_0x7ba924;var _0x534a30;try{const _0x22dc1c=await this[_0x2e6d56(0xd3)]['get'](_0x2e6d56(0xb0)+this[_0x2e6d56(0xbb)]+_0x2e6d56(0xa4)+_0x11695),_0x58fa6a=repo_class_1['Repo'][_0x2e6d56(0xb2)](_0x22dc1c,utils_1['joinURL'](this['request']['defaults'][_0x2e6d56(0xb9)]||'','/projects/'+this[_0x2e6d56(0xbb)]+_0x2e6d56(0xa4)+_0x11695)),_0x127309=await this[_0x2e6d56(0xd3)][_0x2e6d56(0xa1)](_0x58fa6a['apiUrl']+'/branches')[_0x2e6d56(0xb4)](_0x4ec2ab=>_0x4ec2ab['values']);return _0x58fa6a['defaultBranch']=(_0x534a30=_0x127309[_0x2e6d56(0xbd)](_0x10fdf1=>_0x10fdf1['isDefault']===!![]))===null||_0x534a30===void 0x0?void 0x0:_0x534a30[_0x2e6d56(0xad)],_0x58fa6a;}catch(_0x3528b6){if(_0x3528b6 instanceof api_error_1[_0x2e6d56(0xc5)])throw _0x3528b6;throw new not_found_error_1[(_0x2e6d56(0xbc))](_0x3528b6);}}async['update'](_0x3c7fdd,_0x7d2ecb){const _0x17f4cd=a111_0x7ba924;try{const _0x1acfcc=await this[_0x17f4cd(0xd3)]['put'](_0x17f4cd(0xb0)+this[_0x17f4cd(0xbb)]+'/repos/'+_0x3c7fdd,_0x7d2ecb),_0x39077c=await this[_0x17f4cd(0xd3)]['get']('projects/'+this[_0x17f4cd(0xbb)]+_0x17f4cd(0xa4)+_0x3c7fdd+_0x17f4cd(0xb6)),_0x21cb18=repo_class_1[_0x17f4cd(0xa9)][_0x17f4cd(0xb2)](_0x1acfcc,utils_1[_0x17f4cd(0xaf)](this[_0x17f4cd(0xd3)][_0x17f4cd(0xb5)][_0x17f4cd(0xb9)]||'',_0x17f4cd(0xc8)+this[_0x17f4cd(0xbb)]+_0x17f4cd(0xa4)+_0x3c7fdd));return _0x21cb18[_0x17f4cd(0xc0)]=_0x39077c['displayId'],_0x21cb18;}catch(_0x571177){if(_0x571177 instanceof api_error_1['ApiError'])throw _0x571177;throw new not_found_error_1[(_0x17f4cd(0xbc))](_0x571177);}}async[a111_0x7ba924(0xc6)](_0x4da576){const _0x5b9241=a111_0x7ba924;try{await this[_0x5b9241(0xae)](_0x4da576),await this[_0x5b9241(0xd3)][_0x5b9241(0xc6)](_0x5b9241(0xb0)+this[_0x5b9241(0xbb)]+_0x5b9241(0xa4)+_0x4da576);}catch(_0x50c03d){if(_0x50c03d instanceof api_error_1[_0x5b9241(0xc5)])throw _0x50c03d;throw new bad_request_error_1[(_0x5b9241(0x94))](_0x50c03d);}}};BitbucketServerRepoService=__decorate([typedi_1[a111_0x7ba924(0xcf)](),__param(0x1,typedi_1[a111_0x7ba924(0xa3)]()),__metadata(a111_0x7ba924(0xab),[bitbucket_server_api_service_1[a111_0x7ba924(0xd9)],auth_settings_service_1[a111_0x7ba924(0xca)]])],BitbucketServerRepoService),exports[a111_0x7ba924(0xa6)]=BitbucketServerRepoService;function a111_0x2074(){const _0x3d9804=['7460TTtNVW','__param','baseURL','isLastPage','project','NotFoundError','find','nextPageStart','apply','defaultBranch','defineProperty','96746toWkDf','decorate','__esModule','ApiError','delete','(((.+)+)+)+$','/projects/','toString','AuthSettingsService','createEmptyBranch','../repo.class','914037NBRyVZ','metadata','Service','object','6026340GsEotn','function','request','autoInit','../../../core/errors/bad-request.error','slug','master','../../shared/services/auth-settings.service','BitbucketServerApiService','6stfxvg','1315FiuGhS','BadRequestError','apiBody','name','length','create','push','__decorate','getAll','git','7837700mvIDpd','GitRepoService','__metadata','post','get','99652miZWXb','Inject','/repos/','../../../core/errors/not-found.error','BitbucketServerRepoService','search','../../git-api/services/bitbucket-server-api.service','Repo','/repos','design:paramtypes','2261430oajVAa','displayId','getOne','joinURL','projects/','constructor','fromBitbucketServer','400EFHuEb','then','defaults','/default-branch'];a111_0x2074=function(){return _0x3d9804;};return a111_0x2074();}