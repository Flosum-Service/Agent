const a110_0x121e96=a110_0x4533;function a110_0x4533(_0x522f51,_0x5eea5d){const _0x57627c=a110_0x1ec4();return a110_0x4533=function(_0x3f0c36,_0x5adda9){_0x3f0c36=_0x3f0c36-0x92;let _0x1ec488=_0x57627c[_0x3f0c36];return _0x1ec488;},a110_0x4533(_0x522f51,_0x5eea5d);}(function(_0x4b77a7,_0xd8086f){const _0x358c1c=a110_0x4533,_0x4aff33=_0x4b77a7();while(!![]){try{const _0x55a4cf=parseInt(_0x358c1c(0xa8))/0x1*(-parseInt(_0x358c1c(0xc6))/0x2)+parseInt(_0x358c1c(0xb6))/0x3*(-parseInt(_0x358c1c(0x9b))/0x4)+-parseInt(_0x358c1c(0xa5))/0x5*(-parseInt(_0x358c1c(0xce))/0x6)+parseInt(_0x358c1c(0xbf))/0x7+-parseInt(_0x358c1c(0x95))/0x8+-parseInt(_0x358c1c(0xb0))/0x9*(parseInt(_0x358c1c(0xa2))/0xa)+parseInt(_0x358c1c(0xcf))/0xb;if(_0x55a4cf===_0xd8086f)break;else _0x4aff33['push'](_0x4aff33['shift']());}catch(_0x301b8d){_0x4aff33['push'](_0x4aff33['shift']());}}}(a110_0x1ec4,0xd34fb));const a110_0x5adda9=(function(){let _0xd0f604=!![];return function(_0x59f532,_0x13717c){const _0x2ee1d8=_0xd0f604?function(){const _0x3ee697=a110_0x4533;if(_0x13717c){const _0x329eaf=_0x13717c[_0x3ee697(0xc0)](_0x59f532,arguments);return _0x13717c=null,_0x329eaf;}}:function(){};return _0xd0f604=![],_0x2ee1d8;};}()),a110_0x3f0c36=a110_0x5adda9(this,function(){const _0x2b5691=a110_0x4533;return a110_0x3f0c36['toString']()[_0x2b5691(0xc2)](_0x2b5691(0xcd))[_0x2b5691(0xca)]()[_0x2b5691(0x9c)](a110_0x3f0c36)['search'](_0x2b5691(0xcd));});a110_0x3f0c36();'use strict';var __decorate=this&&this[a110_0x121e96(0xbb)]||function(_0x9064e4,_0x46eccc,_0x34a322,_0x2a347d){const _0x5ccad3=a110_0x121e96;var _0xcadef0=arguments[_0x5ccad3(0xc4)],_0xafef5e=_0xcadef0<0x3?_0x46eccc:_0x2a347d===null?_0x2a347d=Object[_0x5ccad3(0xad)](_0x46eccc,_0x34a322):_0x2a347d,_0x4fe301;if(typeof Reflect===_0x5ccad3(0xd4)&&typeof Reflect[_0x5ccad3(0xc9)]===_0x5ccad3(0x97))_0xafef5e=Reflect[_0x5ccad3(0xc9)](_0x9064e4,_0x46eccc,_0x34a322,_0x2a347d);else{for(var _0x4a765c=_0x9064e4['length']-0x1;_0x4a765c>=0x0;_0x4a765c--)if(_0x4fe301=_0x9064e4[_0x4a765c])_0xafef5e=(_0xcadef0<0x3?_0x4fe301(_0xafef5e):_0xcadef0>0x3?_0x4fe301(_0x46eccc,_0x34a322,_0xafef5e):_0x4fe301(_0x46eccc,_0x34a322))||_0xafef5e;}return _0xcadef0>0x3&&_0xafef5e&&Object[_0x5ccad3(0x9f)](_0x46eccc,_0x34a322,_0xafef5e),_0xafef5e;},__metadata=this&&this[a110_0x121e96(0xb8)]||function(_0x293927,_0x3009e4){const _0x4ed536=a110_0x121e96;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x4ed536(0x97))return Reflect[_0x4ed536(0xc3)](_0x293927,_0x3009e4);},__param=this&&this[a110_0x121e96(0x99)]||function(_0x28536d,_0x3d27aa){return function(_0x9ec5ed,_0x4ee6e6){_0x3d27aa(_0x9ec5ed,_0x4ee6e6,_0x28536d);};};Object[a110_0x121e96(0x9f)](exports,a110_0x121e96(0xbe),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;function a110_0x1ec4(){const _0x4e3766=['authSettings','createEmptyBranch','/repositories/','375yZHrOI','ApiError','__metadata','autoInit','ERR_BITBUCKET_MISSING_WORKSPACE','__decorate','ERR_BITBUCKET_MISSING_PROJECT','../../../core/errors/bad-request.error','__esModule','1983611gnTrNo','apply','workspace','search','metadata','length','apiBody','2qnsrga','../../shared/services/auth-settings.service','../../git-api/services/bitbucket-api.service','decorate','toString','request','Service','(((.+)+)+)+$','7375218tGcWjN','21063383zUYqjZ','private','AuthSettingsService','getOne','update','object','../../../core/errors/not-found.error','repositories/','project','GitRepoService','662320VazTtV','typedi','function','delete','__param','../../../constants/errors','46504foHNCE','constructor','master','../../../core/errors/api.error','defineProperty','post','next','60ZZuxrQ','bitbucket','get','5txLgSm','Repo','NotFoundError','98870bwhQtZ','BitbucketRepoService','Git','Inject','BadRequestError','getOwnPropertyDescriptor','defaultBranch','fromBitbucket','1390482gMTeDq','map','create'];a110_0x1ec4=function(){return _0x4e3766;};return a110_0x1ec4();}const errors_1=require(a110_0x121e96(0x9a)),bad_request_error_1=require(a110_0x121e96(0xbd)),not_found_error_1=require(a110_0x121e96(0xd5)),bitbucket_api_service_1=require(a110_0x121e96(0xc8)),auth_settings_service_1=require(a110_0x121e96(0xc7)),typedi_1=require(a110_0x121e96(0x96)),api_error_1=require(a110_0x121e96(0x9e)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require('../repo.class'),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a110_0x121e96(0x94)]{constructor(_0x44d2ff,_0xfa8aa0){const _0x189cf7=a110_0x121e96;super(_0x44d2ff),this[_0x189cf7(0xb3)]=_0xfa8aa0,this['request']=_0x44d2ff['apiRequest'];if(!this[_0x189cf7(0xc1)])throw new Error(errors_1[_0x189cf7(0xba)]);if(!this['project'])throw new Error(errors_1[_0x189cf7(0xbc)]);}get[a110_0x121e96(0xc1)](){const _0x303074=a110_0x121e96;return this['authSettings']['bitbucket'][_0x303074(0xc1)];}get[a110_0x121e96(0x93)](){const _0x2910c9=a110_0x121e96;return this[_0x2910c9(0xb3)][_0x2910c9(0xa3)][_0x2910c9(0x93)];}async[a110_0x121e96(0xb2)](_0x5d44e2){const _0xb9fd8e=a110_0x121e96;try{const {name:_0x1bcf4b}=_0x5d44e2,_0x23e963={'name':_0x5d44e2['name'],'is_private':_0x5d44e2[_0xb9fd8e(0xd0)],..._0x5d44e2[_0xb9fd8e(0xc5)]||{},'project':{'key':this[_0xb9fd8e(0x93)]}},_0x2a5a17=await this[_0xb9fd8e(0xcb)][_0xb9fd8e(0xa0)](_0xb9fd8e(0xb5)+this[_0xb9fd8e(0xc1)]+'/'+_0x1bcf4b['toLowerCase'](),_0x23e963),_0x547980=repo_class_1[_0xb9fd8e(0xa6)][_0xb9fd8e(0xaf)](_0x2a5a17);return _0x5d44e2[_0xb9fd8e(0xb9)]&&(await git_internal_1[_0xb9fd8e(0xaa)][_0xb9fd8e(0xb4)](_0x547980,_0x5d44e2['defaultBranch']||_0xb9fd8e(0x9d)),_0x547980[_0xb9fd8e(0xae)]=_0x5d44e2[_0xb9fd8e(0xae)]||_0xb9fd8e(0x9d)),_0x547980;}catch(_0x10fc52){if(_0x10fc52 instanceof api_error_1['ApiError'])throw _0x10fc52;throw new bad_request_error_1[(_0xb9fd8e(0xac))](_0x10fc52);}}async['getAll'](){const _0x19412c=a110_0x121e96;try{const _0x383738=[];let _0x106260;do{_0x106260=await this[_0x19412c(0xcb)][_0x19412c(0xa4)](_0x106260?_0x106260[_0x19412c(0xa1)]:_0x19412c(0x92)+this[_0x19412c(0xc1)]),_0x383738['push'](..._0x106260['values']);}while(_0x106260['next']);return _0x383738[_0x19412c(0xb1)](_0x26017c=>repo_class_1[_0x19412c(0xa6)][_0x19412c(0xaf)](_0x26017c));}catch(_0x332b4d){if(_0x332b4d instanceof api_error_1[_0x19412c(0xb7)])throw _0x332b4d;throw new not_found_error_1[(_0x19412c(0xa7))](_0x332b4d);}}async[a110_0x121e96(0xd2)](_0x4206b7){const _0x63fc7c=a110_0x121e96;try{const _0xcba22b=await this['request'][_0x63fc7c(0xa4)](_0x63fc7c(0x92)+this[_0x63fc7c(0xc1)]+'/'+_0x4206b7['toLowerCase']());return repo_class_1['Repo'][_0x63fc7c(0xaf)](_0xcba22b);}catch(_0x172396){if(_0x172396 instanceof api_error_1['ApiError'])throw _0x172396;throw new not_found_error_1['NotFoundError'](_0x172396);}}async[a110_0x121e96(0xd3)](_0x4e8db6,_0x39987c){const _0x5c97b3=a110_0x121e96;await this[_0x5c97b3(0xd2)](_0x4e8db6);try{const _0x3f0702=await this['request']['put'](_0x5c97b3(0x92)+this[_0x5c97b3(0xc1)]+'/'+_0x4e8db6['toLowerCase'](),_0x39987c);return repo_class_1[_0x5c97b3(0xa6)][_0x5c97b3(0xaf)](_0x3f0702);}catch(_0x19dd69){if(_0x19dd69 instanceof api_error_1[_0x5c97b3(0xb7)])throw _0x19dd69;throw new not_found_error_1[(_0x5c97b3(0xa7))](_0x19dd69);}}async[a110_0x121e96(0x98)](_0x3074b1){const _0x31bf92=a110_0x121e96;try{await this[_0x31bf92(0xcb)][_0x31bf92(0x98)]('repositories/'+this[_0x31bf92(0xc1)]+'/'+_0x3074b1['toLowerCase']());}catch(_0x18fdd0){if(_0x18fdd0 instanceof api_error_1[_0x31bf92(0xb7)])throw _0x18fdd0;throw new bad_request_error_1[(_0x31bf92(0xac))](_0x18fdd0);}}};BitbucketRepoService=__decorate([typedi_1[a110_0x121e96(0xcc)](),__param(0x0,typedi_1[a110_0x121e96(0xab)]()),__metadata('design:paramtypes',[bitbucket_api_service_1['BitbucketApiService'],auth_settings_service_1[a110_0x121e96(0xd1)]])],BitbucketRepoService),exports[a110_0x121e96(0xa9)]=BitbucketRepoService;