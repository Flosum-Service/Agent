const a110_0x571a3c=a110_0x228c;function a110_0x228c(_0x31efa1,_0x28ec04){const _0x485a1f=a110_0x2ecb();return a110_0x228c=function(_0x48fd37,_0x413120){_0x48fd37=_0x48fd37-0x169;let _0x2ecb86=_0x485a1f[_0x48fd37];return _0x2ecb86;},a110_0x228c(_0x31efa1,_0x28ec04);}(function(_0x55ca55,_0x1c7dc6){const _0x360f31=a110_0x228c,_0x4afb5f=_0x55ca55();while(!![]){try{const _0x5b5b4f=-parseInt(_0x360f31(0x173))/0x1+-parseInt(_0x360f31(0x16e))/0x2+parseInt(_0x360f31(0x190))/0x3*(-parseInt(_0x360f31(0x187))/0x4)+parseInt(_0x360f31(0x1a3))/0x5*(parseInt(_0x360f31(0x192))/0x6)+-parseInt(_0x360f31(0x17a))/0x7+parseInt(_0x360f31(0x19e))/0x8*(-parseInt(_0x360f31(0x174))/0x9)+parseInt(_0x360f31(0x1a6))/0xa*(parseInt(_0x360f31(0x188))/0xb);if(_0x5b5b4f===_0x1c7dc6)break;else _0x4afb5f['push'](_0x4afb5f['shift']());}catch(_0xbcec1b){_0x4afb5f['push'](_0x4afb5f['shift']());}}}(a110_0x2ecb,0x69bdd));const a110_0x413120=(function(){let _0x3675f1=!![];return function(_0x3e38af,_0x325e2c){const _0x319139=_0x3675f1?function(){if(_0x325e2c){const _0x1082a5=_0x325e2c['apply'](_0x3e38af,arguments);return _0x325e2c=null,_0x1082a5;}}:function(){};return _0x3675f1=![],_0x319139;};}()),a110_0x48fd37=a110_0x413120(this,function(){const _0x455d19=a110_0x228c;return a110_0x48fd37['toString']()['search'](_0x455d19(0x196))[_0x455d19(0x17e)]()[_0x455d19(0x18e)](a110_0x48fd37)[_0x455d19(0x1a2)](_0x455d19(0x196));});a110_0x48fd37();'use strict';var __decorate=this&&this['__decorate']||function(_0x2f264e,_0x33bb38,_0x3ef0f7,_0xcfeeab){const _0x29d157=a110_0x228c;var _0xece8ab=arguments[_0x29d157(0x17b)],_0x1298ed=_0xece8ab<0x3?_0x33bb38:_0xcfeeab===null?_0xcfeeab=Object['getOwnPropertyDescriptor'](_0x33bb38,_0x3ef0f7):_0xcfeeab,_0x14bc13;if(typeof Reflect===_0x29d157(0x179)&&typeof Reflect[_0x29d157(0x18a)]===_0x29d157(0x186))_0x1298ed=Reflect[_0x29d157(0x18a)](_0x2f264e,_0x33bb38,_0x3ef0f7,_0xcfeeab);else{for(var _0x48ee65=_0x2f264e[_0x29d157(0x17b)]-0x1;_0x48ee65>=0x0;_0x48ee65--)if(_0x14bc13=_0x2f264e[_0x48ee65])_0x1298ed=(_0xece8ab<0x3?_0x14bc13(_0x1298ed):_0xece8ab>0x3?_0x14bc13(_0x33bb38,_0x3ef0f7,_0x1298ed):_0x14bc13(_0x33bb38,_0x3ef0f7))||_0x1298ed;}return _0xece8ab>0x3&&_0x1298ed&&Object[_0x29d157(0x1a5)](_0x33bb38,_0x3ef0f7,_0x1298ed),_0x1298ed;},__metadata=this&&this[a110_0x571a3c(0x19d)]||function(_0x475b26,_0xd25853){const _0x1000b3=a110_0x571a3c;if(typeof Reflect===_0x1000b3(0x179)&&typeof Reflect['metadata']===_0x1000b3(0x186))return Reflect[_0x1000b3(0x193)](_0x475b26,_0xd25853);},__param=this&&this[a110_0x571a3c(0x183)]||function(_0xceba9b,_0x57f61c){return function(_0x512614,_0x14a6e9){_0x57f61c(_0x512614,_0x14a6e9,_0xceba9b);};};Object[a110_0x571a3c(0x1a5)](exports,a110_0x571a3c(0x195),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a110_0x571a3c(0x16f)),bad_request_error_1=require(a110_0x571a3c(0x191)),not_found_error_1=require(a110_0x571a3c(0x1a8)),bitbucket_api_service_1=require('../../git-api/services/bitbucket-api.service'),auth_settings_service_1=require(a110_0x571a3c(0x18b)),typedi_1=require(a110_0x571a3c(0x180)),api_error_1=require(a110_0x571a3c(0x1a4)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require(a110_0x571a3c(0x177)),git_repo_service_1=require('./git-repo.service');let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a110_0x571a3c(0x18c)]{constructor(_0x255120,_0x569714){const _0x45b502=a110_0x571a3c;super(_0x255120),this[_0x45b502(0x19c)]=_0x569714,this[_0x45b502(0x1a0)]=_0x255120[_0x45b502(0x16c)];if(!this[_0x45b502(0x194)])throw new Error(errors_1[_0x45b502(0x181)]);if(!this['project'])throw new Error(errors_1[_0x45b502(0x1a7)]);}get[a110_0x571a3c(0x194)](){const _0x53d1cf=a110_0x571a3c;return this[_0x53d1cf(0x19c)][_0x53d1cf(0x19a)][_0x53d1cf(0x194)];}get[a110_0x571a3c(0x16b)](){const _0x4aebef=a110_0x571a3c;return this['authSettings'][_0x4aebef(0x19a)][_0x4aebef(0x16b)];}async[a110_0x571a3c(0x184)](_0x363ed7){const _0x4cd28a=a110_0x571a3c;try{const {name:_0x2640f5}=_0x363ed7,_0x2befb6={'name':_0x363ed7['name'],'is_private':_0x363ed7[_0x4cd28a(0x182)],..._0x363ed7[_0x4cd28a(0x198)]||{},'project':{'key':this[_0x4cd28a(0x16b)]}},_0x21bf9b=await this['request'][_0x4cd28a(0x16d)]('/repositories/'+this[_0x4cd28a(0x194)]+'/'+_0x2640f5[_0x4cd28a(0x185)](),_0x2befb6),_0x46621d=repo_class_1[_0x4cd28a(0x17f)][_0x4cd28a(0x175)](_0x21bf9b);return _0x363ed7['autoInit']&&(await git_internal_1[_0x4cd28a(0x172)][_0x4cd28a(0x171)](_0x46621d,_0x363ed7[_0x4cd28a(0x176)]||'master'),_0x46621d[_0x4cd28a(0x176)]=_0x363ed7[_0x4cd28a(0x176)]||'master'),_0x46621d;}catch(_0x415179){if(_0x415179 instanceof api_error_1[_0x4cd28a(0x170)])throw _0x415179;throw new bad_request_error_1[(_0x4cd28a(0x178))](_0x415179);}}async[a110_0x571a3c(0x169)](){const _0x7ec294=a110_0x571a3c;try{const _0xc5b938=[];let _0x4d7811;do{_0x4d7811=await this[_0x7ec294(0x1a0)][_0x7ec294(0x197)](_0x4d7811?_0x4d7811[_0x7ec294(0x18f)]:_0x7ec294(0x16a)+this['workspace']),_0xc5b938['push'](..._0x4d7811[_0x7ec294(0x18d)]);}while(_0x4d7811['next']);return _0xc5b938[_0x7ec294(0x17c)](_0x54a116=>repo_class_1['Repo'][_0x7ec294(0x175)](_0x54a116));}catch(_0x2a33f0){if(_0x2a33f0 instanceof api_error_1['ApiError'])throw _0x2a33f0;throw new not_found_error_1[(_0x7ec294(0x189))](_0x2a33f0);}}async[a110_0x571a3c(0x1aa)](_0x2ef8b9){const _0x686417=a110_0x571a3c;try{const _0xa7cc92=await this[_0x686417(0x1a0)][_0x686417(0x197)](_0x686417(0x16a)+this[_0x686417(0x194)]+'/'+_0x2ef8b9[_0x686417(0x185)]());return repo_class_1[_0x686417(0x17f)][_0x686417(0x175)](_0xa7cc92);}catch(_0x46b1a4){if(_0x46b1a4 instanceof api_error_1['ApiError'])throw _0x46b1a4;throw new not_found_error_1[(_0x686417(0x189))](_0x46b1a4);}}async['update'](_0x4f81e2,_0x3a6e80){const _0x1f66aa=a110_0x571a3c;await this[_0x1f66aa(0x1aa)](_0x4f81e2);try{const _0x100708=await this[_0x1f66aa(0x1a0)][_0x1f66aa(0x19f)](_0x1f66aa(0x16a)+this[_0x1f66aa(0x194)]+'/'+_0x4f81e2[_0x1f66aa(0x185)](),_0x3a6e80);return repo_class_1[_0x1f66aa(0x17f)][_0x1f66aa(0x175)](_0x100708);}catch(_0x19cd9a){if(_0x19cd9a instanceof api_error_1['ApiError'])throw _0x19cd9a;throw new not_found_error_1['NotFoundError'](_0x19cd9a);}}async[a110_0x571a3c(0x1a1)](_0x354e03){const _0x3bb84f=a110_0x571a3c;try{await this[_0x3bb84f(0x1a0)][_0x3bb84f(0x1a1)]('repositories/'+this[_0x3bb84f(0x194)]+'/'+_0x354e03[_0x3bb84f(0x185)]());}catch(_0x5a4d77){if(_0x5a4d77 instanceof api_error_1['ApiError'])throw _0x5a4d77;throw new bad_request_error_1[(_0x3bb84f(0x178))](_0x5a4d77);}}};function a110_0x2ecb(){const _0x476c98=['../../../core/errors/api.error','defineProperty','10sIDHgT','ERR_BITBUCKET_MISSING_PROJECT','../../../core/errors/not-found.error','Inject','getOne','getAll','repositories/','project','apiRequest','post','1437810rYHRhD','../../../constants/errors','ApiError','createEmptyBranch','Git','598759FQotFz','234uROREq','fromBitbucket','defaultBranch','../repo.class','BadRequestError','object','3672487Avupjd','length','map','BitbucketApiService','toString','Repo','typedi','ERR_BITBUCKET_MISSING_WORKSPACE','private','__param','create','toLowerCase','function','1588HWMJBp','21710326XIrSiX','NotFoundError','decorate','../../shared/services/auth-settings.service','GitRepoService','values','constructor','next','2115THciuq','../../../core/errors/bad-request.error','2514drXvnQ','metadata','workspace','__esModule','(((.+)+)+)+$','get','apiBody','design:paramtypes','bitbucket','AuthSettingsService','authSettings','__metadata','76688KThcMc','put','request','delete','search','9915mrPAAi'];a110_0x2ecb=function(){return _0x476c98;};return a110_0x2ecb();}BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a110_0x571a3c(0x1a9)]()),__metadata(a110_0x571a3c(0x199),[bitbucket_api_service_1[a110_0x571a3c(0x17d)],auth_settings_service_1[a110_0x571a3c(0x19b)]])],BitbucketRepoService),exports['BitbucketRepoService']=BitbucketRepoService;