const a109_0x22d9e1=a109_0x4d98;(function(_0x1acbeb,_0x5a66ef){const _0x5b2821=a109_0x4d98,_0x21e7d7=_0x1acbeb();while(!![]){try{const _0x3ce6e0=parseInt(_0x5b2821(0xac))/0x1+-parseInt(_0x5b2821(0xb1))/0x2*(parseInt(_0x5b2821(0xc3))/0x3)+parseInt(_0x5b2821(0xb9))/0x4+parseInt(_0x5b2821(0xaa))/0x5+-parseInt(_0x5b2821(0xb0))/0x6*(parseInt(_0x5b2821(0x8f))/0x7)+-parseInt(_0x5b2821(0x8d))/0x8*(parseInt(_0x5b2821(0xc0))/0x9)+-parseInt(_0x5b2821(0xc4))/0xa*(-parseInt(_0x5b2821(0x90))/0xb);if(_0x3ce6e0===_0x5a66ef)break;else _0x21e7d7['push'](_0x21e7d7['shift']());}catch(_0x8a88aa){_0x21e7d7['push'](_0x21e7d7['shift']());}}}(a109_0xbbe1,0x7bfa4));const a109_0x531bf0=(function(){let _0x38dd2a=!![];return function(_0x5895ed,_0x39fa8c){const _0x353a5f=_0x38dd2a?function(){const _0x2b936e=a109_0x4d98;if(_0x39fa8c){const _0x566632=_0x39fa8c[_0x2b936e(0xa2)](_0x5895ed,arguments);return _0x39fa8c=null,_0x566632;}}:function(){};return _0x38dd2a=![],_0x353a5f;};}()),a109_0x19818a=a109_0x531bf0(this,function(){const _0x42df0c=a109_0x4d98;return a109_0x19818a[_0x42df0c(0xb7)]()[_0x42df0c(0xce)](_0x42df0c(0xcd))[_0x42df0c(0xb7)]()[_0x42df0c(0xa3)](a109_0x19818a)[_0x42df0c(0xce)](_0x42df0c(0xcd));});function a109_0xbbe1(){const _0x1320d2=['../../internal/git.internal','(((.+)+)+)+$','search','NotFoundError','function','../../git-api/services/bitbucket-api.service','update','push','Repo','BadRequestError','1546952gfSagC','__metadata','35CZMAiG','31273SxKebr','../../../core/errors/not-found.error','metadata','design:paramtypes','defineProperty','decorate','AuthSettingsService','master','__param','../../shared/services/auth-settings.service','fromBitbucket','apiBody','../../../constants/errors','GitRepoService','delete','workspace','getOwnPropertyDescriptor','put','apply','constructor','Git','__esModule','bitbucket','get','project','createEmptyBranch','3549230HqoHZB','ERR_BITBUCKET_MISSING_PROJECT','123965cOSLEM','ERR_BITBUCKET_MISSING_WORKSPACE','autoInit','next','13890XQzvrQ','62924PpGgKA','defaultBranch','Inject','create','../../../core/errors/bad-request.error','../repo.class','toString','./git-repo.service','916196fIzVER','__decorate','object','ApiError','authSettings','repositories/','getOne','18LIaCHQ','post','private','51JAwSct','1330BgPuAQ','map','BitbucketApiService','Service','toLowerCase','BitbucketRepoService','request','values'];a109_0xbbe1=function(){return _0x1320d2;};return a109_0xbbe1();}function a109_0x4d98(_0x4d6774,_0x1e0a15){const _0x32eae0=a109_0xbbe1();return a109_0x4d98=function(_0x19818a,_0x531bf0){_0x19818a=_0x19818a-0x87;let _0xbbe137=_0x32eae0[_0x19818a];return _0xbbe137;},a109_0x4d98(_0x4d6774,_0x1e0a15);}a109_0x19818a();'use strict';var __decorate=this&&this[a109_0x22d9e1(0xba)]||function(_0x53c1e3,_0x5e71bf,_0x2f431d,_0x39cba5){const _0x4489b6=a109_0x22d9e1;var _0x49c06b=arguments['length'],_0x39fe60=_0x49c06b<0x3?_0x5e71bf:_0x39cba5===null?_0x39cba5=Object[_0x4489b6(0xa0)](_0x5e71bf,_0x2f431d):_0x39cba5,_0x505ed1;if(typeof Reflect===_0x4489b6(0xbb)&&typeof Reflect['decorate']===_0x4489b6(0x87))_0x39fe60=Reflect[_0x4489b6(0x95)](_0x53c1e3,_0x5e71bf,_0x2f431d,_0x39cba5);else{for(var _0x49a760=_0x53c1e3['length']-0x1;_0x49a760>=0x0;_0x49a760--)if(_0x505ed1=_0x53c1e3[_0x49a760])_0x39fe60=(_0x49c06b<0x3?_0x505ed1(_0x39fe60):_0x49c06b>0x3?_0x505ed1(_0x5e71bf,_0x2f431d,_0x39fe60):_0x505ed1(_0x5e71bf,_0x2f431d))||_0x39fe60;}return _0x49c06b>0x3&&_0x39fe60&&Object[_0x4489b6(0x94)](_0x5e71bf,_0x2f431d,_0x39fe60),_0x39fe60;},__metadata=this&&this[a109_0x22d9e1(0x8e)]||function(_0x4262c1,_0xefd972){const _0x4be10d=a109_0x22d9e1;if(typeof Reflect===_0x4be10d(0xbb)&&typeof Reflect[_0x4be10d(0x92)]===_0x4be10d(0x87))return Reflect['metadata'](_0x4262c1,_0xefd972);},__param=this&&this[a109_0x22d9e1(0x98)]||function(_0x126f53,_0x46fbdf){return function(_0x21c0cf,_0x450619){_0x46fbdf(_0x21c0cf,_0x450619,_0x126f53);};};Object[a109_0x22d9e1(0x94)](exports,a109_0x22d9e1(0xa5),{'value':!![]}),exports[a109_0x22d9e1(0xc9)]=void 0x0;const errors_1=require(a109_0x22d9e1(0x9c)),bad_request_error_1=require(a109_0x22d9e1(0xb5)),not_found_error_1=require(a109_0x22d9e1(0x91)),bitbucket_api_service_1=require(a109_0x22d9e1(0x88)),auth_settings_service_1=require(a109_0x22d9e1(0x99)),typedi_1=require('typedi'),api_error_1=require('../../../core/errors/api.error'),git_internal_1=require(a109_0x22d9e1(0xcc)),repo_class_1=require(a109_0x22d9e1(0xb6)),git_repo_service_1=require(a109_0x22d9e1(0xb8));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a109_0x22d9e1(0x9d)]{constructor(_0x16458f,_0x19695a){const _0x596d41=a109_0x22d9e1;super(_0x16458f),this[_0x596d41(0xbd)]=_0x19695a,this['request']=_0x16458f['apiRequest'];if(!this[_0x596d41(0x9f)])throw new Error(errors_1[_0x596d41(0xad)]);if(!this[_0x596d41(0xa8)])throw new Error(errors_1[_0x596d41(0xab)]);}get[a109_0x22d9e1(0x9f)](){const _0xec5ed4=a109_0x22d9e1;return this[_0xec5ed4(0xbd)][_0xec5ed4(0xa6)][_0xec5ed4(0x9f)];}get[a109_0x22d9e1(0xa8)](){const _0x1488a1=a109_0x22d9e1;return this[_0x1488a1(0xbd)][_0x1488a1(0xa6)][_0x1488a1(0xa8)];}async[a109_0x22d9e1(0xb4)](_0x5ef435){const _0x3bfc99=a109_0x22d9e1;try{const {name:_0x5d737b}=_0x5ef435,_0x5c09e1={'name':_0x5ef435['name'],'is_private':_0x5ef435[_0x3bfc99(0xc2)],..._0x5ef435[_0x3bfc99(0x9b)]||{},'project':{'key':this[_0x3bfc99(0xa8)]}},_0x4ad6aa=await this[_0x3bfc99(0xca)][_0x3bfc99(0xc1)]('/repositories/'+this[_0x3bfc99(0x9f)]+'/'+_0x5d737b[_0x3bfc99(0xc8)](),_0x5c09e1),_0x1b769e=repo_class_1['Repo']['fromBitbucket'](_0x4ad6aa);return _0x5ef435[_0x3bfc99(0xae)]&&(await git_internal_1[_0x3bfc99(0xa4)][_0x3bfc99(0xa9)](_0x1b769e,_0x5ef435[_0x3bfc99(0xb2)]||_0x3bfc99(0x97)),_0x1b769e[_0x3bfc99(0xb2)]=_0x5ef435[_0x3bfc99(0xb2)]||'master'),_0x1b769e;}catch(_0x9d47e5){if(_0x9d47e5 instanceof api_error_1[_0x3bfc99(0xbc)])throw _0x9d47e5;throw new bad_request_error_1[(_0x3bfc99(0x8c))](_0x9d47e5);}}async['getAll'](){const _0x12ffbe=a109_0x22d9e1;try{const _0x2a0d0e=[];let _0x5f0815;do{_0x5f0815=await this[_0x12ffbe(0xca)][_0x12ffbe(0xa7)](_0x5f0815?_0x5f0815[_0x12ffbe(0xaf)]:_0x12ffbe(0xbe)+this['workspace']),_0x2a0d0e[_0x12ffbe(0x8a)](..._0x5f0815[_0x12ffbe(0xcb)]);}while(_0x5f0815['next']);return _0x2a0d0e[_0x12ffbe(0xc5)](_0x296c40=>repo_class_1['Repo']['fromBitbucket'](_0x296c40));}catch(_0x269f9c){if(_0x269f9c instanceof api_error_1[_0x12ffbe(0xbc)])throw _0x269f9c;throw new not_found_error_1[(_0x12ffbe(0xcf))](_0x269f9c);}}async[a109_0x22d9e1(0xbf)](_0x5af987){const _0x4098d4=a109_0x22d9e1;try{const _0x1b9a28=await this['request'][_0x4098d4(0xa7)]('repositories/'+this[_0x4098d4(0x9f)]+'/'+_0x5af987[_0x4098d4(0xc8)]());return repo_class_1[_0x4098d4(0x8b)][_0x4098d4(0x9a)](_0x1b9a28);}catch(_0x390d32){if(_0x390d32 instanceof api_error_1[_0x4098d4(0xbc)])throw _0x390d32;throw new not_found_error_1[(_0x4098d4(0xcf))](_0x390d32);}}async[a109_0x22d9e1(0x89)](_0xf39b8a,_0x45af42){const _0x198909=a109_0x22d9e1;await this[_0x198909(0xbf)](_0xf39b8a);try{const _0x4d4be4=await this[_0x198909(0xca)][_0x198909(0xa1)](_0x198909(0xbe)+this[_0x198909(0x9f)]+'/'+_0xf39b8a['toLowerCase'](),_0x45af42);return repo_class_1[_0x198909(0x8b)][_0x198909(0x9a)](_0x4d4be4);}catch(_0x57c047){if(_0x57c047 instanceof api_error_1[_0x198909(0xbc)])throw _0x57c047;throw new not_found_error_1[(_0x198909(0xcf))](_0x57c047);}}async[a109_0x22d9e1(0x9e)](_0x56cb72){const _0x3e8bdc=a109_0x22d9e1;try{await this[_0x3e8bdc(0xca)][_0x3e8bdc(0x9e)](_0x3e8bdc(0xbe)+this[_0x3e8bdc(0x9f)]+'/'+_0x56cb72[_0x3e8bdc(0xc8)]());}catch(_0x40bb19){if(_0x40bb19 instanceof api_error_1[_0x3e8bdc(0xbc)])throw _0x40bb19;throw new bad_request_error_1[(_0x3e8bdc(0x8c))](_0x40bb19);}}};BitbucketRepoService=__decorate([typedi_1[a109_0x22d9e1(0xc7)](),__param(0x0,typedi_1[a109_0x22d9e1(0xb3)]()),__metadata(a109_0x22d9e1(0x93),[bitbucket_api_service_1[a109_0x22d9e1(0xc6)],auth_settings_service_1[a109_0x22d9e1(0x96)]])],BitbucketRepoService),exports[a109_0x22d9e1(0xc9)]=BitbucketRepoService;