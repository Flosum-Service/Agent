const a110_0x14c981=a110_0x2cd6;(function(_0x281658,_0x4cc0cb){const _0x443bc8=a110_0x2cd6,_0x25e968=_0x281658();while(!![]){try{const _0x1d2bbe=parseInt(_0x443bc8(0x8b))/0x1+parseInt(_0x443bc8(0x86))/0x2+-parseInt(_0x443bc8(0x80))/0x3*(-parseInt(_0x443bc8(0xa6))/0x4)+-parseInt(_0x443bc8(0x83))/0x5*(-parseInt(_0x443bc8(0xa9))/0x6)+parseInt(_0x443bc8(0x8f))/0x7*(parseInt(_0x443bc8(0x96))/0x8)+-parseInt(_0x443bc8(0x7b))/0x9+-parseInt(_0x443bc8(0xa4))/0xa;if(_0x1d2bbe===_0x4cc0cb)break;else _0x25e968['push'](_0x25e968['shift']());}catch(_0x245888){_0x25e968['push'](_0x25e968['shift']());}}}(a110_0x47d8,0xeff2d));const a110_0x5c2b1d=(function(){let _0x4e8945=!![];return function(_0x799e7a,_0x479bc5){const _0x59706e=_0x4e8945?function(){const _0xdd7d05=a110_0x2cd6;if(_0x479bc5){const _0x1ff021=_0x479bc5[_0xdd7d05(0x7f)](_0x799e7a,arguments);return _0x479bc5=null,_0x1ff021;}}:function(){};return _0x4e8945=![],_0x59706e;};}()),a110_0x31847c=a110_0x5c2b1d(this,function(){const _0x33120a=a110_0x2cd6;return a110_0x31847c['toString']()[_0x33120a(0xab)](_0x33120a(0xaa))[_0x33120a(0x8c)]()[_0x33120a(0x6e)](a110_0x31847c)[_0x33120a(0xab)]('(((.+)+)+)+$');});function a110_0x47d8(){const _0x3e5918=['fromBitbucket','138892GXreJB','create','getOwnPropertyDescriptor','24078BxSzyJ','(((.+)+)+)+$','search','workspace','request','/repositories/','bitbucket','constructor','NotFoundError','__param','delete','private','Git','autoInit','get','Inject','createEmptyBranch','getOne','design:paramtypes','next','2612925fRWibc','metadata','ERR_BITBUCKET_MISSING_WORKSPACE','apiBody','apply','123MGJjMM','__esModule','authSettings','1205yDqMrv','toLowerCase','project','3181130fWPuhl','length','put','Repo','../../internal/git.internal','1217595XdAVOU','toString','BitbucketRepoService','./git-repo.service','887845sCEWWG','defineProperty','../../../core/errors/bad-request.error','object','master','name','../repo.class','32bYHTke','../../../core/errors/not-found.error','getAll','values','repositories/','function','BadRequestError','ApiError','ERR_BITBUCKET_MISSING_PROJECT','__decorate','apiRequest','defaultBranch','decorate','../../git-api/services/bitbucket-api.service','44331220MhYybB'];a110_0x47d8=function(){return _0x3e5918;};return a110_0x47d8();}function a110_0x2cd6(_0x9e8e05,_0x5549b){const _0x175a9c=a110_0x47d8();return a110_0x2cd6=function(_0x31847c,_0x5c2b1d){_0x31847c=_0x31847c-0x6a;let _0x47d8ab=_0x175a9c[_0x31847c];return _0x47d8ab;},a110_0x2cd6(_0x9e8e05,_0x5549b);}a110_0x31847c();'use strict';var __decorate=this&&this[a110_0x14c981(0x9f)]||function(_0x205bca,_0x5adfe1,_0x18baeb,_0x20bbc7){const _0x4ff24d=a110_0x14c981;var _0x4c528=arguments[_0x4ff24d(0x87)],_0x1df0b6=_0x4c528<0x3?_0x5adfe1:_0x20bbc7===null?_0x20bbc7=Object[_0x4ff24d(0xa8)](_0x5adfe1,_0x18baeb):_0x20bbc7,_0x57c59c;if(typeof Reflect===_0x4ff24d(0x92)&&typeof Reflect['decorate']===_0x4ff24d(0x9b))_0x1df0b6=Reflect[_0x4ff24d(0xa2)](_0x205bca,_0x5adfe1,_0x18baeb,_0x20bbc7);else{for(var _0x2dd2a9=_0x205bca[_0x4ff24d(0x87)]-0x1;_0x2dd2a9>=0x0;_0x2dd2a9--)if(_0x57c59c=_0x205bca[_0x2dd2a9])_0x1df0b6=(_0x4c528<0x3?_0x57c59c(_0x1df0b6):_0x4c528>0x3?_0x57c59c(_0x5adfe1,_0x18baeb,_0x1df0b6):_0x57c59c(_0x5adfe1,_0x18baeb))||_0x1df0b6;}return _0x4c528>0x3&&_0x1df0b6&&Object[_0x4ff24d(0x90)](_0x5adfe1,_0x18baeb,_0x1df0b6),_0x1df0b6;},__metadata=this&&this['__metadata']||function(_0x31fdc6,_0x16aeda){const _0x3db93f=a110_0x14c981;if(typeof Reflect===_0x3db93f(0x92)&&typeof Reflect[_0x3db93f(0x7c)]===_0x3db93f(0x9b))return Reflect[_0x3db93f(0x7c)](_0x31fdc6,_0x16aeda);},__param=this&&this[a110_0x14c981(0x70)]||function(_0x56117e,_0x148a17){return function(_0x41af28,_0x28d6c2){_0x148a17(_0x41af28,_0x28d6c2,_0x56117e);};};Object['defineProperty'](exports,a110_0x14c981(0x81),{'value':!![]}),exports[a110_0x14c981(0x8d)]=void 0x0;const errors_1=require('../../../constants/errors'),bad_request_error_1=require(a110_0x14c981(0x91)),not_found_error_1=require(a110_0x14c981(0x97)),bitbucket_api_service_1=require(a110_0x14c981(0xa3)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),typedi_1=require('typedi'),api_error_1=require('../../../core/errors/api.error'),git_internal_1=require(a110_0x14c981(0x8a)),repo_class_1=require(a110_0x14c981(0x95)),git_repo_service_1=require(a110_0x14c981(0x8e));let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1['GitRepoService']{constructor(_0x1490e9,_0x1c50c6){const _0x41df3a=a110_0x14c981;super(_0x1490e9),this[_0x41df3a(0x82)]=_0x1c50c6,this[_0x41df3a(0x6b)]=_0x1490e9[_0x41df3a(0xa0)];if(!this[_0x41df3a(0x6a)])throw new Error(errors_1[_0x41df3a(0x7d)]);if(!this['project'])throw new Error(errors_1[_0x41df3a(0x9e)]);}get[a110_0x14c981(0x6a)](){const _0x4488e5=a110_0x14c981;return this['authSettings'][_0x4488e5(0x6d)][_0x4488e5(0x6a)];}get[a110_0x14c981(0x85)](){const _0x329b62=a110_0x14c981;return this['authSettings'][_0x329b62(0x6d)][_0x329b62(0x85)];}async[a110_0x14c981(0xa7)](_0xb46daf){const _0x59b16e=a110_0x14c981;try{const {name:_0x4c9405}=_0xb46daf,_0x40ecdc={'name':_0xb46daf[_0x59b16e(0x94)],'is_private':_0xb46daf[_0x59b16e(0x72)],..._0xb46daf[_0x59b16e(0x7e)]||{},'project':{'key':this[_0x59b16e(0x85)]}},_0x166a30=await this['request']['post'](_0x59b16e(0x6c)+this[_0x59b16e(0x6a)]+'/'+_0x4c9405['toLowerCase'](),_0x40ecdc),_0x43ec86=repo_class_1['Repo'][_0x59b16e(0xa5)](_0x166a30);return _0xb46daf[_0x59b16e(0x74)]&&(await git_internal_1[_0x59b16e(0x73)][_0x59b16e(0x77)](_0x43ec86,_0xb46daf['defaultBranch']||_0x59b16e(0x93)),_0x43ec86[_0x59b16e(0xa1)]=_0xb46daf['defaultBranch']||_0x59b16e(0x93)),_0x43ec86;}catch(_0x349162){if(_0x349162 instanceof api_error_1[_0x59b16e(0x9d)])throw _0x349162;throw new bad_request_error_1[(_0x59b16e(0x9c))](_0x349162);}}async[a110_0x14c981(0x98)](){const _0x3817d1=a110_0x14c981;try{const _0x29cf46=[];let _0x26c0b7;do{_0x26c0b7=await this['request'][_0x3817d1(0x75)](_0x26c0b7?_0x26c0b7[_0x3817d1(0x7a)]:_0x3817d1(0x9a)+this[_0x3817d1(0x6a)]),_0x29cf46['push'](..._0x26c0b7[_0x3817d1(0x99)]);}while(_0x26c0b7[_0x3817d1(0x7a)]);return _0x29cf46['map'](_0x3b4a03=>repo_class_1[_0x3817d1(0x89)][_0x3817d1(0xa5)](_0x3b4a03));}catch(_0x38317a){if(_0x38317a instanceof api_error_1[_0x3817d1(0x9d)])throw _0x38317a;throw new not_found_error_1[(_0x3817d1(0x6f))](_0x38317a);}}async[a110_0x14c981(0x78)](_0xd87a6c){const _0x1d094=a110_0x14c981;try{const _0x3362e9=await this[_0x1d094(0x6b)][_0x1d094(0x75)](_0x1d094(0x9a)+this[_0x1d094(0x6a)]+'/'+_0xd87a6c['toLowerCase']());return repo_class_1[_0x1d094(0x89)][_0x1d094(0xa5)](_0x3362e9);}catch(_0x3d0244){if(_0x3d0244 instanceof api_error_1[_0x1d094(0x9d)])throw _0x3d0244;throw new not_found_error_1['NotFoundError'](_0x3d0244);}}async['update'](_0xc738a0,_0x4f5c9e){const _0x57b39b=a110_0x14c981;await this[_0x57b39b(0x78)](_0xc738a0);try{const _0x4506ac=await this['request'][_0x57b39b(0x88)](_0x57b39b(0x9a)+this[_0x57b39b(0x6a)]+'/'+_0xc738a0[_0x57b39b(0x84)](),_0x4f5c9e);return repo_class_1['Repo']['fromBitbucket'](_0x4506ac);}catch(_0x3bb901){if(_0x3bb901 instanceof api_error_1[_0x57b39b(0x9d)])throw _0x3bb901;throw new not_found_error_1[(_0x57b39b(0x6f))](_0x3bb901);}}async[a110_0x14c981(0x71)](_0x265507){const _0x2e59d3=a110_0x14c981;try{await this['request'][_0x2e59d3(0x71)](_0x2e59d3(0x9a)+this[_0x2e59d3(0x6a)]+'/'+_0x265507['toLowerCase']());}catch(_0x16b160){if(_0x16b160 instanceof api_error_1[_0x2e59d3(0x9d)])throw _0x16b160;throw new bad_request_error_1['BadRequestError'](_0x16b160);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a110_0x14c981(0x76)]()),__metadata(a110_0x14c981(0x79),[bitbucket_api_service_1['BitbucketApiService'],auth_settings_service_1['AuthSettingsService']])],BitbucketRepoService),exports[a110_0x14c981(0x8d)]=BitbucketRepoService;