const a110_0x17a7b7=a110_0x5a69;(function(_0x249d01,_0x183326){const _0x5d00ac=a110_0x5a69,_0x18ac5e=_0x249d01();while(!![]){try{const _0x188473=-parseInt(_0x5d00ac(0x1c9))/0x1+-parseInt(_0x5d00ac(0x1cd))/0x2+parseInt(_0x5d00ac(0x1be))/0x3*(-parseInt(_0x5d00ac(0x1e0))/0x4)+-parseInt(_0x5d00ac(0x1e5))/0x5+parseInt(_0x5d00ac(0x1d3))/0x6+parseInt(_0x5d00ac(0x1d4))/0x7+-parseInt(_0x5d00ac(0x1bd))/0x8*(-parseInt(_0x5d00ac(0x1e8))/0x9);if(_0x188473===_0x183326)break;else _0x18ac5e['push'](_0x18ac5e['shift']());}catch(_0x3f5309){_0x18ac5e['push'](_0x18ac5e['shift']());}}}(a110_0x51f8,0x42621));const a110_0x450a70=(function(){let _0x1581c5=!![];return function(_0x32f105,_0xc0d81){const _0xeb489a=_0x1581c5?function(){if(_0xc0d81){const _0x2f83cb=_0xc0d81['apply'](_0x32f105,arguments);return _0xc0d81=null,_0x2f83cb;}}:function(){};return _0x1581c5=![],_0xeb489a;};}()),a110_0x1e70ec=a110_0x450a70(this,function(){const _0x7c9371=a110_0x5a69;return a110_0x1e70ec[_0x7c9371(0x1e9)]()['search'](_0x7c9371(0x1af))[_0x7c9371(0x1e9)]()[_0x7c9371(0x1e4)](a110_0x1e70ec)[_0x7c9371(0x1bf)]('(((.+)+)+)+$');});a110_0x1e70ec();'use strict';var __decorate=this&&this[a110_0x17a7b7(0x1b5)]||function(_0x25d646,_0x225566,_0x11e95a,_0x28d84b){const _0xb3e2f=a110_0x17a7b7;var _0x56b56d=arguments[_0xb3e2f(0x1c3)],_0x8231c9=_0x56b56d<0x3?_0x225566:_0x28d84b===null?_0x28d84b=Object[_0xb3e2f(0x1b6)](_0x225566,_0x11e95a):_0x28d84b,_0x2f2eab;if(typeof Reflect===_0xb3e2f(0x1e2)&&typeof Reflect[_0xb3e2f(0x1ef)]==='function')_0x8231c9=Reflect[_0xb3e2f(0x1ef)](_0x25d646,_0x225566,_0x11e95a,_0x28d84b);else{for(var _0xfe7868=_0x25d646[_0xb3e2f(0x1c3)]-0x1;_0xfe7868>=0x0;_0xfe7868--)if(_0x2f2eab=_0x25d646[_0xfe7868])_0x8231c9=(_0x56b56d<0x3?_0x2f2eab(_0x8231c9):_0x56b56d>0x3?_0x2f2eab(_0x225566,_0x11e95a,_0x8231c9):_0x2f2eab(_0x225566,_0x11e95a))||_0x8231c9;}return _0x56b56d>0x3&&_0x8231c9&&Object[_0xb3e2f(0x1cb)](_0x225566,_0x11e95a,_0x8231c9),_0x8231c9;},__metadata=this&&this['__metadata']||function(_0x39cc87,_0x40a287){const _0x1e2775=a110_0x17a7b7;if(typeof Reflect===_0x1e2775(0x1e2)&&typeof Reflect[_0x1e2775(0x1bb)]==='function')return Reflect[_0x1e2775(0x1bb)](_0x39cc87,_0x40a287);},__param=this&&this[a110_0x17a7b7(0x1cc)]||function(_0x238aec,_0x37a346){return function(_0x687ef,_0x53d624){_0x37a346(_0x687ef,_0x53d624,_0x238aec);};};Object[a110_0x17a7b7(0x1cb)](exports,a110_0x17a7b7(0x1da),{'value':!![]}),exports['BitbucketRepoService']=void 0x0;const errors_1=require(a110_0x17a7b7(0x1de)),bad_request_error_1=require(a110_0x17a7b7(0x1d7)),not_found_error_1=require(a110_0x17a7b7(0x1c1)),bitbucket_api_service_1=require(a110_0x17a7b7(0x1cf)),auth_settings_service_1=require(a110_0x17a7b7(0x1b3)),typedi_1=require(a110_0x17a7b7(0x1ed)),api_error_1=require(a110_0x17a7b7(0x1ad)),git_internal_1=require('../../internal/git.internal'),repo_class_1=require(a110_0x17a7b7(0x1d2)),git_repo_service_1=require(a110_0x17a7b7(0x1c4));function a110_0x51f8(){const _0xb37841=['delete','../../../core/errors/bad-request.error','authSettings','Git','__esModule','BitbucketApiService','name','BadRequestError','../../../constants/errors','NotFoundError','188648PhnPhJ','values','object','put','constructor','1654870bwpSpD','bitbucket','BitbucketRepoService','36GkHJVK','toString','repositories/','Repo','push','typedi','ERR_BITBUCKET_MISSING_PROJECT','decorate','getOne','../../../core/errors/api.error','update','(((.+)+)+)+$','autoInit','defaultBranch','get','../../shared/services/auth-settings.service','post','__decorate','getOwnPropertyDescriptor','next','toLowerCase','createEmptyBranch','ERR_BITBUCKET_MISSING_WORKSPACE','metadata','design:paramtypes','1298152vtiizW','3utExYt','search','workspace','../../../core/errors/not-found.error','GitRepoService','length','./git-repo.service','getAll','AuthSettingsService','Inject','ApiError','87686FNgIGQ','master','defineProperty','__param','1059006udfmXr','apiRequest','../../git-api/services/bitbucket-api.service','fromBitbucket','request','../repo.class','2788266yaVUkS','1074101pcmpfE','project'];a110_0x51f8=function(){return _0xb37841;};return a110_0x51f8();}function a110_0x5a69(_0x3cb793,_0x18d947){const _0x482945=a110_0x51f8();return a110_0x5a69=function(_0x1e70ec,_0x450a70){_0x1e70ec=_0x1e70ec-0x1ac;let _0x51f851=_0x482945[_0x1e70ec];return _0x51f851;},a110_0x5a69(_0x3cb793,_0x18d947);}let BitbucketRepoService=class BitbucketRepoService extends git_repo_service_1[a110_0x17a7b7(0x1c2)]{constructor(_0x4a0aa5,_0x56e976){const _0x1c0cef=a110_0x17a7b7;super(_0x4a0aa5),this[_0x1c0cef(0x1d8)]=_0x56e976,this[_0x1c0cef(0x1d1)]=_0x4a0aa5[_0x1c0cef(0x1ce)];if(!this[_0x1c0cef(0x1c0)])throw new Error(errors_1[_0x1c0cef(0x1ba)]);if(!this[_0x1c0cef(0x1d5)])throw new Error(errors_1[_0x1c0cef(0x1ee)]);}get[a110_0x17a7b7(0x1c0)](){const _0x312508=a110_0x17a7b7;return this[_0x312508(0x1d8)][_0x312508(0x1e6)][_0x312508(0x1c0)];}get[a110_0x17a7b7(0x1d5)](){const _0xa9b710=a110_0x17a7b7;return this[_0xa9b710(0x1d8)][_0xa9b710(0x1e6)][_0xa9b710(0x1d5)];}async['create'](_0x160b42){const _0xa3ad7=a110_0x17a7b7;try{const {name:_0x2c060b}=_0x160b42,_0x5acfb={'name':_0x160b42[_0xa3ad7(0x1dc)],'is_private':_0x160b42['private'],..._0x160b42['apiBody']||{},'project':{'key':this['project']}},_0x4c53f2=await this[_0xa3ad7(0x1d1)][_0xa3ad7(0x1b4)]('/repositories/'+this[_0xa3ad7(0x1c0)]+'/'+_0x2c060b['toLowerCase'](),_0x5acfb),_0x560266=repo_class_1['Repo'][_0xa3ad7(0x1d0)](_0x4c53f2);return _0x160b42[_0xa3ad7(0x1b0)]&&(await git_internal_1[_0xa3ad7(0x1d9)][_0xa3ad7(0x1b9)](_0x560266,_0x160b42['defaultBranch']||_0xa3ad7(0x1ca)),_0x560266[_0xa3ad7(0x1b1)]=_0x160b42['defaultBranch']||_0xa3ad7(0x1ca)),_0x560266;}catch(_0x5d76a3){if(_0x5d76a3 instanceof api_error_1['ApiError'])throw _0x5d76a3;throw new bad_request_error_1[(_0xa3ad7(0x1dd))](_0x5d76a3);}}async[a110_0x17a7b7(0x1c5)](){const _0x24c6f7=a110_0x17a7b7;try{const _0x598bca=[];let _0x1ad3bc;do{_0x1ad3bc=await this[_0x24c6f7(0x1d1)][_0x24c6f7(0x1b2)](_0x1ad3bc?_0x1ad3bc[_0x24c6f7(0x1b7)]:_0x24c6f7(0x1ea)+this[_0x24c6f7(0x1c0)]),_0x598bca[_0x24c6f7(0x1ec)](..._0x1ad3bc[_0x24c6f7(0x1e1)]);}while(_0x1ad3bc[_0x24c6f7(0x1b7)]);return _0x598bca['map'](_0x3733f2=>repo_class_1[_0x24c6f7(0x1eb)]['fromBitbucket'](_0x3733f2));}catch(_0x248ef2){if(_0x248ef2 instanceof api_error_1[_0x24c6f7(0x1c8)])throw _0x248ef2;throw new not_found_error_1['NotFoundError'](_0x248ef2);}}async['getOne'](_0x44f230){const _0x222527=a110_0x17a7b7;try{const _0x403dd7=await this[_0x222527(0x1d1)][_0x222527(0x1b2)]('repositories/'+this[_0x222527(0x1c0)]+'/'+_0x44f230[_0x222527(0x1b8)]());return repo_class_1[_0x222527(0x1eb)][_0x222527(0x1d0)](_0x403dd7);}catch(_0x2d4e69){if(_0x2d4e69 instanceof api_error_1['ApiError'])throw _0x2d4e69;throw new not_found_error_1[(_0x222527(0x1df))](_0x2d4e69);}}async[a110_0x17a7b7(0x1ae)](_0x531a25,_0x343f86){const _0x3dd449=a110_0x17a7b7;await this[_0x3dd449(0x1ac)](_0x531a25);try{const _0x291b83=await this[_0x3dd449(0x1d1)][_0x3dd449(0x1e3)](_0x3dd449(0x1ea)+this[_0x3dd449(0x1c0)]+'/'+_0x531a25['toLowerCase'](),_0x343f86);return repo_class_1[_0x3dd449(0x1eb)][_0x3dd449(0x1d0)](_0x291b83);}catch(_0x581a96){if(_0x581a96 instanceof api_error_1[_0x3dd449(0x1c8)])throw _0x581a96;throw new not_found_error_1['NotFoundError'](_0x581a96);}}async[a110_0x17a7b7(0x1d6)](_0x223972){const _0x4a6941=a110_0x17a7b7;try{await this[_0x4a6941(0x1d1)][_0x4a6941(0x1d6)](_0x4a6941(0x1ea)+this[_0x4a6941(0x1c0)]+'/'+_0x223972['toLowerCase']());}catch(_0x4b2998){if(_0x4b2998 instanceof api_error_1[_0x4a6941(0x1c8)])throw _0x4b2998;throw new bad_request_error_1['BadRequestError'](_0x4b2998);}}};BitbucketRepoService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a110_0x17a7b7(0x1c7)]()),__metadata(a110_0x17a7b7(0x1bc),[bitbucket_api_service_1[a110_0x17a7b7(0x1db)],auth_settings_service_1[a110_0x17a7b7(0x1c6)]])],BitbucketRepoService),exports[a110_0x17a7b7(0x1e7)]=BitbucketRepoService;