const a200_0x455423=a200_0x5484;(function(_0x5d60e7,_0x5b7e1d){const _0x507619=a200_0x5484,_0x37f0d0=_0x5d60e7();while(!![]){try{const _0x54dac0=-parseInt(_0x507619(0xc8))/0x1+parseInt(_0x507619(0xb3))/0x2+-parseInt(_0x507619(0xaa))/0x3+-parseInt(_0x507619(0xc2))/0x4*(-parseInt(_0x507619(0xde))/0x5)+-parseInt(_0x507619(0xce))/0x6*(-parseInt(_0x507619(0xaf))/0x7)+parseInt(_0x507619(0xcc))/0x8+-parseInt(_0x507619(0xc9))/0x9;if(_0x54dac0===_0x5b7e1d)break;else _0x37f0d0['push'](_0x37f0d0['shift']());}catch(_0x46be04){_0x37f0d0['push'](_0x37f0d0['shift']());}}}(a200_0x2181,0x64068));const a200_0x3ebea5=(function(){let _0x552e16=!![];return function(_0x49390d,_0x518b84){const _0x261c82=_0x552e16?function(){const _0x34a6b4=a200_0x5484;if(_0x518b84){const _0x153c37=_0x518b84[_0x34a6b4(0xda)](_0x49390d,arguments);return _0x518b84=null,_0x153c37;}}:function(){};return _0x552e16=![],_0x261c82;};}()),a200_0x431159=a200_0x3ebea5(this,function(){const _0x317f89=a200_0x5484;return a200_0x431159[_0x317f89(0xca)]()['search'](_0x317f89(0xba))[_0x317f89(0xca)]()[_0x317f89(0xad)](a200_0x431159)[_0x317f89(0xc0)]('(((.+)+)+)+$');});function a200_0x5484(_0x5691b5,_0x286d2f){const _0x2f94f2=a200_0x2181();return a200_0x5484=function(_0x431159,_0x3ebea5){_0x431159=_0x431159-0xa1;let _0x218112=_0x2f94f2[_0x431159];return _0x218112;},a200_0x5484(_0x5691b5,_0x286d2f);}a200_0x431159();'use strict';var __decorate=this&&this[a200_0x455423(0xd4)]||function(_0x28aa63,_0x2cf7ab,_0x5583d7,_0x1dda8c){const _0x5e49a1=a200_0x455423;var _0x4d90f0=arguments[_0x5e49a1(0xb1)],_0x231f6f=_0x4d90f0<0x3?_0x2cf7ab:_0x1dda8c===null?_0x1dda8c=Object['getOwnPropertyDescriptor'](_0x2cf7ab,_0x5583d7):_0x1dda8c,_0x5d8b20;if(typeof Reflect===_0x5e49a1(0xdb)&&typeof Reflect[_0x5e49a1(0xab)]==='function')_0x231f6f=Reflect[_0x5e49a1(0xab)](_0x28aa63,_0x2cf7ab,_0x5583d7,_0x1dda8c);else{for(var _0x2e8a54=_0x28aa63[_0x5e49a1(0xb1)]-0x1;_0x2e8a54>=0x0;_0x2e8a54--)if(_0x5d8b20=_0x28aa63[_0x2e8a54])_0x231f6f=(_0x4d90f0<0x3?_0x5d8b20(_0x231f6f):_0x4d90f0>0x3?_0x5d8b20(_0x2cf7ab,_0x5583d7,_0x231f6f):_0x5d8b20(_0x2cf7ab,_0x5583d7))||_0x231f6f;}return _0x4d90f0>0x3&&_0x231f6f&&Object[_0x5e49a1(0xac)](_0x2cf7ab,_0x5583d7,_0x231f6f),_0x231f6f;},__metadata=this&&this[a200_0x455423(0xae)]||function(_0x323241,_0x3740f9){const _0x14d7f5=a200_0x455423;if(typeof Reflect==='object'&&typeof Reflect[_0x14d7f5(0xa6)]===_0x14d7f5(0xd0))return Reflect[_0x14d7f5(0xa6)](_0x323241,_0x3740f9);},__param=this&&this[a200_0x455423(0xc7)]||function(_0x579b97,_0xfc93fe){return function(_0x3e50b0,_0x3c5dad){_0xfc93fe(_0x3e50b0,_0x3c5dad,_0x579b97);};};function a200_0x2181(){const _0x2084bf=['function','provider','param','body','__decorate','x-git-provider','design:type','Version','headers','req','apply','object','WebHooksService','createFlosumCommit','40xxaEGQ','sync/disable','FlosumSyncDto','gitSync','createSync','disableSync','metadata','context','abortSync','../../core','634896OVRFnx','decorate','defineProperty','constructor','__metadata','1022wzOxZh','sync','length','ERR_UNKNOWN_GIT_SERVICE','1567152TzCsvL','flosum-commit','WebHooksController','design:paramtypes','../../constants/errors','x-agent-url','path','(((.+)+)+)+$','FlosumCommitDto','createCommit','statusCode','Post','../../core/errors/bad-request.error','search','design:returntype','192776fekfvE','prototype','x-logger-id','../../core/pipes/validation.pipe','git-commit/:provider','__param','195684tYHaKE','8433072TiUjzM','toString','webHooksService','4108048wHcMIw','Context','2934VGeNbw','BadRequestError'];a200_0x2181=function(){return _0x2084bf;};return a200_0x2181();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['WebHooksController']=void 0x0;const core_1=require(a200_0x455423(0xa9)),validation_pipe_1=require(a200_0x455423(0xc5)),errors_1=require(a200_0x455423(0xb7)),bad_request_error_1=require(a200_0x455423(0xbf)),flosum_commit_dto_1=require('./dto/flosum-commit.dto'),flosum_sync_dto_1=require('./dto/flosum-sync.dto'),web_hooks_service_1=require('./web-hooks.service');let WebHooksController=class WebHooksController{constructor(_0x22542a){const _0x4f409a=a200_0x455423;this[_0x4f409a(0xcb)]=_0x22542a;}[a200_0x455423(0xbc)](_0x10bad7,_0x17523c){const _0x40a0eb=a200_0x455423;var _0x4751b6,_0x40dfd5;_0x17523c[_0x40a0eb(0xbd)]=0xcc;const _0x150752=((_0x4751b6=_0x17523c[_0x40a0eb(0xd9)]['headers'][_0x40a0eb(0xc4)])===null||_0x4751b6===void 0x0?void 0x0:_0x4751b6['toString']())||'',_0xfd3691=((_0x40dfd5=_0x17523c['req'][_0x40a0eb(0xd8)][_0x40a0eb(0xd5)])===null||_0x40dfd5===void 0x0?void 0x0:_0x40dfd5[_0x40a0eb(0xca)]())||null;if(!_0xfd3691)throw new bad_request_error_1[(_0x40a0eb(0xcf))](errors_1[_0x40a0eb(0xb2)]);return this[_0x40a0eb(0xcb)][_0x40a0eb(0xdd)](_0x10bad7,_0x150752,_0xfd3691);}[a200_0x455423(0xb0)](_0x4b5f68,_0x374705){const _0x5b1caf=a200_0x455423;var _0xf5e626,_0x5d49d9,_0x51e0f6;_0x374705[_0x5b1caf(0xbd)]=0xcc;const _0x19231d=((_0xf5e626=_0x374705['req'][_0x5b1caf(0xd8)][_0x5b1caf(0xc4)])===null||_0xf5e626===void 0x0?void 0x0:_0xf5e626[_0x5b1caf(0xca)]())||'',_0x2ce78b=((_0x5d49d9=_0x374705[_0x5b1caf(0xd9)][_0x5b1caf(0xd8)]['x-git-provider'])===null||_0x5d49d9===void 0x0?void 0x0:_0x5d49d9[_0x5b1caf(0xca)]())||null,_0x164ff8=((_0x51e0f6=_0x374705['req']['headers'][_0x5b1caf(0xb8)])===null||_0x51e0f6===void 0x0?void 0x0:_0x51e0f6[_0x5b1caf(0xca)]())||null;if(!_0x2ce78b||!_0x164ff8)throw new bad_request_error_1['BadRequestError'](errors_1[_0x5b1caf(0xb2)]);return this[_0x5b1caf(0xcb)][_0x5b1caf(0xa4)](_0x4b5f68,_0x19231d,_0x2ce78b,_0x164ff8);}[a200_0x455423(0xa5)](_0x472f64){const _0x4a6026=a200_0x455423;var _0x4b07e1,_0x5c025b,_0x5a6953;_0x472f64[_0x4a6026(0xbd)]=0xcc;const _0x4d5da6=((_0x4b07e1=_0x472f64[_0x4a6026(0xd9)][_0x4a6026(0xd8)][_0x4a6026(0xc4)])===null||_0x4b07e1===void 0x0?void 0x0:_0x4b07e1[_0x4a6026(0xca)]())||'',_0x30681e=((_0x5c025b=_0x472f64['req'][_0x4a6026(0xd8)][_0x4a6026(0xd5)])===null||_0x5c025b===void 0x0?void 0x0:_0x5c025b['toString']())||null,_0x27f6ea=((_0x5a6953=_0x472f64['req'][_0x4a6026(0xd8)][_0x4a6026(0xb8)])===null||_0x5a6953===void 0x0?void 0x0:_0x5a6953[_0x4a6026(0xca)]())||null;if(!_0x30681e||!_0x27f6ea)throw new bad_request_error_1[(_0x4a6026(0xcf))](errors_1[_0x4a6026(0xb2)]);return this[_0x4a6026(0xcb)][_0x4a6026(0xa8)](_0x4d5da6,_0x30681e,_0x27f6ea);}[a200_0x455423(0xa3)](_0x138df6,_0x49003){const _0x4250e2=a200_0x455423;return this[_0x4250e2(0xcb)]['createGitCommit'](_0x138df6,_0x49003),{};}};__decorate([core_1[a200_0x455423(0xbe)](a200_0x455423(0xb4)),__param(0x0,core_1[a200_0x455423(0xd2)][a200_0x455423(0xd3)](new validation_pipe_1['ValidationPipe']({'transform':!![]}))),__param(0x1,core_1['param'][a200_0x455423(0xa7)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[flosum_commit_dto_1[a200_0x455423(0xbb)],core_1[a200_0x455423(0xcd)]]),__metadata('design:returntype',Promise)],WebHooksController[a200_0x455423(0xc3)],a200_0x455423(0xbc),null),__decorate([core_1['Post'](a200_0x455423(0xb0)),__param(0x0,core_1[a200_0x455423(0xd2)][a200_0x455423(0xd3)](new validation_pipe_1['ValidationPipe']({'transform':!![]}))),__param(0x1,core_1['param'][a200_0x455423(0xa7)]()),__metadata(a200_0x455423(0xd6),Function),__metadata(a200_0x455423(0xb6),[flosum_sync_dto_1[a200_0x455423(0xa2)],core_1['Context']]),__metadata(a200_0x455423(0xc1),Promise)],WebHooksController[a200_0x455423(0xc3)],a200_0x455423(0xb0),null),__decorate([core_1[a200_0x455423(0xbe)](a200_0x455423(0xa1)),__param(0x0,core_1[a200_0x455423(0xd2)][a200_0x455423(0xa7)]()),__metadata('design:type',Function),__metadata(a200_0x455423(0xb6),[core_1[a200_0x455423(0xcd)]]),__metadata(a200_0x455423(0xc1),Promise)],WebHooksController[a200_0x455423(0xc3)],'disableSync',null),__decorate([core_1[a200_0x455423(0xbe)](a200_0x455423(0xc6)),__param(0x0,core_1['param'][a200_0x455423(0xa7)]()),__param(0x1,core_1['param'][a200_0x455423(0xb9)](a200_0x455423(0xd1))),__metadata(a200_0x455423(0xd6),Function),__metadata('design:paramtypes',[core_1[a200_0x455423(0xcd)],String]),__metadata(a200_0x455423(0xc1),Object)],WebHooksController[a200_0x455423(0xc3)],'gitSync',null),WebHooksController=__decorate([core_1['Controller']('web-hooks'),core_1[a200_0x455423(0xd7)]('v1'),__metadata(a200_0x455423(0xb6),[web_hooks_service_1[a200_0x455423(0xdc)]])],WebHooksController),exports[a200_0x455423(0xb5)]=WebHooksController;