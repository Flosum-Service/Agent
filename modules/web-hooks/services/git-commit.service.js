const a187_0x2c2c22=a187_0x3e4f;(function(_0x566c65,_0x418504){const _0x5ac527=a187_0x3e4f,_0xc91bff=_0x566c65();while(!![]){try{const _0x4a502d=-parseInt(_0x5ac527(0x242))/0x1+-parseInt(_0x5ac527(0x1fb))/0x2*(-parseInt(_0x5ac527(0x22f))/0x3)+parseInt(_0x5ac527(0x1f4))/0x4*(-parseInt(_0x5ac527(0x1fd))/0x5)+-parseInt(_0x5ac527(0x236))/0x6+parseInt(_0x5ac527(0x217))/0x7*(parseInt(_0x5ac527(0x238))/0x8)+-parseInt(_0x5ac527(0x1fa))/0x9+-parseInt(_0x5ac527(0x22b))/0xa*(-parseInt(_0x5ac527(0x207))/0xb);if(_0x4a502d===_0x418504)break;else _0xc91bff['push'](_0xc91bff['shift']());}catch(_0x478f5b){_0xc91bff['push'](_0xc91bff['shift']());}}}(a187_0x2227,0x275f5));const a187_0x6bab03=(function(){let _0x32be89=!![];return function(_0x551779,_0x113f34){const _0x28c9fc=_0x32be89?function(){const _0x3821f9=a187_0x3e4f;if(_0x113f34){const _0xd2e7fe=_0x113f34[_0x3821f9(0x23b)](_0x551779,arguments);return _0x113f34=null,_0xd2e7fe;}}:function(){};return _0x32be89=![],_0x28c9fc;};}()),a187_0x43d542=a187_0x6bab03(this,function(){const _0x589a80=a187_0x3e4f;return a187_0x43d542[_0x589a80(0x227)]()[_0x589a80(0x20a)](_0x589a80(0x201))[_0x589a80(0x227)]()[_0x589a80(0x233)](a187_0x43d542)['search']('(((.+)+)+)+$');});a187_0x43d542();'use strict';var __decorate=this&&this['__decorate']||function(_0xd401e4,_0x12745c,_0x509234,_0x158579){const _0x3d24fd=a187_0x3e4f;var _0x238b51=arguments[_0x3d24fd(0x202)],_0x32d932=_0x238b51<0x3?_0x12745c:_0x158579===null?_0x158579=Object[_0x3d24fd(0x200)](_0x12745c,_0x509234):_0x158579,_0xb0e4e6;if(typeof Reflect===_0x3d24fd(0x20f)&&typeof Reflect[_0x3d24fd(0x20b)]===_0x3d24fd(0x1f7))_0x32d932=Reflect[_0x3d24fd(0x20b)](_0xd401e4,_0x12745c,_0x509234,_0x158579);else{for(var _0x1be89a=_0xd401e4[_0x3d24fd(0x202)]-0x1;_0x1be89a>=0x0;_0x1be89a--)if(_0xb0e4e6=_0xd401e4[_0x1be89a])_0x32d932=(_0x238b51<0x3?_0xb0e4e6(_0x32d932):_0x238b51>0x3?_0xb0e4e6(_0x12745c,_0x509234,_0x32d932):_0xb0e4e6(_0x12745c,_0x509234))||_0x32d932;}return _0x238b51>0x3&&_0x32d932&&Object['defineProperty'](_0x12745c,_0x509234,_0x32d932),_0x32d932;},__metadata=this&&this[a187_0x2c2c22(0x1f5)]||function(_0x3c3f0c,_0x2a8ced){const _0x2d2aad=a187_0x2c2c22;if(typeof Reflect===_0x2d2aad(0x20f)&&typeof Reflect[_0x2d2aad(0x219)]===_0x2d2aad(0x1f7))return Reflect[_0x2d2aad(0x219)](_0x3c3f0c,_0x2a8ced);},GitCommitService_1;Object[a187_0x2c2c22(0x1ff)](exports,a187_0x2c2c22(0x205),{'value':!![]}),exports['GitCommitService']=void 0x0;const constants_1=require(a187_0x2c2c22(0x22a)),core_1=require(a187_0x2c2c22(0x226)),parser_1=require('../../parsers/mdapi/parser'),salesforce_git_sync_service_1=require(a187_0x2c2c22(0x241)),salesforce_rest_service_1=require(a187_0x2c2c22(0x23d)),typedi_1=require(a187_0x2c2c22(0x20e)),salesforce_sync_service_1=require(a187_0x2c2c22(0x246)),salesforce_service_1=require(a187_0x2c2c22(0x204)),git_commit_utils_1=require(a187_0x2c2c22(0x22d));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0xed4a20,_0x580178,_0x14028e,_0x1b551f){const _0x4e5fd9=a187_0x2c2c22;this[_0x4e5fd9(0x23e)]=_0xed4a20,this['salesforceRest']=_0x580178,this[_0x4e5fd9(0x21e)]=_0x14028e,this[_0x4e5fd9(0x211)]=_0x1b551f,this[_0x4e5fd9(0x23c)]=0xc8,this['logger']=new core_1['Logger'](GitCommitService_1[_0x4e5fd9(0x237)]);}get[a187_0x2c2c22(0x21a)](){const _0x1c10da=a187_0x2c2c22;var _0xfdb19d;return((_0xfdb19d=this['syncRecord'])===null||_0xfdb19d===void 0x0?void 0x0:_0xfdb19d[_0x1c10da(0x21a)])||'';}get[a187_0x2c2c22(0x1fc)](){const _0x549b1d=a187_0x2c2c22;var _0x46d5a0;return((_0x46d5a0=this[_0x549b1d(0x231)])===null||_0x46d5a0===void 0x0?void 0x0:_0x46d5a0[_0x549b1d(0x1fc)])||'';}async[a187_0x2c2c22(0x225)](_0xe6096a){const _0x3ed532=a187_0x2c2c22;return this[_0x3ed532(0x23e)][_0x3ed532(0x225)](_0xe6096a,this['repositoryId']);}async[a187_0x2c2c22(0x206)](_0x1d4445){const _0x49a8ac=a187_0x2c2c22;if(this[_0x49a8ac(0x231)]){const _0x2ababa=await this[_0x49a8ac(0x21e)]['getRemoteStateAttachmentId'](this[_0x49a8ac(0x231)]),_0x3235d1=await this[_0x49a8ac(0x211)][_0x49a8ac(0x1f6)](_0x2ababa)[_0x49a8ac(0x23f)](_0x1384f5=>typeof _0x1384f5===_0x49a8ac(0x214)?JSON[_0x49a8ac(0x210)](_0x1384f5):_0x1384f5)[_0x49a8ac(0x249)](()=>({}));if(_0x3235d1[this[_0x49a8ac(0x223)][_0x49a8ac(0x222)]]){if(_0x3235d1[this[_0x49a8ac(0x223)]['repositoryGit']][_0x49a8ac(0x21c)]===_0x1d4445)return!![];}return![];}return![];}async['updateRemoteState'](_0x1055d0){const _0x585684=a187_0x2c2c22;this[_0x585684(0x231)]&&await this[_0x585684(0x21e)]['updateRemoteState'](this[_0x585684(0x231)],_0x1055d0);}async[a187_0x2c2c22(0x1fe)](_0x10ea39,_0x4a63df,_0xb71780){const _0x5b861a=a187_0x2c2c22;this[_0x5b861a(0x1f8)][_0x5b861a(0x20d)](_0x5b861a(0x213),_0x10ea39);const _0x3ab6a5=this[_0x5b861a(0x229)]['filter'](_0xf33eac=>git_commit_utils_1[_0x5b861a(0x224)](_0xf33eac[_0x5b861a(0x220)],_0x10ea39)),_0x3ea3dc=[],_0x3b847b=[],_0x279364=[],_0x11f060=new parser_1[(_0x5b861a(0x1f2))](_0x4a63df,[_0x10ea39],_0xb71780),_0x376433=await _0x11f060[_0x5b861a(0x210)](),_0x309de8=_0x376433[_0x5b861a(0x244)](_0x561ef3=>{const _0x411afb=_0x5b861a,_0xb2247=_0x3ab6a5[_0x411afb(0x203)](_0x5e2c72=>_0x5e2c72['name']===_0x561ef3['name']&&_0x5e2c72[_0x411afb(0x221)]===_0x561ef3[_0x411afb(0x221)]);if(!_0xb2247){const _0x37dc4c={'crc32':_0x561ef3[_0x411afb(0x230)],'fileName':_0x561ef3[_0x411afb(0x234)],'id':null,'version':0x1,'name':_0x561ef3['name'],'type':_0x561ef3[_0x411afb(0x221)]};return this['componentsMetadata'][_0x411afb(0x21d)](_0x37dc4c),_0x3ab6a5[_0x411afb(0x21d)](_0x37dc4c),_0x279364[_0x411afb(0x21d)](_0x37dc4c),_0x3b847b['push'](_0x561ef3),null;}_0x279364[_0x411afb(0x21d)](_0xb2247);if(_0x561ef3[_0x411afb(0x230)]===_0xb2247[_0x411afb(0x228)])return null;return{'component':_0x561ef3,'meta':_0xb2247};})[_0x5b861a(0x1f1)](_0x10d7ce=>!!_0x10d7ce);_0x3ea3dc[_0x5b861a(0x21d)](..._0x309de8);const _0x409548=_0x3ab6a5[_0x5b861a(0x1f1)](_0x558103=>!_0x279364[_0x5b861a(0x1f3)](_0x558103));return this[_0x5b861a(0x229)]=this[_0x5b861a(0x229)][_0x5b861a(0x1f1)](_0x4c57e8=>!_0x409548[_0x5b861a(0x1f3)](_0x4c57e8)),{'inserted':_0x3b847b,'modified':_0x3ea3dc,'removed':_0x409548['map'](({id:_0x3620e7,name:_0x5b8ad0,type:_0x29a4dc})=>({'id':_0x3620e7,'name':_0x5b8ad0,'type':_0x29a4dc}))};}async[a187_0x2c2c22(0x20c)](){const _0x10ab3a=a187_0x2c2c22;this[_0x10ab3a(0x231)]=this['gitCommit'][_0x10ab3a(0x243)]===_0x10ab3a(0x1f0)?await this[_0x10ab3a(0x21e)][_0x10ab3a(0x239)](this['gitCommit'][_0x10ab3a(0x22c)]):await this['salesforceSync'][_0x10ab3a(0x21b)](this[_0x10ab3a(0x223)]['branch']),this[_0x10ab3a(0x22e)]=await this[_0x10ab3a(0x23e)]['getComponentRecordTypes']();}async[a187_0x2c2c22(0x235)](_0x38a659){const _0x2ea448=a187_0x2c2c22,_0x2ab359=[...this[_0x2ea448(0x223)][_0x2ea448(0x208)]];if(this[_0x2ea448(0x223)]['force']||_0x38a659){this[_0x2ea448(0x229)]=this['branchId']?await this['salesforceGitSync']['fetchBranchComponents'](this[_0x2ea448(0x1fc)]):await this[_0x2ea448(0x23e)][_0x2ea448(0x218)](this[_0x2ea448(0x21a)]);return;}this[_0x2ea448(0x229)]=[];while(_0x2ab359['length']){const _0x21d1d4=_0x2ab359[_0x2ea448(0x209)](0x0,this['TASKS_PER_TICK']),_0x5c597f=this[_0x2ea448(0x1fc)]?await this[_0x2ea448(0x23e)][_0x2ea448(0x23a)](_0x21d1d4,this['branchId']):await this['salesforceGitSync']['fetchRepositoryComponentsByFilenames'](_0x21d1d4,this['repositoryId']);this[_0x2ea448(0x229)][_0x2ea448(0x21d)](..._0x5c597f);}}async['updateStatus'](_0x3a3014){const _0x2daf2e=a187_0x2c2c22;this[_0x2daf2e(0x1fc)]?await this[_0x2daf2e(0x232)][_0x2daf2e(0x212)](constants_1['FLOSUM_BRANCH'],this[_0x2daf2e(0x1fc)],{[constants_1[_0x2daf2e(0x216)]+'Synchronization_Status__c']:_0x3a3014}):await this[_0x2daf2e(0x232)]['patch'](constants_1['FLOSUM_REPOSITORY'],this['repositoryId'],{[constants_1[_0x2daf2e(0x216)]+'Synchronization_Status__c']:_0x3a3014});}['setCommitDto'](_0x5efd6f){const _0x4a543f=a187_0x2c2c22;this[_0x4a543f(0x223)]=_0x5efd6f;}[a187_0x2c2c22(0x1f9)](){const _0x2b57dc=a187_0x2c2c22;return this[_0x2b57dc(0x22e)];}[a187_0x2c2c22(0x240)](){const _0x25e971=a187_0x2c2c22;return this[_0x25e971(0x21a)];}[a187_0x2c2c22(0x248)](){return this['branchId'];}};GitCommitService=GitCommitService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a187_0x2c2c22(0x245)],salesforce_rest_service_1[a187_0x2c2c22(0x215)],salesforce_sync_service_1[a187_0x2c2c22(0x247)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a187_0x2c2c22(0x21f)]=GitCommitService;function a187_0x3e4f(_0x1ed6d9,_0x5989b8){const _0x22433e=a187_0x2227();return a187_0x3e4f=function(_0x43d542,_0x6bab03){_0x43d542=_0x43d542-0x1f0;let _0x222757=_0x22433e[_0x43d542];return _0x222757;},a187_0x3e4f(_0x1ed6d9,_0x5989b8);}function a187_0x2227(){const _0xa57625=['length','find','../../salesforce/services/salesforce.service','__esModule','checkSyncStatus','18194SAGDON','fileNames','splice','search','decorate','fetchRepositoryOrBranchData','log','typedi','object','parse','salesforce','patch','proceeding\x20file\x20%s','string','SalesforceRestService','FLOSUM_GIT_NAMESPACE','80318BnWPqv','fetchRepositoryComponents','metadata','repositoryId','getBranchRecordByName','lastCommit','push','salesforceSync','GitCommitService','fileName','type','repositoryGit','gitCommit','isPathsEquals','createCommit','../../../core','toString','crc32','componentsMetadata','../../../constants','2980BVYDuk','repository','../utils/git-commit.utils','recordTypes','3285qBzAEP','crc','syncRecord','salesforceRest','constructor','filePath','fetchComponentsMetadata','1800510ENFgHd','name','56QdximV','getRepositoryRecordByName','fetchBranchComponentsByFilenames','apply','TASKS_PER_TICK','../../salesforce/services/salesforce-rest.service','salesforceGitSync','then','getRepositoryId','../../salesforce/services/salesforce-git-sync.service','172744lfFjgn','branch','map','SalesforceGitSyncService','../../salesforce/services/salesforce-sync.service','SalesforceSyncService','getBranchId','catch','master','filter','MDApiParser','includes','228ZZLsnD','__metadata','retrieveAttachment','function','logger','getRecordTypes','413991woAElN','458sKdtgM','branchId','12620PkbBUR','proceedFile','defineProperty','getOwnPropertyDescriptor','(((.+)+)+)+$'];a187_0x2227=function(){return _0xa57625;};return a187_0x2227();}