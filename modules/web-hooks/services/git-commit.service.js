const a186_0x127ea4=a186_0x3da4;(function(_0x159690,_0x594c6d){const _0x5ed064=a186_0x3da4,_0x307995=_0x159690();while(!![]){try{const _0x308ec6=-parseInt(_0x5ed064(0x1bd))/0x1*(parseInt(_0x5ed064(0x1c5))/0x2)+parseInt(_0x5ed064(0x190))/0x3+-parseInt(_0x5ed064(0x1b5))/0x4*(-parseInt(_0x5ed064(0x19c))/0x5)+-parseInt(_0x5ed064(0x1ad))/0x6*(parseInt(_0x5ed064(0x1a7))/0x7)+parseInt(_0x5ed064(0x1c3))/0x8+parseInt(_0x5ed064(0x1ab))/0x9+-parseInt(_0x5ed064(0x1bb))/0xa*(parseInt(_0x5ed064(0x1a3))/0xb);if(_0x308ec6===_0x594c6d)break;else _0x307995['push'](_0x307995['shift']());}catch(_0x194972){_0x307995['push'](_0x307995['shift']());}}}(a186_0x339e,0xe9f7c));const a186_0x455610=(function(){let _0x4fd374=!![];return function(_0x401f9a,_0x3fe8ae){const _0x41b521=_0x4fd374?function(){const _0x4d645b=a186_0x3da4;if(_0x3fe8ae){const _0xb215d3=_0x3fe8ae[_0x4d645b(0x1a5)](_0x401f9a,arguments);return _0x3fe8ae=null,_0xb215d3;}}:function(){};return _0x4fd374=![],_0x41b521;};}()),a186_0x2da2b7=a186_0x455610(this,function(){const _0xad9ac2=a186_0x3da4;return a186_0x2da2b7[_0xad9ac2(0x184)]()[_0xad9ac2(0x185)](_0xad9ac2(0x178))['toString']()[_0xad9ac2(0x18a)](a186_0x2da2b7)[_0xad9ac2(0x185)]('(((.+)+)+)+$');});function a186_0x339e(){const _0x246dc3=['157962vuOZDd','salesforceRest','map','syncRecord','fetchRepositoryComponents','../../salesforce/services/salesforce-rest.service','includes','retrieveAttachment','6780704EyvjUC','getBranchRecordByName','__decorate','componentsMetadata','crc32','MDApiParser','110090UyZVTC','repository','1SMsYfl','length','TASKS_PER_TICK','updateRemoteState','recordTypes','Service','6816024eJOByw','SalesforceRestService','2162726wyUqyB','typedi','branch','defineProperty','repositoryGit','fetchBranchComponentsByFilenames','logger','fileName','FLOSUM_GIT_NAMESPACE','getBranchId','proceeding\x20file\x20%s','(((.+)+)+)+$','__esModule','checkSyncStatus','repositoryId','metadata','getOwnPropertyDescriptor','../utils/git-commit.utils','getComponentRecordTypes','object','filter','gitCommit','salesforceGitSync','toString','search','force','branchId','createCommit','function','constructor','SalesforceService','salesforceSync','../../salesforce/services/salesforce.service','name','filePath','3499047yavUaS','getRepositoryRecordByName','catch','fetchRepositoryComponentsByFilenames','master','then','Synchronization_Status__c','proceedFile','crc','getRecordTypes','decorate','type','5NYbmJT','fetchBranchComponents','../../../constants','salesforce','patch','Logger','find','1364ffUuaC','../../../core','apply','push','161hieqEP','updateStatus','GitCommitService','__metadata','2671236ewNSAD','isPathsEquals'];a186_0x339e=function(){return _0x246dc3;};return a186_0x339e();}a186_0x2da2b7();'use strict';var __decorate=this&&this[a186_0x127ea4(0x1b7)]||function(_0x410375,_0xd885e8,_0x260b8d,_0x61b305){const _0x5e54d0=a186_0x127ea4;var _0x47129a=arguments['length'],_0x514e44=_0x47129a<0x3?_0xd885e8:_0x61b305===null?_0x61b305=Object[_0x5e54d0(0x17d)](_0xd885e8,_0x260b8d):_0x61b305,_0x1385b1;if(typeof Reflect===_0x5e54d0(0x180)&&typeof Reflect['decorate']===_0x5e54d0(0x189))_0x514e44=Reflect[_0x5e54d0(0x19a)](_0x410375,_0xd885e8,_0x260b8d,_0x61b305);else{for(var _0x203f0c=_0x410375[_0x5e54d0(0x1be)]-0x1;_0x203f0c>=0x0;_0x203f0c--)if(_0x1385b1=_0x410375[_0x203f0c])_0x514e44=(_0x47129a<0x3?_0x1385b1(_0x514e44):_0x47129a>0x3?_0x1385b1(_0xd885e8,_0x260b8d,_0x514e44):_0x1385b1(_0xd885e8,_0x260b8d))||_0x514e44;}return _0x47129a>0x3&&_0x514e44&&Object[_0x5e54d0(0x1c8)](_0xd885e8,_0x260b8d,_0x514e44),_0x514e44;},__metadata=this&&this[a186_0x127ea4(0x1aa)]||function(_0x532896,_0x514441){const _0x2d36c2=a186_0x127ea4;if(typeof Reflect===_0x2d36c2(0x180)&&typeof Reflect[_0x2d36c2(0x17c)]===_0x2d36c2(0x189))return Reflect[_0x2d36c2(0x17c)](_0x532896,_0x514441);},GitCommitService_1;Object['defineProperty'](exports,a186_0x127ea4(0x179),{'value':!![]}),exports[a186_0x127ea4(0x1a9)]=void 0x0;const constants_1=require(a186_0x127ea4(0x19e)),core_1=require(a186_0x127ea4(0x1a4)),parser_1=require('../../parsers/mdapi/parser'),salesforce_git_sync_service_1=require('../../salesforce/services/salesforce-git-sync.service'),salesforce_rest_service_1=require(a186_0x127ea4(0x1b2)),typedi_1=require(a186_0x127ea4(0x1c6)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a186_0x127ea4(0x18d)),git_commit_utils_1=require(a186_0x127ea4(0x17e));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x4abb0b,_0x20685e,_0x18c2c4,_0x2133fc){const _0x3f7004=a186_0x127ea4;this[_0x3f7004(0x183)]=_0x4abb0b,this[_0x3f7004(0x1ae)]=_0x20685e,this['salesforceSync']=_0x18c2c4,this[_0x3f7004(0x19f)]=_0x2133fc,this[_0x3f7004(0x1bf)]=0xc8,this[_0x3f7004(0x1cb)]=new core_1[(_0x3f7004(0x1a1))](GitCommitService_1[_0x3f7004(0x18e)]);}get[a186_0x127ea4(0x17b)](){const _0xa1cb4d=a186_0x127ea4;var _0x258855;return((_0x258855=this[_0xa1cb4d(0x1b0)])===null||_0x258855===void 0x0?void 0x0:_0x258855[_0xa1cb4d(0x17b)])||'';}get['branchId'](){const _0x3bb906=a186_0x127ea4;var _0x538686;return((_0x538686=this[_0x3bb906(0x1b0)])===null||_0x538686===void 0x0?void 0x0:_0x538686[_0x3bb906(0x187)])||'';}async[a186_0x127ea4(0x188)](_0x26b55a){const _0xe1f45b=a186_0x127ea4;return this[_0xe1f45b(0x183)][_0xe1f45b(0x188)](_0x26b55a,this[_0xe1f45b(0x17b)]);}async[a186_0x127ea4(0x17a)](_0x39f89d){const _0x537353=a186_0x127ea4;if(this[_0x537353(0x1b0)]){const _0x2b06c4=await this[_0x537353(0x18c)]['getRemoteStateAttachmentId'](this[_0x537353(0x1b0)]),_0x1b0639=await this[_0x537353(0x19f)][_0x537353(0x1b4)](_0x2b06c4)[_0x537353(0x195)](_0x7d82f6=>typeof _0x7d82f6==='string'?JSON['parse'](_0x7d82f6):_0x7d82f6)[_0x537353(0x192)](()=>({}));if(_0x1b0639[this[_0x537353(0x182)][_0x537353(0x1c9)]]){if(_0x1b0639[this[_0x537353(0x182)][_0x537353(0x1c9)]]['lastCommit']===_0x39f89d)return!![];}return![];}return![];}async[a186_0x127ea4(0x1c0)](_0xa8ea3f){const _0x27690f=a186_0x127ea4;this[_0x27690f(0x1b0)]&&await this[_0x27690f(0x18c)]['updateRemoteState'](this[_0x27690f(0x1b0)],_0xa8ea3f);}async[a186_0x127ea4(0x197)](_0x4ac9cd,_0x2a981e,_0x211fd8){const _0xe9c6fb=a186_0x127ea4;this[_0xe9c6fb(0x1cb)]['log'](_0xe9c6fb(0x177),_0x4ac9cd);const _0x5eb6e7=this['componentsMetadata'][_0xe9c6fb(0x181)](_0x2aac5=>git_commit_utils_1[_0xe9c6fb(0x1ac)](_0x2aac5[_0xe9c6fb(0x1cc)],_0x4ac9cd)),_0x39bd05=[],_0x5cd5e4=[],_0x102b2e=[],_0x1ec376=new parser_1[(_0xe9c6fb(0x1ba))](_0x2a981e,[_0x4ac9cd],_0x211fd8),_0x3acc5f=await _0x1ec376['parse'](),_0x513b11=_0x3acc5f[_0xe9c6fb(0x1af)](_0x29b955=>{const _0x180109=_0xe9c6fb,_0x191c56=_0x5eb6e7[_0x180109(0x1a2)](_0x1b262d=>_0x1b262d[_0x180109(0x18e)]===_0x29b955[_0x180109(0x18e)]&&_0x1b262d['type']===_0x29b955['type']);if(!_0x191c56){const _0x3bf810={'crc32':_0x29b955[_0x180109(0x198)],'fileName':_0x29b955[_0x180109(0x18f)],'id':null,'version':0x1,'name':_0x29b955[_0x180109(0x18e)],'type':_0x29b955[_0x180109(0x19b)]};return this['componentsMetadata'][_0x180109(0x1a6)](_0x3bf810),_0x5eb6e7['push'](_0x3bf810),_0x102b2e[_0x180109(0x1a6)](_0x3bf810),_0x5cd5e4[_0x180109(0x1a6)](_0x29b955),null;}_0x102b2e[_0x180109(0x1a6)](_0x191c56);if(_0x29b955[_0x180109(0x198)]===_0x191c56[_0x180109(0x1b9)])return null;return{'component':_0x29b955,'meta':_0x191c56};})[_0xe9c6fb(0x181)](_0x4d72e2=>!!_0x4d72e2);_0x39bd05['push'](..._0x513b11);const _0x15b01b=_0x5eb6e7[_0xe9c6fb(0x181)](_0x14fae4=>!_0x102b2e[_0xe9c6fb(0x1b3)](_0x14fae4));return this[_0xe9c6fb(0x1b8)]=this[_0xe9c6fb(0x1b8)]['filter'](_0x4b8d10=>!_0x15b01b[_0xe9c6fb(0x1b3)](_0x4b8d10)),{'inserted':_0x5cd5e4,'modified':_0x39bd05,'removed':_0x15b01b[_0xe9c6fb(0x1af)](({id:_0x4c0fbb,name:_0x363fcf,type:_0x1cca25})=>({'id':_0x4c0fbb,'name':_0x363fcf,'type':_0x1cca25}))};}async['fetchRepositoryOrBranchData'](){const _0x191352=a186_0x127ea4;this[_0x191352(0x1b0)]=this[_0x191352(0x182)][_0x191352(0x1c7)]===_0x191352(0x194)?await this['salesforceSync'][_0x191352(0x191)](this[_0x191352(0x182)][_0x191352(0x1bc)]):await this[_0x191352(0x18c)][_0x191352(0x1b6)](this[_0x191352(0x182)]['branch']),this[_0x191352(0x1c1)]=await this['salesforceGitSync'][_0x191352(0x17f)]();}async['fetchComponentsMetadata'](_0x3464d7){const _0x2894d5=a186_0x127ea4,_0x2834df=[...this[_0x2894d5(0x182)]['fileNames']];if(this['gitCommit'][_0x2894d5(0x186)]||_0x3464d7){this[_0x2894d5(0x1b8)]=this[_0x2894d5(0x187)]?await this['salesforceGitSync'][_0x2894d5(0x19d)](this['branchId']):await this[_0x2894d5(0x183)][_0x2894d5(0x1b1)](this[_0x2894d5(0x17b)]);return;}this[_0x2894d5(0x1b8)]=[];while(_0x2834df['length']){const _0x233c03=_0x2834df['splice'](0x0,this[_0x2894d5(0x1bf)]),_0x4cb6c9=this['branchId']?await this[_0x2894d5(0x183)][_0x2894d5(0x1ca)](_0x233c03,this[_0x2894d5(0x187)]):await this[_0x2894d5(0x183)][_0x2894d5(0x193)](_0x233c03,this[_0x2894d5(0x17b)]);this[_0x2894d5(0x1b8)][_0x2894d5(0x1a6)](..._0x4cb6c9);}}async[a186_0x127ea4(0x1a8)](_0x19c375){const _0x373596=a186_0x127ea4;this[_0x373596(0x187)]?await this['salesforceRest']['patch'](constants_1['FLOSUM_BRANCH'],this[_0x373596(0x187)],{[constants_1[_0x373596(0x1cd)]+_0x373596(0x196)]:_0x19c375}):await this['salesforceRest'][_0x373596(0x1a0)](constants_1['FLOSUM_REPOSITORY'],this[_0x373596(0x17b)],{[constants_1[_0x373596(0x1cd)]+_0x373596(0x196)]:_0x19c375});}['setCommitDto'](_0x2caaee){this['gitCommit']=_0x2caaee;}[a186_0x127ea4(0x199)](){const _0x445295=a186_0x127ea4;return this[_0x445295(0x1c1)];}['getRepositoryId'](){const _0x346377=a186_0x127ea4;return this[_0x346377(0x17b)];}[a186_0x127ea4(0x1ce)](){const _0x144fbc=a186_0x127ea4;return this[_0x144fbc(0x187)];}};function a186_0x3da4(_0x489b4b,_0x1c1e84){const _0x1ff35c=a186_0x339e();return a186_0x3da4=function(_0x2da2b7,_0x455610){_0x2da2b7=_0x2da2b7-0x177;let _0x339e81=_0x1ff35c[_0x2da2b7];return _0x339e81;},a186_0x3da4(_0x489b4b,_0x1c1e84);}GitCommitService=GitCommitService_1=__decorate([typedi_1[a186_0x127ea4(0x1c2)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1['SalesforceGitSyncService'],salesforce_rest_service_1[a186_0x127ea4(0x1c4)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a186_0x127ea4(0x18b)]])],GitCommitService),exports[a186_0x127ea4(0x1a9)]=GitCommitService;