function a187_0x139a(_0x42e3a6,_0x416fec){const _0x46d0ad=a187_0x428f();return a187_0x139a=function(_0x581e97,_0x1ab276){_0x581e97=_0x581e97-0x86;let _0x428f7a=_0x46d0ad[_0x581e97];return _0x428f7a;},a187_0x139a(_0x42e3a6,_0x416fec);}const a187_0x1f1cc6=a187_0x139a;(function(_0x1112e9,_0x1ed749){const _0x1385d2=a187_0x139a,_0x2b7e5c=_0x1112e9();while(!![]){try{const _0x19b793=-parseInt(_0x1385d2(0xdb))/0x1+parseInt(_0x1385d2(0x90))/0x2*(-parseInt(_0x1385d2(0xd9))/0x3)+parseInt(_0x1385d2(0x87))/0x4*(-parseInt(_0x1385d2(0xd0))/0x5)+parseInt(_0x1385d2(0x89))/0x6+parseInt(_0x1385d2(0x94))/0x7+-parseInt(_0x1385d2(0x96))/0x8*(-parseInt(_0x1385d2(0xd7))/0x9)+parseInt(_0x1385d2(0xbf))/0xa;if(_0x19b793===_0x1ed749)break;else _0x2b7e5c['push'](_0x2b7e5c['shift']());}catch(_0x22a81c){_0x2b7e5c['push'](_0x2b7e5c['shift']());}}}(a187_0x428f,0x6c03c));const a187_0x1ab276=(function(){let _0x3bd265=!![];return function(_0x5ddcfc,_0x586d34){const _0x2aa93f=_0x3bd265?function(){const _0x4724be=a187_0x139a;if(_0x586d34){const _0x5abac1=_0x586d34[_0x4724be(0xb3)](_0x5ddcfc,arguments);return _0x586d34=null,_0x5abac1;}}:function(){};return _0x3bd265=![],_0x2aa93f;};}()),a187_0x581e97=a187_0x1ab276(this,function(){const _0x556928=a187_0x139a;return a187_0x581e97[_0x556928(0xde)]()[_0x556928(0xb6)]('(((.+)+)+)+$')[_0x556928(0xde)]()[_0x556928(0xae)](a187_0x581e97)[_0x556928(0xb6)](_0x556928(0xad));});a187_0x581e97();'use strict';var __decorate=this&&this[a187_0x1f1cc6(0x8b)]||function(_0x2a6b8c,_0x4f45a2,_0x295402,_0x3268db){const _0x12a611=a187_0x1f1cc6;var _0x332bd9=arguments[_0x12a611(0xb5)],_0x118c5d=_0x332bd9<0x3?_0x4f45a2:_0x3268db===null?_0x3268db=Object['getOwnPropertyDescriptor'](_0x4f45a2,_0x295402):_0x3268db,_0x4f18b8;if(typeof Reflect===_0x12a611(0x9a)&&typeof Reflect['decorate']==='function')_0x118c5d=Reflect[_0x12a611(0x86)](_0x2a6b8c,_0x4f45a2,_0x295402,_0x3268db);else{for(var _0x52f720=_0x2a6b8c[_0x12a611(0xb5)]-0x1;_0x52f720>=0x0;_0x52f720--)if(_0x4f18b8=_0x2a6b8c[_0x52f720])_0x118c5d=(_0x332bd9<0x3?_0x4f18b8(_0x118c5d):_0x332bd9>0x3?_0x4f18b8(_0x4f45a2,_0x295402,_0x118c5d):_0x4f18b8(_0x4f45a2,_0x295402))||_0x118c5d;}return _0x332bd9>0x3&&_0x118c5d&&Object['defineProperty'](_0x4f45a2,_0x295402,_0x118c5d),_0x118c5d;},__metadata=this&&this[a187_0x1f1cc6(0xc2)]||function(_0x30d670,_0x5a76d8){const _0x5a1d9c=a187_0x1f1cc6;if(typeof Reflect==='object'&&typeof Reflect[_0x5a1d9c(0xaf)]===_0x5a1d9c(0xa9))return Reflect['metadata'](_0x30d670,_0x5a76d8);},GitCommitService_1;Object[a187_0x1f1cc6(0xaa)](exports,a187_0x1f1cc6(0xc3),{'value':!![]}),exports[a187_0x1f1cc6(0xbc)]=void 0x0;const constants_1=require(a187_0x1f1cc6(0x8e)),core_1=require(a187_0x1f1cc6(0x9c)),parser_1=require(a187_0x1f1cc6(0xab)),salesforce_git_sync_service_1=require(a187_0x1f1cc6(0xc9)),salesforce_rest_service_1=require('../../salesforce/services/salesforce-rest.service'),typedi_1=require(a187_0x1f1cc6(0xbd)),salesforce_sync_service_1=require(a187_0x1f1cc6(0xa0)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_commit_utils_1=require(a187_0x1f1cc6(0xbe));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x3dca71,_0x226089,_0x378be0,_0x4d9c76){const _0x5ba5e5=a187_0x1f1cc6;this[_0x5ba5e5(0xdf)]=_0x3dca71,this['salesforceRest']=_0x226089,this['salesforceSync']=_0x378be0,this[_0x5ba5e5(0xa6)]=_0x4d9c76,this[_0x5ba5e5(0x9f)]=0xc8,this[_0x5ba5e5(0xc6)]=new core_1['Logger'](GitCommitService_1['name']);}get[a187_0x1f1cc6(0xb9)](){var _0x106a5d;return((_0x106a5d=this['syncRecord'])===null||_0x106a5d===void 0x0?void 0x0:_0x106a5d['repositoryId'])||'';}get['branchId'](){const _0x187fde=a187_0x1f1cc6;var _0x499a71;return((_0x499a71=this[_0x187fde(0x9e)])===null||_0x499a71===void 0x0?void 0x0:_0x499a71[_0x187fde(0xdc)])||'';}async[a187_0x1f1cc6(0xc8)](_0x44ad6f){const _0x524ee4=a187_0x1f1cc6;return this[_0x524ee4(0xdf)][_0x524ee4(0xc8)](_0x44ad6f,this[_0x524ee4(0xb9)]);}async[a187_0x1f1cc6(0xcd)](_0x36f733){const _0x185743=a187_0x1f1cc6;if(this[_0x185743(0x9e)]){const _0x59a80c=await this['salesforceSync'][_0x185743(0xb1)](this[_0x185743(0x9e)]),_0x576ac7=await this[_0x185743(0xa6)][_0x185743(0xb4)](_0x59a80c)[_0x185743(0xb7)](_0x5b2ad4=>typeof _0x5b2ad4===_0x185743(0xcf)?JSON[_0x185743(0x91)](_0x5b2ad4):_0x5b2ad4)[_0x185743(0xb8)](()=>({}));if(_0x576ac7[this[_0x185743(0x98)]['repositoryGit']]){if(_0x576ac7[this[_0x185743(0x98)][_0x185743(0xc5)]][_0x185743(0xdd)]===_0x36f733)return!![];}return![];}return![];}async['updateRemoteState'](_0x595612){const _0x27de96=a187_0x1f1cc6;this[_0x27de96(0x9e)]&&await this[_0x27de96(0xc7)]['updateRemoteState'](this['syncRecord'],_0x595612);}async['proceedFile'](_0x34ac5a,_0x426e61,_0x458672){const _0xcf6d3e=a187_0x1f1cc6;this[_0xcf6d3e(0xc6)][_0xcf6d3e(0x99)](_0xcf6d3e(0xc4),_0x34ac5a);const _0x31d1ce=this['componentsMetadata']['filter'](_0x2cb080=>git_commit_utils_1[_0xcf6d3e(0xcb)](_0x2cb080[_0xcf6d3e(0xa1)],_0x34ac5a)),_0x5a1af2=[],_0x37fd83=[],_0x1154cb=[],_0x48f290=new parser_1[(_0xcf6d3e(0x8d))](_0x426e61,[_0x34ac5a],_0x458672),_0x4c8a6a=await _0x48f290[_0xcf6d3e(0x91)](),_0x1554e8=_0x4c8a6a[_0xcf6d3e(0xa7)](_0x214ca8=>{const _0x25aecc=_0xcf6d3e,_0xbe7fdb=_0x31d1ce[_0x25aecc(0xce)](_0x20765e=>_0x20765e[_0x25aecc(0xd2)]===_0x214ca8[_0x25aecc(0xd2)]&&_0x20765e[_0x25aecc(0xd8)]===_0x214ca8[_0x25aecc(0xd8)]);if(!_0xbe7fdb){const _0x371a3d={'crc32':_0x214ca8[_0x25aecc(0xba)],'fileName':_0x214ca8[_0x25aecc(0xa4)],'id':null,'version':0x1,'name':_0x214ca8[_0x25aecc(0xd2)],'type':_0x214ca8[_0x25aecc(0xd8)]};return this['componentsMetadata'][_0x25aecc(0xc0)](_0x371a3d),_0x31d1ce[_0x25aecc(0xc0)](_0x371a3d),_0x1154cb['push'](_0x371a3d),_0x37fd83['push'](_0x214ca8),null;}_0x1154cb[_0x25aecc(0xc0)](_0xbe7fdb);if(_0x214ca8[_0x25aecc(0xba)]===_0xbe7fdb[_0x25aecc(0x8a)])return null;return{'component':_0x214ca8,'meta':_0xbe7fdb};})[_0xcf6d3e(0xb0)](_0x106575=>!!_0x106575);_0x5a1af2[_0xcf6d3e(0xc0)](..._0x1554e8);const _0x13cee8=_0x31d1ce[_0xcf6d3e(0xb0)](_0x12c8fc=>!_0x1154cb[_0xcf6d3e(0xd1)](_0x12c8fc));return this[_0xcf6d3e(0xca)]=this[_0xcf6d3e(0xca)][_0xcf6d3e(0xb0)](_0x4605d0=>!_0x13cee8[_0xcf6d3e(0xd1)](_0x4605d0)),{'inserted':_0x37fd83,'modified':_0x5a1af2,'removed':_0x13cee8['map'](({id:_0x5a6815,name:_0x9a81cb,type:_0x1543cb})=>({'id':_0x5a6815,'name':_0x9a81cb,'type':_0x1543cb}))};}async['fetchRepositoryOrBranchData'](){const _0x4413b1=a187_0x1f1cc6;this[_0x4413b1(0x9e)]=this['gitCommit'][_0x4413b1(0x92)]===_0x4413b1(0xc1)?await this['salesforceSync'][_0x4413b1(0x88)](this[_0x4413b1(0x98)][_0x4413b1(0xda)]):await this[_0x4413b1(0xc7)][_0x4413b1(0x9b)](this[_0x4413b1(0x98)][_0x4413b1(0x92)]),this['recordTypes']=await this[_0x4413b1(0xdf)][_0x4413b1(0x97)]();}async['fetchComponentsMetadata'](_0x535d19){const _0x4fc02a=a187_0x1f1cc6,_0x2f183d=[...this[_0x4fc02a(0x98)][_0x4fc02a(0xd5)]];if(this['gitCommit'][_0x4fc02a(0xa8)]||_0x535d19){this[_0x4fc02a(0xca)]=this[_0x4fc02a(0xdc)]?await this[_0x4fc02a(0xdf)]['fetchBranchComponents'](this[_0x4fc02a(0xdc)]):await this[_0x4fc02a(0xdf)][_0x4fc02a(0xa3)](this[_0x4fc02a(0xb9)]);return;}this['componentsMetadata']=[];while(_0x2f183d[_0x4fc02a(0xb5)]){const _0x22588f=_0x2f183d['splice'](0x0,this[_0x4fc02a(0x9f)]),_0x42f59c=this[_0x4fc02a(0xdc)]?await this[_0x4fc02a(0xdf)][_0x4fc02a(0xd3)](_0x22588f,this[_0x4fc02a(0xdc)]):await this[_0x4fc02a(0xdf)][_0x4fc02a(0xb2)](_0x22588f,this[_0x4fc02a(0xb9)]);this[_0x4fc02a(0xca)]['push'](..._0x42f59c);}}async[a187_0x1f1cc6(0x8c)](_0xd4738c){const _0x376e66=a187_0x1f1cc6;this[_0x376e66(0xdc)]?await this[_0x376e66(0xbb)]['patch'](constants_1['FLOSUM_BRANCH'],this[_0x376e66(0xdc)],{[constants_1[_0x376e66(0xac)]+_0x376e66(0xd4)]:_0xd4738c}):await this[_0x376e66(0xbb)][_0x376e66(0xa2)](constants_1['FLOSUM_REPOSITORY'],this[_0x376e66(0xb9)],{[constants_1[_0x376e66(0xac)]+_0x376e66(0xd4)]:_0xd4738c});}[a187_0x1f1cc6(0xd6)](_0x886f44){const _0x3df4a5=a187_0x1f1cc6;this[_0x3df4a5(0x98)]=_0x886f44;}[a187_0x1f1cc6(0x8f)](){const _0x2391bc=a187_0x1f1cc6;return this[_0x2391bc(0x93)];}[a187_0x1f1cc6(0xcc)](){const _0x2cec2d=a187_0x1f1cc6;return this[_0x2cec2d(0xb9)];}[a187_0x1f1cc6(0x9d)](){return this['branchId'];}};GitCommitService=GitCommitService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a187_0x1f1cc6(0xa5)],salesforce_rest_service_1[a187_0x1f1cc6(0x95)],salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1['SalesforceService']])],GitCommitService),exports['GitCommitService']=GitCommitService;function a187_0x428f(){const _0x99a537=['../../../constants','getRecordTypes','58HcDMFI','parse','branch','recordTypes','2786245HnjMiS','SalesforceRestService','16OXsaZq','getComponentRecordTypes','gitCommit','log','object','getBranchRecordByName','../../../core','getBranchId','syncRecord','TASKS_PER_TICK','../../salesforce/services/salesforce-sync.service','fileName','patch','fetchRepositoryComponents','filePath','SalesforceGitSyncService','salesforce','map','force','function','defineProperty','../../parsers/mdapi/parser','FLOSUM_GIT_NAMESPACE','(((.+)+)+)+$','constructor','metadata','filter','getRemoteStateAttachmentId','fetchRepositoryComponentsByFilenames','apply','retrieveAttachment','length','search','then','catch','repositoryId','crc','salesforceRest','GitCommitService','typedi','../utils/git-commit.utils','650820UlzNLq','push','master','__metadata','__esModule','proceeding\x20file\x20%s','repositoryGit','logger','salesforceSync','createCommit','../../salesforce/services/salesforce-git-sync.service','componentsMetadata','isPathsEquals','getRepositoryId','checkSyncStatus','find','string','1953330XiOuiS','includes','name','fetchBranchComponentsByFilenames','Synchronization_Status__c','fileNames','setCommitDto','3842613PNHixo','type','19881CHmYlg','repository','678989CRxhtn','branchId','lastCommit','toString','salesforceGitSync','decorate','8KMRtJf','getRepositoryRecordByName','4667406cyuUtY','crc32','__decorate','updateStatus','MDApiParser'];a187_0x428f=function(){return _0x99a537;};return a187_0x428f();}