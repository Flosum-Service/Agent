const a186_0x25de45=a186_0x25f0;function a186_0x25f0(_0x4829f5,_0x255e14){const _0x6a3da4=a186_0x2eee();return a186_0x25f0=function(_0x4b60da,_0x19952e){_0x4b60da=_0x4b60da-0xbd;let _0x2eeeb4=_0x6a3da4[_0x4b60da];return _0x2eeeb4;},a186_0x25f0(_0x4829f5,_0x255e14);}(function(_0x47dd74,_0xf3f235){const _0x5d7e58=a186_0x25f0,_0x449cda=_0x47dd74();while(!![]){try{const _0x7847e2=-parseInt(_0x5d7e58(0x10f))/0x1*(parseInt(_0x5d7e58(0x103))/0x2)+-parseInt(_0x5d7e58(0xd4))/0x3*(parseInt(_0x5d7e58(0xe6))/0x4)+parseInt(_0x5d7e58(0xce))/0x5*(parseInt(_0x5d7e58(0xc0))/0x6)+parseInt(_0x5d7e58(0xd8))/0x7+-parseInt(_0x5d7e58(0xd9))/0x8+-parseInt(_0x5d7e58(0xfd))/0x9+parseInt(_0x5d7e58(0xff))/0xa*(parseInt(_0x5d7e58(0xeb))/0xb);if(_0x7847e2===_0xf3f235)break;else _0x449cda['push'](_0x449cda['shift']());}catch(_0x2605fd){_0x449cda['push'](_0x449cda['shift']());}}}(a186_0x2eee,0xe19d1));const a186_0x19952e=(function(){let _0x407fbc=!![];return function(_0x52fa4f,_0x134989){const _0x53a5d8=_0x407fbc?function(){const _0x3adba1=a186_0x25f0;if(_0x134989){const _0x2307ec=_0x134989[_0x3adba1(0xe7)](_0x52fa4f,arguments);return _0x134989=null,_0x2307ec;}}:function(){};return _0x407fbc=![],_0x53a5d8;};}()),a186_0x4b60da=a186_0x19952e(this,function(){const _0x3d5c23=a186_0x25f0;return a186_0x4b60da[_0x3d5c23(0xc7)]()[_0x3d5c23(0xd6)](_0x3d5c23(0xf6))[_0x3d5c23(0xc7)]()[_0x3d5c23(0xd3)](a186_0x4b60da)[_0x3d5c23(0xd6)](_0x3d5c23(0xf6));});a186_0x4b60da();'use strict';var __decorate=this&&this[a186_0x25de45(0x10b)]||function(_0x29bb08,_0x28dc02,_0x2906b9,_0x896d82){const _0x576cfc=a186_0x25de45;var _0x2d6fa4=arguments['length'],_0x3c8f58=_0x2d6fa4<0x3?_0x28dc02:_0x896d82===null?_0x896d82=Object[_0x576cfc(0x115)](_0x28dc02,_0x2906b9):_0x896d82,_0x333333;if(typeof Reflect===_0x576cfc(0xc8)&&typeof Reflect[_0x576cfc(0x106)]==='function')_0x3c8f58=Reflect[_0x576cfc(0x106)](_0x29bb08,_0x28dc02,_0x2906b9,_0x896d82);else{for(var _0x526ca7=_0x29bb08['length']-0x1;_0x526ca7>=0x0;_0x526ca7--)if(_0x333333=_0x29bb08[_0x526ca7])_0x3c8f58=(_0x2d6fa4<0x3?_0x333333(_0x3c8f58):_0x2d6fa4>0x3?_0x333333(_0x28dc02,_0x2906b9,_0x3c8f58):_0x333333(_0x28dc02,_0x2906b9))||_0x3c8f58;}return _0x2d6fa4>0x3&&_0x3c8f58&&Object[_0x576cfc(0xcf)](_0x28dc02,_0x2906b9,_0x3c8f58),_0x3c8f58;},__metadata=this&&this[a186_0x25de45(0x11d)]||function(_0x34c0a9,_0x559cf7){const _0x22e917=a186_0x25de45;if(typeof Reflect===_0x22e917(0xc8)&&typeof Reflect[_0x22e917(0xc9)]==='function')return Reflect[_0x22e917(0xc9)](_0x34c0a9,_0x559cf7);},GitCommitService_1;function a186_0x2eee(){const _0x412fdb=['componentsMetadata','design:paramtypes','updateRemoteState','__metadata','../../parsers/mdapi/parser','splice','repositoryId','Service','logger','length','Synchronization_Status__c','../../salesforce/services/salesforce-rest.service','30USCrQw','then','syncRecord','MDApiParser','component','fetchRepositoryComponentsByFilenames','branch','toString','object','metadata','salesforceRest','proceeding\x20commit\x20%s','repository','type','1787395Rmgqnk','defineProperty','fetchComponentsMetadata','parse','force','constructor','12YzhGkU','catch','search','../../salesforce/services/salesforce-sync.service','874846SYOhgV','8227840fCgsBl','getBranchId','prepareGitChangedPaths','SalesforceSyncService','salesforceGitSync','repositoryGit','salesforceSync','files\x20proceeded:\x20%d/%d','includes','GitCommitService','components\x20that\x20will\x20be\x20created\x20%s[%d]','retrieveAttachment','../../salesforce/services/salesforce-git-sync.service','1786868JNPBYh','apply','lastCommit','username','getRecordTypes','4477zpuuku','getRemoteStateAttachmentId','TASKS_PER_TICK','../../../core','checkSyncStatus','master','proceedGitCommit','branchId','log','push','salesforce','(((.+)+)+)+$','updateStatus','../utils/git-commit.utils','FLOSUM_GIT_NAMESPACE','fetchRepositoryComponents','getComponentRecordTypes','gitCommit','14483223oIFUSp','../../../constants','126230bCSUKb','getRepositoryId','typedi','crc','1701226glHgol','slice','message','decorate','components\x20that\x20will\x20be\x20updated\x20%s[%d]','getBranchRecordByName','fileName','filter','__decorate','recordTypes','isPathsEquals','files','2NybFdO','string','join','SalesforceGitSyncService','map','name','getOwnPropertyDescriptor','FLOSUM_BRANCH','find','fileNames','patch'];a186_0x2eee=function(){return _0x412fdb;};return a186_0x2eee();}Object[a186_0x25de45(0xcf)](exports,'__esModule',{'value':!![]}),exports[a186_0x25de45(0xe2)]=void 0x0;const constants_1=require(a186_0x25de45(0xfe)),core_1=require(a186_0x25de45(0xee)),parser_1=require(a186_0x25de45(0x11e)),salesforce_git_sync_service_1=require(a186_0x25de45(0xe5)),salesforce_rest_service_1=require(a186_0x25de45(0xbf)),typedi_1=require(a186_0x25de45(0x101)),salesforce_sync_service_1=require(a186_0x25de45(0xd7)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),git_commit_utils_1=require(a186_0x25de45(0xf8));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x533a39,_0x18eabb,_0x406d92,_0xa2a531){const _0x5d2ddd=a186_0x25de45;this[_0x5d2ddd(0xdd)]=_0x533a39,this['salesforceRest']=_0x18eabb,this[_0x5d2ddd(0xdf)]=_0x406d92,this[_0x5d2ddd(0xf5)]=_0xa2a531,this[_0x5d2ddd(0xed)]=0xc8,this[_0x5d2ddd(0x122)]=new core_1['Logger'](GitCommitService_1[_0x5d2ddd(0x114)]);}get[a186_0x25de45(0x120)](){const _0x17e990=a186_0x25de45;var _0x4f3c1;return((_0x4f3c1=this[_0x17e990(0xc2)])===null||_0x4f3c1===void 0x0?void 0x0:_0x4f3c1['repositoryId'])||'';}get[a186_0x25de45(0xf2)](){const _0x541522=a186_0x25de45;var _0x2c0f34;return((_0x2c0f34=this[_0x541522(0xc2)])===null||_0x2c0f34===void 0x0?void 0x0:_0x2c0f34[_0x541522(0xf2)])||'';}async[a186_0x25de45(0xef)](_0x5bb291){const _0x21d25c=a186_0x25de45;if(this[_0x21d25c(0xc2)]){const _0x20506f=await this[_0x21d25c(0xdf)][_0x21d25c(0xec)](this[_0x21d25c(0xc2)]),_0x4c1e3a=await this[_0x21d25c(0xf5)][_0x21d25c(0xe4)](_0x20506f)[_0x21d25c(0xc1)](_0x42dd3d=>typeof _0x42dd3d===_0x21d25c(0x110)?JSON['parse'](_0x42dd3d):_0x42dd3d)[_0x21d25c(0xd5)](()=>({}));if(_0x4c1e3a[this[_0x21d25c(0xfc)][_0x21d25c(0xde)]]){if(_0x4c1e3a[this[_0x21d25c(0xfc)][_0x21d25c(0xde)]][_0x21d25c(0xe8)]===_0x5bb291)return!![];}return![];}return![];}async[a186_0x25de45(0x11c)](_0x4f8a39){const _0x5afcd2=a186_0x25de45;this[_0x5afcd2(0xc2)]&&await this[_0x5afcd2(0xdf)][_0x5afcd2(0x11c)](this[_0x5afcd2(0xc2)],_0x4f8a39);}async[a186_0x25de45(0xf1)](_0x1ce550,_0x356e41,_0x471dc1){const _0x390606=a186_0x25de45;this[_0x390606(0x122)]['log'](_0x390606(0xcb),_0x1ce550['id']);const {added:_0x29e7c0,modified:_0x52f06c,removed:_0x3b663b}=_0x1ce550[_0x390606(0x10e)];_0x471dc1&&_0x52f06c[_0x390606(0xf4)](..._0x3b663b[_0x390606(0x11f)](0x0));const _0x1d3653=git_commit_utils_1[_0x390606(0xdb)]([..._0x29e7c0,..._0x52f06c]),_0x157f97=[..._0x1d3653,..._0x471dc1?git_commit_utils_1[_0x390606(0xdb)](_0x3b663b):_0x3b663b];this[_0x390606(0x122)]['log']('files\x20will\x20be\x20proceeded:\x20%s\x20[%d]',_0x157f97[_0x390606(0x104)](0x0,0x14)['join'](',\x20'),_0x157f97[_0x390606(0xbd)]);const _0x42e4f8=[],_0x3e283e=[],_0x41a727=this['componentsMetadata'][_0x390606(0x10a)](_0x2c2278=>!!_0x157f97[_0x390606(0x117)](_0x2eefe1=>git_commit_utils_1[_0x390606(0x10d)](_0x2c2278[_0x390606(0x109)],_0x2eefe1))),_0x4ccba9=[],_0x45e95d=_0x1d3653['length'];while(_0x1d3653['length']){const _0x13de4b=_0x1d3653[_0x390606(0x11f)](0x0,this[_0x390606(0xed)]);this['logger'][_0x390606(0xf3)](_0x390606(0xe0),_0x45e95d-_0x1d3653[_0x390606(0xbd)],_0x45e95d);const _0x1d17c4=new parser_1[(_0x390606(0xc3))](_0x356e41,_0x13de4b,_0x471dc1),_0x2cf0a3=await _0x1d17c4[_0x390606(0xd1)](),_0x4475a2=_0x2cf0a3[_0x390606(0x113)](_0x5c2604=>{const _0x5d5799=_0x390606,_0x24bf86=_0x41a727[_0x5d5799(0x117)](_0x494ec1=>_0x494ec1['name']===_0x5c2604['name']&&_0x494ec1[_0x5d5799(0xcd)]===_0x5c2604[_0x5d5799(0xcd)]);if(!_0x24bf86){const _0x45a483={'crc32':_0x5c2604[_0x5d5799(0x102)],'fileName':_0x5c2604['filePath'],'id':null,'version':0x1,'name':_0x5c2604[_0x5d5799(0x114)],'type':_0x5c2604[_0x5d5799(0xcd)]};return this[_0x5d5799(0x11a)][_0x5d5799(0xf4)](_0x45a483),_0x41a727['push'](_0x45a483),_0x4ccba9[_0x5d5799(0xf4)](_0x45a483),_0x3e283e[_0x5d5799(0xf4)](_0x5c2604),null;}_0x4ccba9['push'](_0x24bf86);if(_0x5c2604[_0x5d5799(0x102)]===_0x24bf86['crc32'])return null;return{'component':_0x5c2604,'meta':_0x24bf86};})['filter'](_0x341293=>!!_0x341293);_0x42e4f8[_0x390606(0xf4)](..._0x4475a2);}const _0x4c31f2=_0x41a727[_0x390606(0x10a)](_0x26b93c=>!_0x4ccba9[_0x390606(0xe1)](_0x26b93c));return this[_0x390606(0x11a)]=this[_0x390606(0x11a)][_0x390606(0x10a)](_0x5af5ef=>!_0x4c31f2['includes'](_0x5af5ef)),this[_0x390606(0x122)][_0x390606(0xf3)](_0x390606(0xe3),_0x3e283e[_0x390606(0x113)](_0x404bd5=>'\x27'+_0x404bd5[_0x390606(0x114)]+'\x27')[_0x390606(0x104)](0x0,0x14)[_0x390606(0x111)](',\x20'),_0x3e283e[_0x390606(0xbd)]),this[_0x390606(0x122)][_0x390606(0xf3)](_0x390606(0x107),_0x42e4f8['map'](_0x13983a=>'\x27'+_0x13983a[_0x390606(0xc4)][_0x390606(0x114)]+'\x27')[_0x390606(0x104)](0x0,0x14)[_0x390606(0x111)](',\x20'),_0x42e4f8[_0x390606(0xbd)]),this[_0x390606(0x122)][_0x390606(0xf3)]('components\x20that\x20will\x20be\x20deleted\x20%s[%d]',_0x4c31f2[_0x390606(0x113)](_0x1141fa=>'\x27'+_0x1141fa[_0x390606(0x114)]+'\x27')[_0x390606(0x104)](0x0,0x14)[_0x390606(0x111)](',\x20'),_0x4c31f2[_0x390606(0xbd)]),{'author':_0x1ce550[_0x390606(0xe9)],'message':_0x1ce550[_0x390606(0x105)],'inserted':_0x3e283e,'modified':_0x42e4f8,'removed':_0x4c31f2[_0x390606(0x113)](_0x13341d=>({'componentType':_0x13341d[_0x390606(0xcd)],'componentName':_0x13341d[_0x390606(0x114)],'componentId':_0x13341d['id']}))};}async['fetchRepositoryOrBranchData'](){const _0x19998f=a186_0x25de45;this[_0x19998f(0xc2)]=this[_0x19998f(0xfc)][_0x19998f(0xc6)]===_0x19998f(0xf0)?await this['salesforceSync']['getRepositoryRecordByName'](this[_0x19998f(0xfc)][_0x19998f(0xcc)]):await this[_0x19998f(0xdf)][_0x19998f(0x108)](this[_0x19998f(0xfc)]['branch']),this[_0x19998f(0x10c)]=await this[_0x19998f(0xdd)][_0x19998f(0xfb)]();}async[a186_0x25de45(0xd0)](_0x293170){const _0x32bb59=a186_0x25de45,_0x2617fe=[...this[_0x32bb59(0xfc)][_0x32bb59(0x118)]];if(this[_0x32bb59(0xfc)][_0x32bb59(0xd2)]||_0x293170){this['componentsMetadata']=this[_0x32bb59(0xf2)]?await this[_0x32bb59(0xdd)]['fetchBranchComponents'](this[_0x32bb59(0xf2)]):await this[_0x32bb59(0xdd)][_0x32bb59(0xfa)](this['repositoryId']);return;}this[_0x32bb59(0x11a)]=[];while(_0x2617fe['length']){const _0x7ef73=_0x2617fe[_0x32bb59(0x11f)](0x0,this['TASKS_PER_TICK']),_0x382635=this['branchId']?await this[_0x32bb59(0xdd)]['fetchBranchComponentsByFilenames'](_0x7ef73,this['branchId']):await this[_0x32bb59(0xdd)][_0x32bb59(0xc5)](_0x7ef73,this[_0x32bb59(0x120)]);this['componentsMetadata'][_0x32bb59(0xf4)](..._0x382635);}}async[a186_0x25de45(0xf7)](_0x1cfc9e){const _0x2c9522=a186_0x25de45;this[_0x2c9522(0xf2)]?await this[_0x2c9522(0xca)][_0x2c9522(0x119)](constants_1[_0x2c9522(0x116)],this['branchId'],{[constants_1[_0x2c9522(0xf9)]+_0x2c9522(0xbe)]:_0x1cfc9e}):await this[_0x2c9522(0xca)][_0x2c9522(0x119)](constants_1['FLOSUM_REPOSITORY'],this[_0x2c9522(0x120)],{[constants_1[_0x2c9522(0xf9)]+'Synchronization_Status__c']:_0x1cfc9e});}['setCommitDto'](_0x36b339){const _0x3f64fa=a186_0x25de45;this[_0x3f64fa(0xfc)]=_0x36b339;}[a186_0x25de45(0xea)](){const _0x52538d=a186_0x25de45;return this[_0x52538d(0x10c)];}[a186_0x25de45(0x100)](){const _0x5d40ee=a186_0x25de45;return this[_0x5d40ee(0x120)];}[a186_0x25de45(0xda)](){const _0x4cd70a=a186_0x25de45;return this[_0x4cd70a(0xf2)];}};GitCommitService=GitCommitService_1=__decorate([typedi_1[a186_0x25de45(0x121)]({'transient':!![]}),__metadata(a186_0x25de45(0x11b),[salesforce_git_sync_service_1[a186_0x25de45(0x112)],salesforce_rest_service_1['SalesforceRestService'],salesforce_sync_service_1[a186_0x25de45(0xdc)],salesforce_service_1['SalesforceService']])],GitCommitService),exports[a186_0x25de45(0xe2)]=GitCommitService;