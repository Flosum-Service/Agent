const a188_0x4441de=a188_0x6f32;function a188_0x6f32(_0x5830c9,_0x51baf9){const _0x4eb997=a188_0x1742();return a188_0x6f32=function(_0x1c1905,_0x4a510a){_0x1c1905=_0x1c1905-0x127;let _0x174201=_0x4eb997[_0x1c1905];return _0x174201;},a188_0x6f32(_0x5830c9,_0x51baf9);}(function(_0x24b8b7,_0x4e87a3){const _0x91784=a188_0x6f32,_0x541028=_0x24b8b7();while(!![]){try{const _0x432d6d=parseInt(_0x91784(0x164))/0x1+-parseInt(_0x91784(0x136))/0x2+-parseInt(_0x91784(0x16e))/0x3+parseInt(_0x91784(0x165))/0x4+-parseInt(_0x91784(0x154))/0x5+parseInt(_0x91784(0x13d))/0x6*(-parseInt(_0x91784(0x15e))/0x7)+parseInt(_0x91784(0x128))/0x8;if(_0x432d6d===_0x4e87a3)break;else _0x541028['push'](_0x541028['shift']());}catch(_0x179289){_0x541028['push'](_0x541028['shift']());}}}(a188_0x1742,0x3d961));const a188_0x4a510a=(function(){let _0x45b4a0=!![];return function(_0x15268e,_0x22114a){const _0x36a9ab=_0x45b4a0?function(){const _0x13d91b=a188_0x6f32;if(_0x22114a){const _0x1c902d=_0x22114a[_0x13d91b(0x132)](_0x15268e,arguments);return _0x22114a=null,_0x1c902d;}}:function(){};return _0x45b4a0=![],_0x36a9ab;};}()),a188_0x1c1905=a188_0x4a510a(this,function(){const _0x67123d=a188_0x6f32;return a188_0x1c1905[_0x67123d(0x13a)]()['search'](_0x67123d(0x156))['toString']()['constructor'](a188_0x1c1905)[_0x67123d(0x16d)](_0x67123d(0x156));});a188_0x1c1905();'use strict';var __decorate=this&&this[a188_0x4441de(0x13c)]||function(_0x13eee5,_0x4386c0,_0x1b4cef,_0x5d0371){const _0x889eb2=a188_0x4441de;var _0xf97583=arguments[_0x889eb2(0x159)],_0x118485=_0xf97583<0x3?_0x4386c0:_0x5d0371===null?_0x5d0371=Object[_0x889eb2(0x14c)](_0x4386c0,_0x1b4cef):_0x5d0371,_0x5adaf0;if(typeof Reflect===_0x889eb2(0x176)&&typeof Reflect[_0x889eb2(0x129)]===_0x889eb2(0x152))_0x118485=Reflect['decorate'](_0x13eee5,_0x4386c0,_0x1b4cef,_0x5d0371);else{for(var _0x19bca9=_0x13eee5[_0x889eb2(0x159)]-0x1;_0x19bca9>=0x0;_0x19bca9--)if(_0x5adaf0=_0x13eee5[_0x19bca9])_0x118485=(_0xf97583<0x3?_0x5adaf0(_0x118485):_0xf97583>0x3?_0x5adaf0(_0x4386c0,_0x1b4cef,_0x118485):_0x5adaf0(_0x4386c0,_0x1b4cef))||_0x118485;}return _0xf97583>0x3&&_0x118485&&Object[_0x889eb2(0x142)](_0x4386c0,_0x1b4cef,_0x118485),_0x118485;},__metadata=this&&this[a188_0x4441de(0x174)]||function(_0x3de8e0,_0x74d8ef){const _0x5c4ead=a188_0x4441de;if(typeof Reflect===_0x5c4ead(0x176)&&typeof Reflect['metadata']===_0x5c4ead(0x152))return Reflect['metadata'](_0x3de8e0,_0x74d8ef);};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a188_0x4441de(0x163)]=void 0x0;const constants_1=require(a188_0x4441de(0x14b)),parser_1=require('../../parsers/mdapi/parser'),salesforce_git_sync_service_1=require(a188_0x4441de(0x145)),salesforce_rest_service_1=require(a188_0x4441de(0x157)),typedi_1=require('typedi'),salesforce_sync_service_1=require(a188_0x4441de(0x135)),salesforce_service_1=require(a188_0x4441de(0x14e)),git_commit_utils_1=require('../utils/git-commit.utils');let GitCommitService=class GitCommitService{constructor(_0x2c497c,_0x27b874,_0x18101f,_0x514fe0){const _0x253d20=a188_0x4441de;this[_0x253d20(0x167)]=_0x2c497c,this[_0x253d20(0x144)]=_0x27b874,this[_0x253d20(0x169)]=_0x18101f,this[_0x253d20(0x158)]=_0x514fe0,this[_0x253d20(0x13b)]=0xc8;}get[a188_0x4441de(0x12a)](){const _0x1145ac=a188_0x4441de;var _0x5a3196;return((_0x5a3196=this['syncRecord'])===null||_0x5a3196===void 0x0?void 0x0:_0x5a3196[_0x1145ac(0x12a)])||'';}get[a188_0x4441de(0x137)](){const _0x2f758c=a188_0x4441de;var _0x56c369;return((_0x56c369=this[_0x2f758c(0x178)])===null||_0x56c369===void 0x0?void 0x0:_0x56c369[_0x2f758c(0x137)])||'';}async['createCommit'](_0x34652f){const _0x43469d=a188_0x4441de;return this['salesforceGitSync']['createCommit'](_0x34652f,this[_0x43469d(0x12a)]);}async['checkSyncStatus'](_0x19d2fe){const _0x544151=a188_0x4441de;if(this['syncRecord']){const _0xd373e0=await this['salesforceSync'][_0x544151(0x131)](this[_0x544151(0x178)]),_0x5f465c=await this['salesforce'][_0x544151(0x173)](_0xd373e0)[_0x544151(0x134)](_0x862252=>typeof _0x862252===_0x544151(0x14f)?JSON['parse'](_0x862252):_0x862252)[_0x544151(0x147)](()=>({}));if(_0x5f465c[this['gitCommit'][_0x544151(0x13e)]]){if(_0x5f465c[this['gitCommit'][_0x544151(0x13e)]][_0x544151(0x14a)]===_0x19d2fe)return!![];}return![];}return![];}async[a188_0x4441de(0x175)](_0xf18de0){const _0x134a8e=a188_0x4441de;this['syncRecord']&&await this[_0x134a8e(0x169)][_0x134a8e(0x175)](this[_0x134a8e(0x178)],_0xf18de0);}async[a188_0x4441de(0x151)](_0x403a6d,_0x2a126d,_0x433899){const _0x1b6659=a188_0x4441de,_0x173354=this[_0x1b6659(0x160)][_0x1b6659(0x16f)](_0x123186=>git_commit_utils_1[_0x1b6659(0x130)](_0x123186[_0x1b6659(0x143)],_0x403a6d)),_0x268b1a=[],_0x2bb764=[],_0x4a639a=[],_0x27267a=new parser_1[(_0x1b6659(0x161))](_0x2a126d,[_0x403a6d],_0x433899),_0x32adf8=await _0x27267a[_0x1b6659(0x15d)](),_0x1b1140=_0x32adf8['map'](_0x3d0f10=>{const _0x3b38b4=_0x1b6659,_0x112595=_0x173354['find'](_0x169d44=>_0x169d44[_0x3b38b4(0x177)]===_0x3d0f10['name']&&_0x169d44[_0x3b38b4(0x155)]===_0x3d0f10[_0x3b38b4(0x155)]);if(!_0x112595){const _0x315e68={'crc32':_0x3d0f10[_0x3b38b4(0x166)],'fileName':_0x3d0f10[_0x3b38b4(0x13f)],'id':null,'version':0x1,'name':_0x3d0f10['name'],'type':_0x3d0f10[_0x3b38b4(0x155)]};return this[_0x3b38b4(0x160)]['push'](_0x315e68),_0x173354[_0x3b38b4(0x15a)](_0x315e68),_0x4a639a['push'](_0x315e68),_0x2bb764[_0x3b38b4(0x15a)](_0x3d0f10),null;}_0x4a639a[_0x3b38b4(0x15a)](_0x112595);if(_0x3d0f10[_0x3b38b4(0x166)]===_0x112595['crc32'])return null;return{'component':_0x3d0f10,'meta':_0x112595};})[_0x1b6659(0x16f)](_0x111304=>!!_0x111304);_0x268b1a[_0x1b6659(0x15a)](..._0x1b1140);const _0x23de56=_0x173354[_0x1b6659(0x16f)](_0x5f1627=>!_0x4a639a['includes'](_0x5f1627));return this[_0x1b6659(0x160)]=this[_0x1b6659(0x160)][_0x1b6659(0x16f)](_0x67bce4=>!_0x23de56[_0x1b6659(0x168)](_0x67bce4)),{'inserted':_0x2bb764,'modified':_0x268b1a,'removed':_0x23de56[_0x1b6659(0x16a)](({id:_0x21852b,name:_0xf9a969,type:_0x292577})=>({'id':_0x21852b,'name':_0xf9a969,'type':_0x292577}))};}async[a188_0x4441de(0x14d)](){const _0x3e9926=a188_0x4441de;this[_0x3e9926(0x178)]=this[_0x3e9926(0x12b)][_0x3e9926(0x150)]===_0x3e9926(0x141)?await this[_0x3e9926(0x169)][_0x3e9926(0x12d)](this[_0x3e9926(0x12b)]['repository']):await this['salesforceSync'][_0x3e9926(0x127)](this[_0x3e9926(0x12b)][_0x3e9926(0x150)]),this[_0x3e9926(0x162)]=await this['salesforceGitSync'][_0x3e9926(0x12c)]();}async['fetchComponentsMetadata'](_0x3e09f6){const _0x2d075a=a188_0x4441de,_0x3e2f1a=[...this[_0x2d075a(0x12b)][_0x2d075a(0x133)]];if(this[_0x2d075a(0x12b)][_0x2d075a(0x15b)]||_0x3e09f6){this['componentsMetadata']=this[_0x2d075a(0x137)]?await this[_0x2d075a(0x167)]['fetchBranchComponents'](this[_0x2d075a(0x137)]):await this[_0x2d075a(0x167)][_0x2d075a(0x15f)](this[_0x2d075a(0x12a)]);return;}this[_0x2d075a(0x160)]=[];while(_0x3e2f1a[_0x2d075a(0x159)]){const _0x1b6cba=_0x3e2f1a['splice'](0x0,this[_0x2d075a(0x13b)]),_0x5a68d0=this[_0x2d075a(0x137)]?await this['salesforceGitSync'][_0x2d075a(0x179)](_0x1b6cba,this[_0x2d075a(0x137)]):await this['salesforceGitSync'][_0x2d075a(0x138)](_0x1b6cba,this[_0x2d075a(0x12a)]);this[_0x2d075a(0x160)][_0x2d075a(0x15a)](..._0x5a68d0);}}async[a188_0x4441de(0x153)](_0x1cb1e1){const _0x4b62f5=a188_0x4441de;this[_0x4b62f5(0x137)]?await this[_0x4b62f5(0x144)][_0x4b62f5(0x12e)](constants_1[_0x4b62f5(0x148)],this[_0x4b62f5(0x137)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x4b62f5(0x172)]:_0x1cb1e1,[constants_1['FLOSUM_NAMESPACE']+_0x4b62f5(0x15c)]:Date[_0x4b62f5(0x16c)]()}):await this[_0x4b62f5(0x144)][_0x4b62f5(0x12e)](constants_1['FLOSUM_REPOSITORY'],this[_0x4b62f5(0x12a)],{[constants_1[_0x4b62f5(0x12f)]+'Synchronization_Status__c']:_0x1cb1e1});}[a188_0x4441de(0x171)](_0x46aa7b){const _0x24dccb=a188_0x4441de;this[_0x24dccb(0x12b)]=_0x46aa7b;}[a188_0x4441de(0x170)](){const _0x1b4fc3=a188_0x4441de;return this[_0x1b4fc3(0x162)];}['getRepositoryId'](){const _0x52539a=a188_0x4441de;return this[_0x52539a(0x12a)];}['getBranchId'](){const _0xe4f816=a188_0x4441de;return this[_0xe4f816(0x137)];}};function a188_0x1742(){const _0x5845f4=['updateStatus','2017790zAtFDE','type','(((.+)+)+)+$','../../salesforce/services/salesforce-rest.service','salesforce','length','push','force','Last_Updated_On__c','parse','7WllbuG','fetchRepositoryComponents','componentsMetadata','MDApiParser','recordTypes','GitCommitService','264258olJRmn','777200Umoftz','crc','salesforceGitSync','includes','salesforceSync','map','SalesforceGitSyncService','now','search','447435cIxHjE','filter','getRecordTypes','setCommitDto','Synchronization_Status__c','retrieveAttachment','__metadata','updateRemoteState','object','name','syncRecord','fetchBranchComponentsByFilenames','getBranchRecordByName','9233680rWTQEU','decorate','repositoryId','gitCommit','getComponentRecordTypes','getRepositoryRecordByName','patch','FLOSUM_GIT_NAMESPACE','isPathsEquals','getRemoteStateAttachmentId','apply','fileNames','then','../../salesforce/services/salesforce-sync.service','778070fHkgef','branchId','fetchRepositoryComponentsByFilenames','design:paramtypes','toString','TASKS_PER_TICK','__decorate','2512638VxDOMe','repositoryGit','filePath','SalesforceSyncService','master','defineProperty','fileName','salesforceRest','../../salesforce/services/salesforce-git-sync.service','SalesforceRestService','catch','FLOSUM_BRANCH','SalesforceService','lastCommit','../../../constants','getOwnPropertyDescriptor','fetchRepositoryOrBranchData','../../salesforce/services/salesforce.service','string','branch','proceedFile','function'];a188_0x1742=function(){return _0x5845f4;};return a188_0x1742();}GitCommitService=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a188_0x4441de(0x139),[salesforce_git_sync_service_1[a188_0x4441de(0x16b)],salesforce_rest_service_1[a188_0x4441de(0x146)],salesforce_sync_service_1[a188_0x4441de(0x140)],salesforce_service_1[a188_0x4441de(0x149)]])],GitCommitService),exports[a188_0x4441de(0x163)]=GitCommitService;