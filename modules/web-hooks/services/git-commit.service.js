function a187_0x3053(){const _0x5a70f3=['getRepositoryRecordByName','repository','GitCommitService','setCommitDto','repositoryId','updateRemoteState','FLOSUM_GIT_NAMESPACE','SalesforceRestService','updateStatus','crc','fetchComponentsMetadata','3568088YYowQf','find','fileName','isPathsEquals','defineProperty','Service','name','../../parsers/mdapi/parser','patch','salesforceGitSync','repositoryGit','../../salesforce/services/salesforce-sync.service','4635606vjYuTd','branch','toString','MDApiParser','__decorate','recordTypes','object','Synchronization_Status__c','salesforceRest','parse','gitCommit','type','fetchRepositoryComponentsByFilenames','18324CHeqPa','map','salesforceSync','salesforce','SalesforceService','filePath','string','getRecordTypes','push','21PBssEz','proceeding\x20file\x20%s','(((.+)+)+)+$','typedi','catch','retrieveAttachment','../../salesforce/services/salesforce-git-sync.service','SalesforceSyncService','../../salesforce/services/salesforce-rest.service','getComponentRecordTypes','createCommit','filter','force','splice','checkSyncStatus','function','branchId','6745260MEAIMI','lastCommit','decorate','../../salesforce/services/salesforce.service','fileNames','componentsMetadata','search','2393380eeTWzm','proceedFile','metadata','getBranchRecordByName','includes','1449924wlCnkK','FLOSUM_BRANCH','../utils/git-commit.utils','4209004PRwlYD','syncRecord','length','getRepositoryId','SalesforceGitSyncService','logger','__esModule','TASKS_PER_TICK'];a187_0x3053=function(){return _0x5a70f3;};return a187_0x3053();}const a187_0x1eab53=a187_0x19bc;(function(_0x5391a7,_0x567d42){const _0x1902ee=a187_0x19bc,_0x4dd3ec=_0x5391a7();while(!![]){try{const _0x217bec=parseInt(_0x1902ee(0xf0))/0x1+parseInt(_0x1902ee(0xeb))/0x2+-parseInt(_0x1902ee(0xca))/0x3+-parseInt(_0x1902ee(0xf3))/0x4+parseInt(_0x1902ee(0xe4))/0x5+-parseInt(_0x1902ee(0xbd))/0x6+-parseInt(_0x1902ee(0xd3))/0x7*(parseInt(_0x1902ee(0x106))/0x8);if(_0x217bec===_0x567d42)break;else _0x4dd3ec['push'](_0x4dd3ec['shift']());}catch(_0x3bd00d){_0x4dd3ec['push'](_0x4dd3ec['shift']());}}}(a187_0x3053,0xc9d31));function a187_0x19bc(_0x2a664d,_0x4abb3e){const _0x38a1c0=a187_0x3053();return a187_0x19bc=function(_0x16444c,_0x26ceff){_0x16444c=_0x16444c-0xbd;let _0x30535f=_0x38a1c0[_0x16444c];return _0x30535f;},a187_0x19bc(_0x2a664d,_0x4abb3e);}const a187_0x26ceff=(function(){let _0x46ea84=!![];return function(_0x16bf29,_0x15eee6){const _0x1f041c=_0x46ea84?function(){if(_0x15eee6){const _0x16b653=_0x15eee6['apply'](_0x16bf29,arguments);return _0x15eee6=null,_0x16b653;}}:function(){};return _0x46ea84=![],_0x1f041c;};}()),a187_0x16444c=a187_0x26ceff(this,function(){const _0x3ea098=a187_0x19bc;return a187_0x16444c[_0x3ea098(0xbf)]()[_0x3ea098(0xea)](_0x3ea098(0xd5))['toString']()['constructor'](a187_0x16444c)['search'](_0x3ea098(0xd5));});a187_0x16444c();'use strict';var __decorate=this&&this[a187_0x1eab53(0xc1)]||function(_0x412099,_0x229b73,_0x168b88,_0x29d7fd){const _0x50143d=a187_0x1eab53;var _0x3ad6f9=arguments['length'],_0x5d6e0b=_0x3ad6f9<0x3?_0x229b73:_0x29d7fd===null?_0x29d7fd=Object['getOwnPropertyDescriptor'](_0x229b73,_0x168b88):_0x29d7fd,_0x475f39;if(typeof Reflect===_0x50143d(0xc3)&&typeof Reflect['decorate']===_0x50143d(0xe2))_0x5d6e0b=Reflect[_0x50143d(0xe6)](_0x412099,_0x229b73,_0x168b88,_0x29d7fd);else{for(var _0x35e196=_0x412099[_0x50143d(0xf5)]-0x1;_0x35e196>=0x0;_0x35e196--)if(_0x475f39=_0x412099[_0x35e196])_0x5d6e0b=(_0x3ad6f9<0x3?_0x475f39(_0x5d6e0b):_0x3ad6f9>0x3?_0x475f39(_0x229b73,_0x168b88,_0x5d6e0b):_0x475f39(_0x229b73,_0x168b88))||_0x5d6e0b;}return _0x3ad6f9>0x3&&_0x5d6e0b&&Object[_0x50143d(0x10a)](_0x229b73,_0x168b88,_0x5d6e0b),_0x5d6e0b;},__metadata=this&&this['__metadata']||function(_0x1902cf,_0x54283f){const _0x33f9bd=a187_0x1eab53;if(typeof Reflect===_0x33f9bd(0xc3)&&typeof Reflect[_0x33f9bd(0xed)]==='function')return Reflect[_0x33f9bd(0xed)](_0x1902cf,_0x54283f);},GitCommitService_1;Object[a187_0x1eab53(0x10a)](exports,a187_0x1eab53(0xf9),{'value':!![]}),exports[a187_0x1eab53(0xfd)]=void 0x0;const constants_1=require('../../../constants'),core_1=require('../../../core'),parser_1=require(a187_0x1eab53(0x10d)),salesforce_git_sync_service_1=require(a187_0x1eab53(0xd9)),salesforce_rest_service_1=require(a187_0x1eab53(0xdb)),typedi_1=require(a187_0x1eab53(0xd6)),salesforce_sync_service_1=require(a187_0x1eab53(0x111)),salesforce_service_1=require(a187_0x1eab53(0xe7)),git_commit_utils_1=require(a187_0x1eab53(0xf2));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x133abb,_0x1f65ff,_0x332921,_0x59cf38){const _0x2dc627=a187_0x1eab53;this[_0x2dc627(0x10f)]=_0x133abb,this[_0x2dc627(0xc5)]=_0x1f65ff,this[_0x2dc627(0xcc)]=_0x332921,this[_0x2dc627(0xcd)]=_0x59cf38,this[_0x2dc627(0xfa)]=0xc8,this[_0x2dc627(0xf8)]=new core_1['Logger'](GitCommitService_1[_0x2dc627(0x10c)]);}get[a187_0x1eab53(0xff)](){const _0x37c896=a187_0x1eab53;var _0x1ee755;return((_0x1ee755=this[_0x37c896(0xf4)])===null||_0x1ee755===void 0x0?void 0x0:_0x1ee755[_0x37c896(0xff)])||'';}get[a187_0x1eab53(0xe3)](){const _0x4de5b6=a187_0x1eab53;var _0x458411;return((_0x458411=this[_0x4de5b6(0xf4)])===null||_0x458411===void 0x0?void 0x0:_0x458411['branchId'])||'';}async[a187_0x1eab53(0xdd)](_0x49749b){const _0x42d6eb=a187_0x1eab53;return this[_0x42d6eb(0x10f)]['createCommit'](_0x49749b,this['repositoryId']);}async[a187_0x1eab53(0xe1)](_0x35915d){const _0x3f88a7=a187_0x1eab53;if(this[_0x3f88a7(0xf4)]){const _0x11e806=await this['salesforceSync']['getRemoteStateAttachmentId'](this[_0x3f88a7(0xf4)]),_0x5bfce7=await this[_0x3f88a7(0xcd)][_0x3f88a7(0xd8)](_0x11e806)['then'](_0x5c52c2=>typeof _0x5c52c2===_0x3f88a7(0xd0)?JSON[_0x3f88a7(0xc6)](_0x5c52c2):_0x5c52c2)[_0x3f88a7(0xd7)](()=>({}));if(_0x5bfce7[this['gitCommit']['repositoryGit']]){if(_0x5bfce7[this[_0x3f88a7(0xc7)][_0x3f88a7(0x110)]][_0x3f88a7(0xe5)]===_0x35915d)return!![];}return![];}return![];}async[a187_0x1eab53(0x100)](_0x34aeb5){const _0x182122=a187_0x1eab53;this[_0x182122(0xf4)]&&await this[_0x182122(0xcc)][_0x182122(0x100)](this[_0x182122(0xf4)],_0x34aeb5);}async[a187_0x1eab53(0xec)](_0x26c376,_0x55bba9,_0x17665c){const _0x55943b=a187_0x1eab53;this[_0x55943b(0xf8)]['log'](_0x55943b(0xd4),_0x26c376);const _0x3938cd=this['componentsMetadata'][_0x55943b(0xde)](_0x21b1f1=>git_commit_utils_1[_0x55943b(0x109)](_0x21b1f1[_0x55943b(0x108)],_0x26c376)),_0x14d474=[],_0x40be22=[],_0x18ccac=[],_0x1053ef=new parser_1[(_0x55943b(0xc0))](_0x55bba9,[_0x26c376],_0x17665c),_0x459502=await _0x1053ef[_0x55943b(0xc6)](),_0x518124=_0x459502[_0x55943b(0xcb)](_0x2d5df6=>{const _0xa2d031=_0x55943b,_0x46553d=_0x3938cd[_0xa2d031(0x107)](_0x449559=>_0x449559[_0xa2d031(0x10c)]===_0x2d5df6[_0xa2d031(0x10c)]&&_0x449559['type']===_0x2d5df6[_0xa2d031(0xc8)]);if(!_0x46553d){const _0x3f511f={'crc32':_0x2d5df6['crc'],'fileName':_0x2d5df6[_0xa2d031(0xcf)],'id':null,'version':0x1,'name':_0x2d5df6[_0xa2d031(0x10c)],'type':_0x2d5df6[_0xa2d031(0xc8)]};return this[_0xa2d031(0xe9)][_0xa2d031(0xd2)](_0x3f511f),_0x3938cd[_0xa2d031(0xd2)](_0x3f511f),_0x18ccac[_0xa2d031(0xd2)](_0x3f511f),_0x40be22[_0xa2d031(0xd2)](_0x2d5df6),null;}_0x18ccac[_0xa2d031(0xd2)](_0x46553d);if(_0x2d5df6[_0xa2d031(0x104)]===_0x46553d['crc32'])return null;return{'component':_0x2d5df6,'meta':_0x46553d};})['filter'](_0x8d518e=>!!_0x8d518e);_0x14d474[_0x55943b(0xd2)](..._0x518124);const _0x591ed5=_0x3938cd[_0x55943b(0xde)](_0x30bacc=>!_0x18ccac[_0x55943b(0xef)](_0x30bacc));return this[_0x55943b(0xe9)]=this[_0x55943b(0xe9)][_0x55943b(0xde)](_0x8cfe58=>!_0x591ed5[_0x55943b(0xef)](_0x8cfe58)),{'inserted':_0x40be22,'modified':_0x14d474,'removed':_0x591ed5[_0x55943b(0xcb)](({id:_0x581f44,name:_0x5d5ab7,type:_0x699e84})=>({'id':_0x581f44,'name':_0x5d5ab7,'type':_0x699e84}))};}async['fetchRepositoryOrBranchData'](){const _0x5c0144=a187_0x1eab53;this[_0x5c0144(0xf4)]=this[_0x5c0144(0xc7)][_0x5c0144(0xbe)]==='master'?await this[_0x5c0144(0xcc)][_0x5c0144(0xfb)](this[_0x5c0144(0xc7)][_0x5c0144(0xfc)]):await this[_0x5c0144(0xcc)][_0x5c0144(0xee)](this['gitCommit'][_0x5c0144(0xbe)]),this[_0x5c0144(0xc2)]=await this[_0x5c0144(0x10f)][_0x5c0144(0xdc)]();}async[a187_0x1eab53(0x105)](_0x5c7cc8){const _0x3dc200=a187_0x1eab53,_0x149d6b=[...this[_0x3dc200(0xc7)][_0x3dc200(0xe8)]];if(this[_0x3dc200(0xc7)][_0x3dc200(0xdf)]||_0x5c7cc8){this[_0x3dc200(0xe9)]=this[_0x3dc200(0xe3)]?await this[_0x3dc200(0x10f)]['fetchBranchComponents'](this[_0x3dc200(0xe3)]):await this[_0x3dc200(0x10f)]['fetchRepositoryComponents'](this[_0x3dc200(0xff)]);return;}this['componentsMetadata']=[];while(_0x149d6b['length']){const _0x1d6ee4=_0x149d6b[_0x3dc200(0xe0)](0x0,this[_0x3dc200(0xfa)]),_0x2b3676=this['branchId']?await this[_0x3dc200(0x10f)]['fetchBranchComponentsByFilenames'](_0x1d6ee4,this[_0x3dc200(0xe3)]):await this[_0x3dc200(0x10f)][_0x3dc200(0xc9)](_0x1d6ee4,this[_0x3dc200(0xff)]);this[_0x3dc200(0xe9)][_0x3dc200(0xd2)](..._0x2b3676);}}async[a187_0x1eab53(0x103)](_0x1c67a8){const _0x1f4909=a187_0x1eab53;this[_0x1f4909(0xe3)]?await this[_0x1f4909(0xc5)]['patch'](constants_1[_0x1f4909(0xf1)],this['branchId'],{[constants_1[_0x1f4909(0x101)]+_0x1f4909(0xc4)]:_0x1c67a8}):await this[_0x1f4909(0xc5)][_0x1f4909(0x10e)](constants_1['FLOSUM_REPOSITORY'],this[_0x1f4909(0xff)],{[constants_1[_0x1f4909(0x101)]+_0x1f4909(0xc4)]:_0x1c67a8});}[a187_0x1eab53(0xfe)](_0x25b7a0){const _0x1f2af0=a187_0x1eab53;this[_0x1f2af0(0xc7)]=_0x25b7a0;}[a187_0x1eab53(0xd1)](){const _0x23850f=a187_0x1eab53;return this[_0x23850f(0xc2)];}[a187_0x1eab53(0xf6)](){const _0x3e00c1=a187_0x1eab53;return this[_0x3e00c1(0xff)];}['getBranchId'](){return this['branchId'];}};GitCommitService=GitCommitService_1=__decorate([typedi_1[a187_0x1eab53(0x10b)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_git_sync_service_1[a187_0x1eab53(0xf7)],salesforce_rest_service_1[a187_0x1eab53(0x102)],salesforce_sync_service_1[a187_0x1eab53(0xda)],salesforce_service_1[a187_0x1eab53(0xce)]])],GitCommitService),exports[a187_0x1eab53(0xfd)]=GitCommitService;