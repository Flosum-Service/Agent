function a187_0x5542(){const _0x4777c9=['fileNames','getOwnPropertyDescriptor','catch','../../salesforce/services/salesforce-sync.service','branchId','name','9516136poMHlk','fetchBranchComponentsByFilenames','decorate','FLOSUM_REPOSITORY','toString','push','checkSyncStatus','length','getRepositoryId','SalesforceGitSyncService','createCommit','SalesforceService','__decorate','object','string','Synchronization_Status__c','Service','__esModule','logger','fileName','getRecordTypes','SalesforceRestService','updateStatus','getRepositoryRecordByName','type','getComponentRecordTypes','repositoryId','(((.+)+)+)+$','updateRemoteState','../../../constants','recordTypes','getRemoteStateAttachmentId','repository','includes','fetchComponentsMetadata','then','salesforceGitSync','salesforce','force','FLOSUM_BRANCH','search','fetchRepositoryComponents','getBranchRecordByName','componentsMetadata','295pkSItF','../../salesforce/services/salesforce-git-sync.service','9yvhIdT','4485762YsRqGZ','branch','fetchRepositoryOrBranchData','isPathsEquals','../../salesforce/services/salesforce.service','lastCommit','crc','setCommitDto','47060360tQTCKs','function','TASKS_PER_TICK','MDApiParser','retrieveAttachment','salesforceSync','master','gitCommit','793578mBumON','filter','salesforceRest','2RnuNjl','design:paramtypes','39548oifQwl','parse','repositoryGit','map','../utils/git-commit.utils','syncRecord','Logger','1322850KvilbJ','../../parsers/mdapi/parser','8840069QieanF','GitCommitService','../../salesforce/services/salesforce-rest.service','typedi','log','defineProperty','filePath','metadata','getBranchId','SalesforceSyncService','proceeding\x20file\x20%s','constructor'];a187_0x5542=function(){return _0x4777c9;};return a187_0x5542();}const a187_0xb21cea=a187_0x34c5;(function(_0x54374f,_0x159882){const _0xc3686f=a187_0x34c5,_0x4d8635=_0x54374f();while(!![]){try{const _0x57c668=parseInt(_0xc3686f(0x169))/0x1*(parseInt(_0xc3686f(0x166))/0x2)+-parseInt(_0xc3686f(0x1b5))/0x3+-parseInt(_0xc3686f(0x16b))/0x4*(parseInt(_0xc3686f(0x1b2))/0x5)+-parseInt(_0xc3686f(0x172))/0x6+-parseInt(_0xc3686f(0x174))/0x7+-parseInt(_0xc3686f(0x186))/0x8+-parseInt(_0xc3686f(0x1b4))/0x9*(-parseInt(_0xc3686f(0x15e))/0xa);if(_0x57c668===_0x159882)break;else _0x4d8635['push'](_0x4d8635['shift']());}catch(_0x33e307){_0x4d8635['push'](_0x4d8635['shift']());}}}(a187_0x5542,0xb6a88));const a187_0x2b9a86=(function(){let _0x5c5050=!![];return function(_0x61e5d5,_0x624daf){const _0x5daab7=_0x5c5050?function(){if(_0x624daf){const _0x1b6df6=_0x624daf['apply'](_0x61e5d5,arguments);return _0x624daf=null,_0x1b6df6;}}:function(){};return _0x5c5050=![],_0x5daab7;};}()),a187_0x1605a7=a187_0x2b9a86(this,function(){const _0x5a62f1=a187_0x34c5;return a187_0x1605a7[_0x5a62f1(0x18a)]()[_0x5a62f1(0x1ae)]('(((.+)+)+)+$')[_0x5a62f1(0x18a)]()[_0x5a62f1(0x17f)](a187_0x1605a7)[_0x5a62f1(0x1ae)](_0x5a62f1(0x1a1));});a187_0x1605a7();'use strict';var __decorate=this&&this[a187_0xb21cea(0x192)]||function(_0x1ffd85,_0x2b7157,_0xf10b75,_0xc5d5fe){const _0x303bdb=a187_0xb21cea;var _0x3248d1=arguments[_0x303bdb(0x18d)],_0x2081d6=_0x3248d1<0x3?_0x2b7157:_0xc5d5fe===null?_0xc5d5fe=Object[_0x303bdb(0x181)](_0x2b7157,_0xf10b75):_0xc5d5fe,_0x397ecb;if(typeof Reflect===_0x303bdb(0x193)&&typeof Reflect['decorate']===_0x303bdb(0x15f))_0x2081d6=Reflect[_0x303bdb(0x188)](_0x1ffd85,_0x2b7157,_0xf10b75,_0xc5d5fe);else{for(var _0x37d9c2=_0x1ffd85[_0x303bdb(0x18d)]-0x1;_0x37d9c2>=0x0;_0x37d9c2--)if(_0x397ecb=_0x1ffd85[_0x37d9c2])_0x2081d6=(_0x3248d1<0x3?_0x397ecb(_0x2081d6):_0x3248d1>0x3?_0x397ecb(_0x2b7157,_0xf10b75,_0x2081d6):_0x397ecb(_0x2b7157,_0xf10b75))||_0x2081d6;}return _0x3248d1>0x3&&_0x2081d6&&Object[_0x303bdb(0x179)](_0x2b7157,_0xf10b75,_0x2081d6),_0x2081d6;},__metadata=this&&this['__metadata']||function(_0x22acc7,_0x1c239c){const _0x2af4cc=a187_0xb21cea;if(typeof Reflect===_0x2af4cc(0x193)&&typeof Reflect['metadata']===_0x2af4cc(0x15f))return Reflect[_0x2af4cc(0x17b)](_0x22acc7,_0x1c239c);},GitCommitService_1;Object[a187_0xb21cea(0x179)](exports,a187_0xb21cea(0x197),{'value':!![]}),exports[a187_0xb21cea(0x175)]=void 0x0;const constants_1=require(a187_0xb21cea(0x1a3)),core_1=require('../../../core'),parser_1=require(a187_0xb21cea(0x173)),salesforce_git_sync_service_1=require(a187_0xb21cea(0x1b3)),salesforce_rest_service_1=require(a187_0xb21cea(0x176)),typedi_1=require(a187_0xb21cea(0x177)),salesforce_sync_service_1=require(a187_0xb21cea(0x183)),salesforce_service_1=require(a187_0xb21cea(0x15a)),git_commit_utils_1=require(a187_0xb21cea(0x16f));let GitCommitService=GitCommitService_1=class GitCommitService{constructor(_0x2ee7f7,_0x5a43ee,_0x384f15,_0x1042da){const _0x26842c=a187_0xb21cea;this[_0x26842c(0x1aa)]=_0x2ee7f7,this['salesforceRest']=_0x5a43ee,this['salesforceSync']=_0x384f15,this[_0x26842c(0x1ab)]=_0x1042da,this[_0x26842c(0x160)]=0xc8,this[_0x26842c(0x198)]=new core_1[(_0x26842c(0x171))](GitCommitService_1[_0x26842c(0x185)]);}get[a187_0xb21cea(0x1a0)](){var _0x5db61a;return((_0x5db61a=this['syncRecord'])===null||_0x5db61a===void 0x0?void 0x0:_0x5db61a['repositoryId'])||'';}get[a187_0xb21cea(0x184)](){const _0x3f8e8d=a187_0xb21cea;var _0x1604b7;return((_0x1604b7=this['syncRecord'])===null||_0x1604b7===void 0x0?void 0x0:_0x1604b7[_0x3f8e8d(0x184)])||'';}async['createCommit'](_0x125ef3){const _0x215d65=a187_0xb21cea;return this['salesforceGitSync'][_0x215d65(0x190)](_0x125ef3,this[_0x215d65(0x1a0)]);}async[a187_0xb21cea(0x18c)](_0x44286a){const _0x31d684=a187_0xb21cea;if(this[_0x31d684(0x170)]){const _0x18fecd=await this[_0x31d684(0x163)][_0x31d684(0x1a5)](this[_0x31d684(0x170)]),_0x204728=await this[_0x31d684(0x1ab)][_0x31d684(0x162)](_0x18fecd)[_0x31d684(0x1a9)](_0x476af9=>typeof _0x476af9===_0x31d684(0x194)?JSON[_0x31d684(0x16c)](_0x476af9):_0x476af9)[_0x31d684(0x182)](()=>({}));if(_0x204728[this['gitCommit'][_0x31d684(0x16d)]]){if(_0x204728[this[_0x31d684(0x165)][_0x31d684(0x16d)]][_0x31d684(0x15b)]===_0x44286a)return!![];}return![];}return![];}async[a187_0xb21cea(0x1a2)](_0x461e49){const _0x27edd1=a187_0xb21cea;this['syncRecord']&&await this[_0x27edd1(0x163)][_0x27edd1(0x1a2)](this[_0x27edd1(0x170)],_0x461e49);}async['proceedFile'](_0x159b5f,_0x45d7e4,_0x2185f4){const _0x525ea3=a187_0xb21cea;this[_0x525ea3(0x198)][_0x525ea3(0x178)](_0x525ea3(0x17e),_0x159b5f);const _0x38b231=this[_0x525ea3(0x1b1)]['filter'](_0x105945=>git_commit_utils_1[_0x525ea3(0x1b8)](_0x105945[_0x525ea3(0x199)],_0x159b5f)),_0x36b425=[],_0x3c4a3d=[],_0x36d214=[],_0x2cecf4=new parser_1[(_0x525ea3(0x161))](_0x45d7e4,[_0x159b5f],_0x2185f4),_0x43b04a=await _0x2cecf4[_0x525ea3(0x16c)](),_0x5e4c27=_0x43b04a[_0x525ea3(0x16e)](_0x4444bf=>{const _0x324495=_0x525ea3,_0x2890df=_0x38b231['find'](_0x42e895=>_0x42e895[_0x324495(0x185)]===_0x4444bf['name']&&_0x42e895[_0x324495(0x19e)]===_0x4444bf[_0x324495(0x19e)]);if(!_0x2890df){const _0x2afa14={'crc32':_0x4444bf['crc'],'fileName':_0x4444bf[_0x324495(0x17a)],'id':null,'version':0x1,'name':_0x4444bf[_0x324495(0x185)],'type':_0x4444bf[_0x324495(0x19e)]};return this[_0x324495(0x1b1)][_0x324495(0x18b)](_0x2afa14),_0x38b231[_0x324495(0x18b)](_0x2afa14),_0x36d214[_0x324495(0x18b)](_0x2afa14),_0x3c4a3d['push'](_0x4444bf),null;}_0x36d214[_0x324495(0x18b)](_0x2890df);if(_0x4444bf[_0x324495(0x15c)]===_0x2890df['crc32'])return null;return{'component':_0x4444bf,'meta':_0x2890df};})[_0x525ea3(0x167)](_0x1bbbc6=>!!_0x1bbbc6);_0x36b425[_0x525ea3(0x18b)](..._0x5e4c27);const _0x31d941=_0x38b231[_0x525ea3(0x167)](_0xc758c3=>!_0x36d214[_0x525ea3(0x1a7)](_0xc758c3));return this[_0x525ea3(0x1b1)]=this[_0x525ea3(0x1b1)][_0x525ea3(0x167)](_0x313791=>!_0x31d941[_0x525ea3(0x1a7)](_0x313791)),{'inserted':_0x3c4a3d,'modified':_0x36b425,'removed':_0x31d941[_0x525ea3(0x16e)](({id:_0x258f35,name:_0x31a0fd,type:_0x113f38})=>({'id':_0x258f35,'name':_0x31a0fd,'type':_0x113f38}))};}async[a187_0xb21cea(0x1b7)](){const _0x33c0ea=a187_0xb21cea;this[_0x33c0ea(0x170)]=this[_0x33c0ea(0x165)][_0x33c0ea(0x1b6)]===_0x33c0ea(0x164)?await this['salesforceSync'][_0x33c0ea(0x19d)](this['gitCommit'][_0x33c0ea(0x1a6)]):await this[_0x33c0ea(0x163)][_0x33c0ea(0x1b0)](this[_0x33c0ea(0x165)]['branch']),this[_0x33c0ea(0x1a4)]=await this[_0x33c0ea(0x1aa)][_0x33c0ea(0x19f)]();}async[a187_0xb21cea(0x1a8)](_0x5ded97){const _0x455f6f=a187_0xb21cea,_0x896da3=[...this[_0x455f6f(0x165)][_0x455f6f(0x180)]];if(this[_0x455f6f(0x165)][_0x455f6f(0x1ac)]||_0x5ded97){this[_0x455f6f(0x1b1)]=this[_0x455f6f(0x184)]?await this[_0x455f6f(0x1aa)]['fetchBranchComponents'](this[_0x455f6f(0x184)]):await this['salesforceGitSync'][_0x455f6f(0x1af)](this[_0x455f6f(0x1a0)]);return;}this[_0x455f6f(0x1b1)]=[];while(_0x896da3[_0x455f6f(0x18d)]){const _0x5b003c=_0x896da3['splice'](0x0,this[_0x455f6f(0x160)]),_0x4ecaa0=this[_0x455f6f(0x184)]?await this[_0x455f6f(0x1aa)][_0x455f6f(0x187)](_0x5b003c,this[_0x455f6f(0x184)]):await this[_0x455f6f(0x1aa)]['fetchRepositoryComponentsByFilenames'](_0x5b003c,this[_0x455f6f(0x1a0)]);this[_0x455f6f(0x1b1)][_0x455f6f(0x18b)](..._0x4ecaa0);}}async[a187_0xb21cea(0x19c)](_0x12e5c0){const _0x195694=a187_0xb21cea;this[_0x195694(0x184)]?await this[_0x195694(0x168)]['patch'](constants_1[_0x195694(0x1ad)],this[_0x195694(0x184)],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x195694(0x195)]:_0x12e5c0}):await this[_0x195694(0x168)]['patch'](constants_1[_0x195694(0x189)],this['repositoryId'],{[constants_1['FLOSUM_GIT_NAMESPACE']+_0x195694(0x195)]:_0x12e5c0});}[a187_0xb21cea(0x15d)](_0x38e047){const _0x5beabb=a187_0xb21cea;this[_0x5beabb(0x165)]=_0x38e047;}[a187_0xb21cea(0x19a)](){const _0x5ed16c=a187_0xb21cea;return this[_0x5ed16c(0x1a4)];}[a187_0xb21cea(0x18e)](){return this['repositoryId'];}[a187_0xb21cea(0x17c)](){const _0x5f4d2c=a187_0xb21cea;return this[_0x5f4d2c(0x184)];}};function a187_0x34c5(_0x54ccd0,_0x339958){const _0x542cdf=a187_0x5542();return a187_0x34c5=function(_0x1605a7,_0x2b9a86){_0x1605a7=_0x1605a7-0x15a;let _0x5542cb=_0x542cdf[_0x1605a7];return _0x5542cb;},a187_0x34c5(_0x54ccd0,_0x339958);}GitCommitService=GitCommitService_1=__decorate([typedi_1[a187_0xb21cea(0x196)]({'transient':!![]}),__metadata(a187_0xb21cea(0x16a),[salesforce_git_sync_service_1[a187_0xb21cea(0x18f)],salesforce_rest_service_1[a187_0xb21cea(0x19b)],salesforce_sync_service_1[a187_0xb21cea(0x17d)],salesforce_service_1[a187_0xb21cea(0x191)]])],GitCommitService),exports[a187_0xb21cea(0x175)]=GitCommitService;