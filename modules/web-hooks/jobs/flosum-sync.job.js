function a183_0x13df(_0x53fd48,_0x4a7296){const _0x507831=a183_0x35f9();return a183_0x13df=function(_0x897231,_0x4d364c){_0x897231=_0x897231-0x76;let _0x35f91e=_0x507831[_0x897231];return _0x35f91e;},a183_0x13df(_0x53fd48,_0x4a7296);}function a183_0x35f9(){const _0x26b290=['log','[INFO]\x20Update\x20remote\x20state.','1646518liOPXk','5bkYrgE','getComponentIds','Logger','createBranchIfNotExists','toString','branches','checkSyncStatus','DEFAULT_GIT_USER_EMAIL','getRemoteStateAttachmentId','../../../constants','metadata','setStatus','updateRemoteState','retrieveAttachment','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','../../salesforce/services/salesforce.service','branchId','components','constructor','function','2459954saDpBB','commitJob','user','repo','FlosumSyncJob','branch','../../salesforce/services/salesforce-retriever.service','repository','10218210SFZnXB','search','create','length','getComponents','3188601QHFdNc','syncData','salesforceSync','Service','\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','getCommitDto','getOne','./commit-components.job','send','catch','convertToSFDX','1952982gwGpVG','repositoryId','getBranchComponents','sfLogger','Completed','SalesforceSyncService','../../salesforce/services/salesforce-sync.service','force','salesforceService','run','__decorate','repositoryName','DEFAULT_GIT_USER_NAME','decorate','message','updateLastCommit','SalesforceRetrieverService','typedi','5753012LMmZQk','sha','CommitComponentsDto','object','gitUrl','logger','branchName','3630112WjkIjK','lastCommit','__metadata','getOwnPropertyDescriptor',']\x20[Branch:\x20','provider','SalesforceService','getComponentsFromRepository','name','CommitComponentsJob','__esModule','string'];a183_0x35f9=function(){return _0x26b290;};return a183_0x35f9();}const a183_0x4fe6c0=a183_0x13df;(function(_0x16735b,_0x238b37){const _0x12dc12=a183_0x13df,_0x406379=_0x16735b();while(!![]){try{const _0x1caa61=-parseInt(_0x12dc12(0x97))/0x1+parseInt(_0x12dc12(0xc4))/0x2+parseInt(_0x12dc12(0xb9))/0x3+parseInt(_0x12dc12(0x82))/0x4+parseInt(_0x12dc12(0x98))/0x5*(-parseInt(_0x12dc12(0xb4))/0x6)+parseInt(_0x12dc12(0xac))/0x7+parseInt(_0x12dc12(0x89))/0x8;if(_0x1caa61===_0x238b37)break;else _0x406379['push'](_0x406379['shift']());}catch(_0x206092){_0x406379['push'](_0x406379['shift']());}}}(a183_0x35f9,0xe3d7c));const a183_0x4d364c=(function(){let _0x54801b=!![];return function(_0x525a02,_0x49163f){const _0x1a9d09=_0x54801b?function(){if(_0x49163f){const _0x147e8d=_0x49163f['apply'](_0x525a02,arguments);return _0x49163f=null,_0x147e8d;}}:function(){};return _0x54801b=![],_0x1a9d09;};}()),a183_0x897231=a183_0x4d364c(this,function(){const _0x2395db=a183_0x13df;return a183_0x897231[_0x2395db(0x9c)]()[_0x2395db(0xb5)]('(((.+)+)+)+$')[_0x2395db(0x9c)]()[_0x2395db(0xaa)](a183_0x897231)[_0x2395db(0xb5)]('(((.+)+)+)+$');});a183_0x897231();'use strict';var __decorate=this&&this[a183_0x4fe6c0(0x7a)]||function(_0x28d912,_0x3190f1,_0x1258f1,_0x529d3b){const _0x22c7bb=a183_0x4fe6c0;var _0x376dad=arguments[_0x22c7bb(0xb7)],_0x2be8c6=_0x376dad<0x3?_0x3190f1:_0x529d3b===null?_0x529d3b=Object[_0x22c7bb(0x8c)](_0x3190f1,_0x1258f1):_0x529d3b,_0x3b8f49;if(typeof Reflect===_0x22c7bb(0x85)&&typeof Reflect[_0x22c7bb(0x7d)]===_0x22c7bb(0xab))_0x2be8c6=Reflect[_0x22c7bb(0x7d)](_0x28d912,_0x3190f1,_0x1258f1,_0x529d3b);else{for(var _0x55a23c=_0x28d912[_0x22c7bb(0xb7)]-0x1;_0x55a23c>=0x0;_0x55a23c--)if(_0x3b8f49=_0x28d912[_0x55a23c])_0x2be8c6=(_0x376dad<0x3?_0x3b8f49(_0x2be8c6):_0x376dad>0x3?_0x3b8f49(_0x3190f1,_0x1258f1,_0x2be8c6):_0x3b8f49(_0x3190f1,_0x1258f1))||_0x2be8c6;}return _0x376dad>0x3&&_0x2be8c6&&Object['defineProperty'](_0x3190f1,_0x1258f1,_0x2be8c6),_0x2be8c6;},__metadata=this&&this[a183_0x4fe6c0(0x8b)]||function(_0x26328f,_0x363893){const _0x5aeb06=a183_0x4fe6c0;if(typeof Reflect===_0x5aeb06(0x85)&&typeof Reflect[_0x5aeb06(0xa2)]===_0x5aeb06(0xab))return Reflect[_0x5aeb06(0xa2)](_0x26328f,_0x363893);},FlosumSyncJob_1;Object['defineProperty'](exports,a183_0x4fe6c0(0x93),{'value':!![]}),exports[a183_0x4fe6c0(0xb0)]=void 0x0;const core_1=require('../../../core'),salesforce_logger_v2_service_1=require('../../salesforce/services/salesforce-logger-v2.service'),typedi_1=require(a183_0x4fe6c0(0x81)),constants_1=require(a183_0x4fe6c0(0xa1)),salesforce_retriever_service_1=require(a183_0x4fe6c0(0xb2)),salesforce_sync_service_1=require(a183_0x4fe6c0(0x76)),salesforce_service_1=require(a183_0x4fe6c0(0xa7)),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a183_0x4fe6c0(0xc0));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x5f0a00,_0x1a4f13,_0x135c1e){const _0x2a3f86=a183_0x4fe6c0;this[_0x2a3f86(0xbb)]=_0x5f0a00,this[_0x2a3f86(0x78)]=_0x1a4f13,this['commitJob']=_0x135c1e,this[_0x2a3f86(0x87)]=new core_1[(_0x2a3f86(0x9a))](FlosumSyncJob_1[_0x2a3f86(0x91)]);}['log'](_0x2968ea){const _0x2216da=a183_0x4fe6c0;return this['sfLogger']['log'](_0x2216da(0xa6)+this[_0x2216da(0xba)][_0x2216da(0x7b)]+_0x2216da(0x8d)+this['syncData']['branchName']+']\x20'+_0x2968ea);}async[a183_0x4fe6c0(0x9b)](){const _0x33a28d=a183_0x4fe6c0;let _0xe945f3=await this[_0x33a28d(0xb3)][_0x33a28d(0x9d)][_0x33a28d(0xbf)](this[_0x33a28d(0xba)][_0x33a28d(0x88)])[_0x33a28d(0xc2)](()=>null);!_0xe945f3&&(_0xe945f3=await this[_0x33a28d(0xb3)]['branches'][_0x33a28d(0xb6)]({'name':this[_0x33a28d(0xba)][_0x33a28d(0x88)]})),this['branch']=_0xe945f3;}async[a183_0x4fe6c0(0x99)](){const _0x5655e7=a183_0x4fe6c0;return this[_0x5655e7(0xba)]['repositoryId']?this[_0x5655e7(0xbb)][_0x5655e7(0x90)](this[_0x5655e7(0xba)][_0x5655e7(0xc5)]):this[_0x5655e7(0xbb)][_0x5655e7(0xc6)](this['syncData'][_0x5655e7(0xa8)]);}async[a183_0x4fe6c0(0xb8)](){const _0x5d8a85=a183_0x4fe6c0,_0x1b2b25=await this['getComponentIds'](),_0x48e2c1=new salesforce_retriever_service_1[(_0x5d8a85(0x80))](this['salesforceService']),_0x1787a6=await _0x48e2c1[_0x5d8a85(0x79)](_0x1b2b25);return _0x1787a6;}async[a183_0x4fe6c0(0xbe)](_0x32adf7){const _0x5889a2=a183_0x4fe6c0,_0x2c94cf=new commit_components_dto_1[(_0x5889a2(0x84))]();return _0x2c94cf[_0x5889a2(0x7e)]='Sync\x20repository',_0x2c94cf[_0x5889a2(0xae)]={'name':constants_1[_0x5889a2(0x7c)],'email':constants_1[_0x5889a2(0x9f)]},_0x2c94cf[_0x5889a2(0xa9)]={'writed':await this[_0x5889a2(0xb8)]()},_0x2c94cf[_0x5889a2(0xc3)]=_0x32adf7,_0x2c94cf[_0x5889a2(0xaf)]=this[_0x5889a2(0xb3)],_0x2c94cf[_0x5889a2(0xb1)]=this['branch'],_0x2c94cf[_0x5889a2(0x77)]=!![],_0x2c94cf[_0x5889a2(0x8e)]=this['provider'],_0x2c94cf;}async[a183_0x4fe6c0(0x9e)](){const _0x1b9c30=a183_0x4fe6c0,_0x1ef258=await this[_0x1b9c30(0xbb)][_0x1b9c30(0xa0)](this[_0x1b9c30(0xba)]),_0xcd4085=await this[_0x1b9c30(0x78)][_0x1b9c30(0xa5)](_0x1ef258)['then'](_0x478c57=>typeof _0x478c57===_0x1b9c30(0x94)?JSON['parse'](_0x478c57):_0x478c57)[_0x1b9c30(0xc2)](()=>({}));if(_0xcd4085[this[_0x1b9c30(0xb3)][_0x1b9c30(0x86)]]){if(_0xcd4085[this[_0x1b9c30(0xb3)][_0x1b9c30(0x86)]][_0x1b9c30(0x8a)]===this[_0x1b9c30(0xb1)]['sha'])return!![];}return![];}async[a183_0x4fe6c0(0x7f)](){const _0xa2462=a183_0x4fe6c0,_0x346269=await this['repository'][_0xa2462(0x9d)][_0xa2462(0xbf)](this[_0xa2462(0xb1)]['name']);await this['log'](_0xa2462(0x96));const _0x8debe3={[this[_0xa2462(0xb3)][_0xa2462(0x86)]]:{'lastCommit':_0x346269[_0xa2462(0x83)]}};await this['salesforceSync'][_0xa2462(0xa4)](this[_0xa2462(0xba)],_0x8debe3);}async[a183_0x4fe6c0(0x79)]({syncRecord:_0x1efa3e,repository:_0xb8b010,logger:_0x1eb89e,convertToSFDX:_0x58365d,provider:_0x2e099b}){const _0xf16da6=a183_0x4fe6c0;this['syncData']=_0x1efa3e,this['provider']=_0x2e099b,this[_0xf16da6(0xb3)]=_0xb8b010,this[_0xf16da6(0xc7)]=new salesforce_logger_v2_service_1['SalesforceLogger2'](_0x1eb89e['getLoggerId'](),_0x1eb89e['getPrefix']()+_0xf16da6(0xbd)+this[_0xf16da6(0xba)][_0xf16da6(0x7b)]+_0xf16da6(0x8d)+this[_0xf16da6(0xba)][_0xf16da6(0x88)]+']');try{await this[_0xf16da6(0xbb)]['setStatus'](this[_0xf16da6(0xba)],'In\x20Progress'),this['log']('[INFO]\x20Start\x20sync\x20job'),await this['createBranchIfNotExists']();const _0x12280a=await this[_0xf16da6(0x9e)]();if(_0x12280a){await this['salesforceSync'][_0xf16da6(0xa3)](this['syncData'],_0xf16da6(0xc8)),await this[_0xf16da6(0x95)]('[INFO]\x20Branch\x20synchronized.\x20Skip')['send']();return;}const _0x33fd19=await this[_0xf16da6(0xbe)](_0x58365d);await this[_0xf16da6(0xad)]['run'](_0x33fd19,this[_0xf16da6(0xc7)]),await this[_0xf16da6(0xbb)][_0xf16da6(0xa3)](this['syncData'],_0xf16da6(0xc8)),await this[_0xf16da6(0x7f)](),this[_0xf16da6(0x95)]('[INFO]\x20Sync\x20job\x20done.');}catch(_0x267fcf){throw _0x267fcf;}finally{await this[_0xf16da6(0xc7)][_0xf16da6(0xc1)]();}}};FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1[a183_0x4fe6c0(0xbc)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_sync_service_1[a183_0x4fe6c0(0xc9)],salesforce_service_1[a183_0x4fe6c0(0x8f)],commit_components_job_1[a183_0x4fe6c0(0x92)]])],FlosumSyncJob),exports[a183_0x4fe6c0(0xb0)]=FlosumSyncJob;