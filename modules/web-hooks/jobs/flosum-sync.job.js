function a182_0xbd65(){const _0x543a19=['parse','catch','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','force','length','checkSyncStatus','setStatus','createBranchIfNotExists','Sync\x20repository','name','../../salesforce/services/salesforce-logger-v2.service','SalesforceService','typedi','commitJob','user','branchName','log','395222bscXcM','__esModule','components','getComponentsFromRepository','[INFO]\x20Start\x20sync\x20job','getBranchComponents','repository','convertToSFDX','getComponents','6060272piEUjB','FlosumSyncJob','Logger','42dVwtPv','Service','(((.+)+)+)+$','branches','../../salesforce/services/salesforce.service','provider','repositoryName','997144sGxMIu','syncData','getPrefix',']\x20[Branch:\x20','\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','salesforceSync','send','updateRemoteState','[INFO]\x20Update\x20remote\x20state.','sfLogger','run','message','980724zTzUoF','getCommitDto','object','apply','../../../core','branch','SalesforceLogger2','433848hqVTSm','function','../dto/commit-components.dto','then','defineProperty','__metadata','[INFO]\x20Branch\x20synchronized.\x20Skip','repo','15778pLFbcv','gitUrl','branchId','getRemoteStateAttachmentId','search','getOne','salesforceService','CommitComponentsJob','getOwnPropertyDescriptor','In\x20Progress','SalesforceRetrieverService','CommitComponentsDto','retrieveAttachment','logger','updateLastCommit','sha','string','metadata','../../salesforce/services/salesforce-retriever.service','getLoggerId','design:paramtypes','decorate','toString','DEFAULT_GIT_USER_EMAIL','[INFO]\x20Sync\x20job\x20done.','2122500nxucuE'];a182_0xbd65=function(){return _0x543a19;};return a182_0xbd65();}function a182_0x1091(_0x1ac805,_0x161732){const _0x172ae4=a182_0xbd65();return a182_0x1091=function(_0x2a05d8,_0x3beaa5){_0x2a05d8=_0x2a05d8-0xe7;let _0xbd6507=_0x172ae4[_0x2a05d8];return _0xbd6507;},a182_0x1091(_0x1ac805,_0x161732);}const a182_0x15585b=a182_0x1091;(function(_0x55e7e0,_0x49bf98){const _0x21e5bd=a182_0x1091,_0x464db5=_0x55e7e0();while(!![]){try{const _0x53010d=parseInt(_0x21e5bd(0xeb))/0x1+parseInt(_0x21e5bd(0x119))/0x2+-parseInt(_0x21e5bd(0x10a))/0x3+parseInt(_0x21e5bd(0xfe))/0x4+-parseInt(_0x21e5bd(0x132))/0x5+-parseInt(_0x21e5bd(0x111))/0x6*(parseInt(_0x21e5bd(0xf7))/0x7)+parseInt(_0x21e5bd(0xf4))/0x8;if(_0x53010d===_0x49bf98)break;else _0x464db5['push'](_0x464db5['shift']());}catch(_0x43cd1a){_0x464db5['push'](_0x464db5['shift']());}}}(a182_0xbd65,0x36da3));const a182_0x3beaa5=(function(){let _0x118bc3=!![];return function(_0x13afb9,_0x3e227e){const _0x100c19=_0x118bc3?function(){const _0x17675f=a182_0x1091;if(_0x3e227e){const _0x3770a2=_0x3e227e[_0x17675f(0x10d)](_0x13afb9,arguments);return _0x3e227e=null,_0x3770a2;}}:function(){};return _0x118bc3=![],_0x100c19;};}()),a182_0x2a05d8=a182_0x3beaa5(this,function(){const _0x53b927=a182_0x1091;return a182_0x2a05d8[_0x53b927(0x12f)]()[_0x53b927(0x11d)](_0x53b927(0xf9))[_0x53b927(0x12f)]()['constructor'](a182_0x2a05d8)[_0x53b927(0x11d)]('(((.+)+)+)+$');});a182_0x2a05d8();'use strict';var __decorate=this&&this['__decorate']||function(_0x2d1b04,_0x357efb,_0x9112da,_0x4f27a8){const _0x5a5d9f=a182_0x1091;var _0x2fe0b0=arguments[_0x5a5d9f(0x137)],_0x230eb6=_0x2fe0b0<0x3?_0x357efb:_0x4f27a8===null?_0x4f27a8=Object[_0x5a5d9f(0x121)](_0x357efb,_0x9112da):_0x4f27a8,_0x4787af;if(typeof Reflect===_0x5a5d9f(0x10c)&&typeof Reflect['decorate']===_0x5a5d9f(0x112))_0x230eb6=Reflect[_0x5a5d9f(0x12e)](_0x2d1b04,_0x357efb,_0x9112da,_0x4f27a8);else{for(var _0xe73a81=_0x2d1b04[_0x5a5d9f(0x137)]-0x1;_0xe73a81>=0x0;_0xe73a81--)if(_0x4787af=_0x2d1b04[_0xe73a81])_0x230eb6=(_0x2fe0b0<0x3?_0x4787af(_0x230eb6):_0x2fe0b0>0x3?_0x4787af(_0x357efb,_0x9112da,_0x230eb6):_0x4787af(_0x357efb,_0x9112da))||_0x230eb6;}return _0x2fe0b0>0x3&&_0x230eb6&&Object[_0x5a5d9f(0x115)](_0x357efb,_0x9112da,_0x230eb6),_0x230eb6;},__metadata=this&&this[a182_0x15585b(0x116)]||function(_0x2d0a5b,_0x427598){const _0x158042=a182_0x15585b;if(typeof Reflect===_0x158042(0x10c)&&typeof Reflect['metadata']===_0x158042(0x112))return Reflect[_0x158042(0x12a)](_0x2d0a5b,_0x427598);},FlosumSyncJob_1;Object[a182_0x15585b(0x115)](exports,a182_0x15585b(0xec),{'value':!![]}),exports[a182_0x15585b(0xf5)]=void 0x0;const core_1=require(a182_0x15585b(0x10e)),salesforce_logger_v2_service_1=require(a182_0x15585b(0x13d)),typedi_1=require(a182_0x15585b(0x13f)),constants_1=require('../../../constants'),salesforce_retriever_service_1=require(a182_0x15585b(0x12b)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require(a182_0x15585b(0xfb)),commit_components_dto_1=require(a182_0x15585b(0x113)),commit_components_job_1=require('./commit-components.job');let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x28438f,_0x383c07,_0x3a63f4){const _0x2b9578=a182_0x15585b;this[_0x2b9578(0x103)]=_0x28438f,this[_0x2b9578(0x11f)]=_0x383c07,this[_0x2b9578(0xe7)]=_0x3a63f4,this[_0x2b9578(0x126)]=new core_1[(_0x2b9578(0xf6))](FlosumSyncJob_1[_0x2b9578(0x13c)]);}['log'](_0x4bbac3){const _0x2cb5cf=a182_0x15585b;return this[_0x2cb5cf(0x107)][_0x2cb5cf(0xea)](_0x2cb5cf(0x135)+this['syncData'][_0x2cb5cf(0xfd)]+_0x2cb5cf(0x101)+this[_0x2cb5cf(0xff)]['branchName']+']\x20'+_0x4bbac3);}async[a182_0x15585b(0x13a)](){const _0x5c9d98=a182_0x15585b;let _0x5d3a7f=await this[_0x5c9d98(0xf1)][_0x5c9d98(0xfa)][_0x5c9d98(0x11e)](this[_0x5c9d98(0xff)]['branchName'])[_0x5c9d98(0x134)](()=>null);!_0x5d3a7f&&(_0x5d3a7f=await this[_0x5c9d98(0xf1)][_0x5c9d98(0xfa)]['create']({'name':this[_0x5c9d98(0xff)]['branchName']})),this[_0x5c9d98(0x10f)]=_0x5d3a7f;}async['getComponentIds'](){const _0x4156e2=a182_0x15585b;return this[_0x4156e2(0xff)]['repositoryId']?this[_0x4156e2(0x103)][_0x4156e2(0xee)](this[_0x4156e2(0xff)]['repositoryId']):this[_0x4156e2(0x103)][_0x4156e2(0xf0)](this[_0x4156e2(0xff)][_0x4156e2(0x11b)]);}async['getComponents'](){const _0x5563f6=a182_0x15585b,_0x316ce0=await this['getComponentIds'](),_0x506b34=new salesforce_retriever_service_1[(_0x5563f6(0x123))](this[_0x5563f6(0x11f)]),_0x4776e8=await _0x506b34[_0x5563f6(0x108)](_0x316ce0);return _0x4776e8;}async[a182_0x15585b(0x10b)](_0x2f5156){const _0xb8acc1=a182_0x15585b,_0x37ada2=new commit_components_dto_1[(_0xb8acc1(0x124))]();return _0x37ada2[_0xb8acc1(0x109)]=_0xb8acc1(0x13b),_0x37ada2[_0xb8acc1(0xe8)]={'name':constants_1['DEFAULT_GIT_USER_NAME'],'email':constants_1[_0xb8acc1(0x130)]},_0x37ada2[_0xb8acc1(0xed)]={'writed':await this[_0xb8acc1(0xf3)]()},_0x37ada2[_0xb8acc1(0xf2)]=_0x2f5156,_0x37ada2[_0xb8acc1(0x118)]=this[_0xb8acc1(0xf1)],_0x37ada2[_0xb8acc1(0x10f)]=this[_0xb8acc1(0x10f)],_0x37ada2[_0xb8acc1(0x136)]=!![],_0x37ada2[_0xb8acc1(0xfc)]=this[_0xb8acc1(0xfc)],_0x37ada2;}async[a182_0x15585b(0x138)](){const _0x496d6a=a182_0x15585b,_0x14e395=await this[_0x496d6a(0x103)][_0x496d6a(0x11c)](this['syncData']),_0x561001=await this[_0x496d6a(0x11f)][_0x496d6a(0x125)](_0x14e395)[_0x496d6a(0x114)](_0x523469=>typeof _0x523469===_0x496d6a(0x129)?JSON[_0x496d6a(0x133)](_0x523469):_0x523469)['catch'](()=>({}));if(_0x561001[this['repository'][_0x496d6a(0x11a)]]){if(_0x561001[this[_0x496d6a(0xf1)]['gitUrl']]['lastCommit']===this['branch'][_0x496d6a(0x128)])return!![];}return![];}async[a182_0x15585b(0x127)](){const _0x107304=a182_0x15585b,_0x105951=await this['repository'][_0x107304(0xfa)][_0x107304(0x11e)](this[_0x107304(0x10f)]['name']);await this[_0x107304(0xea)](_0x107304(0x106));const _0x370269={[this[_0x107304(0xf1)][_0x107304(0x11a)]]:{'lastCommit':_0x105951[_0x107304(0x128)]}};await this[_0x107304(0x103)][_0x107304(0x105)](this[_0x107304(0xff)],_0x370269);}async[a182_0x15585b(0x108)]({syncRecord:_0x5ae93a,repository:_0x4b4b0f,logger:_0x277da2,convertToSFDX:_0x297bde,provider:_0x2352a1}){const _0x3a8098=a182_0x15585b;this['syncData']=_0x5ae93a,this[_0x3a8098(0xfc)]=_0x2352a1,this[_0x3a8098(0xf1)]=_0x4b4b0f,this[_0x3a8098(0x107)]=new salesforce_logger_v2_service_1[(_0x3a8098(0x110))](_0x277da2[_0x3a8098(0x12c)](),_0x277da2[_0x3a8098(0x100)]()+_0x3a8098(0x102)+this[_0x3a8098(0xff)]['repositoryName']+_0x3a8098(0x101)+this[_0x3a8098(0xff)][_0x3a8098(0xe9)]+']');try{await this[_0x3a8098(0x103)]['setStatus'](this[_0x3a8098(0xff)],_0x3a8098(0x122)),this[_0x3a8098(0xea)](_0x3a8098(0xef)),await this['createBranchIfNotExists']();const _0x3171e1=await this[_0x3a8098(0x138)]();if(_0x3171e1){await this[_0x3a8098(0x103)][_0x3a8098(0x139)](this[_0x3a8098(0xff)],'Completed'),await this['log'](_0x3a8098(0x117))[_0x3a8098(0x104)]();return;}const _0x448952=await this[_0x3a8098(0x10b)](_0x297bde);await this[_0x3a8098(0xe7)][_0x3a8098(0x108)](_0x448952,this[_0x3a8098(0x107)]),await this[_0x3a8098(0x103)][_0x3a8098(0x139)](this[_0x3a8098(0xff)],'Completed'),await this[_0x3a8098(0x127)](),this[_0x3a8098(0xea)](_0x3a8098(0x131));}catch(_0x48189d){throw _0x48189d;}finally{await this[_0x3a8098(0x107)][_0x3a8098(0x104)]();}}};FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1[a182_0x15585b(0xf8)]({'transient':!![]}),__metadata(a182_0x15585b(0x12d),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a182_0x15585b(0x13e)],commit_components_job_1[a182_0x15585b(0x120)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;