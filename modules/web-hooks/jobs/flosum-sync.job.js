function a182_0x1ce1(_0x2a4f1f,_0x19277e){const _0x22a8d0=a182_0x1f75();return a182_0x1ce1=function(_0x363095,_0x1faa4c){_0x363095=_0x363095-0x108;let _0x1f75b0=_0x22a8d0[_0x363095];return _0x1f75b0;},a182_0x1ce1(_0x2a4f1f,_0x19277e);}const a182_0x2dd6bd=a182_0x1ce1;(function(_0x211679,_0x34a4e7){const _0x268ab4=a182_0x1ce1,_0x101aa0=_0x211679();while(!![]){try{const _0x5c4bac=parseInt(_0x268ab4(0x116))/0x1*(parseInt(_0x268ab4(0x14b))/0x2)+parseInt(_0x268ab4(0x15d))/0x3*(parseInt(_0x268ab4(0x15f))/0x4)+-parseInt(_0x268ab4(0x155))/0x5*(parseInt(_0x268ab4(0x149))/0x6)+parseInt(_0x268ab4(0x12b))/0x7+parseInt(_0x268ab4(0x118))/0x8*(-parseInt(_0x268ab4(0x110))/0x9)+parseInt(_0x268ab4(0x11d))/0xa*(parseInt(_0x268ab4(0x156))/0xb)+-parseInt(_0x268ab4(0x130))/0xc;if(_0x5c4bac===_0x34a4e7)break;else _0x101aa0['push'](_0x101aa0['shift']());}catch(_0x312198){_0x101aa0['push'](_0x101aa0['shift']());}}}(a182_0x1f75,0xbcb4f));const a182_0x1faa4c=(function(){let _0x21a37d=!![];return function(_0x5687a2,_0x4b954d){const _0x372d61=_0x21a37d?function(){if(_0x4b954d){const _0x14a170=_0x4b954d['apply'](_0x5687a2,arguments);return _0x4b954d=null,_0x14a170;}}:function(){};return _0x21a37d=![],_0x372d61;};}()),a182_0x363095=a182_0x1faa4c(this,function(){const _0xe29257=a182_0x1ce1;return a182_0x363095[_0xe29257(0x109)]()[_0xe29257(0x114)](_0xe29257(0x122))[_0xe29257(0x109)]()['constructor'](a182_0x363095)[_0xe29257(0x114)](_0xe29257(0x122));});a182_0x363095();function a182_0x1f75(){const _0x2bcbe8=['DEFAULT_GIT_USER_EMAIL','name','Completed','getComponents','getComponentIds','SalesforceLogger2','58458MiFYyc','branches','2583114OJaCGW','SalesforceRetrieverService','./commit-components.job','defineProperty','getOne','../../salesforce/services/salesforce-retriever.service','[INFO]\x20Sync\x20job\x20done.','retrieveAttachment','getBranchComponents','getCommitDto','65LXmYEb','33fhQdMH','lastCommit','CommitComponentsJob','branchName','branchId','sha','design:paramtypes','388023qvDfRV','gitUrl','8kINJcv','branch','__esModule','toString','string','convertToSFDX',']\x20[Branch:\x20','run','typedi','repo','293841EZhsXe','updateRemoteState','../../../core','catch','search','repository','1IfPwzL','salesforceSync','328iKrvJq','setStatus','__metadata','log','DEFAULT_GIT_USER_NAME','2416510cCnaXP','[INFO]\x20Update\x20remote\x20state.','sfLogger','[INFO]\x20Branch\x20synchronized.\x20Skip','user','(((.+)+)+)+$','getComponentsFromRepository','parse','SalesforceService','../../salesforce/services/salesforce-logger-v2.service','salesforceService','logger','decorate','provider','6395683TakZim','FlosumSyncJob','then','__decorate','metadata','11407800wrjJSj','../../salesforce/services/salesforce-sync.service','message','[INFO]\x20Start\x20sync\x20job','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','CommitComponentsDto','syncData','function','repositoryId','Logger','getRemoteStateAttachmentId','updateLastCommit','checkSyncStatus','send','In\x20Progress','force','../dto/commit-components.dto','repositoryName','createBranchIfNotExists'];a182_0x1f75=function(){return _0x2bcbe8;};return a182_0x1f75();}'use strict';var __decorate=this&&this[a182_0x2dd6bd(0x12e)]||function(_0x5e92b7,_0x1218e0,_0x54cab6,_0x2a54a2){const _0x4f6a30=a182_0x2dd6bd;var _0x644933=arguments['length'],_0x32677e=_0x644933<0x3?_0x1218e0:_0x2a54a2===null?_0x2a54a2=Object['getOwnPropertyDescriptor'](_0x1218e0,_0x54cab6):_0x2a54a2,_0x27778d;if(typeof Reflect==='object'&&typeof Reflect[_0x4f6a30(0x129)]===_0x4f6a30(0x137))_0x32677e=Reflect[_0x4f6a30(0x129)](_0x5e92b7,_0x1218e0,_0x54cab6,_0x2a54a2);else{for(var _0x563fea=_0x5e92b7['length']-0x1;_0x563fea>=0x0;_0x563fea--)if(_0x27778d=_0x5e92b7[_0x563fea])_0x32677e=(_0x644933<0x3?_0x27778d(_0x32677e):_0x644933>0x3?_0x27778d(_0x1218e0,_0x54cab6,_0x32677e):_0x27778d(_0x1218e0,_0x54cab6))||_0x32677e;}return _0x644933>0x3&&_0x32677e&&Object[_0x4f6a30(0x14e)](_0x1218e0,_0x54cab6,_0x32677e),_0x32677e;},__metadata=this&&this[a182_0x2dd6bd(0x11a)]||function(_0x49c788,_0x500ff5){const _0x539de8=a182_0x2dd6bd;if(typeof Reflect==='object'&&typeof Reflect[_0x539de8(0x12f)]===_0x539de8(0x137))return Reflect[_0x539de8(0x12f)](_0x49c788,_0x500ff5);},FlosumSyncJob_1;Object['defineProperty'](exports,a182_0x2dd6bd(0x108),{'value':!![]}),exports[a182_0x2dd6bd(0x12c)]=void 0x0;const core_1=require(a182_0x2dd6bd(0x112)),salesforce_logger_v2_service_1=require(a182_0x2dd6bd(0x126)),typedi_1=require(a182_0x2dd6bd(0x10e)),constants_1=require('../../../constants'),salesforce_retriever_service_1=require(a182_0x2dd6bd(0x150)),salesforce_sync_service_1=require(a182_0x2dd6bd(0x131)),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require(a182_0x2dd6bd(0x140)),commit_components_job_1=require(a182_0x2dd6bd(0x14d));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x264c8,_0x819289,_0x187226){const _0x41dc55=a182_0x2dd6bd;this['salesforceSync']=_0x264c8,this[_0x41dc55(0x127)]=_0x819289,this['commitJob']=_0x187226,this[_0x41dc55(0x128)]=new core_1[(_0x41dc55(0x139))](FlosumSyncJob_1[_0x41dc55(0x144)]);}['log'](_0x36e565){const _0x257f48=a182_0x2dd6bd;return this[_0x257f48(0x11f)]['log'](_0x257f48(0x134)+this[_0x257f48(0x136)][_0x257f48(0x141)]+_0x257f48(0x10c)+this[_0x257f48(0x136)][_0x257f48(0x159)]+']\x20'+_0x36e565);}async[a182_0x2dd6bd(0x142)](){const _0x14b540=a182_0x2dd6bd;let _0x4bcbec=await this[_0x14b540(0x115)][_0x14b540(0x14a)][_0x14b540(0x14f)](this['syncData'][_0x14b540(0x159)])[_0x14b540(0x113)](()=>null);!_0x4bcbec&&(_0x4bcbec=await this[_0x14b540(0x115)][_0x14b540(0x14a)]['create']({'name':this['syncData']['branchName']})),this['branch']=_0x4bcbec;}async[a182_0x2dd6bd(0x147)](){const _0x491efb=a182_0x2dd6bd;return this[_0x491efb(0x136)][_0x491efb(0x138)]?this[_0x491efb(0x117)][_0x491efb(0x123)](this['syncData']['repositoryId']):this['salesforceSync'][_0x491efb(0x153)](this['syncData'][_0x491efb(0x15a)]);}async[a182_0x2dd6bd(0x146)](){const _0x58d76f=a182_0x2dd6bd,_0x1f6024=await this[_0x58d76f(0x147)](),_0x37312f=new salesforce_retriever_service_1[(_0x58d76f(0x14c))](this['salesforceService']),_0x2451c2=await _0x37312f[_0x58d76f(0x10d)](_0x1f6024);return _0x2451c2;}async[a182_0x2dd6bd(0x154)](_0x54a2d0){const _0x4d83cc=a182_0x2dd6bd,_0x2c627a=new commit_components_dto_1[(_0x4d83cc(0x135))]();return _0x2c627a[_0x4d83cc(0x132)]='Sync\x20repository',_0x2c627a[_0x4d83cc(0x121)]={'name':constants_1[_0x4d83cc(0x11c)],'email':constants_1[_0x4d83cc(0x143)]},_0x2c627a['components']={'writed':await this[_0x4d83cc(0x146)]()},_0x2c627a[_0x4d83cc(0x10b)]=_0x54a2d0,_0x2c627a[_0x4d83cc(0x10f)]=this[_0x4d83cc(0x115)],_0x2c627a['branch']=this[_0x4d83cc(0x160)],_0x2c627a[_0x4d83cc(0x13f)]=!![],_0x2c627a[_0x4d83cc(0x12a)]=this['provider'],_0x2c627a;}async[a182_0x2dd6bd(0x13c)](){const _0x27e941=a182_0x2dd6bd,_0x3ea6bc=await this[_0x27e941(0x117)][_0x27e941(0x13a)](this[_0x27e941(0x136)]),_0x565454=await this[_0x27e941(0x127)][_0x27e941(0x152)](_0x3ea6bc)[_0x27e941(0x12d)](_0x3800f9=>typeof _0x3800f9===_0x27e941(0x10a)?JSON[_0x27e941(0x124)](_0x3800f9):_0x3800f9)[_0x27e941(0x113)](()=>({}));if(_0x565454[this[_0x27e941(0x115)]['gitUrl']]){if(_0x565454[this[_0x27e941(0x115)][_0x27e941(0x15e)]][_0x27e941(0x157)]===this[_0x27e941(0x160)]['sha'])return!![];}return![];}async[a182_0x2dd6bd(0x13b)](){const _0x407769=a182_0x2dd6bd,_0x4e27da=await this[_0x407769(0x115)][_0x407769(0x14a)][_0x407769(0x14f)](this['branch'][_0x407769(0x144)]);await this['log'](_0x407769(0x11e));const _0x2776a9={[this[_0x407769(0x115)]['gitUrl']]:{'lastCommit':_0x4e27da[_0x407769(0x15b)]}};await this['salesforceSync'][_0x407769(0x111)](this[_0x407769(0x136)],_0x2776a9);}async[a182_0x2dd6bd(0x10d)]({syncRecord:_0x14d9ec,repository:_0x29f878,logger:_0x254e3e,convertToSFDX:_0x2c2eb8,provider:_0x1e0d2f}){const _0x40464d=a182_0x2dd6bd;this[_0x40464d(0x136)]=_0x14d9ec,this[_0x40464d(0x12a)]=_0x1e0d2f,this[_0x40464d(0x115)]=_0x29f878,this[_0x40464d(0x11f)]=new salesforce_logger_v2_service_1[(_0x40464d(0x148))](_0x254e3e['getLoggerId'](),_0x254e3e['getPrefix']()+'\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20'+this[_0x40464d(0x136)][_0x40464d(0x141)]+_0x40464d(0x10c)+this[_0x40464d(0x136)]['branchName']+']');try{await this['salesforceSync'][_0x40464d(0x119)](this['syncData'],_0x40464d(0x13e)),this[_0x40464d(0x11b)](_0x40464d(0x133)),await this[_0x40464d(0x142)]();const _0x84b8f1=await this[_0x40464d(0x13c)]();if(_0x84b8f1){await this[_0x40464d(0x117)]['setStatus'](this['syncData'],'Completed'),await this[_0x40464d(0x11b)](_0x40464d(0x120))['send']();return;}const _0x416c62=await this[_0x40464d(0x154)](_0x2c2eb8);await this['commitJob'][_0x40464d(0x10d)](_0x416c62,this[_0x40464d(0x11f)]),await this[_0x40464d(0x117)][_0x40464d(0x119)](this[_0x40464d(0x136)],_0x40464d(0x145)),await this[_0x40464d(0x13b)](),this[_0x40464d(0x11b)](_0x40464d(0x151));}catch(_0x3f64f0){throw _0x3f64f0;}finally{await this[_0x40464d(0x11f)][_0x40464d(0x13d)]();}}};FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a182_0x2dd6bd(0x15c),[salesforce_sync_service_1['SalesforceSyncService'],salesforce_service_1[a182_0x2dd6bd(0x125)],commit_components_job_1[a182_0x2dd6bd(0x158)]])],FlosumSyncJob),exports['FlosumSyncJob']=FlosumSyncJob;