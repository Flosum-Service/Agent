function a184_0x529a(){const _0x3cfd07=['convertToSFDX','then','getOne','220UJyWVr','getComponents','SalesforceSyncService','setStatus','catch','name','syncData','[INFO]\x20Start\x20sync\x20job','commitJob','salesforceService','../../salesforce/services/salesforce-logger-v2.service','../../../core','Logger','checkSyncStatus','Sync\x20repository','getOwnPropertyDescriptor','search','57978tcTkHz','components','repository','sha','branchName','send','8qymjio','user','getCommitDto','DEFAULT_GIT_USER_NAME','log','function','branches','5162DddDfw','defineProperty','run','toString','SalesforceService','string','941772pTQuxO','repositoryName','(((.+)+)+)+$','CommitComponentsJob','__metadata','metadata','apply','create','../../../constants','CommitComponentsDto','parse','./commit-components.job','gitUrl','provider','typedi','[INFO]\x20Branch\x20synchronized.\x20Skip','updateLastCommit',']\x20[Branch:\x20','getComponentsFromRepository','getBranchComponents','lastCommit','getRemoteStateAttachmentId','design:paramtypes','../../salesforce/services/salesforce-retriever.service','branchId','2566737OdrMTE','object','SalesforceLogger2','repo','length','getComponentIds','2902144KpSgdf','getLoggerId','branch','727801GLzGTc','salesforceSync','logger','message','sfLogger','__decorate','decorate','2255650qlJUid','In\x20Progress','constructor','getPrefix','426wMWDas','FlosumSyncJob','createBranchIfNotExists'];a184_0x529a=function(){return _0x3cfd07;};return a184_0x529a();}const a184_0x9c4ac4=a184_0x29a4;(function(_0x17a155,_0x4899b0){const _0x41ef5a=a184_0x29a4,_0x2a25cf=_0x17a155();while(!![]){try{const _0x270d84=parseInt(_0x41ef5a(0x161))/0x1+-parseInt(_0x41ef5a(0x139))/0x2*(parseInt(_0x41ef5a(0x16c))/0x3)+-parseInt(_0x41ef5a(0x13f))/0x4+parseInt(_0x41ef5a(0x172))/0x5*(parseInt(_0x41ef5a(0x183))/0x6)+parseInt(_0x41ef5a(0x15e))/0x7+parseInt(_0x41ef5a(0x189))/0x8*(-parseInt(_0x41ef5a(0x158))/0x9)+-parseInt(_0x41ef5a(0x168))/0xa;if(_0x270d84===_0x4899b0)break;else _0x2a25cf['push'](_0x2a25cf['shift']());}catch(_0x54de6b){_0x2a25cf['push'](_0x2a25cf['shift']());}}}(a184_0x529a,0x6f0ce));const a184_0x47ea1f=(function(){let _0x4c77e7=!![];return function(_0x8702cf,_0x57e76f){const _0x53aefb=_0x4c77e7?function(){const _0x2154b2=a184_0x29a4;if(_0x57e76f){const _0x18ef46=_0x57e76f[_0x2154b2(0x145)](_0x8702cf,arguments);return _0x57e76f=null,_0x18ef46;}}:function(){};return _0x4c77e7=![],_0x53aefb;};}()),a184_0x461499=a184_0x47ea1f(this,function(){const _0x5a2b41=a184_0x29a4;return a184_0x461499[_0x5a2b41(0x13c)]()[_0x5a2b41(0x182)](_0x5a2b41(0x141))['toString']()[_0x5a2b41(0x16a)](a184_0x461499)[_0x5a2b41(0x182)]('(((.+)+)+)+$');});a184_0x461499();'use strict';var __decorate=this&&this[a184_0x9c4ac4(0x166)]||function(_0x4aa16c,_0x29f7d4,_0x1b84df,_0x4b41f1){const _0x1e8046=a184_0x9c4ac4;var _0x1a1ae4=arguments[_0x1e8046(0x15c)],_0x3ed4c8=_0x1a1ae4<0x3?_0x29f7d4:_0x4b41f1===null?_0x4b41f1=Object[_0x1e8046(0x181)](_0x29f7d4,_0x1b84df):_0x4b41f1,_0x439a6e;if(typeof Reflect===_0x1e8046(0x159)&&typeof Reflect[_0x1e8046(0x167)]===_0x1e8046(0x18e))_0x3ed4c8=Reflect[_0x1e8046(0x167)](_0x4aa16c,_0x29f7d4,_0x1b84df,_0x4b41f1);else{for(var _0x311cd0=_0x4aa16c[_0x1e8046(0x15c)]-0x1;_0x311cd0>=0x0;_0x311cd0--)if(_0x439a6e=_0x4aa16c[_0x311cd0])_0x3ed4c8=(_0x1a1ae4<0x3?_0x439a6e(_0x3ed4c8):_0x1a1ae4>0x3?_0x439a6e(_0x29f7d4,_0x1b84df,_0x3ed4c8):_0x439a6e(_0x29f7d4,_0x1b84df))||_0x3ed4c8;}return _0x1a1ae4>0x3&&_0x3ed4c8&&Object['defineProperty'](_0x29f7d4,_0x1b84df,_0x3ed4c8),_0x3ed4c8;},__metadata=this&&this[a184_0x9c4ac4(0x143)]||function(_0x2a5dbb,_0x271e49){const _0x44b8e1=a184_0x9c4ac4;if(typeof Reflect===_0x44b8e1(0x159)&&typeof Reflect['metadata']===_0x44b8e1(0x18e))return Reflect[_0x44b8e1(0x144)](_0x2a5dbb,_0x271e49);},FlosumSyncJob_1;Object[a184_0x9c4ac4(0x13a)](exports,'__esModule',{'value':!![]}),exports[a184_0x9c4ac4(0x16d)]=void 0x0;const core_1=require(a184_0x9c4ac4(0x17d)),salesforce_logger_v2_service_1=require(a184_0x9c4ac4(0x17c)),typedi_1=require(a184_0x9c4ac4(0x14d)),constants_1=require(a184_0x9c4ac4(0x147)),salesforce_retriever_service_1=require(a184_0x9c4ac4(0x156)),salesforce_sync_service_1=require('../../salesforce/services/salesforce-sync.service'),salesforce_service_1=require('../../salesforce/services/salesforce.service'),commit_components_dto_1=require('../dto/commit-components.dto'),commit_components_job_1=require(a184_0x9c4ac4(0x14a));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0x218df3,_0x345653,_0x36a245){const _0x1cfd41=a184_0x9c4ac4;this[_0x1cfd41(0x162)]=_0x218df3,this[_0x1cfd41(0x17b)]=_0x345653,this[_0x1cfd41(0x17a)]=_0x36a245,this[_0x1cfd41(0x163)]=new core_1[(_0x1cfd41(0x17e))](FlosumSyncJob_1[_0x1cfd41(0x177)]);}[a184_0x9c4ac4(0x18d)](_0x33989f){const _0x1501fb=a184_0x9c4ac4;return this[_0x1501fb(0x165)][_0x1501fb(0x18d)]('[FLOSUM\x20->\x20GIT]\x20[Repository:\x20'+this[_0x1501fb(0x178)][_0x1501fb(0x140)]+_0x1501fb(0x150)+this[_0x1501fb(0x178)]['branchName']+']\x20'+_0x33989f);}async[a184_0x9c4ac4(0x16e)](){const _0x5a1dfd=a184_0x9c4ac4;let _0x468b7b=await this['repository'][_0x5a1dfd(0x138)][_0x5a1dfd(0x171)](this[_0x5a1dfd(0x178)][_0x5a1dfd(0x187)])[_0x5a1dfd(0x176)](()=>null);!_0x468b7b&&(_0x468b7b=await this[_0x5a1dfd(0x185)][_0x5a1dfd(0x138)][_0x5a1dfd(0x146)]({'name':this['syncData'][_0x5a1dfd(0x187)]})),this[_0x5a1dfd(0x160)]=_0x468b7b;}async['getComponentIds'](){const _0x2b1546=a184_0x9c4ac4;return this[_0x2b1546(0x178)]['repositoryId']?this[_0x2b1546(0x162)][_0x2b1546(0x151)](this[_0x2b1546(0x178)]['repositoryId']):this[_0x2b1546(0x162)][_0x2b1546(0x152)](this[_0x2b1546(0x178)][_0x2b1546(0x157)]);}async[a184_0x9c4ac4(0x173)](){const _0x356ec0=a184_0x9c4ac4,_0x56b7c5=await this[_0x356ec0(0x15d)](),_0x29597d=new salesforce_retriever_service_1['SalesforceRetrieverService'](this[_0x356ec0(0x17b)]),_0x4a709b=await _0x29597d[_0x356ec0(0x13b)](_0x56b7c5);return _0x4a709b;}async[a184_0x9c4ac4(0x18b)](_0x2f6d0f){const _0x2e6511=a184_0x9c4ac4,_0x1bac34=new commit_components_dto_1[(_0x2e6511(0x148))]();return _0x1bac34[_0x2e6511(0x164)]=_0x2e6511(0x180),_0x1bac34[_0x2e6511(0x18a)]={'name':constants_1[_0x2e6511(0x18c)],'email':constants_1['DEFAULT_GIT_USER_EMAIL']},_0x1bac34[_0x2e6511(0x184)]={'writed':await this['getComponents']()},_0x1bac34[_0x2e6511(0x16f)]=_0x2f6d0f,_0x1bac34[_0x2e6511(0x15b)]=this[_0x2e6511(0x185)],_0x1bac34['branch']=this[_0x2e6511(0x160)],_0x1bac34['force']=!![],_0x1bac34['provider']=this['provider'],_0x1bac34;}async[a184_0x9c4ac4(0x17f)](){const _0x28e6e9=a184_0x9c4ac4,_0x58a8fe=await this['salesforceSync'][_0x28e6e9(0x154)](this['syncData']),_0x28eb23=await this[_0x28e6e9(0x17b)]['retrieveAttachment'](_0x58a8fe)[_0x28e6e9(0x170)](_0x2f58c8=>typeof _0x2f58c8===_0x28e6e9(0x13e)?JSON[_0x28e6e9(0x149)](_0x2f58c8):_0x2f58c8)[_0x28e6e9(0x176)](()=>({}));if(_0x28eb23[this[_0x28e6e9(0x185)][_0x28e6e9(0x14b)]]){if(_0x28eb23[this[_0x28e6e9(0x185)][_0x28e6e9(0x14b)]][_0x28e6e9(0x153)]===this[_0x28e6e9(0x160)][_0x28e6e9(0x186)])return!![];}return![];}async[a184_0x9c4ac4(0x14f)](){const _0x42b630=a184_0x9c4ac4,_0x4b40a7=await this[_0x42b630(0x185)][_0x42b630(0x138)][_0x42b630(0x171)](this[_0x42b630(0x160)][_0x42b630(0x177)]);await this[_0x42b630(0x18d)]('[INFO]\x20Update\x20remote\x20state.');const _0x243af9={[this[_0x42b630(0x185)][_0x42b630(0x14b)]]:{'lastCommit':_0x4b40a7[_0x42b630(0x186)]}};await this[_0x42b630(0x162)]['updateRemoteState'](this[_0x42b630(0x178)],_0x243af9);}async['run']({syncRecord:_0x2a2e3d,repository:_0x4c047e,logger:_0x30c1af,convertToSFDX:_0x3e7119,provider:_0x36ce82}){const _0x3af88a=a184_0x9c4ac4;this['syncData']=_0x2a2e3d,this[_0x3af88a(0x14c)]=_0x36ce82,this['repository']=_0x4c047e,this[_0x3af88a(0x165)]=new salesforce_logger_v2_service_1[(_0x3af88a(0x15a))](_0x30c1af[_0x3af88a(0x15f)](),_0x30c1af[_0x3af88a(0x16b)]()+'\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20'+this[_0x3af88a(0x178)][_0x3af88a(0x140)]+_0x3af88a(0x150)+this[_0x3af88a(0x178)][_0x3af88a(0x187)]+']');try{await this['salesforceSync'][_0x3af88a(0x175)](this[_0x3af88a(0x178)],_0x3af88a(0x169)),this[_0x3af88a(0x18d)](_0x3af88a(0x179)),await this['createBranchIfNotExists']();const _0xd7de2f=await this[_0x3af88a(0x17f)]();if(_0xd7de2f){await this[_0x3af88a(0x162)]['setStatus'](this['syncData'],'Completed'),await this[_0x3af88a(0x18d)](_0x3af88a(0x14e))[_0x3af88a(0x188)]();return;}const _0x2b34d8=await this[_0x3af88a(0x18b)](_0x3e7119);await this['commitJob'][_0x3af88a(0x13b)](_0x2b34d8,this[_0x3af88a(0x165)]),await this[_0x3af88a(0x162)]['setStatus'](this[_0x3af88a(0x178)],'Completed'),await this['updateLastCommit'](),this[_0x3af88a(0x18d)]('[INFO]\x20Sync\x20job\x20done.');}catch(_0x8d76c9){throw _0x8d76c9;}finally{await this[_0x3af88a(0x165)][_0x3af88a(0x188)]();}}};function a184_0x29a4(_0x1f1fe7,_0x18daa6){const _0x4c7cc3=a184_0x529a();return a184_0x29a4=function(_0x461499,_0x47ea1f){_0x461499=_0x461499-0x138;let _0x529a66=_0x4c7cc3[_0x461499];return _0x529a66;},a184_0x29a4(_0x1f1fe7,_0x18daa6);}FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a184_0x9c4ac4(0x155),[salesforce_sync_service_1[a184_0x9c4ac4(0x174)],salesforce_service_1[a184_0x9c4ac4(0x13d)],commit_components_job_1[a184_0x9c4ac4(0x142)]])],FlosumSyncJob),exports[a184_0x9c4ac4(0x16d)]=FlosumSyncJob;