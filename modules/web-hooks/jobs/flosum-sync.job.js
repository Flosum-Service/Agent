const a183_0x536769=a183_0x19df;(function(_0x4bc1b9,_0x317613){const _0x3601ba=a183_0x19df,_0x275afa=_0x4bc1b9();while(!![]){try{const _0x272151=parseInt(_0x3601ba(0xcd))/0x1+parseInt(_0x3601ba(0x109))/0x2*(-parseInt(_0x3601ba(0xdd))/0x3)+-parseInt(_0x3601ba(0xf6))/0x4*(-parseInt(_0x3601ba(0xd2))/0x5)+-parseInt(_0x3601ba(0xcc))/0x6*(-parseInt(_0x3601ba(0xc2))/0x7)+-parseInt(_0x3601ba(0xdb))/0x8*(-parseInt(_0x3601ba(0xbd))/0x9)+parseInt(_0x3601ba(0x10d))/0xa*(parseInt(_0x3601ba(0xd9))/0xb)+parseInt(_0x3601ba(0xe6))/0xc*(-parseInt(_0x3601ba(0xf7))/0xd);if(_0x272151===_0x317613)break;else _0x275afa['push'](_0x275afa['shift']());}catch(_0x1f18a4){_0x275afa['push'](_0x275afa['shift']());}}}(a183_0x5805,0xc3680));const a183_0x2e72e7=(function(){let _0x4c2e9c=!![];return function(_0x4bcd30,_0x5bd7ff){const _0x5f1bdc=_0x4c2e9c?function(){const _0x56e791=a183_0x19df;if(_0x5bd7ff){const _0x1b36c9=_0x5bd7ff[_0x56e791(0xe7)](_0x4bcd30,arguments);return _0x5bd7ff=null,_0x1b36c9;}}:function(){};return _0x4c2e9c=![],_0x5f1bdc;};}()),a183_0x48298c=a183_0x2e72e7(this,function(){const _0x2be86b=a183_0x19df;return a183_0x48298c[_0x2be86b(0xd8)]()['search']('(((.+)+)+)+$')['toString']()[_0x2be86b(0x103)](a183_0x48298c)[_0x2be86b(0xb3)]('(((.+)+)+)+$');});a183_0x48298c();'use strict';var __decorate=this&&this['__decorate']||function(_0x555beb,_0x441125,_0x3597cb,_0x1fc45b){const _0x20166c=a183_0x19df;var _0x2e6271=arguments[_0x20166c(0xea)],_0x315505=_0x2e6271<0x3?_0x441125:_0x1fc45b===null?_0x1fc45b=Object[_0x20166c(0xb7)](_0x441125,_0x3597cb):_0x1fc45b,_0xfacf33;if(typeof Reflect===_0x20166c(0xfb)&&typeof Reflect[_0x20166c(0xd4)]===_0x20166c(0xed))_0x315505=Reflect['decorate'](_0x555beb,_0x441125,_0x3597cb,_0x1fc45b);else{for(var _0x440d73=_0x555beb['length']-0x1;_0x440d73>=0x0;_0x440d73--)if(_0xfacf33=_0x555beb[_0x440d73])_0x315505=(_0x2e6271<0x3?_0xfacf33(_0x315505):_0x2e6271>0x3?_0xfacf33(_0x441125,_0x3597cb,_0x315505):_0xfacf33(_0x441125,_0x3597cb))||_0x315505;}return _0x2e6271>0x3&&_0x315505&&Object['defineProperty'](_0x441125,_0x3597cb,_0x315505),_0x315505;},__metadata=this&&this[a183_0x536769(0xec)]||function(_0x13ef4d,_0x14ce92){const _0x42ea65=a183_0x536769;if(typeof Reflect===_0x42ea65(0xfb)&&typeof Reflect['metadata']==='function')return Reflect[_0x42ea65(0x110)](_0x13ef4d,_0x14ce92);},FlosumSyncJob_1;function a183_0x19df(_0x33e08d,_0x35b79b){const _0x5d8b51=a183_0x5805();return a183_0x19df=function(_0x48298c,_0x2e72e7){_0x48298c=_0x48298c-0xb2;let _0x580512=_0x5d8b51[_0x48298c];return _0x580512;},a183_0x19df(_0x33e08d,_0x35b79b);}Object[a183_0x536769(0xbf)](exports,a183_0x536769(0x104),{'value':!![]}),exports[a183_0x536769(0xee)]=void 0x0;const core_1=require(a183_0x536769(0xb5)),salesforce_logger_v2_service_1=require('../../salesforce/services/salesforce-logger-v2.service'),typedi_1=require(a183_0x536769(0xc0)),constants_1=require(a183_0x536769(0xf0)),salesforce_retriever_service_1=require('../../salesforce/services/salesforce-retriever.service'),salesforce_sync_service_1=require(a183_0x536769(0xdf)),salesforce_service_1=require(a183_0x536769(0xc6)),commit_components_dto_1=require(a183_0x536769(0xc1)),commit_components_job_1=require(a183_0x536769(0xe5));let FlosumSyncJob=FlosumSyncJob_1=class FlosumSyncJob{constructor(_0xd16d0,_0x27dd9f,_0xaaf339){const _0x25951c=a183_0x536769;this['salesforceSync']=_0xd16d0,this[_0x25951c(0xfd)]=_0x27dd9f,this[_0x25951c(0xbb)]=_0xaaf339,this['logger']=new core_1[(_0x25951c(0x10a))](FlosumSyncJob_1[_0x25951c(0xd6)]);}[a183_0x536769(0xe1)](_0x575af4){const _0x3f0739=a183_0x536769;return this[_0x3f0739(0x10c)][_0x3f0739(0xe1)](_0x3f0739(0xfc)+this[_0x3f0739(0x106)][_0x3f0739(0xcf)]+_0x3f0739(0xc4)+this[_0x3f0739(0x106)][_0x3f0739(0xd7)]+']\x20'+_0x575af4);}async[a183_0x536769(0xc9)](){const _0x11ab7e=a183_0x536769;let _0x193db4=await this[_0x11ab7e(0x10b)][_0x11ab7e(0xf1)][_0x11ab7e(0xcb)](this['syncData'][_0x11ab7e(0xd7)])[_0x11ab7e(0xd3)](()=>null);!_0x193db4&&(_0x193db4=await this[_0x11ab7e(0x10b)]['branches']['create']({'name':this[_0x11ab7e(0x106)]['branchName']})),this[_0x11ab7e(0xc5)]=_0x193db4;}async['getComponentIds'](){const _0x233551=a183_0x536769;return this[_0x233551(0x106)][_0x233551(0xb9)]?this[_0x233551(0xe2)][_0x233551(0x102)](this[_0x233551(0x106)]['repositoryId']):this[_0x233551(0xe2)][_0x233551(0xf4)](this[_0x233551(0x106)][_0x233551(0xff)]);}async[a183_0x536769(0xf5)](){const _0x25ed10=a183_0x536769,_0x31bbe1=await this[_0x25ed10(0xc3)](),_0x17227d=new salesforce_retriever_service_1['SalesforceRetrieverService'](this[_0x25ed10(0xfd)]),_0x5430a5=await _0x17227d[_0x25ed10(0x10f)](_0x31bbe1);return _0x5430a5;}async[a183_0x536769(0xde)](_0x186544){const _0x331f68=a183_0x536769,_0xce52d2=new commit_components_dto_1[(_0x331f68(0xb8))]();return _0xce52d2[_0x331f68(0xf2)]=_0x331f68(0xe0),_0xce52d2[_0x331f68(0xe3)]={'name':constants_1[_0x331f68(0xe8)],'email':constants_1[_0x331f68(0xf8)]},_0xce52d2[_0x331f68(0xce)]={'writed':await this[_0x331f68(0xf5)]()},_0xce52d2[_0x331f68(0xd0)]=_0x186544,_0xce52d2['repo']=this[_0x331f68(0x10b)],_0xce52d2['branch']=this[_0x331f68(0xc5)],_0xce52d2['force']=!![],_0xce52d2[_0x331f68(0xc7)]=this[_0x331f68(0xc7)],_0xce52d2;}async[a183_0x536769(0x100)](){const _0x5e4915=a183_0x536769,_0x2a56e2=await this[_0x5e4915(0xe2)][_0x5e4915(0xb4)](this[_0x5e4915(0x106)]),_0x29866e=await this[_0x5e4915(0xfd)][_0x5e4915(0xc8)](_0x2a56e2)[_0x5e4915(0x108)](_0x19a47c=>typeof _0x19a47c===_0x5e4915(0x10e)?JSON[_0x5e4915(0xe9)](_0x19a47c):_0x19a47c)[_0x5e4915(0xd3)](()=>({}));if(_0x29866e[this['repository'][_0x5e4915(0xeb)]]){if(_0x29866e[this[_0x5e4915(0x10b)]['gitUrl']][_0x5e4915(0xf9)]===this[_0x5e4915(0xc5)][_0x5e4915(0xd1)])return!![];}return![];}async[a183_0x536769(0xdc)](){const _0x267ea6=a183_0x536769,_0x348d4e=await this[_0x267ea6(0x10b)][_0x267ea6(0xf1)][_0x267ea6(0xcb)](this[_0x267ea6(0xc5)]['name']);await this[_0x267ea6(0xe1)](_0x267ea6(0xbc));const _0x43bbe3={[this[_0x267ea6(0x10b)][_0x267ea6(0xeb)]]:{'lastCommit':_0x348d4e[_0x267ea6(0xd1)]}};await this[_0x267ea6(0xe2)][_0x267ea6(0x111)](this[_0x267ea6(0x106)],_0x43bbe3);}async['run']({syncRecord:_0x4956e9,repository:_0x410f38,logger:_0x2e89f8,convertToSFDX:_0x2eaa56,provider:_0x2520d4}){const _0x52c0fd=a183_0x536769;this[_0x52c0fd(0x106)]=_0x4956e9,this[_0x52c0fd(0xc7)]=_0x2520d4,this[_0x52c0fd(0x10b)]=_0x410f38,this['sfLogger']=new salesforce_logger_v2_service_1[(_0x52c0fd(0x101))](_0x2e89f8[_0x52c0fd(0xef)](),_0x2e89f8[_0x52c0fd(0x105)]()+_0x52c0fd(0xe4)+this[_0x52c0fd(0x106)][_0x52c0fd(0xcf)]+']\x20[Branch:\x20'+this[_0x52c0fd(0x106)][_0x52c0fd(0xd7)]+']');try{await this[_0x52c0fd(0xe2)][_0x52c0fd(0xd5)](this[_0x52c0fd(0x106)],_0x52c0fd(0xf3)),this[_0x52c0fd(0xe1)](_0x52c0fd(0xba)),await this[_0x52c0fd(0xc9)]();const _0x1f2dd3=await this[_0x52c0fd(0x100)]();if(_0x1f2dd3){await this[_0x52c0fd(0xe2)][_0x52c0fd(0xd5)](this[_0x52c0fd(0x106)],_0x52c0fd(0xb2)),await this['log'](_0x52c0fd(0xb6))[_0x52c0fd(0xda)]();return;}const _0x18868e=await this[_0x52c0fd(0xde)](_0x2eaa56);await this[_0x52c0fd(0xbb)][_0x52c0fd(0x10f)](_0x18868e,this[_0x52c0fd(0x10c)]),await this[_0x52c0fd(0xe2)][_0x52c0fd(0xd5)](this[_0x52c0fd(0x106)],'Completed'),await this['updateLastCommit'](),this[_0x52c0fd(0xe1)](_0x52c0fd(0xbe));}catch(_0x423531){throw _0x423531;}finally{await this[_0x52c0fd(0x10c)]['send']();}}};function a183_0x5805(){const _0x310ddb=['run','metadata','updateRemoteState','Completed','search','getRemoteStateAttachmentId','../../../core','[INFO]\x20Branch\x20synchronized.\x20Skip','getOwnPropertyDescriptor','CommitComponentsDto','repositoryId','[INFO]\x20Start\x20sync\x20job','commitJob','[INFO]\x20Update\x20remote\x20state.','489123GCtqyH','[INFO]\x20Sync\x20job\x20done.','defineProperty','typedi','../dto/commit-components.dto','14QqaTNy','getComponentIds',']\x20[Branch:\x20','branch','../../salesforce/services/salesforce.service','provider','retrieveAttachment','createBranchIfNotExists','design:paramtypes','getOne','176712YbarVk','496955xDQjlH','components','repositoryName','convertToSFDX','sha','5lQAsTH','catch','decorate','setStatus','name','branchName','toString','3982UhGuRJ','send','40EeGhTm','updateLastCommit','13683zUNpvF','getCommitDto','../../salesforce/services/salesforce-sync.service','Sync\x20repository','log','salesforceSync','user','\x20[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','./commit-components.job','72972pDQtuR','apply','DEFAULT_GIT_USER_NAME','parse','length','gitUrl','__metadata','function','FlosumSyncJob','getLoggerId','../../../constants','branches','message','In\x20Progress','getBranchComponents','getComponents','2220868DrlTOi','754tyJNOI','DEFAULT_GIT_USER_EMAIL','lastCommit','CommitComponentsJob','object','[FLOSUM\x20->\x20GIT]\x20[Repository:\x20','salesforceService','Service','branchId','checkSyncStatus','SalesforceLogger2','getComponentsFromRepository','constructor','__esModule','getPrefix','syncData','SalesforceSyncService','then','686VddFOO','Logger','repository','sfLogger','36870JZiUpW','string'];a183_0x5805=function(){return _0x310ddb;};return a183_0x5805();}FlosumSyncJob=FlosumSyncJob_1=__decorate([typedi_1[a183_0x536769(0xfe)]({'transient':!![]}),__metadata(a183_0x536769(0xca),[salesforce_sync_service_1[a183_0x536769(0x107)],salesforce_service_1['SalesforceService'],commit_components_job_1[a183_0x536769(0xfa)]])],FlosumSyncJob),exports[a183_0x536769(0xee)]=FlosumSyncJob;