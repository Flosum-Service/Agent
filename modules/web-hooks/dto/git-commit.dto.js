const a177_0x2358ed=a177_0x4b9b;function a177_0x1736(){const _0x2c1d59=['repo:refs_changed','user_username','href','branch','1533443sBmFXz','418584VSdhow','username','push','2uXbvgl','headers','pusher','fromGitlab','fromBitbucketServer','repo:push','234465HhrRPD','refUpdates','3CCBnEE','req','replace','84791xxVDfc','BadRequestError','ERR_UNKNOWN','refs/heads/','repository','toString','remoteUrl','displayName','ref','pushedBy','1464255jkixSj','changes','commits','actor','606dYxSFv','body','clone_url','new','(((.+)+)+)+$','hash','53928190GhGcjY','commitId','apply','x-event-key','6371952awmohT','GitCommitDto','force','fromGithub','git.push','find','eventType','target','fromAzure','x-github-event','repositoryGit','links','name','11RyCuPd','search','map','http','clone'];a177_0x1736=function(){return _0x2c1d59;};return a177_0x1736();}(function(_0x572fb5,_0x245f87){const _0x2158c2=a177_0x4b9b,_0xed9617=_0x572fb5();while(!![]){try{const _0x4fdbec=parseInt(_0x2158c2(0x17f))/0x1*(-parseInt(_0x2158c2(0x183))/0x2)+parseInt(_0x2158c2(0x14e))/0x3*(-parseInt(_0x2158c2(0x169))/0x4)+parseInt(_0x2158c2(0x189))/0x5+-parseInt(_0x2158c2(0x15f))/0x6*(parseInt(_0x2158c2(0x151))/0x7)+parseInt(_0x2158c2(0x180))/0x8+-parseInt(_0x2158c2(0x15b))/0x9+parseInt(_0x2158c2(0x165))/0xa*(parseInt(_0x2158c2(0x176))/0xb);if(_0x4fdbec===_0x245f87)break;else _0xed9617['push'](_0xed9617['shift']());}catch(_0x498ad5){_0xed9617['push'](_0xed9617['shift']());}}}(a177_0x1736,0xef228));const a177_0x4f23e4=(function(){let _0xf51531=!![];return function(_0x1805e0,_0x5ee4fd){const _0x4ddd21=_0xf51531?function(){const _0x242c3a=a177_0x4b9b;if(_0x5ee4fd){const _0x2c1f3b=_0x5ee4fd[_0x242c3a(0x167)](_0x1805e0,arguments);return _0x5ee4fd=null,_0x2c1f3b;}}:function(){};return _0xf51531=![],_0x4ddd21;};}()),a177_0x4ad354=a177_0x4f23e4(this,function(){const _0x21adc0=a177_0x4b9b;return a177_0x4ad354[_0x21adc0(0x156)]()[_0x21adc0(0x177)](_0x21adc0(0x163))[_0x21adc0(0x156)]()['constructor'](a177_0x4ad354)[_0x21adc0(0x177)]('(((.+)+)+)+$');});a177_0x4ad354();'use strict';function a177_0x4b9b(_0x544bd8,_0x12beea){const _0x10dc4f=a177_0x1736();return a177_0x4b9b=function(_0x4ad354,_0x4f23e4){_0x4ad354=_0x4ad354-0x14d;let _0x173612=_0x10dc4f[_0x4ad354];return _0x173612;},a177_0x4b9b(_0x544bd8,_0x12beea);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a177_0x2358ed(0x16a)]=void 0x0;const errors_1=require('../../../constants/errors'),bad_request_error_1=require('../../../core/errors/bad-request.error');class GitCommitDto{constructor(){const _0x2356ac=a177_0x2358ed;this[_0x2356ac(0x16b)]=![];}static[a177_0x2358ed(0x187)](_0x101435){const _0x55c87d=a177_0x2358ed;var _0x3713f0,_0x2f7f08;if(_0x101435[_0x55c87d(0x14f)][_0x55c87d(0x184)][_0x55c87d(0x168)]!==_0x55c87d(0x17b))throw new bad_request_error_1[(_0x55c87d(0x152))](errors_1['ERR_UNKNOWN']);const _0x513483=new GitCommitDto(),_0x36458b=_0x101435[_0x55c87d(0x14f)][_0x55c87d(0x160)];return _0x513483[_0x55c87d(0x155)]=_0x36458b['repository'][_0x55c87d(0x175)],_0x513483[_0x55c87d(0x17e)]=_0x36458b['changes'][0x0]['refId']['replace']('refs/heads/',''),_0x513483[_0x55c87d(0x173)]=(_0x2f7f08=(_0x3713f0=_0x36458b[_0x55c87d(0x155)]['links'][_0x55c87d(0x17a)])===null||_0x3713f0===void 0x0?void 0x0:_0x3713f0[_0x55c87d(0x16e)](_0x3986d8=>_0x3986d8['name']['startsWith'](_0x55c87d(0x179))))===null||_0x2f7f08===void 0x0?void 0x0:_0x2f7f08[_0x55c87d(0x17d)],_0x513483['username']=_0x36458b[_0x55c87d(0x15e)][_0x55c87d(0x158)],_0x513483[_0x55c87d(0x15d)]=_0x36458b['changes'][_0x55c87d(0x178)](_0x539285=>({'id':_0x539285['toHash']})),_0x513483;}static['fromBitbucket'](_0x25b91a){const _0x140a8f=a177_0x2358ed;if(_0x25b91a[_0x140a8f(0x14f)][_0x140a8f(0x184)]['x-event-key']!==_0x140a8f(0x188))throw new bad_request_error_1[(_0x140a8f(0x152))](errors_1['ERR_UNKNOWN']);const _0x2b6b97=new GitCommitDto(),_0x3115b1=_0x25b91a[_0x140a8f(0x14f)][_0x140a8f(0x160)];return _0x2b6b97[_0x140a8f(0x155)]=_0x3115b1[_0x140a8f(0x155)][_0x140a8f(0x175)],_0x2b6b97['branch']=_0x3115b1[_0x140a8f(0x182)][_0x140a8f(0x15c)][0x0][_0x140a8f(0x162)][_0x140a8f(0x175)][_0x140a8f(0x150)]('refs/heads/',''),_0x2b6b97[_0x140a8f(0x173)]=_0x3115b1[_0x140a8f(0x155)][_0x140a8f(0x174)]['html'][_0x140a8f(0x17d)]+'.git',_0x2b6b97['username']='',_0x2b6b97[_0x140a8f(0x15d)]=_0x3115b1[_0x140a8f(0x182)][_0x140a8f(0x15c)][_0x140a8f(0x178)](_0x12f9d5=>({'id':_0x12f9d5[_0x140a8f(0x162)][_0x140a8f(0x170)][_0x140a8f(0x164)]})),_0x2b6b97;}static[a177_0x2358ed(0x171)](_0x7e6b20){const _0x57b98e=a177_0x2358ed;if(_0x7e6b20[_0x57b98e(0x14f)]['body'][_0x57b98e(0x16f)]!==_0x57b98e(0x16d))throw new bad_request_error_1[(_0x57b98e(0x152))](errors_1[_0x57b98e(0x153)]);const _0x31c4a7=new GitCommitDto(),_0x2f12f6=_0x7e6b20['req'][_0x57b98e(0x160)]['resource'];return _0x31c4a7[_0x57b98e(0x155)]=_0x2f12f6[_0x57b98e(0x155)]['name'],_0x31c4a7[_0x57b98e(0x17e)]=_0x2f12f6[_0x57b98e(0x14d)][0x0]['name'][_0x57b98e(0x150)](_0x57b98e(0x154),''),_0x31c4a7[_0x57b98e(0x173)]=_0x2f12f6['repository'][_0x57b98e(0x157)],_0x31c4a7[_0x57b98e(0x181)]=_0x2f12f6[_0x57b98e(0x15a)][_0x57b98e(0x158)],_0x31c4a7['commits']=_0x2f12f6[_0x57b98e(0x15d)][_0x57b98e(0x178)](_0x10bef1=>({'id':_0x10bef1[_0x57b98e(0x166)]})),_0x31c4a7;}static[a177_0x2358ed(0x186)](_0x55dca0){const _0x26debc=a177_0x2358ed;if(_0x55dca0['req']['headers']['x-gitlab-event']!=='Push\x20Hook')throw new bad_request_error_1['BadRequestError'](errors_1[_0x26debc(0x153)]);const _0x462e63=new GitCommitDto(),_0x258215=_0x55dca0[_0x26debc(0x14f)][_0x26debc(0x160)];return _0x462e63[_0x26debc(0x155)]=_0x258215[_0x26debc(0x155)][_0x26debc(0x175)],_0x462e63[_0x26debc(0x17e)]=_0x258215[_0x26debc(0x159)]['replace'](_0x26debc(0x154),''),_0x462e63[_0x26debc(0x173)]=_0x258215[_0x26debc(0x155)]['git_http_url'],_0x462e63[_0x26debc(0x181)]=_0x258215[_0x26debc(0x17c)],_0x462e63[_0x26debc(0x15d)]=_0x258215[_0x26debc(0x15d)][_0x26debc(0x178)](_0x5352d5=>({'id':_0x5352d5['id']})),_0x462e63;}static[a177_0x2358ed(0x16c)](_0x78a0e1){const _0x1f90a5=a177_0x2358ed;if(_0x78a0e1['req']['headers'][_0x1f90a5(0x172)]!=='push')throw new bad_request_error_1[(_0x1f90a5(0x152))](errors_1[_0x1f90a5(0x153)]);const _0xe7af95=new GitCommitDto(),_0x564b17=_0x78a0e1[_0x1f90a5(0x14f)]['body'];return _0xe7af95[_0x1f90a5(0x155)]=_0x564b17[_0x1f90a5(0x155)][_0x1f90a5(0x175)],_0xe7af95[_0x1f90a5(0x17e)]=_0x564b17[_0x1f90a5(0x159)][_0x1f90a5(0x150)](_0x1f90a5(0x154),''),_0xe7af95[_0x1f90a5(0x173)]=_0x564b17[_0x1f90a5(0x155)][_0x1f90a5(0x161)],_0xe7af95[_0x1f90a5(0x181)]=_0x564b17[_0x1f90a5(0x185)]['name'],_0xe7af95['commits']=_0x564b17['commits']['map'](_0x52ecdf=>({'id':_0x52ecdf['id']})),_0xe7af95;}}exports['GitCommitDto']=GitCommitDto;