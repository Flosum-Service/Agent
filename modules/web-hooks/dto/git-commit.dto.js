const a177_0x82c09d=a177_0x9558;(function(_0x299845,_0x2cc374){const _0x5aca05=a177_0x9558,_0x17a813=_0x299845();while(!![]){try{const _0x261df1=-parseInt(_0x5aca05(0x163))/0x1*(-parseInt(_0x5aca05(0x122))/0x2)+-parseInt(_0x5aca05(0x132))/0x3*(-parseInt(_0x5aca05(0x157))/0x4)+parseInt(_0x5aca05(0x14f))/0x5+parseInt(_0x5aca05(0x137))/0x6*(-parseInt(_0x5aca05(0x148))/0x7)+-parseInt(_0x5aca05(0x15f))/0x8+parseInt(_0x5aca05(0x153))/0x9*(parseInt(_0x5aca05(0x14d))/0xa)+-parseInt(_0x5aca05(0x151))/0xb*(parseInt(_0x5aca05(0x124))/0xc);if(_0x261df1===_0x2cc374)break;else _0x17a813['push'](_0x17a813['shift']());}catch(_0x16fd02){_0x17a813['push'](_0x17a813['shift']());}}}(a177_0x17c9,0xb0ee1));const a177_0x4379bd=(function(){let _0x5f4fc4=!![];return function(_0x38de23,_0x10e6d2){const _0x17b195=_0x5f4fc4?function(){const _0x5cbc99=a177_0x9558;if(_0x10e6d2){const _0x45cda3=_0x10e6d2[_0x5cbc99(0x156)](_0x38de23,arguments);return _0x10e6d2=null,_0x45cda3;}}:function(){};return _0x5f4fc4=![],_0x17b195;};}()),a177_0x497090=a177_0x4379bd(this,function(){const _0x16ead6=a177_0x9558;return a177_0x497090[_0x16ead6(0x12a)]()[_0x16ead6(0x13f)](_0x16ead6(0x15a))['toString']()[_0x16ead6(0x135)](a177_0x497090)[_0x16ead6(0x13f)](_0x16ead6(0x15a));});a177_0x497090();function a177_0x17c9(){const _0x293c11=['repo:refs_changed','replace','resource','http','search','fromGitlab','refs/heads/','startsWith','ERR_UNKNOWN','git.push','x-event-key','BadRequestError','clone','120526hNBKKS','x-gitlab-event','remoteUrl','map','headers','4521930rWOceX','fromGithub','6486330NynuLc','x-github-event','44UencAX','name','9RIGDKL','target','links','apply','2174404gTTTAC','fromBitbucket','.git','(((.+)+)+)+$','pusher','req','branch','changes','8108112TMzaQE','__esModule','push','commitId','11wrZVrw','repository','href','80188euYSju','defineProperty','4411812RoQpGb','repositoryGit','fromBitbucketServer','eventType','repo:push','find','toString','refUpdates','git_http_url','commits','GitCommitDto','body','ref','fromAzure','6ZpgGZg','toHash','hash','constructor','user_username','24bhIwZT','force','new','username'];a177_0x17c9=function(){return _0x293c11;};return a177_0x17c9();}'use strict';Object[a177_0x82c09d(0x123)](exports,a177_0x82c09d(0x160),{'value':!![]}),exports[a177_0x82c09d(0x12e)]=void 0x0;const errors_1=require('../../../constants/errors'),bad_request_error_1=require('../../../core/errors/bad-request.error');function a177_0x9558(_0x3b7d1b,_0x573e40){const _0x53ab8c=a177_0x17c9();return a177_0x9558=function(_0x497090,_0x4379bd){_0x497090=_0x497090-0x122;let _0x17c971=_0x53ab8c[_0x497090];return _0x17c971;},a177_0x9558(_0x3b7d1b,_0x573e40);}class GitCommitDto{constructor(){const _0x54182f=a177_0x82c09d;this[_0x54182f(0x138)]=![];}static[a177_0x82c09d(0x126)](_0x519c90){const _0x48b66d=a177_0x82c09d;var _0x19da3e,_0x327725;if(_0x519c90[_0x48b66d(0x15c)]['headers']['x-event-key']!==_0x48b66d(0x13b))throw new bad_request_error_1[(_0x48b66d(0x146))](errors_1[_0x48b66d(0x143)]);const _0x2b2f8f=new GitCommitDto(),_0x386159=_0x519c90[_0x48b66d(0x15c)][_0x48b66d(0x12f)];return _0x2b2f8f[_0x48b66d(0x164)]=_0x386159[_0x48b66d(0x164)][_0x48b66d(0x152)],_0x2b2f8f[_0x48b66d(0x15d)]=_0x386159[_0x48b66d(0x15e)][0x0]['refId']['replace'](_0x48b66d(0x141),''),_0x2b2f8f[_0x48b66d(0x125)]=(_0x327725=(_0x19da3e=_0x386159[_0x48b66d(0x164)][_0x48b66d(0x155)][_0x48b66d(0x147)])===null||_0x19da3e===void 0x0?void 0x0:_0x19da3e[_0x48b66d(0x129)](_0x4dedd2=>_0x4dedd2[_0x48b66d(0x152)][_0x48b66d(0x142)](_0x48b66d(0x13e))))===null||_0x327725===void 0x0?void 0x0:_0x327725[_0x48b66d(0x165)],_0x2b2f8f['username']=_0x386159['actor']['displayName'],_0x2b2f8f[_0x48b66d(0x12d)]=_0x386159['changes']['map'](_0x438b8a=>({'id':_0x438b8a[_0x48b66d(0x133)]})),_0x2b2f8f;}static[a177_0x82c09d(0x158)](_0x3ceb1a){const _0x109dbb=a177_0x82c09d;if(_0x3ceb1a['req'][_0x109dbb(0x14c)][_0x109dbb(0x145)]!==_0x109dbb(0x128))throw new bad_request_error_1[(_0x109dbb(0x146))](errors_1[_0x109dbb(0x143)]);const _0x512769=new GitCommitDto(),_0x536a68=_0x3ceb1a[_0x109dbb(0x15c)][_0x109dbb(0x12f)];return _0x512769[_0x109dbb(0x164)]=_0x536a68[_0x109dbb(0x164)]['name'],_0x512769['branch']=_0x536a68['push']['changes'][0x0][_0x109dbb(0x139)][_0x109dbb(0x152)][_0x109dbb(0x13c)]('refs/heads/',''),_0x512769[_0x109dbb(0x125)]=_0x536a68[_0x109dbb(0x164)][_0x109dbb(0x155)]['html']['href']+_0x109dbb(0x159),_0x512769[_0x109dbb(0x13a)]='',_0x512769[_0x109dbb(0x12d)]=_0x536a68[_0x109dbb(0x161)]['changes'][_0x109dbb(0x14b)](_0x343b05=>({'id':_0x343b05[_0x109dbb(0x139)][_0x109dbb(0x154)][_0x109dbb(0x134)]})),_0x512769;}static[a177_0x82c09d(0x131)](_0x1ecea6){const _0x2a7964=a177_0x82c09d;if(_0x1ecea6['req'][_0x2a7964(0x12f)][_0x2a7964(0x127)]!==_0x2a7964(0x144))throw new bad_request_error_1[(_0x2a7964(0x146))](errors_1[_0x2a7964(0x143)]);const _0x5f2957=new GitCommitDto(),_0x1c8cfe=_0x1ecea6[_0x2a7964(0x15c)][_0x2a7964(0x12f)][_0x2a7964(0x13d)];return _0x5f2957[_0x2a7964(0x164)]=_0x1c8cfe['repository'][_0x2a7964(0x152)],_0x5f2957[_0x2a7964(0x15d)]=_0x1c8cfe[_0x2a7964(0x12b)][0x0]['name'][_0x2a7964(0x13c)]('refs/heads/',''),_0x5f2957[_0x2a7964(0x125)]=_0x1c8cfe[_0x2a7964(0x164)][_0x2a7964(0x14a)],_0x5f2957[_0x2a7964(0x13a)]=_0x1c8cfe['pushedBy']['displayName'],_0x5f2957['commits']=_0x1c8cfe[_0x2a7964(0x12d)][_0x2a7964(0x14b)](_0x2dfce6=>({'id':_0x2dfce6[_0x2a7964(0x162)]})),_0x5f2957;}static[a177_0x82c09d(0x140)](_0x5b56c0){const _0x1a3c6c=a177_0x82c09d;if(_0x5b56c0[_0x1a3c6c(0x15c)][_0x1a3c6c(0x14c)][_0x1a3c6c(0x149)]!=='Push\x20Hook')throw new bad_request_error_1[(_0x1a3c6c(0x146))](errors_1[_0x1a3c6c(0x143)]);const _0x18b8dc=new GitCommitDto(),_0x2ccf7f=_0x5b56c0[_0x1a3c6c(0x15c)][_0x1a3c6c(0x12f)];return _0x18b8dc['repository']=_0x2ccf7f[_0x1a3c6c(0x164)][_0x1a3c6c(0x152)],_0x18b8dc['branch']=_0x2ccf7f[_0x1a3c6c(0x130)][_0x1a3c6c(0x13c)]('refs/heads/',''),_0x18b8dc[_0x1a3c6c(0x125)]=_0x2ccf7f['repository'][_0x1a3c6c(0x12c)],_0x18b8dc[_0x1a3c6c(0x13a)]=_0x2ccf7f[_0x1a3c6c(0x136)],_0x18b8dc[_0x1a3c6c(0x12d)]=_0x2ccf7f[_0x1a3c6c(0x12d)]['map'](_0x2ff153=>({'id':_0x2ff153['id']})),_0x18b8dc;}static[a177_0x82c09d(0x14e)](_0x45ac30){const _0x38e66f=a177_0x82c09d;if(_0x45ac30[_0x38e66f(0x15c)][_0x38e66f(0x14c)][_0x38e66f(0x150)]!=='push')throw new bad_request_error_1[(_0x38e66f(0x146))](errors_1[_0x38e66f(0x143)]);const _0x567db8=new GitCommitDto(),_0x1e8094=_0x45ac30[_0x38e66f(0x15c)]['body'];return _0x567db8[_0x38e66f(0x164)]=_0x1e8094[_0x38e66f(0x164)][_0x38e66f(0x152)],_0x567db8[_0x38e66f(0x15d)]=_0x1e8094[_0x38e66f(0x130)][_0x38e66f(0x13c)]('refs/heads/',''),_0x567db8['repositoryGit']=_0x1e8094[_0x38e66f(0x164)]['clone_url'],_0x567db8[_0x38e66f(0x13a)]=_0x1e8094[_0x38e66f(0x15b)][_0x38e66f(0x152)],_0x567db8[_0x38e66f(0x12d)]=_0x1e8094[_0x38e66f(0x12d)][_0x38e66f(0x14b)](_0x3cc01d=>({'id':_0x3cc01d['id']})),_0x567db8;}}exports[a177_0x82c09d(0x12e)]=GitCommitDto;