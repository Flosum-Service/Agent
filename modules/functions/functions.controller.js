function a51_0x3b59(_0x5b0999,_0x1b5bb2){const _0x5499c4=a51_0x308b();return a51_0x3b59=function(_0x37139f,_0x1ba118){_0x37139f=_0x37139f-0xc0;let _0x308be0=_0x5499c4[_0x37139f];return _0x308be0;},a51_0x3b59(_0x5b0999,_0x1b5bb2);}const a51_0x528f4d=a51_0x3b59;(function(_0x8eabfd,_0x3f735d){const _0x38f271=a51_0x3b59,_0x1ed259=_0x8eabfd();while(!![]){try{const _0x1775c4=-parseInt(_0x38f271(0xc9))/0x1+parseInt(_0x38f271(0xdf))/0x2*(-parseInt(_0x38f271(0xc6))/0x3)+parseInt(_0x38f271(0xfa))/0x4*(-parseInt(_0x38f271(0xec))/0x5)+parseInt(_0x38f271(0xc1))/0x6+-parseInt(_0x38f271(0xe4))/0x7+-parseInt(_0x38f271(0xc8))/0x8+parseInt(_0x38f271(0xfb))/0x9;if(_0x1775c4===_0x3f735d)break;else _0x1ed259['push'](_0x1ed259['shift']());}catch(_0x225f1a){_0x1ed259['push'](_0x1ed259['shift']());}}}(a51_0x308b,0x7357c));const a51_0x1ba118=(function(){let _0x5c9aee=!![];return function(_0x43b994,_0x705939){const _0x6e5380=_0x5c9aee?function(){const _0x5caad1=a51_0x3b59;if(_0x705939){const _0x808ece=_0x705939[_0x5caad1(0xcc)](_0x43b994,arguments);return _0x705939=null,_0x808ece;}}:function(){};return _0x5c9aee=![],_0x6e5380;};}()),a51_0x37139f=a51_0x1ba118(this,function(){const _0x198ce0=a51_0x3b59;return a51_0x37139f['toString']()[_0x198ce0(0xdc)]('(((.+)+)+)+$')[_0x198ce0(0xf0)]()['constructor'](a51_0x37139f)[_0x198ce0(0xdc)](_0x198ce0(0xf2));});a51_0x37139f();'use strict';var __decorate=this&&this[a51_0x528f4d(0xc0)]||function(_0x2cd665,_0x2dbfec,_0x1c8c3d,_0xa0148b){const _0x2168e0=a51_0x528f4d;var _0x4e46a7=arguments[_0x2168e0(0xf3)],_0x29e5af=_0x4e46a7<0x3?_0x2dbfec:_0xa0148b===null?_0xa0148b=Object['getOwnPropertyDescriptor'](_0x2dbfec,_0x1c8c3d):_0xa0148b,_0x957a3c;if(typeof Reflect===_0x2168e0(0xe5)&&typeof Reflect[_0x2168e0(0xd1)]===_0x2168e0(0xcb))_0x29e5af=Reflect[_0x2168e0(0xd1)](_0x2cd665,_0x2dbfec,_0x1c8c3d,_0xa0148b);else{for(var _0x54c675=_0x2cd665[_0x2168e0(0xf3)]-0x1;_0x54c675>=0x0;_0x54c675--)if(_0x957a3c=_0x2cd665[_0x54c675])_0x29e5af=(_0x4e46a7<0x3?_0x957a3c(_0x29e5af):_0x4e46a7>0x3?_0x957a3c(_0x2dbfec,_0x1c8c3d,_0x29e5af):_0x957a3c(_0x2dbfec,_0x1c8c3d))||_0x29e5af;}return _0x4e46a7>0x3&&_0x29e5af&&Object[_0x2168e0(0xf7)](_0x2dbfec,_0x1c8c3d,_0x29e5af),_0x29e5af;},__metadata=this&&this[a51_0x528f4d(0xf8)]||function(_0x43c130,_0x5f444a){const _0x23c32c=a51_0x528f4d;if(typeof Reflect===_0x23c32c(0xe5)&&typeof Reflect[_0x23c32c(0xff)]===_0x23c32c(0xcb))return Reflect[_0x23c32c(0xff)](_0x43c130,_0x5f444a);},__param=this&&this[a51_0x528f4d(0xd0)]||function(_0x3c8317,_0x2d725c){return function(_0xa0d9e3,_0xd9c662){_0x2d725c(_0xa0d9e3,_0xd9c662,_0x3c8317);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a51_0x528f4d(0xe3)]=void 0x0;function a51_0x308b(){const _0x525f2f=['__metadata','ERROR','8156TwNUFz','26143902nasCXc','Version','GET_TESTS','DEPLOY','metadata','__decorate','3536436MLXFcn','Job\x20started\x20successfully','retrieveZip','fetchTestClasses','message','2181753cduBol','design:returntype','5252008SZNKWv','833676SodDJf','./services/deploy-attachment.service','function','apply','prototype','./types/salesforce-request.type','./utils/salesforce-request','__param','decorate','/async','then','./utils/auth.utils','./services/fetch-test-classes.service','server','generate-deploy-zip','generateAndDeployZip','post','metadataLogId','deployComponents','search','error','SAVE_DEPLOY_ZIP','2IfdAsQ','param','catch','design:type','FunctionsController','1962723cmPvIh','object','body','deploy-components','AuthUtils','design:paramtypes','Post','fetch-test-classes','1285ESgsIn','createRequest','./services/generate-zip.service','namespace','toString','/services/apexrest','(((.+)+)+)+$','length','OptionType','../../core','instanceUrl','defineProperty'];a51_0x308b=function(){return _0x525f2f;};return a51_0x308b();}const core_1=require(a51_0x528f4d(0xf5)),salesforce_request_type_1=require(a51_0x528f4d(0xce)),retrieve_zip_service_1=require('./services/retrieve-zip.service'),generate_zip_service_1=require(a51_0x528f4d(0xee)),fetch_test_classes_service_1=require(a51_0x528f4d(0xd5)),deploy_attachment_service_1=require(a51_0x528f4d(0xca)),salesforce_request_1=require(a51_0x528f4d(0xcf)),auth_utils_1=require(a51_0x528f4d(0xd4)),logger=new core_1['Logger'](a51_0x528f4d(0xd6));let FunctionsController=class FunctionsController{async[a51_0x528f4d(0xc3)](_0x3dea18){const _0xcdbb76=a51_0x528f4d,_0x31f10e=(0x0,salesforce_request_1[_0xcdbb76(0xed)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x3dea18[_0xcdbb76(0xf6)]));return(0x0,retrieve_zip_service_1[_0xcdbb76(0xc3)])(_0x3dea18,_0x31f10e)['then'](()=>{const _0xd1fe12=_0xcdbb76;return _0x31f10e[_0xd1fe12(0xd9)](_0xd1fe12(0xf1)+salesforce_request_1[_0xd1fe12(0xef)]+_0xd1fe12(0xd2),{'mdlId':_0x3dea18['metadataLogId'],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})['catch'](_0x346f54=>{const _0x45211b=_0xcdbb76;return _0x31f10e[_0x45211b(0xd9)](_0x45211b(0xf1)+salesforce_request_1[_0x45211b(0xef)]+'/async',{'mdlId':_0x3dea18[_0x45211b(0xda)],'opType':salesforce_request_type_1[_0x45211b(0xf4)][_0x45211b(0xf9)],'message':_0x346f54[_0x45211b(0xc5)]||_0x346f54});})[_0xcdbb76(0xe1)](_0x25c410=>logger[_0xcdbb76(0xdd)](_0x25c410['message'])),{'message':_0xcdbb76(0xc2)};}async[a51_0x528f4d(0xc4)](_0x134ee6){const _0xd6031b=a51_0x528f4d,_0x5b2587=(0x0,salesforce_request_1[_0xd6031b(0xed)])(auth_utils_1[_0xd6031b(0xe8)]['getAuthParameters'](_0x134ee6[_0xd6031b(0xf6)]));return(0x0,fetch_test_classes_service_1[_0xd6031b(0xc4)])(_0x134ee6,_0x5b2587)[_0xd6031b(0xd3)](()=>{const _0x313d7d=_0xd6031b;return _0x5b2587[_0x313d7d(0xd9)](_0x313d7d(0xf1)+salesforce_request_1['namespace']+_0x313d7d(0xd2),{'mdlId':_0x134ee6[_0x313d7d(0xda)],'opType':salesforce_request_type_1[_0x313d7d(0xf4)][_0x313d7d(0xfd)]});})[_0xd6031b(0xe1)](_0x2afebd=>{const _0x5d9ed0=_0xd6031b;return _0x5b2587['post'](_0x5d9ed0(0xf1)+salesforce_request_1[_0x5d9ed0(0xef)]+_0x5d9ed0(0xd2),{'mdlId':_0x134ee6['metadataLogId'],'opType':salesforce_request_type_1[_0x5d9ed0(0xf4)][_0x5d9ed0(0xf9)],'message':_0x2afebd[_0x5d9ed0(0xc5)]||_0x2afebd});})[_0xd6031b(0xe1)](_0x1480ac=>logger[_0xd6031b(0xdd)](_0x1480ac[_0xd6031b(0xc5)])),{'message':_0xd6031b(0xc2)};}async[a51_0x528f4d(0xd8)](_0x45babf){const _0x1de946=a51_0x528f4d,_0x2b43ec=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x1de946(0xe8)]['getAuthParameters'](_0x45babf[_0x1de946(0xf6)]));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x45babf,_0x2b43ec)[_0x1de946(0xd3)](_0x5ab976=>{const _0x1d6844=_0x1de946;return _0x2b43ec['post']('/services/apexrest'+salesforce_request_1['namespace']+'/async',{'mdlId':_0x45babf[_0x1d6844(0xda)],'opType':salesforce_request_type_1[_0x1d6844(0xf4)][_0x1d6844(0xde)],'attachment':_0x5ab976});})[_0x1de946(0xe1)](_0x1bd555=>{const _0x1b126c=_0x1de946;return _0x2b43ec['post'](_0x1b126c(0xf1)+salesforce_request_1[_0x1b126c(0xef)]+'/async',{'mdlId':_0x45babf[_0x1b126c(0xda)],'opType':salesforce_request_type_1['OptionType'][_0x1b126c(0xf9)],'message':_0x1bd555[_0x1b126c(0xc5)]||_0x1bd555});})['catch'](_0x1955d4=>logger['error'](_0x1955d4[_0x1de946(0xc5)])),{'message':'Job\x20started\x20successfully'};}async[a51_0x528f4d(0xdb)](_0xd611c){const _0x202ea1=a51_0x528f4d,_0x405ef7=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils']['getAuthParameters'](_0xd611c[_0x202ea1(0xf6)]));return(0x0,deploy_attachment_service_1[_0x202ea1(0xdb)])(_0xd611c,_0x405ef7)[_0x202ea1(0xd3)](_0x408e00=>{const _0x552fd6=_0x202ea1;return _0x405ef7[_0x552fd6(0xd9)](_0x552fd6(0xf1)+salesforce_request_1['namespace']+_0x552fd6(0xd2),{'mdlId':_0xd611c['metadataLogId'],'asyncId':_0x408e00,'opType':salesforce_request_type_1[_0x552fd6(0xf4)][_0x552fd6(0xfe)]});})['catch'](_0x5cba19=>{const _0xb2b42e=_0x202ea1;return _0x405ef7[_0xb2b42e(0xd9)](_0xb2b42e(0xf1)+salesforce_request_1[_0xb2b42e(0xef)]+_0xb2b42e(0xd2),{'mdlId':_0xd611c['metadataLogId'],'opType':salesforce_request_type_1[_0xb2b42e(0xf4)][_0xb2b42e(0xf9)],'message':_0x5cba19['message']||_0x5cba19});})['catch'](_0x4adc2d=>logger[_0x202ea1(0xdd)](_0x4adc2d['message'])),{'message':_0x202ea1(0xc2)};}};__decorate([(0x0,core_1['Post'])('retrieve'),__param(0x0,core_1[a51_0x528f4d(0xe0)][a51_0x528f4d(0xe6)]()),__metadata(a51_0x528f4d(0xe2),Function),__metadata(a51_0x528f4d(0xe9),[Object]),__metadata(a51_0x528f4d(0xc7),Promise)],FunctionsController['prototype'],a51_0x528f4d(0xc3),null),__decorate([(0x0,core_1[a51_0x528f4d(0xea)])(a51_0x528f4d(0xeb)),__param(0x0,core_1['param'][a51_0x528f4d(0xe6)]()),__metadata(a51_0x528f4d(0xe2),Function),__metadata(a51_0x528f4d(0xe9),[Object]),__metadata(a51_0x528f4d(0xc7),Promise)],FunctionsController[a51_0x528f4d(0xcd)],a51_0x528f4d(0xc4),null),__decorate([(0x0,core_1['Post'])(a51_0x528f4d(0xd7)),__param(0x0,core_1[a51_0x528f4d(0xe0)]['body']()),__metadata(a51_0x528f4d(0xe2),Function),__metadata(a51_0x528f4d(0xe9),[Object]),__metadata(a51_0x528f4d(0xc7),Promise)],FunctionsController['prototype'],a51_0x528f4d(0xd8),null),__decorate([(0x0,core_1[a51_0x528f4d(0xea)])(a51_0x528f4d(0xe7)),__param(0x0,core_1[a51_0x528f4d(0xe0)][a51_0x528f4d(0xe6)]()),__metadata(a51_0x528f4d(0xe2),Function),__metadata('design:paramtypes',[Object]),__metadata(a51_0x528f4d(0xc7),Promise)],FunctionsController[a51_0x528f4d(0xcd)],a51_0x528f4d(0xdb),null),FunctionsController=__decorate([(0x0,core_1['Controller'])('functions'),(0x0,core_1[a51_0x528f4d(0xfc)])('v1')],FunctionsController),exports[a51_0x528f4d(0xe3)]=FunctionsController;