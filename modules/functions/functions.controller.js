function a101_0x4cb7(_0x447595,_0x158280){const _0x2e60f5=a101_0x3819();return a101_0x4cb7=function(_0x568c7a,_0x3bf661){_0x568c7a=_0x568c7a-0x136;let _0x38191f=_0x2e60f5[_0x568c7a];return _0x38191f;},a101_0x4cb7(_0x447595,_0x158280);}const a101_0x55cc46=a101_0x4cb7;(function(_0x18014f,_0x145cb0){const _0x38961b=a101_0x4cb7,_0x293dba=_0x18014f();while(!![]){try{const _0x5c581c=parseInt(_0x38961b(0x159))/0x1+parseInt(_0x38961b(0x17c))/0x2*(parseInt(_0x38961b(0x13c))/0x3)+-parseInt(_0x38961b(0x173))/0x4*(-parseInt(_0x38961b(0x147))/0x5)+-parseInt(_0x38961b(0x13f))/0x6+parseInt(_0x38961b(0x15f))/0x7+-parseInt(_0x38961b(0x167))/0x8*(-parseInt(_0x38961b(0x140))/0x9)+-parseInt(_0x38961b(0x169))/0xa*(parseInt(_0x38961b(0x16f))/0xb);if(_0x5c581c===_0x145cb0)break;else _0x293dba['push'](_0x293dba['shift']());}catch(_0xf1439b){_0x293dba['push'](_0x293dba['shift']());}}}(a101_0x3819,0xd3af9));const a101_0x3bf661=(function(){let _0x465fd0=!![];return function(_0x141e68,_0x48f59a){const _0x2e2e97=_0x465fd0?function(){if(_0x48f59a){const _0x1d37b8=_0x48f59a['apply'](_0x141e68,arguments);return _0x48f59a=null,_0x1d37b8;}}:function(){};return _0x465fd0=![],_0x2e2e97;};}()),a101_0x568c7a=a101_0x3bf661(this,function(){const _0xf9b53d=a101_0x4cb7;return a101_0x568c7a[_0xf9b53d(0x156)]()[_0xf9b53d(0x161)]('(((.+)+)+)+$')[_0xf9b53d(0x156)]()['constructor'](a101_0x568c7a)[_0xf9b53d(0x161)](_0xf9b53d(0x170));});a101_0x568c7a();'use strict';var __decorate=this&&this[a101_0x55cc46(0x16b)]||function(_0x37de9e,_0x1c85ba,_0x2a034a,_0x382568){const _0x3692bb=a101_0x55cc46;var _0x5db96a=arguments[_0x3692bb(0x144)],_0x64138e=_0x5db96a<0x3?_0x1c85ba:_0x382568===null?_0x382568=Object['getOwnPropertyDescriptor'](_0x1c85ba,_0x2a034a):_0x382568,_0x49ca40;if(typeof Reflect==='object'&&typeof Reflect[_0x3692bb(0x15a)]===_0x3692bb(0x172))_0x64138e=Reflect[_0x3692bb(0x15a)](_0x37de9e,_0x1c85ba,_0x2a034a,_0x382568);else{for(var _0x4ee44c=_0x37de9e['length']-0x1;_0x4ee44c>=0x0;_0x4ee44c--)if(_0x49ca40=_0x37de9e[_0x4ee44c])_0x64138e=(_0x5db96a<0x3?_0x49ca40(_0x64138e):_0x5db96a>0x3?_0x49ca40(_0x1c85ba,_0x2a034a,_0x64138e):_0x49ca40(_0x1c85ba,_0x2a034a))||_0x64138e;}return _0x5db96a>0x3&&_0x64138e&&Object[_0x3692bb(0x16c)](_0x1c85ba,_0x2a034a,_0x64138e),_0x64138e;},__metadata=this&&this[a101_0x55cc46(0x175)]||function(_0x2e44c0,_0x2497d4){const _0x5b3f50=a101_0x55cc46;if(typeof Reflect===_0x5b3f50(0x148)&&typeof Reflect[_0x5b3f50(0x176)]===_0x5b3f50(0x172))return Reflect[_0x5b3f50(0x176)](_0x2e44c0,_0x2497d4);},__param=this&&this[a101_0x55cc46(0x17a)]||function(_0x2eca05,_0x529edc){return function(_0x3a9e2b,_0x44ec60){_0x529edc(_0x3a9e2b,_0x44ec60,_0x2eca05);};};Object['defineProperty'](exports,a101_0x55cc46(0x146),{'value':!![]}),exports[a101_0x55cc46(0x136)]=void 0x0;function a101_0x3819(){const _0x4b5643=['search','post','Version','retrieveZip','./services/fetch-test-classes.service','metadataLogId','8fPxgSy','createRequest','290lQWfuz','Logger','__decorate','defineProperty','generateAndDeployZip','credentials','974611LOMIpd','(((.+)+)+)+$','Controller','function','20uOqKAw','@flosum/salesforce','__metadata','metadata','Job\x20started\x20successfully','instanceUrl','create','__param','design:paramtypes','208fvMbVA','design:type','design:returntype','namespace','FunctionsController','GET_TESTS','error','Post','functions','message','42189OYlIji','/async','../../core','5344494ujytCR','5613633pPBuSO','catch','retrieve','/services/apexrest','length','fetch-test-classes','__esModule','1121005RBZGvr','object','SAVE_BACKUP_ZIP','./services/retrieve-zip.service','fetchTestClasses','param','prototype','AuthUtils','then','SAVE_DEPLOY_ZIP','ERROR','../shared/managers/auth.manager','./types/salesforce-request.type','./utils/auth.utils','./utils/salesforce-request','toString','AxiosInstanceUtils','getAuthParameters','438915kdQumu','decorate','./services/generate-zip.service','body','deployComponents','./services/deploy-attachment.service','4767238xlyUur','OptionType'];a101_0x3819=function(){return _0x4b5643;};return a101_0x3819();}const core_1=require(a101_0x55cc46(0x13e)),salesforce_request_type_1=require(a101_0x55cc46(0x153)),retrieve_zip_service_1=require(a101_0x55cc46(0x14a)),generate_zip_service_1=require(a101_0x55cc46(0x15b)),fetch_test_classes_service_1=require(a101_0x55cc46(0x165)),deploy_attachment_service_1=require(a101_0x55cc46(0x15e)),salesforce_request_1=require(a101_0x55cc46(0x155)),auth_utils_1=require(a101_0x55cc46(0x154)),auth_manager_1=require(a101_0x55cc46(0x152)),salesforce_1=require(a101_0x55cc46(0x174)),logger=new core_1[(a101_0x55cc46(0x16a))]('server');let FunctionsController=class FunctionsController{async['retrieveZip'](_0x105532){const _0x557127=a101_0x55cc46,_0xf48f6b=(0x0,salesforce_request_1[_0x557127(0x168)])(auth_utils_1[_0x557127(0x14e)]['getAuthParameters'](_0x105532[_0x557127(0x178)]));return(0x0,retrieve_zip_service_1[_0x557127(0x164)])(_0x105532,_0xf48f6b)[_0x557127(0x14f)](()=>{const _0x41d1f1=_0x557127;return _0xf48f6b['post']('/services/apexrest'+salesforce_request_1[_0x41d1f1(0x17f)]+_0x41d1f1(0x13d),{'mdlId':_0x105532[_0x41d1f1(0x166)],'opType':salesforce_request_type_1[_0x41d1f1(0x160)][_0x41d1f1(0x149)]});})[_0x557127(0x141)](_0x45535d=>{const _0x294995=_0x557127;return _0xf48f6b['post'](_0x294995(0x143)+salesforce_request_1[_0x294995(0x17f)]+'/async',{'mdlId':_0x105532[_0x294995(0x166)],'opType':salesforce_request_type_1[_0x294995(0x160)][_0x294995(0x151)],'message':_0x45535d['message']||_0x45535d});})[_0x557127(0x141)](_0x4ca462=>logger[_0x557127(0x138)](_0x4ca462[_0x557127(0x13b)])),{'message':'Job\x20started\x20successfully'};}async[a101_0x55cc46(0x14b)](_0x4d2a3c){const _0x4e0b9e=a101_0x55cc46,_0x3e6afc=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4e0b9e(0x14e)]['getAuthParameters'](_0x4d2a3c['instanceUrl']));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x4d2a3c,_0x3e6afc)[_0x4e0b9e(0x14f)](()=>{const _0x59beed=_0x4e0b9e;return _0x3e6afc[_0x59beed(0x162)](_0x59beed(0x143)+salesforce_request_1[_0x59beed(0x17f)]+'/async',{'mdlId':_0x4d2a3c['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x59beed(0x137)]});})[_0x4e0b9e(0x141)](_0x43de3c=>{const _0x5bb26a=_0x4e0b9e;return _0x3e6afc['post'](_0x5bb26a(0x143)+salesforce_request_1[_0x5bb26a(0x17f)]+_0x5bb26a(0x13d),{'mdlId':_0x4d2a3c[_0x5bb26a(0x166)],'opType':salesforce_request_type_1['OptionType'][_0x5bb26a(0x151)],'message':_0x43de3c['message']||_0x43de3c});})[_0x4e0b9e(0x141)](_0x2b5883=>logger[_0x4e0b9e(0x138)](_0x2b5883[_0x4e0b9e(0x13b)])),{'message':_0x4e0b9e(0x177)};}async[a101_0x55cc46(0x16d)](_0x5587c6){const _0x3cbda6=a101_0x55cc46,_0x2fcd32=(0x0,salesforce_request_1[_0x3cbda6(0x168)])(auth_utils_1[_0x3cbda6(0x14e)][_0x3cbda6(0x158)](_0x5587c6['instanceUrl'])),_0x162356=await salesforce_1[_0x3cbda6(0x157)][_0x3cbda6(0x179)](new auth_manager_1['AuthManager'](_0x5587c6[_0x3cbda6(0x16e)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x5587c6,_0x2fcd32,_0x162356)[_0x3cbda6(0x14f)](_0x111a9e=>{const _0x554c56=_0x3cbda6;return _0x2fcd32['post'](_0x554c56(0x143)+salesforce_request_1[_0x554c56(0x17f)]+_0x554c56(0x13d),{'mdlId':_0x5587c6[_0x554c56(0x166)],'opType':salesforce_request_type_1[_0x554c56(0x160)][_0x554c56(0x150)],'attachment':_0x111a9e});})[_0x3cbda6(0x141)](_0x59f231=>{const _0x215a7e=_0x3cbda6;return _0x2fcd32['post'](_0x215a7e(0x143)+salesforce_request_1['namespace']+_0x215a7e(0x13d),{'mdlId':_0x5587c6[_0x215a7e(0x166)],'opType':salesforce_request_type_1[_0x215a7e(0x160)][_0x215a7e(0x151)],'message':_0x59f231[_0x215a7e(0x13b)]||_0x59f231});})[_0x3cbda6(0x141)](_0x565d26=>logger[_0x3cbda6(0x138)](_0x565d26[_0x3cbda6(0x13b)])),{'message':_0x3cbda6(0x177)};}async['deployComponents'](_0x304740){const _0x262aa4=a101_0x55cc46,_0x2ac6ec=(0x0,salesforce_request_1[_0x262aa4(0x168)])(auth_utils_1[_0x262aa4(0x14e)][_0x262aa4(0x158)](_0x304740['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x262aa4(0x15d)])(_0x304740,_0x2ac6ec)[_0x262aa4(0x14f)](_0x17231f=>{const _0x2f6710=_0x262aa4;return _0x2ac6ec['post'](_0x2f6710(0x143)+salesforce_request_1[_0x2f6710(0x17f)]+_0x2f6710(0x13d),{'mdlId':_0x304740['metadataLogId'],'asyncId':_0x17231f,'opType':salesforce_request_type_1['OptionType']['DEPLOY']});})[_0x262aa4(0x141)](_0x36a1b8=>{const _0x2e2e60=_0x262aa4;return _0x2ac6ec['post'](_0x2e2e60(0x143)+salesforce_request_1[_0x2e2e60(0x17f)]+_0x2e2e60(0x13d),{'mdlId':_0x304740[_0x2e2e60(0x166)],'opType':salesforce_request_type_1['OptionType'][_0x2e2e60(0x151)],'message':_0x36a1b8[_0x2e2e60(0x13b)]||_0x36a1b8});})[_0x262aa4(0x141)](_0x3f7705=>logger['error'](_0x3f7705['message'])),{'message':_0x262aa4(0x177)};}};__decorate([(0x0,core_1[a101_0x55cc46(0x139)])(a101_0x55cc46(0x142)),__param(0x0,core_1['param'][a101_0x55cc46(0x15c)]()),__metadata(a101_0x55cc46(0x17d),Function),__metadata(a101_0x55cc46(0x17b),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a101_0x55cc46(0x14d)],a101_0x55cc46(0x164),null),__decorate([(0x0,core_1[a101_0x55cc46(0x139)])(a101_0x55cc46(0x145)),__param(0x0,core_1[a101_0x55cc46(0x14c)]['body']()),__metadata(a101_0x55cc46(0x17d),Function),__metadata(a101_0x55cc46(0x17b),[Object]),__metadata(a101_0x55cc46(0x17e),Promise)],FunctionsController[a101_0x55cc46(0x14d)],a101_0x55cc46(0x14b),null),__decorate([(0x0,core_1[a101_0x55cc46(0x139)])('generate-deploy-zip'),__param(0x0,core_1['param'][a101_0x55cc46(0x15c)]()),__metadata(a101_0x55cc46(0x17d),Function),__metadata(a101_0x55cc46(0x17b),[Object]),__metadata(a101_0x55cc46(0x17e),Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1['Post'])('deploy-components'),__param(0x0,core_1[a101_0x55cc46(0x14c)][a101_0x55cc46(0x15c)]()),__metadata('design:type',Function),__metadata(a101_0x55cc46(0x17b),[Object]),__metadata(a101_0x55cc46(0x17e),Promise)],FunctionsController['prototype'],a101_0x55cc46(0x15d),null),FunctionsController=__decorate([(0x0,core_1[a101_0x55cc46(0x171)])(a101_0x55cc46(0x13a)),(0x0,core_1[a101_0x55cc46(0x163)])('v1')],FunctionsController),exports[a101_0x55cc46(0x136)]=FunctionsController;