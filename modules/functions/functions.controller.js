const a83_0x1fe582=a83_0x3e6c;(function(_0x1f0b89,_0x306275){const _0x31d437=a83_0x3e6c,_0x7ca2b5=_0x1f0b89();while(!![]){try{const _0x5518b8=parseInt(_0x31d437(0x144))/0x1*(-parseInt(_0x31d437(0x12b))/0x2)+-parseInt(_0x31d437(0x12d))/0x3*(-parseInt(_0x31d437(0x135))/0x4)+-parseInt(_0x31d437(0x104))/0x5+-parseInt(_0x31d437(0x124))/0x6+parseInt(_0x31d437(0x138))/0x7*(-parseInt(_0x31d437(0x12f))/0x8)+parseInt(_0x31d437(0x12e))/0x9+parseInt(_0x31d437(0x116))/0xa;if(_0x5518b8===_0x306275)break;else _0x7ca2b5['push'](_0x7ca2b5['shift']());}catch(_0xf737c8){_0x7ca2b5['push'](_0x7ca2b5['shift']());}}}(a83_0x5773,0x82161));const a83_0x59df9a=(function(){let _0x47a23d=!![];return function(_0x4556ea,_0x474b1b){const _0x599093=_0x47a23d?function(){const _0xb54dc6=a83_0x3e6c;if(_0x474b1b){const _0xcddfb5=_0x474b1b[_0xb54dc6(0x105)](_0x4556ea,arguments);return _0x474b1b=null,_0xcddfb5;}}:function(){};return _0x47a23d=![],_0x599093;};}()),a83_0x5c01a0=a83_0x59df9a(this,function(){const _0x510152=a83_0x3e6c;return a83_0x5c01a0[_0x510152(0x10b)]()[_0x510152(0x136)]('(((.+)+)+)+$')[_0x510152(0x10b)]()[_0x510152(0x13c)](a83_0x5c01a0)[_0x510152(0x136)](_0x510152(0x141));});a83_0x5c01a0();function a83_0x3e6c(_0x2428ee,_0x33407e){const _0x1790c6=a83_0x5773();return a83_0x3e6c=function(_0x5c01a0,_0x59df9a){_0x5c01a0=_0x5c01a0-0x101;let _0x57732f=_0x1790c6[_0x5c01a0];return _0x57732f;},a83_0x3e6c(_0x2428ee,_0x33407e);}'use strict';var __decorate=this&&this[a83_0x1fe582(0x131)]||function(_0x4dcf86,_0x38a98b,_0x34e9bf,_0x1352c4){const _0x139c77=a83_0x1fe582;var _0x4de1ef=arguments[_0x139c77(0x13b)],_0x10c5c9=_0x4de1ef<0x3?_0x38a98b:_0x1352c4===null?_0x1352c4=Object[_0x139c77(0x103)](_0x38a98b,_0x34e9bf):_0x1352c4,_0x402e70;if(typeof Reflect===_0x139c77(0x143)&&typeof Reflect[_0x139c77(0x111)]===_0x139c77(0x101))_0x10c5c9=Reflect[_0x139c77(0x111)](_0x4dcf86,_0x38a98b,_0x34e9bf,_0x1352c4);else{for(var _0x3a6a88=_0x4dcf86['length']-0x1;_0x3a6a88>=0x0;_0x3a6a88--)if(_0x402e70=_0x4dcf86[_0x3a6a88])_0x10c5c9=(_0x4de1ef<0x3?_0x402e70(_0x10c5c9):_0x4de1ef>0x3?_0x402e70(_0x38a98b,_0x34e9bf,_0x10c5c9):_0x402e70(_0x38a98b,_0x34e9bf))||_0x10c5c9;}return _0x4de1ef>0x3&&_0x10c5c9&&Object['defineProperty'](_0x38a98b,_0x34e9bf,_0x10c5c9),_0x10c5c9;},__metadata=this&&this[a83_0x1fe582(0x133)]||function(_0x409b23,_0xae4bf){const _0x3122b9=a83_0x1fe582;if(typeof Reflect==='object'&&typeof Reflect[_0x3122b9(0x126)]===_0x3122b9(0x101))return Reflect[_0x3122b9(0x126)](_0x409b23,_0xae4bf);},__param=this&&this[a83_0x1fe582(0x10a)]||function(_0x17d22b,_0x586b28){return function(_0xfca13e,_0x4db2a3){_0x586b28(_0xfca13e,_0x4db2a3,_0x17d22b);};};function a83_0x5773(){const _0x554e01=['(((.+)+)+)+$','deployComponents','object','416533JRDHKr','function','fetch-test-classes','getOwnPropertyDescriptor','1384060KtdlTZ','apply','AuthUtils','Post','message','metadataLogId','__param','toString','./utils/salesforce-request','generateAndDeployZip','./services/deploy-attachment.service','getAuthParameters','Job\x20started\x20successfully','decorate','design:type','FunctionsController','__esModule','OptionType','2939130wbNguw','catch','deploy-components','design:paramtypes','SAVE_BACKUP_ZIP','retrieveZip','Version','SAVE_DEPLOY_ZIP','then','param','namespace','prototype','Logger','fetchTestClasses','439914tiovlG','./services/fetch-test-classes.service','metadata','instanceUrl','error','./types/salesforce-request.type','Controller','2sWOray','design:returntype','9OonggK','6881931pJSNMk','8allPqb','ERROR','__decorate','post','__metadata','server','471784CfiSCu','search','defineProperty','790391HoHPmI','createRequest','DEPLOY','length','constructor','/async','./services/generate-zip.service','/services/apexrest','body'];a83_0x5773=function(){return _0x554e01;};return a83_0x5773();}Object[a83_0x1fe582(0x137)](exports,a83_0x1fe582(0x114),{'value':!![]}),exports[a83_0x1fe582(0x113)]=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require(a83_0x1fe582(0x129)),retrieve_zip_service_1=require('./services/retrieve-zip.service'),generate_zip_service_1=require(a83_0x1fe582(0x13e)),fetch_test_classes_service_1=require(a83_0x1fe582(0x125)),deploy_attachment_service_1=require(a83_0x1fe582(0x10e)),salesforce_request_1=require(a83_0x1fe582(0x10c)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a83_0x1fe582(0x122))](a83_0x1fe582(0x134));let FunctionsController=class FunctionsController{async[a83_0x1fe582(0x11b)](_0x113834){const _0x2b0d95=a83_0x1fe582,_0x58157b=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x2b0d95(0x106)][_0x2b0d95(0x10f)](_0x113834[_0x2b0d95(0x127)]));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x113834,_0x58157b)['then'](()=>{const _0x45d20b=_0x2b0d95;return _0x58157b['post'](_0x45d20b(0x13f)+salesforce_request_1['namespace']+_0x45d20b(0x13d),{'mdlId':_0x113834[_0x45d20b(0x109)],'opType':salesforce_request_type_1[_0x45d20b(0x115)][_0x45d20b(0x11a)]});})[_0x2b0d95(0x117)](_0x1b85b1=>{const _0xc59d9d=_0x2b0d95;return _0x58157b[_0xc59d9d(0x132)](_0xc59d9d(0x13f)+salesforce_request_1[_0xc59d9d(0x120)]+_0xc59d9d(0x13d),{'mdlId':_0x113834[_0xc59d9d(0x109)],'opType':salesforce_request_type_1['OptionType'][_0xc59d9d(0x130)],'message':_0x1b85b1['message']||_0x1b85b1});})[_0x2b0d95(0x117)](_0x397007=>logger[_0x2b0d95(0x128)](_0x397007[_0x2b0d95(0x108)])),{'message':_0x2b0d95(0x110)};}async[a83_0x1fe582(0x123)](_0x5984e7){const _0x450d35=a83_0x1fe582,_0x472f47=(0x0,salesforce_request_1[_0x450d35(0x139)])(auth_utils_1[_0x450d35(0x106)]['getAuthParameters'](_0x5984e7[_0x450d35(0x127)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x5984e7,_0x472f47)[_0x450d35(0x11e)](()=>{const _0x25417e=_0x450d35;return _0x472f47[_0x25417e(0x132)](_0x25417e(0x13f)+salesforce_request_1[_0x25417e(0x120)]+_0x25417e(0x13d),{'mdlId':_0x5984e7[_0x25417e(0x109)],'opType':salesforce_request_type_1[_0x25417e(0x115)]['GET_TESTS']});})[_0x450d35(0x117)](_0x2a36d0=>{const _0x3bfbb3=_0x450d35;return _0x472f47[_0x3bfbb3(0x132)]('/services/apexrest'+salesforce_request_1[_0x3bfbb3(0x120)]+_0x3bfbb3(0x13d),{'mdlId':_0x5984e7['metadataLogId'],'opType':salesforce_request_type_1[_0x3bfbb3(0x115)][_0x3bfbb3(0x130)],'message':_0x2a36d0[_0x3bfbb3(0x108)]||_0x2a36d0});})[_0x450d35(0x117)](_0x17f895=>logger[_0x450d35(0x128)](_0x17f895[_0x450d35(0x108)])),{'message':_0x450d35(0x110)};}async[a83_0x1fe582(0x10d)](_0x3374e8){const _0x54ab43=a83_0x1fe582,_0x5735ab=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x54ab43(0x106)]['getAuthParameters'](_0x3374e8[_0x54ab43(0x127)]));return(0x0,generate_zip_service_1[_0x54ab43(0x10d)])(_0x3374e8,_0x5735ab)['then'](_0xb16239=>{const _0x8aae85=_0x54ab43;return _0x5735ab['post'](_0x8aae85(0x13f)+salesforce_request_1[_0x8aae85(0x120)]+_0x8aae85(0x13d),{'mdlId':_0x3374e8[_0x8aae85(0x109)],'opType':salesforce_request_type_1[_0x8aae85(0x115)][_0x8aae85(0x11d)],'attachment':_0xb16239});})[_0x54ab43(0x117)](_0x43074c=>{const _0x1b8143=_0x54ab43;return _0x5735ab[_0x1b8143(0x132)](_0x1b8143(0x13f)+salesforce_request_1[_0x1b8143(0x120)]+_0x1b8143(0x13d),{'mdlId':_0x3374e8[_0x1b8143(0x109)],'opType':salesforce_request_type_1['OptionType'][_0x1b8143(0x130)],'message':_0x43074c[_0x1b8143(0x108)]||_0x43074c});})[_0x54ab43(0x117)](_0x3c64c5=>logger['error'](_0x3c64c5[_0x54ab43(0x108)])),{'message':_0x54ab43(0x110)};}async[a83_0x1fe582(0x142)](_0x221398){const _0x5864a8=a83_0x1fe582,_0x26793f=(0x0,salesforce_request_1[_0x5864a8(0x139)])(auth_utils_1[_0x5864a8(0x106)][_0x5864a8(0x10f)](_0x221398[_0x5864a8(0x127)]));return(0x0,deploy_attachment_service_1[_0x5864a8(0x142)])(_0x221398,_0x26793f)[_0x5864a8(0x11e)](_0x7cda63=>{const _0xbb0f2b=_0x5864a8;return _0x26793f[_0xbb0f2b(0x132)]('/services/apexrest'+salesforce_request_1[_0xbb0f2b(0x120)]+_0xbb0f2b(0x13d),{'mdlId':_0x221398[_0xbb0f2b(0x109)],'asyncId':_0x7cda63,'opType':salesforce_request_type_1['OptionType'][_0xbb0f2b(0x13a)]});})[_0x5864a8(0x117)](_0x41bc20=>{const _0x43545c=_0x5864a8;return _0x26793f['post']('/services/apexrest'+salesforce_request_1['namespace']+_0x43545c(0x13d),{'mdlId':_0x221398['metadataLogId'],'opType':salesforce_request_type_1[_0x43545c(0x115)]['ERROR'],'message':_0x41bc20[_0x43545c(0x108)]||_0x41bc20});})[_0x5864a8(0x117)](_0x200bb3=>logger[_0x5864a8(0x128)](_0x200bb3[_0x5864a8(0x108)])),{'message':_0x5864a8(0x110)};}};__decorate([(0x0,core_1[a83_0x1fe582(0x107)])('retrieve'),__param(0x0,core_1[a83_0x1fe582(0x11f)][a83_0x1fe582(0x140)]()),__metadata(a83_0x1fe582(0x112),Function),__metadata(a83_0x1fe582(0x119),[Object]),__metadata(a83_0x1fe582(0x12c),Promise)],FunctionsController[a83_0x1fe582(0x121)],a83_0x1fe582(0x11b),null),__decorate([(0x0,core_1[a83_0x1fe582(0x107)])(a83_0x1fe582(0x102)),__param(0x0,core_1[a83_0x1fe582(0x11f)][a83_0x1fe582(0x140)]()),__metadata(a83_0x1fe582(0x112),Function),__metadata(a83_0x1fe582(0x119),[Object]),__metadata(a83_0x1fe582(0x12c),Promise)],FunctionsController[a83_0x1fe582(0x121)],a83_0x1fe582(0x123),null),__decorate([(0x0,core_1[a83_0x1fe582(0x107)])('generate-deploy-zip'),__param(0x0,core_1[a83_0x1fe582(0x11f)]['body']()),__metadata(a83_0x1fe582(0x112),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x1fe582(0x12c),Promise)],FunctionsController[a83_0x1fe582(0x121)],'generateAndDeployZip',null),__decorate([(0x0,core_1['Post'])(a83_0x1fe582(0x118)),__param(0x0,core_1['param'][a83_0x1fe582(0x140)]()),__metadata(a83_0x1fe582(0x112),Function),__metadata(a83_0x1fe582(0x119),[Object]),__metadata(a83_0x1fe582(0x12c),Promise)],FunctionsController['prototype'],a83_0x1fe582(0x142),null),FunctionsController=__decorate([(0x0,core_1[a83_0x1fe582(0x12a)])('functions'),(0x0,core_1[a83_0x1fe582(0x11c)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;