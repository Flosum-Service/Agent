const a83_0x3ce7bf=a83_0x440a;(function(_0xb2a580,_0x42cf57){const _0x28299d=a83_0x440a,_0x1fdfc8=_0xb2a580();while(!![]){try{const _0x297a89=-parseInt(_0x28299d(0x12e))/0x1*(-parseInt(_0x28299d(0x10c))/0x2)+-parseInt(_0x28299d(0x13d))/0x3*(parseInt(_0x28299d(0x107))/0x4)+parseInt(_0x28299d(0x109))/0x5*(parseInt(_0x28299d(0x121))/0x6)+parseInt(_0x28299d(0x103))/0x7+parseInt(_0x28299d(0x108))/0x8*(parseInt(_0x28299d(0x13e))/0x9)+-parseInt(_0x28299d(0x125))/0xa+-parseInt(_0x28299d(0x124))/0xb*(-parseInt(_0x28299d(0x13b))/0xc);if(_0x297a89===_0x42cf57)break;else _0x1fdfc8['push'](_0x1fdfc8['shift']());}catch(_0x5e515f){_0x1fdfc8['push'](_0x1fdfc8['shift']());}}}(a83_0x5cc8,0x861de));const a83_0x4ae469=(function(){let _0x15ab9c=!![];return function(_0x1351f7,_0x1fc1ad){const _0xec3df1=_0x15ab9c?function(){const _0x10860f=a83_0x440a;if(_0x1fc1ad){const _0x22f84d=_0x1fc1ad[_0x10860f(0x123)](_0x1351f7,arguments);return _0x1fc1ad=null,_0x22f84d;}}:function(){};return _0x15ab9c=![],_0xec3df1;};}()),a83_0x2dca7a=a83_0x4ae469(this,function(){const _0x383449=a83_0x440a;return a83_0x2dca7a[_0x383449(0x118)]()[_0x383449(0x13a)](_0x383449(0x139))['toString']()['constructor'](a83_0x2dca7a)[_0x383449(0x13a)](_0x383449(0x139));});a83_0x2dca7a();function a83_0x440a(_0x5d25dc,_0x52d3bd){const _0x3b7a8f=a83_0x5cc8();return a83_0x440a=function(_0x2dca7a,_0x4ae469){_0x2dca7a=_0x2dca7a-0x103;let _0x5cc810=_0x3b7a8f[_0x2dca7a];return _0x5cc810;},a83_0x440a(_0x5d25dc,_0x52d3bd);}'use strict';var __decorate=this&&this[a83_0x3ce7bf(0x13f)]||function(_0x3fd3c2,_0x47b82e,_0x3a2622,_0x43add5){const _0x46efa9=a83_0x3ce7bf;var _0x43edb6=arguments[_0x46efa9(0x12f)],_0xaa73d5=_0x43edb6<0x3?_0x47b82e:_0x43add5===null?_0x43add5=Object['getOwnPropertyDescriptor'](_0x47b82e,_0x3a2622):_0x43add5,_0x115171;if(typeof Reflect===_0x46efa9(0x10d)&&typeof Reflect['decorate']===_0x46efa9(0x117))_0xaa73d5=Reflect[_0x46efa9(0x11f)](_0x3fd3c2,_0x47b82e,_0x3a2622,_0x43add5);else{for(var _0x36ba7e=_0x3fd3c2[_0x46efa9(0x12f)]-0x1;_0x36ba7e>=0x0;_0x36ba7e--)if(_0x115171=_0x3fd3c2[_0x36ba7e])_0xaa73d5=(_0x43edb6<0x3?_0x115171(_0xaa73d5):_0x43edb6>0x3?_0x115171(_0x47b82e,_0x3a2622,_0xaa73d5):_0x115171(_0x47b82e,_0x3a2622))||_0xaa73d5;}return _0x43edb6>0x3&&_0xaa73d5&&Object[_0x46efa9(0x10b)](_0x47b82e,_0x3a2622,_0xaa73d5),_0xaa73d5;},__metadata=this&&this[a83_0x3ce7bf(0x11a)]||function(_0x2474d1,_0x13d216){const _0x556323=a83_0x3ce7bf;if(typeof Reflect===_0x556323(0x10d)&&typeof Reflect[_0x556323(0x12d)]===_0x556323(0x117))return Reflect[_0x556323(0x12d)](_0x2474d1,_0x13d216);},__param=this&&this[a83_0x3ce7bf(0x10e)]||function(_0x4dc3b5,_0x205770){return function(_0x5488d2,_0x4c11bc){_0x205770(_0x5488d2,_0x4c11bc,_0x4dc3b5);};};Object['defineProperty'](exports,a83_0x3ce7bf(0x104),{'value':!![]}),exports[a83_0x3ce7bf(0x110)]=void 0x0;const core_1=require(a83_0x3ce7bf(0x12b)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a83_0x3ce7bf(0x113)),generate_zip_service_1=require(a83_0x3ce7bf(0x136)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a83_0x3ce7bf(0x11c)),salesforce_request_1=require(a83_0x3ce7bf(0x120)),auth_utils_1=require(a83_0x3ce7bf(0x115)),logger=new core_1[(a83_0x3ce7bf(0x126))]('server');function a83_0x5cc8(){const _0x59ea04=['9JivEBG','__decorate','OptionType','GET_TESTS','ERROR','generate-deploy-zip','Job\x20started\x20successfully','SAVE_DEPLOY_ZIP','getAuthParameters','504742HvZATt','__esModule','instanceUrl','namespace','268ynQRKZ','4806584aDpbho','10pvDGQT','prototype','defineProperty','2XzcErR','object','__param','design:paramtypes','FunctionsController','body','SAVE_BACKUP_ZIP','./services/retrieve-zip.service','/services/apexrest','./utils/auth.utils','/async','function','toString','functions','__metadata','generateAndDeployZip','./services/deploy-attachment.service','param','deployComponents','decorate','./utils/salesforce-request','806118NSLiXE','retrieveZip','apply','88IylswW','886640JxEwGx','Logger','catch','post','design:type','message','../../core','Controller','metadata','110167UVXNud','length','then','error','fetchTestClasses','createRequest','AuthUtils','design:returntype','./services/generate-zip.service','deploy-components','metadataLogId','(((.+)+)+)+$','search','877560BDpzwe','Post','44724dXZPXC'];a83_0x5cc8=function(){return _0x59ea04;};return a83_0x5cc8();}let FunctionsController=class FunctionsController{async[a83_0x3ce7bf(0x122)](_0x43efa4){const _0x587865=a83_0x3ce7bf,_0x59d8dd=(0x0,salesforce_request_1[_0x587865(0x133)])(auth_utils_1['AuthUtils'][_0x587865(0x146)](_0x43efa4[_0x587865(0x105)]));return(0x0,retrieve_zip_service_1[_0x587865(0x122)])(_0x43efa4,_0x59d8dd)[_0x587865(0x130)](()=>{const _0xb7c962=_0x587865;return _0x59d8dd[_0xb7c962(0x128)]('/services/apexrest'+salesforce_request_1[_0xb7c962(0x106)]+_0xb7c962(0x116),{'mdlId':_0x43efa4[_0xb7c962(0x138)],'opType':salesforce_request_type_1[_0xb7c962(0x140)][_0xb7c962(0x112)]});})[_0x587865(0x127)](_0x4861a6=>{const _0x13c7be=_0x587865;return _0x59d8dd[_0x13c7be(0x128)](_0x13c7be(0x114)+salesforce_request_1[_0x13c7be(0x106)]+_0x13c7be(0x116),{'mdlId':_0x43efa4[_0x13c7be(0x138)],'opType':salesforce_request_type_1[_0x13c7be(0x140)][_0x13c7be(0x142)],'message':_0x4861a6['message']||_0x4861a6});})[_0x587865(0x127)](_0x594436=>logger[_0x587865(0x131)](_0x594436['message'])),{'message':_0x587865(0x144)};}async[a83_0x3ce7bf(0x132)](_0x5ee5e0){const _0x14e258=a83_0x3ce7bf,_0x53c0b0=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x14e258(0x134)][_0x14e258(0x146)](_0x5ee5e0[_0x14e258(0x105)]));return(0x0,fetch_test_classes_service_1[_0x14e258(0x132)])(_0x5ee5e0,_0x53c0b0)['then'](()=>{const _0x4408cf=_0x14e258;return _0x53c0b0[_0x4408cf(0x128)](_0x4408cf(0x114)+salesforce_request_1[_0x4408cf(0x106)]+_0x4408cf(0x116),{'mdlId':_0x5ee5e0[_0x4408cf(0x138)],'opType':salesforce_request_type_1[_0x4408cf(0x140)][_0x4408cf(0x141)]});})[_0x14e258(0x127)](_0x1d28bb=>{const _0x5d1e6d=_0x14e258;return _0x53c0b0[_0x5d1e6d(0x128)](_0x5d1e6d(0x114)+salesforce_request_1[_0x5d1e6d(0x106)]+'/async',{'mdlId':_0x5ee5e0[_0x5d1e6d(0x138)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x1d28bb['message']||_0x1d28bb});})[_0x14e258(0x127)](_0x30e2d1=>logger[_0x14e258(0x131)](_0x30e2d1[_0x14e258(0x12a)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x3ce7bf(0x11b)](_0x133c2a){const _0x3ca47d=a83_0x3ce7bf,_0x5d2d8c=(0x0,salesforce_request_1[_0x3ca47d(0x133)])(auth_utils_1[_0x3ca47d(0x134)][_0x3ca47d(0x146)](_0x133c2a['instanceUrl']));return(0x0,generate_zip_service_1[_0x3ca47d(0x11b)])(_0x133c2a,_0x5d2d8c)['then'](_0x3201aa=>{const _0x44bd58=_0x3ca47d;return _0x5d2d8c['post'](_0x44bd58(0x114)+salesforce_request_1['namespace']+_0x44bd58(0x116),{'mdlId':_0x133c2a[_0x44bd58(0x138)],'opType':salesforce_request_type_1[_0x44bd58(0x140)][_0x44bd58(0x145)],'attachment':_0x3201aa});})['catch'](_0x32588f=>{const _0x2f704c=_0x3ca47d;return _0x5d2d8c['post'](_0x2f704c(0x114)+salesforce_request_1[_0x2f704c(0x106)]+_0x2f704c(0x116),{'mdlId':_0x133c2a[_0x2f704c(0x138)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x32588f[_0x2f704c(0x12a)]||_0x32588f});})[_0x3ca47d(0x127)](_0x41afe7=>logger[_0x3ca47d(0x131)](_0x41afe7[_0x3ca47d(0x12a)])),{'message':_0x3ca47d(0x144)};}async['deployComponents'](_0x4a22c5){const _0x16539f=a83_0x3ce7bf,_0x9ae0d9=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x16539f(0x134)][_0x16539f(0x146)](_0x4a22c5[_0x16539f(0x105)]));return(0x0,deploy_attachment_service_1[_0x16539f(0x11e)])(_0x4a22c5,_0x9ae0d9)['then'](_0x38c995=>{const _0x1539e7=_0x16539f;return _0x9ae0d9[_0x1539e7(0x128)](_0x1539e7(0x114)+salesforce_request_1[_0x1539e7(0x106)]+_0x1539e7(0x116),{'mdlId':_0x4a22c5['metadataLogId'],'asyncId':_0x38c995,'opType':salesforce_request_type_1[_0x1539e7(0x140)]['DEPLOY']});})[_0x16539f(0x127)](_0x2f8722=>{const _0x3c7f64=_0x16539f;return _0x9ae0d9[_0x3c7f64(0x128)](_0x3c7f64(0x114)+salesforce_request_1[_0x3c7f64(0x106)]+_0x3c7f64(0x116),{'mdlId':_0x4a22c5[_0x3c7f64(0x138)],'opType':salesforce_request_type_1[_0x3c7f64(0x140)][_0x3c7f64(0x142)],'message':_0x2f8722[_0x3c7f64(0x12a)]||_0x2f8722});})[_0x16539f(0x127)](_0x5acfee=>logger[_0x16539f(0x131)](_0x5acfee[_0x16539f(0x12a)])),{'message':_0x16539f(0x144)};}};__decorate([(0x0,core_1[a83_0x3ce7bf(0x13c)])('retrieve'),__param(0x0,core_1[a83_0x3ce7bf(0x11d)][a83_0x3ce7bf(0x111)]()),__metadata(a83_0x3ce7bf(0x129),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x3ce7bf(0x10a)],'retrieveZip',null),__decorate([(0x0,core_1[a83_0x3ce7bf(0x13c)])('fetch-test-classes'),__param(0x0,core_1['param'][a83_0x3ce7bf(0x111)]()),__metadata(a83_0x3ce7bf(0x129),Function),__metadata(a83_0x3ce7bf(0x10f),[Object]),__metadata(a83_0x3ce7bf(0x135),Promise)],FunctionsController['prototype'],a83_0x3ce7bf(0x132),null),__decorate([(0x0,core_1[a83_0x3ce7bf(0x13c)])(a83_0x3ce7bf(0x143)),__param(0x0,core_1[a83_0x3ce7bf(0x11d)][a83_0x3ce7bf(0x111)]()),__metadata(a83_0x3ce7bf(0x129),Function),__metadata(a83_0x3ce7bf(0x10f),[Object]),__metadata(a83_0x3ce7bf(0x135),Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1[a83_0x3ce7bf(0x13c)])(a83_0x3ce7bf(0x137)),__param(0x0,core_1['param'][a83_0x3ce7bf(0x111)]()),__metadata('design:type',Function),__metadata(a83_0x3ce7bf(0x10f),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x3ce7bf(0x10a)],a83_0x3ce7bf(0x11e),null),FunctionsController=__decorate([(0x0,core_1[a83_0x3ce7bf(0x12c)])(a83_0x3ce7bf(0x119)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;