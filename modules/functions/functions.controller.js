const a101_0x3f9184=a101_0x837a;(function(_0x372213,_0x11e56a){const _0x487741=a101_0x837a,_0x171ac0=_0x372213();while(!![]){try{const _0x20c213=-parseInt(_0x487741(0x14d))/0x1+parseInt(_0x487741(0x125))/0x2+-parseInt(_0x487741(0x155))/0x3*(-parseInt(_0x487741(0x13c))/0x4)+-parseInt(_0x487741(0x124))/0x5*(-parseInt(_0x487741(0x143))/0x6)+-parseInt(_0x487741(0x14f))/0x7*(-parseInt(_0x487741(0x12c))/0x8)+-parseInt(_0x487741(0x115))/0x9*(parseInt(_0x487741(0x128))/0xa)+-parseInt(_0x487741(0x11d))/0xb;if(_0x20c213===_0x11e56a)break;else _0x171ac0['push'](_0x171ac0['shift']());}catch(_0x392d1d){_0x171ac0['push'](_0x171ac0['shift']());}}}(a101_0x14bf,0x262d8));function a101_0x14bf(){const _0x29823f=['AuthUtils','25794DdrApX','__metadata','toString','functions','search','getAuthParameters','FunctionsController','./services/deploy-attachment.service','Post','OptionType','158990Qdiexs','retrieveZip','12047XxBIYb','./services/generate-zip.service','generateAndDeployZip','constructor','./types/salesforce-request.type','retrieve','33909bFRuHe','(((.+)+)+)+$','credentials','ERROR','DEPLOY','fetch-test-classes','getOwnPropertyDescriptor','/async','/services/apexrest','./utils/salesforce-request','createRequest','27SaFkVh','SAVE_DEPLOY_ZIP','./services/fetch-test-classes.service','error','./utils/auth.utils','body','Job\x20started\x20successfully','create','2116323qECfwY','deployComponents','Version','SAVE_BACKUP_ZIP','catch','decorate','design:paramtypes','265QRGBzz','25182wnLSOA','__esModule','design:type','79830uVuKpV','./services/retrieve-zip.service','__param','then','776hnrBpX','function','object','post','design:returntype','deploy-components','../../core','Logger','@flosum/salesforce','length','prototype','param','metadata','instanceUrl','namespace','fetchTestClasses','44bXDIPe','__decorate','Controller','message','defineProperty','metadataLogId'];a101_0x14bf=function(){return _0x29823f;};return a101_0x14bf();}const a101_0x5023a8=(function(){let _0x2eb0d0=!![];return function(_0x56fee0,_0x4f39c9){const _0x381e93=_0x2eb0d0?function(){if(_0x4f39c9){const _0x174b50=_0x4f39c9['apply'](_0x56fee0,arguments);return _0x4f39c9=null,_0x174b50;}}:function(){};return _0x2eb0d0=![],_0x381e93;};}()),a101_0x5a8f60=a101_0x5023a8(this,function(){const _0xc4c3be=a101_0x837a;return a101_0x5a8f60[_0xc4c3be(0x145)]()['search']('(((.+)+)+)+$')[_0xc4c3be(0x145)]()[_0xc4c3be(0x152)](a101_0x5a8f60)[_0xc4c3be(0x147)](_0xc4c3be(0x156));});a101_0x5a8f60();'use strict';var __decorate=this&&this[a101_0x3f9184(0x13d)]||function(_0x447b9d,_0x4d5db5,_0x444fbf,_0x1c478c){const _0x3fa00d=a101_0x3f9184;var _0x3ef5f5=arguments['length'],_0xc29122=_0x3ef5f5<0x3?_0x4d5db5:_0x1c478c===null?_0x1c478c=Object[_0x3fa00d(0x15b)](_0x4d5db5,_0x444fbf):_0x1c478c,_0x703d57;if(typeof Reflect===_0x3fa00d(0x12e)&&typeof Reflect[_0x3fa00d(0x122)]===_0x3fa00d(0x12d))_0xc29122=Reflect['decorate'](_0x447b9d,_0x4d5db5,_0x444fbf,_0x1c478c);else{for(var _0x432898=_0x447b9d[_0x3fa00d(0x135)]-0x1;_0x432898>=0x0;_0x432898--)if(_0x703d57=_0x447b9d[_0x432898])_0xc29122=(_0x3ef5f5<0x3?_0x703d57(_0xc29122):_0x3ef5f5>0x3?_0x703d57(_0x4d5db5,_0x444fbf,_0xc29122):_0x703d57(_0x4d5db5,_0x444fbf))||_0xc29122;}return _0x3ef5f5>0x3&&_0xc29122&&Object[_0x3fa00d(0x140)](_0x4d5db5,_0x444fbf,_0xc29122),_0xc29122;},__metadata=this&&this[a101_0x3f9184(0x144)]||function(_0x3b5e01,_0x16ed93){const _0x1821ec=a101_0x3f9184;if(typeof Reflect===_0x1821ec(0x12e)&&typeof Reflect[_0x1821ec(0x138)]===_0x1821ec(0x12d))return Reflect['metadata'](_0x3b5e01,_0x16ed93);},__param=this&&this[a101_0x3f9184(0x12a)]||function(_0x33a8f2,_0xc855c5){return function(_0x4071e7,_0x546ec2){_0xc855c5(_0x4071e7,_0x546ec2,_0x33a8f2);};};Object[a101_0x3f9184(0x140)](exports,a101_0x3f9184(0x126),{'value':!![]}),exports[a101_0x3f9184(0x149)]=void 0x0;function a101_0x837a(_0x302b24,_0x3d8537){const _0x433975=a101_0x14bf();return a101_0x837a=function(_0x5a8f60,_0x5023a8){_0x5a8f60=_0x5a8f60-0x111;let _0x14bff1=_0x433975[_0x5a8f60];return _0x14bff1;},a101_0x837a(_0x302b24,_0x3d8537);}const core_1=require(a101_0x3f9184(0x132)),salesforce_request_type_1=require(a101_0x3f9184(0x153)),retrieve_zip_service_1=require(a101_0x3f9184(0x129)),generate_zip_service_1=require(a101_0x3f9184(0x150)),fetch_test_classes_service_1=require(a101_0x3f9184(0x117)),deploy_attachment_service_1=require(a101_0x3f9184(0x14a)),salesforce_request_1=require(a101_0x3f9184(0x113)),auth_utils_1=require(a101_0x3f9184(0x119)),auth_manager_1=require('../shared/managers/auth.manager'),salesforce_1=require(a101_0x3f9184(0x134)),logger=new core_1[(a101_0x3f9184(0x133))]('server');let FunctionsController=class FunctionsController{async['retrieveZip'](_0x53619f){const _0x4cac42=a101_0x3f9184,_0x14caed=(0x0,salesforce_request_1[_0x4cac42(0x114)])(auth_utils_1['AuthUtils'][_0x4cac42(0x148)](_0x53619f['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x4cac42(0x14e)])(_0x53619f,_0x14caed)[_0x4cac42(0x12b)](()=>{const _0x114761=_0x4cac42;return _0x14caed[_0x114761(0x12f)]('/services/apexrest'+salesforce_request_1[_0x114761(0x13a)]+_0x114761(0x111),{'mdlId':_0x53619f[_0x114761(0x141)],'opType':salesforce_request_type_1['OptionType'][_0x114761(0x120)]});})['catch'](_0x5e3a21=>{const _0x229910=_0x4cac42;return _0x14caed[_0x229910(0x12f)](_0x229910(0x112)+salesforce_request_1[_0x229910(0x13a)]+_0x229910(0x111),{'mdlId':_0x53619f[_0x229910(0x141)],'opType':salesforce_request_type_1[_0x229910(0x14c)][_0x229910(0x158)],'message':_0x5e3a21[_0x229910(0x13f)]||_0x5e3a21});})[_0x4cac42(0x121)](_0x2c08e1=>logger[_0x4cac42(0x118)](_0x2c08e1[_0x4cac42(0x13f)])),{'message':_0x4cac42(0x11b)};}async[a101_0x3f9184(0x13b)](_0x76f66){const _0x484368=a101_0x3f9184,_0x38692d=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x484368(0x142)][_0x484368(0x148)](_0x76f66[_0x484368(0x139)]));return(0x0,fetch_test_classes_service_1[_0x484368(0x13b)])(_0x76f66,_0x38692d)[_0x484368(0x12b)](()=>{const _0x36c562=_0x484368;return _0x38692d[_0x36c562(0x12f)](_0x36c562(0x112)+salesforce_request_1[_0x36c562(0x13a)]+_0x36c562(0x111),{'mdlId':_0x76f66['metadataLogId'],'opType':salesforce_request_type_1[_0x36c562(0x14c)]['GET_TESTS']});})['catch'](_0x27b13f=>{const _0x575cca=_0x484368;return _0x38692d[_0x575cca(0x12f)](_0x575cca(0x112)+salesforce_request_1['namespace']+_0x575cca(0x111),{'mdlId':_0x76f66[_0x575cca(0x141)],'opType':salesforce_request_type_1[_0x575cca(0x14c)]['ERROR'],'message':_0x27b13f[_0x575cca(0x13f)]||_0x27b13f});})[_0x484368(0x121)](_0x186fc7=>logger['error'](_0x186fc7['message'])),{'message':'Job\x20started\x20successfully'};}async['generateAndDeployZip'](_0x1c7823){const _0x477036=a101_0x3f9184,_0x575b06=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x477036(0x148)](_0x1c7823[_0x477036(0x139)])),_0x478e77=await salesforce_1['AxiosInstanceUtils'][_0x477036(0x11c)](new auth_manager_1['AuthManager'](_0x1c7823[_0x477036(0x157)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x477036(0x151)])(_0x1c7823,_0x575b06,_0x478e77)[_0x477036(0x12b)](_0x40812d=>{const _0x53ebf3=_0x477036;return _0x575b06[_0x53ebf3(0x12f)]('/services/apexrest'+salesforce_request_1['namespace']+_0x53ebf3(0x111),{'mdlId':_0x1c7823[_0x53ebf3(0x141)],'opType':salesforce_request_type_1['OptionType'][_0x53ebf3(0x116)],'attachment':_0x40812d});})['catch'](_0x473bfc=>{const _0x1956a3=_0x477036;return _0x575b06[_0x1956a3(0x12f)](_0x1956a3(0x112)+salesforce_request_1[_0x1956a3(0x13a)]+_0x1956a3(0x111),{'mdlId':_0x1c7823['metadataLogId'],'opType':salesforce_request_type_1[_0x1956a3(0x14c)][_0x1956a3(0x158)],'message':_0x473bfc[_0x1956a3(0x13f)]||_0x473bfc});})[_0x477036(0x121)](_0x5425f4=>logger[_0x477036(0x118)](_0x5425f4['message'])),{'message':_0x477036(0x11b)};}async[a101_0x3f9184(0x11e)](_0x4be092){const _0x4ab59c=a101_0x3f9184,_0x43e330=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4ab59c(0x142)]['getAuthParameters'](_0x4be092[_0x4ab59c(0x139)]));return(0x0,deploy_attachment_service_1[_0x4ab59c(0x11e)])(_0x4be092,_0x43e330)['then'](_0x119552=>{const _0x4ac1ec=_0x4ab59c;return _0x43e330['post']('/services/apexrest'+salesforce_request_1[_0x4ac1ec(0x13a)]+_0x4ac1ec(0x111),{'mdlId':_0x4be092[_0x4ac1ec(0x141)],'asyncId':_0x119552,'opType':salesforce_request_type_1[_0x4ac1ec(0x14c)][_0x4ac1ec(0x159)]});})[_0x4ab59c(0x121)](_0x272fbe=>{const _0x54d246=_0x4ab59c;return _0x43e330['post'](_0x54d246(0x112)+salesforce_request_1['namespace']+_0x54d246(0x111),{'mdlId':_0x4be092[_0x54d246(0x141)],'opType':salesforce_request_type_1[_0x54d246(0x14c)][_0x54d246(0x158)],'message':_0x272fbe[_0x54d246(0x13f)]||_0x272fbe});})[_0x4ab59c(0x121)](_0x3f41fa=>logger[_0x4ab59c(0x118)](_0x3f41fa[_0x4ab59c(0x13f)])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1['Post'])(a101_0x3f9184(0x154)),__param(0x0,core_1[a101_0x3f9184(0x137)][a101_0x3f9184(0x11a)]()),__metadata(a101_0x3f9184(0x127),Function),__metadata(a101_0x3f9184(0x123),[Object]),__metadata(a101_0x3f9184(0x130),Promise)],FunctionsController[a101_0x3f9184(0x136)],'retrieveZip',null),__decorate([(0x0,core_1[a101_0x3f9184(0x14b)])(a101_0x3f9184(0x15a)),__param(0x0,core_1['param'][a101_0x3f9184(0x11a)]()),__metadata(a101_0x3f9184(0x127),Function),__metadata('design:paramtypes',[Object]),__metadata(a101_0x3f9184(0x130),Promise)],FunctionsController[a101_0x3f9184(0x136)],a101_0x3f9184(0x13b),null),__decorate([(0x0,core_1[a101_0x3f9184(0x14b)])('generate-deploy-zip'),__param(0x0,core_1[a101_0x3f9184(0x137)][a101_0x3f9184(0x11a)]()),__metadata(a101_0x3f9184(0x127),Function),__metadata(a101_0x3f9184(0x123),[Object]),__metadata(a101_0x3f9184(0x130),Promise)],FunctionsController['prototype'],a101_0x3f9184(0x151),null),__decorate([(0x0,core_1[a101_0x3f9184(0x14b)])(a101_0x3f9184(0x131)),__param(0x0,core_1['param']['body']()),__metadata('design:type',Function),__metadata(a101_0x3f9184(0x123),[Object]),__metadata(a101_0x3f9184(0x130),Promise)],FunctionsController['prototype'],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a101_0x3f9184(0x13e)])(a101_0x3f9184(0x146)),(0x0,core_1[a101_0x3f9184(0x11f)])('v1')],FunctionsController),exports[a101_0x3f9184(0x149)]=FunctionsController;