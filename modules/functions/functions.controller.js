const a82_0x4477f6=a82_0x20e5;function a82_0x20e5(_0x29957e,_0x13ea0a){const _0xcd439e=a82_0x429e();return a82_0x20e5=function(_0x50a69a,_0xfb9192){_0x50a69a=_0x50a69a-0x1b9;let _0x429e48=_0xcd439e[_0x50a69a];return _0x429e48;},a82_0x20e5(_0x29957e,_0x13ea0a);}(function(_0x556fcf,_0x34e227){const _0x3fd4e5=a82_0x20e5,_0x44cd54=_0x556fcf();while(!![]){try{const _0x83b4e2=parseInt(_0x3fd4e5(0x1c7))/0x1+parseInt(_0x3fd4e5(0x1c9))/0x2+-parseInt(_0x3fd4e5(0x1d0))/0x3+-parseInt(_0x3fd4e5(0x1f6))/0x4*(-parseInt(_0x3fd4e5(0x1cf))/0x5)+-parseInt(_0x3fd4e5(0x1bc))/0x6*(parseInt(_0x3fd4e5(0x1c5))/0x7)+parseInt(_0x3fd4e5(0x1da))/0x8+parseInt(_0x3fd4e5(0x1d3))/0x9;if(_0x83b4e2===_0x34e227)break;else _0x44cd54['push'](_0x44cd54['shift']());}catch(_0x17b99a){_0x44cd54['push'](_0x44cd54['shift']());}}}(a82_0x429e,0x7c443));const a82_0xfb9192=(function(){let _0x47936d=!![];return function(_0x50d414,_0x327174){const _0x267b5f=_0x47936d?function(){const _0x505d30=a82_0x20e5;if(_0x327174){const _0x19f6d4=_0x327174[_0x505d30(0x1e7)](_0x50d414,arguments);return _0x327174=null,_0x19f6d4;}}:function(){};return _0x47936d=![],_0x267b5f;};}()),a82_0x50a69a=a82_0xfb9192(this,function(){const _0x1a4440=a82_0x20e5;return a82_0x50a69a['toString']()['search']('(((.+)+)+)+$')[_0x1a4440(0x1e1)]()['constructor'](a82_0x50a69a)[_0x1a4440(0x1ce)](_0x1a4440(0x1d7));});function a82_0x429e(){const _0x42b934=['design:returntype','metadataLogId','8QaTKhb','object','Job\x20started\x20successfully','./utils/salesforce-request','./services/fetch-test-classes.service','defineProperty','instanceUrl','729642IjCqMW','retrieveZip','design:paramtypes','__esModule','catch','message','./services/retrieve-zip.service','server','ERROR','14kfzJCE','namespace','187836roFoYU','FunctionsController','1328356qPbBIo','fetchTestClasses','SAVE_DEPLOY_ZIP','/async','./services/deploy-attachment.service','search','168865TFIWTn','2108154PtLAig','SAVE_BACKUP_ZIP','createRequest','3597948ODOmYH','deployComponents','Logger','decorate','(((.+)+)+)+$','./utils/auth.utils','length','1084760NOrfjl','Post','OptionType','__metadata','post','retrieve','prototype','toString','Version','design:type','deploy-components','Controller','generate-deploy-zip','apply','fetch-test-classes','param','AuthUtils','/services/apexrest','body','function','__decorate','then','getAuthParameters','metadata','error','generateAndDeployZip'];a82_0x429e=function(){return _0x42b934;};return a82_0x429e();}a82_0x50a69a();'use strict';var __decorate=this&&this[a82_0x4477f6(0x1ee)]||function(_0x2f99a6,_0x3b9c7f,_0x300e96,_0x150f77){const _0x57bba0=a82_0x4477f6;var _0x1f4caf=arguments[_0x57bba0(0x1d9)],_0x3f9745=_0x1f4caf<0x3?_0x3b9c7f:_0x150f77===null?_0x150f77=Object['getOwnPropertyDescriptor'](_0x3b9c7f,_0x300e96):_0x150f77,_0x26ba59;if(typeof Reflect===_0x57bba0(0x1f7)&&typeof Reflect['decorate']===_0x57bba0(0x1ed))_0x3f9745=Reflect[_0x57bba0(0x1d6)](_0x2f99a6,_0x3b9c7f,_0x300e96,_0x150f77);else{for(var _0x1d2604=_0x2f99a6[_0x57bba0(0x1d9)]-0x1;_0x1d2604>=0x0;_0x1d2604--)if(_0x26ba59=_0x2f99a6[_0x1d2604])_0x3f9745=(_0x1f4caf<0x3?_0x26ba59(_0x3f9745):_0x1f4caf>0x3?_0x26ba59(_0x3b9c7f,_0x300e96,_0x3f9745):_0x26ba59(_0x3b9c7f,_0x300e96))||_0x3f9745;}return _0x1f4caf>0x3&&_0x3f9745&&Object[_0x57bba0(0x1ba)](_0x3b9c7f,_0x300e96,_0x3f9745),_0x3f9745;},__metadata=this&&this[a82_0x4477f6(0x1dd)]||function(_0x27e929,_0x542fbc){const _0x27eed6=a82_0x4477f6;if(typeof Reflect==='object'&&typeof Reflect[_0x27eed6(0x1f1)]===_0x27eed6(0x1ed))return Reflect[_0x27eed6(0x1f1)](_0x27e929,_0x542fbc);},__param=this&&this['__param']||function(_0x100aef,_0xdcdd9d){return function(_0xf27e8c,_0x388356){_0xdcdd9d(_0xf27e8c,_0x388356,_0x100aef);};};Object[a82_0x4477f6(0x1ba)](exports,a82_0x4477f6(0x1bf),{'value':!![]}),exports[a82_0x4477f6(0x1c8)]=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a82_0x4477f6(0x1c2)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a82_0x4477f6(0x1b9)),deploy_attachment_service_1=require(a82_0x4477f6(0x1cd)),salesforce_request_1=require(a82_0x4477f6(0x1f9)),auth_utils_1=require(a82_0x4477f6(0x1d8)),logger=new core_1[(a82_0x4477f6(0x1d5))](a82_0x4477f6(0x1c3));let FunctionsController=class FunctionsController{async[a82_0x4477f6(0x1bd)](_0x5dba26){const _0x5479e2=a82_0x4477f6,_0x18cccf=(0x0,salesforce_request_1[_0x5479e2(0x1d2)])(auth_utils_1[_0x5479e2(0x1ea)][_0x5479e2(0x1f0)](_0x5dba26[_0x5479e2(0x1bb)]));return(0x0,retrieve_zip_service_1[_0x5479e2(0x1bd)])(_0x5dba26,_0x18cccf)['then'](()=>{const _0x47bd5e=_0x5479e2;return _0x18cccf[_0x47bd5e(0x1de)](_0x47bd5e(0x1eb)+salesforce_request_1[_0x47bd5e(0x1c6)]+_0x47bd5e(0x1cc),{'mdlId':_0x5dba26[_0x47bd5e(0x1f5)],'opType':salesforce_request_type_1[_0x47bd5e(0x1dc)][_0x47bd5e(0x1d1)]});})['catch'](_0x16c690=>{const _0x79916c=_0x5479e2;return _0x18cccf[_0x79916c(0x1de)](_0x79916c(0x1eb)+salesforce_request_1[_0x79916c(0x1c6)]+_0x79916c(0x1cc),{'mdlId':_0x5dba26[_0x79916c(0x1f5)],'opType':salesforce_request_type_1[_0x79916c(0x1dc)][_0x79916c(0x1c4)],'message':_0x16c690[_0x79916c(0x1c1)]||_0x16c690});})[_0x5479e2(0x1c0)](_0x27aa26=>logger[_0x5479e2(0x1f2)](_0x27aa26[_0x5479e2(0x1c1)])),{'message':'Job\x20started\x20successfully'};}async[a82_0x4477f6(0x1ca)](_0x388aad){const _0x12b8cd=a82_0x4477f6,_0x13db19=(0x0,salesforce_request_1[_0x12b8cd(0x1d2)])(auth_utils_1[_0x12b8cd(0x1ea)][_0x12b8cd(0x1f0)](_0x388aad[_0x12b8cd(0x1bb)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x388aad,_0x13db19)['then'](()=>{const _0x291cf1=_0x12b8cd;return _0x13db19[_0x291cf1(0x1de)]('/services/apexrest'+salesforce_request_1[_0x291cf1(0x1c6)]+_0x291cf1(0x1cc),{'mdlId':_0x388aad['metadataLogId'],'opType':salesforce_request_type_1[_0x291cf1(0x1dc)]['GET_TESTS']});})['catch'](_0x874f1a=>{const _0x5d79d8=_0x12b8cd;return _0x13db19[_0x5d79d8(0x1de)]('/services/apexrest'+salesforce_request_1[_0x5d79d8(0x1c6)]+_0x5d79d8(0x1cc),{'mdlId':_0x388aad[_0x5d79d8(0x1f5)],'opType':salesforce_request_type_1[_0x5d79d8(0x1dc)][_0x5d79d8(0x1c4)],'message':_0x874f1a['message']||_0x874f1a});})[_0x12b8cd(0x1c0)](_0x52174b=>logger[_0x12b8cd(0x1f2)](_0x52174b[_0x12b8cd(0x1c1)])),{'message':_0x12b8cd(0x1f8)};}async[a82_0x4477f6(0x1f3)](_0x300044){const _0x1a8fb3=a82_0x4477f6,_0x175464=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x1a8fb3(0x1ea)][_0x1a8fb3(0x1f0)](_0x300044[_0x1a8fb3(0x1bb)]));return(0x0,generate_zip_service_1[_0x1a8fb3(0x1f3)])(_0x300044,_0x175464)[_0x1a8fb3(0x1ef)](_0x28c476=>{const _0x329b0a=_0x1a8fb3;return _0x175464[_0x329b0a(0x1de)](_0x329b0a(0x1eb)+salesforce_request_1[_0x329b0a(0x1c6)]+_0x329b0a(0x1cc),{'mdlId':_0x300044[_0x329b0a(0x1f5)],'opType':salesforce_request_type_1[_0x329b0a(0x1dc)][_0x329b0a(0x1cb)],'attachment':_0x28c476});})[_0x1a8fb3(0x1c0)](_0x53061e=>{const _0x1fc687=_0x1a8fb3;return _0x175464[_0x1fc687(0x1de)]('/services/apexrest'+salesforce_request_1[_0x1fc687(0x1c6)]+'/async',{'mdlId':_0x300044[_0x1fc687(0x1f5)],'opType':salesforce_request_type_1[_0x1fc687(0x1dc)][_0x1fc687(0x1c4)],'message':_0x53061e[_0x1fc687(0x1c1)]||_0x53061e});})[_0x1a8fb3(0x1c0)](_0x2cb6ec=>logger[_0x1a8fb3(0x1f2)](_0x2cb6ec[_0x1a8fb3(0x1c1)])),{'message':_0x1a8fb3(0x1f8)};}async[a82_0x4477f6(0x1d4)](_0x9e3216){const _0x2653d2=a82_0x4477f6,_0x2b3fc6=(0x0,salesforce_request_1[_0x2653d2(0x1d2)])(auth_utils_1[_0x2653d2(0x1ea)][_0x2653d2(0x1f0)](_0x9e3216[_0x2653d2(0x1bb)]));return(0x0,deploy_attachment_service_1[_0x2653d2(0x1d4)])(_0x9e3216,_0x2b3fc6)['then'](_0x414f7f=>{const _0x28dd6f=_0x2653d2;return _0x2b3fc6[_0x28dd6f(0x1de)](_0x28dd6f(0x1eb)+salesforce_request_1[_0x28dd6f(0x1c6)]+_0x28dd6f(0x1cc),{'mdlId':_0x9e3216[_0x28dd6f(0x1f5)],'asyncId':_0x414f7f,'opType':salesforce_request_type_1[_0x28dd6f(0x1dc)]['DEPLOY']});})[_0x2653d2(0x1c0)](_0x29c72e=>{const _0x26f1b0=_0x2653d2;return _0x2b3fc6[_0x26f1b0(0x1de)](_0x26f1b0(0x1eb)+salesforce_request_1[_0x26f1b0(0x1c6)]+_0x26f1b0(0x1cc),{'mdlId':_0x9e3216[_0x26f1b0(0x1f5)],'opType':salesforce_request_type_1[_0x26f1b0(0x1dc)][_0x26f1b0(0x1c4)],'message':_0x29c72e[_0x26f1b0(0x1c1)]||_0x29c72e});})[_0x2653d2(0x1c0)](_0x3d5e64=>logger['error'](_0x3d5e64[_0x2653d2(0x1c1)])),{'message':_0x2653d2(0x1f8)};}};__decorate([(0x0,core_1[a82_0x4477f6(0x1db)])(a82_0x4477f6(0x1df)),__param(0x0,core_1['param']['body']()),__metadata(a82_0x4477f6(0x1e3),Function),__metadata(a82_0x4477f6(0x1be),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x4477f6(0x1e0)],'retrieveZip',null),__decorate([(0x0,core_1[a82_0x4477f6(0x1db)])(a82_0x4477f6(0x1e8)),__param(0x0,core_1[a82_0x4477f6(0x1e9)][a82_0x4477f6(0x1ec)]()),__metadata(a82_0x4477f6(0x1e3),Function),__metadata(a82_0x4477f6(0x1be),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x4477f6(0x1e0)],'fetchTestClasses',null),__decorate([(0x0,core_1[a82_0x4477f6(0x1db)])(a82_0x4477f6(0x1e6)),__param(0x0,core_1[a82_0x4477f6(0x1e9)][a82_0x4477f6(0x1ec)]()),__metadata('design:type',Function),__metadata(a82_0x4477f6(0x1be),[Object]),__metadata(a82_0x4477f6(0x1f4),Promise)],FunctionsController[a82_0x4477f6(0x1e0)],a82_0x4477f6(0x1f3),null),__decorate([(0x0,core_1[a82_0x4477f6(0x1db)])(a82_0x4477f6(0x1e4)),__param(0x0,core_1['param'][a82_0x4477f6(0x1ec)]()),__metadata(a82_0x4477f6(0x1e3),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x4477f6(0x1e0)],a82_0x4477f6(0x1d4),null),FunctionsController=__decorate([(0x0,core_1[a82_0x4477f6(0x1e5)])('functions'),(0x0,core_1[a82_0x4477f6(0x1e2)])('v1')],FunctionsController),exports[a82_0x4477f6(0x1c8)]=FunctionsController;