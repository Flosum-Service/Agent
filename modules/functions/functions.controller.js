const a99_0x1b1b64=a99_0x29fe;(function(_0x3376cd,_0x38e057){const _0x4f2e7a=a99_0x29fe,_0x41bbe4=_0x3376cd();while(!![]){try{const _0x4f3392=parseInt(_0x4f2e7a(0x211))/0x1*(parseInt(_0x4f2e7a(0x203))/0x2)+parseInt(_0x4f2e7a(0x1ec))/0x3*(-parseInt(_0x4f2e7a(0x216))/0x4)+-parseInt(_0x4f2e7a(0x1dd))/0x5*(parseInt(_0x4f2e7a(0x20e))/0x6)+-parseInt(_0x4f2e7a(0x1e4))/0x7+parseInt(_0x4f2e7a(0x1f4))/0x8+-parseInt(_0x4f2e7a(0x209))/0x9*(-parseInt(_0x4f2e7a(0x1f8))/0xa)+-parseInt(_0x4f2e7a(0x1ff))/0xb;if(_0x4f3392===_0x38e057)break;else _0x41bbe4['push'](_0x41bbe4['shift']());}catch(_0x325b61){_0x41bbe4['push'](_0x41bbe4['shift']());}}}(a99_0x1ba1,0xc84f7));const a99_0x348d40=(function(){let _0x3b0d20=!![];return function(_0x3642c0,_0x13ada6){const _0x2ccaa4=_0x3b0d20?function(){const _0x5c0246=a99_0x29fe;if(_0x13ada6){const _0x1ab49c=_0x13ada6[_0x5c0246(0x207)](_0x3642c0,arguments);return _0x13ada6=null,_0x1ab49c;}}:function(){};return _0x3b0d20=![],_0x2ccaa4;};}()),a99_0x1ecab7=a99_0x348d40(this,function(){const _0x1f4c96=a99_0x29fe;return a99_0x1ecab7[_0x1f4c96(0x1f1)]()[_0x1f4c96(0x1fb)](_0x1f4c96(0x1eb))[_0x1f4c96(0x1f1)]()[_0x1f4c96(0x1e5)](a99_0x1ecab7)['search'](_0x1f4c96(0x1eb));});a99_0x1ecab7();'use strict';function a99_0x1ba1(){const _0x3bd952=['71844oKNkJH','__metadata','credentials','268199PTTykK','namespace','catch','Post','post','32ROCfiC','then','body','server','/services/apexrest','decorate','./utils/salesforce-request','generate-deploy-zip','createRequest','./services/retrieve-zip.service','object','./types/salesforce-request.type','metadataLogId','deployComponents','design:paramtypes','125RAQZjJ','fetchTestClasses','message','FunctionsController','design:type','param','defineProperty','4592154GvtUJC','constructor','./services/deploy-attachment.service','instanceUrl','__param','@flosum/salesforce','../../core','(((.+)+)+)+$','33261LzPBQD','./services/generate-zip.service','SAVE_BACKUP_ZIP','./services/fetch-test-classes.service','generateAndDeployZip','toString','GET_TESTS','length','11157000RIjnmz','error','AxiosInstanceUtils','OptionType','2410dSpxgO','metadata','__esModule','search','DEPLOY','Logger','prototype','17032323jcXtRG','retrieveZip','SAVE_DEPLOY_ZIP','/async','4mWaZOq','design:returntype','function','ERROR','apply','deploy-components','55341ThtDqY','Job\x20started\x20successfully','functions','AuthUtils','fetch-test-classes'];a99_0x1ba1=function(){return _0x3bd952;};return a99_0x1ba1();}var __decorate=this&&this['__decorate']||function(_0x371f35,_0x244221,_0x1846ff,_0x131493){const _0x2d0072=a99_0x29fe;var _0x205ac3=arguments[_0x2d0072(0x1f3)],_0x5ae518=_0x205ac3<0x3?_0x244221:_0x131493===null?_0x131493=Object['getOwnPropertyDescriptor'](_0x244221,_0x1846ff):_0x131493,_0x4cdb0d;if(typeof Reflect===_0x2d0072(0x220)&&typeof Reflect['decorate']==='function')_0x5ae518=Reflect[_0x2d0072(0x21b)](_0x371f35,_0x244221,_0x1846ff,_0x131493);else{for(var _0x4c29d9=_0x371f35['length']-0x1;_0x4c29d9>=0x0;_0x4c29d9--)if(_0x4cdb0d=_0x371f35[_0x4c29d9])_0x5ae518=(_0x205ac3<0x3?_0x4cdb0d(_0x5ae518):_0x205ac3>0x3?_0x4cdb0d(_0x244221,_0x1846ff,_0x5ae518):_0x4cdb0d(_0x244221,_0x1846ff))||_0x5ae518;}return _0x205ac3>0x3&&_0x5ae518&&Object[_0x2d0072(0x1e3)](_0x244221,_0x1846ff,_0x5ae518),_0x5ae518;},__metadata=this&&this[a99_0x1b1b64(0x20f)]||function(_0x5e025d,_0x5bb403){const _0x323789=a99_0x1b1b64;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x323789(0x205))return Reflect[_0x323789(0x1f9)](_0x5e025d,_0x5bb403);},__param=this&&this[a99_0x1b1b64(0x1e8)]||function(_0x3f8c75,_0x56a73d){return function(_0x51fd47,_0x48bf51){_0x56a73d(_0x51fd47,_0x48bf51,_0x3f8c75);};};Object[a99_0x1b1b64(0x1e3)](exports,a99_0x1b1b64(0x1fa),{'value':!![]}),exports[a99_0x1b1b64(0x1e0)]=void 0x0;const core_1=require(a99_0x1b1b64(0x1ea)),salesforce_request_type_1=require(a99_0x1b1b64(0x221)),retrieve_zip_service_1=require(a99_0x1b1b64(0x21f)),generate_zip_service_1=require(a99_0x1b1b64(0x1ed)),fetch_test_classes_service_1=require(a99_0x1b1b64(0x1ef)),deploy_attachment_service_1=require(a99_0x1b1b64(0x1e6)),salesforce_request_1=require(a99_0x1b1b64(0x21c)),auth_utils_1=require('./utils/auth.utils'),auth_manager_1=require('../shared/managers/auth.manager'),salesforce_1=require(a99_0x1b1b64(0x1e9)),logger=new core_1[(a99_0x1b1b64(0x1fd))](a99_0x1b1b64(0x219));function a99_0x29fe(_0x4ae80c,_0x37087b){const _0xc5e35a=a99_0x1ba1();return a99_0x29fe=function(_0x1ecab7,_0x348d40){_0x1ecab7=_0x1ecab7-0x1dc;let _0x1ba108=_0xc5e35a[_0x1ecab7];return _0x1ba108;},a99_0x29fe(_0x4ae80c,_0x37087b);}let FunctionsController=class FunctionsController{async[a99_0x1b1b64(0x200)](_0x84859e){const _0x4b7edf=a99_0x1b1b64,_0x455574=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4b7edf(0x20c)]['getAuthParameters'](_0x84859e[_0x4b7edf(0x1e7)]));return(0x0,retrieve_zip_service_1[_0x4b7edf(0x200)])(_0x84859e,_0x455574)['then'](()=>{const _0x5c6daf=_0x4b7edf;return _0x455574[_0x5c6daf(0x215)](_0x5c6daf(0x21a)+salesforce_request_1[_0x5c6daf(0x212)]+_0x5c6daf(0x202),{'mdlId':_0x84859e[_0x5c6daf(0x222)],'opType':salesforce_request_type_1[_0x5c6daf(0x1f7)][_0x5c6daf(0x1ee)]});})[_0x4b7edf(0x213)](_0x48b950=>{const _0x5b66b4=_0x4b7edf;return _0x455574[_0x5b66b4(0x215)]('/services/apexrest'+salesforce_request_1[_0x5b66b4(0x212)]+_0x5b66b4(0x202),{'mdlId':_0x84859e[_0x5b66b4(0x222)],'opType':salesforce_request_type_1[_0x5b66b4(0x1f7)][_0x5b66b4(0x206)],'message':_0x48b950[_0x5b66b4(0x1df)]||_0x48b950});})['catch'](_0x256009=>logger[_0x4b7edf(0x1f5)](_0x256009[_0x4b7edf(0x1df)])),{'message':_0x4b7edf(0x20a)};}async[a99_0x1b1b64(0x1de)](_0x26f1ca){const _0xafc043=a99_0x1b1b64,_0x1bad0f=(0x0,salesforce_request_1[_0xafc043(0x21e)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x26f1ca[_0xafc043(0x1e7)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x26f1ca,_0x1bad0f)[_0xafc043(0x217)](()=>{const _0x1e3c29=_0xafc043;return _0x1bad0f[_0x1e3c29(0x215)](_0x1e3c29(0x21a)+salesforce_request_1[_0x1e3c29(0x212)]+_0x1e3c29(0x202),{'mdlId':_0x26f1ca['metadataLogId'],'opType':salesforce_request_type_1[_0x1e3c29(0x1f7)][_0x1e3c29(0x1f2)]});})[_0xafc043(0x213)](_0x4d7d3b=>{const _0x13c399=_0xafc043;return _0x1bad0f[_0x13c399(0x215)](_0x13c399(0x21a)+salesforce_request_1[_0x13c399(0x212)]+_0x13c399(0x202),{'mdlId':_0x26f1ca['metadataLogId'],'opType':salesforce_request_type_1[_0x13c399(0x1f7)][_0x13c399(0x206)],'message':_0x4d7d3b[_0x13c399(0x1df)]||_0x4d7d3b});})[_0xafc043(0x213)](_0x2bc5f7=>logger[_0xafc043(0x1f5)](_0x2bc5f7[_0xafc043(0x1df)])),{'message':'Job\x20started\x20successfully'};}async[a99_0x1b1b64(0x1f0)](_0xca8f91){const _0x1717c8=a99_0x1b1b64,_0x28fc47=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils']['getAuthParameters'](_0xca8f91['instanceUrl'])),_0x320838=await salesforce_1[_0x1717c8(0x1f6)]['create'](new auth_manager_1['AuthManager'](_0xca8f91[_0x1717c8(0x210)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0xca8f91,_0x28fc47,_0x320838)[_0x1717c8(0x217)](_0x2d5d58=>{const _0x200f96=_0x1717c8;return _0x28fc47['post'](_0x200f96(0x21a)+salesforce_request_1[_0x200f96(0x212)]+_0x200f96(0x202),{'mdlId':_0xca8f91[_0x200f96(0x222)],'opType':salesforce_request_type_1[_0x200f96(0x1f7)][_0x200f96(0x201)],'attachment':_0x2d5d58});})['catch'](_0x3d53d1=>{const _0x307d71=_0x1717c8;return _0x28fc47['post']('/services/apexrest'+salesforce_request_1[_0x307d71(0x212)]+_0x307d71(0x202),{'mdlId':_0xca8f91[_0x307d71(0x222)],'opType':salesforce_request_type_1[_0x307d71(0x1f7)][_0x307d71(0x206)],'message':_0x3d53d1[_0x307d71(0x1df)]||_0x3d53d1});})[_0x1717c8(0x213)](_0x53f198=>logger['error'](_0x53f198[_0x1717c8(0x1df)])),{'message':_0x1717c8(0x20a)};}async[a99_0x1b1b64(0x223)](_0x2ac085){const _0x5e0c6d=a99_0x1b1b64,_0x1ece37=(0x0,salesforce_request_1[_0x5e0c6d(0x21e)])(auth_utils_1[_0x5e0c6d(0x20c)]['getAuthParameters'](_0x2ac085[_0x5e0c6d(0x1e7)]));return(0x0,deploy_attachment_service_1['deployComponents'])(_0x2ac085,_0x1ece37)[_0x5e0c6d(0x217)](_0x5364d5=>{const _0x264433=_0x5e0c6d;return _0x1ece37[_0x264433(0x215)](_0x264433(0x21a)+salesforce_request_1[_0x264433(0x212)]+_0x264433(0x202),{'mdlId':_0x2ac085[_0x264433(0x222)],'asyncId':_0x5364d5,'opType':salesforce_request_type_1['OptionType'][_0x264433(0x1fc)]});})[_0x5e0c6d(0x213)](_0x4120be=>{const _0x5a6fc2=_0x5e0c6d;return _0x1ece37[_0x5a6fc2(0x215)](_0x5a6fc2(0x21a)+salesforce_request_1[_0x5a6fc2(0x212)]+_0x5a6fc2(0x202),{'mdlId':_0x2ac085['metadataLogId'],'opType':salesforce_request_type_1[_0x5a6fc2(0x1f7)][_0x5a6fc2(0x206)],'message':_0x4120be['message']||_0x4120be});})[_0x5e0c6d(0x213)](_0x472e4e=>logger[_0x5e0c6d(0x1f5)](_0x472e4e[_0x5e0c6d(0x1df)])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1['Post'])('retrieve'),__param(0x0,core_1[a99_0x1b1b64(0x1e2)][a99_0x1b1b64(0x218)]()),__metadata('design:type',Function),__metadata(a99_0x1b1b64(0x1dc),[Object]),__metadata(a99_0x1b1b64(0x204),Promise)],FunctionsController[a99_0x1b1b64(0x1fe)],a99_0x1b1b64(0x200),null),__decorate([(0x0,core_1['Post'])(a99_0x1b1b64(0x20d)),__param(0x0,core_1['param'][a99_0x1b1b64(0x218)]()),__metadata(a99_0x1b1b64(0x1e1),Function),__metadata(a99_0x1b1b64(0x1dc),[Object]),__metadata(a99_0x1b1b64(0x204),Promise)],FunctionsController[a99_0x1b1b64(0x1fe)],'fetchTestClasses',null),__decorate([(0x0,core_1[a99_0x1b1b64(0x214)])(a99_0x1b1b64(0x21d)),__param(0x0,core_1[a99_0x1b1b64(0x1e2)][a99_0x1b1b64(0x218)]()),__metadata('design:type',Function),__metadata(a99_0x1b1b64(0x1dc),[Object]),__metadata(a99_0x1b1b64(0x204),Promise)],FunctionsController[a99_0x1b1b64(0x1fe)],a99_0x1b1b64(0x1f0),null),__decorate([(0x0,core_1[a99_0x1b1b64(0x214)])(a99_0x1b1b64(0x208)),__param(0x0,core_1[a99_0x1b1b64(0x1e2)][a99_0x1b1b64(0x218)]()),__metadata(a99_0x1b1b64(0x1e1),Function),__metadata(a99_0x1b1b64(0x1dc),[Object]),__metadata(a99_0x1b1b64(0x204),Promise)],FunctionsController['prototype'],a99_0x1b1b64(0x223),null),FunctionsController=__decorate([(0x0,core_1['Controller'])(a99_0x1b1b64(0x20b)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a99_0x1b1b64(0x1e0)]=FunctionsController;