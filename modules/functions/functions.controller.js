const a99_0x1f7c45=a99_0x42d9;(function(_0x58980f,_0x1b1771){const _0x4dfa25=a99_0x42d9,_0x55a4a3=_0x58980f();while(!![]){try{const _0x15959d=parseInt(_0x4dfa25(0x9a))/0x1+-parseInt(_0x4dfa25(0xae))/0x2*(parseInt(_0x4dfa25(0x95))/0x3)+-parseInt(_0x4dfa25(0xb6))/0x4+parseInt(_0x4dfa25(0x85))/0x5+-parseInt(_0x4dfa25(0xac))/0x6+parseInt(_0x4dfa25(0x82))/0x7*(parseInt(_0x4dfa25(0x87))/0x8)+-parseInt(_0x4dfa25(0xb3))/0x9;if(_0x15959d===_0x1b1771)break;else _0x55a4a3['push'](_0x55a4a3['shift']());}catch(_0x36b05e){_0x55a4a3['push'](_0x55a4a3['shift']());}}}(a99_0x280b,0x594aa));const a99_0xcf242=(function(){let _0xb21c6b=!![];return function(_0x36fa07,_0x569255){const _0x15117f=_0xb21c6b?function(){const _0x1e9a18=a99_0x42d9;if(_0x569255){const _0xbf3882=_0x569255[_0x1e9a18(0x9f)](_0x36fa07,arguments);return _0x569255=null,_0xbf3882;}}:function(){};return _0xb21c6b=![],_0x15117f;};}()),a99_0xee37ad=a99_0xcf242(this,function(){const _0x59d540=a99_0x42d9;return a99_0xee37ad[_0x59d540(0xb2)]()[_0x59d540(0xa3)](_0x59d540(0xaa))[_0x59d540(0xb2)]()['constructor'](a99_0xee37ad)['search']('(((.+)+)+)+$');});a99_0xee37ad();'use strict';var __decorate=this&&this['__decorate']||function(_0x293721,_0x261ef8,_0x3592a9,_0x32e85a){const _0x1f5d7a=a99_0x42d9;var _0x4bc339=arguments['length'],_0x4b7393=_0x4bc339<0x3?_0x261ef8:_0x32e85a===null?_0x32e85a=Object[_0x1f5d7a(0xbc)](_0x261ef8,_0x3592a9):_0x32e85a,_0x4fa7c2;if(typeof Reflect===_0x1f5d7a(0x8e)&&typeof Reflect['decorate']===_0x1f5d7a(0xc2))_0x4b7393=Reflect[_0x1f5d7a(0xa2)](_0x293721,_0x261ef8,_0x3592a9,_0x32e85a);else{for(var _0x4d7975=_0x293721[_0x1f5d7a(0x8f)]-0x1;_0x4d7975>=0x0;_0x4d7975--)if(_0x4fa7c2=_0x293721[_0x4d7975])_0x4b7393=(_0x4bc339<0x3?_0x4fa7c2(_0x4b7393):_0x4bc339>0x3?_0x4fa7c2(_0x261ef8,_0x3592a9,_0x4b7393):_0x4fa7c2(_0x261ef8,_0x3592a9))||_0x4b7393;}return _0x4bc339>0x3&&_0x4b7393&&Object['defineProperty'](_0x261ef8,_0x3592a9,_0x4b7393),_0x4b7393;},__metadata=this&&this[a99_0x1f7c45(0xa9)]||function(_0x3b1c32,_0x1caa55){const _0xb98603=a99_0x1f7c45;if(typeof Reflect===_0xb98603(0x8e)&&typeof Reflect[_0xb98603(0x98)]===_0xb98603(0xc2))return Reflect[_0xb98603(0x98)](_0x3b1c32,_0x1caa55);},__param=this&&this[a99_0x1f7c45(0x8b)]||function(_0xe75b6d,_0x21b62b){return function(_0x58f94d,_0x22b087){_0x21b62b(_0x58f94d,_0x22b087,_0xe75b6d);};};Object[a99_0x1f7c45(0x90)](exports,a99_0x1f7c45(0xa5),{'value':!![]}),exports[a99_0x1f7c45(0xa7)]=void 0x0;function a99_0x42d9(_0x1924f9,_0xf03f7d){const _0x3b42f9=a99_0x280b();return a99_0x42d9=function(_0xee37ad,_0xcf242){_0xee37ad=_0xee37ad-0x82;let _0x280b80=_0x3b42f9[_0xee37ad];return _0x280b80;},a99_0x42d9(_0x1924f9,_0xf03f7d);}const core_1=require(a99_0x1f7c45(0x92)),salesforce_request_type_1=require(a99_0x1f7c45(0xb9)),retrieve_zip_service_1=require(a99_0x1f7c45(0xbd)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a99_0x1f7c45(0x96)),salesforce_request_1=require(a99_0x1f7c45(0xc1)),auth_utils_1=require(a99_0x1f7c45(0xb8)),logger=new core_1[(a99_0x1f7c45(0xa8))](a99_0x1f7c45(0xb7));let FunctionsController=class FunctionsController{async[a99_0x1f7c45(0x93)](_0x45d746){const _0x3581e5=a99_0x1f7c45,_0x286cc6=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x3581e5(0x86)][_0x3581e5(0xa0)](_0x45d746['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x3581e5(0x93)])(_0x45d746,_0x286cc6)[_0x3581e5(0xa1)](()=>{const _0x59549b=_0x3581e5;return _0x286cc6[_0x59549b(0xad)](_0x59549b(0xab)+salesforce_request_1[_0x59549b(0xbb)]+_0x59549b(0x8a),{'mdlId':_0x45d746[_0x59549b(0x88)],'opType':salesforce_request_type_1[_0x59549b(0xb1)][_0x59549b(0x99)]});})[_0x3581e5(0xbf)](_0x98bbf8=>{const _0x533785=_0x3581e5;return _0x286cc6[_0x533785(0xad)](_0x533785(0xab)+salesforce_request_1[_0x533785(0xbb)]+_0x533785(0x8a),{'mdlId':_0x45d746[_0x533785(0x88)],'opType':salesforce_request_type_1[_0x533785(0xb1)][_0x533785(0x9c)],'message':_0x98bbf8[_0x533785(0xbe)]||_0x98bbf8});})[_0x3581e5(0xbf)](_0x58d26b=>logger['error'](_0x58d26b[_0x3581e5(0xbe)])),{'message':'Job\x20started\x20successfully'};}async[a99_0x1f7c45(0xba)](_0x16c661){const _0x5a64e3=a99_0x1f7c45,_0x435c8f=(0x0,salesforce_request_1[_0x5a64e3(0x9b)])(auth_utils_1[_0x5a64e3(0x86)][_0x5a64e3(0xa0)](_0x16c661[_0x5a64e3(0x94)]));return(0x0,fetch_test_classes_service_1[_0x5a64e3(0xba)])(_0x16c661,_0x435c8f)[_0x5a64e3(0xa1)](()=>{const _0x52cc6c=_0x5a64e3;return _0x435c8f[_0x52cc6c(0xad)](_0x52cc6c(0xab)+salesforce_request_1[_0x52cc6c(0xbb)]+_0x52cc6c(0x8a),{'mdlId':_0x16c661[_0x52cc6c(0x88)],'opType':salesforce_request_type_1['OptionType']['GET_TESTS']});})['catch'](_0x2f5217=>{const _0x540749=_0x5a64e3;return _0x435c8f['post'](_0x540749(0xab)+salesforce_request_1['namespace']+_0x540749(0x8a),{'mdlId':_0x16c661[_0x540749(0x88)],'opType':salesforce_request_type_1[_0x540749(0xb1)][_0x540749(0x9c)],'message':_0x2f5217[_0x540749(0xbe)]||_0x2f5217});})[_0x5a64e3(0xbf)](_0x4537db=>logger['error'](_0x4537db['message'])),{'message':_0x5a64e3(0xa6)};}async[a99_0x1f7c45(0xaf)](_0x57d712){const _0x5c2205=a99_0x1f7c45,_0xb96ec=(0x0,salesforce_request_1[_0x5c2205(0x9b)])(auth_utils_1['AuthUtils'][_0x5c2205(0xa0)](_0x57d712['instanceUrl']));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x57d712,_0xb96ec)[_0x5c2205(0xa1)](_0x28fa31=>{const _0x232b85=_0x5c2205;return _0xb96ec['post'](_0x232b85(0xab)+salesforce_request_1[_0x232b85(0xbb)]+_0x232b85(0x8a),{'mdlId':_0x57d712[_0x232b85(0x88)],'opType':salesforce_request_type_1[_0x232b85(0xb1)][_0x232b85(0xb4)],'attachment':_0x28fa31});})['catch'](_0x6532fa=>{const _0x233575=_0x5c2205;return _0xb96ec[_0x233575(0xad)]('/services/apexrest'+salesforce_request_1[_0x233575(0xbb)]+_0x233575(0x8a),{'mdlId':_0x57d712[_0x233575(0x88)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x6532fa[_0x233575(0xbe)]||_0x6532fa});})['catch'](_0x150b51=>logger[_0x5c2205(0x8c)](_0x150b51[_0x5c2205(0xbe)])),{'message':_0x5c2205(0xa6)};}async[a99_0x1f7c45(0x9d)](_0x205989){const _0x5dc598=a99_0x1f7c45,_0x142f81=(0x0,salesforce_request_1[_0x5dc598(0x9b)])(auth_utils_1[_0x5dc598(0x86)][_0x5dc598(0xa0)](_0x205989['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x5dc598(0x9d)])(_0x205989,_0x142f81)[_0x5dc598(0xa1)](_0x8cc45c=>{const _0x5a2efc=_0x5dc598;return _0x142f81[_0x5a2efc(0xad)](_0x5a2efc(0xab)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x205989[_0x5a2efc(0x88)],'asyncId':_0x8cc45c,'opType':salesforce_request_type_1[_0x5a2efc(0xb1)][_0x5a2efc(0xc0)]});})['catch'](_0x252575=>{const _0x5a990d=_0x5dc598;return _0x142f81[_0x5a990d(0xad)](_0x5a990d(0xab)+salesforce_request_1[_0x5a990d(0xbb)]+'/async',{'mdlId':_0x205989[_0x5a990d(0x88)],'opType':salesforce_request_type_1[_0x5a990d(0xb1)][_0x5a990d(0x9c)],'message':_0x252575[_0x5a990d(0xbe)]||_0x252575});})[_0x5dc598(0xbf)](_0x28b691=>logger[_0x5dc598(0x8c)](_0x28b691[_0x5dc598(0xbe)])),{'message':_0x5dc598(0xa6)};}};function a99_0x280b(){const _0x25dd9d=['metadata','SAVE_BACKUP_ZIP','602146LghyJP','createRequest','ERROR','deployComponents','functions','apply','getAuthParameters','then','decorate','search','design:type','__esModule','Job\x20started\x20successfully','FunctionsController','Logger','__metadata','(((.+)+)+)+$','/services/apexrest','3503676UlyjAt','post','2pbThbe','generateAndDeployZip','Controller','OptionType','toString','3561462eaxzuF','SAVE_DEPLOY_ZIP','design:paramtypes','232456baXsOd','server','./utils/auth.utils','./types/salesforce-request.type','fetchTestClasses','namespace','getOwnPropertyDescriptor','./services/retrieve-zip.service','message','catch','DEPLOY','./utils/salesforce-request','function','992222qhtKxw','generate-deploy-zip','body','1253715SizbCM','AuthUtils','32pfqjpe','metadataLogId','design:returntype','/async','__param','error','prototype','object','length','defineProperty','param','../../core','retrieveZip','instanceUrl','49071bDiCrh','./services/deploy-attachment.service','Post'];a99_0x280b=function(){return _0x25dd9d;};return a99_0x280b();}__decorate([(0x0,core_1[a99_0x1f7c45(0x97)])('retrieve'),__param(0x0,core_1[a99_0x1f7c45(0x91)][a99_0x1f7c45(0x84)]()),__metadata(a99_0x1f7c45(0xa4),Function),__metadata(a99_0x1f7c45(0xb5),[Object]),__metadata(a99_0x1f7c45(0x89),Promise)],FunctionsController[a99_0x1f7c45(0x8d)],'retrieveZip',null),__decorate([(0x0,core_1['Post'])('fetch-test-classes'),__param(0x0,core_1[a99_0x1f7c45(0x91)][a99_0x1f7c45(0x84)]()),__metadata(a99_0x1f7c45(0xa4),Function),__metadata('design:paramtypes',[Object]),__metadata(a99_0x1f7c45(0x89),Promise)],FunctionsController[a99_0x1f7c45(0x8d)],a99_0x1f7c45(0xba),null),__decorate([(0x0,core_1[a99_0x1f7c45(0x97)])(a99_0x1f7c45(0x83)),__param(0x0,core_1[a99_0x1f7c45(0x91)]['body']()),__metadata(a99_0x1f7c45(0xa4),Function),__metadata(a99_0x1f7c45(0xb5),[Object]),__metadata(a99_0x1f7c45(0x89),Promise)],FunctionsController[a99_0x1f7c45(0x8d)],a99_0x1f7c45(0xaf),null),__decorate([(0x0,core_1[a99_0x1f7c45(0x97)])('deploy-components'),__param(0x0,core_1[a99_0x1f7c45(0x91)][a99_0x1f7c45(0x84)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a99_0x1f7c45(0x9d),null),FunctionsController=__decorate([(0x0,core_1[a99_0x1f7c45(0xb0)])(a99_0x1f7c45(0x9e)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a99_0x1f7c45(0xa7)]=FunctionsController;