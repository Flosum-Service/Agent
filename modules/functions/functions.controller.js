function a51_0x1bc9(_0x18330c,_0x366ff9){const _0x52f96e=a51_0x1f9f();return a51_0x1bc9=function(_0x26bbf6,_0x7cb8dd){_0x26bbf6=_0x26bbf6-0x15d;let _0x1f9fc8=_0x52f96e[_0x26bbf6];return _0x1f9fc8;},a51_0x1bc9(_0x18330c,_0x366ff9);}const a51_0x3e895d=a51_0x1bc9;(function(_0x576591,_0x175e88){const _0x421904=a51_0x1bc9,_0x37e6a1=_0x576591();while(!![]){try{const _0x559f0e=-parseInt(_0x421904(0x181))/0x1*(parseInt(_0x421904(0x160))/0x2)+-parseInt(_0x421904(0x163))/0x3*(parseInt(_0x421904(0x175))/0x4)+parseInt(_0x421904(0x171))/0x5+-parseInt(_0x421904(0x173))/0x6+-parseInt(_0x421904(0x18a))/0x7+parseInt(_0x421904(0x179))/0x8+parseInt(_0x421904(0x167))/0x9*(parseInt(_0x421904(0x197))/0xa);if(_0x559f0e===_0x175e88)break;else _0x37e6a1['push'](_0x37e6a1['shift']());}catch(_0xb5e41c){_0x37e6a1['push'](_0x37e6a1['shift']());}}}(a51_0x1f9f,0xad89c));const a51_0x7cb8dd=(function(){let _0x8cabac=!![];return function(_0x3110b4,_0x27b10e){const _0x43dab4=_0x8cabac?function(){const _0x2ab051=a51_0x1bc9;if(_0x27b10e){const _0x3304ca=_0x27b10e[_0x2ab051(0x195)](_0x3110b4,arguments);return _0x27b10e=null,_0x3304ca;}}:function(){};return _0x8cabac=![],_0x43dab4;};}()),a51_0x26bbf6=a51_0x7cb8dd(this,function(){const _0x17320c=a51_0x1bc9;return a51_0x26bbf6[_0x17320c(0x165)]()[_0x17320c(0x198)](_0x17320c(0x19d))[_0x17320c(0x165)]()[_0x17320c(0x17a)](a51_0x26bbf6)[_0x17320c(0x198)]('(((.+)+)+)+$');});a51_0x26bbf6();'use strict';var __decorate=this&&this[a51_0x3e895d(0x17b)]||function(_0x49e21a,_0xbb250d,_0x207aa0,_0x33d3b5){const _0x9989f2=a51_0x3e895d;var _0x28a64c=arguments[_0x9989f2(0x19e)],_0xc61172=_0x28a64c<0x3?_0xbb250d:_0x33d3b5===null?_0x33d3b5=Object[_0x9989f2(0x194)](_0xbb250d,_0x207aa0):_0x33d3b5,_0x57aff6;if(typeof Reflect===_0x9989f2(0x192)&&typeof Reflect[_0x9989f2(0x18c)]===_0x9989f2(0x196))_0xc61172=Reflect[_0x9989f2(0x18c)](_0x49e21a,_0xbb250d,_0x207aa0,_0x33d3b5);else{for(var _0x353760=_0x49e21a[_0x9989f2(0x19e)]-0x1;_0x353760>=0x0;_0x353760--)if(_0x57aff6=_0x49e21a[_0x353760])_0xc61172=(_0x28a64c<0x3?_0x57aff6(_0xc61172):_0x28a64c>0x3?_0x57aff6(_0xbb250d,_0x207aa0,_0xc61172):_0x57aff6(_0xbb250d,_0x207aa0))||_0xc61172;}return _0x28a64c>0x3&&_0xc61172&&Object[_0x9989f2(0x186)](_0xbb250d,_0x207aa0,_0xc61172),_0xc61172;},__metadata=this&&this['__metadata']||function(_0xfcf4f2,_0x4ba93b){const _0x3c13ff=a51_0x3e895d;if(typeof Reflect===_0x3c13ff(0x192)&&typeof Reflect[_0x3c13ff(0x174)]==='function')return Reflect[_0x3c13ff(0x174)](_0xfcf4f2,_0x4ba93b);},__param=this&&this[a51_0x3e895d(0x188)]||function(_0x3d0e7b,_0x1d6cd3){return function(_0x45f67e,_0x4cec1e){_0x1d6cd3(_0x45f67e,_0x4cec1e,_0x3d0e7b);};};Object[a51_0x3e895d(0x186)](exports,a51_0x3e895d(0x187),{'value':!![]}),exports[a51_0x3e895d(0x16b)]=void 0x0;const core_1=require(a51_0x3e895d(0x161)),salesforce_request_type_1=require(a51_0x3e895d(0x180)),retrieve_zip_service_1=require('./services/retrieve-zip.service'),generate_zip_service_1=require(a51_0x3e895d(0x18f)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a51_0x3e895d(0x16f)),salesforce_request_1=require(a51_0x3e895d(0x16a)),auth_utils_1=require(a51_0x3e895d(0x176)),logger=new core_1[(a51_0x3e895d(0x18b))]('server');function a51_0x1f9f(){const _0x4d7518=['./services/deploy-attachment.service','SAVE_BACKUP_ZIP','4048015vgREFk','OptionType','6835110DHDGGq','metadata','1604452ZzEbhy','./utils/auth.utils','retrieveZip','AuthUtils','2456432soQGWl','constructor','__decorate','Post','post','instanceUrl','prototype','./types/salesforce-request.type','4QczpHa','then','deployComponents','fetch-test-classes','Job\x20started\x20successfully','defineProperty','__esModule','__param','catch','5022864KPnNki','Logger','decorate','SAVE_DEPLOY_ZIP','/async','./services/generate-zip.service','design:returntype','design:paramtypes','object','body','getOwnPropertyDescriptor','apply','function','10sIYyLw','search','generateAndDeployZip','createRequest','deploy-components','metadataLogId','(((.+)+)+)+$','length','fetchTestClasses','retrieve','error','DEPLOY','405298dBFLiq','../../core','message','3qhYAWp','design:type','toString','param','23963409lPNECR','/services/apexrest','ERROR','./utils/salesforce-request','FunctionsController','getAuthParameters','namespace','GET_TESTS'];a51_0x1f9f=function(){return _0x4d7518;};return a51_0x1f9f();}let FunctionsController=class FunctionsController{async['retrieveZip'](_0x41f8e4){const _0x4d0fbc=a51_0x3e895d,_0x11449c=(0x0,salesforce_request_1[_0x4d0fbc(0x19a)])(auth_utils_1[_0x4d0fbc(0x178)]['getAuthParameters'](_0x41f8e4['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x4d0fbc(0x177)])(_0x41f8e4,_0x11449c)[_0x4d0fbc(0x182)](()=>{const _0x1284e1=_0x4d0fbc;return _0x11449c[_0x1284e1(0x17d)](_0x1284e1(0x168)+salesforce_request_1[_0x1284e1(0x16d)]+'/async',{'mdlId':_0x41f8e4[_0x1284e1(0x19c)],'opType':salesforce_request_type_1[_0x1284e1(0x172)][_0x1284e1(0x170)]});})[_0x4d0fbc(0x189)](_0x90598f=>{const _0x4ee6f8=_0x4d0fbc;return _0x11449c[_0x4ee6f8(0x17d)](_0x4ee6f8(0x168)+salesforce_request_1['namespace']+_0x4ee6f8(0x18e),{'mdlId':_0x41f8e4[_0x4ee6f8(0x19c)],'opType':salesforce_request_type_1['OptionType'][_0x4ee6f8(0x169)],'message':_0x90598f[_0x4ee6f8(0x162)]||_0x90598f});})[_0x4d0fbc(0x189)](_0x52006d=>logger[_0x4d0fbc(0x15e)](_0x52006d[_0x4d0fbc(0x162)])),{'message':'Job\x20started\x20successfully'};}async[a51_0x3e895d(0x19f)](_0x151f2d){const _0x2e10df=a51_0x3e895d,_0x4ef1fa=(0x0,salesforce_request_1[_0x2e10df(0x19a)])(auth_utils_1[_0x2e10df(0x178)][_0x2e10df(0x16c)](_0x151f2d[_0x2e10df(0x17e)]));return(0x0,fetch_test_classes_service_1[_0x2e10df(0x19f)])(_0x151f2d,_0x4ef1fa)['then'](()=>{const _0x75437b=_0x2e10df;return _0x4ef1fa[_0x75437b(0x17d)](_0x75437b(0x168)+salesforce_request_1[_0x75437b(0x16d)]+'/async',{'mdlId':_0x151f2d['metadataLogId'],'opType':salesforce_request_type_1[_0x75437b(0x172)][_0x75437b(0x16e)]});})[_0x2e10df(0x189)](_0x4afe42=>{const _0x431ed2=_0x2e10df;return _0x4ef1fa[_0x431ed2(0x17d)]('/services/apexrest'+salesforce_request_1[_0x431ed2(0x16d)]+_0x431ed2(0x18e),{'mdlId':_0x151f2d[_0x431ed2(0x19c)],'opType':salesforce_request_type_1[_0x431ed2(0x172)]['ERROR'],'message':_0x4afe42[_0x431ed2(0x162)]||_0x4afe42});})[_0x2e10df(0x189)](_0x1b9a83=>logger[_0x2e10df(0x15e)](_0x1b9a83['message'])),{'message':_0x2e10df(0x185)};}async[a51_0x3e895d(0x199)](_0x5934ec){const _0x55088b=a51_0x3e895d,_0x55b2bf=(0x0,salesforce_request_1[_0x55088b(0x19a)])(auth_utils_1[_0x55088b(0x178)][_0x55088b(0x16c)](_0x5934ec[_0x55088b(0x17e)]));return(0x0,generate_zip_service_1[_0x55088b(0x199)])(_0x5934ec,_0x55b2bf)[_0x55088b(0x182)](_0x382649=>{const _0x14ca27=_0x55088b;return _0x55b2bf[_0x14ca27(0x17d)](_0x14ca27(0x168)+salesforce_request_1[_0x14ca27(0x16d)]+_0x14ca27(0x18e),{'mdlId':_0x5934ec['metadataLogId'],'opType':salesforce_request_type_1[_0x14ca27(0x172)][_0x14ca27(0x18d)],'attachment':_0x382649});})[_0x55088b(0x189)](_0x23e028=>{const _0x588af6=_0x55088b;return _0x55b2bf[_0x588af6(0x17d)](_0x588af6(0x168)+salesforce_request_1['namespace']+_0x588af6(0x18e),{'mdlId':_0x5934ec[_0x588af6(0x19c)],'opType':salesforce_request_type_1['OptionType'][_0x588af6(0x169)],'message':_0x23e028[_0x588af6(0x162)]||_0x23e028});})[_0x55088b(0x189)](_0x1612da=>logger[_0x55088b(0x15e)](_0x1612da[_0x55088b(0x162)])),{'message':'Job\x20started\x20successfully'};}async[a51_0x3e895d(0x183)](_0x3d5a31){const _0xbf36d7=a51_0x3e895d,_0x53d08c=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0xbf36d7(0x178)]['getAuthParameters'](_0x3d5a31[_0xbf36d7(0x17e)]));return(0x0,deploy_attachment_service_1[_0xbf36d7(0x183)])(_0x3d5a31,_0x53d08c)['then'](_0x5bc264=>{const _0x5942fc=_0xbf36d7;return _0x53d08c[_0x5942fc(0x17d)](_0x5942fc(0x168)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x3d5a31[_0x5942fc(0x19c)],'asyncId':_0x5bc264,'opType':salesforce_request_type_1[_0x5942fc(0x172)][_0x5942fc(0x15f)]});})['catch'](_0x29eab6=>{const _0x47ef09=_0xbf36d7;return _0x53d08c[_0x47ef09(0x17d)]('/services/apexrest'+salesforce_request_1['namespace']+_0x47ef09(0x18e),{'mdlId':_0x3d5a31[_0x47ef09(0x19c)],'opType':salesforce_request_type_1['OptionType'][_0x47ef09(0x169)],'message':_0x29eab6[_0x47ef09(0x162)]||_0x29eab6});})[_0xbf36d7(0x189)](_0x3a13a6=>logger[_0xbf36d7(0x15e)](_0x3a13a6[_0xbf36d7(0x162)])),{'message':_0xbf36d7(0x185)};}};__decorate([(0x0,core_1[a51_0x3e895d(0x17c)])(a51_0x3e895d(0x15d)),__param(0x0,core_1[a51_0x3e895d(0x166)]['body']()),__metadata(a51_0x3e895d(0x164),Function),__metadata(a51_0x3e895d(0x191),[Object]),__metadata(a51_0x3e895d(0x190),Promise)],FunctionsController[a51_0x3e895d(0x17f)],'retrieveZip',null),__decorate([(0x0,core_1[a51_0x3e895d(0x17c)])(a51_0x3e895d(0x184)),__param(0x0,core_1[a51_0x3e895d(0x166)]['body']()),__metadata(a51_0x3e895d(0x164),Function),__metadata(a51_0x3e895d(0x191),[Object]),__metadata(a51_0x3e895d(0x190),Promise)],FunctionsController[a51_0x3e895d(0x17f)],'fetchTestClasses',null),__decorate([(0x0,core_1[a51_0x3e895d(0x17c)])('generate-deploy-zip'),__param(0x0,core_1[a51_0x3e895d(0x166)]['body']()),__metadata('design:type',Function),__metadata(a51_0x3e895d(0x191),[Object]),__metadata(a51_0x3e895d(0x190),Promise)],FunctionsController[a51_0x3e895d(0x17f)],a51_0x3e895d(0x199),null),__decorate([(0x0,core_1['Post'])(a51_0x3e895d(0x19b)),__param(0x0,core_1['param'][a51_0x3e895d(0x193)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a51_0x3e895d(0x190),Promise)],FunctionsController[a51_0x3e895d(0x17f)],a51_0x3e895d(0x183),null),FunctionsController=__decorate([(0x0,core_1['Controller'])('functions'),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;