const a82_0x1212f9=a82_0x24d8;(function(_0x328fe3,_0x4e8e7c){const _0x339a6f=a82_0x24d8,_0x372b48=_0x328fe3();while(!![]){try{const _0x175882=-parseInt(_0x339a6f(0x1bb))/0x1+parseInt(_0x339a6f(0x1a5))/0x2*(parseInt(_0x339a6f(0x199))/0x3)+-parseInt(_0x339a6f(0x191))/0x4+parseInt(_0x339a6f(0x17f))/0x5+-parseInt(_0x339a6f(0x19b))/0x6+parseInt(_0x339a6f(0x189))/0x7+-parseInt(_0x339a6f(0x1a0))/0x8;if(_0x175882===_0x4e8e7c)break;else _0x372b48['push'](_0x372b48['shift']());}catch(_0x194c19){_0x372b48['push'](_0x372b48['shift']());}}}(a82_0x5edd,0x87bbb));const a82_0x388d1f=(function(){let _0x37cc7d=!![];return function(_0xc7dbb9,_0x40ee7f){const _0x5ababc=_0x37cc7d?function(){if(_0x40ee7f){const _0x120a4f=_0x40ee7f['apply'](_0xc7dbb9,arguments);return _0x40ee7f=null,_0x120a4f;}}:function(){};return _0x37cc7d=![],_0x5ababc;};}()),a82_0x28b9b9=a82_0x388d1f(this,function(){const _0x235f82=a82_0x24d8;return a82_0x28b9b9[_0x235f82(0x19f)]()[_0x235f82(0x1ba)](_0x235f82(0x1a3))[_0x235f82(0x19f)]()['constructor'](a82_0x28b9b9)[_0x235f82(0x1ba)]('(((.+)+)+)+$');});a82_0x28b9b9();'use strict';function a82_0x5edd(){const _0x5ed2fb=['namespace','./types/salesforce-request.type','search','432648JySnkS','/services/apexrest','Logger','5012705OsQFVK','__metadata','then','./utils/salesforce-request','metadataLogId','OptionType','design:returntype','SAVE_DEPLOY_ZIP','design:type','DEPLOY','590968zQZtiV','prototype','instanceUrl','FunctionsController','post','getAuthParameters','Job\x20started\x20successfully','object','734620HuesUN','generateAndDeployZip','../../core','message','catch','function','fetchTestClasses','error','432927YwhidM','ERROR','1241202fhPbQq','AuthUtils','body','functions','toString','1126072YHgMOK','generate-deploy-zip','metadata','(((.+)+)+)+$','__esModule','6mZLApC','fetch-test-classes','./services/retrieve-zip.service','Controller','server','deployComponents','./services/fetch-test-classes.service','/async','length','retrieve','defineProperty','retrieveZip','getOwnPropertyDescriptor','./services/deploy-attachment.service','param','design:paramtypes','createRequest','Post','decorate'];a82_0x5edd=function(){return _0x5ed2fb;};return a82_0x5edd();}var __decorate=this&&this['__decorate']||function(_0x2d5945,_0x15aa29,_0x539d6e,_0x4eef15){const _0x207c2b=a82_0x24d8;var _0x1e03bb=arguments[_0x207c2b(0x1ad)],_0x3d7e92=_0x1e03bb<0x3?_0x15aa29:_0x4eef15===null?_0x4eef15=Object[_0x207c2b(0x1b1)](_0x15aa29,_0x539d6e):_0x4eef15,_0x2b0ac8;if(typeof Reflect===_0x207c2b(0x190)&&typeof Reflect['decorate']===_0x207c2b(0x196))_0x3d7e92=Reflect[_0x207c2b(0x1b7)](_0x2d5945,_0x15aa29,_0x539d6e,_0x4eef15);else{for(var _0x2145ac=_0x2d5945[_0x207c2b(0x1ad)]-0x1;_0x2145ac>=0x0;_0x2145ac--)if(_0x2b0ac8=_0x2d5945[_0x2145ac])_0x3d7e92=(_0x1e03bb<0x3?_0x2b0ac8(_0x3d7e92):_0x1e03bb>0x3?_0x2b0ac8(_0x15aa29,_0x539d6e,_0x3d7e92):_0x2b0ac8(_0x15aa29,_0x539d6e))||_0x3d7e92;}return _0x1e03bb>0x3&&_0x3d7e92&&Object['defineProperty'](_0x15aa29,_0x539d6e,_0x3d7e92),_0x3d7e92;},__metadata=this&&this[a82_0x1212f9(0x180)]||function(_0x342a32,_0x140c85){const _0x2cf554=a82_0x1212f9;if(typeof Reflect===_0x2cf554(0x190)&&typeof Reflect['metadata']==='function')return Reflect[_0x2cf554(0x1a2)](_0x342a32,_0x140c85);},__param=this&&this['__param']||function(_0x578af5,_0x20f5c2){return function(_0x12bf70,_0x224328){_0x20f5c2(_0x12bf70,_0x224328,_0x578af5);};};Object[a82_0x1212f9(0x1af)](exports,a82_0x1212f9(0x1a4),{'value':!![]}),exports[a82_0x1212f9(0x18c)]=void 0x0;function a82_0x24d8(_0x349897,_0x1bf6f6){const _0x2011ff=a82_0x5edd();return a82_0x24d8=function(_0x28b9b9,_0x388d1f){_0x28b9b9=_0x28b9b9-0x17e;let _0x5edd92=_0x2011ff[_0x28b9b9];return _0x5edd92;},a82_0x24d8(_0x349897,_0x1bf6f6);}const core_1=require(a82_0x1212f9(0x193)),salesforce_request_type_1=require(a82_0x1212f9(0x1b9)),retrieve_zip_service_1=require(a82_0x1212f9(0x1a7)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a82_0x1212f9(0x1ab)),deploy_attachment_service_1=require(a82_0x1212f9(0x1b2)),salesforce_request_1=require(a82_0x1212f9(0x182)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a82_0x1212f9(0x17e))](a82_0x1212f9(0x1a9));let FunctionsController=class FunctionsController{async[a82_0x1212f9(0x1b0)](_0x1a5093){const _0x5321bc=a82_0x1212f9,_0x3cbb9e=(0x0,salesforce_request_1[_0x5321bc(0x1b5)])(auth_utils_1['AuthUtils'][_0x5321bc(0x18e)](_0x1a5093[_0x5321bc(0x18b)]));return(0x0,retrieve_zip_service_1[_0x5321bc(0x1b0)])(_0x1a5093,_0x3cbb9e)[_0x5321bc(0x181)](()=>{const _0x2cc925=_0x5321bc;return _0x3cbb9e[_0x2cc925(0x18d)](_0x2cc925(0x1bc)+salesforce_request_1[_0x2cc925(0x1b8)]+_0x2cc925(0x1ac),{'mdlId':_0x1a5093['metadataLogId'],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})[_0x5321bc(0x195)](_0x21abb5=>{const _0xa69e69=_0x5321bc;return _0x3cbb9e[_0xa69e69(0x18d)](_0xa69e69(0x1bc)+salesforce_request_1['namespace']+_0xa69e69(0x1ac),{'mdlId':_0x1a5093['metadataLogId'],'opType':salesforce_request_type_1[_0xa69e69(0x184)][_0xa69e69(0x19a)],'message':_0x21abb5[_0xa69e69(0x194)]||_0x21abb5});})[_0x5321bc(0x195)](_0x57058e=>logger[_0x5321bc(0x198)](_0x57058e[_0x5321bc(0x194)])),{'message':_0x5321bc(0x18f)};}async[a82_0x1212f9(0x197)](_0x3c4a1d){const _0x4c3575=a82_0x1212f9,_0x3ed936=(0x0,salesforce_request_1[_0x4c3575(0x1b5)])(auth_utils_1[_0x4c3575(0x19c)][_0x4c3575(0x18e)](_0x3c4a1d[_0x4c3575(0x18b)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x3c4a1d,_0x3ed936)['then'](()=>{const _0x543990=_0x4c3575;return _0x3ed936[_0x543990(0x18d)]('/services/apexrest'+salesforce_request_1[_0x543990(0x1b8)]+_0x543990(0x1ac),{'mdlId':_0x3c4a1d[_0x543990(0x183)],'opType':salesforce_request_type_1[_0x543990(0x184)]['GET_TESTS']});})[_0x4c3575(0x195)](_0x3e4f97=>{const _0xd13bb=_0x4c3575;return _0x3ed936[_0xd13bb(0x18d)]('/services/apexrest'+salesforce_request_1[_0xd13bb(0x1b8)]+'/async',{'mdlId':_0x3c4a1d[_0xd13bb(0x183)],'opType':salesforce_request_type_1[_0xd13bb(0x184)][_0xd13bb(0x19a)],'message':_0x3e4f97['message']||_0x3e4f97});})['catch'](_0x2360d5=>logger[_0x4c3575(0x198)](_0x2360d5[_0x4c3575(0x194)])),{'message':'Job\x20started\x20successfully'};}async[a82_0x1212f9(0x192)](_0x2d7659){const _0x37a2fd=a82_0x1212f9,_0x3aa1b8=(0x0,salesforce_request_1[_0x37a2fd(0x1b5)])(auth_utils_1[_0x37a2fd(0x19c)][_0x37a2fd(0x18e)](_0x2d7659[_0x37a2fd(0x18b)]));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x2d7659,_0x3aa1b8)['then'](_0xfb8f31=>{const _0x19e2db=_0x37a2fd;return _0x3aa1b8['post'](_0x19e2db(0x1bc)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x2d7659[_0x19e2db(0x183)],'opType':salesforce_request_type_1[_0x19e2db(0x184)][_0x19e2db(0x186)],'attachment':_0xfb8f31});})[_0x37a2fd(0x195)](_0x4cea24=>{const _0x491daa=_0x37a2fd;return _0x3aa1b8['post'](_0x491daa(0x1bc)+salesforce_request_1[_0x491daa(0x1b8)]+_0x491daa(0x1ac),{'mdlId':_0x2d7659[_0x491daa(0x183)],'opType':salesforce_request_type_1[_0x491daa(0x184)][_0x491daa(0x19a)],'message':_0x4cea24['message']||_0x4cea24});})[_0x37a2fd(0x195)](_0x645d6=>logger[_0x37a2fd(0x198)](_0x645d6[_0x37a2fd(0x194)])),{'message':'Job\x20started\x20successfully'};}async[a82_0x1212f9(0x1aa)](_0x32102f){const _0x400eaa=a82_0x1212f9,_0xaa05af=(0x0,salesforce_request_1[_0x400eaa(0x1b5)])(auth_utils_1[_0x400eaa(0x19c)][_0x400eaa(0x18e)](_0x32102f['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x400eaa(0x1aa)])(_0x32102f,_0xaa05af)[_0x400eaa(0x181)](_0x20555b=>{const _0x5f0291=_0x400eaa;return _0xaa05af['post'](_0x5f0291(0x1bc)+salesforce_request_1[_0x5f0291(0x1b8)]+_0x5f0291(0x1ac),{'mdlId':_0x32102f[_0x5f0291(0x183)],'asyncId':_0x20555b,'opType':salesforce_request_type_1[_0x5f0291(0x184)][_0x5f0291(0x188)]});})[_0x400eaa(0x195)](_0x3cf98d=>{const _0x25bdb5=_0x400eaa;return _0xaa05af['post'](_0x25bdb5(0x1bc)+salesforce_request_1[_0x25bdb5(0x1b8)]+_0x25bdb5(0x1ac),{'mdlId':_0x32102f[_0x25bdb5(0x183)],'opType':salesforce_request_type_1[_0x25bdb5(0x184)][_0x25bdb5(0x19a)],'message':_0x3cf98d['message']||_0x3cf98d});})[_0x400eaa(0x195)](_0x3db043=>logger[_0x400eaa(0x198)](_0x3db043['message'])),{'message':_0x400eaa(0x18f)};}};__decorate([(0x0,core_1[a82_0x1212f9(0x1b6)])(a82_0x1212f9(0x1ae)),__param(0x0,core_1[a82_0x1212f9(0x1b3)][a82_0x1212f9(0x19d)]()),__metadata(a82_0x1212f9(0x187),Function),__metadata(a82_0x1212f9(0x1b4),[Object]),__metadata(a82_0x1212f9(0x185),Promise)],FunctionsController[a82_0x1212f9(0x18a)],a82_0x1212f9(0x1b0),null),__decorate([(0x0,core_1['Post'])(a82_0x1212f9(0x1a6)),__param(0x0,core_1[a82_0x1212f9(0x1b3)]['body']()),__metadata('design:type',Function),__metadata(a82_0x1212f9(0x1b4),[Object]),__metadata(a82_0x1212f9(0x185),Promise)],FunctionsController['prototype'],a82_0x1212f9(0x197),null),__decorate([(0x0,core_1[a82_0x1212f9(0x1b6)])(a82_0x1212f9(0x1a1)),__param(0x0,core_1['param'][a82_0x1212f9(0x19d)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x1212f9(0x18a)],'generateAndDeployZip',null),__decorate([(0x0,core_1[a82_0x1212f9(0x1b6)])('deploy-components'),__param(0x0,core_1[a82_0x1212f9(0x1b3)][a82_0x1212f9(0x19d)]()),__metadata(a82_0x1212f9(0x187),Function),__metadata(a82_0x1212f9(0x1b4),[Object]),__metadata(a82_0x1212f9(0x185),Promise)],FunctionsController[a82_0x1212f9(0x18a)],a82_0x1212f9(0x1aa),null),FunctionsController=__decorate([(0x0,core_1[a82_0x1212f9(0x1a8)])(a82_0x1212f9(0x19e)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;