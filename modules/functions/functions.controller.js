const a83_0x1bafa7=a83_0x4103;(function(_0x1baf03,_0x189f08){const _0x242422=a83_0x4103,_0x14a505=_0x1baf03();while(!![]){try{const _0x421977=-parseInt(_0x242422(0x226))/0x1*(parseInt(_0x242422(0x200))/0x2)+-parseInt(_0x242422(0x21f))/0x3+-parseInt(_0x242422(0x220))/0x4+-parseInt(_0x242422(0x1ee))/0x5*(-parseInt(_0x242422(0x1f6))/0x6)+-parseInt(_0x242422(0x1ef))/0x7+-parseInt(_0x242422(0x201))/0x8+parseInt(_0x242422(0x20e))/0x9;if(_0x421977===_0x189f08)break;else _0x14a505['push'](_0x14a505['shift']());}catch(_0x11989a){_0x14a505['push'](_0x14a505['shift']());}}}(a83_0x2f7a,0x9b759));const a83_0x6cd638=(function(){let _0x27e6af=!![];return function(_0x125932,_0x3dc08a){const _0x300903=_0x27e6af?function(){if(_0x3dc08a){const _0xba3f27=_0x3dc08a['apply'](_0x125932,arguments);return _0x3dc08a=null,_0xba3f27;}}:function(){};return _0x27e6af=![],_0x300903;};}()),a83_0x1bc7c1=a83_0x6cd638(this,function(){const _0x213412=a83_0x4103;return a83_0x1bc7c1[_0x213412(0x207)]()[_0x213412(0x1fb)](_0x213412(0x1e4))['toString']()[_0x213412(0x1f7)](a83_0x1bc7c1)['search'](_0x213412(0x1e4));});a83_0x1bc7c1();function a83_0x2f7a(){const _0x4b9bc7=['ERROR','search','instanceUrl','catch','object','./utils/salesforce-request','10wycUnT','633352wroeCT','./services/generate-zip.service','GET_TESTS','design:paramtypes','AuthUtils','prototype','toString','getAuthParameters','createRequest','retrieveZip','__decorate','then','OptionType','17080137DVMYTb','Controller','post','deploy-components','./services/deploy-attachment.service','metadataLogId','retrieve','defineProperty','SAVE_DEPLOY_ZIP','/services/apexrest','__metadata','generate-deploy-zip','functions','design:type','deployComponents','decorate','fetch-test-classes','2345088wLrYjc','1358364NIyoSv','server','error','__esModule','Post','design:returntype','118315ZxncfT','fetchTestClasses','(((.+)+)+)+$','Version','namespace','generateAndDeployZip','DEPLOY','Job\x20started\x20successfully','FunctionsController','length','__param','/async','120AuwsZe','273847DikYyV','./services/retrieve-zip.service','function','metadata','../../core','body','getOwnPropertyDescriptor','142530oSECUR','constructor','message','param'];a83_0x2f7a=function(){return _0x4b9bc7;};return a83_0x2f7a();}'use strict';var __decorate=this&&this[a83_0x1bafa7(0x20b)]||function(_0x330d97,_0x32c186,_0x6dd8b1,_0x49fdab){const _0xaf1bda=a83_0x1bafa7;var _0x186b79=arguments[_0xaf1bda(0x1eb)],_0x192f6d=_0x186b79<0x3?_0x32c186:_0x49fdab===null?_0x49fdab=Object[_0xaf1bda(0x1f5)](_0x32c186,_0x6dd8b1):_0x49fdab,_0x5dc4e0;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0xaf1bda(0x1f1))_0x192f6d=Reflect[_0xaf1bda(0x21d)](_0x330d97,_0x32c186,_0x6dd8b1,_0x49fdab);else{for(var _0x5d42b0=_0x330d97[_0xaf1bda(0x1eb)]-0x1;_0x5d42b0>=0x0;_0x5d42b0--)if(_0x5dc4e0=_0x330d97[_0x5d42b0])_0x192f6d=(_0x186b79<0x3?_0x5dc4e0(_0x192f6d):_0x186b79>0x3?_0x5dc4e0(_0x32c186,_0x6dd8b1,_0x192f6d):_0x5dc4e0(_0x32c186,_0x6dd8b1))||_0x192f6d;}return _0x186b79>0x3&&_0x192f6d&&Object[_0xaf1bda(0x215)](_0x32c186,_0x6dd8b1,_0x192f6d),_0x192f6d;},__metadata=this&&this[a83_0x1bafa7(0x218)]||function(_0x3a9eb8,_0x319e20){const _0x23e42f=a83_0x1bafa7;if(typeof Reflect===_0x23e42f(0x1fe)&&typeof Reflect[_0x23e42f(0x1f2)]==='function')return Reflect[_0x23e42f(0x1f2)](_0x3a9eb8,_0x319e20);},__param=this&&this[a83_0x1bafa7(0x1ec)]||function(_0x2932d2,_0x16e0e8){return function(_0x5076d1,_0x37baf5){_0x16e0e8(_0x5076d1,_0x37baf5,_0x2932d2);};};function a83_0x4103(_0x419b18,_0xeb0dca){const _0x48f070=a83_0x2f7a();return a83_0x4103=function(_0x1bc7c1,_0x6cd638){_0x1bc7c1=_0x1bc7c1-0x1e4;let _0x2f7a0e=_0x48f070[_0x1bc7c1];return _0x2f7a0e;},a83_0x4103(_0x419b18,_0xeb0dca);}Object['defineProperty'](exports,a83_0x1bafa7(0x223),{'value':!![]}),exports[a83_0x1bafa7(0x1ea)]=void 0x0;const core_1=require(a83_0x1bafa7(0x1f3)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a83_0x1bafa7(0x1f0)),generate_zip_service_1=require(a83_0x1bafa7(0x202)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a83_0x1bafa7(0x212)),salesforce_request_1=require(a83_0x1bafa7(0x1ff)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1['Logger'](a83_0x1bafa7(0x221));let FunctionsController=class FunctionsController{async[a83_0x1bafa7(0x20a)](_0x3cd64c){const _0x5ab34c=a83_0x1bafa7,_0x316577=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x3cd64c[_0x5ab34c(0x1fc)]));return(0x0,retrieve_zip_service_1[_0x5ab34c(0x20a)])(_0x3cd64c,_0x316577)[_0x5ab34c(0x20c)](()=>{const _0x457fa6=_0x5ab34c;return _0x316577[_0x457fa6(0x210)](_0x457fa6(0x217)+salesforce_request_1[_0x457fa6(0x1e6)]+_0x457fa6(0x1ed),{'mdlId':_0x3cd64c[_0x457fa6(0x213)],'opType':salesforce_request_type_1[_0x457fa6(0x20d)]['SAVE_BACKUP_ZIP']});})[_0x5ab34c(0x1fd)](_0x5ae5af=>{const _0x133d94=_0x5ab34c;return _0x316577['post']('/services/apexrest'+salesforce_request_1[_0x133d94(0x1e6)]+'/async',{'mdlId':_0x3cd64c[_0x133d94(0x213)],'opType':salesforce_request_type_1[_0x133d94(0x20d)]['ERROR'],'message':_0x5ae5af[_0x133d94(0x1f8)]||_0x5ae5af});})[_0x5ab34c(0x1fd)](_0x234cde=>logger[_0x5ab34c(0x222)](_0x234cde[_0x5ab34c(0x1f8)])),{'message':_0x5ab34c(0x1e9)};}async[a83_0x1bafa7(0x227)](_0x2338e0){const _0xfabc59=a83_0x1bafa7,_0x4f0bb1=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0xfabc59(0x205)][_0xfabc59(0x208)](_0x2338e0[_0xfabc59(0x1fc)]));return(0x0,fetch_test_classes_service_1[_0xfabc59(0x227)])(_0x2338e0,_0x4f0bb1)[_0xfabc59(0x20c)](()=>{const _0x22cd24=_0xfabc59;return _0x4f0bb1[_0x22cd24(0x210)](_0x22cd24(0x217)+salesforce_request_1[_0x22cd24(0x1e6)]+_0x22cd24(0x1ed),{'mdlId':_0x2338e0['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x22cd24(0x203)]});})[_0xfabc59(0x1fd)](_0x13f61e=>{const _0x238896=_0xfabc59;return _0x4f0bb1[_0x238896(0x210)](_0x238896(0x217)+salesforce_request_1[_0x238896(0x1e6)]+_0x238896(0x1ed),{'mdlId':_0x2338e0[_0x238896(0x213)],'opType':salesforce_request_type_1[_0x238896(0x20d)][_0x238896(0x1fa)],'message':_0x13f61e[_0x238896(0x1f8)]||_0x13f61e});})[_0xfabc59(0x1fd)](_0x5be425=>logger[_0xfabc59(0x222)](_0x5be425[_0xfabc59(0x1f8)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x1bafa7(0x1e7)](_0x1c8449){const _0x59dd94=a83_0x1bafa7,_0x43800b=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x1c8449['instanceUrl']));return(0x0,generate_zip_service_1[_0x59dd94(0x1e7)])(_0x1c8449,_0x43800b)[_0x59dd94(0x20c)](_0xef6388=>{const _0x225a91=_0x59dd94;return _0x43800b[_0x225a91(0x210)](_0x225a91(0x217)+salesforce_request_1[_0x225a91(0x1e6)]+'/async',{'mdlId':_0x1c8449[_0x225a91(0x213)],'opType':salesforce_request_type_1[_0x225a91(0x20d)][_0x225a91(0x216)],'attachment':_0xef6388});})[_0x59dd94(0x1fd)](_0x237e5e=>{const _0x57c696=_0x59dd94;return _0x43800b[_0x57c696(0x210)]('/services/apexrest'+salesforce_request_1[_0x57c696(0x1e6)]+_0x57c696(0x1ed),{'mdlId':_0x1c8449[_0x57c696(0x213)],'opType':salesforce_request_type_1[_0x57c696(0x20d)][_0x57c696(0x1fa)],'message':_0x237e5e[_0x57c696(0x1f8)]||_0x237e5e});})[_0x59dd94(0x1fd)](_0x554394=>logger['error'](_0x554394['message'])),{'message':'Job\x20started\x20successfully'};}async[a83_0x1bafa7(0x21c)](_0x32dd6d){const _0x569d2b=a83_0x1bafa7,_0x430034=(0x0,salesforce_request_1[_0x569d2b(0x209)])(auth_utils_1['AuthUtils'][_0x569d2b(0x208)](_0x32dd6d['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x569d2b(0x21c)])(_0x32dd6d,_0x430034)[_0x569d2b(0x20c)](_0x25879c=>{const _0x5c241a=_0x569d2b;return _0x430034[_0x5c241a(0x210)]('/services/apexrest'+salesforce_request_1[_0x5c241a(0x1e6)]+_0x5c241a(0x1ed),{'mdlId':_0x32dd6d[_0x5c241a(0x213)],'asyncId':_0x25879c,'opType':salesforce_request_type_1[_0x5c241a(0x20d)][_0x5c241a(0x1e8)]});})['catch'](_0x4bc06f=>{const _0x447160=_0x569d2b;return _0x430034['post'](_0x447160(0x217)+salesforce_request_1[_0x447160(0x1e6)]+'/async',{'mdlId':_0x32dd6d[_0x447160(0x213)],'opType':salesforce_request_type_1['OptionType'][_0x447160(0x1fa)],'message':_0x4bc06f[_0x447160(0x1f8)]||_0x4bc06f});})['catch'](_0xf665a4=>logger['error'](_0xf665a4['message'])),{'message':_0x569d2b(0x1e9)};}};__decorate([(0x0,core_1['Post'])(a83_0x1bafa7(0x214)),__param(0x0,core_1[a83_0x1bafa7(0x1f9)][a83_0x1bafa7(0x1f4)]()),__metadata(a83_0x1bafa7(0x21b),Function),__metadata(a83_0x1bafa7(0x204),[Object]),__metadata(a83_0x1bafa7(0x225),Promise)],FunctionsController[a83_0x1bafa7(0x206)],a83_0x1bafa7(0x20a),null),__decorate([(0x0,core_1[a83_0x1bafa7(0x224)])(a83_0x1bafa7(0x21e)),__param(0x0,core_1[a83_0x1bafa7(0x1f9)][a83_0x1bafa7(0x1f4)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x1bafa7(0x225),Promise)],FunctionsController[a83_0x1bafa7(0x206)],a83_0x1bafa7(0x227),null),__decorate([(0x0,core_1[a83_0x1bafa7(0x224)])(a83_0x1bafa7(0x219)),__param(0x0,core_1[a83_0x1bafa7(0x1f9)][a83_0x1bafa7(0x1f4)]()),__metadata(a83_0x1bafa7(0x21b),Function),__metadata(a83_0x1bafa7(0x204),[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1[a83_0x1bafa7(0x224)])(a83_0x1bafa7(0x211)),__param(0x0,core_1[a83_0x1bafa7(0x1f9)][a83_0x1bafa7(0x1f4)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x1bafa7(0x225),Promise)],FunctionsController[a83_0x1bafa7(0x206)],a83_0x1bafa7(0x21c),null),FunctionsController=__decorate([(0x0,core_1[a83_0x1bafa7(0x20f)])(a83_0x1bafa7(0x21a)),(0x0,core_1[a83_0x1bafa7(0x1e5)])('v1')],FunctionsController),exports[a83_0x1bafa7(0x1ea)]=FunctionsController;