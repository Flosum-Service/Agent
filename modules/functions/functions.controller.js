const a83_0x4f3735=a83_0x4bae;(function(_0x310769,_0x4cb0b5){const _0x30cf6a=a83_0x4bae,_0x4bde76=_0x310769();while(!![]){try{const _0x14a1f6=parseInt(_0x30cf6a(0xe2))/0x1+-parseInt(_0x30cf6a(0xe9))/0x2*(-parseInt(_0x30cf6a(0xe1))/0x3)+-parseInt(_0x30cf6a(0x10a))/0x4*(-parseInt(_0x30cf6a(0xe8))/0x5)+parseInt(_0x30cf6a(0xcd))/0x6+-parseInt(_0x30cf6a(0xed))/0x7+-parseInt(_0x30cf6a(0xdd))/0x8+parseInt(_0x30cf6a(0x107))/0x9;if(_0x14a1f6===_0x4cb0b5)break;else _0x4bde76['push'](_0x4bde76['shift']());}catch(_0x5b21a2){_0x4bde76['push'](_0x4bde76['shift']());}}}(a83_0x5c6d,0x707b6));const a83_0x3c66ba=(function(){let _0xd99f7a=!![];return function(_0x34467d,_0x4dc4b6){const _0x16d224=_0xd99f7a?function(){const _0x253ebb=a83_0x4bae;if(_0x4dc4b6){const _0x22cc3f=_0x4dc4b6[_0x253ebb(0xd5)](_0x34467d,arguments);return _0x4dc4b6=null,_0x22cc3f;}}:function(){};return _0xd99f7a=![],_0x16d224;};}()),a83_0x14e09a=a83_0x3c66ba(this,function(){const _0x39acb0=a83_0x4bae;return a83_0x14e09a['toString']()[_0x39acb0(0xda)]('(((.+)+)+)+$')[_0x39acb0(0xcb)]()[_0x39acb0(0xe3)](a83_0x14e09a)[_0x39acb0(0xda)]('(((.+)+)+)+$');});a83_0x14e09a();'use strict';var __decorate=this&&this[a83_0x4f3735(0xee)]||function(_0x27a4b4,_0x3db6ac,_0x35fffc,_0x37604a){const _0x4dfdd6=a83_0x4f3735;var _0x32a3af=arguments[_0x4dfdd6(0xd7)],_0x16f859=_0x32a3af<0x3?_0x3db6ac:_0x37604a===null?_0x37604a=Object[_0x4dfdd6(0xf8)](_0x3db6ac,_0x35fffc):_0x37604a,_0x17d874;if(typeof Reflect==='object'&&typeof Reflect[_0x4dfdd6(0x106)]===_0x4dfdd6(0x104))_0x16f859=Reflect['decorate'](_0x27a4b4,_0x3db6ac,_0x35fffc,_0x37604a);else{for(var _0x3acc49=_0x27a4b4[_0x4dfdd6(0xd7)]-0x1;_0x3acc49>=0x0;_0x3acc49--)if(_0x17d874=_0x27a4b4[_0x3acc49])_0x16f859=(_0x32a3af<0x3?_0x17d874(_0x16f859):_0x32a3af>0x3?_0x17d874(_0x3db6ac,_0x35fffc,_0x16f859):_0x17d874(_0x3db6ac,_0x35fffc))||_0x16f859;}return _0x32a3af>0x3&&_0x16f859&&Object['defineProperty'](_0x3db6ac,_0x35fffc,_0x16f859),_0x16f859;},__metadata=this&&this[a83_0x4f3735(0xca)]||function(_0x20daad,_0x149977){const _0x1138c9=a83_0x4f3735;if(typeof Reflect===_0x1138c9(0x10c)&&typeof Reflect[_0x1138c9(0xe4)]===_0x1138c9(0x104))return Reflect[_0x1138c9(0xe4)](_0x20daad,_0x149977);},__param=this&&this[a83_0x4f3735(0xd3)]||function(_0x4e93bd,_0x53cf5e){return function(_0x3c378e,_0xe6cc33){_0x53cf5e(_0x3c378e,_0xe6cc33,_0x4e93bd);};};Object['defineProperty'](exports,a83_0x4f3735(0xf4),{'value':!![]}),exports[a83_0x4f3735(0xd4)]=void 0x0;function a83_0x4bae(_0x254e9d,_0x3c55a2){const _0x84bb80=a83_0x5c6d();return a83_0x4bae=function(_0x14e09a,_0x3c66ba){_0x14e09a=_0x14e09a-0xca;let _0x5c6dd8=_0x84bb80[_0x14e09a];return _0x5c6dd8;},a83_0x4bae(_0x254e9d,_0x3c55a2);}const core_1=require('../../core'),salesforce_request_type_1=require(a83_0x4f3735(0xe6)),retrieve_zip_service_1=require(a83_0x4f3735(0xfd)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a83_0x4f3735(0xcf)),deploy_attachment_service_1=require('./services/deploy-attachment.service'),salesforce_request_1=require(a83_0x4f3735(0xe5)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a83_0x4f3735(0xf2))](a83_0x4f3735(0xfc));let FunctionsController=class FunctionsController{async[a83_0x4f3735(0xd6)](_0x458b55){const _0x46bd9a=a83_0x4f3735,_0x22a065=(0x0,salesforce_request_1[_0x46bd9a(0xf6)])(auth_utils_1[_0x46bd9a(0x101)][_0x46bd9a(0xf0)](_0x458b55['instanceUrl']));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x458b55,_0x22a065)[_0x46bd9a(0xef)](()=>{const _0x3c58b9=_0x46bd9a;return _0x22a065['post'](_0x3c58b9(0xde)+salesforce_request_1[_0x3c58b9(0x100)]+_0x3c58b9(0xd8),{'mdlId':_0x458b55['metadataLogId'],'opType':salesforce_request_type_1[_0x3c58b9(0xf5)][_0x3c58b9(0xfe)]});})[_0x46bd9a(0xd9)](_0x380e06=>{const _0x47863b=_0x46bd9a;return _0x22a065[_0x47863b(0xfa)]('/services/apexrest'+salesforce_request_1[_0x47863b(0x100)]+'/async',{'mdlId':_0x458b55[_0x47863b(0xce)],'opType':salesforce_request_type_1[_0x47863b(0xf5)][_0x47863b(0xe0)],'message':_0x380e06[_0x47863b(0xcc)]||_0x380e06});})[_0x46bd9a(0xd9)](_0x2def00=>logger[_0x46bd9a(0xdf)](_0x2def00[_0x46bd9a(0xcc)])),{'message':_0x46bd9a(0xd2)};}async[a83_0x4f3735(0xd1)](_0x10d426){const _0x5ac15d=a83_0x4f3735,_0x2cc491=(0x0,salesforce_request_1[_0x5ac15d(0xf6)])(auth_utils_1['AuthUtils'][_0x5ac15d(0xf0)](_0x10d426[_0x5ac15d(0xff)]));return(0x0,fetch_test_classes_service_1[_0x5ac15d(0xd1)])(_0x10d426,_0x2cc491)['then'](()=>{const _0x1b4c06=_0x5ac15d;return _0x2cc491[_0x1b4c06(0xfa)](_0x1b4c06(0xde)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x10d426[_0x1b4c06(0xce)],'opType':salesforce_request_type_1[_0x1b4c06(0xf5)][_0x1b4c06(0xd0)]});})[_0x5ac15d(0xd9)](_0xce9d69=>{const _0x554203=_0x5ac15d;return _0x2cc491[_0x554203(0xfa)](_0x554203(0xde)+salesforce_request_1[_0x554203(0x100)]+_0x554203(0xd8),{'mdlId':_0x10d426[_0x554203(0xce)],'opType':salesforce_request_type_1[_0x554203(0xf5)][_0x554203(0xe0)],'message':_0xce9d69[_0x554203(0xcc)]||_0xce9d69});})[_0x5ac15d(0xd9)](_0x2934ba=>logger[_0x5ac15d(0xdf)](_0x2934ba[_0x5ac15d(0xcc)])),{'message':_0x5ac15d(0xd2)};}async[a83_0x4f3735(0x105)](_0x4b586b){const _0x995a5c=a83_0x4f3735,_0x409b9b=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x995a5c(0x101)]['getAuthParameters'](_0x4b586b[_0x995a5c(0xff)]));return(0x0,generate_zip_service_1[_0x995a5c(0x105)])(_0x4b586b,_0x409b9b)['then'](_0x529df0=>{const _0x5c08e6=_0x995a5c;return _0x409b9b[_0x5c08e6(0xfa)]('/services/apexrest'+salesforce_request_1[_0x5c08e6(0x100)]+_0x5c08e6(0xd8),{'mdlId':_0x4b586b[_0x5c08e6(0xce)],'opType':salesforce_request_type_1[_0x5c08e6(0xf5)][_0x5c08e6(0xf1)],'attachment':_0x529df0});})[_0x995a5c(0xd9)](_0x6ee8c8=>{const _0x382e6f=_0x995a5c;return _0x409b9b['post'](_0x382e6f(0xde)+salesforce_request_1[_0x382e6f(0x100)]+_0x382e6f(0xd8),{'mdlId':_0x4b586b[_0x382e6f(0xce)],'opType':salesforce_request_type_1[_0x382e6f(0xf5)][_0x382e6f(0xe0)],'message':_0x6ee8c8[_0x382e6f(0xcc)]||_0x6ee8c8});})['catch'](_0x13a0d6=>logger['error'](_0x13a0d6[_0x995a5c(0xcc)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x4f3735(0xdb)](_0x10d005){const _0x311515=a83_0x4f3735,_0x106321=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x311515(0xf0)](_0x10d005[_0x311515(0xff)]));return(0x0,deploy_attachment_service_1[_0x311515(0xdb)])(_0x10d005,_0x106321)[_0x311515(0xef)](_0x58e2f3=>{const _0x48cf13=_0x311515;return _0x106321['post'](_0x48cf13(0xde)+salesforce_request_1[_0x48cf13(0x100)]+_0x48cf13(0xd8),{'mdlId':_0x10d005[_0x48cf13(0xce)],'asyncId':_0x58e2f3,'opType':salesforce_request_type_1['OptionType'][_0x48cf13(0x10b)]});})[_0x311515(0xd9)](_0x282655=>{const _0x200530=_0x311515;return _0x106321[_0x200530(0xfa)](_0x200530(0xde)+salesforce_request_1[_0x200530(0x100)]+'/async',{'mdlId':_0x10d005[_0x200530(0xce)],'opType':salesforce_request_type_1[_0x200530(0xf5)][_0x200530(0xe0)],'message':_0x282655[_0x200530(0xcc)]||_0x282655});})[_0x311515(0xd9)](_0x11d54b=>logger[_0x311515(0xdf)](_0x11d54b[_0x311515(0xcc)])),{'message':_0x311515(0xd2)};}};function a83_0x5c6d(){const _0x535872=['fetchTestClasses','Job\x20started\x20successfully','__param','FunctionsController','apply','retrieveZip','length','/async','catch','search','deployComponents','design:type','1949784eMVMiy','/services/apexrest','error','ERROR','288777YoHLdy','306362oHKuJL','constructor','metadata','./utils/salesforce-request','./types/salesforce-request.type','retrieve','1179215GYgSJU','4vKbQdH','fetch-test-classes','Controller','generate-deploy-zip','6155380bSCjvp','__decorate','then','getAuthParameters','SAVE_DEPLOY_ZIP','Logger','design:returntype','__esModule','OptionType','createRequest','Version','getOwnPropertyDescriptor','param','post','body','server','./services/retrieve-zip.service','SAVE_BACKUP_ZIP','instanceUrl','namespace','AuthUtils','design:paramtypes','Post','function','generateAndDeployZip','decorate','3767004YhsfCm','prototype','functions','4MvGpdN','DEPLOY','object','__metadata','toString','message','2583060jNbpjV','metadataLogId','./services/fetch-test-classes.service','GET_TESTS'];a83_0x5c6d=function(){return _0x535872;};return a83_0x5c6d();}__decorate([(0x0,core_1[a83_0x4f3735(0x103)])(a83_0x4f3735(0xe7)),__param(0x0,core_1['param'][a83_0x4f3735(0xfb)]()),__metadata(a83_0x4f3735(0xdc),Function),__metadata(a83_0x4f3735(0x102),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x4f3735(0x108)],a83_0x4f3735(0xd6),null),__decorate([(0x0,core_1[a83_0x4f3735(0x103)])(a83_0x4f3735(0xea)),__param(0x0,core_1[a83_0x4f3735(0xf9)][a83_0x4f3735(0xfb)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x4f3735(0xf3),Promise)],FunctionsController['prototype'],a83_0x4f3735(0xd1),null),__decorate([(0x0,core_1[a83_0x4f3735(0x103)])(a83_0x4f3735(0xec)),__param(0x0,core_1['param'][a83_0x4f3735(0xfb)]()),__metadata(a83_0x4f3735(0xdc),Function),__metadata(a83_0x4f3735(0x102),[Object]),__metadata(a83_0x4f3735(0xf3),Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1[a83_0x4f3735(0x103)])('deploy-components'),__param(0x0,core_1['param'][a83_0x4f3735(0xfb)]()),__metadata(a83_0x4f3735(0xdc),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x4f3735(0x108)],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a83_0x4f3735(0xeb)])(a83_0x4f3735(0x109)),(0x0,core_1[a83_0x4f3735(0xf7)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;