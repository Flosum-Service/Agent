const a102_0x67cc5a=a102_0x5b2e;(function(_0x885fdb,_0x4eff86){const _0x595605=a102_0x5b2e,_0x2d4bbd=_0x885fdb();while(!![]){try{const _0x126086=parseInt(_0x595605(0x1f1))/0x1+parseInt(_0x595605(0x1e8))/0x2+-parseInt(_0x595605(0x1eb))/0x3*(-parseInt(_0x595605(0x1ec))/0x4)+parseInt(_0x595605(0x1de))/0x5*(parseInt(_0x595605(0x1b9))/0x6)+parseInt(_0x595605(0x1db))/0x7*(parseInt(_0x595605(0x1d8))/0x8)+parseInt(_0x595605(0x1d7))/0x9+-parseInt(_0x595605(0x1d4))/0xa*(parseInt(_0x595605(0x1be))/0xb);if(_0x126086===_0x4eff86)break;else _0x2d4bbd['push'](_0x2d4bbd['shift']());}catch(_0xf2a63d){_0x2d4bbd['push'](_0x2d4bbd['shift']());}}}(a102_0x2964,0x55937));const a102_0xd38f3f=(function(){let _0x4aa571=!![];return function(_0x52b6d5,_0x1d117c){const _0x1b8ecc=_0x4aa571?function(){const _0x78ee69=a102_0x5b2e;if(_0x1d117c){const _0x45995b=_0x1d117c[_0x78ee69(0x1c2)](_0x52b6d5,arguments);return _0x1d117c=null,_0x45995b;}}:function(){};return _0x4aa571=![],_0x1b8ecc;};}()),a102_0x314706=a102_0xd38f3f(this,function(){const _0x35aa82=a102_0x5b2e;return a102_0x314706[_0x35aa82(0x1ba)]()['search'](_0x35aa82(0x1d2))[_0x35aa82(0x1ba)]()[_0x35aa82(0x1e9)](a102_0x314706)[_0x35aa82(0x1c9)](_0x35aa82(0x1d2));});a102_0x314706();'use strict';function a102_0x2964(){const _0x109f19=['(((.+)+)+)+$','AuthManager','6657900ccUDmc','./utils/auth.utils','design:type','3275136IOTAnv','64YzBqyP','@flosum/salesforce','create','374318bKORif','ERROR','catch','6245ILynpe','credentials','object','Controller','AuthUtils','function','/services/apexrest','fetchTestClasses','design:returntype','DEPLOY','1301020OFwHvK','constructor','functions','4596ghkNcM','236qAqFBi','Logger','generateAndDeployZip','/async','./services/retrieve-zip.service','259490cWCABe','error','./services/fetch-test-classes.service','prototype','param','post','__metadata','OptionType','fetch-test-classes','SAVE_DEPLOY_ZIP','getOwnPropertyDescriptor','GET_TESTS','deployComponents','../shared/managers/auth.manager','retrieveZip','deploy-components','length','namespace','2670wVeBbY','toString','createRequest','metadata','body','33xqAvKB','metadataLogId','./services/generate-zip.service','Job\x20started\x20successfully','apply','generate-deploy-zip','defineProperty','../../core','./utils/salesforce-request','decorate','message','search','design:paramtypes','__decorate','Post','AxiosInstanceUtils','then','getAuthParameters','./services/deploy-attachment.service','instanceUrl'];a102_0x2964=function(){return _0x109f19;};return a102_0x2964();}var __decorate=this&&this[a102_0x67cc5a(0x1cb)]||function(_0x3ded8c,_0x115007,_0x35c9ab,_0x22f52f){const _0x5c4089=a102_0x67cc5a;var _0x4ff813=arguments[_0x5c4089(0x1b7)],_0x168035=_0x4ff813<0x3?_0x115007:_0x22f52f===null?_0x22f52f=Object[_0x5c4089(0x1b1)](_0x115007,_0x35c9ab):_0x22f52f,_0x98c175;if(typeof Reflect===_0x5c4089(0x1e0)&&typeof Reflect[_0x5c4089(0x1c7)]===_0x5c4089(0x1e3))_0x168035=Reflect[_0x5c4089(0x1c7)](_0x3ded8c,_0x115007,_0x35c9ab,_0x22f52f);else{for(var _0x4d6ed8=_0x3ded8c[_0x5c4089(0x1b7)]-0x1;_0x4d6ed8>=0x0;_0x4d6ed8--)if(_0x98c175=_0x3ded8c[_0x4d6ed8])_0x168035=(_0x4ff813<0x3?_0x98c175(_0x168035):_0x4ff813>0x3?_0x98c175(_0x115007,_0x35c9ab,_0x168035):_0x98c175(_0x115007,_0x35c9ab))||_0x168035;}return _0x4ff813>0x3&&_0x168035&&Object[_0x5c4089(0x1c4)](_0x115007,_0x35c9ab,_0x168035),_0x168035;},__metadata=this&&this[a102_0x67cc5a(0x1f7)]||function(_0x4c98b3,_0x13ffae){const _0xb421c9=a102_0x67cc5a;if(typeof Reflect===_0xb421c9(0x1e0)&&typeof Reflect['metadata']===_0xb421c9(0x1e3))return Reflect[_0xb421c9(0x1bc)](_0x4c98b3,_0x13ffae);},__param=this&&this['__param']||function(_0x1348d1,_0x6e9e5a){return function(_0x16fc7e,_0x5256fc){_0x6e9e5a(_0x16fc7e,_0x5256fc,_0x1348d1);};};Object[a102_0x67cc5a(0x1c4)](exports,'__esModule',{'value':!![]}),exports['FunctionsController']=void 0x0;function a102_0x5b2e(_0x36c181,_0x1e2fb4){const _0x3b5ba0=a102_0x2964();return a102_0x5b2e=function(_0x314706,_0xd38f3f){_0x314706=_0x314706-0x1b0;let _0x29646c=_0x3b5ba0[_0x314706];return _0x29646c;},a102_0x5b2e(_0x36c181,_0x1e2fb4);}const core_1=require(a102_0x67cc5a(0x1c5)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a102_0x67cc5a(0x1f0)),generate_zip_service_1=require(a102_0x67cc5a(0x1c0)),fetch_test_classes_service_1=require(a102_0x67cc5a(0x1f3)),deploy_attachment_service_1=require(a102_0x67cc5a(0x1d0)),salesforce_request_1=require(a102_0x67cc5a(0x1c6)),auth_utils_1=require(a102_0x67cc5a(0x1d5)),auth_manager_1=require(a102_0x67cc5a(0x1b4)),salesforce_1=require(a102_0x67cc5a(0x1d9)),logger=new core_1[(a102_0x67cc5a(0x1ed))]('server');let FunctionsController=class FunctionsController{async[a102_0x67cc5a(0x1b5)](_0x1e432d){const _0x40a2f1=a102_0x67cc5a,_0xdd7642=(0x0,salesforce_request_1[_0x40a2f1(0x1bb)])(auth_utils_1[_0x40a2f1(0x1e2)][_0x40a2f1(0x1cf)](_0x1e432d[_0x40a2f1(0x1d1)])),_0x849f5b=await salesforce_1['AxiosInstanceUtils'][_0x40a2f1(0x1da)](new auth_manager_1[(_0x40a2f1(0x1d3))](_0x1e432d[_0x40a2f1(0x1df)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x1e432d,_0xdd7642,_0x849f5b)[_0x40a2f1(0x1ce)](()=>{const _0x173303=_0x40a2f1;return _0xdd7642[_0x173303(0x1f6)]('/services/apexrest'+salesforce_request_1['namespace']+'/async',{'mdlId':_0x1e432d[_0x173303(0x1bf)],'opType':salesforce_request_type_1[_0x173303(0x1f8)]['SAVE_BACKUP_ZIP']});})[_0x40a2f1(0x1dd)](_0x3eaa7a=>{const _0x5083c0=_0x40a2f1;return _0xdd7642[_0x5083c0(0x1f6)](_0x5083c0(0x1e4)+salesforce_request_1['namespace']+_0x5083c0(0x1ef),{'mdlId':_0x1e432d[_0x5083c0(0x1bf)],'opType':salesforce_request_type_1[_0x5083c0(0x1f8)]['ERROR'],'message':_0x3eaa7a[_0x5083c0(0x1c8)]||_0x3eaa7a});})[_0x40a2f1(0x1dd)](_0x522f9d=>logger[_0x40a2f1(0x1f2)](_0x522f9d['message'])),{'message':'Job\x20started\x20successfully'};}async[a102_0x67cc5a(0x1e5)](_0x1976cf){const _0x5e7294=a102_0x67cc5a,_0x46f64a=(0x0,salesforce_request_1[_0x5e7294(0x1bb)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x1976cf[_0x5e7294(0x1d1)]));return(0x0,fetch_test_classes_service_1[_0x5e7294(0x1e5)])(_0x1976cf,_0x46f64a)[_0x5e7294(0x1ce)](()=>{const _0x8daa7a=_0x5e7294;return _0x46f64a[_0x8daa7a(0x1f6)]('/services/apexrest'+salesforce_request_1['namespace']+_0x8daa7a(0x1ef),{'mdlId':_0x1976cf['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x8daa7a(0x1b2)]});})[_0x5e7294(0x1dd)](_0x37a9df=>{const _0x457df0=_0x5e7294;return _0x46f64a[_0x457df0(0x1f6)](_0x457df0(0x1e4)+salesforce_request_1[_0x457df0(0x1b8)]+_0x457df0(0x1ef),{'mdlId':_0x1976cf[_0x457df0(0x1bf)],'opType':salesforce_request_type_1[_0x457df0(0x1f8)][_0x457df0(0x1dc)],'message':_0x37a9df['message']||_0x37a9df});})[_0x5e7294(0x1dd)](_0x24671c=>logger['error'](_0x24671c['message'])),{'message':_0x5e7294(0x1c1)};}async[a102_0x67cc5a(0x1ee)](_0x3fcc32){const _0x2b3af1=a102_0x67cc5a,_0x1b636a=(0x0,salesforce_request_1[_0x2b3af1(0x1bb)])(auth_utils_1['AuthUtils'][_0x2b3af1(0x1cf)](_0x3fcc32[_0x2b3af1(0x1d1)])),_0x58c0fb=await salesforce_1['AxiosInstanceUtils']['create'](new auth_manager_1[(_0x2b3af1(0x1d3))](_0x3fcc32[_0x2b3af1(0x1df)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x2b3af1(0x1ee)])(_0x3fcc32,_0x1b636a,_0x58c0fb)['then'](_0x497ef1=>{const _0x3d74aa=_0x2b3af1;return _0x1b636a[_0x3d74aa(0x1f6)](_0x3d74aa(0x1e4)+salesforce_request_1[_0x3d74aa(0x1b8)]+_0x3d74aa(0x1ef),{'mdlId':_0x3fcc32[_0x3d74aa(0x1bf)],'opType':salesforce_request_type_1['OptionType'][_0x3d74aa(0x1b0)],'attachment':_0x497ef1});})[_0x2b3af1(0x1dd)](_0x58507a=>{const _0x227ba2=_0x2b3af1;return _0x1b636a[_0x227ba2(0x1f6)](_0x227ba2(0x1e4)+salesforce_request_1[_0x227ba2(0x1b8)]+_0x227ba2(0x1ef),{'mdlId':_0x3fcc32[_0x227ba2(0x1bf)],'opType':salesforce_request_type_1[_0x227ba2(0x1f8)][_0x227ba2(0x1dc)],'message':_0x58507a[_0x227ba2(0x1c8)]||_0x58507a});})[_0x2b3af1(0x1dd)](_0x4e2aee=>logger[_0x2b3af1(0x1f2)](_0x4e2aee[_0x2b3af1(0x1c8)])),{'message':_0x2b3af1(0x1c1)};}async[a102_0x67cc5a(0x1b3)](_0x325451){const _0x4df675=a102_0x67cc5a,_0x308b24=(0x0,salesforce_request_1[_0x4df675(0x1bb)])(auth_utils_1[_0x4df675(0x1e2)][_0x4df675(0x1cf)](_0x325451[_0x4df675(0x1d1)])),_0x11ddc7=await salesforce_1[_0x4df675(0x1cd)][_0x4df675(0x1da)](new auth_manager_1[(_0x4df675(0x1d3))](_0x325451['credentials']),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,deploy_attachment_service_1['deployComponents'])(_0x325451,_0x308b24,_0x11ddc7)[_0x4df675(0x1ce)](_0x479987=>{const _0x432c2b=_0x4df675;return _0x308b24[_0x432c2b(0x1f6)](_0x432c2b(0x1e4)+salesforce_request_1[_0x432c2b(0x1b8)]+'/async',{'mdlId':_0x325451[_0x432c2b(0x1bf)],'asyncId':_0x479987,'opType':salesforce_request_type_1[_0x432c2b(0x1f8)][_0x432c2b(0x1e7)]});})[_0x4df675(0x1dd)](_0x1d18f1=>{const _0xe01bf2=_0x4df675;return _0x308b24[_0xe01bf2(0x1f6)](_0xe01bf2(0x1e4)+salesforce_request_1[_0xe01bf2(0x1b8)]+'/async',{'mdlId':_0x325451[_0xe01bf2(0x1bf)],'opType':salesforce_request_type_1[_0xe01bf2(0x1f8)][_0xe01bf2(0x1dc)],'message':_0x1d18f1[_0xe01bf2(0x1c8)]||_0x1d18f1});})[_0x4df675(0x1dd)](_0x280658=>logger[_0x4df675(0x1f2)](_0x280658['message'])),{'message':_0x4df675(0x1c1)};}};__decorate([(0x0,core_1['Post'])('retrieve'),__param(0x0,core_1[a102_0x67cc5a(0x1f5)][a102_0x67cc5a(0x1bd)]()),__metadata('design:type',Function),__metadata(a102_0x67cc5a(0x1ca),[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a102_0x67cc5a(0x1b5),null),__decorate([(0x0,core_1['Post'])(a102_0x67cc5a(0x1f9)),__param(0x0,core_1[a102_0x67cc5a(0x1f5)][a102_0x67cc5a(0x1bd)]()),__metadata(a102_0x67cc5a(0x1d6),Function),__metadata('design:paramtypes',[Object]),__metadata(a102_0x67cc5a(0x1e6),Promise)],FunctionsController[a102_0x67cc5a(0x1f4)],a102_0x67cc5a(0x1e5),null),__decorate([(0x0,core_1[a102_0x67cc5a(0x1cc)])(a102_0x67cc5a(0x1c3)),__param(0x0,core_1['param'][a102_0x67cc5a(0x1bd)]()),__metadata(a102_0x67cc5a(0x1d6),Function),__metadata(a102_0x67cc5a(0x1ca),[Object]),__metadata(a102_0x67cc5a(0x1e6),Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1[a102_0x67cc5a(0x1cc)])(a102_0x67cc5a(0x1b6)),__param(0x0,core_1[a102_0x67cc5a(0x1f5)][a102_0x67cc5a(0x1bd)]()),__metadata(a102_0x67cc5a(0x1d6),Function),__metadata(a102_0x67cc5a(0x1ca),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a102_0x67cc5a(0x1f4)],a102_0x67cc5a(0x1b3),null),FunctionsController=__decorate([(0x0,core_1[a102_0x67cc5a(0x1e1)])(a102_0x67cc5a(0x1ea)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;