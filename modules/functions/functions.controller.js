const a51_0x2b7655=a51_0x3791;function a51_0x3791(_0x27b139,_0x5a299a){const _0x4d3bb4=a51_0x46b0();return a51_0x3791=function(_0x35f664,_0x1d79fc){_0x35f664=_0x35f664-0x1d2;let _0x46b0a8=_0x4d3bb4[_0x35f664];return _0x46b0a8;},a51_0x3791(_0x27b139,_0x5a299a);}(function(_0x6f2e84,_0x5afbf0){const _0x451870=a51_0x3791,_0x30b230=_0x6f2e84();while(!![]){try{const _0x1ec2bf=-parseInt(_0x451870(0x1e0))/0x1+parseInt(_0x451870(0x1ea))/0x2*(-parseInt(_0x451870(0x1e8))/0x3)+-parseInt(_0x451870(0x1e3))/0x4+-parseInt(_0x451870(0x1d3))/0x5*(parseInt(_0x451870(0x1d8))/0x6)+-parseInt(_0x451870(0x216))/0x7*(parseInt(_0x451870(0x1d9))/0x8)+-parseInt(_0x451870(0x1fa))/0x9*(parseInt(_0x451870(0x1ee))/0xa)+parseInt(_0x451870(0x1fd))/0xb*(parseInt(_0x451870(0x1fe))/0xc);if(_0x1ec2bf===_0x5afbf0)break;else _0x30b230['push'](_0x30b230['shift']());}catch(_0x30c459){_0x30b230['push'](_0x30b230['shift']());}}}(a51_0x46b0,0x9f9e4));const a51_0x1d79fc=(function(){let _0x28c82e=!![];return function(_0x5c8f65,_0x19586e){const _0x5378a3=_0x28c82e?function(){const _0x4361b4=a51_0x3791;if(_0x19586e){const _0x4cd7e5=_0x19586e[_0x4361b4(0x211)](_0x5c8f65,arguments);return _0x19586e=null,_0x4cd7e5;}}:function(){};return _0x28c82e=![],_0x5378a3;};}()),a51_0x35f664=a51_0x1d79fc(this,function(){const _0x3a4367=a51_0x3791;return a51_0x35f664[_0x3a4367(0x1e9)]()[_0x3a4367(0x200)](_0x3a4367(0x1fb))[_0x3a4367(0x1e9)]()['constructor'](a51_0x35f664)[_0x3a4367(0x200)](_0x3a4367(0x1fb));});a51_0x35f664();'use strict';var __decorate=this&&this[a51_0x2b7655(0x20b)]||function(_0x1f55ad,_0x4d34fe,_0x5ad8be,_0x4d23a8){const _0x28aa84=a51_0x2b7655;var _0x3683ee=arguments[_0x28aa84(0x20a)],_0x25696b=_0x3683ee<0x3?_0x4d34fe:_0x4d23a8===null?_0x4d23a8=Object[_0x28aa84(0x1e5)](_0x4d34fe,_0x5ad8be):_0x4d23a8,_0x4d7360;if(typeof Reflect==='object'&&typeof Reflect[_0x28aa84(0x1df)]===_0x28aa84(0x1d6))_0x25696b=Reflect[_0x28aa84(0x1df)](_0x1f55ad,_0x4d34fe,_0x5ad8be,_0x4d23a8);else{for(var _0x106d11=_0x1f55ad['length']-0x1;_0x106d11>=0x0;_0x106d11--)if(_0x4d7360=_0x1f55ad[_0x106d11])_0x25696b=(_0x3683ee<0x3?_0x4d7360(_0x25696b):_0x3683ee>0x3?_0x4d7360(_0x4d34fe,_0x5ad8be,_0x25696b):_0x4d7360(_0x4d34fe,_0x5ad8be))||_0x25696b;}return _0x3683ee>0x3&&_0x25696b&&Object[_0x28aa84(0x207)](_0x4d34fe,_0x5ad8be,_0x25696b),_0x25696b;},__metadata=this&&this[a51_0x2b7655(0x201)]||function(_0x2a0307,_0x1cc7d5){const _0x3d0472=a51_0x2b7655;if(typeof Reflect===_0x3d0472(0x1f3)&&typeof Reflect[_0x3d0472(0x20d)]===_0x3d0472(0x1d6))return Reflect[_0x3d0472(0x20d)](_0x2a0307,_0x1cc7d5);},__param=this&&this['__param']||function(_0x1ff252,_0x5a9774){return function(_0x23e112,_0x5c5d70){_0x5a9774(_0x23e112,_0x5c5d70,_0x1ff252);};};function a51_0x46b0(){const _0x454791=['object','./utils/salesforce-request','post','server','fetch-test-classes','./services/deploy-attachment.service','Job\x20started\x20successfully','1440513hlziRs','(((.+)+)+)+$','metadataLogId','162855gVizdS','4428IpASGZ','getAuthParameters','search','__metadata','deploy-components','createRequest','SAVE_BACKUP_ZIP','catch','prototype','defineProperty','Post','./types/salesforce-request.type','length','__decorate','message','metadata','./services/retrieve-zip.service','generateAndDeployZip','deployComponents','apply','DEPLOY','./services/generate-zip.service','/async','ERROR','406TyeWnf','then','design:returntype','body','1581675mcMdkB','FunctionsController','SAVE_DEPLOY_ZIP','function','Logger','12GJdqBZ','121768MepXBk','error','namespace','__esModule','retrieveZip','GET_TESTS','decorate','860701IXinzk','instanceUrl','design:paramtypes','5065268EfvKDO','../../core','getOwnPropertyDescriptor','functions','fetchTestClasses','1510029yEDIEE','toString','4WQTqoM','./utils/auth.utils','Controller','OptionType','10XQIReo','AuthUtils','/services/apexrest','design:type','param'];a51_0x46b0=function(){return _0x454791;};return a51_0x46b0();}Object[a51_0x2b7655(0x207)](exports,a51_0x2b7655(0x1dc),{'value':!![]}),exports[a51_0x2b7655(0x1d4)]=void 0x0;const core_1=require(a51_0x2b7655(0x1e4)),salesforce_request_type_1=require(a51_0x2b7655(0x209)),retrieve_zip_service_1=require(a51_0x2b7655(0x20e)),generate_zip_service_1=require(a51_0x2b7655(0x213)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a51_0x2b7655(0x1f8)),salesforce_request_1=require(a51_0x2b7655(0x1f4)),auth_utils_1=require(a51_0x2b7655(0x1eb)),logger=new core_1[(a51_0x2b7655(0x1d7))](a51_0x2b7655(0x1f6));let FunctionsController=class FunctionsController{async[a51_0x2b7655(0x1dd)](_0x3f90fc){const _0x5c7f73=a51_0x2b7655,_0x308a0e=(0x0,salesforce_request_1[_0x5c7f73(0x203)])(auth_utils_1[_0x5c7f73(0x1ef)][_0x5c7f73(0x1ff)](_0x3f90fc['instanceUrl']));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x3f90fc,_0x308a0e)[_0x5c7f73(0x217)](()=>{const _0x26a644=_0x5c7f73;return _0x308a0e[_0x26a644(0x1f5)](_0x26a644(0x1f0)+salesforce_request_1[_0x26a644(0x1db)]+_0x26a644(0x214),{'mdlId':_0x3f90fc['metadataLogId'],'opType':salesforce_request_type_1[_0x26a644(0x1ed)][_0x26a644(0x204)]});})[_0x5c7f73(0x205)](_0x2a3562=>{const _0x382a04=_0x5c7f73;return _0x308a0e[_0x382a04(0x1f5)]('/services/apexrest'+salesforce_request_1[_0x382a04(0x1db)]+_0x382a04(0x214),{'mdlId':_0x3f90fc[_0x382a04(0x1fc)],'opType':salesforce_request_type_1[_0x382a04(0x1ed)][_0x382a04(0x215)],'message':_0x2a3562[_0x382a04(0x20c)]||_0x2a3562});})[_0x5c7f73(0x205)](_0x5bec13=>logger[_0x5c7f73(0x1da)](_0x5bec13[_0x5c7f73(0x20c)])),{'message':_0x5c7f73(0x1f9)};}async['fetchTestClasses'](_0x24aeab){const _0x28bb11=a51_0x2b7655,_0x4e720a=(0x0,salesforce_request_1[_0x28bb11(0x203)])(auth_utils_1[_0x28bb11(0x1ef)][_0x28bb11(0x1ff)](_0x24aeab[_0x28bb11(0x1e1)]));return(0x0,fetch_test_classes_service_1[_0x28bb11(0x1e7)])(_0x24aeab,_0x4e720a)['then'](()=>{const _0x14d4c8=_0x28bb11;return _0x4e720a['post']('/services/apexrest'+salesforce_request_1[_0x14d4c8(0x1db)]+'/async',{'mdlId':_0x24aeab['metadataLogId'],'opType':salesforce_request_type_1[_0x14d4c8(0x1ed)][_0x14d4c8(0x1de)]});})[_0x28bb11(0x205)](_0xae792e=>{const _0x22a8f0=_0x28bb11;return _0x4e720a[_0x22a8f0(0x1f5)](_0x22a8f0(0x1f0)+salesforce_request_1[_0x22a8f0(0x1db)]+_0x22a8f0(0x214),{'mdlId':_0x24aeab[_0x22a8f0(0x1fc)],'opType':salesforce_request_type_1[_0x22a8f0(0x1ed)][_0x22a8f0(0x215)],'message':_0xae792e['message']||_0xae792e});})[_0x28bb11(0x205)](_0x35c055=>logger[_0x28bb11(0x1da)](_0x35c055['message'])),{'message':_0x28bb11(0x1f9)};}async[a51_0x2b7655(0x20f)](_0x4417d2){const _0x5c3602=a51_0x2b7655,_0x54f2de=(0x0,salesforce_request_1[_0x5c3602(0x203)])(auth_utils_1[_0x5c3602(0x1ef)][_0x5c3602(0x1ff)](_0x4417d2['instanceUrl']));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x4417d2,_0x54f2de)['then'](_0x5ec538=>{const _0x107cd7=_0x5c3602;return _0x54f2de['post']('/services/apexrest'+salesforce_request_1[_0x107cd7(0x1db)]+_0x107cd7(0x214),{'mdlId':_0x4417d2[_0x107cd7(0x1fc)],'opType':salesforce_request_type_1[_0x107cd7(0x1ed)][_0x107cd7(0x1d5)],'attachment':_0x5ec538});})[_0x5c3602(0x205)](_0x3ed26a=>{const _0x8621c8=_0x5c3602;return _0x54f2de[_0x8621c8(0x1f5)]('/services/apexrest'+salesforce_request_1['namespace']+_0x8621c8(0x214),{'mdlId':_0x4417d2[_0x8621c8(0x1fc)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x3ed26a[_0x8621c8(0x20c)]||_0x3ed26a});})[_0x5c3602(0x205)](_0x38be7d=>logger[_0x5c3602(0x1da)](_0x38be7d[_0x5c3602(0x20c)])),{'message':_0x5c3602(0x1f9)};}async[a51_0x2b7655(0x210)](_0x417a89){const _0x40b1d7=a51_0x2b7655,_0x38c0d3=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x40b1d7(0x1ef)]['getAuthParameters'](_0x417a89['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x40b1d7(0x210)])(_0x417a89,_0x38c0d3)[_0x40b1d7(0x217)](_0x34c928=>{const _0x580726=_0x40b1d7;return _0x38c0d3['post'](_0x580726(0x1f0)+salesforce_request_1[_0x580726(0x1db)]+_0x580726(0x214),{'mdlId':_0x417a89['metadataLogId'],'asyncId':_0x34c928,'opType':salesforce_request_type_1[_0x580726(0x1ed)][_0x580726(0x212)]});})[_0x40b1d7(0x205)](_0x5ce39a=>{const _0x3dc1fd=_0x40b1d7;return _0x38c0d3['post'](_0x3dc1fd(0x1f0)+salesforce_request_1[_0x3dc1fd(0x1db)]+_0x3dc1fd(0x214),{'mdlId':_0x417a89['metadataLogId'],'opType':salesforce_request_type_1[_0x3dc1fd(0x1ed)]['ERROR'],'message':_0x5ce39a['message']||_0x5ce39a});})[_0x40b1d7(0x205)](_0x44db42=>logger['error'](_0x44db42[_0x40b1d7(0x20c)])),{'message':_0x40b1d7(0x1f9)};}};__decorate([(0x0,core_1[a51_0x2b7655(0x208)])('retrieve'),__param(0x0,core_1['param'][a51_0x2b7655(0x1d2)]()),__metadata(a51_0x2b7655(0x1f1),Function),__metadata(a51_0x2b7655(0x1e2),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x2b7655(0x206)],a51_0x2b7655(0x1dd),null),__decorate([(0x0,core_1[a51_0x2b7655(0x208)])(a51_0x2b7655(0x1f7)),__param(0x0,core_1[a51_0x2b7655(0x1f2)][a51_0x2b7655(0x1d2)]()),__metadata('design:type',Function),__metadata(a51_0x2b7655(0x1e2),[Object]),__metadata(a51_0x2b7655(0x218),Promise)],FunctionsController[a51_0x2b7655(0x206)],a51_0x2b7655(0x1e7),null),__decorate([(0x0,core_1[a51_0x2b7655(0x208)])('generate-deploy-zip'),__param(0x0,core_1[a51_0x2b7655(0x1f2)][a51_0x2b7655(0x1d2)]()),__metadata(a51_0x2b7655(0x1f1),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x2b7655(0x206)],a51_0x2b7655(0x20f),null),__decorate([(0x0,core_1[a51_0x2b7655(0x208)])(a51_0x2b7655(0x202)),__param(0x0,core_1[a51_0x2b7655(0x1f2)][a51_0x2b7655(0x1d2)]()),__metadata(a51_0x2b7655(0x1f1),Function),__metadata(a51_0x2b7655(0x1e2),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x2b7655(0x206)],a51_0x2b7655(0x210),null),FunctionsController=__decorate([(0x0,core_1[a51_0x2b7655(0x1ec)])(a51_0x2b7655(0x1e6)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a51_0x2b7655(0x1d4)]=FunctionsController;