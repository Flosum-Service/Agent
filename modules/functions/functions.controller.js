const a84_0x331830=a84_0x130a;function a84_0x130a(_0x1c18aa,_0x15d16a){const _0x3c09c9=a84_0x44ab();return a84_0x130a=function(_0x4e9c3b,_0x13e77d){_0x4e9c3b=_0x4e9c3b-0x14c;let _0x44ab85=_0x3c09c9[_0x4e9c3b];return _0x44ab85;},a84_0x130a(_0x1c18aa,_0x15d16a);}(function(_0x1c799b,_0x15fc1a){const _0x244f49=a84_0x130a,_0x1a3474=_0x1c799b();while(!![]){try{const _0x4cd6fe=-parseInt(_0x244f49(0x177))/0x1+-parseInt(_0x244f49(0x152))/0x2+parseInt(_0x244f49(0x153))/0x3*(-parseInt(_0x244f49(0x164))/0x4)+-parseInt(_0x244f49(0x14f))/0x5+parseInt(_0x244f49(0x188))/0x6*(parseInt(_0x244f49(0x190))/0x7)+-parseInt(_0x244f49(0x193))/0x8*(-parseInt(_0x244f49(0x15b))/0x9)+parseInt(_0x244f49(0x185))/0xa*(parseInt(_0x244f49(0x166))/0xb);if(_0x4cd6fe===_0x15fc1a)break;else _0x1a3474['push'](_0x1a3474['shift']());}catch(_0x3c3933){_0x1a3474['push'](_0x1a3474['shift']());}}}(a84_0x44ab,0x55720));const a84_0x13e77d=(function(){let _0x66686c=!![];return function(_0x4f8280,_0x4c70c6){const _0x337925=_0x66686c?function(){const _0x59afb9=a84_0x130a;if(_0x4c70c6){const _0x222a10=_0x4c70c6[_0x59afb9(0x176)](_0x4f8280,arguments);return _0x4c70c6=null,_0x222a10;}}:function(){};return _0x66686c=![],_0x337925;};}()),a84_0x4e9c3b=a84_0x13e77d(this,function(){const _0x3bf7d2=a84_0x130a;return a84_0x4e9c3b[_0x3bf7d2(0x14e)]()[_0x3bf7d2(0x167)](_0x3bf7d2(0x162))['toString']()[_0x3bf7d2(0x151)](a84_0x4e9c3b)[_0x3bf7d2(0x167)](_0x3bf7d2(0x162));});a84_0x4e9c3b();'use strict';var __decorate=this&&this['__decorate']||function(_0x36b52d,_0x2c8cc6,_0x361a21,_0x5e662f){const _0x907436=a84_0x130a;var _0x606a48=arguments[_0x907436(0x172)],_0x515937=_0x606a48<0x3?_0x2c8cc6:_0x5e662f===null?_0x5e662f=Object[_0x907436(0x18c)](_0x2c8cc6,_0x361a21):_0x5e662f,_0x3dd014;if(typeof Reflect===_0x907436(0x14c)&&typeof Reflect[_0x907436(0x163)]===_0x907436(0x15e))_0x515937=Reflect[_0x907436(0x163)](_0x36b52d,_0x2c8cc6,_0x361a21,_0x5e662f);else{for(var _0x33f1b5=_0x36b52d['length']-0x1;_0x33f1b5>=0x0;_0x33f1b5--)if(_0x3dd014=_0x36b52d[_0x33f1b5])_0x515937=(_0x606a48<0x3?_0x3dd014(_0x515937):_0x606a48>0x3?_0x3dd014(_0x2c8cc6,_0x361a21,_0x515937):_0x3dd014(_0x2c8cc6,_0x361a21))||_0x515937;}return _0x606a48>0x3&&_0x515937&&Object[_0x907436(0x156)](_0x2c8cc6,_0x361a21,_0x515937),_0x515937;},__metadata=this&&this[a84_0x331830(0x154)]||function(_0x4d14cb,_0x35bcdd){const _0x3c4c88=a84_0x331830;if(typeof Reflect===_0x3c4c88(0x14c)&&typeof Reflect[_0x3c4c88(0x186)]==='function')return Reflect[_0x3c4c88(0x186)](_0x4d14cb,_0x35bcdd);},__param=this&&this[a84_0x331830(0x179)]||function(_0x2f30c7,_0x9f8c52){return function(_0x52e35b,_0x133d23){_0x9f8c52(_0x52e35b,_0x133d23,_0x2f30c7);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a84_0x331830(0x199)]=void 0x0;const core_1=require(a84_0x331830(0x18d)),salesforce_request_type_1=require(a84_0x331830(0x180)),retrieve_zip_service_1=require(a84_0x331830(0x197)),generate_zip_service_1=require(a84_0x331830(0x16c)),fetch_test_classes_service_1=require(a84_0x331830(0x171)),deploy_attachment_service_1=require(a84_0x331830(0x158)),salesforce_request_1=require(a84_0x331830(0x189)),auth_utils_1=require(a84_0x331830(0x181)),auth_manager_1=require(a84_0x331830(0x18a)),salesforce_1=require(a84_0x331830(0x178)),logger=new core_1[(a84_0x331830(0x169))](a84_0x331830(0x182));function a84_0x44ab(){const _0x20ade7=['AuthUtils','create','5864zKiwTn','error','SAVE_DEPLOY_ZIP','GET_TESTS','./services/retrieve-zip.service','design:paramtypes','FunctionsController','object','fetchTestClasses','toString','1850395QDyFPN','retrieveZip','constructor','202414oZkgID','1235763yLUGQW','__metadata','then','defineProperty','param','./services/deploy-attachment.service','prototype','generate-deploy-zip','4383wZKQqi','design:returntype','generateAndDeployZip','function','/services/apexrest','retrieve','design:type','(((.+)+)+)+$','decorate','4FRrpXI','post','19613FtvtZn','search','AxiosInstanceUtils','Logger','body','ERROR','./services/generate-zip.service','Version','/async','functions','Post','./services/fetch-test-classes.service','length','Controller','Job\x20started\x20successfully','deployComponents','apply','454901wPbwxM','@flosum/salesforce','__param','message','createRequest','metadataLogId','OptionType','deploy-components','credentials','./types/salesforce-request.type','./utils/auth.utils','server','instanceUrl','DEPLOY','5410VpFsHJ','metadata','getAuthParameters','2199108gvbrvk','./utils/salesforce-request','../shared/managers/auth.manager','SAVE_BACKUP_ZIP','getOwnPropertyDescriptor','../../core','namespace','catch','7KbhpOk'];a84_0x44ab=function(){return _0x20ade7;};return a84_0x44ab();}let FunctionsController=class FunctionsController{async[a84_0x331830(0x150)](_0x1f868a){const _0x528587=a84_0x331830,_0x2e1a67=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x528587(0x191)][_0x528587(0x187)](_0x1f868a['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x528587(0x150)])(_0x1f868a,_0x2e1a67)['then'](()=>{const _0x5d0cb3=_0x528587;return _0x2e1a67[_0x5d0cb3(0x165)]('/services/apexrest'+salesforce_request_1[_0x5d0cb3(0x18e)]+_0x5d0cb3(0x16e),{'mdlId':_0x1f868a[_0x5d0cb3(0x17c)],'opType':salesforce_request_type_1[_0x5d0cb3(0x17d)][_0x5d0cb3(0x18b)]});})['catch'](_0x344eff=>{const _0x4b86bc=_0x528587;return _0x2e1a67[_0x4b86bc(0x165)]('/services/apexrest'+salesforce_request_1[_0x4b86bc(0x18e)]+_0x4b86bc(0x16e),{'mdlId':_0x1f868a['metadataLogId'],'opType':salesforce_request_type_1[_0x4b86bc(0x17d)][_0x4b86bc(0x16b)],'message':_0x344eff[_0x4b86bc(0x17a)]||_0x344eff});})[_0x528587(0x18f)](_0x4f9b75=>logger[_0x528587(0x194)](_0x4f9b75[_0x528587(0x17a)])),{'message':'Job\x20started\x20successfully'};}async[a84_0x331830(0x14d)](_0xb3ad4a){const _0x424031=a84_0x331830,_0x34f741=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x424031(0x191)][_0x424031(0x187)](_0xb3ad4a[_0x424031(0x183)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0xb3ad4a,_0x34f741)[_0x424031(0x155)](()=>{const _0x30c575=_0x424031;return _0x34f741[_0x30c575(0x165)]('/services/apexrest'+salesforce_request_1[_0x30c575(0x18e)]+_0x30c575(0x16e),{'mdlId':_0xb3ad4a[_0x30c575(0x17c)],'opType':salesforce_request_type_1[_0x30c575(0x17d)][_0x30c575(0x196)]});})['catch'](_0x28c352=>{const _0x53f8ac=_0x424031;return _0x34f741[_0x53f8ac(0x165)](_0x53f8ac(0x15f)+salesforce_request_1['namespace']+'/async',{'mdlId':_0xb3ad4a[_0x53f8ac(0x17c)],'opType':salesforce_request_type_1[_0x53f8ac(0x17d)]['ERROR'],'message':_0x28c352['message']||_0x28c352});})['catch'](_0xd4e257=>logger[_0x424031(0x194)](_0xd4e257[_0x424031(0x17a)])),{'message':_0x424031(0x174)};}async[a84_0x331830(0x15d)](_0x375316){const _0xb07e1f=a84_0x331830,_0x1fb918=(0x0,salesforce_request_1[_0xb07e1f(0x17b)])(auth_utils_1[_0xb07e1f(0x191)][_0xb07e1f(0x187)](_0x375316[_0xb07e1f(0x183)])),_0x3e2f3c=await salesforce_1[_0xb07e1f(0x168)][_0xb07e1f(0x192)](new auth_manager_1['AuthManager'](_0x375316[_0xb07e1f(0x17f)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x375316,_0x1fb918,_0x3e2f3c)[_0xb07e1f(0x155)](_0x23f020=>{const _0x455634=_0xb07e1f;return _0x1fb918['post'](_0x455634(0x15f)+salesforce_request_1['namespace']+_0x455634(0x16e),{'mdlId':_0x375316['metadataLogId'],'opType':salesforce_request_type_1[_0x455634(0x17d)][_0x455634(0x195)],'attachment':_0x23f020});})['catch'](_0x57a863=>{const _0x349954=_0xb07e1f;return _0x1fb918[_0x349954(0x165)](_0x349954(0x15f)+salesforce_request_1[_0x349954(0x18e)]+_0x349954(0x16e),{'mdlId':_0x375316[_0x349954(0x17c)],'opType':salesforce_request_type_1[_0x349954(0x17d)][_0x349954(0x16b)],'message':_0x57a863[_0x349954(0x17a)]||_0x57a863});})[_0xb07e1f(0x18f)](_0x427ab2=>logger[_0xb07e1f(0x194)](_0x427ab2['message'])),{'message':_0xb07e1f(0x174)};}async[a84_0x331830(0x175)](_0x348d6a){const _0x5d41e3=a84_0x331830,_0x558937=(0x0,salesforce_request_1[_0x5d41e3(0x17b)])(auth_utils_1[_0x5d41e3(0x191)]['getAuthParameters'](_0x348d6a[_0x5d41e3(0x183)]));return(0x0,deploy_attachment_service_1[_0x5d41e3(0x175)])(_0x348d6a,_0x558937)[_0x5d41e3(0x155)](_0x35b130=>{const _0x1e6c61=_0x5d41e3;return _0x558937[_0x1e6c61(0x165)](_0x1e6c61(0x15f)+salesforce_request_1[_0x1e6c61(0x18e)]+_0x1e6c61(0x16e),{'mdlId':_0x348d6a[_0x1e6c61(0x17c)],'asyncId':_0x35b130,'opType':salesforce_request_type_1[_0x1e6c61(0x17d)][_0x1e6c61(0x184)]});})[_0x5d41e3(0x18f)](_0x7742ad=>{const _0x46f596=_0x5d41e3;return _0x558937[_0x46f596(0x165)](_0x46f596(0x15f)+salesforce_request_1['namespace']+_0x46f596(0x16e),{'mdlId':_0x348d6a[_0x46f596(0x17c)],'opType':salesforce_request_type_1['OptionType'][_0x46f596(0x16b)],'message':_0x7742ad[_0x46f596(0x17a)]||_0x7742ad});})[_0x5d41e3(0x18f)](_0x1ed80d=>logger['error'](_0x1ed80d['message'])),{'message':_0x5d41e3(0x174)};}};__decorate([(0x0,core_1['Post'])(a84_0x331830(0x160)),__param(0x0,core_1['param'][a84_0x331830(0x16a)]()),__metadata(a84_0x331830(0x161),Function),__metadata('design:paramtypes',[Object]),__metadata(a84_0x331830(0x15c),Promise)],FunctionsController[a84_0x331830(0x159)],a84_0x331830(0x150),null),__decorate([(0x0,core_1['Post'])('fetch-test-classes'),__param(0x0,core_1['param'][a84_0x331830(0x16a)]()),__metadata(a84_0x331830(0x161),Function),__metadata(a84_0x331830(0x198),[Object]),__metadata(a84_0x331830(0x15c),Promise)],FunctionsController[a84_0x331830(0x159)],a84_0x331830(0x14d),null),__decorate([(0x0,core_1[a84_0x331830(0x170)])(a84_0x331830(0x15a)),__param(0x0,core_1[a84_0x331830(0x157)]['body']()),__metadata(a84_0x331830(0x161),Function),__metadata(a84_0x331830(0x198),[Object]),__metadata(a84_0x331830(0x15c),Promise)],FunctionsController[a84_0x331830(0x159)],a84_0x331830(0x15d),null),__decorate([(0x0,core_1['Post'])(a84_0x331830(0x17e)),__param(0x0,core_1[a84_0x331830(0x157)][a84_0x331830(0x16a)]()),__metadata('design:type',Function),__metadata(a84_0x331830(0x198),[Object]),__metadata(a84_0x331830(0x15c),Promise)],FunctionsController['prototype'],a84_0x331830(0x175),null),FunctionsController=__decorate([(0x0,core_1[a84_0x331830(0x173)])(a84_0x331830(0x16f)),(0x0,core_1[a84_0x331830(0x16d)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;