const a83_0x4c8de6=a83_0x4524;(function(_0x30b57e,_0x5e330b){const _0x2bbcbb=a83_0x4524,_0x35f4c0=_0x30b57e();while(!![]){try{const _0x2fe815=-parseInt(_0x2bbcbb(0x82))/0x1+-parseInt(_0x2bbcbb(0x8a))/0x2*(-parseInt(_0x2bbcbb(0x92))/0x3)+parseInt(_0x2bbcbb(0x9d))/0x4+-parseInt(_0x2bbcbb(0xaa))/0x5*(-parseInt(_0x2bbcbb(0x78))/0x6)+-parseInt(_0x2bbcbb(0xa2))/0x7*(-parseInt(_0x2bbcbb(0x7c))/0x8)+-parseInt(_0x2bbcbb(0x75))/0x9*(parseInt(_0x2bbcbb(0x71))/0xa)+-parseInt(_0x2bbcbb(0x87))/0xb*(-parseInt(_0x2bbcbb(0x91))/0xc);if(_0x2fe815===_0x5e330b)break;else _0x35f4c0['push'](_0x35f4c0['shift']());}catch(_0x2d2597){_0x35f4c0['push'](_0x35f4c0['shift']());}}}(a83_0x54ca,0xb277f));const a83_0x29b67a=(function(){let _0x4b88b1=!![];return function(_0x5cc3ca,_0x91a816){const _0x5f810f=_0x4b88b1?function(){const _0x33e011=a83_0x4524;if(_0x91a816){const _0xf0d99e=_0x91a816[_0x33e011(0x7d)](_0x5cc3ca,arguments);return _0x91a816=null,_0xf0d99e;}}:function(){};return _0x4b88b1=![],_0x5f810f;};}()),a83_0x21792e=a83_0x29b67a(this,function(){const _0x3272b0=a83_0x4524;return a83_0x21792e[_0x3272b0(0x8f)]()[_0x3272b0(0x80)](_0x3272b0(0x8d))[_0x3272b0(0x8f)]()[_0x3272b0(0xaf)](a83_0x21792e)[_0x3272b0(0x80)](_0x3272b0(0x8d));});a83_0x21792e();'use strict';var __decorate=this&&this[a83_0x4c8de6(0x81)]||function(_0x44cca6,_0x27e031,_0x5be6eb,_0x340e5c){const _0x17247d=a83_0x4c8de6;var _0x57b774=arguments[_0x17247d(0xb3)],_0xdce7c7=_0x57b774<0x3?_0x27e031:_0x340e5c===null?_0x340e5c=Object['getOwnPropertyDescriptor'](_0x27e031,_0x5be6eb):_0x340e5c,_0x2d01be;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x17247d(0x96))_0xdce7c7=Reflect['decorate'](_0x44cca6,_0x27e031,_0x5be6eb,_0x340e5c);else{for(var _0x1eef3f=_0x44cca6['length']-0x1;_0x1eef3f>=0x0;_0x1eef3f--)if(_0x2d01be=_0x44cca6[_0x1eef3f])_0xdce7c7=(_0x57b774<0x3?_0x2d01be(_0xdce7c7):_0x57b774>0x3?_0x2d01be(_0x27e031,_0x5be6eb,_0xdce7c7):_0x2d01be(_0x27e031,_0x5be6eb))||_0xdce7c7;}return _0x57b774>0x3&&_0xdce7c7&&Object[_0x17247d(0x72)](_0x27e031,_0x5be6eb,_0xdce7c7),_0xdce7c7;},__metadata=this&&this[a83_0x4c8de6(0x98)]||function(_0x385f5e,_0x39fe63){const _0x1c112e=a83_0x4c8de6;if(typeof Reflect===_0x1c112e(0xa6)&&typeof Reflect[_0x1c112e(0x90)]==='function')return Reflect['metadata'](_0x385f5e,_0x39fe63);},__param=this&&this[a83_0x4c8de6(0x7e)]||function(_0x355d6f,_0x5e0288){return function(_0x5dfb2a,_0x13f0cf){_0x5e0288(_0x5dfb2a,_0x13f0cf,_0x355d6f);};};function a83_0x4524(_0x2f1f40,_0x15eb0a){const _0x124b1a=a83_0x54ca();return a83_0x4524=function(_0x21792e,_0x29b67a){_0x21792e=_0x21792e-0x71;let _0x54ca33=_0x124b1a[_0x21792e];return _0x54ca33;},a83_0x4524(_0x2f1f40,_0x15eb0a);}function a83_0x54ca(){const _0x2c3732=['search','__decorate','1375274ghjuRG','generateAndDeployZip','./services/fetch-test-classes.service','retrieveZip','error','10808963MHnedH','server','metadataLogId','16580ROLpwN','AuthUtils','/services/apexrest','(((.+)+)+)+$','design:paramtypes','toString','metadata','12VoXczr','123dgmMsA','OptionType','design:type','retrieve','function','functions','__metadata','GET_TESTS','./services/retrieve-zip.service','SAVE_DEPLOY_ZIP','instanceUrl','3485092JZYWGO','design:returntype','namespace','body','Post','152236WBVDVo','./types/salesforce-request.type','fetchTestClasses','createRequest','object','/async','deployComponents','post','1243300ueqpLw','prototype','./services/generate-zip.service','DEPLOY','./utils/auth.utils','constructor','then','generate-deploy-zip','./services/deploy-attachment.service','length','ERROR','12902030FLFvmv','defineProperty','catch','fetch-test-classes','9NJllTQ','getAuthParameters','param','18icZjnb','Version','message','./utils/salesforce-request','168sKQmnc','apply','__param','Job\x20started\x20successfully'];a83_0x54ca=function(){return _0x2c3732;};return a83_0x54ca();}Object[a83_0x4c8de6(0x72)](exports,'__esModule',{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require(a83_0x4c8de6(0xa3)),retrieve_zip_service_1=require(a83_0x4c8de6(0x9a)),generate_zip_service_1=require(a83_0x4c8de6(0xac)),fetch_test_classes_service_1=require(a83_0x4c8de6(0x84)),deploy_attachment_service_1=require(a83_0x4c8de6(0xb2)),salesforce_request_1=require(a83_0x4c8de6(0x7b)),auth_utils_1=require(a83_0x4c8de6(0xae)),logger=new core_1['Logger'](a83_0x4c8de6(0x88));let FunctionsController=class FunctionsController{async['retrieveZip'](_0x15a537){const _0x5b3292=a83_0x4c8de6,_0x5b963e=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x5b3292(0x76)](_0x15a537[_0x5b3292(0x9c)]));return(0x0,retrieve_zip_service_1[_0x5b3292(0x85)])(_0x15a537,_0x5b963e)[_0x5b3292(0xb0)](()=>{const _0x410119=_0x5b3292;return _0x5b963e[_0x410119(0xa9)](_0x410119(0x8c)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x15a537['metadataLogId'],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})[_0x5b3292(0x73)](_0x596376=>{const _0x32d66c=_0x5b3292;return _0x5b963e[_0x32d66c(0xa9)](_0x32d66c(0x8c)+salesforce_request_1['namespace']+_0x32d66c(0xa7),{'mdlId':_0x15a537['metadataLogId'],'opType':salesforce_request_type_1[_0x32d66c(0x93)][_0x32d66c(0xb4)],'message':_0x596376[_0x32d66c(0x7a)]||_0x596376});})[_0x5b3292(0x73)](_0x54c8f7=>logger[_0x5b3292(0x86)](_0x54c8f7['message'])),{'message':_0x5b3292(0x7f)};}async[a83_0x4c8de6(0xa4)](_0x4c3ed6){const _0x27ed34=a83_0x4c8de6,_0x218897=(0x0,salesforce_request_1[_0x27ed34(0xa5)])(auth_utils_1[_0x27ed34(0x8b)]['getAuthParameters'](_0x4c3ed6['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x27ed34(0xa4)])(_0x4c3ed6,_0x218897)['then'](()=>{const _0x431b3f=_0x27ed34;return _0x218897['post']('/services/apexrest'+salesforce_request_1[_0x431b3f(0x9f)]+_0x431b3f(0xa7),{'mdlId':_0x4c3ed6[_0x431b3f(0x89)],'opType':salesforce_request_type_1[_0x431b3f(0x93)][_0x431b3f(0x99)]});})['catch'](_0xfcef13=>{const _0x2e795e=_0x27ed34;return _0x218897[_0x2e795e(0xa9)](_0x2e795e(0x8c)+salesforce_request_1['namespace']+_0x2e795e(0xa7),{'mdlId':_0x4c3ed6['metadataLogId'],'opType':salesforce_request_type_1[_0x2e795e(0x93)][_0x2e795e(0xb4)],'message':_0xfcef13[_0x2e795e(0x7a)]||_0xfcef13});})[_0x27ed34(0x73)](_0x4d31b9=>logger[_0x27ed34(0x86)](_0x4d31b9[_0x27ed34(0x7a)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x4c8de6(0x83)](_0x268015){const _0x2dd3bc=a83_0x4c8de6,_0x5ed616=(0x0,salesforce_request_1[_0x2dd3bc(0xa5)])(auth_utils_1[_0x2dd3bc(0x8b)]['getAuthParameters'](_0x268015[_0x2dd3bc(0x9c)]));return(0x0,generate_zip_service_1[_0x2dd3bc(0x83)])(_0x268015,_0x5ed616)['then'](_0x1c7189=>{const _0x321ff2=_0x2dd3bc;return _0x5ed616['post']('/services/apexrest'+salesforce_request_1['namespace']+_0x321ff2(0xa7),{'mdlId':_0x268015[_0x321ff2(0x89)],'opType':salesforce_request_type_1[_0x321ff2(0x93)][_0x321ff2(0x9b)],'attachment':_0x1c7189});})['catch'](_0x2b1fca=>{const _0x1b2a39=_0x2dd3bc;return _0x5ed616[_0x1b2a39(0xa9)]('/services/apexrest'+salesforce_request_1[_0x1b2a39(0x9f)]+_0x1b2a39(0xa7),{'mdlId':_0x268015[_0x1b2a39(0x89)],'opType':salesforce_request_type_1[_0x1b2a39(0x93)][_0x1b2a39(0xb4)],'message':_0x2b1fca[_0x1b2a39(0x7a)]||_0x2b1fca});})[_0x2dd3bc(0x73)](_0x173d48=>logger[_0x2dd3bc(0x86)](_0x173d48[_0x2dd3bc(0x7a)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x4c8de6(0xa8)](_0xbd0f37){const _0x2ea3ed=a83_0x4c8de6,_0x449fc3=(0x0,salesforce_request_1[_0x2ea3ed(0xa5)])(auth_utils_1[_0x2ea3ed(0x8b)][_0x2ea3ed(0x76)](_0xbd0f37[_0x2ea3ed(0x9c)]));return(0x0,deploy_attachment_service_1[_0x2ea3ed(0xa8)])(_0xbd0f37,_0x449fc3)['then'](_0x20bab7=>{const _0x110983=_0x2ea3ed;return _0x449fc3[_0x110983(0xa9)](_0x110983(0x8c)+salesforce_request_1['namespace']+_0x110983(0xa7),{'mdlId':_0xbd0f37[_0x110983(0x89)],'asyncId':_0x20bab7,'opType':salesforce_request_type_1['OptionType'][_0x110983(0xad)]});})[_0x2ea3ed(0x73)](_0x3c3c0e=>{const _0x2fa673=_0x2ea3ed;return _0x449fc3[_0x2fa673(0xa9)]('/services/apexrest'+salesforce_request_1[_0x2fa673(0x9f)]+'/async',{'mdlId':_0xbd0f37[_0x2fa673(0x89)],'opType':salesforce_request_type_1[_0x2fa673(0x93)]['ERROR'],'message':_0x3c3c0e['message']||_0x3c3c0e});})[_0x2ea3ed(0x73)](_0x247474=>logger[_0x2ea3ed(0x86)](_0x247474[_0x2ea3ed(0x7a)])),{'message':_0x2ea3ed(0x7f)};}};__decorate([(0x0,core_1[a83_0x4c8de6(0xa1)])(a83_0x4c8de6(0x95)),__param(0x0,core_1['param'][a83_0x4c8de6(0xa0)]()),__metadata(a83_0x4c8de6(0x94),Function),__metadata(a83_0x4c8de6(0x8e),[Object]),__metadata(a83_0x4c8de6(0x9e),Promise)],FunctionsController[a83_0x4c8de6(0xab)],'retrieveZip',null),__decorate([(0x0,core_1[a83_0x4c8de6(0xa1)])(a83_0x4c8de6(0x74)),__param(0x0,core_1['param'][a83_0x4c8de6(0xa0)]()),__metadata(a83_0x4c8de6(0x94),Function),__metadata(a83_0x4c8de6(0x8e),[Object]),__metadata(a83_0x4c8de6(0x9e),Promise)],FunctionsController[a83_0x4c8de6(0xab)],a83_0x4c8de6(0xa4),null),__decorate([(0x0,core_1[a83_0x4c8de6(0xa1)])(a83_0x4c8de6(0xb1)),__param(0x0,core_1['param'][a83_0x4c8de6(0xa0)]()),__metadata(a83_0x4c8de6(0x94),Function),__metadata(a83_0x4c8de6(0x8e),[Object]),__metadata(a83_0x4c8de6(0x9e),Promise)],FunctionsController['prototype'],a83_0x4c8de6(0x83),null),__decorate([(0x0,core_1['Post'])('deploy-components'),__param(0x0,core_1[a83_0x4c8de6(0x77)][a83_0x4c8de6(0xa0)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x4c8de6(0x9e),Promise)],FunctionsController[a83_0x4c8de6(0xab)],a83_0x4c8de6(0xa8),null),FunctionsController=__decorate([(0x0,core_1['Controller'])(a83_0x4c8de6(0x97)),(0x0,core_1[a83_0x4c8de6(0x79)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;