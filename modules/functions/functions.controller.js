const a83_0x44bbd8=a83_0x2086;function a83_0x2fc2(){const _0x576d95=['./utils/salesforce-request','retrieve','./services/generate-zip.service','functions','design:paramtypes','server','3ywDYOj','./utils/auth.utils','Post','param','__decorate','(((.+)+)+)+$','4695512QDkGIz','instanceUrl','message','OptionType','GET_TESTS','getOwnPropertyDescriptor','80Ruzvzf','FunctionsController','length','Version','784917UDdbnS','__esModule','namespace','catch','design:type','generate-deploy-zip','./services/fetch-test-classes.service','./services/deploy-attachment.service','design:returntype','/services/apexrest','defineProperty','287ZgGYJb','error','body','2398206INTgcG','AuthUtils','__metadata','728FttNaK','./services/retrieve-zip.service','168XNsPwI','DEPLOY','apply','search','1368BmmUxi','generateAndDeployZip','fetch-test-classes','deploy-components','/async','toString','decorate','deployComponents','createRequest','metadata','32365yTfARz','fetchTestClasses','function','retrieveZip','Controller','839366JpZxsO','post','../../core','object','./types/salesforce-request.type','then','getAuthParameters','Job\x20started\x20successfully','metadataLogId','prototype','ERROR','507432bOctbs'];a83_0x2fc2=function(){return _0x576d95;};return a83_0x2fc2();}(function(_0x529f5f,_0x5ba235){const _0x30a479=a83_0x2086,_0x32d28f=_0x529f5f();while(!![]){try{const _0x3614e1=parseInt(_0x30a479(0x1aa))/0x1+-parseInt(_0x30a479(0x1cf))/0x2*(parseInt(_0x30a479(0x1b1))/0x3)+parseInt(_0x30a479(0x1b7))/0x4+-parseInt(_0x30a479(0x19a))/0x5*(parseInt(_0x30a479(0x190))/0x6)+-parseInt(_0x30a479(0x1cc))/0x7*(-parseInt(_0x30a479(0x18a))/0x8)+-parseInt(_0x30a479(0x1c1))/0x9*(-parseInt(_0x30a479(0x1bd))/0xa)+parseInt(_0x30a479(0x19f))/0xb*(parseInt(_0x30a479(0x18c))/0xc);if(_0x3614e1===_0x5ba235)break;else _0x32d28f['push'](_0x32d28f['shift']());}catch(_0x346066){_0x32d28f['push'](_0x32d28f['shift']());}}}(a83_0x2fc2,0xbd792));const a83_0x3cd747=(function(){let _0x1d4aee=!![];return function(_0x492162,_0x5b7337){const _0x104da1=_0x1d4aee?function(){const _0x248fc7=a83_0x2086;if(_0x5b7337){const _0x3dfbce=_0x5b7337[_0x248fc7(0x18e)](_0x492162,arguments);return _0x5b7337=null,_0x3dfbce;}}:function(){};return _0x1d4aee=![],_0x104da1;};}()),a83_0x3cb20c=a83_0x3cd747(this,function(){const _0x4853af=a83_0x2086;return a83_0x3cb20c[_0x4853af(0x195)]()[_0x4853af(0x18f)](_0x4853af(0x1b6))[_0x4853af(0x195)]()['constructor'](a83_0x3cb20c)[_0x4853af(0x18f)]('(((.+)+)+)+$');});a83_0x3cb20c();'use strict';var __decorate=this&&this[a83_0x44bbd8(0x1b5)]||function(_0x19de82,_0x530115,_0x5784e0,_0x14db04){const _0x7d3b9d=a83_0x44bbd8;var _0x4c7474=arguments[_0x7d3b9d(0x1bf)],_0x59ee39=_0x4c7474<0x3?_0x530115:_0x14db04===null?_0x14db04=Object[_0x7d3b9d(0x1bc)](_0x530115,_0x5784e0):_0x14db04,_0x33d3e1;if(typeof Reflect===_0x7d3b9d(0x1a2)&&typeof Reflect['decorate']===_0x7d3b9d(0x19c))_0x59ee39=Reflect[_0x7d3b9d(0x196)](_0x19de82,_0x530115,_0x5784e0,_0x14db04);else{for(var _0xda791c=_0x19de82[_0x7d3b9d(0x1bf)]-0x1;_0xda791c>=0x0;_0xda791c--)if(_0x33d3e1=_0x19de82[_0xda791c])_0x59ee39=(_0x4c7474<0x3?_0x33d3e1(_0x59ee39):_0x4c7474>0x3?_0x33d3e1(_0x530115,_0x5784e0,_0x59ee39):_0x33d3e1(_0x530115,_0x5784e0))||_0x59ee39;}return _0x4c7474>0x3&&_0x59ee39&&Object[_0x7d3b9d(0x1cb)](_0x530115,_0x5784e0,_0x59ee39),_0x59ee39;},__metadata=this&&this[a83_0x44bbd8(0x189)]||function(_0x21e6aa,_0x2a0158){const _0x1f12e9=a83_0x44bbd8;if(typeof Reflect===_0x1f12e9(0x1a2)&&typeof Reflect[_0x1f12e9(0x199)]===_0x1f12e9(0x19c))return Reflect[_0x1f12e9(0x199)](_0x21e6aa,_0x2a0158);},__param=this&&this['__param']||function(_0x441ef8,_0x4b29ea){return function(_0x4041d2,_0x3edc2f){_0x4b29ea(_0x4041d2,_0x3edc2f,_0x441ef8);};};Object[a83_0x44bbd8(0x1cb)](exports,a83_0x44bbd8(0x1c2),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a83_0x44bbd8(0x1a1)),salesforce_request_type_1=require(a83_0x44bbd8(0x1a3)),retrieve_zip_service_1=require(a83_0x44bbd8(0x18b)),generate_zip_service_1=require(a83_0x44bbd8(0x1ad)),fetch_test_classes_service_1=require(a83_0x44bbd8(0x1c7)),deploy_attachment_service_1=require(a83_0x44bbd8(0x1c8)),salesforce_request_1=require(a83_0x44bbd8(0x1ab)),auth_utils_1=require(a83_0x44bbd8(0x1b2)),logger=new core_1['Logger'](a83_0x44bbd8(0x1b0));let FunctionsController=class FunctionsController{async[a83_0x44bbd8(0x19d)](_0x1b9872){const _0xa8901=a83_0x44bbd8,_0x2c7d24=(0x0,salesforce_request_1[_0xa8901(0x198)])(auth_utils_1[_0xa8901(0x1d0)][_0xa8901(0x1a5)](_0x1b9872[_0xa8901(0x1b8)]));return(0x0,retrieve_zip_service_1[_0xa8901(0x19d)])(_0x1b9872,_0x2c7d24)['then'](()=>{const _0x2d6dbc=_0xa8901;return _0x2c7d24[_0x2d6dbc(0x1a0)](_0x2d6dbc(0x1ca)+salesforce_request_1[_0x2d6dbc(0x1c3)]+_0x2d6dbc(0x194),{'mdlId':_0x1b9872[_0x2d6dbc(0x1a7)],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})['catch'](_0x449064=>{const _0x5ad6a4=_0xa8901;return _0x2c7d24[_0x5ad6a4(0x1a0)](_0x5ad6a4(0x1ca)+salesforce_request_1[_0x5ad6a4(0x1c3)]+'/async',{'mdlId':_0x1b9872['metadataLogId'],'opType':salesforce_request_type_1[_0x5ad6a4(0x1ba)]['ERROR'],'message':_0x449064[_0x5ad6a4(0x1b9)]||_0x449064});})[_0xa8901(0x1c4)](_0x35c55e=>logger[_0xa8901(0x1cd)](_0x35c55e[_0xa8901(0x1b9)])),{'message':_0xa8901(0x1a6)};}async['fetchTestClasses'](_0x46d7e9){const _0x4c9462=a83_0x44bbd8,_0x4a38c1=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4c9462(0x1d0)]['getAuthParameters'](_0x46d7e9[_0x4c9462(0x1b8)]));return(0x0,fetch_test_classes_service_1[_0x4c9462(0x19b)])(_0x46d7e9,_0x4a38c1)[_0x4c9462(0x1a4)](()=>{const _0x59d42e=_0x4c9462;return _0x4a38c1[_0x59d42e(0x1a0)]('/services/apexrest'+salesforce_request_1[_0x59d42e(0x1c3)]+_0x59d42e(0x194),{'mdlId':_0x46d7e9['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x59d42e(0x1bb)]});})['catch'](_0x4594ec=>{const _0xd49f44=_0x4c9462;return _0x4a38c1['post'](_0xd49f44(0x1ca)+salesforce_request_1[_0xd49f44(0x1c3)]+_0xd49f44(0x194),{'mdlId':_0x46d7e9['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0xd49f44(0x1a9)],'message':_0x4594ec['message']||_0x4594ec});})['catch'](_0x3d1e1a=>logger[_0x4c9462(0x1cd)](_0x3d1e1a[_0x4c9462(0x1b9)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x44bbd8(0x191)](_0x2b05d0){const _0x562314=a83_0x44bbd8,_0x8c6b58=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x2b05d0[_0x562314(0x1b8)]));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x2b05d0,_0x8c6b58)[_0x562314(0x1a4)](_0x463f47=>{const _0x20250e=_0x562314;return _0x8c6b58[_0x20250e(0x1a0)](_0x20250e(0x1ca)+salesforce_request_1[_0x20250e(0x1c3)]+_0x20250e(0x194),{'mdlId':_0x2b05d0[_0x20250e(0x1a7)],'opType':salesforce_request_type_1[_0x20250e(0x1ba)]['SAVE_DEPLOY_ZIP'],'attachment':_0x463f47});})[_0x562314(0x1c4)](_0x4effe2=>{const _0x5b6207=_0x562314;return _0x8c6b58[_0x5b6207(0x1a0)](_0x5b6207(0x1ca)+salesforce_request_1['namespace']+_0x5b6207(0x194),{'mdlId':_0x2b05d0['metadataLogId'],'opType':salesforce_request_type_1[_0x5b6207(0x1ba)][_0x5b6207(0x1a9)],'message':_0x4effe2[_0x5b6207(0x1b9)]||_0x4effe2});})[_0x562314(0x1c4)](_0x49e481=>logger[_0x562314(0x1cd)](_0x49e481[_0x562314(0x1b9)])),{'message':'Job\x20started\x20successfully'};}async['deployComponents'](_0x5927da){const _0x3929d5=a83_0x44bbd8,_0x28db83=(0x0,salesforce_request_1[_0x3929d5(0x198)])(auth_utils_1[_0x3929d5(0x1d0)][_0x3929d5(0x1a5)](_0x5927da[_0x3929d5(0x1b8)]));return(0x0,deploy_attachment_service_1[_0x3929d5(0x197)])(_0x5927da,_0x28db83)[_0x3929d5(0x1a4)](_0x2aff31=>{const _0x551647=_0x3929d5;return _0x28db83[_0x551647(0x1a0)](_0x551647(0x1ca)+salesforce_request_1[_0x551647(0x1c3)]+_0x551647(0x194),{'mdlId':_0x5927da['metadataLogId'],'asyncId':_0x2aff31,'opType':salesforce_request_type_1['OptionType'][_0x551647(0x18d)]});})[_0x3929d5(0x1c4)](_0x5bfa83=>{const _0x4601ef=_0x3929d5;return _0x28db83[_0x4601ef(0x1a0)](_0x4601ef(0x1ca)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x5927da[_0x4601ef(0x1a7)],'opType':salesforce_request_type_1[_0x4601ef(0x1ba)][_0x4601ef(0x1a9)],'message':_0x5bfa83[_0x4601ef(0x1b9)]||_0x5bfa83});})[_0x3929d5(0x1c4)](_0x10bfcb=>logger['error'](_0x10bfcb[_0x3929d5(0x1b9)])),{'message':_0x3929d5(0x1a6)};}};function a83_0x2086(_0x379c30,_0x5559e5){const _0x19bdaf=a83_0x2fc2();return a83_0x2086=function(_0x3cb20c,_0x3cd747){_0x3cb20c=_0x3cb20c-0x189;let _0x2fc2ad=_0x19bdaf[_0x3cb20c];return _0x2fc2ad;},a83_0x2086(_0x379c30,_0x5559e5);}__decorate([(0x0,core_1[a83_0x44bbd8(0x1b3)])(a83_0x44bbd8(0x1ac)),__param(0x0,core_1[a83_0x44bbd8(0x1b4)]['body']()),__metadata(a83_0x44bbd8(0x1c5),Function),__metadata(a83_0x44bbd8(0x1af),[Object]),__metadata(a83_0x44bbd8(0x1c9),Promise)],FunctionsController[a83_0x44bbd8(0x1a8)],a83_0x44bbd8(0x19d),null),__decorate([(0x0,core_1[a83_0x44bbd8(0x1b3)])(a83_0x44bbd8(0x192)),__param(0x0,core_1[a83_0x44bbd8(0x1b4)][a83_0x44bbd8(0x1ce)]()),__metadata(a83_0x44bbd8(0x1c5),Function),__metadata(a83_0x44bbd8(0x1af),[Object]),__metadata(a83_0x44bbd8(0x1c9),Promise)],FunctionsController[a83_0x44bbd8(0x1a8)],'fetchTestClasses',null),__decorate([(0x0,core_1[a83_0x44bbd8(0x1b3)])(a83_0x44bbd8(0x1c6)),__param(0x0,core_1[a83_0x44bbd8(0x1b4)][a83_0x44bbd8(0x1ce)]()),__metadata(a83_0x44bbd8(0x1c5),Function),__metadata(a83_0x44bbd8(0x1af),[Object]),__metadata(a83_0x44bbd8(0x1c9),Promise)],FunctionsController[a83_0x44bbd8(0x1a8)],a83_0x44bbd8(0x191),null),__decorate([(0x0,core_1[a83_0x44bbd8(0x1b3)])(a83_0x44bbd8(0x193)),__param(0x0,core_1[a83_0x44bbd8(0x1b4)]['body']()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a83_0x44bbd8(0x197),null),FunctionsController=__decorate([(0x0,core_1[a83_0x44bbd8(0x19e)])(a83_0x44bbd8(0x1ae)),(0x0,core_1[a83_0x44bbd8(0x1c0)])('v1')],FunctionsController),exports[a83_0x44bbd8(0x1be)]=FunctionsController;