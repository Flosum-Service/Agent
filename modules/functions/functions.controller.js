const a83_0x106c2a=a83_0x41c8;(function(_0x2aaf72,_0x53c7f3){const _0x30261d=a83_0x41c8,_0x4fbd22=_0x2aaf72();while(!![]){try{const _0x2eb64a=parseInt(_0x30261d(0xab))/0x1*(parseInt(_0x30261d(0xd7))/0x2)+-parseInt(_0x30261d(0xb4))/0x3+parseInt(_0x30261d(0xc6))/0x4*(parseInt(_0x30261d(0xc7))/0x5)+parseInt(_0x30261d(0xba))/0x6*(-parseInt(_0x30261d(0xc9))/0x7)+-parseInt(_0x30261d(0xa9))/0x8+-parseInt(_0x30261d(0xb8))/0x9+-parseInt(_0x30261d(0xb2))/0xa*(parseInt(_0x30261d(0xce))/0xb);if(_0x2eb64a===_0x53c7f3)break;else _0x4fbd22['push'](_0x4fbd22['shift']());}catch(_0x9e3ffd){_0x4fbd22['push'](_0x4fbd22['shift']());}}}(a83_0x4f6e,0x885a6));function a83_0x41c8(_0x122af2,_0xcd111d){const _0x24d085=a83_0x4f6e();return a83_0x41c8=function(_0x1844ea,_0x462ac7){_0x1844ea=_0x1844ea-0xa5;let _0x4f6e7e=_0x24d085[_0x1844ea];return _0x4f6e7e;},a83_0x41c8(_0x122af2,_0xcd111d);}function a83_0x4f6e(){const _0x1afea9=['defineProperty','3038492LVTfNF','5ezNONs','object','70hbqCdV','retrieve','FunctionsController','./services/retrieve-zip.service','function','686345UormwJ','DEPLOY','constructor','Post','param','then','Version','createRequest','Controller','64424IeIGfk','deployComponents','ERROR','Job\x20started\x20successfully','prototype','catch','./utils/salesforce-request','/async','functions','post','fetch-test-classes','getAuthParameters','/services/apexrest','Logger','instanceUrl','namespace','OptionType','design:returntype','toString','AuthUtils','retrieveZip','design:paramtypes','(((.+)+)+)+$','1959312gKzmis','metadataLogId','32QycvaG','getOwnPropertyDescriptor','design:type','message','metadata','./utils/auth.utils','length','30BSNhJJ','fetchTestClasses','1164699uskKgX','./services/generate-zip.service','__esModule','deploy-components','215487lAZXXF','generate-deploy-zip','232578TVsQgQ','GET_TESTS','decorate','__metadata','SAVE_DEPLOY_ZIP','./services/fetch-test-classes.service','search','error','./types/salesforce-request.type','body','generateAndDeployZip'];a83_0x4f6e=function(){return _0x1afea9;};return a83_0x4f6e();}const a83_0x462ac7=(function(){let _0x5ec677=!![];return function(_0x18e220,_0x2b7b7c){const _0x1e7a3d=_0x5ec677?function(){if(_0x2b7b7c){const _0x4790e4=_0x2b7b7c['apply'](_0x18e220,arguments);return _0x2b7b7c=null,_0x4790e4;}}:function(){};return _0x5ec677=![],_0x1e7a3d;};}()),a83_0x1844ea=a83_0x462ac7(this,function(){const _0x1f8c8b=a83_0x41c8;return a83_0x1844ea[_0x1f8c8b(0xe9)]()['search'](_0x1f8c8b(0xa8))[_0x1f8c8b(0xe9)]()[_0x1f8c8b(0xd0)](a83_0x1844ea)[_0x1f8c8b(0xc0)](_0x1f8c8b(0xa8));});a83_0x1844ea();'use strict';var __decorate=this&&this['__decorate']||function(_0xf6bd6f,_0x4dd8f1,_0x1bb3bf,_0x37293a){const _0x372352=a83_0x41c8;var _0x155d1a=arguments['length'],_0x1f4747=_0x155d1a<0x3?_0x4dd8f1:_0x37293a===null?_0x37293a=Object[_0x372352(0xac)](_0x4dd8f1,_0x1bb3bf):_0x37293a,_0x13c3fc;if(typeof Reflect===_0x372352(0xc8)&&typeof Reflect[_0x372352(0xbc)]===_0x372352(0xcd))_0x1f4747=Reflect[_0x372352(0xbc)](_0xf6bd6f,_0x4dd8f1,_0x1bb3bf,_0x37293a);else{for(var _0x424451=_0xf6bd6f[_0x372352(0xb1)]-0x1;_0x424451>=0x0;_0x424451--)if(_0x13c3fc=_0xf6bd6f[_0x424451])_0x1f4747=(_0x155d1a<0x3?_0x13c3fc(_0x1f4747):_0x155d1a>0x3?_0x13c3fc(_0x4dd8f1,_0x1bb3bf,_0x1f4747):_0x13c3fc(_0x4dd8f1,_0x1bb3bf))||_0x1f4747;}return _0x155d1a>0x3&&_0x1f4747&&Object[_0x372352(0xc5)](_0x4dd8f1,_0x1bb3bf,_0x1f4747),_0x1f4747;},__metadata=this&&this[a83_0x106c2a(0xbd)]||function(_0x831909,_0xa88054){const _0xaf6e28=a83_0x106c2a;if(typeof Reflect===_0xaf6e28(0xc8)&&typeof Reflect[_0xaf6e28(0xaf)]==='function')return Reflect[_0xaf6e28(0xaf)](_0x831909,_0xa88054);},__param=this&&this['__param']||function(_0x309e80,_0x303884){return function(_0x2fc6b4,_0x261619){_0x303884(_0x2fc6b4,_0x261619,_0x309e80);};};Object[a83_0x106c2a(0xc5)](exports,a83_0x106c2a(0xb6),{'value':!![]}),exports[a83_0x106c2a(0xcb)]=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require(a83_0x106c2a(0xc2)),retrieve_zip_service_1=require(a83_0x106c2a(0xcc)),generate_zip_service_1=require(a83_0x106c2a(0xb5)),fetch_test_classes_service_1=require(a83_0x106c2a(0xbf)),deploy_attachment_service_1=require('./services/deploy-attachment.service'),salesforce_request_1=require(a83_0x106c2a(0xdd)),auth_utils_1=require(a83_0x106c2a(0xb0)),logger=new core_1[(a83_0x106c2a(0xe4))]('server');let FunctionsController=class FunctionsController{async[a83_0x106c2a(0xa6)](_0x439ab9){const _0x2f5fa6=a83_0x106c2a,_0x5b47c9=(0x0,salesforce_request_1[_0x2f5fa6(0xd5)])(auth_utils_1[_0x2f5fa6(0xa5)][_0x2f5fa6(0xe2)](_0x439ab9[_0x2f5fa6(0xe5)]));return(0x0,retrieve_zip_service_1[_0x2f5fa6(0xa6)])(_0x439ab9,_0x5b47c9)['then'](()=>{const _0x16762f=_0x2f5fa6;return _0x5b47c9[_0x16762f(0xe0)]('/services/apexrest'+salesforce_request_1[_0x16762f(0xe6)]+_0x16762f(0xde),{'mdlId':_0x439ab9['metadataLogId'],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})[_0x2f5fa6(0xdc)](_0x5975ab=>{const _0x7139f9=_0x2f5fa6;return _0x5b47c9[_0x7139f9(0xe0)](_0x7139f9(0xe3)+salesforce_request_1[_0x7139f9(0xe6)]+_0x7139f9(0xde),{'mdlId':_0x439ab9[_0x7139f9(0xaa)],'opType':salesforce_request_type_1[_0x7139f9(0xe7)][_0x7139f9(0xd9)],'message':_0x5975ab[_0x7139f9(0xae)]||_0x5975ab});})[_0x2f5fa6(0xdc)](_0xbf35a=>logger[_0x2f5fa6(0xc1)](_0xbf35a[_0x2f5fa6(0xae)])),{'message':_0x2f5fa6(0xda)};}async[a83_0x106c2a(0xb3)](_0xb406f2){const _0x144c8f=a83_0x106c2a,_0x2339c7=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x144c8f(0xa5)][_0x144c8f(0xe2)](_0xb406f2[_0x144c8f(0xe5)]));return(0x0,fetch_test_classes_service_1[_0x144c8f(0xb3)])(_0xb406f2,_0x2339c7)['then'](()=>{const _0x4b9bd0=_0x144c8f;return _0x2339c7['post']('/services/apexrest'+salesforce_request_1[_0x4b9bd0(0xe6)]+'/async',{'mdlId':_0xb406f2[_0x4b9bd0(0xaa)],'opType':salesforce_request_type_1[_0x4b9bd0(0xe7)][_0x4b9bd0(0xbb)]});})['catch'](_0x2871d8=>{const _0x422d9b=_0x144c8f;return _0x2339c7[_0x422d9b(0xe0)](_0x422d9b(0xe3)+salesforce_request_1[_0x422d9b(0xe6)]+'/async',{'mdlId':_0xb406f2['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x422d9b(0xd9)],'message':_0x2871d8[_0x422d9b(0xae)]||_0x2871d8});})[_0x144c8f(0xdc)](_0x3933d3=>logger[_0x144c8f(0xc1)](_0x3933d3['message'])),{'message':'Job\x20started\x20successfully'};}async['generateAndDeployZip'](_0x27ce49){const _0x1a4e87=a83_0x106c2a,_0x39f6ea=(0x0,salesforce_request_1[_0x1a4e87(0xd5)])(auth_utils_1[_0x1a4e87(0xa5)]['getAuthParameters'](_0x27ce49[_0x1a4e87(0xe5)]));return(0x0,generate_zip_service_1[_0x1a4e87(0xc4)])(_0x27ce49,_0x39f6ea)[_0x1a4e87(0xd3)](_0x53f6c1=>{const _0x2da564=_0x1a4e87;return _0x39f6ea[_0x2da564(0xe0)](_0x2da564(0xe3)+salesforce_request_1[_0x2da564(0xe6)]+_0x2da564(0xde),{'mdlId':_0x27ce49[_0x2da564(0xaa)],'opType':salesforce_request_type_1[_0x2da564(0xe7)][_0x2da564(0xbe)],'attachment':_0x53f6c1});})['catch'](_0x3aa818=>{const _0xcc9d53=_0x1a4e87;return _0x39f6ea[_0xcc9d53(0xe0)](_0xcc9d53(0xe3)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x27ce49[_0xcc9d53(0xaa)],'opType':salesforce_request_type_1[_0xcc9d53(0xe7)][_0xcc9d53(0xd9)],'message':_0x3aa818['message']||_0x3aa818});})[_0x1a4e87(0xdc)](_0x166361=>logger[_0x1a4e87(0xc1)](_0x166361[_0x1a4e87(0xae)])),{'message':_0x1a4e87(0xda)};}async[a83_0x106c2a(0xd8)](_0x450d88){const _0x3496f0=a83_0x106c2a,_0x2d2c49=(0x0,salesforce_request_1[_0x3496f0(0xd5)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x450d88[_0x3496f0(0xe5)]));return(0x0,deploy_attachment_service_1['deployComponents'])(_0x450d88,_0x2d2c49)[_0x3496f0(0xd3)](_0x3306cb=>{const _0xe980d7=_0x3496f0;return _0x2d2c49['post'](_0xe980d7(0xe3)+salesforce_request_1[_0xe980d7(0xe6)]+_0xe980d7(0xde),{'mdlId':_0x450d88[_0xe980d7(0xaa)],'asyncId':_0x3306cb,'opType':salesforce_request_type_1['OptionType'][_0xe980d7(0xcf)]});})[_0x3496f0(0xdc)](_0x5b6430=>{const _0x15da6b=_0x3496f0;return _0x2d2c49[_0x15da6b(0xe0)](_0x15da6b(0xe3)+salesforce_request_1[_0x15da6b(0xe6)]+_0x15da6b(0xde),{'mdlId':_0x450d88['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x15da6b(0xd9)],'message':_0x5b6430[_0x15da6b(0xae)]||_0x5b6430});})[_0x3496f0(0xdc)](_0x39582c=>logger[_0x3496f0(0xc1)](_0x39582c[_0x3496f0(0xae)])),{'message':_0x3496f0(0xda)};}};__decorate([(0x0,core_1[a83_0x106c2a(0xd1)])(a83_0x106c2a(0xca)),__param(0x0,core_1[a83_0x106c2a(0xd2)][a83_0x106c2a(0xc3)]()),__metadata(a83_0x106c2a(0xad),Function),__metadata(a83_0x106c2a(0xa7),[Object]),__metadata(a83_0x106c2a(0xe8),Promise)],FunctionsController[a83_0x106c2a(0xdb)],'retrieveZip',null),__decorate([(0x0,core_1['Post'])(a83_0x106c2a(0xe1)),__param(0x0,core_1[a83_0x106c2a(0xd2)][a83_0x106c2a(0xc3)]()),__metadata(a83_0x106c2a(0xad),Function),__metadata(a83_0x106c2a(0xa7),[Object]),__metadata(a83_0x106c2a(0xe8),Promise)],FunctionsController[a83_0x106c2a(0xdb)],a83_0x106c2a(0xb3),null),__decorate([(0x0,core_1[a83_0x106c2a(0xd1)])(a83_0x106c2a(0xb9)),__param(0x0,core_1[a83_0x106c2a(0xd2)]['body']()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x106c2a(0xe8),Promise)],FunctionsController[a83_0x106c2a(0xdb)],a83_0x106c2a(0xc4),null),__decorate([(0x0,core_1[a83_0x106c2a(0xd1)])(a83_0x106c2a(0xb7)),__param(0x0,core_1[a83_0x106c2a(0xd2)][a83_0x106c2a(0xc3)]()),__metadata(a83_0x106c2a(0xad),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x106c2a(0xe8),Promise)],FunctionsController[a83_0x106c2a(0xdb)],a83_0x106c2a(0xd8),null),FunctionsController=__decorate([(0x0,core_1[a83_0x106c2a(0xd6)])(a83_0x106c2a(0xdf)),(0x0,core_1[a83_0x106c2a(0xd4)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;