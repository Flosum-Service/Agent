const a83_0x496819=a83_0x11fe;(function(_0x10b419,_0x1e75ef){const _0x447ea5=a83_0x11fe,_0x37afc9=_0x10b419();while(!![]){try{const _0x5bb099=-parseInt(_0x447ea5(0xfb))/0x1+parseInt(_0x447ea5(0x11a))/0x2*(-parseInt(_0x447ea5(0x12c))/0x3)+-parseInt(_0x447ea5(0x112))/0x4+-parseInt(_0x447ea5(0x114))/0x5+-parseInt(_0x447ea5(0xfd))/0x6*(-parseInt(_0x447ea5(0x101))/0x7)+-parseInt(_0x447ea5(0x118))/0x8+parseInt(_0x447ea5(0x10a))/0x9;if(_0x5bb099===_0x1e75ef)break;else _0x37afc9['push'](_0x37afc9['shift']());}catch(_0x7039ea){_0x37afc9['push'](_0x37afc9['shift']());}}}(a83_0x5adf,0x27ec5));const a83_0x1892a8=(function(){let _0x21cc27=!![];return function(_0x4bd4c0,_0x7df9be){const _0x474f86=_0x21cc27?function(){const _0x189909=a83_0x11fe;if(_0x7df9be){const _0x311775=_0x7df9be[_0x189909(0x132)](_0x4bd4c0,arguments);return _0x7df9be=null,_0x311775;}}:function(){};return _0x21cc27=![],_0x474f86;};}()),a83_0x416646=a83_0x1892a8(this,function(){const _0x31d30d=a83_0x11fe;return a83_0x416646['toString']()['search']('(((.+)+)+)+$')[_0x31d30d(0x11d)]()[_0x31d30d(0xfa)](a83_0x416646)[_0x31d30d(0x134)]('(((.+)+)+)+$');});a83_0x416646();function a83_0x11fe(_0x151329,_0x47c0a4){const _0x1be317=a83_0x5adf();return a83_0x11fe=function(_0x416646,_0x1892a8){_0x416646=_0x416646-0xfa;let _0x5adf64=_0x1be317[_0x416646];return _0x5adf64;},a83_0x11fe(_0x151329,_0x47c0a4);}'use strict';var __decorate=this&&this[a83_0x496819(0x109)]||function(_0x1deb4c,_0x9dfdbd,_0x26e661,_0xb6dce4){const _0x3b4285=a83_0x496819;var _0x135980=arguments[_0x3b4285(0x119)],_0x1eb41b=_0x135980<0x3?_0x9dfdbd:_0xb6dce4===null?_0xb6dce4=Object[_0x3b4285(0x12e)](_0x9dfdbd,_0x26e661):_0xb6dce4,_0x4cc54e;if(typeof Reflect===_0x3b4285(0x12d)&&typeof Reflect[_0x3b4285(0x13c)]===_0x3b4285(0x130))_0x1eb41b=Reflect['decorate'](_0x1deb4c,_0x9dfdbd,_0x26e661,_0xb6dce4);else{for(var _0x11d433=_0x1deb4c[_0x3b4285(0x119)]-0x1;_0x11d433>=0x0;_0x11d433--)if(_0x4cc54e=_0x1deb4c[_0x11d433])_0x1eb41b=(_0x135980<0x3?_0x4cc54e(_0x1eb41b):_0x135980>0x3?_0x4cc54e(_0x9dfdbd,_0x26e661,_0x1eb41b):_0x4cc54e(_0x9dfdbd,_0x26e661))||_0x1eb41b;}return _0x135980>0x3&&_0x1eb41b&&Object[_0x3b4285(0x136)](_0x9dfdbd,_0x26e661,_0x1eb41b),_0x1eb41b;},__metadata=this&&this[a83_0x496819(0x11f)]||function(_0x27d256,_0x30efc6){const _0x495153=a83_0x496819;if(typeof Reflect===_0x495153(0x12d)&&typeof Reflect[_0x495153(0x102)]==='function')return Reflect[_0x495153(0x102)](_0x27d256,_0x30efc6);},__param=this&&this[a83_0x496819(0x104)]||function(_0x3070fd,_0x251090){return function(_0x2622e,_0xcc64ba){_0x251090(_0x2622e,_0xcc64ba,_0x3070fd);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a83_0x496819(0xff)),salesforce_request_type_1=require(a83_0x496819(0x12f)),retrieve_zip_service_1=require(a83_0x496819(0x125)),generate_zip_service_1=require(a83_0x496819(0x12b)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a83_0x496819(0x110)),salesforce_request_1=require('./utils/salesforce-request'),auth_utils_1=require(a83_0x496819(0x137)),logger=new core_1[(a83_0x496819(0x10d))](a83_0x496819(0x113));let FunctionsController=class FunctionsController{async[a83_0x496819(0x126)](_0x2fc585){const _0x581443=a83_0x496819,_0x2952cb=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x581443(0x13b)][_0x581443(0x100)](_0x2fc585[_0x581443(0x123)]));return(0x0,retrieve_zip_service_1[_0x581443(0x126)])(_0x2fc585,_0x2952cb)['then'](()=>{const _0x5138f9=_0x581443;return _0x2952cb[_0x5138f9(0x129)](_0x5138f9(0x127)+salesforce_request_1[_0x5138f9(0x103)]+_0x5138f9(0x117),{'mdlId':_0x2fc585['metadataLogId'],'opType':salesforce_request_type_1[_0x5138f9(0xfe)][_0x5138f9(0xfc)]});})[_0x581443(0x135)](_0x15f3a6=>{const _0x273784=_0x581443;return _0x2952cb[_0x273784(0x129)](_0x273784(0x127)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x2fc585[_0x273784(0x120)],'opType':salesforce_request_type_1[_0x273784(0xfe)][_0x273784(0x131)],'message':_0x15f3a6[_0x273784(0x11c)]||_0x15f3a6});})['catch'](_0x3d90ae=>logger['error'](_0x3d90ae[_0x581443(0x11c)])),{'message':_0x581443(0x122)};}async['fetchTestClasses'](_0x3f00ae){const _0x4191d7=a83_0x496819,_0x1e43a2=(0x0,salesforce_request_1[_0x4191d7(0x139)])(auth_utils_1[_0x4191d7(0x13b)]['getAuthParameters'](_0x3f00ae[_0x4191d7(0x123)]));return(0x0,fetch_test_classes_service_1[_0x4191d7(0x13a)])(_0x3f00ae,_0x1e43a2)[_0x4191d7(0x12a)](()=>{const _0x3e7865=_0x4191d7;return _0x1e43a2[_0x3e7865(0x129)](_0x3e7865(0x127)+salesforce_request_1[_0x3e7865(0x103)]+'/async',{'mdlId':_0x3f00ae[_0x3e7865(0x120)],'opType':salesforce_request_type_1[_0x3e7865(0xfe)][_0x3e7865(0x108)]});})[_0x4191d7(0x135)](_0x3944a2=>{const _0x54b8a3=_0x4191d7;return _0x1e43a2[_0x54b8a3(0x129)](_0x54b8a3(0x127)+salesforce_request_1[_0x54b8a3(0x103)]+_0x54b8a3(0x117),{'mdlId':_0x3f00ae[_0x54b8a3(0x120)],'opType':salesforce_request_type_1[_0x54b8a3(0xfe)][_0x54b8a3(0x131)],'message':_0x3944a2[_0x54b8a3(0x11c)]||_0x3944a2});})[_0x4191d7(0x135)](_0x25575d=>logger[_0x4191d7(0x116)](_0x25575d[_0x4191d7(0x11c)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x496819(0x10f)](_0x556350){const _0x3293b7=a83_0x496819,_0x535f21=(0x0,salesforce_request_1[_0x3293b7(0x139)])(auth_utils_1[_0x3293b7(0x13b)]['getAuthParameters'](_0x556350['instanceUrl']));return(0x0,generate_zip_service_1[_0x3293b7(0x10f)])(_0x556350,_0x535f21)[_0x3293b7(0x12a)](_0x535ad7=>{const _0x13f153=_0x3293b7;return _0x535f21[_0x13f153(0x129)](_0x13f153(0x127)+salesforce_request_1[_0x13f153(0x103)]+_0x13f153(0x117),{'mdlId':_0x556350[_0x13f153(0x120)],'opType':salesforce_request_type_1['OptionType'][_0x13f153(0x105)],'attachment':_0x535ad7});})[_0x3293b7(0x135)](_0x459558=>{const _0x4f3115=_0x3293b7;return _0x535f21[_0x4f3115(0x129)](_0x4f3115(0x127)+salesforce_request_1[_0x4f3115(0x103)]+'/async',{'mdlId':_0x556350[_0x4f3115(0x120)],'opType':salesforce_request_type_1['OptionType'][_0x4f3115(0x131)],'message':_0x459558[_0x4f3115(0x11c)]||_0x459558});})[_0x3293b7(0x135)](_0x55837c=>logger[_0x3293b7(0x116)](_0x55837c[_0x3293b7(0x11c)])),{'message':_0x3293b7(0x122)};}async[a83_0x496819(0x133)](_0x55dfbb){const _0x4df427=a83_0x496819,_0x1d2296=(0x0,salesforce_request_1[_0x4df427(0x139)])(auth_utils_1[_0x4df427(0x13b)]['getAuthParameters'](_0x55dfbb[_0x4df427(0x123)]));return(0x0,deploy_attachment_service_1['deployComponents'])(_0x55dfbb,_0x1d2296)['then'](_0x3792c2=>{const _0x35ad03=_0x4df427;return _0x1d2296[_0x35ad03(0x129)](_0x35ad03(0x127)+salesforce_request_1[_0x35ad03(0x103)]+'/async',{'mdlId':_0x55dfbb['metadataLogId'],'asyncId':_0x3792c2,'opType':salesforce_request_type_1[_0x35ad03(0xfe)]['DEPLOY']});})[_0x4df427(0x135)](_0x4a8dee=>{const _0x268d2d=_0x4df427;return _0x1d2296[_0x268d2d(0x129)]('/services/apexrest'+salesforce_request_1[_0x268d2d(0x103)]+_0x268d2d(0x117),{'mdlId':_0x55dfbb[_0x268d2d(0x120)],'opType':salesforce_request_type_1[_0x268d2d(0xfe)][_0x268d2d(0x131)],'message':_0x4a8dee[_0x268d2d(0x11c)]||_0x4a8dee});})['catch'](_0x468474=>logger[_0x4df427(0x116)](_0x468474[_0x4df427(0x11c)])),{'message':_0x4df427(0x122)};}};__decorate([(0x0,core_1[a83_0x496819(0x10e)])('retrieve'),__param(0x0,core_1[a83_0x496819(0x11e)][a83_0x496819(0x10c)]()),__metadata(a83_0x496819(0x128),Function),__metadata(a83_0x496819(0x11b),[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],'retrieveZip',null),__decorate([(0x0,core_1[a83_0x496819(0x10e)])(a83_0x496819(0x111)),__param(0x0,core_1[a83_0x496819(0x11e)][a83_0x496819(0x10c)]()),__metadata(a83_0x496819(0x128),Function),__metadata(a83_0x496819(0x11b),[Object]),__metadata(a83_0x496819(0x121),Promise)],FunctionsController[a83_0x496819(0x10b)],'fetchTestClasses',null),__decorate([(0x0,core_1['Post'])(a83_0x496819(0x138)),__param(0x0,core_1[a83_0x496819(0x11e)]['body']()),__metadata(a83_0x496819(0x128),Function),__metadata(a83_0x496819(0x11b),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x496819(0x10b)],a83_0x496819(0x10f),null),__decorate([(0x0,core_1['Post'])(a83_0x496819(0x115)),__param(0x0,core_1[a83_0x496819(0x11e)][a83_0x496819(0x10c)]()),__metadata(a83_0x496819(0x128),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x496819(0x121),Promise)],FunctionsController[a83_0x496819(0x10b)],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a83_0x496819(0x106)])(a83_0x496819(0x124)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a83_0x496819(0x107)]=FunctionsController;function a83_0x5adf(){const _0x136aea=['__metadata','metadataLogId','design:returntype','Job\x20started\x20successfully','instanceUrl','functions','./services/retrieve-zip.service','retrieveZip','/services/apexrest','design:type','post','then','./services/generate-zip.service','5805PdFfRO','object','getOwnPropertyDescriptor','./types/salesforce-request.type','function','ERROR','apply','deployComponents','search','catch','defineProperty','./utils/auth.utils','generate-deploy-zip','createRequest','fetchTestClasses','AuthUtils','decorate','constructor','75148bCJMai','SAVE_BACKUP_ZIP','706980xnMGXw','OptionType','../../core','getAuthParameters','7qEtMNp','metadata','namespace','__param','SAVE_DEPLOY_ZIP','Controller','FunctionsController','GET_TESTS','__decorate','5009535fWYNJS','prototype','body','Logger','Post','generateAndDeployZip','./services/deploy-attachment.service','fetch-test-classes','238792AepuHp','server','935895EryRhS','deploy-components','error','/async','1464720Yztmbf','length','6HzYVPX','design:paramtypes','message','toString','param'];a83_0x5adf=function(){return _0x136aea;};return a83_0x5adf();}