const a51_0x534e18=a51_0x2331;(function(_0x497fda,_0x3138dc){const _0x45013b=a51_0x2331,_0x4cbe63=_0x497fda();while(!![]){try{const _0x843ef7=parseInt(_0x45013b(0x1db))/0x1*(parseInt(_0x45013b(0x1da))/0x2)+parseInt(_0x45013b(0x1ce))/0x3+-parseInt(_0x45013b(0x1e8))/0x4+parseInt(_0x45013b(0x209))/0x5+parseInt(_0x45013b(0x1e0))/0x6*(parseInt(_0x45013b(0x20c))/0x7)+-parseInt(_0x45013b(0x1f8))/0x8+-parseInt(_0x45013b(0x1f4))/0x9;if(_0x843ef7===_0x3138dc)break;else _0x4cbe63['push'](_0x4cbe63['shift']());}catch(_0x1fcfca){_0x4cbe63['push'](_0x4cbe63['shift']());}}}(a51_0x48af,0xc2fff));const a51_0xa738b8=(function(){let _0xb935e1=!![];return function(_0x48015c,_0xc8e443){const _0x182fb5=_0xb935e1?function(){const _0xfd178d=a51_0x2331;if(_0xc8e443){const _0x627af2=_0xc8e443[_0xfd178d(0x20f)](_0x48015c,arguments);return _0xc8e443=null,_0x627af2;}}:function(){};return _0xb935e1=![],_0x182fb5;};}()),a51_0x53bbfc=a51_0xa738b8(this,function(){const _0x4201e8=a51_0x2331;return a51_0x53bbfc['toString']()['search'](_0x4201e8(0x1d4))[_0x4201e8(0x1dd)]()[_0x4201e8(0x1e5)](a51_0x53bbfc)[_0x4201e8(0x1e9)](_0x4201e8(0x1d4));});a51_0x53bbfc();'use strict';function a51_0x2331(_0x4a1245,_0x3482d9){const _0x54f229=a51_0x48af();return a51_0x2331=function(_0x53bbfc,_0xa738b8){_0x53bbfc=_0x53bbfc-0x1cd;let _0x48af4a=_0x54f229[_0x53bbfc];return _0x48af4a;},a51_0x2331(_0x4a1245,_0x3482d9);}function a51_0x48af(){const _0x4dc892=['fetch-test-classes','Controller','2319060exYLom','design:paramtypes','DEPLOY','35QtmePw','./utils/auth.utils','design:returntype','apply','function','/services/apexrest','deploy-components','2486274raXjog','defineProperty','param','./utils/salesforce-request','ERROR','then','(((.+)+)+)+$','__param','SAVE_DEPLOY_ZIP','/async','metadata','./services/deploy-attachment.service','11694cOQkjc','213UNjFNk','body','toString','Post','functions','1362288aKvkny','message','deployComponents','retrieveZip','./services/retrieve-zip.service','constructor','../../core','design:type','2799784QYjfwD','search','error','createRequest','retrieve','__esModule','catch','object','FunctionsController','fetchTestClasses','Job\x20started\x20successfully','server','12449970SXjyrg','generate-deploy-zip','./types/salesforce-request.type','__decorate','6329808xzJtCh','decorate','getAuthParameters','namespace','OptionType','GET_TESTS','post','./services/generate-zip.service','prototype','length','AuthUtils','generateAndDeployZip','instanceUrl','metadataLogId','__metadata'];a51_0x48af=function(){return _0x4dc892;};return a51_0x48af();}var __decorate=this&&this[a51_0x534e18(0x1f7)]||function(_0x15480b,_0x2c855f,_0x16a9e9,_0x31d18b){const _0x3f08f6=a51_0x534e18;var _0x30f1a8=arguments[_0x3f08f6(0x201)],_0x4c340c=_0x30f1a8<0x3?_0x2c855f:_0x31d18b===null?_0x31d18b=Object['getOwnPropertyDescriptor'](_0x2c855f,_0x16a9e9):_0x31d18b,_0x113bfd;if(typeof Reflect===_0x3f08f6(0x1ef)&&typeof Reflect[_0x3f08f6(0x1f9)]===_0x3f08f6(0x210))_0x4c340c=Reflect[_0x3f08f6(0x1f9)](_0x15480b,_0x2c855f,_0x16a9e9,_0x31d18b);else{for(var _0x406d17=_0x15480b['length']-0x1;_0x406d17>=0x0;_0x406d17--)if(_0x113bfd=_0x15480b[_0x406d17])_0x4c340c=(_0x30f1a8<0x3?_0x113bfd(_0x4c340c):_0x30f1a8>0x3?_0x113bfd(_0x2c855f,_0x16a9e9,_0x4c340c):_0x113bfd(_0x2c855f,_0x16a9e9))||_0x4c340c;}return _0x30f1a8>0x3&&_0x4c340c&&Object[_0x3f08f6(0x1cf)](_0x2c855f,_0x16a9e9,_0x4c340c),_0x4c340c;},__metadata=this&&this[a51_0x534e18(0x206)]||function(_0x50f428,_0x28c37b){const _0x44f35c=a51_0x534e18;if(typeof Reflect===_0x44f35c(0x1ef)&&typeof Reflect[_0x44f35c(0x1d8)]===_0x44f35c(0x210))return Reflect[_0x44f35c(0x1d8)](_0x50f428,_0x28c37b);},__param=this&&this[a51_0x534e18(0x1d5)]||function(_0x352c8d,_0x2fa8b6){return function(_0x3b3f44,_0x4f65b5){_0x2fa8b6(_0x3b3f44,_0x4f65b5,_0x352c8d);};};Object[a51_0x534e18(0x1cf)](exports,a51_0x534e18(0x1ed),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a51_0x534e18(0x1e6)),salesforce_request_type_1=require(a51_0x534e18(0x1f6)),retrieve_zip_service_1=require(a51_0x534e18(0x1e4)),generate_zip_service_1=require(a51_0x534e18(0x1ff)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a51_0x534e18(0x1d9)),salesforce_request_1=require(a51_0x534e18(0x1d1)),auth_utils_1=require(a51_0x534e18(0x20d)),logger=new core_1['Logger'](a51_0x534e18(0x1f3));let FunctionsController=class FunctionsController{async[a51_0x534e18(0x1e3)](_0x5d71bd){const _0x13bb53=a51_0x534e18,_0x2a56d5=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x13bb53(0x202)][_0x13bb53(0x1fa)](_0x5d71bd['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x13bb53(0x1e3)])(_0x5d71bd,_0x2a56d5)[_0x13bb53(0x1d3)](()=>{const _0x1bb7c5=_0x13bb53;return _0x2a56d5[_0x1bb7c5(0x1fe)]('/services/apexrest'+salesforce_request_1['namespace']+_0x1bb7c5(0x1d7),{'mdlId':_0x5d71bd['metadataLogId'],'opType':salesforce_request_type_1[_0x1bb7c5(0x1fc)]['SAVE_BACKUP_ZIP']});})[_0x13bb53(0x1ee)](_0x40837d=>{const _0x49364b=_0x13bb53;return _0x2a56d5[_0x49364b(0x1fe)](_0x49364b(0x211)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x5d71bd[_0x49364b(0x205)],'opType':salesforce_request_type_1[_0x49364b(0x1fc)][_0x49364b(0x1d2)],'message':_0x40837d['message']||_0x40837d});})[_0x13bb53(0x1ee)](_0x2011da=>logger[_0x13bb53(0x1ea)](_0x2011da['message'])),{'message':_0x13bb53(0x1f2)};}async[a51_0x534e18(0x1f1)](_0x3bc102){const _0x524ba7=a51_0x534e18,_0x16a741=(0x0,salesforce_request_1[_0x524ba7(0x1eb)])(auth_utils_1[_0x524ba7(0x202)][_0x524ba7(0x1fa)](_0x3bc102['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x524ba7(0x1f1)])(_0x3bc102,_0x16a741)[_0x524ba7(0x1d3)](()=>{const _0x7abe63=_0x524ba7;return _0x16a741['post'](_0x7abe63(0x211)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x3bc102[_0x7abe63(0x205)],'opType':salesforce_request_type_1[_0x7abe63(0x1fc)][_0x7abe63(0x1fd)]});})['catch'](_0x408579=>{const _0x52f053=_0x524ba7;return _0x16a741['post'](_0x52f053(0x211)+salesforce_request_1[_0x52f053(0x1fb)]+_0x52f053(0x1d7),{'mdlId':_0x3bc102[_0x52f053(0x205)],'opType':salesforce_request_type_1[_0x52f053(0x1fc)][_0x52f053(0x1d2)],'message':_0x408579[_0x52f053(0x1e1)]||_0x408579});})[_0x524ba7(0x1ee)](_0x125f2b=>logger[_0x524ba7(0x1ea)](_0x125f2b[_0x524ba7(0x1e1)])),{'message':_0x524ba7(0x1f2)};}async['generateAndDeployZip'](_0x54b490){const _0x4316a4=a51_0x534e18,_0x3c1db6=(0x0,salesforce_request_1[_0x4316a4(0x1eb)])(auth_utils_1[_0x4316a4(0x202)][_0x4316a4(0x1fa)](_0x54b490['instanceUrl']));return(0x0,generate_zip_service_1[_0x4316a4(0x203)])(_0x54b490,_0x3c1db6)[_0x4316a4(0x1d3)](_0x4d66d9=>{const _0x5f2a72=_0x4316a4;return _0x3c1db6[_0x5f2a72(0x1fe)](_0x5f2a72(0x211)+salesforce_request_1['namespace']+_0x5f2a72(0x1d7),{'mdlId':_0x54b490['metadataLogId'],'opType':salesforce_request_type_1[_0x5f2a72(0x1fc)][_0x5f2a72(0x1d6)],'attachment':_0x4d66d9});})[_0x4316a4(0x1ee)](_0x4fa965=>{const _0x39e5a0=_0x4316a4;return _0x3c1db6[_0x39e5a0(0x1fe)](_0x39e5a0(0x211)+salesforce_request_1[_0x39e5a0(0x1fb)]+_0x39e5a0(0x1d7),{'mdlId':_0x54b490[_0x39e5a0(0x205)],'opType':salesforce_request_type_1[_0x39e5a0(0x1fc)][_0x39e5a0(0x1d2)],'message':_0x4fa965[_0x39e5a0(0x1e1)]||_0x4fa965});})[_0x4316a4(0x1ee)](_0x5d54a6=>logger[_0x4316a4(0x1ea)](_0x5d54a6['message'])),{'message':_0x4316a4(0x1f2)};}async[a51_0x534e18(0x1e2)](_0x1dad7a){const _0x1d7753=a51_0x534e18,_0x31a645=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x1d7753(0x202)]['getAuthParameters'](_0x1dad7a[_0x1d7753(0x204)]));return(0x0,deploy_attachment_service_1[_0x1d7753(0x1e2)])(_0x1dad7a,_0x31a645)[_0x1d7753(0x1d3)](_0xf4648d=>{const _0x11835b=_0x1d7753;return _0x31a645['post'](_0x11835b(0x211)+salesforce_request_1[_0x11835b(0x1fb)]+'/async',{'mdlId':_0x1dad7a[_0x11835b(0x205)],'asyncId':_0xf4648d,'opType':salesforce_request_type_1[_0x11835b(0x1fc)][_0x11835b(0x20b)]});})['catch'](_0x4e4c00=>{const _0x1502ed=_0x1d7753;return _0x31a645[_0x1502ed(0x1fe)](_0x1502ed(0x211)+salesforce_request_1[_0x1502ed(0x1fb)]+'/async',{'mdlId':_0x1dad7a[_0x1502ed(0x205)],'opType':salesforce_request_type_1[_0x1502ed(0x1fc)][_0x1502ed(0x1d2)],'message':_0x4e4c00[_0x1502ed(0x1e1)]||_0x4e4c00});})[_0x1d7753(0x1ee)](_0x3069a4=>logger['error'](_0x3069a4[_0x1d7753(0x1e1)])),{'message':_0x1d7753(0x1f2)};}};__decorate([(0x0,core_1['Post'])(a51_0x534e18(0x1ec)),__param(0x0,core_1[a51_0x534e18(0x1d0)][a51_0x534e18(0x1dc)]()),__metadata(a51_0x534e18(0x1e7),Function),__metadata(a51_0x534e18(0x20a),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x534e18(0x200)],'retrieveZip',null),__decorate([(0x0,core_1[a51_0x534e18(0x1de)])(a51_0x534e18(0x207)),__param(0x0,core_1['param'][a51_0x534e18(0x1dc)]()),__metadata(a51_0x534e18(0x1e7),Function),__metadata(a51_0x534e18(0x20a),[Object]),__metadata(a51_0x534e18(0x20e),Promise)],FunctionsController[a51_0x534e18(0x200)],a51_0x534e18(0x1f1),null),__decorate([(0x0,core_1[a51_0x534e18(0x1de)])(a51_0x534e18(0x1f5)),__param(0x0,core_1[a51_0x534e18(0x1d0)][a51_0x534e18(0x1dc)]()),__metadata('design:type',Function),__metadata(a51_0x534e18(0x20a),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x534e18(0x200)],a51_0x534e18(0x203),null),__decorate([(0x0,core_1['Post'])(a51_0x534e18(0x1cd)),__param(0x0,core_1[a51_0x534e18(0x1d0)][a51_0x534e18(0x1dc)]()),__metadata(a51_0x534e18(0x1e7),Function),__metadata(a51_0x534e18(0x20a),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x534e18(0x200)],a51_0x534e18(0x1e2),null),FunctionsController=__decorate([(0x0,core_1[a51_0x534e18(0x208)])(a51_0x534e18(0x1df)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a51_0x534e18(0x1f0)]=FunctionsController;