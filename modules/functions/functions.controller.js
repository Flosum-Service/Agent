const a82_0x244831=a82_0x5975;(function(_0x31114f,_0x368b8e){const _0xe85d17=a82_0x5975,_0x5923f0=_0x31114f();while(!![]){try{const _0x51706f=-parseInt(_0xe85d17(0x186))/0x1+-parseInt(_0xe85d17(0x183))/0x2*(-parseInt(_0xe85d17(0x1a2))/0x3)+-parseInt(_0xe85d17(0x18e))/0x4+-parseInt(_0xe85d17(0x19f))/0x5*(-parseInt(_0xe85d17(0x17a))/0x6)+parseInt(_0xe85d17(0x199))/0x7*(-parseInt(_0xe85d17(0x1b1))/0x8)+parseInt(_0xe85d17(0x179))/0x9+parseInt(_0xe85d17(0x1ad))/0xa;if(_0x51706f===_0x368b8e)break;else _0x5923f0['push'](_0x5923f0['shift']());}catch(_0x506b70){_0x5923f0['push'](_0x5923f0['shift']());}}}(a82_0x5a14,0x5f1e0));const a82_0xafb40e=(function(){let _0x1784bb=!![];return function(_0x1eb44f,_0x3393a1){const _0x41ac9c=_0x1784bb?function(){const _0x2d65d5=a82_0x5975;if(_0x3393a1){const _0x5b0319=_0x3393a1[_0x2d65d5(0x1a7)](_0x1eb44f,arguments);return _0x3393a1=null,_0x5b0319;}}:function(){};return _0x1784bb=![],_0x41ac9c;};}()),a82_0x58b434=a82_0xafb40e(this,function(){const _0x171026=a82_0x5975;return a82_0x58b434[_0x171026(0x1a8)]()[_0x171026(0x198)](_0x171026(0x176))[_0x171026(0x1a8)]()['constructor'](a82_0x58b434)[_0x171026(0x198)](_0x171026(0x176));});a82_0x58b434();'use strict';var __decorate=this&&this[a82_0x244831(0x18b)]||function(_0x41061c,_0x155326,_0x728c1e,_0x45c0f6){const _0x56ff79=a82_0x244831;var _0x4ffde6=arguments[_0x56ff79(0x19c)],_0x15bf97=_0x4ffde6<0x3?_0x155326:_0x45c0f6===null?_0x45c0f6=Object[_0x56ff79(0x1ae)](_0x155326,_0x728c1e):_0x45c0f6,_0x12bac7;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x56ff79(0x1a4))_0x15bf97=Reflect[_0x56ff79(0x187)](_0x41061c,_0x155326,_0x728c1e,_0x45c0f6);else{for(var _0x3dc3e3=_0x41061c[_0x56ff79(0x19c)]-0x1;_0x3dc3e3>=0x0;_0x3dc3e3--)if(_0x12bac7=_0x41061c[_0x3dc3e3])_0x15bf97=(_0x4ffde6<0x3?_0x12bac7(_0x15bf97):_0x4ffde6>0x3?_0x12bac7(_0x155326,_0x728c1e,_0x15bf97):_0x12bac7(_0x155326,_0x728c1e))||_0x15bf97;}return _0x4ffde6>0x3&&_0x15bf97&&Object[_0x56ff79(0x193)](_0x155326,_0x728c1e,_0x15bf97),_0x15bf97;},__metadata=this&&this[a82_0x244831(0x1a3)]||function(_0x48a094,_0x3972f3){const _0x4a0f0a=a82_0x244831;if(typeof Reflect===_0x4a0f0a(0x18c)&&typeof Reflect[_0x4a0f0a(0x185)]==='function')return Reflect['metadata'](_0x48a094,_0x3972f3);},__param=this&&this[a82_0x244831(0x19a)]||function(_0x2ffc64,_0x2aacfe){return function(_0x491339,_0x22dba1){_0x2aacfe(_0x491339,_0x22dba1,_0x2ffc64);};};Object['defineProperty'](exports,a82_0x244831(0x18a),{'value':!![]}),exports[a82_0x244831(0x1a6)]=void 0x0;function a82_0x5975(_0x799d02,_0x32ae79){const _0x52cfdb=a82_0x5a14();return a82_0x5975=function(_0x58b434,_0xafb40e){_0x58b434=_0x58b434-0x173;let _0x5a1445=_0x52cfdb[_0x58b434];return _0x5a1445;},a82_0x5975(_0x799d02,_0x32ae79);}const core_1=require('../../core'),salesforce_request_type_1=require(a82_0x244831(0x182)),retrieve_zip_service_1=require('./services/retrieve-zip.service'),generate_zip_service_1=require(a82_0x244831(0x174)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a82_0x244831(0x175)),salesforce_request_1=require(a82_0x244831(0x178)),auth_utils_1=require(a82_0x244831(0x17e)),logger=new core_1[(a82_0x244831(0x1af))]('server');let FunctionsController=class FunctionsController{async['retrieveZip'](_0x48f0d3){const _0x2a385b=a82_0x244831,_0x2e7155=(0x0,salesforce_request_1[_0x2a385b(0x1ac)])(auth_utils_1['AuthUtils'][_0x2a385b(0x1a1)](_0x48f0d3[_0x2a385b(0x1b2)]));return(0x0,retrieve_zip_service_1[_0x2a385b(0x19b)])(_0x48f0d3,_0x2e7155)[_0x2a385b(0x17b)](()=>{const _0x39baf0=_0x2a385b;return _0x2e7155['post'](_0x39baf0(0x19d)+salesforce_request_1[_0x39baf0(0x192)]+_0x39baf0(0x19e),{'mdlId':_0x48f0d3['metadataLogId'],'opType':salesforce_request_type_1[_0x39baf0(0x189)]['SAVE_BACKUP_ZIP']});})['catch'](_0x2eecf3=>{const _0xb31635=_0x2a385b;return _0x2e7155[_0xb31635(0x1aa)](_0xb31635(0x19d)+salesforce_request_1['namespace']+_0xb31635(0x19e),{'mdlId':_0x48f0d3[_0xb31635(0x184)],'opType':salesforce_request_type_1[_0xb31635(0x189)][_0xb31635(0x197)],'message':_0x2eecf3[_0xb31635(0x190)]||_0x2eecf3});})[_0x2a385b(0x18d)](_0x18a9cd=>logger[_0x2a385b(0x191)](_0x18a9cd['message'])),{'message':_0x2a385b(0x195)};}async[a82_0x244831(0x188)](_0x26b515){const _0x4857a5=a82_0x244831,_0x541be9=(0x0,salesforce_request_1[_0x4857a5(0x1ac)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x26b515[_0x4857a5(0x1b2)]));return(0x0,fetch_test_classes_service_1[_0x4857a5(0x188)])(_0x26b515,_0x541be9)[_0x4857a5(0x17b)](()=>{const _0x4b2cbe=_0x4857a5;return _0x541be9[_0x4b2cbe(0x1aa)](_0x4b2cbe(0x19d)+salesforce_request_1[_0x4b2cbe(0x192)]+_0x4b2cbe(0x19e),{'mdlId':_0x26b515[_0x4b2cbe(0x184)],'opType':salesforce_request_type_1['OptionType'][_0x4b2cbe(0x1a5)]});})['catch'](_0x5e58dc=>{const _0x326d13=_0x4857a5;return _0x541be9[_0x326d13(0x1aa)]('/services/apexrest'+salesforce_request_1[_0x326d13(0x192)]+_0x326d13(0x19e),{'mdlId':_0x26b515['metadataLogId'],'opType':salesforce_request_type_1[_0x326d13(0x189)]['ERROR'],'message':_0x5e58dc[_0x326d13(0x190)]||_0x5e58dc});})['catch'](_0x85aa38=>logger[_0x4857a5(0x191)](_0x85aa38[_0x4857a5(0x190)])),{'message':_0x4857a5(0x195)};}async[a82_0x244831(0x180)](_0x59de65){const _0x189d24=a82_0x244831,_0x3a8d5b=(0x0,salesforce_request_1[_0x189d24(0x1ac)])(auth_utils_1[_0x189d24(0x1a9)]['getAuthParameters'](_0x59de65[_0x189d24(0x1b2)]));return(0x0,generate_zip_service_1[_0x189d24(0x180)])(_0x59de65,_0x3a8d5b)[_0x189d24(0x17b)](_0xe1a063=>{const _0xe164a3=_0x189d24;return _0x3a8d5b[_0xe164a3(0x1aa)](_0xe164a3(0x19d)+salesforce_request_1[_0xe164a3(0x192)]+'/async',{'mdlId':_0x59de65[_0xe164a3(0x184)],'opType':salesforce_request_type_1[_0xe164a3(0x189)]['SAVE_DEPLOY_ZIP'],'attachment':_0xe1a063});})[_0x189d24(0x18d)](_0x292cb7=>{const _0x3ab4a0=_0x189d24;return _0x3a8d5b[_0x3ab4a0(0x1aa)](_0x3ab4a0(0x19d)+salesforce_request_1[_0x3ab4a0(0x192)]+_0x3ab4a0(0x19e),{'mdlId':_0x59de65[_0x3ab4a0(0x184)],'opType':salesforce_request_type_1[_0x3ab4a0(0x189)][_0x3ab4a0(0x197)],'message':_0x292cb7[_0x3ab4a0(0x190)]||_0x292cb7});})['catch'](_0x5cda47=>logger[_0x189d24(0x191)](_0x5cda47['message'])),{'message':_0x189d24(0x195)};}async[a82_0x244831(0x17d)](_0xef3c1c){const _0x5d1c11=a82_0x244831,_0x56434e=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x5d1c11(0x1a9)][_0x5d1c11(0x1a1)](_0xef3c1c[_0x5d1c11(0x1b2)]));return(0x0,deploy_attachment_service_1[_0x5d1c11(0x17d)])(_0xef3c1c,_0x56434e)[_0x5d1c11(0x17b)](_0x58771d=>{const _0x1dc5dc=_0x5d1c11;return _0x56434e['post'](_0x1dc5dc(0x19d)+salesforce_request_1[_0x1dc5dc(0x192)]+_0x1dc5dc(0x19e),{'mdlId':_0xef3c1c[_0x1dc5dc(0x184)],'asyncId':_0x58771d,'opType':salesforce_request_type_1[_0x1dc5dc(0x189)]['DEPLOY']});})[_0x5d1c11(0x18d)](_0x5ebc2a=>{const _0x28872c=_0x5d1c11;return _0x56434e[_0x28872c(0x1aa)](_0x28872c(0x19d)+salesforce_request_1[_0x28872c(0x192)]+_0x28872c(0x19e),{'mdlId':_0xef3c1c[_0x28872c(0x184)],'opType':salesforce_request_type_1[_0x28872c(0x189)]['ERROR'],'message':_0x5ebc2a['message']||_0x5ebc2a});})[_0x5d1c11(0x18d)](_0x496330=>logger[_0x5d1c11(0x191)](_0x496330[_0x5d1c11(0x190)])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1[a82_0x244831(0x18f)])(a82_0x244831(0x17f)),__param(0x0,core_1[a82_0x244831(0x177)]['body']()),__metadata('design:type',Function),__metadata(a82_0x244831(0x1ab),[Object]),__metadata(a82_0x244831(0x1a0),Promise)],FunctionsController[a82_0x244831(0x173)],'retrieveZip',null),__decorate([(0x0,core_1[a82_0x244831(0x18f)])('fetch-test-classes'),__param(0x0,core_1['param']['body']()),__metadata(a82_0x244831(0x196),Function),__metadata(a82_0x244831(0x1ab),[Object]),__metadata(a82_0x244831(0x1a0),Promise)],FunctionsController['prototype'],'fetchTestClasses',null),__decorate([(0x0,core_1[a82_0x244831(0x18f)])(a82_0x244831(0x17c)),__param(0x0,core_1[a82_0x244831(0x177)]['body']()),__metadata(a82_0x244831(0x196),Function),__metadata(a82_0x244831(0x1ab),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x244831(0x173)],a82_0x244831(0x180),null),__decorate([(0x0,core_1[a82_0x244831(0x18f)])('deploy-components'),__param(0x0,core_1[a82_0x244831(0x177)][a82_0x244831(0x194)]()),__metadata('design:type',Function),__metadata(a82_0x244831(0x1ab),[Object]),__metadata(a82_0x244831(0x1a0),Promise)],FunctionsController['prototype'],a82_0x244831(0x17d),null),FunctionsController=__decorate([(0x0,core_1[a82_0x244831(0x181)])(a82_0x244831(0x1b0)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a82_0x244831(0x1a6)]=FunctionsController;function a82_0x5a14(){const _0x394344=['decorate','fetchTestClasses','OptionType','__esModule','__decorate','object','catch','2723016pbhPpc','Post','message','error','namespace','defineProperty','body','Job\x20started\x20successfully','design:type','ERROR','search','68677JYtJjp','__param','retrieveZip','length','/services/apexrest','/async','10930ehdItj','design:returntype','getAuthParameters','9PwbrhZ','__metadata','function','GET_TESTS','FunctionsController','apply','toString','AuthUtils','post','design:paramtypes','createRequest','10180970oOyRnJ','getOwnPropertyDescriptor','Logger','functions','352CHeWQM','instanceUrl','prototype','./services/generate-zip.service','./services/deploy-attachment.service','(((.+)+)+)+$','param','./utils/salesforce-request','3562317PTGTET','726PRsfbj','then','generate-deploy-zip','deployComponents','./utils/auth.utils','retrieve','generateAndDeployZip','Controller','./types/salesforce-request.type','269278jrWYQV','metadataLogId','metadata','580295DDIcxz'];a82_0x5a14=function(){return _0x394344;};return a82_0x5a14();}