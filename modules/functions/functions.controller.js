const a51_0x291b41=a51_0x657e;(function(_0x30a9cd,_0x3e4400){const _0x1884cb=a51_0x657e,_0x3f6652=_0x30a9cd();while(!![]){try{const _0x168062=-parseInt(_0x1884cb(0x1b9))/0x1*(-parseInt(_0x1884cb(0x189))/0x2)+parseInt(_0x1884cb(0x1c1))/0x3*(-parseInt(_0x1884cb(0x1c0))/0x4)+parseInt(_0x1884cb(0x1b7))/0x5*(-parseInt(_0x1884cb(0x1a6))/0x6)+parseInt(_0x1884cb(0x1a1))/0x7+parseInt(_0x1884cb(0x1b6))/0x8*(parseInt(_0x1884cb(0x1ba))/0x9)+-parseInt(_0x1884cb(0x191))/0xa+-parseInt(_0x1884cb(0x1ad))/0xb;if(_0x168062===_0x3e4400)break;else _0x3f6652['push'](_0x3f6652['shift']());}catch(_0x218be8){_0x3f6652['push'](_0x3f6652['shift']());}}}(a51_0x366b,0x869de));const a51_0x952497=(function(){let _0x2c6091=!![];return function(_0x2e5c11,_0x20668f){const _0x9bf758=_0x2c6091?function(){const _0x5eab92=a51_0x657e;if(_0x20668f){const _0x2afa56=_0x20668f[_0x5eab92(0x19d)](_0x2e5c11,arguments);return _0x20668f=null,_0x2afa56;}}:function(){};return _0x2c6091=![],_0x9bf758;};}()),a51_0x20005a=a51_0x952497(this,function(){const _0x413e0a=a51_0x657e;return a51_0x20005a[_0x413e0a(0x18a)]()[_0x413e0a(0x1af)](_0x413e0a(0x1a8))[_0x413e0a(0x18a)]()[_0x413e0a(0x1aa)](a51_0x20005a)['search']('(((.+)+)+)+$');});function a51_0x366b(){const _0x560315=['generateAndDeployZip','prototype','createRequest','metadata','GET_TESTS','1041830knzfuS','server','defineProperty','catch','__param','getAuthParameters','OptionType','../../core','__metadata','error','__esModule','SAVE_BACKUP_ZIP','apply','instanceUrl','/async','param','376404nLrsse','deployComponents','Version','then','Post','18BisXly','AuthUtils','(((.+)+)+)+$','metadataLogId','constructor','fetch-test-classes','retrieve','1961256GQvRaK','Logger','search','length','fetchTestClasses','function','./services/generate-zip.service','FunctionsController','./utils/salesforce-request','8cSdZpH','631930DQxIQm','SAVE_DEPLOY_ZIP','269672DpQiAx','5701230rdUrbJ','retrieveZip','./services/retrieve-zip.service','getOwnPropertyDescriptor','./utils/auth.utils','design:returntype','52NJmZZo','65361agLaBr','__decorate','design:type','body','Controller','message','/services/apexrest','./services/deploy-attachment.service','decorate','design:paramtypes','namespace','Job\x20started\x20successfully','post','object','6WjoyzF','toString','ERROR'];a51_0x366b=function(){return _0x560315;};return a51_0x366b();}a51_0x20005a();'use strict';var __decorate=this&&this[a51_0x291b41(0x1c2)]||function(_0x2e0abc,_0x7aca74,_0x42b8e6,_0x3ccc87){const _0x2d9142=a51_0x291b41;var _0x402093=arguments[_0x2d9142(0x1b0)],_0x237098=_0x402093<0x3?_0x7aca74:_0x3ccc87===null?_0x3ccc87=Object[_0x2d9142(0x1bd)](_0x7aca74,_0x42b8e6):_0x3ccc87,_0x3478d4;if(typeof Reflect===_0x2d9142(0x188)&&typeof Reflect[_0x2d9142(0x1c9)]===_0x2d9142(0x1b2))_0x237098=Reflect[_0x2d9142(0x1c9)](_0x2e0abc,_0x7aca74,_0x42b8e6,_0x3ccc87);else{for(var _0x25e54b=_0x2e0abc[_0x2d9142(0x1b0)]-0x1;_0x25e54b>=0x0;_0x25e54b--)if(_0x3478d4=_0x2e0abc[_0x25e54b])_0x237098=(_0x402093<0x3?_0x3478d4(_0x237098):_0x402093>0x3?_0x3478d4(_0x7aca74,_0x42b8e6,_0x237098):_0x3478d4(_0x7aca74,_0x42b8e6))||_0x237098;}return _0x402093>0x3&&_0x237098&&Object['defineProperty'](_0x7aca74,_0x42b8e6,_0x237098),_0x237098;},__metadata=this&&this[a51_0x291b41(0x199)]||function(_0x544fe5,_0xe5e99){const _0x13c744=a51_0x291b41;if(typeof Reflect===_0x13c744(0x188)&&typeof Reflect[_0x13c744(0x18f)]===_0x13c744(0x1b2))return Reflect[_0x13c744(0x18f)](_0x544fe5,_0xe5e99);},__param=this&&this[a51_0x291b41(0x195)]||function(_0x4544d9,_0x41850d){return function(_0x5c307f,_0x3473ce){_0x41850d(_0x5c307f,_0x3473ce,_0x4544d9);};};Object[a51_0x291b41(0x193)](exports,a51_0x291b41(0x19b),{'value':!![]}),exports[a51_0x291b41(0x1b4)]=void 0x0;const core_1=require(a51_0x291b41(0x198)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a51_0x291b41(0x1bc)),generate_zip_service_1=require(a51_0x291b41(0x1b3)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a51_0x291b41(0x1c8)),salesforce_request_1=require(a51_0x291b41(0x1b5)),auth_utils_1=require(a51_0x291b41(0x1be)),logger=new core_1[(a51_0x291b41(0x1ae))](a51_0x291b41(0x192));let FunctionsController=class FunctionsController{async[a51_0x291b41(0x1bb)](_0x141500){const _0x566340=a51_0x291b41,_0x32be86=(0x0,salesforce_request_1[_0x566340(0x18e)])(auth_utils_1[_0x566340(0x1a7)][_0x566340(0x196)](_0x141500['instanceUrl']));return(0x0,retrieve_zip_service_1[_0x566340(0x1bb)])(_0x141500,_0x32be86)[_0x566340(0x1a4)](()=>{const _0x10189b=_0x566340;return _0x32be86[_0x10189b(0x187)](_0x10189b(0x1c7)+salesforce_request_1[_0x10189b(0x185)]+'/async',{'mdlId':_0x141500[_0x10189b(0x1a9)],'opType':salesforce_request_type_1[_0x10189b(0x197)][_0x10189b(0x19c)]});})['catch'](_0x1b62c9=>{const _0x3b496d=_0x566340;return _0x32be86['post'](_0x3b496d(0x1c7)+salesforce_request_1[_0x3b496d(0x185)]+_0x3b496d(0x19f),{'mdlId':_0x141500[_0x3b496d(0x1a9)],'opType':salesforce_request_type_1[_0x3b496d(0x197)][_0x3b496d(0x18b)],'message':_0x1b62c9['message']||_0x1b62c9});})['catch'](_0x3074f8=>logger[_0x566340(0x19a)](_0x3074f8[_0x566340(0x1c6)])),{'message':_0x566340(0x186)};}async['fetchTestClasses'](_0x2604ee){const _0x2461be=a51_0x291b41,_0x43cf76=(0x0,salesforce_request_1[_0x2461be(0x18e)])(auth_utils_1[_0x2461be(0x1a7)]['getAuthParameters'](_0x2604ee[_0x2461be(0x19e)]));return(0x0,fetch_test_classes_service_1[_0x2461be(0x1b1)])(_0x2604ee,_0x43cf76)[_0x2461be(0x1a4)](()=>{const _0x3fa87a=_0x2461be;return _0x43cf76['post'](_0x3fa87a(0x1c7)+salesforce_request_1[_0x3fa87a(0x185)]+_0x3fa87a(0x19f),{'mdlId':_0x2604ee[_0x3fa87a(0x1a9)],'opType':salesforce_request_type_1['OptionType'][_0x3fa87a(0x190)]});})['catch'](_0x5192d9=>{const _0x54b69b=_0x2461be;return _0x43cf76['post'](_0x54b69b(0x1c7)+salesforce_request_1[_0x54b69b(0x185)]+_0x54b69b(0x19f),{'mdlId':_0x2604ee[_0x54b69b(0x1a9)],'opType':salesforce_request_type_1['OptionType'][_0x54b69b(0x18b)],'message':_0x5192d9[_0x54b69b(0x1c6)]||_0x5192d9});})['catch'](_0x1fb6c2=>logger['error'](_0x1fb6c2[_0x2461be(0x1c6)])),{'message':_0x2461be(0x186)};}async[a51_0x291b41(0x18c)](_0x5dbf9e){const _0x551dde=a51_0x291b41,_0x322921=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x551dde(0x196)](_0x5dbf9e[_0x551dde(0x19e)]));return(0x0,generate_zip_service_1[_0x551dde(0x18c)])(_0x5dbf9e,_0x322921)['then'](_0x37695=>{const _0x170bc2=_0x551dde;return _0x322921['post'](_0x170bc2(0x1c7)+salesforce_request_1[_0x170bc2(0x185)]+_0x170bc2(0x19f),{'mdlId':_0x5dbf9e[_0x170bc2(0x1a9)],'opType':salesforce_request_type_1[_0x170bc2(0x197)][_0x170bc2(0x1b8)],'attachment':_0x37695});})['catch'](_0x380439=>{const _0x1653ea=_0x551dde;return _0x322921['post'](_0x1653ea(0x1c7)+salesforce_request_1['namespace']+_0x1653ea(0x19f),{'mdlId':_0x5dbf9e[_0x1653ea(0x1a9)],'opType':salesforce_request_type_1['OptionType'][_0x1653ea(0x18b)],'message':_0x380439['message']||_0x380439});})[_0x551dde(0x194)](_0x4f3fb3=>logger[_0x551dde(0x19a)](_0x4f3fb3['message'])),{'message':_0x551dde(0x186)};}async[a51_0x291b41(0x1a2)](_0xf8be76){const _0x246359=a51_0x291b41,_0x21b1f4=(0x0,salesforce_request_1[_0x246359(0x18e)])(auth_utils_1[_0x246359(0x1a7)][_0x246359(0x196)](_0xf8be76[_0x246359(0x19e)]));return(0x0,deploy_attachment_service_1['deployComponents'])(_0xf8be76,_0x21b1f4)[_0x246359(0x1a4)](_0x5bafa3=>{const _0x2c874c=_0x246359;return _0x21b1f4[_0x2c874c(0x187)](_0x2c874c(0x1c7)+salesforce_request_1[_0x2c874c(0x185)]+_0x2c874c(0x19f),{'mdlId':_0xf8be76[_0x2c874c(0x1a9)],'asyncId':_0x5bafa3,'opType':salesforce_request_type_1[_0x2c874c(0x197)]['DEPLOY']});})[_0x246359(0x194)](_0x17878e=>{const _0x48144c=_0x246359;return _0x21b1f4[_0x48144c(0x187)](_0x48144c(0x1c7)+salesforce_request_1[_0x48144c(0x185)]+_0x48144c(0x19f),{'mdlId':_0xf8be76[_0x48144c(0x1a9)],'opType':salesforce_request_type_1[_0x48144c(0x197)][_0x48144c(0x18b)],'message':_0x17878e[_0x48144c(0x1c6)]||_0x17878e});})[_0x246359(0x194)](_0x4b2327=>logger['error'](_0x4b2327[_0x246359(0x1c6)])),{'message':_0x246359(0x186)};}};function a51_0x657e(_0x3e710f,_0x36c565){const _0x4b96ed=a51_0x366b();return a51_0x657e=function(_0x20005a,_0x952497){_0x20005a=_0x20005a-0x184;let _0x366bf1=_0x4b96ed[_0x20005a];return _0x366bf1;},a51_0x657e(_0x3e710f,_0x36c565);}__decorate([(0x0,core_1[a51_0x291b41(0x1a5)])(a51_0x291b41(0x1ac)),__param(0x0,core_1[a51_0x291b41(0x1a0)][a51_0x291b41(0x1c4)]()),__metadata(a51_0x291b41(0x1c3),Function),__metadata('design:paramtypes',[Object]),__metadata(a51_0x291b41(0x1bf),Promise)],FunctionsController[a51_0x291b41(0x18d)],a51_0x291b41(0x1bb),null),__decorate([(0x0,core_1[a51_0x291b41(0x1a5)])(a51_0x291b41(0x1ab)),__param(0x0,core_1[a51_0x291b41(0x1a0)][a51_0x291b41(0x1c4)]()),__metadata(a51_0x291b41(0x1c3),Function),__metadata(a51_0x291b41(0x184),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x291b41(0x18d)],'fetchTestClasses',null),__decorate([(0x0,core_1[a51_0x291b41(0x1a5)])('generate-deploy-zip'),__param(0x0,core_1['param'][a51_0x291b41(0x1c4)]()),__metadata(a51_0x291b41(0x1c3),Function),__metadata(a51_0x291b41(0x184),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x291b41(0x18d)],'generateAndDeployZip',null),__decorate([(0x0,core_1[a51_0x291b41(0x1a5)])('deploy-components'),__param(0x0,core_1[a51_0x291b41(0x1a0)][a51_0x291b41(0x1c4)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a51_0x291b41(0x1bf),Promise)],FunctionsController[a51_0x291b41(0x18d)],a51_0x291b41(0x1a2),null),FunctionsController=__decorate([(0x0,core_1[a51_0x291b41(0x1c5)])('functions'),(0x0,core_1[a51_0x291b41(0x1a3)])('v1')],FunctionsController),exports[a51_0x291b41(0x1b4)]=FunctionsController;