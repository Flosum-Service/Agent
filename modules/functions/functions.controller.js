const a83_0x1ba8dc=a83_0x2f29;(function(_0x3f79d5,_0x13d317){const _0x577c02=a83_0x2f29,_0x52d600=_0x3f79d5();while(!![]){try{const _0x275dc8=parseInt(_0x577c02(0x19d))/0x1*(-parseInt(_0x577c02(0x1bc))/0x2)+parseInt(_0x577c02(0x191))/0x3*(-parseInt(_0x577c02(0x1ae))/0x4)+parseInt(_0x577c02(0x1c7))/0x5+parseInt(_0x577c02(0x1cc))/0x6+-parseInt(_0x577c02(0x197))/0x7+parseInt(_0x577c02(0x1c5))/0x8+parseInt(_0x577c02(0x1cd))/0x9;if(_0x275dc8===_0x13d317)break;else _0x52d600['push'](_0x52d600['shift']());}catch(_0x529ff7){_0x52d600['push'](_0x52d600['shift']());}}}(a83_0x3f07,0x34d0b));const a83_0x40ed87=(function(){let _0xf0576f=!![];return function(_0x51f31b,_0x529ed7){const _0x3e0e97=_0xf0576f?function(){const _0x4e36e3=a83_0x2f29;if(_0x529ed7){const _0x46c4ae=_0x529ed7[_0x4e36e3(0x1a1)](_0x51f31b,arguments);return _0x529ed7=null,_0x46c4ae;}}:function(){};return _0xf0576f=![],_0x3e0e97;};}()),a83_0x505e8f=a83_0x40ed87(this,function(){const _0x59c1c9=a83_0x2f29;return a83_0x505e8f[_0x59c1c9(0x1a9)]()['search'](_0x59c1c9(0x1b7))[_0x59c1c9(0x1a9)]()[_0x59c1c9(0x196)](a83_0x505e8f)['search']('(((.+)+)+)+$');});a83_0x505e8f();'use strict';var __decorate=this&&this[a83_0x1ba8dc(0x1c3)]||function(_0x54e8cf,_0x327043,_0x3a750f,_0x52624c){const _0x527f17=a83_0x1ba8dc;var _0x12a3f6=arguments[_0x527f17(0x1a4)],_0x1b44a6=_0x12a3f6<0x3?_0x327043:_0x52624c===null?_0x52624c=Object[_0x527f17(0x1b1)](_0x327043,_0x3a750f):_0x52624c,_0x2737c8;if(typeof Reflect==='object'&&typeof Reflect['decorate']==='function')_0x1b44a6=Reflect[_0x527f17(0x1c6)](_0x54e8cf,_0x327043,_0x3a750f,_0x52624c);else{for(var _0xea29f=_0x54e8cf[_0x527f17(0x1a4)]-0x1;_0xea29f>=0x0;_0xea29f--)if(_0x2737c8=_0x54e8cf[_0xea29f])_0x1b44a6=(_0x12a3f6<0x3?_0x2737c8(_0x1b44a6):_0x12a3f6>0x3?_0x2737c8(_0x327043,_0x3a750f,_0x1b44a6):_0x2737c8(_0x327043,_0x3a750f))||_0x1b44a6;}return _0x12a3f6>0x3&&_0x1b44a6&&Object[_0x527f17(0x19b)](_0x327043,_0x3a750f,_0x1b44a6),_0x1b44a6;},__metadata=this&&this['__metadata']||function(_0x3fe528,_0x5a7e7f){const _0x40bc34=a83_0x1ba8dc;if(typeof Reflect===_0x40bc34(0x18f)&&typeof Reflect[_0x40bc34(0x1af)]===_0x40bc34(0x1b0))return Reflect[_0x40bc34(0x1af)](_0x3fe528,_0x5a7e7f);},__param=this&&this[a83_0x1ba8dc(0x199)]||function(_0x310258,_0x193088){return function(_0x12bc93,_0x18b5e3){_0x193088(_0x12bc93,_0x18b5e3,_0x310258);};};function a83_0x2f29(_0x329df3,_0x4844b9){const _0x305307=a83_0x3f07();return a83_0x2f29=function(_0x505e8f,_0x40ed87){_0x505e8f=_0x505e8f-0x18e;let _0x3f0776=_0x305307[_0x505e8f];return _0x3f0776;},a83_0x2f29(_0x329df3,_0x4844b9);}Object['defineProperty'](exports,a83_0x1ba8dc(0x1bd),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a83_0x1ba8dc(0x19c)),salesforce_request_type_1=require(a83_0x1ba8dc(0x1a5)),retrieve_zip_service_1=require(a83_0x1ba8dc(0x1ab)),generate_zip_service_1=require(a83_0x1ba8dc(0x1bf)),fetch_test_classes_service_1=require(a83_0x1ba8dc(0x1a3)),deploy_attachment_service_1=require('./services/deploy-attachment.service'),salesforce_request_1=require(a83_0x1ba8dc(0x1a7)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a83_0x1ba8dc(0x1a2))](a83_0x1ba8dc(0x1a6));let FunctionsController=class FunctionsController{async[a83_0x1ba8dc(0x1c0)](_0x16f9a7){const _0x2525a6=a83_0x1ba8dc,_0xcfbc6e=(0x0,salesforce_request_1[_0x2525a6(0x1ba)])(auth_utils_1[_0x2525a6(0x1cb)][_0x2525a6(0x1be)](_0x16f9a7[_0x2525a6(0x1c9)]));return(0x0,retrieve_zip_service_1[_0x2525a6(0x1c0)])(_0x16f9a7,_0xcfbc6e)['then'](()=>{const _0xd99e52=_0x2525a6;return _0xcfbc6e[_0xd99e52(0x193)](_0xd99e52(0x1b5)+salesforce_request_1[_0xd99e52(0x1b6)]+_0xd99e52(0x1ad),{'mdlId':_0x16f9a7['metadataLogId'],'opType':salesforce_request_type_1[_0xd99e52(0x1b8)]['SAVE_BACKUP_ZIP']});})[_0x2525a6(0x190)](_0x52f262=>{const _0x4b38d3=_0x2525a6;return _0xcfbc6e[_0x4b38d3(0x193)]('/services/apexrest'+salesforce_request_1[_0x4b38d3(0x1b6)]+_0x4b38d3(0x1ad),{'mdlId':_0x16f9a7[_0x4b38d3(0x19f)],'opType':salesforce_request_type_1['OptionType'][_0x4b38d3(0x1c8)],'message':_0x52f262['message']||_0x52f262});})['catch'](_0x50306d=>logger['error'](_0x50306d['message'])),{'message':_0x2525a6(0x1b4)};}async[a83_0x1ba8dc(0x1c2)](_0x53c7aa){const _0x48f84f=a83_0x1ba8dc,_0x1a6bd8=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x48f84f(0x1cb)][_0x48f84f(0x1be)](_0x53c7aa['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x48f84f(0x1c2)])(_0x53c7aa,_0x1a6bd8)[_0x48f84f(0x18e)](()=>{const _0x22dbb2=_0x48f84f;return _0x1a6bd8['post'](_0x22dbb2(0x1b5)+salesforce_request_1[_0x22dbb2(0x1b6)]+'/async',{'mdlId':_0x53c7aa[_0x22dbb2(0x19f)],'opType':salesforce_request_type_1['OptionType']['GET_TESTS']});})[_0x48f84f(0x190)](_0xe19c6b=>{const _0x4cbd63=_0x48f84f;return _0x1a6bd8['post'](_0x4cbd63(0x1b5)+salesforce_request_1[_0x4cbd63(0x1b6)]+_0x4cbd63(0x1ad),{'mdlId':_0x53c7aa[_0x4cbd63(0x19f)],'opType':salesforce_request_type_1[_0x4cbd63(0x1b8)]['ERROR'],'message':_0xe19c6b[_0x4cbd63(0x1c4)]||_0xe19c6b});})[_0x48f84f(0x190)](_0x113827=>logger[_0x48f84f(0x19a)](_0x113827['message'])),{'message':_0x48f84f(0x1b4)};}async['generateAndDeployZip'](_0x2d1045){const _0x162d04=a83_0x1ba8dc,_0x1d23e3=(0x0,salesforce_request_1[_0x162d04(0x1ba)])(auth_utils_1[_0x162d04(0x1cb)][_0x162d04(0x1be)](_0x2d1045[_0x162d04(0x1c9)]));return(0x0,generate_zip_service_1[_0x162d04(0x1b3)])(_0x2d1045,_0x1d23e3)[_0x162d04(0x18e)](_0x426e64=>{const _0x58cb6a=_0x162d04;return _0x1d23e3[_0x58cb6a(0x193)](_0x58cb6a(0x1b5)+salesforce_request_1['namespace']+_0x58cb6a(0x1ad),{'mdlId':_0x2d1045['metadataLogId'],'opType':salesforce_request_type_1[_0x58cb6a(0x1b8)]['SAVE_DEPLOY_ZIP'],'attachment':_0x426e64});})['catch'](_0x4ae024=>{const _0x5e6587=_0x162d04;return _0x1d23e3[_0x5e6587(0x193)](_0x5e6587(0x1b5)+salesforce_request_1['namespace']+_0x5e6587(0x1ad),{'mdlId':_0x2d1045[_0x5e6587(0x19f)],'opType':salesforce_request_type_1['OptionType'][_0x5e6587(0x1c8)],'message':_0x4ae024['message']||_0x4ae024});})[_0x162d04(0x190)](_0x203296=>logger[_0x162d04(0x19a)](_0x203296['message'])),{'message':_0x162d04(0x1b4)};}async[a83_0x1ba8dc(0x1aa)](_0x1e595c){const _0x1cb2b5=a83_0x1ba8dc,_0xc2010f=(0x0,salesforce_request_1[_0x1cb2b5(0x1ba)])(auth_utils_1['AuthUtils'][_0x1cb2b5(0x1be)](_0x1e595c['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x1cb2b5(0x1aa)])(_0x1e595c,_0xc2010f)[_0x1cb2b5(0x18e)](_0x100c1f=>{const _0x38bf9d=_0x1cb2b5;return _0xc2010f[_0x38bf9d(0x193)](_0x38bf9d(0x1b5)+salesforce_request_1['namespace']+_0x38bf9d(0x1ad),{'mdlId':_0x1e595c['metadataLogId'],'asyncId':_0x100c1f,'opType':salesforce_request_type_1[_0x38bf9d(0x1b8)]['DEPLOY']});})[_0x1cb2b5(0x190)](_0x439109=>{const _0x3cbb84=_0x1cb2b5;return _0xc2010f[_0x3cbb84(0x193)](_0x3cbb84(0x1b5)+salesforce_request_1[_0x3cbb84(0x1b6)]+'/async',{'mdlId':_0x1e595c['metadataLogId'],'opType':salesforce_request_type_1[_0x3cbb84(0x1b8)][_0x3cbb84(0x1c8)],'message':_0x439109[_0x3cbb84(0x1c4)]||_0x439109});})[_0x1cb2b5(0x190)](_0x1f29f8=>logger[_0x1cb2b5(0x19a)](_0x1f29f8['message'])),{'message':_0x1cb2b5(0x1b4)};}};function a83_0x3f07(){const _0x5640d0=['apply','Logger','./services/fetch-test-classes.service','length','./types/salesforce-request.type','server','./utils/salesforce-request','Post','toString','deployComponents','./services/retrieve-zip.service','deploy-components','/async','68812qdLWGz','metadata','function','getOwnPropertyDescriptor','functions','generateAndDeployZip','Job\x20started\x20successfully','/services/apexrest','namespace','(((.+)+)+)+$','OptionType','design:type','createRequest','retrieve','174058jiNDiT','__esModule','getAuthParameters','./services/generate-zip.service','retrieveZip','design:paramtypes','fetchTestClasses','__decorate','message','1499400sZLhpo','decorate','83435XEWlsb','ERROR','instanceUrl','generate-deploy-zip','AuthUtils','92028rfNqws','6324768WSVTQE','then','object','catch','21PBGDCf','design:returntype','post','body','prototype','constructor','2879744JzzGlc','Controller','__param','error','defineProperty','../../core','2BfzVcx','param','metadataLogId','fetch-test-classes'];a83_0x3f07=function(){return _0x5640d0;};return a83_0x3f07();}__decorate([(0x0,core_1[a83_0x1ba8dc(0x1a8)])(a83_0x1ba8dc(0x1bb)),__param(0x0,core_1['param'][a83_0x1ba8dc(0x194)]()),__metadata(a83_0x1ba8dc(0x1b9),Function),__metadata(a83_0x1ba8dc(0x1c1),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x1ba8dc(0x195)],a83_0x1ba8dc(0x1c0),null),__decorate([(0x0,core_1[a83_0x1ba8dc(0x1a8)])(a83_0x1ba8dc(0x1a0)),__param(0x0,core_1[a83_0x1ba8dc(0x19e)][a83_0x1ba8dc(0x194)]()),__metadata(a83_0x1ba8dc(0x1b9),Function),__metadata(a83_0x1ba8dc(0x1c1),[Object]),__metadata(a83_0x1ba8dc(0x192),Promise)],FunctionsController[a83_0x1ba8dc(0x195)],a83_0x1ba8dc(0x1c2),null),__decorate([(0x0,core_1['Post'])(a83_0x1ba8dc(0x1ca)),__param(0x0,core_1['param'][a83_0x1ba8dc(0x194)]()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a83_0x1ba8dc(0x1b3),null),__decorate([(0x0,core_1[a83_0x1ba8dc(0x1a8)])(a83_0x1ba8dc(0x1ac)),__param(0x0,core_1['param'][a83_0x1ba8dc(0x194)]()),__metadata(a83_0x1ba8dc(0x1b9),Function),__metadata(a83_0x1ba8dc(0x1c1),[Object]),__metadata(a83_0x1ba8dc(0x192),Promise)],FunctionsController['prototype'],a83_0x1ba8dc(0x1aa),null),FunctionsController=__decorate([(0x0,core_1[a83_0x1ba8dc(0x198)])(a83_0x1ba8dc(0x1b2)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;