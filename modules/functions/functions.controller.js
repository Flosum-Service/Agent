const a101_0x3902d9=a101_0x3165;(function(_0x344b83,_0x1932c5){const _0x481813=a101_0x3165,_0x2cb33e=_0x344b83();while(!![]){try{const _0x51c85d=-parseInt(_0x481813(0xe8))/0x1*(-parseInt(_0x481813(0xed))/0x2)+parseInt(_0x481813(0x10f))/0x3+-parseInt(_0x481813(0x10d))/0x4*(parseInt(_0x481813(0x114))/0x5)+parseInt(_0x481813(0xf4))/0x6*(parseInt(_0x481813(0x10c))/0x7)+parseInt(_0x481813(0x106))/0x8+parseInt(_0x481813(0x12c))/0x9+-parseInt(_0x481813(0x10e))/0xa*(parseInt(_0x481813(0x129))/0xb);if(_0x51c85d===_0x1932c5)break;else _0x2cb33e['push'](_0x2cb33e['shift']());}catch(_0x4f328b){_0x2cb33e['push'](_0x2cb33e['shift']());}}}(a101_0x47c1,0x89552));const a101_0x4b44af=(function(){let _0x37852b=!![];return function(_0x1150e8,_0xb60d4){const _0x4fc8f8=_0x37852b?function(){const _0x2d7a93=a101_0x3165;if(_0xb60d4){const _0x49c27b=_0xb60d4[_0x2d7a93(0x120)](_0x1150e8,arguments);return _0xb60d4=null,_0x49c27b;}}:function(){};return _0x37852b=![],_0x4fc8f8;};}()),a101_0x21595e=a101_0x4b44af(this,function(){const _0x4b65a5=a101_0x3165;return a101_0x21595e[_0x4b65a5(0xfd)]()[_0x4b65a5(0xfe)](_0x4b65a5(0xeb))[_0x4b65a5(0xfd)]()[_0x4b65a5(0xfb)](a101_0x21595e)[_0x4b65a5(0xfe)](_0x4b65a5(0xeb));});a101_0x21595e();'use strict';var __decorate=this&&this[a101_0x3902d9(0x128)]||function(_0x229fec,_0x34b23d,_0x1fd21c,_0x2b6610){const _0x12ec49=a101_0x3902d9;var _0x3b8af4=arguments[_0x12ec49(0x11b)],_0x557c3d=_0x3b8af4<0x3?_0x34b23d:_0x2b6610===null?_0x2b6610=Object['getOwnPropertyDescriptor'](_0x34b23d,_0x1fd21c):_0x2b6610,_0x3f96a2;if(typeof Reflect===_0x12ec49(0x125)&&typeof Reflect['decorate']===_0x12ec49(0xf0))_0x557c3d=Reflect[_0x12ec49(0xe7)](_0x229fec,_0x34b23d,_0x1fd21c,_0x2b6610);else{for(var _0x1f1ea8=_0x229fec[_0x12ec49(0x11b)]-0x1;_0x1f1ea8>=0x0;_0x1f1ea8--)if(_0x3f96a2=_0x229fec[_0x1f1ea8])_0x557c3d=(_0x3b8af4<0x3?_0x3f96a2(_0x557c3d):_0x3b8af4>0x3?_0x3f96a2(_0x34b23d,_0x1fd21c,_0x557c3d):_0x3f96a2(_0x34b23d,_0x1fd21c))||_0x557c3d;}return _0x3b8af4>0x3&&_0x557c3d&&Object[_0x12ec49(0xf7)](_0x34b23d,_0x1fd21c,_0x557c3d),_0x557c3d;},__metadata=this&&this[a101_0x3902d9(0x113)]||function(_0x187c74,_0x3e7f3f){const _0x5cb1f1=a101_0x3902d9;if(typeof Reflect==='object'&&typeof Reflect[_0x5cb1f1(0xee)]===_0x5cb1f1(0xf0))return Reflect['metadata'](_0x187c74,_0x3e7f3f);},__param=this&&this[a101_0x3902d9(0x107)]||function(_0x5b7f1d,_0x1535a2){return function(_0x1fac19,_0x38ed54){_0x1535a2(_0x1fac19,_0x38ed54,_0x5b7f1d);};};Object[a101_0x3902d9(0xf7)](exports,'__esModule',{'value':!![]}),exports[a101_0x3902d9(0xec)]=void 0x0;const core_1=require(a101_0x3902d9(0xef)),salesforce_request_type_1=require(a101_0x3902d9(0x101)),retrieve_zip_service_1=require(a101_0x3902d9(0x103)),generate_zip_service_1=require(a101_0x3902d9(0xfa)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a101_0x3902d9(0x12d)),salesforce_request_1=require(a101_0x3902d9(0x121)),auth_utils_1=require(a101_0x3902d9(0x102)),auth_manager_1=require(a101_0x3902d9(0x12b)),salesforce_1=require(a101_0x3902d9(0xf6)),logger=new core_1['Logger'](a101_0x3902d9(0x119));function a101_0x47c1(){const _0x4e83bb=['design:paramtypes','param','./types/salesforce-request.type','./utils/auth.utils','./services/retrieve-zip.service','retrieveZip','message','1520792pRMyLV','__param','Job\x20started\x20successfully','design:returntype','fetch-test-classes','generate-deploy-zip','3087875JBpoIk','2972NOFVqW','10DisocD','2856699poOeTT','metadataLogId','generateAndDeployZip','ERROR','__metadata','400WWMwvW','GET_TESTS','credentials','AuthUtils','error','server','prototype','length','catch','getAuthParameters','namespace','OptionType','apply','./utils/salesforce-request','Post','instanceUrl','Controller','object','body','post','__decorate','19193427uFoaxr','SAVE_DEPLOY_ZIP','../shared/managers/auth.manager','4642677FjRbTW','./services/deploy-attachment.service','/async','fetchTestClasses','/services/apexrest','functions','decorate','39pxdQeM','DEPLOY','SAVE_BACKUP_ZIP','(((.+)+)+)+$','FunctionsController','13718mMIkKy','metadata','../../core','function','then','Version','AxiosInstanceUtils','6yTlzSf','create','@flosum/salesforce','defineProperty','deploy-components','design:type','./services/generate-zip.service','constructor','deployComponents','toString','search'];a101_0x47c1=function(){return _0x4e83bb;};return a101_0x47c1();}function a101_0x3165(_0x5f3636,_0x3420f6){const _0x443ead=a101_0x47c1();return a101_0x3165=function(_0x21595e,_0x4b44af){_0x21595e=_0x21595e-0xe5;let _0x47c1a1=_0x443ead[_0x21595e];return _0x47c1a1;},a101_0x3165(_0x5f3636,_0x3420f6);}let FunctionsController=class FunctionsController{async[a101_0x3902d9(0x104)](_0x3da1ec){const _0x584171=a101_0x3902d9,_0x5efef7=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x584171(0x117)][_0x584171(0x11d)](_0x3da1ec[_0x584171(0x123)]));return(0x0,retrieve_zip_service_1[_0x584171(0x104)])(_0x3da1ec,_0x5efef7)[_0x584171(0xf1)](()=>{const _0x1bd060=_0x584171;return _0x5efef7['post'](_0x1bd060(0xe5)+salesforce_request_1[_0x1bd060(0x11e)]+_0x1bd060(0x12e),{'mdlId':_0x3da1ec[_0x1bd060(0x110)],'opType':salesforce_request_type_1[_0x1bd060(0x11f)][_0x1bd060(0xea)]});})[_0x584171(0x11c)](_0x54fc42=>{const _0x11a591=_0x584171;return _0x5efef7[_0x11a591(0x127)](_0x11a591(0xe5)+salesforce_request_1[_0x11a591(0x11e)]+_0x11a591(0x12e),{'mdlId':_0x3da1ec[_0x11a591(0x110)],'opType':salesforce_request_type_1[_0x11a591(0x11f)][_0x11a591(0x112)],'message':_0x54fc42[_0x11a591(0x105)]||_0x54fc42});})[_0x584171(0x11c)](_0x87b42e=>logger['error'](_0x87b42e[_0x584171(0x105)])),{'message':_0x584171(0x108)};}async[a101_0x3902d9(0x12f)](_0x100cb0){const _0x37f58d=a101_0x3902d9,_0x4048e4=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x37f58d(0x117)][_0x37f58d(0x11d)](_0x100cb0[_0x37f58d(0x123)]));return(0x0,fetch_test_classes_service_1[_0x37f58d(0x12f)])(_0x100cb0,_0x4048e4)[_0x37f58d(0xf1)](()=>{const _0x1895dd=_0x37f58d;return _0x4048e4[_0x1895dd(0x127)](_0x1895dd(0xe5)+salesforce_request_1[_0x1895dd(0x11e)]+_0x1895dd(0x12e),{'mdlId':_0x100cb0[_0x1895dd(0x110)],'opType':salesforce_request_type_1[_0x1895dd(0x11f)][_0x1895dd(0x115)]});})['catch'](_0x121751=>{const _0x45da5d=_0x37f58d;return _0x4048e4['post'](_0x45da5d(0xe5)+salesforce_request_1[_0x45da5d(0x11e)]+_0x45da5d(0x12e),{'mdlId':_0x100cb0[_0x45da5d(0x110)],'opType':salesforce_request_type_1['OptionType'][_0x45da5d(0x112)],'message':_0x121751[_0x45da5d(0x105)]||_0x121751});})['catch'](_0x5a17a2=>logger['error'](_0x5a17a2[_0x37f58d(0x105)])),{'message':'Job\x20started\x20successfully'};}async['generateAndDeployZip'](_0x5993e0){const _0x316cd2=a101_0x3902d9,_0x4fd874=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x316cd2(0x117)][_0x316cd2(0x11d)](_0x5993e0[_0x316cd2(0x123)])),_0x44d46c=await salesforce_1[_0x316cd2(0xf3)][_0x316cd2(0xf5)](new auth_manager_1['AuthManager'](_0x5993e0[_0x316cd2(0x116)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x316cd2(0x111)])(_0x5993e0,_0x4fd874,_0x44d46c)[_0x316cd2(0xf1)](_0x273e20=>{const _0x2e1248=_0x316cd2;return _0x4fd874['post'](_0x2e1248(0xe5)+salesforce_request_1['namespace']+_0x2e1248(0x12e),{'mdlId':_0x5993e0[_0x2e1248(0x110)],'opType':salesforce_request_type_1[_0x2e1248(0x11f)][_0x2e1248(0x12a)],'attachment':_0x273e20});})[_0x316cd2(0x11c)](_0xa60a0c=>{const _0x4fee6c=_0x316cd2;return _0x4fd874[_0x4fee6c(0x127)](_0x4fee6c(0xe5)+salesforce_request_1[_0x4fee6c(0x11e)]+_0x4fee6c(0x12e),{'mdlId':_0x5993e0[_0x4fee6c(0x110)],'opType':salesforce_request_type_1[_0x4fee6c(0x11f)][_0x4fee6c(0x112)],'message':_0xa60a0c[_0x4fee6c(0x105)]||_0xa60a0c});})[_0x316cd2(0x11c)](_0x52c8d5=>logger[_0x316cd2(0x118)](_0x52c8d5[_0x316cd2(0x105)])),{'message':'Job\x20started\x20successfully'};}async[a101_0x3902d9(0xfc)](_0x4ff6f2){const _0x53fa67=a101_0x3902d9,_0x5b81d5=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x53fa67(0x11d)](_0x4ff6f2['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x53fa67(0xfc)])(_0x4ff6f2,_0x5b81d5)['then'](_0xee793c=>{const _0x356e7f=_0x53fa67;return _0x5b81d5[_0x356e7f(0x127)](_0x356e7f(0xe5)+salesforce_request_1[_0x356e7f(0x11e)]+_0x356e7f(0x12e),{'mdlId':_0x4ff6f2[_0x356e7f(0x110)],'asyncId':_0xee793c,'opType':salesforce_request_type_1['OptionType'][_0x356e7f(0xe9)]});})[_0x53fa67(0x11c)](_0x5eeb42=>{const _0x3ce3ae=_0x53fa67;return _0x5b81d5[_0x3ce3ae(0x127)](_0x3ce3ae(0xe5)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x4ff6f2[_0x3ce3ae(0x110)],'opType':salesforce_request_type_1[_0x3ce3ae(0x11f)][_0x3ce3ae(0x112)],'message':_0x5eeb42[_0x3ce3ae(0x105)]||_0x5eeb42});})[_0x53fa67(0x11c)](_0x39d8e0=>logger[_0x53fa67(0x118)](_0x39d8e0[_0x53fa67(0x105)])),{'message':_0x53fa67(0x108)};}};__decorate([(0x0,core_1[a101_0x3902d9(0x122)])('retrieve'),__param(0x0,core_1[a101_0x3902d9(0x100)][a101_0x3902d9(0x126)]()),__metadata(a101_0x3902d9(0xf9),Function),__metadata(a101_0x3902d9(0xff),[Object]),__metadata(a101_0x3902d9(0x109),Promise)],FunctionsController[a101_0x3902d9(0x11a)],'retrieveZip',null),__decorate([(0x0,core_1[a101_0x3902d9(0x122)])(a101_0x3902d9(0x10a)),__param(0x0,core_1[a101_0x3902d9(0x100)]['body']()),__metadata(a101_0x3902d9(0xf9),Function),__metadata(a101_0x3902d9(0xff),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a101_0x3902d9(0x11a)],a101_0x3902d9(0x12f),null),__decorate([(0x0,core_1[a101_0x3902d9(0x122)])(a101_0x3902d9(0x10b)),__param(0x0,core_1['param'][a101_0x3902d9(0x126)]()),__metadata('design:type',Function),__metadata(a101_0x3902d9(0xff),[Object]),__metadata(a101_0x3902d9(0x109),Promise)],FunctionsController[a101_0x3902d9(0x11a)],'generateAndDeployZip',null),__decorate([(0x0,core_1[a101_0x3902d9(0x122)])(a101_0x3902d9(0xf8)),__param(0x0,core_1[a101_0x3902d9(0x100)][a101_0x3902d9(0x126)]()),__metadata(a101_0x3902d9(0xf9),Function),__metadata(a101_0x3902d9(0xff),[Object]),__metadata(a101_0x3902d9(0x109),Promise)],FunctionsController['prototype'],a101_0x3902d9(0xfc),null),FunctionsController=__decorate([(0x0,core_1[a101_0x3902d9(0x124)])(a101_0x3902d9(0xe6)),(0x0,core_1[a101_0x3902d9(0xf2)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;