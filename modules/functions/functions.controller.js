const a101_0x4fafdb=a101_0x704f;(function(_0x5c3dcf,_0xf9e7ae){const _0x52e5e4=a101_0x704f,_0x50c21a=_0x5c3dcf();while(!![]){try{const _0x1dd085=parseInt(_0x52e5e4(0x1d6))/0x1+parseInt(_0x52e5e4(0x1fd))/0x2+parseInt(_0x52e5e4(0x206))/0x3*(parseInt(_0x52e5e4(0x207))/0x4)+parseInt(_0x52e5e4(0x1d8))/0x5*(-parseInt(_0x52e5e4(0x209))/0x6)+-parseInt(_0x52e5e4(0x204))/0x7+-parseInt(_0x52e5e4(0x1f6))/0x8+parseInt(_0x52e5e4(0x213))/0x9;if(_0x1dd085===_0xf9e7ae)break;else _0x50c21a['push'](_0x50c21a['shift']());}catch(_0x13e2ef){_0x50c21a['push'](_0x50c21a['shift']());}}}(a101_0x2ec8,0x5a536));const a101_0x423f3e=(function(){let _0x255609=!![];return function(_0x19c2cd,_0x49f7f9){const _0x1eab53=_0x255609?function(){const _0xbe4ee5=a101_0x704f;if(_0x49f7f9){const _0x47f0da=_0x49f7f9[_0xbe4ee5(0x20c)](_0x19c2cd,arguments);return _0x49f7f9=null,_0x47f0da;}}:function(){};return _0x255609=![],_0x1eab53;};}()),a101_0x4b6bf5=a101_0x423f3e(this,function(){const _0x50d532=a101_0x704f;return a101_0x4b6bf5['toString']()[_0x50d532(0x1ef)](_0x50d532(0x1da))[_0x50d532(0x1ed)]()['constructor'](a101_0x4b6bf5)['search'](_0x50d532(0x1da));});a101_0x4b6bf5();'use strict';var __decorate=this&&this['__decorate']||function(_0xf15bad,_0x470ed1,_0x3a7aa5,_0x5f0237){const _0x482f39=a101_0x704f;var _0xd5976=arguments[_0x482f39(0x1d0)],_0x1b27b4=_0xd5976<0x3?_0x470ed1:_0x5f0237===null?_0x5f0237=Object[_0x482f39(0x1ce)](_0x470ed1,_0x3a7aa5):_0x5f0237,_0x1a1362;if(typeof Reflect===_0x482f39(0x1f3)&&typeof Reflect[_0x482f39(0x210)]===_0x482f39(0x1f0))_0x1b27b4=Reflect[_0x482f39(0x210)](_0xf15bad,_0x470ed1,_0x3a7aa5,_0x5f0237);else{for(var _0x5a2652=_0xf15bad[_0x482f39(0x1d0)]-0x1;_0x5a2652>=0x0;_0x5a2652--)if(_0x1a1362=_0xf15bad[_0x5a2652])_0x1b27b4=(_0xd5976<0x3?_0x1a1362(_0x1b27b4):_0xd5976>0x3?_0x1a1362(_0x470ed1,_0x3a7aa5,_0x1b27b4):_0x1a1362(_0x470ed1,_0x3a7aa5))||_0x1b27b4;}return _0xd5976>0x3&&_0x1b27b4&&Object['defineProperty'](_0x470ed1,_0x3a7aa5,_0x1b27b4),_0x1b27b4;},__metadata=this&&this['__metadata']||function(_0x23372d,_0x2ceca9){const _0x3cc3c4=a101_0x704f;if(typeof Reflect===_0x3cc3c4(0x1f3)&&typeof Reflect[_0x3cc3c4(0x1db)]===_0x3cc3c4(0x1f0))return Reflect[_0x3cc3c4(0x1db)](_0x23372d,_0x2ceca9);},__param=this&&this['__param']||function(_0x395b80,_0x253f92){return function(_0x1d8073,_0x44cd91){_0x253f92(_0x1d8073,_0x44cd91,_0x395b80);};};Object['defineProperty'](exports,a101_0x4fafdb(0x1e4),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a101_0x4fafdb(0x1d4)),salesforce_request_type_1=require(a101_0x4fafdb(0x1d2)),retrieve_zip_service_1=require(a101_0x4fafdb(0x1e1)),generate_zip_service_1=require(a101_0x4fafdb(0x212)),fetch_test_classes_service_1=require(a101_0x4fafdb(0x1cc)),deploy_attachment_service_1=require(a101_0x4fafdb(0x1d1)),salesforce_request_1=require('./utils/salesforce-request'),auth_utils_1=require(a101_0x4fafdb(0x1d7)),auth_manager_1=require(a101_0x4fafdb(0x20e)),salesforce_1=require(a101_0x4fafdb(0x1e6)),logger=new core_1[(a101_0x4fafdb(0x1fb))](a101_0x4fafdb(0x1ff));let FunctionsController=class FunctionsController{async[a101_0x4fafdb(0x1e9)](_0x47697c){const _0x5e6f90=a101_0x4fafdb,_0x5d540d=(0x0,salesforce_request_1[_0x5e6f90(0x200)])(auth_utils_1[_0x5e6f90(0x1dd)][_0x5e6f90(0x214)](_0x47697c[_0x5e6f90(0x1f7)]));return(0x0,retrieve_zip_service_1[_0x5e6f90(0x1e9)])(_0x47697c,_0x5d540d)['then'](()=>{const _0x514a03=_0x5e6f90;return _0x5d540d[_0x514a03(0x1eb)](_0x514a03(0x1e7)+salesforce_request_1['namespace']+_0x514a03(0x211),{'mdlId':_0x47697c[_0x514a03(0x20d)],'opType':salesforce_request_type_1[_0x514a03(0x1d9)][_0x514a03(0x1d5)]});})[_0x5e6f90(0x1ee)](_0x44d4fe=>{const _0x153f32=_0x5e6f90;return _0x5d540d[_0x153f32(0x1eb)]('/services/apexrest'+salesforce_request_1[_0x153f32(0x208)]+_0x153f32(0x211),{'mdlId':_0x47697c[_0x153f32(0x20d)],'opType':salesforce_request_type_1[_0x153f32(0x1d9)][_0x153f32(0x1fc)],'message':_0x44d4fe[_0x153f32(0x1d3)]||_0x44d4fe});})['catch'](_0x2a1db2=>logger[_0x5e6f90(0x202)](_0x2a1db2[_0x5e6f90(0x1d3)])),{'message':_0x5e6f90(0x20b)};}async[a101_0x4fafdb(0x1de)](_0x35dc45){const _0x27f7f8=a101_0x4fafdb,_0x529c1d=(0x0,salesforce_request_1[_0x27f7f8(0x200)])(auth_utils_1[_0x27f7f8(0x1dd)][_0x27f7f8(0x214)](_0x35dc45['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x27f7f8(0x1de)])(_0x35dc45,_0x529c1d)[_0x27f7f8(0x1e5)](()=>{const _0x23989b=_0x27f7f8;return _0x529c1d[_0x23989b(0x1eb)](_0x23989b(0x1e7)+salesforce_request_1[_0x23989b(0x208)]+_0x23989b(0x211),{'mdlId':_0x35dc45[_0x23989b(0x20d)],'opType':salesforce_request_type_1[_0x23989b(0x1d9)][_0x23989b(0x1f9)]});})[_0x27f7f8(0x1ee)](_0x431c06=>{const _0x40974c=_0x27f7f8;return _0x529c1d['post'](_0x40974c(0x1e7)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x35dc45[_0x40974c(0x20d)],'opType':salesforce_request_type_1[_0x40974c(0x1d9)][_0x40974c(0x1fc)],'message':_0x431c06[_0x40974c(0x1d3)]||_0x431c06});})[_0x27f7f8(0x1ee)](_0x4422b5=>logger['error'](_0x4422b5[_0x27f7f8(0x1d3)])),{'message':_0x27f7f8(0x20b)};}async[a101_0x4fafdb(0x1f1)](_0x135c12){const _0x4cb2dd=a101_0x4fafdb,_0x31cf6b=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0x4cb2dd(0x214)](_0x135c12[_0x4cb2dd(0x1f7)])),_0x372155=await salesforce_1[_0x4cb2dd(0x1f8)][_0x4cb2dd(0x20f)](new auth_manager_1[(_0x4cb2dd(0x1e0))](_0x135c12[_0x4cb2dd(0x1f4)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x4cb2dd(0x1f1)])(_0x135c12,_0x31cf6b,_0x372155)[_0x4cb2dd(0x1e5)](_0x34ce82=>{const _0x6ef0b9=_0x4cb2dd;return _0x31cf6b[_0x6ef0b9(0x1eb)](_0x6ef0b9(0x1e7)+salesforce_request_1['namespace']+_0x6ef0b9(0x211),{'mdlId':_0x135c12['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x6ef0b9(0x203)],'attachment':_0x34ce82});})['catch'](_0x941334=>{const _0xba56ad=_0x4cb2dd;return _0x31cf6b['post']('/services/apexrest'+salesforce_request_1['namespace']+_0xba56ad(0x211),{'mdlId':_0x135c12[_0xba56ad(0x20d)],'opType':salesforce_request_type_1[_0xba56ad(0x1d9)][_0xba56ad(0x1fc)],'message':_0x941334[_0xba56ad(0x1d3)]||_0x941334});})[_0x4cb2dd(0x1ee)](_0x3c67a6=>logger[_0x4cb2dd(0x202)](_0x3c67a6['message'])),{'message':_0x4cb2dd(0x20b)};}async[a101_0x4fafdb(0x1df)](_0x55ea3d){const _0x2192ff=a101_0x4fafdb,_0x551a17=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x2192ff(0x1dd)]['getAuthParameters'](_0x55ea3d['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x2192ff(0x1df)])(_0x55ea3d,_0x551a17)[_0x2192ff(0x1e5)](_0x707896=>{const _0x440b7e=_0x2192ff;return _0x551a17['post']('/services/apexrest'+salesforce_request_1[_0x440b7e(0x208)]+_0x440b7e(0x211),{'mdlId':_0x55ea3d[_0x440b7e(0x20d)],'asyncId':_0x707896,'opType':salesforce_request_type_1['OptionType']['DEPLOY']});})[_0x2192ff(0x1ee)](_0x234431=>{const _0x53337e=_0x2192ff;return _0x551a17['post'](_0x53337e(0x1e7)+salesforce_request_1[_0x53337e(0x208)]+_0x53337e(0x211),{'mdlId':_0x55ea3d[_0x53337e(0x20d)],'opType':salesforce_request_type_1[_0x53337e(0x1d9)][_0x53337e(0x1fc)],'message':_0x234431[_0x53337e(0x1d3)]||_0x234431});})['catch'](_0x11b83a=>logger[_0x2192ff(0x202)](_0x11b83a[_0x2192ff(0x1d3)])),{'message':_0x2192ff(0x20b)};}};function a101_0x704f(_0x49ceb9,_0x520603){const _0x27f3fd=a101_0x2ec8();return a101_0x704f=function(_0x4b6bf5,_0x423f3e){_0x4b6bf5=_0x4b6bf5-0x1cc;let _0x2ec8ff=_0x27f3fd[_0x4b6bf5];return _0x2ec8ff;},a101_0x704f(_0x49ceb9,_0x520603);}function a101_0x2ec8(){const _0x3a3cef=['(((.+)+)+)+$','metadata','generate-deploy-zip','AuthUtils','fetchTestClasses','deployComponents','AuthManager','./services/retrieve-zip.service','design:returntype','Post','__esModule','then','@flosum/salesforce','/services/apexrest','body','retrieveZip','retrieve','post','design:type','toString','catch','search','function','generateAndDeployZip','deploy-components','object','credentials','fetch-test-classes','1543848imniAW','instanceUrl','AxiosInstanceUtils','GET_TESTS','Controller','Logger','ERROR','303264sHdFSr','Version','server','createRequest','prototype','error','SAVE_DEPLOY_ZIP','493661SvDHwC','FunctionsController','16878ljmfIg','4bjPLdO','namespace','446124CWyBla','design:paramtypes','Job\x20started\x20successfully','apply','metadataLogId','../shared/managers/auth.manager','create','decorate','/async','./services/generate-zip.service','733275ryKNDk','getAuthParameters','./services/fetch-test-classes.service','param','getOwnPropertyDescriptor','functions','length','./services/deploy-attachment.service','./types/salesforce-request.type','message','../../core','SAVE_BACKUP_ZIP','617807gXBEeL','./utils/auth.utils','15tErsoe','OptionType'];a101_0x2ec8=function(){return _0x3a3cef;};return a101_0x2ec8();}__decorate([(0x0,core_1[a101_0x4fafdb(0x1e3)])(a101_0x4fafdb(0x1ea)),__param(0x0,core_1['param']['body']()),__metadata(a101_0x4fafdb(0x1ec),Function),__metadata('design:paramtypes',[Object]),__metadata(a101_0x4fafdb(0x1e2),Promise)],FunctionsController[a101_0x4fafdb(0x201)],a101_0x4fafdb(0x1e9),null),__decorate([(0x0,core_1[a101_0x4fafdb(0x1e3)])(a101_0x4fafdb(0x1f5)),__param(0x0,core_1[a101_0x4fafdb(0x1cd)][a101_0x4fafdb(0x1e8)]()),__metadata('design:type',Function),__metadata(a101_0x4fafdb(0x20a),[Object]),__metadata(a101_0x4fafdb(0x1e2),Promise)],FunctionsController[a101_0x4fafdb(0x201)],a101_0x4fafdb(0x1de),null),__decorate([(0x0,core_1[a101_0x4fafdb(0x1e3)])(a101_0x4fafdb(0x1dc)),__param(0x0,core_1[a101_0x4fafdb(0x1cd)][a101_0x4fafdb(0x1e8)]()),__metadata(a101_0x4fafdb(0x1ec),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a101_0x4fafdb(0x201)],'generateAndDeployZip',null),__decorate([(0x0,core_1[a101_0x4fafdb(0x1e3)])(a101_0x4fafdb(0x1f2)),__param(0x0,core_1[a101_0x4fafdb(0x1cd)][a101_0x4fafdb(0x1e8)]()),__metadata(a101_0x4fafdb(0x1ec),Function),__metadata('design:paramtypes',[Object]),__metadata(a101_0x4fafdb(0x1e2),Promise)],FunctionsController[a101_0x4fafdb(0x201)],a101_0x4fafdb(0x1df),null),FunctionsController=__decorate([(0x0,core_1[a101_0x4fafdb(0x1fa)])(a101_0x4fafdb(0x1cf)),(0x0,core_1[a101_0x4fafdb(0x1fe)])('v1')],FunctionsController),exports[a101_0x4fafdb(0x205)]=FunctionsController;