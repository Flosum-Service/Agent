const a83_0x34be7f=a83_0x1f5f;(function(_0x3b5088,_0x664178){const _0x1dd584=a83_0x1f5f,_0x445022=_0x3b5088();while(!![]){try{const _0x22f9a4=-parseInt(_0x1dd584(0xdb))/0x1+-parseInt(_0x1dd584(0xf2))/0x2+-parseInt(_0x1dd584(0xf4))/0x3+-parseInt(_0x1dd584(0xb5))/0x4*(-parseInt(_0x1dd584(0xd6))/0x5)+parseInt(_0x1dd584(0xd9))/0x6*(-parseInt(_0x1dd584(0xf6))/0x7)+parseInt(_0x1dd584(0xef))/0x8+-parseInt(_0x1dd584(0xb6))/0x9*(-parseInt(_0x1dd584(0xd5))/0xa);if(_0x22f9a4===_0x664178)break;else _0x445022['push'](_0x445022['shift']());}catch(_0x47c6c1){_0x445022['push'](_0x445022['shift']());}}}(a83_0x22b7,0x2392c));const a83_0x47928f=(function(){let _0xb6eeb8=!![];return function(_0x439ce,_0x227db1){const _0x27ac93=_0xb6eeb8?function(){const _0x1860d5=a83_0x1f5f;if(_0x227db1){const _0x5c7afa=_0x227db1[_0x1860d5(0xc0)](_0x439ce,arguments);return _0x227db1=null,_0x5c7afa;}}:function(){};return _0xb6eeb8=![],_0x27ac93;};}()),a83_0xed317b=a83_0x47928f(this,function(){const _0x4a8437=a83_0x1f5f;return a83_0xed317b[_0x4a8437(0xbf)]()['search']('(((.+)+)+)+$')[_0x4a8437(0xbf)]()[_0x4a8437(0xda)](a83_0xed317b)[_0x4a8437(0xb9)](_0x4a8437(0xe4));});function a83_0x22b7(){const _0x263435=['./services/deploy-attachment.service','../../core','./services/generate-zip.service','Post','20ANyMjc','1406675pXRIya','generate-deploy-zip','metadataLogId','174BvFQWW','constructor','21901WLCQcE','__param','body','server','decorate','design:type','message','fetch-test-classes','generateAndDeployZip','(((.+)+)+)+$','getAuthParameters','param','then','defineProperty','./types/salesforce-request.type','OptionType','prototype','error','createRequest','catch','765248LglDjh','FunctionsController','namespace','565948WkdkyP','GET_TESTS','37506tGaSLf','./services/retrieve-zip.service','22554unIZvK','Job\x20started\x20successfully','4MNLWdC','807894vdutGr','instanceUrl','__esModule','search','post','Logger','SAVE_DEPLOY_ZIP','/services/apexrest','design:returntype','toString','apply','/async','AuthUtils','length','object','retrieve','function','DEPLOY','design:paramtypes','functions','fetchTestClasses','retrieveZip','Version','ERROR','./utils/auth.utils','metadata','deployComponents'];a83_0x22b7=function(){return _0x263435;};return a83_0x22b7();}a83_0xed317b();function a83_0x1f5f(_0x269c8f,_0x14bb5b){const _0x1796b2=a83_0x22b7();return a83_0x1f5f=function(_0xed317b,_0x47928f){_0xed317b=_0xed317b-0xb5;let _0x22b799=_0x1796b2[_0xed317b];return _0x22b799;},a83_0x1f5f(_0x269c8f,_0x14bb5b);}'use strict';var __decorate=this&&this['__decorate']||function(_0x8dbbdc,_0x72c59b,_0x182631,_0x27edb1){const _0x2be175=a83_0x1f5f;var _0x2776ec=arguments[_0x2be175(0xc3)],_0x1af084=_0x2776ec<0x3?_0x72c59b:_0x27edb1===null?_0x27edb1=Object['getOwnPropertyDescriptor'](_0x72c59b,_0x182631):_0x27edb1,_0x3a1225;if(typeof Reflect===_0x2be175(0xc4)&&typeof Reflect[_0x2be175(0xdf)]===_0x2be175(0xc6))_0x1af084=Reflect[_0x2be175(0xdf)](_0x8dbbdc,_0x72c59b,_0x182631,_0x27edb1);else{for(var _0x454172=_0x8dbbdc['length']-0x1;_0x454172>=0x0;_0x454172--)if(_0x3a1225=_0x8dbbdc[_0x454172])_0x1af084=(_0x2776ec<0x3?_0x3a1225(_0x1af084):_0x2776ec>0x3?_0x3a1225(_0x72c59b,_0x182631,_0x1af084):_0x3a1225(_0x72c59b,_0x182631))||_0x1af084;}return _0x2776ec>0x3&&_0x1af084&&Object['defineProperty'](_0x72c59b,_0x182631,_0x1af084),_0x1af084;},__metadata=this&&this['__metadata']||function(_0x575aaf,_0x5e431e){const _0x10421f=a83_0x1f5f;if(typeof Reflect===_0x10421f(0xc4)&&typeof Reflect[_0x10421f(0xcf)]===_0x10421f(0xc6))return Reflect[_0x10421f(0xcf)](_0x575aaf,_0x5e431e);},__param=this&&this[a83_0x34be7f(0xdc)]||function(_0x45e593,_0x1ba513){return function(_0x38923f,_0x3f0645){_0x1ba513(_0x38923f,_0x3f0645,_0x45e593);};};Object[a83_0x34be7f(0xe8)](exports,a83_0x34be7f(0xb8),{'value':!![]}),exports[a83_0x34be7f(0xf0)]=void 0x0;const core_1=require(a83_0x34be7f(0xd2)),salesforce_request_type_1=require(a83_0x34be7f(0xe9)),retrieve_zip_service_1=require(a83_0x34be7f(0xf5)),generate_zip_service_1=require(a83_0x34be7f(0xd3)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a83_0x34be7f(0xd1)),salesforce_request_1=require('./utils/salesforce-request'),auth_utils_1=require(a83_0x34be7f(0xce)),logger=new core_1[(a83_0x34be7f(0xbb))](a83_0x34be7f(0xde));let FunctionsController=class FunctionsController{async[a83_0x34be7f(0xcb)](_0x3f64b2){const _0x59cecc=a83_0x34be7f,_0x6b1900=(0x0,salesforce_request_1[_0x59cecc(0xed)])(auth_utils_1[_0x59cecc(0xc2)][_0x59cecc(0xe5)](_0x3f64b2['instanceUrl']));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x3f64b2,_0x6b1900)[_0x59cecc(0xe7)](()=>{const _0x7e3b51=_0x59cecc;return _0x6b1900['post'](_0x7e3b51(0xbd)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x3f64b2[_0x7e3b51(0xd8)],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})[_0x59cecc(0xee)](_0x5e9d4f=>{const _0x3cc172=_0x59cecc;return _0x6b1900[_0x3cc172(0xba)](_0x3cc172(0xbd)+salesforce_request_1[_0x3cc172(0xf1)]+_0x3cc172(0xc1),{'mdlId':_0x3f64b2[_0x3cc172(0xd8)],'opType':salesforce_request_type_1['OptionType'][_0x3cc172(0xcd)],'message':_0x5e9d4f['message']||_0x5e9d4f});})[_0x59cecc(0xee)](_0x5bbe42=>logger[_0x59cecc(0xec)](_0x5bbe42[_0x59cecc(0xe1)])),{'message':_0x59cecc(0xf7)};}async[a83_0x34be7f(0xca)](_0x49f0bd){const _0x277572=a83_0x34be7f,_0x54b2c6=(0x0,salesforce_request_1[_0x277572(0xed)])(auth_utils_1[_0x277572(0xc2)][_0x277572(0xe5)](_0x49f0bd[_0x277572(0xb7)]));return(0x0,fetch_test_classes_service_1['fetchTestClasses'])(_0x49f0bd,_0x54b2c6)[_0x277572(0xe7)](()=>{const _0x4c0e48=_0x277572;return _0x54b2c6[_0x4c0e48(0xba)](_0x4c0e48(0xbd)+salesforce_request_1[_0x4c0e48(0xf1)]+_0x4c0e48(0xc1),{'mdlId':_0x49f0bd[_0x4c0e48(0xd8)],'opType':salesforce_request_type_1[_0x4c0e48(0xea)][_0x4c0e48(0xf3)]});})[_0x277572(0xee)](_0x55eb22=>{const _0x3f1a92=_0x277572;return _0x54b2c6['post']('/services/apexrest'+salesforce_request_1[_0x3f1a92(0xf1)]+_0x3f1a92(0xc1),{'mdlId':_0x49f0bd[_0x3f1a92(0xd8)],'opType':salesforce_request_type_1['OptionType'][_0x3f1a92(0xcd)],'message':_0x55eb22[_0x3f1a92(0xe1)]||_0x55eb22});})[_0x277572(0xee)](_0x23f1b2=>logger[_0x277572(0xec)](_0x23f1b2[_0x277572(0xe1)])),{'message':_0x277572(0xf7)};}async[a83_0x34be7f(0xe3)](_0x33bfe1){const _0x24c726=a83_0x34be7f,_0xcbbbcc=(0x0,salesforce_request_1[_0x24c726(0xed)])(auth_utils_1['AuthUtils'][_0x24c726(0xe5)](_0x33bfe1[_0x24c726(0xb7)]));return(0x0,generate_zip_service_1[_0x24c726(0xe3)])(_0x33bfe1,_0xcbbbcc)[_0x24c726(0xe7)](_0x24cb02=>{const _0x25f47d=_0x24c726;return _0xcbbbcc[_0x25f47d(0xba)](_0x25f47d(0xbd)+salesforce_request_1[_0x25f47d(0xf1)]+_0x25f47d(0xc1),{'mdlId':_0x33bfe1[_0x25f47d(0xd8)],'opType':salesforce_request_type_1['OptionType'][_0x25f47d(0xbc)],'attachment':_0x24cb02});})['catch'](_0x38e774=>{const _0x3c1958=_0x24c726;return _0xcbbbcc['post']('/services/apexrest'+salesforce_request_1['namespace']+_0x3c1958(0xc1),{'mdlId':_0x33bfe1[_0x3c1958(0xd8)],'opType':salesforce_request_type_1[_0x3c1958(0xea)][_0x3c1958(0xcd)],'message':_0x38e774[_0x3c1958(0xe1)]||_0x38e774});})[_0x24c726(0xee)](_0x3fd8f5=>logger[_0x24c726(0xec)](_0x3fd8f5[_0x24c726(0xe1)])),{'message':_0x24c726(0xf7)};}async[a83_0x34be7f(0xd0)](_0x181591){const _0x3e56ef=a83_0x34be7f,_0x14eed4=(0x0,salesforce_request_1[_0x3e56ef(0xed)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x181591[_0x3e56ef(0xb7)]));return(0x0,deploy_attachment_service_1[_0x3e56ef(0xd0)])(_0x181591,_0x14eed4)[_0x3e56ef(0xe7)](_0x20e22c=>{const _0x5bc6db=_0x3e56ef;return _0x14eed4[_0x5bc6db(0xba)]('/services/apexrest'+salesforce_request_1[_0x5bc6db(0xf1)]+_0x5bc6db(0xc1),{'mdlId':_0x181591[_0x5bc6db(0xd8)],'asyncId':_0x20e22c,'opType':salesforce_request_type_1[_0x5bc6db(0xea)][_0x5bc6db(0xc7)]});})[_0x3e56ef(0xee)](_0x6b949d=>{const _0x4ba0c0=_0x3e56ef;return _0x14eed4[_0x4ba0c0(0xba)](_0x4ba0c0(0xbd)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x181591[_0x4ba0c0(0xd8)],'opType':salesforce_request_type_1[_0x4ba0c0(0xea)][_0x4ba0c0(0xcd)],'message':_0x6b949d[_0x4ba0c0(0xe1)]||_0x6b949d});})[_0x3e56ef(0xee)](_0x596427=>logger[_0x3e56ef(0xec)](_0x596427['message'])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1[a83_0x34be7f(0xd4)])(a83_0x34be7f(0xc5)),__param(0x0,core_1[a83_0x34be7f(0xe6)]['body']()),__metadata('design:type',Function),__metadata(a83_0x34be7f(0xc8),[Object]),__metadata(a83_0x34be7f(0xbe),Promise)],FunctionsController[a83_0x34be7f(0xeb)],a83_0x34be7f(0xcb),null),__decorate([(0x0,core_1['Post'])(a83_0x34be7f(0xe2)),__param(0x0,core_1[a83_0x34be7f(0xe6)][a83_0x34be7f(0xdd)]()),__metadata(a83_0x34be7f(0xe0),Function),__metadata(a83_0x34be7f(0xc8),[Object]),__metadata(a83_0x34be7f(0xbe),Promise)],FunctionsController[a83_0x34be7f(0xeb)],a83_0x34be7f(0xca),null),__decorate([(0x0,core_1[a83_0x34be7f(0xd4)])(a83_0x34be7f(0xd7)),__param(0x0,core_1[a83_0x34be7f(0xe6)]['body']()),__metadata('design:type',Function),__metadata(a83_0x34be7f(0xc8),[Object]),__metadata(a83_0x34be7f(0xbe),Promise)],FunctionsController[a83_0x34be7f(0xeb)],a83_0x34be7f(0xe3),null),__decorate([(0x0,core_1[a83_0x34be7f(0xd4)])('deploy-components'),__param(0x0,core_1['param']['body']()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x34be7f(0xbe),Promise)],FunctionsController[a83_0x34be7f(0xeb)],a83_0x34be7f(0xd0),null),FunctionsController=__decorate([(0x0,core_1['Controller'])(a83_0x34be7f(0xc9)),(0x0,core_1[a83_0x34be7f(0xcc)])('v1')],FunctionsController),exports[a83_0x34be7f(0xf0)]=FunctionsController;