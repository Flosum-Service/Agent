const a82_0x113f8b=a82_0x3dc3;(function(_0x36ea3b,_0x1d6a04){const _0x1c506b=a82_0x3dc3,_0x4e072b=_0x36ea3b();while(!![]){try{const _0x400547=-parseInt(_0x1c506b(0xef))/0x1+-parseInt(_0x1c506b(0xed))/0x2+parseInt(_0x1c506b(0xcd))/0x3+parseInt(_0x1c506b(0xd9))/0x4*(-parseInt(_0x1c506b(0xe5))/0x5)+-parseInt(_0x1c506b(0xf8))/0x6*(parseInt(_0x1c506b(0xe3))/0x7)+-parseInt(_0x1c506b(0xe8))/0x8+parseInt(_0x1c506b(0x109))/0x9*(parseInt(_0x1c506b(0xe1))/0xa);if(_0x400547===_0x1d6a04)break;else _0x4e072b['push'](_0x4e072b['shift']());}catch(_0x4ab28b){_0x4e072b['push'](_0x4e072b['shift']());}}}(a82_0x3f1f,0x6b609));const a82_0x3155bf=(function(){let _0x25295c=!![];return function(_0x27cb06,_0x2db1b9){const _0x20f629=_0x25295c?function(){const _0x188c37=a82_0x3dc3;if(_0x2db1b9){const _0x39e118=_0x2db1b9[_0x188c37(0xd8)](_0x27cb06,arguments);return _0x2db1b9=null,_0x39e118;}}:function(){};return _0x25295c=![],_0x20f629;};}()),a82_0x1e175a=a82_0x3155bf(this,function(){const _0x5c9172=a82_0x3dc3;return a82_0x1e175a['toString']()['search'](_0x5c9172(0xc8))['toString']()[_0x5c9172(0xda)](a82_0x1e175a)[_0x5c9172(0xe6)](_0x5c9172(0xc8));});function a82_0x3dc3(_0x893a7c,_0x36af29){const _0xbef6c2=a82_0x3f1f();return a82_0x3dc3=function(_0x1e175a,_0x3155bf){_0x1e175a=_0x1e175a-0xc3;let _0x3f1f76=_0xbef6c2[_0x1e175a];return _0x3f1f76;},a82_0x3dc3(_0x893a7c,_0x36af29);}a82_0x1e175a();'use strict';var __decorate=this&&this[a82_0x113f8b(0xe2)]||function(_0x1b7566,_0x33361c,_0x135476,_0x1c1782){const _0x421b49=a82_0x113f8b;var _0x23360a=arguments[_0x421b49(0xd1)],_0xe03afd=_0x23360a<0x3?_0x33361c:_0x1c1782===null?_0x1c1782=Object[_0x421b49(0xf7)](_0x33361c,_0x135476):_0x1c1782,_0x17e94c;if(typeof Reflect===_0x421b49(0xc7)&&typeof Reflect[_0x421b49(0x101)]===_0x421b49(0x103))_0xe03afd=Reflect[_0x421b49(0x101)](_0x1b7566,_0x33361c,_0x135476,_0x1c1782);else{for(var _0x10767c=_0x1b7566[_0x421b49(0xd1)]-0x1;_0x10767c>=0x0;_0x10767c--)if(_0x17e94c=_0x1b7566[_0x10767c])_0xe03afd=(_0x23360a<0x3?_0x17e94c(_0xe03afd):_0x23360a>0x3?_0x17e94c(_0x33361c,_0x135476,_0xe03afd):_0x17e94c(_0x33361c,_0x135476))||_0xe03afd;}return _0x23360a>0x3&&_0xe03afd&&Object[_0x421b49(0xf1)](_0x33361c,_0x135476,_0xe03afd),_0xe03afd;},__metadata=this&&this[a82_0x113f8b(0xd7)]||function(_0x4dafe8,_0x1c04ba){const _0x2fb7f1=a82_0x113f8b;if(typeof Reflect===_0x2fb7f1(0xc7)&&typeof Reflect[_0x2fb7f1(0xdf)]===_0x2fb7f1(0x103))return Reflect[_0x2fb7f1(0xdf)](_0x4dafe8,_0x1c04ba);},__param=this&&this[a82_0x113f8b(0xd3)]||function(_0x3d9a33,_0x3ebdcc){return function(_0x2dc596,_0x2abd01){_0x3ebdcc(_0x2dc596,_0x2abd01,_0x3d9a33);};};Object[a82_0x113f8b(0xf1)](exports,a82_0x113f8b(0xdb),{'value':!![]}),exports[a82_0x113f8b(0xd6)]=void 0x0;function a82_0x3f1f(){const _0x507719=['GET_TESTS','length','/services/apexrest','__param','deployComponents','Job\x20started\x20successfully','FunctionsController','__metadata','apply','692AKKhij','constructor','__esModule','body','design:paramtypes','instanceUrl','metadata','fetchTestClasses','20WbVwss','__decorate','5641027tgfVFa','namespace','13325FoWFuX','search','generateAndDeployZip','5158832PUInvG','ERROR','server','fetch-test-classes','createRequest','1718330lrqThE','param','391015ulnEQF','OptionType','defineProperty','SAVE_BACKUP_ZIP','retrieve','functions','design:type','retrieveZip','getOwnPropertyDescriptor','6pAlBGG','generate-deploy-zip','./utils/auth.utils','post','Controller','Post','getAuthParameters','../../core','metadataLogId','decorate','catch','function','./utils/salesforce-request','./services/retrieve-zip.service','DEPLOY','deploy-components','design:returntype','12596355KkeFMo','AuthUtils','message','then','SAVE_DEPLOY_ZIP','object','(((.+)+)+)+$','./services/deploy-attachment.service','./types/salesforce-request.type','/async','prototype','2407701jekpRQ','error','./services/fetch-test-classes.service'];a82_0x3f1f=function(){return _0x507719;};return a82_0x3f1f();}const core_1=require(a82_0x113f8b(0xff)),salesforce_request_type_1=require(a82_0x113f8b(0xca)),retrieve_zip_service_1=require(a82_0x113f8b(0x105)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a82_0x113f8b(0xcf)),deploy_attachment_service_1=require(a82_0x113f8b(0xc9)),salesforce_request_1=require(a82_0x113f8b(0x104)),auth_utils_1=require(a82_0x113f8b(0xfa)),logger=new core_1['Logger'](a82_0x113f8b(0xea));let FunctionsController=class FunctionsController{async[a82_0x113f8b(0xf6)](_0x3c73e4){const _0x4696ae=a82_0x113f8b,_0x704a0b=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4696ae(0xc3)][_0x4696ae(0xfe)](_0x3c73e4[_0x4696ae(0xde)]));return(0x0,retrieve_zip_service_1[_0x4696ae(0xf6)])(_0x3c73e4,_0x704a0b)[_0x4696ae(0xc5)](()=>{const _0x9fb5d2=_0x4696ae;return _0x704a0b[_0x9fb5d2(0xfb)]('/services/apexrest'+salesforce_request_1['namespace']+'/async',{'mdlId':_0x3c73e4[_0x9fb5d2(0x100)],'opType':salesforce_request_type_1[_0x9fb5d2(0xf0)][_0x9fb5d2(0xf2)]});})['catch'](_0x49efb2=>{const _0x1b07fe=_0x4696ae;return _0x704a0b['post'](_0x1b07fe(0xd2)+salesforce_request_1['namespace']+_0x1b07fe(0xcb),{'mdlId':_0x3c73e4[_0x1b07fe(0x100)],'opType':salesforce_request_type_1[_0x1b07fe(0xf0)][_0x1b07fe(0xe9)],'message':_0x49efb2[_0x1b07fe(0xc4)]||_0x49efb2});})[_0x4696ae(0x102)](_0x1babc2=>logger[_0x4696ae(0xce)](_0x1babc2['message'])),{'message':_0x4696ae(0xd5)};}async[a82_0x113f8b(0xe0)](_0x23d52b){const _0x17972d=a82_0x113f8b,_0x3243f7=(0x0,salesforce_request_1[_0x17972d(0xec)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x23d52b['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x17972d(0xe0)])(_0x23d52b,_0x3243f7)[_0x17972d(0xc5)](()=>{const _0x8c8a64=_0x17972d;return _0x3243f7[_0x8c8a64(0xfb)](_0x8c8a64(0xd2)+salesforce_request_1[_0x8c8a64(0xe4)]+'/async',{'mdlId':_0x23d52b[_0x8c8a64(0x100)],'opType':salesforce_request_type_1['OptionType'][_0x8c8a64(0xd0)]});})[_0x17972d(0x102)](_0x2bafb9=>{const _0xcec739=_0x17972d;return _0x3243f7[_0xcec739(0xfb)](_0xcec739(0xd2)+salesforce_request_1['namespace']+_0xcec739(0xcb),{'mdlId':_0x23d52b[_0xcec739(0x100)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x2bafb9[_0xcec739(0xc4)]||_0x2bafb9});})[_0x17972d(0x102)](_0x1284ba=>logger[_0x17972d(0xce)](_0x1284ba[_0x17972d(0xc4)])),{'message':'Job\x20started\x20successfully'};}async[a82_0x113f8b(0xe7)](_0x5c7a73){const _0x56f04a=a82_0x113f8b,_0x5a04a2=(0x0,salesforce_request_1[_0x56f04a(0xec)])(auth_utils_1[_0x56f04a(0xc3)][_0x56f04a(0xfe)](_0x5c7a73[_0x56f04a(0xde)]));return(0x0,generate_zip_service_1[_0x56f04a(0xe7)])(_0x5c7a73,_0x5a04a2)[_0x56f04a(0xc5)](_0x3ddba5=>{const _0x5043e5=_0x56f04a;return _0x5a04a2[_0x5043e5(0xfb)](_0x5043e5(0xd2)+salesforce_request_1[_0x5043e5(0xe4)]+_0x5043e5(0xcb),{'mdlId':_0x5c7a73['metadataLogId'],'opType':salesforce_request_type_1[_0x5043e5(0xf0)][_0x5043e5(0xc6)],'attachment':_0x3ddba5});})[_0x56f04a(0x102)](_0x4125aa=>{const _0x56ce6a=_0x56f04a;return _0x5a04a2[_0x56ce6a(0xfb)](_0x56ce6a(0xd2)+salesforce_request_1[_0x56ce6a(0xe4)]+_0x56ce6a(0xcb),{'mdlId':_0x5c7a73[_0x56ce6a(0x100)],'opType':salesforce_request_type_1[_0x56ce6a(0xf0)][_0x56ce6a(0xe9)],'message':_0x4125aa[_0x56ce6a(0xc4)]||_0x4125aa});})[_0x56f04a(0x102)](_0xbef595=>logger['error'](_0xbef595[_0x56f04a(0xc4)])),{'message':'Job\x20started\x20successfully'};}async[a82_0x113f8b(0xd4)](_0x509156){const _0x4842=a82_0x113f8b,_0x264854=(0x0,salesforce_request_1[_0x4842(0xec)])(auth_utils_1[_0x4842(0xc3)]['getAuthParameters'](_0x509156[_0x4842(0xde)]));return(0x0,deploy_attachment_service_1[_0x4842(0xd4)])(_0x509156,_0x264854)['then'](_0x15f2ab=>{const _0x2146ea=_0x4842;return _0x264854[_0x2146ea(0xfb)](_0x2146ea(0xd2)+salesforce_request_1[_0x2146ea(0xe4)]+_0x2146ea(0xcb),{'mdlId':_0x509156['metadataLogId'],'asyncId':_0x15f2ab,'opType':salesforce_request_type_1['OptionType'][_0x2146ea(0x106)]});})[_0x4842(0x102)](_0x408b04=>{const _0x4750c0=_0x4842;return _0x264854[_0x4750c0(0xfb)](_0x4750c0(0xd2)+salesforce_request_1['namespace']+_0x4750c0(0xcb),{'mdlId':_0x509156[_0x4750c0(0x100)],'opType':salesforce_request_type_1[_0x4750c0(0xf0)][_0x4750c0(0xe9)],'message':_0x408b04[_0x4750c0(0xc4)]||_0x408b04});})[_0x4842(0x102)](_0x26ec5d=>logger[_0x4842(0xce)](_0x26ec5d[_0x4842(0xc4)])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1['Post'])(a82_0x113f8b(0xf3)),__param(0x0,core_1[a82_0x113f8b(0xee)][a82_0x113f8b(0xdc)]()),__metadata(a82_0x113f8b(0xf5),Function),__metadata(a82_0x113f8b(0xdd),[Object]),__metadata(a82_0x113f8b(0x108),Promise)],FunctionsController[a82_0x113f8b(0xcc)],a82_0x113f8b(0xf6),null),__decorate([(0x0,core_1['Post'])(a82_0x113f8b(0xeb)),__param(0x0,core_1[a82_0x113f8b(0xee)][a82_0x113f8b(0xdc)]()),__metadata(a82_0x113f8b(0xf5),Function),__metadata(a82_0x113f8b(0xdd),[Object]),__metadata(a82_0x113f8b(0x108),Promise)],FunctionsController[a82_0x113f8b(0xcc)],a82_0x113f8b(0xe0),null),__decorate([(0x0,core_1[a82_0x113f8b(0xfd)])(a82_0x113f8b(0xf9)),__param(0x0,core_1[a82_0x113f8b(0xee)][a82_0x113f8b(0xdc)]()),__metadata(a82_0x113f8b(0xf5),Function),__metadata(a82_0x113f8b(0xdd),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a82_0x113f8b(0xcc)],a82_0x113f8b(0xe7),null),__decorate([(0x0,core_1['Post'])(a82_0x113f8b(0x107)),__param(0x0,core_1[a82_0x113f8b(0xee)]['body']()),__metadata(a82_0x113f8b(0xf5),Function),__metadata(a82_0x113f8b(0xdd),[Object]),__metadata(a82_0x113f8b(0x108),Promise)],FunctionsController[a82_0x113f8b(0xcc)],a82_0x113f8b(0xd4),null),FunctionsController=__decorate([(0x0,core_1[a82_0x113f8b(0xfc)])(a82_0x113f8b(0xf4)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a82_0x113f8b(0xd6)]=FunctionsController;