const a51_0x17ae3d=a51_0x19a6;(function(_0x2f9fe2,_0x10de22){const _0x106432=a51_0x19a6,_0x3d3a27=_0x2f9fe2();while(!![]){try{const _0x33f586=-parseInt(_0x106432(0xa0))/0x1*(-parseInt(_0x106432(0xa1))/0x2)+-parseInt(_0x106432(0x9f))/0x3+parseInt(_0x106432(0xb6))/0x4*(parseInt(_0x106432(0xd5))/0x5)+parseInt(_0x106432(0xd0))/0x6*(-parseInt(_0x106432(0xad))/0x7)+-parseInt(_0x106432(0xa2))/0x8+parseInt(_0x106432(0xd7))/0x9+parseInt(_0x106432(0xc2))/0xa*(parseInt(_0x106432(0xba))/0xb);if(_0x33f586===_0x10de22)break;else _0x3d3a27['push'](_0x3d3a27['shift']());}catch(_0x2152ff){_0x3d3a27['push'](_0x3d3a27['shift']());}}}(a51_0x3b9a,0x21891));const a51_0x5eb7c7=(function(){let _0x2209d3=!![];return function(_0x1b7bc0,_0x4ed00c){const _0xb0762f=_0x2209d3?function(){const _0x4efc5a=a51_0x19a6;if(_0x4ed00c){const _0x1a1ad6=_0x4ed00c[_0x4efc5a(0xaa)](_0x1b7bc0,arguments);return _0x4ed00c=null,_0x1a1ad6;}}:function(){};return _0x2209d3=![],_0xb0762f;};}()),a51_0x11dfc8=a51_0x5eb7c7(this,function(){const _0x4cade9=a51_0x19a6;return a51_0x11dfc8[_0x4cade9(0xa7)]()[_0x4cade9(0xac)](_0x4cade9(0xab))['toString']()[_0x4cade9(0xc5)](a51_0x11dfc8)[_0x4cade9(0xac)]('(((.+)+)+)+$');});a51_0x11dfc8();'use strict';var __decorate=this&&this[a51_0x17ae3d(0xb7)]||function(_0x1ada16,_0x5d1376,_0x4a9053,_0x1254a3){const _0x565a3a=a51_0x17ae3d;var _0x369d23=arguments['length'],_0x280492=_0x369d23<0x3?_0x5d1376:_0x1254a3===null?_0x1254a3=Object['getOwnPropertyDescriptor'](_0x5d1376,_0x4a9053):_0x1254a3,_0x3e851b;if(typeof Reflect==='object'&&typeof Reflect[_0x565a3a(0xa4)]==='function')_0x280492=Reflect[_0x565a3a(0xa4)](_0x1ada16,_0x5d1376,_0x4a9053,_0x1254a3);else{for(var _0x24c1e0=_0x1ada16['length']-0x1;_0x24c1e0>=0x0;_0x24c1e0--)if(_0x3e851b=_0x1ada16[_0x24c1e0])_0x280492=(_0x369d23<0x3?_0x3e851b(_0x280492):_0x369d23>0x3?_0x3e851b(_0x5d1376,_0x4a9053,_0x280492):_0x3e851b(_0x5d1376,_0x4a9053))||_0x280492;}return _0x369d23>0x3&&_0x280492&&Object[_0x565a3a(0x97)](_0x5d1376,_0x4a9053,_0x280492),_0x280492;},__metadata=this&&this[a51_0x17ae3d(0xbc)]||function(_0x294af6,_0x2f30e8){const _0x2df544=a51_0x17ae3d;if(typeof Reflect===_0x2df544(0xcd)&&typeof Reflect[_0x2df544(0xbe)]===_0x2df544(0xb4))return Reflect[_0x2df544(0xbe)](_0x294af6,_0x2f30e8);},__param=this&&this[a51_0x17ae3d(0xb3)]||function(_0x4a2b44,_0x1a2d2c){return function(_0x111cd7,_0x3af10a){_0x1a2d2c(_0x111cd7,_0x3af10a,_0x4a2b44);};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a51_0x17ae3d(0xce)]=void 0x0;const core_1=require(a51_0x17ae3d(0xc6)),salesforce_request_type_1=require(a51_0x17ae3d(0xc1)),retrieve_zip_service_1=require('./services/retrieve-zip.service'),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a51_0x17ae3d(0x98)),deploy_attachment_service_1=require(a51_0x17ae3d(0xb5)),salesforce_request_1=require(a51_0x17ae3d(0xd2)),auth_utils_1=require(a51_0x17ae3d(0xb2)),logger=new core_1[(a51_0x17ae3d(0xcb))](a51_0x17ae3d(0xa6));let FunctionsController=class FunctionsController{async[a51_0x17ae3d(0xd4)](_0x5d20c6){const _0x35eb77=a51_0x17ae3d,_0x13bc2f=(0x0,salesforce_request_1[_0x35eb77(0xc0)])(auth_utils_1['AuthUtils'][_0x35eb77(0xae)](_0x5d20c6[_0x35eb77(0x9b)]));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x5d20c6,_0x13bc2f)['then'](()=>{const _0x28312a=_0x35eb77;return _0x13bc2f['post'](_0x28312a(0xc3)+salesforce_request_1[_0x28312a(0x9c)]+_0x28312a(0x9e),{'mdlId':_0x5d20c6[_0x28312a(0x99)],'opType':salesforce_request_type_1[_0x28312a(0x9a)][_0x28312a(0xc9)]});})['catch'](_0x1ad2c3=>{const _0x5e2c0e=_0x35eb77;return _0x13bc2f[_0x5e2c0e(0xb0)](_0x5e2c0e(0xc3)+salesforce_request_1[_0x5e2c0e(0x9c)]+_0x5e2c0e(0x9e),{'mdlId':_0x5d20c6[_0x5e2c0e(0x99)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0x1ad2c3[_0x5e2c0e(0xd9)]||_0x1ad2c3});})['catch'](_0x507ac5=>logger['error'](_0x507ac5[_0x35eb77(0xd9)])),{'message':'Job\x20started\x20successfully'};}async[a51_0x17ae3d(0xc8)](_0x3649d5){const _0x621f45=a51_0x17ae3d,_0x35f4ec=(0x0,salesforce_request_1[_0x621f45(0xc0)])(auth_utils_1[_0x621f45(0x96)][_0x621f45(0xae)](_0x3649d5[_0x621f45(0x9b)]));return(0x0,fetch_test_classes_service_1[_0x621f45(0xc8)])(_0x3649d5,_0x35f4ec)[_0x621f45(0xd6)](()=>{const _0x26f1d6=_0x621f45;return _0x35f4ec[_0x26f1d6(0xb0)]('/services/apexrest'+salesforce_request_1['namespace']+_0x26f1d6(0x9e),{'mdlId':_0x3649d5[_0x26f1d6(0x99)],'opType':salesforce_request_type_1[_0x26f1d6(0x9a)]['GET_TESTS']});})['catch'](_0x12bc7f=>{const _0x1488b9=_0x621f45;return _0x35f4ec[_0x1488b9(0xb0)](_0x1488b9(0xc3)+salesforce_request_1['namespace']+_0x1488b9(0x9e),{'mdlId':_0x3649d5['metadataLogId'],'opType':salesforce_request_type_1[_0x1488b9(0x9a)]['ERROR'],'message':_0x12bc7f[_0x1488b9(0xd9)]||_0x12bc7f});})[_0x621f45(0xc4)](_0x210f7a=>logger[_0x621f45(0xa8)](_0x210f7a[_0x621f45(0xd9)])),{'message':_0x621f45(0xd8)};}async[a51_0x17ae3d(0xcc)](_0x596752){const _0x515973=a51_0x17ae3d,_0x2d6df1=(0x0,salesforce_request_1[_0x515973(0xc0)])(auth_utils_1[_0x515973(0x96)]['getAuthParameters'](_0x596752['instanceUrl']));return(0x0,generate_zip_service_1[_0x515973(0xcc)])(_0x596752,_0x2d6df1)[_0x515973(0xd6)](_0x1533c3=>{const _0x16bc0b=_0x515973;return _0x2d6df1[_0x16bc0b(0xb0)](_0x16bc0b(0xc3)+salesforce_request_1[_0x16bc0b(0x9c)]+'/async',{'mdlId':_0x596752[_0x16bc0b(0x99)],'opType':salesforce_request_type_1[_0x16bc0b(0x9a)][_0x16bc0b(0x9d)],'attachment':_0x1533c3});})[_0x515973(0xc4)](_0x50454d=>{const _0x2ad9d0=_0x515973;return _0x2d6df1[_0x2ad9d0(0xb0)](_0x2ad9d0(0xc3)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x596752[_0x2ad9d0(0x99)],'opType':salesforce_request_type_1[_0x2ad9d0(0x9a)][_0x2ad9d0(0xa3)],'message':_0x50454d[_0x2ad9d0(0xd9)]||_0x50454d});})[_0x515973(0xc4)](_0x4ccb0d=>logger[_0x515973(0xa8)](_0x4ccb0d[_0x515973(0xd9)])),{'message':'Job\x20started\x20successfully'};}async[a51_0x17ae3d(0xcf)](_0x178db9){const _0x5705ba=a51_0x17ae3d,_0x84802c=(0x0,salesforce_request_1[_0x5705ba(0xc0)])(auth_utils_1[_0x5705ba(0x96)]['getAuthParameters'](_0x178db9[_0x5705ba(0x9b)]));return(0x0,deploy_attachment_service_1[_0x5705ba(0xcf)])(_0x178db9,_0x84802c)['then'](_0x894bed=>{const _0x5f5c10=_0x5705ba;return _0x84802c[_0x5f5c10(0xb0)](_0x5f5c10(0xc3)+salesforce_request_1[_0x5f5c10(0x9c)]+_0x5f5c10(0x9e),{'mdlId':_0x178db9[_0x5f5c10(0x99)],'asyncId':_0x894bed,'opType':salesforce_request_type_1[_0x5f5c10(0x9a)][_0x5f5c10(0xd3)]});})[_0x5705ba(0xc4)](_0x586d48=>{const _0x1c92c5=_0x5705ba;return _0x84802c[_0x1c92c5(0xb0)](_0x1c92c5(0xc3)+salesforce_request_1[_0x1c92c5(0x9c)]+_0x1c92c5(0x9e),{'mdlId':_0x178db9[_0x1c92c5(0x99)],'opType':salesforce_request_type_1[_0x1c92c5(0x9a)][_0x1c92c5(0xa3)],'message':_0x586d48['message']||_0x586d48});})[_0x5705ba(0xc4)](_0x480ce8=>logger[_0x5705ba(0xa8)](_0x480ce8[_0x5705ba(0xd9)])),{'message':_0x5705ba(0xd8)};}};function a51_0x19a6(_0xd98b5b,_0x1f4af0){const _0x4f7daf=a51_0x3b9a();return a51_0x19a6=function(_0x11dfc8,_0x5eb7c7){_0x11dfc8=_0x11dfc8-0x96;let _0x3b9a5a=_0x4f7daf[_0x11dfc8];return _0x3b9a5a;},a51_0x19a6(_0xd98b5b,_0x1f4af0);}__decorate([(0x0,core_1['Post'])('retrieve'),__param(0x0,core_1['param'][a51_0x17ae3d(0xbb)]()),__metadata(a51_0x17ae3d(0xa5),Function),__metadata(a51_0x17ae3d(0xd1),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x17ae3d(0xb9)],a51_0x17ae3d(0xd4),null),__decorate([(0x0,core_1[a51_0x17ae3d(0xb1)])(a51_0x17ae3d(0xbd)),__param(0x0,core_1[a51_0x17ae3d(0xb8)][a51_0x17ae3d(0xbb)]()),__metadata(a51_0x17ae3d(0xa5),Function),__metadata(a51_0x17ae3d(0xd1),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a51_0x17ae3d(0xb9)],a51_0x17ae3d(0xc8),null),__decorate([(0x0,core_1['Post'])(a51_0x17ae3d(0xa9)),__param(0x0,core_1[a51_0x17ae3d(0xb8)][a51_0x17ae3d(0xbb)]()),__metadata(a51_0x17ae3d(0xa5),Function),__metadata(a51_0x17ae3d(0xd1),[Object]),__metadata(a51_0x17ae3d(0xbf),Promise)],FunctionsController[a51_0x17ae3d(0xb9)],a51_0x17ae3d(0xcc),null),__decorate([(0x0,core_1[a51_0x17ae3d(0xb1)])(a51_0x17ae3d(0xaf)),__param(0x0,core_1[a51_0x17ae3d(0xb8)][a51_0x17ae3d(0xbb)]()),__metadata(a51_0x17ae3d(0xa5),Function),__metadata(a51_0x17ae3d(0xd1),[Object]),__metadata(a51_0x17ae3d(0xbf),Promise)],FunctionsController[a51_0x17ae3d(0xb9)],a51_0x17ae3d(0xcf),null),FunctionsController=__decorate([(0x0,core_1[a51_0x17ae3d(0xc7)])(a51_0x17ae3d(0xca)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;function a51_0x3b9a(){const _0xc15f72=['SAVE_BACKUP_ZIP','functions','Logger','generateAndDeployZip','object','FunctionsController','deployComponents','8220qdWPad','design:paramtypes','./utils/salesforce-request','DEPLOY','retrieveZip','65luRbNn','then','1951506MgjdYl','Job\x20started\x20successfully','message','AuthUtils','defineProperty','./services/fetch-test-classes.service','metadataLogId','OptionType','instanceUrl','namespace','SAVE_DEPLOY_ZIP','/async','483405lgEBQq','1TNBvAL','331882dvZeom','732624pCiFCb','ERROR','decorate','design:type','server','toString','error','generate-deploy-zip','apply','(((.+)+)+)+$','search','1183zNGZJX','getAuthParameters','deploy-components','post','Post','./utils/auth.utils','__param','function','./services/deploy-attachment.service','68452NUsvQY','__decorate','param','prototype','35992FUhEzn','body','__metadata','fetch-test-classes','metadata','design:returntype','createRequest','./types/salesforce-request.type','50yEPgyt','/services/apexrest','catch','constructor','../../core','Controller','fetchTestClasses'];a51_0x3b9a=function(){return _0xc15f72;};return a51_0x3b9a();}