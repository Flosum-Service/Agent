const a102_0xbba703=a102_0x16c3;(function(_0x6fc7a5,_0x3def78){const _0x4cdfcc=a102_0x16c3,_0xb06b6c=_0x6fc7a5();while(!![]){try{const _0x53357a=-parseInt(_0x4cdfcc(0xe9))/0x1+parseInt(_0x4cdfcc(0x103))/0x2+parseInt(_0x4cdfcc(0xfc))/0x3*(parseInt(_0x4cdfcc(0xe8))/0x4)+-parseInt(_0x4cdfcc(0x112))/0x5+-parseInt(_0x4cdfcc(0x114))/0x6*(parseInt(_0x4cdfcc(0xf6))/0x7)+parseInt(_0x4cdfcc(0x11d))/0x8*(-parseInt(_0x4cdfcc(0x110))/0x9)+parseInt(_0x4cdfcc(0xe3))/0xa;if(_0x53357a===_0x3def78)break;else _0xb06b6c['push'](_0xb06b6c['shift']());}catch(_0x4d156c){_0xb06b6c['push'](_0xb06b6c['shift']());}}}(a102_0x2508,0x203da));const a102_0x837bfa=(function(){let _0x1fff2a=!![];return function(_0x55e38a,_0x24581c){const _0x85a33c=_0x1fff2a?function(){const _0x518ff4=a102_0x16c3;if(_0x24581c){const _0x1fb917=_0x24581c[_0x518ff4(0x109)](_0x55e38a,arguments);return _0x24581c=null,_0x1fb917;}}:function(){};return _0x1fff2a=![],_0x85a33c;};}()),a102_0x834685=a102_0x837bfa(this,function(){const _0x3e5e17=a102_0x16c3;return a102_0x834685[_0x3e5e17(0xed)]()[_0x3e5e17(0xf5)](_0x3e5e17(0x106))[_0x3e5e17(0xed)]()['constructor'](a102_0x834685)[_0x3e5e17(0xf5)](_0x3e5e17(0x106));});a102_0x834685();'use strict';var __decorate=this&&this[a102_0xbba703(0xee)]||function(_0x136fc0,_0x58a6a4,_0x23d860,_0x285f0f){const _0x48ec5f=a102_0xbba703;var _0xfed4b7=arguments[_0x48ec5f(0xeb)],_0x26ac57=_0xfed4b7<0x3?_0x58a6a4:_0x285f0f===null?_0x285f0f=Object[_0x48ec5f(0x116)](_0x58a6a4,_0x23d860):_0x285f0f,_0x18e7f6;if(typeof Reflect===_0x48ec5f(0x108)&&typeof Reflect[_0x48ec5f(0xfa)]===_0x48ec5f(0x104))_0x26ac57=Reflect[_0x48ec5f(0xfa)](_0x136fc0,_0x58a6a4,_0x23d860,_0x285f0f);else{for(var _0x101e7f=_0x136fc0[_0x48ec5f(0xeb)]-0x1;_0x101e7f>=0x0;_0x101e7f--)if(_0x18e7f6=_0x136fc0[_0x101e7f])_0x26ac57=(_0xfed4b7<0x3?_0x18e7f6(_0x26ac57):_0xfed4b7>0x3?_0x18e7f6(_0x58a6a4,_0x23d860,_0x26ac57):_0x18e7f6(_0x58a6a4,_0x23d860))||_0x26ac57;}return _0xfed4b7>0x3&&_0x26ac57&&Object[_0x48ec5f(0x123)](_0x58a6a4,_0x23d860,_0x26ac57),_0x26ac57;},__metadata=this&&this[a102_0xbba703(0x111)]||function(_0x8e7f5,_0x3d8dc2){const _0x3b315f=a102_0xbba703;if(typeof Reflect===_0x3b315f(0x108)&&typeof Reflect[_0x3b315f(0xff)]===_0x3b315f(0x104))return Reflect[_0x3b315f(0xff)](_0x8e7f5,_0x3d8dc2);},__param=this&&this[a102_0xbba703(0xec)]||function(_0x1d2b79,_0x329620){return function(_0x1bb0fd,_0x14e1cb){_0x329620(_0x1bb0fd,_0x14e1cb,_0x1d2b79);};};Object[a102_0xbba703(0x123)](exports,a102_0xbba703(0x102),{'value':!![]}),exports[a102_0xbba703(0x10b)]=void 0x0;function a102_0x16c3(_0x23831b,_0x312d40){const _0x2539d1=a102_0x2508();return a102_0x16c3=function(_0x834685,_0x837bfa){_0x834685=_0x834685-0xdd;let _0x250877=_0x2539d1[_0x834685];return _0x250877;},a102_0x16c3(_0x23831b,_0x312d40);}const core_1=require(a102_0xbba703(0x11b)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a102_0xbba703(0xdf)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require('./services/deploy-attachment.service'),salesforce_request_1=require(a102_0xbba703(0x115)),auth_utils_1=require(a102_0xbba703(0xf7)),auth_manager_1=require(a102_0xbba703(0xe6)),salesforce_1=require('@flosum/salesforce'),logger=new core_1[(a102_0xbba703(0xf4))](a102_0xbba703(0x10f));let FunctionsController=class FunctionsController{async[a102_0xbba703(0x121)](_0x57544b){const _0x22ea94=a102_0xbba703,_0x1b1611=(0x0,salesforce_request_1[_0x22ea94(0x107)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x57544b[_0x22ea94(0x10e)])),_0xd25611=await salesforce_1[_0x22ea94(0x11e)]['create'](new auth_manager_1['AuthManager'](_0x57544b[_0x22ea94(0xfb)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,retrieve_zip_service_1[_0x22ea94(0x121)])(_0x57544b,_0x1b1611,_0xd25611)[_0x22ea94(0x100)](()=>{const _0x67d2ab=_0x22ea94;return _0x1b1611[_0x67d2ab(0xf0)](_0x67d2ab(0xfe)+salesforce_request_1[_0x67d2ab(0x118)]+'/async',{'mdlId':_0x57544b[_0x67d2ab(0x120)],'opType':salesforce_request_type_1[_0x67d2ab(0xf2)][_0x67d2ab(0xdd)]});})[_0x22ea94(0x117)](_0xf52ffa=>{const _0xa7dc7b=_0x22ea94;return _0x1b1611[_0xa7dc7b(0xf0)](_0xa7dc7b(0xfe)+salesforce_request_1[_0xa7dc7b(0x118)]+_0xa7dc7b(0xe7),{'mdlId':_0x57544b[_0xa7dc7b(0x120)],'opType':salesforce_request_type_1[_0xa7dc7b(0xf2)]['ERROR'],'message':_0xf52ffa[_0xa7dc7b(0xde)]||_0xf52ffa});})[_0x22ea94(0x117)](_0x347be8=>logger['error'](_0x347be8[_0x22ea94(0xde)])),{'message':_0x22ea94(0xe0)};}async[a102_0xbba703(0xe4)](_0xb1c2e9){const _0x5ace49=a102_0xbba703,_0x376ac5=(0x0,salesforce_request_1[_0x5ace49(0x107)])(auth_utils_1[_0x5ace49(0x105)][_0x5ace49(0x119)](_0xb1c2e9[_0x5ace49(0x10e)]));return(0x0,fetch_test_classes_service_1[_0x5ace49(0xe4)])(_0xb1c2e9,_0x376ac5)[_0x5ace49(0x100)](()=>{const _0x169cdc=_0x5ace49;return _0x376ac5['post'](_0x169cdc(0xfe)+salesforce_request_1[_0x169cdc(0x118)]+_0x169cdc(0xe7),{'mdlId':_0xb1c2e9[_0x169cdc(0x120)],'opType':salesforce_request_type_1[_0x169cdc(0xf2)][_0x169cdc(0xf9)]});})[_0x5ace49(0x117)](_0x816ced=>{const _0x7c2915=_0x5ace49;return _0x376ac5['post']('/services/apexrest'+salesforce_request_1['namespace']+_0x7c2915(0xe7),{'mdlId':_0xb1c2e9[_0x7c2915(0x120)],'opType':salesforce_request_type_1[_0x7c2915(0xf2)]['ERROR'],'message':_0x816ced[_0x7c2915(0xde)]||_0x816ced});})[_0x5ace49(0x117)](_0x2382a3=>logger['error'](_0x2382a3['message'])),{'message':_0x5ace49(0xe0)};}async[a102_0xbba703(0xe2)](_0x5a6807){const _0x5a502f=a102_0xbba703,_0x33ca65=(0x0,salesforce_request_1[_0x5a502f(0x107)])(auth_utils_1['AuthUtils'][_0x5a502f(0x119)](_0x5a6807['instanceUrl'])),_0x3f082d=await salesforce_1[_0x5a502f(0x11e)]['create'](new auth_manager_1[(_0x5a502f(0xe5))](_0x5a6807[_0x5a502f(0xfb)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x5a502f(0xe2)])(_0x5a6807,_0x33ca65,_0x3f082d)[_0x5a502f(0x100)](_0x458905=>{const _0x19c79c=_0x5a502f;return _0x33ca65['post'](_0x19c79c(0xfe)+salesforce_request_1['namespace']+_0x19c79c(0xe7),{'mdlId':_0x5a6807[_0x19c79c(0x120)],'opType':salesforce_request_type_1['OptionType']['SAVE_DEPLOY_ZIP'],'attachment':_0x458905});})[_0x5a502f(0x117)](_0x2931b2=>{const _0xcbf020=_0x5a502f;return _0x33ca65[_0xcbf020(0xf0)](_0xcbf020(0xfe)+salesforce_request_1[_0xcbf020(0x118)]+'/async',{'mdlId':_0x5a6807[_0xcbf020(0x120)],'opType':salesforce_request_type_1[_0xcbf020(0xf2)]['ERROR'],'message':_0x2931b2[_0xcbf020(0xde)]||_0x2931b2});})['catch'](_0x38ec35=>logger[_0x5a502f(0x124)](_0x38ec35['message'])),{'message':_0x5a502f(0xe0)};}async[a102_0xbba703(0x10d)](_0x4c7dde){const _0x35b8dd=a102_0xbba703,_0x563408=(0x0,salesforce_request_1[_0x35b8dd(0x107)])(auth_utils_1['AuthUtils'][_0x35b8dd(0x119)](_0x4c7dde[_0x35b8dd(0x10e)])),_0x1c8779=await salesforce_1[_0x35b8dd(0x11e)][_0x35b8dd(0xf1)](new auth_manager_1['AuthManager'](_0x4c7dde[_0x35b8dd(0xfb)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,deploy_attachment_service_1[_0x35b8dd(0x10d)])(_0x4c7dde,_0x563408,_0x1c8779)[_0x35b8dd(0x100)](_0x3cd218=>{const _0x50f3bd=_0x35b8dd;return _0x563408[_0x50f3bd(0xf0)](_0x50f3bd(0xfe)+salesforce_request_1[_0x50f3bd(0x118)]+_0x50f3bd(0xe7),{'mdlId':_0x4c7dde['metadataLogId'],'asyncId':_0x3cd218,'opType':salesforce_request_type_1[_0x50f3bd(0xf2)]['DEPLOY']});})['catch'](_0x5ede95=>{const _0x5a2c6c=_0x35b8dd;return _0x563408[_0x5a2c6c(0xf0)]('/services/apexrest'+salesforce_request_1[_0x5a2c6c(0x118)]+_0x5a2c6c(0xe7),{'mdlId':_0x4c7dde[_0x5a2c6c(0x120)],'opType':salesforce_request_type_1[_0x5a2c6c(0xf2)][_0x5a2c6c(0x11a)],'message':_0x5ede95[_0x5a2c6c(0xde)]||_0x5ede95});})[_0x35b8dd(0x117)](_0x3d51a0=>logger[_0x35b8dd(0x124)](_0x3d51a0[_0x35b8dd(0xde)])),{'message':_0x35b8dd(0xe0)};}};__decorate([(0x0,core_1['Post'])(a102_0xbba703(0x113)),__param(0x0,core_1[a102_0xbba703(0x10a)][a102_0xbba703(0x11c)]()),__metadata(a102_0xbba703(0xea),Function),__metadata(a102_0xbba703(0x122),[Object]),__metadata(a102_0xbba703(0xef),Promise)],FunctionsController['prototype'],a102_0xbba703(0x121),null),__decorate([(0x0,core_1[a102_0xbba703(0x11f)])(a102_0xbba703(0xfd)),__param(0x0,core_1[a102_0xbba703(0x10a)]['body']()),__metadata(a102_0xbba703(0xea),Function),__metadata('design:paramtypes',[Object]),__metadata(a102_0xbba703(0xef),Promise)],FunctionsController['prototype'],a102_0xbba703(0xe4),null),__decorate([(0x0,core_1[a102_0xbba703(0x11f)])('generate-deploy-zip'),__param(0x0,core_1[a102_0xbba703(0x10a)][a102_0xbba703(0x11c)]()),__metadata(a102_0xbba703(0xea),Function),__metadata('design:paramtypes',[Object]),__metadata(a102_0xbba703(0xef),Promise)],FunctionsController[a102_0xbba703(0xe1)],a102_0xbba703(0xe2),null),__decorate([(0x0,core_1[a102_0xbba703(0x11f)])(a102_0xbba703(0xf8)),__param(0x0,core_1[a102_0xbba703(0x10a)]['body']()),__metadata('design:type',Function),__metadata(a102_0xbba703(0x122),[Object]),__metadata(a102_0xbba703(0xef),Promise)],FunctionsController[a102_0xbba703(0xe1)],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a102_0xbba703(0x10c)])(a102_0xbba703(0x101)),(0x0,core_1[a102_0xbba703(0xf3)])('v1')],FunctionsController),exports[a102_0xbba703(0x10b)]=FunctionsController;function a102_0x2508(){const _0x364ac3=['function','AuthUtils','(((.+)+)+)+$','createRequest','object','apply','param','FunctionsController','Controller','deployComponents','instanceUrl','server','612yhwcQb','__metadata','817315Xijndh','retrieve','2094bTOjEv','./utils/salesforce-request','getOwnPropertyDescriptor','catch','namespace','getAuthParameters','ERROR','../../core','body','16784TmdKjS','AxiosInstanceUtils','Post','metadataLogId','retrieveZip','design:paramtypes','defineProperty','error','SAVE_BACKUP_ZIP','message','./services/retrieve-zip.service','Job\x20started\x20successfully','prototype','generateAndDeployZip','6082140RzbaXt','fetchTestClasses','AuthManager','../shared/managers/auth.manager','/async','8jwzqql','250512yQWcLn','design:type','length','__param','toString','__decorate','design:returntype','post','create','OptionType','Version','Logger','search','3584YMtkOW','./utils/auth.utils','deploy-components','GET_TESTS','decorate','credentials','197052gswtIJ','fetch-test-classes','/services/apexrest','metadata','then','functions','__esModule','255606CruTad'];a102_0x2508=function(){return _0x364ac3;};return a102_0x2508();}