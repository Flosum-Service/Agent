const a83_0xfb2f71=a83_0x186e;function a83_0x186e(_0x50cd7b,_0x16fb5c){const _0x4688ee=a83_0x3222();return a83_0x186e=function(_0x5efee9,_0x52e9ea){_0x5efee9=_0x5efee9-0x16b;let _0x322256=_0x4688ee[_0x5efee9];return _0x322256;},a83_0x186e(_0x50cd7b,_0x16fb5c);}(function(_0x135b13,_0x3d1548){const _0xece65e=a83_0x186e,_0x3688d8=_0x135b13();while(!![]){try{const _0x5f2fe8=-parseInt(_0xece65e(0x185))/0x1+parseInt(_0xece65e(0x16b))/0x2*(-parseInt(_0xece65e(0x1a8))/0x3)+-parseInt(_0xece65e(0x17f))/0x4+parseInt(_0xece65e(0x175))/0x5+parseInt(_0xece65e(0x192))/0x6*(parseInt(_0xece65e(0x1a3))/0x7)+-parseInt(_0xece65e(0x17d))/0x8+-parseInt(_0xece65e(0x17c))/0x9*(-parseInt(_0xece65e(0x179))/0xa);if(_0x5f2fe8===_0x3d1548)break;else _0x3688d8['push'](_0x3688d8['shift']());}catch(_0x4defda){_0x3688d8['push'](_0x3688d8['shift']());}}}(a83_0x3222,0xf25d8));const a83_0x52e9ea=(function(){let _0x13fe18=!![];return function(_0x4ca0d5,_0x1ff56f){const _0xdc9012=_0x13fe18?function(){const _0x199d4d=a83_0x186e;if(_0x1ff56f){const _0x5d72c6=_0x1ff56f[_0x199d4d(0x1a6)](_0x4ca0d5,arguments);return _0x1ff56f=null,_0x5d72c6;}}:function(){};return _0x13fe18=![],_0xdc9012;};}()),a83_0x5efee9=a83_0x52e9ea(this,function(){const _0x51b3e3=a83_0x186e;return a83_0x5efee9[_0x51b3e3(0x1ab)]()[_0x51b3e3(0x182)](_0x51b3e3(0x180))[_0x51b3e3(0x1ab)]()[_0x51b3e3(0x18b)](a83_0x5efee9)[_0x51b3e3(0x182)]('(((.+)+)+)+$');});a83_0x5efee9();function a83_0x3222(){const _0x4763f8=['../../core','FunctionsController','Job\x20started\x20successfully','param','prototype','message','catch','namespace','generateAndDeployZip','metadata','getAuthParameters','AuthUtils','GET_TESTS','fetch-test-classes','fetchTestClasses','length','1960NYwhbs','Post','./utils/salesforce-request','apply','retrieveZip','6ldHVgN','post','createRequest','toString','instanceUrl','1585086BHgMbq','__esModule','OptionType','design:returntype','server','ERROR','then','Controller','/services/apexrest','object','2791675TxQeHK','deployComponents','functions','body','10qqASYQ','Version','SAVE_DEPLOY_ZIP','19604493RkxqVH','688904laPUVs','design:type','343012dGqSfv','(((.+)+)+)+$','metadataLogId','search','./services/retrieve-zip.service','./services/fetch-test-classes.service','399932ohuwXL','decorate','error','SAVE_BACKUP_ZIP','function','deploy-components','constructor','./utils/auth.utils','generate-deploy-zip','__metadata','/async','design:paramtypes','defineProperty','8850WIWhOy'];a83_0x3222=function(){return _0x4763f8;};return a83_0x3222();}'use strict';var __decorate=this&&this['__decorate']||function(_0x26c659,_0x1a6b47,_0xabce43,_0x1d9d9c){const _0xc5f42f=a83_0x186e;var _0xf75e35=arguments['length'],_0x180be8=_0xf75e35<0x3?_0x1a6b47:_0x1d9d9c===null?_0x1d9d9c=Object['getOwnPropertyDescriptor'](_0x1a6b47,_0xabce43):_0x1d9d9c,_0x90f13c;if(typeof Reflect===_0xc5f42f(0x174)&&typeof Reflect[_0xc5f42f(0x186)]==='function')_0x180be8=Reflect[_0xc5f42f(0x186)](_0x26c659,_0x1a6b47,_0xabce43,_0x1d9d9c);else{for(var _0x2399e9=_0x26c659[_0xc5f42f(0x1a2)]-0x1;_0x2399e9>=0x0;_0x2399e9--)if(_0x90f13c=_0x26c659[_0x2399e9])_0x180be8=(_0xf75e35<0x3?_0x90f13c(_0x180be8):_0xf75e35>0x3?_0x90f13c(_0x1a6b47,_0xabce43,_0x180be8):_0x90f13c(_0x1a6b47,_0xabce43))||_0x180be8;}return _0xf75e35>0x3&&_0x180be8&&Object['defineProperty'](_0x1a6b47,_0xabce43,_0x180be8),_0x180be8;},__metadata=this&&this[a83_0xfb2f71(0x18e)]||function(_0x1711a0,_0x564104){const _0x12a1c9=a83_0xfb2f71;if(typeof Reflect===_0x12a1c9(0x174)&&typeof Reflect['metadata']===_0x12a1c9(0x189))return Reflect[_0x12a1c9(0x19c)](_0x1711a0,_0x564104);},__param=this&&this['__param']||function(_0x4c8de1,_0x8ed9bc){return function(_0x2a15ab,_0x3a75d7){_0x8ed9bc(_0x2a15ab,_0x3a75d7,_0x4c8de1);};};Object[a83_0xfb2f71(0x191)](exports,a83_0xfb2f71(0x16c),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require(a83_0xfb2f71(0x193)),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a83_0xfb2f71(0x183)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a83_0xfb2f71(0x184)),deploy_attachment_service_1=require('./services/deploy-attachment.service'),salesforce_request_1=require(a83_0xfb2f71(0x1a5)),auth_utils_1=require(a83_0xfb2f71(0x18c)),logger=new core_1['Logger'](a83_0xfb2f71(0x16f));let FunctionsController=class FunctionsController{async[a83_0xfb2f71(0x1a7)](_0x230a30){const _0x439d68=a83_0xfb2f71,_0x155050=(0x0,salesforce_request_1[_0x439d68(0x1aa)])(auth_utils_1[_0x439d68(0x19e)][_0x439d68(0x19d)](_0x230a30[_0x439d68(0x1ac)]));return(0x0,retrieve_zip_service_1[_0x439d68(0x1a7)])(_0x230a30,_0x155050)[_0x439d68(0x171)](()=>{const _0x2a5c24=_0x439d68;return _0x155050[_0x2a5c24(0x1a9)]('/services/apexrest'+salesforce_request_1['namespace']+_0x2a5c24(0x18f),{'mdlId':_0x230a30['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x2a5c24(0x188)]});})[_0x439d68(0x199)](_0x16d5ae=>{const _0x25cc4d=_0x439d68;return _0x155050['post'](_0x25cc4d(0x173)+salesforce_request_1[_0x25cc4d(0x19a)]+'/async',{'mdlId':_0x230a30[_0x25cc4d(0x181)],'opType':salesforce_request_type_1[_0x25cc4d(0x16d)][_0x25cc4d(0x170)],'message':_0x16d5ae['message']||_0x16d5ae});})[_0x439d68(0x199)](_0x44a7a3=>logger[_0x439d68(0x187)](_0x44a7a3[_0x439d68(0x198)])),{'message':_0x439d68(0x195)};}async[a83_0xfb2f71(0x1a1)](_0x73c78e){const _0xe1ec69=a83_0xfb2f71,_0x51b2db=(0x0,salesforce_request_1['createRequest'])(auth_utils_1['AuthUtils'][_0xe1ec69(0x19d)](_0x73c78e[_0xe1ec69(0x1ac)]));return(0x0,fetch_test_classes_service_1[_0xe1ec69(0x1a1)])(_0x73c78e,_0x51b2db)['then'](()=>{const _0x215e51=_0xe1ec69;return _0x51b2db[_0x215e51(0x1a9)]('/services/apexrest'+salesforce_request_1[_0x215e51(0x19a)]+_0x215e51(0x18f),{'mdlId':_0x73c78e[_0x215e51(0x181)],'opType':salesforce_request_type_1[_0x215e51(0x16d)][_0x215e51(0x19f)]});})[_0xe1ec69(0x199)](_0x32e0f8=>{const _0x3ee16a=_0xe1ec69;return _0x51b2db[_0x3ee16a(0x1a9)](_0x3ee16a(0x173)+salesforce_request_1['namespace']+_0x3ee16a(0x18f),{'mdlId':_0x73c78e['metadataLogId'],'opType':salesforce_request_type_1[_0x3ee16a(0x16d)][_0x3ee16a(0x170)],'message':_0x32e0f8['message']||_0x32e0f8});})['catch'](_0x353cd9=>logger['error'](_0x353cd9[_0xe1ec69(0x198)])),{'message':_0xe1ec69(0x195)};}async['generateAndDeployZip'](_0x356152){const _0x372400=a83_0xfb2f71,_0x22d778=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x372400(0x19e)]['getAuthParameters'](_0x356152['instanceUrl']));return(0x0,generate_zip_service_1[_0x372400(0x19b)])(_0x356152,_0x22d778)[_0x372400(0x171)](_0x3d7dcf=>{const _0x1416b3=_0x372400;return _0x22d778['post']('/services/apexrest'+salesforce_request_1[_0x1416b3(0x19a)]+'/async',{'mdlId':_0x356152['metadataLogId'],'opType':salesforce_request_type_1[_0x1416b3(0x16d)][_0x1416b3(0x17b)],'attachment':_0x3d7dcf});})['catch'](_0x1c6433=>{const _0x34824d=_0x372400;return _0x22d778[_0x34824d(0x1a9)](_0x34824d(0x173)+salesforce_request_1['namespace']+_0x34824d(0x18f),{'mdlId':_0x356152[_0x34824d(0x181)],'opType':salesforce_request_type_1[_0x34824d(0x16d)][_0x34824d(0x170)],'message':_0x1c6433[_0x34824d(0x198)]||_0x1c6433});})[_0x372400(0x199)](_0x181754=>logger['error'](_0x181754[_0x372400(0x198)])),{'message':_0x372400(0x195)};}async['deployComponents'](_0x1d1e3f){const _0x1d7f2f=a83_0xfb2f71,_0x57ea13=(0x0,salesforce_request_1[_0x1d7f2f(0x1aa)])(auth_utils_1[_0x1d7f2f(0x19e)][_0x1d7f2f(0x19d)](_0x1d1e3f['instanceUrl']));return(0x0,deploy_attachment_service_1['deployComponents'])(_0x1d1e3f,_0x57ea13)[_0x1d7f2f(0x171)](_0x2660dc=>{const _0x1c9a8f=_0x1d7f2f;return _0x57ea13[_0x1c9a8f(0x1a9)](_0x1c9a8f(0x173)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x1d1e3f[_0x1c9a8f(0x181)],'asyncId':_0x2660dc,'opType':salesforce_request_type_1[_0x1c9a8f(0x16d)]['DEPLOY']});})[_0x1d7f2f(0x199)](_0x430d90=>{const _0x1b14f9=_0x1d7f2f;return _0x57ea13['post']('/services/apexrest'+salesforce_request_1[_0x1b14f9(0x19a)]+'/async',{'mdlId':_0x1d1e3f[_0x1b14f9(0x181)],'opType':salesforce_request_type_1[_0x1b14f9(0x16d)]['ERROR'],'message':_0x430d90['message']||_0x430d90});})[_0x1d7f2f(0x199)](_0xd6bca6=>logger[_0x1d7f2f(0x187)](_0xd6bca6[_0x1d7f2f(0x198)])),{'message':_0x1d7f2f(0x195)};}};__decorate([(0x0,core_1['Post'])('retrieve'),__param(0x0,core_1['param']['body']()),__metadata(a83_0xfb2f71(0x17e),Function),__metadata(a83_0xfb2f71(0x190),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0xfb2f71(0x197)],a83_0xfb2f71(0x1a7),null),__decorate([(0x0,core_1['Post'])(a83_0xfb2f71(0x1a0)),__param(0x0,core_1[a83_0xfb2f71(0x196)][a83_0xfb2f71(0x178)]()),__metadata('design:type',Function),__metadata(a83_0xfb2f71(0x190),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0xfb2f71(0x197)],a83_0xfb2f71(0x1a1),null),__decorate([(0x0,core_1[a83_0xfb2f71(0x1a4)])(a83_0xfb2f71(0x18d)),__param(0x0,core_1[a83_0xfb2f71(0x196)][a83_0xfb2f71(0x178)]()),__metadata(a83_0xfb2f71(0x17e),Function),__metadata(a83_0xfb2f71(0x190),[Object]),__metadata(a83_0xfb2f71(0x16e),Promise)],FunctionsController[a83_0xfb2f71(0x197)],a83_0xfb2f71(0x19b),null),__decorate([(0x0,core_1[a83_0xfb2f71(0x1a4)])(a83_0xfb2f71(0x18a)),__param(0x0,core_1[a83_0xfb2f71(0x196)]['body']()),__metadata(a83_0xfb2f71(0x17e),Function),__metadata(a83_0xfb2f71(0x190),[Object]),__metadata(a83_0xfb2f71(0x16e),Promise)],FunctionsController['prototype'],a83_0xfb2f71(0x176),null),FunctionsController=__decorate([(0x0,core_1[a83_0xfb2f71(0x172)])(a83_0xfb2f71(0x177)),(0x0,core_1[a83_0xfb2f71(0x17a)])('v1')],FunctionsController),exports[a83_0xfb2f71(0x194)]=FunctionsController;