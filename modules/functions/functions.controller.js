const a83_0x5b7b69=a83_0x510c;function a83_0x510c(_0x5f3387,_0x2fdad6){const _0x59a2d8=a83_0x5024();return a83_0x510c=function(_0x4e08e5,_0x275c07){_0x4e08e5=_0x4e08e5-0x1ac;let _0x5024f0=_0x59a2d8[_0x4e08e5];return _0x5024f0;},a83_0x510c(_0x5f3387,_0x2fdad6);}(function(_0x2c2c35,_0x20373e){const _0x253e89=a83_0x510c,_0x345ab2=_0x2c2c35();while(!![]){try{const _0x20e7c3=-parseInt(_0x253e89(0x1c5))/0x1*(-parseInt(_0x253e89(0x1ad))/0x2)+-parseInt(_0x253e89(0x1cf))/0x3*(parseInt(_0x253e89(0x1ea))/0x4)+-parseInt(_0x253e89(0x1de))/0x5+-parseInt(_0x253e89(0x1b4))/0x6+-parseInt(_0x253e89(0x1b6))/0x7*(parseInt(_0x253e89(0x1ba))/0x8)+parseInt(_0x253e89(0x1b1))/0x9*(-parseInt(_0x253e89(0x1b0))/0xa)+parseInt(_0x253e89(0x1e6))/0xb;if(_0x20e7c3===_0x20373e)break;else _0x345ab2['push'](_0x345ab2['shift']());}catch(_0x4b7785){_0x345ab2['push'](_0x345ab2['shift']());}}}(a83_0x5024,0x4f2ac));function a83_0x5024(){const _0x528837=['retrieve','14548666DMuVBE','design:returntype','SAVE_BACKUP_ZIP','design:type','1754332cfizCw','/async','AuthUtils','./utils/auth.utils','length','apply','182sTGILs','GET_TESTS','__param','524750XpyoYr','9ZhTGSU','retrieveZip','./types/salesforce-request.type','3133098NARgab','./services/fetch-test-classes.service','22904yZeqps','metadataLogId','object','(((.+)+)+)+$','1256YUgYEr','./services/generate-zip.service','param','FunctionsController','namespace','error','metadata','OptionType','catch','deploy-components','functions','6507WdxzaI','DEPLOY','deployComponents','getAuthParameters','__esModule','generateAndDeployZip','message','fetch-test-classes','Post','constructor','3xwSzPu','design:paramtypes','./services/retrieve-zip.service','search','./utils/salesforce-request','function','fetchTestClasses','Job\x20started\x20successfully','body','createRequest','server','prototype','decorate','./services/deploy-attachment.service','../../core','317650tuMMuA','Logger','then','/services/apexrest','instanceUrl','ERROR','post'];a83_0x5024=function(){return _0x528837;};return a83_0x5024();}const a83_0x275c07=(function(){let _0x3f00c5=!![];return function(_0x59b5ac,_0x32e078){const _0x287df2=_0x3f00c5?function(){const _0x337b5b=a83_0x510c;if(_0x32e078){const _0x3311ef=_0x32e078[_0x337b5b(0x1ac)](_0x59b5ac,arguments);return _0x32e078=null,_0x3311ef;}}:function(){};return _0x3f00c5=![],_0x287df2;};}()),a83_0x4e08e5=a83_0x275c07(this,function(){const _0x1bb63d=a83_0x510c;return a83_0x4e08e5['toString']()[_0x1bb63d(0x1d2)](_0x1bb63d(0x1b9))['toString']()[_0x1bb63d(0x1ce)](a83_0x4e08e5)[_0x1bb63d(0x1d2)](_0x1bb63d(0x1b9));});a83_0x4e08e5();'use strict';var __decorate=this&&this['__decorate']||function(_0x5becf7,_0x183939,_0x43127a,_0x519dcf){const _0xefa3e4=a83_0x510c;var _0xee726a=arguments['length'],_0x4b6cf8=_0xee726a<0x3?_0x183939:_0x519dcf===null?_0x519dcf=Object['getOwnPropertyDescriptor'](_0x183939,_0x43127a):_0x519dcf,_0x327ea2;if(typeof Reflect===_0xefa3e4(0x1b8)&&typeof Reflect['decorate']===_0xefa3e4(0x1d4))_0x4b6cf8=Reflect[_0xefa3e4(0x1db)](_0x5becf7,_0x183939,_0x43127a,_0x519dcf);else{for(var _0x5b501c=_0x5becf7[_0xefa3e4(0x1ee)]-0x1;_0x5b501c>=0x0;_0x5b501c--)if(_0x327ea2=_0x5becf7[_0x5b501c])_0x4b6cf8=(_0xee726a<0x3?_0x327ea2(_0x4b6cf8):_0xee726a>0x3?_0x327ea2(_0x183939,_0x43127a,_0x4b6cf8):_0x327ea2(_0x183939,_0x43127a))||_0x4b6cf8;}return _0xee726a>0x3&&_0x4b6cf8&&Object['defineProperty'](_0x183939,_0x43127a,_0x4b6cf8),_0x4b6cf8;},__metadata=this&&this['__metadata']||function(_0x381e9a,_0x5bcbfc){const _0x13d23f=a83_0x510c;if(typeof Reflect===_0x13d23f(0x1b8)&&typeof Reflect[_0x13d23f(0x1c0)]===_0x13d23f(0x1d4))return Reflect[_0x13d23f(0x1c0)](_0x381e9a,_0x5bcbfc);},__param=this&&this[a83_0x5b7b69(0x1af)]||function(_0x5c93da,_0x205d78){return function(_0x2cd092,_0x227cb5){_0x205d78(_0x2cd092,_0x227cb5,_0x5c93da);};};Object['defineProperty'](exports,a83_0x5b7b69(0x1c9),{'value':!![]}),exports[a83_0x5b7b69(0x1bd)]=void 0x0;const core_1=require(a83_0x5b7b69(0x1dd)),salesforce_request_type_1=require(a83_0x5b7b69(0x1b3)),retrieve_zip_service_1=require(a83_0x5b7b69(0x1d1)),generate_zip_service_1=require(a83_0x5b7b69(0x1bb)),fetch_test_classes_service_1=require(a83_0x5b7b69(0x1b5)),deploy_attachment_service_1=require(a83_0x5b7b69(0x1dc)),salesforce_request_1=require(a83_0x5b7b69(0x1d3)),auth_utils_1=require(a83_0x5b7b69(0x1ed)),logger=new core_1[(a83_0x5b7b69(0x1df))](a83_0x5b7b69(0x1d9));let FunctionsController=class FunctionsController{async[a83_0x5b7b69(0x1b2)](_0x30b30d){const _0x34ac3f=a83_0x5b7b69,_0x469c9f=(0x0,salesforce_request_1[_0x34ac3f(0x1d8)])(auth_utils_1[_0x34ac3f(0x1ec)][_0x34ac3f(0x1c8)](_0x30b30d['instanceUrl']));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x30b30d,_0x469c9f)['then'](()=>{const _0x134a82=_0x34ac3f;return _0x469c9f[_0x134a82(0x1e4)](_0x134a82(0x1e1)+salesforce_request_1[_0x134a82(0x1be)]+_0x134a82(0x1eb),{'mdlId':_0x30b30d[_0x134a82(0x1b7)],'opType':salesforce_request_type_1[_0x134a82(0x1c1)][_0x134a82(0x1e8)]});})[_0x34ac3f(0x1c2)](_0x4b4ff=>{const _0x23a493=_0x34ac3f;return _0x469c9f[_0x23a493(0x1e4)](_0x23a493(0x1e1)+salesforce_request_1['namespace']+_0x23a493(0x1eb),{'mdlId':_0x30b30d[_0x23a493(0x1b7)],'opType':salesforce_request_type_1[_0x23a493(0x1c1)][_0x23a493(0x1e3)],'message':_0x4b4ff[_0x23a493(0x1cb)]||_0x4b4ff});})[_0x34ac3f(0x1c2)](_0x4de4b3=>logger[_0x34ac3f(0x1bf)](_0x4de4b3[_0x34ac3f(0x1cb)])),{'message':_0x34ac3f(0x1d6)};}async[a83_0x5b7b69(0x1d5)](_0x44c465){const _0x4a81ae=a83_0x5b7b69,_0x524ddd=(0x0,salesforce_request_1[_0x4a81ae(0x1d8)])(auth_utils_1['AuthUtils'][_0x4a81ae(0x1c8)](_0x44c465[_0x4a81ae(0x1e2)]));return(0x0,fetch_test_classes_service_1[_0x4a81ae(0x1d5)])(_0x44c465,_0x524ddd)['then'](()=>{const _0x4a1460=_0x4a81ae;return _0x524ddd[_0x4a1460(0x1e4)](_0x4a1460(0x1e1)+salesforce_request_1[_0x4a1460(0x1be)]+'/async',{'mdlId':_0x44c465[_0x4a1460(0x1b7)],'opType':salesforce_request_type_1[_0x4a1460(0x1c1)][_0x4a1460(0x1ae)]});})[_0x4a81ae(0x1c2)](_0x6143e5=>{const _0x48cc03=_0x4a81ae;return _0x524ddd[_0x48cc03(0x1e4)](_0x48cc03(0x1e1)+salesforce_request_1[_0x48cc03(0x1be)]+'/async',{'mdlId':_0x44c465[_0x48cc03(0x1b7)],'opType':salesforce_request_type_1['OptionType'][_0x48cc03(0x1e3)],'message':_0x6143e5[_0x48cc03(0x1cb)]||_0x6143e5});})[_0x4a81ae(0x1c2)](_0x561bd0=>logger[_0x4a81ae(0x1bf)](_0x561bd0[_0x4a81ae(0x1cb)])),{'message':_0x4a81ae(0x1d6)};}async[a83_0x5b7b69(0x1ca)](_0x508eb9){const _0x14d07f=a83_0x5b7b69,_0x4605aa=(0x0,salesforce_request_1[_0x14d07f(0x1d8)])(auth_utils_1[_0x14d07f(0x1ec)]['getAuthParameters'](_0x508eb9[_0x14d07f(0x1e2)]));return(0x0,generate_zip_service_1[_0x14d07f(0x1ca)])(_0x508eb9,_0x4605aa)[_0x14d07f(0x1e0)](_0x2f8cbb=>{const _0x4202ac=_0x14d07f;return _0x4605aa[_0x4202ac(0x1e4)](_0x4202ac(0x1e1)+salesforce_request_1[_0x4202ac(0x1be)]+_0x4202ac(0x1eb),{'mdlId':_0x508eb9[_0x4202ac(0x1b7)],'opType':salesforce_request_type_1['OptionType']['SAVE_DEPLOY_ZIP'],'attachment':_0x2f8cbb});})[_0x14d07f(0x1c2)](_0x3ce58b=>{const _0x2c68ba=_0x14d07f;return _0x4605aa[_0x2c68ba(0x1e4)](_0x2c68ba(0x1e1)+salesforce_request_1[_0x2c68ba(0x1be)]+_0x2c68ba(0x1eb),{'mdlId':_0x508eb9[_0x2c68ba(0x1b7)],'opType':salesforce_request_type_1[_0x2c68ba(0x1c1)][_0x2c68ba(0x1e3)],'message':_0x3ce58b['message']||_0x3ce58b});})[_0x14d07f(0x1c2)](_0x425b4f=>logger['error'](_0x425b4f[_0x14d07f(0x1cb)])),{'message':_0x14d07f(0x1d6)};}async['deployComponents'](_0x4dfb84){const _0x5c7f96=a83_0x5b7b69,_0x184a30=(0x0,salesforce_request_1[_0x5c7f96(0x1d8)])(auth_utils_1[_0x5c7f96(0x1ec)][_0x5c7f96(0x1c8)](_0x4dfb84['instanceUrl']));return(0x0,deploy_attachment_service_1['deployComponents'])(_0x4dfb84,_0x184a30)[_0x5c7f96(0x1e0)](_0x320337=>{const _0x39295f=_0x5c7f96;return _0x184a30[_0x39295f(0x1e4)](_0x39295f(0x1e1)+salesforce_request_1[_0x39295f(0x1be)]+_0x39295f(0x1eb),{'mdlId':_0x4dfb84['metadataLogId'],'asyncId':_0x320337,'opType':salesforce_request_type_1['OptionType'][_0x39295f(0x1c6)]});})[_0x5c7f96(0x1c2)](_0x889fa2=>{const _0x55c9c6=_0x5c7f96;return _0x184a30[_0x55c9c6(0x1e4)]('/services/apexrest'+salesforce_request_1[_0x55c9c6(0x1be)]+_0x55c9c6(0x1eb),{'mdlId':_0x4dfb84[_0x55c9c6(0x1b7)],'opType':salesforce_request_type_1[_0x55c9c6(0x1c1)][_0x55c9c6(0x1e3)],'message':_0x889fa2[_0x55c9c6(0x1cb)]||_0x889fa2});})['catch'](_0x5510b6=>logger[_0x5c7f96(0x1bf)](_0x5510b6[_0x5c7f96(0x1cb)])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1[a83_0x5b7b69(0x1cd)])(a83_0x5b7b69(0x1e5)),__param(0x0,core_1[a83_0x5b7b69(0x1bc)]['body']()),__metadata(a83_0x5b7b69(0x1e9),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x5b7b69(0x1da)],a83_0x5b7b69(0x1b2),null),__decorate([(0x0,core_1[a83_0x5b7b69(0x1cd)])(a83_0x5b7b69(0x1cc)),__param(0x0,core_1[a83_0x5b7b69(0x1bc)]['body']()),__metadata(a83_0x5b7b69(0x1e9),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a83_0x5b7b69(0x1d5),null),__decorate([(0x0,core_1[a83_0x5b7b69(0x1cd)])('generate-deploy-zip'),__param(0x0,core_1['param'][a83_0x5b7b69(0x1d7)]()),__metadata(a83_0x5b7b69(0x1e9),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x5b7b69(0x1e7),Promise)],FunctionsController[a83_0x5b7b69(0x1da)],a83_0x5b7b69(0x1ca),null),__decorate([(0x0,core_1['Post'])(a83_0x5b7b69(0x1c3)),__param(0x0,core_1[a83_0x5b7b69(0x1bc)][a83_0x5b7b69(0x1d7)]()),__metadata(a83_0x5b7b69(0x1e9),Function),__metadata(a83_0x5b7b69(0x1d0),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x5b7b69(0x1da)],a83_0x5b7b69(0x1c7),null),FunctionsController=__decorate([(0x0,core_1['Controller'])(a83_0x5b7b69(0x1c4)),(0x0,core_1['Version'])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;