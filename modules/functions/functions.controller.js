const a83_0x55f337=a83_0xa818;function a83_0xa818(_0x44c10f,_0x13b0b2){const _0x59845d=a83_0x316d();return a83_0xa818=function(_0x273fbc,_0xa0f5e5){_0x273fbc=_0x273fbc-0x93;let _0x316d54=_0x59845d[_0x273fbc];return _0x316d54;},a83_0xa818(_0x44c10f,_0x13b0b2);}(function(_0x572cd9,_0x298087){const _0xc1343c=a83_0xa818,_0x35c924=_0x572cd9();while(!![]){try{const _0x310eb6=parseInt(_0xc1343c(0xd0))/0x1*(-parseInt(_0xc1343c(0xba))/0x2)+parseInt(_0xc1343c(0x9f))/0x3+parseInt(_0xc1343c(0xad))/0x4+-parseInt(_0xc1343c(0xd3))/0x5+parseInt(_0xc1343c(0x93))/0x6*(parseInt(_0xc1343c(0xca))/0x7)+parseInt(_0xc1343c(0x9e))/0x8+-parseInt(_0xc1343c(0x95))/0x9;if(_0x310eb6===_0x298087)break;else _0x35c924['push'](_0x35c924['shift']());}catch(_0x4f6d9b){_0x35c924['push'](_0x35c924['shift']());}}}(a83_0x316d,0x89667));const a83_0xa0f5e5=(function(){let _0x3e90eb=!![];return function(_0x1c72e4,_0x117953){const _0x16c2b8=_0x3e90eb?function(){if(_0x117953){const _0x179f63=_0x117953['apply'](_0x1c72e4,arguments);return _0x117953=null,_0x179f63;}}:function(){};return _0x3e90eb=![],_0x16c2b8;};}()),a83_0x273fbc=a83_0xa0f5e5(this,function(){const _0x7d6164=a83_0xa818;return a83_0x273fbc[_0x7d6164(0xa9)]()[_0x7d6164(0x9d)](_0x7d6164(0xb4))[_0x7d6164(0xa9)]()[_0x7d6164(0xcd)](a83_0x273fbc)[_0x7d6164(0x9d)](_0x7d6164(0xb4));});a83_0x273fbc();'use strict';var __decorate=this&&this[a83_0x55f337(0xc2)]||function(_0x30baa0,_0x1bfbe8,_0x42a042,_0x29ab4d){const _0x11c6a1=a83_0x55f337;var _0x36a84c=arguments[_0x11c6a1(0xb2)],_0x13bf3a=_0x36a84c<0x3?_0x1bfbe8:_0x29ab4d===null?_0x29ab4d=Object[_0x11c6a1(0xbb)](_0x1bfbe8,_0x42a042):_0x29ab4d,_0x452f70;if(typeof Reflect===_0x11c6a1(0x96)&&typeof Reflect[_0x11c6a1(0xc9)]===_0x11c6a1(0xbf))_0x13bf3a=Reflect['decorate'](_0x30baa0,_0x1bfbe8,_0x42a042,_0x29ab4d);else{for(var _0x1b7a12=_0x30baa0[_0x11c6a1(0xb2)]-0x1;_0x1b7a12>=0x0;_0x1b7a12--)if(_0x452f70=_0x30baa0[_0x1b7a12])_0x13bf3a=(_0x36a84c<0x3?_0x452f70(_0x13bf3a):_0x36a84c>0x3?_0x452f70(_0x1bfbe8,_0x42a042,_0x13bf3a):_0x452f70(_0x1bfbe8,_0x42a042))||_0x13bf3a;}return _0x36a84c>0x3&&_0x13bf3a&&Object[_0x11c6a1(0xcc)](_0x1bfbe8,_0x42a042,_0x13bf3a),_0x13bf3a;},__metadata=this&&this['__metadata']||function(_0x29d03b,_0x43d1ea){const _0x3b7b05=a83_0x55f337;if(typeof Reflect==='object'&&typeof Reflect[_0x3b7b05(0xaf)]===_0x3b7b05(0xbf))return Reflect[_0x3b7b05(0xaf)](_0x29d03b,_0x43d1ea);},__param=this&&this[a83_0x55f337(0x9a)]||function(_0x36ee42,_0x32c1c0){return function(_0x25243d,_0x72aa4b){_0x32c1c0(_0x25243d,_0x72aa4b,_0x36ee42);};};Object[a83_0x55f337(0xcc)](exports,a83_0x55f337(0xc6),{'value':!![]}),exports['FunctionsController']=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require(a83_0x55f337(0x9c)),retrieve_zip_service_1=require(a83_0x55f337(0xa5)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require(a83_0x55f337(0xb0)),deploy_attachment_service_1=require(a83_0x55f337(0x97)),salesforce_request_1=require(a83_0x55f337(0xc8)),auth_utils_1=require(a83_0x55f337(0xab)),logger=new core_1['Logger'](a83_0x55f337(0xd2));function a83_0x316d(){const _0x3cc98e=['param','./types/salesforce-request.type','search','2123248OktfPc','1195917aHkUIs','createRequest','fetchTestClasses','generateAndDeployZip','deployComponents','Job\x20started\x20successfully','./services/retrieve-zip.service','FunctionsController','prototype','Post','toString','namespace','./utils/auth.utils','OptionType','1405976rygMZY','functions','metadata','./services/fetch-test-classes.service','instanceUrl','length','Controller','(((.+)+)+)+$','retrieve','fetch-test-classes','catch','design:type','getAuthParameters','4748jbMMZq','getOwnPropertyDescriptor','then','metadataLogId','error','function','/async','SAVE_BACKUP_ZIP','__decorate','design:returntype','retrieveZip','generate-deploy-zip','__esModule','AuthUtils','./utils/salesforce-request','decorate','889mujZAG','body','defineProperty','constructor','design:paramtypes','post','49VuvCts','/services/apexrest','server','3127125CPQXCN','message','42942byMSeL','deploy-components','5579424ZmRzvP','object','./services/deploy-attachment.service','ERROR','DEPLOY','__param'];a83_0x316d=function(){return _0x3cc98e;};return a83_0x316d();}let FunctionsController=class FunctionsController{async[a83_0x55f337(0xc4)](_0x9e1a8a){const _0xf112ad=a83_0x55f337,_0x31e7ff=(0x0,salesforce_request_1[_0xf112ad(0xa0)])(auth_utils_1[_0xf112ad(0xc7)][_0xf112ad(0xb9)](_0x9e1a8a['instanceUrl']));return(0x0,retrieve_zip_service_1[_0xf112ad(0xc4)])(_0x9e1a8a,_0x31e7ff)['then'](()=>{const _0x3e72e1=_0xf112ad;return _0x31e7ff[_0x3e72e1(0xcf)](_0x3e72e1(0xd1)+salesforce_request_1[_0x3e72e1(0xaa)]+_0x3e72e1(0xc0),{'mdlId':_0x9e1a8a[_0x3e72e1(0xbd)],'opType':salesforce_request_type_1[_0x3e72e1(0xac)][_0x3e72e1(0xc1)]});})[_0xf112ad(0xb7)](_0x443a68=>{const _0xd9e385=_0xf112ad;return _0x31e7ff[_0xd9e385(0xcf)]('/services/apexrest'+salesforce_request_1[_0xd9e385(0xaa)]+_0xd9e385(0xc0),{'mdlId':_0x9e1a8a[_0xd9e385(0xbd)],'opType':salesforce_request_type_1[_0xd9e385(0xac)][_0xd9e385(0x98)],'message':_0x443a68['message']||_0x443a68});})[_0xf112ad(0xb7)](_0x141287=>logger['error'](_0x141287[_0xf112ad(0xd4)])),{'message':_0xf112ad(0xa4)};}async[a83_0x55f337(0xa1)](_0x5a233d){const _0x356edb=a83_0x55f337,_0x461462=(0x0,salesforce_request_1[_0x356edb(0xa0)])(auth_utils_1[_0x356edb(0xc7)][_0x356edb(0xb9)](_0x5a233d[_0x356edb(0xb1)]));return(0x0,fetch_test_classes_service_1[_0x356edb(0xa1)])(_0x5a233d,_0x461462)[_0x356edb(0xbc)](()=>{const _0x16fbec=_0x356edb;return _0x461462['post'](_0x16fbec(0xd1)+salesforce_request_1[_0x16fbec(0xaa)]+'/async',{'mdlId':_0x5a233d[_0x16fbec(0xbd)],'opType':salesforce_request_type_1[_0x16fbec(0xac)]['GET_TESTS']});})[_0x356edb(0xb7)](_0x459bf7=>{const _0x82388a=_0x356edb;return _0x461462[_0x82388a(0xcf)](_0x82388a(0xd1)+salesforce_request_1[_0x82388a(0xaa)]+_0x82388a(0xc0),{'mdlId':_0x5a233d[_0x82388a(0xbd)],'opType':salesforce_request_type_1[_0x82388a(0xac)]['ERROR'],'message':_0x459bf7[_0x82388a(0xd4)]||_0x459bf7});})[_0x356edb(0xb7)](_0xa8af0e=>logger['error'](_0xa8af0e[_0x356edb(0xd4)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x55f337(0xa2)](_0x168aed){const _0xa66e48=a83_0x55f337,_0x4396b0=(0x0,salesforce_request_1[_0xa66e48(0xa0)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x168aed[_0xa66e48(0xb1)]));return(0x0,generate_zip_service_1[_0xa66e48(0xa2)])(_0x168aed,_0x4396b0)[_0xa66e48(0xbc)](_0x3a0e46=>{const _0x4855ab=_0xa66e48;return _0x4396b0[_0x4855ab(0xcf)](_0x4855ab(0xd1)+salesforce_request_1[_0x4855ab(0xaa)]+_0x4855ab(0xc0),{'mdlId':_0x168aed[_0x4855ab(0xbd)],'opType':salesforce_request_type_1['OptionType']['SAVE_DEPLOY_ZIP'],'attachment':_0x3a0e46});})['catch'](_0x1e5fed=>{const _0x28beb7=_0xa66e48;return _0x4396b0[_0x28beb7(0xcf)](_0x28beb7(0xd1)+salesforce_request_1[_0x28beb7(0xaa)]+_0x28beb7(0xc0),{'mdlId':_0x168aed['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x28beb7(0x98)],'message':_0x1e5fed[_0x28beb7(0xd4)]||_0x1e5fed});})[_0xa66e48(0xb7)](_0x5ba62b=>logger[_0xa66e48(0xbe)](_0x5ba62b[_0xa66e48(0xd4)])),{'message':'Job\x20started\x20successfully'};}async[a83_0x55f337(0xa3)](_0x46cb25){const _0x4add1c=a83_0x55f337,_0x3bd4d4=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4add1c(0xc7)]['getAuthParameters'](_0x46cb25[_0x4add1c(0xb1)]));return(0x0,deploy_attachment_service_1[_0x4add1c(0xa3)])(_0x46cb25,_0x3bd4d4)[_0x4add1c(0xbc)](_0x1644d4=>{const _0x2257f5=_0x4add1c;return _0x3bd4d4[_0x2257f5(0xcf)](_0x2257f5(0xd1)+salesforce_request_1['namespace']+_0x2257f5(0xc0),{'mdlId':_0x46cb25['metadataLogId'],'asyncId':_0x1644d4,'opType':salesforce_request_type_1['OptionType'][_0x2257f5(0x99)]});})[_0x4add1c(0xb7)](_0x2b1e9c=>{const _0x33a5e9=_0x4add1c;return _0x3bd4d4['post'](_0x33a5e9(0xd1)+salesforce_request_1[_0x33a5e9(0xaa)]+'/async',{'mdlId':_0x46cb25[_0x33a5e9(0xbd)],'opType':salesforce_request_type_1[_0x33a5e9(0xac)]['ERROR'],'message':_0x2b1e9c[_0x33a5e9(0xd4)]||_0x2b1e9c});})[_0x4add1c(0xb7)](_0x507a6f=>logger[_0x4add1c(0xbe)](_0x507a6f[_0x4add1c(0xd4)])),{'message':_0x4add1c(0xa4)};}};__decorate([(0x0,core_1[a83_0x55f337(0xa8)])(a83_0x55f337(0xb5)),__param(0x0,core_1[a83_0x55f337(0x9b)][a83_0x55f337(0xcb)]()),__metadata(a83_0x55f337(0xb8),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x55f337(0xa7)],a83_0x55f337(0xc4),null),__decorate([(0x0,core_1[a83_0x55f337(0xa8)])(a83_0x55f337(0xb6)),__param(0x0,core_1[a83_0x55f337(0x9b)][a83_0x55f337(0xcb)]()),__metadata('design:type',Function),__metadata(a83_0x55f337(0xce),[Object]),__metadata(a83_0x55f337(0xc3),Promise)],FunctionsController[a83_0x55f337(0xa7)],a83_0x55f337(0xa1),null),__decorate([(0x0,core_1[a83_0x55f337(0xa8)])(a83_0x55f337(0xc5)),__param(0x0,core_1[a83_0x55f337(0x9b)][a83_0x55f337(0xcb)]()),__metadata(a83_0x55f337(0xb8),Function),__metadata(a83_0x55f337(0xce),[Object]),__metadata(a83_0x55f337(0xc3),Promise)],FunctionsController[a83_0x55f337(0xa7)],a83_0x55f337(0xa2),null),__decorate([(0x0,core_1[a83_0x55f337(0xa8)])(a83_0x55f337(0x94)),__param(0x0,core_1[a83_0x55f337(0x9b)]['body']()),__metadata(a83_0x55f337(0xb8),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x55f337(0xc3),Promise)],FunctionsController[a83_0x55f337(0xa7)],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a83_0x55f337(0xb3)])(a83_0x55f337(0xae)),(0x0,core_1['Version'])('v1')],FunctionsController),exports[a83_0x55f337(0xa6)]=FunctionsController;