const a83_0x552942=a83_0x2719;(function(_0x5329a5,_0x12f22d){const _0x2a2f43=a83_0x2719,_0x20894e=_0x5329a5();while(!![]){try{const _0x2d3eee=-parseInt(_0x2a2f43(0xe2))/0x1+parseInt(_0x2a2f43(0xdd))/0x2+-parseInt(_0x2a2f43(0xe4))/0x3+-parseInt(_0x2a2f43(0xd3))/0x4+-parseInt(_0x2a2f43(0xc8))/0x5*(parseInt(_0x2a2f43(0xb6))/0x6)+parseInt(_0x2a2f43(0xdc))/0x7*(parseInt(_0x2a2f43(0xe8))/0x8)+-parseInt(_0x2a2f43(0xde))/0x9*(-parseInt(_0x2a2f43(0xca))/0xa);if(_0x2d3eee===_0x12f22d)break;else _0x20894e['push'](_0x20894e['shift']());}catch(_0x4494c7){_0x20894e['push'](_0x20894e['shift']());}}}(a83_0x35aa,0x869d7));const a83_0x4a29d0=(function(){let _0x1daa20=!![];return function(_0x30fa2b,_0x2c57c4){const _0x5fb9e3=_0x1daa20?function(){if(_0x2c57c4){const _0x377226=_0x2c57c4['apply'](_0x30fa2b,arguments);return _0x2c57c4=null,_0x377226;}}:function(){};return _0x1daa20=![],_0x5fb9e3;};}()),a83_0x1411a5=a83_0x4a29d0(this,function(){const _0x1e95b7=a83_0x2719;return a83_0x1411a5[_0x1e95b7(0xba)]()[_0x1e95b7(0xf4)]('(((.+)+)+)+$')[_0x1e95b7(0xba)]()[_0x1e95b7(0xed)](a83_0x1411a5)[_0x1e95b7(0xf4)](_0x1e95b7(0xd9));});a83_0x1411a5();'use strict';var __decorate=this&&this[a83_0x552942(0xc4)]||function(_0x5dd511,_0x5965fc,_0x4b0b13,_0x379d44){const _0x5328d9=a83_0x552942;var _0x2d5baa=arguments[_0x5328d9(0xec)],_0x21310b=_0x2d5baa<0x3?_0x5965fc:_0x379d44===null?_0x379d44=Object[_0x5328d9(0xd7)](_0x5965fc,_0x4b0b13):_0x379d44,_0x5f21af;if(typeof Reflect===_0x5328d9(0xf5)&&typeof Reflect['decorate']===_0x5328d9(0xd8))_0x21310b=Reflect[_0x5328d9(0xcd)](_0x5dd511,_0x5965fc,_0x4b0b13,_0x379d44);else{for(var _0x37ffce=_0x5dd511[_0x5328d9(0xec)]-0x1;_0x37ffce>=0x0;_0x37ffce--)if(_0x5f21af=_0x5dd511[_0x37ffce])_0x21310b=(_0x2d5baa<0x3?_0x5f21af(_0x21310b):_0x2d5baa>0x3?_0x5f21af(_0x5965fc,_0x4b0b13,_0x21310b):_0x5f21af(_0x5965fc,_0x4b0b13))||_0x21310b;}return _0x2d5baa>0x3&&_0x21310b&&Object[_0x5328d9(0xbd)](_0x5965fc,_0x4b0b13,_0x21310b),_0x21310b;},__metadata=this&&this['__metadata']||function(_0x2962a9,_0x563a4b){const _0x4294fb=a83_0x552942;if(typeof Reflect===_0x4294fb(0xf5)&&typeof Reflect[_0x4294fb(0xd5)]===_0x4294fb(0xd8))return Reflect['metadata'](_0x2962a9,_0x563a4b);},__param=this&&this[a83_0x552942(0xef)]||function(_0x1585ba,_0x521fc5){return function(_0x16f830,_0x51c3d4){_0x521fc5(_0x16f830,_0x51c3d4,_0x1585ba);};};Object[a83_0x552942(0xbd)](exports,a83_0x552942(0xb4),{'value':!![]}),exports[a83_0x552942(0xbe)]=void 0x0;function a83_0x2719(_0x28fa66,_0x30ed57){const _0x4c19b6=a83_0x35aa();return a83_0x2719=function(_0x1411a5,_0x4a29d0){_0x1411a5=_0x1411a5-0xb1;let _0x35aa5c=_0x4c19b6[_0x1411a5];return _0x35aa5c;},a83_0x2719(_0x28fa66,_0x30ed57);}function a83_0x35aa(){const _0x2a58bd=['FunctionsController','./utils/salesforce-request','generateAndDeployZip','../../core','Controller','fetchTestClasses','__decorate','GET_TESTS','ERROR','./types/salesforce-request.type','10200JzidFA','post','10qumuRZ','retrieveZip','deployComponents','decorate','then','retrieve','namespace','message','deploy-components','69984IyaNrF','getAuthParameters','metadata','./services/deploy-attachment.service','getOwnPropertyDescriptor','function','(((.+)+)+)+$','metadataLogId','./services/retrieve-zip.service','7efCoZG','2040208SYMAXp','3024405CSRXoT','/services/apexrest','OptionType','SAVE_DEPLOY_ZIP','701673ehVgTB','design:paramtypes','2646054TfLPmc','server','error','param','7905448iimOPi','design:returntype','fetch-test-classes','./services/generate-zip.service','length','constructor','Job\x20started\x20successfully','__param','Version','prototype','/async','design:type','search','object','body','functions','createRequest','__esModule','./services/fetch-test-classes.service','564zghvob','Logger','catch','instanceUrl','toString','Post','AuthUtils','defineProperty'];a83_0x35aa=function(){return _0x2a58bd;};return a83_0x35aa();}const core_1=require(a83_0x552942(0xc1)),salesforce_request_type_1=require(a83_0x552942(0xc7)),retrieve_zip_service_1=require(a83_0x552942(0xdb)),generate_zip_service_1=require(a83_0x552942(0xeb)),fetch_test_classes_service_1=require(a83_0x552942(0xb5)),deploy_attachment_service_1=require(a83_0x552942(0xd6)),salesforce_request_1=require(a83_0x552942(0xbf)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a83_0x552942(0xb7))](a83_0x552942(0xe5));let FunctionsController=class FunctionsController{async[a83_0x552942(0xcb)](_0x505279){const _0x3f41b6=a83_0x552942,_0x20fb74=(0x0,salesforce_request_1[_0x3f41b6(0xb3)])(auth_utils_1[_0x3f41b6(0xbc)][_0x3f41b6(0xd4)](_0x505279[_0x3f41b6(0xb9)]));return(0x0,retrieve_zip_service_1[_0x3f41b6(0xcb)])(_0x505279,_0x20fb74)[_0x3f41b6(0xce)](()=>{const _0x798345=_0x3f41b6;return _0x20fb74[_0x798345(0xc9)](_0x798345(0xdf)+salesforce_request_1[_0x798345(0xd0)]+_0x798345(0xf2),{'mdlId':_0x505279[_0x798345(0xda)],'opType':salesforce_request_type_1['OptionType']['SAVE_BACKUP_ZIP']});})['catch'](_0x896c75=>{const _0x3ce83a=_0x3f41b6;return _0x20fb74[_0x3ce83a(0xc9)](_0x3ce83a(0xdf)+salesforce_request_1[_0x3ce83a(0xd0)]+_0x3ce83a(0xf2),{'mdlId':_0x505279['metadataLogId'],'opType':salesforce_request_type_1[_0x3ce83a(0xe0)][_0x3ce83a(0xc6)],'message':_0x896c75[_0x3ce83a(0xd1)]||_0x896c75});})[_0x3f41b6(0xb8)](_0x332411=>logger[_0x3f41b6(0xe6)](_0x332411[_0x3f41b6(0xd1)])),{'message':_0x3f41b6(0xee)};}async[a83_0x552942(0xc3)](_0x1f7170){const _0x52ea3d=a83_0x552942,_0x4a13cb=(0x0,salesforce_request_1[_0x52ea3d(0xb3)])(auth_utils_1[_0x52ea3d(0xbc)][_0x52ea3d(0xd4)](_0x1f7170[_0x52ea3d(0xb9)]));return(0x0,fetch_test_classes_service_1[_0x52ea3d(0xc3)])(_0x1f7170,_0x4a13cb)[_0x52ea3d(0xce)](()=>{const _0x5bb808=_0x52ea3d;return _0x4a13cb[_0x5bb808(0xc9)](_0x5bb808(0xdf)+salesforce_request_1[_0x5bb808(0xd0)]+_0x5bb808(0xf2),{'mdlId':_0x1f7170[_0x5bb808(0xda)],'opType':salesforce_request_type_1['OptionType'][_0x5bb808(0xc5)]});})[_0x52ea3d(0xb8)](_0x12020b=>{const _0x1316a1=_0x52ea3d;return _0x4a13cb[_0x1316a1(0xc9)](_0x1316a1(0xdf)+salesforce_request_1[_0x1316a1(0xd0)]+_0x1316a1(0xf2),{'mdlId':_0x1f7170[_0x1316a1(0xda)],'opType':salesforce_request_type_1[_0x1316a1(0xe0)][_0x1316a1(0xc6)],'message':_0x12020b[_0x1316a1(0xd1)]||_0x12020b});})[_0x52ea3d(0xb8)](_0x4a7e0d=>logger[_0x52ea3d(0xe6)](_0x4a7e0d[_0x52ea3d(0xd1)])),{'message':_0x52ea3d(0xee)};}async[a83_0x552942(0xc0)](_0x4b5743){const _0x4c22fc=a83_0x552942,_0x455119=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x4c22fc(0xbc)][_0x4c22fc(0xd4)](_0x4b5743[_0x4c22fc(0xb9)]));return(0x0,generate_zip_service_1[_0x4c22fc(0xc0)])(_0x4b5743,_0x455119)[_0x4c22fc(0xce)](_0x315b9d=>{const _0x31d83f=_0x4c22fc;return _0x455119[_0x31d83f(0xc9)](_0x31d83f(0xdf)+salesforce_request_1[_0x31d83f(0xd0)]+'/async',{'mdlId':_0x4b5743['metadataLogId'],'opType':salesforce_request_type_1[_0x31d83f(0xe0)][_0x31d83f(0xe1)],'attachment':_0x315b9d});})[_0x4c22fc(0xb8)](_0x729e1a=>{const _0x1c9f97=_0x4c22fc;return _0x455119['post']('/services/apexrest'+salesforce_request_1[_0x1c9f97(0xd0)]+_0x1c9f97(0xf2),{'mdlId':_0x4b5743[_0x1c9f97(0xda)],'opType':salesforce_request_type_1['OptionType'][_0x1c9f97(0xc6)],'message':_0x729e1a[_0x1c9f97(0xd1)]||_0x729e1a});})['catch'](_0x50311e=>logger['error'](_0x50311e[_0x4c22fc(0xd1)])),{'message':_0x4c22fc(0xee)};}async[a83_0x552942(0xcc)](_0x2f5f55){const _0x58924e=a83_0x552942,_0x3ed894=(0x0,salesforce_request_1[_0x58924e(0xb3)])(auth_utils_1[_0x58924e(0xbc)][_0x58924e(0xd4)](_0x2f5f55[_0x58924e(0xb9)]));return(0x0,deploy_attachment_service_1[_0x58924e(0xcc)])(_0x2f5f55,_0x3ed894)[_0x58924e(0xce)](_0x35c02d=>{const _0xfeb018=_0x58924e;return _0x3ed894['post'](_0xfeb018(0xdf)+salesforce_request_1['namespace']+_0xfeb018(0xf2),{'mdlId':_0x2f5f55['metadataLogId'],'asyncId':_0x35c02d,'opType':salesforce_request_type_1['OptionType']['DEPLOY']});})[_0x58924e(0xb8)](_0x47e9a2=>{const _0x352fbc=_0x58924e;return _0x3ed894[_0x352fbc(0xc9)](_0x352fbc(0xdf)+salesforce_request_1['namespace']+_0x352fbc(0xf2),{'mdlId':_0x2f5f55[_0x352fbc(0xda)],'opType':salesforce_request_type_1['OptionType'][_0x352fbc(0xc6)],'message':_0x47e9a2[_0x352fbc(0xd1)]||_0x47e9a2});})[_0x58924e(0xb8)](_0x2971ad=>logger[_0x58924e(0xe6)](_0x2971ad['message'])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1[a83_0x552942(0xbb)])(a83_0x552942(0xcf)),__param(0x0,core_1[a83_0x552942(0xe7)][a83_0x552942(0xb1)]()),__metadata('design:type',Function),__metadata(a83_0x552942(0xe3),[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a83_0x552942(0xcb),null),__decorate([(0x0,core_1[a83_0x552942(0xbb)])(a83_0x552942(0xea)),__param(0x0,core_1[a83_0x552942(0xe7)][a83_0x552942(0xb1)]()),__metadata(a83_0x552942(0xf3),Function),__metadata(a83_0x552942(0xe3),[Object]),__metadata(a83_0x552942(0xe9),Promise)],FunctionsController[a83_0x552942(0xf1)],a83_0x552942(0xc3),null),__decorate([(0x0,core_1[a83_0x552942(0xbb)])('generate-deploy-zip'),__param(0x0,core_1[a83_0x552942(0xe7)][a83_0x552942(0xb1)]()),__metadata(a83_0x552942(0xf3),Function),__metadata(a83_0x552942(0xe3),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a83_0x552942(0xf1)],a83_0x552942(0xc0),null),__decorate([(0x0,core_1['Post'])(a83_0x552942(0xd2)),__param(0x0,core_1['param']['body']()),__metadata(a83_0x552942(0xf3),Function),__metadata('design:paramtypes',[Object]),__metadata(a83_0x552942(0xe9),Promise)],FunctionsController[a83_0x552942(0xf1)],a83_0x552942(0xcc),null),FunctionsController=__decorate([(0x0,core_1[a83_0x552942(0xc2)])(a83_0x552942(0xb2)),(0x0,core_1[a83_0x552942(0xf0)])('v1')],FunctionsController),exports[a83_0x552942(0xbe)]=FunctionsController;