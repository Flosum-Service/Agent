const a99_0x39de09=a99_0x3b2e;(function(_0x4aeb91,_0x41e83e){const _0x154375=a99_0x3b2e,_0x5b6081=_0x4aeb91();while(!![]){try{const _0x24036e=parseInt(_0x154375(0x94))/0x1*(parseInt(_0x154375(0x6f))/0x2)+parseInt(_0x154375(0x73))/0x3*(parseInt(_0x154375(0x78))/0x4)+-parseInt(_0x154375(0xad))/0x5+-parseInt(_0x154375(0x80))/0x6*(-parseInt(_0x154375(0xb0))/0x7)+parseInt(_0x154375(0x83))/0x8*(-parseInt(_0x154375(0x71))/0x9)+-parseInt(_0x154375(0x75))/0xa*(parseInt(_0x154375(0x7c))/0xb)+-parseInt(_0x154375(0x82))/0xc*(parseInt(_0x154375(0x8a))/0xd);if(_0x24036e===_0x41e83e)break;else _0x5b6081['push'](_0x5b6081['shift']());}catch(_0x2c12f0){_0x5b6081['push'](_0x5b6081['shift']());}}}(a99_0x252b,0x57066));const a99_0x26cc8d=(function(){let _0x352b28=!![];return function(_0x207d7e,_0x218c84){const _0x33ce75=_0x352b28?function(){const _0xe0f608=a99_0x3b2e;if(_0x218c84){const _0x201468=_0x218c84[_0xe0f608(0x97)](_0x207d7e,arguments);return _0x218c84=null,_0x201468;}}:function(){};return _0x352b28=![],_0x33ce75;};}()),a99_0x526188=a99_0x26cc8d(this,function(){const _0x594d23=a99_0x3b2e;return a99_0x526188['toString']()[_0x594d23(0xa6)]('(((.+)+)+)+$')['toString']()['constructor'](a99_0x526188)['search'](_0x594d23(0x77));});function a99_0x3b2e(_0x47d12d,_0x50dc46){const _0x5bc2ae=a99_0x252b();return a99_0x3b2e=function(_0x526188,_0x26cc8d){_0x526188=_0x526188-0x6c;let _0x252b53=_0x5bc2ae[_0x526188];return _0x252b53;},a99_0x3b2e(_0x47d12d,_0x50dc46);}a99_0x526188();'use strict';function a99_0x252b(){const _0x3d9935=['createRequest','GET_TESTS','generateAndDeployZip','AuthManager','namespace','2719951kqkhoN','then','param','decorate','Version','metadata','Logger','post','/async','length','667fDgzpd','design:paramtypes','deploy-components','apply','SAVE_DEPLOY_ZIP','/services/apexrest','OptionType','AxiosInstanceUtils','__esModule','fetchTestClasses','function','object','design:returntype','fetch-test-classes','Post','message','deployComponents','FunctionsController','search','../../core','./types/salesforce-request.type','error','prototype','@flosum/salesforce','retrieveZip','441235rLrnTo','Job\x20started\x20successfully','instanceUrl','1626926QMIPwz','metadataLogId','create','generate-deploy-zip','body','defineProperty','__decorate','./services/deploy-attachment.service','1658FBGlhE','./services/generate-zip.service','585FOslnU','Controller','119862jAntfm','./utils/auth.utils','70PVbXvP','AuthUtils','(((.+)+)+)+$','28MkgxFj','./services/retrieve-zip.service','functions','catch','250547pMJJiL','ERROR','credentials','design:type','6FOVNfY','getAuthParameters','24vatttL','5224dTSHri','__param'];a99_0x252b=function(){return _0x3d9935;};return a99_0x252b();}var __decorate=this&&this[a99_0x39de09(0x6d)]||function(_0x3d22e9,_0xb21885,_0x13129d,_0x4a670e){const _0x49bb2e=a99_0x39de09;var _0xdc5328=arguments[_0x49bb2e(0x93)],_0x5ea8ec=_0xdc5328<0x3?_0xb21885:_0x4a670e===null?_0x4a670e=Object['getOwnPropertyDescriptor'](_0xb21885,_0x13129d):_0x4a670e,_0x47a22a;if(typeof Reflect===_0x49bb2e(0x9f)&&typeof Reflect[_0x49bb2e(0x8d)]===_0x49bb2e(0x9e))_0x5ea8ec=Reflect['decorate'](_0x3d22e9,_0xb21885,_0x13129d,_0x4a670e);else{for(var _0x5834a8=_0x3d22e9[_0x49bb2e(0x93)]-0x1;_0x5834a8>=0x0;_0x5834a8--)if(_0x47a22a=_0x3d22e9[_0x5834a8])_0x5ea8ec=(_0xdc5328<0x3?_0x47a22a(_0x5ea8ec):_0xdc5328>0x3?_0x47a22a(_0xb21885,_0x13129d,_0x5ea8ec):_0x47a22a(_0xb21885,_0x13129d))||_0x5ea8ec;}return _0xdc5328>0x3&&_0x5ea8ec&&Object[_0x49bb2e(0x6c)](_0xb21885,_0x13129d,_0x5ea8ec),_0x5ea8ec;},__metadata=this&&this['__metadata']||function(_0x16dd9e,_0x2be26d){const _0x14e132=a99_0x39de09;if(typeof Reflect===_0x14e132(0x9f)&&typeof Reflect['metadata']==='function')return Reflect[_0x14e132(0x8f)](_0x16dd9e,_0x2be26d);},__param=this&&this[a99_0x39de09(0x84)]||function(_0x428efd,_0x4fa0ab){return function(_0x263296,_0x4c4d10){_0x4fa0ab(_0x263296,_0x4c4d10,_0x428efd);};};Object[a99_0x39de09(0x6c)](exports,a99_0x39de09(0x9c),{'value':!![]}),exports[a99_0x39de09(0xa5)]=void 0x0;const core_1=require(a99_0x39de09(0xa7)),salesforce_request_type_1=require(a99_0x39de09(0xa8)),retrieve_zip_service_1=require(a99_0x39de09(0x79)),generate_zip_service_1=require(a99_0x39de09(0x70)),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a99_0x39de09(0x6e)),salesforce_request_1=require('./utils/salesforce-request'),auth_utils_1=require(a99_0x39de09(0x74)),auth_manager_1=require('../shared/managers/auth.manager'),salesforce_1=require(a99_0x39de09(0xab)),logger=new core_1[(a99_0x39de09(0x90))]('server');let FunctionsController=class FunctionsController{async[a99_0x39de09(0xac)](_0x310d8c){const _0x410b63=a99_0x39de09,_0x464faf=(0x0,salesforce_request_1['createRequest'])(auth_utils_1[_0x410b63(0x76)][_0x410b63(0x81)](_0x310d8c[_0x410b63(0xaf)]));return(0x0,retrieve_zip_service_1[_0x410b63(0xac)])(_0x310d8c,_0x464faf)['then'](()=>{const _0x421d82=_0x410b63;return _0x464faf[_0x421d82(0x91)](_0x421d82(0x99)+salesforce_request_1[_0x421d82(0x89)]+_0x421d82(0x92),{'mdlId':_0x310d8c[_0x421d82(0xb1)],'opType':salesforce_request_type_1[_0x421d82(0x9a)]['SAVE_BACKUP_ZIP']});})['catch'](_0x216bee=>{const _0x46fee8=_0x410b63;return _0x464faf[_0x46fee8(0x91)]('/services/apexrest'+salesforce_request_1[_0x46fee8(0x89)]+'/async',{'mdlId':_0x310d8c['metadataLogId'],'opType':salesforce_request_type_1[_0x46fee8(0x9a)]['ERROR'],'message':_0x216bee[_0x46fee8(0xa3)]||_0x216bee});})['catch'](_0x35c67b=>logger['error'](_0x35c67b['message'])),{'message':'Job\x20started\x20successfully'};}async[a99_0x39de09(0x9d)](_0x4765cf){const _0x440314=a99_0x39de09,_0x1ad2a4=(0x0,salesforce_request_1[_0x440314(0x85)])(auth_utils_1['AuthUtils']['getAuthParameters'](_0x4765cf[_0x440314(0xaf)]));return(0x0,fetch_test_classes_service_1[_0x440314(0x9d)])(_0x4765cf,_0x1ad2a4)[_0x440314(0x8b)](()=>{const _0x5d6bb7=_0x440314;return _0x1ad2a4[_0x5d6bb7(0x91)]('/services/apexrest'+salesforce_request_1['namespace']+_0x5d6bb7(0x92),{'mdlId':_0x4765cf[_0x5d6bb7(0xb1)],'opType':salesforce_request_type_1[_0x5d6bb7(0x9a)][_0x5d6bb7(0x86)]});})['catch'](_0xb3fa4a=>{const _0x1e5af4=_0x440314;return _0x1ad2a4[_0x1e5af4(0x91)]('/services/apexrest'+salesforce_request_1[_0x1e5af4(0x89)]+_0x1e5af4(0x92),{'mdlId':_0x4765cf[_0x1e5af4(0xb1)],'opType':salesforce_request_type_1[_0x1e5af4(0x9a)][_0x1e5af4(0x7d)],'message':_0xb3fa4a[_0x1e5af4(0xa3)]||_0xb3fa4a});})[_0x440314(0x7b)](_0x26cb16=>logger[_0x440314(0xa9)](_0x26cb16[_0x440314(0xa3)])),{'message':_0x440314(0xae)};}async[a99_0x39de09(0x87)](_0x1c69c4){const _0x3b4794=a99_0x39de09,_0x271fbd=(0x0,salesforce_request_1[_0x3b4794(0x85)])(auth_utils_1['AuthUtils'][_0x3b4794(0x81)](_0x1c69c4['instanceUrl'])),_0x19e31f=await salesforce_1[_0x3b4794(0x9b)][_0x3b4794(0xb2)](new auth_manager_1[(_0x3b4794(0x88))](_0x1c69c4[_0x3b4794(0x7e)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x3b4794(0x87)])(_0x1c69c4,_0x271fbd,_0x19e31f)[_0x3b4794(0x8b)](_0x5ef4f7=>{const _0x45c129=_0x3b4794;return _0x271fbd[_0x45c129(0x91)](_0x45c129(0x99)+salesforce_request_1['namespace']+_0x45c129(0x92),{'mdlId':_0x1c69c4['metadataLogId'],'opType':salesforce_request_type_1['OptionType'][_0x45c129(0x98)],'attachment':_0x5ef4f7});})[_0x3b4794(0x7b)](_0x853ef2=>{const _0x58d2fa=_0x3b4794;return _0x271fbd[_0x58d2fa(0x91)](_0x58d2fa(0x99)+salesforce_request_1[_0x58d2fa(0x89)]+_0x58d2fa(0x92),{'mdlId':_0x1c69c4[_0x58d2fa(0xb1)],'opType':salesforce_request_type_1[_0x58d2fa(0x9a)][_0x58d2fa(0x7d)],'message':_0x853ef2[_0x58d2fa(0xa3)]||_0x853ef2});})[_0x3b4794(0x7b)](_0x45c7df=>logger[_0x3b4794(0xa9)](_0x45c7df['message'])),{'message':_0x3b4794(0xae)};}async['deployComponents'](_0x2f7c57){const _0x1ad70c=a99_0x39de09,_0x2a81a7=(0x0,salesforce_request_1[_0x1ad70c(0x85)])(auth_utils_1[_0x1ad70c(0x76)][_0x1ad70c(0x81)](_0x2f7c57['instanceUrl']));return(0x0,deploy_attachment_service_1[_0x1ad70c(0xa4)])(_0x2f7c57,_0x2a81a7)[_0x1ad70c(0x8b)](_0x321486=>{const _0x1e0453=_0x1ad70c;return _0x2a81a7[_0x1e0453(0x91)](_0x1e0453(0x99)+salesforce_request_1[_0x1e0453(0x89)]+_0x1e0453(0x92),{'mdlId':_0x2f7c57[_0x1e0453(0xb1)],'asyncId':_0x321486,'opType':salesforce_request_type_1[_0x1e0453(0x9a)]['DEPLOY']});})[_0x1ad70c(0x7b)](_0x323f9a=>{const _0x2f60fc=_0x1ad70c;return _0x2a81a7['post'](_0x2f60fc(0x99)+salesforce_request_1[_0x2f60fc(0x89)]+'/async',{'mdlId':_0x2f7c57[_0x2f60fc(0xb1)],'opType':salesforce_request_type_1[_0x2f60fc(0x9a)][_0x2f60fc(0x7d)],'message':_0x323f9a[_0x2f60fc(0xa3)]||_0x323f9a});})[_0x1ad70c(0x7b)](_0x135163=>logger[_0x1ad70c(0xa9)](_0x135163['message'])),{'message':'Job\x20started\x20successfully'};}};__decorate([(0x0,core_1[a99_0x39de09(0xa2)])('retrieve'),__param(0x0,core_1[a99_0x39de09(0x8c)][a99_0x39de09(0xb4)]()),__metadata(a99_0x39de09(0x7f),Function),__metadata(a99_0x39de09(0x95),[Object]),__metadata(a99_0x39de09(0xa0),Promise)],FunctionsController[a99_0x39de09(0xaa)],'retrieveZip',null),__decorate([(0x0,core_1[a99_0x39de09(0xa2)])(a99_0x39de09(0xa1)),__param(0x0,core_1[a99_0x39de09(0x8c)]['body']()),__metadata(a99_0x39de09(0x7f),Function),__metadata(a99_0x39de09(0x95),[Object]),__metadata(a99_0x39de09(0xa0),Promise)],FunctionsController['prototype'],a99_0x39de09(0x9d),null),__decorate([(0x0,core_1[a99_0x39de09(0xa2)])(a99_0x39de09(0xb3)),__param(0x0,core_1[a99_0x39de09(0x8c)][a99_0x39de09(0xb4)]()),__metadata(a99_0x39de09(0x7f),Function),__metadata(a99_0x39de09(0x95),[Object]),__metadata(a99_0x39de09(0xa0),Promise)],FunctionsController[a99_0x39de09(0xaa)],a99_0x39de09(0x87),null),__decorate([(0x0,core_1[a99_0x39de09(0xa2)])(a99_0x39de09(0x96)),__param(0x0,core_1['param'][a99_0x39de09(0xb4)]()),__metadata('design:type',Function),__metadata(a99_0x39de09(0x95),[Object]),__metadata(a99_0x39de09(0xa0),Promise)],FunctionsController['prototype'],'deployComponents',null),FunctionsController=__decorate([(0x0,core_1[a99_0x39de09(0x72)])(a99_0x39de09(0x7a)),(0x0,core_1[a99_0x39de09(0x8e)])('v1')],FunctionsController),exports['FunctionsController']=FunctionsController;