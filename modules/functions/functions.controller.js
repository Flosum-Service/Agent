function a84_0x2eba(_0x420341,_0x119c32){const _0x24a51b=a84_0x3c23();return a84_0x2eba=function(_0x208f18,_0x2292a4){_0x208f18=_0x208f18-0x17c;let _0x3c237c=_0x24a51b[_0x208f18];return _0x3c237c;},a84_0x2eba(_0x420341,_0x119c32);}const a84_0x51227d=a84_0x2eba;(function(_0x47abea,_0x3f7bdf){const _0x55e188=a84_0x2eba,_0x4d990f=_0x47abea();while(!![]){try{const _0x56fe74=parseInt(_0x55e188(0x189))/0x1*(parseInt(_0x55e188(0x1c0))/0x2)+-parseInt(_0x55e188(0x1a4))/0x3*(parseInt(_0x55e188(0x18f))/0x4)+-parseInt(_0x55e188(0x190))/0x5*(parseInt(_0x55e188(0x1c1))/0x6)+parseInt(_0x55e188(0x19e))/0x7*(-parseInt(_0x55e188(0x185))/0x8)+parseInt(_0x55e188(0x193))/0x9*(parseInt(_0x55e188(0x19c))/0xa)+-parseInt(_0x55e188(0x199))/0xb+-parseInt(_0x55e188(0x1b7))/0xc*(-parseInt(_0x55e188(0x188))/0xd);if(_0x56fe74===_0x3f7bdf)break;else _0x4d990f['push'](_0x4d990f['shift']());}catch(_0x555760){_0x4d990f['push'](_0x4d990f['shift']());}}}(a84_0x3c23,0x50f84));const a84_0x2292a4=(function(){let _0x40f76b=!![];return function(_0x4ec5ef,_0x2952ff){const _0x441239=_0x40f76b?function(){const _0x41b2e9=a84_0x2eba;if(_0x2952ff){const _0x572b4a=_0x2952ff[_0x41b2e9(0x1a9)](_0x4ec5ef,arguments);return _0x2952ff=null,_0x572b4a;}}:function(){};return _0x40f76b=![],_0x441239;};}()),a84_0x208f18=a84_0x2292a4(this,function(){const _0x316701=a84_0x2eba;return a84_0x208f18['toString']()['search'](_0x316701(0x1a5))['toString']()['constructor'](a84_0x208f18)[_0x316701(0x18e)](_0x316701(0x1a5));});function a84_0x3c23(){const _0x1042a2=['5679661PVeXMo','18424nnoqfH','./services/generate-zip.service','/services/apexrest','__esModule','credentials','search','148KtzOsT','20aIZDnM','./services/fetch-test-classes.service','prototype','1029321VXswJY','generate-deploy-zip','getOwnPropertyDescriptor','error','../shared/managers/auth.manager','./services/deploy-attachment.service','4912600TzefES','Post','then','50jhKfZs','message','42pYwVTI','fetch-test-classes','__metadata','deployComponents','OptionType','instanceUrl','38022QSrmAs','(((.+)+)+)+$','__decorate','ERROR','Controller','apply','createRequest','Job\x20started\x20successfully','./services/retrieve-zip.service','retrieveZip','SAVE_DEPLOY_ZIP','namespace','catch','FunctionsController','AuthUtils','functions','Version','__param','fetchTestClasses','36mZghTP','param','decorate','defineProperty','design:returntype','length','server','getAuthParameters','design:paramtypes','34IVlxac','847002OhglDb','function','design:type','generateAndDeployZip','/async','metadataLogId','Logger','GET_TESTS','AuthManager','body','AxiosInstanceUtils','object','511848lmQQpI','SAVE_BACKUP_ZIP','post'];a84_0x3c23=function(){return _0x1042a2;};return a84_0x3c23();}a84_0x208f18();'use strict';var __decorate=this&&this[a84_0x51227d(0x1a6)]||function(_0xc0a9f9,_0x601a3a,_0x252f33,_0x569eed){const _0x48fee3=a84_0x51227d;var _0xb7d574=arguments[_0x48fee3(0x1bc)],_0xa11c9=_0xb7d574<0x3?_0x601a3a:_0x569eed===null?_0x569eed=Object[_0x48fee3(0x195)](_0x601a3a,_0x252f33):_0x569eed,_0x3ba63b;if(typeof Reflect===_0x48fee3(0x184)&&typeof Reflect['decorate']===_0x48fee3(0x1c2))_0xa11c9=Reflect[_0x48fee3(0x1b9)](_0xc0a9f9,_0x601a3a,_0x252f33,_0x569eed);else{for(var _0x2bea32=_0xc0a9f9[_0x48fee3(0x1bc)]-0x1;_0x2bea32>=0x0;_0x2bea32--)if(_0x3ba63b=_0xc0a9f9[_0x2bea32])_0xa11c9=(_0xb7d574<0x3?_0x3ba63b(_0xa11c9):_0xb7d574>0x3?_0x3ba63b(_0x601a3a,_0x252f33,_0xa11c9):_0x3ba63b(_0x601a3a,_0x252f33))||_0xa11c9;}return _0xb7d574>0x3&&_0xa11c9&&Object['defineProperty'](_0x601a3a,_0x252f33,_0xa11c9),_0xa11c9;},__metadata=this&&this[a84_0x51227d(0x1a0)]||function(_0x2b453a,_0x3a2ada){const _0x27b8d9=a84_0x51227d;if(typeof Reflect===_0x27b8d9(0x184)&&typeof Reflect['metadata']==='function')return Reflect['metadata'](_0x2b453a,_0x3a2ada);},__param=this&&this[a84_0x51227d(0x1b5)]||function(_0x1651fc,_0x5d6b61){return function(_0x84d332,_0x199d1e){_0x5d6b61(_0x84d332,_0x199d1e,_0x1651fc);};};Object[a84_0x51227d(0x1ba)](exports,a84_0x51227d(0x18c),{'value':!![]}),exports[a84_0x51227d(0x1b1)]=void 0x0;const core_1=require('../../core'),salesforce_request_type_1=require('./types/salesforce-request.type'),retrieve_zip_service_1=require(a84_0x51227d(0x1ac)),generate_zip_service_1=require(a84_0x51227d(0x18a)),fetch_test_classes_service_1=require(a84_0x51227d(0x191)),deploy_attachment_service_1=require(a84_0x51227d(0x198)),salesforce_request_1=require('./utils/salesforce-request'),auth_utils_1=require('./utils/auth.utils'),auth_manager_1=require(a84_0x51227d(0x197)),salesforce_1=require('@flosum/salesforce'),logger=new core_1[(a84_0x51227d(0x17f))](a84_0x51227d(0x1bd));let FunctionsController=class FunctionsController{async[a84_0x51227d(0x1ad)](_0x506125){const _0x1b6e24=a84_0x51227d,_0x3b6cd6=(0x0,salesforce_request_1[_0x1b6e24(0x1aa)])(auth_utils_1['AuthUtils'][_0x1b6e24(0x1be)](_0x506125[_0x1b6e24(0x1a3)]));return(0x0,retrieve_zip_service_1['retrieveZip'])(_0x506125,_0x3b6cd6)['then'](()=>{const _0x4b08fa=_0x1b6e24;return _0x3b6cd6[_0x4b08fa(0x187)](_0x4b08fa(0x18b)+salesforce_request_1[_0x4b08fa(0x1af)]+_0x4b08fa(0x17d),{'mdlId':_0x506125['metadataLogId'],'opType':salesforce_request_type_1[_0x4b08fa(0x1a2)][_0x4b08fa(0x186)]});})[_0x1b6e24(0x1b0)](_0x2e1c59=>{const _0xcbbd9a=_0x1b6e24;return _0x3b6cd6[_0xcbbd9a(0x187)](_0xcbbd9a(0x18b)+salesforce_request_1[_0xcbbd9a(0x1af)]+_0xcbbd9a(0x17d),{'mdlId':_0x506125['metadataLogId'],'opType':salesforce_request_type_1[_0xcbbd9a(0x1a2)][_0xcbbd9a(0x1a7)],'message':_0x2e1c59[_0xcbbd9a(0x19d)]||_0x2e1c59});})['catch'](_0x43fb31=>logger[_0x1b6e24(0x196)](_0x43fb31[_0x1b6e24(0x19d)])),{'message':_0x1b6e24(0x1ab)};}async[a84_0x51227d(0x1b6)](_0x5962fd){const _0x2053f6=a84_0x51227d,_0x49ec82=(0x0,salesforce_request_1[_0x2053f6(0x1aa)])(auth_utils_1['AuthUtils'][_0x2053f6(0x1be)](_0x5962fd['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x2053f6(0x1b6)])(_0x5962fd,_0x49ec82)[_0x2053f6(0x19b)](()=>{const _0x23546a=_0x2053f6;return _0x49ec82[_0x23546a(0x187)](_0x23546a(0x18b)+salesforce_request_1[_0x23546a(0x1af)]+_0x23546a(0x17d),{'mdlId':_0x5962fd[_0x23546a(0x17e)],'opType':salesforce_request_type_1[_0x23546a(0x1a2)][_0x23546a(0x180)]});})[_0x2053f6(0x1b0)](_0xd3f323=>{const _0x2e1cc1=_0x2053f6;return _0x49ec82[_0x2e1cc1(0x187)](_0x2e1cc1(0x18b)+salesforce_request_1[_0x2e1cc1(0x1af)]+_0x2e1cc1(0x17d),{'mdlId':_0x5962fd[_0x2e1cc1(0x17e)],'opType':salesforce_request_type_1['OptionType']['ERROR'],'message':_0xd3f323[_0x2e1cc1(0x19d)]||_0xd3f323});})[_0x2053f6(0x1b0)](_0x512960=>logger[_0x2053f6(0x196)](_0x512960[_0x2053f6(0x19d)])),{'message':_0x2053f6(0x1ab)};}async[a84_0x51227d(0x17c)](_0x1603be){const _0x2764f9=a84_0x51227d,_0x343b60=(0x0,salesforce_request_1[_0x2764f9(0x1aa)])(auth_utils_1[_0x2764f9(0x1b2)][_0x2764f9(0x1be)](_0x1603be[_0x2764f9(0x1a3)])),_0x1fa64c=await salesforce_1[_0x2764f9(0x183)]['create'](new auth_manager_1[(_0x2764f9(0x181))](_0x1603be[_0x2764f9(0x18d)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});return(0x0,generate_zip_service_1[_0x2764f9(0x17c)])(_0x1603be,_0x343b60,_0x1fa64c)[_0x2764f9(0x19b)](_0x25bc3b=>{const _0x20aa72=_0x2764f9;return _0x343b60['post']('/services/apexrest'+salesforce_request_1['namespace']+_0x20aa72(0x17d),{'mdlId':_0x1603be[_0x20aa72(0x17e)],'opType':salesforce_request_type_1[_0x20aa72(0x1a2)][_0x20aa72(0x1ae)],'attachment':_0x25bc3b});})[_0x2764f9(0x1b0)](_0x113921=>{const _0x5ded4b=_0x2764f9;return _0x343b60[_0x5ded4b(0x187)](_0x5ded4b(0x18b)+salesforce_request_1[_0x5ded4b(0x1af)]+_0x5ded4b(0x17d),{'mdlId':_0x1603be[_0x5ded4b(0x17e)],'opType':salesforce_request_type_1[_0x5ded4b(0x1a2)][_0x5ded4b(0x1a7)],'message':_0x113921[_0x5ded4b(0x19d)]||_0x113921});})[_0x2764f9(0x1b0)](_0x3b13e0=>logger[_0x2764f9(0x196)](_0x3b13e0[_0x2764f9(0x19d)])),{'message':'Job\x20started\x20successfully'};}async['deployComponents'](_0x5e6290){const _0x1f3f14=a84_0x51227d,_0xadebab=(0x0,salesforce_request_1[_0x1f3f14(0x1aa)])(auth_utils_1[_0x1f3f14(0x1b2)][_0x1f3f14(0x1be)](_0x5e6290[_0x1f3f14(0x1a3)]));return(0x0,deploy_attachment_service_1[_0x1f3f14(0x1a1)])(_0x5e6290,_0xadebab)['then'](_0x3f9313=>{const _0x3f0369=_0x1f3f14;return _0xadebab['post'](_0x3f0369(0x18b)+salesforce_request_1[_0x3f0369(0x1af)]+'/async',{'mdlId':_0x5e6290[_0x3f0369(0x17e)],'asyncId':_0x3f9313,'opType':salesforce_request_type_1[_0x3f0369(0x1a2)]['DEPLOY']});})[_0x1f3f14(0x1b0)](_0x1537bd=>{const _0xb1d0bd=_0x1f3f14;return _0xadebab[_0xb1d0bd(0x187)](_0xb1d0bd(0x18b)+salesforce_request_1[_0xb1d0bd(0x1af)]+'/async',{'mdlId':_0x5e6290[_0xb1d0bd(0x17e)],'opType':salesforce_request_type_1[_0xb1d0bd(0x1a2)][_0xb1d0bd(0x1a7)],'message':_0x1537bd['message']||_0x1537bd});})['catch'](_0x4e9c55=>logger[_0x1f3f14(0x196)](_0x4e9c55[_0x1f3f14(0x19d)])),{'message':_0x1f3f14(0x1ab)};}};__decorate([(0x0,core_1[a84_0x51227d(0x19a)])('retrieve'),__param(0x0,core_1['param'][a84_0x51227d(0x182)]()),__metadata(a84_0x51227d(0x1c3),Function),__metadata(a84_0x51227d(0x1bf),[Object]),__metadata('design:returntype',Promise)],FunctionsController[a84_0x51227d(0x192)],'retrieveZip',null),__decorate([(0x0,core_1[a84_0x51227d(0x19a)])(a84_0x51227d(0x19f)),__param(0x0,core_1[a84_0x51227d(0x1b8)]['body']()),__metadata('design:type',Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController[a84_0x51227d(0x192)],a84_0x51227d(0x1b6),null),__decorate([(0x0,core_1[a84_0x51227d(0x19a)])(a84_0x51227d(0x194)),__param(0x0,core_1[a84_0x51227d(0x1b8)][a84_0x51227d(0x182)]()),__metadata(a84_0x51227d(0x1c3),Function),__metadata(a84_0x51227d(0x1bf),[Object]),__metadata(a84_0x51227d(0x1bb),Promise)],FunctionsController[a84_0x51227d(0x192)],a84_0x51227d(0x17c),null),__decorate([(0x0,core_1[a84_0x51227d(0x19a)])('deploy-components'),__param(0x0,core_1['param']['body']()),__metadata(a84_0x51227d(0x1c3),Function),__metadata('design:paramtypes',[Object]),__metadata('design:returntype',Promise)],FunctionsController['prototype'],a84_0x51227d(0x1a1),null),FunctionsController=__decorate([(0x0,core_1[a84_0x51227d(0x1a8)])(a84_0x51227d(0x1b3)),(0x0,core_1[a84_0x51227d(0x1b4)])('v1')],FunctionsController),exports[a84_0x51227d(0x1b1)]=FunctionsController;