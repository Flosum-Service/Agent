const a83_0xbc8a73=a83_0x29b8;(function(_0x462800,_0x23ebae){const _0x4152f7=a83_0x29b8,_0x4346d5=_0x462800();while(!![]){try{const _0x1c0565=parseInt(_0x4152f7(0x16b))/0x1*(-parseInt(_0x4152f7(0x18b))/0x2)+parseInt(_0x4152f7(0x166))/0x3*(-parseInt(_0x4152f7(0x165))/0x4)+-parseInt(_0x4152f7(0x17f))/0x5*(-parseInt(_0x4152f7(0x16c))/0x6)+-parseInt(_0x4152f7(0x17a))/0x7+parseInt(_0x4152f7(0x158))/0x8+-parseInt(_0x4152f7(0x14d))/0x9+-parseInt(_0x4152f7(0x161))/0xa*(-parseInt(_0x4152f7(0x168))/0xb);if(_0x1c0565===_0x23ebae)break;else _0x4346d5['push'](_0x4346d5['shift']());}catch(_0x1a1565){_0x4346d5['push'](_0x4346d5['shift']());}}}(a83_0x4fb6,0xec26b));const a83_0x12195e=(function(){let _0x5d1d5f=!![];return function(_0x9dd9b2,_0x18af20){const _0x1e5aa6=_0x5d1d5f?function(){if(_0x18af20){const _0x2430fe=_0x18af20['apply'](_0x9dd9b2,arguments);return _0x18af20=null,_0x2430fe;}}:function(){};return _0x5d1d5f=![],_0x1e5aa6;};}()),a83_0x48bc58=a83_0x12195e(this,function(){const _0x19d7a6=a83_0x29b8;return a83_0x48bc58[_0x19d7a6(0x15e)]()[_0x19d7a6(0x172)](_0x19d7a6(0x175))[_0x19d7a6(0x15e)]()[_0x19d7a6(0x163)](a83_0x48bc58)['search'](_0x19d7a6(0x175));});a83_0x48bc58();'use strict';var __decorate=this&&this[a83_0xbc8a73(0x15f)]||function(_0x1b75fc,_0x5a3b26,_0x5e5e6b,_0x5e29e1){const _0x45baf8=a83_0xbc8a73;var _0x116343=arguments[_0x45baf8(0x150)],_0x5a64e9=_0x116343<0x3?_0x5a3b26:_0x5e29e1===null?_0x5e29e1=Object[_0x45baf8(0x17b)](_0x5a3b26,_0x5e5e6b):_0x5e29e1,_0x182495;if(typeof Reflect===_0x45baf8(0x14e)&&typeof Reflect[_0x45baf8(0x169)]===_0x45baf8(0x15a))_0x5a64e9=Reflect['decorate'](_0x1b75fc,_0x5a3b26,_0x5e5e6b,_0x5e29e1);else{for(var _0x16206c=_0x1b75fc[_0x45baf8(0x150)]-0x1;_0x16206c>=0x0;_0x16206c--)if(_0x182495=_0x1b75fc[_0x16206c])_0x5a64e9=(_0x116343<0x3?_0x182495(_0x5a64e9):_0x116343>0x3?_0x182495(_0x5a3b26,_0x5e5e6b,_0x5a64e9):_0x182495(_0x5a3b26,_0x5e5e6b))||_0x5a64e9;}return _0x116343>0x3&&_0x5a64e9&&Object['defineProperty'](_0x5a3b26,_0x5e5e6b,_0x5a64e9),_0x5a64e9;},__metadata=this&&this['__metadata']||function(_0x3a2713,_0x40eb95){const _0x460e52=a83_0xbc8a73;if(typeof Reflect===_0x460e52(0x14e)&&typeof Reflect[_0x460e52(0x159)]===_0x460e52(0x15a))return Reflect['metadata'](_0x3a2713,_0x40eb95);},__param=this&&this[a83_0xbc8a73(0x162)]||function(_0x167a94,_0x540ca7){return function(_0x5739da,_0x36e882){_0x540ca7(_0x5739da,_0x36e882,_0x167a94);};};Object[a83_0xbc8a73(0x151)](exports,a83_0xbc8a73(0x14f),{'value':!![]}),exports[a83_0xbc8a73(0x17d)]=void 0x0;function a83_0x4fb6(){const _0x45f6be=['function','error','./services/deploy-attachment.service','Logger','toString','__decorate','then','20BXCdGU','__param','constructor','deployComponents','747636pdaIcp','3ROYhHc','post','5859304mbHeys','decorate','param','68876PZmUbj','21342HaKuVq','catch','retrieveZip','Job\x20started\x20successfully','./types/salesforce-request.type','functions','search','generate-deploy-zip','SAVE_DEPLOY_ZIP','(((.+)+)+)+$','Version','DEPLOY','generateAndDeployZip','metadataLogId','4990223bedDxO','getOwnPropertyDescriptor','instanceUrl','FunctionsController','SAVE_BACKUP_ZIP','1100QfJvGN','design:paramtypes','ERROR','prototype','./services/retrieve-zip.service','deploy-components','message','design:type','retrieve','./utils/salesforce-request','OptionType','body','14xRpaPH','createRequest','design:returntype','/async','getAuthParameters','2205711rGLHKB','object','__esModule','length','defineProperty','Post','GET_TESTS','/services/apexrest','AuthUtils','namespace','fetchTestClasses','5971328whKaLl','metadata'];a83_0x4fb6=function(){return _0x45f6be;};return a83_0x4fb6();}const core_1=require('../../core'),salesforce_request_type_1=require(a83_0xbc8a73(0x170)),retrieve_zip_service_1=require(a83_0xbc8a73(0x183)),generate_zip_service_1=require('./services/generate-zip.service'),fetch_test_classes_service_1=require('./services/fetch-test-classes.service'),deploy_attachment_service_1=require(a83_0xbc8a73(0x15c)),salesforce_request_1=require(a83_0xbc8a73(0x188)),auth_utils_1=require('./utils/auth.utils'),logger=new core_1[(a83_0xbc8a73(0x15d))]('server');let FunctionsController=class FunctionsController{async[a83_0xbc8a73(0x16e)](_0x3b5f3f){const _0x3583cb=a83_0xbc8a73,_0x1c0f04=(0x0,salesforce_request_1[_0x3583cb(0x18c)])(auth_utils_1[_0x3583cb(0x155)]['getAuthParameters'](_0x3b5f3f[_0x3583cb(0x17c)]));return(0x0,retrieve_zip_service_1[_0x3583cb(0x16e)])(_0x3b5f3f,_0x1c0f04)['then'](()=>{const _0x24bb68=_0x3583cb;return _0x1c0f04[_0x24bb68(0x167)](_0x24bb68(0x154)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x3b5f3f['metadataLogId'],'opType':salesforce_request_type_1[_0x24bb68(0x189)][_0x24bb68(0x17e)]});})['catch'](_0x4f1bfe=>{const _0x3e4a50=_0x3583cb;return _0x1c0f04[_0x3e4a50(0x167)](_0x3e4a50(0x154)+salesforce_request_1[_0x3e4a50(0x156)]+_0x3e4a50(0x14b),{'mdlId':_0x3b5f3f[_0x3e4a50(0x179)],'opType':salesforce_request_type_1[_0x3e4a50(0x189)][_0x3e4a50(0x181)],'message':_0x4f1bfe[_0x3e4a50(0x185)]||_0x4f1bfe});})[_0x3583cb(0x16d)](_0x5ae418=>logger[_0x3583cb(0x15b)](_0x5ae418[_0x3583cb(0x185)])),{'message':_0x3583cb(0x16f)};}async[a83_0xbc8a73(0x157)](_0x3000a8){const _0x63ff8e=a83_0xbc8a73,_0x5216b9=(0x0,salesforce_request_1[_0x63ff8e(0x18c)])(auth_utils_1['AuthUtils'][_0x63ff8e(0x14c)](_0x3000a8['instanceUrl']));return(0x0,fetch_test_classes_service_1[_0x63ff8e(0x157)])(_0x3000a8,_0x5216b9)[_0x63ff8e(0x160)](()=>{const _0x37af78=_0x63ff8e;return _0x5216b9[_0x37af78(0x167)](_0x37af78(0x154)+salesforce_request_1['namespace']+_0x37af78(0x14b),{'mdlId':_0x3000a8[_0x37af78(0x179)],'opType':salesforce_request_type_1['OptionType'][_0x37af78(0x153)]});})[_0x63ff8e(0x16d)](_0x58f29f=>{const _0x51c6f8=_0x63ff8e;return _0x5216b9[_0x51c6f8(0x167)](_0x51c6f8(0x154)+salesforce_request_1[_0x51c6f8(0x156)]+'/async',{'mdlId':_0x3000a8['metadataLogId'],'opType':salesforce_request_type_1[_0x51c6f8(0x189)][_0x51c6f8(0x181)],'message':_0x58f29f[_0x51c6f8(0x185)]||_0x58f29f});})[_0x63ff8e(0x16d)](_0x1aeee0=>logger[_0x63ff8e(0x15b)](_0x1aeee0[_0x63ff8e(0x185)])),{'message':_0x63ff8e(0x16f)};}async[a83_0xbc8a73(0x178)](_0x5f3d94){const _0x4f351a=a83_0xbc8a73,_0x3a59e6=(0x0,salesforce_request_1[_0x4f351a(0x18c)])(auth_utils_1[_0x4f351a(0x155)][_0x4f351a(0x14c)](_0x5f3d94[_0x4f351a(0x17c)]));return(0x0,generate_zip_service_1['generateAndDeployZip'])(_0x5f3d94,_0x3a59e6)[_0x4f351a(0x160)](_0x37fcf1=>{const _0x3ac0be=_0x4f351a;return _0x3a59e6[_0x3ac0be(0x167)](_0x3ac0be(0x154)+salesforce_request_1['namespace']+'/async',{'mdlId':_0x5f3d94[_0x3ac0be(0x179)],'opType':salesforce_request_type_1[_0x3ac0be(0x189)][_0x3ac0be(0x174)],'attachment':_0x37fcf1});})[_0x4f351a(0x16d)](_0x184de8=>{const _0x4e9708=_0x4f351a;return _0x3a59e6[_0x4e9708(0x167)](_0x4e9708(0x154)+salesforce_request_1['namespace']+_0x4e9708(0x14b),{'mdlId':_0x5f3d94[_0x4e9708(0x179)],'opType':salesforce_request_type_1['OptionType'][_0x4e9708(0x181)],'message':_0x184de8[_0x4e9708(0x185)]||_0x184de8});})[_0x4f351a(0x16d)](_0x5bdf77=>logger[_0x4f351a(0x15b)](_0x5bdf77[_0x4f351a(0x185)])),{'message':_0x4f351a(0x16f)};}async[a83_0xbc8a73(0x164)](_0x598c74){const _0x24ff7f=a83_0xbc8a73,_0x1b7b4c=(0x0,salesforce_request_1[_0x24ff7f(0x18c)])(auth_utils_1[_0x24ff7f(0x155)][_0x24ff7f(0x14c)](_0x598c74[_0x24ff7f(0x17c)]));return(0x0,deploy_attachment_service_1[_0x24ff7f(0x164)])(_0x598c74,_0x1b7b4c)[_0x24ff7f(0x160)](_0x356953=>{const _0xc70d4b=_0x24ff7f;return _0x1b7b4c[_0xc70d4b(0x167)]('/services/apexrest'+salesforce_request_1[_0xc70d4b(0x156)]+_0xc70d4b(0x14b),{'mdlId':_0x598c74[_0xc70d4b(0x179)],'asyncId':_0x356953,'opType':salesforce_request_type_1['OptionType'][_0xc70d4b(0x177)]});})[_0x24ff7f(0x16d)](_0x3a9376=>{const _0x2d6a56=_0x24ff7f;return _0x1b7b4c['post'](_0x2d6a56(0x154)+salesforce_request_1[_0x2d6a56(0x156)]+'/async',{'mdlId':_0x598c74[_0x2d6a56(0x179)],'opType':salesforce_request_type_1[_0x2d6a56(0x189)][_0x2d6a56(0x181)],'message':_0x3a9376[_0x2d6a56(0x185)]||_0x3a9376});})[_0x24ff7f(0x16d)](_0x109393=>logger[_0x24ff7f(0x15b)](_0x109393[_0x24ff7f(0x185)])),{'message':_0x24ff7f(0x16f)};}};function a83_0x29b8(_0x41e0ed,_0x2b3727){const _0x17edd2=a83_0x4fb6();return a83_0x29b8=function(_0x48bc58,_0x12195e){_0x48bc58=_0x48bc58-0x14b;let _0x4fb68d=_0x17edd2[_0x48bc58];return _0x4fb68d;},a83_0x29b8(_0x41e0ed,_0x2b3727);}__decorate([(0x0,core_1[a83_0xbc8a73(0x152)])(a83_0xbc8a73(0x187)),__param(0x0,core_1[a83_0xbc8a73(0x16a)][a83_0xbc8a73(0x18a)]()),__metadata('design:type',Function),__metadata(a83_0xbc8a73(0x180),[Object]),__metadata(a83_0xbc8a73(0x18d),Promise)],FunctionsController[a83_0xbc8a73(0x182)],a83_0xbc8a73(0x16e),null),__decorate([(0x0,core_1[a83_0xbc8a73(0x152)])('fetch-test-classes'),__param(0x0,core_1['param']['body']()),__metadata(a83_0xbc8a73(0x186),Function),__metadata(a83_0xbc8a73(0x180),[Object]),__metadata(a83_0xbc8a73(0x18d),Promise)],FunctionsController[a83_0xbc8a73(0x182)],a83_0xbc8a73(0x157),null),__decorate([(0x0,core_1['Post'])(a83_0xbc8a73(0x173)),__param(0x0,core_1[a83_0xbc8a73(0x16a)]['body']()),__metadata(a83_0xbc8a73(0x186),Function),__metadata(a83_0xbc8a73(0x180),[Object]),__metadata(a83_0xbc8a73(0x18d),Promise)],FunctionsController['prototype'],'generateAndDeployZip',null),__decorate([(0x0,core_1['Post'])(a83_0xbc8a73(0x184)),__param(0x0,core_1[a83_0xbc8a73(0x16a)][a83_0xbc8a73(0x18a)]()),__metadata(a83_0xbc8a73(0x186),Function),__metadata(a83_0xbc8a73(0x180),[Object]),__metadata(a83_0xbc8a73(0x18d),Promise)],FunctionsController[a83_0xbc8a73(0x182)],a83_0xbc8a73(0x164),null),FunctionsController=__decorate([(0x0,core_1['Controller'])(a83_0xbc8a73(0x171)),(0x0,core_1[a83_0xbc8a73(0x176)])('v1')],FunctionsController),exports[a83_0xbc8a73(0x17d)]=FunctionsController;