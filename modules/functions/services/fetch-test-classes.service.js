const a85_0x29df4f=a85_0x1e3f;(function(_0x17579e,_0x3666c5){const _0x5ad0b2=a85_0x1e3f,_0x38f4c9=_0x17579e();while(!![]){try{const _0x54a18b=parseInt(_0x5ad0b2(0x184))/0x1*(parseInt(_0x5ad0b2(0x173))/0x2)+-parseInt(_0x5ad0b2(0x180))/0x3*(parseInt(_0x5ad0b2(0x176))/0x4)+-parseInt(_0x5ad0b2(0x161))/0x5+parseInt(_0x5ad0b2(0x175))/0x6*(parseInt(_0x5ad0b2(0x170))/0x7)+parseInt(_0x5ad0b2(0x178))/0x8+-parseInt(_0x5ad0b2(0x167))/0x9*(parseInt(_0x5ad0b2(0x174))/0xa)+parseInt(_0x5ad0b2(0x17f))/0xb;if(_0x54a18b===_0x3666c5)break;else _0x38f4c9['push'](_0x38f4c9['shift']());}catch(_0x4c523b){_0x38f4c9['push'](_0x38f4c9['shift']());}}}(a85_0x5e33,0x3f7fa));const a85_0x53c95e=(function(){let _0x3282ff=!![];return function(_0x1ae00d,_0x1a88d5){const _0x4bbe2c=_0x3282ff?function(){if(_0x1a88d5){const _0x50e68b=_0x1a88d5['apply'](_0x1ae00d,arguments);return _0x1a88d5=null,_0x50e68b;}}:function(){};return _0x3282ff=![],_0x4bbe2c;};}()),a85_0x423b33=a85_0x53c95e(this,function(){const _0x5c2efd=a85_0x1e3f;return a85_0x423b33[_0x5c2efd(0x188)]()[_0x5c2efd(0x185)](_0x5c2efd(0x17d))[_0x5c2efd(0x188)]()['constructor'](a85_0x423b33)[_0x5c2efd(0x185)](_0x5c2efd(0x17d));});a85_0x423b33();'use strict';Object[a85_0x29df4f(0x169)](exports,a85_0x29df4f(0x181),{'value':!![]}),exports[a85_0x29df4f(0x18a)]=void 0x0;function a85_0x1e3f(_0x3f399c,_0x4a0fb0){const _0x115ff4=a85_0x5e33();return a85_0x1e3f=function(_0x423b33,_0x53c95e){_0x423b33=_0x423b33-0x15e;let _0x5e33dd=_0x115ff4[_0x423b33];return _0x5e33dd;},a85_0x1e3f(_0x3f399c,_0x4a0fb0);}const constants_1=require('../../../constants'),zip_1=require('../../git/parsers/utils/zip'),components_api_1=require('../utils/components-api'),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x29df4f(0x17c)],ATTACHMENT_NAME=a85_0x29df4f(0x166),ATTACHMENT_DESCRIPTION=a85_0x29df4f(0x166);async function fetchTestClasses(_0x31f593,_0x5edd83){const _0x2a800c=a85_0x29df4f,_0x39d2c0=await(0x0,fetch_attachments_1[_0x2a800c(0x17e)])(_0x5edd83,_0x31f593[_0x2a800c(0x160)]),_0x10a51b=await components_api_1[_0x2a800c(0x16a)][_0x2a800c(0x186)](_0x5edd83,_0x39d2c0[_0x2a800c(0x164)](({ParentId:_0x28310e})=>_0x28310e))[_0x2a800c(0x162)](_0x24f382=>components_api_1[_0x2a800c(0x16a)][_0x2a800c(0x16d)](_0x24f382)),_0x2af03d=await retrieveTestClasses(_0x5edd83,_0x39d2c0,_0x10a51b),_0x20cdce={'ParentId':_0x31f593[_0x2a800c(0x16e)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x2a800c(0x16f)](_0x2af03d[_0x2a800c(0x163)]('\x0a'))[_0x2a800c(0x188)](_0x2a800c(0x16b))};await _0x5edd83['post'](_0x2a800c(0x16c)+constants_1['SALESFORCE_API_VERSION']+_0x2a800c(0x172),_0x20cdce);}exports[a85_0x29df4f(0x18a)]=fetchTestClasses;async function retrieveTestClasses(_0xe70c68,_0x496220,_0x48df24){const _0x35c820=a85_0x29df4f,_0xd4ab55=[],_0x476785=await(0x0,fetch_attachments_1[_0x35c820(0x189)])(_0x496220,_0xe70c68),_0x39fbdc=_0x476785['map'](_0x15d9ed=>_0x15d9ed['id']);return await getTestClassesNames(_0xe70c68,_0x39fbdc,_0x48df24,_0x496220)[_0x35c820(0x162)](_0x14dfdc=>{const _0x52f3c7=_0x35c820;_0xd4ab55[_0x52f3c7(0x187)](..._0x14dfdc);}),_0xd4ab55;}function a85_0x5e33(){const _0x39a7cd=['28772tKHBDG','ParentId','1387000AYNltl','Component_Name__c','find','unzip','Body','(((.+)+)+)+$','fetchAttachmentsDetailsById','1208284VThfCJ','78pgmIPj','__esModule','keys','values','239GEkwsR','search','fetchComponentsDetailsByComponentsHistory','push','toString','retrieveAttachments','fetchTestClasses','No\x20component\x20by\x20attachment\x20id','reduce','Component__r','attachmentsId','1822700KPNiAp','then','join','map','string','TEST\x20CLASSES','61902Juipfz','fetchAttachments','defineProperty','ComponentsApi','base64','/services/data/','removeNamespacePrefix','metadataLogId','from','304402UEVJCO','files','/sobjects/Attachment','822GqJsQE','70YCPtZK','66ofhKzr'];a85_0x5e33=function(){return _0x39a7cd;};return a85_0x5e33();}async function getTestClassesNames(_0x50810e,_0xc77356,_0x3b037e,_0x2001d5){const _0x5be945=a85_0x29df4f,_0x441c64=await(0x0,fetch_attachments_1[_0x5be945(0x168)])(_0x50810e,BINARY_FIELDS,_0xc77356),_0x28b428=[],_0x297f62=_0x2001d5[_0x5be945(0x15e)]((_0x42e9cf,_0x1df733)=>{const _0x47cede=_0x5be945;var _0x5be8f6;const _0x4b58e3=(_0x5be8f6=_0x3b037e[_0x47cede(0x17a)](_0x185417=>_0x185417['Id']===_0x1df733[_0x47cede(0x177)]))===null||_0x5be8f6===void 0x0?void 0x0:_0x5be8f6[_0x47cede(0x15f)][_0x47cede(0x179)];if(!_0x4b58e3)throw new Error(_0x47cede(0x18b));return{..._0x42e9cf,[_0x1df733['Id']]:_0x4b58e3};},{});for(const _0x4c6bed of _0x441c64){const _0x13a926=await zip_1['Zip'][_0x5be945(0x17b)](_0x4c6bed[_0x5be945(0x183)][_0x5be945(0x17c)]);for(const _0x176a12 of Object[_0x5be945(0x182)](_0x13a926[_0x5be945(0x171)])){if(!_0x13a926['files'][_0x176a12]['dir']){const _0x4c247b=await _0x13a926[_0x5be945(0x171)][_0x176a12]['async'](_0x5be945(0x165)),_0x4492b6=new RegExp('@istest','i');if(_0x4492b6['test'](_0x4c247b)){const _0x5955a7=_0x297f62[_0x4c6bed['id']];if(!_0x5955a7)throw new Error(_0x5be945(0x18b));_0x28b428[_0x5be945(0x187)](_0x5955a7);}}}}return _0x28b428;}