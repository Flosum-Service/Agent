const a85_0x17c3eb=a85_0x26aa;(function(_0x2628bb,_0x45bf48){const _0x55cc50=a85_0x26aa,_0x96875a=_0x2628bb();while(!![]){try{const _0x4366dc=-parseInt(_0x55cc50(0x17b))/0x1*(parseInt(_0x55cc50(0x173))/0x2)+parseInt(_0x55cc50(0x184))/0x3*(parseInt(_0x55cc50(0x198))/0x4)+parseInt(_0x55cc50(0x18c))/0x5+-parseInt(_0x55cc50(0x178))/0x6*(-parseInt(_0x55cc50(0x193))/0x7)+parseInt(_0x55cc50(0x17e))/0x8*(parseInt(_0x55cc50(0x175))/0x9)+parseInt(_0x55cc50(0x177))/0xa+-parseInt(_0x55cc50(0x19b))/0xb;if(_0x4366dc===_0x45bf48)break;else _0x96875a['push'](_0x96875a['shift']());}catch(_0x315331){_0x96875a['push'](_0x96875a['shift']());}}}(a85_0x57ac,0xeb50c));const a85_0x136fc3=(function(){let _0x125670=!![];return function(_0x3595c3,_0x3047d2){const _0x53f99d=_0x125670?function(){const _0x5dec0f=a85_0x26aa;if(_0x3047d2){const _0x8c6575=_0x3047d2[_0x5dec0f(0x17a)](_0x3595c3,arguments);return _0x3047d2=null,_0x8c6575;}}:function(){};return _0x125670=![],_0x53f99d;};}()),a85_0x2ebd11=a85_0x136fc3(this,function(){const _0x54c23a=a85_0x26aa;return a85_0x2ebd11['toString']()[_0x54c23a(0x197)]('(((.+)+)+)+$')[_0x54c23a(0x192)]()['constructor'](a85_0x2ebd11)[_0x54c23a(0x197)]('(((.+)+)+)+$');});function a85_0x26aa(_0x182c79,_0xc87c98){const _0xc514e1=a85_0x57ac();return a85_0x26aa=function(_0x2ebd11,_0x136fc3){_0x2ebd11=_0x2ebd11-0x16f;let _0x57ac0c=_0xc514e1[_0x2ebd11];return _0x57ac0c;},a85_0x26aa(_0x182c79,_0xc87c98);}a85_0x2ebd11();'use strict';Object[a85_0x17c3eb(0x18a)](exports,'__esModule',{'value':!![]}),exports[a85_0x17c3eb(0x170)]=void 0x0;const constants_1=require(a85_0x17c3eb(0x189)),zip_1=require(a85_0x17c3eb(0x19d)),components_api_1=require('../utils/components-api'),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x17c3eb(0x191)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a85_0x17c3eb(0x16f);async function fetchTestClasses(_0x2a275d,_0x52cd32){const _0x590bb7=a85_0x17c3eb,_0x126fb0=await(0x0,fetch_attachments_1[_0x590bb7(0x181)])(_0x52cd32,_0x2a275d['attachmentsId']),_0x1910df=await components_api_1[_0x590bb7(0x180)][_0x590bb7(0x19a)](_0x52cd32,_0x126fb0['map'](({ParentId:_0x56306c})=>_0x56306c))[_0x590bb7(0x174)](_0x47ede7=>components_api_1[_0x590bb7(0x180)][_0x590bb7(0x196)](_0x47ede7)),_0x2a16d3=await retrieveTestClasses(_0x52cd32,_0x126fb0,_0x1910df),_0x3b5d7e={'ParentId':_0x2a275d[_0x590bb7(0x171)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer['from'](_0x2a16d3['join']('\x0a'))['toString'](_0x590bb7(0x179))};await _0x52cd32[_0x590bb7(0x195)](_0x590bb7(0x187)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x3b5d7e);}exports['fetchTestClasses']=fetchTestClasses;function a85_0x57ac(){const _0x2d3d95=['Component_Name__c','../../git/parsers/utils/zip','TEST\x20CLASSES','fetchTestClasses','metadataLogId','find','352364eFHAmy','then','368001xZTYPG','values','10650900TJFpUD','6hFzxkZ','base64','apply','1OvchjU','push','test','144vVxdvs','reduce','ComponentsApi','fetchAttachmentsDetailsById','dir','keys','6ziZOIR','map','Component__r','/services/data/','retrieveAttachments','../../../constants','defineProperty','Zip','2867230rPuomG','No\x20component\x20by\x20attachment\x20id','async','fetchAttachments','ParentId','Body','toString','12732587Mbugti','unzip','post','removeNamespacePrefix','search','2245808ZCAdjy','files','fetchComponentsDetailsByComponentsHistory','45939839kvTvnB'];a85_0x57ac=function(){return _0x2d3d95;};return a85_0x57ac();}async function retrieveTestClasses(_0x4e3d6d,_0x34025d,_0x11903a){const _0x5697f5=a85_0x17c3eb,_0x36fca6=[],_0x405dd6=await(0x0,fetch_attachments_1[_0x5697f5(0x188)])(_0x34025d,_0x4e3d6d),_0x45db10=_0x405dd6[_0x5697f5(0x185)](_0x141748=>_0x141748['id']);return await getTestClassesNames(_0x4e3d6d,_0x45db10,_0x11903a,_0x34025d)['then'](_0xcef193=>{const _0x1e348b=_0x5697f5;_0x36fca6[_0x1e348b(0x17c)](..._0xcef193);}),_0x36fca6;}async function getTestClassesNames(_0x1dd399,_0x553f98,_0x59ccbd,_0x3f87ab){const _0x866e17=a85_0x17c3eb,_0x56cbfb=await(0x0,fetch_attachments_1[_0x866e17(0x18f)])(_0x1dd399,BINARY_FIELDS,_0x553f98),_0x4e44b2=[],_0x4d00ec=_0x3f87ab[_0x866e17(0x17f)]((_0x575283,_0x1af2dd)=>{const _0x46bf97=_0x866e17;var _0x3c926f;const _0x3c6194=(_0x3c926f=_0x59ccbd[_0x46bf97(0x172)](_0x31a4ee=>_0x31a4ee['Id']===_0x1af2dd[_0x46bf97(0x190)]))===null||_0x3c926f===void 0x0?void 0x0:_0x3c926f[_0x46bf97(0x186)][_0x46bf97(0x19c)];if(!_0x3c6194)throw new Error(_0x46bf97(0x18d));return{..._0x575283,[_0x1af2dd['Id']]:_0x3c6194};},{});for(const _0x1be524 of _0x56cbfb){const _0x4493b1=await zip_1[_0x866e17(0x18b)][_0x866e17(0x194)](_0x1be524[_0x866e17(0x176)][_0x866e17(0x191)]);for(const _0x519352 of Object[_0x866e17(0x183)](_0x4493b1[_0x866e17(0x199)])){if(!_0x4493b1['files'][_0x519352][_0x866e17(0x182)]){const _0x3f5de5=await _0x4493b1['files'][_0x519352][_0x866e17(0x18e)]('string'),_0x2d5cc8=new RegExp('@istest','i');if(_0x2d5cc8[_0x866e17(0x17d)](_0x3f5de5)){const _0x319751=_0x4d00ec[_0x1be524['id']];if(!_0x319751)throw new Error(_0x866e17(0x18d));_0x4e44b2[_0x866e17(0x17c)](_0x319751);}}}}return _0x4e44b2;}