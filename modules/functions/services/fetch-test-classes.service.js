const a85_0x193439=a85_0x1a6e;(function(_0x5319ca,_0x245441){const _0xf68590=a85_0x1a6e,_0x7ce537=_0x5319ca();while(!![]){try{const _0xd8a501=parseInt(_0xf68590(0x1b5))/0x1+-parseInt(_0xf68590(0x1b1))/0x2+-parseInt(_0xf68590(0x1a0))/0x3*(-parseInt(_0xf68590(0x1ba))/0x4)+-parseInt(_0xf68590(0x1ca))/0x5*(-parseInt(_0xf68590(0x1a9))/0x6)+parseInt(_0xf68590(0x1c4))/0x7*(parseInt(_0xf68590(0x1be))/0x8)+-parseInt(_0xf68590(0x1a4))/0x9*(-parseInt(_0xf68590(0x1cc))/0xa)+parseInt(_0xf68590(0x1c9))/0xb*(-parseInt(_0xf68590(0x1b6))/0xc);if(_0xd8a501===_0x245441)break;else _0x7ce537['push'](_0x7ce537['shift']());}catch(_0x1b94bd){_0x7ce537['push'](_0x7ce537['shift']());}}}(a85_0xdf47,0x2d0b9));const a85_0x267ec6=(function(){let _0x4c14a9=!![];return function(_0x56fba0,_0x566002){const _0x3c8906=_0x4c14a9?function(){if(_0x566002){const _0x153ca9=_0x566002['apply'](_0x56fba0,arguments);return _0x566002=null,_0x153ca9;}}:function(){};return _0x4c14a9=![],_0x3c8906;};}()),a85_0x3b772d=a85_0x267ec6(this,function(){const _0xda7c75=a85_0x1a6e;return a85_0x3b772d[_0xda7c75(0x1c8)]()[_0xda7c75(0x1ab)](_0xda7c75(0x1a5))[_0xda7c75(0x1c8)]()[_0xda7c75(0x1bf)](a85_0x3b772d)[_0xda7c75(0x1ab)](_0xda7c75(0x1a5));});function a85_0x1a6e(_0x4518f0,_0xb4c192){const _0x5a1d2f=a85_0xdf47();return a85_0x1a6e=function(_0x3b772d,_0x267ec6){_0x3b772d=_0x3b772d-0x19f;let _0xdf475b=_0x5a1d2f[_0x3b772d];return _0xdf475b;},a85_0x1a6e(_0x4518f0,_0xb4c192);}a85_0x3b772d();'use strict';Object[a85_0x193439(0x1ce)](exports,'__esModule',{'value':!![]}),exports[a85_0x193439(0x1a7)]=void 0x0;const constants_1=require(a85_0x193439(0x1cd)),zip_1=require(a85_0x193439(0x1bd)),components_api_1=require('../utils/components-api'),fetch_attachments_1=require(a85_0x193439(0x1c2)),BINARY_FIELDS=[a85_0x193439(0x1c1)],ATTACHMENT_NAME=a85_0x193439(0x1b9),ATTACHMENT_DESCRIPTION='TEST\x20CLASSES';function a85_0xdf47(){const _0x5e7bec=['../../git/parsers/utils/zip','8gftHor','constructor','post','Body','../../shared/utils/fetch-attachments','files','1435399vyysHC','dir','then','No\x20component\x20by\x20attachment\x20id','toString','12287ORfUBX','30nDFhbv','/services/data/','227410eidQTA','../../../constants','defineProperty','test','6042eYadEC','keys','unzip','/sobjects/Attachment','90ZEmmjd','(((.+)+)+)+$','ParentId','fetchTestClasses','ComponentsApi','226230VWzqxx','base64','search','string','removeNamespacePrefix','fetchAttachmentsDetailsById','Component__r','async','687406VYwlRJ','Zip','from','metadataLogId','96346SqLSke','3324MYewpg','push','retrieveAttachments','TEST\x20CLASSES','164tjrYCr','map','fetchComponentsDetailsByComponentsHistory'];a85_0xdf47=function(){return _0x5e7bec;};return a85_0xdf47();}async function fetchTestClasses(_0x5b52be,_0x95289c){const _0x505280=a85_0x193439,_0x313877=await(0x0,fetch_attachments_1[_0x505280(0x1ae)])(_0x95289c,_0x5b52be['attachmentsId']),_0x5a810d=await components_api_1[_0x505280(0x1a8)][_0x505280(0x1bc)](_0x95289c,_0x313877[_0x505280(0x1bb)](({ParentId:_0xd57559})=>_0xd57559))[_0x505280(0x1c6)](_0x5f41e9=>components_api_1['ComponentsApi'][_0x505280(0x1ad)](_0x5f41e9)),_0x16f71e=await retrieveTestClasses(_0x95289c,_0x313877,_0x5a810d),_0x40412f={'ParentId':_0x5b52be[_0x505280(0x1b4)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x505280(0x1b3)](_0x16f71e['join']('\x0a'))[_0x505280(0x1c8)](_0x505280(0x1aa))};await _0x95289c[_0x505280(0x1c0)](_0x505280(0x1cb)+constants_1['SALESFORCE_API_VERSION']+_0x505280(0x1a3),_0x40412f);}exports['fetchTestClasses']=fetchTestClasses;async function retrieveTestClasses(_0x6a3b4e,_0xb023a,_0x531057){const _0x44a4ab=a85_0x193439,_0x57c1b7=[],_0x378c2b=await(0x0,fetch_attachments_1[_0x44a4ab(0x1b8)])(_0xb023a,_0x6a3b4e),_0x52d8a1=_0x378c2b[_0x44a4ab(0x1bb)](_0x3d1ab1=>_0x3d1ab1['id']);return await getTestClassesNames(_0x6a3b4e,_0x52d8a1,_0x531057,_0xb023a)[_0x44a4ab(0x1c6)](_0x5c4020=>{const _0x24f078=_0x44a4ab;_0x57c1b7[_0x24f078(0x1b7)](..._0x5c4020);}),_0x57c1b7;}async function getTestClassesNames(_0x1eb4fa,_0x466b8a,_0xa2380e,_0x5ab7dd){const _0x5958ab=a85_0x193439,_0x33d015=await(0x0,fetch_attachments_1['fetchAttachments'])(_0x1eb4fa,BINARY_FIELDS,_0x466b8a),_0x314016=[],_0x2ee788=_0x5ab7dd['reduce']((_0x5969cc,_0x167d24)=>{const _0x4a1a8f=a85_0x1a6e;var _0x4606e6;const _0x321163=(_0x4606e6=_0xa2380e['find'](_0xfd5c7f=>_0xfd5c7f['Id']===_0x167d24[_0x4a1a8f(0x1a6)]))===null||_0x4606e6===void 0x0?void 0x0:_0x4606e6[_0x4a1a8f(0x1af)]['Component_Name__c'];if(!_0x321163)throw new Error(_0x4a1a8f(0x1c7));return{..._0x5969cc,[_0x167d24['Id']]:_0x321163};},{});for(const _0x5eb96f of _0x33d015){const _0xe26e7=await zip_1[_0x5958ab(0x1b2)][_0x5958ab(0x1a2)](_0x5eb96f['values'][_0x5958ab(0x1c1)]);for(const _0x15a872 of Object[_0x5958ab(0x1a1)](_0xe26e7[_0x5958ab(0x1c3)])){if(!_0xe26e7['files'][_0x15a872][_0x5958ab(0x1c5)]){const _0x47cc16=await _0xe26e7['files'][_0x15a872][_0x5958ab(0x1b0)](_0x5958ab(0x1ac)),_0x35657f=new RegExp('@istest','i');if(_0x35657f[_0x5958ab(0x19f)](_0x47cc16)){const _0x2ed9ff=_0x2ee788[_0x5eb96f['id']];if(!_0x2ed9ff)throw new Error(_0x5958ab(0x1c7));_0x314016[_0x5958ab(0x1b7)](_0x2ed9ff);}}}}return _0x314016;}