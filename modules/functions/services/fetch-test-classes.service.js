const a85_0x49e8f7=a85_0x2af8;(function(_0xcbc49f,_0x55b18c){const _0xea7cdf=a85_0x2af8,_0x2e052c=_0xcbc49f();while(!![]){try{const _0x114af5=parseInt(_0xea7cdf(0x11a))/0x1*(parseInt(_0xea7cdf(0x11e))/0x2)+-parseInt(_0xea7cdf(0x10f))/0x3+-parseInt(_0xea7cdf(0x12e))/0x4+parseInt(_0xea7cdf(0x113))/0x5*(-parseInt(_0xea7cdf(0x118))/0x6)+parseInt(_0xea7cdf(0x10d))/0x7*(parseInt(_0xea7cdf(0x11c))/0x8)+-parseInt(_0xea7cdf(0x106))/0x9+parseInt(_0xea7cdf(0x12c))/0xa*(parseInt(_0xea7cdf(0x115))/0xb);if(_0x114af5===_0x55b18c)break;else _0x2e052c['push'](_0x2e052c['shift']());}catch(_0x3652c8){_0x2e052c['push'](_0x2e052c['shift']());}}}(a85_0x97d7,0x39707));const a85_0x50e725=(function(){let _0x4bd05b=!![];return function(_0x2e8c82,_0x163865){const _0x222709=_0x4bd05b?function(){const _0xbe76b5=a85_0x2af8;if(_0x163865){const _0xf7bfb7=_0x163865[_0xbe76b5(0x10a)](_0x2e8c82,arguments);return _0x163865=null,_0xf7bfb7;}}:function(){};return _0x4bd05b=![],_0x222709;};}()),a85_0x6c8aa1=a85_0x50e725(this,function(){const _0x1caf80=a85_0x2af8;return a85_0x6c8aa1[_0x1caf80(0x114)]()[_0x1caf80(0x11d)](_0x1caf80(0x11f))[_0x1caf80(0x114)]()['constructor'](a85_0x6c8aa1)[_0x1caf80(0x11d)](_0x1caf80(0x11f));});a85_0x6c8aa1();function a85_0x2af8(_0x1b5b5a,_0x44730e){const _0x3d0b3e=a85_0x97d7();return a85_0x2af8=function(_0x6c8aa1,_0x50e725){_0x6c8aa1=_0x6c8aa1-0x104;let _0x97d737=_0x3d0b3e[_0x6c8aa1];return _0x97d737;},a85_0x2af8(_0x1b5b5a,_0x44730e);}'use strict';Object[a85_0x49e8f7(0x124)](exports,a85_0x49e8f7(0x107),{'value':!![]}),exports['fetchTestClasses']=void 0x0;function a85_0x97d7(){const _0x3844db=['values','map','TEST\x20CLASSES','../../git/parsers/utils/zip','2888748kKrprN','__esModule','Body','fetchAttachmentsDetailsById','apply','files','from','635131bHGOua','push','339903ViDrfM','Component_Name__c','reduce','SALESFORCE_API_VERSION','5GCFEHs','toString','13013BQtpdk','../../../constants','metadataLogId','876738PfKjZY','Zip','13NbTHoQ','/services/data/','8KSASOx','search','53114vxWlvE','(((.+)+)+)+$','/sobjects/Attachment','@istest','No\x20component\x20by\x20attachment\x20id','test','defineProperty','ParentId','fetchTestClasses','then','Component__r','keys','post','find','3350Iygaef','ComponentsApi','66448nqAcLM','fetchComponentsDetailsByComponentsHistory'];a85_0x97d7=function(){return _0x3844db;};return a85_0x97d7();}const constants_1=require(a85_0x49e8f7(0x116)),zip_1=require(a85_0x49e8f7(0x105)),components_api_1=require('../utils/components-api'),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x49e8f7(0x108)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a85_0x49e8f7(0x104);async function fetchTestClasses(_0x3f080e,_0x4cbe77){const _0x5dbca9=a85_0x49e8f7,_0x4774ed=await(0x0,fetch_attachments_1[_0x5dbca9(0x109)])(_0x4cbe77,_0x3f080e['attachmentsId']),_0x3b4a6d=await components_api_1['ComponentsApi'][_0x5dbca9(0x12f)](_0x4cbe77,_0x4774ed[_0x5dbca9(0x131)](({ParentId:_0x41ec28})=>_0x41ec28))[_0x5dbca9(0x127)](_0x1dfbcb=>components_api_1[_0x5dbca9(0x12d)]['removeNamespacePrefix'](_0x1dfbcb)),_0xa7e75b=await retrieveTestClasses(_0x4cbe77,_0x4774ed,_0x3b4a6d),_0x36d8b0={'ParentId':_0x3f080e[_0x5dbca9(0x117)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x5dbca9(0x10c)](_0xa7e75b['join']('\x0a'))[_0x5dbca9(0x114)]('base64')};await _0x4cbe77[_0x5dbca9(0x12a)](_0x5dbca9(0x11b)+constants_1[_0x5dbca9(0x112)]+_0x5dbca9(0x120),_0x36d8b0);}exports[a85_0x49e8f7(0x126)]=fetchTestClasses;async function retrieveTestClasses(_0x46f7e4,_0x35e066,_0xf308d6){const _0x47de99=a85_0x49e8f7,_0x394ceb=[],_0xb4c9c9=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x35e066,_0x46f7e4),_0x4eb055=_0xb4c9c9[_0x47de99(0x131)](_0x5ba6c3=>_0x5ba6c3['id']);return await getTestClassesNames(_0x46f7e4,_0x4eb055,_0xf308d6,_0x35e066)['then'](_0x30d1b8=>{_0x394ceb['push'](..._0x30d1b8);}),_0x394ceb;}async function getTestClassesNames(_0x554ca0,_0x47283e,_0x21c7a9,_0x4d66cf){const _0x3df9ca=a85_0x49e8f7,_0x5b67e3=await(0x0,fetch_attachments_1['fetchAttachments'])(_0x554ca0,BINARY_FIELDS,_0x47283e),_0x40460a=[],_0x214482=_0x4d66cf[_0x3df9ca(0x111)]((_0x320ad9,_0x7e994b)=>{const _0x5b07ac=_0x3df9ca;var _0x1d886b;const _0x90d07f=(_0x1d886b=_0x21c7a9[_0x5b07ac(0x12b)](_0x197ea6=>_0x197ea6['Id']===_0x7e994b[_0x5b07ac(0x125)]))===null||_0x1d886b===void 0x0?void 0x0:_0x1d886b[_0x5b07ac(0x128)][_0x5b07ac(0x110)];if(!_0x90d07f)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x320ad9,[_0x7e994b['Id']]:_0x90d07f};},{});for(const _0x58fcfc of _0x5b67e3){const _0xdd599a=await zip_1[_0x3df9ca(0x119)]['unzip'](_0x58fcfc[_0x3df9ca(0x130)][_0x3df9ca(0x108)]);for(const _0x55f7b9 of Object[_0x3df9ca(0x129)](_0xdd599a[_0x3df9ca(0x10b)])){if(!_0xdd599a[_0x3df9ca(0x10b)][_0x55f7b9]['dir']){const _0x5438cb=await _0xdd599a[_0x3df9ca(0x10b)][_0x55f7b9]['async']('string'),_0xc7b47=new RegExp(_0x3df9ca(0x121),'i');if(_0xc7b47[_0x3df9ca(0x123)](_0x5438cb)){const _0x360767=_0x214482[_0x58fcfc['id']];if(!_0x360767)throw new Error(_0x3df9ca(0x122));_0x40460a[_0x3df9ca(0x10e)](_0x360767);}}}}return _0x40460a;}