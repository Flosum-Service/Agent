const a101_0x3b29bc=a101_0x2f1f;function a101_0x333e(){const _0x58e1d7=['unzip','1507646uyjiYY','__esModule','TEST\x20CLASSES','4301682mUJlqS','/sobjects/Attachment','../../git/parsers/utils/zip','reduce','join','No\x20component\x20by\x20attachment\x20id','fetchAttachments','482316wmGMmr','(((.+)+)+)+$','../utils/components-api','attachmentsId','files','then','ComponentsApi','base64','35LIDpRb','144640DoomRp','ParentId','map','3HZaRif','Component__r','fetchTestClasses','apiVersion','Zip','dir','async','fetchComponentsDetailsByComponentsHistory','87180rNhmIg','15qBqUPL','keys','54iXzjEF','find','constructor','search','push','string','defineProperty','25082seiVlp','apply','values','from','retrieveAttachments','@istest','Body','1933190OJuEtD'];a101_0x333e=function(){return _0x58e1d7;};return a101_0x333e();}(function(_0x470912,_0x4865e1){const _0x208dd7=a101_0x2f1f,_0x4b1aee=_0x470912();while(!![]){try{const _0x4c9eb8=-parseInt(_0x208dd7(0xeb))/0x1*(parseInt(_0x208dd7(0xc3))/0x2)+-parseInt(_0x208dd7(0xe2))/0x3*(-parseInt(_0x208dd7(0xd6))/0x4)+parseInt(_0x208dd7(0xde))/0x5*(parseInt(_0x208dd7(0xea))/0x6)+parseInt(_0x208dd7(0xcc))/0x7+-parseInt(_0x208dd7(0xdf))/0x8*(-parseInt(_0x208dd7(0xbc))/0x9)+parseInt(_0x208dd7(0xca))/0xa+-parseInt(_0x208dd7(0xcf))/0xb;if(_0x4c9eb8===_0x4865e1)break;else _0x4b1aee['push'](_0x4b1aee['shift']());}catch(_0x2d34af){_0x4b1aee['push'](_0x4b1aee['shift']());}}}(a101_0x333e,0x27221));const a101_0x135521=(function(){let _0x1ae933=!![];return function(_0x382df1,_0x5bfe2b){const _0x441be6=_0x1ae933?function(){const _0x30b3e0=a101_0x2f1f;if(_0x5bfe2b){const _0x6fe8dd=_0x5bfe2b[_0x30b3e0(0xc4)](_0x382df1,arguments);return _0x5bfe2b=null,_0x6fe8dd;}}:function(){};return _0x1ae933=![],_0x441be6;};}()),a101_0xb07ad7=a101_0x135521(this,function(){const _0x11da23=a101_0x2f1f;return a101_0xb07ad7['toString']()[_0x11da23(0xbf)]('(((.+)+)+)+$')['toString']()[_0x11da23(0xbe)](a101_0xb07ad7)[_0x11da23(0xbf)](_0x11da23(0xd7));});function a101_0x2f1f(_0x14c46d,_0x2200a3){const _0x53faf6=a101_0x333e();return a101_0x2f1f=function(_0xb07ad7,_0x135521){_0xb07ad7=_0xb07ad7-0xbc;let _0x333e78=_0x53faf6[_0xb07ad7];return _0x333e78;},a101_0x2f1f(_0x14c46d,_0x2200a3);}a101_0xb07ad7();'use strict';Object[a101_0x3b29bc(0xc2)](exports,a101_0x3b29bc(0xcd),{'value':!![]}),exports[a101_0x3b29bc(0xe4)]=void 0x0;const zip_1=require(a101_0x3b29bc(0xd1)),components_api_1=require(a101_0x3b29bc(0xd8)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a101_0x3b29bc(0xc9)],ATTACHMENT_NAME=a101_0x3b29bc(0xce),ATTACHMENT_DESCRIPTION='TEST\x20CLASSES';async function fetchTestClasses(_0x51852a,_0x366c11){const _0x2a175a=a101_0x3b29bc,_0x1250e8=await(0x0,fetch_attachments_1['fetchAttachmentsDetailsById'])(_0x366c11,_0x51852a[_0x2a175a(0xd9)]),_0x546b8b=await components_api_1[_0x2a175a(0xdc)][_0x2a175a(0xe9)](_0x366c11,_0x1250e8[_0x2a175a(0xe1)](({ParentId:_0x2ba194})=>_0x2ba194),_0x51852a[_0x2a175a(0xe5)])['then'](_0x4de145=>components_api_1[_0x2a175a(0xdc)]['removeNamespacePrefix'](_0x4de145)),_0x22f59b=await retrieveTestClasses(_0x366c11,_0x1250e8,_0x546b8b),_0x28d48d={'ParentId':_0x51852a['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x2a175a(0xc6)](_0x22f59b[_0x2a175a(0xd3)]('\x0a'))['toString'](_0x2a175a(0xdd))};await _0x366c11['post']('/services/data/v'+_0x51852a[_0x2a175a(0xe5)]+_0x2a175a(0xd0),_0x28d48d);}exports[a101_0x3b29bc(0xe4)]=fetchTestClasses;async function retrieveTestClasses(_0xb271ed,_0x10d990,_0x22d621){const _0x298c02=a101_0x3b29bc,_0x3cfc8b=[],_0x3aad8d=await(0x0,fetch_attachments_1[_0x298c02(0xc7)])(_0x10d990,_0xb271ed),_0x173316=_0x3aad8d[_0x298c02(0xe1)](_0x133fc9=>_0x133fc9['id']);return await getTestClassesNames(_0xb271ed,_0x173316,_0x22d621,_0x10d990)[_0x298c02(0xdb)](_0x154d92=>{const _0x36f3e6=_0x298c02;_0x3cfc8b[_0x36f3e6(0xc0)](..._0x154d92);}),_0x3cfc8b;}async function getTestClassesNames(_0x1319a7,_0x4a411c,_0x1ef4ed,_0x4ebc82){const _0x286f32=a101_0x3b29bc,_0x33b681=await(0x0,fetch_attachments_1[_0x286f32(0xd5)])(_0x1319a7,BINARY_FIELDS,_0x4a411c),_0x750f58=[],_0x25004b=_0x4ebc82[_0x286f32(0xd2)]((_0x1ce369,_0x138bab)=>{const _0x2d99dd=_0x286f32;var _0x21e6fa;const _0x4789be=(_0x21e6fa=_0x1ef4ed[_0x2d99dd(0xbd)](_0x86d5d8=>_0x86d5d8['Id']===_0x138bab[_0x2d99dd(0xe0)]))===null||_0x21e6fa===void 0x0?void 0x0:_0x21e6fa[_0x2d99dd(0xe3)]['Component_Name__c'];if(!_0x4789be)throw new Error(_0x2d99dd(0xd4));return{..._0x1ce369,[_0x138bab['Id']]:_0x4789be};},{});for(const _0x54a656 of _0x33b681){const _0x59c167=await zip_1[_0x286f32(0xe6)][_0x286f32(0xcb)](_0x54a656[_0x286f32(0xc5)][_0x286f32(0xc9)]);for(const _0x330f47 of Object[_0x286f32(0xec)](_0x59c167['files'])){if(!_0x59c167[_0x286f32(0xda)][_0x330f47][_0x286f32(0xe7)]){const _0x153a38=await _0x59c167[_0x286f32(0xda)][_0x330f47][_0x286f32(0xe8)](_0x286f32(0xc1)),_0x1df395=new RegExp(_0x286f32(0xc8),'i');if(_0x1df395['test'](_0x153a38)){const _0x52b538=_0x25004b[_0x54a656['id']];if(!_0x52b538)throw new Error(_0x286f32(0xd4));_0x750f58[_0x286f32(0xc0)](_0x52b538);}}}}return _0x750f58;}