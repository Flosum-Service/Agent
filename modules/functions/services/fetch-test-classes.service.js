const a84_0x2d3978=a84_0x2588;(function(_0x154594,_0x1b4b12){const _0x4cb835=a84_0x2588,_0x583129=_0x154594();while(!![]){try{const _0xaad302=parseInt(_0x4cb835(0x1d5))/0x1*(parseInt(_0x4cb835(0x1c2))/0x2)+parseInt(_0x4cb835(0x1c9))/0x3*(-parseInt(_0x4cb835(0x1cf))/0x4)+parseInt(_0x4cb835(0x1e5))/0x5+parseInt(_0x4cb835(0x1b4))/0x6+-parseInt(_0x4cb835(0x1c1))/0x7*(parseInt(_0x4cb835(0x1bb))/0x8)+-parseInt(_0x4cb835(0x1cd))/0x9+-parseInt(_0x4cb835(0x1e3))/0xa*(-parseInt(_0x4cb835(0x1dd))/0xb);if(_0xaad302===_0x1b4b12)break;else _0x583129['push'](_0x583129['shift']());}catch(_0x16d3a3){_0x583129['push'](_0x583129['shift']());}}}(a84_0x59f0,0xa47a1));const a84_0x4a60d0=(function(){let _0x5a880c=!![];return function(_0x3b3c88,_0x1a4faf){const _0x24b102=_0x5a880c?function(){const _0x5f54a3=a84_0x2588;if(_0x1a4faf){const _0x2abd9f=_0x1a4faf[_0x5f54a3(0x1ba)](_0x3b3c88,arguments);return _0x1a4faf=null,_0x2abd9f;}}:function(){};return _0x5a880c=![],_0x24b102;};}()),a84_0xbf6aac=a84_0x4a60d0(this,function(){const _0x4d934d=a84_0x2588;return a84_0xbf6aac[_0x4d934d(0x1c3)]()[_0x4d934d(0x1dc)](_0x4d934d(0x1c5))[_0x4d934d(0x1c3)]()[_0x4d934d(0x1c6)](a84_0xbf6aac)['search'](_0x4d934d(0x1c5));});a84_0xbf6aac();'use strict';Object[a84_0x2d3978(0x1de)](exports,'__esModule',{'value':!![]}),exports[a84_0x2d3978(0x1d2)]=void 0x0;function a84_0x59f0(){const _0xd69455=['fetchComponentsDetailsByComponentsHistory','attachmentsId','34499DBFPZp','find','../utils/components-api','Body','Zip','/sobjects/Attachment','base64','search','11953579eHePuF','defineProperty','../../../constants','@istest','files','No\x20component\x20by\x20attachment\x20id','10lpQcaY','retrieveAttachments','547680nsomkk','post','ParentId','3791538HeUPuN','/services/data/','values','join','../../git/parsers/utils/zip','TEST\x20CLASSES','apply','72VzksjC','../../shared/utils/fetch-attachments','push','from','ComponentsApi','removeNamespacePrefix','126770bGwwtj','42wtsObY','toString','keys','(((.+)+)+)+$','constructor','Component__r','reduce','313440khmnGo','fetchAttachments','test','Component_Name__c','6040260EijCxS','SALESFORCE_API_VERSION','40pDnPIS','map','async','fetchTestClasses'];a84_0x59f0=function(){return _0xd69455;};return a84_0x59f0();}const constants_1=require(a84_0x2d3978(0x1df)),zip_1=require(a84_0x2d3978(0x1b8)),components_api_1=require(a84_0x2d3978(0x1d7)),fetch_attachments_1=require(a84_0x2d3978(0x1bc)),BINARY_FIELDS=[a84_0x2d3978(0x1d8)],ATTACHMENT_NAME=a84_0x2d3978(0x1b9),ATTACHMENT_DESCRIPTION=a84_0x2d3978(0x1b9);async function fetchTestClasses(_0x3fc32b,_0x532868){const _0xb0c05b=a84_0x2d3978,_0x22a59f=await(0x0,fetch_attachments_1['fetchAttachmentsDetailsById'])(_0x532868,_0x3fc32b[_0xb0c05b(0x1d4)]),_0x2789fe=await components_api_1[_0xb0c05b(0x1bf)][_0xb0c05b(0x1d3)](_0x532868,_0x22a59f[_0xb0c05b(0x1d0)](({ParentId:_0x12729f})=>_0x12729f))['then'](_0x5aeee3=>components_api_1[_0xb0c05b(0x1bf)][_0xb0c05b(0x1c0)](_0x5aeee3)),_0x1b7878=await retrieveTestClasses(_0x532868,_0x22a59f,_0x2789fe),_0x13a5d3={'ParentId':_0x3fc32b['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0xb0c05b(0x1be)](_0x1b7878[_0xb0c05b(0x1b7)]('\x0a'))[_0xb0c05b(0x1c3)](_0xb0c05b(0x1db))};await _0x532868[_0xb0c05b(0x1e6)](_0xb0c05b(0x1b5)+constants_1[_0xb0c05b(0x1ce)]+_0xb0c05b(0x1da),_0x13a5d3);}exports[a84_0x2d3978(0x1d2)]=fetchTestClasses;async function retrieveTestClasses(_0x48368b,_0x5566fe,_0x4a8b3e){const _0x5ed2c5=a84_0x2d3978,_0x44d1c4=[],_0x2840d9=await(0x0,fetch_attachments_1[_0x5ed2c5(0x1e4)])(_0x5566fe,_0x48368b),_0x438276=_0x2840d9[_0x5ed2c5(0x1d0)](_0x2f0580=>_0x2f0580['id']);return await getTestClassesNames(_0x48368b,_0x438276,_0x4a8b3e,_0x5566fe)['then'](_0x1df0e6=>{const _0x318dce=_0x5ed2c5;_0x44d1c4[_0x318dce(0x1bd)](..._0x1df0e6);}),_0x44d1c4;}function a84_0x2588(_0x5ea49b,_0x45e9e3){const _0xa1ddb2=a84_0x59f0();return a84_0x2588=function(_0xbf6aac,_0x4a60d0){_0xbf6aac=_0xbf6aac-0x1b4;let _0x59f07e=_0xa1ddb2[_0xbf6aac];return _0x59f07e;},a84_0x2588(_0x5ea49b,_0x45e9e3);}async function getTestClassesNames(_0x4b631e,_0x4efef3,_0x143256,_0x3815af){const _0x3df585=a84_0x2d3978,_0xf2406c=await(0x0,fetch_attachments_1[_0x3df585(0x1ca)])(_0x4b631e,BINARY_FIELDS,_0x4efef3),_0x2c8ee1=[],_0x4fd603=_0x3815af[_0x3df585(0x1c8)]((_0x48a432,_0xffb8f5)=>{const _0x5b0405=_0x3df585;var _0x2b848b;const _0x58d9e=(_0x2b848b=_0x143256[_0x5b0405(0x1d6)](_0x5c3c1e=>_0x5c3c1e['Id']===_0xffb8f5[_0x5b0405(0x1e7)]))===null||_0x2b848b===void 0x0?void 0x0:_0x2b848b[_0x5b0405(0x1c7)][_0x5b0405(0x1cc)];if(!_0x58d9e)throw new Error(_0x5b0405(0x1e2));return{..._0x48a432,[_0xffb8f5['Id']]:_0x58d9e};},{});for(const _0x3af362 of _0xf2406c){const _0xc12e9=await zip_1[_0x3df585(0x1d9)]['unzip'](_0x3af362[_0x3df585(0x1b6)][_0x3df585(0x1d8)]);for(const _0x4e6738 of Object[_0x3df585(0x1c4)](_0xc12e9[_0x3df585(0x1e1)])){if(!_0xc12e9[_0x3df585(0x1e1)][_0x4e6738]['dir']){const _0x85d8a3=await _0xc12e9[_0x3df585(0x1e1)][_0x4e6738][_0x3df585(0x1d1)]('string'),_0x95a445=new RegExp(_0x3df585(0x1e0),'i');if(_0x95a445[_0x3df585(0x1cb)](_0x85d8a3)){const _0x72ce3=_0x4fd603[_0x3af362['id']];if(!_0x72ce3)throw new Error(_0x3df585(0x1e2));_0x2c8ee1['push'](_0x72ce3);}}}}return _0x2c8ee1;}