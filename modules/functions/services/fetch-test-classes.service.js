const a53_0xb0ccf3=a53_0x1b56;(function(_0x298c97,_0x1ece4e){const _0x5b21ad=a53_0x1b56,_0x3c1d35=_0x298c97();while(!![]){try{const _0x38b3f1=-parseInt(_0x5b21ad(0x129))/0x1*(-parseInt(_0x5b21ad(0x131))/0x2)+-parseInt(_0x5b21ad(0x13f))/0x3+parseInt(_0x5b21ad(0x130))/0x4+-parseInt(_0x5b21ad(0x141))/0x5*(-parseInt(_0x5b21ad(0x122))/0x6)+parseInt(_0x5b21ad(0x148))/0x7+-parseInt(_0x5b21ad(0x14f))/0x8+-parseInt(_0x5b21ad(0x125))/0x9;if(_0x38b3f1===_0x1ece4e)break;else _0x3c1d35['push'](_0x3c1d35['shift']());}catch(_0x5e9c41){_0x3c1d35['push'](_0x3c1d35['shift']());}}}(a53_0x2c4f,0x41aea));const a53_0x557022=(function(){let _0xde49ea=!![];return function(_0x2ca729,_0xa13047){const _0x2296b5=_0xde49ea?function(){const _0x2ed20e=a53_0x1b56;if(_0xa13047){const _0x4fae07=_0xa13047[_0x2ed20e(0x146)](_0x2ca729,arguments);return _0xa13047=null,_0x4fae07;}}:function(){};return _0xde49ea=![],_0x2296b5;};}()),a53_0x424b3c=a53_0x557022(this,function(){const _0x496ce0=a53_0x1b56;return a53_0x424b3c['toString']()['search'](_0x496ce0(0x132))[_0x496ce0(0x136)]()[_0x496ce0(0x123)](a53_0x424b3c)['search']('(((.+)+)+)+$');});a53_0x424b3c();'use strict';Object[a53_0xb0ccf3(0x147)](exports,a53_0xb0ccf3(0x137),{'value':!![]}),exports[a53_0xb0ccf3(0x14b)]=void 0x0;const constants_1=require('../../../constants'),zip_1=require(a53_0xb0ccf3(0x14a)),components_api_1=require('../utils/components-api'),BINARY_FIELDS=[a53_0xb0ccf3(0x149)],ATTACHMENT_NAME=a53_0xb0ccf3(0x14e),ATTACHMENT_DESCRIPTION=a53_0xb0ccf3(0x14e);async function fetchTestClasses(_0x1b347f,_0x11eccb){const _0xbf99d5=a53_0xb0ccf3,_0x1ff7ae=await components_api_1['ComponentsApi'][_0xbf99d5(0x139)](_0x11eccb,_0x1b347f[_0xbf99d5(0x145)]),_0x1c2e25=await components_api_1[_0xbf99d5(0x133)][_0xbf99d5(0x143)](_0x11eccb,_0x1ff7ae[_0xbf99d5(0x138)](({ParentId:_0x4499})=>_0x4499))[_0xbf99d5(0x142)](_0x33de6a=>components_api_1['ComponentsApi']['removeNamespacePrefix'](_0x33de6a)),_0x25f6da=await retrieveTestClasses(_0x11eccb,_0x1ff7ae,_0x1c2e25),_0x3d25f7={'ParentId':_0x1b347f[_0xbf99d5(0x13c)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer['from'](_0x25f6da[_0xbf99d5(0x134)]('\x0a'))[_0xbf99d5(0x136)](_0xbf99d5(0x13a))};await _0x11eccb[_0xbf99d5(0x13d)](_0xbf99d5(0x13e)+constants_1[_0xbf99d5(0x12a)]+_0xbf99d5(0x12e),_0x3d25f7);}exports[a53_0xb0ccf3(0x14b)]=fetchTestClasses;function a53_0x1b56(_0x34032d,_0x13347a){const _0x43d941=a53_0x2c4f();return a53_0x1b56=function(_0x424b3c,_0x557022){_0x424b3c=_0x424b3c-0x122;let _0x2c4fd3=_0x43d941[_0x424b3c];return _0x2c4fd3;},a53_0x1b56(_0x34032d,_0x13347a);}function a53_0x2c4f(){const _0x5d1ba9=['join','test','toString','__esModule','map','fetchAttachmentsDetails','base64','No\x20component\x20by\x20attachment\x20id','metadataLogId','post','/services/data/','207837RneOOX','async','2649315TiGjno','then','fetchComponentsDetailsByComponentsHistory','values','attachmentsId','apply','defineProperty','1554378NVBxUa','Body','../../git/parsers/utils/zip','fetchTestClasses','unzip','dir','TEST\x20CLASSES','4195576PuZsAt','find','6ueltYQ','constructor','keys','4473738nolrLf','retrieveAttachments','Zip','files','93213FswVoL','SALESFORCE_API_VERSION','push','reduce','string','/sobjects/Attachment','ParentId','2058848huqcFn','2riWAel','(((.+)+)+)+$','ComponentsApi'];a53_0x2c4f=function(){return _0x5d1ba9;};return a53_0x2c4f();}async function retrieveTestClasses(_0x5b9ed2,_0x3ce25c,_0x162c68){const _0x5bc3be=a53_0xb0ccf3,_0x874427=[],_0x402ee7=await components_api_1[_0x5bc3be(0x133)][_0x5bc3be(0x126)](_0x3ce25c,_0x5b9ed2),_0x1e53b7=_0x402ee7[_0x5bc3be(0x138)](_0x53d337=>_0x53d337['id']);return await getTestClassesNames(_0x5b9ed2,_0x1e53b7,_0x162c68,_0x3ce25c)[_0x5bc3be(0x142)](_0x2e248f=>{const _0x3df819=_0x5bc3be;_0x874427[_0x3df819(0x12b)](..._0x2e248f);}),_0x874427;}async function getTestClassesNames(_0x3f3fe9,_0x2daf2c,_0x2d4c91,_0x55c83a){const _0xa24e4=a53_0xb0ccf3,_0x2dcbb2=await components_api_1[_0xa24e4(0x133)]['fetchAttachments'](_0x3f3fe9,BINARY_FIELDS,_0x2daf2c),_0x3fb0e0=[],_0x381033=_0x55c83a[_0xa24e4(0x12c)]((_0x396a29,_0x327cae)=>{const _0x2d106c=_0xa24e4;var _0x4dbe6a;const _0x5d98b1=(_0x4dbe6a=_0x2d4c91[_0x2d106c(0x150)](_0x57f26d=>_0x57f26d['Id']===_0x327cae[_0x2d106c(0x12f)]))===null||_0x4dbe6a===void 0x0?void 0x0:_0x4dbe6a['Component__r']['Component_Name__c'];if(!_0x5d98b1)throw new Error(_0x2d106c(0x13b));return{..._0x396a29,[_0x327cae['Id']]:_0x5d98b1};},{});for(const _0x2354ca of _0x2dcbb2){const _0x20817c=await zip_1[_0xa24e4(0x127)][_0xa24e4(0x14c)](_0x2354ca[_0xa24e4(0x144)][_0xa24e4(0x149)]);for(const _0x503a89 of Object[_0xa24e4(0x124)](_0x20817c[_0xa24e4(0x128)])){if(!_0x20817c[_0xa24e4(0x128)][_0x503a89][_0xa24e4(0x14d)]){const _0x5a2a86=await _0x20817c['files'][_0x503a89][_0xa24e4(0x140)](_0xa24e4(0x12d)),_0x390926=new RegExp('@istest','i');if(_0x390926[_0xa24e4(0x135)](_0x5a2a86)){const _0x3d2136=_0x381033[_0x2354ca['id']];if(!_0x3d2136)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x3fb0e0[_0xa24e4(0x12b)](_0x3d2136);}}}}return _0x3fb0e0;}