const a103_0x589f29=a103_0x2629;(function(_0x4dc0ba,_0x47c6e6){const _0x2f6f2d=a103_0x2629,_0x330f84=_0x4dc0ba();while(!![]){try{const _0x266eb8=parseInt(_0x2f6f2d(0x9d))/0x1*(parseInt(_0x2f6f2d(0xa6))/0x2)+parseInt(_0x2f6f2d(0xa8))/0x3+parseInt(_0x2f6f2d(0xa9))/0x4+parseInt(_0x2f6f2d(0xaf))/0x5*(-parseInt(_0x2f6f2d(0xb9))/0x6)+-parseInt(_0x2f6f2d(0xba))/0x7+-parseInt(_0x2f6f2d(0xaa))/0x8*(parseInt(_0x2f6f2d(0xad))/0x9)+parseInt(_0x2f6f2d(0xc1))/0xa;if(_0x266eb8===_0x47c6e6)break;else _0x330f84['push'](_0x330f84['shift']());}catch(_0x53f1d4){_0x330f84['push'](_0x330f84['shift']());}}}(a103_0x12b9,0xaad68));const a103_0x3fb80f=(function(){let _0x8616ee=!![];return function(_0x2512e2,_0x2a936f){const _0x1ed9ac=_0x8616ee?function(){const _0x1fa215=a103_0x2629;if(_0x2a936f){const _0x395841=_0x2a936f[_0x1fa215(0xa2)](_0x2512e2,arguments);return _0x2a936f=null,_0x395841;}}:function(){};return _0x8616ee=![],_0x1ed9ac;};}()),a103_0x3c4809=a103_0x3fb80f(this,function(){const _0x575656=a103_0x2629;return a103_0x3c4809[_0x575656(0xb6)]()[_0x575656(0xc7)](_0x575656(0xb0))['toString']()['constructor'](a103_0x3c4809)[_0x575656(0xc7)](_0x575656(0xb0));});a103_0x3c4809();'use strict';Object[a103_0x589f29(0xa1)](exports,a103_0x589f29(0x9b),{'value':!![]}),exports['fetchTestClasses']=void 0x0;const zip_1=require('../../git/parsers/utils/zip'),components_api_1=require(a103_0x589f29(0x9c)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a103_0x589f29(0xb4)],ATTACHMENT_NAME=a103_0x589f29(0xc6),ATTACHMENT_DESCRIPTION=a103_0x589f29(0xc6);function a103_0x12b9(){const _0x35e218=['replace','/services/data/v','test','Body','No\x20component\x20by\x20attachment\x20id','toString','fetchTestClasses','push','2699382JKRqXi','1830192TmGoXP','@istest','base64','string','unzip','post','keys','3576190clPpkW','map','values','fetchAttachments','removeNamespacePrefix','TEST\x20CLASSES','search','fetchComponentsDetailsByComponentsHistory','Component_Name__c','__esModule','../utils/components-api','107vjetok','find','retrieveAttachments','apiVersion','defineProperty','apply','/sobjects/Attachment','dir','then','23938tyQXLo','ComponentsApi','2729691aJYcVP','105236ZRSHsn','8OzcRuY','files','join','6421554RnqIsY','reduce','10eZFYne','(((.+)+)+)+$'];a103_0x12b9=function(){return _0x35e218;};return a103_0x12b9();}async function fetchTestClasses(_0x4c55f4,_0x517491){const _0x5dc7b0=a103_0x589f29,_0x2fcdcb=await(0x0,fetch_attachments_1['fetchAttachmentsDetailsById'])(_0x517491,_0x4c55f4['attachmentsId']),_0x27a10d=await components_api_1[_0x5dc7b0(0xa7)][_0x5dc7b0(0x99)](_0x517491,_0x2fcdcb[_0x5dc7b0(0xc2)](({ParentId:_0x3572f4})=>_0x3572f4),_0x4c55f4[_0x5dc7b0(0xa0)])['then'](_0x3f149c=>components_api_1[_0x5dc7b0(0xa7)][_0x5dc7b0(0xc5)](_0x3f149c)),_0x33fd4a=await retrieveTestClasses(_0x517491,_0x2fcdcb,_0x27a10d),_0x787216={'ParentId':_0x4c55f4['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer['from'](_0x33fd4a[_0x5dc7b0(0xac)]('\x0a'))[_0x5dc7b0(0xb6)](_0x5dc7b0(0xbc))};await _0x517491[_0x5dc7b0(0xbf)](_0x5dc7b0(0xb2)+_0x4c55f4[_0x5dc7b0(0xa0)]+_0x5dc7b0(0xa3),_0x787216);}function a103_0x2629(_0x50f23c,_0xf9645b){const _0x389a93=a103_0x12b9();return a103_0x2629=function(_0x3c4809,_0x3fb80f){_0x3c4809=_0x3c4809-0x99;let _0x12b99d=_0x389a93[_0x3c4809];return _0x12b99d;},a103_0x2629(_0x50f23c,_0xf9645b);}exports[a103_0x589f29(0xb7)]=fetchTestClasses;async function retrieveTestClasses(_0x4485de,_0x25893a,_0x1298ab){const _0x5e6610=a103_0x589f29,_0x521207=[],_0x24c890=await(0x0,fetch_attachments_1[_0x5e6610(0x9f)])(_0x25893a,_0x4485de),_0x363df=_0x24c890['map'](_0x4468eb=>_0x4468eb['id']);return await getTestClassesNames(_0x4485de,_0x363df,_0x1298ab,_0x25893a)[_0x5e6610(0xa5)](_0x1cc418=>{const _0x2b8b09=_0x5e6610;_0x521207[_0x2b8b09(0xb8)](..._0x1cc418);}),_0x521207;}async function getTestClassesNames(_0x5a31e0,_0x4a50dd,_0x5b8b2b,_0xa93a00){const _0x4ba971=a103_0x589f29,_0x33cafd=await(0x0,fetch_attachments_1[_0x4ba971(0xc4)])(_0x5a31e0,BINARY_FIELDS,_0x4a50dd),_0x28cc01=[],_0xf5fe50=_0xa93a00[_0x4ba971(0xae)]((_0x373ce8,_0x53302f)=>{const _0x2894cd=_0x4ba971;var _0x316ddf;const _0x45c509=(_0x316ddf=_0x5b8b2b[_0x2894cd(0x9e)](_0x36a2ef=>_0x36a2ef['Id']===_0x53302f['ParentId']))===null||_0x316ddf===void 0x0?void 0x0:_0x316ddf['Component__r'][_0x2894cd(0x9a)];if(!_0x45c509)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x373ce8,[_0x53302f['Id']]:_0x45c509};},{});for(const _0x5d7fb1 of _0x33cafd){const _0x93b36=await zip_1['Zip'][_0x4ba971(0xbe)](_0x5d7fb1[_0x4ba971(0xc3)][_0x4ba971(0xb4)]);for(const _0x5024fd of Object[_0x4ba971(0xc0)](_0x93b36[_0x4ba971(0xab)])){if(!_0x93b36[_0x4ba971(0xab)][_0x5024fd][_0x4ba971(0xa4)]){let _0x69cc27=await _0x93b36[_0x4ba971(0xab)][_0x5024fd]['async'](_0x4ba971(0xbd));_0x69cc27=_0x69cc27[_0x4ba971(0xb1)](/\/\/.*|\/\*[\s\S]*?\*\//g,'');const _0x4aae86=new RegExp(_0x4ba971(0xbb),'i');if(_0x4aae86[_0x4ba971(0xb3)](_0x69cc27)){const _0x214b7d=_0xf5fe50[_0x5d7fb1['id']];if(!_0x214b7d)throw new Error(_0x4ba971(0xb5));_0x28cc01[_0x4ba971(0xb8)](_0x214b7d);}}}}return _0x28cc01;}