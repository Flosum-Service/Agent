const a85_0x2ef9b7=a85_0x1428;(function(_0x1341c0,_0x3aca1a){const _0x14ad36=a85_0x1428,_0x422271=_0x1341c0();while(!![]){try{const _0x4d0522=parseInt(_0x14ad36(0xd4))/0x1+parseInt(_0x14ad36(0xf2))/0x2+parseInt(_0x14ad36(0xeb))/0x3+-parseInt(_0x14ad36(0xe8))/0x4+parseInt(_0x14ad36(0xe0))/0x5*(-parseInt(_0x14ad36(0xc8))/0x6)+parseInt(_0x14ad36(0xcb))/0x7+parseInt(_0x14ad36(0xef))/0x8*(-parseInt(_0x14ad36(0xea))/0x9);if(_0x4d0522===_0x3aca1a)break;else _0x422271['push'](_0x422271['shift']());}catch(_0x3780d2){_0x422271['push'](_0x422271['shift']());}}}(a85_0xfe6b,0x64767));function a85_0xfe6b(){const _0x480fb9=['fetchAttachments','fetchAttachmentsDetailsById','constructor','push','807057MeYvMK','attachmentsId','defineProperty','/services/data/','../utils/components-api','retrieveAttachments','then','reduce','SALESFORCE_API_VERSION','(((.+)+)+)+$','Component__r','apply','15eJyCtb','search','../../../constants','join','dir','map','metadataLogId','Body','2645124pdBreT','base64','18IkvpFB','1497885KKuzMT','../../git/parsers/utils/zip','/sobjects/Attachment','__esModule','298352TqGlez','ComponentsApi','from','17202toFqHw','No\x20component\x20by\x20attachment\x20id','test','Component_Name__c','892260oSzeVi','toString','removeNamespacePrefix','1949787Jsvjef','@istest','find','async','files'];a85_0xfe6b=function(){return _0x480fb9;};return a85_0xfe6b();}const a85_0x3b6a20=(function(){let _0x4c0a22=!![];return function(_0x5567f6,_0x4573c3){const _0x27b642=_0x4c0a22?function(){const _0x3d7485=a85_0x1428;if(_0x4573c3){const _0x3822d3=_0x4573c3[_0x3d7485(0xdf)](_0x5567f6,arguments);return _0x4573c3=null,_0x3822d3;}}:function(){};return _0x4c0a22=![],_0x27b642;};}()),a85_0x14102d=a85_0x3b6a20(this,function(){const _0x33e086=a85_0x1428;return a85_0x14102d[_0x33e086(0xc9)]()[_0x33e086(0xe1)](_0x33e086(0xdd))[_0x33e086(0xc9)]()[_0x33e086(0xd2)](a85_0x14102d)[_0x33e086(0xe1)](_0x33e086(0xdd));});a85_0x14102d();'use strict';Object[a85_0x2ef9b7(0xd6)](exports,a85_0x2ef9b7(0xee),{'value':!![]}),exports['fetchTestClasses']=void 0x0;function a85_0x1428(_0x17919e,_0x442105){const _0x33178e=a85_0xfe6b();return a85_0x1428=function(_0x14102d,_0x3b6a20){_0x14102d=_0x14102d-0xc8;let _0xfe6b4c=_0x33178e[_0x14102d];return _0xfe6b4c;},a85_0x1428(_0x17919e,_0x442105);}const constants_1=require(a85_0x2ef9b7(0xe2)),zip_1=require(a85_0x2ef9b7(0xec)),components_api_1=require(a85_0x2ef9b7(0xd8)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x2ef9b7(0xe7)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION='TEST\x20CLASSES';async function fetchTestClasses(_0x106fd4,_0x30bc7f){const _0x381a6c=a85_0x2ef9b7,_0x521aa6=await(0x0,fetch_attachments_1[_0x381a6c(0xd1)])(_0x30bc7f,_0x106fd4[_0x381a6c(0xd5)]),_0x1e5d16=await components_api_1[_0x381a6c(0xf0)]['fetchComponentsDetailsByComponentsHistory'](_0x30bc7f,_0x521aa6[_0x381a6c(0xe5)](({ParentId:_0x272f86})=>_0x272f86))[_0x381a6c(0xda)](_0x2eee45=>components_api_1[_0x381a6c(0xf0)][_0x381a6c(0xca)](_0x2eee45)),_0xdf024e=await retrieveTestClasses(_0x30bc7f,_0x521aa6,_0x1e5d16),_0x2ce84d={'ParentId':_0x106fd4[_0x381a6c(0xe6)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x381a6c(0xf1)](_0xdf024e[_0x381a6c(0xe3)]('\x0a'))['toString'](_0x381a6c(0xe9))};await _0x30bc7f['post'](_0x381a6c(0xd7)+constants_1[_0x381a6c(0xdc)]+_0x381a6c(0xed),_0x2ce84d);}exports['fetchTestClasses']=fetchTestClasses;async function retrieveTestClasses(_0x565786,_0x33363a,_0x242ff7){const _0x3ae0b4=a85_0x2ef9b7,_0x46cc52=[],_0x48b667=await(0x0,fetch_attachments_1[_0x3ae0b4(0xd9)])(_0x33363a,_0x565786),_0xf0385b=_0x48b667[_0x3ae0b4(0xe5)](_0xb70842=>_0xb70842['id']);return await getTestClassesNames(_0x565786,_0xf0385b,_0x242ff7,_0x33363a)[_0x3ae0b4(0xda)](_0x2a6971=>{const _0x3402bd=_0x3ae0b4;_0x46cc52[_0x3402bd(0xd3)](..._0x2a6971);}),_0x46cc52;}async function getTestClassesNames(_0x2814cb,_0x9b23f9,_0x1fc6ef,_0x501e8f){const _0x28073e=a85_0x2ef9b7,_0x274091=await(0x0,fetch_attachments_1[_0x28073e(0xd0)])(_0x2814cb,BINARY_FIELDS,_0x9b23f9),_0x5a8728=[],_0x8e4b5d=_0x501e8f[_0x28073e(0xdb)]((_0x58abaa,_0x3035ec)=>{const _0x41241e=_0x28073e;var _0x584d56;const _0x9c8966=(_0x584d56=_0x1fc6ef[_0x41241e(0xcd)](_0x331376=>_0x331376['Id']===_0x3035ec['ParentId']))===null||_0x584d56===void 0x0?void 0x0:_0x584d56[_0x41241e(0xde)][_0x41241e(0xf5)];if(!_0x9c8966)throw new Error(_0x41241e(0xf3));return{..._0x58abaa,[_0x3035ec['Id']]:_0x9c8966};},{});for(const _0xbe929b of _0x274091){const _0x29c725=await zip_1['Zip']['unzip'](_0xbe929b['values']['Body']);for(const _0x1bf157 of Object['keys'](_0x29c725[_0x28073e(0xcf)])){if(!_0x29c725[_0x28073e(0xcf)][_0x1bf157][_0x28073e(0xe4)]){const _0x2847b4=await _0x29c725['files'][_0x1bf157][_0x28073e(0xce)]('string'),_0x5e625e=new RegExp(_0x28073e(0xcc),'i');if(_0x5e625e[_0x28073e(0xf4)](_0x2847b4)){const _0x2a5fa7=_0x8e4b5d[_0xbe929b['id']];if(!_0x2a5fa7)throw new Error(_0x28073e(0xf3));_0x5a8728[_0x28073e(0xd3)](_0x2a5fa7);}}}}return _0x5a8728;}