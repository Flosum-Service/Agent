const a85_0x8e9940=a85_0x4a2b;(function(_0x50cb2d,_0x4ae868){const _0x479f93=a85_0x4a2b,_0x2946c9=_0x50cb2d();while(!![]){try{const _0x2a1cc7=-parseInt(_0x479f93(0x172))/0x1*(-parseInt(_0x479f93(0x16b))/0x2)+-parseInt(_0x479f93(0x158))/0x3+-parseInt(_0x479f93(0x168))/0x4+parseInt(_0x479f93(0x156))/0x5+parseInt(_0x479f93(0x17a))/0x6+-parseInt(_0x479f93(0x179))/0x7*(-parseInt(_0x479f93(0x16e))/0x8)+-parseInt(_0x479f93(0x160))/0x9;if(_0x2a1cc7===_0x4ae868)break;else _0x2946c9['push'](_0x2946c9['shift']());}catch(_0x8daa27){_0x2946c9['push'](_0x2946c9['shift']());}}}(a85_0x2e40,0xd513e));function a85_0x4a2b(_0x83642,_0x3ea025){const _0x4545d1=a85_0x2e40();return a85_0x4a2b=function(_0x446c56,_0x310842){_0x446c56=_0x446c56-0x149;let _0x2e40a6=_0x4545d1[_0x446c56];return _0x2e40a6;},a85_0x4a2b(_0x83642,_0x3ea025);}function a85_0x2e40(){const _0x325ba8=['No\x20component\x20by\x20attachment\x20id','async','Component__r','fetchAttachments','fetchComponentsDetailsByComponentsHistory','23449086ljOcJC','map','defineProperty','post','from','toString','keys','/sobjects/Attachment','11780FcPbwE','removeNamespacePrefix','fetchAttachmentsDetailsById','76coVSen','ParentId','TEST\x20CLASSES','6614512ymgJWX','retrieveAttachments','values','unzip','18867laZGkZ','Component_Name__c','apiVersion','then','push','files','Body','14yCLqsZ','4682010PFhvDD','ComponentsApi','join','Zip','string','attachmentsId','@istest','fetchTestClasses','../../shared/utils/fetch-attachments','../utils/components-api','/services/data/v','base64','find','constructor','7678970DuDhUv','search','3616614lwhkBN','test','dir'];a85_0x2e40=function(){return _0x325ba8;};return a85_0x2e40();}const a85_0x310842=(function(){let _0x580af9=!![];return function(_0x33d388,_0x1df3f9){const _0x246729=_0x580af9?function(){if(_0x1df3f9){const _0x685a05=_0x1df3f9['apply'](_0x33d388,arguments);return _0x1df3f9=null,_0x685a05;}}:function(){};return _0x580af9=![],_0x246729;};}()),a85_0x446c56=a85_0x310842(this,function(){const _0x4b8603=a85_0x4a2b;return a85_0x446c56[_0x4b8603(0x165)]()[_0x4b8603(0x157)]('(((.+)+)+)+$')[_0x4b8603(0x165)]()[_0x4b8603(0x155)](a85_0x446c56)[_0x4b8603(0x157)]('(((.+)+)+)+$');});a85_0x446c56();'use strict';Object[a85_0x8e9940(0x162)](exports,'__esModule',{'value':!![]}),exports[a85_0x8e9940(0x14f)]=void 0x0;const zip_1=require('../../git/parsers/utils/zip'),components_api_1=require(a85_0x8e9940(0x151)),fetch_attachments_1=require(a85_0x8e9940(0x150)),BINARY_FIELDS=[a85_0x8e9940(0x178)],ATTACHMENT_NAME=a85_0x8e9940(0x16d),ATTACHMENT_DESCRIPTION=a85_0x8e9940(0x16d);async function fetchTestClasses(_0x3c7e27,_0x1f5659){const _0x13d9e2=a85_0x8e9940,_0x5c83d2=await(0x0,fetch_attachments_1[_0x13d9e2(0x16a)])(_0x1f5659,_0x3c7e27[_0x13d9e2(0x14d)]),_0x47595c=await components_api_1[_0x13d9e2(0x149)][_0x13d9e2(0x15f)](_0x1f5659,_0x5c83d2[_0x13d9e2(0x161)](({ParentId:_0x31fa9a})=>_0x31fa9a),_0x3c7e27['apiVersion'])['then'](_0x2a22a5=>components_api_1[_0x13d9e2(0x149)][_0x13d9e2(0x169)](_0x2a22a5)),_0x4fdb55=await retrieveTestClasses(_0x1f5659,_0x5c83d2,_0x47595c),_0xc3446e={'ParentId':_0x3c7e27['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x13d9e2(0x164)](_0x4fdb55[_0x13d9e2(0x14a)]('\x0a'))['toString'](_0x13d9e2(0x153))};await _0x1f5659[_0x13d9e2(0x163)](_0x13d9e2(0x152)+_0x3c7e27[_0x13d9e2(0x174)]+_0x13d9e2(0x167),_0xc3446e);}exports[a85_0x8e9940(0x14f)]=fetchTestClasses;async function retrieveTestClasses(_0x4c76cb,_0x2a6d9c,_0x193811){const _0x345bc9=a85_0x8e9940,_0x192420=[],_0x1a4387=await(0x0,fetch_attachments_1[_0x345bc9(0x16f)])(_0x2a6d9c,_0x4c76cb),_0x39f7c6=_0x1a4387[_0x345bc9(0x161)](_0x1ddda2=>_0x1ddda2['id']);return await getTestClassesNames(_0x4c76cb,_0x39f7c6,_0x193811,_0x2a6d9c)[_0x345bc9(0x175)](_0x574edc=>{const _0x12c82c=_0x345bc9;_0x192420[_0x12c82c(0x176)](..._0x574edc);}),_0x192420;}async function getTestClassesNames(_0x3df4ca,_0x30ff2b,_0x20a3a5,_0x24d1e3){const _0x2cc830=a85_0x8e9940,_0x53a3e6=await(0x0,fetch_attachments_1[_0x2cc830(0x15e)])(_0x3df4ca,BINARY_FIELDS,_0x30ff2b),_0x3079cd=[],_0x30635e=_0x24d1e3['reduce']((_0x52545f,_0x1eaf36)=>{const _0x5654cc=_0x2cc830;var _0x2b45a5;const _0x2def86=(_0x2b45a5=_0x20a3a5[_0x5654cc(0x154)](_0x54bdcf=>_0x54bdcf['Id']===_0x1eaf36[_0x5654cc(0x16c)]))===null||_0x2b45a5===void 0x0?void 0x0:_0x2b45a5[_0x5654cc(0x15d)][_0x5654cc(0x173)];if(!_0x2def86)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x52545f,[_0x1eaf36['Id']]:_0x2def86};},{});for(const _0x108137 of _0x53a3e6){const _0x22fb49=await zip_1[_0x2cc830(0x14b)][_0x2cc830(0x171)](_0x108137[_0x2cc830(0x170)][_0x2cc830(0x178)]);for(const _0x1a7a02 of Object[_0x2cc830(0x166)](_0x22fb49[_0x2cc830(0x177)])){if(!_0x22fb49['files'][_0x1a7a02][_0x2cc830(0x15a)]){const _0x2d81e3=await _0x22fb49[_0x2cc830(0x177)][_0x1a7a02][_0x2cc830(0x15c)](_0x2cc830(0x14c)),_0x1f69c2=new RegExp(_0x2cc830(0x14e),'i');if(_0x1f69c2[_0x2cc830(0x159)](_0x2d81e3)){const _0x41fab9=_0x30635e[_0x108137['id']];if(!_0x41fab9)throw new Error(_0x2cc830(0x15b));_0x3079cd[_0x2cc830(0x176)](_0x41fab9);}}}}return _0x3079cd;}