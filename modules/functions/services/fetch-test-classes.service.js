const a84_0x4ca503=a84_0x2a32;(function(_0x2fce9a,_0x134f59){const _0x1fea30=a84_0x2a32,_0x206af1=_0x2fce9a();while(!![]){try{const _0xd851b5=parseInt(_0x1fea30(0x9c))/0x1+-parseInt(_0x1fea30(0x7e))/0x2*(-parseInt(_0x1fea30(0x81))/0x3)+-parseInt(_0x1fea30(0x88))/0x4*(-parseInt(_0x1fea30(0x94))/0x5)+-parseInt(_0x1fea30(0xab))/0x6*(parseInt(_0x1fea30(0x8c))/0x7)+parseInt(_0x1fea30(0x85))/0x8*(parseInt(_0x1fea30(0x91))/0x9)+-parseInt(_0x1fea30(0x8e))/0xa+parseInt(_0x1fea30(0xac))/0xb;if(_0xd851b5===_0x134f59)break;else _0x206af1['push'](_0x206af1['shift']());}catch(_0x3bc6a0){_0x206af1['push'](_0x206af1['shift']());}}}(a84_0x4b1e,0x6c15f));function a84_0x2a32(_0x5694d9,_0x3422ba){const _0x5a5888=a84_0x4b1e();return a84_0x2a32=function(_0x3c48a1,_0x15c9aa){_0x3c48a1=_0x3c48a1-0x7e;let _0x4b1e7a=_0x5a5888[_0x3c48a1];return _0x4b1e7a;},a84_0x2a32(_0x5694d9,_0x3422ba);}const a84_0x15c9aa=(function(){let _0xe692b4=!![];return function(_0x343aff,_0x10195f){const _0xe5bcdf=_0xe692b4?function(){const _0x1ea87c=a84_0x2a32;if(_0x10195f){const _0x563173=_0x10195f[_0x1ea87c(0x8b)](_0x343aff,arguments);return _0x10195f=null,_0x563173;}}:function(){};return _0xe692b4=![],_0xe5bcdf;};}()),a84_0x3c48a1=a84_0x15c9aa(this,function(){const _0x2d06f6=a84_0x2a32;return a84_0x3c48a1[_0x2d06f6(0xa3)]()['search']('(((.+)+)+)+$')[_0x2d06f6(0xa3)]()['constructor'](a84_0x3c48a1)[_0x2d06f6(0x9e)](_0x2d06f6(0x80));});a84_0x3c48a1();'use strict';Object['defineProperty'](exports,a84_0x4ca503(0x99),{'value':!![]}),exports['fetchTestClasses']=void 0x0;const constants_1=require(a84_0x4ca503(0xaa)),zip_1=require(a84_0x4ca503(0x87)),components_api_1=require(a84_0x4ca503(0x98)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=['Body'],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a84_0x4ca503(0x9b);async function fetchTestClasses(_0x30c819,_0x3971fa){const _0x222e0f=a84_0x4ca503,_0x5dcfd8=await(0x0,fetch_attachments_1[_0x222e0f(0xa2)])(_0x3971fa,_0x30c819['attachmentsId']),_0x8414f7=await components_api_1['ComponentsApi']['fetchComponentsDetailsByComponentsHistory'](_0x3971fa,_0x5dcfd8['map'](({ParentId:_0x2f598a})=>_0x2f598a))[_0x222e0f(0xa4)](_0x35cb2b=>components_api_1[_0x222e0f(0x97)]['removeNamespacePrefix'](_0x35cb2b)),_0x24ff5a=await retrieveTestClasses(_0x3971fa,_0x5dcfd8,_0x8414f7),_0x26de89={'ParentId':_0x30c819[_0x222e0f(0x82)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x222e0f(0x84)](_0x24ff5a[_0x222e0f(0x7f)]('\x0a'))['toString'](_0x222e0f(0x8f))};await _0x3971fa[_0x222e0f(0x95)]('/services/data/'+constants_1[_0x222e0f(0xa8)]+'/sobjects/Attachment',_0x26de89);}exports['fetchTestClasses']=fetchTestClasses;function a84_0x4b1e(){const _0x2da1f2=['values','544554UBzJZf','test','fetchAttachments','5JgguHd','post','unzip','ComponentsApi','../utils/components-api','__esModule','No\x20component\x20by\x20attachment\x20id','TEST\x20CLASSES','19665ODCcbf','push','search','files','Zip','async','fetchAttachmentsDetailsById','toString','then','retrieveAttachments','map','dir','SALESFORCE_API_VERSION','find','../../../constants','4802046GRMgKA','7923520ayLCBf','ParentId','60JNBavJ','join','(((.+)+)+)+$','20214sAdbXf','metadataLogId','Component_Name__c','from','32kBGHeV','Body','../../git/parsers/utils/zip','861560vsrudU','@istest','keys','apply','7HKcHtm','reduce','1564790xVLivn','base64'];a84_0x4b1e=function(){return _0x2da1f2;};return a84_0x4b1e();}async function retrieveTestClasses(_0xe37f09,_0x5acda2,_0x1ffdd9){const _0x57c8ea=a84_0x4ca503,_0x5cff8b=[],_0x2d7618=await(0x0,fetch_attachments_1[_0x57c8ea(0xa5)])(_0x5acda2,_0xe37f09),_0x25a269=_0x2d7618[_0x57c8ea(0xa6)](_0x59efc6=>_0x59efc6['id']);return await getTestClassesNames(_0xe37f09,_0x25a269,_0x1ffdd9,_0x5acda2)['then'](_0x477862=>{_0x5cff8b['push'](..._0x477862);}),_0x5cff8b;}async function getTestClassesNames(_0x364089,_0x29e78c,_0x2207b0,_0x140712){const _0x2b8051=a84_0x4ca503,_0xa41a75=await(0x0,fetch_attachments_1[_0x2b8051(0x93)])(_0x364089,BINARY_FIELDS,_0x29e78c),_0x213518=[],_0x2ac710=_0x140712[_0x2b8051(0x8d)]((_0x1b4f48,_0x266fa5)=>{const _0x2b8d19=_0x2b8051;var _0x57baf1;const _0x4e5460=(_0x57baf1=_0x2207b0[_0x2b8d19(0xa9)](_0x45a674=>_0x45a674['Id']===_0x266fa5[_0x2b8d19(0xad)]))===null||_0x57baf1===void 0x0?void 0x0:_0x57baf1['Component__r'][_0x2b8d19(0x83)];if(!_0x4e5460)throw new Error(_0x2b8d19(0x9a));return{..._0x1b4f48,[_0x266fa5['Id']]:_0x4e5460};},{});for(const _0x2e7b5d of _0xa41a75){const _0x2131b8=await zip_1[_0x2b8051(0xa0)][_0x2b8051(0x96)](_0x2e7b5d[_0x2b8051(0x90)][_0x2b8051(0x86)]);for(const _0x50f977 of Object[_0x2b8051(0x8a)](_0x2131b8['files'])){if(!_0x2131b8[_0x2b8051(0x9f)][_0x50f977][_0x2b8051(0xa7)]){const _0x6efe21=await _0x2131b8['files'][_0x50f977][_0x2b8051(0xa1)]('string'),_0x23fef5=new RegExp(_0x2b8051(0x89),'i');if(_0x23fef5[_0x2b8051(0x92)](_0x6efe21)){const _0x46ab8c=_0x2ac710[_0x2e7b5d['id']];if(!_0x46ab8c)throw new Error(_0x2b8051(0x9a));_0x213518[_0x2b8051(0x9d)](_0x46ab8c);}}}}return _0x213518;}