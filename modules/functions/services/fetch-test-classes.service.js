const a85_0x256dc6=a85_0x3c71;function a85_0x3c71(_0x4065a1,_0x58f55f){const _0x11f1df=a85_0xbd5b();return a85_0x3c71=function(_0x387ad5,_0x16aac4){_0x387ad5=_0x387ad5-0xfe;let _0xbd5b5d=_0x11f1df[_0x387ad5];return _0xbd5b5d;},a85_0x3c71(_0x4065a1,_0x58f55f);}(function(_0x39821f,_0x5e1614){const _0x7b8cd6=a85_0x3c71,_0x4bbc04=_0x39821f();while(!![]){try{const _0x12049e=-parseInt(_0x7b8cd6(0xff))/0x1+parseInt(_0x7b8cd6(0x128))/0x2+-parseInt(_0x7b8cd6(0x125))/0x3+parseInt(_0x7b8cd6(0x110))/0x4*(parseInt(_0x7b8cd6(0x126))/0x5)+parseInt(_0x7b8cd6(0x114))/0x6+-parseInt(_0x7b8cd6(0x12c))/0x7+-parseInt(_0x7b8cd6(0x12b))/0x8*(-parseInt(_0x7b8cd6(0x129))/0x9);if(_0x12049e===_0x5e1614)break;else _0x4bbc04['push'](_0x4bbc04['shift']());}catch(_0x454224){_0x4bbc04['push'](_0x4bbc04['shift']());}}}(a85_0xbd5b,0x59ddd));const a85_0x16aac4=(function(){let _0x524ad7=!![];return function(_0x4bca73,_0xfdf1ff){const _0x14ac16=_0x524ad7?function(){const _0x2d88f0=a85_0x3c71;if(_0xfdf1ff){const _0x2a6c55=_0xfdf1ff[_0x2d88f0(0x11d)](_0x4bca73,arguments);return _0xfdf1ff=null,_0x2a6c55;}}:function(){};return _0x524ad7=![],_0x14ac16;};}()),a85_0x387ad5=a85_0x16aac4(this,function(){const _0x178cc9=a85_0x3c71;return a85_0x387ad5[_0x178cc9(0x116)]()[_0x178cc9(0x103)](_0x178cc9(0x10a))[_0x178cc9(0x116)]()['constructor'](a85_0x387ad5)[_0x178cc9(0x103)](_0x178cc9(0x10a));});a85_0x387ad5();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a85_0x256dc6(0x11f)]=void 0x0;const constants_1=require(a85_0x256dc6(0x106)),zip_1=require(a85_0x256dc6(0x105)),components_api_1=require(a85_0x256dc6(0x119)),fetch_attachments_1=require(a85_0x256dc6(0x108)),BINARY_FIELDS=[a85_0x256dc6(0x11a)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION='TEST\x20CLASSES';async function fetchTestClasses(_0x60e27c,_0x4d61f3){const _0x27c5c7=a85_0x256dc6,_0x4b7cec=await(0x0,fetch_attachments_1[_0x27c5c7(0x120)])(_0x4d61f3,_0x60e27c[_0x27c5c7(0x109)]),_0x52b62c=await components_api_1[_0x27c5c7(0x118)][_0x27c5c7(0x113)](_0x4d61f3,_0x4b7cec['map'](({ParentId:_0x5f3068})=>_0x5f3068))[_0x27c5c7(0xfe)](_0x5c3839=>components_api_1[_0x27c5c7(0x118)][_0x27c5c7(0x123)](_0x5c3839)),_0x2f4963=await retrieveTestClasses(_0x4d61f3,_0x4b7cec,_0x52b62c),_0x1c4378={'ParentId':_0x60e27c[_0x27c5c7(0x11e)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x27c5c7(0x111)](_0x2f4963[_0x27c5c7(0x127)]('\x0a'))['toString'](_0x27c5c7(0x122))};await _0x4d61f3[_0x27c5c7(0x100)](_0x27c5c7(0x121)+constants_1[_0x27c5c7(0x102)]+_0x27c5c7(0x10e),_0x1c4378);}exports[a85_0x256dc6(0x11f)]=fetchTestClasses;function a85_0xbd5b(){const _0x330a4c=['../../../constants','find','../../shared/utils/fetch-attachments','attachmentsId','(((.+)+)+)+$','keys','@istest','Component__r','/sobjects/Attachment','values','255172gDqkby','from','reduce','fetchComponentsDetailsByComponentsHistory','976650MnnfCI','Zip','toString','files','ComponentsApi','../utils/components-api','Body','unzip','test','apply','metadataLogId','fetchTestClasses','fetchAttachmentsDetailsById','/services/data/','base64','removeNamespacePrefix','push','1693215hBsAHc','35noYzCF','join','1304304OxsUMQ','4176081waBNUI','ParentId','8JjBcmy','1833881GHvdri','then','531006yxImMu','post','dir','SALESFORCE_API_VERSION','search','map','../../git/parsers/utils/zip'];a85_0xbd5b=function(){return _0x330a4c;};return a85_0xbd5b();}async function retrieveTestClasses(_0x2ef768,_0x581c33,_0x2d615b){const _0x4ef1cc=a85_0x256dc6,_0x5eb1af=[],_0x31faf4=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x581c33,_0x2ef768),_0x640297=_0x31faf4[_0x4ef1cc(0x104)](_0x1684c5=>_0x1684c5['id']);return await getTestClassesNames(_0x2ef768,_0x640297,_0x2d615b,_0x581c33)[_0x4ef1cc(0xfe)](_0x32005e=>{_0x5eb1af['push'](..._0x32005e);}),_0x5eb1af;}async function getTestClassesNames(_0xe016c1,_0x23badb,_0x280689,_0x272d41){const _0x2f6d2f=a85_0x256dc6,_0x242ec6=await(0x0,fetch_attachments_1['fetchAttachments'])(_0xe016c1,BINARY_FIELDS,_0x23badb),_0x546625=[],_0x4c18ef=_0x272d41[_0x2f6d2f(0x112)]((_0x152630,_0x830dd8)=>{const _0x24c9b0=_0x2f6d2f;var _0x51e42a;const _0x141e4e=(_0x51e42a=_0x280689[_0x24c9b0(0x107)](_0x298e87=>_0x298e87['Id']===_0x830dd8[_0x24c9b0(0x12a)]))===null||_0x51e42a===void 0x0?void 0x0:_0x51e42a[_0x24c9b0(0x10d)]['Component_Name__c'];if(!_0x141e4e)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x152630,[_0x830dd8['Id']]:_0x141e4e};},{});for(const _0x3710e6 of _0x242ec6){const _0x1141e4=await zip_1[_0x2f6d2f(0x115)][_0x2f6d2f(0x11b)](_0x3710e6[_0x2f6d2f(0x10f)][_0x2f6d2f(0x11a)]);for(const _0x1aac5c of Object[_0x2f6d2f(0x10b)](_0x1141e4['files'])){if(!_0x1141e4['files'][_0x1aac5c][_0x2f6d2f(0x101)]){const _0x552146=await _0x1141e4[_0x2f6d2f(0x117)][_0x1aac5c]['async']('string'),_0x150dff=new RegExp(_0x2f6d2f(0x10c),'i');if(_0x150dff[_0x2f6d2f(0x11c)](_0x552146)){const _0x2c2987=_0x4c18ef[_0x3710e6['id']];if(!_0x2c2987)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x546625[_0x2f6d2f(0x124)](_0x2c2987);}}}}return _0x546625;}