const a85_0x2874d1=a85_0x4ab1;(function(_0x5c725d,_0xddf485){const _0x26f6ca=a85_0x4ab1,_0x306b0d=_0x5c725d();while(!![]){try{const _0x58212b=parseInt(_0x26f6ca(0x8a))/0x1+-parseInt(_0x26f6ca(0x7c))/0x2*(-parseInt(_0x26f6ca(0x98))/0x3)+-parseInt(_0x26f6ca(0x75))/0x4+-parseInt(_0x26f6ca(0x90))/0x5+-parseInt(_0x26f6ca(0x8b))/0x6*(-parseInt(_0x26f6ca(0x92))/0x7)+parseInt(_0x26f6ca(0x7f))/0x8+-parseInt(_0x26f6ca(0x82))/0x9;if(_0x58212b===_0xddf485)break;else _0x306b0d['push'](_0x306b0d['shift']());}catch(_0x137242){_0x306b0d['push'](_0x306b0d['shift']());}}}(a85_0x20dd,0x4960d));const a85_0xb577dd=(function(){let _0x12d1f4=!![];return function(_0xd73312,_0x39817c){const _0x558ac4=_0x12d1f4?function(){const _0x56d3c0=a85_0x4ab1;if(_0x39817c){const _0x89a9bf=_0x39817c[_0x56d3c0(0x8d)](_0xd73312,arguments);return _0x39817c=null,_0x89a9bf;}}:function(){};return _0x12d1f4=![],_0x558ac4;};}()),a85_0x21e68f=a85_0xb577dd(this,function(){const _0x101a57=a85_0x4ab1;return a85_0x21e68f[_0x101a57(0x6b)]()[_0x101a57(0x95)](_0x101a57(0x87))[_0x101a57(0x6b)]()['constructor'](a85_0x21e68f)['search'](_0x101a57(0x87));});a85_0x21e68f();'use strict';Object[a85_0x2874d1(0x77)](exports,a85_0x2874d1(0x83),{'value':!![]}),exports[a85_0x2874d1(0x76)]=void 0x0;function a85_0x20dd(){const _0x2ebc63=['keys','removeNamespacePrefix','278522iLyFFB','then','metadataLogId','283896wMKnPT','from','TEST\x20CLASSES','4796028obufJe','__esModule','string','Component_Name__c','Body','(((.+)+)+)+$','files','@istest','522051mAaQtw','1605996TYBeQU','fetchAttachmentsDetailsById','apply','values','fetchAttachments','1496625upzuca','retrieveAttachments','14cASetq','Zip','test','search','../../shared/utils/fetch-attachments','../utils/components-api','12MPupqb','No\x20component\x20by\x20attachment\x20id','toString','map','../../git/parsers/utils/zip','../../../constants','ComponentsApi','async','reduce','join','find','fetchComponentsDetailsByComponentsHistory','2068560WkXnbp','fetchTestClasses','defineProperty','base64','unzip'];a85_0x20dd=function(){return _0x2ebc63;};return a85_0x20dd();}const constants_1=require(a85_0x2874d1(0x6e)),zip_1=require(a85_0x2874d1(0x6d)),components_api_1=require(a85_0x2874d1(0x97)),fetch_attachments_1=require(a85_0x2874d1(0x96)),BINARY_FIELDS=[a85_0x2874d1(0x86)],ATTACHMENT_NAME=a85_0x2874d1(0x81),ATTACHMENT_DESCRIPTION=a85_0x2874d1(0x81);async function fetchTestClasses(_0x4b4aa8,_0xa1ce3e){const _0x46ffde=a85_0x2874d1,_0x5aa967=await(0x0,fetch_attachments_1[_0x46ffde(0x8c)])(_0xa1ce3e,_0x4b4aa8['attachmentsId']),_0x35e55b=await components_api_1[_0x46ffde(0x6f)][_0x46ffde(0x74)](_0xa1ce3e,_0x5aa967['map'](({ParentId:_0x3cefe5})=>_0x3cefe5))[_0x46ffde(0x7d)](_0x4f70d1=>components_api_1[_0x46ffde(0x6f)][_0x46ffde(0x7b)](_0x4f70d1)),_0x3e72b8=await retrieveTestClasses(_0xa1ce3e,_0x5aa967,_0x35e55b),_0x2fc9f4={'ParentId':_0x4b4aa8[_0x46ffde(0x7e)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x46ffde(0x80)](_0x3e72b8[_0x46ffde(0x72)]('\x0a'))[_0x46ffde(0x6b)](_0x46ffde(0x78))};await _0xa1ce3e['post']('/services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x2fc9f4);}function a85_0x4ab1(_0xcd5bc0,_0xd9b3fd){const _0x5bbaf4=a85_0x20dd();return a85_0x4ab1=function(_0x21e68f,_0xb577dd){_0x21e68f=_0x21e68f-0x6a;let _0x20dd67=_0x5bbaf4[_0x21e68f];return _0x20dd67;},a85_0x4ab1(_0xcd5bc0,_0xd9b3fd);}exports['fetchTestClasses']=fetchTestClasses;async function retrieveTestClasses(_0x178f8c,_0x21638f,_0x2b62c8){const _0x1d1615=a85_0x2874d1,_0x4193e6=[],_0x2bc1f6=await(0x0,fetch_attachments_1[_0x1d1615(0x91)])(_0x21638f,_0x178f8c),_0x249d0f=_0x2bc1f6[_0x1d1615(0x6c)](_0xaf4657=>_0xaf4657['id']);return await getTestClassesNames(_0x178f8c,_0x249d0f,_0x2b62c8,_0x21638f)[_0x1d1615(0x7d)](_0x67512d=>{_0x4193e6['push'](..._0x67512d);}),_0x4193e6;}async function getTestClassesNames(_0x52b3dc,_0x205288,_0x2e09d0,_0x240d08){const _0x2ac290=a85_0x2874d1,_0x348eaa=await(0x0,fetch_attachments_1[_0x2ac290(0x8f)])(_0x52b3dc,BINARY_FIELDS,_0x205288),_0x4407e0=[],_0x40fdde=_0x240d08[_0x2ac290(0x71)]((_0x1009ef,_0x390bba)=>{const _0x400dbd=_0x2ac290;var _0x2ecd2b;const _0x3abf57=(_0x2ecd2b=_0x2e09d0[_0x400dbd(0x73)](_0x13eb50=>_0x13eb50['Id']===_0x390bba['ParentId']))===null||_0x2ecd2b===void 0x0?void 0x0:_0x2ecd2b['Component__r'][_0x400dbd(0x85)];if(!_0x3abf57)throw new Error(_0x400dbd(0x6a));return{..._0x1009ef,[_0x390bba['Id']]:_0x3abf57};},{});for(const _0x391bc3 of _0x348eaa){const _0x3c1034=await zip_1[_0x2ac290(0x93)][_0x2ac290(0x79)](_0x391bc3[_0x2ac290(0x8e)][_0x2ac290(0x86)]);for(const _0x425d58 of Object[_0x2ac290(0x7a)](_0x3c1034[_0x2ac290(0x88)])){if(!_0x3c1034['files'][_0x425d58]['dir']){const _0x1bc362=await _0x3c1034[_0x2ac290(0x88)][_0x425d58][_0x2ac290(0x70)](_0x2ac290(0x84)),_0x448043=new RegExp(_0x2ac290(0x89),'i');if(_0x448043[_0x2ac290(0x94)](_0x1bc362)){const _0x5b1a89=_0x40fdde[_0x391bc3['id']];if(!_0x5b1a89)throw new Error(_0x2ac290(0x6a));_0x4407e0['push'](_0x5b1a89);}}}}return _0x4407e0;}