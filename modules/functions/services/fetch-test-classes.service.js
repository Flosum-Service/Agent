const a85_0x21cc36=a85_0x3d29;(function(_0x16950c,_0x1e61b2){const _0x5c6fcd=a85_0x3d29,_0x59cfa0=_0x16950c();while(!![]){try{const _0x3f0bab=parseInt(_0x5c6fcd(0x97))/0x1*(-parseInt(_0x5c6fcd(0x80))/0x2)+-parseInt(_0x5c6fcd(0x8b))/0x3+-parseInt(_0x5c6fcd(0x92))/0x4+-parseInt(_0x5c6fcd(0x7a))/0x5*(parseInt(_0x5c6fcd(0x75))/0x6)+-parseInt(_0x5c6fcd(0x72))/0x7*(-parseInt(_0x5c6fcd(0x74))/0x8)+-parseInt(_0x5c6fcd(0x6b))/0x9*(-parseInt(_0x5c6fcd(0x6a))/0xa)+parseInt(_0x5c6fcd(0x91))/0xb;if(_0x3f0bab===_0x1e61b2)break;else _0x59cfa0['push'](_0x59cfa0['shift']());}catch(_0x5d074d){_0x59cfa0['push'](_0x59cfa0['shift']());}}}(a85_0x3460,0x26999));const a85_0x3c009c=(function(){let _0x4b5147=!![];return function(_0x1cd41c,_0x38628b){const _0x82ef4d=_0x4b5147?function(){const _0x50c6cd=a85_0x3d29;if(_0x38628b){const _0x276432=_0x38628b[_0x50c6cd(0x73)](_0x1cd41c,arguments);return _0x38628b=null,_0x276432;}}:function(){};return _0x4b5147=![],_0x82ef4d;};}()),a85_0x46ce3b=a85_0x3c009c(this,function(){const _0x5dd3b6=a85_0x3d29;return a85_0x46ce3b[_0x5dd3b6(0x93)]()[_0x5dd3b6(0x95)](_0x5dd3b6(0x8c))['toString']()[_0x5dd3b6(0x69)](a85_0x46ce3b)[_0x5dd3b6(0x95)](_0x5dd3b6(0x8c));});a85_0x46ce3b();'use strict';Object[a85_0x21cc36(0x90)](exports,a85_0x21cc36(0x8d),{'value':!![]}),exports['fetchTestClasses']=void 0x0;function a85_0x3d29(_0x45c480,_0x6e1b98){const _0x6f1148=a85_0x3460();return a85_0x3d29=function(_0x46ce3b,_0x3c009c){_0x46ce3b=_0x46ce3b-0x69;let _0x346042=_0x6f1148[_0x46ce3b];return _0x346042;},a85_0x3d29(_0x45c480,_0x6e1b98);}const constants_1=require(a85_0x21cc36(0x8a)),zip_1=require(a85_0x21cc36(0x76)),components_api_1=require(a85_0x21cc36(0x78)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x21cc36(0x70)],ATTACHMENT_NAME=a85_0x21cc36(0x77),ATTACHMENT_DESCRIPTION=a85_0x21cc36(0x77);async function fetchTestClasses(_0x23230d,_0x4f9cf7){const _0x59d05a=a85_0x21cc36,_0x438c22=await(0x0,fetch_attachments_1[_0x59d05a(0x88)])(_0x4f9cf7,_0x23230d['attachmentsId']),_0x5e5c48=await components_api_1[_0x59d05a(0x98)][_0x59d05a(0x9a)](_0x4f9cf7,_0x438c22[_0x59d05a(0x84)](({ParentId:_0x1843cb})=>_0x1843cb))[_0x59d05a(0x83)](_0x1b71e1=>components_api_1[_0x59d05a(0x98)][_0x59d05a(0x7f)](_0x1b71e1)),_0xf2eb57=await retrieveTestClasses(_0x4f9cf7,_0x438c22,_0x5e5c48),_0x9f8d2c={'ParentId':_0x23230d['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x59d05a(0x6e)](_0xf2eb57['join']('\x0a'))[_0x59d05a(0x93)](_0x59d05a(0x94))};await _0x4f9cf7[_0x59d05a(0x85)](_0x59d05a(0x79)+constants_1['SALESFORCE_API_VERSION']+_0x59d05a(0x81),_0x9f8d2c);}exports['fetchTestClasses']=fetchTestClasses;async function retrieveTestClasses(_0x508bf2,_0x31f78f,_0x56e3b7){const _0x51945a=a85_0x21cc36,_0x3de0c3=[],_0x1673c8=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x31f78f,_0x508bf2),_0x28132f=_0x1673c8['map'](_0x2912c1=>_0x2912c1['id']);return await getTestClassesNames(_0x508bf2,_0x28132f,_0x56e3b7,_0x31f78f)[_0x51945a(0x83)](_0x59bc5f=>{const _0x51f095=_0x51945a;_0x3de0c3[_0x51f095(0x6c)](..._0x59bc5f);}),_0x3de0c3;}function a85_0x3460(){const _0x12b538=['__esModule','fetchAttachments','test','defineProperty','8884106reucfE','1155200ofOcSs','toString','base64','search','values','11PssYdx','ComponentsApi','ParentId','fetchComponentsDetailsByComponentsHistory','constructor','13950dknBmh','702FrQwbY','push','find','from','reduce','Body','string','7HaZTaz','apply','475512xqYntw','146442vpoxfG','../../git/parsers/utils/zip','TEST\x20CLASSES','../utils/components-api','/services/data/','55djbJKB','files','Zip','Component_Name__c','@istest','removeNamespacePrefix','33262hoCpUE','/sobjects/Attachment','async','then','map','post','dir','keys','fetchAttachmentsDetailsById','Component__r','../../../constants','232716WotjXz','(((.+)+)+)+$'];a85_0x3460=function(){return _0x12b538;};return a85_0x3460();}async function getTestClassesNames(_0x536b2b,_0x482046,_0x5a2148,_0x285e1c){const _0x4dde75=a85_0x21cc36,_0x3cc4ee=await(0x0,fetch_attachments_1[_0x4dde75(0x8e)])(_0x536b2b,BINARY_FIELDS,_0x482046),_0x4baf3f=[],_0x52d145=_0x285e1c[_0x4dde75(0x6f)]((_0x229e0c,_0x21b306)=>{const _0x3644a5=_0x4dde75;var _0x3212e9;const _0x2943ed=(_0x3212e9=_0x5a2148[_0x3644a5(0x6d)](_0x1c845b=>_0x1c845b['Id']===_0x21b306[_0x3644a5(0x99)]))===null||_0x3212e9===void 0x0?void 0x0:_0x3212e9[_0x3644a5(0x89)][_0x3644a5(0x7d)];if(!_0x2943ed)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x229e0c,[_0x21b306['Id']]:_0x2943ed};},{});for(const _0x339c99 of _0x3cc4ee){const _0x37535a=await zip_1[_0x4dde75(0x7c)]['unzip'](_0x339c99[_0x4dde75(0x96)][_0x4dde75(0x70)]);for(const _0x52cfc2 of Object[_0x4dde75(0x87)](_0x37535a['files'])){if(!_0x37535a[_0x4dde75(0x7b)][_0x52cfc2][_0x4dde75(0x86)]){const _0x13f81d=await _0x37535a[_0x4dde75(0x7b)][_0x52cfc2][_0x4dde75(0x82)](_0x4dde75(0x71)),_0x40b759=new RegExp(_0x4dde75(0x7e),'i');if(_0x40b759[_0x4dde75(0x8f)](_0x13f81d)){const _0x2026b2=_0x52d145[_0x339c99['id']];if(!_0x2026b2)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x4baf3f[_0x4dde75(0x6c)](_0x2026b2);}}}}return _0x4baf3f;}