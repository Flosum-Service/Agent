const a85_0x13c994=a85_0x18e7;(function(_0x2d6622,_0x3772d9){const _0x4a0a68=a85_0x18e7,_0x3ec022=_0x2d6622();while(!![]){try{const _0x11b383=-parseInt(_0x4a0a68(0x144))/0x1+-parseInt(_0x4a0a68(0x13c))/0x2+parseInt(_0x4a0a68(0x140))/0x3*(parseInt(_0x4a0a68(0x14f))/0x4)+-parseInt(_0x4a0a68(0x147))/0x5*(-parseInt(_0x4a0a68(0x12a))/0x6)+-parseInt(_0x4a0a68(0x148))/0x7*(-parseInt(_0x4a0a68(0x152))/0x8)+parseInt(_0x4a0a68(0x138))/0x9*(parseInt(_0x4a0a68(0x154))/0xa)+parseInt(_0x4a0a68(0x130))/0xb*(-parseInt(_0x4a0a68(0x13a))/0xc);if(_0x11b383===_0x3772d9)break;else _0x3ec022['push'](_0x3ec022['shift']());}catch(_0x486521){_0x3ec022['push'](_0x3ec022['shift']());}}}(a85_0x12ff,0x8db3e));const a85_0x744ee0=(function(){let _0x3db458=!![];return function(_0x32a7c0,_0x31fe83){const _0x32e8ba=_0x3db458?function(){const _0x3c815d=a85_0x18e7;if(_0x31fe83){const _0x1b0852=_0x31fe83[_0x3c815d(0x12d)](_0x32a7c0,arguments);return _0x31fe83=null,_0x1b0852;}}:function(){};return _0x3db458=![],_0x32e8ba;};}()),a85_0x3fdb38=a85_0x744ee0(this,function(){const _0xa3dd52=a85_0x18e7;return a85_0x3fdb38[_0xa3dd52(0x155)]()[_0xa3dd52(0x149)](_0xa3dd52(0x150))[_0xa3dd52(0x155)]()[_0xa3dd52(0x153)](a85_0x3fdb38)['search'](_0xa3dd52(0x150));});a85_0x3fdb38();'use strict';Object['defineProperty'](exports,a85_0x13c994(0x143),{'value':!![]}),exports[a85_0x13c994(0x137)]=void 0x0;function a85_0x12ff(){const _0x11b88d=['metadataLogId','from','12FIfjHD','then','removeNamespacePrefix','apply','fetchComponentsDetailsByComponentsHistory','retrieveAttachments','10439TeqvWz','../utils/components-api','Component_Name__c','TEST\x20CLASSES','files','test','async','fetchTestClasses','9zJrUIv','../../../constants','14244Xeqdom','attachmentsId','1105966ywSTct','Component__r','string','fetchAttachmentsDetailsById','2954106XLsdyl','join','unzip','__esModule','194183xJdDju','dir','map','1347865PUMLuB','5459993luIpjw','search','/sobjects/Attachment','fetchAttachments','/services/data/','No\x20component\x20by\x20attachment\x20id','Body','4MZxoNM','(((.+)+)+)+$','push','8aRqnWu','constructor','1501960QGINtX','toString','keys','ComponentsApi','ParentId','post','values'];a85_0x12ff=function(){return _0x11b88d;};return a85_0x12ff();}function a85_0x18e7(_0x3805a6,_0x257fd0){const _0x3e927c=a85_0x12ff();return a85_0x18e7=function(_0x3fdb38,_0x744ee0){_0x3fdb38=_0x3fdb38-0x126;let _0x12ffff=_0x3e927c[_0x3fdb38];return _0x12ffff;},a85_0x18e7(_0x3805a6,_0x257fd0);}const constants_1=require(a85_0x13c994(0x139)),zip_1=require('../../git/parsers/utils/zip'),components_api_1=require(a85_0x13c994(0x131)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a85_0x13c994(0x14e)],ATTACHMENT_NAME=a85_0x13c994(0x133),ATTACHMENT_DESCRIPTION=a85_0x13c994(0x133);async function fetchTestClasses(_0x5932ab,_0x27cab2){const _0x542577=a85_0x13c994,_0xad58aa=await(0x0,fetch_attachments_1[_0x542577(0x13f)])(_0x27cab2,_0x5932ab[_0x542577(0x13b)]),_0x2cfe08=await components_api_1['ComponentsApi'][_0x542577(0x12e)](_0x27cab2,_0xad58aa[_0x542577(0x146)](({ParentId:_0x35981b})=>_0x35981b))['then'](_0x51cb50=>components_api_1[_0x542577(0x157)][_0x542577(0x12c)](_0x51cb50)),_0x518760=await retrieveTestClasses(_0x27cab2,_0xad58aa,_0x2cfe08),_0x5a7c95={'ParentId':_0x5932ab[_0x542577(0x128)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x542577(0x129)](_0x518760[_0x542577(0x141)]('\x0a'))[_0x542577(0x155)]('base64')};await _0x27cab2[_0x542577(0x126)](_0x542577(0x14c)+constants_1['SALESFORCE_API_VERSION']+_0x542577(0x14a),_0x5a7c95);}exports[a85_0x13c994(0x137)]=fetchTestClasses;async function retrieveTestClasses(_0x1183d4,_0x2c39c2,_0x1eaf08){const _0x5c4002=a85_0x13c994,_0x14f846=[],_0x1f9ec5=await(0x0,fetch_attachments_1[_0x5c4002(0x12f)])(_0x2c39c2,_0x1183d4),_0x3c49c1=_0x1f9ec5[_0x5c4002(0x146)](_0x171c78=>_0x171c78['id']);return await getTestClassesNames(_0x1183d4,_0x3c49c1,_0x1eaf08,_0x2c39c2)[_0x5c4002(0x12b)](_0x4e7a72=>{const _0x4d3a99=_0x5c4002;_0x14f846[_0x4d3a99(0x151)](..._0x4e7a72);}),_0x14f846;}async function getTestClassesNames(_0x4ecf17,_0x2fc2fe,_0x5e3bf3,_0x23668d){const _0x4f7be2=a85_0x13c994,_0x54200f=await(0x0,fetch_attachments_1[_0x4f7be2(0x14b)])(_0x4ecf17,BINARY_FIELDS,_0x2fc2fe),_0x449a49=[],_0x5da58e=_0x23668d['reduce']((_0x22b79f,_0x992b20)=>{const _0x57b0ea=_0x4f7be2;var _0x395823;const _0x3e2648=(_0x395823=_0x5e3bf3['find'](_0x3f0028=>_0x3f0028['Id']===_0x992b20[_0x57b0ea(0x158)]))===null||_0x395823===void 0x0?void 0x0:_0x395823[_0x57b0ea(0x13d)][_0x57b0ea(0x132)];if(!_0x3e2648)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x22b79f,[_0x992b20['Id']]:_0x3e2648};},{});for(const _0x46c59c of _0x54200f){const _0x1daadb=await zip_1['Zip'][_0x4f7be2(0x142)](_0x46c59c[_0x4f7be2(0x127)]['Body']);for(const _0x33f0d2 of Object[_0x4f7be2(0x156)](_0x1daadb[_0x4f7be2(0x134)])){if(!_0x1daadb['files'][_0x33f0d2][_0x4f7be2(0x145)]){const _0x4c3b40=await _0x1daadb[_0x4f7be2(0x134)][_0x33f0d2][_0x4f7be2(0x136)](_0x4f7be2(0x13e)),_0x18d10b=new RegExp('@istest','i');if(_0x18d10b[_0x4f7be2(0x135)](_0x4c3b40)){const _0x1679e5=_0x5da58e[_0x46c59c['id']];if(!_0x1679e5)throw new Error(_0x4f7be2(0x14d));_0x449a49[_0x4f7be2(0x151)](_0x1679e5);}}}}return _0x449a49;}