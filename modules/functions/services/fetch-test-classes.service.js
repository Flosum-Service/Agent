const a53_0x1fad09=a53_0x19d0;(function(_0x13300b,_0x558c9f){const _0x3345e6=a53_0x19d0,_0xcc4b0d=_0x13300b();while(!![]){try{const _0x2ee2b1=-parseInt(_0x3345e6(0x125))/0x1+parseInt(_0x3345e6(0x152))/0x2*(parseInt(_0x3345e6(0x12d))/0x3)+parseInt(_0x3345e6(0x126))/0x4+parseInt(_0x3345e6(0x129))/0x5*(-parseInt(_0x3345e6(0x14d))/0x6)+-parseInt(_0x3345e6(0x134))/0x7+parseInt(_0x3345e6(0x120))/0x8*(parseInt(_0x3345e6(0x128))/0x9)+parseInt(_0x3345e6(0x14f))/0xa*(parseInt(_0x3345e6(0x122))/0xb);if(_0x2ee2b1===_0x558c9f)break;else _0xcc4b0d['push'](_0xcc4b0d['shift']());}catch(_0x594d86){_0xcc4b0d['push'](_0xcc4b0d['shift']());}}}(a53_0x16a1,0xb37e1));const a53_0x291183=(function(){let _0x4903e6=!![];return function(_0x344e49,_0x54dc3a){const _0x55170e=_0x4903e6?function(){const _0x15d621=a53_0x19d0;if(_0x54dc3a){const _0x3f3bfc=_0x54dc3a[_0x15d621(0x13a)](_0x344e49,arguments);return _0x54dc3a=null,_0x3f3bfc;}}:function(){};return _0x4903e6=![],_0x55170e;};}()),a53_0x51a6af=a53_0x291183(this,function(){const _0xbd611e=a53_0x19d0;return a53_0x51a6af['toString']()[_0xbd611e(0x12f)](_0xbd611e(0x13d))[_0xbd611e(0x132)]()[_0xbd611e(0x142)](a53_0x51a6af)[_0xbd611e(0x12f)](_0xbd611e(0x13d));});function a53_0x16a1(){const _0x22bbf8=['then','files','(((.+)+)+)+$','from','removeNamespacePrefix','Body','string','constructor','values','ComponentsApi','reduce','SALESFORCE_API_VERSION','__esModule','/sobjects/Attachment','join','TEST\x20CLASSES','fetchAttachments','@istest','2871492dLMIdk','Component__r','10zLIpbJ','../../git/parsers/utils/zip','../utils/components-api','2474VpPTTl','Zip','retrieveAttachments','ParentId','1212432qyGikm','push','4653077oLxUHq','async','fetchAttachmentsDetailsById','549370tlvXFz','1659412wVJier','fetchComponentsDetailsByComponentsHistory','36auiLHy','10KcOEpk','post','fetchTestClasses','defineProperty','3255SQWhQe','dir','search','Component_Name__c','../../shared/utils/fetch-attachments','toString','No\x20component\x20by\x20attachment\x20id','3811402vpEZbw','test','base64','map','unzip','/services/data/','apply'];a53_0x16a1=function(){return _0x22bbf8;};return a53_0x16a1();}a53_0x51a6af();'use strict';Object[a53_0x1fad09(0x12c)](exports,a53_0x1fad09(0x147),{'value':!![]}),exports['fetchTestClasses']=void 0x0;const constants_1=require('../../../constants'),zip_1=require(a53_0x1fad09(0x150)),components_api_1=require(a53_0x1fad09(0x151)),fetch_attachments_1=require(a53_0x1fad09(0x131)),BINARY_FIELDS=['Body'],ATTACHMENT_NAME=a53_0x1fad09(0x14a),ATTACHMENT_DESCRIPTION=a53_0x1fad09(0x14a);async function fetchTestClasses(_0x509008,_0x112cd2){const _0x2b3d61=a53_0x1fad09,_0x5c48a0=await(0x0,fetch_attachments_1[_0x2b3d61(0x124)])(_0x112cd2,_0x509008['attachmentsId']),_0x4b58ca=await components_api_1[_0x2b3d61(0x144)][_0x2b3d61(0x127)](_0x112cd2,_0x5c48a0[_0x2b3d61(0x137)](({ParentId:_0x207bef})=>_0x207bef))[_0x2b3d61(0x13b)](_0x16c751=>components_api_1[_0x2b3d61(0x144)][_0x2b3d61(0x13f)](_0x16c751)),_0x152eb1=await retrieveTestClasses(_0x112cd2,_0x5c48a0,_0x4b58ca),_0x1063ba={'ParentId':_0x509008['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x2b3d61(0x13e)](_0x152eb1[_0x2b3d61(0x149)]('\x0a'))[_0x2b3d61(0x132)](_0x2b3d61(0x136))};await _0x112cd2[_0x2b3d61(0x12a)](_0x2b3d61(0x139)+constants_1[_0x2b3d61(0x146)]+_0x2b3d61(0x148),_0x1063ba);}function a53_0x19d0(_0x2b1101,_0x896002){const _0xffab9e=a53_0x16a1();return a53_0x19d0=function(_0x51a6af,_0x291183){_0x51a6af=_0x51a6af-0x11d;let _0x16a148=_0xffab9e[_0x51a6af];return _0x16a148;},a53_0x19d0(_0x2b1101,_0x896002);}exports[a53_0x1fad09(0x12b)]=fetchTestClasses;async function retrieveTestClasses(_0xf99cf4,_0x44a56c,_0x6bb5a4){const _0x156687=a53_0x1fad09,_0x3f9a5f=[],_0x3bc01b=await(0x0,fetch_attachments_1[_0x156687(0x11e)])(_0x44a56c,_0xf99cf4),_0x3513ca=_0x3bc01b[_0x156687(0x137)](_0x507bc6=>_0x507bc6['id']);return await getTestClassesNames(_0xf99cf4,_0x3513ca,_0x6bb5a4,_0x44a56c)['then'](_0x46adc9=>{const _0x1caca5=_0x156687;_0x3f9a5f[_0x1caca5(0x121)](..._0x46adc9);}),_0x3f9a5f;}async function getTestClassesNames(_0x43efb9,_0x14efab,_0x50452a,_0x123a59){const _0x151ce5=a53_0x1fad09,_0x3766c0=await(0x0,fetch_attachments_1[_0x151ce5(0x14b)])(_0x43efb9,BINARY_FIELDS,_0x14efab),_0x528c06=[],_0x57f3c3=_0x123a59[_0x151ce5(0x145)]((_0x3189e3,_0x2c4e5c)=>{const _0x2f03a2=_0x151ce5;var _0x57a0b9;const _0x10edc4=(_0x57a0b9=_0x50452a['find'](_0x7eea70=>_0x7eea70['Id']===_0x2c4e5c[_0x2f03a2(0x11f)]))===null||_0x57a0b9===void 0x0?void 0x0:_0x57a0b9[_0x2f03a2(0x14e)][_0x2f03a2(0x130)];if(!_0x10edc4)throw new Error(_0x2f03a2(0x133));return{..._0x3189e3,[_0x2c4e5c['Id']]:_0x10edc4};},{});for(const _0xd1b2a2 of _0x3766c0){const _0x469813=await zip_1[_0x151ce5(0x11d)][_0x151ce5(0x138)](_0xd1b2a2[_0x151ce5(0x143)][_0x151ce5(0x140)]);for(const _0x186250 of Object['keys'](_0x469813[_0x151ce5(0x13c)])){if(!_0x469813[_0x151ce5(0x13c)][_0x186250][_0x151ce5(0x12e)]){const _0x5c1404=await _0x469813[_0x151ce5(0x13c)][_0x186250][_0x151ce5(0x123)](_0x151ce5(0x141)),_0x542168=new RegExp(_0x151ce5(0x14c),'i');if(_0x542168[_0x151ce5(0x135)](_0x5c1404)){const _0x48448a=_0x57f3c3[_0xd1b2a2['id']];if(!_0x48448a)throw new Error(_0x151ce5(0x133));_0x528c06[_0x151ce5(0x121)](_0x48448a);}}}}return _0x528c06;}