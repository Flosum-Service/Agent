function a103_0x1413(_0x584e17,_0x4b693a){const _0xef6c32=a103_0x1e8a();return a103_0x1413=function(_0x575364,_0xa7898){_0x575364=_0x575364-0x11d;let _0x1e8a2a=_0xef6c32[_0x575364];return _0x1e8a2a;},a103_0x1413(_0x584e17,_0x4b693a);}const a103_0x304e6e=a103_0x1413;(function(_0x1bfb94,_0x112662){const _0x264f6e=a103_0x1413,_0x194b40=_0x1bfb94();while(!![]){try{const _0x1986e4=-parseInt(_0x264f6e(0x138))/0x1+parseInt(_0x264f6e(0x121))/0x2+-parseInt(_0x264f6e(0x144))/0x3+parseInt(_0x264f6e(0x13e))/0x4*(-parseInt(_0x264f6e(0x133))/0x5)+parseInt(_0x264f6e(0x139))/0x6+-parseInt(_0x264f6e(0x13c))/0x7+parseInt(_0x264f6e(0x13d))/0x8;if(_0x1986e4===_0x112662)break;else _0x194b40['push'](_0x194b40['shift']());}catch(_0x18964a){_0x194b40['push'](_0x194b40['shift']());}}}(a103_0x1e8a,0xa2faf));const a103_0xa7898=(function(){let _0x352f86=!![];return function(_0x754b19,_0x207065){const _0x13564e=_0x352f86?function(){const _0xce418e=a103_0x1413;if(_0x207065){const _0x41d9ce=_0x207065[_0xce418e(0x136)](_0x754b19,arguments);return _0x207065=null,_0x41d9ce;}}:function(){};return _0x352f86=![],_0x13564e;};}()),a103_0x575364=a103_0xa7898(this,function(){const _0x518837=a103_0x1413;return a103_0x575364[_0x518837(0x12e)]()[_0x518837(0x12a)]('(((.+)+)+)+$')[_0x518837(0x12e)]()['constructor'](a103_0x575364)[_0x518837(0x12a)](_0x518837(0x13a));});a103_0x575364();'use strict';Object[a103_0x304e6e(0x12d)](exports,a103_0x304e6e(0x13f),{'value':!![]}),exports['fetchTestClasses']=void 0x0;const zip_1=require('../../git/parsers/utils/zip'),components_api_1=require('../utils/components-api'),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a103_0x304e6e(0x122)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a103_0x304e6e(0x12b);function a103_0x1e8a(){const _0x1fdf00=['20092696CKcbbT','4HNbjku','__esModule','push','find','fetchComponentsDetailsByComponentsHistory','Component_Name__c','3304869tkiqmy','/services/data/v','ComponentsApi','unzip','Component__r','reduce','1823386ycMDau','Body','apiVersion','fetchTestClasses','base64','map','fetchAttachments','@istest','values','search','TEST\x20CLASSES','post','defineProperty','toString','Zip','string','dir','files','3702585kWJMNb','ParentId','keys','apply','then','1027300uOSgRl','2848806VhXFRB','(((.+)+)+)+$','attachmentsId','2527518oLtslM'];a103_0x1e8a=function(){return _0x1fdf00;};return a103_0x1e8a();}async function fetchTestClasses(_0x42794f,_0x17d982){const _0x3ff03c=a103_0x304e6e,_0x52e778=await(0x0,fetch_attachments_1['fetchAttachmentsDetailsById'])(_0x17d982,_0x42794f[_0x3ff03c(0x13b)]),_0x3a51be=await components_api_1[_0x3ff03c(0x11d)][_0x3ff03c(0x142)](_0x17d982,_0x52e778[_0x3ff03c(0x126)](({ParentId:_0x2f682e})=>_0x2f682e),_0x42794f['apiVersion'])[_0x3ff03c(0x137)](_0x4649cb=>components_api_1['ComponentsApi']['removeNamespacePrefix'](_0x4649cb)),_0x2ea150=await retrieveTestClasses(_0x17d982,_0x52e778,_0x3a51be),_0x181edb={'ParentId':_0x42794f['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer['from'](_0x2ea150['join']('\x0a'))[_0x3ff03c(0x12e)](_0x3ff03c(0x125))};await _0x17d982[_0x3ff03c(0x12c)](_0x3ff03c(0x145)+_0x42794f[_0x3ff03c(0x123)]+'/sobjects/Attachment',_0x181edb);}exports[a103_0x304e6e(0x124)]=fetchTestClasses;async function retrieveTestClasses(_0x354c4b,_0x106425,_0x28034a){const _0xce921f=a103_0x304e6e,_0x20f2da=[],_0x3a56a9=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x106425,_0x354c4b),_0x1493db=_0x3a56a9['map'](_0x38f2a5=>_0x38f2a5['id']);return await getTestClassesNames(_0x354c4b,_0x1493db,_0x28034a,_0x106425)[_0xce921f(0x137)](_0x5e03d8=>{_0x20f2da['push'](..._0x5e03d8);}),_0x20f2da;}async function getTestClassesNames(_0x45ea6a,_0x305cd1,_0x5e0c35,_0x4aae36){const _0x40d3f0=a103_0x304e6e,_0x5c6cf6=await(0x0,fetch_attachments_1[_0x40d3f0(0x127)])(_0x45ea6a,BINARY_FIELDS,_0x305cd1),_0x398f2a=[],_0x332ac4=_0x4aae36[_0x40d3f0(0x120)]((_0x3902cf,_0x6e764d)=>{const _0x14a41e=_0x40d3f0;var _0x612a40;const _0x1c9d10=(_0x612a40=_0x5e0c35[_0x14a41e(0x141)](_0x433f57=>_0x433f57['Id']===_0x6e764d[_0x14a41e(0x134)]))===null||_0x612a40===void 0x0?void 0x0:_0x612a40[_0x14a41e(0x11f)][_0x14a41e(0x143)];if(!_0x1c9d10)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x3902cf,[_0x6e764d['Id']]:_0x1c9d10};},{});for(const _0x1128dc of _0x5c6cf6){const _0x5d134e=await zip_1[_0x40d3f0(0x12f)][_0x40d3f0(0x11e)](_0x1128dc[_0x40d3f0(0x129)]['Body']);for(const _0x675852 of Object[_0x40d3f0(0x135)](_0x5d134e['files'])){if(!_0x5d134e[_0x40d3f0(0x132)][_0x675852][_0x40d3f0(0x131)]){const _0x44d5d4=await _0x5d134e[_0x40d3f0(0x132)][_0x675852]['async'](_0x40d3f0(0x130)),_0x2ec217=new RegExp(_0x40d3f0(0x128),'i');if(_0x2ec217['test'](_0x44d5d4)){const _0x498ce6=_0x332ac4[_0x1128dc['id']];if(!_0x498ce6)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x398f2a[_0x40d3f0(0x140)](_0x498ce6);}}}}return _0x398f2a;}