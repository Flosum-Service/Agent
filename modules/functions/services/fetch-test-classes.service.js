const a85_0x2df594=a85_0x37e7;(function(_0xfd77de,_0x5c2e3c){const _0x151197=a85_0x37e7,_0x264b8a=_0xfd77de();while(!![]){try{const _0x16ff64=parseInt(_0x151197(0xd5))/0x1+-parseInt(_0x151197(0xc6))/0x2*(-parseInt(_0x151197(0xa8))/0x3)+parseInt(_0x151197(0xce))/0x4*(-parseInt(_0x151197(0xbe))/0x5)+parseInt(_0x151197(0xb8))/0x6+parseInt(_0x151197(0xd7))/0x7*(parseInt(_0x151197(0xbf))/0x8)+parseInt(_0x151197(0xcb))/0x9*(-parseInt(_0x151197(0xba))/0xa)+parseInt(_0x151197(0xb6))/0xb*(-parseInt(_0x151197(0xad))/0xc);if(_0x16ff64===_0x5c2e3c)break;else _0x264b8a['push'](_0x264b8a['shift']());}catch(_0x322d3e){_0x264b8a['push'](_0x264b8a['shift']());}}}(a85_0x31a5,0xc1b0c));const a85_0x58cd59=(function(){let _0x25ae90=!![];return function(_0x10b6df,_0x48a419){const _0x370ef0=_0x25ae90?function(){const _0x30c1ad=a85_0x37e7;if(_0x48a419){const _0x2603b1=_0x48a419[_0x30c1ad(0xd4)](_0x10b6df,arguments);return _0x48a419=null,_0x2603b1;}}:function(){};return _0x25ae90=![],_0x370ef0;};}()),a85_0x35f989=a85_0x58cd59(this,function(){const _0x5e491b=a85_0x37e7;return a85_0x35f989[_0x5e491b(0xb1)]()['search'](_0x5e491b(0xaa))[_0x5e491b(0xb1)]()[_0x5e491b(0xd1)](a85_0x35f989)[_0x5e491b(0xbb)]('(((.+)+)+)+$');});a85_0x35f989();'use strict';Object['defineProperty'](exports,a85_0x2df594(0xb3),{'value':!![]}),exports[a85_0x2df594(0xd8)]=void 0x0;const constants_1=require(a85_0x2df594(0xab)),zip_1=require(a85_0x2df594(0xc7)),components_api_1=require('../utils/components-api'),fetch_attachments_1=require(a85_0x2df594(0xa7)),BINARY_FIELDS=['Body'],ATTACHMENT_NAME=a85_0x2df594(0xa5),ATTACHMENT_DESCRIPTION=a85_0x2df594(0xa5);function a85_0x31a5(){const _0x446649=['then','../../shared/utils/fetch-attachments','27IyKfAj','dir','(((.+)+)+)+$','../../../constants','ComponentsApi','45566316IanWdv','push','fetchAttachmentsDetailsById','SALESFORCE_API_VERSION','toString','removeNamespacePrefix','__esModule','test','find','11SaSDsj','attachmentsId','9365148GsUZNl','map','134510CWJwPi','search','fetchComponentsDetailsByComponentsHistory','/sobjects/Attachment','90qIxCGB','2152BuJVLI','string','Component_Name__c','Zip','@istest','retrieveAttachments','reduce','113294YTEUJr','../../git/parsers/utils/zip','fetchAttachments','post','files','117JkVZht','base64','values','8044oKngPk','keys','from','constructor','ParentId','async','apply','1475506VtiIGa','No\x20component\x20by\x20attachment\x20id','32669xijPEt','fetchTestClasses','Component__r','TEST\x20CLASSES'];a85_0x31a5=function(){return _0x446649;};return a85_0x31a5();}async function fetchTestClasses(_0x5decdf,_0xa315b1){const _0x30e017=a85_0x2df594,_0x26ab57=await(0x0,fetch_attachments_1[_0x30e017(0xaf)])(_0xa315b1,_0x5decdf[_0x30e017(0xb7)]),_0x13c54c=await components_api_1[_0x30e017(0xac)][_0x30e017(0xbc)](_0xa315b1,_0x26ab57[_0x30e017(0xb9)](({ParentId:_0x181c95})=>_0x181c95))[_0x30e017(0xa6)](_0x47cee8=>components_api_1[_0x30e017(0xac)][_0x30e017(0xb2)](_0x47cee8)),_0x2f4e49=await retrieveTestClasses(_0xa315b1,_0x26ab57,_0x13c54c),_0x1605a2={'ParentId':_0x5decdf['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x30e017(0xd0)](_0x2f4e49['join']('\x0a'))['toString'](_0x30e017(0xcc))};await _0xa315b1[_0x30e017(0xc9)]('/services/data/'+constants_1[_0x30e017(0xb0)]+_0x30e017(0xbd),_0x1605a2);}exports['fetchTestClasses']=fetchTestClasses;function a85_0x37e7(_0x421872,_0x582081){const _0x590158=a85_0x31a5();return a85_0x37e7=function(_0x35f989,_0x58cd59){_0x35f989=_0x35f989-0xa5;let _0x31a5cd=_0x590158[_0x35f989];return _0x31a5cd;},a85_0x37e7(_0x421872,_0x582081);}async function retrieveTestClasses(_0x522b25,_0x5ea9eb,_0x34aeb4){const _0x417af0=a85_0x2df594,_0x1a6db6=[],_0x4b9dcc=await(0x0,fetch_attachments_1[_0x417af0(0xc4)])(_0x5ea9eb,_0x522b25),_0xb1de85=_0x4b9dcc[_0x417af0(0xb9)](_0xe05263=>_0xe05263['id']);return await getTestClassesNames(_0x522b25,_0xb1de85,_0x34aeb4,_0x5ea9eb)[_0x417af0(0xa6)](_0x4e8529=>{const _0x1a21b3=_0x417af0;_0x1a6db6[_0x1a21b3(0xae)](..._0x4e8529);}),_0x1a6db6;}async function getTestClassesNames(_0x4d67e1,_0x127dff,_0x13d81d,_0x40127a){const _0x1c65bf=a85_0x2df594,_0x2edc1f=await(0x0,fetch_attachments_1[_0x1c65bf(0xc8)])(_0x4d67e1,BINARY_FIELDS,_0x127dff),_0x2580de=[],_0x43d89a=_0x40127a[_0x1c65bf(0xc5)]((_0xaee26d,_0xd7e271)=>{const _0x2c064f=_0x1c65bf;var _0x30abfb;const _0x39f42b=(_0x30abfb=_0x13d81d[_0x2c064f(0xb5)](_0x5740d6=>_0x5740d6['Id']===_0xd7e271[_0x2c064f(0xd2)]))===null||_0x30abfb===void 0x0?void 0x0:_0x30abfb[_0x2c064f(0xd9)][_0x2c064f(0xc1)];if(!_0x39f42b)throw new Error(_0x2c064f(0xd6));return{..._0xaee26d,[_0xd7e271['Id']]:_0x39f42b};},{});for(const _0x579f6b of _0x2edc1f){const _0x380813=await zip_1[_0x1c65bf(0xc2)]['unzip'](_0x579f6b[_0x1c65bf(0xcd)]['Body']);for(const _0xa439bd of Object[_0x1c65bf(0xcf)](_0x380813['files'])){if(!_0x380813['files'][_0xa439bd][_0x1c65bf(0xa9)]){const _0x11c76c=await _0x380813[_0x1c65bf(0xca)][_0xa439bd][_0x1c65bf(0xd3)](_0x1c65bf(0xc0)),_0xe2a507=new RegExp(_0x1c65bf(0xc3),'i');if(_0xe2a507[_0x1c65bf(0xb4)](_0x11c76c)){const _0x395cba=_0x43d89a[_0x579f6b['id']];if(!_0x395cba)throw new Error(_0x1c65bf(0xd6));_0x2580de[_0x1c65bf(0xae)](_0x395cba);}}}}return _0x2580de;}