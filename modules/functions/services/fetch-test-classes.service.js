const a101_0x4ddcd4=a101_0x1575;(function(_0xcb37a1,_0x51ef6d){const _0x3cc0db=a101_0x1575,_0x1b7e97=_0xcb37a1();while(!![]){try{const _0x3cd641=parseInt(_0x3cc0db(0x1b3))/0x1+-parseInt(_0x3cc0db(0x1a7))/0x2+-parseInt(_0x3cc0db(0x1c0))/0x3*(-parseInt(_0x3cc0db(0x1ac))/0x4)+parseInt(_0x3cc0db(0x1c7))/0x5+parseInt(_0x3cc0db(0x1ba))/0x6+parseInt(_0x3cc0db(0x1b5))/0x7+-parseInt(_0x3cc0db(0x1c5))/0x8;if(_0x3cd641===_0x51ef6d)break;else _0x1b7e97['push'](_0x1b7e97['shift']());}catch(_0x423bed){_0x1b7e97['push'](_0x1b7e97['shift']());}}}(a101_0x23da,0x506d8));const a101_0x48717a=(function(){let _0x5a4dc8=!![];return function(_0x4e5036,_0x112928){const _0x35df23=_0x5a4dc8?function(){const _0x558079=a101_0x1575;if(_0x112928){const _0x52b2fe=_0x112928[_0x558079(0x1b2)](_0x4e5036,arguments);return _0x112928=null,_0x52b2fe;}}:function(){};return _0x5a4dc8=![],_0x35df23;};}()),a101_0x1f9f56=a101_0x48717a(this,function(){const _0xabbf72=a101_0x1575;return a101_0x1f9f56[_0xabbf72(0x1a5)]()['search']('(((.+)+)+)+$')[_0xabbf72(0x1a5)]()[_0xabbf72(0x1a9)](a101_0x1f9f56)['search'](_0xabbf72(0x1b1));});a101_0x1f9f56();function a101_0x1575(_0x1c0da6,_0x1bbe41){const _0x1c5dc5=a101_0x23da();return a101_0x1575=function(_0x1f9f56,_0x48717a){_0x1f9f56=_0x1f9f56-0x1a5;let _0x23da79=_0x1c5dc5[_0x1f9f56];return _0x23da79;},a101_0x1575(_0x1c0da6,_0x1bbe41);}'use strict';Object[a101_0x4ddcd4(0x1bc)](exports,a101_0x4ddcd4(0x1d1),{'value':!![]}),exports[a101_0x4ddcd4(0x1bd)]=void 0x0;const zip_1=require(a101_0x4ddcd4(0x1c4)),components_api_1=require(a101_0x4ddcd4(0x1c2)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a101_0x4ddcd4(0x1ad)],ATTACHMENT_NAME=a101_0x4ddcd4(0x1bf),ATTACHMENT_DESCRIPTION=a101_0x4ddcd4(0x1bf);async function fetchTestClasses(_0x1ade98,_0x24662d){const _0x28ab36=a101_0x4ddcd4,_0x588450=await(0x0,fetch_attachments_1[_0x28ab36(0x1cf)])(_0x24662d,_0x1ade98['attachmentsId']),_0x9d5d24=await components_api_1['ComponentsApi']['fetchComponentsDetailsByComponentsHistory'](_0x24662d,_0x588450[_0x28ab36(0x1bb)](({ParentId:_0x80301e})=>_0x80301e),_0x1ade98['apiVersion'])['then'](_0x143630=>components_api_1[_0x28ab36(0x1c9)][_0x28ab36(0x1ab)](_0x143630)),_0x5307d9=await retrieveTestClasses(_0x24662d,_0x588450,_0x9d5d24),_0x38c6f2={'ParentId':_0x1ade98[_0x28ab36(0x1cc)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x28ab36(0x1d0)](_0x5307d9[_0x28ab36(0x1af)]('\x0a'))['toString']('base64')};await _0x24662d[_0x28ab36(0x1b6)]('/services/data/v'+_0x1ade98[_0x28ab36(0x1cb)]+_0x28ab36(0x1b0),_0x38c6f2);}exports['fetchTestClasses']=fetchTestClasses;function a101_0x23da(){const _0x13fd67=['4343080UoPmQL','reduce','1124795kPLLXg','push','ComponentsApi','Component__r','apiVersion','metadataLogId','Zip','then','fetchAttachmentsDetailsById','from','__esModule','toString','Component_Name__c','1223614xkHiBp','string','constructor','keys','removeNamespacePrefix','819848eRRMQT','Body','values','join','/sobjects/Attachment','(((.+)+)+)+$','apply','248250qAyMoh','test','1659385RIxgEL','post','dir','No\x20component\x20by\x20attachment\x20id','retrieveAttachments','3413388TkVIVP','map','defineProperty','fetchTestClasses','files','TEST\x20CLASSES','3HgXhzY','ParentId','../utils/components-api','fetchAttachments','../../git/parsers/utils/zip'];a101_0x23da=function(){return _0x13fd67;};return a101_0x23da();}async function retrieveTestClasses(_0x2f8d46,_0x21040d,_0x1155e9){const _0x13303d=a101_0x4ddcd4,_0x3fb969=[],_0x595d8f=await(0x0,fetch_attachments_1[_0x13303d(0x1b9)])(_0x21040d,_0x2f8d46),_0x5b46df=_0x595d8f[_0x13303d(0x1bb)](_0x4ee0e3=>_0x4ee0e3['id']);return await getTestClassesNames(_0x2f8d46,_0x5b46df,_0x1155e9,_0x21040d)[_0x13303d(0x1ce)](_0xb121a0=>{const _0x5b9d8e=_0x13303d;_0x3fb969[_0x5b9d8e(0x1c8)](..._0xb121a0);}),_0x3fb969;}async function getTestClassesNames(_0x37af14,_0x15b390,_0x2c056b,_0x261395){const _0x41ca20=a101_0x4ddcd4,_0x1bb980=await(0x0,fetch_attachments_1[_0x41ca20(0x1c3)])(_0x37af14,BINARY_FIELDS,_0x15b390),_0x43eb3b=[],_0x4c3099=_0x261395[_0x41ca20(0x1c6)]((_0x40a360,_0x11bae4)=>{const _0x478f60=_0x41ca20;var _0x14e457;const _0x506886=(_0x14e457=_0x2c056b['find'](_0x1f9a5a=>_0x1f9a5a['Id']===_0x11bae4[_0x478f60(0x1c1)]))===null||_0x14e457===void 0x0?void 0x0:_0x14e457[_0x478f60(0x1ca)][_0x478f60(0x1a6)];if(!_0x506886)throw new Error(_0x478f60(0x1b8));return{..._0x40a360,[_0x11bae4['Id']]:_0x506886};},{});for(const _0x4ddc2e of _0x1bb980){const _0x44c90c=await zip_1[_0x41ca20(0x1cd)]['unzip'](_0x4ddc2e[_0x41ca20(0x1ae)][_0x41ca20(0x1ad)]);for(const _0x11ef63 of Object[_0x41ca20(0x1aa)](_0x44c90c['files'])){if(!_0x44c90c[_0x41ca20(0x1be)][_0x11ef63][_0x41ca20(0x1b7)]){const _0x53b3cb=await _0x44c90c['files'][_0x11ef63]['async'](_0x41ca20(0x1a8)),_0x301f2f=new RegExp('@istest','i');if(_0x301f2f[_0x41ca20(0x1b4)](_0x53b3cb)){const _0xf37abb=_0x4c3099[_0x4ddc2e['id']];if(!_0xf37abb)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x43eb3b['push'](_0xf37abb);}}}}return _0x43eb3b;}