const a85_0x56355e=a85_0x38fa;function a85_0x38fa(_0x441888,_0x131e9d){const _0x73b680=a85_0xe93f();return a85_0x38fa=function(_0x96fde9,_0x180887){_0x96fde9=_0x96fde9-0xca;let _0xe93fda=_0x73b680[_0x96fde9];return _0xe93fda;},a85_0x38fa(_0x441888,_0x131e9d);}(function(_0xb7ae06,_0x4f14af){const _0x63233f=a85_0x38fa,_0xe9b39f=_0xb7ae06();while(!![]){try{const _0x568d6a=parseInt(_0x63233f(0xf1))/0x1+parseInt(_0x63233f(0xce))/0x2*(parseInt(_0x63233f(0xec))/0x3)+-parseInt(_0x63233f(0xe3))/0x4+-parseInt(_0x63233f(0xde))/0x5*(-parseInt(_0x63233f(0xdf))/0x6)+-parseInt(_0x63233f(0xd6))/0x7+-parseInt(_0x63233f(0xf5))/0x8*(-parseInt(_0x63233f(0xea))/0x9)+parseInt(_0x63233f(0xf3))/0xa*(-parseInt(_0x63233f(0xe8))/0xb);if(_0x568d6a===_0x4f14af)break;else _0xe9b39f['push'](_0xe9b39f['shift']());}catch(_0x59be45){_0xe9b39f['push'](_0xe9b39f['shift']());}}}(a85_0xe93f,0x4fd71));const a85_0x180887=(function(){let _0x264c68=!![];return function(_0x5a3bdd,_0x3d3d6c){const _0x39b681=_0x264c68?function(){const _0x147718=a85_0x38fa;if(_0x3d3d6c){const _0x52e71d=_0x3d3d6c[_0x147718(0xed)](_0x5a3bdd,arguments);return _0x3d3d6c=null,_0x52e71d;}}:function(){};return _0x264c68=![],_0x39b681;};}()),a85_0x96fde9=a85_0x180887(this,function(){const _0x54107b=a85_0x38fa;return a85_0x96fde9['toString']()[_0x54107b(0xe5)](_0x54107b(0xd4))[_0x54107b(0xcb)]()[_0x54107b(0xcd)](a85_0x96fde9)[_0x54107b(0xe5)]('(((.+)+)+)+$');});a85_0x96fde9();function a85_0xe93f(){const _0x281785=['375017DgRWAu','@istest','46300rdUimy','ComponentsApi','2203480ynLoHX','reduce','attachmentsId','ParentId','/services/data/v','Zip','toString','dir','constructor','20gWdgxz','fetchAttachmentsDetailsById','apiVersion','../utils/components-api','fetchAttachments','files','(((.+)+)+)+$','Component__r','2858422KACTlG','fetchTestClasses','__esModule','from','find','unzip','TEST\x20CLASSES','then','565zyBPZH','22314esvSNl','Body','No\x20component\x20by\x20attachment\x20id','push','1465152EZZXFV','join','search','values','../../shared/utils/fetch-attachments','165gqAFrf','base64','9nqpshU','map','30123ETXKiF','apply','test','removeNamespacePrefix','Component_Name__c'];a85_0xe93f=function(){return _0x281785;};return a85_0xe93f();}'use strict';Object['defineProperty'](exports,a85_0x56355e(0xd8),{'value':!![]}),exports[a85_0x56355e(0xd7)]=void 0x0;const zip_1=require('../../git/parsers/utils/zip'),components_api_1=require(a85_0x56355e(0xd1)),fetch_attachments_1=require(a85_0x56355e(0xe7)),BINARY_FIELDS=[a85_0x56355e(0xe0)],ATTACHMENT_NAME=a85_0x56355e(0xdc),ATTACHMENT_DESCRIPTION=a85_0x56355e(0xdc);async function fetchTestClasses(_0x414b91,_0x169e3c){const _0x59c7b6=a85_0x56355e,_0x428dee=await(0x0,fetch_attachments_1[_0x59c7b6(0xcf)])(_0x169e3c,_0x414b91[_0x59c7b6(0xf7)]),_0x3a68e0=await components_api_1[_0x59c7b6(0xf4)]['fetchComponentsDetailsByComponentsHistory'](_0x169e3c,_0x428dee[_0x59c7b6(0xeb)](({ParentId:_0x426692})=>_0x426692),_0x414b91[_0x59c7b6(0xd0)])[_0x59c7b6(0xdd)](_0x28bf2f=>components_api_1['ComponentsApi'][_0x59c7b6(0xef)](_0x28bf2f)),_0x5a466b=await retrieveTestClasses(_0x169e3c,_0x428dee,_0x3a68e0),_0x11c2ed={'ParentId':_0x414b91['metadataLogId'],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x59c7b6(0xd9)](_0x5a466b[_0x59c7b6(0xe4)]('\x0a'))[_0x59c7b6(0xcb)](_0x59c7b6(0xe9))};await _0x169e3c['post'](_0x59c7b6(0xf9)+_0x414b91['apiVersion']+'/sobjects/Attachment',_0x11c2ed);}exports[a85_0x56355e(0xd7)]=fetchTestClasses;async function retrieveTestClasses(_0x183f2e,_0x1c87ce,_0x34b8ed){const _0x348f45=a85_0x56355e,_0xdcc7d=[],_0x340932=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x1c87ce,_0x183f2e),_0x5ddafa=_0x340932[_0x348f45(0xeb)](_0x307561=>_0x307561['id']);return await getTestClassesNames(_0x183f2e,_0x5ddafa,_0x34b8ed,_0x1c87ce)['then'](_0x37f544=>{const _0x3cde6f=_0x348f45;_0xdcc7d[_0x3cde6f(0xe2)](..._0x37f544);}),_0xdcc7d;}async function getTestClassesNames(_0x19c533,_0x286ad0,_0x5b9837,_0x4e0c36){const _0x559d70=a85_0x56355e,_0x1a6562=await(0x0,fetch_attachments_1[_0x559d70(0xd2)])(_0x19c533,BINARY_FIELDS,_0x286ad0),_0xc2f206=[],_0x51e427=_0x4e0c36[_0x559d70(0xf6)]((_0x52f713,_0x6cec0d)=>{const _0x2523b0=_0x559d70;var _0x34e8b5;const _0x232158=(_0x34e8b5=_0x5b9837[_0x2523b0(0xda)](_0x3b0b59=>_0x3b0b59['Id']===_0x6cec0d[_0x2523b0(0xf8)]))===null||_0x34e8b5===void 0x0?void 0x0:_0x34e8b5[_0x2523b0(0xd5)][_0x2523b0(0xf0)];if(!_0x232158)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0x52f713,[_0x6cec0d['Id']]:_0x232158};},{});for(const _0x28edf9 of _0x1a6562){const _0x56600f=await zip_1[_0x559d70(0xca)][_0x559d70(0xdb)](_0x28edf9[_0x559d70(0xe6)][_0x559d70(0xe0)]);for(const _0x3e7748 of Object['keys'](_0x56600f[_0x559d70(0xd3)])){if(!_0x56600f['files'][_0x3e7748][_0x559d70(0xcc)]){const _0x5f30fe=await _0x56600f[_0x559d70(0xd3)][_0x3e7748]['async']('string'),_0x352646=new RegExp(_0x559d70(0xf2),'i');if(_0x352646[_0x559d70(0xee)](_0x5f30fe)){const _0x4cab98=_0x51e427[_0x28edf9['id']];if(!_0x4cab98)throw new Error(_0x559d70(0xe1));_0xc2f206[_0x559d70(0xe2)](_0x4cab98);}}}}return _0xc2f206;}