const a53_0x5d7749=a53_0x560f;(function(_0x73df7f,_0x31f117){const _0x2d3e09=a53_0x560f,_0x291827=_0x73df7f();while(!![]){try{const _0x3b51c6=-parseInt(_0x2d3e09(0x163))/0x1*(-parseInt(_0x2d3e09(0x17b))/0x2)+-parseInt(_0x2d3e09(0x18b))/0x3*(parseInt(_0x2d3e09(0x164))/0x4)+parseInt(_0x2d3e09(0x18e))/0x5+parseInt(_0x2d3e09(0x190))/0x6+parseInt(_0x2d3e09(0x16c))/0x7+-parseInt(_0x2d3e09(0x162))/0x8*(-parseInt(_0x2d3e09(0x183))/0x9)+parseInt(_0x2d3e09(0x18d))/0xa*(-parseInt(_0x2d3e09(0x175))/0xb);if(_0x3b51c6===_0x31f117)break;else _0x291827['push'](_0x291827['shift']());}catch(_0x4a1a2f){_0x291827['push'](_0x291827['shift']());}}}(a53_0x54aa,0x4070c));const a53_0x4c274b=(function(){let _0x30a49d=!![];return function(_0x3ede4f,_0x2b225e){const _0x18b165=_0x30a49d?function(){const _0x5c3f76=a53_0x560f;if(_0x2b225e){const _0x1bfd4a=_0x2b225e[_0x5c3f76(0x17f)](_0x3ede4f,arguments);return _0x2b225e=null,_0x1bfd4a;}}:function(){};return _0x30a49d=![],_0x18b165;};}()),a53_0x18dd3f=a53_0x4c274b(this,function(){const _0xa7386c=a53_0x560f;return a53_0x18dd3f['toString']()[_0xa7386c(0x161)](_0xa7386c(0x187))[_0xa7386c(0x18a)]()[_0xa7386c(0x173)](a53_0x18dd3f)[_0xa7386c(0x161)](_0xa7386c(0x187));});a53_0x18dd3f();'use strict';Object['defineProperty'](exports,a53_0x5d7749(0x181),{'value':!![]}),exports['fetchTestClasses']=void 0x0;function a53_0x560f(_0x2faf90,_0x3be14d){const _0x38fbf2=a53_0x54aa();return a53_0x560f=function(_0x18dd3f,_0x4c274b){_0x18dd3f=_0x18dd3f-0x160;let _0x54aa34=_0x38fbf2[_0x18dd3f];return _0x54aa34;},a53_0x560f(_0x2faf90,_0x3be14d);}const constants_1=require(a53_0x5d7749(0x16f)),zip_1=require('../../git/parsers/utils/zip'),components_api_1=require('../utils/components-api'),BINARY_FIELDS=[a53_0x5d7749(0x188)],ATTACHMENT_NAME=a53_0x5d7749(0x16e),ATTACHMENT_DESCRIPTION=a53_0x5d7749(0x16e);async function fetchTestClasses(_0x44fd5b,_0xc70ab6){const _0x25581c=a53_0x5d7749,_0x11960d=await components_api_1[_0x25581c(0x17d)][_0x25581c(0x170)](_0xc70ab6,_0x44fd5b[_0x25581c(0x18f)]),_0x1b47eb=await components_api_1['ComponentsApi'][_0x25581c(0x16b)](_0xc70ab6,_0x11960d[_0x25581c(0x160)](({ParentId:_0x3356b5})=>_0x3356b5))[_0x25581c(0x180)](_0x2ba0a3=>components_api_1['ComponentsApi'][_0x25581c(0x174)](_0x2ba0a3)),_0x494982=await retrieveTestClasses(_0xc70ab6,_0x11960d,_0x1b47eb),_0x4719a0={'ParentId':_0x44fd5b[_0x25581c(0x165)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x25581c(0x184)](_0x494982[_0x25581c(0x16d)]('\x0a'))[_0x25581c(0x18a)]('base64')};await _0xc70ab6['post'](_0x25581c(0x166)+constants_1[_0x25581c(0x178)]+'/sobjects/Attachment',_0x4719a0);}exports[a53_0x5d7749(0x169)]=fetchTestClasses;async function retrieveTestClasses(_0x5aa1d0,_0x52079f,_0x4a4de7){const _0x4ed46c=a53_0x5d7749,_0x3d7a43=[],_0x3e4a7a=await components_api_1[_0x4ed46c(0x17d)][_0x4ed46c(0x185)](_0x52079f,_0x5aa1d0),_0x6787e5=_0x3e4a7a[_0x4ed46c(0x160)](_0x3fc3aa=>_0x3fc3aa['id']);return await getTestClassesNames(_0x5aa1d0,_0x6787e5,_0x4a4de7,_0x52079f)['then'](_0x2557b0=>{_0x3d7a43['push'](..._0x2557b0);}),_0x3d7a43;}function a53_0x54aa(){const _0xa09575=['ComponentsApi','fetchAttachments','apply','then','__esModule','keys','11277tJyQFt','from','retrieveAttachments','Component_Name__c','(((.+)+)+)+$','Body','files','toString','51777ehFHjd','string','80hMkxEA','2542370wUvLXC','attachmentsId','38532jmfvSp','map','search','576KfRJgF','1IczOdL','108kblpuz','metadataLogId','/services/data/','find','ParentId','fetchTestClasses','values','fetchComponentsDetailsByComponentsHistory','2925237NCUwIY','join','TEST\x20CLASSES','../../../constants','fetchAttachmentsDetails','unzip','dir','constructor','removeNamespacePrefix','1089770PgHWkp','No\x20component\x20by\x20attachment\x20id','async','SALESFORCE_API_VERSION','reduce','Zip','998996lMovZK','test'];a53_0x54aa=function(){return _0xa09575;};return a53_0x54aa();}async function getTestClassesNames(_0x1df349,_0x3d12aa,_0x21b776,_0x1a9952){const _0x3f6044=a53_0x5d7749,_0x372745=await components_api_1[_0x3f6044(0x17d)][_0x3f6044(0x17e)](_0x1df349,BINARY_FIELDS,_0x3d12aa),_0x3f6c92=[],_0x5e9ce0=_0x1a9952[_0x3f6044(0x179)]((_0x44914e,_0x4af7d3)=>{const _0x2829c6=_0x3f6044;var _0x5ca2f7;const _0x147cb4=(_0x5ca2f7=_0x21b776[_0x2829c6(0x167)](_0x4ab018=>_0x4ab018['Id']===_0x4af7d3[_0x2829c6(0x168)]))===null||_0x5ca2f7===void 0x0?void 0x0:_0x5ca2f7['Component__r'][_0x2829c6(0x186)];if(!_0x147cb4)throw new Error(_0x2829c6(0x176));return{..._0x44914e,[_0x4af7d3['Id']]:_0x147cb4};},{});for(const _0x4508fa of _0x372745){const _0x4e123f=await zip_1[_0x3f6044(0x17a)][_0x3f6044(0x171)](_0x4508fa[_0x3f6044(0x16a)][_0x3f6044(0x188)]);for(const _0x28688d of Object[_0x3f6044(0x182)](_0x4e123f['files'])){if(!_0x4e123f[_0x3f6044(0x189)][_0x28688d][_0x3f6044(0x172)]){const _0x3bdfc2=await _0x4e123f['files'][_0x28688d][_0x3f6044(0x177)](_0x3f6044(0x18c)),_0x5cae0a=new RegExp('@istest','i');if(_0x5cae0a[_0x3f6044(0x17c)](_0x3bdfc2)){const _0x350d16=_0x5e9ce0[_0x4508fa['id']];if(!_0x350d16)throw new Error(_0x3f6044(0x176));_0x3f6c92['push'](_0x350d16);}}}}return _0x3f6c92;}