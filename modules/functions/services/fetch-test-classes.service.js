const a85_0x9cb050=a85_0x2b08;function a85_0x1241(){const _0x551769=['push','50bDtIZh','../../shared/utils/fetch-attachments','Body','metadataLogId','find','attachmentsId','constructor','fetchAttachments','4847359DWnOVJ','../utils/components-api','files','1162Qwvdyt','fetchTestClasses','values','889677WmEKlo','toString','../../git/parsers/utils/zip','from','string','dir','1644lCfBWz','post','map','457534wujzJS','reduce','40brpdbc','../../../constants','test','/sobjects/Attachment','251460jaGWpq','SALESFORCE_API_VERSION','then','ParentId','TEST\x20CLASSES','search','fetchComponentsDetailsByComponentsHistory','defineProperty','/services/data/','async','No\x20component\x20by\x20attachment\x20id','ComponentsApi','@istest','1640MBgbzY','Zip','330088oGwIiQ','19488ZeRMsr'];a85_0x1241=function(){return _0x551769;};return a85_0x1241();}(function(_0x4074e4,_0x5cadf8){const _0x181b53=a85_0x2b08,_0x3ef5a6=_0x4074e4();while(!![]){try{const _0x2d065c=parseInt(_0x181b53(0x166))/0x1+parseInt(_0x181b53(0x151))/0x2+-parseInt(_0x181b53(0x14e))/0x3*(parseInt(_0x181b53(0x164))/0x4)+parseInt(_0x181b53(0x13a))/0x5*(-parseInt(_0x181b53(0x157))/0x6)+parseInt(_0x181b53(0x145))/0x7*(-parseInt(_0x181b53(0x167))/0x8)+-parseInt(_0x181b53(0x148))/0x9*(-parseInt(_0x181b53(0x153))/0xa)+parseInt(_0x181b53(0x142))/0xb;if(_0x2d065c===_0x5cadf8)break;else _0x3ef5a6['push'](_0x3ef5a6['shift']());}catch(_0x48b557){_0x3ef5a6['push'](_0x3ef5a6['shift']());}}}(a85_0x1241,0x54a9c));const a85_0x18eb64=(function(){let _0x45b377=!![];return function(_0x202011,_0x4c6e7f){const _0x9644f1=_0x45b377?function(){if(_0x4c6e7f){const _0x1d5369=_0x4c6e7f['apply'](_0x202011,arguments);return _0x4c6e7f=null,_0x1d5369;}}:function(){};return _0x45b377=![],_0x9644f1;};}()),a85_0x4c4a1f=a85_0x18eb64(this,function(){const _0x2f5278=a85_0x2b08;return a85_0x4c4a1f['toString']()[_0x2f5278(0x15c)]('(((.+)+)+)+$')[_0x2f5278(0x149)]()[_0x2f5278(0x140)](a85_0x4c4a1f)[_0x2f5278(0x15c)]('(((.+)+)+)+$');});a85_0x4c4a1f();'use strict';Object[a85_0x9cb050(0x15e)](exports,'__esModule',{'value':!![]}),exports[a85_0x9cb050(0x146)]=void 0x0;const constants_1=require(a85_0x9cb050(0x154)),zip_1=require(a85_0x9cb050(0x14a)),components_api_1=require(a85_0x9cb050(0x143)),fetch_attachments_1=require(a85_0x9cb050(0x13b)),BINARY_FIELDS=['Body'],ATTACHMENT_NAME=a85_0x9cb050(0x15b),ATTACHMENT_DESCRIPTION=a85_0x9cb050(0x15b);function a85_0x2b08(_0x187716,_0x4c9884){const _0x3c02be=a85_0x1241();return a85_0x2b08=function(_0x4c4a1f,_0x18eb64){_0x4c4a1f=_0x4c4a1f-0x13a;let _0x1241ff=_0x3c02be[_0x4c4a1f];return _0x1241ff;},a85_0x2b08(_0x187716,_0x4c9884);}async function fetchTestClasses(_0x2f139b,_0x5cd172){const _0xf54af3=a85_0x9cb050,_0x3e7ea5=await(0x0,fetch_attachments_1['fetchAttachmentsDetailsById'])(_0x5cd172,_0x2f139b[_0xf54af3(0x13f)]),_0x79cdbb=await components_api_1[_0xf54af3(0x162)][_0xf54af3(0x15d)](_0x5cd172,_0x3e7ea5[_0xf54af3(0x150)](({ParentId:_0x10a7a3})=>_0x10a7a3))[_0xf54af3(0x159)](_0x714e9b=>components_api_1[_0xf54af3(0x162)]['removeNamespacePrefix'](_0x714e9b)),_0xf037ce=await retrieveTestClasses(_0x5cd172,_0x3e7ea5,_0x79cdbb),_0x446577={'ParentId':_0x2f139b[_0xf54af3(0x13d)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0xf54af3(0x14b)](_0xf037ce['join']('\x0a'))['toString']('base64')};await _0x5cd172[_0xf54af3(0x14f)](_0xf54af3(0x15f)+constants_1[_0xf54af3(0x158)]+_0xf54af3(0x156),_0x446577);}exports['fetchTestClasses']=fetchTestClasses;async function retrieveTestClasses(_0x3629f7,_0x46fa62,_0x47ffe6){const _0xa8f1fe=[],_0x3ef3c8=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x46fa62,_0x3629f7),_0x1a0aed=_0x3ef3c8['map'](_0x2b9536=>_0x2b9536['id']);return await getTestClassesNames(_0x3629f7,_0x1a0aed,_0x47ffe6,_0x46fa62)['then'](_0x585001=>{const _0x4d3972=a85_0x2b08;_0xa8f1fe[_0x4d3972(0x168)](..._0x585001);}),_0xa8f1fe;}async function getTestClassesNames(_0xaa1e0b,_0x5cc752,_0x1c2d43,_0x2f1df1){const _0x290d6d=a85_0x9cb050,_0x2b570b=await(0x0,fetch_attachments_1[_0x290d6d(0x141)])(_0xaa1e0b,BINARY_FIELDS,_0x5cc752),_0x4f2ad7=[],_0x4f15a4=_0x2f1df1[_0x290d6d(0x152)]((_0x3343a3,_0xdb6068)=>{const _0xb3df97=_0x290d6d;var _0x1639af;const _0x5c202f=(_0x1639af=_0x1c2d43[_0xb3df97(0x13e)](_0x2603f0=>_0x2603f0['Id']===_0xdb6068[_0xb3df97(0x15a)]))===null||_0x1639af===void 0x0?void 0x0:_0x1639af['Component__r']['Component_Name__c'];if(!_0x5c202f)throw new Error(_0xb3df97(0x161));return{..._0x3343a3,[_0xdb6068['Id']]:_0x5c202f};},{});for(const _0x15a851 of _0x2b570b){const _0x33012d=await zip_1[_0x290d6d(0x165)]['unzip'](_0x15a851[_0x290d6d(0x147)][_0x290d6d(0x13c)]);for(const _0x38cea8 of Object['keys'](_0x33012d[_0x290d6d(0x144)])){if(!_0x33012d['files'][_0x38cea8][_0x290d6d(0x14d)]){const _0xcb7627=await _0x33012d[_0x290d6d(0x144)][_0x38cea8][_0x290d6d(0x160)](_0x290d6d(0x14c)),_0x3b811b=new RegExp(_0x290d6d(0x163),'i');if(_0x3b811b[_0x290d6d(0x155)](_0xcb7627)){const _0x222c3e=_0x4f15a4[_0x15a851['id']];if(!_0x222c3e)throw new Error(_0x290d6d(0x161));_0x4f2ad7[_0x290d6d(0x168)](_0x222c3e);}}}}return _0x4f2ad7;}