const a86_0x505996=a86_0x36d6;(function(_0x267014,_0x55ebbd){const _0x1b29e7=a86_0x36d6,_0x322761=_0x267014();while(!![]){try{const _0x3357c0=-parseInt(_0x1b29e7(0xcf))/0x1+-parseInt(_0x1b29e7(0xb4))/0x2+-parseInt(_0x1b29e7(0xcc))/0x3*(-parseInt(_0x1b29e7(0xac))/0x4)+-parseInt(_0x1b29e7(0xb2))/0x5+-parseInt(_0x1b29e7(0xbd))/0x6*(parseInt(_0x1b29e7(0xca))/0x7)+parseInt(_0x1b29e7(0xba))/0x8+parseInt(_0x1b29e7(0xc6))/0x9;if(_0x3357c0===_0x55ebbd)break;else _0x322761['push'](_0x322761['shift']());}catch(_0x5aea00){_0x322761['push'](_0x322761['shift']());}}}(a86_0x8b65,0x7e2e7));const a86_0x4568cf=(function(){let _0x4c2f83=!![];return function(_0x371eee,_0x2a32a4){const _0x3d2b1c=_0x4c2f83?function(){const _0x1fc75e=a86_0x36d6;if(_0x2a32a4){const _0x138784=_0x2a32a4[_0x1fc75e(0xc7)](_0x371eee,arguments);return _0x2a32a4=null,_0x138784;}}:function(){};return _0x4c2f83=![],_0x3d2b1c;};}()),a86_0x16946a=a86_0x4568cf(this,function(){const _0x534370=a86_0x36d6;return a86_0x16946a['toString']()[_0x534370(0xb8)](_0x534370(0xaa))['toString']()[_0x534370(0xd6)](a86_0x16946a)[_0x534370(0xb8)](_0x534370(0xaa));});a86_0x16946a();'use strict';Object['defineProperty'](exports,a86_0x505996(0xae),{'value':!![]}),exports['fetchTestClasses']=void 0x0;const zip_1=require(a86_0x505996(0xad)),components_api_1=require(a86_0x505996(0xb9)),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a86_0x505996(0xb3)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a86_0x505996(0xce);async function fetchTestClasses(_0x2fb7eb,_0x503e02){const _0x17e681=a86_0x505996,_0x49a7c9=await(0x0,fetch_attachments_1[_0x17e681(0xc1)])(_0x503e02,_0x2fb7eb['attachmentsId']),_0x407184=await components_api_1[_0x17e681(0xc8)][_0x17e681(0xb0)](_0x503e02,_0x49a7c9[_0x17e681(0xc4)](({ParentId:_0x591c61})=>_0x591c61),_0x2fb7eb[_0x17e681(0xc5)])[_0x17e681(0xb7)](_0x5c5a24=>components_api_1['ComponentsApi'][_0x17e681(0xbb)](_0x5c5a24)),_0x528721=await retrieveTestClasses(_0x503e02,_0x49a7c9,_0x407184),_0x1e6049={'ParentId':_0x2fb7eb[_0x17e681(0xbc)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x17e681(0xb5)](_0x528721['join']('\x0a'))['toString']('base64')};await _0x503e02[_0x17e681(0xc0)](_0x17e681(0xc2)+_0x2fb7eb['apiVersion']+_0x17e681(0xd2),_0x1e6049);}function a86_0x36d6(_0x31fd80,_0x13dc31){const _0x39aada=a86_0x8b65();return a86_0x36d6=function(_0x16946a,_0x4568cf){_0x16946a=_0x16946a-0xa9;let _0x8b65c0=_0x39aada[_0x16946a];return _0x8b65c0;},a86_0x36d6(_0x31fd80,_0x13dc31);}exports['fetchTestClasses']=fetchTestClasses;function a86_0x8b65(){const _0x6d0b4b=['search','../utils/components-api','2145424TzeDDK','removeNamespacePrefix','metadataLogId','124968HmTrBt','Component_Name__c','@istest','post','fetchAttachmentsDetailsById','/services/data/v','find','map','apiVersion','6925797CcMKzI','apply','ComponentsApi','async','63DYcaTQ','files','2667774JCssHI','reduce','TEST\x20CLASSES','321033menbBy','No\x20component\x20by\x20attachment\x20id','ParentId','/sobjects/Attachment','retrieveAttachments','fetchAttachments','Component__r','constructor','string','(((.+)+)+)+$','dir','4fKQLtV','../../git/parsers/utils/zip','__esModule','keys','fetchComponentsDetailsByComponentsHistory','unzip','1797080DClIpt','Body','1084458vKSwMM','from','push','then'];a86_0x8b65=function(){return _0x6d0b4b;};return a86_0x8b65();}async function retrieveTestClasses(_0x181319,_0xfe19d3,_0x2ddbca){const _0x4868a7=a86_0x505996,_0x247702=[],_0x391e7f=await(0x0,fetch_attachments_1[_0x4868a7(0xd3)])(_0xfe19d3,_0x181319),_0x21b00f=_0x391e7f[_0x4868a7(0xc4)](_0x6f72de=>_0x6f72de['id']);return await getTestClassesNames(_0x181319,_0x21b00f,_0x2ddbca,_0xfe19d3)['then'](_0x2ac4b4=>{const _0x483345=_0x4868a7;_0x247702[_0x483345(0xb6)](..._0x2ac4b4);}),_0x247702;}async function getTestClassesNames(_0x3d222b,_0x322a77,_0x14270e,_0x284ffc){const _0x1365c7=a86_0x505996,_0xb32182=await(0x0,fetch_attachments_1[_0x1365c7(0xd4)])(_0x3d222b,BINARY_FIELDS,_0x322a77),_0x7b9457=[],_0x2af663=_0x284ffc[_0x1365c7(0xcd)]((_0x2217ef,_0x1b3a06)=>{const _0x25d8f1=_0x1365c7;var _0x34fa04;const _0x4e9ee2=(_0x34fa04=_0x14270e[_0x25d8f1(0xc3)](_0x4f6416=>_0x4f6416['Id']===_0x1b3a06[_0x25d8f1(0xd1)]))===null||_0x34fa04===void 0x0?void 0x0:_0x34fa04[_0x25d8f1(0xd5)][_0x25d8f1(0xbe)];if(!_0x4e9ee2)throw new Error(_0x25d8f1(0xd0));return{..._0x2217ef,[_0x1b3a06['Id']]:_0x4e9ee2};},{});for(const _0x10cf91 of _0xb32182){const _0x3fc89a=await zip_1['Zip'][_0x1365c7(0xb1)](_0x10cf91['values']['Body']);for(const _0x29cbff of Object[_0x1365c7(0xaf)](_0x3fc89a[_0x1365c7(0xcb)])){if(!_0x3fc89a[_0x1365c7(0xcb)][_0x29cbff][_0x1365c7(0xab)]){const _0x11f4b1=await _0x3fc89a['files'][_0x29cbff][_0x1365c7(0xc9)](_0x1365c7(0xa9)),_0x3a7e28=new RegExp(_0x1365c7(0xbf),'i');if(_0x3a7e28['test'](_0x11f4b1)){const _0x42ebb0=_0x2af663[_0x10cf91['id']];if(!_0x42ebb0)throw new Error(_0x1365c7(0xd0));_0x7b9457[_0x1365c7(0xb6)](_0x42ebb0);}}}}return _0x7b9457;}