const a53_0x56b415=a53_0x59d1;(function(_0x5b2b90,_0x154159){const _0x4400d8=a53_0x59d1,_0x1a567c=_0x5b2b90();while(!![]){try{const _0x2336a6=parseInt(_0x4400d8(0x14e))/0x1*(-parseInt(_0x4400d8(0x154))/0x2)+-parseInt(_0x4400d8(0x171))/0x3+-parseInt(_0x4400d8(0x172))/0x4+-parseInt(_0x4400d8(0x164))/0x5*(-parseInt(_0x4400d8(0x14a))/0x6)+-parseInt(_0x4400d8(0x15a))/0x7*(-parseInt(_0x4400d8(0x162))/0x8)+-parseInt(_0x4400d8(0x16e))/0x9*(-parseInt(_0x4400d8(0x168))/0xa)+parseInt(_0x4400d8(0x156))/0xb*(parseInt(_0x4400d8(0x15d))/0xc);if(_0x2336a6===_0x154159)break;else _0x1a567c['push'](_0x1a567c['shift']());}catch(_0x589941){_0x1a567c['push'](_0x1a567c['shift']());}}}(a53_0x3098,0xd5f96));function a53_0x3098(){const _0x466dbf=['fetchAttachmentsDetailsById','retrieveAttachments','297477poFrWj','Body','then','2206680StHLMP','4416104pfxWjK','toString','fetchAttachments','fetchTestClasses','from','TEST\x20CLASSES','find','files','keys','dir','6680886UZueSr','../../shared/utils/fetch-attachments','SALESFORCE_API_VERSION','Component_Name__c','64BYOTOe','async','push','unzip','defineProperty','Zip','44622KypAvS','metadataLogId','900251zOdfXc','base64','Component__r','fetchComponentsDetailsByComponentsHistory','277963jSzEOo','No\x20component\x20by\x20attachment\x20id','@istest','36nKBSsf','values','/sobjects/Attachment','../../../constants','__esModule','328rVEJAD','(((.+)+)+)+$','5xkxKgf','ComponentsApi','search','map','350rZhJXl','reduce','ParentId','post'];a53_0x3098=function(){return _0x466dbf;};return a53_0x3098();}const a53_0x4a7fbb=(function(){let _0xac0548=!![];return function(_0x3c3247,_0x3c1238){const _0x462c0f=_0xac0548?function(){if(_0x3c1238){const _0x2bf664=_0x3c1238['apply'](_0x3c3247,arguments);return _0x3c1238=null,_0x2bf664;}}:function(){};return _0xac0548=![],_0x462c0f;};}()),a53_0x4e1b08=a53_0x4a7fbb(this,function(){const _0x193c10=a53_0x59d1;return a53_0x4e1b08['toString']()[_0x193c10(0x166)]('(((.+)+)+)+$')[_0x193c10(0x173)]()['constructor'](a53_0x4e1b08)['search'](_0x193c10(0x163));});a53_0x4e1b08();'use strict';Object[a53_0x56b415(0x152)](exports,a53_0x56b415(0x161),{'value':!![]}),exports[a53_0x56b415(0x175)]=void 0x0;const constants_1=require(a53_0x56b415(0x160)),zip_1=require('../../git/parsers/utils/zip'),components_api_1=require('../utils/components-api'),fetch_attachments_1=require(a53_0x56b415(0x14b)),BINARY_FIELDS=[a53_0x56b415(0x16f)],ATTACHMENT_NAME='TEST\x20CLASSES',ATTACHMENT_DESCRIPTION=a53_0x56b415(0x145);async function fetchTestClasses(_0x2474b8,_0x3e258e){const _0x3d48f7=a53_0x56b415,_0x4f21ce=await(0x0,fetch_attachments_1[_0x3d48f7(0x16c)])(_0x3e258e,_0x2474b8['attachmentsId']),_0x4f979c=await components_api_1[_0x3d48f7(0x165)][_0x3d48f7(0x159)](_0x3e258e,_0x4f21ce[_0x3d48f7(0x167)](({ParentId:_0x10491e})=>_0x10491e))['then'](_0x6d6942=>components_api_1[_0x3d48f7(0x165)]['removeNamespacePrefix'](_0x6d6942)),_0x3257a3=await retrieveTestClasses(_0x3e258e,_0x4f21ce,_0x4f979c),_0x3db582={'ParentId':_0x2474b8[_0x3d48f7(0x155)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer[_0x3d48f7(0x176)](_0x3257a3['join']('\x0a'))[_0x3d48f7(0x173)](_0x3d48f7(0x157))};await _0x3e258e[_0x3d48f7(0x16b)]('/services/data/'+constants_1[_0x3d48f7(0x14c)]+_0x3d48f7(0x15f),_0x3db582);}exports[a53_0x56b415(0x175)]=fetchTestClasses;async function retrieveTestClasses(_0xc6e895,_0xb833c8,_0x3e90a7){const _0x53e17d=a53_0x56b415,_0x1aa5a4=[],_0x4eac92=await(0x0,fetch_attachments_1[_0x53e17d(0x16d)])(_0xb833c8,_0xc6e895),_0x49ae7c=_0x4eac92[_0x53e17d(0x167)](_0x35f4c1=>_0x35f4c1['id']);return await getTestClassesNames(_0xc6e895,_0x49ae7c,_0x3e90a7,_0xb833c8)[_0x53e17d(0x170)](_0x34faaa=>{const _0x3f3283=_0x53e17d;_0x1aa5a4[_0x3f3283(0x150)](..._0x34faaa);}),_0x1aa5a4;}function a53_0x59d1(_0x2e5eb6,_0x28e057){const _0x1267f1=a53_0x3098();return a53_0x59d1=function(_0x4e1b08,_0x4a7fbb){_0x4e1b08=_0x4e1b08-0x145;let _0x3098fc=_0x1267f1[_0x4e1b08];return _0x3098fc;},a53_0x59d1(_0x2e5eb6,_0x28e057);}async function getTestClassesNames(_0x3de5e5,_0x55c48e,_0x417802,_0x44cf7a){const _0x1ed33b=a53_0x56b415,_0x14ce0c=await(0x0,fetch_attachments_1[_0x1ed33b(0x174)])(_0x3de5e5,BINARY_FIELDS,_0x55c48e),_0x595f64=[],_0x15af40=_0x44cf7a[_0x1ed33b(0x169)]((_0x3f0041,_0x2ffd45)=>{const _0x5b4bbd=_0x1ed33b;var _0x2fe762;const _0x2cdef4=(_0x2fe762=_0x417802[_0x5b4bbd(0x146)](_0x18a210=>_0x18a210['Id']===_0x2ffd45[_0x5b4bbd(0x16a)]))===null||_0x2fe762===void 0x0?void 0x0:_0x2fe762[_0x5b4bbd(0x158)][_0x5b4bbd(0x14d)];if(!_0x2cdef4)throw new Error(_0x5b4bbd(0x15b));return{..._0x3f0041,[_0x2ffd45['Id']]:_0x2cdef4};},{});for(const _0x9b8f03 of _0x14ce0c){const _0x1d369d=await zip_1[_0x1ed33b(0x153)][_0x1ed33b(0x151)](_0x9b8f03[_0x1ed33b(0x15e)][_0x1ed33b(0x16f)]);for(const _0xd6e4fc of Object[_0x1ed33b(0x148)](_0x1d369d[_0x1ed33b(0x147)])){if(!_0x1d369d[_0x1ed33b(0x147)][_0xd6e4fc][_0x1ed33b(0x149)]){const _0x24dbe4=await _0x1d369d[_0x1ed33b(0x147)][_0xd6e4fc][_0x1ed33b(0x14f)]('string'),_0x4f4a28=new RegExp(_0x1ed33b(0x15c),'i');if(_0x4f4a28['test'](_0x24dbe4)){const _0x2e499c=_0x15af40[_0x9b8f03['id']];if(!_0x2e499c)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x595f64[_0x1ed33b(0x150)](_0x2e499c);}}}}return _0x595f64;}