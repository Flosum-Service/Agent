const a103_0x4effd3=a103_0x268a;(function(_0x4bb112,_0x33a287){const _0x62d3c6=a103_0x268a,_0x1446a5=_0x4bb112();while(!![]){try{const _0x1547b7=parseInt(_0x62d3c6(0x171))/0x1+parseInt(_0x62d3c6(0x16a))/0x2+parseInt(_0x62d3c6(0x151))/0x3+-parseInt(_0x62d3c6(0x164))/0x4*(parseInt(_0x62d3c6(0x15e))/0x5)+parseInt(_0x62d3c6(0x172))/0x6+parseInt(_0x62d3c6(0x168))/0x7+-parseInt(_0x62d3c6(0x16f))/0x8;if(_0x1547b7===_0x33a287)break;else _0x1446a5['push'](_0x1446a5['shift']());}catch(_0x19f4b3){_0x1446a5['push'](_0x1446a5['shift']());}}}(a103_0x2757,0x2e1b1));const a103_0x426483=(function(){let _0x4cc46a=!![];return function(_0x1cef97,_0x200136){const _0x4b5bce=_0x4cc46a?function(){const _0x5de0e7=a103_0x268a;if(_0x200136){const _0x2b5137=_0x200136[_0x5de0e7(0x158)](_0x1cef97,arguments);return _0x200136=null,_0x2b5137;}}:function(){};return _0x4cc46a=![],_0x4b5bce;};}()),a103_0x255eb5=a103_0x426483(this,function(){const _0x1161d5=a103_0x268a;return a103_0x255eb5['toString']()[_0x1161d5(0x15c)](_0x1161d5(0x167))['toString']()[_0x1161d5(0x155)](a103_0x255eb5)[_0x1161d5(0x15c)](_0x1161d5(0x167));});a103_0x255eb5();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['fetchTestClasses']=void 0x0;function a103_0x268a(_0x3d0ba3,_0x4c5be3){const _0x572f7b=a103_0x2757();return a103_0x268a=function(_0x255eb5,_0x426483){_0x255eb5=_0x255eb5-0x14b;let _0x275773=_0x572f7b[_0x255eb5];return _0x275773;},a103_0x268a(_0x3d0ba3,_0x4c5be3);}const zip_1=require('../../git/parsers/utils/zip'),components_api_1=require('../utils/components-api'),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),BINARY_FIELDS=[a103_0x4effd3(0x15b)],ATTACHMENT_NAME=a103_0x4effd3(0x152),ATTACHMENT_DESCRIPTION=a103_0x4effd3(0x152);function a103_0x2757(){const _0x23e50e=['join','removeNamespacePrefix','metadataLogId','264321YucfbK','TEST\x20CLASSES','@istest','async','constructor','/sobjects/Attachment','map','apply','keys','fetchAttachments','Body','search','Component__r','2495XyLWjD','ParentId','apiVersion','push','then','fetchAttachmentsDetailsById','508OibNRE','attachmentsId','base64','(((.+)+)+)+$','2481647jMyDBp','post','668700YuXDRC','ComponentsApi','fetchComponentsDetailsByComponentsHistory','files','test','5642232uucGur','values','128772WPyhkK','310506OQcjfg','fetchTestClasses','/services/data/v','find'];a103_0x2757=function(){return _0x23e50e;};return a103_0x2757();}async function fetchTestClasses(_0x4624d4,_0xdf1897){const _0x745556=a103_0x4effd3,_0x2949a0=await(0x0,fetch_attachments_1[_0x745556(0x163)])(_0xdf1897,_0x4624d4[_0x745556(0x165)]),_0xc2dc45=await components_api_1[_0x745556(0x16b)][_0x745556(0x16c)](_0xdf1897,_0x2949a0[_0x745556(0x157)](({ParentId:_0x2450c6})=>_0x2450c6),_0x4624d4['apiVersion'])[_0x745556(0x162)](_0x1d71e1=>components_api_1['ComponentsApi'][_0x745556(0x14f)](_0x1d71e1)),_0x4ad6dc=await retrieveTestClasses(_0xdf1897,_0x2949a0,_0xc2dc45),_0x7bff36={'ParentId':_0x4624d4[_0x745556(0x150)],'Name':ATTACHMENT_NAME,'Description':ATTACHMENT_DESCRIPTION,'Body':Buffer['from'](_0x4ad6dc[_0x745556(0x14e)]('\x0a'))['toString'](_0x745556(0x166))};await _0xdf1897[_0x745556(0x169)](_0x745556(0x14c)+_0x4624d4[_0x745556(0x160)]+_0x745556(0x156),_0x7bff36);}exports[a103_0x4effd3(0x14b)]=fetchTestClasses;async function retrieveTestClasses(_0x13414f,_0x16fa37,_0x439b9a){const _0x458d73=a103_0x4effd3,_0x1792f4=[],_0x4fd454=await(0x0,fetch_attachments_1['retrieveAttachments'])(_0x16fa37,_0x13414f),_0x2094a5=_0x4fd454[_0x458d73(0x157)](_0x1a132f=>_0x1a132f['id']);return await getTestClassesNames(_0x13414f,_0x2094a5,_0x439b9a,_0x16fa37)[_0x458d73(0x162)](_0x2d8f78=>{_0x1792f4['push'](..._0x2d8f78);}),_0x1792f4;}async function getTestClassesNames(_0x1c4492,_0x3f9d3f,_0x42032f,_0x1ac613){const _0x27e43e=a103_0x4effd3,_0x2a2bd2=await(0x0,fetch_attachments_1[_0x27e43e(0x15a)])(_0x1c4492,BINARY_FIELDS,_0x3f9d3f),_0x356f4b=[],_0x77b7f3=_0x1ac613['reduce']((_0xf36eb8,_0x527e57)=>{const _0x597b3a=_0x27e43e;var _0x770623;const _0x563ab4=(_0x770623=_0x42032f[_0x597b3a(0x14d)](_0xb121ad=>_0xb121ad['Id']===_0x527e57[_0x597b3a(0x15f)]))===null||_0x770623===void 0x0?void 0x0:_0x770623[_0x597b3a(0x15d)]['Component_Name__c'];if(!_0x563ab4)throw new Error('No\x20component\x20by\x20attachment\x20id');return{..._0xf36eb8,[_0x527e57['Id']]:_0x563ab4};},{});for(const _0x368901 of _0x2a2bd2){const _0x16975=await zip_1['Zip']['unzip'](_0x368901[_0x27e43e(0x170)][_0x27e43e(0x15b)]);for(const _0x34c108 of Object[_0x27e43e(0x159)](_0x16975['files'])){if(!_0x16975[_0x27e43e(0x16d)][_0x34c108]['dir']){const _0x2d6fd7=await _0x16975['files'][_0x34c108][_0x27e43e(0x154)]('string'),_0x57c044=new RegExp(_0x27e43e(0x153),'i');if(_0x57c044[_0x27e43e(0x16e)](_0x2d6fd7)){const _0x1273e4=_0x77b7f3[_0x368901['id']];if(!_0x1273e4)throw new Error('No\x20component\x20by\x20attachment\x20id');_0x356f4b[_0x27e43e(0x161)](_0x1273e4);}}}}return _0x356f4b;}