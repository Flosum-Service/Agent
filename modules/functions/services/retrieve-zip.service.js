const a87_0x24de28=a87_0x1e8f;(function(_0x305413,_0x46ccef){const _0x7a19a2=a87_0x1e8f,_0x26202f=_0x305413();while(!![]){try{const _0x19c558=parseInt(_0x7a19a2(0xe1))/0x1+parseInt(_0x7a19a2(0xfe))/0x2*(-parseInt(_0x7a19a2(0xd1))/0x3)+-parseInt(_0x7a19a2(0xed))/0x4*(parseInt(_0x7a19a2(0xfa))/0x5)+parseInt(_0x7a19a2(0xe7))/0x6+parseInt(_0x7a19a2(0xd0))/0x7+-parseInt(_0x7a19a2(0x100))/0x8*(-parseInt(_0x7a19a2(0x102))/0x9)+-parseInt(_0x7a19a2(0xd5))/0xa;if(_0x19c558===_0x46ccef)break;else _0x26202f['push'](_0x26202f['shift']());}catch(_0x3632da){_0x26202f['push'](_0x26202f['shift']());}}}(a87_0x1984,0xa51fc));const a87_0x225a45=(function(){let _0x294973=!![];return function(_0x1de04b,_0xc6f362){const _0x3d867f=_0x294973?function(){if(_0xc6f362){const _0x1a2f9c=_0xc6f362['apply'](_0x1de04b,arguments);return _0xc6f362=null,_0x1a2f9c;}}:function(){};return _0x294973=![],_0x3d867f;};}()),a87_0x2be6f2=a87_0x225a45(this,function(){const _0x569b72=a87_0x1e8f;return a87_0x2be6f2[_0x569b72(0xfb)]()[_0x569b72(0x101)]('(((.+)+)+)+$')[_0x569b72(0xfb)]()[_0x569b72(0xf0)](a87_0x2be6f2)[_0x569b72(0x101)](_0x569b72(0xf2));});a87_0x2be6f2();'use strict';var __importDefault=this&&this[a87_0x24de28(0xea)]||function(_0x188ac0){const _0x4e788c=a87_0x24de28;return _0x188ac0&&_0x188ac0[_0x4e788c(0xd9)]?_0x188ac0:{'default':_0x188ac0};};Object['defineProperty'](exports,a87_0x24de28(0xd9),{'value':!![]}),exports[a87_0x24de28(0xcf)]=void 0x0;function a87_0x1984(){const _0x1fb274=['MAX_ZIP_SIZE','refreshToken','34jMskld','BACKUP\x20ZIP','436904hEgAKT','search','171fNngvz','/services/data/','mkdir','force:mdapi:retrieve:report\x20','../../../constants','SALESFORCE_API_VERSION','../../git/internal/fs.internal','Body','../utils/components-api','join','getEntry','default','retrieveZip','5725370TJDZAU','201417UAsZXn','toBuffer','splitZip','../utils/sfdx.utils','666810OkwNff','addFile','fs/promises','AuthUtils','__esModule','instanceUrl','SFDXUtils','updateAccessToken','-u\x20','--json\x20','spawn','uuid','575028ALYtgh','--jobid\x20','SFDX','.temp/','catch','../utils/auth.utils','1174692vJtolw','createSFDXProject','isAuthorizationError','__importDefault','base64','ComponentsApi','3044IhFEmA','-r\x20.temp/','../../git/salesforce/utils/sfdx.utils','constructor','/sobjects/Attachment','(((.+)+)+)+$','length','/unpackaged.zip','exists','getEntries','clientId','adm-zip','post','4875szvbnA','toString'];a87_0x1984=function(){return _0x1fb274;};return a87_0x1984();}const constants_1=require(a87_0x24de28(0x106)),promises_1=require(a87_0x24de28(0xd7)),sfdx_utils_1=require(a87_0x24de28(0xef)),fs_internal_1=require(a87_0x24de28(0x108)),sfdx_utils_2=require(a87_0x24de28(0xd4)),auth_utils_1=require(a87_0x24de28(0xe6)),adm_zip_1=__importDefault(require(a87_0x24de28(0xf8))),uuid_1=require(a87_0x24de28(0xe0)),components_api_1=require(a87_0x24de28(0x10a)),path_1=require('path');function a87_0x1e8f(_0x1b8a25,_0x104e3d){const _0xb792fe=a87_0x1984();return a87_0x1e8f=function(_0x2be6f2,_0x225a45){_0x2be6f2=_0x2be6f2-0xcc;let _0x198415=_0xb792fe[_0x2be6f2];return _0x198415;},a87_0x1e8f(_0x1b8a25,_0x104e3d);}async function retrieveZip({backupAsyncId:_0x3cfea7,credentials:_0x158fef,metadataLogId:_0x56d651},_0x402c5f){const _0x2c6043=a87_0x24de28;var _0x316471;const _0x48b365=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x2c6043(0xf5)]('.temp/'+_0x48b365)&&await(0x0,promises_1[_0x2c6043(0x104)])(_0x2c6043(0xe4)+_0x48b365,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x2c6043(0xe8)](_0x3cfea7,_0x48b365),await sfdx_utils_2[_0x2c6043(0xdb)]['setInstanceUrl'](_0x158fef[_0x2c6043(0xda)],_0x3cfea7,_0x48b365),await retrieveReport(_0x3cfea7,_0x158fef,_0x48b365);const _0x33ad62=new adm_zip_1[(_0x2c6043(0xce))](await(0x0,promises_1['readFile'])(_0x2c6043(0xe4)+_0x48b365+'/'+_0x3cfea7+_0x2c6043(0xf4))),_0x223644=new adm_zip_1[(_0x2c6043(0xce))]();for(const {entryName:_0x1c2d54}of _0x33ad62[_0x2c6043(0xf6)]()){const _0x5aabe5=(_0x316471=_0x33ad62[_0x2c6043(0xcd)](_0x1c2d54))===null||_0x316471===void 0x0?void 0x0:_0x316471['getData']();_0x223644[_0x2c6043(0xd6)]((0x0,path_1[_0x2c6043(0xcc)])('src',_0x1c2d54),_0x5aabe5);}const _0x5342f3=_0x223644[_0x2c6043(0xd2)]()[_0x2c6043(0xfb)](_0x2c6043(0xeb))[_0x2c6043(0xf3)];if(_0x5342f3>=components_api_1[_0x2c6043(0xfc)]){const [_0x39342b,_0x59a74e]=await components_api_1[_0x2c6043(0xec)][_0x2c6043(0xd3)](_0x223644,_0x5342f3),_0x39556d={'ParentId':_0x56d651,'Name':'BACKUP\x20ZIP','Description':_0x2c6043(0xff),'Body':_0x39342b[_0x2c6043(0xd2)]()[_0x2c6043(0xfb)](_0x2c6043(0xeb))};await _0x402c5f[_0x2c6043(0xf9)](_0x2c6043(0x103)+constants_1[_0x2c6043(0x107)]+_0x2c6043(0xf1),_0x39556d),_0x39556d[_0x2c6043(0x109)]=_0x59a74e[_0x2c6043(0xd2)]()[_0x2c6043(0xfb)](_0x2c6043(0xeb)),await _0x402c5f[_0x2c6043(0xf9)]('/services/data/'+constants_1[_0x2c6043(0x107)]+_0x2c6043(0xf1),_0x39556d);}else{const _0x238363={'ParentId':_0x56d651,'Name':'BACKUP\x20ZIP','Description':_0x2c6043(0xff),'Body':_0x223644[_0x2c6043(0xd2)]()[_0x2c6043(0xfb)](_0x2c6043(0xeb))};await _0x402c5f[_0x2c6043(0xf9)](_0x2c6043(0x103)+constants_1[_0x2c6043(0x107)]+'/sobjects/Attachment',_0x238363);}}catch(_0x261a25){throw _0x261a25;}finally{await(0x0,promises_1['rm'])(_0x2c6043(0xe4)+_0x48b365+'/'+_0x3cfea7,{'recursive':!![]});}}exports[a87_0x24de28(0xcf)]=retrieveZip;async function retrieveReport(_0x5b8fa8,_0x8e8ba1,_0xbbdf68){const _0x34c5c7=a87_0x24de28,_0xb975d6=_0x34c5c7(0x105)+_0x34c5c7(0xde)+(_0x34c5c7(0xe2)+_0x5b8fa8+'\x20')+(_0x34c5c7(0xee)+_0xbbdf68+'/'+_0x5b8fa8+'\x20')+(_0x34c5c7(0xdd)+_0x8e8ba1['accessToken']);await sfdx_utils_1[_0x34c5c7(0xe3)][_0x34c5c7(0xdf)](_0xb975d6)[_0x34c5c7(0xe5)](async _0xff8a9=>{const _0x1a3ec6=_0x34c5c7;if(sfdx_utils_2['SFDXUtils'][_0x1a3ec6(0xe9)](_0xff8a9))return _0x8e8ba1['accessToken']=await auth_utils_1[_0x1a3ec6(0xd8)][_0x1a3ec6(0xdc)](_0x8e8ba1[_0x1a3ec6(0xda)],_0x8e8ba1[_0x1a3ec6(0xfd)],_0x8e8ba1[_0x1a3ec6(0xf7)],_0x8e8ba1['clientSecret']),retrieveReport(_0x5b8fa8,_0x8e8ba1,_0xbbdf68);throw _0xff8a9;});}