function a87_0x4983(){const _0x572d27=['3586932KmwKWH','__importDefault','4233096WhHuzy','createSFDXProject','(((.+)+)+)+$','base64','setInstanceUrl','spawn','/sobjects/Attachment','AuthUtils','uuid','default','exists','978imdfdF','catch','/unpackaged.zip','fs/promises','33365dcAzPL','force:mdapi:retrieve:report\x20','retrieveZip','refreshToken','824688nXklOD','updateAccessToken','constructor','src','SFDXUtils','accessToken','post','--json\x20','join','apply','2595434Zitfll','Body','getEntries','SFDX','adm-zip','/services/data/v','BACKUP\x20ZIP','clientSecret','../utils/components-api','.temp/','addFile','toString','getEntry','1602888GFsYKC','../utils/sfdx.utils','__esModule','mkdir','1FtYkSg','clientId','toBuffer','../../git/salesforce/utils/sfdx.utils','MAX_ZIP_SIZE','10kTwwIX','getData','search','-u\x20','--jobid\x20','4784311odBFbq','instanceUrl','path'];a87_0x4983=function(){return _0x572d27;};return a87_0x4983();}function a87_0x5c6d(_0x45d1bc,_0x52dba1){const _0x353b82=a87_0x4983();return a87_0x5c6d=function(_0x26982a,_0xc1f40a){_0x26982a=_0x26982a-0x1b8;let _0x4983d2=_0x353b82[_0x26982a];return _0x4983d2;},a87_0x5c6d(_0x45d1bc,_0x52dba1);}const a87_0x5ab9c9=a87_0x5c6d;(function(_0x1580a0,_0x59cd1a){const _0x229812=a87_0x5c6d,_0x3d944e=_0x1580a0();while(!![]){try{const _0x1ff13a=parseInt(_0x229812(0x1e4))/0x1*(parseInt(_0x229812(0x1d3))/0x2)+-parseInt(_0x229812(0x1f3))/0x3+-parseInt(_0x229812(0x1f1))/0x4+-parseInt(_0x229812(0x1c5))/0x5*(-parseInt(_0x229812(0x1c1))/0x6)+parseInt(_0x229812(0x1ee))/0x7+parseInt(_0x229812(0x1e0))/0x8+-parseInt(_0x229812(0x1c9))/0x9*(parseInt(_0x229812(0x1e9))/0xa);if(_0x1ff13a===_0x59cd1a)break;else _0x3d944e['push'](_0x3d944e['shift']());}catch(_0x393867){_0x3d944e['push'](_0x3d944e['shift']());}}}(a87_0x4983,0xd45dd));const a87_0xc1f40a=(function(){let _0x4a396d=!![];return function(_0x33c86b,_0x56ca4c){const _0x569081=_0x4a396d?function(){const _0x1d8fbb=a87_0x5c6d;if(_0x56ca4c){const _0x5247b7=_0x56ca4c[_0x1d8fbb(0x1d2)](_0x33c86b,arguments);return _0x56ca4c=null,_0x5247b7;}}:function(){};return _0x4a396d=![],_0x569081;};}()),a87_0x26982a=a87_0xc1f40a(this,function(){const _0x50b543=a87_0x5c6d;return a87_0x26982a['toString']()['search'](_0x50b543(0x1b8))[_0x50b543(0x1de)]()[_0x50b543(0x1cb)](a87_0x26982a)[_0x50b543(0x1eb)](_0x50b543(0x1b8));});a87_0x26982a();'use strict';var __importDefault=this&&this[a87_0x5ab9c9(0x1f2)]||function(_0x19af55){const _0x31c623=a87_0x5ab9c9;return _0x19af55&&_0x19af55[_0x31c623(0x1e2)]?_0x19af55:{'default':_0x19af55};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a87_0x5ab9c9(0x1c7)]=void 0x0;const promises_1=require(a87_0x5ab9c9(0x1c4)),sfdx_utils_1=require(a87_0x5ab9c9(0x1e7)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require(a87_0x5ab9c9(0x1e1)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a87_0x5ab9c9(0x1d7))),uuid_1=require(a87_0x5ab9c9(0x1be)),components_api_1=require(a87_0x5ab9c9(0x1db)),path_1=require(a87_0x5ab9c9(0x1f0));async function retrieveZip({backupAsyncId:_0x260fc2,credentials:_0x29be87,metadataLogId:_0x595fe4,apiVersion:_0x199968},_0x302e23){const _0x19ca72=a87_0x5ab9c9;var _0x4f0c33;const _0x14f8fa=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x19ca72(0x1c0)](_0x19ca72(0x1dc)+_0x14f8fa)&&await(0x0,promises_1[_0x19ca72(0x1e3)])(_0x19ca72(0x1dc)+_0x14f8fa,{'recursive':!![]});await sfdx_utils_2[_0x19ca72(0x1cd)][_0x19ca72(0x1f4)](_0x260fc2,_0x14f8fa),await sfdx_utils_2[_0x19ca72(0x1cd)][_0x19ca72(0x1ba)](_0x29be87['instanceUrl'],_0x260fc2,_0x14f8fa),await retrieveReport(_0x260fc2,_0x29be87,_0x14f8fa);const _0x19ac86=new adm_zip_1[(_0x19ca72(0x1bf))](await(0x0,promises_1['readFile'])(_0x19ca72(0x1dc)+_0x14f8fa+'/'+_0x260fc2+_0x19ca72(0x1c3))),_0x7f6513=new adm_zip_1[(_0x19ca72(0x1bf))]();for(const {entryName:_0x4fa216}of _0x19ac86[_0x19ca72(0x1d5)]()){const _0x299097=(_0x4f0c33=_0x19ac86[_0x19ca72(0x1df)](_0x4fa216))===null||_0x4f0c33===void 0x0?void 0x0:_0x4f0c33[_0x19ca72(0x1ea)]();_0x7f6513[_0x19ca72(0x1dd)]((0x0,path_1[_0x19ca72(0x1d1)])(_0x19ca72(0x1cc),_0x4fa216),_0x299097);}const _0x20ebd8=_0x7f6513['toBuffer']()[_0x19ca72(0x1de)](_0x19ca72(0x1b9))['length'];if(_0x20ebd8>=components_api_1[_0x19ca72(0x1e8)]){const [_0x3901e8,_0x48cf4e]=await components_api_1['ComponentsApi']['splitZip'](_0x7f6513,_0x20ebd8),_0xe8d0a5={'ParentId':_0x595fe4,'Name':_0x19ca72(0x1d9),'Description':'BACKUP\x20ZIP','Body':_0x3901e8[_0x19ca72(0x1e6)]()[_0x19ca72(0x1de)](_0x19ca72(0x1b9))};await _0x302e23[_0x19ca72(0x1cf)](_0x19ca72(0x1d8)+_0x199968+'/sobjects/Attachment',_0xe8d0a5),_0xe8d0a5[_0x19ca72(0x1d4)]=_0x48cf4e[_0x19ca72(0x1e6)]()[_0x19ca72(0x1de)](_0x19ca72(0x1b9)),await _0x302e23['post'](_0x19ca72(0x1d8)+_0x199968+_0x19ca72(0x1bc),_0xe8d0a5);}else{const _0x18549d={'ParentId':_0x595fe4,'Name':_0x19ca72(0x1d9),'Description':'BACKUP\x20ZIP','Body':_0x7f6513['toBuffer']()[_0x19ca72(0x1de)](_0x19ca72(0x1b9))};await _0x302e23['post']('/services/data/v'+_0x199968+_0x19ca72(0x1bc),_0x18549d);}}catch(_0x1a0bd4){throw _0x1a0bd4;}finally{await(0x0,promises_1['rm'])(_0x19ca72(0x1dc)+_0x14f8fa+'/'+_0x260fc2,{'recursive':!![]});}}exports[a87_0x5ab9c9(0x1c7)]=retrieveZip;async function retrieveReport(_0x415892,_0x29eb6e,_0x2623e1){const _0x1a88a3=a87_0x5ab9c9,_0x4972b2=_0x1a88a3(0x1c6)+_0x1a88a3(0x1d0)+(_0x1a88a3(0x1ed)+_0x415892+'\x20')+('-r\x20.temp/'+_0x2623e1+'/'+_0x415892+'\x20')+(_0x1a88a3(0x1ec)+_0x29eb6e[_0x1a88a3(0x1ce)]);await sfdx_utils_1[_0x1a88a3(0x1d6)][_0x1a88a3(0x1bb)](_0x4972b2)[_0x1a88a3(0x1c2)](async _0x4693a9=>{const _0x2e2a56=_0x1a88a3;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x4693a9))return _0x29eb6e[_0x2e2a56(0x1ce)]=await auth_utils_1[_0x2e2a56(0x1bd)][_0x2e2a56(0x1ca)](_0x29eb6e[_0x2e2a56(0x1ef)],_0x29eb6e[_0x2e2a56(0x1c8)],_0x29eb6e[_0x2e2a56(0x1e5)],_0x29eb6e[_0x2e2a56(0x1da)]),retrieveReport(_0x415892,_0x29eb6e,_0x2623e1);throw _0x4693a9;});}