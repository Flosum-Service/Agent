function a55_0x57e8(){const _0x391385=['spawnPromise','createSFDXProject','../utils/auth.utils','path','default','../../git/internal/fs.internal','constructor','setInstanceUrl','refreshToken','../../../constants','toString','ComponentsApi','SFDXUtils','/unpackaged.zip','BACKUP\x20ZIP','readFile','/sobjects/Attachment','defineProperty','addFile','accessToken','-r\x20.temp/','getData','clientId','splitZip','MAX_ZIP_SIZE','fs/promises','getEntry','SFDX','539421maHQRF','62613AYXToD','getEntries','retrieveZip','mkdir','SALESFORCE_API_VERSION','base64','1785344duRZGF','--json\x20','4678177SQPlvA','adm-zip','__esModule','2280tSGMuD','search','instanceUrl','1160703zpcbYq','toBuffer','../utils/components-api','uuid','src','AuthUtils','exists','31284mUsqYc','apply','2185796bCDpHt','.temp/','/services/data/','__importDefault','--jobid\x20','force:mdapi:retrieve:report\x20','(((.+)+)+)+$','2ywzbaH','15yGHxiE','post'];a55_0x57e8=function(){return _0x391385;};return a55_0x57e8();}const a55_0x129eb3=a55_0x2926;function a55_0x2926(_0x37566f,_0x23a710){const _0x5c651b=a55_0x57e8();return a55_0x2926=function(_0x4a0896,_0x96b9d6){_0x4a0896=_0x4a0896-0xa1;let _0x57e807=_0x5c651b[_0x4a0896];return _0x57e807;},a55_0x2926(_0x37566f,_0x23a710);}(function(_0x3472d5,_0x5c03e9){const _0x57d72b=a55_0x2926,_0x5b6b9c=_0x3472d5();while(!![]){try{const _0x33a44=parseInt(_0x57d72b(0xca))/0x1*(parseInt(_0x57d72b(0xab))/0x2)+parseInt(_0x57d72b(0xd9))/0x3+parseInt(_0x57d72b(0xa4))/0x4+parseInt(_0x57d72b(0xac))/0x5*(parseInt(_0x57d72b(0xa2))/0x6)+parseInt(_0x57d72b(0xd3))/0x7+-parseInt(_0x57d72b(0xd1))/0x8+parseInt(_0x57d72b(0xcb))/0x9*(-parseInt(_0x57d72b(0xd6))/0xa);if(_0x33a44===_0x5c03e9)break;else _0x5b6b9c['push'](_0x5b6b9c['shift']());}catch(_0x3db45c){_0x5b6b9c['push'](_0x5b6b9c['shift']());}}}(a55_0x57e8,0x54ce0));const a55_0x96b9d6=(function(){let _0x359fee=!![];return function(_0x2e1452,_0x20fbcf){const _0x20b0fd=_0x359fee?function(){const _0x7802d1=a55_0x2926;if(_0x20fbcf){const _0x516259=_0x20fbcf[_0x7802d1(0xa3)](_0x2e1452,arguments);return _0x20fbcf=null,_0x516259;}}:function(){};return _0x359fee=![],_0x20b0fd;};}()),a55_0x4a0896=a55_0x96b9d6(this,function(){const _0xc309bf=a55_0x2926;return a55_0x4a0896[_0xc309bf(0xb8)]()[_0xc309bf(0xd7)](_0xc309bf(0xaa))[_0xc309bf(0xb8)]()[_0xc309bf(0xb4)](a55_0x4a0896)['search']('(((.+)+)+)+$');});a55_0x4a0896();'use strict';var __importDefault=this&&this[a55_0x129eb3(0xa7)]||function(_0x18e149){const _0x5cf044=a55_0x129eb3;return _0x18e149&&_0x18e149[_0x5cf044(0xd5)]?_0x18e149:{'default':_0x18e149};};Object[a55_0x129eb3(0xbf)](exports,a55_0x129eb3(0xd5),{'value':!![]}),exports[a55_0x129eb3(0xcd)]=void 0x0;const constants_1=require(a55_0x129eb3(0xb7)),promises_1=require(a55_0x129eb3(0xc7)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),fs_internal_1=require(a55_0x129eb3(0xb3)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a55_0x129eb3(0xb0)),adm_zip_1=__importDefault(require(a55_0x129eb3(0xd4))),uuid_1=require(a55_0x129eb3(0xdc)),components_api_1=require(a55_0x129eb3(0xdb)),path_1=require(a55_0x129eb3(0xb1));async function retrieveZip({backupAsyncId:_0xc3a270,credentials:_0xd49e26,metadataLogId:_0x4485f4},_0x252fdd){const _0x4a5255=a55_0x129eb3;var _0x494012;const _0x34f34b=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x4a5255(0xa1)](_0x4a5255(0xa5)+_0x34f34b)&&await(0x0,promises_1[_0x4a5255(0xce)])(_0x4a5255(0xa5)+_0x34f34b,{'recursive':!![]});await sfdx_utils_2[_0x4a5255(0xba)][_0x4a5255(0xaf)](_0xc3a270,_0x34f34b),await sfdx_utils_2['SFDXUtils'][_0x4a5255(0xb5)](_0xd49e26['instanceUrl'],_0xc3a270,_0x34f34b),await retrieveReport(_0xc3a270,_0xd49e26,_0x34f34b);const _0x1180f5=new adm_zip_1[(_0x4a5255(0xb2))](await(0x0,promises_1[_0x4a5255(0xbd)])('.temp/'+_0x34f34b+'/'+_0xc3a270+_0x4a5255(0xbb))),_0x163814=new adm_zip_1[(_0x4a5255(0xb2))]();for(const {entryName:_0x4367a2}of _0x1180f5[_0x4a5255(0xcc)]()){const _0xca9e99=(_0x494012=_0x1180f5[_0x4a5255(0xc8)](_0x4367a2))===null||_0x494012===void 0x0?void 0x0:_0x494012[_0x4a5255(0xc3)]();_0x163814[_0x4a5255(0xc0)]((0x0,path_1['join'])(_0x4a5255(0xdd),_0x4367a2),_0xca9e99);}const _0x4f71e5=_0x163814['toBuffer']()[_0x4a5255(0xb8)](_0x4a5255(0xd0))['length'];if(_0x4f71e5>=components_api_1[_0x4a5255(0xc6)]){const [_0x57eba9,_0x5d6c2f]=await components_api_1[_0x4a5255(0xb9)][_0x4a5255(0xc5)](_0x163814,_0x4f71e5),_0x3d81e9={'ParentId':_0x4485f4,'Name':_0x4a5255(0xbc),'Description':'BACKUP\x20ZIP','Body':_0x57eba9[_0x4a5255(0xda)]()[_0x4a5255(0xb8)](_0x4a5255(0xd0))};await _0x252fdd['post'](_0x4a5255(0xa6)+constants_1[_0x4a5255(0xcf)]+_0x4a5255(0xbe),_0x3d81e9),_0x3d81e9['Body']=_0x5d6c2f['toBuffer']()['toString'](_0x4a5255(0xd0)),await _0x252fdd[_0x4a5255(0xad)]('/services/data/'+constants_1[_0x4a5255(0xcf)]+_0x4a5255(0xbe),_0x3d81e9);}else{const _0x4c5571={'ParentId':_0x4485f4,'Name':_0x4a5255(0xbc),'Description':_0x4a5255(0xbc),'Body':_0x163814['toBuffer']()['toString']('base64')};await _0x252fdd[_0x4a5255(0xad)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x4a5255(0xbe),_0x4c5571);}}catch(_0x211cc1){throw _0x211cc1;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x34f34b+'/'+_0xc3a270,{'recursive':!![]});}}exports[a55_0x129eb3(0xcd)]=retrieveZip;async function retrieveReport(_0xc3165b,_0x3d8fbf,_0x33f890){const _0x21fb6a=a55_0x129eb3,_0x39f9d1=_0x21fb6a(0xa9)+_0x21fb6a(0xd2)+(_0x21fb6a(0xa8)+_0xc3165b+'\x20')+(_0x21fb6a(0xc2)+_0x33f890+'/'+_0xc3165b+'\x20')+('-u\x20'+_0x3d8fbf[_0x21fb6a(0xc1)]);await sfdx_utils_1[_0x21fb6a(0xc9)][_0x21fb6a(0xae)]('sfdx',_0x39f9d1)['catch'](async _0x3d7132=>{const _0x2dd201=_0x21fb6a;if(sfdx_utils_2[_0x2dd201(0xba)]['isAuthorizationError'](_0x3d7132))return _0x3d8fbf[_0x2dd201(0xc1)]=await auth_utils_1[_0x2dd201(0xde)]['updateAccessToken'](_0x3d8fbf[_0x2dd201(0xd8)],_0x3d8fbf[_0x2dd201(0xb6)],_0x3d8fbf[_0x2dd201(0xc4)],_0x3d8fbf['clientSecret']),retrieveReport(_0xc3165b,_0x3d8fbf,_0x33f890);throw _0x3d7132;});}