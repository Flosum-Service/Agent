const a87_0x211cc9=a87_0xa6aa;(function(_0xdd68a,_0x1eb548){const _0x4454c8=a87_0xa6aa,_0x18a879=_0xdd68a();while(!![]){try{const _0x23edcb=parseInt(_0x4454c8(0x12d))/0x1*(parseInt(_0x4454c8(0x117))/0x2)+-parseInt(_0x4454c8(0x118))/0x3*(parseInt(_0x4454c8(0x106))/0x4)+parseInt(_0x4454c8(0x108))/0x5+parseInt(_0x4454c8(0xf8))/0x6+-parseInt(_0x4454c8(0x119))/0x7*(-parseInt(_0x4454c8(0x102))/0x8)+parseInt(_0x4454c8(0x124))/0x9+-parseInt(_0x4454c8(0x12f))/0xa*(parseInt(_0x4454c8(0x127))/0xb);if(_0x23edcb===_0x1eb548)break;else _0x18a879['push'](_0x18a879['shift']());}catch(_0x2e220c){_0x18a879['push'](_0x18a879['shift']());}}}(a87_0x4b34,0x67d7f));const a87_0x52577c=(function(){let _0x2be105=!![];return function(_0x41d46e,_0x5a14cc){const _0x4f3ded=_0x2be105?function(){if(_0x5a14cc){const _0x397152=_0x5a14cc['apply'](_0x41d46e,arguments);return _0x5a14cc=null,_0x397152;}}:function(){};return _0x2be105=![],_0x4f3ded;};}()),a87_0xcd78e4=a87_0x52577c(this,function(){const _0x229ee7=a87_0xa6aa;return a87_0xcd78e4[_0x229ee7(0x115)]()[_0x229ee7(0x103)](_0x229ee7(0x121))[_0x229ee7(0x115)]()[_0x229ee7(0x109)](a87_0xcd78e4)[_0x229ee7(0x103)]('(((.+)+)+)+$');});a87_0xcd78e4();'use strict';function a87_0xa6aa(_0x3dee8f,_0x3c40bb){const _0xcaa3de=a87_0x4b34();return a87_0xa6aa=function(_0xcd78e4,_0x52577c){_0xcd78e4=_0xcd78e4-0xf7;let _0x4b3420=_0xcaa3de[_0xcd78e4];return _0x4b3420;},a87_0xa6aa(_0x3dee8f,_0x3c40bb);}var __importDefault=this&&this[a87_0x211cc9(0x11b)]||function(_0x2bc23f){return _0x2bc23f&&_0x2bc23f['__esModule']?_0x2bc23f:{'default':_0x2bc23f};};Object['defineProperty'](exports,a87_0x211cc9(0x131),{'value':!![]}),exports['retrieveZip']=void 0x0;const constants_1=require(a87_0x211cc9(0xfd)),promises_1=require(a87_0x211cc9(0x12e)),sfdx_utils_1=require(a87_0x211cc9(0x129)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a87_0x211cc9(0xfb))),uuid_1=require(a87_0x211cc9(0xfc)),components_api_1=require(a87_0x211cc9(0x11c)),path_1=require(a87_0x211cc9(0x135));async function retrieveZip({backupAsyncId:_0x13325f,credentials:_0x48c7e9,metadataLogId:_0xa8993f},_0x6e1d33){const _0x19136d=a87_0x211cc9;var _0x2d6138;const _0x5a882f=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x19136d(0x101)+_0x5a882f)&&await(0x0,promises_1[_0x19136d(0x134)])('.temp/'+_0x5a882f,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x19136d(0x128)](_0x13325f,_0x5a882f),await sfdx_utils_2[_0x19136d(0x113)][_0x19136d(0x123)](_0x48c7e9[_0x19136d(0x10b)],_0x13325f,_0x5a882f),await retrieveReport(_0x13325f,_0x48c7e9,_0x5a882f);const _0x294f4c=new adm_zip_1[(_0x19136d(0x132))](await(0x0,promises_1[_0x19136d(0x12b)])(_0x19136d(0x101)+_0x5a882f+'/'+_0x13325f+_0x19136d(0x112))),_0x546d1a=new adm_zip_1[(_0x19136d(0x132))]();for(const {entryName:_0x375637}of _0x294f4c[_0x19136d(0x11d)]()){const _0x59b368=(_0x2d6138=_0x294f4c['getEntry'](_0x375637))===null||_0x2d6138===void 0x0?void 0x0:_0x2d6138[_0x19136d(0x107)]();_0x546d1a[_0x19136d(0x110)]((0x0,path_1[_0x19136d(0xf7)])('src',_0x375637),_0x59b368);}const _0x565af2=_0x546d1a[_0x19136d(0x114)]()[_0x19136d(0x115)](_0x19136d(0x125))[_0x19136d(0x10e)];if(_0x565af2>=components_api_1[_0x19136d(0x111)]){const [_0x1e53b9,_0x1a4e2d]=await components_api_1[_0x19136d(0xff)][_0x19136d(0x12c)](_0x546d1a,_0x565af2),_0x4d70f9={'ParentId':_0xa8993f,'Name':_0x19136d(0x10a),'Description':_0x19136d(0x10a),'Body':_0x1e53b9[_0x19136d(0x114)]()['toString'](_0x19136d(0x125))};await _0x6e1d33[_0x19136d(0x130)](_0x19136d(0x120)+constants_1[_0x19136d(0x104)]+_0x19136d(0x11e),_0x4d70f9),_0x4d70f9[_0x19136d(0x12a)]=_0x1a4e2d[_0x19136d(0x114)]()[_0x19136d(0x115)]('base64'),await _0x6e1d33[_0x19136d(0x130)]('/services/data/'+constants_1[_0x19136d(0x104)]+'/sobjects/Attachment',_0x4d70f9);}else{const _0x3981b7={'ParentId':_0xa8993f,'Name':_0x19136d(0x10a),'Description':_0x19136d(0x10a),'Body':_0x546d1a[_0x19136d(0x114)]()[_0x19136d(0x115)](_0x19136d(0x125))};await _0x6e1d33[_0x19136d(0x130)]('/services/data/'+constants_1[_0x19136d(0x104)]+_0x19136d(0x11e),_0x3981b7);}}catch(_0x440a8a){throw _0x440a8a;}finally{await(0x0,promises_1['rm'])(_0x19136d(0x101)+_0x5a882f+'/'+_0x13325f,{'recursive':!![]});}}function a87_0x4b34(){const _0x45f355=['createSFDXProject','../../git/salesforce/utils/sfdx.utils','Body','readFile','splitZip','29fMxtRb','fs/promises','80dKRvdZ','post','__esModule','default','isAuthorizationError','mkdir','path','join','2329926GpsvYl','sfdx','AuthUtils','adm-zip','uuid','../../../constants','force:mdapi:retrieve:report\x20','ComponentsApi','clientId','.temp/','158680VPBTmV','search','SALESFORCE_API_VERSION','accessToken','4IgmIkb','getData','1927925xVXxCw','constructor','BACKUP\x20ZIP','instanceUrl','spawnPromise','catch','length','updateAccessToken','addFile','MAX_ZIP_SIZE','/unpackaged.zip','SFDXUtils','toBuffer','toString','--jobid\x20','6866oEDeER','2070123oeYqhZ','119aWVTRC','retrieveZip','__importDefault','../utils/components-api','getEntries','/sobjects/Attachment','--json\x20','/services/data/','(((.+)+)+)+$','refreshToken','setInstanceUrl','5079078zvAiHB','base64','-r\x20.temp/','906972BzoeFh'];a87_0x4b34=function(){return _0x45f355;};return a87_0x4b34();}exports[a87_0x211cc9(0x11a)]=retrieveZip;async function retrieveReport(_0x1366ad,_0x1fa8bc,_0x5e1e07){const _0x381ac2=a87_0x211cc9,_0x5b07f3=_0x381ac2(0xfe)+_0x381ac2(0x11f)+(_0x381ac2(0x116)+_0x1366ad+'\x20')+(_0x381ac2(0x126)+_0x5e1e07+'/'+_0x1366ad+'\x20')+('-u\x20'+_0x1fa8bc[_0x381ac2(0x105)]);await sfdx_utils_1['SFDX'][_0x381ac2(0x10c)](_0x381ac2(0xf9),_0x5b07f3)[_0x381ac2(0x10d)](async _0x4c6f0e=>{const _0x523d33=_0x381ac2;if(sfdx_utils_2[_0x523d33(0x113)][_0x523d33(0x133)](_0x4c6f0e))return _0x1fa8bc[_0x523d33(0x105)]=await auth_utils_1[_0x523d33(0xfa)][_0x523d33(0x10f)](_0x1fa8bc[_0x523d33(0x10b)],_0x1fa8bc[_0x523d33(0x122)],_0x1fa8bc[_0x523d33(0x100)],_0x1fa8bc['clientSecret']),retrieveReport(_0x1366ad,_0x1fa8bc,_0x5e1e07);throw _0x4c6f0e;});}