const a55_0x5bc3eb=a55_0x38d6;(function(_0x5c865f,_0x41a65b){const _0x3ebab8=a55_0x38d6,_0x3d3c13=_0x5c865f();while(!![]){try{const _0x1af682=-parseInt(_0x3ebab8(0x125))/0x1*(-parseInt(_0x3ebab8(0x12c))/0x2)+-parseInt(_0x3ebab8(0x146))/0x3*(-parseInt(_0x3ebab8(0x14b))/0x4)+parseInt(_0x3ebab8(0x13d))/0x5*(-parseInt(_0x3ebab8(0x120))/0x6)+parseInt(_0x3ebab8(0x152))/0x7+-parseInt(_0x3ebab8(0x11e))/0x8+parseInt(_0x3ebab8(0x122))/0x9+-parseInt(_0x3ebab8(0x144))/0xa;if(_0x1af682===_0x41a65b)break;else _0x3d3c13['push'](_0x3d3c13['shift']());}catch(_0x371086){_0x3d3c13['push'](_0x3d3c13['shift']());}}}(a55_0x53b5,0x605ec));function a55_0x38d6(_0x413824,_0x2defad){const _0x1898be=a55_0x53b5();return a55_0x38d6=function(_0x886260,_0x5df349){_0x886260=_0x886260-0x11c;let _0x53b50b=_0x1898be[_0x886260];return _0x53b50b;},a55_0x38d6(_0x413824,_0x2defad);}const a55_0x5df349=(function(){let _0x5664a0=!![];return function(_0x16ee00,_0x27ccfc){const _0x137d3e=_0x5664a0?function(){const _0x4d6499=a55_0x38d6;if(_0x27ccfc){const _0x529fc2=_0x27ccfc[_0x4d6499(0x150)](_0x16ee00,arguments);return _0x27ccfc=null,_0x529fc2;}}:function(){};return _0x5664a0=![],_0x137d3e;};}()),a55_0x886260=a55_0x5df349(this,function(){const _0x326f33=a55_0x38d6;return a55_0x886260['toString']()[_0x326f33(0x154)](_0x326f33(0x132))['toString']()[_0x326f33(0x136)](a55_0x886260)[_0x326f33(0x154)](_0x326f33(0x132));});a55_0x886260();function a55_0x53b5(){const _0x4538a6=['2488990WbvCKG','/unpackaged.zip','57LScbZb','--jobid\x20','getEntry','AuthUtils','-u\x20','44824AVrQgo','spawnPromise','/sobjects/Attachment','.temp/','defineProperty','apply','retrieveZip','3967852XaKgLO','Body','search','toBuffer','accessToken','ComponentsApi','BACKUP\x20ZIP','--json\x20','/services/data/','isAuthorizationError','length','1034160BOBUCV','../../git/internal/fs.internal','54OzWQpr','base64','2520738eETzpp','__importDefault','../utils/components-api','1JTtYXS','post','updateAccessToken','src','../utils/sfdx.utils','__esModule','clientSecret','564224esuKMT','toString','../utils/auth.utils','createSFDXProject','SFDXUtils','catch','(((.+)+)+)+$','exists','clientId','../../../constants','constructor','readFile','sfdx','fs/promises','SFDX','uuid','getEntries','316135zRZYSd','mkdir','instanceUrl','path','refreshToken','adm-zip','SALESFORCE_API_VERSION'];a55_0x53b5=function(){return _0x4538a6;};return a55_0x53b5();}'use strict';var __importDefault=this&&this[a55_0x5bc3eb(0x123)]||function(_0x2b6630){const _0x257dc8=a55_0x5bc3eb;return _0x2b6630&&_0x2b6630[_0x257dc8(0x12a)]?_0x2b6630:{'default':_0x2b6630};};Object[a55_0x5bc3eb(0x14f)](exports,a55_0x5bc3eb(0x12a),{'value':!![]}),exports[a55_0x5bc3eb(0x151)]=void 0x0;const constants_1=require(a55_0x5bc3eb(0x135)),promises_1=require(a55_0x5bc3eb(0x139)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),fs_internal_1=require(a55_0x5bc3eb(0x11f)),sfdx_utils_2=require(a55_0x5bc3eb(0x129)),auth_utils_1=require(a55_0x5bc3eb(0x12e)),adm_zip_1=__importDefault(require(a55_0x5bc3eb(0x142))),uuid_1=require(a55_0x5bc3eb(0x13b)),components_api_1=require(a55_0x5bc3eb(0x124)),path_1=require(a55_0x5bc3eb(0x140));async function retrieveZip({backupAsyncId:_0x3183e6,credentials:_0x1c29d1,metadataLogId:_0x4298b1},_0x2412c8){const _0xfa2f79=a55_0x5bc3eb;var _0x4f26c0;const _0x368f59=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0xfa2f79(0x133)](_0xfa2f79(0x14e)+_0x368f59)&&await(0x0,promises_1[_0xfa2f79(0x13e)])(_0xfa2f79(0x14e)+_0x368f59,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0xfa2f79(0x12f)](_0x3183e6,_0x368f59),await sfdx_utils_2[_0xfa2f79(0x130)]['setInstanceUrl'](_0x1c29d1[_0xfa2f79(0x13f)],_0x3183e6,_0x368f59),await retrieveReport(_0x3183e6,_0x1c29d1,_0x368f59);const _0x414b86=new adm_zip_1['default'](await(0x0,promises_1[_0xfa2f79(0x137)])(_0xfa2f79(0x14e)+_0x368f59+'/'+_0x3183e6+_0xfa2f79(0x145))),_0x5d40d5=new adm_zip_1['default']();for(const {entryName:_0x407b0a}of _0x414b86[_0xfa2f79(0x13c)]()){const _0x19e20d=(_0x4f26c0=_0x414b86[_0xfa2f79(0x148)](_0x407b0a))===null||_0x4f26c0===void 0x0?void 0x0:_0x4f26c0['getData']();_0x5d40d5['addFile']((0x0,path_1['join'])(_0xfa2f79(0x128),_0x407b0a),_0x19e20d);}const _0x312a8c=_0x5d40d5[_0xfa2f79(0x155)]()[_0xfa2f79(0x12d)]('base64')[_0xfa2f79(0x11d)];if(_0x312a8c>=components_api_1['MAX_ZIP_SIZE']){const [_0x31c8f5,_0x16aaae]=await components_api_1[_0xfa2f79(0x157)]['splitZip'](_0x5d40d5,_0x312a8c),_0x1df8ba={'ParentId':_0x4298b1,'Name':'BACKUP\x20ZIP','Description':'BACKUP\x20ZIP','Body':_0x31c8f5[_0xfa2f79(0x155)]()[_0xfa2f79(0x12d)]('base64')};await _0x2412c8['post'](_0xfa2f79(0x15a)+constants_1[_0xfa2f79(0x143)]+_0xfa2f79(0x14d),_0x1df8ba),_0x1df8ba[_0xfa2f79(0x153)]=_0x16aaae[_0xfa2f79(0x155)]()[_0xfa2f79(0x12d)](_0xfa2f79(0x121)),await _0x2412c8['post'](_0xfa2f79(0x15a)+constants_1[_0xfa2f79(0x143)]+_0xfa2f79(0x14d),_0x1df8ba);}else{const _0x2d9397={'ParentId':_0x4298b1,'Name':_0xfa2f79(0x158),'Description':'BACKUP\x20ZIP','Body':_0x5d40d5['toBuffer']()[_0xfa2f79(0x12d)](_0xfa2f79(0x121))};await _0x2412c8[_0xfa2f79(0x126)](_0xfa2f79(0x15a)+constants_1[_0xfa2f79(0x143)]+_0xfa2f79(0x14d),_0x2d9397);}}catch(_0x3b14a5){throw _0x3b14a5;}finally{await(0x0,promises_1['rm'])(_0xfa2f79(0x14e)+_0x368f59+'/'+_0x3183e6,{'recursive':!![]});}}exports[a55_0x5bc3eb(0x151)]=retrieveZip;async function retrieveReport(_0x49eb7d,_0x570681,_0x314247){const _0x1a1911=a55_0x5bc3eb,_0x52755a='force:mdapi:retrieve:report\x20'+_0x1a1911(0x159)+(_0x1a1911(0x147)+_0x49eb7d+'\x20')+('-r\x20.temp/'+_0x314247+'/'+_0x49eb7d+'\x20')+(_0x1a1911(0x14a)+_0x570681[_0x1a1911(0x156)]);await sfdx_utils_1[_0x1a1911(0x13a)][_0x1a1911(0x14c)](_0x1a1911(0x138),_0x52755a)[_0x1a1911(0x131)](async _0x71f1cd=>{const _0x33f8f3=_0x1a1911;if(sfdx_utils_2[_0x33f8f3(0x130)][_0x33f8f3(0x11c)](_0x71f1cd))return _0x570681[_0x33f8f3(0x156)]=await auth_utils_1[_0x33f8f3(0x149)][_0x33f8f3(0x127)](_0x570681[_0x33f8f3(0x13f)],_0x570681[_0x33f8f3(0x141)],_0x570681[_0x33f8f3(0x134)],_0x570681[_0x33f8f3(0x12b)]),retrieveReport(_0x49eb7d,_0x570681,_0x314247);throw _0x71f1cd;});}