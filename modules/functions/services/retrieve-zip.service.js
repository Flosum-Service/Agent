const a105_0x3df788=a105_0xd4cc;(function(_0x3ded2f,_0xceb145){const _0x42c131=a105_0xd4cc,_0x70fb1f=_0x3ded2f();while(!![]){try{const _0x23cc12=parseInt(_0x42c131(0xd0))/0x1+parseInt(_0x42c131(0xb5))/0x2*(parseInt(_0x42c131(0xcc))/0x3)+parseInt(_0x42c131(0xb1))/0x4*(-parseInt(_0x42c131(0xd9))/0x5)+parseInt(_0x42c131(0xbe))/0x6+-parseInt(_0x42c131(0xce))/0x7+parseInt(_0x42c131(0xe4))/0x8+-parseInt(_0x42c131(0xbf))/0x9*(parseInt(_0x42c131(0xdb))/0xa);if(_0x23cc12===_0xceb145)break;else _0x70fb1f['push'](_0x70fb1f['shift']());}catch(_0x28ddd2){_0x70fb1f['push'](_0x70fb1f['shift']());}}}(a105_0x15b5,0x93f47));const a105_0x5c171c=(function(){let _0x169e08=!![];return function(_0x4648de,_0x2d3f77){const _0x1c487d=_0x169e08?function(){const _0x344e3f=a105_0xd4cc;if(_0x2d3f77){const _0x5738c1=_0x2d3f77[_0x344e3f(0xbd)](_0x4648de,arguments);return _0x2d3f77=null,_0x5738c1;}}:function(){};return _0x169e08=![],_0x1c487d;};}()),a105_0x1a4714=a105_0x5c171c(this,function(){const _0x1317b2=a105_0xd4cc;return a105_0x1a4714[_0x1317b2(0xba)]()['search'](_0x1317b2(0xe5))[_0x1317b2(0xba)]()[_0x1317b2(0xe2)](a105_0x1a4714)[_0x1317b2(0xbb)](_0x1317b2(0xe5));});function a105_0x15b5(){const _0x16de8c=['apply','3825012qvFPaw','26253WrhjhH','SFDXUtils','uuid','getEntries','clientSecret','createSFDXProject','toBuffer','../../git/salesforce/utils/sfdx.utils','default','src','splitZip','join','getEntry','16494CkWeCH','defineProperty','1898435nliIep','Body','1157071bAnpkZ','isAuthorizationError','getData','setInstanceUrl','post','MAX_ZIP_SIZE','path','instanceUrl','spawn','107355anfTsn','addFile','3470gzspNI','mkdir','__importDefault','--jobid\x20','SFDX','__esModule','clientId','constructor','retrieveZip','38416AnzKkN','(((.+)+)+)+$','.temp/','accessToken','../../git/internal/fs.internal','/services/data/v','-u\x20','ComponentsApi','AuthUtils','16PNCeoX','length','readFile','/sobjects/Attachment','64PiEuzo','BACKUP\x20ZIP','fs/promises','--json\x20','-r\x20.temp/','toString','search','catch'];a105_0x15b5=function(){return _0x16de8c;};return a105_0x15b5();}a105_0x1a4714();'use strict';var __importDefault=this&&this[a105_0x3df788(0xdd)]||function(_0x4f2864){const _0x2f21a0=a105_0x3df788;return _0x4f2864&&_0x4f2864[_0x2f21a0(0xe0)]?_0x4f2864:{'default':_0x4f2864};};Object[a105_0x3df788(0xcd)](exports,'__esModule',{'value':!![]}),exports[a105_0x3df788(0xe3)]=void 0x0;const promises_1=require(a105_0x3df788(0xb7)),sfdx_utils_1=require(a105_0x3df788(0xc6)),fs_internal_1=require(a105_0x3df788(0xe8)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a105_0x3df788(0xc1)),components_api_1=require('../utils/components-api'),path_1=require(a105_0x3df788(0xd6));function a105_0xd4cc(_0x171d5e,_0x11e88c){const _0x1df84e=a105_0x15b5();return a105_0xd4cc=function(_0x1a4714,_0x5c171c){_0x1a4714=_0x1a4714-0xae;let _0x15b5f1=_0x1df84e[_0x1a4714];return _0x15b5f1;},a105_0xd4cc(_0x171d5e,_0x11e88c);}async function retrieveZip({backupAsyncId:_0x2c032c,credentials:_0x368fbb,metadataLogId:_0x594e47,apiVersion:_0x44da4c},_0x2b045e){const _0x268a9c=a105_0x3df788;var _0x294bef;const _0x2cf66a=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x268a9c(0xe6)+_0x2cf66a)&&await(0x0,promises_1[_0x268a9c(0xdc)])(_0x268a9c(0xe6)+_0x2cf66a,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x268a9c(0xc4)](_0x2c032c,_0x2cf66a),await sfdx_utils_2[_0x268a9c(0xc0)][_0x268a9c(0xd3)](_0x368fbb[_0x268a9c(0xd7)],_0x2c032c,_0x2cf66a),await retrieveReport(_0x2c032c,_0x368fbb,_0x2cf66a);const _0x3e4425=new adm_zip_1[(_0x268a9c(0xc7))](await(0x0,promises_1[_0x268a9c(0xb3)])(_0x268a9c(0xe6)+_0x2cf66a+'/'+_0x2c032c+'/unpackaged.zip')),_0x2e8684=new adm_zip_1[(_0x268a9c(0xc7))]();for(const {entryName:_0x83767c}of _0x3e4425[_0x268a9c(0xc2)]()){const _0x575cd0=(_0x294bef=_0x3e4425[_0x268a9c(0xcb)](_0x83767c))===null||_0x294bef===void 0x0?void 0x0:_0x294bef[_0x268a9c(0xd2)]();_0x2e8684[_0x268a9c(0xda)]((0x0,path_1[_0x268a9c(0xca)])(_0x268a9c(0xc8),_0x83767c),_0x575cd0);}const _0xdf56e4=_0x2e8684[_0x268a9c(0xc5)]()[_0x268a9c(0xba)]('base64')[_0x268a9c(0xb2)];if(_0xdf56e4>=components_api_1[_0x268a9c(0xd5)]){const [_0x2c7a79,_0x718c10]=await components_api_1[_0x268a9c(0xaf)][_0x268a9c(0xc9)](_0x2e8684,_0xdf56e4),_0x44a497={'ParentId':_0x594e47,'Name':_0x268a9c(0xb6),'Description':_0x268a9c(0xb6),'Body':_0x2c7a79[_0x268a9c(0xc5)]()[_0x268a9c(0xba)]('base64')};await _0x2b045e[_0x268a9c(0xd4)]('/services/data/v'+_0x44da4c+_0x268a9c(0xb4),_0x44a497),_0x44a497[_0x268a9c(0xcf)]=_0x718c10['toBuffer']()['toString']('base64'),await _0x2b045e['post'](_0x268a9c(0xe9)+_0x44da4c+_0x268a9c(0xb4),_0x44a497);}else{const _0x1fe468={'ParentId':_0x594e47,'Name':_0x268a9c(0xb6),'Description':_0x268a9c(0xb6),'Body':_0x2e8684[_0x268a9c(0xc5)]()['toString']('base64')};await _0x2b045e[_0x268a9c(0xd4)](_0x268a9c(0xe9)+_0x44da4c+_0x268a9c(0xb4),_0x1fe468);}}catch(_0x34cfc2){throw _0x34cfc2;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x2cf66a+'/'+_0x2c032c,{'recursive':!![]});}}exports[a105_0x3df788(0xe3)]=retrieveZip;async function retrieveReport(_0x47bfd4,_0x4b435b,_0x2261a9){const _0x8b717b=a105_0x3df788,_0x5e2e82='force:mdapi:retrieve:report\x20'+_0x8b717b(0xb8)+(_0x8b717b(0xde)+_0x47bfd4+'\x20')+(_0x8b717b(0xb9)+_0x2261a9+'/'+_0x47bfd4+'\x20')+(_0x8b717b(0xae)+_0x4b435b['accessToken']);await sfdx_utils_1[_0x8b717b(0xdf)][_0x8b717b(0xd8)](_0x5e2e82)[_0x8b717b(0xbc)](async _0x32e78d=>{const _0x264c10=_0x8b717b;if(sfdx_utils_2['SFDXUtils'][_0x264c10(0xd1)](_0x32e78d))return _0x4b435b[_0x264c10(0xe7)]=await auth_utils_1[_0x264c10(0xb0)]['updateAccessToken'](_0x4b435b['instanceUrl'],_0x4b435b['refreshToken'],_0x4b435b[_0x264c10(0xe1)],_0x4b435b[_0x264c10(0xc3)]),retrieveReport(_0x47bfd4,_0x4b435b,_0x2261a9);throw _0x32e78d;});}