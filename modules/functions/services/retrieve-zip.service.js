const a87_0x1e56ac=a87_0x50bb;(function(_0x1fea71,_0x407423){const _0x52c9cf=a87_0x50bb,_0x271e06=_0x1fea71();while(!![]){try{const _0x52ff60=parseInt(_0x52c9cf(0x115))/0x1+parseInt(_0x52c9cf(0x14b))/0x2+parseInt(_0x52c9cf(0x142))/0x3*(parseInt(_0x52c9cf(0x12c))/0x4)+-parseInt(_0x52c9cf(0x12a))/0x5+parseInt(_0x52c9cf(0x122))/0x6*(parseInt(_0x52c9cf(0x149))/0x7)+parseInt(_0x52c9cf(0x118))/0x8*(-parseInt(_0x52c9cf(0x140))/0x9)+parseInt(_0x52c9cf(0x13b))/0xa*(parseInt(_0x52c9cf(0x146))/0xb);if(_0x52ff60===_0x407423)break;else _0x271e06['push'](_0x271e06['shift']());}catch(_0xe23699){_0x271e06['push'](_0x271e06['shift']());}}}(a87_0x2b20,0x99b3e));const a87_0x33bc22=(function(){let _0x1396c6=!![];return function(_0x1927eb,_0x4e44b4){const _0x3a4e23=_0x1396c6?function(){if(_0x4e44b4){const _0x117387=_0x4e44b4['apply'](_0x1927eb,arguments);return _0x4e44b4=null,_0x117387;}}:function(){};return _0x1396c6=![],_0x3a4e23;};}()),a87_0x1d04ff=a87_0x33bc22(this,function(){const _0x5c48ea=a87_0x50bb;return a87_0x1d04ff['toString']()[_0x5c48ea(0x14a)](_0x5c48ea(0x13a))[_0x5c48ea(0x125)]()[_0x5c48ea(0x112)](a87_0x1d04ff)[_0x5c48ea(0x14a)]('(((.+)+)+)+$');});a87_0x1d04ff();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x543bfd){const _0x5f2bb8=a87_0x50bb;return _0x543bfd&&_0x543bfd[_0x5f2bb8(0x133)]?_0x543bfd:{'default':_0x543bfd};};function a87_0x50bb(_0xd822fd,_0x49640d){const _0x2204a3=a87_0x2b20();return a87_0x50bb=function(_0x1d04ff,_0x33bc22){_0x1d04ff=_0x1d04ff-0x10c;let _0x2b2044=_0x2204a3[_0x1d04ff];return _0x2b2044;},a87_0x50bb(_0xd822fd,_0x49640d);}Object[a87_0x1e56ac(0x117)](exports,a87_0x1e56ac(0x133),{'value':!![]}),exports['retrieveZip']=void 0x0;const constants_1=require(a87_0x1e56ac(0x14d)),promises_1=require(a87_0x1e56ac(0x12f)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),fs_internal_1=require(a87_0x1e56ac(0x124)),sfdx_utils_2=require(a87_0x1e56ac(0x113)),auth_utils_1=require(a87_0x1e56ac(0x10d)),adm_zip_1=__importDefault(require(a87_0x1e56ac(0x11b))),uuid_1=require(a87_0x1e56ac(0x13e)),components_api_1=require(a87_0x1e56ac(0x135)),path_1=require(a87_0x1e56ac(0x10c));async function retrieveZip({backupAsyncId:_0x10cd11,credentials:_0x3f468e,metadataLogId:_0x7a8e11},_0x281a79){const _0x19e31e=a87_0x1e56ac;var _0x17217c;const _0x362053=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x19e31e(0x137)]('.temp/'+_0x362053)&&await(0x0,promises_1[_0x19e31e(0x12b)])(_0x19e31e(0x11e)+_0x362053,{'recursive':!![]});await sfdx_utils_2[_0x19e31e(0x13c)][_0x19e31e(0x11c)](_0x10cd11,_0x362053),await sfdx_utils_2[_0x19e31e(0x13c)][_0x19e31e(0x11d)](_0x3f468e['instanceUrl'],_0x10cd11,_0x362053),await retrieveReport(_0x10cd11,_0x3f468e,_0x362053);const _0x27ba9c=new adm_zip_1[(_0x19e31e(0x11a))](await(0x0,promises_1[_0x19e31e(0x145)])('.temp/'+_0x362053+'/'+_0x10cd11+_0x19e31e(0x120))),_0x2f955e=new adm_zip_1['default']();for(const {entryName:_0x164799}of _0x27ba9c[_0x19e31e(0x116)]()){const _0x5d2230=(_0x17217c=_0x27ba9c[_0x19e31e(0x14e)](_0x164799))===null||_0x17217c===void 0x0?void 0x0:_0x17217c[_0x19e31e(0x126)]();_0x2f955e[_0x19e31e(0x136)]((0x0,path_1[_0x19e31e(0x14c)])(_0x19e31e(0x127),_0x164799),_0x5d2230);}const _0x4d6c29=_0x2f955e[_0x19e31e(0x110)]()[_0x19e31e(0x125)](_0x19e31e(0x139))[_0x19e31e(0x148)];if(_0x4d6c29>=components_api_1[_0x19e31e(0x138)]){const [_0x2abc86,_0x44f86a]=await components_api_1['ComponentsApi'][_0x19e31e(0x119)](_0x2f955e,_0x4d6c29),_0x52361d={'ParentId':_0x7a8e11,'Name':_0x19e31e(0x131),'Description':_0x19e31e(0x131),'Body':_0x2abc86[_0x19e31e(0x110)]()[_0x19e31e(0x125)](_0x19e31e(0x139))};await _0x281a79['post']('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x19e31e(0x132),_0x52361d),_0x52361d[_0x19e31e(0x141)]=_0x44f86a[_0x19e31e(0x110)]()[_0x19e31e(0x125)](_0x19e31e(0x139)),await _0x281a79[_0x19e31e(0x11f)]('/services/data/'+constants_1[_0x19e31e(0x111)]+_0x19e31e(0x132),_0x52361d);}else{const _0x3cc71e={'ParentId':_0x7a8e11,'Name':'BACKUP\x20ZIP','Description':_0x19e31e(0x131),'Body':_0x2f955e[_0x19e31e(0x110)]()[_0x19e31e(0x125)]('base64')};await _0x281a79[_0x19e31e(0x11f)](_0x19e31e(0x10e)+constants_1[_0x19e31e(0x111)]+'/sobjects/Attachment',_0x3cc71e);}}catch(_0x33d940){throw _0x33d940;}finally{await(0x0,promises_1['rm'])(_0x19e31e(0x11e)+_0x362053+'/'+_0x10cd11,{'recursive':!![]});}}exports[a87_0x1e56ac(0x129)]=retrieveZip;async function retrieveReport(_0x35ed0f,_0x2fa882,_0x348888){const _0xa6b82=a87_0x1e56ac,_0x2662a1='force:mdapi:retrieve:report\x20'+_0xa6b82(0x13f)+('--jobid\x20'+_0x35ed0f+'\x20')+(_0xa6b82(0x147)+_0x348888+'/'+_0x35ed0f+'\x20')+(_0xa6b82(0x13d)+_0x2fa882[_0xa6b82(0x10f)]);await sfdx_utils_1[_0xa6b82(0x128)][_0xa6b82(0x12e)](_0xa6b82(0x144),_0x2662a1)[_0xa6b82(0x121)](async _0xfef627=>{const _0x9a9fc=_0xa6b82;if(sfdx_utils_2[_0x9a9fc(0x13c)][_0x9a9fc(0x114)](_0xfef627))return _0x2fa882[_0x9a9fc(0x10f)]=await auth_utils_1[_0x9a9fc(0x130)][_0x9a9fc(0x143)](_0x2fa882[_0x9a9fc(0x134)],_0x2fa882['refreshToken'],_0x2fa882[_0x9a9fc(0x123)],_0x2fa882[_0x9a9fc(0x12d)]),retrieveReport(_0x35ed0f,_0x2fa882,_0x348888);throw _0xfef627;});}function a87_0x2b20(){const _0x2f4c77=['sfdx','readFile','11kSyOZc','-r\x20.temp/','length','28gDyQZn','search','356940dddDez','join','../../../constants','getEntry','path','../utils/auth.utils','/services/data/','accessToken','toBuffer','SALESFORCE_API_VERSION','constructor','../utils/sfdx.utils','isAuthorizationError','716665fSrlGC','getEntries','defineProperty','8reDBvk','splitZip','default','adm-zip','createSFDXProject','setInstanceUrl','.temp/','post','/unpackaged.zip','catch','376566OOCInF','clientId','../../git/internal/fs.internal','toString','getData','src','SFDX','retrieveZip','604820LvTJpQ','mkdir','5276MuVDZn','clientSecret','spawnPromise','fs/promises','AuthUtils','BACKUP\x20ZIP','/sobjects/Attachment','__esModule','instanceUrl','../utils/components-api','addFile','exists','MAX_ZIP_SIZE','base64','(((.+)+)+)+$','5180380hOUmKX','SFDXUtils','-u\x20','uuid','--json\x20','11321514NGYtbO','Body','783YEnhNm','updateAccessToken'];a87_0x2b20=function(){return _0x2f4c77;};return a87_0x2b20();}