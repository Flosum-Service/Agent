const a105_0x2201b5=a105_0xb42b;(function(_0x2c153d,_0x2b5c08){const _0x5e41cd=a105_0xb42b,_0x29f293=_0x2c153d();while(!![]){try{const _0x4f0428=parseInt(_0x5e41cd(0x151))/0x1+-parseInt(_0x5e41cd(0x173))/0x2+parseInt(_0x5e41cd(0x144))/0x3+-parseInt(_0x5e41cd(0x14d))/0x4+-parseInt(_0x5e41cd(0x15c))/0x5+-parseInt(_0x5e41cd(0x156))/0x6+parseInt(_0x5e41cd(0x158))/0x7;if(_0x4f0428===_0x2b5c08)break;else _0x29f293['push'](_0x29f293['shift']());}catch(_0x3e8bac){_0x29f293['push'](_0x29f293['shift']());}}}(a105_0x4c77,0x60e30));const a105_0x4998f9=(function(){let _0x472f23=!![];return function(_0x49cc19,_0x3a01f3){const _0x501f6d=_0x472f23?function(){const _0x2aa43b=a105_0xb42b;if(_0x3a01f3){const _0x51560a=_0x3a01f3[_0x2aa43b(0x15d)](_0x49cc19,arguments);return _0x3a01f3=null,_0x51560a;}}:function(){};return _0x472f23=![],_0x501f6d;};}()),a105_0x21f020=a105_0x4998f9(this,function(){const _0x3e4608=a105_0xb42b;return a105_0x21f020[_0x3e4608(0x157)]()[_0x3e4608(0x160)](_0x3e4608(0x164))['toString']()[_0x3e4608(0x142)](a105_0x21f020)['search'](_0x3e4608(0x164));});a105_0x21f020();function a105_0x4c77(){const _0xf30751=['/services/data/v','length','__esModule','path','3094596erLQih','toString','11916436AWOKCi','accessToken','--jobid\x20','instanceUrl','1971530BjrpEN','apply','BACKUP\x20ZIP','adm-zip','search','../utils/components-api','retrieveZip','src','(((.+)+)+)+$','refreshToken','join','mkdir','../../git/salesforce/utils/sfdx.utils','--json\x20','toBuffer','updateAccessToken','/sobjects/Attachment','catch','post','force:mdapi:retrieve:report\x20','__importDefault','exists','SFDXUtils','1209602BaBlaD','AuthUtils','getEntry','/unpackaged.zip','.temp/','getEntries','constructor','ComponentsApi','245379NhDZnU','clientId','splitZip','MAX_ZIP_SIZE','uuid','base64','isAuthorizationError','default','../utils/auth.utils','254260PsxuOl','defineProperty','createSFDXProject','readFile','191145CvuIlT'];a105_0x4c77=function(){return _0xf30751;};return a105_0x4c77();}'use strict';var __importDefault=this&&this[a105_0x2201b5(0x170)]||function(_0x57c406){const _0x24daf8=a105_0x2201b5;return _0x57c406&&_0x57c406[_0x24daf8(0x154)]?_0x57c406:{'default':_0x57c406};};function a105_0xb42b(_0x1929aa,_0x20e3e9){const _0x3c9531=a105_0x4c77();return a105_0xb42b=function(_0x21f020,_0x4998f9){_0x21f020=_0x21f020-0x140;let _0x4c77e8=_0x3c9531[_0x21f020];return _0x4c77e8;},a105_0xb42b(_0x1929aa,_0x20e3e9);}Object[a105_0x2201b5(0x14e)](exports,a105_0x2201b5(0x154),{'value':!![]}),exports[a105_0x2201b5(0x162)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a105_0x2201b5(0x168)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a105_0x2201b5(0x14c)),adm_zip_1=__importDefault(require(a105_0x2201b5(0x15f))),uuid_1=require(a105_0x2201b5(0x148)),components_api_1=require(a105_0x2201b5(0x161)),path_1=require(a105_0x2201b5(0x155));async function retrieveZip({backupAsyncId:_0x3c9481,credentials:_0x4782d1,metadataLogId:_0x26558b,apiVersion:_0x26799d},_0x42f7b6){const _0x477dcf=a105_0x2201b5;var _0x59e1b4;const _0x1655df=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x477dcf(0x171)]('.temp/'+_0x1655df)&&await(0x0,promises_1[_0x477dcf(0x167)])(_0x477dcf(0x140)+_0x1655df,{'recursive':!![]});await sfdx_utils_2[_0x477dcf(0x172)][_0x477dcf(0x14f)](_0x3c9481,_0x1655df),await sfdx_utils_2[_0x477dcf(0x172)]['setInstanceUrl'](_0x4782d1['instanceUrl'],_0x3c9481,_0x1655df),await retrieveReport(_0x3c9481,_0x4782d1,_0x1655df);const _0x2e720e=new adm_zip_1[(_0x477dcf(0x14b))](await(0x0,promises_1[_0x477dcf(0x150)])(_0x477dcf(0x140)+_0x1655df+'/'+_0x3c9481+_0x477dcf(0x176))),_0x1e3604=new adm_zip_1[(_0x477dcf(0x14b))]();for(const {entryName:_0x1ec388}of _0x2e720e[_0x477dcf(0x141)]()){const _0x7739c0=(_0x59e1b4=_0x2e720e[_0x477dcf(0x175)](_0x1ec388))===null||_0x59e1b4===void 0x0?void 0x0:_0x59e1b4['getData']();_0x1e3604['addFile']((0x0,path_1[_0x477dcf(0x166)])(_0x477dcf(0x163),_0x1ec388),_0x7739c0);}const _0x1cdd04=_0x1e3604[_0x477dcf(0x16a)]()[_0x477dcf(0x157)](_0x477dcf(0x149))[_0x477dcf(0x153)];if(_0x1cdd04>=components_api_1[_0x477dcf(0x147)]){const [_0x1af062,_0x304bcb]=await components_api_1[_0x477dcf(0x143)][_0x477dcf(0x146)](_0x1e3604,_0x1cdd04),_0x377a46={'ParentId':_0x26558b,'Name':'BACKUP\x20ZIP','Description':_0x477dcf(0x15e),'Body':_0x1af062[_0x477dcf(0x16a)]()[_0x477dcf(0x157)]('base64')};await _0x42f7b6['post'](_0x477dcf(0x152)+_0x26799d+_0x477dcf(0x16c),_0x377a46),_0x377a46['Body']=_0x304bcb['toBuffer']()['toString'](_0x477dcf(0x149)),await _0x42f7b6[_0x477dcf(0x16e)]('/services/data/v'+_0x26799d+_0x477dcf(0x16c),_0x377a46);}else{const _0xf2f4de={'ParentId':_0x26558b,'Name':_0x477dcf(0x15e),'Description':_0x477dcf(0x15e),'Body':_0x1e3604['toBuffer']()[_0x477dcf(0x157)](_0x477dcf(0x149))};await _0x42f7b6[_0x477dcf(0x16e)](_0x477dcf(0x152)+_0x26799d+_0x477dcf(0x16c),_0xf2f4de);}}catch(_0x35942b){throw _0x35942b;}finally{await(0x0,promises_1['rm'])(_0x477dcf(0x140)+_0x1655df+'/'+_0x3c9481,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x4e4b7a,_0xabddd9,_0x34edce){const _0x2d4451=a105_0x2201b5,_0x2e960c=_0x2d4451(0x16f)+_0x2d4451(0x169)+(_0x2d4451(0x15a)+_0x4e4b7a+'\x20')+('-r\x20.temp/'+_0x34edce+'/'+_0x4e4b7a+'\x20')+('-u\x20'+_0xabddd9[_0x2d4451(0x159)]);await sfdx_utils_1['SFDX']['spawn'](_0x2e960c)[_0x2d4451(0x16d)](async _0x169a57=>{const _0x4524d8=_0x2d4451;if(sfdx_utils_2[_0x4524d8(0x172)][_0x4524d8(0x14a)](_0x169a57))return _0xabddd9[_0x4524d8(0x159)]=await auth_utils_1[_0x4524d8(0x174)][_0x4524d8(0x16b)](_0xabddd9[_0x4524d8(0x15b)],_0xabddd9[_0x4524d8(0x165)],_0xabddd9[_0x4524d8(0x145)],_0xabddd9['clientSecret']),retrieveReport(_0x4e4b7a,_0xabddd9,_0x34edce);throw _0x169a57;});}