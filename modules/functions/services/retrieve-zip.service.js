const a103_0x2fe472=a103_0xd270;(function(_0x12d0b3,_0x18e2dc){const _0x4f3a8a=a103_0xd270,_0x41f914=_0x12d0b3();while(!![]){try{const _0x237edb=parseInt(_0x4f3a8a(0x89))/0x1+-parseInt(_0x4f3a8a(0xa1))/0x2*(-parseInt(_0x4f3a8a(0x91))/0x3)+parseInt(_0x4f3a8a(0xac))/0x4*(-parseInt(_0x4f3a8a(0xa0))/0x5)+-parseInt(_0x4f3a8a(0xc1))/0x6*(parseInt(_0x4f3a8a(0x9a))/0x7)+-parseInt(_0x4f3a8a(0xb6))/0x8+-parseInt(_0x4f3a8a(0xae))/0x9*(-parseInt(_0x4f3a8a(0xb4))/0xa)+parseInt(_0x4f3a8a(0x9c))/0xb;if(_0x237edb===_0x18e2dc)break;else _0x41f914['push'](_0x41f914['shift']());}catch(_0x47fb21){_0x41f914['push'](_0x41f914['shift']());}}}(a103_0x4e17,0x61112));function a103_0xd270(_0xadc6bc,_0x4bc8f5){const _0x353226=a103_0x4e17();return a103_0xd270=function(_0x1767f8,_0x2187f0){_0x1767f8=_0x1767f8-0x86;let _0x4e1794=_0x353226[_0x1767f8];return _0x4e1794;},a103_0xd270(_0xadc6bc,_0x4bc8f5);}const a103_0x2187f0=(function(){let _0x23656d=!![];return function(_0x55de66,_0x495710){const _0x21dab5=_0x23656d?function(){const _0x526f20=a103_0xd270;if(_0x495710){const _0x429a4c=_0x495710[_0x526f20(0x93)](_0x55de66,arguments);return _0x495710=null,_0x429a4c;}}:function(){};return _0x23656d=![],_0x21dab5;};}()),a103_0x1767f8=a103_0x2187f0(this,function(){const _0x5b95d5=a103_0xd270;return a103_0x1767f8['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x5b95d5(0x96)](a103_0x1767f8)[_0x5b95d5(0x95)]('(((.+)+)+)+$');});a103_0x1767f8();'use strict';var __importDefault=this&&this[a103_0x2fe472(0xaf)]||function(_0x11738c){const _0x4deffd=a103_0x2fe472;return _0x11738c&&_0x11738c[_0x4deffd(0xb5)]?_0x11738c:{'default':_0x11738c};};Object['defineProperty'](exports,a103_0x2fe472(0xb5),{'value':!![]}),exports[a103_0x2fe472(0xa8)]=void 0x0;const promises_1=require(a103_0x2fe472(0x90)),sfdx_utils_1=require(a103_0x2fe472(0x87)),fs_internal_1=require(a103_0x2fe472(0xaa)),sfdx_utils_2=require(a103_0x2fe472(0xb1)),auth_utils_1=require(a103_0x2fe472(0x9e)),adm_zip_1=__importDefault(require(a103_0x2fe472(0x8d))),uuid_1=require(a103_0x2fe472(0xa7)),components_api_1=require(a103_0x2fe472(0xbf)),path_1=require(a103_0x2fe472(0x86));async function retrieveZip({backupAsyncId:_0x411fab,credentials:_0x756396,metadataLogId:_0x5a374f,apiVersion:_0xa719de},_0x37ac6d){const _0xef6419=a103_0x2fe472;var _0x527c94;const _0x2b787b=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0xef6419(0x97)](_0xef6419(0x94)+_0x2b787b)&&await(0x0,promises_1['mkdir'])(_0xef6419(0x94)+_0x2b787b,{'recursive':!![]});await sfdx_utils_2[_0xef6419(0xa9)][_0xef6419(0xb0)](_0x411fab,_0x2b787b),await sfdx_utils_2[_0xef6419(0xa9)][_0xef6419(0x8a)](_0x756396[_0xef6419(0xa6)],_0x411fab,_0x2b787b),await retrieveReport(_0x411fab,_0x756396,_0x2b787b);const _0x23d555=new adm_zip_1[(_0xef6419(0x8f))](await(0x0,promises_1['readFile'])('.temp/'+_0x2b787b+'/'+_0x411fab+_0xef6419(0xad))),_0x5d76c2=new adm_zip_1['default']();for(const {entryName:_0x1b5696}of _0x23d555[_0xef6419(0x8e)]()){const _0x247a96=(_0x527c94=_0x23d555[_0xef6419(0x99)](_0x1b5696))===null||_0x527c94===void 0x0?void 0x0:_0x527c94['getData']();_0x5d76c2[_0xef6419(0xb2)]((0x0,path_1[_0xef6419(0xbc)])(_0xef6419(0xbb),_0x1b5696),_0x247a96);}const _0x39272b=_0x5d76c2['toBuffer']()[_0xef6419(0xa3)](_0xef6419(0xb9))[_0xef6419(0xb7)];if(_0x39272b>=components_api_1['MAX_ZIP_SIZE']){const [_0x2f2a96,_0x55fbcd]=await components_api_1[_0xef6419(0x8b)][_0xef6419(0x88)](_0x5d76c2,_0x39272b),_0xa53e44={'ParentId':_0x5a374f,'Name':_0xef6419(0x98),'Description':'BACKUP\x20ZIP','Body':_0x2f2a96[_0xef6419(0x9f)]()[_0xef6419(0xa3)]('base64')};await _0x37ac6d[_0xef6419(0xa2)](_0xef6419(0xa4)+_0xa719de+_0xef6419(0x8c),_0xa53e44),_0xa53e44[_0xef6419(0xbe)]=_0x55fbcd[_0xef6419(0x9f)]()[_0xef6419(0xa3)]('base64'),await _0x37ac6d[_0xef6419(0xa2)]('/services/data/v'+_0xa719de+'/sobjects/Attachment',_0xa53e44);}else{const _0x4911c9={'ParentId':_0x5a374f,'Name':_0xef6419(0x98),'Description':'BACKUP\x20ZIP','Body':_0x5d76c2[_0xef6419(0x9f)]()[_0xef6419(0xa3)]('base64')};await _0x37ac6d[_0xef6419(0xa2)]('/services/data/v'+_0xa719de+_0xef6419(0x8c),_0x4911c9);}}catch(_0x1bb801){throw _0x1bb801;}finally{await(0x0,promises_1['rm'])(_0xef6419(0x94)+_0x2b787b+'/'+_0x411fab,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;function a103_0x4e17(){const _0xfdad34=['SFDX','3818551aDbrOa','--jobid\x20','../utils/auth.utils','toBuffer','5IGYlTQ','22598rAARWd','post','toString','/services/data/v','--json\x20','instanceUrl','uuid','retrieveZip','SFDXUtils','../../git/internal/fs.internal','clientSecret','2369912SBBotN','/unpackaged.zip','9ibCVIN','__importDefault','createSFDXProject','../utils/sfdx.utils','addFile','spawn','6645410otHenv','__esModule','2236560ScfHAP','length','isAuthorizationError','base64','-r\x20.temp/','src','join','refreshToken','Body','../utils/components-api','accessToken','11202IdkdHI','path','../../git/salesforce/utils/sfdx.utils','splitZip','142804ZpYAkI','setInstanceUrl','ComponentsApi','/sobjects/Attachment','adm-zip','getEntries','default','fs/promises','39IIgfwK','clientId','apply','.temp/','search','constructor','exists','BACKUP\x20ZIP','getEntry','119KszPNy'];a103_0x4e17=function(){return _0xfdad34;};return a103_0x4e17();}async function retrieveReport(_0x5ba492,_0xc6d5a2,_0x56c3ab){const _0x4f2ac8=a103_0x2fe472,_0x4eec07='force:mdapi:retrieve:report\x20'+_0x4f2ac8(0xa5)+(_0x4f2ac8(0x9d)+_0x5ba492+'\x20')+(_0x4f2ac8(0xba)+_0x56c3ab+'/'+_0x5ba492+'\x20')+('-u\x20'+_0xc6d5a2[_0x4f2ac8(0xc0)]);await sfdx_utils_1[_0x4f2ac8(0x9b)][_0x4f2ac8(0xb3)](_0x4eec07)['catch'](async _0x2f1ac2=>{const _0xa99116=_0x4f2ac8;if(sfdx_utils_2[_0xa99116(0xa9)][_0xa99116(0xb8)](_0x2f1ac2))return _0xc6d5a2[_0xa99116(0xc0)]=await auth_utils_1['AuthUtils']['updateAccessToken'](_0xc6d5a2[_0xa99116(0xa6)],_0xc6d5a2[_0xa99116(0xbd)],_0xc6d5a2[_0xa99116(0x92)],_0xc6d5a2[_0xa99116(0xab)]),retrieveReport(_0x5ba492,_0xc6d5a2,_0x56c3ab);throw _0x2f1ac2;});}