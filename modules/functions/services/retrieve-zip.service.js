const a88_0x5b0200=a88_0x37e3;(function(_0x2bd4b6,_0x4e9e03){const _0x38c896=a88_0x37e3,_0x2f553c=_0x2bd4b6();while(!![]){try{const _0x13e246=parseInt(_0x38c896(0x1b7))/0x1*(-parseInt(_0x38c896(0x19d))/0x2)+-parseInt(_0x38c896(0x1c8))/0x3+-parseInt(_0x38c896(0x1ae))/0x4*(parseInt(_0x38c896(0x1d1))/0x5)+-parseInt(_0x38c896(0x1af))/0x6*(parseInt(_0x38c896(0x1ce))/0x7)+parseInt(_0x38c896(0x19c))/0x8*(parseInt(_0x38c896(0x1ba))/0x9)+-parseInt(_0x38c896(0x199))/0xa+parseInt(_0x38c896(0x1c7))/0xb;if(_0x13e246===_0x4e9e03)break;else _0x2f553c['push'](_0x2f553c['shift']());}catch(_0x150633){_0x2f553c['push'](_0x2f553c['shift']());}}}(a88_0x2306,0x1beda));const a88_0x13d73a=(function(){let _0x1eec15=!![];return function(_0x1154b3,_0x450ac8){const _0x3658ca=_0x1eec15?function(){const _0x3f3c3a=a88_0x37e3;if(_0x450ac8){const _0x5bab33=_0x450ac8[_0x3f3c3a(0x1d0)](_0x1154b3,arguments);return _0x450ac8=null,_0x5bab33;}}:function(){};return _0x1eec15=![],_0x3658ca;};}()),a88_0x20b9bb=a88_0x13d73a(this,function(){const _0x25c16d=a88_0x37e3;return a88_0x20b9bb[_0x25c16d(0x1c0)]()[_0x25c16d(0x1ca)](_0x25c16d(0x1a9))[_0x25c16d(0x1c0)]()[_0x25c16d(0x1a0)](a88_0x20b9bb)['search'](_0x25c16d(0x1a9));});a88_0x20b9bb();'use strict';var __importDefault=this&&this[a88_0x5b0200(0x1b6)]||function(_0x2aa303){return _0x2aa303&&_0x2aa303['__esModule']?_0x2aa303:{'default':_0x2aa303};};function a88_0x2306(){const _0x4cd2c0=['20236kGiPZL','6kfEMWp','-u\x20','instanceUrl','addFile','getEntries','uuid','length','__importDefault','1mxLReL','refreshToken','default','88785bagYoH','../../git/salesforce/utils/sfdx.utils','__esModule','force:mdapi:retrieve:report\x20','clientId','-r\x20.temp/','toString','spawn','--jobid\x20','base64','post','BACKUP\x20ZIP','.temp/','6719504VUffBe','310986cpLxOZ','fs/promises','search','catch','/services/data/v','defineProperty','1201326XIbhLJ','SFDX','apply','145FmbRmW','../../git/internal/fs.internal','--json\x20','896650RLBjQa','isAuthorizationError','../utils/components-api','40ZYJbCX','68278KOWQqC','Body','/sobjects/Attachment','constructor','/unpackaged.zip','path','SFDXUtils','exists','join','retrieveZip','setInstanceUrl','toBuffer','(((.+)+)+)+$','accessToken','createSFDXProject','ComponentsApi','MAX_ZIP_SIZE'];a88_0x2306=function(){return _0x4cd2c0;};return a88_0x2306();}function a88_0x37e3(_0x3f1354,_0x26edeb){const _0x2429c7=a88_0x2306();return a88_0x37e3=function(_0x20b9bb,_0x13d73a){_0x20b9bb=_0x20b9bb-0x197;let _0x2306ca=_0x2429c7[_0x20b9bb];return _0x2306ca;},a88_0x37e3(_0x3f1354,_0x26edeb);}Object[a88_0x5b0200(0x1cd)](exports,a88_0x5b0200(0x1bc),{'value':!![]}),exports[a88_0x5b0200(0x1a6)]=void 0x0;const promises_1=require(a88_0x5b0200(0x1c9)),sfdx_utils_1=require(a88_0x5b0200(0x1bb)),fs_internal_1=require(a88_0x5b0200(0x197)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a88_0x5b0200(0x1b4)),components_api_1=require(a88_0x5b0200(0x19b)),path_1=require(a88_0x5b0200(0x1a2));async function retrieveZip({backupAsyncId:_0xbfb114,credentials:_0x4ad6ec,metadataLogId:_0x1b3255,apiVersion:_0x108f56},_0x5cd0d2){const _0x26a93b=a88_0x5b0200;var _0x31554d;const _0x35fd6d=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x26a93b(0x1a4)](_0x26a93b(0x1c6)+_0x35fd6d)&&await(0x0,promises_1['mkdir'])(_0x26a93b(0x1c6)+_0x35fd6d,{'recursive':!![]});await sfdx_utils_2[_0x26a93b(0x1a3)][_0x26a93b(0x1ab)](_0xbfb114,_0x35fd6d),await sfdx_utils_2[_0x26a93b(0x1a3)][_0x26a93b(0x1a7)](_0x4ad6ec['instanceUrl'],_0xbfb114,_0x35fd6d),await retrieveReport(_0xbfb114,_0x4ad6ec,_0x35fd6d);const _0x17c1e0=new adm_zip_1[(_0x26a93b(0x1b9))](await(0x0,promises_1['readFile'])('.temp/'+_0x35fd6d+'/'+_0xbfb114+_0x26a93b(0x1a1))),_0x4b4be0=new adm_zip_1['default']();for(const {entryName:_0x3ed05a}of _0x17c1e0[_0x26a93b(0x1b3)]()){const _0x5003a7=(_0x31554d=_0x17c1e0['getEntry'](_0x3ed05a))===null||_0x31554d===void 0x0?void 0x0:_0x31554d['getData']();_0x4b4be0[_0x26a93b(0x1b2)]((0x0,path_1[_0x26a93b(0x1a5)])('src',_0x3ed05a),_0x5003a7);}const _0x41ff7a=_0x4b4be0['toBuffer']()[_0x26a93b(0x1c0)](_0x26a93b(0x1c3))[_0x26a93b(0x1b5)];if(_0x41ff7a>=components_api_1[_0x26a93b(0x1ad)]){const [_0x118afc,_0x301313]=await components_api_1[_0x26a93b(0x1ac)]['splitZip'](_0x4b4be0,_0x41ff7a),_0x5b5b71={'ParentId':_0x1b3255,'Name':_0x26a93b(0x1c5),'Description':'BACKUP\x20ZIP','Body':_0x118afc[_0x26a93b(0x1a8)]()['toString'](_0x26a93b(0x1c3))};await _0x5cd0d2[_0x26a93b(0x1c4)](_0x26a93b(0x1cc)+_0x108f56+_0x26a93b(0x19f),_0x5b5b71),_0x5b5b71[_0x26a93b(0x19e)]=_0x301313[_0x26a93b(0x1a8)]()[_0x26a93b(0x1c0)]('base64'),await _0x5cd0d2[_0x26a93b(0x1c4)](_0x26a93b(0x1cc)+_0x108f56+_0x26a93b(0x19f),_0x5b5b71);}else{const _0x4d7020={'ParentId':_0x1b3255,'Name':_0x26a93b(0x1c5),'Description':'BACKUP\x20ZIP','Body':_0x4b4be0[_0x26a93b(0x1a8)]()[_0x26a93b(0x1c0)](_0x26a93b(0x1c3))};await _0x5cd0d2['post'](_0x26a93b(0x1cc)+_0x108f56+'/sobjects/Attachment',_0x4d7020);}}catch(_0x38ba33){throw _0x38ba33;}finally{await(0x0,promises_1['rm'])(_0x26a93b(0x1c6)+_0x35fd6d+'/'+_0xbfb114,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x47f155,_0xe906fd,_0xf39d06){const _0x3fe0a5=a88_0x5b0200,_0x24841c=_0x3fe0a5(0x1bd)+_0x3fe0a5(0x198)+(_0x3fe0a5(0x1c2)+_0x47f155+'\x20')+(_0x3fe0a5(0x1bf)+_0xf39d06+'/'+_0x47f155+'\x20')+(_0x3fe0a5(0x1b0)+_0xe906fd[_0x3fe0a5(0x1aa)]);await sfdx_utils_1[_0x3fe0a5(0x1cf)][_0x3fe0a5(0x1c1)](_0x24841c)[_0x3fe0a5(0x1cb)](async _0x576cc7=>{const _0x1b34ff=_0x3fe0a5;if(sfdx_utils_2[_0x1b34ff(0x1a3)][_0x1b34ff(0x19a)](_0x576cc7))return _0xe906fd['accessToken']=await auth_utils_1['AuthUtils']['updateAccessToken'](_0xe906fd[_0x1b34ff(0x1b1)],_0xe906fd[_0x1b34ff(0x1b8)],_0xe906fd[_0x1b34ff(0x1be)],_0xe906fd['clientSecret']),retrieveReport(_0x47f155,_0xe906fd,_0xf39d06);throw _0x576cc7;});}