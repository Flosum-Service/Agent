function a87_0x1b9a(){const _0x141a6f=['retrieveZip','mkdir','path','474439jWpNZW','25pjICdw','3626228pQkwZS','SALESFORCE_API_VERSION','/sobjects/Attachment','toString','force:mdapi:retrieve:report\x20','search','exists','__esModule','SFDX','.temp/','3077916yleYDU','addFile','setInstanceUrl','3qvBYhI','toBuffer','adm-zip','refreshToken','../../git/salesforce/utils/sfdx.utils','--jobid\x20','join','base64','catch','154956YQEUar','/services/data/','accessToken','136EHqfOF','spawn','post','8046276IYcfgg','updateAccessToken','length','instanceUrl','7276032mySyBQ','src','(((.+)+)+)+$','/unpackaged.zip','isAuthorizationError','AuthUtils','11skGPwB','MAX_ZIP_SIZE','readFile','../utils/components-api','Body','SFDXUtils','apply','10SbPAWZ','getData','clientSecret','default','../utils/auth.utils','1735638SovFfu','BACKUP\x20ZIP'];a87_0x1b9a=function(){return _0x141a6f;};return a87_0x1b9a();}function a87_0xef62(_0x1dbfe5,_0x445693){const _0x1937f0=a87_0x1b9a();return a87_0xef62=function(_0x3e7777,_0x3ca83d){_0x3e7777=_0x3e7777-0x11a;let _0x1b9a48=_0x1937f0[_0x3e7777];return _0x1b9a48;},a87_0xef62(_0x1dbfe5,_0x445693);}const a87_0x4732ba=a87_0xef62;(function(_0x1dea4c,_0x5b305d){const _0x13861b=a87_0xef62,_0x5ebeab=_0x1dea4c();while(!![]){try{const _0x5a0d66=parseInt(_0x13861b(0x143))/0x1+parseInt(_0x13861b(0x137))/0x2+-parseInt(_0x13861b(0x13a))/0x3*(-parseInt(_0x13861b(0x12d))/0x4)+-parseInt(_0x13861b(0x12c))/0x5*(parseInt(_0x13861b(0x126))/0x6)+-parseInt(_0x13861b(0x12b))/0x7*(-parseInt(_0x13861b(0x146))/0x8)+parseInt(_0x13861b(0x14d))/0x9*(-parseInt(_0x13861b(0x121))/0xa)+parseInt(_0x13861b(0x11a))/0xb*(-parseInt(_0x13861b(0x149))/0xc);if(_0x5a0d66===_0x5b305d)break;else _0x5ebeab['push'](_0x5ebeab['shift']());}catch(_0x2b7786){_0x5ebeab['push'](_0x5ebeab['shift']());}}}(a87_0x1b9a,0xc9fd0));const a87_0x3ca83d=(function(){let _0x29c8c4=!![];return function(_0x1cd7b7,_0x4e7986){const _0x35a5e7=_0x29c8c4?function(){const _0x31bf81=a87_0xef62;if(_0x4e7986){const _0x5875ce=_0x4e7986[_0x31bf81(0x120)](_0x1cd7b7,arguments);return _0x4e7986=null,_0x5875ce;}}:function(){};return _0x29c8c4=![],_0x35a5e7;};}()),a87_0x3e7777=a87_0x3ca83d(this,function(){const _0x7f3686=a87_0xef62;return a87_0x3e7777['toString']()[_0x7f3686(0x132)](_0x7f3686(0x14f))[_0x7f3686(0x130)]()['constructor'](a87_0x3e7777)['search'](_0x7f3686(0x14f));});a87_0x3e7777();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xdda1fe){const _0x42dd7a=a87_0xef62;return _0xdda1fe&&_0xdda1fe[_0x42dd7a(0x134)]?_0xdda1fe:{'default':_0xdda1fe};};Object['defineProperty'](exports,a87_0x4732ba(0x134),{'value':!![]}),exports[a87_0x4732ba(0x128)]=void 0x0;const constants_1=require('../../../constants'),promises_1=require('fs/promises'),sfdx_utils_1=require(a87_0x4732ba(0x13e)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a87_0x4732ba(0x125)),adm_zip_1=__importDefault(require(a87_0x4732ba(0x13c))),uuid_1=require('uuid'),components_api_1=require(a87_0x4732ba(0x11d)),path_1=require(a87_0x4732ba(0x12a));async function retrieveZip({backupAsyncId:_0xe7bf33,credentials:_0x13d4db,metadataLogId:_0x55ef01},_0x3b4dff){const _0x22e061=a87_0x4732ba;var _0x5750b3;const _0x2ccf89=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x22e061(0x133)](_0x22e061(0x136)+_0x2ccf89)&&await(0x0,promises_1[_0x22e061(0x129)])(_0x22e061(0x136)+_0x2ccf89,{'recursive':!![]});await sfdx_utils_2[_0x22e061(0x11f)]['createSFDXProject'](_0xe7bf33,_0x2ccf89),await sfdx_utils_2[_0x22e061(0x11f)][_0x22e061(0x139)](_0x13d4db[_0x22e061(0x14c)],_0xe7bf33,_0x2ccf89),await retrieveReport(_0xe7bf33,_0x13d4db,_0x2ccf89);const _0x490eb3=new adm_zip_1[(_0x22e061(0x124))](await(0x0,promises_1[_0x22e061(0x11c)])(_0x22e061(0x136)+_0x2ccf89+'/'+_0xe7bf33+_0x22e061(0x150))),_0x45f6d2=new adm_zip_1['default']();for(const {entryName:_0x346fae}of _0x490eb3['getEntries']()){const _0x2bdfa6=(_0x5750b3=_0x490eb3['getEntry'](_0x346fae))===null||_0x5750b3===void 0x0?void 0x0:_0x5750b3[_0x22e061(0x122)]();_0x45f6d2[_0x22e061(0x138)]((0x0,path_1[_0x22e061(0x140)])(_0x22e061(0x14e),_0x346fae),_0x2bdfa6);}const _0x45b558=_0x45f6d2[_0x22e061(0x13b)]()[_0x22e061(0x130)](_0x22e061(0x141))[_0x22e061(0x14b)];if(_0x45b558>=components_api_1[_0x22e061(0x11b)]){const [_0x5bf679,_0x22370f]=await components_api_1['ComponentsApi']['splitZip'](_0x45f6d2,_0x45b558),_0x5af999={'ParentId':_0x55ef01,'Name':_0x22e061(0x127),'Description':_0x22e061(0x127),'Body':_0x5bf679[_0x22e061(0x13b)]()[_0x22e061(0x130)](_0x22e061(0x141))};await _0x3b4dff['post'](_0x22e061(0x144)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x5af999),_0x5af999[_0x22e061(0x11e)]=_0x22370f[_0x22e061(0x13b)]()['toString']('base64'),await _0x3b4dff['post'](_0x22e061(0x144)+constants_1[_0x22e061(0x12e)]+_0x22e061(0x12f),_0x5af999);}else{const _0x56b915={'ParentId':_0x55ef01,'Name':_0x22e061(0x127),'Description':_0x22e061(0x127),'Body':_0x45f6d2[_0x22e061(0x13b)]()[_0x22e061(0x130)](_0x22e061(0x141))};await _0x3b4dff[_0x22e061(0x148)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x56b915);}}catch(_0x14bdcf){throw _0x14bdcf;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x2ccf89+'/'+_0xe7bf33,{'recursive':!![]});}}exports[a87_0x4732ba(0x128)]=retrieveZip;async function retrieveReport(_0x2d4d48,_0x390d7b,_0xc61197){const _0x54a4fa=a87_0x4732ba,_0x27e928=_0x54a4fa(0x131)+'--json\x20'+(_0x54a4fa(0x13f)+_0x2d4d48+'\x20')+('-r\x20.temp/'+_0xc61197+'/'+_0x2d4d48+'\x20')+('-u\x20'+_0x390d7b[_0x54a4fa(0x145)]);await sfdx_utils_1[_0x54a4fa(0x135)][_0x54a4fa(0x147)](_0x27e928)[_0x54a4fa(0x142)](async _0x5d436e=>{const _0x49394a=_0x54a4fa;if(sfdx_utils_2[_0x49394a(0x11f)][_0x49394a(0x151)](_0x5d436e))return _0x390d7b[_0x49394a(0x145)]=await auth_utils_1[_0x49394a(0x152)][_0x49394a(0x14a)](_0x390d7b[_0x49394a(0x14c)],_0x390d7b[_0x49394a(0x13d)],_0x390d7b['clientId'],_0x390d7b[_0x49394a(0x123)]),retrieveReport(_0x2d4d48,_0x390d7b,_0xc61197);throw _0x5d436e;});}