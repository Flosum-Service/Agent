const a86_0x1f210d=a86_0xbf22;function a86_0xbf22(_0x28ce89,_0x47396d){const _0xec7e5b=a86_0x7cea();return a86_0xbf22=function(_0x4e5ecb,_0x452184){_0x4e5ecb=_0x4e5ecb-0x1c2;let _0x7ceab0=_0xec7e5b[_0x4e5ecb];return _0x7ceab0;},a86_0xbf22(_0x28ce89,_0x47396d);}(function(_0xe78749,_0x38ed9f){const _0x2a8e4c=a86_0xbf22,_0x416849=_0xe78749();while(!![]){try{const _0x2e4ec9=parseInt(_0x2a8e4c(0x1c8))/0x1*(parseInt(_0x2a8e4c(0x1fc))/0x2)+parseInt(_0x2a8e4c(0x1e3))/0x3+parseInt(_0x2a8e4c(0x1f6))/0x4+parseInt(_0x2a8e4c(0x1e9))/0x5+parseInt(_0x2a8e4c(0x1db))/0x6+parseInt(_0x2a8e4c(0x1cf))/0x7*(parseInt(_0x2a8e4c(0x1c2))/0x8)+parseInt(_0x2a8e4c(0x1dd))/0x9*(-parseInt(_0x2a8e4c(0x1ce))/0xa);if(_0x2e4ec9===_0x38ed9f)break;else _0x416849['push'](_0x416849['shift']());}catch(_0x4ba03a){_0x416849['push'](_0x416849['shift']());}}}(a86_0x7cea,0x7a14e));const a86_0x452184=(function(){let _0x186b0a=!![];return function(_0xe4d1b1,_0x29510e){const _0x137f2e=_0x186b0a?function(){if(_0x29510e){const _0x1d3027=_0x29510e['apply'](_0xe4d1b1,arguments);return _0x29510e=null,_0x1d3027;}}:function(){};return _0x186b0a=![],_0x137f2e;};}()),a86_0x4e5ecb=a86_0x452184(this,function(){const _0x5be88e=a86_0xbf22;return a86_0x4e5ecb[_0x5be88e(0x1f2)]()[_0x5be88e(0x1f0)](_0x5be88e(0x1e4))[_0x5be88e(0x1f2)]()['constructor'](a86_0x4e5ecb)[_0x5be88e(0x1f0)](_0x5be88e(0x1e4));});a86_0x4e5ecb();'use strict';function a86_0x7cea(){const _0x44c24a=['Body','base64','3604194qtWotp','retrieveZip','882KJTFJq','AuthUtils','src','createSFDXProject','/services/data/','default','2592714omFdmc','(((.+)+)+)+$','../../git/internal/fs.internal','refreshToken','defineProperty','SFDXUtils','4073235zztSBL','updateAccessToken','--jobid\x20','fs/promises','getData','readFile','BACKUP\x20ZIP','search','../../git/salesforce/utils/sfdx.utils','toString','clientSecret','accessToken','.temp/','1702040cChEUv','--json\x20','-r\x20.temp/','/unpackaged.zip','getEntry','join','10orQqvX','SFDX','ComponentsApi','length','../utils/auth.utils','mkdir','1416BDeeGe','catch','exists','SALESFORCE_API_VERSION','instanceUrl','toBuffer','197605XFLcfS','adm-zip','/sobjects/Attachment','force:mdapi:retrieve:report\x20','../../../constants','splitZip','341230wJFwrg','5971qwPJoc','getEntries','MAX_ZIP_SIZE','isAuthorizationError','uuid','spawnPromise','post','__importDefault','clientId','setInstanceUrl'];a86_0x7cea=function(){return _0x44c24a;};return a86_0x7cea();}var __importDefault=this&&this[a86_0x1f210d(0x1d6)]||function(_0xe1388f){return _0xe1388f&&_0xe1388f['__esModule']?_0xe1388f:{'default':_0xe1388f};};Object[a86_0x1f210d(0x1e7)](exports,'__esModule',{'value':!![]}),exports[a86_0x1f210d(0x1dc)]=void 0x0;const constants_1=require(a86_0x1f210d(0x1cc)),promises_1=require(a86_0x1f210d(0x1ec)),sfdx_utils_1=require(a86_0x1f210d(0x1f1)),fs_internal_1=require(a86_0x1f210d(0x1e5)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a86_0x1f210d(0x200)),adm_zip_1=__importDefault(require(a86_0x1f210d(0x1c9))),uuid_1=require(a86_0x1f210d(0x1d3)),components_api_1=require('../utils/components-api'),path_1=require('path');async function retrieveZip({backupAsyncId:_0x5ccd07,credentials:_0x5a8433,metadataLogId:_0x4db102},_0x28330b){const _0x44cb57=a86_0x1f210d;var _0x146e0f;const _0x2d3a51=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x44cb57(0x1c4)]('.temp/'+_0x2d3a51)&&await(0x0,promises_1[_0x44cb57(0x201)])('.temp/'+_0x2d3a51,{'recursive':!![]});await sfdx_utils_2[_0x44cb57(0x1e8)][_0x44cb57(0x1e0)](_0x5ccd07,_0x2d3a51),await sfdx_utils_2['SFDXUtils'][_0x44cb57(0x1d8)](_0x5a8433[_0x44cb57(0x1c6)],_0x5ccd07,_0x2d3a51),await retrieveReport(_0x5ccd07,_0x5a8433,_0x2d3a51);const _0x274121=new adm_zip_1[(_0x44cb57(0x1e2))](await(0x0,promises_1[_0x44cb57(0x1ee)])(_0x44cb57(0x1f5)+_0x2d3a51+'/'+_0x5ccd07+_0x44cb57(0x1f9))),_0x590c2f=new adm_zip_1['default']();for(const {entryName:_0x14dba8}of _0x274121[_0x44cb57(0x1d0)]()){const _0x9435e0=(_0x146e0f=_0x274121[_0x44cb57(0x1fa)](_0x14dba8))===null||_0x146e0f===void 0x0?void 0x0:_0x146e0f[_0x44cb57(0x1ed)]();_0x590c2f['addFile']((0x0,path_1[_0x44cb57(0x1fb)])(_0x44cb57(0x1df),_0x14dba8),_0x9435e0);}const _0x1e1154=_0x590c2f['toBuffer']()[_0x44cb57(0x1f2)](_0x44cb57(0x1da))[_0x44cb57(0x1ff)];if(_0x1e1154>=components_api_1[_0x44cb57(0x1d1)]){const [_0xc78a1e,_0x3a0fae]=await components_api_1[_0x44cb57(0x1fe)][_0x44cb57(0x1cd)](_0x590c2f,_0x1e1154),_0xd093a9={'ParentId':_0x4db102,'Name':'BACKUP\x20ZIP','Description':_0x44cb57(0x1ef),'Body':_0xc78a1e[_0x44cb57(0x1c7)]()[_0x44cb57(0x1f2)](_0x44cb57(0x1da))};await _0x28330b[_0x44cb57(0x1d5)](_0x44cb57(0x1e1)+constants_1[_0x44cb57(0x1c5)]+_0x44cb57(0x1ca),_0xd093a9),_0xd093a9[_0x44cb57(0x1d9)]=_0x3a0fae[_0x44cb57(0x1c7)]()[_0x44cb57(0x1f2)]('base64'),await _0x28330b[_0x44cb57(0x1d5)](_0x44cb57(0x1e1)+constants_1[_0x44cb57(0x1c5)]+_0x44cb57(0x1ca),_0xd093a9);}else{const _0x57764b={'ParentId':_0x4db102,'Name':_0x44cb57(0x1ef),'Description':_0x44cb57(0x1ef),'Body':_0x590c2f[_0x44cb57(0x1c7)]()[_0x44cb57(0x1f2)](_0x44cb57(0x1da))};await _0x28330b['post'](_0x44cb57(0x1e1)+constants_1['SALESFORCE_API_VERSION']+_0x44cb57(0x1ca),_0x57764b);}}catch(_0x55fd16){throw _0x55fd16;}finally{await(0x0,promises_1['rm'])(_0x44cb57(0x1f5)+_0x2d3a51+'/'+_0x5ccd07,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x42b9df,_0x3d26fe,_0x56103d){const _0x401433=a86_0x1f210d,_0x1acd0e=_0x401433(0x1cb)+_0x401433(0x1f7)+(_0x401433(0x1eb)+_0x42b9df+'\x20')+(_0x401433(0x1f8)+_0x56103d+'/'+_0x42b9df+'\x20')+('-u\x20'+_0x3d26fe['accessToken']);await sfdx_utils_1[_0x401433(0x1fd)][_0x401433(0x1d4)]('sfdx',_0x1acd0e)[_0x401433(0x1c3)](async _0x5a3864=>{const _0x2b4a9f=_0x401433;if(sfdx_utils_2[_0x2b4a9f(0x1e8)][_0x2b4a9f(0x1d2)](_0x5a3864))return _0x3d26fe[_0x2b4a9f(0x1f4)]=await auth_utils_1[_0x2b4a9f(0x1de)][_0x2b4a9f(0x1ea)](_0x3d26fe['instanceUrl'],_0x3d26fe[_0x2b4a9f(0x1e6)],_0x3d26fe[_0x2b4a9f(0x1d7)],_0x3d26fe[_0x2b4a9f(0x1f3)]),retrieveReport(_0x42b9df,_0x3d26fe,_0x56103d);throw _0x5a3864;});}