function a55_0x1da4(){const _0x4e7c4c=['spawnPromise','__esModule','SFDX','addFile','src','ComponentsApi','-r\x20.temp/','BACKUP\x20ZIP','(((.+)+)+)+$','1346935jzrmjG','readFile','path','search','fs/promises','1392CMkfuj','instanceUrl','defineProperty','splitZip','1937664qjEtQr','../../git/salesforce/utils/sfdx.utils','sfdx','SFDXUtils','/sobjects/Attachment','getEntry','uuid','27aCMxPz','AuthUtils','force:mdapi:retrieve:report\x20','createSFDXProject','/services/data/','toBuffer','../utils/sfdx.utils','6293997rIBCcI','SALESFORCE_API_VERSION','--json\x20','../utils/auth.utils','length','post','../../../constants','../utils/components-api','7eLsGRl','clientSecret','updateAccessToken','accessToken','.temp/','1843672IfTSaG','catch','70567tLNgqb','clientId','exists','setInstanceUrl','toString','retrieveZip','-u\x20','adm-zip','getEntries','base64','getData','apply','Body','529214mesQVn'];a55_0x1da4=function(){return _0x4e7c4c;};return a55_0x1da4();}const a55_0x37374b=a55_0x56f9;(function(_0x65994b,_0x39bf0e){const _0x15444b=a55_0x56f9,_0x33f90e=_0x65994b();while(!![]){try{const _0x2b6bd9=parseInt(_0x15444b(0x1e1))/0x1+parseInt(_0x15444b(0x1ee))/0x2+-parseInt(_0x15444b(0x1cb))/0x3*(-parseInt(_0x15444b(0x1c0))/0x4)+-parseInt(_0x15444b(0x1bb))/0x5+-parseInt(_0x15444b(0x1c4))/0x6+-parseInt(_0x15444b(0x1da))/0x7*(parseInt(_0x15444b(0x1df))/0x8)+parseInt(_0x15444b(0x1d2))/0x9;if(_0x2b6bd9===_0x39bf0e)break;else _0x33f90e['push'](_0x33f90e['shift']());}catch(_0x2b3a0b){_0x33f90e['push'](_0x33f90e['shift']());}}}(a55_0x1da4,0x34741));const a55_0x5ec7bc=(function(){let _0x595301=!![];return function(_0x46be9f,_0x3feeae){const _0x32f5cd=_0x595301?function(){const _0xc3ad10=a55_0x56f9;if(_0x3feeae){const _0x2db105=_0x3feeae[_0xc3ad10(0x1ec)](_0x46be9f,arguments);return _0x3feeae=null,_0x2db105;}}:function(){};return _0x595301=![],_0x32f5cd;};}()),a55_0x2392e9=a55_0x5ec7bc(this,function(){const _0x22bd45=a55_0x56f9;return a55_0x2392e9[_0x22bd45(0x1e5)]()[_0x22bd45(0x1be)](_0x22bd45(0x1ba))[_0x22bd45(0x1e5)]()['constructor'](a55_0x2392e9)['search'](_0x22bd45(0x1ba));});a55_0x2392e9();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x23bbd5){const _0x59c9db=a55_0x56f9;return _0x23bbd5&&_0x23bbd5[_0x59c9db(0x1f0)]?_0x23bbd5:{'default':_0x23bbd5};};Object[a55_0x37374b(0x1c2)](exports,'__esModule',{'value':!![]}),exports[a55_0x37374b(0x1e6)]=void 0x0;function a55_0x56f9(_0x4bf0b1,_0x519004){const _0x59537e=a55_0x1da4();return a55_0x56f9=function(_0x2392e9,_0x5ec7bc){_0x2392e9=_0x2392e9-0x1b4;let _0x1da435=_0x59537e[_0x2392e9];return _0x1da435;},a55_0x56f9(_0x4bf0b1,_0x519004);}const constants_1=require(a55_0x37374b(0x1d8)),promises_1=require(a55_0x37374b(0x1bf)),sfdx_utils_1=require(a55_0x37374b(0x1c5)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require(a55_0x37374b(0x1d1)),auth_utils_1=require(a55_0x37374b(0x1d5)),adm_zip_1=__importDefault(require(a55_0x37374b(0x1e8))),uuid_1=require(a55_0x37374b(0x1ca)),components_api_1=require(a55_0x37374b(0x1d9)),path_1=require(a55_0x37374b(0x1bd));async function retrieveZip({backupAsyncId:_0x1d3116,credentials:_0x20ae4f,metadataLogId:_0x32a9f4},_0x11b301){const _0x58b7bc=a55_0x37374b;var _0x20aa8c;const _0x343a9b=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x58b7bc(0x1e3)](_0x58b7bc(0x1de)+_0x343a9b)&&await(0x0,promises_1['mkdir'])(_0x58b7bc(0x1de)+_0x343a9b,{'recursive':!![]});await sfdx_utils_2[_0x58b7bc(0x1c7)][_0x58b7bc(0x1ce)](_0x1d3116,_0x343a9b),await sfdx_utils_2[_0x58b7bc(0x1c7)][_0x58b7bc(0x1e4)](_0x20ae4f[_0x58b7bc(0x1c1)],_0x1d3116,_0x343a9b),await retrieveReport(_0x1d3116,_0x20ae4f,_0x343a9b);const _0x540a0e=new adm_zip_1['default'](await(0x0,promises_1[_0x58b7bc(0x1bc)])('.temp/'+_0x343a9b+'/'+_0x1d3116+'/unpackaged.zip')),_0x4344c4=new adm_zip_1['default']();for(const {entryName:_0x36dc8d}of _0x540a0e[_0x58b7bc(0x1e9)]()){const _0xe936c8=(_0x20aa8c=_0x540a0e[_0x58b7bc(0x1c9)](_0x36dc8d))===null||_0x20aa8c===void 0x0?void 0x0:_0x20aa8c[_0x58b7bc(0x1eb)]();_0x4344c4[_0x58b7bc(0x1b5)]((0x0,path_1['join'])(_0x58b7bc(0x1b6),_0x36dc8d),_0xe936c8);}const _0x18d7c3=_0x4344c4[_0x58b7bc(0x1d0)]()[_0x58b7bc(0x1e5)](_0x58b7bc(0x1ea))[_0x58b7bc(0x1d6)];if(_0x18d7c3>=components_api_1['MAX_ZIP_SIZE']){const [_0x309912,_0x2b2afd]=await components_api_1[_0x58b7bc(0x1b7)][_0x58b7bc(0x1c3)](_0x4344c4,_0x18d7c3),_0x4d9993={'ParentId':_0x32a9f4,'Name':_0x58b7bc(0x1b9),'Description':'BACKUP\x20ZIP','Body':_0x309912[_0x58b7bc(0x1d0)]()['toString'](_0x58b7bc(0x1ea))};await _0x11b301[_0x58b7bc(0x1d7)](_0x58b7bc(0x1cf)+constants_1[_0x58b7bc(0x1d3)]+_0x58b7bc(0x1c8),_0x4d9993),_0x4d9993[_0x58b7bc(0x1ed)]=_0x2b2afd[_0x58b7bc(0x1d0)]()['toString'](_0x58b7bc(0x1ea)),await _0x11b301[_0x58b7bc(0x1d7)](_0x58b7bc(0x1cf)+constants_1[_0x58b7bc(0x1d3)]+_0x58b7bc(0x1c8),_0x4d9993);}else{const _0x3815b1={'ParentId':_0x32a9f4,'Name':_0x58b7bc(0x1b9),'Description':'BACKUP\x20ZIP','Body':_0x4344c4[_0x58b7bc(0x1d0)]()[_0x58b7bc(0x1e5)](_0x58b7bc(0x1ea))};await _0x11b301[_0x58b7bc(0x1d7)](_0x58b7bc(0x1cf)+constants_1[_0x58b7bc(0x1d3)]+_0x58b7bc(0x1c8),_0x3815b1);}}catch(_0x49b587){throw _0x49b587;}finally{await(0x0,promises_1['rm'])(_0x58b7bc(0x1de)+_0x343a9b+'/'+_0x1d3116,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x155a72,_0x235a10,_0x2fe20e){const _0x1c5b8c=a55_0x37374b,_0xc6676=_0x1c5b8c(0x1cd)+_0x1c5b8c(0x1d4)+('--jobid\x20'+_0x155a72+'\x20')+(_0x1c5b8c(0x1b8)+_0x2fe20e+'/'+_0x155a72+'\x20')+(_0x1c5b8c(0x1e7)+_0x235a10[_0x1c5b8c(0x1dd)]);await sfdx_utils_1[_0x1c5b8c(0x1b4)][_0x1c5b8c(0x1ef)](_0x1c5b8c(0x1c6),_0xc6676)[_0x1c5b8c(0x1e0)](async _0x515878=>{const _0x1e7947=_0x1c5b8c;if(sfdx_utils_2[_0x1e7947(0x1c7)]['isAuthorizationError'](_0x515878))return _0x235a10['accessToken']=await auth_utils_1[_0x1e7947(0x1cc)][_0x1e7947(0x1dc)](_0x235a10[_0x1e7947(0x1c1)],_0x235a10['refreshToken'],_0x235a10[_0x1e7947(0x1e2)],_0x235a10[_0x1e7947(0x1db)]),retrieveReport(_0x155a72,_0x235a10,_0x2fe20e);throw _0x515878;});}