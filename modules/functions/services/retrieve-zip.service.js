function a55_0x2999(_0x50447f,_0x333871){const _0x31a242=a55_0x456a();return a55_0x2999=function(_0x1039d5,_0x16574b){_0x1039d5=_0x1039d5-0x88;let _0x456afb=_0x31a242[_0x1039d5];return _0x456afb;},a55_0x2999(_0x50447f,_0x333871);}const a55_0x3ac67b=a55_0x2999;(function(_0x51af78,_0x8896b9){const _0x1214bf=a55_0x2999,_0x1ce79c=_0x51af78();while(!![]){try{const _0x2c5c5e=-parseInt(_0x1214bf(0xa0))/0x1+-parseInt(_0x1214bf(0x88))/0x2+-parseInt(_0x1214bf(0x8e))/0x3*(parseInt(_0x1214bf(0xc0))/0x4)+-parseInt(_0x1214bf(0x98))/0x5*(-parseInt(_0x1214bf(0xb5))/0x6)+parseInt(_0x1214bf(0xc4))/0x7*(parseInt(_0x1214bf(0xa4))/0x8)+-parseInt(_0x1214bf(0x9f))/0x9+parseInt(_0x1214bf(0xc9))/0xa*(parseInt(_0x1214bf(0xbe))/0xb);if(_0x2c5c5e===_0x8896b9)break;else _0x1ce79c['push'](_0x1ce79c['shift']());}catch(_0x184576){_0x1ce79c['push'](_0x1ce79c['shift']());}}}(a55_0x456a,0x7e7df));const a55_0x16574b=(function(){let _0x5d4abf=!![];return function(_0x756818,_0x290dfb){const _0x3fdca5=_0x5d4abf?function(){const _0x6bd1=a55_0x2999;if(_0x290dfb){const _0x2a0f49=_0x290dfb[_0x6bd1(0x90)](_0x756818,arguments);return _0x290dfb=null,_0x2a0f49;}}:function(){};return _0x5d4abf=![],_0x3fdca5;};}()),a55_0x1039d5=a55_0x16574b(this,function(){const _0x5be1ec=a55_0x2999;return a55_0x1039d5[_0x5be1ec(0xab)]()[_0x5be1ec(0x8c)](_0x5be1ec(0x9c))[_0x5be1ec(0xab)]()[_0x5be1ec(0xb0)](a55_0x1039d5)[_0x5be1ec(0x8c)](_0x5be1ec(0x9c));});a55_0x1039d5();'use strict';var __importDefault=this&&this[a55_0x3ac67b(0x93)]||function(_0x15d62f){const _0x8bfd17=a55_0x3ac67b;return _0x15d62f&&_0x15d62f[_0x8bfd17(0xbd)]?_0x15d62f:{'default':_0x15d62f};};Object['defineProperty'](exports,a55_0x3ac67b(0xbd),{'value':!![]}),exports['retrieveZip']=void 0x0;const constants_1=require('../../../constants'),promises_1=require(a55_0x3ac67b(0x95)),sfdx_utils_1=require(a55_0x3ac67b(0xc5)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require(a55_0x3ac67b(0x9e)),auth_utils_1=require(a55_0x3ac67b(0x8b)),adm_zip_1=__importDefault(require(a55_0x3ac67b(0xbb))),uuid_1=require(a55_0x3ac67b(0xa2)),components_api_1=require(a55_0x3ac67b(0xa3)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x33e9ac,credentials:_0x3137b5,metadataLogId:_0x1bd2ee},_0x4cb0a7){const _0x1dda9a=a55_0x3ac67b;var _0x1cf520;const _0x41a308=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x1dda9a(0xb4)](_0x1dda9a(0xaa)+_0x41a308)&&await(0x0,promises_1[_0x1dda9a(0xbf)])(_0x1dda9a(0xaa)+_0x41a308,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x1dda9a(0xc7)](_0x33e9ac,_0x41a308),await sfdx_utils_2[_0x1dda9a(0xa9)][_0x1dda9a(0x9a)](_0x3137b5[_0x1dda9a(0xa5)],_0x33e9ac,_0x41a308),await retrieveReport(_0x33e9ac,_0x3137b5,_0x41a308);const _0x3760d4=new adm_zip_1[(_0x1dda9a(0xae))](await(0x0,promises_1[_0x1dda9a(0xc2)])('.temp/'+_0x41a308+'/'+_0x33e9ac+_0x1dda9a(0x89))),_0x52a09b=new adm_zip_1[(_0x1dda9a(0xae))]();for(const {entryName:_0x3f0879}of _0x3760d4['getEntries']()){const _0x55fda1=(_0x1cf520=_0x3760d4[_0x1dda9a(0xac)](_0x3f0879))===null||_0x1cf520===void 0x0?void 0x0:_0x1cf520[_0x1dda9a(0x97)]();_0x52a09b[_0x1dda9a(0xc8)]((0x0,path_1[_0x1dda9a(0xa8)])(_0x1dda9a(0x9d),_0x3f0879),_0x55fda1);}const _0x4b579f=_0x52a09b['toBuffer']()[_0x1dda9a(0xab)](_0x1dda9a(0x8a))[_0x1dda9a(0xc6)];if(_0x4b579f>=components_api_1[_0x1dda9a(0x8f)]){const [_0x55ca44,_0xd5b35e]=await components_api_1[_0x1dda9a(0x99)][_0x1dda9a(0x8d)](_0x52a09b,_0x4b579f),_0x451cea={'ParentId':_0x1bd2ee,'Name':_0x1dda9a(0x91),'Description':'BACKUP\x20ZIP','Body':_0x55ca44[_0x1dda9a(0xa7)]()[_0x1dda9a(0xab)](_0x1dda9a(0x8a))};await _0x4cb0a7[_0x1dda9a(0x92)](_0x1dda9a(0xb2)+constants_1[_0x1dda9a(0xc1)]+_0x1dda9a(0xb6),_0x451cea),_0x451cea[_0x1dda9a(0xb3)]=_0xd5b35e['toBuffer']()[_0x1dda9a(0xab)](_0x1dda9a(0x8a)),await _0x4cb0a7[_0x1dda9a(0x92)]('/services/data/'+constants_1[_0x1dda9a(0xc1)]+_0x1dda9a(0xb6),_0x451cea);}else{const _0x3410bd={'ParentId':_0x1bd2ee,'Name':_0x1dda9a(0x91),'Description':_0x1dda9a(0x91),'Body':_0x52a09b[_0x1dda9a(0xa7)]()[_0x1dda9a(0xab)]('base64')};await _0x4cb0a7['post'](_0x1dda9a(0xb2)+constants_1[_0x1dda9a(0xc1)]+_0x1dda9a(0xb6),_0x3410bd);}}catch(_0x3a7bed){throw _0x3a7bed;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x41a308+'/'+_0x33e9ac,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x1b402a,_0x27677d,_0x105086){const _0x318300=a55_0x3ac67b,_0x53ec9e=_0x318300(0xb9)+_0x318300(0xaf)+(_0x318300(0xb8)+_0x1b402a+'\x20')+('-r\x20.temp/'+_0x105086+'/'+_0x1b402a+'\x20')+(_0x318300(0xad)+_0x27677d[_0x318300(0xa6)]);await sfdx_utils_1['SFDX'][_0x318300(0x94)](_0x318300(0x96),_0x53ec9e)[_0x318300(0xb7)](async _0x2ed900=>{const _0x37467b=_0x318300;if(sfdx_utils_2[_0x37467b(0xa9)][_0x37467b(0xbc)](_0x2ed900))return _0x27677d['accessToken']=await auth_utils_1[_0x37467b(0xb1)][_0x37467b(0x9b)](_0x27677d[_0x37467b(0xa5)],_0x27677d[_0x37467b(0xba)],_0x27677d[_0x37467b(0xa1)],_0x27677d[_0x37467b(0xc3)]),retrieveReport(_0x1b402a,_0x27677d,_0x105086);throw _0x2ed900;});}function a55_0x456a(){const _0x4cc807=['spawnPromise','fs/promises','sfdx','getData','355935heNRRA','ComponentsApi','setInstanceUrl','updateAccessToken','(((.+)+)+)+$','src','../utils/sfdx.utils','2247795rTmnXu','202668OgQmPC','clientId','uuid','../utils/components-api','1175992HzWDmN','instanceUrl','accessToken','toBuffer','join','SFDXUtils','.temp/','toString','getEntry','-u\x20','default','--json\x20','constructor','AuthUtils','/services/data/','Body','exists','42RjZzNH','/sobjects/Attachment','catch','--jobid\x20','force:mdapi:retrieve:report\x20','refreshToken','adm-zip','isAuthorizationError','__esModule','11metjaT','mkdir','153148TqzEyD','SALESFORCE_API_VERSION','readFile','clientSecret','7ziMYfU','../../git/salesforce/utils/sfdx.utils','length','createSFDXProject','addFile','10098370jhuoHH','526908XyzZnM','/unpackaged.zip','base64','../utils/auth.utils','search','splitZip','33dPKnDo','MAX_ZIP_SIZE','apply','BACKUP\x20ZIP','post','__importDefault'];a55_0x456a=function(){return _0x4cc807;};return a55_0x456a();}