const a55_0x3d488c=a55_0x5777;function a55_0x5777(_0x1a1574,_0xfb3107){const _0x45538b=a55_0x1493();return a55_0x5777=function(_0xf9433f,_0x546657){_0xf9433f=_0xf9433f-0x1c0;let _0x149309=_0x45538b[_0xf9433f];return _0x149309;},a55_0x5777(_0x1a1574,_0xfb3107);}function a55_0x1493(){const _0x117fcb=['exists','clientSecret','instanceUrl','path','2125486assyrW','join','../../git/internal/fs.internal','.temp/','../../../constants','/unpackaged.zip','readFile','180607SKXQgh','base64','SALESFORCE_API_VERSION','1987izupYP','createSFDXProject','catch','AuthUtils','getEntry','accessToken','toString','updateAccessToken','retrieveZip','130620JxQiaK','adm-zip','length','24ERyDSY','getData','7965VRgXUL','clientId','1431320CmXFqU','__esModule','9EcLEZk','defineProperty','apply','refreshToken','force:mdapi:retrieve:report\x20','toBuffer','(((.+)+)+)+$','setInstanceUrl','sfdx','MAX_ZIP_SIZE','BACKUP\x20ZIP','default','/services/data/','../../git/salesforce/utils/sfdx.utils','SFDXUtils','-r\x20.temp/','/sobjects/Attachment','-u\x20','Body','splitZip','spawnPromise','9876WhZurC','40Rxzpla','200mONDsL','search','474uMTnXv','--jobid\x20','uuid','post','isAuthorizationError','mkdir','SFDX','fs/promises','ComponentsApi'];a55_0x1493=function(){return _0x117fcb;};return a55_0x1493();}(function(_0x106aca,_0x45488b){const _0x31cef8=a55_0x5777,_0xebf1fe=_0x106aca();while(!![]){try{const _0x2781a4=parseInt(_0x31cef8(0x1f9))/0x1*(-parseInt(_0x31cef8(0x1c3))/0x2)+-parseInt(_0x31cef8(0x1de))/0x3*(-parseInt(_0x31cef8(0x1e0))/0x4)+-parseInt(_0x31cef8(0x1c5))/0x5*(parseInt(_0x31cef8(0x1e2))/0x6)+-parseInt(_0x31cef8(0x1f6))/0x7*(-parseInt(_0x31cef8(0x1df))/0x8)+-parseInt(_0x31cef8(0x1c9))/0x9*(-parseInt(_0x31cef8(0x1c7))/0xa)+-parseInt(_0x31cef8(0x1ef))/0xb+parseInt(_0x31cef8(0x1c0))/0xc;if(_0x2781a4===_0x45488b)break;else _0xebf1fe['push'](_0xebf1fe['shift']());}catch(_0x2623ca){_0xebf1fe['push'](_0xebf1fe['shift']());}}}(a55_0x1493,0x19901));const a55_0x546657=(function(){let _0x5d6f8f=!![];return function(_0x2f9ae4,_0x564b48){const _0x1616c0=_0x5d6f8f?function(){const _0x2c1f3d=a55_0x5777;if(_0x564b48){const _0x23c9f3=_0x564b48[_0x2c1f3d(0x1cb)](_0x2f9ae4,arguments);return _0x564b48=null,_0x23c9f3;}}:function(){};return _0x5d6f8f=![],_0x1616c0;};}()),a55_0xf9433f=a55_0x546657(this,function(){const _0x2cb9ad=a55_0x5777;return a55_0xf9433f[_0x2cb9ad(0x1ff)]()['search'](_0x2cb9ad(0x1cf))[_0x2cb9ad(0x1ff)]()['constructor'](a55_0xf9433f)[_0x2cb9ad(0x1e1)]('(((.+)+)+)+$');});a55_0xf9433f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x42fb13){const _0x3e97f4=a55_0x5777;return _0x42fb13&&_0x42fb13[_0x3e97f4(0x1c8)]?_0x42fb13:{'default':_0x42fb13};};Object[a55_0x3d488c(0x1ca)](exports,a55_0x3d488c(0x1c8),{'value':!![]}),exports[a55_0x3d488c(0x201)]=void 0x0;const constants_1=require(a55_0x3d488c(0x1f3)),promises_1=require(a55_0x3d488c(0x1e9)),sfdx_utils_1=require(a55_0x3d488c(0x1d6)),fs_internal_1=require(a55_0x3d488c(0x1f1)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a55_0x3d488c(0x1c1))),uuid_1=require(a55_0x3d488c(0x1e4)),components_api_1=require('../utils/components-api'),path_1=require(a55_0x3d488c(0x1ee));async function retrieveZip({backupAsyncId:_0x1f350b,credentials:_0x1bf943,metadataLogId:_0x558ab1},_0x3b3747){const _0x3dbe0e=a55_0x3d488c;var _0x1a8fbd;const _0x19d380=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x3dbe0e(0x1eb)](_0x3dbe0e(0x1f2)+_0x19d380)&&await(0x0,promises_1[_0x3dbe0e(0x1e7)])(_0x3dbe0e(0x1f2)+_0x19d380,{'recursive':!![]});await sfdx_utils_2[_0x3dbe0e(0x1d7)][_0x3dbe0e(0x1fa)](_0x1f350b,_0x19d380),await sfdx_utils_2[_0x3dbe0e(0x1d7)][_0x3dbe0e(0x1d0)](_0x1bf943[_0x3dbe0e(0x1ed)],_0x1f350b,_0x19d380),await retrieveReport(_0x1f350b,_0x1bf943,_0x19d380);const _0x165780=new adm_zip_1[(_0x3dbe0e(0x1d4))](await(0x0,promises_1[_0x3dbe0e(0x1f5)])('.temp/'+_0x19d380+'/'+_0x1f350b+_0x3dbe0e(0x1f4))),_0x4f8376=new adm_zip_1['default']();for(const {entryName:_0x55b5b4}of _0x165780['getEntries']()){const _0x1e6d3d=(_0x1a8fbd=_0x165780[_0x3dbe0e(0x1fd)](_0x55b5b4))===null||_0x1a8fbd===void 0x0?void 0x0:_0x1a8fbd[_0x3dbe0e(0x1c4)]();_0x4f8376['addFile']((0x0,path_1[_0x3dbe0e(0x1f0)])('src',_0x55b5b4),_0x1e6d3d);}const _0x104eb4=_0x4f8376[_0x3dbe0e(0x1ce)]()[_0x3dbe0e(0x1ff)](_0x3dbe0e(0x1f7))[_0x3dbe0e(0x1c2)];if(_0x104eb4>=components_api_1[_0x3dbe0e(0x1d2)]){const [_0x30b4c7,_0xb508a0]=await components_api_1[_0x3dbe0e(0x1ea)][_0x3dbe0e(0x1dc)](_0x4f8376,_0x104eb4),_0x3c9e94={'ParentId':_0x558ab1,'Name':_0x3dbe0e(0x1d3),'Description':_0x3dbe0e(0x1d3),'Body':_0x30b4c7[_0x3dbe0e(0x1ce)]()['toString']('base64')};await _0x3b3747[_0x3dbe0e(0x1e5)](_0x3dbe0e(0x1d5)+constants_1['SALESFORCE_API_VERSION']+_0x3dbe0e(0x1d9),_0x3c9e94),_0x3c9e94[_0x3dbe0e(0x1db)]=_0xb508a0[_0x3dbe0e(0x1ce)]()[_0x3dbe0e(0x1ff)](_0x3dbe0e(0x1f7)),await _0x3b3747[_0x3dbe0e(0x1e5)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x3dbe0e(0x1d9),_0x3c9e94);}else{const _0x1aafaf={'ParentId':_0x558ab1,'Name':'BACKUP\x20ZIP','Description':_0x3dbe0e(0x1d3),'Body':_0x4f8376['toBuffer']()['toString'](_0x3dbe0e(0x1f7))};await _0x3b3747[_0x3dbe0e(0x1e5)]('/services/data/'+constants_1[_0x3dbe0e(0x1f8)]+_0x3dbe0e(0x1d9),_0x1aafaf);}}catch(_0x118980){throw _0x118980;}finally{await(0x0,promises_1['rm'])(_0x3dbe0e(0x1f2)+_0x19d380+'/'+_0x1f350b,{'recursive':!![]});}}exports[a55_0x3d488c(0x201)]=retrieveZip;async function retrieveReport(_0x50da5f,_0x5ead9e,_0x401262){const _0x2191fd=a55_0x3d488c,_0x4f13a3=_0x2191fd(0x1cd)+'--json\x20'+(_0x2191fd(0x1e3)+_0x50da5f+'\x20')+(_0x2191fd(0x1d8)+_0x401262+'/'+_0x50da5f+'\x20')+(_0x2191fd(0x1da)+_0x5ead9e[_0x2191fd(0x1fe)]);await sfdx_utils_1[_0x2191fd(0x1e8)][_0x2191fd(0x1dd)](_0x2191fd(0x1d1),_0x4f13a3)[_0x2191fd(0x1fb)](async _0x4f83b1=>{const _0x5ea74b=_0x2191fd;if(sfdx_utils_2[_0x5ea74b(0x1d7)][_0x5ea74b(0x1e6)](_0x4f83b1))return _0x5ead9e[_0x5ea74b(0x1fe)]=await auth_utils_1[_0x5ea74b(0x1fc)][_0x5ea74b(0x200)](_0x5ead9e[_0x5ea74b(0x1ed)],_0x5ead9e[_0x5ea74b(0x1cc)],_0x5ead9e[_0x5ea74b(0x1c6)],_0x5ead9e[_0x5ea74b(0x1ec)]),retrieveReport(_0x50da5f,_0x5ead9e,_0x401262);throw _0x4f83b1;});}