const a55_0x9dc402=a55_0x5c4e;(function(_0x2e804d,_0x562034){const _0x243559=a55_0x5c4e,_0x45788e=_0x2e804d();while(!![]){try{const _0x4103e2=-parseInt(_0x243559(0x183))/0x1+-parseInt(_0x243559(0x17e))/0x2+parseInt(_0x243559(0x148))/0x3*(parseInt(_0x243559(0x16d))/0x4)+parseInt(_0x243559(0x167))/0x5+parseInt(_0x243559(0x17a))/0x6+parseInt(_0x243559(0x161))/0x7+-parseInt(_0x243559(0x155))/0x8*(parseInt(_0x243559(0x15f))/0x9);if(_0x4103e2===_0x562034)break;else _0x45788e['push'](_0x45788e['shift']());}catch(_0x3c7eab){_0x45788e['push'](_0x45788e['shift']());}}}(a55_0x5727,0x5545b));const a55_0x2131be=(function(){let _0x429c29=!![];return function(_0x2197d2,_0x1f074f){const _0x553492=_0x429c29?function(){const _0x4e21a7=a55_0x5c4e;if(_0x1f074f){const _0x315d39=_0x1f074f[_0x4e21a7(0x158)](_0x2197d2,arguments);return _0x1f074f=null,_0x315d39;}}:function(){};return _0x429c29=![],_0x553492;};}()),a55_0x49d017=a55_0x2131be(this,function(){const _0x138131=a55_0x5c4e;return a55_0x49d017['toString']()[_0x138131(0x16f)]('(((.+)+)+)+$')[_0x138131(0x149)]()[_0x138131(0x160)](a55_0x49d017)[_0x138131(0x16f)](_0x138131(0x14c));});a55_0x49d017();'use strict';var __importDefault=this&&this[a55_0x9dc402(0x165)]||function(_0x579b44){return _0x579b44&&_0x579b44['__esModule']?_0x579b44:{'default':_0x579b44};};function a55_0x5c4e(_0x276671,_0x36c45f){const _0x37948c=a55_0x5727();return a55_0x5c4e=function(_0x49d017,_0x2131be){_0x49d017=_0x49d017-0x148;let _0x57275d=_0x37948c[_0x49d017];return _0x57275d;},a55_0x5c4e(_0x276671,_0x36c45f);}Object['defineProperty'](exports,a55_0x9dc402(0x15e),{'value':!![]}),exports[a55_0x9dc402(0x184)]=void 0x0;const constants_1=require(a55_0x9dc402(0x181)),promises_1=require(a55_0x9dc402(0x163)),sfdx_utils_1=require(a55_0x9dc402(0x175)),fs_internal_1=require(a55_0x9dc402(0x16a)),sfdx_utils_2=require(a55_0x9dc402(0x152)),auth_utils_1=require(a55_0x9dc402(0x153)),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require('uuid'),components_api_1=require(a55_0x9dc402(0x17b)),path_1=require(a55_0x9dc402(0x157));async function retrieveZip({backupAsyncId:_0x5d4c8d,credentials:_0x366d8c,metadataLogId:_0x12791c},_0x440165){const _0x53e122=a55_0x9dc402;var _0x229bf8;const _0x41fb24=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x53e122(0x166)+_0x41fb24)&&await(0x0,promises_1[_0x53e122(0x180)])(_0x53e122(0x166)+_0x41fb24,{'recursive':!![]});await sfdx_utils_2[_0x53e122(0x151)][_0x53e122(0x182)](_0x5d4c8d,_0x41fb24),await sfdx_utils_2['SFDXUtils'][_0x53e122(0x185)](_0x366d8c[_0x53e122(0x17c)],_0x5d4c8d,_0x41fb24),await retrieveReport(_0x5d4c8d,_0x366d8c,_0x41fb24);const _0x90648a=new adm_zip_1[(_0x53e122(0x171))](await(0x0,promises_1[_0x53e122(0x150)])(_0x53e122(0x166)+_0x41fb24+'/'+_0x5d4c8d+_0x53e122(0x159))),_0xa075ed=new adm_zip_1[(_0x53e122(0x171))]();for(const {entryName:_0x2df45b}of _0x90648a['getEntries']()){const _0x17335a=(_0x229bf8=_0x90648a[_0x53e122(0x15b)](_0x2df45b))===null||_0x229bf8===void 0x0?void 0x0:_0x229bf8[_0x53e122(0x176)]();_0xa075ed['addFile']((0x0,path_1[_0x53e122(0x17f)])(_0x53e122(0x17d),_0x2df45b),_0x17335a);}const _0x59b831=_0xa075ed['toBuffer']()['toString']('base64')[_0x53e122(0x178)];if(_0x59b831>=components_api_1[_0x53e122(0x170)]){const [_0x2a156c,_0x2edb39]=await components_api_1[_0x53e122(0x154)][_0x53e122(0x174)](_0xa075ed,_0x59b831),_0x4b2369={'ParentId':_0x12791c,'Name':_0x53e122(0x162),'Description':_0x53e122(0x162),'Body':_0x2a156c['toBuffer']()['toString']('base64')};await _0x440165[_0x53e122(0x14d)](_0x53e122(0x179)+constants_1[_0x53e122(0x15c)]+_0x53e122(0x14b),_0x4b2369),_0x4b2369[_0x53e122(0x15a)]=_0x2edb39[_0x53e122(0x15d)]()[_0x53e122(0x149)]('base64'),await _0x440165['post'](_0x53e122(0x179)+constants_1[_0x53e122(0x15c)]+_0x53e122(0x14b),_0x4b2369);}else{const _0x5b3663={'ParentId':_0x12791c,'Name':'BACKUP\x20ZIP','Description':_0x53e122(0x162),'Body':_0xa075ed[_0x53e122(0x15d)]()[_0x53e122(0x149)](_0x53e122(0x16e))};await _0x440165['post'](_0x53e122(0x179)+constants_1['SALESFORCE_API_VERSION']+_0x53e122(0x14b),_0x5b3663);}}catch(_0x860ff){throw _0x860ff;}finally{await(0x0,promises_1['rm'])(_0x53e122(0x166)+_0x41fb24+'/'+_0x5d4c8d,{'recursive':!![]});}}exports[a55_0x9dc402(0x184)]=retrieveZip;async function retrieveReport(_0x1d2b9b,_0x449577,_0x1d4963){const _0x41e049=a55_0x9dc402,_0x5847e6=_0x41e049(0x14a)+_0x41e049(0x156)+('--jobid\x20'+_0x1d2b9b+'\x20')+(_0x41e049(0x173)+_0x1d4963+'/'+_0x1d2b9b+'\x20')+('-u\x20'+_0x449577['accessToken']);await sfdx_utils_1[_0x41e049(0x177)][_0x41e049(0x164)](_0x41e049(0x16c),_0x5847e6)['catch'](async _0x4c888e=>{const _0x14907e=_0x41e049;if(sfdx_utils_2[_0x14907e(0x151)][_0x14907e(0x16b)](_0x4c888e))return _0x449577[_0x14907e(0x14f)]=await auth_utils_1['AuthUtils'][_0x14907e(0x168)](_0x449577[_0x14907e(0x17c)],_0x449577[_0x14907e(0x169)],_0x449577[_0x14907e(0x172)],_0x449577[_0x14907e(0x14e)]),retrieveReport(_0x1d2b9b,_0x449577,_0x1d4963);throw _0x4c888e;});}function a55_0x5727(){const _0x5a1e40=['2325260SiPWQd','updateAccessToken','refreshToken','../../git/internal/fs.internal','isAuthorizationError','sfdx','28oBhuoT','base64','search','MAX_ZIP_SIZE','default','clientId','-r\x20.temp/','splitZip','../../git/salesforce/utils/sfdx.utils','getData','SFDX','length','/services/data/','658512EOBDdi','../utils/components-api','instanceUrl','src','529798CmpjTq','join','mkdir','../../../constants','createSFDXProject','224517gLqfPv','retrieveZip','setInstanceUrl','55653RKFszy','toString','force:mdapi:retrieve:report\x20','/sobjects/Attachment','(((.+)+)+)+$','post','clientSecret','accessToken','readFile','SFDXUtils','../utils/sfdx.utils','../utils/auth.utils','ComponentsApi','928lGpahN','--json\x20','path','apply','/unpackaged.zip','Body','getEntry','SALESFORCE_API_VERSION','toBuffer','__esModule','42678aSpMql','constructor','4788714odyfRl','BACKUP\x20ZIP','fs/promises','spawnPromise','__importDefault','.temp/'];a55_0x5727=function(){return _0x5a1e40;};return a55_0x5727();}