const a87_0x172586=a87_0x4397;(function(_0x2789b5,_0xd8d410){const _0x3cf774=a87_0x4397,_0xe627de=_0x2789b5();while(!![]){try{const _0x557491=parseInt(_0x3cf774(0x15b))/0x1*(parseInt(_0x3cf774(0x16b))/0x2)+-parseInt(_0x3cf774(0x165))/0x3+parseInt(_0x3cf774(0x158))/0x4*(parseInt(_0x3cf774(0x15f))/0x5)+parseInt(_0x3cf774(0x17b))/0x6+-parseInt(_0x3cf774(0x16f))/0x7*(-parseInt(_0x3cf774(0x18b))/0x8)+-parseInt(_0x3cf774(0x181))/0x9+parseInt(_0x3cf774(0x16a))/0xa*(-parseInt(_0x3cf774(0x170))/0xb);if(_0x557491===_0xd8d410)break;else _0xe627de['push'](_0xe627de['shift']());}catch(_0x5c03f7){_0xe627de['push'](_0xe627de['shift']());}}}(a87_0x13c3,0x64e80));function a87_0x4397(_0x51c64e,_0x40c4f1){const _0x21e242=a87_0x13c3();return a87_0x4397=function(_0x187968,_0x696dbc){_0x187968=_0x187968-0x151;let _0x13c370=_0x21e242[_0x187968];return _0x13c370;},a87_0x4397(_0x51c64e,_0x40c4f1);}const a87_0x696dbc=(function(){let _0x313da4=!![];return function(_0x13edff,_0x22d46d){const _0x3fb097=_0x313da4?function(){const _0xea19d2=a87_0x4397;if(_0x22d46d){const _0x4df4be=_0x22d46d[_0xea19d2(0x15c)](_0x13edff,arguments);return _0x22d46d=null,_0x4df4be;}}:function(){};return _0x313da4=![],_0x3fb097;};}()),a87_0x187968=a87_0x696dbc(this,function(){const _0x493b83=a87_0x4397;return a87_0x187968['toString']()[_0x493b83(0x185)]('(((.+)+)+)+$')[_0x493b83(0x156)]()[_0x493b83(0x183)](a87_0x187968)[_0x493b83(0x185)](_0x493b83(0x157));});a87_0x187968();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x13bd0e){const _0x261ccc=a87_0x4397;return _0x13bd0e&&_0x13bd0e[_0x261ccc(0x171)]?_0x13bd0e:{'default':_0x13bd0e};};Object[a87_0x172586(0x175)](exports,a87_0x172586(0x171),{'value':!![]}),exports[a87_0x172586(0x16e)]=void 0x0;const constants_1=require(a87_0x172586(0x172)),promises_1=require('fs/promises'),sfdx_utils_1=require(a87_0x172586(0x152)),fs_internal_1=require(a87_0x172586(0x18d)),sfdx_utils_2=require(a87_0x172586(0x168)),auth_utils_1=require(a87_0x172586(0x18c)),adm_zip_1=__importDefault(require(a87_0x172586(0x169))),uuid_1=require('uuid'),components_api_1=require(a87_0x172586(0x153)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x3465ce,credentials:_0x48f35f,metadataLogId:_0xbe7d69},_0x48460d){const _0x3e3c85=a87_0x172586;var _0x231297;const _0xcefb92=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x3e3c85(0x163)+_0xcefb92)&&await(0x0,promises_1[_0x3e3c85(0x18e)])(_0x3e3c85(0x163)+_0xcefb92,{'recursive':!![]});await sfdx_utils_2[_0x3e3c85(0x173)]['createSFDXProject'](_0x3465ce,_0xcefb92),await sfdx_utils_2[_0x3e3c85(0x173)]['setInstanceUrl'](_0x48f35f[_0x3e3c85(0x187)],_0x3465ce,_0xcefb92),await retrieveReport(_0x3465ce,_0x48f35f,_0xcefb92);const _0x4a088e=new adm_zip_1['default'](await(0x0,promises_1[_0x3e3c85(0x155)])(_0x3e3c85(0x163)+_0xcefb92+'/'+_0x3465ce+_0x3e3c85(0x15e))),_0x1ebb9a=new adm_zip_1['default']();for(const {entryName:_0x36f316}of _0x4a088e[_0x3e3c85(0x17e)]()){const _0x5f46dc=(_0x231297=_0x4a088e['getEntry'](_0x36f316))===null||_0x231297===void 0x0?void 0x0:_0x231297[_0x3e3c85(0x167)]();_0x1ebb9a['addFile']((0x0,path_1[_0x3e3c85(0x180)])('src',_0x36f316),_0x5f46dc);}const _0x22b127=_0x1ebb9a[_0x3e3c85(0x182)]()[_0x3e3c85(0x156)](_0x3e3c85(0x177))[_0x3e3c85(0x17c)];if(_0x22b127>=components_api_1['MAX_ZIP_SIZE']){const [_0x1c6a55,_0x158332]=await components_api_1[_0x3e3c85(0x154)][_0x3e3c85(0x162)](_0x1ebb9a,_0x22b127),_0x118ec1={'ParentId':_0xbe7d69,'Name':_0x3e3c85(0x15d),'Description':_0x3e3c85(0x15d),'Body':_0x1c6a55['toBuffer']()[_0x3e3c85(0x156)](_0x3e3c85(0x177))};await _0x48460d[_0x3e3c85(0x176)]('/services/data/'+constants_1[_0x3e3c85(0x188)]+_0x3e3c85(0x184),_0x118ec1),_0x118ec1[_0x3e3c85(0x166)]=_0x158332['toBuffer']()[_0x3e3c85(0x156)]('base64'),await _0x48460d['post']('/services/data/'+constants_1[_0x3e3c85(0x188)]+_0x3e3c85(0x184),_0x118ec1);}else{const _0x564dcb={'ParentId':_0xbe7d69,'Name':_0x3e3c85(0x15d),'Description':_0x3e3c85(0x15d),'Body':_0x1ebb9a[_0x3e3c85(0x182)]()[_0x3e3c85(0x156)](_0x3e3c85(0x177))};await _0x48460d[_0x3e3c85(0x176)](_0x3e3c85(0x164)+constants_1['SALESFORCE_API_VERSION']+_0x3e3c85(0x184),_0x564dcb);}}catch(_0x93e180){throw _0x93e180;}finally{await(0x0,promises_1['rm'])('.temp/'+_0xcefb92+'/'+_0x3465ce,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;function a87_0x13c3(){const _0x2a1d91=['accessToken','8aPgrvj','../utils/auth.utils','../../git/internal/fs.internal','mkdir','clientId','../../git/salesforce/utils/sfdx.utils','../utils/components-api','ComponentsApi','readFile','toString','(((.+)+)+)+$','12QsYvHq','spawnPromise','AuthUtils','146353VBubip','apply','BACKUP\x20ZIP','/unpackaged.zip','816460ToXNyL','refreshToken','-r\x20.temp/','splitZip','.temp/','/services/data/','2476677xbGddV','Body','getData','../utils/sfdx.utils','adm-zip','170AfirhJ','10upQgVE','--json\x20','sfdx','retrieveZip','4532689NlzIbe','36949cnSeAT','__esModule','../../../constants','SFDXUtils','isAuthorizationError','defineProperty','post','base64','clientSecret','catch','updateAccessToken','65544lRCfVS','length','force:mdapi:retrieve:report\x20','getEntries','--jobid\x20','join','5257062hdQEwT','toBuffer','constructor','/sobjects/Attachment','search','SFDX','instanceUrl','SALESFORCE_API_VERSION','-u\x20'];a87_0x13c3=function(){return _0x2a1d91;};return a87_0x13c3();}async function retrieveReport(_0x4e23e7,_0x3be4d5,_0x536caf){const _0xf10dc3=a87_0x172586,_0x4a1976=_0xf10dc3(0x17d)+_0xf10dc3(0x16c)+(_0xf10dc3(0x17f)+_0x4e23e7+'\x20')+(_0xf10dc3(0x161)+_0x536caf+'/'+_0x4e23e7+'\x20')+(_0xf10dc3(0x189)+_0x3be4d5[_0xf10dc3(0x18a)]);await sfdx_utils_1[_0xf10dc3(0x186)][_0xf10dc3(0x159)](_0xf10dc3(0x16d),_0x4a1976)[_0xf10dc3(0x179)](async _0x2ed808=>{const _0x34753b=_0xf10dc3;if(sfdx_utils_2['SFDXUtils'][_0x34753b(0x174)](_0x2ed808))return _0x3be4d5[_0x34753b(0x18a)]=await auth_utils_1[_0x34753b(0x15a)][_0x34753b(0x17a)](_0x3be4d5[_0x34753b(0x187)],_0x3be4d5[_0x34753b(0x160)],_0x3be4d5[_0x34753b(0x151)],_0x3be4d5[_0x34753b(0x178)]),retrieveReport(_0x4e23e7,_0x3be4d5,_0x536caf);throw _0x2ed808;});}