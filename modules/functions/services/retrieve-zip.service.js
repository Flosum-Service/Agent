const a103_0x2a4388=a103_0x3862;(function(_0x127edc,_0x2c5154){const _0x5b220a=a103_0x3862,_0x4e3286=_0x127edc();while(!![]){try{const _0x4c366f=parseInt(_0x5b220a(0x1ed))/0x1*(parseInt(_0x5b220a(0x1f9))/0x2)+parseInt(_0x5b220a(0x1e4))/0x3*(parseInt(_0x5b220a(0x202))/0x4)+parseInt(_0x5b220a(0x1e5))/0x5*(parseInt(_0x5b220a(0x1d3))/0x6)+parseInt(_0x5b220a(0x1cf))/0x7+-parseInt(_0x5b220a(0x205))/0x8+parseInt(_0x5b220a(0x1e6))/0x9+-parseInt(_0x5b220a(0x1d7))/0xa;if(_0x4c366f===_0x2c5154)break;else _0x4e3286['push'](_0x4e3286['shift']());}catch(_0x4c3681){_0x4e3286['push'](_0x4e3286['shift']());}}}(a103_0x2347,0x8a141));const a103_0x31077e=(function(){let _0x36b1ea=!![];return function(_0x22859d,_0x1e482d){const _0x2b2c8c=_0x36b1ea?function(){if(_0x1e482d){const _0x44c477=_0x1e482d['apply'](_0x22859d,arguments);return _0x1e482d=null,_0x44c477;}}:function(){};return _0x36b1ea=![],_0x2b2c8c;};}()),a103_0x27dc67=a103_0x31077e(this,function(){const _0x3e00ce=a103_0x3862;return a103_0x27dc67[_0x3e00ce(0x200)]()[_0x3e00ce(0x1df)](_0x3e00ce(0x1dc))[_0x3e00ce(0x200)]()['constructor'](a103_0x27dc67)[_0x3e00ce(0x1df)](_0x3e00ce(0x1dc));});function a103_0x3862(_0x1db505,_0x8bf125){const _0x5651b8=a103_0x2347();return a103_0x3862=function(_0x27dc67,_0x31077e){_0x27dc67=_0x27dc67-0x1ce;let _0x2347df=_0x5651b8[_0x27dc67];return _0x2347df;},a103_0x3862(_0x1db505,_0x8bf125);}a103_0x27dc67();'use strict';function a103_0x2347(){const _0xf078a=['/unpackaged.zip','/services/data/v','--jobid\x20','updateAccessToken','../../git/salesforce/utils/sfdx.utils','createSFDXProject','SFDXUtils','path','catch','ComponentsApi','1822ArDzgP','getEntries','getEntry','refreshToken','accessToken','exists','/sobjects/Attachment','toString','default','779108wJIduT','BACKUP\x20ZIP','setInstanceUrl','7711856XXqFKX','retrieveZip','4274585Uqafzz','../utils/components-api','../utils/auth.utils','AuthUtils','978636GAdaWK','uuid','-r\x20.temp/','getData','4826230wJjfUq','toBuffer','clientSecret','addFile','MAX_ZIP_SIZE','(((.+)+)+)+$','fs/promises','splitZip','search','readFile','post','SFDX','../utils/sfdx.utils','3RXsxLi','5DaTQpG','4481523aUTGJK','base64','.temp/','length','adm-zip','instanceUrl','../../git/internal/fs.internal','599WyITOK','__esModule'];a103_0x2347=function(){return _0xf078a;};return a103_0x2347();}var __importDefault=this&&this['__importDefault']||function(_0x25b13a){const _0x3ef654=a103_0x3862;return _0x25b13a&&_0x25b13a[_0x3ef654(0x1ee)]?_0x25b13a:{'default':_0x25b13a};};Object['defineProperty'](exports,a103_0x2a4388(0x1ee),{'value':!![]}),exports[a103_0x2a4388(0x1ce)]=void 0x0;const promises_1=require(a103_0x2a4388(0x1dd)),sfdx_utils_1=require(a103_0x2a4388(0x1f3)),fs_internal_1=require(a103_0x2a4388(0x1ec)),sfdx_utils_2=require(a103_0x2a4388(0x1e3)),auth_utils_1=require(a103_0x2a4388(0x1d1)),adm_zip_1=__importDefault(require(a103_0x2a4388(0x1ea))),uuid_1=require(a103_0x2a4388(0x1d4)),components_api_1=require(a103_0x2a4388(0x1d0)),path_1=require(a103_0x2a4388(0x1f6));async function retrieveZip({backupAsyncId:_0x5527db,credentials:_0x1c0d3b,metadataLogId:_0x4e6889,apiVersion:_0x1009a9},_0x20d59f){const _0x538c80=a103_0x2a4388;var _0x4fd4e6;const _0x4aecda=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x538c80(0x1fe)](_0x538c80(0x1e8)+_0x4aecda)&&await(0x0,promises_1['mkdir'])(_0x538c80(0x1e8)+_0x4aecda,{'recursive':!![]});await sfdx_utils_2[_0x538c80(0x1f5)][_0x538c80(0x1f4)](_0x5527db,_0x4aecda),await sfdx_utils_2['SFDXUtils'][_0x538c80(0x204)](_0x1c0d3b[_0x538c80(0x1eb)],_0x5527db,_0x4aecda),await retrieveReport(_0x5527db,_0x1c0d3b,_0x4aecda);const _0x3d5885=new adm_zip_1['default'](await(0x0,promises_1[_0x538c80(0x1e0)])(_0x538c80(0x1e8)+_0x4aecda+'/'+_0x5527db+_0x538c80(0x1ef))),_0x33a3ee=new adm_zip_1[(_0x538c80(0x201))]();for(const {entryName:_0x497386}of _0x3d5885[_0x538c80(0x1fa)]()){const _0x19bfca=(_0x4fd4e6=_0x3d5885[_0x538c80(0x1fb)](_0x497386))===null||_0x4fd4e6===void 0x0?void 0x0:_0x4fd4e6[_0x538c80(0x1d6)]();_0x33a3ee[_0x538c80(0x1da)]((0x0,path_1['join'])('src',_0x497386),_0x19bfca);}const _0x13eb21=_0x33a3ee['toBuffer']()[_0x538c80(0x200)](_0x538c80(0x1e7))[_0x538c80(0x1e9)];if(_0x13eb21>=components_api_1[_0x538c80(0x1db)]){const [_0x25056f,_0x5f1cef]=await components_api_1[_0x538c80(0x1f8)][_0x538c80(0x1de)](_0x33a3ee,_0x13eb21),_0x55f251={'ParentId':_0x4e6889,'Name':_0x538c80(0x203),'Description':_0x538c80(0x203),'Body':_0x25056f['toBuffer']()['toString']('base64')};await _0x20d59f['post'](_0x538c80(0x1f0)+_0x1009a9+_0x538c80(0x1ff),_0x55f251),_0x55f251['Body']=_0x5f1cef['toBuffer']()[_0x538c80(0x200)](_0x538c80(0x1e7)),await _0x20d59f[_0x538c80(0x1e1)](_0x538c80(0x1f0)+_0x1009a9+_0x538c80(0x1ff),_0x55f251);}else{const _0x5116fa={'ParentId':_0x4e6889,'Name':'BACKUP\x20ZIP','Description':_0x538c80(0x203),'Body':_0x33a3ee[_0x538c80(0x1d8)]()[_0x538c80(0x200)](_0x538c80(0x1e7))};await _0x20d59f['post'](_0x538c80(0x1f0)+_0x1009a9+_0x538c80(0x1ff),_0x5116fa);}}catch(_0xc41549){throw _0xc41549;}finally{await(0x0,promises_1['rm'])(_0x538c80(0x1e8)+_0x4aecda+'/'+_0x5527db,{'recursive':!![]});}}exports[a103_0x2a4388(0x1ce)]=retrieveZip;async function retrieveReport(_0xa511c2,_0x105a95,_0x36b4a3){const _0x388691=a103_0x2a4388,_0x4964e8='force:mdapi:retrieve:report\x20'+'--json\x20'+(_0x388691(0x1f1)+_0xa511c2+'\x20')+(_0x388691(0x1d5)+_0x36b4a3+'/'+_0xa511c2+'\x20')+('-u\x20'+_0x105a95[_0x388691(0x1fd)]);await sfdx_utils_1[_0x388691(0x1e2)]['spawn'](_0x4964e8)[_0x388691(0x1f7)](async _0x25dd64=>{const _0x67bcca=_0x388691;if(sfdx_utils_2[_0x67bcca(0x1f5)]['isAuthorizationError'](_0x25dd64))return _0x105a95['accessToken']=await auth_utils_1[_0x67bcca(0x1d2)][_0x67bcca(0x1f2)](_0x105a95[_0x67bcca(0x1eb)],_0x105a95[_0x67bcca(0x1fc)],_0x105a95['clientId'],_0x105a95[_0x67bcca(0x1d9)]),retrieveReport(_0xa511c2,_0x105a95,_0x36b4a3);throw _0x25dd64;});}