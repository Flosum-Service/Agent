const a105_0x13a8b9=a105_0x5386;(function(_0x11a980,_0xb700a5){const _0x5e9323=a105_0x5386,_0x5188a8=_0x11a980();while(!![]){try{const _0x496c58=parseInt(_0x5e9323(0x10f))/0x1*(parseInt(_0x5e9323(0x108))/0x2)+-parseInt(_0x5e9323(0x125))/0x3*(parseInt(_0x5e9323(0x128))/0x4)+-parseInt(_0x5e9323(0x105))/0x5+-parseInt(_0x5e9323(0x123))/0x6*(parseInt(_0x5e9323(0x118))/0x7)+-parseInt(_0x5e9323(0xfd))/0x8*(parseInt(_0x5e9323(0x116))/0x9)+parseInt(_0x5e9323(0x11a))/0xa+parseInt(_0x5e9323(0x129))/0xb*(parseInt(_0x5e9323(0x111))/0xc);if(_0x496c58===_0xb700a5)break;else _0x5188a8['push'](_0x5188a8['shift']());}catch(_0x17bca3){_0x5188a8['push'](_0x5188a8['shift']());}}}(a105_0x37f8,0xe0a8d));const a105_0x3d7db0=(function(){let _0x368cc1=!![];return function(_0x5cc686,_0x587402){const _0x3a56e2=_0x368cc1?function(){const _0x5ceaa3=a105_0x5386;if(_0x587402){const _0x23904f=_0x587402[_0x5ceaa3(0xfe)](_0x5cc686,arguments);return _0x587402=null,_0x23904f;}}:function(){};return _0x368cc1=![],_0x3a56e2;};}()),a105_0xc877a7=a105_0x3d7db0(this,function(){const _0x551c20=a105_0x5386;return a105_0xc877a7[_0x551c20(0x124)]()['search']('(((.+)+)+)+$')[_0x551c20(0x124)]()['constructor'](a105_0xc877a7)[_0x551c20(0x10c)](_0x551c20(0xff));});a105_0xc877a7();function a105_0x37f8(){const _0x59c6a4=['spawn','Body','adm-zip','setInstanceUrl','SFDXUtils','getData','__esModule','mkdir','fs/promises','updateAccessToken','length','exists','-u\x20','../../git/internal/fs.internal','2040aMEsNB','apply','(((.+)+)+)+$','--jobid\x20','getEntries','__importDefault','catch','../utils/components-api','3558930eKDprn','instanceUrl','../utils/auth.utils','2rHYXzC','addFile','accessToken','toBuffer','search','readFile','BACKUP\x20ZIP','1361111HxSbwC','defineProperty','12zFVGWQ','/sobjects/Attachment','default','/unpackaged.zip','refreshToken','50697viftSe','post','120561iThwVT','retrieveZip','7333800ulxbno','../utils/sfdx.utils','isAuthorizationError','base64','uuid','.temp/','splitZip','src','join','48jhZvFL','toString','117woNnpX','createSFDXProject','force:mdapi:retrieve:report\x20','133832emqddo','26582171McPsRs','/services/data/v'];a105_0x37f8=function(){return _0x59c6a4;};return a105_0x37f8();}'use strict';var __importDefault=this&&this[a105_0x13a8b9(0x102)]||function(_0x488707){const _0x2f8c33=a105_0x13a8b9;return _0x488707&&_0x488707[_0x2f8c33(0xf5)]?_0x488707:{'default':_0x488707};};Object[a105_0x13a8b9(0x110)](exports,a105_0x13a8b9(0xf5),{'value':!![]}),exports[a105_0x13a8b9(0x119)]=void 0x0;function a105_0x5386(_0x1a5124,_0x2f2153){const _0x160d63=a105_0x37f8();return a105_0x5386=function(_0xc877a7,_0x3d7db0){_0xc877a7=_0xc877a7-0xf4;let _0x37f881=_0x160d63[_0xc877a7];return _0x37f881;},a105_0x5386(_0x1a5124,_0x2f2153);}const promises_1=require(a105_0x13a8b9(0xf7)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),fs_internal_1=require(a105_0x13a8b9(0xfc)),sfdx_utils_2=require(a105_0x13a8b9(0x11b)),auth_utils_1=require(a105_0x13a8b9(0x107)),adm_zip_1=__importDefault(require(a105_0x13a8b9(0x12d))),uuid_1=require(a105_0x13a8b9(0x11e)),components_api_1=require(a105_0x13a8b9(0x104)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x4280b9,credentials:_0x5014ec,metadataLogId:_0x34c797,apiVersion:_0x5ac5c7},_0xd848aa){const _0x484d1f=a105_0x13a8b9;var _0xc9e6cd;const _0x439c51=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x484d1f(0xfa)]('.temp/'+_0x439c51)&&await(0x0,promises_1[_0x484d1f(0xf6)])('.temp/'+_0x439c51,{'recursive':!![]});await sfdx_utils_2[_0x484d1f(0x12f)][_0x484d1f(0x126)](_0x4280b9,_0x439c51),await sfdx_utils_2[_0x484d1f(0x12f)][_0x484d1f(0x12e)](_0x5014ec[_0x484d1f(0x106)],_0x4280b9,_0x439c51),await retrieveReport(_0x4280b9,_0x5014ec,_0x439c51);const _0x42b89b=new adm_zip_1['default'](await(0x0,promises_1[_0x484d1f(0x10d)])(_0x484d1f(0x11f)+_0x439c51+'/'+_0x4280b9+_0x484d1f(0x114))),_0x286161=new adm_zip_1[(_0x484d1f(0x113))]();for(const {entryName:_0x2fc97f}of _0x42b89b[_0x484d1f(0x101)]()){const _0x1ef411=(_0xc9e6cd=_0x42b89b['getEntry'](_0x2fc97f))===null||_0xc9e6cd===void 0x0?void 0x0:_0xc9e6cd[_0x484d1f(0xf4)]();_0x286161[_0x484d1f(0x109)]((0x0,path_1[_0x484d1f(0x122)])(_0x484d1f(0x121),_0x2fc97f),_0x1ef411);}const _0x24fb1e=_0x286161[_0x484d1f(0x10b)]()[_0x484d1f(0x124)](_0x484d1f(0x11d))[_0x484d1f(0xf9)];if(_0x24fb1e>=components_api_1['MAX_ZIP_SIZE']){const [_0xa31345,_0x174b4c]=await components_api_1['ComponentsApi'][_0x484d1f(0x120)](_0x286161,_0x24fb1e),_0x8ffb0b={'ParentId':_0x34c797,'Name':'BACKUP\x20ZIP','Description':_0x484d1f(0x10e),'Body':_0xa31345[_0x484d1f(0x10b)]()[_0x484d1f(0x124)](_0x484d1f(0x11d))};await _0xd848aa[_0x484d1f(0x117)](_0x484d1f(0x12a)+_0x5ac5c7+_0x484d1f(0x112),_0x8ffb0b),_0x8ffb0b[_0x484d1f(0x12c)]=_0x174b4c[_0x484d1f(0x10b)]()[_0x484d1f(0x124)](_0x484d1f(0x11d)),await _0xd848aa[_0x484d1f(0x117)](_0x484d1f(0x12a)+_0x5ac5c7+'/sobjects/Attachment',_0x8ffb0b);}else{const _0x95b795={'ParentId':_0x34c797,'Name':_0x484d1f(0x10e),'Description':_0x484d1f(0x10e),'Body':_0x286161[_0x484d1f(0x10b)]()[_0x484d1f(0x124)]('base64')};await _0xd848aa['post'](_0x484d1f(0x12a)+_0x5ac5c7+_0x484d1f(0x112),_0x95b795);}}catch(_0x264d3f){throw _0x264d3f;}finally{await(0x0,promises_1['rm'])(_0x484d1f(0x11f)+_0x439c51+'/'+_0x4280b9,{'recursive':!![]});}}exports[a105_0x13a8b9(0x119)]=retrieveZip;async function retrieveReport(_0x3efff6,_0x1f7041,_0x75524d){const _0x158f2e=a105_0x13a8b9,_0x5758db=_0x158f2e(0x127)+'--json\x20'+(_0x158f2e(0x100)+_0x3efff6+'\x20')+('-r\x20.temp/'+_0x75524d+'/'+_0x3efff6+'\x20')+(_0x158f2e(0xfb)+_0x1f7041[_0x158f2e(0x10a)]);await sfdx_utils_1['SFDX'][_0x158f2e(0x12b)](_0x5758db)[_0x158f2e(0x103)](async _0x4931c2=>{const _0x283f1b=_0x158f2e;if(sfdx_utils_2[_0x283f1b(0x12f)][_0x283f1b(0x11c)](_0x4931c2))return _0x1f7041['accessToken']=await auth_utils_1['AuthUtils'][_0x283f1b(0xf8)](_0x1f7041[_0x283f1b(0x106)],_0x1f7041[_0x283f1b(0x115)],_0x1f7041['clientId'],_0x1f7041['clientSecret']),retrieveReport(_0x3efff6,_0x1f7041,_0x75524d);throw _0x4931c2;});}