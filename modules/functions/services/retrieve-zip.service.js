function a87_0x3cd2(_0x199dbb,_0xfbca1a){const _0x1b6e3d=a87_0x6cc7();return a87_0x3cd2=function(_0x571f98,_0x10acfe){_0x571f98=_0x571f98-0x84;let _0x6cc7ca=_0x1b6e3d[_0x571f98];return _0x6cc7ca;},a87_0x3cd2(_0x199dbb,_0xfbca1a);}const a87_0x4f853a=a87_0x3cd2;(function(_0x18fa99,_0x12023a){const _0xce9d86=a87_0x3cd2,_0x4b91cc=_0x18fa99();while(!![]){try{const _0x1b4265=parseInt(_0xce9d86(0x89))/0x1*(-parseInt(_0xce9d86(0x95))/0x2)+-parseInt(_0xce9d86(0x9f))/0x3+-parseInt(_0xce9d86(0xa0))/0x4+parseInt(_0xce9d86(0x8f))/0x5+-parseInt(_0xce9d86(0xab))/0x6+-parseInt(_0xce9d86(0x9d))/0x7*(parseInt(_0xce9d86(0x8c))/0x8)+parseInt(_0xce9d86(0xb2))/0x9;if(_0x1b4265===_0x12023a)break;else _0x4b91cc['push'](_0x4b91cc['shift']());}catch(_0x315761){_0x4b91cc['push'](_0x4b91cc['shift']());}}}(a87_0x6cc7,0x4a235));const a87_0x10acfe=(function(){let _0x140bff=!![];return function(_0x3b9825,_0x1d3233){const _0x30c3ae=_0x140bff?function(){if(_0x1d3233){const _0x2d0112=_0x1d3233['apply'](_0x3b9825,arguments);return _0x1d3233=null,_0x2d0112;}}:function(){};return _0x140bff=![],_0x30c3ae;};}()),a87_0x571f98=a87_0x10acfe(this,function(){const _0x498f4a=a87_0x3cd2;return a87_0x571f98['toString']()[_0x498f4a(0xac)]('(((.+)+)+)+$')[_0x498f4a(0x94)]()[_0x498f4a(0x86)](a87_0x571f98)[_0x498f4a(0xac)]('(((.+)+)+)+$');});a87_0x571f98();'use strict';var __importDefault=this&&this[a87_0x4f853a(0x99)]||function(_0x5976c3){const _0x4e9bc5=a87_0x4f853a;return _0x5976c3&&_0x5976c3[_0x4e9bc5(0xb3)]?_0x5976c3:{'default':_0x5976c3};};function a87_0x6cc7(){const _0x94f753=['getData','fs/promises','--jobid\x20','ComponentsApi','SALESFORCE_API_VERSION','constructor','retrieveZip','src','196gRwbit','base64','/unpackaged.zip','4240DYAuSb','path','/services/data/','413135ydPXjM','../utils/components-api','readFile','.temp/','accessToken','toString','1540VkBKoT','../../../constants','catch','updateAccessToken','__importDefault','clientSecret','length','instanceUrl','7525gNFYYr','sfdx','533142ZYBcfa','2327220HYrbBG','join','BACKUP\x20ZIP','addFile','toBuffer','../../git/salesforce/utils/sfdx.utils','uuid','../utils/auth.utils','Body','/sobjects/Attachment','refreshToken','85620rKXqnw','search','../../git/internal/fs.internal','isAuthorizationError','MAX_ZIP_SIZE','SFDX','setInstanceUrl','15439509qmPreW','__esModule','createSFDXProject','spawnPromise'];a87_0x6cc7=function(){return _0x94f753;};return a87_0x6cc7();}Object['defineProperty'](exports,a87_0x4f853a(0xb3),{'value':!![]}),exports[a87_0x4f853a(0x87)]=void 0x0;const constants_1=require(a87_0x4f853a(0x96)),promises_1=require(a87_0x4f853a(0xb7)),sfdx_utils_1=require(a87_0x4f853a(0xa5)),fs_internal_1=require(a87_0x4f853a(0xad)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a87_0x4f853a(0xa7)),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a87_0x4f853a(0xa6)),components_api_1=require(a87_0x4f853a(0x90)),path_1=require(a87_0x4f853a(0x8d));async function retrieveZip({backupAsyncId:_0x50bf17,credentials:_0x8f57a6,metadataLogId:_0x413e3d},_0x227393){const _0x33fdd0=a87_0x4f853a;var _0xbcc4d;const _0x5e619c=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x33fdd0(0x92)+_0x5e619c)&&await(0x0,promises_1['mkdir'])(_0x33fdd0(0x92)+_0x5e619c,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x33fdd0(0xb4)](_0x50bf17,_0x5e619c),await sfdx_utils_2['SFDXUtils'][_0x33fdd0(0xb1)](_0x8f57a6[_0x33fdd0(0x9c)],_0x50bf17,_0x5e619c),await retrieveReport(_0x50bf17,_0x8f57a6,_0x5e619c);const _0x564085=new adm_zip_1['default'](await(0x0,promises_1[_0x33fdd0(0x91)])(_0x33fdd0(0x92)+_0x5e619c+'/'+_0x50bf17+_0x33fdd0(0x8b))),_0x1f49f5=new adm_zip_1['default']();for(const {entryName:_0x503b19}of _0x564085['getEntries']()){const _0x5987ec=(_0xbcc4d=_0x564085['getEntry'](_0x503b19))===null||_0xbcc4d===void 0x0?void 0x0:_0xbcc4d[_0x33fdd0(0xb6)]();_0x1f49f5[_0x33fdd0(0xa3)]((0x0,path_1[_0x33fdd0(0xa1)])(_0x33fdd0(0x88),_0x503b19),_0x5987ec);}const _0x5eddf6=_0x1f49f5[_0x33fdd0(0xa4)]()[_0x33fdd0(0x94)](_0x33fdd0(0x8a))[_0x33fdd0(0x9b)];if(_0x5eddf6>=components_api_1[_0x33fdd0(0xaf)]){const [_0x20e6f5,_0x21b7e0]=await components_api_1[_0x33fdd0(0x84)]['splitZip'](_0x1f49f5,_0x5eddf6),_0x3938ae={'ParentId':_0x413e3d,'Name':'BACKUP\x20ZIP','Description':_0x33fdd0(0xa2),'Body':_0x20e6f5['toBuffer']()[_0x33fdd0(0x94)]('base64')};await _0x227393['post'](_0x33fdd0(0x8e)+constants_1[_0x33fdd0(0x85)]+_0x33fdd0(0xa9),_0x3938ae),_0x3938ae[_0x33fdd0(0xa8)]=_0x21b7e0[_0x33fdd0(0xa4)]()['toString'](_0x33fdd0(0x8a)),await _0x227393['post']('/services/data/'+constants_1[_0x33fdd0(0x85)]+_0x33fdd0(0xa9),_0x3938ae);}else{const _0x6b79f7={'ParentId':_0x413e3d,'Name':_0x33fdd0(0xa2),'Description':_0x33fdd0(0xa2),'Body':_0x1f49f5[_0x33fdd0(0xa4)]()[_0x33fdd0(0x94)](_0x33fdd0(0x8a))};await _0x227393['post']('/services/data/'+constants_1[_0x33fdd0(0x85)]+'/sobjects/Attachment',_0x6b79f7);}}catch(_0x589557){throw _0x589557;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x5e619c+'/'+_0x50bf17,{'recursive':!![]});}}exports[a87_0x4f853a(0x87)]=retrieveZip;async function retrieveReport(_0x6840a9,_0x521b4,_0x477c56){const _0xc1380b=a87_0x4f853a,_0x5e56aa='force:mdapi:retrieve:report\x20'+'--json\x20'+(_0xc1380b(0xb8)+_0x6840a9+'\x20')+('-r\x20.temp/'+_0x477c56+'/'+_0x6840a9+'\x20')+('-u\x20'+_0x521b4['accessToken']);await sfdx_utils_1[_0xc1380b(0xb0)][_0xc1380b(0xb5)](_0xc1380b(0x9e),_0x5e56aa)[_0xc1380b(0x97)](async _0x57e977=>{const _0x4f8726=_0xc1380b;if(sfdx_utils_2['SFDXUtils'][_0x4f8726(0xae)](_0x57e977))return _0x521b4[_0x4f8726(0x93)]=await auth_utils_1['AuthUtils'][_0x4f8726(0x98)](_0x521b4['instanceUrl'],_0x521b4[_0x4f8726(0xaa)],_0x521b4['clientId'],_0x521b4[_0x4f8726(0x9a)]),retrieveReport(_0x6840a9,_0x521b4,_0x477c56);throw _0x57e977;});}