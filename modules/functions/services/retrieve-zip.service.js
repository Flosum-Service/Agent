const a86_0x9ece12=a86_0xf78a;function a86_0xf78a(_0x4c994d,_0x4b3d4d){const _0x2ad04c=a86_0x3cef();return a86_0xf78a=function(_0x18736d,_0x4650e6){_0x18736d=_0x18736d-0x167;let _0x3cef7d=_0x2ad04c[_0x18736d];return _0x3cef7d;},a86_0xf78a(_0x4c994d,_0x4b3d4d);}(function(_0x25dbf7,_0x50fa5d){const _0x3e12d3=a86_0xf78a,_0x319b3e=_0x25dbf7();while(!![]){try{const _0x32a295=parseInt(_0x3e12d3(0x172))/0x1*(parseInt(_0x3e12d3(0x185))/0x2)+-parseInt(_0x3e12d3(0x1a2))/0x3+-parseInt(_0x3e12d3(0x19f))/0x4*(-parseInt(_0x3e12d3(0x186))/0x5)+-parseInt(_0x3e12d3(0x18f))/0x6*(-parseInt(_0x3e12d3(0x17f))/0x7)+parseInt(_0x3e12d3(0x174))/0x8*(parseInt(_0x3e12d3(0x189))/0x9)+parseInt(_0x3e12d3(0x19d))/0xa*(parseInt(_0x3e12d3(0x199))/0xb)+-parseInt(_0x3e12d3(0x16a))/0xc;if(_0x32a295===_0x50fa5d)break;else _0x319b3e['push'](_0x319b3e['shift']());}catch(_0x220347){_0x319b3e['push'](_0x319b3e['shift']());}}}(a86_0x3cef,0x539fb));const a86_0x4650e6=(function(){let _0x130b9a=!![];return function(_0x3e3aa4,_0x24836e){const _0x4b7d75=_0x130b9a?function(){if(_0x24836e){const _0x52f1c2=_0x24836e['apply'](_0x3e3aa4,arguments);return _0x24836e=null,_0x52f1c2;}}:function(){};return _0x130b9a=![],_0x4b7d75;};}()),a86_0x18736d=a86_0x4650e6(this,function(){const _0x1afb26=a86_0xf78a;return a86_0x18736d['toString']()[_0x1afb26(0x195)]('(((.+)+)+)+$')[_0x1afb26(0x173)]()[_0x1afb26(0x197)](a86_0x18736d)[_0x1afb26(0x195)]('(((.+)+)+)+$');});a86_0x18736d();'use strict';var __importDefault=this&&this[a86_0x9ece12(0x177)]||function(_0x246788){return _0x246788&&_0x246788['__esModule']?_0x246788:{'default':_0x246788};};Object[a86_0x9ece12(0x17a)](exports,a86_0x9ece12(0x190),{'value':!![]}),exports[a86_0x9ece12(0x167)]=void 0x0;const constants_1=require(a86_0x9ece12(0x169)),promises_1=require(a86_0x9ece12(0x16c)),sfdx_utils_1=require(a86_0x9ece12(0x19e)),fs_internal_1=require(a86_0x9ece12(0x170)),sfdx_utils_2=require(a86_0x9ece12(0x171)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a86_0x9ece12(0x193))),uuid_1=require('uuid'),components_api_1=require(a86_0x9ece12(0x179)),path_1=require(a86_0x9ece12(0x18c));async function retrieveZip({backupAsyncId:_0x2091e8,credentials:_0x25a424,metadataLogId:_0x56dd09},_0x5d3466){const _0x8996bf=a86_0x9ece12;var _0x410845;const _0x5f3260=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x8996bf(0x17e)](_0x8996bf(0x187)+_0x5f3260)&&await(0x0,promises_1[_0x8996bf(0x17d)])(_0x8996bf(0x187)+_0x5f3260,{'recursive':!![]});await sfdx_utils_2[_0x8996bf(0x1a3)][_0x8996bf(0x19b)](_0x2091e8,_0x5f3260),await sfdx_utils_2[_0x8996bf(0x1a3)][_0x8996bf(0x16b)](_0x25a424['instanceUrl'],_0x2091e8,_0x5f3260),await retrieveReport(_0x2091e8,_0x25a424,_0x5f3260);const _0x5125ce=new adm_zip_1[(_0x8996bf(0x192))](await(0x0,promises_1[_0x8996bf(0x175)])(_0x8996bf(0x187)+_0x5f3260+'/'+_0x2091e8+_0x8996bf(0x18a))),_0x2286dd=new adm_zip_1[(_0x8996bf(0x192))]();for(const {entryName:_0x52e8a2}of _0x5125ce[_0x8996bf(0x196)]()){const _0x53befd=(_0x410845=_0x5125ce[_0x8996bf(0x17b)](_0x52e8a2))===null||_0x410845===void 0x0?void 0x0:_0x410845[_0x8996bf(0x178)]();_0x2286dd[_0x8996bf(0x16d)]((0x0,path_1[_0x8996bf(0x1a6)])(_0x8996bf(0x18e),_0x52e8a2),_0x53befd);}const _0x82c736=_0x2286dd[_0x8996bf(0x176)]()[_0x8996bf(0x173)]('base64')[_0x8996bf(0x19c)];if(_0x82c736>=components_api_1['MAX_ZIP_SIZE']){const [_0x39ffc1,_0x1aebff]=await components_api_1['ComponentsApi']['splitZip'](_0x2286dd,_0x82c736),_0x60685d={'ParentId':_0x56dd09,'Name':_0x8996bf(0x19a),'Description':_0x8996bf(0x19a),'Body':_0x39ffc1[_0x8996bf(0x176)]()[_0x8996bf(0x173)](_0x8996bf(0x16e))};await _0x5d3466[_0x8996bf(0x16f)](_0x8996bf(0x183)+constants_1[_0x8996bf(0x198)]+_0x8996bf(0x188),_0x60685d),_0x60685d[_0x8996bf(0x1a5)]=_0x1aebff[_0x8996bf(0x176)]()[_0x8996bf(0x173)](_0x8996bf(0x16e)),await _0x5d3466['post']('/services/data/'+constants_1[_0x8996bf(0x198)]+_0x8996bf(0x188),_0x60685d);}else{const _0x3eefaa={'ParentId':_0x56dd09,'Name':'BACKUP\x20ZIP','Description':_0x8996bf(0x19a),'Body':_0x2286dd[_0x8996bf(0x176)]()[_0x8996bf(0x173)](_0x8996bf(0x16e))};await _0x5d3466[_0x8996bf(0x16f)](_0x8996bf(0x183)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x3eefaa);}}catch(_0xb373c1){throw _0xb373c1;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x5f3260+'/'+_0x2091e8,{'recursive':!![]});}}function a86_0x3cef(){const _0x232d83=['getEntry','accessToken','mkdir','exists','2269309ytjOHQ','-u\x20','isAuthorizationError','SFDX','/services/data/','refreshToken','188444LlzqFY','724315eHofPT','.temp/','/sobjects/Attachment','9SpDyjm','/unpackaged.zip','clientSecret','path','sfdx','src','12uTcKFi','__esModule','catch','default','adm-zip','updateAccessToken','search','getEntries','constructor','SALESFORCE_API_VERSION','11oPZdBG','BACKUP\x20ZIP','createSFDXProject','length','52630WJSPMm','../../git/salesforce/utils/sfdx.utils','16NzvhUR','-r\x20.temp/','spawnPromise','154638cArfgU','SFDXUtils','clientId','Body','join','retrieveZip','force:mdapi:retrieve:report\x20','../../../constants','24378600gZFSWU','setInstanceUrl','fs/promises','addFile','base64','post','../../git/internal/fs.internal','../utils/sfdx.utils','7MjQPOD','toString','4263808BYWqpi','readFile','toBuffer','__importDefault','getData','../utils/components-api','defineProperty'];a86_0x3cef=function(){return _0x232d83;};return a86_0x3cef();}exports[a86_0x9ece12(0x167)]=retrieveZip;async function retrieveReport(_0x5e168d,_0x3d1f67,_0x589d18){const _0x559f0c=a86_0x9ece12,_0x11dd40=_0x559f0c(0x168)+'--json\x20'+('--jobid\x20'+_0x5e168d+'\x20')+(_0x559f0c(0x1a0)+_0x589d18+'/'+_0x5e168d+'\x20')+(_0x559f0c(0x180)+_0x3d1f67[_0x559f0c(0x17c)]);await sfdx_utils_1[_0x559f0c(0x182)][_0x559f0c(0x1a1)](_0x559f0c(0x18d),_0x11dd40)[_0x559f0c(0x191)](async _0x43f7a8=>{const _0xac4b49=_0x559f0c;if(sfdx_utils_2['SFDXUtils'][_0xac4b49(0x181)](_0x43f7a8))return _0x3d1f67['accessToken']=await auth_utils_1['AuthUtils'][_0xac4b49(0x194)](_0x3d1f67['instanceUrl'],_0x3d1f67[_0xac4b49(0x184)],_0x3d1f67[_0xac4b49(0x1a4)],_0x3d1f67[_0xac4b49(0x18b)]),retrieveReport(_0x5e168d,_0x3d1f67,_0x589d18);throw _0x43f7a8;});}