const a106_0x2a4950=a106_0x2be3;(function(_0xb68058,_0xa44104){const _0x1d5f18=a106_0x2be3,_0x194056=_0xb68058();while(!![]){try{const _0x4ac065=parseInt(_0x1d5f18(0x1d1))/0x1+parseInt(_0x1d5f18(0x1c2))/0x2+parseInt(_0x1d5f18(0x1ba))/0x3*(parseInt(_0x1d5f18(0x1d2))/0x4)+parseInt(_0x1d5f18(0x1a3))/0x5*(-parseInt(_0x1d5f18(0x1bb))/0x6)+parseInt(_0x1d5f18(0x1d0))/0x7*(parseInt(_0x1d5f18(0x1c7))/0x8)+parseInt(_0x1d5f18(0x1a9))/0x9*(-parseInt(_0x1d5f18(0x1d4))/0xa)+parseInt(_0x1d5f18(0x1be))/0xb*(-parseInt(_0x1d5f18(0x1a8))/0xc);if(_0x4ac065===_0xa44104)break;else _0x194056['push'](_0x194056['shift']());}catch(_0x515038){_0x194056['push'](_0x194056['shift']());}}}(a106_0x3966,0x75274));const a106_0x4348b6=(function(){let _0x128e2e=!![];return function(_0xed8e40,_0x4aefea){const _0x4e0511=_0x128e2e?function(){if(_0x4aefea){const _0x2bc644=_0x4aefea['apply'](_0xed8e40,arguments);return _0x4aefea=null,_0x2bc644;}}:function(){};return _0x128e2e=![],_0x4e0511;};}()),a106_0x532cb3=a106_0x4348b6(this,function(){const _0x1db6c8=a106_0x2be3;return a106_0x532cb3[_0x1db6c8(0x1cb)]()[_0x1db6c8(0x1cc)](_0x1db6c8(0x1ae))[_0x1db6c8(0x1cb)]()[_0x1db6c8(0x1bf)](a106_0x532cb3)[_0x1db6c8(0x1cc)](_0x1db6c8(0x1ae));});a106_0x532cb3();'use strict';function a106_0x3966(){const _0x196b08=['constructor','../utils/auth.utils','accessToken','608426lgOgSo','uuid','spawn','refreshToken','retrieveZip','32bcPOnG','MAX_ZIP_SIZE','../../git/salesforce/utils/sfdx.utils','force:mdapi:retrieve:report\x20','toString','search','.temp/','SFDXUtils','__esModule','918470YaCFxn','624161IttDdf','12lQhjOj','updateAccessToken','1770yGxXmd','readFile','createSFDXProject','__importDefault','toBuffer','-r\x20.temp/','369745ArXuQC','mkdir','--json\x20','src','/sobjects/Attachment','18420xHOgQW','33867rybVdF','defineProperty','path','instanceUrl','../utils/components-api','(((.+)+)+)+$','fs/promises','join','length','default','getEntry','exists','base64','post','BACKUP\x20ZIP','adm-zip','/services/data/v','546426LcuOsr','6WKCDSK','SFDX','clientId','5588HBrzsx'];a106_0x3966=function(){return _0x196b08;};return a106_0x3966();}var __importDefault=this&&this[a106_0x2a4950(0x1d7)]||function(_0x2ceef0){const _0x43b71b=a106_0x2a4950;return _0x2ceef0&&_0x2ceef0[_0x43b71b(0x1cf)]?_0x2ceef0:{'default':_0x2ceef0};};Object[a106_0x2a4950(0x1aa)](exports,a106_0x2a4950(0x1cf),{'value':!![]}),exports[a106_0x2a4950(0x1c6)]=void 0x0;const promises_1=require(a106_0x2a4950(0x1af)),sfdx_utils_1=require(a106_0x2a4950(0x1c9)),fs_internal_1=require('../../git/internal/fs.internal'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a106_0x2a4950(0x1c0)),adm_zip_1=__importDefault(require(a106_0x2a4950(0x1b8))),uuid_1=require(a106_0x2a4950(0x1c3)),components_api_1=require(a106_0x2a4950(0x1ad)),path_1=require(a106_0x2a4950(0x1ab));function a106_0x2be3(_0x27d0ff,_0xbf03c1){const _0x3e9352=a106_0x3966();return a106_0x2be3=function(_0x532cb3,_0x4348b6){_0x532cb3=_0x532cb3-0x1a2;let _0x396667=_0x3e9352[_0x532cb3];return _0x396667;},a106_0x2be3(_0x27d0ff,_0xbf03c1);}async function retrieveZip({backupAsyncId:_0x5637b6,credentials:_0x2dc847,metadataLogId:_0x4712c4,apiVersion:_0x1052d6},_0xc9accf){const _0x1795df=a106_0x2a4950;var _0x3507f0;const _0x265a01=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x1795df(0x1b4)]('.temp/'+_0x265a01)&&await(0x0,promises_1[_0x1795df(0x1a4)])('.temp/'+_0x265a01,{'recursive':!![]});await sfdx_utils_2[_0x1795df(0x1ce)][_0x1795df(0x1d6)](_0x5637b6,_0x265a01),await sfdx_utils_2[_0x1795df(0x1ce)]['setInstanceUrl'](_0x2dc847[_0x1795df(0x1ac)],_0x5637b6,_0x265a01),await retrieveReport(_0x5637b6,_0x2dc847,_0x265a01);const _0x29595a=new adm_zip_1[(_0x1795df(0x1b2))](await(0x0,promises_1[_0x1795df(0x1d5)])('.temp/'+_0x265a01+'/'+_0x5637b6+'/unpackaged.zip')),_0x4ec8f3=new adm_zip_1[(_0x1795df(0x1b2))]();for(const {entryName:_0x57dad1}of _0x29595a['getEntries']()){const _0x31f7e9=(_0x3507f0=_0x29595a[_0x1795df(0x1b3)](_0x57dad1))===null||_0x3507f0===void 0x0?void 0x0:_0x3507f0['getData']();_0x4ec8f3['addFile']((0x0,path_1[_0x1795df(0x1b0)])(_0x1795df(0x1a6),_0x57dad1),_0x31f7e9);}const _0x26b4f7=_0x4ec8f3[_0x1795df(0x1d8)]()[_0x1795df(0x1cb)](_0x1795df(0x1b5))[_0x1795df(0x1b1)];if(_0x26b4f7>=components_api_1[_0x1795df(0x1c8)]){const [_0x5b2dd7,_0x95e4e8]=await components_api_1['ComponentsApi']['splitZip'](_0x4ec8f3,_0x26b4f7),_0x674b70={'ParentId':_0x4712c4,'Name':_0x1795df(0x1b7),'Description':_0x1795df(0x1b7),'Body':_0x5b2dd7[_0x1795df(0x1d8)]()[_0x1795df(0x1cb)]('base64')};await _0xc9accf[_0x1795df(0x1b6)](_0x1795df(0x1b9)+_0x1052d6+'/sobjects/Attachment',_0x674b70),_0x674b70['Body']=_0x95e4e8['toBuffer']()[_0x1795df(0x1cb)](_0x1795df(0x1b5)),await _0xc9accf[_0x1795df(0x1b6)](_0x1795df(0x1b9)+_0x1052d6+_0x1795df(0x1a7),_0x674b70);}else{const _0x508f0c={'ParentId':_0x4712c4,'Name':_0x1795df(0x1b7),'Description':_0x1795df(0x1b7),'Body':_0x4ec8f3[_0x1795df(0x1d8)]()[_0x1795df(0x1cb)](_0x1795df(0x1b5))};await _0xc9accf[_0x1795df(0x1b6)]('/services/data/v'+_0x1052d6+_0x1795df(0x1a7),_0x508f0c);}}catch(_0xe10d42){throw _0xe10d42;}finally{await(0x0,promises_1['rm'])(_0x1795df(0x1cd)+_0x265a01+'/'+_0x5637b6,{'recursive':!![]});}}exports[a106_0x2a4950(0x1c6)]=retrieveZip;async function retrieveReport(_0x1e6050,_0x4f9888,_0x903e82){const _0x4c27a0=a106_0x2a4950,_0x6f7286=_0x4c27a0(0x1ca)+_0x4c27a0(0x1a5)+('--jobid\x20'+_0x1e6050+'\x20')+(_0x4c27a0(0x1a2)+_0x903e82+'/'+_0x1e6050+'\x20')+('-u\x20'+_0x4f9888[_0x4c27a0(0x1c1)]);await sfdx_utils_1[_0x4c27a0(0x1bc)][_0x4c27a0(0x1c4)](_0x6f7286)['catch'](async _0x11c741=>{const _0x241499=_0x4c27a0;if(sfdx_utils_2[_0x241499(0x1ce)]['isAuthorizationError'](_0x11c741))return _0x4f9888['accessToken']=await auth_utils_1['AuthUtils'][_0x241499(0x1d3)](_0x4f9888[_0x241499(0x1ac)],_0x4f9888[_0x241499(0x1c5)],_0x4f9888[_0x241499(0x1bd)],_0x4f9888['clientSecret']),retrieveReport(_0x1e6050,_0x4f9888,_0x903e82);throw _0x11c741;});}