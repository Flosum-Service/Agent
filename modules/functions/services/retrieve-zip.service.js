const a105_0x46554a=a105_0x52ea;(function(_0xc694ea,_0x56a97b){const _0x3e1537=a105_0x52ea,_0x1475ea=_0xc694ea();while(!![]){try{const _0x4e600e=-parseInt(_0x3e1537(0x1d9))/0x1*(parseInt(_0x3e1537(0x1d8))/0x2)+-parseInt(_0x3e1537(0x1ee))/0x3*(-parseInt(_0x3e1537(0x1e0))/0x4)+parseInt(_0x3e1537(0x202))/0x5*(parseInt(_0x3e1537(0x1eb))/0x6)+-parseInt(_0x3e1537(0x1dc))/0x7*(parseInt(_0x3e1537(0x1f5))/0x8)+parseInt(_0x3e1537(0x203))/0x9+-parseInt(_0x3e1537(0x1e2))/0xa+parseInt(_0x3e1537(0x1f3))/0xb*(parseInt(_0x3e1537(0x1d6))/0xc);if(_0x4e600e===_0x56a97b)break;else _0x1475ea['push'](_0x1475ea['shift']());}catch(_0xb999e6){_0x1475ea['push'](_0x1475ea['shift']());}}}(a105_0x2e22,0x4bf2e));const a105_0x2e8ea1=(function(){let _0x12e186=!![];return function(_0x522e7f,_0x5d9967){const _0x4e8f39=_0x12e186?function(){const _0x1cff3d=a105_0x52ea;if(_0x5d9967){const _0x1db802=_0x5d9967[_0x1cff3d(0x1dd)](_0x522e7f,arguments);return _0x5d9967=null,_0x1db802;}}:function(){};return _0x12e186=![],_0x4e8f39;};}()),a105_0x55a9a5=a105_0x2e8ea1(this,function(){const _0xe57991=a105_0x52ea;return a105_0x55a9a5[_0xe57991(0x205)]()[_0xe57991(0x1f9)]('(((.+)+)+)+$')['toString']()['constructor'](a105_0x55a9a5)['search']('(((.+)+)+)+$');});function a105_0x2e22(){const _0x20cd9e=['.temp/','addFile','clientSecret','496344hsKbdW','default','../utils/sfdx.utils','3SBGEhA','clientId','toBuffer','SFDX','fs/promises','22zrvQWe','createSFDXProject','103080xMAeLR','/sobjects/Attachment','path','retrieveZip','search','getData','join','splitZip','force:mdapi:retrieve:report\x20','accessToken','MAX_ZIP_SIZE','src','--json\x20','20HTisdS','4551966bIMupI','../../git/internal/fs.internal','toString','--jobid\x20','base64','getEntries','uuid','BACKUP\x20ZIP','__esModule','spawn','adm-zip','2773272LSEvvU','-u\x20','4VbDsao','152007JfjaLN','/services/data/v','../utils/auth.utils','182wPjnww','apply','../utils/components-api','instanceUrl','1026548aISgeD','catch','6054090bDLETj','mkdir','post','SFDXUtils','readFile','../../git/salesforce/utils/sfdx.utils'];a105_0x2e22=function(){return _0x20cd9e;};return a105_0x2e22();}a105_0x55a9a5();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5d3b84){const _0x257cf1=a105_0x52ea;return _0x5d3b84&&_0x5d3b84[_0x257cf1(0x1d3)]?_0x5d3b84:{'default':_0x5d3b84};};function a105_0x52ea(_0x271a78,_0x16325a){const _0x53a5dd=a105_0x2e22();return a105_0x52ea=function(_0x55a9a5,_0x2e8ea1){_0x55a9a5=_0x55a9a5-0x1cf;let _0x2e2242=_0x53a5dd[_0x55a9a5];return _0x2e2242;},a105_0x52ea(_0x271a78,_0x16325a);}Object['defineProperty'](exports,a105_0x46554a(0x1d3),{'value':!![]}),exports[a105_0x46554a(0x1f8)]=void 0x0;const promises_1=require(a105_0x46554a(0x1f2)),sfdx_utils_1=require(a105_0x46554a(0x1e7)),fs_internal_1=require(a105_0x46554a(0x204)),sfdx_utils_2=require(a105_0x46554a(0x1ed)),auth_utils_1=require(a105_0x46554a(0x1db)),adm_zip_1=__importDefault(require(a105_0x46554a(0x1d5))),uuid_1=require(a105_0x46554a(0x1d1)),components_api_1=require(a105_0x46554a(0x1de)),path_1=require(a105_0x46554a(0x1f7));async function retrieveZip({backupAsyncId:_0x523d91,credentials:_0xa2f5f4,metadataLogId:_0x1b20d8,apiVersion:_0x66dec},_0x2c2956){const _0x236ebf=a105_0x46554a;var _0x1c8ba3;const _0x40c5bd=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists']('.temp/'+_0x40c5bd)&&await(0x0,promises_1[_0x236ebf(0x1e3)])(_0x236ebf(0x1e8)+_0x40c5bd,{'recursive':!![]});await sfdx_utils_2[_0x236ebf(0x1e5)][_0x236ebf(0x1f4)](_0x523d91,_0x40c5bd),await sfdx_utils_2['SFDXUtils']['setInstanceUrl'](_0xa2f5f4[_0x236ebf(0x1df)],_0x523d91,_0x40c5bd),await retrieveReport(_0x523d91,_0xa2f5f4,_0x40c5bd);const _0x1b1aa0=new adm_zip_1[(_0x236ebf(0x1ec))](await(0x0,promises_1[_0x236ebf(0x1e6)])(_0x236ebf(0x1e8)+_0x40c5bd+'/'+_0x523d91+'/unpackaged.zip')),_0x2108b8=new adm_zip_1['default']();for(const {entryName:_0xf62f8}of _0x1b1aa0[_0x236ebf(0x1d0)]()){const _0x46a0e9=(_0x1c8ba3=_0x1b1aa0['getEntry'](_0xf62f8))===null||_0x1c8ba3===void 0x0?void 0x0:_0x1c8ba3[_0x236ebf(0x1fa)]();_0x2108b8[_0x236ebf(0x1e9)]((0x0,path_1[_0x236ebf(0x1fb)])(_0x236ebf(0x200),_0xf62f8),_0x46a0e9);}const _0x1efa9e=_0x2108b8[_0x236ebf(0x1f0)]()[_0x236ebf(0x205)](_0x236ebf(0x1cf))['length'];if(_0x1efa9e>=components_api_1[_0x236ebf(0x1ff)]){const [_0x1ed2fb,_0x2b83e7]=await components_api_1['ComponentsApi'][_0x236ebf(0x1fc)](_0x2108b8,_0x1efa9e),_0x32826a={'ParentId':_0x1b20d8,'Name':'BACKUP\x20ZIP','Description':'BACKUP\x20ZIP','Body':_0x1ed2fb['toBuffer']()[_0x236ebf(0x205)](_0x236ebf(0x1cf))};await _0x2c2956[_0x236ebf(0x1e4)](_0x236ebf(0x1da)+_0x66dec+_0x236ebf(0x1f6),_0x32826a),_0x32826a['Body']=_0x2b83e7['toBuffer']()[_0x236ebf(0x205)](_0x236ebf(0x1cf)),await _0x2c2956[_0x236ebf(0x1e4)]('/services/data/v'+_0x66dec+'/sobjects/Attachment',_0x32826a);}else{const _0x371fca={'ParentId':_0x1b20d8,'Name':_0x236ebf(0x1d2),'Description':'BACKUP\x20ZIP','Body':_0x2108b8[_0x236ebf(0x1f0)]()['toString'](_0x236ebf(0x1cf))};await _0x2c2956[_0x236ebf(0x1e4)](_0x236ebf(0x1da)+_0x66dec+_0x236ebf(0x1f6),_0x371fca);}}catch(_0x6a68f1){throw _0x6a68f1;}finally{await(0x0,promises_1['rm'])(_0x236ebf(0x1e8)+_0x40c5bd+'/'+_0x523d91,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x11793a,_0x45c4a8,_0x4015b8){const _0xbce58c=a105_0x46554a,_0x34659d=_0xbce58c(0x1fd)+_0xbce58c(0x201)+(_0xbce58c(0x206)+_0x11793a+'\x20')+('-r\x20.temp/'+_0x4015b8+'/'+_0x11793a+'\x20')+(_0xbce58c(0x1d7)+_0x45c4a8[_0xbce58c(0x1fe)]);await sfdx_utils_1[_0xbce58c(0x1f1)][_0xbce58c(0x1d4)](_0x34659d)[_0xbce58c(0x1e1)](async _0x1eb68a=>{const _0x4207c1=_0xbce58c;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x1eb68a))return _0x45c4a8['accessToken']=await auth_utils_1['AuthUtils']['updateAccessToken'](_0x45c4a8['instanceUrl'],_0x45c4a8['refreshToken'],_0x45c4a8[_0x4207c1(0x1ef)],_0x45c4a8[_0x4207c1(0x1ea)]),retrieveReport(_0x11793a,_0x45c4a8,_0x4015b8);throw _0x1eb68a;});}