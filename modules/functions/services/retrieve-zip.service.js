const a87_0x112a12=a87_0x48de;(function(_0x4c44c9,_0x3c541e){const _0x3b8ad5=a87_0x48de,_0x102e6e=_0x4c44c9();while(!![]){try{const _0x218509=-parseInt(_0x3b8ad5(0x168))/0x1*(parseInt(_0x3b8ad5(0x140))/0x2)+parseInt(_0x3b8ad5(0x145))/0x3*(parseInt(_0x3b8ad5(0x13e))/0x4)+-parseInt(_0x3b8ad5(0x155))/0x5+parseInt(_0x3b8ad5(0x162))/0x6*(parseInt(_0x3b8ad5(0x171))/0x7)+-parseInt(_0x3b8ad5(0x158))/0x8*(-parseInt(_0x3b8ad5(0x152))/0x9)+-parseInt(_0x3b8ad5(0x178))/0xa*(-parseInt(_0x3b8ad5(0x14a))/0xb)+-parseInt(_0x3b8ad5(0x150))/0xc;if(_0x218509===_0x3c541e)break;else _0x102e6e['push'](_0x102e6e['shift']());}catch(_0x3c3872){_0x102e6e['push'](_0x102e6e['shift']());}}}(a87_0x25e8,0xea75b));const a87_0x164e63=(function(){let _0xaaae1d=!![];return function(_0x142f6e,_0x3bf905){const _0x53318e=_0xaaae1d?function(){if(_0x3bf905){const _0x3f78ea=_0x3bf905['apply'](_0x142f6e,arguments);return _0x3bf905=null,_0x3f78ea;}}:function(){};return _0xaaae1d=![],_0x53318e;};}()),a87_0x3f68ab=a87_0x164e63(this,function(){const _0x523aa3=a87_0x48de;return a87_0x3f68ab[_0x523aa3(0x15f)]()['search'](_0x523aa3(0x174))[_0x523aa3(0x15f)]()['constructor'](a87_0x3f68ab)[_0x523aa3(0x163)](_0x523aa3(0x174));});a87_0x3f68ab();'use strict';var __importDefault=this&&this[a87_0x112a12(0x146)]||function(_0x32ec85){const _0x5f0700=a87_0x112a12;return _0x32ec85&&_0x32ec85[_0x5f0700(0x166)]?_0x32ec85:{'default':_0x32ec85};};Object[a87_0x112a12(0x14e)](exports,a87_0x112a12(0x166),{'value':!![]}),exports[a87_0x112a12(0x14f)]=void 0x0;const constants_1=require(a87_0x112a12(0x149)),promises_1=require('fs/promises'),sfdx_utils_1=require(a87_0x112a12(0x14b)),fs_internal_1=require(a87_0x112a12(0x159)),sfdx_utils_2=require(a87_0x112a12(0x148)),auth_utils_1=require(a87_0x112a12(0x172)),adm_zip_1=__importDefault(require(a87_0x112a12(0x161))),uuid_1=require(a87_0x112a12(0x142)),components_api_1=require('../utils/components-api'),path_1=require(a87_0x112a12(0x13f));async function retrieveZip({backupAsyncId:_0x210cea,credentials:_0x12ce62,metadataLogId:_0x287608},_0x3735f7){const _0x25892e=a87_0x112a12;var _0x5b6d59;const _0x458b4a=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x25892e(0x143)](_0x25892e(0x153)+_0x458b4a)&&await(0x0,promises_1[_0x25892e(0x14c)])(_0x25892e(0x153)+_0x458b4a,{'recursive':!![]});await sfdx_utils_2[_0x25892e(0x177)]['createSFDXProject'](_0x210cea,_0x458b4a),await sfdx_utils_2[_0x25892e(0x177)]['setInstanceUrl'](_0x12ce62[_0x25892e(0x160)],_0x210cea,_0x458b4a),await retrieveReport(_0x210cea,_0x12ce62,_0x458b4a);const _0x87a780=new adm_zip_1[(_0x25892e(0x15a))](await(0x0,promises_1[_0x25892e(0x169)])(_0x25892e(0x153)+_0x458b4a+'/'+_0x210cea+_0x25892e(0x15e))),_0x190d4f=new adm_zip_1[(_0x25892e(0x15a))]();for(const {entryName:_0x3ae56e}of _0x87a780[_0x25892e(0x157)]()){const _0x5780c6=(_0x5b6d59=_0x87a780[_0x25892e(0x13c)](_0x3ae56e))===null||_0x5b6d59===void 0x0?void 0x0:_0x5b6d59[_0x25892e(0x179)]();_0x190d4f['addFile']((0x0,path_1[_0x25892e(0x16f)])(_0x25892e(0x147),_0x3ae56e),_0x5780c6);}const _0x404e66=_0x190d4f[_0x25892e(0x176)]()['toString'](_0x25892e(0x16d))[_0x25892e(0x170)];if(_0x404e66>=components_api_1[_0x25892e(0x15d)]){const [_0x338ff9,_0x2af8f3]=await components_api_1[_0x25892e(0x16e)][_0x25892e(0x165)](_0x190d4f,_0x404e66),_0x386b76={'ParentId':_0x287608,'Name':_0x25892e(0x175),'Description':_0x25892e(0x175),'Body':_0x338ff9[_0x25892e(0x176)]()[_0x25892e(0x15f)](_0x25892e(0x16d))};await _0x3735f7[_0x25892e(0x151)](_0x25892e(0x164)+constants_1[_0x25892e(0x15b)]+_0x25892e(0x13d),_0x386b76),_0x386b76['Body']=_0x2af8f3[_0x25892e(0x176)]()[_0x25892e(0x15f)](_0x25892e(0x16d)),await _0x3735f7[_0x25892e(0x151)](_0x25892e(0x164)+constants_1[_0x25892e(0x15b)]+_0x25892e(0x13d),_0x386b76);}else{const _0x512f0f={'ParentId':_0x287608,'Name':_0x25892e(0x175),'Description':_0x25892e(0x175),'Body':_0x190d4f['toBuffer']()[_0x25892e(0x15f)](_0x25892e(0x16d))};await _0x3735f7['post'](_0x25892e(0x164)+constants_1[_0x25892e(0x15b)]+_0x25892e(0x13d),_0x512f0f);}}catch(_0x5e1ef3){throw _0x5e1ef3;}finally{await(0x0,promises_1['rm'])(_0x25892e(0x153)+_0x458b4a+'/'+_0x210cea,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;function a87_0x25e8(){const _0x31c439=['257463RnVwEG','.temp/','clientSecret','8772370mIwHuj','spawn','getEntries','528XFDanl','../../git/internal/fs.internal','default','SALESFORCE_API_VERSION','isAuthorizationError','MAX_ZIP_SIZE','/unpackaged.zip','toString','instanceUrl','adm-zip','6vHdZUn','search','/services/data/','splitZip','__esModule','accessToken','167709JSLWZh','readFile','refreshToken','-r\x20.temp/','AuthUtils','base64','ComponentsApi','join','length','11588857XbaSqo','../utils/auth.utils','--jobid\x20','(((.+)+)+)+$','BACKUP\x20ZIP','toBuffer','SFDXUtils','168200xYVYNq','getData','getEntry','/sobjects/Attachment','52mZvwom','path','22DUoizo','catch','uuid','exists','force:mdapi:retrieve:report\x20','195315SDpFsA','__importDefault','src','../utils/sfdx.utils','../../../constants','737nhRRjy','../../git/salesforce/utils/sfdx.utils','mkdir','updateAccessToken','defineProperty','retrieveZip','11487576cBpaKm','post'];a87_0x25e8=function(){return _0x31c439;};return a87_0x25e8();}function a87_0x48de(_0x5af720,_0xd880eb){const _0x5cca8c=a87_0x25e8();return a87_0x48de=function(_0x3f68ab,_0x164e63){_0x3f68ab=_0x3f68ab-0x13c;let _0x25e8fc=_0x5cca8c[_0x3f68ab];return _0x25e8fc;},a87_0x48de(_0x5af720,_0xd880eb);}async function retrieveReport(_0x4ddd8a,_0x28200e,_0x41fca4){const _0x5dda69=a87_0x112a12,_0x526a25=_0x5dda69(0x144)+'--json\x20'+(_0x5dda69(0x173)+_0x4ddd8a+'\x20')+(_0x5dda69(0x16b)+_0x41fca4+'/'+_0x4ddd8a+'\x20')+('-u\x20'+_0x28200e[_0x5dda69(0x167)]);await sfdx_utils_1['SFDX'][_0x5dda69(0x156)](_0x526a25)[_0x5dda69(0x141)](async _0x32900e=>{const _0x30d450=_0x5dda69;if(sfdx_utils_2[_0x30d450(0x177)][_0x30d450(0x15c)](_0x32900e))return _0x28200e[_0x30d450(0x167)]=await auth_utils_1[_0x30d450(0x16c)][_0x30d450(0x14d)](_0x28200e['instanceUrl'],_0x28200e[_0x30d450(0x16a)],_0x28200e['clientId'],_0x28200e[_0x30d450(0x154)]),retrieveReport(_0x4ddd8a,_0x28200e,_0x41fca4);throw _0x32900e;});}