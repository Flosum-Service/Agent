const a106_0x103365=a106_0x1d48;(function(_0x274dbf,_0xe2403a){const _0x44f810=a106_0x1d48,_0x289038=_0x274dbf();while(!![]){try{const _0x3c03d5=-parseInt(_0x44f810(0x108))/0x1*(parseInt(_0x44f810(0xfb))/0x2)+-parseInt(_0x44f810(0xf8))/0x3+-parseInt(_0x44f810(0xfa))/0x4*(parseInt(_0x44f810(0x102))/0x5)+-parseInt(_0x44f810(0x119))/0x6+-parseInt(_0x44f810(0x107))/0x7+parseInt(_0x44f810(0xff))/0x8*(parseInt(_0x44f810(0x101))/0x9)+parseInt(_0x44f810(0x10e))/0xa;if(_0x3c03d5===_0xe2403a)break;else _0x289038['push'](_0x289038['shift']());}catch(_0x308d67){_0x289038['push'](_0x289038['shift']());}}}(a106_0x112d,0xaac4d));function a106_0x1d48(_0x349497,_0x27f064){const _0x2a1064=a106_0x112d();return a106_0x1d48=function(_0x30ae8d,_0x2a236a){_0x30ae8d=_0x30ae8d-0xf8;let _0x112dfa=_0x2a1064[_0x30ae8d];return _0x112dfa;},a106_0x1d48(_0x349497,_0x27f064);}const a106_0x2a236a=(function(){let _0x44fc4c=!![];return function(_0x33baea,_0x20633c){const _0x33149=_0x44fc4c?function(){const _0x383956=a106_0x1d48;if(_0x20633c){const _0xdf2602=_0x20633c[_0x383956(0x116)](_0x33baea,arguments);return _0x20633c=null,_0xdf2602;}}:function(){};return _0x44fc4c=![],_0x33149;};}()),a106_0x30ae8d=a106_0x2a236a(this,function(){const _0x55887d=a106_0x1d48;return a106_0x30ae8d[_0x55887d(0x11b)]()['search'](_0x55887d(0x10f))[_0x55887d(0x11b)]()['constructor'](a106_0x30ae8d)[_0x55887d(0x114)](_0x55887d(0x10f));});a106_0x30ae8d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4255b4){const _0xd74649=a106_0x1d48;return _0x4255b4&&_0x4255b4[_0xd74649(0x113)]?_0x4255b4:{'default':_0x4255b4};};Object[a106_0x103365(0xfd)](exports,'__esModule',{'value':!![]}),exports[a106_0x103365(0x115)]=void 0x0;const adm_zip_1=__importDefault(require('adm-zip')),components_api_1=require('../utils/components-api'),path_1=require('path'),salesforce_1=require(a106_0x103365(0x117));function a106_0x112d(){const _0xc94361=['apply','@flosum/salesforce','base64','511950tLeYbY','post','toString','3208890AuYncl','addFile','11212nBpdue','2ibPyen','splitZip','defineProperty','MAX_ZIP_SIZE','176OmaSyQ','join','163125GXeHGT','1835tgyjOt','/sobjects/Attachment','toBuffer','/services/data/v','zipFile','1032731YKzHoC','804171bycliQ','getEntry','Body','getData','ComponentsApi','default','34360790XADyax','(((.+)+)+)+$','getEntries','BACKUP\x20ZIP','length','__esModule','search','retrieveZip'];a106_0x112d=function(){return _0xc94361;};return a106_0x112d();}async function retrieveZip({backupAsyncId:_0x4c2f03,metadataLogId:_0x541a7d,apiVersion:_0x45a6da},_0x5a967d,_0x1b763e){const _0x3f8981=a106_0x103365;var _0x5d351a;try{const _0x430bca={'apiVersion':_0x45a6da,'asyncProcessId':_0x4c2f03},_0x4c7ae=await new salesforce_1['GetMetadataZipSoapCommand'](_0x430bca)['request'](_0x1b763e),_0x4b5bc1=new adm_zip_1[(_0x3f8981(0x10d))](_0x4c7ae[_0x3f8981(0x106)]),_0x48413a=new adm_zip_1[(_0x3f8981(0x10d))]();for(const {entryName:_0x574a1b}of _0x4b5bc1[_0x3f8981(0x110)]()){const _0x497095=(_0x5d351a=_0x4b5bc1[_0x3f8981(0x109)](_0x574a1b))===null||_0x5d351a===void 0x0?void 0x0:_0x5d351a[_0x3f8981(0x10b)]();_0x48413a[_0x3f8981(0xf9)]((0x0,path_1[_0x3f8981(0x100)])(_0x574a1b),_0x497095);}const _0x4c8b60=_0x48413a['toBuffer']()[_0x3f8981(0x11b)](_0x3f8981(0x118))[_0x3f8981(0x112)];if(_0x4c8b60>=components_api_1[_0x3f8981(0xfe)]){const [_0x8b5f0f,_0x5618b7]=await components_api_1[_0x3f8981(0x10c)][_0x3f8981(0xfc)](_0x48413a,_0x4c8b60),_0x24420d={'ParentId':_0x541a7d,'Name':'BACKUP\x20ZIP','Description':_0x3f8981(0x111),'Body':_0x8b5f0f['toBuffer']()[_0x3f8981(0x11b)](_0x3f8981(0x118))};await _0x5a967d[_0x3f8981(0x11a)](_0x3f8981(0x105)+_0x45a6da+'/sobjects/Attachment',_0x24420d),_0x24420d[_0x3f8981(0x10a)]=_0x5618b7['toBuffer']()[_0x3f8981(0x11b)](_0x3f8981(0x118)),await _0x5a967d[_0x3f8981(0x11a)]('/services/data/v'+_0x45a6da+_0x3f8981(0x103),_0x24420d);}else{const _0xf7cf99={'ParentId':_0x541a7d,'Name':_0x3f8981(0x111),'Description':_0x3f8981(0x111),'Body':_0x48413a[_0x3f8981(0x104)]()[_0x3f8981(0x11b)](_0x3f8981(0x118))};await _0x5a967d[_0x3f8981(0x11a)](_0x3f8981(0x105)+_0x45a6da+_0x3f8981(0x103),_0xf7cf99);}}catch(_0x4f7ce){throw _0x4f7ce;}}exports[a106_0x103365(0x115)]=retrieveZip;