const a88_0x3e4ffc=a88_0x251c;function a88_0x251c(_0x3f4589,_0x1637bd){const _0x24039c=a88_0x3e63();return a88_0x251c=function(_0x10232d,_0x42a988){_0x10232d=_0x10232d-0x171;let _0x3e6350=_0x24039c[_0x10232d];return _0x3e6350;},a88_0x251c(_0x3f4589,_0x1637bd);}(function(_0xc892c7,_0x324799){const _0xfb5cd8=a88_0x251c,_0x17ff0b=_0xc892c7();while(!![]){try{const _0x1d5da6=parseInt(_0xfb5cd8(0x18f))/0x1*(-parseInt(_0xfb5cd8(0x188))/0x2)+parseInt(_0xfb5cd8(0x17d))/0x3+parseInt(_0xfb5cd8(0x171))/0x4*(parseInt(_0xfb5cd8(0x195))/0x5)+parseInt(_0xfb5cd8(0x19e))/0x6*(-parseInt(_0xfb5cd8(0x17b))/0x7)+-parseInt(_0xfb5cd8(0x19d))/0x8+parseInt(_0xfb5cd8(0x199))/0x9*(parseInt(_0xfb5cd8(0x1a3))/0xa)+-parseInt(_0xfb5cd8(0x176))/0xb;if(_0x1d5da6===_0x324799)break;else _0x17ff0b['push'](_0x17ff0b['shift']());}catch(_0x2110b0){_0x17ff0b['push'](_0x17ff0b['shift']());}}}(a88_0x3e63,0x52c49));const a88_0x42a988=(function(){let _0x13071a=!![];return function(_0x304ca2,_0x23b1b8){const _0x505220=_0x13071a?function(){const _0x47da4d=a88_0x251c;if(_0x23b1b8){const _0x325945=_0x23b1b8[_0x47da4d(0x177)](_0x304ca2,arguments);return _0x23b1b8=null,_0x325945;}}:function(){};return _0x13071a=![],_0x505220;};}()),a88_0x10232d=a88_0x42a988(this,function(){const _0x14a18d=a88_0x251c;return a88_0x10232d['toString']()['search'](_0x14a18d(0x172))[_0x14a18d(0x1a1)]()[_0x14a18d(0x17f)](a88_0x10232d)[_0x14a18d(0x19c)](_0x14a18d(0x172));});a88_0x10232d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x8a95ca){const _0x460fbf=a88_0x251c;return _0x8a95ca&&_0x8a95ca[_0x460fbf(0x1a6)]?_0x8a95ca:{'default':_0x8a95ca};};Object[a88_0x3e4ffc(0x183)](exports,'__esModule',{'value':!![]}),exports[a88_0x3e4ffc(0x194)]=void 0x0;const promises_1=require(a88_0x3e4ffc(0x173)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),fs_internal_1=require(a88_0x3e4ffc(0x184)),sfdx_utils_2=require(a88_0x3e4ffc(0x1a7)),auth_utils_1=require(a88_0x3e4ffc(0x181)),adm_zip_1=__importDefault(require(a88_0x3e4ffc(0x19a))),uuid_1=require(a88_0x3e4ffc(0x186)),components_api_1=require(a88_0x3e4ffc(0x18c)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x16287e,credentials:_0x30342d,metadataLogId:_0x5a0475,apiVersion:_0x362255},_0x7256a){const _0x4075b3=a88_0x3e4ffc;var _0x4f3d5a;const _0x539586=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x4075b3(0x17a)+_0x539586)&&await(0x0,promises_1[_0x4075b3(0x17c)])(_0x4075b3(0x17a)+_0x539586,{'recursive':!![]});await sfdx_utils_2[_0x4075b3(0x197)][_0x4075b3(0x193)](_0x16287e,_0x539586),await sfdx_utils_2['SFDXUtils'][_0x4075b3(0x1a4)](_0x30342d[_0x4075b3(0x192)],_0x16287e,_0x539586),await retrieveReport(_0x16287e,_0x30342d,_0x539586);const _0x3b9c5d=new adm_zip_1[(_0x4075b3(0x198))](await(0x0,promises_1[_0x4075b3(0x1a5)])(_0x4075b3(0x17a)+_0x539586+'/'+_0x16287e+_0x4075b3(0x185))),_0x21a1de=new adm_zip_1[(_0x4075b3(0x198))]();for(const {entryName:_0x4e41c8}of _0x3b9c5d[_0x4075b3(0x18d)]()){const _0x4a24c3=(_0x4f3d5a=_0x3b9c5d[_0x4075b3(0x187)](_0x4e41c8))===null||_0x4f3d5a===void 0x0?void 0x0:_0x4f3d5a[_0x4075b3(0x179)]();_0x21a1de[_0x4075b3(0x1a8)]((0x0,path_1[_0x4075b3(0x196)])('src',_0x4e41c8),_0x4a24c3);}const _0x3607ba=_0x21a1de[_0x4075b3(0x17e)]()[_0x4075b3(0x1a1)](_0x4075b3(0x189))[_0x4075b3(0x182)];if(_0x3607ba>=components_api_1[_0x4075b3(0x174)]){const [_0x3f0957,_0x5c8793]=await components_api_1[_0x4075b3(0x178)]['splitZip'](_0x21a1de,_0x3607ba),_0x1ca707={'ParentId':_0x5a0475,'Name':'BACKUP\x20ZIP','Description':_0x4075b3(0x19b),'Body':_0x3f0957['toBuffer']()['toString']('base64')};await _0x7256a['post']('/services/data/v'+_0x362255+_0x4075b3(0x1a2),_0x1ca707),_0x1ca707[_0x4075b3(0x190)]=_0x5c8793[_0x4075b3(0x17e)]()[_0x4075b3(0x1a1)](_0x4075b3(0x189)),await _0x7256a['post'](_0x4075b3(0x175)+_0x362255+_0x4075b3(0x1a2),_0x1ca707);}else{const _0x56e0cd={'ParentId':_0x5a0475,'Name':'BACKUP\x20ZIP','Description':_0x4075b3(0x19b),'Body':_0x21a1de[_0x4075b3(0x17e)]()[_0x4075b3(0x1a1)]('base64')};await _0x7256a['post'](_0x4075b3(0x175)+_0x362255+_0x4075b3(0x1a2),_0x56e0cd);}}catch(_0x1734d7){throw _0x1734d7;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x539586+'/'+_0x16287e,{'recursive':!![]});}}exports[a88_0x3e4ffc(0x194)]=retrieveZip;async function retrieveReport(_0x3f6ff6,_0x2b2f4b,_0x8f0790){const _0x220557=a88_0x3e4ffc,_0x2b6cc4='force:mdapi:retrieve:report\x20'+'--json\x20'+(_0x220557(0x180)+_0x3f6ff6+'\x20')+('-r\x20.temp/'+_0x8f0790+'/'+_0x3f6ff6+'\x20')+('-u\x20'+_0x2b2f4b['accessToken']);await sfdx_utils_1[_0x220557(0x18a)][_0x220557(0x18b)](_0x2b6cc4)[_0x220557(0x191)](async _0x182930=>{const _0x50176b=_0x220557;if(sfdx_utils_2[_0x50176b(0x197)][_0x50176b(0x1a0)](_0x182930))return _0x2b2f4b['accessToken']=await auth_utils_1[_0x50176b(0x18e)]['updateAccessToken'](_0x2b2f4b['instanceUrl'],_0x2b2f4b[_0x50176b(0x19f)],_0x2b2f4b['clientId'],_0x2b2f4b['clientSecret']),retrieveReport(_0x3f6ff6,_0x2b2f4b,_0x8f0790);throw _0x182930;});}function a88_0x3e63(){const _0x2ddf57=['MAX_ZIP_SIZE','/services/data/v','1909402zohyaF','apply','ComponentsApi','getData','.temp/','4571gEikoz','mkdir','1165704btHLhW','toBuffer','constructor','--jobid\x20','../utils/auth.utils','length','defineProperty','../../git/internal/fs.internal','/unpackaged.zip','uuid','getEntry','2vVHTMv','base64','SFDX','spawn','../utils/components-api','getEntries','AuthUtils','595069RzSKMF','Body','catch','instanceUrl','createSFDXProject','retrieveZip','9425IIpfGl','join','SFDXUtils','default','5950890SNXaZP','adm-zip','BACKUP\x20ZIP','search','323416kRIGZK','2526mlLTQP','refreshToken','isAuthorizationError','toString','/sobjects/Attachment','10yMDlXo','setInstanceUrl','readFile','__esModule','../utils/sfdx.utils','addFile','792ZlbUrO','(((.+)+)+)+$','fs/promises'];a88_0x3e63=function(){return _0x2ddf57;};return a88_0x3e63();}