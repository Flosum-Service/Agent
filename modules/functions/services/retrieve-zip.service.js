const a87_0x3439ca=a87_0x83ef;(function(_0x49d45e,_0x272c6b){const _0x438f03=a87_0x83ef,_0x202d4b=_0x49d45e();while(!![]){try{const _0x397b01=-parseInt(_0x438f03(0x15f))/0x1*(parseInt(_0x438f03(0x135))/0x2)+-parseInt(_0x438f03(0x161))/0x3+parseInt(_0x438f03(0x15d))/0x4+parseInt(_0x438f03(0x128))/0x5*(-parseInt(_0x438f03(0x12a))/0x6)+parseInt(_0x438f03(0x12d))/0x7+-parseInt(_0x438f03(0x14e))/0x8*(-parseInt(_0x438f03(0x14d))/0x9)+parseInt(_0x438f03(0x158))/0xa;if(_0x397b01===_0x272c6b)break;else _0x202d4b['push'](_0x202d4b['shift']());}catch(_0x4184b4){_0x202d4b['push'](_0x202d4b['shift']());}}}(a87_0x14ab,0x45880));const a87_0x59a888=(function(){let _0x47d763=!![];return function(_0x33a009,_0x32db23){const _0x11d3f3=_0x47d763?function(){const _0x116dcd=a87_0x83ef;if(_0x32db23){const _0x54d3d8=_0x32db23[_0x116dcd(0x160)](_0x33a009,arguments);return _0x32db23=null,_0x54d3d8;}}:function(){};return _0x47d763=![],_0x11d3f3;};}()),a87_0xcd2ab7=a87_0x59a888(this,function(){const _0x5db76f=a87_0x83ef;return a87_0xcd2ab7[_0x5db76f(0x132)]()[_0x5db76f(0x139)]('(((.+)+)+)+$')['toString']()[_0x5db76f(0x153)](a87_0xcd2ab7)[_0x5db76f(0x139)]('(((.+)+)+)+$');});function a87_0x14ab(){const _0x4a2d8f=['436632FCKONJ','../utils/sfdx.utils','__esModule','__importDefault','-u\x20','toString','../utils/auth.utils','../../../constants','422AqlLoT','--jobid\x20','isAuthorizationError','src','search','catch','ComponentsApi','default','.temp/','getEntries','instanceUrl','exists','accessToken','toBuffer','addFile','uuid','Body','join','AuthUtils','refreshToken','retrieveZip','base64','SFDX','getEntry','62163LmhFVU','640CYGyIu','sfdx','mkdir','/sobjects/Attachment','--json\x20','constructor','fs/promises','defineProperty','setInstanceUrl','BACKUP\x20ZIP','8919950xvBifl','getData','path','../../git/internal/fs.internal','SALESFORCE_API_VERSION','164468lUgMvc','updateAccessToken','1469kwnpnb','apply','1438413BcpotV','../../git/salesforce/utils/sfdx.utils','SFDXUtils','../utils/components-api','post','spawnPromise','createSFDXProject','clientId','/unpackaged.zip','1184545xQWEpV','/services/data/','12vQBBJb','clientSecret','-r\x20.temp/'];a87_0x14ab=function(){return _0x4a2d8f;};return a87_0x14ab();}a87_0xcd2ab7();'use strict';var __importDefault=this&&this[a87_0x3439ca(0x130)]||function(_0x3527db){const _0x2dd6e6=a87_0x3439ca;return _0x3527db&&_0x3527db[_0x2dd6e6(0x12f)]?_0x3527db:{'default':_0x3527db};};Object[a87_0x3439ca(0x155)](exports,a87_0x3439ca(0x12f),{'value':!![]}),exports[a87_0x3439ca(0x149)]=void 0x0;const constants_1=require(a87_0x3439ca(0x134)),promises_1=require(a87_0x3439ca(0x154)),sfdx_utils_1=require(a87_0x3439ca(0x162)),fs_internal_1=require(a87_0x3439ca(0x15b)),sfdx_utils_2=require(a87_0x3439ca(0x12e)),auth_utils_1=require(a87_0x3439ca(0x133)),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a87_0x3439ca(0x144)),components_api_1=require(a87_0x3439ca(0x164)),path_1=require(a87_0x3439ca(0x15a));async function retrieveZip({backupAsyncId:_0x412dc1,credentials:_0x12b49b,metadataLogId:_0x382806},_0x5dbc3c){const _0x401781=a87_0x3439ca;var _0x52c87d;const _0x2f89b2=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x401781(0x140)](_0x401781(0x13d)+_0x2f89b2)&&await(0x0,promises_1[_0x401781(0x150)])(_0x401781(0x13d)+_0x2f89b2,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x401781(0x167)](_0x412dc1,_0x2f89b2),await sfdx_utils_2['SFDXUtils'][_0x401781(0x156)](_0x12b49b[_0x401781(0x13f)],_0x412dc1,_0x2f89b2),await retrieveReport(_0x412dc1,_0x12b49b,_0x2f89b2);const _0x5f18e1=new adm_zip_1['default'](await(0x0,promises_1['readFile'])(_0x401781(0x13d)+_0x2f89b2+'/'+_0x412dc1+_0x401781(0x127))),_0x34c11f=new adm_zip_1[(_0x401781(0x13c))]();for(const {entryName:_0x28e5f8}of _0x5f18e1[_0x401781(0x13e)]()){const _0x341d45=(_0x52c87d=_0x5f18e1[_0x401781(0x14c)](_0x28e5f8))===null||_0x52c87d===void 0x0?void 0x0:_0x52c87d[_0x401781(0x159)]();_0x34c11f[_0x401781(0x143)]((0x0,path_1[_0x401781(0x146)])(_0x401781(0x138),_0x28e5f8),_0x341d45);}const _0x1e04e0=_0x34c11f['toBuffer']()[_0x401781(0x132)](_0x401781(0x14a))['length'];if(_0x1e04e0>=components_api_1['MAX_ZIP_SIZE']){const [_0x3fc5b8,_0x57bce4]=await components_api_1[_0x401781(0x13b)]['splitZip'](_0x34c11f,_0x1e04e0),_0x17f64c={'ParentId':_0x382806,'Name':_0x401781(0x157),'Description':_0x401781(0x157),'Body':_0x3fc5b8[_0x401781(0x142)]()[_0x401781(0x132)](_0x401781(0x14a))};await _0x5dbc3c[_0x401781(0x165)]('/services/data/'+constants_1[_0x401781(0x15c)]+_0x401781(0x151),_0x17f64c),_0x17f64c[_0x401781(0x145)]=_0x57bce4[_0x401781(0x142)]()[_0x401781(0x132)]('base64'),await _0x5dbc3c[_0x401781(0x165)]('/services/data/'+constants_1[_0x401781(0x15c)]+_0x401781(0x151),_0x17f64c);}else{const _0x29db03={'ParentId':_0x382806,'Name':_0x401781(0x157),'Description':_0x401781(0x157),'Body':_0x34c11f[_0x401781(0x142)]()['toString'](_0x401781(0x14a))};await _0x5dbc3c[_0x401781(0x165)](_0x401781(0x129)+constants_1[_0x401781(0x15c)]+_0x401781(0x151),_0x29db03);}}catch(_0x5523e1){throw _0x5523e1;}finally{await(0x0,promises_1['rm'])(_0x401781(0x13d)+_0x2f89b2+'/'+_0x412dc1,{'recursive':!![]});}}function a87_0x83ef(_0x5bbd08,_0x471b8b){const _0x570840=a87_0x14ab();return a87_0x83ef=function(_0xcd2ab7,_0x59a888){_0xcd2ab7=_0xcd2ab7-0x127;let _0x14abf2=_0x570840[_0xcd2ab7];return _0x14abf2;},a87_0x83ef(_0x5bbd08,_0x471b8b);}exports[a87_0x3439ca(0x149)]=retrieveZip;async function retrieveReport(_0x3724a6,_0x3b1e58,_0x27da25){const _0x711a9e=a87_0x3439ca,_0x307ea5='force:mdapi:retrieve:report\x20'+_0x711a9e(0x152)+(_0x711a9e(0x136)+_0x3724a6+'\x20')+(_0x711a9e(0x12c)+_0x27da25+'/'+_0x3724a6+'\x20')+(_0x711a9e(0x131)+_0x3b1e58['accessToken']);await sfdx_utils_1[_0x711a9e(0x14b)][_0x711a9e(0x166)](_0x711a9e(0x14f),_0x307ea5)[_0x711a9e(0x13a)](async _0x11683f=>{const _0x5bcbd8=_0x711a9e;if(sfdx_utils_2[_0x5bcbd8(0x163)][_0x5bcbd8(0x137)](_0x11683f))return _0x3b1e58[_0x5bcbd8(0x141)]=await auth_utils_1[_0x5bcbd8(0x147)][_0x5bcbd8(0x15e)](_0x3b1e58[_0x5bcbd8(0x13f)],_0x3b1e58[_0x5bcbd8(0x148)],_0x3b1e58[_0x5bcbd8(0x168)],_0x3b1e58[_0x5bcbd8(0x12b)]),retrieveReport(_0x3724a6,_0x3b1e58,_0x27da25);throw _0x11683f;});}