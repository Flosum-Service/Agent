const a105_0x2939f7=a105_0x495f;(function(_0x4be55b,_0x4dd45d){const _0x2eaf3e=a105_0x495f,_0x1b9b2c=_0x4be55b();while(!![]){try{const _0x14db9c=-parseInt(_0x2eaf3e(0x1d7))/0x1*(parseInt(_0x2eaf3e(0x1bf))/0x2)+-parseInt(_0x2eaf3e(0x1d9))/0x3*(-parseInt(_0x2eaf3e(0x1c7))/0x4)+parseInt(_0x2eaf3e(0x1e1))/0x5+-parseInt(_0x2eaf3e(0x1ce))/0x6+parseInt(_0x2eaf3e(0x1c0))/0x7+-parseInt(_0x2eaf3e(0x1ee))/0x8+parseInt(_0x2eaf3e(0x1e8))/0x9*(parseInt(_0x2eaf3e(0x1ed))/0xa);if(_0x14db9c===_0x4dd45d)break;else _0x1b9b2c['push'](_0x1b9b2c['shift']());}catch(_0x2698e9){_0x1b9b2c['push'](_0x1b9b2c['shift']());}}}(a105_0x34c4,0x94044));const a105_0x3de8b2=(function(){let _0x2f136f=!![];return function(_0x5723c0,_0x325fd6){const _0x3fa0e5=_0x2f136f?function(){const _0x40642c=a105_0x495f;if(_0x325fd6){const _0x19291d=_0x325fd6[_0x40642c(0x1d3)](_0x5723c0,arguments);return _0x325fd6=null,_0x19291d;}}:function(){};return _0x2f136f=![],_0x3fa0e5;};}()),a105_0x3d6a17=a105_0x3de8b2(this,function(){const _0x31883d=a105_0x495f;return a105_0x3d6a17[_0x31883d(0x1cb)]()['search'](_0x31883d(0x1b8))[_0x31883d(0x1cb)]()['constructor'](a105_0x3d6a17)[_0x31883d(0x1e2)](_0x31883d(0x1b8));});a105_0x3d6a17();function a105_0x34c4(){const _0x227509=['7407QLktZE','readFile','length','/sobjects/Attachment','--jobid\x20','14060snYsPS','6143016txRYTB','../utils/sfdx.utils','ComponentsApi','retrieveZip','default','AuthUtils','(((.+)+)+)+$','catch','base64','force:mdapi:retrieve:report\x20','instanceUrl','post','src','2ZSvByN','4185118CTDAEw','getEntry','path','Body','BACKUP\x20ZIP','isAuthorizationError','__esModule','3054892rfzJnF','-u\x20','SFDXUtils','MAX_ZIP_SIZE','toString','join','.temp/','4553460OiUDXJ','getEntries','defineProperty','splitZip','../../git/salesforce/utils/sfdx.utils','apply','createSFDXProject','uuid','updateAccessToken','1111573tGoHIh','getData','3XbnKBu','setInstanceUrl','__importDefault','clientId','accessToken','mkdir','spawn','/services/data/v','3629505sfzmnN','search','addFile','clientSecret','refreshToken','exists','../../git/internal/fs.internal'];a105_0x34c4=function(){return _0x227509;};return a105_0x34c4();}function a105_0x495f(_0x33fcd7,_0x394281){const _0x423eeb=a105_0x34c4();return a105_0x495f=function(_0x3d6a17,_0x3de8b2){_0x3d6a17=_0x3d6a17-0x1b5;let _0x34c409=_0x423eeb[_0x3d6a17];return _0x34c409;},a105_0x495f(_0x33fcd7,_0x394281);}'use strict';var __importDefault=this&&this[a105_0x2939f7(0x1db)]||function(_0x4d3ec3){return _0x4d3ec3&&_0x4d3ec3['__esModule']?_0x4d3ec3:{'default':_0x4d3ec3};};Object[a105_0x2939f7(0x1d0)](exports,a105_0x2939f7(0x1c6),{'value':!![]}),exports[a105_0x2939f7(0x1b5)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a105_0x2939f7(0x1d2)),fs_internal_1=require(a105_0x2939f7(0x1e7)),sfdx_utils_2=require(a105_0x2939f7(0x1ef)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a105_0x2939f7(0x1d5)),components_api_1=require('../utils/components-api'),path_1=require(a105_0x2939f7(0x1c2));async function retrieveZip({backupAsyncId:_0x3df1c1,credentials:_0x54ced8,metadataLogId:_0x4ef1ee,apiVersion:_0x11fe18},_0x42ccce){const _0x2c84a9=a105_0x2939f7;var _0xd51919;const _0x494345=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x2c84a9(0x1e6)](_0x2c84a9(0x1cd)+_0x494345)&&await(0x0,promises_1[_0x2c84a9(0x1de)])('.temp/'+_0x494345,{'recursive':!![]});await sfdx_utils_2[_0x2c84a9(0x1c9)][_0x2c84a9(0x1d4)](_0x3df1c1,_0x494345),await sfdx_utils_2['SFDXUtils'][_0x2c84a9(0x1da)](_0x54ced8[_0x2c84a9(0x1bc)],_0x3df1c1,_0x494345),await retrieveReport(_0x3df1c1,_0x54ced8,_0x494345);const _0x43d1cd=new adm_zip_1['default'](await(0x0,promises_1[_0x2c84a9(0x1e9)])(_0x2c84a9(0x1cd)+_0x494345+'/'+_0x3df1c1+'/unpackaged.zip')),_0x28c2fb=new adm_zip_1[(_0x2c84a9(0x1b6))]();for(const {entryName:_0x240dd7}of _0x43d1cd[_0x2c84a9(0x1cf)]()){const _0xc55ded=(_0xd51919=_0x43d1cd[_0x2c84a9(0x1c1)](_0x240dd7))===null||_0xd51919===void 0x0?void 0x0:_0xd51919[_0x2c84a9(0x1d8)]();_0x28c2fb[_0x2c84a9(0x1e3)]((0x0,path_1[_0x2c84a9(0x1cc)])(_0x2c84a9(0x1be),_0x240dd7),_0xc55ded);}const _0x400ab1=_0x28c2fb['toBuffer']()['toString'](_0x2c84a9(0x1ba))[_0x2c84a9(0x1ea)];if(_0x400ab1>=components_api_1[_0x2c84a9(0x1ca)]){const [_0x4350e2,_0x63232b]=await components_api_1[_0x2c84a9(0x1f0)][_0x2c84a9(0x1d1)](_0x28c2fb,_0x400ab1),_0x119718={'ParentId':_0x4ef1ee,'Name':_0x2c84a9(0x1c4),'Description':_0x2c84a9(0x1c4),'Body':_0x4350e2['toBuffer']()[_0x2c84a9(0x1cb)](_0x2c84a9(0x1ba))};await _0x42ccce[_0x2c84a9(0x1bd)](_0x2c84a9(0x1e0)+_0x11fe18+_0x2c84a9(0x1eb),_0x119718),_0x119718[_0x2c84a9(0x1c3)]=_0x63232b['toBuffer']()['toString'](_0x2c84a9(0x1ba)),await _0x42ccce[_0x2c84a9(0x1bd)](_0x2c84a9(0x1e0)+_0x11fe18+'/sobjects/Attachment',_0x119718);}else{const _0x46f20d={'ParentId':_0x4ef1ee,'Name':_0x2c84a9(0x1c4),'Description':_0x2c84a9(0x1c4),'Body':_0x28c2fb['toBuffer']()['toString'](_0x2c84a9(0x1ba))};await _0x42ccce[_0x2c84a9(0x1bd)](_0x2c84a9(0x1e0)+_0x11fe18+_0x2c84a9(0x1eb),_0x46f20d);}}catch(_0x3359cd){throw _0x3359cd;}finally{await(0x0,promises_1['rm'])(_0x2c84a9(0x1cd)+_0x494345+'/'+_0x3df1c1,{'recursive':!![]});}}exports[a105_0x2939f7(0x1b5)]=retrieveZip;async function retrieveReport(_0x1699fa,_0x51ea0e,_0x53f6b5){const _0x464f9e=a105_0x2939f7,_0x78678c=_0x464f9e(0x1bb)+'--json\x20'+(_0x464f9e(0x1ec)+_0x1699fa+'\x20')+('-r\x20.temp/'+_0x53f6b5+'/'+_0x1699fa+'\x20')+(_0x464f9e(0x1c8)+_0x51ea0e[_0x464f9e(0x1dd)]);await sfdx_utils_1['SFDX'][_0x464f9e(0x1df)](_0x78678c)[_0x464f9e(0x1b9)](async _0x215f42=>{const _0x19a0b9=_0x464f9e;if(sfdx_utils_2[_0x19a0b9(0x1c9)][_0x19a0b9(0x1c5)](_0x215f42))return _0x51ea0e[_0x19a0b9(0x1dd)]=await auth_utils_1[_0x19a0b9(0x1b7)][_0x19a0b9(0x1d6)](_0x51ea0e['instanceUrl'],_0x51ea0e[_0x19a0b9(0x1e5)],_0x51ea0e[_0x19a0b9(0x1dc)],_0x51ea0e[_0x19a0b9(0x1e4)]),retrieveReport(_0x1699fa,_0x51ea0e,_0x53f6b5);throw _0x215f42;});}