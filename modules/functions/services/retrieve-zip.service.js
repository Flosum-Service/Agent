function a55_0xac36(_0x4dd499,_0x8b618){const _0x56c1e6=a55_0x2e5c();return a55_0xac36=function(_0x2efeac,_0x13ab0e){_0x2efeac=_0x2efeac-0xfe;let _0x2e5c37=_0x56c1e6[_0x2efeac];return _0x2e5c37;},a55_0xac36(_0x4dd499,_0x8b618);}const a55_0x3f7632=a55_0xac36;(function(_0x41612e,_0x229145){const _0x340c75=a55_0xac36,_0x4d2e2f=_0x41612e();while(!![]){try{const _0x2d629c=-parseInt(_0x340c75(0x108))/0x1+parseInt(_0x340c75(0x131))/0x2+parseInt(_0x340c75(0x106))/0x3*(-parseInt(_0x340c75(0x115))/0x4)+-parseInt(_0x340c75(0x10e))/0x5*(-parseInt(_0x340c75(0x110))/0x6)+-parseInt(_0x340c75(0x119))/0x7*(parseInt(_0x340c75(0x126))/0x8)+-parseInt(_0x340c75(0x10b))/0x9*(-parseInt(_0x340c75(0x11d))/0xa)+parseInt(_0x340c75(0x10c))/0xb;if(_0x2d629c===_0x229145)break;else _0x4d2e2f['push'](_0x4d2e2f['shift']());}catch(_0x180f86){_0x4d2e2f['push'](_0x4d2e2f['shift']());}}}(a55_0x2e5c,0x2509f));const a55_0x13ab0e=(function(){let _0x4a9d73=!![];return function(_0x34f5e4,_0x32ca5d){const _0x27908f=_0x4a9d73?function(){if(_0x32ca5d){const _0x287562=_0x32ca5d['apply'](_0x34f5e4,arguments);return _0x32ca5d=null,_0x287562;}}:function(){};return _0x4a9d73=![],_0x27908f;};}()),a55_0x2efeac=a55_0x13ab0e(this,function(){const _0x2b73ae=a55_0xac36;return a55_0x2efeac[_0x2b73ae(0x113)]()[_0x2b73ae(0x128)](_0x2b73ae(0x107))[_0x2b73ae(0x113)]()[_0x2b73ae(0x11a)](a55_0x2efeac)[_0x2b73ae(0x128)](_0x2b73ae(0x107));});a55_0x2efeac();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x26dcf5){const _0x4b7aa5=a55_0xac36;return _0x26dcf5&&_0x26dcf5[_0x4b7aa5(0x124)]?_0x26dcf5:{'default':_0x26dcf5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a55_0x3f7632(0x11f)]=void 0x0;const constants_1=require('../../../constants'),promises_1=require(a55_0x3f7632(0x125)),sfdx_utils_1=require(a55_0x3f7632(0x133)),fs_internal_1=require(a55_0x3f7632(0x132)),sfdx_utils_2=require(a55_0x3f7632(0x12f)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require('adm-zip')),uuid_1=require(a55_0x3f7632(0x11c)),components_api_1=require(a55_0x3f7632(0x129)),path_1=require(a55_0x3f7632(0xfe));async function retrieveZip({backupAsyncId:_0x54c7e5,credentials:_0x23c6f5,metadataLogId:_0x303fcc},_0x1d3978){const _0x32b9f0=a55_0x3f7632;var _0x30a1e1;const _0x30e696=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS']['exists'](_0x32b9f0(0x116)+_0x30e696)&&await(0x0,promises_1['mkdir'])(_0x32b9f0(0x116)+_0x30e696,{'recursive':!![]});await sfdx_utils_2[_0x32b9f0(0x12a)]['createSFDXProject'](_0x54c7e5,_0x30e696),await sfdx_utils_2['SFDXUtils'][_0x32b9f0(0x101)](_0x23c6f5['instanceUrl'],_0x54c7e5,_0x30e696),await retrieveReport(_0x54c7e5,_0x23c6f5,_0x30e696);const _0x234bf8=new adm_zip_1[(_0x32b9f0(0x123))](await(0x0,promises_1['readFile'])('.temp/'+_0x30e696+'/'+_0x54c7e5+_0x32b9f0(0xff))),_0xb29aaa=new adm_zip_1[(_0x32b9f0(0x123))]();for(const {entryName:_0x4623ab}of _0x234bf8[_0x32b9f0(0x11b)]()){const _0xec53ef=(_0x30a1e1=_0x234bf8[_0x32b9f0(0x105)](_0x4623ab))===null||_0x30a1e1===void 0x0?void 0x0:_0x30a1e1['getData']();_0xb29aaa[_0x32b9f0(0x12c)]((0x0,path_1[_0x32b9f0(0x12d)])('src',_0x4623ab),_0xec53ef);}const _0x14140a=_0xb29aaa[_0x32b9f0(0x121)]()[_0x32b9f0(0x113)](_0x32b9f0(0x10a))['length'];if(_0x14140a>=components_api_1['MAX_ZIP_SIZE']){const [_0x18fe1d,_0x4c5910]=await components_api_1[_0x32b9f0(0x114)][_0x32b9f0(0x103)](_0xb29aaa,_0x14140a),_0x421cb2={'ParentId':_0x303fcc,'Name':_0x32b9f0(0x109),'Description':'BACKUP\x20ZIP','Body':_0x18fe1d[_0x32b9f0(0x121)]()[_0x32b9f0(0x113)](_0x32b9f0(0x10a))};await _0x1d3978['post'](_0x32b9f0(0x130)+constants_1[_0x32b9f0(0x135)]+_0x32b9f0(0x112),_0x421cb2),_0x421cb2[_0x32b9f0(0x10f)]=_0x4c5910[_0x32b9f0(0x121)]()[_0x32b9f0(0x113)]('base64'),await _0x1d3978[_0x32b9f0(0x117)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x32b9f0(0x112),_0x421cb2);}else{const _0x14025d={'ParentId':_0x303fcc,'Name':'BACKUP\x20ZIP','Description':'BACKUP\x20ZIP','Body':_0xb29aaa[_0x32b9f0(0x121)]()[_0x32b9f0(0x113)]('base64')};await _0x1d3978[_0x32b9f0(0x117)](_0x32b9f0(0x130)+constants_1[_0x32b9f0(0x135)]+_0x32b9f0(0x112),_0x14025d);}}catch(_0x3efe59){throw _0x3efe59;}finally{await(0x0,promises_1['rm'])(_0x32b9f0(0x116)+_0x30e696+'/'+_0x54c7e5,{'recursive':!![]});}}exports[a55_0x3f7632(0x11f)]=retrieveZip;function a55_0x2e5c(){const _0x389989=['force:mdapi:retrieve:report\x20','retrieveZip','accessToken','toBuffer','instanceUrl','default','__esModule','fs/promises','136ogvUeW','clientId','search','../utils/components-api','SFDXUtils','-r\x20.temp/','addFile','join','sfdx','../utils/sfdx.utils','/services/data/','222388PNIHEo','../../git/internal/fs.internal','../../git/salesforce/utils/sfdx.utils','catch','SALESFORCE_API_VERSION','path','/unpackaged.zip','isAuthorizationError','setInstanceUrl','--jobid\x20','splitZip','updateAccessToken','getEntry','9iQUCNI','(((.+)+)+)+$','166609RqTthI','BACKUP\x20ZIP','base64','27nsaNyf','240471GwpZMl','clientSecret','1490275fUGNxh','Body','6XgGlQh','--json\x20','/sobjects/Attachment','toString','ComponentsApi','123768tjzlHB','.temp/','post','AuthUtils','84511ciCPLr','constructor','getEntries','uuid','617590tECbKT'];a55_0x2e5c=function(){return _0x389989;};return a55_0x2e5c();}async function retrieveReport(_0x43ff5b,_0x51752d,_0x4b5968){const _0x360e73=a55_0x3f7632,_0x5643b9=_0x360e73(0x11e)+_0x360e73(0x111)+(_0x360e73(0x102)+_0x43ff5b+'\x20')+(_0x360e73(0x12b)+_0x4b5968+'/'+_0x43ff5b+'\x20')+('-u\x20'+_0x51752d['accessToken']);await sfdx_utils_1['SFDX']['spawnPromise'](_0x360e73(0x12e),_0x5643b9)[_0x360e73(0x134)](async _0xbd0f10=>{const _0x3c558d=_0x360e73;if(sfdx_utils_2[_0x3c558d(0x12a)][_0x3c558d(0x100)](_0xbd0f10))return _0x51752d[_0x3c558d(0x120)]=await auth_utils_1[_0x3c558d(0x118)][_0x3c558d(0x104)](_0x51752d[_0x3c558d(0x122)],_0x51752d['refreshToken'],_0x51752d[_0x3c558d(0x127)],_0x51752d[_0x3c558d(0x10d)]),retrieveReport(_0x43ff5b,_0x51752d,_0x4b5968);throw _0xbd0f10;});}