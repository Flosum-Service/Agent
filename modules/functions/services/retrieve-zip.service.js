function a86_0x4cc1(_0x3bc80f,_0x4e07cd){const _0x3dcfe1=a86_0x56cd();return a86_0x4cc1=function(_0x1371f2,_0x45e73a){_0x1371f2=_0x1371f2-0xc9;let _0x56cd04=_0x3dcfe1[_0x1371f2];return _0x56cd04;},a86_0x4cc1(_0x3bc80f,_0x4e07cd);}const a86_0xb56a39=a86_0x4cc1;(function(_0x1fbf82,_0x271fa7){const _0x3b27c2=a86_0x4cc1,_0x2ede5e=_0x1fbf82();while(!![]){try{const _0x498821=-parseInt(_0x3b27c2(0x105))/0x1*(parseInt(_0x3b27c2(0x100))/0x2)+-parseInt(_0x3b27c2(0xdf))/0x3*(parseInt(_0x3b27c2(0xd8))/0x4)+parseInt(_0x3b27c2(0xea))/0x5*(-parseInt(_0x3b27c2(0xe2))/0x6)+parseInt(_0x3b27c2(0x102))/0x7*(parseInt(_0x3b27c2(0xfe))/0x8)+parseInt(_0x3b27c2(0xdc))/0x9+-parseInt(_0x3b27c2(0xfb))/0xa*(parseInt(_0x3b27c2(0xda))/0xb)+-parseInt(_0x3b27c2(0xee))/0xc*(-parseInt(_0x3b27c2(0xf1))/0xd);if(_0x498821===_0x271fa7)break;else _0x2ede5e['push'](_0x2ede5e['shift']());}catch(_0x3a4781){_0x2ede5e['push'](_0x2ede5e['shift']());}}}(a86_0x56cd,0x844bd));function a86_0x56cd(){const _0x6d57f3=['toBuffer','807644oXJdwm','MAX_ZIP_SIZE','4361XAIbno','updateAccessToken','readFile','1FqfIUX','../../git/internal/fs.internal','constructor','isAuthorizationError','instanceUrl','--jobid\x20','splitZip','.temp/','getData','src','__importDefault','../utils/components-api','/sobjects/Attachment','AuthUtils','../../git/salesforce/utils/sfdx.utils','fs/promises','16aAYEOU','catch','33JLkjdM','retrieveZip','5573259Lgepru','(((.+)+)+)+$','clientSecret','131556DTTHzH','../utils/sfdx.utils','spawnPromise','792QmTvxJ','/services/data/','SFDXUtils','SFDX','SALESFORCE_API_VERSION','post','__esModule','mkdir','27965fqaJcG','length','getEntry','defineProperty','12jJoaXe','ComponentsApi','../../../constants','19865222txFTPg','default','base64','sfdx','BACKUP\x20ZIP','-u\x20','setInstanceUrl','adm-zip','exists','toString','1543390fOKjSM','accessToken','search','2248gfMYpI'];a86_0x56cd=function(){return _0x6d57f3;};return a86_0x56cd();}const a86_0x45e73a=(function(){let _0x162538=!![];return function(_0x9d41df,_0x3ce924){const _0xc178b7=_0x162538?function(){if(_0x3ce924){const _0x31d0c5=_0x3ce924['apply'](_0x9d41df,arguments);return _0x3ce924=null,_0x31d0c5;}}:function(){};return _0x162538=![],_0xc178b7;};}()),a86_0x1371f2=a86_0x45e73a(this,function(){const _0x47d59a=a86_0x4cc1;return a86_0x1371f2['toString']()[_0x47d59a(0xfd)](_0x47d59a(0xdd))[_0x47d59a(0xfa)]()[_0x47d59a(0xca)](a86_0x1371f2)[_0x47d59a(0xfd)](_0x47d59a(0xdd));});a86_0x1371f2();'use strict';var __importDefault=this&&this[a86_0xb56a39(0xd2)]||function(_0x558bb0){const _0x552f9f=a86_0xb56a39;return _0x558bb0&&_0x558bb0[_0x552f9f(0xe8)]?_0x558bb0:{'default':_0x558bb0};};Object[a86_0xb56a39(0xed)](exports,a86_0xb56a39(0xe8),{'value':!![]}),exports[a86_0xb56a39(0xdb)]=void 0x0;const constants_1=require(a86_0xb56a39(0xf0)),promises_1=require(a86_0xb56a39(0xd7)),sfdx_utils_1=require(a86_0xb56a39(0xd6)),fs_internal_1=require(a86_0xb56a39(0xc9)),sfdx_utils_2=require(a86_0xb56a39(0xe0)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a86_0xb56a39(0xf8))),uuid_1=require('uuid'),components_api_1=require(a86_0xb56a39(0xd3)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x27eaf6,credentials:_0x257be2,metadataLogId:_0x57e887},_0xeda903){const _0x3e8739=a86_0xb56a39;var _0x2175aa;const _0x23e964=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x3e8739(0xf9)](_0x3e8739(0xcf)+_0x23e964)&&await(0x0,promises_1[_0x3e8739(0xe9)])('.temp/'+_0x23e964,{'recursive':!![]});await sfdx_utils_2['SFDXUtils']['createSFDXProject'](_0x27eaf6,_0x23e964),await sfdx_utils_2[_0x3e8739(0xe4)][_0x3e8739(0xf7)](_0x257be2[_0x3e8739(0xcc)],_0x27eaf6,_0x23e964),await retrieveReport(_0x27eaf6,_0x257be2,_0x23e964);const _0x9f1d05=new adm_zip_1[(_0x3e8739(0xf2))](await(0x0,promises_1[_0x3e8739(0x104)])('.temp/'+_0x23e964+'/'+_0x27eaf6+'/unpackaged.zip')),_0x43e497=new adm_zip_1[(_0x3e8739(0xf2))]();for(const {entryName:_0x377918}of _0x9f1d05['getEntries']()){const _0x3c6cdf=(_0x2175aa=_0x9f1d05[_0x3e8739(0xec)](_0x377918))===null||_0x2175aa===void 0x0?void 0x0:_0x2175aa[_0x3e8739(0xd0)]();_0x43e497['addFile']((0x0,path_1['join'])(_0x3e8739(0xd1),_0x377918),_0x3c6cdf);}const _0x3713b9=_0x43e497[_0x3e8739(0xff)]()[_0x3e8739(0xfa)](_0x3e8739(0xf3))[_0x3e8739(0xeb)];if(_0x3713b9>=components_api_1[_0x3e8739(0x101)]){const [_0x5b0388,_0x440066]=await components_api_1[_0x3e8739(0xef)][_0x3e8739(0xce)](_0x43e497,_0x3713b9),_0x31ebc1={'ParentId':_0x57e887,'Name':_0x3e8739(0xf5),'Description':_0x3e8739(0xf5),'Body':_0x5b0388[_0x3e8739(0xff)]()['toString']('base64')};await _0xeda903[_0x3e8739(0xe7)](_0x3e8739(0xe3)+constants_1[_0x3e8739(0xe6)]+_0x3e8739(0xd4),_0x31ebc1),_0x31ebc1['Body']=_0x440066[_0x3e8739(0xff)]()[_0x3e8739(0xfa)](_0x3e8739(0xf3)),await _0xeda903[_0x3e8739(0xe7)]('/services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment',_0x31ebc1);}else{const _0x29d21d={'ParentId':_0x57e887,'Name':_0x3e8739(0xf5),'Description':'BACKUP\x20ZIP','Body':_0x43e497[_0x3e8739(0xff)]()[_0x3e8739(0xfa)](_0x3e8739(0xf3))};await _0xeda903[_0x3e8739(0xe7)](_0x3e8739(0xe3)+constants_1[_0x3e8739(0xe6)]+_0x3e8739(0xd4),_0x29d21d);}}catch(_0x2c1e16){throw _0x2c1e16;}finally{await(0x0,promises_1['rm'])(_0x3e8739(0xcf)+_0x23e964+'/'+_0x27eaf6,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x4b256c,_0x2c67e0,_0x34a86c){const _0x4932e5=a86_0xb56a39,_0x5cf0c7='force:mdapi:retrieve:report\x20'+'--json\x20'+(_0x4932e5(0xcd)+_0x4b256c+'\x20')+('-r\x20.temp/'+_0x34a86c+'/'+_0x4b256c+'\x20')+(_0x4932e5(0xf6)+_0x2c67e0[_0x4932e5(0xfc)]);await sfdx_utils_1[_0x4932e5(0xe5)][_0x4932e5(0xe1)](_0x4932e5(0xf4),_0x5cf0c7)[_0x4932e5(0xd9)](async _0x4b3b63=>{const _0x45ef1d=_0x4932e5;if(sfdx_utils_2[_0x45ef1d(0xe4)][_0x45ef1d(0xcb)](_0x4b3b63))return _0x2c67e0[_0x45ef1d(0xfc)]=await auth_utils_1[_0x45ef1d(0xd5)][_0x45ef1d(0x103)](_0x2c67e0['instanceUrl'],_0x2c67e0['refreshToken'],_0x2c67e0['clientId'],_0x2c67e0[_0x45ef1d(0xde)]),retrieveReport(_0x4b256c,_0x2c67e0,_0x34a86c);throw _0x4b3b63;});}