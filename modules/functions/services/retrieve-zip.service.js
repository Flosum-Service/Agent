const a55_0x1a94ea=a55_0x23d2;(function(_0x2eb8e1,_0x318d4b){const _0x3d0e87=a55_0x23d2,_0x3e2ab4=_0x2eb8e1();while(!![]){try{const _0x23b8b1=parseInt(_0x3d0e87(0x11c))/0x1+parseInt(_0x3d0e87(0x13a))/0x2+-parseInt(_0x3d0e87(0x11b))/0x3*(-parseInt(_0x3d0e87(0x143))/0x4)+parseInt(_0x3d0e87(0x13b))/0x5*(parseInt(_0x3d0e87(0x14a))/0x6)+parseInt(_0x3d0e87(0x153))/0x7*(parseInt(_0x3d0e87(0x139))/0x8)+parseInt(_0x3d0e87(0x122))/0x9+-parseInt(_0x3d0e87(0x13c))/0xa*(parseInt(_0x3d0e87(0x137))/0xb);if(_0x23b8b1===_0x318d4b)break;else _0x3e2ab4['push'](_0x3e2ab4['shift']());}catch(_0x423652){_0x3e2ab4['push'](_0x3e2ab4['shift']());}}}(a55_0x5d71,0x63e6f));function a55_0x23d2(_0x164828,_0x277345){const _0x21f301=a55_0x5d71();return a55_0x23d2=function(_0x41d34b,_0x21a678){_0x41d34b=_0x41d34b-0x115;let _0x5d7169=_0x21f301[_0x41d34b];return _0x5d7169;},a55_0x23d2(_0x164828,_0x277345);}const a55_0x21a678=(function(){let _0x2365f0=!![];return function(_0x3f6f2f,_0x5c1de8){const _0x41e300=_0x2365f0?function(){if(_0x5c1de8){const _0x3f748a=_0x5c1de8['apply'](_0x3f6f2f,arguments);return _0x5c1de8=null,_0x3f748a;}}:function(){};return _0x2365f0=![],_0x41e300;};}()),a55_0x41d34b=a55_0x21a678(this,function(){const _0x366329=a55_0x23d2;return a55_0x41d34b[_0x366329(0x127)]()[_0x366329(0x11a)]('(((.+)+)+)+$')[_0x366329(0x127)]()[_0x366329(0x146)](a55_0x41d34b)[_0x366329(0x11a)](_0x366329(0x119));});a55_0x41d34b();'use strict';var __importDefault=this&&this[a55_0x1a94ea(0x14e)]||function(_0xe7b60b){return _0xe7b60b&&_0xe7b60b['__esModule']?_0xe7b60b:{'default':_0xe7b60b};};Object[a55_0x1a94ea(0x136)](exports,a55_0x1a94ea(0x142),{'value':!![]}),exports[a55_0x1a94ea(0x12f)]=void 0x0;const constants_1=require(a55_0x1a94ea(0x124)),promises_1=require(a55_0x1a94ea(0x12e)),sfdx_utils_1=require(a55_0x1a94ea(0x11e)),fs_internal_1=require(a55_0x1a94ea(0x126)),sfdx_utils_2=require(a55_0x1a94ea(0x140)),auth_utils_1=require('../utils/auth.utils'),adm_zip_1=__importDefault(require(a55_0x1a94ea(0x134))),uuid_1=require('uuid'),components_api_1=require(a55_0x1a94ea(0x14d)),path_1=require('path');async function retrieveZip({backupAsyncId:_0x33608a,credentials:_0x143838,metadataLogId:_0x322e29},_0x5e90ea){const _0x49da15=a55_0x1a94ea;var _0x547355;const _0x360b1f=(0x0,uuid_1['v4'])();try{!await fs_internal_1['FS'][_0x49da15(0x12c)](_0x49da15(0x13d)+_0x360b1f)&&await(0x0,promises_1[_0x49da15(0x13e)])(_0x49da15(0x13d)+_0x360b1f,{'recursive':!![]});await sfdx_utils_2[_0x49da15(0x149)][_0x49da15(0x152)](_0x33608a,_0x360b1f),await sfdx_utils_2['SFDXUtils']['setInstanceUrl'](_0x143838[_0x49da15(0x138)],_0x33608a,_0x360b1f),await retrieveReport(_0x33608a,_0x143838,_0x360b1f);const _0x4f9994=new adm_zip_1['default'](await(0x0,promises_1['readFile'])(_0x49da15(0x13d)+_0x360b1f+'/'+_0x33608a+_0x49da15(0x115))),_0x56b912=new adm_zip_1[(_0x49da15(0x151))]();for(const {entryName:_0x56914c}of _0x4f9994[_0x49da15(0x12d)]()){const _0x119a5a=(_0x547355=_0x4f9994['getEntry'](_0x56914c))===null||_0x547355===void 0x0?void 0x0:_0x547355[_0x49da15(0x132)]();_0x56b912[_0x49da15(0x121)]((0x0,path_1[_0x49da15(0x12b)])('src',_0x56914c),_0x119a5a);}const _0x4984d2=_0x56b912[_0x49da15(0x141)]()['toString'](_0x49da15(0x117))[_0x49da15(0x135)];if(_0x4984d2>=components_api_1[_0x49da15(0x150)]){const [_0x370325,_0x255611]=await components_api_1[_0x49da15(0x12a)][_0x49da15(0x14f)](_0x56b912,_0x4984d2),_0x546633={'ParentId':_0x322e29,'Name':_0x49da15(0x131),'Description':_0x49da15(0x131),'Body':_0x370325[_0x49da15(0x141)]()[_0x49da15(0x127)](_0x49da15(0x117))};await _0x5e90ea[_0x49da15(0x14b)]('/services/data/'+constants_1[_0x49da15(0x147)]+_0x49da15(0x144),_0x546633),_0x546633['Body']=_0x255611[_0x49da15(0x141)]()[_0x49da15(0x127)](_0x49da15(0x117)),await _0x5e90ea[_0x49da15(0x14b)](_0x49da15(0x133)+constants_1[_0x49da15(0x147)]+_0x49da15(0x144),_0x546633);}else{const _0x3ac6c9={'ParentId':_0x322e29,'Name':_0x49da15(0x131),'Description':_0x49da15(0x131),'Body':_0x56b912[_0x49da15(0x141)]()[_0x49da15(0x127)](_0x49da15(0x117))};await _0x5e90ea['post'](_0x49da15(0x133)+constants_1[_0x49da15(0x147)]+'/sobjects/Attachment',_0x3ac6c9);}}catch(_0x1ed43c){throw _0x1ed43c;}finally{await(0x0,promises_1['rm'])('.temp/'+_0x360b1f+'/'+_0x33608a,{'recursive':!![]});}}exports['retrieveZip']=retrieveZip;async function retrieveReport(_0x2db991,_0x5b5241,_0x4ad7e6){const _0x2a866e=a55_0x1a94ea,_0x4a6ea3=_0x2a866e(0x11f)+'--json\x20'+(_0x2a866e(0x130)+_0x2db991+'\x20')+(_0x2a866e(0x118)+_0x4ad7e6+'/'+_0x2db991+'\x20')+(_0x2a866e(0x145)+_0x5b5241['accessToken']);await sfdx_utils_1[_0x2a866e(0x129)][_0x2a866e(0x120)](_0x2a866e(0x13f),_0x4a6ea3)[_0x2a866e(0x148)](async _0x5cfa36=>{const _0x5410bd=_0x2a866e;if(sfdx_utils_2[_0x5410bd(0x149)][_0x5410bd(0x128)](_0x5cfa36))return _0x5b5241[_0x5410bd(0x125)]=await auth_utils_1[_0x5410bd(0x11d)][_0x5410bd(0x14c)](_0x5b5241['instanceUrl'],_0x5b5241[_0x5410bd(0x116)],_0x5b5241['clientId'],_0x5b5241[_0x5410bd(0x123)]),retrieveReport(_0x2db991,_0x5b5241,_0x4ad7e6);throw _0x5cfa36;});}function a55_0x5d71(){const _0x3e5d24=['../utils/components-api','__importDefault','splitZip','MAX_ZIP_SIZE','default','createSFDXProject','1183WkhgJa','/unpackaged.zip','refreshToken','base64','-r\x20.temp/','(((.+)+)+)+$','search','9vUGkqg','117808aqCPVQ','AuthUtils','../../git/salesforce/utils/sfdx.utils','force:mdapi:retrieve:report\x20','spawnPromise','addFile','2927844dMngzX','clientSecret','../../../constants','accessToken','../../git/internal/fs.internal','toString','isAuthorizationError','SFDX','ComponentsApi','join','exists','getEntries','fs/promises','retrieveZip','--jobid\x20','BACKUP\x20ZIP','getData','/services/data/','adm-zip','length','defineProperty','106843vPaZQP','instanceUrl','36776ndzgac','788058UVYCcx','5aNiitt','2010bKJXHL','.temp/','mkdir','sfdx','../utils/sfdx.utils','toBuffer','__esModule','362036VxVeEV','/sobjects/Attachment','-u\x20','constructor','SALESFORCE_API_VERSION','catch','SFDXUtils','2855634ZqKcjZ','post','updateAccessToken'];a55_0x5d71=function(){return _0x3e5d24;};return a55_0x5d71();}