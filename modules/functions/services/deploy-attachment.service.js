const a52_0x34e16a=a52_0x483b;(function(_0x4371fd,_0x3a08ca){const _0xbf1840=a52_0x483b,_0x3b8944=_0x4371fd();while(!![]){try{const _0x13a42b=-parseInt(_0xbf1840(0x167))/0x1*(-parseInt(_0xbf1840(0x168))/0x2)+parseInt(_0xbf1840(0x17c))/0x3*(parseInt(_0xbf1840(0x15d))/0x4)+-parseInt(_0xbf1840(0x16d))/0x5+-parseInt(_0xbf1840(0x146))/0x6+-parseInt(_0xbf1840(0x148))/0x7*(parseInt(_0xbf1840(0x160))/0x8)+parseInt(_0xbf1840(0x179))/0x9+parseInt(_0xbf1840(0x172))/0xa;if(_0x13a42b===_0x3a08ca)break;else _0x3b8944['push'](_0x3b8944['shift']());}catch(_0x4baa6c){_0x3b8944['push'](_0x3b8944['shift']());}}}(a52_0xdc26,0xe5622));const a52_0xaf61c4=(function(){let _0x499954=!![];return function(_0x29e281,_0x23840c){const _0x4e2d36=_0x499954?function(){const _0x3c3f5c=a52_0x483b;if(_0x23840c){const _0x4730a8=_0x23840c[_0x3c3f5c(0x188)](_0x29e281,arguments);return _0x23840c=null,_0x4730a8;}}:function(){};return _0x499954=![],_0x4e2d36;};}()),a52_0x1d6100=a52_0xaf61c4(this,function(){const _0x866ab2=a52_0x483b;return a52_0x1d6100[_0x866ab2(0x14e)]()[_0x866ab2(0x182)](_0x866ab2(0x181))['toString']()[_0x866ab2(0x15b)](a52_0x1d6100)[_0x866ab2(0x182)]('(((.+)+)+)+$');});a52_0x1d6100();'use strict';var __importDefault=this&&this[a52_0x34e16a(0x17e)]||function(_0x58b812){return _0x58b812&&_0x58b812['__esModule']?_0x58b812:{'default':_0x58b812};};Object[a52_0x34e16a(0x15c)](exports,'__esModule',{'value':!![]}),exports[a52_0x34e16a(0x176)]=void 0x0;function a52_0xdc26(){const _0x3e96ee=['writeFile','constructor','defineProperty','195292zdeFXd','instanceUrl','getEntry','8016PBPgRc','\x20-c','checkOnly','force:mdapi:deploy\x20--json\x20','\x20-g','ignoreWarnings','updateAccessToken','1nVbTqT','2558366QWfeZD','addFile','result','then','uuid','5874930mxBBIa','parse','SFDX','.temp','cwd','8638540fEVHkv','SFDXUtils','refreshToken','join','deployComponents','catch','adm-zip','13035258TCGfOm','testLevel','getEntries','6LInnKl','entryName','__importDefault','sfdx','clientId','(((.+)+)+)+$','search','deploy.zip','default','spawnPromise','createSFDXProject','isAuthorizationError','apply','exists','8298738CiKWsA','fs/promises','1337tdXMdQ','../utils/auth.utils','mkdir','destructiveChangesPost.xml','clientSecret','\x20-r\x20','toString','accessToken','/.temp/','setInstanceUrl','ComponentsApi','split','\x20-purgeondelete','AuthUtils','runTests','toBuffer','fetchAttachmentBody','.temp/'];a52_0xdc26=function(){return _0x3e96ee;};return a52_0xdc26();}const promises_1=require(a52_0x34e16a(0x147)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a52_0x34e16a(0x149)),components_api_1=require('../utils/components-api'),path_1=__importDefault(require('path')),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a52_0x34e16a(0x16c)),adm_zip_1=__importDefault(require(a52_0x34e16a(0x178))),DESTRUCTIVE_CHANGES_POST_NAME=a52_0x34e16a(0x14b),DEPLOY_ZIP_NAME=a52_0x34e16a(0x183);async function deployComponents({attachmentId:_0x26cfc0,credentials:_0x1da372,postDestructiveAttachmentId:_0x4cb989,deployOptions:_0x41cbd2},_0x249780){const _0x13735f=a52_0x34e16a,_0x574356=(0x0,uuid_1['v4'])();try{const _0x213b3a=_0x26cfc0[_0x13735f(0x153)](','),_0x450656=new adm_zip_1[(_0x13735f(0x184))]();for(const _0x411c9c of _0x213b3a){await components_api_1[_0x13735f(0x152)][_0x13735f(0x158)](_0x249780,_0x411c9c)[_0x13735f(0x16b)](_0x52aa15=>{const _0x494f33=_0x13735f;var _0x48dee2;const _0x1c2af0=new adm_zip_1['default'](_0x52aa15);for(const _0x84ea52 of _0x1c2af0[_0x494f33(0x17b)]()){_0x450656[_0x494f33(0x169)](_0x84ea52['entryName'],(_0x48dee2=_0x1c2af0[_0x494f33(0x15f)](_0x84ea52[_0x494f33(0x17d)]))===null||_0x48dee2===void 0x0?void 0x0:_0x48dee2['getData']());}});}!await fs_internal_1['FS'][_0x13735f(0x189)](_0x13735f(0x159)+_0x574356)&&await(0x0,promises_1[_0x13735f(0x14a)])(_0x13735f(0x159)+_0x574356,{'recursive':!![]});await sfdx_utils_2[_0x13735f(0x173)][_0x13735f(0x186)](_0x26cfc0,_0x574356),await sfdx_utils_2['SFDXUtils'][_0x13735f(0x151)](_0x1da372[_0x13735f(0x15e)],_0x26cfc0,_0x574356);if(_0x4cb989){const _0x46998c=await components_api_1[_0x13735f(0x152)][_0x13735f(0x158)](_0x249780,_0x4cb989);_0x450656[_0x13735f(0x169)](DESTRUCTIVE_CHANGES_POST_NAME,_0x46998c),await(0x0,promises_1[_0x13735f(0x15a)])(process[_0x13735f(0x171)]()+'/.temp/'+_0x574356+'/'+DEPLOY_ZIP_NAME,_0x450656[_0x13735f(0x157)]());}else await(0x0,promises_1[_0x13735f(0x15a)])(process[_0x13735f(0x171)]()+_0x13735f(0x150)+_0x574356+'/'+DEPLOY_ZIP_NAME,_0x450656[_0x13735f(0x157)]());const _0x305840=await deploy(_0x1da372,_0x41cbd2,_0x574356);return JSON[_0x13735f(0x16e)](_0x305840)[_0x13735f(0x16a)]['id'];}catch(_0x5c0a8a){throw _0x5c0a8a;}finally{await(0x0,promises_1['rm'])(path_1['default'][_0x13735f(0x175)](process[_0x13735f(0x171)](),_0x13735f(0x170),_0x574356),{'recursive':!![]});}}exports[a52_0x34e16a(0x176)]=deployComponents;function a52_0x483b(_0x319ef4,_0x51435f){const _0x5457bb=a52_0xdc26();return a52_0x483b=function(_0x1d6100,_0xaf61c4){_0x1d6100=_0x1d6100-0x146;let _0xdc2648=_0x5457bb[_0x1d6100];return _0xdc2648;},a52_0x483b(_0x319ef4,_0x51435f);}function deploy(_0x83a6f9,_0x1cccc9,_0x5ed42f){const _0xa29528=a52_0x34e16a,_0x1a0d84=path_1[_0xa29528(0x184)][_0xa29528(0x175)](process[_0xa29528(0x171)](),_0xa29528(0x170),_0x5ed42f,DEPLOY_ZIP_NAME);let _0x23396d='-f\x20'+_0x1a0d84+'\x20-u\x20'+_0x83a6f9[_0xa29528(0x14f)];return _0x23396d+=_0x1cccc9[_0xa29528(0x162)]?_0xa29528(0x161):'',_0x23396d+=_0x1cccc9[_0xa29528(0x17a)]?'\x20-l\x20'+_0x1cccc9['testLevel']:'',_0x23396d+=_0x1cccc9['runTests']?_0xa29528(0x14d)+_0x1cccc9[_0xa29528(0x156)]:'',_0x23396d+=_0x1cccc9[_0xa29528(0x165)]?_0xa29528(0x164):'',_0x23396d+=_0x1cccc9['purgeOnDelete']?_0xa29528(0x154):'',sfdx_utils_1[_0xa29528(0x16f)][_0xa29528(0x185)](_0xa29528(0x17f),_0xa29528(0x163)+_0x23396d)[_0xa29528(0x177)](async _0xff140b=>{const _0x576d48=_0xa29528;if(sfdx_utils_2[_0x576d48(0x173)][_0x576d48(0x187)](_0xff140b))return _0x83a6f9[_0x576d48(0x14f)]=await auth_utils_1[_0x576d48(0x155)][_0x576d48(0x166)](_0x83a6f9[_0x576d48(0x15e)],_0x83a6f9[_0x576d48(0x174)],_0x83a6f9[_0x576d48(0x180)],_0x83a6f9[_0x576d48(0x14c)]),deploy(_0x83a6f9,_0x1cccc9,_0x5ed42f);throw _0xff140b;});}