const a84_0x1898f2=a84_0x1517;(function(_0x3cd354,_0x5b65e6){const _0x4a1a5b=a84_0x1517,_0x203cfb=_0x3cd354();while(!![]){try{const _0x1bdc7e=parseInt(_0x4a1a5b(0x162))/0x1*(parseInt(_0x4a1a5b(0x16a))/0x2)+parseInt(_0x4a1a5b(0x188))/0x3*(-parseInt(_0x4a1a5b(0x16b))/0x4)+parseInt(_0x4a1a5b(0x171))/0x5+parseInt(_0x4a1a5b(0x19a))/0x6*(parseInt(_0x4a1a5b(0x184))/0x7)+-parseInt(_0x4a1a5b(0x18a))/0x8*(parseInt(_0x4a1a5b(0x177))/0x9)+parseInt(_0x4a1a5b(0x17c))/0xa*(parseInt(_0x4a1a5b(0x172))/0xb)+-parseInt(_0x4a1a5b(0x19f))/0xc*(parseInt(_0x4a1a5b(0x18b))/0xd);if(_0x1bdc7e===_0x5b65e6)break;else _0x203cfb['push'](_0x203cfb['shift']());}catch(_0x15fff1){_0x203cfb['push'](_0x203cfb['shift']());}}}(a84_0x5906,0x70c7d));const a84_0x55a804=(function(){let _0x5d12bd=!![];return function(_0x1d9177,_0x4cc70f){const _0xb18b25=_0x5d12bd?function(){const _0xd2ee2f=a84_0x1517;if(_0x4cc70f){const _0x1fcf4a=_0x4cc70f[_0xd2ee2f(0x198)](_0x1d9177,arguments);return _0x4cc70f=null,_0x1fcf4a;}}:function(){};return _0x5d12bd=![],_0xb18b25;};}()),a84_0xeda181=a84_0x55a804(this,function(){const _0x18b656=a84_0x1517;return a84_0xeda181[_0x18b656(0x190)]()[_0x18b656(0x1a2)](_0x18b656(0x16f))['toString']()[_0x18b656(0x173)](a84_0xeda181)['search'](_0x18b656(0x16f));});function a84_0x5906(){const _0x5d71a9=['deployComponents','force:mdapi:deploy\x20--json\x20','split','join','7uYEbpW','clientId','../utils/auth.utils','AuthUtils','30561dAFPID','getEntries','3512016ksIMiM','4882891XPizsK','entryName','exists','mkdir','path','toString','../utils/sfdx.utils','isAuthorizationError','../../git/internal/fs.internal','deploy.zip','purgeOnDelete','destructiveChangesPost.xml','.temp/','apply','parse','3812646dagWvN','updateAccessToken','writeFile','uuid','testLevel','24UXehHk','SFDX','runTests','search','addFile','\x20-r\x20','SFDXUtils','ignoreWarnings','208889GYlvga','\x20-g','../../shared/utils/fetch-attachments','checkOnly','cwd','default','__esModule','accessToken','2GlZaAi','76yvurdn','instanceUrl','clientSecret','fetchAttachmentBody','(((.+)+)+)+$','/.temp/','473750cqvjXm','9973018PcvuFL','constructor','refreshToken','\x20-l\x20','__importDefault','9wUuZPd','.temp','spawn','getData','createSFDXProject','10AxRGwR','defineProperty','setInstanceUrl','toBuffer'];a84_0x5906=function(){return _0x5d71a9;};return a84_0x5906();}a84_0xeda181();'use strict';var __importDefault=this&&this[a84_0x1898f2(0x176)]||function(_0x4b3bf6){const _0x1a60f5=a84_0x1898f2;return _0x4b3bf6&&_0x4b3bf6[_0x1a60f5(0x168)]?_0x4b3bf6:{'default':_0x4b3bf6};};Object[a84_0x1898f2(0x17d)](exports,a84_0x1898f2(0x168),{'value':!![]}),exports[a84_0x1898f2(0x180)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a84_0x1898f2(0x191)),auth_utils_1=require(a84_0x1898f2(0x186)),path_1=__importDefault(require(a84_0x1898f2(0x18f))),fs_internal_1=require(a84_0x1898f2(0x193)),uuid_1=require(a84_0x1898f2(0x19d)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0x1898f2(0x164)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x1898f2(0x196),DEPLOY_ZIP_NAME=a84_0x1898f2(0x194);async function deployComponents({attachmentId:_0x22a4ab,credentials:_0x512ecc,postDestructiveAttachmentId:_0x519577,deployOptions:_0x300847},_0x3e591e){const _0x34496d=a84_0x1898f2,_0x1ef322=(0x0,uuid_1['v4'])();try{const _0x33aba6=_0x22a4ab[_0x34496d(0x182)](','),_0x505c04=new adm_zip_1[(_0x34496d(0x167))]();for(const _0x263a51 of _0x33aba6){await(0x0,fetch_attachments_1[_0x34496d(0x16e)])(_0x3e591e,_0x263a51)['then'](_0x745c8f=>{const _0x45361d=_0x34496d;var _0x529530;const _0x19c72b=new adm_zip_1[(_0x45361d(0x167))](_0x745c8f);for(const _0xa4e923 of _0x19c72b[_0x45361d(0x189)]()){_0x505c04[_0x45361d(0x15e)](_0xa4e923['entryName'],(_0x529530=_0x19c72b['getEntry'](_0xa4e923[_0x45361d(0x18c)]))===null||_0x529530===void 0x0?void 0x0:_0x529530[_0x45361d(0x17a)]());}});}!await fs_internal_1['FS'][_0x34496d(0x18d)](_0x34496d(0x197)+_0x1ef322)&&await(0x0,promises_1[_0x34496d(0x18e)])(_0x34496d(0x197)+_0x1ef322,{'recursive':!![]});await sfdx_utils_2[_0x34496d(0x160)][_0x34496d(0x17b)](_0x22a4ab,_0x1ef322),await sfdx_utils_2['SFDXUtils'][_0x34496d(0x17e)](_0x512ecc[_0x34496d(0x16c)],_0x22a4ab,_0x1ef322);if(_0x519577){const _0x34b926=await(0x0,fetch_attachments_1[_0x34496d(0x16e)])(_0x3e591e,_0x519577);_0x505c04[_0x34496d(0x15e)](DESTRUCTIVE_CHANGES_POST_NAME,_0x34b926),await(0x0,promises_1[_0x34496d(0x19c)])(process[_0x34496d(0x166)]()+_0x34496d(0x170)+_0x1ef322+'/'+DEPLOY_ZIP_NAME,_0x505c04[_0x34496d(0x17f)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+_0x34496d(0x170)+_0x1ef322+'/'+DEPLOY_ZIP_NAME,_0x505c04[_0x34496d(0x17f)]());const _0x14092f=await deploy(_0x512ecc,_0x300847,_0x1ef322);return JSON[_0x34496d(0x199)](_0x14092f)['result']['id'];}catch(_0x2cfca2){throw _0x2cfca2;}finally{await(0x0,promises_1['rm'])(path_1[_0x34496d(0x167)][_0x34496d(0x183)](process[_0x34496d(0x166)](),'.temp',_0x1ef322),{'recursive':!![]});}}function a84_0x1517(_0x306fca,_0x4eaad0){const _0x4fc2f9=a84_0x5906();return a84_0x1517=function(_0xeda181,_0x55a804){_0xeda181=_0xeda181-0x15e;let _0x5906bc=_0x4fc2f9[_0xeda181];return _0x5906bc;},a84_0x1517(_0x306fca,_0x4eaad0);}exports[a84_0x1898f2(0x180)]=deployComponents;function deploy(_0x469c9c,_0x534384,_0x287c27){const _0x23cc4b=a84_0x1898f2,_0xf955c2=path_1['default'][_0x23cc4b(0x183)](process[_0x23cc4b(0x166)](),_0x23cc4b(0x178),_0x287c27,DEPLOY_ZIP_NAME);let _0x20e14d='-f\x20'+_0xf955c2+'\x20-u\x20'+_0x469c9c[_0x23cc4b(0x169)];return _0x20e14d+=_0x534384[_0x23cc4b(0x165)]?'\x20-c':'',_0x20e14d+=_0x534384[_0x23cc4b(0x19e)]?_0x23cc4b(0x175)+_0x534384['testLevel']:'',_0x20e14d+=_0x534384[_0x23cc4b(0x1a1)]?_0x23cc4b(0x15f)+_0x534384['runTests']:'',_0x20e14d+=_0x534384[_0x23cc4b(0x161)]?_0x23cc4b(0x163):'',_0x20e14d+=_0x534384[_0x23cc4b(0x195)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x23cc4b(0x1a0)][_0x23cc4b(0x179)](_0x23cc4b(0x181)+_0x20e14d)['catch'](async _0xf0306d=>{const _0x289214=_0x23cc4b;if(sfdx_utils_2[_0x289214(0x160)][_0x289214(0x192)](_0xf0306d))return _0x469c9c[_0x289214(0x169)]=await auth_utils_1[_0x289214(0x187)][_0x289214(0x19b)](_0x469c9c[_0x289214(0x16c)],_0x469c9c[_0x289214(0x174)],_0x469c9c[_0x289214(0x185)],_0x469c9c[_0x289214(0x16d)]),deploy(_0x469c9c,_0x534384,_0x287c27);throw _0xf0306d;});}