const a83_0x997988=a83_0x3465;(function(_0x4a89a8,_0x2933e6){const _0x22f433=a83_0x3465,_0x4777ba=_0x4a89a8();while(!![]){try{const _0x6330dc=parseInt(_0x22f433(0x8c))/0x1+parseInt(_0x22f433(0x89))/0x2*(-parseInt(_0x22f433(0x9d))/0x3)+parseInt(_0x22f433(0x6a))/0x4*(parseInt(_0x22f433(0x6e))/0x5)+parseInt(_0x22f433(0xa2))/0x6*(-parseInt(_0x22f433(0xa6))/0x7)+-parseInt(_0x22f433(0xa7))/0x8+parseInt(_0x22f433(0x6f))/0x9+parseInt(_0x22f433(0x85))/0xa*(parseInt(_0x22f433(0x8d))/0xb);if(_0x6330dc===_0x2933e6)break;else _0x4777ba['push'](_0x4777ba['shift']());}catch(_0x31a572){_0x4777ba['push'](_0x4777ba['shift']());}}}(a83_0x4e02,0x22dfa));const a83_0x458ba3=(function(){let _0xe36c48=!![];return function(_0x3e2b70,_0x5f239f){const _0x3cc338=_0xe36c48?function(){const _0x56e938=a83_0x3465;if(_0x5f239f){const _0x1b8527=_0x5f239f[_0x56e938(0x71)](_0x3e2b70,arguments);return _0x5f239f=null,_0x1b8527;}}:function(){};return _0xe36c48=![],_0x3cc338;};}()),a83_0x5813d0=a83_0x458ba3(this,function(){const _0x593286=a83_0x3465;return a83_0x5813d0[_0x593286(0xa4)]()[_0x593286(0x67)](_0x593286(0xaa))['toString']()[_0x593286(0x78)](a83_0x5813d0)[_0x593286(0x67)](_0x593286(0xaa));});a83_0x5813d0();function a83_0x3465(_0x3fcf28,_0x1095d7){const _0x2344f=a83_0x4e02();return a83_0x3465=function(_0x5813d0,_0x458ba3){_0x5813d0=_0x5813d0-0x67;let _0x4e0273=_0x2344f[_0x5813d0];return _0x4e0273;},a83_0x3465(_0x3fcf28,_0x1095d7);}'use strict';var __importDefault=this&&this[a83_0x997988(0x75)]||function(_0x5c5b78){return _0x5c5b78&&_0x5c5b78['__esModule']?_0x5c5b78:{'default':_0x5c5b78};};function a83_0x4e02(){const _0x3de945=['cwd','/.temp/','default','setInstanceUrl','deployComponents','uuid','parse','../utils/sfdx.utils','481580BtAkXF','spawnPromise','exists','refreshToken','220hGWmvK','join','then','154992QlmwzD','121sZzfCZ','force:mdapi:deploy\x20--json\x20','.temp/','mkdir','testLevel','.temp','catch','SFDX','clientSecret','\x20-g','defineProperty','updateAccessToken','runTests','destructiveChangesPost.xml','\x20-u\x20','\x20-purgeondelete','7119sAIPDV','\x20-c','checkOnly','AuthUtils','deploy.zip','1158jAiXJw','writeFile','toString','\x20-r\x20','10164LvEOdj','2104192zvWDzh','entryName','../utils/auth.utils','(((.+)+)+)+$','search','../../git/internal/fs.internal','instanceUrl','8RmGYtG','getData','__esModule','ignoreWarnings','439970RHnuLm','777726rdywIY','toBuffer','apply','addFile','accessToken','fs/promises','__importDefault','getEntries','../../shared/utils/fetch-attachments','constructor','clientId','createSFDXProject','fetchAttachmentBody','adm-zip'];a83_0x4e02=function(){return _0x3de945;};return a83_0x4e02();}Object[a83_0x997988(0x97)](exports,a83_0x997988(0x6c),{'value':!![]}),exports['deployComponents']=void 0x0;const promises_1=require(a83_0x997988(0x74)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a83_0x997988(0x84)),auth_utils_1=require(a83_0x997988(0xa9)),path_1=__importDefault(require('path')),fs_internal_1=require(a83_0x997988(0x68)),uuid_1=require(a83_0x997988(0x82)),adm_zip_1=__importDefault(require(a83_0x997988(0x7c))),fetch_attachments_1=require(a83_0x997988(0x77)),DESTRUCTIVE_CHANGES_POST_NAME=a83_0x997988(0x9a),DEPLOY_ZIP_NAME=a83_0x997988(0xa1);async function deployComponents({attachmentId:_0x319844,credentials:_0x2b9f69,postDestructiveAttachmentId:_0x294124,deployOptions:_0xdac6ba},_0x3f3552){const _0x57f7b3=a83_0x997988,_0x2b945c=(0x0,uuid_1['v4'])();try{const _0x263216=_0x319844['split'](','),_0x4a7b40=new adm_zip_1[(_0x57f7b3(0x7f))]();for(const _0x374902 of _0x263216){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x3f3552,_0x374902)[_0x57f7b3(0x8b)](_0x23d98d=>{const _0x1cecb9=_0x57f7b3;var _0x130631;const _0x5104a5=new adm_zip_1[(_0x1cecb9(0x7f))](_0x23d98d);for(const _0x51f012 of _0x5104a5[_0x1cecb9(0x76)]()){_0x4a7b40[_0x1cecb9(0x72)](_0x51f012['entryName'],(_0x130631=_0x5104a5['getEntry'](_0x51f012[_0x1cecb9(0xa8)]))===null||_0x130631===void 0x0?void 0x0:_0x130631[_0x1cecb9(0x6b)]());}});}!await fs_internal_1['FS'][_0x57f7b3(0x87)]('.temp/'+_0x2b945c)&&await(0x0,promises_1[_0x57f7b3(0x90)])(_0x57f7b3(0x8f)+_0x2b945c,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x57f7b3(0x7a)](_0x319844,_0x2b945c),await sfdx_utils_2['SFDXUtils'][_0x57f7b3(0x80)](_0x2b9f69['instanceUrl'],_0x319844,_0x2b945c);if(_0x294124){const _0x574226=await(0x0,fetch_attachments_1[_0x57f7b3(0x7b)])(_0x3f3552,_0x294124);_0x4a7b40[_0x57f7b3(0x72)](DESTRUCTIVE_CHANGES_POST_NAME,_0x574226),await(0x0,promises_1[_0x57f7b3(0xa3)])(process['cwd']()+'/.temp/'+_0x2b945c+'/'+DEPLOY_ZIP_NAME,_0x4a7b40[_0x57f7b3(0x70)]());}else await(0x0,promises_1[_0x57f7b3(0xa3)])(process[_0x57f7b3(0x7d)]()+_0x57f7b3(0x7e)+_0x2b945c+'/'+DEPLOY_ZIP_NAME,_0x4a7b40[_0x57f7b3(0x70)]());const _0x16d654=await deploy(_0x2b9f69,_0xdac6ba,_0x2b945c);return JSON[_0x57f7b3(0x83)](_0x16d654)['result']['id'];}catch(_0x1d0f71){throw _0x1d0f71;}finally{await(0x0,promises_1['rm'])(path_1['default']['join'](process['cwd'](),'.temp',_0x2b945c),{'recursive':!![]});}}exports[a83_0x997988(0x81)]=deployComponents;function deploy(_0x5aaf2d,_0xe11413,_0x25f9c8){const _0x25f046=a83_0x997988,_0x16172f=path_1[_0x25f046(0x7f)][_0x25f046(0x8a)](process[_0x25f046(0x7d)](),_0x25f046(0x92),_0x25f9c8,DEPLOY_ZIP_NAME);let _0x42a3c7='-f\x20'+_0x16172f+_0x25f046(0x9b)+_0x5aaf2d[_0x25f046(0x73)];return _0x42a3c7+=_0xe11413[_0x25f046(0x9f)]?_0x25f046(0x9e):'',_0x42a3c7+=_0xe11413[_0x25f046(0x91)]?'\x20-l\x20'+_0xe11413[_0x25f046(0x91)]:'',_0x42a3c7+=_0xe11413[_0x25f046(0x99)]?_0x25f046(0xa5)+_0xe11413[_0x25f046(0x99)]:'',_0x42a3c7+=_0xe11413[_0x25f046(0x6d)]?_0x25f046(0x96):'',_0x42a3c7+=_0xe11413['purgeOnDelete']?_0x25f046(0x9c):'',sfdx_utils_1[_0x25f046(0x94)][_0x25f046(0x86)]('sfdx',_0x25f046(0x8e)+_0x42a3c7)[_0x25f046(0x93)](async _0x4009eb=>{const _0x36cc06=_0x25f046;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x4009eb))return _0x5aaf2d[_0x36cc06(0x73)]=await auth_utils_1[_0x36cc06(0xa0)][_0x36cc06(0x98)](_0x5aaf2d[_0x36cc06(0x69)],_0x5aaf2d[_0x36cc06(0x88)],_0x5aaf2d[_0x36cc06(0x79)],_0x5aaf2d[_0x36cc06(0x95)]),deploy(_0x5aaf2d,_0xe11413,_0x25f9c8);throw _0x4009eb;});}