const a102_0x3d6db3=a102_0x2547;(function(_0xcf5871,_0x42f426){const _0x1e8da3=a102_0x2547,_0x5c2151=_0xcf5871();while(!![]){try{const _0x29990a=-parseInt(_0x1e8da3(0x16e))/0x1*(parseInt(_0x1e8da3(0x181))/0x2)+parseInt(_0x1e8da3(0x162))/0x3*(parseInt(_0x1e8da3(0x182))/0x4)+parseInt(_0x1e8da3(0x164))/0x5*(parseInt(_0x1e8da3(0x195))/0x6)+-parseInt(_0x1e8da3(0x15f))/0x7+-parseInt(_0x1e8da3(0x188))/0x8*(parseInt(_0x1e8da3(0x198))/0x9)+parseInt(_0x1e8da3(0x196))/0xa+parseInt(_0x1e8da3(0x160))/0xb;if(_0x29990a===_0x42f426)break;else _0x5c2151['push'](_0x5c2151['shift']());}catch(_0x322842){_0x5c2151['push'](_0x5c2151['shift']());}}}(a102_0x1e09,0xcc2b2));function a102_0x2547(_0x32c80b,_0x34a301){const _0x1861a0=a102_0x1e09();return a102_0x2547=function(_0x5e82e2,_0x2322ba){_0x5e82e2=_0x5e82e2-0x15f;let _0x1e090b=_0x1861a0[_0x5e82e2];return _0x1e090b;},a102_0x2547(_0x32c80b,_0x34a301);}const a102_0x2322ba=(function(){let _0x757467=!![];return function(_0x151eb9,_0x1dd8f3){const _0x162c32=_0x757467?function(){const _0x10fada=a102_0x2547;if(_0x1dd8f3){const _0x4bc08c=_0x1dd8f3[_0x10fada(0x179)](_0x151eb9,arguments);return _0x1dd8f3=null,_0x4bc08c;}}:function(){};return _0x757467=![],_0x162c32;};}()),a102_0x5e82e2=a102_0x2322ba(this,function(){const _0x5e210d=a102_0x2547;return a102_0x5e82e2[_0x5e210d(0x166)]()['search'](_0x5e210d(0x199))[_0x5e210d(0x166)]()[_0x5e210d(0x197)](a102_0x5e82e2)['search']('(((.+)+)+)+$');});function a102_0x1e09(){const _0x5e1c0b=['updateAccessToken','mkdir','path','writeFile','850756aVwEJV','2874188yepKCD','fs/promises','split','/.temp/','accessToken','../../git/internal/fs.internal','3788248ttOZbu','../../shared/utils/fetch-attachments','exists','refreshToken','createSFDXProject','destructiveChangesPost.xml','-f\x20','ignoreWarnings','\x20-purgeondelete','catch','then','runTests','default','18546INOFYO','3100210KVRKoX','constructor','9SPlZSi','(((.+)+)+)+$','fetchAttachmentBody','instanceUrl','\x20-r\x20','../utils/auth.utils','cwd','entryName','6748686HtVbEq','11909909WpUmRq','\x20-l\x20','6QhSUET','result','1165UwxvSm','toBuffer','toString','uuid','join','__esModule','getEntry','testLevel','addFile','../utils/sfdx.utils','3RjrUzq','SFDX','clientSecret','setInstanceUrl','.temp/','AuthUtils','.temp','\x20-u\x20','\x20-g','SFDXUtils','checkOnly','apply','deployComponents','../../git/salesforce/utils/sfdx.utils','getEntries'];a102_0x1e09=function(){return _0x5e1c0b;};return a102_0x1e09();}a102_0x5e82e2();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3203ff){const _0x4980bb=a102_0x2547;return _0x3203ff&&_0x3203ff[_0x4980bb(0x169)]?_0x3203ff:{'default':_0x3203ff};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a102_0x3d6db3(0x17a)]=void 0x0;const promises_1=require(a102_0x3d6db3(0x183)),sfdx_utils_1=require(a102_0x3d6db3(0x17b)),sfdx_utils_2=require(a102_0x3d6db3(0x16d)),auth_utils_1=require(a102_0x3d6db3(0x19d)),path_1=__importDefault(require(a102_0x3d6db3(0x17f))),fs_internal_1=require(a102_0x3d6db3(0x187)),uuid_1=require(a102_0x3d6db3(0x167)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a102_0x3d6db3(0x189)),DESTRUCTIVE_CHANGES_POST_NAME=a102_0x3d6db3(0x18d),DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0xd53e12,credentials:_0x12124b,postDestructiveAttachmentId:_0x3e2223,deployOptions:_0x555ee0},_0x18b952){const _0x418f3b=a102_0x3d6db3,_0x40b5d1=(0x0,uuid_1['v4'])();try{const _0x569b8b=_0xd53e12[_0x418f3b(0x184)](','),_0x3ed08f=new adm_zip_1[(_0x418f3b(0x194))]();for(const _0x38865f of _0x569b8b){await(0x0,fetch_attachments_1[_0x418f3b(0x19a)])(_0x18b952,_0x38865f)[_0x418f3b(0x192)](_0x4d4d52=>{const _0x186446=_0x418f3b;var _0x5c7f26;const _0x2e5967=new adm_zip_1[(_0x186446(0x194))](_0x4d4d52);for(const _0x205768 of _0x2e5967[_0x186446(0x17c)]()){_0x3ed08f[_0x186446(0x16c)](_0x205768['entryName'],(_0x5c7f26=_0x2e5967[_0x186446(0x16a)](_0x205768[_0x186446(0x19f)]))===null||_0x5c7f26===void 0x0?void 0x0:_0x5c7f26['getData']());}});}!await fs_internal_1['FS'][_0x418f3b(0x18a)](_0x418f3b(0x172)+_0x40b5d1)&&await(0x0,promises_1[_0x418f3b(0x17e)])('.temp/'+_0x40b5d1,{'recursive':!![]});await sfdx_utils_2[_0x418f3b(0x177)][_0x418f3b(0x18c)](_0xd53e12,_0x40b5d1),await sfdx_utils_2['SFDXUtils'][_0x418f3b(0x171)](_0x12124b['instanceUrl'],_0xd53e12,_0x40b5d1);if(_0x3e2223){const _0x45b836=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x18b952,_0x3e2223);_0x3ed08f[_0x418f3b(0x16c)](DESTRUCTIVE_CHANGES_POST_NAME,_0x45b836),await(0x0,promises_1[_0x418f3b(0x180)])(process[_0x418f3b(0x19e)]()+_0x418f3b(0x185)+_0x40b5d1+'/'+DEPLOY_ZIP_NAME,_0x3ed08f[_0x418f3b(0x165)]());}else await(0x0,promises_1[_0x418f3b(0x180)])(process[_0x418f3b(0x19e)]()+_0x418f3b(0x185)+_0x40b5d1+'/'+DEPLOY_ZIP_NAME,_0x3ed08f[_0x418f3b(0x165)]());const _0x5537a8=await deploy(_0x12124b,_0x555ee0,_0x40b5d1);return JSON['parse'](_0x5537a8)[_0x418f3b(0x163)]['id'];}catch(_0x47e991){throw _0x47e991;}finally{await(0x0,promises_1['rm'])(path_1[_0x418f3b(0x194)][_0x418f3b(0x168)](process[_0x418f3b(0x19e)](),_0x418f3b(0x174),_0x40b5d1),{'recursive':!![]});}}exports[a102_0x3d6db3(0x17a)]=deployComponents;function deploy(_0x3bb62d,_0x1506a2,_0xd268d0){const _0x3478b5=a102_0x3d6db3,_0x2b6d30=path_1[_0x3478b5(0x194)][_0x3478b5(0x168)](process[_0x3478b5(0x19e)](),_0x3478b5(0x174),_0xd268d0,DEPLOY_ZIP_NAME);let _0x212bbc=_0x3478b5(0x18e)+_0x2b6d30+_0x3478b5(0x175)+_0x3bb62d[_0x3478b5(0x186)];return _0x212bbc+=_0x1506a2[_0x3478b5(0x178)]?'\x20-c':'',_0x212bbc+=_0x1506a2[_0x3478b5(0x16b)]?_0x3478b5(0x161)+_0x1506a2['testLevel']:'',_0x212bbc+=_0x1506a2[_0x3478b5(0x193)]?_0x3478b5(0x19c)+_0x1506a2[_0x3478b5(0x193)]:'',_0x212bbc+=_0x1506a2[_0x3478b5(0x18f)]?_0x3478b5(0x176):'',_0x212bbc+=_0x1506a2['purgeOnDelete']?_0x3478b5(0x190):'',sfdx_utils_1[_0x3478b5(0x16f)]['spawn']('force:mdapi:deploy\x20--json\x20'+_0x212bbc)[_0x3478b5(0x191)](async _0x23bd13=>{const _0x55dc7c=_0x3478b5;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x23bd13))return _0x3bb62d['accessToken']=await auth_utils_1[_0x55dc7c(0x173)][_0x55dc7c(0x17d)](_0x3bb62d[_0x55dc7c(0x19b)],_0x3bb62d[_0x55dc7c(0x18b)],_0x3bb62d['clientId'],_0x3bb62d[_0x55dc7c(0x170)]),deploy(_0x3bb62d,_0x1506a2,_0xd268d0);throw _0x23bd13;});}