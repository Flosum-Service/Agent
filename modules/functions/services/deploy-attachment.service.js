const a83_0x1b1c4f=a83_0x5c66;(function(_0xf051d0,_0x2117dc){const _0x1ab0cb=a83_0x5c66,_0x4e4c55=_0xf051d0();while(!![]){try{const _0x47f830=-parseInt(_0x1ab0cb(0x134))/0x1*(parseInt(_0x1ab0cb(0x11e))/0x2)+parseInt(_0x1ab0cb(0x10f))/0x3*(-parseInt(_0x1ab0cb(0x131))/0x4)+parseInt(_0x1ab0cb(0x12d))/0x5*(-parseInt(_0x1ab0cb(0x133))/0x6)+parseInt(_0x1ab0cb(0x111))/0x7+-parseInt(_0x1ab0cb(0x124))/0x8*(parseInt(_0x1ab0cb(0x119))/0x9)+parseInt(_0x1ab0cb(0x11d))/0xa*(parseInt(_0x1ab0cb(0x135))/0xb)+-parseInt(_0x1ab0cb(0x139))/0xc*(-parseInt(_0x1ab0cb(0x129))/0xd);if(_0x47f830===_0x2117dc)break;else _0x4e4c55['push'](_0x4e4c55['shift']());}catch(_0x2197d8){_0x4e4c55['push'](_0x4e4c55['shift']());}}}(a83_0x8839,0x7df62));const a83_0x52fe90=(function(){let _0x283256=!![];return function(_0x3b5f22,_0x12659e){const _0x567244=_0x283256?function(){if(_0x12659e){const _0x4577e8=_0x12659e['apply'](_0x3b5f22,arguments);return _0x12659e=null,_0x4577e8;}}:function(){};return _0x283256=![],_0x567244;};}()),a83_0x360505=a83_0x52fe90(this,function(){const _0x35ed01=a83_0x5c66;return a83_0x360505[_0x35ed01(0x123)]()[_0x35ed01(0x138)]('(((.+)+)+)+$')[_0x35ed01(0x123)]()['constructor'](a83_0x360505)['search']('(((.+)+)+)+$');});a83_0x360505();'use strict';var __importDefault=this&&this[a83_0x1b1c4f(0x116)]||function(_0x3be43e){return _0x3be43e&&_0x3be43e['__esModule']?_0x3be43e:{'default':_0x3be43e};};Object['defineProperty'](exports,a83_0x1b1c4f(0x127),{'value':!![]}),exports[a83_0x1b1c4f(0x105)]=void 0x0;const promises_1=require(a83_0x1b1c4f(0x117)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a83_0x1b1c4f(0x136)),auth_utils_1=require(a83_0x1b1c4f(0x120)),path_1=__importDefault(require(a83_0x1b1c4f(0x12f))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a83_0x1b1c4f(0x11b))),fetch_attachments_1=require(a83_0x1b1c4f(0x12b)),DESTRUCTIVE_CHANGES_POST_NAME=a83_0x1b1c4f(0x115),DEPLOY_ZIP_NAME=a83_0x1b1c4f(0x113);function a83_0x8839(){const _0x36336a=['adm-zip','force:mdapi:deploy\x20--json\x20','530WpKUlG','198578SCgGpe','refreshToken','../utils/auth.utils','result','exists','toString','4808704wMSFXo','setInstanceUrl','cwd','__esModule','getEntries','377jDIOtR','entryName','../../shared/utils/fetch-attachments','toBuffer','4835ndLJOI','SFDXUtils','path','createSFDXProject','184lSPTCj','join','6372VXUhpZ','1ZAoDHg','137654rjJpef','../utils/sfdx.utils','catch','search','653988rGKRuw','.temp','updateAccessToken','\x20-u\x20','accessToken','\x20-purgeondelete','runTests','sfdx','then','deployComponents','instanceUrl','getData','parse','\x20-r\x20','addFile','\x20-g','testLevel','ignoreWarnings','writeFile','5127drZsMZ','default','547190dmzNcG','.temp/','deploy.zip','checkOnly','destructiveChangesPost.xml','__importDefault','fs/promises','fetchAttachmentBody','9BkcCYb','/.temp/'];a83_0x8839=function(){return _0x36336a;};return a83_0x8839();}async function deployComponents({attachmentId:_0x511a99,credentials:_0x3f136e,postDestructiveAttachmentId:_0x2ce46f,deployOptions:_0x463c82},_0x263a49){const _0xa5b5fa=a83_0x1b1c4f,_0x26b9d1=(0x0,uuid_1['v4'])();try{const _0x120776=_0x511a99['split'](','),_0x1b68a6=new adm_zip_1[(_0xa5b5fa(0x110))]();for(const _0x3337a3 of _0x120776){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x263a49,_0x3337a3)[_0xa5b5fa(0x104)](_0x592253=>{const _0xd58966=_0xa5b5fa;var _0x5923e7;const _0x16d7b6=new adm_zip_1['default'](_0x592253);for(const _0x422972 of _0x16d7b6[_0xd58966(0x128)]()){_0x1b68a6[_0xd58966(0x10a)](_0x422972[_0xd58966(0x12a)],(_0x5923e7=_0x16d7b6['getEntry'](_0x422972[_0xd58966(0x12a)]))===null||_0x5923e7===void 0x0?void 0x0:_0x5923e7[_0xd58966(0x107)]());}});}!await fs_internal_1['FS'][_0xa5b5fa(0x122)](_0xa5b5fa(0x112)+_0x26b9d1)&&await(0x0,promises_1['mkdir'])(_0xa5b5fa(0x112)+_0x26b9d1,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0xa5b5fa(0x130)](_0x511a99,_0x26b9d1),await sfdx_utils_2[_0xa5b5fa(0x12e)][_0xa5b5fa(0x125)](_0x3f136e[_0xa5b5fa(0x106)],_0x511a99,_0x26b9d1);if(_0x2ce46f){const _0x398c6c=await(0x0,fetch_attachments_1[_0xa5b5fa(0x118)])(_0x263a49,_0x2ce46f);_0x1b68a6[_0xa5b5fa(0x10a)](DESTRUCTIVE_CHANGES_POST_NAME,_0x398c6c),await(0x0,promises_1['writeFile'])(process[_0xa5b5fa(0x126)]()+_0xa5b5fa(0x11a)+_0x26b9d1+'/'+DEPLOY_ZIP_NAME,_0x1b68a6[_0xa5b5fa(0x12c)]());}else await(0x0,promises_1[_0xa5b5fa(0x10e)])(process[_0xa5b5fa(0x126)]()+_0xa5b5fa(0x11a)+_0x26b9d1+'/'+DEPLOY_ZIP_NAME,_0x1b68a6[_0xa5b5fa(0x12c)]());const _0x58a033=await deploy(_0x3f136e,_0x463c82,_0x26b9d1);return JSON[_0xa5b5fa(0x108)](_0x58a033)[_0xa5b5fa(0x121)]['id'];}catch(_0x4ec4f2){throw _0x4ec4f2;}finally{await(0x0,promises_1['rm'])(path_1[_0xa5b5fa(0x110)]['join'](process['cwd'](),_0xa5b5fa(0x13a),_0x26b9d1),{'recursive':!![]});}}function a83_0x5c66(_0x5ae670,_0x301228){const _0xfc703e=a83_0x8839();return a83_0x5c66=function(_0x360505,_0x52fe90){_0x360505=_0x360505-0x101;let _0x88392b=_0xfc703e[_0x360505];return _0x88392b;},a83_0x5c66(_0x5ae670,_0x301228);}exports[a83_0x1b1c4f(0x105)]=deployComponents;function deploy(_0x1b50bd,_0x1e1f99,_0x168f80){const _0x19c10e=a83_0x1b1c4f,_0x291283=path_1[_0x19c10e(0x110)][_0x19c10e(0x132)](process[_0x19c10e(0x126)](),'.temp',_0x168f80,DEPLOY_ZIP_NAME);let _0x41c2e8='-f\x20'+_0x291283+_0x19c10e(0x13c)+_0x1b50bd['accessToken'];return _0x41c2e8+=_0x1e1f99[_0x19c10e(0x114)]?'\x20-c':'',_0x41c2e8+=_0x1e1f99[_0x19c10e(0x10c)]?'\x20-l\x20'+_0x1e1f99[_0x19c10e(0x10c)]:'',_0x41c2e8+=_0x1e1f99[_0x19c10e(0x102)]?_0x19c10e(0x109)+_0x1e1f99[_0x19c10e(0x102)]:'',_0x41c2e8+=_0x1e1f99[_0x19c10e(0x10d)]?_0x19c10e(0x10b):'',_0x41c2e8+=_0x1e1f99['purgeOnDelete']?_0x19c10e(0x101):'',sfdx_utils_1['SFDX']['spawnPromise'](_0x19c10e(0x103),_0x19c10e(0x11c)+_0x41c2e8)[_0x19c10e(0x137)](async _0x4a101a=>{const _0x1817d4=_0x19c10e;if(sfdx_utils_2[_0x1817d4(0x12e)]['isAuthorizationError'](_0x4a101a))return _0x1b50bd[_0x1817d4(0x13d)]=await auth_utils_1['AuthUtils'][_0x1817d4(0x13b)](_0x1b50bd[_0x1817d4(0x106)],_0x1b50bd[_0x1817d4(0x11f)],_0x1b50bd['clientId'],_0x1b50bd['clientSecret']),deploy(_0x1b50bd,_0x1e1f99,_0x168f80);throw _0x4a101a;});}