const a84_0x588fad=a84_0x4fad;(function(_0x369acf,_0x3b49f0){const _0x5d0542=a84_0x4fad,_0x443280=_0x369acf();while(!![]){try{const _0x1d3bbf=parseInt(_0x5d0542(0x15b))/0x1+-parseInt(_0x5d0542(0x158))/0x2*(parseInt(_0x5d0542(0x157))/0x3)+-parseInt(_0x5d0542(0x142))/0x4*(-parseInt(_0x5d0542(0x154))/0x5)+-parseInt(_0x5d0542(0x15a))/0x6*(-parseInt(_0x5d0542(0x14c))/0x7)+-parseInt(_0x5d0542(0x13e))/0x8+-parseInt(_0x5d0542(0x170))/0x9*(parseInt(_0x5d0542(0x14f))/0xa)+-parseInt(_0x5d0542(0x15f))/0xb*(parseInt(_0x5d0542(0x13d))/0xc);if(_0x1d3bbf===_0x3b49f0)break;else _0x443280['push'](_0x443280['shift']());}catch(_0x24d79e){_0x443280['push'](_0x443280['shift']());}}}(a84_0x3d8e,0x49146));function a84_0x3d8e(){const _0x1fbb98=['\x20-u\x20','.temp/','851587ERpIuf','\x20-l\x20','default','updateAccessToken','.temp','uuid','adm-zip','/.temp/','(((.+)+)+)+$','ignoreWarnings','../utils/sfdx.utils','getEntries','deployComponents','clientId','__importDefault','join','fs/promises','82206fzpTFt','then','createSFDXProject','addFile','accessToken','getData','toString','../../git/salesforce/utils/sfdx.utils','entryName','result','-f\x20','checkOnly','instanceUrl','writeFile','cwd','constructor','36tpLeCv','340704RnRyAb','apply','destructiveChangesPost.xml','split','4MEMxGL','mkdir','\x20-g','SFDXUtils','getEntry','purgeOnDelete','defineProperty','fetchAttachmentBody','testLevel','\x20-c','7SdxrNf','../../shared/utils/fetch-attachments','\x20-r\x20','50xNyrnc','runTests','deploy.zip','toBuffer','catch','1020135pcXllg','clientSecret','path','21903LvoxIU','50AhnWVP','search','1637994YzULDn','325342yWqUjY','__esModule'];a84_0x3d8e=function(){return _0x1fbb98;};return a84_0x3d8e();}const a84_0x56a107=(function(){let _0x49ab9a=!![];return function(_0x3464d0,_0x2bf9ba){const _0x5d20f4=_0x49ab9a?function(){const _0xcc1f66=a84_0x4fad;if(_0x2bf9ba){const _0x31d6ff=_0x2bf9ba[_0xcc1f66(0x13f)](_0x3464d0,arguments);return _0x2bf9ba=null,_0x31d6ff;}}:function(){};return _0x49ab9a=![],_0x5d20f4;};}()),a84_0xa4ac0b=a84_0x56a107(this,function(){const _0x337176=a84_0x4fad;return a84_0xa4ac0b[_0x337176(0x176)]()[_0x337176(0x159)]('(((.+)+)+)+$')[_0x337176(0x176)]()[_0x337176(0x13c)](a84_0xa4ac0b)['search'](_0x337176(0x167));});function a84_0x4fad(_0x460ae0,_0x382e41){const _0x2bba80=a84_0x3d8e();return a84_0x4fad=function(_0xa4ac0b,_0x56a107){_0xa4ac0b=_0xa4ac0b-0x137;let _0x3d8e40=_0x2bba80[_0xa4ac0b];return _0x3d8e40;},a84_0x4fad(_0x460ae0,_0x382e41);}a84_0xa4ac0b();'use strict';var __importDefault=this&&this[a84_0x588fad(0x16d)]||function(_0x57ada5){const _0x5f9255=a84_0x588fad;return _0x57ada5&&_0x57ada5[_0x5f9255(0x15c)]?_0x57ada5:{'default':_0x57ada5};};Object[a84_0x588fad(0x148)](exports,'__esModule',{'value':!![]}),exports['deployComponents']=void 0x0;const promises_1=require(a84_0x588fad(0x16f)),sfdx_utils_1=require(a84_0x588fad(0x177)),sfdx_utils_2=require(a84_0x588fad(0x169)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a84_0x588fad(0x156))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a84_0x588fad(0x164)),adm_zip_1=__importDefault(require(a84_0x588fad(0x165))),fetch_attachments_1=require(a84_0x588fad(0x14d)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x588fad(0x140),DEPLOY_ZIP_NAME=a84_0x588fad(0x151);async function deployComponents({attachmentId:_0x518aa8,credentials:_0x7236b1,postDestructiveAttachmentId:_0x463524,deployOptions:_0x1b8b8b},_0x2a82ec){const _0x11b140=a84_0x588fad,_0x5b2ab=(0x0,uuid_1['v4'])();try{const _0x3285a4=_0x518aa8[_0x11b140(0x141)](','),_0x224180=new adm_zip_1[(_0x11b140(0x161))]();for(const _0x51bbe2 of _0x3285a4){await(0x0,fetch_attachments_1[_0x11b140(0x149)])(_0x2a82ec,_0x51bbe2)[_0x11b140(0x171)](_0x516cce=>{const _0x139168=_0x11b140;var _0x242749;const _0x46ddfd=new adm_zip_1[(_0x139168(0x161))](_0x516cce);for(const _0x29a31c of _0x46ddfd[_0x139168(0x16a)]()){_0x224180[_0x139168(0x173)](_0x29a31c['entryName'],(_0x242749=_0x46ddfd[_0x139168(0x146)](_0x29a31c[_0x139168(0x178)]))===null||_0x242749===void 0x0?void 0x0:_0x242749[_0x139168(0x175)]());}});}!await fs_internal_1['FS']['exists']('.temp/'+_0x5b2ab)&&await(0x0,promises_1[_0x11b140(0x143)])(_0x11b140(0x15e)+_0x5b2ab,{'recursive':!![]});await sfdx_utils_2[_0x11b140(0x145)][_0x11b140(0x172)](_0x518aa8,_0x5b2ab),await sfdx_utils_2['SFDXUtils']['setInstanceUrl'](_0x7236b1['instanceUrl'],_0x518aa8,_0x5b2ab);if(_0x463524){const _0x3be92a=await(0x0,fetch_attachments_1[_0x11b140(0x149)])(_0x2a82ec,_0x463524);_0x224180[_0x11b140(0x173)](DESTRUCTIVE_CHANGES_POST_NAME,_0x3be92a),await(0x0,promises_1[_0x11b140(0x13a)])(process['cwd']()+_0x11b140(0x166)+_0x5b2ab+'/'+DEPLOY_ZIP_NAME,_0x224180[_0x11b140(0x152)]());}else await(0x0,promises_1[_0x11b140(0x13a)])(process[_0x11b140(0x13b)]()+_0x11b140(0x166)+_0x5b2ab+'/'+DEPLOY_ZIP_NAME,_0x224180[_0x11b140(0x152)]());const _0x4cd8bb=await deploy(_0x7236b1,_0x1b8b8b,_0x5b2ab);return JSON['parse'](_0x4cd8bb)[_0x11b140(0x179)]['id'];}catch(_0x3cd000){throw _0x3cd000;}finally{await(0x0,promises_1['rm'])(path_1[_0x11b140(0x161)][_0x11b140(0x16e)](process['cwd'](),_0x11b140(0x163),_0x5b2ab),{'recursive':!![]});}}exports[a84_0x588fad(0x16b)]=deployComponents;function deploy(_0xc0cf21,_0x104217,_0x5afa18){const _0x7d08a9=a84_0x588fad,_0x3fdd7f=path_1[_0x7d08a9(0x161)][_0x7d08a9(0x16e)](process['cwd'](),_0x7d08a9(0x163),_0x5afa18,DEPLOY_ZIP_NAME);let _0xf4e250=_0x7d08a9(0x137)+_0x3fdd7f+_0x7d08a9(0x15d)+_0xc0cf21[_0x7d08a9(0x174)];return _0xf4e250+=_0x104217[_0x7d08a9(0x138)]?_0x7d08a9(0x14b):'',_0xf4e250+=_0x104217[_0x7d08a9(0x14a)]?_0x7d08a9(0x160)+_0x104217[_0x7d08a9(0x14a)]:'',_0xf4e250+=_0x104217[_0x7d08a9(0x150)]?_0x7d08a9(0x14e)+_0x104217[_0x7d08a9(0x150)]:'',_0xf4e250+=_0x104217[_0x7d08a9(0x168)]?_0x7d08a9(0x144):'',_0xf4e250+=_0x104217[_0x7d08a9(0x147)]?'\x20-purgeondelete':'',sfdx_utils_1['SFDX']['spawn']('force:mdapi:deploy\x20--json\x20'+_0xf4e250)[_0x7d08a9(0x153)](async _0xf94b4d=>{const _0x3b1145=_0x7d08a9;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0xf94b4d))return _0xc0cf21[_0x3b1145(0x174)]=await auth_utils_1['AuthUtils'][_0x3b1145(0x162)](_0xc0cf21[_0x3b1145(0x139)],_0xc0cf21['refreshToken'],_0xc0cf21[_0x3b1145(0x16c)],_0xc0cf21[_0x3b1145(0x155)]),deploy(_0xc0cf21,_0x104217,_0x5afa18);throw _0xf94b4d;});}