const a83_0x44bc2d=a83_0x115f;(function(_0x42dc39,_0x55fb8f){const _0x250e63=a83_0x115f,_0x469bae=_0x42dc39();while(!![]){try{const _0x764c12=parseInt(_0x250e63(0x13c))/0x1*(parseInt(_0x250e63(0x13f))/0x2)+parseInt(_0x250e63(0x16d))/0x3+parseInt(_0x250e63(0x14a))/0x4*(parseInt(_0x250e63(0x144))/0x5)+-parseInt(_0x250e63(0x141))/0x6+parseInt(_0x250e63(0x14c))/0x7+parseInt(_0x250e63(0x14d))/0x8*(-parseInt(_0x250e63(0x16f))/0x9)+-parseInt(_0x250e63(0x160))/0xa;if(_0x764c12===_0x55fb8f)break;else _0x469bae['push'](_0x469bae['shift']());}catch(_0x57eed0){_0x469bae['push'](_0x469bae['shift']());}}}(a83_0x2caa,0x6291c));const a83_0x5caa8c=(function(){let _0x1c86b8=!![];return function(_0x229fe2,_0x574016){const _0x23a19c=_0x1c86b8?function(){if(_0x574016){const _0x52b093=_0x574016['apply'](_0x229fe2,arguments);return _0x574016=null,_0x52b093;}}:function(){};return _0x1c86b8=![],_0x23a19c;};}()),a83_0x336a4a=a83_0x5caa8c(this,function(){const _0x1cec48=a83_0x115f;return a83_0x336a4a[_0x1cec48(0x168)]()['search'](_0x1cec48(0x13b))[_0x1cec48(0x168)]()[_0x1cec48(0x147)](a83_0x336a4a)[_0x1cec48(0x162)](_0x1cec48(0x13b));});a83_0x336a4a();function a83_0x2caa(){const _0x531748=['clientId','uuid','adm-zip','catch','then','deploy.zip','defineProperty','ignoreWarnings','fs/promises','checkOnly','\x20-u\x20','SFDXUtils','902580bOsBSU','refreshToken','search','\x20-c','SFDX','../utils/sfdx.utils','addFile','exists','toString','AuthUtils','spawnPromise','toBuffer','fetchAttachmentBody','794919ySPEpg','mkdir','4739157ccblqQ','split','.temp/','\x20-r\x20','../../git/internal/fs.internal','\x20-l\x20','runTests','accessToken','parse','/.temp/','entryName','(((.+)+)+)+$','578315NWAPTV','instanceUrl','isAuthorizationError','2EBRYbO','default','4798194QVlVfW','../../git/salesforce/utils/sfdx.utils','-f\x20','5msyWzs','purgeOnDelete','destructiveChangesPost.xml','constructor','getEntry','force:mdapi:deploy\x20--json\x20','1248332KBZdHo','testLevel','4654293ciVDrD','8HNaqPt','sfdx','cwd','createSFDXProject','deployComponents','.temp','__esModule'];a83_0x2caa=function(){return _0x531748;};return a83_0x2caa();}function a83_0x115f(_0x460a53,_0xc73cad){const _0x52cf7e=a83_0x2caa();return a83_0x115f=function(_0x336a4a,_0x5caa8c){_0x336a4a=_0x336a4a-0x138;let _0x2caae0=_0x52cf7e[_0x336a4a];return _0x2caae0;},a83_0x115f(_0x460a53,_0xc73cad);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x20c7af){const _0x5b64c3=a83_0x115f;return _0x20c7af&&_0x20c7af[_0x5b64c3(0x153)]?_0x20c7af:{'default':_0x20c7af};};Object[a83_0x44bc2d(0x15a)](exports,a83_0x44bc2d(0x153),{'value':!![]}),exports[a83_0x44bc2d(0x151)]=void 0x0;const promises_1=require(a83_0x44bc2d(0x15c)),sfdx_utils_1=require(a83_0x44bc2d(0x142)),sfdx_utils_2=require(a83_0x44bc2d(0x165)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require('path')),fs_internal_1=require(a83_0x44bc2d(0x173)),uuid_1=require(a83_0x44bc2d(0x155)),adm_zip_1=__importDefault(require(a83_0x44bc2d(0x156))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a83_0x44bc2d(0x146),DEPLOY_ZIP_NAME=a83_0x44bc2d(0x159);async function deployComponents({attachmentId:_0x320933,credentials:_0x31ed3b,postDestructiveAttachmentId:_0x595f6a,deployOptions:_0x1224d4},_0x2305f8){const _0x4bfcdc=a83_0x44bc2d,_0x1caf5f=(0x0,uuid_1['v4'])();try{const _0x4fd413=_0x320933[_0x4bfcdc(0x170)](','),_0x99368f=new adm_zip_1['default']();for(const _0x1eeb84 of _0x4fd413){await(0x0,fetch_attachments_1[_0x4bfcdc(0x16c)])(_0x2305f8,_0x1eeb84)[_0x4bfcdc(0x158)](_0xff3ee5=>{const _0x2b1acb=_0x4bfcdc;var _0x2b4b53;const _0x35704f=new adm_zip_1['default'](_0xff3ee5);for(const _0x23afed of _0x35704f['getEntries']()){_0x99368f['addFile'](_0x23afed['entryName'],(_0x2b4b53=_0x35704f[_0x2b1acb(0x148)](_0x23afed[_0x2b1acb(0x13a)]))===null||_0x2b4b53===void 0x0?void 0x0:_0x2b4b53['getData']());}});}!await fs_internal_1['FS'][_0x4bfcdc(0x167)](_0x4bfcdc(0x171)+_0x1caf5f)&&await(0x0,promises_1[_0x4bfcdc(0x16e)])(_0x4bfcdc(0x171)+_0x1caf5f,{'recursive':!![]});await sfdx_utils_2[_0x4bfcdc(0x15f)][_0x4bfcdc(0x150)](_0x320933,_0x1caf5f),await sfdx_utils_2[_0x4bfcdc(0x15f)]['setInstanceUrl'](_0x31ed3b[_0x4bfcdc(0x13d)],_0x320933,_0x1caf5f);if(_0x595f6a){const _0x550be0=await(0x0,fetch_attachments_1[_0x4bfcdc(0x16c)])(_0x2305f8,_0x595f6a);_0x99368f[_0x4bfcdc(0x166)](DESTRUCTIVE_CHANGES_POST_NAME,_0x550be0),await(0x0,promises_1['writeFile'])(process[_0x4bfcdc(0x14f)]()+'/.temp/'+_0x1caf5f+'/'+DEPLOY_ZIP_NAME,_0x99368f[_0x4bfcdc(0x16b)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+_0x4bfcdc(0x139)+_0x1caf5f+'/'+DEPLOY_ZIP_NAME,_0x99368f[_0x4bfcdc(0x16b)]());const _0x4e09b9=await deploy(_0x31ed3b,_0x1224d4,_0x1caf5f);return JSON[_0x4bfcdc(0x138)](_0x4e09b9)['result']['id'];}catch(_0x558e30){throw _0x558e30;}finally{await(0x0,promises_1['rm'])(path_1[_0x4bfcdc(0x140)]['join'](process['cwd'](),'.temp',_0x1caf5f),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x46233d,_0x29b3a8,_0x279813){const _0x58a900=a83_0x44bc2d,_0x137d09=path_1[_0x58a900(0x140)]['join'](process[_0x58a900(0x14f)](),_0x58a900(0x152),_0x279813,DEPLOY_ZIP_NAME);let _0x3ce8f5=_0x58a900(0x143)+_0x137d09+_0x58a900(0x15e)+_0x46233d[_0x58a900(0x176)];return _0x3ce8f5+=_0x29b3a8[_0x58a900(0x15d)]?_0x58a900(0x163):'',_0x3ce8f5+=_0x29b3a8[_0x58a900(0x14b)]?_0x58a900(0x174)+_0x29b3a8[_0x58a900(0x14b)]:'',_0x3ce8f5+=_0x29b3a8[_0x58a900(0x175)]?_0x58a900(0x172)+_0x29b3a8[_0x58a900(0x175)]:'',_0x3ce8f5+=_0x29b3a8[_0x58a900(0x15b)]?'\x20-g':'',_0x3ce8f5+=_0x29b3a8[_0x58a900(0x145)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x58a900(0x164)][_0x58a900(0x16a)](_0x58a900(0x14e),_0x58a900(0x149)+_0x3ce8f5)[_0x58a900(0x157)](async _0x5b9649=>{const _0x3c8601=_0x58a900;if(sfdx_utils_2['SFDXUtils'][_0x3c8601(0x13e)](_0x5b9649))return _0x46233d['accessToken']=await auth_utils_1[_0x3c8601(0x169)]['updateAccessToken'](_0x46233d['instanceUrl'],_0x46233d[_0x3c8601(0x161)],_0x46233d[_0x3c8601(0x154)],_0x46233d['clientSecret']),deploy(_0x46233d,_0x29b3a8,_0x279813);throw _0x5b9649;});}