const a100_0x14a12b=a100_0x1252;(function(_0x36a59d,_0x324fc5){const _0xade47e=a100_0x1252,_0x55acfc=_0x36a59d();while(!![]){try{const _0x10504d=-parseInt(_0xade47e(0x105))/0x1+-parseInt(_0xade47e(0x11d))/0x2+parseInt(_0xade47e(0x118))/0x3+parseInt(_0xade47e(0xf6))/0x4+parseInt(_0xade47e(0xf2))/0x5*(parseInt(_0xade47e(0xed))/0x6)+parseInt(_0xade47e(0x10a))/0x7+parseInt(_0xade47e(0x11f))/0x8;if(_0x10504d===_0x324fc5)break;else _0x55acfc['push'](_0x55acfc['shift']());}catch(_0xecea79){_0x55acfc['push'](_0x55acfc['shift']());}}}(a100_0xf92e,0x464d4));function a100_0xf92e(){const _0x131e72=['accessToken','1095108QcuIbN','catch','constructor','purgeOnDelete','../utils/sfdx.utils','787228SucJUK','cwd','741192sMsRgY','\x20-c','setInstanceUrl','checkOnly','fs/promises','spawn','__esModule','join','writeFile','../../shared/utils/fetch-attachments','parse','210zLLOIe','ignoreWarnings','path','destructiveChangesPost.xml','fetchAttachmentBody','38185eMERAb','result','SFDXUtils','AuthUtils','407116fHVFRW','defineProperty','force:mdapi:deploy\x20--json\x20','toBuffer','default','then','(((.+)+)+)+$','getData','addFile','\x20-g','.temp/','getEntry','updateAccessToken','testLevel','../utils/auth.utils','383734SthtDY','createSFDXProject','__importDefault','-f\x20','/.temp/','1669815IVwOoO','isAuthorizationError','.temp','\x20-r\x20','adm-zip','runTests','exists','toString','\x20-l\x20','\x20-purgeondelete','../../git/internal/fs.internal','uuid','entryName'];a100_0xf92e=function(){return _0x131e72;};return a100_0xf92e();}const a100_0x520708=(function(){let _0x1d21b2=!![];return function(_0x15b200,_0x177808){const _0x5199fa=_0x1d21b2?function(){if(_0x177808){const _0x3b3139=_0x177808['apply'](_0x15b200,arguments);return _0x177808=null,_0x3b3139;}}:function(){};return _0x1d21b2=![],_0x5199fa;};}()),a100_0x258e00=a100_0x520708(this,function(){const _0x442c60=a100_0x1252;return a100_0x258e00['toString']()['search'](_0x442c60(0xfc))[_0x442c60(0x111)]()[_0x442c60(0x11a)](a100_0x258e00)['search'](_0x442c60(0xfc));});a100_0x258e00();'use strict';var __importDefault=this&&this[a100_0x14a12b(0x107)]||function(_0xdb1a70){const _0x30d051=a100_0x14a12b;return _0xdb1a70&&_0xdb1a70[_0x30d051(0x125)]?_0xdb1a70:{'default':_0xdb1a70};};Object[a100_0x14a12b(0xf7)](exports,'__esModule',{'value':!![]}),exports['deployComponents']=void 0x0;const promises_1=require(a100_0x14a12b(0x123)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a100_0x14a12b(0x11c)),auth_utils_1=require(a100_0x14a12b(0x104)),path_1=__importDefault(require(a100_0x14a12b(0xef))),fs_internal_1=require(a100_0x14a12b(0x114)),uuid_1=require(a100_0x14a12b(0x115)),adm_zip_1=__importDefault(require(a100_0x14a12b(0x10e))),fetch_attachments_1=require(a100_0x14a12b(0x128)),DESTRUCTIVE_CHANGES_POST_NAME=a100_0x14a12b(0xf0),DEPLOY_ZIP_NAME='deploy.zip';function a100_0x1252(_0x4027cb,_0x14ba4f){const _0x3253f6=a100_0xf92e();return a100_0x1252=function(_0x258e00,_0x520708){_0x258e00=_0x258e00-0xec;let _0xf92ed4=_0x3253f6[_0x258e00];return _0xf92ed4;},a100_0x1252(_0x4027cb,_0x14ba4f);}async function deployComponents({attachmentId:_0x1e90a4,credentials:_0x34ed2d,postDestructiveAttachmentId:_0x51f3dd,deployOptions:_0x2a415b},_0x441901){const _0x4f491d=a100_0x14a12b,_0x2b3866=(0x0,uuid_1['v4'])();try{const _0x3ee697=_0x1e90a4['split'](','),_0x59b10f=new adm_zip_1[(_0x4f491d(0xfa))]();for(const _0x35bd29 of _0x3ee697){await(0x0,fetch_attachments_1[_0x4f491d(0xf1)])(_0x441901,_0x35bd29)[_0x4f491d(0xfb)](_0x20a418=>{const _0x2165a4=_0x4f491d;var _0xfa4ede;const _0xedbb59=new adm_zip_1[(_0x2165a4(0xfa))](_0x20a418);for(const _0x1bf25c of _0xedbb59['getEntries']()){_0x59b10f[_0x2165a4(0xfe)](_0x1bf25c['entryName'],(_0xfa4ede=_0xedbb59[_0x2165a4(0x101)](_0x1bf25c[_0x2165a4(0x116)]))===null||_0xfa4ede===void 0x0?void 0x0:_0xfa4ede[_0x2165a4(0xfd)]());}});}!await fs_internal_1['FS'][_0x4f491d(0x110)](_0x4f491d(0x100)+_0x2b3866)&&await(0x0,promises_1['mkdir'])(_0x4f491d(0x100)+_0x2b3866,{'recursive':!![]});await sfdx_utils_2[_0x4f491d(0xf4)][_0x4f491d(0x106)](_0x1e90a4,_0x2b3866),await sfdx_utils_2[_0x4f491d(0xf4)][_0x4f491d(0x121)](_0x34ed2d['instanceUrl'],_0x1e90a4,_0x2b3866);if(_0x51f3dd){const _0x198b66=await(0x0,fetch_attachments_1[_0x4f491d(0xf1)])(_0x441901,_0x51f3dd);_0x59b10f[_0x4f491d(0xfe)](DESTRUCTIVE_CHANGES_POST_NAME,_0x198b66),await(0x0,promises_1['writeFile'])(process[_0x4f491d(0x11e)]()+_0x4f491d(0x109)+_0x2b3866+'/'+DEPLOY_ZIP_NAME,_0x59b10f[_0x4f491d(0xf9)]());}else await(0x0,promises_1[_0x4f491d(0x127)])(process[_0x4f491d(0x11e)]()+'/.temp/'+_0x2b3866+'/'+DEPLOY_ZIP_NAME,_0x59b10f[_0x4f491d(0xf9)]());const _0x1423f2=await deploy(_0x34ed2d,_0x2a415b,_0x2b3866);return JSON[_0x4f491d(0xec)](_0x1423f2)[_0x4f491d(0xf3)]['id'];}catch(_0x23d6c4){throw _0x23d6c4;}finally{await(0x0,promises_1['rm'])(path_1[_0x4f491d(0xfa)]['join'](process[_0x4f491d(0x11e)](),'.temp',_0x2b3866),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x4f8a2e,_0x5bc347,_0x108067){const _0x2bf19d=a100_0x14a12b,_0x47a2db=path_1[_0x2bf19d(0xfa)][_0x2bf19d(0x126)](process['cwd'](),_0x2bf19d(0x10c),_0x108067,DEPLOY_ZIP_NAME);let _0x587c10=_0x2bf19d(0x108)+_0x47a2db+'\x20-u\x20'+_0x4f8a2e[_0x2bf19d(0x117)];return _0x587c10+=_0x5bc347[_0x2bf19d(0x122)]?_0x2bf19d(0x120):'',_0x587c10+=_0x5bc347[_0x2bf19d(0x103)]?_0x2bf19d(0x112)+_0x5bc347['testLevel']:'',_0x587c10+=_0x5bc347['runTests']?_0x2bf19d(0x10d)+_0x5bc347[_0x2bf19d(0x10f)]:'',_0x587c10+=_0x5bc347[_0x2bf19d(0xee)]?_0x2bf19d(0xff):'',_0x587c10+=_0x5bc347[_0x2bf19d(0x11b)]?_0x2bf19d(0x113):'',sfdx_utils_1['SFDX'][_0x2bf19d(0x124)](_0x2bf19d(0xf8)+_0x587c10)[_0x2bf19d(0x119)](async _0x2e0713=>{const _0xdea7e5=_0x2bf19d;if(sfdx_utils_2[_0xdea7e5(0xf4)][_0xdea7e5(0x10b)](_0x2e0713))return _0x4f8a2e[_0xdea7e5(0x117)]=await auth_utils_1[_0xdea7e5(0xf5)][_0xdea7e5(0x102)](_0x4f8a2e['instanceUrl'],_0x4f8a2e['refreshToken'],_0x4f8a2e['clientId'],_0x4f8a2e['clientSecret']),deploy(_0x4f8a2e,_0x5bc347,_0x108067);throw _0x2e0713;});}