const a100_0x621dd5=a100_0xdcf7;(function(_0x424207,_0x350a55){const _0x4d38f1=a100_0xdcf7,_0xcb7da9=_0x424207();while(!![]){try{const _0xfb135f=parseInt(_0x4d38f1(0x1d2))/0x1+parseInt(_0x4d38f1(0x1d4))/0x2+parseInt(_0x4d38f1(0x1af))/0x3*(parseInt(_0x4d38f1(0x1c3))/0x4)+parseInt(_0x4d38f1(0x1b7))/0x5+-parseInt(_0x4d38f1(0x1b2))/0x6+-parseInt(_0x4d38f1(0x19e))/0x7+parseInt(_0x4d38f1(0x1a5))/0x8;if(_0xfb135f===_0x350a55)break;else _0xcb7da9['push'](_0xcb7da9['shift']());}catch(_0x20aa83){_0xcb7da9['push'](_0xcb7da9['shift']());}}}(a100_0x3baf,0x4143c));const a100_0x55ccc2=(function(){let _0x69cb55=!![];return function(_0x4604c1,_0x579384){const _0x5ab3c3=_0x69cb55?function(){const _0x1b54d0=a100_0xdcf7;if(_0x579384){const _0x3435d6=_0x579384[_0x1b54d0(0x1cc)](_0x4604c1,arguments);return _0x579384=null,_0x3435d6;}}:function(){};return _0x69cb55=![],_0x5ab3c3;};}()),a100_0x28cd80=a100_0x55ccc2(this,function(){const _0x47c736=a100_0xdcf7;return a100_0x28cd80['toString']()[_0x47c736(0x198)](_0x47c736(0x1ce))[_0x47c736(0x1d6)]()['constructor'](a100_0x28cd80)['search']('(((.+)+)+)+$');});a100_0x28cd80();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4049cf){const _0x256208=a100_0xdcf7;return _0x4049cf&&_0x4049cf[_0x256208(0x1c5)]?_0x4049cf:{'default':_0x4049cf};};function a100_0xdcf7(_0x4429d6,_0x501104){const _0x4f00d5=a100_0x3baf();return a100_0xdcf7=function(_0x28cd80,_0x55ccc2){_0x28cd80=_0x28cd80-0x197;let _0x3bafe7=_0x4f00d5[_0x28cd80];return _0x3bafe7;},a100_0xdcf7(_0x4429d6,_0x501104);}Object[a100_0x621dd5(0x1d3)](exports,a100_0x621dd5(0x1c5),{'value':!![]}),exports['deployComponents']=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a100_0x621dd5(0x19f)),sfdx_utils_2=require(a100_0x621dd5(0x1b0)),auth_utils_1=require(a100_0x621dd5(0x1a3)),path_1=__importDefault(require(a100_0x621dd5(0x1be))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a100_0x621dd5(0x199)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a100_0x621dd5(0x1d5),DEPLOY_ZIP_NAME=a100_0x621dd5(0x1ca);function a100_0x3baf(){const _0x581ca5=['purgeOnDelete','../utils/auth.utils','\x20-purgeondelete','19288srKzTw','getEntries','writeFile','\x20-g','split','AuthUtils','.temp','isAuthorizationError','\x20-r\x20','deployComponents','21KHXQFP','../utils/sfdx.utils','fetchAttachmentBody','2017476RhVycA','SFDXUtils','cwd','checkOnly','updateAccessToken','929325OpKDWx','testLevel','runTests','mkdir','getData','refreshToken','/.temp/','path','setInstanceUrl','-f\x20','accessToken','clientId','173532TfODWH','parse','__esModule','default','toBuffer','\x20-l\x20','createSFDXProject','deploy.zip','SFDX','apply','exists','(((.+)+)+)+$','\x20-c','instanceUrl','\x20-u\x20','508368bSCJzv','defineProperty','215328BxaOof','destructiveChangesPost.xml','toString','join','.temp/','search','uuid','ignoreWarnings','result','addFile','clientSecret','3530933cuGVQx','../../git/salesforce/utils/sfdx.utils','getEntry','force:mdapi:deploy\x20--json\x20'];a100_0x3baf=function(){return _0x581ca5;};return a100_0x3baf();}async function deployComponents({attachmentId:_0x1b09ca,credentials:_0x20962b,postDestructiveAttachmentId:_0xb8998b,deployOptions:_0x422259},_0xe2debe){const _0x94d75f=a100_0x621dd5,_0x46a035=(0x0,uuid_1['v4'])();try{const _0x2e43b4=_0x1b09ca[_0x94d75f(0x1a9)](','),_0x221037=new adm_zip_1['default']();for(const _0x105c9d of _0x2e43b4){await(0x0,fetch_attachments_1[_0x94d75f(0x1b1)])(_0xe2debe,_0x105c9d)['then'](_0x4918ea=>{const _0x361121=_0x94d75f;var _0x2639a8;const _0x38e50b=new adm_zip_1[(_0x361121(0x1c6))](_0x4918ea);for(const _0x13fc0a of _0x38e50b[_0x361121(0x1a6)]()){_0x221037[_0x361121(0x19c)](_0x13fc0a['entryName'],(_0x2639a8=_0x38e50b[_0x361121(0x1a0)](_0x13fc0a['entryName']))===null||_0x2639a8===void 0x0?void 0x0:_0x2639a8[_0x361121(0x1bb)]());}});}!await fs_internal_1['FS'][_0x94d75f(0x1cd)](_0x94d75f(0x197)+_0x46a035)&&await(0x0,promises_1[_0x94d75f(0x1ba)])(_0x94d75f(0x197)+_0x46a035,{'recursive':!![]});await sfdx_utils_2[_0x94d75f(0x1b3)][_0x94d75f(0x1c9)](_0x1b09ca,_0x46a035),await sfdx_utils_2['SFDXUtils'][_0x94d75f(0x1bf)](_0x20962b[_0x94d75f(0x1d0)],_0x1b09ca,_0x46a035);if(_0xb8998b){const _0x33f56b=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0xe2debe,_0xb8998b);_0x221037[_0x94d75f(0x19c)](DESTRUCTIVE_CHANGES_POST_NAME,_0x33f56b),await(0x0,promises_1[_0x94d75f(0x1a7)])(process[_0x94d75f(0x1b4)]()+_0x94d75f(0x1bd)+_0x46a035+'/'+DEPLOY_ZIP_NAME,_0x221037[_0x94d75f(0x1c7)]());}else await(0x0,promises_1[_0x94d75f(0x1a7)])(process[_0x94d75f(0x1b4)]()+'/.temp/'+_0x46a035+'/'+DEPLOY_ZIP_NAME,_0x221037[_0x94d75f(0x1c7)]());const _0x4c1b88=await deploy(_0x20962b,_0x422259,_0x46a035);return JSON[_0x94d75f(0x1c4)](_0x4c1b88)[_0x94d75f(0x19b)]['id'];}catch(_0x399d49){throw _0x399d49;}finally{await(0x0,promises_1['rm'])(path_1[_0x94d75f(0x1c6)]['join'](process[_0x94d75f(0x1b4)](),_0x94d75f(0x1ab),_0x46a035),{'recursive':!![]});}}exports[a100_0x621dd5(0x1ae)]=deployComponents;function deploy(_0x419b14,_0x4851f5,_0x2ce63f){const _0x48c799=a100_0x621dd5,_0x3572a8=path_1[_0x48c799(0x1c6)][_0x48c799(0x1d7)](process[_0x48c799(0x1b4)](),_0x48c799(0x1ab),_0x2ce63f,DEPLOY_ZIP_NAME);let _0xddef00=_0x48c799(0x1c0)+_0x3572a8+_0x48c799(0x1d1)+_0x419b14[_0x48c799(0x1c1)];return _0xddef00+=_0x4851f5[_0x48c799(0x1b5)]?_0x48c799(0x1cf):'',_0xddef00+=_0x4851f5['testLevel']?_0x48c799(0x1c8)+_0x4851f5[_0x48c799(0x1b8)]:'',_0xddef00+=_0x4851f5[_0x48c799(0x1b9)]?_0x48c799(0x1ad)+_0x4851f5['runTests']:'',_0xddef00+=_0x4851f5[_0x48c799(0x19a)]?_0x48c799(0x1a8):'',_0xddef00+=_0x4851f5[_0x48c799(0x1a2)]?_0x48c799(0x1a4):'',sfdx_utils_1[_0x48c799(0x1cb)]['spawn'](_0x48c799(0x1a1)+_0xddef00)['catch'](async _0x29cee7=>{const _0x2188a9=_0x48c799;if(sfdx_utils_2[_0x2188a9(0x1b3)][_0x2188a9(0x1ac)](_0x29cee7))return _0x419b14[_0x2188a9(0x1c1)]=await auth_utils_1[_0x2188a9(0x1aa)][_0x2188a9(0x1b6)](_0x419b14[_0x2188a9(0x1d0)],_0x419b14[_0x2188a9(0x1bc)],_0x419b14[_0x2188a9(0x1c2)],_0x419b14[_0x2188a9(0x19d)]),deploy(_0x419b14,_0x4851f5,_0x2ce63f);throw _0x29cee7;});}