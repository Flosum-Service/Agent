const a84_0x179c16=a84_0x387f;(function(_0x36782e,_0x2ec799){const _0x47dd03=a84_0x387f,_0x37ebd6=_0x36782e();while(!![]){try{const _0x4ce342=parseInt(_0x47dd03(0x173))/0x1+parseInt(_0x47dd03(0x170))/0x2+-parseInt(_0x47dd03(0x163))/0x3+parseInt(_0x47dd03(0x162))/0x4*(parseInt(_0x47dd03(0x181))/0x5)+parseInt(_0x47dd03(0x17a))/0x6+parseInt(_0x47dd03(0x184))/0x7+parseInt(_0x47dd03(0x172))/0x8*(-parseInt(_0x47dd03(0x14d))/0x9);if(_0x4ce342===_0x2ec799)break;else _0x37ebd6['push'](_0x37ebd6['shift']());}catch(_0x22f67d){_0x37ebd6['push'](_0x37ebd6['shift']());}}}(a84_0x5931,0x7b42a));const a84_0x2743df=(function(){let _0x21483e=!![];return function(_0x67b866,_0x56726f){const _0x315f81=_0x21483e?function(){const _0x54ac8d=a84_0x387f;if(_0x56726f){const _0x52bb9d=_0x56726f[_0x54ac8d(0x154)](_0x67b866,arguments);return _0x56726f=null,_0x52bb9d;}}:function(){};return _0x21483e=![],_0x315f81;};}()),a84_0x3b1487=a84_0x2743df(this,function(){const _0xd32b85=a84_0x387f;return a84_0x3b1487[_0xd32b85(0x14a)]()[_0xd32b85(0x15c)]('(((.+)+)+)+$')['toString']()[_0xd32b85(0x171)](a84_0x3b1487)[_0xd32b85(0x15c)](_0xd32b85(0x147));});a84_0x3b1487();'use strict';var __importDefault=this&&this[a84_0x179c16(0x16e)]||function(_0x53a9d9){const _0x1d52c7=a84_0x179c16;return _0x53a9d9&&_0x53a9d9[_0x1d52c7(0x176)]?_0x53a9d9:{'default':_0x53a9d9};};Object[a84_0x179c16(0x14c)](exports,a84_0x179c16(0x176),{'value':!![]}),exports[a84_0x179c16(0x174)]=void 0x0;const promises_1=require(a84_0x179c16(0x16f)),sfdx_utils_1=require(a84_0x179c16(0x17b)),sfdx_utils_2=require(a84_0x179c16(0x165)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require('path')),fs_internal_1=require(a84_0x179c16(0x17f)),uuid_1=require(a84_0x179c16(0x16c)),adm_zip_1=__importDefault(require(a84_0x179c16(0x151))),fetch_attachments_1=require(a84_0x179c16(0x164)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x179c16(0x17e),DEPLOY_ZIP_NAME=a84_0x179c16(0x153);async function deployComponents({attachmentId:_0x398ed3,credentials:_0x1e68a5,postDestructiveAttachmentId:_0x44af5f,deployOptions:_0x29f135},_0xde4d93){const _0x49dd4f=a84_0x179c16,_0x50a2a2=(0x0,uuid_1['v4'])();try{const _0x2f0b79=_0x398ed3['split'](','),_0x34b9fa=new adm_zip_1[(_0x49dd4f(0x168))]();for(const _0x52c1e1 of _0x2f0b79){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0xde4d93,_0x52c1e1)['then'](_0x538b59=>{const _0x279b7c=_0x49dd4f;var _0x53a413;const _0x3eb403=new adm_zip_1[(_0x279b7c(0x168))](_0x538b59);for(const _0xd5090b of _0x3eb403[_0x279b7c(0x178)]()){_0x34b9fa[_0x279b7c(0x159)](_0xd5090b['entryName'],(_0x53a413=_0x3eb403[_0x279b7c(0x182)](_0xd5090b[_0x279b7c(0x160)]))===null||_0x53a413===void 0x0?void 0x0:_0x53a413['getData']());}});}!await fs_internal_1['FS']['exists'](_0x49dd4f(0x155)+_0x50a2a2)&&await(0x0,promises_1[_0x49dd4f(0x14b)])(_0x49dd4f(0x155)+_0x50a2a2,{'recursive':!![]});await sfdx_utils_2[_0x49dd4f(0x150)][_0x49dd4f(0x15e)](_0x398ed3,_0x50a2a2),await sfdx_utils_2[_0x49dd4f(0x150)][_0x49dd4f(0x161)](_0x1e68a5[_0x49dd4f(0x15d)],_0x398ed3,_0x50a2a2);if(_0x44af5f){const _0x434c9c=await(0x0,fetch_attachments_1[_0x49dd4f(0x175)])(_0xde4d93,_0x44af5f);_0x34b9fa['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x434c9c),await(0x0,promises_1[_0x49dd4f(0x15f)])(process['cwd']()+_0x49dd4f(0x157)+_0x50a2a2+'/'+DEPLOY_ZIP_NAME,_0x34b9fa[_0x49dd4f(0x15a)]());}else await(0x0,promises_1[_0x49dd4f(0x15f)])(process[_0x49dd4f(0x149)]()+_0x49dd4f(0x157)+_0x50a2a2+'/'+DEPLOY_ZIP_NAME,_0x34b9fa[_0x49dd4f(0x15a)]());const _0x145306=await deploy(_0x1e68a5,_0x29f135,_0x50a2a2);return JSON[_0x49dd4f(0x180)](_0x145306)[_0x49dd4f(0x17d)]['id'];}catch(_0xc0f000){throw _0xc0f000;}finally{await(0x0,promises_1['rm'])(path_1['default'][_0x49dd4f(0x14e)](process['cwd'](),_0x49dd4f(0x148),_0x50a2a2),{'recursive':!![]});}}exports[a84_0x179c16(0x174)]=deployComponents;function a84_0x387f(_0x4bc115,_0x8ac0ee){const _0x5d3a50=a84_0x5931();return a84_0x387f=function(_0x3b1487,_0x2743df){_0x3b1487=_0x3b1487-0x147;let _0x5931c6=_0x5d3a50[_0x3b1487];return _0x5931c6;},a84_0x387f(_0x4bc115,_0x8ac0ee);}function a84_0x5931(){const _0x81ac0e=['\x20-u\x20','__importDefault','fs/promises','1272418rXitvk','constructor','16tcAeTW','77854RrnUbE','deployComponents','fetchAttachmentBody','__esModule','updateAccessToken','getEntries','isAuthorizationError','1472370vmscno','../../git/salesforce/utils/sfdx.utils','AuthUtils','result','destructiveChangesPost.xml','../../git/internal/fs.internal','parse','5036545hazpsS','getEntry','\x20-r\x20','4471516HuhDOa','clientSecret','\x20-c','(((.+)+)+)+$','.temp','cwd','toString','mkdir','defineProperty','5189337bGWixm','join','accessToken','SFDXUtils','adm-zip','checkOnly','deploy.zip','apply','.temp/','\x20-l\x20','/.temp/','spawn','addFile','toBuffer','refreshToken','search','instanceUrl','createSFDXProject','writeFile','entryName','setInstanceUrl','4JpLWxn','2842485Eolpqq','../../shared/utils/fetch-attachments','../utils/sfdx.utils','runTests','catch','default','ignoreWarnings','\x20-purgeondelete','testLevel','uuid'];a84_0x5931=function(){return _0x81ac0e;};return a84_0x5931();}function deploy(_0x3e8f8a,_0x42ddf6,_0x3498dc){const _0x1bd79c=a84_0x179c16,_0x201f87=path_1[_0x1bd79c(0x168)][_0x1bd79c(0x14e)](process[_0x1bd79c(0x149)](),_0x1bd79c(0x148),_0x3498dc,DEPLOY_ZIP_NAME);let _0x514933='-f\x20'+_0x201f87+_0x1bd79c(0x16d)+_0x3e8f8a['accessToken'];return _0x514933+=_0x42ddf6[_0x1bd79c(0x152)]?_0x1bd79c(0x186):'',_0x514933+=_0x42ddf6[_0x1bd79c(0x16b)]?_0x1bd79c(0x156)+_0x42ddf6[_0x1bd79c(0x16b)]:'',_0x514933+=_0x42ddf6[_0x1bd79c(0x166)]?_0x1bd79c(0x183)+_0x42ddf6[_0x1bd79c(0x166)]:'',_0x514933+=_0x42ddf6[_0x1bd79c(0x169)]?'\x20-g':'',_0x514933+=_0x42ddf6['purgeOnDelete']?_0x1bd79c(0x16a):'',sfdx_utils_1['SFDX'][_0x1bd79c(0x158)]('force:mdapi:deploy\x20--json\x20'+_0x514933)[_0x1bd79c(0x167)](async _0x460dd1=>{const _0x1099be=_0x1bd79c;if(sfdx_utils_2[_0x1099be(0x150)][_0x1099be(0x179)](_0x460dd1))return _0x3e8f8a[_0x1099be(0x14f)]=await auth_utils_1[_0x1099be(0x17c)][_0x1099be(0x177)](_0x3e8f8a['instanceUrl'],_0x3e8f8a[_0x1099be(0x15b)],_0x3e8f8a['clientId'],_0x3e8f8a[_0x1099be(0x185)]),deploy(_0x3e8f8a,_0x42ddf6,_0x3498dc);throw _0x460dd1;});}