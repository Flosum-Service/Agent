function a52_0x2d08(_0x4b12a0,_0xac58b4){const _0x4519a2=a52_0x4d63();return a52_0x2d08=function(_0x218ebd,_0x1bfc36){_0x218ebd=_0x218ebd-0xbb;let _0x4d63b4=_0x4519a2[_0x218ebd];return _0x4d63b4;},a52_0x2d08(_0x4b12a0,_0xac58b4);}const a52_0x2131f4=a52_0x2d08;(function(_0x2c8a44,_0x37bdf3){const _0x10f25f=a52_0x2d08,_0x3423ac=_0x2c8a44();while(!![]){try{const _0x4834d2=-parseInt(_0x10f25f(0xe6))/0x1*(parseInt(_0x10f25f(0xf1))/0x2)+-parseInt(_0x10f25f(0xf3))/0x3*(parseInt(_0x10f25f(0xd0))/0x4)+parseInt(_0x10f25f(0xd5))/0x5+parseInt(_0x10f25f(0xd7))/0x6+parseInt(_0x10f25f(0xbb))/0x7*(parseInt(_0x10f25f(0xbd))/0x8)+parseInt(_0x10f25f(0xee))/0x9*(parseInt(_0x10f25f(0xc9))/0xa)+-parseInt(_0x10f25f(0xca))/0xb*(parseInt(_0x10f25f(0xe4))/0xc);if(_0x4834d2===_0x37bdf3)break;else _0x3423ac['push'](_0x3423ac['shift']());}catch(_0x1316cb){_0x3423ac['push'](_0x3423ac['shift']());}}}(a52_0x4d63,0xdb286));const a52_0x1bfc36=(function(){let _0x55a396=!![];return function(_0x1b57f2,_0x45ca2b){const _0x4a0ffa=_0x55a396?function(){if(_0x45ca2b){const _0xa8b1b0=_0x45ca2b['apply'](_0x1b57f2,arguments);return _0x45ca2b=null,_0xa8b1b0;}}:function(){};return _0x55a396=![],_0x4a0ffa;};}()),a52_0x218ebd=a52_0x1bfc36(this,function(){const _0x562a59=a52_0x2d08;return a52_0x218ebd[_0x562a59(0xc0)]()[_0x562a59(0xc6)](_0x562a59(0xdf))[_0x562a59(0xc0)]()['constructor'](a52_0x218ebd)[_0x562a59(0xc6)]('(((.+)+)+)+$');});a52_0x218ebd();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x42421c){const _0x564284=a52_0x2d08;return _0x42421c&&_0x42421c[_0x564284(0xcc)]?_0x42421c:{'default':_0x42421c};};Object[a52_0x2131f4(0xe5)](exports,a52_0x2131f4(0xcc),{'value':!![]}),exports['deployComponents']=void 0x0;function a52_0x4d63(){const _0xc6b4e2=['createSFDXProject','default','spawnPromise','SFDXUtils','34620BilfZq','defineProperty','632531zCMNLy','clientId','uuid','deployComponents','split','mkdir','catch','join','414rWPPWM','entryName','\x20-g','2VrpsaN','purgeOnDelete','3TUaciS','getEntries','testLevel','fetchAttachmentBody','7GdtvMe','addFile','13748088qSZswD','\x20-r\x20','\x20-l\x20','toString','.temp','accessToken','/.temp/','.temp/','ignoreWarnings','search','fs/promises','updateAccessToken','143410MmaTsq','6952opvuIL','AuthUtils','__esModule','then','refreshToken','instanceUrl','2575588KlZwzh','writeFile','toBuffer','../utils/auth.utils','cwd','4385180CHcTxC','deploy.zip','4453110PfxpFc','parse','path','-f\x20','sfdx','\x20-c','adm-zip','clientSecret','(((.+)+)+)+$'];a52_0x4d63=function(){return _0xc6b4e2;};return a52_0x4d63();}const promises_1=require(a52_0x2131f4(0xc7)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a52_0x2131f4(0xd3)),path_1=__importDefault(require(a52_0x2131f4(0xd9))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a52_0x2131f4(0xe8)),adm_zip_1=__importDefault(require(a52_0x2131f4(0xdd))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME='destructiveChangesPost.xml',DEPLOY_ZIP_NAME=a52_0x2131f4(0xd6);async function deployComponents({attachmentId:_0x26bc59,credentials:_0x52dec2,postDestructiveAttachmentId:_0x49254b,deployOptions:_0x3295d2},_0x11026e){const _0x214c5b=a52_0x2131f4,_0x28bd5f=(0x0,uuid_1['v4'])();try{const _0x4ccdf6=_0x26bc59[_0x214c5b(0xea)](','),_0x315b10=new adm_zip_1[(_0x214c5b(0xe1))]();for(const _0x3a005a of _0x4ccdf6){await(0x0,fetch_attachments_1[_0x214c5b(0xf6)])(_0x11026e,_0x3a005a)[_0x214c5b(0xcd)](_0x4303df=>{const _0x821bfc=_0x214c5b;var _0x471667;const _0x3b6069=new adm_zip_1[(_0x821bfc(0xe1))](_0x4303df);for(const _0x4900b5 of _0x3b6069[_0x821bfc(0xf4)]()){_0x315b10[_0x821bfc(0xbc)](_0x4900b5[_0x821bfc(0xef)],(_0x471667=_0x3b6069['getEntry'](_0x4900b5[_0x821bfc(0xef)]))===null||_0x471667===void 0x0?void 0x0:_0x471667['getData']());}});}!await fs_internal_1['FS']['exists'](_0x214c5b(0xc4)+_0x28bd5f)&&await(0x0,promises_1[_0x214c5b(0xeb)])(_0x214c5b(0xc4)+_0x28bd5f,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x214c5b(0xe0)](_0x26bc59,_0x28bd5f),await sfdx_utils_2['SFDXUtils']['setInstanceUrl'](_0x52dec2[_0x214c5b(0xcf)],_0x26bc59,_0x28bd5f);if(_0x49254b){const _0x284231=await(0x0,fetch_attachments_1[_0x214c5b(0xf6)])(_0x11026e,_0x49254b);_0x315b10['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x284231),await(0x0,promises_1[_0x214c5b(0xd1)])(process['cwd']()+_0x214c5b(0xc3)+_0x28bd5f+'/'+DEPLOY_ZIP_NAME,_0x315b10[_0x214c5b(0xd2)]());}else await(0x0,promises_1['writeFile'])(process[_0x214c5b(0xd4)]()+'/.temp/'+_0x28bd5f+'/'+DEPLOY_ZIP_NAME,_0x315b10[_0x214c5b(0xd2)]());const _0x150d73=await deploy(_0x52dec2,_0x3295d2,_0x28bd5f);return JSON[_0x214c5b(0xd8)](_0x150d73)['result']['id'];}catch(_0x2467b4){throw _0x2467b4;}finally{await(0x0,promises_1['rm'])(path_1[_0x214c5b(0xe1)][_0x214c5b(0xed)](process[_0x214c5b(0xd4)](),_0x214c5b(0xc1),_0x28bd5f),{'recursive':!![]});}}exports[a52_0x2131f4(0xe9)]=deployComponents;function deploy(_0x42ef8d,_0x400413,_0x2fddd6){const _0x5d6019=a52_0x2131f4,_0x4d7f2a=path_1[_0x5d6019(0xe1)]['join'](process['cwd'](),_0x5d6019(0xc1),_0x2fddd6,DEPLOY_ZIP_NAME);let _0x3d773a=_0x5d6019(0xda)+_0x4d7f2a+'\x20-u\x20'+_0x42ef8d[_0x5d6019(0xc2)];return _0x3d773a+=_0x400413['checkOnly']?_0x5d6019(0xdc):'',_0x3d773a+=_0x400413[_0x5d6019(0xf5)]?_0x5d6019(0xbf)+_0x400413[_0x5d6019(0xf5)]:'',_0x3d773a+=_0x400413['runTests']?_0x5d6019(0xbe)+_0x400413['runTests']:'',_0x3d773a+=_0x400413[_0x5d6019(0xc5)]?_0x5d6019(0xf0):'',_0x3d773a+=_0x400413[_0x5d6019(0xf2)]?'\x20-purgeondelete':'',sfdx_utils_1['SFDX'][_0x5d6019(0xe2)](_0x5d6019(0xdb),'force:mdapi:deploy\x20--json\x20'+_0x3d773a)[_0x5d6019(0xec)](async _0x1d40e1=>{const _0x16b21d=_0x5d6019;if(sfdx_utils_2[_0x16b21d(0xe3)]['isAuthorizationError'](_0x1d40e1))return _0x42ef8d['accessToken']=await auth_utils_1[_0x16b21d(0xcb)][_0x16b21d(0xc8)](_0x42ef8d[_0x16b21d(0xcf)],_0x42ef8d[_0x16b21d(0xce)],_0x42ef8d[_0x16b21d(0xe7)],_0x42ef8d[_0x16b21d(0xde)]),deploy(_0x42ef8d,_0x400413,_0x2fddd6);throw _0x1d40e1;});}