const a100_0x5c2244=a100_0x39a7;function a100_0x3a90(){const _0x27c2b2=['ignoreWarnings','SFDX','12Swwtwk','\x20-g','49eWiXRO','__importDefault','-f\x20','SFDXUtils','createSFDXProject','catch','1913480hIMqWS','adm-zip','getEntry','split','../utils/sfdx.utils','updateAccessToken','cwd','purgeOnDelete','../../git/internal/fs.internal','getEntries','deployComponents','\x20-l\x20','spawn','setInstanceUrl','accessToken','\x20-u\x20','deploy.zip','36vGXcOO','364408vgScyu','default','addFile','checkOnly','refreshToken','writeFile','path','toBuffer','toString','\x20-r\x20','25390497tQXOsW','47145FuYHwU','parse','2010486cUrGSb','33529YyoEFl','\x20-purgeondelete','testLevel','/.temp/','967896WiQuvb','uuid','force:mdapi:deploy\x20--json\x20','runTests','.temp','AuthUtils','(((.+)+)+)+$','destructiveChangesPost.xml','fetchAttachmentBody','isAuthorizationError','clientId','exists','join','56hEbtef','instanceUrl','apply','.temp/','fs/promises','defineProperty','search','clientSecret','entryName','../../git/salesforce/utils/sfdx.utils'];a100_0x3a90=function(){return _0x27c2b2;};return a100_0x3a90();}(function(_0x379389,_0x45bd4a){const _0x3af617=a100_0x39a7,_0x232a0c=_0x379389();while(!![]){try{const _0x11ac6e=parseInt(_0x3af617(0xe6))/0x1*(-parseInt(_0x3af617(0xbe))/0x2)+-parseInt(_0x3af617(0xea))/0x3+parseInt(_0x3af617(0xf7))/0x4*(parseInt(_0x3af617(0xe3))/0x5)+-parseInt(_0x3af617(0xe5))/0x6+-parseInt(_0x3af617(0xc0))/0x7*(parseInt(_0x3af617(0xd8))/0x8)+parseInt(_0x3af617(0xd7))/0x9*(-parseInt(_0x3af617(0xc6))/0xa)+parseInt(_0x3af617(0xe2))/0xb;if(_0x11ac6e===_0x45bd4a)break;else _0x232a0c['push'](_0x232a0c['shift']());}catch(_0x59b7ef){_0x232a0c['push'](_0x232a0c['shift']());}}}(a100_0x3a90,0x795c9));function a100_0x39a7(_0x590d9a,_0x1cfac1){const _0x1fc2aa=a100_0x3a90();return a100_0x39a7=function(_0x55e9ac,_0xbd2fa6){_0x55e9ac=_0x55e9ac-0xb9;let _0x3a9079=_0x1fc2aa[_0x55e9ac];return _0x3a9079;},a100_0x39a7(_0x590d9a,_0x1cfac1);}const a100_0xbd2fa6=(function(){let _0x347513=!![];return function(_0x2e56a3,_0x28a564){const _0x4c52b2=_0x347513?function(){const _0xcf366=a100_0x39a7;if(_0x28a564){const _0x3fa140=_0x28a564[_0xcf366(0xf9)](_0x2e56a3,arguments);return _0x28a564=null,_0x3fa140;}}:function(){};return _0x347513=![],_0x4c52b2;};}()),a100_0x55e9ac=a100_0xbd2fa6(this,function(){const _0x1cb1f1=a100_0x39a7;return a100_0x55e9ac[_0x1cb1f1(0xe0)]()['search'](_0x1cb1f1(0xf0))[_0x1cb1f1(0xe0)]()['constructor'](a100_0x55e9ac)[_0x1cb1f1(0xfd)](_0x1cb1f1(0xf0));});a100_0x55e9ac();'use strict';var __importDefault=this&&this[a100_0x5c2244(0xc1)]||function(_0x355a26){return _0x355a26&&_0x355a26['__esModule']?_0x355a26:{'default':_0x355a26};};Object[a100_0x5c2244(0xfc)](exports,'__esModule',{'value':!![]}),exports[a100_0x5c2244(0xd0)]=void 0x0;const promises_1=require(a100_0x5c2244(0xfb)),sfdx_utils_1=require(a100_0x5c2244(0xbb)),sfdx_utils_2=require(a100_0x5c2244(0xca)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a100_0x5c2244(0xde))),fs_internal_1=require(a100_0x5c2244(0xce)),uuid_1=require(a100_0x5c2244(0xeb)),adm_zip_1=__importDefault(require(a100_0x5c2244(0xc7))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a100_0x5c2244(0xf1),DEPLOY_ZIP_NAME=a100_0x5c2244(0xd6);async function deployComponents({attachmentId:_0x16498f,credentials:_0x50244b,postDestructiveAttachmentId:_0x1af69e,deployOptions:_0x2a398b},_0x1991b1){const _0x95a7dd=a100_0x5c2244,_0x21e721=(0x0,uuid_1['v4'])();try{const _0xa6b7a0=_0x16498f[_0x95a7dd(0xc9)](','),_0x2d4758=new adm_zip_1[(_0x95a7dd(0xd9))]();for(const _0x543328 of _0xa6b7a0){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x1991b1,_0x543328)['then'](_0x32ea7e=>{const _0x2cd210=_0x95a7dd;var _0x25318b;const _0x236cad=new adm_zip_1[(_0x2cd210(0xd9))](_0x32ea7e);for(const _0x3905f2 of _0x236cad[_0x2cd210(0xcf)]()){_0x2d4758[_0x2cd210(0xda)](_0x3905f2[_0x2cd210(0xba)],(_0x25318b=_0x236cad[_0x2cd210(0xc8)](_0x3905f2[_0x2cd210(0xba)]))===null||_0x25318b===void 0x0?void 0x0:_0x25318b['getData']());}});}!await fs_internal_1['FS'][_0x95a7dd(0xf5)](_0x95a7dd(0xfa)+_0x21e721)&&await(0x0,promises_1['mkdir'])('.temp/'+_0x21e721,{'recursive':!![]});await sfdx_utils_2[_0x95a7dd(0xc3)][_0x95a7dd(0xc4)](_0x16498f,_0x21e721),await sfdx_utils_2['SFDXUtils'][_0x95a7dd(0xd3)](_0x50244b[_0x95a7dd(0xf8)],_0x16498f,_0x21e721);if(_0x1af69e){const _0x17813a=await(0x0,fetch_attachments_1[_0x95a7dd(0xf2)])(_0x1991b1,_0x1af69e);_0x2d4758[_0x95a7dd(0xda)](DESTRUCTIVE_CHANGES_POST_NAME,_0x17813a),await(0x0,promises_1[_0x95a7dd(0xdd)])(process[_0x95a7dd(0xcc)]()+_0x95a7dd(0xe9)+_0x21e721+'/'+DEPLOY_ZIP_NAME,_0x2d4758[_0x95a7dd(0xdf)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+'/.temp/'+_0x21e721+'/'+DEPLOY_ZIP_NAME,_0x2d4758['toBuffer']());const _0x3b128f=await deploy(_0x50244b,_0x2a398b,_0x21e721);return JSON[_0x95a7dd(0xe4)](_0x3b128f)['result']['id'];}catch(_0x1cc680){throw _0x1cc680;}finally{await(0x0,promises_1['rm'])(path_1['default'][_0x95a7dd(0xf6)](process[_0x95a7dd(0xcc)](),_0x95a7dd(0xee),_0x21e721),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x2eb331,_0x174d71,_0x5ce841){const _0x58e461=a100_0x5c2244,_0x270f1b=path_1[_0x58e461(0xd9)]['join'](process[_0x58e461(0xcc)](),'.temp',_0x5ce841,DEPLOY_ZIP_NAME);let _0x272133=_0x58e461(0xc2)+_0x270f1b+_0x58e461(0xd5)+_0x2eb331[_0x58e461(0xd4)];return _0x272133+=_0x174d71[_0x58e461(0xdb)]?'\x20-c':'',_0x272133+=_0x174d71[_0x58e461(0xe8)]?_0x58e461(0xd1)+_0x174d71[_0x58e461(0xe8)]:'',_0x272133+=_0x174d71['runTests']?_0x58e461(0xe1)+_0x174d71[_0x58e461(0xed)]:'',_0x272133+=_0x174d71[_0x58e461(0xbc)]?_0x58e461(0xbf):'',_0x272133+=_0x174d71[_0x58e461(0xcd)]?_0x58e461(0xe7):'',sfdx_utils_1[_0x58e461(0xbd)][_0x58e461(0xd2)](_0x58e461(0xec)+_0x272133)[_0x58e461(0xc5)](async _0x5dbd56=>{const _0x4e1509=_0x58e461;if(sfdx_utils_2[_0x4e1509(0xc3)][_0x4e1509(0xf3)](_0x5dbd56))return _0x2eb331[_0x4e1509(0xd4)]=await auth_utils_1[_0x4e1509(0xef)][_0x4e1509(0xcb)](_0x2eb331[_0x4e1509(0xf8)],_0x2eb331[_0x4e1509(0xdc)],_0x2eb331[_0x4e1509(0xf4)],_0x2eb331[_0x4e1509(0xb9)]),deploy(_0x2eb331,_0x174d71,_0x5ce841);throw _0x5dbd56;});}