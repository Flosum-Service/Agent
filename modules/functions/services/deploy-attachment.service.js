const a84_0x2ca6ba=a84_0x145d;function a84_0x59e5(){const _0x280f9f=['purgeOnDelete','\x20-l\x20','toString','testLevel','catch','1423542RuEHQY','adm-zip','getData','refreshToken','../../shared/utils/fetch-attachments','AuthUtils','.temp/','runTests','default','3LruTbY','split','writeFile','addFile','clientId','2008904peMDuF','getEntry','setInstanceUrl','destructiveChangesPost.xml','2086586ejdFvS','deployComponents','getEntries','entryName','SFDXUtils','558980ybdDEq','4615938xAyqOH','../utils/sfdx.utils','constructor','fetchAttachmentBody','mkdir','/.temp/','cwd','../../git/internal/fs.internal','10UrlZEj','search','(((.+)+)+)+$','accessToken','updateAccessToken','.temp','checkOnly','uuid','7575gVRIxz','../../git/salesforce/utils/sfdx.utils','fs/promises','exists','join','-f\x20','result','toBuffer','2692urDyVa','spawn','../utils/auth.utils','4089162fjjNrp','\x20-g','__esModule','instanceUrl'];a84_0x59e5=function(){return _0x280f9f;};return a84_0x59e5();}(function(_0x22ed28,_0x91a37){const _0x5a2646=a84_0x145d,_0x5130c1=_0x22ed28();while(!![]){try{const _0x2419e5=-parseInt(_0x5a2646(0x130))/0x1+parseInt(_0x5a2646(0x12b))/0x2*(parseInt(_0x5a2646(0x122))/0x3)+-parseInt(_0x5a2646(0x10d))/0x4*(parseInt(_0x5a2646(0x141))/0x5)+parseInt(_0x5a2646(0x119))/0x6+parseInt(_0x5a2646(0x110))/0x7+-parseInt(_0x5a2646(0x127))/0x8+-parseInt(_0x5a2646(0x131))/0x9*(-parseInt(_0x5a2646(0x139))/0xa);if(_0x2419e5===_0x91a37)break;else _0x5130c1['push'](_0x5130c1['shift']());}catch(_0x1465ad){_0x5130c1['push'](_0x5130c1['shift']());}}}(a84_0x59e5,0x85c46));function a84_0x145d(_0x25682d,_0x1e4360){const _0x304ef3=a84_0x59e5();return a84_0x145d=function(_0x23232f,_0x10eb44){_0x23232f=_0x23232f-0x107;let _0x59e5c2=_0x304ef3[_0x23232f];return _0x59e5c2;},a84_0x145d(_0x25682d,_0x1e4360);}const a84_0x10eb44=(function(){let _0x7a992b=!![];return function(_0x43d01e,_0x369042){const _0x1ff91f=_0x7a992b?function(){if(_0x369042){const _0x24bf2d=_0x369042['apply'](_0x43d01e,arguments);return _0x369042=null,_0x24bf2d;}}:function(){};return _0x7a992b=![],_0x1ff91f;};}()),a84_0x23232f=a84_0x10eb44(this,function(){const _0x2e438d=a84_0x145d;return a84_0x23232f[_0x2e438d(0x116)]()[_0x2e438d(0x13a)](_0x2e438d(0x13b))[_0x2e438d(0x116)]()[_0x2e438d(0x133)](a84_0x23232f)['search'](_0x2e438d(0x13b));});a84_0x23232f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1ec979){return _0x1ec979&&_0x1ec979['__esModule']?_0x1ec979:{'default':_0x1ec979};};Object['defineProperty'](exports,a84_0x2ca6ba(0x112),{'value':!![]}),exports[a84_0x2ca6ba(0x12c)]=void 0x0;const promises_1=require(a84_0x2ca6ba(0x107)),sfdx_utils_1=require(a84_0x2ca6ba(0x142)),sfdx_utils_2=require(a84_0x2ca6ba(0x132)),auth_utils_1=require(a84_0x2ca6ba(0x10f)),path_1=__importDefault(require('path')),fs_internal_1=require(a84_0x2ca6ba(0x138)),uuid_1=require(a84_0x2ca6ba(0x140)),adm_zip_1=__importDefault(require(a84_0x2ca6ba(0x11a))),fetch_attachments_1=require(a84_0x2ca6ba(0x11d)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2ca6ba(0x12a),DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0x3228eb,credentials:_0x4f6fc0,postDestructiveAttachmentId:_0x405796,deployOptions:_0x16f45c},_0x207ce9){const _0x264aba=a84_0x2ca6ba,_0x4b2327=(0x0,uuid_1['v4'])();try{const _0x477264=_0x3228eb[_0x264aba(0x123)](','),_0x498dd4=new adm_zip_1[(_0x264aba(0x121))]();for(const _0x145051 of _0x477264){await(0x0,fetch_attachments_1[_0x264aba(0x134)])(_0x207ce9,_0x145051)['then'](_0x54710e=>{const _0x4d79d4=_0x264aba;var _0x2a0363;const _0x490bfe=new adm_zip_1[(_0x4d79d4(0x121))](_0x54710e);for(const _0x128bca of _0x490bfe[_0x4d79d4(0x12d)]()){_0x498dd4['addFile'](_0x128bca[_0x4d79d4(0x12e)],(_0x2a0363=_0x490bfe[_0x4d79d4(0x128)](_0x128bca['entryName']))===null||_0x2a0363===void 0x0?void 0x0:_0x2a0363[_0x4d79d4(0x11b)]());}});}!await fs_internal_1['FS'][_0x264aba(0x108)](_0x264aba(0x11f)+_0x4b2327)&&await(0x0,promises_1[_0x264aba(0x135)])(_0x264aba(0x11f)+_0x4b2327,{'recursive':!![]});await sfdx_utils_2[_0x264aba(0x12f)]['createSFDXProject'](_0x3228eb,_0x4b2327),await sfdx_utils_2[_0x264aba(0x12f)][_0x264aba(0x129)](_0x4f6fc0[_0x264aba(0x113)],_0x3228eb,_0x4b2327);if(_0x405796){const _0xcae695=await(0x0,fetch_attachments_1[_0x264aba(0x134)])(_0x207ce9,_0x405796);_0x498dd4[_0x264aba(0x125)](DESTRUCTIVE_CHANGES_POST_NAME,_0xcae695),await(0x0,promises_1[_0x264aba(0x124)])(process[_0x264aba(0x137)]()+_0x264aba(0x136)+_0x4b2327+'/'+DEPLOY_ZIP_NAME,_0x498dd4[_0x264aba(0x10c)]());}else await(0x0,promises_1[_0x264aba(0x124)])(process['cwd']()+_0x264aba(0x136)+_0x4b2327+'/'+DEPLOY_ZIP_NAME,_0x498dd4['toBuffer']());const _0x47e389=await deploy(_0x4f6fc0,_0x16f45c,_0x4b2327);return JSON['parse'](_0x47e389)[_0x264aba(0x10b)]['id'];}catch(_0xfac93c){throw _0xfac93c;}finally{await(0x0,promises_1['rm'])(path_1[_0x264aba(0x121)][_0x264aba(0x109)](process[_0x264aba(0x137)](),_0x264aba(0x13e),_0x4b2327),{'recursive':!![]});}}exports[a84_0x2ca6ba(0x12c)]=deployComponents;function deploy(_0x8e0d7,_0x3fb966,_0x37c5e7){const _0x1ed88c=a84_0x2ca6ba,_0x264271=path_1[_0x1ed88c(0x121)][_0x1ed88c(0x109)](process[_0x1ed88c(0x137)](),_0x1ed88c(0x13e),_0x37c5e7,DEPLOY_ZIP_NAME);let _0x3ef40c=_0x1ed88c(0x10a)+_0x264271+'\x20-u\x20'+_0x8e0d7[_0x1ed88c(0x13c)];return _0x3ef40c+=_0x3fb966[_0x1ed88c(0x13f)]?'\x20-c':'',_0x3ef40c+=_0x3fb966[_0x1ed88c(0x117)]?_0x1ed88c(0x115)+_0x3fb966['testLevel']:'',_0x3ef40c+=_0x3fb966[_0x1ed88c(0x120)]?'\x20-r\x20'+_0x3fb966[_0x1ed88c(0x120)]:'',_0x3ef40c+=_0x3fb966['ignoreWarnings']?_0x1ed88c(0x111):'',_0x3ef40c+=_0x3fb966[_0x1ed88c(0x114)]?'\x20-purgeondelete':'',sfdx_utils_1['SFDX'][_0x1ed88c(0x10e)]('force:mdapi:deploy\x20--json\x20'+_0x3ef40c)[_0x1ed88c(0x118)](async _0x43e59e=>{const _0x575c04=_0x1ed88c;if(sfdx_utils_2[_0x575c04(0x12f)]['isAuthorizationError'](_0x43e59e))return _0x8e0d7[_0x575c04(0x13c)]=await auth_utils_1[_0x575c04(0x11e)][_0x575c04(0x13d)](_0x8e0d7[_0x575c04(0x113)],_0x8e0d7[_0x575c04(0x11c)],_0x8e0d7[_0x575c04(0x126)],_0x8e0d7['clientSecret']),deploy(_0x8e0d7,_0x3fb966,_0x37c5e7);throw _0x43e59e;});}