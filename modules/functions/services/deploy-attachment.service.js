const a102_0xa08e6a=a102_0x1e31;(function(_0x3e66df,_0x272abd){const _0x124f6c=a102_0x1e31,_0x52429e=_0x3e66df();while(!![]){try{const _0x37f567=parseInt(_0x124f6c(0x1be))/0x1*(parseInt(_0x124f6c(0x1d6))/0x2)+-parseInt(_0x124f6c(0x1cf))/0x3*(-parseInt(_0x124f6c(0x1c2))/0x4)+-parseInt(_0x124f6c(0x1c1))/0x5*(-parseInt(_0x124f6c(0x1c6))/0x6)+parseInt(_0x124f6c(0x1bd))/0x7+parseInt(_0x124f6c(0x1c9))/0x8+-parseInt(_0x124f6c(0x1ce))/0x9+-parseInt(_0x124f6c(0x1c8))/0xa;if(_0x37f567===_0x272abd)break;else _0x52429e['push'](_0x52429e['shift']());}catch(_0x597d02){_0x52429e['push'](_0x52429e['shift']());}}}(a102_0x146b,0xb54ed));const a102_0x9672fc=(function(){let _0x4f41f5=!![];return function(_0x1780b0,_0x3f189d){const _0x45f7e9=_0x4f41f5?function(){const _0x50acd9=a102_0x1e31;if(_0x3f189d){const _0x2a2998=_0x3f189d[_0x50acd9(0x1d8)](_0x1780b0,arguments);return _0x3f189d=null,_0x2a2998;}}:function(){};return _0x4f41f5=![],_0x45f7e9;};}()),a102_0x121972=a102_0x9672fc(this,function(){const _0x1eea56=a102_0x1e31;return a102_0x121972[_0x1eea56(0x1b4)]()[_0x1eea56(0x1c5)](_0x1eea56(0x1e6))[_0x1eea56(0x1b4)]()['constructor'](a102_0x121972)[_0x1eea56(0x1c5)](_0x1eea56(0x1e6));});a102_0x121972();'use strict';var __importDefault=this&&this[a102_0xa08e6a(0x1ca)]||function(_0x4977ba){const _0x2d62c1=a102_0xa08e6a;return _0x4977ba&&_0x4977ba[_0x2d62c1(0x1b0)]?_0x4977ba:{'default':_0x4977ba};};Object[a102_0xa08e6a(0x1ba)](exports,a102_0xa08e6a(0x1b0),{'value':!![]}),exports[a102_0xa08e6a(0x1ac)]=void 0x0;function a102_0x146b(){const _0x3e3da9=['1Oibvdg','getData','adm-zip','5jhwjBy','12zJsZjy','deploy.zip','uuid','search','3397734FyqZGU','spawn','7674440vcWcBx','6077488WzXvhJ','__importDefault','force:mdapi:deploy\x20--json\x20','isAuthorizationError','../../git/salesforce/utils/sfdx.utils','12947697SmnAKY','1192197LRFXay','toBuffer','-f\x20','writeFile','mkdir','addFile','catch','650466ajvTQk','.temp','apply','AuthUtils','default','../../git/internal/fs.internal','SFDXUtils','instanceUrl','result','entryName','join','.temp/','checkOnly','\x20-u\x20','testLevel','updateAccessToken','(((.+)+)+)+$','../utils/sfdx.utils','getEntries','destructiveChangesPost.xml','ignoreWarnings','deployComponents','refreshToken','parse','/.temp/','__esModule','\x20-c','then','accessToken','toString','path','split','SFDX','fs/promises','fetchAttachmentBody','defineProperty','exists','cwd','737163xgJDxF'];a102_0x146b=function(){return _0x3e3da9;};return a102_0x146b();}const promises_1=require(a102_0xa08e6a(0x1b8)),sfdx_utils_1=require(a102_0xa08e6a(0x1cd)),sfdx_utils_2=require(a102_0xa08e6a(0x1e7)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a102_0xa08e6a(0x1b5))),fs_internal_1=require(a102_0xa08e6a(0x1db)),uuid_1=require(a102_0xa08e6a(0x1c4)),adm_zip_1=__importDefault(require(a102_0xa08e6a(0x1c0))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a102_0xa08e6a(0x1e9),DEPLOY_ZIP_NAME=a102_0xa08e6a(0x1c3);function a102_0x1e31(_0x1bc8f3,_0xd92a7e){const _0x5c74d9=a102_0x146b();return a102_0x1e31=function(_0x121972,_0x9672fc){_0x121972=_0x121972-0x1ab;let _0x146bf6=_0x5c74d9[_0x121972];return _0x146bf6;},a102_0x1e31(_0x1bc8f3,_0xd92a7e);}async function deployComponents({attachmentId:_0x224fc6,credentials:_0x324884,postDestructiveAttachmentId:_0x5b45c8,deployOptions:_0x4d3f34},_0x28558d){const _0xddf93b=a102_0xa08e6a,_0x8b6621=(0x0,uuid_1['v4'])();try{const _0x3add05=_0x224fc6[_0xddf93b(0x1b6)](','),_0x3f60c6=new adm_zip_1[(_0xddf93b(0x1da))]();for(const _0x330b11 of _0x3add05){await(0x0,fetch_attachments_1[_0xddf93b(0x1b9)])(_0x28558d,_0x330b11)[_0xddf93b(0x1b2)](_0x3ca986=>{const _0x508fc6=_0xddf93b;var _0x111a06;const _0x3ef1fe=new adm_zip_1['default'](_0x3ca986);for(const _0x10dd71 of _0x3ef1fe[_0x508fc6(0x1e8)]()){_0x3f60c6[_0x508fc6(0x1d4)](_0x10dd71[_0x508fc6(0x1df)],(_0x111a06=_0x3ef1fe['getEntry'](_0x10dd71[_0x508fc6(0x1df)]))===null||_0x111a06===void 0x0?void 0x0:_0x111a06[_0x508fc6(0x1bf)]());}});}!await fs_internal_1['FS'][_0xddf93b(0x1bb)](_0xddf93b(0x1e1)+_0x8b6621)&&await(0x0,promises_1[_0xddf93b(0x1d3)])('.temp/'+_0x8b6621,{'recursive':!![]});await sfdx_utils_2['SFDXUtils']['createSFDXProject'](_0x224fc6,_0x8b6621),await sfdx_utils_2[_0xddf93b(0x1dc)]['setInstanceUrl'](_0x324884[_0xddf93b(0x1dd)],_0x224fc6,_0x8b6621);if(_0x5b45c8){const _0x169b08=await(0x0,fetch_attachments_1[_0xddf93b(0x1b9)])(_0x28558d,_0x5b45c8);_0x3f60c6[_0xddf93b(0x1d4)](DESTRUCTIVE_CHANGES_POST_NAME,_0x169b08),await(0x0,promises_1[_0xddf93b(0x1d2)])(process[_0xddf93b(0x1bc)]()+'/.temp/'+_0x8b6621+'/'+DEPLOY_ZIP_NAME,_0x3f60c6[_0xddf93b(0x1d0)]());}else await(0x0,promises_1['writeFile'])(process[_0xddf93b(0x1bc)]()+_0xddf93b(0x1af)+_0x8b6621+'/'+DEPLOY_ZIP_NAME,_0x3f60c6[_0xddf93b(0x1d0)]());const _0x94e1f=await deploy(_0x324884,_0x4d3f34,_0x8b6621);return JSON[_0xddf93b(0x1ae)](_0x94e1f)[_0xddf93b(0x1de)]['id'];}catch(_0x2dfb3a){throw _0x2dfb3a;}finally{await(0x0,promises_1['rm'])(path_1['default']['join'](process[_0xddf93b(0x1bc)](),_0xddf93b(0x1d7),_0x8b6621),{'recursive':!![]});}}exports[a102_0xa08e6a(0x1ac)]=deployComponents;function deploy(_0x458f3e,_0x206dec,_0x19948b){const _0x4e68a7=a102_0xa08e6a,_0x12d1f3=path_1['default'][_0x4e68a7(0x1e0)](process[_0x4e68a7(0x1bc)](),_0x4e68a7(0x1d7),_0x19948b,DEPLOY_ZIP_NAME);let _0x281d33=_0x4e68a7(0x1d1)+_0x12d1f3+_0x4e68a7(0x1e3)+_0x458f3e['accessToken'];return _0x281d33+=_0x206dec[_0x4e68a7(0x1e2)]?_0x4e68a7(0x1b1):'',_0x281d33+=_0x206dec[_0x4e68a7(0x1e4)]?'\x20-l\x20'+_0x206dec['testLevel']:'',_0x281d33+=_0x206dec['runTests']?'\x20-r\x20'+_0x206dec['runTests']:'',_0x281d33+=_0x206dec[_0x4e68a7(0x1ab)]?'\x20-g':'',_0x281d33+=_0x206dec['purgeOnDelete']?'\x20-purgeondelete':'',sfdx_utils_1[_0x4e68a7(0x1b7)][_0x4e68a7(0x1c7)](_0x4e68a7(0x1cb)+_0x281d33)[_0x4e68a7(0x1d5)](async _0x10a9b6=>{const _0x5c40fe=_0x4e68a7;if(sfdx_utils_2[_0x5c40fe(0x1dc)][_0x5c40fe(0x1cc)](_0x10a9b6))return _0x458f3e[_0x5c40fe(0x1b3)]=await auth_utils_1[_0x5c40fe(0x1d9)][_0x5c40fe(0x1e5)](_0x458f3e['instanceUrl'],_0x458f3e[_0x5c40fe(0x1ad)],_0x458f3e['clientId'],_0x458f3e['clientSecret']),deploy(_0x458f3e,_0x206dec,_0x19948b);throw _0x10a9b6;});}