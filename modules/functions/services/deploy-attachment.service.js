const a84_0x1adfa8=a84_0x55f1;function a84_0x55f1(_0x4bd3ce,_0x42beef){const _0x75d773=a84_0x4169();return a84_0x55f1=function(_0x23990d,_0x4d7bc2){_0x23990d=_0x23990d-0x167;let _0x41699a=_0x75d773[_0x23990d];return _0x41699a;},a84_0x55f1(_0x4bd3ce,_0x42beef);}(function(_0x1145b2,_0x218e95){const _0x14425b=a84_0x55f1,_0x274b0d=_0x1145b2();while(!![]){try{const _0x5b08d7=parseInt(_0x14425b(0x180))/0x1*(-parseInt(_0x14425b(0x16d))/0x2)+parseInt(_0x14425b(0x16b))/0x3*(parseInt(_0x14425b(0x183))/0x4)+parseInt(_0x14425b(0x1a7))/0x5*(-parseInt(_0x14425b(0x174))/0x6)+-parseInt(_0x14425b(0x170))/0x7+-parseInt(_0x14425b(0x188))/0x8*(-parseInt(_0x14425b(0x16a))/0x9)+parseInt(_0x14425b(0x19d))/0xa+-parseInt(_0x14425b(0x186))/0xb*(-parseInt(_0x14425b(0x16c))/0xc);if(_0x5b08d7===_0x218e95)break;else _0x274b0d['push'](_0x274b0d['shift']());}catch(_0x5cf8ee){_0x274b0d['push'](_0x274b0d['shift']());}}}(a84_0x4169,0xdb459));const a84_0x4d7bc2=(function(){let _0x3f7b81=!![];return function(_0x51f0e2,_0x45c142){const _0x51e244=_0x3f7b81?function(){if(_0x45c142){const _0x3cd15d=_0x45c142['apply'](_0x51f0e2,arguments);return _0x45c142=null,_0x3cd15d;}}:function(){};return _0x3f7b81=![],_0x51e244;};}()),a84_0x23990d=a84_0x4d7bc2(this,function(){const _0x2d5167=a84_0x55f1;return a84_0x23990d[_0x2d5167(0x18a)]()[_0x2d5167(0x18e)](_0x2d5167(0x184))['toString']()[_0x2d5167(0x181)](a84_0x23990d)[_0x2d5167(0x18e)](_0x2d5167(0x184));});a84_0x23990d();'use strict';var __importDefault=this&&this[a84_0x1adfa8(0x19f)]||function(_0x25210b){const _0x25861d=a84_0x1adfa8;return _0x25210b&&_0x25210b[_0x25861d(0x1a0)]?_0x25210b:{'default':_0x25210b};};Object['defineProperty'](exports,a84_0x1adfa8(0x1a0),{'value':!![]}),exports['deployComponents']=void 0x0;function a84_0x4169(){const _0x2f720f=['runTests','11101279CXREUv','entryName','setInstanceUrl','SFDX','186036kGdyDH','mkdir','\x20-u\x20','cwd','getEntries','accessToken','AuthUtils','../../git/salesforce/utils/sfdx.utils','\x20-g','destructiveChangesPost.xml','checkOnly','../utils/auth.utils','337375jZgjmt','constructor','adm-zip','20ZIAvth','(((.+)+)+)+$','instanceUrl','22IrQqGz','updateAccessToken','8AdUvZS','addFile','toString','fs/promises','.temp/','split','search','exists','parse','../utils/sfdx.utils','writeFile','refreshToken','/.temp/','uuid','../../git/internal/fs.internal','purgeOnDelete','getEntry','force:mdapi:deploy\x20--json\x20','path','testLevel','\x20-r\x20','1995880SgKHQv','spawnPromise','__importDefault','__esModule','\x20-purgeondelete','clientId','deployComponents','../../shared/utils/fetch-attachments','deploy.zip','then','255CGJocv','SFDXUtils','.temp','join','default','fetchAttachmentBody','4197411oOFWPP','463719IhSrtR','19807548mYgZOZ','4PDfXoi','-f\x20'];a84_0x4169=function(){return _0x2f720f;};return a84_0x4169();}const promises_1=require(a84_0x1adfa8(0x18b)),sfdx_utils_1=require(a84_0x1adfa8(0x17b)),sfdx_utils_2=require(a84_0x1adfa8(0x191)),auth_utils_1=require(a84_0x1adfa8(0x17f)),path_1=__importDefault(require(a84_0x1adfa8(0x19a))),fs_internal_1=require(a84_0x1adfa8(0x196)),uuid_1=require(a84_0x1adfa8(0x195)),adm_zip_1=__importDefault(require(a84_0x1adfa8(0x182))),fetch_attachments_1=require(a84_0x1adfa8(0x1a4)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x1adfa8(0x17d),DEPLOY_ZIP_NAME=a84_0x1adfa8(0x1a5);async function deployComponents({attachmentId:_0x483111,credentials:_0x257150,postDestructiveAttachmentId:_0x32b6f6,deployOptions:_0x2c0496},_0x4894a2){const _0x1e4413=a84_0x1adfa8,_0xe4218b=(0x0,uuid_1['v4'])();try{const _0x170b5d=_0x483111[_0x1e4413(0x18d)](','),_0x3e8e3b=new adm_zip_1[(_0x1e4413(0x168))]();for(const _0x4dd785 of _0x170b5d){await(0x0,fetch_attachments_1[_0x1e4413(0x169)])(_0x4894a2,_0x4dd785)[_0x1e4413(0x1a6)](_0x237765=>{const _0x5cd868=_0x1e4413;var _0x2e438;const _0x594d50=new adm_zip_1[(_0x5cd868(0x168))](_0x237765);for(const _0x5a1bba of _0x594d50[_0x5cd868(0x178)]()){_0x3e8e3b[_0x5cd868(0x189)](_0x5a1bba[_0x5cd868(0x171)],(_0x2e438=_0x594d50[_0x5cd868(0x198)](_0x5a1bba['entryName']))===null||_0x2e438===void 0x0?void 0x0:_0x2e438['getData']());}});}!await fs_internal_1['FS'][_0x1e4413(0x18f)](_0x1e4413(0x18c)+_0xe4218b)&&await(0x0,promises_1[_0x1e4413(0x175)])('.temp/'+_0xe4218b,{'recursive':!![]});await sfdx_utils_2[_0x1e4413(0x1a8)]['createSFDXProject'](_0x483111,_0xe4218b),await sfdx_utils_2[_0x1e4413(0x1a8)][_0x1e4413(0x172)](_0x257150[_0x1e4413(0x185)],_0x483111,_0xe4218b);if(_0x32b6f6){const _0x3dcdfa=await(0x0,fetch_attachments_1[_0x1e4413(0x169)])(_0x4894a2,_0x32b6f6);_0x3e8e3b[_0x1e4413(0x189)](DESTRUCTIVE_CHANGES_POST_NAME,_0x3dcdfa),await(0x0,promises_1['writeFile'])(process['cwd']()+_0x1e4413(0x194)+_0xe4218b+'/'+DEPLOY_ZIP_NAME,_0x3e8e3b['toBuffer']());}else await(0x0,promises_1[_0x1e4413(0x192)])(process['cwd']()+_0x1e4413(0x194)+_0xe4218b+'/'+DEPLOY_ZIP_NAME,_0x3e8e3b['toBuffer']());const _0x5e7beb=await deploy(_0x257150,_0x2c0496,_0xe4218b);return JSON[_0x1e4413(0x190)](_0x5e7beb)['result']['id'];}catch(_0x182952){throw _0x182952;}finally{await(0x0,promises_1['rm'])(path_1[_0x1e4413(0x168)][_0x1e4413(0x167)](process[_0x1e4413(0x177)](),_0x1e4413(0x1a9),_0xe4218b),{'recursive':!![]});}}exports[a84_0x1adfa8(0x1a3)]=deployComponents;function deploy(_0x1a3e8b,_0x12a503,_0x19722e){const _0x50c818=a84_0x1adfa8,_0x170d94=path_1['default'][_0x50c818(0x167)](process[_0x50c818(0x177)](),_0x50c818(0x1a9),_0x19722e,DEPLOY_ZIP_NAME);let _0x5d204d=_0x50c818(0x16e)+_0x170d94+_0x50c818(0x176)+_0x1a3e8b[_0x50c818(0x179)];return _0x5d204d+=_0x12a503[_0x50c818(0x17e)]?'\x20-c':'',_0x5d204d+=_0x12a503[_0x50c818(0x19b)]?'\x20-l\x20'+_0x12a503[_0x50c818(0x19b)]:'',_0x5d204d+=_0x12a503[_0x50c818(0x16f)]?_0x50c818(0x19c)+_0x12a503[_0x50c818(0x16f)]:'',_0x5d204d+=_0x12a503['ignoreWarnings']?_0x50c818(0x17c):'',_0x5d204d+=_0x12a503[_0x50c818(0x197)]?_0x50c818(0x1a1):'',sfdx_utils_1[_0x50c818(0x173)][_0x50c818(0x19e)]('sfdx',_0x50c818(0x199)+_0x5d204d)['catch'](async _0xac853c=>{const _0x191ef8=_0x50c818;if(sfdx_utils_2[_0x191ef8(0x1a8)]['isAuthorizationError'](_0xac853c))return _0x1a3e8b[_0x191ef8(0x179)]=await auth_utils_1[_0x191ef8(0x17a)][_0x191ef8(0x187)](_0x1a3e8b[_0x191ef8(0x185)],_0x1a3e8b[_0x191ef8(0x193)],_0x1a3e8b[_0x191ef8(0x1a2)],_0x1a3e8b['clientSecret']),deploy(_0x1a3e8b,_0x12a503,_0x19722e);throw _0xac853c;});}