const a84_0x3612f=a84_0x175f;(function(_0x315a62,_0x1ef683){const _0xe61cf2=a84_0x175f,_0x4322a2=_0x315a62();while(!![]){try{const _0x2dc242=-parseInt(_0xe61cf2(0x17c))/0x1*(-parseInt(_0xe61cf2(0x18e))/0x2)+-parseInt(_0xe61cf2(0x178))/0x3+parseInt(_0xe61cf2(0x190))/0x4+-parseInt(_0xe61cf2(0x15c))/0x5*(-parseInt(_0xe61cf2(0x14f))/0x6)+-parseInt(_0xe61cf2(0x14c))/0x7*(parseInt(_0xe61cf2(0x157))/0x8)+-parseInt(_0xe61cf2(0x166))/0x9+-parseInt(_0xe61cf2(0x188))/0xa*(-parseInt(_0xe61cf2(0x191))/0xb);if(_0x2dc242===_0x1ef683)break;else _0x4322a2['push'](_0x4322a2['shift']());}catch(_0x4e7dfe){_0x4322a2['push'](_0x4322a2['shift']());}}}(a84_0x38ad,0xabccd));const a84_0x3ed662=(function(){let _0x4a468f=!![];return function(_0x3e06c2,_0x205c37){const _0x344710=_0x4a468f?function(){const _0x584edf=a84_0x175f;if(_0x205c37){const _0x255d40=_0x205c37[_0x584edf(0x173)](_0x3e06c2,arguments);return _0x205c37=null,_0x255d40;}}:function(){};return _0x4a468f=![],_0x344710;};}()),a84_0x3c0fdc=a84_0x3ed662(this,function(){const _0x53bb70=a84_0x175f;return a84_0x3c0fdc[_0x53bb70(0x153)]()[_0x53bb70(0x185)](_0x53bb70(0x18a))[_0x53bb70(0x153)]()[_0x53bb70(0x165)](a84_0x3c0fdc)[_0x53bb70(0x185)]('(((.+)+)+)+$');});a84_0x3c0fdc();function a84_0x38ad(){const _0x5bff20=['purgeOnDelete','(((.+)+)+)+$','mkdir','cwd','../../git/internal/fs.internal','4VWrYdk','adm-zip','699772abDCqv','1221iYBFfZ','198450kOhjuv','isAuthorizationError','.temp/','2428368BituoY','defineProperty','checkOnly','split','toString','\x20-r\x20','writeFile','setInstanceUrl','112uQMXQH','\x20-c','catch','accessToken','fs/promises','10fFigCN','\x20-u\x20','runTests','exists','\x20-l\x20','updateAccessToken','fetchAttachmentBody','path','SFDXUtils','constructor','2331540kCaDlG','default','SFDX','spawn','refreshToken','__esModule','getEntries','__importDefault','entryName','result','AuthUtils','getData','instanceUrl','apply','clientSecret','.temp','ignoreWarnings','destructiveChangesPost.xml','1863867NzKQIo','deployComponents','deploy.zip','../../git/salesforce/utils/sfdx.utils','348366QBYUAT','testLevel','../utils/auth.utils','addFile','/.temp/','join','toBuffer','createSFDXProject','clientId','search','getEntry','force:mdapi:deploy\x20--json\x20','27010gSCoVi'];a84_0x38ad=function(){return _0x5bff20;};return a84_0x38ad();}'use strict';var __importDefault=this&&this[a84_0x3612f(0x16d)]||function(_0x44b96b){const _0x16914d=a84_0x3612f;return _0x44b96b&&_0x44b96b[_0x16914d(0x16b)]?_0x44b96b:{'default':_0x44b96b};};Object[a84_0x3612f(0x150)](exports,a84_0x3612f(0x16b),{'value':!![]}),exports[a84_0x3612f(0x179)]=void 0x0;function a84_0x175f(_0x4d033a,_0x2616b2){const _0x361164=a84_0x38ad();return a84_0x175f=function(_0x3c0fdc,_0x3ed662){_0x3c0fdc=_0x3c0fdc-0x14c;let _0x38ad77=_0x361164[_0x3c0fdc];return _0x38ad77;},a84_0x175f(_0x4d033a,_0x2616b2);}const promises_1=require(a84_0x3612f(0x15b)),sfdx_utils_1=require(a84_0x3612f(0x17b)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x3612f(0x17e)),path_1=__importDefault(require(a84_0x3612f(0x163))),fs_internal_1=require(a84_0x3612f(0x18d)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a84_0x3612f(0x18f))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x3612f(0x177),DEPLOY_ZIP_NAME=a84_0x3612f(0x17a);async function deployComponents({attachmentId:_0x2eb45c,credentials:_0x24938d,postDestructiveAttachmentId:_0x361bc7,deployOptions:_0x49e7b6},_0x158573){const _0x2fb681=a84_0x3612f,_0x3e5daa=(0x0,uuid_1['v4'])();try{const _0x41bff4=_0x2eb45c[_0x2fb681(0x152)](','),_0x5464ea=new adm_zip_1[(_0x2fb681(0x167))]();for(const _0x51dfef of _0x41bff4){await(0x0,fetch_attachments_1[_0x2fb681(0x162)])(_0x158573,_0x51dfef)['then'](_0x1fd9f9=>{const _0x382196=_0x2fb681;var _0x65389c;const _0x26c61f=new adm_zip_1['default'](_0x1fd9f9);for(const _0x442daa of _0x26c61f[_0x382196(0x16c)]()){_0x5464ea[_0x382196(0x17f)](_0x442daa[_0x382196(0x16e)],(_0x65389c=_0x26c61f[_0x382196(0x186)](_0x442daa[_0x382196(0x16e)]))===null||_0x65389c===void 0x0?void 0x0:_0x65389c[_0x382196(0x171)]());}});}!await fs_internal_1['FS'][_0x2fb681(0x15f)](_0x2fb681(0x14e)+_0x3e5daa)&&await(0x0,promises_1[_0x2fb681(0x18b)])(_0x2fb681(0x14e)+_0x3e5daa,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x2fb681(0x183)](_0x2eb45c,_0x3e5daa),await sfdx_utils_2[_0x2fb681(0x164)][_0x2fb681(0x156)](_0x24938d[_0x2fb681(0x172)],_0x2eb45c,_0x3e5daa);if(_0x361bc7){const _0x1514a0=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x158573,_0x361bc7);_0x5464ea[_0x2fb681(0x17f)](DESTRUCTIVE_CHANGES_POST_NAME,_0x1514a0),await(0x0,promises_1[_0x2fb681(0x155)])(process[_0x2fb681(0x18c)]()+_0x2fb681(0x180)+_0x3e5daa+'/'+DEPLOY_ZIP_NAME,_0x5464ea[_0x2fb681(0x182)]());}else await(0x0,promises_1[_0x2fb681(0x155)])(process[_0x2fb681(0x18c)]()+'/.temp/'+_0x3e5daa+'/'+DEPLOY_ZIP_NAME,_0x5464ea[_0x2fb681(0x182)]());const _0x1e7034=await deploy(_0x24938d,_0x49e7b6,_0x3e5daa);return JSON['parse'](_0x1e7034)[_0x2fb681(0x16f)]['id'];}catch(_0x23c025){throw _0x23c025;}finally{await(0x0,promises_1['rm'])(path_1[_0x2fb681(0x167)]['join'](process['cwd'](),'.temp',_0x3e5daa),{'recursive':!![]});}}exports[a84_0x3612f(0x179)]=deployComponents;function deploy(_0xcc7ed4,_0x3952cd,_0x20395c){const _0x36abe0=a84_0x3612f,_0x3f25ae=path_1['default'][_0x36abe0(0x181)](process[_0x36abe0(0x18c)](),_0x36abe0(0x175),_0x20395c,DEPLOY_ZIP_NAME);let _0x15f649='-f\x20'+_0x3f25ae+_0x36abe0(0x15d)+_0xcc7ed4['accessToken'];return _0x15f649+=_0x3952cd[_0x36abe0(0x151)]?_0x36abe0(0x158):'',_0x15f649+=_0x3952cd['testLevel']?_0x36abe0(0x160)+_0x3952cd[_0x36abe0(0x17d)]:'',_0x15f649+=_0x3952cd[_0x36abe0(0x15e)]?_0x36abe0(0x154)+_0x3952cd[_0x36abe0(0x15e)]:'',_0x15f649+=_0x3952cd[_0x36abe0(0x176)]?'\x20-g':'',_0x15f649+=_0x3952cd[_0x36abe0(0x189)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x36abe0(0x168)][_0x36abe0(0x169)](_0x36abe0(0x187)+_0x15f649)[_0x36abe0(0x159)](async _0x5aeab5=>{const _0x56a866=_0x36abe0;if(sfdx_utils_2[_0x56a866(0x164)][_0x56a866(0x14d)](_0x5aeab5))return _0xcc7ed4[_0x56a866(0x15a)]=await auth_utils_1[_0x56a866(0x170)][_0x56a866(0x161)](_0xcc7ed4[_0x56a866(0x172)],_0xcc7ed4[_0x56a866(0x16a)],_0xcc7ed4[_0x56a866(0x184)],_0xcc7ed4[_0x56a866(0x174)]),deploy(_0xcc7ed4,_0x3952cd,_0x20395c);throw _0x5aeab5;});}