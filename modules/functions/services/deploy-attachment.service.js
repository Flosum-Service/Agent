const a83_0xcddfe3=a83_0x4534;(function(_0x355bda,_0x5754bb){const _0x3ab882=a83_0x4534,_0x406e53=_0x355bda();while(!![]){try{const _0x3616b6=parseInt(_0x3ab882(0x166))/0x1+-parseInt(_0x3ab882(0x159))/0x2+parseInt(_0x3ab882(0x17f))/0x3*(-parseInt(_0x3ab882(0x160))/0x4)+parseInt(_0x3ab882(0x17e))/0x5+-parseInt(_0x3ab882(0x164))/0x6+-parseInt(_0x3ab882(0x187))/0x7*(-parseInt(_0x3ab882(0x16f))/0x8)+parseInt(_0x3ab882(0x14e))/0x9*(parseInt(_0x3ab882(0x153))/0xa);if(_0x3616b6===_0x5754bb)break;else _0x406e53['push'](_0x406e53['shift']());}catch(_0x4de5b3){_0x406e53['push'](_0x406e53['shift']());}}}(a83_0x4705,0x6255d));const a83_0x475580=(function(){let _0x228427=!![];return function(_0x269490,_0x3193ad){const _0x235b76=_0x228427?function(){const _0x27a189=a83_0x4534;if(_0x3193ad){const _0x209346=_0x3193ad[_0x27a189(0x156)](_0x269490,arguments);return _0x3193ad=null,_0x209346;}}:function(){};return _0x228427=![],_0x235b76;};}()),a83_0x1f6e9c=a83_0x475580(this,function(){const _0x7cd65d=a83_0x4534;return a83_0x1f6e9c['toString']()['search'](_0x7cd65d(0x157))[_0x7cd65d(0x161)]()[_0x7cd65d(0x154)](a83_0x1f6e9c)['search'](_0x7cd65d(0x157));});function a83_0x4534(_0x802133,_0x1557d9){const _0x1f7295=a83_0x4705();return a83_0x4534=function(_0x1f6e9c,_0x475580){_0x1f6e9c=_0x1f6e9c-0x14b;let _0x47053b=_0x1f7295[_0x1f6e9c];return _0x47053b;},a83_0x4534(_0x802133,_0x1557d9);}a83_0x1f6e9c();'use strict';var __importDefault=this&&this[a83_0xcddfe3(0x16c)]||function(_0xb69c0){const _0xfee494=a83_0xcddfe3;return _0xb69c0&&_0xb69c0[_0xfee494(0x17b)]?_0xb69c0:{'default':_0xb69c0};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a83_0xcddfe3(0x16a)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a83_0xcddfe3(0x15a)),sfdx_utils_2=require(a83_0xcddfe3(0x162)),auth_utils_1=require(a83_0xcddfe3(0x169)),path_1=__importDefault(require(a83_0xcddfe3(0x176))),fs_internal_1=require(a83_0xcddfe3(0x16e)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a83_0xcddfe3(0x188))),fetch_attachments_1=require(a83_0xcddfe3(0x171)),DESTRUCTIVE_CHANGES_POST_NAME=a83_0xcddfe3(0x174),DEPLOY_ZIP_NAME='deploy.zip';function a83_0x4705(){const _0x6a7d9f=['default','\x20-u\x20','getData','3267171BvbuCg','exists','addFile','\x20-c','purgeOnDelete','20AQOXqF','constructor','isAuthorizationError','apply','(((.+)+)+)+$','result','1357830qUjgCq','../../git/salesforce/utils/sfdx.utils','getEntry','mkdir','SFDXUtils','clientSecret','catch','4fkGXco','toString','../utils/sfdx.utils','sfdx','2395302qprIpF','accessToken','481779BKkKdR','/.temp/','toBuffer','../utils/auth.utils','deployComponents','refreshToken','__importDefault','SFDX','../../git/internal/fs.internal','4631384vfJhuH','then','../../shared/utils/fetch-attachments','runTests','cwd','destructiveChangesPost.xml','updateAccessToken','path','instanceUrl','\x20-g','checkOnly','setInstanceUrl','__esModule','-f\x20','parse','1782725XsBYsY','1987116YJGHEz','.temp/','testLevel','spawnPromise','clientId','fetchAttachmentBody','getEntries','join','7ahKZxd','adm-zip','split'];a83_0x4705=function(){return _0x6a7d9f;};return a83_0x4705();}async function deployComponents({attachmentId:_0x309050,credentials:_0x3f83b9,postDestructiveAttachmentId:_0x2d5a04,deployOptions:_0x225c08},_0xbee080){const _0x1cc10f=a83_0xcddfe3,_0x57358=(0x0,uuid_1['v4'])();try{const _0x3049b7=_0x309050[_0x1cc10f(0x189)](','),_0x9e612a=new adm_zip_1[(_0x1cc10f(0x14b))]();for(const _0x7ed2ef of _0x3049b7){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0xbee080,_0x7ed2ef)[_0x1cc10f(0x170)](_0xafb624=>{const _0x5b3b05=_0x1cc10f;var _0x2c18ff;const _0x114679=new adm_zip_1['default'](_0xafb624);for(const _0xe48b60 of _0x114679[_0x5b3b05(0x185)]()){_0x9e612a['addFile'](_0xe48b60['entryName'],(_0x2c18ff=_0x114679[_0x5b3b05(0x15b)](_0xe48b60['entryName']))===null||_0x2c18ff===void 0x0?void 0x0:_0x2c18ff[_0x5b3b05(0x14d)]());}});}!await fs_internal_1['FS'][_0x1cc10f(0x14f)](_0x1cc10f(0x180)+_0x57358)&&await(0x0,promises_1[_0x1cc10f(0x15c)])(_0x1cc10f(0x180)+_0x57358,{'recursive':!![]});await sfdx_utils_2['SFDXUtils']['createSFDXProject'](_0x309050,_0x57358),await sfdx_utils_2[_0x1cc10f(0x15d)][_0x1cc10f(0x17a)](_0x3f83b9[_0x1cc10f(0x177)],_0x309050,_0x57358);if(_0x2d5a04){const _0x2553d1=await(0x0,fetch_attachments_1[_0x1cc10f(0x184)])(_0xbee080,_0x2d5a04);_0x9e612a[_0x1cc10f(0x150)](DESTRUCTIVE_CHANGES_POST_NAME,_0x2553d1),await(0x0,promises_1['writeFile'])(process[_0x1cc10f(0x173)]()+_0x1cc10f(0x167)+_0x57358+'/'+DEPLOY_ZIP_NAME,_0x9e612a['toBuffer']());}else await(0x0,promises_1['writeFile'])(process[_0x1cc10f(0x173)]()+'/.temp/'+_0x57358+'/'+DEPLOY_ZIP_NAME,_0x9e612a[_0x1cc10f(0x168)]());const _0x4df0ab=await deploy(_0x3f83b9,_0x225c08,_0x57358);return JSON[_0x1cc10f(0x17d)](_0x4df0ab)[_0x1cc10f(0x158)]['id'];}catch(_0x44a55f){throw _0x44a55f;}finally{await(0x0,promises_1['rm'])(path_1['default'][_0x1cc10f(0x186)](process[_0x1cc10f(0x173)](),'.temp',_0x57358),{'recursive':!![]});}}exports[a83_0xcddfe3(0x16a)]=deployComponents;function deploy(_0x1c0b38,_0x3bbc39,_0x4e8f61){const _0x5d167b=a83_0xcddfe3,_0x1dccd2=path_1[_0x5d167b(0x14b)][_0x5d167b(0x186)](process[_0x5d167b(0x173)](),'.temp',_0x4e8f61,DEPLOY_ZIP_NAME);let _0x4929ad=_0x5d167b(0x17c)+_0x1dccd2+_0x5d167b(0x14c)+_0x1c0b38['accessToken'];return _0x4929ad+=_0x3bbc39[_0x5d167b(0x179)]?_0x5d167b(0x151):'',_0x4929ad+=_0x3bbc39[_0x5d167b(0x181)]?'\x20-l\x20'+_0x3bbc39[_0x5d167b(0x181)]:'',_0x4929ad+=_0x3bbc39[_0x5d167b(0x172)]?'\x20-r\x20'+_0x3bbc39[_0x5d167b(0x172)]:'',_0x4929ad+=_0x3bbc39['ignoreWarnings']?_0x5d167b(0x178):'',_0x4929ad+=_0x3bbc39[_0x5d167b(0x152)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x5d167b(0x16d)][_0x5d167b(0x182)](_0x5d167b(0x163),'force:mdapi:deploy\x20--json\x20'+_0x4929ad)[_0x5d167b(0x15f)](async _0x7de414=>{const _0x2dbf7d=_0x5d167b;if(sfdx_utils_2[_0x2dbf7d(0x15d)][_0x2dbf7d(0x155)](_0x7de414))return _0x1c0b38[_0x2dbf7d(0x165)]=await auth_utils_1['AuthUtils'][_0x2dbf7d(0x175)](_0x1c0b38[_0x2dbf7d(0x177)],_0x1c0b38[_0x2dbf7d(0x16b)],_0x1c0b38[_0x2dbf7d(0x183)],_0x1c0b38[_0x2dbf7d(0x15e)]),deploy(_0x1c0b38,_0x3bbc39,_0x4e8f61);throw _0x7de414;});}