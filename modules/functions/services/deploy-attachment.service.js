const a84_0x2b07ea=a84_0x5f21;(function(_0x3535c7,_0x4a6427){const _0x1b3e76=a84_0x5f21,_0x39a66c=_0x3535c7();while(!![]){try{const _0x5cf2be=-parseInt(_0x1b3e76(0xad))/0x1+-parseInt(_0x1b3e76(0x85))/0x2*(parseInt(_0x1b3e76(0x8f))/0x3)+parseInt(_0x1b3e76(0x97))/0x4*(-parseInt(_0x1b3e76(0x7d))/0x5)+parseInt(_0x1b3e76(0xab))/0x6*(-parseInt(_0x1b3e76(0xb1))/0x7)+-parseInt(_0x1b3e76(0xb2))/0x8+parseInt(_0x1b3e76(0x9a))/0x9*(parseInt(_0x1b3e76(0xb0))/0xa)+parseInt(_0x1b3e76(0x7a))/0xb;if(_0x5cf2be===_0x4a6427)break;else _0x39a66c['push'](_0x39a66c['shift']());}catch(_0x18fdb6){_0x39a66c['push'](_0x39a66c['shift']());}}}(a84_0x5283,0xa3c70));const a84_0x374f89=(function(){let _0xdc2b43=!![];return function(_0xbec190,_0x4b0bb3){const _0x8375f2=_0xdc2b43?function(){const _0x2325c5=a84_0x5f21;if(_0x4b0bb3){const _0x5f0ff6=_0x4b0bb3[_0x2325c5(0xa5)](_0xbec190,arguments);return _0x4b0bb3=null,_0x5f0ff6;}}:function(){};return _0xdc2b43=![],_0x8375f2;};}()),a84_0x3834d7=a84_0x374f89(this,function(){const _0x5c0c57=a84_0x5f21;return a84_0x3834d7[_0x5c0c57(0x8c)]()[_0x5c0c57(0x83)](_0x5c0c57(0xb5))[_0x5c0c57(0x8c)]()[_0x5c0c57(0xaf)](a84_0x3834d7)['search']('(((.+)+)+)+$');});a84_0x3834d7();'use strict';var __importDefault=this&&this[a84_0x2b07ea(0x95)]||function(_0x4dbfd7){const _0x4fbaeb=a84_0x2b07ea;return _0x4dbfd7&&_0x4dbfd7[_0x4fbaeb(0x79)]?_0x4dbfd7:{'default':_0x4dbfd7};};function a84_0x5f21(_0x1b20ef,_0x3f8956){const _0x52f2ae=a84_0x5283();return a84_0x5f21=function(_0x3834d7,_0x374f89){_0x3834d7=_0x3834d7-0x77;let _0x52839e=_0x52f2ae[_0x3834d7];return _0x52839e;},a84_0x5f21(_0x1b20ef,_0x3f8956);}Object['defineProperty'](exports,a84_0x2b07ea(0x79),{'value':!![]}),exports[a84_0x2b07ea(0x78)]=void 0x0;const promises_1=require(a84_0x2b07ea(0x86)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a84_0x2b07ea(0x93)),auth_utils_1=require(a84_0x2b07ea(0xac)),path_1=__importDefault(require(a84_0x2b07ea(0xb3))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a84_0x2b07ea(0x99)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0x2b07ea(0x88)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2b07ea(0xa1),DEPLOY_ZIP_NAME=a84_0x2b07ea(0x96);async function deployComponents({attachmentId:_0x349f7b,credentials:_0x1e228a,postDestructiveAttachmentId:_0x492d9e,deployOptions:_0x772e1c},_0x4f97e7){const _0x279a2c=a84_0x2b07ea,_0x49ffc0=(0x0,uuid_1['v4'])();try{const _0x3de0d1=_0x349f7b[_0x279a2c(0x81)](','),_0x19493f=new adm_zip_1['default']();for(const _0x61770b of _0x3de0d1){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x4f97e7,_0x61770b)[_0x279a2c(0x7b)](_0x289b9f=>{const _0x3fd4c3=_0x279a2c;var _0x1a1db3;const _0x288e7a=new adm_zip_1[(_0x3fd4c3(0xb6))](_0x289b9f);for(const _0x3a903a of _0x288e7a[_0x3fd4c3(0x82)]()){_0x19493f[_0x3fd4c3(0x98)](_0x3a903a[_0x3fd4c3(0x8b)],(_0x1a1db3=_0x288e7a[_0x3fd4c3(0x87)](_0x3a903a[_0x3fd4c3(0x8b)]))===null||_0x1a1db3===void 0x0?void 0x0:_0x1a1db3[_0x3fd4c3(0x80)]());}});}!await fs_internal_1['FS']['exists'](_0x279a2c(0xa3)+_0x49ffc0)&&await(0x0,promises_1[_0x279a2c(0xa0)])(_0x279a2c(0xa3)+_0x49ffc0,{'recursive':!![]});await sfdx_utils_2[_0x279a2c(0xa8)][_0x279a2c(0x8e)](_0x349f7b,_0x49ffc0),await sfdx_utils_2[_0x279a2c(0xa8)][_0x279a2c(0xb4)](_0x1e228a[_0x279a2c(0xa4)],_0x349f7b,_0x49ffc0);if(_0x492d9e){const _0x5a7499=await(0x0,fetch_attachments_1[_0x279a2c(0x9e)])(_0x4f97e7,_0x492d9e);_0x19493f[_0x279a2c(0x98)](DESTRUCTIVE_CHANGES_POST_NAME,_0x5a7499),await(0x0,promises_1[_0x279a2c(0x8d)])(process[_0x279a2c(0x9b)]()+'/.temp/'+_0x49ffc0+'/'+DEPLOY_ZIP_NAME,_0x19493f[_0x279a2c(0x77)]());}else await(0x0,promises_1['writeFile'])(process[_0x279a2c(0x9b)]()+_0x279a2c(0x94)+_0x49ffc0+'/'+DEPLOY_ZIP_NAME,_0x19493f[_0x279a2c(0x77)]());const _0x412b53=await deploy(_0x1e228a,_0x772e1c,_0x49ffc0);return JSON[_0x279a2c(0xb7)](_0x412b53)[_0x279a2c(0x90)]['id'];}catch(_0xe39b8e){throw _0xe39b8e;}finally{await(0x0,promises_1['rm'])(path_1['default'][_0x279a2c(0xaa)](process[_0x279a2c(0x9b)](),'.temp',_0x49ffc0),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x5bdc68,_0x35bf3f,_0x2e9f20){const _0x3aca0e=a84_0x2b07ea,_0x15e5b1=path_1[_0x3aca0e(0xb6)][_0x3aca0e(0xaa)](process['cwd'](),_0x3aca0e(0x9c),_0x2e9f20,DEPLOY_ZIP_NAME);let _0x41ec2e=_0x3aca0e(0xa7)+_0x15e5b1+'\x20-u\x20'+_0x5bdc68[_0x3aca0e(0x7e)];return _0x41ec2e+=_0x35bf3f['checkOnly']?_0x3aca0e(0x92):'',_0x41ec2e+=_0x35bf3f[_0x3aca0e(0x89)]?'\x20-l\x20'+_0x35bf3f[_0x3aca0e(0x89)]:'',_0x41ec2e+=_0x35bf3f[_0x3aca0e(0x8a)]?_0x3aca0e(0x84)+_0x35bf3f[_0x3aca0e(0x8a)]:'',_0x41ec2e+=_0x35bf3f['ignoreWarnings']?_0x3aca0e(0x9f):'',_0x41ec2e+=_0x35bf3f[_0x3aca0e(0xa9)]?_0x3aca0e(0x9d):'',sfdx_utils_1[_0x3aca0e(0xae)]['spawnPromise'](_0x3aca0e(0xa6),_0x3aca0e(0x91)+_0x41ec2e)[_0x3aca0e(0x7c)](async _0x2143bb=>{const _0x5b538c=_0x3aca0e;if(sfdx_utils_2[_0x5b538c(0xa8)]['isAuthorizationError'](_0x2143bb))return _0x5bdc68[_0x5b538c(0x7e)]=await auth_utils_1[_0x5b538c(0x7f)]['updateAccessToken'](_0x5bdc68[_0x5b538c(0xa4)],_0x5bdc68['refreshToken'],_0x5bdc68[_0x5b538c(0xa2)],_0x5bdc68['clientSecret']),deploy(_0x5bdc68,_0x35bf3f,_0x2e9f20);throw _0x2143bb;});}function a84_0x5283(){const _0x12edaa=['\x20-r\x20','2meCmeD','fs/promises','getEntry','../../shared/utils/fetch-attachments','testLevel','runTests','entryName','toString','writeFile','createSFDXProject','1068090mVunxs','result','force:mdapi:deploy\x20--json\x20','\x20-c','../utils/sfdx.utils','/.temp/','__importDefault','deploy.zip','4XnvbYK','addFile','uuid','36BlelDA','cwd','.temp','\x20-purgeondelete','fetchAttachmentBody','\x20-g','mkdir','destructiveChangesPost.xml','clientId','.temp/','instanceUrl','apply','sfdx','-f\x20','SFDXUtils','purgeOnDelete','join','5478InUkaI','../utils/auth.utils','588358GTNLpy','SFDX','constructor','67030tkSqpJ','7112DWoQoG','1286608XAjJdJ','path','setInstanceUrl','(((.+)+)+)+$','default','parse','toBuffer','deployComponents','__esModule','32181842HHQwxO','then','catch','1243900PVSOkW','accessToken','AuthUtils','getData','split','getEntries','search'];a84_0x5283=function(){return _0x12edaa;};return a84_0x5283();}