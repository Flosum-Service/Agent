const a84_0x81f38e=a84_0x336a;(function(_0xc2c42b,_0x46e5cd){const _0x5266c0=a84_0x336a,_0x5d37bb=_0xc2c42b();while(!![]){try{const _0x21667f=parseInt(_0x5266c0(0x119))/0x1*(-parseInt(_0x5266c0(0x11c))/0x2)+parseInt(_0x5266c0(0x105))/0x3*(-parseInt(_0x5266c0(0xf9))/0x4)+parseInt(_0x5266c0(0xe8))/0x5+-parseInt(_0x5266c0(0xdf))/0x6*(parseInt(_0x5266c0(0xf1))/0x7)+parseInt(_0x5266c0(0xfe))/0x8*(-parseInt(_0x5266c0(0x108))/0x9)+-parseInt(_0x5266c0(0x112))/0xa*(-parseInt(_0x5266c0(0x114))/0xb)+parseInt(_0x5266c0(0xfa))/0xc*(parseInt(_0x5266c0(0xfc))/0xd);if(_0x21667f===_0x46e5cd)break;else _0x5d37bb['push'](_0x5d37bb['shift']());}catch(_0x10dcad){_0x5d37bb['push'](_0x5d37bb['shift']());}}}(a84_0x50b5,0x911b1));const a84_0x3a3bd9=(function(){let _0x229491=!![];return function(_0x3f6cca,_0x1a59bc){const _0x3941ee=_0x229491?function(){const _0x8d6a66=a84_0x336a;if(_0x1a59bc){const _0x366c21=_0x1a59bc[_0x8d6a66(0x10e)](_0x3f6cca,arguments);return _0x1a59bc=null,_0x366c21;}}:function(){};return _0x229491=![],_0x3941ee;};}()),a84_0x17151d=a84_0x3a3bd9(this,function(){const _0x53090b=a84_0x336a;return a84_0x17151d['toString']()[_0x53090b(0x10f)](_0x53090b(0xe6))[_0x53090b(0xec)]()[_0x53090b(0xfb)](a84_0x17151d)[_0x53090b(0x10f)](_0x53090b(0xe6));});a84_0x17151d();'use strict';var __importDefault=this&&this[a84_0x81f38e(0xf8)]||function(_0x4229da){return _0x4229da&&_0x4229da['__esModule']?_0x4229da:{'default':_0x4229da};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['deployComponents']=void 0x0;function a84_0x336a(_0x554bf8,_0x4f24d5){const _0x2195be=a84_0x50b5();return a84_0x336a=function(_0x17151d,_0x3a3bd9){_0x17151d=_0x17151d-0xdc;let _0x50b58a=_0x2195be[_0x17151d];return _0x50b58a;},a84_0x336a(_0x554bf8,_0x4f24d5);}function a84_0x50b5(){const _0x42311b=['\x20-r\x20','toString','destructiveChangesPost.xml','ignoreWarnings','writeFile','purgeOnDelete','165599SAjjiw','isAuthorizationError','AuthUtils','addFile','runTests','parse','fetchAttachmentBody','__importDefault','116272CMYCLt','24etckfC','constructor','8676265PagGLY','spawnPromise','372112yiindk','sfdx','\x20-u\x20','catch','../utils/auth.utils','checkOnly','.temp/','87EodEft','accessToken','../utils/sfdx.utils','90RdrbFq','/.temp/','default','path','getEntry','deployComponents','apply','search','testLevel','../../git/internal/fs.internal','13120HlUkcI','force:mdapi:deploy\x20--json\x20','1144PpgoMp','\x20-g','../../shared/utils/fetch-attachments','getEntries','createSFDXProject','2231LrbULW','result','toBuffer','142uhoSmQ','SFDXUtils','clientId','\x20-c','split','-f\x20','.temp','90XHsoDQ','SFDX','then','uuid','cwd','exists','../../git/salesforce/utils/sfdx.utils','(((.+)+)+)+$','entryName','4722315QvFFos','instanceUrl','setInstanceUrl'];a84_0x50b5=function(){return _0x42311b;};return a84_0x50b5();}const promises_1=require('fs/promises'),sfdx_utils_1=require(a84_0x81f38e(0xe5)),sfdx_utils_2=require(a84_0x81f38e(0x107)),auth_utils_1=require(a84_0x81f38e(0x102)),path_1=__importDefault(require(a84_0x81f38e(0x10b))),fs_internal_1=require(a84_0x81f38e(0x111)),uuid_1=require(a84_0x81f38e(0xe2)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0x81f38e(0x116)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x81f38e(0xed),DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0x1b30a1,credentials:_0x260b9f,postDestructiveAttachmentId:_0x5d88dc,deployOptions:_0x269775},_0x492ce0){const _0x4a1856=a84_0x81f38e,_0x122866=(0x0,uuid_1['v4'])();try{const _0x794f04=_0x1b30a1[_0x4a1856(0xdc)](','),_0x3daaa5=new adm_zip_1[(_0x4a1856(0x10a))]();for(const _0x48ef03 of _0x794f04){await(0x0,fetch_attachments_1[_0x4a1856(0xf7)])(_0x492ce0,_0x48ef03)[_0x4a1856(0xe1)](_0x3a8899=>{const _0x48d765=_0x4a1856;var _0x29b6a5;const _0x1c9e02=new adm_zip_1[(_0x48d765(0x10a))](_0x3a8899);for(const _0x1d83ec of _0x1c9e02[_0x48d765(0x117)]()){_0x3daaa5[_0x48d765(0xf4)](_0x1d83ec[_0x48d765(0xe7)],(_0x29b6a5=_0x1c9e02[_0x48d765(0x10c)](_0x1d83ec[_0x48d765(0xe7)]))===null||_0x29b6a5===void 0x0?void 0x0:_0x29b6a5['getData']());}});}!await fs_internal_1['FS'][_0x4a1856(0xe4)]('.temp/'+_0x122866)&&await(0x0,promises_1['mkdir'])(_0x4a1856(0x104)+_0x122866,{'recursive':!![]});await sfdx_utils_2[_0x4a1856(0x11d)][_0x4a1856(0x118)](_0x1b30a1,_0x122866),await sfdx_utils_2[_0x4a1856(0x11d)][_0x4a1856(0xea)](_0x260b9f['instanceUrl'],_0x1b30a1,_0x122866);if(_0x5d88dc){const _0x438f4e=await(0x0,fetch_attachments_1[_0x4a1856(0xf7)])(_0x492ce0,_0x5d88dc);_0x3daaa5['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x438f4e),await(0x0,promises_1[_0x4a1856(0xef)])(process[_0x4a1856(0xe3)]()+'/.temp/'+_0x122866+'/'+DEPLOY_ZIP_NAME,_0x3daaa5['toBuffer']());}else await(0x0,promises_1[_0x4a1856(0xef)])(process[_0x4a1856(0xe3)]()+_0x4a1856(0x109)+_0x122866+'/'+DEPLOY_ZIP_NAME,_0x3daaa5[_0x4a1856(0x11b)]());const _0x41d9ca=await deploy(_0x260b9f,_0x269775,_0x122866);return JSON[_0x4a1856(0xf6)](_0x41d9ca)[_0x4a1856(0x11a)]['id'];}catch(_0x448563){throw _0x448563;}finally{await(0x0,promises_1['rm'])(path_1[_0x4a1856(0x10a)]['join'](process[_0x4a1856(0xe3)](),_0x4a1856(0xde),_0x122866),{'recursive':!![]});}}exports[a84_0x81f38e(0x10d)]=deployComponents;function deploy(_0x580aea,_0x2e7ee1,_0x4b1128){const _0x4e67fb=a84_0x81f38e,_0xe6b930=path_1[_0x4e67fb(0x10a)]['join'](process[_0x4e67fb(0xe3)](),_0x4e67fb(0xde),_0x4b1128,DEPLOY_ZIP_NAME);let _0x415eb9=_0x4e67fb(0xdd)+_0xe6b930+_0x4e67fb(0x100)+_0x580aea[_0x4e67fb(0x106)];return _0x415eb9+=_0x2e7ee1[_0x4e67fb(0x103)]?_0x4e67fb(0x11f):'',_0x415eb9+=_0x2e7ee1[_0x4e67fb(0x110)]?'\x20-l\x20'+_0x2e7ee1[_0x4e67fb(0x110)]:'',_0x415eb9+=_0x2e7ee1[_0x4e67fb(0xf5)]?_0x4e67fb(0xeb)+_0x2e7ee1[_0x4e67fb(0xf5)]:'',_0x415eb9+=_0x2e7ee1[_0x4e67fb(0xee)]?_0x4e67fb(0x115):'',_0x415eb9+=_0x2e7ee1[_0x4e67fb(0xf0)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x4e67fb(0xe0)][_0x4e67fb(0xfd)](_0x4e67fb(0xff),_0x4e67fb(0x113)+_0x415eb9)[_0x4e67fb(0x101)](async _0x347098=>{const _0x29c3f0=_0x4e67fb;if(sfdx_utils_2[_0x29c3f0(0x11d)][_0x29c3f0(0xf2)](_0x347098))return _0x580aea[_0x29c3f0(0x106)]=await auth_utils_1[_0x29c3f0(0xf3)]['updateAccessToken'](_0x580aea[_0x29c3f0(0xe9)],_0x580aea['refreshToken'],_0x580aea[_0x29c3f0(0x11e)],_0x580aea['clientSecret']),deploy(_0x580aea,_0x2e7ee1,_0x4b1128);throw _0x347098;});}