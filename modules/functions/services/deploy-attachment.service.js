const a52_0xcec65d=a52_0x2424;function a52_0x2424(_0x390811,_0x1f4040){const _0xbe7fe5=a52_0x504f();return a52_0x2424=function(_0x52ba7b,_0x55339b){_0x52ba7b=_0x52ba7b-0x1e9;let _0x504f76=_0xbe7fe5[_0x52ba7b];return _0x504f76;},a52_0x2424(_0x390811,_0x1f4040);}function a52_0x504f(){const _0x524a92=['SFDXUtils','../../shared/utils/fetch-attachments','isAuthorizationError','path','runTests','getEntry','19980RjwEyG','cwd','catch','24GWMKus','8DPFDSq','result','parse','checkOnly','uuid','.temp/','__esModule','spawnPromise','281139QWoJPj','mkdir','316432VAWEnM','/.temp/','writeFile','getData','exists','\x20-l\x20','search','toBuffer','refreshToken','destructiveChangesPost.xml','sfdx','purgeOnDelete','ignoreWarnings','.temp','defineProperty','../../git/salesforce/utils/sfdx.utils','../../git/internal/fs.internal','../utils/sfdx.utils','split','accessToken','instanceUrl','default','158560kFlTjT','clientId','apply','48ZornHE','699587SSIwpc','deployComponents','../utils/auth.utils','\x20-c','createSFDXProject','87ECQabL','fs/promises','toString','320gcqdIj','AuthUtils','fetchAttachmentBody','\x20-purgeondelete','testLevel','1727429DhseWm','12326JEMHxr'];a52_0x504f=function(){return _0x524a92;};return a52_0x504f();}(function(_0x3fb752,_0x12b030){const _0x2440c7=a52_0x2424,_0x29e1ce=_0x3fb752();while(!![]){try{const _0x4dd18c=-parseInt(_0x2440c7(0x20c))/0x1+-parseInt(_0x2440c7(0x1f9))/0x2*(parseInt(_0x2440c7(0x1f0))/0x3)+parseInt(_0x2440c7(0x20e))/0x4+parseInt(_0x2440c7(0x224))/0x5*(-parseInt(_0x2440c7(0x203))/0x6)+-parseInt(_0x2440c7(0x1eb))/0x7*(-parseInt(_0x2440c7(0x204))/0x8)+parseInt(_0x2440c7(0x200))/0x9*(-parseInt(_0x2440c7(0x1f3))/0xa)+parseInt(_0x2440c7(0x1f8))/0xb*(parseInt(_0x2440c7(0x1ea))/0xc);if(_0x4dd18c===_0x12b030)break;else _0x29e1ce['push'](_0x29e1ce['shift']());}catch(_0x388a21){_0x29e1ce['push'](_0x29e1ce['shift']());}}}(a52_0x504f,0x247cb));const a52_0x55339b=(function(){let _0x46661a=!![];return function(_0x1299a4,_0x472812){const _0x248aa8=_0x46661a?function(){const _0x1a75c1=a52_0x2424;if(_0x472812){const _0x32d152=_0x472812[_0x1a75c1(0x1e9)](_0x1299a4,arguments);return _0x472812=null,_0x32d152;}}:function(){};return _0x46661a=![],_0x248aa8;};}()),a52_0x52ba7b=a52_0x55339b(this,function(){const _0x285b46=a52_0x2424;return a52_0x52ba7b[_0x285b46(0x1f2)]()[_0x285b46(0x214)]('(((.+)+)+)+$')[_0x285b46(0x1f2)]()['constructor'](a52_0x52ba7b)[_0x285b46(0x214)]('(((.+)+)+)+$');});a52_0x52ba7b();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x578aa4){const _0x2fcf01=a52_0x2424;return _0x578aa4&&_0x578aa4[_0x2fcf01(0x20a)]?_0x578aa4:{'default':_0x578aa4};};Object[a52_0xcec65d(0x21c)](exports,a52_0xcec65d(0x20a),{'value':!![]}),exports[a52_0xcec65d(0x1ec)]=void 0x0;const promises_1=require(a52_0xcec65d(0x1f1)),sfdx_utils_1=require(a52_0xcec65d(0x21d)),sfdx_utils_2=require(a52_0xcec65d(0x21f)),auth_utils_1=require(a52_0xcec65d(0x1ed)),path_1=__importDefault(require(a52_0xcec65d(0x1fd))),fs_internal_1=require(a52_0xcec65d(0x21e)),uuid_1=require(a52_0xcec65d(0x208)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a52_0xcec65d(0x1fb)),DESTRUCTIVE_CHANGES_POST_NAME=a52_0xcec65d(0x217),DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0x248488,credentials:_0x3fd4f9,postDestructiveAttachmentId:_0x4c38d7,deployOptions:_0x5e999d},_0x16dbfa){const _0x33f173=a52_0xcec65d,_0x5d933d=(0x0,uuid_1['v4'])();try{const _0x18f8bc=_0x248488[_0x33f173(0x220)](','),_0x2d997c=new adm_zip_1[(_0x33f173(0x223))]();for(const _0xc263e6 of _0x18f8bc){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x16dbfa,_0xc263e6)['then'](_0x3e19bd=>{const _0x3ec930=_0x33f173;var _0x3bf245;const _0x3b13e9=new adm_zip_1[(_0x3ec930(0x223))](_0x3e19bd);for(const _0x1f3ba3 of _0x3b13e9['getEntries']()){_0x2d997c['addFile'](_0x1f3ba3['entryName'],(_0x3bf245=_0x3b13e9[_0x3ec930(0x1ff)](_0x1f3ba3['entryName']))===null||_0x3bf245===void 0x0?void 0x0:_0x3bf245[_0x3ec930(0x211)]());}});}!await fs_internal_1['FS'][_0x33f173(0x212)]('.temp/'+_0x5d933d)&&await(0x0,promises_1[_0x33f173(0x20d)])(_0x33f173(0x209)+_0x5d933d,{'recursive':!![]});await sfdx_utils_2[_0x33f173(0x1fa)][_0x33f173(0x1ef)](_0x248488,_0x5d933d),await sfdx_utils_2['SFDXUtils']['setInstanceUrl'](_0x3fd4f9[_0x33f173(0x222)],_0x248488,_0x5d933d);if(_0x4c38d7){const _0x83457b=await(0x0,fetch_attachments_1[_0x33f173(0x1f5)])(_0x16dbfa,_0x4c38d7);_0x2d997c['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x83457b),await(0x0,promises_1[_0x33f173(0x210)])(process[_0x33f173(0x201)]()+_0x33f173(0x20f)+_0x5d933d+'/'+DEPLOY_ZIP_NAME,_0x2d997c[_0x33f173(0x215)]());}else await(0x0,promises_1['writeFile'])(process[_0x33f173(0x201)]()+'/.temp/'+_0x5d933d+'/'+DEPLOY_ZIP_NAME,_0x2d997c['toBuffer']());const _0x2b44e9=await deploy(_0x3fd4f9,_0x5e999d,_0x5d933d);return JSON[_0x33f173(0x206)](_0x2b44e9)[_0x33f173(0x205)]['id'];}catch(_0x3f1ee2){throw _0x3f1ee2;}finally{await(0x0,promises_1['rm'])(path_1['default']['join'](process[_0x33f173(0x201)](),_0x33f173(0x21b),_0x5d933d),{'recursive':!![]});}}exports[a52_0xcec65d(0x1ec)]=deployComponents;function deploy(_0x2de153,_0x2e1177,_0x5c97ff){const _0x413ad6=a52_0xcec65d,_0x5dd30d=path_1[_0x413ad6(0x223)]['join'](process[_0x413ad6(0x201)](),'.temp',_0x5c97ff,DEPLOY_ZIP_NAME);let _0x8292ba='-f\x20'+_0x5dd30d+'\x20-u\x20'+_0x2de153[_0x413ad6(0x221)];return _0x8292ba+=_0x2e1177[_0x413ad6(0x207)]?_0x413ad6(0x1ee):'',_0x8292ba+=_0x2e1177[_0x413ad6(0x1f7)]?_0x413ad6(0x213)+_0x2e1177['testLevel']:'',_0x8292ba+=_0x2e1177[_0x413ad6(0x1fe)]?'\x20-r\x20'+_0x2e1177[_0x413ad6(0x1fe)]:'',_0x8292ba+=_0x2e1177[_0x413ad6(0x21a)]?'\x20-g':'',_0x8292ba+=_0x2e1177[_0x413ad6(0x219)]?_0x413ad6(0x1f6):'',sfdx_utils_1['SFDX'][_0x413ad6(0x20b)](_0x413ad6(0x218),'force:mdapi:deploy\x20--json\x20'+_0x8292ba)[_0x413ad6(0x202)](async _0x22c5cf=>{const _0x32f6ad=_0x413ad6;if(sfdx_utils_2[_0x32f6ad(0x1fa)][_0x32f6ad(0x1fc)](_0x22c5cf))return _0x2de153[_0x32f6ad(0x221)]=await auth_utils_1[_0x32f6ad(0x1f4)]['updateAccessToken'](_0x2de153[_0x32f6ad(0x222)],_0x2de153[_0x32f6ad(0x216)],_0x2de153[_0x32f6ad(0x225)],_0x2de153['clientSecret']),deploy(_0x2de153,_0x2e1177,_0x5c97ff);throw _0x22c5cf;});}