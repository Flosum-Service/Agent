const a84_0x3d06db=a84_0x481d;(function(_0x338cd6,_0xf7b722){const _0x34ac3b=a84_0x481d,_0x22be49=_0x338cd6();while(!![]){try{const _0x105ee3=-parseInt(_0x34ac3b(0x1c4))/0x1+-parseInt(_0x34ac3b(0x1de))/0x2+-parseInt(_0x34ac3b(0x1f5))/0x3*(parseInt(_0x34ac3b(0x1dd))/0x4)+parseInt(_0x34ac3b(0x1f7))/0x5*(-parseInt(_0x34ac3b(0x1d5))/0x6)+parseInt(_0x34ac3b(0x1d8))/0x7*(parseInt(_0x34ac3b(0x1c8))/0x8)+-parseInt(_0x34ac3b(0x1cf))/0x9+parseInt(_0x34ac3b(0x1d7))/0xa;if(_0x105ee3===_0xf7b722)break;else _0x22be49['push'](_0x22be49['shift']());}catch(_0x29f3c2){_0x22be49['push'](_0x22be49['shift']());}}}(a84_0x4e65,0x2939a));function a84_0x481d(_0x1fafb7,_0xc6f884){const _0x41bf6d=a84_0x4e65();return a84_0x481d=function(_0x57e692,_0x13db8d){_0x57e692=_0x57e692-0x1bf;let _0x4e651c=_0x41bf6d[_0x57e692];return _0x4e651c;},a84_0x481d(_0x1fafb7,_0xc6f884);}const a84_0x13db8d=(function(){let _0x598899=!![];return function(_0x46d0a2,_0x5f0bc6){const _0x15b9ea=_0x598899?function(){if(_0x5f0bc6){const _0x2af54d=_0x5f0bc6['apply'](_0x46d0a2,arguments);return _0x5f0bc6=null,_0x2af54d;}}:function(){};return _0x598899=![],_0x15b9ea;};}()),a84_0x57e692=a84_0x13db8d(this,function(){const _0x462705=a84_0x481d;return a84_0x57e692['toString']()['search'](_0x462705(0x1c3))[_0x462705(0x1d4)]()[_0x462705(0x1e5)](a84_0x57e692)[_0x462705(0x1e1)](_0x462705(0x1c3));});a84_0x57e692();'use strict';var __importDefault=this&&this[a84_0x3d06db(0x1e2)]||function(_0x5d38b8){const _0x3bfd23=a84_0x3d06db;return _0x5d38b8&&_0x5d38b8[_0x3bfd23(0x1dc)]?_0x5d38b8:{'default':_0x5d38b8};};function a84_0x4e65(){const _0x10a008=['entryName','sfdx','spawnPromise','testLevel','ignoreWarnings','defineProperty','(((.+)+)+)+$','21031QzyfVR','.temp','clientId','AuthUtils','8yLXmxI','SFDXUtils','.temp/','path','instanceUrl','getData','writeFile','838089shMYJp','force:mdapi:deploy\x20--json\x20','refreshToken','\x20-c','fetchAttachmentBody','toString','4206HFRQKd','\x20-g','5067880XLrdxz','1471540qqFrqx','destructiveChangesPost.xml','\x20-r\x20','isAuthorizationError','__esModule','104QeJedL','84094iZNCpO','toBuffer','exists','search','__importDefault','fs/promises','default','constructor','../utils/auth.utils','deploy.zip','../../git/internal/fs.internal','addFile','createSFDXProject','SFDX','split','clientSecret','\x20-purgeondelete','parse','runTests','then','../../git/salesforce/utils/sfdx.utils','../../shared/utils/fetch-attachments','setInstanceUrl','34791hnWJxK','/.temp/','645CCEnez','accessToken','cwd','deployComponents','checkOnly','getEntry'];a84_0x4e65=function(){return _0x10a008;};return a84_0x4e65();}Object[a84_0x3d06db(0x1c2)](exports,a84_0x3d06db(0x1dc),{'value':!![]}),exports[a84_0x3d06db(0x1fa)]=void 0x0;const promises_1=require(a84_0x3d06db(0x1e3)),sfdx_utils_1=require(a84_0x3d06db(0x1f2)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x3d06db(0x1e6)),path_1=__importDefault(require(a84_0x3d06db(0x1cb))),fs_internal_1=require(a84_0x3d06db(0x1e8)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0x3d06db(0x1f3)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x3d06db(0x1d9),DEPLOY_ZIP_NAME=a84_0x3d06db(0x1e7);async function deployComponents({attachmentId:_0x42fc93,credentials:_0x279e12,postDestructiveAttachmentId:_0x4f2832,deployOptions:_0x5a9303},_0x16b0f6){const _0xe3cf3e=a84_0x3d06db,_0xef4ae8=(0x0,uuid_1['v4'])();try{const _0x47b52c=_0x42fc93[_0xe3cf3e(0x1ec)](','),_0x35fa05=new adm_zip_1['default']();for(const _0x814845 of _0x47b52c){await(0x0,fetch_attachments_1[_0xe3cf3e(0x1d3)])(_0x16b0f6,_0x814845)[_0xe3cf3e(0x1f1)](_0x616fcb=>{const _0x3c76b2=_0xe3cf3e;var _0x4a7729;const _0x36755c=new adm_zip_1[(_0x3c76b2(0x1e4))](_0x616fcb);for(const _0x55fc2d of _0x36755c['getEntries']()){_0x35fa05[_0x3c76b2(0x1e9)](_0x55fc2d[_0x3c76b2(0x1fd)],(_0x4a7729=_0x36755c[_0x3c76b2(0x1fc)](_0x55fc2d[_0x3c76b2(0x1fd)]))===null||_0x4a7729===void 0x0?void 0x0:_0x4a7729[_0x3c76b2(0x1cd)]());}});}!await fs_internal_1['FS'][_0xe3cf3e(0x1e0)](_0xe3cf3e(0x1ca)+_0xef4ae8)&&await(0x0,promises_1['mkdir'])(_0xe3cf3e(0x1ca)+_0xef4ae8,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0xe3cf3e(0x1ea)](_0x42fc93,_0xef4ae8),await sfdx_utils_2[_0xe3cf3e(0x1c9)][_0xe3cf3e(0x1f4)](_0x279e12[_0xe3cf3e(0x1cc)],_0x42fc93,_0xef4ae8);if(_0x4f2832){const _0x41ff50=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x16b0f6,_0x4f2832);_0x35fa05['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x41ff50),await(0x0,promises_1['writeFile'])(process[_0xe3cf3e(0x1f9)]()+_0xe3cf3e(0x1f6)+_0xef4ae8+'/'+DEPLOY_ZIP_NAME,_0x35fa05[_0xe3cf3e(0x1df)]());}else await(0x0,promises_1[_0xe3cf3e(0x1ce)])(process[_0xe3cf3e(0x1f9)]()+'/.temp/'+_0xef4ae8+'/'+DEPLOY_ZIP_NAME,_0x35fa05[_0xe3cf3e(0x1df)]());const _0x1f727a=await deploy(_0x279e12,_0x5a9303,_0xef4ae8);return JSON[_0xe3cf3e(0x1ef)](_0x1f727a)['result']['id'];}catch(_0x3a994e){throw _0x3a994e;}finally{await(0x0,promises_1['rm'])(path_1[_0xe3cf3e(0x1e4)]['join'](process[_0xe3cf3e(0x1f9)](),'.temp',_0xef4ae8),{'recursive':!![]});}}exports[a84_0x3d06db(0x1fa)]=deployComponents;function deploy(_0x5a257c,_0x484f6a,_0x46e5bd){const _0x1ab992=a84_0x3d06db,_0x38610a=path_1[_0x1ab992(0x1e4)]['join'](process[_0x1ab992(0x1f9)](),_0x1ab992(0x1c5),_0x46e5bd,DEPLOY_ZIP_NAME);let _0x22f04d='-f\x20'+_0x38610a+'\x20-u\x20'+_0x5a257c[_0x1ab992(0x1f8)];return _0x22f04d+=_0x484f6a[_0x1ab992(0x1fb)]?_0x1ab992(0x1d2):'',_0x22f04d+=_0x484f6a[_0x1ab992(0x1c0)]?'\x20-l\x20'+_0x484f6a[_0x1ab992(0x1c0)]:'',_0x22f04d+=_0x484f6a['runTests']?_0x1ab992(0x1da)+_0x484f6a[_0x1ab992(0x1f0)]:'',_0x22f04d+=_0x484f6a[_0x1ab992(0x1c1)]?_0x1ab992(0x1d6):'',_0x22f04d+=_0x484f6a['purgeOnDelete']?_0x1ab992(0x1ee):'',sfdx_utils_1[_0x1ab992(0x1eb)][_0x1ab992(0x1bf)](_0x1ab992(0x1fe),_0x1ab992(0x1d0)+_0x22f04d)['catch'](async _0x3c9757=>{const _0x4b6f13=_0x1ab992;if(sfdx_utils_2['SFDXUtils'][_0x4b6f13(0x1db)](_0x3c9757))return _0x5a257c[_0x4b6f13(0x1f8)]=await auth_utils_1[_0x4b6f13(0x1c7)]['updateAccessToken'](_0x5a257c['instanceUrl'],_0x5a257c[_0x4b6f13(0x1d1)],_0x5a257c[_0x4b6f13(0x1c6)],_0x5a257c[_0x4b6f13(0x1ed)]),deploy(_0x5a257c,_0x484f6a,_0x46e5bd);throw _0x3c9757;});}