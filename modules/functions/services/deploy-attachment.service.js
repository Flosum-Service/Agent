const a84_0x1035f7=a84_0x5299;(function(_0x254f7e,_0x3ec74e){const _0x333f12=a84_0x5299,_0x40b8d5=_0x254f7e();while(!![]){try{const _0xd07dd3=parseInt(_0x333f12(0xdc))/0x1*(parseInt(_0x333f12(0xfe))/0x2)+parseInt(_0x333f12(0xff))/0x3*(-parseInt(_0x333f12(0x106))/0x4)+-parseInt(_0x333f12(0x114))/0x5+-parseInt(_0x333f12(0x108))/0x6*(parseInt(_0x333f12(0xfa))/0x7)+-parseInt(_0x333f12(0xdb))/0x8+parseInt(_0x333f12(0xfb))/0x9*(parseInt(_0x333f12(0x100))/0xa)+-parseInt(_0x333f12(0xee))/0xb*(-parseInt(_0x333f12(0x103))/0xc);if(_0xd07dd3===_0x3ec74e)break;else _0x40b8d5['push'](_0x40b8d5['shift']());}catch(_0xedc845){_0x40b8d5['push'](_0x40b8d5['shift']());}}}(a84_0xcd9e,0x9aaa0));const a84_0x4e32b0=(function(){let _0x2c7a39=!![];return function(_0x53d553,_0x4c02e2){const _0x54d660=_0x2c7a39?function(){const _0x56abdf=a84_0x5299;if(_0x4c02e2){const _0x3b0c01=_0x4c02e2[_0x56abdf(0xf1)](_0x53d553,arguments);return _0x4c02e2=null,_0x3b0c01;}}:function(){};return _0x2c7a39=![],_0x54d660;};}()),a84_0x31e01f=a84_0x4e32b0(this,function(){const _0x320743=a84_0x5299;return a84_0x31e01f['toString']()['search'](_0x320743(0x105))[_0x320743(0x112)]()['constructor'](a84_0x31e01f)[_0x320743(0x104)](_0x320743(0x105));});a84_0x31e01f();'use strict';var __importDefault=this&&this[a84_0x1035f7(0xf8)]||function(_0x4890b3){return _0x4890b3&&_0x4890b3['__esModule']?_0x4890b3:{'default':_0x4890b3};};Object[a84_0x1035f7(0xd7)](exports,a84_0x1035f7(0xf9),{'value':!![]}),exports[a84_0x1035f7(0x109)]=void 0x0;const promises_1=require(a84_0x1035f7(0xea)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a84_0x1035f7(0x107)),auth_utils_1=require(a84_0x1035f7(0x101)),path_1=__importDefault(require('path')),fs_internal_1=require(a84_0x1035f7(0xe4)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a84_0x1035f7(0xe9))),fetch_attachments_1=require(a84_0x1035f7(0x113)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x1035f7(0x102),DEPLOY_ZIP_NAME=a84_0x1035f7(0x10b);async function deployComponents({attachmentId:_0x5cfcba,credentials:_0x442e27,postDestructiveAttachmentId:_0x3b413b,deployOptions:_0x4326e0},_0x27f51c){const _0x472df1=a84_0x1035f7,_0x3c4602=(0x0,uuid_1['v4'])();try{const _0x5dd824=_0x5cfcba[_0x472df1(0xef)](','),_0x66c929=new adm_zip_1[(_0x472df1(0xe7))]();for(const _0x357873 of _0x5dd824){await(0x0,fetch_attachments_1[_0x472df1(0xe8)])(_0x27f51c,_0x357873)['then'](_0xaedf09=>{const _0x2dc34f=_0x472df1;var _0x257499;const _0x173c77=new adm_zip_1[(_0x2dc34f(0xe7))](_0xaedf09);for(const _0x73b201 of _0x173c77['getEntries']()){_0x66c929[_0x2dc34f(0xe1)](_0x73b201['entryName'],(_0x257499=_0x173c77[_0x2dc34f(0xdf)](_0x73b201[_0x2dc34f(0xed)]))===null||_0x257499===void 0x0?void 0x0:_0x257499[_0x2dc34f(0xf0)]());}});}!await fs_internal_1['FS'][_0x472df1(0xfc)](_0x472df1(0xeb)+_0x3c4602)&&await(0x0,promises_1[_0x472df1(0xf4)])(_0x472df1(0xeb)+_0x3c4602,{'recursive':!![]});await sfdx_utils_2[_0x472df1(0xe0)][_0x472df1(0x10f)](_0x5cfcba,_0x3c4602),await sfdx_utils_2[_0x472df1(0xe0)][_0x472df1(0xf7)](_0x442e27[_0x472df1(0x118)],_0x5cfcba,_0x3c4602);if(_0x3b413b){const _0x2df802=await(0x0,fetch_attachments_1[_0x472df1(0xe8)])(_0x27f51c,_0x3b413b);_0x66c929['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x2df802),await(0x0,promises_1['writeFile'])(process[_0x472df1(0xda)]()+_0x472df1(0x110)+_0x3c4602+'/'+DEPLOY_ZIP_NAME,_0x66c929['toBuffer']());}else await(0x0,promises_1['writeFile'])(process[_0x472df1(0xda)]()+'/.temp/'+_0x3c4602+'/'+DEPLOY_ZIP_NAME,_0x66c929['toBuffer']());const _0x16ac4e=await deploy(_0x442e27,_0x4326e0,_0x3c4602);return JSON[_0x472df1(0x10a)](_0x16ac4e)['result']['id'];}catch(_0x273ff3){throw _0x273ff3;}finally{await(0x0,promises_1['rm'])(path_1[_0x472df1(0xe7)][_0x472df1(0xf6)](process[_0x472df1(0xda)](),_0x472df1(0xe2),_0x3c4602),{'recursive':!![]});}}function a84_0xcd9e(){const _0xa28187=['deploy.zip','\x20-r\x20','runTests','force:mdapi:deploy\x20--json\x20','createSFDXProject','/.temp/','SFDX','toString','../../shared/utils/fetch-attachments','2283115lYTkwu','\x20-l\x20','accessToken','refreshToken','instanceUrl','defineProperty','\x20-u\x20','updateAccessToken','cwd','9662320uGMozP','1gOWcLA','clientId','clientSecret','getEntry','SFDXUtils','addFile','.temp','AuthUtils','../../git/internal/fs.internal','\x20-c','\x20-purgeondelete','default','fetchAttachmentBody','adm-zip','fs/promises','.temp/','checkOnly','entryName','1815MbRihZ','split','getData','apply','ignoreWarnings','isAuthorizationError','mkdir','spawn','join','setInstanceUrl','__importDefault','__esModule','7pZAxqo','10617957AzWXRZ','exists','testLevel','1761658hALPJs','37677cSXXvW','10FFGKuo','../utils/auth.utils','destructiveChangesPost.xml','151176FIhjWY','search','(((.+)+)+)+$','212cZEWMw','../utils/sfdx.utils','7054368rfptUt','deployComponents','parse'];a84_0xcd9e=function(){return _0xa28187;};return a84_0xcd9e();}exports[a84_0x1035f7(0x109)]=deployComponents;function a84_0x5299(_0x339da3,_0x3c31d7){const _0x16625d=a84_0xcd9e();return a84_0x5299=function(_0x31e01f,_0x4e32b0){_0x31e01f=_0x31e01f-0xd7;let _0xcd9eb=_0x16625d[_0x31e01f];return _0xcd9eb;},a84_0x5299(_0x339da3,_0x3c31d7);}function deploy(_0x50aa96,_0x804658,_0x48fb6a){const _0x421089=a84_0x1035f7,_0x65439e=path_1[_0x421089(0xe7)][_0x421089(0xf6)](process[_0x421089(0xda)](),_0x421089(0xe2),_0x48fb6a,DEPLOY_ZIP_NAME);let _0x15d03d='-f\x20'+_0x65439e+_0x421089(0xd8)+_0x50aa96[_0x421089(0x116)];return _0x15d03d+=_0x804658[_0x421089(0xec)]?_0x421089(0xe5):'',_0x15d03d+=_0x804658[_0x421089(0xfd)]?_0x421089(0x115)+_0x804658[_0x421089(0xfd)]:'',_0x15d03d+=_0x804658[_0x421089(0x10d)]?_0x421089(0x10c)+_0x804658[_0x421089(0x10d)]:'',_0x15d03d+=_0x804658[_0x421089(0xf2)]?'\x20-g':'',_0x15d03d+=_0x804658['purgeOnDelete']?_0x421089(0xe6):'',sfdx_utils_1[_0x421089(0x111)][_0x421089(0xf5)](_0x421089(0x10e)+_0x15d03d)['catch'](async _0x32aaa8=>{const _0x7302f3=_0x421089;if(sfdx_utils_2[_0x7302f3(0xe0)][_0x7302f3(0xf3)](_0x32aaa8))return _0x50aa96[_0x7302f3(0x116)]=await auth_utils_1[_0x7302f3(0xe3)][_0x7302f3(0xd9)](_0x50aa96[_0x7302f3(0x118)],_0x50aa96[_0x7302f3(0x117)],_0x50aa96[_0x7302f3(0xdd)],_0x50aa96[_0x7302f3(0xde)]),deploy(_0x50aa96,_0x804658,_0x48fb6a);throw _0x32aaa8;});}