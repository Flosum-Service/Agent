const a102_0x269607=a102_0x5ee7;(function(_0x3fe72b,_0xde2973){const _0x248772=a102_0x5ee7,_0x1d4387=_0x3fe72b();while(!![]){try{const _0x170cff=-parseInt(_0x248772(0x13a))/0x1+parseInt(_0x248772(0x15b))/0x2*(-parseInt(_0x248772(0x13f))/0x3)+parseInt(_0x248772(0x151))/0x4+-parseInt(_0x248772(0x14b))/0x5+-parseInt(_0x248772(0x171))/0x6+-parseInt(_0x248772(0x146))/0x7*(parseInt(_0x248772(0x161))/0x8)+-parseInt(_0x248772(0x143))/0x9*(-parseInt(_0x248772(0x174))/0xa);if(_0x170cff===_0xde2973)break;else _0x1d4387['push'](_0x1d4387['shift']());}catch(_0x41de29){_0x1d4387['push'](_0x1d4387['shift']());}}}(a102_0x33f5,0x3f3bf));const a102_0x282356=(function(){let _0x3d8ba2=!![];return function(_0x13c812,_0x5c729b){const _0x47722e=_0x3d8ba2?function(){const _0x214e21=a102_0x5ee7;if(_0x5c729b){const _0x1d97fd=_0x5c729b[_0x214e21(0x168)](_0x13c812,arguments);return _0x5c729b=null,_0x1d97fd;}}:function(){};return _0x3d8ba2=![],_0x47722e;};}()),a102_0x1ee170=a102_0x282356(this,function(){const _0x2f943b=a102_0x5ee7;return a102_0x1ee170[_0x2f943b(0x175)]()[_0x2f943b(0x148)](_0x2f943b(0x14e))[_0x2f943b(0x175)]()['constructor'](a102_0x1ee170)['search']('(((.+)+)+)+$');});a102_0x1ee170();'use strict';function a102_0x5ee7(_0x358b44,_0x33c798){const _0x1c4403=a102_0x33f5();return a102_0x5ee7=function(_0x1ee170,_0x282356){_0x1ee170=_0x1ee170-0x13a;let _0x33f5fc=_0x1c4403[_0x1ee170];return _0x33f5fc;},a102_0x5ee7(_0x358b44,_0x33c798);}var __importDefault=this&&this[a102_0x269607(0x13c)]||function(_0xf849ae){return _0xf849ae&&_0xf849ae['__esModule']?_0xf849ae:{'default':_0xf849ae};};Object[a102_0x269607(0x13b)](exports,a102_0x269607(0x14c),{'value':!![]}),exports[a102_0x269607(0x15d)]=void 0x0;const promises_1=require(a102_0x269607(0x14d)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require('path')),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require('uuid'),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a102_0x269607(0x170)),DESTRUCTIVE_CHANGES_POST_NAME=a102_0x269607(0x141),DEPLOY_ZIP_NAME=a102_0x269607(0x149);async function deployComponents({attachmentId:_0x146837,credentials:_0x38ed55,postDestructiveAttachmentId:_0x3ad6be,deployOptions:_0x2d5a0a},_0x66dc41){const _0x128746=a102_0x269607,_0x26dc1b=(0x0,uuid_1['v4'])();try{const _0xba2401=_0x146837['split'](','),_0x4832e1=new adm_zip_1[(_0x128746(0x162))]();for(const _0x5d8e4f of _0xba2401){await(0x0,fetch_attachments_1[_0x128746(0x164)])(_0x66dc41,_0x5d8e4f)[_0x128746(0x14a)](_0x17ebb9=>{const _0x3e9e6b=_0x128746;var _0x116d1c;const _0x5997f8=new adm_zip_1['default'](_0x17ebb9);for(const _0x4a74f4 of _0x5997f8['getEntries']()){_0x4832e1['addFile'](_0x4a74f4['entryName'],(_0x116d1c=_0x5997f8[_0x3e9e6b(0x16a)](_0x4a74f4[_0x3e9e6b(0x16b)]))===null||_0x116d1c===void 0x0?void 0x0:_0x116d1c['getData']());}});}!await fs_internal_1['FS'][_0x128746(0x159)]('.temp/'+_0x26dc1b)&&await(0x0,promises_1[_0x128746(0x16c)])(_0x128746(0x152)+_0x26dc1b,{'recursive':!![]});await sfdx_utils_2['SFDXUtils']['createSFDXProject'](_0x146837,_0x26dc1b),await sfdx_utils_2[_0x128746(0x13d)][_0x128746(0x160)](_0x38ed55[_0x128746(0x156)],_0x146837,_0x26dc1b);if(_0x3ad6be){const _0x5e85bd=await(0x0,fetch_attachments_1[_0x128746(0x164)])(_0x66dc41,_0x3ad6be);_0x4832e1[_0x128746(0x16f)](DESTRUCTIVE_CHANGES_POST_NAME,_0x5e85bd),await(0x0,promises_1['writeFile'])(process[_0x128746(0x155)]()+_0x128746(0x173)+_0x26dc1b+'/'+DEPLOY_ZIP_NAME,_0x4832e1[_0x128746(0x163)]());}else await(0x0,promises_1[_0x128746(0x147)])(process[_0x128746(0x155)]()+'/.temp/'+_0x26dc1b+'/'+DEPLOY_ZIP_NAME,_0x4832e1[_0x128746(0x163)]());const _0x502d35=await deploy(_0x38ed55,_0x2d5a0a,_0x26dc1b);return JSON['parse'](_0x502d35)[_0x128746(0x16d)]['id'];}catch(_0x2d3549){throw _0x2d3549;}finally{await(0x0,promises_1['rm'])(path_1[_0x128746(0x162)]['join'](process[_0x128746(0x155)](),'.temp',_0x26dc1b),{'recursive':!![]});}}function a102_0x33f5(){const _0xc4244c=['then','1790685gPrhrZ','__esModule','fs/promises','(((.+)+)+)+$','clientId','accessToken','270572exsHKM','.temp/','AuthUtils','\x20-r\x20','cwd','instanceUrl','refreshToken','clientSecret','exists','force:mdapi:deploy\x20--json\x20','200422sZVXGg','\x20-g','deployComponents','updateAccessToken','isAuthorizationError','setInstanceUrl','174056WDXBZt','default','toBuffer','fetchAttachmentBody','catch','SFDX','runTests','apply','.temp','getEntry','entryName','mkdir','result','join','addFile','../../shared/utils/fetch-attachments','177156agMLoz','\x20-purgeondelete','/.temp/','60jEZrTf','toString','203945vAIszB','defineProperty','__importDefault','SFDXUtils','checkOnly','3qnnrLZ','testLevel','destructiveChangesPost.xml','ignoreWarnings','2075391TMrBPk','spawn','\x20-c','161HHApHa','writeFile','search','deploy.zip'];a102_0x33f5=function(){return _0xc4244c;};return a102_0x33f5();}exports[a102_0x269607(0x15d)]=deployComponents;function deploy(_0x4721e0,_0x289ad1,_0x20adf3){const _0x183cc0=a102_0x269607,_0x448474=path_1[_0x183cc0(0x162)][_0x183cc0(0x16e)](process[_0x183cc0(0x155)](),_0x183cc0(0x169),_0x20adf3,DEPLOY_ZIP_NAME);let _0x586e3a='-f\x20'+_0x448474+'\x20-u\x20'+_0x4721e0[_0x183cc0(0x150)];return _0x586e3a+=_0x289ad1[_0x183cc0(0x13e)]?_0x183cc0(0x145):'',_0x586e3a+=_0x289ad1[_0x183cc0(0x140)]?'\x20-l\x20'+_0x289ad1[_0x183cc0(0x140)]:'',_0x586e3a+=_0x289ad1['runTests']?_0x183cc0(0x154)+_0x289ad1[_0x183cc0(0x167)]:'',_0x586e3a+=_0x289ad1[_0x183cc0(0x142)]?_0x183cc0(0x15c):'',_0x586e3a+=_0x289ad1['purgeOnDelete']?_0x183cc0(0x172):'',sfdx_utils_1[_0x183cc0(0x166)][_0x183cc0(0x144)](_0x183cc0(0x15a)+_0x586e3a)[_0x183cc0(0x165)](async _0x23db9e=>{const _0x31a658=_0x183cc0;if(sfdx_utils_2[_0x31a658(0x13d)][_0x31a658(0x15f)](_0x23db9e))return _0x4721e0['accessToken']=await auth_utils_1[_0x31a658(0x153)][_0x31a658(0x15e)](_0x4721e0[_0x31a658(0x156)],_0x4721e0[_0x31a658(0x157)],_0x4721e0[_0x31a658(0x14f)],_0x4721e0[_0x31a658(0x158)]),deploy(_0x4721e0,_0x289ad1,_0x20adf3);throw _0x23db9e;});}