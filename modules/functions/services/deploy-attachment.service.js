const a84_0x56c877=a84_0x20fe;(function(_0x59e6e3,_0x367cd3){const _0x54ef62=a84_0x20fe,_0x401aae=_0x59e6e3();while(!![]){try{const _0x3e87a1=parseInt(_0x54ef62(0xcb))/0x1*(-parseInt(_0x54ef62(0xf6))/0x2)+parseInt(_0x54ef62(0xfb))/0x3*(-parseInt(_0x54ef62(0xda))/0x4)+-parseInt(_0x54ef62(0xd6))/0x5*(-parseInt(_0x54ef62(0xeb))/0x6)+parseInt(_0x54ef62(0x106))/0x7*(-parseInt(_0x54ef62(0xcf))/0x8)+-parseInt(_0x54ef62(0x105))/0x9*(-parseInt(_0x54ef62(0xcd))/0xa)+parseInt(_0x54ef62(0xfe))/0xb*(-parseInt(_0x54ef62(0xd4))/0xc)+parseInt(_0x54ef62(0xfd))/0xd;if(_0x3e87a1===_0x367cd3)break;else _0x401aae['push'](_0x401aae['shift']());}catch(_0x2a29c2){_0x401aae['push'](_0x401aae['shift']());}}}(a84_0x1461,0x8f654));const a84_0x1489b9=(function(){let _0x43f5ab=!![];return function(_0x3799a7,_0x5cd9a3){const _0x49c2c3=_0x43f5ab?function(){const _0x173ccc=a84_0x20fe;if(_0x5cd9a3){const _0x1693d5=_0x5cd9a3[_0x173ccc(0xef)](_0x3799a7,arguments);return _0x5cd9a3=null,_0x1693d5;}}:function(){};return _0x43f5ab=![],_0x49c2c3;};}()),a84_0x556bd5=a84_0x1489b9(this,function(){const _0x44b767=a84_0x20fe;return a84_0x556bd5[_0x44b767(0xe2)]()[_0x44b767(0xf2)](_0x44b767(0xf1))[_0x44b767(0xe2)]()[_0x44b767(0xc6)](a84_0x556bd5)[_0x44b767(0xf2)](_0x44b767(0xf1));});a84_0x556bd5();'use strict';function a84_0x20fe(_0xad69b3,_0x446f65){const _0x61e9df=a84_0x1461();return a84_0x20fe=function(_0x556bd5,_0x1489b9){_0x556bd5=_0x556bd5-0xc5;let _0x146158=_0x61e9df[_0x556bd5];return _0x146158;},a84_0x20fe(_0xad69b3,_0x446f65);}var __importDefault=this&&this[a84_0x56c877(0xd8)]||function(_0x3c005){const _0x45a94c=a84_0x56c877;return _0x3c005&&_0x3c005[_0x45a94c(0xd2)]?_0x3c005:{'default':_0x3c005};};function a84_0x1461(){const _0x4d92f6=['toString','result','ignoreWarnings','writeFile','accessToken','\x20-r\x20','.temp','default','checkOnly','18qMEwKL','toBuffer','../../shared/utils/fetch-attachments','-f\x20','apply','entryName','(((.+)+)+)+$','search','setInstanceUrl','\x20-u\x20','sfdx','248134BllwRK','purgeOnDelete','AuthUtils','SFDXUtils','\x20-l\x20','216462UYcdEr','parse','12334582HCgOCP','41701QWRcDR','../utils/auth.utils','runTests','refreshToken','addFile','path','\x20-purgeondelete','1282689VwyxtC','36365GjIBbB','defineProperty','testLevel','adm-zip','SFDX','constructor','instanceUrl','isAuthorizationError','deployComponents','../../git/internal/fs.internal','7OmPQej','getEntries','80ErzvLC','../../git/salesforce/utils/sfdx.utils','1088PpmOKQ','then','clientSecret','__esModule','/.temp/','348zpQGpx','cwd','1748570KpCtEn','uuid','__importDefault','deploy.zip','48EnIzsO','fetchAttachmentBody','.temp/','\x20-g','exists','join','\x20-c','force:mdapi:deploy\x20--json\x20'];a84_0x1461=function(){return _0x4d92f6;};return a84_0x1461();}Object[a84_0x56c877(0x107)](exports,'__esModule',{'value':!![]}),exports[a84_0x56c877(0xc9)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a84_0x56c877(0xce)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x56c877(0xff)),path_1=__importDefault(require(a84_0x56c877(0x103))),fs_internal_1=require(a84_0x56c877(0xca)),uuid_1=require(a84_0x56c877(0xd7)),adm_zip_1=__importDefault(require(a84_0x56c877(0x109))),fetch_attachments_1=require(a84_0x56c877(0xed)),DESTRUCTIVE_CHANGES_POST_NAME='destructiveChangesPost.xml',DEPLOY_ZIP_NAME=a84_0x56c877(0xd9);async function deployComponents({attachmentId:_0x22f711,credentials:_0x3082f0,postDestructiveAttachmentId:_0xa5da1a,deployOptions:_0x4d5ad2},_0xff0fe2){const _0x51b17c=a84_0x56c877,_0x2587c4=(0x0,uuid_1['v4'])();try{const _0x392062=_0x22f711['split'](','),_0x4a452b=new adm_zip_1[(_0x51b17c(0xe9))]();for(const _0xabae4e of _0x392062){await(0x0,fetch_attachments_1[_0x51b17c(0xdb)])(_0xff0fe2,_0xabae4e)[_0x51b17c(0xd0)](_0x49117a=>{const _0x5bb0e0=_0x51b17c;var _0x1b9a0c;const _0x799655=new adm_zip_1[(_0x5bb0e0(0xe9))](_0x49117a);for(const _0x229219 of _0x799655[_0x5bb0e0(0xcc)]()){_0x4a452b[_0x5bb0e0(0x102)](_0x229219[_0x5bb0e0(0xf0)],(_0x1b9a0c=_0x799655['getEntry'](_0x229219[_0x5bb0e0(0xf0)]))===null||_0x1b9a0c===void 0x0?void 0x0:_0x1b9a0c['getData']());}});}!await fs_internal_1['FS'][_0x51b17c(0xde)](_0x51b17c(0xdc)+_0x2587c4)&&await(0x0,promises_1['mkdir'])(_0x51b17c(0xdc)+_0x2587c4,{'recursive':!![]});await sfdx_utils_2[_0x51b17c(0xf9)]['createSFDXProject'](_0x22f711,_0x2587c4),await sfdx_utils_2[_0x51b17c(0xf9)][_0x51b17c(0xf3)](_0x3082f0['instanceUrl'],_0x22f711,_0x2587c4);if(_0xa5da1a){const _0x4005ad=await(0x0,fetch_attachments_1[_0x51b17c(0xdb)])(_0xff0fe2,_0xa5da1a);_0x4a452b[_0x51b17c(0x102)](DESTRUCTIVE_CHANGES_POST_NAME,_0x4005ad),await(0x0,promises_1[_0x51b17c(0xe5)])(process['cwd']()+_0x51b17c(0xd3)+_0x2587c4+'/'+DEPLOY_ZIP_NAME,_0x4a452b[_0x51b17c(0xec)]());}else await(0x0,promises_1[_0x51b17c(0xe5)])(process['cwd']()+'/.temp/'+_0x2587c4+'/'+DEPLOY_ZIP_NAME,_0x4a452b[_0x51b17c(0xec)]());const _0x22a564=await deploy(_0x3082f0,_0x4d5ad2,_0x2587c4);return JSON[_0x51b17c(0xfc)](_0x22a564)[_0x51b17c(0xe3)]['id'];}catch(_0x2f8137){throw _0x2f8137;}finally{await(0x0,promises_1['rm'])(path_1[_0x51b17c(0xe9)][_0x51b17c(0xdf)](process[_0x51b17c(0xd5)](),_0x51b17c(0xe8),_0x2587c4),{'recursive':!![]});}}exports[a84_0x56c877(0xc9)]=deployComponents;function deploy(_0x2b060d,_0x1d10ab,_0x3f492c){const _0x5d43d2=a84_0x56c877,_0x4bfc97=path_1['default'][_0x5d43d2(0xdf)](process['cwd'](),_0x5d43d2(0xe8),_0x3f492c,DEPLOY_ZIP_NAME);let _0x49480c=_0x5d43d2(0xee)+_0x4bfc97+_0x5d43d2(0xf4)+_0x2b060d[_0x5d43d2(0xe6)];return _0x49480c+=_0x1d10ab[_0x5d43d2(0xea)]?_0x5d43d2(0xe0):'',_0x49480c+=_0x1d10ab[_0x5d43d2(0x108)]?_0x5d43d2(0xfa)+_0x1d10ab[_0x5d43d2(0x108)]:'',_0x49480c+=_0x1d10ab[_0x5d43d2(0x100)]?_0x5d43d2(0xe7)+_0x1d10ab[_0x5d43d2(0x100)]:'',_0x49480c+=_0x1d10ab[_0x5d43d2(0xe4)]?_0x5d43d2(0xdd):'',_0x49480c+=_0x1d10ab[_0x5d43d2(0xf7)]?_0x5d43d2(0x104):'',sfdx_utils_1[_0x5d43d2(0xc5)]['spawnPromise'](_0x5d43d2(0xf5),_0x5d43d2(0xe1)+_0x49480c)['catch'](async _0x3e512f=>{const _0xe7840b=_0x5d43d2;if(sfdx_utils_2[_0xe7840b(0xf9)][_0xe7840b(0xc8)](_0x3e512f))return _0x2b060d['accessToken']=await auth_utils_1[_0xe7840b(0xf8)]['updateAccessToken'](_0x2b060d[_0xe7840b(0xc7)],_0x2b060d[_0xe7840b(0x101)],_0x2b060d['clientId'],_0x2b060d[_0xe7840b(0xd1)]),deploy(_0x2b060d,_0x1d10ab,_0x3f492c);throw _0x3e512f;});}