const a84_0x2239f0=a84_0x59cc;(function(_0x3ac737,_0x1c8c16){const _0x52b908=a84_0x59cc,_0x42d3aa=_0x3ac737();while(!![]){try{const _0x3ab138=-parseInt(_0x52b908(0x13e))/0x1*(-parseInt(_0x52b908(0x137))/0x2)+-parseInt(_0x52b908(0x143))/0x3+-parseInt(_0x52b908(0x12f))/0x4+parseInt(_0x52b908(0x12a))/0x5+-parseInt(_0x52b908(0x153))/0x6*(-parseInt(_0x52b908(0x133))/0x7)+-parseInt(_0x52b908(0x145))/0x8*(-parseInt(_0x52b908(0x155))/0x9)+parseInt(_0x52b908(0x14d))/0xa*(parseInt(_0x52b908(0x13b))/0xb);if(_0x3ab138===_0x1c8c16)break;else _0x42d3aa['push'](_0x42d3aa['shift']());}catch(_0x28cb5d){_0x42d3aa['push'](_0x42d3aa['shift']());}}}(a84_0x412b,0xeccd2));const a84_0x237205=(function(){let _0x2540d9=!![];return function(_0x71e3a5,_0x44048b){const _0x16d51a=_0x2540d9?function(){if(_0x44048b){const _0x2b9ad5=_0x44048b['apply'](_0x71e3a5,arguments);return _0x44048b=null,_0x2b9ad5;}}:function(){};return _0x2540d9=![],_0x16d51a;};}()),a84_0x4faafa=a84_0x237205(this,function(){const _0x5813e1=a84_0x59cc;return a84_0x4faafa[_0x5813e1(0x15d)]()[_0x5813e1(0x13f)](_0x5813e1(0x154))['toString']()[_0x5813e1(0x162)](a84_0x4faafa)['search'](_0x5813e1(0x154));});a84_0x4faafa();function a84_0x59cc(_0x5f4f57,_0x5a2752){const _0x388f31=a84_0x412b();return a84_0x59cc=function(_0x4faafa,_0x237205){_0x4faafa=_0x4faafa-0x129;let _0x412bf4=_0x388f31[_0x4faafa];return _0x412bf4;},a84_0x59cc(_0x5f4f57,_0x5a2752);}'use strict';var __importDefault=this&&this[a84_0x2239f0(0x158)]||function(_0x5058a3){const _0x281c83=a84_0x2239f0;return _0x5058a3&&_0x5058a3[_0x281c83(0x12c)]?_0x5058a3:{'default':_0x5058a3};};Object['defineProperty'](exports,a84_0x2239f0(0x12c),{'value':!![]}),exports[a84_0x2239f0(0x156)]=void 0x0;const promises_1=require(a84_0x2239f0(0x146)),sfdx_utils_1=require(a84_0x2239f0(0x159)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x2239f0(0x134)),path_1=__importDefault(require(a84_0x2239f0(0x136))),fs_internal_1=require(a84_0x2239f0(0x14b)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a84_0x2239f0(0x147))),fetch_attachments_1=require(a84_0x2239f0(0x15e)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2239f0(0x12b),DEPLOY_ZIP_NAME=a84_0x2239f0(0x12d);async function deployComponents({attachmentId:_0x580089,credentials:_0xd49bfc,postDestructiveAttachmentId:_0x2a9b36,deployOptions:_0x48effb},_0x32f7a5){const _0x51179b=a84_0x2239f0,_0x4a6160=(0x0,uuid_1['v4'])();try{const _0x3516b4=_0x580089['split'](','),_0x2375d5=new adm_zip_1[(_0x51179b(0x129))]();for(const _0x1d3408 of _0x3516b4){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x32f7a5,_0x1d3408)[_0x51179b(0x157)](_0x3f3da9=>{const _0x23caec=_0x51179b;var _0x3d3c0f;const _0x4da066=new adm_zip_1[(_0x23caec(0x129))](_0x3f3da9);for(const _0x3c1be3 of _0x4da066['getEntries']()){_0x2375d5['addFile'](_0x3c1be3[_0x23caec(0x163)],(_0x3d3c0f=_0x4da066[_0x23caec(0x132)](_0x3c1be3[_0x23caec(0x163)]))===null||_0x3d3c0f===void 0x0?void 0x0:_0x3d3c0f[_0x23caec(0x149)]());}});}!await fs_internal_1['FS'][_0x51179b(0x150)](_0x51179b(0x152)+_0x4a6160)&&await(0x0,promises_1['mkdir'])(_0x51179b(0x152)+_0x4a6160,{'recursive':!![]});await sfdx_utils_2[_0x51179b(0x13c)]['createSFDXProject'](_0x580089,_0x4a6160),await sfdx_utils_2[_0x51179b(0x13c)][_0x51179b(0x144)](_0xd49bfc[_0x51179b(0x14a)],_0x580089,_0x4a6160);if(_0x2a9b36){const _0x18ba9c=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x32f7a5,_0x2a9b36);_0x2375d5['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x18ba9c),await(0x0,promises_1[_0x51179b(0x138)])(process[_0x51179b(0x14c)]()+_0x51179b(0x160)+_0x4a6160+'/'+DEPLOY_ZIP_NAME,_0x2375d5[_0x51179b(0x13a)]());}else await(0x0,promises_1[_0x51179b(0x138)])(process[_0x51179b(0x14c)]()+_0x51179b(0x160)+_0x4a6160+'/'+DEPLOY_ZIP_NAME,_0x2375d5[_0x51179b(0x13a)]());const _0x4003f6=await deploy(_0xd49bfc,_0x48effb,_0x4a6160);return JSON[_0x51179b(0x151)](_0x4003f6)[_0x51179b(0x161)]['id'];}catch(_0x44baac){throw _0x44baac;}finally{await(0x0,promises_1['rm'])(path_1[_0x51179b(0x129)][_0x51179b(0x13d)](process['cwd'](),_0x51179b(0x15c),_0x4a6160),{'recursive':!![]});}}function a84_0x412b(){const _0x523544=['toBuffer','71093BOQkXA','SFDXUtils','join','1142969RCFfDS','search','catch','checkOnly','force:mdapi:deploy\x20--json\x20','1313658yOjsVF','setInstanceUrl','15016bCdaDr','fs/promises','adm-zip','\x20-purgeondelete','getData','instanceUrl','../../git/internal/fs.internal','cwd','700xTIvSo','AuthUtils','-f\x20','exists','parse','.temp/','5244852dWquvG','(((.+)+)+)+$','1773TRHjSI','deployComponents','then','__importDefault','../../git/salesforce/utils/sfdx.utils','\x20-c','\x20-r\x20','.temp','toString','../../shared/utils/fetch-attachments','testLevel','/.temp/','result','constructor','entryName','default','820475SyXsAt','destructiveChangesPost.xml','__esModule','deploy.zip','runTests','6382244ftaexq','\x20-g','clientSecret','getEntry','7mzmqgU','../utils/auth.utils','refreshToken','path','2pMaYvv','writeFile','spawn'];a84_0x412b=function(){return _0x523544;};return a84_0x412b();}exports[a84_0x2239f0(0x156)]=deployComponents;function deploy(_0x18ee2a,_0x2b5711,_0x4316a2){const _0x340460=a84_0x2239f0,_0x2e335d=path_1['default'][_0x340460(0x13d)](process[_0x340460(0x14c)](),'.temp',_0x4316a2,DEPLOY_ZIP_NAME);let _0x33120b=_0x340460(0x14f)+_0x2e335d+'\x20-u\x20'+_0x18ee2a['accessToken'];return _0x33120b+=_0x2b5711[_0x340460(0x141)]?_0x340460(0x15a):'',_0x33120b+=_0x2b5711['testLevel']?'\x20-l\x20'+_0x2b5711[_0x340460(0x15f)]:'',_0x33120b+=_0x2b5711[_0x340460(0x12e)]?_0x340460(0x15b)+_0x2b5711['runTests']:'',_0x33120b+=_0x2b5711['ignoreWarnings']?_0x340460(0x130):'',_0x33120b+=_0x2b5711['purgeOnDelete']?_0x340460(0x148):'',sfdx_utils_1['SFDX'][_0x340460(0x139)](_0x340460(0x142)+_0x33120b)[_0x340460(0x140)](async _0x49edfc=>{const _0x592d88=_0x340460;if(sfdx_utils_2[_0x592d88(0x13c)]['isAuthorizationError'](_0x49edfc))return _0x18ee2a['accessToken']=await auth_utils_1[_0x592d88(0x14e)]['updateAccessToken'](_0x18ee2a[_0x592d88(0x14a)],_0x18ee2a[_0x592d88(0x135)],_0x18ee2a['clientId'],_0x18ee2a[_0x592d88(0x131)]),deploy(_0x18ee2a,_0x2b5711,_0x4316a2);throw _0x49edfc;});}