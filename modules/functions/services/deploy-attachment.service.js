const a84_0x2bcbba=a84_0x284d;(function(_0x21b291,_0xc89850){const _0xf0e20a=a84_0x284d,_0x1001fb=_0x21b291();while(!![]){try{const _0x445922=parseInt(_0xf0e20a(0x165))/0x1+parseInt(_0xf0e20a(0x144))/0x2*(parseInt(_0xf0e20a(0x17d))/0x3)+parseInt(_0xf0e20a(0x141))/0x4+-parseInt(_0xf0e20a(0x16b))/0x5*(parseInt(_0xf0e20a(0x17c))/0x6)+-parseInt(_0xf0e20a(0x153))/0x7+-parseInt(_0xf0e20a(0x172))/0x8*(-parseInt(_0xf0e20a(0x14f))/0x9)+-parseInt(_0xf0e20a(0x15c))/0xa;if(_0x445922===_0xc89850)break;else _0x1001fb['push'](_0x1001fb['shift']());}catch(_0x455910){_0x1001fb['push'](_0x1001fb['shift']());}}}(a84_0x155a,0xee8b9));const a84_0x5733c3=(function(){let _0xec23b3=!![];return function(_0x3412a7,_0x492529){const _0x169939=_0xec23b3?function(){const _0x93cced=a84_0x284d;if(_0x492529){const _0x5e02a4=_0x492529[_0x93cced(0x17e)](_0x3412a7,arguments);return _0x492529=null,_0x5e02a4;}}:function(){};return _0xec23b3=![],_0x169939;};}()),a84_0xf0c4d9=a84_0x5733c3(this,function(){const _0x1b827b=a84_0x284d;return a84_0xf0c4d9[_0x1b827b(0x166)]()[_0x1b827b(0x16c)](_0x1b827b(0x17b))[_0x1b827b(0x166)]()['constructor'](a84_0xf0c4d9)[_0x1b827b(0x16c)](_0x1b827b(0x17b));});a84_0xf0c4d9();'use strict';var __importDefault=this&&this[a84_0x2bcbba(0x14d)]||function(_0x29fb61){return _0x29fb61&&_0x29fb61['__esModule']?_0x29fb61:{'default':_0x29fb61};};function a84_0x284d(_0x116ea4,_0x1efa0b){const _0x785f2e=a84_0x155a();return a84_0x284d=function(_0xf0c4d9,_0x5733c3){_0xf0c4d9=_0xf0c4d9-0x13f;let _0x155a09=_0x785f2e[_0xf0c4d9];return _0x155a09;},a84_0x284d(_0x116ea4,_0x1efa0b);}Object[a84_0x2bcbba(0x15f)](exports,'__esModule',{'value':!![]}),exports[a84_0x2bcbba(0x161)]=void 0x0;function a84_0x155a(){const _0x544d75=['join','13056224jECnZe','SFDX','\x20-purgeondelete','entryName','SFDXUtils','runTests','\x20-u\x20','ignoreWarnings','refreshToken','(((.+)+)+)+$','6yKRBqu','5568753HTpSdI','apply','clientSecret','-f\x20','getEntries','\x20-c','4938456eKjhDu','.temp','deploy.zip','2sJdBor','path','destructiveChangesPost.xml','writeFile','addFile','catch','fetchAttachmentBody','isAuthorizationError','../../git/internal/fs.internal','__importDefault','setInstanceUrl','9ByesVO','default','purgeOnDelete','../../shared/utils/fetch-attachments','2413446kumlFl','../../git/salesforce/utils/sfdx.utils','instanceUrl','uuid','\x20-l\x20','clientId','toBuffer','../utils/auth.utils','updateAccessToken','38834540gwVVbN','testLevel','createSFDXProject','defineProperty','cwd','deployComponents','getData','force:mdapi:deploy\x20--json\x20','fs/promises','643805PrLnpl','toString','then','/.temp/','.temp/','accessToken','806925FvkfuT','search','getEntry','split','mkdir','adm-zip'];a84_0x155a=function(){return _0x544d75;};return a84_0x155a();}const promises_1=require(a84_0x2bcbba(0x164)),sfdx_utils_1=require(a84_0x2bcbba(0x154)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x2bcbba(0x15a)),path_1=__importDefault(require(a84_0x2bcbba(0x145))),fs_internal_1=require(a84_0x2bcbba(0x14c)),uuid_1=require(a84_0x2bcbba(0x156)),adm_zip_1=__importDefault(require(a84_0x2bcbba(0x170))),fetch_attachments_1=require(a84_0x2bcbba(0x152)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2bcbba(0x146),DEPLOY_ZIP_NAME=a84_0x2bcbba(0x143);async function deployComponents({attachmentId:_0xfde1f1,credentials:_0x448221,postDestructiveAttachmentId:_0x3ebc72,deployOptions:_0x2c8b15},_0x29e52f){const _0x4b13a3=a84_0x2bcbba,_0x3bd46c=(0x0,uuid_1['v4'])();try{const _0x402335=_0xfde1f1[_0x4b13a3(0x16e)](','),_0x122816=new adm_zip_1[(_0x4b13a3(0x150))]();for(const _0x4ba090 of _0x402335){await(0x0,fetch_attachments_1[_0x4b13a3(0x14a)])(_0x29e52f,_0x4ba090)[_0x4b13a3(0x167)](_0x587b5a=>{const _0x58122e=_0x4b13a3;var _0x5e64c8;const _0x149a42=new adm_zip_1['default'](_0x587b5a);for(const _0x563c8a of _0x149a42[_0x58122e(0x13f)]()){_0x122816['addFile'](_0x563c8a[_0x58122e(0x175)],(_0x5e64c8=_0x149a42[_0x58122e(0x16d)](_0x563c8a[_0x58122e(0x175)]))===null||_0x5e64c8===void 0x0?void 0x0:_0x5e64c8[_0x58122e(0x162)]());}});}!await fs_internal_1['FS']['exists'](_0x4b13a3(0x169)+_0x3bd46c)&&await(0x0,promises_1[_0x4b13a3(0x16f)])(_0x4b13a3(0x169)+_0x3bd46c,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x4b13a3(0x15e)](_0xfde1f1,_0x3bd46c),await sfdx_utils_2[_0x4b13a3(0x176)][_0x4b13a3(0x14e)](_0x448221[_0x4b13a3(0x155)],_0xfde1f1,_0x3bd46c);if(_0x3ebc72){const _0x5528bb=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x29e52f,_0x3ebc72);_0x122816[_0x4b13a3(0x148)](DESTRUCTIVE_CHANGES_POST_NAME,_0x5528bb),await(0x0,promises_1[_0x4b13a3(0x147)])(process[_0x4b13a3(0x160)]()+_0x4b13a3(0x168)+_0x3bd46c+'/'+DEPLOY_ZIP_NAME,_0x122816[_0x4b13a3(0x159)]());}else await(0x0,promises_1[_0x4b13a3(0x147)])(process[_0x4b13a3(0x160)]()+_0x4b13a3(0x168)+_0x3bd46c+'/'+DEPLOY_ZIP_NAME,_0x122816['toBuffer']());const _0x5b88a8=await deploy(_0x448221,_0x2c8b15,_0x3bd46c);return JSON['parse'](_0x5b88a8)['result']['id'];}catch(_0x46fb08){throw _0x46fb08;}finally{await(0x0,promises_1['rm'])(path_1[_0x4b13a3(0x150)]['join'](process['cwd'](),_0x4b13a3(0x142),_0x3bd46c),{'recursive':!![]});}}exports[a84_0x2bcbba(0x161)]=deployComponents;function deploy(_0x2213dc,_0x5a74ec,_0x15d920){const _0x5d24f2=a84_0x2bcbba,_0x2f3e8d=path_1['default'][_0x5d24f2(0x171)](process[_0x5d24f2(0x160)](),_0x5d24f2(0x142),_0x15d920,DEPLOY_ZIP_NAME);let _0x345e23=_0x5d24f2(0x180)+_0x2f3e8d+_0x5d24f2(0x178)+_0x2213dc[_0x5d24f2(0x16a)];return _0x345e23+=_0x5a74ec['checkOnly']?_0x5d24f2(0x140):'',_0x345e23+=_0x5a74ec[_0x5d24f2(0x15d)]?_0x5d24f2(0x157)+_0x5a74ec['testLevel']:'',_0x345e23+=_0x5a74ec[_0x5d24f2(0x177)]?'\x20-r\x20'+_0x5a74ec[_0x5d24f2(0x177)]:'',_0x345e23+=_0x5a74ec[_0x5d24f2(0x179)]?'\x20-g':'',_0x345e23+=_0x5a74ec[_0x5d24f2(0x151)]?_0x5d24f2(0x174):'',sfdx_utils_1[_0x5d24f2(0x173)]['spawn'](_0x5d24f2(0x163)+_0x345e23)[_0x5d24f2(0x149)](async _0x2ed030=>{const _0x2673db=_0x5d24f2;if(sfdx_utils_2[_0x2673db(0x176)][_0x2673db(0x14b)](_0x2ed030))return _0x2213dc[_0x2673db(0x16a)]=await auth_utils_1['AuthUtils'][_0x2673db(0x15b)](_0x2213dc['instanceUrl'],_0x2213dc[_0x2673db(0x17a)],_0x2213dc[_0x2673db(0x158)],_0x2213dc[_0x2673db(0x17f)]),deploy(_0x2213dc,_0x5a74ec,_0x15d920);throw _0x2ed030;});}