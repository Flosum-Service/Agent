const a84_0x721fee=a84_0x20c0;(function(_0xbbb252,_0x2c8fea){const _0x6aa811=a84_0x20c0,_0x47e813=_0xbbb252();while(!![]){try{const _0x16d2e5=parseInt(_0x6aa811(0x17d))/0x1+parseInt(_0x6aa811(0x15c))/0x2+-parseInt(_0x6aa811(0x150))/0x3+parseInt(_0x6aa811(0x18d))/0x4+parseInt(_0x6aa811(0x176))/0x5+parseInt(_0x6aa811(0x181))/0x6*(-parseInt(_0x6aa811(0x18f))/0x7)+-parseInt(_0x6aa811(0x183))/0x8;if(_0x16d2e5===_0x2c8fea)break;else _0x47e813['push'](_0x47e813['shift']());}catch(_0x1f5eb7){_0x47e813['push'](_0x47e813['shift']());}}}(a84_0x4332,0xaa097));const a84_0x85539f=(function(){let _0x73d4b0=!![];return function(_0x460388,_0x2718d3){const _0x1add92=_0x73d4b0?function(){const _0x107140=a84_0x20c0;if(_0x2718d3){const _0x1a989a=_0x2718d3[_0x107140(0x160)](_0x460388,arguments);return _0x2718d3=null,_0x1a989a;}}:function(){};return _0x73d4b0=![],_0x1add92;};}()),a84_0x2f2972=a84_0x85539f(this,function(){const _0x2a894c=a84_0x20c0;return a84_0x2f2972[_0x2a894c(0x15a)]()['search']('(((.+)+)+)+$')[_0x2a894c(0x15a)]()['constructor'](a84_0x2f2972)[_0x2a894c(0x16b)](_0x2a894c(0x174));});a84_0x2f2972();function a84_0x4332(){const _0x411098=['deploy.zip','addFile','getEntries','toString','cwd','1469810OtEKhO','clientSecret','adm-zip','createSFDXProject','apply','entryName','.temp/','path','updateAccessToken','../../shared/utils/fetch-attachments','default','force:mdapi:deploy\x20--json\x20','SFDXUtils','setInstanceUrl','\x20-g','search','AuthUtils','deployComponents','defineProperty','checkOnly','destructiveChangesPost.xml','__esModule','mkdir','\x20-r\x20','(((.+)+)+)+$','../utils/sfdx.utils','6040735nHXtDN','/.temp/','split','writeFile','then','../../git/salesforce/utils/sfdx.utils','exists','956320DOfZpS','result','../utils/auth.utils','spawnPromise','198fmoMNm','testLevel','9452504pUqGbM','catch','clientId','\x20-u\x20','.temp','join','-f\x20','fetchAttachmentBody','../../git/internal/fs.internal','uuid','153984iqVbZT','__importDefault','19418SYdSXI','2904876baJxrr','getEntry','parse','instanceUrl','SFDX','ignoreWarnings','accessToken'];a84_0x4332=function(){return _0x411098;};return a84_0x4332();}'use strict';var __importDefault=this&&this[a84_0x721fee(0x18e)]||function(_0x4cf763){const _0xe6dc11=a84_0x721fee;return _0x4cf763&&_0x4cf763[_0xe6dc11(0x171)]?_0x4cf763:{'default':_0x4cf763};};Object[a84_0x721fee(0x16e)](exports,'__esModule',{'value':!![]}),exports[a84_0x721fee(0x16d)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a84_0x721fee(0x17b)),sfdx_utils_2=require(a84_0x721fee(0x175)),auth_utils_1=require(a84_0x721fee(0x17f)),path_1=__importDefault(require(a84_0x721fee(0x163))),fs_internal_1=require(a84_0x721fee(0x18b)),uuid_1=require(a84_0x721fee(0x18c)),adm_zip_1=__importDefault(require(a84_0x721fee(0x15e))),fetch_attachments_1=require(a84_0x721fee(0x165)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x721fee(0x170),DEPLOY_ZIP_NAME=a84_0x721fee(0x157);function a84_0x20c0(_0x51b745,_0x226f3c){const _0xf8c829=a84_0x4332();return a84_0x20c0=function(_0x2f2972,_0x85539f){_0x2f2972=_0x2f2972-0x150;let _0x433233=_0xf8c829[_0x2f2972];return _0x433233;},a84_0x20c0(_0x51b745,_0x226f3c);}async function deployComponents({attachmentId:_0x24f957,credentials:_0x2f0180,postDestructiveAttachmentId:_0x2c417d,deployOptions:_0xa69daa},_0x1518dd){const _0x54cab1=a84_0x721fee,_0xc57c18=(0x0,uuid_1['v4'])();try{const _0x287dae=_0x24f957[_0x54cab1(0x178)](','),_0x19330f=new adm_zip_1[(_0x54cab1(0x166))]();for(const _0x4741c7 of _0x287dae){await(0x0,fetch_attachments_1[_0x54cab1(0x18a)])(_0x1518dd,_0x4741c7)[_0x54cab1(0x17a)](_0x6148e6=>{const _0x558a40=_0x54cab1;var _0x2ccf91;const _0x4c1b19=new adm_zip_1[(_0x558a40(0x166))](_0x6148e6);for(const _0x1e3996 of _0x4c1b19[_0x558a40(0x159)]()){_0x19330f[_0x558a40(0x158)](_0x1e3996[_0x558a40(0x161)],(_0x2ccf91=_0x4c1b19[_0x558a40(0x151)](_0x1e3996['entryName']))===null||_0x2ccf91===void 0x0?void 0x0:_0x2ccf91['getData']());}});}!await fs_internal_1['FS'][_0x54cab1(0x17c)](_0x54cab1(0x162)+_0xc57c18)&&await(0x0,promises_1[_0x54cab1(0x172)])(_0x54cab1(0x162)+_0xc57c18,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x54cab1(0x15f)](_0x24f957,_0xc57c18),await sfdx_utils_2[_0x54cab1(0x168)][_0x54cab1(0x169)](_0x2f0180[_0x54cab1(0x153)],_0x24f957,_0xc57c18);if(_0x2c417d){const _0x24ff84=await(0x0,fetch_attachments_1[_0x54cab1(0x18a)])(_0x1518dd,_0x2c417d);_0x19330f[_0x54cab1(0x158)](DESTRUCTIVE_CHANGES_POST_NAME,_0x24ff84),await(0x0,promises_1['writeFile'])(process['cwd']()+_0x54cab1(0x177)+_0xc57c18+'/'+DEPLOY_ZIP_NAME,_0x19330f['toBuffer']());}else await(0x0,promises_1[_0x54cab1(0x179)])(process[_0x54cab1(0x15b)]()+'/.temp/'+_0xc57c18+'/'+DEPLOY_ZIP_NAME,_0x19330f['toBuffer']());const _0x3e2daa=await deploy(_0x2f0180,_0xa69daa,_0xc57c18);return JSON[_0x54cab1(0x152)](_0x3e2daa)[_0x54cab1(0x17e)]['id'];}catch(_0x2c2bbf){throw _0x2c2bbf;}finally{await(0x0,promises_1['rm'])(path_1[_0x54cab1(0x166)]['join'](process[_0x54cab1(0x15b)](),_0x54cab1(0x187),_0xc57c18),{'recursive':!![]});}}exports[a84_0x721fee(0x16d)]=deployComponents;function deploy(_0x810277,_0x4363c2,_0x175409){const _0x353d29=a84_0x721fee,_0x4dc2e6=path_1[_0x353d29(0x166)][_0x353d29(0x188)](process[_0x353d29(0x15b)](),_0x353d29(0x187),_0x175409,DEPLOY_ZIP_NAME);let _0x243c52=_0x353d29(0x189)+_0x4dc2e6+_0x353d29(0x186)+_0x810277['accessToken'];return _0x243c52+=_0x4363c2[_0x353d29(0x16f)]?'\x20-c':'',_0x243c52+=_0x4363c2['testLevel']?'\x20-l\x20'+_0x4363c2[_0x353d29(0x182)]:'',_0x243c52+=_0x4363c2['runTests']?_0x353d29(0x173)+_0x4363c2['runTests']:'',_0x243c52+=_0x4363c2[_0x353d29(0x155)]?_0x353d29(0x16a):'',_0x243c52+=_0x4363c2['purgeOnDelete']?'\x20-purgeondelete':'',sfdx_utils_1[_0x353d29(0x154)][_0x353d29(0x180)]('sfdx',_0x353d29(0x167)+_0x243c52)[_0x353d29(0x184)](async _0x2ad201=>{const _0x1835e8=_0x353d29;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x2ad201))return _0x810277[_0x1835e8(0x156)]=await auth_utils_1[_0x1835e8(0x16c)][_0x1835e8(0x164)](_0x810277['instanceUrl'],_0x810277['refreshToken'],_0x810277[_0x1835e8(0x185)],_0x810277[_0x1835e8(0x15d)]),deploy(_0x810277,_0x4363c2,_0x175409);throw _0x2ad201;});}