const a84_0x2c9929=a84_0x304e;function a84_0x467e(){const _0x415c22=['SFDXUtils','10tXZBHw','-f\x20','addFile','purgeOnDelete','\x20-purgeondelete','accessToken','cwd','entryName','join','refreshToken','updateAccessToken','writeFile','sfdx','/.temp/','6123170wUKhDE','adm-zip','.temp/','spawnPromise','constructor','path','force:mdapi:deploy\x20--json\x20','exists','search','AuthUtils','8057061JAJDge','toBuffer','mkdir','6JBiurv','deployComponents','isAuthorizationError','toString','fetchAttachmentBody','getData','../../git/internal/fs.internal','../utils/sfdx.utils','catch','8334360ZYZuMr','setInstanceUrl','49LvCFUF','instanceUrl','2076124MgkgHe','../../shared/utils/fetch-attachments','default','27256856IfrXBG','\x20-l\x20','__esModule','\x20-r\x20','runTests','15937xdfFwB','fs/promises','1346244OWoCCy','134hgGGRU','.temp','parse','split','uuid','clientSecret','__importDefault','(((.+)+)+)+$','testLevel','checkOnly','SFDX','deploy.zip','createSFDXProject'];a84_0x467e=function(){return _0x415c22;};return a84_0x467e();}(function(_0x403cf3,_0x239140){const _0x9db36a=a84_0x304e,_0x1dfd28=_0x403cf3();while(!![]){try{const _0x32e1a8=-parseInt(_0x9db36a(0xd0))/0x1*(parseInt(_0x9db36a(0xd3))/0x2)+-parseInt(_0x9db36a(0xbb))/0x3*(-parseInt(_0x9db36a(0xc8))/0x4)+-parseInt(_0x9db36a(0xae))/0x5+parseInt(_0x9db36a(0xd2))/0x6*(parseInt(_0x9db36a(0xc6))/0x7)+-parseInt(_0x9db36a(0xc4))/0x8+-parseInt(_0x9db36a(0xb8))/0x9*(parseInt(_0x9db36a(0xe1))/0xa)+parseInt(_0x9db36a(0xcb))/0xb;if(_0x32e1a8===_0x239140)break;else _0x1dfd28['push'](_0x1dfd28['shift']());}catch(_0x15b1b7){_0x1dfd28['push'](_0x1dfd28['shift']());}}}(a84_0x467e,0xd1433));const a84_0x51c23a=(function(){let _0xa45e4b=!![];return function(_0x4e768c,_0x1c3815){const _0x58df03=_0xa45e4b?function(){if(_0x1c3815){const _0x15413e=_0x1c3815['apply'](_0x4e768c,arguments);return _0x1c3815=null,_0x15413e;}}:function(){};return _0xa45e4b=![],_0x58df03;};}()),a84_0x400138=a84_0x51c23a(this,function(){const _0x41f6a4=a84_0x304e;return a84_0x400138[_0x41f6a4(0xbe)]()[_0x41f6a4(0xb6)](_0x41f6a4(0xda))[_0x41f6a4(0xbe)]()[_0x41f6a4(0xb2)](a84_0x400138)['search'](_0x41f6a4(0xda));});a84_0x400138();'use strict';function a84_0x304e(_0x49d04b,_0x134673){const _0x4a1dbd=a84_0x467e();return a84_0x304e=function(_0x400138,_0x51c23a){_0x400138=_0x400138-0xa8;let _0x467ef2=_0x4a1dbd[_0x400138];return _0x467ef2;},a84_0x304e(_0x49d04b,_0x134673);}var __importDefault=this&&this[a84_0x2c9929(0xd9)]||function(_0x2deb48){const _0x1fd2d3=a84_0x2c9929;return _0x2deb48&&_0x2deb48[_0x1fd2d3(0xcd)]?_0x2deb48:{'default':_0x2deb48};};Object['defineProperty'](exports,a84_0x2c9929(0xcd),{'value':!![]}),exports[a84_0x2c9929(0xbc)]=void 0x0;const promises_1=require(a84_0x2c9929(0xd1)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a84_0x2c9929(0xc2)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a84_0x2c9929(0xb3))),fs_internal_1=require(a84_0x2c9929(0xc1)),uuid_1=require(a84_0x2c9929(0xd7)),adm_zip_1=__importDefault(require(a84_0x2c9929(0xaf))),fetch_attachments_1=require(a84_0x2c9929(0xc9)),DESTRUCTIVE_CHANGES_POST_NAME='destructiveChangesPost.xml',DEPLOY_ZIP_NAME=a84_0x2c9929(0xde);async function deployComponents({attachmentId:_0x7f7dd0,credentials:_0xf2fde8,postDestructiveAttachmentId:_0xe2d8bb,deployOptions:_0x1cedbe},_0x142df5){const _0x540117=a84_0x2c9929,_0xfcc4d2=(0x0,uuid_1['v4'])();try{const _0x56c366=_0x7f7dd0[_0x540117(0xd6)](','),_0x147f88=new adm_zip_1[(_0x540117(0xca))]();for(const _0x26ab4f of _0x56c366){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x142df5,_0x26ab4f)['then'](_0x2e3ddb=>{const _0x5bfdf4=_0x540117;var _0x614479;const _0x3698fc=new adm_zip_1[(_0x5bfdf4(0xca))](_0x2e3ddb);for(const _0x4ac724 of _0x3698fc['getEntries']()){_0x147f88[_0x5bfdf4(0xe3)](_0x4ac724['entryName'],(_0x614479=_0x3698fc['getEntry'](_0x4ac724[_0x5bfdf4(0xe8)]))===null||_0x614479===void 0x0?void 0x0:_0x614479[_0x5bfdf4(0xc0)]());}});}!await fs_internal_1['FS'][_0x540117(0xb5)]('.temp/'+_0xfcc4d2)&&await(0x0,promises_1[_0x540117(0xba)])(_0x540117(0xb0)+_0xfcc4d2,{'recursive':!![]});await sfdx_utils_2[_0x540117(0xe0)][_0x540117(0xdf)](_0x7f7dd0,_0xfcc4d2),await sfdx_utils_2['SFDXUtils'][_0x540117(0xc5)](_0xf2fde8[_0x540117(0xc7)],_0x7f7dd0,_0xfcc4d2);if(_0xe2d8bb){const _0x3a1d17=await(0x0,fetch_attachments_1[_0x540117(0xbf)])(_0x142df5,_0xe2d8bb);_0x147f88['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x3a1d17),await(0x0,promises_1[_0x540117(0xab)])(process[_0x540117(0xe7)]()+_0x540117(0xad)+_0xfcc4d2+'/'+DEPLOY_ZIP_NAME,_0x147f88[_0x540117(0xb9)]());}else await(0x0,promises_1[_0x540117(0xab)])(process[_0x540117(0xe7)]()+'/.temp/'+_0xfcc4d2+'/'+DEPLOY_ZIP_NAME,_0x147f88[_0x540117(0xb9)]());const _0x5a59fc=await deploy(_0xf2fde8,_0x1cedbe,_0xfcc4d2);return JSON[_0x540117(0xd5)](_0x5a59fc)['result']['id'];}catch(_0xb1579){throw _0xb1579;}finally{await(0x0,promises_1['rm'])(path_1[_0x540117(0xca)][_0x540117(0xa8)](process[_0x540117(0xe7)](),'.temp',_0xfcc4d2),{'recursive':!![]});}}exports[a84_0x2c9929(0xbc)]=deployComponents;function deploy(_0x2f18ca,_0x23551d,_0x33ba4e){const _0xc23c0b=a84_0x2c9929,_0x329441=path_1[_0xc23c0b(0xca)]['join'](process[_0xc23c0b(0xe7)](),_0xc23c0b(0xd4),_0x33ba4e,DEPLOY_ZIP_NAME);let _0x322fdc=_0xc23c0b(0xe2)+_0x329441+'\x20-u\x20'+_0x2f18ca[_0xc23c0b(0xe6)];return _0x322fdc+=_0x23551d[_0xc23c0b(0xdc)]?'\x20-c':'',_0x322fdc+=_0x23551d[_0xc23c0b(0xdb)]?_0xc23c0b(0xcc)+_0x23551d['testLevel']:'',_0x322fdc+=_0x23551d[_0xc23c0b(0xcf)]?_0xc23c0b(0xce)+_0x23551d[_0xc23c0b(0xcf)]:'',_0x322fdc+=_0x23551d['ignoreWarnings']?'\x20-g':'',_0x322fdc+=_0x23551d[_0xc23c0b(0xe4)]?_0xc23c0b(0xe5):'',sfdx_utils_1[_0xc23c0b(0xdd)][_0xc23c0b(0xb1)](_0xc23c0b(0xac),_0xc23c0b(0xb4)+_0x322fdc)[_0xc23c0b(0xc3)](async _0x3c0a04=>{const _0x20a2ea=_0xc23c0b;if(sfdx_utils_2['SFDXUtils'][_0x20a2ea(0xbd)](_0x3c0a04))return _0x2f18ca['accessToken']=await auth_utils_1[_0x20a2ea(0xb7)][_0x20a2ea(0xaa)](_0x2f18ca[_0x20a2ea(0xc7)],_0x2f18ca[_0x20a2ea(0xa9)],_0x2f18ca['clientId'],_0x2f18ca[_0x20a2ea(0xd8)]),deploy(_0x2f18ca,_0x23551d,_0x33ba4e);throw _0x3c0a04;});}