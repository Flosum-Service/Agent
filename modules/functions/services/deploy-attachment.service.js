const a84_0x2d45a6=a84_0x337d;(function(_0x37e904,_0x25a04b){const _0x27ba1d=a84_0x337d,_0x5dcb5c=_0x37e904();while(!![]){try{const _0x24e9a5=-parseInt(_0x27ba1d(0x1b6))/0x1+-parseInt(_0x27ba1d(0x1ec))/0x2+parseInt(_0x27ba1d(0x1c8))/0x3*(parseInt(_0x27ba1d(0x1e2))/0x4)+parseInt(_0x27ba1d(0x1c9))/0x5+parseInt(_0x27ba1d(0x1c5))/0x6+-parseInt(_0x27ba1d(0x1ed))/0x7+parseInt(_0x27ba1d(0x1c4))/0x8;if(_0x24e9a5===_0x25a04b)break;else _0x5dcb5c['push'](_0x5dcb5c['shift']());}catch(_0x33c44b){_0x5dcb5c['push'](_0x5dcb5c['shift']());}}}(a84_0x186c,0x1faea));const a84_0x44cfbd=(function(){let _0x108700=!![];return function(_0x476a05,_0x9a17ff){const _0x76b6b7=_0x108700?function(){const _0x1b10bc=a84_0x337d;if(_0x9a17ff){const _0x4fa22f=_0x9a17ff[_0x1b10bc(0x1bb)](_0x476a05,arguments);return _0x9a17ff=null,_0x4fa22f;}}:function(){};return _0x108700=![],_0x76b6b7;};}()),a84_0x381b1f=a84_0x44cfbd(this,function(){const _0x477a09=a84_0x337d;return a84_0x381b1f[_0x477a09(0x1b8)]()[_0x477a09(0x1c6)](_0x477a09(0x1eb))[_0x477a09(0x1b8)]()[_0x477a09(0x1ca)](a84_0x381b1f)['search'](_0x477a09(0x1eb));});a84_0x381b1f();'use strict';var __importDefault=this&&this[a84_0x2d45a6(0x1e4)]||function(_0x33b89b){const _0x321390=a84_0x2d45a6;return _0x33b89b&&_0x33b89b[_0x321390(0x1f3)]?_0x33b89b:{'default':_0x33b89b};};function a84_0x186c(){const _0x423f84=['/.temp/','then','\x20-purgeondelete','(((.+)+)+)+$','296350FrQHxT','30688NqYQxI','writeFile','fs/promises','exists','cwd','destructiveChangesPost.xml','__esModule','refreshToken','addFile','clientSecret','ignoreWarnings','split','../../shared/utils/fetch-attachments','../../git/internal/fs.internal','87699xTIqJY','spawnPromise','toString','join','AuthUtils','apply','clientId','\x20-u\x20','../../git/salesforce/utils/sfdx.utils','updateAccessToken','isAuthorizationError','setInstanceUrl','\x20-g','purgeOnDelete','817768kEdHEr','638208YwJcbk','search','result','189777CKNEoW','490900nVmjWJ','constructor','.temp/','default','../utils/auth.utils','accessToken','-f\x20','instanceUrl','deploy.zip','deployComponents','getData','getEntries','parse','defineProperty','force:mdapi:deploy\x20--json\x20','toBuffer','runTests','\x20-c','fetchAttachmentBody','checkOnly','testLevel','adm-zip','uuid','.temp','entryName','4YmMbCb','\x20-r\x20','__importDefault','getEntry','path','SFDXUtils'];a84_0x186c=function(){return _0x423f84;};return a84_0x186c();}function a84_0x337d(_0x56bf12,_0xe3616d){const _0x4cfc12=a84_0x186c();return a84_0x337d=function(_0x381b1f,_0x44cfbd){_0x381b1f=_0x381b1f-0x1b4;let _0x186c5a=_0x4cfc12[_0x381b1f];return _0x186c5a;},a84_0x337d(_0x56bf12,_0xe3616d);}Object[a84_0x2d45a6(0x1d6)](exports,a84_0x2d45a6(0x1f3),{'value':!![]}),exports[a84_0x2d45a6(0x1d2)]=void 0x0;const promises_1=require(a84_0x2d45a6(0x1ef)),sfdx_utils_1=require(a84_0x2d45a6(0x1be)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x2d45a6(0x1cd)),path_1=__importDefault(require(a84_0x2d45a6(0x1e6))),fs_internal_1=require(a84_0x2d45a6(0x1b5)),uuid_1=require(a84_0x2d45a6(0x1df)),adm_zip_1=__importDefault(require(a84_0x2d45a6(0x1de))),fetch_attachments_1=require(a84_0x2d45a6(0x1b4)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2d45a6(0x1f2),DEPLOY_ZIP_NAME=a84_0x2d45a6(0x1d1);async function deployComponents({attachmentId:_0x554c7a,credentials:_0x315de7,postDestructiveAttachmentId:_0x2449f0,deployOptions:_0x492af5},_0x260875){const _0x3abb9b=a84_0x2d45a6,_0x21c264=(0x0,uuid_1['v4'])();try{const _0x77994a=_0x554c7a[_0x3abb9b(0x1f8)](','),_0x2fff4f=new adm_zip_1[(_0x3abb9b(0x1cc))]();for(const _0x484650 of _0x77994a){await(0x0,fetch_attachments_1[_0x3abb9b(0x1db)])(_0x260875,_0x484650)[_0x3abb9b(0x1e9)](_0x2e226a=>{const _0x3cdfcb=_0x3abb9b;var _0x53ff8d;const _0x34c2d9=new adm_zip_1[(_0x3cdfcb(0x1cc))](_0x2e226a);for(const _0x2d4ac5 of _0x34c2d9[_0x3cdfcb(0x1d4)]()){_0x2fff4f[_0x3cdfcb(0x1f5)](_0x2d4ac5[_0x3cdfcb(0x1e1)],(_0x53ff8d=_0x34c2d9[_0x3cdfcb(0x1e5)](_0x2d4ac5[_0x3cdfcb(0x1e1)]))===null||_0x53ff8d===void 0x0?void 0x0:_0x53ff8d[_0x3cdfcb(0x1d3)]());}});}!await fs_internal_1['FS'][_0x3abb9b(0x1f0)](_0x3abb9b(0x1cb)+_0x21c264)&&await(0x0,promises_1['mkdir'])(_0x3abb9b(0x1cb)+_0x21c264,{'recursive':!![]});await sfdx_utils_2[_0x3abb9b(0x1e7)]['createSFDXProject'](_0x554c7a,_0x21c264),await sfdx_utils_2[_0x3abb9b(0x1e7)][_0x3abb9b(0x1c1)](_0x315de7[_0x3abb9b(0x1d0)],_0x554c7a,_0x21c264);if(_0x2449f0){const _0x353b6e=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x260875,_0x2449f0);_0x2fff4f[_0x3abb9b(0x1f5)](DESTRUCTIVE_CHANGES_POST_NAME,_0x353b6e),await(0x0,promises_1[_0x3abb9b(0x1ee)])(process['cwd']()+_0x3abb9b(0x1e8)+_0x21c264+'/'+DEPLOY_ZIP_NAME,_0x2fff4f[_0x3abb9b(0x1d8)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+'/.temp/'+_0x21c264+'/'+DEPLOY_ZIP_NAME,_0x2fff4f[_0x3abb9b(0x1d8)]());const _0x1dcf14=await deploy(_0x315de7,_0x492af5,_0x21c264);return JSON[_0x3abb9b(0x1d5)](_0x1dcf14)[_0x3abb9b(0x1c7)]['id'];}catch(_0x4d8cab){throw _0x4d8cab;}finally{await(0x0,promises_1['rm'])(path_1[_0x3abb9b(0x1cc)]['join'](process[_0x3abb9b(0x1f1)](),_0x3abb9b(0x1e0),_0x21c264),{'recursive':!![]});}}exports[a84_0x2d45a6(0x1d2)]=deployComponents;function deploy(_0x58bede,_0x3873aa,_0x52ccb7){const _0x2f2a3e=a84_0x2d45a6,_0x5876c7=path_1[_0x2f2a3e(0x1cc)][_0x2f2a3e(0x1b9)](process[_0x2f2a3e(0x1f1)](),_0x2f2a3e(0x1e0),_0x52ccb7,DEPLOY_ZIP_NAME);let _0x87cd9a=_0x2f2a3e(0x1cf)+_0x5876c7+_0x2f2a3e(0x1bd)+_0x58bede[_0x2f2a3e(0x1ce)];return _0x87cd9a+=_0x3873aa[_0x2f2a3e(0x1dc)]?_0x2f2a3e(0x1da):'',_0x87cd9a+=_0x3873aa[_0x2f2a3e(0x1dd)]?'\x20-l\x20'+_0x3873aa[_0x2f2a3e(0x1dd)]:'',_0x87cd9a+=_0x3873aa[_0x2f2a3e(0x1d9)]?_0x2f2a3e(0x1e3)+_0x3873aa[_0x2f2a3e(0x1d9)]:'',_0x87cd9a+=_0x3873aa[_0x2f2a3e(0x1f7)]?_0x2f2a3e(0x1c2):'',_0x87cd9a+=_0x3873aa[_0x2f2a3e(0x1c3)]?_0x2f2a3e(0x1ea):'',sfdx_utils_1['SFDX'][_0x2f2a3e(0x1b7)]('sfdx',_0x2f2a3e(0x1d7)+_0x87cd9a)['catch'](async _0x88250f=>{const _0x2bfc33=_0x2f2a3e;if(sfdx_utils_2[_0x2bfc33(0x1e7)][_0x2bfc33(0x1c0)](_0x88250f))return _0x58bede['accessToken']=await auth_utils_1[_0x2bfc33(0x1ba)][_0x2bfc33(0x1bf)](_0x58bede[_0x2bfc33(0x1d0)],_0x58bede[_0x2bfc33(0x1f4)],_0x58bede[_0x2bfc33(0x1bc)],_0x58bede[_0x2bfc33(0x1f6)]),deploy(_0x58bede,_0x3873aa,_0x52ccb7);throw _0x88250f;});}