const a83_0x1f90aa=a83_0x97dd;(function(_0x564209,_0x1eaff3){const _0x59fe6a=a83_0x97dd,_0x4035c9=_0x564209();while(!![]){try{const _0x52dd04=parseInt(_0x59fe6a(0x120))/0x1+parseInt(_0x59fe6a(0x11a))/0x2*(parseInt(_0x59fe6a(0x14a))/0x3)+parseInt(_0x59fe6a(0x122))/0x4+-parseInt(_0x59fe6a(0x145))/0x5+parseInt(_0x59fe6a(0x13d))/0x6+-parseInt(_0x59fe6a(0x113))/0x7+parseInt(_0x59fe6a(0x139))/0x8*(-parseInt(_0x59fe6a(0x11e))/0x9);if(_0x52dd04===_0x1eaff3)break;else _0x4035c9['push'](_0x4035c9['shift']());}catch(_0x488575){_0x4035c9['push'](_0x4035c9['shift']());}}}(a83_0x2ea7,0xbcbaf));const a83_0x1f2641=(function(){let _0x5637fd=!![];return function(_0x27c774,_0x4263e7){const _0x46e29e=_0x5637fd?function(){if(_0x4263e7){const _0x2e3870=_0x4263e7['apply'](_0x27c774,arguments);return _0x4263e7=null,_0x2e3870;}}:function(){};return _0x5637fd=![],_0x46e29e;};}()),a83_0x5d6723=a83_0x1f2641(this,function(){const _0x43d559=a83_0x97dd;return a83_0x5d6723[_0x43d559(0x13a)]()[_0x43d559(0x13c)]('(((.+)+)+)+$')[_0x43d559(0x13a)]()['constructor'](a83_0x5d6723)[_0x43d559(0x13c)](_0x43d559(0x128));});function a83_0x97dd(_0x1f70cd,_0x16ad02){const _0x1ac0ab=a83_0x2ea7();return a83_0x97dd=function(_0x5d6723,_0x1f2641){_0x5d6723=_0x5d6723-0x110;let _0x2ea7c4=_0x1ac0ab[_0x5d6723];return _0x2ea7c4;},a83_0x97dd(_0x1f70cd,_0x16ad02);}a83_0x5d6723();'use strict';var __importDefault=this&&this[a83_0x1f90aa(0x11b)]||function(_0x3bddcb){const _0x5194b4=a83_0x1f90aa;return _0x3bddcb&&_0x3bddcb[_0x5194b4(0x14e)]?_0x3bddcb:{'default':_0x3bddcb};};function a83_0x2ea7(){const _0x2f0245=['.temp/','refreshToken','3ayvObS','cwd','deploy.zip','result','__esModule','\x20-c','defineProperty','../../shared/utils/fetch-attachments','entryName','destructiveChangesPost.xml','mkdir','1095003dFwjeg','getEntries','fs/promises','setInstanceUrl','purgeOnDelete','SFDX','getData','1845814LQyKza','__importDefault','parse','getEntry','341712uOrWSQ','then','163402ZqwqQw','split','1176448fOmgwY','instanceUrl','exists','AuthUtils','\x20-l\x20','uuid','(((.+)+)+)+$','writeFile','sfdx','.temp','path','accessToken','clientSecret','fetchAttachmentBody','/.temp/','toBuffer','testLevel','deployComponents','createSFDXProject','join','\x20-u\x20','addFile','spawnPromise','320OAIYZZ','toString','\x20-g','search','6686928ureRtD','default','SFDXUtils','updateAccessToken','../utils/auth.utils','../utils/sfdx.utils','runTests','ignoreWarnings','233605eNRFUz','../../git/internal/fs.internal','\x20-purgeondelete'];a83_0x2ea7=function(){return _0x2f0245;};return a83_0x2ea7();}Object[a83_0x1f90aa(0x150)](exports,a83_0x1f90aa(0x14e),{'value':!![]}),exports[a83_0x1f90aa(0x133)]=void 0x0;const promises_1=require(a83_0x1f90aa(0x115)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a83_0x1f90aa(0x142)),auth_utils_1=require(a83_0x1f90aa(0x141)),path_1=__importDefault(require(a83_0x1f90aa(0x12c))),fs_internal_1=require(a83_0x1f90aa(0x146)),uuid_1=require(a83_0x1f90aa(0x127)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a83_0x1f90aa(0x151)),DESTRUCTIVE_CHANGES_POST_NAME=a83_0x1f90aa(0x111),DEPLOY_ZIP_NAME=a83_0x1f90aa(0x14c);async function deployComponents({attachmentId:_0x593834,credentials:_0x35c365,postDestructiveAttachmentId:_0x31c764,deployOptions:_0x27e263},_0x236426){const _0x1a4430=a83_0x1f90aa,_0x1aa02d=(0x0,uuid_1['v4'])();try{const _0x51a209=_0x593834[_0x1a4430(0x121)](','),_0x131e00=new adm_zip_1[(_0x1a4430(0x13e))]();for(const _0x31215d of _0x51a209){await(0x0,fetch_attachments_1[_0x1a4430(0x12f)])(_0x236426,_0x31215d)[_0x1a4430(0x11f)](_0x3b2c2b=>{const _0xfd0699=_0x1a4430;var _0x5539a3;const _0x4f558f=new adm_zip_1[(_0xfd0699(0x13e))](_0x3b2c2b);for(const _0x46f0ab of _0x4f558f[_0xfd0699(0x114)]()){_0x131e00[_0xfd0699(0x137)](_0x46f0ab[_0xfd0699(0x110)],(_0x5539a3=_0x4f558f[_0xfd0699(0x11d)](_0x46f0ab['entryName']))===null||_0x5539a3===void 0x0?void 0x0:_0x5539a3[_0xfd0699(0x119)]());}});}!await fs_internal_1['FS'][_0x1a4430(0x124)](_0x1a4430(0x148)+_0x1aa02d)&&await(0x0,promises_1[_0x1a4430(0x112)])(_0x1a4430(0x148)+_0x1aa02d,{'recursive':!![]});await sfdx_utils_2[_0x1a4430(0x13f)][_0x1a4430(0x134)](_0x593834,_0x1aa02d),await sfdx_utils_2[_0x1a4430(0x13f)][_0x1a4430(0x116)](_0x35c365[_0x1a4430(0x123)],_0x593834,_0x1aa02d);if(_0x31c764){const _0x223e2b=await(0x0,fetch_attachments_1[_0x1a4430(0x12f)])(_0x236426,_0x31c764);_0x131e00[_0x1a4430(0x137)](DESTRUCTIVE_CHANGES_POST_NAME,_0x223e2b),await(0x0,promises_1[_0x1a4430(0x129)])(process[_0x1a4430(0x14b)]()+'/.temp/'+_0x1aa02d+'/'+DEPLOY_ZIP_NAME,_0x131e00[_0x1a4430(0x131)]());}else await(0x0,promises_1[_0x1a4430(0x129)])(process[_0x1a4430(0x14b)]()+_0x1a4430(0x130)+_0x1aa02d+'/'+DEPLOY_ZIP_NAME,_0x131e00['toBuffer']());const _0x43dd1e=await deploy(_0x35c365,_0x27e263,_0x1aa02d);return JSON[_0x1a4430(0x11c)](_0x43dd1e)[_0x1a4430(0x14d)]['id'];}catch(_0x2ce35f){throw _0x2ce35f;}finally{await(0x0,promises_1['rm'])(path_1[_0x1a4430(0x13e)][_0x1a4430(0x135)](process[_0x1a4430(0x14b)](),'.temp',_0x1aa02d),{'recursive':!![]});}}exports[a83_0x1f90aa(0x133)]=deployComponents;function deploy(_0xce6431,_0xcc4314,_0x7fc75f){const _0x17740c=a83_0x1f90aa,_0x17efe3=path_1[_0x17740c(0x13e)][_0x17740c(0x135)](process['cwd'](),_0x17740c(0x12b),_0x7fc75f,DEPLOY_ZIP_NAME);let _0x1836eb='-f\x20'+_0x17efe3+_0x17740c(0x136)+_0xce6431['accessToken'];return _0x1836eb+=_0xcc4314['checkOnly']?_0x17740c(0x14f):'',_0x1836eb+=_0xcc4314[_0x17740c(0x132)]?_0x17740c(0x126)+_0xcc4314[_0x17740c(0x132)]:'',_0x1836eb+=_0xcc4314[_0x17740c(0x143)]?'\x20-r\x20'+_0xcc4314[_0x17740c(0x143)]:'',_0x1836eb+=_0xcc4314[_0x17740c(0x144)]?_0x17740c(0x13b):'',_0x1836eb+=_0xcc4314[_0x17740c(0x117)]?_0x17740c(0x147):'',sfdx_utils_1[_0x17740c(0x118)][_0x17740c(0x138)](_0x17740c(0x12a),'force:mdapi:deploy\x20--json\x20'+_0x1836eb)['catch'](async _0x16de7b=>{const _0x139229=_0x17740c;if(sfdx_utils_2['SFDXUtils']['isAuthorizationError'](_0x16de7b))return _0xce6431[_0x139229(0x12d)]=await auth_utils_1[_0x139229(0x125)][_0x139229(0x140)](_0xce6431[_0x139229(0x123)],_0xce6431[_0x139229(0x149)],_0xce6431['clientId'],_0xce6431[_0x139229(0x12e)]),deploy(_0xce6431,_0xcc4314,_0x7fc75f);throw _0x16de7b;});}