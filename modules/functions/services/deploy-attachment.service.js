const a84_0x4f813a=a84_0x39b5;(function(_0x2a7de4,_0xa065cd){const _0x1e9d15=a84_0x39b5,_0x3d69de=_0x2a7de4();while(!![]){try{const _0xf43e9c=-parseInt(_0x1e9d15(0x12b))/0x1*(parseInt(_0x1e9d15(0x117))/0x2)+parseInt(_0x1e9d15(0xff))/0x3*(parseInt(_0x1e9d15(0x122))/0x4)+parseInt(_0x1e9d15(0xf9))/0x5*(parseInt(_0x1e9d15(0x126))/0x6)+parseInt(_0x1e9d15(0x130))/0x7*(-parseInt(_0x1e9d15(0x121))/0x8)+parseInt(_0x1e9d15(0xfd))/0x9+parseInt(_0x1e9d15(0x124))/0xa*(parseInt(_0x1e9d15(0x106))/0xb)+parseInt(_0x1e9d15(0x125))/0xc*(parseInt(_0x1e9d15(0xf3))/0xd);if(_0xf43e9c===_0xa065cd)break;else _0x3d69de['push'](_0x3d69de['shift']());}catch(_0x27fcf2){_0x3d69de['push'](_0x3d69de['shift']());}}}(a84_0x5be4,0xc23e2));function a84_0x5be4(){const _0x4a3c42=['split','AuthUtils','toBuffer','createSFDXProject','accessToken','2845SBrEtR','exists','fetchAttachmentBody','\x20-g','2875590RhbKCa','result','3339NDmGdv','.temp/','constructor','addFile','writeFile','cwd','spawn','11bbHTYk','apply','deployComponents','SFDX','/.temp/','toString','search','\x20-u\x20','updateAccessToken','__esModule','mkdir','join','catch','\x20-r\x20','adm-zip','\x20-c','purgeOnDelete','21932bWDDSY','checkOnly','defineProperty','getData','path','instanceUrl','-f\x20','runTests','parse','(((.+)+)+)+$','963656lKPLPc','4996Dbhchm','uuid','352290zEWeDZ','36oiIppF','11958aFCGUM','clientId','setInstanceUrl','.temp','getEntries','118wECyeV','\x20-l\x20','../../git/salesforce/utils/sfdx.utils','../../git/internal/fs.internal','../utils/auth.utils','56qOJdXS','force:mdapi:deploy\x20--json\x20','default','refreshToken','ignoreWarnings','destructiveChangesPost.xml','SFDXUtils','then','__importDefault','testLevel','755599WCFTQV'];a84_0x5be4=function(){return _0x4a3c42;};return a84_0x5be4();}const a84_0x2a228a=(function(){let _0x15a4e3=!![];return function(_0x5df2fe,_0x499a2f){const _0xc4cdc7=_0x15a4e3?function(){const _0x55376a=a84_0x39b5;if(_0x499a2f){const _0x559dd7=_0x499a2f[_0x55376a(0x107)](_0x5df2fe,arguments);return _0x499a2f=null,_0x559dd7;}}:function(){};return _0x15a4e3=![],_0xc4cdc7;};}()),a84_0x484fb0=a84_0x2a228a(this,function(){const _0x418b7e=a84_0x39b5;return a84_0x484fb0[_0x418b7e(0x10b)]()['search'](_0x418b7e(0x120))[_0x418b7e(0x10b)]()[_0x418b7e(0x101)](a84_0x484fb0)[_0x418b7e(0x10c)](_0x418b7e(0x120));});a84_0x484fb0();'use strict';var __importDefault=this&&this[a84_0x4f813a(0xf1)]||function(_0x3cd853){const _0x47fdf3=a84_0x4f813a;return _0x3cd853&&_0x3cd853[_0x47fdf3(0x10f)]?_0x3cd853:{'default':_0x3cd853};};Object[a84_0x4f813a(0x119)](exports,a84_0x4f813a(0x10f),{'value':!![]}),exports[a84_0x4f813a(0x108)]=void 0x0;function a84_0x39b5(_0x205ecc,_0x3221db){const _0x192481=a84_0x5be4();return a84_0x39b5=function(_0x484fb0,_0x2a228a){_0x484fb0=_0x484fb0-0xeb;let _0x5be44e=_0x192481[_0x484fb0];return _0x5be44e;},a84_0x39b5(_0x205ecc,_0x3221db);}const promises_1=require('fs/promises'),sfdx_utils_1=require(a84_0x4f813a(0x12d)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x4f813a(0x12f)),path_1=__importDefault(require(a84_0x4f813a(0x11b))),fs_internal_1=require(a84_0x4f813a(0x12e)),uuid_1=require(a84_0x4f813a(0x123)),adm_zip_1=__importDefault(require(a84_0x4f813a(0x114))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x4f813a(0xee),DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0x37e4ca,credentials:_0x1be511,postDestructiveAttachmentId:_0x271871,deployOptions:_0x248ac4},_0x55bf94){const _0x33a885=a84_0x4f813a,_0x12765f=(0x0,uuid_1['v4'])();try{const _0x2da828=_0x37e4ca[_0x33a885(0xf4)](','),_0x2703b8=new adm_zip_1[(_0x33a885(0xeb))]();for(const _0x51f28e of _0x2da828){await(0x0,fetch_attachments_1[_0x33a885(0xfb)])(_0x55bf94,_0x51f28e)[_0x33a885(0xf0)](_0x193105=>{const _0x5127a7=_0x33a885;var _0x18391b;const _0x47cb45=new adm_zip_1['default'](_0x193105);for(const _0x46286c of _0x47cb45[_0x5127a7(0x12a)]()){_0x2703b8[_0x5127a7(0x102)](_0x46286c['entryName'],(_0x18391b=_0x47cb45['getEntry'](_0x46286c['entryName']))===null||_0x18391b===void 0x0?void 0x0:_0x18391b[_0x5127a7(0x11a)]());}});}!await fs_internal_1['FS'][_0x33a885(0xfa)](_0x33a885(0x100)+_0x12765f)&&await(0x0,promises_1[_0x33a885(0x110)])(_0x33a885(0x100)+_0x12765f,{'recursive':!![]});await sfdx_utils_2[_0x33a885(0xef)][_0x33a885(0xf7)](_0x37e4ca,_0x12765f),await sfdx_utils_2[_0x33a885(0xef)][_0x33a885(0x128)](_0x1be511[_0x33a885(0x11c)],_0x37e4ca,_0x12765f);if(_0x271871){const _0x97f7fb=await(0x0,fetch_attachments_1[_0x33a885(0xfb)])(_0x55bf94,_0x271871);_0x2703b8[_0x33a885(0x102)](DESTRUCTIVE_CHANGES_POST_NAME,_0x97f7fb),await(0x0,promises_1[_0x33a885(0x103)])(process[_0x33a885(0x104)]()+_0x33a885(0x10a)+_0x12765f+'/'+DEPLOY_ZIP_NAME,_0x2703b8[_0x33a885(0xf6)]());}else await(0x0,promises_1['writeFile'])(process[_0x33a885(0x104)]()+_0x33a885(0x10a)+_0x12765f+'/'+DEPLOY_ZIP_NAME,_0x2703b8[_0x33a885(0xf6)]());const _0x15aa94=await deploy(_0x1be511,_0x248ac4,_0x12765f);return JSON[_0x33a885(0x11f)](_0x15aa94)[_0x33a885(0xfe)]['id'];}catch(_0x259785){throw _0x259785;}finally{await(0x0,promises_1['rm'])(path_1[_0x33a885(0xeb)]['join'](process['cwd'](),_0x33a885(0x129),_0x12765f),{'recursive':!![]});}}exports[a84_0x4f813a(0x108)]=deployComponents;function deploy(_0x5db16a,_0x5f1041,_0x4530d4){const _0x4805b5=a84_0x4f813a,_0x21772e=path_1[_0x4805b5(0xeb)][_0x4805b5(0x111)](process['cwd'](),'.temp',_0x4530d4,DEPLOY_ZIP_NAME);let _0x35355c=_0x4805b5(0x11d)+_0x21772e+_0x4805b5(0x10d)+_0x5db16a[_0x4805b5(0xf8)];return _0x35355c+=_0x5f1041[_0x4805b5(0x118)]?_0x4805b5(0x115):'',_0x35355c+=_0x5f1041[_0x4805b5(0xf2)]?_0x4805b5(0x12c)+_0x5f1041[_0x4805b5(0xf2)]:'',_0x35355c+=_0x5f1041[_0x4805b5(0x11e)]?_0x4805b5(0x113)+_0x5f1041['runTests']:'',_0x35355c+=_0x5f1041[_0x4805b5(0xed)]?_0x4805b5(0xfc):'',_0x35355c+=_0x5f1041[_0x4805b5(0x116)]?'\x20-purgeondelete':'',sfdx_utils_1[_0x4805b5(0x109)][_0x4805b5(0x105)](_0x4805b5(0x131)+_0x35355c)[_0x4805b5(0x112)](async _0x4dc3e2=>{const _0x2b923e=_0x4805b5;if(sfdx_utils_2[_0x2b923e(0xef)]['isAuthorizationError'](_0x4dc3e2))return _0x5db16a[_0x2b923e(0xf8)]=await auth_utils_1[_0x2b923e(0xf5)][_0x2b923e(0x10e)](_0x5db16a[_0x2b923e(0x11c)],_0x5db16a[_0x2b923e(0xec)],_0x5db16a[_0x2b923e(0x127)],_0x5db16a['clientSecret']),deploy(_0x5db16a,_0x5f1041,_0x4530d4);throw _0x4dc3e2;});}