const a103_0x2df249=a103_0x387d;(function(_0x66389f,_0x381e45){const _0x4e6df2=a103_0x387d,_0x440abc=_0x66389f();while(!![]){try{const _0x88c488=-parseInt(_0x4e6df2(0xdc))/0x1+parseInt(_0x4e6df2(0xe3))/0x2*(-parseInt(_0x4e6df2(0xf2))/0x3)+parseInt(_0x4e6df2(0xef))/0x4*(-parseInt(_0x4e6df2(0xe8))/0x5)+parseInt(_0x4e6df2(0xdf))/0x6*(parseInt(_0x4e6df2(0xd8))/0x7)+parseInt(_0x4e6df2(0xea))/0x8*(-parseInt(_0x4e6df2(0xf7))/0x9)+-parseInt(_0x4e6df2(0x104))/0xa+parseInt(_0x4e6df2(0x10a))/0xb*(parseInt(_0x4e6df2(0xf1))/0xc);if(_0x88c488===_0x381e45)break;else _0x440abc['push'](_0x440abc['shift']());}catch(_0x5f6d33){_0x440abc['push'](_0x440abc['shift']());}}}(a103_0x5554,0xa66fe));const a103_0x68ce44=(function(){let _0xcac97e=!![];return function(_0x6cfc2a,_0x5b7052){const _0x46107a=_0xcac97e?function(){const _0x1da372=a103_0x387d;if(_0x5b7052){const _0x538357=_0x5b7052[_0x1da372(0x106)](_0x6cfc2a,arguments);return _0x5b7052=null,_0x538357;}}:function(){};return _0xcac97e=![],_0x46107a;};}()),a103_0x5d25f2=a103_0x68ce44(this,function(){const _0x5b3a12=a103_0x387d;return a103_0x5d25f2[_0x5b3a12(0xf8)]()[_0x5b3a12(0xe6)](_0x5b3a12(0xfd))[_0x5b3a12(0xf8)]()[_0x5b3a12(0xed)](a103_0x5d25f2)['search'](_0x5b3a12(0xfd));});a103_0x5d25f2();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x328f7d){return _0x328f7d&&_0x328f7d['__esModule']?_0x328f7d:{'default':_0x328f7d};};function a103_0x5554(){const _0x264859=['129972WjDqzJ','4356icXoHM','utf8','autoUpdatePackage','substring','then','1125jqTrqv','toString','getData','test','replace','performRetrieve','(((.+)+)+)+$','length','toBuffer','checkOnly','entryName','singlePackage','defineProperty','3276530gPbPxO','destructiveChangesPost.xml','apply','addFile','push','name','3619OCxbEO','rollbackOnError','27321ernoLm','split','adm-zip','testLevel','1275804FEsksu','../../shared/utils/fetch-attachments','purgeOnDelete','18HEQJKt','RunIncludedTests','getEntries','deployComponents','410zJbEOK','getEntry','RunSpecifiedTests','search','DeploySoapCommand','50ALPCZU','lastIndexOf','2664BksGWG','__esModule','runTests','constructor','fetchAttachmentBody','380256VyPppp','default'];a103_0x5554=function(){return _0x264859;};return a103_0x5554();}Object[a103_0x2df249(0x103)](exports,a103_0x2df249(0xeb),{'value':!![]}),exports['deployComponents']=void 0x0;const adm_zip_1=__importDefault(require(a103_0x2df249(0xda))),fetch_attachments_1=require(a103_0x2df249(0xdd)),salesforce_1=require('@flosum/salesforce'),DESTRUCTIVE_CHANGES_POST_NAME=a103_0x2df249(0x105);function a103_0x387d(_0x14cbd9,_0x43b1ee){const _0x330b16=a103_0x5554();return a103_0x387d=function(_0x5d25f2,_0x68ce44){_0x5d25f2=_0x5d25f2-0xd8;let _0x5554a9=_0x330b16[_0x5d25f2];return _0x5554a9;},a103_0x387d(_0x14cbd9,_0x43b1ee);}async function deployComponents({attachmentId:_0x8fc8cc,postDestructiveAttachmentId:_0x4a661a,deployOptions:_0x322014,apiVersion:_0x35dc23},_0x139c45,_0x4acfa1){const _0x5003e3=a103_0x2df249;try{const _0x44f1d7=_0x8fc8cc[_0x5003e3(0xd9)](','),_0x5cfb04=new adm_zip_1[(_0x5003e3(0xf0))](),_0xe3e462=[];for(const _0x3da66d of _0x44f1d7){await(0x0,fetch_attachments_1[_0x5003e3(0xee)])(_0x139c45,_0x3da66d)[_0x5003e3(0xf6)](_0x4b7d3b=>{const _0x4f32bb=_0x5003e3;var _0x25f1ba;const _0x502af7=new adm_zip_1['default'](_0x4b7d3b);for(const _0x27ddd7 of _0x502af7[_0x4f32bb(0xe1)]()){if(_0x322014['testLevel']===_0x4f32bb(0xe0)){const _0x30b6eb=getTestClassName(_0x27ddd7);_0x30b6eb!=''&&_0xe3e462[_0x4f32bb(0x108)](_0x30b6eb);}_0x5cfb04[_0x4f32bb(0x107)](_0x27ddd7[_0x4f32bb(0x101)],(_0x25f1ba=_0x502af7[_0x4f32bb(0xe4)](_0x27ddd7[_0x4f32bb(0x101)]))===null||_0x25f1ba===void 0x0?void 0x0:_0x25f1ba[_0x4f32bb(0xf9)]());}});}_0x322014[_0x5003e3(0xdb)]===_0x5003e3(0xe0)&&(_0xe3e462[_0x5003e3(0xfe)]>0x0?(_0x322014[_0x5003e3(0xdb)]=_0x5003e3(0xe5),_0x322014[_0x5003e3(0xec)]=_0xe3e462):_0x322014[_0x5003e3(0xdb)]='');if(_0x4a661a){const _0x5cbca4=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x139c45,_0x4a661a);_0x5cfb04['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x5cbca4);}const _0x34a3ac={'checkOnly':_0x322014[_0x5003e3(0x100)],'singlePackage':_0x322014[_0x5003e3(0x102)],'allowMissingFiles':_0x322014['allowMissingFiles'],'autoUpdatePackage':_0x322014[_0x5003e3(0xf4)],'ignoreWarnings':_0x322014['ignoreWarnings'],'performRetrieve':_0x322014[_0x5003e3(0xfc)],'purgeOnDelete':_0x322014[_0x5003e3(0xde)],'rollbackOnError':_0x322014[_0x5003e3(0x10b)]};_0x322014[_0x5003e3(0xdb)]&&(_0x34a3ac['testLevel']=_0x322014[_0x5003e3(0xdb)]);_0x322014[_0x5003e3(0xec)]&&(_0x34a3ac[_0x5003e3(0xec)]=_0x322014[_0x5003e3(0xec)]);const _0x3d51cc={'apiVersion':_0x35dc23,'file':_0x5cfb04[_0x5003e3(0xff)]()[_0x5003e3(0xf8)]('base64'),'deployOptions':_0x34a3ac},_0x4a072b=await new salesforce_1[(_0x5003e3(0xe7))](_0x3d51cc)['request'](_0x4acfa1);return _0x4a072b['id'];}catch(_0xfcc60b){throw _0xfcc60b;}}exports[a103_0x2df249(0xe2)]=deployComponents;function getTestClassName(_0x40afab){const _0x244c23=a103_0x2df249;let _0x2c7d1b=_0x40afab[_0x244c23(0xf9)]()[_0x244c23(0xf8)](_0x244c23(0xf3));_0x2c7d1b=_0x2c7d1b[_0x244c23(0xfb)](/\/\/.*|\/\*[\s\S]*?\*\//g,'');const _0x1d29f0=new RegExp('@istest','i');if(_0x1d29f0[_0x244c23(0xfa)](_0x2c7d1b)){const _0x597109=_0x40afab[_0x244c23(0x109)],_0x12e84a=_0x597109[_0x244c23(0xf5)](0x0,_0x597109[_0x244c23(0xe9)]('.'));return _0x12e84a;}return'';}