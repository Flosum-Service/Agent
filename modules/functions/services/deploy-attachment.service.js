const a102_0x5c9f7c=a102_0x549d;function a102_0xbf73(){const _0xc9b0ec=['../../shared/utils/fetch-attachments','\x20-l\x20','refreshToken','../utils/auth.utils','force:mdapi:deploy\x20--json\x20','accessToken','runTests','updateAccessToken','then','SFDXUtils','default','join','AuthUtils','__importDefault','5651424rJGEQv','getEntry','fs/promises','../utils/sfdx.utils','.temp/','519827tQetAf','196626fZNeVJ','11xDdQJb','result','\x20-r\x20','createSFDXProject','deployComponents','.temp','\x20-c','toBuffer','parse','../../git/salesforce/utils/sfdx.utils','setInstanceUrl','addFile','(((.+)+)+)+$','path','mkdir','adm-zip','checkOnly','search','SFDX','2251868hwXunw','exists','writeFile','entryName','isAuthorizationError','toString','14WsJdAK','getData','__esModule','purgeOnDelete','fetchAttachmentBody','146430UOVkWT','11432690syNaSE','40AtYoSQ','../../git/internal/fs.internal','ignoreWarnings','3066145ArEFjI','instanceUrl','testLevel','\x20-g','cwd','defineProperty','apply','clientId','6KKHhzZ','\x20-purgeondelete'];a102_0xbf73=function(){return _0xc9b0ec;};return a102_0xbf73();}(function(_0x31e72a,_0x4be7e6){const _0x3fe572=a102_0x549d,_0x56d565=_0x31e72a();while(!![]){try{const _0x20a735=parseInt(_0x3fe572(0xef))/0x1+parseInt(_0x3fe572(0xea))/0x2*(parseInt(_0x3fe572(0x112))/0x3)+-parseInt(_0x3fe572(0xe4))/0x4+-parseInt(_0x3fe572(0xf4))/0x5*(parseInt(_0x3fe572(0xfc))/0x6)+parseInt(_0x3fe572(0x111))/0x7*(parseInt(_0x3fe572(0xf1))/0x8)+-parseInt(_0x3fe572(0x10c))/0x9+parseInt(_0x3fe572(0xf0))/0xa*(parseInt(_0x3fe572(0x113))/0xb);if(_0x20a735===_0x4be7e6)break;else _0x56d565['push'](_0x56d565['shift']());}catch(_0x3f011a){_0x56d565['push'](_0x56d565['shift']());}}}(a102_0xbf73,0x4d112));const a102_0xfbf95c=(function(){let _0x40e61f=!![];return function(_0x15b70d,_0x4ede75){const _0x248d60=_0x40e61f?function(){const _0x4640ea=a102_0x549d;if(_0x4ede75){const _0x9fc306=_0x4ede75[_0x4640ea(0xfa)](_0x15b70d,arguments);return _0x4ede75=null,_0x9fc306;}}:function(){};return _0x40e61f=![],_0x248d60;};}()),a102_0x2fe195=a102_0xfbf95c(this,function(){const _0x57705b=a102_0x549d;return a102_0x2fe195[_0x57705b(0xe9)]()[_0x57705b(0xe2)](_0x57705b(0x11f))[_0x57705b(0xe9)]()['constructor'](a102_0x2fe195)[_0x57705b(0xe2)](_0x57705b(0x11f));});a102_0x2fe195();'use strict';var __importDefault=this&&this[a102_0x5c9f7c(0x10b)]||function(_0x28b5c4){const _0x2830c6=a102_0x5c9f7c;return _0x28b5c4&&_0x28b5c4[_0x2830c6(0xec)]?_0x28b5c4:{'default':_0x28b5c4};};Object[a102_0x5c9f7c(0xf9)](exports,'__esModule',{'value':!![]}),exports[a102_0x5c9f7c(0x117)]=void 0x0;const promises_1=require(a102_0x5c9f7c(0x10e)),sfdx_utils_1=require(a102_0x5c9f7c(0x11c)),sfdx_utils_2=require(a102_0x5c9f7c(0x10f)),auth_utils_1=require(a102_0x5c9f7c(0x101)),path_1=__importDefault(require(a102_0x5c9f7c(0x120))),fs_internal_1=require(a102_0x5c9f7c(0xf2)),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a102_0x5c9f7c(0x122))),fetch_attachments_1=require(a102_0x5c9f7c(0xfe)),DESTRUCTIVE_CHANGES_POST_NAME='destructiveChangesPost.xml',DEPLOY_ZIP_NAME='deploy.zip';async function deployComponents({attachmentId:_0xfc77a0,credentials:_0xf56348,postDestructiveAttachmentId:_0x3f1224,deployOptions:_0x287eb5},_0x21e989){const _0x49284c=a102_0x5c9f7c,_0x3e7c2e=(0x0,uuid_1['v4'])();try{const _0x266862=_0xfc77a0['split'](','),_0x4e5bc9=new adm_zip_1[(_0x49284c(0x108))]();for(const _0x3cd403 of _0x266862){await(0x0,fetch_attachments_1[_0x49284c(0xee)])(_0x21e989,_0x3cd403)[_0x49284c(0x106)](_0x369987=>{const _0x5cadcb=_0x49284c;var _0x9642c4;const _0x14083f=new adm_zip_1[(_0x5cadcb(0x108))](_0x369987);for(const _0x34851f of _0x14083f['getEntries']()){_0x4e5bc9[_0x5cadcb(0x11e)](_0x34851f[_0x5cadcb(0xe7)],(_0x9642c4=_0x14083f[_0x5cadcb(0x10d)](_0x34851f[_0x5cadcb(0xe7)]))===null||_0x9642c4===void 0x0?void 0x0:_0x9642c4[_0x5cadcb(0xeb)]());}});}!await fs_internal_1['FS'][_0x49284c(0xe5)](_0x49284c(0x110)+_0x3e7c2e)&&await(0x0,promises_1[_0x49284c(0x121)])('.temp/'+_0x3e7c2e,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x49284c(0x116)](_0xfc77a0,_0x3e7c2e),await sfdx_utils_2[_0x49284c(0x107)][_0x49284c(0x11d)](_0xf56348['instanceUrl'],_0xfc77a0,_0x3e7c2e);if(_0x3f1224){const _0x418ac0=await(0x0,fetch_attachments_1[_0x49284c(0xee)])(_0x21e989,_0x3f1224);_0x4e5bc9[_0x49284c(0x11e)](DESTRUCTIVE_CHANGES_POST_NAME,_0x418ac0),await(0x0,promises_1['writeFile'])(process[_0x49284c(0xf8)]()+'/.temp/'+_0x3e7c2e+'/'+DEPLOY_ZIP_NAME,_0x4e5bc9[_0x49284c(0x11a)]());}else await(0x0,promises_1[_0x49284c(0xe6)])(process[_0x49284c(0xf8)]()+'/.temp/'+_0x3e7c2e+'/'+DEPLOY_ZIP_NAME,_0x4e5bc9[_0x49284c(0x11a)]());const _0x5ad260=await deploy(_0xf56348,_0x287eb5,_0x3e7c2e);return JSON[_0x49284c(0x11b)](_0x5ad260)[_0x49284c(0x114)]['id'];}catch(_0x5822d7){throw _0x5822d7;}finally{await(0x0,promises_1['rm'])(path_1[_0x49284c(0x108)][_0x49284c(0x109)](process['cwd'](),_0x49284c(0x118),_0x3e7c2e),{'recursive':!![]});}}function a102_0x549d(_0x1fd0b7,_0x158111){const _0x22f3b3=a102_0xbf73();return a102_0x549d=function(_0x2fe195,_0xfbf95c){_0x2fe195=_0x2fe195-0xe1;let _0xbf73b4=_0x22f3b3[_0x2fe195];return _0xbf73b4;},a102_0x549d(_0x1fd0b7,_0x158111);}exports['deployComponents']=deployComponents;function deploy(_0x7fa81c,_0x4d4aa8,_0x3611c5){const _0x18ce4f=a102_0x5c9f7c,_0x3ac29d=path_1['default']['join'](process[_0x18ce4f(0xf8)](),_0x18ce4f(0x118),_0x3611c5,DEPLOY_ZIP_NAME);let _0x49bff3='-f\x20'+_0x3ac29d+'\x20-u\x20'+_0x7fa81c[_0x18ce4f(0x103)];return _0x49bff3+=_0x4d4aa8[_0x18ce4f(0xe1)]?_0x18ce4f(0x119):'',_0x49bff3+=_0x4d4aa8[_0x18ce4f(0xf6)]?_0x18ce4f(0xff)+_0x4d4aa8[_0x18ce4f(0xf6)]:'',_0x49bff3+=_0x4d4aa8[_0x18ce4f(0x104)]?_0x18ce4f(0x115)+_0x4d4aa8['runTests']:'',_0x49bff3+=_0x4d4aa8[_0x18ce4f(0xf3)]?_0x18ce4f(0xf7):'',_0x49bff3+=_0x4d4aa8[_0x18ce4f(0xed)]?_0x18ce4f(0xfd):'',sfdx_utils_1[_0x18ce4f(0xe3)]['spawn'](_0x18ce4f(0x102)+_0x49bff3)['catch'](async _0x29df36=>{const _0x313964=_0x18ce4f;if(sfdx_utils_2['SFDXUtils'][_0x313964(0xe8)](_0x29df36))return _0x7fa81c[_0x313964(0x103)]=await auth_utils_1[_0x313964(0x10a)][_0x313964(0x105)](_0x7fa81c[_0x313964(0xf5)],_0x7fa81c[_0x313964(0x100)],_0x7fa81c[_0x313964(0xfb)],_0x7fa81c['clientSecret']),deploy(_0x7fa81c,_0x4d4aa8,_0x3611c5);throw _0x29df36;});}