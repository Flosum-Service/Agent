const a84_0x52cd4e=a84_0x2eee;(function(_0x2e5969,_0x1e15f2){const _0x4a7005=a84_0x2eee,_0x5949f3=_0x2e5969();while(!![]){try{const _0x42400a=parseInt(_0x4a7005(0x182))/0x1*(parseInt(_0x4a7005(0x17c))/0x2)+-parseInt(_0x4a7005(0x17e))/0x3+parseInt(_0x4a7005(0x176))/0x4+-parseInt(_0x4a7005(0x177))/0x5*(parseInt(_0x4a7005(0x1a3))/0x6)+-parseInt(_0x4a7005(0x168))/0x7*(parseInt(_0x4a7005(0x18c))/0x8)+-parseInt(_0x4a7005(0x167))/0x9+-parseInt(_0x4a7005(0x172))/0xa*(-parseInt(_0x4a7005(0x18e))/0xb);if(_0x42400a===_0x1e15f2)break;else _0x5949f3['push'](_0x5949f3['shift']());}catch(_0x2b48d2){_0x5949f3['push'](_0x5949f3['shift']());}}}(a84_0x4086,0x8760c));const a84_0x2ea11d=(function(){let _0x31203b=!![];return function(_0x22ee98,_0x2a5669){const _0x1c2388=_0x31203b?function(){const _0x44760b=a84_0x2eee;if(_0x2a5669){const _0x354bcd=_0x2a5669[_0x44760b(0x198)](_0x22ee98,arguments);return _0x2a5669=null,_0x354bcd;}}:function(){};return _0x31203b=![],_0x1c2388;};}()),a84_0x475de7=a84_0x2ea11d(this,function(){const _0x59e9b9=a84_0x2eee;return a84_0x475de7['toString']()[_0x59e9b9(0x184)](_0x59e9b9(0x190))[_0x59e9b9(0x18b)]()['constructor'](a84_0x475de7)['search']('(((.+)+)+)+$');});a84_0x475de7();'use strict';function a84_0x2eee(_0x12b012,_0x75d373){const _0x562091=a84_0x4086();return a84_0x2eee=function(_0x475de7,_0x2ea11d){_0x475de7=_0x475de7-0x167;let _0x408689=_0x562091[_0x475de7];return _0x408689;},a84_0x2eee(_0x12b012,_0x75d373);}var __importDefault=this&&this[a84_0x52cd4e(0x170)]||function(_0x1028df){const _0x39c5ad=a84_0x52cd4e;return _0x1028df&&_0x1028df[_0x39c5ad(0x171)]?_0x1028df:{'default':_0x1028df};};function a84_0x4086(){const _0x118bae=['default','updateAccessToken','4818igWVCp','uuid','2600133GzmmtI','deploy.zip','split','instanceUrl','446hNSDlq','getEntries','search','-f\x20','mkdir','entryName','getData','fetchAttachmentBody','ignoreWarnings','toString','5063208pzbHNY','clientId','649NRyOKV','.temp/','(((.+)+)+)+$','\x20-c','runTests','defineProperty','catch','../../shared/utils/fetch-attachments','toBuffer','testLevel','apply','accessToken','../utils/sfdx.utils','createSFDXProject','clientSecret','\x20-g','.temp','refreshToken','\x20-u\x20','cwd','deployComponents','66qpGGPa','parse','writeFile','/.temp/','SFDXUtils','join','force:mdapi:deploy\x20--json\x20','6792948WRROKh','7qdaanZ','fs/promises','addFile','setInstanceUrl','isAuthorizationError','SFDX','adm-zip','spawn','__importDefault','__esModule','153970dmeZts','\x20-purgeondelete','getEntry','../../git/salesforce/utils/sfdx.utils','3590880LJkqkb','32575kTwabc','path','result'];a84_0x4086=function(){return _0x118bae;};return a84_0x4086();}Object[a84_0x52cd4e(0x193)](exports,a84_0x52cd4e(0x171),{'value':!![]}),exports[a84_0x52cd4e(0x1a2)]=void 0x0;const promises_1=require(a84_0x52cd4e(0x169)),sfdx_utils_1=require(a84_0x52cd4e(0x175)),sfdx_utils_2=require(a84_0x52cd4e(0x19a)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a84_0x52cd4e(0x178))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a84_0x52cd4e(0x17d)),adm_zip_1=__importDefault(require(a84_0x52cd4e(0x16e))),fetch_attachments_1=require(a84_0x52cd4e(0x195)),DESTRUCTIVE_CHANGES_POST_NAME='destructiveChangesPost.xml',DEPLOY_ZIP_NAME=a84_0x52cd4e(0x17f);async function deployComponents({attachmentId:_0x39461f,credentials:_0x5de664,postDestructiveAttachmentId:_0x5b83c1,deployOptions:_0x3fec9c},_0x4921d1){const _0x1548fb=a84_0x52cd4e,_0x38b28d=(0x0,uuid_1['v4'])();try{const _0x380353=_0x39461f[_0x1548fb(0x180)](','),_0x1373e7=new adm_zip_1[(_0x1548fb(0x17a))]();for(const _0x34f2e3 of _0x380353){await(0x0,fetch_attachments_1[_0x1548fb(0x189)])(_0x4921d1,_0x34f2e3)['then'](_0x23b0b3=>{const _0x530e4d=_0x1548fb;var _0x3bd357;const _0x11ee9c=new adm_zip_1[(_0x530e4d(0x17a))](_0x23b0b3);for(const _0x1c89e8 of _0x11ee9c[_0x530e4d(0x183)]()){_0x1373e7[_0x530e4d(0x16a)](_0x1c89e8[_0x530e4d(0x187)],(_0x3bd357=_0x11ee9c[_0x530e4d(0x174)](_0x1c89e8['entryName']))===null||_0x3bd357===void 0x0?void 0x0:_0x3bd357[_0x530e4d(0x188)]());}});}!await fs_internal_1['FS']['exists'](_0x1548fb(0x18f)+_0x38b28d)&&await(0x0,promises_1[_0x1548fb(0x186)])(_0x1548fb(0x18f)+_0x38b28d,{'recursive':!![]});await sfdx_utils_2['SFDXUtils'][_0x1548fb(0x19b)](_0x39461f,_0x38b28d),await sfdx_utils_2[_0x1548fb(0x1a7)][_0x1548fb(0x16b)](_0x5de664['instanceUrl'],_0x39461f,_0x38b28d);if(_0x5b83c1){const _0x1b86e2=await(0x0,fetch_attachments_1[_0x1548fb(0x189)])(_0x4921d1,_0x5b83c1);_0x1373e7[_0x1548fb(0x16a)](DESTRUCTIVE_CHANGES_POST_NAME,_0x1b86e2),await(0x0,promises_1[_0x1548fb(0x1a5)])(process[_0x1548fb(0x1a1)]()+_0x1548fb(0x1a6)+_0x38b28d+'/'+DEPLOY_ZIP_NAME,_0x1373e7[_0x1548fb(0x196)]());}else await(0x0,promises_1[_0x1548fb(0x1a5)])(process['cwd']()+_0x1548fb(0x1a6)+_0x38b28d+'/'+DEPLOY_ZIP_NAME,_0x1373e7[_0x1548fb(0x196)]());const _0x5a5299=await deploy(_0x5de664,_0x3fec9c,_0x38b28d);return JSON[_0x1548fb(0x1a4)](_0x5a5299)[_0x1548fb(0x179)]['id'];}catch(_0x36c3e2){throw _0x36c3e2;}finally{await(0x0,promises_1['rm'])(path_1[_0x1548fb(0x17a)][_0x1548fb(0x1a8)](process[_0x1548fb(0x1a1)](),_0x1548fb(0x19e),_0x38b28d),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x160a69,_0x1c67f8,_0x364854){const _0x19b345=a84_0x52cd4e,_0x2bdd8f=path_1[_0x19b345(0x17a)][_0x19b345(0x1a8)](process[_0x19b345(0x1a1)](),_0x19b345(0x19e),_0x364854,DEPLOY_ZIP_NAME);let _0x52f560=_0x19b345(0x185)+_0x2bdd8f+_0x19b345(0x1a0)+_0x160a69[_0x19b345(0x199)];return _0x52f560+=_0x1c67f8['checkOnly']?_0x19b345(0x191):'',_0x52f560+=_0x1c67f8[_0x19b345(0x197)]?'\x20-l\x20'+_0x1c67f8[_0x19b345(0x197)]:'',_0x52f560+=_0x1c67f8[_0x19b345(0x192)]?'\x20-r\x20'+_0x1c67f8[_0x19b345(0x192)]:'',_0x52f560+=_0x1c67f8[_0x19b345(0x18a)]?_0x19b345(0x19d):'',_0x52f560+=_0x1c67f8['purgeOnDelete']?_0x19b345(0x173):'',sfdx_utils_1[_0x19b345(0x16d)][_0x19b345(0x16f)](_0x19b345(0x1a9)+_0x52f560)[_0x19b345(0x194)](async _0x191570=>{const _0x3d7044=_0x19b345;if(sfdx_utils_2['SFDXUtils'][_0x3d7044(0x16c)](_0x191570))return _0x160a69[_0x3d7044(0x199)]=await auth_utils_1['AuthUtils'][_0x3d7044(0x17b)](_0x160a69[_0x3d7044(0x181)],_0x160a69[_0x3d7044(0x19f)],_0x160a69[_0x3d7044(0x18d)],_0x160a69[_0x3d7044(0x19c)]),deploy(_0x160a69,_0x1c67f8,_0x364854);throw _0x191570;});}