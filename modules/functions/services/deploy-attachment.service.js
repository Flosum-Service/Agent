const a84_0x548245=a84_0x1ae6;(function(_0x136f87,_0x48b8c2){const _0x1ece11=a84_0x1ae6,_0x11632c=_0x136f87();while(!![]){try{const _0x4924d8=-parseInt(_0x1ece11(0x218))/0x1+-parseInt(_0x1ece11(0x226))/0x2+-parseInt(_0x1ece11(0x1f2))/0x3+parseInt(_0x1ece11(0x201))/0x4+-parseInt(_0x1ece11(0x216))/0x5+-parseInt(_0x1ece11(0x21f))/0x6+-parseInt(_0x1ece11(0x20b))/0x7*(-parseInt(_0x1ece11(0x1eb))/0x8);if(_0x4924d8===_0x48b8c2)break;else _0x11632c['push'](_0x11632c['shift']());}catch(_0xf59ee1){_0x11632c['push'](_0x11632c['shift']());}}}(a84_0x42f0,0xe1b93));const a84_0x40b204=(function(){let _0x4affd0=!![];return function(_0x2cda3c,_0x360fde){const _0xdc0fe8=_0x4affd0?function(){const _0x36df18=a84_0x1ae6;if(_0x360fde){const _0x1bc272=_0x360fde[_0x36df18(0x1fb)](_0x2cda3c,arguments);return _0x360fde=null,_0x1bc272;}}:function(){};return _0x4affd0=![],_0xdc0fe8;};}()),a84_0x1ae823=a84_0x40b204(this,function(){const _0x467114=a84_0x1ae6;return a84_0x1ae823[_0x467114(0x214)]()[_0x467114(0x210)](_0x467114(0x208))[_0x467114(0x214)]()['constructor'](a84_0x1ae823)[_0x467114(0x210)](_0x467114(0x208));});function a84_0x42f0(){const _0x30ac14=['then','toBuffer','isAuthorizationError','SFDX','../utils/sfdx.utils','apply','deploy.zip','accessToken','catch','adm-zip','instanceUrl','3310412FtPNqm','destructiveChangesPost.xml','setInstanceUrl','AuthUtils','writeFile','join','\x20-l\x20','(((.+)+)+)+$','spawnPromise','force:mdapi:deploy\x20--json\x20','161QUPgGx','clientId','../../shared/utils/fetch-attachments','cwd','\x20-purgeondelete','search','SFDXUtils','../../git/internal/fs.internal','purgeOnDelete','toString','getEntry','6608315gfvVhR','ignoreWarnings','627309FOgoDv','fs/promises','parse','getEntries','split','../../git/salesforce/utils/sfdx.utils','fetchAttachmentBody','8410098RBuSRr','deployComponents','uuid','\x20-r\x20','__esModule','.temp/','result','1059726AZZcwo','updateAccessToken','-f\x20','runTests','\x20-g','1681096WBntqU','exists','sfdx','entryName','refreshToken','.temp','testLevel','2567019LlJMHY','default','clientSecret','\x20-c'];a84_0x42f0=function(){return _0x30ac14;};return a84_0x42f0();}a84_0x1ae823();'use strict';function a84_0x1ae6(_0x35a641,_0x52eb08){const _0xb01387=a84_0x42f0();return a84_0x1ae6=function(_0x1ae823,_0x40b204){_0x1ae823=_0x1ae823-0x1e8;let _0x42f0e5=_0xb01387[_0x1ae823];return _0x42f0e5;},a84_0x1ae6(_0x35a641,_0x52eb08);}var __importDefault=this&&this['__importDefault']||function(_0x2ccaab){const _0x1232dd=a84_0x1ae6;return _0x2ccaab&&_0x2ccaab[_0x1232dd(0x223)]?_0x2ccaab:{'default':_0x2ccaab};};Object['defineProperty'](exports,a84_0x548245(0x223),{'value':!![]}),exports[a84_0x548245(0x220)]=void 0x0;const promises_1=require(a84_0x548245(0x219)),sfdx_utils_1=require(a84_0x548245(0x21d)),sfdx_utils_2=require(a84_0x548245(0x1fa)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require('path')),fs_internal_1=require(a84_0x548245(0x212)),uuid_1=require(a84_0x548245(0x221)),adm_zip_1=__importDefault(require(a84_0x548245(0x1ff))),fetch_attachments_1=require(a84_0x548245(0x20d)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x548245(0x202),DEPLOY_ZIP_NAME=a84_0x548245(0x1fc);async function deployComponents({attachmentId:_0x5d7693,credentials:_0x3d8ff0,postDestructiveAttachmentId:_0x145c4b,deployOptions:_0x5dca09},_0x276c2f){const _0x1d647a=a84_0x548245,_0x90dfa=(0x0,uuid_1['v4'])();try{const _0x510e7e=_0x5d7693[_0x1d647a(0x21c)](','),_0x2fffe0=new adm_zip_1[(_0x1d647a(0x1f3))]();for(const _0x2d838c of _0x510e7e){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x276c2f,_0x2d838c)[_0x1d647a(0x1f6)](_0x491c17=>{const _0x5948ad=_0x1d647a;var _0x275424;const _0x3cbd41=new adm_zip_1[(_0x5948ad(0x1f3))](_0x491c17);for(const _0x1150ae of _0x3cbd41[_0x5948ad(0x21b)]()){_0x2fffe0['addFile'](_0x1150ae[_0x5948ad(0x1ee)],(_0x275424=_0x3cbd41[_0x5948ad(0x215)](_0x1150ae[_0x5948ad(0x1ee)]))===null||_0x275424===void 0x0?void 0x0:_0x275424['getData']());}});}!await fs_internal_1['FS'][_0x1d647a(0x1ec)](_0x1d647a(0x224)+_0x90dfa)&&await(0x0,promises_1['mkdir'])(_0x1d647a(0x224)+_0x90dfa,{'recursive':!![]});await sfdx_utils_2[_0x1d647a(0x211)]['createSFDXProject'](_0x5d7693,_0x90dfa),await sfdx_utils_2[_0x1d647a(0x211)][_0x1d647a(0x203)](_0x3d8ff0[_0x1d647a(0x200)],_0x5d7693,_0x90dfa);if(_0x145c4b){const _0x11c916=await(0x0,fetch_attachments_1[_0x1d647a(0x21e)])(_0x276c2f,_0x145c4b);_0x2fffe0['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x11c916),await(0x0,promises_1['writeFile'])(process[_0x1d647a(0x20e)]()+'/.temp/'+_0x90dfa+'/'+DEPLOY_ZIP_NAME,_0x2fffe0[_0x1d647a(0x1f7)]());}else await(0x0,promises_1[_0x1d647a(0x205)])(process[_0x1d647a(0x20e)]()+'/.temp/'+_0x90dfa+'/'+DEPLOY_ZIP_NAME,_0x2fffe0[_0x1d647a(0x1f7)]());const _0x35d478=await deploy(_0x3d8ff0,_0x5dca09,_0x90dfa);return JSON[_0x1d647a(0x21a)](_0x35d478)[_0x1d647a(0x225)]['id'];}catch(_0x174314){throw _0x174314;}finally{await(0x0,promises_1['rm'])(path_1[_0x1d647a(0x1f3)][_0x1d647a(0x206)](process[_0x1d647a(0x20e)](),'.temp',_0x90dfa),{'recursive':!![]});}}exports[a84_0x548245(0x220)]=deployComponents;function deploy(_0x45707a,_0x41a4c4,_0x480bfb){const _0x272f59=a84_0x548245,_0x540bc0=path_1[_0x272f59(0x1f3)][_0x272f59(0x206)](process[_0x272f59(0x20e)](),_0x272f59(0x1f0),_0x480bfb,DEPLOY_ZIP_NAME);let _0x2c3425=_0x272f59(0x1e8)+_0x540bc0+'\x20-u\x20'+_0x45707a[_0x272f59(0x1fd)];return _0x2c3425+=_0x41a4c4['checkOnly']?_0x272f59(0x1f5):'',_0x2c3425+=_0x41a4c4['testLevel']?_0x272f59(0x207)+_0x41a4c4[_0x272f59(0x1f1)]:'',_0x2c3425+=_0x41a4c4[_0x272f59(0x1e9)]?_0x272f59(0x222)+_0x41a4c4[_0x272f59(0x1e9)]:'',_0x2c3425+=_0x41a4c4[_0x272f59(0x217)]?_0x272f59(0x1ea):'',_0x2c3425+=_0x41a4c4[_0x272f59(0x213)]?_0x272f59(0x20f):'',sfdx_utils_1[_0x272f59(0x1f9)][_0x272f59(0x209)](_0x272f59(0x1ed),_0x272f59(0x20a)+_0x2c3425)[_0x272f59(0x1fe)](async _0x4f66d4=>{const _0x3346a6=_0x272f59;if(sfdx_utils_2[_0x3346a6(0x211)][_0x3346a6(0x1f8)](_0x4f66d4))return _0x45707a['accessToken']=await auth_utils_1[_0x3346a6(0x204)][_0x3346a6(0x227)](_0x45707a['instanceUrl'],_0x45707a[_0x3346a6(0x1ef)],_0x45707a[_0x3346a6(0x20c)],_0x45707a[_0x3346a6(0x1f4)]),deploy(_0x45707a,_0x41a4c4,_0x480bfb);throw _0x4f66d4;});}