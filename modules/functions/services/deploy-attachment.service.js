const a84_0xc79b7c=a84_0x8173;(function(_0x2995a3,_0x4cc785){const _0x2270c9=a84_0x8173,_0x6a9a7e=_0x2995a3();while(!![]){try{const _0x3484c9=parseInt(_0x2270c9(0x1ee))/0x1+parseInt(_0x2270c9(0x225))/0x2*(parseInt(_0x2270c9(0x1f2))/0x3)+-parseInt(_0x2270c9(0x213))/0x4*(-parseInt(_0x2270c9(0x1f6))/0x5)+parseInt(_0x2270c9(0x20d))/0x6*(parseInt(_0x2270c9(0x1fc))/0x7)+-parseInt(_0x2270c9(0x222))/0x8+parseInt(_0x2270c9(0x227))/0x9+parseInt(_0x2270c9(0x207))/0xa*(-parseInt(_0x2270c9(0x201))/0xb);if(_0x3484c9===_0x4cc785)break;else _0x6a9a7e['push'](_0x6a9a7e['shift']());}catch(_0x3a7bd4){_0x6a9a7e['push'](_0x6a9a7e['shift']());}}}(a84_0x169c,0x4d9d6));const a84_0x60908d=(function(){let _0x5341b0=!![];return function(_0x38b255,_0x34b810){const _0x31d162=_0x5341b0?function(){const _0x45ab1d=a84_0x8173;if(_0x34b810){const _0x39a588=_0x34b810[_0x45ab1d(0x20a)](_0x38b255,arguments);return _0x34b810=null,_0x39a588;}}:function(){};return _0x5341b0=![],_0x31d162;};}()),a84_0x2eef4c=a84_0x60908d(this,function(){const _0x22cd5e=a84_0x8173;return a84_0x2eef4c[_0x22cd5e(0x1ec)]()[_0x22cd5e(0x1f5)]('(((.+)+)+)+$')[_0x22cd5e(0x1ec)]()['constructor'](a84_0x2eef4c)[_0x22cd5e(0x1f5)](_0x22cd5e(0x20f));});function a84_0x169c(){const _0x2a6979=['exists','4514886gCIBrl','getData','deployComponents','toString','destructiveChangesPost.xml','63055jXcRTa','updateAccessToken','refreshToken','ignoreWarnings','1385034UmJqYU','spawn','result','search','110KFoMQK','/.temp/','../../git/salesforce/utils/sfdx.utils','defineProperty','parse','accessToken','14ksjySx','instanceUrl','writeFile','SFDX','adm-zip','891DEXAAn','purgeOnDelete','addFile','mkdir','.temp','.temp/','193680YdSrqx','deploy.zip','isAuthorizationError','apply','createSFDXProject','force:mdapi:deploy\x20--json\x20','1368204hajDvn','SFDXUtils','(((.+)+)+)+$','path','entryName','checkOnly','105028lJGfEz','cwd','-f\x20','clientId','default','\x20-l\x20','testLevel','join','\x20-u\x20','toBuffer','runTests','__esModule','fetchAttachmentBody','getEntry','AuthUtils','1387128LrWmHL','\x20-purgeondelete','../utils/auth.utils','2YUGxYT'];a84_0x169c=function(){return _0x2a6979;};return a84_0x169c();}function a84_0x8173(_0x1c618c,_0x2afa10){const _0x54a594=a84_0x169c();return a84_0x8173=function(_0x2eef4c,_0x60908d){_0x2eef4c=_0x2eef4c-0x1ec;let _0x169c88=_0x54a594[_0x2eef4c];return _0x169c88;},a84_0x8173(_0x1c618c,_0x2afa10);}a84_0x2eef4c();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1868d7){const _0x139420=a84_0x8173;return _0x1868d7&&_0x1868d7[_0x139420(0x21e)]?_0x1868d7:{'default':_0x1868d7};};Object[a84_0xc79b7c(0x1f9)](exports,a84_0xc79b7c(0x21e),{'value':!![]}),exports[a84_0xc79b7c(0x229)]=void 0x0;const promises_1=require('fs/promises'),sfdx_utils_1=require(a84_0xc79b7c(0x1f8)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0xc79b7c(0x224)),path_1=__importDefault(require(a84_0xc79b7c(0x210))),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require('uuid'),adm_zip_1=__importDefault(require(a84_0xc79b7c(0x200))),fetch_attachments_1=require('../../shared/utils/fetch-attachments'),DESTRUCTIVE_CHANGES_POST_NAME=a84_0xc79b7c(0x1ed),DEPLOY_ZIP_NAME=a84_0xc79b7c(0x208);async function deployComponents({attachmentId:_0x1f3d3d,credentials:_0x3c6a8e,postDestructiveAttachmentId:_0x3081f4,deployOptions:_0x5b7e85},_0x3fbcc0){const _0x1404aa=a84_0xc79b7c,_0x453268=(0x0,uuid_1['v4'])();try{const _0x6cc9e2=_0x1f3d3d['split'](','),_0x46334b=new adm_zip_1['default']();for(const _0x5cac2d of _0x6cc9e2){await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x3fbcc0,_0x5cac2d)['then'](_0x2d197e=>{const _0x353e83=a84_0x8173;var _0x8eac6a;const _0x33e456=new adm_zip_1['default'](_0x2d197e);for(const _0x3eed06 of _0x33e456['getEntries']()){_0x46334b[_0x353e83(0x203)](_0x3eed06[_0x353e83(0x211)],(_0x8eac6a=_0x33e456[_0x353e83(0x220)](_0x3eed06[_0x353e83(0x211)]))===null||_0x8eac6a===void 0x0?void 0x0:_0x8eac6a[_0x353e83(0x228)]());}});}!await fs_internal_1['FS'][_0x1404aa(0x226)](_0x1404aa(0x206)+_0x453268)&&await(0x0,promises_1[_0x1404aa(0x204)])(_0x1404aa(0x206)+_0x453268,{'recursive':!![]});await sfdx_utils_2[_0x1404aa(0x20e)][_0x1404aa(0x20b)](_0x1f3d3d,_0x453268),await sfdx_utils_2[_0x1404aa(0x20e)]['setInstanceUrl'](_0x3c6a8e[_0x1404aa(0x1fd)],_0x1f3d3d,_0x453268);if(_0x3081f4){const _0x2c7175=await(0x0,fetch_attachments_1[_0x1404aa(0x21f)])(_0x3fbcc0,_0x3081f4);_0x46334b[_0x1404aa(0x203)](DESTRUCTIVE_CHANGES_POST_NAME,_0x2c7175),await(0x0,promises_1[_0x1404aa(0x1fe)])(process[_0x1404aa(0x214)]()+_0x1404aa(0x1f7)+_0x453268+'/'+DEPLOY_ZIP_NAME,_0x46334b[_0x1404aa(0x21c)]());}else await(0x0,promises_1['writeFile'])(process[_0x1404aa(0x214)]()+_0x1404aa(0x1f7)+_0x453268+'/'+DEPLOY_ZIP_NAME,_0x46334b['toBuffer']());const _0x55f48e=await deploy(_0x3c6a8e,_0x5b7e85,_0x453268);return JSON[_0x1404aa(0x1fa)](_0x55f48e)[_0x1404aa(0x1f4)]['id'];}catch(_0x1f94d){throw _0x1f94d;}finally{await(0x0,promises_1['rm'])(path_1[_0x1404aa(0x217)]['join'](process[_0x1404aa(0x214)](),'.temp',_0x453268),{'recursive':!![]});}}exports['deployComponents']=deployComponents;function deploy(_0x35ef8d,_0x22def2,_0x3010c7){const _0x532320=a84_0xc79b7c,_0x492632=path_1[_0x532320(0x217)][_0x532320(0x21a)](process[_0x532320(0x214)](),_0x532320(0x205),_0x3010c7,DEPLOY_ZIP_NAME);let _0x31d1ba=_0x532320(0x215)+_0x492632+_0x532320(0x21b)+_0x35ef8d[_0x532320(0x1fb)];return _0x31d1ba+=_0x22def2[_0x532320(0x212)]?'\x20-c':'',_0x31d1ba+=_0x22def2[_0x532320(0x219)]?_0x532320(0x218)+_0x22def2[_0x532320(0x219)]:'',_0x31d1ba+=_0x22def2['runTests']?'\x20-r\x20'+_0x22def2[_0x532320(0x21d)]:'',_0x31d1ba+=_0x22def2[_0x532320(0x1f1)]?'\x20-g':'',_0x31d1ba+=_0x22def2[_0x532320(0x202)]?_0x532320(0x223):'',sfdx_utils_1[_0x532320(0x1ff)][_0x532320(0x1f3)](_0x532320(0x20c)+_0x31d1ba)['catch'](async _0x396c14=>{const _0x5e0ea9=_0x532320;if(sfdx_utils_2[_0x5e0ea9(0x20e)][_0x5e0ea9(0x209)](_0x396c14))return _0x35ef8d['accessToken']=await auth_utils_1[_0x5e0ea9(0x221)][_0x5e0ea9(0x1ef)](_0x35ef8d[_0x5e0ea9(0x1fd)],_0x35ef8d[_0x5e0ea9(0x1f0)],_0x35ef8d[_0x5e0ea9(0x216)],_0x35ef8d['clientSecret']),deploy(_0x35ef8d,_0x22def2,_0x3010c7);throw _0x396c14;});}