const a84_0x2de528=a84_0x5056;(function(_0x2e972a,_0x210b9e){const _0x33bbb8=a84_0x5056,_0x1ffb24=_0x2e972a();while(!![]){try{const _0x430f0f=-parseInt(_0x33bbb8(0x13c))/0x1*(-parseInt(_0x33bbb8(0x125))/0x2)+-parseInt(_0x33bbb8(0x12b))/0x3+parseInt(_0x33bbb8(0x129))/0x4*(-parseInt(_0x33bbb8(0x143))/0x5)+-parseInt(_0x33bbb8(0x119))/0x6*(-parseInt(_0x33bbb8(0x139))/0x7)+parseInt(_0x33bbb8(0x107))/0x8*(-parseInt(_0x33bbb8(0x113))/0x9)+parseInt(_0x33bbb8(0x111))/0xa+-parseInt(_0x33bbb8(0x128))/0xb*(-parseInt(_0x33bbb8(0x13f))/0xc);if(_0x430f0f===_0x210b9e)break;else _0x1ffb24['push'](_0x1ffb24['shift']());}catch(_0x24de44){_0x1ffb24['push'](_0x1ffb24['shift']());}}}(a84_0x6cde,0xbb308));function a84_0x6cde(){const _0x3b2fde=['toString','\x20-c','mkdir','7774220BmCTsZ','getEntry','2026818UwERQm','(((.+)+)+)+$','then','addFile','split','/.temp/','93414nsfbVC','apply','\x20-l\x20','ignoreWarnings','testLevel','defineProperty','clientSecret','default','exists','destructiveChangesPost.xml','\x20-purgeondelete','../utils/auth.utils','6MUVdoq','../../git/salesforce/utils/sfdx.utils','fs/promises','6931639tfNjQu','148KvTZNW','createSFDXProject','3967740jCFNWb','toBuffer','purgeOnDelete','catch','SFDXUtils','search','constructor','updateAccessToken','\x20-r\x20','force:mdapi:deploy\x20--json\x20','parse','entryName','deploy.zip','.temp','231rqGWgO','setInstanceUrl','refreshToken','447591TMEkhe','AuthUtils','runTests','12QJAUGh','deployComponents','.temp/','getEntries','6595TFcPfX','instanceUrl','fetchAttachmentBody','isAuthorizationError','uuid','cwd','../../shared/utils/fetch-attachments','40IxMqyl','join','__esModule','clientId','getData','writeFile','-f\x20'];a84_0x6cde=function(){return _0x3b2fde;};return a84_0x6cde();}const a84_0x21e4e8=(function(){let _0x1ae79c=!![];return function(_0x36e811,_0xfe94cb){const _0x2ce041=_0x1ae79c?function(){const _0x17f470=a84_0x5056;if(_0xfe94cb){const _0x3de875=_0xfe94cb[_0x17f470(0x11a)](_0x36e811,arguments);return _0xfe94cb=null,_0x3de875;}}:function(){};return _0x1ae79c=![],_0x2ce041;};}()),a84_0x5661dd=a84_0x21e4e8(this,function(){const _0x12331f=a84_0x5056;return a84_0x5661dd[_0x12331f(0x10e)]()[_0x12331f(0x130)](_0x12331f(0x114))[_0x12331f(0x10e)]()[_0x12331f(0x131)](a84_0x5661dd)[_0x12331f(0x130)]('(((.+)+)+)+$');});a84_0x5661dd();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4b26c2){const _0x1c99ce=a84_0x5056;return _0x4b26c2&&_0x4b26c2[_0x1c99ce(0x109)]?_0x4b26c2:{'default':_0x4b26c2};};Object[a84_0x2de528(0x11e)](exports,a84_0x2de528(0x109),{'value':!![]}),exports[a84_0x2de528(0x140)]=void 0x0;function a84_0x5056(_0x546285,_0x37d0f6){const _0x44d73d=a84_0x6cde();return a84_0x5056=function(_0x5661dd,_0x21e4e8){_0x5661dd=_0x5661dd-0x103;let _0x6cdee5=_0x44d73d[_0x5661dd];return _0x6cdee5;},a84_0x5056(_0x546285,_0x37d0f6);}const promises_1=require(a84_0x2de528(0x127)),sfdx_utils_1=require(a84_0x2de528(0x126)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a84_0x2de528(0x124)),path_1=__importDefault(require('path')),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a84_0x2de528(0x104)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0x2de528(0x106)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x2de528(0x122),DEPLOY_ZIP_NAME=a84_0x2de528(0x137);async function deployComponents({attachmentId:_0x254fec,credentials:_0x26e293,postDestructiveAttachmentId:_0xa1942,deployOptions:_0x220193},_0x4fbada){const _0x58229d=a84_0x2de528,_0x5ebd28=(0x0,uuid_1['v4'])();try{const _0x6268a4=_0x254fec[_0x58229d(0x117)](','),_0x1bd646=new adm_zip_1['default']();for(const _0x31f780 of _0x6268a4){await(0x0,fetch_attachments_1[_0x58229d(0x145)])(_0x4fbada,_0x31f780)[_0x58229d(0x115)](_0x20b251=>{const _0x136139=_0x58229d;var _0x8c9d9b;const _0x51b751=new adm_zip_1[(_0x136139(0x120))](_0x20b251);for(const _0x56bd42 of _0x51b751[_0x136139(0x142)]()){_0x1bd646['addFile'](_0x56bd42['entryName'],(_0x8c9d9b=_0x51b751[_0x136139(0x112)](_0x56bd42[_0x136139(0x136)]))===null||_0x8c9d9b===void 0x0?void 0x0:_0x8c9d9b[_0x136139(0x10b)]());}});}!await fs_internal_1['FS'][_0x58229d(0x121)](_0x58229d(0x141)+_0x5ebd28)&&await(0x0,promises_1[_0x58229d(0x110)])(_0x58229d(0x141)+_0x5ebd28,{'recursive':!![]});await sfdx_utils_2[_0x58229d(0x12f)][_0x58229d(0x12a)](_0x254fec,_0x5ebd28),await sfdx_utils_2[_0x58229d(0x12f)][_0x58229d(0x13a)](_0x26e293[_0x58229d(0x144)],_0x254fec,_0x5ebd28);if(_0xa1942){const _0x866cf7=await(0x0,fetch_attachments_1['fetchAttachmentBody'])(_0x4fbada,_0xa1942);_0x1bd646[_0x58229d(0x116)](DESTRUCTIVE_CHANGES_POST_NAME,_0x866cf7),await(0x0,promises_1[_0x58229d(0x10c)])(process[_0x58229d(0x105)]()+'/.temp/'+_0x5ebd28+'/'+DEPLOY_ZIP_NAME,_0x1bd646[_0x58229d(0x12c)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+_0x58229d(0x118)+_0x5ebd28+'/'+DEPLOY_ZIP_NAME,_0x1bd646[_0x58229d(0x12c)]());const _0x8cead1=await deploy(_0x26e293,_0x220193,_0x5ebd28);return JSON[_0x58229d(0x135)](_0x8cead1)['result']['id'];}catch(_0x344d80){throw _0x344d80;}finally{await(0x0,promises_1['rm'])(path_1[_0x58229d(0x120)][_0x58229d(0x108)](process['cwd'](),_0x58229d(0x138),_0x5ebd28),{'recursive':!![]});}}exports[a84_0x2de528(0x140)]=deployComponents;function deploy(_0x107246,_0x4ffdea,_0x116957){const _0x1c58d2=a84_0x2de528,_0x13539f=path_1[_0x1c58d2(0x120)]['join'](process[_0x1c58d2(0x105)](),_0x1c58d2(0x138),_0x116957,DEPLOY_ZIP_NAME);let _0x56c634=_0x1c58d2(0x10d)+_0x13539f+'\x20-u\x20'+_0x107246['accessToken'];return _0x56c634+=_0x4ffdea['checkOnly']?_0x1c58d2(0x10f):'',_0x56c634+=_0x4ffdea[_0x1c58d2(0x11d)]?_0x1c58d2(0x11b)+_0x4ffdea['testLevel']:'',_0x56c634+=_0x4ffdea[_0x1c58d2(0x13e)]?_0x1c58d2(0x133)+_0x4ffdea['runTests']:'',_0x56c634+=_0x4ffdea[_0x1c58d2(0x11c)]?'\x20-g':'',_0x56c634+=_0x4ffdea[_0x1c58d2(0x12d)]?_0x1c58d2(0x123):'',sfdx_utils_1['SFDX']['spawn'](_0x1c58d2(0x134)+_0x56c634)[_0x1c58d2(0x12e)](async _0x485661=>{const _0x1b03ad=_0x1c58d2;if(sfdx_utils_2[_0x1b03ad(0x12f)][_0x1b03ad(0x103)](_0x485661))return _0x107246['accessToken']=await auth_utils_1[_0x1b03ad(0x13d)][_0x1b03ad(0x132)](_0x107246['instanceUrl'],_0x107246[_0x1b03ad(0x13b)],_0x107246[_0x1b03ad(0x10a)],_0x107246[_0x1b03ad(0x11f)]),deploy(_0x107246,_0x4ffdea,_0x116957);throw _0x485661;});}