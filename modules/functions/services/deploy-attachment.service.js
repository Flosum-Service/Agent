const a85_0x346dbe=a85_0x27af;(function(_0x30620b,_0x23ace2){const _0x2c961e=a85_0x27af,_0x35a234=_0x30620b();while(!![]){try{const _0x215e83=parseInt(_0x2c961e(0x1cc))/0x1*(parseInt(_0x2c961e(0x1db))/0x2)+parseInt(_0x2c961e(0x1d0))/0x3+parseInt(_0x2c961e(0x1e7))/0x4+parseInt(_0x2c961e(0x1bf))/0x5+parseInt(_0x2c961e(0x1d4))/0x6*(-parseInt(_0x2c961e(0x1c5))/0x7)+-parseInt(_0x2c961e(0x1dc))/0x8*(-parseInt(_0x2c961e(0x1fd))/0x9)+-parseInt(_0x2c961e(0x1ea))/0xa*(parseInt(_0x2c961e(0x1e0))/0xb);if(_0x215e83===_0x23ace2)break;else _0x35a234['push'](_0x35a234['shift']());}catch(_0x530bac){_0x35a234['push'](_0x35a234['shift']());}}}(a85_0x2b1e,0x561d9));const a85_0x294559=(function(){let _0x28a6df=!![];return function(_0x5089b9,_0x4453f4){const _0x3a36f1=_0x28a6df?function(){const _0x38a9fb=a85_0x27af;if(_0x4453f4){const _0x24af01=_0x4453f4[_0x38a9fb(0x1e9)](_0x5089b9,arguments);return _0x4453f4=null,_0x24af01;}}:function(){};return _0x28a6df=![],_0x3a36f1;};}()),a85_0xa5d086=a85_0x294559(this,function(){const _0x21bcdc=a85_0x27af;return a85_0xa5d086[_0x21bcdc(0x1f2)]()[_0x21bcdc(0x1ce)](_0x21bcdc(0x1d3))[_0x21bcdc(0x1f2)]()['constructor'](a85_0xa5d086)['search'](_0x21bcdc(0x1d3));});a85_0xa5d086();'use strict';var __importDefault=this&&this[a85_0x346dbe(0x1da)]||function(_0x3bc1f2){const _0x3e18fc=a85_0x346dbe;return _0x3bc1f2&&_0x3bc1f2[_0x3e18fc(0x1eb)]?_0x3bc1f2:{'default':_0x3bc1f2};};Object[a85_0x346dbe(0x1f8)](exports,a85_0x346dbe(0x1eb),{'value':!![]}),exports[a85_0x346dbe(0x1c1)]=void 0x0;const promises_1=require(a85_0x346dbe(0x1fc)),sfdx_utils_1=require(a85_0x346dbe(0x1e5)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require(a85_0x346dbe(0x1cf)),path_1=__importDefault(require('path')),fs_internal_1=require(a85_0x346dbe(0x1d8)),uuid_1=require(a85_0x346dbe(0x1f3)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a85_0x346dbe(0x1c4)),DESTRUCTIVE_CHANGES_POST_NAME=a85_0x346dbe(0x1e3),DEPLOY_ZIP_NAME=a85_0x346dbe(0x1f5);function a85_0x27af(_0x17e442,_0x3cabfd){const _0x3ea17d=a85_0x2b1e();return a85_0x27af=function(_0xa5d086,_0x294559){_0xa5d086=_0xa5d086-0x1be;let _0x2b1eac=_0x3ea17d[_0xa5d086];return _0x2b1eac;},a85_0x27af(_0x17e442,_0x3cabfd);}function a85_0x2b1e(){const _0xdff054=['toString','uuid','ignoreWarnings','deploy.zip','.temp/','runTests','defineProperty','/.temp/','clientSecret','spawn','fs/promises','72aBnKbn','\x20-purgeondelete','getEntry','1249475cZeSqa','createSFDXProject','deployComponents','getData','split','../../shared/utils/fetch-attachments','14HaymoC','fetchAttachmentBody','force:mdapi:deploy\x20--json\x20','\x20-c','exists','then','\x20-l\x20','3FxszLU','\x20-r\x20','search','../utils/auth.utils','1531377ewlFTg','join','writeFile','(((.+)+)+)+$','1413978hqkafu','toBuffer','SFDXUtils','parse','../../git/internal/fs.internal','default','__importDefault','281102LSKpJR','230344xxbzzR','isAuthorizationError','result','entryName','10556777TGWDTU','testLevel','checkOnly','destructiveChangesPost.xml','addFile','../../git/salesforce/utils/sfdx.utils','accessToken','1485644NDsgcW','setInstanceUrl','apply','10hXOXrp','__esModule','refreshToken','\x20-u\x20','SFDX','instanceUrl','.temp','cwd'];a85_0x2b1e=function(){return _0xdff054;};return a85_0x2b1e();}async function deployComponents({attachmentId:_0x47efd3,credentials:_0x4ab964,postDestructiveAttachmentId:_0x2a1f68,deployOptions:_0x1d85b3},_0x2d2172){const _0x378057=a85_0x346dbe,_0x44ef74=(0x0,uuid_1['v4'])();try{const _0x1dcb87=_0x47efd3[_0x378057(0x1c3)](','),_0x55bed6=new adm_zip_1[(_0x378057(0x1d9))]();for(const _0x4553f0 of _0x1dcb87){await(0x0,fetch_attachments_1[_0x378057(0x1c6)])(_0x2d2172,_0x4553f0)[_0x378057(0x1ca)](_0x168e10=>{const _0x22c676=_0x378057;var _0xc188de;const _0x1724ab=new adm_zip_1[(_0x22c676(0x1d9))](_0x168e10);for(const _0x4c79dd of _0x1724ab['getEntries']()){_0x55bed6[_0x22c676(0x1e4)](_0x4c79dd[_0x22c676(0x1df)],(_0xc188de=_0x1724ab[_0x22c676(0x1be)](_0x4c79dd[_0x22c676(0x1df)]))===null||_0xc188de===void 0x0?void 0x0:_0xc188de[_0x22c676(0x1c2)]());}});}!await fs_internal_1['FS'][_0x378057(0x1c9)]('.temp/'+_0x44ef74)&&await(0x0,promises_1['mkdir'])(_0x378057(0x1f6)+_0x44ef74,{'recursive':!![]});await sfdx_utils_2[_0x378057(0x1d6)][_0x378057(0x1c0)](_0x47efd3,_0x44ef74),await sfdx_utils_2[_0x378057(0x1d6)][_0x378057(0x1e8)](_0x4ab964[_0x378057(0x1ef)],_0x47efd3,_0x44ef74);if(_0x2a1f68){const _0x443aaf=await(0x0,fetch_attachments_1[_0x378057(0x1c6)])(_0x2d2172,_0x2a1f68);_0x55bed6[_0x378057(0x1e4)](DESTRUCTIVE_CHANGES_POST_NAME,_0x443aaf),await(0x0,promises_1[_0x378057(0x1d2)])(process['cwd']()+_0x378057(0x1f9)+_0x44ef74+'/'+DEPLOY_ZIP_NAME,_0x55bed6[_0x378057(0x1d5)]());}else await(0x0,promises_1[_0x378057(0x1d2)])(process[_0x378057(0x1f1)]()+'/.temp/'+_0x44ef74+'/'+DEPLOY_ZIP_NAME,_0x55bed6['toBuffer']());const _0x472414=await deploy(_0x4ab964,_0x1d85b3,_0x44ef74);return JSON[_0x378057(0x1d7)](_0x472414)[_0x378057(0x1de)]['id'];}catch(_0x101633){throw _0x101633;}finally{await(0x0,promises_1['rm'])(path_1[_0x378057(0x1d9)]['join'](process['cwd'](),'.temp',_0x44ef74),{'recursive':!![]});}}exports[a85_0x346dbe(0x1c1)]=deployComponents;function deploy(_0x14374c,_0x106146,_0x3c91bb){const _0x5998e4=a85_0x346dbe,_0x3a7118=path_1[_0x5998e4(0x1d9)][_0x5998e4(0x1d1)](process['cwd'](),_0x5998e4(0x1f0),_0x3c91bb,DEPLOY_ZIP_NAME);let _0x3cdc8f='-f\x20'+_0x3a7118+_0x5998e4(0x1ed)+_0x14374c[_0x5998e4(0x1e6)];return _0x3cdc8f+=_0x106146[_0x5998e4(0x1e2)]?_0x5998e4(0x1c8):'',_0x3cdc8f+=_0x106146[_0x5998e4(0x1e1)]?_0x5998e4(0x1cb)+_0x106146['testLevel']:'',_0x3cdc8f+=_0x106146['runTests']?_0x5998e4(0x1cd)+_0x106146[_0x5998e4(0x1f7)]:'',_0x3cdc8f+=_0x106146[_0x5998e4(0x1f4)]?'\x20-g':'',_0x3cdc8f+=_0x106146['purgeOnDelete']?_0x5998e4(0x1fe):'',sfdx_utils_1[_0x5998e4(0x1ee)][_0x5998e4(0x1fb)](_0x5998e4(0x1c7)+_0x3cdc8f)['catch'](async _0x2bbcf7=>{const _0x41c3fd=_0x5998e4;if(sfdx_utils_2[_0x41c3fd(0x1d6)][_0x41c3fd(0x1dd)](_0x2bbcf7))return _0x14374c['accessToken']=await auth_utils_1['AuthUtils']['updateAccessToken'](_0x14374c['instanceUrl'],_0x14374c[_0x41c3fd(0x1ec)],_0x14374c['clientId'],_0x14374c[_0x41c3fd(0x1fa)]),deploy(_0x14374c,_0x106146,_0x3c91bb);throw _0x2bbcf7;});}