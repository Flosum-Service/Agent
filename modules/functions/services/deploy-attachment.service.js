const a84_0xfe0097=a84_0x1915;(function(_0x348597,_0x29e0c0){const _0x440222=a84_0x1915,_0x3a0031=_0x348597();while(!![]){try{const _0x2ebd4c=-parseInt(_0x440222(0xd2))/0x1*(-parseInt(_0x440222(0xf5))/0x2)+-parseInt(_0x440222(0xff))/0x3+parseInt(_0x440222(0xe7))/0x4+parseInt(_0x440222(0xe4))/0x5+-parseInt(_0x440222(0xfc))/0x6*(parseInt(_0x440222(0xeb))/0x7)+-parseInt(_0x440222(0xe9))/0x8+-parseInt(_0x440222(0x104))/0x9*(parseInt(_0x440222(0xe2))/0xa);if(_0x2ebd4c===_0x29e0c0)break;else _0x3a0031['push'](_0x3a0031['shift']());}catch(_0x3a213d){_0x3a0031['push'](_0x3a0031['shift']());}}}(a84_0x43a0,0x78775));const a84_0x1a5812=(function(){let _0x2b93a1=!![];return function(_0x1045b9,_0x228955){const _0x57e513=_0x2b93a1?function(){const _0x26aec5=a84_0x1915;if(_0x228955){const _0x132108=_0x228955[_0x26aec5(0xf0)](_0x1045b9,arguments);return _0x228955=null,_0x132108;}}:function(){};return _0x2b93a1=![],_0x57e513;};}()),a84_0x2c919e=a84_0x1a5812(this,function(){const _0x27ba30=a84_0x1915;return a84_0x2c919e[_0x27ba30(0xe1)]()['search'](_0x27ba30(0xd8))[_0x27ba30(0xe1)]()[_0x27ba30(0x106)](a84_0x2c919e)[_0x27ba30(0x108)]('(((.+)+)+)+$');});a84_0x2c919e();function a84_0x43a0(){const _0x126be1=['clientSecret','__importDefault','accessToken','apply','join','ignoreWarnings','path','then','2kiUiLk','\x20-purgeondelete','purgeOnDelete','runTests','exists','updateAccessToken','refreshToken','216lHGSXE','instanceUrl','split','1094790BwDHUe','SFDXUtils','getEntry','.temp/','fs/promises','9QRbJVd','result','constructor','getEntries','search','defineProperty','uuid','\x20-u\x20','AuthUtils','destructiveChangesPost.xml','isAuthorizationError','testLevel','catch','723111KcVRXD','../../shared/utils/fetch-attachments','fetchAttachmentBody','addFile','/.temp/','cwd','(((.+)+)+)+$','entryName','SFDX','parse','checkOnly','sfdx','\x20-r\x20','deploy.zip','default','toString','3713860BWDfEj','writeFile','3368205AVjWHp','deployComponents','setInstanceUrl','2144756nTwFyT','../../git/salesforce/utils/sfdx.utils','5358880eYgPKQ','\x20-c','6482apktBG','../../git/internal/fs.internal'];a84_0x43a0=function(){return _0x126be1;};return a84_0x43a0();}'use strict';var __importDefault=this&&this[a84_0xfe0097(0xee)]||function(_0x3d5f38){return _0x3d5f38&&_0x3d5f38['__esModule']?_0x3d5f38:{'default':_0x3d5f38};};Object[a84_0xfe0097(0x109)](exports,'__esModule',{'value':!![]}),exports['deployComponents']=void 0x0;function a84_0x1915(_0x44cdf1,_0x2d142e){const _0x2fffab=a84_0x43a0();return a84_0x1915=function(_0x2c919e,_0x1a5812){_0x2c919e=_0x2c919e-0xd1;let _0x43a06e=_0x2fffab[_0x2c919e];return _0x43a06e;},a84_0x1915(_0x44cdf1,_0x2d142e);}const promises_1=require(a84_0xfe0097(0x103)),sfdx_utils_1=require(a84_0xfe0097(0xe8)),sfdx_utils_2=require('../utils/sfdx.utils'),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a84_0xfe0097(0xf3))),fs_internal_1=require(a84_0xfe0097(0xec)),uuid_1=require(a84_0xfe0097(0x10a)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a84_0xfe0097(0xd3)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0xfe0097(0x10d),DEPLOY_ZIP_NAME=a84_0xfe0097(0xdf);async function deployComponents({attachmentId:_0x2171ca,credentials:_0x2a4cab,postDestructiveAttachmentId:_0x578b1c,deployOptions:_0x4d8cc8},_0x5a9504){const _0x268d4=a84_0xfe0097,_0x3f4976=(0x0,uuid_1['v4'])();try{const _0x4bb4c4=_0x2171ca[_0x268d4(0xfe)](','),_0x33fc32=new adm_zip_1['default']();for(const _0xd815b8 of _0x4bb4c4){await(0x0,fetch_attachments_1[_0x268d4(0xd4)])(_0x5a9504,_0xd815b8)[_0x268d4(0xf4)](_0x3a2486=>{const _0x1cd83d=_0x268d4;var _0x45fa06;const _0x17ae69=new adm_zip_1[(_0x1cd83d(0xe0))](_0x3a2486);for(const _0x34503e of _0x17ae69[_0x1cd83d(0x107)]()){_0x33fc32['addFile'](_0x34503e[_0x1cd83d(0xd9)],(_0x45fa06=_0x17ae69[_0x1cd83d(0x101)](_0x34503e[_0x1cd83d(0xd9)]))===null||_0x45fa06===void 0x0?void 0x0:_0x45fa06['getData']());}});}!await fs_internal_1['FS'][_0x268d4(0xf9)](_0x268d4(0x102)+_0x3f4976)&&await(0x0,promises_1['mkdir'])(_0x268d4(0x102)+_0x3f4976,{'recursive':!![]});await sfdx_utils_2[_0x268d4(0x100)]['createSFDXProject'](_0x2171ca,_0x3f4976),await sfdx_utils_2[_0x268d4(0x100)][_0x268d4(0xe6)](_0x2a4cab[_0x268d4(0xfd)],_0x2171ca,_0x3f4976);if(_0x578b1c){const _0x223adb=await(0x0,fetch_attachments_1[_0x268d4(0xd4)])(_0x5a9504,_0x578b1c);_0x33fc32[_0x268d4(0xd5)](DESTRUCTIVE_CHANGES_POST_NAME,_0x223adb),await(0x0,promises_1[_0x268d4(0xe3)])(process[_0x268d4(0xd7)]()+_0x268d4(0xd6)+_0x3f4976+'/'+DEPLOY_ZIP_NAME,_0x33fc32['toBuffer']());}else await(0x0,promises_1['writeFile'])(process['cwd']()+_0x268d4(0xd6)+_0x3f4976+'/'+DEPLOY_ZIP_NAME,_0x33fc32['toBuffer']());const _0x170c21=await deploy(_0x2a4cab,_0x4d8cc8,_0x3f4976);return JSON[_0x268d4(0xdb)](_0x170c21)[_0x268d4(0x105)]['id'];}catch(_0x302565){throw _0x302565;}finally{await(0x0,promises_1['rm'])(path_1[_0x268d4(0xe0)][_0x268d4(0xf1)](process['cwd'](),'.temp',_0x3f4976),{'recursive':!![]});}}exports[a84_0xfe0097(0xe5)]=deployComponents;function deploy(_0x6504,_0x43683c,_0x34690f){const _0x2dca1f=a84_0xfe0097,_0x22ce9a=path_1['default'][_0x2dca1f(0xf1)](process['cwd'](),'.temp',_0x34690f,DEPLOY_ZIP_NAME);let _0x182be8='-f\x20'+_0x22ce9a+_0x2dca1f(0x10b)+_0x6504[_0x2dca1f(0xef)];return _0x182be8+=_0x43683c[_0x2dca1f(0xdc)]?_0x2dca1f(0xea):'',_0x182be8+=_0x43683c[_0x2dca1f(0x10f)]?'\x20-l\x20'+_0x43683c[_0x2dca1f(0x10f)]:'',_0x182be8+=_0x43683c[_0x2dca1f(0xf8)]?_0x2dca1f(0xde)+_0x43683c['runTests']:'',_0x182be8+=_0x43683c[_0x2dca1f(0xf2)]?'\x20-g':'',_0x182be8+=_0x43683c[_0x2dca1f(0xf7)]?_0x2dca1f(0xf6):'',sfdx_utils_1[_0x2dca1f(0xda)]['spawnPromise'](_0x2dca1f(0xdd),'force:mdapi:deploy\x20--json\x20'+_0x182be8)[_0x2dca1f(0xd1)](async _0x1fa579=>{const _0x13d410=_0x2dca1f;if(sfdx_utils_2[_0x13d410(0x100)][_0x13d410(0x10e)](_0x1fa579))return _0x6504[_0x13d410(0xef)]=await auth_utils_1[_0x13d410(0x10c)][_0x13d410(0xfa)](_0x6504[_0x13d410(0xfd)],_0x6504[_0x13d410(0xfb)],_0x6504['clientId'],_0x6504[_0x13d410(0xed)]),deploy(_0x6504,_0x43683c,_0x34690f);throw _0x1fa579;});}