const a84_0x24c64a=a84_0x3de2;(function(_0x8cc5d6,_0x10e428){const _0x33f7ac=a84_0x3de2,_0x3c133c=_0x8cc5d6();while(!![]){try{const _0x46eceb=-parseInt(_0x33f7ac(0xeb))/0x1*(parseInt(_0x33f7ac(0xc8))/0x2)+-parseInt(_0x33f7ac(0xed))/0x3*(-parseInt(_0x33f7ac(0xce))/0x4)+-parseInt(_0x33f7ac(0xc7))/0x5+-parseInt(_0x33f7ac(0xf3))/0x6*(-parseInt(_0x33f7ac(0xe6))/0x7)+-parseInt(_0x33f7ac(0xbf))/0x8+-parseInt(_0x33f7ac(0xde))/0x9*(parseInt(_0x33f7ac(0xd5))/0xa)+parseInt(_0x33f7ac(0xd8))/0xb*(parseInt(_0x33f7ac(0xe5))/0xc);if(_0x46eceb===_0x10e428)break;else _0x3c133c['push'](_0x3c133c['shift']());}catch(_0x10973c){_0x3c133c['push'](_0x3c133c['shift']());}}}(a84_0x5b09,0x31009));const a84_0x4a0c12=(function(){let _0x371279=!![];return function(_0x47977e,_0x516373){const _0x3a4aac=_0x371279?function(){const _0xb7c9a1=a84_0x3de2;if(_0x516373){const _0x40bb15=_0x516373[_0xb7c9a1(0xf9)](_0x47977e,arguments);return _0x516373=null,_0x40bb15;}}:function(){};return _0x371279=![],_0x3a4aac;};}()),a84_0x20c249=a84_0x4a0c12(this,function(){const _0x459c77=a84_0x3de2;return a84_0x20c249['toString']()[_0x459c77(0xf0)](_0x459c77(0xe3))[_0x459c77(0xc2)]()[_0x459c77(0xcf)](a84_0x20c249)[_0x459c77(0xf0)]('(((.+)+)+)+$');});a84_0x20c249();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5ec949){const _0x462664=a84_0x3de2;return _0x5ec949&&_0x5ec949[_0x462664(0xdd)]?_0x5ec949:{'default':_0x5ec949};};function a84_0x3de2(_0x201041,_0x3760a6){const _0x22a51f=a84_0x5b09();return a84_0x3de2=function(_0x20c249,_0x4a0c12){_0x20c249=_0x20c249-0xbd;let _0x5b091d=_0x22a51f[_0x20c249];return _0x5b091d;},a84_0x3de2(_0x201041,_0x3760a6);}function a84_0x5b09(){const _0x4bf5ce=['uuid','\x20-l\x20','mkdir','.temp','196004EvBmrN','constructor','clientId','instanceUrl','\x20-c','../../git/internal/fs.internal','ignoreWarnings','20AnXBIU','result','cwd','5379QCBFqM','addFile','catch','exists','path','__esModule','463203LoGgdj','force:mdapi:deploy\x20--json\x20','getData','getEntries','\x20-r\x20','(((.+)+)+)+$','adm-zip','13524rYAIRQ','7yvGnVP','AuthUtils','\x20-g','\x20-u\x20','runTests','334149CcDOYn','setInstanceUrl','6RfJDkW','createSFDXProject','fetchAttachmentBody','search','\x20-purgeondelete','deployComponents','1733466oIAvrm','clientSecret','../../shared/utils/fetch-attachments','writeFile','toBuffer','default','apply','testLevel','getEntry','deploy.zip','SFDXUtils','checkOnly','isAuthorizationError','parse','entryName','33720LZBZXo','SFDX','/.temp/','toString','accessToken','destructiveChangesPost.xml','fs/promises','../utils/sfdx.utils','1480025foAqlf','2bIPOOV','updateAccessToken'];a84_0x5b09=function(){return _0x4bf5ce;};return a84_0x5b09();}Object['defineProperty'](exports,a84_0x24c64a(0xdd),{'value':!![]}),exports[a84_0x24c64a(0xf2)]=void 0x0;const promises_1=require(a84_0x24c64a(0xc5)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a84_0x24c64a(0xc6)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require(a84_0x24c64a(0xdc))),fs_internal_1=require(a84_0x24c64a(0xd3)),uuid_1=require(a84_0x24c64a(0xca)),adm_zip_1=__importDefault(require(a84_0x24c64a(0xe4))),fetch_attachments_1=require(a84_0x24c64a(0xf5)),DESTRUCTIVE_CHANGES_POST_NAME=a84_0x24c64a(0xc4),DEPLOY_ZIP_NAME=a84_0x24c64a(0xfc);async function deployComponents({attachmentId:_0x326819,credentials:_0xc964fc,postDestructiveAttachmentId:_0x10c07f,deployOptions:_0x214b53},_0x59d65e){const _0x20a0ca=a84_0x24c64a,_0xca9dcc=(0x0,uuid_1['v4'])();try{const _0x36ee92=_0x326819['split'](','),_0x551aab=new adm_zip_1[(_0x20a0ca(0xf8))]();for(const _0x1a23e4 of _0x36ee92){await(0x0,fetch_attachments_1[_0x20a0ca(0xef)])(_0x59d65e,_0x1a23e4)['then'](_0x12dc2=>{const _0x3bf883=_0x20a0ca;var _0xd9e3e;const _0x414171=new adm_zip_1['default'](_0x12dc2);for(const _0x37e3c9 of _0x414171[_0x3bf883(0xe1)]()){_0x551aab[_0x3bf883(0xd9)](_0x37e3c9[_0x3bf883(0xbe)],(_0xd9e3e=_0x414171[_0x3bf883(0xfb)](_0x37e3c9[_0x3bf883(0xbe)]))===null||_0xd9e3e===void 0x0?void 0x0:_0xd9e3e[_0x3bf883(0xe0)]());}});}!await fs_internal_1['FS'][_0x20a0ca(0xdb)]('.temp/'+_0xca9dcc)&&await(0x0,promises_1[_0x20a0ca(0xcc)])('.temp/'+_0xca9dcc,{'recursive':!![]});await sfdx_utils_2[_0x20a0ca(0xfd)][_0x20a0ca(0xee)](_0x326819,_0xca9dcc),await sfdx_utils_2[_0x20a0ca(0xfd)][_0x20a0ca(0xec)](_0xc964fc[_0x20a0ca(0xd1)],_0x326819,_0xca9dcc);if(_0x10c07f){const _0x1d4220=await(0x0,fetch_attachments_1[_0x20a0ca(0xef)])(_0x59d65e,_0x10c07f);_0x551aab['addFile'](DESTRUCTIVE_CHANGES_POST_NAME,_0x1d4220),await(0x0,promises_1['writeFile'])(process[_0x20a0ca(0xd7)]()+'/.temp/'+_0xca9dcc+'/'+DEPLOY_ZIP_NAME,_0x551aab[_0x20a0ca(0xf7)]());}else await(0x0,promises_1[_0x20a0ca(0xf6)])(process[_0x20a0ca(0xd7)]()+_0x20a0ca(0xc1)+_0xca9dcc+'/'+DEPLOY_ZIP_NAME,_0x551aab['toBuffer']());const _0x5ce8a0=await deploy(_0xc964fc,_0x214b53,_0xca9dcc);return JSON[_0x20a0ca(0xbd)](_0x5ce8a0)[_0x20a0ca(0xd6)]['id'];}catch(_0x5bb164){throw _0x5bb164;}finally{await(0x0,promises_1['rm'])(path_1[_0x20a0ca(0xf8)]['join'](process[_0x20a0ca(0xd7)](),'.temp',_0xca9dcc),{'recursive':!![]});}}exports[a84_0x24c64a(0xf2)]=deployComponents;function deploy(_0x560025,_0x7150e9,_0x234591){const _0x521bfa=a84_0x24c64a,_0x33d51d=path_1[_0x521bfa(0xf8)]['join'](process['cwd'](),_0x521bfa(0xcd),_0x234591,DEPLOY_ZIP_NAME);let _0x14b1e1='-f\x20'+_0x33d51d+_0x521bfa(0xe9)+_0x560025[_0x521bfa(0xc3)];return _0x14b1e1+=_0x7150e9[_0x521bfa(0xfe)]?_0x521bfa(0xd2):'',_0x14b1e1+=_0x7150e9[_0x521bfa(0xfa)]?_0x521bfa(0xcb)+_0x7150e9[_0x521bfa(0xfa)]:'',_0x14b1e1+=_0x7150e9[_0x521bfa(0xea)]?_0x521bfa(0xe2)+_0x7150e9[_0x521bfa(0xea)]:'',_0x14b1e1+=_0x7150e9[_0x521bfa(0xd4)]?_0x521bfa(0xe8):'',_0x14b1e1+=_0x7150e9['purgeOnDelete']?_0x521bfa(0xf1):'',sfdx_utils_1[_0x521bfa(0xc0)]['spawnPromise']('sfdx',_0x521bfa(0xdf)+_0x14b1e1)[_0x521bfa(0xda)](async _0x33a64b=>{const _0x1f8b2c=_0x521bfa;if(sfdx_utils_2[_0x1f8b2c(0xfd)][_0x1f8b2c(0xff)](_0x33a64b))return _0x560025[_0x1f8b2c(0xc3)]=await auth_utils_1[_0x1f8b2c(0xe7)][_0x1f8b2c(0xc9)](_0x560025[_0x1f8b2c(0xd1)],_0x560025['refreshToken'],_0x560025[_0x1f8b2c(0xd0)],_0x560025[_0x1f8b2c(0xf4)]),deploy(_0x560025,_0x7150e9,_0x234591);throw _0x33a64b;});}