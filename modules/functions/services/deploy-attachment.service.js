const a102_0x1dbcbc=a102_0x31cc;(function(_0x4e2609,_0x30148c){const _0x4292f3=a102_0x31cc,_0x540a94=_0x4e2609();while(!![]){try{const _0x19854b=-parseInt(_0x4292f3(0x179))/0x1+parseInt(_0x4292f3(0x177))/0x2*(parseInt(_0x4292f3(0x198))/0x3)+-parseInt(_0x4292f3(0x19c))/0x4+-parseInt(_0x4292f3(0x18d))/0x5*(-parseInt(_0x4292f3(0x19e))/0x6)+-parseInt(_0x4292f3(0x193))/0x7+-parseInt(_0x4292f3(0x19b))/0x8*(parseInt(_0x4292f3(0x1a6))/0x9)+-parseInt(_0x4292f3(0x19a))/0xa*(-parseInt(_0x4292f3(0x189))/0xb);if(_0x19854b===_0x30148c)break;else _0x540a94['push'](_0x540a94['shift']());}catch(_0x2c7f45){_0x540a94['push'](_0x540a94['shift']());}}}(a102_0x4b20,0xc0875));const a102_0x5d3fbe=(function(){let _0x16a1f9=!![];return function(_0x1467f2,_0x547197){const _0x36ed95=_0x16a1f9?function(){const _0x4279f4=a102_0x31cc;if(_0x547197){const _0x1d4ed4=_0x547197[_0x4279f4(0x194)](_0x1467f2,arguments);return _0x547197=null,_0x1d4ed4;}}:function(){};return _0x16a1f9=![],_0x36ed95;};}()),a102_0x47ebdc=a102_0x5d3fbe(this,function(){const _0x48080c=a102_0x31cc;return a102_0x47ebdc[_0x48080c(0x1a5)]()[_0x48080c(0x1ad)](_0x48080c(0x19d))[_0x48080c(0x1a5)]()['constructor'](a102_0x47ebdc)['search'](_0x48080c(0x19d));});a102_0x47ebdc();function a102_0x31cc(_0x385a9d,_0x3e85c5){const _0x213b0a=a102_0x4b20();return a102_0x31cc=function(_0x47ebdc,_0x5d3fbe){_0x47ebdc=_0x47ebdc-0x175;let _0x4b20a8=_0x213b0a[_0x47ebdc];return _0x4b20a8;},a102_0x31cc(_0x385a9d,_0x3e85c5);}'use strict';var __importDefault=this&&this[a102_0x1dbcbc(0x197)]||function(_0x1b69b7){const _0x42cb80=a102_0x1dbcbc;return _0x1b69b7&&_0x1b69b7[_0x42cb80(0x199)]?_0x1b69b7:{'default':_0x1b69b7};};function a102_0x4b20(){const _0x14b98e=['purgeOnDelete','\x20-c','cwd','instanceUrl','-f\x20','SFDXUtils','\x20-l\x20','SFDX','deploy.zip','mkdir','checkOnly','join','\x20-u\x20','\x20-purgeondelete','deployComponents','24046esuPxT','defineProperty','destructiveChangesPost.xml','accessToken','5jmgnyb','.temp/','clientSecret','catch','\x20-g','entryName','9071580evxugw','apply','isAuthorizationError','refreshToken','__importDefault','650139yLckPF','__esModule','13290qxTsqn','8AMpdQW','2242516HCCuMG','(((.+)+)+)+$','6440982qnBfqu','/.temp/','default','../../shared/utils/fetch-attachments','uuid','fetchAttachmentBody','split','toString','10914822niplYr','\x20-r\x20','result','toBuffer','updateAccessToken','ignoreWarnings','testLevel','search','../utils/sfdx.utils','getEntries','addFile','fs/promises','clientId','6nRJVkW','AuthUtils','770906izZMtI'];a102_0x4b20=function(){return _0x14b98e;};return a102_0x4b20();}Object[a102_0x1dbcbc(0x18a)](exports,'__esModule',{'value':!![]}),exports[a102_0x1dbcbc(0x188)]=void 0x0;const promises_1=require(a102_0x1dbcbc(0x175)),sfdx_utils_1=require('../../git/salesforce/utils/sfdx.utils'),sfdx_utils_2=require(a102_0x1dbcbc(0x1ae)),auth_utils_1=require('../utils/auth.utils'),path_1=__importDefault(require('path')),fs_internal_1=require('../../git/internal/fs.internal'),uuid_1=require(a102_0x1dbcbc(0x1a2)),adm_zip_1=__importDefault(require('adm-zip')),fetch_attachments_1=require(a102_0x1dbcbc(0x1a1)),DESTRUCTIVE_CHANGES_POST_NAME=a102_0x1dbcbc(0x18b),DEPLOY_ZIP_NAME=a102_0x1dbcbc(0x182);async function deployComponents({attachmentId:_0x43a4b6,credentials:_0x152153,postDestructiveAttachmentId:_0x527594,deployOptions:_0x5d9554},_0x42a094){const _0x39b1e3=a102_0x1dbcbc,_0x4e7d9b=(0x0,uuid_1['v4'])();try{const _0x4ba44a=_0x43a4b6[_0x39b1e3(0x1a4)](','),_0x47d810=new adm_zip_1['default']();for(const _0x300ac4 of _0x4ba44a){await(0x0,fetch_attachments_1[_0x39b1e3(0x1a3)])(_0x42a094,_0x300ac4)['then'](_0x21aa75=>{const _0x5aecce=_0x39b1e3;var _0x3732a5;const _0xb93316=new adm_zip_1[(_0x5aecce(0x1a0))](_0x21aa75);for(const _0x3a5eaa of _0xb93316[_0x5aecce(0x1af)]()){_0x47d810['addFile'](_0x3a5eaa['entryName'],(_0x3732a5=_0xb93316['getEntry'](_0x3a5eaa[_0x5aecce(0x192)]))===null||_0x3732a5===void 0x0?void 0x0:_0x3732a5['getData']());}});}!await fs_internal_1['FS']['exists'](_0x39b1e3(0x18e)+_0x4e7d9b)&&await(0x0,promises_1[_0x39b1e3(0x183)])('.temp/'+_0x4e7d9b,{'recursive':!![]});await sfdx_utils_2['SFDXUtils']['createSFDXProject'](_0x43a4b6,_0x4e7d9b),await sfdx_utils_2[_0x39b1e3(0x17f)]['setInstanceUrl'](_0x152153['instanceUrl'],_0x43a4b6,_0x4e7d9b);if(_0x527594){const _0x3b32c9=await(0x0,fetch_attachments_1[_0x39b1e3(0x1a3)])(_0x42a094,_0x527594);_0x47d810[_0x39b1e3(0x1b0)](DESTRUCTIVE_CHANGES_POST_NAME,_0x3b32c9),await(0x0,promises_1['writeFile'])(process[_0x39b1e3(0x17c)]()+_0x39b1e3(0x19f)+_0x4e7d9b+'/'+DEPLOY_ZIP_NAME,_0x47d810[_0x39b1e3(0x1a9)]());}else await(0x0,promises_1['writeFile'])(process['cwd']()+'/.temp/'+_0x4e7d9b+'/'+DEPLOY_ZIP_NAME,_0x47d810[_0x39b1e3(0x1a9)]());const _0xb04bc6=await deploy(_0x152153,_0x5d9554,_0x4e7d9b);return JSON['parse'](_0xb04bc6)[_0x39b1e3(0x1a8)]['id'];}catch(_0x44a138){throw _0x44a138;}finally{await(0x0,promises_1['rm'])(path_1[_0x39b1e3(0x1a0)][_0x39b1e3(0x185)](process[_0x39b1e3(0x17c)](),'.temp',_0x4e7d9b),{'recursive':!![]});}}exports[a102_0x1dbcbc(0x188)]=deployComponents;function deploy(_0x32f1af,_0x1649c4,_0x276bd8){const _0x511289=a102_0x1dbcbc,_0x368f0=path_1[_0x511289(0x1a0)][_0x511289(0x185)](process[_0x511289(0x17c)](),'.temp',_0x276bd8,DEPLOY_ZIP_NAME);let _0x4f5ed5=_0x511289(0x17e)+_0x368f0+_0x511289(0x186)+_0x32f1af[_0x511289(0x18c)];return _0x4f5ed5+=_0x1649c4[_0x511289(0x184)]?_0x511289(0x17b):'',_0x4f5ed5+=_0x1649c4[_0x511289(0x1ac)]?_0x511289(0x180)+_0x1649c4[_0x511289(0x1ac)]:'',_0x4f5ed5+=_0x1649c4['runTests']?_0x511289(0x1a7)+_0x1649c4['runTests']:'',_0x4f5ed5+=_0x1649c4[_0x511289(0x1ab)]?_0x511289(0x191):'',_0x4f5ed5+=_0x1649c4[_0x511289(0x17a)]?_0x511289(0x187):'',sfdx_utils_1[_0x511289(0x181)]['spawn']('force:mdapi:deploy\x20--json\x20'+_0x4f5ed5)[_0x511289(0x190)](async _0x4e1332=>{const _0x4a5eb4=_0x511289;if(sfdx_utils_2[_0x4a5eb4(0x17f)][_0x4a5eb4(0x195)](_0x4e1332))return _0x32f1af[_0x4a5eb4(0x18c)]=await auth_utils_1[_0x4a5eb4(0x178)][_0x4a5eb4(0x1aa)](_0x32f1af[_0x4a5eb4(0x17d)],_0x32f1af[_0x4a5eb4(0x196)],_0x32f1af[_0x4a5eb4(0x176)],_0x32f1af[_0x4a5eb4(0x18f)]),deploy(_0x32f1af,_0x1649c4,_0x276bd8);throw _0x4e1332;});}