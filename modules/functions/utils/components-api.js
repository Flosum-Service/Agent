const a59_0x4614e1=a59_0x2066;(function(_0x131a79,_0x4f5044){const _0x220204=a59_0x2066,_0x295b77=_0x131a79();while(!![]){try{const _0x1a4bf1=parseInt(_0x220204(0x1d7))/0x1*(-parseInt(_0x220204(0x207))/0x2)+-parseInt(_0x220204(0x1cf))/0x3*(parseInt(_0x220204(0x201))/0x4)+parseInt(_0x220204(0x203))/0x5*(-parseInt(_0x220204(0x1f0))/0x6)+parseInt(_0x220204(0x1e8))/0x7*(-parseInt(_0x220204(0x1d2))/0x8)+parseInt(_0x220204(0x1e4))/0x9*(-parseInt(_0x220204(0x1fd))/0xa)+-parseInt(_0x220204(0x1ee))/0xb*(-parseInt(_0x220204(0x1cc))/0xc)+-parseInt(_0x220204(0x1d0))/0xd*(-parseInt(_0x220204(0x205))/0xe);if(_0x1a4bf1===_0x4f5044)break;else _0x295b77['push'](_0x295b77['shift']());}catch(_0x1082ad){_0x295b77['push'](_0x295b77['shift']());}}}(a59_0x4e4a,0x5e4e0));const a59_0x5b208e=(function(){let _0x486087=!![];return function(_0x2a4672,_0x580566){const _0xa18911=_0x486087?function(){const _0x2a0ece=a59_0x2066;if(_0x580566){const _0x291b0c=_0x580566[_0x2a0ece(0x1e6)](_0x2a4672,arguments);return _0x580566=null,_0x291b0c;}}:function(){};return _0x486087=![],_0xa18911;};}()),a59_0x1d914a=a59_0x5b208e(this,function(){const _0x5c62c3=a59_0x2066;return a59_0x1d914a[_0x5c62c3(0x1d8)]()[_0x5c62c3(0x210)](_0x5c62c3(0x1e5))[_0x5c62c3(0x1d8)]()[_0x5c62c3(0x206)](a59_0x1d914a)[_0x5c62c3(0x210)](_0x5c62c3(0x1e5));});a59_0x1d914a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x579972){return _0x579972&&_0x579972['__esModule']?_0x579972:{'default':_0x579972};};Object[a59_0x4614e1(0x1fc)](exports,a59_0x4614e1(0x20f),{'value':!![]}),exports[a59_0x4614e1(0x1e1)]=exports['MAX_ZIP_SIZE']=void 0x0;const utils_1=require(a59_0x4614e1(0x1df)),constants_1=require(a59_0x4614e1(0x1e7)),flosum_naming_utils_1=require(a59_0x4614e1(0x1ff)),salesforce_request_1=require(a59_0x4614e1(0x1e9)),adm_zip_1=__importDefault(require('adm-zip')),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a59_0x4614e1(0x1d9)];exports[a59_0x4614e1(0x20b)]=0x2100000;class ComponentsApi{static async[a59_0x4614e1(0x1dc)](_0x556847,_0x53b410){const _0x8402db=a59_0x4614e1,_0x36b7f0=[],_0x495b57=(0x0,utils_1[_0x8402db(0x1f1)])(_0x53b410,CHUNK_QUERY_SIZE);for(const _0x2b15c7 of _0x495b57){const _0x498225=_0x8402db(0x1fe)+('\x27'+_0x2b15c7[_0x8402db(0x1f7)](_0x8402db(0x1ed))+'\x27')+')',{data:_0x18a619}=await _0x556847[_0x8402db(0x1da)]('/services/data/'+constants_1[_0x8402db(0x20a)]+_0x8402db(0x1cd),{'params':{'q':_0x498225}});_0x36b7f0['push'](..._0x18a619[_0x8402db(0x1e3)]);}return _0x36b7f0;}static async['fetchComponentsDetailsByComponentsHistory'](_0x23ee4d,_0x3a2062){const _0x1b78e3=a59_0x4614e1,_0x3d26ba=[],_0x52575d=(0x0,utils_1[_0x1b78e3(0x1f1)])(_0x3a2062,CHUNK_QUERY_SIZE);for(const _0x457fc9 of _0x52575d){const _0x5e2614=_0x1b78e3(0x1cb)+constants_1[_0x1b78e3(0x1f8)]+_0x1b78e3(0x1ef)+constants_1[_0x1b78e3(0x1f8)]+_0x1b78e3(0x1d5)+constants_1[_0x1b78e3(0x1f8)]+_0x1b78e3(0x1ef)+constants_1[_0x1b78e3(0x1f8)]+_0x1b78e3(0x1f9)+('\x27'+_0x457fc9['join'](_0x1b78e3(0x1ed))+'\x27')+')',{data:_0x5a4f00}=await _0x23ee4d[_0x1b78e3(0x1da)](_0x1b78e3(0x20d)+constants_1[_0x1b78e3(0x20a)]+_0x1b78e3(0x1cd),{'params':{'q':_0x5e2614}});_0x3d26ba[_0x1b78e3(0x204)](..._0x5a4f00[_0x1b78e3(0x1e3)]);}return _0x3d26ba;}static async[a59_0x4614e1(0x1ea)](_0x207651,_0x190eac,_0x4d3ead){const _0x5da589=a59_0x4614e1,{data:_0x25d4ac}=await _0x207651[_0x5da589(0x20e)](_0x5da589(0x1f2)+salesforce_request_1[_0x5da589(0x1d1)]+_0x5da589(0x1de),{'objectName':_0x5da589(0x1db),'binaryFields':_0x190eac,'recordIds':_0x4d3ead});return _0x25d4ac;}static async[a59_0x4614e1(0x1f6)](_0x1d6bb0,_0x14adfd){const _0x576f61=a59_0x4614e1,{data:_0x50eb38}=await _0x1d6bb0['get']('/services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x14adfd+_0x576f61(0x20c),{'responseType':_0x576f61(0x208)});return _0x50eb38;}static[a59_0x4614e1(0x1dd)](_0x9f66d5){const _0x3ed11f=_0x9f66d5['map'](_0x12bcd0=>{const _0x5bcbdb=a59_0x2066,_0x23007b=(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x12bcd0,['Id',_0x5bcbdb(0x1ce)]);return _0x23007b['Component__r']=(0x0,flosum_naming_utils_1[_0x5bcbdb(0x1fa)])(_0x23007b[_0x5bcbdb(0x1ce)],[_0x5bcbdb(0x1d6),_0x5bcbdb(0x1ec)]),_0x23007b;});return _0x3ed11f;}static async[a59_0x4614e1(0x1f5)](_0x535cc6,_0x2ecadb){const _0x2d7c6f=a59_0x4614e1;let _0x42f01e=0x0,_0x276d6c=0x0,_0x1fbf43=[];const _0x8cef10=[];for(const _0x38b18b of _0x535cc6){if(_0x38b18b[_0x2d7c6f(0x200)]>REST_ATTACHMENT_MAX_SIZE){const _0x434299=await ComponentsApi['fetchAttachmentBody'](_0x2ecadb,_0x38b18b['Id']);_0x8cef10[_0x2d7c6f(0x204)]({'id':_0x38b18b['Id'],'values':{'Body':_0x434299[_0x2d7c6f(0x1d8)](_0x2d7c6f(0x1eb))}});continue;}if(_0x38b18b[_0x2d7c6f(0x200)]+_0x42f01e>REST_ATTACHMENT_MAX_SIZE||_0x276d6c+0x1>=REST_ATTACHMENT_COUNT){const _0x54a163=await ComponentsApi[_0x2d7c6f(0x1ea)](_0x2ecadb,BINARY_FIELDS,_0x1fbf43);_0x8cef10[_0x2d7c6f(0x204)](..._0x54a163),_0x1fbf43=[],_0x42f01e=0x0,_0x276d6c=0x0;}_0x1fbf43[_0x2d7c6f(0x204)](_0x38b18b['Id']),_0x42f01e+=_0x38b18b['BodyLength'],_0x276d6c++;}if(_0x1fbf43[_0x2d7c6f(0x1d4)]){const _0x511d48=await ComponentsApi['fetchAttachments'](_0x2ecadb,BINARY_FIELDS,_0x1fbf43);_0x8cef10[_0x2d7c6f(0x204)](..._0x511d48);}return _0x8cef10;}static async[a59_0x4614e1(0x1e0)](_0x59250b,_0x433b3f){const _0x2304cb=a59_0x4614e1;var _0x94b3d4;const _0x581dfd=_0x59250b[_0x2304cb(0x1d3)]()['filter'](_0xf69324=>!_0xf69324[_0x2304cb(0x1fb)])['sort']((_0x33a43b,_0x488cd7)=>_0x33a43b[_0x2304cb(0x202)]()[_0x2304cb(0x1d4)]>_0x488cd7[_0x2304cb(0x202)]()[_0x2304cb(0x1d4)]?-0x1:0x1),_0x3c3ed4=new adm_zip_1[(_0x2304cb(0x1e2))]();for(const {entryName:_0x3218e2}of _0x581dfd){const _0x367635=(_0x94b3d4=_0x59250b[_0x2304cb(0x1f3)](_0x3218e2))===null||_0x94b3d4===void 0x0?void 0x0:_0x94b3d4[_0x2304cb(0x202)]();_0x3c3ed4[_0x2304cb(0x1ca)](_0x3218e2,_0x367635),_0x59250b[_0x2304cb(0x1f4)](_0x3218e2);if(_0x433b3f-_0x3c3ed4[_0x2304cb(0x209)]()[_0x2304cb(0x1d8)](_0x2304cb(0x1eb))[_0x2304cb(0x1d4)]<exports[_0x2304cb(0x20b)])break;}return[_0x59250b,_0x3c3ed4];}}exports['ComponentsApi']=ComponentsApi;function a59_0x2066(_0x404c99,_0x5da15b){const _0x5d4e2d=a59_0x4e4a();return a59_0x2066=function(_0x1d914a,_0x5b208e){_0x1d914a=_0x1d914a-0x1ca;let _0x4e4abf=_0x5d4e2d[_0x1d914a];return _0x4e4abf;},a59_0x2066(_0x404c99,_0x5da15b);}function a59_0x4e4a(){const _0xf3d605=['2592EvWltv','/query/','Component__r','597FkRWjR','13MsXoef','namespace','136omKFlF','getEntries','length','Component_Name__c,\x20','Component_Name__c','246523WXjpda','toString','Body','get','Attachment','fetchAttachmentsDetails','removeNamespacePrefix','/retrieveAttachments/','../../shared/utils','splitZip','ComponentsApi','default','records','9XfrVmq','(((.+)+)+)+$','apply','../../../constants','57253hMxzlG','./salesforce-request','fetchAttachments','base64','Component_Type__c','\x27,\x27','39072sZvIUL','Component__r.','6XqiENb','chunkArray','/services/apexrest','getEntry','deleteFile','retrieveAttachments','fetchAttachmentBody','join','FLOSUM_NAMESPACE','Component_Type__c\x0a\x20\x20\x20\x20\x20\x20FROM\x20Component_History__c\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20(','extractFieldsFromRecord','isDirectory','defineProperty','2270610XpjVcD','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20(','../../git/salesforce/utils/flosum-naming.utils','BodyLength','10068FzSbyj','getData','2014025lscNdX','push','15894970NUxirY','constructor','2ZRtGIV','arraybuffer','toBuffer','SALESFORCE_API_VERSION','MAX_ZIP_SIZE','/body','/services/data/','post','__esModule','search','addFile','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20'];a59_0x4e4a=function(){return _0xf3d605;};return a59_0x4e4a();}