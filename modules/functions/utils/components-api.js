const a59_0x3a074e=a59_0x101e;(function(_0x52ab59,_0x114e63){const _0x587284=a59_0x101e,_0x45ff5b=_0x52ab59();while(!![]){try{const _0x15796a=parseInt(_0x587284(0x15c))/0x1+-parseInt(_0x587284(0x14d))/0x2*(parseInt(_0x587284(0x165))/0x3)+-parseInt(_0x587284(0x158))/0x4+parseInt(_0x587284(0x146))/0x5*(-parseInt(_0x587284(0x162))/0x6)+-parseInt(_0x587284(0x157))/0x7*(-parseInt(_0x587284(0x14c))/0x8)+-parseInt(_0x587284(0x151))/0x9*(-parseInt(_0x587284(0x16d))/0xa)+parseInt(_0x587284(0x170))/0xb*(-parseInt(_0x587284(0x139))/0xc);if(_0x15796a===_0x114e63)break;else _0x45ff5b['push'](_0x45ff5b['shift']());}catch(_0x1b1abf){_0x45ff5b['push'](_0x45ff5b['shift']());}}}(a59_0x7bfc,0xadd09));function a59_0x7bfc(){const _0x334641=['apply','Component__r','search','getData','splitZip','8751631sQXtrE','1278456muacdv','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20(','\x27,\x27','BodyLength','431650KyDmkM','filter','Component_Type__c\x0a\x20\x20\x20\x20\x20\x20FROM\x20','/sobjects/Attachment/','get','../../git/salesforce/utils/flosum-naming.utils','12396xRGZPZ','chunkArray','/query/','4533qHHqZP','Attachment','__importDefault','toString','sort','join','adm-zip','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','4502770Whwdge','extractFieldsFromRecord','SALESFORCE_API_VERSION','99JJAFcE','post','../../../constants','fetchAttachments','records','toBuffer','Component_Type__c','(((.+)+)+)+$','length','../../shared/utils','ComponentsApi','constructor','__esModule','getEntries','base64','deleteFile','286788gziADq','/body','namespace','removeNamespacePrefix','/services/data/','Component_Name__c,\x20','/retrieveAttachments/','isDirectory','retrieveAttachments','FLOSUM_NAMESPACE','default','Component__r.','fetchAttachmentBody','2410oAEmMe','addFile','arraybuffer','./salesforce-request','Component_History__c\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20(','map','8oMLVOj','450hlgfwg','Body','push','MAX_ZIP_SIZE','18BwwKTs'];a59_0x7bfc=function(){return _0x334641;};return a59_0x7bfc();}const a59_0x2fdc00=(function(){let _0x26e5c1=!![];return function(_0x558e5c,_0x2c0a32){const _0x131d4c=_0x26e5c1?function(){const _0x2e4c9d=a59_0x101e;if(_0x2c0a32){const _0x2f0b1e=_0x2c0a32[_0x2e4c9d(0x152)](_0x558e5c,arguments);return _0x2c0a32=null,_0x2f0b1e;}}:function(){};return _0x26e5c1=![],_0x131d4c;};}()),a59_0xb41e6=a59_0x2fdc00(this,function(){const _0x10dc20=a59_0x101e;return a59_0xb41e6[_0x10dc20(0x168)]()['search'](_0x10dc20(0x130))['toString']()[_0x10dc20(0x134)](a59_0xb41e6)[_0x10dc20(0x154)]('(((.+)+)+)+$');});a59_0xb41e6();'use strict';var __importDefault=this&&this[a59_0x3a074e(0x167)]||function(_0x148f1c){return _0x148f1c&&_0x148f1c['__esModule']?_0x148f1c:{'default':_0x148f1c};};Object['defineProperty'](exports,a59_0x3a074e(0x135),{'value':!![]}),exports[a59_0x3a074e(0x133)]=exports[a59_0x3a074e(0x150)]=void 0x0;const utils_1=require(a59_0x3a074e(0x132)),constants_1=require(a59_0x3a074e(0x172)),flosum_naming_utils_1=require(a59_0x3a074e(0x161)),salesforce_request_1=require(a59_0x3a074e(0x149)),adm_zip_1=__importDefault(require(a59_0x3a074e(0x16b))),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a59_0x3a074e(0x14e)];function a59_0x101e(_0x5dc1e9,_0x4eb95b){const _0x351634=a59_0x7bfc();return a59_0x101e=function(_0xb41e6,_0x2fdc00){_0xb41e6=_0xb41e6-0x12c;let _0x7bfc15=_0x351634[_0xb41e6];return _0x7bfc15;},a59_0x101e(_0x5dc1e9,_0x4eb95b);}exports[a59_0x3a074e(0x150)]=0x2100000;class ComponentsApi{static async['fetchAttachmentsDetails'](_0x567d00,_0x2b3ac4){const _0x13e908=a59_0x3a074e,_0x464d67=[],_0x3d9f57=(0x0,utils_1[_0x13e908(0x163)])(_0x2b3ac4,CHUNK_QUERY_SIZE);for(const _0x49fe56 of _0x3d9f57){const _0x464000=_0x13e908(0x159)+('\x27'+_0x49fe56[_0x13e908(0x16a)](_0x13e908(0x15a))+'\x27')+')',{data:_0x1fab0f}=await _0x567d00[_0x13e908(0x160)](_0x13e908(0x13d)+constants_1[_0x13e908(0x16f)]+_0x13e908(0x164),{'params':{'q':_0x464000}});_0x464d67['push'](..._0x1fab0f[_0x13e908(0x12d)]);}return _0x464d67;}static async['fetchComponentsDetailsByComponentsHistory'](_0x37274f,_0x53e7f9){const _0x4f5dbe=a59_0x3a074e,_0x37b6cd=[],_0x484277=(0x0,utils_1[_0x4f5dbe(0x163)])(_0x53e7f9,CHUNK_QUERY_SIZE);for(const _0x562233 of _0x484277){const _0x15e4cb=_0x4f5dbe(0x16c)+constants_1[_0x4f5dbe(0x142)]+_0x4f5dbe(0x144)+constants_1[_0x4f5dbe(0x142)]+_0x4f5dbe(0x13e)+constants_1[_0x4f5dbe(0x142)]+'Component__r.'+constants_1['FLOSUM_NAMESPACE']+_0x4f5dbe(0x15e)+constants_1['FLOSUM_NAMESPACE']+_0x4f5dbe(0x14a)+('\x27'+_0x562233[_0x4f5dbe(0x16a)](_0x4f5dbe(0x15a))+'\x27')+')',{data:_0x1a8d86}=await _0x37274f[_0x4f5dbe(0x160)](_0x4f5dbe(0x13d)+constants_1[_0x4f5dbe(0x16f)]+'/query/',{'params':{'q':_0x15e4cb}});_0x37b6cd[_0x4f5dbe(0x14f)](..._0x1a8d86[_0x4f5dbe(0x12d)]);}return _0x37b6cd;}static async[a59_0x3a074e(0x12c)](_0x5e43bf,_0x48b089,_0xa59988){const _0x3718de=a59_0x3a074e,{data:_0x28cc3f}=await _0x5e43bf[_0x3718de(0x171)]('/services/apexrest'+salesforce_request_1[_0x3718de(0x13b)]+_0x3718de(0x13f),{'objectName':_0x3718de(0x166),'binaryFields':_0x48b089,'recordIds':_0xa59988});return _0x28cc3f;}static async[a59_0x3a074e(0x145)](_0x4b7b5c,_0x442ac6){const _0x495b15=a59_0x3a074e,{data:_0x14fe7c}=await _0x4b7b5c[_0x495b15(0x160)]('/services/data/'+constants_1[_0x495b15(0x16f)]+_0x495b15(0x15f)+_0x442ac6+_0x495b15(0x13a),{'responseType':_0x495b15(0x148)});return _0x14fe7c;}static[a59_0x3a074e(0x13c)](_0x5d0c2b){const _0x3a962c=a59_0x3a074e,_0x349b01=_0x5d0c2b[_0x3a962c(0x14b)](_0x4db8db=>{const _0x4a539d=_0x3a962c,_0x38fa9c=(0x0,flosum_naming_utils_1[_0x4a539d(0x16e)])(_0x4db8db,['Id','Component__r']);return _0x38fa9c[_0x4a539d(0x153)]=(0x0,flosum_naming_utils_1[_0x4a539d(0x16e)])(_0x38fa9c[_0x4a539d(0x153)],['Component_Name__c',_0x4a539d(0x12f)]),_0x38fa9c;});return _0x349b01;}static async[a59_0x3a074e(0x141)](_0x315a33,_0x1246b7){const _0x1b35a3=a59_0x3a074e;let _0x5355f3=0x0,_0x4ff3ef=0x0,_0x34cb3e=[];const _0x4c816d=[];for(const _0x70c8df of _0x315a33){if(_0x70c8df[_0x1b35a3(0x15b)]>REST_ATTACHMENT_MAX_SIZE){const _0x2d98e3=await ComponentsApi[_0x1b35a3(0x145)](_0x1246b7,_0x70c8df['Id']);_0x4c816d[_0x1b35a3(0x14f)]({'id':_0x70c8df['Id'],'values':{'Body':_0x2d98e3[_0x1b35a3(0x168)](_0x1b35a3(0x137))}});continue;}if(_0x70c8df[_0x1b35a3(0x15b)]+_0x5355f3>REST_ATTACHMENT_MAX_SIZE||_0x4ff3ef+0x1>=REST_ATTACHMENT_COUNT){const _0x1b9c51=await ComponentsApi[_0x1b35a3(0x12c)](_0x1246b7,BINARY_FIELDS,_0x34cb3e);_0x4c816d[_0x1b35a3(0x14f)](..._0x1b9c51),_0x34cb3e=[],_0x5355f3=0x0,_0x4ff3ef=0x0;}_0x34cb3e['push'](_0x70c8df['Id']),_0x5355f3+=_0x70c8df['BodyLength'],_0x4ff3ef++;}if(_0x34cb3e[_0x1b35a3(0x131)]){const _0x24d1b7=await ComponentsApi['fetchAttachments'](_0x1246b7,BINARY_FIELDS,_0x34cb3e);_0x4c816d[_0x1b35a3(0x14f)](..._0x24d1b7);}return _0x4c816d;}static async[a59_0x3a074e(0x156)](_0x54509a,_0x317531){const _0x5d98ce=a59_0x3a074e;var _0x9fc6b2;const _0x5b6b8f=_0x54509a[_0x5d98ce(0x136)]()[_0x5d98ce(0x15d)](_0x6c5542=>!_0x6c5542[_0x5d98ce(0x140)])[_0x5d98ce(0x169)]((_0x3721e8,_0x43cd92)=>_0x3721e8[_0x5d98ce(0x155)]()[_0x5d98ce(0x131)]>_0x43cd92[_0x5d98ce(0x155)]()[_0x5d98ce(0x131)]?-0x1:0x1),_0x2b1e07=new adm_zip_1[(_0x5d98ce(0x143))]();for(const {entryName:_0xd12a1b}of _0x5b6b8f){const _0x290211=(_0x9fc6b2=_0x54509a['getEntry'](_0xd12a1b))===null||_0x9fc6b2===void 0x0?void 0x0:_0x9fc6b2[_0x5d98ce(0x155)]();_0x2b1e07[_0x5d98ce(0x147)](_0xd12a1b,_0x290211),_0x54509a[_0x5d98ce(0x138)](_0xd12a1b);if(_0x317531-_0x2b1e07[_0x5d98ce(0x12e)]()[_0x5d98ce(0x168)](_0x5d98ce(0x137))['length']<exports[_0x5d98ce(0x150)])break;}return[_0x54509a,_0x2b1e07];}}exports[a59_0x3a074e(0x133)]=ComponentsApi;