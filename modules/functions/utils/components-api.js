function a59_0x3aa3(){const _0x1cf943=['576037KprcXN','search','FLOSUM_NAMESPACE','arraybuffer','Component__r','fetchAttachments','push','post','map','/services/data/','Attachment','chunkArray','Body','\x27,\x27','80MAIFRT','843272iCQrCi','addFile','getData','retrieveAttachments','apply','sort','toBuffer','default','extractFieldsFromRecord','/query/','toString','adm-zip','ComponentsApi','get','join','3915frKmoT','586940ZkXGfR','6MFazDh','records','fetchAttachmentBody','160830WPoDBJ','fetchAttachmentsDetails','namespace','/retrieveAttachments/','constructor','8LKcpAT','deleteFile','./salesforce-request','defineProperty','entryName','splitZip','(((.+)+)+)+$','MAX_ZIP_SIZE','Component__r.','/sobjects/Attachment/','filter','base64','length','getEntries','7875504bZmZUU','__importDefault','638rTeeJK','10104zxEkvh','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20Name,\x20BodyLength,\x20ParentId\x0a\x20\x20\x20\x20\x20\x20FROM\x20Attachment\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20(','BodyLength','../../../constants','../../shared/utils','SALESFORCE_API_VERSION','getEntry','3jaBZYE','/services/apexrest','\x0a\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','117zMaJMO','removeNamespacePrefix','Component_Type__c'];a59_0x3aa3=function(){return _0x1cf943;};return a59_0x3aa3();}const a59_0x5db8dc=a59_0x39b3;(function(_0x3a5072,_0x4df010){const _0x1eaaf0=a59_0x39b3,_0x507870=_0x3a5072();while(!![]){try{const _0x49b66a=parseInt(_0x1eaaf0(0x98))/0x1*(-parseInt(_0x1eaaf0(0x88))/0x2)+-parseInt(_0x1eaaf0(0xba))/0x3*(-parseInt(_0x1eaaf0(0x89))/0x4)+parseInt(_0x1eaaf0(0x99))/0x5*(-parseInt(_0x1eaaf0(0x9a))/0x6)+parseInt(_0x1eaaf0(0xc0))/0x7*(-parseInt(_0x1eaaf0(0xa2))/0x8)+-parseInt(_0x1eaaf0(0xbd))/0x9*(parseInt(_0x1eaaf0(0x9d))/0xa)+-parseInt(_0x1eaaf0(0xb2))/0xb*(parseInt(_0x1eaaf0(0xb3))/0xc)+parseInt(_0x1eaaf0(0xb0))/0xd;if(_0x49b66a===_0x4df010)break;else _0x507870['push'](_0x507870['shift']());}catch(_0x40ca91){_0x507870['push'](_0x507870['shift']());}}}(a59_0x3aa3,0x316c0));function a59_0x39b3(_0x1e03e5,_0x1b3693){const _0x12dec1=a59_0x3aa3();return a59_0x39b3=function(_0x214944,_0x543059){_0x214944=_0x214944-0x7f;let _0x3aa363=_0x12dec1[_0x214944];return _0x3aa363;},a59_0x39b3(_0x1e03e5,_0x1b3693);}const a59_0x543059=(function(){let _0x216f6c=!![];return function(_0x44bf2e,_0x3f43f9){const _0x333a3c=_0x216f6c?function(){const _0x4ed6d7=a59_0x39b3;if(_0x3f43f9){const _0x4002fe=_0x3f43f9[_0x4ed6d7(0x8d)](_0x44bf2e,arguments);return _0x3f43f9=null,_0x4002fe;}}:function(){};return _0x216f6c=![],_0x333a3c;};}()),a59_0x214944=a59_0x543059(this,function(){const _0x20201d=a59_0x39b3;return a59_0x214944[_0x20201d(0x93)]()['search'](_0x20201d(0xa8))['toString']()[_0x20201d(0xa1)](a59_0x214944)[_0x20201d(0xc1)](_0x20201d(0xa8));});a59_0x214944();'use strict';var __importDefault=this&&this[a59_0x5db8dc(0xb1)]||function(_0x471384){return _0x471384&&_0x471384['__esModule']?_0x471384:{'default':_0x471384};};Object[a59_0x5db8dc(0xa5)](exports,'__esModule',{'value':!![]}),exports[a59_0x5db8dc(0x95)]=exports['MAX_ZIP_SIZE']=void 0x0;const utils_1=require(a59_0x5db8dc(0xb7)),constants_1=require(a59_0x5db8dc(0xb6)),flosum_naming_utils_1=require('../../git/salesforce/utils/flosum-naming.utils'),salesforce_request_1=require(a59_0x5db8dc(0xa4)),adm_zip_1=__importDefault(require(a59_0x5db8dc(0x94))),CHUNK_QUERY_SIZE=0x1f4,REST_ATTACHMENT_MAX_SIZE=0x200000,REST_ATTACHMENT_COUNT=0x64,BINARY_FIELDS=[a59_0x5db8dc(0x86)];exports['MAX_ZIP_SIZE']=0x2100000;class ComponentsApi{static async[a59_0x5db8dc(0x9e)](_0x489b97,_0x86e4d8){const _0x48acdf=a59_0x5db8dc,_0x46ad7f=[],_0x45bc55=(0x0,utils_1[_0x48acdf(0x85)])(_0x86e4d8,CHUNK_QUERY_SIZE);for(const _0x1b4d5e of _0x45bc55){const _0x383853=_0x48acdf(0xb4)+('\x27'+_0x1b4d5e[_0x48acdf(0x97)]('\x27,\x27')+'\x27')+')',{data:_0x4b9f5a}=await _0x489b97[_0x48acdf(0x96)](_0x48acdf(0x83)+constants_1[_0x48acdf(0xb8)]+_0x48acdf(0x92),{'params':{'q':_0x383853}});_0x46ad7f[_0x48acdf(0x80)](..._0x4b9f5a[_0x48acdf(0x9b)]);}return _0x46ad7f;}static async['fetchComponentsDetailsByComponentsHistory'](_0x396abb,_0x311f37){const _0x6693df=a59_0x5db8dc,_0x315f72=[],_0x9a951f=(0x0,utils_1[_0x6693df(0x85)])(_0x311f37,CHUNK_QUERY_SIZE);for(const _0x44cc9e of _0x9a951f){const _0x359b9c=_0x6693df(0xbc)+constants_1[_0x6693df(0xc2)]+_0x6693df(0xaa)+constants_1[_0x6693df(0xc2)]+'Component_Name__c,\x20'+constants_1[_0x6693df(0xc2)]+'Component__r.'+constants_1[_0x6693df(0xc2)]+'Component_Type__c\x0a\x20\x20\x20\x20\x20\x20FROM\x20Component_History__c\x0a\x20\x20\x20\x20\x20\x20WHERE\x20Id\x20IN\x20('+('\x27'+_0x44cc9e[_0x6693df(0x97)](_0x6693df(0x87))+'\x27')+')',{data:_0x52ccf3}=await _0x396abb[_0x6693df(0x96)](_0x6693df(0x83)+constants_1[_0x6693df(0xb8)]+_0x6693df(0x92),{'params':{'q':_0x359b9c}});_0x315f72['push'](..._0x52ccf3['records']);}return _0x315f72;}static async['fetchAttachments'](_0x383af9,_0x4c4e62,_0xe3add2){const _0x32792e=a59_0x5db8dc,{data:_0x39f6be}=await _0x383af9[_0x32792e(0x81)](_0x32792e(0xbb)+salesforce_request_1[_0x32792e(0x9f)]+_0x32792e(0xa0),{'objectName':_0x32792e(0x84),'binaryFields':_0x4c4e62,'recordIds':_0xe3add2});return _0x39f6be;}static async[a59_0x5db8dc(0x9c)](_0x5bde72,_0x41a364){const _0x10f060=a59_0x5db8dc,{data:_0x3f7020}=await _0x5bde72['get'](_0x10f060(0x83)+constants_1['SALESFORCE_API_VERSION']+_0x10f060(0xab)+_0x41a364+'/body',{'responseType':_0x10f060(0xc3)});return _0x3f7020;}static[a59_0x5db8dc(0xbe)](_0x3a99f4){const _0x24f1c6=_0x3a99f4['map'](_0x4ca266=>{const _0x2ae0d9=a59_0x39b3,_0x220168=(0x0,flosum_naming_utils_1['extractFieldsFromRecord'])(_0x4ca266,['Id',_0x2ae0d9(0xc4)]);return _0x220168[_0x2ae0d9(0xc4)]=(0x0,flosum_naming_utils_1[_0x2ae0d9(0x91)])(_0x220168['Component__r'],['Component_Name__c',_0x2ae0d9(0xbf)]),_0x220168;});return _0x24f1c6;}static async[a59_0x5db8dc(0x8c)](_0x290730,_0x396b46){const _0x98f612=a59_0x5db8dc;let _0x932570=0x0,_0x1e7608=0x0,_0x25b8a9=[];const _0x19b9a0=[];for(const _0x45dd69 of _0x290730){if(_0x45dd69[_0x98f612(0xb5)]>REST_ATTACHMENT_MAX_SIZE){const _0x3914fd=await ComponentsApi[_0x98f612(0x9c)](_0x396b46,_0x45dd69['Id']);_0x19b9a0['push']({'id':_0x45dd69['Id'],'values':{'Body':_0x3914fd[_0x98f612(0x93)](_0x98f612(0xad))}});continue;}if(_0x45dd69[_0x98f612(0xb5)]+_0x932570>REST_ATTACHMENT_MAX_SIZE||_0x1e7608+0x1>=REST_ATTACHMENT_COUNT){const _0x2bd38d=await ComponentsApi[_0x98f612(0x7f)](_0x396b46,BINARY_FIELDS,_0x25b8a9);_0x19b9a0[_0x98f612(0x80)](..._0x2bd38d),_0x25b8a9=[],_0x932570=0x0,_0x1e7608=0x0;}_0x25b8a9[_0x98f612(0x80)](_0x45dd69['Id']),_0x932570+=_0x45dd69[_0x98f612(0xb5)],_0x1e7608++;}if(_0x25b8a9[_0x98f612(0xae)]){const _0x445212=await ComponentsApi['fetchAttachments'](_0x396b46,BINARY_FIELDS,_0x25b8a9);_0x19b9a0['push'](..._0x445212);}return _0x19b9a0;}static async[a59_0x5db8dc(0xa7)](_0x5105c1,_0x264c4d){const _0x2821db=a59_0x5db8dc;var _0x168be6;const _0x269f75=_0x5105c1[_0x2821db(0xaf)]()[_0x2821db(0xac)](_0x2fa8e0=>!_0x2fa8e0['isDirectory'])[_0x2821db(0x8e)]((_0x5386b0,_0xa8f3a3)=>_0x5386b0[_0x2821db(0x8b)]()['length']>_0xa8f3a3['getData']()[_0x2821db(0xae)]?-0x1:0x1)[_0x2821db(0x82)](_0x121084=>_0x121084[_0x2821db(0xa6)]),_0x5902e6=new adm_zip_1[(_0x2821db(0x90))]();for(const _0x5e9709 of _0x269f75){const _0x204060=(_0x168be6=_0x5105c1[_0x2821db(0xb9)](_0x5e9709))===null||_0x168be6===void 0x0?void 0x0:_0x168be6[_0x2821db(0x8b)]();_0x5902e6[_0x2821db(0x8a)](_0x5e9709,_0x204060),_0x5105c1[_0x2821db(0xa3)](_0x5e9709);if(_0x264c4d-_0x5902e6[_0x2821db(0x8f)]()[_0x2821db(0x93)]('base64')[_0x2821db(0xae)]<exports[_0x2821db(0xa9)])break;}return[_0x5105c1,_0x5902e6];}}exports[a59_0x5db8dc(0x95)]=ComponentsApi;