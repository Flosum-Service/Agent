'use strict';const a91_0x15fdef=a91_0x4387;(function(_0x3dd312,_0x176f1c){const _0x4bc6bb=a91_0x4387,_0x1c77c2=_0x3dd312();while(!![]){try{const _0x2742d0=parseInt(_0x4bc6bb(0x181))/0x1*(-parseInt(_0x4bc6bb(0x1a9))/0x2)+-parseInt(_0x4bc6bb(0x1a7))/0x3*(parseInt(_0x4bc6bb(0x184))/0x4)+-parseInt(_0x4bc6bb(0x1aa))/0x5*(-parseInt(_0x4bc6bb(0x18a))/0x6)+-parseInt(_0x4bc6bb(0x186))/0x7+parseInt(_0x4bc6bb(0x19c))/0x8+-parseInt(_0x4bc6bb(0x180))/0x9+-parseInt(_0x4bc6bb(0x185))/0xa*(-parseInt(_0x4bc6bb(0x19b))/0xb);if(_0x2742d0===_0x176f1c)break;else _0x1c77c2['push'](_0x1c77c2['shift']());}catch(_0x3c1ca3){_0x1c77c2['push'](_0x1c77c2['shift']());}}}(a91_0x2d28,0xcbf3a));function a91_0x2d28(){const _0x16f603=['recordType','1177mMFBiD','11414200YMnawb','layoutAssignments','description','object','name','externalDataSourceAccesses','search','Xml','tabSettings','flowAccesses','length','582MsAJIv','tab','4HwmxXV','6604265KTLRMj','includes','categoryGroupVisibilities','(((.+)+)+)+$','label','profileActionOverrides','fieldPermissions','classAccesses','hasActivationRequired','flow','some','content','objectPermissions','Profile','540387ADWNyN','407104tSWMmN','isArray','application','17996ewNkCf','28390omkxCg','3282706guNxxz','loginIpRanges','../../git/parsers/utils/xml','defineProperty','6uvQGis','apexClass','customMetadataTypeAccesses','push','recordTypeVisibilities','apply','customSettingAccesses','http://soap.sforce.com/2006/04/metadata','parse','Component_Name__c','layout','custom','dataCategoryGroup','apexPage','userPermissions','extractComponentPermissions'];a91_0x2d28=function(){return _0x16f603;};return a91_0x2d28();}Object[a91_0x15fdef(0x189)](exports,'__esModule',{'value':!![]}),exports[a91_0x15fdef(0x199)]=void 0x0;const xml_1=require(a91_0x15fdef(0x188)),PERMISSIONS_MAP=new Map([[a91_0x15fdef(0x179),a91_0x15fdef(0x18b)],['pageAccesses',a91_0x15fdef(0x197)],[a91_0x15fdef(0x1a4),a91_0x15fdef(0x1a8)],['tabVisibilities',a91_0x15fdef(0x1a8)],[a91_0x15fdef(0x177),a91_0x15fdef(0x17d)],[a91_0x15fdef(0x174),a91_0x15fdef(0x196)],[a91_0x15fdef(0x17e),a91_0x15fdef(0x19f)],[a91_0x15fdef(0x18c),a91_0x15fdef(0x1a0)],[a91_0x15fdef(0x190),'name'],['applicationVisibilities',a91_0x15fdef(0x183)],[a91_0x15fdef(0x1a1),'externalDataSource'],['customPermissions',a91_0x15fdef(0x1a0)],[a91_0x15fdef(0x1a5),a91_0x15fdef(0x17b)],[a91_0x15fdef(0x19d),a91_0x15fdef(0x194)],['recordTypeVisibilities',a91_0x15fdef(0x19a)],[a91_0x15fdef(0x178),'field']]);var UNREMOVE_PERMISSION;(function(_0x257df0){const _0x405092=a91_0x15fdef,_0x4aca57=(function(){let _0x17e8de=!![];return function(_0x3383ad,_0x1d439a){const _0x3eb080=_0x17e8de?function(){const _0xf4b1aa=a91_0x4387;if(_0x1d439a){const _0x5d842e=_0x1d439a[_0xf4b1aa(0x18f)](_0x3383ad,arguments);return _0x1d439a=null,_0x5d842e;}}:function(){};return _0x17e8de=![],_0x3eb080;};}()),_0x3b0dfe=_0x4aca57(this,function(){const _0xc85858=a91_0x4387;return _0x3b0dfe['toString']()[_0xc85858(0x1a2)](_0xc85858(0x175))['toString']()['constructor'](_0x3b0dfe)[_0xc85858(0x1a2)](_0xc85858(0x175));});_0x3b0dfe(),_0x257df0[_0x405092(0x17a)]=_0x405092(0x17a),_0x257df0['label']=_0x405092(0x176),_0x257df0[_0x405092(0x195)]='custom',_0x257df0[_0x405092(0x19e)]=_0x405092(0x19e);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x208b22=>{const _0x513c46=a91_0x15fdef;var _0x57711b,_0x17a85d;return(_0x57711b=_0x208b22[_0x513c46(0x17f)])===null||_0x57711b===void 0x0?!![]:delete _0x57711b[_0x513c46(0x198)],(_0x17a85d=_0x208b22[_0x513c46(0x17f)])===null||_0x17a85d===void 0x0?!![]:delete _0x17a85d[_0x513c46(0x187)],_0x208b22;},'PermissionSet':_0xb92aed=>{const _0x372682=a91_0x15fdef;var _0x49f122,_0x2288f4;return(_0x49f122=_0xb92aed['PermissionSet'])===null||_0x49f122===void 0x0?!![]:delete _0x49f122[_0x372682(0x198)],(_0x2288f4=_0xb92aed['PermissionSet'])===null||_0x2288f4===void 0x0?!![]:delete _0x2288f4[_0x372682(0x187)],_0xb92aed;}};async function extractComponentPermissions(_0x4a7c56,_0x3ecc55,_0x411f38){const _0x3479bf=a91_0x15fdef,_0xe76368=await getReadyComponent(_0x4a7c56,_0x411f38),_0xc34db8=_0xe76368[_0x411f38];if(!_0xc34db8)return _0xe76368;for(const _0x21a03d in _0xc34db8){if(UNREMOVE_PERMISSION[_0x21a03d])continue;const _0x35ea4d=_0xc34db8[_0x21a03d],_0x1076b4=getValidPermission(_0x35ea4d,_0x21a03d,_0x3ecc55);_0x1076b4[_0x3479bf(0x1a6)]?_0xc34db8[_0x21a03d]=_0x1076b4:delete _0xc34db8[_0x21a03d];}return _0xe76368[_0x411f38]['$']={'xmlns':_0x3479bf(0x191)},_0xe76368;}exports['extractComponentPermissions']=extractComponentPermissions;function a91_0x4387(_0x43ccc4,_0x17ecaf){const _0x1daeb9=a91_0x2d28();return a91_0x4387=function(_0x2939b4,_0x599166){_0x2939b4=_0x2939b4-0x174;let _0x2d28e2=_0x1daeb9[_0x2939b4];return _0x2d28e2;},a91_0x4387(_0x43ccc4,_0x17ecaf);}function getValidPermission(_0x172d78,_0xe3fab7,_0x1a969e){const _0x5a8276=a91_0x15fdef;let _0x496b75=[];if(_0xe3fab7===_0x5a8276(0x19d))_0x496b75=getValidLayout(_0x172d78,_0xe3fab7,_0x1a969e);else{const _0x25a036=Array[_0x5a8276(0x182)](_0x172d78)?_0x172d78:[_0x172d78];for(const _0x5ba1c9 of _0x25a036){isValidPermission(_0x5ba1c9,_0xe3fab7,_0x1a969e)&&_0x496b75[_0x5a8276(0x18d)](_0x5ba1c9);}}return _0x496b75;}function isValidPermission(_0x4a8435,_0x5b2c48,_0xc6cdd9){const _0x16ac2b=a91_0x15fdef,_0xcb7653=PERMISSIONS_MAP['get'](_0x5b2c48);return _0x4a8435[_0xcb7653]&&_0xc6cdd9[_0x16ac2b(0x17c)](_0x4d6516=>_0x4d6516['Component__r'][_0x16ac2b(0x193)][_0x16ac2b(0x1ab)](_0x4a8435[_0xcb7653]));}function getValidLayout(_0x1f3154,_0x149d0b,_0x589f2a){const _0x118806=a91_0x15fdef,_0x3e4aa2=[],_0x5dbab8=Array[_0x118806(0x182)](_0x1f3154)?_0x1f3154:[_0x1f3154];for(const _0xa560ab in _0x5dbab8){isValidPermission(_0x5dbab8[_0xa560ab],_0x149d0b,_0x589f2a)&&(!_0x5dbab8[_0xa560ab][_0x118806(0x19a)]&&_0x3e4aa2[_0x118806(0x18d)](_0x5dbab8[_0xa560ab]),isValidPermission(_0x5dbab8[_0xa560ab],_0x118806(0x18e),_0x589f2a)&&_0x3e4aa2[_0x118806(0x18d)](_0x5dbab8[_0xa560ab]));}return _0x3e4aa2;}async function getReadyComponent(_0x3cc143,_0x234cf0){const _0x1f230f=a91_0x15fdef,_0x177276=await xml_1[_0x1f230f(0x1a3)][_0x1f230f(0x192)](_0x3cc143);return prepareDeleteComponent[_0x234cf0](_0x177276);}