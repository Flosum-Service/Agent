'use strict';const a110_0x3f8eb8=a110_0x1327;(function(_0x1611be,_0x41841a){const _0x1c60ca=a110_0x1327,_0x4b84a4=_0x1611be();while(!![]){try{const _0x16f59c=parseInt(_0x1c60ca(0x1b5))/0x1*(-parseInt(_0x1c60ca(0x17d))/0x2)+-parseInt(_0x1c60ca(0x193))/0x3*(-parseInt(_0x1c60ca(0x186))/0x4)+parseInt(_0x1c60ca(0x18a))/0x5*(parseInt(_0x1c60ca(0x19f))/0x6)+parseInt(_0x1c60ca(0x187))/0x7+-parseInt(_0x1c60ca(0x199))/0x8*(parseInt(_0x1c60ca(0x1b2))/0x9)+parseInt(_0x1c60ca(0x1b4))/0xa*(parseInt(_0x1c60ca(0x1ab))/0xb)+-parseInt(_0x1c60ca(0x182))/0xc*(parseInt(_0x1c60ca(0x194))/0xd);if(_0x16f59c===_0x41841a)break;else _0x4b84a4['push'](_0x4b84a4['shift']());}catch(_0x3d882c){_0x4b84a4['push'](_0x4b84a4['shift']());}}}(a110_0x5da9,0x4a202));function a110_0x1327(_0x2826c2,_0x412c31){const _0x13cc8e=a110_0x5da9();return a110_0x1327=function(_0x447b0c,_0x172093){_0x447b0c=_0x447b0c-0x178;let _0x5da914=_0x13cc8e[_0x447b0c];return _0x5da914;},a110_0x1327(_0x2826c2,_0x412c31);}Object[a110_0x3f8eb8(0x1a0)](exports,a110_0x3f8eb8(0x19b),{'value':!![]}),exports['mergeComponentPermissions']=exports[a110_0x3f8eb8(0x1a4)]=void 0x0;const xml_1=require(a110_0x3f8eb8(0x1a5)),xml2js_1=require(a110_0x3f8eb8(0x184)),PERMISSIONS_MAP=new Map([[a110_0x3f8eb8(0x191),a110_0x3f8eb8(0x1a8)],[a110_0x3f8eb8(0x1ad),a110_0x3f8eb8(0x17c)],[a110_0x3f8eb8(0x18c),a110_0x3f8eb8(0x18b)],[a110_0x3f8eb8(0x188),a110_0x3f8eb8(0x18b)],['profileActionOverrides',a110_0x3f8eb8(0x196)],[a110_0x3f8eb8(0x1b7),a110_0x3f8eb8(0x1af)],['objectPermissions','object'],['customMetadataTypeAccesses',a110_0x3f8eb8(0x179)],[a110_0x3f8eb8(0x1a2),a110_0x3f8eb8(0x179)],[a110_0x3f8eb8(0x19d),'application'],['externalDataSourceAccesses',a110_0x3f8eb8(0x18d)],['customPermissions',a110_0x3f8eb8(0x179)],[a110_0x3f8eb8(0x17b),a110_0x3f8eb8(0x1a1)],['layoutAssignments','layout'],[a110_0x3f8eb8(0x1a3),a110_0x3f8eb8(0x178)],[a110_0x3f8eb8(0x1ae),a110_0x3f8eb8(0x180)]]);var UNREMOVE_PERMISSION;(function(_0x25bcfc){const _0x53e344=a110_0x3f8eb8,_0x28c255=(function(){let _0x3083f4=!![];return function(_0x55ffd9,_0x225193){const _0x1e4251=_0x3083f4?function(){const _0x1de351=a110_0x1327;if(_0x225193){const _0xd1f2c5=_0x225193[_0x1de351(0x1b0)](_0x55ffd9,arguments);return _0x225193=null,_0xd1f2c5;}}:function(){};return _0x3083f4=![],_0x1e4251;};}()),_0xb2d28d=_0x28c255(this,function(){const _0x173cbf=a110_0x1327;return _0xb2d28d[_0x173cbf(0x19a)]()['search']('(((.+)+)+)+$')[_0x173cbf(0x19a)]()['constructor'](_0xb2d28d)[_0x173cbf(0x18e)](_0x173cbf(0x189));});_0xb2d28d(),_0x25bcfc[_0x53e344(0x1aa)]=_0x53e344(0x1aa),_0x25bcfc[_0x53e344(0x1ac)]='label',_0x25bcfc['custom']=_0x53e344(0x19c),_0x25bcfc[_0x53e344(0x181)]=_0x53e344(0x181);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x44a3e5=>{const _0x2caa2a=a110_0x3f8eb8;var _0x55d8aa,_0x2a179a;return(_0x55d8aa=_0x44a3e5[_0x2caa2a(0x1b6)])===null||_0x55d8aa===void 0x0?!![]:delete _0x55d8aa[_0x2caa2a(0x197)],(_0x2a179a=_0x44a3e5[_0x2caa2a(0x1b6)])===null||_0x2a179a===void 0x0?!![]:delete _0x2a179a[_0x2caa2a(0x17a)],_0x44a3e5;},'PermissionSet':_0x40a65e=>{const _0x53bc77=a110_0x3f8eb8;var _0x178551,_0x22b91e;return(_0x178551=_0x40a65e['PermissionSet'])===null||_0x178551===void 0x0?!![]:delete _0x178551[_0x53bc77(0x197)],(_0x22b91e=_0x40a65e['PermissionSet'])===null||_0x22b91e===void 0x0?!![]:delete _0x22b91e['loginIpRanges'],_0x40a65e;}};async function extractComponentPermissions(_0x3eeaf7,_0x2bd900,_0x866437){const _0x3f84ac=await getReadyComponent(_0x3eeaf7,_0x866437),_0x45e2f3=_0x3f84ac[_0x866437];if(!_0x45e2f3)return _0x3f84ac;for(const _0x16aebb in _0x45e2f3){if(UNREMOVE_PERMISSION[_0x16aebb])continue;const _0x439ab0=_0x45e2f3[_0x16aebb],_0x5a0723=getValidPermission(_0x439ab0,_0x16aebb,_0x2bd900);_0x5a0723['length']?_0x45e2f3[_0x16aebb]=_0x5a0723:delete _0x45e2f3[_0x16aebb];}return _0x3f84ac[_0x866437]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x3f84ac;}exports['extractComponentPermissions']=extractComponentPermissions;async function mergeComponentPermissions(_0x4a0b11,_0x1efcc5,_0x49005a){const _0x1918a4=a110_0x3f8eb8,_0x2b0faa=await xml_1[_0x1918a4(0x185)][_0x1918a4(0x183)](_0x4a0b11),_0x57aa3a=await xml_1['Xml'][_0x1918a4(0x183)](_0x1efcc5),_0x41cc53=_0x2b0faa[_0x49005a],_0x1b3f63=_0x57aa3a[_0x49005a];if(!_0x41cc53)return _0x1efcc5;for(const _0x578ed9 in _0x41cc53){const _0x86b5ea=PERMISSIONS_MAP[_0x1918a4(0x192)](_0x578ed9);if(!_0x86b5ea||!_0x1b3f63[_0x578ed9]){_0x1b3f63[_0x578ed9]=_0x41cc53[_0x578ed9];continue;}for(const _0x262611 of _0x41cc53[_0x578ed9]){const _0x2940df=_0x1b3f63[_0x578ed9][_0x1918a4(0x1a9)](_0x2a3d0d=>_0x262611[_0x86b5ea][0x0]===_0x2a3d0d[_0x86b5ea][0x0]);_0x2940df!==-0x1?_0x1b3f63[_0x578ed9][_0x2940df]=_0x262611:_0x1b3f63[_0x578ed9][_0x1918a4(0x17f)](_0x262611);}}_0x57aa3a[_0x49005a]['$']={'xmlns':_0x1918a4(0x19e)};const _0x268592=new xml2js_1[(_0x1918a4(0x195))]({'xmldec':{'version':_0x1918a4(0x1a7),'encoding':_0x1918a4(0x1b1)}});return _0x268592[_0x1918a4(0x18f)](_0x57aa3a);}function a110_0x5da9(){const _0x37af7a=['http://soap.sforce.com/2006/04/metadata','12qLMGRT','defineProperty','flow','customSettingAccesses','recordTypeVisibilities','extractComponentPermissions','../../git/parsers/utils/xml','mergeComponentPermissions','1.0','apexClass','findIndex','hasActivationRequired','869zvKxqR','label','pageAccesses','fieldPermissions','dataCategoryGroup','apply','UTF-8','279711IBpmKA','includes','55870QInjrA','2549tPAVII','Profile','categoryGroupVisibilities','recordType','name','loginIpRanges','flowAccesses','apexPage','316mvLvIi','some','push','field','description','732fpchrt','parse','xml2js','Xml','16XLQOPf','4119017xVeLts','tabVisibilities','(((.+)+)+)+$','185760aPHsDU','tab','tabSettings','externalDataSource','search','buildObject','isArray','classAccesses','get','105201VAxHoa','61672JqxbwQ','Builder','content','userPermissions','Component__r','64TTEwqT','toString','__esModule','custom','applicationVisibilities'];a110_0x5da9=function(){return _0x37af7a;};return a110_0x5da9();}exports[a110_0x3f8eb8(0x1a6)]=mergeComponentPermissions;function getValidPermission(_0x9fb2b2,_0x18ce1d,_0x479dca){const _0x29cff4=a110_0x3f8eb8;let _0x5e702d=[];if(_0x18ce1d==='layoutAssignments')_0x5e702d=getValidLayout(_0x9fb2b2,_0x18ce1d,_0x479dca);else{const _0x504984=Array[_0x29cff4(0x190)](_0x9fb2b2)?_0x9fb2b2:[_0x9fb2b2];for(const _0x47c3b0 of _0x504984){isValidPermission(_0x47c3b0,_0x18ce1d,_0x479dca)&&_0x5e702d[_0x29cff4(0x17f)](_0x47c3b0);}}return _0x5e702d;}function isValidPermission(_0x3b7c9f,_0x387516,_0x2a1c88){const _0x6cddd0=a110_0x3f8eb8,_0x2b989b=PERMISSIONS_MAP[_0x6cddd0(0x192)](_0x387516);return _0x3b7c9f[_0x2b989b]&&_0x2a1c88[_0x6cddd0(0x17e)](_0x221d02=>_0x221d02[_0x6cddd0(0x198)]['Component_Name__c'][_0x6cddd0(0x1b3)](_0x3b7c9f[_0x2b989b]));}function getValidLayout(_0x5cfdbc,_0x4d74fd,_0x3a7252){const _0x18f72d=a110_0x3f8eb8,_0x768f29=[],_0x1efffd=Array['isArray'](_0x5cfdbc)?_0x5cfdbc:[_0x5cfdbc];for(const _0x364494 in _0x1efffd){isValidPermission(_0x1efffd[_0x364494],_0x4d74fd,_0x3a7252)&&(!_0x1efffd[_0x364494][_0x18f72d(0x178)]&&_0x768f29[_0x18f72d(0x17f)](_0x1efffd[_0x364494]),isValidPermission(_0x1efffd[_0x364494],'recordTypeVisibilities',_0x3a7252)&&_0x768f29['push'](_0x1efffd[_0x364494]));}return _0x768f29;}async function getReadyComponent(_0x38bf4c,_0xad6b59){const _0x22dce9=a110_0x3f8eb8,_0x37c334=await xml_1[_0x22dce9(0x185)][_0x22dce9(0x183)](_0x38bf4c);return prepareDeleteComponent[_0xad6b59](_0x37c334);}