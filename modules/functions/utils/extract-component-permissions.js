'use strict';const a91_0x2779b9=a91_0x4ce8;function a91_0x4566(){const _0x2fafc9=['extractComponentPermissions','Component_Name__c','Component__r','content','constructor','toString','2sRHXKh','application','loginIpRanges','4906TQoEHI','get','fieldPermissions','__esModule','14gcOMJr','apexPage','profileActionOverrides','10XnNTgc','flowAccesses','21130989ETsmtt','tabVisibilities','Profile','Xml','externalDataSource','recordType','some','push','objectPermissions','label','userPermissions','3296315lZpxNW','parse','length','2432946mVcfxc','name','search','(((.+)+)+)+$','layout','applicationVisibilities','PermissionSet','2072184XhdMrl','tab','5410485wkLOaO','4278124otfjeP','customPermissions','classAccesses','object','isArray','hasActivationRequired','tabSettings','flow','../../git/parsers/utils/xml','custom','defineProperty','customMetadataTypeAccesses','description','includes','3HeZWVI','dataCategoryGroup'];a91_0x4566=function(){return _0x2fafc9;};return a91_0x4566();}(function(_0x5dc8fd,_0x98f391){const _0x21defb=a91_0x4ce8,_0x12382b=_0x5dc8fd();while(!![]){try{const _0x4f901d=parseInt(_0x21defb(0x106))/0x1*(parseInt(_0x21defb(0x103))/0x2)+parseInt(_0x21defb(0xfb))/0x3*(parseInt(_0x21defb(0x127))/0x4)+-parseInt(_0x21defb(0x11a))/0x5+-parseInt(_0x21defb(0x11d))/0x6*(parseInt(_0x21defb(0x10a))/0x7)+-parseInt(_0x21defb(0x124))/0x8+-parseInt(_0x21defb(0x126))/0x9+-parseInt(_0x21defb(0x10d))/0xa*(-parseInt(_0x21defb(0x10f))/0xb);if(_0x4f901d===_0x98f391)break;else _0x12382b['push'](_0x12382b['shift']());}catch(_0x32820e){_0x12382b['push'](_0x12382b['shift']());}}}(a91_0x4566,0xa25ab));Object[a91_0x2779b9(0xf7)](exports,a91_0x2779b9(0x109),{'value':!![]}),exports[a91_0x2779b9(0xfd)]=void 0x0;const xml_1=require(a91_0x2779b9(0xf5)),PERMISSIONS_MAP=new Map([[a91_0x2779b9(0xef),'apexClass'],['pageAccesses',a91_0x2779b9(0x10b)],[a91_0x2779b9(0xf3),a91_0x2779b9(0x125)],[a91_0x2779b9(0x110),a91_0x2779b9(0x125)],[a91_0x2779b9(0x10c),a91_0x2779b9(0x100)],['categoryGroupVisibilities',a91_0x2779b9(0xfc)],[a91_0x2779b9(0x117),a91_0x2779b9(0xf0)],[a91_0x2779b9(0xf8),'name'],['customSettingAccesses',a91_0x2779b9(0x11e)],[a91_0x2779b9(0x122),a91_0x2779b9(0x104)],['externalDataSourceAccesses',a91_0x2779b9(0x113)],[a91_0x2779b9(0xee),a91_0x2779b9(0x11e)],[a91_0x2779b9(0x10e),a91_0x2779b9(0xf4)],['layoutAssignments',a91_0x2779b9(0x121)],['recordTypeVisibilities',a91_0x2779b9(0x114)],[a91_0x2779b9(0x108),'field']]);var UNREMOVE_PERMISSION;(function(_0x531e38){const _0x1fb51b=a91_0x2779b9,_0x288f2b=(function(){let _0x1a66c0=!![];return function(_0x112545,_0x18ed13){const _0x4149cf=_0x1a66c0?function(){if(_0x18ed13){const _0x1c9ff5=_0x18ed13['apply'](_0x112545,arguments);return _0x18ed13=null,_0x1c9ff5;}}:function(){};return _0x1a66c0=![],_0x4149cf;};}()),_0x3cd925=_0x288f2b(this,function(){const _0x258e5b=a91_0x4ce8;return _0x3cd925[_0x258e5b(0x102)]()[_0x258e5b(0x11f)](_0x258e5b(0x120))['toString']()[_0x258e5b(0x101)](_0x3cd925)[_0x258e5b(0x11f)]('(((.+)+)+)+$');});_0x3cd925(),_0x531e38[_0x1fb51b(0xf2)]='hasActivationRequired',_0x531e38[_0x1fb51b(0x118)]='label',_0x531e38[_0x1fb51b(0xf6)]=_0x1fb51b(0xf6),_0x531e38[_0x1fb51b(0xf9)]=_0x1fb51b(0xf9);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x208397=>{const _0x29fcd7=a91_0x2779b9;var _0x6ca49b,_0x2097bb;return(_0x6ca49b=_0x208397[_0x29fcd7(0x111)])===null||_0x6ca49b===void 0x0?!![]:delete _0x6ca49b['userPermissions'],(_0x2097bb=_0x208397['Profile'])===null||_0x2097bb===void 0x0?!![]:delete _0x2097bb['loginIpRanges'],_0x208397;},'PermissionSet':_0x46ab54=>{const _0x22438d=a91_0x2779b9;var _0x52ee8b,_0x3c83da;return(_0x52ee8b=_0x46ab54[_0x22438d(0x123)])===null||_0x52ee8b===void 0x0?!![]:delete _0x52ee8b[_0x22438d(0x119)],(_0x3c83da=_0x46ab54[_0x22438d(0x123)])===null||_0x3c83da===void 0x0?!![]:delete _0x3c83da[_0x22438d(0x105)],_0x46ab54;}};async function extractComponentPermissions(_0x2360e3,_0x13f569,_0x1539a4){const _0xbd9209=a91_0x2779b9,_0x1a243d=await getReadyComponent(_0x2360e3,_0x1539a4),_0x3c8671=_0x1a243d[_0x1539a4];if(!_0x3c8671)return _0x1a243d;for(const _0x52a2de in _0x3c8671){if(UNREMOVE_PERMISSION[_0x52a2de])continue;const _0x24f8cc=_0x3c8671[_0x52a2de],_0x1f6bc3=getValidPermission(_0x24f8cc,_0x52a2de,_0x13f569);_0x1f6bc3[_0xbd9209(0x11c)]?_0x3c8671[_0x52a2de]=_0x1f6bc3:delete _0x3c8671[_0x52a2de];}return _0x1a243d[_0x1539a4]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x1a243d;}function a91_0x4ce8(_0x56c79b,_0x4fa925){const _0xc948a2=a91_0x4566();return a91_0x4ce8=function(_0x56c6fd,_0x912484){_0x56c6fd=_0x56c6fd-0xee;let _0x456675=_0xc948a2[_0x56c6fd];return _0x456675;},a91_0x4ce8(_0x56c79b,_0x4fa925);}exports[a91_0x2779b9(0xfd)]=extractComponentPermissions;function getValidPermission(_0x12c620,_0xa13da5,_0x3a4de7){const _0x5f20d1=a91_0x2779b9;let _0x29b29d=[];if(_0xa13da5==='layoutAssignments')_0x29b29d=getValidLayout(_0x12c620,_0xa13da5,_0x3a4de7);else{const _0x9a6cf=Array[_0x5f20d1(0xf1)](_0x12c620)?_0x12c620:[_0x12c620];for(const _0x2200eb of _0x9a6cf){isValidPermission(_0x2200eb,_0xa13da5,_0x3a4de7)&&_0x29b29d['push'](_0x2200eb);}}return _0x29b29d;}function isValidPermission(_0x32ab8c,_0x5b6e53,_0x5d7669){const _0x4dd54f=a91_0x2779b9,_0x56cb66=PERMISSIONS_MAP[_0x4dd54f(0x107)](_0x5b6e53);return _0x32ab8c[_0x56cb66]&&_0x5d7669[_0x4dd54f(0x115)](_0x331b52=>_0x331b52[_0x4dd54f(0xff)][_0x4dd54f(0xfe)][_0x4dd54f(0xfa)](_0x32ab8c[_0x56cb66]));}function getValidLayout(_0x1abe84,_0x3bfa97,_0x1c87de){const _0x57c7b7=a91_0x2779b9,_0x3a7d53=[],_0x464a67=Array[_0x57c7b7(0xf1)](_0x1abe84)?_0x1abe84:[_0x1abe84];for(const _0x2cf4b9 in _0x464a67){isValidPermission(_0x464a67[_0x2cf4b9],_0x3bfa97,_0x1c87de)&&(!_0x464a67[_0x2cf4b9][_0x57c7b7(0x114)]&&_0x3a7d53['push'](_0x464a67[_0x2cf4b9]),isValidPermission(_0x464a67[_0x2cf4b9],'recordTypeVisibilities',_0x1c87de)&&_0x3a7d53[_0x57c7b7(0x116)](_0x464a67[_0x2cf4b9]));}return _0x3a7d53;}async function getReadyComponent(_0x2094d3,_0xb42556){const _0x592104=a91_0x2779b9,_0x166b30=await xml_1[_0x592104(0x112)][_0x592104(0x11b)](_0x2094d3);return prepareDeleteComponent[_0xb42556](_0x166b30);}