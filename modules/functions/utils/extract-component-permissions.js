'use strict';const a110_0x12c49f=a110_0x4a0c;(function(_0x3434ee,_0x56d47d){const _0x2a6bec=a110_0x4a0c,_0x45d267=_0x3434ee();while(!![]){try{const _0x8822af=parseInt(_0x2a6bec(0x16e))/0x1+parseInt(_0x2a6bec(0x183))/0x2+-parseInt(_0x2a6bec(0x19f))/0x3+-parseInt(_0x2a6bec(0x1a1))/0x4+-parseInt(_0x2a6bec(0x172))/0x5+parseInt(_0x2a6bec(0x19b))/0x6+-parseInt(_0x2a6bec(0x1a2))/0x7*(-parseInt(_0x2a6bec(0x196))/0x8);if(_0x8822af===_0x56d47d)break;else _0x45d267['push'](_0x45d267['shift']());}catch(_0x24b257){_0x45d267['push'](_0x45d267['shift']());}}}(a110_0x337b,0x604b0));function a110_0x4a0c(_0x458796,_0xc69b6){const _0x5a114e=a110_0x337b();return a110_0x4a0c=function(_0x416e8d,_0x568645){_0x416e8d=_0x416e8d-0x165;let _0x337bf8=_0x5a114e[_0x416e8d];return _0x337bf8;},a110_0x4a0c(_0x458796,_0xc69b6);}Object[a110_0x12c49f(0x174)](exports,a110_0x12c49f(0x186),{'value':!![]}),exports['mergeComponentPermissions']=exports[a110_0x12c49f(0x192)]=void 0x0;const xml_1=require(a110_0x12c49f(0x180)),xml2js_1=require(a110_0x12c49f(0x16d)),PERMISSIONS_MAP=new Map([[a110_0x12c49f(0x16a),a110_0x12c49f(0x193)],[a110_0x12c49f(0x171),a110_0x12c49f(0x16b)],[a110_0x12c49f(0x197),'tab'],[a110_0x12c49f(0x178),a110_0x12c49f(0x165)],['profileActionOverrides',a110_0x12c49f(0x177)],[a110_0x12c49f(0x189),'dataCategoryGroup'],[a110_0x12c49f(0x166),a110_0x12c49f(0x18b)],[a110_0x12c49f(0x176),a110_0x12c49f(0x18c)],[a110_0x12c49f(0x168),'name'],[a110_0x12c49f(0x19c),a110_0x12c49f(0x194)],['externalDataSourceAccesses','externalDataSource'],[a110_0x12c49f(0x182),'name'],[a110_0x12c49f(0x181),a110_0x12c49f(0x185)],[a110_0x12c49f(0x16f),'layout'],[a110_0x12c49f(0x195),'recordType'],[a110_0x12c49f(0x17d),a110_0x12c49f(0x19e)]]);var UNREMOVE_PERMISSION;(function(_0x2fda4f){const _0x2306aa=a110_0x12c49f,_0x28845d=(function(){let _0x1f3d87=!![];return function(_0x44a4dc,_0x3ed984){const _0x15d602=_0x1f3d87?function(){const _0x1e0f08=a110_0x4a0c;if(_0x3ed984){const _0x371fe0=_0x3ed984[_0x1e0f08(0x198)](_0x44a4dc,arguments);return _0x3ed984=null,_0x371fe0;}}:function(){};return _0x1f3d87=![],_0x15d602;};}()),_0x48b239=_0x28845d(this,function(){const _0x526298=a110_0x4a0c;return _0x48b239[_0x526298(0x179)]()[_0x526298(0x173)](_0x526298(0x1a5))[_0x526298(0x179)]()[_0x526298(0x167)](_0x48b239)[_0x526298(0x173)](_0x526298(0x1a5));});_0x48b239(),_0x2fda4f['hasActivationRequired']=_0x2306aa(0x17e),_0x2fda4f[_0x2306aa(0x1a0)]=_0x2306aa(0x1a0),_0x2fda4f[_0x2306aa(0x19d)]=_0x2306aa(0x19d),_0x2fda4f['description']=_0x2306aa(0x199);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x21a7f5=>{const _0x4e20b2=a110_0x12c49f;var _0x40f5ab,_0x5b655e;return(_0x40f5ab=_0x21a7f5[_0x4e20b2(0x169)])===null||_0x40f5ab===void 0x0?!![]:delete _0x40f5ab[_0x4e20b2(0x17a)],(_0x5b655e=_0x21a7f5['Profile'])===null||_0x5b655e===void 0x0?!![]:delete _0x5b655e[_0x4e20b2(0x19a)],_0x21a7f5;},'PermissionSet':_0x32cdef=>{const _0x314265=a110_0x12c49f;var _0x4361d2,_0x39c175;return(_0x4361d2=_0x32cdef[_0x314265(0x187)])===null||_0x4361d2===void 0x0?!![]:delete _0x4361d2['userPermissions'],(_0x39c175=_0x32cdef[_0x314265(0x187)])===null||_0x39c175===void 0x0?!![]:delete _0x39c175[_0x314265(0x19a)],_0x32cdef;}};async function extractComponentPermissions(_0x430eff,_0x424dd9,_0x308da5){const _0xf6ea=a110_0x12c49f,_0x2fdf34=await getReadyComponent(_0x430eff,_0x308da5),_0x1c6eaf=_0x2fdf34[_0x308da5];if(!_0x1c6eaf)return _0x2fdf34;for(const _0x50d414 in _0x1c6eaf){if(UNREMOVE_PERMISSION[_0x50d414])continue;const _0x395b0e=_0x1c6eaf[_0x50d414],_0x27a178=getValidPermission(_0x395b0e,_0x50d414,_0x424dd9);_0x27a178[_0xf6ea(0x170)]?_0x1c6eaf[_0x50d414]=_0x27a178:delete _0x1c6eaf[_0x50d414];}return _0x2fdf34[_0x308da5]['$']={'xmlns':_0xf6ea(0x1a4)},_0x2fdf34;}exports[a110_0x12c49f(0x192)]=extractComponentPermissions;async function mergeComponentPermissions(_0x5cfe7a,_0x24a186,_0x1f909a){const _0x4096c3=a110_0x12c49f,_0x5b64aa=await xml_1['Xml']['parse'](_0x5cfe7a),_0x1e7651=await xml_1[_0x4096c3(0x1a3)]['parse'](_0x24a186),_0x27065c=_0x5b64aa[_0x1f909a],_0x4e5278=_0x1e7651[_0x1f909a];if(!_0x27065c)return _0x24a186;for(const _0x301935 in _0x27065c){const _0x1a333b=PERMISSIONS_MAP[_0x4096c3(0x17c)](_0x301935);if(!_0x1a333b||!_0x4e5278[_0x301935]){_0x4e5278[_0x301935]=_0x27065c[_0x301935];continue;}for(const _0x5ca91d of _0x27065c[_0x301935]){const _0x43cf19=_0x4e5278[_0x301935][_0x4096c3(0x18d)](_0x2c052c=>_0x5ca91d[_0x1a333b][0x0]===_0x2c052c[_0x1a333b][0x0]);_0x43cf19!==-0x1?_0x4e5278[_0x301935][_0x43cf19]=_0x5ca91d:_0x4e5278[_0x301935]['push'](_0x5ca91d);}}_0x1e7651[_0x1f909a]['$']={'xmlns':_0x4096c3(0x1a4)};const _0x536170=new xml2js_1[(_0x4096c3(0x191))]({'xmldec':{'version':_0x4096c3(0x18f),'encoding':_0x4096c3(0x18e)}});return _0x536170[_0x4096c3(0x17f)](_0x1e7651);}exports[a110_0x12c49f(0x188)]=mergeComponentPermissions;function getValidPermission(_0x5d88aa,_0x29ebf6,_0x1474ab){const _0x141309=a110_0x12c49f;let _0x173f79=[];if(_0x29ebf6===_0x141309(0x16f))_0x173f79=getValidLayout(_0x5d88aa,_0x29ebf6,_0x1474ab);else{const _0x25b03c=Array[_0x141309(0x18a)](_0x5d88aa)?_0x5d88aa:[_0x5d88aa];for(const _0x25bd0a of _0x25b03c){isValidPermission(_0x25bd0a,_0x29ebf6,_0x1474ab)&&_0x173f79[_0x141309(0x175)](_0x25bd0a);}}return _0x173f79;}function isValidPermission(_0x3bbbdf,_0x54f866,_0x49b973){const _0x672720=a110_0x12c49f,_0x4e1911=PERMISSIONS_MAP[_0x672720(0x17c)](_0x54f866);return _0x3bbbdf[_0x4e1911]&&_0x49b973['some'](_0x3e7cc5=>_0x3e7cc5[_0x672720(0x16c)][_0x672720(0x17b)][_0x672720(0x184)](_0x3bbbdf[_0x4e1911]));}function getValidLayout(_0x31d348,_0x1ea94c,_0x3d7562){const _0x492406=a110_0x12c49f,_0x57db04=[],_0x32ec12=Array['isArray'](_0x31d348)?_0x31d348:[_0x31d348];for(const _0x5cba94 in _0x32ec12){isValidPermission(_0x32ec12[_0x5cba94],_0x1ea94c,_0x3d7562)&&(!_0x32ec12[_0x5cba94]['recordType']&&_0x57db04['push'](_0x32ec12[_0x5cba94]),isValidPermission(_0x32ec12[_0x5cba94],_0x492406(0x195),_0x3d7562)&&_0x57db04[_0x492406(0x175)](_0x32ec12[_0x5cba94]));}return _0x57db04;}function a110_0x337b(){const _0x150672=['pageAccesses','2735825bSQZCs','search','defineProperty','push','customMetadataTypeAccesses','content','tabVisibilities','toString','userPermissions','Component_Name__c','get','fieldPermissions','hasActivationRequired','buildObject','../../git/parsers/utils/xml','flowAccesses','customPermissions','228426mIqCTA','includes','flow','__esModule','PermissionSet','mergeComponentPermissions','categoryGroupVisibilities','isArray','object','name','findIndex','UTF-8','1.0','parse','Builder','extractComponentPermissions','apexClass','application','recordTypeVisibilities','24OxHYeZ','tabSettings','apply','description','loginIpRanges','854910jotgdo','applicationVisibilities','custom','field','197352qaWOAq','label','612428kVOxOf','1943501wCQjde','Xml','http://soap.sforce.com/2006/04/metadata','(((.+)+)+)+$','tab','objectPermissions','constructor','customSettingAccesses','Profile','classAccesses','apexPage','Component__r','xml2js','70845AefMNN','layoutAssignments','length'];a110_0x337b=function(){return _0x150672;};return a110_0x337b();}async function getReadyComponent(_0x36a27d,_0x28e41c){const _0xcf9a89=a110_0x12c49f,_0x1884c2=await xml_1[_0xcf9a89(0x1a3)][_0xcf9a89(0x190)](_0x36a27d);return prepareDeleteComponent[_0x28e41c](_0x1884c2);}