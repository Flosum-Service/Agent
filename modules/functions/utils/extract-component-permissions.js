'use strict';function a109_0x4e5a(_0x13f786,_0x3c6cb2){const _0x329f42=a109_0xccce();return a109_0x4e5a=function(_0x39aca5,_0x5c88f8){_0x39aca5=_0x39aca5-0x1a3;let _0xccce42=_0x329f42[_0x39aca5];return _0xccce42;},a109_0x4e5a(_0x13f786,_0x3c6cb2);}const a109_0x4c4f20=a109_0x4e5a;(function(_0x235835,_0x4d3833){const _0x28eb45=a109_0x4e5a,_0x3730b8=_0x235835();while(!![]){try{const _0x5e5666=-parseInt(_0x28eb45(0x1b9))/0x1+-parseInt(_0x28eb45(0x1de))/0x2+parseInt(_0x28eb45(0x1b4))/0x3*(-parseInt(_0x28eb45(0x1c9))/0x4)+-parseInt(_0x28eb45(0x1ce))/0x5+-parseInt(_0x28eb45(0x1c1))/0x6+parseInt(_0x28eb45(0x1db))/0x7*(parseInt(_0x28eb45(0x1df))/0x8)+parseInt(_0x28eb45(0x1bb))/0x9;if(_0x5e5666===_0x4d3833)break;else _0x3730b8['push'](_0x3730b8['shift']());}catch(_0xda7335){_0x3730b8['push'](_0x3730b8['shift']());}}}(a109_0xccce,0xbdce0));Object[a109_0x4c4f20(0x1d5)](exports,a109_0x4c4f20(0x1b8),{'value':!![]}),exports[a109_0x4c4f20(0x1aa)]=exports[a109_0x4c4f20(0x1ad)]=void 0x0;const xml_1=require(a109_0x4c4f20(0x1dd)),xml2js_1=require(a109_0x4c4f20(0x1a6)),PERMISSIONS_MAP=new Map([['classAccesses',a109_0x4c4f20(0x1a4)],['pageAccesses',a109_0x4c4f20(0x1dc)],['tabSettings',a109_0x4c4f20(0x1b3)],[a109_0x4c4f20(0x1cc),'tab'],[a109_0x4c4f20(0x1a5),a109_0x4c4f20(0x1b1)],[a109_0x4c4f20(0x1b0),a109_0x4c4f20(0x1d6)],[a109_0x4c4f20(0x1af),a109_0x4c4f20(0x1b6)],[a109_0x4c4f20(0x1c5),a109_0x4c4f20(0x1a8)],[a109_0x4c4f20(0x1bd),a109_0x4c4f20(0x1a8)],[a109_0x4c4f20(0x1d7),a109_0x4c4f20(0x1b7)],[a109_0x4c4f20(0x1c0),'externalDataSource'],[a109_0x4c4f20(0x1d4),a109_0x4c4f20(0x1a8)],[a109_0x4c4f20(0x1bc),a109_0x4c4f20(0x1d2)],[a109_0x4c4f20(0x1d8),a109_0x4c4f20(0x1cb)],[a109_0x4c4f20(0x1ba),a109_0x4c4f20(0x1ae)],[a109_0x4c4f20(0x1da),a109_0x4c4f20(0x1be)]]);var UNREMOVE_PERMISSION;(function(_0x1003ad){const _0x1d04c6=a109_0x4c4f20,_0x4bfcf8=(function(){let _0x2ccbc8=!![];return function(_0x4f3567,_0x1a98e2){const _0x12283e=_0x2ccbc8?function(){const _0x6e3665=a109_0x4e5a;if(_0x1a98e2){const _0x59f7d5=_0x1a98e2[_0x6e3665(0x1c6)](_0x4f3567,arguments);return _0x1a98e2=null,_0x59f7d5;}}:function(){};return _0x2ccbc8=![],_0x12283e;};}()),_0x10b266=_0x4bfcf8(this,function(){const _0x5d78a8=a109_0x4e5a;return _0x10b266[_0x5d78a8(0x1d0)]()[_0x5d78a8(0x1ab)](_0x5d78a8(0x1a9))[_0x5d78a8(0x1d0)]()[_0x5d78a8(0x1c3)](_0x10b266)[_0x5d78a8(0x1ab)]('(((.+)+)+)+$');});_0x10b266(),_0x1003ad[_0x1d04c6(0x1b5)]=_0x1d04c6(0x1b5),_0x1003ad[_0x1d04c6(0x1c4)]=_0x1d04c6(0x1c4),_0x1003ad['custom']='custom',_0x1003ad[_0x1d04c6(0x1a7)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x182d47=>{const _0x415dd0=a109_0x4c4f20;var _0xa51fcd,_0x5e18cd;return(_0xa51fcd=_0x182d47['Profile'])===null||_0xa51fcd===void 0x0?!![]:delete _0xa51fcd[_0x415dd0(0x1d1)],(_0x5e18cd=_0x182d47['Profile'])===null||_0x5e18cd===void 0x0?!![]:delete _0x5e18cd['loginIpRanges'],_0x182d47;},'PermissionSet':_0x209460=>{const _0x35655d=a109_0x4c4f20;var _0x44e866,_0x4fac48;return(_0x44e866=_0x209460[_0x35655d(0x1d3)])===null||_0x44e866===void 0x0?!![]:delete _0x44e866[_0x35655d(0x1d1)],(_0x4fac48=_0x209460[_0x35655d(0x1d3)])===null||_0x4fac48===void 0x0?!![]:delete _0x4fac48['loginIpRanges'],_0x209460;}};async function extractComponentPermissions(_0x50d856,_0x4005f1,_0x2a36a0){const _0xb3d650=a109_0x4c4f20,_0xfc2c04=await getReadyComponent(_0x50d856,_0x2a36a0),_0x49e4a6=_0xfc2c04[_0x2a36a0];if(!_0x49e4a6)return _0xfc2c04;for(const _0x55e874 in _0x49e4a6){if(UNREMOVE_PERMISSION[_0x55e874])continue;const _0x1de13f=_0x49e4a6[_0x55e874],_0x4f85e5=getValidPermission(_0x1de13f,_0x55e874,_0x4005f1);_0x4f85e5[_0xb3d650(0x1bf)]?_0x49e4a6[_0x55e874]=_0x4f85e5:delete _0x49e4a6[_0x55e874];}return _0xfc2c04[_0x2a36a0]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0xfc2c04;}exports[a109_0x4c4f20(0x1ad)]=extractComponentPermissions;function a109_0xccce(){const _0x2d5028=['externalDataSourceAccesses','1570170vlaAnF','get','constructor','label','customMetadataTypeAccesses','apply','Component_Name__c','includes','1857836YzfpYG','parse','layout','tabVisibilities','some','3394910junrBp','isArray','toString','userPermissions','flow','PermissionSet','customPermissions','defineProperty','dataCategoryGroup','applicationVisibilities','layoutAssignments','UTF-8','fieldPermissions','6428695sVqWct','apexPage','../../git/parsers/utils/xml','784854eXuiRi','8jZshWD','findIndex','Xml','apexClass','profileActionOverrides','xml2js','description','name','(((.+)+)+)+$','mergeComponentPermissions','search','push','extractComponentPermissions','recordType','objectPermissions','categoryGroupVisibilities','content','Component__r','tab','6jbTxdA','hasActivationRequired','object','application','__esModule','320454gGKgXq','recordTypeVisibilities','21973779YfZOMg','flowAccesses','customSettingAccesses','field','length'];a109_0xccce=function(){return _0x2d5028;};return a109_0xccce();}async function mergeComponentPermissions(_0x5ca178,_0x2835cf,_0x4409da){const _0x17f26e=a109_0x4c4f20,_0x19a5c2=await xml_1[_0x17f26e(0x1a3)][_0x17f26e(0x1ca)](_0x5ca178),_0xe432e3=await xml_1[_0x17f26e(0x1a3)][_0x17f26e(0x1ca)](_0x2835cf),_0x33a750=_0x19a5c2[_0x4409da],_0x5d18e4=_0xe432e3[_0x4409da];if(!_0x33a750)return _0x2835cf;for(const _0x2d8f6e in _0x33a750){const _0x451ef8=PERMISSIONS_MAP[_0x17f26e(0x1c2)](_0x2d8f6e);if(!_0x451ef8||!_0x5d18e4[_0x2d8f6e]){_0x5d18e4[_0x2d8f6e]=_0x33a750[_0x2d8f6e];continue;}for(const _0x2e7c7d of _0x33a750[_0x2d8f6e]){const _0x93de15=_0x5d18e4[_0x2d8f6e][_0x17f26e(0x1e0)](_0xc12b0b=>_0x2e7c7d[_0x451ef8][0x0]===_0xc12b0b[_0x451ef8][0x0]);_0x93de15!==-0x1?_0x5d18e4[_0x2d8f6e][_0x93de15]=_0x2e7c7d:_0x5d18e4[_0x2d8f6e][_0x17f26e(0x1ac)](_0x2e7c7d);}}_0xe432e3[_0x4409da]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'};const _0x3fa794=new xml2js_1['Builder']({'xmldec':{'version':'1.0','encoding':_0x17f26e(0x1d9)}});return _0x3fa794['buildObject'](_0xe432e3);}exports[a109_0x4c4f20(0x1aa)]=mergeComponentPermissions;function getValidPermission(_0x950df8,_0x1e3a4e,_0x19c1fa){const _0x5973e5=a109_0x4c4f20;let _0x51c7c4=[];if(_0x1e3a4e===_0x5973e5(0x1d8))_0x51c7c4=getValidLayout(_0x950df8,_0x1e3a4e,_0x19c1fa);else{const _0xcefeeb=Array[_0x5973e5(0x1cf)](_0x950df8)?_0x950df8:[_0x950df8];for(const _0x29b96d of _0xcefeeb){isValidPermission(_0x29b96d,_0x1e3a4e,_0x19c1fa)&&_0x51c7c4['push'](_0x29b96d);}}return _0x51c7c4;}function isValidPermission(_0x5b15ff,_0xed294b,_0x562d25){const _0x35d6fc=a109_0x4c4f20,_0x1a6e84=PERMISSIONS_MAP[_0x35d6fc(0x1c2)](_0xed294b);return _0x5b15ff[_0x1a6e84]&&_0x562d25[_0x35d6fc(0x1cd)](_0x2e07a9=>_0x2e07a9[_0x35d6fc(0x1b2)][_0x35d6fc(0x1c7)][_0x35d6fc(0x1c8)](_0x5b15ff[_0x1a6e84]));}function getValidLayout(_0x21e5b2,_0xdfcdd9,_0x577599){const _0x4a6857=a109_0x4c4f20,_0x167261=[],_0xcd1741=Array[_0x4a6857(0x1cf)](_0x21e5b2)?_0x21e5b2:[_0x21e5b2];for(const _0x31c59e in _0xcd1741){isValidPermission(_0xcd1741[_0x31c59e],_0xdfcdd9,_0x577599)&&(!_0xcd1741[_0x31c59e]['recordType']&&_0x167261[_0x4a6857(0x1ac)](_0xcd1741[_0x31c59e]),isValidPermission(_0xcd1741[_0x31c59e],_0x4a6857(0x1ba),_0x577599)&&_0x167261['push'](_0xcd1741[_0x31c59e]));}return _0x167261;}async function getReadyComponent(_0x7ef1d2,_0x1a2c4e){const _0x2b58cb=a109_0x4c4f20,_0x11d21a=await xml_1[_0x2b58cb(0x1a3)][_0x2b58cb(0x1ca)](_0x7ef1d2);return prepareDeleteComponent[_0x1a2c4e](_0x11d21a);}