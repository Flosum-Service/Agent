'use strict';const a91_0x90c0a9=a91_0x2f29;(function(_0x576cd7,_0x1d4f82){const _0x5160de=a91_0x2f29,_0x20d10c=_0x576cd7();while(!![]){try{const _0x2deb4e=parseInt(_0x5160de(0x174))/0x1*(-parseInt(_0x5160de(0x17f))/0x2)+parseInt(_0x5160de(0x196))/0x3+parseInt(_0x5160de(0x18e))/0x4*(parseInt(_0x5160de(0x19a))/0x5)+-parseInt(_0x5160de(0x173))/0x6+-parseInt(_0x5160de(0x181))/0x7*(parseInt(_0x5160de(0x17c))/0x8)+-parseInt(_0x5160de(0x17d))/0x9*(-parseInt(_0x5160de(0x17e))/0xa)+-parseInt(_0x5160de(0x177))/0xb;if(_0x2deb4e===_0x1d4f82)break;else _0x20d10c['push'](_0x20d10c['shift']());}catch(_0x40273e){_0x20d10c['push'](_0x20d10c['shift']());}}}(a91_0x2199,0xec09a));function a91_0x2f29(_0x9289f3,_0x28db61){const _0x48e01b=a91_0x2199();return a91_0x2f29=function(_0x3ad81a,_0x1e87ca){_0x3ad81a=_0x3ad81a-0x169;let _0x2199e9=_0x48e01b[_0x3ad81a];return _0x2199e9;},a91_0x2f29(_0x9289f3,_0x28db61);}Object['defineProperty'](exports,a91_0x90c0a9(0x190),{'value':!![]}),exports[a91_0x90c0a9(0x16f)]=void 0x0;const xml_1=require('../../git/parsers/utils/xml'),PERMISSIONS_MAP=new Map([['classAccesses',a91_0x90c0a9(0x180)],['pageAccesses',a91_0x90c0a9(0x171)],[a91_0x90c0a9(0x197),a91_0x90c0a9(0x194)],[a91_0x90c0a9(0x18d),a91_0x90c0a9(0x194)],[a91_0x90c0a9(0x185),a91_0x90c0a9(0x18a)],[a91_0x90c0a9(0x179),a91_0x90c0a9(0x18c)],[a91_0x90c0a9(0x169),a91_0x90c0a9(0x16d)],[a91_0x90c0a9(0x191),a91_0x90c0a9(0x17b)],[a91_0x90c0a9(0x172),a91_0x90c0a9(0x17b)],['applicationVisibilities',a91_0x90c0a9(0x18f)],['externalDataSourceAccesses',a91_0x90c0a9(0x187)],[a91_0x90c0a9(0x19c),a91_0x90c0a9(0x17b)],[a91_0x90c0a9(0x195),'flow'],['layoutAssignments',a91_0x90c0a9(0x16a)],[a91_0x90c0a9(0x16c),'recordType'],[a91_0x90c0a9(0x186),'field']]);var UNREMOVE_PERMISSION;(function(_0x463441){const _0x378bdf=a91_0x90c0a9,_0x1329f0=(function(){let _0xda915b=!![];return function(_0x4f87df,_0x5a913b){const _0x4b12f2=_0xda915b?function(){const _0x589528=a91_0x2f29;if(_0x5a913b){const _0x36a8b8=_0x5a913b[_0x589528(0x19b)](_0x4f87df,arguments);return _0x5a913b=null,_0x36a8b8;}}:function(){};return _0xda915b=![],_0x4b12f2;};}()),_0x1b95f0=_0x1329f0(this,function(){const _0x167032=a91_0x2f29;return _0x1b95f0['toString']()[_0x167032(0x170)]('(((.+)+)+)+$')['toString']()[_0x167032(0x178)](_0x1b95f0)['search'](_0x167032(0x193));});_0x1b95f0(),_0x463441['hasActivationRequired']='hasActivationRequired',_0x463441[_0x378bdf(0x16b)]='label',_0x463441[_0x378bdf(0x199)]=_0x378bdf(0x199),_0x463441['description']=_0x378bdf(0x198);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x1efdf2=>{const _0x45bf7d=a91_0x90c0a9;var _0x2bb2dd,_0x3954c6;return(_0x2bb2dd=_0x1efdf2[_0x45bf7d(0x19f)])===null||_0x2bb2dd===void 0x0?!![]:delete _0x2bb2dd[_0x45bf7d(0x188)],(_0x3954c6=_0x1efdf2[_0x45bf7d(0x19f)])===null||_0x3954c6===void 0x0?!![]:delete _0x3954c6[_0x45bf7d(0x192)],_0x1efdf2;},'PermissionSet':_0x2381c5=>{const _0x185801=a91_0x90c0a9;var _0x54f01a,_0x276dac;return(_0x54f01a=_0x2381c5['PermissionSet'])===null||_0x54f01a===void 0x0?!![]:delete _0x54f01a[_0x185801(0x188)],(_0x276dac=_0x2381c5[_0x185801(0x17a)])===null||_0x276dac===void 0x0?!![]:delete _0x276dac['loginIpRanges'],_0x2381c5;}};async function extractComponentPermissions(_0x238f76,_0x463fe9,_0x5d4b76){const _0x15ddd3=a91_0x90c0a9,_0x40804=await getReadyComponent(_0x238f76,_0x5d4b76),_0x4f85a3=_0x40804[_0x5d4b76];if(!_0x4f85a3)return _0x40804;for(const _0x2cf9f5 in _0x4f85a3){if(UNREMOVE_PERMISSION[_0x2cf9f5])continue;const _0x1fa246=_0x4f85a3[_0x2cf9f5],_0x26ae45=getValidPermission(_0x1fa246,_0x2cf9f5,_0x463fe9);_0x26ae45['length']?_0x4f85a3[_0x2cf9f5]=_0x26ae45:delete _0x4f85a3[_0x2cf9f5];}return _0x40804[_0x5d4b76]['$']={'xmlns':_0x15ddd3(0x184)},_0x40804;}exports[a91_0x90c0a9(0x16f)]=extractComponentPermissions;function getValidPermission(_0xc933b2,_0x1efff9,_0x596e6a){const _0xe7e245=a91_0x90c0a9;let _0x4d0638=[];if(_0x1efff9===_0xe7e245(0x19d))_0x4d0638=getValidLayout(_0xc933b2,_0x1efff9,_0x596e6a);else{const _0x285096=Array[_0xe7e245(0x16e)](_0xc933b2)?_0xc933b2:[_0xc933b2];for(const _0x1f5849 of _0x285096){isValidPermission(_0x1f5849,_0x1efff9,_0x596e6a)&&_0x4d0638[_0xe7e245(0x176)](_0x1f5849);}}return _0x4d0638;}function isValidPermission(_0x5c39bc,_0x173403,_0xfc0e85){const _0x8c6f5b=a91_0x90c0a9,_0x55c7d5=PERMISSIONS_MAP[_0x8c6f5b(0x182)](_0x173403);return _0x5c39bc[_0x55c7d5]&&_0xfc0e85[_0x8c6f5b(0x19e)](_0x27d6ba=>_0x27d6ba['Component__r'][_0x8c6f5b(0x183)][_0x8c6f5b(0x18b)](_0x5c39bc[_0x55c7d5]));}function a91_0x2199(){const _0x651d3e=['2051790Agikmp','tabSettings','description','custom','125zpSZAR','apply','customPermissions','layoutAssignments','some','Profile','objectPermissions','layout','label','recordTypeVisibilities','object','isArray','extractComponentPermissions','search','apexPage','customSettingAccesses','989898cRmOyv','849784WBFOmD','parse','push','4476956WwqTEY','constructor','categoryGroupVisibilities','PermissionSet','name','8VmUDEg','1172214cxnbck','130YwWCup','2lkjGcY','apexClass','4316585eaAbYN','get','Component_Name__c','http://soap.sforce.com/2006/04/metadata','profileActionOverrides','fieldPermissions','externalDataSource','userPermissions','recordType','content','includes','dataCategoryGroup','tabVisibilities','100496zqtcOX','application','__esModule','customMetadataTypeAccesses','loginIpRanges','(((.+)+)+)+$','tab','flowAccesses'];a91_0x2199=function(){return _0x651d3e;};return a91_0x2199();}function getValidLayout(_0x450f50,_0x502c6a,_0xd49ed7){const _0xabf803=a91_0x90c0a9,_0x21c5f8=[],_0x134ca8=Array[_0xabf803(0x16e)](_0x450f50)?_0x450f50:[_0x450f50];for(const _0x9d611a in _0x134ca8){isValidPermission(_0x134ca8[_0x9d611a],_0x502c6a,_0xd49ed7)&&(!_0x134ca8[_0x9d611a][_0xabf803(0x189)]&&_0x21c5f8['push'](_0x134ca8[_0x9d611a]),isValidPermission(_0x134ca8[_0x9d611a],_0xabf803(0x16c),_0xd49ed7)&&_0x21c5f8[_0xabf803(0x176)](_0x134ca8[_0x9d611a]));}return _0x21c5f8;}async function getReadyComponent(_0xe36ee2,_0x53e188){const _0x154794=a91_0x90c0a9,_0x3e05dd=await xml_1['Xml'][_0x154794(0x175)](_0xe36ee2);return prepareDeleteComponent[_0x53e188](_0x3e05dd);}