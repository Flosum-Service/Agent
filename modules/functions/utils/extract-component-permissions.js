'use strict';const a60_0x2620e8=a60_0x277d;(function(_0x148827,_0x33b2af){const _0x1516f1=a60_0x277d,_0x23e9b3=_0x148827();while(!![]){try{const _0x50ad65=parseInt(_0x1516f1(0x9c))/0x1*(parseInt(_0x1516f1(0xb5))/0x2)+-parseInt(_0x1516f1(0xa0))/0x3+-parseInt(_0x1516f1(0xb8))/0x4*(parseInt(_0x1516f1(0xa6))/0x5)+-parseInt(_0x1516f1(0xad))/0x6+parseInt(_0x1516f1(0xb3))/0x7*(parseInt(_0x1516f1(0xa8))/0x8)+parseInt(_0x1516f1(0xac))/0x9*(-parseInt(_0x1516f1(0xbb))/0xa)+parseInt(_0x1516f1(0x8e))/0xb;if(_0x50ad65===_0x33b2af)break;else _0x23e9b3['push'](_0x23e9b3['shift']());}catch(_0x4c32e0){_0x23e9b3['push'](_0x23e9b3['shift']());}}}(a60_0x1610,0x98a3a));Object[a60_0x2620e8(0x91)](exports,'__esModule',{'value':!![]}),exports[a60_0x2620e8(0x97)]=void 0x0;const xml_1=require('../../git/parsers/utils/xml'),PERMISSIONS_MAP=new Map([[a60_0x2620e8(0xb9),a60_0x2620e8(0xaf)],[a60_0x2620e8(0x90),a60_0x2620e8(0x8c)],['tabSettings',a60_0x2620e8(0x9d)],[a60_0x2620e8(0xb6),a60_0x2620e8(0x9d)],[a60_0x2620e8(0xc2),'content'],['categoryGroupVisibilities',a60_0x2620e8(0xc0)],[a60_0x2620e8(0xc1),a60_0x2620e8(0xb4)],[a60_0x2620e8(0x96),a60_0x2620e8(0xc3)],[a60_0x2620e8(0x9b),a60_0x2620e8(0xc3)],[a60_0x2620e8(0xb0),'application'],['externalDataSourceAccesses',a60_0x2620e8(0x9a)],['customPermissions',a60_0x2620e8(0xc3)],[a60_0x2620e8(0xa2),a60_0x2620e8(0x93)],[a60_0x2620e8(0x98),a60_0x2620e8(0x8d)],[a60_0x2620e8(0xa1),a60_0x2620e8(0xbc)],[a60_0x2620e8(0xa3),a60_0x2620e8(0xa5)]]);var UNREMOVE_PERMISSION;(function(_0x513cf2){const _0x166e97=a60_0x2620e8,_0x4fd02b=(function(){let _0x1aca52=!![];return function(_0x1914f3,_0x3a9de4){const _0x25b431=_0x1aca52?function(){const _0x137ead=a60_0x277d;if(_0x3a9de4){const _0x35ff85=_0x3a9de4[_0x137ead(0x94)](_0x1914f3,arguments);return _0x3a9de4=null,_0x35ff85;}}:function(){};return _0x1aca52=![],_0x25b431;};}()),_0x341bf8=_0x4fd02b(this,function(){const _0xb9efb3=a60_0x277d;return _0x341bf8[_0xb9efb3(0x9e)]()['search'](_0xb9efb3(0x99))[_0xb9efb3(0x9e)]()[_0xb9efb3(0x95)](_0x341bf8)[_0xb9efb3(0xae)](_0xb9efb3(0x99));});_0x341bf8(),_0x513cf2[_0x166e97(0xb7)]='hasActivationRequired',_0x513cf2['label']=_0x166e97(0x92),_0x513cf2[_0x166e97(0xa7)]=_0x166e97(0xa7),_0x513cf2[_0x166e97(0xb2)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x24f969=>{const _0x1e66d3=a60_0x2620e8;var _0x51cfbb,_0x4cd4ff;return(_0x51cfbb=_0x24f969[_0x1e66d3(0xbf)])===null||_0x51cfbb===void 0x0?!![]:delete _0x51cfbb[_0x1e66d3(0xa4)],(_0x4cd4ff=_0x24f969[_0x1e66d3(0xbf)])===null||_0x4cd4ff===void 0x0?!![]:delete _0x4cd4ff[_0x1e66d3(0xbd)],_0x24f969;},'PermissionSet':_0x4d7c87=>{const _0x3739e7=a60_0x2620e8;var _0x498109,_0x3a9528;return(_0x498109=_0x4d7c87[_0x3739e7(0x9f)])===null||_0x498109===void 0x0?!![]:delete _0x498109[_0x3739e7(0xa4)],(_0x3a9528=_0x4d7c87[_0x3739e7(0x9f)])===null||_0x3a9528===void 0x0?!![]:delete _0x3a9528[_0x3739e7(0xbd)],_0x4d7c87;}};async function extractComponentPermissions(_0x598505,_0xe60db,_0x5ee85f){const _0x51747f=a60_0x2620e8,_0x56f5ba=await getReadyComponent(_0x598505,_0x5ee85f),_0x368afa=_0x56f5ba[_0x5ee85f];if(!_0x368afa)return _0x56f5ba;for(const _0x2712ce in _0x368afa){if(UNREMOVE_PERMISSION[_0x2712ce])continue;const _0x16bc82=_0x368afa[_0x2712ce],_0x3c3712=getValidPermission(_0x16bc82,_0x2712ce,_0xe60db);_0x3c3712[_0x51747f(0xa9)]?_0x368afa[_0x2712ce]=_0x3c3712:delete _0x368afa[_0x2712ce];}return _0x56f5ba[_0x5ee85f]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x56f5ba;}exports[a60_0x2620e8(0x97)]=extractComponentPermissions;function getValidPermission(_0x2b4a2d,_0x47724f,_0x206e3){const _0x55e9c5=a60_0x2620e8;let _0x22aa91=[];if(_0x47724f===_0x55e9c5(0x98))_0x22aa91=getValidLayout(_0x2b4a2d,_0x47724f,_0x206e3);else{const _0x127a24=Array[_0x55e9c5(0x8f)](_0x2b4a2d)?_0x2b4a2d:[_0x2b4a2d];for(const _0x3bc638 of _0x127a24){isValidPermission(_0x3bc638,_0x47724f,_0x206e3)&&_0x22aa91[_0x55e9c5(0x8b)](_0x3bc638);}}return _0x22aa91;}function a60_0x277d(_0x25c738,_0x18b0a8){const _0x1f8ae9=a60_0x1610();return a60_0x277d=function(_0x16d18e,_0x5c6859){_0x16d18e=_0x16d18e-0x8b;let _0x1610b5=_0x1f8ae9[_0x16d18e];return _0x1610b5;},a60_0x277d(_0x25c738,_0x18b0a8);}function isValidPermission(_0x485218,_0x57cd71,_0x5e61ef){const _0x46fa3b=a60_0x2620e8,_0x415a6b=PERMISSIONS_MAP['get'](_0x57cd71);return _0x485218[_0x415a6b]&&_0x5e61ef[_0x46fa3b(0xab)](_0x2d7e3d=>_0x2d7e3d[_0x46fa3b(0xbe)][_0x46fa3b(0xba)][_0x46fa3b(0xb1)](_0x485218[_0x415a6b]));}function a60_0x1610(){const _0x5bcd1a=['4216134ThupcH','search','apexClass','applicationVisibilities','includes','description','14McacDj','object','1137992eiGNxQ','tabVisibilities','hasActivationRequired','10228HFLMIR','classAccesses','Component_Name__c','8785880HqGxYl','recordType','loginIpRanges','Component__r','Profile','dataCategoryGroup','objectPermissions','profileActionOverrides','name','push','apexPage','layout','15623817QoZSQl','isArray','pageAccesses','defineProperty','label','flow','apply','constructor','customMetadataTypeAccesses','extractComponentPermissions','layoutAssignments','(((.+)+)+)+$','externalDataSource','customSettingAccesses','1tXwTJr','tab','toString','PermissionSet','2386788vnBPmd','recordTypeVisibilities','flowAccesses','fieldPermissions','userPermissions','field','100nNvtTT','custom','4255520ZzFMHH','length','Xml','some','9yGWNSi'];a60_0x1610=function(){return _0x5bcd1a;};return a60_0x1610();}function getValidLayout(_0x34a80d,_0x590b2d,_0x41cf6b){const _0x472c03=a60_0x2620e8,_0x4591ad=[],_0x5789a1=Array[_0x472c03(0x8f)](_0x34a80d)?_0x34a80d:[_0x34a80d];for(const _0x27af72 in _0x5789a1){isValidPermission(_0x5789a1[_0x27af72],_0x590b2d,_0x41cf6b)&&(!_0x5789a1[_0x27af72][_0x472c03(0xbc)]&&_0x4591ad[_0x472c03(0x8b)](_0x5789a1[_0x27af72]),isValidPermission(_0x5789a1[_0x27af72],_0x472c03(0xa1),_0x41cf6b)&&_0x4591ad[_0x472c03(0x8b)](_0x5789a1[_0x27af72]));}return _0x4591ad;}async function getReadyComponent(_0x3696be,_0x474d54){const _0x4f7a72=a60_0x2620e8,_0xf6989=await xml_1[_0x4f7a72(0xaa)]['parse'](_0x3696be);return prepareDeleteComponent[_0x474d54](_0xf6989);}