'use strict';const a91_0x2de8b4=a91_0x4158;(function(_0xadb2e9,_0x202a6c){const _0x5797f9=a91_0x4158,_0x15626f=_0xadb2e9();while(!![]){try{const _0x42bbaf=parseInt(_0x5797f9(0xe3))/0x1*(-parseInt(_0x5797f9(0x101))/0x2)+-parseInt(_0x5797f9(0xfc))/0x3*(-parseInt(_0x5797f9(0xdf))/0x4)+-parseInt(_0x5797f9(0xf3))/0x5+-parseInt(_0x5797f9(0xf1))/0x6+parseInt(_0x5797f9(0xef))/0x7*(parseInt(_0x5797f9(0x104))/0x8)+-parseInt(_0x5797f9(0xe7))/0x9*(-parseInt(_0x5797f9(0x102))/0xa)+parseInt(_0x5797f9(0xe5))/0xb;if(_0x42bbaf===_0x202a6c)break;else _0x15626f['push'](_0x15626f['shift']());}catch(_0x618f10){_0x15626f['push'](_0x15626f['shift']());}}}(a91_0x1eb2,0xae8d6));function a91_0x4158(_0x5ea884,_0x17ab48){const _0x25105c=a91_0x1eb2();return a91_0x4158=function(_0x37ff86,_0x58830f){_0x37ff86=_0x37ff86-0xcd;let _0x1eb21a=_0x25105c[_0x37ff86];return _0x1eb21a;},a91_0x4158(_0x5ea884,_0x17ab48);}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a91_0x2de8b4(0xfe)]=void 0x0;const xml_1=require(a91_0x2de8b4(0xde)),PERMISSIONS_MAP=new Map([[a91_0x2de8b4(0xed),'apexClass'],['pageAccesses',a91_0x2de8b4(0xd9)],[a91_0x2de8b4(0xe0),'tab'],['tabVisibilities',a91_0x2de8b4(0xff)],[a91_0x2de8b4(0x103),a91_0x2de8b4(0xd7)],[a91_0x2de8b4(0xdd),a91_0x2de8b4(0xf7)],[a91_0x2de8b4(0xec),a91_0x2de8b4(0xdc)],['customMetadataTypeAccesses','name'],[a91_0x2de8b4(0xf6),'name'],['applicationVisibilities',a91_0x2de8b4(0xe8)],[a91_0x2de8b4(0xe2),'externalDataSource'],[a91_0x2de8b4(0xdb),a91_0x2de8b4(0xd4)],[a91_0x2de8b4(0xd1),a91_0x2de8b4(0xf0)],[a91_0x2de8b4(0x105),a91_0x2de8b4(0xda)],[a91_0x2de8b4(0xcd),'recordType'],[a91_0x2de8b4(0x100),a91_0x2de8b4(0xfa)]]);var UNREMOVE_PERMISSION;(function(_0x437334){const _0xcdaca1=a91_0x2de8b4,_0x508ea7=(function(){let _0x468496=!![];return function(_0xde812b,_0x4254d2){const _0x240e40=_0x468496?function(){const _0x54d882=a91_0x4158;if(_0x4254d2){const _0x2dc491=_0x4254d2[_0x54d882(0xf5)](_0xde812b,arguments);return _0x4254d2=null,_0x2dc491;}}:function(){};return _0x468496=![],_0x240e40;};}()),_0x496cd6=_0x508ea7(this,function(){const _0x38e9a6=a91_0x4158;return _0x496cd6[_0x38e9a6(0xd8)]()[_0x38e9a6(0xd5)]('(((.+)+)+)+$')[_0x38e9a6(0xd8)]()[_0x38e9a6(0xd0)](_0x496cd6)[_0x38e9a6(0xd5)](_0x38e9a6(0xf4));});_0x496cd6(),_0x437334[_0xcdaca1(0xea)]='hasActivationRequired',_0x437334['label']=_0xcdaca1(0xf9),_0x437334[_0xcdaca1(0xe6)]=_0xcdaca1(0xe6),_0x437334['description']='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x310b27=>{const _0x200a8b=a91_0x2de8b4;var _0x5d26c3,_0x2bd5f8;return(_0x5d26c3=_0x310b27[_0x200a8b(0xee)])===null||_0x5d26c3===void 0x0?!![]:delete _0x5d26c3[_0x200a8b(0xd6)],(_0x2bd5f8=_0x310b27['Profile'])===null||_0x2bd5f8===void 0x0?!![]:delete _0x2bd5f8[_0x200a8b(0xcf)],_0x310b27;},'PermissionSet':_0x409f52=>{const _0x526eda=a91_0x2de8b4;var _0x500506,_0x30b32d;return(_0x500506=_0x409f52[_0x526eda(0xe1)])===null||_0x500506===void 0x0?!![]:delete _0x500506[_0x526eda(0xd6)],(_0x30b32d=_0x409f52['PermissionSet'])===null||_0x30b32d===void 0x0?!![]:delete _0x30b32d[_0x526eda(0xcf)],_0x409f52;}};async function extractComponentPermissions(_0x44b7c7,_0x6b10d3,_0x11b661){const _0x2f7b3d=a91_0x2de8b4,_0x3039a1=await getReadyComponent(_0x44b7c7,_0x11b661),_0x433de9=_0x3039a1[_0x11b661];if(!_0x433de9)return _0x3039a1;for(const _0x2abf09 in _0x433de9){if(UNREMOVE_PERMISSION[_0x2abf09])continue;const _0x18b45c=_0x433de9[_0x2abf09],_0x4e801e=getValidPermission(_0x18b45c,_0x2abf09,_0x6b10d3);_0x4e801e[_0x2f7b3d(0xf8)]?_0x433de9[_0x2abf09]=_0x4e801e:delete _0x433de9[_0x2abf09];}return _0x3039a1[_0x11b661]['$']={'xmlns':_0x2f7b3d(0xe4)},_0x3039a1;}exports['extractComponentPermissions']=extractComponentPermissions;function a91_0x1eb2(){const _0x5643fd=['isArray','extractComponentPermissions','tab','fieldPermissions','220nlZEVy','5140SjFTIl','profileActionOverrides','28352tGNjdS','layoutAssignments','recordTypeVisibilities','some','loginIpRanges','constructor','flowAccesses','includes','push','name','search','userPermissions','content','toString','apexPage','layout','customPermissions','object','categoryGroupVisibilities','../../git/parsers/utils/xml','20364TiSvcQ','tabSettings','PermissionSet','externalDataSourceAccesses','7559mnaNbr','http://soap.sforce.com/2006/04/metadata','3889908pNGnRi','custom','21159FFVrcM','application','get','hasActivationRequired','parse','objectPermissions','classAccesses','Profile','658MbogPt','flow','2127438iUUozD','recordType','1141675ghJGGL','(((.+)+)+)+$','apply','customSettingAccesses','dataCategoryGroup','length','label','field','Xml','138SXErKh'];a91_0x1eb2=function(){return _0x5643fd;};return a91_0x1eb2();}function getValidPermission(_0x1d2b27,_0x2e07fa,_0x54a5cf){const _0x4f15a6=a91_0x2de8b4;let _0x58131f=[];if(_0x2e07fa===_0x4f15a6(0x105))_0x58131f=getValidLayout(_0x1d2b27,_0x2e07fa,_0x54a5cf);else{const _0x37ab55=Array[_0x4f15a6(0xfd)](_0x1d2b27)?_0x1d2b27:[_0x1d2b27];for(const _0x50b12c of _0x37ab55){isValidPermission(_0x50b12c,_0x2e07fa,_0x54a5cf)&&_0x58131f['push'](_0x50b12c);}}return _0x58131f;}function isValidPermission(_0x4f7357,_0x52ba45,_0x260428){const _0x469093=a91_0x2de8b4,_0x4e5e29=PERMISSIONS_MAP[_0x469093(0xe9)](_0x52ba45);return _0x4f7357[_0x4e5e29]&&_0x260428[_0x469093(0xce)](_0x127c09=>_0x127c09['Component__r']['Component_Name__c'][_0x469093(0xd2)](_0x4f7357[_0x4e5e29]));}function getValidLayout(_0x20f01a,_0x39e21f,_0x5f9348){const _0x50054f=a91_0x2de8b4,_0x164fe7=[],_0x4ad576=Array[_0x50054f(0xfd)](_0x20f01a)?_0x20f01a:[_0x20f01a];for(const _0x23d171 in _0x4ad576){isValidPermission(_0x4ad576[_0x23d171],_0x39e21f,_0x5f9348)&&(!_0x4ad576[_0x23d171][_0x50054f(0xf2)]&&_0x164fe7[_0x50054f(0xd3)](_0x4ad576[_0x23d171]),isValidPermission(_0x4ad576[_0x23d171],_0x50054f(0xcd),_0x5f9348)&&_0x164fe7[_0x50054f(0xd3)](_0x4ad576[_0x23d171]));}return _0x164fe7;}async function getReadyComponent(_0x5943db,_0xd47c5d){const _0x3f63cf=a91_0x2de8b4,_0x19ac7c=await xml_1[_0x3f63cf(0xfb)][_0x3f63cf(0xeb)](_0x5943db);return prepareDeleteComponent[_0xd47c5d](_0x19ac7c);}