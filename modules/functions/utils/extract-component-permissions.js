'use strict';const a90_0x514070=a90_0x3c7a;(function(_0x9f8db6,_0x1d8f62){const _0x2cd75d=a90_0x3c7a,_0x393385=_0x9f8db6();while(!![]){try{const _0x7afbf0=-parseInt(_0x2cd75d(0x1cd))/0x1*(parseInt(_0x2cd75d(0x1c1))/0x2)+parseInt(_0x2cd75d(0x1ce))/0x3+parseInt(_0x2cd75d(0x1ab))/0x4*(parseInt(_0x2cd75d(0x1ca))/0x5)+parseInt(_0x2cd75d(0x1c3))/0x6+parseInt(_0x2cd75d(0x1d4))/0x7+-parseInt(_0x2cd75d(0x1da))/0x8+parseInt(_0x2cd75d(0x1d5))/0x9;if(_0x7afbf0===_0x1d8f62)break;else _0x393385['push'](_0x393385['shift']());}catch(_0x48f213){_0x393385['push'](_0x393385['shift']());}}}(a90_0x4d38,0x816df));Object['defineProperty'](exports,a90_0x514070(0x1d6),{'value':!![]}),exports['extractComponentPermissions']=void 0x0;const xml_1=require(a90_0x514070(0x1cc)),PERMISSIONS_MAP=new Map([['classAccesses','apexClass'],[a90_0x514070(0x1b3),a90_0x514070(0x1d0)],[a90_0x514070(0x1a6),a90_0x514070(0x1d2)],[a90_0x514070(0x1bd),a90_0x514070(0x1d2)],[a90_0x514070(0x1d3),'content'],[a90_0x514070(0x1bf),a90_0x514070(0x1a8)],[a90_0x514070(0x1b2),a90_0x514070(0x1b9)],[a90_0x514070(0x1d8),'name'],[a90_0x514070(0x1d9),'name'],['applicationVisibilities',a90_0x514070(0x1bc)],[a90_0x514070(0x1ac),a90_0x514070(0x1c9)],[a90_0x514070(0x1cb),a90_0x514070(0x1a3)],[a90_0x514070(0x1c2),a90_0x514070(0x1b5)],[a90_0x514070(0x1bb),a90_0x514070(0x1b1)],[a90_0x514070(0x1cf),'recordType'],['fieldPermissions',a90_0x514070(0x1c7)]]);function a90_0x3c7a(_0x5c8605,_0x15e38e){const _0x1a9438=a90_0x4d38();return a90_0x3c7a=function(_0x33321e,_0x2bccf4){_0x33321e=_0x33321e-0x1a3;let _0x4d38f2=_0x1a9438[_0x33321e];return _0x4d38f2;},a90_0x3c7a(_0x5c8605,_0x15e38e);}var UNREMOVE_PERMISSION;function a90_0x4d38(){const _0x4e9fd0=['recordTypeVisibilities','apexPage','http://soap.sforce.com/2006/04/metadata','tab','profileActionOverrides','4067868BchiHp','313704MujCbD','__esModule','custom','customMetadataTypeAccesses','customSettingAccesses','3887488dQrVNA','label','name','toString','loginIpRanges','tabSettings','get','dataCategoryGroup','some','search','68xGsJnr','externalDataSourceAccesses','recordType','constructor','Profile','PermissionSet','layout','objectPermissions','pageAccesses','extractComponentPermissions','flow','isArray','description','Component_Name__c','object','push','layoutAssignments','application','tabVisibilities','userPermissions','categoryGroupVisibilities','Component__r','8920VUMAIh','flowAccesses','3340344nRMclx','length','parse','(((.+)+)+)+$','field','hasActivationRequired','externalDataSource','130165tuAily','customPermissions','../../git/parsers/utils/xml','150DiuWVL','209442XOAivS'];a90_0x4d38=function(){return _0x4e9fd0;};return a90_0x4d38();}(function(_0x16e34b){const _0x47ddd8=a90_0x514070,_0x2037e6=(function(){let _0x16047c=!![];return function(_0x32041f,_0x12b2c7){const _0x1f22dc=_0x16047c?function(){if(_0x12b2c7){const _0x54240e=_0x12b2c7['apply'](_0x32041f,arguments);return _0x12b2c7=null,_0x54240e;}}:function(){};return _0x16047c=![],_0x1f22dc;};}()),_0x27dc88=_0x2037e6(this,function(){const _0x187d9c=a90_0x3c7a;return _0x27dc88[_0x187d9c(0x1a4)]()[_0x187d9c(0x1aa)](_0x187d9c(0x1c6))[_0x187d9c(0x1a4)]()[_0x187d9c(0x1ae)](_0x27dc88)[_0x187d9c(0x1aa)]('(((.+)+)+)+$');});_0x27dc88(),_0x16e34b[_0x47ddd8(0x1c8)]=_0x47ddd8(0x1c8),_0x16e34b[_0x47ddd8(0x1db)]='label',_0x16e34b[_0x47ddd8(0x1d7)]=_0x47ddd8(0x1d7),_0x16e34b[_0x47ddd8(0x1b7)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0xc0a08d=>{const _0xd51974=a90_0x514070;var _0x1d9591,_0x15abd7;return(_0x1d9591=_0xc0a08d['Profile'])===null||_0x1d9591===void 0x0?!![]:delete _0x1d9591[_0xd51974(0x1be)],(_0x15abd7=_0xc0a08d[_0xd51974(0x1af)])===null||_0x15abd7===void 0x0?!![]:delete _0x15abd7[_0xd51974(0x1a5)],_0xc0a08d;},'PermissionSet':_0xf391ab=>{const _0x1153c7=a90_0x514070;var _0x98bbf9,_0x225870;return(_0x98bbf9=_0xf391ab[_0x1153c7(0x1b0)])===null||_0x98bbf9===void 0x0?!![]:delete _0x98bbf9[_0x1153c7(0x1be)],(_0x225870=_0xf391ab['PermissionSet'])===null||_0x225870===void 0x0?!![]:delete _0x225870[_0x1153c7(0x1a5)],_0xf391ab;}};async function extractComponentPermissions(_0x2cff22,_0x5244ca,_0x52eadd){const _0x2417ca=a90_0x514070,_0x5caae0=await getReadyComponent(_0x2cff22,_0x52eadd),_0xbc1864=_0x5caae0[_0x52eadd];if(!_0xbc1864)return _0x5caae0;for(const _0x3adfb8 in _0xbc1864){if(UNREMOVE_PERMISSION[_0x3adfb8])continue;const _0x586622=_0xbc1864[_0x3adfb8],_0x41afd4=getValidPermission(_0x586622,_0x3adfb8,_0x5244ca);_0x41afd4[_0x2417ca(0x1c4)]?_0xbc1864[_0x3adfb8]=_0x41afd4:delete _0xbc1864[_0x3adfb8];}return _0x5caae0[_0x52eadd]['$']={'xmlns':_0x2417ca(0x1d1)},_0x5caae0;}exports[a90_0x514070(0x1b4)]=extractComponentPermissions;function getValidPermission(_0x149085,_0xb5a17d,_0x5dc924){const _0x42381e=a90_0x514070;let _0x580a41=[];if(_0xb5a17d===_0x42381e(0x1bb))_0x580a41=getValidLayout(_0x149085,_0xb5a17d,_0x5dc924);else{const _0x144a14=Array['isArray'](_0x149085)?_0x149085:[_0x149085];for(const _0x5a0c4a of _0x144a14){isValidPermission(_0x5a0c4a,_0xb5a17d,_0x5dc924)&&_0x580a41[_0x42381e(0x1ba)](_0x5a0c4a);}}return _0x580a41;}function isValidPermission(_0x4fd302,_0x54e181,_0x17625f){const _0xe5ac0a=a90_0x514070,_0xec60a8=PERMISSIONS_MAP[_0xe5ac0a(0x1a7)](_0x54e181);return _0x4fd302[_0xec60a8]&&_0x17625f[_0xe5ac0a(0x1a9)](_0x4826c4=>_0x4826c4[_0xe5ac0a(0x1c0)][_0xe5ac0a(0x1b8)]['includes'](_0x4fd302[_0xec60a8]));}function getValidLayout(_0x207906,_0x9a2982,_0x2ba040){const _0x5913c9=a90_0x514070,_0x32cce5=[],_0x3548a0=Array[_0x5913c9(0x1b6)](_0x207906)?_0x207906:[_0x207906];for(const _0x55a69f in _0x3548a0){isValidPermission(_0x3548a0[_0x55a69f],_0x9a2982,_0x2ba040)&&(!_0x3548a0[_0x55a69f][_0x5913c9(0x1ad)]&&_0x32cce5[_0x5913c9(0x1ba)](_0x3548a0[_0x55a69f]),isValidPermission(_0x3548a0[_0x55a69f],_0x5913c9(0x1cf),_0x2ba040)&&_0x32cce5['push'](_0x3548a0[_0x55a69f]));}return _0x32cce5;}async function getReadyComponent(_0x3b5833,_0x13b42e){const _0x3b47a1=a90_0x514070,_0x272c87=await xml_1['Xml'][_0x3b47a1(0x1c5)](_0x3b5833);return prepareDeleteComponent[_0x13b42e](_0x272c87);}