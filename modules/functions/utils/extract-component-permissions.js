'use strict';const a91_0x244d54=a91_0xd5ab;(function(_0xaf258a,_0x6944ec){const _0x51b5ae=a91_0xd5ab,_0x1cea3e=_0xaf258a();while(!![]){try{const _0x32d128=-parseInt(_0x51b5ae(0x173))/0x1+parseInt(_0x51b5ae(0x182))/0x2*(parseInt(_0x51b5ae(0x189))/0x3)+-parseInt(_0x51b5ae(0x1a1))/0x4+-parseInt(_0x51b5ae(0x170))/0x5*(parseInt(_0x51b5ae(0x18d))/0x6)+parseInt(_0x51b5ae(0x18e))/0x7+parseInt(_0x51b5ae(0x192))/0x8*(-parseInt(_0x51b5ae(0x171))/0x9)+-parseInt(_0x51b5ae(0x18b))/0xa*(-parseInt(_0x51b5ae(0x184))/0xb);if(_0x32d128===_0x6944ec)break;else _0x1cea3e['push'](_0x1cea3e['shift']());}catch(_0x2b3471){_0x1cea3e['push'](_0x1cea3e['shift']());}}}(a91_0x3501,0x1adc5));Object[a91_0x244d54(0x193)](exports,a91_0x244d54(0x172),{'value':!![]}),exports['extractComponentPermissions']=void 0x0;const xml_1=require(a91_0x244d54(0x1a3)),PERMISSIONS_MAP=new Map([['classAccesses',a91_0x244d54(0x176)],['pageAccesses','apexPage'],[a91_0x244d54(0x194),a91_0x244d54(0x17e)],[a91_0x244d54(0x18a),a91_0x244d54(0x17e)],[a91_0x244d54(0x17a),a91_0x244d54(0x195)],[a91_0x244d54(0x169),a91_0x244d54(0x187)],['objectPermissions',a91_0x244d54(0x175)],[a91_0x244d54(0x18f),'name'],['customSettingAccesses','name'],[a91_0x244d54(0x16a),a91_0x244d54(0x188)],[a91_0x244d54(0x19f),a91_0x244d54(0x19e)],[a91_0x244d54(0x178),a91_0x244d54(0x179)],[a91_0x244d54(0x197),a91_0x244d54(0x1a2)],[a91_0x244d54(0x196),a91_0x244d54(0x181)],['recordTypeVisibilities',a91_0x244d54(0x199)],[a91_0x244d54(0x191),a91_0x244d54(0x18c)]]);var UNREMOVE_PERMISSION;(function(_0x1af299){const _0xf954bb=a91_0x244d54,_0x53b9ae=(function(){let _0x56ec34=!![];return function(_0xafe6c5,_0x32ece0){const _0x542725=_0x56ec34?function(){if(_0x32ece0){const _0x220420=_0x32ece0['apply'](_0xafe6c5,arguments);return _0x32ece0=null,_0x220420;}}:function(){};return _0x56ec34=![],_0x542725;};}()),_0x45c681=_0x53b9ae(this,function(){const _0x2de8cc=a91_0xd5ab;return _0x45c681[_0x2de8cc(0x17d)]()[_0x2de8cc(0x1a0)](_0x2de8cc(0x183))[_0x2de8cc(0x17d)]()['constructor'](_0x45c681)[_0x2de8cc(0x1a0)](_0x2de8cc(0x183));});_0x45c681(),_0x1af299['hasActivationRequired']=_0xf954bb(0x19b),_0x1af299['label']=_0xf954bb(0x19c),_0x1af299[_0xf954bb(0x198)]=_0xf954bb(0x198),_0x1af299[_0xf954bb(0x16e)]=_0xf954bb(0x16e);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));function a91_0x3501(){const _0xd289b7=['1290306pszeMl','1315853lsfPHC','customMetadataTypeAccesses','extractComponentPermissions','fieldPermissions','1682528SSUjKd','defineProperty','tabSettings','content','layoutAssignments','flowAccesses','custom','recordType','recordTypeVisibilities','hasActivationRequired','label','parse','externalDataSource','externalDataSourceAccesses','search','520328NzOrVh','flow','../../git/parsers/utils/xml','categoryGroupVisibilities','applicationVisibilities','isArray','userPermissions','some','description','Component_Name__c','5TkkdYt','9VxoDWs','__esModule','165220ZYcHVS','push','object','apexClass','includes','customPermissions','name','profileActionOverrides','Xml','loginIpRanges','toString','tab','length','get','layout','2062CoMEQi','(((.+)+)+)+$','11xhUzps','Component__r','PermissionSet','dataCategoryGroup','application','57pNmleT','tabVisibilities','6231220ZaneZq','field'];a91_0x3501=function(){return _0xd289b7;};return a91_0x3501();}const prepareDeleteComponent={'Profile':_0x4871b8=>{const _0x25cd8d=a91_0x244d54;var _0x35451c,_0x31e4c6;return(_0x35451c=_0x4871b8['Profile'])===null||_0x35451c===void 0x0?!![]:delete _0x35451c[_0x25cd8d(0x16c)],(_0x31e4c6=_0x4871b8['Profile'])===null||_0x31e4c6===void 0x0?!![]:delete _0x31e4c6[_0x25cd8d(0x17c)],_0x4871b8;},'PermissionSet':_0x596fcc=>{const _0x348047=a91_0x244d54;var _0x4a42e0,_0x27fddd;return(_0x4a42e0=_0x596fcc['PermissionSet'])===null||_0x4a42e0===void 0x0?!![]:delete _0x4a42e0['userPermissions'],(_0x27fddd=_0x596fcc[_0x348047(0x186)])===null||_0x27fddd===void 0x0?!![]:delete _0x27fddd[_0x348047(0x17c)],_0x596fcc;}};async function extractComponentPermissions(_0x5acb11,_0x2732c2,_0x2811f4){const _0x70d5c1=a91_0x244d54,_0x265225=await getReadyComponent(_0x5acb11,_0x2811f4),_0x3d2382=_0x265225[_0x2811f4];if(!_0x3d2382)return _0x265225;for(const _0x5b7fae in _0x3d2382){if(UNREMOVE_PERMISSION[_0x5b7fae])continue;const _0xe77e68=_0x3d2382[_0x5b7fae],_0x5410f8=getValidPermission(_0xe77e68,_0x5b7fae,_0x2732c2);_0x5410f8[_0x70d5c1(0x17f)]?_0x3d2382[_0x5b7fae]=_0x5410f8:delete _0x3d2382[_0x5b7fae];}return _0x265225[_0x2811f4]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x265225;}exports[a91_0x244d54(0x190)]=extractComponentPermissions;function getValidPermission(_0x9864b7,_0x781740,_0x3e766a){const _0x3fe9c4=a91_0x244d54;let _0x7dd144=[];if(_0x781740===_0x3fe9c4(0x196))_0x7dd144=getValidLayout(_0x9864b7,_0x781740,_0x3e766a);else{const _0x463a28=Array[_0x3fe9c4(0x16b)](_0x9864b7)?_0x9864b7:[_0x9864b7];for(const _0xec5092 of _0x463a28){isValidPermission(_0xec5092,_0x781740,_0x3e766a)&&_0x7dd144[_0x3fe9c4(0x174)](_0xec5092);}}return _0x7dd144;}function a91_0xd5ab(_0x390b33,_0x3eda13){const _0x5e1c0e=a91_0x3501();return a91_0xd5ab=function(_0x4314e7,_0x4d6a1d){_0x4314e7=_0x4314e7-0x169;let _0x350112=_0x5e1c0e[_0x4314e7];return _0x350112;},a91_0xd5ab(_0x390b33,_0x3eda13);}function isValidPermission(_0x3a6c64,_0x1f3590,_0x4a5cf5){const _0x44770f=a91_0x244d54,_0x1570cf=PERMISSIONS_MAP[_0x44770f(0x180)](_0x1f3590);return _0x3a6c64[_0x1570cf]&&_0x4a5cf5[_0x44770f(0x16d)](_0x432ed5=>_0x432ed5[_0x44770f(0x185)][_0x44770f(0x16f)][_0x44770f(0x177)](_0x3a6c64[_0x1570cf]));}function getValidLayout(_0x439c05,_0x32640b,_0x3aea1c){const _0x56b65b=a91_0x244d54,_0x57c34a=[],_0x22e5ac=Array[_0x56b65b(0x16b)](_0x439c05)?_0x439c05:[_0x439c05];for(const _0x31babc in _0x22e5ac){isValidPermission(_0x22e5ac[_0x31babc],_0x32640b,_0x3aea1c)&&(!_0x22e5ac[_0x31babc]['recordType']&&_0x57c34a['push'](_0x22e5ac[_0x31babc]),isValidPermission(_0x22e5ac[_0x31babc],_0x56b65b(0x19a),_0x3aea1c)&&_0x57c34a['push'](_0x22e5ac[_0x31babc]));}return _0x57c34a;}async function getReadyComponent(_0x292c84,_0x35ece8){const _0x12857c=a91_0x244d54,_0x512068=await xml_1[_0x12857c(0x17b)][_0x12857c(0x19d)](_0x292c84);return prepareDeleteComponent[_0x35ece8](_0x512068);}