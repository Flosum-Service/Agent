'use strict';const a91_0xaea756=a91_0x47ac;(function(_0x4194f2,_0x546df2){const _0x4dbc3a=a91_0x47ac,_0x113d58=_0x4194f2();while(!![]){try{const _0x234b40=-parseInt(_0x4dbc3a(0x186))/0x1+parseInt(_0x4dbc3a(0x1af))/0x2*(parseInt(_0x4dbc3a(0x1a4))/0x3)+parseInt(_0x4dbc3a(0x1a2))/0x4*(-parseInt(_0x4dbc3a(0x1b1))/0x5)+parseInt(_0x4dbc3a(0x1b9))/0x6+parseInt(_0x4dbc3a(0x1a1))/0x7*(-parseInt(_0x4dbc3a(0x192))/0x8)+-parseInt(_0x4dbc3a(0x182))/0x9*(-parseInt(_0x4dbc3a(0x19e))/0xa)+parseInt(_0x4dbc3a(0x1ac))/0xb*(parseInt(_0x4dbc3a(0x18f))/0xc);if(_0x234b40===_0x546df2)break;else _0x113d58['push'](_0x113d58['shift']());}catch(_0x40fac7){_0x113d58['push'](_0x113d58['shift']());}}}(a91_0x1450,0xc640a));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a91_0xaea756(0x1b2)]=void 0x0;const xml_1=require(a91_0xaea756(0x19d)),PERMISSIONS_MAP=new Map([[a91_0xaea756(0x180),a91_0xaea756(0x1ba)],[a91_0xaea756(0x188),a91_0xaea756(0x1a0)],[a91_0xaea756(0x1ab),a91_0xaea756(0x194)],[a91_0xaea756(0x1a3),a91_0xaea756(0x194)],[a91_0xaea756(0x185),a91_0xaea756(0x1b4)],[a91_0xaea756(0x1b8),a91_0xaea756(0x1b6)],[a91_0xaea756(0x18c),'object'],['customMetadataTypeAccesses','name'],[a91_0xaea756(0x1bb),a91_0xaea756(0x18a)],['applicationVisibilities','application'],[a91_0xaea756(0x184),a91_0xaea756(0x19b)],[a91_0xaea756(0x1b3),a91_0xaea756(0x18a)],[a91_0xaea756(0x1a7),a91_0xaea756(0x193)],['layoutAssignments',a91_0xaea756(0x1a6)],[a91_0xaea756(0x183),a91_0xaea756(0x18e)],[a91_0xaea756(0x197),a91_0xaea756(0x189)]]);function a91_0x1450(){const _0x4821d0=['Component__r','apexPage','27748tAtbhA','28eyjRFm','tabVisibilities','41217wkypek','userPermissions','layout','flowAccesses','isArray','includes','Component_Name__c','tabSettings','326227NsjWGG','apply','hasActivationRequired','6iEXjKy','get','855515QlXkfo','extractComponentPermissions','customPermissions','content','toString','dataCategoryGroup','http://soap.sforce.com/2006/04/metadata','categoryGroupVisibilities','2453502dlhWiz','apexClass','customSettingAccesses','custom','description','classAccesses','Xml','181431dGgaBB','recordTypeVisibilities','externalDataSourceAccesses','profileActionOverrides','337881hpnIvP','layoutAssignments','pageAccesses','field','name','constructor','objectPermissions','(((.+)+)+)+$','recordType','972qIBZdA','PermissionSet','Profile','2768wBGqpz','flow','tab','push','loginIpRanges','fieldPermissions','search','length','parse','externalDataSource','label','../../git/parsers/utils/xml','430uqCiju'];a91_0x1450=function(){return _0x4821d0;};return a91_0x1450();}function a91_0x47ac(_0x21eaa1,_0x202e09){const _0x4cd0e8=a91_0x1450();return a91_0x47ac=function(_0x74b8d7,_0x2b083c){_0x74b8d7=_0x74b8d7-0x17e;let _0x145071=_0x4cd0e8[_0x74b8d7];return _0x145071;},a91_0x47ac(_0x21eaa1,_0x202e09);}var UNREMOVE_PERMISSION;(function(_0x3ec1f9){const _0x44136f=a91_0xaea756,_0x43127a=(function(){let _0x58a75d=!![];return function(_0x121c1c,_0x87f1bd){const _0x39da23=_0x58a75d?function(){const _0x1fb63c=a91_0x47ac;if(_0x87f1bd){const _0x1771bb=_0x87f1bd[_0x1fb63c(0x1ad)](_0x121c1c,arguments);return _0x87f1bd=null,_0x1771bb;}}:function(){};return _0x58a75d=![],_0x39da23;};}()),_0x3c4e57=_0x43127a(this,function(){const _0x43ad6c=a91_0x47ac;return _0x3c4e57[_0x43ad6c(0x1b5)]()[_0x43ad6c(0x198)]('(((.+)+)+)+$')[_0x43ad6c(0x1b5)]()[_0x43ad6c(0x18b)](_0x3c4e57)[_0x43ad6c(0x198)](_0x43ad6c(0x18d));});_0x3c4e57(),_0x3ec1f9[_0x44136f(0x1ae)]=_0x44136f(0x1ae),_0x3ec1f9[_0x44136f(0x19c)]=_0x44136f(0x19c),_0x3ec1f9[_0x44136f(0x17e)]=_0x44136f(0x17e),_0x3ec1f9['description']=_0x44136f(0x17f);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x213556=>{const _0xd5764f=a91_0xaea756;var _0x5cb2ea,_0xdd3fc;return(_0x5cb2ea=_0x213556[_0xd5764f(0x191)])===null||_0x5cb2ea===void 0x0?!![]:delete _0x5cb2ea[_0xd5764f(0x1a5)],(_0xdd3fc=_0x213556['Profile'])===null||_0xdd3fc===void 0x0?!![]:delete _0xdd3fc['loginIpRanges'],_0x213556;},'PermissionSet':_0x1015dc=>{const _0x2f1d77=a91_0xaea756;var _0x53e958,_0x47c978;return(_0x53e958=_0x1015dc['PermissionSet'])===null||_0x53e958===void 0x0?!![]:delete _0x53e958['userPermissions'],(_0x47c978=_0x1015dc[_0x2f1d77(0x190)])===null||_0x47c978===void 0x0?!![]:delete _0x47c978[_0x2f1d77(0x196)],_0x1015dc;}};async function extractComponentPermissions(_0x1c0a48,_0x4c3472,_0x39c9fc){const _0x1eb7ef=a91_0xaea756,_0x1d5275=await getReadyComponent(_0x1c0a48,_0x39c9fc),_0x201f13=_0x1d5275[_0x39c9fc];if(!_0x201f13)return _0x1d5275;for(const _0x18f784 in _0x201f13){if(UNREMOVE_PERMISSION[_0x18f784])continue;const _0x2b4514=_0x201f13[_0x18f784],_0x5e042f=getValidPermission(_0x2b4514,_0x18f784,_0x4c3472);_0x5e042f[_0x1eb7ef(0x199)]?_0x201f13[_0x18f784]=_0x5e042f:delete _0x201f13[_0x18f784];}return _0x1d5275[_0x39c9fc]['$']={'xmlns':_0x1eb7ef(0x1b7)},_0x1d5275;}exports['extractComponentPermissions']=extractComponentPermissions;function getValidPermission(_0x3c6f94,_0x222def,_0x2f2911){const _0xb8b2a9=a91_0xaea756;let _0x50702d=[];if(_0x222def===_0xb8b2a9(0x187))_0x50702d=getValidLayout(_0x3c6f94,_0x222def,_0x2f2911);else{const _0x78d0ea=Array[_0xb8b2a9(0x1a8)](_0x3c6f94)?_0x3c6f94:[_0x3c6f94];for(const _0x345a94 of _0x78d0ea){isValidPermission(_0x345a94,_0x222def,_0x2f2911)&&_0x50702d[_0xb8b2a9(0x195)](_0x345a94);}}return _0x50702d;}function isValidPermission(_0xc96813,_0x46b744,_0x276d15){const _0x45c2c3=a91_0xaea756,_0x4886ef=PERMISSIONS_MAP[_0x45c2c3(0x1b0)](_0x46b744);return _0xc96813[_0x4886ef]&&_0x276d15['some'](_0xe8a83c=>_0xe8a83c[_0x45c2c3(0x19f)][_0x45c2c3(0x1aa)][_0x45c2c3(0x1a9)](_0xc96813[_0x4886ef]));}function getValidLayout(_0x369a7b,_0x525c48,_0x820d5d){const _0x4c95e5=a91_0xaea756,_0x1c4b49=[],_0x4a7c40=Array[_0x4c95e5(0x1a8)](_0x369a7b)?_0x369a7b:[_0x369a7b];for(const _0x493684 in _0x4a7c40){isValidPermission(_0x4a7c40[_0x493684],_0x525c48,_0x820d5d)&&(!_0x4a7c40[_0x493684][_0x4c95e5(0x18e)]&&_0x1c4b49[_0x4c95e5(0x195)](_0x4a7c40[_0x493684]),isValidPermission(_0x4a7c40[_0x493684],_0x4c95e5(0x183),_0x820d5d)&&_0x1c4b49['push'](_0x4a7c40[_0x493684]));}return _0x1c4b49;}async function getReadyComponent(_0x1f88db,_0x3ff1e7){const _0x212077=a91_0xaea756,_0x2fd8e=await xml_1[_0x212077(0x181)][_0x212077(0x19a)](_0x1f88db);return prepareDeleteComponent[_0x3ff1e7](_0x2fd8e);}