'use strict';const a91_0x184572=a91_0x10c2;(function(_0xc4da1e,_0x36be56){const _0xf61f=a91_0x10c2,_0x18d08b=_0xc4da1e();while(!![]){try{const _0x5a8f4d=parseInt(_0xf61f(0xad))/0x1+-parseInt(_0xf61f(0x79))/0x2+parseInt(_0xf61f(0xa8))/0x3+parseInt(_0xf61f(0xa3))/0x4+-parseInt(_0xf61f(0x7d))/0x5*(-parseInt(_0xf61f(0x96))/0x6)+parseInt(_0xf61f(0xa7))/0x7*(parseInt(_0xf61f(0x81))/0x8)+-parseInt(_0xf61f(0x7c))/0x9*(parseInt(_0xf61f(0xa4))/0xa);if(_0x5a8f4d===_0x36be56)break;else _0x18d08b['push'](_0x18d08b['shift']());}catch(_0x566fa5){_0x18d08b['push'](_0x18d08b['shift']());}}}(a91_0x33a3,0x3b4ad));Object[a91_0x184572(0x93)](exports,a91_0x184572(0x83),{'value':!![]}),exports['extractComponentPermissions']=void 0x0;const xml_1=require(a91_0x184572(0x8a)),PERMISSIONS_MAP=new Map([['classAccesses',a91_0x184572(0x8d)],[a91_0x184572(0x8e),a91_0x184572(0x9d)],[a91_0x184572(0xa0),a91_0x184572(0x7a)],[a91_0x184572(0xac),a91_0x184572(0x7a)],[a91_0x184572(0x88),a91_0x184572(0x8c)],[a91_0x184572(0xa2),a91_0x184572(0x99)],[a91_0x184572(0x92),a91_0x184572(0x89)],['customMetadataTypeAccesses',a91_0x184572(0x9f)],['customSettingAccesses',a91_0x184572(0x9f)],[a91_0x184572(0x7e),'application'],['externalDataSourceAccesses',a91_0x184572(0x82)],[a91_0x184572(0x80),a91_0x184572(0x9f)],[a91_0x184572(0x95),a91_0x184572(0xa5)],['layoutAssignments',a91_0x184572(0x9b)],[a91_0x184572(0x7b),a91_0x184572(0x90)],['fieldPermissions','field']]);var UNREMOVE_PERMISSION;function a91_0x33a3(){const _0xdfe5cf=['flowAccesses','6GSZMop','label','description','dataCategoryGroup','includes','layout','http://soap.sforce.com/2006/04/metadata','apexPage','loginIpRanges','name','tabSettings','apply','categoryGroupVisibilities','565476uTDQBb','52570pJVjZA','flow','search','134008AxWyvv','1078125mpouBs','some','toString','PermissionSet','tabVisibilities','452583xKhqmY','932904nUXpSZ','tab','recordTypeVisibilities','1890zLztyh','2289660vSLufM','applicationVisibilities','custom','customPermissions','168wRPXHU','externalDataSource','__esModule','layoutAssignments','Profile','get','hasActivationRequired','profileActionOverrides','object','../../git/parsers/utils/xml','push','content','apexClass','pageAccesses','isArray','recordType','userPermissions','objectPermissions','defineProperty','constructor'];a91_0x33a3=function(){return _0xdfe5cf;};return a91_0x33a3();}(function(_0x4e5995){const _0xe7a32e=a91_0x184572,_0x59c145=(function(){let _0x51af9e=!![];return function(_0x41d60a,_0x72874a){const _0x15de84=_0x51af9e?function(){const _0x42d1ab=a91_0x10c2;if(_0x72874a){const _0x3792e8=_0x72874a[_0x42d1ab(0xa1)](_0x41d60a,arguments);return _0x72874a=null,_0x3792e8;}}:function(){};return _0x51af9e=![],_0x15de84;};}()),_0x51e7c8=_0x59c145(this,function(){const _0x1eeae9=a91_0x10c2;return _0x51e7c8[_0x1eeae9(0xaa)]()[_0x1eeae9(0xa6)]('(((.+)+)+)+$')[_0x1eeae9(0xaa)]()[_0x1eeae9(0x94)](_0x51e7c8)[_0x1eeae9(0xa6)]('(((.+)+)+)+$');});_0x51e7c8(),_0x4e5995['hasActivationRequired']=_0xe7a32e(0x87),_0x4e5995[_0xe7a32e(0x97)]=_0xe7a32e(0x97),_0x4e5995['custom']=_0xe7a32e(0x7f),_0x4e5995[_0xe7a32e(0x98)]=_0xe7a32e(0x98);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0xcb119a=>{const _0x24648d=a91_0x184572;var _0x4ff708,_0x5b517a;return(_0x4ff708=_0xcb119a['Profile'])===null||_0x4ff708===void 0x0?!![]:delete _0x4ff708[_0x24648d(0x91)],(_0x5b517a=_0xcb119a[_0x24648d(0x85)])===null||_0x5b517a===void 0x0?!![]:delete _0x5b517a[_0x24648d(0x9e)],_0xcb119a;},'PermissionSet':_0x29163e=>{const _0x389c1=a91_0x184572;var _0x59ec90,_0x5512a5;return(_0x59ec90=_0x29163e[_0x389c1(0xab)])===null||_0x59ec90===void 0x0?!![]:delete _0x59ec90[_0x389c1(0x91)],(_0x5512a5=_0x29163e[_0x389c1(0xab)])===null||_0x5512a5===void 0x0?!![]:delete _0x5512a5[_0x389c1(0x9e)],_0x29163e;}};async function extractComponentPermissions(_0xec77f4,_0x192336,_0xa36776){const _0x54cd55=a91_0x184572,_0x18e478=await getReadyComponent(_0xec77f4,_0xa36776),_0xf30fe=_0x18e478[_0xa36776];if(!_0xf30fe)return _0x18e478;for(const _0x246883 in _0xf30fe){if(UNREMOVE_PERMISSION[_0x246883])continue;const _0x4b745f=_0xf30fe[_0x246883],_0x246373=getValidPermission(_0x4b745f,_0x246883,_0x192336);_0x246373['length']?_0xf30fe[_0x246883]=_0x246373:delete _0xf30fe[_0x246883];}return _0x18e478[_0xa36776]['$']={'xmlns':_0x54cd55(0x9c)},_0x18e478;}function a91_0x10c2(_0x438f3f,_0x25f15e){const _0x4b8572=a91_0x33a3();return a91_0x10c2=function(_0x21b0bb,_0x51b0e3){_0x21b0bb=_0x21b0bb-0x79;let _0x33a37f=_0x4b8572[_0x21b0bb];return _0x33a37f;},a91_0x10c2(_0x438f3f,_0x25f15e);}exports['extractComponentPermissions']=extractComponentPermissions;function getValidPermission(_0x258262,_0x59ac86,_0xf6b648){const _0x2435cc=a91_0x184572;let _0x2e3ce6=[];if(_0x59ac86===_0x2435cc(0x84))_0x2e3ce6=getValidLayout(_0x258262,_0x59ac86,_0xf6b648);else{const _0x19a449=Array[_0x2435cc(0x8f)](_0x258262)?_0x258262:[_0x258262];for(const _0x2c7fdd of _0x19a449){isValidPermission(_0x2c7fdd,_0x59ac86,_0xf6b648)&&_0x2e3ce6[_0x2435cc(0x8b)](_0x2c7fdd);}}return _0x2e3ce6;}function isValidPermission(_0x32a923,_0x2b0885,_0x5951c0){const _0x234142=a91_0x184572,_0x439c60=PERMISSIONS_MAP[_0x234142(0x86)](_0x2b0885);return _0x32a923[_0x439c60]&&_0x5951c0[_0x234142(0xa9)](_0x2272c0=>_0x2272c0['Component__r']['Component_Name__c'][_0x234142(0x9a)](_0x32a923[_0x439c60]));}function getValidLayout(_0x551173,_0x488378,_0x478f9e){const _0xfa1d8b=a91_0x184572,_0x447964=[],_0x5d4267=Array[_0xfa1d8b(0x8f)](_0x551173)?_0x551173:[_0x551173];for(const _0x46d5f6 in _0x5d4267){isValidPermission(_0x5d4267[_0x46d5f6],_0x488378,_0x478f9e)&&(!_0x5d4267[_0x46d5f6][_0xfa1d8b(0x90)]&&_0x447964['push'](_0x5d4267[_0x46d5f6]),isValidPermission(_0x5d4267[_0x46d5f6],_0xfa1d8b(0x7b),_0x478f9e)&&_0x447964[_0xfa1d8b(0x8b)](_0x5d4267[_0x46d5f6]));}return _0x447964;}async function getReadyComponent(_0x4f1214,_0x3e7b60){const _0x50860d=await xml_1['Xml']['parse'](_0x4f1214);return prepareDeleteComponent[_0x3e7b60](_0x50860d);}