'use strict';const a110_0x5e8eb5=a110_0x6712;(function(_0x5b0781,_0x1d87a9){const _0x56453a=a110_0x6712,_0x1f4c8e=_0x5b0781();while(!![]){try{const _0x10264e=-parseInt(_0x56453a(0x150))/0x1*(parseInt(_0x56453a(0x13d))/0x2)+-parseInt(_0x56453a(0x13f))/0x3*(parseInt(_0x56453a(0x143))/0x4)+-parseInt(_0x56453a(0x135))/0x5+parseInt(_0x56453a(0x15e))/0x6*(-parseInt(_0x56453a(0x149))/0x7)+-parseInt(_0x56453a(0x166))/0x8+-parseInt(_0x56453a(0x164))/0x9+parseInt(_0x56453a(0x13b))/0xa*(parseInt(_0x56453a(0x15f))/0xb);if(_0x10264e===_0x1d87a9)break;else _0x1f4c8e['push'](_0x1f4c8e['shift']());}catch(_0x40ed0d){_0x1f4c8e['push'](_0x1f4c8e['shift']());}}}(a110_0xbe4b,0xa9936));function a110_0x6712(_0xe71b8f,_0x7756ce){const _0x4d2a42=a110_0xbe4b();return a110_0x6712=function(_0x2505d4,_0x4e5b86){_0x2505d4=_0x2505d4-0x12a;let _0xbe4b8=_0x4d2a42[_0x2505d4];return _0xbe4b8;},a110_0x6712(_0xe71b8f,_0x7756ce);}Object[a110_0x5e8eb5(0x163)](exports,a110_0x5e8eb5(0x15a),{'value':!![]}),exports[a110_0x5e8eb5(0x138)]=exports['extractComponentPermissions']=void 0x0;const xml_1=require('../../git/parsers/utils/xml'),xml2js_1=require(a110_0x5e8eb5(0x140)),PERMISSIONS_MAP=new Map([[a110_0x5e8eb5(0x15d),a110_0x5e8eb5(0x130)],[a110_0x5e8eb5(0x160),'apexPage'],[a110_0x5e8eb5(0x151),a110_0x5e8eb5(0x12a)],[a110_0x5e8eb5(0x161),a110_0x5e8eb5(0x12a)],['profileActionOverrides','content'],[a110_0x5e8eb5(0x13e),a110_0x5e8eb5(0x159)],['objectPermissions','object'],[a110_0x5e8eb5(0x144),'name'],[a110_0x5e8eb5(0x14c),'name'],[a110_0x5e8eb5(0x13c),a110_0x5e8eb5(0x148)],[a110_0x5e8eb5(0x168),a110_0x5e8eb5(0x12d)],[a110_0x5e8eb5(0x134),a110_0x5e8eb5(0x131)],[a110_0x5e8eb5(0x136),a110_0x5e8eb5(0x165)],['layoutAssignments',a110_0x5e8eb5(0x13a)],['recordTypeVisibilities',a110_0x5e8eb5(0x145)],[a110_0x5e8eb5(0x169),a110_0x5e8eb5(0x12b)]]);var UNREMOVE_PERMISSION;(function(_0x5a04d5){const _0x45fa66=a110_0x5e8eb5,_0x382bf9=(function(){let _0x145860=!![];return function(_0xb1c000,_0x206ba7){const _0xddedb3=_0x145860?function(){const _0x366521=a110_0x6712;if(_0x206ba7){const _0x57bab8=_0x206ba7[_0x366521(0x157)](_0xb1c000,arguments);return _0x206ba7=null,_0x57bab8;}}:function(){};return _0x145860=![],_0xddedb3;};}()),_0x3633d4=_0x382bf9(this,function(){const _0x2742a5=a110_0x6712;return _0x3633d4['toString']()[_0x2742a5(0x14d)]('(((.+)+)+)+$')[_0x2742a5(0x142)]()[_0x2742a5(0x137)](_0x3633d4)[_0x2742a5(0x14d)](_0x2742a5(0x15c));});_0x3633d4(),_0x5a04d5[_0x45fa66(0x14b)]=_0x45fa66(0x14b),_0x5a04d5[_0x45fa66(0x156)]=_0x45fa66(0x156),_0x5a04d5[_0x45fa66(0x141)]='custom',_0x5a04d5[_0x45fa66(0x147)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x236e3f=>{const _0x3b6cf9=a110_0x5e8eb5;var _0x267d5c,_0x538336;return(_0x267d5c=_0x236e3f['Profile'])===null||_0x267d5c===void 0x0?!![]:delete _0x267d5c[_0x3b6cf9(0x133)],(_0x538336=_0x236e3f['Profile'])===null||_0x538336===void 0x0?!![]:delete _0x538336[_0x3b6cf9(0x12f)],_0x236e3f;},'PermissionSet':_0x3a2c26=>{const _0xafbdd2=a110_0x5e8eb5;var _0x1b7746,_0x1b4419;return(_0x1b7746=_0x3a2c26[_0xafbdd2(0x167)])===null||_0x1b7746===void 0x0?!![]:delete _0x1b7746[_0xafbdd2(0x133)],(_0x1b4419=_0x3a2c26[_0xafbdd2(0x167)])===null||_0x1b4419===void 0x0?!![]:delete _0x1b4419[_0xafbdd2(0x12f)],_0x3a2c26;}};async function extractComponentPermissions(_0x3b2412,_0x20fd52,_0x402cd9){const _0x516172=a110_0x5e8eb5,_0x405423=await getReadyComponent(_0x3b2412,_0x402cd9),_0x87ad0b=_0x405423[_0x402cd9];if(!_0x87ad0b)return _0x405423;for(const _0x16d523 in _0x87ad0b){if(UNREMOVE_PERMISSION[_0x16d523])continue;const _0x3f6247=_0x87ad0b[_0x16d523],_0x508448=getValidPermission(_0x3f6247,_0x16d523,_0x20fd52);_0x508448['length']?_0x87ad0b[_0x16d523]=_0x508448:delete _0x87ad0b[_0x16d523];}return _0x405423[_0x402cd9]['$']={'xmlns':_0x516172(0x12c)},_0x405423;}exports[a110_0x5e8eb5(0x139)]=extractComponentPermissions;async function mergeComponentPermissions(_0x2673e7,_0x523cb,_0x26cff8){const _0x20b955=a110_0x5e8eb5,_0x2cedb1=await xml_1[_0x20b955(0x14e)]['parse'](_0x2673e7),_0x2f7ff5=await xml_1['Xml'][_0x20b955(0x146)](_0x523cb),_0x31ff59=_0x2cedb1[_0x26cff8],_0x410fa5=_0x2f7ff5[_0x26cff8];if(!_0x31ff59)return _0x523cb;for(const _0x317a19 in _0x31ff59){const _0x280b01=PERMISSIONS_MAP[_0x20b955(0x154)](_0x317a19);if(!_0x280b01||!_0x410fa5[_0x317a19]){_0x410fa5[_0x317a19]=_0x31ff59[_0x317a19];continue;}for(const _0x29a1dd of _0x31ff59[_0x317a19]){const _0xac24e2=_0x410fa5[_0x317a19][_0x20b955(0x14f)](_0x23c91b=>_0x29a1dd[_0x280b01][0x0]===_0x23c91b[_0x280b01][0x0]);_0xac24e2!==-0x1?_0x410fa5[_0x317a19][_0xac24e2]=_0x29a1dd:_0x410fa5[_0x317a19][_0x20b955(0x152)](_0x29a1dd);}}_0x2f7ff5[_0x26cff8]['$']={'xmlns':_0x20b955(0x12c)};const _0x12aca2=new xml2js_1[(_0x20b955(0x132))]({'xmldec':{'version':_0x20b955(0x155),'encoding':'UTF-8'}});return _0x12aca2[_0x20b955(0x158)](_0x2f7ff5);}exports[a110_0x5e8eb5(0x138)]=mergeComponentPermissions;function getValidPermission(_0x28c884,_0x40bbdc,_0x5045f4){const _0x370599=a110_0x5e8eb5;let _0x462fb4=[];if(_0x40bbdc===_0x370599(0x12e))_0x462fb4=getValidLayout(_0x28c884,_0x40bbdc,_0x5045f4);else{const _0x118150=Array[_0x370599(0x15b)](_0x28c884)?_0x28c884:[_0x28c884];for(const _0x48e951 of _0x118150){isValidPermission(_0x48e951,_0x40bbdc,_0x5045f4)&&_0x462fb4[_0x370599(0x152)](_0x48e951);}}return _0x462fb4;}function a110_0xbe4b(){const _0x5786bb=['765XdNPQP','xml2js','custom','toString','16724icPpvm','customMetadataTypeAccesses','recordType','parse','description','application','132629iqiHrx','includes','hasActivationRequired','customSettingAccesses','search','Xml','findIndex','1eKBafR','tabSettings','push','recordTypeVisibilities','get','1.0','label','apply','buildObject','dataCategoryGroup','__esModule','isArray','(((.+)+)+)+$','classAccesses','138XOTYqm','6224867VqdqRX','pageAccesses','tabVisibilities','Component_Name__c','defineProperty','4967055YmrcAy','flow','10970512epUdDH','PermissionSet','externalDataSourceAccesses','fieldPermissions','tab','field','http://soap.sforce.com/2006/04/metadata','externalDataSource','layoutAssignments','loginIpRanges','apexClass','name','Builder','userPermissions','customPermissions','6742455bdproC','flowAccesses','constructor','mergeComponentPermissions','extractComponentPermissions','layout','110ClLYGW','applicationVisibilities','1513298qKLdxY','categoryGroupVisibilities'];a110_0xbe4b=function(){return _0x5786bb;};return a110_0xbe4b();}function isValidPermission(_0x46ccd0,_0x1334c4,_0x55d6ff){const _0x125849=a110_0x5e8eb5,_0x3a1b30=PERMISSIONS_MAP[_0x125849(0x154)](_0x1334c4);return _0x46ccd0[_0x3a1b30]&&_0x55d6ff['some'](_0x39f734=>_0x39f734['Component__r'][_0x125849(0x162)][_0x125849(0x14a)](_0x46ccd0[_0x3a1b30]));}function getValidLayout(_0x1f5c39,_0x437bb5,_0x1d327c){const _0x551527=a110_0x5e8eb5,_0x4e5c9f=[],_0x2c19a2=Array['isArray'](_0x1f5c39)?_0x1f5c39:[_0x1f5c39];for(const _0x4ea33d in _0x2c19a2){isValidPermission(_0x2c19a2[_0x4ea33d],_0x437bb5,_0x1d327c)&&(!_0x2c19a2[_0x4ea33d][_0x551527(0x145)]&&_0x4e5c9f[_0x551527(0x152)](_0x2c19a2[_0x4ea33d]),isValidPermission(_0x2c19a2[_0x4ea33d],_0x551527(0x153),_0x1d327c)&&_0x4e5c9f[_0x551527(0x152)](_0x2c19a2[_0x4ea33d]));}return _0x4e5c9f;}async function getReadyComponent(_0xa3ce1e,_0x423fec){const _0x350eb2=a110_0x5e8eb5,_0x17e9f5=await xml_1[_0x350eb2(0x14e)][_0x350eb2(0x146)](_0xa3ce1e);return prepareDeleteComponent[_0x423fec](_0x17e9f5);}