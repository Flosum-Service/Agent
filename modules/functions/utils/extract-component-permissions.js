'use strict';const a109_0x3a1754=a109_0x3907;(function(_0x34df69,_0x38d296){const _0x468656=a109_0x3907,_0x135586=_0x34df69();while(!![]){try{const _0x3d9e9d=-parseInt(_0x468656(0x1a2))/0x1*(parseInt(_0x468656(0x1c7))/0x2)+parseInt(_0x468656(0x1cb))/0x3+parseInt(_0x468656(0x1c1))/0x4+-parseInt(_0x468656(0x1d0))/0x5*(parseInt(_0x468656(0x19f))/0x6)+parseInt(_0x468656(0x1b9))/0x7+-parseInt(_0x468656(0x1dc))/0x8+-parseInt(_0x468656(0x1cf))/0x9*(-parseInt(_0x468656(0x1cc))/0xa);if(_0x3d9e9d===_0x38d296)break;else _0x135586['push'](_0x135586['shift']());}catch(_0x91c3ec){_0x135586['push'](_0x135586['shift']());}}}(a109_0xf158,0x6925d));Object[a109_0x3a1754(0x1c0)](exports,a109_0x3a1754(0x1d2),{'value':!![]}),exports[a109_0x3a1754(0x1a4)]=exports['extractComponentPermissions']=void 0x0;const xml_1=require(a109_0x3a1754(0x1b1)),xml2js_1=require(a109_0x3a1754(0x1c6)),PERMISSIONS_MAP=new Map([[a109_0x3a1754(0x1b8),a109_0x3a1754(0x1c3)],['pageAccesses',a109_0x3a1754(0x1a9)],[a109_0x3a1754(0x1ab),a109_0x3a1754(0x1d4)],[a109_0x3a1754(0x1bb),a109_0x3a1754(0x1d4)],[a109_0x3a1754(0x1a0),a109_0x3a1754(0x1a6)],[a109_0x3a1754(0x1aa),a109_0x3a1754(0x1c2)],[a109_0x3a1754(0x1a1),'object'],[a109_0x3a1754(0x1be),a109_0x3a1754(0x1da)],[a109_0x3a1754(0x1c5),a109_0x3a1754(0x1da)],[a109_0x3a1754(0x1b7),a109_0x3a1754(0x1d1)],['externalDataSourceAccesses',a109_0x3a1754(0x1db)],['customPermissions',a109_0x3a1754(0x1da)],[a109_0x3a1754(0x1b6),a109_0x3a1754(0x1ac)],[a109_0x3a1754(0x1b5),a109_0x3a1754(0x1b0)],[a109_0x3a1754(0x1de),a109_0x3a1754(0x1bc)],[a109_0x3a1754(0x1ce),a109_0x3a1754(0x1d3)]]);var UNREMOVE_PERMISSION;(function(_0x53733f){const _0x14d4d1=a109_0x3a1754,_0x46f87d=(function(){let _0x1cda17=!![];return function(_0xa138fb,_0x17315c){const _0x4d5028=_0x1cda17?function(){if(_0x17315c){const _0x25653d=_0x17315c['apply'](_0xa138fb,arguments);return _0x17315c=null,_0x25653d;}}:function(){};return _0x1cda17=![],_0x4d5028;};}()),_0x1132f5=_0x46f87d(this,function(){const _0x37c906=a109_0x3907;return _0x1132f5[_0x37c906(0x1bf)]()['search'](_0x37c906(0x1c8))[_0x37c906(0x1bf)]()[_0x37c906(0x1a7)](_0x1132f5)[_0x37c906(0x1a8)](_0x37c906(0x1c8));});_0x1132f5(),_0x53733f['hasActivationRequired']='hasActivationRequired',_0x53733f[_0x14d4d1(0x1d8)]='label',_0x53733f['custom']=_0x14d4d1(0x1af),_0x53733f[_0x14d4d1(0x1bd)]=_0x14d4d1(0x1bd);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x38531c=>{const _0x5abf06=a109_0x3a1754;var _0x3a2527,_0x13150a;return(_0x3a2527=_0x38531c[_0x5abf06(0x1d6)])===null||_0x3a2527===void 0x0?!![]:delete _0x3a2527[_0x5abf06(0x1b3)],(_0x13150a=_0x38531c[_0x5abf06(0x1d6)])===null||_0x13150a===void 0x0?!![]:delete _0x13150a[_0x5abf06(0x1cd)],_0x38531c;},'PermissionSet':_0x555537=>{const _0x16c857=a109_0x3a1754;var _0x172f51,_0x4b8ae1;return(_0x172f51=_0x555537['PermissionSet'])===null||_0x172f51===void 0x0?!![]:delete _0x172f51[_0x16c857(0x1b3)],(_0x4b8ae1=_0x555537[_0x16c857(0x1c9)])===null||_0x4b8ae1===void 0x0?!![]:delete _0x4b8ae1['loginIpRanges'],_0x555537;}};function a109_0xf158(){const _0x3bb725=['customMetadataTypeAccesses','toString','defineProperty','2923152zOpHRV','dataCategoryGroup','apexClass','some','customSettingAccesses','xml2js','1513192cOpmor','(((.+)+)+)+$','PermissionSet','get','854229NCGJxP','14005770KmoHLV','loginIpRanges','fieldPermissions','9WYLQlv','472205XlfASB','application','__esModule','field','tab','isArray','Profile','Xml','label','push','name','externalDataSource','6575976bHmScG','Component_Name__c','recordTypeVisibilities','30ooYxOZ','profileActionOverrides','objectPermissions','1qqyKFY','extractComponentPermissions','mergeComponentPermissions','buildObject','content','constructor','search','apexPage','categoryGroupVisibilities','tabSettings','flow','Builder','1.0','custom','layout','../../git/parsers/utils/xml','parse','userPermissions','Component__r','layoutAssignments','flowAccesses','applicationVisibilities','classAccesses','457625jgYAky','http://soap.sforce.com/2006/04/metadata','tabVisibilities','recordType','description'];a109_0xf158=function(){return _0x3bb725;};return a109_0xf158();}async function extractComponentPermissions(_0xf46bdd,_0x530526,_0x56d17b){const _0x700429=a109_0x3a1754,_0x1aaf03=await getReadyComponent(_0xf46bdd,_0x56d17b),_0x3f21ef=_0x1aaf03[_0x56d17b];if(!_0x3f21ef)return _0x1aaf03;for(const _0x405a11 in _0x3f21ef){if(UNREMOVE_PERMISSION[_0x405a11])continue;const _0x26d032=_0x3f21ef[_0x405a11],_0x2c401e=getValidPermission(_0x26d032,_0x405a11,_0x530526);_0x2c401e['length']?_0x3f21ef[_0x405a11]=_0x2c401e:delete _0x3f21ef[_0x405a11];}return _0x1aaf03[_0x56d17b]['$']={'xmlns':_0x700429(0x1ba)},_0x1aaf03;}function a109_0x3907(_0x377436,_0x1964a1){const _0x2a15ee=a109_0xf158();return a109_0x3907=function(_0x556b85,_0x1126cf){_0x556b85=_0x556b85-0x19f;let _0xf158b7=_0x2a15ee[_0x556b85];return _0xf158b7;},a109_0x3907(_0x377436,_0x1964a1);}exports[a109_0x3a1754(0x1a3)]=extractComponentPermissions;async function mergeComponentPermissions(_0x4ceb3c,_0x20ba8a,_0x11e46d){const _0x7fc1d4=a109_0x3a1754,_0xeafae4=await xml_1[_0x7fc1d4(0x1d7)][_0x7fc1d4(0x1b2)](_0x4ceb3c),_0x16d829=await xml_1[_0x7fc1d4(0x1d7)]['parse'](_0x20ba8a),_0x9846c7=_0xeafae4[_0x11e46d],_0x434890=_0x16d829[_0x11e46d];if(!_0x9846c7)return _0x20ba8a;for(const _0x41e87b in _0x9846c7){const _0x1a13cc=PERMISSIONS_MAP[_0x7fc1d4(0x1ca)](_0x41e87b);if(!_0x1a13cc||!_0x434890[_0x41e87b]){_0x434890[_0x41e87b]=_0x9846c7[_0x41e87b];continue;}for(const _0x3781cc of _0x9846c7[_0x41e87b]){const _0x2a42b0=_0x434890[_0x41e87b]['findIndex'](_0x81717f=>_0x3781cc[_0x1a13cc][0x0]===_0x81717f[_0x1a13cc][0x0]);_0x2a42b0!==-0x1?_0x434890[_0x41e87b][_0x2a42b0]=_0x3781cc:_0x434890[_0x41e87b][_0x7fc1d4(0x1d9)](_0x3781cc);}}_0x16d829[_0x11e46d]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'};const _0xb102a2=new xml2js_1[(_0x7fc1d4(0x1ad))]({'xmldec':{'version':_0x7fc1d4(0x1ae),'encoding':'UTF-8'}});return _0xb102a2[_0x7fc1d4(0x1a5)](_0x16d829);}exports[a109_0x3a1754(0x1a4)]=mergeComponentPermissions;function getValidPermission(_0x2c7638,_0x31dc96,_0xc08942){const _0x4ac2d6=a109_0x3a1754;let _0x161808=[];if(_0x31dc96===_0x4ac2d6(0x1b5))_0x161808=getValidLayout(_0x2c7638,_0x31dc96,_0xc08942);else{const _0x4cb192=Array[_0x4ac2d6(0x1d5)](_0x2c7638)?_0x2c7638:[_0x2c7638];for(const _0xafcce of _0x4cb192){isValidPermission(_0xafcce,_0x31dc96,_0xc08942)&&_0x161808[_0x4ac2d6(0x1d9)](_0xafcce);}}return _0x161808;}function isValidPermission(_0x5d9cf3,_0x5d1ec4,_0x40f322){const _0x22ff73=a109_0x3a1754,_0x2a1b20=PERMISSIONS_MAP[_0x22ff73(0x1ca)](_0x5d1ec4);return _0x5d9cf3[_0x2a1b20]&&_0x40f322[_0x22ff73(0x1c4)](_0x595768=>_0x595768[_0x22ff73(0x1b4)][_0x22ff73(0x1dd)]['includes'](_0x5d9cf3[_0x2a1b20]));}function getValidLayout(_0x1a9cd3,_0x20dcf0,_0x171c97){const _0x52bed7=a109_0x3a1754,_0x182545=[],_0x47b3e3=Array[_0x52bed7(0x1d5)](_0x1a9cd3)?_0x1a9cd3:[_0x1a9cd3];for(const _0x155a72 in _0x47b3e3){isValidPermission(_0x47b3e3[_0x155a72],_0x20dcf0,_0x171c97)&&(!_0x47b3e3[_0x155a72]['recordType']&&_0x182545[_0x52bed7(0x1d9)](_0x47b3e3[_0x155a72]),isValidPermission(_0x47b3e3[_0x155a72],_0x52bed7(0x1de),_0x171c97)&&_0x182545[_0x52bed7(0x1d9)](_0x47b3e3[_0x155a72]));}return _0x182545;}async function getReadyComponent(_0xb3170d,_0x164f22){const _0x502ce0=a109_0x3a1754,_0x1a7cfa=await xml_1[_0x502ce0(0x1d7)][_0x502ce0(0x1b2)](_0xb3170d);return prepareDeleteComponent[_0x164f22](_0x1a7cfa);}