'use strict';const a107_0x1b8534=a107_0x18ca;(function(_0x32e666,_0x3eecf8){const _0x17e580=a107_0x18ca,_0x5a6c11=_0x32e666();while(!![]){try{const _0x58acdc=-parseInt(_0x17e580(0x190))/0x1+parseInt(_0x17e580(0x1c3))/0x2*(-parseInt(_0x17e580(0x1bd))/0x3)+parseInt(_0x17e580(0x1ae))/0x4*(parseInt(_0x17e580(0x1a1))/0x5)+parseInt(_0x17e580(0x1ad))/0x6+-parseInt(_0x17e580(0x1c8))/0x7*(-parseInt(_0x17e580(0x1c1))/0x8)+parseInt(_0x17e580(0x1a9))/0x9+parseInt(_0x17e580(0x1be))/0xa*(-parseInt(_0x17e580(0x1d0))/0xb);if(_0x58acdc===_0x3eecf8)break;else _0x5a6c11['push'](_0x5a6c11['shift']());}catch(_0x3a53b2){_0x5a6c11['push'](_0x5a6c11['shift']());}}}(a107_0x58f6,0x96c0a));function a107_0x18ca(_0x121c6a,_0x3da0f6){const _0x5efdeb=a107_0x58f6();return a107_0x18ca=function(_0x5424eb,_0x1c93c0){_0x5424eb=_0x5424eb-0x18e;let _0x58f60a=_0x5efdeb[_0x5424eb];return _0x58f60a;},a107_0x18ca(_0x121c6a,_0x3da0f6);}Object['defineProperty'](exports,a107_0x1b8534(0x196),{'value':!![]}),exports['mergeComponentPermissions']=exports[a107_0x1b8534(0x1a3)]=void 0x0;const xml_1=require(a107_0x1b8534(0x192)),xml2js_1=require(a107_0x1b8534(0x18e)),PERMISSIONS_MAP=new Map([[a107_0x1b8534(0x1d1),a107_0x1b8534(0x1b6)],[a107_0x1b8534(0x1ac),a107_0x1b8534(0x191)],['tabSettings','tab'],[a107_0x1b8534(0x19b),a107_0x1b8534(0x19e)],[a107_0x1b8534(0x1a7),a107_0x1b8534(0x194)],[a107_0x1b8534(0x1cc),a107_0x1b8534(0x1ce)],[a107_0x1b8534(0x1ca),a107_0x1b8534(0x195)],[a107_0x1b8534(0x1b0),'name'],[a107_0x1b8534(0x197),a107_0x1b8534(0x1d2)],[a107_0x1b8534(0x19a),a107_0x1b8534(0x1a8)],[a107_0x1b8534(0x1c6),a107_0x1b8534(0x1a4)],[a107_0x1b8534(0x1cf),'name'],[a107_0x1b8534(0x1a5),a107_0x1b8534(0x1aa)],[a107_0x1b8534(0x1bb),a107_0x1b8534(0x1b1)],[a107_0x1b8534(0x1b9),a107_0x1b8534(0x18f)],[a107_0x1b8534(0x1a6),a107_0x1b8534(0x1b5)]]);var UNREMOVE_PERMISSION;(function(_0xce9142){const _0x5a05ed=a107_0x1b8534,_0x45215f=(function(){let _0x1b3885=!![];return function(_0x299b47,_0x55ebd4){const _0x20a45e=_0x1b3885?function(){const _0x2c1402=a107_0x18ca;if(_0x55ebd4){const _0x2c37d0=_0x55ebd4[_0x2c1402(0x1b7)](_0x299b47,arguments);return _0x55ebd4=null,_0x2c37d0;}}:function(){};return _0x1b3885=![],_0x20a45e;};}()),_0x1a1666=_0x45215f(this,function(){const _0x1aec3d=a107_0x18ca;return _0x1a1666[_0x1aec3d(0x1af)]()[_0x1aec3d(0x1cd)](_0x1aec3d(0x193))[_0x1aec3d(0x1af)]()[_0x1aec3d(0x19d)](_0x1a1666)[_0x1aec3d(0x1cd)]('(((.+)+)+)+$');});_0x1a1666(),_0xce9142[_0x5a05ed(0x1a2)]=_0x5a05ed(0x1a2),_0xce9142[_0x5a05ed(0x1c2)]='label',_0xce9142[_0x5a05ed(0x1b3)]=_0x5a05ed(0x1b3),_0xce9142['description']=_0x5a05ed(0x1c7);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x2858ea=>{const _0x13e60f=a107_0x1b8534;var _0x5804a8,_0x158f78;return(_0x5804a8=_0x2858ea[_0x13e60f(0x1b4)])===null||_0x5804a8===void 0x0?!![]:delete _0x5804a8[_0x13e60f(0x1b2)],(_0x158f78=_0x2858ea[_0x13e60f(0x1b4)])===null||_0x158f78===void 0x0?!![]:delete _0x158f78[_0x13e60f(0x1bf)],_0x2858ea;},'PermissionSet':_0x5b86e9=>{const _0x1b2fca=a107_0x1b8534;var _0x4c259f,_0x2e9a37;return(_0x4c259f=_0x5b86e9[_0x1b2fca(0x199)])===null||_0x4c259f===void 0x0?!![]:delete _0x4c259f[_0x1b2fca(0x1b2)],(_0x2e9a37=_0x5b86e9[_0x1b2fca(0x199)])===null||_0x2e9a37===void 0x0?!![]:delete _0x2e9a37[_0x1b2fca(0x1bf)],_0x5b86e9;}};async function extractComponentPermissions(_0x387f73,_0xad12c6,_0x538411){const _0x2c9d20=a107_0x1b8534,_0x32c201=await getReadyComponent(_0x387f73,_0x538411),_0x5fd94c=_0x32c201[_0x538411];if(!_0x5fd94c)return _0x32c201;for(const _0x5aec48 in _0x5fd94c){if(UNREMOVE_PERMISSION[_0x5aec48])continue;const _0x5ec908=_0x5fd94c[_0x5aec48],_0x28b34b=getValidPermission(_0x5ec908,_0x5aec48,_0xad12c6);_0x28b34b[_0x2c9d20(0x1c9)]?_0x5fd94c[_0x5aec48]=_0x28b34b:delete _0x5fd94c[_0x5aec48];}return _0x32c201[_0x538411]['$']={'xmlns':_0x2c9d20(0x19f)},_0x32c201;}exports[a107_0x1b8534(0x1a3)]=extractComponentPermissions;async function mergeComponentPermissions(_0x595919,_0x4f045b,_0xb655be){const _0x33b8f4=a107_0x1b8534,_0x4f028c=await xml_1['Xml'][_0x33b8f4(0x19c)](_0x595919),_0x87c568=await xml_1[_0x33b8f4(0x1c0)][_0x33b8f4(0x19c)](_0x4f045b),_0x117498=_0x4f028c[_0xb655be],_0x1f565e=_0x87c568[_0xb655be];if(!_0x117498)return _0x4f045b;for(const _0x285859 in _0x117498){const _0x453a7b=PERMISSIONS_MAP[_0x33b8f4(0x1bc)](_0x285859);if(!_0x453a7b||!_0x1f565e[_0x285859]){_0x1f565e[_0x285859]=_0x117498[_0x285859];continue;}for(const _0x723fdf of _0x117498[_0x285859]){const _0x2a48da=_0x1f565e[_0x285859][_0x33b8f4(0x198)](_0x4e66a7=>_0x723fdf[_0x453a7b][0x0]===_0x4e66a7[_0x453a7b][0x0]);_0x2a48da!==-0x1?_0x1f565e[_0x285859][_0x2a48da]=_0x723fdf:_0x1f565e[_0x285859][_0x33b8f4(0x1ab)](_0x723fdf);}}_0x87c568[_0xb655be]['$']={'xmlns':_0x33b8f4(0x19f)};const _0x5643ad=new xml2js_1['Builder']({'xmldec':{'version':_0x33b8f4(0x1c4),'encoding':_0x33b8f4(0x1ba)}});return _0x5643ad['buildObject'](_0x87c568);}function a107_0x58f6(){const _0x19ba86=['16900VtCAij','1.0','some','externalDataSourceAccesses','description','6888KYuUdn','length','objectPermissions','mergeComponentPermissions','categoryGroupVisibilities','search','dataCategoryGroup','customPermissions','1441MlIofw','classAccesses','name','xml2js','recordType','175364uogCOv','apexPage','../../git/parsers/utils/xml','(((.+)+)+)+$','content','object','__esModule','customSettingAccesses','findIndex','PermissionSet','applicationVisibilities','tabVisibilities','parse','constructor','tab','http://soap.sforce.com/2006/04/metadata','includes','583495qZeREU','hasActivationRequired','extractComponentPermissions','externalDataSource','flowAccesses','fieldPermissions','profileActionOverrides','application','23463DotYXH','flow','push','pageAccesses','3820314qYbBnr','4gIkuty','toString','customMetadataTypeAccesses','layout','userPermissions','custom','Profile','field','apexClass','apply','Component_Name__c','recordTypeVisibilities','UTF-8','layoutAssignments','get','231xSbBIn','12270ZpDaKU','loginIpRanges','Xml','6896tVKucA','label'];a107_0x58f6=function(){return _0x19ba86;};return a107_0x58f6();}exports[a107_0x1b8534(0x1cb)]=mergeComponentPermissions;function getValidPermission(_0x50aa84,_0x1006f6,_0x5ea7b5){const _0x3c237e=a107_0x1b8534;let _0x58fa1c=[];if(_0x1006f6===_0x3c237e(0x1bb))_0x58fa1c=getValidLayout(_0x50aa84,_0x1006f6,_0x5ea7b5);else{const _0x2a4928=Array['isArray'](_0x50aa84)?_0x50aa84:[_0x50aa84];for(const _0x28fe11 of _0x2a4928){isValidPermission(_0x28fe11,_0x1006f6,_0x5ea7b5)&&_0x58fa1c['push'](_0x28fe11);}}return _0x58fa1c;}function isValidPermission(_0x17c54f,_0x3eee85,_0x32fc67){const _0x57a9ab=a107_0x1b8534,_0x788941=PERMISSIONS_MAP[_0x57a9ab(0x1bc)](_0x3eee85);return _0x17c54f[_0x788941]&&_0x32fc67[_0x57a9ab(0x1c5)](_0xd5598a=>_0xd5598a['Component__r'][_0x57a9ab(0x1b8)][_0x57a9ab(0x1a0)](_0x17c54f[_0x788941]));}function getValidLayout(_0x5b49b1,_0x11c709,_0x30fc78){const _0x8212b6=a107_0x1b8534,_0x132d3e=[],_0x1ef169=Array['isArray'](_0x5b49b1)?_0x5b49b1:[_0x5b49b1];for(const _0x3ba930 in _0x1ef169){isValidPermission(_0x1ef169[_0x3ba930],_0x11c709,_0x30fc78)&&(!_0x1ef169[_0x3ba930][_0x8212b6(0x18f)]&&_0x132d3e[_0x8212b6(0x1ab)](_0x1ef169[_0x3ba930]),isValidPermission(_0x1ef169[_0x3ba930],'recordTypeVisibilities',_0x30fc78)&&_0x132d3e[_0x8212b6(0x1ab)](_0x1ef169[_0x3ba930]));}return _0x132d3e;}async function getReadyComponent(_0x30b649,_0x186e63){const _0xf25c49=a107_0x1b8534,_0x2d0647=await xml_1[_0xf25c49(0x1c0)][_0xf25c49(0x19c)](_0x30b649);return prepareDeleteComponent[_0x186e63](_0x2d0647);}