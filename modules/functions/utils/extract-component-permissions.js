'use strict';const a91_0x25b3d9=a91_0x1bf7;(function(_0x2db29d,_0x5d212f){const _0xea26f3=a91_0x1bf7,_0x1908ae=_0x2db29d();while(!![]){try{const _0x4abe7d=-parseInt(_0xea26f3(0x12b))/0x1*(-parseInt(_0xea26f3(0x116))/0x2)+parseInt(_0xea26f3(0x138))/0x3*(-parseInt(_0xea26f3(0x10d))/0x4)+parseInt(_0xea26f3(0x10f))/0x5+-parseInt(_0xea26f3(0x11a))/0x6*(-parseInt(_0xea26f3(0x115))/0x7)+-parseInt(_0xea26f3(0x103))/0x8*(-parseInt(_0xea26f3(0x134))/0x9)+-parseInt(_0xea26f3(0x12e))/0xa*(parseInt(_0xea26f3(0x113))/0xb)+parseInt(_0xea26f3(0x131))/0xc*(-parseInt(_0xea26f3(0x132))/0xd);if(_0x4abe7d===_0x5d212f)break;else _0x1908ae['push'](_0x1908ae['shift']());}catch(_0x29fd65){_0x1908ae['push'](_0x1908ae['shift']());}}}(a91_0x22f9,0x7700f));function a91_0x22f9(){const _0x39c09b=['(((.+)+)+)+$','content','application','description','253HDqVpI','name','layout','325990wOObYf','constructor','loginIpRanges','48FjGqSp','1305382VVTbAQ','flow','856629zUsnHB','push','tabVisibilities','http://soap.sforce.com/2006/04/metadata','153EKMYnc','externalDataSource','isArray','16QiBira','Component_Name__c','customMetadataTypeAccesses','custom','PermissionSet','some','toString','parse','extractComponentPermissions','search','45728luZeLO','Component__r','3261200kTLdiI','flowAccesses','get','userPermissions','121eCSowS','externalDataSourceAccesses','510951cOhuKc','2618DFfoWt','categoryGroupVisibilities','customSettingAccesses','length','54sRZfzQ','objectPermissions','applicationVisibilities','hasActivationRequired','label','customPermissions','layoutAssignments','fieldPermissions','tab','recordType','object','recordTypeVisibilities','../../git/parsers/utils/xml'];a91_0x22f9=function(){return _0x39c09b;};return a91_0x22f9();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a91_0x25b3d9(0x10b)]=void 0x0;const xml_1=require(a91_0x25b3d9(0x126)),PERMISSIONS_MAP=new Map([['classAccesses','apexClass'],['pageAccesses','apexPage'],['tabSettings',a91_0x25b3d9(0x122)],[a91_0x25b3d9(0x136),a91_0x25b3d9(0x122)],['profileActionOverrides',a91_0x25b3d9(0x128)],[a91_0x25b3d9(0x117),'dataCategoryGroup'],[a91_0x25b3d9(0x11b),a91_0x25b3d9(0x124)],[a91_0x25b3d9(0x105),a91_0x25b3d9(0x12c)],[a91_0x25b3d9(0x118),a91_0x25b3d9(0x12c)],[a91_0x25b3d9(0x11c),a91_0x25b3d9(0x129)],[a91_0x25b3d9(0x114),a91_0x25b3d9(0x139)],[a91_0x25b3d9(0x11f),a91_0x25b3d9(0x12c)],[a91_0x25b3d9(0x110),a91_0x25b3d9(0x133)],[a91_0x25b3d9(0x120),a91_0x25b3d9(0x12d)],['recordTypeVisibilities','recordType'],[a91_0x25b3d9(0x121),'field']]);var UNREMOVE_PERMISSION;(function(_0x24f1c1){const _0x540e70=a91_0x25b3d9,_0x3b615a=(function(){let _0x3757e1=!![];return function(_0x57aad6,_0x558573){const _0xba2273=_0x3757e1?function(){if(_0x558573){const _0x3e65cb=_0x558573['apply'](_0x57aad6,arguments);return _0x558573=null,_0x3e65cb;}}:function(){};return _0x3757e1=![],_0xba2273;};}()),_0x3b78d9=_0x3b615a(this,function(){const _0x51d1dc=a91_0x1bf7;return _0x3b78d9[_0x51d1dc(0x109)]()[_0x51d1dc(0x10c)](_0x51d1dc(0x127))[_0x51d1dc(0x109)]()[_0x51d1dc(0x12f)](_0x3b78d9)[_0x51d1dc(0x10c)]('(((.+)+)+)+$');});_0x3b78d9(),_0x24f1c1['hasActivationRequired']=_0x540e70(0x11d),_0x24f1c1['label']=_0x540e70(0x11e),_0x24f1c1[_0x540e70(0x106)]='custom',_0x24f1c1[_0x540e70(0x12a)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x3d892a=>{const _0x2f0dc0=a91_0x25b3d9;var _0x30961d,_0x2c7b28;return(_0x30961d=_0x3d892a['Profile'])===null||_0x30961d===void 0x0?!![]:delete _0x30961d['userPermissions'],(_0x2c7b28=_0x3d892a['Profile'])===null||_0x2c7b28===void 0x0?!![]:delete _0x2c7b28[_0x2f0dc0(0x130)],_0x3d892a;},'PermissionSet':_0x141a0d=>{const _0x3e8d04=a91_0x25b3d9;var _0x5ce83e,_0x2c65c1;return(_0x5ce83e=_0x141a0d[_0x3e8d04(0x107)])===null||_0x5ce83e===void 0x0?!![]:delete _0x5ce83e[_0x3e8d04(0x112)],(_0x2c65c1=_0x141a0d[_0x3e8d04(0x107)])===null||_0x2c65c1===void 0x0?!![]:delete _0x2c65c1[_0x3e8d04(0x130)],_0x141a0d;}};async function extractComponentPermissions(_0x33bf6f,_0x3fca4e,_0xb2cffd){const _0x39a103=a91_0x25b3d9,_0x1050e0=await getReadyComponent(_0x33bf6f,_0xb2cffd),_0x5c45af=_0x1050e0[_0xb2cffd];if(!_0x5c45af)return _0x1050e0;for(const _0x5fc6f1 in _0x5c45af){if(UNREMOVE_PERMISSION[_0x5fc6f1])continue;const _0x4c6994=_0x5c45af[_0x5fc6f1],_0x47383c=getValidPermission(_0x4c6994,_0x5fc6f1,_0x3fca4e);_0x47383c[_0x39a103(0x119)]?_0x5c45af[_0x5fc6f1]=_0x47383c:delete _0x5c45af[_0x5fc6f1];}return _0x1050e0[_0xb2cffd]['$']={'xmlns':_0x39a103(0x137)},_0x1050e0;}exports[a91_0x25b3d9(0x10b)]=extractComponentPermissions;function getValidPermission(_0x47d61e,_0x44be72,_0x3e349b){const _0x2fb0f1=a91_0x25b3d9;let _0x78855f=[];if(_0x44be72===_0x2fb0f1(0x120))_0x78855f=getValidLayout(_0x47d61e,_0x44be72,_0x3e349b);else{const _0x3e6d6d=Array['isArray'](_0x47d61e)?_0x47d61e:[_0x47d61e];for(const _0x78db6c of _0x3e6d6d){isValidPermission(_0x78db6c,_0x44be72,_0x3e349b)&&_0x78855f['push'](_0x78db6c);}}return _0x78855f;}function isValidPermission(_0x150ab6,_0xb13fa4,_0x6fa857){const _0x41ad0a=a91_0x25b3d9,_0x8ede56=PERMISSIONS_MAP[_0x41ad0a(0x111)](_0xb13fa4);return _0x150ab6[_0x8ede56]&&_0x6fa857[_0x41ad0a(0x108)](_0x40e427=>_0x40e427[_0x41ad0a(0x10e)][_0x41ad0a(0x104)]['includes'](_0x150ab6[_0x8ede56]));}function getValidLayout(_0x53040c,_0xd3e293,_0x56cc0a){const _0x48a2b6=a91_0x25b3d9,_0x5759d2=[],_0x3c488d=Array[_0x48a2b6(0x102)](_0x53040c)?_0x53040c:[_0x53040c];for(const _0x12b7a9 in _0x3c488d){isValidPermission(_0x3c488d[_0x12b7a9],_0xd3e293,_0x56cc0a)&&(!_0x3c488d[_0x12b7a9][_0x48a2b6(0x123)]&&_0x5759d2[_0x48a2b6(0x135)](_0x3c488d[_0x12b7a9]),isValidPermission(_0x3c488d[_0x12b7a9],_0x48a2b6(0x125),_0x56cc0a)&&_0x5759d2[_0x48a2b6(0x135)](_0x3c488d[_0x12b7a9]));}return _0x5759d2;}function a91_0x1bf7(_0x15372e,_0x3e9210){const _0x4dc70b=a91_0x22f9();return a91_0x1bf7=function(_0x3c9b89,_0xa412ac){_0x3c9b89=_0x3c9b89-0x102;let _0x22f9aa=_0x4dc70b[_0x3c9b89];return _0x22f9aa;},a91_0x1bf7(_0x15372e,_0x3e9210);}async function getReadyComponent(_0x4edfa9,_0x176a78){const _0x2eb5fd=a91_0x25b3d9,_0x2a3e5c=await xml_1['Xml'][_0x2eb5fd(0x10a)](_0x4edfa9);return prepareDeleteComponent[_0x176a78](_0x2a3e5c);}