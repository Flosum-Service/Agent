'use strict';function a91_0x29fc(){const _0x4fc05b=['customSettingAccesses','20sFfnUN','apply','object','1172410bqNPJl','fieldPermissions','dataCategoryGroup','includes','../../git/parsers/utils/xml','layout','constructor','apexPage','description','search','hasActivationRequired','length','1336572GYmaWe','userPermissions','(((.+)+)+)+$','tabVisibilities','some','name','application','2fpWLXx','11124Labtao','loginIpRanges','layoutAssignments','2182011qgBQkx','toString','externalDataSourceAccesses','content','profileActionOverrides','extractComponentPermissions','420555DRVZrR','externalDataSource','1755384KqnAZN','__esModule','14HTmnyD','custom','classAccesses','field','flowAccesses','Xml','44ETGSdV','Component__r','label','applicationVisibilities','isArray','customMetadataTypeAccesses','http://soap.sforce.com/2006/04/metadata','Profile','defineProperty','tab','tabSettings','push','664011syPhoL'];a91_0x29fc=function(){return _0x4fc05b;};return a91_0x29fc();}const a91_0x23bf47=a91_0x38cd;(function(_0x176ce0,_0xfe4e6){const _0xa1d7a2=a91_0x38cd,_0x2a30db=_0x176ce0();while(!![]){try{const _0x440a70=-parseInt(_0xa1d7a2(0x159))/0x1*(-parseInt(_0xa1d7a2(0x158))/0x2)+-parseInt(_0xa1d7a2(0x15c))/0x3+-parseInt(_0xa1d7a2(0x17a))/0x4*(-parseInt(_0xa1d7a2(0x162))/0x5)+-parseInt(_0xa1d7a2(0x151))/0x6+parseInt(_0xa1d7a2(0x166))/0x7*(parseInt(_0xa1d7a2(0x164))/0x8)+parseInt(_0xa1d7a2(0x178))/0x9+parseInt(_0xa1d7a2(0x17d))/0xa*(parseInt(_0xa1d7a2(0x16c))/0xb);if(_0x440a70===_0xfe4e6)break;else _0x2a30db['push'](_0x2a30db['shift']());}catch(_0x1a3c6f){_0x2a30db['push'](_0x2a30db['shift']());}}}(a91_0x29fc,0x71141));Object[a91_0x23bf47(0x174)](exports,a91_0x23bf47(0x165),{'value':!![]}),exports[a91_0x23bf47(0x161)]=void 0x0;const xml_1=require(a91_0x23bf47(0x181)),PERMISSIONS_MAP=new Map([[a91_0x23bf47(0x168),'apexClass'],['pageAccesses',a91_0x23bf47(0x184)],[a91_0x23bf47(0x176),a91_0x23bf47(0x175)],[a91_0x23bf47(0x154),a91_0x23bf47(0x175)],[a91_0x23bf47(0x160),a91_0x23bf47(0x15f)],['categoryGroupVisibilities',a91_0x23bf47(0x17f)],['objectPermissions',a91_0x23bf47(0x17c)],[a91_0x23bf47(0x171),a91_0x23bf47(0x156)],[a91_0x23bf47(0x179),a91_0x23bf47(0x156)],[a91_0x23bf47(0x16f),a91_0x23bf47(0x157)],[a91_0x23bf47(0x15e),a91_0x23bf47(0x163)],['customPermissions','name'],[a91_0x23bf47(0x16a),'flow'],[a91_0x23bf47(0x15b),a91_0x23bf47(0x182)],['recordTypeVisibilities','recordType'],[a91_0x23bf47(0x17e),a91_0x23bf47(0x169)]]);var UNREMOVE_PERMISSION;(function(_0x1d7a9c){const _0x200ba7=a91_0x23bf47,_0x14431b=(function(){let _0x1f9bc8=!![];return function(_0x3a5707,_0x17ff7e){const _0x277fb1=_0x1f9bc8?function(){const _0x263aea=a91_0x38cd;if(_0x17ff7e){const _0x3dfd1a=_0x17ff7e[_0x263aea(0x17b)](_0x3a5707,arguments);return _0x17ff7e=null,_0x3dfd1a;}}:function(){};return _0x1f9bc8=![],_0x277fb1;};}()),_0x5bb7e0=_0x14431b(this,function(){const _0x324e95=a91_0x38cd;return _0x5bb7e0[_0x324e95(0x15d)]()[_0x324e95(0x186)](_0x324e95(0x153))[_0x324e95(0x15d)]()[_0x324e95(0x183)](_0x5bb7e0)[_0x324e95(0x186)](_0x324e95(0x153));});_0x5bb7e0(),_0x1d7a9c[_0x200ba7(0x187)]=_0x200ba7(0x187),_0x1d7a9c[_0x200ba7(0x16e)]=_0x200ba7(0x16e),_0x1d7a9c[_0x200ba7(0x167)]=_0x200ba7(0x167),_0x1d7a9c[_0x200ba7(0x185)]=_0x200ba7(0x185);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x122d40=>{const _0x5c1c5f=a91_0x23bf47;var _0x49cb72,_0x32a8aa;return(_0x49cb72=_0x122d40['Profile'])===null||_0x49cb72===void 0x0?!![]:delete _0x49cb72[_0x5c1c5f(0x152)],(_0x32a8aa=_0x122d40[_0x5c1c5f(0x173)])===null||_0x32a8aa===void 0x0?!![]:delete _0x32a8aa[_0x5c1c5f(0x15a)],_0x122d40;},'PermissionSet':_0x3fd176=>{const _0x42f207=a91_0x23bf47;var _0x3418eb,_0x363599;return(_0x3418eb=_0x3fd176['PermissionSet'])===null||_0x3418eb===void 0x0?!![]:delete _0x3418eb[_0x42f207(0x152)],(_0x363599=_0x3fd176['PermissionSet'])===null||_0x363599===void 0x0?!![]:delete _0x363599['loginIpRanges'],_0x3fd176;}};function a91_0x38cd(_0x310c08,_0x5b37b6){const _0x438847=a91_0x29fc();return a91_0x38cd=function(_0xd2045c,_0x71a382){_0xd2045c=_0xd2045c-0x150;let _0x29fcee=_0x438847[_0xd2045c];return _0x29fcee;},a91_0x38cd(_0x310c08,_0x5b37b6);}async function extractComponentPermissions(_0x421eaf,_0x581245,_0x16db47){const _0xa3bc38=a91_0x23bf47,_0x1c6810=await getReadyComponent(_0x421eaf,_0x16db47),_0x895277=_0x1c6810[_0x16db47];if(!_0x895277)return _0x1c6810;for(const _0x558fa5 in _0x895277){if(UNREMOVE_PERMISSION[_0x558fa5])continue;const _0x473255=_0x895277[_0x558fa5],_0x3000de=getValidPermission(_0x473255,_0x558fa5,_0x581245);_0x3000de[_0xa3bc38(0x150)]?_0x895277[_0x558fa5]=_0x3000de:delete _0x895277[_0x558fa5];}return _0x1c6810[_0x16db47]['$']={'xmlns':_0xa3bc38(0x172)},_0x1c6810;}exports[a91_0x23bf47(0x161)]=extractComponentPermissions;function getValidPermission(_0x1d2185,_0x4d8ac4,_0x44e56b){const _0x3e9e39=a91_0x23bf47;let _0x9801d0=[];if(_0x4d8ac4===_0x3e9e39(0x15b))_0x9801d0=getValidLayout(_0x1d2185,_0x4d8ac4,_0x44e56b);else{const _0x444c4a=Array[_0x3e9e39(0x170)](_0x1d2185)?_0x1d2185:[_0x1d2185];for(const _0x22df18 of _0x444c4a){isValidPermission(_0x22df18,_0x4d8ac4,_0x44e56b)&&_0x9801d0[_0x3e9e39(0x177)](_0x22df18);}}return _0x9801d0;}function isValidPermission(_0x4dcf13,_0x990935,_0x3c606b){const _0x3d0a21=a91_0x23bf47,_0x289c04=PERMISSIONS_MAP['get'](_0x990935);return _0x4dcf13[_0x289c04]&&_0x3c606b[_0x3d0a21(0x155)](_0x17ff06=>_0x17ff06[_0x3d0a21(0x16d)]['Component_Name__c'][_0x3d0a21(0x180)](_0x4dcf13[_0x289c04]));}function getValidLayout(_0x13068c,_0x2ef4e2,_0xb78cd9){const _0x27fc28=a91_0x23bf47,_0x3dff61=[],_0x46dc99=Array[_0x27fc28(0x170)](_0x13068c)?_0x13068c:[_0x13068c];for(const _0x41c1a0 in _0x46dc99){isValidPermission(_0x46dc99[_0x41c1a0],_0x2ef4e2,_0xb78cd9)&&(!_0x46dc99[_0x41c1a0]['recordType']&&_0x3dff61[_0x27fc28(0x177)](_0x46dc99[_0x41c1a0]),isValidPermission(_0x46dc99[_0x41c1a0],'recordTypeVisibilities',_0xb78cd9)&&_0x3dff61[_0x27fc28(0x177)](_0x46dc99[_0x41c1a0]));}return _0x3dff61;}async function getReadyComponent(_0x6dd6f3,_0x385e32){const _0x494576=a91_0x23bf47,_0x3b967d=await xml_1[_0x494576(0x16b)]['parse'](_0x6dd6f3);return prepareDeleteComponent[_0x385e32](_0x3b967d);}