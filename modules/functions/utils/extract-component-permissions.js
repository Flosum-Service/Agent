'use strict';const a91_0x2fe932=a91_0x1ca3;(function(_0x37acb7,_0x9fc6f7){const _0x54c6ea=a91_0x1ca3,_0x5c8a13=_0x37acb7();while(!![]){try{const _0x3c8bf5=-parseInt(_0x54c6ea(0x1f0))/0x1*(parseInt(_0x54c6ea(0x203))/0x2)+-parseInt(_0x54c6ea(0x1ec))/0x3+-parseInt(_0x54c6ea(0x1f5))/0x4+parseInt(_0x54c6ea(0x1f1))/0x5*(parseInt(_0x54c6ea(0x215))/0x6)+parseInt(_0x54c6ea(0x20a))/0x7*(parseInt(_0x54c6ea(0x1fa))/0x8)+parseInt(_0x54c6ea(0x211))/0x9+parseInt(_0x54c6ea(0x1f3))/0xa;if(_0x3c8bf5===_0x9fc6f7)break;else _0x5c8a13['push'](_0x5c8a13['shift']());}catch(_0x47d81f){_0x5c8a13['push'](_0x5c8a13['shift']());}}}(a91_0x3b07,0xb042f));function a91_0x1ca3(_0x7d6b3e,_0x23780f){const _0x55fbb2=a91_0x3b07();return a91_0x1ca3=function(_0x5ecd2c,_0x53e163){_0x5ecd2c=_0x5ecd2c-0x1e5;let _0x3b0720=_0x55fbb2[_0x5ecd2c];return _0x3b0720;},a91_0x1ca3(_0x7d6b3e,_0x23780f);}Object['defineProperty'](exports,a91_0x2fe932(0x1f7),{'value':!![]}),exports[a91_0x2fe932(0x1fb)]=void 0x0;const xml_1=require(a91_0x2fe932(0x208)),PERMISSIONS_MAP=new Map([['classAccesses','apexClass'],['pageAccesses',a91_0x2fe932(0x1ea)],[a91_0x2fe932(0x1e8),a91_0x2fe932(0x218)],['tabVisibilities',a91_0x2fe932(0x218)],[a91_0x2fe932(0x219),'content'],[a91_0x2fe932(0x207),a91_0x2fe932(0x210)],['objectPermissions',a91_0x2fe932(0x1fe)],[a91_0x2fe932(0x217),'name'],[a91_0x2fe932(0x1ff),a91_0x2fe932(0x20e)],['applicationVisibilities',a91_0x2fe932(0x1f6)],[a91_0x2fe932(0x212),a91_0x2fe932(0x1ed)],[a91_0x2fe932(0x205),a91_0x2fe932(0x20e)],[a91_0x2fe932(0x1fc),a91_0x2fe932(0x1eb)],['layoutAssignments',a91_0x2fe932(0x1f2)],[a91_0x2fe932(0x216),a91_0x2fe932(0x1f4)],[a91_0x2fe932(0x1f9),a91_0x2fe932(0x200)]]);var UNREMOVE_PERMISSION;(function(_0x25fafa){const _0x324f77=a91_0x2fe932,_0x3a4068=(function(){let _0x23d558=!![];return function(_0x57982b,_0x11c6ac){const _0x59694a=_0x23d558?function(){const _0x4e0fda=a91_0x1ca3;if(_0x11c6ac){const _0x851962=_0x11c6ac[_0x4e0fda(0x201)](_0x57982b,arguments);return _0x11c6ac=null,_0x851962;}}:function(){};return _0x23d558=![],_0x59694a;};}()),_0x4eed76=_0x3a4068(this,function(){const _0x2eed5a=a91_0x1ca3;return _0x4eed76['toString']()[_0x2eed5a(0x213)](_0x2eed5a(0x1e5))[_0x2eed5a(0x1e7)]()[_0x2eed5a(0x20f)](_0x4eed76)[_0x2eed5a(0x213)](_0x2eed5a(0x1e5));});_0x4eed76(),_0x25fafa['hasActivationRequired']=_0x324f77(0x214),_0x25fafa[_0x324f77(0x1e6)]=_0x324f77(0x1e6),_0x25fafa[_0x324f77(0x1ee)]=_0x324f77(0x1ee),_0x25fafa[_0x324f77(0x20d)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x6e02a4=>{const _0x412942=a91_0x2fe932;var _0x3c6ce5,_0xbc9c71;return(_0x3c6ce5=_0x6e02a4['Profile'])===null||_0x3c6ce5===void 0x0?!![]:delete _0x3c6ce5[_0x412942(0x20c)],(_0xbc9c71=_0x6e02a4[_0x412942(0x206)])===null||_0xbc9c71===void 0x0?!![]:delete _0xbc9c71[_0x412942(0x1f8)],_0x6e02a4;},'PermissionSet':_0x149808=>{const _0x31181c=a91_0x2fe932;var _0x230184,_0x2675dc;return(_0x230184=_0x149808[_0x31181c(0x202)])===null||_0x230184===void 0x0?!![]:delete _0x230184[_0x31181c(0x20c)],(_0x2675dc=_0x149808['PermissionSet'])===null||_0x2675dc===void 0x0?!![]:delete _0x2675dc[_0x31181c(0x1f8)],_0x149808;}};async function extractComponentPermissions(_0xd2d7d7,_0x42b057,_0x47b229){const _0x273d47=a91_0x2fe932,_0x12af29=await getReadyComponent(_0xd2d7d7,_0x47b229),_0xc6c130=_0x12af29[_0x47b229];if(!_0xc6c130)return _0x12af29;for(const _0x5cf691 in _0xc6c130){if(UNREMOVE_PERMISSION[_0x5cf691])continue;const _0x5e5ef3=_0xc6c130[_0x5cf691],_0x116ef9=getValidPermission(_0x5e5ef3,_0x5cf691,_0x42b057);_0x116ef9[_0x273d47(0x20b)]?_0xc6c130[_0x5cf691]=_0x116ef9:delete _0xc6c130[_0x5cf691];}return _0x12af29[_0x47b229]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x12af29;}exports['extractComponentPermissions']=extractComponentPermissions;function getValidPermission(_0x1ce8fa,_0x4f1f65,_0x3686cf){const _0x316b24=a91_0x2fe932;let _0x1dc815=[];if(_0x4f1f65===_0x316b24(0x1fd))_0x1dc815=getValidLayout(_0x1ce8fa,_0x4f1f65,_0x3686cf);else{const _0x1cb4ea=Array[_0x316b24(0x209)](_0x1ce8fa)?_0x1ce8fa:[_0x1ce8fa];for(const _0x47ab97 of _0x1cb4ea){isValidPermission(_0x47ab97,_0x4f1f65,_0x3686cf)&&_0x1dc815[_0x316b24(0x204)](_0x47ab97);}}return _0x1dc815;}function isValidPermission(_0x3eae08,_0x7e220d,_0x13df33){const _0x33ae4b=a91_0x2fe932,_0x28e464=PERMISSIONS_MAP[_0x33ae4b(0x1e9)](_0x7e220d);return _0x3eae08[_0x28e464]&&_0x13df33['some'](_0x1a2055=>_0x1a2055['Component__r'][_0x33ae4b(0x1ef)]['includes'](_0x3eae08[_0x28e464]));}function getValidLayout(_0xf17f50,_0x5268da,_0x40a7cd){const _0x49ceed=a91_0x2fe932,_0x44e139=[],_0x177cc1=Array['isArray'](_0xf17f50)?_0xf17f50:[_0xf17f50];for(const _0x3eb7e4 in _0x177cc1){isValidPermission(_0x177cc1[_0x3eb7e4],_0x5268da,_0x40a7cd)&&(!_0x177cc1[_0x3eb7e4][_0x49ceed(0x1f4)]&&_0x44e139[_0x49ceed(0x204)](_0x177cc1[_0x3eb7e4]),isValidPermission(_0x177cc1[_0x3eb7e4],_0x49ceed(0x216),_0x40a7cd)&&_0x44e139['push'](_0x177cc1[_0x3eb7e4]));}return _0x44e139;}function a91_0x3b07(){const _0x4b1c9e=['tab','profileActionOverrides','(((.+)+)+)+$','label','toString','tabSettings','get','apexPage','flow','2441037hQvOms','externalDataSource','custom','Component_Name__c','214131uKvPcP','5nSjmLI','layout','12167060bDWgpO','recordType','2780856miFdxm','application','__esModule','loginIpRanges','fieldPermissions','1051184uHDPXH','extractComponentPermissions','flowAccesses','layoutAssignments','object','customSettingAccesses','field','apply','PermissionSet','6oaiPKL','push','customPermissions','Profile','categoryGroupVisibilities','../../git/parsers/utils/xml','isArray','14RWMtKx','length','userPermissions','description','name','constructor','dataCategoryGroup','7931898GxmgRP','externalDataSourceAccesses','search','hasActivationRequired','3074574lfDBNd','recordTypeVisibilities','customMetadataTypeAccesses'];a91_0x3b07=function(){return _0x4b1c9e;};return a91_0x3b07();}async function getReadyComponent(_0x19169c,_0x447845){const _0x3379a0=await xml_1['Xml']['parse'](_0x19169c);return prepareDeleteComponent[_0x447845](_0x3379a0);}