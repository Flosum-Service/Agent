'use strict';const a91_0x56e62b=a91_0x3cfa;(function(_0xcbc9ea,_0x315f71){const _0xaa3b06=a91_0x3cfa,_0x2d261d=_0xcbc9ea();while(!![]){try{const _0x17f98c=-parseInt(_0xaa3b06(0x16e))/0x1*(-parseInt(_0xaa3b06(0x184))/0x2)+-parseInt(_0xaa3b06(0x171))/0x3*(parseInt(_0xaa3b06(0x19b))/0x4)+parseInt(_0xaa3b06(0x190))/0x5*(parseInt(_0xaa3b06(0x172))/0x6)+-parseInt(_0xaa3b06(0x18b))/0x7+parseInt(_0xaa3b06(0x17e))/0x8*(parseInt(_0xaa3b06(0x188))/0x9)+-parseInt(_0xaa3b06(0x17d))/0xa+-parseInt(_0xaa3b06(0x198))/0xb*(-parseInt(_0xaa3b06(0x19c))/0xc);if(_0x17f98c===_0x315f71)break;else _0x2d261d['push'](_0x2d261d['shift']());}catch(_0x498fba){_0x2d261d['push'](_0x2d261d['shift']());}}}(a91_0x19fc,0x1c5f4));Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a91_0x56e62b(0x16f)]=void 0x0;const xml_1=require(a91_0x56e62b(0x183)),PERMISSIONS_MAP=new Map([[a91_0x56e62b(0x196),'apexClass'],['pageAccesses','apexPage'],[a91_0x56e62b(0x17f),'tab'],[a91_0x56e62b(0x182),a91_0x56e62b(0x189)],['profileActionOverrides',a91_0x56e62b(0x194)],[a91_0x56e62b(0x199),'dataCategoryGroup'],['objectPermissions',a91_0x56e62b(0x195)],[a91_0x56e62b(0x192),a91_0x56e62b(0x175)],['customSettingAccesses',a91_0x56e62b(0x175)],[a91_0x56e62b(0x191),'application'],[a91_0x56e62b(0x18d),'externalDataSource'],['customPermissions',a91_0x56e62b(0x175)],['flowAccesses',a91_0x56e62b(0x178)],['layoutAssignments',a91_0x56e62b(0x19d)],['recordTypeVisibilities','recordType'],[a91_0x56e62b(0x197),'field']]);var UNREMOVE_PERMISSION;function a91_0x19fc(){const _0x521263=['length','313056etSFrm','6sBvMhi','push','Xml','name','search','apply','flow','isArray','userPermissions','hasActivationRequired','http://soap.sforce.com/2006/04/metadata','2001320OhrzTF','432FwvuVy','tabSettings','loginIpRanges','includes','tabVisibilities','../../git/parsers/utils/xml','363068RpGHvG','label','recordTypeVisibilities','description','8451sARMWF','tab','toString','1007307PLPWQu','PermissionSet','externalDataSourceAccesses','custom','parse','195115GmAxfu','applicationVisibilities','customMetadataTypeAccesses','layoutAssignments','content','object','classAccesses','fieldPermissions','66xayhoo','categoryGroupVisibilities','get','8AKorWr','795372ayBCIK','layout','Component__r','1ofZDVY','extractComponentPermissions'];a91_0x19fc=function(){return _0x521263;};return a91_0x19fc();}function a91_0x3cfa(_0x2bd474,_0x4a756a){const _0x360898=a91_0x19fc();return a91_0x3cfa=function(_0x34fb69,_0x2aa22c){_0x34fb69=_0x34fb69-0x16e;let _0x19fc6f=_0x360898[_0x34fb69];return _0x19fc6f;},a91_0x3cfa(_0x2bd474,_0x4a756a);}(function(_0x4cd9f5){const _0x334978=a91_0x56e62b,_0x37c6f9=(function(){let _0x38d3c6=!![];return function(_0x2ddf92,_0x4fac03){const _0x14c9b3=_0x38d3c6?function(){const _0xd912f7=a91_0x3cfa;if(_0x4fac03){const _0x1f4ad2=_0x4fac03[_0xd912f7(0x177)](_0x2ddf92,arguments);return _0x4fac03=null,_0x1f4ad2;}}:function(){};return _0x38d3c6=![],_0x14c9b3;};}()),_0x35873d=_0x37c6f9(this,function(){const _0x109c06=a91_0x3cfa;return _0x35873d[_0x109c06(0x18a)]()['search']('(((.+)+)+)+$')[_0x109c06(0x18a)]()['constructor'](_0x35873d)[_0x109c06(0x176)]('(((.+)+)+)+$');});_0x35873d(),_0x4cd9f5[_0x334978(0x17b)]='hasActivationRequired',_0x4cd9f5[_0x334978(0x185)]=_0x334978(0x185),_0x4cd9f5['custom']=_0x334978(0x18e),_0x4cd9f5['description']=_0x334978(0x187);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x58cfa7=>{const _0x212358=a91_0x56e62b;var _0x410494,_0x3cbd26;return(_0x410494=_0x58cfa7['Profile'])===null||_0x410494===void 0x0?!![]:delete _0x410494[_0x212358(0x17a)],(_0x3cbd26=_0x58cfa7['Profile'])===null||_0x3cbd26===void 0x0?!![]:delete _0x3cbd26[_0x212358(0x180)],_0x58cfa7;},'PermissionSet':_0x9eeb1d=>{const _0x109939=a91_0x56e62b;var _0x244d8c,_0x143d34;return(_0x244d8c=_0x9eeb1d[_0x109939(0x18c)])===null||_0x244d8c===void 0x0?!![]:delete _0x244d8c[_0x109939(0x17a)],(_0x143d34=_0x9eeb1d[_0x109939(0x18c)])===null||_0x143d34===void 0x0?!![]:delete _0x143d34[_0x109939(0x180)],_0x9eeb1d;}};async function extractComponentPermissions(_0x399313,_0x111e1a,_0x4e0cff){const _0x1d519c=a91_0x56e62b,_0x28b56a=await getReadyComponent(_0x399313,_0x4e0cff),_0x4fcee6=_0x28b56a[_0x4e0cff];if(!_0x4fcee6)return _0x28b56a;for(const _0x1437a4 in _0x4fcee6){if(UNREMOVE_PERMISSION[_0x1437a4])continue;const _0x579be1=_0x4fcee6[_0x1437a4],_0x421635=getValidPermission(_0x579be1,_0x1437a4,_0x111e1a);_0x421635[_0x1d519c(0x170)]?_0x4fcee6[_0x1437a4]=_0x421635:delete _0x4fcee6[_0x1437a4];}return _0x28b56a[_0x4e0cff]['$']={'xmlns':_0x1d519c(0x17c)},_0x28b56a;}exports[a91_0x56e62b(0x16f)]=extractComponentPermissions;function getValidPermission(_0x3e6c8c,_0x2a5c4a,_0x52411e){const _0x305bc6=a91_0x56e62b;let _0x30c22f=[];if(_0x2a5c4a===_0x305bc6(0x193))_0x30c22f=getValidLayout(_0x3e6c8c,_0x2a5c4a,_0x52411e);else{const _0x9be74b=Array[_0x305bc6(0x179)](_0x3e6c8c)?_0x3e6c8c:[_0x3e6c8c];for(const _0x6df44 of _0x9be74b){isValidPermission(_0x6df44,_0x2a5c4a,_0x52411e)&&_0x30c22f[_0x305bc6(0x173)](_0x6df44);}}return _0x30c22f;}function isValidPermission(_0x34fff1,_0x41c17b,_0x1e29de){const _0x2878e4=a91_0x56e62b,_0xbe31f9=PERMISSIONS_MAP[_0x2878e4(0x19a)](_0x41c17b);return _0x34fff1[_0xbe31f9]&&_0x1e29de['some'](_0x3751ab=>_0x3751ab[_0x2878e4(0x19e)]['Component_Name__c'][_0x2878e4(0x181)](_0x34fff1[_0xbe31f9]));}function getValidLayout(_0x9c40eb,_0x47ea62,_0x404223){const _0x4dc367=a91_0x56e62b,_0x58b422=[],_0x37dbf2=Array['isArray'](_0x9c40eb)?_0x9c40eb:[_0x9c40eb];for(const _0x3aa2de in _0x37dbf2){isValidPermission(_0x37dbf2[_0x3aa2de],_0x47ea62,_0x404223)&&(!_0x37dbf2[_0x3aa2de]['recordType']&&_0x58b422[_0x4dc367(0x173)](_0x37dbf2[_0x3aa2de]),isValidPermission(_0x37dbf2[_0x3aa2de],_0x4dc367(0x186),_0x404223)&&_0x58b422['push'](_0x37dbf2[_0x3aa2de]));}return _0x58b422;}async function getReadyComponent(_0x59f77b,_0x5f0f23){const _0x560c10=a91_0x56e62b,_0x644bc0=await xml_1[_0x560c10(0x174)][_0x560c10(0x18f)](_0x59f77b);return prepareDeleteComponent[_0x5f0f23](_0x644bc0);}