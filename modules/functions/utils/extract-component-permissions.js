'use strict';const a109_0x4e80d5=a109_0x4aa6;function a109_0x4aa6(_0x4d191c,_0x1d60b4){const _0x4ad24d=a109_0x1537();return a109_0x4aa6=function(_0x38900b,_0x27754f){_0x38900b=_0x38900b-0xfe;let _0x15374e=_0x4ad24d[_0x38900b];return _0x15374e;},a109_0x4aa6(_0x4d191c,_0x1d60b4);}(function(_0x466d60,_0x335679){const _0x338f7e=a109_0x4aa6,_0x48337a=_0x466d60();while(!![]){try{const _0x3f3adb=-parseInt(_0x338f7e(0x10e))/0x1+-parseInt(_0x338f7e(0x12b))/0x2+parseInt(_0x338f7e(0x138))/0x3*(-parseInt(_0x338f7e(0x131))/0x4)+-parseInt(_0x338f7e(0x13a))/0x5+parseInt(_0x338f7e(0x11f))/0x6+parseInt(_0x338f7e(0x11e))/0x7*(-parseInt(_0x338f7e(0x134))/0x8)+parseInt(_0x338f7e(0x11b))/0x9;if(_0x3f3adb===_0x335679)break;else _0x48337a['push'](_0x48337a['shift']());}catch(_0x53cf3c){_0x48337a['push'](_0x48337a['shift']());}}}(a109_0x1537,0xacc09));Object[a109_0x4e80d5(0x109)](exports,a109_0x4e80d5(0x133),{'value':!![]}),exports[a109_0x4e80d5(0x113)]=exports[a109_0x4e80d5(0x137)]=void 0x0;const xml_1=require(a109_0x4e80d5(0x10b)),xml2js_1=require(a109_0x4e80d5(0x122)),PERMISSIONS_MAP=new Map([['classAccesses','apexClass'],[a109_0x4e80d5(0x135),a109_0x4e80d5(0x100)],[a109_0x4e80d5(0x101),a109_0x4e80d5(0x12d)],[a109_0x4e80d5(0x10d),a109_0x4e80d5(0x12d)],['profileActionOverrides','content'],['categoryGroupVisibilities',a109_0x4e80d5(0x112)],['objectPermissions',a109_0x4e80d5(0xff)],[a109_0x4e80d5(0x10a),a109_0x4e80d5(0x126)],['customSettingAccesses',a109_0x4e80d5(0x126)],[a109_0x4e80d5(0x106),a109_0x4e80d5(0x127)],[a109_0x4e80d5(0x123),a109_0x4e80d5(0x108)],[a109_0x4e80d5(0x128),'name'],[a109_0x4e80d5(0x119),a109_0x4e80d5(0x116)],[a109_0x4e80d5(0x120),a109_0x4e80d5(0x13d)],['recordTypeVisibilities',a109_0x4e80d5(0xfe)],[a109_0x4e80d5(0x111),a109_0x4e80d5(0x132)]]);var UNREMOVE_PERMISSION;(function(_0x48d7da){const _0x1debcc=a109_0x4e80d5,_0x26ee51=(function(){let _0x408b56=!![];return function(_0x2acbf6,_0x4012b1){const _0x16b9f6=_0x408b56?function(){const _0x5172b4=a109_0x4aa6;if(_0x4012b1){const _0x43720a=_0x4012b1[_0x5172b4(0x110)](_0x2acbf6,arguments);return _0x4012b1=null,_0x43720a;}}:function(){};return _0x408b56=![],_0x16b9f6;};}()),_0x24032f=_0x26ee51(this,function(){const _0x3c18c6=a109_0x4aa6;return _0x24032f['toString']()[_0x3c18c6(0x103)](_0x3c18c6(0x12c))[_0x3c18c6(0x117)]()[_0x3c18c6(0x10f)](_0x24032f)['search'](_0x3c18c6(0x12c));});_0x24032f(),_0x48d7da['hasActivationRequired']=_0x1debcc(0x12e),_0x48d7da[_0x1debcc(0x12f)]=_0x1debcc(0x12f),_0x48d7da[_0x1debcc(0x107)]='custom',_0x48d7da[_0x1debcc(0x118)]=_0x1debcc(0x118);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x3ae52d=>{const _0x298407=a109_0x4e80d5;var _0x412101,_0x31d8cf;return(_0x412101=_0x3ae52d[_0x298407(0x13e)])===null||_0x412101===void 0x0?!![]:delete _0x412101[_0x298407(0x114)],(_0x31d8cf=_0x3ae52d[_0x298407(0x13e)])===null||_0x31d8cf===void 0x0?!![]:delete _0x31d8cf['loginIpRanges'],_0x3ae52d;},'PermissionSet':_0x1fa799=>{const _0x42face=a109_0x4e80d5;var _0x3b407d,_0x4f3e11;return(_0x3b407d=_0x1fa799[_0x42face(0x13c)])===null||_0x3b407d===void 0x0?!![]:delete _0x3b407d['userPermissions'],(_0x4f3e11=_0x1fa799[_0x42face(0x13c)])===null||_0x4f3e11===void 0x0?!![]:delete _0x4f3e11[_0x42face(0x13b)],_0x1fa799;}};async function extractComponentPermissions(_0x54e1c4,_0x2c06c0,_0x14b79c){const _0x2192b2=a109_0x4e80d5,_0x355418=await getReadyComponent(_0x54e1c4,_0x14b79c),_0x332450=_0x355418[_0x14b79c];if(!_0x332450)return _0x355418;for(const _0x276945 in _0x332450){if(UNREMOVE_PERMISSION[_0x276945])continue;const _0x24b795=_0x332450[_0x276945],_0x425c59=getValidPermission(_0x24b795,_0x276945,_0x2c06c0);_0x425c59[_0x2192b2(0x10c)]?_0x332450[_0x276945]=_0x425c59:delete _0x332450[_0x276945];}return _0x355418[_0x14b79c]['$']={'xmlns':_0x2192b2(0x124)},_0x355418;}exports[a109_0x4e80d5(0x137)]=extractComponentPermissions;async function mergeComponentPermissions(_0x4f90e8,_0x33d91a,_0x4cf99e){const _0x40fb82=a109_0x4e80d5,_0xe8860b=await xml_1[_0x40fb82(0x11d)][_0x40fb82(0x125)](_0x4f90e8),_0x3f9d4b=await xml_1[_0x40fb82(0x11d)][_0x40fb82(0x125)](_0x33d91a),_0x4460e9=_0xe8860b[_0x4cf99e],_0x164e35=_0x3f9d4b[_0x4cf99e];if(!_0x4460e9)return _0x33d91a;for(const _0x5720d1 in _0x4460e9){const _0x167524=PERMISSIONS_MAP[_0x40fb82(0x136)](_0x5720d1);if(!_0x167524||!_0x164e35[_0x5720d1]){_0x164e35[_0x5720d1]=_0x4460e9[_0x5720d1];continue;}for(const _0x456a8b of _0x4460e9[_0x5720d1]){const _0x42425f=_0x164e35[_0x5720d1][_0x40fb82(0x11c)](_0x540c00=>_0x456a8b[_0x167524][0x0]===_0x540c00[_0x167524][0x0]);_0x42425f!==-0x1?_0x164e35[_0x5720d1][_0x42425f]=_0x456a8b:_0x164e35[_0x5720d1]['push'](_0x456a8b);}}_0x3f9d4b[_0x4cf99e]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'};const _0x1c59e2=new xml2js_1[(_0x40fb82(0x139))]({'xmldec':{'version':_0x40fb82(0x12a),'encoding':_0x40fb82(0x102)}});return _0x1c59e2['buildObject'](_0x3f9d4b);}function a109_0x1537(){const _0x6cc358=['(((.+)+)+)+$','tab','hasActivationRequired','label','Component__r','17564XdSxJA','field','__esModule','40oRYpEo','pageAccesses','get','extractComponentPermissions','615ayvVKI','Builder','1017995vvpIbx','loginIpRanges','PermissionSet','layout','Profile','recordType','object','apexPage','tabSettings','UTF-8','search','some','recordTypeVisibilities','applicationVisibilities','custom','externalDataSource','defineProperty','customMetadataTypeAccesses','../../git/parsers/utils/xml','length','tabVisibilities','759559VvNswE','constructor','apply','fieldPermissions','dataCategoryGroup','mergeComponentPermissions','userPermissions','Component_Name__c','flow','toString','description','flowAccesses','isArray','32462919PWRDTb','findIndex','Xml','1782893hmhyyE','1994688QqYOSM','layoutAssignments','includes','xml2js','externalDataSourceAccesses','http://soap.sforce.com/2006/04/metadata','parse','name','application','customPermissions','push','1.0','190076KUROgf'];a109_0x1537=function(){return _0x6cc358;};return a109_0x1537();}exports[a109_0x4e80d5(0x113)]=mergeComponentPermissions;function getValidPermission(_0x478213,_0x1e97b4,_0x1db01c){const _0x29433a=a109_0x4e80d5;let _0x2dad3b=[];if(_0x1e97b4===_0x29433a(0x120))_0x2dad3b=getValidLayout(_0x478213,_0x1e97b4,_0x1db01c);else{const _0x4a5462=Array[_0x29433a(0x11a)](_0x478213)?_0x478213:[_0x478213];for(const _0x5c98ea of _0x4a5462){isValidPermission(_0x5c98ea,_0x1e97b4,_0x1db01c)&&_0x2dad3b[_0x29433a(0x129)](_0x5c98ea);}}return _0x2dad3b;}function isValidPermission(_0x5086fc,_0x2d36e6,_0x3725d1){const _0x4eb386=a109_0x4e80d5,_0x1560b6=PERMISSIONS_MAP[_0x4eb386(0x136)](_0x2d36e6);return _0x5086fc[_0x1560b6]&&_0x3725d1[_0x4eb386(0x104)](_0x5c0d50=>_0x5c0d50[_0x4eb386(0x130)][_0x4eb386(0x115)][_0x4eb386(0x121)](_0x5086fc[_0x1560b6]));}function getValidLayout(_0x250ffc,_0x3e7550,_0x57c9af){const _0x244ed0=a109_0x4e80d5,_0x2c1adb=[],_0x1f8723=Array['isArray'](_0x250ffc)?_0x250ffc:[_0x250ffc];for(const _0x5a6b36 in _0x1f8723){isValidPermission(_0x1f8723[_0x5a6b36],_0x3e7550,_0x57c9af)&&(!_0x1f8723[_0x5a6b36][_0x244ed0(0xfe)]&&_0x2c1adb[_0x244ed0(0x129)](_0x1f8723[_0x5a6b36]),isValidPermission(_0x1f8723[_0x5a6b36],_0x244ed0(0x105),_0x57c9af)&&_0x2c1adb['push'](_0x1f8723[_0x5a6b36]));}return _0x2c1adb;}async function getReadyComponent(_0x1d1561,_0x4ddd71){const _0x542cee=a109_0x4e80d5,_0x529b13=await xml_1[_0x542cee(0x11d)][_0x542cee(0x125)](_0x1d1561);return prepareDeleteComponent[_0x4ddd71](_0x529b13);}