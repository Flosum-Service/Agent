'use strict';const a91_0x1e42f0=a91_0x13f1;(function(_0x3943d1,_0x5c528d){const _0x47a12c=a91_0x13f1,_0x37050a=_0x3943d1();while(!![]){try{const _0x3fd52f=parseInt(_0x47a12c(0x1f6))/0x1+-parseInt(_0x47a12c(0x1e5))/0x2+parseInt(_0x47a12c(0x1f9))/0x3+-parseInt(_0x47a12c(0x1f1))/0x4*(parseInt(_0x47a12c(0x1ea))/0x5)+parseInt(_0x47a12c(0x1db))/0x6+parseInt(_0x47a12c(0x206))/0x7+-parseInt(_0x47a12c(0x1e6))/0x8;if(_0x3fd52f===_0x5c528d)break;else _0x37050a['push'](_0x37050a['shift']());}catch(_0x523c8c){_0x37050a['push'](_0x37050a['shift']());}}}(a91_0x3db0,0xf330e));Object['defineProperty'](exports,a91_0x1e42f0(0x200),{'value':!![]}),exports[a91_0x1e42f0(0x1f0)]=void 0x0;const xml_1=require(a91_0x1e42f0(0x1de)),PERMISSIONS_MAP=new Map([['classAccesses',a91_0x1e42f0(0x1dc)],[a91_0x1e42f0(0x1d9),'apexPage'],[a91_0x1e42f0(0x205),a91_0x1e42f0(0x1df)],[a91_0x1e42f0(0x202),a91_0x1e42f0(0x1df)],['profileActionOverrides',a91_0x1e42f0(0x1fc)],[a91_0x1e42f0(0x204),a91_0x1e42f0(0x1d8)],[a91_0x1e42f0(0x1fb),a91_0x1e42f0(0x1e8)],[a91_0x1e42f0(0x1e0),a91_0x1e42f0(0x1d2)],[a91_0x1e42f0(0x1fd),a91_0x1e42f0(0x1d2)],[a91_0x1e42f0(0x1d7),'application'],[a91_0x1e42f0(0x203),'externalDataSource'],[a91_0x1e42f0(0x201),'name'],[a91_0x1e42f0(0x1ef),a91_0x1e42f0(0x1e3)],[a91_0x1e42f0(0x1f3),a91_0x1e42f0(0x1f2)],[a91_0x1e42f0(0x1fe),a91_0x1e42f0(0x1d6)],['fieldPermissions',a91_0x1e42f0(0x1da)]]);var UNREMOVE_PERMISSION;function a91_0x13f1(_0x559c8d,_0x1faf5){const _0x55909=a91_0x3db0();return a91_0x13f1=function(_0x59cbd7,_0x1d7275){_0x59cbd7=_0x59cbd7-0x1d2;let _0x3db04a=_0x55909[_0x59cbd7];return _0x3db04a;},a91_0x13f1(_0x559c8d,_0x1faf5);}(function(_0x23036b){const _0x68c525=a91_0x1e42f0,_0x2a2ef8=(function(){let _0x50a8ae=!![];return function(_0x59157d,_0x2df0b6){const _0x1da3d4=_0x50a8ae?function(){if(_0x2df0b6){const _0x147a15=_0x2df0b6['apply'](_0x59157d,arguments);return _0x2df0b6=null,_0x147a15;}}:function(){};return _0x50a8ae=![],_0x1da3d4;};}()),_0x144466=_0x2a2ef8(this,function(){const _0x1cfca5=a91_0x13f1;return _0x144466[_0x1cfca5(0x1eb)]()[_0x1cfca5(0x1e9)](_0x1cfca5(0x1e7))[_0x1cfca5(0x1eb)]()['constructor'](_0x144466)['search']('(((.+)+)+)+$');});_0x144466(),_0x23036b[_0x68c525(0x1d4)]=_0x68c525(0x1d4),_0x23036b['label']=_0x68c525(0x1d3),_0x23036b['custom']=_0x68c525(0x1dd),_0x23036b[_0x68c525(0x1f7)]=_0x68c525(0x1f7);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x809451=>{const _0x4e7603=a91_0x1e42f0;var _0xa46da8,_0x12a48a;return(_0xa46da8=_0x809451[_0x4e7603(0x1ff)])===null||_0xa46da8===void 0x0?!![]:delete _0xa46da8['userPermissions'],(_0x12a48a=_0x809451[_0x4e7603(0x1ff)])===null||_0x12a48a===void 0x0?!![]:delete _0x12a48a[_0x4e7603(0x1e4)],_0x809451;},'PermissionSet':_0x87db4d=>{const _0xa12465=a91_0x1e42f0;var _0x584dd5,_0x58c41c;return(_0x584dd5=_0x87db4d[_0xa12465(0x1f4)])===null||_0x584dd5===void 0x0?!![]:delete _0x584dd5[_0xa12465(0x1d5)],(_0x58c41c=_0x87db4d[_0xa12465(0x1f4)])===null||_0x58c41c===void 0x0?!![]:delete _0x58c41c[_0xa12465(0x1e4)],_0x87db4d;}};async function extractComponentPermissions(_0x3d4351,_0x2772ee,_0x481a23){const _0x914f3e=a91_0x1e42f0,_0x5a0c90=await getReadyComponent(_0x3d4351,_0x481a23),_0x15f8af=_0x5a0c90[_0x481a23];if(!_0x15f8af)return _0x5a0c90;for(const _0x1ee9c5 in _0x15f8af){if(UNREMOVE_PERMISSION[_0x1ee9c5])continue;const _0x378072=_0x15f8af[_0x1ee9c5],_0x458ff2=getValidPermission(_0x378072,_0x1ee9c5,_0x2772ee);_0x458ff2[_0x914f3e(0x1ee)]?_0x15f8af[_0x1ee9c5]=_0x458ff2:delete _0x15f8af[_0x1ee9c5];}return _0x5a0c90[_0x481a23]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x5a0c90;}exports[a91_0x1e42f0(0x1f0)]=extractComponentPermissions;function a91_0x3db0(){const _0x75df28=['applicationVisibilities','dataCategoryGroup','pageAccesses','field','10542276rGuSOl','apexClass','custom','../../git/parsers/utils/xml','tab','customMetadataTypeAccesses','get','isArray','flow','loginIpRanges','1711298OVweJb','8169160wJeezC','(((.+)+)+)+$','object','search','25RCRQwl','toString','push','includes','length','flowAccesses','extractComponentPermissions','1009100JCJSpD','layout','layoutAssignments','PermissionSet','Component_Name__c','1068281gGhTfx','description','some','650739cJjvwP','Component__r','objectPermissions','content','customSettingAccesses','recordTypeVisibilities','Profile','__esModule','customPermissions','tabVisibilities','externalDataSourceAccesses','categoryGroupVisibilities','tabSettings','7644273MdLZGd','name','label','hasActivationRequired','userPermissions','recordType'];a91_0x3db0=function(){return _0x75df28;};return a91_0x3db0();}function getValidPermission(_0x12ff87,_0x250b65,_0x1d5b82){const _0x1600ce=a91_0x1e42f0;let _0x39d584=[];if(_0x250b65===_0x1600ce(0x1f3))_0x39d584=getValidLayout(_0x12ff87,_0x250b65,_0x1d5b82);else{const _0x111590=Array[_0x1600ce(0x1e2)](_0x12ff87)?_0x12ff87:[_0x12ff87];for(const _0x104f9f of _0x111590){isValidPermission(_0x104f9f,_0x250b65,_0x1d5b82)&&_0x39d584[_0x1600ce(0x1ec)](_0x104f9f);}}return _0x39d584;}function isValidPermission(_0x4c95eb,_0x41ba57,_0x36438a){const _0x1c63f6=a91_0x1e42f0,_0x20b64c=PERMISSIONS_MAP[_0x1c63f6(0x1e1)](_0x41ba57);return _0x4c95eb[_0x20b64c]&&_0x36438a[_0x1c63f6(0x1f8)](_0x4b1439=>_0x4b1439[_0x1c63f6(0x1fa)][_0x1c63f6(0x1f5)][_0x1c63f6(0x1ed)](_0x4c95eb[_0x20b64c]));}function getValidLayout(_0x533b24,_0x3ef0c3,_0x3f1d9e){const _0x3c4216=a91_0x1e42f0,_0x25664a=[],_0xa7717b=Array['isArray'](_0x533b24)?_0x533b24:[_0x533b24];for(const _0x2913f2 in _0xa7717b){isValidPermission(_0xa7717b[_0x2913f2],_0x3ef0c3,_0x3f1d9e)&&(!_0xa7717b[_0x2913f2][_0x3c4216(0x1d6)]&&_0x25664a[_0x3c4216(0x1ec)](_0xa7717b[_0x2913f2]),isValidPermission(_0xa7717b[_0x2913f2],_0x3c4216(0x1fe),_0x3f1d9e)&&_0x25664a[_0x3c4216(0x1ec)](_0xa7717b[_0x2913f2]));}return _0x25664a;}async function getReadyComponent(_0x509617,_0x3bdecc){const _0x281a26=await xml_1['Xml']['parse'](_0x509617);return prepareDeleteComponent[_0x3bdecc](_0x281a26);}