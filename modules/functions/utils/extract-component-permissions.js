'use strict';const a91_0x4fe18a=a91_0x4d40;(function(_0x1836c5,_0x36e716){const _0x2c2c22=a91_0x4d40,_0x13e516=_0x1836c5();while(!![]){try{const _0x2b5ea8=parseInt(_0x2c2c22(0x21d))/0x1+parseInt(_0x2c2c22(0x218))/0x2*(parseInt(_0x2c2c22(0x20a))/0x3)+parseInt(_0x2c2c22(0x219))/0x4+-parseInt(_0x2c2c22(0x201))/0x5+-parseInt(_0x2c2c22(0x21a))/0x6+-parseInt(_0x2c2c22(0x1f7))/0x7+-parseInt(_0x2c2c22(0x1f0))/0x8;if(_0x2b5ea8===_0x36e716)break;else _0x13e516['push'](_0x13e516['shift']());}catch(_0x44e91b){_0x13e516['push'](_0x13e516['shift']());}}}(a91_0x21a2,0x43b3e));Object[a91_0x4fe18a(0x221)](exports,a91_0x4fe18a(0x216),{'value':!![]}),exports['extractComponentPermissions']=void 0x0;const xml_1=require('../../git/parsers/utils/xml'),PERMISSIONS_MAP=new Map([[a91_0x4fe18a(0x1fd),a91_0x4fe18a(0x210)],['pageAccesses',a91_0x4fe18a(0x214)],[a91_0x4fe18a(0x1f9),a91_0x4fe18a(0x205)],[a91_0x4fe18a(0x1fa),a91_0x4fe18a(0x205)],[a91_0x4fe18a(0x208),a91_0x4fe18a(0x217)],[a91_0x4fe18a(0x1fc),a91_0x4fe18a(0x200)],[a91_0x4fe18a(0x212),a91_0x4fe18a(0x1f8)],[a91_0x4fe18a(0x209),a91_0x4fe18a(0x220)],[a91_0x4fe18a(0x21b),a91_0x4fe18a(0x220)],[a91_0x4fe18a(0x1f3),a91_0x4fe18a(0x203)],['externalDataSourceAccesses',a91_0x4fe18a(0x213)],['customPermissions',a91_0x4fe18a(0x220)],[a91_0x4fe18a(0x21f),'flow'],[a91_0x4fe18a(0x20e),a91_0x4fe18a(0x202)],[a91_0x4fe18a(0x1ef),'recordType'],[a91_0x4fe18a(0x20c),'field']]);var UNREMOVE_PERMISSION;(function(_0x3ba48b){const _0xbbb37d=a91_0x4fe18a,_0x48da29=(function(){let _0x5dccf9=!![];return function(_0x593056,_0x3b9c5c){const _0x123c11=_0x5dccf9?function(){const _0x53aa2e=a91_0x4d40;if(_0x3b9c5c){const _0x49d68f=_0x3b9c5c[_0x53aa2e(0x1fb)](_0x593056,arguments);return _0x3b9c5c=null,_0x49d68f;}}:function(){};return _0x5dccf9=![],_0x123c11;};}()),_0x19e160=_0x48da29(this,function(){const _0x3d3349=a91_0x4d40;return _0x19e160['toString']()[_0x3d3349(0x1f1)]('(((.+)+)+)+$')[_0x3d3349(0x1fe)]()[_0x3d3349(0x20b)](_0x19e160)['search']('(((.+)+)+)+$');});_0x19e160(),_0x3ba48b['hasActivationRequired']='hasActivationRequired',_0x3ba48b['label']=_0xbbb37d(0x21c),_0x3ba48b[_0xbbb37d(0x1ff)]='custom',_0x3ba48b[_0xbbb37d(0x21e)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x38beab=>{const _0x5a7abc=a91_0x4fe18a;var _0x45939f,_0x124047;return(_0x45939f=_0x38beab[_0x5a7abc(0x1f4)])===null||_0x45939f===void 0x0?!![]:delete _0x45939f[_0x5a7abc(0x20d)],(_0x124047=_0x38beab[_0x5a7abc(0x1f4)])===null||_0x124047===void 0x0?!![]:delete _0x124047['loginIpRanges'],_0x38beab;},'PermissionSet':_0x1b8213=>{const _0x47db68=a91_0x4fe18a;var _0x54580c,_0x875e90;return(_0x54580c=_0x1b8213['PermissionSet'])===null||_0x54580c===void 0x0?!![]:delete _0x54580c[_0x47db68(0x20d)],(_0x875e90=_0x1b8213['PermissionSet'])===null||_0x875e90===void 0x0?!![]:delete _0x875e90['loginIpRanges'],_0x1b8213;}};async function extractComponentPermissions(_0x39d53b,_0xa2b61f,_0x1561b8){const _0x9e44fa=a91_0x4fe18a,_0x4b14a5=await getReadyComponent(_0x39d53b,_0x1561b8),_0x37ca31=_0x4b14a5[_0x1561b8];if(!_0x37ca31)return _0x4b14a5;for(const _0x5e3ecc in _0x37ca31){if(UNREMOVE_PERMISSION[_0x5e3ecc])continue;const _0x2b4f39=_0x37ca31[_0x5e3ecc],_0x41cf2c=getValidPermission(_0x2b4f39,_0x5e3ecc,_0xa2b61f);_0x41cf2c[_0x9e44fa(0x207)]?_0x37ca31[_0x5e3ecc]=_0x41cf2c:delete _0x37ca31[_0x5e3ecc];}return _0x4b14a5[_0x1561b8]['$']={'xmlns':_0x9e44fa(0x1f2)},_0x4b14a5;}exports[a91_0x4fe18a(0x215)]=extractComponentPermissions;function a91_0x21a2(){const _0x104ec7=['99366oLxBpM','constructor','fieldPermissions','userPermissions','layoutAssignments','includes','apexClass','get','objectPermissions','externalDataSource','apexPage','extractComponentPermissions','__esModule','content','28RGpbKy','2200384EkTxyM','1307646mCOSul','customSettingAccesses','label','552444MnNDPH','description','flowAccesses','name','defineProperty','recordTypeVisibilities','4794096NerFKk','search','http://soap.sforce.com/2006/04/metadata','applicationVisibilities','Profile','Component__r','isArray','877240CusDVY','object','tabSettings','tabVisibilities','apply','categoryGroupVisibilities','classAccesses','toString','custom','dataCategoryGroup','1732075ZrUUzV','layout','application','push','tab','Xml','length','profileActionOverrides','customMetadataTypeAccesses'];a91_0x21a2=function(){return _0x104ec7;};return a91_0x21a2();}function getValidPermission(_0x5e465e,_0x24c436,_0x3393ca){const _0x3d3b10=a91_0x4fe18a;let _0x27588c=[];if(_0x24c436===_0x3d3b10(0x20e))_0x27588c=getValidLayout(_0x5e465e,_0x24c436,_0x3393ca);else{const _0x2eecde=Array[_0x3d3b10(0x1f6)](_0x5e465e)?_0x5e465e:[_0x5e465e];for(const _0x3ce699 of _0x2eecde){isValidPermission(_0x3ce699,_0x24c436,_0x3393ca)&&_0x27588c[_0x3d3b10(0x204)](_0x3ce699);}}return _0x27588c;}function isValidPermission(_0x5c3e77,_0x2b1f65,_0x5e3f67){const _0x44d339=a91_0x4fe18a,_0x2a14e7=PERMISSIONS_MAP[_0x44d339(0x211)](_0x2b1f65);return _0x5c3e77[_0x2a14e7]&&_0x5e3f67['some'](_0x3155cb=>_0x3155cb[_0x44d339(0x1f5)]['Component_Name__c'][_0x44d339(0x20f)](_0x5c3e77[_0x2a14e7]));}function getValidLayout(_0x219a58,_0x1dd116,_0x351500){const _0x165cf8=a91_0x4fe18a,_0x321f67=[],_0x4714b8=Array[_0x165cf8(0x1f6)](_0x219a58)?_0x219a58:[_0x219a58];for(const _0x3e367c in _0x4714b8){isValidPermission(_0x4714b8[_0x3e367c],_0x1dd116,_0x351500)&&(!_0x4714b8[_0x3e367c]['recordType']&&_0x321f67['push'](_0x4714b8[_0x3e367c]),isValidPermission(_0x4714b8[_0x3e367c],_0x165cf8(0x1ef),_0x351500)&&_0x321f67[_0x165cf8(0x204)](_0x4714b8[_0x3e367c]));}return _0x321f67;}function a91_0x4d40(_0x2696e5,_0x1f2b89){const _0xea2bab=a91_0x21a2();return a91_0x4d40=function(_0x3eef77,_0x5d8a35){_0x3eef77=_0x3eef77-0x1ef;let _0x21a251=_0xea2bab[_0x3eef77];return _0x21a251;},a91_0x4d40(_0x2696e5,_0x1f2b89);}async function getReadyComponent(_0x3480ac,_0x399406){const _0x47f89e=a91_0x4fe18a,_0x5b2ab3=await xml_1[_0x47f89e(0x206)]['parse'](_0x3480ac);return prepareDeleteComponent[_0x399406](_0x5b2ab3);}