'use strict';const a109_0x21602d=a109_0x8168;(function(_0x290c23,_0x5284c2){const _0x38bd42=a109_0x8168,_0x40e6c9=_0x290c23();while(!![]){try{const _0x3ddc01=parseInt(_0x38bd42(0x20b))/0x1*(-parseInt(_0x38bd42(0x212))/0x2)+-parseInt(_0x38bd42(0x220))/0x3*(parseInt(_0x38bd42(0x223))/0x4)+-parseInt(_0x38bd42(0x225))/0x5+parseInt(_0x38bd42(0x235))/0x6*(-parseInt(_0x38bd42(0x21c))/0x7)+-parseInt(_0x38bd42(0x1f3))/0x8+parseInt(_0x38bd42(0x20c))/0x9+parseInt(_0x38bd42(0x202))/0xa;if(_0x3ddc01===_0x5284c2)break;else _0x40e6c9['push'](_0x40e6c9['shift']());}catch(_0x16b83f){_0x40e6c9['push'](_0x40e6c9['shift']());}}}(a109_0x3586,0xee22c));Object[a109_0x21602d(0x203)](exports,a109_0x21602d(0x208),{'value':!![]}),exports[a109_0x21602d(0x234)]=exports[a109_0x21602d(0x231)]=void 0x0;const xml_1=require(a109_0x21602d(0x227)),xml2js_1=require(a109_0x21602d(0x20d)),PERMISSIONS_MAP=new Map([[a109_0x21602d(0x1fc),a109_0x21602d(0x205)],[a109_0x21602d(0x207),a109_0x21602d(0x1fd)],[a109_0x21602d(0x20a),a109_0x21602d(0x21d)],[a109_0x21602d(0x215),a109_0x21602d(0x21d)],[a109_0x21602d(0x22d),a109_0x21602d(0x230)],[a109_0x21602d(0x1f8),a109_0x21602d(0x222)],['objectPermissions',a109_0x21602d(0x232)],[a109_0x21602d(0x20e),a109_0x21602d(0x214)],[a109_0x21602d(0x228),a109_0x21602d(0x214)],[a109_0x21602d(0x206),a109_0x21602d(0x1f9)],['externalDataSourceAccesses',a109_0x21602d(0x1fe)],[a109_0x21602d(0x211),'name'],[a109_0x21602d(0x204),'flow'],['layoutAssignments',a109_0x21602d(0x221)],['recordTypeVisibilities',a109_0x21602d(0x1f5)],[a109_0x21602d(0x219),'field']]);var UNREMOVE_PERMISSION;function a109_0x3586(){const _0x4d27d6=['mergeComponentPermissions','138VYfCBc','push','Builder','12836304pclMtU','Component_Name__c','recordType','1.0','PermissionSet','categoryGroupVisibilities','application','layoutAssignments','description','classAccesses','apexPage','externalDataSource','toString','findIndex','http://soap.sforce.com/2006/04/metadata','74394020HbCwMA','defineProperty','flowAccesses','apexClass','applicationVisibilities','pageAccesses','__esModule','some','tabSettings','2241ZvjujP','1526436weWGDx','xml2js','customMetadataTypeAccesses','isArray','constructor','customPermissions','376BETXhP','Profile','name','tabVisibilities','Component__r','parse','length','fieldPermissions','apply','Xml','426342nCDEel','tab','recordTypeVisibilities','search','109545JXxItx','layout','dataCategoryGroup','164AHTtLP','hasActivationRequired','8549015DgbCfZ','includes','../../git/parsers/utils/xml','customSettingAccesses','custom','(((.+)+)+)+$','UTF-8','get','profileActionOverrides','label','userPermissions','content','extractComponentPermissions','object','loginIpRanges'];a109_0x3586=function(){return _0x4d27d6;};return a109_0x3586();}function a109_0x8168(_0x5ba8e2,_0x136c2e){const _0x3ca970=a109_0x3586();return a109_0x8168=function(_0x1cfabd,_0x30f7e7){_0x1cfabd=_0x1cfabd-0x1f1;let _0x35860f=_0x3ca970[_0x1cfabd];return _0x35860f;},a109_0x8168(_0x5ba8e2,_0x136c2e);}(function(_0x3ef79f){const _0x4400aa=a109_0x21602d,_0x2976b3=(function(){let _0x1675d1=!![];return function(_0x145679,_0x3cf508){const _0x1116cb=_0x1675d1?function(){const _0x1b45c4=a109_0x8168;if(_0x3cf508){const _0x51e3ad=_0x3cf508[_0x1b45c4(0x21a)](_0x145679,arguments);return _0x3cf508=null,_0x51e3ad;}}:function(){};return _0x1675d1=![],_0x1116cb;};}()),_0x54b0d8=_0x2976b3(this,function(){const _0x3c0ddb=a109_0x8168;return _0x54b0d8[_0x3c0ddb(0x1ff)]()[_0x3c0ddb(0x21f)]('(((.+)+)+)+$')['toString']()[_0x3c0ddb(0x210)](_0x54b0d8)[_0x3c0ddb(0x21f)](_0x3c0ddb(0x22a));});_0x54b0d8(),_0x3ef79f[_0x4400aa(0x224)]=_0x4400aa(0x224),_0x3ef79f['label']=_0x4400aa(0x22e),_0x3ef79f['custom']=_0x4400aa(0x229),_0x3ef79f[_0x4400aa(0x1fb)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x501bb3=>{const _0x51cd51=a109_0x21602d;var _0x1b8013,_0x1f0780;return(_0x1b8013=_0x501bb3[_0x51cd51(0x213)])===null||_0x1b8013===void 0x0?!![]:delete _0x1b8013[_0x51cd51(0x22f)],(_0x1f0780=_0x501bb3[_0x51cd51(0x213)])===null||_0x1f0780===void 0x0?!![]:delete _0x1f0780['loginIpRanges'],_0x501bb3;},'PermissionSet':_0x261afe=>{const _0x5d3aa9=a109_0x21602d;var _0x6c5b92,_0x14c933;return(_0x6c5b92=_0x261afe[_0x5d3aa9(0x1f7)])===null||_0x6c5b92===void 0x0?!![]:delete _0x6c5b92[_0x5d3aa9(0x22f)],(_0x14c933=_0x261afe[_0x5d3aa9(0x1f7)])===null||_0x14c933===void 0x0?!![]:delete _0x14c933[_0x5d3aa9(0x233)],_0x261afe;}};async function extractComponentPermissions(_0x37f85e,_0x51703e,_0x146ee1){const _0x2ba771=a109_0x21602d,_0x32e999=await getReadyComponent(_0x37f85e,_0x146ee1),_0x54cd2d=_0x32e999[_0x146ee1];if(!_0x54cd2d)return _0x32e999;for(const _0x2af62b in _0x54cd2d){if(UNREMOVE_PERMISSION[_0x2af62b])continue;const _0x57a10e=_0x54cd2d[_0x2af62b],_0x1d797c=getValidPermission(_0x57a10e,_0x2af62b,_0x51703e);_0x1d797c[_0x2ba771(0x218)]?_0x54cd2d[_0x2af62b]=_0x1d797c:delete _0x54cd2d[_0x2af62b];}return _0x32e999[_0x146ee1]['$']={'xmlns':_0x2ba771(0x201)},_0x32e999;}exports[a109_0x21602d(0x231)]=extractComponentPermissions;async function mergeComponentPermissions(_0x1df1c8,_0x47ef2e,_0x42653c){const _0x3fbb2f=a109_0x21602d,_0x4d3ec1=await xml_1['Xml'][_0x3fbb2f(0x217)](_0x1df1c8),_0x18b204=await xml_1['Xml'][_0x3fbb2f(0x217)](_0x47ef2e),_0x5249c5=_0x4d3ec1[_0x42653c],_0x234fa0=_0x18b204[_0x42653c];if(!_0x5249c5)return _0x47ef2e;for(const _0x5acc78 in _0x5249c5){const _0x3d5373=PERMISSIONS_MAP[_0x3fbb2f(0x22c)](_0x5acc78);if(!_0x3d5373||!_0x234fa0[_0x5acc78]){_0x234fa0[_0x5acc78]=_0x5249c5[_0x5acc78];continue;}for(const _0x253a39 of _0x5249c5[_0x5acc78]){const _0x25205e=_0x234fa0[_0x5acc78][_0x3fbb2f(0x200)](_0xbcad05=>_0x253a39[_0x3d5373][0x0]===_0xbcad05[_0x3d5373][0x0]);_0x25205e!==-0x1?_0x234fa0[_0x5acc78][_0x25205e]=_0x253a39:_0x234fa0[_0x5acc78]['push'](_0x253a39);}}_0x18b204[_0x42653c]['$']={'xmlns':_0x3fbb2f(0x201)};const _0x1a4588=new xml2js_1[(_0x3fbb2f(0x1f2))]({'xmldec':{'version':_0x3fbb2f(0x1f6),'encoding':_0x3fbb2f(0x22b)}});return _0x1a4588['buildObject'](_0x18b204);}exports[a109_0x21602d(0x234)]=mergeComponentPermissions;function getValidPermission(_0xf16252,_0x54f28b,_0x2726a4){const _0xe9d011=a109_0x21602d;let _0xd9200d=[];if(_0x54f28b===_0xe9d011(0x1fa))_0xd9200d=getValidLayout(_0xf16252,_0x54f28b,_0x2726a4);else{const _0xdaf229=Array[_0xe9d011(0x20f)](_0xf16252)?_0xf16252:[_0xf16252];for(const _0x4b0daa of _0xdaf229){isValidPermission(_0x4b0daa,_0x54f28b,_0x2726a4)&&_0xd9200d[_0xe9d011(0x1f1)](_0x4b0daa);}}return _0xd9200d;}function isValidPermission(_0x1da383,_0x569329,_0x2d9f3e){const _0x26ce03=a109_0x21602d,_0x4efbf8=PERMISSIONS_MAP[_0x26ce03(0x22c)](_0x569329);return _0x1da383[_0x4efbf8]&&_0x2d9f3e[_0x26ce03(0x209)](_0x453490=>_0x453490[_0x26ce03(0x216)][_0x26ce03(0x1f4)][_0x26ce03(0x226)](_0x1da383[_0x4efbf8]));}function getValidLayout(_0x12443d,_0x288e91,_0x2993d2){const _0x2d7a0b=a109_0x21602d,_0xd45d3=[],_0x43a6eb=Array[_0x2d7a0b(0x20f)](_0x12443d)?_0x12443d:[_0x12443d];for(const _0xcc281f in _0x43a6eb){isValidPermission(_0x43a6eb[_0xcc281f],_0x288e91,_0x2993d2)&&(!_0x43a6eb[_0xcc281f]['recordType']&&_0xd45d3[_0x2d7a0b(0x1f1)](_0x43a6eb[_0xcc281f]),isValidPermission(_0x43a6eb[_0xcc281f],_0x2d7a0b(0x21e),_0x2993d2)&&_0xd45d3[_0x2d7a0b(0x1f1)](_0x43a6eb[_0xcc281f]));}return _0xd45d3;}async function getReadyComponent(_0x26e78b,_0x38770c){const _0x2c6a6d=a109_0x21602d,_0x43a092=await xml_1[_0x2c6a6d(0x21b)][_0x2c6a6d(0x217)](_0x26e78b);return prepareDeleteComponent[_0x38770c](_0x43a092);}