'use strict';const a109_0x294172=a109_0x15b5;(function(_0x2079ea,_0xb7830d){const _0x3bd76c=a109_0x15b5,_0x522742=_0x2079ea();while(!![]){try{const _0x4777dd=parseInt(_0x3bd76c(0x17d))/0x1*(-parseInt(_0x3bd76c(0x175))/0x2)+parseInt(_0x3bd76c(0x160))/0x3+parseInt(_0x3bd76c(0x177))/0x4+-parseInt(_0x3bd76c(0x173))/0x5*(parseInt(_0x3bd76c(0x15c))/0x6)+parseInt(_0x3bd76c(0x17a))/0x7*(parseInt(_0x3bd76c(0x180))/0x8)+-parseInt(_0x3bd76c(0x188))/0x9+-parseInt(_0x3bd76c(0x168))/0xa*(-parseInt(_0x3bd76c(0x16d))/0xb);if(_0x4777dd===_0xb7830d)break;else _0x522742['push'](_0x522742['shift']());}catch(_0xb779b6){_0x522742['push'](_0x522742['shift']());}}}(a109_0x35f2,0xd5a6f));Object[a109_0x294172(0x192)](exports,'__esModule',{'value':!![]}),exports[a109_0x294172(0x194)]=exports[a109_0x294172(0x16e)]=void 0x0;const xml_1=require(a109_0x294172(0x179)),xml2js_1=require(a109_0x294172(0x176)),PERMISSIONS_MAP=new Map([[a109_0x294172(0x171),'apexClass'],['pageAccesses',a109_0x294172(0x172)],[a109_0x294172(0x15a),a109_0x294172(0x164)],[a109_0x294172(0x187),a109_0x294172(0x164)],[a109_0x294172(0x18d),a109_0x294172(0x16a)],[a109_0x294172(0x193),a109_0x294172(0x15e)],[a109_0x294172(0x15d),a109_0x294172(0x18f)],[a109_0x294172(0x17c),a109_0x294172(0x16b)],[a109_0x294172(0x162),'name'],['applicationVisibilities','application'],[a109_0x294172(0x186),a109_0x294172(0x158)],[a109_0x294172(0x161),a109_0x294172(0x16b)],['flowAccesses',a109_0x294172(0x16c)],[a109_0x294172(0x159),a109_0x294172(0x183)],[a109_0x294172(0x185),a109_0x294172(0x165)],[a109_0x294172(0x167),a109_0x294172(0x190)]]);var UNREMOVE_PERMISSION;function a109_0x35f2(){const _0x4d092f=['content','name','flow','5872317OCXSzL','extractComponentPermissions','apply','description','classAccesses','apexPage','1557575JbrCAl','includes','30052GWGvVt','xml2js','1006436ZQVlZA','get','../../git/parsers/utils/xml','2895305NqlbsX','isArray','customMetadataTypeAccesses','86fSTJRw','UTF-8','Xml','24KKXyab','(((.+)+)+)+$','parse','layout','hasActivationRequired','recordTypeVisibilities','externalDataSourceAccesses','tabVisibilities','8647569hgdYEx','Builder','push','buildObject','PermissionSet','profileActionOverrides','loginIpRanges','object','field','userPermissions','defineProperty','categoryGroupVisibilities','mergeComponentPermissions','Profile','custom','externalDataSource','layoutAssignments','tabSettings','label','6HVnkMO','objectPermissions','dataCategoryGroup','search','1037148HfROtc','customPermissions','customSettingAccesses','http://soap.sforce.com/2006/04/metadata','tab','recordType','findIndex','fieldPermissions','30guXcoE','toString'];a109_0x35f2=function(){return _0x4d092f;};return a109_0x35f2();}(function(_0x557353){const _0x2d5514=a109_0x294172,_0x5849dc=(function(){let _0x2c1fda=!![];return function(_0x572cf7,_0x43ad79){const _0x33fd14=_0x2c1fda?function(){const _0x4863d7=a109_0x15b5;if(_0x43ad79){const _0x47316f=_0x43ad79[_0x4863d7(0x16f)](_0x572cf7,arguments);return _0x43ad79=null,_0x47316f;}}:function(){};return _0x2c1fda=![],_0x33fd14;};}()),_0x80919e=_0x5849dc(this,function(){const _0x3eeaff=a109_0x15b5;return _0x80919e['toString']()[_0x3eeaff(0x15f)](_0x3eeaff(0x181))[_0x3eeaff(0x169)]()['constructor'](_0x80919e)[_0x3eeaff(0x15f)]('(((.+)+)+)+$');});_0x80919e(),_0x557353[_0x2d5514(0x184)]='hasActivationRequired',_0x557353[_0x2d5514(0x15b)]=_0x2d5514(0x15b),_0x557353[_0x2d5514(0x196)]=_0x2d5514(0x196),_0x557353[_0x2d5514(0x170)]='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x31ad74=>{const _0x41f148=a109_0x294172;var _0x4e387d,_0x559ca6;return(_0x4e387d=_0x31ad74[_0x41f148(0x195)])===null||_0x4e387d===void 0x0?!![]:delete _0x4e387d['userPermissions'],(_0x559ca6=_0x31ad74['Profile'])===null||_0x559ca6===void 0x0?!![]:delete _0x559ca6[_0x41f148(0x18e)],_0x31ad74;},'PermissionSet':_0x42bef9=>{const _0x45534c=a109_0x294172;var _0x7f83f3,_0x4f7624;return(_0x7f83f3=_0x42bef9['PermissionSet'])===null||_0x7f83f3===void 0x0?!![]:delete _0x7f83f3[_0x45534c(0x191)],(_0x4f7624=_0x42bef9[_0x45534c(0x18c)])===null||_0x4f7624===void 0x0?!![]:delete _0x4f7624[_0x45534c(0x18e)],_0x42bef9;}};async function extractComponentPermissions(_0x40f944,_0x12d468,_0x21f160){const _0x10acad=a109_0x294172,_0x5c5098=await getReadyComponent(_0x40f944,_0x21f160),_0x5e609e=_0x5c5098[_0x21f160];if(!_0x5e609e)return _0x5c5098;for(const _0x14891c in _0x5e609e){if(UNREMOVE_PERMISSION[_0x14891c])continue;const _0x14aea5=_0x5e609e[_0x14891c],_0x2b571e=getValidPermission(_0x14aea5,_0x14891c,_0x12d468);_0x2b571e['length']?_0x5e609e[_0x14891c]=_0x2b571e:delete _0x5e609e[_0x14891c];}return _0x5c5098[_0x21f160]['$']={'xmlns':_0x10acad(0x163)},_0x5c5098;}exports[a109_0x294172(0x16e)]=extractComponentPermissions;async function mergeComponentPermissions(_0x1ba67b,_0x463cef,_0x3da85f){const _0x4533f2=a109_0x294172,_0x586963=await xml_1[_0x4533f2(0x17f)][_0x4533f2(0x182)](_0x1ba67b),_0x5309cc=await xml_1[_0x4533f2(0x17f)][_0x4533f2(0x182)](_0x463cef),_0x27b567=_0x586963[_0x3da85f],_0x3058bc=_0x5309cc[_0x3da85f];if(!_0x27b567)return _0x463cef;for(const _0x2615a4 in _0x27b567){const _0xad4ca=PERMISSIONS_MAP[_0x4533f2(0x178)](_0x2615a4);if(!_0xad4ca||!_0x3058bc[_0x2615a4]){_0x3058bc[_0x2615a4]=_0x27b567[_0x2615a4];continue;}for(const _0x5149ca of _0x27b567[_0x2615a4]){const _0x3aa5f9=_0x3058bc[_0x2615a4][_0x4533f2(0x166)](_0x55e11e=>_0x5149ca[_0xad4ca][0x0]===_0x55e11e[_0xad4ca][0x0]);_0x3aa5f9!==-0x1?_0x3058bc[_0x2615a4][_0x3aa5f9]=_0x5149ca:_0x3058bc[_0x2615a4]['push'](_0x5149ca);}}_0x5309cc[_0x3da85f]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'};const _0x5e3c6e=new xml2js_1[(_0x4533f2(0x189))]({'xmldec':{'version':'1.0','encoding':_0x4533f2(0x17e)}});return _0x5e3c6e[_0x4533f2(0x18b)](_0x5309cc);}exports[a109_0x294172(0x194)]=mergeComponentPermissions;function getValidPermission(_0x384f33,_0x45a443,_0xab1449){const _0x7f0ded=a109_0x294172;let _0x5a9a92=[];if(_0x45a443===_0x7f0ded(0x159))_0x5a9a92=getValidLayout(_0x384f33,_0x45a443,_0xab1449);else{const _0x58f29e=Array['isArray'](_0x384f33)?_0x384f33:[_0x384f33];for(const _0x150dfa of _0x58f29e){isValidPermission(_0x150dfa,_0x45a443,_0xab1449)&&_0x5a9a92[_0x7f0ded(0x18a)](_0x150dfa);}}return _0x5a9a92;}function isValidPermission(_0x2214cb,_0x44a3d7,_0x7e2ac7){const _0x184046=a109_0x294172,_0x3e1ad7=PERMISSIONS_MAP[_0x184046(0x178)](_0x44a3d7);return _0x2214cb[_0x3e1ad7]&&_0x7e2ac7['some'](_0x46526b=>_0x46526b['Component__r']['Component_Name__c'][_0x184046(0x174)](_0x2214cb[_0x3e1ad7]));}function getValidLayout(_0x33670b,_0x68c4f1,_0x446ccf){const _0x357e8b=a109_0x294172,_0x53e2e1=[],_0x5bc34d=Array[_0x357e8b(0x17b)](_0x33670b)?_0x33670b:[_0x33670b];for(const _0x30a87a in _0x5bc34d){isValidPermission(_0x5bc34d[_0x30a87a],_0x68c4f1,_0x446ccf)&&(!_0x5bc34d[_0x30a87a][_0x357e8b(0x165)]&&_0x53e2e1[_0x357e8b(0x18a)](_0x5bc34d[_0x30a87a]),isValidPermission(_0x5bc34d[_0x30a87a],'recordTypeVisibilities',_0x446ccf)&&_0x53e2e1['push'](_0x5bc34d[_0x30a87a]));}return _0x53e2e1;}function a109_0x15b5(_0x32d1fa,_0x14dacd){const _0x14e17c=a109_0x35f2();return a109_0x15b5=function(_0x23fb44,_0x2628fd){_0x23fb44=_0x23fb44-0x158;let _0x35f2be=_0x14e17c[_0x23fb44];return _0x35f2be;},a109_0x15b5(_0x32d1fa,_0x14dacd);}async function getReadyComponent(_0x2b19b4,_0x1b8215){const _0x55eb47=a109_0x294172,_0x2563de=await xml_1[_0x55eb47(0x17f)][_0x55eb47(0x182)](_0x2b19b4);return prepareDeleteComponent[_0x1b8215](_0x2563de);}