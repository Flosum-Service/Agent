'use strict';const a109_0xc1094=a109_0x4e52;(function(_0x1566f4,_0x20ee73){const _0x48a984=a109_0x4e52,_0x30cfe4=_0x1566f4();while(!![]){try{const _0x4f78cf=parseInt(_0x48a984(0x11f))/0x1*(-parseInt(_0x48a984(0x13e))/0x2)+parseInt(_0x48a984(0x119))/0x3*(-parseInt(_0x48a984(0x14d))/0x4)+parseInt(_0x48a984(0x122))/0x5+-parseInt(_0x48a984(0x13d))/0x6*(parseInt(_0x48a984(0x150))/0x7)+parseInt(_0x48a984(0x14a))/0x8+parseInt(_0x48a984(0x113))/0x9*(-parseInt(_0x48a984(0x151))/0xa)+parseInt(_0x48a984(0x13b))/0xb;if(_0x4f78cf===_0x20ee73)break;else _0x30cfe4['push'](_0x30cfe4['shift']());}catch(_0x21f86d){_0x30cfe4['push'](_0x30cfe4['shift']());}}}(a109_0x26cd,0x913a0));Object[a109_0xc1094(0x138)](exports,a109_0xc1094(0x153),{'value':!![]}),exports[a109_0xc1094(0x145)]=exports[a109_0xc1094(0x12c)]=void 0x0;const xml_1=require(a109_0xc1094(0x117)),xml2js_1=require(a109_0xc1094(0x146)),PERMISSIONS_MAP=new Map([['classAccesses','apexClass'],[a109_0xc1094(0x133),a109_0xc1094(0x14e)],[a109_0xc1094(0x144),'tab'],[a109_0xc1094(0x115),a109_0xc1094(0x154)],[a109_0xc1094(0x13c),a109_0xc1094(0x14b)],[a109_0xc1094(0x131),a109_0xc1094(0x123)],[a109_0xc1094(0x125),a109_0xc1094(0x11d)],[a109_0xc1094(0x143),a109_0xc1094(0x12d)],[a109_0xc1094(0x14c),a109_0xc1094(0x12d)],[a109_0xc1094(0x132),'application'],['externalDataSourceAccesses',a109_0xc1094(0x13f)],['customPermissions',a109_0xc1094(0x12d)],[a109_0xc1094(0x127),a109_0xc1094(0x147)],[a109_0xc1094(0x11a),a109_0xc1094(0x12b)],[a109_0xc1094(0x118),a109_0xc1094(0x126)],['fieldPermissions',a109_0xc1094(0x149)]]);var UNREMOVE_PERMISSION;(function(_0x140db5){const _0x1dcfb4=a109_0xc1094,_0x424c17=(function(){let _0x4889ff=!![];return function(_0x1f9a7d,_0x28b252){const _0x445d70=_0x4889ff?function(){const _0x3d2f2f=a109_0x4e52;if(_0x28b252){const _0x38e4bf=_0x28b252[_0x3d2f2f(0x120)](_0x1f9a7d,arguments);return _0x28b252=null,_0x38e4bf;}}:function(){};return _0x4889ff=![],_0x445d70;};}()),_0x408795=_0x424c17(this,function(){const _0x8e89fb=a109_0x4e52;return _0x408795[_0x8e89fb(0x124)]()[_0x8e89fb(0x137)](_0x8e89fb(0x140))[_0x8e89fb(0x124)]()['constructor'](_0x408795)['search']('(((.+)+)+)+$');});_0x408795(),_0x140db5[_0x1dcfb4(0x128)]=_0x1dcfb4(0x128),_0x140db5[_0x1dcfb4(0x12f)]='label',_0x140db5[_0x1dcfb4(0x11b)]=_0x1dcfb4(0x11b),_0x140db5[_0x1dcfb4(0x130)]=_0x1dcfb4(0x130);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x594de7=>{const _0x49bc5b=a109_0xc1094;var _0x3a8f21,_0x4412bb;return(_0x3a8f21=_0x594de7[_0x49bc5b(0x121)])===null||_0x3a8f21===void 0x0?!![]:delete _0x3a8f21[_0x49bc5b(0x152)],(_0x4412bb=_0x594de7[_0x49bc5b(0x121)])===null||_0x4412bb===void 0x0?!![]:delete _0x4412bb[_0x49bc5b(0x12e)],_0x594de7;},'PermissionSet':_0x1be8be=>{const _0x18271c=a109_0xc1094;var _0x23f9fc,_0x40388b;return(_0x23f9fc=_0x1be8be[_0x18271c(0x11e)])===null||_0x23f9fc===void 0x0?!![]:delete _0x23f9fc['userPermissions'],(_0x40388b=_0x1be8be[_0x18271c(0x11e)])===null||_0x40388b===void 0x0?!![]:delete _0x40388b[_0x18271c(0x12e)],_0x1be8be;}};async function extractComponentPermissions(_0x448484,_0x1e8606,_0x3c5898){const _0x2af1f6=a109_0xc1094,_0x45e9c1=await getReadyComponent(_0x448484,_0x3c5898),_0x4411e4=_0x45e9c1[_0x3c5898];if(!_0x4411e4)return _0x45e9c1;for(const _0x39c1ee in _0x4411e4){if(UNREMOVE_PERMISSION[_0x39c1ee])continue;const _0x40a1f4=_0x4411e4[_0x39c1ee],_0x392359=getValidPermission(_0x40a1f4,_0x39c1ee,_0x1e8606);_0x392359['length']?_0x4411e4[_0x39c1ee]=_0x392359:delete _0x4411e4[_0x39c1ee];}return _0x45e9c1[_0x3c5898]['$']={'xmlns':_0x2af1f6(0x14f)},_0x45e9c1;}exports['extractComponentPermissions']=extractComponentPermissions;async function mergeComponentPermissions(_0x1f5563,_0x67e812,_0x51c058){const _0x54c4c9=a109_0xc1094,_0x5260d5=await xml_1['Xml'][_0x54c4c9(0x135)](_0x1f5563),_0x1cc95f=await xml_1[_0x54c4c9(0x129)][_0x54c4c9(0x135)](_0x67e812),_0x57fc30=_0x5260d5[_0x51c058],_0x4ea326=_0x1cc95f[_0x51c058];if(!_0x57fc30)return _0x67e812;for(const _0x28669b in _0x57fc30){const _0x1514ff=PERMISSIONS_MAP[_0x54c4c9(0x12a)](_0x28669b);if(!_0x1514ff||!_0x4ea326[_0x28669b]){_0x4ea326[_0x28669b]=_0x57fc30[_0x28669b];continue;}for(const _0x5aa5a5 of _0x57fc30[_0x28669b]){const _0x4ccfde=_0x4ea326[_0x28669b][_0x54c4c9(0x134)](_0x2f0566=>_0x5aa5a5[_0x1514ff][0x0]===_0x2f0566[_0x1514ff][0x0]);_0x4ccfde!==-0x1?_0x4ea326[_0x28669b][_0x4ccfde]=_0x5aa5a5:_0x4ea326[_0x28669b][_0x54c4c9(0x139)](_0x5aa5a5);}}_0x1cc95f[_0x51c058]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'};const _0x2b0ab4=new xml2js_1[(_0x54c4c9(0x11c))]({'xmldec':{'version':_0x54c4c9(0x114),'encoding':'UTF-8'}});return _0x2b0ab4[_0x54c4c9(0x142)](_0x1cc95f);}exports[a109_0xc1094(0x145)]=mergeComponentPermissions;function getValidPermission(_0x312fd0,_0x374fc2,_0x4db8fc){const _0x8024ad=a109_0xc1094;let _0xcf27b7=[];if(_0x374fc2===_0x8024ad(0x11a))_0xcf27b7=getValidLayout(_0x312fd0,_0x374fc2,_0x4db8fc);else{const _0x4bd1ee=Array[_0x8024ad(0x13a)](_0x312fd0)?_0x312fd0:[_0x312fd0];for(const _0x38e5b4 of _0x4bd1ee){isValidPermission(_0x38e5b4,_0x374fc2,_0x4db8fc)&&_0xcf27b7['push'](_0x38e5b4);}}return _0xcf27b7;}function isValidPermission(_0x32cc7f,_0x203b09,_0x29872f){const _0x38f2a0=a109_0xc1094,_0x24794f=PERMISSIONS_MAP['get'](_0x203b09);return _0x32cc7f[_0x24794f]&&_0x29872f[_0x38f2a0(0x136)](_0x86984b=>_0x86984b[_0x38f2a0(0x141)][_0x38f2a0(0x148)][_0x38f2a0(0x116)](_0x32cc7f[_0x24794f]));}function a109_0x4e52(_0x4988cb,_0xc9c773){const _0x32e679=a109_0x26cd();return a109_0x4e52=function(_0x4b8752,_0x49482a){_0x4b8752=_0x4b8752-0x113;let _0x26cda0=_0x32e679[_0x4b8752];return _0x26cda0;},a109_0x4e52(_0x4988cb,_0xc9c773);}function getValidLayout(_0x5bf857,_0x37dcde,_0x140894){const _0x2cc75a=a109_0xc1094,_0x1c64aa=[],_0x52d1b5=Array[_0x2cc75a(0x13a)](_0x5bf857)?_0x5bf857:[_0x5bf857];for(const _0xab8f88 in _0x52d1b5){isValidPermission(_0x52d1b5[_0xab8f88],_0x37dcde,_0x140894)&&(!_0x52d1b5[_0xab8f88]['recordType']&&_0x1c64aa[_0x2cc75a(0x139)](_0x52d1b5[_0xab8f88]),isValidPermission(_0x52d1b5[_0xab8f88],_0x2cc75a(0x118),_0x140894)&&_0x1c64aa[_0x2cc75a(0x139)](_0x52d1b5[_0xab8f88]));}return _0x1c64aa;}function a109_0x26cd(){const _0x4bcb60=['layout','extractComponentPermissions','name','loginIpRanges','label','description','categoryGroupVisibilities','applicationVisibilities','pageAccesses','findIndex','parse','some','search','defineProperty','push','isArray','22161590FaPcJZ','profileActionOverrides','6sDpyGJ','6602iKfLxy','externalDataSource','(((.+)+)+)+$','Component__r','buildObject','customMetadataTypeAccesses','tabSettings','mergeComponentPermissions','xml2js','flow','Component_Name__c','field','1338936NSghkO','content','customSettingAccesses','156724eWKGXd','apexPage','http://soap.sforce.com/2006/04/metadata','939323ofzpNc','230vgehdK','userPermissions','__esModule','tab','270369fiIHVr','1.0','tabVisibilities','includes','../../git/parsers/utils/xml','recordTypeVisibilities','87FeUCwx','layoutAssignments','custom','Builder','object','PermissionSet','115ZTgKqO','apply','Profile','3768935uowkEQ','dataCategoryGroup','toString','objectPermissions','recordType','flowAccesses','hasActivationRequired','Xml','get'];a109_0x26cd=function(){return _0x4bcb60;};return a109_0x26cd();}async function getReadyComponent(_0x2294b2,_0x56ca37){const _0xe6c69c=a109_0xc1094,_0x1385a2=await xml_1[_0xe6c69c(0x129)][_0xe6c69c(0x135)](_0x2294b2);return prepareDeleteComponent[_0x56ca37](_0x1385a2);}