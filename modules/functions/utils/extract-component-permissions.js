'use strict';const a60_0x5bf384=a60_0x521e;function a60_0x521e(_0x5e3dd9,_0x46eea0){const _0x461df9=a60_0x3220();return a60_0x521e=function(_0x192e1f,_0x23ff8c){_0x192e1f=_0x192e1f-0x1b8;let _0x32204b=_0x461df9[_0x192e1f];return _0x32204b;},a60_0x521e(_0x5e3dd9,_0x46eea0);}(function(_0x417b44,_0x31901a){const _0x5b0755=a60_0x521e,_0x45456=_0x417b44();while(!![]){try{const _0x366c10=parseInt(_0x5b0755(0x1bc))/0x1+-parseInt(_0x5b0755(0x1b8))/0x2+-parseInt(_0x5b0755(0x1e5))/0x3+-parseInt(_0x5b0755(0x1e3))/0x4*(parseInt(_0x5b0755(0x1d3))/0x5)+parseInt(_0x5b0755(0x1c2))/0x6*(-parseInt(_0x5b0755(0x1be))/0x7)+parseInt(_0x5b0755(0x1d9))/0x8+-parseInt(_0x5b0755(0x1bd))/0x9*(-parseInt(_0x5b0755(0x1c3))/0xa);if(_0x366c10===_0x31901a)break;else _0x45456['push'](_0x45456['shift']());}catch(_0x2bd80d){_0x45456['push'](_0x45456['shift']());}}}(a60_0x3220,0x7ca07));Object['defineProperty'](exports,a60_0x5bf384(0x1bb),{'value':!![]}),exports['extractComponentPermissions']=void 0x0;const xml_1=require(a60_0x5bf384(0x1ca)),PERMISSIONS_MAP=new Map([[a60_0x5bf384(0x1c0),a60_0x5bf384(0x1de)],[a60_0x5bf384(0x1d2),a60_0x5bf384(0x1c5)],[a60_0x5bf384(0x1cc),a60_0x5bf384(0x1cb)],[a60_0x5bf384(0x1df),a60_0x5bf384(0x1cb)],['profileActionOverrides','content'],['categoryGroupVisibilities',a60_0x5bf384(0x1dc)],[a60_0x5bf384(0x1c1),a60_0x5bf384(0x1db)],[a60_0x5bf384(0x1d8),a60_0x5bf384(0x1cd)],[a60_0x5bf384(0x1e1),a60_0x5bf384(0x1cd)],[a60_0x5bf384(0x1e7),a60_0x5bf384(0x1f0)],[a60_0x5bf384(0x1e4),'externalDataSource'],[a60_0x5bf384(0x1e2),a60_0x5bf384(0x1cd)],[a60_0x5bf384(0x1e9),a60_0x5bf384(0x1d1)],[a60_0x5bf384(0x1d4),a60_0x5bf384(0x1ec)],[a60_0x5bf384(0x1ed),a60_0x5bf384(0x1cf)],[a60_0x5bf384(0x1e6),a60_0x5bf384(0x1dd)]]);var UNREMOVE_PERMISSION;(function(_0x1856a0){const _0x27f79b=a60_0x5bf384,_0x193260=(function(){let _0x5431bc=!![];return function(_0x1fd423,_0x3f000d){const _0x353e27=_0x5431bc?function(){if(_0x3f000d){const _0x5b7728=_0x3f000d['apply'](_0x1fd423,arguments);return _0x3f000d=null,_0x5b7728;}}:function(){};return _0x5431bc=![],_0x353e27;};}()),_0x168b2f=_0x193260(this,function(){const _0xaabd96=a60_0x521e;return _0x168b2f[_0xaabd96(0x1b9)]()[_0xaabd96(0x1c9)](_0xaabd96(0x1d5))['toString']()[_0xaabd96(0x1e8)](_0x168b2f)[_0xaabd96(0x1c9)](_0xaabd96(0x1d5));});_0x168b2f(),_0x1856a0[_0x27f79b(0x1ee)]='hasActivationRequired',_0x1856a0[_0x27f79b(0x1ea)]=_0x27f79b(0x1ea),_0x1856a0['custom']=_0x27f79b(0x1f2),_0x1856a0['description']='description';}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x50cbe3=>{const _0x1c743b=a60_0x5bf384;var _0x2ef384,_0x8ed9ea;return(_0x2ef384=_0x50cbe3[_0x1c743b(0x1e0)])===null||_0x2ef384===void 0x0?!![]:delete _0x2ef384[_0x1c743b(0x1d6)],(_0x8ed9ea=_0x50cbe3[_0x1c743b(0x1e0)])===null||_0x8ed9ea===void 0x0?!![]:delete _0x8ed9ea[_0x1c743b(0x1c8)],_0x50cbe3;},'PermissionSet':_0x1cfe73=>{const _0xd06f2=a60_0x5bf384;var _0x5e9267,_0x49b2e0;return(_0x5e9267=_0x1cfe73[_0xd06f2(0x1ce)])===null||_0x5e9267===void 0x0?!![]:delete _0x5e9267[_0xd06f2(0x1d6)],(_0x49b2e0=_0x1cfe73[_0xd06f2(0x1ce)])===null||_0x49b2e0===void 0x0?!![]:delete _0x49b2e0[_0xd06f2(0x1c8)],_0x1cfe73;}};function a60_0x3220(){const _0x471174=['isArray','flow','pageAccesses','1991335xdmRmG','layoutAssignments','(((.+)+)+)+$','userPermissions','some','customMetadataTypeAccesses','1429008ELfYll','Component__r','object','dataCategoryGroup','field','apexClass','tabVisibilities','Profile','customSettingAccesses','customPermissions','4vxHPOw','externalDataSourceAccesses','751104fLazWl','fieldPermissions','applicationVisibilities','constructor','flowAccesses','label','parse','layout','recordTypeVisibilities','hasActivationRequired','length','application','extractComponentPermissions','custom','50242ZJiksX','toString','Component_Name__c','__esModule','279106DeivDE','243qAcYWS','21oKqRbf','Xml','classAccesses','objectPermissions','813984rCNiAs','419810XnokNk','http://soap.sforce.com/2006/04/metadata','apexPage','push','includes','loginIpRanges','search','../../git/parsers/utils/xml','tab','tabSettings','name','PermissionSet','recordType'];a60_0x3220=function(){return _0x471174;};return a60_0x3220();}async function extractComponentPermissions(_0x53e700,_0x1bcd63,_0x161410){const _0x555065=a60_0x5bf384,_0x336450=await getReadyComponent(_0x53e700,_0x161410),_0x52ec92=_0x336450[_0x161410];if(!_0x52ec92)return _0x336450;for(const _0x348918 in _0x52ec92){if(UNREMOVE_PERMISSION[_0x348918])continue;const _0x291811=_0x52ec92[_0x348918],_0x18b95f=getValidPermission(_0x291811,_0x348918,_0x1bcd63);_0x18b95f[_0x555065(0x1ef)]?_0x52ec92[_0x348918]=_0x18b95f:delete _0x52ec92[_0x348918];}return _0x336450[_0x161410]['$']={'xmlns':_0x555065(0x1c4)},_0x336450;}exports[a60_0x5bf384(0x1f1)]=extractComponentPermissions;function getValidPermission(_0x10e979,_0xa522,_0x254bcc){const _0x31586f=a60_0x5bf384;let _0xe1bdf=[];if(_0xa522===_0x31586f(0x1d4))_0xe1bdf=getValidLayout(_0x10e979,_0xa522,_0x254bcc);else{const _0x369a78=Array[_0x31586f(0x1d0)](_0x10e979)?_0x10e979:[_0x10e979];for(const _0x2a66cb of _0x369a78){isValidPermission(_0x2a66cb,_0xa522,_0x254bcc)&&_0xe1bdf['push'](_0x2a66cb);}}return _0xe1bdf;}function isValidPermission(_0x429d09,_0x36f741,_0x5e1a7b){const _0x33e412=a60_0x5bf384,_0x52b7a2=PERMISSIONS_MAP['get'](_0x36f741);return _0x429d09[_0x52b7a2]&&_0x5e1a7b[_0x33e412(0x1d7)](_0x148f79=>_0x148f79[_0x33e412(0x1da)][_0x33e412(0x1ba)][_0x33e412(0x1c7)](_0x429d09[_0x52b7a2]));}function getValidLayout(_0x42174f,_0x2d62fc,_0xcebc3f){const _0x2b4bd6=a60_0x5bf384,_0x793f10=[],_0x5b71bc=Array[_0x2b4bd6(0x1d0)](_0x42174f)?_0x42174f:[_0x42174f];for(const _0x23a1b in _0x5b71bc){isValidPermission(_0x5b71bc[_0x23a1b],_0x2d62fc,_0xcebc3f)&&(!_0x5b71bc[_0x23a1b][_0x2b4bd6(0x1cf)]&&_0x793f10['push'](_0x5b71bc[_0x23a1b]),isValidPermission(_0x5b71bc[_0x23a1b],'recordTypeVisibilities',_0xcebc3f)&&_0x793f10[_0x2b4bd6(0x1c6)](_0x5b71bc[_0x23a1b]));}return _0x793f10;}async function getReadyComponent(_0x1103c0,_0x11aa0e){const _0x8c3d9f=a60_0x5bf384,_0x240a50=await xml_1[_0x8c3d9f(0x1bf)][_0x8c3d9f(0x1eb)](_0x1103c0);return prepareDeleteComponent[_0x11aa0e](_0x240a50);}