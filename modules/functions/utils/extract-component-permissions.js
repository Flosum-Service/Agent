'use strict';const a90_0x21550=a90_0x136a;function a90_0x12b2(){const _0xbfe2b0=['length','custom','apexPage','get','includes','classAccesses','applicationVisibilities','layoutAssignments','tabVisibilities','externalDataSourceAccesses','7iQCIli','search','1838004YjKEKX','__esModule','flow','1XpcuAT','Profile','http://soap.sforce.com/2006/04/metadata','dataCategoryGroup','(((.+)+)+)+$','820098AidwcV','name','some','extractComponentPermissions','5oxNZKl','parse','push','layout','Component_Name__c','object','profileActionOverrides','toString','PermissionSet','124542VaqgdD','field','fieldPermissions','userPermissions','customSettingAccesses','hasActivationRequired','description','159090DqIKUK','isArray','Xml','defineProperty','636872zRdIYC','tab','recordTypeVisibilities','recordType','label','apexClass','3824204TITeJP','869NwzDBA','tabSettings','loginIpRanges','156004GXgNOd'];a90_0x12b2=function(){return _0xbfe2b0;};return a90_0x12b2();}(function(_0x287e71,_0x5d4bf1){const _0x56f9dc=a90_0x136a,_0x3afd88=_0x287e71();while(!![]){try{const _0x26ff14=-parseInt(_0x56f9dc(0xf3))/0x1*(parseInt(_0x56f9dc(0xe3))/0x2)+parseInt(_0x56f9dc(0xf8))/0x3+-parseInt(_0x56f9dc(0xdf))/0x4*(parseInt(_0x56f9dc(0xfc))/0x5)+parseInt(_0x56f9dc(0xf0))/0x6*(parseInt(_0x56f9dc(0xee))/0x7)+parseInt(_0x56f9dc(0xd9))/0x8+parseInt(_0x56f9dc(0xce))/0x9+parseInt(_0x56f9dc(0xd5))/0xa*(parseInt(_0x56f9dc(0xe0))/0xb);if(_0x26ff14===_0x5d4bf1)break;else _0x3afd88['push'](_0x3afd88['shift']());}catch(_0x51dac1){_0x3afd88['push'](_0x3afd88['shift']());}}}(a90_0x12b2,0xdaba1));function a90_0x136a(_0x4686e9,_0x24e1b7){const _0x2b1fba=a90_0x12b2();return a90_0x136a=function(_0x4495a5,_0x24114b){_0x4495a5=_0x4495a5-0xcb;let _0x12b286=_0x2b1fba[_0x4495a5];return _0x12b286;},a90_0x136a(_0x4686e9,_0x24e1b7);}Object[a90_0x21550(0xd8)](exports,a90_0x21550(0xf1),{'value':!![]}),exports[a90_0x21550(0xfb)]=void 0x0;const xml_1=require('../../git/parsers/utils/xml'),PERMISSIONS_MAP=new Map([[a90_0x21550(0xe9),a90_0x21550(0xde)],['pageAccesses',a90_0x21550(0xe6)],[a90_0x21550(0xe1),a90_0x21550(0xda)],[a90_0x21550(0xec),a90_0x21550(0xda)],[a90_0x21550(0xcb),'content'],['categoryGroupVisibilities',a90_0x21550(0xf6)],['objectPermissions',a90_0x21550(0x101)],['customMetadataTypeAccesses',a90_0x21550(0xf9)],[a90_0x21550(0xd2),a90_0x21550(0xf9)],[a90_0x21550(0xea),'application'],[a90_0x21550(0xed),'externalDataSource'],['customPermissions',a90_0x21550(0xf9)],['flowAccesses',a90_0x21550(0xf2)],[a90_0x21550(0xeb),a90_0x21550(0xff)],[a90_0x21550(0xdb),a90_0x21550(0xdc)],[a90_0x21550(0xd0),a90_0x21550(0xcf)]]);var UNREMOVE_PERMISSION;(function(_0x443e69){const _0x176357=a90_0x21550,_0x3240a7=(function(){let _0x455f66=!![];return function(_0x896da7,_0x1f015c){const _0x218be3=_0x455f66?function(){if(_0x1f015c){const _0x34d313=_0x1f015c['apply'](_0x896da7,arguments);return _0x1f015c=null,_0x34d313;}}:function(){};return _0x455f66=![],_0x218be3;};}()),_0x1d0c96=_0x3240a7(this,function(){const _0xa0a633=a90_0x136a;return _0x1d0c96[_0xa0a633(0xcc)]()[_0xa0a633(0xef)](_0xa0a633(0xf7))['toString']()['constructor'](_0x1d0c96)['search']('(((.+)+)+)+$');});_0x1d0c96(),_0x443e69[_0x176357(0xd3)]='hasActivationRequired',_0x443e69['label']=_0x176357(0xdd),_0x443e69[_0x176357(0xe5)]=_0x176357(0xe5),_0x443e69[_0x176357(0xd4)]=_0x176357(0xd4);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x687d77=>{const _0x48fb75=a90_0x21550;var _0x58c3c5,_0x32e9d3;return(_0x58c3c5=_0x687d77['Profile'])===null||_0x58c3c5===void 0x0?!![]:delete _0x58c3c5['userPermissions'],(_0x32e9d3=_0x687d77[_0x48fb75(0xf4)])===null||_0x32e9d3===void 0x0?!![]:delete _0x32e9d3[_0x48fb75(0xe2)],_0x687d77;},'PermissionSet':_0x2c7623=>{const _0x91e46=a90_0x21550;var _0x4a46d4,_0x224e8b;return(_0x4a46d4=_0x2c7623[_0x91e46(0xcd)])===null||_0x4a46d4===void 0x0?!![]:delete _0x4a46d4[_0x91e46(0xd1)],(_0x224e8b=_0x2c7623[_0x91e46(0xcd)])===null||_0x224e8b===void 0x0?!![]:delete _0x224e8b[_0x91e46(0xe2)],_0x2c7623;}};async function extractComponentPermissions(_0x2429ac,_0x341936,_0x4e3de4){const _0x1897df=a90_0x21550,_0x24cabc=await getReadyComponent(_0x2429ac,_0x4e3de4),_0x368639=_0x24cabc[_0x4e3de4];if(!_0x368639)return _0x24cabc;for(const _0x46363b in _0x368639){if(UNREMOVE_PERMISSION[_0x46363b])continue;const _0x5a4834=_0x368639[_0x46363b],_0x467905=getValidPermission(_0x5a4834,_0x46363b,_0x341936);_0x467905[_0x1897df(0xe4)]?_0x368639[_0x46363b]=_0x467905:delete _0x368639[_0x46363b];}return _0x24cabc[_0x4e3de4]['$']={'xmlns':_0x1897df(0xf5)},_0x24cabc;}exports[a90_0x21550(0xfb)]=extractComponentPermissions;function getValidPermission(_0x52476a,_0x49e122,_0x423eb0){const _0x49b563=a90_0x21550;let _0x7fc955=[];if(_0x49e122===_0x49b563(0xeb))_0x7fc955=getValidLayout(_0x52476a,_0x49e122,_0x423eb0);else{const _0x59c004=Array[_0x49b563(0xd6)](_0x52476a)?_0x52476a:[_0x52476a];for(const _0x273aab of _0x59c004){isValidPermission(_0x273aab,_0x49e122,_0x423eb0)&&_0x7fc955[_0x49b563(0xfe)](_0x273aab);}}return _0x7fc955;}function isValidPermission(_0x5ccaa5,_0x1eb4de,_0x49aeac){const _0x2ffdef=a90_0x21550,_0x8b93fb=PERMISSIONS_MAP[_0x2ffdef(0xe7)](_0x1eb4de);return _0x5ccaa5[_0x8b93fb]&&_0x49aeac[_0x2ffdef(0xfa)](_0x1142f5=>_0x1142f5['Component__r'][_0x2ffdef(0x100)][_0x2ffdef(0xe8)](_0x5ccaa5[_0x8b93fb]));}function getValidLayout(_0x15d9cb,_0x2a5188,_0x5102ee){const _0x202e65=a90_0x21550,_0xa929f3=[],_0x6dc8cc=Array[_0x202e65(0xd6)](_0x15d9cb)?_0x15d9cb:[_0x15d9cb];for(const _0x4635ef in _0x6dc8cc){isValidPermission(_0x6dc8cc[_0x4635ef],_0x2a5188,_0x5102ee)&&(!_0x6dc8cc[_0x4635ef][_0x202e65(0xdc)]&&_0xa929f3['push'](_0x6dc8cc[_0x4635ef]),isValidPermission(_0x6dc8cc[_0x4635ef],'recordTypeVisibilities',_0x5102ee)&&_0xa929f3[_0x202e65(0xfe)](_0x6dc8cc[_0x4635ef]));}return _0xa929f3;}async function getReadyComponent(_0x39b4fe,_0x5e1af6){const _0x2b7ecb=a90_0x21550,_0xe999fa=await xml_1[_0x2b7ecb(0xd7)][_0x2b7ecb(0xfd)](_0x39b4fe);return prepareDeleteComponent[_0x5e1af6](_0xe999fa);}