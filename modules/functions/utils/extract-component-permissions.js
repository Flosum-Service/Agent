'use strict';const a91_0x3144e0=a91_0x4679;(function(_0x33bac1,_0x2876f8){const _0x407314=a91_0x4679,_0x118b44=_0x33bac1();while(!![]){try{const _0x533fc8=parseInt(_0x407314(0x15a))/0x1+-parseInt(_0x407314(0x16c))/0x2*(-parseInt(_0x407314(0x15d))/0x3)+parseInt(_0x407314(0x160))/0x4+-parseInt(_0x407314(0x182))/0x5*(-parseInt(_0x407314(0x177))/0x6)+-parseInt(_0x407314(0x174))/0x7+parseInt(_0x407314(0x175))/0x8*(-parseInt(_0x407314(0x173))/0x9)+parseInt(_0x407314(0x163))/0xa;if(_0x533fc8===_0x2876f8)break;else _0x118b44['push'](_0x118b44['shift']());}catch(_0x100ce6){_0x118b44['push'](_0x118b44['shift']());}}}(a91_0x88b6,0x8a744));Object['defineProperty'](exports,a91_0x3144e0(0x15c),{'value':!![]}),exports[a91_0x3144e0(0x16d)]=void 0x0;const xml_1=require(a91_0x3144e0(0x18e)),PERMISSIONS_MAP=new Map([[a91_0x3144e0(0x16a),a91_0x3144e0(0x161)],[a91_0x3144e0(0x17b),a91_0x3144e0(0x18a)],[a91_0x3144e0(0x186),a91_0x3144e0(0x179)],['tabVisibilities','tab'],[a91_0x3144e0(0x17f),a91_0x3144e0(0x178)],[a91_0x3144e0(0x18f),a91_0x3144e0(0x168)],[a91_0x3144e0(0x187),a91_0x3144e0(0x162)],['customMetadataTypeAccesses','name'],[a91_0x3144e0(0x176),a91_0x3144e0(0x166)],[a91_0x3144e0(0x17c),'application'],['externalDataSourceAccesses',a91_0x3144e0(0x17d)],[a91_0x3144e0(0x165),a91_0x3144e0(0x166)],['flowAccesses',a91_0x3144e0(0x180)],['layoutAssignments',a91_0x3144e0(0x164)],[a91_0x3144e0(0x16b),a91_0x3144e0(0x17a)],['fieldPermissions',a91_0x3144e0(0x189)]]);var UNREMOVE_PERMISSION;(function(_0x1f6227){const _0x53c51f=a91_0x3144e0,_0x357473=(function(){let _0x17910c=!![];return function(_0x545004,_0x286a1e){const _0x75b714=_0x17910c?function(){const _0x51e243=a91_0x4679;if(_0x286a1e){const _0x58bb2e=_0x286a1e[_0x51e243(0x18d)](_0x545004,arguments);return _0x286a1e=null,_0x58bb2e;}}:function(){};return _0x17910c=![],_0x75b714;};}()),_0x40501d=_0x357473(this,function(){const _0x30d6da=a91_0x4679;return _0x40501d[_0x30d6da(0x17e)]()['search'](_0x30d6da(0x188))[_0x30d6da(0x17e)]()[_0x30d6da(0x18b)](_0x40501d)[_0x30d6da(0x15b)](_0x30d6da(0x188));});_0x40501d(),_0x1f6227[_0x53c51f(0x18c)]='hasActivationRequired',_0x1f6227['label']=_0x53c51f(0x171),_0x1f6227['custom']='custom',_0x1f6227[_0x53c51f(0x181)]=_0x53c51f(0x181);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));const prepareDeleteComponent={'Profile':_0x4034e1=>{const _0x43bca5=a91_0x3144e0;var _0x5b1917,_0x39b4ff;return(_0x5b1917=_0x4034e1[_0x43bca5(0x172)])===null||_0x5b1917===void 0x0?!![]:delete _0x5b1917['userPermissions'],(_0x39b4ff=_0x4034e1['Profile'])===null||_0x39b4ff===void 0x0?!![]:delete _0x39b4ff[_0x43bca5(0x169)],_0x4034e1;},'PermissionSet':_0x365578=>{const _0x3e9b11=a91_0x3144e0;var _0x1ef364,_0x5bd9f4;return(_0x1ef364=_0x365578['PermissionSet'])===null||_0x1ef364===void 0x0?!![]:delete _0x1ef364[_0x3e9b11(0x15f)],(_0x5bd9f4=_0x365578[_0x3e9b11(0x15e)])===null||_0x5bd9f4===void 0x0?!![]:delete _0x5bd9f4[_0x3e9b11(0x169)],_0x365578;}};function a91_0x88b6(){const _0x478738=['Xml','tabSettings','objectPermissions','(((.+)+)+)+$','field','apexPage','constructor','hasActivationRequired','apply','../../git/parsers/utils/xml','categoryGroupVisibilities','push','630766bYYcnR','search','__esModule','3ZSDrSF','PermissionSet','userPermissions','1432924JhlfOk','apexClass','object','4987500ACCNkX','layout','customPermissions','name','Component_Name__c','dataCategoryGroup','loginIpRanges','classAccesses','recordTypeVisibilities','868370iqQRSv','extractComponentPermissions','get','isArray','includes','label','Profile','729kDUgzR','5620076iVPWaN','56176zPeSzs','customSettingAccesses','564DwSTim','content','tab','recordType','pageAccesses','applicationVisibilities','externalDataSource','toString','profileActionOverrides','flow','description','895xiYkTg','layoutAssignments','parse'];a91_0x88b6=function(){return _0x478738;};return a91_0x88b6();}async function extractComponentPermissions(_0x45079d,_0x401adf,_0x1e91b7){const _0x2b5a54=await getReadyComponent(_0x45079d,_0x1e91b7),_0x116955=_0x2b5a54[_0x1e91b7];if(!_0x116955)return _0x2b5a54;for(const _0x50f800 in _0x116955){if(UNREMOVE_PERMISSION[_0x50f800])continue;const _0x777be4=_0x116955[_0x50f800],_0x5ce46f=getValidPermission(_0x777be4,_0x50f800,_0x401adf);_0x5ce46f['length']?_0x116955[_0x50f800]=_0x5ce46f:delete _0x116955[_0x50f800];}return _0x2b5a54[_0x1e91b7]['$']={'xmlns':'http://soap.sforce.com/2006/04/metadata'},_0x2b5a54;}exports['extractComponentPermissions']=extractComponentPermissions;function a91_0x4679(_0x14e84b,_0x168895){const _0x466e5c=a91_0x88b6();return a91_0x4679=function(_0x3cfbb4,_0xc79c5a){_0x3cfbb4=_0x3cfbb4-0x159;let _0x88b6d2=_0x466e5c[_0x3cfbb4];return _0x88b6d2;},a91_0x4679(_0x14e84b,_0x168895);}function getValidPermission(_0x4d6eb7,_0x17802b,_0x1adb62){const _0x481d1f=a91_0x3144e0;let _0x11c0f4=[];if(_0x17802b===_0x481d1f(0x183))_0x11c0f4=getValidLayout(_0x4d6eb7,_0x17802b,_0x1adb62);else{const _0x258977=Array[_0x481d1f(0x16f)](_0x4d6eb7)?_0x4d6eb7:[_0x4d6eb7];for(const _0x36ca75 of _0x258977){isValidPermission(_0x36ca75,_0x17802b,_0x1adb62)&&_0x11c0f4[_0x481d1f(0x159)](_0x36ca75);}}return _0x11c0f4;}function isValidPermission(_0x1d69fc,_0x515358,_0x49b7ef){const _0x5edff8=a91_0x3144e0,_0x178644=PERMISSIONS_MAP[_0x5edff8(0x16e)](_0x515358);return _0x1d69fc[_0x178644]&&_0x49b7ef['some'](_0x4b6948=>_0x4b6948['Component__r'][_0x5edff8(0x167)][_0x5edff8(0x170)](_0x1d69fc[_0x178644]));}function getValidLayout(_0xc07231,_0x55afff,_0x200117){const _0x1962c0=a91_0x3144e0,_0x47990a=[],_0x222827=Array[_0x1962c0(0x16f)](_0xc07231)?_0xc07231:[_0xc07231];for(const _0x26dab4 in _0x222827){isValidPermission(_0x222827[_0x26dab4],_0x55afff,_0x200117)&&(!_0x222827[_0x26dab4]['recordType']&&_0x47990a[_0x1962c0(0x159)](_0x222827[_0x26dab4]),isValidPermission(_0x222827[_0x26dab4],_0x1962c0(0x16b),_0x200117)&&_0x47990a[_0x1962c0(0x159)](_0x222827[_0x26dab4]));}return _0x47990a;}async function getReadyComponent(_0x24948d,_0x4746c1){const _0x1765cf=a91_0x3144e0,_0x24ab1b=await xml_1[_0x1765cf(0x185)][_0x1765cf(0x184)](_0x24948d);return prepareDeleteComponent[_0x4746c1](_0x24ab1b);}