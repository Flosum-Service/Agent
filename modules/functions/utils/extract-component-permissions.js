'use strict';const a92_0x5396f5=a92_0x1649;(function(_0x9fd5ba,_0x29af96){const _0x208542=a92_0x1649,_0x3144e5=_0x9fd5ba();while(!![]){try{const _0x53075c=parseInt(_0x208542(0x137))/0x1*(parseInt(_0x208542(0x14e))/0x2)+parseInt(_0x208542(0x14c))/0x3+-parseInt(_0x208542(0x161))/0x4+-parseInt(_0x208542(0x146))/0x5+parseInt(_0x208542(0x16c))/0x6*(parseInt(_0x208542(0x13c))/0x7)+-parseInt(_0x208542(0x16f))/0x8*(parseInt(_0x208542(0x16b))/0x9)+parseInt(_0x208542(0x13f))/0xa;if(_0x53075c===_0x29af96)break;else _0x3144e5['push'](_0x3144e5['shift']());}catch(_0x20a1f2){_0x3144e5['push'](_0x3144e5['shift']());}}}(a92_0x5f83,0x5434c));Object['defineProperty'](exports,a92_0x5396f5(0x15b),{'value':!![]}),exports[a92_0x5396f5(0x133)]=exports[a92_0x5396f5(0x14a)]=void 0x0;const xml_1=require(a92_0x5396f5(0x140)),xml2js_1=require(a92_0x5396f5(0x166)),PERMISSIONS_MAP=new Map([['classAccesses',a92_0x5396f5(0x134)],[a92_0x5396f5(0x155),a92_0x5396f5(0x136)],[a92_0x5396f5(0x135),a92_0x5396f5(0x16e)],[a92_0x5396f5(0x145),'tab'],['profileActionOverrides',a92_0x5396f5(0x170)],['categoryGroupVisibilities',a92_0x5396f5(0x13d)],[a92_0x5396f5(0x15f),'object'],[a92_0x5396f5(0x159),a92_0x5396f5(0x16a)],[a92_0x5396f5(0x164),a92_0x5396f5(0x16a)],[a92_0x5396f5(0x13a),'application'],[a92_0x5396f5(0x152),'externalDataSource'],[a92_0x5396f5(0x149),a92_0x5396f5(0x16a)],[a92_0x5396f5(0x169),a92_0x5396f5(0x150)],[a92_0x5396f5(0x147),'layout'],[a92_0x5396f5(0x14f),a92_0x5396f5(0x151)],[a92_0x5396f5(0x162),a92_0x5396f5(0x15d)]]);var UNREMOVE_PERMISSION;function a92_0x5f83(){const _0x3cd693=['length','toString','flowAccesses','name','18zjWiSM','6pTHjYW','includes','tab','2240008JETfqr','content','constructor','PermissionSet','mergeComponentPermissions','apexClass','tabSettings','apexPage','1BNEfZC','1.0','buildObject','applicationVisibilities','(((.+)+)+)+$','3707207DHsaWA','dataCategoryGroup','UTF-8','8478610uUNRpK','../../git/parsers/utils/xml','Profile','Builder','loginIpRanges','hasActivationRequired','tabVisibilities','1089900siYlxX','layoutAssignments','label','customPermissions','extractComponentPermissions','custom','512556mtIUFa','description','118070Ymujjs','recordTypeVisibilities','flow','recordType','externalDataSourceAccesses','apply','some','pageAccesses','push','parse','Component__r','customMetadataTypeAccesses','search','__esModule','isArray','field','userPermissions','objectPermissions','get','1937836XxQecB','fieldPermissions','http://soap.sforce.com/2006/04/metadata','customSettingAccesses','Xml','xml2js'];a92_0x5f83=function(){return _0x3cd693;};return a92_0x5f83();}(function(_0x54a721){const _0x194b1a=a92_0x5396f5,_0x12b1a0=(function(){let _0x3a9c5d=!![];return function(_0x499129,_0x477f6e){const _0x4536c6=_0x3a9c5d?function(){const _0x284c69=a92_0x1649;if(_0x477f6e){const _0x274c73=_0x477f6e[_0x284c69(0x153)](_0x499129,arguments);return _0x477f6e=null,_0x274c73;}}:function(){};return _0x3a9c5d=![],_0x4536c6;};}()),_0x32de92=_0x12b1a0(this,function(){const _0x449c2d=a92_0x1649;return _0x32de92['toString']()[_0x449c2d(0x15a)](_0x449c2d(0x13b))[_0x449c2d(0x168)]()[_0x449c2d(0x131)](_0x32de92)['search']('(((.+)+)+)+$');});_0x32de92(),_0x54a721[_0x194b1a(0x144)]=_0x194b1a(0x144),_0x54a721[_0x194b1a(0x148)]=_0x194b1a(0x148),_0x54a721['custom']=_0x194b1a(0x14b),_0x54a721[_0x194b1a(0x14d)]=_0x194b1a(0x14d);}(UNREMOVE_PERMISSION||(UNREMOVE_PERMISSION={})));function a92_0x1649(_0x5685c1,_0x8135fe){const _0x13d2b0=a92_0x5f83();return a92_0x1649=function(_0x87bbdf,_0x5b459f){_0x87bbdf=_0x87bbdf-0x131;let _0x5f83fd=_0x13d2b0[_0x87bbdf];return _0x5f83fd;},a92_0x1649(_0x5685c1,_0x8135fe);}const prepareDeleteComponent={'Profile':_0x593b2c=>{const _0x4471b5=a92_0x5396f5;var _0x22610d,_0x5a4faa;return(_0x22610d=_0x593b2c['Profile'])===null||_0x22610d===void 0x0?!![]:delete _0x22610d[_0x4471b5(0x15e)],(_0x5a4faa=_0x593b2c[_0x4471b5(0x141)])===null||_0x5a4faa===void 0x0?!![]:delete _0x5a4faa[_0x4471b5(0x143)],_0x593b2c;},'PermissionSet':_0x28be36=>{const _0x1ebcfa=a92_0x5396f5;var _0x4f9a50,_0x38538a;return(_0x4f9a50=_0x28be36[_0x1ebcfa(0x132)])===null||_0x4f9a50===void 0x0?!![]:delete _0x4f9a50['userPermissions'],(_0x38538a=_0x28be36[_0x1ebcfa(0x132)])===null||_0x38538a===void 0x0?!![]:delete _0x38538a[_0x1ebcfa(0x143)],_0x28be36;}};async function extractComponentPermissions(_0x550f33,_0x4f9623,_0x29e9d6){const _0x541332=a92_0x5396f5,_0x1b01d1=await getReadyComponent(_0x550f33,_0x29e9d6),_0x3eb12a=_0x1b01d1[_0x29e9d6];if(!_0x3eb12a)return _0x1b01d1;for(const _0x509f70 in _0x3eb12a){if(UNREMOVE_PERMISSION[_0x509f70])continue;const _0x488ed8=_0x3eb12a[_0x509f70],_0x21ccc8=getValidPermission(_0x488ed8,_0x509f70,_0x4f9623);_0x21ccc8[_0x541332(0x167)]?_0x3eb12a[_0x509f70]=_0x21ccc8:delete _0x3eb12a[_0x509f70];}return _0x1b01d1[_0x29e9d6]['$']={'xmlns':_0x541332(0x163)},_0x1b01d1;}exports[a92_0x5396f5(0x14a)]=extractComponentPermissions;async function mergeComponentPermissions(_0x334cf7,_0x3aeff0,_0x14c25e){const _0x44a946=a92_0x5396f5,_0xa14326=await xml_1[_0x44a946(0x165)][_0x44a946(0x157)](_0x334cf7),_0x47c9bf=await xml_1[_0x44a946(0x165)][_0x44a946(0x157)](_0x3aeff0),_0x2fbf21=_0xa14326[_0x14c25e],_0x46c41d=_0x47c9bf[_0x14c25e];if(!_0x2fbf21)return _0x3aeff0;for(const _0x24e756 in _0x2fbf21){const _0x310ac3=PERMISSIONS_MAP[_0x44a946(0x160)](_0x24e756);if(!_0x310ac3||!_0x46c41d[_0x24e756]){_0x46c41d[_0x24e756]=_0x2fbf21[_0x24e756];continue;}for(const _0x288567 of _0x2fbf21[_0x24e756]){const _0x46c091=_0x46c41d[_0x24e756]['findIndex'](_0x4940cc=>_0x288567[_0x310ac3][0x0]===_0x4940cc[_0x310ac3][0x0]);_0x46c091!==-0x1?_0x46c41d[_0x24e756][_0x46c091]=_0x288567:_0x46c41d[_0x24e756][_0x44a946(0x156)](_0x288567);}}_0x47c9bf[_0x14c25e]['$']={'xmlns':_0x44a946(0x163)};const _0x195938=new xml2js_1[(_0x44a946(0x142))]({'xmldec':{'version':_0x44a946(0x138),'encoding':_0x44a946(0x13e)}});return _0x195938[_0x44a946(0x139)](_0x47c9bf);}exports[a92_0x5396f5(0x133)]=mergeComponentPermissions;function getValidPermission(_0x31bd05,_0x23efcb,_0x1511f8){const _0x21d9ce=a92_0x5396f5;let _0x1363e7=[];if(_0x23efcb===_0x21d9ce(0x147))_0x1363e7=getValidLayout(_0x31bd05,_0x23efcb,_0x1511f8);else{const _0x317406=Array[_0x21d9ce(0x15c)](_0x31bd05)?_0x31bd05:[_0x31bd05];for(const _0x1ef73e of _0x317406){isValidPermission(_0x1ef73e,_0x23efcb,_0x1511f8)&&_0x1363e7['push'](_0x1ef73e);}}return _0x1363e7;}function isValidPermission(_0x35bdab,_0x4a4290,_0x5c1a5e){const _0x1cffe6=a92_0x5396f5,_0xbf58b9=PERMISSIONS_MAP['get'](_0x4a4290);return _0x35bdab[_0xbf58b9]&&_0x5c1a5e[_0x1cffe6(0x154)](_0x23f798=>_0x23f798[_0x1cffe6(0x158)]['Component_Name__c'][_0x1cffe6(0x16d)](_0x35bdab[_0xbf58b9]));}function getValidLayout(_0x45dfe2,_0x213ce1,_0x58d84b){const _0xd49a10=a92_0x5396f5,_0x288096=[],_0x217a22=Array[_0xd49a10(0x15c)](_0x45dfe2)?_0x45dfe2:[_0x45dfe2];for(const _0x27cff9 in _0x217a22){isValidPermission(_0x217a22[_0x27cff9],_0x213ce1,_0x58d84b)&&(!_0x217a22[_0x27cff9]['recordType']&&_0x288096[_0xd49a10(0x156)](_0x217a22[_0x27cff9]),isValidPermission(_0x217a22[_0x27cff9],'recordTypeVisibilities',_0x58d84b)&&_0x288096[_0xd49a10(0x156)](_0x217a22[_0x27cff9]));}return _0x288096;}async function getReadyComponent(_0x27d8ee,_0x5dcdcf){const _0x12617f=a92_0x5396f5,_0x2aec6e=await xml_1[_0x12617f(0x165)][_0x12617f(0x157)](_0x27d8ee);return prepareDeleteComponent[_0x5dcdcf](_0x2aec6e);}