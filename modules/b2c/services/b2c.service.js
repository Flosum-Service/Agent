const a68_0x58224d=a68_0x4e57;(function(_0x172992,_0x4dcbf6){const _0x40dbbb=a68_0x4e57,_0x322fa1=_0x172992();while(!![]){try{const _0x20f778=-parseInt(_0x40dbbb(0xbe))/0x1*(parseInt(_0x40dbbb(0xcd))/0x2)+-parseInt(_0x40dbbb(0xc5))/0x3+parseInt(_0x40dbbb(0xc2))/0x4*(parseInt(_0x40dbbb(0xae))/0x5)+parseInt(_0x40dbbb(0xd2))/0x6*(-parseInt(_0x40dbbb(0xbc))/0x7)+parseInt(_0x40dbbb(0xc0))/0x8*(-parseInt(_0x40dbbb(0xba))/0x9)+-parseInt(_0x40dbbb(0xc7))/0xa+parseInt(_0x40dbbb(0xe1))/0xb*(parseInt(_0x40dbbb(0xc4))/0xc);if(_0x20f778===_0x4dcbf6)break;else _0x322fa1['push'](_0x322fa1['shift']());}catch(_0x43aebd){_0x322fa1['push'](_0x322fa1['shift']());}}}(a68_0x5e94,0x8d55a));const a68_0x36651a=(function(){let _0x48e2d6=!![];return function(_0x4ba749,_0x412c68){const _0x1ef10e=_0x48e2d6?function(){const _0x3e0e02=a68_0x4e57;if(_0x412c68){const _0x499907=_0x412c68[_0x3e0e02(0xd6)](_0x4ba749,arguments);return _0x412c68=null,_0x499907;}}:function(){};return _0x48e2d6=![],_0x1ef10e;};}()),a68_0x33d02f=a68_0x36651a(this,function(){const _0x4593ae=a68_0x4e57;return a68_0x33d02f[_0x4593ae(0xe0)]()[_0x4593ae(0xda)](_0x4593ae(0xd5))[_0x4593ae(0xe0)]()['constructor'](a68_0x33d02f)[_0x4593ae(0xda)](_0x4593ae(0xd5));});a68_0x33d02f();'use strict';var __importDefault=this&&this[a68_0x58224d(0xb4)]||function(_0x23ab70){const _0x3e94e1=a68_0x58224d;return _0x23ab70&&_0x23ab70[_0x3e94e1(0xd7)]?_0x23ab70:{'default':_0x23ab70};};Object[a68_0x58224d(0xdf)](exports,a68_0x58224d(0xd7),{'value':!![]});const promises_1=require('fs/promises'),utils_1=require(a68_0x58224d(0xad)),not_found_error_1=require(a68_0x58224d(0xc9)),fs_utils_1=require('../../shared/utils/fs.utils'),constants_1=require(a68_0x58224d(0xb6)),path_1=require(a68_0x58224d(0xb1)),job_1=require(a68_0x58224d(0xaf)),path_2=__importDefault(require(a68_0x58224d(0xca))),manifest_manager_1=__importDefault(require(a68_0x58224d(0xce))),state_manger_1=__importDefault(require('../../shared/managers/state-manger')),job_utils_1=__importDefault(require(a68_0x58224d(0xde))),csv_utils_1=__importDefault(require(a68_0x58224d(0xd0)));class B2CService{static async[a68_0x58224d(0xb3)](_0x50e8ee){const _0xc740c7=a68_0x58224d,_0x5c8e92=job_utils_1[_0xc740c7(0xcf)][_0xc740c7(0xd8)](),_0x4692c9=path_2[_0xc740c7(0xcf)][_0xc740c7(0xbb)](B2CService[_0xc740c7(0xbd)],_0x5c8e92);await(0x0,fs_utils_1[_0xc740c7(0xb8)])(_0x4692c9),await manifest_manager_1[_0xc740c7(0xcf)][_0xc740c7(0xac)](_0x4692c9,_0x50e8ee),await state_manger_1[_0xc740c7(0xcf)]['create'](_0x4692c9,_0x5c8e92);const _0x5e9383=path_2['default'][_0xc740c7(0xbb)](__dirname,job_1[_0xc740c7(0xb5)]);return job_utils_1[_0xc740c7(0xcf)][_0xc740c7(0xb9)](_0x5e9383,{'jobStorePath':_0x4692c9,'jobId':_0x5c8e92})[_0xc740c7(0xb0)](async _0x262957=>{const _0x319332=_0xc740c7,_0x322093=new state_manger_1[(_0x319332(0xcf))](_0x4692c9);await _0x322093['init'](),await _0x322093[_0x319332(0xd3)](_0x262957);}),{'jobId':_0x5c8e92};}static async[a68_0x58224d(0xdc)](_0x2d842d,_0x2e3625){const _0x513dc9=a68_0x58224d,_0x3b897b=await job_utils_1[_0x513dc9(0xcf)][_0x513dc9(0xbf)](B2CService[_0x513dc9(0xbd)]),_0x1bd6f2=await job_utils_1[_0x513dc9(0xcf)][_0x513dc9(0xd4)](B2CService[_0x513dc9(0xbd)],_0x3b897b),_0x1f9d98=_0x1bd6f2['slice'](_0x2e3625,_0x2e3625+_0x2d842d),_0x38b31d=[];for(const _0x382071 of _0x1f9d98){const _0x57c88b=await state_manger_1[_0x513dc9(0xcf)][_0x513dc9(0xd9)](path_2[_0x513dc9(0xcf)][_0x513dc9(0xbb)](B2CService[_0x513dc9(0xbd)],_0x382071));_0x38b31d[_0x513dc9(0xcb)](_0x57c88b);}return _0x38b31d;}static async['getJobStatus'](_0x50a9a6){const _0x12dbf6=a68_0x58224d;try{return await state_manger_1['default'][_0x12dbf6(0xd9)](path_2[_0x12dbf6(0xcf)][_0x12dbf6(0xbb)](B2CService[_0x12dbf6(0xbd)],_0x50a9a6));}catch(_0x428b7e){throw new not_found_error_1[(_0x12dbf6(0xc1))](_0x428b7e);}}static async[a68_0x58224d(0xc3)](_0x3f9365){const _0x382b77=a68_0x58224d,_0x494143=path_2[_0x382b77(0xcf)][_0x382b77(0xbb)](B2CService[_0x382b77(0xbd)],_0x3f9365,job_1[_0x382b77(0xb7)]);if(await utils_1['FsUtils'][_0x382b77(0xd1)](_0x494143))return(0x0,promises_1[_0x382b77(0xb2)])(_0x494143,_0x382b77(0xcc))[_0x382b77(0xc8)](_0x148a8d=>csv_utils_1[_0x382b77(0xcf)][_0x382b77(0xdb)](_0x148a8d,{'columns':!![]}));throw new not_found_error_1['NotFoundError']('Job\x20log\x20not\x20found.');}}function a68_0x4e57(_0x40d409,_0x2c628f){const _0x5133f6=a68_0x5e94();return a68_0x4e57=function(_0x33d02f,_0x36651a){_0x33d02f=_0x33d02f-0xac;let _0x5e94fe=_0x5133f6[_0x33d02f];return _0x5e94fe;},a68_0x4e57(_0x40d409,_0x2c628f);}exports[a68_0x58224d(0xcf)]=B2CService,B2CService[a68_0x58224d(0xbd)]=path_2[a68_0x58224d(0xcf)]['join'](path_1[a68_0x58224d(0xc6)],constants_1[a68_0x58224d(0xdd)]);function a68_0x5e94(){const _0x57dfc6=['makeDir','runJob','1463085AgJpYT','join','61033NzzOjh','b2cFolder','40013gdDJwN','getJobsIds','40IPvfPK','NotFoundError','310164WTohyD','getJobLog','132FnDpuf','2298162bMfzEa','dataPath','5472570xzhApi','then','../../../core/errors/not-found.error','path','push','utf-8','44gaeuAn','../job/classes/manifest-manager','default','../../shared/utils/csv.utils','isExistsPath','306kBBrnZ','setError','sortJobsIds','(((.+)+)+)+$','apply','__esModule','generateJobId','getJobState','search','parse','getJobs','B2C_FOLDER_NAME','../../shared/utils/job.utils','defineProperty','toString','3021964VQElnm','create','@flosum/utils','65oMqNuN','../../../constants/job','catch','../../../configs/path','readFile','createJob','__importDefault','JOB_PATH','../constants','JOB_LOG_DETAILS_FILENAME'];a68_0x5e94=function(){return _0x57dfc6;};return a68_0x5e94();}