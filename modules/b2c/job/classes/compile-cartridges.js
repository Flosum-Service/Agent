const a57_0x4d8f9e=a57_0x3768;(function(_0x56ead4,_0x340c43){const _0x1f5770=a57_0x3768,_0x5b7c23=_0x56ead4();while(!![]){try{const _0x14e37b=parseInt(_0x1f5770(0x1b2))/0x1+parseInt(_0x1f5770(0x19f))/0x2+-parseInt(_0x1f5770(0x19c))/0x3*(parseInt(_0x1f5770(0x192))/0x4)+-parseInt(_0x1f5770(0x1ba))/0x5+parseInt(_0x1f5770(0x19a))/0x6*(-parseInt(_0x1f5770(0x1a1))/0x7)+parseInt(_0x1f5770(0x1bf))/0x8+-parseInt(_0x1f5770(0x1a9))/0x9;if(_0x14e37b===_0x340c43)break;else _0x5b7c23['push'](_0x5b7c23['shift']());}catch(_0x2e1b0d){_0x5b7c23['push'](_0x5b7c23['shift']());}}}(a57_0x6631,0x95d9d));const a57_0x17ca9c=(function(){let _0x2ff01c=!![];return function(_0x34947d,_0x1e712e){const _0x40e47b=_0x2ff01c?function(){const _0x535719=a57_0x3768;if(_0x1e712e){const _0x5b6b1a=_0x1e712e[_0x535719(0x19b)](_0x34947d,arguments);return _0x1e712e=null,_0x5b6b1a;}}:function(){};return _0x2ff01c=![],_0x40e47b;};}()),a57_0x18a814=a57_0x17ca9c(this,function(){const _0xddfe9b=a57_0x3768;return a57_0x18a814[_0xddfe9b(0x193)]()['search']('(((.+)+)+)+$')[_0xddfe9b(0x193)]()['constructor'](a57_0x18a814)[_0xddfe9b(0x1a8)](_0xddfe9b(0x1ae));});function a57_0x6631(){const _0x5d6246=['copyFile','1091716mBMifZ','webpackHandling','51877MwBFwe','spawnPromise','Compiling\x20=>\x20\x27','default','sfraBuilderConfig.js','@flosum/utils','__importDefault','search','2765466KTJnaw','cartridges','writeFile','name','codeVersion','(((.+)+)+)+$','jobPath','\x20&&\x20npm\x20i','sfraFolder','820562ZEXRgp','prepareConfigFile','fs/promises','installNpmPackages','\x20&&\x20npm\x20run\x20build:dev','cd\x20','ChildProcessUtils','test','195290NabJUi','example_sfraBuilderConfig.js','utf-8','SFRA_FOLDER_NAME','defineProperty','6546728dSGrWX','execute','124cPmAcm','toString','log','logger','join','./cartridges/','readFile','path','606xRZGvt','apply','46077CIVHiD','__esModule'];a57_0x6631=function(){return _0x5d6246;};return a57_0x6631();}a57_0x18a814();function a57_0x3768(_0x5a08ee,_0x219492){const _0x2f3ac5=a57_0x6631();return a57_0x3768=function(_0x18a814,_0x17ca9c){_0x18a814=_0x18a814-0x192;let _0x6631d3=_0x2f3ac5[_0x18a814];return _0x6631d3;},a57_0x3768(_0x5a08ee,_0x219492);}'use strict';var __importDefault=this&&this[a57_0x4d8f9e(0x1a7)]||function(_0xa2ab0e){const _0x5a2701=a57_0x4d8f9e;return _0xa2ab0e&&_0xa2ab0e[_0x5a2701(0x19d)]?_0xa2ab0e:{'default':_0xa2ab0e};};Object[a57_0x4d8f9e(0x1be)](exports,a57_0x4d8f9e(0x19d),{'value':!![]});const utils_1=require(a57_0x4d8f9e(0x1a6)),constants_1=require('../../constants'),promises_1=require(a57_0x4d8f9e(0x1b4)),path_1=__importDefault(require(a57_0x4d8f9e(0x199)));class CompileCartridges{constructor(_0x43955b,_0x476a2d,_0x3a3d29){const _0x16b6d6=a57_0x4d8f9e;this[_0x16b6d6(0x1af)]=_0x43955b,this[_0x16b6d6(0x1aa)]=_0x476a2d,this[_0x16b6d6(0x195)]=_0x3a3d29,this['sfraFolder']=path_1[_0x16b6d6(0x1a4)][_0x16b6d6(0x196)](this[_0x16b6d6(0x1af)],constants_1[_0x16b6d6(0x1bd)]);}async[a57_0x4d8f9e(0x1c0)](){const _0x5073c9=a57_0x4d8f9e;var _0x40f10c;if(!((_0x40f10c=this[_0x5073c9(0x1aa)])===null||_0x40f10c===void 0x0?void 0x0:_0x40f10c['length']))throw new Error('Cartridges\x20not\x20found.');await this['installNpmPackages'](),await this['compileCartridges']();}async[a57_0x4d8f9e(0x1b5)](){const _0x104063=a57_0x4d8f9e;await this[_0x104063(0x195)][_0x104063(0x194)]('Installing\x20npm\x20packages.');const _0x34ce0a=await utils_1[_0x104063(0x1b8)]['spawnPromise'](_0x104063(0x1b7)+this[_0x104063(0x1b1)]+_0x104063(0x1b0),'');if(/error/i['test'](_0x34ce0a))throw new Error(_0x34ce0a);}async['compileCartridges'](){const _0x4f06e9=a57_0x4d8f9e;for(const _0xa80626 of this[_0x4f06e9(0x1aa)]){const _0x10ef64=_0xa80626[_0x4f06e9(0x1ad)]+'/'+_0xa80626[_0x4f06e9(0x1ac)];await this[_0x4f06e9(0x195)][_0x4f06e9(0x194)](_0x4f06e9(0x1a3)+_0x10ef64+'\x27.'),await this[_0x4f06e9(0x1b3)](_0x10ef64);const _0x1756d3=await utils_1['ChildProcessUtils'][_0x4f06e9(0x1a2)]('cd\x20'+this[_0x4f06e9(0x1b1)]+_0x4f06e9(0x1b6),'');await this[_0x4f06e9(0x195)][_0x4f06e9(0x194)](_0x1756d3);if(/ERROR /[_0x4f06e9(0x1b9)](_0x1756d3))throw new Error(_0x1756d3);}}async[a57_0x4d8f9e(0x1b3)](_0x223330){const _0x5348cf=a57_0x4d8f9e,_0x5cbffe=path_1[_0x5348cf(0x1a4)][_0x5348cf(0x196)](this[_0x5348cf(0x1af)],constants_1[_0x5348cf(0x1bd)],_0x5348cf(0x1a0),_0x5348cf(0x1bb)),_0x45103a=path_1['default'][_0x5348cf(0x196)](this[_0x5348cf(0x1af)],constants_1[_0x5348cf(0x1bd)],_0x5348cf(0x1a5));await(0x0,promises_1[_0x5348cf(0x19e)])(_0x5cbffe,_0x45103a);const _0xb8d662=await(0x0,promises_1[_0x5348cf(0x198)])(_0x45103a,_0x5348cf(0x1bc)),_0x1e1a96=_0x5348cf(0x197)+_0x223330,_0x3c2a8e=_0xb8d662['replace'](/{cartridge}/g,_0x1e1a96);await(0x0,promises_1[_0x5348cf(0x1ab)])(_0x45103a,_0x3c2a8e);}}exports[a57_0x4d8f9e(0x1a4)]=CompileCartridges;