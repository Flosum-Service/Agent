const a59_0x234d50=a59_0x439d;function a59_0x439d(_0x1c21df,_0x260417){const _0x4a78c4=a59_0x3b24();return a59_0x439d=function(_0x3b3fd8,_0x337eb9){_0x3b3fd8=_0x3b3fd8-0xee;let _0x3b243e=_0x4a78c4[_0x3b3fd8];return _0x3b243e;},a59_0x439d(_0x1c21df,_0x260417);}(function(_0x46ad7b,_0x2edffc){const _0x5815bd=a59_0x439d,_0x12d9ca=_0x46ad7b();while(!![]){try{const _0x4f324f=parseInt(_0x5815bd(0xfe))/0x1+parseInt(_0x5815bd(0x123))/0x2*(-parseInt(_0x5815bd(0x124))/0x3)+parseInt(_0x5815bd(0x122))/0x4*(parseInt(_0x5815bd(0x120))/0x5)+-parseInt(_0x5815bd(0x109))/0x6*(parseInt(_0x5815bd(0xf2))/0x7)+parseInt(_0x5815bd(0x10f))/0x8+-parseInt(_0x5815bd(0x11f))/0x9+-parseInt(_0x5815bd(0x125))/0xa*(parseInt(_0x5815bd(0xf3))/0xb);if(_0x4f324f===_0x2edffc)break;else _0x12d9ca['push'](_0x12d9ca['shift']());}catch(_0x3d184e){_0x12d9ca['push'](_0x12d9ca['shift']());}}}(a59_0x3b24,0xc3a35));const a59_0x337eb9=(function(){let _0x1938d3=!![];return function(_0x1ec603,_0x15223b){const _0x5a5b22=_0x1938d3?function(){const _0x27aabe=a59_0x439d;if(_0x15223b){const _0x3becea=_0x15223b[_0x27aabe(0x11e)](_0x1ec603,arguments);return _0x15223b=null,_0x3becea;}}:function(){};return _0x1938d3=![],_0x5a5b22;};}()),a59_0x3b3fd8=a59_0x337eb9(this,function(){const _0x405405=a59_0x439d;return a59_0x3b3fd8[_0x405405(0x10e)]()['search'](_0x405405(0x119))[_0x405405(0x10e)]()[_0x405405(0xf0)](a59_0x3b3fd8)[_0x405405(0xf1)]('(((.+)+)+)+$');});a59_0x3b3fd8();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d244b){const _0x34d1db=a59_0x439d;return _0x2d244b&&_0x2d244b[_0x34d1db(0x11c)]?_0x2d244b:{'default':_0x2d244b};};Object[a59_0x234d50(0x105)](exports,'__esModule',{'value':!![]});function a59_0x3b24(){const _0x274fd5=['jobPath','accessToken','======\x20Activate\x20\x20','/cartridges/','Access\x20token\x20has\x20','logger','Compressing\x20cartridges\x20=>\x20\x27','Activating\x20\x27','1562295ajwuVo','.zip','deployCartridges','path','activateCodeVersion','clientId','Deploying\x20\x27','defineProperty','./utils','clientSecret','default','280386lrykrY','join','writeZip','execute','getAccessToken','toString','6966936hyhZuw','addLocalFolderAsync','deploy','instanceUrl','\x27\x20=>\x20\x27','log','codeVersion','isActivateCodeVersion','createZipFile','activate','(((.+)+)+)+$','credentials','\x27\x20code\x20version.','__esModule','adm-zip','apply','4515597aqkVGu','265dHALoU','auth','110788yiQwSR','6llkdYS','1140444zCEXHJ','4720EpiJlg','not\x20','been\x20recived.','code','constructor','search','133NrnSed','13277yUQigV','sfcc-ci','cartridges'];a59_0x3b24=function(){return _0x274fd5;};return a59_0x3b24();}const utils_1=require(a59_0x234d50(0x106)),path_1=__importDefault(require(a59_0x234d50(0x101))),adm_zip_1=__importDefault(require(a59_0x234d50(0x11d))),SFCC=require(a59_0x234d50(0xf4));class DeployCartridges{constructor(_0x3b8cd6,_0x228d78,_0x408320,_0x2c11c4,_0x164324){const _0x33da18=a59_0x234d50;this['jobPath']=_0x3b8cd6,this[_0x33da18(0x11a)]=_0x228d78,this['codeVersion']=_0x408320,this[_0x33da18(0x116)]=_0x2c11c4,this[_0x33da18(0xfb)]=_0x164324;const {instanceUrl:_0x75672d,clientId:_0x5d85e1,clientSecret:_0x1dd56c}=this[_0x33da18(0x11a)];this[_0x33da18(0x112)]=_0x75672d,this[_0x33da18(0x103)]=_0x5d85e1,this[_0x33da18(0x107)]=_0x1dd56c;}async[a59_0x234d50(0x100)](){const _0x16ffa0=a59_0x234d50,_0x4e4a2d=this[_0x16ffa0(0x115)]+_0x16ffa0(0xff),_0x281fc0=await this[_0x16ffa0(0x117)](_0x4e4a2d);await this['logger'][_0x16ffa0(0x114)](_0x16ffa0(0x104)+_0x4e4a2d+_0x16ffa0(0x113)+this[_0x16ffa0(0x112)]+_0x16ffa0(0xf9)+this['codeVersion']+'\x27.'),await this[_0x16ffa0(0x111)](_0x281fc0);}async[a59_0x234d50(0x117)](_0xe3a884){const _0x39afdd=a59_0x234d50,_0x283ec5=path_1[_0x39afdd(0x108)]['join'](this[_0x39afdd(0xf6)],_0x39afdd(0xf5)),_0x20ffbe=path_1[_0x39afdd(0x108)][_0x39afdd(0x10a)](_0x283ec5,_0xe3a884);await this['logger'][_0x39afdd(0x114)](_0x39afdd(0xfc)+_0xe3a884+'\x27.');const _0x2f2a11=new adm_zip_1[(_0x39afdd(0x108))]();return await(0x0,utils_1[_0x39afdd(0x110)])(_0x2f2a11,_0x283ec5,''+this['codeVersion']),await(0x0,utils_1[_0x39afdd(0x10b)])(_0x2f2a11,_0x20ffbe),_0x20ffbe;}async[a59_0x234d50(0x10d)](){return new Promise((_0x2bb92c,_0x1f3ec8)=>{const _0x3d3593=a59_0x439d;SFCC[_0x3d3593(0x121)][_0x3d3593(0x121)](this['clientId'],this[_0x3d3593(0x107)],(_0xa49c82,_0x32a3bb)=>{_0x32a3bb&&_0x2bb92c(_0x32a3bb),_0xa49c82&&_0x1f3ec8(_0xa49c82);});});}async[a59_0x234d50(0x111)](_0x59e4d4){return new Promise((_0x28cf70,_0x3e4760)=>{const _0xea03fa=a59_0x439d;SFCC[_0xea03fa(0xef)][_0xea03fa(0x111)](this[_0xea03fa(0x112)],_0x59e4d4,this['accessToken'],{},_0x5ec351=>{_0x5ec351?_0x3e4760(_0x5ec351):_0x28cf70();});});}async[a59_0x234d50(0x118)](){return new Promise((_0x341112,_0x685d00)=>{const _0x152092=a59_0x439d;SFCC[_0x152092(0xef)][_0x152092(0x118)](this[_0x152092(0x112)],this[_0x152092(0x115)],this[_0x152092(0xf7)],_0x2d4249=>{_0x2d4249?_0x685d00(_0x2d4249):_0x341112();});});}async[a59_0x234d50(0x10c)](){const _0x4497bb=a59_0x234d50;this[_0x4497bb(0xf7)]=await this['getAccessToken'](),await this[_0x4497bb(0xfb)][_0x4497bb(0x114)](_0x4497bb(0xfa)+(!this[_0x4497bb(0xf7)]?_0x4497bb(0x126):'')+_0x4497bb(0xee)),await this[_0x4497bb(0x100)](),this[_0x4497bb(0x116)]&&await this[_0x4497bb(0x102)]();}async['activateCodeVersion'](){const _0x450b0b=a59_0x234d50;await this['logger']['log'](_0x450b0b(0xf8)['padEnd'](0x32,'=')),await this[_0x450b0b(0xfb)]['log'](_0x450b0b(0xfd)+this[_0x450b0b(0x115)]+_0x450b0b(0x11b)),await this[_0x450b0b(0x118)]();}}exports['default']=DeployCartridges;