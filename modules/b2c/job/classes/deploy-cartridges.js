const a57_0x33790e=a57_0x3ca7;(function(_0x24bd98,_0x10caf6){const _0x4aa672=a57_0x3ca7,_0x1c9df1=_0x24bd98();while(!![]){try{const _0x5a9564=parseInt(_0x4aa672(0x7f))/0x1+parseInt(_0x4aa672(0x91))/0x2*(-parseInt(_0x4aa672(0x8a))/0x3)+-parseInt(_0x4aa672(0x99))/0x4+-parseInt(_0x4aa672(0x87))/0x5*(parseInt(_0x4aa672(0x6f))/0x6)+parseInt(_0x4aa672(0x8f))/0x7*(parseInt(_0x4aa672(0x71))/0x8)+parseInt(_0x4aa672(0x80))/0x9+-parseInt(_0x4aa672(0x70))/0xa;if(_0x5a9564===_0x10caf6)break;else _0x1c9df1['push'](_0x1c9df1['shift']());}catch(_0x5ad34a){_0x1c9df1['push'](_0x1c9df1['shift']());}}}(a57_0x3c53,0x9b548));const a57_0x324bb5=(function(){let _0x3b91fc=!![];return function(_0x547ff0,_0x4339b4){const _0x52d38d=_0x3b91fc?function(){const _0xd339fb=a57_0x3ca7;if(_0x4339b4){const _0x2c5c1b=_0x4339b4[_0xd339fb(0x96)](_0x547ff0,arguments);return _0x4339b4=null,_0x2c5c1b;}}:function(){};return _0x3b91fc=![],_0x52d38d;};}()),a57_0x425fa4=a57_0x324bb5(this,function(){const _0x166a96=a57_0x3ca7;return a57_0x425fa4[_0x166a96(0x6d)]()[_0x166a96(0x92)](_0x166a96(0x73))[_0x166a96(0x6d)]()['constructor'](a57_0x425fa4)[_0x166a96(0x92)]('(((.+)+)+)+$');});a57_0x425fa4();function a57_0x3c53(){const _0x159f9f=['/cartridges/','auth','Compressing\x20cartridges\x20=>\x20\x27','toString','deployCartridges','1562238SVijOE','2905720kbrpQu','169880ZEvBDi','deploy','(((.+)+)+)+$','execute','logger','instanceUrl','Receiving\x20access\x20token.','sfcc-ci','__esModule','clientId','default','codeVersion','log','defineProperty','997886abtUsC','9025551fpDnCs','join','path','activate','createZipFile','been\x20recived.','writeZip','5tpcIuz','Deploying\x20\x27','.zip','2267169cWwxvM','adm-zip','clientSecret','getAccessToken','code','119Pkdnqf','__importDefault','2eZhNKh','search','credentials','accessToken','not\x20','apply','jobPath','addLocalFolderAsync','1675280Hivwxy','Activating\x20\x27','\x27\x20=>\x20\x27'];a57_0x3c53=function(){return _0x159f9f;};return a57_0x3c53();}'use strict';var __importDefault=this&&this[a57_0x33790e(0x90)]||function(_0xf799bc){const _0x3d639d=a57_0x33790e;return _0xf799bc&&_0xf799bc[_0x3d639d(0x79)]?_0xf799bc:{'default':_0xf799bc};};function a57_0x3ca7(_0x54203d,_0x259aeb){const _0x1044f1=a57_0x3c53();return a57_0x3ca7=function(_0x425fa4,_0x324bb5){_0x425fa4=_0x425fa4-0x68;let _0x3c5315=_0x1044f1[_0x425fa4];return _0x3c5315;},a57_0x3ca7(_0x54203d,_0x259aeb);}Object[a57_0x33790e(0x7e)](exports,'__esModule',{'value':!![]});const utils_1=require('./utils'),path_1=__importDefault(require(a57_0x33790e(0x82))),adm_zip_1=__importDefault(require(a57_0x33790e(0x8b))),SFCC=require(a57_0x33790e(0x78));class DeployCartridges{constructor(_0x50f485,_0x5445a0,_0x12eac3,_0x27b7e0){const _0x23c299=a57_0x33790e;this['jobPath']=_0x50f485,this[_0x23c299(0x93)]=_0x5445a0,this[_0x23c299(0x7c)]=_0x12eac3,this[_0x23c299(0x75)]=_0x27b7e0;const {instanceUrl:_0x3d4a8b,clientId:_0x444a73,clientSecret:_0x443372}=this['credentials'];this[_0x23c299(0x76)]=_0x3d4a8b,this[_0x23c299(0x7a)]=_0x444a73,this[_0x23c299(0x8c)]=_0x443372;}async[a57_0x33790e(0x6e)](){const _0x9acd56=a57_0x33790e,_0x344cff=this[_0x9acd56(0x7c)]+_0x9acd56(0x89),_0x39d95e=await this[_0x9acd56(0x84)](_0x344cff);await this[_0x9acd56(0x75)][_0x9acd56(0x7d)](_0x9acd56(0x88)+_0x344cff+_0x9acd56(0x69)+this['instanceUrl']+_0x9acd56(0x6a)+this[_0x9acd56(0x7c)]+'\x27.'),await this[_0x9acd56(0x72)](_0x39d95e);}async[a57_0x33790e(0x84)](_0x23b257){const _0x7c754f=a57_0x33790e,_0x477848=path_1[_0x7c754f(0x7b)]['join'](this[_0x7c754f(0x97)],'cartridges'),_0x4febc6=path_1[_0x7c754f(0x7b)][_0x7c754f(0x81)](_0x477848,_0x23b257);await this[_0x7c754f(0x75)][_0x7c754f(0x7d)](_0x7c754f(0x6c)+_0x23b257+'\x27.');const _0x5b00e0=new adm_zip_1['default']();return await(0x0,utils_1[_0x7c754f(0x98)])(_0x5b00e0,_0x477848,''+this['codeVersion']),await(0x0,utils_1[_0x7c754f(0x86)])(_0x5b00e0,_0x4febc6),_0x4febc6;}async[a57_0x33790e(0x8d)](){return new Promise((_0x29b3cc,_0xf0782e)=>{const _0x5bafd8=a57_0x3ca7;SFCC[_0x5bafd8(0x6b)]['auth'](this[_0x5bafd8(0x7a)],this[_0x5bafd8(0x8c)],(_0x5d9049,_0x5a0d7f)=>{_0x5a0d7f&&_0x29b3cc(_0x5a0d7f),_0x5d9049&&_0xf0782e(_0x5d9049);});});}async[a57_0x33790e(0x72)](_0x498474){return new Promise((_0x162195,_0x55307a)=>{const _0x23cd00=a57_0x3ca7;SFCC[_0x23cd00(0x8e)][_0x23cd00(0x72)](this['instanceUrl'],_0x498474,this[_0x23cd00(0x94)],{},_0x1e7041=>{_0x1e7041?_0x55307a(_0x1e7041):_0x162195();});});}async[a57_0x33790e(0x83)](){return new Promise((_0x1c3ea6,_0x1e0ccc)=>{const _0x36f04a=a57_0x3ca7;SFCC[_0x36f04a(0x8e)][_0x36f04a(0x83)](this[_0x36f04a(0x76)],this['codeVersion'],this[_0x36f04a(0x94)],_0x367517=>{_0x367517?_0x1e0ccc(_0x367517):_0x1c3ea6();});});}async[a57_0x33790e(0x74)](){const _0x3f6d26=a57_0x33790e;await this['logger'][_0x3f6d26(0x7d)](_0x3f6d26(0x77)),this[_0x3f6d26(0x94)]=await this[_0x3f6d26(0x8d)](),await this[_0x3f6d26(0x75)][_0x3f6d26(0x7d)]('Access\x20token\x20has\x20'+(!this[_0x3f6d26(0x94)]?_0x3f6d26(0x95):'')+_0x3f6d26(0x85)),await this[_0x3f6d26(0x6e)]();}async['activateCodeVersion'](){const _0xca3bca=a57_0x33790e;await this['logger'][_0xca3bca(0x7d)](_0xca3bca(0x68)+this['codeVersion']+'\x27\x20code\x20version.'),await this[_0xca3bca(0x83)]();}}exports[a57_0x33790e(0x7b)]=DeployCartridges;