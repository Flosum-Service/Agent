function a59_0x2cb8(){const _0x4ff746=['cartridges','21478nekudp','instanceUrl','\x27\x20code\x20version.','logger','defineProperty','writeZip','3032taFeQB','67967tySkmh','deploy','execute','jobPath','(((.+)+)+)+$','9110FCeSbJ','4fYGvSJ','auth','activate','accessToken','code','__importDefault','384861ZNbstT','6lglSod','./utils','\x27\x20=>\x20\x27','adm-zip','11253lUSwMM','/cartridges/','3740580nSbwlA','Compressing\x20cartridges\x20=>\x20\x27','toString','log','not\x20','search','deployCartridges','codeVersion','been\x20recived.','47551wezhfd','Deploying\x20\x27','default','Receiving\x20access\x20token.','credentials','Access\x20token\x20has\x20','constructor','addLocalFolderAsync','createZipFile','join','getAccessToken','clientId','9162OjgEXA'];a59_0x2cb8=function(){return _0x4ff746;};return a59_0x2cb8();}function a59_0x55c6(_0x568b04,_0x4e3a26){const _0xf93d99=a59_0x2cb8();return a59_0x55c6=function(_0x1db14e,_0x44e90d){_0x1db14e=_0x1db14e-0xc0;let _0x2cb8fc=_0xf93d99[_0x1db14e];return _0x2cb8fc;},a59_0x55c6(_0x568b04,_0x4e3a26);}const a59_0x4e8d51=a59_0x55c6;(function(_0x454ed0,_0x46552b){const _0x1a1bf5=a59_0x55c6,_0x4b42d5=_0x454ed0();while(!![]){try{const _0x1a2adf=-parseInt(_0x1a1bf5(0xee))/0x1+parseInt(_0x1a1bf5(0xe7))/0x2+-parseInt(_0x1a1bf5(0xc9))/0x3*(parseInt(_0x1a1bf5(0xc3))/0x4)+-parseInt(_0x1a1bf5(0xd0))/0x5+-parseInt(_0x1a1bf5(0xca))/0x6*(-parseInt(_0x1a1bf5(0xd9))/0x7)+-parseInt(_0x1a1bf5(0xed))/0x8*(-parseInt(_0x1a1bf5(0xe5))/0x9)+-parseInt(_0x1a1bf5(0xc2))/0xa*(-parseInt(_0x1a1bf5(0xce))/0xb);if(_0x1a2adf===_0x46552b)break;else _0x4b42d5['push'](_0x4b42d5['shift']());}catch(_0x8c0cf9){_0x4b42d5['push'](_0x4b42d5['shift']());}}}(a59_0x2cb8,0x5f719));const a59_0x44e90d=(function(){let _0x59367e=!![];return function(_0xaef8d2,_0x37e9af){const _0x147fca=_0x59367e?function(){if(_0x37e9af){const _0x46c3a3=_0x37e9af['apply'](_0xaef8d2,arguments);return _0x37e9af=null,_0x46c3a3;}}:function(){};return _0x59367e=![],_0x147fca;};}()),a59_0x1db14e=a59_0x44e90d(this,function(){const _0x2ba0ae=a59_0x55c6;return a59_0x1db14e['toString']()[_0x2ba0ae(0xd5)](_0x2ba0ae(0xc1))[_0x2ba0ae(0xd2)]()[_0x2ba0ae(0xdf)](a59_0x1db14e)[_0x2ba0ae(0xd5)]('(((.+)+)+)+$');});a59_0x1db14e();'use strict';var __importDefault=this&&this[a59_0x4e8d51(0xc8)]||function(_0x56a2bb){return _0x56a2bb&&_0x56a2bb['__esModule']?_0x56a2bb:{'default':_0x56a2bb};};Object[a59_0x4e8d51(0xeb)](exports,'__esModule',{'value':!![]});const utils_1=require(a59_0x4e8d51(0xcb)),path_1=__importDefault(require('path')),adm_zip_1=__importDefault(require(a59_0x4e8d51(0xcd))),SFCC=require('sfcc-ci');class DeployCartridges{constructor(_0x1a59cb,_0x33bb16,_0x1f67b1,_0x165780){const _0x27d7d9=a59_0x4e8d51;this[_0x27d7d9(0xc0)]=_0x1a59cb,this['credentials']=_0x33bb16,this['codeVersion']=_0x1f67b1,this['logger']=_0x165780;const {instanceUrl:_0xb0d0e2,clientId:_0x386a3b,clientSecret:_0x5ed1e6}=this[_0x27d7d9(0xdd)];this[_0x27d7d9(0xe8)]=_0xb0d0e2,this[_0x27d7d9(0xe4)]=_0x386a3b,this['clientSecret']=_0x5ed1e6;}async[a59_0x4e8d51(0xd6)](){const _0x1c418b=a59_0x4e8d51,_0x5c98e3=this[_0x1c418b(0xd7)]+'.zip',_0x1acad3=await this['createZipFile'](_0x5c98e3);await this[_0x1c418b(0xea)][_0x1c418b(0xd3)](_0x1c418b(0xda)+_0x5c98e3+_0x1c418b(0xcc)+this[_0x1c418b(0xe8)]+_0x1c418b(0xcf)+this['codeVersion']+'\x27.'),await this[_0x1c418b(0xef)](_0x1acad3);}async[a59_0x4e8d51(0xe1)](_0x47fabf){const _0x11d193=a59_0x4e8d51,_0x1a8e45=path_1['default']['join'](this[_0x11d193(0xc0)],_0x11d193(0xe6)),_0x4d9cc0=path_1[_0x11d193(0xdb)][_0x11d193(0xe2)](_0x1a8e45,_0x47fabf);await this[_0x11d193(0xea)]['log'](_0x11d193(0xd1)+_0x47fabf+'\x27.');const _0x11d6ec=new adm_zip_1[(_0x11d193(0xdb))]();return await(0x0,utils_1[_0x11d193(0xe0)])(_0x11d6ec,_0x1a8e45,''+this[_0x11d193(0xd7)]),await(0x0,utils_1[_0x11d193(0xec)])(_0x11d6ec,_0x4d9cc0),_0x4d9cc0;}async['getAccessToken'](){return new Promise((_0x115ee2,_0x3e9c2e)=>{const _0x546ff3=a59_0x55c6;SFCC[_0x546ff3(0xc4)][_0x546ff3(0xc4)](this['clientId'],this['clientSecret'],(_0x2351ec,_0x4f9a5a)=>{_0x4f9a5a&&_0x115ee2(_0x4f9a5a),_0x2351ec&&_0x3e9c2e(_0x2351ec);});});}async[a59_0x4e8d51(0xef)](_0x377f7d){return new Promise((_0x292278,_0x331ea6)=>{const _0x1609c2=a59_0x55c6;SFCC[_0x1609c2(0xc7)][_0x1609c2(0xef)](this['instanceUrl'],_0x377f7d,this[_0x1609c2(0xc6)],{},_0x1728bb=>{_0x1728bb?_0x331ea6(_0x1728bb):_0x292278();});});}async[a59_0x4e8d51(0xc5)](){return new Promise((_0x168c9e,_0x5f5dec)=>{const _0x4b9fc1=a59_0x55c6;SFCC[_0x4b9fc1(0xc7)]['activate'](this[_0x4b9fc1(0xe8)],this[_0x4b9fc1(0xd7)],this[_0x4b9fc1(0xc6)],_0x801a86=>{_0x801a86?_0x5f5dec(_0x801a86):_0x168c9e();});});}async[a59_0x4e8d51(0xf0)](){const _0x2c2345=a59_0x4e8d51;await this[_0x2c2345(0xea)][_0x2c2345(0xd3)](_0x2c2345(0xdc)),this['accessToken']=await this[_0x2c2345(0xe3)](),await this[_0x2c2345(0xea)]['log'](_0x2c2345(0xde)+(!this[_0x2c2345(0xc6)]?_0x2c2345(0xd4):'')+_0x2c2345(0xd8)),await this[_0x2c2345(0xd6)]();}async['activateCodeVersion'](){const _0x235e5d=a59_0x4e8d51;await this[_0x235e5d(0xea)][_0x235e5d(0xd3)]('Activating\x20\x27'+this[_0x235e5d(0xd7)]+_0x235e5d(0xe9)),await this[_0x235e5d(0xc5)]();}}exports['default']=DeployCartridges;