const a59_0x428e00=a59_0x5b81;function a59_0x5b81(_0x45d59b,_0x47cff9){const _0x3a19b1=a59_0x7c2e();return a59_0x5b81=function(_0x420123,_0x604b89){_0x420123=_0x420123-0x100;let _0x7c2e9d=_0x3a19b1[_0x420123];return _0x7c2e9d;},a59_0x5b81(_0x45d59b,_0x47cff9);}(function(_0x1fc52a,_0x1bb24c){const _0x301a1f=a59_0x5b81,_0x195ef5=_0x1fc52a();while(!![]){try{const _0x23c183=-parseInt(_0x301a1f(0x114))/0x1+parseInt(_0x301a1f(0x123))/0x2+parseInt(_0x301a1f(0x10b))/0x3*(-parseInt(_0x301a1f(0x130))/0x4)+-parseInt(_0x301a1f(0x125))/0x5+parseInt(_0x301a1f(0x12c))/0x6*(-parseInt(_0x301a1f(0x108))/0x7)+parseInt(_0x301a1f(0x126))/0x8*(-parseInt(_0x301a1f(0x128))/0x9)+parseInt(_0x301a1f(0x103))/0xa;if(_0x23c183===_0x1bb24c)break;else _0x195ef5['push'](_0x195ef5['shift']());}catch(_0x5072ce){_0x195ef5['push'](_0x195ef5['shift']());}}}(a59_0x7c2e,0x5106b));function a59_0x7c2e(){const _0xb5e73c=['deployCartridges','padEnd','been\x20recived.','logger','not\x20','cartridges','accessToken','204480VvEVjb','activateCodeVersion','toString','apply','join','clientSecret','./utils','constructor','Deploying\x20\x27','sfcc-ci','codeVersion','credentials','Access\x20token\x20has\x20','\x27\x20code\x20version.','default','397008wbyHeo','instanceUrl','2518825WqqADV','8HoysNS','writeZip','3239451VFdWjG','__importDefault','.zip','======\x20Activate\x20\x20','60mhspyq','auth','(((.+)+)+)+$','adm-zip','6928PflbcW','path','activate','\x27\x20=>\x20\x27','Compressing\x20cartridges\x20=>\x20\x27','20271870lsROlV','__esModule','/cartridges/','jobPath','deploy','266350BOPPuU','execute','log','771IDYrWp','code'];a59_0x7c2e=function(){return _0xb5e73c;};return a59_0x7c2e();}const a59_0x604b89=(function(){let _0x50dc75=!![];return function(_0x528761,_0x594967){const _0x5ee678=_0x50dc75?function(){const _0x142f41=a59_0x5b81;if(_0x594967){const _0x3a5a58=_0x594967[_0x142f41(0x117)](_0x528761,arguments);return _0x594967=null,_0x3a5a58;}}:function(){};return _0x50dc75=![],_0x5ee678;};}()),a59_0x420123=a59_0x604b89(this,function(){const _0x310bd8=a59_0x5b81;return a59_0x420123[_0x310bd8(0x116)]()['search'](_0x310bd8(0x12e))[_0x310bd8(0x116)]()[_0x310bd8(0x11b)](a59_0x420123)['search'](_0x310bd8(0x12e));});a59_0x420123();'use strict';var __importDefault=this&&this[a59_0x428e00(0x129)]||function(_0x1a5e46){const _0xae9d59=a59_0x428e00;return _0x1a5e46&&_0x1a5e46[_0xae9d59(0x104)]?_0x1a5e46:{'default':_0x1a5e46};};Object['defineProperty'](exports,'__esModule',{'value':!![]});const utils_1=require(a59_0x428e00(0x11a)),path_1=__importDefault(require(a59_0x428e00(0x131))),adm_zip_1=__importDefault(require(a59_0x428e00(0x12f))),SFCC=require(a59_0x428e00(0x11d));class DeployCartridges{constructor(_0x155e7d,_0x4353e3,_0x263d17,_0x29c3cc,_0x3790d3){const _0x3a89fc=a59_0x428e00;this['jobPath']=_0x155e7d,this[_0x3a89fc(0x11f)]=_0x4353e3,this[_0x3a89fc(0x11e)]=_0x263d17,this['isActivateCodeVersion']=_0x29c3cc,this[_0x3a89fc(0x110)]=_0x3790d3;const {instanceUrl:_0x105eee,clientId:_0xa73e49,clientSecret:_0x9f462f}=this['credentials'];this[_0x3a89fc(0x124)]=_0x105eee,this['clientId']=_0xa73e49,this[_0x3a89fc(0x119)]=_0x9f462f;}async[a59_0x428e00(0x10d)](){const _0x15fe5a=a59_0x428e00,_0x193bc8=this[_0x15fe5a(0x11e)]+_0x15fe5a(0x12a),_0x31e9bc=await this['createZipFile'](_0x193bc8);await this[_0x15fe5a(0x110)]['log'](_0x15fe5a(0x11c)+_0x193bc8+_0x15fe5a(0x101)+this[_0x15fe5a(0x124)]+_0x15fe5a(0x105)+this[_0x15fe5a(0x11e)]+'\x27.'),await this[_0x15fe5a(0x107)](_0x31e9bc);}async['createZipFile'](_0x4b131d){const _0x28688a=a59_0x428e00,_0x488af6=path_1['default'][_0x28688a(0x118)](this[_0x28688a(0x106)],_0x28688a(0x112)),_0x315447=path_1[_0x28688a(0x122)][_0x28688a(0x118)](_0x488af6,_0x4b131d);await this[_0x28688a(0x110)]['log'](_0x28688a(0x102)+_0x4b131d+'\x27.');const _0x1390d1=new adm_zip_1[(_0x28688a(0x122))]();return await(0x0,utils_1['addLocalFolderAsync'])(_0x1390d1,_0x488af6,''+this[_0x28688a(0x11e)]),await(0x0,utils_1[_0x28688a(0x127)])(_0x1390d1,_0x315447),_0x315447;}async['getAccessToken'](){return new Promise((_0x59f82f,_0x494fb4)=>{const _0x441f38=a59_0x5b81;SFCC[_0x441f38(0x12d)][_0x441f38(0x12d)](this['clientId'],this['clientSecret'],(_0x3fb7e9,_0x5b8364)=>{_0x5b8364&&_0x59f82f(_0x5b8364),_0x3fb7e9&&_0x494fb4(_0x3fb7e9);});});}async[a59_0x428e00(0x107)](_0x3e245c){return new Promise((_0x34cb5f,_0x3a0af2)=>{const _0x2ddcb5=a59_0x5b81;SFCC[_0x2ddcb5(0x10c)][_0x2ddcb5(0x107)](this[_0x2ddcb5(0x124)],_0x3e245c,this['accessToken'],{},_0x4d380e=>{_0x4d380e?_0x3a0af2(_0x4d380e):_0x34cb5f();});});}async[a59_0x428e00(0x100)](){return new Promise((_0x32d078,_0x247967)=>{const _0x1eaa7e=a59_0x5b81;SFCC[_0x1eaa7e(0x10c)]['activate'](this['instanceUrl'],this[_0x1eaa7e(0x11e)],this[_0x1eaa7e(0x113)],_0x222c92=>{_0x222c92?_0x247967(_0x222c92):_0x32d078();});});}async[a59_0x428e00(0x109)](){const _0xb3d215=a59_0x428e00;this[_0xb3d215(0x113)]=await this['getAccessToken'](),await this[_0xb3d215(0x110)][_0xb3d215(0x10a)](_0xb3d215(0x120)+(!this[_0xb3d215(0x113)]?_0xb3d215(0x111):'')+_0xb3d215(0x10f)),await this[_0xb3d215(0x10d)](),this['isActivateCodeVersion']&&await this['activateCodeVersion']();}async[a59_0x428e00(0x115)](){const _0x1dd33b=a59_0x428e00;await this[_0x1dd33b(0x110)]['log'](_0x1dd33b(0x12b)[_0x1dd33b(0x10e)](0x32,'=')),await this[_0x1dd33b(0x110)][_0x1dd33b(0x10a)]('Activating\x20\x27'+this[_0x1dd33b(0x11e)]+_0x1dd33b(0x121)),await this['activate']();}}exports['default']=DeployCartridges;