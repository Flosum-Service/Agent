const a57_0x159317=a57_0x14f1;function a57_0x14f1(_0x2109a7,_0xda490c){const _0x4314ac=a57_0x270a();return a57_0x14f1=function(_0x53e277,_0x580aa2){_0x53e277=_0x53e277-0x1b6;let _0x270aaf=_0x4314ac[_0x53e277];return _0x270aaf;},a57_0x14f1(_0x2109a7,_0xda490c);}(function(_0x24247a,_0x467fa3){const _0x37c73f=a57_0x14f1,_0x47d18e=_0x24247a();while(!![]){try{const _0x1d7c4a=parseInt(_0x37c73f(0x1d0))/0x1+parseInt(_0x37c73f(0x1bb))/0x2*(-parseInt(_0x37c73f(0x1cb))/0x3)+parseInt(_0x37c73f(0x1c5))/0x4*(-parseInt(_0x37c73f(0x1d6))/0x5)+-parseInt(_0x37c73f(0x1b7))/0x6*(-parseInt(_0x37c73f(0x1d2))/0x7)+parseInt(_0x37c73f(0x1e3))/0x8*(-parseInt(_0x37c73f(0x1c4))/0x9)+-parseInt(_0x37c73f(0x1d4))/0xa*(-parseInt(_0x37c73f(0x1c8))/0xb)+-parseInt(_0x37c73f(0x1ce))/0xc;if(_0x1d7c4a===_0x467fa3)break;else _0x47d18e['push'](_0x47d18e['shift']());}catch(_0x1c504c){_0x47d18e['push'](_0x47d18e['shift']());}}}(a57_0x270a,0x7e685));const a57_0x580aa2=(function(){let _0x267b68=!![];return function(_0x532cb1,_0x5d8dc7){const _0x53f076=_0x267b68?function(){if(_0x5d8dc7){const _0x38a10d=_0x5d8dc7['apply'](_0x532cb1,arguments);return _0x5d8dc7=null,_0x38a10d;}}:function(){};return _0x267b68=![],_0x53f076;};}()),a57_0x53e277=a57_0x580aa2(this,function(){const _0x436970=a57_0x14f1;return a57_0x53e277[_0x436970(0x1ba)]()[_0x436970(0x1c0)](_0x436970(0x1c6))[_0x436970(0x1ba)]()[_0x436970(0x1bf)](a57_0x53e277)['search'](_0x436970(0x1c6));});a57_0x53e277();'use strict';var __importDefault=this&&this[a57_0x159317(0x1cf)]||function(_0x1463c9){const _0x5d3bc6=a57_0x159317;return _0x1463c9&&_0x1463c9[_0x5d3bc6(0x1ca)]?_0x1463c9:{'default':_0x1463c9};};function a57_0x270a(){const _0x140cfb=['7wMygdj','been\x20recived.','130wViNmx','code','764315xtjxSw','addLocalFolderAsync','clientId','default','logger','auth','sfcc-ci','./utils','log','Deploying\x20\x27','instanceUrl','adm-zip','accessToken','248VxoHlj','activate','3254316IElxLJ','\x27\x20code\x20version.','deploy','toString','639850gKosPj','writeZip','/cartridges/','credentials','constructor','search','Access\x20token\x20has\x20','getAccessToken','jobPath','11052HkLMzA','16GTyniX','(((.+)+)+)+$','clientSecret','444037WIfTgN','execute','__esModule','3DFLkGP','cartridges','deployCartridges','3662196UUjBqc','__importDefault','725236ILyLrG','codeVersion'];a57_0x270a=function(){return _0x140cfb;};return a57_0x270a();}Object['defineProperty'](exports,'__esModule',{'value':!![]});const utils_1=require(a57_0x159317(0x1dd)),path_1=__importDefault(require('path')),adm_zip_1=__importDefault(require(a57_0x159317(0x1e1))),SFCC=require(a57_0x159317(0x1dc));class DeployCartridges{constructor(_0x5e7405,_0x378107,_0x75e2de,_0x5dd70c){const _0x5e3fe0=a57_0x159317;this['jobPath']=_0x5e7405,this[_0x5e3fe0(0x1be)]=_0x378107,this[_0x5e3fe0(0x1d1)]=_0x75e2de,this[_0x5e3fe0(0x1da)]=_0x5dd70c;const {instanceUrl:_0x16f44c,clientId:_0x225bf2,clientSecret:_0x1895c0}=this[_0x5e3fe0(0x1be)];this['instanceUrl']=_0x16f44c,this[_0x5e3fe0(0x1d8)]=_0x225bf2,this[_0x5e3fe0(0x1c7)]=_0x1895c0;}async[a57_0x159317(0x1cd)](){const _0x2cc0e3=a57_0x159317,_0x888f75=this[_0x2cc0e3(0x1d1)]+'.zip',_0x340269=await this['createZipFile'](_0x888f75);await this[_0x2cc0e3(0x1da)][_0x2cc0e3(0x1de)](_0x2cc0e3(0x1df)+_0x888f75+'\x27\x20=>\x20\x27'+this[_0x2cc0e3(0x1e0)]+_0x2cc0e3(0x1bd)+this[_0x2cc0e3(0x1d1)]+'\x27.'),await this['deploy'](_0x340269);}async['createZipFile'](_0x309dd8){const _0x1f7947=a57_0x159317,_0x4967fe=path_1[_0x1f7947(0x1d9)]['join'](this[_0x1f7947(0x1c3)],_0x1f7947(0x1cc)),_0x555a2e=path_1[_0x1f7947(0x1d9)]['join'](_0x4967fe,_0x309dd8);await this[_0x1f7947(0x1da)][_0x1f7947(0x1de)]('Compressing\x20cartridges\x20=>\x20\x27'+_0x309dd8+'\x27.');const _0xe1c0bc=new adm_zip_1[(_0x1f7947(0x1d9))]();return await(0x0,utils_1[_0x1f7947(0x1d7)])(_0xe1c0bc,_0x4967fe,''+this['codeVersion']),await(0x0,utils_1[_0x1f7947(0x1bc)])(_0xe1c0bc,_0x555a2e),_0x555a2e;}async['getAccessToken'](){return new Promise((_0x220d47,_0x9432b4)=>{const _0x5e029d=a57_0x14f1;SFCC[_0x5e029d(0x1db)]['auth'](this[_0x5e029d(0x1d8)],this[_0x5e029d(0x1c7)],(_0x352882,_0x38b029)=>{_0x38b029&&_0x220d47(_0x38b029),_0x352882&&_0x9432b4(_0x352882);});});}async[a57_0x159317(0x1b9)](_0x553045){return new Promise((_0x503295,_0xf1ec4d)=>{const _0x6657b4=a57_0x14f1;SFCC[_0x6657b4(0x1d5)][_0x6657b4(0x1b9)](this[_0x6657b4(0x1e0)],_0x553045,this[_0x6657b4(0x1e2)],{},_0x4a0b10=>{_0x4a0b10?_0xf1ec4d(_0x4a0b10):_0x503295();});});}async[a57_0x159317(0x1b6)](){return new Promise((_0x560b44,_0x85b28f)=>{const _0x366a1c=a57_0x14f1;SFCC[_0x366a1c(0x1d5)][_0x366a1c(0x1b6)](this[_0x366a1c(0x1e0)],this[_0x366a1c(0x1d1)],this[_0x366a1c(0x1e2)],_0x57fa66=>{_0x57fa66?_0x85b28f(_0x57fa66):_0x560b44();});});}async[a57_0x159317(0x1c9)](){const _0x131356=a57_0x159317;await this[_0x131356(0x1da)][_0x131356(0x1de)]('Receiving\x20access\x20token.'),this[_0x131356(0x1e2)]=await this[_0x131356(0x1c2)](),await this[_0x131356(0x1da)][_0x131356(0x1de)](_0x131356(0x1c1)+(!this['accessToken']?'not\x20':'')+_0x131356(0x1d3)),await this[_0x131356(0x1cd)]();}async['activateCodeVersion'](){const _0x569a13=a57_0x159317;await this[_0x569a13(0x1da)][_0x569a13(0x1de)]('Activating\x20\x27'+this['codeVersion']+_0x569a13(0x1b8)),await this[_0x569a13(0x1b6)]();}}exports[a57_0x159317(0x1d9)]=DeployCartridges;