const a59_0x40427e=a59_0x3849;(function(_0x5d39a5,_0x3a4fb5){const _0x52edf0=a59_0x3849,_0x5a3f7d=_0x5d39a5();while(!![]){try{const _0x40e71d=-parseInt(_0x52edf0(0xe3))/0x1*(-parseInt(_0x52edf0(0xe7))/0x2)+parseInt(_0x52edf0(0xd9))/0x3*(-parseInt(_0x52edf0(0xbc))/0x4)+-parseInt(_0x52edf0(0xbf))/0x5*(parseInt(_0x52edf0(0xc4))/0x6)+-parseInt(_0x52edf0(0xe1))/0x7*(-parseInt(_0x52edf0(0xc8))/0x8)+-parseInt(_0x52edf0(0xce))/0x9+parseInt(_0x52edf0(0xcb))/0xa*(-parseInt(_0x52edf0(0xdf))/0xb)+parseInt(_0x52edf0(0xcc))/0xc;if(_0x40e71d===_0x3a4fb5)break;else _0x5a3f7d['push'](_0x5a3f7d['shift']());}catch(_0x39dfaa){_0x5a3f7d['push'](_0x5a3f7d['shift']());}}}(a59_0x2ede,0xe6b86));const a59_0x46bed1=(function(){let _0x15b8c8=!![];return function(_0x16a7e1,_0x5b993a){const _0x2dc61b=_0x15b8c8?function(){const _0xa16d30=a59_0x3849;if(_0x5b993a){const _0x19c5dc=_0x5b993a[_0xa16d30(0xc6)](_0x16a7e1,arguments);return _0x5b993a=null,_0x19c5dc;}}:function(){};return _0x15b8c8=![],_0x2dc61b;};}()),a59_0x4dbd49=a59_0x46bed1(this,function(){const _0x24ad50=a59_0x3849;return a59_0x4dbd49[_0x24ad50(0xbe)]()[_0x24ad50(0xbb)](_0x24ad50(0xb8))[_0x24ad50(0xbe)]()[_0x24ad50(0xd3)](a59_0x4dbd49)[_0x24ad50(0xbb)](_0x24ad50(0xb8));});a59_0x4dbd49();'use strict';var __importDefault=this&&this[a59_0x40427e(0xe8)]||function(_0xcfa4d8){const _0x4ddf22=a59_0x40427e;return _0xcfa4d8&&_0xcfa4d8[_0x4ddf22(0xb6)]?_0xcfa4d8:{'default':_0xcfa4d8};};Object[a59_0x40427e(0xe6)](exports,a59_0x40427e(0xb6),{'value':!![]});const utils_1=require(a59_0x40427e(0xc1)),path_1=__importDefault(require(a59_0x40427e(0xb5))),adm_zip_1=__importDefault(require(a59_0x40427e(0xd8))),SFCC=require(a59_0x40427e(0xde));class DeployCartridges{constructor(_0x4b8615,_0x687ed0,_0x1470fc,_0x47afd9,_0x37fd33){const _0x1698db=a59_0x40427e;this[_0x1698db(0xd4)]=_0x4b8615,this['credentials']=_0x687ed0,this['codeVersion']=_0x1470fc,this['isActivateCodeVersion']=_0x47afd9,this[_0x1698db(0xec)]=_0x37fd33;const {instanceUrl:_0x4d941c,clientId:_0x2f2639,clientSecret:_0x5da7a6}=this['credentials'];this[_0x1698db(0xba)]=_0x4d941c,this[_0x1698db(0xe9)]=_0x2f2639,this['clientSecret']=_0x5da7a6;}async[a59_0x40427e(0xd5)](){const _0x33166b=a59_0x40427e,_0x387155=this[_0x33166b(0xc3)]+'.zip',_0x4b4d59=await this[_0x33166b(0xea)](_0x387155);await this[_0x33166b(0xec)][_0x33166b(0xc0)](_0x33166b(0xd0)+_0x387155+_0x33166b(0xe5)+this['instanceUrl']+_0x33166b(0xe2)+this['codeVersion']+'\x27.'),await this[_0x33166b(0xda)](_0x4b4d59);}async['createZipFile'](_0x3d75d1){const _0x3213dd=a59_0x40427e,_0x10c60c=path_1['default'][_0x3213dd(0xbd)](this[_0x3213dd(0xd4)],_0x3213dd(0xb9)),_0x5bbea7=path_1[_0x3213dd(0xdb)][_0x3213dd(0xbd)](_0x10c60c,_0x3d75d1);await this[_0x3213dd(0xec)]['log'](_0x3213dd(0xb7)+_0x3d75d1+'\x27.');const _0x3706cd=new adm_zip_1[(_0x3213dd(0xdb))]();return await(0x0,utils_1[_0x3213dd(0xc9)])(_0x3706cd,_0x10c60c,''+this[_0x3213dd(0xc3)]),await(0x0,utils_1[_0x3213dd(0xca)])(_0x3706cd,_0x5bbea7),_0x5bbea7;}async[a59_0x40427e(0xd6)](){return new Promise((_0x476ccd,_0x555f66)=>{const _0x574ca7=a59_0x3849;SFCC[_0x574ca7(0xdc)][_0x574ca7(0xdc)](this[_0x574ca7(0xe9)],this[_0x574ca7(0xcd)],(_0x593f32,_0xbd67d0)=>{_0xbd67d0&&_0x476ccd(_0xbd67d0),_0x593f32&&_0x555f66(_0x593f32);});});}async[a59_0x40427e(0xda)](_0x542fef){return new Promise((_0x4ec517,_0x153ba8)=>{const _0x4d5364=a59_0x3849;SFCC[_0x4d5364(0xd2)][_0x4d5364(0xda)](this[_0x4d5364(0xba)],_0x542fef,this[_0x4d5364(0xe0)],{},_0x1e84b0=>{_0x1e84b0?_0x153ba8(_0x1e84b0):_0x4ec517();});});}async['activate'](){return new Promise((_0x185ef2,_0x3e9aa8)=>{const _0x2c2f26=a59_0x3849;SFCC[_0x2c2f26(0xd2)][_0x2c2f26(0xeb)](this['instanceUrl'],this[_0x2c2f26(0xc3)],this[_0x2c2f26(0xe0)],_0x30246e=>{_0x30246e?_0x3e9aa8(_0x30246e):_0x185ef2();});});}async['execute'](){const _0x923a3a=a59_0x40427e;this['accessToken']=await this['getAccessToken'](),await this[_0x923a3a(0xec)][_0x923a3a(0xc0)](_0x923a3a(0xc7)+(!this[_0x923a3a(0xe0)]?_0x923a3a(0xc2):'')+_0x923a3a(0xd1)),await this[_0x923a3a(0xd5)](),this[_0x923a3a(0xe4)]&&await this['activateCodeVersion']();}async[a59_0x40427e(0xd7)](){const _0x3dc309=a59_0x40427e;await this[_0x3dc309(0xec)]['log']('======\x20Activate\x20\x20'[_0x3dc309(0xdd)](0x32,'=')),await this[_0x3dc309(0xec)]['log'](_0x3dc309(0xcf)+this[_0x3dc309(0xc3)]+_0x3dc309(0xc5)),await this[_0x3dc309(0xeb)]();}}function a59_0x2ede(){const _0x567695=['__esModule','Compressing\x20cartridges\x20=>\x20\x27','(((.+)+)+)+$','cartridges','instanceUrl','search','60eKtCqz','join','toString','5vWSbJE','log','./utils','not\x20','codeVersion','9672078RmVEVJ','\x27\x20code\x20version.','apply','Access\x20token\x20has\x20','112OmFGkr','addLocalFolderAsync','writeZip','110DouahI','26636064nouLCd','clientSecret','15098274BLVAjB','Activating\x20\x27','Deploying\x20\x27','been\x20recived.','code','constructor','jobPath','deployCartridges','getAccessToken','activateCodeVersion','adm-zip','66087BJpkSF','deploy','default','auth','padEnd','sfcc-ci','133001FwlBBz','accessToken','514248TCIjod','/cartridges/','21013FqZQie','isActivateCodeVersion','\x27\x20=>\x20\x27','defineProperty','138qlPcqt','__importDefault','clientId','createZipFile','activate','logger','path'];a59_0x2ede=function(){return _0x567695;};return a59_0x2ede();}function a59_0x3849(_0x5925f5,_0x2af9a5){const _0x321040=a59_0x2ede();return a59_0x3849=function(_0x4dbd49,_0x46bed1){_0x4dbd49=_0x4dbd49-0xb5;let _0x2ede90=_0x321040[_0x4dbd49];return _0x2ede90;},a59_0x3849(_0x5925f5,_0x2af9a5);}exports[a59_0x40427e(0xdb)]=DeployCartridges;