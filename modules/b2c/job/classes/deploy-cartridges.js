const a59_0xd49e9a=a59_0x25d9;(function(_0x4e0141,_0x244828){const _0x1f80ef=a59_0x25d9,_0x422d72=_0x4e0141();while(!![]){try{const _0x40be45=-parseInt(_0x1f80ef(0x7d))/0x1+parseInt(_0x1f80ef(0xa4))/0x2+parseInt(_0x1f80ef(0x83))/0x3*(parseInt(_0x1f80ef(0x8b))/0x4)+parseInt(_0x1f80ef(0x7a))/0x5*(-parseInt(_0x1f80ef(0x92))/0x6)+parseInt(_0x1f80ef(0xa9))/0x7*(parseInt(_0x1f80ef(0x89))/0x8)+parseInt(_0x1f80ef(0x81))/0x9+-parseInt(_0x1f80ef(0x91))/0xa*(-parseInt(_0x1f80ef(0xa6))/0xb);if(_0x40be45===_0x244828)break;else _0x422d72['push'](_0x422d72['shift']());}catch(_0x39229b){_0x422d72['push'](_0x422d72['shift']());}}}(a59_0x16af,0xf2f39));function a59_0x16af(){const _0x4a2f95=['clientId','auth','/cartridges/','accessToken','instanceUrl','path','addLocalFolderAsync','not\x20','createZipFile','codeVersion','toString','clientSecret','\x27\x20code\x20version.','logger','default','credentials','(((.+)+)+)+$','2122690YAkfij','./utils','6039eGKeeO','padEnd','constructor','2260195poKsUq','join','5PmelDA','.zip','deployCartridges','1900806kWviyS','activate','__esModule','deploy','7861023hSCvFD','sfcc-ci','246CSlrkf','__importDefault','code','getAccessToken','been\x20recived.','\x27\x20=>\x20\x27','8toJLOR','adm-zip','62644DHWEeJ','Access\x20token\x20has\x20','log','jobPath','cartridges','isActivateCodeVersion','17570DzMCmO','9663222yubKyG'];a59_0x16af=function(){return _0x4a2f95;};return a59_0x16af();}const a59_0x19253e=(function(){let _0x144a2a=!![];return function(_0x3ef215,_0x44019e){const _0xcdd0ec=_0x144a2a?function(){if(_0x44019e){const _0x3d4842=_0x44019e['apply'](_0x3ef215,arguments);return _0x44019e=null,_0x3d4842;}}:function(){};return _0x144a2a=![],_0xcdd0ec;};}()),a59_0x372b05=a59_0x19253e(this,function(){const _0x103f4e=a59_0x25d9;return a59_0x372b05[_0x103f4e(0x9d)]()['search']('(((.+)+)+)+$')[_0x103f4e(0x9d)]()[_0x103f4e(0xa8)](a59_0x372b05)['search'](_0x103f4e(0xa3));});a59_0x372b05();'use strict';function a59_0x25d9(_0x418282,_0x196aca){const _0x58fe89=a59_0x16af();return a59_0x25d9=function(_0x372b05,_0x19253e){_0x372b05=_0x372b05-0x7a;let _0x16af55=_0x58fe89[_0x372b05];return _0x16af55;},a59_0x25d9(_0x418282,_0x196aca);}var __importDefault=this&&this[a59_0xd49e9a(0x84)]||function(_0x371f90){return _0x371f90&&_0x371f90['__esModule']?_0x371f90:{'default':_0x371f90};};Object['defineProperty'](exports,a59_0xd49e9a(0x7f),{'value':!![]});const utils_1=require(a59_0xd49e9a(0xa5)),path_1=__importDefault(require(a59_0xd49e9a(0x98))),adm_zip_1=__importDefault(require(a59_0xd49e9a(0x8a))),SFCC=require(a59_0xd49e9a(0x82));class DeployCartridges{constructor(_0x419719,_0x2a8472,_0x2d351e,_0x22d8d3,_0x3957a0){const _0x4edae1=a59_0xd49e9a;this[_0x4edae1(0x8e)]=_0x419719,this[_0x4edae1(0xa2)]=_0x2a8472,this[_0x4edae1(0x9c)]=_0x2d351e,this[_0x4edae1(0x90)]=_0x22d8d3,this['logger']=_0x3957a0;const {instanceUrl:_0x4db9d4,clientId:_0x224528,clientSecret:_0x754bde}=this[_0x4edae1(0xa2)];this[_0x4edae1(0x97)]=_0x4db9d4,this[_0x4edae1(0x93)]=_0x224528,this[_0x4edae1(0x9e)]=_0x754bde;}async['deployCartridges'](){const _0x36b56f=a59_0xd49e9a,_0x4c7e7f=this[_0x36b56f(0x9c)]+_0x36b56f(0x7b),_0x18013f=await this['createZipFile'](_0x4c7e7f);await this[_0x36b56f(0xa0)][_0x36b56f(0x8d)]('Deploying\x20\x27'+_0x4c7e7f+_0x36b56f(0x88)+this['instanceUrl']+_0x36b56f(0x95)+this['codeVersion']+'\x27.'),await this[_0x36b56f(0x80)](_0x18013f);}async[a59_0xd49e9a(0x9b)](_0x43f3f3){const _0x3289d8=a59_0xd49e9a,_0x852a47=path_1[_0x3289d8(0xa1)][_0x3289d8(0xaa)](this[_0x3289d8(0x8e)],_0x3289d8(0x8f)),_0x5b76fe=path_1[_0x3289d8(0xa1)][_0x3289d8(0xaa)](_0x852a47,_0x43f3f3);await this[_0x3289d8(0xa0)][_0x3289d8(0x8d)]('Compressing\x20cartridges\x20=>\x20\x27'+_0x43f3f3+'\x27.');const _0x2d6b96=new adm_zip_1[(_0x3289d8(0xa1))]();return await(0x0,utils_1[_0x3289d8(0x99)])(_0x2d6b96,_0x852a47,''+this[_0x3289d8(0x9c)]),await(0x0,utils_1['writeZip'])(_0x2d6b96,_0x5b76fe),_0x5b76fe;}async[a59_0xd49e9a(0x86)](){return new Promise((_0x1d7276,_0x53a82e)=>{const _0x43a7de=a59_0x25d9;SFCC[_0x43a7de(0x94)]['auth'](this[_0x43a7de(0x93)],this[_0x43a7de(0x9e)],(_0x533231,_0x15717f)=>{_0x15717f&&_0x1d7276(_0x15717f),_0x533231&&_0x53a82e(_0x533231);});});}async[a59_0xd49e9a(0x80)](_0x80742f){return new Promise((_0x3e8330,_0x3e37e8)=>{const _0x39cac3=a59_0x25d9;SFCC[_0x39cac3(0x85)][_0x39cac3(0x80)](this[_0x39cac3(0x97)],_0x80742f,this['accessToken'],{},_0x3ee964=>{_0x3ee964?_0x3e37e8(_0x3ee964):_0x3e8330();});});}async[a59_0xd49e9a(0x7e)](){return new Promise((_0x3a764c,_0x5d65d4)=>{const _0x1ee6f4=a59_0x25d9;SFCC[_0x1ee6f4(0x85)][_0x1ee6f4(0x7e)](this['instanceUrl'],this[_0x1ee6f4(0x9c)],this[_0x1ee6f4(0x96)],_0x22e462=>{_0x22e462?_0x5d65d4(_0x22e462):_0x3a764c();});});}async['execute'](){const _0x598b0=a59_0xd49e9a;this[_0x598b0(0x96)]=await this[_0x598b0(0x86)](),await this[_0x598b0(0xa0)]['log'](_0x598b0(0x8c)+(!this[_0x598b0(0x96)]?_0x598b0(0x9a):'')+_0x598b0(0x87)),await this[_0x598b0(0x7c)](),this['isActivateCodeVersion']&&await this['activateCodeVersion']();}async['activateCodeVersion'](){const _0x594f49=a59_0xd49e9a;await this[_0x594f49(0xa0)][_0x594f49(0x8d)]('======\x20Activate\x20\x20'[_0x594f49(0xa7)](0x32,'=')),await this['logger'][_0x594f49(0x8d)]('Activating\x20\x27'+this['codeVersion']+_0x594f49(0x9f)),await this['activate']();}}exports[a59_0xd49e9a(0xa1)]=DeployCartridges;