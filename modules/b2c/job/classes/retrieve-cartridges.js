function a62_0xb1cf(){const _0x25316f=['rar','default','\x20file(s).','retriveAttachments','APPLICATION_XML','CartridgeFile','__esModule','replace','isFlosumVariables','Branch__c\x20=\x20:branchId','keys','365202NlVihf','branchId','otf','defineProperty','build','pipe','search','execute','log','png','utf8','zip','svg','jobPath','Component_History__c','CompositeRetrieveData','gzip','Bulk1JobOperation','toString','BodyLength','Component__c','69LvSvlN','(((.+)+)+)+$','applyFlosumVariables','woff','namespace','axiosInstance','includes','isLastVersion__c\x20=\x20:isLastVersion','forEach','Name','Retrieved\x20','push','Query','Attachment','andWhere','adm-zip','638lRKAxx','getComponentHistoryIds','getIsDone','constructor','QueryBuilder','Body','139452yNzHur','@flosum/salesforce','ParentId\x20IN\x20(:componentHistoryIds)','BulkV1QueryContentType','./utils','3770750ZakcWB','then','select','56380MktzwA','ico','1241vLEggu','variables','extractAllToAsync','getData','apply','5cGXhCd','apiVersion','572GlwSxl','eot','from','131201haPIBZ','woff2','32LbApDj','jpeg','Bulk1RetrieveData','where','pdf','1978407JifWoZ','lastIndexOf','indexOf'];a62_0xb1cf=function(){return _0x25316f;};return a62_0xb1cf();}const a62_0x3296a8=a62_0x5bf9;(function(_0x5dac9e,_0x337793){const _0x398a94=a62_0x5bf9,_0xece5a2=_0x5dac9e();while(!![]){try{const _0x2251ce=-parseInt(_0x398a94(0x19d))/0x1*(-parseInt(_0x398a94(0x18d))/0x2)+parseInt(_0x398a94(0x1d1))/0x3*(-parseInt(_0x398a94(0x19b))/0x4)+-parseInt(_0x398a94(0x1a2))/0x5*(-parseInt(_0x398a94(0x1bc))/0x6)+parseInt(_0x398a94(0x1a7))/0x7*(parseInt(_0x398a94(0x1a9))/0x8)+parseInt(_0x398a94(0x1ae))/0x9+parseInt(_0x398a94(0x198))/0xa+parseInt(_0x398a94(0x1a4))/0xb*(-parseInt(_0x398a94(0x193))/0xc);if(_0x2251ce===_0x337793)break;else _0xece5a2['push'](_0xece5a2['shift']());}catch(_0x5b1e01){_0xece5a2['push'](_0xece5a2['shift']());}}}(a62_0xb1cf,0x30dcb));const a62_0x288817=(function(){let _0x4d9996=!![];return function(_0x30934f,_0x1b777c){const _0x49a27b=_0x4d9996?function(){const _0x1ea396=a62_0x5bf9;if(_0x1b777c){const _0x3c1781=_0x1b777c[_0x1ea396(0x1a1)](_0x30934f,arguments);return _0x1b777c=null,_0x3c1781;}}:function(){};return _0x4d9996=![],_0x49a27b;};}()),a62_0x292410=a62_0x288817(this,function(){const _0x25f09a=a62_0x5bf9;return a62_0x292410[_0x25f09a(0x1ce)]()['search'](_0x25f09a(0x1d2))[_0x25f09a(0x1ce)]()[_0x25f09a(0x190)](a62_0x292410)[_0x25f09a(0x1c2)]('(((.+)+)+)+$');});a62_0x292410();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5241d4){const _0x31b890=a62_0x5bf9;return _0x5241d4&&_0x5241d4[_0x31b890(0x1b7)]?_0x5241d4:{'default':_0x5241d4};};Object[a62_0x3296a8(0x1bf)](exports,a62_0x3296a8(0x1b7),{'value':!![]});function a62_0x5bf9(_0x2e4204,_0x543c7c){const _0x55dce8=a62_0xb1cf();return a62_0x5bf9=function(_0x292410,_0x288817){_0x292410=_0x292410-0x183;let _0xb1cf05=_0x55dce8[_0x292410];return _0xb1cf05;},a62_0x5bf9(_0x2e4204,_0x543c7c);}const salesforce_1=require(a62_0x3296a8(0x194)),salesforce_2=require(a62_0x3296a8(0x194)),utils_1=require(a62_0x3296a8(0x197)),adm_zip_1=__importDefault(require(a62_0x3296a8(0x18c))),B2C_CARTRIDGE_TYPE=a62_0x3296a8(0x1b6),BINARY_FIELDS=[a62_0x3296a8(0x192)],EXCLUDED_TYPES=['jpg',a62_0x3296a8(0x1c8),a62_0x3296a8(0x1a5),a62_0x3296a8(0x1be),a62_0x3296a8(0x1aa),a62_0x3296a8(0x1c5),a62_0x3296a8(0x1d4),a62_0x3296a8(0x1a8),'ttf',a62_0x3296a8(0x19c),a62_0x3296a8(0x1c7),a62_0x3296a8(0x1b1),a62_0x3296a8(0x1cc),a62_0x3296a8(0x1ad)];class RetrieveCartridges{constructor(_0x34e2b5,_0x1894d7,_0x5429b7,_0x1a3864,_0x429d80,_0x2db097,_0x40086d){const _0x4f165f=a62_0x3296a8;this[_0x4f165f(0x1c9)]=_0x34e2b5,this['axiosInstance']=_0x1894d7,this[_0x4f165f(0x1a3)]=_0x5429b7,this[_0x4f165f(0x1d5)]=_0x1a3864,this[_0x4f165f(0x1bd)]=_0x429d80,this[_0x4f165f(0x19e)]=_0x2db097,this['logger']=_0x40086d,this['isFlosumVariables']=![],this[_0x4f165f(0x1b9)]=Object[_0x4f165f(0x1bb)](this[_0x4f165f(0x19e)])['length']>0x0;}async[a62_0x3296a8(0x1b4)](_0x361aa0){const _0x43a187=a62_0x3296a8,_0x2c82e2=new salesforce_2[(_0x43a187(0x191))]()[_0x43a187(0x19a)](_0x43a187(0x192),_0x43a187(0x186),_0x43a187(0x1cf))[_0x43a187(0x1a6)](_0x43a187(0x18a))[_0x43a187(0x1ac)](_0x43a187(0x195),{'componentHistoryIds':_0x361aa0}),_0x2b5161=new salesforce_1[(_0x43a187(0x1ab))]({'instance':this[_0x43a187(0x1d6)],'api':this[_0x43a187(0x1a3)],'pollInterval':0x1388,'queryBuilder':_0x2c82e2,'objectName':_0x43a187(0x18a),'contentType':salesforce_1[_0x43a187(0x196)][_0x43a187(0x1b5)],'jobOperation':salesforce_1[_0x43a187(0x1cd)][_0x43a187(0x189)]});let _0x1ca534=0x0;do{const _0x1d613=await _0x2b5161[_0x43a187(0x1c3)]();if(!_0x1d613)break;const _0x4f3d1c=new salesforce_2['BulkXmlStreamParser']({'binaryFields':BINARY_FIELDS});for await(const _0x251a98 of _0x1d613[_0x43a187(0x1c1)](_0x4f3d1c)){_0x1ca534++;const _0x39a77a=new adm_zip_1[(_0x43a187(0x1b2))](_0x251a98[_0x43a187(0x192)]);this[_0x43a187(0x1b9)]&&await this[_0x43a187(0x1d3)](_0x39a77a),await(0x0,utils_1[_0x43a187(0x19f)])(_0x39a77a,this[_0x43a187(0x1c9)]);}}while(!_0x2b5161[_0x43a187(0x18f)]());return _0x1ca534;}async[a62_0x3296a8(0x1d3)](_0x5c09ed){const _0x4e582e=a62_0x3296a8,_0x21bbcd=_0x5c09ed['getEntries']();_0x21bbcd[_0x4e582e(0x185)](_0x4257f3=>{const _0x29d018=_0x4e582e,_0xf2d6c=_0x4257f3['name'],_0x467b0c=_0xf2d6c['substring'](_0xf2d6c[_0x29d018(0x1af)]('.')+0x1);if(!EXCLUDED_TYPES[_0x29d018(0x183)](_0x467b0c)){let _0x16e94f=_0x4257f3[_0x29d018(0x1a0)]()[_0x29d018(0x1ce)](_0x29d018(0x1c6)),_0x565c13=![];for(const _0x3195ee in this[_0x29d018(0x19e)]){const _0x5db9f2='%%'+_0x3195ee+'%%';if(_0x16e94f[_0x29d018(0x1b0)](_0x5db9f2)!==-0x1){const _0x2d2c7d=new RegExp(_0x5db9f2,'ig');_0x16e94f=_0x16e94f[_0x29d018(0x1b8)](_0x2d2c7d,this[_0x29d018(0x19e)][_0x3195ee]),_0x565c13=!![];}}_0x565c13&&_0x5c09ed['updateFile'](_0x4257f3,Buffer[_0x29d018(0x1a6)](_0x16e94f,_0x29d018(0x1c6)));}});}async[a62_0x3296a8(0x18e)](){const _0x23a2a3=a62_0x3296a8,_0x37953e=[],_0x214838=new salesforce_2[(_0x23a2a3(0x191))]()[_0x23a2a3(0x19a)]('Id')[_0x23a2a3(0x1a6)](this[_0x23a2a3(0x1d5)]+_0x23a2a3(0x1d0))[_0x23a2a3(0x1ac)](this[_0x23a2a3(0x1d5)]+_0x23a2a3(0x1ba),{'branchId':this[_0x23a2a3(0x1bd)]})[_0x23a2a3(0x18b)](this['namespace']+'Component_Type__c\x20=\x20:type',{'type':B2C_CARTRIDGE_TYPE})[_0x23a2a3(0x1c0)](),_0xbfd0f6=new salesforce_2[(_0x23a2a3(0x191))]()[_0x23a2a3(0x19a)]('Id')[_0x23a2a3(0x1a6)](this[_0x23a2a3(0x1d5)]+_0x23a2a3(0x1ca))[_0x23a2a3(0x1ac)](this[_0x23a2a3(0x1d5)]+'Component__c\x20IN\x20('+_0x214838+')')[_0x23a2a3(0x18b)](this[_0x23a2a3(0x1d5)]+_0x23a2a3(0x184),{'isLastVersion':!![]}),_0x503740=new salesforce_2[(_0x23a2a3(0x1cb))]({'api':this[_0x23a2a3(0x1a3)],'queryBuilder':_0xbfd0f6,'instance':this[_0x23a2a3(0x1d6)],'isTooling':![]});do{const _0x4d9d9e=await _0x503740[_0x23a2a3(0x1c3)]()[_0x23a2a3(0x199)](({records:_0x43f7cd})=>_0x43f7cd['map'](_0x21855b=>_0x21855b['Id']));_0x4d9d9e['length']&&_0x37953e[_0x23a2a3(0x188)](_0x4d9d9e);}while(!_0x503740[_0x23a2a3(0x18f)]());return _0x37953e;}async['execute'](){const _0x3fcf53=a62_0x3296a8,_0xc3b4df=await this[_0x3fcf53(0x18e)]();let _0x21aea7=0x0;for(const _0x3a902e of _0xc3b4df){_0x21aea7+=await this[_0x3fcf53(0x1b4)](_0x3a902e);}await this['logger'][_0x3fcf53(0x1c4)](_0x3fcf53(0x187)+_0x21aea7+_0x3fcf53(0x1b3));}}exports[a62_0x3296a8(0x1b2)]=RetrieveCartridges;