const a69_0x3d4d49=a69_0x15fb;(function(_0x2a4019,_0x24e56d){const _0x32a8ce=a69_0x15fb,_0x3eef57=_0x2a4019();while(!![]){try{const _0x459e98=parseInt(_0x32a8ce(0x235))/0x1*(parseInt(_0x32a8ce(0x1f2))/0x2)+-parseInt(_0x32a8ce(0x208))/0x3*(-parseInt(_0x32a8ce(0x204))/0x4)+parseInt(_0x32a8ce(0x22c))/0x5+-parseInt(_0x32a8ce(0x202))/0x6+parseInt(_0x32a8ce(0x20e))/0x7*(-parseInt(_0x32a8ce(0x20a))/0x8)+parseInt(_0x32a8ce(0x1fc))/0x9*(parseInt(_0x32a8ce(0x216))/0xa)+-parseInt(_0x32a8ce(0x205))/0xb;if(_0x459e98===_0x24e56d)break;else _0x3eef57['push'](_0x3eef57['shift']());}catch(_0x36362c){_0x3eef57['push'](_0x3eef57['shift']());}}}(a69_0x48f5,0xc2d11));const a69_0x29b636=(function(){let _0x38f6f6=!![];return function(_0x21c844,_0x1b9f4c){const _0x36bc81=_0x38f6f6?function(){const _0x5b28ca=a69_0x15fb;if(_0x1b9f4c){const _0x1ac0e7=_0x1b9f4c[_0x5b28ca(0x21d)](_0x21c844,arguments);return _0x1b9f4c=null,_0x1ac0e7;}}:function(){};return _0x38f6f6=![],_0x36bc81;};}()),a69_0x7d63bc=a69_0x29b636(this,function(){const _0x2bf7b1=a69_0x15fb;return a69_0x7d63bc[_0x2bf7b1(0x218)]()['search'](_0x2bf7b1(0x20c))[_0x2bf7b1(0x218)]()[_0x2bf7b1(0x23b)](a69_0x7d63bc)['search'](_0x2bf7b1(0x20c));});a69_0x7d63bc();'use strict';function a69_0x15fb(_0x3db3c7,_0x34255f){const _0x97ea2=a69_0x48f5();return a69_0x15fb=function(_0x7d63bc,_0x29b636){_0x7d63bc=_0x7d63bc-0x1f2;let _0x48f575=_0x97ea2[_0x7d63bc];return _0x48f575;},a69_0x15fb(_0x3db3c7,_0x34255f);}var __importDefault=this&&this[a69_0x3d4d49(0x201)]||function(_0x33586a){return _0x33586a&&_0x33586a['__esModule']?_0x33586a:{'default':_0x33586a};};Object['defineProperty'](exports,a69_0x3d4d49(0x1ff),{'value':!![]}),exports[a69_0x3d4d49(0x226)]=void 0x0;const core_1=require('../../../core'),salesforce_1=require(a69_0x3d4d49(0x243)),auth_manager_1=require(a69_0x3d4d49(0x1f4)),constants_1=require(a69_0x3d4d49(0x223)),utils_1=require('@flosum/utils'),minimist_1=__importDefault(require(a69_0x3d4d49(0x22b))),path_1=__importDefault(require(a69_0x3d4d49(0x22f))),state_manger_1=__importDefault(require(a69_0x3d4d49(0x244))),logger_1=__importDefault(require(a69_0x3d4d49(0x22d))),retrieve_cartridges_1=__importDefault(require(a69_0x3d4d49(0x234))),deploy_cartridges_1=__importDefault(require(a69_0x3d4d49(0x212))),run_script_1=__importDefault(require(a69_0x3d4d49(0x23e))),run_lint_1=__importDefault(require(a69_0x3d4d49(0x225))),manifest_manager_1=__importDefault(require(a69_0x3d4d49(0x23a))),salesforce_auth_1=__importDefault(require(a69_0x3d4d49(0x23f)));class Job{constructor(){const _0x11e6d5=a69_0x3d4d49,{jobId:_0x4edc69,jobStorePath:_0x563d29}=(0x0,minimist_1['default'])(process[_0x11e6d5(0x20b)][_0x11e6d5(0x21b)](0x2));this[_0x11e6d5(0x214)]=_0x563d29,this[_0x11e6d5(0x21e)]=_0x4edc69;}async['execute'](){const _0x1a3069=a69_0x3d4d49;this['systemLogger']=new core_1[(_0x1a3069(0x21f))](this[_0x1a3069(0x21e)]),this['logger']=new logger_1[(_0x1a3069(0x1fb))](this[_0x1a3069(0x21e)],this[_0x1a3069(0x23c)]);const _0x2955c6=await new state_manger_1[(_0x1a3069(0x1fb))](this['jobPath'])[_0x1a3069(0x21c)](),_0x5b4c2c=path_1[_0x1a3069(0x1fb)][_0x1a3069(0x1fa)](this[_0x1a3069(0x214)],_0x1a3069(0x203),constants_1['FLOSUM_SCRIPT_PATH']);await this[_0x1a3069(0x20f)]['log'](_0x1a3069(0x21a));try{await _0x2955c6['setInProgress'](),this[_0x1a3069(0x238)]=await this[_0x1a3069(0x207)](),this[_0x1a3069(0x245)]=this['getFlosumNamespace'](),await this[_0x1a3069(0x1f9)](),await this[_0x1a3069(0x239)](),!this['isLintValidate']?await utils_1[_0x1a3069(0x213)][_0x1a3069(0x217)](_0x5b4c2c)?await this[_0x1a3069(0x240)]():await this[_0x1a3069(0x1f8)]():await this[_0x1a3069(0x219)](),await _0x2955c6[_0x1a3069(0x209)](),await this[_0x1a3069(0x20f)]['log'](_0x1a3069(0x210));}catch(_0x584338){await _0x2955c6[_0x1a3069(0x1fe)](_0x584338),await this[_0x1a3069(0x20f)]['error'](_0x584338[_0x1a3069(0x232)]),await this[_0x1a3069(0x20f)][_0x1a3069(0x220)](_0x1a3069(0x211));}}async[a69_0x3d4d49(0x1f9)](){const _0x290e28=a69_0x3d4d49,{credentials:_0x4b75e7,apiVersion:_0x2c675a,branchId:_0x2a36e1,metadataLogId:_0x59d6cb,codeVersion:_0x51e59f,isUseCertificate:_0x44c39c,isLintValidate:_0x510310,isCompileCartridges:_0x3c94b3,isActivateCodeVersion:_0x2e3ff9,variables:_0x689f20}=await new manifest_manager_1[(_0x290e28(0x1fb))](this[_0x290e28(0x214)])[_0x290e28(0x21c)]();this['credentials']=_0x4b75e7,this[_0x290e28(0x1f3)]=_0x2c675a,this['branchId']=_0x2a36e1,this[_0x290e28(0x20d)]=_0x59d6cb,this[_0x290e28(0x230)]=_0x51e59f,this[_0x290e28(0x23d)]=_0x44c39c,this[_0x290e28(0x22a)]=_0x510310,this[_0x290e28(0x222)]=_0x3c94b3,this[_0x290e28(0x241)]=_0x2e3ff9,this['variables']=_0x689f20;}async['getAxiosInstance'](){const _0x47aefb=a69_0x3d4d49,_0x32f4ec=await salesforce_auth_1[_0x47aefb(0x1fb)][_0x47aefb(0x221)]();return salesforce_1['AxiosInstanceUtils']['create'](new auth_manager_1[(_0x47aefb(0x1f5))](_0x32f4ec),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async[a69_0x3d4d49(0x239)](){const _0x8631e7=a69_0x3d4d49;await this[_0x8631e7(0x20f)]['log'](_0x8631e7(0x224)['padEnd'](0x32,'=')),await new retrieve_cartridges_1[(_0x8631e7(0x1fb))](this[_0x8631e7(0x214)],this[_0x8631e7(0x238)],this[_0x8631e7(0x1f3)],this[_0x8631e7(0x245)],this[_0x8631e7(0x242)],this[_0x8631e7(0x20d)],this[_0x8631e7(0x20f)],this[_0x8631e7(0x23c)],this[_0x8631e7(0x22e)])[_0x8631e7(0x237)]();}async[a69_0x3d4d49(0x240)](){const _0x257501=a69_0x3d4d49;await this[_0x257501(0x20f)][_0x257501(0x228)](_0x257501(0x227)[_0x257501(0x233)](0x32,'=')),await new run_script_1[(_0x257501(0x1fb))](this[_0x257501(0x214)],this[_0x257501(0x229)],this[_0x257501(0x230)],this[_0x257501(0x23d)],this[_0x257501(0x222)],this[_0x257501(0x241)],this[_0x257501(0x23c)],this['logger'])[_0x257501(0x237)]();}async[a69_0x3d4d49(0x219)](){const _0x25aaab=a69_0x3d4d49;await this[_0x25aaab(0x20f)]['log']('======\x20Run\x20Lint\x20'['padEnd'](0x32,'=')),await new run_lint_1[(_0x25aaab(0x1fb))](this[_0x25aaab(0x214)],this[_0x25aaab(0x23c)],this[_0x25aaab(0x20f)])[_0x25aaab(0x237)]();}async['deployCartridges'](){const _0x32ff4f=a69_0x3d4d49;await this[_0x32ff4f(0x20f)][_0x32ff4f(0x228)](_0x32ff4f(0x200)[_0x32ff4f(0x233)](0x32,'=')),await new deploy_cartridges_1[(_0x32ff4f(0x1fb))](this[_0x32ff4f(0x214)],this['credentials'],this[_0x32ff4f(0x230)],this[_0x32ff4f(0x241)],this[_0x32ff4f(0x20f)])['execute']();}[a69_0x3d4d49(0x1fd)](){const _0x5a8432=a69_0x3d4d49;var _0x25c0ff,_0x15abcb;return((_0x15abcb=(_0x25c0ff=process['env'])===null||_0x25c0ff===void 0x0?void 0x0:_0x25c0ff[_0x5a8432(0x231)])===null||_0x15abcb===void 0x0?void 0x0:_0x15abcb['toLowerCase']())===_0x5a8432(0x1f6)?'':constants_1[_0x5a8432(0x1f7)];}}exports[a69_0x3d4d49(0x226)]=Job,new Job()[a69_0x3d4d49(0x237)]()[a69_0x3d4d49(0x215)](()=>process[a69_0x3d4d49(0x206)](0x0))[a69_0x3d4d49(0x236)](()=>process[a69_0x3d4d49(0x206)](0x1));function a69_0x48f5(){const _0x472cb3=['minimist','4138545TycWgJ','./classes/logger','variables','path','codeVersion','IGNORE_FLOSUM_NAMESPACE','message','padEnd','./classes/retrieve-cartridges','5297ugtWEJ','catch','execute','axiosInstance','retrieveCartridges','./classes/manifest-manager','constructor','systemLogger','isUseCertificate','./classes/run-script','./classes/salesforce-auth','runScript','isActivateCodeVersion','branchId','@flosum/salesforce','../../shared/managers/state-manger','namespace','204XimKNJ','apiVersion','../../shared/managers/auth.manager','AuthManager','true','FLOSUM_NAMESPACE','deployCartridges','getManifestParameters','join','default','18oEtQpu','getFlosumNamespace','setError','__esModule','======\x20Deploy\x20Cartridge\x20Files\x20','__importDefault','4485840nisBnJ','cartridges','4540LtwaJs','18738247NvAUfz','exit','getAxiosInstance','3285QfJJaQ','setCompleted','16WDFRyO','argv','(((.+)+)+)+$','metadataLogId','1411186sJTrUo','logger','Job\x20has\x20been\x20completed.','Job\x20has\x20been\x20failed.','./classes/deploy-cartridges','FsUtils','jobPath','then','5207270drvhis','isExistsPath','toString','runLint','Job\x20has\x20been\x20started.','slice','init','apply','jobId','Logger','error','getAuthDetails','isCompileCartridges','../constants','======\x20Retrieve\x20Cartridge\x20Files\x20','./classes/run-lint','Job','======\x20Run\x20Script\x20','log','credentials','isLintValidate'];a69_0x48f5=function(){return _0x472cb3;};return a69_0x48f5();}