function a68_0x4dd5(_0x45a6ed,_0x234650){const _0x582db1=a68_0x5c85();return a68_0x4dd5=function(_0x2e4579,_0x54514f){_0x2e4579=_0x2e4579-0x11b;let _0x5c851f=_0x582db1[_0x2e4579];return _0x5c851f;},a68_0x4dd5(_0x45a6ed,_0x234650);}const a68_0x48d9f5=a68_0x4dd5;(function(_0x3c863a,_0x1e0b1d){const _0x13174c=a68_0x4dd5,_0x5b72f2=_0x3c863a();while(!![]){try{const _0x122749=-parseInt(_0x13174c(0x156))/0x1*(parseInt(_0x13174c(0x146))/0x2)+-parseInt(_0x13174c(0x140))/0x3*(-parseInt(_0x13174c(0x13e))/0x4)+parseInt(_0x13174c(0x158))/0x5*(-parseInt(_0x13174c(0x131))/0x6)+parseInt(_0x13174c(0x154))/0x7*(parseInt(_0x13174c(0x12a))/0x8)+parseInt(_0x13174c(0x15a))/0x9*(parseInt(_0x13174c(0x12f))/0xa)+-parseInt(_0x13174c(0x135))/0xb+-parseInt(_0x13174c(0x14a))/0xc*(parseInt(_0x13174c(0x12d))/0xd);if(_0x122749===_0x1e0b1d)break;else _0x5b72f2['push'](_0x5b72f2['shift']());}catch(_0x57c2a9){_0x5b72f2['push'](_0x5b72f2['shift']());}}}(a68_0x5c85,0xc708e));const a68_0x54514f=(function(){let _0x277636=!![];return function(_0x41e5d4,_0x56ab1c){const _0x1e3d61=_0x277636?function(){if(_0x56ab1c){const _0x415c3c=_0x56ab1c['apply'](_0x41e5d4,arguments);return _0x56ab1c=null,_0x415c3c;}}:function(){};return _0x277636=![],_0x1e3d61;};}()),a68_0x2e4579=a68_0x54514f(this,function(){const _0x179699=a68_0x4dd5;return a68_0x2e4579[_0x179699(0x13f)]()[_0x179699(0x130)]('(((.+)+)+)+$')[_0x179699(0x13f)]()[_0x179699(0x161)](a68_0x2e4579)[_0x179699(0x130)](_0x179699(0x165));});a68_0x2e4579();'use strict';var __importDefault=this&&this[a68_0x48d9f5(0x139)]||function(_0x2ddb27){const _0x1701f2=a68_0x48d9f5;return _0x2ddb27&&_0x2ddb27[_0x1701f2(0x126)]?_0x2ddb27:{'default':_0x2ddb27};};Object[a68_0x48d9f5(0x11c)](exports,a68_0x48d9f5(0x126),{'value':!![]}),exports[a68_0x48d9f5(0x12b)]=void 0x0;const core_1=require('../../../core'),salesforce_1=require(a68_0x48d9f5(0x143)),auth_manager_1=require(a68_0x48d9f5(0x14c)),constants_1=require('../constants'),utils_1=require('@flosum/utils'),minimist_1=__importDefault(require('minimist')),path_1=__importDefault(require(a68_0x48d9f5(0x122))),state_manger_1=__importDefault(require(a68_0x48d9f5(0x144))),logger_1=__importDefault(require(a68_0x48d9f5(0x120))),retrieve_cartridges_1=__importDefault(require(a68_0x48d9f5(0x15c))),deploy_cartridges_1=__importDefault(require(a68_0x48d9f5(0x14b))),run_script_1=__importDefault(require(a68_0x48d9f5(0x137))),manifest_manager_1=__importDefault(require(a68_0x48d9f5(0x12c))),salesforce_auth_1=__importDefault(require('./classes/salesforce-auth'));class Job{constructor(){const _0x33cf9b=a68_0x48d9f5,{jobId:_0x410aa4,jobStorePath:_0x417d2f}=(0x0,minimist_1['default'])(process['argv']['slice'](0x2));this['jobPath']=_0x417d2f,this[_0x33cf9b(0x157)]=_0x410aa4;}async[a68_0x48d9f5(0x14f)](){const _0x13925e=a68_0x48d9f5;this[_0x13925e(0x134)]=new core_1[(_0x13925e(0x127))](this['jobId']),this[_0x13925e(0x15b)]=new logger_1[(_0x13925e(0x148))](this[_0x13925e(0x157)],this[_0x13925e(0x134)]);const _0x3df48c=await new state_manger_1['default'](this[_0x13925e(0x11f)])[_0x13925e(0x149)](),_0x29c5a3=path_1[_0x13925e(0x148)]['join'](this[_0x13925e(0x11f)],_0x13925e(0x121),constants_1[_0x13925e(0x124)]);await this[_0x13925e(0x15b)][_0x13925e(0x160)](_0x13925e(0x11b));try{await _0x3df48c[_0x13925e(0x142)](),this[_0x13925e(0x15d)]=await this[_0x13925e(0x162)](),this['namespace']=this['getFlosumNamespace'](),await this[_0x13925e(0x153)](),await this['retrieveCartridges'](),await utils_1[_0x13925e(0x163)][_0x13925e(0x13c)](_0x29c5a3)?await this[_0x13925e(0x11d)]():await this[_0x13925e(0x141)](),await _0x3df48c[_0x13925e(0x11e)](),await this['logger'][_0x13925e(0x160)](_0x13925e(0x13d));}catch(_0x560423){await _0x3df48c[_0x13925e(0x12e)](_0x560423),await this[_0x13925e(0x15b)][_0x13925e(0x159)](_0x560423[_0x13925e(0x138)]),await this[_0x13925e(0x15b)][_0x13925e(0x159)](_0x13925e(0x14e));}}async['getManifestParameters'](){const _0x5a6ee3=a68_0x48d9f5,{credentials:_0x280000,apiVersion:_0x54733f,branchId:_0xc29cad,codeVersion:_0xf528e6,isCompileCartridges:_0x6ede9d,isActivateCodeVersion:_0x391286,variables:_0x2592c3}=await new manifest_manager_1[(_0x5a6ee3(0x148))](this['jobPath'])['init']();this[_0x5a6ee3(0x147)]=_0x280000,this[_0x5a6ee3(0x155)]=_0x54733f,this['branchId']=_0xc29cad,this[_0x5a6ee3(0x150)]=_0xf528e6,this[_0x5a6ee3(0x123)]=_0x6ede9d,this['isActivateCodeVersion']=_0x391286,this[_0x5a6ee3(0x13a)]=_0x2592c3;}async['getAxiosInstance'](){const _0x4ffcd8=a68_0x48d9f5,_0x28dead=await salesforce_auth_1['default']['getAuthDetails']();return salesforce_1[_0x4ffcd8(0x136)][_0x4ffcd8(0x15e)](new auth_manager_1[(_0x4ffcd8(0x151))](_0x28dead),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async['retrieveCartridges'](){const _0x3b5fc7=a68_0x48d9f5;await this[_0x3b5fc7(0x15b)][_0x3b5fc7(0x160)](_0x3b5fc7(0x132)[_0x3b5fc7(0x145)](0x32,'=')),await new retrieve_cartridges_1['default'](this[_0x3b5fc7(0x11f)],this['axiosInstance'],this[_0x3b5fc7(0x155)],this[_0x3b5fc7(0x128)],this[_0x3b5fc7(0x13b)],this[_0x3b5fc7(0x13a)],this[_0x3b5fc7(0x15b)])[_0x3b5fc7(0x14f)]();}async[a68_0x48d9f5(0x11d)](){const _0x6a2759=a68_0x48d9f5;await this[_0x6a2759(0x15b)]['log']('======\x20Run\x20script\x20'['padEnd'](0x32,'=')),await new run_script_1[(_0x6a2759(0x148))](this[_0x6a2759(0x11f)],this[_0x6a2759(0x147)],this['codeVersion'],this[_0x6a2759(0x123)],this[_0x6a2759(0x15f)],this[_0x6a2759(0x134)],this[_0x6a2759(0x15b)])[_0x6a2759(0x14f)]();}async[a68_0x48d9f5(0x141)](){const _0x2f4e99=a68_0x48d9f5;await this[_0x2f4e99(0x15b)][_0x2f4e99(0x160)](_0x2f4e99(0x164)[_0x2f4e99(0x145)](0x32,'=')),await new deploy_cartridges_1['default'](this[_0x2f4e99(0x11f)],this[_0x2f4e99(0x147)],this[_0x2f4e99(0x150)],this['isActivateCodeVersion'],this[_0x2f4e99(0x15b)])[_0x2f4e99(0x14f)]();}['getFlosumNamespace'](){const _0x387f1a=a68_0x48d9f5;var _0x4d56b4,_0x387328;return((_0x387328=(_0x4d56b4=process[_0x387f1a(0x152)])===null||_0x4d56b4===void 0x0?void 0x0:_0x4d56b4[_0x387f1a(0x125)])===null||_0x387328===void 0x0?void 0x0:_0x387328['toLowerCase']())==='true'?'':constants_1[_0x387f1a(0x133)];}}exports[a68_0x48d9f5(0x12b)]=Job,new Job()['execute']()['then'](()=>process['exit'](0x0))[a68_0x48d9f5(0x129)](()=>process[a68_0x48d9f5(0x14d)](0x1));function a68_0x5c85(){const _0x3d4b2e=['__importDefault','variables','branchId','isExistsPath','Job\x20has\x20been\x20completed.','4LkbjlB','toString','2152887QoVJYV','deployCartridges','setInProgress','@flosum/salesforce','../../shared/managers/state-manger','padEnd','115956OweCMa','credentials','default','init','812772fAPxLB','./classes/deploy-cartridges','../../shared/managers/auth.manager','exit','Job\x20has\x20been\x20failed.','execute','codeVersion','AuthManager','env','getManifestParameters','1138403Uywolf','apiVersion','9NSuBvE','jobId','4670395xOjDba','error','747iVaZto','logger','./classes/retrieve-cartridges','axiosInstance','create','isActivateCodeVersion','log','constructor','getAxiosInstance','FsUtils','======\x20Deploy\x20cartridges\x20','(((.+)+)+)+$','Job\x20has\x20been\x20started.','defineProperty','runScript','setCompleted','jobPath','./classes/logger','cartridges','path','isCompileCartridges','FLOSUM_SCRIPT_PATH','IGNORE_FLOSUM_NAMESPACE','__esModule','Logger','namespace','catch','72SzEsvO','Job','./classes/manifest-manager','143pLMiHg','setError','101120KbFUqK','search','6qREVOA','======\x20Retrieve\x20cartridges\x20','FLOSUM_NAMESPACE','systemLogger','48598TegDJV','AxiosInstanceUtils','./classes/run-script','message'];a68_0x5c85=function(){return _0x3d4b2e;};return a68_0x5c85();}