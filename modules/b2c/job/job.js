const a68_0x2c5fbe=a68_0x45db;(function(_0x728722,_0x5bc640){const _0x314151=a68_0x45db,_0x4fe7db=_0x728722();while(!![]){try{const _0x3883b0=-parseInt(_0x314151(0x15c))/0x1+-parseInt(_0x314151(0x11a))/0x2+-parseInt(_0x314151(0x15b))/0x3*(-parseInt(_0x314151(0x141))/0x4)+parseInt(_0x314151(0x12c))/0x5+-parseInt(_0x314151(0x15e))/0x6+-parseInt(_0x314151(0x127))/0x7*(-parseInt(_0x314151(0x153))/0x8)+parseInt(_0x314151(0x145))/0x9*(-parseInt(_0x314151(0x150))/0xa);if(_0x3883b0===_0x5bc640)break;else _0x4fe7db['push'](_0x4fe7db['shift']());}catch(_0x3c9ca9){_0x4fe7db['push'](_0x4fe7db['shift']());}}}(a68_0x3c68,0xbd02c));const a68_0x21d2b1=(function(){let _0xb9bc0f=!![];return function(_0x4d7ed0,_0x5ba974){const _0x3fa1b9=_0xb9bc0f?function(){const _0x5c4fd1=a68_0x45db;if(_0x5ba974){const _0x2391c9=_0x5ba974[_0x5c4fd1(0x149)](_0x4d7ed0,arguments);return _0x5ba974=null,_0x2391c9;}}:function(){};return _0xb9bc0f=![],_0x3fa1b9;};}()),a68_0xcbedb2=a68_0x21d2b1(this,function(){const _0x41e6c3=a68_0x45db;return a68_0xcbedb2[_0x41e6c3(0x146)]()['search'](_0x41e6c3(0x12b))[_0x41e6c3(0x146)]()[_0x41e6c3(0x140)](a68_0xcbedb2)['search'](_0x41e6c3(0x12b));});function a68_0x3c68(){const _0x5730f4=['exit','message','logger','error','axiosInstance','env','minimist','../../shared/managers/state-manger','FLOSUM_NAMESPACE','deployCartridges','isCompileCartridges','retrieveCartridges','setInProgress','@flosum/utils','branchId','constructor','1477196uRwWoO','./classes/logger','setError','Job\x20has\x20been\x20failed.','252cDnwZr','toString','codeVersion','defineProperty','apply','slice','./classes/salesforce-auth','./classes/deploy-cartridges','catch','default','execute','1270DGrvPR','padEnd','cartridges','3046672yjWcUY','systemLogger','apiVersion','runScript','getFlosumNamespace','======\x20Deploy\x20cartridges\x20','namespace','jobPath','12AAesNQ','1012376bxaOPC','isActivateCodeVersion','2148618WPjwnT','jobId','then','join','true','getAxiosInstance','../../../core','2825444WOopPR','IGNORE_FLOSUM_NAMESPACE','path','@flosum/salesforce','Job\x20has\x20been\x20started.','__importDefault','../constants','create','getManifestParameters','variables','log','argv','FsUtils','14TpWyNM','toLowerCase','credentials','FLOSUM_SCRIPT_PATH','(((.+)+)+)+$','6610405hanLOI','init','getAuthDetails','./classes/run-script','======\x20Run\x20script\x20'];a68_0x3c68=function(){return _0x5730f4;};return a68_0x3c68();}a68_0xcbedb2();'use strict';var __importDefault=this&&this[a68_0x2c5fbe(0x11f)]||function(_0x5a4289){return _0x5a4289&&_0x5a4289['__esModule']?_0x5a4289:{'default':_0x5a4289};};Object[a68_0x2c5fbe(0x148)](exports,'__esModule',{'value':!![]}),exports['Job']=void 0x0;const core_1=require(a68_0x2c5fbe(0x119)),salesforce_1=require(a68_0x2c5fbe(0x11d)),auth_manager_1=require('../../shared/managers/auth.manager'),constants_1=require(a68_0x2c5fbe(0x120)),utils_1=require(a68_0x2c5fbe(0x13e)),minimist_1=__importDefault(require(a68_0x2c5fbe(0x137))),path_1=__importDefault(require(a68_0x2c5fbe(0x11c))),state_manger_1=__importDefault(require(a68_0x2c5fbe(0x138))),logger_1=__importDefault(require(a68_0x2c5fbe(0x142))),retrieve_cartridges_1=__importDefault(require('./classes/retrieve-cartridges')),deploy_cartridges_1=__importDefault(require(a68_0x2c5fbe(0x14c))),run_script_1=__importDefault(require(a68_0x2c5fbe(0x12f))),manifest_manager_1=__importDefault(require('./classes/manifest-manager')),salesforce_auth_1=__importDefault(require(a68_0x2c5fbe(0x14b)));function a68_0x45db(_0xcc9461,_0x3f57ec){const _0x2bcb88=a68_0x3c68();return a68_0x45db=function(_0xcbedb2,_0x21d2b1){_0xcbedb2=_0xcbedb2-0x114;let _0x3c6802=_0x2bcb88[_0xcbedb2];return _0x3c6802;},a68_0x45db(_0xcc9461,_0x3f57ec);}class Job{constructor(){const _0x51b95e=a68_0x2c5fbe,{jobId:_0x3f16f7,jobStorePath:_0x415b7a}=(0x0,minimist_1[_0x51b95e(0x14e)])(process[_0x51b95e(0x125)][_0x51b95e(0x14a)](0x2));this[_0x51b95e(0x15a)]=_0x415b7a,this[_0x51b95e(0x114)]=_0x3f16f7;}async[a68_0x2c5fbe(0x14f)](){const _0x3e5506=a68_0x2c5fbe;this[_0x3e5506(0x154)]=new core_1['Logger'](this['jobId']),this[_0x3e5506(0x133)]=new logger_1[(_0x3e5506(0x14e))](this[_0x3e5506(0x114)],this[_0x3e5506(0x154)]);const _0xa42403=await new state_manger_1[(_0x3e5506(0x14e))](this['jobPath'])['init'](),_0x3561f5=path_1[_0x3e5506(0x14e)][_0x3e5506(0x116)](this[_0x3e5506(0x15a)],_0x3e5506(0x152),constants_1[_0x3e5506(0x12a)]);await this[_0x3e5506(0x133)][_0x3e5506(0x124)](_0x3e5506(0x11e));try{await _0xa42403[_0x3e5506(0x13d)](),this[_0x3e5506(0x135)]=await this[_0x3e5506(0x118)](),this[_0x3e5506(0x159)]=this[_0x3e5506(0x157)](),await this['getManifestParameters'](),await this[_0x3e5506(0x13c)](),await utils_1[_0x3e5506(0x126)]['isExistsPath'](_0x3561f5)?await this['runScript']():await this[_0x3e5506(0x13a)](),await _0xa42403['setCompleted'](),await this['logger']['log']('Job\x20has\x20been\x20completed.');}catch(_0x53db0a){await _0xa42403[_0x3e5506(0x143)](_0x53db0a),await this['logger'][_0x3e5506(0x134)](_0x53db0a[_0x3e5506(0x132)]),await this['logger'][_0x3e5506(0x134)](_0x3e5506(0x144));}}async[a68_0x2c5fbe(0x122)](){const _0x3b51a7=a68_0x2c5fbe,{credentials:_0x355dd9,apiVersion:_0x4fdd7d,branchId:_0x4d633d,codeVersion:_0x27c8e0,isCompileCartridges:_0xf53b90,isActivateCodeVersion:_0x4daa90,variables:_0x577e20}=await new manifest_manager_1[(_0x3b51a7(0x14e))](this[_0x3b51a7(0x15a)])[_0x3b51a7(0x12d)]();this[_0x3b51a7(0x129)]=_0x355dd9,this[_0x3b51a7(0x155)]=_0x4fdd7d,this[_0x3b51a7(0x13f)]=_0x4d633d,this[_0x3b51a7(0x147)]=_0x27c8e0,this[_0x3b51a7(0x13b)]=_0xf53b90,this[_0x3b51a7(0x15d)]=_0x4daa90,this['variables']=_0x577e20;}async[a68_0x2c5fbe(0x118)](){const _0x271c40=a68_0x2c5fbe,_0x42343e=await salesforce_auth_1[_0x271c40(0x14e)][_0x271c40(0x12e)]();return salesforce_1['AxiosInstanceUtils'][_0x271c40(0x121)](new auth_manager_1['AuthManager'](_0x42343e),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async['retrieveCartridges'](){const _0x10fefd=a68_0x2c5fbe;await this[_0x10fefd(0x133)][_0x10fefd(0x124)]('======\x20Retrieve\x20cartridges\x20'[_0x10fefd(0x151)](0x32,'=')),await new retrieve_cartridges_1[(_0x10fefd(0x14e))](this['jobPath'],this[_0x10fefd(0x135)],this['apiVersion'],this['namespace'],this[_0x10fefd(0x13f)],this[_0x10fefd(0x123)],this['logger'])[_0x10fefd(0x14f)]();}async[a68_0x2c5fbe(0x156)](){const _0x3e96bf=a68_0x2c5fbe;await this['logger'][_0x3e96bf(0x124)](_0x3e96bf(0x130)[_0x3e96bf(0x151)](0x32,'=')),await new run_script_1[(_0x3e96bf(0x14e))](this[_0x3e96bf(0x15a)],this[_0x3e96bf(0x129)],this[_0x3e96bf(0x147)],this['isCompileCartridges'],this[_0x3e96bf(0x15d)],this[_0x3e96bf(0x154)],this['logger'])[_0x3e96bf(0x14f)]();}async['deployCartridges'](){const _0x45a6ad=a68_0x2c5fbe;await this[_0x45a6ad(0x133)]['log'](_0x45a6ad(0x158)[_0x45a6ad(0x151)](0x32,'=')),await new deploy_cartridges_1[(_0x45a6ad(0x14e))](this[_0x45a6ad(0x15a)],this['credentials'],this['codeVersion'],this[_0x45a6ad(0x15d)],this[_0x45a6ad(0x133)])[_0x45a6ad(0x14f)]();}[a68_0x2c5fbe(0x157)](){const _0x3fe769=a68_0x2c5fbe;var _0x1c4f36,_0x17191c;return((_0x17191c=(_0x1c4f36=process[_0x3fe769(0x136)])===null||_0x1c4f36===void 0x0?void 0x0:_0x1c4f36[_0x3fe769(0x11b)])===null||_0x17191c===void 0x0?void 0x0:_0x17191c[_0x3fe769(0x128)]())===_0x3fe769(0x117)?'':constants_1[_0x3fe769(0x139)];}}exports['Job']=Job,new Job()[a68_0x2c5fbe(0x14f)]()[a68_0x2c5fbe(0x115)](()=>process[a68_0x2c5fbe(0x131)](0x0))[a68_0x2c5fbe(0x14d)](()=>process[a68_0x2c5fbe(0x131)](0x1));