function a68_0xceae(){const _0x3f084f=['1869246KXAxOD','defineProperty','FLOSUM_NAMESPACE','1AxsZXJ','9MlHyBX','Job','Logger','207024qyRAUa','AxiosInstanceUtils','path','@flosum/salesforce','namespace','jobId','./classes/run-script','toString','variables','../../shared/managers/auth.manager','getManifestParameters','======\x20Run\x20script\x20','8834768NQhgQE','(((.+)+)+)+$','FsUtils','setError','cartridges','jobPath','AuthManager','getFlosumNamespace','__esModule','======\x20Deploy\x20cartridges\x20','default','padEnd','env','./classes/logger','retrieveCartridges','__importDefault','@flosum/utils','1166780OFDkxY','1770475zpgiqo','credentials','1187692DYsMhq','deployCartridges','runScript','axiosInstance','./classes/salesforce-auth','setInProgress','setCompleted','catch','constructor','getAxiosInstance','create','join','message','../constants','init','branchId','search','isCompileCartridges','./classes/manifest-manager','../../shared/managers/state-manger','isExistsPath','Job\x20has\x20been\x20completed.','IGNORE_FLOSUM_NAMESPACE','error','70YrgDXR','execute','21882010OtESQH','codeVersion','log','./classes/retrieve-cartridges','exit','systemLogger','then','apiVersion','======\x20Retrieve\x20cartridges\x20','slice','isActivateCodeVersion','logger','./classes/deploy-cartridges','FLOSUM_SCRIPT_PATH'];a68_0xceae=function(){return _0x3f084f;};return a68_0xceae();}function a68_0xe197(_0x2a0850,_0x59b57e){const _0x253ec5=a68_0xceae();return a68_0xe197=function(_0x4bfaac,_0x19470d){_0x4bfaac=_0x4bfaac-0x103;let _0xceae93=_0x253ec5[_0x4bfaac];return _0xceae93;},a68_0xe197(_0x2a0850,_0x59b57e);}const a68_0x4942fc=a68_0xe197;(function(_0x220027,_0x31f524){const _0x3d1f28=a68_0xe197,_0x5f0e46=_0x220027();while(!![]){try{const _0x40994=-parseInt(_0x3d1f28(0x14e))/0x1*(-parseInt(_0x3d1f28(0x123))/0x2)+-parseInt(_0x3d1f28(0x14b))/0x3+parseInt(_0x3d1f28(0x120))/0x4+-parseInt(_0x3d1f28(0x121))/0x5+-parseInt(_0x3d1f28(0x103))/0x6*(parseInt(_0x3d1f28(0x13b))/0x7)+-parseInt(_0x3d1f28(0x10f))/0x8*(parseInt(_0x3d1f28(0x14f))/0x9)+parseInt(_0x3d1f28(0x13d))/0xa;if(_0x40994===_0x31f524)break;else _0x5f0e46['push'](_0x5f0e46['shift']());}catch(_0x2b95b8){_0x5f0e46['push'](_0x5f0e46['shift']());}}}(a68_0xceae,0x9e00b));const a68_0x19470d=(function(){let _0x5c6680=!![];return function(_0x4ca874,_0x4aca8e){const _0x27cfd3=_0x5c6680?function(){if(_0x4aca8e){const _0x5d2a6a=_0x4aca8e['apply'](_0x4ca874,arguments);return _0x4aca8e=null,_0x5d2a6a;}}:function(){};return _0x5c6680=![],_0x27cfd3;};}()),a68_0x4bfaac=a68_0x19470d(this,function(){const _0x53e1c2=a68_0xe197;return a68_0x4bfaac[_0x53e1c2(0x10a)]()['search']('(((.+)+)+)+$')[_0x53e1c2(0x10a)]()[_0x53e1c2(0x12b)](a68_0x4bfaac)[_0x53e1c2(0x133)](_0x53e1c2(0x110));});a68_0x4bfaac();'use strict';var __importDefault=this&&this[a68_0x4942fc(0x11e)]||function(_0x5a92c9){const _0x3cf703=a68_0x4942fc;return _0x5a92c9&&_0x5a92c9[_0x3cf703(0x117)]?_0x5a92c9:{'default':_0x5a92c9};};Object[a68_0x4942fc(0x14c)](exports,a68_0x4942fc(0x117),{'value':!![]}),exports['Job']=void 0x0;const core_1=require('../../../core'),salesforce_1=require(a68_0x4942fc(0x106)),auth_manager_1=require(a68_0x4942fc(0x10c)),constants_1=require(a68_0x4942fc(0x130)),utils_1=require(a68_0x4942fc(0x11f)),minimist_1=__importDefault(require('minimist')),path_1=__importDefault(require(a68_0x4942fc(0x105))),state_manger_1=__importDefault(require(a68_0x4942fc(0x136))),logger_1=__importDefault(require(a68_0x4942fc(0x11c))),retrieve_cartridges_1=__importDefault(require(a68_0x4942fc(0x140))),deploy_cartridges_1=__importDefault(require(a68_0x4942fc(0x149))),run_script_1=__importDefault(require(a68_0x4942fc(0x109))),manifest_manager_1=__importDefault(require(a68_0x4942fc(0x135))),salesforce_auth_1=__importDefault(require(a68_0x4942fc(0x127)));class Job{constructor(){const _0x320a10=a68_0x4942fc,{jobId:_0x1f3b6e,jobStorePath:_0x34062a}=(0x0,minimist_1[_0x320a10(0x119)])(process['argv'][_0x320a10(0x146)](0x2));this[_0x320a10(0x114)]=_0x34062a,this['jobId']=_0x1f3b6e;}async[a68_0x4942fc(0x13c)](){const _0x16c4ca=a68_0x4942fc;this[_0x16c4ca(0x142)]=new core_1[(_0x16c4ca(0x151))](this[_0x16c4ca(0x108)]),this[_0x16c4ca(0x148)]=new logger_1[(_0x16c4ca(0x119))](this[_0x16c4ca(0x108)],this[_0x16c4ca(0x142)]);const _0x196ef4=await new state_manger_1[(_0x16c4ca(0x119))](this['jobPath'])[_0x16c4ca(0x131)](),_0x5dff5f=path_1[_0x16c4ca(0x119)][_0x16c4ca(0x12e)](this[_0x16c4ca(0x114)],_0x16c4ca(0x113),constants_1[_0x16c4ca(0x14a)]);await this[_0x16c4ca(0x148)][_0x16c4ca(0x13f)]('Job\x20has\x20been\x20started.');try{await _0x196ef4[_0x16c4ca(0x128)](),this[_0x16c4ca(0x126)]=await this[_0x16c4ca(0x12c)](),this[_0x16c4ca(0x107)]=this[_0x16c4ca(0x116)](),await this[_0x16c4ca(0x10d)](),await this[_0x16c4ca(0x11d)](),await utils_1[_0x16c4ca(0x111)][_0x16c4ca(0x137)](_0x5dff5f)?await this[_0x16c4ca(0x125)]():await this[_0x16c4ca(0x124)](),await _0x196ef4[_0x16c4ca(0x129)](),await this[_0x16c4ca(0x148)][_0x16c4ca(0x13f)](_0x16c4ca(0x138));}catch(_0x567a6c){await _0x196ef4[_0x16c4ca(0x112)](_0x567a6c),await this['logger'][_0x16c4ca(0x13a)](_0x567a6c[_0x16c4ca(0x12f)]),await this[_0x16c4ca(0x148)]['error']('Job\x20has\x20been\x20failed.');}}async[a68_0x4942fc(0x10d)](){const _0x16fda6=a68_0x4942fc,{credentials:_0x76eb59,apiVersion:_0x48fa7d,branchId:_0x5ea523,codeVersion:_0x5b7964,isCompileCartridges:_0x22e0f3,isActivateCodeVersion:_0x1a25ed,variables:_0x5b20b3}=await new manifest_manager_1['default'](this[_0x16fda6(0x114)])[_0x16fda6(0x131)]();this[_0x16fda6(0x122)]=_0x76eb59,this['apiVersion']=_0x48fa7d,this[_0x16fda6(0x132)]=_0x5ea523,this[_0x16fda6(0x13e)]=_0x5b7964,this[_0x16fda6(0x134)]=_0x22e0f3,this[_0x16fda6(0x147)]=_0x1a25ed,this[_0x16fda6(0x10b)]=_0x5b20b3;}async[a68_0x4942fc(0x12c)](){const _0x255106=a68_0x4942fc,_0x2d51ae=await salesforce_auth_1[_0x255106(0x119)]['getAuthDetails']();return salesforce_1[_0x255106(0x104)][_0x255106(0x12d)](new auth_manager_1[(_0x255106(0x115))](_0x2d51ae),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async[a68_0x4942fc(0x11d)](){const _0x48eef6=a68_0x4942fc;await this[_0x48eef6(0x148)][_0x48eef6(0x13f)](_0x48eef6(0x145)[_0x48eef6(0x11a)](0x32,'=')),await new retrieve_cartridges_1[(_0x48eef6(0x119))](this[_0x48eef6(0x114)],this[_0x48eef6(0x126)],this[_0x48eef6(0x144)],this['namespace'],this['branchId'],this[_0x48eef6(0x10b)],this['logger'])[_0x48eef6(0x13c)]();}async[a68_0x4942fc(0x125)](){const _0x2877da=a68_0x4942fc;await this['logger'][_0x2877da(0x13f)](_0x2877da(0x10e)[_0x2877da(0x11a)](0x32,'=')),await new run_script_1[(_0x2877da(0x119))](this[_0x2877da(0x114)],this[_0x2877da(0x122)],this[_0x2877da(0x13e)],this[_0x2877da(0x134)],this[_0x2877da(0x147)],this[_0x2877da(0x142)],this['logger'])['execute']();}async['deployCartridges'](){const _0xc9c9ae=a68_0x4942fc;await this[_0xc9c9ae(0x148)][_0xc9c9ae(0x13f)](_0xc9c9ae(0x118)[_0xc9c9ae(0x11a)](0x32,'=')),await new deploy_cartridges_1[(_0xc9c9ae(0x119))](this[_0xc9c9ae(0x114)],this['credentials'],this[_0xc9c9ae(0x13e)],this[_0xc9c9ae(0x147)],this['logger'])['execute']();}['getFlosumNamespace'](){const _0x148d1d=a68_0x4942fc;var _0x5cd8c9,_0x407bbc;return((_0x407bbc=(_0x5cd8c9=process[_0x148d1d(0x11b)])===null||_0x5cd8c9===void 0x0?void 0x0:_0x5cd8c9[_0x148d1d(0x139)])===null||_0x407bbc===void 0x0?void 0x0:_0x407bbc['toLowerCase']())==='true'?'':constants_1[_0x148d1d(0x14d)];}}exports[a68_0x4942fc(0x150)]=Job,new Job()[a68_0x4942fc(0x13c)]()[a68_0x4942fc(0x143)](()=>process['exit'](0x0))[a68_0x4942fc(0x12a)](()=>process[a68_0x4942fc(0x141)](0x1));