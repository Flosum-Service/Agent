function a68_0x20a0(_0x29a586,_0x6a5b16){const _0x5bf7d5=a68_0xecdc();return a68_0x20a0=function(_0x5316e7,_0x3d0924){_0x5316e7=_0x5316e7-0x106;let _0xecdc33=_0x5bf7d5[_0x5316e7];return _0xecdc33;},a68_0x20a0(_0x29a586,_0x6a5b16);}const a68_0x1479ad=a68_0x20a0;(function(_0x337cae,_0x20f2e2){const _0x17a284=a68_0x20a0,_0x3b4952=_0x337cae();while(!![]){try{const _0x436566=parseInt(_0x17a284(0x11c))/0x1*(-parseInt(_0x17a284(0x129))/0x2)+parseInt(_0x17a284(0x13c))/0x3+-parseInt(_0x17a284(0x13e))/0x4*(-parseInt(_0x17a284(0x141))/0x5)+parseInt(_0x17a284(0x147))/0x6+-parseInt(_0x17a284(0x11a))/0x7+-parseInt(_0x17a284(0x127))/0x8*(-parseInt(_0x17a284(0x123))/0x9)+parseInt(_0x17a284(0x155))/0xa;if(_0x436566===_0x20f2e2)break;else _0x3b4952['push'](_0x3b4952['shift']());}catch(_0x3eeedd){_0x3b4952['push'](_0x3b4952['shift']());}}}(a68_0xecdc,0x7f78b));const a68_0x3d0924=(function(){let _0x4d5007=!![];return function(_0xe319da,_0x4bd348){const _0x2ba169=_0x4d5007?function(){const _0x218032=a68_0x20a0;if(_0x4bd348){const _0x2f5467=_0x4bd348[_0x218032(0x118)](_0xe319da,arguments);return _0x4bd348=null,_0x2f5467;}}:function(){};return _0x4d5007=![],_0x2ba169;};}()),a68_0x5316e7=a68_0x3d0924(this,function(){const _0x5cec22=a68_0x20a0;return a68_0x5316e7[_0x5cec22(0x10c)]()[_0x5cec22(0x12b)](_0x5cec22(0x122))[_0x5cec22(0x10c)]()[_0x5cec22(0x128)](a68_0x5316e7)['search'](_0x5cec22(0x122));});a68_0x5316e7();'use strict';var __importDefault=this&&this[a68_0x1479ad(0x114)]||function(_0x135448){const _0x1b3579=a68_0x1479ad;return _0x135448&&_0x135448[_0x1b3579(0x136)]?_0x135448:{'default':_0x135448};};function a68_0xecdc(){const _0x48201c=['then','../../shared/managers/state-manger','556314eaONrw','../constants','9980CuOgHW','AxiosInstanceUtils','../../../core','530ADAbix','======\x20Deploy\x20cartridges\x20','defineProperty','true','retrieveCartridges','slice','561156RqIAmX','setError','./classes/deploy-cartridges','FLOSUM_NAMESPACE','variables','@flosum/salesforce','getAxiosInstance','IGNORE_FLOSUM_NAMESPACE','execute','./classes/retrieve-cartridges','getFlosumNamespace','minimist','Job\x20has\x20been\x20completed.','log','3901440VrupSk','isCompileCartridges','systemLogger','axiosInstance','padEnd','default','isExistsPath','toString','./classes/manifest-manager','message','======\x20Run\x20script\x20','Job','getManifestParameters','Job\x20has\x20been\x20failed.','======\x20Retrieve\x20cartridges\x20','__importDefault','branchId','Job\x20has\x20been\x20started.','exit','apply','namespace','1490363WxsUCU','credentials','108164mvrNDf','toLowerCase','jobId','init','error','jobPath','(((.+)+)+)+$','54oAlnKT','catch','./classes/logger','FLOSUM_SCRIPT_PATH','600584YJDfXp','constructor','12SDrrMc','isActivateCodeVersion','search','codeVersion','Logger','argv','getAuthDetails','apiVersion','./classes/salesforce-auth','deployCartridges','./classes/run-script','FsUtils','logger','__esModule','create','path','AuthManager'];a68_0xecdc=function(){return _0x48201c;};return a68_0xecdc();}Object[a68_0x1479ad(0x143)](exports,a68_0x1479ad(0x136),{'value':!![]}),exports[a68_0x1479ad(0x110)]=void 0x0;const core_1=require(a68_0x1479ad(0x140)),salesforce_1=require(a68_0x1479ad(0x14c)),auth_manager_1=require('../../shared/managers/auth.manager'),constants_1=require(a68_0x1479ad(0x13d)),utils_1=require('@flosum/utils'),minimist_1=__importDefault(require(a68_0x1479ad(0x152))),path_1=__importDefault(require(a68_0x1479ad(0x138))),state_manger_1=__importDefault(require(a68_0x1479ad(0x13b))),logger_1=__importDefault(require(a68_0x1479ad(0x125))),retrieve_cartridges_1=__importDefault(require(a68_0x1479ad(0x150))),deploy_cartridges_1=__importDefault(require(a68_0x1479ad(0x149))),run_script_1=__importDefault(require(a68_0x1479ad(0x133))),manifest_manager_1=__importDefault(require(a68_0x1479ad(0x10d))),salesforce_auth_1=__importDefault(require(a68_0x1479ad(0x131)));class Job{constructor(){const _0x1d3406=a68_0x1479ad,{jobId:_0x22ba47,jobStorePath:_0x4f140d}=(0x0,minimist_1[_0x1d3406(0x10a)])(process[_0x1d3406(0x12e)][_0x1d3406(0x146)](0x2));this['jobPath']=_0x4f140d,this[_0x1d3406(0x11e)]=_0x22ba47;}async['execute'](){const _0x3722fb=a68_0x1479ad;this[_0x3722fb(0x107)]=new core_1[(_0x3722fb(0x12d))](this['jobId']),this[_0x3722fb(0x135)]=new logger_1[(_0x3722fb(0x10a))](this[_0x3722fb(0x11e)],this[_0x3722fb(0x107)]);const _0x46c4d1=await new state_manger_1['default'](this[_0x3722fb(0x121)])['init'](),_0x5cd158=path_1['default']['join'](this[_0x3722fb(0x121)],'cartridges',constants_1[_0x3722fb(0x126)]);await this[_0x3722fb(0x135)][_0x3722fb(0x154)](_0x3722fb(0x116));try{await _0x46c4d1['setInProgress'](),this[_0x3722fb(0x108)]=await this[_0x3722fb(0x14d)](),this[_0x3722fb(0x119)]=this['getFlosumNamespace'](),await this[_0x3722fb(0x111)](),await this[_0x3722fb(0x145)](),await utils_1[_0x3722fb(0x134)][_0x3722fb(0x10b)](_0x5cd158)?await this['runScript']():await this[_0x3722fb(0x132)](),await _0x46c4d1['setCompleted'](),await this['logger'][_0x3722fb(0x154)](_0x3722fb(0x153));}catch(_0xc36ab4){await _0x46c4d1[_0x3722fb(0x148)](_0xc36ab4),await this['logger'][_0x3722fb(0x120)](_0xc36ab4[_0x3722fb(0x10e)]),await this[_0x3722fb(0x135)]['error'](_0x3722fb(0x112));}}async[a68_0x1479ad(0x111)](){const _0x266cb2=a68_0x1479ad,{credentials:_0x5c3c4f,apiVersion:_0x108975,branchId:_0x533245,codeVersion:_0x4bd744,isCompileCartridges:_0xd368a1,isActivateCodeVersion:_0x40245d,variables:_0x59cd9d}=await new manifest_manager_1[(_0x266cb2(0x10a))](this[_0x266cb2(0x121)])[_0x266cb2(0x11f)]();this['credentials']=_0x5c3c4f,this['apiVersion']=_0x108975,this[_0x266cb2(0x115)]=_0x533245,this['codeVersion']=_0x4bd744,this[_0x266cb2(0x106)]=_0xd368a1,this[_0x266cb2(0x12a)]=_0x40245d,this['variables']=_0x59cd9d;}async[a68_0x1479ad(0x14d)](){const _0xfa132b=a68_0x1479ad,_0x38f61c=await salesforce_auth_1[_0xfa132b(0x10a)][_0xfa132b(0x12f)]();return salesforce_1[_0xfa132b(0x13f)][_0xfa132b(0x137)](new auth_manager_1[(_0xfa132b(0x139))](_0x38f61c),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async['retrieveCartridges'](){const _0x15d675=a68_0x1479ad;await this[_0x15d675(0x135)][_0x15d675(0x154)](_0x15d675(0x113)[_0x15d675(0x109)](0x32,'=')),await new retrieve_cartridges_1[(_0x15d675(0x10a))](this[_0x15d675(0x121)],this['axiosInstance'],this[_0x15d675(0x130)],this[_0x15d675(0x119)],this[_0x15d675(0x115)],this[_0x15d675(0x14b)],this[_0x15d675(0x135)])['execute']();}async['runScript'](){const _0x1feebc=a68_0x1479ad;await this[_0x1feebc(0x135)]['log'](_0x1feebc(0x10f)['padEnd'](0x32,'=')),await new run_script_1[(_0x1feebc(0x10a))](this['jobPath'],this['credentials'],this[_0x1feebc(0x12c)],this[_0x1feebc(0x106)],this[_0x1feebc(0x12a)],this[_0x1feebc(0x107)],this[_0x1feebc(0x135)])[_0x1feebc(0x14f)]();}async[a68_0x1479ad(0x132)](){const _0x59e6e9=a68_0x1479ad;await this[_0x59e6e9(0x135)]['log'](_0x59e6e9(0x142)[_0x59e6e9(0x109)](0x32,'=')),await new deploy_cartridges_1[(_0x59e6e9(0x10a))](this[_0x59e6e9(0x121)],this[_0x59e6e9(0x11b)],this['codeVersion'],this[_0x59e6e9(0x12a)],this['logger'])[_0x59e6e9(0x14f)]();}[a68_0x1479ad(0x151)](){const _0x279ec6=a68_0x1479ad;var _0x1288e8,_0x397a00;return((_0x397a00=(_0x1288e8=process['env'])===null||_0x1288e8===void 0x0?void 0x0:_0x1288e8[_0x279ec6(0x14e)])===null||_0x397a00===void 0x0?void 0x0:_0x397a00[_0x279ec6(0x11d)]())===_0x279ec6(0x144)?'':constants_1[_0x279ec6(0x14a)];}}exports[a68_0x1479ad(0x110)]=Job,new Job()[a68_0x1479ad(0x14f)]()[a68_0x1479ad(0x13a)](()=>process['exit'](0x0))[a68_0x1479ad(0x124)](()=>process[a68_0x1479ad(0x117)](0x1));