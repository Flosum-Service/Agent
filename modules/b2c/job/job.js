const a68_0x4cc1a2=a68_0x1bd1;(function(_0x41850c,_0x403a58){const _0x5e66b5=a68_0x1bd1,_0x7b6412=_0x41850c();while(!![]){try{const _0x163699=-parseInt(_0x5e66b5(0x163))/0x1*(parseInt(_0x5e66b5(0x127))/0x2)+parseInt(_0x5e66b5(0x15d))/0x3*(parseInt(_0x5e66b5(0x144))/0x4)+-parseInt(_0x5e66b5(0x14d))/0x5*(parseInt(_0x5e66b5(0x167))/0x6)+parseInt(_0x5e66b5(0x130))/0x7*(parseInt(_0x5e66b5(0x125))/0x8)+-parseInt(_0x5e66b5(0x124))/0x9+parseInt(_0x5e66b5(0x14b))/0xa+parseInt(_0x5e66b5(0x128))/0xb;if(_0x163699===_0x403a58)break;else _0x7b6412['push'](_0x7b6412['shift']());}catch(_0x36ff7e){_0x7b6412['push'](_0x7b6412['shift']());}}}(a68_0xb4c7,0x8c36c));const a68_0x5d0c23=(function(){let _0x35aa22=!![];return function(_0x3ac52b,_0x310fbf){const _0x22c1ec=_0x35aa22?function(){const _0x1163c3=a68_0x1bd1;if(_0x310fbf){const _0xb8d93e=_0x310fbf[_0x1163c3(0x13d)](_0x3ac52b,arguments);return _0x310fbf=null,_0xb8d93e;}}:function(){};return _0x35aa22=![],_0x22c1ec;};}()),a68_0x56ff39=a68_0x5d0c23(this,function(){const _0x3f26a1=a68_0x1bd1;return a68_0x56ff39[_0x3f26a1(0x13b)]()[_0x3f26a1(0x154)]('(((.+)+)+)+$')[_0x3f26a1(0x13b)]()[_0x3f26a1(0x13c)](a68_0x56ff39)[_0x3f26a1(0x154)](_0x3f26a1(0x141));});a68_0x56ff39();function a68_0xb4c7(){const _0x846915=['variables','branchId','FLOSUM_SCRIPT_PATH','true','@flosum/utils','../constants','minimist','AxiosInstanceUtils','toString','constructor','apply','logger','env','getFlosumNamespace','(((.+)+)+)+$','./classes/manifest-manager','AuthManager','8ihReJQ','systemLogger','./classes/run-script','./classes/salesforce-auth','argv','default','FsUtils','6496590QCBEDz','../../shared/managers/auth.manager','2606290XEQsey','runScript','======\x20Deploy\x20cartridges\x20','cartridges','catch','setInProgress','IGNORE_FLOSUM_NAMESPACE','search','Job\x20has\x20been\x20completed.','axiosInstance','isCompileCartridges','isActivateCodeVersion','path','padEnd','join','toLowerCase','1142322MnjLkB','Job','./classes/logger','./classes/deploy-cartridges','getAxiosInstance','__esModule','239MrzcMX','getAuthDetails','credentials','namespace','6Zlkxbn','jobId','./classes/retrieve-cartridges','deployCartridges','======\x20Retrieve\x20cartridges\x20','codeVersion','error','apiVersion','@flosum/salesforce','create','7311753pOryvH','13712yjNVQT','jobPath','3466qZjiYd','6890917JwKfiE','log','../../shared/managers/state-manger','then','FLOSUM_NAMESPACE','message','defineProperty','getManifestParameters','1162aYArTI','execute','exit'];a68_0xb4c7=function(){return _0x846915;};return a68_0xb4c7();}'use strict';function a68_0x1bd1(_0xb43dc4,_0x24c2c4){const _0x3983c8=a68_0xb4c7();return a68_0x1bd1=function(_0x56ff39,_0x5d0c23){_0x56ff39=_0x56ff39-0x123;let _0xb4c7c0=_0x3983c8[_0x56ff39];return _0xb4c7c0;},a68_0x1bd1(_0xb43dc4,_0x24c2c4);}var __importDefault=this&&this['__importDefault']||function(_0x4219a8){const _0x2e99c3=a68_0x1bd1;return _0x4219a8&&_0x4219a8[_0x2e99c3(0x162)]?_0x4219a8:{'default':_0x4219a8};};Object[a68_0x4cc1a2(0x12e)](exports,a68_0x4cc1a2(0x162),{'value':!![]}),exports[a68_0x4cc1a2(0x15e)]=void 0x0;const core_1=require('../../../core'),salesforce_1=require(a68_0x4cc1a2(0x16f)),auth_manager_1=require(a68_0x4cc1a2(0x14c)),constants_1=require(a68_0x4cc1a2(0x138)),utils_1=require(a68_0x4cc1a2(0x137)),minimist_1=__importDefault(require(a68_0x4cc1a2(0x139))),path_1=__importDefault(require(a68_0x4cc1a2(0x159))),state_manger_1=__importDefault(require(a68_0x4cc1a2(0x12a))),logger_1=__importDefault(require(a68_0x4cc1a2(0x15f))),retrieve_cartridges_1=__importDefault(require(a68_0x4cc1a2(0x169))),deploy_cartridges_1=__importDefault(require(a68_0x4cc1a2(0x160))),run_script_1=__importDefault(require(a68_0x4cc1a2(0x146))),manifest_manager_1=__importDefault(require(a68_0x4cc1a2(0x142))),salesforce_auth_1=__importDefault(require(a68_0x4cc1a2(0x147)));class Job{constructor(){const _0x1cc54b=a68_0x4cc1a2,{jobId:_0x261020,jobStorePath:_0x32fe79}=(0x0,minimist_1['default'])(process[_0x1cc54b(0x148)]['slice'](0x2));this[_0x1cc54b(0x126)]=_0x32fe79,this[_0x1cc54b(0x168)]=_0x261020;}async[a68_0x4cc1a2(0x131)](){const _0x5dd039=a68_0x4cc1a2;this[_0x5dd039(0x145)]=new core_1['Logger'](this[_0x5dd039(0x168)]),this['logger']=new logger_1[(_0x5dd039(0x149))](this[_0x5dd039(0x168)],this[_0x5dd039(0x145)]);const _0x5b7285=await new state_manger_1['default'](this[_0x5dd039(0x126)])['init'](),_0x5ea327=path_1[_0x5dd039(0x149)][_0x5dd039(0x15b)](this[_0x5dd039(0x126)],_0x5dd039(0x150),constants_1[_0x5dd039(0x135)]);await this[_0x5dd039(0x13e)][_0x5dd039(0x129)]('Job\x20has\x20been\x20started.');try{await _0x5b7285[_0x5dd039(0x152)](),this['axiosInstance']=await this['getAxiosInstance'](),this[_0x5dd039(0x166)]=this['getFlosumNamespace'](),await this[_0x5dd039(0x12f)](),await this['retrieveCartridges'](),await utils_1[_0x5dd039(0x14a)]['isExistsPath'](_0x5ea327)?await this[_0x5dd039(0x14e)]():await this[_0x5dd039(0x16a)](),await _0x5b7285['setCompleted'](),await this[_0x5dd039(0x13e)]['log'](_0x5dd039(0x155));}catch(_0x2585ed){await _0x5b7285['setError'](_0x2585ed),await this[_0x5dd039(0x13e)][_0x5dd039(0x16d)](_0x2585ed[_0x5dd039(0x12d)]),await this[_0x5dd039(0x13e)][_0x5dd039(0x16d)]('Job\x20has\x20been\x20failed.');}}async[a68_0x4cc1a2(0x12f)](){const _0x214392=a68_0x4cc1a2,{credentials:_0x958b9e,apiVersion:_0x4076a4,branchId:_0x57c722,codeVersion:_0x5dbad6,isCompileCartridges:_0x5ecf4a,isActivateCodeVersion:_0x455d6a,variables:_0x261c86}=await new manifest_manager_1['default'](this[_0x214392(0x126)])['init']();this[_0x214392(0x165)]=_0x958b9e,this[_0x214392(0x16e)]=_0x4076a4,this[_0x214392(0x134)]=_0x57c722,this['codeVersion']=_0x5dbad6,this[_0x214392(0x157)]=_0x5ecf4a,this[_0x214392(0x158)]=_0x455d6a,this[_0x214392(0x133)]=_0x261c86;}async[a68_0x4cc1a2(0x161)](){const _0x3354e3=a68_0x4cc1a2,_0xe8a42d=await salesforce_auth_1['default'][_0x3354e3(0x164)]();return salesforce_1[_0x3354e3(0x13a)][_0x3354e3(0x123)](new auth_manager_1[(_0x3354e3(0x143))](_0xe8a42d),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async['retrieveCartridges'](){const _0x49d62d=a68_0x4cc1a2;await this[_0x49d62d(0x13e)][_0x49d62d(0x129)](_0x49d62d(0x16b)[_0x49d62d(0x15a)](0x32,'=')),await new retrieve_cartridges_1['default'](this[_0x49d62d(0x126)],this[_0x49d62d(0x156)],this[_0x49d62d(0x16e)],this[_0x49d62d(0x166)],this[_0x49d62d(0x134)],this['variables'],this[_0x49d62d(0x13e)])[_0x49d62d(0x131)]();}async['runScript'](){const _0x313a90=a68_0x4cc1a2;await this[_0x313a90(0x13e)][_0x313a90(0x129)]('======\x20Run\x20script\x20'['padEnd'](0x32,'=')),await new run_script_1['default'](this[_0x313a90(0x126)],this[_0x313a90(0x165)],this[_0x313a90(0x16c)],this[_0x313a90(0x157)],this['isActivateCodeVersion'],this['systemLogger'],this[_0x313a90(0x13e)])[_0x313a90(0x131)]();}async[a68_0x4cc1a2(0x16a)](){const _0x1116c9=a68_0x4cc1a2;await this[_0x1116c9(0x13e)][_0x1116c9(0x129)](_0x1116c9(0x14f)['padEnd'](0x32,'=')),await new deploy_cartridges_1[(_0x1116c9(0x149))](this[_0x1116c9(0x126)],this[_0x1116c9(0x165)],this[_0x1116c9(0x16c)],this['isActivateCodeVersion'],this[_0x1116c9(0x13e)])[_0x1116c9(0x131)]();}[a68_0x4cc1a2(0x140)](){const _0x492965=a68_0x4cc1a2;var _0x5e3f75,_0xbfd071;return((_0xbfd071=(_0x5e3f75=process[_0x492965(0x13f)])===null||_0x5e3f75===void 0x0?void 0x0:_0x5e3f75[_0x492965(0x153)])===null||_0xbfd071===void 0x0?void 0x0:_0xbfd071[_0x492965(0x15c)]())===_0x492965(0x136)?'':constants_1[_0x492965(0x12c)];}}exports[a68_0x4cc1a2(0x15e)]=Job,new Job()[a68_0x4cc1a2(0x131)]()[a68_0x4cc1a2(0x12b)](()=>process[a68_0x4cc1a2(0x132)](0x0))[a68_0x4cc1a2(0x151)](()=>process[a68_0x4cc1a2(0x132)](0x1));