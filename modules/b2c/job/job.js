function a67_0x53e8(){const _0x53164c=['some','env','constructor','search','setCompleted','jobId','argv','slice','======\x20Retrieve\x20cartridges\x20','then','@flosum/salesforce','./classes/deploy-cartridges','543000ZdaEgf','3225616oklkAK','485325sgMeFO','6RuotPu','5qXbgbN','error','__esModule','./classes/retrieve-sfra','compile','apply','765coeMDN','toString','(((.+)+)+)+$','init','./classes/compile-cartridges','./classes/salesforce-auth','./classes/logger','134uFsFdj','======\x20Deploy\x20cartridges\x20','AxiosInstanceUtils','Job','1850492ysRdfg','../../../core','log','__importDefault','B2C\x20job\x20has\x20been\x20completed.','setInProgress','IGNORE_FLOSUM_NAMESPACE','true','../constants','../../shared/managers/auth.manager','padEnd','======\x20Compile\x20cartridges\x20','jobPath','setError','FLOSUM_NAMESPACE','643372GDrKMO','default','message','execute','Logger','catch','======\x20Retrieve\x20default\x20SFRA\x20','create','exit','B2C\x20job\x20has\x20been\x20failed.','./classes/manifest-manager','91584ekUKBH','toLowerCase'];a67_0x53e8=function(){return _0x53164c;};return a67_0x53e8();}const a67_0x543263=a67_0x28aa;function a67_0x28aa(_0x2913e5,_0x58bfa1){const _0x3c54be=a67_0x53e8();return a67_0x28aa=function(_0x5a7051,_0x4e3cc4){_0x5a7051=_0x5a7051-0x118;let _0x53e81d=_0x3c54be[_0x5a7051];return _0x53e81d;},a67_0x28aa(_0x2913e5,_0x58bfa1);}(function(_0x31233d,_0x5b528e){const _0x41e944=a67_0x28aa,_0x10ebaa=_0x31233d();while(!![]){try{const _0x5f3686=parseInt(_0x41e944(0x14a))/0x1+parseInt(_0x41e944(0x12c))/0x2*(-parseInt(_0x41e944(0x125))/0x3)+-parseInt(_0x41e944(0x13f))/0x4*(-parseInt(_0x41e944(0x11f))/0x5)+-parseInt(_0x41e944(0x11e))/0x6*(-parseInt(_0x41e944(0x130))/0x7)+-parseInt(_0x41e944(0x11c))/0x8+parseInt(_0x41e944(0x11d))/0x9+parseInt(_0x41e944(0x11b))/0xa;if(_0x5f3686===_0x5b528e)break;else _0x10ebaa['push'](_0x10ebaa['shift']());}catch(_0x392bb8){_0x10ebaa['push'](_0x10ebaa['shift']());}}}(a67_0x53e8,0x31fb1));const a67_0x4e3cc4=(function(){let _0x1627f4=!![];return function(_0x164c74,_0x171028){const _0x45b706=_0x1627f4?function(){const _0x17e47a=a67_0x28aa;if(_0x171028){const _0x449d29=_0x171028[_0x17e47a(0x124)](_0x164c74,arguments);return _0x171028=null,_0x449d29;}}:function(){};return _0x1627f4=![],_0x45b706;};}()),a67_0x5a7051=a67_0x4e3cc4(this,function(){const _0x48d64f=a67_0x28aa;return a67_0x5a7051[_0x48d64f(0x126)]()[_0x48d64f(0x14f)]('(((.+)+)+)+$')[_0x48d64f(0x126)]()[_0x48d64f(0x14e)](a67_0x5a7051)['search'](_0x48d64f(0x127));});a67_0x5a7051();'use strict';var __importDefault=this&&this[a67_0x543263(0x133)]||function(_0x26dc13){const _0x372b4b=a67_0x543263;return _0x26dc13&&_0x26dc13[_0x372b4b(0x121)]?_0x26dc13:{'default':_0x26dc13};};Object['defineProperty'](exports,a67_0x543263(0x121),{'value':!![]}),exports[a67_0x543263(0x12f)]=void 0x0;const core_1=require(a67_0x543263(0x131)),salesforce_1=require(a67_0x543263(0x119)),auth_manager_1=require(a67_0x543263(0x139)),constants_1=require(a67_0x543263(0x138)),minimist_1=__importDefault(require('minimist')),state_manger_1=__importDefault(require('../../shared/managers/state-manger')),logger_1=__importDefault(require(a67_0x543263(0x12b))),retrieve_sfra_1=__importDefault(require(a67_0x543263(0x122))),retrieve_cartridges_1=__importDefault(require('./classes/retrieve-cartridges')),compile_cartridges_1=__importDefault(require(a67_0x543263(0x129))),deploy_cartridges_1=__importDefault(require(a67_0x543263(0x11a))),manifest_manager_1=__importDefault(require(a67_0x543263(0x149))),salesforce_auth_1=__importDefault(require(a67_0x543263(0x12a)));class Job{constructor(){const _0x136608=a67_0x543263,{jobId:_0x2c3539,jobStorePath:_0x152e98}=(0x0,minimist_1['default'])(process[_0x136608(0x152)][_0x136608(0x153)](0x2));this[_0x136608(0x13c)]=_0x152e98,this[_0x136608(0x151)]=_0x2c3539;}async['execute'](){const _0x457a04=a67_0x543263;var _0x2713b6,_0x5c3b01;const _0x49836a=new core_1[(_0x457a04(0x143))](this[_0x457a04(0x151)]),_0x531eef=new logger_1[(_0x457a04(0x140))](this[_0x457a04(0x151)],_0x49836a),_0x5931ab=await new state_manger_1[(_0x457a04(0x140))](this['jobPath'])['init']();await _0x531eef[_0x457a04(0x132)]('B2C\x20job\x20has\x20been\x20started.');try{await _0x5931ab[_0x457a04(0x135)]();const {credentials:_0x2be4cf,apiVersion:_0xb816fd,branchId:_0x322622,cartridges:_0x2211fd,createCodeVersion:_0x1548a1,activateCodeVersion:_0x5952aa}=await new manifest_manager_1[(_0x457a04(0x140))](this[_0x457a04(0x13c)])[_0x457a04(0x128)](),_0xd53f2e=await salesforce_auth_1['default']['getAuthDetails'](),_0x329313=await salesforce_1[_0x457a04(0x12e)][_0x457a04(0x146)](new auth_manager_1['AuthManager'](_0xd53f2e),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity}),_0x589935=((_0x5c3b01=(_0x2713b6=process[_0x457a04(0x14d)])===null||_0x2713b6===void 0x0?void 0x0:_0x2713b6[_0x457a04(0x136)])===null||_0x5c3b01===void 0x0?void 0x0:_0x5c3b01[_0x457a04(0x14b)]())===_0x457a04(0x137)?'':constants_1[_0x457a04(0x13e)];await _0x531eef[_0x457a04(0x132)](_0x457a04(0x145)[_0x457a04(0x13a)](0x32,'=')),await new retrieve_sfra_1['default'](this[_0x457a04(0x13c)],_0x329313,_0xb816fd,_0x531eef)[_0x457a04(0x142)](),await _0x531eef['log'](_0x457a04(0x154)[_0x457a04(0x13a)](0x32,'=')),await new retrieve_cartridges_1[(_0x457a04(0x140))](this[_0x457a04(0x13c)],_0x329313,_0xb816fd,_0x589935,_0x322622,_0x2211fd,_0x531eef)[_0x457a04(0x142)]();const _0x85d53c=_0x2211fd[_0x457a04(0x14c)](_0x36ed26=>_0x36ed26===null||_0x36ed26===void 0x0?void 0x0:_0x36ed26[_0x457a04(0x123)]);_0x85d53c&&(await _0x531eef[_0x457a04(0x132)](_0x457a04(0x13b)['padEnd'](0x32,'=')),await new compile_cartridges_1[(_0x457a04(0x140))](this[_0x457a04(0x13c)],_0x2211fd,_0x531eef)['execute']()),await _0x531eef[_0x457a04(0x132)](_0x457a04(0x12d)[_0x457a04(0x13a)](0x32,'=')),await new deploy_cartridges_1[(_0x457a04(0x140))](this[_0x457a04(0x13c)],_0x2be4cf,_0x2211fd,_0x1548a1,_0x5952aa,_0x531eef)['execute'](),await _0x5931ab[_0x457a04(0x150)](),await _0x531eef[_0x457a04(0x132)](_0x457a04(0x134));}catch(_0x355349){await _0x5931ab[_0x457a04(0x13d)](_0x355349),await _0x531eef[_0x457a04(0x120)](_0x355349[_0x457a04(0x141)]),await _0x531eef['error'](_0x457a04(0x148));}}}exports[a67_0x543263(0x12f)]=Job,new Job()[a67_0x543263(0x142)]()[a67_0x543263(0x118)](()=>process[a67_0x543263(0x147)](0x0))[a67_0x543263(0x144)](()=>process[a67_0x543263(0x147)](0x1));