const a69_0x306951=a69_0xe1cd;(function(_0x5b4f07,_0x5c1efc){const _0x5740e2=a69_0xe1cd,_0x2922f5=_0x5b4f07();while(!![]){try{const _0x1b6f61=parseInt(_0x5740e2(0x174))/0x1*(parseInt(_0x5740e2(0x17e))/0x2)+parseInt(_0x5740e2(0x178))/0x3*(-parseInt(_0x5740e2(0x165))/0x4)+parseInt(_0x5740e2(0x18c))/0x5+parseInt(_0x5740e2(0x148))/0x6*(parseInt(_0x5740e2(0x17b))/0x7)+-parseInt(_0x5740e2(0x187))/0x8*(-parseInt(_0x5740e2(0x147))/0x9)+-parseInt(_0x5740e2(0x14f))/0xa*(-parseInt(_0x5740e2(0x17f))/0xb)+-parseInt(_0x5740e2(0x171))/0xc;if(_0x1b6f61===_0x5c1efc)break;else _0x2922f5['push'](_0x2922f5['shift']());}catch(_0x1c5499){_0x2922f5['push'](_0x2922f5['shift']());}}}(a69_0x1665,0x99f90));const a69_0x597dfb=(function(){let _0x5e7590=!![];return function(_0x1bd04a,_0x261c12){const _0x865b2c=_0x5e7590?function(){const _0x3b2b70=a69_0xe1cd;if(_0x261c12){const _0x5ea630=_0x261c12[_0x3b2b70(0x162)](_0x1bd04a,arguments);return _0x261c12=null,_0x5ea630;}}:function(){};return _0x5e7590=![],_0x865b2c;};}()),a69_0x439e42=a69_0x597dfb(this,function(){const _0x556f77=a69_0xe1cd;return a69_0x439e42[_0x556f77(0x18d)]()['search'](_0x556f77(0x14c))[_0x556f77(0x18d)]()[_0x556f77(0x167)](a69_0x439e42)['search'](_0x556f77(0x14c));});a69_0x439e42();'use strict';var __importDefault=this&&this[a69_0x306951(0x172)]||function(_0xd5553e){const _0x21a88e=a69_0x306951;return _0xd5553e&&_0xd5553e[_0x21a88e(0x190)]?_0xd5553e:{'default':_0xd5553e};};Object[a69_0x306951(0x188)](exports,a69_0x306951(0x190),{'value':!![]}),exports[a69_0x306951(0x16d)]=void 0x0;function a69_0xe1cd(_0x1ebba6,_0x2fb44f){const _0x118d44=a69_0x1665();return a69_0xe1cd=function(_0x439e42,_0x597dfb){_0x439e42=_0x439e42-0x140;let _0x16651f=_0x118d44[_0x439e42];return _0x16651f;},a69_0xe1cd(_0x1ebba6,_0x2fb44f);}const core_1=require('../../../core'),salesforce_1=require(a69_0x306951(0x146)),auth_manager_1=require(a69_0x306951(0x186)),constants_1=require(a69_0x306951(0x141)),utils_1=require(a69_0x306951(0x142)),minimist_1=__importDefault(require('minimist')),path_1=__importDefault(require(a69_0x306951(0x164))),state_manger_1=__importDefault(require(a69_0x306951(0x184))),logger_1=__importDefault(require(a69_0x306951(0x169))),retrieve_cartridges_1=__importDefault(require(a69_0x306951(0x176))),deploy_cartridges_1=__importDefault(require(a69_0x306951(0x15a))),run_script_1=__importDefault(require(a69_0x306951(0x18b))),run_lint_1=__importDefault(require(a69_0x306951(0x145))),manifest_manager_1=__importDefault(require(a69_0x306951(0x16c))),salesforce_auth_1=__importDefault(require(a69_0x306951(0x17a)));function a69_0x1665(){const _0x317127=['AxiosInstanceUtils','cartridges','retrieveCartridges','./classes/deploy-cartridges','getManifestParameters','catch','======\x20Run\x20Lint\x20','runLint','======\x20Deploy\x20Cartridge\x20Files\x20','Job\x20has\x20been\x20completed.','IGNORE_FLOSUM_NAMESPACE','apply','jobPath','path','119864QSpQxW','branchId','constructor','Job\x20has\x20been\x20started.','./classes/logger','error','credentials','./classes/manifest-manager','Job','true','variables','then','35750088uBqKzn','__importDefault','runScript','30696pkFBrn','======\x20Retrieve\x20Cartridge\x20Files\x20','./classes/retrieve-cartridges','isLintValidate','15NESMzN','message','./classes/salesforce-auth','2534rtEopT','logger','isCompileCartridges','12EfuueT','3620375UDWgjo','execute','init','codeVersion','setError','../../shared/managers/state-manger','isUseCertificate','../../shared/managers/auth.manager','103752VvhEPy','defineProperty','AuthManager','systemLogger','./classes/run-script','4301215Cbrggt','toString','setInProgress','======\x20Run\x20Script\x20','__esModule','metadataLogId','../constants','@flosum/utils','jobId','getAuthDetails','./classes/run-lint','@flosum/salesforce','603ZyDtFU','19692BjaQGG','getFlosumNamespace','padEnd','apiVersion','(((.+)+)+)+$','getAxiosInstance','log','20VwlbTA','default','FsUtils','isActivateCodeVersion','argv','isExistsPath','FLOSUM_SCRIPT_PATH','deployCartridges'];a69_0x1665=function(){return _0x317127;};return a69_0x1665();}class Job{constructor(){const _0x5d126b=a69_0x306951,{jobId:_0x306776,jobStorePath:_0x32d3c3}=(0x0,minimist_1[_0x5d126b(0x150)])(process[_0x5d126b(0x153)]['slice'](0x2));this[_0x5d126b(0x163)]=_0x32d3c3,this['jobId']=_0x306776;}async[a69_0x306951(0x180)](){const _0x150185=a69_0x306951;this[_0x150185(0x18a)]=new core_1['Logger'](this[_0x150185(0x143)]),this[_0x150185(0x17c)]=new logger_1[(_0x150185(0x150))](this[_0x150185(0x143)],this[_0x150185(0x18a)]);const _0x26b5cf=await new state_manger_1[(_0x150185(0x150))](this[_0x150185(0x163)])['init'](),_0x43820c=path_1[_0x150185(0x150)]['join'](this['jobPath'],_0x150185(0x158),constants_1[_0x150185(0x155)]);await this['logger'][_0x150185(0x14e)](_0x150185(0x168));try{await _0x26b5cf[_0x150185(0x18e)](),this['axiosInstance']=await this[_0x150185(0x14d)](),this['namespace']=this[_0x150185(0x149)](),await this[_0x150185(0x15b)](),await this[_0x150185(0x159)](),!this[_0x150185(0x177)]?await utils_1[_0x150185(0x151)][_0x150185(0x154)](_0x43820c)?await this[_0x150185(0x173)]():await this[_0x150185(0x156)]():await this['runLint'](),await _0x26b5cf['setCompleted'](),await this[_0x150185(0x17c)][_0x150185(0x14e)](_0x150185(0x160));}catch(_0x7b8e63){await _0x26b5cf[_0x150185(0x183)](_0x7b8e63),await this[_0x150185(0x17c)][_0x150185(0x16a)](_0x7b8e63[_0x150185(0x179)]),await this[_0x150185(0x17c)][_0x150185(0x16a)]('Job\x20has\x20been\x20failed.');}}async['getManifestParameters'](){const _0x162545=a69_0x306951,{credentials:_0x3cc396,apiVersion:_0x32a89a,branchId:_0x4b2c5b,metadataLogId:_0x4d0b36,codeVersion:_0x18c9f1,isUseCertificate:_0x459219,isLintValidate:_0x18233d,isCompileCartridges:_0x2e8ed3,isActivateCodeVersion:_0x394022,variables:_0x45f35c}=await new manifest_manager_1[(_0x162545(0x150))](this[_0x162545(0x163)])[_0x162545(0x181)]();this[_0x162545(0x16b)]=_0x3cc396,this[_0x162545(0x14b)]=_0x32a89a,this[_0x162545(0x166)]=_0x4b2c5b,this[_0x162545(0x140)]=_0x4d0b36,this[_0x162545(0x182)]=_0x18c9f1,this[_0x162545(0x185)]=_0x459219,this[_0x162545(0x177)]=_0x18233d,this[_0x162545(0x17d)]=_0x2e8ed3,this[_0x162545(0x152)]=_0x394022,this['variables']=_0x45f35c;}async[a69_0x306951(0x14d)](){const _0x414c50=a69_0x306951,_0x4175d3=await salesforce_auth_1[_0x414c50(0x150)][_0x414c50(0x144)]();return salesforce_1[_0x414c50(0x157)]['create'](new auth_manager_1[(_0x414c50(0x189))](_0x4175d3),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async[a69_0x306951(0x159)](){const _0x254300=a69_0x306951;await this[_0x254300(0x17c)][_0x254300(0x14e)](_0x254300(0x175)['padEnd'](0x32,'=')),await new retrieve_cartridges_1[(_0x254300(0x150))](this[_0x254300(0x163)],this['axiosInstance'],this['apiVersion'],this['namespace'],this['branchId'],this[_0x254300(0x140)],this['logger'],this[_0x254300(0x18a)],this[_0x254300(0x16f)])['execute']();}async[a69_0x306951(0x173)](){const _0x3b0d1a=a69_0x306951;await this[_0x3b0d1a(0x17c)][_0x3b0d1a(0x14e)](_0x3b0d1a(0x18f)[_0x3b0d1a(0x14a)](0x32,'=')),await new run_script_1[(_0x3b0d1a(0x150))](this[_0x3b0d1a(0x163)],this['credentials'],this[_0x3b0d1a(0x182)],this[_0x3b0d1a(0x185)],this[_0x3b0d1a(0x17d)],this[_0x3b0d1a(0x152)],this['systemLogger'],this[_0x3b0d1a(0x17c)])[_0x3b0d1a(0x180)]();}async[a69_0x306951(0x15e)](){const _0x3fea32=a69_0x306951;await this['logger'][_0x3fea32(0x14e)](_0x3fea32(0x15d)['padEnd'](0x32,'=')),await new run_lint_1['default'](this[_0x3fea32(0x163)],this['systemLogger'],this['logger'])[_0x3fea32(0x180)]();}async[a69_0x306951(0x156)](){const _0x40603e=a69_0x306951;await this[_0x40603e(0x17c)][_0x40603e(0x14e)](_0x40603e(0x15f)[_0x40603e(0x14a)](0x32,'=')),await new deploy_cartridges_1[(_0x40603e(0x150))](this[_0x40603e(0x163)],this[_0x40603e(0x16b)],this[_0x40603e(0x182)],this[_0x40603e(0x152)],this[_0x40603e(0x17c)])[_0x40603e(0x180)]();}[a69_0x306951(0x149)](){const _0x5bda3b=a69_0x306951;var _0x27eb32,_0x3c2324;return((_0x3c2324=(_0x27eb32=process['env'])===null||_0x27eb32===void 0x0?void 0x0:_0x27eb32[_0x5bda3b(0x161)])===null||_0x3c2324===void 0x0?void 0x0:_0x3c2324['toLowerCase']())===_0x5bda3b(0x16e)?'':constants_1['FLOSUM_NAMESPACE'];}}exports[a69_0x306951(0x16d)]=Job,new Job()['execute']()[a69_0x306951(0x170)](()=>process['exit'](0x0))[a69_0x306951(0x15c)](()=>process['exit'](0x1));