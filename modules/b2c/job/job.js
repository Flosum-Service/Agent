const a68_0x55e83a=a68_0x45e7;(function(_0xcf38de,_0x1f0006){const _0x18dccf=a68_0x45e7,_0x30ef41=_0xcf38de();while(!![]){try{const _0x3492a6=-parseInt(_0x18dccf(0x19d))/0x1*(parseInt(_0x18dccf(0x1a3))/0x2)+parseInt(_0x18dccf(0x1b8))/0x3*(-parseInt(_0x18dccf(0x1a5))/0x4)+-parseInt(_0x18dccf(0x1d4))/0x5*(-parseInt(_0x18dccf(0x1a8))/0x6)+-parseInt(_0x18dccf(0x1ac))/0x7+-parseInt(_0x18dccf(0x19b))/0x8*(-parseInt(_0x18dccf(0x19c))/0x9)+-parseInt(_0x18dccf(0x1b5))/0xa*(-parseInt(_0x18dccf(0x1cc))/0xb)+parseInt(_0x18dccf(0x1b4))/0xc;if(_0x3492a6===_0x1f0006)break;else _0x30ef41['push'](_0x30ef41['shift']());}catch(_0x293f56){_0x30ef41['push'](_0x30ef41['shift']());}}}(a68_0x2787,0x94e7e));const a68_0x261f56=(function(){let _0x44c2e3=!![];return function(_0x57a328,_0x3531a7){const _0x4bff7f=_0x44c2e3?function(){if(_0x3531a7){const _0x3d49a0=_0x3531a7['apply'](_0x57a328,arguments);return _0x3531a7=null,_0x3d49a0;}}:function(){};return _0x44c2e3=![],_0x4bff7f;};}()),a68_0x4cccb1=a68_0x261f56(this,function(){const _0x1b38c2=a68_0x45e7;return a68_0x4cccb1[_0x1b38c2(0x1bf)]()[_0x1b38c2(0x1ab)](_0x1b38c2(0x1b1))['toString']()[_0x1b38c2(0x1d0)](a68_0x4cccb1)[_0x1b38c2(0x1ab)]('(((.+)+)+)+$');});a68_0x4cccb1();function a68_0x2787(){const _0x59e7fa=['./classes/salesforce-auth','Job\x20has\x20been\x20completed.','toString','getAxiosInstance','Job\x20has\x20been\x20failed.','jobPath','FLOSUM_SCRIPT_PATH','jobId','IGNORE_FLOSUM_NAMESPACE','axiosInstance','deployCartridges','logger','AuthManager','systemLogger','../../shared/managers/state-manger','44NAnrGm','true','../../../core','../constants','constructor','./classes/logger','../../shared/managers/auth.manager','env','25AefMUM','credentials','catch','codeVersion','exit','getAuthDetails','execute','Job','getFlosumNamespace','setCompleted','@flosum/salesforce','variables','error','runScript','default','defineProperty','./classes/manifest-manager','./classes/run-script','FLOSUM_NAMESPACE','getManifestParameters','isCompileCartridges','branchId','5188456SZZDSA','9vrNYDp','1UeSCtT','then','======\x20Deploy\x20cartridges\x20','__importDefault','AxiosInstanceUtils','init','2341390NYFGCS','./classes/retrieve-cartridges','581356uSCIZr','join','minimist','784794UbqEkU','======\x20Retrieve\x20cartridges\x20','@flosum/utils','search','550816AQKwMN','retrieveCartridges','======\x20Run\x20script\x20','create','FsUtils','(((.+)+)+)+$','isActivateCodeVersion','apiVersion','2839824SRBQpd','1163590BZKWXu','padEnd','setError','3dlassV','Logger','namespace','log','__esModule'];a68_0x2787=function(){return _0x59e7fa;};return a68_0x2787();}function a68_0x45e7(_0x5bdb10,_0x581522){const _0x57f368=a68_0x2787();return a68_0x45e7=function(_0x4cccb1,_0x261f56){_0x4cccb1=_0x4cccb1-0x18c;let _0x2787a0=_0x57f368[_0x4cccb1];return _0x2787a0;},a68_0x45e7(_0x5bdb10,_0x581522);}'use strict';var __importDefault=this&&this[a68_0x55e83a(0x1a0)]||function(_0x1a8321){const _0x4ec3e2=a68_0x55e83a;return _0x1a8321&&_0x1a8321[_0x4ec3e2(0x1bc)]?_0x1a8321:{'default':_0x1a8321};};Object[a68_0x55e83a(0x194)](exports,'__esModule',{'value':!![]}),exports[a68_0x55e83a(0x18c)]=void 0x0;const core_1=require(a68_0x55e83a(0x1ce)),salesforce_1=require(a68_0x55e83a(0x18f)),auth_manager_1=require(a68_0x55e83a(0x1d2)),constants_1=require(a68_0x55e83a(0x1cf)),utils_1=require(a68_0x55e83a(0x1aa)),minimist_1=__importDefault(require(a68_0x55e83a(0x1a7))),path_1=__importDefault(require('path')),state_manger_1=__importDefault(require(a68_0x55e83a(0x1cb))),logger_1=__importDefault(require(a68_0x55e83a(0x1d1))),retrieve_cartridges_1=__importDefault(require(a68_0x55e83a(0x1a4))),deploy_cartridges_1=__importDefault(require('./classes/deploy-cartridges')),run_script_1=__importDefault(require(a68_0x55e83a(0x196))),manifest_manager_1=__importDefault(require(a68_0x55e83a(0x195))),salesforce_auth_1=__importDefault(require(a68_0x55e83a(0x1bd)));class Job{constructor(){const _0x1a9609=a68_0x55e83a,{jobId:_0x4e6eb3,jobStorePath:_0x169411}=(0x0,minimist_1[_0x1a9609(0x193)])(process['argv']['slice'](0x2));this[_0x1a9609(0x1c2)]=_0x169411,this[_0x1a9609(0x1c4)]=_0x4e6eb3;}async[a68_0x55e83a(0x1da)](){const _0x23ec85=a68_0x55e83a;this['systemLogger']=new core_1[(_0x23ec85(0x1b9))](this[_0x23ec85(0x1c4)]),this[_0x23ec85(0x1c8)]=new logger_1[(_0x23ec85(0x193))](this[_0x23ec85(0x1c4)],this['systemLogger']);const _0x534b65=await new state_manger_1[(_0x23ec85(0x193))](this[_0x23ec85(0x1c2)])[_0x23ec85(0x1a2)](),_0x56e00d=path_1[_0x23ec85(0x193)][_0x23ec85(0x1a6)](this['jobPath'],'cartridges',constants_1[_0x23ec85(0x1c3)]);await this[_0x23ec85(0x1c8)][_0x23ec85(0x1bb)]('Job\x20has\x20been\x20started.');try{await _0x534b65['setInProgress'](),this['axiosInstance']=await this[_0x23ec85(0x1c0)](),this[_0x23ec85(0x1ba)]=this[_0x23ec85(0x18d)](),await this[_0x23ec85(0x198)](),await this[_0x23ec85(0x1ad)](),await utils_1[_0x23ec85(0x1b0)]['isExistsPath'](_0x56e00d)?await this[_0x23ec85(0x192)]():await this[_0x23ec85(0x1c7)](),await _0x534b65[_0x23ec85(0x18e)](),await this['logger'][_0x23ec85(0x1bb)](_0x23ec85(0x1be));}catch(_0x20b39c){await _0x534b65[_0x23ec85(0x1b7)](_0x20b39c),await this[_0x23ec85(0x1c8)][_0x23ec85(0x191)](_0x20b39c['message']),await this[_0x23ec85(0x1c8)][_0x23ec85(0x191)](_0x23ec85(0x1c1));}}async[a68_0x55e83a(0x198)](){const _0x114dee=a68_0x55e83a,{credentials:_0xf4bed,apiVersion:_0x3962e0,branchId:_0x59efc2,codeVersion:_0x3c4a36,isCompileCartridges:_0x1f374f,isActivateCodeVersion:_0x596e5e,variables:_0x25ade5}=await new manifest_manager_1[(_0x114dee(0x193))](this[_0x114dee(0x1c2)])[_0x114dee(0x1a2)]();this[_0x114dee(0x1d5)]=_0xf4bed,this[_0x114dee(0x1b3)]=_0x3962e0,this['branchId']=_0x59efc2,this[_0x114dee(0x1d7)]=_0x3c4a36,this['isCompileCartridges']=_0x1f374f,this[_0x114dee(0x1b2)]=_0x596e5e,this[_0x114dee(0x190)]=_0x25ade5;}async[a68_0x55e83a(0x1c0)](){const _0x230d4f=a68_0x55e83a,_0x3be452=await salesforce_auth_1['default'][_0x230d4f(0x1d9)]();return salesforce_1[_0x230d4f(0x1a1)][_0x230d4f(0x1af)](new auth_manager_1[(_0x230d4f(0x1c9))](_0x3be452),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async[a68_0x55e83a(0x1ad)](){const _0x1095d5=a68_0x55e83a;await this[_0x1095d5(0x1c8)]['log'](_0x1095d5(0x1a9)[_0x1095d5(0x1b6)](0x32,'=')),await new retrieve_cartridges_1[(_0x1095d5(0x193))](this[_0x1095d5(0x1c2)],this[_0x1095d5(0x1c6)],this[_0x1095d5(0x1b3)],this[_0x1095d5(0x1ba)],this[_0x1095d5(0x19a)],this[_0x1095d5(0x190)],this[_0x1095d5(0x1c8)])[_0x1095d5(0x1da)]();}async[a68_0x55e83a(0x192)](){const _0xc2be28=a68_0x55e83a;await this[_0xc2be28(0x1c8)][_0xc2be28(0x1bb)](_0xc2be28(0x1ae)[_0xc2be28(0x1b6)](0x32,'=')),await new run_script_1[(_0xc2be28(0x193))](this[_0xc2be28(0x1c2)],this[_0xc2be28(0x1d5)],this[_0xc2be28(0x1d7)],this[_0xc2be28(0x199)],this['isActivateCodeVersion'],this[_0xc2be28(0x1ca)],this[_0xc2be28(0x1c8)])[_0xc2be28(0x1da)]();}async['deployCartridges'](){const _0x86a10a=a68_0x55e83a;await this[_0x86a10a(0x1c8)][_0x86a10a(0x1bb)](_0x86a10a(0x19f)[_0x86a10a(0x1b6)](0x32,'=')),await new deploy_cartridges_1['default'](this[_0x86a10a(0x1c2)],this[_0x86a10a(0x1d5)],this[_0x86a10a(0x1d7)],this[_0x86a10a(0x1b2)],this[_0x86a10a(0x1c8)])[_0x86a10a(0x1da)]();}['getFlosumNamespace'](){const _0x59a5d7=a68_0x55e83a;var _0x15bb58,_0x15851f;return((_0x15851f=(_0x15bb58=process[_0x59a5d7(0x1d3)])===null||_0x15bb58===void 0x0?void 0x0:_0x15bb58[_0x59a5d7(0x1c5)])===null||_0x15851f===void 0x0?void 0x0:_0x15851f['toLowerCase']())===_0x59a5d7(0x1cd)?'':constants_1[_0x59a5d7(0x197)];}}exports[a68_0x55e83a(0x18c)]=Job,new Job()[a68_0x55e83a(0x1da)]()[a68_0x55e83a(0x19e)](()=>process[a68_0x55e83a(0x1d8)](0x0))[a68_0x55e83a(0x1d6)](()=>process[a68_0x55e83a(0x1d8)](0x1));