const a80_0x22f114=a80_0x88ac;function a80_0x88ac(_0x453860,_0x415970){const _0x109ac1=a80_0x593a();return a80_0x88ac=function(_0x203f38,_0x36814f){_0x203f38=_0x203f38-0x12a;let _0x593adc=_0x109ac1[_0x203f38];return _0x593adc;},a80_0x88ac(_0x453860,_0x415970);}(function(_0x3129eb,_0x5d3010){const _0x5cd70d=a80_0x88ac,_0x442b6d=_0x3129eb();while(!![]){try{const _0xe32c79=parseInt(_0x5cd70d(0x143))/0x1+-parseInt(_0x5cd70d(0x131))/0x2*(parseInt(_0x5cd70d(0x13e))/0x3)+parseInt(_0x5cd70d(0x151))/0x4+parseInt(_0x5cd70d(0x13d))/0x5+parseInt(_0x5cd70d(0x130))/0x6*(parseInt(_0x5cd70d(0x150))/0x7)+parseInt(_0x5cd70d(0x13a))/0x8+-parseInt(_0x5cd70d(0x132))/0x9;if(_0xe32c79===_0x5d3010)break;else _0x442b6d['push'](_0x442b6d['shift']());}catch(_0x1f4c43){_0x442b6d['push'](_0x442b6d['shift']());}}}(a80_0x593a,0x95ac9));const a80_0x36814f=(function(){let _0x46bee5=!![];return function(_0x4a6cd8,_0x5573db){const _0x3e149a=_0x46bee5?function(){const _0x380fd9=a80_0x88ac;if(_0x5573db){const _0x206686=_0x5573db[_0x380fd9(0x137)](_0x4a6cd8,arguments);return _0x5573db=null,_0x206686;}}:function(){};return _0x46bee5=![],_0x3e149a;};}()),a80_0x203f38=a80_0x36814f(this,function(){const _0x3164c0=a80_0x88ac;return a80_0x203f38[_0x3164c0(0x14e)]()[_0x3164c0(0x14f)](_0x3164c0(0x12e))[_0x3164c0(0x14e)]()['constructor'](a80_0x203f38)['search'](_0x3164c0(0x12e));});a80_0x203f38();'use strict';var __importDefault=this&&this[a80_0x22f114(0x136)]||function(_0x30d9d8){const _0x5601a8=a80_0x22f114;return _0x30d9d8&&_0x30d9d8[_0x5601a8(0x141)]?_0x30d9d8:{'default':_0x30d9d8};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a80_0x22f114(0x146)]=void 0x0;function a80_0x593a(){const _0x45d2cc=['33680079eBhZhR','BitbucketServerApiService','getAll','typedi','__importDefault','apply','get','put','9446424gxmxmQ','HookDto','create','5450750gUvzhz','75CVORlJ','GitHookService','BadRequestError','__esModule','post','1011435vpqEAh','createRequest','default','BitbucketServerHookService','getOne','NotFoundError','webhooks/','values','fromBitbucketServer','apiUrl','./git-hook.service','toString','search','14CmYGwX','3838476atWPaY','request','../dto/hook.dto','update','webhooks','(((.+)+)+)+$','delete','2397642EBKlou','54874CXDMTt'];a80_0x593a=function(){return _0x45d2cc;};return a80_0x593a();}const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a80_0x22f114(0x135))),bitbucket_server_api_service_1=require('../../git-api/services/bitbucket-server-api.service'),hook_dto_1=require(a80_0x22f114(0x12b)),git_hook_service_1=require(a80_0x22f114(0x14d));class BitbucketServerHookService extends git_hook_service_1[a80_0x22f114(0x13f)]{constructor(_0x7cf757){const _0x3d2085=a80_0x22f114;super(_0x7cf757),this[_0x3d2085(0x12a)]=this[_0x3d2085(0x144)]();}[a80_0x22f114(0x144)](){const _0x1a0c89=a80_0x22f114,_0x2a1f1b=typedi_1[_0x1a0c89(0x145)][_0x1a0c89(0x138)](bitbucket_server_api_service_1[_0x1a0c89(0x133)]);return _0x2a1f1b[_0x1a0c89(0x144)](this['repository'][_0x1a0c89(0x14c)]);}async[a80_0x22f114(0x13c)](_0x4f194d){const _0xed7517=a80_0x22f114;try{const _0x30bb32=await this[_0xed7517(0x12a)][_0xed7517(0x142)](_0xed7517(0x12d),_0x4f194d);return hook_dto_1['HookDto'][_0xed7517(0x14b)](_0x30bb32);}catch(_0x313895){throw new bad_request_error_1[(_0xed7517(0x140))](_0x313895);}}async[a80_0x22f114(0x147)](_0x36ffb3){const _0x149b1e=a80_0x22f114;try{const _0x3f144b=await this[_0x149b1e(0x12a)]['get'](_0x149b1e(0x149)+_0x36ffb3);return hook_dto_1[_0x149b1e(0x13b)]['fromBitbucketServer'](_0x3f144b);}catch(_0x1c15e5){throw new not_found_error_1['NotFoundError'](_0x1c15e5);}}async[a80_0x22f114(0x134)](){const _0x80e183=a80_0x22f114;try{const _0x429b1f=await this[_0x80e183(0x12a)][_0x80e183(0x138)]('webhooks');return _0x429b1f[_0x80e183(0x14a)]['map'](_0x10138c=>hook_dto_1[_0x80e183(0x13b)][_0x80e183(0x14b)](_0x10138c));}catch(_0x24b770){throw new not_found_error_1['NotFoundError'](_0x24b770);}}async[a80_0x22f114(0x12c)](_0x226eac,_0x5764ad){const _0x2a6c90=a80_0x22f114;try{const _0x50d767=await this[_0x2a6c90(0x12a)][_0x2a6c90(0x139)](_0x2a6c90(0x149)+_0x226eac,_0x5764ad);return hook_dto_1[_0x2a6c90(0x13b)][_0x2a6c90(0x14b)](_0x50d767);}catch(_0xfa7ef){throw new not_found_error_1['NotFoundError'](_0xfa7ef);}}async[a80_0x22f114(0x12f)](_0x4f841a){const _0x180dad=a80_0x22f114;try{await this[_0x180dad(0x12a)][_0x180dad(0x12f)](_0x180dad(0x149)+_0x4f841a);}catch(_0x32a2df){throw new not_found_error_1[(_0x180dad(0x148))](_0x32a2df);}}}exports['BitbucketServerHookService']=BitbucketServerHookService;