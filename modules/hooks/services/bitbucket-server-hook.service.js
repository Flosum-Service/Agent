const a79_0x50b2ef=a79_0x4acc;(function(_0xc87f7,_0x811fe9){const _0xb5bd6e=a79_0x4acc,_0x1b3daa=_0xc87f7();while(!![]){try{const _0x5a8c03=parseInt(_0xb5bd6e(0x162))/0x1+parseInt(_0xb5bd6e(0x171))/0x2+parseInt(_0xb5bd6e(0x161))/0x3*(parseInt(_0xb5bd6e(0x15a))/0x4)+parseInt(_0xb5bd6e(0x163))/0x5+-parseInt(_0xb5bd6e(0x159))/0x6+parseInt(_0xb5bd6e(0x16b))/0x7+-parseInt(_0xb5bd6e(0x167))/0x8;if(_0x5a8c03===_0x811fe9)break;else _0x1b3daa['push'](_0x1b3daa['shift']());}catch(_0x159250){_0x1b3daa['push'](_0x1b3daa['shift']());}}}(a79_0x5b8d,0x57a17));const a79_0x18f279=(function(){let _0x3ee37e=!![];return function(_0x2da534,_0x52062e){const _0x396743=_0x3ee37e?function(){const _0x43f794=a79_0x4acc;if(_0x52062e){const _0x51c762=_0x52062e[_0x43f794(0x15d)](_0x2da534,arguments);return _0x52062e=null,_0x51c762;}}:function(){};return _0x3ee37e=![],_0x396743;};}()),a79_0xf35ca3=a79_0x18f279(this,function(){const _0x24e192=a79_0x4acc;return a79_0xf35ca3[_0x24e192(0x178)]()[_0x24e192(0x174)](_0x24e192(0x15e))['toString']()['constructor'](a79_0xf35ca3)[_0x24e192(0x174)](_0x24e192(0x15e));});a79_0xf35ca3();'use strict';var __importDefault=this&&this[a79_0x50b2ef(0x15b)]||function(_0x59f3fd){return _0x59f3fd&&_0x59f3fd['__esModule']?_0x59f3fd:{'default':_0x59f3fd};};Object['defineProperty'](exports,a79_0x50b2ef(0x169),{'value':!![]}),exports['BitbucketServerHookService']=void 0x0;function a79_0x4acc(_0x50dd7a,_0x2832b3){const _0x24fd98=a79_0x5b8d();return a79_0x4acc=function(_0xf35ca3,_0x18f279){_0xf35ca3=_0xf35ca3-0x154;let _0x5b8d39=_0x24fd98[_0xf35ca3];return _0x5b8d39;},a79_0x4acc(_0x50dd7a,_0x2832b3);}const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require('typedi')),bitbucket_server_api_service_1=require(a79_0x50b2ef(0x175)),hook_dto_1=require(a79_0x50b2ef(0x158)),git_hook_service_1=require(a79_0x50b2ef(0x156));function a79_0x5b8d(){const _0x28a55c=['BadRequestError','put','webhooks','update','374004vfKCkb','request','GitHookService','search','../../git-api/services/bitbucket-server-api.service','fromBitbucketServer','createRequest','toString','create','getAll','./git-hook.service','post','../dto/hook.dto','4080612HLlQmL','4052NtIeOG','__importDefault','get','apply','(((.+)+)+)+$','delete','webhooks/','1941aOQfIN','403614BUXRFG','1305015KbHMSv','NotFoundError','values','HookDto','6653744ofVJeX','map','__esModule','default','2546075YTDnih','getOne'];a79_0x5b8d=function(){return _0x28a55c;};return a79_0x5b8d();}class BitbucketServerHookService extends git_hook_service_1[a79_0x50b2ef(0x173)]{constructor(_0x11517f){const _0x11d219=a79_0x50b2ef;super(_0x11517f),this[_0x11d219(0x172)]=this[_0x11d219(0x177)]();}['createRequest'](){const _0x169727=a79_0x50b2ef,_0x5e0c9d=typedi_1[_0x169727(0x16a)][_0x169727(0x15c)](bitbucket_server_api_service_1['BitbucketServerApiService']);return _0x5e0c9d[_0x169727(0x177)](this['repository']['apiUrl']);}async[a79_0x50b2ef(0x154)](_0x4032e7){const _0x161b0a=a79_0x50b2ef;try{const _0x307136=await this[_0x161b0a(0x172)][_0x161b0a(0x157)]('webhooks',_0x4032e7);return hook_dto_1[_0x161b0a(0x166)][_0x161b0a(0x176)](_0x307136);}catch(_0x1b8d63){throw new bad_request_error_1[(_0x161b0a(0x16d))](_0x1b8d63);}}async[a79_0x50b2ef(0x16c)](_0x49c195){const _0x175e03=a79_0x50b2ef;try{const _0x40d961=await this['request']['get'](_0x175e03(0x160)+_0x49c195);return hook_dto_1[_0x175e03(0x166)][_0x175e03(0x176)](_0x40d961);}catch(_0x14131f){throw new not_found_error_1['NotFoundError'](_0x14131f);}}async[a79_0x50b2ef(0x155)](){const _0x1e3e94=a79_0x50b2ef;try{const _0x23022a=await this[_0x1e3e94(0x172)][_0x1e3e94(0x15c)](_0x1e3e94(0x16f));return _0x23022a[_0x1e3e94(0x165)][_0x1e3e94(0x168)](_0x3ed946=>hook_dto_1['HookDto']['fromBitbucketServer'](_0x3ed946));}catch(_0x30d221){throw new not_found_error_1[(_0x1e3e94(0x164))](_0x30d221);}}async[a79_0x50b2ef(0x170)](_0x176067,_0x109ba8){const _0x13b713=a79_0x50b2ef;try{const _0x946446=await this[_0x13b713(0x172)][_0x13b713(0x16e)]('webhooks/'+_0x176067,_0x109ba8);return hook_dto_1[_0x13b713(0x166)]['fromBitbucketServer'](_0x946446);}catch(_0xcb68a5){throw new not_found_error_1[(_0x13b713(0x164))](_0xcb68a5);}}async[a79_0x50b2ef(0x15f)](_0x3c91e3){const _0x308cbe=a79_0x50b2ef;try{await this[_0x308cbe(0x172)][_0x308cbe(0x15f)](_0x308cbe(0x160)+_0x3c91e3);}catch(_0x561aeb){throw new not_found_error_1[(_0x308cbe(0x164))](_0x561aeb);}}}exports['BitbucketServerHookService']=BitbucketServerHookService;