function a80_0x2d48(){const _0x207077=['default','../../git-api/services/bitbucket-server-api.service','toString','repository','2330433qNUyHu','__esModule','HookDto','create','804016ycIgAl','3963012qdkMJS','__importDefault','BitbucketServerHookService','getOne','search','getAll','delete','7316236JHHnlC','update','GitHookService','NotFoundError','fromBitbucketServer','(((.+)+)+)+$','values','508203dPNUiK','webhooks/','constructor','BadRequestError','put','webhooks','post','4005291uuIhXy','../dto/hook.dto','createRequest','apply','5364065ZAlmnv','typedi','get','request'];a80_0x2d48=function(){return _0x207077;};return a80_0x2d48();}function a80_0xd45d(_0x3ac89f,_0x49cc64){const _0x33a0b8=a80_0x2d48();return a80_0xd45d=function(_0x1f7b7d,_0x19c28c){_0x1f7b7d=_0x1f7b7d-0xfb;let _0x2d480d=_0x33a0b8[_0x1f7b7d];return _0x2d480d;},a80_0xd45d(_0x3ac89f,_0x49cc64);}const a80_0x2fe092=a80_0xd45d;(function(_0xd1abd6,_0x46f177){const _0xf2267d=a80_0xd45d,_0x57a640=_0xd1abd6();while(!![]){try{const _0x220887=-parseInt(_0xf2267d(0x10f))/0x1+-parseInt(_0xf2267d(0x100))/0x2+-parseInt(_0xf2267d(0x116))/0x3+parseInt(_0xf2267d(0x108))/0x4+parseInt(_0xf2267d(0x11a))/0x5+parseInt(_0xf2267d(0x101))/0x6+-parseInt(_0xf2267d(0xfc))/0x7;if(_0x220887===_0x46f177)break;else _0x57a640['push'](_0x57a640['shift']());}catch(_0x3830bb){_0x57a640['push'](_0x57a640['shift']());}}}(a80_0x2d48,0xf0453));const a80_0x19c28c=(function(){let _0x2383db=!![];return function(_0x32b580,_0x172ceb){const _0x177557=_0x2383db?function(){const _0xac8c17=a80_0xd45d;if(_0x172ceb){const _0x223592=_0x172ceb[_0xac8c17(0x119)](_0x32b580,arguments);return _0x172ceb=null,_0x223592;}}:function(){};return _0x2383db=![],_0x177557;};}()),a80_0x1f7b7d=a80_0x19c28c(this,function(){const _0x21eefc=a80_0xd45d;return a80_0x1f7b7d[_0x21eefc(0x120)]()[_0x21eefc(0x105)](_0x21eefc(0x10d))['toString']()[_0x21eefc(0x111)](a80_0x1f7b7d)[_0x21eefc(0x105)](_0x21eefc(0x10d));});a80_0x1f7b7d();'use strict';var __importDefault=this&&this[a80_0x2fe092(0x102)]||function(_0x54eb7a){const _0x482663=a80_0x2fe092;return _0x54eb7a&&_0x54eb7a[_0x482663(0xfd)]?_0x54eb7a:{'default':_0x54eb7a};};Object['defineProperty'](exports,a80_0x2fe092(0xfd),{'value':!![]}),exports['BitbucketServerHookService']=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a80_0x2fe092(0x11b))),bitbucket_server_api_service_1=require(a80_0x2fe092(0x11f)),hook_dto_1=require(a80_0x2fe092(0x117)),git_hook_service_1=require('./git-hook.service');class BitbucketServerHookService extends git_hook_service_1[a80_0x2fe092(0x10a)]{constructor(_0x36bbf1){const _0x24e406=a80_0x2fe092;super(_0x36bbf1),this[_0x24e406(0x11d)]=this[_0x24e406(0x118)]();}[a80_0x2fe092(0x118)](){const _0x269c67=a80_0x2fe092,_0xe4010e=typedi_1[_0x269c67(0x11e)][_0x269c67(0x11c)](bitbucket_server_api_service_1['BitbucketServerApiService']);return _0xe4010e[_0x269c67(0x118)](this[_0x269c67(0xfb)]['apiUrl']);}async[a80_0x2fe092(0xff)](_0x463347){const _0x40ad1c=a80_0x2fe092;try{const _0x1df00f=await this['request'][_0x40ad1c(0x115)](_0x40ad1c(0x114),_0x463347);return hook_dto_1['HookDto'][_0x40ad1c(0x10c)](_0x1df00f);}catch(_0x4fd0a3){throw new bad_request_error_1[(_0x40ad1c(0x112))](_0x4fd0a3);}}async[a80_0x2fe092(0x104)](_0x57d4e7){const _0x9c95ed=a80_0x2fe092;try{const _0x4786d0=await this[_0x9c95ed(0x11d)][_0x9c95ed(0x11c)](_0x9c95ed(0x110)+_0x57d4e7);return hook_dto_1[_0x9c95ed(0xfe)][_0x9c95ed(0x10c)](_0x4786d0);}catch(_0x58c04c){throw new not_found_error_1[(_0x9c95ed(0x10b))](_0x58c04c);}}async[a80_0x2fe092(0x106)](){const _0x43f037=a80_0x2fe092;try{const _0xb98bcb=await this[_0x43f037(0x11d)]['get'](_0x43f037(0x114));return _0xb98bcb[_0x43f037(0x10e)]['map'](_0x1232c7=>hook_dto_1['HookDto'][_0x43f037(0x10c)](_0x1232c7));}catch(_0x3158c7){throw new not_found_error_1[(_0x43f037(0x10b))](_0x3158c7);}}async[a80_0x2fe092(0x109)](_0x13d483,_0x109a1d){const _0x2dc49b=a80_0x2fe092;try{const _0x2bb043=await this[_0x2dc49b(0x11d)][_0x2dc49b(0x113)]('webhooks/'+_0x13d483,_0x109a1d);return hook_dto_1['HookDto']['fromBitbucketServer'](_0x2bb043);}catch(_0x43e4ec){throw new not_found_error_1['NotFoundError'](_0x43e4ec);}}async['delete'](_0x17b7bd){const _0x5c24af=a80_0x2fe092;try{await this[_0x5c24af(0x11d)][_0x5c24af(0x107)]('webhooks/'+_0x17b7bd);}catch(_0x145cd9){throw new not_found_error_1['NotFoundError'](_0x145cd9);}}}exports[a80_0x2fe092(0x103)]=BitbucketServerHookService;