const a78_0x5c3f3e=a78_0xc6f9;(function(_0x20337b,_0x4a2094){const _0x4c84ef=a78_0xc6f9,_0x2f0b2c=_0x20337b();while(!![]){try{const _0x5e5903=parseInt(_0x4c84ef(0x1ac))/0x1+-parseInt(_0x4c84ef(0x1ab))/0x2*(parseInt(_0x4c84ef(0x1b6))/0x3)+-parseInt(_0x4c84ef(0x1bd))/0x4*(parseInt(_0x4c84ef(0x1c5))/0x5)+-parseInt(_0x4c84ef(0x1ce))/0x6+parseInt(_0x4c84ef(0x1cc))/0x7+parseInt(_0x4c84ef(0x1b2))/0x8+parseInt(_0x4c84ef(0x1b7))/0x9*(-parseInt(_0x4c84ef(0x1b1))/0xa);if(_0x5e5903===_0x4a2094)break;else _0x2f0b2c['push'](_0x2f0b2c['shift']());}catch(_0x2df5a7){_0x2f0b2c['push'](_0x2f0b2c['shift']());}}}(a78_0x212e,0xd6761));function a78_0x212e(){const _0x2aad5e=['1980NqcONd','post','../../../core/errors/not-found.error','search','projectId','typedi','8vNiBSI','./git-hook.service','get','create','NotFoundError','apply','HookDto','fromAzure','3464735GsTiTF','__importDefault','/_apis/hooks/subscriptions/','../../shared/services/auth-settings.service','organization','map','authService','10419465IMqLZP','delete','1072692HhLciM','__esModule','filter','BadRequestError','(((.+)+)+)+$','fromGithub','/_apis/hooks/subscriptions','../dto/hook.dto','createRequest','2hTlVph','1712834bcLUSQ','toString','value','../../../core/errors/bad-request.error','publisherInputs','45950XNTcYe','4216040LUxSKf','patch','request','default','822975XHfklg'];a78_0x212e=function(){return _0x2aad5e;};return a78_0x212e();}const a78_0x1a3441=(function(){let _0x2131b0=!![];return function(_0x4f1870,_0x32893d){const _0x267d2c=_0x2131b0?function(){const _0x5bf08b=a78_0xc6f9;if(_0x32893d){const _0x4999b2=_0x32893d[_0x5bf08b(0x1c2)](_0x4f1870,arguments);return _0x32893d=null,_0x4999b2;}}:function(){};return _0x2131b0=![],_0x267d2c;};}()),a78_0x45f349=a78_0x1a3441(this,function(){const _0x1602de=a78_0xc6f9;return a78_0x45f349[_0x1602de(0x1ad)]()[_0x1602de(0x1ba)](_0x1602de(0x1d2))[_0x1602de(0x1ad)]()['constructor'](a78_0x45f349)[_0x1602de(0x1ba)](_0x1602de(0x1d2));});a78_0x45f349();'use strict';function a78_0xc6f9(_0x1534c1,_0x472c7b){const _0x181f93=a78_0x212e();return a78_0xc6f9=function(_0x45f349,_0x1a3441){_0x45f349=_0x45f349-0x1ab;let _0x212eb2=_0x181f93[_0x45f349];return _0x212eb2;},a78_0xc6f9(_0x1534c1,_0x472c7b);}var __importDefault=this&&this[a78_0x5c3f3e(0x1c6)]||function(_0x169994){const _0x521ba5=a78_0x5c3f3e;return _0x169994&&_0x169994[_0x521ba5(0x1cf)]?_0x169994:{'default':_0x169994};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['AzureHookService']=void 0x0;const bad_request_error_1=require(a78_0x5c3f3e(0x1af)),not_found_error_1=require(a78_0x5c3f3e(0x1b9)),typedi_1=__importDefault(require(a78_0x5c3f3e(0x1bc))),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require(a78_0x5c3f3e(0x1c8)),hook_dto_1=require(a78_0x5c3f3e(0x1d5)),git_hook_service_1=require(a78_0x5c3f3e(0x1be));class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0x157c3c,_0x333a2c){const _0x39be96=a78_0x5c3f3e;super(_0x157c3c),this[_0x39be96(0x1bb)]=_0x333a2c,this[_0x39be96(0x1cb)]=typedi_1[_0x39be96(0x1b5)][_0x39be96(0x1bf)](auth_settings_service_1['AuthSettingsService']),this['request']=this[_0x39be96(0x1d6)]();}get['organization'](){const _0x533078=a78_0x5c3f3e;return this[_0x533078(0x1cb)]['azure'][_0x533078(0x1c9)];}[a78_0x5c3f3e(0x1d6)](){const _0x1a664f=a78_0x5c3f3e,_0x36318a=typedi_1[_0x1a664f(0x1b5)][_0x1a664f(0x1bf)](azure_api_service_1['AzureApiService']);return _0x36318a[_0x1a664f(0x1d6)]();}['getProjectId'](){return this['projectId'];}async[a78_0x5c3f3e(0x1c0)](_0x3ea1b5){const _0x5d5627=a78_0x5c3f3e;try{const _0x4b182e=await this['request'][_0x5d5627(0x1b8)](this['organization']+'/_apis/hooks/subscriptions',_0x3ea1b5);return hook_dto_1['HookDto'][_0x5d5627(0x1c4)](_0x4b182e);}catch(_0x2d373a){throw new bad_request_error_1[(_0x5d5627(0x1d1))](_0x2d373a);}}async['getOne'](_0x709873){const _0x4ee233=a78_0x5c3f3e;try{const _0x2c4c45=await this[_0x4ee233(0x1b4)][_0x4ee233(0x1bf)](this['organization']+_0x4ee233(0x1c7)+_0x709873);return hook_dto_1['HookDto'][_0x4ee233(0x1c4)](_0x2c4c45);}catch(_0x390bb9){throw new not_found_error_1[(_0x4ee233(0x1c1))](_0x390bb9);}}async['getAll'](){const _0x17f8ac=a78_0x5c3f3e;try{const _0x41dd63=await this[_0x17f8ac(0x1b4)][_0x17f8ac(0x1bf)](this[_0x17f8ac(0x1c9)]+_0x17f8ac(0x1d4));return _0x41dd63[_0x17f8ac(0x1ae)][_0x17f8ac(0x1d0)](_0x21741c=>{const _0x4c262a=_0x17f8ac;var _0x1df106;return((_0x1df106=_0x21741c===null||_0x21741c===void 0x0?void 0x0:_0x21741c[_0x4c262a(0x1b0)])===null||_0x1df106===void 0x0?void 0x0:_0x1df106[_0x4c262a(0x1bb)])===this[_0x4c262a(0x1bb)];})[_0x17f8ac(0x1ca)](_0x1266d0=>hook_dto_1['HookDto'][_0x17f8ac(0x1c4)](_0x1266d0));}catch(_0x58218d){throw new not_found_error_1['NotFoundError'](_0x58218d);}}async['update'](_0x113d49,_0x519fa3){const _0x16e3f8=a78_0x5c3f3e;try{const _0x28abf9=await this['request'][_0x16e3f8(0x1b3)](this['organization']+_0x16e3f8(0x1c7)+_0x113d49,_0x519fa3);return hook_dto_1[_0x16e3f8(0x1c3)][_0x16e3f8(0x1d3)](_0x28abf9);}catch(_0x3d04e5){throw new bad_request_error_1[(_0x16e3f8(0x1d1))](_0x3d04e5);}}async[a78_0x5c3f3e(0x1cd)](_0x57429e){const _0x29e5ec=a78_0x5c3f3e;try{await this[_0x29e5ec(0x1b4)][_0x29e5ec(0x1cd)](this['organization']+_0x29e5ec(0x1c7)+_0x57429e);}catch(_0x3704ac){throw new bad_request_error_1['BadRequestError'](_0x3704ac);}}}exports['AzureHookService']=AzureHookService;