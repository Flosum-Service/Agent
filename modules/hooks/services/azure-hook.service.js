const a78_0x56b0ef=a78_0x56b0;function a78_0xf005(){const _0x56903f=['NotFoundError','createRequest','10031620wGhMkG','522991YKPzkT','AzureHookService','../../../core/errors/bad-request.error','7787889aetGbe','173199PDnhQP','constructor','getOne','1583752rJWMcC','../../shared/services/auth-settings.service','post','defineProperty','projectId','create','value','default','apply','authService','fromGithub','typedi','150reOXRX','fromAzure','AzureApiService','105505QOJSKO','(((.+)+)+)+$','getAll','../../git-api/services/azure-api.service','toString','request','../../../core/errors/not-found.error','getProjectId','7HtdkSq','BadRequestError','/_apis/hooks/subscriptions/','AuthSettingsService','../dto/hook.dto','delete','filter','GitHookService','organization','HookDto','1664312FvFAuf','__esModule','search','azure','34dtcSkg','patch','/_apis/hooks/subscriptions','update','get'];a78_0xf005=function(){return _0x56903f;};return a78_0xf005();}(function(_0x5e2ef5,_0xe036df){const _0x2fa381=a78_0x56b0,_0x1b27a1=_0x5e2ef5();while(!![]){try{const _0x27d391=parseInt(_0x2fa381(0x196))/0x1+parseInt(_0x2fa381(0x18e))/0x2*(-parseInt(_0x2fa381(0x19a))/0x3)+-parseInt(_0x2fa381(0x18a))/0x4+-parseInt(_0x2fa381(0x1ac))/0x5*(parseInt(_0x2fa381(0x1a9))/0x6)+parseInt(_0x2fa381(0x180))/0x7*(parseInt(_0x2fa381(0x19d))/0x8)+parseInt(_0x2fa381(0x199))/0x9+parseInt(_0x2fa381(0x195))/0xa;if(_0x27d391===_0xe036df)break;else _0x1b27a1['push'](_0x1b27a1['shift']());}catch(_0x3fa150){_0x1b27a1['push'](_0x1b27a1['shift']());}}}(a78_0xf005,0xa233b));const a78_0x54f7db=(function(){let _0x523fe8=!![];return function(_0x3209f6,_0x417297){const _0x1e2427=_0x523fe8?function(){const _0x2a23f7=a78_0x56b0;if(_0x417297){const _0x1d5d5b=_0x417297[_0x2a23f7(0x1a5)](_0x3209f6,arguments);return _0x417297=null,_0x1d5d5b;}}:function(){};return _0x523fe8=![],_0x1e2427;};}()),a78_0x21887c=a78_0x54f7db(this,function(){const _0x3f5a50=a78_0x56b0;return a78_0x21887c[_0x3f5a50(0x1b0)]()[_0x3f5a50(0x18c)](_0x3f5a50(0x1ad))[_0x3f5a50(0x1b0)]()[_0x3f5a50(0x19b)](a78_0x21887c)[_0x3f5a50(0x18c)]('(((.+)+)+)+$');});a78_0x21887c();'use strict';function a78_0x56b0(_0x251532,_0x5ccf97){const _0x2c34b5=a78_0xf005();return a78_0x56b0=function(_0x21887c,_0x54f7db){_0x21887c=_0x21887c-0x17d;let _0xf00545=_0x2c34b5[_0x21887c];return _0xf00545;},a78_0x56b0(_0x251532,_0x5ccf97);}var __importDefault=this&&this['__importDefault']||function(_0x4bbd7c){const _0xc19950=a78_0x56b0;return _0x4bbd7c&&_0x4bbd7c[_0xc19950(0x18b)]?_0x4bbd7c:{'default':_0x4bbd7c};};Object[a78_0x56b0ef(0x1a0)](exports,'__esModule',{'value':!![]}),exports[a78_0x56b0ef(0x197)]=void 0x0;const bad_request_error_1=require(a78_0x56b0ef(0x198)),not_found_error_1=require(a78_0x56b0ef(0x17e)),typedi_1=__importDefault(require(a78_0x56b0ef(0x1a8))),azure_api_service_1=require(a78_0x56b0ef(0x1af)),auth_settings_service_1=require(a78_0x56b0ef(0x19e)),hook_dto_1=require(a78_0x56b0ef(0x184)),git_hook_service_1=require('./git-hook.service');class AzureHookService extends git_hook_service_1[a78_0x56b0ef(0x187)]{constructor(_0x1d6a0e,_0x1f4cf7){const _0x4ed817=a78_0x56b0ef;super(_0x1d6a0e),this[_0x4ed817(0x1a1)]=_0x1f4cf7,this['authService']=typedi_1[_0x4ed817(0x1a4)]['get'](auth_settings_service_1[_0x4ed817(0x183)]),this[_0x4ed817(0x17d)]=this[_0x4ed817(0x194)]();}get[a78_0x56b0ef(0x188)](){const _0x5adf21=a78_0x56b0ef;return this[_0x5adf21(0x1a6)][_0x5adf21(0x18d)][_0x5adf21(0x188)];}[a78_0x56b0ef(0x194)](){const _0x34a4c7=a78_0x56b0ef,_0x190a10=typedi_1[_0x34a4c7(0x1a4)][_0x34a4c7(0x192)](azure_api_service_1[_0x34a4c7(0x1ab)]);return _0x190a10[_0x34a4c7(0x194)]();}[a78_0x56b0ef(0x17f)](){return this['projectId'];}async[a78_0x56b0ef(0x1a2)](_0x2c7e8a){const _0x48383b=a78_0x56b0ef;try{const _0x5ecfaa=await this['request'][_0x48383b(0x19f)](this[_0x48383b(0x188)]+_0x48383b(0x190),_0x2c7e8a);return hook_dto_1[_0x48383b(0x189)]['fromAzure'](_0x5ecfaa);}catch(_0x4bab66){throw new bad_request_error_1[(_0x48383b(0x181))](_0x4bab66);}}async[a78_0x56b0ef(0x19c)](_0x28aead){const _0x41427e=a78_0x56b0ef;try{const _0x2fc4e1=await this[_0x41427e(0x17d)][_0x41427e(0x192)](this[_0x41427e(0x188)]+'/_apis/hooks/subscriptions/'+_0x28aead);return hook_dto_1[_0x41427e(0x189)][_0x41427e(0x1aa)](_0x2fc4e1);}catch(_0x4b8962){throw new not_found_error_1['NotFoundError'](_0x4b8962);}}async[a78_0x56b0ef(0x1ae)](){const _0x380026=a78_0x56b0ef;try{const _0x119062=await this[_0x380026(0x17d)][_0x380026(0x192)](this[_0x380026(0x188)]+_0x380026(0x190));return _0x119062[_0x380026(0x1a3)][_0x380026(0x186)](_0x349f11=>{const _0x260213=_0x380026;var _0x3371a6;return((_0x3371a6=_0x349f11===null||_0x349f11===void 0x0?void 0x0:_0x349f11['publisherInputs'])===null||_0x3371a6===void 0x0?void 0x0:_0x3371a6[_0x260213(0x1a1)])===this['projectId'];})['map'](_0x33c193=>hook_dto_1[_0x380026(0x189)][_0x380026(0x1aa)](_0x33c193));}catch(_0xec6baf){throw new not_found_error_1[(_0x380026(0x193))](_0xec6baf);}}async[a78_0x56b0ef(0x191)](_0x5219d4,_0x211b60){const _0x56eaf8=a78_0x56b0ef;try{const _0x57ede9=await this[_0x56eaf8(0x17d)][_0x56eaf8(0x18f)](this['organization']+_0x56eaf8(0x182)+_0x5219d4,_0x211b60);return hook_dto_1['HookDto'][_0x56eaf8(0x1a7)](_0x57ede9);}catch(_0x5742ae){throw new bad_request_error_1[(_0x56eaf8(0x181))](_0x5742ae);}}async[a78_0x56b0ef(0x185)](_0x194ce6){const _0x49c2a5=a78_0x56b0ef;try{await this[_0x49c2a5(0x17d)][_0x49c2a5(0x185)](this['organization']+_0x49c2a5(0x182)+_0x194ce6);}catch(_0x35c714){throw new bad_request_error_1['BadRequestError'](_0x35c714);}}}exports['AzureHookService']=AzureHookService;