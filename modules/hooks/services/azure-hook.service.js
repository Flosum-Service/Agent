const a77_0xe0691b=a77_0x6836;(function(_0x3c7ad,_0x1a1b47){const _0x596c97=a77_0x6836,_0x177ca8=_0x3c7ad();while(!![]){try{const _0x4b1cc6=parseInt(_0x596c97(0x1e2))/0x1*(-parseInt(_0x596c97(0x1ec))/0x2)+-parseInt(_0x596c97(0x1d3))/0x3+-parseInt(_0x596c97(0x1fa))/0x4+-parseInt(_0x596c97(0x1f1))/0x5*(parseInt(_0x596c97(0x1d4))/0x6)+parseInt(_0x596c97(0x1ed))/0x7*(parseInt(_0x596c97(0x1e1))/0x8)+parseInt(_0x596c97(0x1ea))/0x9+parseInt(_0x596c97(0x1da))/0xa;if(_0x4b1cc6===_0x1a1b47)break;else _0x177ca8['push'](_0x177ca8['shift']());}catch(_0x529dd7){_0x177ca8['push'](_0x177ca8['shift']());}}}(a77_0x45b3,0x30808));const a77_0x41c036=(function(){let _0x5d1414=!![];return function(_0x384df3,_0x4cb69a){const _0x1e4179=_0x5d1414?function(){const _0x49bf83=a77_0x6836;if(_0x4cb69a){const _0xd9ea15=_0x4cb69a[_0x49bf83(0x1d9)](_0x384df3,arguments);return _0x4cb69a=null,_0xd9ea15;}}:function(){};return _0x5d1414=![],_0x1e4179;};}()),a77_0x488300=a77_0x41c036(this,function(){const _0x46ced3=a77_0x6836;return a77_0x488300[_0x46ced3(0x1f6)]()[_0x46ced3(0x1f8)](_0x46ced3(0x1d2))['toString']()[_0x46ced3(0x1d7)](a77_0x488300)[_0x46ced3(0x1f8)](_0x46ced3(0x1d2));});a77_0x488300();'use strict';var __importDefault=this&&this['__importDefault']||function(_0xe96822){const _0x4668b3=a77_0x6836;return _0xe96822&&_0xe96822[_0x4668b3(0x1f9)]?_0xe96822:{'default':_0xe96822};};function a77_0x45b3(){const _0x5733ff=['constructor','NotFoundError','apply','5821970tthvdB','fromGithub','AzureHookService','default','/_apis/hooks/subscriptions/','get','./git-hook.service','1346488JKRkdL','188597ENzPMi','../dto/hook.dto','getProjectId','organization','create','request','publisherInputs','HookDto','2230911ClYIkP','BadRequestError','2YEVuDn','7HDhsLm','update','value','projectId','5simvfD','azure','/_apis/hooks/subscriptions','authService','../../../core/errors/bad-request.error','toString','createRequest','search','__esModule','1018212ASXRvQ','post','(((.+)+)+)+$','215820kUOSSQ','1707798pSItnH','fromAzure','getOne'];a77_0x45b3=function(){return _0x5733ff;};return a77_0x45b3();}Object['defineProperty'](exports,a77_0xe0691b(0x1f9),{'value':!![]}),exports[a77_0xe0691b(0x1dc)]=void 0x0;function a77_0x6836(_0x3fd08f,_0x41fcde){const _0x44892f=a77_0x45b3();return a77_0x6836=function(_0x488300,_0x41c036){_0x488300=_0x488300-0x1d2;let _0x45b38a=_0x44892f[_0x488300];return _0x45b38a;},a77_0x6836(_0x3fd08f,_0x41fcde);}const bad_request_error_1=require(a77_0xe0691b(0x1f5)),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require('typedi')),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require('../../shared/services/auth-settings.service'),hook_dto_1=require(a77_0xe0691b(0x1e3)),git_hook_service_1=require(a77_0xe0691b(0x1e0));class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0x2696d6,_0x19b713){const _0x47ea88=a77_0xe0691b;super(_0x2696d6),this[_0x47ea88(0x1f0)]=_0x19b713,this['authService']=typedi_1[_0x47ea88(0x1dd)]['get'](auth_settings_service_1['AuthSettingsService']),this[_0x47ea88(0x1e7)]=this[_0x47ea88(0x1f7)]();}get['organization'](){const _0x48c913=a77_0xe0691b;return this[_0x48c913(0x1f4)][_0x48c913(0x1f2)][_0x48c913(0x1e5)];}['createRequest'](){const _0x4617d5=a77_0xe0691b,_0x50a7fd=typedi_1[_0x4617d5(0x1dd)][_0x4617d5(0x1df)](azure_api_service_1['AzureApiService']);return _0x50a7fd['createRequest']();}[a77_0xe0691b(0x1e4)](){const _0x34b3f2=a77_0xe0691b;return this[_0x34b3f2(0x1f0)];}async[a77_0xe0691b(0x1e6)](_0x5b70a8){const _0x5ac471=a77_0xe0691b;try{const _0x2d924b=await this[_0x5ac471(0x1e7)][_0x5ac471(0x1fb)](this[_0x5ac471(0x1e5)]+_0x5ac471(0x1f3),_0x5b70a8);return hook_dto_1['HookDto']['fromAzure'](_0x2d924b);}catch(_0x15a7a7){throw new bad_request_error_1[(_0x5ac471(0x1eb))](_0x15a7a7);}}async[a77_0xe0691b(0x1d6)](_0x2bd6e9){const _0x4c2e70=a77_0xe0691b;try{const _0x108664=await this['request'][_0x4c2e70(0x1df)](this[_0x4c2e70(0x1e5)]+_0x4c2e70(0x1de)+_0x2bd6e9);return hook_dto_1['HookDto'][_0x4c2e70(0x1d5)](_0x108664);}catch(_0x59a435){throw new not_found_error_1[(_0x4c2e70(0x1d8))](_0x59a435);}}async['getAll'](){const _0x108a44=a77_0xe0691b;try{const _0x1e9e66=await this[_0x108a44(0x1e7)][_0x108a44(0x1df)](this[_0x108a44(0x1e5)]+_0x108a44(0x1f3));return _0x1e9e66[_0x108a44(0x1ef)]['filter'](_0x2f4931=>{const _0x2d2686=_0x108a44;var _0x5eb4f6;return((_0x5eb4f6=_0x2f4931===null||_0x2f4931===void 0x0?void 0x0:_0x2f4931[_0x2d2686(0x1e8)])===null||_0x5eb4f6===void 0x0?void 0x0:_0x5eb4f6[_0x2d2686(0x1f0)])===this[_0x2d2686(0x1f0)];})['map'](_0x4a0246=>hook_dto_1['HookDto'][_0x108a44(0x1d5)](_0x4a0246));}catch(_0x4f1ed6){throw new not_found_error_1[(_0x108a44(0x1d8))](_0x4f1ed6);}}async[a77_0xe0691b(0x1ee)](_0x3bf8ee,_0x1d816e){const _0x4ece8f=a77_0xe0691b;try{const _0x26bd93=await this['request']['patch'](this[_0x4ece8f(0x1e5)]+_0x4ece8f(0x1de)+_0x3bf8ee,_0x1d816e);return hook_dto_1[_0x4ece8f(0x1e9)][_0x4ece8f(0x1db)](_0x26bd93);}catch(_0x2a96e6){throw new bad_request_error_1[(_0x4ece8f(0x1eb))](_0x2a96e6);}}async['delete'](_0x8d40fc){const _0x3b4bc0=a77_0xe0691b;try{await this[_0x3b4bc0(0x1e7)]['delete'](this[_0x3b4bc0(0x1e5)]+_0x3b4bc0(0x1de)+_0x8d40fc);}catch(_0x1ca740){throw new bad_request_error_1[(_0x3b4bc0(0x1eb))](_0x1ca740);}}}exports[a77_0xe0691b(0x1dc)]=AzureHookService;