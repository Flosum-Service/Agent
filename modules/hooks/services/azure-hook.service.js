const a78_0x5ada61=a78_0x5136;(function(_0x3dcb03,_0x485fe5){const _0x16fd99=a78_0x5136,_0x888439=_0x3dcb03();while(!![]){try{const _0x20b2dd=parseInt(_0x16fd99(0xee))/0x1+parseInt(_0x16fd99(0x10e))/0x2+parseInt(_0x16fd99(0xed))/0x3+parseInt(_0x16fd99(0xf2))/0x4*(-parseInt(_0x16fd99(0xe9))/0x5)+-parseInt(_0x16fd99(0xea))/0x6+-parseInt(_0x16fd99(0xe1))/0x7*(-parseInt(_0x16fd99(0x103))/0x8)+parseInt(_0x16fd99(0xf8))/0x9*(-parseInt(_0x16fd99(0xe5))/0xa);if(_0x20b2dd===_0x485fe5)break;else _0x888439['push'](_0x888439['shift']());}catch(_0x5bada5){_0x888439['push'](_0x888439['shift']());}}}(a78_0x3617,0xca449));const a78_0x2b0203=(function(){let _0x3fcf59=!![];return function(_0x1d14c7,_0x4d876f){const _0x5e48b6=_0x3fcf59?function(){if(_0x4d876f){const _0x2b9238=_0x4d876f['apply'](_0x1d14c7,arguments);return _0x4d876f=null,_0x2b9238;}}:function(){};return _0x3fcf59=![],_0x5e48b6;};}()),a78_0x4004b7=a78_0x2b0203(this,function(){const _0x2ae473=a78_0x5136;return a78_0x4004b7[_0x2ae473(0x10c)]()[_0x2ae473(0xec)]('(((.+)+)+)+$')[_0x2ae473(0x10c)]()['constructor'](a78_0x4004b7)[_0x2ae473(0xec)](_0x2ae473(0xe7));});a78_0x4004b7();'use strict';function a78_0x5136(_0x3a6832,_0x173a20){const _0x3cc01c=a78_0x3617();return a78_0x5136=function(_0x4004b7,_0x2b0203){_0x4004b7=_0x4004b7-0xe1;let _0x361740=_0x3cc01c[_0x4004b7];return _0x361740;},a78_0x5136(_0x3a6832,_0x173a20);}var __importDefault=this&&this[a78_0x5ada61(0xe6)]||function(_0x3a4e4c){const _0x25a812=a78_0x5ada61;return _0x3a4e4c&&_0x3a4e4c[_0x25a812(0xf7)]?_0x3a4e4c:{'default':_0x3a4e4c};};Object[a78_0x5ada61(0xe4)](exports,'__esModule',{'value':!![]}),exports[a78_0x5ada61(0xfb)]=void 0x0;const bad_request_error_1=require(a78_0x5ada61(0xf1)),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a78_0x5ada61(0xf3))),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require(a78_0x5ada61(0xfd)),hook_dto_1=require(a78_0x5ada61(0xf4)),git_hook_service_1=require(a78_0x5ada61(0x10a));function a78_0x3617(){const _0x18c2b7=['typedi','../dto/hook.dto','value','get','__esModule','1829889ElrDBL','projectId','default','AzureHookService','authService','../../shared/services/auth-settings.service','organization','createRequest','map','/_apis/hooks/subscriptions/','request','1112xHFQNo','filter','AzureApiService','fromAzure','getAll','BadRequestError','publisherInputs','./git-hook.service','azure','toString','update','1730190PTAwRY','create','68131mmnlCQ','/_apis/hooks/subscriptions','HookDto','defineProperty','30ufUkFC','__importDefault','(((.+)+)+)+$','getOne','56605fPIkYn','3135618Kqzlxo','NotFoundError','search','702369DpVLhr','641050OJYQLO','post','AuthSettingsService','../../../core/errors/bad-request.error','400HOATmR'];a78_0x3617=function(){return _0x18c2b7;};return a78_0x3617();}class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0x35e20b,_0xe1fb70){const _0x2dba1e=a78_0x5ada61;super(_0x35e20b),this[_0x2dba1e(0xf9)]=_0xe1fb70,this['authService']=typedi_1['default'][_0x2dba1e(0xf6)](auth_settings_service_1[_0x2dba1e(0xf0)]),this[_0x2dba1e(0x102)]=this[_0x2dba1e(0xff)]();}get[a78_0x5ada61(0xfe)](){const _0x3fea46=a78_0x5ada61;return this[_0x3fea46(0xfc)][_0x3fea46(0x10b)]['organization'];}[a78_0x5ada61(0xff)](){const _0x55ebc4=a78_0x5ada61,_0x4426e3=typedi_1[_0x55ebc4(0xfa)][_0x55ebc4(0xf6)](azure_api_service_1[_0x55ebc4(0x105)]);return _0x4426e3['createRequest']();}['getProjectId'](){const _0x44fef9=a78_0x5ada61;return this[_0x44fef9(0xf9)];}async[a78_0x5ada61(0x10f)](_0x2e202b){const _0x3117d3=a78_0x5ada61;try{const _0x58be64=await this[_0x3117d3(0x102)][_0x3117d3(0xef)](this[_0x3117d3(0xfe)]+_0x3117d3(0xe2),_0x2e202b);return hook_dto_1['HookDto'][_0x3117d3(0x106)](_0x58be64);}catch(_0x4e5a0d){throw new bad_request_error_1[(_0x3117d3(0x108))](_0x4e5a0d);}}async[a78_0x5ada61(0xe8)](_0x26eb11){const _0x3cec4c=a78_0x5ada61;try{const _0x36a3b3=await this[_0x3cec4c(0x102)][_0x3cec4c(0xf6)](this[_0x3cec4c(0xfe)]+'/_apis/hooks/subscriptions/'+_0x26eb11);return hook_dto_1[_0x3cec4c(0xe3)][_0x3cec4c(0x106)](_0x36a3b3);}catch(_0x3d9611){throw new not_found_error_1[(_0x3cec4c(0xeb))](_0x3d9611);}}async[a78_0x5ada61(0x107)](){const _0x433f52=a78_0x5ada61;try{const _0x531848=await this[_0x433f52(0x102)]['get'](this[_0x433f52(0xfe)]+_0x433f52(0xe2));return _0x531848[_0x433f52(0xf5)][_0x433f52(0x104)](_0x1728d8=>{const _0x534caf=_0x433f52;var _0x21b427;return((_0x21b427=_0x1728d8===null||_0x1728d8===void 0x0?void 0x0:_0x1728d8[_0x534caf(0x109)])===null||_0x21b427===void 0x0?void 0x0:_0x21b427[_0x534caf(0xf9)])===this['projectId'];})[_0x433f52(0x100)](_0x454e07=>hook_dto_1[_0x433f52(0xe3)][_0x433f52(0x106)](_0x454e07));}catch(_0x62ad15){throw new not_found_error_1[(_0x433f52(0xeb))](_0x62ad15);}}async[a78_0x5ada61(0x10d)](_0x14ec40,_0x492e5b){const _0x272a56=a78_0x5ada61;try{const _0x3e526e=await this[_0x272a56(0x102)]['patch'](this[_0x272a56(0xfe)]+_0x272a56(0x101)+_0x14ec40,_0x492e5b);return hook_dto_1[_0x272a56(0xe3)]['fromGithub'](_0x3e526e);}catch(_0x531ca1){throw new bad_request_error_1[(_0x272a56(0x108))](_0x531ca1);}}async['delete'](_0x55b4f3){const _0x9fcfe9=a78_0x5ada61;try{await this[_0x9fcfe9(0x102)]['delete'](this[_0x9fcfe9(0xfe)]+'/_apis/hooks/subscriptions/'+_0x55b4f3);}catch(_0x5d5290){throw new bad_request_error_1[(_0x9fcfe9(0x108))](_0x5d5290);}}}exports[a78_0x5ada61(0xfb)]=AzureHookService;