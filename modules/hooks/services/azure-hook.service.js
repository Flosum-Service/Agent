const a78_0x235c91=a78_0x36a3;(function(_0x3764dc,_0x523207){const _0x231223=a78_0x36a3,_0x18cfd0=_0x3764dc();while(!![]){try{const _0x5f0c76=-parseInt(_0x231223(0x1cd))/0x1*(parseInt(_0x231223(0x1ce))/0x2)+parseInt(_0x231223(0x1e7))/0x3+parseInt(_0x231223(0x1d9))/0x4*(-parseInt(_0x231223(0x1e1))/0x5)+parseInt(_0x231223(0x1f4))/0x6+-parseInt(_0x231223(0x1e4))/0x7+parseInt(_0x231223(0x1cb))/0x8+-parseInt(_0x231223(0x1eb))/0x9;if(_0x5f0c76===_0x523207)break;else _0x18cfd0['push'](_0x18cfd0['shift']());}catch(_0x379002){_0x18cfd0['push'](_0x18cfd0['shift']());}}}(a78_0x59f1,0x97433));const a78_0x1aeb47=(function(){let _0x12a2ea=!![];return function(_0x25bf7a,_0x1ff536){const _0x3df275=_0x12a2ea?function(){const _0x503bcf=a78_0x36a3;if(_0x1ff536){const _0x3c17f5=_0x1ff536[_0x503bcf(0x1d4)](_0x25bf7a,arguments);return _0x1ff536=null,_0x3c17f5;}}:function(){};return _0x12a2ea=![],_0x3df275;};}()),a78_0x165b08=a78_0x1aeb47(this,function(){const _0x27d74f=a78_0x36a3;return a78_0x165b08[_0x27d74f(0x1ed)]()['search'](_0x27d74f(0x1e6))[_0x27d74f(0x1ed)]()[_0x27d74f(0x1f3)](a78_0x165b08)[_0x27d74f(0x1c6)](_0x27d74f(0x1e6));});a78_0x165b08();'use strict';var __importDefault=this&&this[a78_0x235c91(0x1d0)]||function(_0x4f41c7){const _0x5e9863=a78_0x235c91;return _0x4f41c7&&_0x4f41c7[_0x5e9863(0x1c7)]?_0x4f41c7:{'default':_0x4f41c7};};Object[a78_0x235c91(0x1ee)](exports,'__esModule',{'value':!![]}),exports[a78_0x235c91(0x1e0)]=void 0x0;function a78_0x36a3(_0x495c0e,_0x38fb89){const _0x409507=a78_0x59f1();return a78_0x36a3=function(_0x165b08,_0x1aeb47){_0x165b08=_0x165b08-0x1c5;let _0x59f1c8=_0x409507[_0x165b08];return _0x59f1c8;},a78_0x36a3(_0x495c0e,_0x38fb89);}const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a78_0x235c91(0x1d2)),typedi_1=__importDefault(require(a78_0x235c91(0x1ea))),azure_api_service_1=require(a78_0x235c91(0x1de)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),hook_dto_1=require(a78_0x235c91(0x1e9)),git_hook_service_1=require('./git-hook.service');class AzureHookService extends git_hook_service_1[a78_0x235c91(0x1dd)]{constructor(_0x540ecc,_0xd7e20e){const _0x2e87c7=a78_0x235c91;super(_0x540ecc),this[_0x2e87c7(0x1ec)]=_0xd7e20e,this[_0x2e87c7(0x1e8)]=typedi_1[_0x2e87c7(0x1f5)][_0x2e87c7(0x1ef)](auth_settings_service_1[_0x2e87c7(0x1d8)]),this[_0x2e87c7(0x1ca)]=this[_0x2e87c7(0x1d6)]();}get['organization'](){const _0x58e207=a78_0x235c91;return this[_0x58e207(0x1e8)][_0x58e207(0x1f1)][_0x58e207(0x1e2)];}[a78_0x235c91(0x1d6)](){const _0x51a018=a78_0x235c91,_0x1b628d=typedi_1['default']['get'](azure_api_service_1[_0x51a018(0x1d1)]);return _0x1b628d[_0x51a018(0x1d6)]();}['getProjectId'](){const _0x23f704=a78_0x235c91;return this[_0x23f704(0x1ec)];}async[a78_0x235c91(0x1dc)](_0x4d2478){const _0x542ed4=a78_0x235c91;try{const _0x19b9f0=await this['request'][_0x542ed4(0x1c9)](this[_0x542ed4(0x1e2)]+_0x542ed4(0x1d5),_0x4d2478);return hook_dto_1['HookDto'][_0x542ed4(0x1cc)](_0x19b9f0);}catch(_0x544513){throw new bad_request_error_1[(_0x542ed4(0x1f2))](_0x544513);}}async['getOne'](_0xc6126){const _0x154bc8=a78_0x235c91;try{const _0x9bcca8=await this[_0x154bc8(0x1ca)][_0x154bc8(0x1ef)](this['organization']+_0x154bc8(0x1e3)+_0xc6126);return hook_dto_1[_0x154bc8(0x1c5)][_0x154bc8(0x1cc)](_0x9bcca8);}catch(_0x3a852a){throw new not_found_error_1['NotFoundError'](_0x3a852a);}}async[a78_0x235c91(0x1e5)](){const _0x50c7d1=a78_0x235c91;try{const _0xefa3e5=await this[_0x50c7d1(0x1ca)]['get'](this['organization']+'/_apis/hooks/subscriptions');return _0xefa3e5[_0x50c7d1(0x1da)][_0x50c7d1(0x1db)](_0x47bf3a=>{const _0x50ee51=_0x50c7d1;var _0x1020b4;return((_0x1020b4=_0x47bf3a===null||_0x47bf3a===void 0x0?void 0x0:_0x47bf3a[_0x50ee51(0x1df)])===null||_0x1020b4===void 0x0?void 0x0:_0x1020b4[_0x50ee51(0x1ec)])===this[_0x50ee51(0x1ec)];})[_0x50c7d1(0x1d3)](_0x24c70d=>hook_dto_1[_0x50c7d1(0x1c5)][_0x50c7d1(0x1cc)](_0x24c70d));}catch(_0x35898a){throw new not_found_error_1['NotFoundError'](_0x35898a);}}async[a78_0x235c91(0x1f0)](_0x3f8d4b,_0x38e05d){const _0x552506=a78_0x235c91;try{const _0x225ad0=await this['request'][_0x552506(0x1d7)](this['organization']+_0x552506(0x1e3)+_0x3f8d4b,_0x38e05d);return hook_dto_1['HookDto'][_0x552506(0x1c8)](_0x225ad0);}catch(_0x22d85b){throw new bad_request_error_1[(_0x552506(0x1f2))](_0x22d85b);}}async[a78_0x235c91(0x1cf)](_0x4d56ac){const _0x21e733=a78_0x235c91;try{await this[_0x21e733(0x1ca)][_0x21e733(0x1cf)](this[_0x21e733(0x1e2)]+_0x21e733(0x1e3)+_0x4d56ac);}catch(_0x246377){throw new bad_request_error_1[(_0x21e733(0x1f2))](_0x246377);}}}exports['AzureHookService']=AzureHookService;function a78_0x59f1(){const _0x2a98bb=['defineProperty','get','update','azure','BadRequestError','constructor','7002630kZDAgL','default','HookDto','search','__esModule','fromGithub','post','request','8766672FgvtzX','fromAzure','4foqHCp','265576qbJNLv','delete','__importDefault','AzureApiService','../../../core/errors/not-found.error','map','apply','/_apis/hooks/subscriptions','createRequest','patch','AuthSettingsService','2044328ufikoJ','value','filter','create','GitHookService','../../git-api/services/azure-api.service','publisherInputs','AzureHookService','10UyvrpE','organization','/_apis/hooks/subscriptions/','5174673HVQMfp','getAll','(((.+)+)+)+$','2827347ouRCbH','authService','../dto/hook.dto','typedi','2639358SXQpgQ','projectId','toString'];a78_0x59f1=function(){return _0x2a98bb;};return a78_0x59f1();}