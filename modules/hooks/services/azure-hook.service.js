const a77_0x239a0a=a77_0x1fff;(function(_0x4578b0,_0x562ee9){const _0xa5f884=a77_0x1fff,_0xf54845=_0x4578b0();while(!![]){try{const _0x42ffbd=parseInt(_0xa5f884(0xc4))/0x1*(parseInt(_0xa5f884(0xe2))/0x2)+-parseInt(_0xa5f884(0xd5))/0x3+-parseInt(_0xa5f884(0xed))/0x4*(parseInt(_0xa5f884(0xca))/0x5)+parseInt(_0xa5f884(0xcb))/0x6*(parseInt(_0xa5f884(0xdc))/0x7)+-parseInt(_0xa5f884(0xeb))/0x8*(-parseInt(_0xa5f884(0xea))/0x9)+-parseInt(_0xa5f884(0xce))/0xa+-parseInt(_0xa5f884(0xf2))/0xb*(-parseInt(_0xa5f884(0xe9))/0xc);if(_0x42ffbd===_0x562ee9)break;else _0xf54845['push'](_0xf54845['shift']());}catch(_0x100090){_0xf54845['push'](_0xf54845['shift']());}}}(a77_0x1832,0xad298));function a77_0x1fff(_0x4bdbf4,_0x5317e1){const _0x495f3e=a77_0x1832();return a77_0x1fff=function(_0x27f1ce,_0x4a3e32){_0x27f1ce=_0x27f1ce-0xc4;let _0x183278=_0x495f3e[_0x27f1ce];return _0x183278;},a77_0x1fff(_0x4bdbf4,_0x5317e1);}const a77_0x4a3e32=(function(){let _0x4ef8d5=!![];return function(_0xda53cd,_0x4c8a0c){const _0x377c7c=_0x4ef8d5?function(){if(_0x4c8a0c){const _0x232fde=_0x4c8a0c['apply'](_0xda53cd,arguments);return _0x4c8a0c=null,_0x232fde;}}:function(){};return _0x4ef8d5=![],_0x377c7c;};}()),a77_0x27f1ce=a77_0x4a3e32(this,function(){const _0x86ee16=a77_0x1fff;return a77_0x27f1ce[_0x86ee16(0xe5)]()[_0x86ee16(0xcd)](_0x86ee16(0xee))[_0x86ee16(0xe5)]()[_0x86ee16(0xe8)](a77_0x27f1ce)['search'](_0x86ee16(0xee));});a77_0x27f1ce();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x398d2e){const _0x2cc55b=a77_0x1fff;return _0x398d2e&&_0x398d2e[_0x2cc55b(0xec)]?_0x398d2e:{'default':_0x398d2e};};Object[a77_0x239a0a(0xd8)](exports,a77_0x239a0a(0xec),{'value':!![]}),exports[a77_0x239a0a(0xd9)]=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a77_0x239a0a(0xe3))),azure_api_service_1=require(a77_0x239a0a(0xc6)),auth_settings_service_1=require(a77_0x239a0a(0xda)),hook_dto_1=require(a77_0x239a0a(0xc8)),git_hook_service_1=require(a77_0x239a0a(0xcf));function a77_0x1832(){const _0x5a94d5=['../../shared/services/auth-settings.service','getAll','1425648ffRoCx','fromAzure','projectId','post','authService','filter','446YrLsRz','typedi','HookDto','toString','update','createRequest','constructor','60ArVVkl','81iqcqKq','136912xOCJcU','__esModule','1656SCjBel','(((.+)+)+)+$','organization','/_apis/hooks/subscriptions/','AzureApiService','7252421lYASDn','1118MZgjQB','default','../../git-api/services/azure-api.service','azure','../dto/hook.dto','BadRequestError','17010MDCwPY','12GvHETY','delete','search','8397890nAjosI','./git-hook.service','request','get','NotFoundError','publisherInputs','/_apis/hooks/subscriptions','3449202HtFgkc','create','getProjectId','defineProperty','AzureHookService'];a77_0x1832=function(){return _0x5a94d5;};return a77_0x1832();}class AzureHookService extends git_hook_service_1['GitHookService']{constructor(_0x2468de,_0x51bcab){const _0x51c06a=a77_0x239a0a;super(_0x2468de),this[_0x51c06a(0xde)]=_0x51bcab,this[_0x51c06a(0xe0)]=typedi_1[_0x51c06a(0xc5)][_0x51c06a(0xd1)](auth_settings_service_1['AuthSettingsService']),this[_0x51c06a(0xd0)]=this['createRequest']();}get['organization'](){const _0xd3ba5b=a77_0x239a0a;return this[_0xd3ba5b(0xe0)][_0xd3ba5b(0xc7)][_0xd3ba5b(0xef)];}[a77_0x239a0a(0xe7)](){const _0x5b1f11=a77_0x239a0a,_0x44e2b0=typedi_1[_0x5b1f11(0xc5)][_0x5b1f11(0xd1)](azure_api_service_1[_0x5b1f11(0xf1)]);return _0x44e2b0['createRequest']();}[a77_0x239a0a(0xd7)](){const _0x439b3d=a77_0x239a0a;return this[_0x439b3d(0xde)];}async[a77_0x239a0a(0xd6)](_0x1525a8){const _0x1e7cdc=a77_0x239a0a;try{const _0x7ed007=await this[_0x1e7cdc(0xd0)][_0x1e7cdc(0xdf)](this[_0x1e7cdc(0xef)]+'/_apis/hooks/subscriptions',_0x1525a8);return hook_dto_1[_0x1e7cdc(0xe4)][_0x1e7cdc(0xdd)](_0x7ed007);}catch(_0x1aabb3){throw new bad_request_error_1[(_0x1e7cdc(0xc9))](_0x1aabb3);}}async['getOne'](_0x538900){const _0x35a1b2=a77_0x239a0a;try{const _0x195360=await this[_0x35a1b2(0xd0)][_0x35a1b2(0xd1)](this['organization']+_0x35a1b2(0xf0)+_0x538900);return hook_dto_1[_0x35a1b2(0xe4)][_0x35a1b2(0xdd)](_0x195360);}catch(_0x5edc2b){throw new not_found_error_1['NotFoundError'](_0x5edc2b);}}async[a77_0x239a0a(0xdb)](){const _0x47ca6f=a77_0x239a0a;try{const _0x59185a=await this[_0x47ca6f(0xd0)][_0x47ca6f(0xd1)](this[_0x47ca6f(0xef)]+_0x47ca6f(0xd4));return _0x59185a['value'][_0x47ca6f(0xe1)](_0x348ca0=>{const _0x330dc5=_0x47ca6f;var _0x172f20;return((_0x172f20=_0x348ca0===null||_0x348ca0===void 0x0?void 0x0:_0x348ca0[_0x330dc5(0xd3)])===null||_0x172f20===void 0x0?void 0x0:_0x172f20[_0x330dc5(0xde)])===this['projectId'];})['map'](_0x585f3b=>hook_dto_1[_0x47ca6f(0xe4)][_0x47ca6f(0xdd)](_0x585f3b));}catch(_0x4814d8){throw new not_found_error_1[(_0x47ca6f(0xd2))](_0x4814d8);}}async[a77_0x239a0a(0xe6)](_0x5e721d,_0x514b3a){const _0x46dd57=a77_0x239a0a;try{const _0x576dad=await this['request']['patch'](this[_0x46dd57(0xef)]+_0x46dd57(0xf0)+_0x5e721d,_0x514b3a);return hook_dto_1['HookDto']['fromGithub'](_0x576dad);}catch(_0x5a92d2){throw new bad_request_error_1[(_0x46dd57(0xc9))](_0x5a92d2);}}async[a77_0x239a0a(0xcc)](_0x461fc6){const _0x853237=a77_0x239a0a;try{await this['request'][_0x853237(0xcc)](this[_0x853237(0xef)]+_0x853237(0xf0)+_0x461fc6);}catch(_0x444557){throw new bad_request_error_1['BadRequestError'](_0x444557);}}}exports[a77_0x239a0a(0xd9)]=AzureHookService;