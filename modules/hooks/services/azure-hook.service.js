const a78_0x4d3a61=a78_0x239e;(function(_0x56c010,_0x607db2){const _0xf189fb=a78_0x239e,_0x421009=_0x56c010();while(!![]){try{const _0x1ffeaa=-parseInt(_0xf189fb(0x169))/0x1+parseInt(_0xf189fb(0x163))/0x2*(parseInt(_0xf189fb(0x16f))/0x3)+parseInt(_0xf189fb(0x15f))/0x4+parseInt(_0xf189fb(0x160))/0x5*(-parseInt(_0xf189fb(0x181))/0x6)+parseInt(_0xf189fb(0x156))/0x7*(-parseInt(_0xf189fb(0x151))/0x8)+parseInt(_0xf189fb(0x164))/0x9*(-parseInt(_0xf189fb(0x166))/0xa)+parseInt(_0xf189fb(0x152))/0xb;if(_0x1ffeaa===_0x607db2)break;else _0x421009['push'](_0x421009['shift']());}catch(_0x49c2b4){_0x421009['push'](_0x421009['shift']());}}}(a78_0x28cd,0x7a30c));const a78_0x5adef3=(function(){let _0x47abfd=!![];return function(_0x1a992d,_0x30656d){const _0x6517e3=_0x47abfd?function(){const _0xc8dd17=a78_0x239e;if(_0x30656d){const _0x2d5abc=_0x30656d[_0xc8dd17(0x15d)](_0x1a992d,arguments);return _0x30656d=null,_0x2d5abc;}}:function(){};return _0x47abfd=![],_0x6517e3;};}()),a78_0xb1ab61=a78_0x5adef3(this,function(){const _0x8f15dd=a78_0x239e;return a78_0xb1ab61[_0x8f15dd(0x17c)]()[_0x8f15dd(0x173)](_0x8f15dd(0x179))[_0x8f15dd(0x17c)]()[_0x8f15dd(0x15a)](a78_0xb1ab61)[_0x8f15dd(0x173)](_0x8f15dd(0x179));});function a78_0x239e(_0x5e77dd,_0x22fcd){const _0x483010=a78_0x28cd();return a78_0x239e=function(_0xb1ab61,_0x5adef3){_0xb1ab61=_0xb1ab61-0x151;let _0x28cd7c=_0x483010[_0xb1ab61];return _0x28cd7c;},a78_0x239e(_0x5e77dd,_0x22fcd);}a78_0xb1ab61();function a78_0x28cd(){const _0x15f51d=['fromAzure','get','GitHookService','constructor','./git-hook.service','publisherInputs','apply','filter','2888000kLPhwb','5FSYnsB','delete','value','2dmuulv','7558119qiXvKO','__importDefault','10HulWzE','HookDto','../../git-api/services/azure-api.service','527640rHaxrp','AzureHookService','__esModule','default','update','../../../core/errors/bad-request.error','2950359awQKKi','defineProperty','authService','/_apis/hooks/subscriptions/','search','fromGithub','getOne','AzureApiService','typedi','post','(((.+)+)+)+$','projectId','request','toString','../../shared/services/auth-settings.service','getAll','NotFoundError','BadRequestError','3716658GrykEk','getProjectId','2055032hievsI','11426712GGaLHM','organization','createRequest','patch','7yGKtKD'];a78_0x28cd=function(){return _0x15f51d;};return a78_0x28cd();}'use strict';var __importDefault=this&&this[a78_0x4d3a61(0x165)]||function(_0x3f9641){const _0x2b20e9=a78_0x4d3a61;return _0x3f9641&&_0x3f9641[_0x2b20e9(0x16b)]?_0x3f9641:{'default':_0x3f9641};};Object[a78_0x4d3a61(0x170)](exports,a78_0x4d3a61(0x16b),{'value':!![]}),exports[a78_0x4d3a61(0x16a)]=void 0x0;const bad_request_error_1=require(a78_0x4d3a61(0x16e)),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require(a78_0x4d3a61(0x177))),azure_api_service_1=require(a78_0x4d3a61(0x168)),auth_settings_service_1=require(a78_0x4d3a61(0x17d)),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require(a78_0x4d3a61(0x15b));class AzureHookService extends git_hook_service_1[a78_0x4d3a61(0x159)]{constructor(_0x323db7,_0x4a6023){const _0x4537ab=a78_0x4d3a61;super(_0x323db7),this[_0x4537ab(0x17a)]=_0x4a6023,this[_0x4537ab(0x171)]=typedi_1[_0x4537ab(0x16c)][_0x4537ab(0x158)](auth_settings_service_1['AuthSettingsService']),this['request']=this[_0x4537ab(0x154)]();}get[a78_0x4d3a61(0x153)](){const _0x509f61=a78_0x4d3a61;return this['authService']['azure'][_0x509f61(0x153)];}[a78_0x4d3a61(0x154)](){const _0x31ce1d=a78_0x4d3a61,_0x440dba=typedi_1[_0x31ce1d(0x16c)][_0x31ce1d(0x158)](azure_api_service_1[_0x31ce1d(0x176)]);return _0x440dba[_0x31ce1d(0x154)]();}[a78_0x4d3a61(0x182)](){return this['projectId'];}async['create'](_0x340d95){const _0x13c8c4=a78_0x4d3a61;try{const _0x38445b=await this[_0x13c8c4(0x17b)][_0x13c8c4(0x178)](this[_0x13c8c4(0x153)]+'/_apis/hooks/subscriptions',_0x340d95);return hook_dto_1[_0x13c8c4(0x167)][_0x13c8c4(0x157)](_0x38445b);}catch(_0x2619a0){throw new bad_request_error_1[(_0x13c8c4(0x180))](_0x2619a0);}}async[a78_0x4d3a61(0x175)](_0x5bef9f){const _0x176a9b=a78_0x4d3a61;try{const _0x166423=await this[_0x176a9b(0x17b)]['get'](this[_0x176a9b(0x153)]+'/_apis/hooks/subscriptions/'+_0x5bef9f);return hook_dto_1[_0x176a9b(0x167)][_0x176a9b(0x157)](_0x166423);}catch(_0x127ff8){throw new not_found_error_1[(_0x176a9b(0x17f))](_0x127ff8);}}async[a78_0x4d3a61(0x17e)](){const _0x3334b6=a78_0x4d3a61;try{const _0x205b59=await this[_0x3334b6(0x17b)][_0x3334b6(0x158)](this['organization']+'/_apis/hooks/subscriptions');return _0x205b59[_0x3334b6(0x162)][_0x3334b6(0x15e)](_0x39d49=>{const _0x3fc33c=_0x3334b6;var _0x7a8dff;return((_0x7a8dff=_0x39d49===null||_0x39d49===void 0x0?void 0x0:_0x39d49[_0x3fc33c(0x15c)])===null||_0x7a8dff===void 0x0?void 0x0:_0x7a8dff[_0x3fc33c(0x17a)])===this[_0x3fc33c(0x17a)];})['map'](_0x252cdb=>hook_dto_1['HookDto'][_0x3334b6(0x157)](_0x252cdb));}catch(_0x21bc50){throw new not_found_error_1['NotFoundError'](_0x21bc50);}}async[a78_0x4d3a61(0x16d)](_0x37c66d,_0xf839d5){const _0x52b4f6=a78_0x4d3a61;try{const _0x108a48=await this['request'][_0x52b4f6(0x155)](this[_0x52b4f6(0x153)]+'/_apis/hooks/subscriptions/'+_0x37c66d,_0xf839d5);return hook_dto_1[_0x52b4f6(0x167)][_0x52b4f6(0x174)](_0x108a48);}catch(_0x1e78f1){throw new bad_request_error_1[(_0x52b4f6(0x180))](_0x1e78f1);}}async['delete'](_0x56628c){const _0x5b1588=a78_0x4d3a61;try{await this[_0x5b1588(0x17b)][_0x5b1588(0x161)](this[_0x5b1588(0x153)]+_0x5b1588(0x172)+_0x56628c);}catch(_0x372cf5){throw new bad_request_error_1[(_0x5b1588(0x180))](_0x372cf5);}}}exports[a78_0x4d3a61(0x16a)]=AzureHookService;