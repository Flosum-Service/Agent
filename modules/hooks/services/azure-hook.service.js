const a78_0x27b822=a78_0x22bd;function a78_0x2754(){const _0x397310=['publisherInputs','authService','NotFoundError','6632YOmwUt','update','request','filter','fromAzure','../../shared/services/auth-settings.service','typedi','84120jMzOyP','99224AaPRMw','GitHookService','14714fAuPin','682VrQOZW','HookDto','143670OeMSFh','get','2211642GkSWbm','fromGithub','organization','./git-hook.service','(((.+)+)+)+$','apply','createRequest','projectId','map','getOne','../dto/hook.dto','constructor','4647ZGThXn','1572Lbegeo','__importDefault','/_apis/hooks/subscriptions','310fZBjjY','value','../../../core/errors/not-found.error','__esModule','BadRequestError','delete','../../../core/errors/bad-request.error','default','../../git-api/services/azure-api.service','AzureHookService','toString','/_apis/hooks/subscriptions/','defineProperty','search','getAll','12745665gMPSZh','AuthSettingsService','azure','create'];a78_0x2754=function(){return _0x397310;};return a78_0x2754();}(function(_0x46389e,_0x22824d){const _0x263b5e=a78_0x22bd,_0x349ecd=_0x46389e();while(!![]){try{const _0x457b1b=parseInt(_0x263b5e(0x1da))/0x1+-parseInt(_0x263b5e(0x1e9))/0x2*(parseInt(_0x263b5e(0x1e8))/0x3)+-parseInt(_0x263b5e(0x1d5))/0x4*(-parseInt(_0x263b5e(0x1ec))/0x5)+-parseInt(_0x263b5e(0x1dc))/0x6+-parseInt(_0x263b5e(0x1d7))/0x7*(-parseInt(_0x263b5e(0x202))/0x8)+-parseInt(_0x263b5e(0x1fb))/0x9+parseInt(_0x263b5e(0x1d4))/0xa*(parseInt(_0x263b5e(0x1d8))/0xb);if(_0x457b1b===_0x22824d)break;else _0x349ecd['push'](_0x349ecd['shift']());}catch(_0x59a9b3){_0x349ecd['push'](_0x349ecd['shift']());}}}(a78_0x2754,0xe654e));const a78_0x4ab6c2=(function(){let _0x462af5=!![];return function(_0xba707c,_0xf8c488){const _0x464b02=_0x462af5?function(){const _0x579e01=a78_0x22bd;if(_0xf8c488){const _0x30286e=_0xf8c488[_0x579e01(0x1e1)](_0xba707c,arguments);return _0xf8c488=null,_0x30286e;}}:function(){};return _0x462af5=![],_0x464b02;};}()),a78_0x419707=a78_0x4ab6c2(this,function(){const _0xbf80f3=a78_0x22bd;return a78_0x419707['toString']()[_0xbf80f3(0x1f9)]('(((.+)+)+)+$')[_0xbf80f3(0x1f6)]()[_0xbf80f3(0x1e7)](a78_0x419707)[_0xbf80f3(0x1f9)](_0xbf80f3(0x1e0));});a78_0x419707();function a78_0x22bd(_0x7b2f41,_0x4a7a62){const _0xfe94b4=a78_0x2754();return a78_0x22bd=function(_0x419707,_0x4ab6c2){_0x419707=_0x419707-0x1d2;let _0x2754d2=_0xfe94b4[_0x419707];return _0x2754d2;},a78_0x22bd(_0x7b2f41,_0x4a7a62);}'use strict';var __importDefault=this&&this[a78_0x27b822(0x1ea)]||function(_0x3a5a09){const _0x43682b=a78_0x27b822;return _0x3a5a09&&_0x3a5a09[_0x43682b(0x1ef)]?_0x3a5a09:{'default':_0x3a5a09};};Object[a78_0x27b822(0x1f8)](exports,a78_0x27b822(0x1ef),{'value':!![]}),exports[a78_0x27b822(0x1f5)]=void 0x0;const bad_request_error_1=require(a78_0x27b822(0x1f2)),not_found_error_1=require(a78_0x27b822(0x1ee)),typedi_1=__importDefault(require(a78_0x27b822(0x1d3))),azure_api_service_1=require(a78_0x27b822(0x1f4)),auth_settings_service_1=require(a78_0x27b822(0x1d2)),hook_dto_1=require(a78_0x27b822(0x1e6)),git_hook_service_1=require(a78_0x27b822(0x1df));class AzureHookService extends git_hook_service_1[a78_0x27b822(0x1d6)]{constructor(_0xa7f9ec,_0x38721d){const _0x425e4d=a78_0x27b822;super(_0xa7f9ec),this[_0x425e4d(0x1e3)]=_0x38721d,this[_0x425e4d(0x200)]=typedi_1[_0x425e4d(0x1f3)][_0x425e4d(0x1db)](auth_settings_service_1[_0x425e4d(0x1fc)]),this[_0x425e4d(0x204)]=this[_0x425e4d(0x1e2)]();}get['organization'](){const _0x4bbb4c=a78_0x27b822;return this[_0x4bbb4c(0x200)][_0x4bbb4c(0x1fd)]['organization'];}[a78_0x27b822(0x1e2)](){const _0x59e67a=a78_0x27b822,_0x1cc699=typedi_1[_0x59e67a(0x1f3)][_0x59e67a(0x1db)](azure_api_service_1['AzureApiService']);return _0x1cc699[_0x59e67a(0x1e2)]();}['getProjectId'](){return this['projectId'];}async[a78_0x27b822(0x1fe)](_0x54966f){const _0x30bf18=a78_0x27b822;try{const _0x1ec32a=await this[_0x30bf18(0x204)]['post'](this[_0x30bf18(0x1de)]+_0x30bf18(0x1eb),_0x54966f);return hook_dto_1[_0x30bf18(0x1d9)][_0x30bf18(0x206)](_0x1ec32a);}catch(_0x12bc14){throw new bad_request_error_1['BadRequestError'](_0x12bc14);}}async[a78_0x27b822(0x1e5)](_0x8c163a){const _0x34ccde=a78_0x27b822;try{const _0x26adb3=await this[_0x34ccde(0x204)][_0x34ccde(0x1db)](this['organization']+_0x34ccde(0x1f7)+_0x8c163a);return hook_dto_1[_0x34ccde(0x1d9)][_0x34ccde(0x206)](_0x26adb3);}catch(_0x3ccaeb){throw new not_found_error_1[(_0x34ccde(0x201))](_0x3ccaeb);}}async[a78_0x27b822(0x1fa)](){const _0x3bf92e=a78_0x27b822;try{const _0x592f3c=await this[_0x3bf92e(0x204)][_0x3bf92e(0x1db)](this[_0x3bf92e(0x1de)]+'/_apis/hooks/subscriptions');return _0x592f3c[_0x3bf92e(0x1ed)][_0x3bf92e(0x205)](_0x85c923=>{const _0x10dd93=_0x3bf92e;var _0x5c8da5;return((_0x5c8da5=_0x85c923===null||_0x85c923===void 0x0?void 0x0:_0x85c923[_0x10dd93(0x1ff)])===null||_0x5c8da5===void 0x0?void 0x0:_0x5c8da5['projectId'])===this[_0x10dd93(0x1e3)];})[_0x3bf92e(0x1e4)](_0xdeeb4a=>hook_dto_1[_0x3bf92e(0x1d9)][_0x3bf92e(0x206)](_0xdeeb4a));}catch(_0x3c19da){throw new not_found_error_1[(_0x3bf92e(0x201))](_0x3c19da);}}async[a78_0x27b822(0x203)](_0x3a3f62,_0x4e12d8){const _0x37e98a=a78_0x27b822;try{const _0x44e56e=await this[_0x37e98a(0x204)]['patch'](this[_0x37e98a(0x1de)]+'/_apis/hooks/subscriptions/'+_0x3a3f62,_0x4e12d8);return hook_dto_1[_0x37e98a(0x1d9)][_0x37e98a(0x1dd)](_0x44e56e);}catch(_0x5861bd){throw new bad_request_error_1['BadRequestError'](_0x5861bd);}}async[a78_0x27b822(0x1f1)](_0xde1dbd){const _0x351e28=a78_0x27b822;try{await this['request'][_0x351e28(0x1f1)](this['organization']+_0x351e28(0x1f7)+_0xde1dbd);}catch(_0x460aa9){throw new bad_request_error_1[(_0x351e28(0x1f0))](_0x460aa9);}}}exports[a78_0x27b822(0x1f5)]=AzureHookService;