const a77_0x7c96c=a77_0x544b;(function(_0x41dc23,_0x41fd48){const _0x4a651a=a77_0x544b,_0x1a6d64=_0x41dc23();while(!![]){try{const _0x1e93b4=-parseInt(_0x4a651a(0xf7))/0x1+parseInt(_0x4a651a(0xcf))/0x2+parseInt(_0x4a651a(0xd6))/0x3*(parseInt(_0x4a651a(0xdf))/0x4)+parseInt(_0x4a651a(0xf8))/0x5+-parseInt(_0x4a651a(0xe3))/0x6*(parseInt(_0x4a651a(0xfb))/0x7)+-parseInt(_0x4a651a(0xe1))/0x8*(-parseInt(_0x4a651a(0xce))/0x9)+parseInt(_0x4a651a(0xed))/0xa*(-parseInt(_0x4a651a(0xd1))/0xb);if(_0x1e93b4===_0x41fd48)break;else _0x1a6d64['push'](_0x1a6d64['shift']());}catch(_0x221e0a){_0x1a6d64['push'](_0x1a6d64['shift']());}}}(a77_0x3c59,0x8e8fb));const a77_0xe29a4=(function(){let _0x36514d=!![];return function(_0x15ce47,_0x7c9617){const _0x45b58a=_0x36514d?function(){const _0x42bb6c=a77_0x544b;if(_0x7c9617){const _0x182939=_0x7c9617[_0x42bb6c(0xef)](_0x15ce47,arguments);return _0x7c9617=null,_0x182939;}}:function(){};return _0x36514d=![],_0x45b58a;};}()),a77_0x349b6c=a77_0xe29a4(this,function(){const _0x5de2d9=a77_0x544b;return a77_0x349b6c[_0x5de2d9(0xf3)]()[_0x5de2d9(0xe9)](_0x5de2d9(0xf9))[_0x5de2d9(0xf3)]()[_0x5de2d9(0xeb)](a77_0x349b6c)[_0x5de2d9(0xe9)](_0x5de2d9(0xf9));});a77_0x349b6c();function a77_0x3c59(){const _0x172cf7=['constructor','../../../core/errors/not-found.error','38070qYfAZW','azure','apply','update','fromAzure','typedi','toString','BadRequestError','post','map','378151cvQpzd','38480ezJRYF','(((.+)+)+)+$','create','49kuGLJW','/_apis/hooks/subscriptions','AzureApiService','HookDto','24435iBNhTQ','480840YUbjPi','publisherInputs','1386RvPqPM','request','projectId','GitHookService','delete','3JgcRiX','default','../../shared/services/auth-settings.service','patch','__esModule','defineProperty','getAll','../dto/hook.dto','authService','2861464ZKOMOf','fromGithub','2856teDjoz','NotFoundError','420834PGdqim','createRequest','value','get','organization','__importDefault','search','/_apis/hooks/subscriptions/'];a77_0x3c59=function(){return _0x172cf7;};return a77_0x3c59();}'use strict';var __importDefault=this&&this[a77_0x7c96c(0xe8)]||function(_0x21e98b){const _0x17d528=a77_0x7c96c;return _0x21e98b&&_0x21e98b[_0x17d528(0xda)]?_0x21e98b:{'default':_0x21e98b};};Object[a77_0x7c96c(0xdb)](exports,a77_0x7c96c(0xda),{'value':!![]}),exports['AzureHookService']=void 0x0;const bad_request_error_1=require('../../../core/errors/bad-request.error'),not_found_error_1=require(a77_0x7c96c(0xec)),typedi_1=__importDefault(require(a77_0x7c96c(0xf2))),azure_api_service_1=require('../../git-api/services/azure-api.service'),auth_settings_service_1=require(a77_0x7c96c(0xd8)),hook_dto_1=require(a77_0x7c96c(0xdd)),git_hook_service_1=require('./git-hook.service');function a77_0x544b(_0x37a2a7,_0x5ad6f3){const _0x21b81a=a77_0x3c59();return a77_0x544b=function(_0x349b6c,_0xe29a4){_0x349b6c=_0x349b6c-0xcc;let _0x3c5994=_0x21b81a[_0x349b6c];return _0x3c5994;},a77_0x544b(_0x37a2a7,_0x5ad6f3);}class AzureHookService extends git_hook_service_1[a77_0x7c96c(0xd4)]{constructor(_0x5cb1bc,_0x86995e){const _0x4b6ae4=a77_0x7c96c;super(_0x5cb1bc),this[_0x4b6ae4(0xd3)]=_0x86995e,this[_0x4b6ae4(0xde)]=typedi_1['default']['get'](auth_settings_service_1['AuthSettingsService']),this[_0x4b6ae4(0xd2)]=this[_0x4b6ae4(0xe4)]();}get[a77_0x7c96c(0xe7)](){const _0x168503=a77_0x7c96c;return this[_0x168503(0xde)][_0x168503(0xee)][_0x168503(0xe7)];}[a77_0x7c96c(0xe4)](){const _0x5df95e=a77_0x7c96c,_0x7c76bd=typedi_1[_0x5df95e(0xd7)][_0x5df95e(0xe6)](azure_api_service_1[_0x5df95e(0xcc)]);return _0x7c76bd[_0x5df95e(0xe4)]();}['getProjectId'](){return this['projectId'];}async[a77_0x7c96c(0xfa)](_0x271dd0){const _0x43c227=a77_0x7c96c;try{const _0x27dd40=await this[_0x43c227(0xd2)][_0x43c227(0xf5)](this['organization']+_0x43c227(0xfc),_0x271dd0);return hook_dto_1[_0x43c227(0xcd)]['fromAzure'](_0x27dd40);}catch(_0x41d1ce){throw new bad_request_error_1[(_0x43c227(0xf4))](_0x41d1ce);}}async['getOne'](_0x261a22){const _0x583b18=a77_0x7c96c;try{const _0x201d07=await this[_0x583b18(0xd2)][_0x583b18(0xe6)](this['organization']+_0x583b18(0xea)+_0x261a22);return hook_dto_1[_0x583b18(0xcd)][_0x583b18(0xf1)](_0x201d07);}catch(_0x1438bb){throw new not_found_error_1[(_0x583b18(0xe2))](_0x1438bb);}}async[a77_0x7c96c(0xdc)](){const _0xbec478=a77_0x7c96c;try{const _0x269c89=await this[_0xbec478(0xd2)]['get'](this[_0xbec478(0xe7)]+_0xbec478(0xfc));return _0x269c89[_0xbec478(0xe5)]['filter'](_0x576a0c=>{const _0x28afed=_0xbec478;var _0x14f620;return((_0x14f620=_0x576a0c===null||_0x576a0c===void 0x0?void 0x0:_0x576a0c[_0x28afed(0xd0)])===null||_0x14f620===void 0x0?void 0x0:_0x14f620['projectId'])===this['projectId'];})[_0xbec478(0xf6)](_0x5a4144=>hook_dto_1[_0xbec478(0xcd)]['fromAzure'](_0x5a4144));}catch(_0x205f91){throw new not_found_error_1[(_0xbec478(0xe2))](_0x205f91);}}async[a77_0x7c96c(0xf0)](_0x37aa5f,_0x2fbccf){const _0x4e6585=a77_0x7c96c;try{const _0x30be87=await this[_0x4e6585(0xd2)][_0x4e6585(0xd9)](this[_0x4e6585(0xe7)]+_0x4e6585(0xea)+_0x37aa5f,_0x2fbccf);return hook_dto_1[_0x4e6585(0xcd)][_0x4e6585(0xe0)](_0x30be87);}catch(_0x8774a7){throw new bad_request_error_1[(_0x4e6585(0xf4))](_0x8774a7);}}async[a77_0x7c96c(0xd5)](_0x2ce8ba){const _0x10ebd8=a77_0x7c96c;try{await this[_0x10ebd8(0xd2)]['delete'](this[_0x10ebd8(0xe7)]+'/_apis/hooks/subscriptions/'+_0x2ce8ba);}catch(_0x5cc178){throw new bad_request_error_1[(_0x10ebd8(0xf4))](_0x5cc178);}}}exports['AzureHookService']=AzureHookService;