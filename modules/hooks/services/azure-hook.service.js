const a78_0x138580=a78_0x1897;(function(_0xd6138,_0x222f04){const _0x13d314=a78_0x1897,_0x245306=_0xd6138();while(!![]){try{const _0x2a689c=-parseInt(_0x13d314(0xab))/0x1+parseInt(_0x13d314(0xba))/0x2+parseInt(_0x13d314(0xa0))/0x3*(parseInt(_0x13d314(0xb1))/0x4)+-parseInt(_0x13d314(0xc8))/0x5*(parseInt(_0x13d314(0xaf))/0x6)+parseInt(_0x13d314(0xa9))/0x7+-parseInt(_0x13d314(0xbc))/0x8*(parseInt(_0x13d314(0xc7))/0x9)+parseInt(_0x13d314(0x9c))/0xa;if(_0x2a689c===_0x222f04)break;else _0x245306['push'](_0x245306['shift']());}catch(_0x3da4ce){_0x245306['push'](_0x245306['shift']());}}}(a78_0x172d,0x3b0a7));const a78_0x431333=(function(){let _0x12b68d=!![];return function(_0x1cbb39,_0x1b99cb){const _0x3e3c3d=_0x12b68d?function(){const _0x1268b2=a78_0x1897;if(_0x1b99cb){const _0x1caf5c=_0x1b99cb[_0x1268b2(0xc3)](_0x1cbb39,arguments);return _0x1b99cb=null,_0x1caf5c;}}:function(){};return _0x12b68d=![],_0x3e3c3d;};}()),a78_0x2061f1=a78_0x431333(this,function(){const _0x157b48=a78_0x1897;return a78_0x2061f1[_0x157b48(0xa4)]()['search']('(((.+)+)+)+$')[_0x157b48(0xa4)]()['constructor'](a78_0x2061f1)[_0x157b48(0xc1)](_0x157b48(0xca));});function a78_0x1897(_0x1651a3,_0x2ed217){const _0x3b2083=a78_0x172d();return a78_0x1897=function(_0x2061f1,_0x431333){_0x2061f1=_0x2061f1-0x9c;let _0x172d54=_0x3b2083[_0x2061f1];return _0x172d54;},a78_0x1897(_0x1651a3,_0x2ed217);}function a78_0x172d(){const _0x545704=['toString','defineProperty','post','GitHookService','default','33929uLLzCh','update','407519CyFseF','../../../core/errors/bad-request.error','fromGithub','../../shared/services/auth-settings.service','78tqUiuW','request','1436996gMCqGP','getProjectId','/_apis/hooks/subscriptions','__importDefault','authService','filter','AuthSettingsService','map','create','474934vddvXW','../../git-api/services/azure-api.service','74336enMeYC','BadRequestError','get','value','AzureHookService','search','patch','apply','fromAzure','/_apis/hooks/subscriptions/','./git-hook.service','207ipSgRF','63340VdTgwf','organization','(((.+)+)+)+$','getAll','4261870opVFmw','HookDto','getOne','__esModule','3FPQBra','NotFoundError','AzureApiService','createRequest'];a78_0x172d=function(){return _0x545704;};return a78_0x172d();}a78_0x2061f1();'use strict';var __importDefault=this&&this[a78_0x138580(0xb4)]||function(_0x5ba586){const _0x1dd900=a78_0x138580;return _0x5ba586&&_0x5ba586[_0x1dd900(0x9f)]?_0x5ba586:{'default':_0x5ba586};};Object[a78_0x138580(0xa5)](exports,a78_0x138580(0x9f),{'value':!![]}),exports[a78_0x138580(0xc0)]=void 0x0;const bad_request_error_1=require(a78_0x138580(0xac)),not_found_error_1=require('../../../core/errors/not-found.error'),typedi_1=__importDefault(require('typedi')),azure_api_service_1=require(a78_0x138580(0xbb)),auth_settings_service_1=require(a78_0x138580(0xae)),hook_dto_1=require('../dto/hook.dto'),git_hook_service_1=require(a78_0x138580(0xc6));class AzureHookService extends git_hook_service_1[a78_0x138580(0xa7)]{constructor(_0x1e0b13,_0x10953f){const _0x270a5b=a78_0x138580;super(_0x1e0b13),this['projectId']=_0x10953f,this[_0x270a5b(0xb5)]=typedi_1['default'][_0x270a5b(0xbe)](auth_settings_service_1[_0x270a5b(0xb7)]),this[_0x270a5b(0xb0)]=this[_0x270a5b(0xa3)]();}get[a78_0x138580(0xc9)](){const _0x2d81ff=a78_0x138580;return this[_0x2d81ff(0xb5)]['azure'][_0x2d81ff(0xc9)];}[a78_0x138580(0xa3)](){const _0x2dda21=a78_0x138580,_0x48a289=typedi_1[_0x2dda21(0xa8)][_0x2dda21(0xbe)](azure_api_service_1[_0x2dda21(0xa2)]);return _0x48a289[_0x2dda21(0xa3)]();}[a78_0x138580(0xb2)](){return this['projectId'];}async[a78_0x138580(0xb9)](_0x4f79b2){const _0x43913f=a78_0x138580;try{const _0x37e003=await this['request'][_0x43913f(0xa6)](this['organization']+_0x43913f(0xb3),_0x4f79b2);return hook_dto_1['HookDto']['fromAzure'](_0x37e003);}catch(_0x5c0049){throw new bad_request_error_1[(_0x43913f(0xbd))](_0x5c0049);}}async[a78_0x138580(0x9e)](_0x3780af){const _0xb40c68=a78_0x138580;try{const _0x128280=await this[_0xb40c68(0xb0)][_0xb40c68(0xbe)](this[_0xb40c68(0xc9)]+_0xb40c68(0xc5)+_0x3780af);return hook_dto_1['HookDto'][_0xb40c68(0xc4)](_0x128280);}catch(_0x5a9a96){throw new not_found_error_1[(_0xb40c68(0xa1))](_0x5a9a96);}}async[a78_0x138580(0xcb)](){const _0x2b20f6=a78_0x138580;try{const _0xf947d1=await this[_0x2b20f6(0xb0)]['get'](this[_0x2b20f6(0xc9)]+'/_apis/hooks/subscriptions');return _0xf947d1[_0x2b20f6(0xbf)][_0x2b20f6(0xb6)](_0x509345=>{var _0x457f97;return((_0x457f97=_0x509345===null||_0x509345===void 0x0?void 0x0:_0x509345['publisherInputs'])===null||_0x457f97===void 0x0?void 0x0:_0x457f97['projectId'])===this['projectId'];})[_0x2b20f6(0xb8)](_0x25bf58=>hook_dto_1[_0x2b20f6(0x9d)][_0x2b20f6(0xc4)](_0x25bf58));}catch(_0x1fecf7){throw new not_found_error_1[(_0x2b20f6(0xa1))](_0x1fecf7);}}async[a78_0x138580(0xaa)](_0x1a7d4a,_0x3057c8){const _0x579764=a78_0x138580;try{const _0x51e520=await this[_0x579764(0xb0)][_0x579764(0xc2)](this[_0x579764(0xc9)]+'/_apis/hooks/subscriptions/'+_0x1a7d4a,_0x3057c8);return hook_dto_1[_0x579764(0x9d)][_0x579764(0xad)](_0x51e520);}catch(_0x5b1dac){throw new bad_request_error_1['BadRequestError'](_0x5b1dac);}}async['delete'](_0x35400b){const _0x47c54d=a78_0x138580;try{await this['request']['delete'](this[_0x47c54d(0xc9)]+'/_apis/hooks/subscriptions/'+_0x35400b);}catch(_0x18d3f1){throw new bad_request_error_1[(_0x47c54d(0xbd))](_0x18d3f1);}}}exports[a78_0x138580(0xc0)]=AzureHookService;