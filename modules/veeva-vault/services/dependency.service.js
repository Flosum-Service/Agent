const a388_0x30d2bf=a388_0xe6d9;(function(_0x6fa395,_0x1517e1){const _0x47e1bc=a388_0xe6d9,_0x53fb4a=_0x6fa395();while(!![]){try{const _0x3a5462=parseInt(_0x47e1bc(0x1d7))/0x1*(parseInt(_0x47e1bc(0x1d9))/0x2)+-parseInt(_0x47e1bc(0x1e9))/0x3+parseInt(_0x47e1bc(0x1e6))/0x4*(parseInt(_0x47e1bc(0x1d4))/0x5)+-parseInt(_0x47e1bc(0x1c3))/0x6+-parseInt(_0x47e1bc(0x1ea))/0x7+parseInt(_0x47e1bc(0x1d1))/0x8*(-parseInt(_0x47e1bc(0x1c6))/0x9)+parseInt(_0x47e1bc(0x1c1))/0xa;if(_0x3a5462===_0x1517e1)break;else _0x53fb4a['push'](_0x53fb4a['shift']());}catch(_0x26880d){_0x53fb4a['push'](_0x53fb4a['shift']());}}}(a388_0x2643,0xa78f9));const a388_0x586c73=(function(){let _0x385998=!![];return function(_0x4f7a12,_0x328518){const _0x51e5a3=_0x385998?function(){const _0x16ed78=a388_0xe6d9;if(_0x328518){const _0x32554b=_0x328518[_0x16ed78(0x1cb)](_0x4f7a12,arguments);return _0x328518=null,_0x32554b;}}:function(){};return _0x385998=![],_0x51e5a3;};}()),a388_0x2ca51e=a388_0x586c73(this,function(){const _0x21c31e=a388_0xe6d9;return a388_0x2ca51e['toString']()[_0x21c31e(0x1dc)]('(((.+)+)+)+$')[_0x21c31e(0x1d5)]()[_0x21c31e(0x1e5)](a388_0x2ca51e)[_0x21c31e(0x1dc)]('(((.+)+)+)+$');});function a388_0x2643(){const _0x3f98ab=['__esModule','No\x20veeva\x20components\x20found\x20in\x20branch','getFlosumComponents','getVeevaComponentsById','SalesforceService','getDependencyVeevaComponents','../classes/retrievers/veeva-components/id.veeva-component.retriever','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','targetComponentId','DependencyService','sourceComponentId','25999490AEdsis','EmptyLogger','1100772KzIWIs','_connectionSalesforce','getVeevaComponentsByFlosumComponents','356112aUbkpo','type','baseVeevaComponentRetrieverOptions','map','AppResponseStatus','apply','FlosumComponentVeevaComponentRetriever','_salesforceService','../enums/status.enums','dependencies','VeevaService','248RTfvAX','reduce','has','4265FOHKuz','toString','_connectionVeeva','76vmCmQF','set','23906nwCLak','createDataResult','length','search','BranchFlosumComponentRetriever','_branchId','defineProperty','_veevaService','name','retrieve','push','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','constructor','168KuktMI','IdVeevaComponentRetriever','branchId','802617CexMva','8261855hFWNUL','No\x20components\x20found\x20in\x20Veeva','No\x20dependency\x20components\x20found\x20in\x20Veeva'];a388_0x2643=function(){return _0x3f98ab;};return a388_0x2643();}a388_0x2ca51e();'use strict';function a388_0xe6d9(_0x3a90a8,_0x1dd6ce){const _0x5f0644=a388_0x2643();return a388_0xe6d9=function(_0x2ca51e,_0x586c73){_0x2ca51e=_0x2ca51e-0x1bb;let _0x26434c=_0x5f0644[_0x2ca51e];return _0x26434c;},a388_0xe6d9(_0x3a90a8,_0x1dd6ce);}Object[a388_0x30d2bf(0x1df)](exports,a388_0x30d2bf(0x1ed),{'value':!![]}),exports[a388_0x30d2bf(0x1bf)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a388_0x30d2bf(0x1ce)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require(a388_0x30d2bf(0x1e4)),id_veeva_component_retriever_1=require(a388_0x30d2bf(0x1bc)),source_id_veeva_component_relationship_retriever_1=require(a388_0x30d2bf(0x1bd)),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');class DependencyService{constructor(_0x1d87d2,_0x31a2f1,_0x215410){const _0x1fd3c5=a388_0x30d2bf;this['_connectionSalesforce']=_0x31a2f1,this[_0x1fd3c5(0x1d6)]=_0x215410,this[_0x1fd3c5(0x1de)]=_0x1d87d2[_0x1fd3c5(0x1e8)];const _0x10e886=new empty_logger_1[(_0x1fd3c5(0x1c2))]();this['_veevaService']=new veeva_service_1[(_0x1fd3c5(0x1d0))]({'connection':this[_0x1fd3c5(0x1d6)],'logger':_0x10e886}),this[_0x1fd3c5(0x1cd)]=new salesforce_service_1[(_0x1fd3c5(0x1f1))]({'connection':this[_0x1fd3c5(0x1c4)]});}get[a388_0x30d2bf(0x1c8)](){const _0x108c36=a388_0x30d2bf;return{'veevaService':this[_0x108c36(0x1e0)],'logger':new empty_logger_1[(_0x108c36(0x1c2))]()};}async['execute'](){const _0x4e09ff=a388_0x30d2bf,_0xa6d388=await this['getFlosumComponents'](),_0x51e833=await this[_0x4e09ff(0x1c5)](_0xa6d388),_0x5924cc=await this[_0x4e09ff(0x1bb)](_0x51e833),_0x2c2ce7=_0x5924cc['map'](_0x4a4597=>_0x4a4597['targetComponentId']),_0x1a0153=await this[_0x4e09ff(0x1f0)](_0x2c2ce7),_0x565183=DependencyService[_0x4e09ff(0x1da)](_0x51e833,_0x1a0153,_0x5924cc);return{'responseStatus':status_enums_1[_0x4e09ff(0x1ca)]['SUCCESS'],'data':_0x565183};}async[a388_0x30d2bf(0x1ef)](){const _0xdc40f0=a388_0x30d2bf,_0x211952=await new branch_flosum_component_retriever_1[(_0xdc40f0(0x1dd))]({'value':this[_0xdc40f0(0x1de)],'salesforceService':this[_0xdc40f0(0x1cd)]})[_0xdc40f0(0x1e2)]();if(!_0x211952[_0xdc40f0(0x1db)])throw new Error(_0xdc40f0(0x1ee));return _0x211952;}async['getVeevaComponentsByFlosumComponents'](_0x3b2b64){const _0x8a94e0=a388_0x30d2bf,_0x32caeb=await new flosum_component_veeva_component_retriever_1[(_0x8a94e0(0x1cc))]({'value':_0x3b2b64,...this[_0x8a94e0(0x1c8)]})[_0x8a94e0(0x1e2)]();if(!_0x32caeb[_0x8a94e0(0x1db)])throw new Error(_0x8a94e0(0x1eb));return _0x32caeb;}async[a388_0x30d2bf(0x1f0)](_0x430c6f){const _0x44879d=a388_0x30d2bf,_0x1ea561=await new id_veeva_component_retriever_1[(_0x44879d(0x1e7))]({'value':_0x430c6f,...this[_0x44879d(0x1c8)]})[_0x44879d(0x1e2)]();if(!_0x1ea561[_0x44879d(0x1db)])throw new Error(_0x44879d(0x1ec));return _0x1ea561;}async[a388_0x30d2bf(0x1bb)](_0x40d849){const _0x28519a=a388_0x30d2bf,_0x265ca0=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x40d849[_0x28519a(0x1c9)](({id:_0x2d868f})=>_0x2d868f),'veevaService':this[_0x28519a(0x1e0)]})[_0x28519a(0x1e2)]();if(!_0x265ca0['length'])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x265ca0;}static[a388_0x30d2bf(0x1da)](_0x3a7456,_0xe6e1ce,_0x157307){const _0x2ddcd0=a388_0x30d2bf,_0x1f2ee1={},_0x44243e=_0x3a7456[_0x2ddcd0(0x1d2)]((_0x395558,_0x2383d3)=>_0x395558[_0x2ddcd0(0x1d8)](_0x2383d3['id'],_0x2383d3),new Map()),_0x12f582=_0xe6e1ce[_0x2ddcd0(0x1d2)]((_0x2cb572,_0x4d8bc5)=>_0x2cb572[_0x2ddcd0(0x1d8)](_0x4d8bc5['id'],_0x4d8bc5),new Map());for(const _0x2ff564 of _0x157307){const _0x4fc06f=_0x44243e[_0x2ddcd0(0x1d3)](_0x2ff564[_0x2ddcd0(0x1c0)])&&_0x12f582[_0x2ddcd0(0x1d3)](_0x2ff564[_0x2ddcd0(0x1be)]);if(!_0x4fc06f)continue;const _0x2da29=_0x44243e['get'](_0x2ff564[_0x2ddcd0(0x1c0)]),_0x4db55d=_0x12f582['get'](_0x2ff564[_0x2ddcd0(0x1be)]);!_0x1f2ee1[_0x2da29[_0x2ddcd0(0x1e1)]+':'+_0x2da29['type']]&&(_0x1f2ee1[_0x2da29['name']+':'+_0x2da29[_0x2ddcd0(0x1c7)]]={'dependencies':[],'label':_0x2da29[_0x2ddcd0(0x1e1)]+'\x20('+_0x2da29[_0x2ddcd0(0x1c7)]+')','type':_0x2da29['type'],'name':_0x2da29[_0x2ddcd0(0x1e1)]}),_0x1f2ee1[_0x2da29['name']+':'+_0x2da29[_0x2ddcd0(0x1c7)]][_0x2ddcd0(0x1cf)][_0x2ddcd0(0x1e3)]({'label':_0x4db55d[_0x2ddcd0(0x1e1)]+'\x20('+_0x4db55d[_0x2ddcd0(0x1c7)]+')','name':_0x4db55d[_0x2ddcd0(0x1e1)],'type':_0x4db55d[_0x2ddcd0(0x1c7)],'lastUpdate':_0x4db55d['lastModifiedDate'],'isMissing':!_0x44243e['has'](_0x2ff564[_0x2ddcd0(0x1be)])});}return _0x1f2ee1;}}exports[a388_0x30d2bf(0x1bf)]=DependencyService;