function a309_0x3599(_0x11b3d7,_0x9453c7){const _0x2a4baa=a309_0x1fd5();return a309_0x3599=function(_0x7a4082,_0x3be640){_0x7a4082=_0x7a4082-0xe4;let _0x1fd5e7=_0x2a4baa[_0x7a4082];return _0x1fd5e7;},a309_0x3599(_0x11b3d7,_0x9453c7);}const a309_0x5596f1=a309_0x3599;(function(_0x5660ba,_0x37be4e){const _0x521f7d=a309_0x3599,_0x1c38f2=_0x5660ba();while(!![]){try{const _0x4926d4=-parseInt(_0x521f7d(0x101))/0x1*(parseInt(_0x521f7d(0x110))/0x2)+-parseInt(_0x521f7d(0x12b))/0x3+-parseInt(_0x521f7d(0x106))/0x4*(-parseInt(_0x521f7d(0xff))/0x5)+parseInt(_0x521f7d(0x10e))/0x6*(parseInt(_0x521f7d(0x10d))/0x7)+-parseInt(_0x521f7d(0x12c))/0x8+-parseInt(_0x521f7d(0x11e))/0x9*(-parseInt(_0x521f7d(0x117))/0xa)+parseInt(_0x521f7d(0x100))/0xb*(parseInt(_0x521f7d(0xe7))/0xc);if(_0x4926d4===_0x37be4e)break;else _0x1c38f2['push'](_0x1c38f2['shift']());}catch(_0x3ac815){_0x1c38f2['push'](_0x1c38f2['shift']());}}}(a309_0x1fd5,0xdacff));const a309_0x3be640=(function(){let _0x558cb2=!![];return function(_0x5d68b1,_0x1b17c6){const _0x506e27=_0x558cb2?function(){const _0x2a22c5=a309_0x3599;if(_0x1b17c6){const _0x406ee1=_0x1b17c6[_0x2a22c5(0x12e)](_0x5d68b1,arguments);return _0x1b17c6=null,_0x406ee1;}}:function(){};return _0x558cb2=![],_0x506e27;};}()),a309_0x7a4082=a309_0x3be640(this,function(){const _0x2239c3=a309_0x3599;return a309_0x7a4082[_0x2239c3(0x103)]()[_0x2239c3(0x129)](_0x2239c3(0xef))[_0x2239c3(0x103)]()[_0x2239c3(0x118)](a309_0x7a4082)[_0x2239c3(0x129)]('(((.+)+)+)+$');});a309_0x7a4082();function a309_0x1fd5(){const _0x918f46=['name','targetComponentId','defineProperty','VeevaService','search','ENDPOINT_VQL','4854060DvSqnM','2089320QHTHaL','set','apply','sourceComponentId','AppResponseStatus','retrieveDependencyVeevaComponents','lastModifiedDate','24aRlCah','No\x20relationship\x20found\x20in\x20Veeva','VeevaComponentRelationshipDto','length','BUILD_WHERE_BY_NAME_LIMIT','DependencyService','deleteDependencyVeevaComponentDuplicates','branchId','(((.+)+)+)+$','reduce','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','./salesforce.service','execute','_connectionSalesforce','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','map','status','chunkArray','../../shared/utils','push','_connectionVeeva','\x27\x20AND\x20','FLOSUM_NAMESPACE','retrieveVeevaComponentsByTypeAndName','1245705oGpgAJ','552893CjOikH','262IZmZoT','VeevaConstants','toString','includes','__esModule','28vzmajz','./veeva.service','inactive__v','retrieveVeevaComponentsById','filter','\x27,\x27','Branch__c\x20=\x20\x27','351722GIDtGT','138Sqwyib','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','11026ywkFdd','join','SUCCESS','ComponentDto','get','has','../../../constants','250MxDcol','constructor','add','../dtos/veeva-component-relationship.dto','Component_Name__c,\x20','executeManyVQL','_branchId','439083VSmuqc','type','componentName','retrieveRecords','toLowerCase','VeevaComponentDto','../constants/veeva.constants'];a309_0x1fd5=function(){return _0x918f46;};return a309_0x1fd5();}'use strict';Object[a309_0x5596f1(0x127)](exports,a309_0x5596f1(0x105),{'value':!![]}),exports['DependencyService']=void 0x0;const veeva_constants_1=require(a309_0x5596f1(0x124)),veeva_service_1=require(a309_0x5596f1(0x107)),component_dto_1=require('../dtos/component.dto'),veeva_component_dto_1=require('../dtos/veeva-component.dto'),veeva_component_relationship_dto_1=require(a309_0x5596f1(0x11a)),utils_1=require(a309_0x5596f1(0xf9)),constants_1=require(a309_0x5596f1(0x116)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a309_0x5596f1(0xf2));class DependencyService{constructor(_0x20eb77,_0x45bf39,_0x5a913d){const _0x5a1f8a=a309_0x5596f1;this[_0x5a1f8a(0xf4)]=_0x45bf39,this[_0x5a1f8a(0xfb)]=_0x5a913d,this['_branchId']=_0x20eb77[_0x5a1f8a(0xee)];}async[a309_0x5596f1(0xf3)](){const _0x359569=a309_0x5596f1,_0x3d5b53=await this['retrieveComponents'](),_0x5e3208=await this[_0x359569(0xfe)](_0x3d5b53),_0x3bdd3e=await this[_0x359569(0xe5)](_0x5e3208),_0x46d8d6=_0x3bdd3e[_0x359569(0xf6)](_0x14c7ed=>_0x14c7ed[_0x359569(0x126)]),_0x30e02=await this[_0x359569(0x109)](_0x46d8d6),_0x26c0ff=DependencyService['createDataResult'](_0x5e3208,_0x30e02,_0x3bdd3e);return{'responseStatus':status_enums_1[_0x359569(0xe4)][_0x359569(0x112)],'data':_0x26c0ff};}async['retrieveComponents'](){const _0x664407=a309_0x5596f1,_0x49561f='\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20'+constants_1[_0x664407(0xfd)]+_0x664407(0x11b)+constants_1[_0x664407(0xfd)]+_0x664407(0xf1)+constants_1[_0x664407(0xfd)]+'Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20'+constants_1[_0x664407(0xfd)]+_0x664407(0x10c)+this[_0x664407(0x11d)]+_0x664407(0xfc)+constants_1[_0x664407(0xfd)]+'Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x15184d=await salesforce_service_1['SalesforceService'][_0x664407(0x121)](this['_connectionSalesforce'],_0x49561f);if(!_0x15184d[_0x664407(0xea)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x15184d['map'](_0x51e52b=>new component_dto_1[(_0x664407(0x113))](_0x51e52b));}async[a309_0x5596f1(0xfe)](_0x2b8763){const _0x2bec7b=a309_0x5596f1,_0x52e126=_0x2b8763[_0x2bec7b(0xf0)]((_0x30060b,_0x4db696)=>_0x30060b[_0x2bec7b(0x119)]((_0x4db696['componentType']+'.'+_0x4db696[_0x2bec7b(0x120)])[_0x2bec7b(0x122)]()),new Set()),_0x3b3384=_0x2b8763[_0x2bec7b(0xf6)](_0x32071b=>_0x32071b[_0x2bec7b(0x120)]),_0x3fdc79=(0x0,utils_1[_0x2bec7b(0xf8)])(_0x3b3384,veeva_constants_1[_0x2bec7b(0x102)][_0x2bec7b(0xeb)]),_0x3e933b=_0x3fdc79['map'](_0x65c54c=>veeva_constants_1[_0x2bec7b(0x102)][_0x2bec7b(0x12a)]+('SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27'+_0x65c54c[_0x2bec7b(0x111)]('\x27,\x27')+'\x27)')),_0x43ddf4=await veeva_service_1[_0x2bec7b(0x128)][_0x2bec7b(0x11c)](_0x3e933b,this[_0x2bec7b(0xfb)]),_0x589ff3=_0x43ddf4[_0x2bec7b(0xf6)](_0x53a357=>new veeva_component_dto_1[(_0x2bec7b(0x123))](_0x53a357))[_0x2bec7b(0x10a)](_0x5cd179=>_0x52e126[_0x2bec7b(0x115)]((_0x5cd179['type']+'.'+_0x5cd179[_0x2bec7b(0x125)])[_0x2bec7b(0x122)]()));if(!_0x589ff3[_0x2bec7b(0xea)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x589ff3;}async[a309_0x5596f1(0x109)](_0x4b6312){const _0x13af9a=a309_0x5596f1,_0x35b569=(0x0,utils_1[_0x13af9a(0xf8)])(_0x4b6312,veeva_constants_1[_0x13af9a(0x102)]['BUILD_WHERE_BY_ID_LIMIT']),_0x27d194=_0x35b569[_0x13af9a(0xf6)](_0x2d4a5d=>veeva_constants_1[_0x13af9a(0x102)][_0x13af9a(0x12a)]+(_0x13af9a(0x10f)+_0x2d4a5d['join']('\x27,\x27')+'\x27)')),_0x5becd9=await veeva_service_1['VeevaService'][_0x13af9a(0x11c)](_0x27d194,this[_0x13af9a(0xfb)]),_0x19a5a9=_0x5becd9[_0x13af9a(0xf6)](_0x3276fe=>new veeva_component_dto_1[(_0x13af9a(0x123))](_0x3276fe))[_0x13af9a(0x10a)](_0x3d480a=>!_0x3d480a[_0x13af9a(0xf7)][_0x13af9a(0x104)](_0x13af9a(0x108)));if(!_0x19a5a9[_0x13af9a(0xea)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x19a5a9;}async['retrieveDependencyVeevaComponents'](_0x3d9b3b){const _0xe8006b=a309_0x5596f1,_0x5bdf07=_0x3d9b3b[_0xe8006b(0xf6)](_0x139801=>_0x139801['id']),_0x5bb504=(0x0,utils_1[_0xe8006b(0xf8)])(_0x5bdf07,veeva_constants_1['VeevaConstants']['BUILD_WHERE_BY_ID_LIMIT']),_0x4e9690=_0x5bb504[_0xe8006b(0xf6)](_0x9fbfbe=>veeva_constants_1[_0xe8006b(0x102)][_0xe8006b(0x12a)]+(_0xe8006b(0xf5)+_0x9fbfbe[_0xe8006b(0x111)](_0xe8006b(0x10b))+'\x27)')),_0x4e9068=await veeva_service_1[_0xe8006b(0x128)][_0xe8006b(0x11c)](_0x4e9690,this['_connectionVeeva']),_0x223fd7=_0x4e9068[_0xe8006b(0xf6)](_0x2b4c5a=>new veeva_component_relationship_dto_1[(_0xe8006b(0xe9))](_0x2b4c5a));if(!_0x223fd7[_0xe8006b(0xea)])throw new Error(_0xe8006b(0xe8));return DependencyService[_0xe8006b(0xed)](_0x223fd7);}static['deleteDependencyVeevaComponentDuplicates'](_0x79a4ea){const _0x49c73c=a309_0x5596f1,_0x206d12=_0x79a4ea[_0x49c73c(0xf0)]((_0x4a1ad0,_0xea176b)=>_0x4a1ad0[_0x49c73c(0x12d)](_0xea176b[_0x49c73c(0x12f)]+'.'+_0xea176b[_0x49c73c(0x126)],_0xea176b),new Map());return[..._0x206d12['values']()];}static['createDataResult'](_0x48c9fa,_0x392bd6,_0x683167){const _0x177887=a309_0x5596f1,_0x22cff={},_0x53e1ea=_0x48c9fa[_0x177887(0xf0)]((_0x5c0491,_0x1bdcc4)=>_0x5c0491[_0x177887(0x12d)](_0x1bdcc4['id'],_0x1bdcc4),new Map()),_0x21c886=_0x392bd6['reduce']((_0x1d46da,_0x50d304)=>_0x1d46da[_0x177887(0x12d)](_0x50d304['id'],_0x50d304),new Map());for(const _0x466df2 of _0x683167){const _0x24261c=_0x53e1ea['has'](_0x466df2[_0x177887(0x12f)])&&_0x21c886['has'](_0x466df2[_0x177887(0x126)]);if(!_0x24261c)continue;const _0x55d245=_0x53e1ea[_0x177887(0x114)](_0x466df2[_0x177887(0x12f)]),_0x33b260=_0x21c886[_0x177887(0x114)](_0x466df2[_0x177887(0x126)]);!_0x22cff[_0x55d245['name']+':'+_0x55d245[_0x177887(0x11f)]]&&(_0x22cff[_0x55d245[_0x177887(0x125)]+':'+_0x55d245['type']]={'dependencies':[],'label':_0x55d245[_0x177887(0x125)]+'\x20('+_0x55d245[_0x177887(0x11f)]+')','type':_0x55d245['type'],'name':_0x55d245['name']}),_0x22cff[_0x55d245[_0x177887(0x125)]+':'+_0x55d245['type']]['dependencies'][_0x177887(0xfa)]({'label':_0x33b260[_0x177887(0x125)]+'\x20('+_0x33b260[_0x177887(0x11f)]+')','name':_0x33b260['name'],'type':_0x33b260[_0x177887(0x11f)],'lastUpdate':_0x33b260[_0x177887(0xe6)],'isMissing':!_0x53e1ea[_0x177887(0x115)](_0x466df2['targetComponentId'])});}return _0x22cff;}}exports[a309_0x5596f1(0xec)]=DependencyService;