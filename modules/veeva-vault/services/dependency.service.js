const a357_0x46e22c=a357_0x12c0;(function(_0x50991c,_0x29c691){const _0x47702f=a357_0x12c0,_0xd07f0=_0x50991c();while(!![]){try{const _0x30c29a=-parseInt(_0x47702f(0x147))/0x1*(parseInt(_0x47702f(0x136))/0x2)+-parseInt(_0x47702f(0x130))/0x3+-parseInt(_0x47702f(0x156))/0x4*(parseInt(_0x47702f(0x142))/0x5)+parseInt(_0x47702f(0x12b))/0x6+parseInt(_0x47702f(0x13c))/0x7*(parseInt(_0x47702f(0x139))/0x8)+parseInt(_0x47702f(0x151))/0x9*(parseInt(_0x47702f(0x133))/0xa)+-parseInt(_0x47702f(0x13d))/0xb*(-parseInt(_0x47702f(0x150))/0xc);if(_0x30c29a===_0x29c691)break;else _0xd07f0['push'](_0xd07f0['shift']());}catch(_0x3c8c12){_0xd07f0['push'](_0xd07f0['shift']());}}}(a357_0x2e8a,0x3007e));const a357_0x30c9b3=(function(){let _0x40431a=!![];return function(_0x3ba34c,_0x4ce490){const _0x1ebeb4=_0x40431a?function(){if(_0x4ce490){const _0xc2e67b=_0x4ce490['apply'](_0x3ba34c,arguments);return _0x4ce490=null,_0xc2e67b;}}:function(){};return _0x40431a=![],_0x1ebeb4;};}()),a357_0x5b87da=a357_0x30c9b3(this,function(){const _0x4df428=a357_0x12c0;return a357_0x5b87da[_0x4df428(0x134)]()[_0x4df428(0x125)](_0x4df428(0x146))[_0x4df428(0x134)]()[_0x4df428(0x138)](a357_0x5b87da)[_0x4df428(0x125)]('(((.+)+)+)+$');});a357_0x5b87da();'use strict';function a357_0x2e8a(){const _0x16f835=['sourceComponentId','getVeevaComponentsByFlosumComponents','get','has','getVeevaComponentsById','getDependencyVeevaComponents','12bvWkQx','872010uBIhRH','set','length','dependencies','map','4204BdlbKX','DependencyService','SourceIdVeevaComponentRelationshipRetriever','retrieve','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','EmptyLogger','IdVeevaComponentRetriever','lastModifiedDate','search','type','./salesforce.service','_branchId','No\x20components\x20found\x20in\x20Veeva','../enums/status.enums','1021944GAaryw','SUCCESS','__esModule','FlosumComponentVeevaComponentRetriever','BranchFlosumComponentRetriever','312096gFSBzB','_salesforceService','No\x20relationship\x20found\x20in\x20Veeva','10gLMBmw','toString','createDataResult','100LMxhvl','../classes/loggers/empty.logger','constructor','16tJKngF','push','VeevaService','427322AVavbB','2057275RwpJBH','No\x20veeva\x20components\x20found\x20in\x20branch','SalesforceService','execute','targetComponentId','325eTqRIk','name','_connectionSalesforce','_connectionVeeva','(((.+)+)+)+$','4145kBzdDx','_veevaService','AppResponseStatus'];a357_0x2e8a=function(){return _0x16f835;};return a357_0x2e8a();}Object['defineProperty'](exports,a357_0x46e22c(0x12d),{'value':!![]}),exports[a357_0x46e22c(0x157)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a357_0x46e22c(0x12a)),salesforce_service_1=require(a357_0x46e22c(0x127)),empty_logger_1=require(a357_0x46e22c(0x137)),flosum_component_veeva_component_retriever_1=require(a357_0x46e22c(0x15a)),id_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/id.veeva-component.retriever'),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');class DependencyService{constructor(_0x2767e2,_0x5c86cb,_0x5e3edc){const _0x47414a=a357_0x46e22c;this[_0x47414a(0x144)]=_0x5c86cb,this[_0x47414a(0x145)]=_0x5e3edc,this[_0x47414a(0x128)]=_0x2767e2['branchId'];const _0x125cba=new empty_logger_1[(_0x47414a(0x15b))]();this[_0x47414a(0x148)]=new veeva_service_1[(_0x47414a(0x13b))]({'connection':this[_0x47414a(0x145)],'logger':_0x125cba}),this[_0x47414a(0x131)]=new salesforce_service_1[(_0x47414a(0x13f))]({'connection':this[_0x47414a(0x144)]});}get['baseVeevaComponentRetrieverOptions'](){const _0x5deb92=a357_0x46e22c;return{'veevaService':this[_0x5deb92(0x148)],'logger':new empty_logger_1['EmptyLogger']()};}async[a357_0x46e22c(0x140)](){const _0x24d856=a357_0x46e22c,_0x6da98d=await this['getFlosumComponents'](),_0x1a4726=await this[_0x24d856(0x14b)](_0x6da98d),_0x22a2a6=await this[_0x24d856(0x14f)](_0x1a4726),_0x885bf2=_0x22a2a6[_0x24d856(0x155)](_0x2c04e9=>_0x2c04e9[_0x24d856(0x141)]),_0x344277=await this[_0x24d856(0x14e)](_0x885bf2),_0x28f668=DependencyService[_0x24d856(0x135)](_0x1a4726,_0x344277,_0x22a2a6);return{'responseStatus':status_enums_1[_0x24d856(0x149)][_0x24d856(0x12c)],'data':_0x28f668};}async['getFlosumComponents'](){const _0x476259=a357_0x46e22c,_0x4a8524=await new branch_flosum_component_retriever_1[(_0x476259(0x12f))]({'value':this['_branchId'],'salesforceService':this['_salesforceService']})[_0x476259(0x159)]();if(!_0x4a8524[_0x476259(0x153)])throw new Error(_0x476259(0x13e));return _0x4a8524;}async['getVeevaComponentsByFlosumComponents'](_0x8d6c53){const _0x38aa12=a357_0x46e22c,_0x3b8e4d=await new flosum_component_veeva_component_retriever_1[(_0x38aa12(0x12e))]({'value':_0x8d6c53,...this['baseVeevaComponentRetrieverOptions']})[_0x38aa12(0x159)]();if(!_0x3b8e4d[_0x38aa12(0x153)])throw new Error(_0x38aa12(0x129));return _0x3b8e4d;}async[a357_0x46e22c(0x14e)](_0x4af2cd){const _0x43b4c8=a357_0x46e22c,_0x47404f=await new id_veeva_component_retriever_1[(_0x43b4c8(0x15c))]({'value':_0x4af2cd,...this['baseVeevaComponentRetrieverOptions']})[_0x43b4c8(0x159)]();if(!_0x47404f[_0x43b4c8(0x153)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x47404f;}async[a357_0x46e22c(0x14f)](_0x2373bd){const _0x3e3e49=a357_0x46e22c,_0x4099f6=await new source_id_veeva_component_relationship_retriever_1[(_0x3e3e49(0x158))]({'value':_0x2373bd[_0x3e3e49(0x155)](({id:_0x38f1ed})=>_0x38f1ed),'veevaService':this[_0x3e3e49(0x148)]})[_0x3e3e49(0x159)]();if(!_0x4099f6[_0x3e3e49(0x153)])throw new Error(_0x3e3e49(0x132));return _0x4099f6;}static[a357_0x46e22c(0x135)](_0x27083c,_0x115afa,_0x2aefd4){const _0x3b0478=a357_0x46e22c,_0x1880c2={},_0x52a874=_0x27083c['reduce']((_0x5c515e,_0x4b2a34)=>_0x5c515e[_0x3b0478(0x152)](_0x4b2a34['id'],_0x4b2a34),new Map()),_0x567b81=_0x115afa['reduce']((_0x2091ca,_0x3c546b)=>_0x2091ca['set'](_0x3c546b['id'],_0x3c546b),new Map());for(const _0x3bf387 of _0x2aefd4){const _0x2b20f6=_0x52a874[_0x3b0478(0x14d)](_0x3bf387[_0x3b0478(0x14a)])&&_0x567b81[_0x3b0478(0x14d)](_0x3bf387[_0x3b0478(0x141)]);if(!_0x2b20f6)continue;const _0x18480b=_0x52a874['get'](_0x3bf387['sourceComponentId']),_0xcd5fba=_0x567b81[_0x3b0478(0x14c)](_0x3bf387['targetComponentId']);!_0x1880c2[_0x18480b[_0x3b0478(0x143)]+':'+_0x18480b[_0x3b0478(0x126)]]&&(_0x1880c2[_0x18480b[_0x3b0478(0x143)]+':'+_0x18480b[_0x3b0478(0x126)]]={'dependencies':[],'label':_0x18480b[_0x3b0478(0x143)]+'\x20('+_0x18480b[_0x3b0478(0x126)]+')','type':_0x18480b[_0x3b0478(0x126)],'name':_0x18480b[_0x3b0478(0x143)]}),_0x1880c2[_0x18480b[_0x3b0478(0x143)]+':'+_0x18480b[_0x3b0478(0x126)]][_0x3b0478(0x154)][_0x3b0478(0x13a)]({'label':_0xcd5fba[_0x3b0478(0x143)]+'\x20('+_0xcd5fba[_0x3b0478(0x126)]+')','name':_0xcd5fba[_0x3b0478(0x143)],'type':_0xcd5fba[_0x3b0478(0x126)],'lastUpdate':_0xcd5fba[_0x3b0478(0x15d)],'isMissing':!_0x52a874['has'](_0x3bf387[_0x3b0478(0x141)])});}return _0x1880c2;}}function a357_0x12c0(_0x339800,_0x418fa0){const _0x473472=a357_0x2e8a();return a357_0x12c0=function(_0x5b87da,_0x30c9b3){_0x5b87da=_0x5b87da-0x125;let _0x2e8ab1=_0x473472[_0x5b87da];return _0x2e8ab1;},a357_0x12c0(_0x339800,_0x418fa0);}exports[a357_0x46e22c(0x157)]=DependencyService;