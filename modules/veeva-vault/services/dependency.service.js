const a357_0x1f8748=a357_0x4be9;(function(_0x54633f,_0x9e519){const _0x110182=a357_0x4be9,_0x1ff70c=_0x54633f();while(!![]){try{const _0xb11a46=-parseInt(_0x110182(0x122))/0x1*(parseInt(_0x110182(0x118))/0x2)+parseInt(_0x110182(0x11d))/0x3*(-parseInt(_0x110182(0x14a))/0x4)+-parseInt(_0x110182(0x126))/0x5*(parseInt(_0x110182(0x131))/0x6)+-parseInt(_0x110182(0x148))/0x7+parseInt(_0x110182(0x144))/0x8+parseInt(_0x110182(0x128))/0x9+parseInt(_0x110182(0x13c))/0xa*(parseInt(_0x110182(0x11c))/0xb);if(_0xb11a46===_0x9e519)break;else _0x1ff70c['push'](_0x1ff70c['shift']());}catch(_0x5d73c1){_0x1ff70c['push'](_0x1ff70c['shift']());}}}(a357_0x2806,0xde45a));function a357_0x4be9(_0x4ebc52,_0x2e8e76){const _0x1f1f99=a357_0x2806();return a357_0x4be9=function(_0xebfc94,_0x2fb081){_0xebfc94=_0xebfc94-0x112;let _0x28065a=_0x1f1f99[_0xebfc94];return _0x28065a;},a357_0x4be9(_0x4ebc52,_0x2e8e76);}const a357_0x2fb081=(function(){let _0x2dfb00=!![];return function(_0x4d82f6,_0x2217fa){const _0x4af818=_0x2dfb00?function(){const _0x149af2=a357_0x4be9;if(_0x2217fa){const _0x1d2d04=_0x2217fa[_0x149af2(0x12a)](_0x4d82f6,arguments);return _0x2217fa=null,_0x1d2d04;}}:function(){};return _0x2dfb00=![],_0x4af818;};}()),a357_0xebfc94=a357_0x2fb081(this,function(){const _0x2c7ad6=a357_0x4be9;return a357_0xebfc94[_0x2c7ad6(0x117)]()[_0x2c7ad6(0x13e)]('(((.+)+)+)+$')['toString']()[_0x2c7ad6(0x115)](a357_0xebfc94)[_0x2c7ad6(0x13e)](_0x2c7ad6(0x114));});a357_0xebfc94();'use strict';function a357_0x2806(){const _0xeba00b=['1338312plfZhI','../classes/loggers/empty.logger','VeevaService','EmptyLogger','(((.+)+)+)+$','constructor','targetComponentId','toString','2lWVXKk','name','No\x20components\x20found\x20in\x20Veeva','sourceComponentId','34556511nKcqss','3NsSMdZ','FlosumComponentVeevaComponentRetriever','retrieve','./veeva.service','type','1718909kWBXSs','../enums/status.enums','DependencyService','getFlosumComponents','316630neEWON','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','12398139NOXJlg','execute','apply','SUCCESS','../classes/retrievers/veeva-components/id.veeva-component.retriever','length','baseVeevaComponentRetrieverOptions','defineProperty','set','18qjwNxP','has','getDependencyVeevaComponents','_connectionVeeva','SourceIdVeevaComponentRelationshipRetriever','__esModule','lastModifiedDate','_salesforceService','createDataResult','_connectionSalesforce','getVeevaComponentsById','10OAwhAo','IdVeevaComponentRetriever','search','reduce','No\x20dependency\x20components\x20found\x20in\x20Veeva','_branchId','SalesforceService','../classes/retrievers/flosum-components/branch.flosum-component.retriever','3401400MORzWr','BranchFlosumComponentRetriever','map','push','12532492gckPlt','get'];a357_0x2806=function(){return _0xeba00b;};return a357_0x2806();}Object[a357_0x1f8748(0x12f)](exports,a357_0x1f8748(0x136),{'value':!![]}),exports[a357_0x1f8748(0x124)]=void 0x0;const veeva_service_1=require(a357_0x1f8748(0x120)),status_enums_1=require(a357_0x1f8748(0x123)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require(a357_0x1f8748(0x14b)),flosum_component_veeva_component_retriever_1=require(a357_0x1f8748(0x127)),id_veeva_component_retriever_1=require(a357_0x1f8748(0x12c)),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require(a357_0x1f8748(0x143));class DependencyService{constructor(_0x45713a,_0x280171,_0x277923){const _0x9ac627=a357_0x1f8748;this[_0x9ac627(0x13a)]=_0x280171,this[_0x9ac627(0x134)]=_0x277923,this[_0x9ac627(0x141)]=_0x45713a['branchId'];const _0x150689=new empty_logger_1[(_0x9ac627(0x113))]();this['_veevaService']=new veeva_service_1[(_0x9ac627(0x112))]({'connection':this['_connectionVeeva'],'logger':_0x150689}),this[_0x9ac627(0x138)]=new salesforce_service_1[(_0x9ac627(0x142))]({'connection':this['_connectionSalesforce']});}get[a357_0x1f8748(0x12e)](){const _0xdb674b=a357_0x1f8748;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0xdb674b(0x113))]()};}async[a357_0x1f8748(0x129)](){const _0x2cd53c=a357_0x1f8748,_0x40a02d=await this[_0x2cd53c(0x125)](),_0x14658a=await this['getVeevaComponentsByFlosumComponents'](_0x40a02d),_0x4c2367=await this[_0x2cd53c(0x133)](_0x14658a),_0x2a8729=_0x4c2367[_0x2cd53c(0x146)](_0x9939b8=>_0x9939b8[_0x2cd53c(0x116)]),_0x171a6c=await this[_0x2cd53c(0x13b)](_0x2a8729),_0x20e299=DependencyService[_0x2cd53c(0x139)](_0x14658a,_0x171a6c,_0x4c2367);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x2cd53c(0x12b)],'data':_0x20e299};}async['getFlosumComponents'](){const _0x4a190a=a357_0x1f8748,_0x1819b1=await new branch_flosum_component_retriever_1[(_0x4a190a(0x145))]({'value':this['_branchId'],'salesforceService':this['_salesforceService']})[_0x4a190a(0x11f)]();if(!_0x1819b1[_0x4a190a(0x12d)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x1819b1;}async['getVeevaComponentsByFlosumComponents'](_0x474186){const _0x532f0d=a357_0x1f8748,_0x5a6e00=await new flosum_component_veeva_component_retriever_1[(_0x532f0d(0x11e))]({'value':_0x474186,...this['baseVeevaComponentRetrieverOptions']})['retrieve']();if(!_0x5a6e00[_0x532f0d(0x12d)])throw new Error(_0x532f0d(0x11a));return _0x5a6e00;}async[a357_0x1f8748(0x13b)](_0x63ce13){const _0x34db2e=a357_0x1f8748,_0x3dd03f=await new id_veeva_component_retriever_1[(_0x34db2e(0x13d))]({'value':_0x63ce13,...this['baseVeevaComponentRetrieverOptions']})[_0x34db2e(0x11f)]();if(!_0x3dd03f[_0x34db2e(0x12d)])throw new Error(_0x34db2e(0x140));return _0x3dd03f;}async[a357_0x1f8748(0x133)](_0x3a522a){const _0x4c12cd=a357_0x1f8748,_0x10266e=await new source_id_veeva_component_relationship_retriever_1[(_0x4c12cd(0x135))]({'value':_0x3a522a[_0x4c12cd(0x146)](({id:_0x425d2d})=>_0x425d2d),'veevaService':this['_veevaService']})[_0x4c12cd(0x11f)]();if(!_0x10266e[_0x4c12cd(0x12d)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x10266e;}static[a357_0x1f8748(0x139)](_0x489780,_0x4013d5,_0x3350da){const _0x68b688=a357_0x1f8748,_0x3fd030={},_0xcecce6=_0x489780[_0x68b688(0x13f)]((_0x2470e4,_0x496387)=>_0x2470e4['set'](_0x496387['id'],_0x496387),new Map()),_0x451dbb=_0x4013d5[_0x68b688(0x13f)]((_0x5992ca,_0x3135a8)=>_0x5992ca[_0x68b688(0x130)](_0x3135a8['id'],_0x3135a8),new Map());for(const _0x5bf0b4 of _0x3350da){const _0x1d9549=_0xcecce6[_0x68b688(0x132)](_0x5bf0b4[_0x68b688(0x11b)])&&_0x451dbb[_0x68b688(0x132)](_0x5bf0b4[_0x68b688(0x116)]);if(!_0x1d9549)continue;const _0x5b666f=_0xcecce6[_0x68b688(0x149)](_0x5bf0b4['sourceComponentId']),_0x51257d=_0x451dbb['get'](_0x5bf0b4[_0x68b688(0x116)]);!_0x3fd030[_0x5b666f[_0x68b688(0x119)]+':'+_0x5b666f[_0x68b688(0x121)]]&&(_0x3fd030[_0x5b666f[_0x68b688(0x119)]+':'+_0x5b666f['type']]={'dependencies':[],'label':_0x5b666f['name']+'\x20('+_0x5b666f['type']+')','type':_0x5b666f[_0x68b688(0x121)],'name':_0x5b666f[_0x68b688(0x119)]}),_0x3fd030[_0x5b666f['name']+':'+_0x5b666f[_0x68b688(0x121)]]['dependencies'][_0x68b688(0x147)]({'label':_0x51257d[_0x68b688(0x119)]+'\x20('+_0x51257d[_0x68b688(0x121)]+')','name':_0x51257d['name'],'type':_0x51257d['type'],'lastUpdate':_0x51257d[_0x68b688(0x137)],'isMissing':!_0xcecce6[_0x68b688(0x132)](_0x5bf0b4[_0x68b688(0x116)])});}return _0x3fd030;}}exports[a357_0x1f8748(0x124)]=DependencyService;