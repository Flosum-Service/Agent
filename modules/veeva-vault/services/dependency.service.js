const a389_0xb8c787=a389_0x4b8b;(function(_0xfc6917,_0x199b98){const _0x437e69=a389_0x4b8b,_0x50bd43=_0xfc6917();while(!![]){try{const _0x7e57c8=-parseInt(_0x437e69(0x10f))/0x1*(-parseInt(_0x437e69(0x123))/0x2)+-parseInt(_0x437e69(0xf6))/0x3*(-parseInt(_0x437e69(0x117))/0x4)+parseInt(_0x437e69(0xf8))/0x5*(parseInt(_0x437e69(0x100))/0x6)+-parseInt(_0x437e69(0x11d))/0x7+-parseInt(_0x437e69(0x106))/0x8+-parseInt(_0x437e69(0x10a))/0x9+parseInt(_0x437e69(0x11c))/0xa;if(_0x7e57c8===_0x199b98)break;else _0x50bd43['push'](_0x50bd43['shift']());}catch(_0x25a9ce){_0x50bd43['push'](_0x50bd43['shift']());}}}(a389_0x41c3,0x3c778));const a389_0x59545a=(function(){let _0x51055e=!![];return function(_0x590e50,_0x5e9aae){const _0x1fbbc2=_0x51055e?function(){const _0x473d49=a389_0x4b8b;if(_0x5e9aae){const _0x336e77=_0x5e9aae[_0x473d49(0x112)](_0x590e50,arguments);return _0x5e9aae=null,_0x336e77;}}:function(){};return _0x51055e=![],_0x1fbbc2;};}()),a389_0x2055b7=a389_0x59545a(this,function(){const _0xf486d0=a389_0x4b8b;return a389_0x2055b7[_0xf486d0(0x121)]()[_0xf486d0(0x107)](_0xf486d0(0xfd))[_0xf486d0(0x121)]()['constructor'](a389_0x2055b7)[_0xf486d0(0x107)]('(((.+)+)+)+$');});function a389_0x4b8b(_0xf29b9b,_0xf98f11){const _0x574943=a389_0x41c3();return a389_0x4b8b=function(_0x2055b7,_0x59545a){_0x2055b7=_0x2055b7-0xf0;let _0x41c3be=_0x574943[_0x2055b7];return _0x41c3be;},a389_0x4b8b(_0xf29b9b,_0xf98f11);}a389_0x2055b7();'use strict';Object['defineProperty'](exports,a389_0xb8c787(0x127),{'value':!![]}),exports[a389_0xb8c787(0x104)]=void 0x0;const veeva_service_1=require(a389_0xb8c787(0x119)),status_enums_1=require(a389_0xb8c787(0x122)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require(a389_0xb8c787(0x11f)),flosum_component_veeva_component_retriever_1=require(a389_0xb8c787(0xfe)),id_veeva_component_retriever_1=require(a389_0xb8c787(0x116)),source_id_veeva_component_relationship_retriever_1=require(a389_0xb8c787(0x118)),branch_flosum_component_retriever_1=require(a389_0xb8c787(0xf2));function a389_0x41c3(){const _0x498c9c=['No\x20components\x20found\x20in\x20Veeva','../classes/retrievers/flosum-components/branch.flosum-component.retriever','SourceIdVeevaComponentRelationshipRetriever','SUCCESS','get','9069GVswUW','retrieve','90qGygPl','name','getVeevaComponentsByFlosumComponents','createDataResult','BranchFlosumComponentRetriever','(((.+)+)+)+$','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','has','56622uoklFJ','_connectionVeeva','EmptyLogger','targetComponentId','DependencyService','baseVeevaComponentRetrieverOptions','2921056EKufPm','search','set','_salesforceService','818856LDgpyD','getFlosumComponents','length','reduce','getDependencyVeevaComponents','1cRGTXr','sourceComponentId','lastModifiedDate','apply','FlosumComponentVeevaComponentRetriever','_veevaService','dependencies','../classes/retrievers/veeva-components/id.veeva-component.retriever','412xnJMob','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','./veeva.service','push','SalesforceService','2848670fueCrh','2842931XsQltl','getVeevaComponentsById','../classes/loggers/empty.logger','_branchId','toString','../enums/status.enums','687638lkkIoD','No\x20relationship\x20found\x20in\x20Veeva','_connectionSalesforce','type','__esModule','map'];a389_0x41c3=function(){return _0x498c9c;};return a389_0x41c3();}class DependencyService{constructor(_0x37e578,_0x10a9ff,_0x12fb26){const _0x2f4ebc=a389_0xb8c787;this['_connectionSalesforce']=_0x10a9ff,this[_0x2f4ebc(0x101)]=_0x12fb26,this[_0x2f4ebc(0x120)]=_0x37e578['branchId'];const _0x1561b2=new empty_logger_1[(_0x2f4ebc(0x102))]();this[_0x2f4ebc(0x114)]=new veeva_service_1['VeevaService']({'connection':this[_0x2f4ebc(0x101)],'logger':_0x1561b2}),this[_0x2f4ebc(0x109)]=new salesforce_service_1[(_0x2f4ebc(0x11b))]({'connection':this[_0x2f4ebc(0x125)]});}get[a389_0xb8c787(0x105)](){const _0x31eed6=a389_0xb8c787;return{'veevaService':this[_0x31eed6(0x114)],'logger':new empty_logger_1[(_0x31eed6(0x102))]()};}async['execute'](){const _0x253252=a389_0xb8c787,_0x396a4a=await this[_0x253252(0x10b)](),_0x598186=await this[_0x253252(0xfa)](_0x396a4a),_0x57a41a=await this['getDependencyVeevaComponents'](_0x598186),_0x178a3c=_0x57a41a[_0x253252(0xf0)](_0x15b760=>_0x15b760[_0x253252(0x103)]),_0x3d227c=await this[_0x253252(0x11e)](_0x178a3c),_0x558ff2=DependencyService['createDataResult'](_0x598186,_0x3d227c,_0x57a41a);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x253252(0xf4)],'data':_0x558ff2};}async[a389_0xb8c787(0x10b)](){const _0x18fe12=a389_0xb8c787,_0x16a59d=await new branch_flosum_component_retriever_1[(_0x18fe12(0xfc))]({'value':this[_0x18fe12(0x120)],'salesforceService':this[_0x18fe12(0x109)]})[_0x18fe12(0xf7)]();if(!_0x16a59d[_0x18fe12(0x10c)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x16a59d;}async['getVeevaComponentsByFlosumComponents'](_0x47a143){const _0x4677d5=a389_0xb8c787,_0x3dd98f=await new flosum_component_veeva_component_retriever_1[(_0x4677d5(0x113))]({'value':_0x47a143,...this[_0x4677d5(0x105)]})['retrieve']();if(!_0x3dd98f[_0x4677d5(0x10c)])throw new Error(_0x4677d5(0xf1));return _0x3dd98f;}async[a389_0xb8c787(0x11e)](_0x383351){const _0x1f8c38=a389_0xb8c787,_0x1f8642=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x383351,...this[_0x1f8c38(0x105)]})['retrieve']();if(!_0x1f8642[_0x1f8c38(0x10c)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x1f8642;}async[a389_0xb8c787(0x10e)](_0x324874){const _0x842d82=a389_0xb8c787,_0x3c4b74=await new source_id_veeva_component_relationship_retriever_1[(_0x842d82(0xf3))]({'value':_0x324874[_0x842d82(0xf0)](({id:_0x2e3ed1})=>_0x2e3ed1),'veevaService':this['_veevaService']})[_0x842d82(0xf7)]();if(!_0x3c4b74['length'])throw new Error(_0x842d82(0x124));return _0x3c4b74;}static[a389_0xb8c787(0xfb)](_0x5f216a,_0x53a641,_0x903bbb){const _0x459e31=a389_0xb8c787,_0x2aa5df={},_0x598820=_0x5f216a[_0x459e31(0x10d)]((_0x21957c,_0x5ffebb)=>_0x21957c[_0x459e31(0x108)](_0x5ffebb['id'],_0x5ffebb),new Map()),_0x4c3391=_0x53a641[_0x459e31(0x10d)]((_0x4cdf1a,_0x41ac94)=>_0x4cdf1a['set'](_0x41ac94['id'],_0x41ac94),new Map());for(const _0x618911 of _0x903bbb){const _0x3f089b=_0x598820[_0x459e31(0xff)](_0x618911[_0x459e31(0x110)])&&_0x4c3391[_0x459e31(0xff)](_0x618911['targetComponentId']);if(!_0x3f089b)continue;const _0xf5ae8b=_0x598820[_0x459e31(0xf5)](_0x618911[_0x459e31(0x110)]),_0x24a3f0=_0x4c3391[_0x459e31(0xf5)](_0x618911['targetComponentId']);!_0x2aa5df[_0xf5ae8b[_0x459e31(0xf9)]+':'+_0xf5ae8b[_0x459e31(0x126)]]&&(_0x2aa5df[_0xf5ae8b[_0x459e31(0xf9)]+':'+_0xf5ae8b[_0x459e31(0x126)]]={'dependencies':[],'label':_0xf5ae8b[_0x459e31(0xf9)]+'\x20('+_0xf5ae8b[_0x459e31(0x126)]+')','type':_0xf5ae8b[_0x459e31(0x126)],'name':_0xf5ae8b[_0x459e31(0xf9)]}),_0x2aa5df[_0xf5ae8b[_0x459e31(0xf9)]+':'+_0xf5ae8b[_0x459e31(0x126)]][_0x459e31(0x115)][_0x459e31(0x11a)]({'label':_0x24a3f0[_0x459e31(0xf9)]+'\x20('+_0x24a3f0[_0x459e31(0x126)]+')','name':_0x24a3f0[_0x459e31(0xf9)],'type':_0x24a3f0[_0x459e31(0x126)],'lastUpdate':_0x24a3f0[_0x459e31(0x111)],'isMissing':!_0x598820[_0x459e31(0xff)](_0x618911[_0x459e31(0x103)])});}return _0x2aa5df;}}exports['DependencyService']=DependencyService;