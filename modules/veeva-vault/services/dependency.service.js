const a357_0xced24d=a357_0x5317;(function(_0x5e6bf9,_0x339d56){const _0x1a779e=a357_0x5317,_0x38e58e=_0x5e6bf9();while(!![]){try{const _0x4cd74e=parseInt(_0x1a779e(0x7a))/0x1*(parseInt(_0x1a779e(0x8a))/0x2)+-parseInt(_0x1a779e(0x94))/0x3*(-parseInt(_0x1a779e(0x87))/0x4)+-parseInt(_0x1a779e(0x7d))/0x5*(parseInt(_0x1a779e(0x84))/0x6)+-parseInt(_0x1a779e(0x91))/0x7*(parseInt(_0x1a779e(0x93))/0x8)+parseInt(_0x1a779e(0x79))/0x9*(-parseInt(_0x1a779e(0x81))/0xa)+-parseInt(_0x1a779e(0x8f))/0xb*(parseInt(_0x1a779e(0x8d))/0xc)+parseInt(_0x1a779e(0x7b))/0xd*(parseInt(_0x1a779e(0x73))/0xe);if(_0x4cd74e===_0x339d56)break;else _0x38e58e['push'](_0x38e58e['shift']());}catch(_0x5c8de8){_0x38e58e['push'](_0x38e58e['shift']());}}}(a357_0x4fdd,0x1f471));const a357_0x2297a0=(function(){let _0x20200f=!![];return function(_0x7ed2ef,_0xb9ee9e){const _0xd7eaab=_0x20200f?function(){if(_0xb9ee9e){const _0xd9b2ca=_0xb9ee9e['apply'](_0x7ed2ef,arguments);return _0xb9ee9e=null,_0xd9b2ca;}}:function(){};return _0x20200f=![],_0xd7eaab;};}()),a357_0x9d9333=a357_0x2297a0(this,function(){const _0x474596=a357_0x5317;return a357_0x9d9333[_0x474596(0x92)]()[_0x474596(0x70)](_0x474596(0x74))[_0x474596(0x92)]()['constructor'](a357_0x9d9333)[_0x474596(0x70)]('(((.+)+)+)+$');});function a357_0x4fdd(){const _0x5abf11=['reduce','172772acihkQ','baseVeevaComponentRetrieverOptions','EmptyLogger','38OMSjit','push','_branchId','46908NTYGLL','FlosumComponentVeevaComponentRetriever','715xGyTNA','No\x20components\x20found\x20in\x20Veeva','231924PPeBmt','toString','56FFcszk','9PPWnfc','No\x20veeva\x20components\x20found\x20in\x20branch','_veevaService','get','createDataResult','length','_connectionSalesforce','type','getVeevaComponentsByFlosumComponents','./veeva.service','../classes/retrievers/flosum-components/branch.flosum-component.retriever','getVeevaComponentsById','sourceComponentId','map','No\x20dependency\x20components\x20found\x20in\x20Veeva','../classes/retrievers/veeva-components/id.veeva-component.retriever','retrieve','has','search','../classes/loggers/empty.logger','No\x20relationship\x20found\x20in\x20Veeva','3944094fvehRK','(((.+)+)+)+$','SUCCESS','name','_connectionVeeva','AppResponseStatus','70650TvLgni','7061YEEdKm','26VYkEZo','DependencyService','105590zcfbML','getFlosumComponents','_salesforceService','targetComponentId','110tNpREC','IdVeevaComponentRetriever','dependencies','36hoVjNc','./salesforce.service'];a357_0x4fdd=function(){return _0x5abf11;};return a357_0x4fdd();}a357_0x9d9333();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['DependencyService']=void 0x0;function a357_0x5317(_0x2706ee,_0x3742ca){const _0x225e14=a357_0x4fdd();return a357_0x5317=function(_0x9d9333,_0x2297a0){_0x9d9333=_0x9d9333-0x70;let _0x4fdde1=_0x225e14[_0x9d9333];return _0x4fdde1;},a357_0x5317(_0x2706ee,_0x3742ca);}const veeva_service_1=require(a357_0xced24d(0x9d)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a357_0xced24d(0x85)),empty_logger_1=require(a357_0xced24d(0x71)),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a357_0xced24d(0xa3)),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require(a357_0xced24d(0x9e));class DependencyService{constructor(_0x123973,_0x34f2f5,_0x202fdb){const _0x31fcd1=a357_0xced24d;this[_0x31fcd1(0x9a)]=_0x34f2f5,this['_connectionVeeva']=_0x202fdb,this[_0x31fcd1(0x8c)]=_0x123973['branchId'];const _0x4ef3a9=new empty_logger_1['EmptyLogger']();this['_veevaService']=new veeva_service_1['VeevaService']({'connection':this[_0x31fcd1(0x77)],'logger':_0x4ef3a9}),this[_0x31fcd1(0x7f)]=new salesforce_service_1['SalesforceService']({'connection':this[_0x31fcd1(0x9a)]});}get[a357_0xced24d(0x88)](){const _0x2ee279=a357_0xced24d;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0x2ee279(0x89))]()};}async['execute'](){const _0x47d607=a357_0xced24d,_0x3d1f49=await this[_0x47d607(0x7e)](),_0x54ad76=await this[_0x47d607(0x9c)](_0x3d1f49),_0x5d7f30=await this['getDependencyVeevaComponents'](_0x54ad76),_0x1ea522=_0x5d7f30['map'](_0x2741a2=>_0x2741a2[_0x47d607(0x80)]),_0x1268e6=await this['getVeevaComponentsById'](_0x1ea522),_0x1c0772=DependencyService['createDataResult'](_0x54ad76,_0x1268e6,_0x5d7f30);return{'responseStatus':status_enums_1[_0x47d607(0x78)][_0x47d607(0x75)],'data':_0x1c0772};}async[a357_0xced24d(0x7e)](){const _0xcf5c7b=a357_0xced24d,_0x59c37e=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this[_0xcf5c7b(0x8c)],'salesforceService':this[_0xcf5c7b(0x7f)]})['retrieve']();if(!_0x59c37e[_0xcf5c7b(0x99)])throw new Error(_0xcf5c7b(0x95));return _0x59c37e;}async[a357_0xced24d(0x9c)](_0x404a3a){const _0x4e663b=a357_0xced24d,_0x5dc6c6=await new flosum_component_veeva_component_retriever_1[(_0x4e663b(0x8e))]({'value':_0x404a3a,...this['baseVeevaComponentRetrieverOptions']})[_0x4e663b(0xa4)]();if(!_0x5dc6c6[_0x4e663b(0x99)])throw new Error(_0x4e663b(0x90));return _0x5dc6c6;}async[a357_0xced24d(0x9f)](_0x198954){const _0x2145c8=a357_0xced24d,_0x50ec06=await new id_veeva_component_retriever_1[(_0x2145c8(0x82))]({'value':_0x198954,...this['baseVeevaComponentRetrieverOptions']})[_0x2145c8(0xa4)]();if(!_0x50ec06['length'])throw new Error(_0x2145c8(0xa2));return _0x50ec06;}async['getDependencyVeevaComponents'](_0x1b3470){const _0x1b9c29=a357_0xced24d,_0x1c2c98=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x1b3470[_0x1b9c29(0xa1)](({id:_0x4081c0})=>_0x4081c0),'veevaService':this[_0x1b9c29(0x96)]})[_0x1b9c29(0xa4)]();if(!_0x1c2c98['length'])throw new Error(_0x1b9c29(0x72));return _0x1c2c98;}static[a357_0xced24d(0x98)](_0x46f295,_0x59fe26,_0xa4eb1c){const _0x4bc837=a357_0xced24d,_0x53f9aa={},_0x4819aa=_0x46f295[_0x4bc837(0x86)]((_0x4e1ac1,_0x7348d8)=>_0x4e1ac1['set'](_0x7348d8['id'],_0x7348d8),new Map()),_0x3fc601=_0x59fe26[_0x4bc837(0x86)]((_0x19c7b4,_0x1ab903)=>_0x19c7b4['set'](_0x1ab903['id'],_0x1ab903),new Map());for(const _0x3e7dcc of _0xa4eb1c){const _0x25aea4=_0x4819aa[_0x4bc837(0xa5)](_0x3e7dcc[_0x4bc837(0xa0)])&&_0x3fc601[_0x4bc837(0xa5)](_0x3e7dcc[_0x4bc837(0x80)]);if(!_0x25aea4)continue;const _0x637f33=_0x4819aa[_0x4bc837(0x97)](_0x3e7dcc['sourceComponentId']),_0xe2e119=_0x3fc601[_0x4bc837(0x97)](_0x3e7dcc[_0x4bc837(0x80)]);!_0x53f9aa[_0x637f33[_0x4bc837(0x76)]+':'+_0x637f33[_0x4bc837(0x9b)]]&&(_0x53f9aa[_0x637f33[_0x4bc837(0x76)]+':'+_0x637f33[_0x4bc837(0x9b)]]={'dependencies':[],'label':_0x637f33['name']+'\x20('+_0x637f33[_0x4bc837(0x9b)]+')','type':_0x637f33[_0x4bc837(0x9b)],'name':_0x637f33[_0x4bc837(0x76)]}),_0x53f9aa[_0x637f33[_0x4bc837(0x76)]+':'+_0x637f33['type']][_0x4bc837(0x83)][_0x4bc837(0x8b)]({'label':_0xe2e119[_0x4bc837(0x76)]+'\x20('+_0xe2e119[_0x4bc837(0x9b)]+')','name':_0xe2e119[_0x4bc837(0x76)],'type':_0xe2e119[_0x4bc837(0x9b)],'lastUpdate':_0xe2e119['lastModifiedDate'],'isMissing':!_0x4819aa[_0x4bc837(0xa5)](_0x3e7dcc['targetComponentId'])});}return _0x53f9aa;}}exports[a357_0xced24d(0x7c)]=DependencyService;