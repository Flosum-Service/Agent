function a402_0x5cce(){const _0x1b3cfd=['BranchFlosumComponentRetriever','search','(((.+)+)+)+$','SourceIdVeevaComponentRelationshipRetriever','11JfurjY','type','toString','set','./veeva.service','reduce','_salesforceService','_veevaService','execute','branchId','getFlosumComponents','__esModule','8bINmKF','length','_branchId','baseVeevaComponentRetrieverOptions','name','_connectionVeeva','constructor','lastModifiedDate','VeevaService','createDataResult','289315EaLArk','No\x20relationship\x20found\x20in\x20Veeva','retrieve','FlosumComponentVeevaComponentRetriever','EmptyLogger','../classes/retrievers/flosum-components/branch.flosum-component.retriever','has','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','AppResponseStatus','defineProperty','push','../classes/retrievers/veeva-components/id.veeva-component.retriever','_connectionSalesforce','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','getDependencyVeevaComponents','5974130JNdZCF','SalesforceService','501318AWpOSc','541116jKDZiq','5HJfGES','4MbKKsV','2852271tmwkFQ','DependencyService','get','map','12146940laZwZG','SUCCESS','getVeevaComponentsById','No\x20components\x20found\x20in\x20Veeva','8eSfJeZ','targetComponentId','376985eTwsKr'];a402_0x5cce=function(){return _0x1b3cfd;};return a402_0x5cce();}const a402_0x299faa=a402_0x1968;(function(_0x3e4c1e,_0x14b687){const _0x2f77e1=a402_0x1968,_0x324446=_0x3e4c1e();while(!![]){try{const _0x22a02e=parseInt(_0x2f77e1(0xa6))/0x1*(-parseInt(_0x2f77e1(0x80))/0x2)+parseInt(_0x2f77e1(0x7e))/0x3*(-parseInt(_0x2f77e1(0x89))/0x4)+-parseInt(_0x2f77e1(0x7f))/0x5*(parseInt(_0x2f77e1(0x7d))/0x6)+parseInt(_0x2f77e1(0x8b))/0x7+parseInt(_0x2f77e1(0x9c))/0x8*(-parseInt(_0x2f77e1(0x81))/0x9)+parseInt(_0x2f77e1(0x7b))/0xa*(parseInt(_0x2f77e1(0x90))/0xb)+parseInt(_0x2f77e1(0x85))/0xc;if(_0x22a02e===_0x14b687)break;else _0x324446['push'](_0x324446['shift']());}catch(_0x3c70d5){_0x324446['push'](_0x324446['shift']());}}}(a402_0x5cce,0x4f053));function a402_0x1968(_0xd12aed,_0x1d2c73){const _0x27545a=a402_0x5cce();return a402_0x1968=function(_0x292932,_0x29b730){_0x292932=_0x292932-0x79;let _0x5cce57=_0x27545a[_0x292932];return _0x5cce57;},a402_0x1968(_0xd12aed,_0x1d2c73);}const a402_0x29b730=(function(){let _0x704923=!![];return function(_0x5d0732,_0x14f789){const _0x314618=_0x704923?function(){if(_0x14f789){const _0x52fc69=_0x14f789['apply'](_0x5d0732,arguments);return _0x14f789=null,_0x52fc69;}}:function(){};return _0x704923=![],_0x314618;};}()),a402_0x292932=a402_0x29b730(this,function(){const _0x29de9b=a402_0x1968;return a402_0x292932['toString']()[_0x29de9b(0x8d)](_0x29de9b(0x8e))[_0x29de9b(0x92)]()[_0x29de9b(0xa2)](a402_0x292932)['search'](_0x29de9b(0x8e));});a402_0x292932();'use strict';Object[a402_0x299faa(0xaf)](exports,a402_0x299faa(0x9b),{'value':!![]}),exports['DependencyService']=void 0x0;const veeva_service_1=require(a402_0x299faa(0x94)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require(a402_0x299faa(0xad)),id_veeva_component_retriever_1=require(a402_0x299faa(0xb1)),source_id_veeva_component_relationship_retriever_1=require(a402_0x299faa(0x79)),branch_flosum_component_retriever_1=require(a402_0x299faa(0xab));class DependencyService{constructor(_0x1b6904,_0x183d2c,_0x310033){const _0x323d7e=a402_0x299faa;this[_0x323d7e(0xb2)]=_0x183d2c,this[_0x323d7e(0xa1)]=_0x310033,this[_0x323d7e(0x9e)]=_0x1b6904[_0x323d7e(0x99)];const _0x4e6572=new empty_logger_1['EmptyLogger']();this['_veevaService']=new veeva_service_1[(_0x323d7e(0xa4))]({'connection':this[_0x323d7e(0xa1)],'logger':_0x4e6572}),this[_0x323d7e(0x96)]=new salesforce_service_1[(_0x323d7e(0x7c))]({'connection':this[_0x323d7e(0xb2)]});}get['baseVeevaComponentRetrieverOptions'](){const _0x45bba7=a402_0x299faa;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0x45bba7(0xaa))]()};}async[a402_0x299faa(0x98)](){const _0x4f819c=a402_0x299faa,_0x26c3f7=await this['getFlosumComponents'](),_0x53723a=await this['getVeevaComponentsByFlosumComponents'](_0x26c3f7),_0x456b46=await this[_0x4f819c(0x7a)](_0x53723a),_0x3c329c=_0x456b46[_0x4f819c(0x84)](_0x4a26e3=>_0x4a26e3[_0x4f819c(0x8a)]),_0x26ea49=await this[_0x4f819c(0x87)](_0x3c329c),_0x43d577=DependencyService[_0x4f819c(0xa5)](_0x53723a,_0x26ea49,_0x456b46);return{'responseStatus':status_enums_1[_0x4f819c(0xae)][_0x4f819c(0x86)],'data':_0x43d577};}async[a402_0x299faa(0x9a)](){const _0x37d6a3=a402_0x299faa,_0x16b015=await new branch_flosum_component_retriever_1[(_0x37d6a3(0x8c))]({'value':this[_0x37d6a3(0x9e)],'salesforceService':this['_salesforceService']})['retrieve']();if(!_0x16b015['length'])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x16b015;}async['getVeevaComponentsByFlosumComponents'](_0x151e39){const _0x1aaf61=a402_0x299faa,_0x13f7c5=await new flosum_component_veeva_component_retriever_1[(_0x1aaf61(0xa9))]({'value':_0x151e39,...this[_0x1aaf61(0x9f)]})[_0x1aaf61(0xa8)]();if(!_0x13f7c5[_0x1aaf61(0x9d)])throw new Error(_0x1aaf61(0x88));return _0x13f7c5;}async[a402_0x299faa(0x87)](_0x334d17){const _0x3990e6=a402_0x299faa,_0x30f146=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x334d17,...this['baseVeevaComponentRetrieverOptions']})['retrieve']();if(!_0x30f146[_0x3990e6(0x9d)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x30f146;}async[a402_0x299faa(0x7a)](_0x9f8924){const _0x30e648=a402_0x299faa,_0xaa5ac7=await new source_id_veeva_component_relationship_retriever_1[(_0x30e648(0x8f))]({'value':_0x9f8924['map'](({id:_0x54319a})=>_0x54319a),'veevaService':this[_0x30e648(0x97)]})[_0x30e648(0xa8)]();if(!_0xaa5ac7[_0x30e648(0x9d)])throw new Error(_0x30e648(0xa7));return _0xaa5ac7;}static[a402_0x299faa(0xa5)](_0xcded30,_0x1ee86e,_0x4a15bf){const _0xdc0aa4=a402_0x299faa,_0xb23149={},_0x178b53=_0xcded30[_0xdc0aa4(0x95)]((_0x5caa43,_0x5b149c)=>_0x5caa43[_0xdc0aa4(0x93)](_0x5b149c['id'],_0x5b149c),new Map()),_0x325aa8=_0x1ee86e[_0xdc0aa4(0x95)]((_0x3f56a3,_0x1fcf97)=>_0x3f56a3[_0xdc0aa4(0x93)](_0x1fcf97['id'],_0x1fcf97),new Map());for(const _0x104f16 of _0x4a15bf){const _0x3e62da=_0x178b53[_0xdc0aa4(0xac)](_0x104f16['sourceComponentId'])&&_0x325aa8['has'](_0x104f16['targetComponentId']);if(!_0x3e62da)continue;const _0x4d31d4=_0x178b53['get'](_0x104f16['sourceComponentId']),_0x3fa58f=_0x325aa8[_0xdc0aa4(0x83)](_0x104f16[_0xdc0aa4(0x8a)]);!_0xb23149[_0x4d31d4[_0xdc0aa4(0xa0)]+':'+_0x4d31d4[_0xdc0aa4(0x91)]]&&(_0xb23149[_0x4d31d4['name']+':'+_0x4d31d4[_0xdc0aa4(0x91)]]={'dependencies':[],'label':_0x4d31d4[_0xdc0aa4(0xa0)]+'\x20('+_0x4d31d4['type']+')','type':_0x4d31d4[_0xdc0aa4(0x91)],'name':_0x4d31d4[_0xdc0aa4(0xa0)]}),_0xb23149[_0x4d31d4[_0xdc0aa4(0xa0)]+':'+_0x4d31d4[_0xdc0aa4(0x91)]]['dependencies'][_0xdc0aa4(0xb0)]({'label':_0x3fa58f[_0xdc0aa4(0xa0)]+'\x20('+_0x3fa58f[_0xdc0aa4(0x91)]+')','name':_0x3fa58f[_0xdc0aa4(0xa0)],'type':_0x3fa58f['type'],'lastUpdate':_0x3fa58f[_0xdc0aa4(0xa3)],'isMissing':!_0x178b53[_0xdc0aa4(0xac)](_0x104f16[_0xdc0aa4(0x8a)])});}return _0xb23149;}}exports[a402_0x299faa(0x82)]=DependencyService;