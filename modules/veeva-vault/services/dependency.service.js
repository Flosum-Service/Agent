const a400_0x4a22a6=a400_0x4d61;(function(_0x3f38f8,_0x5514c4){const _0x279474=a400_0x4d61,_0x4c98e9=_0x3f38f8();while(!![]){try{const _0x1bd907=parseInt(_0x279474(0x72))/0x1*(parseInt(_0x279474(0x6e))/0x2)+-parseInt(_0x279474(0x8a))/0x3+parseInt(_0x279474(0x6c))/0x4+-parseInt(_0x279474(0x76))/0x5+-parseInt(_0x279474(0x81))/0x6*(parseInt(_0x279474(0x6a))/0x7)+-parseInt(_0x279474(0x83))/0x8*(-parseInt(_0x279474(0x87))/0x9)+-parseInt(_0x279474(0x65))/0xa;if(_0x1bd907===_0x5514c4)break;else _0x4c98e9['push'](_0x4c98e9['shift']());}catch(_0x6829d6){_0x4c98e9['push'](_0x4c98e9['shift']());}}}(a400_0x4866,0xbbf8e));const a400_0x3d6483=(function(){let _0x4c75bb=!![];return function(_0x2c7e99,_0x45b7e6){const _0x1fa918=_0x4c75bb?function(){const _0x536cce=a400_0x4d61;if(_0x45b7e6){const _0xd39234=_0x45b7e6[_0x536cce(0x6b)](_0x2c7e99,arguments);return _0x45b7e6=null,_0xd39234;}}:function(){};return _0x4c75bb=![],_0x1fa918;};}()),a400_0xd213f7=a400_0x3d6483(this,function(){const _0x360d38=a400_0x4d61;return a400_0xd213f7[_0x360d38(0x7b)]()['search'](_0x360d38(0x8f))[_0x360d38(0x7b)]()[_0x360d38(0x77)](a400_0xd213f7)[_0x360d38(0x8b)](_0x360d38(0x8f));});a400_0xd213f7();function a400_0x4d61(_0x91390c,_0x57d28c){const _0x187b47=a400_0x4866();return a400_0x4d61=function(_0xd213f7,_0x3d6483){_0xd213f7=_0xd213f7-0x65;let _0x4866e9=_0x187b47[_0xd213f7];return _0x4866e9;},a400_0x4d61(_0x91390c,_0x57d28c);}'use strict';Object[a400_0x4a22a6(0x97)](exports,a400_0x4a22a6(0x70),{'value':!![]}),exports[a400_0x4a22a6(0x7c)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a400_0x4a22a6(0x89)),salesforce_service_1=require(a400_0x4a22a6(0x8c)),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a400_0x4a22a6(0x95)),source_id_veeva_component_relationship_retriever_1=require(a400_0x4a22a6(0x92)),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');function a400_0x4866(){const _0x55018a=['3278800gPFpul','FlosumComponentVeevaComponentRetriever','type','length','has','357iLlupm','apply','4458656fefoWk','_branchId','2tmByLQ','execute','__esModule','push','962303uWUvpe','_connectionSalesforce','branchId','getFlosumComponents','1330485dGQiem','constructor','baseVeevaComponentRetrieverOptions','createDataResult','getDependencyVeevaComponents','toString','DependencyService','map','reduce','getVeevaComponentsByFlosumComponents','sourceComponentId','51672YcQHqS','name','8tJBpWB','EmptyLogger','get','AppResponseStatus','5876001mRxqsh','_veevaService','../enums/status.enums','2780199ZxyiKv','search','./salesforce.service','getVeevaComponentsById','IdVeevaComponentRetriever','(((.+)+)+)+$','No\x20components\x20found\x20in\x20Veeva','retrieve','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','_connectionVeeva','lastModifiedDate','../classes/retrievers/veeva-components/id.veeva-component.retriever','SourceIdVeevaComponentRelationshipRetriever','defineProperty','targetComponentId','dependencies','SalesforceService'];a400_0x4866=function(){return _0x55018a;};return a400_0x4866();}class DependencyService{constructor(_0xdb78ca,_0x38e3af,_0x53caa2){const _0x2f6216=a400_0x4a22a6;this[_0x2f6216(0x73)]=_0x38e3af,this[_0x2f6216(0x93)]=_0x53caa2,this[_0x2f6216(0x6d)]=_0xdb78ca[_0x2f6216(0x74)];const _0x522420=new empty_logger_1[(_0x2f6216(0x84))]();this[_0x2f6216(0x88)]=new veeva_service_1['VeevaService']({'connection':this[_0x2f6216(0x93)],'logger':_0x522420}),this['_salesforceService']=new salesforce_service_1[(_0x2f6216(0x9a))]({'connection':this['_connectionSalesforce']});}get[a400_0x4a22a6(0x78)](){const _0x1fb766=a400_0x4a22a6;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0x1fb766(0x84))]()};}async[a400_0x4a22a6(0x6f)](){const _0xd8990a=a400_0x4a22a6,_0x3372b7=await this[_0xd8990a(0x75)](),_0x40d509=await this[_0xd8990a(0x7f)](_0x3372b7),_0x48f663=await this[_0xd8990a(0x7a)](_0x40d509),_0x567160=_0x48f663['map'](_0x38d777=>_0x38d777['targetComponentId']),_0xe61c16=await this[_0xd8990a(0x8d)](_0x567160),_0x4458f8=DependencyService['createDataResult'](_0x40d509,_0xe61c16,_0x48f663);return{'responseStatus':status_enums_1[_0xd8990a(0x86)]['SUCCESS'],'data':_0x4458f8};}async['getFlosumComponents'](){const _0x3ec3fb=a400_0x4a22a6,_0x22152e=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this[_0x3ec3fb(0x6d)],'salesforceService':this['_salesforceService']})[_0x3ec3fb(0x91)]();if(!_0x22152e[_0x3ec3fb(0x68)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x22152e;}async['getVeevaComponentsByFlosumComponents'](_0x3633ff){const _0xeac206=a400_0x4a22a6,_0x5c359c=await new flosum_component_veeva_component_retriever_1[(_0xeac206(0x66))]({'value':_0x3633ff,...this[_0xeac206(0x78)]})[_0xeac206(0x91)]();if(!_0x5c359c[_0xeac206(0x68)])throw new Error(_0xeac206(0x90));return _0x5c359c;}async[a400_0x4a22a6(0x8d)](_0x170b48){const _0xd10fbb=a400_0x4a22a6,_0x976ed3=await new id_veeva_component_retriever_1[(_0xd10fbb(0x8e))]({'value':_0x170b48,...this[_0xd10fbb(0x78)]})[_0xd10fbb(0x91)]();if(!_0x976ed3['length'])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x976ed3;}async['getDependencyVeevaComponents'](_0x1cc178){const _0x5c41b6=a400_0x4a22a6,_0x372b78=await new source_id_veeva_component_relationship_retriever_1[(_0x5c41b6(0x96))]({'value':_0x1cc178[_0x5c41b6(0x7d)](({id:_0x5f54f2})=>_0x5f54f2),'veevaService':this[_0x5c41b6(0x88)]})[_0x5c41b6(0x91)]();if(!_0x372b78['length'])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x372b78;}static[a400_0x4a22a6(0x79)](_0x2bfee9,_0x459f0b,_0x1bd47c){const _0x24fbfc=a400_0x4a22a6,_0x42d2cd={},_0x5528eb=_0x2bfee9[_0x24fbfc(0x7e)]((_0x3b7aeb,_0x46ae51)=>_0x3b7aeb['set'](_0x46ae51['id'],_0x46ae51),new Map()),_0x2587f5=_0x459f0b[_0x24fbfc(0x7e)]((_0x37d32d,_0x56c38e)=>_0x37d32d['set'](_0x56c38e['id'],_0x56c38e),new Map());for(const _0x521f1b of _0x1bd47c){const _0x5d01e3=_0x5528eb[_0x24fbfc(0x69)](_0x521f1b[_0x24fbfc(0x80)])&&_0x2587f5[_0x24fbfc(0x69)](_0x521f1b['targetComponentId']);if(!_0x5d01e3)continue;const _0x5e8207=_0x5528eb[_0x24fbfc(0x85)](_0x521f1b['sourceComponentId']),_0x5b3987=_0x2587f5['get'](_0x521f1b[_0x24fbfc(0x98)]);!_0x42d2cd[_0x5e8207[_0x24fbfc(0x82)]+':'+_0x5e8207[_0x24fbfc(0x67)]]&&(_0x42d2cd[_0x5e8207[_0x24fbfc(0x82)]+':'+_0x5e8207['type']]={'dependencies':[],'label':_0x5e8207[_0x24fbfc(0x82)]+'\x20('+_0x5e8207[_0x24fbfc(0x67)]+')','type':_0x5e8207['type'],'name':_0x5e8207[_0x24fbfc(0x82)]}),_0x42d2cd[_0x5e8207['name']+':'+_0x5e8207[_0x24fbfc(0x67)]][_0x24fbfc(0x99)][_0x24fbfc(0x71)]({'label':_0x5b3987[_0x24fbfc(0x82)]+'\x20('+_0x5b3987[_0x24fbfc(0x67)]+')','name':_0x5b3987['name'],'type':_0x5b3987[_0x24fbfc(0x67)],'lastUpdate':_0x5b3987[_0x24fbfc(0x94)],'isMissing':!_0x5528eb['has'](_0x521f1b['targetComponentId'])});}return _0x42d2cd;}}exports[a400_0x4a22a6(0x7c)]=DependencyService;