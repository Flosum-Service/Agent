function a309_0x27dd(_0xf978b5,_0x13054e){const _0xb163c8=a309_0x520a();return a309_0x27dd=function(_0x27a32e,_0x36ae8b){_0x27a32e=_0x27a32e-0x8b;let _0x520a00=_0xb163c8[_0x27a32e];return _0x520a00;},a309_0x27dd(_0xf978b5,_0x13054e);}const a309_0x146d18=a309_0x27dd;(function(_0x57c4bc,_0x109e12){const _0x93ebdd=a309_0x27dd,_0x4dce07=_0x57c4bc();while(!![]){try{const _0x22b638=parseInt(_0x93ebdd(0xae))/0x1*(parseInt(_0x93ebdd(0x9d))/0x2)+parseInt(_0x93ebdd(0xc1))/0x3+parseInt(_0x93ebdd(0x96))/0x4+parseInt(_0x93ebdd(0xa3))/0x5*(-parseInt(_0x93ebdd(0xd4))/0x6)+-parseInt(_0x93ebdd(0xbb))/0x7+-parseInt(_0x93ebdd(0xb5))/0x8+-parseInt(_0x93ebdd(0xd2))/0x9;if(_0x22b638===_0x109e12)break;else _0x4dce07['push'](_0x4dce07['shift']());}catch(_0x2605ad){_0x4dce07['push'](_0x4dce07['shift']());}}}(a309_0x520a,0x23509));const a309_0x36ae8b=(function(){let _0xf922de=!![];return function(_0x2bf565,_0x1cffd6){const _0x745c15=_0xf922de?function(){if(_0x1cffd6){const _0x1bd047=_0x1cffd6['apply'](_0x2bf565,arguments);return _0x1cffd6=null,_0x1bd047;}}:function(){};return _0xf922de=![],_0x745c15;};}()),a309_0x27a32e=a309_0x36ae8b(this,function(){const _0x40c4bf=a309_0x27dd;return a309_0x27a32e[_0x40c4bf(0x8b)]()['search'](_0x40c4bf(0x9f))[_0x40c4bf(0x8b)]()[_0x40c4bf(0xd8)](a309_0x27a32e)[_0x40c4bf(0xb6)](_0x40c4bf(0x9f));});function a309_0x520a(){const _0x47388f=['deleteDependencyVeevaComponentDuplicates','../constants/veeva.constants','status','retrieveVeevaComponentsById','componentName','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','../dtos/component.dto','createDataResult','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','242370gYWdZF','filter','10020ZdnirP','_connectionVeeva','length','\x27\x20AND\x20','constructor','toString','add','Branch__c\x20=\x20\x27','targetComponentId','componentType','../dtos/veeva-component-relationship.dto','./veeva.service','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27','get','inactive__v','FLOSUM_NAMESPACE','58248GbNzTI','has','BUILD_WHERE_BY_NAME_LIMIT','reduce','dependencies','push','BUILD_WHERE_BY_ID_LIMIT','43042AhJGZJ','retrieveComponents','(((.+)+)+)+$','../../../constants','_branchId','../enums/status.enums','30bwdIOa','set','No\x20relationship\x20found\x20in\x20Veeva','type','VeevaConstants','VeevaComponentRelationshipDto','map','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','includes','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','retrieveVeevaComponentsByTypeAndName','2YZvCHY','No\x20dependency\x20components\x20found\x20in\x20Veeva','_connectionSalesforce','values','toLowerCase','sourceComponentId','executeManyVQL','6552vdzIkW','search','DependencyService','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','\x27,\x27','name','727412VgDCUF','./salesforce.service','VeevaService','join','Component_Name__c,\x20','../../shared/utils','686190nvTtoe','No\x20components\x20found\x20in\x20Veeva','chunkArray','retrieveDependencyVeevaComponents','No\x20veeva\x20components\x20found\x20in\x20branch','ComponentDto','ENDPOINT_VQL','defineProperty'];a309_0x520a=function(){return _0x47388f;};return a309_0x520a();}a309_0x27a32e();'use strict';Object[a309_0x146d18(0xc8)](exports,'__esModule',{'value':!![]}),exports[a309_0x146d18(0xb7)]=void 0x0;const veeva_constants_1=require(a309_0x146d18(0xca)),veeva_service_1=require(a309_0x146d18(0x91)),component_dto_1=require(a309_0x146d18(0xcf)),veeva_component_dto_1=require('../dtos/veeva-component.dto'),veeva_component_relationship_dto_1=require(a309_0x146d18(0x90)),utils_1=require(a309_0x146d18(0xc0)),constants_1=require(a309_0x146d18(0xa0)),status_enums_1=require(a309_0x146d18(0xa2)),salesforce_service_1=require(a309_0x146d18(0xbc));class DependencyService{constructor(_0x2c2e4f,_0x28b84d,_0x8be311){const _0x324989=a309_0x146d18;this['_connectionSalesforce']=_0x28b84d,this[_0x324989(0xd5)]=_0x8be311,this[_0x324989(0xa1)]=_0x2c2e4f['branchId'];}async['execute'](){const _0x2fa8d6=a309_0x146d18,_0x103bf9=await this['retrieveComponents'](),_0x55fbe8=await this[_0x2fa8d6(0xad)](_0x103bf9),_0x2626a0=await this[_0x2fa8d6(0xc4)](_0x55fbe8),_0x5f1e69=_0x2626a0['map'](_0x201b63=>_0x201b63[_0x2fa8d6(0x8e)]),_0x1d1def=await this[_0x2fa8d6(0xcc)](_0x5f1e69),_0x5b2ca3=DependencyService[_0x2fa8d6(0xd0)](_0x55fbe8,_0x1d1def,_0x2626a0);return{'responseStatus':status_enums_1['AppResponseStatus']['SUCCESS'],'data':_0x5b2ca3};}async[a309_0x146d18(0x9e)](){const _0x10e16f=a309_0x146d18,_0x396665=_0x10e16f(0xce)+constants_1[_0x10e16f(0x95)]+_0x10e16f(0xbf)+constants_1[_0x10e16f(0x95)]+_0x10e16f(0xaa)+constants_1[_0x10e16f(0x95)]+_0x10e16f(0xac)+constants_1[_0x10e16f(0x95)]+_0x10e16f(0x8d)+this[_0x10e16f(0xa1)]+_0x10e16f(0xd7)+constants_1[_0x10e16f(0x95)]+'Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x3d2acc=await salesforce_service_1['SalesforceService']['retrieveRecords'](this[_0x10e16f(0xb0)],_0x396665);if(!_0x3d2acc[_0x10e16f(0xd6)])throw new Error(_0x10e16f(0xc5));return _0x3d2acc[_0x10e16f(0xa9)](_0x2d680b=>new component_dto_1[(_0x10e16f(0xc6))](_0x2d680b));}async[a309_0x146d18(0xad)](_0x52eae6){const _0x1d2f3e=a309_0x146d18,_0x9ed92f=_0x52eae6[_0x1d2f3e(0x99)]((_0x1033f6,_0x20cc8f)=>_0x1033f6[_0x1d2f3e(0x8c)]((_0x20cc8f[_0x1d2f3e(0x8f)]+'.'+_0x20cc8f[_0x1d2f3e(0xcd)])[_0x1d2f3e(0xb2)]()),new Set()),_0x33e1d6=_0x52eae6[_0x1d2f3e(0xa9)](_0x4e6b68=>_0x4e6b68[_0x1d2f3e(0xcd)]),_0x46ae09=(0x0,utils_1[_0x1d2f3e(0xc3)])(_0x33e1d6,veeva_constants_1['VeevaConstants'][_0x1d2f3e(0x98)]),_0x243ca9=_0x46ae09[_0x1d2f3e(0xa9)](_0x5f633e=>veeva_constants_1[_0x1d2f3e(0xa7)][_0x1d2f3e(0xc7)]+(_0x1d2f3e(0x92)+_0x5f633e[_0x1d2f3e(0xbe)](_0x1d2f3e(0xb9))+'\x27)')),_0x15b207=await veeva_service_1[_0x1d2f3e(0xbd)][_0x1d2f3e(0xb4)](_0x243ca9,this['_connectionVeeva']),_0x38d718=_0x15b207[_0x1d2f3e(0xa9)](_0x45f919=>new veeva_component_dto_1['VeevaComponentDto'](_0x45f919))[_0x1d2f3e(0xd3)](_0x4349fe=>_0x9ed92f[_0x1d2f3e(0x97)]((_0x4349fe[_0x1d2f3e(0xa6)]+'.'+_0x4349fe[_0x1d2f3e(0xba)])[_0x1d2f3e(0xb2)]()));if(!_0x38d718[_0x1d2f3e(0xd6)])throw new Error(_0x1d2f3e(0xc2));return _0x38d718;}async[a309_0x146d18(0xcc)](_0x43112e){const _0x2bd0c6=a309_0x146d18,_0x53b7ef=(0x0,utils_1[_0x2bd0c6(0xc3)])(_0x43112e,veeva_constants_1['VeevaConstants']['BUILD_WHERE_BY_ID_LIMIT']),_0x133306=_0x53b7ef[_0x2bd0c6(0xa9)](_0x2bd3c2=>veeva_constants_1[_0x2bd0c6(0xa7)][_0x2bd0c6(0xc7)]+(_0x2bd0c6(0xd1)+_0x2bd3c2[_0x2bd0c6(0xbe)]('\x27,\x27')+'\x27)')),_0xd43b33=await veeva_service_1['VeevaService'][_0x2bd0c6(0xb4)](_0x133306,this[_0x2bd0c6(0xd5)]),_0x12c0c2=_0xd43b33['map'](_0x1e7234=>new veeva_component_dto_1['VeevaComponentDto'](_0x1e7234))[_0x2bd0c6(0xd3)](_0x5630c0=>!_0x5630c0[_0x2bd0c6(0xcb)][_0x2bd0c6(0xab)](_0x2bd0c6(0x94)));if(!_0x12c0c2[_0x2bd0c6(0xd6)])throw new Error(_0x2bd0c6(0xaf));return _0x12c0c2;}async[a309_0x146d18(0xc4)](_0x5458f7){const _0x382b21=a309_0x146d18,_0x4706b5=_0x5458f7['map'](_0x2c5c41=>_0x2c5c41['id']),_0x565936=(0x0,utils_1[_0x382b21(0xc3)])(_0x4706b5,veeva_constants_1[_0x382b21(0xa7)][_0x382b21(0x9c)]),_0x2148cd=_0x565936[_0x382b21(0xa9)](_0x3f5d0d=>veeva_constants_1[_0x382b21(0xa7)][_0x382b21(0xc7)]+(_0x382b21(0xb8)+_0x3f5d0d[_0x382b21(0xbe)]('\x27,\x27')+'\x27)')),_0x3df990=await veeva_service_1['VeevaService']['executeManyVQL'](_0x2148cd,this[_0x382b21(0xd5)]),_0x40e58e=_0x3df990[_0x382b21(0xa9)](_0x1f1d55=>new veeva_component_relationship_dto_1[(_0x382b21(0xa8))](_0x1f1d55));if(!_0x40e58e['length'])throw new Error(_0x382b21(0xa5));return DependencyService['deleteDependencyVeevaComponentDuplicates'](_0x40e58e);}static[a309_0x146d18(0xc9)](_0xaf98bc){const _0x5cc6d1=a309_0x146d18,_0x2b6cfa=_0xaf98bc['reduce']((_0x52f855,_0x3e5f96)=>_0x52f855['set'](_0x3e5f96[_0x5cc6d1(0xb3)]+'.'+_0x3e5f96['targetComponentId'],_0x3e5f96),new Map());return[..._0x2b6cfa[_0x5cc6d1(0xb1)]()];}static['createDataResult'](_0x1baace,_0x4fc495,_0x360312){const _0x585996=a309_0x146d18,_0x28aaa4={},_0x278fa6=_0x1baace[_0x585996(0x99)]((_0x4cb5c8,_0x269327)=>_0x4cb5c8[_0x585996(0xa4)](_0x269327['id'],_0x269327),new Map()),_0x31ea89=_0x4fc495[_0x585996(0x99)]((_0x471efb,_0x2c0622)=>_0x471efb[_0x585996(0xa4)](_0x2c0622['id'],_0x2c0622),new Map());for(const _0x905dc1 of _0x360312){const _0x1959af=_0x278fa6[_0x585996(0x97)](_0x905dc1[_0x585996(0xb3)])&&_0x31ea89[_0x585996(0x97)](_0x905dc1['targetComponentId']);if(!_0x1959af)continue;const _0x1036d9=_0x278fa6[_0x585996(0x93)](_0x905dc1[_0x585996(0xb3)]),_0x1bb4df=_0x31ea89[_0x585996(0x93)](_0x905dc1['targetComponentId']);!_0x28aaa4[_0x1036d9[_0x585996(0xba)]+':'+_0x1036d9['type']]&&(_0x28aaa4[_0x1036d9[_0x585996(0xba)]+':'+_0x1036d9[_0x585996(0xa6)]]={'dependencies':[],'label':_0x1036d9['name']+'\x20('+_0x1036d9[_0x585996(0xa6)]+')','type':_0x1036d9['type'],'name':_0x1036d9['name']}),_0x28aaa4[_0x1036d9[_0x585996(0xba)]+':'+_0x1036d9[_0x585996(0xa6)]][_0x585996(0x9a)][_0x585996(0x9b)]({'label':_0x1bb4df['name']+'\x20('+_0x1bb4df[_0x585996(0xa6)]+')','name':_0x1bb4df['name'],'type':_0x1bb4df[_0x585996(0xa6)],'lastUpdate':_0x1bb4df['lastModifiedDate'],'isMissing':!_0x278fa6['has'](_0x905dc1[_0x585996(0x8e)])});}return _0x28aaa4;}}exports['DependencyService']=DependencyService;