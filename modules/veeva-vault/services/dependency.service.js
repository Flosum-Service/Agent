function a309_0x5ec2(){const _0x3ce0ec=['createDataResult','deleteDependencyVeevaComponentDuplicates','\x27,\x27','includes','SUCCESS','targetComponentId','apply','execute','values','VeevaService','retrieveRecords','retrieveComponents','join','name','sourceComponentId','search','dependencies','../dtos/veeva-component.dto','retrieveVeevaComponentsById','Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','retrieveDependencyVeevaComponents','Component_Name__c,\x20','defineProperty','AppResponseStatus','../../../constants','96561aIcRwn','__esModule','BUILD_WHERE_BY_ID_LIMIT','../../shared/utils','_connectionVeeva','No\x20relationship\x20found\x20in\x20Veeva','VeevaComponentDto','componentName','\x27\x20AND\x20','ENDPOINT_VQL','15574460mjbTNL','length','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27','set','3SCGAKE','175678ixGwxX','lastModifiedDate','2352195OCKfNi','toLowerCase','_connectionSalesforce','DependencyService','_branchId','../enums/status.enums','56HnnBUG','3480900lZesEN','./veeva.service','executeManyVQL','add','map','type','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','has','FLOSUM_NAMESPACE','filter','VeevaConstants','constructor','retrieveVeevaComponentsByTypeAndName','componentType','reduce','Branch__c\x20=\x20\x27','102236JJNDyq','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','branchId','status','1262296xvzNas','11hMRBLU','No\x20veeva\x20components\x20found\x20in\x20branch','6VeWMmG','ComponentDto','chunkArray','push','(((.+)+)+)+$'];a309_0x5ec2=function(){return _0x3ce0ec;};return a309_0x5ec2();}const a309_0x1a16d7=a309_0x5881;(function(_0x29fbe9,_0x398320){const _0x2ece29=a309_0x5881,_0x27ea70=_0x29fbe9();while(!![]){try{const _0x20e302=parseInt(_0x2ece29(0x142))/0x1*(parseInt(_0x2ece29(0x143))/0x2)+-parseInt(_0x2ece29(0x145))/0x3+parseInt(_0x2ece29(0x15c))/0x4+parseInt(_0x2ece29(0x14c))/0x5*(-parseInt(_0x2ece29(0x163))/0x6)+parseInt(_0x2ece29(0x160))/0x7+-parseInt(_0x2ece29(0x14b))/0x8*(-parseInt(_0x2ece29(0x133))/0x9)+-parseInt(_0x2ece29(0x13d))/0xa*(-parseInt(_0x2ece29(0x161))/0xb);if(_0x20e302===_0x398320)break;else _0x27ea70['push'](_0x27ea70['shift']());}catch(_0x4f1192){_0x27ea70['push'](_0x27ea70['shift']());}}}(a309_0x5ec2,0x97c8c));const a309_0x11e814=(function(){let _0x570187=!![];return function(_0x2cc1f7,_0x110d33){const _0x4e1730=_0x570187?function(){const _0xd1f55=a309_0x5881;if(_0x110d33){const _0x5daabe=_0x110d33[_0xd1f55(0x16e)](_0x2cc1f7,arguments);return _0x110d33=null,_0x5daabe;}}:function(){};return _0x570187=![],_0x4e1730;};}()),a309_0x35bed2=a309_0x11e814(this,function(){const _0xa699ac=a309_0x5881;return a309_0x35bed2['toString']()['search'](_0xa699ac(0x167))['toString']()[_0xa699ac(0x157)](a309_0x35bed2)[_0xa699ac(0x177)](_0xa699ac(0x167));});a309_0x35bed2();'use strict';Object[a309_0x1a16d7(0x130)](exports,a309_0x1a16d7(0x134),{'value':!![]}),exports['DependencyService']=void 0x0;function a309_0x5881(_0x44c4ad,_0x3be087){const _0x4f4e4c=a309_0x5ec2();return a309_0x5881=function(_0x35bed2,_0x11e814){_0x35bed2=_0x35bed2-0x12f;let _0x5ec2bf=_0x4f4e4c[_0x35bed2];return _0x5ec2bf;},a309_0x5881(_0x44c4ad,_0x3be087);}const veeva_constants_1=require('../constants/veeva.constants'),veeva_service_1=require(a309_0x1a16d7(0x14d)),component_dto_1=require('../dtos/component.dto'),veeva_component_dto_1=require(a309_0x1a16d7(0x179)),veeva_component_relationship_dto_1=require('../dtos/veeva-component-relationship.dto'),utils_1=require(a309_0x1a16d7(0x136)),constants_1=require(a309_0x1a16d7(0x132)),status_enums_1=require(a309_0x1a16d7(0x14a)),salesforce_service_1=require('./salesforce.service');class DependencyService{constructor(_0x48a06d,_0x4d9068,_0x175dad){const _0x549cc0=a309_0x1a16d7;this[_0x549cc0(0x147)]=_0x4d9068,this[_0x549cc0(0x137)]=_0x175dad,this[_0x549cc0(0x149)]=_0x48a06d[_0x549cc0(0x15e)];}async[a309_0x1a16d7(0x16f)](){const _0x5bc224=a309_0x1a16d7,_0x1a7866=await this[_0x5bc224(0x173)](),_0x553b8d=await this[_0x5bc224(0x158)](_0x1a7866),_0x1c409a=await this[_0x5bc224(0x17c)](_0x553b8d),_0x566b9a=_0x1c409a[_0x5bc224(0x150)](_0xff9af1=>_0xff9af1[_0x5bc224(0x16d)]),_0x5c40be=await this[_0x5bc224(0x17a)](_0x566b9a),_0x497f5b=DependencyService[_0x5bc224(0x168)](_0x553b8d,_0x5c40be,_0x1c409a);return{'responseStatus':status_enums_1[_0x5bc224(0x131)][_0x5bc224(0x16c)],'data':_0x497f5b};}async[a309_0x1a16d7(0x173)](){const _0x10f5bf=a309_0x1a16d7,_0x1a1e65='\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20'+constants_1[_0x10f5bf(0x154)]+_0x10f5bf(0x12f)+constants_1[_0x10f5bf(0x154)]+_0x10f5bf(0x15d)+constants_1['FLOSUM_NAMESPACE']+_0x10f5bf(0x152)+constants_1['FLOSUM_NAMESPACE']+_0x10f5bf(0x15b)+this[_0x10f5bf(0x149)]+_0x10f5bf(0x13b)+constants_1[_0x10f5bf(0x154)]+_0x10f5bf(0x17b),_0x4d72ed=await salesforce_service_1['SalesforceService'][_0x10f5bf(0x172)](this[_0x10f5bf(0x147)],_0x1a1e65);if(!_0x4d72ed[_0x10f5bf(0x13e)])throw new Error(_0x10f5bf(0x162));return _0x4d72ed[_0x10f5bf(0x150)](_0x5c249c=>new component_dto_1[(_0x10f5bf(0x164))](_0x5c249c));}async['retrieveVeevaComponentsByTypeAndName'](_0xdf15ce){const _0x130d72=a309_0x1a16d7,_0x186b22=_0xdf15ce[_0x130d72(0x15a)]((_0x1d43ab,_0x287d35)=>_0x1d43ab[_0x130d72(0x14f)]((_0x287d35[_0x130d72(0x159)]+'.'+_0x287d35[_0x130d72(0x13a)])[_0x130d72(0x146)]()),new Set()),_0x460226=_0xdf15ce[_0x130d72(0x150)](_0x209a69=>_0x209a69[_0x130d72(0x13a)]),_0x4ec25c=(0x0,utils_1[_0x130d72(0x165)])(_0x460226,veeva_constants_1[_0x130d72(0x156)]['BUILD_WHERE_BY_NAME_LIMIT']),_0x27881c=_0x4ec25c[_0x130d72(0x150)](_0x487c2d=>veeva_constants_1['VeevaConstants'][_0x130d72(0x13c)]+(_0x130d72(0x140)+_0x487c2d[_0x130d72(0x174)](_0x130d72(0x16a))+'\x27)')),_0x1ff5e8=await veeva_service_1['VeevaService']['executeManyVQL'](_0x27881c,this['_connectionVeeva']),_0x112fa1=_0x1ff5e8[_0x130d72(0x150)](_0x38bc5d=>new veeva_component_dto_1[(_0x130d72(0x139))](_0x38bc5d))[_0x130d72(0x155)](_0x2acf7e=>_0x186b22[_0x130d72(0x153)]((_0x2acf7e[_0x130d72(0x151)]+'.'+_0x2acf7e[_0x130d72(0x175)])[_0x130d72(0x146)]()));if(!_0x112fa1[_0x130d72(0x13e)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x112fa1;}async[a309_0x1a16d7(0x17a)](_0xadaf4e){const _0x281398=a309_0x1a16d7,_0x4771ba=(0x0,utils_1[_0x281398(0x165)])(_0xadaf4e,veeva_constants_1[_0x281398(0x156)][_0x281398(0x135)]),_0x48d4f4=_0x4771ba[_0x281398(0x150)](_0x39a301=>veeva_constants_1[_0x281398(0x156)][_0x281398(0x13c)]+(_0x281398(0x13f)+_0x39a301['join'](_0x281398(0x16a))+'\x27)')),_0x5f1952=await veeva_service_1[_0x281398(0x171)][_0x281398(0x14e)](_0x48d4f4,this[_0x281398(0x137)]),_0x2c98ef=_0x5f1952[_0x281398(0x150)](_0x599f42=>new veeva_component_dto_1[(_0x281398(0x139))](_0x599f42))['filter'](_0x5d541e=>!_0x5d541e[_0x281398(0x15f)][_0x281398(0x16b)]('inactive__v'));if(!_0x2c98ef['length'])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x2c98ef;}async['retrieveDependencyVeevaComponents'](_0x2efa88){const _0x1cfa49=a309_0x1a16d7,_0x406082=_0x2efa88['map'](_0x2fa046=>_0x2fa046['id']),_0x143af3=(0x0,utils_1['chunkArray'])(_0x406082,veeva_constants_1[_0x1cfa49(0x156)][_0x1cfa49(0x135)]),_0x3811ec=_0x143af3[_0x1cfa49(0x150)](_0x18f58e=>veeva_constants_1[_0x1cfa49(0x156)][_0x1cfa49(0x13c)]+('SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27'+_0x18f58e[_0x1cfa49(0x174)](_0x1cfa49(0x16a))+'\x27)')),_0x396882=await veeva_service_1['VeevaService'][_0x1cfa49(0x14e)](_0x3811ec,this[_0x1cfa49(0x137)]),_0x48d331=_0x396882['map'](_0x20c354=>new veeva_component_relationship_dto_1['VeevaComponentRelationshipDto'](_0x20c354));if(!_0x48d331[_0x1cfa49(0x13e)])throw new Error(_0x1cfa49(0x138));return DependencyService[_0x1cfa49(0x169)](_0x48d331);}static[a309_0x1a16d7(0x169)](_0x4e3952){const _0x43315f=a309_0x1a16d7,_0x228c7b=_0x4e3952['reduce']((_0x2ecd7a,_0x443025)=>_0x2ecd7a[_0x43315f(0x141)](_0x443025['sourceComponentId']+'.'+_0x443025[_0x43315f(0x16d)],_0x443025),new Map());return[..._0x228c7b[_0x43315f(0x170)]()];}static[a309_0x1a16d7(0x168)](_0x3a159c,_0x61e774,_0x1439d3){const _0x210f0a=a309_0x1a16d7,_0x998aeb={},_0x319dfb=_0x3a159c[_0x210f0a(0x15a)]((_0x3e9131,_0x51c1e3)=>_0x3e9131[_0x210f0a(0x141)](_0x51c1e3['id'],_0x51c1e3),new Map()),_0x161c6b=_0x61e774['reduce']((_0x58f572,_0x4071fa)=>_0x58f572[_0x210f0a(0x141)](_0x4071fa['id'],_0x4071fa),new Map());for(const _0x321894 of _0x1439d3){const _0x400e7a=_0x319dfb['has'](_0x321894[_0x210f0a(0x176)])&&_0x161c6b[_0x210f0a(0x153)](_0x321894['targetComponentId']);if(!_0x400e7a)continue;const _0x3f7275=_0x319dfb['get'](_0x321894[_0x210f0a(0x176)]),_0x2ad4a0=_0x161c6b['get'](_0x321894['targetComponentId']);!_0x998aeb[_0x3f7275[_0x210f0a(0x175)]+':'+_0x3f7275[_0x210f0a(0x151)]]&&(_0x998aeb[_0x3f7275[_0x210f0a(0x175)]+':'+_0x3f7275[_0x210f0a(0x151)]]={'dependencies':[],'label':_0x3f7275[_0x210f0a(0x175)]+'\x20('+_0x3f7275[_0x210f0a(0x151)]+')','type':_0x3f7275[_0x210f0a(0x151)],'name':_0x3f7275[_0x210f0a(0x175)]}),_0x998aeb[_0x3f7275[_0x210f0a(0x175)]+':'+_0x3f7275[_0x210f0a(0x151)]][_0x210f0a(0x178)][_0x210f0a(0x166)]({'label':_0x2ad4a0[_0x210f0a(0x175)]+'\x20('+_0x2ad4a0[_0x210f0a(0x151)]+')','name':_0x2ad4a0['name'],'type':_0x2ad4a0[_0x210f0a(0x151)],'lastUpdate':_0x2ad4a0[_0x210f0a(0x144)],'isMissing':!_0x319dfb['has'](_0x321894[_0x210f0a(0x16d)])});}return _0x998aeb;}}exports[a309_0x1a16d7(0x148)]=DependencyService;