const a357_0x533154=a357_0x3b1d;(function(_0x29a603,_0x541d6b){const _0xdd55d4=a357_0x3b1d,_0x5cd798=_0x29a603();while(!![]){try{const _0x1a6d7a=-parseInt(_0xdd55d4(0x1d3))/0x1+-parseInt(_0xdd55d4(0x1dc))/0x2*(parseInt(_0xdd55d4(0x1d0))/0x3)+parseInt(_0xdd55d4(0x1f8))/0x4*(parseInt(_0xdd55d4(0x200))/0x5)+-parseInt(_0xdd55d4(0x1e4))/0x6+parseInt(_0xdd55d4(0x1e6))/0x7+parseInt(_0xdd55d4(0x1f2))/0x8*(parseInt(_0xdd55d4(0x1d9))/0x9)+parseInt(_0xdd55d4(0x1ef))/0xa;if(_0x1a6d7a===_0x541d6b)break;else _0x5cd798['push'](_0x5cd798['shift']());}catch(_0x1bd483){_0x5cd798['push'](_0x5cd798['shift']());}}}(a357_0xa3fe,0xd889b));const a357_0x1204d8=(function(){let _0x4daa31=!![];return function(_0x234d91,_0x179742){const _0x3e51d7=_0x4daa31?function(){const _0x32302f=a357_0x3b1d;if(_0x179742){const _0x378109=_0x179742[_0x32302f(0x1dd)](_0x234d91,arguments);return _0x179742=null,_0x378109;}}:function(){};return _0x4daa31=![],_0x3e51d7;};}()),a357_0x189d66=a357_0x1204d8(this,function(){const _0x284463=a357_0x3b1d;return a357_0x189d66[_0x284463(0x1f7)]()[_0x284463(0x201)]('(((.+)+)+)+$')[_0x284463(0x1f7)]()[_0x284463(0x202)](a357_0x189d66)[_0x284463(0x201)](_0x284463(0x1fb));});a357_0x189d66();'use strict';Object[a357_0x533154(0x1de)](exports,'__esModule',{'value':!![]}),exports[a357_0x533154(0x1ee)]=void 0x0;function a357_0xa3fe(){const _0x3a9ec0=['_connectionSalesforce','length','map','5853624ZufvFy','../classes/retrievers/veeva-components/id.veeva-component.retriever','3101000AxuQYp','./veeva.service','_branchId','../classes/retrievers/flosum-components/branch.flosum-component.retriever','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','_veevaService','createDataResult','targetComponentId','DependencyService','22030390JhWFBA','get','has','128UDPmwV','name','getVeevaComponentsByFlosumComponents','reduce','../enums/status.enums','toString','160vDpNQo','branchId','_salesforceService','(((.+)+)+)+$','baseVeevaComponentRetrieverOptions','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','No\x20veeva\x20components\x20found\x20in\x20branch','_connectionVeeva','12590MZdKOC','search','constructor','No\x20components\x20found\x20in\x20Veeva','push','SUCCESS','BranchFlosumComponentRetriever','retrieve','set','getFlosumComponents','77358bIgFKV','No\x20dependency\x20components\x20found\x20in\x20Veeva','sourceComponentId','645654AYWUhe','dependencies','IdVeevaComponentRetriever','SourceIdVeevaComponentRelationshipRetriever','type','FlosumComponentVeevaComponentRetriever','750591OcwAbz','VeevaService','getDependencyVeevaComponents','122hvxmot','apply','defineProperty','SalesforceService','lastModifiedDate'];a357_0xa3fe=function(){return _0x3a9ec0;};return a357_0xa3fe();}const veeva_service_1=require(a357_0x533154(0x1e7)),status_enums_1=require(a357_0x533154(0x1f6)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require(a357_0x533154(0x1fd)),id_veeva_component_retriever_1=require(a357_0x533154(0x1e5)),source_id_veeva_component_relationship_retriever_1=require(a357_0x533154(0x1ea)),branch_flosum_component_retriever_1=require(a357_0x533154(0x1e9));function a357_0x3b1d(_0x250277,_0x1bbfbc){const _0x2b48f8=a357_0xa3fe();return a357_0x3b1d=function(_0x189d66,_0x1204d8){_0x189d66=_0x189d66-0x1c9;let _0xa3fe3c=_0x2b48f8[_0x189d66];return _0xa3fe3c;},a357_0x3b1d(_0x250277,_0x1bbfbc);}class DependencyService{constructor(_0x14978e,_0x2187a9,_0x32bf11){const _0x54a1aa=a357_0x533154;this[_0x54a1aa(0x1e1)]=_0x2187a9,this['_connectionVeeva']=_0x32bf11,this[_0x54a1aa(0x1e8)]=_0x14978e[_0x54a1aa(0x1f9)];const _0x5074a7=new empty_logger_1['EmptyLogger']();this[_0x54a1aa(0x1eb)]=new veeva_service_1[(_0x54a1aa(0x1da))]({'connection':this[_0x54a1aa(0x1ff)],'logger':_0x5074a7}),this[_0x54a1aa(0x1fa)]=new salesforce_service_1[(_0x54a1aa(0x1df))]({'connection':this[_0x54a1aa(0x1e1)]});}get[a357_0x533154(0x1fc)](){return{'veevaService':this['_veevaService'],'logger':new empty_logger_1['EmptyLogger']()};}async['execute'](){const _0x1f8f14=a357_0x533154,_0x2124a4=await this[_0x1f8f14(0x1cf)](),_0x3bd682=await this[_0x1f8f14(0x1f4)](_0x2124a4),_0x4d0824=await this[_0x1f8f14(0x1db)](_0x3bd682),_0x227b09=_0x4d0824[_0x1f8f14(0x1e3)](_0x32e0e3=>_0x32e0e3[_0x1f8f14(0x1ed)]),_0x537ffd=await this['getVeevaComponentsById'](_0x227b09),_0x4aa313=DependencyService[_0x1f8f14(0x1ec)](_0x3bd682,_0x537ffd,_0x4d0824);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x1f8f14(0x1cb)],'data':_0x4aa313};}async[a357_0x533154(0x1cf)](){const _0x105fe0=a357_0x533154,_0x55c083=await new branch_flosum_component_retriever_1[(_0x105fe0(0x1cc))]({'value':this[_0x105fe0(0x1e8)],'salesforceService':this[_0x105fe0(0x1fa)]})['retrieve']();if(!_0x55c083[_0x105fe0(0x1e2)])throw new Error(_0x105fe0(0x1fe));return _0x55c083;}async[a357_0x533154(0x1f4)](_0x5db289){const _0x52f34e=a357_0x533154,_0x16991b=await new flosum_component_veeva_component_retriever_1[(_0x52f34e(0x1d8))]({'value':_0x5db289,...this[_0x52f34e(0x1fc)]})[_0x52f34e(0x1cd)]();if(!_0x16991b[_0x52f34e(0x1e2)])throw new Error(_0x52f34e(0x1c9));return _0x16991b;}async['getVeevaComponentsById'](_0x3ddabd){const _0x313d36=a357_0x533154,_0x572a32=await new id_veeva_component_retriever_1[(_0x313d36(0x1d5))]({'value':_0x3ddabd,...this[_0x313d36(0x1fc)]})['retrieve']();if(!_0x572a32[_0x313d36(0x1e2)])throw new Error(_0x313d36(0x1d1));return _0x572a32;}async[a357_0x533154(0x1db)](_0xf8e11b){const _0x23a1d5=a357_0x533154,_0x20db98=await new source_id_veeva_component_relationship_retriever_1[(_0x23a1d5(0x1d6))]({'value':_0xf8e11b[_0x23a1d5(0x1e3)](({id:_0x59048d})=>_0x59048d),'veevaService':this[_0x23a1d5(0x1eb)]})[_0x23a1d5(0x1cd)]();if(!_0x20db98[_0x23a1d5(0x1e2)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x20db98;}static[a357_0x533154(0x1ec)](_0x54e173,_0x2eaa6d,_0x201aa8){const _0xd1a4c3=a357_0x533154,_0x48de38={},_0xc98ee=_0x54e173[_0xd1a4c3(0x1f5)]((_0xe2fd60,_0x3b5551)=>_0xe2fd60[_0xd1a4c3(0x1ce)](_0x3b5551['id'],_0x3b5551),new Map()),_0x17a5d7=_0x2eaa6d[_0xd1a4c3(0x1f5)]((_0x113dac,_0x299096)=>_0x113dac[_0xd1a4c3(0x1ce)](_0x299096['id'],_0x299096),new Map());for(const _0x4a6ed7 of _0x201aa8){const _0x117f22=_0xc98ee[_0xd1a4c3(0x1f1)](_0x4a6ed7['sourceComponentId'])&&_0x17a5d7[_0xd1a4c3(0x1f1)](_0x4a6ed7['targetComponentId']);if(!_0x117f22)continue;const _0x142f93=_0xc98ee[_0xd1a4c3(0x1f0)](_0x4a6ed7[_0xd1a4c3(0x1d2)]),_0x4cd234=_0x17a5d7[_0xd1a4c3(0x1f0)](_0x4a6ed7[_0xd1a4c3(0x1ed)]);!_0x48de38[_0x142f93[_0xd1a4c3(0x1f3)]+':'+_0x142f93[_0xd1a4c3(0x1d7)]]&&(_0x48de38[_0x142f93[_0xd1a4c3(0x1f3)]+':'+_0x142f93['type']]={'dependencies':[],'label':_0x142f93['name']+'\x20('+_0x142f93['type']+')','type':_0x142f93[_0xd1a4c3(0x1d7)],'name':_0x142f93[_0xd1a4c3(0x1f3)]}),_0x48de38[_0x142f93['name']+':'+_0x142f93[_0xd1a4c3(0x1d7)]][_0xd1a4c3(0x1d4)][_0xd1a4c3(0x1ca)]({'label':_0x4cd234[_0xd1a4c3(0x1f3)]+'\x20('+_0x4cd234[_0xd1a4c3(0x1d7)]+')','name':_0x4cd234['name'],'type':_0x4cd234[_0xd1a4c3(0x1d7)],'lastUpdate':_0x4cd234[_0xd1a4c3(0x1e0)],'isMissing':!_0xc98ee[_0xd1a4c3(0x1f1)](_0x4a6ed7[_0xd1a4c3(0x1ed)])});}return _0x48de38;}}exports[a357_0x533154(0x1ee)]=DependencyService;