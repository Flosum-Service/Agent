const a309_0x192fb4=a309_0x59ee;(function(_0x36f19d,_0x5df783){const _0x54b469=a309_0x59ee,_0x313a52=_0x36f19d();while(!![]){try{const _0xb2cab3=-parseInt(_0x54b469(0x16e))/0x1*(-parseInt(_0x54b469(0x157))/0x2)+parseInt(_0x54b469(0x182))/0x3+parseInt(_0x54b469(0x14d))/0x4+parseInt(_0x54b469(0x14c))/0x5*(-parseInt(_0x54b469(0x148))/0x6)+parseInt(_0x54b469(0x15f))/0x7+parseInt(_0x54b469(0x17c))/0x8+-parseInt(_0x54b469(0x195))/0x9;if(_0xb2cab3===_0x5df783)break;else _0x313a52['push'](_0x313a52['shift']());}catch(_0x236ea3){_0x313a52['push'](_0x313a52['shift']());}}}(a309_0xbb26,0x37996));const a309_0x46f548=(function(){let _0xc53193=!![];return function(_0x7b3f01,_0x405151){const _0x126fc7=_0xc53193?function(){const _0x3c469f=a309_0x59ee;if(_0x405151){const _0x3233a4=_0x405151[_0x3c469f(0x151)](_0x7b3f01,arguments);return _0x405151=null,_0x3233a4;}}:function(){};return _0xc53193=![],_0x126fc7;};}()),a309_0xcf4a9a=a309_0x46f548(this,function(){const _0x35f0ac=a309_0x59ee;return a309_0xcf4a9a['toString']()[_0x35f0ac(0x158)]('(((.+)+)+)+$')['toString']()['constructor'](a309_0xcf4a9a)[_0x35f0ac(0x158)](_0x35f0ac(0x194));});a309_0xcf4a9a();'use strict';Object[a309_0x192fb4(0x18d)](exports,a309_0x192fb4(0x14e),{'value':!![]}),exports[a309_0x192fb4(0x15b)]=void 0x0;function a309_0xbb26(){const _0xa1ae53=['259mMBZxh','values','retrieveComponents','get','join','createDataResult','retrieveDependencyVeevaComponents','SUCCESS','retrieveRecords','set','ENDPOINT_VQL','name','../../../constants','./salesforce.service','648064wBEqWO','targetComponentId','Component_Name__c,\x20','retrieveVeevaComponentsById','sourceComponentId','includes','1068597oBQGUT','VeevaConstants','execute','add','_connectionVeeva','length','VeevaComponentRelationshipDto','No\x20veeva\x20components\x20found\x20in\x20branch','AppResponseStatus','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27','reduce','defineProperty','status','\x27,\x27','componentType','_branchId','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','branchId','(((.+)+)+)+$','2243394tcXruq','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','../dtos/component.dto','No\x20components\x20found\x20in\x20Veeva','_connectionSalesforce','FLOSUM_NAMESPACE','484314hTTsRD','has','chunkArray','./veeva.service','25TIXveO','107728CjZGVT','__esModule','Branch__c\x20=\x20\x27','retrieveVeevaComponentsByTypeAndName','apply','../constants/veeva.constants','../../shared/utils','Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','filter','deleteDependencyVeevaComponentDuplicates','1754ZPcIWV','search','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','ComponentDto','DependencyService','map','push','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','1325191mjVJio','../dtos/veeva-component-relationship.dto','VeevaComponentDto','BUILD_WHERE_BY_NAME_LIMIT','No\x20dependency\x20components\x20found\x20in\x20Veeva','executeManyVQL','type','componentName','BUILD_WHERE_BY_ID_LIMIT','No\x20relationship\x20found\x20in\x20Veeva','lastModifiedDate','toLowerCase','VeevaService','dependencies','../dtos/veeva-component.dto'];a309_0xbb26=function(){return _0xa1ae53;};return a309_0xbb26();}const veeva_constants_1=require(a309_0x192fb4(0x152)),veeva_service_1=require(a309_0x192fb4(0x14b)),component_dto_1=require(a309_0x192fb4(0x144)),veeva_component_dto_1=require(a309_0x192fb4(0x16d)),veeva_component_relationship_dto_1=require(a309_0x192fb4(0x160)),utils_1=require(a309_0x192fb4(0x153)),constants_1=require(a309_0x192fb4(0x17a)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a309_0x192fb4(0x17b));class DependencyService{constructor(_0x2ae08c,_0x2a1083,_0x1c1fcc){const _0x188384=a309_0x192fb4;this[_0x188384(0x146)]=_0x2a1083,this[_0x188384(0x186)]=_0x1c1fcc,this[_0x188384(0x191)]=_0x2ae08c[_0x188384(0x193)];}async[a309_0x192fb4(0x184)](){const _0x10b390=a309_0x192fb4,_0x28bce7=await this[_0x10b390(0x170)](),_0x2240b2=await this['retrieveVeevaComponentsByTypeAndName'](_0x28bce7),_0x1fb64a=await this[_0x10b390(0x174)](_0x2240b2),_0x583523=_0x1fb64a['map'](_0x42aa5d=>_0x42aa5d[_0x10b390(0x17d)]),_0x5f2de8=await this[_0x10b390(0x17f)](_0x583523),_0x2427f5=DependencyService[_0x10b390(0x173)](_0x2240b2,_0x5f2de8,_0x1fb64a);return{'responseStatus':status_enums_1[_0x10b390(0x18a)][_0x10b390(0x175)],'data':_0x2427f5};}async['retrieveComponents'](){const _0x34c4af=a309_0x192fb4,_0x1c086a=_0x34c4af(0x143)+constants_1[_0x34c4af(0x147)]+_0x34c4af(0x17e)+constants_1[_0x34c4af(0x147)]+_0x34c4af(0x159)+constants_1[_0x34c4af(0x147)]+_0x34c4af(0x192)+constants_1[_0x34c4af(0x147)]+_0x34c4af(0x14f)+this[_0x34c4af(0x191)]+'\x27\x20AND\x20'+constants_1['FLOSUM_NAMESPACE']+_0x34c4af(0x154),_0x962f64=await salesforce_service_1['SalesforceService'][_0x34c4af(0x176)](this[_0x34c4af(0x146)],_0x1c086a);if(!_0x962f64['length'])throw new Error(_0x34c4af(0x189));return _0x962f64[_0x34c4af(0x15c)](_0x32a3bd=>new component_dto_1[(_0x34c4af(0x15a))](_0x32a3bd));}async[a309_0x192fb4(0x150)](_0x304dbb){const _0x4829fd=a309_0x192fb4,_0x539bf2=_0x304dbb['reduce']((_0x497a75,_0x8965b0)=>_0x497a75[_0x4829fd(0x185)]((_0x8965b0[_0x4829fd(0x190)]+'.'+_0x8965b0['componentName'])[_0x4829fd(0x16a)]()),new Set()),_0x3d211d=_0x304dbb[_0x4829fd(0x15c)](_0x3f0655=>_0x3f0655[_0x4829fd(0x166)]),_0x2973a9=(0x0,utils_1['chunkArray'])(_0x3d211d,veeva_constants_1[_0x4829fd(0x183)][_0x4829fd(0x162)]),_0x408a1a=_0x2973a9['map'](_0x363cad=>veeva_constants_1[_0x4829fd(0x183)]['ENDPOINT_VQL']+(_0x4829fd(0x18b)+_0x363cad[_0x4829fd(0x172)](_0x4829fd(0x18f))+'\x27)')),_0x608172=await veeva_service_1['VeevaService']['executeManyVQL'](_0x408a1a,this[_0x4829fd(0x186)]),_0x571c7a=_0x608172[_0x4829fd(0x15c)](_0x15028c=>new veeva_component_dto_1['VeevaComponentDto'](_0x15028c))[_0x4829fd(0x155)](_0x13adba=>_0x539bf2[_0x4829fd(0x149)]((_0x13adba[_0x4829fd(0x165)]+'.'+_0x13adba['name'])[_0x4829fd(0x16a)]()));if(!_0x571c7a[_0x4829fd(0x187)])throw new Error(_0x4829fd(0x145));return _0x571c7a;}async[a309_0x192fb4(0x17f)](_0x58273f){const _0x4293af=a309_0x192fb4,_0x441b3e=(0x0,utils_1[_0x4293af(0x14a)])(_0x58273f,veeva_constants_1[_0x4293af(0x183)][_0x4293af(0x167)]),_0x13c6ab=_0x441b3e[_0x4293af(0x15c)](_0x19718d=>veeva_constants_1[_0x4293af(0x183)][_0x4293af(0x178)]+(_0x4293af(0x142)+_0x19718d['join'](_0x4293af(0x18f))+'\x27)')),_0x5b0a92=await veeva_service_1[_0x4293af(0x16b)][_0x4293af(0x164)](_0x13c6ab,this[_0x4293af(0x186)]),_0x32dffe=_0x5b0a92[_0x4293af(0x15c)](_0x14e2e9=>new veeva_component_dto_1[(_0x4293af(0x161))](_0x14e2e9))[_0x4293af(0x155)](_0x2f69a4=>!_0x2f69a4[_0x4293af(0x18e)][_0x4293af(0x181)]('inactive__v'));if(!_0x32dffe[_0x4293af(0x187)])throw new Error(_0x4293af(0x163));return _0x32dffe;}async[a309_0x192fb4(0x174)](_0x5a8ba4){const _0x473018=a309_0x192fb4,_0x42b801=_0x5a8ba4[_0x473018(0x15c)](_0x160f3e=>_0x160f3e['id']),_0x403406=(0x0,utils_1[_0x473018(0x14a)])(_0x42b801,veeva_constants_1['VeevaConstants'][_0x473018(0x167)]),_0x3553d5=_0x403406[_0x473018(0x15c)](_0x2ef45b=>veeva_constants_1[_0x473018(0x183)][_0x473018(0x178)]+(_0x473018(0x15e)+_0x2ef45b[_0x473018(0x172)](_0x473018(0x18f))+'\x27)')),_0x16d4f6=await veeva_service_1[_0x473018(0x16b)][_0x473018(0x164)](_0x3553d5,this[_0x473018(0x186)]),_0x53b72b=_0x16d4f6[_0x473018(0x15c)](_0x1d3af9=>new veeva_component_relationship_dto_1[(_0x473018(0x188))](_0x1d3af9));if(!_0x53b72b[_0x473018(0x187)])throw new Error(_0x473018(0x168));return DependencyService['deleteDependencyVeevaComponentDuplicates'](_0x53b72b);}static[a309_0x192fb4(0x156)](_0x4195b6){const _0x1bb361=a309_0x192fb4,_0x8ce885=_0x4195b6['reduce']((_0x32abb8,_0x53540f)=>_0x32abb8[_0x1bb361(0x177)](_0x53540f[_0x1bb361(0x180)]+'.'+_0x53540f[_0x1bb361(0x17d)],_0x53540f),new Map());return[..._0x8ce885[_0x1bb361(0x16f)]()];}static['createDataResult'](_0x3108a3,_0x1612fe,_0x4012d6){const _0x4cc982=a309_0x192fb4,_0x10cd75={},_0x394e15=_0x3108a3[_0x4cc982(0x18c)]((_0x4ba0cd,_0x3dc184)=>_0x4ba0cd['set'](_0x3dc184['id'],_0x3dc184),new Map()),_0x5bde0b=_0x1612fe['reduce']((_0x267423,_0x40b634)=>_0x267423[_0x4cc982(0x177)](_0x40b634['id'],_0x40b634),new Map());for(const _0x15e496 of _0x4012d6){const _0x3df066=_0x394e15[_0x4cc982(0x149)](_0x15e496[_0x4cc982(0x180)])&&_0x5bde0b[_0x4cc982(0x149)](_0x15e496[_0x4cc982(0x17d)]);if(!_0x3df066)continue;const _0x126dce=_0x394e15[_0x4cc982(0x171)](_0x15e496[_0x4cc982(0x180)]),_0x54dfba=_0x5bde0b[_0x4cc982(0x171)](_0x15e496[_0x4cc982(0x17d)]);!_0x10cd75[_0x126dce[_0x4cc982(0x179)]+':'+_0x126dce['type']]&&(_0x10cd75[_0x126dce[_0x4cc982(0x179)]+':'+_0x126dce[_0x4cc982(0x165)]]={'dependencies':[],'label':_0x126dce[_0x4cc982(0x179)]+'\x20('+_0x126dce[_0x4cc982(0x165)]+')','type':_0x126dce['type'],'name':_0x126dce[_0x4cc982(0x179)]}),_0x10cd75[_0x126dce[_0x4cc982(0x179)]+':'+_0x126dce['type']][_0x4cc982(0x16c)][_0x4cc982(0x15d)]({'label':_0x54dfba[_0x4cc982(0x179)]+'\x20('+_0x54dfba[_0x4cc982(0x165)]+')','name':_0x54dfba[_0x4cc982(0x179)],'type':_0x54dfba[_0x4cc982(0x165)],'lastUpdate':_0x54dfba[_0x4cc982(0x169)],'isMissing':!_0x394e15['has'](_0x15e496[_0x4cc982(0x17d)])});}return _0x10cd75;}}function a309_0x59ee(_0x1e19c4,_0x3ecba4){const _0x13bb3e=a309_0xbb26();return a309_0x59ee=function(_0xcf4a9a,_0x46f548){_0xcf4a9a=_0xcf4a9a-0x142;let _0xbb2659=_0x13bb3e[_0xcf4a9a];return _0xbb2659;},a309_0x59ee(_0x1e19c4,_0x3ecba4);}exports[a309_0x192fb4(0x15b)]=DependencyService;