const a373_0x115027=a373_0x376e;(function(_0x4af6c6,_0x46b9bb){const _0x18cacc=a373_0x376e,_0x4479b5=_0x4af6c6();while(!![]){try{const _0x582b4e=-parseInt(_0x18cacc(0xe2))/0x1+-parseInt(_0x18cacc(0xce))/0x2*(-parseInt(_0x18cacc(0xf8))/0x3)+-parseInt(_0x18cacc(0xf4))/0x4+-parseInt(_0x18cacc(0x102))/0x5+parseInt(_0x18cacc(0xf6))/0x6+-parseInt(_0x18cacc(0xd4))/0x7+parseInt(_0x18cacc(0xd5))/0x8*(parseInt(_0x18cacc(0xfa))/0x9);if(_0x582b4e===_0x46b9bb)break;else _0x4479b5['push'](_0x4479b5['shift']());}catch(_0x58eeb5){_0x4479b5['push'](_0x4479b5['shift']());}}}(a373_0x1399,0x7b654));function a373_0x376e(_0x494a37,_0x4f06b4){const _0x80dfbd=a373_0x1399();return a373_0x376e=function(_0x52dc03,_0x445219){_0x52dc03=_0x52dc03-0xce;let _0x1399be=_0x80dfbd[_0x52dc03];return _0x1399be;},a373_0x376e(_0x494a37,_0x4f06b4);}const a373_0x445219=(function(){let _0x558fb5=!![];return function(_0x38bd98,_0x4cdf8e){const _0x396a0f=_0x558fb5?function(){const _0x1ef1ff=a373_0x376e;if(_0x4cdf8e){const _0x5637e2=_0x4cdf8e[_0x1ef1ff(0xef)](_0x38bd98,arguments);return _0x4cdf8e=null,_0x5637e2;}}:function(){};return _0x558fb5=![],_0x396a0f;};}()),a373_0x52dc03=a373_0x445219(this,function(){const _0x3c69d4=a373_0x376e;return a373_0x52dc03[_0x3c69d4(0xea)]()[_0x3c69d4(0x100)](_0x3c69d4(0xe6))[_0x3c69d4(0xea)]()[_0x3c69d4(0xe5)](a373_0x52dc03)['search']('(((.+)+)+)+$');});a373_0x52dc03();'use strict';function a373_0x1399(){const _0xfd8faa=['5577446daaPeZ','104wslLBe','_connectionSalesforce','sourceComponentId','EmptyLogger','dependencies','defineProperty','baseVeevaComponentRetrieverOptions','_veevaService','No\x20components\x20found\x20in\x20Veeva','set','map','No\x20relationship\x20found\x20in\x20Veeva','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','759365Hbizit','branchId','SUCCESS','constructor','(((.+)+)+)+$','../classes/loggers/empty.logger','DependencyService','getDependencyVeevaComponents','toString','getVeevaComponentsById','execute','_branchId','targetComponentId','apply','has','getVeevaComponentsByFlosumComponents','../classes/retrievers/veeva-components/id.veeva-component.retriever','_connectionVeeva','751740LjgNAg','_salesforceService','387048RkiUhv','AppResponseStatus','859377uBNNfm','retrieve','1680498vLReqU','reduce','get','./salesforce.service','../enums/status.enums','No\x20dependency\x20components\x20found\x20in\x20Veeva','search','SourceIdVeevaComponentRelationshipRetriever','2644235ikCwkH','length','push','type','2rdLFcE','createDataResult','name','getFlosumComponents','FlosumComponentVeevaComponentRetriever','VeevaService'];a373_0x1399=function(){return _0xfd8faa;};return a373_0x1399();}Object[a373_0x115027(0xda)](exports,'__esModule',{'value':!![]}),exports[a373_0x115027(0xe8)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a373_0x115027(0xfe)),salesforce_service_1=require(a373_0x115027(0xfd)),empty_logger_1=require(a373_0x115027(0xe7)),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a373_0x115027(0xf2)),source_id_veeva_component_relationship_retriever_1=require(a373_0x115027(0xe1)),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');class DependencyService{constructor(_0x179241,_0x268f01,_0x4437f4){const _0x4e0648=a373_0x115027;this[_0x4e0648(0xd6)]=_0x268f01,this[_0x4e0648(0xf3)]=_0x4437f4,this['_branchId']=_0x179241[_0x4e0648(0xe3)];const _0x3d5be5=new empty_logger_1[(_0x4e0648(0xd8))]();this[_0x4e0648(0xdc)]=new veeva_service_1[(_0x4e0648(0xd3))]({'connection':this[_0x4e0648(0xf3)],'logger':_0x3d5be5}),this[_0x4e0648(0xf5)]=new salesforce_service_1['SalesforceService']({'connection':this[_0x4e0648(0xd6)]});}get[a373_0x115027(0xdb)](){const _0x55715d=a373_0x115027;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0x55715d(0xd8))]()};}async[a373_0x115027(0xec)](){const _0x404f67=a373_0x115027,_0x5a48e3=await this['getFlosumComponents'](),_0x45e945=await this[_0x404f67(0xf1)](_0x5a48e3),_0x5b7053=await this[_0x404f67(0xe9)](_0x45e945),_0x19dc9f=_0x5b7053['map'](_0x4e46c4=>_0x4e46c4['targetComponentId']),_0x3d49a7=await this['getVeevaComponentsById'](_0x19dc9f),_0x13b8de=DependencyService[_0x404f67(0xcf)](_0x45e945,_0x3d49a7,_0x5b7053);return{'responseStatus':status_enums_1[_0x404f67(0xf7)][_0x404f67(0xe4)],'data':_0x13b8de};}async[a373_0x115027(0xd1)](){const _0x1c8b30=a373_0x115027,_0x53128e=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this[_0x1c8b30(0xed)],'salesforceService':this['_salesforceService']})[_0x1c8b30(0xf9)]();if(!_0x53128e[_0x1c8b30(0x103)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x53128e;}async['getVeevaComponentsByFlosumComponents'](_0xf96e49){const _0x25a852=a373_0x115027,_0x119321=await new flosum_component_veeva_component_retriever_1[(_0x25a852(0xd2))]({'value':_0xf96e49,...this[_0x25a852(0xdb)]})[_0x25a852(0xf9)]();if(!_0x119321['length'])throw new Error(_0x25a852(0xdd));return _0x119321;}async[a373_0x115027(0xeb)](_0x5e5b6f){const _0x20d9c7=a373_0x115027,_0x5a3bc5=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x5e5b6f,...this[_0x20d9c7(0xdb)]})[_0x20d9c7(0xf9)]();if(!_0x5a3bc5['length'])throw new Error(_0x20d9c7(0xff));return _0x5a3bc5;}async[a373_0x115027(0xe9)](_0x1141fb){const _0x42206e=a373_0x115027,_0x291c47=await new source_id_veeva_component_relationship_retriever_1[(_0x42206e(0x101))]({'value':_0x1141fb[_0x42206e(0xdf)](({id:_0x490c8d})=>_0x490c8d),'veevaService':this[_0x42206e(0xdc)]})['retrieve']();if(!_0x291c47['length'])throw new Error(_0x42206e(0xe0));return _0x291c47;}static[a373_0x115027(0xcf)](_0x2c2df1,_0xcd74cb,_0x4e40ff){const _0x271635=a373_0x115027,_0x591b17={},_0x37b9e5=_0x2c2df1[_0x271635(0xfb)]((_0x26ec1f,_0xd218a7)=>_0x26ec1f[_0x271635(0xde)](_0xd218a7['id'],_0xd218a7),new Map()),_0x9cbd4a=_0xcd74cb[_0x271635(0xfb)]((_0x3feedf,_0x306cbb)=>_0x3feedf[_0x271635(0xde)](_0x306cbb['id'],_0x306cbb),new Map());for(const _0x2bad43 of _0x4e40ff){const _0x22db2f=_0x37b9e5[_0x271635(0xf0)](_0x2bad43[_0x271635(0xd7)])&&_0x9cbd4a[_0x271635(0xf0)](_0x2bad43[_0x271635(0xee)]);if(!_0x22db2f)continue;const _0x30ac68=_0x37b9e5['get'](_0x2bad43[_0x271635(0xd7)]),_0x29e146=_0x9cbd4a[_0x271635(0xfc)](_0x2bad43[_0x271635(0xee)]);!_0x591b17[_0x30ac68['name']+':'+_0x30ac68['type']]&&(_0x591b17[_0x30ac68['name']+':'+_0x30ac68[_0x271635(0x105)]]={'dependencies':[],'label':_0x30ac68['name']+'\x20('+_0x30ac68[_0x271635(0x105)]+')','type':_0x30ac68[_0x271635(0x105)],'name':_0x30ac68[_0x271635(0xd0)]}),_0x591b17[_0x30ac68[_0x271635(0xd0)]+':'+_0x30ac68[_0x271635(0x105)]][_0x271635(0xd9)][_0x271635(0x104)]({'label':_0x29e146[_0x271635(0xd0)]+'\x20('+_0x29e146[_0x271635(0x105)]+')','name':_0x29e146[_0x271635(0xd0)],'type':_0x29e146[_0x271635(0x105)],'lastUpdate':_0x29e146['lastModifiedDate'],'isMissing':!_0x37b9e5['has'](_0x2bad43[_0x271635(0xee)])});}return _0x591b17;}}exports[a373_0x115027(0xe8)]=DependencyService;