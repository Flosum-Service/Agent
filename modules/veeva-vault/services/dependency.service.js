const a333_0x5d2b08=a333_0xea1c;(function(_0x327f9a,_0x301055){const _0x245465=a333_0xea1c,_0x1bb38d=_0x327f9a();while(!![]){try{const _0x4cee9b=-parseInt(_0x245465(0x168))/0x1*(parseInt(_0x245465(0x15d))/0x2)+parseInt(_0x245465(0x154))/0x3+parseInt(_0x245465(0x14a))/0x4+parseInt(_0x245465(0x17d))/0x5+-parseInt(_0x245465(0x178))/0x6*(parseInt(_0x245465(0x16d))/0x7)+-parseInt(_0x245465(0x147))/0x8+parseInt(_0x245465(0x171))/0x9*(-parseInt(_0x245465(0x15e))/0xa);if(_0x4cee9b===_0x301055)break;else _0x1bb38d['push'](_0x1bb38d['shift']());}catch(_0xd1e494){_0x1bb38d['push'](_0x1bb38d['shift']());}}}(a333_0x12b5,0xc5cd3));const a333_0x13c9c8=(function(){let _0x24f036=!![];return function(_0x522a10,_0x532aad){const _0x1a9bfd=_0x24f036?function(){const _0xaf08ee=a333_0xea1c;if(_0x532aad){const _0x5eab67=_0x532aad[_0xaf08ee(0x163)](_0x522a10,arguments);return _0x532aad=null,_0x5eab67;}}:function(){};return _0x24f036=![],_0x1a9bfd;};}()),a333_0x118bb8=a333_0x13c9c8(this,function(){const _0x3fa91d=a333_0xea1c;return a333_0x118bb8[_0x3fa91d(0x159)]()[_0x3fa91d(0x156)](_0x3fa91d(0x164))[_0x3fa91d(0x159)]()[_0x3fa91d(0x160)](a333_0x118bb8)['search'](_0x3fa91d(0x164));});function a333_0x12b5(){const _0x13d70b=['SourceIdVeevaComponentRelationshipRetriever','5622784eBQnTl','has','_veevaService','6073940iuXqYR','../classes/loggers/empty.logger','set','branchId','push','targetComponentId','./salesforce.service','dependencies','No\x20dependency\x20components\x20found\x20in\x20Veeva','EmptyLogger','4445133tEtSaK','reduce','search','defineProperty','getFlosumComponents','toString','../classes/retrievers/veeva-components/id.veeva-component.retriever','AppResponseStatus','createDataResult','293464PBjmjN','60jEDIES','get','constructor','../enums/status.enums','FlosumComponentVeevaComponentRetriever','apply','(((.+)+)+)+$','No\x20components\x20found\x20in\x20Veeva','baseVeevaComponentRetrieverOptions','SUCCESS','7TJhfmz','type','map','retrieve','getVeevaComponentsByFlosumComponents','28cyXZKM','getDependencyVeevaComponents','lastModifiedDate','_branchId','1692981PZiwhy','getVeevaComponentsById','_connectionSalesforce','DependencyService','_salesforceService','SalesforceService','length','452040sFLLXU','sourceComponentId','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','../classes/retrievers/flosum-components/branch.flosum-component.retriever','BranchFlosumComponentRetriever','4849925vDpemj','name','No\x20veeva\x20components\x20found\x20in\x20branch'];a333_0x12b5=function(){return _0x13d70b;};return a333_0x12b5();}a333_0x118bb8();'use strict';Object[a333_0x5d2b08(0x157)](exports,'__esModule',{'value':!![]}),exports[a333_0x5d2b08(0x174)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a333_0x5d2b08(0x161)),salesforce_service_1=require(a333_0x5d2b08(0x150)),empty_logger_1=require(a333_0x5d2b08(0x14b)),flosum_component_veeva_component_retriever_1=require(a333_0x5d2b08(0x17a)),id_veeva_component_retriever_1=require(a333_0x5d2b08(0x15a)),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require(a333_0x5d2b08(0x17b));function a333_0xea1c(_0x3371f7,_0x1bd55f){const _0x31f5a8=a333_0x12b5();return a333_0xea1c=function(_0x118bb8,_0x13c9c8){_0x118bb8=_0x118bb8-0x146;let _0x12b5bb=_0x31f5a8[_0x118bb8];return _0x12b5bb;},a333_0xea1c(_0x3371f7,_0x1bd55f);}class DependencyService{constructor(_0xec52f5,_0x14fe3d,_0x1e316e){const _0x528a31=a333_0x5d2b08;this['_connectionSalesforce']=_0x14fe3d,this['_connectionVeeva']=_0x1e316e,this[_0x528a31(0x170)]=_0xec52f5[_0x528a31(0x14d)];const _0x3600e5=new empty_logger_1[(_0x528a31(0x153))]();this['_veevaService']=new veeva_service_1['VeevaService']({'connection':this['_connectionVeeva'],'logger':_0x3600e5}),this[_0x528a31(0x175)]=new salesforce_service_1[(_0x528a31(0x176))]({'connection':this[_0x528a31(0x173)]});}get[a333_0x5d2b08(0x166)](){const _0x13489b=a333_0x5d2b08;return{'veevaService':this[_0x13489b(0x149)],'logger':new empty_logger_1['EmptyLogger']()};}async['execute'](){const _0x1cb88f=a333_0x5d2b08,_0x23d207=await this['getFlosumComponents'](),_0x491fc2=await this['getVeevaComponentsByFlosumComponents'](_0x23d207),_0xdcd200=await this[_0x1cb88f(0x16e)](_0x491fc2),_0x12f491=_0xdcd200[_0x1cb88f(0x16a)](_0x1a1131=>_0x1a1131[_0x1cb88f(0x14f)]),_0x2f6700=await this[_0x1cb88f(0x172)](_0x12f491),_0x574733=DependencyService[_0x1cb88f(0x15c)](_0x491fc2,_0x2f6700,_0xdcd200);return{'responseStatus':status_enums_1[_0x1cb88f(0x15b)][_0x1cb88f(0x167)],'data':_0x574733};}async[a333_0x5d2b08(0x158)](){const _0x518238=a333_0x5d2b08,_0x214237=await new branch_flosum_component_retriever_1[(_0x518238(0x17c))]({'value':this[_0x518238(0x170)],'salesforceService':this[_0x518238(0x175)]})['retrieve']();if(!_0x214237[_0x518238(0x177)])throw new Error(_0x518238(0x17f));return _0x214237;}async[a333_0x5d2b08(0x16c)](_0x49b836){const _0x521c0e=a333_0x5d2b08,_0xae480e=await new flosum_component_veeva_component_retriever_1[(_0x521c0e(0x162))]({'value':_0x49b836,...this[_0x521c0e(0x166)]})[_0x521c0e(0x16b)]();if(!_0xae480e[_0x521c0e(0x177)])throw new Error(_0x521c0e(0x165));return _0xae480e;}async[a333_0x5d2b08(0x172)](_0xcbb320){const _0x583ebc=a333_0x5d2b08,_0x1f788a=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0xcbb320,...this[_0x583ebc(0x166)]})[_0x583ebc(0x16b)]();if(!_0x1f788a[_0x583ebc(0x177)])throw new Error(_0x583ebc(0x152));return _0x1f788a;}async[a333_0x5d2b08(0x16e)](_0x313890){const _0x16f4f7=a333_0x5d2b08,_0xb391fe=await new source_id_veeva_component_relationship_retriever_1[(_0x16f4f7(0x146))]({'value':_0x313890[_0x16f4f7(0x16a)](({id:_0x29d657})=>_0x29d657),'veevaService':this[_0x16f4f7(0x149)]})[_0x16f4f7(0x16b)]();if(!_0xb391fe['length'])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0xb391fe;}static[a333_0x5d2b08(0x15c)](_0xa64b8,_0x55c7bb,_0x24363b){const _0x2d3fb0=a333_0x5d2b08,_0xd8836e={},_0x4c15fb=_0xa64b8[_0x2d3fb0(0x155)]((_0xab2859,_0x2ec86e)=>_0xab2859[_0x2d3fb0(0x14c)](_0x2ec86e['id'],_0x2ec86e),new Map()),_0x28ee83=_0x55c7bb[_0x2d3fb0(0x155)]((_0x188cdb,_0x1ca60f)=>_0x188cdb[_0x2d3fb0(0x14c)](_0x1ca60f['id'],_0x1ca60f),new Map());for(const _0x1e215c of _0x24363b){const _0x164edf=_0x4c15fb[_0x2d3fb0(0x148)](_0x1e215c['sourceComponentId'])&&_0x28ee83[_0x2d3fb0(0x148)](_0x1e215c[_0x2d3fb0(0x14f)]);if(!_0x164edf)continue;const _0x1641d3=_0x4c15fb[_0x2d3fb0(0x15f)](_0x1e215c[_0x2d3fb0(0x179)]),_0x5eecdf=_0x28ee83[_0x2d3fb0(0x15f)](_0x1e215c[_0x2d3fb0(0x14f)]);!_0xd8836e[_0x1641d3[_0x2d3fb0(0x17e)]+':'+_0x1641d3[_0x2d3fb0(0x169)]]&&(_0xd8836e[_0x1641d3[_0x2d3fb0(0x17e)]+':'+_0x1641d3[_0x2d3fb0(0x169)]]={'dependencies':[],'label':_0x1641d3['name']+'\x20('+_0x1641d3['type']+')','type':_0x1641d3['type'],'name':_0x1641d3[_0x2d3fb0(0x17e)]}),_0xd8836e[_0x1641d3[_0x2d3fb0(0x17e)]+':'+_0x1641d3['type']][_0x2d3fb0(0x151)][_0x2d3fb0(0x14e)]({'label':_0x5eecdf[_0x2d3fb0(0x17e)]+'\x20('+_0x5eecdf[_0x2d3fb0(0x169)]+')','name':_0x5eecdf[_0x2d3fb0(0x17e)],'type':_0x5eecdf[_0x2d3fb0(0x169)],'lastUpdate':_0x5eecdf[_0x2d3fb0(0x16f)],'isMissing':!_0x4c15fb[_0x2d3fb0(0x148)](_0x1e215c[_0x2d3fb0(0x14f)])});}return _0xd8836e;}}exports[a333_0x5d2b08(0x174)]=DependencyService;