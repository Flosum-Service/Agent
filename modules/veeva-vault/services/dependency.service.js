const a254_0x11b376=a254_0x592d;(function(_0xe45e90,_0x57888b){const _0x2b9fb9=a254_0x592d,_0x4a4b82=_0xe45e90();while(!![]){try{const _0x4837ea=parseInt(_0x2b9fb9(0x151))/0x1*(-parseInt(_0x2b9fb9(0x168))/0x2)+-parseInt(_0x2b9fb9(0x148))/0x3+parseInt(_0x2b9fb9(0x159))/0x4*(-parseInt(_0x2b9fb9(0x14d))/0x5)+parseInt(_0x2b9fb9(0x156))/0x6*(-parseInt(_0x2b9fb9(0x15f))/0x7)+-parseInt(_0x2b9fb9(0x176))/0x8*(parseInt(_0x2b9fb9(0x165))/0x9)+-parseInt(_0x2b9fb9(0x142))/0xa*(-parseInt(_0x2b9fb9(0x13c))/0xb)+parseInt(_0x2b9fb9(0x14f))/0xc;if(_0x4837ea===_0x57888b)break;else _0x4a4b82['push'](_0x4a4b82['shift']());}catch(_0x23b762){_0x4a4b82['push'](_0x4a4b82['shift']());}}}(a254_0xc0cd,0x5046d));const a254_0x4fc416=(function(){let _0x506bd6=!![];return function(_0x2c764c,_0x481234){const _0x55a805=_0x506bd6?function(){if(_0x481234){const _0x3ba608=_0x481234['apply'](_0x2c764c,arguments);return _0x481234=null,_0x3ba608;}}:function(){};return _0x506bd6=![],_0x55a805;};}()),a254_0x3f18fa=a254_0x4fc416(this,function(){const _0x498d20=a254_0x592d;return a254_0x3f18fa[_0x498d20(0x136)]()['search'](_0x498d20(0x120))[_0x498d20(0x136)]()[_0x498d20(0x130)](a254_0x3f18fa)[_0x498d20(0x13d)](_0x498d20(0x120));});a254_0x3f18fa();'use strict';function a254_0x592d(_0x41c00c,_0xb054da){const _0x16177c=a254_0xc0cd();return a254_0x592d=function(_0x3f18fa,_0x4fc416){_0x3f18fa=_0x3f18fa-0x11f;let _0xc0cd00=_0x16177c[_0x3f18fa];return _0xc0cd00;},a254_0x592d(_0x41c00c,_0xb054da);}Object[a254_0x11b376(0x131)](exports,a254_0x11b376(0x154),{'value':!![]}),exports[a254_0x11b376(0x127)]=void 0x0;const veeva_constants_1=require(a254_0x11b376(0x14c)),veeva_service_1=require('./veeva.service'),component_dto_1=require(a254_0x11b376(0x12f)),veeva_component_dto_1=require(a254_0x11b376(0x15a)),veeva_component_relationship_dto_1=require(a254_0x11b376(0x135)),utils_1=require(a254_0x11b376(0x157)),constants_1=require(a254_0x11b376(0x16b)),status_enums_1=require(a254_0x11b376(0x15d)),salesforce_service_1=require(a254_0x11b376(0x16f));class DependencyService{constructor(_0xb05519,_0x28b49d,_0x531f0c){const _0x3d7177=a254_0x11b376;this[_0x3d7177(0x138)]=_0x28b49d,this[_0x3d7177(0x145)]=_0x531f0c,this[_0x3d7177(0x11f)]=_0xb05519['branchId'];}async[a254_0x11b376(0x141)](){const _0x97b6cf=a254_0x11b376,_0x47b466=await this[_0x97b6cf(0x163)](),_0x1a29c6=await this[_0x97b6cf(0x169)](_0x47b466),_0x593f05=await this['retrieveDependencyVeevaComponents'](_0x1a29c6),_0x51eb83=_0x593f05[_0x97b6cf(0x133)](_0x16ff8a=>_0x16ff8a[_0x97b6cf(0x123)]),_0xa01afe=await this['retrieveVeevaComponentsById'](_0x51eb83),_0x453de5=DependencyService[_0x97b6cf(0x162)](_0x1a29c6,_0xa01afe,_0x593f05);return{'responseStatus':status_enums_1[_0x97b6cf(0x134)]['SUCCESS'],'data':_0x453de5};}async[a254_0x11b376(0x163)](){const _0x35421a=a254_0x11b376,_0x1dc1b8=_0x35421a(0x128)+constants_1[_0x35421a(0x14b)]+_0x35421a(0x161)+constants_1[_0x35421a(0x14b)]+_0x35421a(0x16a)+constants_1['FLOSUM_NAMESPACE']+_0x35421a(0x12c)+constants_1[_0x35421a(0x14b)]+_0x35421a(0x13a)+this[_0x35421a(0x11f)]+_0x35421a(0x126)+constants_1[_0x35421a(0x14b)]+_0x35421a(0x166),_0x311b00=await salesforce_service_1[_0x35421a(0x16e)][_0x35421a(0x132)](this[_0x35421a(0x138)],_0x1dc1b8);if(!_0x311b00[_0x35421a(0x158)])throw new Error(_0x35421a(0x129));return _0x311b00[_0x35421a(0x133)](_0x4807fe=>new component_dto_1[(_0x35421a(0x121))](_0x4807fe));}async[a254_0x11b376(0x169)](_0x5171e4){const _0xf883c3=a254_0x11b376,_0x3260f0=_0x5171e4['reduce']((_0x5ee6b2,_0x4466cd)=>_0x5ee6b2[_0xf883c3(0x146)]((_0x4466cd[_0xf883c3(0x172)]+'.'+_0x4466cd[_0xf883c3(0x155)])[_0xf883c3(0x15c)]()),new Set()),_0x1b5dd7=_0x5171e4[_0xf883c3(0x133)](_0x14cb3a=>_0x14cb3a['componentName']),_0x3a9b39=(0x0,utils_1['chunkArray'])(_0x1b5dd7,veeva_constants_1['VeevaConstants'][_0xf883c3(0x143)]),_0x2e8f43=_0x3a9b39['map'](_0x3da528=>veeva_constants_1[_0xf883c3(0x152)][_0xf883c3(0x16d)]+(_0xf883c3(0x12d)+_0x3da528['join']('\x27,\x27')+'\x27)')),_0x57b85c=await veeva_service_1[_0xf883c3(0x164)]['executeManyVQL'](_0x2e8f43,this[_0xf883c3(0x145)]),_0x23d994=_0x57b85c[_0xf883c3(0x133)](_0xedfcb9=>new veeva_component_dto_1[(_0xf883c3(0x13b))](_0xedfcb9))[_0xf883c3(0x174)](_0x2216db=>_0x3260f0[_0xf883c3(0x124)]((_0x2216db[_0xf883c3(0x160)]+'.'+_0x2216db[_0xf883c3(0x170)])[_0xf883c3(0x15c)]()));if(!_0x23d994[_0xf883c3(0x158)])throw new Error(_0xf883c3(0x12e));return _0x23d994;}async[a254_0x11b376(0x140)](_0xc9df23){const _0x5ea63d=a254_0x11b376,_0x5816d3=(0x0,utils_1[_0x5ea63d(0x14e)])(_0xc9df23,veeva_constants_1[_0x5ea63d(0x152)][_0x5ea63d(0x14a)]),_0x4956dc=_0x5816d3[_0x5ea63d(0x133)](_0x133177=>veeva_constants_1[_0x5ea63d(0x152)][_0x5ea63d(0x16d)]+(_0x5ea63d(0x12b)+_0x133177[_0x5ea63d(0x122)](_0x5ea63d(0x13f))+'\x27)')),_0x259dae=await veeva_service_1['VeevaService'][_0x5ea63d(0x16c)](_0x4956dc,this[_0x5ea63d(0x145)]),_0x484b0f=_0x259dae[_0x5ea63d(0x133)](_0x382016=>new veeva_component_dto_1['VeevaComponentDto'](_0x382016))['filter'](_0x4362ed=>!_0x4362ed[_0x5ea63d(0x144)]['includes'](_0x5ea63d(0x171)));if(!_0x484b0f['length'])throw new Error(_0x5ea63d(0x137));return _0x484b0f;}async[a254_0x11b376(0x149)](_0x39f5da){const _0x281b51=a254_0x11b376,_0x4a409a=_0x39f5da[_0x281b51(0x133)](_0x294ef7=>_0x294ef7['id']),_0xc66602=(0x0,utils_1[_0x281b51(0x14e)])(_0x4a409a,veeva_constants_1[_0x281b51(0x152)]['BUILD_WHERE_BY_ID_LIMIT']),_0x4087f5=_0xc66602[_0x281b51(0x133)](_0x48ffed=>veeva_constants_1[_0x281b51(0x152)][_0x281b51(0x16d)]+(_0x281b51(0x167)+_0x48ffed[_0x281b51(0x122)](_0x281b51(0x13f))+'\x27)')),_0xb1a233=await veeva_service_1[_0x281b51(0x164)][_0x281b51(0x16c)](_0x4087f5,this[_0x281b51(0x145)]),_0x2354f5=_0xb1a233[_0x281b51(0x133)](_0x539eea=>new veeva_component_relationship_dto_1[(_0x281b51(0x13e))](_0x539eea));if(!_0x2354f5[_0x281b51(0x158)])throw new Error(_0x281b51(0x173));return DependencyService[_0x281b51(0x15b)](_0x2354f5);}static[a254_0x11b376(0x15b)](_0x578d2a){const _0x94f782=a254_0x11b376,_0x3cdc16=_0x578d2a[_0x94f782(0x125)]((_0x5b3087,_0xe9310)=>_0x5b3087[_0x94f782(0x12a)](_0xe9310['sourceComponentId']+'.'+_0xe9310['targetComponentId'],_0xe9310),new Map());return[..._0x3cdc16[_0x94f782(0x150)]()];}static[a254_0x11b376(0x162)](_0x81668,_0x257a67,_0x501a67){const _0x382888=a254_0x11b376,_0x3400ad={},_0x3e0d34=_0x81668[_0x382888(0x125)]((_0x1d4ff5,_0xdcf126)=>_0x1d4ff5[_0x382888(0x12a)](_0xdcf126['id'],_0xdcf126),new Map()),_0xd892ba=_0x257a67[_0x382888(0x125)]((_0x2d295c,_0x218070)=>_0x2d295c[_0x382888(0x12a)](_0x218070['id'],_0x218070),new Map());for(const _0xdf9e53 of _0x501a67){const _0x2ec2db=_0x3e0d34['has'](_0xdf9e53[_0x382888(0x139)])&&_0xd892ba[_0x382888(0x124)](_0xdf9e53[_0x382888(0x123)]);if(!_0x2ec2db)continue;const _0x4d5153=_0x3e0d34[_0x382888(0x15e)](_0xdf9e53[_0x382888(0x139)]),_0x12891a=_0xd892ba[_0x382888(0x15e)](_0xdf9e53[_0x382888(0x123)]);!_0x3400ad[_0x4d5153['name']+':'+_0x4d5153[_0x382888(0x160)]]&&(_0x3400ad[_0x4d5153[_0x382888(0x170)]+':'+_0x4d5153[_0x382888(0x160)]]={'dependencies':[],'label':_0x4d5153[_0x382888(0x170)]+'\x20('+_0x4d5153['type']+')','type':_0x4d5153[_0x382888(0x160)],'name':_0x4d5153[_0x382888(0x170)]}),_0x3400ad[_0x4d5153['name']+':'+_0x4d5153['type']][_0x382888(0x147)][_0x382888(0x153)]({'label':_0x12891a[_0x382888(0x170)]+'\x20('+_0x12891a[_0x382888(0x160)]+')','name':_0x12891a[_0x382888(0x170)],'type':_0x12891a[_0x382888(0x160)],'lastUpdate':_0x12891a[_0x382888(0x175)],'isMissing':!_0x3e0d34[_0x382888(0x124)](_0xdf9e53['targetComponentId'])});}return _0x3400ad;}}exports[a254_0x11b376(0x127)]=DependencyService;function a254_0xc0cd(){const _0x5813e0=['\x27\x20AND\x20','DependencyService','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','No\x20veeva\x20components\x20found\x20in\x20branch','set','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27','No\x20components\x20found\x20in\x20Veeva','../dtos/component.dto','constructor','defineProperty','retrieveRecords','map','AppResponseStatus','../dtos/veeva-component-relationship.dto','toString','No\x20dependency\x20components\x20found\x20in\x20Veeva','_connectionSalesforce','sourceComponentId','Branch__c\x20=\x20\x27','VeevaComponentDto','11NlyWJJ','search','VeevaComponentRelationshipDto','\x27,\x27','retrieveVeevaComponentsById','execute','414530GprPRr','BUILD_WHERE_BY_NAME_LIMIT','status','_connectionVeeva','add','dependencies','1924866ZBPAri','retrieveDependencyVeevaComponents','BUILD_WHERE_BY_ID_LIMIT','FLOSUM_NAMESPACE','../constants/veeva.constants','20UPfjuW','chunkArray','25375392feQYSB','values','1jEoJye','VeevaConstants','push','__esModule','componentName','13494UbZKjA','../../shared/utils','length','237988FReUdq','../dtos/veeva-component.dto','deleteDependencyVeevaComponentDuplicates','toLowerCase','../enums/status.enums','get','1540tNrEdP','type','Component_Name__c,\x20','createDataResult','retrieveComponents','VeevaService','1035333GmMrrR','Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','675658zMWDdj','retrieveVeevaComponentsByTypeAndName','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','../../../constants','executeManyVQL','ENDPOINT_VQL','SalesforceService','./salesforce.service','name','inactive__v','componentType','No\x20relationship\x20found\x20in\x20Veeva','filter','lastModifiedDate','8uvetVt','_branchId','(((.+)+)+)+$','ComponentDto','join','targetComponentId','has','reduce'];a254_0xc0cd=function(){return _0x5813e0;};return a254_0xc0cd();}