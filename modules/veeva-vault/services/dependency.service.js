function a333_0x4861(_0x2276e6,_0xc6205f){const _0x231259=a333_0x5528();return a333_0x4861=function(_0x4d800a,_0x413cc4){_0x4d800a=_0x4d800a-0x143;let _0x5528b3=_0x231259[_0x4d800a];return _0x5528b3;},a333_0x4861(_0x2276e6,_0xc6205f);}const a333_0x1fc29a=a333_0x4861;(function(_0xe34eff,_0x53c3fb){const _0x2f79ce=a333_0x4861,_0xf87082=_0xe34eff();while(!![]){try{const _0x34071b=parseInt(_0x2f79ce(0x147))/0x1*(parseInt(_0x2f79ce(0x143))/0x2)+parseInt(_0x2f79ce(0x15e))/0x3*(parseInt(_0x2f79ce(0x174))/0x4)+parseInt(_0x2f79ce(0x16b))/0x5*(parseInt(_0x2f79ce(0x14e))/0x6)+-parseInt(_0x2f79ce(0x164))/0x7+parseInt(_0x2f79ce(0x169))/0x8*(parseInt(_0x2f79ce(0x15c))/0x9)+-parseInt(_0x2f79ce(0x161))/0xa+parseInt(_0x2f79ce(0x165))/0xb*(-parseInt(_0x2f79ce(0x145))/0xc);if(_0x34071b===_0x53c3fb)break;else _0xf87082['push'](_0xf87082['shift']());}catch(_0x409280){_0xf87082['push'](_0xf87082['shift']());}}}(a333_0x5528,0x86f16));const a333_0x413cc4=(function(){let _0x1f9396=!![];return function(_0x436c14,_0x5ee381){const _0x55e039=_0x1f9396?function(){const _0x18e720=a333_0x4861;if(_0x5ee381){const _0x18cf10=_0x5ee381[_0x18e720(0x14c)](_0x436c14,arguments);return _0x5ee381=null,_0x18cf10;}}:function(){};return _0x1f9396=![],_0x55e039;};}()),a333_0x4d800a=a333_0x413cc4(this,function(){const _0x2fc78d=a333_0x4861;return a333_0x4d800a[_0x2fc78d(0x157)]()[_0x2fc78d(0x163)](_0x2fc78d(0x173))[_0x2fc78d(0x157)]()['constructor'](a333_0x4d800a)[_0x2fc78d(0x163)](_0x2fc78d(0x173));});a333_0x4d800a();function a333_0x5528(){const _0x10437a=['length','8luDpwd','set','115KrqBjo','SUCCESS','getDependencyVeevaComponents','FlosumComponentVeevaComponentRetriever','branchId','./salesforce.service','type','map','(((.+)+)+)+$','13604aSTWwT','_connectionVeeva','dependencies','reduce','../classes/retrievers/veeva-components/id.veeva-component.retriever','338VJMdoU','baseVeevaComponentRetrieverOptions','2721144qvlYlW','../classes/loggers/empty.logger','5754SrABVz','targetComponentId','IdVeevaComponentRetriever','_salesforceService','AppResponseStatus','apply','push','118434NNotLv','BranchFlosumComponentRetriever','name','getVeevaComponentsById','_connectionSalesforce','EmptyLogger','_veevaService','createDataResult','DependencyService','toString','No\x20relationship\x20found\x20in\x20Veeva','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','lastModifiedDate','execute','6413859wHrtbX','../enums/status.enums','753msEUzk','get','SalesforceService','1812340IAXPgt','sourceComponentId','search','4700017ryxvzA','77otSqtb','has','retrieve'];a333_0x5528=function(){return _0x10437a;};return a333_0x5528();}'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a333_0x1fc29a(0x156)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a333_0x1fc29a(0x15d)),salesforce_service_1=require(a333_0x1fc29a(0x170)),empty_logger_1=require(a333_0x1fc29a(0x146)),flosum_component_veeva_component_retriever_1=require(a333_0x1fc29a(0x159)),id_veeva_component_retriever_1=require(a333_0x1fc29a(0x178)),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');class DependencyService{constructor(_0x4492ce,_0x5be134,_0x21e1b7){const _0x299563=a333_0x1fc29a;this['_connectionSalesforce']=_0x5be134,this[_0x299563(0x175)]=_0x21e1b7,this['_branchId']=_0x4492ce[_0x299563(0x16f)];const _0x33b3e3=new empty_logger_1[(_0x299563(0x153))]();this[_0x299563(0x154)]=new veeva_service_1['VeevaService']({'connection':this[_0x299563(0x175)],'logger':_0x33b3e3}),this['_salesforceService']=new salesforce_service_1[(_0x299563(0x160))]({'connection':this[_0x299563(0x152)]});}get['baseVeevaComponentRetrieverOptions'](){const _0x59b0b8=a333_0x1fc29a;return{'veevaService':this[_0x59b0b8(0x154)],'logger':new empty_logger_1[(_0x59b0b8(0x153))]()};}async[a333_0x1fc29a(0x15b)](){const _0x3a9923=a333_0x1fc29a,_0x1e273d=await this['getFlosumComponents'](),_0x1b2377=await this['getVeevaComponentsByFlosumComponents'](_0x1e273d),_0x3e797d=await this['getDependencyVeevaComponents'](_0x1b2377),_0x92ace=_0x3e797d[_0x3a9923(0x172)](_0x5b6071=>_0x5b6071[_0x3a9923(0x148)]),_0x3fea90=await this[_0x3a9923(0x151)](_0x92ace),_0x586334=DependencyService[_0x3a9923(0x155)](_0x1b2377,_0x3fea90,_0x3e797d);return{'responseStatus':status_enums_1[_0x3a9923(0x14b)][_0x3a9923(0x16c)],'data':_0x586334};}async['getFlosumComponents'](){const _0x594ad1=a333_0x1fc29a,_0x3b80f4=await new branch_flosum_component_retriever_1[(_0x594ad1(0x14f))]({'value':this['_branchId'],'salesforceService':this[_0x594ad1(0x14a)]})['retrieve']();if(!_0x3b80f4[_0x594ad1(0x168)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x3b80f4;}async['getVeevaComponentsByFlosumComponents'](_0x91ccd1){const _0x43f56c=a333_0x1fc29a,_0x413925=await new flosum_component_veeva_component_retriever_1[(_0x43f56c(0x16e))]({'value':_0x91ccd1,...this[_0x43f56c(0x144)]})['retrieve']();if(!_0x413925[_0x43f56c(0x168)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x413925;}async[a333_0x1fc29a(0x151)](_0x362b26){const _0x57282c=a333_0x1fc29a,_0x1b52b6=await new id_veeva_component_retriever_1[(_0x57282c(0x149))]({'value':_0x362b26,...this[_0x57282c(0x144)]})[_0x57282c(0x167)]();if(!_0x1b52b6[_0x57282c(0x168)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x1b52b6;}async[a333_0x1fc29a(0x16d)](_0x4e61d2){const _0x3b52ee=a333_0x1fc29a,_0x35b9cf=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x4e61d2[_0x3b52ee(0x172)](({id:_0x441450})=>_0x441450),'veevaService':this[_0x3b52ee(0x154)]})[_0x3b52ee(0x167)]();if(!_0x35b9cf['length'])throw new Error(_0x3b52ee(0x158));return _0x35b9cf;}static['createDataResult'](_0x22c576,_0xe7428e,_0x2968b1){const _0x44fdd5=a333_0x1fc29a,_0xc93fb9={},_0x334be3=_0x22c576[_0x44fdd5(0x177)]((_0x555f0a,_0x5d67de)=>_0x555f0a[_0x44fdd5(0x16a)](_0x5d67de['id'],_0x5d67de),new Map()),_0x510eff=_0xe7428e['reduce']((_0xfd93c3,_0xd92bcb)=>_0xfd93c3[_0x44fdd5(0x16a)](_0xd92bcb['id'],_0xd92bcb),new Map());for(const _0x491278 of _0x2968b1){const _0x3b6d10=_0x334be3[_0x44fdd5(0x166)](_0x491278[_0x44fdd5(0x162)])&&_0x510eff[_0x44fdd5(0x166)](_0x491278['targetComponentId']);if(!_0x3b6d10)continue;const _0x1b8556=_0x334be3['get'](_0x491278[_0x44fdd5(0x162)]),_0x1d5572=_0x510eff[_0x44fdd5(0x15f)](_0x491278[_0x44fdd5(0x148)]);!_0xc93fb9[_0x1b8556[_0x44fdd5(0x150)]+':'+_0x1b8556[_0x44fdd5(0x171)]]&&(_0xc93fb9[_0x1b8556[_0x44fdd5(0x150)]+':'+_0x1b8556['type']]={'dependencies':[],'label':_0x1b8556['name']+'\x20('+_0x1b8556['type']+')','type':_0x1b8556[_0x44fdd5(0x171)],'name':_0x1b8556[_0x44fdd5(0x150)]}),_0xc93fb9[_0x1b8556[_0x44fdd5(0x150)]+':'+_0x1b8556[_0x44fdd5(0x171)]][_0x44fdd5(0x176)][_0x44fdd5(0x14d)]({'label':_0x1d5572['name']+'\x20('+_0x1d5572[_0x44fdd5(0x171)]+')','name':_0x1d5572[_0x44fdd5(0x150)],'type':_0x1d5572['type'],'lastUpdate':_0x1d5572[_0x44fdd5(0x15a)],'isMissing':!_0x334be3[_0x44fdd5(0x166)](_0x491278[_0x44fdd5(0x148)])});}return _0xc93fb9;}}exports[a333_0x1fc29a(0x156)]=DependencyService;