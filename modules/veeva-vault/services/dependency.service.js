function a333_0x3c1a(){const _0x442472=['getVeevaComponentsByFlosumComponents','1258827susmyP','lastModifiedDate','type','VeevaService','constructor','createDataResult','getDependencyVeevaComponents','FlosumComponentVeevaComponentRetriever','defineProperty','767380mjaJWt','2326870tMHlQp','EmptyLogger','has','getFlosumComponents','_veevaService','push','search','SUCCESS','../classes/retrievers/flosum-components/branch.flosum-component.retriever','../classes/retrievers/veeva-components/id.veeva-component.retriever','BranchFlosumComponentRetriever','91645VIrTZF','1qyolEb','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','set','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','get','length','_salesforceService','map','retrieve','No\x20veeva\x20components\x20found\x20in\x20branch','__esModule','9576891pfPbnO','targetComponentId','54puYHec','getVeevaComponentsById','SourceIdVeevaComponentRelationshipRetriever','dependencies','execute','name','DependencyService','../classes/loggers/empty.logger','3672600qRDZjo','(((.+)+)+)+$','No\x20relationship\x20found\x20in\x20Veeva','621640ygTVdm','sourceComponentId','_connectionVeeva','baseVeevaComponentRetrieverOptions','toString','_branchId'];a333_0x3c1a=function(){return _0x442472;};return a333_0x3c1a();}const a333_0x9968d1=a333_0x229f;function a333_0x229f(_0x588932,_0x2a0af8){const _0x29611f=a333_0x3c1a();return a333_0x229f=function(_0x5c29bc,_0x467529){_0x5c29bc=_0x5c29bc-0xdf;let _0x3c1abe=_0x29611f[_0x5c29bc];return _0x3c1abe;},a333_0x229f(_0x588932,_0x2a0af8);}(function(_0x4e784e,_0x28159a){const _0x42f979=a333_0x229f,_0x247b67=_0x4e784e();while(!![]){try{const _0x185d15=-parseInt(_0x42f979(0xfc))/0x1*(parseInt(_0x42f979(0xdf))/0x2)+-parseInt(_0x42f979(0xe6))/0x3+parseInt(_0x42f979(0xef))/0x4+-parseInt(_0x42f979(0xfb))/0x5*(parseInt(_0x42f979(0x109))/0x6)+parseInt(_0x42f979(0xf0))/0x7+-parseInt(_0x42f979(0x111))/0x8+parseInt(_0x42f979(0x107))/0x9;if(_0x185d15===_0x28159a)break;else _0x247b67['push'](_0x247b67['shift']());}catch(_0x2cb125){_0x247b67['push'](_0x247b67['shift']());}}}(a333_0x3c1a,0x391a1));const a333_0x467529=(function(){let _0x53f450=!![];return function(_0x5a3864,_0x3f253d){const _0x59361c=_0x53f450?function(){if(_0x3f253d){const _0x4c2536=_0x3f253d['apply'](_0x5a3864,arguments);return _0x3f253d=null,_0x4c2536;}}:function(){};return _0x53f450=![],_0x59361c;};}()),a333_0x5c29bc=a333_0x467529(this,function(){const _0x2d4b7c=a333_0x229f;return a333_0x5c29bc[_0x2d4b7c(0xe3)]()[_0x2d4b7c(0xf6)](_0x2d4b7c(0x112))[_0x2d4b7c(0xe3)]()[_0x2d4b7c(0xea)](a333_0x5c29bc)[_0x2d4b7c(0xf6)](_0x2d4b7c(0x112));});a333_0x5c29bc();'use strict';Object[a333_0x9968d1(0xee)](exports,a333_0x9968d1(0x106),{'value':!![]}),exports[a333_0x9968d1(0x10f)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require(a333_0x9968d1(0x110)),flosum_component_veeva_component_retriever_1=require(a333_0x9968d1(0xff)),id_veeva_component_retriever_1=require(a333_0x9968d1(0xf9)),source_id_veeva_component_relationship_retriever_1=require(a333_0x9968d1(0xfd)),branch_flosum_component_retriever_1=require(a333_0x9968d1(0xf8));class DependencyService{constructor(_0x4a58aa,_0x28b1bc,_0x29b54f){const _0x401cbc=a333_0x9968d1;this['_connectionSalesforce']=_0x28b1bc,this[_0x401cbc(0xe1)]=_0x29b54f,this['_branchId']=_0x4a58aa['branchId'];const _0x53ca8d=new empty_logger_1['EmptyLogger']();this[_0x401cbc(0xf4)]=new veeva_service_1[(_0x401cbc(0xe9))]({'connection':this[_0x401cbc(0xe1)],'logger':_0x53ca8d}),this[_0x401cbc(0x102)]=new salesforce_service_1['SalesforceService']({'connection':this['_connectionSalesforce']});}get[a333_0x9968d1(0xe2)](){const _0x20a834=a333_0x9968d1;return{'veevaService':this[_0x20a834(0xf4)],'logger':new empty_logger_1[(_0x20a834(0xf1))]()};}async[a333_0x9968d1(0x10d)](){const _0x10f52d=a333_0x9968d1,_0x475c94=await this['getFlosumComponents'](),_0x45e16c=await this[_0x10f52d(0xe5)](_0x475c94),_0x3a76d4=await this['getDependencyVeevaComponents'](_0x45e16c),_0x40864c=_0x3a76d4[_0x10f52d(0x103)](_0x50719a=>_0x50719a[_0x10f52d(0x108)]),_0x5a654e=await this[_0x10f52d(0x10a)](_0x40864c),_0xbe9749=DependencyService[_0x10f52d(0xeb)](_0x45e16c,_0x5a654e,_0x3a76d4);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x10f52d(0xf7)],'data':_0xbe9749};}async[a333_0x9968d1(0xf3)](){const _0x597bcc=a333_0x9968d1,_0x2c4acd=await new branch_flosum_component_retriever_1[(_0x597bcc(0xfa))]({'value':this[_0x597bcc(0xe4)],'salesforceService':this[_0x597bcc(0x102)]})[_0x597bcc(0x104)]();if(!_0x2c4acd[_0x597bcc(0x101)])throw new Error(_0x597bcc(0x105));return _0x2c4acd;}async[a333_0x9968d1(0xe5)](_0x224832){const _0x19ee10=a333_0x9968d1,_0x213c6d=await new flosum_component_veeva_component_retriever_1[(_0x19ee10(0xed))]({'value':_0x224832,...this['baseVeevaComponentRetrieverOptions']})[_0x19ee10(0x104)]();if(!_0x213c6d[_0x19ee10(0x101)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x213c6d;}async[a333_0x9968d1(0x10a)](_0x1338cc){const _0xcbd727=a333_0x9968d1,_0xd33cc=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x1338cc,...this[_0xcbd727(0xe2)]})[_0xcbd727(0x104)]();if(!_0xd33cc[_0xcbd727(0x101)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0xd33cc;}async[a333_0x9968d1(0xec)](_0x17d6c0){const _0x492de1=a333_0x9968d1,_0x2ad4ed=await new source_id_veeva_component_relationship_retriever_1[(_0x492de1(0x10b))]({'value':_0x17d6c0['map'](({id:_0x3bd6fe})=>_0x3bd6fe),'veevaService':this[_0x492de1(0xf4)]})[_0x492de1(0x104)]();if(!_0x2ad4ed['length'])throw new Error(_0x492de1(0x113));return _0x2ad4ed;}static[a333_0x9968d1(0xeb)](_0x196a68,_0x4f46d5,_0x249474){const _0x176934=a333_0x9968d1,_0x4dab17={},_0x24041a=_0x196a68['reduce']((_0x2818ac,_0x3cf6bf)=>_0x2818ac[_0x176934(0xfe)](_0x3cf6bf['id'],_0x3cf6bf),new Map()),_0x537a37=_0x4f46d5['reduce']((_0x340fc5,_0x1c1a0d)=>_0x340fc5[_0x176934(0xfe)](_0x1c1a0d['id'],_0x1c1a0d),new Map());for(const _0x5d6bdb of _0x249474){const _0x128eec=_0x24041a[_0x176934(0xf2)](_0x5d6bdb[_0x176934(0xe0)])&&_0x537a37['has'](_0x5d6bdb[_0x176934(0x108)]);if(!_0x128eec)continue;const _0x22b492=_0x24041a[_0x176934(0x100)](_0x5d6bdb[_0x176934(0xe0)]),_0x100f8d=_0x537a37[_0x176934(0x100)](_0x5d6bdb[_0x176934(0x108)]);!_0x4dab17[_0x22b492[_0x176934(0x10e)]+':'+_0x22b492['type']]&&(_0x4dab17[_0x22b492[_0x176934(0x10e)]+':'+_0x22b492[_0x176934(0xe8)]]={'dependencies':[],'label':_0x22b492['name']+'\x20('+_0x22b492['type']+')','type':_0x22b492[_0x176934(0xe8)],'name':_0x22b492[_0x176934(0x10e)]}),_0x4dab17[_0x22b492[_0x176934(0x10e)]+':'+_0x22b492[_0x176934(0xe8)]][_0x176934(0x10c)][_0x176934(0xf5)]({'label':_0x100f8d[_0x176934(0x10e)]+'\x20('+_0x100f8d[_0x176934(0xe8)]+')','name':_0x100f8d[_0x176934(0x10e)],'type':_0x100f8d[_0x176934(0xe8)],'lastUpdate':_0x100f8d[_0x176934(0xe7)],'isMissing':!_0x24041a[_0x176934(0xf2)](_0x5d6bdb[_0x176934(0x108)])});}return _0x4dab17;}}exports['DependencyService']=DependencyService;