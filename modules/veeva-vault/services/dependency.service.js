const a372_0x3f1ab7=a372_0x2743;(function(_0x2c469a,_0x41db23){const _0x4a2fee=a372_0x2743,_0x12c408=_0x2c469a();while(!![]){try{const _0x801895=-parseInt(_0x4a2fee(0x17b))/0x1*(parseInt(_0x4a2fee(0x173))/0x2)+parseInt(_0x4a2fee(0x172))/0x3+parseInt(_0x4a2fee(0x1a0))/0x4*(-parseInt(_0x4a2fee(0x17f))/0x5)+parseInt(_0x4a2fee(0x198))/0x6+-parseInt(_0x4a2fee(0x18b))/0x7*(-parseInt(_0x4a2fee(0x182))/0x8)+parseInt(_0x4a2fee(0x19c))/0x9+parseInt(_0x4a2fee(0x17c))/0xa*(parseInt(_0x4a2fee(0x177))/0xb);if(_0x801895===_0x41db23)break;else _0x12c408['push'](_0x12c408['shift']());}catch(_0x1386b1){_0x12c408['push'](_0x12c408['shift']());}}}(a372_0xaa74,0xc9c21));const a372_0xf04bee=(function(){let _0x2c491e=!![];return function(_0x10de82,_0x1c24b8){const _0x3b88d2=_0x2c491e?function(){if(_0x1c24b8){const _0x429494=_0x1c24b8['apply'](_0x10de82,arguments);return _0x1c24b8=null,_0x429494;}}:function(){};return _0x2c491e=![],_0x3b88d2;};}()),a372_0x31b70b=a372_0xf04bee(this,function(){const _0x6c989e=a372_0x2743;return a372_0x31b70b['toString']()[_0x6c989e(0x175)](_0x6c989e(0x190))[_0x6c989e(0x18e)]()[_0x6c989e(0x18c)](a372_0x31b70b)[_0x6c989e(0x175)]('(((.+)+)+)+$');});a372_0x31b70b();'use strict';function a372_0x2743(_0x13c660,_0x17dcda){const _0x23a9a4=a372_0xaa74();return a372_0x2743=function(_0x31b70b,_0xf04bee){_0x31b70b=_0x31b70b-0x165;let _0xaa7429=_0x23a9a4[_0x31b70b];return _0xaa7429;},a372_0x2743(_0x13c660,_0x17dcda);}Object[a372_0x3f1ab7(0x180)](exports,'__esModule',{'value':!![]}),exports[a372_0x3f1ab7(0x16a)]=void 0x0;const veeva_service_1=require(a372_0x3f1ab7(0x19a)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a372_0x3f1ab7(0x19e)),empty_logger_1=require(a372_0x3f1ab7(0x192)),flosum_component_veeva_component_retriever_1=require(a372_0x3f1ab7(0x185)),id_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/id.veeva-component.retriever'),source_id_veeva_component_relationship_retriever_1=require(a372_0x3f1ab7(0x166)),branch_flosum_component_retriever_1=require(a372_0x3f1ab7(0x186));function a372_0xaa74(){const _0x4c422b=['./salesforce.service','targetComponentId','124uSxMxi','getVeevaComponentsById','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','BranchFlosumComponentRetriever','EmptyLogger','execute','DependencyService','IdVeevaComponentRetriever','No\x20relationship\x20found\x20in\x20Veeva','_branchId','lastModifiedDate','AppResponseStatus','length','retrieve','2406504ffWMwy','4eCBlfe','No\x20dependency\x20components\x20found\x20in\x20Veeva','search','SourceIdVeevaComponentRelationshipRetriever','33JBWNtd','has','_connectionVeeva','getVeevaComponentsByFlosumComponents','225527SsrinY','2204470BuaEQT','_veevaService','SalesforceService','181715ZIBLJx','defineProperty','No\x20veeva\x20components\x20found\x20in\x20branch','8XHPxcy','name','getFlosumComponents','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','../classes/retrievers/flosum-components/branch.flosum-component.retriever','_connectionSalesforce','No\x20components\x20found\x20in\x20Veeva','baseVeevaComponentRetrieverOptions','createDataResult','1946882Rwtezl','constructor','VeevaService','toString','dependencies','(((.+)+)+)+$','FlosumComponentVeevaComponentRetriever','../classes/loggers/empty.logger','branchId','map','reduce','type','_salesforceService','2183082baluAL','push','./veeva.service','getDependencyVeevaComponents','2687454yGyRPO','sourceComponentId'];a372_0xaa74=function(){return _0x4c422b;};return a372_0xaa74();}class DependencyService{constructor(_0x1812e9,_0xc14d1b,_0x69de10){const _0x3be2e1=a372_0x3f1ab7;this['_connectionSalesforce']=_0xc14d1b,this['_connectionVeeva']=_0x69de10,this[_0x3be2e1(0x16d)]=_0x1812e9[_0x3be2e1(0x193)];const _0x3655b0=new empty_logger_1[(_0x3be2e1(0x168))]();this[_0x3be2e1(0x17d)]=new veeva_service_1[(_0x3be2e1(0x18d))]({'connection':this[_0x3be2e1(0x179)],'logger':_0x3655b0}),this[_0x3be2e1(0x197)]=new salesforce_service_1[(_0x3be2e1(0x17e))]({'connection':this[_0x3be2e1(0x187)]});}get[a372_0x3f1ab7(0x189)](){const _0x2446f5=a372_0x3f1ab7;return{'veevaService':this[_0x2446f5(0x17d)],'logger':new empty_logger_1[(_0x2446f5(0x168))]()};}async[a372_0x3f1ab7(0x169)](){const _0x57d9f0=a372_0x3f1ab7,_0x3baace=await this[_0x57d9f0(0x184)](),_0x45660f=await this['getVeevaComponentsByFlosumComponents'](_0x3baace),_0x4617d3=await this[_0x57d9f0(0x19b)](_0x45660f),_0x2855ce=_0x4617d3[_0x57d9f0(0x194)](_0x391d25=>_0x391d25[_0x57d9f0(0x19f)]),_0x3123f3=await this['getVeevaComponentsById'](_0x2855ce),_0xf6c44e=DependencyService[_0x57d9f0(0x18a)](_0x45660f,_0x3123f3,_0x4617d3);return{'responseStatus':status_enums_1[_0x57d9f0(0x16f)]['SUCCESS'],'data':_0xf6c44e};}async[a372_0x3f1ab7(0x184)](){const _0x306d1a=a372_0x3f1ab7,_0x20e761=await new branch_flosum_component_retriever_1[(_0x306d1a(0x167))]({'value':this[_0x306d1a(0x16d)],'salesforceService':this[_0x306d1a(0x197)]})[_0x306d1a(0x171)]();if(!_0x20e761['length'])throw new Error(_0x306d1a(0x181));return _0x20e761;}async[a372_0x3f1ab7(0x17a)](_0x1d8e1f){const _0x15607d=a372_0x3f1ab7,_0x3480f9=await new flosum_component_veeva_component_retriever_1[(_0x15607d(0x191))]({'value':_0x1d8e1f,...this[_0x15607d(0x189)]})[_0x15607d(0x171)]();if(!_0x3480f9['length'])throw new Error(_0x15607d(0x188));return _0x3480f9;}async[a372_0x3f1ab7(0x165)](_0x386487){const _0x3e56b0=a372_0x3f1ab7,_0x54a9b9=await new id_veeva_component_retriever_1[(_0x3e56b0(0x16b))]({'value':_0x386487,...this['baseVeevaComponentRetrieverOptions']})['retrieve']();if(!_0x54a9b9[_0x3e56b0(0x170)])throw new Error(_0x3e56b0(0x174));return _0x54a9b9;}async[a372_0x3f1ab7(0x19b)](_0x2ef2fe){const _0x802bd9=a372_0x3f1ab7,_0x8a7b49=await new source_id_veeva_component_relationship_retriever_1[(_0x802bd9(0x176))]({'value':_0x2ef2fe['map'](({id:_0x2d36eb})=>_0x2d36eb),'veevaService':this[_0x802bd9(0x17d)]})[_0x802bd9(0x171)]();if(!_0x8a7b49[_0x802bd9(0x170)])throw new Error(_0x802bd9(0x16c));return _0x8a7b49;}static[a372_0x3f1ab7(0x18a)](_0xe962bd,_0xddb451,_0x5b3db8){const _0x2c3d38=a372_0x3f1ab7,_0x450dcc={},_0x248008=_0xe962bd[_0x2c3d38(0x195)]((_0x4f214e,_0x353561)=>_0x4f214e['set'](_0x353561['id'],_0x353561),new Map()),_0x37e765=_0xddb451[_0x2c3d38(0x195)]((_0x54b860,_0x3980f9)=>_0x54b860['set'](_0x3980f9['id'],_0x3980f9),new Map());for(const _0x5236a9 of _0x5b3db8){const _0xd45ffa=_0x248008[_0x2c3d38(0x178)](_0x5236a9[_0x2c3d38(0x19d)])&&_0x37e765[_0x2c3d38(0x178)](_0x5236a9[_0x2c3d38(0x19f)]);if(!_0xd45ffa)continue;const _0x20b169=_0x248008['get'](_0x5236a9[_0x2c3d38(0x19d)]),_0x1ce7c7=_0x37e765['get'](_0x5236a9['targetComponentId']);!_0x450dcc[_0x20b169[_0x2c3d38(0x183)]+':'+_0x20b169[_0x2c3d38(0x196)]]&&(_0x450dcc[_0x20b169[_0x2c3d38(0x183)]+':'+_0x20b169[_0x2c3d38(0x196)]]={'dependencies':[],'label':_0x20b169[_0x2c3d38(0x183)]+'\x20('+_0x20b169[_0x2c3d38(0x196)]+')','type':_0x20b169[_0x2c3d38(0x196)],'name':_0x20b169['name']}),_0x450dcc[_0x20b169[_0x2c3d38(0x183)]+':'+_0x20b169['type']][_0x2c3d38(0x18f)][_0x2c3d38(0x199)]({'label':_0x1ce7c7['name']+'\x20('+_0x1ce7c7[_0x2c3d38(0x196)]+')','name':_0x1ce7c7[_0x2c3d38(0x183)],'type':_0x1ce7c7[_0x2c3d38(0x196)],'lastUpdate':_0x1ce7c7[_0x2c3d38(0x16e)],'isMissing':!_0x248008['has'](_0x5236a9[_0x2c3d38(0x19f)])});}return _0x450dcc;}}exports[a372_0x3f1ab7(0x16a)]=DependencyService;