const a309_0x469cad=a309_0x5caf;(function(_0x339461,_0x4cf0e4){const _0x2f142d=a309_0x5caf,_0x2d6957=_0x339461();while(!![]){try{const _0x2bae38=-parseInt(_0x2f142d(0x10c))/0x1*(-parseInt(_0x2f142d(0x10b))/0x2)+parseInt(_0x2f142d(0xee))/0x3*(-parseInt(_0x2f142d(0xe6))/0x4)+parseInt(_0x2f142d(0xd1))/0x5*(parseInt(_0x2f142d(0xf3))/0x6)+-parseInt(_0x2f142d(0xe0))/0x7+-parseInt(_0x2f142d(0x11b))/0x8+parseInt(_0x2f142d(0x122))/0x9*(-parseInt(_0x2f142d(0xda))/0xa)+-parseInt(_0x2f142d(0xde))/0xb*(-parseInt(_0x2f142d(0x115))/0xc);if(_0x2bae38===_0x4cf0e4)break;else _0x2d6957['push'](_0x2d6957['shift']());}catch(_0x92ada4){_0x2d6957['push'](_0x2d6957['shift']());}}}(a309_0x2548,0xefe09));function a309_0x5caf(_0x1df938,_0x4a729b){const _0x4269ab=a309_0x2548();return a309_0x5caf=function(_0xe56123,_0x31357b){_0xe56123=_0xe56123-0xd1;let _0x25481e=_0x4269ab[_0xe56123];return _0x25481e;},a309_0x5caf(_0x1df938,_0x4a729b);}const a309_0x31357b=(function(){let _0x3a6687=!![];return function(_0x40b40d,_0x233309){const _0x4f18f1=_0x3a6687?function(){const _0xb004f=a309_0x5caf;if(_0x233309){const _0xa2f0ae=_0x233309[_0xb004f(0xea)](_0x40b40d,arguments);return _0x233309=null,_0xa2f0ae;}}:function(){};return _0x3a6687=![],_0x4f18f1;};}()),a309_0xe56123=a309_0x31357b(this,function(){const _0x1f70cc=a309_0x5caf;return a309_0xe56123[_0x1f70cc(0xf7)]()[_0x1f70cc(0xf9)](_0x1f70cc(0xeb))[_0x1f70cc(0xf7)]()[_0x1f70cc(0xed)](a309_0xe56123)[_0x1f70cc(0xf9)]('(((.+)+)+)+$');});a309_0xe56123();'use strict';Object[a309_0x469cad(0x113)](exports,a309_0x469cad(0xe1),{'value':!![]}),exports[a309_0x469cad(0x108)]=void 0x0;const veeva_constants_1=require(a309_0x469cad(0xe8)),veeva_service_1=require('./veeva.service'),component_dto_1=require(a309_0x469cad(0x114)),veeva_component_dto_1=require(a309_0x469cad(0x119)),veeva_component_relationship_dto_1=require(a309_0x469cad(0xd3)),utils_1=require(a309_0x469cad(0xfc)),constants_1=require(a309_0x469cad(0xfa)),status_enums_1=require(a309_0x469cad(0xd7)),salesforce_service_1=require('./salesforce.service');class DependencyService{constructor(_0x3fbd3c,_0x514836,_0xbf8c33){const _0x4056f7=a309_0x469cad;this['_connectionSalesforce']=_0x514836,this[_0x4056f7(0xe5)]=_0xbf8c33,this[_0x4056f7(0x118)]=_0x3fbd3c[_0x4056f7(0xf4)];}async[a309_0x469cad(0xd8)](){const _0x307eb8=a309_0x469cad,_0x5ed243=await this[_0x307eb8(0x109)](),_0x5eab21=await this[_0x307eb8(0xfb)](_0x5ed243),_0x323030=await this[_0x307eb8(0xe3)](_0x5eab21),_0x3b9bfc=_0x323030[_0x307eb8(0x102)](_0x23b79e=>_0x23b79e[_0x307eb8(0xd4)]),_0x4ed90=await this[_0x307eb8(0x11f)](_0x3b9bfc),_0x5199b8=DependencyService[_0x307eb8(0xef)](_0x5eab21,_0x4ed90,_0x323030);return{'responseStatus':status_enums_1[_0x307eb8(0x11d)][_0x307eb8(0xf0)],'data':_0x5199b8};}async[a309_0x469cad(0x109)](){const _0x539166=a309_0x469cad,_0x42d3dd=_0x539166(0xe9)+constants_1[_0x539166(0x110)]+_0x539166(0x123)+constants_1[_0x539166(0x110)]+'Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20'+constants_1[_0x539166(0x110)]+_0x539166(0xdb)+constants_1[_0x539166(0x110)]+_0x539166(0xdc)+this[_0x539166(0x118)]+'\x27\x20AND\x20'+constants_1[_0x539166(0x110)]+_0x539166(0xf1),_0x1f6314=await salesforce_service_1['SalesforceService'][_0x539166(0xf2)](this[_0x539166(0x106)],_0x42d3dd);if(!_0x1f6314['length'])throw new Error(_0x539166(0x121));return _0x1f6314[_0x539166(0x102)](_0x36f685=>new component_dto_1[(_0x539166(0xe2))](_0x36f685));}async['retrieveVeevaComponentsByTypeAndName'](_0x1ef652){const _0x3429c9=a309_0x469cad,_0x3660f2=_0x1ef652[_0x3429c9(0xd9)]((_0x3db3b8,_0x441e7c)=>_0x3db3b8[_0x3429c9(0x100)]((_0x441e7c[_0x3429c9(0x104)]+'.'+_0x441e7c[_0x3429c9(0x117)])[_0x3429c9(0xd5)]()),new Set()),_0x1e6301=_0x1ef652[_0x3429c9(0x102)](_0x37ac38=>_0x37ac38[_0x3429c9(0x117)]),_0x1b13df=(0x0,utils_1['chunkArray'])(_0x1e6301,veeva_constants_1[_0x3429c9(0x120)][_0x3429c9(0x11a)]),_0x3d099f=_0x1b13df['map'](_0x5babe8=>veeva_constants_1['VeevaConstants'][_0x3429c9(0x11e)]+(_0x3429c9(0xe4)+_0x5babe8[_0x3429c9(0xf8)]('\x27,\x27')+'\x27)')),_0x283948=await veeva_service_1['VeevaService'][_0x3429c9(0x10a)](_0x3d099f,this[_0x3429c9(0xe5)]),_0x548202=_0x283948[_0x3429c9(0x102)](_0x56aeac=>new veeva_component_dto_1['VeevaComponentDto'](_0x56aeac))[_0x3429c9(0xe7)](_0x8f11ef=>_0x3660f2[_0x3429c9(0xd6)]((_0x8f11ef['type']+'.'+_0x8f11ef[_0x3429c9(0x101)])['toLowerCase']()));if(!_0x548202[_0x3429c9(0xdd)])throw new Error(_0x3429c9(0x11c));return _0x548202;}async[a309_0x469cad(0x11f)](_0x4c0158){const _0x215cac=a309_0x469cad,_0x29ed66=(0x0,utils_1[_0x215cac(0xfd)])(_0x4c0158,veeva_constants_1[_0x215cac(0x120)][_0x215cac(0xff)]),_0x4656d4=_0x29ed66[_0x215cac(0x102)](_0x1a6ae2=>veeva_constants_1['VeevaConstants'][_0x215cac(0x11e)]+(_0x215cac(0xfe)+_0x1a6ae2[_0x215cac(0xf8)](_0x215cac(0x116))+'\x27)')),_0x16223b=await veeva_service_1[_0x215cac(0x112)]['executeManyVQL'](_0x4656d4,this['_connectionVeeva']),_0x3c000e=_0x16223b[_0x215cac(0x102)](_0x5def08=>new veeva_component_dto_1['VeevaComponentDto'](_0x5def08))[_0x215cac(0xe7)](_0x13cf3d=>!_0x13cf3d[_0x215cac(0xdf)][_0x215cac(0xec)]('inactive__v'));if(!_0x3c000e['length'])throw new Error(_0x215cac(0x107));return _0x3c000e;}async[a309_0x469cad(0xe3)](_0x256cc5){const _0x32b3d5=a309_0x469cad,_0x1de9a8=_0x256cc5[_0x32b3d5(0x102)](_0x2d0657=>_0x2d0657['id']),_0xda32ea=(0x0,utils_1['chunkArray'])(_0x1de9a8,veeva_constants_1[_0x32b3d5(0x120)][_0x32b3d5(0xff)]),_0x117cdd=_0xda32ea[_0x32b3d5(0x102)](_0x53f5d9=>veeva_constants_1[_0x32b3d5(0x120)]['ENDPOINT_VQL']+(_0x32b3d5(0x10f)+_0x53f5d9[_0x32b3d5(0xf8)](_0x32b3d5(0x116))+'\x27)')),_0x55d1a6=await veeva_service_1[_0x32b3d5(0x112)][_0x32b3d5(0x10a)](_0x117cdd,this['_connectionVeeva']),_0x4d6f0c=_0x55d1a6[_0x32b3d5(0x102)](_0xd07d6e=>new veeva_component_relationship_dto_1[(_0x32b3d5(0x111))](_0xd07d6e));if(!_0x4d6f0c[_0x32b3d5(0xdd)])throw new Error(_0x32b3d5(0x10d));return DependencyService[_0x32b3d5(0xf6)](_0x4d6f0c);}static[a309_0x469cad(0xf6)](_0x1b36cb){const _0x107cd5=a309_0x469cad,_0xe4496d=_0x1b36cb['reduce']((_0x2260ef,_0x4ed253)=>_0x2260ef[_0x107cd5(0x105)](_0x4ed253[_0x107cd5(0xd2)]+'.'+_0x4ed253[_0x107cd5(0xd4)],_0x4ed253),new Map());return[..._0xe4496d['values']()];}static[a309_0x469cad(0xef)](_0x50a234,_0x299aa8,_0x9fc3e1){const _0x30f73c=a309_0x469cad,_0x5becc8={},_0x55df90=_0x50a234[_0x30f73c(0xd9)]((_0x5990fc,_0x3b2831)=>_0x5990fc['set'](_0x3b2831['id'],_0x3b2831),new Map()),_0x2bfcba=_0x299aa8[_0x30f73c(0xd9)]((_0x21d6de,_0x153430)=>_0x21d6de['set'](_0x153430['id'],_0x153430),new Map());for(const _0x3dfc69 of _0x9fc3e1){const _0x124d89=_0x55df90[_0x30f73c(0xd6)](_0x3dfc69[_0x30f73c(0xd2)])&&_0x2bfcba[_0x30f73c(0xd6)](_0x3dfc69[_0x30f73c(0xd4)]);if(!_0x124d89)continue;const _0xab1ee8=_0x55df90[_0x30f73c(0x103)](_0x3dfc69[_0x30f73c(0xd2)]),_0x2bb1fa=_0x2bfcba[_0x30f73c(0x103)](_0x3dfc69[_0x30f73c(0xd4)]);!_0x5becc8[_0xab1ee8[_0x30f73c(0x101)]+':'+_0xab1ee8['type']]&&(_0x5becc8[_0xab1ee8['name']+':'+_0xab1ee8[_0x30f73c(0xf5)]]={'dependencies':[],'label':_0xab1ee8[_0x30f73c(0x101)]+'\x20('+_0xab1ee8['type']+')','type':_0xab1ee8[_0x30f73c(0xf5)],'name':_0xab1ee8[_0x30f73c(0x101)]}),_0x5becc8[_0xab1ee8[_0x30f73c(0x101)]+':'+_0xab1ee8[_0x30f73c(0xf5)]]['dependencies']['push']({'label':_0x2bb1fa[_0x30f73c(0x101)]+'\x20('+_0x2bb1fa[_0x30f73c(0xf5)]+')','name':_0x2bb1fa[_0x30f73c(0x101)],'type':_0x2bb1fa['type'],'lastUpdate':_0x2bb1fa[_0x30f73c(0x10e)],'isMissing':!_0x55df90[_0x30f73c(0xd6)](_0x3dfc69[_0x30f73c(0xd4)])});}return _0x5becc8;}}exports[a309_0x469cad(0x108)]=DependencyService;function a309_0x2548(){const _0x37e3fa=['VeevaService','defineProperty','../dtos/component.dto','556968ZYNTrS','\x27,\x27','componentName','_branchId','../dtos/veeva-component.dto','BUILD_WHERE_BY_NAME_LIMIT','4151824huXzFk','No\x20components\x20found\x20in\x20Veeva','AppResponseStatus','ENDPOINT_VQL','retrieveVeevaComponentsById','VeevaConstants','No\x20veeva\x20components\x20found\x20in\x20branch','1941417uqLUHY','Component_Name__c,\x20','40WHUrlh','sourceComponentId','../dtos/veeva-component-relationship.dto','targetComponentId','toLowerCase','has','../enums/status.enums','execute','reduce','10LdhJEG','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','Branch__c\x20=\x20\x27','length','231zuAmVc','status','8380064Xyyasc','__esModule','ComponentDto','retrieveDependencyVeevaComponents','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27','_connectionVeeva','140CYSJGe','filter','../constants/veeva.constants','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','apply','(((.+)+)+)+$','includes','constructor','2487IXfeeN','createDataResult','SUCCESS','Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','retrieveRecords','892536UAQHgS','branchId','type','deleteDependencyVeevaComponentDuplicates','toString','join','search','../../../constants','retrieveVeevaComponentsByTypeAndName','../../shared/utils','chunkArray','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','BUILD_WHERE_BY_ID_LIMIT','add','name','map','get','componentType','set','_connectionSalesforce','No\x20dependency\x20components\x20found\x20in\x20Veeva','DependencyService','retrieveComponents','executeManyVQL','162bXdBmq','9613LhYAzG','No\x20relationship\x20found\x20in\x20Veeva','lastModifiedDate','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','FLOSUM_NAMESPACE','VeevaComponentRelationshipDto'];a309_0x2548=function(){return _0x37e3fa;};return a309_0x2548();}