const a388_0x4947e3=a388_0x55bb;function a388_0x33c5(){const _0x315c6b=['_veevaService','getVeevaComponentsByFlosumComponents','_connectionVeeva','get','234hlRxcD','_salesforceService','VeevaService','./veeva.service','reduce','5814645XnojGv','6onfzrH','4762TUpZMn','No\x20veeva\x20components\x20found\x20in\x20branch','SourceIdVeevaComponentRelationshipRetriever','254xNjxyb','getFlosumComponents','has','8RgdbPo','createDataResult','432228fKZhLo','AppResponseStatus','10237401IVNCcd','branchId','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','../classes/retrievers/veeva-components/id.veeva-component.retriever','6exiLMW','targetComponentId','(((.+)+)+)+$','1147237BHcHKa','name','../classes/retrievers/flosum-components/branch.flosum-component.retriever','map','122530eizIPf','dependencies','defineProperty','getDependencyVeevaComponents','IdVeevaComponentRetriever','getVeevaComponentsById','__esModule','search','set','No\x20dependency\x20components\x20found\x20in\x20Veeva','_connectionSalesforce','2343916mqBiqE','./salesforce.service','toString','length','execute','_branchId','FlosumComponentVeevaComponentRetriever','sourceComponentId','DependencyService','EmptyLogger','retrieve','type','SalesforceService','constructor','968YnFVRj'];a388_0x33c5=function(){return _0x315c6b;};return a388_0x33c5();}function a388_0x55bb(_0x2452f4,_0xcf0f3d){const _0x4c8669=a388_0x33c5();return a388_0x55bb=function(_0x2419b7,_0x378783){_0x2419b7=_0x2419b7-0x6c;let _0x33c5a5=_0x4c8669[_0x2419b7];return _0x33c5a5;},a388_0x55bb(_0x2452f4,_0xcf0f3d);}(function(_0xa41f9d,_0x202c9d){const _0x179a9c=a388_0x55bb,_0x31a935=_0xa41f9d();while(!![]){try{const _0x34f75c=-parseInt(_0x179a9c(0xa2))/0x1*(parseInt(_0x179a9c(0xa5))/0x2)+-parseInt(_0x179a9c(0x76))/0x3*(-parseInt(_0x179a9c(0x88))/0x4)+-parseInt(_0x179a9c(0xa0))/0x5*(-parseInt(_0x179a9c(0xa1))/0x6)+-parseInt(_0x179a9c(0x79))/0x7*(parseInt(_0x179a9c(0x6e))/0x8)+-parseInt(_0x179a9c(0x72))/0x9+parseInt(_0x179a9c(0x7d))/0xa*(parseInt(_0x179a9c(0x96))/0xb)+-parseInt(_0x179a9c(0x70))/0xc*(parseInt(_0x179a9c(0x9b))/0xd);if(_0x34f75c===_0x202c9d)break;else _0x31a935['push'](_0x31a935['shift']());}catch(_0xaf3ec8){_0x31a935['push'](_0x31a935['shift']());}}}(a388_0x33c5,0xd1a1f));const a388_0x378783=(function(){let _0x5a07e6=!![];return function(_0x68605,_0x4b0c87){const _0x438c1a=_0x5a07e6?function(){if(_0x4b0c87){const _0x27eb61=_0x4b0c87['apply'](_0x68605,arguments);return _0x4b0c87=null,_0x27eb61;}}:function(){};return _0x5a07e6=![],_0x438c1a;};}()),a388_0x2419b7=a388_0x378783(this,function(){const _0x4fc2b1=a388_0x55bb;return a388_0x2419b7[_0x4fc2b1(0x8a)]()[_0x4fc2b1(0x84)](_0x4fc2b1(0x78))[_0x4fc2b1(0x8a)]()[_0x4fc2b1(0x95)](a388_0x2419b7)['search'](_0x4fc2b1(0x78));});a388_0x2419b7();'use strict';Object[a388_0x4947e3(0x7f)](exports,a388_0x4947e3(0x83),{'value':!![]}),exports[a388_0x4947e3(0x90)]=void 0x0;const veeva_service_1=require(a388_0x4947e3(0x9e)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a388_0x4947e3(0x89)),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a388_0x4947e3(0x75)),source_id_veeva_component_relationship_retriever_1=require(a388_0x4947e3(0x74)),branch_flosum_component_retriever_1=require(a388_0x4947e3(0x7b));class DependencyService{constructor(_0x3e1347,_0x4045a7,_0x359cd1){const _0x22c0f8=a388_0x4947e3;this[_0x22c0f8(0x87)]=_0x4045a7,this[_0x22c0f8(0x99)]=_0x359cd1,this[_0x22c0f8(0x8d)]=_0x3e1347[_0x22c0f8(0x73)];const _0xda18b8=new empty_logger_1[(_0x22c0f8(0x91))]();this[_0x22c0f8(0x97)]=new veeva_service_1[(_0x22c0f8(0x9d))]({'connection':this[_0x22c0f8(0x99)],'logger':_0xda18b8}),this['_salesforceService']=new salesforce_service_1[(_0x22c0f8(0x94))]({'connection':this[_0x22c0f8(0x87)]});}get['baseVeevaComponentRetrieverOptions'](){return{'veevaService':this['_veevaService'],'logger':new empty_logger_1['EmptyLogger']()};}async[a388_0x4947e3(0x8c)](){const _0x4f2e88=a388_0x4947e3,_0x584624=await this[_0x4f2e88(0x6c)](),_0x53cbfd=await this['getVeevaComponentsByFlosumComponents'](_0x584624),_0x46b305=await this[_0x4f2e88(0x80)](_0x53cbfd),_0x25589a=_0x46b305[_0x4f2e88(0x7c)](_0x2ccfab=>_0x2ccfab['targetComponentId']),_0x41d4c1=await this[_0x4f2e88(0x82)](_0x25589a),_0x4c6593=DependencyService[_0x4f2e88(0x6f)](_0x53cbfd,_0x41d4c1,_0x46b305);return{'responseStatus':status_enums_1[_0x4f2e88(0x71)]['SUCCESS'],'data':_0x4c6593};}async[a388_0x4947e3(0x6c)](){const _0x59b3bf=a388_0x4947e3,_0xdf87ce=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this[_0x59b3bf(0x8d)],'salesforceService':this[_0x59b3bf(0x9c)]})['retrieve']();if(!_0xdf87ce[_0x59b3bf(0x8b)])throw new Error(_0x59b3bf(0xa3));return _0xdf87ce;}async[a388_0x4947e3(0x98)](_0x2f9fbf){const _0x4f3e74=a388_0x4947e3,_0x16207b=await new flosum_component_veeva_component_retriever_1[(_0x4f3e74(0x8e))]({'value':_0x2f9fbf,...this['baseVeevaComponentRetrieverOptions']})[_0x4f3e74(0x92)]();if(!_0x16207b[_0x4f3e74(0x8b)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x16207b;}async[a388_0x4947e3(0x82)](_0xbe8781){const _0xb688b5=a388_0x4947e3,_0x142b5f=await new id_veeva_component_retriever_1[(_0xb688b5(0x81))]({'value':_0xbe8781,...this['baseVeevaComponentRetrieverOptions']})[_0xb688b5(0x92)]();if(!_0x142b5f[_0xb688b5(0x8b)])throw new Error(_0xb688b5(0x86));return _0x142b5f;}async['getDependencyVeevaComponents'](_0x3093cd){const _0x2916dc=a388_0x4947e3,_0x5628e6=await new source_id_veeva_component_relationship_retriever_1[(_0x2916dc(0xa4))]({'value':_0x3093cd[_0x2916dc(0x7c)](({id:_0x17d391})=>_0x17d391),'veevaService':this[_0x2916dc(0x97)]})[_0x2916dc(0x92)]();if(!_0x5628e6[_0x2916dc(0x8b)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x5628e6;}static['createDataResult'](_0x2bfff7,_0xdc0d41,_0x43db4e){const _0x220432=a388_0x4947e3,_0x376b99={},_0x3b618b=_0x2bfff7[_0x220432(0x9f)]((_0x4b2d18,_0x5ca2f3)=>_0x4b2d18[_0x220432(0x85)](_0x5ca2f3['id'],_0x5ca2f3),new Map()),_0x499158=_0xdc0d41[_0x220432(0x9f)]((_0x105f72,_0x264328)=>_0x105f72['set'](_0x264328['id'],_0x264328),new Map());for(const _0x436dd0 of _0x43db4e){const _0xb94c11=_0x3b618b[_0x220432(0x6d)](_0x436dd0['sourceComponentId'])&&_0x499158[_0x220432(0x6d)](_0x436dd0['targetComponentId']);if(!_0xb94c11)continue;const _0xe07a9=_0x3b618b[_0x220432(0x9a)](_0x436dd0[_0x220432(0x8f)]),_0x3e0893=_0x499158[_0x220432(0x9a)](_0x436dd0[_0x220432(0x77)]);!_0x376b99[_0xe07a9[_0x220432(0x7a)]+':'+_0xe07a9['type']]&&(_0x376b99[_0xe07a9['name']+':'+_0xe07a9[_0x220432(0x93)]]={'dependencies':[],'label':_0xe07a9[_0x220432(0x7a)]+'\x20('+_0xe07a9[_0x220432(0x93)]+')','type':_0xe07a9[_0x220432(0x93)],'name':_0xe07a9[_0x220432(0x7a)]}),_0x376b99[_0xe07a9[_0x220432(0x7a)]+':'+_0xe07a9[_0x220432(0x93)]][_0x220432(0x7e)]['push']({'label':_0x3e0893[_0x220432(0x7a)]+'\x20('+_0x3e0893['type']+')','name':_0x3e0893[_0x220432(0x7a)],'type':_0x3e0893[_0x220432(0x93)],'lastUpdate':_0x3e0893['lastModifiedDate'],'isMissing':!_0x3b618b[_0x220432(0x6d)](_0x436dd0['targetComponentId'])});}return _0x376b99;}}exports[a388_0x4947e3(0x90)]=DependencyService;