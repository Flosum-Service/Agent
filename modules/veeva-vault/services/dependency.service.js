const a356_0x197178=a356_0x5dad;(function(_0x2e1925,_0x4d0af0){const _0x425c63=a356_0x5dad,_0x535126=_0x2e1925();while(!![]){try{const _0x115da4=-parseInt(_0x425c63(0x121))/0x1+-parseInt(_0x425c63(0x113))/0x2+-parseInt(_0x425c63(0x114))/0x3+parseInt(_0x425c63(0x107))/0x4+parseInt(_0x425c63(0x11c))/0x5+-parseInt(_0x425c63(0x106))/0x6+parseInt(_0x425c63(0x10f))/0x7;if(_0x115da4===_0x4d0af0)break;else _0x535126['push'](_0x535126['shift']());}catch(_0x39f707){_0x535126['push'](_0x535126['shift']());}}}(a356_0x4be8,0x80532));const a356_0x39092c=(function(){let _0x322221=!![];return function(_0x364674,_0x9741fd){const _0x3f9cd6=_0x322221?function(){const _0x158605=a356_0x5dad;if(_0x9741fd){const _0x15b488=_0x9741fd[_0x158605(0x117)](_0x364674,arguments);return _0x9741fd=null,_0x15b488;}}:function(){};return _0x322221=![],_0x3f9cd6;};}()),a356_0x292d1e=a356_0x39092c(this,function(){const _0x58aca5=a356_0x5dad;return a356_0x292d1e[_0x58aca5(0x12d)]()[_0x58aca5(0x125)]('(((.+)+)+)+$')[_0x58aca5(0x12d)]()[_0x58aca5(0x10a)](a356_0x292d1e)['search'](_0x58aca5(0x12b));});a356_0x292d1e();'use strict';Object[a356_0x197178(0x128)](exports,'__esModule',{'value':!![]}),exports['DependencyService']=void 0x0;function a356_0x4be8(){const _0x6b3794=['5610618DqskZr','731528LhPEKb','_salesforceService','No\x20dependency\x20components\x20found\x20in\x20Veeva','constructor','../classes/retrievers/veeva-components/id.veeva-component.retriever','FlosumComponentVeevaComponentRetriever','SalesforceService','./salesforce.service','19267297QDfHQY','../classes/loggers/empty.logger','lastModifiedDate','getVeevaComponentsById','206386qGhjxE','2828667qhqdKi','retrieve','sourceComponentId','apply','baseVeevaComponentRetrieverOptions','_connectionVeeva','EmptyLogger','push','697420xHuVNx','getFlosumComponents','targetComponentId','get','getDependencyVeevaComponents','568034VJSijJ','reduce','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','length','search','has','DependencyService','defineProperty','SUCCESS','map','(((.+)+)+)+$','_branchId','toString','createDataResult','name','_veevaService','./veeva.service','type','execute','branchId','VeevaService','getVeevaComponentsByFlosumComponents','dependencies'];a356_0x4be8=function(){return _0x6b3794;};return a356_0x4be8();}const veeva_service_1=require(a356_0x197178(0x131)),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a356_0x197178(0x10e)),empty_logger_1=require(a356_0x197178(0x110)),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a356_0x197178(0x10b)),source_id_veeva_component_relationship_retriever_1=require(a356_0x197178(0x123)),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');function a356_0x5dad(_0x59bbc4,_0x5bca10){const _0x2de1ea=a356_0x4be8();return a356_0x5dad=function(_0x292d1e,_0x39092c){_0x292d1e=_0x292d1e-0x103;let _0x4be8d6=_0x2de1ea[_0x292d1e];return _0x4be8d6;},a356_0x5dad(_0x59bbc4,_0x5bca10);}class DependencyService{constructor(_0x1abb01,_0x4eef77,_0x2a367a){const _0x1ea09d=a356_0x197178;this['_connectionSalesforce']=_0x4eef77,this[_0x1ea09d(0x119)]=_0x2a367a,this[_0x1ea09d(0x12c)]=_0x1abb01[_0x1ea09d(0x134)];const _0x37398f=new empty_logger_1[(_0x1ea09d(0x11a))]();this[_0x1ea09d(0x130)]=new veeva_service_1[(_0x1ea09d(0x103))]({'connection':this[_0x1ea09d(0x119)],'logger':_0x37398f}),this[_0x1ea09d(0x108)]=new salesforce_service_1[(_0x1ea09d(0x10d))]({'connection':this['_connectionSalesforce']});}get[a356_0x197178(0x118)](){const _0x1089b3=a356_0x197178;return{'veevaService':this['_veevaService'],'logger':new empty_logger_1[(_0x1089b3(0x11a))]()};}async[a356_0x197178(0x133)](){const _0x395914=a356_0x197178,_0x3df773=await this[_0x395914(0x11d)](),_0x12b537=await this[_0x395914(0x104)](_0x3df773),_0x141ef5=await this[_0x395914(0x120)](_0x12b537),_0x3f2f22=_0x141ef5['map'](_0x410b40=>_0x410b40['targetComponentId']),_0x41a9df=await this[_0x395914(0x112)](_0x3f2f22),_0x4b183c=DependencyService[_0x395914(0x12e)](_0x12b537,_0x41a9df,_0x141ef5);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x395914(0x129)],'data':_0x4b183c};}async[a356_0x197178(0x11d)](){const _0x416ce3=a356_0x197178,_0x486d6e=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this['_branchId'],'salesforceService':this[_0x416ce3(0x108)]})[_0x416ce3(0x115)]();if(!_0x486d6e[_0x416ce3(0x124)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x486d6e;}async['getVeevaComponentsByFlosumComponents'](_0x6e2e52){const _0x20f7e2=a356_0x197178,_0x33375c=await new flosum_component_veeva_component_retriever_1[(_0x20f7e2(0x10c))]({'value':_0x6e2e52,...this[_0x20f7e2(0x118)]})[_0x20f7e2(0x115)]();if(!_0x33375c[_0x20f7e2(0x124)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x33375c;}async[a356_0x197178(0x112)](_0xf6ccd){const _0x44648f=a356_0x197178,_0x5604ac=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0xf6ccd,...this[_0x44648f(0x118)]})[_0x44648f(0x115)]();if(!_0x5604ac[_0x44648f(0x124)])throw new Error(_0x44648f(0x109));return _0x5604ac;}async[a356_0x197178(0x120)](_0x24d5d4){const _0x476380=a356_0x197178,_0x317fe3=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x24d5d4[_0x476380(0x12a)](({id:_0x51a00e})=>_0x51a00e),'veevaService':this[_0x476380(0x130)]})[_0x476380(0x115)]();if(!_0x317fe3['length'])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x317fe3;}static[a356_0x197178(0x12e)](_0x2a644a,_0x5446b9,_0x5a00c7){const _0x42ce9f=a356_0x197178,_0x294b46={},_0x34a112=_0x2a644a[_0x42ce9f(0x122)]((_0x38a93e,_0x432e74)=>_0x38a93e['set'](_0x432e74['id'],_0x432e74),new Map()),_0x4d33d8=_0x5446b9['reduce']((_0x46368a,_0x1ef3b1)=>_0x46368a['set'](_0x1ef3b1['id'],_0x1ef3b1),new Map());for(const _0xab5e08 of _0x5a00c7){const _0x438e7d=_0x34a112[_0x42ce9f(0x126)](_0xab5e08[_0x42ce9f(0x116)])&&_0x4d33d8[_0x42ce9f(0x126)](_0xab5e08['targetComponentId']);if(!_0x438e7d)continue;const _0x469d1d=_0x34a112[_0x42ce9f(0x11f)](_0xab5e08[_0x42ce9f(0x116)]),_0x195470=_0x4d33d8[_0x42ce9f(0x11f)](_0xab5e08[_0x42ce9f(0x11e)]);!_0x294b46[_0x469d1d[_0x42ce9f(0x12f)]+':'+_0x469d1d[_0x42ce9f(0x132)]]&&(_0x294b46[_0x469d1d[_0x42ce9f(0x12f)]+':'+_0x469d1d['type']]={'dependencies':[],'label':_0x469d1d['name']+'\x20('+_0x469d1d[_0x42ce9f(0x132)]+')','type':_0x469d1d['type'],'name':_0x469d1d[_0x42ce9f(0x12f)]}),_0x294b46[_0x469d1d[_0x42ce9f(0x12f)]+':'+_0x469d1d['type']][_0x42ce9f(0x105)][_0x42ce9f(0x11b)]({'label':_0x195470['name']+'\x20('+_0x195470['type']+')','name':_0x195470[_0x42ce9f(0x12f)],'type':_0x195470[_0x42ce9f(0x132)],'lastUpdate':_0x195470[_0x42ce9f(0x111)],'isMissing':!_0x34a112[_0x42ce9f(0x126)](_0xab5e08[_0x42ce9f(0x11e)])});}return _0x294b46;}}exports[a356_0x197178(0x127)]=DependencyService;