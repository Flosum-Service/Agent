const a401_0x57a9a2=a401_0xb331;function a401_0x3221(){const _0x27ab59=['branchId','length','toString','AppResponseStatus','name','execute','apply','No\x20dependency\x20components\x20found\x20in\x20Veeva','targetComponentId','retrieve','../classes/retrievers/flosum-components/branch.flosum-component.retriever','search','createDataResult','344967wlIrdg','15hMnzLI','../classes/retrievers/veeva-components/id.veeva-component.retriever','has','constructor','baseVeevaComponentRetrieverOptions','8BofzwD','_branchId','EmptyLogger','set','_salesforceService','map','dependencies','19866924wPgoBL','No\x20veeva\x20components\x20found\x20in\x20branch','type','3673040uyZkWE','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','./salesforce.service','_veevaService','sourceComponentId','591453oObKfw','DependencyService','lastModifiedDate','reduce','getVeevaComponentsByFlosumComponents','2DHHQaI','FlosumComponentVeevaComponentRetriever','push','9KdLDoT','_connectionSalesforce','9143030ppjTel','BranchFlosumComponentRetriever','1355922HhPntW','1836712wZjWlU','getFlosumComponents','get','SUCCESS','_connectionVeeva','getVeevaComponentsById','__esModule','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'];a401_0x3221=function(){return _0x27ab59;};return a401_0x3221();}(function(_0x5205d0,_0x3e8957){const _0x271830=a401_0xb331,_0x3e439d=_0x5205d0();while(!![]){try{const _0x17bceb=parseInt(_0x271830(0x1be))/0x1*(-parseInt(_0x271830(0x1c3))/0x2)+parseInt(_0x271830(0x1a9))/0x3*(-parseInt(_0x271830(0x1af))/0x4)+parseInt(_0x271830(0x1aa))/0x5*(-parseInt(_0x271830(0x1ca))/0x6)+-parseInt(_0x271830(0x1b9))/0x7+-parseInt(_0x271830(0x1cb))/0x8*(parseInt(_0x271830(0x1c6))/0x9)+parseInt(_0x271830(0x1c8))/0xa+parseInt(_0x271830(0x1b6))/0xb;if(_0x17bceb===_0x3e8957)break;else _0x3e439d['push'](_0x3e439d['shift']());}catch(_0x4b89d4){_0x3e439d['push'](_0x3e439d['shift']());}}}(a401_0x3221,0x71efe));function a401_0xb331(_0x901d3f,_0x1f9628){const _0x3f6ce3=a401_0x3221();return a401_0xb331=function(_0x48c0d5,_0x33c2e9){_0x48c0d5=_0x48c0d5-0x1a2;let _0x3221c5=_0x3f6ce3[_0x48c0d5];return _0x3221c5;},a401_0xb331(_0x901d3f,_0x1f9628);}const a401_0x33c2e9=(function(){let _0x8f6034=!![];return function(_0x1f8944,_0x2f909a){const _0x319b62=_0x8f6034?function(){const _0x3d95d9=a401_0xb331;if(_0x2f909a){const _0x5205a2=_0x2f909a[_0x3d95d9(0x1a2)](_0x1f8944,arguments);return _0x2f909a=null,_0x5205a2;}}:function(){};return _0x8f6034=![],_0x319b62;};}()),a401_0x48c0d5=a401_0x33c2e9(this,function(){const _0x4a365b=a401_0xb331;return a401_0x48c0d5[_0x4a365b(0x1d5)]()[_0x4a365b(0x1a7)]('(((.+)+)+)+$')[_0x4a365b(0x1d5)]()[_0x4a365b(0x1ad)](a401_0x48c0d5)[_0x4a365b(0x1a7)]('(((.+)+)+)+$');});a401_0x48c0d5();'use strict';Object['defineProperty'](exports,a401_0x57a9a2(0x1d1),{'value':!![]}),exports[a401_0x57a9a2(0x1bf)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require('../enums/status.enums'),salesforce_service_1=require(a401_0x57a9a2(0x1bb)),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require(a401_0x57a9a2(0x1d2)),id_veeva_component_retriever_1=require(a401_0x57a9a2(0x1ab)),source_id_veeva_component_relationship_retriever_1=require(a401_0x57a9a2(0x1ba)),branch_flosum_component_retriever_1=require(a401_0x57a9a2(0x1a6));class DependencyService{constructor(_0x1e822c,_0x1a2bb0,_0x4c5b2c){const _0x14ddc3=a401_0x57a9a2;this[_0x14ddc3(0x1c7)]=_0x1a2bb0,this[_0x14ddc3(0x1cf)]=_0x4c5b2c,this['_branchId']=_0x1e822c[_0x14ddc3(0x1d3)];const _0x2f5e95=new empty_logger_1[(_0x14ddc3(0x1b1))]();this[_0x14ddc3(0x1bc)]=new veeva_service_1['VeevaService']({'connection':this['_connectionVeeva'],'logger':_0x2f5e95}),this[_0x14ddc3(0x1b3)]=new salesforce_service_1['SalesforceService']({'connection':this[_0x14ddc3(0x1c7)]});}get[a401_0x57a9a2(0x1ae)](){const _0x16f111=a401_0x57a9a2;return{'veevaService':this[_0x16f111(0x1bc)],'logger':new empty_logger_1[(_0x16f111(0x1b1))]()};}async[a401_0x57a9a2(0x1d8)](){const _0x1d2a03=a401_0x57a9a2,_0x44ab0b=await this[_0x1d2a03(0x1cc)](),_0x50498f=await this['getVeevaComponentsByFlosumComponents'](_0x44ab0b),_0x26861f=await this['getDependencyVeevaComponents'](_0x50498f),_0x145594=_0x26861f[_0x1d2a03(0x1b4)](_0x91edc3=>_0x91edc3[_0x1d2a03(0x1a4)]),_0x195e1a=await this[_0x1d2a03(0x1d0)](_0x145594),_0x69f7c9=DependencyService[_0x1d2a03(0x1a8)](_0x50498f,_0x195e1a,_0x26861f);return{'responseStatus':status_enums_1[_0x1d2a03(0x1d6)][_0x1d2a03(0x1ce)],'data':_0x69f7c9};}async['getFlosumComponents'](){const _0x21708b=a401_0x57a9a2,_0x51d08a=await new branch_flosum_component_retriever_1[(_0x21708b(0x1c9))]({'value':this[_0x21708b(0x1b0)],'salesforceService':this[_0x21708b(0x1b3)]})[_0x21708b(0x1a5)]();if(!_0x51d08a[_0x21708b(0x1d4)])throw new Error(_0x21708b(0x1b7));return _0x51d08a;}async[a401_0x57a9a2(0x1c2)](_0x14d174){const _0x531a12=a401_0x57a9a2,_0x315fde=await new flosum_component_veeva_component_retriever_1[(_0x531a12(0x1c4))]({'value':_0x14d174,...this[_0x531a12(0x1ae)]})[_0x531a12(0x1a5)]();if(!_0x315fde['length'])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x315fde;}async[a401_0x57a9a2(0x1d0)](_0x5f2f9f){const _0x18e1e9=a401_0x57a9a2,_0x50e84d=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x5f2f9f,...this[_0x18e1e9(0x1ae)]})[_0x18e1e9(0x1a5)]();if(!_0x50e84d['length'])throw new Error(_0x18e1e9(0x1a3));return _0x50e84d;}async['getDependencyVeevaComponents'](_0x3c2093){const _0x1db0a1=a401_0x57a9a2,_0x54f33b=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x3c2093['map'](({id:_0x1e6a06})=>_0x1e6a06),'veevaService':this[_0x1db0a1(0x1bc)]})[_0x1db0a1(0x1a5)]();if(!_0x54f33b[_0x1db0a1(0x1d4)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x54f33b;}static[a401_0x57a9a2(0x1a8)](_0x2fac78,_0x35a0bd,_0x475b00){const _0x16dbc8=a401_0x57a9a2,_0x513641={},_0x5c8a7d=_0x2fac78[_0x16dbc8(0x1c1)]((_0x51fec9,_0x4a28e2)=>_0x51fec9['set'](_0x4a28e2['id'],_0x4a28e2),new Map()),_0x6263ab=_0x35a0bd['reduce']((_0x17fe8a,_0x5cc0a7)=>_0x17fe8a[_0x16dbc8(0x1b2)](_0x5cc0a7['id'],_0x5cc0a7),new Map());for(const _0x9dcf14 of _0x475b00){const _0x3bda0f=_0x5c8a7d[_0x16dbc8(0x1ac)](_0x9dcf14[_0x16dbc8(0x1bd)])&&_0x6263ab[_0x16dbc8(0x1ac)](_0x9dcf14[_0x16dbc8(0x1a4)]);if(!_0x3bda0f)continue;const _0x57ad73=_0x5c8a7d[_0x16dbc8(0x1cd)](_0x9dcf14[_0x16dbc8(0x1bd)]),_0x287492=_0x6263ab[_0x16dbc8(0x1cd)](_0x9dcf14[_0x16dbc8(0x1a4)]);!_0x513641[_0x57ad73[_0x16dbc8(0x1d7)]+':'+_0x57ad73[_0x16dbc8(0x1b8)]]&&(_0x513641[_0x57ad73[_0x16dbc8(0x1d7)]+':'+_0x57ad73[_0x16dbc8(0x1b8)]]={'dependencies':[],'label':_0x57ad73['name']+'\x20('+_0x57ad73[_0x16dbc8(0x1b8)]+')','type':_0x57ad73[_0x16dbc8(0x1b8)],'name':_0x57ad73[_0x16dbc8(0x1d7)]}),_0x513641[_0x57ad73[_0x16dbc8(0x1d7)]+':'+_0x57ad73['type']][_0x16dbc8(0x1b5)][_0x16dbc8(0x1c5)]({'label':_0x287492[_0x16dbc8(0x1d7)]+'\x20('+_0x287492['type']+')','name':_0x287492[_0x16dbc8(0x1d7)],'type':_0x287492[_0x16dbc8(0x1b8)],'lastUpdate':_0x287492[_0x16dbc8(0x1c0)],'isMissing':!_0x5c8a7d[_0x16dbc8(0x1ac)](_0x9dcf14['targetComponentId'])});}return _0x513641;}}exports[a401_0x57a9a2(0x1bf)]=DependencyService;