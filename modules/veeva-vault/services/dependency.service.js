const a357_0x1db79e=a357_0x113a;(function(_0x14fc4b,_0x1c5e08){const _0x2fef53=a357_0x113a,_0x158de4=_0x14fc4b();while(!![]){try{const _0x8d41df=-parseInt(_0x2fef53(0x1f6))/0x1+parseInt(_0x2fef53(0x21d))/0x2+parseInt(_0x2fef53(0x1fc))/0x3+parseInt(_0x2fef53(0x1f9))/0x4*(-parseInt(_0x2fef53(0x226))/0x5)+-parseInt(_0x2fef53(0x225))/0x6+-parseInt(_0x2fef53(0x224))/0x7+parseInt(_0x2fef53(0x214))/0x8;if(_0x8d41df===_0x1c5e08)break;else _0x158de4['push'](_0x158de4['shift']());}catch(_0x2acf69){_0x158de4['push'](_0x158de4['shift']());}}}(a357_0x41e4,0x2606a));const a357_0x5588ef=(function(){let _0x30f128=!![];return function(_0x541a6a,_0x388df5){const _0x4a84eb=_0x30f128?function(){const _0x3b2f85=a357_0x113a;if(_0x388df5){const _0x5de554=_0x388df5[_0x3b2f85(0x1f3)](_0x541a6a,arguments);return _0x388df5=null,_0x5de554;}}:function(){};return _0x30f128=![],_0x4a84eb;};}()),a357_0x797882=a357_0x5588ef(this,function(){const _0x370193=a357_0x113a;return a357_0x797882[_0x370193(0x20e)]()[_0x370193(0x201)]('(((.+)+)+)+$')[_0x370193(0x20e)]()['constructor'](a357_0x797882)[_0x370193(0x201)](_0x370193(0x211));});function a357_0x113a(_0x28118a,_0x12d5fc){const _0x2bf362=a357_0x41e4();return a357_0x113a=function(_0x797882,_0x5588ef){_0x797882=_0x797882-0x1f1;let _0x41e44a=_0x2bf362[_0x797882];return _0x41e44a;},a357_0x113a(_0x28118a,_0x12d5fc);}a357_0x797882();function a357_0x41e4(){const _0x3883d6=['BranchFlosumComponentRetriever','reduce','search','DependencyService','lastModifiedDate','type','dependencies','__esModule','getVeevaComponentsById','../classes/loggers/empty.logger','SUCCESS','_connectionVeeva','./salesforce.service','../enums/status.enums','SalesforceService','toString','retrieve','AppResponseStatus','(((.+)+)+)+$','get','targetComponentId','5442000vBCnZl','sourceComponentId','./veeva.service','../classes/retrievers/veeva-components/id.veeva-component.retriever','getFlosumComponents','getDependencyVeevaComponents','_connectionSalesforce','push','length','355418QWAVEx','getVeevaComponentsByFlosumComponents','_branchId','set','name','EmptyLogger','execute','1581377xmkmyX','1672158pkUBSm','10nNQgBL','has','createDataResult','branchId','baseVeevaComponentRetrieverOptions','apply','FlosumComponentVeevaComponentRetriever','No\x20veeva\x20components\x20found\x20in\x20branch','219338CMhXTG','_veevaService','_salesforceService','322312kZSDBY','defineProperty','VeevaService','548679EKnuax','map','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'];a357_0x41e4=function(){return _0x3883d6;};return a357_0x41e4();}'use strict';Object[a357_0x1db79e(0x1fa)](exports,a357_0x1db79e(0x206),{'value':!![]}),exports[a357_0x1db79e(0x202)]=void 0x0;const veeva_service_1=require(a357_0x1db79e(0x216)),status_enums_1=require(a357_0x1db79e(0x20c)),salesforce_service_1=require(a357_0x1db79e(0x20b)),empty_logger_1=require(a357_0x1db79e(0x208)),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a357_0x1db79e(0x217)),source_id_veeva_component_relationship_retriever_1=require(a357_0x1db79e(0x1fe)),branch_flosum_component_retriever_1=require('../classes/retrievers/flosum-components/branch.flosum-component.retriever');class DependencyService{constructor(_0x198588,_0x37fe79,_0x580888){const _0x387069=a357_0x1db79e;this[_0x387069(0x21a)]=_0x37fe79,this[_0x387069(0x20a)]=_0x580888,this[_0x387069(0x21f)]=_0x198588[_0x387069(0x1f1)];const _0x28b6e4=new empty_logger_1[(_0x387069(0x222))]();this['_veevaService']=new veeva_service_1[(_0x387069(0x1fb))]({'connection':this[_0x387069(0x20a)],'logger':_0x28b6e4}),this[_0x387069(0x1f8)]=new salesforce_service_1[(_0x387069(0x20d))]({'connection':this[_0x387069(0x21a)]});}get[a357_0x1db79e(0x1f2)](){const _0x228d17=a357_0x1db79e;return{'veevaService':this[_0x228d17(0x1f7)],'logger':new empty_logger_1[(_0x228d17(0x222))]()};}async[a357_0x1db79e(0x223)](){const _0x5c8abe=a357_0x1db79e,_0x4ce90b=await this[_0x5c8abe(0x218)](),_0x545101=await this[_0x5c8abe(0x21e)](_0x4ce90b),_0x4c7d2b=await this[_0x5c8abe(0x219)](_0x545101),_0x499b76=_0x4c7d2b['map'](_0x4e7d8c=>_0x4e7d8c[_0x5c8abe(0x213)]),_0x357791=await this[_0x5c8abe(0x207)](_0x499b76),_0x419e58=DependencyService[_0x5c8abe(0x228)](_0x545101,_0x357791,_0x4c7d2b);return{'responseStatus':status_enums_1[_0x5c8abe(0x210)][_0x5c8abe(0x209)],'data':_0x419e58};}async['getFlosumComponents'](){const _0x37a7a6=a357_0x1db79e,_0x1a5791=await new branch_flosum_component_retriever_1[(_0x37a7a6(0x1ff))]({'value':this[_0x37a7a6(0x21f)],'salesforceService':this[_0x37a7a6(0x1f8)]})['retrieve']();if(!_0x1a5791[_0x37a7a6(0x21c)])throw new Error(_0x37a7a6(0x1f5));return _0x1a5791;}async[a357_0x1db79e(0x21e)](_0x28ad19){const _0x38aa06=a357_0x1db79e,_0xd23dae=await new flosum_component_veeva_component_retriever_1[(_0x38aa06(0x1f4))]({'value':_0x28ad19,...this[_0x38aa06(0x1f2)]})[_0x38aa06(0x20f)]();if(!_0xd23dae[_0x38aa06(0x21c)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0xd23dae;}async['getVeevaComponentsById'](_0x22b6b6){const _0x29dafd=a357_0x1db79e,_0x2e9a1e=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x22b6b6,...this[_0x29dafd(0x1f2)]})[_0x29dafd(0x20f)]();if(!_0x2e9a1e[_0x29dafd(0x21c)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x2e9a1e;}async[a357_0x1db79e(0x219)](_0x4783e6){const _0xf72953=a357_0x1db79e,_0x508489=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x4783e6[_0xf72953(0x1fd)](({id:_0x3ee03d})=>_0x3ee03d),'veevaService':this[_0xf72953(0x1f7)]})[_0xf72953(0x20f)]();if(!_0x508489[_0xf72953(0x21c)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x508489;}static[a357_0x1db79e(0x228)](_0x34bacb,_0x425678,_0x45725c){const _0x57e405=a357_0x1db79e,_0x305add={},_0x251efa=_0x34bacb['reduce']((_0x31a8d0,_0x48a3fb)=>_0x31a8d0['set'](_0x48a3fb['id'],_0x48a3fb),new Map()),_0x4ffed8=_0x425678[_0x57e405(0x200)]((_0x100bda,_0x2d456b)=>_0x100bda[_0x57e405(0x220)](_0x2d456b['id'],_0x2d456b),new Map());for(const _0x3b64f3 of _0x45725c){const _0x55e6f7=_0x251efa['has'](_0x3b64f3['sourceComponentId'])&&_0x4ffed8['has'](_0x3b64f3[_0x57e405(0x213)]);if(!_0x55e6f7)continue;const _0x21fda0=_0x251efa[_0x57e405(0x212)](_0x3b64f3[_0x57e405(0x215)]),_0x45ccbb=_0x4ffed8[_0x57e405(0x212)](_0x3b64f3[_0x57e405(0x213)]);!_0x305add[_0x21fda0[_0x57e405(0x221)]+':'+_0x21fda0['type']]&&(_0x305add[_0x21fda0['name']+':'+_0x21fda0[_0x57e405(0x204)]]={'dependencies':[],'label':_0x21fda0['name']+'\x20('+_0x21fda0['type']+')','type':_0x21fda0[_0x57e405(0x204)],'name':_0x21fda0['name']}),_0x305add[_0x21fda0[_0x57e405(0x221)]+':'+_0x21fda0['type']][_0x57e405(0x205)][_0x57e405(0x21b)]({'label':_0x45ccbb[_0x57e405(0x221)]+'\x20('+_0x45ccbb[_0x57e405(0x204)]+')','name':_0x45ccbb['name'],'type':_0x45ccbb['type'],'lastUpdate':_0x45ccbb[_0x57e405(0x203)],'isMissing':!_0x251efa[_0x57e405(0x227)](_0x3b64f3[_0x57e405(0x213)])});}return _0x305add;}}exports[a357_0x1db79e(0x202)]=DependencyService;