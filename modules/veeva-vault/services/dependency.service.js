const a310_0x27b6ee=a310_0xddf0;(function(_0xe1ee33,_0x573034){const _0x72bbcb=a310_0xddf0,_0x1da097=_0xe1ee33();while(!![]){try{const _0x1c2699=parseInt(_0x72bbcb(0x14f))/0x1*(-parseInt(_0x72bbcb(0x183))/0x2)+-parseInt(_0x72bbcb(0x145))/0x3+parseInt(_0x72bbcb(0x163))/0x4+parseInt(_0x72bbcb(0x14b))/0x5+-parseInt(_0x72bbcb(0x179))/0x6*(parseInt(_0x72bbcb(0x154))/0x7)+-parseInt(_0x72bbcb(0x152))/0x8*(parseInt(_0x72bbcb(0x155))/0x9)+parseInt(_0x72bbcb(0x164))/0xa*(parseInt(_0x72bbcb(0x169))/0xb);if(_0x1c2699===_0x573034)break;else _0x1da097['push'](_0x1da097['shift']());}catch(_0x164717){_0x1da097['push'](_0x1da097['shift']());}}}(a310_0x12df,0x34c9b));function a310_0xddf0(_0x4db026,_0x2ed240){const _0xc8f8c6=a310_0x12df();return a310_0xddf0=function(_0x3a8e8e,_0x407d86){_0x3a8e8e=_0x3a8e8e-0x137;let _0x12df6d=_0xc8f8c6[_0x3a8e8e];return _0x12df6d;},a310_0xddf0(_0x4db026,_0x2ed240);}const a310_0x407d86=(function(){let _0xcabfbd=!![];return function(_0x33fa1a,_0x5ec7e3){const _0xf35e44=_0xcabfbd?function(){const _0x3c3fa3=a310_0xddf0;if(_0x5ec7e3){const _0x153b9f=_0x5ec7e3[_0x3c3fa3(0x156)](_0x33fa1a,arguments);return _0x5ec7e3=null,_0x153b9f;}}:function(){};return _0xcabfbd=![],_0xf35e44;};}()),a310_0x3a8e8e=a310_0x407d86(this,function(){const _0x5ee90f=a310_0xddf0;return a310_0x3a8e8e[_0x5ee90f(0x185)]()['search'](_0x5ee90f(0x146))[_0x5ee90f(0x185)]()[_0x5ee90f(0x17e)](a310_0x3a8e8e)[_0x5ee90f(0x17f)](_0x5ee90f(0x146));});a310_0x3a8e8e();'use strict';Object[a310_0x27b6ee(0x13f)](exports,a310_0x27b6ee(0x161),{'value':!![]}),exports[a310_0x27b6ee(0x174)]=void 0x0;const veeva_constants_1=require('../constants/veeva.constants'),veeva_service_1=require(a310_0x27b6ee(0x149)),component_dto_1=require('../dtos/component.dto'),veeva_component_dto_1=require(a310_0x27b6ee(0x16d)),veeva_component_relationship_dto_1=require(a310_0x27b6ee(0x150)),utils_1=require('../../shared/utils'),constants_1=require(a310_0x27b6ee(0x186)),status_enums_1=require(a310_0x27b6ee(0x17b)),salesforce_service_1=require('./salesforce.service');class DependencyService{constructor(_0x5cedfb,_0x320ee2,_0x3a0b6b){const _0x4f1e86=a310_0x27b6ee;this['_connectionSalesforce']=_0x320ee2,this[_0x4f1e86(0x16b)]=_0x3a0b6b,this['_branchId']=_0x5cedfb[_0x4f1e86(0x17c)];}async[a310_0x27b6ee(0x181)](){const _0x649c69=a310_0x27b6ee,_0x2cff73=await this[_0x649c69(0x157)](),_0x2a7074=await this[_0x649c69(0x13d)](_0x2cff73),_0x4d9184=await this[_0x649c69(0x158)](_0x2a7074),_0x15bfe8=_0x4d9184[_0x649c69(0x148)](_0x383f36=>_0x383f36[_0x649c69(0x15e)]),_0xb2b1de=await this[_0x649c69(0x15d)](_0x15bfe8),_0xa28e60=DependencyService[_0x649c69(0x13a)](_0x2a7074,_0xb2b1de,_0x4d9184);return{'responseStatus':status_enums_1['AppResponseStatus'][_0x649c69(0x137)],'data':_0xa28e60};}async[a310_0x27b6ee(0x157)](){const _0x493b47=a310_0x27b6ee,_0x3f0cc9=_0x493b47(0x138)+constants_1['FLOSUM_NAMESPACE']+_0x493b47(0x168)+constants_1[_0x493b47(0x172)]+_0x493b47(0x13c)+constants_1[_0x493b47(0x172)]+_0x493b47(0x14d)+constants_1[_0x493b47(0x172)]+_0x493b47(0x170)+this[_0x493b47(0x176)]+'\x27\x20AND\x20'+constants_1[_0x493b47(0x172)]+_0x493b47(0x17d),_0x3be7d2=await salesforce_service_1[_0x493b47(0x173)][_0x493b47(0x141)](this[_0x493b47(0x180)],_0x3f0cc9);if(!_0x3be7d2['length'])throw new Error(_0x493b47(0x187));return _0x3be7d2[_0x493b47(0x148)](_0x51db21=>new component_dto_1[(_0x493b47(0x151))](_0x51db21));}async[a310_0x27b6ee(0x13d)](_0x281dac){const _0x2b5c0b=a310_0x27b6ee,_0x6cf500=_0x281dac['reduce']((_0x563fb4,_0x55dfd8)=>_0x563fb4[_0x2b5c0b(0x177)]((_0x55dfd8[_0x2b5c0b(0x144)]+'.'+_0x55dfd8['componentName'])[_0x2b5c0b(0x178)]()),new Set()),_0x13e5c2=_0x281dac[_0x2b5c0b(0x148)](_0x514a13=>_0x514a13[_0x2b5c0b(0x14a)]),_0x26b924=(0x0,utils_1['chunkArray'])(_0x13e5c2,veeva_constants_1[_0x2b5c0b(0x15f)][_0x2b5c0b(0x15b)]),_0x4e8954=_0x26b924[_0x2b5c0b(0x148)](_0x14cf46=>veeva_constants_1['VeevaConstants']['ENDPOINT_VQL']+('SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20component_name__v\x20CONTAINS\x20(\x27'+_0x14cf46['join']('\x27,\x27')+'\x27)')),_0x34c485=await veeva_service_1[_0x2b5c0b(0x16f)][_0x2b5c0b(0x171)](_0x4e8954,this[_0x2b5c0b(0x16b)]),_0x39639c=_0x34c485['map'](_0x1cbdc2=>new veeva_component_dto_1['VeevaComponentDto'](_0x1cbdc2))['filter'](_0x4705b0=>_0x6cf500[_0x2b5c0b(0x159)]((_0x4705b0['type']+'.'+_0x4705b0[_0x2b5c0b(0x175)])[_0x2b5c0b(0x178)]()));if(!_0x39639c[_0x2b5c0b(0x147)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x39639c;}async[a310_0x27b6ee(0x15d)](_0x3d8de7){const _0x151329=a310_0x27b6ee,_0x1303ed=(0x0,utils_1[_0x151329(0x14e)])(_0x3d8de7,veeva_constants_1[_0x151329(0x15f)][_0x151329(0x16e)]),_0x11947b=_0x1303ed['map'](_0x2fa4a6=>veeva_constants_1['VeevaConstants'][_0x151329(0x16c)]+(_0x151329(0x165)+_0x2fa4a6[_0x151329(0x139)](_0x151329(0x160))+'\x27)')),_0x55829=await veeva_service_1[_0x151329(0x16f)][_0x151329(0x171)](_0x11947b,this[_0x151329(0x16b)]),_0x2adf3d=_0x55829[_0x151329(0x148)](_0x3e7160=>new veeva_component_dto_1[(_0x151329(0x166))](_0x3e7160))[_0x151329(0x15c)](_0x31ec32=>!_0x31ec32[_0x151329(0x17a)]['includes'](_0x151329(0x153)));if(!_0x2adf3d[_0x151329(0x147)])throw new Error(_0x151329(0x13e));return _0x2adf3d;}async[a310_0x27b6ee(0x158)](_0x213fb4){const _0x5b70ef=a310_0x27b6ee,_0x226afd=_0x213fb4[_0x5b70ef(0x148)](_0x54ef4d=>_0x54ef4d['id']),_0x112274=(0x0,utils_1['chunkArray'])(_0x226afd,veeva_constants_1[_0x5b70ef(0x15f)][_0x5b70ef(0x16e)]),_0x365764=_0x112274[_0x5b70ef(0x148)](_0x1da670=>veeva_constants_1[_0x5b70ef(0x15f)][_0x5b70ef(0x16c)]+(_0x5b70ef(0x13b)+_0x1da670['join']('\x27,\x27')+'\x27)')),_0x319bf6=await veeva_service_1[_0x5b70ef(0x16f)][_0x5b70ef(0x171)](_0x365764,this['_connectionVeeva']),_0x2e8679=_0x319bf6[_0x5b70ef(0x148)](_0x5f402c=>new veeva_component_relationship_dto_1[(_0x5b70ef(0x14c))](_0x5f402c));if(!_0x2e8679[_0x5b70ef(0x147)])throw new Error(_0x5b70ef(0x140));return DependencyService[_0x5b70ef(0x16a)](_0x2e8679);}static[a310_0x27b6ee(0x16a)](_0x3c4e90){const _0x57ba9a=a310_0x27b6ee,_0x95698=_0x3c4e90[_0x57ba9a(0x167)]((_0xeb49a8,_0xf95be4)=>_0xeb49a8['set'](_0xf95be4['sourceComponentId']+'.'+_0xf95be4[_0x57ba9a(0x15e)],_0xf95be4),new Map());return[..._0x95698[_0x57ba9a(0x142)]()];}static[a310_0x27b6ee(0x13a)](_0x47094b,_0x13ec0a,_0x1ca9b4){const _0x38ead2=a310_0x27b6ee,_0x4d94be={},_0x56b607=_0x47094b[_0x38ead2(0x167)]((_0x30712a,_0x532631)=>_0x30712a[_0x38ead2(0x143)](_0x532631['id'],_0x532631),new Map()),_0x28b1be=_0x13ec0a['reduce']((_0x32fba4,_0x558706)=>_0x32fba4[_0x38ead2(0x143)](_0x558706['id'],_0x558706),new Map());for(const _0x1bb93d of _0x1ca9b4){const _0xe08555=_0x56b607[_0x38ead2(0x159)](_0x1bb93d['sourceComponentId'])&&_0x28b1be[_0x38ead2(0x159)](_0x1bb93d[_0x38ead2(0x15e)]);if(!_0xe08555)continue;const _0x28f79f=_0x56b607[_0x38ead2(0x162)](_0x1bb93d['sourceComponentId']),_0x2e2cde=_0x28b1be['get'](_0x1bb93d[_0x38ead2(0x15e)]);!_0x4d94be[_0x28f79f['name']+':'+_0x28f79f[_0x38ead2(0x182)]]&&(_0x4d94be[_0x28f79f['name']+':'+_0x28f79f['type']]={'dependencies':[],'label':_0x28f79f['name']+'\x20('+_0x28f79f[_0x38ead2(0x182)]+')','type':_0x28f79f['type'],'name':_0x28f79f[_0x38ead2(0x175)]}),_0x4d94be[_0x28f79f[_0x38ead2(0x175)]+':'+_0x28f79f[_0x38ead2(0x182)]]['dependencies'][_0x38ead2(0x184)]({'label':_0x2e2cde['name']+'\x20('+_0x2e2cde['type']+')','name':_0x2e2cde[_0x38ead2(0x175)],'type':_0x2e2cde['type'],'lastUpdate':_0x2e2cde[_0x38ead2(0x15a)],'isMissing':!_0x56b607[_0x38ead2(0x159)](_0x1bb93d[_0x38ead2(0x15e)])});}return _0x4d94be;}}exports[a310_0x27b6ee(0x174)]=DependencyService;function a310_0x12df(){const _0xc67f21=['createDataResult','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20name__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20source_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20target_component_name__sys,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20created_date__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component_relationship__sys\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20source_component__sys\x20CONTAINS\x20(\x27','Component_Type__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20','retrieveVeevaComponentsByTypeAndName','No\x20dependency\x20components\x20found\x20in\x20Veeva','defineProperty','No\x20relationship\x20found\x20in\x20Veeva','retrieveRecords','values','set','componentType','1181358ciRaRc','(((.+)+)+)+$','length','map','./veeva.service','componentName','247620dyuKHb','VeevaComponentRelationshipDto','Component__c\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20','chunkArray','5uTOpSD','../dtos/veeva-component-relationship.dto','ComponentDto','535576FfHyPI','inactive__v','271355avBizx','27qjkKsS','apply','retrieveComponents','retrieveDependencyVeevaComponents','has','lastModifiedDate','BUILD_WHERE_BY_NAME_LIMIT','filter','retrieveVeevaComponentsById','targetComponentId','VeevaConstants','\x27,\x27','__esModule','get','629604VqBdPr','9140460cEhkcl','SELECT\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20id,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_modified_date__sys,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_name__v,\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20component_type__v,\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20status__v\x20\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20FROM\x20vault_component__v\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20WHERE\x20id\x20CONTAINS\x20(\x27','VeevaComponentDto','reduce','Component_Name__c,\x20','11zFuOmY','deleteDependencyVeevaComponentDuplicates','_connectionVeeva','ENDPOINT_VQL','../dtos/veeva-component.dto','BUILD_WHERE_BY_ID_LIMIT','VeevaService','Branch__c\x20=\x20\x27','executeManyVQL','FLOSUM_NAMESPACE','SalesforceService','DependencyService','name','_branchId','add','toLowerCase','36SWVOSD','status','../enums/status.enums','branchId','Veeva_Component__c\x20=\x20true\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','constructor','search','_connectionSalesforce','execute','type','31014IxCOVg','push','toString','../../../constants','No\x20veeva\x20components\x20found\x20in\x20branch','SUCCESS','\x0a\x20\x20\x20\x20\x20\x20\x20\x20SELECT\x20Id,\x20','join'];a310_0x12df=function(){return _0xc67f21;};return a310_0x12df();}