const a333_0x1a6ec8=a333_0x5d08;(function(_0x1a06a9,_0x219f38){const _0x47fbfc=a333_0x5d08,_0x481a94=_0x1a06a9();while(!![]){try{const _0x2bea21=parseInt(_0x47fbfc(0x118))/0x1+parseInt(_0x47fbfc(0x127))/0x2+-parseInt(_0x47fbfc(0x120))/0x3*(parseInt(_0x47fbfc(0x125))/0x4)+parseInt(_0x47fbfc(0x12c))/0x5*(-parseInt(_0x47fbfc(0x13c))/0x6)+parseInt(_0x47fbfc(0x11f))/0x7*(-parseInt(_0x47fbfc(0x139))/0x8)+-parseInt(_0x47fbfc(0x13a))/0x9+parseInt(_0x47fbfc(0x122))/0xa*(parseInt(_0x47fbfc(0x117))/0xb);if(_0x2bea21===_0x219f38)break;else _0x481a94['push'](_0x481a94['shift']());}catch(_0x386d3a){_0x481a94['push'](_0x481a94['shift']());}}}(a333_0x20c2,0xe7c3e));function a333_0x20c2(){const _0x329642=['172UvhuAG','targetComponentId','587520DqQJEh','search','type','DependencyService','_veevaService','3620surNEO','SUCCESS','../classes/retrievers/flosum-components/branch.flosum-component.retriever','./salesforce.service','apply','getDependencyVeevaComponents','VeevaService','map','_salesforceService','(((.+)+)+)+$','_connectionSalesforce','length','dependencies','16FFJhCU','13096818ZkCkfR','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','9642NCZwef','sourceComponentId','../enums/status.enums','push','AppResponseStatus','getVeevaComponentsByFlosumComponents','getFlosumComponents','__esModule','_connectionVeeva','defineProperty','BranchFlosumComponentRetriever','EmptyLogger','toString','retrieve','has','get','branchId','4345UhyCsG','1765891XAfiDJ','set','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','getVeevaComponentsById','reduce','name','FlosumComponentVeevaComponentRetriever','6551482eupIxz','264OXebsO','_branchId','85670kiSNDv','lastModifiedDate','baseVeevaComponentRetrieverOptions'];a333_0x20c2=function(){return _0x329642;};return a333_0x20c2();}const a333_0x550cdd=(function(){let _0x34004f=!![];return function(_0x2b6195,_0x74daf4){const _0xce1cb7=_0x34004f?function(){const _0x379354=a333_0x5d08;if(_0x74daf4){const _0x523d40=_0x74daf4[_0x379354(0x130)](_0x2b6195,arguments);return _0x74daf4=null,_0x523d40;}}:function(){};return _0x34004f=![],_0xce1cb7;};}()),a333_0x311886=a333_0x550cdd(this,function(){const _0x10d1c9=a333_0x5d08;return a333_0x311886['toString']()[_0x10d1c9(0x128)](_0x10d1c9(0x135))[_0x10d1c9(0x112)]()['constructor'](a333_0x311886)['search'](_0x10d1c9(0x135));});a333_0x311886();'use strict';Object[a333_0x1a6ec8(0x10f)](exports,a333_0x1a6ec8(0x143),{'value':!![]}),exports[a333_0x1a6ec8(0x12a)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a333_0x1a6ec8(0x13e)),salesforce_service_1=require(a333_0x1a6ec8(0x12f)),empty_logger_1=require('../classes/loggers/empty.logger'),flosum_component_veeva_component_retriever_1=require(a333_0x1a6ec8(0x13b)),id_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/id.veeva-component.retriever'),source_id_veeva_component_relationship_retriever_1=require(a333_0x1a6ec8(0x11a)),branch_flosum_component_retriever_1=require(a333_0x1a6ec8(0x12e));function a333_0x5d08(_0x4e5320,_0x4f97ed){const _0x3406b2=a333_0x20c2();return a333_0x5d08=function(_0x311886,_0x550cdd){_0x311886=_0x311886-0x10e;let _0x20c28b=_0x3406b2[_0x311886];return _0x20c28b;},a333_0x5d08(_0x4e5320,_0x4f97ed);}class DependencyService{constructor(_0x46e4b5,_0x1eb03f,_0x356536){const _0x1a7af6=a333_0x1a6ec8;this[_0x1a7af6(0x136)]=_0x1eb03f,this[_0x1a7af6(0x10e)]=_0x356536,this[_0x1a7af6(0x121)]=_0x46e4b5[_0x1a7af6(0x116)];const _0xee51ec=new empty_logger_1[(_0x1a7af6(0x111))]();this[_0x1a7af6(0x12b)]=new veeva_service_1[(_0x1a7af6(0x132))]({'connection':this[_0x1a7af6(0x10e)],'logger':_0xee51ec}),this[_0x1a7af6(0x134)]=new salesforce_service_1['SalesforceService']({'connection':this[_0x1a7af6(0x136)]});}get['baseVeevaComponentRetrieverOptions'](){const _0x595e2a=a333_0x1a6ec8;return{'veevaService':this[_0x595e2a(0x12b)],'logger':new empty_logger_1['EmptyLogger']()};}async['execute'](){const _0x412cc6=a333_0x1a6ec8,_0x38ba8f=await this[_0x412cc6(0x142)](),_0x15c908=await this[_0x412cc6(0x141)](_0x38ba8f),_0xe44307=await this[_0x412cc6(0x131)](_0x15c908),_0x375aaf=_0xe44307[_0x412cc6(0x133)](_0x4933e4=>_0x4933e4[_0x412cc6(0x126)]),_0x361bd3=await this['getVeevaComponentsById'](_0x375aaf),_0x3678a0=DependencyService['createDataResult'](_0x15c908,_0x361bd3,_0xe44307);return{'responseStatus':status_enums_1[_0x412cc6(0x140)][_0x412cc6(0x12d)],'data':_0x3678a0};}async[a333_0x1a6ec8(0x142)](){const _0x5a84ff=a333_0x1a6ec8,_0x338615=await new branch_flosum_component_retriever_1[(_0x5a84ff(0x110))]({'value':this[_0x5a84ff(0x121)],'salesforceService':this[_0x5a84ff(0x134)]})[_0x5a84ff(0x113)]();if(!_0x338615[_0x5a84ff(0x137)])throw new Error('No\x20veeva\x20components\x20found\x20in\x20branch');return _0x338615;}async[a333_0x1a6ec8(0x141)](_0x32dc6d){const _0x50ab11=a333_0x1a6ec8,_0xc9c5ee=await new flosum_component_veeva_component_retriever_1[(_0x50ab11(0x11e))]({'value':_0x32dc6d,...this[_0x50ab11(0x124)]})[_0x50ab11(0x113)]();if(!_0xc9c5ee[_0x50ab11(0x137)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0xc9c5ee;}async[a333_0x1a6ec8(0x11b)](_0x1f4149){const _0x27f2af=a333_0x1a6ec8,_0x2f58f1=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x1f4149,...this[_0x27f2af(0x124)]})['retrieve']();if(!_0x2f58f1[_0x27f2af(0x137)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x2f58f1;}async[a333_0x1a6ec8(0x131)](_0x559ce2){const _0x1b3250=a333_0x1a6ec8,_0x14d822=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x559ce2[_0x1b3250(0x133)](({id:_0x2bdc8b})=>_0x2bdc8b),'veevaService':this[_0x1b3250(0x12b)]})['retrieve']();if(!_0x14d822[_0x1b3250(0x137)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x14d822;}static['createDataResult'](_0xa22d7a,_0x2de486,_0x54218e){const _0x4533e7=a333_0x1a6ec8,_0x59b0f2={},_0x5842b9=_0xa22d7a[_0x4533e7(0x11c)]((_0x5c9dcb,_0x4a55d6)=>_0x5c9dcb[_0x4533e7(0x119)](_0x4a55d6['id'],_0x4a55d6),new Map()),_0xc4067f=_0x2de486[_0x4533e7(0x11c)]((_0x6a10d,_0x2f19f8)=>_0x6a10d[_0x4533e7(0x119)](_0x2f19f8['id'],_0x2f19f8),new Map());for(const _0xaedd3e of _0x54218e){const _0xbf446d=_0x5842b9['has'](_0xaedd3e[_0x4533e7(0x13d)])&&_0xc4067f['has'](_0xaedd3e[_0x4533e7(0x126)]);if(!_0xbf446d)continue;const _0x47331d=_0x5842b9[_0x4533e7(0x115)](_0xaedd3e[_0x4533e7(0x13d)]),_0x5cb40b=_0xc4067f[_0x4533e7(0x115)](_0xaedd3e[_0x4533e7(0x126)]);!_0x59b0f2[_0x47331d[_0x4533e7(0x11d)]+':'+_0x47331d[_0x4533e7(0x129)]]&&(_0x59b0f2[_0x47331d[_0x4533e7(0x11d)]+':'+_0x47331d[_0x4533e7(0x129)]]={'dependencies':[],'label':_0x47331d[_0x4533e7(0x11d)]+'\x20('+_0x47331d['type']+')','type':_0x47331d[_0x4533e7(0x129)],'name':_0x47331d['name']}),_0x59b0f2[_0x47331d[_0x4533e7(0x11d)]+':'+_0x47331d['type']][_0x4533e7(0x138)][_0x4533e7(0x13f)]({'label':_0x5cb40b['name']+'\x20('+_0x5cb40b[_0x4533e7(0x129)]+')','name':_0x5cb40b[_0x4533e7(0x11d)],'type':_0x5cb40b['type'],'lastUpdate':_0x5cb40b[_0x4533e7(0x123)],'isMissing':!_0x5842b9[_0x4533e7(0x114)](_0xaedd3e[_0x4533e7(0x126)])});}return _0x59b0f2;}}exports['DependencyService']=DependencyService;