const a356_0x33c2f6=a356_0x1592;(function(_0x38a587,_0x2afdbe){const _0x5b527d=a356_0x1592,_0x3d16dd=_0x38a587();while(!![]){try{const _0x195f23=parseInt(_0x5b527d(0x1fc))/0x1+-parseInt(_0x5b527d(0x1e6))/0x2+-parseInt(_0x5b527d(0x1d7))/0x3*(parseInt(_0x5b527d(0x203))/0x4)+-parseInt(_0x5b527d(0x20c))/0x5*(parseInt(_0x5b527d(0x210))/0x6)+-parseInt(_0x5b527d(0x208))/0x7+parseInt(_0x5b527d(0x206))/0x8*(parseInt(_0x5b527d(0x207))/0x9)+-parseInt(_0x5b527d(0x1f4))/0xa*(-parseInt(_0x5b527d(0x1da))/0xb);if(_0x195f23===_0x2afdbe)break;else _0x3d16dd['push'](_0x3d16dd['shift']());}catch(_0xa3a537){_0x3d16dd['push'](_0x3d16dd['shift']());}}}(a356_0x10b6,0xcffe3));const a356_0x4911b8=(function(){let _0x454988=!![];return function(_0x513534,_0x1abbce){const _0x188d59=_0x454988?function(){const _0x5b35a5=a356_0x1592;if(_0x1abbce){const _0x2462b0=_0x1abbce[_0x5b35a5(0x1e1)](_0x513534,arguments);return _0x1abbce=null,_0x2462b0;}}:function(){};return _0x454988=![],_0x188d59;};}()),a356_0x4b2c06=a356_0x4911b8(this,function(){const _0x4ecf82=a356_0x1592;return a356_0x4b2c06[_0x4ecf82(0x1d8)]()[_0x4ecf82(0x209)](_0x4ecf82(0x20f))['toString']()['constructor'](a356_0x4b2c06)[_0x4ecf82(0x209)](_0x4ecf82(0x20f));});a356_0x4b2c06();function a356_0x1592(_0x36e229,_0x405c9e){const _0x10ee99=a356_0x10b6();return a356_0x1592=function(_0x4b2c06,_0x4911b8){_0x4b2c06=_0x4b2c06-0x1d7;let _0x10b694=_0x10ee99[_0x4b2c06];return _0x10b694;},a356_0x1592(_0x36e229,_0x405c9e);}'use strict';Object[a356_0x33c2f6(0x1ef)](exports,a356_0x33c2f6(0x1fa),{'value':!![]}),exports['DependencyService']=void 0x0;const veeva_service_1=require(a356_0x33c2f6(0x20d)),status_enums_1=require(a356_0x33c2f6(0x1db)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require(a356_0x33c2f6(0x1e0)),flosum_component_veeva_component_retriever_1=require(a356_0x33c2f6(0x212)),id_veeva_component_retriever_1=require(a356_0x33c2f6(0x1f9)),source_id_veeva_component_relationship_retriever_1=require(a356_0x33c2f6(0x204)),branch_flosum_component_retriever_1=require(a356_0x33c2f6(0x200));function a356_0x10b6(){const _0x40d2f8=['has','getVeevaComponentsByFlosumComponents','EmptyLogger','reduce','3273600HFFeMu','SUCCESS','DependencyService','retrieve','getVeevaComponentsById','dependencies','SourceIdVeevaComponentRelationshipRetriever','No\x20veeva\x20components\x20found\x20in\x20branch','push','defineProperty','get','BranchFlosumComponentRetriever','_veevaService','_salesforceService','10SdUusz','set','getDependencyVeevaComponents','lastModifiedDate','targetComponentId','../classes/retrievers/veeva-components/id.veeva-component.retriever','__esModule','getFlosumComponents','1340094eccDnw','length','VeevaService','SalesforceService','../classes/retrievers/flosum-components/branch.flosum-component.retriever','baseVeevaComponentRetrieverOptions','No\x20dependency\x20components\x20found\x20in\x20Veeva','3363044DYesZl','../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever','_connectionSalesforce','1064UWcnRd','54558vquJdy','9779035jtzdKi','search','sourceComponentId','map','5239270eUWCRx','./veeva.service','_branchId','(((.+)+)+)+$','6vpQujj','createDataResult','../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever','No\x20components\x20found\x20in\x20Veeva','3apDSRG','toString','_connectionVeeva','39908209xgUKtn','../enums/status.enums','type','name','branchId','AppResponseStatus','../classes/loggers/empty.logger','apply'];a356_0x10b6=function(){return _0x40d2f8;};return a356_0x10b6();}class DependencyService{constructor(_0x41b117,_0x3143dc,_0x274cb7){const _0x4ddf9d=a356_0x33c2f6;this['_connectionSalesforce']=_0x3143dc,this[_0x4ddf9d(0x1d9)]=_0x274cb7,this[_0x4ddf9d(0x20e)]=_0x41b117[_0x4ddf9d(0x1de)];const _0xc14eba=new empty_logger_1[(_0x4ddf9d(0x1e4))]();this[_0x4ddf9d(0x1f2)]=new veeva_service_1[(_0x4ddf9d(0x1fe))]({'connection':this[_0x4ddf9d(0x1d9)],'logger':_0xc14eba}),this[_0x4ddf9d(0x1f3)]=new salesforce_service_1[(_0x4ddf9d(0x1ff))]({'connection':this[_0x4ddf9d(0x205)]});}get['baseVeevaComponentRetrieverOptions'](){const _0x4a0146=a356_0x33c2f6;return{'veevaService':this[_0x4a0146(0x1f2)],'logger':new empty_logger_1['EmptyLogger']()};}async['execute'](){const _0x2da178=a356_0x33c2f6,_0x4cd2d2=await this[_0x2da178(0x1fb)](),_0x2106da=await this['getVeevaComponentsByFlosumComponents'](_0x4cd2d2),_0x20af1b=await this[_0x2da178(0x1f6)](_0x2106da),_0x47d13b=_0x20af1b['map'](_0x2fe11a=>_0x2fe11a[_0x2da178(0x1f8)]),_0x3d8bba=await this[_0x2da178(0x1ea)](_0x47d13b),_0x354f5f=DependencyService['createDataResult'](_0x2106da,_0x3d8bba,_0x20af1b);return{'responseStatus':status_enums_1[_0x2da178(0x1df)][_0x2da178(0x1e7)],'data':_0x354f5f};}async['getFlosumComponents'](){const _0x169311=a356_0x33c2f6,_0x308ab9=await new branch_flosum_component_retriever_1[(_0x169311(0x1f1))]({'value':this[_0x169311(0x20e)],'salesforceService':this[_0x169311(0x1f3)]})[_0x169311(0x1e9)]();if(!_0x308ab9['length'])throw new Error(_0x169311(0x1ed));return _0x308ab9;}async[a356_0x33c2f6(0x1e3)](_0x15189b){const _0x45a31e=a356_0x33c2f6,_0x1951ef=await new flosum_component_veeva_component_retriever_1['FlosumComponentVeevaComponentRetriever']({'value':_0x15189b,...this['baseVeevaComponentRetrieverOptions']})['retrieve']();if(!_0x1951ef[_0x45a31e(0x1fd)])throw new Error(_0x45a31e(0x213));return _0x1951ef;}async[a356_0x33c2f6(0x1ea)](_0x4e3750){const _0x5b3434=a356_0x33c2f6,_0x5edadc=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x4e3750,...this[_0x5b3434(0x201)]})[_0x5b3434(0x1e9)]();if(!_0x5edadc[_0x5b3434(0x1fd)])throw new Error(_0x5b3434(0x202));return _0x5edadc;}async[a356_0x33c2f6(0x1f6)](_0x22bfb8){const _0x4f857a=a356_0x33c2f6,_0x590352=await new source_id_veeva_component_relationship_retriever_1[(_0x4f857a(0x1ec))]({'value':_0x22bfb8[_0x4f857a(0x20b)](({id:_0x578b4b})=>_0x578b4b),'veevaService':this[_0x4f857a(0x1f2)]})[_0x4f857a(0x1e9)]();if(!_0x590352[_0x4f857a(0x1fd)])throw new Error('No\x20relationship\x20found\x20in\x20Veeva');return _0x590352;}static[a356_0x33c2f6(0x211)](_0x42fc32,_0x12dcf5,_0x6fe1a1){const _0x40c641=a356_0x33c2f6,_0x1181bc={},_0x2b3c2b=_0x42fc32[_0x40c641(0x1e5)]((_0x3ee8cc,_0x480500)=>_0x3ee8cc[_0x40c641(0x1f5)](_0x480500['id'],_0x480500),new Map()),_0x57c863=_0x12dcf5[_0x40c641(0x1e5)]((_0x3da070,_0x559207)=>_0x3da070[_0x40c641(0x1f5)](_0x559207['id'],_0x559207),new Map());for(const _0x249b6a of _0x6fe1a1){const _0x5830f1=_0x2b3c2b[_0x40c641(0x1e2)](_0x249b6a[_0x40c641(0x20a)])&&_0x57c863[_0x40c641(0x1e2)](_0x249b6a[_0x40c641(0x1f8)]);if(!_0x5830f1)continue;const _0x5fe3ca=_0x2b3c2b['get'](_0x249b6a[_0x40c641(0x20a)]),_0xfc1073=_0x57c863[_0x40c641(0x1f0)](_0x249b6a[_0x40c641(0x1f8)]);!_0x1181bc[_0x5fe3ca[_0x40c641(0x1dd)]+':'+_0x5fe3ca[_0x40c641(0x1dc)]]&&(_0x1181bc[_0x5fe3ca[_0x40c641(0x1dd)]+':'+_0x5fe3ca[_0x40c641(0x1dc)]]={'dependencies':[],'label':_0x5fe3ca[_0x40c641(0x1dd)]+'\x20('+_0x5fe3ca[_0x40c641(0x1dc)]+')','type':_0x5fe3ca['type'],'name':_0x5fe3ca['name']}),_0x1181bc[_0x5fe3ca[_0x40c641(0x1dd)]+':'+_0x5fe3ca[_0x40c641(0x1dc)]][_0x40c641(0x1eb)][_0x40c641(0x1ee)]({'label':_0xfc1073[_0x40c641(0x1dd)]+'\x20('+_0xfc1073[_0x40c641(0x1dc)]+')','name':_0xfc1073['name'],'type':_0xfc1073[_0x40c641(0x1dc)],'lastUpdate':_0xfc1073[_0x40c641(0x1f7)],'isMissing':!_0x2b3c2b['has'](_0x249b6a[_0x40c641(0x1f8)])});}return _0x1181bc;}}exports[a356_0x33c2f6(0x1e8)]=DependencyService;