const a400_0xb5beb0=a400_0x341e;(function(_0x47b215,_0xaa5108){const _0x1a41fc=a400_0x341e,_0x537d1b=_0x47b215();while(!![]){try{const _0x519ab0=parseInt(_0x1a41fc(0x1f6))/0x1+parseInt(_0x1a41fc(0x1dd))/0x2*(-parseInt(_0x1a41fc(0x1e0))/0x3)+parseInt(_0x1a41fc(0x20d))/0x4*(-parseInt(_0x1a41fc(0x1e3))/0x5)+parseInt(_0x1a41fc(0x1f8))/0x6*(-parseInt(_0x1a41fc(0x1ed))/0x7)+-parseInt(_0x1a41fc(0x20e))/0x8*(parseInt(_0x1a41fc(0x1f0))/0x9)+parseInt(_0x1a41fc(0x1e7))/0xa+parseInt(_0x1a41fc(0x210))/0xb*(parseInt(_0x1a41fc(0x209))/0xc);if(_0x519ab0===_0xaa5108)break;else _0x537d1b['push'](_0x537d1b['shift']());}catch(_0x11d600){_0x537d1b['push'](_0x537d1b['shift']());}}}(a400_0xd84e,0xa8ff6));function a400_0x341e(_0x4b4e1c,_0x3625b9){const _0x3517e1=a400_0xd84e();return a400_0x341e=function(_0x1d0654,_0x18785f){_0x1d0654=_0x1d0654-0x1db;let _0xd84ebf=_0x3517e1[_0x1d0654];return _0xd84ebf;},a400_0x341e(_0x4b4e1c,_0x3625b9);}const a400_0x18785f=(function(){let _0x5208ed=!![];return function(_0x460924,_0x1d38ac){const _0x3cc67b=_0x5208ed?function(){const _0x391cdd=a400_0x341e;if(_0x1d38ac){const _0x347d93=_0x1d38ac[_0x391cdd(0x1f7)](_0x460924,arguments);return _0x1d38ac=null,_0x347d93;}}:function(){};return _0x5208ed=![],_0x3cc67b;};}()),a400_0x1d0654=a400_0x18785f(this,function(){const _0x594362=a400_0x341e;return a400_0x1d0654[_0x594362(0x20f)]()['search'](_0x594362(0x1db))[_0x594362(0x20f)]()[_0x594362(0x1fa)](a400_0x1d0654)['search'](_0x594362(0x1db));});function a400_0xd84e(){const _0x278c10=['120qlfffS','_veevaService','createDataResult','length','13556500cDtHHI','retrieve','targetComponentId','SUCCESS','execute','getFlosumComponents','7BmhLjP','No\x20relationship\x20found\x20in\x20Veeva','reduce','9KzUgFJ','getVeevaComponentsById','defineProperty','EmptyLogger','SalesforceService','../classes/retrievers/flosum-components/branch.flosum-component.retriever','1005649HHiQCb','apply','5587170rsfpAH','../classes/retrievers/veeva-components/id.veeva-component.retriever','constructor','dependencies','__esModule','../classes/loggers/empty.logger','AppResponseStatus','name','type','push','lastModifiedDate','DependencyService','_connectionSalesforce','_connectionVeeva','get','has','set','2664fRasAb','No\x20veeva\x20components\x20found\x20in\x20branch','getDependencyVeevaComponents','map','176064CGjIvO','4057784tTNGZZ','toString','104731JnvIJn','_salesforceService','branchId','(((.+)+)+)+$','getVeevaComponentsByFlosumComponents','2575890HQgREW','sourceComponentId','baseVeevaComponentRetrieverOptions','3DLgomM','_branchId','../enums/status.enums'];a400_0xd84e=function(){return _0x278c10;};return a400_0xd84e();}a400_0x1d0654();'use strict';Object[a400_0xb5beb0(0x1f2)](exports,a400_0xb5beb0(0x1fc),{'value':!![]}),exports[a400_0xb5beb0(0x203)]=void 0x0;const veeva_service_1=require('./veeva.service'),status_enums_1=require(a400_0xb5beb0(0x1e2)),salesforce_service_1=require('./salesforce.service'),empty_logger_1=require(a400_0xb5beb0(0x1fd)),flosum_component_veeva_component_retriever_1=require('../classes/retrievers/veeva-components/flosum-component.veeva-component.retriever'),id_veeva_component_retriever_1=require(a400_0xb5beb0(0x1f9)),source_id_veeva_component_relationship_retriever_1=require('../classes/retrievers/veeva-component-relationships/source-id.veeva-component-relationship.retriever'),branch_flosum_component_retriever_1=require(a400_0xb5beb0(0x1f5));class DependencyService{constructor(_0x3c2526,_0x5093cd,_0x46f617){const _0xbd975e=a400_0xb5beb0;this[_0xbd975e(0x204)]=_0x5093cd,this[_0xbd975e(0x205)]=_0x46f617,this['_branchId']=_0x3c2526[_0xbd975e(0x212)];const _0x5c2a19=new empty_logger_1[(_0xbd975e(0x1f3))]();this[_0xbd975e(0x1e4)]=new veeva_service_1['VeevaService']({'connection':this['_connectionVeeva'],'logger':_0x5c2a19}),this[_0xbd975e(0x211)]=new salesforce_service_1[(_0xbd975e(0x1f4))]({'connection':this['_connectionSalesforce']});}get[a400_0xb5beb0(0x1df)](){const _0x58f052=a400_0xb5beb0;return{'veevaService':this[_0x58f052(0x1e4)],'logger':new empty_logger_1['EmptyLogger']()};}async[a400_0xb5beb0(0x1eb)](){const _0x1b876f=a400_0xb5beb0,_0x4327b5=await this['getFlosumComponents'](),_0x2c5025=await this['getVeevaComponentsByFlosumComponents'](_0x4327b5),_0x39f148=await this[_0x1b876f(0x20b)](_0x2c5025),_0x3d8e48=_0x39f148[_0x1b876f(0x20c)](_0x74de99=>_0x74de99[_0x1b876f(0x1e9)]),_0x4dfe60=await this['getVeevaComponentsById'](_0x3d8e48),_0x484158=DependencyService[_0x1b876f(0x1e5)](_0x2c5025,_0x4dfe60,_0x39f148);return{'responseStatus':status_enums_1[_0x1b876f(0x1fe)][_0x1b876f(0x1ea)],'data':_0x484158};}async[a400_0xb5beb0(0x1ec)](){const _0xfaffd3=a400_0xb5beb0,_0x42924b=await new branch_flosum_component_retriever_1['BranchFlosumComponentRetriever']({'value':this[_0xfaffd3(0x1e1)],'salesforceService':this[_0xfaffd3(0x211)]})[_0xfaffd3(0x1e8)]();if(!_0x42924b[_0xfaffd3(0x1e6)])throw new Error(_0xfaffd3(0x20a));return _0x42924b;}async[a400_0xb5beb0(0x1dc)](_0x3fa04b){const _0x28a7f3=a400_0xb5beb0,_0x29575b=await new flosum_component_veeva_component_retriever_1['FlosumComponentVeevaComponentRetriever']({'value':_0x3fa04b,...this[_0x28a7f3(0x1df)]})[_0x28a7f3(0x1e8)]();if(!_0x29575b[_0x28a7f3(0x1e6)])throw new Error('No\x20components\x20found\x20in\x20Veeva');return _0x29575b;}async[a400_0xb5beb0(0x1f1)](_0x5533a5){const _0x238311=a400_0xb5beb0,_0x57bed2=await new id_veeva_component_retriever_1['IdVeevaComponentRetriever']({'value':_0x5533a5,...this[_0x238311(0x1df)]})[_0x238311(0x1e8)]();if(!_0x57bed2[_0x238311(0x1e6)])throw new Error('No\x20dependency\x20components\x20found\x20in\x20Veeva');return _0x57bed2;}async[a400_0xb5beb0(0x20b)](_0x5df5fb){const _0x28b066=a400_0xb5beb0,_0x5c667e=await new source_id_veeva_component_relationship_retriever_1['SourceIdVeevaComponentRelationshipRetriever']({'value':_0x5df5fb[_0x28b066(0x20c)](({id:_0xa3c556})=>_0xa3c556),'veevaService':this['_veevaService']})[_0x28b066(0x1e8)]();if(!_0x5c667e[_0x28b066(0x1e6)])throw new Error(_0x28b066(0x1ee));return _0x5c667e;}static[a400_0xb5beb0(0x1e5)](_0x38687e,_0x49e7b5,_0x5e9f5d){const _0x31fdd2=a400_0xb5beb0,_0x304b46={},_0x26eab9=_0x38687e[_0x31fdd2(0x1ef)]((_0x5ebc0c,_0x517888)=>_0x5ebc0c[_0x31fdd2(0x208)](_0x517888['id'],_0x517888),new Map()),_0x5b1ede=_0x49e7b5[_0x31fdd2(0x1ef)]((_0x35493d,_0x319be5)=>_0x35493d[_0x31fdd2(0x208)](_0x319be5['id'],_0x319be5),new Map());for(const _0x225638 of _0x5e9f5d){const _0x1a5560=_0x26eab9[_0x31fdd2(0x207)](_0x225638[_0x31fdd2(0x1de)])&&_0x5b1ede[_0x31fdd2(0x207)](_0x225638['targetComponentId']);if(!_0x1a5560)continue;const _0x11e73a=_0x26eab9[_0x31fdd2(0x206)](_0x225638[_0x31fdd2(0x1de)]),_0x4cd893=_0x5b1ede[_0x31fdd2(0x206)](_0x225638[_0x31fdd2(0x1e9)]);!_0x304b46[_0x11e73a['name']+':'+_0x11e73a[_0x31fdd2(0x200)]]&&(_0x304b46[_0x11e73a['name']+':'+_0x11e73a[_0x31fdd2(0x200)]]={'dependencies':[],'label':_0x11e73a['name']+'\x20('+_0x11e73a[_0x31fdd2(0x200)]+')','type':_0x11e73a['type'],'name':_0x11e73a[_0x31fdd2(0x1ff)]}),_0x304b46[_0x11e73a[_0x31fdd2(0x1ff)]+':'+_0x11e73a['type']][_0x31fdd2(0x1fb)][_0x31fdd2(0x201)]({'label':_0x4cd893[_0x31fdd2(0x1ff)]+'\x20('+_0x4cd893['type']+')','name':_0x4cd893['name'],'type':_0x4cd893[_0x31fdd2(0x200)],'lastUpdate':_0x4cd893[_0x31fdd2(0x202)],'isMissing':!_0x26eab9[_0x31fdd2(0x207)](_0x225638['targetComponentId'])});}return _0x304b46;}}exports[a400_0xb5beb0(0x203)]=DependencyService;