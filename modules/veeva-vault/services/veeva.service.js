const a258_0x37506b=a258_0x890a;(function(_0x396b3a,_0x439dee){const _0x216f4e=a258_0x890a,_0x3707b6=_0x396b3a();while(!![]){try{const _0x1a1c17=parseInt(_0x216f4e(0x1b0))/0x1*(parseInt(_0x216f4e(0x19d))/0x2)+parseInt(_0x216f4e(0x180))/0x3+parseInt(_0x216f4e(0x1ac))/0x4*(-parseInt(_0x216f4e(0x181))/0x5)+-parseInt(_0x216f4e(0x193))/0x6*(-parseInt(_0x216f4e(0x1a7))/0x7)+-parseInt(_0x216f4e(0x188))/0x8*(-parseInt(_0x216f4e(0x19b))/0x9)+parseInt(_0x216f4e(0x1aa))/0xa+-parseInt(_0x216f4e(0x1a5))/0xb;if(_0x1a1c17===_0x439dee)break;else _0x3707b6['push'](_0x3707b6['shift']());}catch(_0xedb8ad){_0x3707b6['push'](_0x3707b6['shift']());}}}(a258_0x17aa,0x5b831));const a258_0x49c98d=(function(){let _0x480f50=!![];return function(_0x268f8c,_0x4a679d){const _0x2f2d32=_0x480f50?function(){const _0x13b97a=a258_0x890a;if(_0x4a679d){const _0x1574c0=_0x4a679d[_0x13b97a(0x196)](_0x268f8c,arguments);return _0x4a679d=null,_0x1574c0;}}:function(){};return _0x480f50=![],_0x2f2d32;};}()),a258_0x18bb85=a258_0x49c98d(this,function(){const _0x409ddb=a258_0x890a;return a258_0x18bb85[_0x409ddb(0x192)]()[_0x409ddb(0x18a)](_0x409ddb(0x18b))['toString']()[_0x409ddb(0x1a3)](a258_0x18bb85)[_0x409ddb(0x18a)](_0x409ddb(0x18b));});a258_0x18bb85();function a258_0x17aa(){const _0x37044f=['VeevaService','createVeevaObjectRecords','post','2hYnrxK','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','errors','flat','executeVQL','chunkArray','Unknown\x20Job\x20status\x20:\x20\x27','944598iZurBM','1046930eqjjbu','push','defineProperty','getJobResult','../classes/errors/veeva-error','application/json','MISSED_SCHEDULE','364736xkREDg','__esModule','search','(((.+)+)+)+$','CANCELLED','sleep','VeevaJobStatus','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','data','QUEUED','toString','4457190PKbGAR','JOB_STATUS_TIMEOUT','Creating\x20','apply','CREATE_RECORDS_LIMIT','VeevaResponseStatus','status','log','45mhIrfv','VeevaError','133784vgGFIF','QUEUEING','responseStatus','length','SCHEDULED','delete','constructor','SUCCESS','9912331VRurZs','Deleting\x20','7kIkEtY','get','map','4846370FhEqLq','\x20records.','12tVaMVD'];a258_0x17aa=function(){return _0x37044f;};return a258_0x17aa();}'use strict';Object[a258_0x37506b(0x183)](exports,a258_0x37506b(0x189),{'value':!![]}),exports['VeevaService']=void 0x0;const utils_1=require('../../shared/utils'),status_enums_1=require('../enums/status.enums'),veeva_error_1=require(a258_0x37506b(0x185));function a258_0x890a(_0x4e0b9d,_0x2bb15e){const _0x134cfb=a258_0x17aa();return a258_0x890a=function(_0x18bb85,_0x49c98d){_0x18bb85=_0x18bb85-0x17c;let _0x17aafa=_0x134cfb[_0x18bb85];return _0x17aafa;},a258_0x890a(_0x4e0b9d,_0x2bb15e);}class VeevaService{static async['executeManyVQL'](_0x21541a,_0x5674a9){const _0x3f1e5b=a258_0x37506b,_0xa5f6b8=[];for(const _0x492ab9 of _0x21541a){_0xa5f6b8[_0x3f1e5b(0x182)](this['executeVQL'](_0x492ab9,_0x5674a9));}const _0x40ea0c=await Promise['all'](_0xa5f6b8);return _0x40ea0c[_0x3f1e5b(0x17c)]();}static async[a258_0x37506b(0x17d)](_0xcb50b4,_0x3355e9){const _0x58d3af=a258_0x37506b,_0x172300=[];do{const _0x45718e=await _0x3355e9['get'](_0xcb50b4),_0x54b1c4=_0x45718e[_0x58d3af(0x190)];if(_0x54b1c4[_0x58d3af(0x19f)]===status_enums_1['VeevaResponseStatus'][_0x58d3af(0x1a4)]){const {responseDetails:{next_page:_0x5be644},data:_0x537a23}=_0x54b1c4;_0xcb50b4=_0x5be644||null,_0x172300[_0x58d3af(0x182)](..._0x537a23);}else throw new veeva_error_1['VeevaError'](_0x54b1c4[_0x58d3af(0x1b2)]);}while(_0xcb50b4);return _0x172300;}static async[a258_0x37506b(0x1ae)](_0x3edce0,_0x216789,_0x4fd0da,_0xa5e8ae){const _0x21b07e=a258_0x37506b,_0x37925c=[],_0x286e01=(0x0,utils_1[_0x21b07e(0x17e)])(_0x4fd0da,VeevaService[_0x21b07e(0x197)]),_0x4db9fe=_0x4fd0da[_0x21b07e(0x1a0)];let _0x23f279=0x0;for(const _0x4ff60a of _0x286e01){_0x23f279+=_0x4ff60a[_0x21b07e(0x1a0)],_0xa5e8ae['log'](_0x21b07e(0x195)+_0x23f279+'/'+_0x4db9fe+_0x21b07e(0x1ab));const _0x1701bd=await _0x216789[_0x21b07e(0x1af)](_0x3edce0,_0x4ff60a),_0x887592=_0x1701bd[_0x21b07e(0x190)];if(_0x887592[_0x21b07e(0x19f)]===status_enums_1[_0x21b07e(0x198)][_0x21b07e(0x1a4)])for(const {responseStatus:_0x2c2660,data:_0x30586c}of _0x887592[_0x21b07e(0x190)]){if(_0x2c2660===status_enums_1[_0x21b07e(0x198)][_0x21b07e(0x1a4)])_0x37925c['push'](_0x30586c['id']);else throw new veeva_error_1[(_0x21b07e(0x19c))](_0x887592[_0x21b07e(0x1b2)]);}else throw new veeva_error_1[(_0x21b07e(0x19c))](_0x887592[_0x21b07e(0x1b2)]);}return _0x37925c;}static async['deleteVeevaObjectRecords'](_0x3a67f3,_0x4c5c59,_0x55291b,_0x5c4c12){const _0x587235=a258_0x37506b,_0x393950=_0x55291b[_0x587235(0x1a9)](_0xa1ea35=>({'id':_0xa1ea35})),_0x54043b=(0x0,utils_1['chunkArray'])(_0x393950,VeevaService['DELETE_RECORDS_LIMIT']);let _0x59aa3c=0x0;for(const _0x20acc3 of _0x54043b){_0x59aa3c+=_0x20acc3[_0x587235(0x1a0)],_0x5c4c12[_0x587235(0x19a)](_0x587235(0x1a6)+_0x59aa3c+'/'+_0x55291b['length']+'\x20records');const {data:_0x520457}=await _0x4c5c59[_0x587235(0x1a2)](_0x3a67f3,{'headers':{'Content-Type':_0x587235(0x186)},'data':_0x20acc3});if(_0x520457[_0x587235(0x19f)]===status_enums_1[_0x587235(0x198)][_0x587235(0x1a4)])for(const _0x26b89d of _0x520457[_0x587235(0x190)]){const {responseStatus:_0x12aa07,errors:_0x39dd61}=_0x26b89d;if(_0x12aa07!==status_enums_1[_0x587235(0x198)]['SUCCESS'])throw new veeva_error_1[(_0x587235(0x19c))](_0x39dd61);}else throw new veeva_error_1[(_0x587235(0x19c))](_0x520457[_0x587235(0x1b2)]);}}static async[a258_0x37506b(0x184)](_0x5474e4,_0x150310,_0x116248){const _0x425cf4=a258_0x37506b,_0x36980b=[];do{_0x116248[_0x425cf4(0x19a)](_0x425cf4(0x1b1)),await(0x0,utils_1[_0x425cf4(0x18d)])(VeevaService[_0x425cf4(0x194)]);const _0x14c839=[];for(const _0x58c9a3 of _0x5474e4){const {data:_0x14c087}=await _0x150310[_0x425cf4(0x1a8)](_0x58c9a3);if(_0x14c087[_0x425cf4(0x19f)]===status_enums_1[_0x425cf4(0x198)][_0x425cf4(0x1a4)]){const {data:_0x3c824c}=_0x14c087;switch(_0x3c824c[_0x425cf4(0x199)]){case status_enums_1[_0x425cf4(0x18e)][_0x425cf4(0x1a4)]:case status_enums_1[_0x425cf4(0x18e)]['ERRORS_ENCOUNTERED']:_0x36980b['push'](_0x3c824c);break;case status_enums_1[_0x425cf4(0x18e)][_0x425cf4(0x19e)]:case status_enums_1[_0x425cf4(0x18e)][_0x425cf4(0x18c)]:case status_enums_1['VeevaJobStatus'][_0x425cf4(0x187)]:throw new Error(_0x425cf4(0x18f)+_0x3c824c[_0x425cf4(0x199)]);case status_enums_1[_0x425cf4(0x18e)][_0x425cf4(0x191)]:case status_enums_1[_0x425cf4(0x18e)]['RUNNING']:case status_enums_1[_0x425cf4(0x18e)][_0x425cf4(0x1a1)]:_0x14c839[_0x425cf4(0x182)](_0x58c9a3);break;default:throw new Error(_0x425cf4(0x17f)+_0x3c824c[_0x425cf4(0x199)]+'\x27');}}else throw new veeva_error_1[(_0x425cf4(0x19c))](_0x14c087[_0x425cf4(0x1b2)]);}_0x5474e4=_0x14c839;}while(_0x5474e4['length']);return _0x36980b;}}exports[a258_0x37506b(0x1ad)]=VeevaService,VeevaService[a258_0x37506b(0x194)]=0x2710,VeevaService[a258_0x37506b(0x197)]=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;