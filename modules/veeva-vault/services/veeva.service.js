function a407_0x48d4(){const _0xe0c064=['push','constructor','sleep','status','_connection','apply','responseStatus','Deleting\x20','189730kAHmUY','5205536UyuQUi','MISSED_SCHEDULE','CREATE_RECORDS_LIMIT','map','(((.+)+)+)+$','ENDPOINT_VQL','VeevaResponseStatus','VeevaJobStatus','967126yOmfri','length','759090TiUPjG','VeevaError','VeevaService','chunkArray','delete','executeManyVQL','2824172Edngei','search','1FaWOEH','\x20records','RUNNING','../constants/veeva.constants','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','SCHEDULED','Creating\x20','40601FifzUf','post','DELETE_RECORDS_LIMIT','../enums/status.enums','ERRORS_ENCOUNTERED','QUEUED','application/json','flat','createVeevaObjectRecords','3MRtbca','3420gvFalY','toString','__esModule','get','data','../classes/errors/veeva-error','287OvFiOm','26544fSZbAH','Unknown\x20Job\x20status\x20:\x20\x27','JOB_STATUS_TIMEOUT','QUEUEING','../../shared/utils','459nKaIjb','\x20records.','_logger','executeVQL','errors','log','SUCCESS','deleteVeevaObjectRecords'];a407_0x48d4=function(){return _0xe0c064;};return a407_0x48d4();}const a407_0x558ba1=a407_0x3b95;(function(_0x6bbd7d,_0x39c3ca){const _0x16ad0b=a407_0x3b95,_0x45931c=_0x6bbd7d();while(!![]){try{const _0x296f88=-parseInt(_0x16ad0b(0x1de))/0x1*(-parseInt(_0x16ad0b(0x1d4))/0x2)+parseInt(_0x16ad0b(0x1ae))/0x3*(-parseInt(_0x16ad0b(0x1dc))/0x4)+-parseInt(_0x16ad0b(0x1d6))/0x5+-parseInt(_0x16ad0b(0x1b6))/0x6*(-parseInt(_0x16ad0b(0x1b5))/0x7)+parseInt(_0x16ad0b(0x1cc))/0x8+parseInt(_0x16ad0b(0x1bb))/0x9*(-parseInt(_0x16ad0b(0x1cb))/0xa)+-parseInt(_0x16ad0b(0x1e5))/0xb*(-parseInt(_0x16ad0b(0x1af))/0xc);if(_0x296f88===_0x39c3ca)break;else _0x45931c['push'](_0x45931c['shift']());}catch(_0x2d577b){_0x45931c['push'](_0x45931c['shift']());}}}(a407_0x48d4,0x8458a));const a407_0x1a532a=(function(){let _0x520d4c=!![];return function(_0xa19abb,_0x48a0dd){const _0x45b36d=_0x520d4c?function(){const _0x438bee=a407_0x3b95;if(_0x48a0dd){const _0x6f9235=_0x48a0dd[_0x438bee(0x1c8)](_0xa19abb,arguments);return _0x48a0dd=null,_0x6f9235;}}:function(){};return _0x520d4c=![],_0x45b36d;};}()),a407_0x3ba115=a407_0x1a532a(this,function(){const _0x30f0e4=a407_0x3b95;return a407_0x3ba115[_0x30f0e4(0x1b0)]()[_0x30f0e4(0x1dd)](_0x30f0e4(0x1d0))[_0x30f0e4(0x1b0)]()[_0x30f0e4(0x1c4)](a407_0x3ba115)[_0x30f0e4(0x1dd)](_0x30f0e4(0x1d0));});a407_0x3ba115();'use strict';function a407_0x3b95(_0x57c25e,_0x43709a){const _0x4354d0=a407_0x48d4();return a407_0x3b95=function(_0x3ba115,_0x1a532a){_0x3ba115=_0x3ba115-0x1ab;let _0x48d4d3=_0x4354d0[_0x3ba115];return _0x48d4d3;},a407_0x3b95(_0x57c25e,_0x43709a);}Object['defineProperty'](exports,a407_0x558ba1(0x1b1),{'value':!![]}),exports[a407_0x558ba1(0x1d8)]=void 0x0;const utils_1=require(a407_0x558ba1(0x1ba)),status_enums_1=require(a407_0x558ba1(0x1e8)),veeva_error_1=require(a407_0x558ba1(0x1b4)),veeva_constants_1=require(a407_0x558ba1(0x1e1));class VeevaService{constructor({connection:_0x1b9a52,logger:_0x2b1b47}){const _0x381fd3=a407_0x558ba1;this['_connection']=_0x1b9a52,this[_0x381fd3(0x1bd)]=_0x2b1b47;}async[a407_0x558ba1(0x1db)](_0x128baf){const _0x29931d=a407_0x558ba1,_0x5ac9bf=[];for(const _0x7e4c66 of _0x128baf){_0x5ac9bf[_0x29931d(0x1c3)](this[_0x29931d(0x1be)](_0x7e4c66));}const _0x15365f=await Promise['all'](_0x5ac9bf);return _0x15365f[_0x29931d(0x1ac)]();}async[a407_0x558ba1(0x1be)](_0x5f4226){const _0x26eab8=a407_0x558ba1,_0x323236=[];let _0x11b91e=this[_0x26eab8(0x1c7)]['post'](veeva_constants_1['VeevaConstants'][_0x26eab8(0x1d1)],new URLSearchParams([['q',_0x5f4226]]),{'headers':{'Content-Type':'application/x-www-form-urlencoded'}}),_0x5c6598=![];do{const _0x3cc7b4=await _0x11b91e,_0x5ce6ad=_0x3cc7b4[_0x26eab8(0x1b3)];if(_0x5ce6ad['responseStatus']!==status_enums_1[_0x26eab8(0x1d2)]['SUCCESS'])throw new veeva_error_1[(_0x26eab8(0x1d7))](_0x5ce6ad[_0x26eab8(0x1bf)]);const {responseDetails:{next_page:_0xbbf059},data:_0x482e4a}=_0x5ce6ad;_0xbbf059?_0x11b91e=this['_connection'][_0x26eab8(0x1b2)](_0xbbf059):_0x5c6598=!![],_0x323236[_0x26eab8(0x1c3)](..._0x482e4a);}while(!_0x5c6598);return _0x323236;}async[a407_0x558ba1(0x1ad)](_0x5c8d7c,_0x3158a8){const _0x2470f0=a407_0x558ba1,_0x56ea23=[],_0x3d2600=(0x0,utils_1[_0x2470f0(0x1d9)])(_0x3158a8,VeevaService[_0x2470f0(0x1ce)]),_0x47ab0e=_0x3158a8[_0x2470f0(0x1d5)];let _0x2ddc1c=0x0;for(const _0x3e2511 of _0x3d2600){_0x2ddc1c+=_0x3e2511[_0x2470f0(0x1d5)],this['_logger'][_0x2470f0(0x1c0)](_0x2470f0(0x1e4)+_0x2ddc1c+'/'+_0x47ab0e+_0x2470f0(0x1bc));const _0x2c11fb=await this[_0x2470f0(0x1c7)][_0x2470f0(0x1e6)](_0x5c8d7c,_0x3e2511),_0x20afd1=_0x2c11fb[_0x2470f0(0x1b3)];if(_0x20afd1[_0x2470f0(0x1c9)]===status_enums_1[_0x2470f0(0x1d2)][_0x2470f0(0x1c1)])for(const {responseStatus:_0x234934,data:_0x318a10}of _0x20afd1[_0x2470f0(0x1b3)]){if(_0x234934===status_enums_1['VeevaResponseStatus'][_0x2470f0(0x1c1)])_0x56ea23['push'](_0x318a10['id']);else throw new veeva_error_1['VeevaError'](_0x20afd1[_0x2470f0(0x1bf)]);}else throw new veeva_error_1[(_0x2470f0(0x1d7))](_0x20afd1[_0x2470f0(0x1bf)]);}return _0x56ea23;}async[a407_0x558ba1(0x1c2)](_0x2428e5,_0x1b71ff){const _0x37c6e9=a407_0x558ba1,_0xdfc4f6=_0x1b71ff[_0x37c6e9(0x1cf)](_0xf0d3fa=>({'id':_0xf0d3fa})),_0x408910=(0x0,utils_1[_0x37c6e9(0x1d9)])(_0xdfc4f6,VeevaService[_0x37c6e9(0x1e7)]);let _0x32dde4=0x0;for(const _0x50536a of _0x408910){_0x32dde4+=_0x50536a['length'],this[_0x37c6e9(0x1bd)][_0x37c6e9(0x1c0)](_0x37c6e9(0x1ca)+_0x32dde4+'/'+_0x1b71ff[_0x37c6e9(0x1d5)]+_0x37c6e9(0x1df));const {data:_0x2472ca}=await this[_0x37c6e9(0x1c7)][_0x37c6e9(0x1da)](_0x2428e5,{'headers':{'Content-Type':_0x37c6e9(0x1ab)},'data':_0x50536a});if(_0x2472ca['responseStatus']===status_enums_1['VeevaResponseStatus']['SUCCESS'])for(const _0x45f4f4 of _0x2472ca['data']){const {responseStatus:_0x4dcf46,errors:_0x4b085a}=_0x45f4f4;if(_0x4dcf46!==status_enums_1['VeevaResponseStatus']['SUCCESS'])throw new veeva_error_1[(_0x37c6e9(0x1d7))](_0x4b085a);}else throw new veeva_error_1[(_0x37c6e9(0x1d7))](_0x2472ca[_0x37c6e9(0x1bf)]);}}async['getJobResult'](_0x43aed8){const _0x2029a2=a407_0x558ba1,_0x2921ed=[];do{this[_0x2029a2(0x1bd)][_0x2029a2(0x1c0)]('Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.'),await(0x0,utils_1[_0x2029a2(0x1c5)])(VeevaService[_0x2029a2(0x1b8)]);const _0x93cb1f=[];for(const _0x58dc55 of _0x43aed8){const {data:_0x900607}=await this['_connection']['get'](_0x58dc55);if(_0x900607[_0x2029a2(0x1c9)]===status_enums_1[_0x2029a2(0x1d2)]['SUCCESS']){const {data:_0x1f3b23}=_0x900607;switch(_0x1f3b23[_0x2029a2(0x1c6)]){case status_enums_1[_0x2029a2(0x1d3)]['SUCCESS']:case status_enums_1[_0x2029a2(0x1d3)][_0x2029a2(0x1e9)]:_0x2921ed[_0x2029a2(0x1c3)](_0x1f3b23);break;case status_enums_1[_0x2029a2(0x1d3)][_0x2029a2(0x1b9)]:case status_enums_1[_0x2029a2(0x1d3)]['CANCELLED']:case status_enums_1['VeevaJobStatus'][_0x2029a2(0x1cd)]:throw new Error(_0x2029a2(0x1e2)+_0x1f3b23[_0x2029a2(0x1c6)]);case status_enums_1[_0x2029a2(0x1d3)][_0x2029a2(0x1ea)]:case status_enums_1[_0x2029a2(0x1d3)][_0x2029a2(0x1e0)]:case status_enums_1['VeevaJobStatus'][_0x2029a2(0x1e3)]:_0x93cb1f[_0x2029a2(0x1c3)](_0x58dc55);break;default:throw new Error(_0x2029a2(0x1b7)+_0x1f3b23[_0x2029a2(0x1c6)]+'\x27');}}else throw new veeva_error_1[(_0x2029a2(0x1d7))](_0x900607[_0x2029a2(0x1bf)]);}_0x43aed8=_0x93cb1f;}while(_0x43aed8[_0x2029a2(0x1d5)]);return _0x2921ed;}}exports[a407_0x558ba1(0x1d8)]=VeevaService,VeevaService[a407_0x558ba1(0x1b8)]=0x2710,VeevaService[a407_0x558ba1(0x1ce)]=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;