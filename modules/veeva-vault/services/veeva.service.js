const a313_0x31e8fd=a313_0x3189;(function(_0xff2744,_0x2793a0){const _0x1c9977=a313_0x3189,_0xa89259=_0xff2744();while(!![]){try{const _0x1ef765=parseInt(_0x1c9977(0x22a))/0x1+parseInt(_0x1c9977(0x207))/0x2+parseInt(_0x1c9977(0x228))/0x3+-parseInt(_0x1c9977(0x1fb))/0x4*(-parseInt(_0x1c9977(0x21a))/0x5)+-parseInt(_0x1c9977(0x20c))/0x6*(parseInt(_0x1c9977(0x201))/0x7)+-parseInt(_0x1c9977(0x220))/0x8*(parseInt(_0x1c9977(0x209))/0x9)+-parseInt(_0x1c9977(0x216))/0xa;if(_0x1ef765===_0x2793a0)break;else _0xa89259['push'](_0xa89259['shift']());}catch(_0x28ef8c){_0xa89259['push'](_0xa89259['shift']());}}}(a313_0x51b8,0x9a5bf));const a313_0x544246=(function(){let _0x2c0d3a=!![];return function(_0x2b5e47,_0x2c61fd){const _0x124a0c=_0x2c0d3a?function(){const _0x33cc6a=a313_0x3189;if(_0x2c61fd){const _0x125917=_0x2c61fd[_0x33cc6a(0x229)](_0x2b5e47,arguments);return _0x2c61fd=null,_0x125917;}}:function(){};return _0x2c0d3a=![],_0x124a0c;};}()),a313_0x2eeb64=a313_0x544246(this,function(){const _0x43a1b6=a313_0x3189;return a313_0x2eeb64[_0x43a1b6(0x1ff)]()[_0x43a1b6(0x203)](_0x43a1b6(0x1fc))[_0x43a1b6(0x1ff)]()[_0x43a1b6(0x223)](a313_0x2eeb64)[_0x43a1b6(0x203)](_0x43a1b6(0x1fc));});function a313_0x3189(_0x1cacae,_0x554d96){const _0x5c3928=a313_0x51b8();return a313_0x3189=function(_0x2eeb64,_0x544246){_0x2eeb64=_0x2eeb64-0x1f4;let _0x51b8a4=_0x5c3928[_0x2eeb64];return _0x51b8a4;},a313_0x3189(_0x1cacae,_0x554d96);}a313_0x2eeb64();'use strict';function a313_0x51b8(){const _0x1bbc99=['../../shared/utils','VeevaService','2174515KuLEeK','chunkArray','SUCCESS','VeevaResponseStatus','defineProperty','errors','64VrjHvy','../enums/status.enums','JOB_STATUS_TIMEOUT','constructor','__esModule','CREATE_RECORDS_LIMIT','responseStatus','ERRORS_ENCOUNTERED','2146845vjAJBA','apply','356879YcFQKe','executeVQL','post','VeevaError','QUEUEING','Deleting\x20','length','VeevaJobStatus','4xTnEXo','(((.+)+)+)+$','Creating\x20','DELETE_RECORDS_LIMIT','toString','get','10129eYyHmR','flat','search','delete','createVeevaObjectRecords','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','2179588iiKMlN','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','1203381MXuNyT','Unknown\x20Job\x20status\x20:\x20\x27','application/json','2268gRNPqS','data','status','all','executeManyVQL','MISSED_SCHEDULE','push','SCHEDULED','map','log','3482980rRVUjz','RUNNING'];a313_0x51b8=function(){return _0x1bbc99;};return a313_0x51b8();}Object[a313_0x31e8fd(0x21e)](exports,a313_0x31e8fd(0x224),{'value':!![]}),exports[a313_0x31e8fd(0x219)]=void 0x0;const utils_1=require(a313_0x31e8fd(0x218)),status_enums_1=require(a313_0x31e8fd(0x221)),veeva_error_1=require('../classes/errors/veeva-error');class VeevaService{static async[a313_0x31e8fd(0x210)](_0x56cf64,_0x594978){const _0x335384=a313_0x31e8fd,_0x37ef60=[];for(const _0x5672db of _0x56cf64){_0x37ef60[_0x335384(0x212)](this['executeVQL'](_0x5672db,_0x594978));}const _0x35b06a=await Promise[_0x335384(0x20f)](_0x37ef60);return _0x35b06a[_0x335384(0x202)]();}static async[a313_0x31e8fd(0x1f4)](_0x54ee48,_0x5c2e8d){const _0x4b1a5c=a313_0x31e8fd,_0x5a82fc=[];do{const _0x1e1fa0=await _0x5c2e8d['get'](_0x54ee48),_0x30e801=_0x1e1fa0[_0x4b1a5c(0x20d)];if(_0x30e801[_0x4b1a5c(0x226)]===status_enums_1[_0x4b1a5c(0x21d)][_0x4b1a5c(0x21c)]){const {responseDetails:{next_page:_0x51d67e},data:_0x392c2c}=_0x30e801;_0x54ee48=_0x51d67e||null,_0x5a82fc[_0x4b1a5c(0x212)](..._0x392c2c);}else throw new veeva_error_1[(_0x4b1a5c(0x1f6))](_0x30e801[_0x4b1a5c(0x21f)]);}while(_0x54ee48);return _0x5a82fc;}static async[a313_0x31e8fd(0x205)](_0x33d2cb,_0x30ef81,_0x27fd45,_0x2b4706){const _0x4c314f=a313_0x31e8fd,_0x21a2ff=[],_0x49c75b=(0x0,utils_1[_0x4c314f(0x21b)])(_0x27fd45,VeevaService[_0x4c314f(0x225)]),_0x595764=_0x27fd45[_0x4c314f(0x1f9)];let _0x2d9586=0x0;for(const _0x2b0968 of _0x49c75b){_0x2d9586+=_0x2b0968['length'],_0x2b4706[_0x4c314f(0x215)](_0x4c314f(0x1fd)+_0x2d9586+'/'+_0x595764+'\x20records.');const _0x263836=await _0x30ef81[_0x4c314f(0x1f5)](_0x33d2cb,_0x2b0968),_0xa873a0=_0x263836[_0x4c314f(0x20d)];if(_0xa873a0[_0x4c314f(0x226)]===status_enums_1[_0x4c314f(0x21d)][_0x4c314f(0x21c)])for(const {responseStatus:_0x4ac8a2,data:_0x438101}of _0xa873a0[_0x4c314f(0x20d)]){if(_0x4ac8a2===status_enums_1[_0x4c314f(0x21d)][_0x4c314f(0x21c)])_0x21a2ff[_0x4c314f(0x212)](_0x438101['id']);else throw new veeva_error_1[(_0x4c314f(0x1f6))](_0xa873a0['errors']);}else throw new veeva_error_1[(_0x4c314f(0x1f6))](_0xa873a0[_0x4c314f(0x21f)]);}return _0x21a2ff;}static async['deleteVeevaObjectRecords'](_0x515c29,_0x16f462,_0x20b77f,_0x5b6dbd){const _0x1abcda=a313_0x31e8fd,_0x5f0d9f=_0x20b77f[_0x1abcda(0x214)](_0xc15a35=>({'id':_0xc15a35})),_0x391b24=(0x0,utils_1['chunkArray'])(_0x5f0d9f,VeevaService['DELETE_RECORDS_LIMIT']);let _0x6ed02c=0x0;for(const _0x56baa4 of _0x391b24){_0x6ed02c+=_0x56baa4[_0x1abcda(0x1f9)],_0x5b6dbd[_0x1abcda(0x215)](_0x1abcda(0x1f8)+_0x6ed02c+'/'+_0x20b77f[_0x1abcda(0x1f9)]+'\x20records');const {data:_0x27c385}=await _0x16f462[_0x1abcda(0x204)](_0x515c29,{'headers':{'Content-Type':_0x1abcda(0x20b)},'data':_0x56baa4});if(_0x27c385['responseStatus']===status_enums_1[_0x1abcda(0x21d)][_0x1abcda(0x21c)])for(const _0x2f856c of _0x27c385['data']){const {responseStatus:_0x5149ba,errors:_0x17ebe9}=_0x2f856c;if(_0x5149ba!==status_enums_1[_0x1abcda(0x21d)][_0x1abcda(0x21c)])throw new veeva_error_1[(_0x1abcda(0x1f6))](_0x17ebe9);}else throw new veeva_error_1[(_0x1abcda(0x1f6))](_0x27c385[_0x1abcda(0x21f)]);}}static async['getJobResult'](_0x24de9c,_0xf3d57,_0x3a6059){const _0x54959e=a313_0x31e8fd,_0x4bbbe3=[];do{_0x3a6059[_0x54959e(0x215)](_0x54959e(0x206)),await(0x0,utils_1['sleep'])(VeevaService[_0x54959e(0x222)]);const _0x3703f9=[];for(const _0x220f10 of _0x24de9c){const {data:_0x2e5dfa}=await _0xf3d57[_0x54959e(0x200)](_0x220f10);if(_0x2e5dfa[_0x54959e(0x226)]===status_enums_1[_0x54959e(0x21d)][_0x54959e(0x21c)]){const {data:_0xf3d69a}=_0x2e5dfa;switch(_0xf3d69a[_0x54959e(0x20e)]){case status_enums_1['VeevaJobStatus']['SUCCESS']:case status_enums_1['VeevaJobStatus'][_0x54959e(0x227)]:_0x4bbbe3[_0x54959e(0x212)](_0xf3d69a);break;case status_enums_1['VeevaJobStatus'][_0x54959e(0x1f7)]:case status_enums_1[_0x54959e(0x1fa)]['CANCELLED']:case status_enums_1[_0x54959e(0x1fa)][_0x54959e(0x211)]:throw new Error(_0x54959e(0x208)+_0xf3d69a[_0x54959e(0x20e)]);case status_enums_1[_0x54959e(0x1fa)]['QUEUED']:case status_enums_1[_0x54959e(0x1fa)][_0x54959e(0x217)]:case status_enums_1[_0x54959e(0x1fa)][_0x54959e(0x213)]:_0x3703f9[_0x54959e(0x212)](_0x220f10);break;default:throw new Error(_0x54959e(0x20a)+_0xf3d69a[_0x54959e(0x20e)]+'\x27');}}else throw new veeva_error_1[(_0x54959e(0x1f6))](_0x2e5dfa['errors']);}_0x24de9c=_0x3703f9;}while(_0x24de9c[_0x54959e(0x1f9)]);return _0x4bbbe3;}}exports['VeevaService']=VeevaService,VeevaService[a313_0x31e8fd(0x222)]=0x2710,VeevaService[a313_0x31e8fd(0x225)]=0x1f4,VeevaService[a313_0x31e8fd(0x1fe)]=0x1f4;