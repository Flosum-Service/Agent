const a313_0x357aa8=a313_0xfed5;(function(_0xf40f23,_0x38c87e){const _0x17bf50=a313_0xfed5,_0x453778=_0xf40f23();while(!![]){try{const _0x19f6e5=parseInt(_0x17bf50(0xdb))/0x1+parseInt(_0x17bf50(0xe9))/0x2*(-parseInt(_0x17bf50(0xf4))/0x3)+-parseInt(_0x17bf50(0xde))/0x4+parseInt(_0x17bf50(0xea))/0x5+-parseInt(_0x17bf50(0xf3))/0x6*(-parseInt(_0x17bf50(0xeb))/0x7)+-parseInt(_0x17bf50(0xd9))/0x8*(parseInt(_0x17bf50(0xd7))/0x9)+-parseInt(_0x17bf50(0xe4))/0xa;if(_0x19f6e5===_0x38c87e)break;else _0x453778['push'](_0x453778['shift']());}catch(_0x5dd9e4){_0x453778['push'](_0x453778['shift']());}}}(a313_0x3d4a,0x25f76));const a313_0x5209ba=(function(){let _0x57a6cd=!![];return function(_0x206eb2,_0x538aa9){const _0x229a18=_0x57a6cd?function(){const _0x296c7a=a313_0xfed5;if(_0x538aa9){const _0x2c8952=_0x538aa9[_0x296c7a(0xe1)](_0x206eb2,arguments);return _0x538aa9=null,_0x2c8952;}}:function(){};return _0x57a6cd=![],_0x229a18;};}()),a313_0x161317=a313_0x5209ba(this,function(){const _0x531ed2=a313_0xfed5;return a313_0x161317['toString']()[_0x531ed2(0xdf)]('(((.+)+)+)+$')[_0x531ed2(0xda)]()[_0x531ed2(0xcb)](a313_0x161317)[_0x531ed2(0xdf)](_0x531ed2(0xf0));});a313_0x161317();'use strict';Object[a313_0x357aa8(0xd2)](exports,a313_0x357aa8(0xbf),{'value':!![]}),exports['VeevaService']=void 0x0;const utils_1=require(a313_0x357aa8(0xf2)),status_enums_1=require(a313_0x357aa8(0xc9)),veeva_error_1=require(a313_0x357aa8(0xe5));function a313_0xfed5(_0x158429,_0x395686){const _0x2eaef0=a313_0x3d4a();return a313_0xfed5=function(_0x161317,_0x5209ba){_0x161317=_0x161317-0xbd;let _0x3d4a42=_0x2eaef0[_0x161317];return _0x3d4a42;},a313_0xfed5(_0x158429,_0x395686);}function a313_0x3d4a(){const _0xf33965=['18OGzYmr','Unknown\x20Job\x20status\x20:\x20\x27','765392NjOWJy','toString','96460aNnarI','RUNNING','SCHEDULED','512956jnDRXw','search','data','apply','log','createVeevaObjectRecords','448410ItvVtH','../classes/errors/veeva-error','VeevaResponseStatus','VeevaJobStatus','executeManyVQL','1270ySDCTn','906940eKRGpe','525aCptCY','\x20records','map','push','QUEUED','(((.+)+)+)+$','all','../../shared/utils','22212LLTEpR','168RQJEkT','SUCCESS','responseStatus','__esModule','executeVQL','QUEUEING','application/json','CREATE_RECORDS_LIMIT','ERRORS_ENCOUNTERED','status','DELETE_RECORDS_LIMIT','errors','deleteVeevaObjectRecords','../enums/status.enums','flat','constructor','post','getJobResult','VeevaError','get','length','JOB_STATUS_TIMEOUT','defineProperty','chunkArray','VeevaService','CANCELLED','sleep'];a313_0x3d4a=function(){return _0xf33965;};return a313_0x3d4a();}class VeevaService{static async[a313_0x357aa8(0xe8)](_0x12b8d1,_0x52ed11){const _0x3f174e=a313_0x357aa8,_0x52ce54=[];for(const _0x1aeed6 of _0x12b8d1){_0x52ce54[_0x3f174e(0xee)](this[_0x3f174e(0xc0)](_0x1aeed6,_0x52ed11));}const _0x47f4ec=await Promise[_0x3f174e(0xf1)](_0x52ce54);return _0x47f4ec[_0x3f174e(0xca)]();}static async[a313_0x357aa8(0xc0)](_0x304776,_0xf47a29){const _0x432b1c=a313_0x357aa8,_0x1c1220=[];do{const _0x30e18f=await _0xf47a29[_0x432b1c(0xcf)](_0x304776),_0x2d1f1f=_0x30e18f[_0x432b1c(0xe0)];if(_0x2d1f1f[_0x432b1c(0xbe)]===status_enums_1[_0x432b1c(0xe6)][_0x432b1c(0xbd)]){const {responseDetails:{next_page:_0x13856c},data:_0x52d837}=_0x2d1f1f;_0x304776=_0x13856c||null,_0x1c1220[_0x432b1c(0xee)](..._0x52d837);}else throw new veeva_error_1['VeevaError'](_0x2d1f1f[_0x432b1c(0xc7)]);}while(_0x304776);return _0x1c1220;}static async[a313_0x357aa8(0xe3)](_0xf9322b,_0x2d514e,_0x1ec85d,_0x35a7ee){const _0x4d56ef=a313_0x357aa8,_0x5b0970=[],_0x6d907f=(0x0,utils_1[_0x4d56ef(0xd3)])(_0x1ec85d,VeevaService[_0x4d56ef(0xc3)]),_0x3862f0=_0x1ec85d[_0x4d56ef(0xd0)];let _0x49b121=0x0;for(const _0xd25fb2 of _0x6d907f){_0x49b121+=_0xd25fb2[_0x4d56ef(0xd0)],_0x35a7ee[_0x4d56ef(0xe2)]('Creating\x20'+_0x49b121+'/'+_0x3862f0+'\x20records.');const _0x3e870b=await _0x2d514e[_0x4d56ef(0xcc)](_0xf9322b,_0xd25fb2),_0x3ddb85=_0x3e870b['data'];if(_0x3ddb85[_0x4d56ef(0xbe)]===status_enums_1['VeevaResponseStatus']['SUCCESS'])for(const {responseStatus:_0x1ea95e,data:_0x4ac27e}of _0x3ddb85[_0x4d56ef(0xe0)]){if(_0x1ea95e===status_enums_1[_0x4d56ef(0xe6)]['SUCCESS'])_0x5b0970['push'](_0x4ac27e['id']);else throw new veeva_error_1[(_0x4d56ef(0xce))](_0x3ddb85[_0x4d56ef(0xc7)]);}else throw new veeva_error_1['VeevaError'](_0x3ddb85[_0x4d56ef(0xc7)]);}return _0x5b0970;}static async[a313_0x357aa8(0xc8)](_0x9db91b,_0x4a9e97,_0x13c8cb,_0x41852a){const _0x3248f3=a313_0x357aa8,_0xa21ebc=_0x13c8cb[_0x3248f3(0xed)](_0x58e885=>({'id':_0x58e885})),_0x269eb4=(0x0,utils_1['chunkArray'])(_0xa21ebc,VeevaService['DELETE_RECORDS_LIMIT']);let _0x5eee9d=0x0;for(const _0x37c73a of _0x269eb4){_0x5eee9d+=_0x37c73a[_0x3248f3(0xd0)],_0x41852a[_0x3248f3(0xe2)]('Deleting\x20'+_0x5eee9d+'/'+_0x13c8cb[_0x3248f3(0xd0)]+_0x3248f3(0xec));const {data:_0x41d41e}=await _0x4a9e97['delete'](_0x9db91b,{'headers':{'Content-Type':_0x3248f3(0xc2)},'data':_0x37c73a});if(_0x41d41e[_0x3248f3(0xbe)]===status_enums_1['VeevaResponseStatus'][_0x3248f3(0xbd)])for(const _0x4f98e2 of _0x41d41e[_0x3248f3(0xe0)]){const {responseStatus:_0x57dc22,errors:_0x200360}=_0x4f98e2;if(_0x57dc22!==status_enums_1['VeevaResponseStatus'][_0x3248f3(0xbd)])throw new veeva_error_1[(_0x3248f3(0xce))](_0x200360);}else throw new veeva_error_1[(_0x3248f3(0xce))](_0x41d41e[_0x3248f3(0xc7)]);}}static async[a313_0x357aa8(0xcd)](_0x20e520,_0x2282e0,_0x404057){const _0x4c64a6=a313_0x357aa8,_0x336811=[];do{_0x404057['log']('Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.'),await(0x0,utils_1[_0x4c64a6(0xd6)])(VeevaService[_0x4c64a6(0xd1)]);const _0x2607ac=[];for(const _0x4f321e of _0x20e520){const {data:_0x4557ba}=await _0x2282e0[_0x4c64a6(0xcf)](_0x4f321e);if(_0x4557ba['responseStatus']===status_enums_1[_0x4c64a6(0xe6)][_0x4c64a6(0xbd)]){const {data:_0x2cea9e}=_0x4557ba;switch(_0x2cea9e[_0x4c64a6(0xc5)]){case status_enums_1['VeevaJobStatus']['SUCCESS']:case status_enums_1[_0x4c64a6(0xe7)][_0x4c64a6(0xc4)]:_0x336811[_0x4c64a6(0xee)](_0x2cea9e);break;case status_enums_1['VeevaJobStatus'][_0x4c64a6(0xc1)]:case status_enums_1[_0x4c64a6(0xe7)][_0x4c64a6(0xd5)]:case status_enums_1[_0x4c64a6(0xe7)]['MISSED_SCHEDULE']:throw new Error('Cannot\x20retrieve\x20job.\x20Job\x20status:\x20'+_0x2cea9e[_0x4c64a6(0xc5)]);case status_enums_1['VeevaJobStatus'][_0x4c64a6(0xef)]:case status_enums_1['VeevaJobStatus'][_0x4c64a6(0xdc)]:case status_enums_1[_0x4c64a6(0xe7)][_0x4c64a6(0xdd)]:_0x2607ac[_0x4c64a6(0xee)](_0x4f321e);break;default:throw new Error(_0x4c64a6(0xd8)+_0x2cea9e[_0x4c64a6(0xc5)]+'\x27');}}else throw new veeva_error_1['VeevaError'](_0x4557ba[_0x4c64a6(0xc7)]);}_0x20e520=_0x2607ac;}while(_0x20e520['length']);return _0x336811;}}exports[a313_0x357aa8(0xd4)]=VeevaService,VeevaService[a313_0x357aa8(0xd1)]=0x2710,VeevaService[a313_0x357aa8(0xc3)]=0x1f4,VeevaService[a313_0x357aa8(0xc6)]=0x1f4;