function a340_0x2de3(_0x5d7243,_0x168e87){const _0x36b82a=a340_0x2af8();return a340_0x2de3=function(_0x189f9e,_0x380666){_0x189f9e=_0x189f9e-0x13b;let _0x2af81=_0x36b82a[_0x189f9e];return _0x2af81;},a340_0x2de3(_0x5d7243,_0x168e87);}const a340_0x481a0f=a340_0x2de3;(function(_0x25a9c4,_0x571371){const _0xdbb4d3=a340_0x2de3,_0x1235ef=_0x25a9c4();while(!![]){try{const _0x1db133=-parseInt(_0xdbb4d3(0x14e))/0x1*(parseInt(_0xdbb4d3(0x15d))/0x2)+parseInt(_0xdbb4d3(0x13d))/0x3+parseInt(_0xdbb4d3(0x16f))/0x4*(parseInt(_0xdbb4d3(0x148))/0x5)+-parseInt(_0xdbb4d3(0x14c))/0x6*(parseInt(_0xdbb4d3(0x152))/0x7)+-parseInt(_0xdbb4d3(0x157))/0x8*(parseInt(_0xdbb4d3(0x13f))/0x9)+-parseInt(_0xdbb4d3(0x166))/0xa+parseInt(_0xdbb4d3(0x162))/0xb;if(_0x1db133===_0x571371)break;else _0x1235ef['push'](_0x1235ef['shift']());}catch(_0x3b60d8){_0x1235ef['push'](_0x1235ef['shift']());}}}(a340_0x2af8,0x6a25f));const a340_0x380666=(function(){let _0x33cdc5=!![];return function(_0x329b51,_0x79d20){const _0x47ebe0=_0x33cdc5?function(){if(_0x79d20){const _0x201f89=_0x79d20['apply'](_0x329b51,arguments);return _0x79d20=null,_0x201f89;}}:function(){};return _0x33cdc5=![],_0x47ebe0;};}()),a340_0x189f9e=a340_0x380666(this,function(){const _0x18d64e=a340_0x2de3;return a340_0x189f9e[_0x18d64e(0x159)]()[_0x18d64e(0x16c)]('(((.+)+)+)+$')[_0x18d64e(0x159)]()[_0x18d64e(0x156)](a340_0x189f9e)[_0x18d64e(0x16c)](_0x18d64e(0x140));});a340_0x189f9e();'use strict';function a340_0x2af8(){const _0x25894f=['Creating\x20','executeManyVQL','getJobResult','createVeevaObjectRecords','search','_logger','log','4drgZDs','executeVQL','post','errors','354711YdmSos','sleep','357543nVUfMD','(((.+)+)+)+$','JOB_STATUS_TIMEOUT','VeevaError','ERRORS_ENCOUNTERED','DELETE_RECORDS_LIMIT','SUCCESS','QUEUEING','../classes/errors/veeva-error','3344690vATrUV','chunkArray','deleteVeevaObjectRecords','Deleting\x20','2532630HVakuo','get','625274VBifKL','VeevaResponseStatus','delete','push','7lDHlum','responseStatus','\x20records','SCHEDULED','constructor','96kGMBed','application/json','toString','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','__esModule','2CXQalX','VeevaJobStatus','status','Unknown\x20Job\x20status\x20:\x20\x27','length','18861414DOpGPx','../enums/status.enums','_connection','data','5429630IhTKQw','../../shared/utils'];a340_0x2af8=function(){return _0x25894f;};return a340_0x2af8();}Object['defineProperty'](exports,a340_0x481a0f(0x15c),{'value':!![]}),exports['VeevaService']=void 0x0;const utils_1=require(a340_0x481a0f(0x167)),status_enums_1=require(a340_0x481a0f(0x163)),veeva_error_1=require(a340_0x481a0f(0x147));class VeevaService{constructor({connection:_0x498d30,logger:_0x1f701b}){const _0x162dfc=a340_0x481a0f;this['_connection']=_0x498d30,this[_0x162dfc(0x16d)]=_0x1f701b;}async[a340_0x481a0f(0x169)](_0x80f69b){const _0x3b3d0a=a340_0x481a0f,_0x5d2ba6=[];for(const _0x330393 of _0x80f69b){_0x5d2ba6[_0x3b3d0a(0x151)](this[_0x3b3d0a(0x170)](_0x330393));}const _0x4b1240=await Promise['all'](_0x5d2ba6);return _0x4b1240['flat']();}async['executeVQL'](_0x1df9d7){const _0x114577=a340_0x481a0f,_0x293fe5=[];do{const _0xc6eab0=await this[_0x114577(0x164)][_0x114577(0x14d)](_0x1df9d7),_0x22fd8a=_0xc6eab0['data'];if(_0x22fd8a[_0x114577(0x153)]===status_enums_1[_0x114577(0x14f)][_0x114577(0x145)]){const {responseDetails:{next_page:_0xeee583},data:_0x1a3747}=_0x22fd8a;_0x1df9d7=_0xeee583||null,_0x293fe5['push'](..._0x1a3747);}else throw new veeva_error_1[(_0x114577(0x142))](_0x22fd8a['errors']);}while(_0x1df9d7);return _0x293fe5;}async[a340_0x481a0f(0x16b)](_0x4a375a,_0x5546fb){const _0x59326d=a340_0x481a0f,_0x769114=[],_0x183808=(0x0,utils_1[_0x59326d(0x149)])(_0x5546fb,VeevaService['CREATE_RECORDS_LIMIT']),_0x4886cd=_0x5546fb['length'];let _0x1bc3e6=0x0;for(const _0x2fc5c8 of _0x183808){_0x1bc3e6+=_0x2fc5c8[_0x59326d(0x161)],this['_logger'][_0x59326d(0x16e)](_0x59326d(0x168)+_0x1bc3e6+'/'+_0x4886cd+'\x20records.');const _0x1a5e4d=await this[_0x59326d(0x164)][_0x59326d(0x13b)](_0x4a375a,_0x2fc5c8),_0x4d1786=_0x1a5e4d[_0x59326d(0x165)];if(_0x4d1786[_0x59326d(0x153)]===status_enums_1[_0x59326d(0x14f)][_0x59326d(0x145)])for(const {responseStatus:_0x115063,data:_0x53691f}of _0x4d1786['data']){if(_0x115063===status_enums_1[_0x59326d(0x14f)][_0x59326d(0x145)])_0x769114[_0x59326d(0x151)](_0x53691f['id']);else throw new veeva_error_1[(_0x59326d(0x142))](_0x4d1786[_0x59326d(0x13c)]);}else throw new veeva_error_1[(_0x59326d(0x142))](_0x4d1786['errors']);}return _0x769114;}async[a340_0x481a0f(0x14a)](_0x54f1cd,_0x324f5e){const _0x5a3179=a340_0x481a0f,_0x51888d=_0x324f5e['map'](_0x1ed3af=>({'id':_0x1ed3af})),_0x2751c7=(0x0,utils_1['chunkArray'])(_0x51888d,VeevaService[_0x5a3179(0x144)]);let _0x59c4eb=0x0;for(const _0x427ddd of _0x2751c7){_0x59c4eb+=_0x427ddd[_0x5a3179(0x161)],this[_0x5a3179(0x16d)][_0x5a3179(0x16e)](_0x5a3179(0x14b)+_0x59c4eb+'/'+_0x324f5e[_0x5a3179(0x161)]+_0x5a3179(0x154));const {data:_0x522ae7}=await this[_0x5a3179(0x164)][_0x5a3179(0x150)](_0x54f1cd,{'headers':{'Content-Type':_0x5a3179(0x158)},'data':_0x427ddd});if(_0x522ae7[_0x5a3179(0x153)]===status_enums_1[_0x5a3179(0x14f)][_0x5a3179(0x145)])for(const _0x1956b9 of _0x522ae7[_0x5a3179(0x165)]){const {responseStatus:_0x440efa,errors:_0x76e146}=_0x1956b9;if(_0x440efa!==status_enums_1[_0x5a3179(0x14f)][_0x5a3179(0x145)])throw new veeva_error_1[(_0x5a3179(0x142))](_0x76e146);}else throw new veeva_error_1[(_0x5a3179(0x142))](_0x522ae7[_0x5a3179(0x13c)]);}}async[a340_0x481a0f(0x16a)](_0x5e0e0a){const _0xe7e7b0=a340_0x481a0f,_0x315be0=[];do{this[_0xe7e7b0(0x16d)][_0xe7e7b0(0x16e)](_0xe7e7b0(0x15b)),await(0x0,utils_1[_0xe7e7b0(0x13e)])(VeevaService[_0xe7e7b0(0x141)]);const _0x49fe37=[];for(const _0x48b292 of _0x5e0e0a){const {data:_0x43a9dc}=await this[_0xe7e7b0(0x164)][_0xe7e7b0(0x14d)](_0x48b292);if(_0x43a9dc[_0xe7e7b0(0x153)]===status_enums_1['VeevaResponseStatus'][_0xe7e7b0(0x145)]){const {data:_0xb7970f}=_0x43a9dc;switch(_0xb7970f[_0xe7e7b0(0x15f)]){case status_enums_1[_0xe7e7b0(0x15e)][_0xe7e7b0(0x145)]:case status_enums_1[_0xe7e7b0(0x15e)][_0xe7e7b0(0x143)]:_0x315be0['push'](_0xb7970f);break;case status_enums_1[_0xe7e7b0(0x15e)][_0xe7e7b0(0x146)]:case status_enums_1[_0xe7e7b0(0x15e)]['CANCELLED']:case status_enums_1[_0xe7e7b0(0x15e)]['MISSED_SCHEDULE']:throw new Error(_0xe7e7b0(0x15a)+_0xb7970f['status']);case status_enums_1[_0xe7e7b0(0x15e)]['QUEUED']:case status_enums_1[_0xe7e7b0(0x15e)]['RUNNING']:case status_enums_1[_0xe7e7b0(0x15e)][_0xe7e7b0(0x155)]:_0x49fe37[_0xe7e7b0(0x151)](_0x48b292);break;default:throw new Error(_0xe7e7b0(0x160)+_0xb7970f['status']+'\x27');}}else throw new veeva_error_1[(_0xe7e7b0(0x142))](_0x43a9dc[_0xe7e7b0(0x13c)]);}_0x5e0e0a=_0x49fe37;}while(_0x5e0e0a[_0xe7e7b0(0x161)]);return _0x315be0;}}exports['VeevaService']=VeevaService,VeevaService[a340_0x481a0f(0x141)]=0x2710,VeevaService['CREATE_RECORDS_LIMIT']=0x1f4,VeevaService[a340_0x481a0f(0x144)]=0x1f4;