const a408_0x25c76c=a408_0x3b2f;function a408_0x3b2f(_0xbdf44b,_0x315c2b){const _0x2aaa0a=a408_0x57b9();return a408_0x3b2f=function(_0x41673c,_0x450f85){_0x41673c=_0x41673c-0x144;let _0x57b936=_0x2aaa0a[_0x41673c];return _0x57b936;},a408_0x3b2f(_0xbdf44b,_0x315c2b);}(function(_0x46cde4,_0x13f623){const _0x2d4f2a=a408_0x3b2f,_0xfeabc0=_0x46cde4();while(!![]){try{const _0x4a231f=-parseInt(_0x2d4f2a(0x155))/0x1+-parseInt(_0x2d4f2a(0x172))/0x2*(-parseInt(_0x2d4f2a(0x15c))/0x3)+parseInt(_0x2d4f2a(0x178))/0x4+-parseInt(_0x2d4f2a(0x159))/0x5+parseInt(_0x2d4f2a(0x144))/0x6*(-parseInt(_0x2d4f2a(0x164))/0x7)+-parseInt(_0x2d4f2a(0x146))/0x8+parseInt(_0x2d4f2a(0x14f))/0x9;if(_0x4a231f===_0x13f623)break;else _0xfeabc0['push'](_0xfeabc0['shift']());}catch(_0x1c3397){_0xfeabc0['push'](_0xfeabc0['shift']());}}}(a408_0x57b9,0xe9c13));const a408_0x450f85=(function(){let _0x3f03a9=!![];return function(_0x408606,_0x100300){const _0x645324=_0x3f03a9?function(){const _0x3480f8=a408_0x3b2f;if(_0x100300){const _0x526dbd=_0x100300[_0x3480f8(0x16c)](_0x408606,arguments);return _0x100300=null,_0x526dbd;}}:function(){};return _0x3f03a9=![],_0x645324;};}()),a408_0x41673c=a408_0x450f85(this,function(){const _0x494151=a408_0x3b2f;return a408_0x41673c[_0x494151(0x169)]()['search'](_0x494151(0x16e))[_0x494151(0x169)]()[_0x494151(0x166)](a408_0x41673c)['search'](_0x494151(0x16e));});a408_0x41673c();'use strict';Object[a408_0x25c76c(0x170)](exports,a408_0x25c76c(0x150),{'value':!![]}),exports[a408_0x25c76c(0x171)]=void 0x0;const utils_1=require(a408_0x25c76c(0x14c)),status_enums_1=require(a408_0x25c76c(0x14d)),veeva_error_1=require('../classes/errors/veeva-error'),veeva_constants_1=require(a408_0x25c76c(0x16a));class VeevaService{constructor({connection:_0x593250,logger:_0x22196c}){const _0x1dcee9=a408_0x25c76c;this['_connection']=_0x593250,this[_0x1dcee9(0x14e)]=_0x22196c;}async['executeManyVQL'](_0x5a7bda){const _0x5b2949=a408_0x25c76c,_0x11edce=[];for(const _0x2febc4 of _0x5a7bda){_0x11edce[_0x5b2949(0x16b)](this['executeVQL'](_0x2febc4));}const _0x279773=await Promise[_0x5b2949(0x14b)](_0x11edce);return _0x279773['flat']();}async[a408_0x25c76c(0x154)](_0x2f1696){const _0x6cded0=a408_0x25c76c,_0x279444=[];let _0x3e0adf=this[_0x6cded0(0x176)][_0x6cded0(0x145)](veeva_constants_1['VeevaConstants'][_0x6cded0(0x15b)],new URLSearchParams([['q',_0x2f1696]]),{'headers':{'Content-Type':_0x6cded0(0x165)}}),_0x199bd1=![];do{const _0x5b10f0=await _0x3e0adf,_0x45d8f9=_0x5b10f0[_0x6cded0(0x152)];if(_0x45d8f9[_0x6cded0(0x157)]!==status_enums_1[_0x6cded0(0x158)][_0x6cded0(0x153)])throw new veeva_error_1['VeevaError'](_0x45d8f9[_0x6cded0(0x177)]);const {responseDetails:{next_page:_0x16ed84},data:_0xb6163b}=_0x45d8f9;_0x16ed84?_0x3e0adf=this[_0x6cded0(0x176)][_0x6cded0(0x162)](_0x16ed84):_0x199bd1=!![],_0x279444[_0x6cded0(0x16b)](..._0xb6163b);}while(!_0x199bd1);return _0x279444;}async['createVeevaObjectRecords'](_0x55a1b0,_0x315fc2){const _0x37e4c2=a408_0x25c76c,_0x487961=[],_0x5b9e68=(0x0,utils_1[_0x37e4c2(0x148)])(_0x315fc2,VeevaService[_0x37e4c2(0x161)]),_0x51c350=_0x315fc2['length'];let _0x530388=0x0;for(const _0x148992 of _0x5b9e68){_0x530388+=_0x148992[_0x37e4c2(0x14a)],this[_0x37e4c2(0x14e)][_0x37e4c2(0x16f)](_0x37e4c2(0x167)+_0x530388+'/'+_0x51c350+_0x37e4c2(0x174));const _0x4960b2=await this['_connection']['post'](_0x55a1b0,_0x148992),_0x188bb8=_0x4960b2[_0x37e4c2(0x152)];if(_0x188bb8[_0x37e4c2(0x157)]===status_enums_1['VeevaResponseStatus'][_0x37e4c2(0x153)])for(const {responseStatus:_0x3f6674,data:_0x5e1f72}of _0x188bb8[_0x37e4c2(0x152)]){if(_0x3f6674===status_enums_1[_0x37e4c2(0x158)]['SUCCESS'])_0x487961[_0x37e4c2(0x16b)](_0x5e1f72['id']);else throw new veeva_error_1['VeevaError'](_0x188bb8['errors']);}else throw new veeva_error_1['VeevaError'](_0x188bb8[_0x37e4c2(0x177)]);}return _0x487961;}async['deleteVeevaObjectRecords'](_0x5b406d,_0x346a0e){const _0xb1487c=a408_0x25c76c,_0x5a5d07=_0x346a0e[_0xb1487c(0x149)](_0x23429d=>({'id':_0x23429d})),_0x2a0902=(0x0,utils_1[_0xb1487c(0x148)])(_0x5a5d07,VeevaService[_0xb1487c(0x15e)]);let _0x42d640=0x0;for(const _0x24715a of _0x2a0902){_0x42d640+=_0x24715a[_0xb1487c(0x14a)],this['_logger']['log'](_0xb1487c(0x163)+_0x42d640+'/'+_0x346a0e[_0xb1487c(0x14a)]+'\x20records');const {data:_0x1d293d}=await this[_0xb1487c(0x176)][_0xb1487c(0x15d)](_0x5b406d,{'headers':{'Content-Type':'application/json'},'data':_0x24715a});if(_0x1d293d['responseStatus']===status_enums_1[_0xb1487c(0x158)][_0xb1487c(0x153)])for(const _0x316c30 of _0x1d293d[_0xb1487c(0x152)]){const {responseStatus:_0x21fcd6,errors:_0x4a8711}=_0x316c30;if(_0x21fcd6!==status_enums_1[_0xb1487c(0x158)]['SUCCESS'])throw new veeva_error_1[(_0xb1487c(0x173))](_0x4a8711);}else throw new veeva_error_1[(_0xb1487c(0x173))](_0x1d293d[_0xb1487c(0x177)]);}}async[a408_0x25c76c(0x147)](_0xe32dd9){const _0x3d756d=a408_0x25c76c,_0xebc94c=[];do{this[_0x3d756d(0x14e)][_0x3d756d(0x16f)](_0x3d756d(0x15a)),await(0x0,utils_1[_0x3d756d(0x16d)])(VeevaService[_0x3d756d(0x156)]);const _0x4e16d6=[];for(const _0x2212f8 of _0xe32dd9){const {data:_0x5cb8dc}=await this[_0x3d756d(0x176)]['get'](_0x2212f8);if(_0x5cb8dc[_0x3d756d(0x157)]===status_enums_1[_0x3d756d(0x158)][_0x3d756d(0x153)]){const {data:_0xdfedc9}=_0x5cb8dc;switch(_0xdfedc9[_0x3d756d(0x160)]){case status_enums_1[_0x3d756d(0x168)][_0x3d756d(0x153)]:case status_enums_1[_0x3d756d(0x168)][_0x3d756d(0x151)]:_0xebc94c[_0x3d756d(0x16b)](_0xdfedc9);break;case status_enums_1[_0x3d756d(0x168)][_0x3d756d(0x175)]:case status_enums_1['VeevaJobStatus']['CANCELLED']:case status_enums_1[_0x3d756d(0x168)]['MISSED_SCHEDULE']:throw new Error('Cannot\x20retrieve\x20job.\x20Job\x20status:\x20'+_0xdfedc9['status']);case status_enums_1[_0x3d756d(0x168)]['QUEUED']:case status_enums_1[_0x3d756d(0x168)][_0x3d756d(0x15f)]:case status_enums_1[_0x3d756d(0x168)]['SCHEDULED']:_0x4e16d6['push'](_0x2212f8);break;default:throw new Error('Unknown\x20Job\x20status\x20:\x20\x27'+_0xdfedc9[_0x3d756d(0x160)]+'\x27');}}else throw new veeva_error_1['VeevaError'](_0x5cb8dc['errors']);}_0xe32dd9=_0x4e16d6;}while(_0xe32dd9[_0x3d756d(0x14a)]);return _0xebc94c;}}function a408_0x57b9(){const _0x46401a=['length','all','../../shared/utils','../enums/status.enums','_logger','17532810rZItpr','__esModule','ERRORS_ENCOUNTERED','data','SUCCESS','executeVQL','311979gBHXAf','JOB_STATUS_TIMEOUT','responseStatus','VeevaResponseStatus','2144425WxrLkz','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','ENDPOINT_VQL','450cnmacd','delete','DELETE_RECORDS_LIMIT','RUNNING','status','CREATE_RECORDS_LIMIT','get','Deleting\x20','7255619uzcbDX','application/x-www-form-urlencoded','constructor','Creating\x20','VeevaJobStatus','toString','../constants/veeva.constants','push','apply','sleep','(((.+)+)+)+$','log','defineProperty','VeevaService','12578igWKRH','VeevaError','\x20records.','QUEUEING','_connection','errors','1080288qhMijz','6UqYSUy','post','3413376UNLeYN','getJobResult','chunkArray','map'];a408_0x57b9=function(){return _0x46401a;};return a408_0x57b9();}exports[a408_0x25c76c(0x171)]=VeevaService,VeevaService[a408_0x25c76c(0x156)]=0x2710,VeevaService[a408_0x25c76c(0x161)]=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;