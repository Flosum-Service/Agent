const a340_0x3203b0=a340_0x4c4a;(function(_0x5c8e00,_0x2ec4b9){const _0x30b884=a340_0x4c4a,_0x2bec7a=_0x5c8e00();while(!![]){try{const _0x42f70a=-parseInt(_0x30b884(0x1f1))/0x1*(parseInt(_0x30b884(0x1dd))/0x2)+-parseInt(_0x30b884(0x1f7))/0x3*(parseInt(_0x30b884(0x1e7))/0x4)+-parseInt(_0x30b884(0x1c8))/0x5*(-parseInt(_0x30b884(0x1dc))/0x6)+parseInt(_0x30b884(0x1bd))/0x7*(parseInt(_0x30b884(0x1d3))/0x8)+-parseInt(_0x30b884(0x1cd))/0x9+parseInt(_0x30b884(0x1cb))/0xa+-parseInt(_0x30b884(0x1db))/0xb;if(_0x42f70a===_0x2ec4b9)break;else _0x2bec7a['push'](_0x2bec7a['shift']());}catch(_0x1162b7){_0x2bec7a['push'](_0x2bec7a['shift']());}}}(a340_0x1ff2,0xe30bf));const a340_0x5d4bd6=(function(){let _0x37538a=!![];return function(_0x9b3c3d,_0xced03f){const _0x248cb4=_0x37538a?function(){const _0x48b802=a340_0x4c4a;if(_0xced03f){const _0x3b94f1=_0xced03f[_0x48b802(0x1c5)](_0x9b3c3d,arguments);return _0xced03f=null,_0x3b94f1;}}:function(){};return _0x37538a=![],_0x248cb4;};}()),a340_0x5b2f11=a340_0x5d4bd6(this,function(){const _0x11b22d=a340_0x4c4a;return a340_0x5b2f11['toString']()[_0x11b22d(0x1c1)](_0x11b22d(0x1e8))[_0x11b22d(0x1c9)]()[_0x11b22d(0x1c0)](a340_0x5b2f11)['search'](_0x11b22d(0x1e8));});a340_0x5b2f11();function a340_0x1ff2(){const _0x18a98c=['4SsBNjk','(((.+)+)+)+$','map','DELETE_RECORDS_LIMIT','MISSED_SCHEDULE','errors','\x20records.','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','push','Creating\x20','145081muYexT','getJobResult','length','_logger','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','get','1015908JvMtQb','chunkArray','../classes/errors/veeva-error','902174HlkuOA','flat','__esModule','constructor','search','executeManyVQL','log','status','apply','responseStatus','delete','8247670uQPtzv','toString','sleep','4653070jEaqVz','VeevaResponseStatus','3549555hRavkv','deleteVeevaObjectRecords','Deleting\x20','data','SCHEDULED','VeevaError','96wpqudY','CREATE_RECORDS_LIMIT','ERRORS_ENCOUNTERED','\x20records','QUEUED','application/json','RUNNING','JOB_STATUS_TIMEOUT','7619502ZZxxGn','6EXFSEO','18xyCoRf','VeevaJobStatus','QUEUEING','../enums/status.enums','_connection','SUCCESS','VeevaService','executeVQL','createVeevaObjectRecords','../../shared/utils'];a340_0x1ff2=function(){return _0x18a98c;};return a340_0x1ff2();}'use strict';Object['defineProperty'](exports,a340_0x3203b0(0x1bf),{'value':!![]}),exports['VeevaService']=void 0x0;const utils_1=require(a340_0x3203b0(0x1e6)),status_enums_1=require(a340_0x3203b0(0x1e0)),veeva_error_1=require(a340_0x3203b0(0x1bc));class VeevaService{constructor({connection:_0x4f1ba5,logger:_0x4687b2}){const _0x3b98e9=a340_0x3203b0;this['_connection']=_0x4f1ba5,this[_0x3b98e9(0x1f4)]=_0x4687b2;}async[a340_0x3203b0(0x1c2)](_0x115724){const _0x27f3d1=a340_0x3203b0,_0x558d9a=[];for(const _0x1408bc of _0x115724){_0x558d9a[_0x27f3d1(0x1ef)](this[_0x27f3d1(0x1e4)](_0x1408bc));}const _0xcf0c28=await Promise['all'](_0x558d9a);return _0xcf0c28[_0x27f3d1(0x1be)]();}async[a340_0x3203b0(0x1e4)](_0xaf3ebf){const _0x2b91ad=a340_0x3203b0,_0x191e18=[];do{const _0xcd1041=await this[_0x2b91ad(0x1e1)][_0x2b91ad(0x1f6)](_0xaf3ebf),_0x419dda=_0xcd1041[_0x2b91ad(0x1d0)];if(_0x419dda[_0x2b91ad(0x1c6)]===status_enums_1[_0x2b91ad(0x1cc)]['SUCCESS']){const {responseDetails:{next_page:_0x37c440},data:_0x41f388}=_0x419dda;_0xaf3ebf=_0x37c440||null,_0x191e18[_0x2b91ad(0x1ef)](..._0x41f388);}else throw new veeva_error_1[(_0x2b91ad(0x1d2))](_0x419dda[_0x2b91ad(0x1ec)]);}while(_0xaf3ebf);return _0x191e18;}async[a340_0x3203b0(0x1e5)](_0x2c33ec,_0x52f038){const _0x3e6db0=a340_0x3203b0,_0x53031d=[],_0xe6ecb0=(0x0,utils_1[_0x3e6db0(0x1bb)])(_0x52f038,VeevaService[_0x3e6db0(0x1d4)]),_0x1934a6=_0x52f038[_0x3e6db0(0x1f3)];let _0x5964a4=0x0;for(const _0x90b23 of _0xe6ecb0){_0x5964a4+=_0x90b23[_0x3e6db0(0x1f3)],this['_logger']['log'](_0x3e6db0(0x1f0)+_0x5964a4+'/'+_0x1934a6+_0x3e6db0(0x1ed));const _0x38d5a8=await this[_0x3e6db0(0x1e1)]['post'](_0x2c33ec,_0x90b23),_0x5bb51d=_0x38d5a8['data'];if(_0x5bb51d[_0x3e6db0(0x1c6)]===status_enums_1['VeevaResponseStatus']['SUCCESS'])for(const {responseStatus:_0x406a77,data:_0x34de5a}of _0x5bb51d[_0x3e6db0(0x1d0)]){if(_0x406a77===status_enums_1[_0x3e6db0(0x1cc)][_0x3e6db0(0x1e2)])_0x53031d[_0x3e6db0(0x1ef)](_0x34de5a['id']);else throw new veeva_error_1['VeevaError'](_0x5bb51d[_0x3e6db0(0x1ec)]);}else throw new veeva_error_1[(_0x3e6db0(0x1d2))](_0x5bb51d[_0x3e6db0(0x1ec)]);}return _0x53031d;}async[a340_0x3203b0(0x1ce)](_0x3eb5dc,_0x19e82b){const _0x1d8e2f=a340_0x3203b0,_0x38f033=_0x19e82b[_0x1d8e2f(0x1e9)](_0x411221=>({'id':_0x411221})),_0x4615c4=(0x0,utils_1[_0x1d8e2f(0x1bb)])(_0x38f033,VeevaService[_0x1d8e2f(0x1ea)]);let _0x1945e7=0x0;for(const _0x455674 of _0x4615c4){_0x1945e7+=_0x455674[_0x1d8e2f(0x1f3)],this[_0x1d8e2f(0x1f4)][_0x1d8e2f(0x1c3)](_0x1d8e2f(0x1cf)+_0x1945e7+'/'+_0x19e82b[_0x1d8e2f(0x1f3)]+_0x1d8e2f(0x1d6));const {data:_0x3903cf}=await this['_connection'][_0x1d8e2f(0x1c7)](_0x3eb5dc,{'headers':{'Content-Type':_0x1d8e2f(0x1d8)},'data':_0x455674});if(_0x3903cf[_0x1d8e2f(0x1c6)]===status_enums_1[_0x1d8e2f(0x1cc)][_0x1d8e2f(0x1e2)])for(const _0x2fbc40 of _0x3903cf['data']){const {responseStatus:_0x4823bd,errors:_0x422685}=_0x2fbc40;if(_0x4823bd!==status_enums_1[_0x1d8e2f(0x1cc)][_0x1d8e2f(0x1e2)])throw new veeva_error_1[(_0x1d8e2f(0x1d2))](_0x422685);}else throw new veeva_error_1[(_0x1d8e2f(0x1d2))](_0x3903cf[_0x1d8e2f(0x1ec)]);}}async[a340_0x3203b0(0x1f2)](_0x32e838){const _0x34e66c=a340_0x3203b0,_0x1b9cea=[];do{this[_0x34e66c(0x1f4)]['log'](_0x34e66c(0x1f5)),await(0x0,utils_1[_0x34e66c(0x1ca)])(VeevaService[_0x34e66c(0x1da)]);const _0x2c6e10=[];for(const _0x4ad4a1 of _0x32e838){const {data:_0x1bfe79}=await this[_0x34e66c(0x1e1)][_0x34e66c(0x1f6)](_0x4ad4a1);if(_0x1bfe79[_0x34e66c(0x1c6)]===status_enums_1[_0x34e66c(0x1cc)]['SUCCESS']){const {data:_0xe7936e}=_0x1bfe79;switch(_0xe7936e[_0x34e66c(0x1c4)]){case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1e2)]:case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1d5)]:_0x1b9cea[_0x34e66c(0x1ef)](_0xe7936e);break;case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1df)]:case status_enums_1[_0x34e66c(0x1de)]['CANCELLED']:case status_enums_1['VeevaJobStatus'][_0x34e66c(0x1eb)]:throw new Error(_0x34e66c(0x1ee)+_0xe7936e[_0x34e66c(0x1c4)]);case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1d7)]:case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1d9)]:case status_enums_1[_0x34e66c(0x1de)][_0x34e66c(0x1d1)]:_0x2c6e10[_0x34e66c(0x1ef)](_0x4ad4a1);break;default:throw new Error('Unknown\x20Job\x20status\x20:\x20\x27'+_0xe7936e[_0x34e66c(0x1c4)]+'\x27');}}else throw new veeva_error_1[(_0x34e66c(0x1d2))](_0x1bfe79['errors']);}_0x32e838=_0x2c6e10;}while(_0x32e838[_0x34e66c(0x1f3)]);return _0x1b9cea;}}function a340_0x4c4a(_0x6e76e7,_0x3df1bb){const _0x103c6a=a340_0x1ff2();return a340_0x4c4a=function(_0x5b2f11,_0x5d4bd6){_0x5b2f11=_0x5b2f11-0x1bb;let _0x1ff295=_0x103c6a[_0x5b2f11];return _0x1ff295;},a340_0x4c4a(_0x6e76e7,_0x3df1bb);}exports[a340_0x3203b0(0x1e3)]=VeevaService,VeevaService[a340_0x3203b0(0x1da)]=0x2710,VeevaService[a340_0x3203b0(0x1d4)]=0x1f4,VeevaService[a340_0x3203b0(0x1ea)]=0x1f4;