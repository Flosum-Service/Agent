const a313_0x530b9b=a313_0xb084;(function(_0xff4c6d,_0x423264){const _0x3c074c=a313_0xb084,_0x4fe879=_0xff4c6d();while(!![]){try{const _0x1666bc=parseInt(_0x3c074c(0x1bc))/0x1*(-parseInt(_0x3c074c(0x1a9))/0x2)+parseInt(_0x3c074c(0x1a6))/0x3*(parseInt(_0x3c074c(0x1c7))/0x4)+-parseInt(_0x3c074c(0x1b9))/0x5*(-parseInt(_0x3c074c(0x1ac))/0x6)+-parseInt(_0x3c074c(0x1d4))/0x7*(parseInt(_0x3c074c(0x1a4))/0x8)+-parseInt(_0x3c074c(0x1c4))/0x9+-parseInt(_0x3c074c(0x1b8))/0xa+-parseInt(_0x3c074c(0x1aa))/0xb*(-parseInt(_0x3c074c(0x1c5))/0xc);if(_0x1666bc===_0x423264)break;else _0x4fe879['push'](_0x4fe879['shift']());}catch(_0x421bbf){_0x4fe879['push'](_0x4fe879['shift']());}}}(a313_0xc567,0xa9fc7));const a313_0x2c7036=(function(){let _0x26a604=!![];return function(_0x292691,_0x5381d9){const _0x3c7c52=_0x26a604?function(){const _0x2aab1a=a313_0xb084;if(_0x5381d9){const _0x28892d=_0x5381d9[_0x2aab1a(0x1be)](_0x292691,arguments);return _0x5381d9=null,_0x28892d;}}:function(){};return _0x26a604=![],_0x3c7c52;};}()),a313_0x50bf8a=a313_0x2c7036(this,function(){const _0x59fa2a=a313_0xb084;return a313_0x50bf8a[_0x59fa2a(0x1c6)]()[_0x59fa2a(0x1d2)](_0x59fa2a(0x1cd))[_0x59fa2a(0x1c6)]()[_0x59fa2a(0x1b7)](a313_0x50bf8a)[_0x59fa2a(0x1d2)](_0x59fa2a(0x1cd));});a313_0x50bf8a();function a313_0xc567(){const _0x2fe4fd=['CANCELLED','Deleting\x20','1dYyRPa','status','apply','../../shared/utils','all','chunkArray','VeevaError','deleteVeevaObjectRecords','4021119zDqVtX','2488236xmorUd','toString','940yWKvwz','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','QUEUEING','JOB_STATUS_TIMEOUT','executeVQL','(((.+)+)+)+$','CREATE_RECORDS_LIMIT','responseStatus','defineProperty','createVeevaObjectRecords','search','../classes/errors/veeva-error','538636nMDhaE','errors','data','SUCCESS','Unknown\x20Job\x20status\x20:\x20\x27','Creating\x20','log','48GJxbaD','VeevaJobStatus','267NGgqXm','get','sleep','1284676EIihxd','132mxDpBm','\x20records','1002sVcemq','push','flat','\x20records.','DELETE_RECORDS_LIMIT','map','length','delete','SCHEDULED','getJobResult','VeevaResponseStatus','constructor','10989080LJgVzA','25055kbdHUr'];a313_0xc567=function(){return _0x2fe4fd;};return a313_0xc567();}'use strict';Object[a313_0x530b9b(0x1d0)](exports,'__esModule',{'value':!![]}),exports['VeevaService']=void 0x0;const utils_1=require(a313_0x530b9b(0x1bf)),status_enums_1=require('../enums/status.enums'),veeva_error_1=require(a313_0x530b9b(0x1d3));function a313_0xb084(_0x438b69,_0x2c1455){const _0x3d946f=a313_0xc567();return a313_0xb084=function(_0x50bf8a,_0x2c7036){_0x50bf8a=_0x50bf8a-0x1a3;let _0xc567ec=_0x3d946f[_0x50bf8a];return _0xc567ec;},a313_0xb084(_0x438b69,_0x2c1455);}class VeevaService{static async['executeManyVQL'](_0x49b80b,_0x49f279){const _0x4b8106=a313_0x530b9b,_0x1e6a9d=[];for(const _0xdb1a5f of _0x49b80b){_0x1e6a9d[_0x4b8106(0x1ad)](this[_0x4b8106(0x1cc)](_0xdb1a5f,_0x49f279));}const _0x230b6c=await Promise[_0x4b8106(0x1c0)](_0x1e6a9d);return _0x230b6c[_0x4b8106(0x1ae)]();}static async[a313_0x530b9b(0x1cc)](_0x4067c7,_0x2007c2){const _0x227721=a313_0x530b9b,_0x3bb5f6=[];do{const _0x2fc5f1=await _0x2007c2[_0x227721(0x1a7)](_0x4067c7),_0xe4b283=_0x2fc5f1[_0x227721(0x1d6)];if(_0xe4b283[_0x227721(0x1cf)]===status_enums_1['VeevaResponseStatus'][_0x227721(0x1d7)]){const {responseDetails:{next_page:_0x3f5338},data:_0x373ab3}=_0xe4b283;_0x4067c7=_0x3f5338||null,_0x3bb5f6[_0x227721(0x1ad)](..._0x373ab3);}else throw new veeva_error_1[(_0x227721(0x1c2))](_0xe4b283[_0x227721(0x1d5)]);}while(_0x4067c7);return _0x3bb5f6;}static async[a313_0x530b9b(0x1d1)](_0x260a2e,_0x39327d,_0x4056ee,_0x15917b){const _0x3ff38e=a313_0x530b9b,_0x23a49d=[],_0x5f1ba7=(0x0,utils_1[_0x3ff38e(0x1c1)])(_0x4056ee,VeevaService['CREATE_RECORDS_LIMIT']),_0x58e9ff=_0x4056ee['length'];let _0x1cad1b=0x0;for(const _0x588b0c of _0x5f1ba7){_0x1cad1b+=_0x588b0c[_0x3ff38e(0x1b2)],_0x15917b[_0x3ff38e(0x1a3)](_0x3ff38e(0x1d9)+_0x1cad1b+'/'+_0x58e9ff+_0x3ff38e(0x1af));const _0x5e930d=await _0x39327d['post'](_0x260a2e,_0x588b0c),_0x50f1b2=_0x5e930d[_0x3ff38e(0x1d6)];if(_0x50f1b2[_0x3ff38e(0x1cf)]===status_enums_1[_0x3ff38e(0x1b6)][_0x3ff38e(0x1d7)])for(const {responseStatus:_0x1f54eb,data:_0x52e66f}of _0x50f1b2[_0x3ff38e(0x1d6)]){if(_0x1f54eb===status_enums_1[_0x3ff38e(0x1b6)][_0x3ff38e(0x1d7)])_0x23a49d[_0x3ff38e(0x1ad)](_0x52e66f['id']);else throw new veeva_error_1[(_0x3ff38e(0x1c2))](_0x50f1b2[_0x3ff38e(0x1d5)]);}else throw new veeva_error_1[(_0x3ff38e(0x1c2))](_0x50f1b2[_0x3ff38e(0x1d5)]);}return _0x23a49d;}static async[a313_0x530b9b(0x1c3)](_0x128d6c,_0x269f8e,_0x19c49b,_0x340a52){const _0xa8f89c=a313_0x530b9b,_0x4064b8=_0x19c49b[_0xa8f89c(0x1b1)](_0x24bca2=>({'id':_0x24bca2})),_0x5469ca=(0x0,utils_1['chunkArray'])(_0x4064b8,VeevaService[_0xa8f89c(0x1b0)]);let _0x31fb61=0x0;for(const _0x29f60c of _0x5469ca){_0x31fb61+=_0x29f60c[_0xa8f89c(0x1b2)],_0x340a52[_0xa8f89c(0x1a3)](_0xa8f89c(0x1bb)+_0x31fb61+'/'+_0x19c49b[_0xa8f89c(0x1b2)]+_0xa8f89c(0x1ab));const {data:_0x47af1b}=await _0x269f8e[_0xa8f89c(0x1b3)](_0x128d6c,{'headers':{'Content-Type':'application/json'},'data':_0x29f60c});if(_0x47af1b['responseStatus']===status_enums_1[_0xa8f89c(0x1b6)]['SUCCESS'])for(const _0x435534 of _0x47af1b[_0xa8f89c(0x1d6)]){const {responseStatus:_0x291e8a,errors:_0x3251b1}=_0x435534;if(_0x291e8a!==status_enums_1[_0xa8f89c(0x1b6)][_0xa8f89c(0x1d7)])throw new veeva_error_1[(_0xa8f89c(0x1c2))](_0x3251b1);}else throw new veeva_error_1[(_0xa8f89c(0x1c2))](_0x47af1b[_0xa8f89c(0x1d5)]);}}static async[a313_0x530b9b(0x1b5)](_0x1ec277,_0x3c30c0,_0x2e5a06){const _0x12cc91=a313_0x530b9b,_0xf6f73=[];do{_0x2e5a06[_0x12cc91(0x1a3)](_0x12cc91(0x1c9)),await(0x0,utils_1[_0x12cc91(0x1a8)])(VeevaService[_0x12cc91(0x1cb)]);const _0x2b95b6=[];for(const _0x280bb7 of _0x1ec277){const {data:_0x3d3265}=await _0x3c30c0[_0x12cc91(0x1a7)](_0x280bb7);if(_0x3d3265[_0x12cc91(0x1cf)]===status_enums_1[_0x12cc91(0x1b6)][_0x12cc91(0x1d7)]){const {data:_0x3acec9}=_0x3d3265;switch(_0x3acec9[_0x12cc91(0x1bd)]){case status_enums_1['VeevaJobStatus'][_0x12cc91(0x1d7)]:case status_enums_1[_0x12cc91(0x1a5)]['ERRORS_ENCOUNTERED']:_0xf6f73['push'](_0x3acec9);break;case status_enums_1[_0x12cc91(0x1a5)][_0x12cc91(0x1ca)]:case status_enums_1[_0x12cc91(0x1a5)][_0x12cc91(0x1ba)]:case status_enums_1[_0x12cc91(0x1a5)]['MISSED_SCHEDULE']:throw new Error(_0x12cc91(0x1c8)+_0x3acec9['status']);case status_enums_1[_0x12cc91(0x1a5)]['QUEUED']:case status_enums_1[_0x12cc91(0x1a5)]['RUNNING']:case status_enums_1[_0x12cc91(0x1a5)][_0x12cc91(0x1b4)]:_0x2b95b6['push'](_0x280bb7);break;default:throw new Error(_0x12cc91(0x1d8)+_0x3acec9[_0x12cc91(0x1bd)]+'\x27');}}else throw new veeva_error_1[(_0x12cc91(0x1c2))](_0x3d3265[_0x12cc91(0x1d5)]);}_0x1ec277=_0x2b95b6;}while(_0x1ec277[_0x12cc91(0x1b2)]);return _0xf6f73;}}exports['VeevaService']=VeevaService,VeevaService[a313_0x530b9b(0x1cb)]=0x2710,VeevaService[a313_0x530b9b(0x1ce)]=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;