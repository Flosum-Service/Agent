const a364_0x3e79ae=a364_0x1533;(function(_0x26b522,_0x3bc121){const _0x1c73af=a364_0x1533,_0x39fc46=_0x26b522();while(!![]){try{const _0x125a0b=parseInt(_0x1c73af(0xcc))/0x1*(parseInt(_0x1c73af(0xa6))/0x2)+-parseInt(_0x1c73af(0xcd))/0x3+parseInt(_0x1c73af(0xd4))/0x4*(parseInt(_0x1c73af(0xa0))/0x5)+-parseInt(_0x1c73af(0xaf))/0x6*(-parseInt(_0x1c73af(0xd8))/0x7)+-parseInt(_0x1c73af(0xb2))/0x8+-parseInt(_0x1c73af(0xc6))/0x9*(-parseInt(_0x1c73af(0xac))/0xa)+parseInt(_0x1c73af(0xc3))/0xb*(-parseInt(_0x1c73af(0xd3))/0xc);if(_0x125a0b===_0x3bc121)break;else _0x39fc46['push'](_0x39fc46['shift']());}catch(_0x1dc8d7){_0x39fc46['push'](_0x39fc46['shift']());}}}(a364_0x5ce9,0x5f745));const a364_0x1d7ff0=(function(){let _0x370aed=!![];return function(_0x907ab7,_0xf5ce66){const _0x34105c=_0x370aed?function(){if(_0xf5ce66){const _0x5021c0=_0xf5ce66['apply'](_0x907ab7,arguments);return _0xf5ce66=null,_0x5021c0;}}:function(){};return _0x370aed=![],_0x34105c;};}()),a364_0x4a1136=a364_0x1d7ff0(this,function(){const _0x42623c=a364_0x1533;return a364_0x4a1136[_0x42623c(0xaa)]()[_0x42623c(0xc0)](_0x42623c(0xa1))[_0x42623c(0xaa)]()['constructor'](a364_0x4a1136)['search'](_0x42623c(0xa1));});a364_0x4a1136();function a364_0x1533(_0x19fe02,_0x10cadd){const _0x59b910=a364_0x5ce9();return a364_0x1533=function(_0x4a1136,_0x1d7ff0){_0x4a1136=_0x4a1136-0x9e;let _0x5ce969=_0x59b910[_0x4a1136];return _0x5ce969;},a364_0x1533(_0x19fe02,_0x10cadd);}'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a364_0x3e79ae(0xd1)]=void 0x0;const utils_1=require(a364_0x3e79ae(0xad)),status_enums_1=require(a364_0x3e79ae(0xb1)),veeva_error_1=require(a364_0x3e79ae(0xbf));class VeevaService{constructor({connection:_0x262453,logger:_0x1ea11d}){const _0x1990a9=a364_0x3e79ae;this[_0x1990a9(0xd2)]=_0x262453,this[_0x1990a9(0xc7)]=_0x1ea11d;}async['executeManyVQL'](_0x29cb97){const _0x5dd49d=a364_0x3e79ae,_0x36e9b5=[];for(const _0x11d784 of _0x29cb97){_0x36e9b5['push'](this[_0x5dd49d(0xa9)](_0x11d784));}const _0x3f6d16=await Promise[_0x5dd49d(0xb6)](_0x36e9b5);return _0x3f6d16[_0x5dd49d(0xab)]();}async[a364_0x3e79ae(0xa9)](_0x18db6d){const _0x3d9144=a364_0x3e79ae,_0x590cd9=[];do{const _0x5ef6ae=await this[_0x3d9144(0xd2)][_0x3d9144(0xd5)](_0x18db6d),_0x4f936d=_0x5ef6ae[_0x3d9144(0xb8)];if(_0x4f936d['responseStatus']===status_enums_1[_0x3d9144(0xce)][_0x3d9144(0xb7)]){const {responseDetails:{next_page:_0x567e50},data:_0x4eaab6}=_0x4f936d;_0x18db6d=_0x567e50||null,_0x590cd9['push'](..._0x4eaab6);}else throw new veeva_error_1['VeevaError'](_0x4f936d[_0x3d9144(0xc4)]);}while(_0x18db6d);return _0x590cd9;}async[a364_0x3e79ae(0xc8)](_0x1e28f8,_0x389785){const _0xc78fec=a364_0x3e79ae,_0x5377d9=[],_0x1e2012=(0x0,utils_1['chunkArray'])(_0x389785,VeevaService[_0xc78fec(0xb0)]),_0x534019=_0x389785[_0xc78fec(0xc5)];let _0x178a73=0x0;for(const _0x9622d8 of _0x1e2012){_0x178a73+=_0x9622d8[_0xc78fec(0xc5)],this['_logger'][_0xc78fec(0xba)](_0xc78fec(0xc1)+_0x178a73+'/'+_0x534019+'\x20records.');const _0x26414d=await this['_connection'][_0xc78fec(0xcb)](_0x1e28f8,_0x9622d8),_0x5a78d2=_0x26414d[_0xc78fec(0xb8)];if(_0x5a78d2['responseStatus']===status_enums_1[_0xc78fec(0xce)][_0xc78fec(0xb7)])for(const {responseStatus:_0x7c8a88,data:_0xa6edeb}of _0x5a78d2[_0xc78fec(0xb8)]){if(_0x7c8a88===status_enums_1[_0xc78fec(0xce)][_0xc78fec(0xb7)])_0x5377d9[_0xc78fec(0xa8)](_0xa6edeb['id']);else throw new veeva_error_1[(_0xc78fec(0xa3))](_0x5a78d2[_0xc78fec(0xc4)]);}else throw new veeva_error_1[(_0xc78fec(0xa3))](_0x5a78d2['errors']);}return _0x5377d9;}async[a364_0x3e79ae(0xb3)](_0x230a4d,_0x1afe28){const _0x2f5ef5=a364_0x3e79ae,_0x2eb3a8=_0x1afe28[_0x2f5ef5(0xb5)](_0x1843eb=>({'id':_0x1843eb})),_0x7f9b0a=(0x0,utils_1[_0x2f5ef5(0xc9)])(_0x2eb3a8,VeevaService[_0x2f5ef5(0xae)]);let _0x1ce782=0x0;for(const _0x2c8286 of _0x7f9b0a){_0x1ce782+=_0x2c8286[_0x2f5ef5(0xc5)],this[_0x2f5ef5(0xc7)][_0x2f5ef5(0xba)]('Deleting\x20'+_0x1ce782+'/'+_0x1afe28['length']+_0x2f5ef5(0xd7));const {data:_0x255e64}=await this['_connection'][_0x2f5ef5(0xa5)](_0x230a4d,{'headers':{'Content-Type':_0x2f5ef5(0xbd)},'data':_0x2c8286});if(_0x255e64['responseStatus']===status_enums_1[_0x2f5ef5(0xce)][_0x2f5ef5(0xb7)])for(const _0x5b3a67 of _0x255e64[_0x2f5ef5(0xb8)]){const {responseStatus:_0x10dd12,errors:_0x5b1af3}=_0x5b3a67;if(_0x10dd12!==status_enums_1['VeevaResponseStatus']['SUCCESS'])throw new veeva_error_1[(_0x2f5ef5(0xa3))](_0x5b1af3);}else throw new veeva_error_1[(_0x2f5ef5(0xa3))](_0x255e64[_0x2f5ef5(0xc4)]);}}async[a364_0x3e79ae(0xa2)](_0x356d82){const _0x44bb0f=a364_0x3e79ae,_0x54d6d4=[];do{this[_0x44bb0f(0xc7)][_0x44bb0f(0xba)](_0x44bb0f(0xa7)),await(0x0,utils_1[_0x44bb0f(0xbc)])(VeevaService['JOB_STATUS_TIMEOUT']);const _0x46ba48=[];for(const _0x49eb11 of _0x356d82){const {data:_0x1e381a}=await this[_0x44bb0f(0xd2)]['get'](_0x49eb11);if(_0x1e381a[_0x44bb0f(0x9e)]===status_enums_1['VeevaResponseStatus']['SUCCESS']){const {data:_0x1e2fde}=_0x1e381a;switch(_0x1e2fde[_0x44bb0f(0xa4)]){case status_enums_1[_0x44bb0f(0xcf)][_0x44bb0f(0xb7)]:case status_enums_1[_0x44bb0f(0xcf)][_0x44bb0f(0xc2)]:_0x54d6d4['push'](_0x1e2fde);break;case status_enums_1[_0x44bb0f(0xcf)][_0x44bb0f(0xb9)]:case status_enums_1['VeevaJobStatus'][_0x44bb0f(0xb4)]:case status_enums_1['VeevaJobStatus'][_0x44bb0f(0xbb)]:throw new Error(_0x44bb0f(0x9f)+_0x1e2fde['status']);case status_enums_1[_0x44bb0f(0xcf)]['QUEUED']:case status_enums_1[_0x44bb0f(0xcf)][_0x44bb0f(0xbe)]:case status_enums_1[_0x44bb0f(0xcf)][_0x44bb0f(0xca)]:_0x46ba48['push'](_0x49eb11);break;default:throw new Error(_0x44bb0f(0xd6)+_0x1e2fde[_0x44bb0f(0xa4)]+'\x27');}}else throw new veeva_error_1[(_0x44bb0f(0xa3))](_0x1e381a[_0x44bb0f(0xc4)]);}_0x356d82=_0x46ba48;}while(_0x356d82[_0x44bb0f(0xc5)]);return _0x54d6d4;}}function a364_0x5ce9(){const _0xd3ca62=['QUEUEING','log','MISSED_SCHEDULE','sleep','application/json','RUNNING','../classes/errors/veeva-error','search','Creating\x20','ERRORS_ENCOUNTERED','17505851XDLhPc','errors','length','612WlYLrc','_logger','createVeevaObjectRecords','chunkArray','SCHEDULED','post','164932SVXHSg','926151jGMWKE','VeevaResponseStatus','VeevaJobStatus','JOB_STATUS_TIMEOUT','VeevaService','_connection','12fBJkva','47764nczcMF','get','Unknown\x20Job\x20status\x20:\x20\x27','\x20records','7buVtfK','responseStatus','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','295HtVsDN','(((.+)+)+)+$','getJobResult','VeevaError','status','delete','8JihOwy','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','push','executeVQL','toString','flat','111120hTaIbP','../../shared/utils','DELETE_RECORDS_LIMIT','1745598vMNSrn','CREATE_RECORDS_LIMIT','../enums/status.enums','957256XYMbPe','deleteVeevaObjectRecords','CANCELLED','map','all','SUCCESS','data'];a364_0x5ce9=function(){return _0xd3ca62;};return a364_0x5ce9();}exports[a364_0x3e79ae(0xd1)]=VeevaService,VeevaService[a364_0x3e79ae(0xd0)]=0x2710,VeevaService['CREATE_RECORDS_LIMIT']=0x1f4,VeevaService[a364_0x3e79ae(0xae)]=0x1f4;