const a340_0x45c302=a340_0x15c3;(function(_0x349102,_0x1f8eb3){const _0x38da88=a340_0x15c3,_0x253ec1=_0x349102();while(!![]){try{const _0xff1a50=-parseInt(_0x38da88(0x1b1))/0x1+parseInt(_0x38da88(0x194))/0x2+-parseInt(_0x38da88(0x1ae))/0x3*(parseInt(_0x38da88(0x1a1))/0x4)+-parseInt(_0x38da88(0x1b9))/0x5+parseInt(_0x38da88(0x190))/0x6+parseInt(_0x38da88(0x191))/0x7+-parseInt(_0x38da88(0x1b3))/0x8*(-parseInt(_0x38da88(0x18f))/0x9);if(_0xff1a50===_0x1f8eb3)break;else _0x253ec1['push'](_0x253ec1['shift']());}catch(_0x1c6fde){_0x253ec1['push'](_0x253ec1['shift']());}}}(a340_0xaf4b,0x6ba23));const a340_0x4229bf=(function(){let _0x53be81=!![];return function(_0x3b5137,_0x228554){const _0xdb5b9a=_0x53be81?function(){const _0x9c665a=a340_0x15c3;if(_0x228554){const _0x581170=_0x228554[_0x9c665a(0x18b)](_0x3b5137,arguments);return _0x228554=null,_0x581170;}}:function(){};return _0x53be81=![],_0xdb5b9a;};}()),a340_0x12143e=a340_0x4229bf(this,function(){const _0x39c45=a340_0x15c3;return a340_0x12143e['toString']()['search'](_0x39c45(0x19a))['toString']()[_0x39c45(0x19d)](a340_0x12143e)[_0x39c45(0x1ab)](_0x39c45(0x19a));});a340_0x12143e();'use strict';Object[a340_0x45c302(0x189)](exports,a340_0x45c302(0x18a),{'value':!![]}),exports[a340_0x45c302(0x1bb)]=void 0x0;const utils_1=require(a340_0x45c302(0x186)),status_enums_1=require(a340_0x45c302(0x19f)),veeva_error_1=require(a340_0x45c302(0x1a8));class VeevaService{constructor({connection:_0x12a06c,logger:_0x3d47c8}){const _0x229b91=a340_0x45c302;this[_0x229b91(0x1a5)]=_0x12a06c,this[_0x229b91(0x196)]=_0x3d47c8;}async[a340_0x45c302(0x193)](_0x47fd3d){const _0x18f115=a340_0x45c302,_0x18f40d=[];for(const _0x133ef1 of _0x47fd3d){_0x18f40d[_0x18f115(0x1b5)](this['executeVQL'](_0x133ef1));}const _0x3982d2=await Promise[_0x18f115(0x18d)](_0x18f40d);return _0x3982d2[_0x18f115(0x1bc)]();}async[a340_0x45c302(0x1ac)](_0x405e05){const _0x2e64c4=a340_0x45c302,_0x3fcf18=[];do{const _0x3f65fd=await this[_0x2e64c4(0x1a5)]['get'](_0x405e05),_0x264477=_0x3f65fd[_0x2e64c4(0x1aa)];if(_0x264477[_0x2e64c4(0x1b2)]===status_enums_1[_0x2e64c4(0x1a7)][_0x2e64c4(0x1b0)]){const {responseDetails:{next_page:_0x1340bd},data:_0x126183}=_0x264477;_0x405e05=_0x1340bd||null,_0x3fcf18['push'](..._0x126183);}else throw new veeva_error_1[(_0x2e64c4(0x1a9))](_0x264477[_0x2e64c4(0x1ad)]);}while(_0x405e05);return _0x3fcf18;}async['createVeevaObjectRecords'](_0x162a30,_0xb88f9a){const _0x41dd86=a340_0x45c302,_0x477036=[],_0x1ec4f0=(0x0,utils_1[_0x41dd86(0x1b8)])(_0xb88f9a,VeevaService[_0x41dd86(0x1bd)]),_0x511270=_0xb88f9a[_0x41dd86(0x1b4)];let _0x46c063=0x0;for(const _0x2bd8d1 of _0x1ec4f0){_0x46c063+=_0x2bd8d1[_0x41dd86(0x1b4)],this['_logger'][_0x41dd86(0x195)](_0x41dd86(0x197)+_0x46c063+'/'+_0x511270+_0x41dd86(0x1a2));const _0x58592e=await this[_0x41dd86(0x1a5)][_0x41dd86(0x188)](_0x162a30,_0x2bd8d1),_0x157669=_0x58592e[_0x41dd86(0x1aa)];if(_0x157669['responseStatus']===status_enums_1[_0x41dd86(0x1a7)]['SUCCESS'])for(const {responseStatus:_0x56b376,data:_0x31d009}of _0x157669[_0x41dd86(0x1aa)]){if(_0x56b376===status_enums_1[_0x41dd86(0x1a7)][_0x41dd86(0x1b0)])_0x477036['push'](_0x31d009['id']);else throw new veeva_error_1[(_0x41dd86(0x1a9))](_0x157669[_0x41dd86(0x1ad)]);}else throw new veeva_error_1[(_0x41dd86(0x1a9))](_0x157669[_0x41dd86(0x1ad)]);}return _0x477036;}async['deleteVeevaObjectRecords'](_0x1e2df3,_0x544d54){const _0x4529f6=a340_0x45c302,_0x3048f2=_0x544d54[_0x4529f6(0x1b7)](_0xe07ce2=>({'id':_0xe07ce2})),_0x6236d3=(0x0,utils_1[_0x4529f6(0x1b8)])(_0x3048f2,VeevaService['DELETE_RECORDS_LIMIT']);let _0xbfe9c6=0x0;for(const _0x1cbf34 of _0x6236d3){_0xbfe9c6+=_0x1cbf34['length'],this['_logger'][_0x4529f6(0x195)](_0x4529f6(0x1a4)+_0xbfe9c6+'/'+_0x544d54[_0x4529f6(0x1b4)]+_0x4529f6(0x187));const {data:_0x3f2db7}=await this['_connection'][_0x4529f6(0x1a3)](_0x1e2df3,{'headers':{'Content-Type':_0x4529f6(0x19c)},'data':_0x1cbf34});if(_0x3f2db7['responseStatus']===status_enums_1[_0x4529f6(0x1a7)][_0x4529f6(0x1b0)])for(const _0x49041a of _0x3f2db7['data']){const {responseStatus:_0x2fa225,errors:_0x2f9bd3}=_0x49041a;if(_0x2fa225!==status_enums_1[_0x4529f6(0x1a7)][_0x4529f6(0x1b0)])throw new veeva_error_1[(_0x4529f6(0x1a9))](_0x2f9bd3);}else throw new veeva_error_1[(_0x4529f6(0x1a9))](_0x3f2db7[_0x4529f6(0x1ad)]);}}async[a340_0x45c302(0x1af)](_0x58f26b){const _0x4af362=a340_0x45c302,_0x775cdb=[];do{this[_0x4af362(0x196)][_0x4af362(0x195)](_0x4af362(0x1a6)),await(0x0,utils_1[_0x4af362(0x18e)])(VeevaService[_0x4af362(0x1b6)]);const _0x4860be=[];for(const _0x28fee2 of _0x58f26b){const {data:_0x1f1b9e}=await this[_0x4af362(0x1a5)]['get'](_0x28fee2);if(_0x1f1b9e['responseStatus']===status_enums_1[_0x4af362(0x1a7)][_0x4af362(0x1b0)]){const {data:_0x22e113}=_0x1f1b9e;switch(_0x22e113[_0x4af362(0x19b)]){case status_enums_1['VeevaJobStatus']['SUCCESS']:case status_enums_1[_0x4af362(0x1a0)]['ERRORS_ENCOUNTERED']:_0x775cdb[_0x4af362(0x1b5)](_0x22e113);break;case status_enums_1[_0x4af362(0x1a0)][_0x4af362(0x19e)]:case status_enums_1[_0x4af362(0x1a0)]['CANCELLED']:case status_enums_1[_0x4af362(0x1a0)][_0x4af362(0x199)]:throw new Error(_0x4af362(0x198)+_0x22e113['status']);case status_enums_1[_0x4af362(0x1a0)]['QUEUED']:case status_enums_1[_0x4af362(0x1a0)][_0x4af362(0x1ba)]:case status_enums_1[_0x4af362(0x1a0)][_0x4af362(0x18c)]:_0x4860be[_0x4af362(0x1b5)](_0x28fee2);break;default:throw new Error(_0x4af362(0x192)+_0x22e113[_0x4af362(0x19b)]+'\x27');}}else throw new veeva_error_1[(_0x4af362(0x1a9))](_0x1f1b9e[_0x4af362(0x1ad)]);}_0x58f26b=_0x4860be;}while(_0x58f26b[_0x4af362(0x1b4)]);return _0x775cdb;}}exports[a340_0x45c302(0x1bb)]=VeevaService,VeevaService[a340_0x45c302(0x1b6)]=0x2710,VeevaService[a340_0x45c302(0x1bd)]=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;function a340_0x15c3(_0x415c69,_0x2f4e9c){const _0x7d13f7=a340_0xaf4b();return a340_0x15c3=function(_0x12143e,_0x4229bf){_0x12143e=_0x12143e-0x186;let _0xaf4b4b=_0x7d13f7[_0x12143e];return _0xaf4b4b;},a340_0x15c3(_0x415c69,_0x2f4e9c);}function a340_0xaf4b(){const _0x455263=['1731290MQRvUM','log','_logger','Creating\x20','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','MISSED_SCHEDULE','(((.+)+)+)+$','status','application/json','constructor','QUEUEING','../enums/status.enums','VeevaJobStatus','664DZcqhM','\x20records.','delete','Deleting\x20','_connection','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','VeevaResponseStatus','../classes/errors/veeva-error','VeevaError','data','search','executeVQL','errors','1053SRpqwX','getJobResult','SUCCESS','59437EsKKLD','responseStatus','8GrJIkr','length','push','JOB_STATUS_TIMEOUT','map','chunkArray','3463855exJEIg','RUNNING','VeevaService','flat','CREATE_RECORDS_LIMIT','../../shared/utils','\x20records','post','defineProperty','__esModule','apply','SCHEDULED','all','sleep','967779ifDwWr','1535484DqvWwt','155757fPTHBp','Unknown\x20Job\x20status\x20:\x20\x27','executeManyVQL'];a340_0xaf4b=function(){return _0x455263;};return a340_0xaf4b();}