const a364_0x19345c=a364_0x4dc5;function a364_0x4dc5(_0x2a4659,_0x212739){const _0x563409=a364_0x4949();return a364_0x4dc5=function(_0x242084,_0x43091){_0x242084=_0x242084-0x1b0;let _0x49498d=_0x563409[_0x242084];return _0x49498d;},a364_0x4dc5(_0x2a4659,_0x212739);}function a364_0x4949(){const _0x324aab=['VeevaJobStatus','Unknown\x20Job\x20status\x20:\x20\x27','JOB_STATUS_TIMEOUT','5633145WtQkiK','21FnDzqt','DELETE_RECORDS_LIMIT','Cannot\x20retrieve\x20job.\x20Job\x20status:\x20','status','constructor','10601hhyZnW','log','Creating\x20','search','_connection','(((.+)+)+)+$','deleteVeevaObjectRecords','SCHEDULED','1870DIQcwu','SUCCESS','40zscumE','application/json','post','toString','defineProperty','sleep','6361872dBAhfA','Check\x20Retrieval\x20Status:\x20Not\x20Completed.\x20Next\x20check\x20after\x2010\x20seconds.','length','ERRORS_ENCOUNTERED','_logger','4766811ygGaBm','chunkArray','VeevaService','apply','VeevaResponseStatus','push','8148876iqKZOy','data','11WSpSZm','../../shared/utils','responseStatus','executeVQL','getJobResult','delete','all','CREATE_RECORDS_LIMIT','143756FpTQYa','errors','13383RQWDWB','8bOYbPc','get','../enums/status.enums','VeevaError','CANCELLED'];a364_0x4949=function(){return _0x324aab;};return a364_0x4949();}(function(_0x13dc8f,_0x481607){const _0x5eb4ef=a364_0x4dc5,_0x4926d9=_0x13dc8f();while(!![]){try{const _0x4ed1f3=-parseInt(_0x5eb4ef(0x1d0))/0x1*(parseInt(_0x5eb4ef(0x1da))/0x2)+-parseInt(_0x5eb4ef(0x1cb))/0x3*(-parseInt(_0x5eb4ef(0x1bf))/0x4)+parseInt(_0x5eb4ef(0x1ca))/0x5+parseInt(_0x5eb4ef(0x1e0))/0x6+parseInt(_0x5eb4ef(0x1e5))/0x7*(-parseInt(_0x5eb4ef(0x1c2))/0x8)+-parseInt(_0x5eb4ef(0x1c1))/0x9*(parseInt(_0x5eb4ef(0x1d8))/0xa)+-parseInt(_0x5eb4ef(0x1b7))/0xb*(parseInt(_0x5eb4ef(0x1b5))/0xc);if(_0x4ed1f3===_0x481607)break;else _0x4926d9['push'](_0x4926d9['shift']());}catch(_0x294bc7){_0x4926d9['push'](_0x4926d9['shift']());}}}(a364_0x4949,0x8fa5b));const a364_0x43091=(function(){let _0x51fced=!![];return function(_0x5489f3,_0x2ea631){const _0x13f4f8=_0x51fced?function(){const _0x2bef4a=a364_0x4dc5;if(_0x2ea631){const _0x31f8ae=_0x2ea631[_0x2bef4a(0x1b2)](_0x5489f3,arguments);return _0x2ea631=null,_0x31f8ae;}}:function(){};return _0x51fced=![],_0x13f4f8;};}()),a364_0x242084=a364_0x43091(this,function(){const _0x4b953b=a364_0x4dc5;return a364_0x242084[_0x4b953b(0x1dd)]()[_0x4b953b(0x1d3)]('(((.+)+)+)+$')[_0x4b953b(0x1dd)]()[_0x4b953b(0x1cf)](a364_0x242084)[_0x4b953b(0x1d3)](_0x4b953b(0x1d5));});a364_0x242084();'use strict';Object[a364_0x19345c(0x1de)](exports,'__esModule',{'value':!![]}),exports[a364_0x19345c(0x1b1)]=void 0x0;const utils_1=require(a364_0x19345c(0x1b8)),status_enums_1=require(a364_0x19345c(0x1c4)),veeva_error_1=require('../classes/errors/veeva-error');class VeevaService{constructor({connection:_0x3e3f9a,logger:_0x338b26}){const _0x1b4fa9=a364_0x19345c;this[_0x1b4fa9(0x1d4)]=_0x3e3f9a,this[_0x1b4fa9(0x1e4)]=_0x338b26;}async['executeManyVQL'](_0x2f9550){const _0x156fa4=a364_0x19345c,_0x13758f=[];for(const _0x4aa4db of _0x2f9550){_0x13758f[_0x156fa4(0x1b4)](this[_0x156fa4(0x1ba)](_0x4aa4db));}const _0x489a15=await Promise[_0x156fa4(0x1bd)](_0x13758f);return _0x489a15['flat']();}async[a364_0x19345c(0x1ba)](_0x40e975){const _0xb7a2ad=a364_0x19345c,_0x1ef581=[];do{const _0x1a7c81=await this[_0xb7a2ad(0x1d4)][_0xb7a2ad(0x1c3)](_0x40e975),_0x51fa67=_0x1a7c81[_0xb7a2ad(0x1b6)];if(_0x51fa67[_0xb7a2ad(0x1b9)]===status_enums_1[_0xb7a2ad(0x1b3)][_0xb7a2ad(0x1d9)]){const {responseDetails:{next_page:_0x52ab2b},data:_0x25b39c}=_0x51fa67;_0x40e975=_0x52ab2b||null,_0x1ef581[_0xb7a2ad(0x1b4)](..._0x25b39c);}else throw new veeva_error_1[(_0xb7a2ad(0x1c5))](_0x51fa67['errors']);}while(_0x40e975);return _0x1ef581;}async['createVeevaObjectRecords'](_0x5d27c7,_0x55c908){const _0x49bd98=a364_0x19345c,_0x52f267=[],_0x517d93=(0x0,utils_1[_0x49bd98(0x1b0)])(_0x55c908,VeevaService[_0x49bd98(0x1be)]),_0x54091c=_0x55c908['length'];let _0x1bda8a=0x0;for(const _0x30f42a of _0x517d93){_0x1bda8a+=_0x30f42a[_0x49bd98(0x1e2)],this['_logger']['log'](_0x49bd98(0x1d2)+_0x1bda8a+'/'+_0x54091c+'\x20records.');const _0x38a30d=await this['_connection'][_0x49bd98(0x1dc)](_0x5d27c7,_0x30f42a),_0x405a52=_0x38a30d[_0x49bd98(0x1b6)];if(_0x405a52[_0x49bd98(0x1b9)]===status_enums_1[_0x49bd98(0x1b3)]['SUCCESS'])for(const {responseStatus:_0x4fb61a,data:_0x4c6a71}of _0x405a52['data']){if(_0x4fb61a===status_enums_1[_0x49bd98(0x1b3)][_0x49bd98(0x1d9)])_0x52f267[_0x49bd98(0x1b4)](_0x4c6a71['id']);else throw new veeva_error_1[(_0x49bd98(0x1c5))](_0x405a52[_0x49bd98(0x1c0)]);}else throw new veeva_error_1[(_0x49bd98(0x1c5))](_0x405a52[_0x49bd98(0x1c0)]);}return _0x52f267;}async[a364_0x19345c(0x1d6)](_0x1cce1b,_0x7b6d30){const _0x289638=a364_0x19345c,_0x45cee6=_0x7b6d30['map'](_0x4c1131=>({'id':_0x4c1131})),_0xb5ac49=(0x0,utils_1[_0x289638(0x1b0)])(_0x45cee6,VeevaService[_0x289638(0x1cc)]);let _0x2bb545=0x0;for(const _0x50ad1b of _0xb5ac49){_0x2bb545+=_0x50ad1b[_0x289638(0x1e2)],this[_0x289638(0x1e4)][_0x289638(0x1d1)]('Deleting\x20'+_0x2bb545+'/'+_0x7b6d30[_0x289638(0x1e2)]+'\x20records');const {data:_0x4fe29f}=await this['_connection'][_0x289638(0x1bc)](_0x1cce1b,{'headers':{'Content-Type':_0x289638(0x1db)},'data':_0x50ad1b});if(_0x4fe29f[_0x289638(0x1b9)]===status_enums_1[_0x289638(0x1b3)][_0x289638(0x1d9)])for(const _0x8451a5 of _0x4fe29f[_0x289638(0x1b6)]){const {responseStatus:_0x51539a,errors:_0x48e745}=_0x8451a5;if(_0x51539a!==status_enums_1['VeevaResponseStatus']['SUCCESS'])throw new veeva_error_1[(_0x289638(0x1c5))](_0x48e745);}else throw new veeva_error_1[(_0x289638(0x1c5))](_0x4fe29f[_0x289638(0x1c0)]);}}async[a364_0x19345c(0x1bb)](_0x5e787b){const _0x2a056e=a364_0x19345c,_0xeb8e11=[];do{this[_0x2a056e(0x1e4)][_0x2a056e(0x1d1)](_0x2a056e(0x1e1)),await(0x0,utils_1[_0x2a056e(0x1df)])(VeevaService[_0x2a056e(0x1c9)]);const _0x452d12=[];for(const _0x10ac3f of _0x5e787b){const {data:_0x3fc944}=await this[_0x2a056e(0x1d4)]['get'](_0x10ac3f);if(_0x3fc944[_0x2a056e(0x1b9)]===status_enums_1['VeevaResponseStatus'][_0x2a056e(0x1d9)]){const {data:_0xd704a7}=_0x3fc944;switch(_0xd704a7['status']){case status_enums_1[_0x2a056e(0x1c7)][_0x2a056e(0x1d9)]:case status_enums_1[_0x2a056e(0x1c7)][_0x2a056e(0x1e3)]:_0xeb8e11[_0x2a056e(0x1b4)](_0xd704a7);break;case status_enums_1[_0x2a056e(0x1c7)]['QUEUEING']:case status_enums_1['VeevaJobStatus'][_0x2a056e(0x1c6)]:case status_enums_1[_0x2a056e(0x1c7)]['MISSED_SCHEDULE']:throw new Error(_0x2a056e(0x1cd)+_0xd704a7[_0x2a056e(0x1ce)]);case status_enums_1[_0x2a056e(0x1c7)]['QUEUED']:case status_enums_1[_0x2a056e(0x1c7)]['RUNNING']:case status_enums_1[_0x2a056e(0x1c7)][_0x2a056e(0x1d7)]:_0x452d12['push'](_0x10ac3f);break;default:throw new Error(_0x2a056e(0x1c8)+_0xd704a7[_0x2a056e(0x1ce)]+'\x27');}}else throw new veeva_error_1[(_0x2a056e(0x1c5))](_0x3fc944[_0x2a056e(0x1c0)]);}_0x5e787b=_0x452d12;}while(_0x5e787b[_0x2a056e(0x1e2)]);return _0xeb8e11;}}exports['VeevaService']=VeevaService,VeevaService[a364_0x19345c(0x1c9)]=0x2710,VeevaService['CREATE_RECORDS_LIMIT']=0x1f4,VeevaService['DELETE_RECORDS_LIMIT']=0x1f4;