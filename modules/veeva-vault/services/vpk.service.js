function a396_0x1b70(){const _0x18bf92=['227280jTkriO','130617etzRDb','96173NCRPfM','70JiYWNw','search','144KGvNXK','parse','errors','form-data','constructor','220FMvDSX','(((.+)+)+)+$','VeevaConstants','createReadStream','../enums/status.enums','2QisUgJ','updateVeevaConnection','data','__importDefault','multipart/form-data','40uupiFw','__esModule','492024kQGaPG','validate','ENDPOINT_VALIDATE_VPK','ENDPOINT_EXPORT_IMPORT_PACKAGE','4096116UYkZSr','content-type','apply','application/json','generate','VeevaError','../constants/veeva.constants','default','file','arraybuffer','responseStatus','append','../classes/errors/veeva-error','toString','_connection','post','19004VCgudT','VpkService','345614GPDTjH'];a396_0x1b70=function(){return _0x18bf92;};return a396_0x1b70();}const a396_0x291f4a=a396_0x5c07;(function(_0x5edd1a,_0x94faf2){const _0x320cdc=a396_0x5c07,_0xbf6c56=_0x5edd1a();while(!![]){try{const _0x409b29=parseInt(_0x320cdc(0x12b))/0x1*(parseInt(_0x320cdc(0x11b))/0x2)+parseInt(_0x320cdc(0x132))/0x3+parseInt(_0x320cdc(0x146))/0x4*(-parseInt(_0x320cdc(0x130))/0x5)+parseInt(_0x320cdc(0x11c))/0x6*(-parseInt(_0x320cdc(0x11f))/0x7)+parseInt(_0x320cdc(0x121))/0x8*(parseInt(_0x320cdc(0x11d))/0x9)+-parseInt(_0x320cdc(0x126))/0xa*(-parseInt(_0x320cdc(0x11e))/0xb)+-parseInt(_0x320cdc(0x136))/0xc;if(_0x409b29===_0x94faf2)break;else _0xbf6c56['push'](_0xbf6c56['shift']());}catch(_0x22df9e){_0xbf6c56['push'](_0xbf6c56['shift']());}}}(a396_0x1b70,0x320fb));const a396_0x18b11b=(function(){let _0x4c0c6a=!![];return function(_0x1fb7cf,_0x2949fb){const _0x1f9897=_0x4c0c6a?function(){const _0xf36e55=a396_0x5c07;if(_0x2949fb){const _0x460732=_0x2949fb[_0xf36e55(0x138)](_0x1fb7cf,arguments);return _0x2949fb=null,_0x460732;}}:function(){};return _0x4c0c6a=![],_0x1f9897;};}()),a396_0x5881d5=a396_0x18b11b(this,function(){const _0x1543b4=a396_0x5c07;return a396_0x5881d5[_0x1543b4(0x143)]()[_0x1543b4(0x120)]('(((.+)+)+)+$')['toString']()[_0x1543b4(0x125)](a396_0x5881d5)[_0x1543b4(0x120)](_0x1543b4(0x127));});a396_0x5881d5();'use strict';var __importDefault=this&&this[a396_0x291f4a(0x12e)]||function(_0x596bd6){const _0x1c25b2=a396_0x291f4a;return _0x596bd6&&_0x596bd6[_0x1c25b2(0x131)]?_0x596bd6:{'default':_0x596bd6};};function a396_0x5c07(_0x4c1cc2,_0x1acffc){const _0x1354a4=a396_0x1b70();return a396_0x5c07=function(_0x5881d5,_0x18b11b){_0x5881d5=_0x5881d5-0x11b;let _0x1b7065=_0x1354a4[_0x5881d5];return _0x1b7065;},a396_0x5c07(_0x4c1cc2,_0x1acffc);}Object['defineProperty'](exports,a396_0x291f4a(0x131),{'value':!![]}),exports[a396_0x291f4a(0x147)]=void 0x0;const form_data_1=__importDefault(require(a396_0x291f4a(0x124))),fs_1=require('fs'),veeva_constants_1=require(a396_0x291f4a(0x13c)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a396_0x291f4a(0x142)),status_enums_1=require(a396_0x291f4a(0x12a));class VpkService{constructor({connection:_0xa39868}){const _0x753b3e=a396_0x291f4a;this[_0x753b3e(0x144)]=_0xa39868;}async[a396_0x291f4a(0x13a)](_0x63e1aa,_0x541e91=0x1){const _0x2f9200=a396_0x291f4a;var _0xdb2194;const _0x547962=new form_data_1[(_0x2f9200(0x13d))]();_0x547962[_0x2f9200(0x141)](_0x2f9200(0x13e),(0x0,fs_1[_0x2f9200(0x129)])(_0x63e1aa));const _0x55a91=await this['_connection'][_0x2f9200(0x145)](veeva_constants_1[_0x2f9200(0x128)][_0x2f9200(0x135)],_0x547962,{'responseType':_0x2f9200(0x13f),'headers':{'Content-Type':_0x2f9200(0x12f)}}),_0x5e618a=(_0xdb2194=_0x55a91['headers'][_0x2f9200(0x137)])===null||_0xdb2194===void 0x0?void 0x0:_0xdb2194['includes'](_0x2f9200(0x139));if(!_0x5e618a)return _0x55a91['data'];else{const _0x4ab786=JSON[_0x2f9200(0x122)](_0x55a91['data']);if(_0x541e91>0x0)return await(0x0,veeva_auth_utils_1[_0x2f9200(0x12c)])(this[_0x2f9200(0x144)]),await this[_0x2f9200(0x13a)](_0x63e1aa,_0x541e91-0x1);throw new veeva_error_1[(_0x2f9200(0x13b))](_0x4ab786[_0x2f9200(0x123)]);}}async[a396_0x291f4a(0x133)](_0xec60e4,_0xab95b=0x1){const _0x45f24f=a396_0x291f4a,_0x2dad2a=new form_data_1['default']();_0x2dad2a[_0x45f24f(0x141)](_0x45f24f(0x13e),(0x0,fs_1[_0x45f24f(0x129)])(_0xec60e4));const _0x12feeb=await this[_0x45f24f(0x144)][_0x45f24f(0x145)](veeva_constants_1[_0x45f24f(0x128)][_0x45f24f(0x134)],_0x2dad2a,{'headers':{'Content-Type':_0x45f24f(0x12f)}}),_0x4699a7=_0x12feeb[_0x45f24f(0x12d)];if(_0x4699a7[_0x45f24f(0x140)]===status_enums_1['VeevaResponseStatus']['SUCCESS'])return _0x4699a7;else{if(_0xab95b>0x0)return await(0x0,veeva_auth_utils_1[_0x45f24f(0x12c)])(this[_0x45f24f(0x144)]),await this[_0x45f24f(0x133)](_0xec60e4,_0xab95b-0x1);throw new veeva_error_1[(_0x45f24f(0x13b))](_0x4699a7[_0x45f24f(0x123)]);}}}exports[a396_0x291f4a(0x147)]=VpkService;