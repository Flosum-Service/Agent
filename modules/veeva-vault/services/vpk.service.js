const a409_0x348e48=a409_0x1d87;(function(_0x2c2779,_0x124736){const _0x59b8cf=a409_0x1d87,_0x35ced5=_0x2c2779();while(!![]){try{const _0x303f80=-parseInt(_0x59b8cf(0x1e2))/0x1*(-parseInt(_0x59b8cf(0x1c5))/0x2)+parseInt(_0x59b8cf(0x1cc))/0x3*(parseInt(_0x59b8cf(0x1d6))/0x4)+parseInt(_0x59b8cf(0x1c2))/0x5+parseInt(_0x59b8cf(0x1c1))/0x6*(-parseInt(_0x59b8cf(0x1e0))/0x7)+-parseInt(_0x59b8cf(0x1da))/0x8+parseInt(_0x59b8cf(0x1e3))/0x9*(parseInt(_0x59b8cf(0x1d1))/0xa)+-parseInt(_0x59b8cf(0x1c3))/0xb;if(_0x303f80===_0x124736)break;else _0x35ced5['push'](_0x35ced5['shift']());}catch(_0x30789b){_0x35ced5['push'](_0x35ced5['shift']());}}}(a409_0x5a60,0x6e902));const a409_0x24a66d=(function(){let _0x1b4d25=!![];return function(_0x1459e5,_0x36c7e4){const _0x151ce4=_0x1b4d25?function(){if(_0x36c7e4){const _0x511275=_0x36c7e4['apply'](_0x1459e5,arguments);return _0x36c7e4=null,_0x511275;}}:function(){};return _0x1b4d25=![],_0x151ce4;};}()),a409_0x1f4903=a409_0x24a66d(this,function(){const _0x111f81=a409_0x1d87;return a409_0x1f4903[_0x111f81(0x1dc)]()[_0x111f81(0x1e4)]('(((.+)+)+)+$')['toString']()[_0x111f81(0x1ca)](a409_0x1f4903)['search']('(((.+)+)+)+$');});a409_0x1f4903();'use strict';function a409_0x1d87(_0x155af1,_0x141076){const _0x30e83b=a409_0x5a60();return a409_0x1d87=function(_0x1f4903,_0x24a66d){_0x1f4903=_0x1f4903-0x1bc;let _0x5a60b3=_0x30e83b[_0x1f4903];return _0x5a60b3;},a409_0x1d87(_0x155af1,_0x141076);}var __importDefault=this&&this[a409_0x348e48(0x1d9)]||function(_0x2ee6de){const _0x2f2621=a409_0x348e48;return _0x2ee6de&&_0x2ee6de[_0x2f2621(0x1d8)]?_0x2ee6de:{'default':_0x2ee6de};};function a409_0x5a60(){const _0x57c445=['application/json','post','VeevaError','multipart/form-data','constructor','append','953463lnucjD','VeevaResponseStatus','../classes/errors/veeva-error','ENDPOINT_VALIDATE_VPK','updateVeevaConnection','1129160VbJKrP','form-data','headers','createReadStream','responseStatus','4DHwMNU','../enums/status.enums','__esModule','__importDefault','6061344kObnOi','parse','toString','../utils/veeva-auth.utils','errors','data','28woiyyG','ENDPOINT_EXPORT_IMPORT_PACKAGE','1NVbDmt','54LxCYdZ','search','VeevaConstants','VpkService','file','_connection','defineProperty','includes','default','571770LIWIfX','3253295xSyFxA','1980594xeNTRI','content-type','251584DsVQSo'];a409_0x5a60=function(){return _0x57c445;};return a409_0x5a60();}Object[a409_0x348e48(0x1be)](exports,a409_0x348e48(0x1d8),{'value':!![]}),exports[a409_0x348e48(0x1e6)]=void 0x0;const form_data_1=__importDefault(require(a409_0x348e48(0x1d2))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a409_0x348e48(0x1dd)),veeva_error_1=require(a409_0x348e48(0x1ce)),status_enums_1=require(a409_0x348e48(0x1d7));class VpkService{constructor({connection:_0x2e7d75}){const _0x3b5904=a409_0x348e48;this[_0x3b5904(0x1bd)]=_0x2e7d75;}async['generate'](_0x3a7ab9,_0xe2d908=0x1){const _0xfeff7d=a409_0x348e48;var _0x33be4d;const _0x33e986=new form_data_1['default']();_0x33e986[_0xfeff7d(0x1cb)](_0xfeff7d(0x1bc),(0x0,fs_1[_0xfeff7d(0x1d4)])(_0x3a7ab9));const _0x69065b=await this[_0xfeff7d(0x1bd)][_0xfeff7d(0x1c7)](veeva_constants_1[_0xfeff7d(0x1e5)][_0xfeff7d(0x1e1)],_0x33e986,{'responseType':'arraybuffer','headers':{'Content-Type':_0xfeff7d(0x1c9)}}),_0x1ae1df=(_0x33be4d=_0x69065b[_0xfeff7d(0x1d3)][_0xfeff7d(0x1c4)])===null||_0x33be4d===void 0x0?void 0x0:_0x33be4d[_0xfeff7d(0x1bf)](_0xfeff7d(0x1c6));if(!_0x1ae1df)return _0x69065b[_0xfeff7d(0x1df)];else{const _0x47581b=JSON[_0xfeff7d(0x1db)](_0x69065b[_0xfeff7d(0x1df)]);if(_0xe2d908>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0xfeff7d(0x1bd)]),await this['generate'](_0x3a7ab9,_0xe2d908-0x1);throw new veeva_error_1[(_0xfeff7d(0x1c8))](_0x47581b[_0xfeff7d(0x1de)]);}}async['validate'](_0x217e36,_0x1696da=0x1){const _0x21e560=a409_0x348e48,_0x315caf=new form_data_1[(_0x21e560(0x1c0))]();_0x315caf[_0x21e560(0x1cb)]('file',(0x0,fs_1['createReadStream'])(_0x217e36));const _0x57c089=await this[_0x21e560(0x1bd)][_0x21e560(0x1c7)](veeva_constants_1[_0x21e560(0x1e5)][_0x21e560(0x1cf)],_0x315caf,{'headers':{'Content-Type':_0x21e560(0x1c9)}}),_0x279f35=_0x57c089[_0x21e560(0x1df)];if(_0x279f35[_0x21e560(0x1d5)]===status_enums_1[_0x21e560(0x1cd)]['SUCCESS'])return _0x279f35;else{if(_0x1696da>0x0)return await(0x0,veeva_auth_utils_1[_0x21e560(0x1d0)])(this[_0x21e560(0x1bd)]),await this['validate'](_0x217e36,_0x1696da-0x1);throw new veeva_error_1[(_0x21e560(0x1c8))](_0x279f35['errors']);}}}exports[a409_0x348e48(0x1e6)]=VpkService;