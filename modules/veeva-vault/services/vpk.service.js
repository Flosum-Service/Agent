const a341_0x4dd3e3=a341_0x234b;(function(_0x2b6e40,_0x55422e){const _0x13d30d=a341_0x234b,_0x224c03=_0x2b6e40();while(!![]){try{const _0x526b0a=-parseInt(_0x13d30d(0x9a))/0x1*(-parseInt(_0x13d30d(0xa0))/0x2)+parseInt(_0x13d30d(0x87))/0x3+-parseInt(_0x13d30d(0x86))/0x4+parseInt(_0x13d30d(0x94))/0x5*(parseInt(_0x13d30d(0x7f))/0x6)+-parseInt(_0x13d30d(0x76))/0x7+-parseInt(_0x13d30d(0x99))/0x8*(-parseInt(_0x13d30d(0x90))/0x9)+-parseInt(_0x13d30d(0x8e))/0xa*(parseInt(_0x13d30d(0x8f))/0xb);if(_0x526b0a===_0x55422e)break;else _0x224c03['push'](_0x224c03['shift']());}catch(_0x1ef07b){_0x224c03['push'](_0x224c03['shift']());}}}(a341_0x5a1e,0x8bf32));const a341_0x4ecdb3=(function(){let _0x1ace25=!![];return function(_0x3c4527,_0x2924c2){const _0x49cfc3=_0x1ace25?function(){const _0x5cc4d0=a341_0x234b;if(_0x2924c2){const _0x28087f=_0x2924c2[_0x5cc4d0(0x8d)](_0x3c4527,arguments);return _0x2924c2=null,_0x28087f;}}:function(){};return _0x1ace25=![],_0x49cfc3;};}()),a341_0x2ec79a=a341_0x4ecdb3(this,function(){const _0x5ed214=a341_0x234b;return a341_0x2ec79a[_0x5ed214(0x82)]()[_0x5ed214(0x91)](_0x5ed214(0x9d))[_0x5ed214(0x82)]()[_0x5ed214(0x9f)](a341_0x2ec79a)[_0x5ed214(0x91)]('(((.+)+)+)+$');});function a341_0x5a1e(){const _0x138f4f=['arraybuffer','form-data','post','186iBhker','content-type','responseStatus','toString','default','errors','VeevaConstants','472940wHJLSx','3057297QqyeQr','_connection','../enums/status.enums','updateVeevaConnection','multipart/form-data','validate','apply','6959870aliDRR','22LlYmFK','9yNnEPV','search','includes','VpkService','50795uwLRWM','../constants/veeva.constants','VeevaResponseStatus','createReadStream','append','3722120CXyslB','178214XoDelN','__esModule','generate','(((.+)+)+)+$','SUCCESS','constructor','8ABsAJu','headers','data','ENDPOINT_VALIDATE_VPK','3000942SETEDA','VeevaError','file','__importDefault','ENDPOINT_EXPORT_IMPORT_PACKAGE','application/json'];a341_0x5a1e=function(){return _0x138f4f;};return a341_0x5a1e();}a341_0x2ec79a();'use strict';var __importDefault=this&&this[a341_0x4dd3e3(0x79)]||function(_0x37c113){const _0x4e5a41=a341_0x4dd3e3;return _0x37c113&&_0x37c113[_0x4e5a41(0x9b)]?_0x37c113:{'default':_0x37c113};};Object['defineProperty'](exports,a341_0x4dd3e3(0x9b),{'value':!![]}),exports[a341_0x4dd3e3(0x93)]=void 0x0;function a341_0x234b(_0x177536,_0x14f720){const _0x3eea92=a341_0x5a1e();return a341_0x234b=function(_0x2ec79a,_0x4ecdb3){_0x2ec79a=_0x2ec79a-0x74;let _0x5a1e49=_0x3eea92[_0x2ec79a];return _0x5a1e49;},a341_0x234b(_0x177536,_0x14f720);}const form_data_1=__importDefault(require(a341_0x4dd3e3(0x7d))),fs_1=require('fs'),veeva_constants_1=require(a341_0x4dd3e3(0x95)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a341_0x4dd3e3(0x89));class VpkService{constructor({connection:_0x5218de}){this['_connection']=_0x5218de;}async[a341_0x4dd3e3(0x9c)](_0x174696,_0x12239a=0x1){const _0x500813=a341_0x4dd3e3;var _0x4025cf;const _0x381cec=new form_data_1[(_0x500813(0x83))]();_0x381cec[_0x500813(0x98)](_0x500813(0x78),(0x0,fs_1[_0x500813(0x97)])(_0x174696));const _0x48234a=await this[_0x500813(0x88)][_0x500813(0x7e)](veeva_constants_1[_0x500813(0x85)][_0x500813(0x7a)],_0x381cec,{'responseType':_0x500813(0x7c),'headers':{'Content-Type':_0x500813(0x8b)}}),_0x488769=(_0x4025cf=_0x48234a[_0x500813(0xa1)][_0x500813(0x80)])===null||_0x4025cf===void 0x0?void 0x0:_0x4025cf[_0x500813(0x92)](_0x500813(0x7b));if(!_0x488769)return _0x48234a[_0x500813(0x74)];else{const _0x7b1857=JSON['parse'](_0x48234a[_0x500813(0x74)]);if(_0x12239a>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this['_connection']),await this['generate'](_0x174696,_0x12239a-0x1);throw new veeva_error_1['VeevaError'](_0x7b1857[_0x500813(0x84)]);}}async[a341_0x4dd3e3(0x8c)](_0x37a829,_0x5b1890=0x1){const _0x5ac594=a341_0x4dd3e3,_0x437b4a=new form_data_1[(_0x5ac594(0x83))]();_0x437b4a['append'](_0x5ac594(0x78),(0x0,fs_1['createReadStream'])(_0x37a829));const _0x3576aa=await this[_0x5ac594(0x88)][_0x5ac594(0x7e)](veeva_constants_1[_0x5ac594(0x85)][_0x5ac594(0x75)],_0x437b4a,{'headers':{'Content-Type':_0x5ac594(0x8b)}}),_0x244355=_0x3576aa[_0x5ac594(0x74)];if(_0x244355[_0x5ac594(0x81)]===status_enums_1[_0x5ac594(0x96)][_0x5ac594(0x9e)])return _0x244355;else{if(_0x5b1890>0x0)return await(0x0,veeva_auth_utils_1[_0x5ac594(0x8a)])(this[_0x5ac594(0x88)]),await this[_0x5ac594(0x8c)](_0x37a829,_0x5b1890-0x1);throw new veeva_error_1[(_0x5ac594(0x77))](_0x244355['errors']);}}}exports[a341_0x4dd3e3(0x93)]=VpkService;