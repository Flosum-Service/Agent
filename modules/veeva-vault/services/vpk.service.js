const a341_0xd69cf0=a341_0x165c;(function(_0x2f6b31,_0x53c0e3){const _0x585439=a341_0x165c,_0x1f29ab=_0x2f6b31();while(!![]){try{const _0x4854dc=-parseInt(_0x585439(0xb7))/0x1*(-parseInt(_0x585439(0x90))/0x2)+parseInt(_0x585439(0xb6))/0x3*(parseInt(_0x585439(0xab))/0x4)+parseInt(_0x585439(0x8c))/0x5*(parseInt(_0x585439(0x89))/0x6)+parseInt(_0x585439(0xb0))/0x7*(parseInt(_0x585439(0x96))/0x8)+parseInt(_0x585439(0xa7))/0x9*(parseInt(_0x585439(0x8a))/0xa)+parseInt(_0x585439(0x99))/0xb*(-parseInt(_0x585439(0xad))/0xc)+parseInt(_0x585439(0x88))/0xd*(-parseInt(_0x585439(0x9c))/0xe);if(_0x4854dc===_0x53c0e3)break;else _0x1f29ab['push'](_0x1f29ab['shift']());}catch(_0x5c4d17){_0x1f29ab['push'](_0x1f29ab['shift']());}}}(a341_0x2b57,0x2a1a5));const a341_0x198b05=(function(){let _0x24eaba=!![];return function(_0x4cf83b,_0x361324){const _0x535900=_0x24eaba?function(){const _0x510e3a=a341_0x165c;if(_0x361324){const _0x450cae=_0x361324[_0x510e3a(0xa6)](_0x4cf83b,arguments);return _0x361324=null,_0x450cae;}}:function(){};return _0x24eaba=![],_0x535900;};}()),a341_0x28fb93=a341_0x198b05(this,function(){const _0xe45153=a341_0x165c;return a341_0x28fb93['toString']()['search'](_0xe45153(0xaa))[_0xe45153(0x8f)]()[_0xe45153(0xa3)](a341_0x28fb93)[_0xe45153(0xa5)](_0xe45153(0xaa));});function a341_0x165c(_0x441747,_0x4435bb){const _0x2cd23e=a341_0x2b57();return a341_0x165c=function(_0x28fb93,_0x198b05){_0x28fb93=_0x28fb93-0x88;let _0x2b5708=_0x2cd23e[_0x28fb93];return _0x2b5708;},a341_0x165c(_0x441747,_0x4435bb);}a341_0x28fb93();function a341_0x2b57(){const _0x274625=['toString','4dALAje','createReadStream','post','headers','multipart/form-data','../utils/veeva-auth.utils','8168kmMAcj','ENDPOINT_EXPORT_IMPORT_PACKAGE','ENDPOINT_VALIDATE_VPK','1331aDwqSH','updateVeevaConnection','generate','2013172burbYy','file','../enums/status.enums','default','application/json','data','__esModule','constructor','SUCCESS','search','apply','84906XfeqLQ','errors','responseStatus','(((.+)+)+)+$','224jxeEih','VeevaResponseStatus','18804hBLcGU','VpkService','../classes/errors/veeva-error','2338CsZuni','includes','_connection','parse','validate','content-type','7467ERIfYL','127016HIsbiX','65iOzeev','1254cUhseL','250GMFskG','arraybuffer','2650zLhSTU','VeevaError','VeevaConstants'];a341_0x2b57=function(){return _0x274625;};return a341_0x2b57();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x589eb5){const _0x1a6850=a341_0x165c;return _0x589eb5&&_0x589eb5[_0x1a6850(0xa2)]?_0x589eb5:{'default':_0x589eb5};};Object['defineProperty'](exports,a341_0xd69cf0(0xa2),{'value':!![]}),exports[a341_0xd69cf0(0xae)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a341_0xd69cf0(0x95)),veeva_error_1=require(a341_0xd69cf0(0xaf)),status_enums_1=require(a341_0xd69cf0(0x9e));class VpkService{constructor({connection:_0x5e715d}){this['_connection']=_0x5e715d;}async[a341_0xd69cf0(0x9b)](_0x49e8bf,_0x2e2c78=0x1){const _0xd6ef62=a341_0xd69cf0;var _0x32930f;const _0x59ace9=new form_data_1[(_0xd6ef62(0x9f))]();_0x59ace9['append']('file',(0x0,fs_1['createReadStream'])(_0x49e8bf));const _0xd14f3=await this[_0xd6ef62(0xb2)][_0xd6ef62(0x92)](veeva_constants_1[_0xd6ef62(0x8e)][_0xd6ef62(0x97)],_0x59ace9,{'responseType':_0xd6ef62(0x8b),'headers':{'Content-Type':_0xd6ef62(0x94)}}),_0x256176=(_0x32930f=_0xd14f3[_0xd6ef62(0x93)][_0xd6ef62(0xb5)])===null||_0x32930f===void 0x0?void 0x0:_0x32930f[_0xd6ef62(0xb1)](_0xd6ef62(0xa0));if(!_0x256176)return _0xd14f3['data'];else{const _0x5327ad=JSON[_0xd6ef62(0xb3)](_0xd14f3[_0xd6ef62(0xa1)]);if(_0x2e2c78>0x0)return await(0x0,veeva_auth_utils_1[_0xd6ef62(0x9a)])(this['_connection']),await this['generate'](_0x49e8bf,_0x2e2c78-0x1);throw new veeva_error_1[(_0xd6ef62(0x8d))](_0x5327ad[_0xd6ef62(0xa8)]);}}async['validate'](_0x376ec1,_0x31c2a0=0x1){const _0x522f7a=a341_0xd69cf0,_0x1adeb4=new form_data_1['default']();_0x1adeb4['append'](_0x522f7a(0x9d),(0x0,fs_1[_0x522f7a(0x91)])(_0x376ec1));const _0x3e46c6=await this['_connection']['post'](veeva_constants_1[_0x522f7a(0x8e)][_0x522f7a(0x98)],_0x1adeb4,{'headers':{'Content-Type':'multipart/form-data'}}),_0x187b67=_0x3e46c6['data'];if(_0x187b67[_0x522f7a(0xa9)]===status_enums_1[_0x522f7a(0xac)][_0x522f7a(0xa4)])return _0x187b67;else{if(_0x31c2a0>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this['_connection']),await this[_0x522f7a(0xb4)](_0x376ec1,_0x31c2a0-0x1);throw new veeva_error_1[(_0x522f7a(0x8d))](_0x187b67[_0x522f7a(0xa8)]);}}}exports[a341_0xd69cf0(0xae)]=VpkService;