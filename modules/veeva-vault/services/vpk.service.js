const a409_0x1aa24e=a409_0x5685;function a409_0x5685(_0x39da48,_0x10f699){const _0x4d2579=a409_0x433b();return a409_0x5685=function(_0x396d33,_0x28aff0){_0x396d33=_0x396d33-0x112;let _0x433b5d=_0x4d2579[_0x396d33];return _0x433b5d;},a409_0x5685(_0x39da48,_0x10f699);}function a409_0x433b(){const _0x3db1fb=['multipart/form-data','(((.+)+)+)+$','11VpjxLG','../constants/veeva.constants','data','content-type','4615gGLzCn','errors','413688WoKhDM','generate','application/json','constructor','491722iBXjUH','1712169vtFoLy','__esModule','7hlghsv','VeevaResponseStatus','arraybuffer','validate','ENDPOINT_EXPORT_IMPORT_PACKAGE','4976844pHejVx','post','__importDefault','search','defineProperty','12hIebbS','10WpQGkE','186WfFJkH','_connection','ENDPOINT_VALIDATE_VPK','VpkService','default','append','../utils/veeva-auth.utils','updateVeevaConnection','createReadStream','38337TtCkzK','file','responseStatus','SUCCESS','258123VbBvBL','toString','VeevaError'];a409_0x433b=function(){return _0x3db1fb;};return a409_0x433b();}(function(_0xa301eb,_0x2da2be){const _0x25f59a=a409_0x5685,_0x12553a=_0xa301eb();while(!![]){try{const _0x525401=parseInt(_0x25f59a(0x11f))/0x1+-parseInt(_0x25f59a(0x12e))/0x2+-parseInt(_0x25f59a(0x11b))/0x3*(-parseInt(_0x25f59a(0x13b))/0x4)+parseInt(_0x25f59a(0x128))/0x5*(-parseInt(_0x25f59a(0x112))/0x6)+-parseInt(_0x25f59a(0x131))/0x7*(parseInt(_0x25f59a(0x12a))/0x8)+parseInt(_0x25f59a(0x12f))/0x9*(-parseInt(_0x25f59a(0x13c))/0xa)+-parseInt(_0x25f59a(0x124))/0xb*(-parseInt(_0x25f59a(0x136))/0xc);if(_0x525401===_0x2da2be)break;else _0x12553a['push'](_0x12553a['shift']());}catch(_0x178193){_0x12553a['push'](_0x12553a['shift']());}}}(a409_0x433b,0x2f8d3));const a409_0x28aff0=(function(){let _0x4745f1=!![];return function(_0x3392ed,_0x2241e3){const _0x595551=_0x4745f1?function(){if(_0x2241e3){const _0x4d06c5=_0x2241e3['apply'](_0x3392ed,arguments);return _0x2241e3=null,_0x4d06c5;}}:function(){};return _0x4745f1=![],_0x595551;};}()),a409_0x396d33=a409_0x28aff0(this,function(){const _0x2c268d=a409_0x5685;return a409_0x396d33[_0x2c268d(0x120)]()['search'](_0x2c268d(0x123))[_0x2c268d(0x120)]()[_0x2c268d(0x12d)](a409_0x396d33)[_0x2c268d(0x139)](_0x2c268d(0x123));});a409_0x396d33();'use strict';var __importDefault=this&&this[a409_0x1aa24e(0x138)]||function(_0x2dd6d7){return _0x2dd6d7&&_0x2dd6d7['__esModule']?_0x2dd6d7:{'default':_0x2dd6d7};};Object[a409_0x1aa24e(0x13a)](exports,a409_0x1aa24e(0x130),{'value':!![]}),exports[a409_0x1aa24e(0x115)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a409_0x1aa24e(0x125)),veeva_auth_utils_1=require(a409_0x1aa24e(0x118)),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x174360}){this['_connection']=_0x174360;}async[a409_0x1aa24e(0x12b)](_0x535b19,_0x8211b7=0x1){const _0x57e11b=a409_0x1aa24e;var _0x29ef5b;const _0x4f8f3c=new form_data_1[(_0x57e11b(0x116))]();_0x4f8f3c[_0x57e11b(0x117)](_0x57e11b(0x11c),(0x0,fs_1[_0x57e11b(0x11a)])(_0x535b19));const _0xa9c665=await this[_0x57e11b(0x113)][_0x57e11b(0x137)](veeva_constants_1['VeevaConstants'][_0x57e11b(0x135)],_0x4f8f3c,{'responseType':_0x57e11b(0x133),'headers':{'Content-Type':_0x57e11b(0x122)}}),_0x5961d8=(_0x29ef5b=_0xa9c665['headers'][_0x57e11b(0x127)])===null||_0x29ef5b===void 0x0?void 0x0:_0x29ef5b['includes'](_0x57e11b(0x12c));if(!_0x5961d8)return _0xa9c665['data'];else{const _0x1dcb80=JSON['parse'](_0xa9c665[_0x57e11b(0x126)]);if(_0x8211b7>0x0)return await(0x0,veeva_auth_utils_1[_0x57e11b(0x119)])(this['_connection']),await this[_0x57e11b(0x12b)](_0x535b19,_0x8211b7-0x1);throw new veeva_error_1[(_0x57e11b(0x121))](_0x1dcb80[_0x57e11b(0x129)]);}}async['validate'](_0x2ead09,_0x451e05=0x1){const _0x4fb738=a409_0x1aa24e,_0x3576f4=new form_data_1[(_0x4fb738(0x116))]();_0x3576f4[_0x4fb738(0x117)](_0x4fb738(0x11c),(0x0,fs_1[_0x4fb738(0x11a)])(_0x2ead09));const _0x57c97a=await this['_connection'][_0x4fb738(0x137)](veeva_constants_1['VeevaConstants'][_0x4fb738(0x114)],_0x3576f4,{'headers':{'Content-Type':_0x4fb738(0x122)}}),_0x26f96c=_0x57c97a[_0x4fb738(0x126)];if(_0x26f96c[_0x4fb738(0x11d)]===status_enums_1[_0x4fb738(0x132)][_0x4fb738(0x11e)])return _0x26f96c;else{if(_0x451e05>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x4fb738(0x113)]),await this[_0x4fb738(0x134)](_0x2ead09,_0x451e05-0x1);throw new veeva_error_1[(_0x4fb738(0x121))](_0x26f96c['errors']);}}}exports[a409_0x1aa24e(0x115)]=VpkService;