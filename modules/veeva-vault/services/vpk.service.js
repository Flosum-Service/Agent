const a397_0x2381c4=a397_0x37ea;(function(_0x3471fc,_0x41fc1d){const _0x296086=a397_0x37ea,_0x199998=_0x3471fc();while(!![]){try{const _0x2b1cb8=parseInt(_0x296086(0x1e8))/0x1+parseInt(_0x296086(0x201))/0x2+-parseInt(_0x296086(0x1f4))/0x3*(parseInt(_0x296086(0x1f6))/0x4)+parseInt(_0x296086(0x1e2))/0x5+-parseInt(_0x296086(0x1f3))/0x6*(-parseInt(_0x296086(0x1f1))/0x7)+-parseInt(_0x296086(0x1e6))/0x8+-parseInt(_0x296086(0x1fd))/0x9;if(_0x2b1cb8===_0x41fc1d)break;else _0x199998['push'](_0x199998['shift']());}catch(_0x142aa3){_0x199998['push'](_0x199998['shift']());}}}(a397_0x3867,0xcb896));const a397_0x4a4abb=(function(){let _0x34bafe=!![];return function(_0x5e497a,_0x48f2a3){const _0x21e774=_0x34bafe?function(){if(_0x48f2a3){const _0x16f273=_0x48f2a3['apply'](_0x5e497a,arguments);return _0x48f2a3=null,_0x16f273;}}:function(){};return _0x34bafe=![],_0x21e774;};}()),a397_0x3b47f4=a397_0x4a4abb(this,function(){const _0x1ff201=a397_0x37ea;return a397_0x3b47f4[_0x1ff201(0x1ec)]()[_0x1ff201(0x1de)]('(((.+)+)+)+$')['toString']()[_0x1ff201(0x1e7)](a397_0x3b47f4)[_0x1ff201(0x1de)]('(((.+)+)+)+$');});a397_0x3b47f4();function a397_0x3867(){const _0x8decc1=['toString','content-type','../enums/status.enums','responseStatus','__esModule','2693831BdPQiJ','post','24bREZzZ','20766cgmnzd','VeevaError','232vNSJLC','data','form-data','arraybuffer','ENDPOINT_VALIDATE_VPK','validate','multipart/form-data','18360855mLGWba','VeevaResponseStatus','defineProperty','SUCCESS','1593544wOnzBf','VeevaConstants','VpkService','../constants/veeva.constants','ENDPOINT_EXPORT_IMPORT_PACKAGE','updateVeevaConnection','search','file','createReadStream','application/json','2599395rEThOo','errors','default','includes','2537680AUqAMD','constructor','736484vBpIGw','generate','append','_connection'];a397_0x3867=function(){return _0x8decc1;};return a397_0x3867();}'use strict';function a397_0x37ea(_0x874c31,_0x30fef2){const _0x367ef1=a397_0x3867();return a397_0x37ea=function(_0x3b47f4,_0x4a4abb){_0x3b47f4=_0x3b47f4-0x1de;let _0x38675e=_0x367ef1[_0x3b47f4];return _0x38675e;},a397_0x37ea(_0x874c31,_0x30fef2);}var __importDefault=this&&this['__importDefault']||function(_0x47ce10){const _0x28b1fb=a397_0x37ea;return _0x47ce10&&_0x47ce10[_0x28b1fb(0x1f0)]?_0x47ce10:{'default':_0x47ce10};};Object[a397_0x2381c4(0x1ff)](exports,a397_0x2381c4(0x1f0),{'value':!![]}),exports[a397_0x2381c4(0x203)]=void 0x0;const form_data_1=__importDefault(require(a397_0x2381c4(0x1f8))),fs_1=require('fs'),veeva_constants_1=require(a397_0x2381c4(0x204)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a397_0x2381c4(0x1ee));class VpkService{constructor({connection:_0x13f404}){const _0x4957f9=a397_0x2381c4;this[_0x4957f9(0x1eb)]=_0x13f404;}async[a397_0x2381c4(0x1e9)](_0x5e4d27,_0xc81bf8=0x1){const _0x3e6b77=a397_0x2381c4;var _0x1cb22e;const _0x5eb54b=new form_data_1[(_0x3e6b77(0x1e4))]();_0x5eb54b[_0x3e6b77(0x1ea)](_0x3e6b77(0x1df),(0x0,fs_1[_0x3e6b77(0x1e0)])(_0x5e4d27));const _0x2688bb=await this['_connection'][_0x3e6b77(0x1f2)](veeva_constants_1[_0x3e6b77(0x202)][_0x3e6b77(0x205)],_0x5eb54b,{'responseType':_0x3e6b77(0x1f9),'headers':{'Content-Type':'multipart/form-data'}}),_0x5d572d=(_0x1cb22e=_0x2688bb['headers'][_0x3e6b77(0x1ed)])===null||_0x1cb22e===void 0x0?void 0x0:_0x1cb22e[_0x3e6b77(0x1e5)](_0x3e6b77(0x1e1));if(!_0x5d572d)return _0x2688bb[_0x3e6b77(0x1f7)];else{const _0x328d07=JSON['parse'](_0x2688bb[_0x3e6b77(0x1f7)]);if(_0xc81bf8>0x0)return await(0x0,veeva_auth_utils_1[_0x3e6b77(0x206)])(this[_0x3e6b77(0x1eb)]),await this[_0x3e6b77(0x1e9)](_0x5e4d27,_0xc81bf8-0x1);throw new veeva_error_1[(_0x3e6b77(0x1f5))](_0x328d07[_0x3e6b77(0x1e3)]);}}async['validate'](_0x98d093,_0x3bd311=0x1){const _0x3fe338=a397_0x2381c4,_0x24583d=new form_data_1['default']();_0x24583d[_0x3fe338(0x1ea)](_0x3fe338(0x1df),(0x0,fs_1[_0x3fe338(0x1e0)])(_0x98d093));const _0x2136bb=await this[_0x3fe338(0x1eb)][_0x3fe338(0x1f2)](veeva_constants_1['VeevaConstants'][_0x3fe338(0x1fa)],_0x24583d,{'headers':{'Content-Type':_0x3fe338(0x1fc)}}),_0x51b7b5=_0x2136bb['data'];if(_0x51b7b5[_0x3fe338(0x1ef)]===status_enums_1[_0x3fe338(0x1fe)][_0x3fe338(0x200)])return _0x51b7b5;else{if(_0x3bd311>0x0)return await(0x0,veeva_auth_utils_1[_0x3fe338(0x206)])(this['_connection']),await this[_0x3fe338(0x1fb)](_0x98d093,_0x3bd311-0x1);throw new veeva_error_1['VeevaError'](_0x51b7b5[_0x3fe338(0x1e3)]);}}}exports[a397_0x2381c4(0x203)]=VpkService;