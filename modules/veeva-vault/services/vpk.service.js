function a365_0x44d1(){const _0x251433=['content-type','139664rplSpT','form-data','includes','1848590tNXRib','_connection','9652304gECXwA','6pvtSEw','constructor','VeevaConstants','arraybuffer','responseStatus','validate','1358380gwRWGt','../classes/errors/veeva-error','__importDefault','(((.+)+)+)+$','ENDPOINT_EXPORT_IMPORT_PACKAGE','errors','search','updateVeevaConnection','headers','../utils/veeva-auth.utils','application/json','toString','default','VeevaResponseStatus','472329zlVDVy','post','apply','__esModule','VeevaError','defineProperty','SUCCESS','4051560NUnXZP','append','data','../constants/veeva.constants','VpkService','1478001mABaiT'];a365_0x44d1=function(){return _0x251433;};return a365_0x44d1();}const a365_0x321f65=a365_0x378c;(function(_0x357ca7,_0x167810){const _0x403cca=a365_0x378c,_0x37c0c4=_0x357ca7();while(!![]){try{const _0x38c229=-parseInt(_0x403cca(0x1b7))/0x1+parseInt(_0x403cca(0x1ba))/0x2+-parseInt(_0x403cca(0x1a9))/0x3+-parseInt(_0x403cca(0x19b))/0x4+-parseInt(_0x403cca(0x1b0))/0x5+-parseInt(_0x403cca(0x1bd))/0x6*(parseInt(_0x403cca(0x1b5))/0x7)+parseInt(_0x403cca(0x1bc))/0x8;if(_0x38c229===_0x167810)break;else _0x37c0c4['push'](_0x37c0c4['shift']());}catch(_0x5f4eb1){_0x37c0c4['push'](_0x37c0c4['shift']());}}}(a365_0x44d1,0x73664));const a365_0x537f65=(function(){let _0x22b587=!![];return function(_0x18d23d,_0x4d3370){const _0x361edf=_0x22b587?function(){const _0x7de7d3=a365_0x378c;if(_0x4d3370){const _0x361890=_0x4d3370[_0x7de7d3(0x1ab)](_0x18d23d,arguments);return _0x4d3370=null,_0x361890;}}:function(){};return _0x22b587=![],_0x361edf;};}()),a365_0xd9a17f=a365_0x537f65(this,function(){const _0x162d75=a365_0x378c;return a365_0xd9a17f[_0x162d75(0x1a6)]()['search'](_0x162d75(0x19e))[_0x162d75(0x1a6)]()[_0x162d75(0x1be)](a365_0xd9a17f)[_0x162d75(0x1a1)](_0x162d75(0x19e));});a365_0xd9a17f();'use strict';var __importDefault=this&&this[a365_0x321f65(0x19d)]||function(_0x3c295b){const _0x2f2572=a365_0x321f65;return _0x3c295b&&_0x3c295b[_0x2f2572(0x1ac)]?_0x3c295b:{'default':_0x3c295b};};Object[a365_0x321f65(0x1ae)](exports,a365_0x321f65(0x1ac),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a365_0x321f65(0x1b8))),fs_1=require('fs'),veeva_constants_1=require(a365_0x321f65(0x1b3)),veeva_auth_utils_1=require(a365_0x321f65(0x1a4)),veeva_error_1=require(a365_0x321f65(0x19c)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0xcd2f6e}){const _0x253f19=a365_0x321f65;this[_0x253f19(0x1bb)]=_0xcd2f6e;}async['generate'](_0x422506,_0x281c18=0x1){const _0x108264=a365_0x321f65;var _0x1916f6;const _0x2f2db5=new form_data_1[(_0x108264(0x1a7))]();_0x2f2db5[_0x108264(0x1b1)]('file',(0x0,fs_1['createReadStream'])(_0x422506));const _0x32a549=await this['_connection'][_0x108264(0x1aa)](veeva_constants_1[_0x108264(0x1bf)][_0x108264(0x19f)],_0x2f2db5,{'responseType':_0x108264(0x198),'headers':{'Content-Type':'multipart/form-data'}}),_0x4acb8c=(_0x1916f6=_0x32a549[_0x108264(0x1a3)][_0x108264(0x1b6)])===null||_0x1916f6===void 0x0?void 0x0:_0x1916f6[_0x108264(0x1b9)](_0x108264(0x1a5));if(!_0x4acb8c)return _0x32a549[_0x108264(0x1b2)];else{const _0x35bb87=JSON['parse'](_0x32a549['data']);if(_0x281c18>0x0)return await(0x0,veeva_auth_utils_1[_0x108264(0x1a2)])(this[_0x108264(0x1bb)]),await this['generate'](_0x422506,_0x281c18-0x1);throw new veeva_error_1[(_0x108264(0x1ad))](_0x35bb87['errors']);}}async[a365_0x321f65(0x19a)](_0x201d0f,_0x336ac7=0x1){const _0x56d018=a365_0x321f65,_0xdab14d=new form_data_1['default']();_0xdab14d[_0x56d018(0x1b1)]('file',(0x0,fs_1['createReadStream'])(_0x201d0f));const _0x2eb0d8=await this[_0x56d018(0x1bb)][_0x56d018(0x1aa)](veeva_constants_1[_0x56d018(0x1bf)]['ENDPOINT_VALIDATE_VPK'],_0xdab14d,{'headers':{'Content-Type':'multipart/form-data'}}),_0x519756=_0x2eb0d8[_0x56d018(0x1b2)];if(_0x519756[_0x56d018(0x199)]===status_enums_1[_0x56d018(0x1a8)][_0x56d018(0x1af)])return _0x519756;else{if(_0x336ac7>0x0)return await(0x0,veeva_auth_utils_1[_0x56d018(0x1a2)])(this['_connection']),await this['validate'](_0x201d0f,_0x336ac7-0x1);throw new veeva_error_1[(_0x56d018(0x1ad))](_0x519756[_0x56d018(0x1a0)]);}}}function a365_0x378c(_0x264563,_0x12a012){const _0x253a6c=a365_0x44d1();return a365_0x378c=function(_0xd9a17f,_0x537f65){_0xd9a17f=_0xd9a17f-0x198;let _0x44d1ad=_0x253a6c[_0xd9a17f];return _0x44d1ad;},a365_0x378c(_0x264563,_0x12a012);}exports[a365_0x321f65(0x1b4)]=VpkService;