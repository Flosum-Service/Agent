const a397_0x42cac8=a397_0x2aff;(function(_0x591a22,_0x43bdfc){const _0x975742=a397_0x2aff,_0x2f89fd=_0x591a22();while(!![]){try{const _0x432cd2=-parseInt(_0x975742(0x153))/0x1*(-parseInt(_0x975742(0x158))/0x2)+-parseInt(_0x975742(0x14b))/0x3*(parseInt(_0x975742(0x144))/0x4)+-parseInt(_0x975742(0x159))/0x5+-parseInt(_0x975742(0x151))/0x6*(parseInt(_0x975742(0x156))/0x7)+-parseInt(_0x975742(0x149))/0x8+-parseInt(_0x975742(0x146))/0x9*(-parseInt(_0x975742(0x145))/0xa)+-parseInt(_0x975742(0x135))/0xb*(-parseInt(_0x975742(0x13b))/0xc);if(_0x432cd2===_0x43bdfc)break;else _0x2f89fd['push'](_0x2f89fd['shift']());}catch(_0x57394a){_0x2f89fd['push'](_0x2f89fd['shift']());}}}(a397_0x1de4,0x739c0));const a397_0x54c812=(function(){let _0x3add84=!![];return function(_0x1086bf,_0x45dcc5){const _0x2c8b8b=_0x3add84?function(){if(_0x45dcc5){const _0x118dee=_0x45dcc5['apply'](_0x1086bf,arguments);return _0x45dcc5=null,_0x118dee;}}:function(){};return _0x3add84=![],_0x2c8b8b;};}()),a397_0x59e2bd=a397_0x54c812(this,function(){const _0x22ec83=a397_0x2aff;return a397_0x59e2bd[_0x22ec83(0x138)]()[_0x22ec83(0x150)](_0x22ec83(0x13e))['toString']()['constructor'](a397_0x59e2bd)[_0x22ec83(0x150)](_0x22ec83(0x13e));});a397_0x59e2bd();function a397_0x2aff(_0x4ce0a0,_0x4a8eb7){const _0xdaf79d=a397_0x1de4();return a397_0x2aff=function(_0x59e2bd,_0x54c812){_0x59e2bd=_0x59e2bd-0x132;let _0x1de49f=_0xdaf79d[_0x59e2bd];return _0x1de49f;},a397_0x2aff(_0x4ce0a0,_0x4a8eb7);}function a397_0x1de4(){const _0x12a6b0=['search','172266EJtYlm','../classes/errors/veeva-error','1lbhObc','application/json','VpkService','14FMRZbt','includes','723838xPzhhe','3428230lgoZUB','append','data','../enums/status.enums','headers','787149hdNKlH','createReadStream','../constants/veeva.constants','toString','../utils/veeva-auth.utils','VeevaError','276kRjRvk','validate','errors','(((.+)+)+)+$','ENDPOINT_VALIDATE_VPK','multipart/form-data','_connection','parse','file','3660628QwVdBG','3490BhOWrX','9450mDwvTx','ENDPOINT_EXPORT_IMPORT_PACKAGE','responseStatus','1939720lcTlpf','defineProperty','3AZmBzf','__esModule','updateVeevaConnection','post','generate'];a397_0x1de4=function(){return _0x12a6b0;};return a397_0x1de4();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2f6c1d){const _0x3f1e4e=a397_0x2aff;return _0x2f6c1d&&_0x2f6c1d[_0x3f1e4e(0x14c)]?_0x2f6c1d:{'default':_0x2f6c1d};};Object[a397_0x42cac8(0x14a)](exports,a397_0x42cac8(0x14c),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a397_0x42cac8(0x137)),veeva_auth_utils_1=require(a397_0x42cac8(0x139)),veeva_error_1=require(a397_0x42cac8(0x152)),status_enums_1=require(a397_0x42cac8(0x133));class VpkService{constructor({connection:_0x1cb148}){const _0x22c0e8=a397_0x42cac8;this[_0x22c0e8(0x141)]=_0x1cb148;}async[a397_0x42cac8(0x14f)](_0x26000c,_0x12682f=0x1){const _0x57ab2d=a397_0x42cac8;var _0x56c9f7;const _0x415fea=new form_data_1['default']();_0x415fea[_0x57ab2d(0x15a)](_0x57ab2d(0x143),(0x0,fs_1[_0x57ab2d(0x136)])(_0x26000c));const _0x3256cd=await this[_0x57ab2d(0x141)][_0x57ab2d(0x14e)](veeva_constants_1['VeevaConstants'][_0x57ab2d(0x147)],_0x415fea,{'responseType':'arraybuffer','headers':{'Content-Type':_0x57ab2d(0x140)}}),_0x4caf2a=(_0x56c9f7=_0x3256cd[_0x57ab2d(0x134)]['content-type'])===null||_0x56c9f7===void 0x0?void 0x0:_0x56c9f7[_0x57ab2d(0x157)](_0x57ab2d(0x154));if(!_0x4caf2a)return _0x3256cd['data'];else{const _0x4b8aa5=JSON[_0x57ab2d(0x142)](_0x3256cd[_0x57ab2d(0x132)]);if(_0x12682f>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x57ab2d(0x141)]),await this[_0x57ab2d(0x14f)](_0x26000c,_0x12682f-0x1);throw new veeva_error_1['VeevaError'](_0x4b8aa5[_0x57ab2d(0x13d)]);}}async[a397_0x42cac8(0x13c)](_0x4a1b53,_0x50e308=0x1){const _0x20099b=a397_0x42cac8,_0x28aa60=new form_data_1['default']();_0x28aa60['append'](_0x20099b(0x143),(0x0,fs_1['createReadStream'])(_0x4a1b53));const _0x57bfe6=await this[_0x20099b(0x141)][_0x20099b(0x14e)](veeva_constants_1['VeevaConstants'][_0x20099b(0x13f)],_0x28aa60,{'headers':{'Content-Type':_0x20099b(0x140)}}),_0x875722=_0x57bfe6[_0x20099b(0x132)];if(_0x875722[_0x20099b(0x148)]===status_enums_1['VeevaResponseStatus']['SUCCESS'])return _0x875722;else{if(_0x50e308>0x0)return await(0x0,veeva_auth_utils_1[_0x20099b(0x14d)])(this[_0x20099b(0x141)]),await this['validate'](_0x4a1b53,_0x50e308-0x1);throw new veeva_error_1[(_0x20099b(0x13a))](_0x875722[_0x20099b(0x13d)]);}}}exports[a397_0x42cac8(0x155)]=VpkService;