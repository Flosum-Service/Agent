const a381_0x56cd1c=a381_0x3c54;function a381_0x3c54(_0x3e0a4f,_0x5f0273){const _0x1241cc=a381_0x1b53();return a381_0x3c54=function(_0x4f299a,_0x170a87){_0x4f299a=_0x4f299a-0x13a;let _0x1b5376=_0x1241cc[_0x4f299a];return _0x1b5376;},a381_0x3c54(_0x3e0a4f,_0x5f0273);}(function(_0x35b9bf,_0x12c8da){const _0x2e7952=a381_0x3c54,_0x208899=_0x35b9bf();while(!![]){try{const _0x195c3e=parseInt(_0x2e7952(0x13b))/0x1*(parseInt(_0x2e7952(0x161))/0x2)+-parseInt(_0x2e7952(0x159))/0x3*(parseInt(_0x2e7952(0x14c))/0x4)+-parseInt(_0x2e7952(0x152))/0x5+parseInt(_0x2e7952(0x144))/0x6+parseInt(_0x2e7952(0x154))/0x7+parseInt(_0x2e7952(0x142))/0x8*(-parseInt(_0x2e7952(0x151))/0x9)+parseInt(_0x2e7952(0x13a))/0xa;if(_0x195c3e===_0x12c8da)break;else _0x208899['push'](_0x208899['shift']());}catch(_0x543e13){_0x208899['push'](_0x208899['shift']());}}}(a381_0x1b53,0xebce6));const a381_0x170a87=(function(){let _0x577fdf=!![];return function(_0x40d97d,_0x283755){const _0x3feff6=_0x577fdf?function(){const _0x528ed3=a381_0x3c54;if(_0x283755){const _0x21c1f6=_0x283755[_0x528ed3(0x141)](_0x40d97d,arguments);return _0x283755=null,_0x21c1f6;}}:function(){};return _0x577fdf=![],_0x3feff6;};}()),a381_0x4f299a=a381_0x170a87(this,function(){const _0x27328b=a381_0x3c54;return a381_0x4f299a['toString']()[_0x27328b(0x153)]('(((.+)+)+)+$')[_0x27328b(0x140)]()['constructor'](a381_0x4f299a)['search'](_0x27328b(0x15e));});function a381_0x1b53(){const _0x516418=['arraybuffer','toString','apply','9544328MQFQDk','form-data','8978448LALTIU','__esModule','VeevaError','VeevaResponseStatus','application/json','__importDefault','VpkService','updateVeevaConnection','20gDJuhS','createReadStream','VeevaConstants','multipart/form-data','generate','9zEnhoo','5782260aMDtMP','search','12128088QuNzQE','default','file','defineProperty','errors','1089771EymKUX','validate','post','_connection','append','(((.+)+)+)+$','data','../classes/errors/veeva-error','8062gxdqUE','9553630ElzpmP','235UAQkhL','responseStatus','content-type','SUCCESS'];a381_0x1b53=function(){return _0x516418;};return a381_0x1b53();}a381_0x4f299a();'use strict';var __importDefault=this&&this[a381_0x56cd1c(0x149)]||function(_0x3f1960){return _0x3f1960&&_0x3f1960['__esModule']?_0x3f1960:{'default':_0x3f1960};};Object[a381_0x56cd1c(0x157)](exports,a381_0x56cd1c(0x145),{'value':!![]}),exports[a381_0x56cd1c(0x14a)]=void 0x0;const form_data_1=__importDefault(require(a381_0x56cd1c(0x143))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a381_0x56cd1c(0x160)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x42b48d}){const _0x454ff9=a381_0x56cd1c;this[_0x454ff9(0x15c)]=_0x42b48d;}async[a381_0x56cd1c(0x150)](_0x3297b6,_0x306f10=0x1){const _0x14de1c=a381_0x56cd1c;var _0x2f4217;const _0x84288f=new form_data_1[(_0x14de1c(0x155))]();_0x84288f['append']('file',(0x0,fs_1[_0x14de1c(0x14d)])(_0x3297b6));const _0x5c7e6f=await this[_0x14de1c(0x15c)]['post'](veeva_constants_1[_0x14de1c(0x14e)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x84288f,{'responseType':_0x14de1c(0x13f),'headers':{'Content-Type':_0x14de1c(0x14f)}}),_0x49e521=(_0x2f4217=_0x5c7e6f['headers'][_0x14de1c(0x13d)])===null||_0x2f4217===void 0x0?void 0x0:_0x2f4217['includes'](_0x14de1c(0x148));if(!_0x49e521)return _0x5c7e6f[_0x14de1c(0x15f)];else{const _0x110f7b=JSON['parse'](_0x5c7e6f[_0x14de1c(0x15f)]);if(_0x306f10>0x0)return await(0x0,veeva_auth_utils_1[_0x14de1c(0x14b)])(this[_0x14de1c(0x15c)]),await this[_0x14de1c(0x150)](_0x3297b6,_0x306f10-0x1);throw new veeva_error_1[(_0x14de1c(0x146))](_0x110f7b[_0x14de1c(0x158)]);}}async[a381_0x56cd1c(0x15a)](_0x5c66c7,_0x6a519a=0x1){const _0x3b3407=a381_0x56cd1c,_0x4e1fef=new form_data_1[(_0x3b3407(0x155))]();_0x4e1fef[_0x3b3407(0x15d)](_0x3b3407(0x156),(0x0,fs_1[_0x3b3407(0x14d)])(_0x5c66c7));const _0xe11f12=await this[_0x3b3407(0x15c)][_0x3b3407(0x15b)](veeva_constants_1['VeevaConstants']['ENDPOINT_VALIDATE_VPK'],_0x4e1fef,{'headers':{'Content-Type':_0x3b3407(0x14f)}}),_0x520387=_0xe11f12[_0x3b3407(0x15f)];if(_0x520387[_0x3b3407(0x13c)]===status_enums_1[_0x3b3407(0x147)][_0x3b3407(0x13e)])return _0x520387;else{if(_0x6a519a>0x0)return await(0x0,veeva_auth_utils_1[_0x3b3407(0x14b)])(this[_0x3b3407(0x15c)]),await this[_0x3b3407(0x15a)](_0x5c66c7,_0x6a519a-0x1);throw new veeva_error_1['VeevaError'](_0x520387[_0x3b3407(0x158)]);}}}exports[a381_0x56cd1c(0x14a)]=VpkService;