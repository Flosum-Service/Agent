const a365_0x487274=a365_0x1ea7;(function(_0x7e1385,_0x58b674){const _0x2bdd1a=a365_0x1ea7,_0x5174c8=_0x7e1385();while(!![]){try{const _0x4a9c3f=parseInt(_0x2bdd1a(0xdd))/0x1*(parseInt(_0x2bdd1a(0xd3))/0x2)+parseInt(_0x2bdd1a(0xda))/0x3+-parseInt(_0x2bdd1a(0xd6))/0x4+-parseInt(_0x2bdd1a(0xd8))/0x5*(parseInt(_0x2bdd1a(0xd5))/0x6)+-parseInt(_0x2bdd1a(0xf5))/0x7*(parseInt(_0x2bdd1a(0xe3))/0x8)+parseInt(_0x2bdd1a(0xec))/0x9+-parseInt(_0x2bdd1a(0xe6))/0xa*(-parseInt(_0x2bdd1a(0xee))/0xb);if(_0x4a9c3f===_0x58b674)break;else _0x5174c8['push'](_0x5174c8['shift']());}catch(_0x49cd4a){_0x5174c8['push'](_0x5174c8['shift']());}}}(a365_0x4a52,0xc6eab));function a365_0x1ea7(_0x25c03c,_0x2c25d9){const _0x21e92c=a365_0x4a52();return a365_0x1ea7=function(_0x5ebf3c,_0x24b8b7){_0x5ebf3c=_0x5ebf3c-0xce;let _0x4a526f=_0x21e92c[_0x5ebf3c];return _0x4a526f;},a365_0x1ea7(_0x25c03c,_0x2c25d9);}const a365_0x24b8b7=(function(){let _0x506120=!![];return function(_0x5d94bb,_0x5b35ac){const _0x382300=_0x506120?function(){const _0x427464=a365_0x1ea7;if(_0x5b35ac){const _0x4cc43b=_0x5b35ac[_0x427464(0xe8)](_0x5d94bb,arguments);return _0x5b35ac=null,_0x4cc43b;}}:function(){};return _0x506120=![],_0x382300;};}()),a365_0x5ebf3c=a365_0x24b8b7(this,function(){const _0x4bcddf=a365_0x1ea7;return a365_0x5ebf3c['toString']()[_0x4bcddf(0xf7)](_0x4bcddf(0xd1))['toString']()[_0x4bcddf(0xea)](a365_0x5ebf3c)[_0x4bcddf(0xf7)](_0x4bcddf(0xd1));});function a365_0x4a52(){const _0x339383=['__importDefault','2CbOnkE','updateVeevaConnection','6XWcbCY','4692156LDxXbD','ENDPOINT_EXPORT_IMPORT_PACKAGE','3269815zjEzsu','errors','3117828eFhdrh','application/json','default','677949GHMSbA','multipart/form-data','post','file','data','SUCCESS','8WcPkRZ','generate','__esModule','10BlCXJH','validate','apply','createReadStream','constructor','content-type','4580505DHWZsH','VeevaResponseStatus','9416099InKLhm','append','_connection','VeevaConstants','../utils/veeva-auth.utils','responseStatus','parse','3082898AaRLHC','../classes/errors/veeva-error','search','arraybuffer','VpkService','ENDPOINT_VALIDATE_VPK','(((.+)+)+)+$'];a365_0x4a52=function(){return _0x339383;};return a365_0x4a52();}a365_0x5ebf3c();'use strict';var __importDefault=this&&this[a365_0x487274(0xd2)]||function(_0x45a0f7){const _0x3a556b=a365_0x487274;return _0x45a0f7&&_0x45a0f7[_0x3a556b(0xe5)]?_0x45a0f7:{'default':_0x45a0f7};};Object['defineProperty'](exports,a365_0x487274(0xe5),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a365_0x487274(0xf2)),veeva_error_1=require(a365_0x487274(0xf6)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x192cf1}){const _0x21aac3=a365_0x487274;this[_0x21aac3(0xf0)]=_0x192cf1;}async[a365_0x487274(0xe4)](_0x5d60d3,_0x412269=0x1){const _0x1a0da8=a365_0x487274;var _0x14f513;const _0x1b8dfb=new form_data_1[(_0x1a0da8(0xdc))]();_0x1b8dfb[_0x1a0da8(0xef)](_0x1a0da8(0xe0),(0x0,fs_1['createReadStream'])(_0x5d60d3));const _0x23d94a=await this[_0x1a0da8(0xf0)][_0x1a0da8(0xdf)](veeva_constants_1[_0x1a0da8(0xf1)][_0x1a0da8(0xd7)],_0x1b8dfb,{'responseType':_0x1a0da8(0xce),'headers':{'Content-Type':_0x1a0da8(0xde)}}),_0x4f7d4f=(_0x14f513=_0x23d94a['headers'][_0x1a0da8(0xeb)])===null||_0x14f513===void 0x0?void 0x0:_0x14f513['includes'](_0x1a0da8(0xdb));if(!_0x4f7d4f)return _0x23d94a[_0x1a0da8(0xe1)];else{const _0x337bb7=JSON[_0x1a0da8(0xf4)](_0x23d94a[_0x1a0da8(0xe1)]);if(_0x412269>0x0)return await(0x0,veeva_auth_utils_1[_0x1a0da8(0xd4)])(this[_0x1a0da8(0xf0)]),await this['generate'](_0x5d60d3,_0x412269-0x1);throw new veeva_error_1['VeevaError'](_0x337bb7['errors']);}}async[a365_0x487274(0xe7)](_0x4fed49,_0x3d6bd5=0x1){const _0x4f67a5=a365_0x487274,_0x1350ae=new form_data_1[(_0x4f67a5(0xdc))]();_0x1350ae[_0x4f67a5(0xef)](_0x4f67a5(0xe0),(0x0,fs_1[_0x4f67a5(0xe9)])(_0x4fed49));const _0x2ceb82=await this[_0x4f67a5(0xf0)][_0x4f67a5(0xdf)](veeva_constants_1[_0x4f67a5(0xf1)][_0x4f67a5(0xd0)],_0x1350ae,{'headers':{'Content-Type':'multipart/form-data'}}),_0xefafd5=_0x2ceb82['data'];if(_0xefafd5[_0x4f67a5(0xf3)]===status_enums_1[_0x4f67a5(0xed)][_0x4f67a5(0xe2)])return _0xefafd5;else{if(_0x3d6bd5>0x0)return await(0x0,veeva_auth_utils_1[_0x4f67a5(0xd4)])(this[_0x4f67a5(0xf0)]),await this[_0x4f67a5(0xe7)](_0x4fed49,_0x3d6bd5-0x1);throw new veeva_error_1['VeevaError'](_0xefafd5[_0x4f67a5(0xd9)]);}}}exports[a365_0x487274(0xcf)]=VpkService;