const a365_0xad1324=a365_0x5448;(function(_0x1bc44a,_0x295248){const _0xc1315e=a365_0x5448,_0x2cc123=_0x1bc44a();while(!![]){try{const _0x2f2d0e=parseInt(_0xc1315e(0x1f0))/0x1*(parseInt(_0xc1315e(0x216))/0x2)+parseInt(_0xc1315e(0x219))/0x3*(-parseInt(_0xc1315e(0x1f5))/0x4)+-parseInt(_0xc1315e(0x1f6))/0x5+-parseInt(_0xc1315e(0x1fb))/0x6+parseInt(_0xc1315e(0x209))/0x7*(parseInt(_0xc1315e(0x211))/0x8)+parseInt(_0xc1315e(0x210))/0x9+-parseInt(_0xc1315e(0x204))/0xa;if(_0x2f2d0e===_0x295248)break;else _0x2cc123['push'](_0x2cc123['shift']());}catch(_0x1eb398){_0x2cc123['push'](_0x2cc123['shift']());}}}(a365_0x2a07,0xc5f84));function a365_0x5448(_0x1aafd6,_0x109e8f){const _0x28fef7=a365_0x2a07();return a365_0x5448=function(_0x32908b,_0x4c003f){_0x32908b=_0x32908b-0x1ef;let _0x2a07c7=_0x28fef7[_0x32908b];return _0x2a07c7;},a365_0x5448(_0x1aafd6,_0x109e8f);}const a365_0x4c003f=(function(){let _0x17264a=!![];return function(_0x253ab8,_0x343d6f){const _0x15dcf3=_0x17264a?function(){const _0x539494=a365_0x5448;if(_0x343d6f){const _0x41035b=_0x343d6f[_0x539494(0x212)](_0x253ab8,arguments);return _0x343d6f=null,_0x41035b;}}:function(){};return _0x17264a=![],_0x15dcf3;};}()),a365_0x32908b=a365_0x4c003f(this,function(){const _0x1c743c=a365_0x5448;return a365_0x32908b['toString']()[_0x1c743c(0x1fd)]('(((.+)+)+)+$')['toString']()[_0x1c743c(0x213)](a365_0x32908b)[_0x1c743c(0x1fd)](_0x1c743c(0x203));});a365_0x32908b();'use strict';var __importDefault=this&&this[a365_0xad1324(0x20c)]||function(_0x442d6f){const _0x1fc83e=a365_0xad1324;return _0x442d6f&&_0x442d6f[_0x1fc83e(0x1f9)]?_0x442d6f:{'default':_0x442d6f};};Object[a365_0xad1324(0x200)](exports,a365_0xad1324(0x1f9),{'value':!![]}),exports[a365_0xad1324(0x1f7)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a365_0xad1324(0x217)),veeva_error_1=require(a365_0xad1324(0x20d)),status_enums_1=require(a365_0xad1324(0x215));function a365_0x2a07(){const _0x275cb7=['../classes/errors/veeva-error','ENDPOINT_VALIDATE_VPK','data','5029875deJKMO','24Wjujut','apply','constructor','VeevaConstants','../enums/status.enums','525616kjULOG','../utils/veeva-auth.utils','append','48YagtFo','content-type','6ajNbug','errors','arraybuffer','VeevaResponseStatus','generate','359564CRexmZ','2647405PCklyY','VpkService','createReadStream','__esModule','updateVeevaConnection','589188PvSTwa','validate','search','VeevaError','parse','defineProperty','multipart/form-data','default','(((.+)+)+)+$','7749450CNtAAO','SUCCESS','headers','application/json','file','3537429lZzVBO','_connection','post','__importDefault'];a365_0x2a07=function(){return _0x275cb7;};return a365_0x2a07();}class VpkService{constructor({connection:_0xa28227}){const _0x1f14e5=a365_0xad1324;this[_0x1f14e5(0x20a)]=_0xa28227;}async['generate'](_0x34b2e5,_0x447902=0x1){const _0x2143db=a365_0xad1324;var _0x19e451;const _0x110292=new form_data_1['default']();_0x110292[_0x2143db(0x218)](_0x2143db(0x208),(0x0,fs_1[_0x2143db(0x1f8)])(_0x34b2e5));const _0xfda4a=await this['_connection'][_0x2143db(0x20b)](veeva_constants_1[_0x2143db(0x214)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x110292,{'responseType':_0x2143db(0x1f2),'headers':{'Content-Type':_0x2143db(0x201)}}),_0x47fe83=(_0x19e451=_0xfda4a[_0x2143db(0x206)][_0x2143db(0x1ef)])===null||_0x19e451===void 0x0?void 0x0:_0x19e451['includes'](_0x2143db(0x207));if(!_0x47fe83)return _0xfda4a[_0x2143db(0x20f)];else{const _0x470497=JSON[_0x2143db(0x1ff)](_0xfda4a[_0x2143db(0x20f)]);if(_0x447902>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x2143db(0x20a)]),await this[_0x2143db(0x1f4)](_0x34b2e5,_0x447902-0x1);throw new veeva_error_1[(_0x2143db(0x1fe))](_0x470497[_0x2143db(0x1f1)]);}}async[a365_0xad1324(0x1fc)](_0x4241b2,_0x256bb7=0x1){const _0x2b3d73=a365_0xad1324,_0x4af924=new form_data_1[(_0x2b3d73(0x202))]();_0x4af924[_0x2b3d73(0x218)](_0x2b3d73(0x208),(0x0,fs_1[_0x2b3d73(0x1f8)])(_0x4241b2));const _0x5bb1a8=await this[_0x2b3d73(0x20a)]['post'](veeva_constants_1[_0x2b3d73(0x214)][_0x2b3d73(0x20e)],_0x4af924,{'headers':{'Content-Type':_0x2b3d73(0x201)}}),_0xa6c410=_0x5bb1a8['data'];if(_0xa6c410['responseStatus']===status_enums_1[_0x2b3d73(0x1f3)][_0x2b3d73(0x205)])return _0xa6c410;else{if(_0x256bb7>0x0)return await(0x0,veeva_auth_utils_1[_0x2b3d73(0x1fa)])(this[_0x2b3d73(0x20a)]),await this[_0x2b3d73(0x1fc)](_0x4241b2,_0x256bb7-0x1);throw new veeva_error_1[(_0x2b3d73(0x1fe))](_0xa6c410['errors']);}}}exports[a365_0xad1324(0x1f7)]=VpkService;