const a365_0x374395=a365_0x45bf;(function(_0x43c0e7,_0x18d781){const _0x494f9d=a365_0x45bf,_0x2f83c6=_0x43c0e7();while(!![]){try{const _0x2a67b7=parseInt(_0x494f9d(0x188))/0x1+parseInt(_0x494f9d(0x17d))/0x2*(parseInt(_0x494f9d(0x18d))/0x3)+parseInt(_0x494f9d(0x176))/0x4*(parseInt(_0x494f9d(0x19c))/0x5)+parseInt(_0x494f9d(0x196))/0x6*(-parseInt(_0x494f9d(0x19d))/0x7)+-parseInt(_0x494f9d(0x19b))/0x8*(-parseInt(_0x494f9d(0x177))/0x9)+-parseInt(_0x494f9d(0x17f))/0xa+-parseInt(_0x494f9d(0x187))/0xb*(parseInt(_0x494f9d(0x18c))/0xc);if(_0x2a67b7===_0x18d781)break;else _0x2f83c6['push'](_0x2f83c6['shift']());}catch(_0x32c424){_0x2f83c6['push'](_0x2f83c6['shift']());}}}(a365_0x3ed7,0x27d98));const a365_0x496ce1=(function(){let _0x17445a=!![];return function(_0x59d1d5,_0x618924){const _0x2d2cd0=_0x17445a?function(){if(_0x618924){const _0x29c3c2=_0x618924['apply'](_0x59d1d5,arguments);return _0x618924=null,_0x29c3c2;}}:function(){};return _0x17445a=![],_0x2d2cd0;};}()),a365_0x5a0606=a365_0x496ce1(this,function(){const _0x56f7ac=a365_0x45bf;return a365_0x5a0606[_0x56f7ac(0x184)]()['search'](_0x56f7ac(0x19f))[_0x56f7ac(0x184)]()['constructor'](a365_0x5a0606)[_0x56f7ac(0x189)]('(((.+)+)+)+$');});a365_0x5a0606();'use strict';function a365_0x3ed7(){const _0x3979e6=['204CXRxuq','75GraqRx','headers','multipart/form-data','generate','application/json','../constants/veeva.constants','responseStatus','file','VeevaConstants','211974CVoeAI','validate','errors','VeevaError','default','61464KkhyEN','5fbAmoI','42ouChaq','arraybuffer','(((.+)+)+)+$','463332cPVvBa','306GfLbBu','content-type','__importDefault','../enums/status.enums','_connection','SUCCESS','22246dNzfhd','ENDPOINT_VALIDATE_VPK','1586020qStjln','includes','updateVeevaConnection','append','form-data','toString','createReadStream','VpkService','247588uuLZir','261306gkaNIz','search','post','data'];a365_0x3ed7=function(){return _0x3979e6;};return a365_0x3ed7();}function a365_0x45bf(_0x356664,_0x2adb85){const _0x1e1c2e=a365_0x3ed7();return a365_0x45bf=function(_0x5a0606,_0x496ce1){_0x5a0606=_0x5a0606-0x176;let _0x3ed73d=_0x1e1c2e[_0x5a0606];return _0x3ed73d;},a365_0x45bf(_0x356664,_0x2adb85);}var __importDefault=this&&this[a365_0x374395(0x179)]||function(_0x1f12cf){return _0x1f12cf&&_0x1f12cf['__esModule']?_0x1f12cf:{'default':_0x1f12cf};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a365_0x374395(0x183))),fs_1=require('fs'),veeva_constants_1=require(a365_0x374395(0x192)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a365_0x374395(0x17a));class VpkService{constructor({connection:_0x5e0232}){const _0x288324=a365_0x374395;this[_0x288324(0x17b)]=_0x5e0232;}async[a365_0x374395(0x190)](_0x408134,_0x3e63ff=0x1){const _0x53d541=a365_0x374395;var _0x267f6f;const _0x1aa419=new form_data_1[(_0x53d541(0x19a))]();_0x1aa419[_0x53d541(0x182)](_0x53d541(0x194),(0x0,fs_1[_0x53d541(0x185)])(_0x408134));const _0x1165cd=await this[_0x53d541(0x17b)][_0x53d541(0x18a)](veeva_constants_1[_0x53d541(0x195)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x1aa419,{'responseType':_0x53d541(0x19e),'headers':{'Content-Type':_0x53d541(0x18f)}}),_0x4ca19a=(_0x267f6f=_0x1165cd[_0x53d541(0x18e)][_0x53d541(0x178)])===null||_0x267f6f===void 0x0?void 0x0:_0x267f6f[_0x53d541(0x180)](_0x53d541(0x191));if(!_0x4ca19a)return _0x1165cd['data'];else{const _0x3def67=JSON['parse'](_0x1165cd[_0x53d541(0x18b)]);if(_0x3e63ff>0x0)return await(0x0,veeva_auth_utils_1[_0x53d541(0x181)])(this[_0x53d541(0x17b)]),await this[_0x53d541(0x190)](_0x408134,_0x3e63ff-0x1);throw new veeva_error_1[(_0x53d541(0x199))](_0x3def67['errors']);}}async['validate'](_0x42906e,_0x274c3b=0x1){const _0x3cc393=a365_0x374395,_0x196874=new form_data_1['default']();_0x196874['append'](_0x3cc393(0x194),(0x0,fs_1[_0x3cc393(0x185)])(_0x42906e));const _0x385af6=await this[_0x3cc393(0x17b)][_0x3cc393(0x18a)](veeva_constants_1[_0x3cc393(0x195)][_0x3cc393(0x17e)],_0x196874,{'headers':{'Content-Type':_0x3cc393(0x18f)}}),_0x491aa2=_0x385af6[_0x3cc393(0x18b)];if(_0x491aa2[_0x3cc393(0x193)]===status_enums_1['VeevaResponseStatus'][_0x3cc393(0x17c)])return _0x491aa2;else{if(_0x274c3b>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x3cc393(0x17b)]),await this[_0x3cc393(0x197)](_0x42906e,_0x274c3b-0x1);throw new veeva_error_1[(_0x3cc393(0x199))](_0x491aa2[_0x3cc393(0x198)]);}}}exports[a365_0x374395(0x186)]=VpkService;