const a408_0x5e0a44=a408_0x1b2b;(function(_0x35478d,_0x2edfbf){const _0xcfd17c=a408_0x1b2b,_0x46b655=_0x35478d();while(!![]){try{const _0xb9ef63=parseInt(_0xcfd17c(0x10d))/0x1+-parseInt(_0xcfd17c(0xef))/0x2+-parseInt(_0xcfd17c(0xf2))/0x3*(parseInt(_0xcfd17c(0xee))/0x4)+parseInt(_0xcfd17c(0xf6))/0x5*(parseInt(_0xcfd17c(0x110))/0x6)+parseInt(_0xcfd17c(0x104))/0x7+parseInt(_0xcfd17c(0xf8))/0x8+-parseInt(_0xcfd17c(0xfd))/0x9*(parseInt(_0xcfd17c(0x107))/0xa);if(_0xb9ef63===_0x2edfbf)break;else _0x46b655['push'](_0x46b655['shift']());}catch(_0x56ea85){_0x46b655['push'](_0x46b655['shift']());}}}(a408_0x517a,0x6831d));const a408_0x386c0c=(function(){let _0x248fad=!![];return function(_0x5e5d2f,_0x576b6d){const _0x26b3e0=_0x248fad?function(){const _0x515778=a408_0x1b2b;if(_0x576b6d){const _0x27341d=_0x576b6d[_0x515778(0xed)](_0x5e5d2f,arguments);return _0x576b6d=null,_0x27341d;}}:function(){};return _0x248fad=![],_0x26b3e0;};}()),a408_0x5f340e=a408_0x386c0c(this,function(){const _0x437c38=a408_0x1b2b;return a408_0x5f340e[_0x437c38(0xeb)]()[_0x437c38(0x105)](_0x437c38(0xff))[_0x437c38(0xeb)]()[_0x437c38(0xfa)](a408_0x5f340e)[_0x437c38(0x105)]('(((.+)+)+)+$');});a408_0x5f340e();'use strict';var __importDefault=this&&this[a408_0x5e0a44(0x10f)]||function(_0x264b7d){const _0x24335d=a408_0x5e0a44;return _0x264b7d&&_0x264b7d[_0x24335d(0x112)]?_0x264b7d:{'default':_0x264b7d};};function a408_0x1b2b(_0x3c7a74,_0x5bb315){const _0x23d0c3=a408_0x517a();return a408_0x1b2b=function(_0x5f340e,_0x386c0c){_0x5f340e=_0x5f340e-0xeb;let _0x517a77=_0x23d0c3[_0x5f340e];return _0x517a77;},a408_0x1b2b(_0x3c7a74,_0x5bb315);}Object['defineProperty'](exports,a408_0x5e0a44(0x112),{'value':!![]}),exports['VpkService']=void 0x0;function a408_0x517a(){const _0x216c27=['ENDPOINT_EXPORT_IMPORT_PACKAGE','(((.+)+)+)+$','multipart/form-data','form-data','parse','SUCCESS','4694599VuExpW','search','generate','1110xHGxMJ','errors','../enums/status.enums','file','VeevaError','VeevaResponseStatus','125700EFDZYB','validate','__importDefault','102564FpMzqm','post','__esModule','content-type','../constants/veeva.constants','data','toString','createReadStream','apply','1448NQOtDK','453260whjBvd','default','ENDPOINT_VALIDATE_VPK','1473LJSSlt','append','_connection','responseStatus','20jzyKZd','VeevaConstants','6774976jYBLPd','updateVeevaConnection','constructor','../classes/errors/veeva-error','../utils/veeva-auth.utils','71388nYjcPN'];a408_0x517a=function(){return _0x216c27;};return a408_0x517a();}const form_data_1=__importDefault(require(a408_0x5e0a44(0x101))),fs_1=require('fs'),veeva_constants_1=require(a408_0x5e0a44(0x114)),veeva_auth_utils_1=require(a408_0x5e0a44(0xfc)),veeva_error_1=require(a408_0x5e0a44(0xfb)),status_enums_1=require(a408_0x5e0a44(0x109));class VpkService{constructor({connection:_0x3a2a6d}){this['_connection']=_0x3a2a6d;}async[a408_0x5e0a44(0x106)](_0x58f337,_0x275352=0x1){const _0x41b301=a408_0x5e0a44;var _0x6d052f;const _0x444e8d=new form_data_1['default']();_0x444e8d[_0x41b301(0xf3)](_0x41b301(0x10a),(0x0,fs_1[_0x41b301(0xec)])(_0x58f337));const _0x21259e=await this['_connection'][_0x41b301(0x111)](veeva_constants_1[_0x41b301(0xf7)][_0x41b301(0xfe)],_0x444e8d,{'responseType':'arraybuffer','headers':{'Content-Type':'multipart/form-data'}}),_0x1013c1=(_0x6d052f=_0x21259e['headers'][_0x41b301(0x113)])===null||_0x6d052f===void 0x0?void 0x0:_0x6d052f['includes']('application/json');if(!_0x1013c1)return _0x21259e[_0x41b301(0x115)];else{const _0x48b5f2=JSON[_0x41b301(0x102)](_0x21259e['data']);if(_0x275352>0x0)return await(0x0,veeva_auth_utils_1[_0x41b301(0xf9)])(this['_connection']),await this[_0x41b301(0x106)](_0x58f337,_0x275352-0x1);throw new veeva_error_1[(_0x41b301(0x10b))](_0x48b5f2['errors']);}}async[a408_0x5e0a44(0x10e)](_0x3900b8,_0x4a4aae=0x1){const _0x5abf41=a408_0x5e0a44,_0x4812e3=new form_data_1[(_0x5abf41(0xf0))]();_0x4812e3[_0x5abf41(0xf3)](_0x5abf41(0x10a),(0x0,fs_1[_0x5abf41(0xec)])(_0x3900b8));const _0x469773=await this['_connection'][_0x5abf41(0x111)](veeva_constants_1[_0x5abf41(0xf7)][_0x5abf41(0xf1)],_0x4812e3,{'headers':{'Content-Type':_0x5abf41(0x100)}}),_0x2fc5c6=_0x469773[_0x5abf41(0x115)];if(_0x2fc5c6[_0x5abf41(0xf5)]===status_enums_1[_0x5abf41(0x10c)][_0x5abf41(0x103)])return _0x2fc5c6;else{if(_0x4a4aae>0x0)return await(0x0,veeva_auth_utils_1[_0x5abf41(0xf9)])(this[_0x5abf41(0xf4)]),await this[_0x5abf41(0x10e)](_0x3900b8,_0x4a4aae-0x1);throw new veeva_error_1[(_0x5abf41(0x10b))](_0x2fc5c6[_0x5abf41(0x108)]);}}}exports['VpkService']=VpkService;