const a380_0x295362=a380_0x1cf8;(function(_0x5366ea,_0x341a68){const _0x28103f=a380_0x1cf8,_0x3789dc=_0x5366ea();while(!![]){try{const _0x4dfcb0=-parseInt(_0x28103f(0x145))/0x1+parseInt(_0x28103f(0x142))/0x2+parseInt(_0x28103f(0x14b))/0x3+-parseInt(_0x28103f(0x163))/0x4*(parseInt(_0x28103f(0x153))/0x5)+parseInt(_0x28103f(0x167))/0x6*(-parseInt(_0x28103f(0x151))/0x7)+-parseInt(_0x28103f(0x168))/0x8*(parseInt(_0x28103f(0x156))/0x9)+parseInt(_0x28103f(0x16f))/0xa*(parseInt(_0x28103f(0x14f))/0xb);if(_0x4dfcb0===_0x341a68)break;else _0x3789dc['push'](_0x3789dc['shift']());}catch(_0x1b533b){_0x3789dc['push'](_0x3789dc['shift']());}}}(a380_0x576a,0xb5e18));const a380_0x2ceca9=(function(){let _0x55f745=!![];return function(_0x2f96a5,_0x2600af){const _0x1a3e2d=_0x55f745?function(){const _0x1ceb01=a380_0x1cf8;if(_0x2600af){const _0x2b56b7=_0x2600af[_0x1ceb01(0x170)](_0x2f96a5,arguments);return _0x2600af=null,_0x2b56b7;}}:function(){};return _0x55f745=![],_0x1a3e2d;};}()),a380_0x587d17=a380_0x2ceca9(this,function(){const _0x5986c2=a380_0x1cf8;return a380_0x587d17[_0x5986c2(0x150)]()['search']('(((.+)+)+)+$')[_0x5986c2(0x150)]()[_0x5986c2(0x155)](a380_0x587d17)['search'](_0x5986c2(0x157));});a380_0x587d17();'use strict';var __importDefault=this&&this[a380_0x295362(0x16e)]||function(_0x14a70b){const _0x3a7cb5=a380_0x295362;return _0x14a70b&&_0x14a70b[_0x3a7cb5(0x147)]?_0x14a70b:{'default':_0x14a70b};};Object[a380_0x295362(0x162)](exports,a380_0x295362(0x147),{'value':!![]}),exports['VpkService']=void 0x0;function a380_0x576a(){const _0x233395=['VpkService','SUCCESS','append','__importDefault','33026320oBTCUF','apply','1572668EjJaew','post','ENDPOINT_EXPORT_IMPORT_PACKAGE','1196544TmgjoW','includes','__esModule','../classes/errors/veeva-error','../constants/veeva.constants','VeevaConstants','2579514KBPWxq','application/json','VeevaError','ENDPOINT_VALIDATE_VPK','11uUHibC','toString','14JBuolP','default','3100wowSXA','file','constructor','10998zOkxeU','(((.+)+)+)+$','form-data','arraybuffer','VeevaResponseStatus','generate','headers','_connection','updateVeevaConnection','data','errors','../utils/veeva-auth.utils','defineProperty','4240ETrFXc','validate','content-type','multipart/form-data','3479544vNQMHV','7792tSCQJw','parse','createReadStream'];a380_0x576a=function(){return _0x233395;};return a380_0x576a();}const form_data_1=__importDefault(require(a380_0x295362(0x158))),fs_1=require('fs'),veeva_constants_1=require(a380_0x295362(0x149)),veeva_auth_utils_1=require(a380_0x295362(0x161)),veeva_error_1=require(a380_0x295362(0x148)),status_enums_1=require('../enums/status.enums');function a380_0x1cf8(_0x5072bc,_0x25c857){const _0x2babcd=a380_0x576a();return a380_0x1cf8=function(_0x587d17,_0x2ceca9){_0x587d17=_0x587d17-0x142;let _0x576af0=_0x2babcd[_0x587d17];return _0x576af0;},a380_0x1cf8(_0x5072bc,_0x25c857);}class VpkService{constructor({connection:_0x533368}){const _0x17f839=a380_0x295362;this[_0x17f839(0x15d)]=_0x533368;}async[a380_0x295362(0x15b)](_0x3f540c,_0x255d1f=0x1){const _0x424233=a380_0x295362;var _0x436c0e;const _0x328902=new form_data_1[(_0x424233(0x152))]();_0x328902[_0x424233(0x16d)](_0x424233(0x154),(0x0,fs_1[_0x424233(0x16a)])(_0x3f540c));const _0xbed456=await this[_0x424233(0x15d)]['post'](veeva_constants_1[_0x424233(0x14a)][_0x424233(0x144)],_0x328902,{'responseType':_0x424233(0x159),'headers':{'Content-Type':_0x424233(0x166)}}),_0x38668a=(_0x436c0e=_0xbed456[_0x424233(0x15c)][_0x424233(0x165)])===null||_0x436c0e===void 0x0?void 0x0:_0x436c0e[_0x424233(0x146)](_0x424233(0x14c));if(!_0x38668a)return _0xbed456['data'];else{const _0x4b83d5=JSON[_0x424233(0x169)](_0xbed456[_0x424233(0x15f)]);if(_0x255d1f>0x0)return await(0x0,veeva_auth_utils_1[_0x424233(0x15e)])(this[_0x424233(0x15d)]),await this[_0x424233(0x15b)](_0x3f540c,_0x255d1f-0x1);throw new veeva_error_1[(_0x424233(0x14d))](_0x4b83d5[_0x424233(0x160)]);}}async['validate'](_0x41d658,_0x12847e=0x1){const _0x5f24f5=a380_0x295362,_0x2b0f1b=new form_data_1[(_0x5f24f5(0x152))]();_0x2b0f1b['append'](_0x5f24f5(0x154),(0x0,fs_1[_0x5f24f5(0x16a)])(_0x41d658));const _0x36a3c2=await this[_0x5f24f5(0x15d)][_0x5f24f5(0x143)](veeva_constants_1[_0x5f24f5(0x14a)][_0x5f24f5(0x14e)],_0x2b0f1b,{'headers':{'Content-Type':_0x5f24f5(0x166)}}),_0x1e9a77=_0x36a3c2[_0x5f24f5(0x15f)];if(_0x1e9a77['responseStatus']===status_enums_1[_0x5f24f5(0x15a)][_0x5f24f5(0x16c)])return _0x1e9a77;else{if(_0x12847e>0x0)return await(0x0,veeva_auth_utils_1[_0x5f24f5(0x15e)])(this[_0x5f24f5(0x15d)]),await this[_0x5f24f5(0x164)](_0x41d658,_0x12847e-0x1);throw new veeva_error_1[(_0x5f24f5(0x14d))](_0x1e9a77['errors']);}}}exports[a380_0x295362(0x16b)]=VpkService;