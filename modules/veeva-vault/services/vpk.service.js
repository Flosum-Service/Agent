const a408_0x32ec5c=a408_0x5bca;(function(_0x303390,_0x4bb0a2){const _0x5d81df=a408_0x5bca,_0x349272=_0x303390();while(!![]){try{const _0x282bde=parseInt(_0x5d81df(0x106))/0x1+parseInt(_0x5d81df(0x101))/0x2+parseInt(_0x5d81df(0x112))/0x3*(parseInt(_0x5d81df(0x107))/0x4)+-parseInt(_0x5d81df(0x111))/0x5*(parseInt(_0x5d81df(0xee))/0x6)+-parseInt(_0x5d81df(0x110))/0x7*(-parseInt(_0x5d81df(0x10d))/0x8)+-parseInt(_0x5d81df(0xfc))/0x9*(-parseInt(_0x5d81df(0xf3))/0xa)+-parseInt(_0x5d81df(0xe8))/0xb;if(_0x282bde===_0x4bb0a2)break;else _0x349272['push'](_0x349272['shift']());}catch(_0x3897ab){_0x349272['push'](_0x349272['shift']());}}}(a408_0x4a07,0xb7153));const a408_0x58cd00=(function(){let _0x2ffd69=!![];return function(_0x307b55,_0x55eec9){const _0x456fdb=_0x2ffd69?function(){const _0x231d89=a408_0x5bca;if(_0x55eec9){const _0x414ded=_0x55eec9[_0x231d89(0x10f)](_0x307b55,arguments);return _0x55eec9=null,_0x414ded;}}:function(){};return _0x2ffd69=![],_0x456fdb;};}()),a408_0x392bd4=a408_0x58cd00(this,function(){const _0x14fea5=a408_0x5bca;return a408_0x392bd4['toString']()['search'](_0x14fea5(0xf0))[_0x14fea5(0x10b)]()[_0x14fea5(0x10e)](a408_0x392bd4)[_0x14fea5(0x103)](_0x14fea5(0xf0));});function a408_0x4a07(){const _0xbbc1ca=['toString','content-type','2206888GYwCaf','constructor','apply','14rDJdSf','65DyeFJv','3ioeHoK','file','ENDPOINT_EXPORT_IMPORT_PACKAGE','29011521JJBOrd','data','append','application/json','parse','VeevaError','26454ySaxBE','post','(((.+)+)+)+$','SUCCESS','includes','4495130nqNbjm','__esModule','generate','VpkService','../utils/veeva-auth.utils','form-data','../enums/status.enums','validate','VeevaConstants','9qKijSd','_connection','../classes/errors/veeva-error','arraybuffer','multipart/form-data','2939138tIPWqA','headers','search','responseStatus','updateVeevaConnection','755352HUMSJw','873916kuwDuQ','defineProperty','errors','createReadStream'];a408_0x4a07=function(){return _0xbbc1ca;};return a408_0x4a07();}a408_0x392bd4();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5ecee0){const _0x20d2a1=a408_0x5bca;return _0x5ecee0&&_0x5ecee0[_0x20d2a1(0xf4)]?_0x5ecee0:{'default':_0x5ecee0};};function a408_0x5bca(_0x566010,_0x51814f){const _0xde963b=a408_0x4a07();return a408_0x5bca=function(_0x392bd4,_0x58cd00){_0x392bd4=_0x392bd4-0xe6;let _0x4a073f=_0xde963b[_0x392bd4];return _0x4a073f;},a408_0x5bca(_0x566010,_0x51814f);}Object[a408_0x32ec5c(0x108)](exports,a408_0x32ec5c(0xf4),{'value':!![]}),exports[a408_0x32ec5c(0xf6)]=void 0x0;const form_data_1=__importDefault(require(a408_0x32ec5c(0xf8))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a408_0x32ec5c(0xf7)),veeva_error_1=require(a408_0x32ec5c(0xfe)),status_enums_1=require(a408_0x32ec5c(0xf9));class VpkService{constructor({connection:_0x157479}){this['_connection']=_0x157479;}async[a408_0x32ec5c(0xf5)](_0x293e9e,_0x13659c=0x1){const _0x2c2181=a408_0x32ec5c;var _0x2d6e73;const _0x4ff0e7=new form_data_1['default']();_0x4ff0e7[_0x2c2181(0xea)]('file',(0x0,fs_1[_0x2c2181(0x10a)])(_0x293e9e));const _0x3ecb95=await this[_0x2c2181(0xfd)][_0x2c2181(0xef)](veeva_constants_1[_0x2c2181(0xfb)][_0x2c2181(0xe7)],_0x4ff0e7,{'responseType':_0x2c2181(0xff),'headers':{'Content-Type':_0x2c2181(0x100)}}),_0xfdc048=(_0x2d6e73=_0x3ecb95[_0x2c2181(0x102)][_0x2c2181(0x10c)])===null||_0x2d6e73===void 0x0?void 0x0:_0x2d6e73[_0x2c2181(0xf2)](_0x2c2181(0xeb));if(!_0xfdc048)return _0x3ecb95['data'];else{const _0x34c28a=JSON[_0x2c2181(0xec)](_0x3ecb95['data']);if(_0x13659c>0x0)return await(0x0,veeva_auth_utils_1[_0x2c2181(0x105)])(this['_connection']),await this['generate'](_0x293e9e,_0x13659c-0x1);throw new veeva_error_1[(_0x2c2181(0xed))](_0x34c28a['errors']);}}async[a408_0x32ec5c(0xfa)](_0xdae9da,_0x4ca427=0x1){const _0x426ca3=a408_0x32ec5c,_0x2e1aaa=new form_data_1['default']();_0x2e1aaa[_0x426ca3(0xea)](_0x426ca3(0xe6),(0x0,fs_1[_0x426ca3(0x10a)])(_0xdae9da));const _0x308d9e=await this[_0x426ca3(0xfd)]['post'](veeva_constants_1[_0x426ca3(0xfb)]['ENDPOINT_VALIDATE_VPK'],_0x2e1aaa,{'headers':{'Content-Type':_0x426ca3(0x100)}}),_0x5c3e6b=_0x308d9e[_0x426ca3(0xe9)];if(_0x5c3e6b[_0x426ca3(0x104)]===status_enums_1['VeevaResponseStatus'][_0x426ca3(0xf1)])return _0x5c3e6b;else{if(_0x4ca427>0x0)return await(0x0,veeva_auth_utils_1[_0x426ca3(0x105)])(this[_0x426ca3(0xfd)]),await this['validate'](_0xdae9da,_0x4ca427-0x1);throw new veeva_error_1['VeevaError'](_0x5c3e6b[_0x426ca3(0x109)]);}}}exports[a408_0x32ec5c(0xf6)]=VpkService;