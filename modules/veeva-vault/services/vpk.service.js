const a365_0x1d5156=a365_0x4c16;(function(_0x5f01cb,_0x183a7b){const _0x10ae2a=a365_0x4c16,_0xeb96d5=_0x5f01cb();while(!![]){try{const _0xe7ec57=parseInt(_0x10ae2a(0x1ca))/0x1+-parseInt(_0x10ae2a(0x1bb))/0x2+parseInt(_0x10ae2a(0x1d1))/0x3*(-parseInt(_0x10ae2a(0x1b9))/0x4)+-parseInt(_0x10ae2a(0x1df))/0x5+parseInt(_0x10ae2a(0x1c2))/0x6+-parseInt(_0x10ae2a(0x1d3))/0x7*(parseInt(_0x10ae2a(0x1b7))/0x8)+-parseInt(_0x10ae2a(0x1dd))/0x9*(-parseInt(_0x10ae2a(0x1c8))/0xa);if(_0xe7ec57===_0x183a7b)break;else _0xeb96d5['push'](_0xeb96d5['shift']());}catch(_0x1f687d){_0xeb96d5['push'](_0xeb96d5['shift']());}}}(a365_0x2f88,0xce910));const a365_0x494b7d=(function(){let _0x1e616d=!![];return function(_0x1198ed,_0x5e1693){const _0x1dd054=_0x1e616d?function(){const _0x54fac9=a365_0x4c16;if(_0x5e1693){const _0x275d01=_0x5e1693[_0x54fac9(0x1ba)](_0x1198ed,arguments);return _0x5e1693=null,_0x275d01;}}:function(){};return _0x1e616d=![],_0x1dd054;};}()),a365_0x5c599d=a365_0x494b7d(this,function(){const _0x216339=a365_0x4c16;return a365_0x5c599d[_0x216339(0x1bf)]()[_0x216339(0x1c0)](_0x216339(0x1c3))[_0x216339(0x1bf)]()[_0x216339(0x1d4)](a365_0x5c599d)[_0x216339(0x1c0)](_0x216339(0x1c3));});a365_0x5c599d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2d58d2){return _0x2d58d2&&_0x2d58d2['__esModule']?_0x2d58d2:{'default':_0x2d58d2};};function a365_0x2f88(){const _0x1391b7=['../classes/errors/veeva-error','append','VeevaConstants','toString','search','ENDPOINT_EXPORT_IMPORT_PACKAGE','9621396cKbyos','(((.+)+)+)+$','parse','validate','SUCCESS','file','430NEuwON','errors','1389500CKFsQa','default','defineProperty','../constants/veeva.constants','VpkService','headers','responseStatus','51rbXISC','createReadStream','7ZqoPft','constructor','_connection','VeevaError','arraybuffer','content-type','updateVeevaConnection','../enums/status.enums','generate','VeevaResponseStatus','281835rXASED','multipart/form-data','1805130eWQfrK','post','ENDPOINT_VALIDATE_VPK','data','7624936fZyBqi','__esModule','343996TokZKM','apply','1434778XsEacF'];a365_0x2f88=function(){return _0x1391b7;};return a365_0x2f88();}Object[a365_0x1d5156(0x1cc)](exports,a365_0x1d5156(0x1b8),{'value':!![]}),exports[a365_0x1d5156(0x1ce)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a365_0x1d5156(0x1cd)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a365_0x1d5156(0x1bc)),status_enums_1=require(a365_0x1d5156(0x1da));function a365_0x4c16(_0x4ddf60,_0x5ef04c){const _0x1158d2=a365_0x2f88();return a365_0x4c16=function(_0x5c599d,_0x494b7d){_0x5c599d=_0x5c599d-0x1b5;let _0x2f88d2=_0x1158d2[_0x5c599d];return _0x2f88d2;},a365_0x4c16(_0x4ddf60,_0x5ef04c);}class VpkService{constructor({connection:_0x3a3d9f}){const _0x40f791=a365_0x1d5156;this[_0x40f791(0x1d5)]=_0x3a3d9f;}async['generate'](_0x466c0c,_0x451b0c=0x1){const _0x3c1a2c=a365_0x1d5156;var _0xb35c00;const _0xd840d5=new form_data_1[(_0x3c1a2c(0x1cb))]();_0xd840d5['append'](_0x3c1a2c(0x1c7),(0x0,fs_1[_0x3c1a2c(0x1d2)])(_0x466c0c));const _0x228ab5=await this['_connection'][_0x3c1a2c(0x1e0)](veeva_constants_1[_0x3c1a2c(0x1be)][_0x3c1a2c(0x1c1)],_0xd840d5,{'responseType':_0x3c1a2c(0x1d7),'headers':{'Content-Type':_0x3c1a2c(0x1de)}}),_0x16c662=(_0xb35c00=_0x228ab5[_0x3c1a2c(0x1cf)][_0x3c1a2c(0x1d8)])===null||_0xb35c00===void 0x0?void 0x0:_0xb35c00['includes']('application/json');if(!_0x16c662)return _0x228ab5[_0x3c1a2c(0x1b6)];else{const _0xd07406=JSON[_0x3c1a2c(0x1c4)](_0x228ab5['data']);if(_0x451b0c>0x0)return await(0x0,veeva_auth_utils_1[_0x3c1a2c(0x1d9)])(this[_0x3c1a2c(0x1d5)]),await this[_0x3c1a2c(0x1db)](_0x466c0c,_0x451b0c-0x1);throw new veeva_error_1[(_0x3c1a2c(0x1d6))](_0xd07406[_0x3c1a2c(0x1c9)]);}}async[a365_0x1d5156(0x1c5)](_0x2f00f0,_0x9e78ee=0x1){const _0x1b6d73=a365_0x1d5156,_0xc0ae6c=new form_data_1['default']();_0xc0ae6c[_0x1b6d73(0x1bd)](_0x1b6d73(0x1c7),(0x0,fs_1[_0x1b6d73(0x1d2)])(_0x2f00f0));const _0x404673=await this[_0x1b6d73(0x1d5)][_0x1b6d73(0x1e0)](veeva_constants_1[_0x1b6d73(0x1be)][_0x1b6d73(0x1b5)],_0xc0ae6c,{'headers':{'Content-Type':_0x1b6d73(0x1de)}}),_0xdbbbf4=_0x404673['data'];if(_0xdbbbf4[_0x1b6d73(0x1d0)]===status_enums_1[_0x1b6d73(0x1dc)][_0x1b6d73(0x1c6)])return _0xdbbbf4;else{if(_0x9e78ee>0x0)return await(0x0,veeva_auth_utils_1[_0x1b6d73(0x1d9)])(this[_0x1b6d73(0x1d5)]),await this['validate'](_0x2f00f0,_0x9e78ee-0x1);throw new veeva_error_1[(_0x1b6d73(0x1d6))](_0xdbbbf4['errors']);}}}exports[a365_0x1d5156(0x1ce)]=VpkService;