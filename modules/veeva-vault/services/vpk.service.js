const a341_0x37860e=a341_0x4a2e;(function(_0x1674fc,_0x38e274){const _0x529f6b=a341_0x4a2e,_0x396ce0=_0x1674fc();while(!![]){try{const _0x17f0ac=-parseInt(_0x529f6b(0x71))/0x1*(-parseInt(_0x529f6b(0x91))/0x2)+-parseInt(_0x529f6b(0x99))/0x3*(-parseInt(_0x529f6b(0x96))/0x4)+-parseInt(_0x529f6b(0x73))/0x5+-parseInt(_0x529f6b(0x77))/0x6*(parseInt(_0x529f6b(0x7b))/0x7)+parseInt(_0x529f6b(0x7a))/0x8+-parseInt(_0x529f6b(0x78))/0x9*(-parseInt(_0x529f6b(0x88))/0xa)+-parseInt(_0x529f6b(0x79))/0xb;if(_0x17f0ac===_0x38e274)break;else _0x396ce0['push'](_0x396ce0['shift']());}catch(_0xfacee7){_0x396ce0['push'](_0x396ce0['shift']());}}}(a341_0x2375,0x42b58));const a341_0x243773=(function(){let _0x2a179d=!![];return function(_0x53b2f8,_0xad23c0){const _0xd658f7=_0x2a179d?function(){const _0x1f2d74=a341_0x4a2e;if(_0xad23c0){const _0x4909fb=_0xad23c0[_0x1f2d74(0x80)](_0x53b2f8,arguments);return _0xad23c0=null,_0x4909fb;}}:function(){};return _0x2a179d=![],_0xd658f7;};}()),a341_0x252f1f=a341_0x243773(this,function(){const _0x3d6f95=a341_0x4a2e;return a341_0x252f1f['toString']()[_0x3d6f95(0x8b)]('(((.+)+)+)+$')[_0x3d6f95(0x95)]()[_0x3d6f95(0x85)](a341_0x252f1f)['search'](_0x3d6f95(0x70));});a341_0x252f1f();function a341_0x2375(){const _0x158558=['file','validate','578pWncoS','application/json','createReadStream','../classes/errors/veeva-error','toString','28004QSZDBW','headers','VeevaResponseStatus','150sQxsRN','ENDPOINT_EXPORT_IMPORT_PACKAGE','_connection','arraybuffer','(((.+)+)+)+$','1621yrrEEW','defineProperty','585215aruzfc','ENDPOINT_VALIDATE_VPK','VeevaConstants','append','55716vMjxSB','801MpclJT','11366564YOrFZT','1192672TiuYfO','49LsdjWA','parse','__esModule','multipart/form-data','errors','apply','includes','VeevaError','responseStatus','data','constructor','VpkService','__importDefault','58540iLmGoc','generate','../utils/veeva-auth.utils','search','content-type','post','updateVeevaConnection'];a341_0x2375=function(){return _0x158558;};return a341_0x2375();}'use strict';var __importDefault=this&&this[a341_0x37860e(0x87)]||function(_0x3f8ed7){const _0x3107e0=a341_0x37860e;return _0x3f8ed7&&_0x3f8ed7[_0x3107e0(0x7d)]?_0x3f8ed7:{'default':_0x3f8ed7};};Object[a341_0x37860e(0x72)](exports,a341_0x37860e(0x7d),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a341_0x37860e(0x8a)),veeva_error_1=require(a341_0x37860e(0x94)),status_enums_1=require('../enums/status.enums');function a341_0x4a2e(_0x765cce,_0x5dc4e7){const _0x5419e1=a341_0x2375();return a341_0x4a2e=function(_0x252f1f,_0x243773){_0x252f1f=_0x252f1f-0x6f;let _0x23757f=_0x5419e1[_0x252f1f];return _0x23757f;},a341_0x4a2e(_0x765cce,_0x5dc4e7);}class VpkService{constructor({connection:_0xcccf2e}){const _0x1babed=a341_0x37860e;this[_0x1babed(0x9b)]=_0xcccf2e;}async[a341_0x37860e(0x89)](_0xdf577a,_0x71393=0x1){const _0x2e3919=a341_0x37860e;var _0x3b8989;const _0x39faf5=new form_data_1['default']();_0x39faf5[_0x2e3919(0x76)](_0x2e3919(0x8f),(0x0,fs_1[_0x2e3919(0x93)])(_0xdf577a));const _0x236223=await this[_0x2e3919(0x9b)]['post'](veeva_constants_1[_0x2e3919(0x75)][_0x2e3919(0x9a)],_0x39faf5,{'responseType':_0x2e3919(0x6f),'headers':{'Content-Type':_0x2e3919(0x7e)}}),_0xda38f8=(_0x3b8989=_0x236223[_0x2e3919(0x97)][_0x2e3919(0x8c)])===null||_0x3b8989===void 0x0?void 0x0:_0x3b8989[_0x2e3919(0x81)](_0x2e3919(0x92));if(!_0xda38f8)return _0x236223[_0x2e3919(0x84)];else{const _0x410aa5=JSON[_0x2e3919(0x7c)](_0x236223[_0x2e3919(0x84)]);if(_0x71393>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x2e3919(0x9b)]),await this[_0x2e3919(0x89)](_0xdf577a,_0x71393-0x1);throw new veeva_error_1[(_0x2e3919(0x82))](_0x410aa5[_0x2e3919(0x7f)]);}}async['validate'](_0x54ed9e,_0x57df7d=0x1){const _0x3e3469=a341_0x37860e,_0x5a1933=new form_data_1['default']();_0x5a1933[_0x3e3469(0x76)](_0x3e3469(0x8f),(0x0,fs_1['createReadStream'])(_0x54ed9e));const _0x268dba=await this['_connection'][_0x3e3469(0x8d)](veeva_constants_1[_0x3e3469(0x75)][_0x3e3469(0x74)],_0x5a1933,{'headers':{'Content-Type':_0x3e3469(0x7e)}}),_0x10c7b7=_0x268dba[_0x3e3469(0x84)];if(_0x10c7b7[_0x3e3469(0x83)]===status_enums_1[_0x3e3469(0x98)]['SUCCESS'])return _0x10c7b7;else{if(_0x57df7d>0x0)return await(0x0,veeva_auth_utils_1[_0x3e3469(0x8e)])(this['_connection']),await this[_0x3e3469(0x90)](_0x54ed9e,_0x57df7d-0x1);throw new veeva_error_1[(_0x3e3469(0x82))](_0x10c7b7['errors']);}}}exports[a341_0x37860e(0x86)]=VpkService;