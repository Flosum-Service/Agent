function a365_0x2cd8(_0x4b92f8,_0x135203){const _0x3aaa53=a365_0x2f5c();return a365_0x2cd8=function(_0x10324a,_0x15ec15){_0x10324a=_0x10324a-0x10b;let _0x2f5c5d=_0x3aaa53[_0x10324a];return _0x2f5c5d;},a365_0x2cd8(_0x4b92f8,_0x135203);}const a365_0x3a28b3=a365_0x2cd8;(function(_0x1ed1ae,_0x25bc9b){const _0x438059=a365_0x2cd8,_0x346794=_0x1ed1ae();while(!![]){try{const _0x39f5fd=parseInt(_0x438059(0x12c))/0x1+-parseInt(_0x438059(0x117))/0x2*(-parseInt(_0x438059(0x125))/0x3)+parseInt(_0x438059(0x110))/0x4+-parseInt(_0x438059(0x12d))/0x5*(-parseInt(_0x438059(0x113))/0x6)+-parseInt(_0x438059(0x116))/0x7+parseInt(_0x438059(0x12e))/0x8+-parseInt(_0x438059(0x132))/0x9;if(_0x39f5fd===_0x25bc9b)break;else _0x346794['push'](_0x346794['shift']());}catch(_0x4fa4a5){_0x346794['push'](_0x346794['shift']());}}}(a365_0x2f5c,0xcb14d));function a365_0x2f5c(){const _0x4b1e7c=['file','1084788muXOXx','__importDefault','SUCCESS','6OwPrOp','data','validate','8143401PSgGcZ','2tamkkW','includes','VeevaError','search','multipart/form-data','__esModule','ENDPOINT_VALIDATE_VPK','generate','default','defineProperty','../classes/errors/veeva-error','_connection','createReadStream','../utils/veeva-auth.utils','3893619iGvQVW','VpkService','constructor','../constants/veeva.constants','arraybuffer','parse','ENDPOINT_EXPORT_IMPORT_PACKAGE','814042DWpdBn','1909895SPrzrZ','4078928KhSDeG','responseStatus','errors','updateVeevaConnection','11518137oGEBgI','form-data','post','toString','(((.+)+)+)+$','append'];a365_0x2f5c=function(){return _0x4b1e7c;};return a365_0x2f5c();}const a365_0x15ec15=(function(){let _0x1db338=!![];return function(_0x3f629a,_0xe0d908){const _0x55f371=_0x1db338?function(){if(_0xe0d908){const _0x414862=_0xe0d908['apply'](_0x3f629a,arguments);return _0xe0d908=null,_0x414862;}}:function(){};return _0x1db338=![],_0x55f371;};}()),a365_0x10324a=a365_0x15ec15(this,function(){const _0xcf22d2=a365_0x2cd8;return a365_0x10324a[_0xcf22d2(0x10c)]()[_0xcf22d2(0x11a)]('(((.+)+)+)+$')[_0xcf22d2(0x10c)]()[_0xcf22d2(0x127)](a365_0x10324a)[_0xcf22d2(0x11a)](_0xcf22d2(0x10d));});a365_0x10324a();'use strict';var __importDefault=this&&this[a365_0x3a28b3(0x111)]||function(_0x5b8573){const _0x314cda=a365_0x3a28b3;return _0x5b8573&&_0x5b8573[_0x314cda(0x11c)]?_0x5b8573:{'default':_0x5b8573};};Object[a365_0x3a28b3(0x120)](exports,a365_0x3a28b3(0x11c),{'value':!![]}),exports[a365_0x3a28b3(0x126)]=void 0x0;const form_data_1=__importDefault(require(a365_0x3a28b3(0x133))),fs_1=require('fs'),veeva_constants_1=require(a365_0x3a28b3(0x128)),veeva_auth_utils_1=require(a365_0x3a28b3(0x124)),veeva_error_1=require(a365_0x3a28b3(0x121)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x22a9ae}){this['_connection']=_0x22a9ae;}async[a365_0x3a28b3(0x11e)](_0x1d01af,_0x470e09=0x1){const _0x2393e7=a365_0x3a28b3;var _0x507de2;const _0x31b2e7=new form_data_1[(_0x2393e7(0x11f))]();_0x31b2e7[_0x2393e7(0x10e)](_0x2393e7(0x10f),(0x0,fs_1[_0x2393e7(0x123)])(_0x1d01af));const _0x234222=await this[_0x2393e7(0x122)]['post'](veeva_constants_1['VeevaConstants'][_0x2393e7(0x12b)],_0x31b2e7,{'responseType':_0x2393e7(0x129),'headers':{'Content-Type':_0x2393e7(0x11b)}}),_0x4eedc0=(_0x507de2=_0x234222['headers']['content-type'])===null||_0x507de2===void 0x0?void 0x0:_0x507de2[_0x2393e7(0x118)]('application/json');if(!_0x4eedc0)return _0x234222['data'];else{const _0x59c61d=JSON[_0x2393e7(0x12a)](_0x234222[_0x2393e7(0x114)]);if(_0x470e09>0x0)return await(0x0,veeva_auth_utils_1[_0x2393e7(0x131)])(this[_0x2393e7(0x122)]),await this[_0x2393e7(0x11e)](_0x1d01af,_0x470e09-0x1);throw new veeva_error_1[(_0x2393e7(0x119))](_0x59c61d[_0x2393e7(0x130)]);}}async[a365_0x3a28b3(0x115)](_0x3efa30,_0x3c4e3d=0x1){const _0x19cd28=a365_0x3a28b3,_0x5119c9=new form_data_1[(_0x19cd28(0x11f))]();_0x5119c9[_0x19cd28(0x10e)](_0x19cd28(0x10f),(0x0,fs_1[_0x19cd28(0x123)])(_0x3efa30));const _0x16cb3d=await this['_connection'][_0x19cd28(0x10b)](veeva_constants_1['VeevaConstants'][_0x19cd28(0x11d)],_0x5119c9,{'headers':{'Content-Type':_0x19cd28(0x11b)}}),_0x5f1546=_0x16cb3d[_0x19cd28(0x114)];if(_0x5f1546[_0x19cd28(0x12f)]===status_enums_1['VeevaResponseStatus'][_0x19cd28(0x112)])return _0x5f1546;else{if(_0x3c4e3d>0x0)return await(0x0,veeva_auth_utils_1[_0x19cd28(0x131)])(this[_0x19cd28(0x122)]),await this[_0x19cd28(0x115)](_0x3efa30,_0x3c4e3d-0x1);throw new veeva_error_1['VeevaError'](_0x5f1546[_0x19cd28(0x130)]);}}}exports[a365_0x3a28b3(0x126)]=VpkService;