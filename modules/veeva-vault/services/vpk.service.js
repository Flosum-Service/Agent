const a381_0x5d8eb6=a381_0xc959;(function(_0x4cfe21,_0x41e5e3){const _0x19b832=a381_0xc959,_0x1ebdc6=_0x4cfe21();while(!![]){try{const _0x5e008b=parseInt(_0x19b832(0x15d))/0x1*(-parseInt(_0x19b832(0x16e))/0x2)+-parseInt(_0x19b832(0x16c))/0x3+parseInt(_0x19b832(0x158))/0x4*(-parseInt(_0x19b832(0x15b))/0x5)+parseInt(_0x19b832(0x168))/0x6*(parseInt(_0x19b832(0x17f))/0x7)+parseInt(_0x19b832(0x169))/0x8*(parseInt(_0x19b832(0x179))/0x9)+parseInt(_0x19b832(0x181))/0xa*(parseInt(_0x19b832(0x178))/0xb)+parseInt(_0x19b832(0x182))/0xc;if(_0x5e008b===_0x41e5e3)break;else _0x1ebdc6['push'](_0x1ebdc6['shift']());}catch(_0x2a2374){_0x1ebdc6['push'](_0x1ebdc6['shift']());}}}(a381_0x24c8,0x1d22d));const a381_0x500e37=(function(){let _0x428006=!![];return function(_0x5ea561,_0x54d355){const _0x4a2b73=_0x428006?function(){const _0x4412b3=a381_0xc959;if(_0x54d355){const _0x278e64=_0x54d355[_0x4412b3(0x167)](_0x5ea561,arguments);return _0x54d355=null,_0x278e64;}}:function(){};return _0x428006=![],_0x4a2b73;};}()),a381_0x547ba5=a381_0x500e37(this,function(){const _0x4d7e92=a381_0xc959;return a381_0x547ba5[_0x4d7e92(0x17d)]()[_0x4d7e92(0x15e)](_0x4d7e92(0x15a))[_0x4d7e92(0x17d)]()[_0x4d7e92(0x159)](a381_0x547ba5)[_0x4d7e92(0x15e)](_0x4d7e92(0x15a));});function a381_0xc959(_0x187541,_0x5e7d8b){const _0x1f786d=a381_0x24c8();return a381_0xc959=function(_0x547ba5,_0x500e37){_0x547ba5=_0x547ba5-0x157;let _0x24c8c0=_0x1f786d[_0x547ba5];return _0x24c8c0;},a381_0xc959(_0x187541,_0x5e7d8b);}a381_0x547ba5();function a381_0x24c8(){const _0x34df81=['113877GajdfL','createReadStream','4yKnHsO','errors','ENDPOINT_VALIDATE_VPK','responseStatus','VpkService','application/json','post','../utils/veeva-auth.utils','VeevaError','multipart/form-data','33NxIkPp','306jrTvww','form-data','updateVeevaConnection','validate','toString','generate','67270dWRTcO','../constants/veeva.constants','155580RINhfJ','2986056VTxZVt','../enums/status.enums','656296opxRLU','constructor','(((.+)+)+)+$','5hmZVPB','defineProperty','64565EhThSs','search','append','VeevaResponseStatus','VeevaConstants','_connection','file','data','../classes/errors/veeva-error','default','apply','24YUVKMG','27424BOMDUF','arraybuffer','__esModule'];a381_0x24c8=function(){return _0x34df81;};return a381_0x24c8();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x9ee41b){return _0x9ee41b&&_0x9ee41b['__esModule']?_0x9ee41b:{'default':_0x9ee41b};};Object[a381_0x5d8eb6(0x15c)](exports,a381_0x5d8eb6(0x16b),{'value':!![]}),exports[a381_0x5d8eb6(0x172)]=void 0x0;const form_data_1=__importDefault(require(a381_0x5d8eb6(0x17a))),fs_1=require('fs'),veeva_constants_1=require(a381_0x5d8eb6(0x180)),veeva_auth_utils_1=require(a381_0x5d8eb6(0x175)),veeva_error_1=require(a381_0x5d8eb6(0x165)),status_enums_1=require(a381_0x5d8eb6(0x157));class VpkService{constructor({connection:_0x351e7c}){const _0x294734=a381_0x5d8eb6;this[_0x294734(0x162)]=_0x351e7c;}async[a381_0x5d8eb6(0x17e)](_0x38e47f,_0x3ae7ad=0x1){const _0x34603f=a381_0x5d8eb6;var _0x5bd303;const _0x40c43e=new form_data_1[(_0x34603f(0x166))]();_0x40c43e[_0x34603f(0x15f)](_0x34603f(0x163),(0x0,fs_1['createReadStream'])(_0x38e47f));const _0x15a0d0=await this['_connection'][_0x34603f(0x174)](veeva_constants_1['VeevaConstants']['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x40c43e,{'responseType':_0x34603f(0x16a),'headers':{'Content-Type':_0x34603f(0x177)}}),_0x1785c0=(_0x5bd303=_0x15a0d0['headers']['content-type'])===null||_0x5bd303===void 0x0?void 0x0:_0x5bd303['includes'](_0x34603f(0x173));if(!_0x1785c0)return _0x15a0d0[_0x34603f(0x164)];else{const _0xd60c21=JSON['parse'](_0x15a0d0[_0x34603f(0x164)]);if(_0x3ae7ad>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x34603f(0x162)]),await this[_0x34603f(0x17e)](_0x38e47f,_0x3ae7ad-0x1);throw new veeva_error_1[(_0x34603f(0x176))](_0xd60c21[_0x34603f(0x16f)]);}}async['validate'](_0x1f7141,_0x80d255=0x1){const _0x4ab490=a381_0x5d8eb6,_0x1e9d82=new form_data_1['default']();_0x1e9d82['append'](_0x4ab490(0x163),(0x0,fs_1[_0x4ab490(0x16d)])(_0x1f7141));const _0x3d03e5=await this[_0x4ab490(0x162)][_0x4ab490(0x174)](veeva_constants_1[_0x4ab490(0x161)][_0x4ab490(0x170)],_0x1e9d82,{'headers':{'Content-Type':_0x4ab490(0x177)}}),_0x464985=_0x3d03e5[_0x4ab490(0x164)];if(_0x464985[_0x4ab490(0x171)]===status_enums_1[_0x4ab490(0x160)]['SUCCESS'])return _0x464985;else{if(_0x80d255>0x0)return await(0x0,veeva_auth_utils_1[_0x4ab490(0x17b)])(this[_0x4ab490(0x162)]),await this[_0x4ab490(0x17c)](_0x1f7141,_0x80d255-0x1);throw new veeva_error_1[(_0x4ab490(0x176))](_0x464985[_0x4ab490(0x16f)]);}}}exports[a381_0x5d8eb6(0x172)]=VpkService;