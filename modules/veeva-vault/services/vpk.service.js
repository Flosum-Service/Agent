const a409_0x8983e4=a409_0x40c4;function a409_0x40c4(_0xa68d7f,_0x269720){const _0x14ddce=a409_0x26c6();return a409_0x40c4=function(_0x50f765,_0x32b971){_0x50f765=_0x50f765-0x1b5;let _0x26c6fa=_0x14ddce[_0x50f765];return _0x26c6fa;},a409_0x40c4(_0xa68d7f,_0x269720);}(function(_0x853e1a,_0x398841){const _0x4b5623=a409_0x40c4,_0x3c74e9=_0x853e1a();while(!![]){try{const _0xf39523=-parseInt(_0x4b5623(0x1cf))/0x1+parseInt(_0x4b5623(0x1cd))/0x2*(-parseInt(_0x4b5623(0x1d4))/0x3)+-parseInt(_0x4b5623(0x1bb))/0x4*(parseInt(_0x4b5623(0x1cb))/0x5)+-parseInt(_0x4b5623(0x1ca))/0x6+-parseInt(_0x4b5623(0x1b8))/0x7+parseInt(_0x4b5623(0x1d9))/0x8+parseInt(_0x4b5623(0x1cc))/0x9;if(_0xf39523===_0x398841)break;else _0x3c74e9['push'](_0x3c74e9['shift']());}catch(_0x256071){_0x3c74e9['push'](_0x3c74e9['shift']());}}}(a409_0x26c6,0x9d2bd));const a409_0x32b971=(function(){let _0x522d90=!![];return function(_0x24e67e,_0x5906c8){const _0x1a1c01=_0x522d90?function(){const _0x56a53b=a409_0x40c4;if(_0x5906c8){const _0x499794=_0x5906c8[_0x56a53b(0x1ba)](_0x24e67e,arguments);return _0x5906c8=null,_0x499794;}}:function(){};return _0x522d90=![],_0x1a1c01;};}()),a409_0x50f765=a409_0x32b971(this,function(){const _0x2a8dda=a409_0x40c4;return a409_0x50f765[_0x2a8dda(0x1c3)]()[_0x2a8dda(0x1bc)](_0x2a8dda(0x1d0))[_0x2a8dda(0x1c3)]()[_0x2a8dda(0x1d5)](a409_0x50f765)['search'](_0x2a8dda(0x1d0));});a409_0x50f765();function a409_0x26c6(){const _0x44f78d=['618156lRztwJ','(((.+)+)+)+$','__importDefault','parse','_connection','3IKUxMN','constructor','../enums/status.enums','form-data','__esModule','5189752fXYAkB','ENDPOINT_EXPORT_IMPORT_PACKAGE','../utils/veeva-auth.utils','file','VeevaConstants','append','updateVeevaConnection','3393992NVmOiZ','SUCCESS','apply','615092zIFkie','search','../classes/errors/veeva-error','errors','generate','default','VpkService','data','toString','headers','createReadStream','post','validate','multipart/form-data','../constants/veeva.constants','5396916GFrEao','40osYEny','38147310uSuLUa','2021708tllhdM','VeevaError'];a409_0x26c6=function(){return _0x44f78d;};return a409_0x26c6();}'use strict';var __importDefault=this&&this[a409_0x8983e4(0x1d1)]||function(_0x45eed7){return _0x45eed7&&_0x45eed7['__esModule']?_0x45eed7:{'default':_0x45eed7};};Object['defineProperty'](exports,a409_0x8983e4(0x1d8),{'value':!![]}),exports[a409_0x8983e4(0x1c1)]=void 0x0;const form_data_1=__importDefault(require(a409_0x8983e4(0x1d7))),fs_1=require('fs'),veeva_constants_1=require(a409_0x8983e4(0x1c9)),veeva_auth_utils_1=require(a409_0x8983e4(0x1db)),veeva_error_1=require(a409_0x8983e4(0x1bd)),status_enums_1=require(a409_0x8983e4(0x1d6));class VpkService{constructor({connection:_0x3215f4}){const _0x1de01a=a409_0x8983e4;this[_0x1de01a(0x1d3)]=_0x3215f4;}async[a409_0x8983e4(0x1bf)](_0x3f9b1c,_0x4beb64=0x1){const _0x4ad45b=a409_0x8983e4;var _0x29bd31;const _0x4f6e57=new form_data_1[(_0x4ad45b(0x1c0))]();_0x4f6e57[_0x4ad45b(0x1b6)](_0x4ad45b(0x1dc),(0x0,fs_1['createReadStream'])(_0x3f9b1c));const _0x40e2d8=await this[_0x4ad45b(0x1d3)][_0x4ad45b(0x1c6)](veeva_constants_1[_0x4ad45b(0x1b5)][_0x4ad45b(0x1da)],_0x4f6e57,{'responseType':'arraybuffer','headers':{'Content-Type':'multipart/form-data'}}),_0x832195=(_0x29bd31=_0x40e2d8[_0x4ad45b(0x1c4)]['content-type'])===null||_0x29bd31===void 0x0?void 0x0:_0x29bd31['includes']('application/json');if(!_0x832195)return _0x40e2d8[_0x4ad45b(0x1c2)];else{const _0x35fae8=JSON[_0x4ad45b(0x1d2)](_0x40e2d8['data']);if(_0x4beb64>0x0)return await(0x0,veeva_auth_utils_1[_0x4ad45b(0x1b7)])(this[_0x4ad45b(0x1d3)]),await this[_0x4ad45b(0x1bf)](_0x3f9b1c,_0x4beb64-0x1);throw new veeva_error_1[(_0x4ad45b(0x1ce))](_0x35fae8[_0x4ad45b(0x1be)]);}}async[a409_0x8983e4(0x1c7)](_0x1ed8f2,_0x1dcc24=0x1){const _0x5f5ca2=a409_0x8983e4,_0x390425=new form_data_1['default']();_0x390425[_0x5f5ca2(0x1b6)](_0x5f5ca2(0x1dc),(0x0,fs_1[_0x5f5ca2(0x1c5)])(_0x1ed8f2));const _0x40e5d4=await this[_0x5f5ca2(0x1d3)]['post'](veeva_constants_1[_0x5f5ca2(0x1b5)]['ENDPOINT_VALIDATE_VPK'],_0x390425,{'headers':{'Content-Type':_0x5f5ca2(0x1c8)}}),_0x47f51b=_0x40e5d4[_0x5f5ca2(0x1c2)];if(_0x47f51b['responseStatus']===status_enums_1['VeevaResponseStatus'][_0x5f5ca2(0x1b9)])return _0x47f51b;else{if(_0x1dcc24>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x5f5ca2(0x1d3)]),await this[_0x5f5ca2(0x1c7)](_0x1ed8f2,_0x1dcc24-0x1);throw new veeva_error_1[(_0x5f5ca2(0x1ce))](_0x47f51b['errors']);}}}exports['VpkService']=VpkService;