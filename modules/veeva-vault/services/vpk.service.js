const a409_0x2da9a2=a409_0x5752;function a409_0x5752(_0x3c537d,_0x389994){const _0x522628=a409_0x4c4a();return a409_0x5752=function(_0x22dd38,_0x864e34){_0x22dd38=_0x22dd38-0xca;let _0x4c4a80=_0x522628[_0x22dd38];return _0x4c4a80;},a409_0x5752(_0x3c537d,_0x389994);}(function(_0x672212,_0x254569){const _0x1994dd=a409_0x5752,_0x2aa2b8=_0x672212();while(!![]){try{const _0x5725f6=parseInt(_0x1994dd(0xe6))/0x1*(-parseInt(_0x1994dd(0xdd))/0x2)+parseInt(_0x1994dd(0xf1))/0x3+parseInt(_0x1994dd(0xd9))/0x4+-parseInt(_0x1994dd(0xe7))/0x5*(-parseInt(_0x1994dd(0xe4))/0x6)+parseInt(_0x1994dd(0xe0))/0x7*(parseInt(_0x1994dd(0xf0))/0x8)+parseInt(_0x1994dd(0xe9))/0x9+-parseInt(_0x1994dd(0xef))/0xa;if(_0x5725f6===_0x254569)break;else _0x2aa2b8['push'](_0x2aa2b8['shift']());}catch(_0x346d47){_0x2aa2b8['push'](_0x2aa2b8['shift']());}}}(a409_0x4c4a,0x969f2));const a409_0x864e34=(function(){let _0x5c35e5=!![];return function(_0x40a98a,_0x19b5a7){const _0x346eed=_0x5c35e5?function(){const _0x5f3ad4=a409_0x5752;if(_0x19b5a7){const _0x360212=_0x19b5a7[_0x5f3ad4(0xe2)](_0x40a98a,arguments);return _0x19b5a7=null,_0x360212;}}:function(){};return _0x5c35e5=![],_0x346eed;};}()),a409_0x22dd38=a409_0x864e34(this,function(){const _0x4da16f=a409_0x5752;return a409_0x22dd38[_0x4da16f(0xe1)]()[_0x4da16f(0xe5)](_0x4da16f(0xea))[_0x4da16f(0xe1)]()['constructor'](a409_0x22dd38)[_0x4da16f(0xe5)]('(((.+)+)+)+$');});a409_0x22dd38();'use strict';var __importDefault=this&&this[a409_0x2da9a2(0xe3)]||function(_0x1b472d){return _0x1b472d&&_0x1b472d['__esModule']?_0x1b472d:{'default':_0x1b472d};};Object[a409_0x2da9a2(0xd8)](exports,a409_0x2da9a2(0xd5),{'value':!![]}),exports[a409_0x2da9a2(0xee)]=void 0x0;const form_data_1=__importDefault(require(a409_0x2da9a2(0xe8))),fs_1=require('fs'),veeva_constants_1=require(a409_0x2da9a2(0xda)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a409_0x2da9a2(0xdb)),status_enums_1=require(a409_0x2da9a2(0xcd));class VpkService{constructor({connection:_0x26b5a3}){const _0xd29859=a409_0x2da9a2;this[_0xd29859(0xcf)]=_0x26b5a3;}async[a409_0x2da9a2(0xd1)](_0x463019,_0x445a5c=0x1){const _0x5c4834=a409_0x2da9a2;var _0x46e2ce;const _0x446a6e=new form_data_1[(_0x5c4834(0xeb))]();_0x446a6e[_0x5c4834(0xf3)](_0x5c4834(0xce),(0x0,fs_1[_0x5c4834(0xf2)])(_0x463019));const _0x5eeb28=await this[_0x5c4834(0xcf)][_0x5c4834(0xd6)](veeva_constants_1[_0x5c4834(0xd4)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x446a6e,{'responseType':_0x5c4834(0xf4),'headers':{'Content-Type':_0x5c4834(0xdc)}}),_0x5cf57a=(_0x46e2ce=_0x5eeb28[_0x5c4834(0xdf)]['content-type'])===null||_0x46e2ce===void 0x0?void 0x0:_0x46e2ce[_0x5c4834(0xde)](_0x5c4834(0xcb));if(!_0x5cf57a)return _0x5eeb28[_0x5c4834(0xec)];else{const _0x11853c=JSON[_0x5c4834(0xd2)](_0x5eeb28['data']);if(_0x445a5c>0x0)return await(0x0,veeva_auth_utils_1[_0x5c4834(0xd7)])(this[_0x5c4834(0xcf)]),await this['generate'](_0x463019,_0x445a5c-0x1);throw new veeva_error_1[(_0x5c4834(0xd0))](_0x11853c[_0x5c4834(0xd3)]);}}async[a409_0x2da9a2(0xed)](_0x95581,_0x3e48bc=0x1){const _0x1a841b=a409_0x2da9a2,_0x1dee46=new form_data_1[(_0x1a841b(0xeb))]();_0x1dee46['append'](_0x1a841b(0xce),(0x0,fs_1[_0x1a841b(0xf2)])(_0x95581));const _0x2fa5ab=await this[_0x1a841b(0xcf)][_0x1a841b(0xd6)](veeva_constants_1[_0x1a841b(0xd4)]['ENDPOINT_VALIDATE_VPK'],_0x1dee46,{'headers':{'Content-Type':'multipart/form-data'}}),_0x229052=_0x2fa5ab[_0x1a841b(0xec)];if(_0x229052[_0x1a841b(0xca)]===status_enums_1[_0x1a841b(0xcc)][_0x1a841b(0xf5)])return _0x229052;else{if(_0x3e48bc>0x0)return await(0x0,veeva_auth_utils_1[_0x1a841b(0xd7)])(this[_0x1a841b(0xcf)]),await this[_0x1a841b(0xed)](_0x95581,_0x3e48bc-0x1);throw new veeva_error_1[(_0x1a841b(0xd0))](_0x229052[_0x1a841b(0xd3)]);}}}function a409_0x4c4a(){const _0x1f4b33=['2549691ZfKKhm','(((.+)+)+)+$','default','data','validate','VpkService','11084840OkxRlx','1880JvBhMG','2652849RpXCVp','createReadStream','append','arraybuffer','SUCCESS','responseStatus','application/json','VeevaResponseStatus','../enums/status.enums','file','_connection','VeevaError','generate','parse','errors','VeevaConstants','__esModule','post','updateVeevaConnection','defineProperty','442964eVrewG','../constants/veeva.constants','../classes/errors/veeva-error','multipart/form-data','614QRAeHP','includes','headers','13650DppvSx','toString','apply','__importDefault','54ybAPxl','search','1081jFqMtH','178180LnaxeE','form-data'];a409_0x4c4a=function(){return _0x1f4b33;};return a409_0x4c4a();}exports[a409_0x2da9a2(0xee)]=VpkService;