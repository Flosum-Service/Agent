const a410_0x1ef314=a410_0x528c;(function(_0x49be46,_0x40d308){const _0x2af810=a410_0x528c,_0x124dc7=_0x49be46();while(!![]){try{const _0x1e8d43=parseInt(_0x2af810(0x96))/0x1+parseInt(_0x2af810(0x8f))/0x2+-parseInt(_0x2af810(0x7a))/0x3*(parseInt(_0x2af810(0x7f))/0x4)+-parseInt(_0x2af810(0x8b))/0x5+-parseInt(_0x2af810(0x77))/0x6+parseInt(_0x2af810(0x90))/0x7*(parseInt(_0x2af810(0x84))/0x8)+parseInt(_0x2af810(0x98))/0x9;if(_0x1e8d43===_0x40d308)break;else _0x124dc7['push'](_0x124dc7['shift']());}catch(_0x37a44d){_0x124dc7['push'](_0x124dc7['shift']());}}}(a410_0x2cfa,0x59508));const a410_0x1da4a9=(function(){let _0x388991=!![];return function(_0x429b95,_0x7dcf){const _0x209eee=_0x388991?function(){const _0x2a3699=a410_0x528c;if(_0x7dcf){const _0x362540=_0x7dcf[_0x2a3699(0x73)](_0x429b95,arguments);return _0x7dcf=null,_0x362540;}}:function(){};return _0x388991=![],_0x209eee;};}()),a410_0xf207ed=a410_0x1da4a9(this,function(){const _0x17f5b3=a410_0x528c;return a410_0xf207ed['toString']()['search'](_0x17f5b3(0x89))['toString']()[_0x17f5b3(0x82)](a410_0xf207ed)[_0x17f5b3(0x72)]('(((.+)+)+)+$');});a410_0xf207ed();'use strict';function a410_0x528c(_0x56497f,_0x25c4cf){const _0x5401ca=a410_0x2cfa();return a410_0x528c=function(_0xf207ed,_0x1da4a9){_0xf207ed=_0xf207ed-0x70;let _0x2cfad4=_0x5401ca[_0xf207ed];return _0x2cfad4;},a410_0x528c(_0x56497f,_0x25c4cf);}var __importDefault=this&&this[a410_0x1ef314(0x94)]||function(_0x5505b8){const _0x50360d=a410_0x1ef314;return _0x5505b8&&_0x5505b8[_0x50360d(0x78)]?_0x5505b8:{'default':_0x5505b8};};Object['defineProperty'](exports,a410_0x1ef314(0x78),{'value':!![]}),exports[a410_0x1ef314(0x76)]=void 0x0;function a410_0x2cfa(){const _0x3b738b=['data','VeevaError','SUCCESS','1780168Jllkao','validate','default','constructor','../enums/status.enums','72ckmJby','includes','responseStatus','createReadStream','updateVeevaConnection','(((.+)+)+)+$','_connection','1796665IZxWWG','errors','ENDPOINT_VALIDATE_VPK','file','109738rEwZWF','161329eNbZIR','multipart/form-data','append','post','__importDefault','parse','415116BHKvZh','content-type','9047763dTisEU','arraybuffer','VeevaResponseStatus','search','apply','form-data','generate','VpkService','3075048PnfwNS','__esModule','headers','3POOCMT','VeevaConstants'];a410_0x2cfa=function(){return _0x3b738b;};return a410_0x2cfa();}const form_data_1=__importDefault(require(a410_0x1ef314(0x74))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a410_0x1ef314(0x83));class VpkService{constructor({connection:_0x1f914c}){const _0x323908=a410_0x1ef314;this[_0x323908(0x8a)]=_0x1f914c;}async[a410_0x1ef314(0x75)](_0x2b1388,_0x43a99c=0x1){const _0x5ee60b=a410_0x1ef314;var _0x143326;const _0x50cbb8=new form_data_1['default']();_0x50cbb8[_0x5ee60b(0x92)](_0x5ee60b(0x8e),(0x0,fs_1[_0x5ee60b(0x87)])(_0x2b1388));const _0x3e8b6e=await this[_0x5ee60b(0x8a)][_0x5ee60b(0x93)](veeva_constants_1[_0x5ee60b(0x7b)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x50cbb8,{'responseType':_0x5ee60b(0x70),'headers':{'Content-Type':_0x5ee60b(0x91)}}),_0x578038=(_0x143326=_0x3e8b6e[_0x5ee60b(0x79)][_0x5ee60b(0x97)])===null||_0x143326===void 0x0?void 0x0:_0x143326[_0x5ee60b(0x85)]('application/json');if(!_0x578038)return _0x3e8b6e[_0x5ee60b(0x7c)];else{const _0x466235=JSON[_0x5ee60b(0x95)](_0x3e8b6e[_0x5ee60b(0x7c)]);if(_0x43a99c>0x0)return await(0x0,veeva_auth_utils_1[_0x5ee60b(0x88)])(this['_connection']),await this[_0x5ee60b(0x75)](_0x2b1388,_0x43a99c-0x1);throw new veeva_error_1[(_0x5ee60b(0x7d))](_0x466235[_0x5ee60b(0x8c)]);}}async['validate'](_0x159d8a,_0x3d1f1c=0x1){const _0x191e6c=a410_0x1ef314,_0x5bc9b9=new form_data_1[(_0x191e6c(0x81))]();_0x5bc9b9[_0x191e6c(0x92)]('file',(0x0,fs_1[_0x191e6c(0x87)])(_0x159d8a));const _0x3d3c3c=await this['_connection'][_0x191e6c(0x93)](veeva_constants_1[_0x191e6c(0x7b)][_0x191e6c(0x8d)],_0x5bc9b9,{'headers':{'Content-Type':_0x191e6c(0x91)}}),_0x3fb191=_0x3d3c3c['data'];if(_0x3fb191[_0x191e6c(0x86)]===status_enums_1[_0x191e6c(0x71)][_0x191e6c(0x7e)])return _0x3fb191;else{if(_0x3d1f1c>0x0)return await(0x0,veeva_auth_utils_1[_0x191e6c(0x88)])(this[_0x191e6c(0x8a)]),await this[_0x191e6c(0x80)](_0x159d8a,_0x3d1f1c-0x1);throw new veeva_error_1['VeevaError'](_0x3fb191['errors']);}}}exports['VpkService']=VpkService;