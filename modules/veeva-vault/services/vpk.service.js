const a341_0x39334f=a341_0x8984;(function(_0x47fc6a,_0xbe2d86){const _0x4eca27=a341_0x8984,_0x2cf42a=_0x47fc6a();while(!![]){try{const _0xaacfd5=-parseInt(_0x4eca27(0x1ba))/0x1+parseInt(_0x4eca27(0x1b8))/0x2+-parseInt(_0x4eca27(0x1b3))/0x3*(-parseInt(_0x4eca27(0x1b9))/0x4)+parseInt(_0x4eca27(0x1c3))/0x5*(parseInt(_0x4eca27(0x1c9))/0x6)+parseInt(_0x4eca27(0x1c1))/0x7*(parseInt(_0x4eca27(0x1ca))/0x8)+parseInt(_0x4eca27(0x1b0))/0x9+-parseInt(_0x4eca27(0x1c0))/0xa;if(_0xaacfd5===_0xbe2d86)break;else _0x2cf42a['push'](_0x2cf42a['shift']());}catch(_0x155516){_0x2cf42a['push'](_0x2cf42a['shift']());}}}(a341_0x2bd6,0xb3870));function a341_0x8984(_0x4f8e0b,_0x46d579){const _0x458160=a341_0x2bd6();return a341_0x8984=function(_0x5a9256,_0x3e99d2){_0x5a9256=_0x5a9256-0x1a2;let _0x2bd61b=_0x458160[_0x5a9256];return _0x2bd61b;},a341_0x8984(_0x4f8e0b,_0x46d579);}const a341_0x3e99d2=(function(){let _0x28377c=!![];return function(_0x1d0224,_0x40c8db){const _0x2a77d1=_0x28377c?function(){if(_0x40c8db){const _0x177132=_0x40c8db['apply'](_0x1d0224,arguments);return _0x40c8db=null,_0x177132;}}:function(){};return _0x28377c=![],_0x2a77d1;};}()),a341_0x5a9256=a341_0x3e99d2(this,function(){const _0x4e7a0d=a341_0x8984;return a341_0x5a9256[_0x4e7a0d(0x1c6)]()[_0x4e7a0d(0x1bf)](_0x4e7a0d(0x1b2))[_0x4e7a0d(0x1c6)]()[_0x4e7a0d(0x1b6)](a341_0x5a9256)[_0x4e7a0d(0x1bf)](_0x4e7a0d(0x1b2));});function a341_0x2bd6(){const _0x5292a6=['../classes/errors/veeva-error','multipart/form-data','search','24988200ozvNfC','7764883MwxgZw','SUCCESS','155JjOpZU','_connection','generate','toString','append','updateVeevaConnection','13950wvEKqV','8zmlQpJ','../utils/veeva-auth.utils','post','headers','application/json','validate','VeevaConstants','default','VeevaError','../enums/status.enums','ENDPOINT_VALIDATE_VPK','createReadStream','VeevaResponseStatus','content-type','VpkService','file','11916900bxqQzk','ENDPOINT_EXPORT_IMPORT_PACKAGE','(((.+)+)+)+$','9FKrfFC','defineProperty','form-data','constructor','data','1484172zqyPyA','1629052mPOJkJ','1235155tQbZhI','errors','__esModule'];a341_0x2bd6=function(){return _0x5292a6;};return a341_0x2bd6();}a341_0x5a9256();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x286b02){const _0x15cd67=a341_0x8984;return _0x286b02&&_0x286b02[_0x15cd67(0x1bc)]?_0x286b02:{'default':_0x286b02};};Object[a341_0x39334f(0x1b4)](exports,a341_0x39334f(0x1bc),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a341_0x39334f(0x1b5))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a341_0x39334f(0x1cb)),veeva_error_1=require(a341_0x39334f(0x1bd)),status_enums_1=require(a341_0x39334f(0x1a9));class VpkService{constructor({connection:_0x11b00f}){const _0x20ee97=a341_0x39334f;this[_0x20ee97(0x1c4)]=_0x11b00f;}async[a341_0x39334f(0x1c5)](_0x327d96,_0x5edaf9=0x1){const _0x292f87=a341_0x39334f;var _0x41f8ff;const _0x3b9816=new form_data_1[(_0x292f87(0x1a7))]();_0x3b9816['append']('file',(0x0,fs_1[_0x292f87(0x1ab)])(_0x327d96));const _0x121dc9=await this[_0x292f87(0x1c4)][_0x292f87(0x1a2)](veeva_constants_1[_0x292f87(0x1a6)][_0x292f87(0x1b1)],_0x3b9816,{'responseType':'arraybuffer','headers':{'Content-Type':'multipart/form-data'}}),_0x5f3b4b=(_0x41f8ff=_0x121dc9[_0x292f87(0x1a3)][_0x292f87(0x1ad)])===null||_0x41f8ff===void 0x0?void 0x0:_0x41f8ff['includes'](_0x292f87(0x1a4));if(!_0x5f3b4b)return _0x121dc9['data'];else{const _0x34f3e7=JSON['parse'](_0x121dc9[_0x292f87(0x1b7)]);if(_0x5edaf9>0x0)return await(0x0,veeva_auth_utils_1[_0x292f87(0x1c8)])(this[_0x292f87(0x1c4)]),await this['generate'](_0x327d96,_0x5edaf9-0x1);throw new veeva_error_1[(_0x292f87(0x1a8))](_0x34f3e7[_0x292f87(0x1bb)]);}}async[a341_0x39334f(0x1a5)](_0x19a7ea,_0x47bb79=0x1){const _0xbbd5e2=a341_0x39334f,_0x20db68=new form_data_1[(_0xbbd5e2(0x1a7))]();_0x20db68[_0xbbd5e2(0x1c7)](_0xbbd5e2(0x1af),(0x0,fs_1[_0xbbd5e2(0x1ab)])(_0x19a7ea));const _0x2b055b=await this[_0xbbd5e2(0x1c4)]['post'](veeva_constants_1[_0xbbd5e2(0x1a6)][_0xbbd5e2(0x1aa)],_0x20db68,{'headers':{'Content-Type':_0xbbd5e2(0x1be)}}),_0x56a4b8=_0x2b055b[_0xbbd5e2(0x1b7)];if(_0x56a4b8['responseStatus']===status_enums_1[_0xbbd5e2(0x1ac)][_0xbbd5e2(0x1c2)])return _0x56a4b8;else{if(_0x47bb79>0x0)return await(0x0,veeva_auth_utils_1[_0xbbd5e2(0x1c8)])(this[_0xbbd5e2(0x1c4)]),await this[_0xbbd5e2(0x1a5)](_0x19a7ea,_0x47bb79-0x1);throw new veeva_error_1[(_0xbbd5e2(0x1a8))](_0x56a4b8['errors']);}}}exports[a341_0x39334f(0x1ae)]=VpkService;