function a364_0x3e11(_0x149546,_0x3caf7f){const _0x21941e=a364_0x4fea();return a364_0x3e11=function(_0x54ef08,_0x172139){_0x54ef08=_0x54ef08-0x194;let _0x4fea21=_0x21941e[_0x54ef08];return _0x4fea21;},a364_0x3e11(_0x149546,_0x3caf7f);}const a364_0x4201ed=a364_0x3e11;(function(_0x414767,_0x20f52e){const _0x5f4805=a364_0x3e11,_0xea2332=_0x414767();while(!![]){try{const _0x5d5642=-parseInt(_0x5f4805(0x1be))/0x1+parseInt(_0x5f4805(0x1b8))/0x2*(parseInt(_0x5f4805(0x1b3))/0x3)+parseInt(_0x5f4805(0x1b2))/0x4*(-parseInt(_0x5f4805(0x1ad))/0x5)+-parseInt(_0x5f4805(0x1a3))/0x6*(parseInt(_0x5f4805(0x1a8))/0x7)+-parseInt(_0x5f4805(0x1a7))/0x8+parseInt(_0x5f4805(0x1bd))/0x9*(parseInt(_0x5f4805(0x1ac))/0xa)+-parseInt(_0x5f4805(0x1b1))/0xb*(-parseInt(_0x5f4805(0x195))/0xc);if(_0x5d5642===_0x20f52e)break;else _0xea2332['push'](_0xea2332['shift']());}catch(_0x3d1f0c){_0xea2332['push'](_0xea2332['shift']());}}}(a364_0x4fea,0x24d62));const a364_0x172139=(function(){let _0xaa5a4=!![];return function(_0x2db090,_0x493454){const _0x165981=_0xaa5a4?function(){const _0x343def=a364_0x3e11;if(_0x493454){const _0x3badad=_0x493454[_0x343def(0x1c1)](_0x2db090,arguments);return _0x493454=null,_0x3badad;}}:function(){};return _0xaa5a4=![],_0x165981;};}()),a364_0x54ef08=a364_0x172139(this,function(){const _0x27841d=a364_0x3e11;return a364_0x54ef08[_0x27841d(0x197)]()['search'](_0x27841d(0x1b5))[_0x27841d(0x197)]()[_0x27841d(0x19f)](a364_0x54ef08)['search'](_0x27841d(0x1b5));});a364_0x54ef08();'use strict';var __importDefault=this&&this[a364_0x4201ed(0x1a2)]||function(_0x5e64bb){return _0x5e64bb&&_0x5e64bb['__esModule']?_0x5e64bb:{'default':_0x5e64bb};};function a364_0x4fea(){const _0xd214d0=['includes','670KbmSxb','1565zwCtNn','validate','../enums/status.enums','application/json','1859TfhalF','512nJxtMU','9tUDnnm','file','(((.+)+)+)+$','append','VeevaConstants','48226AgsVsg','_connection','multipart/form-data','../classes/errors/veeva-error','content-type','37134vcXRnV','237432NmKeIq','errors','createReadStream','apply','parse','17868iwcNZO','__esModule','toString','generate','form-data','SUCCESS','VeevaResponseStatus','VeevaError','data','defineProperty','constructor','updateVeevaConnection','VpkService','__importDefault','24RbIfGR','default','../utils/veeva-auth.utils','post','1031200LUMiFi','75502iCGrmV','ENDPOINT_VALIDATE_VPK','../constants/veeva.constants'];a364_0x4fea=function(){return _0xd214d0;};return a364_0x4fea();}Object[a364_0x4201ed(0x19e)](exports,a364_0x4201ed(0x196),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a364_0x4201ed(0x199))),fs_1=require('fs'),veeva_constants_1=require(a364_0x4201ed(0x1aa)),veeva_auth_utils_1=require(a364_0x4201ed(0x1a5)),veeva_error_1=require(a364_0x4201ed(0x1bb)),status_enums_1=require(a364_0x4201ed(0x1af));class VpkService{constructor({connection:_0x4ab125}){const _0x5cb707=a364_0x4201ed;this[_0x5cb707(0x1b9)]=_0x4ab125;}async[a364_0x4201ed(0x198)](_0x2714f9,_0x423e6b=0x1){const _0x5e8c84=a364_0x4201ed;var _0x1fae29;const _0x45a51f=new form_data_1[(_0x5e8c84(0x1a4))]();_0x45a51f[_0x5e8c84(0x1b6)]('file',(0x0,fs_1[_0x5e8c84(0x1c0)])(_0x2714f9));const _0x377d91=await this[_0x5e8c84(0x1b9)][_0x5e8c84(0x1a6)](veeva_constants_1[_0x5e8c84(0x1b7)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x45a51f,{'responseType':'arraybuffer','headers':{'Content-Type':'multipart/form-data'}}),_0x299922=(_0x1fae29=_0x377d91['headers'][_0x5e8c84(0x1bc)])===null||_0x1fae29===void 0x0?void 0x0:_0x1fae29[_0x5e8c84(0x1ab)](_0x5e8c84(0x1b0));if(!_0x299922)return _0x377d91[_0x5e8c84(0x19d)];else{const _0x367279=JSON[_0x5e8c84(0x194)](_0x377d91[_0x5e8c84(0x19d)]);if(_0x423e6b>0x0)return await(0x0,veeva_auth_utils_1[_0x5e8c84(0x1a0)])(this['_connection']),await this[_0x5e8c84(0x198)](_0x2714f9,_0x423e6b-0x1);throw new veeva_error_1[(_0x5e8c84(0x19c))](_0x367279[_0x5e8c84(0x1bf)]);}}async[a364_0x4201ed(0x1ae)](_0x5a7c02,_0x5a39fa=0x1){const _0x4157be=a364_0x4201ed,_0x803bbb=new form_data_1[(_0x4157be(0x1a4))]();_0x803bbb[_0x4157be(0x1b6)](_0x4157be(0x1b4),(0x0,fs_1[_0x4157be(0x1c0)])(_0x5a7c02));const _0xf510f0=await this[_0x4157be(0x1b9)]['post'](veeva_constants_1['VeevaConstants'][_0x4157be(0x1a9)],_0x803bbb,{'headers':{'Content-Type':_0x4157be(0x1ba)}}),_0x5a224d=_0xf510f0[_0x4157be(0x19d)];if(_0x5a224d['responseStatus']===status_enums_1[_0x4157be(0x19b)][_0x4157be(0x19a)])return _0x5a224d;else{if(_0x5a39fa>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x4157be(0x1b9)]),await this[_0x4157be(0x1ae)](_0x5a7c02,_0x5a39fa-0x1);throw new veeva_error_1[(_0x4157be(0x19c))](_0x5a224d[_0x4157be(0x1bf)]);}}}exports[a364_0x4201ed(0x1a1)]=VpkService;