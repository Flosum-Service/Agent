const a396_0x5cb151=a396_0x16da;(function(_0x1c14b6,_0x147f29){const _0x1c8561=a396_0x16da,_0x2aed77=_0x1c14b6();while(!![]){try{const _0x492f2f=parseInt(_0x1c8561(0x186))/0x1+-parseInt(_0x1c8561(0x18a))/0x2*(parseInt(_0x1c8561(0x180))/0x3)+parseInt(_0x1c8561(0x18d))/0x4*(-parseInt(_0x1c8561(0x185))/0x5)+parseInt(_0x1c8561(0x16c))/0x6+parseInt(_0x1c8561(0x17e))/0x7*(parseInt(_0x1c8561(0x18e))/0x8)+parseInt(_0x1c8561(0x16f))/0x9+parseInt(_0x1c8561(0x174))/0xa*(-parseInt(_0x1c8561(0x194))/0xb);if(_0x492f2f===_0x147f29)break;else _0x2aed77['push'](_0x2aed77['shift']());}catch(_0x5b5c98){_0x2aed77['push'](_0x2aed77['shift']());}}}(a396_0x3a1f,0x409d8));const a396_0x2952cc=(function(){let _0x1edb08=!![];return function(_0x29fa39,_0x2035d3){const _0x4d15a0=_0x1edb08?function(){if(_0x2035d3){const _0x3135b0=_0x2035d3['apply'](_0x29fa39,arguments);return _0x2035d3=null,_0x3135b0;}}:function(){};return _0x1edb08=![],_0x4d15a0;};}()),a396_0x4e9bd2=a396_0x2952cc(this,function(){const _0x573cfc=a396_0x16da;return a396_0x4e9bd2[_0x573cfc(0x183)]()[_0x573cfc(0x184)](_0x573cfc(0x18b))[_0x573cfc(0x183)]()[_0x573cfc(0x175)](a396_0x4e9bd2)['search'](_0x573cfc(0x18b));});a396_0x4e9bd2();'use strict';var __importDefault=this&&this[a396_0x5cb151(0x170)]||function(_0x38a1e3){const _0x9c9458=a396_0x5cb151;return _0x38a1e3&&_0x38a1e3[_0x9c9458(0x179)]?_0x38a1e3:{'default':_0x38a1e3};};function a396_0x3a1f(){const _0x415196=['toString','search','2286995ApXJyK','430717rnonSn','defineProperty','_connection','default','4ewaWhD','(((.+)+)+)+$','validate','4ajlToF','54496yBuxRo','ENDPOINT_VALIDATE_VPK','errors','VeevaResponseStatus','SUCCESS','data','1441506FSfOEd','includes','form-data','VpkService','content-type','557652NoibcX','../enums/status.enums','file','877212xCggrX','__importDefault','headers','../classes/errors/veeva-error','arraybuffer','10PLyAza','constructor','generate','multipart/form-data','../utils/veeva-auth.utils','__esModule','append','application/json','updateVeevaConnection','createReadStream','294FGqMBD','VeevaConstants','81183ZwQxwI','post','VeevaError'];a396_0x3a1f=function(){return _0x415196;};return a396_0x3a1f();}Object[a396_0x5cb151(0x187)](exports,a396_0x5cb151(0x179),{'value':!![]}),exports[a396_0x5cb151(0x16a)]=void 0x0;function a396_0x16da(_0x43617,_0x108855){const _0x5e585e=a396_0x3a1f();return a396_0x16da=function(_0x4e9bd2,_0x2952cc){_0x4e9bd2=_0x4e9bd2-0x168;let _0x3a1f70=_0x5e585e[_0x4e9bd2];return _0x3a1f70;},a396_0x16da(_0x43617,_0x108855);}const form_data_1=__importDefault(require(a396_0x5cb151(0x169))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a396_0x5cb151(0x178)),veeva_error_1=require(a396_0x5cb151(0x172)),status_enums_1=require(a396_0x5cb151(0x16d));class VpkService{constructor({connection:_0xd75fcf}){const _0x2e9276=a396_0x5cb151;this[_0x2e9276(0x188)]=_0xd75fcf;}async[a396_0x5cb151(0x176)](_0x5691b8,_0x260246=0x1){const _0x5bcf30=a396_0x5cb151;var _0x632e88;const _0x1c74ba=new form_data_1[(_0x5bcf30(0x189))]();_0x1c74ba[_0x5bcf30(0x17a)]('file',(0x0,fs_1[_0x5bcf30(0x17d)])(_0x5691b8));const _0x44181e=await this[_0x5bcf30(0x188)][_0x5bcf30(0x181)](veeva_constants_1[_0x5bcf30(0x17f)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x1c74ba,{'responseType':_0x5bcf30(0x173),'headers':{'Content-Type':'multipart/form-data'}}),_0x3c0c4a=(_0x632e88=_0x44181e[_0x5bcf30(0x171)][_0x5bcf30(0x16b)])===null||_0x632e88===void 0x0?void 0x0:_0x632e88[_0x5bcf30(0x168)](_0x5bcf30(0x17b));if(!_0x3c0c4a)return _0x44181e[_0x5bcf30(0x193)];else{const _0x4c86b7=JSON['parse'](_0x44181e[_0x5bcf30(0x193)]);if(_0x260246>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x5bcf30(0x188)]),await this[_0x5bcf30(0x176)](_0x5691b8,_0x260246-0x1);throw new veeva_error_1[(_0x5bcf30(0x182))](_0x4c86b7[_0x5bcf30(0x190)]);}}async['validate'](_0xdcb0d5,_0x41391a=0x1){const _0x2f0d0f=a396_0x5cb151,_0x3eb178=new form_data_1[(_0x2f0d0f(0x189))]();_0x3eb178[_0x2f0d0f(0x17a)](_0x2f0d0f(0x16e),(0x0,fs_1[_0x2f0d0f(0x17d)])(_0xdcb0d5));const _0x4c9d40=await this[_0x2f0d0f(0x188)][_0x2f0d0f(0x181)](veeva_constants_1[_0x2f0d0f(0x17f)][_0x2f0d0f(0x18f)],_0x3eb178,{'headers':{'Content-Type':_0x2f0d0f(0x177)}}),_0x3a1513=_0x4c9d40[_0x2f0d0f(0x193)];if(_0x3a1513['responseStatus']===status_enums_1[_0x2f0d0f(0x191)][_0x2f0d0f(0x192)])return _0x3a1513;else{if(_0x41391a>0x0)return await(0x0,veeva_auth_utils_1[_0x2f0d0f(0x17c)])(this[_0x2f0d0f(0x188)]),await this[_0x2f0d0f(0x18c)](_0xdcb0d5,_0x41391a-0x1);throw new veeva_error_1['VeevaError'](_0x3a1513['errors']);}}}exports[a396_0x5cb151(0x16a)]=VpkService;