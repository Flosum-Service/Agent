const a365_0x2750b6=a365_0x816c;function a365_0x816c(_0x141c6f,_0xcaafc9){const _0x25daa3=a365_0x5a2e();return a365_0x816c=function(_0x2f84e6,_0x5ed8d3){_0x2f84e6=_0x2f84e6-0xad;let _0x5a2e44=_0x25daa3[_0x2f84e6];return _0x5a2e44;},a365_0x816c(_0x141c6f,_0xcaafc9);}(function(_0x46bf9d,_0x4a9f86){const _0x3e9b05=a365_0x816c,_0x193296=_0x46bf9d();while(!![]){try{const _0x4e9e33=parseInt(_0x3e9b05(0xc8))/0x1+parseInt(_0x3e9b05(0xcb))/0x2+parseInt(_0x3e9b05(0xcc))/0x3+-parseInt(_0x3e9b05(0xba))/0x4*(-parseInt(_0x3e9b05(0xb1))/0x5)+parseInt(_0x3e9b05(0xb3))/0x6+-parseInt(_0x3e9b05(0xc7))/0x7*(parseInt(_0x3e9b05(0xcd))/0x8)+-parseInt(_0x3e9b05(0xbe))/0x9;if(_0x4e9e33===_0x4a9f86)break;else _0x193296['push'](_0x193296['shift']());}catch(_0x38e702){_0x193296['push'](_0x193296['shift']());}}}(a365_0x5a2e,0x4ac8e));const a365_0x5ed8d3=(function(){let _0x54699b=!![];return function(_0x27483c,_0x3bdb1f){const _0x17d59e=_0x54699b?function(){const _0x514b5c=a365_0x816c;if(_0x3bdb1f){const _0x230d6d=_0x3bdb1f[_0x514b5c(0xaf)](_0x27483c,arguments);return _0x3bdb1f=null,_0x230d6d;}}:function(){};return _0x54699b=![],_0x17d59e;};}()),a365_0x2f84e6=a365_0x5ed8d3(this,function(){const _0x581ffe=a365_0x816c;return a365_0x2f84e6[_0x581ffe(0xc3)]()[_0x581ffe(0xd2)]('(((.+)+)+)+$')[_0x581ffe(0xc3)]()['constructor'](a365_0x2f84e6)['search'](_0x581ffe(0xbd));});a365_0x2f84e6();function a365_0x5a2e(){const _0x34e79e=['default','647736ImwanC','987198HWutaP','8EtyAIn','createReadStream','VpkService','VeevaError','form-data','search','arraybuffer','VeevaResponseStatus','__importDefault','apply','../classes/errors/veeva-error','3023805DBSuke','data','20064nOzRJK','SUCCESS','../constants/veeva.constants','_connection','includes','post','__esModule','4MMdIFw','append','validate','(((.+)+)+)+$','7850808fvropS','errors','file','VeevaConstants','multipart/form-data','toString','headers','parse','content-type','3546781yxsGCn','424274FCWbRw','../enums/status.enums'];a365_0x5a2e=function(){return _0x34e79e;};return a365_0x5a2e();}'use strict';var __importDefault=this&&this[a365_0x2750b6(0xae)]||function(_0x4aec6b){const _0x5212a8=a365_0x2750b6;return _0x4aec6b&&_0x4aec6b[_0x5212a8(0xb9)]?_0x4aec6b:{'default':_0x4aec6b};};Object['defineProperty'](exports,a365_0x2750b6(0xb9),{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a365_0x2750b6(0xd1))),fs_1=require('fs'),veeva_constants_1=require(a365_0x2750b6(0xb5)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a365_0x2750b6(0xb0)),status_enums_1=require(a365_0x2750b6(0xc9));class VpkService{constructor({connection:_0x4639f2}){const _0x3f791e=a365_0x2750b6;this[_0x3f791e(0xb6)]=_0x4639f2;}async['generate'](_0x3a05bc,_0x891107=0x1){const _0x33a1e3=a365_0x2750b6;var _0x9a1044;const _0x472de7=new form_data_1[(_0x33a1e3(0xca))]();_0x472de7[_0x33a1e3(0xbb)](_0x33a1e3(0xc0),(0x0,fs_1[_0x33a1e3(0xce)])(_0x3a05bc));const _0x32f4eb=await this[_0x33a1e3(0xb6)]['post'](veeva_constants_1[_0x33a1e3(0xc1)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x472de7,{'responseType':_0x33a1e3(0xd3),'headers':{'Content-Type':_0x33a1e3(0xc2)}}),_0x41e86f=(_0x9a1044=_0x32f4eb[_0x33a1e3(0xc4)][_0x33a1e3(0xc6)])===null||_0x9a1044===void 0x0?void 0x0:_0x9a1044[_0x33a1e3(0xb7)]('application/json');if(!_0x41e86f)return _0x32f4eb[_0x33a1e3(0xb2)];else{const _0x34cc1f=JSON[_0x33a1e3(0xc5)](_0x32f4eb[_0x33a1e3(0xb2)]);if(_0x891107>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x33a1e3(0xb6)]),await this['generate'](_0x3a05bc,_0x891107-0x1);throw new veeva_error_1['VeevaError'](_0x34cc1f[_0x33a1e3(0xbf)]);}}async[a365_0x2750b6(0xbc)](_0x1f97c9,_0x58d26a=0x1){const _0xd3d214=a365_0x2750b6,_0x491680=new form_data_1[(_0xd3d214(0xca))]();_0x491680[_0xd3d214(0xbb)](_0xd3d214(0xc0),(0x0,fs_1[_0xd3d214(0xce)])(_0x1f97c9));const _0x5d304b=await this[_0xd3d214(0xb6)][_0xd3d214(0xb8)](veeva_constants_1[_0xd3d214(0xc1)]['ENDPOINT_VALIDATE_VPK'],_0x491680,{'headers':{'Content-Type':_0xd3d214(0xc2)}}),_0xf0f341=_0x5d304b['data'];if(_0xf0f341['responseStatus']===status_enums_1[_0xd3d214(0xad)][_0xd3d214(0xb4)])return _0xf0f341;else{if(_0x58d26a>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0xd3d214(0xb6)]),await this[_0xd3d214(0xbc)](_0x1f97c9,_0x58d26a-0x1);throw new veeva_error_1[(_0xd3d214(0xd0))](_0xf0f341[_0xd3d214(0xbf)]);}}}exports[a365_0x2750b6(0xcf)]=VpkService;