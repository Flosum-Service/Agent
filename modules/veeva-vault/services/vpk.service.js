const a408_0x18d630=a408_0x5348;function a408_0x5348(_0x3da297,_0x2af3ae){const _0x2a51ea=a408_0x3252();return a408_0x5348=function(_0x749a84,_0x3f21e2){_0x749a84=_0x749a84-0x1c8;let _0x325237=_0x2a51ea[_0x749a84];return _0x325237;},a408_0x5348(_0x3da297,_0x2af3ae);}(function(_0xbfcc4,_0x20e4dd){const _0x714ea=a408_0x5348,_0x926323=_0xbfcc4();while(!![]){try{const _0x4fd969=-parseInt(_0x714ea(0x1e7))/0x1+-parseInt(_0x714ea(0x1d2))/0x2+parseInt(_0x714ea(0x1d4))/0x3+-parseInt(_0x714ea(0x1c8))/0x4+-parseInt(_0x714ea(0x1e6))/0x5*(parseInt(_0x714ea(0x1dc))/0x6)+-parseInt(_0x714ea(0x1d5))/0x7+-parseInt(_0x714ea(0x1de))/0x8*(-parseInt(_0x714ea(0x1cc))/0x9);if(_0x4fd969===_0x20e4dd)break;else _0x926323['push'](_0x926323['shift']());}catch(_0xd312c9){_0x926323['push'](_0x926323['shift']());}}}(a408_0x3252,0x69c5b));const a408_0x3f21e2=(function(){let _0x18607e=!![];return function(_0x2ef0e4,_0x2fd466){const _0x4b6757=_0x18607e?function(){if(_0x2fd466){const _0x2014f7=_0x2fd466['apply'](_0x2ef0e4,arguments);return _0x2fd466=null,_0x2014f7;}}:function(){};return _0x18607e=![],_0x4b6757;};}()),a408_0x749a84=a408_0x3f21e2(this,function(){const _0x5262f3=a408_0x5348;return a408_0x749a84[_0x5262f3(0x1d6)]()['search']('(((.+)+)+)+$')[_0x5262f3(0x1d6)]()[_0x5262f3(0x1d3)](a408_0x749a84)[_0x5262f3(0x1ce)](_0x5262f3(0x1cf));});a408_0x749a84();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2f80ca){return _0x2f80ca&&_0x2f80ca['__esModule']?_0x2f80ca:{'default':_0x2f80ca};};Object[a408_0x18d630(0x1df)](exports,a408_0x18d630(0x1ed),{'value':!![]}),exports[a408_0x18d630(0x1ca)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a408_0x18d630(0x1d9)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a408_0x18d630(0x1d1));class VpkService{constructor({connection:_0xa5aeff}){const _0x2be997=a408_0x18d630;this[_0x2be997(0x1e5)]=_0xa5aeff;}async[a408_0x18d630(0x1d0)](_0x4dd676,_0x5af9b1=0x1){const _0x557509=a408_0x18d630;var _0x15ee81;const _0x3d0f4a=new form_data_1[(_0x557509(0x1ec))]();_0x3d0f4a[_0x557509(0x1e3)](_0x557509(0x1da),(0x0,fs_1[_0x557509(0x1e2)])(_0x4dd676));const _0x3d1cad=await this[_0x557509(0x1e5)][_0x557509(0x1d8)](veeva_constants_1[_0x557509(0x1e0)][_0x557509(0x1e4)],_0x3d0f4a,{'responseType':'arraybuffer','headers':{'Content-Type':_0x557509(0x1eb)}}),_0x165b29=(_0x15ee81=_0x3d1cad[_0x557509(0x1e9)][_0x557509(0x1db)])===null||_0x15ee81===void 0x0?void 0x0:_0x15ee81['includes']('application/json');if(!_0x165b29)return _0x3d1cad[_0x557509(0x1cd)];else{const _0x3bc026=JSON[_0x557509(0x1c9)](_0x3d1cad[_0x557509(0x1cd)]);if(_0x5af9b1>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x557509(0x1e5)]),await this[_0x557509(0x1d0)](_0x4dd676,_0x5af9b1-0x1);throw new veeva_error_1['VeevaError'](_0x3bc026[_0x557509(0x1d7)]);}}async[a408_0x18d630(0x1dd)](_0x3db4ab,_0x399cc1=0x1){const _0xf7224a=a408_0x18d630,_0x40109c=new form_data_1['default']();_0x40109c[_0xf7224a(0x1e3)](_0xf7224a(0x1da),(0x0,fs_1[_0xf7224a(0x1e2)])(_0x3db4ab));const _0x253004=await this['_connection'][_0xf7224a(0x1d8)](veeva_constants_1[_0xf7224a(0x1e0)]['ENDPOINT_VALIDATE_VPK'],_0x40109c,{'headers':{'Content-Type':_0xf7224a(0x1eb)}}),_0x554baf=_0x253004[_0xf7224a(0x1cd)];if(_0x554baf['responseStatus']===status_enums_1[_0xf7224a(0x1e1)][_0xf7224a(0x1ea)])return _0x554baf;else{if(_0x399cc1>0x0)return await(0x0,veeva_auth_utils_1[_0xf7224a(0x1e8)])(this[_0xf7224a(0x1e5)]),await this[_0xf7224a(0x1dd)](_0x3db4ab,_0x399cc1-0x1);throw new veeva_error_1[(_0xf7224a(0x1cb))](_0x554baf[_0xf7224a(0x1d7)]);}}}function a408_0x3252(){const _0x4ba846=['post','../constants/veeva.constants','file','content-type','1644jELjgf','validate','14542104Lqkapi','defineProperty','VeevaConstants','VeevaResponseStatus','createReadStream','append','ENDPOINT_EXPORT_IMPORT_PACKAGE','_connection','4885dEVKHu','835780UONXOb','updateVeevaConnection','headers','SUCCESS','multipart/form-data','default','__esModule','642576eDabzX','parse','VpkService','VeevaError','9cBScsj','data','search','(((.+)+)+)+$','generate','../enums/status.enums','387506gBEdVl','constructor','1222269oaDGsk','2338476wblKKM','toString','errors'];a408_0x3252=function(){return _0x4ba846;};return a408_0x3252();}exports[a408_0x18d630(0x1ca)]=VpkService;