const a380_0x15a80c=a380_0x5a72;(function(_0x44f9e5,_0x37bd60){const _0x2480cb=a380_0x5a72,_0x370179=_0x44f9e5();while(!![]){try{const _0x13f2ac=-parseInt(_0x2480cb(0x1ca))/0x1+-parseInt(_0x2480cb(0x1df))/0x2+parseInt(_0x2480cb(0x1d2))/0x3+parseInt(_0x2480cb(0x1de))/0x4*(-parseInt(_0x2480cb(0x1c5))/0x5)+-parseInt(_0x2480cb(0x1c7))/0x6+parseInt(_0x2480cb(0x1d1))/0x7*(-parseInt(_0x2480cb(0x1cd))/0x8)+-parseInt(_0x2480cb(0x1c0))/0x9*(-parseInt(_0x2480cb(0x1ba))/0xa);if(_0x13f2ac===_0x37bd60)break;else _0x370179['push'](_0x370179['shift']());}catch(_0x1cd06c){_0x370179['push'](_0x370179['shift']());}}}(a380_0x2952,0x9c824));const a380_0x28e895=(function(){let _0x294ea4=!![];return function(_0x5c7dd0,_0x37f52d){const _0x420b7d=_0x294ea4?function(){if(_0x37f52d){const _0x4285be=_0x37f52d['apply'](_0x5c7dd0,arguments);return _0x37f52d=null,_0x4285be;}}:function(){};return _0x294ea4=![],_0x420b7d;};}()),a380_0x37d560=a380_0x28e895(this,function(){const _0x28509b=a380_0x5a72;return a380_0x37d560[_0x28509b(0x1bb)]()['search'](_0x28509b(0x1dc))[_0x28509b(0x1bb)]()[_0x28509b(0x1d4)](a380_0x37d560)[_0x28509b(0x1d7)](_0x28509b(0x1dc));});function a380_0x2952(){const _0x806f70=['2365636pbmLpZ','SUCCESS','3612040XESmMz','toString','default','ENDPOINT_VALIDATE_VPK','../constants/veeva.constants','file','90KuTTFs','append','defineProperty','parse','generate','5eTuDsH','post','6571806ASUqMk','application/json','../enums/status.enums','652175IOjEnK','__importDefault','multipart/form-data','5190904ryeoiT','errors','VeevaError','../utils/veeva-auth.utils','7ALtUoc','3725400UqIuMz','__esModule','constructor','updateVeevaConnection','VeevaConstants','search','_connection','data','createReadStream','validate','(((.+)+)+)+$','VpkService','2534492GjauDv'];a380_0x2952=function(){return _0x806f70;};return a380_0x2952();}a380_0x37d560();function a380_0x5a72(_0x1ee356,_0x48d6d1){const _0x5e41d3=a380_0x2952();return a380_0x5a72=function(_0x37d560,_0x28e895){_0x37d560=_0x37d560-0x1ba;let _0x295277=_0x5e41d3[_0x37d560];return _0x295277;},a380_0x5a72(_0x1ee356,_0x48d6d1);}'use strict';var __importDefault=this&&this[a380_0x15a80c(0x1cb)]||function(_0xe0e617){const _0x2b395b=a380_0x15a80c;return _0xe0e617&&_0xe0e617[_0x2b395b(0x1d3)]?_0xe0e617:{'default':_0xe0e617};};Object[a380_0x15a80c(0x1c2)](exports,a380_0x15a80c(0x1d3),{'value':!![]}),exports[a380_0x15a80c(0x1dd)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a380_0x15a80c(0x1be)),veeva_auth_utils_1=require(a380_0x15a80c(0x1d0)),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a380_0x15a80c(0x1c9));class VpkService{constructor({connection:_0x2293b5}){const _0x420326=a380_0x15a80c;this[_0x420326(0x1d8)]=_0x2293b5;}async[a380_0x15a80c(0x1c4)](_0x5a0edf,_0x989473=0x1){const _0x4bb927=a380_0x15a80c;var _0x124e36;const _0x4907c2=new form_data_1[(_0x4bb927(0x1bc))]();_0x4907c2[_0x4bb927(0x1c1)](_0x4bb927(0x1bf),(0x0,fs_1[_0x4bb927(0x1da)])(_0x5a0edf));const _0x1c0be6=await this['_connection'][_0x4bb927(0x1c6)](veeva_constants_1['VeevaConstants']['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x4907c2,{'responseType':'arraybuffer','headers':{'Content-Type':_0x4bb927(0x1cc)}}),_0x5f211e=(_0x124e36=_0x1c0be6['headers']['content-type'])===null||_0x124e36===void 0x0?void 0x0:_0x124e36['includes'](_0x4bb927(0x1c8));if(!_0x5f211e)return _0x1c0be6[_0x4bb927(0x1d9)];else{const _0x1976a2=JSON[_0x4bb927(0x1c3)](_0x1c0be6[_0x4bb927(0x1d9)]);if(_0x989473>0x0)return await(0x0,veeva_auth_utils_1[_0x4bb927(0x1d5)])(this['_connection']),await this[_0x4bb927(0x1c4)](_0x5a0edf,_0x989473-0x1);throw new veeva_error_1['VeevaError'](_0x1976a2[_0x4bb927(0x1ce)]);}}async['validate'](_0xcd5cb7,_0x4a7245=0x1){const _0xeb10e=a380_0x15a80c,_0x488ebb=new form_data_1[(_0xeb10e(0x1bc))]();_0x488ebb[_0xeb10e(0x1c1)](_0xeb10e(0x1bf),(0x0,fs_1['createReadStream'])(_0xcd5cb7));const _0x16e182=await this[_0xeb10e(0x1d8)][_0xeb10e(0x1c6)](veeva_constants_1[_0xeb10e(0x1d6)][_0xeb10e(0x1bd)],_0x488ebb,{'headers':{'Content-Type':_0xeb10e(0x1cc)}}),_0x3ac34e=_0x16e182[_0xeb10e(0x1d9)];if(_0x3ac34e['responseStatus']===status_enums_1['VeevaResponseStatus'][_0xeb10e(0x1e0)])return _0x3ac34e;else{if(_0x4a7245>0x0)return await(0x0,veeva_auth_utils_1[_0xeb10e(0x1d5)])(this[_0xeb10e(0x1d8)]),await this[_0xeb10e(0x1db)](_0xcd5cb7,_0x4a7245-0x1);throw new veeva_error_1[(_0xeb10e(0x1cf))](_0x3ac34e['errors']);}}}exports[a380_0x15a80c(0x1dd)]=VpkService;