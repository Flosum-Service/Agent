const a364_0x708bdb=a364_0x31e4;(function(_0x3cf2d7,_0x289d36){const _0x238393=a364_0x31e4,_0x3f9bc3=_0x3cf2d7();while(!![]){try{const _0x3b35ed=parseInt(_0x238393(0x157))/0x1+parseInt(_0x238393(0x158))/0x2*(-parseInt(_0x238393(0x152))/0x3)+-parseInt(_0x238393(0x151))/0x4+-parseInt(_0x238393(0x12e))/0x5+-parseInt(_0x238393(0x146))/0x6+parseInt(_0x238393(0x13d))/0x7+-parseInt(_0x238393(0x154))/0x8*(-parseInt(_0x238393(0x14d))/0x9);if(_0x3b35ed===_0x289d36)break;else _0x3f9bc3['push'](_0x3f9bc3['shift']());}catch(_0x30b740){_0x3f9bc3['push'](_0x3f9bc3['shift']());}}}(a364_0x1fd7,0x8cec9));const a364_0x3fdc3d=(function(){let _0x46e929=!![];return function(_0x1b770c,_0x5371ae){const _0x3aa57d=_0x46e929?function(){const _0x3ec6f2=a364_0x31e4;if(_0x5371ae){const _0x3733b8=_0x5371ae[_0x3ec6f2(0x155)](_0x1b770c,arguments);return _0x5371ae=null,_0x3733b8;}}:function(){};return _0x46e929=![],_0x3aa57d;};}()),a364_0x2bbc29=a364_0x3fdc3d(this,function(){const _0x2e2eb6=a364_0x31e4;return a364_0x2bbc29[_0x2e2eb6(0x14e)]()['search'](_0x2e2eb6(0x15a))[_0x2e2eb6(0x14e)]()[_0x2e2eb6(0x141)](a364_0x2bbc29)[_0x2e2eb6(0x13f)](_0x2e2eb6(0x15a));});a364_0x2bbc29();'use strict';var __importDefault=this&&this[a364_0x708bdb(0x159)]||function(_0x45209){const _0x242099=a364_0x708bdb;return _0x45209&&_0x45209[_0x242099(0x130)]?_0x45209:{'default':_0x45209};};function a364_0x31e4(_0x558b32,_0x5cab77){const _0x588544=a364_0x1fd7();return a364_0x31e4=function(_0x2bbc29,_0x3fdc3d){_0x2bbc29=_0x2bbc29-0x12d;let _0x1fd78b=_0x588544[_0x2bbc29];return _0x1fd78b;},a364_0x31e4(_0x558b32,_0x5cab77);}Object[a364_0x708bdb(0x149)](exports,a364_0x708bdb(0x130),{'value':!![]}),exports[a364_0x708bdb(0x137)]=void 0x0;const form_data_1=__importDefault(require(a364_0x708bdb(0x136))),fs_1=require('fs'),veeva_constants_1=require(a364_0x708bdb(0x153)),veeva_auth_utils_1=require(a364_0x708bdb(0x13a)),veeva_error_1=require(a364_0x708bdb(0x145)),status_enums_1=require(a364_0x708bdb(0x144));function a364_0x1fd7(){const _0x5f7d59=['search','VeevaResponseStatus','constructor','application/json','data','../enums/status.enums','../classes/errors/veeva-error','1445250yiPVzE','includes','SUCCESS','defineProperty','post','_connection','generate','251973YWmNtV','toString','createReadStream','ENDPOINT_VALIDATE_VPK','3922488xxbbOi','2433939vrTLFP','../constants/veeva.constants','760gPgcJR','apply','responseStatus','128906pGDlYa','2hrJmLN','__importDefault','(((.+)+)+)+$','parse','headers','4366540qhOKyr','validate','__esModule','default','append','errors','arraybuffer','VeevaError','form-data','VpkService','content-type','updateVeevaConnection','../utils/veeva-auth.utils','multipart/form-data','file','4863054Mwxgwc','VeevaConstants'];a364_0x1fd7=function(){return _0x5f7d59;};return a364_0x1fd7();}class VpkService{constructor({connection:_0x42b73d}){this['_connection']=_0x42b73d;}async[a364_0x708bdb(0x14c)](_0x5b743a,_0x46192d=0x1){const _0x52c999=a364_0x708bdb;var _0x458c60;const _0x2ca848=new form_data_1[(_0x52c999(0x131))]();_0x2ca848[_0x52c999(0x132)](_0x52c999(0x13c),(0x0,fs_1[_0x52c999(0x14f)])(_0x5b743a));const _0xffaa39=await this[_0x52c999(0x14b)][_0x52c999(0x14a)](veeva_constants_1[_0x52c999(0x13e)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x2ca848,{'responseType':_0x52c999(0x134),'headers':{'Content-Type':_0x52c999(0x13b)}}),_0x3a4273=(_0x458c60=_0xffaa39[_0x52c999(0x12d)][_0x52c999(0x138)])===null||_0x458c60===void 0x0?void 0x0:_0x458c60[_0x52c999(0x147)](_0x52c999(0x142));if(!_0x3a4273)return _0xffaa39[_0x52c999(0x143)];else{const _0x394e21=JSON[_0x52c999(0x15b)](_0xffaa39[_0x52c999(0x143)]);if(_0x46192d>0x0)return await(0x0,veeva_auth_utils_1[_0x52c999(0x139)])(this[_0x52c999(0x14b)]),await this['generate'](_0x5b743a,_0x46192d-0x1);throw new veeva_error_1[(_0x52c999(0x135))](_0x394e21[_0x52c999(0x133)]);}}async[a364_0x708bdb(0x12f)](_0xd37f40,_0x21d483=0x1){const _0x1c7c92=a364_0x708bdb,_0x5e7b2e=new form_data_1['default']();_0x5e7b2e[_0x1c7c92(0x132)]('file',(0x0,fs_1[_0x1c7c92(0x14f)])(_0xd37f40));const _0x2062d1=await this[_0x1c7c92(0x14b)][_0x1c7c92(0x14a)](veeva_constants_1[_0x1c7c92(0x13e)][_0x1c7c92(0x150)],_0x5e7b2e,{'headers':{'Content-Type':_0x1c7c92(0x13b)}}),_0x35aa00=_0x2062d1['data'];if(_0x35aa00[_0x1c7c92(0x156)]===status_enums_1[_0x1c7c92(0x140)][_0x1c7c92(0x148)])return _0x35aa00;else{if(_0x21d483>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this['_connection']),await this[_0x1c7c92(0x12f)](_0xd37f40,_0x21d483-0x1);throw new veeva_error_1[(_0x1c7c92(0x135))](_0x35aa00[_0x1c7c92(0x133)]);}}}exports[a364_0x708bdb(0x137)]=VpkService;