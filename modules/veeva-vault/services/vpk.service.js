const a380_0x5276d6=a380_0x11b0;(function(_0x5272fa,_0x91f0d1){const _0x3e901a=a380_0x11b0,_0x36c2b1=_0x5272fa();while(!![]){try{const _0x73233a=-parseInt(_0x3e901a(0xad))/0x1+-parseInt(_0x3e901a(0xa5))/0x2+-parseInt(_0x3e901a(0x89))/0x3*(parseInt(_0x3e901a(0xab))/0x4)+parseInt(_0x3e901a(0xaa))/0x5*(parseInt(_0x3e901a(0xa1))/0x6)+parseInt(_0x3e901a(0x8c))/0x7+-parseInt(_0x3e901a(0x90))/0x8*(-parseInt(_0x3e901a(0x9b))/0x9)+-parseInt(_0x3e901a(0x96))/0xa*(-parseInt(_0x3e901a(0x9a))/0xb);if(_0x73233a===_0x91f0d1)break;else _0x36c2b1['push'](_0x36c2b1['shift']());}catch(_0x122501){_0x36c2b1['push'](_0x36c2b1['shift']());}}}(a380_0x481e,0x6e3eb));function a380_0x481e(){const _0x2daf55=['SUCCESS','805644HoIasR','apply','../enums/status.enums','form-data','40ZUqGih','includes','data','(((.+)+)+)+$','updateVeevaConnection','../constants/veeva.constants','5670070qJsGfW','ENDPOINT_VALIDATE_VPK','errors','createReadStream','11eMyFPX','1193094eaurEA','generate','VeevaResponseStatus','toString','append','VpkService','6yCzGVe','__importDefault','post','_connection','1680382bdzwPF','headers','ENDPOINT_EXPORT_IMPORT_PACKAGE','multipart/form-data','search','2992135VfSxOL','124yXXMED','VeevaConstants','531725kEeBcz','default','defineProperty','VeevaError','parse','validate','file','content-type','constructor','11601TKWLBQ','responseStatus'];a380_0x481e=function(){return _0x2daf55;};return a380_0x481e();}const a380_0x459312=(function(){let _0x2bf3e6=!![];return function(_0x3ef2f5,_0x3b2cae){const _0x261d94=_0x2bf3e6?function(){const _0x42dcdd=a380_0x11b0;if(_0x3b2cae){const _0x1b0d42=_0x3b2cae[_0x42dcdd(0x8d)](_0x3ef2f5,arguments);return _0x3b2cae=null,_0x1b0d42;}}:function(){};return _0x2bf3e6=![],_0x261d94;};}()),a380_0x5b0a9f=a380_0x459312(this,function(){const _0xc68cb=a380_0x11b0;return a380_0x5b0a9f[_0xc68cb(0x9e)]()['search'](_0xc68cb(0x93))[_0xc68cb(0x9e)]()[_0xc68cb(0x88)](a380_0x5b0a9f)[_0xc68cb(0xa9)]('(((.+)+)+)+$');});a380_0x5b0a9f();'use strict';function a380_0x11b0(_0x3426bd,_0x2a83a1){const _0x1bd2c0=a380_0x481e();return a380_0x11b0=function(_0x5b0a9f,_0x459312){_0x5b0a9f=_0x5b0a9f-0x87;let _0x481e2f=_0x1bd2c0[_0x5b0a9f];return _0x481e2f;},a380_0x11b0(_0x3426bd,_0x2a83a1);}var __importDefault=this&&this[a380_0x5276d6(0xa2)]||function(_0x2d99c0){return _0x2d99c0&&_0x2d99c0['__esModule']?_0x2d99c0:{'default':_0x2d99c0};};Object[a380_0x5276d6(0xaf)](exports,'__esModule',{'value':!![]}),exports[a380_0x5276d6(0xa0)]=void 0x0;const form_data_1=__importDefault(require(a380_0x5276d6(0x8f))),fs_1=require('fs'),veeva_constants_1=require(a380_0x5276d6(0x95)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a380_0x5276d6(0x8e));class VpkService{constructor({connection:_0x2b010a}){const _0x3a4fbc=a380_0x5276d6;this[_0x3a4fbc(0xa4)]=_0x2b010a;}async['generate'](_0x58c5b0,_0x1476a4=0x1){const _0x282593=a380_0x5276d6;var _0x454004;const _0x7005a8=new form_data_1[(_0x282593(0xae))]();_0x7005a8[_0x282593(0x9f)](_0x282593(0xb3),(0x0,fs_1[_0x282593(0x99)])(_0x58c5b0));const _0x287689=await this['_connection']['post'](veeva_constants_1[_0x282593(0xac)][_0x282593(0xa7)],_0x7005a8,{'responseType':'arraybuffer','headers':{'Content-Type':_0x282593(0xa8)}}),_0x21f9af=(_0x454004=_0x287689[_0x282593(0xa6)][_0x282593(0x87)])===null||_0x454004===void 0x0?void 0x0:_0x454004[_0x282593(0x91)]('application/json');if(!_0x21f9af)return _0x287689[_0x282593(0x92)];else{const _0x57022b=JSON[_0x282593(0xb1)](_0x287689['data']);if(_0x1476a4>0x0)return await(0x0,veeva_auth_utils_1[_0x282593(0x94)])(this['_connection']),await this[_0x282593(0x9c)](_0x58c5b0,_0x1476a4-0x1);throw new veeva_error_1[(_0x282593(0xb0))](_0x57022b[_0x282593(0x98)]);}}async[a380_0x5276d6(0xb2)](_0xfaddfc,_0xce7786=0x1){const _0x1dcb1b=a380_0x5276d6,_0x1d256a=new form_data_1[(_0x1dcb1b(0xae))]();_0x1d256a[_0x1dcb1b(0x9f)](_0x1dcb1b(0xb3),(0x0,fs_1[_0x1dcb1b(0x99)])(_0xfaddfc));const _0x37318f=await this[_0x1dcb1b(0xa4)][_0x1dcb1b(0xa3)](veeva_constants_1[_0x1dcb1b(0xac)][_0x1dcb1b(0x97)],_0x1d256a,{'headers':{'Content-Type':_0x1dcb1b(0xa8)}}),_0x2dc5bf=_0x37318f[_0x1dcb1b(0x92)];if(_0x2dc5bf[_0x1dcb1b(0x8a)]===status_enums_1[_0x1dcb1b(0x9d)][_0x1dcb1b(0x8b)])return _0x2dc5bf;else{if(_0xce7786>0x0)return await(0x0,veeva_auth_utils_1[_0x1dcb1b(0x94)])(this[_0x1dcb1b(0xa4)]),await this['validate'](_0xfaddfc,_0xce7786-0x1);throw new veeva_error_1[(_0x1dcb1b(0xb0))](_0x2dc5bf[_0x1dcb1b(0x98)]);}}}exports[a380_0x5276d6(0xa0)]=VpkService;