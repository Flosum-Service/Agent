const a365_0x4f37b6=a365_0x21bc;function a365_0x21bc(_0x21b3ce,_0x34cbd2){const _0x198463=a365_0x50c1();return a365_0x21bc=function(_0x4a4782,_0x419071){_0x4a4782=_0x4a4782-0x8a;let _0x50c1d6=_0x198463[_0x4a4782];return _0x50c1d6;},a365_0x21bc(_0x21b3ce,_0x34cbd2);}(function(_0x7c711c,_0x3c2927){const _0x300297=a365_0x21bc,_0x1059a3=_0x7c711c();while(!![]){try{const _0x58f133=parseInt(_0x300297(0xb0))/0x1*(parseInt(_0x300297(0x96))/0x2)+parseInt(_0x300297(0xaa))/0x3*(parseInt(_0x300297(0x8d))/0x4)+-parseInt(_0x300297(0xa8))/0x5+-parseInt(_0x300297(0xb4))/0x6+parseInt(_0x300297(0xa7))/0x7*(-parseInt(_0x300297(0xb6))/0x8)+-parseInt(_0x300297(0xac))/0x9+parseInt(_0x300297(0xb3))/0xa;if(_0x58f133===_0x3c2927)break;else _0x1059a3['push'](_0x1059a3['shift']());}catch(_0x4d2b38){_0x1059a3['push'](_0x1059a3['shift']());}}}(a365_0x50c1,0x348fc));const a365_0x419071=(function(){let _0x5cff7f=!![];return function(_0x1b0028,_0x45cffa){const _0x1a6eec=_0x5cff7f?function(){const _0x9bdfee=a365_0x21bc;if(_0x45cffa){const _0x3348d5=_0x45cffa[_0x9bdfee(0xb7)](_0x1b0028,arguments);return _0x45cffa=null,_0x3348d5;}}:function(){};return _0x5cff7f=![],_0x1a6eec;};}()),a365_0x4a4782=a365_0x419071(this,function(){const _0x2025ca=a365_0x21bc;return a365_0x4a4782[_0x2025ca(0xa9)]()[_0x2025ca(0xb5)](_0x2025ca(0xa1))[_0x2025ca(0xa9)]()['constructor'](a365_0x4a4782)[_0x2025ca(0xb5)](_0x2025ca(0xa1));});a365_0x4a4782();'use strict';var __importDefault=this&&this[a365_0x4f37b6(0xa6)]||function(_0xca5e44){const _0xccecb6=a365_0x4f37b6;return _0xca5e44&&_0xca5e44[_0xccecb6(0x9f)]?_0xca5e44:{'default':_0xca5e44};};Object[a365_0x4f37b6(0x9b)](exports,a365_0x4f37b6(0x9f),{'value':!![]}),exports[a365_0x4f37b6(0x97)]=void 0x0;const form_data_1=__importDefault(require(a365_0x4f37b6(0x93))),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a365_0x4f37b6(0xa5)),veeva_error_1=require(a365_0x4f37b6(0xb2)),status_enums_1=require(a365_0x4f37b6(0x9a));class VpkService{constructor({connection:_0x567282}){const _0x23feea=a365_0x4f37b6;this[_0x23feea(0xae)]=_0x567282;}async[a365_0x4f37b6(0xad)](_0x3c00d0,_0x1c947a=0x1){const _0x1a73eb=a365_0x4f37b6;var _0x3f1412;const _0x128e97=new form_data_1[(_0x1a73eb(0xa3))]();_0x128e97[_0x1a73eb(0xa2)]('file',(0x0,fs_1['createReadStream'])(_0x3c00d0));const _0x15b138=await this[_0x1a73eb(0xae)][_0x1a73eb(0x92)](veeva_constants_1[_0x1a73eb(0xa0)][_0x1a73eb(0x90)],_0x128e97,{'responseType':_0x1a73eb(0x9c),'headers':{'Content-Type':_0x1a73eb(0x99)}}),_0x5f5932=(_0x3f1412=_0x15b138[_0x1a73eb(0xab)][_0x1a73eb(0x8f)])===null||_0x3f1412===void 0x0?void 0x0:_0x3f1412[_0x1a73eb(0x8a)](_0x1a73eb(0x8b));if(!_0x5f5932)return _0x15b138[_0x1a73eb(0x8c)];else{const _0x2b301d=JSON[_0x1a73eb(0xa4)](_0x15b138[_0x1a73eb(0x8c)]);if(_0x1c947a>0x0)return await(0x0,veeva_auth_utils_1[_0x1a73eb(0x95)])(this['_connection']),await this[_0x1a73eb(0xad)](_0x3c00d0,_0x1c947a-0x1);throw new veeva_error_1[(_0x1a73eb(0x94))](_0x2b301d['errors']);}}async[a365_0x4f37b6(0x9e)](_0x194c38,_0x244899=0x1){const _0x4c0280=a365_0x4f37b6,_0x3cab10=new form_data_1[(_0x4c0280(0xa3))]();_0x3cab10['append']('file',(0x0,fs_1[_0x4c0280(0x91)])(_0x194c38));const _0x3d70a8=await this[_0x4c0280(0xae)]['post'](veeva_constants_1[_0x4c0280(0xa0)][_0x4c0280(0x8e)],_0x3cab10,{'headers':{'Content-Type':_0x4c0280(0x99)}}),_0x1db558=_0x3d70a8['data'];if(_0x1db558[_0x4c0280(0xaf)]===status_enums_1[_0x4c0280(0xb1)][_0x4c0280(0x9d)])return _0x1db558;else{if(_0x244899>0x0)return await(0x0,veeva_auth_utils_1[_0x4c0280(0x95)])(this[_0x4c0280(0xae)]),await this[_0x4c0280(0x9e)](_0x194c38,_0x244899-0x1);throw new veeva_error_1[(_0x4c0280(0x94))](_0x1db558[_0x4c0280(0x98)]);}}}exports[a365_0x4f37b6(0x97)]=VpkService;function a365_0x50c1(){const _0x21d7d5=['data','146724pPusrI','ENDPOINT_VALIDATE_VPK','content-type','ENDPOINT_EXPORT_IMPORT_PACKAGE','createReadStream','post','form-data','VeevaError','updateVeevaConnection','396642kvRjLE','VpkService','errors','multipart/form-data','../enums/status.enums','defineProperty','arraybuffer','SUCCESS','validate','__esModule','VeevaConstants','(((.+)+)+)+$','append','default','parse','../utils/veeva-auth.utils','__importDefault','196oIlxMS','1002535RAamit','toString','30FxLrJd','headers','1265841IBXsbB','generate','_connection','responseStatus','2kTQZAI','VeevaResponseStatus','../classes/errors/veeva-error','1648130oiRwlZ','656910sESNfo','search','74952NAcflK','apply','includes','application/json'];a365_0x50c1=function(){return _0x21d7d5;};return a365_0x50c1();}