const a341_0x47a858=a341_0x4612;function a341_0x3832(){const _0x39cd83=['../utils/veeva-auth.utils','../classes/errors/veeva-error','__importDefault','responseStatus','errors','VeevaResponseStatus','_connection','file','ENDPOINT_EXPORT_IMPORT_PACKAGE','69585wZQXMm','updateVeevaConnection','60082qaoHXK','(((.+)+)+)+$','VpkService','226cctmuR','multipart/form-data','750JaDYPm','9ZhfGRd','validate','generate','defineProperty','post','default','282ziVNsn','1004916JGQCrO','search','1900440bvFwWr','data','VeevaConstants','includes','1380WlxYSV','content-type','headers','3500330gRdntU','../constants/veeva.constants','arraybuffer','apply','12440THzVJM','parse','application/json','14pAdnzv','../enums/status.enums','VeevaError','toString','SUCCESS','__esModule','constructor','form-data','append','createReadStream'];a341_0x3832=function(){return _0x39cd83;};return a341_0x3832();}(function(_0x40fe17,_0x488c81){const _0x30cdf6=a341_0x4612,_0x2e71e5=_0x40fe17();while(!![]){try{const _0x37354e=parseInt(_0x30cdf6(0x1e7))/0x1*(parseInt(_0x30cdf6(0x1e5))/0x2)+-parseInt(_0x30cdf6(0x1ee))/0x3*(-parseInt(_0x30cdf6(0x1fc))/0x4)+parseInt(_0x30cdf6(0x1e0))/0x5+-parseInt(_0x30cdf6(0x1ef))/0x6*(-parseInt(_0x30cdf6(0x1ff))/0x7)+-parseInt(_0x30cdf6(0x1f1))/0x8+-parseInt(_0x30cdf6(0x1e8))/0x9*(-parseInt(_0x30cdf6(0x1f8))/0xa)+-parseInt(_0x30cdf6(0x1e2))/0xb*(parseInt(_0x30cdf6(0x1f5))/0xc);if(_0x37354e===_0x488c81)break;else _0x2e71e5['push'](_0x2e71e5['shift']());}catch(_0x2cde12){_0x2e71e5['push'](_0x2e71e5['shift']());}}}(a341_0x3832,0x33597));const a341_0x387d93=(function(){let _0x4900da=!![];return function(_0x3bee04,_0x2fc1b6){const _0x304507=_0x4900da?function(){const _0x245800=a341_0x4612;if(_0x2fc1b6){const _0x5f1a22=_0x2fc1b6[_0x245800(0x1fb)](_0x3bee04,arguments);return _0x2fc1b6=null,_0x5f1a22;}}:function(){};return _0x4900da=![],_0x304507;};}()),a341_0x4b8847=a341_0x387d93(this,function(){const _0x32b61a=a341_0x4612;return a341_0x4b8847[_0x32b61a(0x1d0)]()[_0x32b61a(0x1f0)](_0x32b61a(0x1e3))[_0x32b61a(0x1d0)]()[_0x32b61a(0x1d3)](a341_0x4b8847)[_0x32b61a(0x1f0)](_0x32b61a(0x1e3));});a341_0x4b8847();'use strict';var __importDefault=this&&this[a341_0x47a858(0x1d9)]||function(_0x5b29ef){const _0x58fbe6=a341_0x47a858;return _0x5b29ef&&_0x5b29ef[_0x58fbe6(0x1d2)]?_0x5b29ef:{'default':_0x5b29ef};};function a341_0x4612(_0x5f2ec7,_0x4f1ca8){const _0x36f2e2=a341_0x3832();return a341_0x4612=function(_0x4b8847,_0x387d93){_0x4b8847=_0x4b8847-0x1cf;let _0x38328f=_0x36f2e2[_0x4b8847];return _0x38328f;},a341_0x4612(_0x5f2ec7,_0x4f1ca8);}Object[a341_0x47a858(0x1eb)](exports,'__esModule',{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require(a341_0x47a858(0x1d4))),fs_1=require('fs'),veeva_constants_1=require(a341_0x47a858(0x1f9)),veeva_auth_utils_1=require(a341_0x47a858(0x1d7)),veeva_error_1=require(a341_0x47a858(0x1d8)),status_enums_1=require(a341_0x47a858(0x200));class VpkService{constructor({connection:_0x3e56f1}){const _0x28a66d=a341_0x47a858;this[_0x28a66d(0x1dd)]=_0x3e56f1;}async[a341_0x47a858(0x1ea)](_0xd3ad43,_0x1fff6a=0x1){const _0x298b44=a341_0x47a858;var _0x419270;const _0x5d7337=new form_data_1[(_0x298b44(0x1ed))]();_0x5d7337[_0x298b44(0x1d5)](_0x298b44(0x1de),(0x0,fs_1[_0x298b44(0x1d6)])(_0xd3ad43));const _0x1cc2b6=await this['_connection'][_0x298b44(0x1ec)](veeva_constants_1[_0x298b44(0x1f3)][_0x298b44(0x1df)],_0x5d7337,{'responseType':_0x298b44(0x1fa),'headers':{'Content-Type':_0x298b44(0x1e6)}}),_0x4b9bce=(_0x419270=_0x1cc2b6[_0x298b44(0x1f7)][_0x298b44(0x1f6)])===null||_0x419270===void 0x0?void 0x0:_0x419270[_0x298b44(0x1f4)](_0x298b44(0x1fe));if(!_0x4b9bce)return _0x1cc2b6[_0x298b44(0x1f2)];else{const _0x4ed06a=JSON[_0x298b44(0x1fd)](_0x1cc2b6[_0x298b44(0x1f2)]);if(_0x1fff6a>0x0)return await(0x0,veeva_auth_utils_1[_0x298b44(0x1e1)])(this[_0x298b44(0x1dd)]),await this[_0x298b44(0x1ea)](_0xd3ad43,_0x1fff6a-0x1);throw new veeva_error_1['VeevaError'](_0x4ed06a[_0x298b44(0x1db)]);}}async['validate'](_0x13a63a,_0x42c7f2=0x1){const _0x39d6d6=a341_0x47a858,_0x115265=new form_data_1[(_0x39d6d6(0x1ed))]();_0x115265[_0x39d6d6(0x1d5)](_0x39d6d6(0x1de),(0x0,fs_1[_0x39d6d6(0x1d6)])(_0x13a63a));const _0x5d5406=await this[_0x39d6d6(0x1dd)][_0x39d6d6(0x1ec)](veeva_constants_1[_0x39d6d6(0x1f3)]['ENDPOINT_VALIDATE_VPK'],_0x115265,{'headers':{'Content-Type':'multipart/form-data'}}),_0x357924=_0x5d5406['data'];if(_0x357924[_0x39d6d6(0x1da)]===status_enums_1[_0x39d6d6(0x1dc)][_0x39d6d6(0x1d1)])return _0x357924;else{if(_0x42c7f2>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x39d6d6(0x1dd)]),await this[_0x39d6d6(0x1e9)](_0x13a63a,_0x42c7f2-0x1);throw new veeva_error_1[(_0x39d6d6(0x1cf))](_0x357924[_0x39d6d6(0x1db)]);}}}exports[a341_0x47a858(0x1e4)]=VpkService;