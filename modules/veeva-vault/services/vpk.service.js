const a409_0x4e69a0=a409_0x1e66;(function(_0xc9337b,_0x4b5983){const _0x14450e=a409_0x1e66,_0x57007e=_0xc9337b();while(!![]){try{const _0x37bdca=parseInt(_0x14450e(0xbb))/0x1*(-parseInt(_0x14450e(0x94))/0x2)+-parseInt(_0x14450e(0xbe))/0x3*(-parseInt(_0x14450e(0x9c))/0x4)+-parseInt(_0x14450e(0x9f))/0x5*(parseInt(_0x14450e(0x9e))/0x6)+-parseInt(_0x14450e(0xa4))/0x7+-parseInt(_0x14450e(0xbd))/0x8+parseInt(_0x14450e(0x9d))/0x9*(parseInt(_0x14450e(0xb1))/0xa)+-parseInt(_0x14450e(0xb5))/0xb*(-parseInt(_0x14450e(0xab))/0xc);if(_0x37bdca===_0x4b5983)break;else _0x57007e['push'](_0x57007e['shift']());}catch(_0x4169c0){_0x57007e['push'](_0x57007e['shift']());}}}(a409_0x167d,0xf266f));const a409_0x154c8e=(function(){let _0xc692e1=!![];return function(_0x33049d,_0x2e7532){const _0x1d0bb5=_0xc692e1?function(){const _0x4ea315=a409_0x1e66;if(_0x2e7532){const _0x32994f=_0x2e7532[_0x4ea315(0xae)](_0x33049d,arguments);return _0x2e7532=null,_0x32994f;}}:function(){};return _0xc692e1=![],_0x1d0bb5;};}()),a409_0x2e3634=a409_0x154c8e(this,function(){const _0x13b342=a409_0x1e66;return a409_0x2e3634[_0x13b342(0xad)]()['search']('(((.+)+)+)+$')[_0x13b342(0xad)]()['constructor'](a409_0x2e3634)[_0x13b342(0xa6)]('(((.+)+)+)+$');});a409_0x2e3634();'use strict';var __importDefault=this&&this[a409_0x4e69a0(0xa8)]||function(_0x589003){const _0x3edb52=a409_0x4e69a0;return _0x589003&&_0x589003[_0x3edb52(0xaa)]?_0x589003:{'default':_0x589003};};Object[a409_0x4e69a0(0xaf)](exports,a409_0x4e69a0(0xaa),{'value':!![]}),exports[a409_0x4e69a0(0x99)]=void 0x0;function a409_0x167d(){const _0x12da26=['responseStatus','SUCCESS','5501769HCPfiL','includes','search','append','__importDefault','generate','__esModule','1311852oJzCVH','headers','toString','apply','defineProperty','post','13801810jaDlBd','application/json','content-type','parse','253jKKONI','VeevaConstants','VeevaResponseStatus','createReadStream','ENDPOINT_VALIDATE_VPK','ENDPOINT_EXPORT_IMPORT_PACKAGE','2HGTNAk','form-data','3504152GjDjSa','123YLfego','errors','multipart/form-data','1491638GsGPNA','validate','_connection','file','data','VpkService','updateVeevaConnection','../constants/veeva.constants','83620jpaFlV','9GLguLc','2086332Usvifv','15wpcWbI','arraybuffer','default'];a409_0x167d=function(){return _0x12da26;};return a409_0x167d();}const form_data_1=__importDefault(require(a409_0x4e69a0(0xbc))),fs_1=require('fs'),veeva_constants_1=require(a409_0x4e69a0(0x9b)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x7601e}){this['_connection']=_0x7601e;}async[a409_0x4e69a0(0xa9)](_0xc0c28c,_0x31f54f=0x1){const _0xb3fba2=a409_0x4e69a0;var _0x1f3aa7;const _0x4216ac=new form_data_1[(_0xb3fba2(0xa1))]();_0x4216ac[_0xb3fba2(0xa7)](_0xb3fba2(0x97),(0x0,fs_1[_0xb3fba2(0xb8)])(_0xc0c28c));const _0x1461dc=await this[_0xb3fba2(0x96)][_0xb3fba2(0xb0)](veeva_constants_1['VeevaConstants'][_0xb3fba2(0xba)],_0x4216ac,{'responseType':_0xb3fba2(0xa0),'headers':{'Content-Type':_0xb3fba2(0x93)}}),_0x5aff63=(_0x1f3aa7=_0x1461dc[_0xb3fba2(0xac)][_0xb3fba2(0xb3)])===null||_0x1f3aa7===void 0x0?void 0x0:_0x1f3aa7[_0xb3fba2(0xa5)](_0xb3fba2(0xb2));if(!_0x5aff63)return _0x1461dc[_0xb3fba2(0x98)];else{const _0x2c66de=JSON[_0xb3fba2(0xb4)](_0x1461dc[_0xb3fba2(0x98)]);if(_0x31f54f>0x0)return await(0x0,veeva_auth_utils_1[_0xb3fba2(0x9a)])(this[_0xb3fba2(0x96)]),await this[_0xb3fba2(0xa9)](_0xc0c28c,_0x31f54f-0x1);throw new veeva_error_1['VeevaError'](_0x2c66de[_0xb3fba2(0x92)]);}}async[a409_0x4e69a0(0x95)](_0x4f3f26,_0x155967=0x1){const _0x89b9b7=a409_0x4e69a0,_0x17914c=new form_data_1[(_0x89b9b7(0xa1))]();_0x17914c['append'](_0x89b9b7(0x97),(0x0,fs_1[_0x89b9b7(0xb8)])(_0x4f3f26));const _0x1b3310=await this[_0x89b9b7(0x96)][_0x89b9b7(0xb0)](veeva_constants_1[_0x89b9b7(0xb6)][_0x89b9b7(0xb9)],_0x17914c,{'headers':{'Content-Type':_0x89b9b7(0x93)}}),_0x15b9c2=_0x1b3310[_0x89b9b7(0x98)];if(_0x15b9c2[_0x89b9b7(0xa2)]===status_enums_1[_0x89b9b7(0xb7)][_0x89b9b7(0xa3)])return _0x15b9c2;else{if(_0x155967>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x89b9b7(0x96)]),await this[_0x89b9b7(0x95)](_0x4f3f26,_0x155967-0x1);throw new veeva_error_1['VeevaError'](_0x15b9c2[_0x89b9b7(0x92)]);}}}function a409_0x1e66(_0x5d344f,_0x268773){const _0x53add7=a409_0x167d();return a409_0x1e66=function(_0x2e3634,_0x154c8e){_0x2e3634=_0x2e3634-0x92;let _0x167dc2=_0x53add7[_0x2e3634];return _0x167dc2;},a409_0x1e66(_0x5d344f,_0x268773);}exports[a409_0x4e69a0(0x99)]=VpkService;