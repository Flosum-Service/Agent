const a381_0x1c2726=a381_0x200a;(function(_0x480a97,_0x25361c){const _0x350492=a381_0x200a,_0x4d545d=_0x480a97();while(!![]){try{const _0x48111b=-parseInt(_0x350492(0xb2))/0x1*(parseInt(_0x350492(0xbc))/0x2)+-parseInt(_0x350492(0xc3))/0x3*(parseInt(_0x350492(0xc1))/0x4)+parseInt(_0x350492(0xc0))/0x5+parseInt(_0x350492(0xa3))/0x6+-parseInt(_0x350492(0xa7))/0x7*(-parseInt(_0x350492(0x9a))/0x8)+parseInt(_0x350492(0xb7))/0x9*(-parseInt(_0x350492(0xb4))/0xa)+parseInt(_0x350492(0xaa))/0xb*(parseInt(_0x350492(0xb8))/0xc);if(_0x48111b===_0x25361c)break;else _0x4d545d['push'](_0x4d545d['shift']());}catch(_0xb7cd1d){_0x4d545d['push'](_0x4d545d['shift']());}}}(a381_0x44ba,0xa2ccc));const a381_0x49a67f=(function(){let _0x504ab5=!![];return function(_0x10584d,_0x3eafd8){const _0x2f21eb=_0x504ab5?function(){const _0x45c378=a381_0x200a;if(_0x3eafd8){const _0x474f0e=_0x3eafd8[_0x45c378(0xab)](_0x10584d,arguments);return _0x3eafd8=null,_0x474f0e;}}:function(){};return _0x504ab5=![],_0x2f21eb;};}()),a381_0x7e4a12=a381_0x49a67f(this,function(){const _0x263209=a381_0x200a;return a381_0x7e4a12[_0x263209(0x9b)]()[_0x263209(0xbf)](_0x263209(0x9c))[_0x263209(0x9b)]()[_0x263209(0xb9)](a381_0x7e4a12)['search'](_0x263209(0x9c));});a381_0x7e4a12();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x404e7c){return _0x404e7c&&_0x404e7c['__esModule']?_0x404e7c:{'default':_0x404e7c};};function a381_0x44ba(){const _0x2242d0=['../utils/veeva-auth.utils','271940KXYmrP','file','VeevaConstants','45GMypEI','1104ZNQUGQ','constructor','arraybuffer','../constants/veeva.constants','63060Cogmuz','multipart/form-data','headers','search','656075QHMDBp','64004IOiICl','createReadStream','201DYIinn','10121648IWuxFc','toString','(((.+)+)+)+$','content-type','post','append','default','ENDPOINT_VALIDATE_VPK','form-data','1661376jHSubK','VeevaError','application/json','data','7oznGQO','validate','_connection','167354halsbl','apply','VpkService','errors','responseStatus','parse','includes','../enums/status.enums','38TBwanu'];a381_0x44ba=function(){return _0x2242d0;};return a381_0x44ba();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a381_0x1c2726(0xac)]=void 0x0;const form_data_1=__importDefault(require(a381_0x1c2726(0xa2))),fs_1=require('fs'),veeva_constants_1=require(a381_0x1c2726(0xbb)),veeva_auth_utils_1=require(a381_0x1c2726(0xb3)),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a381_0x1c2726(0xb1));function a381_0x200a(_0x43174b,_0x30b110){const _0x3b489d=a381_0x44ba();return a381_0x200a=function(_0x7e4a12,_0x49a67f){_0x7e4a12=_0x7e4a12-0x9a;let _0x44baec=_0x3b489d[_0x7e4a12];return _0x44baec;},a381_0x200a(_0x43174b,_0x30b110);}class VpkService{constructor({connection:_0x223aa5}){const _0x355b74=a381_0x1c2726;this[_0x355b74(0xa9)]=_0x223aa5;}async['generate'](_0x1a2d10,_0x3bbaf6=0x1){const _0x28cb2f=a381_0x1c2726;var _0x471fc3;const _0x548a7a=new form_data_1[(_0x28cb2f(0xa0))]();_0x548a7a[_0x28cb2f(0x9f)]('file',(0x0,fs_1[_0x28cb2f(0xc2)])(_0x1a2d10));const _0x5f07ae=await this[_0x28cb2f(0xa9)][_0x28cb2f(0x9e)](veeva_constants_1[_0x28cb2f(0xb6)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x548a7a,{'responseType':_0x28cb2f(0xba),'headers':{'Content-Type':'multipart/form-data'}}),_0x3e4304=(_0x471fc3=_0x5f07ae[_0x28cb2f(0xbe)][_0x28cb2f(0x9d)])===null||_0x471fc3===void 0x0?void 0x0:_0x471fc3[_0x28cb2f(0xb0)](_0x28cb2f(0xa5));if(!_0x3e4304)return _0x5f07ae[_0x28cb2f(0xa6)];else{const _0x11001f=JSON[_0x28cb2f(0xaf)](_0x5f07ae[_0x28cb2f(0xa6)]);if(_0x3bbaf6>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x28cb2f(0xa9)]),await this['generate'](_0x1a2d10,_0x3bbaf6-0x1);throw new veeva_error_1[(_0x28cb2f(0xa4))](_0x11001f[_0x28cb2f(0xad)]);}}async[a381_0x1c2726(0xa8)](_0x3839c4,_0xd688af=0x1){const _0x473a5f=a381_0x1c2726,_0x3bcf93=new form_data_1[(_0x473a5f(0xa0))]();_0x3bcf93[_0x473a5f(0x9f)](_0x473a5f(0xb5),(0x0,fs_1['createReadStream'])(_0x3839c4));const _0x11fb70=await this[_0x473a5f(0xa9)][_0x473a5f(0x9e)](veeva_constants_1[_0x473a5f(0xb6)][_0x473a5f(0xa1)],_0x3bcf93,{'headers':{'Content-Type':_0x473a5f(0xbd)}}),_0x1c9c99=_0x11fb70[_0x473a5f(0xa6)];if(_0x1c9c99[_0x473a5f(0xae)]===status_enums_1['VeevaResponseStatus']['SUCCESS'])return _0x1c9c99;else{if(_0xd688af>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this['_connection']),await this[_0x473a5f(0xa8)](_0x3839c4,_0xd688af-0x1);throw new veeva_error_1[(_0x473a5f(0xa4))](_0x1c9c99[_0x473a5f(0xad)]);}}}exports[a381_0x1c2726(0xac)]=VpkService;