const a365_0x458b8c=a365_0x1236;function a365_0x1236(_0x50cd69,_0x523da5){const _0x3e6baf=a365_0x17f2();return a365_0x1236=function(_0x328fd3,_0x4b7e74){_0x328fd3=_0x328fd3-0x120;let _0x17f2d7=_0x3e6baf[_0x328fd3];return _0x17f2d7;},a365_0x1236(_0x50cd69,_0x523da5);}(function(_0x22f178,_0x21c879){const _0x2f1c5e=a365_0x1236,_0x5b9248=_0x22f178();while(!![]){try{const _0xd1a286=-parseInt(_0x2f1c5e(0x13a))/0x1*(parseInt(_0x2f1c5e(0x133))/0x2)+parseInt(_0x2f1c5e(0x120))/0x3+-parseInt(_0x2f1c5e(0x12e))/0x4+-parseInt(_0x2f1c5e(0x148))/0x5+parseInt(_0x2f1c5e(0x149))/0x6*(-parseInt(_0x2f1c5e(0x13c))/0x7)+parseInt(_0x2f1c5e(0x12f))/0x8+parseInt(_0x2f1c5e(0x123))/0x9*(parseInt(_0x2f1c5e(0x131))/0xa);if(_0xd1a286===_0x21c879)break;else _0x5b9248['push'](_0x5b9248['shift']());}catch(_0x5a4e53){_0x5b9248['push'](_0x5b9248['shift']());}}}(a365_0x17f2,0xd87d5));const a365_0x4b7e74=(function(){let _0x176657=!![];return function(_0xb68b48,_0x41b37f){const _0x335b32=_0x176657?function(){const _0x2a6dcf=a365_0x1236;if(_0x41b37f){const _0x4d8b03=_0x41b37f[_0x2a6dcf(0x141)](_0xb68b48,arguments);return _0x41b37f=null,_0x4d8b03;}}:function(){};return _0x176657=![],_0x335b32;};}()),a365_0x328fd3=a365_0x4b7e74(this,function(){const _0x25d9b4=a365_0x1236;return a365_0x328fd3[_0x25d9b4(0x145)]()[_0x25d9b4(0x142)](_0x25d9b4(0x121))[_0x25d9b4(0x145)]()[_0x25d9b4(0x12a)](a365_0x328fd3)[_0x25d9b4(0x142)](_0x25d9b4(0x121));});a365_0x328fd3();'use strict';function a365_0x17f2(){const _0x2808d3=['1593655MofSyk','post','413OfelNB','errors','includes','ENDPOINT_VALIDATE_VPK','file','apply','search','generate','application/json','toString','arraybuffer','updateVeevaConnection','1520350cocQIk','142020htlIXv','_connection','1517460lnVRfp','(((.+)+)+)+$','VeevaResponseStatus','108iqGMiG','createReadStream','__importDefault','VeevaConstants','defineProperty','VpkService','../classes/errors/veeva-error','constructor','ENDPOINT_EXPORT_IMPORT_PACKAGE','SUCCESS','content-type','1892388gStEqF','9025192BMnjfx','data','2516770RdkCZu','multipart/form-data','2CAXusX','append','../constants/veeva.constants','default','VeevaError','parse','validate'];a365_0x17f2=function(){return _0x2808d3;};return a365_0x17f2();}var __importDefault=this&&this[a365_0x458b8c(0x125)]||function(_0x3af4b0){return _0x3af4b0&&_0x3af4b0['__esModule']?_0x3af4b0:{'default':_0x3af4b0};};Object[a365_0x458b8c(0x127)](exports,'__esModule',{'value':!![]}),exports['VpkService']=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a365_0x458b8c(0x135)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a365_0x458b8c(0x129)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x4f4ea2}){const _0x55f744=a365_0x458b8c;this[_0x55f744(0x14a)]=_0x4f4ea2;}async['generate'](_0x22ab55,_0x105533=0x1){const _0x3ad910=a365_0x458b8c;var _0x5edc01;const _0x13165c=new form_data_1['default']();_0x13165c['append'](_0x3ad910(0x140),(0x0,fs_1[_0x3ad910(0x124)])(_0x22ab55));const _0x2d98e2=await this['_connection'][_0x3ad910(0x13b)](veeva_constants_1[_0x3ad910(0x126)][_0x3ad910(0x12b)],_0x13165c,{'responseType':_0x3ad910(0x146),'headers':{'Content-Type':_0x3ad910(0x132)}}),_0x5bdded=(_0x5edc01=_0x2d98e2['headers'][_0x3ad910(0x12d)])===null||_0x5edc01===void 0x0?void 0x0:_0x5edc01[_0x3ad910(0x13e)](_0x3ad910(0x144));if(!_0x5bdded)return _0x2d98e2[_0x3ad910(0x130)];else{const _0x5a6052=JSON[_0x3ad910(0x138)](_0x2d98e2[_0x3ad910(0x130)]);if(_0x105533>0x0)return await(0x0,veeva_auth_utils_1[_0x3ad910(0x147)])(this[_0x3ad910(0x14a)]),await this[_0x3ad910(0x143)](_0x22ab55,_0x105533-0x1);throw new veeva_error_1['VeevaError'](_0x5a6052[_0x3ad910(0x13d)]);}}async[a365_0x458b8c(0x139)](_0x5a254b,_0x330a6f=0x1){const _0x120cd8=a365_0x458b8c,_0x57c7c1=new form_data_1[(_0x120cd8(0x136))]();_0x57c7c1[_0x120cd8(0x134)]('file',(0x0,fs_1[_0x120cd8(0x124)])(_0x5a254b));const _0x2d3c03=await this[_0x120cd8(0x14a)][_0x120cd8(0x13b)](veeva_constants_1[_0x120cd8(0x126)][_0x120cd8(0x13f)],_0x57c7c1,{'headers':{'Content-Type':_0x120cd8(0x132)}}),_0x232c6f=_0x2d3c03[_0x120cd8(0x130)];if(_0x232c6f['responseStatus']===status_enums_1[_0x120cd8(0x122)][_0x120cd8(0x12c)])return _0x232c6f;else{if(_0x330a6f>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x120cd8(0x14a)]),await this[_0x120cd8(0x139)](_0x5a254b,_0x330a6f-0x1);throw new veeva_error_1[(_0x120cd8(0x137))](_0x232c6f[_0x120cd8(0x13d)]);}}}exports[a365_0x458b8c(0x128)]=VpkService;