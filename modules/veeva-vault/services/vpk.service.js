const a341_0x3bc8e4=a341_0x1bb0;function a341_0x5931(){const _0xee2d9a=['../enums/status.enums','includes','12098RZnvmb','post','file','VpkService','toString','form-data','../classes/errors/veeva-error','_connection','VeevaError','76AHfvBQ','59412cscMkG','apply','generate','../constants/veeva.constants','1654680rzfcNQ','3004243TZyQqn','(((.+)+)+)+$','default','245cSPcgJ','append','VeevaConstants','139144VRFucU','defineProperty','errors','responseStatus','VeevaResponseStatus','__esModule','SUCCESS','validate','multipart/form-data','updateVeevaConnection','search','data','23VoOqfM','90oHeLfj','content-type','113253sWhZsP','createReadStream','__importDefault','4434493kbbcfJ'];a341_0x5931=function(){return _0xee2d9a;};return a341_0x5931();}(function(_0x352708,_0x340326){const _0x4eb96f=a341_0x1bb0,_0x38fad1=_0x352708();while(!![]){try{const _0x18616b=parseInt(_0x4eb96f(0x108))/0x1*(-parseInt(_0x4eb96f(0xe7))/0x2)+-parseInt(_0x4eb96f(0x10b))/0x3*(-parseInt(_0x4eb96f(0xf0))/0x4)+-parseInt(_0x4eb96f(0xf9))/0x5*(-parseInt(_0x4eb96f(0xf1))/0x6)+-parseInt(_0x4eb96f(0x10e))/0x7+-parseInt(_0x4eb96f(0xfc))/0x8*(parseInt(_0x4eb96f(0x109))/0x9)+-parseInt(_0x4eb96f(0xf5))/0xa+parseInt(_0x4eb96f(0xf6))/0xb;if(_0x18616b===_0x340326)break;else _0x38fad1['push'](_0x38fad1['shift']());}catch(_0x2409c9){_0x38fad1['push'](_0x38fad1['shift']());}}}(a341_0x5931,0x58c24));const a341_0x14e401=(function(){let _0x604e73=!![];return function(_0x166dd1,_0x4f3e91){const _0x4863bc=_0x604e73?function(){const _0x377a9a=a341_0x1bb0;if(_0x4f3e91){const _0x304be6=_0x4f3e91[_0x377a9a(0xf2)](_0x166dd1,arguments);return _0x4f3e91=null,_0x304be6;}}:function(){};return _0x604e73=![],_0x4863bc;};}()),a341_0x30e429=a341_0x14e401(this,function(){const _0x2a0107=a341_0x1bb0;return a341_0x30e429[_0x2a0107(0xeb)]()[_0x2a0107(0x106)](_0x2a0107(0xf7))[_0x2a0107(0xeb)]()['constructor'](a341_0x30e429)[_0x2a0107(0x106)](_0x2a0107(0xf7));});a341_0x30e429();'use strict';var __importDefault=this&&this[a341_0x3bc8e4(0x10d)]||function(_0x42ca81){const _0x2b1497=a341_0x3bc8e4;return _0x42ca81&&_0x42ca81[_0x2b1497(0x101)]?_0x42ca81:{'default':_0x42ca81};};Object[a341_0x3bc8e4(0xfd)](exports,a341_0x3bc8e4(0x101),{'value':!![]}),exports[a341_0x3bc8e4(0xea)]=void 0x0;const form_data_1=__importDefault(require(a341_0x3bc8e4(0xec))),fs_1=require('fs'),veeva_constants_1=require(a341_0x3bc8e4(0xf4)),veeva_auth_utils_1=require('../utils/veeva-auth.utils'),veeva_error_1=require(a341_0x3bc8e4(0xed)),status_enums_1=require(a341_0x3bc8e4(0x10f));class VpkService{constructor({connection:_0x3594f9}){const _0x2982a4=a341_0x3bc8e4;this[_0x2982a4(0xee)]=_0x3594f9;}async[a341_0x3bc8e4(0xf3)](_0x671dc6,_0x5dfd82=0x1){const _0x247bcf=a341_0x3bc8e4;var _0x20a697;const _0x44fd55=new form_data_1['default']();_0x44fd55[_0x247bcf(0xfa)]('file',(0x0,fs_1[_0x247bcf(0x10c)])(_0x671dc6));const _0x4bc22b=await this['_connection'][_0x247bcf(0xe8)](veeva_constants_1[_0x247bcf(0xfb)]['ENDPOINT_EXPORT_IMPORT_PACKAGE'],_0x44fd55,{'responseType':'arraybuffer','headers':{'Content-Type':_0x247bcf(0x104)}}),_0x26bd94=(_0x20a697=_0x4bc22b['headers'][_0x247bcf(0x10a)])===null||_0x20a697===void 0x0?void 0x0:_0x20a697[_0x247bcf(0x110)]('application/json');if(!_0x26bd94)return _0x4bc22b[_0x247bcf(0x107)];else{const _0x5d5d43=JSON['parse'](_0x4bc22b[_0x247bcf(0x107)]);if(_0x5dfd82>0x0)return await(0x0,veeva_auth_utils_1[_0x247bcf(0x105)])(this[_0x247bcf(0xee)]),await this[_0x247bcf(0xf3)](_0x671dc6,_0x5dfd82-0x1);throw new veeva_error_1['VeevaError'](_0x5d5d43[_0x247bcf(0xfe)]);}}async[a341_0x3bc8e4(0x103)](_0x505d4a,_0x2ecd9a=0x1){const _0x12ad2a=a341_0x3bc8e4,_0x21c776=new form_data_1[(_0x12ad2a(0xf8))]();_0x21c776['append'](_0x12ad2a(0xe9),(0x0,fs_1[_0x12ad2a(0x10c)])(_0x505d4a));const _0x16f35a=await this[_0x12ad2a(0xee)][_0x12ad2a(0xe8)](veeva_constants_1[_0x12ad2a(0xfb)]['ENDPOINT_VALIDATE_VPK'],_0x21c776,{'headers':{'Content-Type':_0x12ad2a(0x104)}}),_0x50d05b=_0x16f35a[_0x12ad2a(0x107)];if(_0x50d05b[_0x12ad2a(0xff)]===status_enums_1[_0x12ad2a(0x100)][_0x12ad2a(0x102)])return _0x50d05b;else{if(_0x2ecd9a>0x0)return await(0x0,veeva_auth_utils_1[_0x12ad2a(0x105)])(this[_0x12ad2a(0xee)]),await this['validate'](_0x505d4a,_0x2ecd9a-0x1);throw new veeva_error_1[(_0x12ad2a(0xef))](_0x50d05b[_0x12ad2a(0xfe)]);}}}function a341_0x1bb0(_0x1df6ef,_0x55c12a){const _0x58c7c7=a341_0x5931();return a341_0x1bb0=function(_0x30e429,_0x14e401){_0x30e429=_0x30e429-0xe7;let _0x5931b8=_0x58c7c7[_0x30e429];return _0x5931b8;},a341_0x1bb0(_0x1df6ef,_0x55c12a);}exports[a341_0x3bc8e4(0xea)]=VpkService;