const a397_0x4df306=a397_0x7277;(function(_0x1fda4a,_0x27a0fd){const _0x40c833=a397_0x7277,_0xc4de55=_0x1fda4a();while(!![]){try{const _0x4c015d=-parseInt(_0x40c833(0x11c))/0x1*(parseInt(_0x40c833(0x12a))/0x2)+parseInt(_0x40c833(0x13b))/0x3+-parseInt(_0x40c833(0x12c))/0x4*(parseInt(_0x40c833(0x129))/0x5)+parseInt(_0x40c833(0x139))/0x6*(-parseInt(_0x40c833(0x134))/0x7)+parseInt(_0x40c833(0x122))/0x8*(-parseInt(_0x40c833(0x11a))/0x9)+parseInt(_0x40c833(0x13f))/0xa*(parseInt(_0x40c833(0x120))/0xb)+parseInt(_0x40c833(0x11e))/0xc;if(_0x4c015d===_0x27a0fd)break;else _0xc4de55['push'](_0xc4de55['shift']());}catch(_0x59d49a){_0xc4de55['push'](_0xc4de55['shift']());}}}(a397_0x4a34,0xdee0d));const a397_0x197568=(function(){let _0x4a7620=!![];return function(_0x5c6d3b,_0x9c5f71){const _0xb1935f=_0x4a7620?function(){if(_0x9c5f71){const _0x156c5f=_0x9c5f71['apply'](_0x5c6d3b,arguments);return _0x9c5f71=null,_0x156c5f;}}:function(){};return _0x4a7620=![],_0xb1935f;};}()),a397_0x173161=a397_0x197568(this,function(){const _0x29bda1=a397_0x7277;return a397_0x173161[_0x29bda1(0x11d)]()[_0x29bda1(0x130)](_0x29bda1(0x135))['toString']()[_0x29bda1(0x127)](a397_0x173161)['search'](_0x29bda1(0x135));});a397_0x173161();'use strict';function a397_0x7277(_0x4a3e6d,_0x4a6443){const _0x451beb=a397_0x4a34();return a397_0x7277=function(_0x173161,_0x197568){_0x173161=_0x173161-0x117;let _0x4a34d9=_0x451beb[_0x173161];return _0x4a34d9;},a397_0x7277(_0x4a3e6d,_0x4a6443);}var __importDefault=this&&this[a397_0x4df306(0x11f)]||function(_0x480a2e){const _0x1f45be=a397_0x4df306;return _0x480a2e&&_0x480a2e[_0x1f45be(0x142)]?_0x480a2e:{'default':_0x480a2e};};Object[a397_0x4df306(0x12f)](exports,a397_0x4df306(0x142),{'value':!![]}),exports[a397_0x4df306(0x126)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require('../constants/veeva.constants'),veeva_auth_utils_1=require(a397_0x4df306(0x132)),veeva_error_1=require(a397_0x4df306(0x13e)),status_enums_1=require('../enums/status.enums');class VpkService{constructor({connection:_0x55b249}){const _0x249514=a397_0x4df306;this[_0x249514(0x123)]=_0x55b249;}async[a397_0x4df306(0x117)](_0x43e36e,_0x2056e7=0x1){const _0x45ac5c=a397_0x4df306;var _0x27d90d;const _0x46174a=new form_data_1[(_0x45ac5c(0x12b))]();_0x46174a[_0x45ac5c(0x118)](_0x45ac5c(0x124),(0x0,fs_1[_0x45ac5c(0x141)])(_0x43e36e));const _0x581d38=await this[_0x45ac5c(0x123)][_0x45ac5c(0x140)](veeva_constants_1[_0x45ac5c(0x138)][_0x45ac5c(0x13c)],_0x46174a,{'responseType':_0x45ac5c(0x125),'headers':{'Content-Type':_0x45ac5c(0x13d)}}),_0x21ca76=(_0x27d90d=_0x581d38['headers']['content-type'])===null||_0x27d90d===void 0x0?void 0x0:_0x27d90d[_0x45ac5c(0x136)](_0x45ac5c(0x12e));if(!_0x21ca76)return _0x581d38[_0x45ac5c(0x121)];else{const _0x3c35db=JSON[_0x45ac5c(0x11b)](_0x581d38['data']);if(_0x2056e7>0x0)return await(0x0,veeva_auth_utils_1[_0x45ac5c(0x13a)])(this['_connection']),await this['generate'](_0x43e36e,_0x2056e7-0x1);throw new veeva_error_1[(_0x45ac5c(0x133))](_0x3c35db[_0x45ac5c(0x12d)]);}}async['validate'](_0x25e715,_0x3f04fe=0x1){const _0x3841a2=a397_0x4df306,_0x270ac1=new form_data_1[(_0x3841a2(0x12b))]();_0x270ac1[_0x3841a2(0x118)](_0x3841a2(0x124),(0x0,fs_1[_0x3841a2(0x141)])(_0x25e715));const _0x150632=await this[_0x3841a2(0x123)][_0x3841a2(0x140)](veeva_constants_1[_0x3841a2(0x138)][_0x3841a2(0x128)],_0x270ac1,{'headers':{'Content-Type':_0x3841a2(0x13d)}}),_0x82aa0a=_0x150632[_0x3841a2(0x121)];if(_0x82aa0a[_0x3841a2(0x131)]===status_enums_1[_0x3841a2(0x119)][_0x3841a2(0x137)])return _0x82aa0a;else{if(_0x3f04fe>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this['_connection']),await this['validate'](_0x25e715,_0x3f04fe-0x1);throw new veeva_error_1[(_0x3841a2(0x133))](_0x82aa0a['errors']);}}}exports[a397_0x4df306(0x126)]=VpkService;function a397_0x4a34(){const _0x342bee=['default','16yQXbVo','errors','application/json','defineProperty','search','responseStatus','../utils/veeva-auth.utils','VeevaError','7NhKgbj','(((.+)+)+)+$','includes','SUCCESS','VeevaConstants','974334PwbSeq','updateVeevaConnection','1656981AJkYsz','ENDPOINT_EXPORT_IMPORT_PACKAGE','multipart/form-data','../classes/errors/veeva-error','30pLvnZN','post','createReadStream','__esModule','generate','append','VeevaResponseStatus','723861nhynQq','parse','2114ySSGfI','toString','32295204IjIleW','__importDefault','2165031TFlRLl','data','136kNEkVY','_connection','file','arraybuffer','VpkService','constructor','ENDPOINT_VALIDATE_VPK','1678555WoBVtk','46lEzWFH'];a397_0x4a34=function(){return _0x342bee;};return a397_0x4a34();}