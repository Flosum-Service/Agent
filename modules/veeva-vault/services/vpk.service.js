const a365_0x3ee3b0=a365_0x39a1;(function(_0x568ca8,_0x41fbed){const _0x53bd34=a365_0x39a1,_0xba4d8a=_0x568ca8();while(!![]){try{const _0x1ad805=parseInt(_0x53bd34(0x1ef))/0x1+-parseInt(_0x53bd34(0x205))/0x2+-parseInt(_0x53bd34(0x1f7))/0x3+-parseInt(_0x53bd34(0x1f9))/0x4+-parseInt(_0x53bd34(0x1ff))/0x5+parseInt(_0x53bd34(0x1f8))/0x6*(-parseInt(_0x53bd34(0x1fc))/0x7)+parseInt(_0x53bd34(0x1e4))/0x8;if(_0x1ad805===_0x41fbed)break;else _0xba4d8a['push'](_0xba4d8a['shift']());}catch(_0x23ce02){_0xba4d8a['push'](_0xba4d8a['shift']());}}}(a365_0x973f,0xc52a2));const a365_0x8de84d=(function(){let _0x370cd5=!![];return function(_0x102e7b,_0xf64950){const _0x59b9e4=_0x370cd5?function(){const _0x50c56c=a365_0x39a1;if(_0xf64950){const _0x1a0f0c=_0xf64950[_0x50c56c(0x208)](_0x102e7b,arguments);return _0xf64950=null,_0x1a0f0c;}}:function(){};return _0x370cd5=![],_0x59b9e4;};}()),a365_0x626364=a365_0x8de84d(this,function(){const _0x331bc6=a365_0x39a1;return a365_0x626364[_0x331bc6(0x1e3)]()[_0x331bc6(0x200)](_0x331bc6(0x203))[_0x331bc6(0x1e3)]()[_0x331bc6(0x1e8)](a365_0x626364)[_0x331bc6(0x200)](_0x331bc6(0x203));});a365_0x626364();'use strict';function a365_0x39a1(_0x3c471e,_0xb682c3){const _0xcb29f9=a365_0x973f();return a365_0x39a1=function(_0x626364,_0x8de84d){_0x626364=_0x626364-0x1e2;let _0x973fd=_0xcb29f9[_0x626364];return _0x973fd;},a365_0x39a1(_0x3c471e,_0xb682c3);}var __importDefault=this&&this[a365_0x3ee3b0(0x1ee)]||function(_0xe0eae6){const _0x532658=a365_0x3ee3b0;return _0xe0eae6&&_0xe0eae6[_0x532658(0x1ea)]?_0xe0eae6:{'default':_0xe0eae6};};Object['defineProperty'](exports,a365_0x3ee3b0(0x1ea),{'value':!![]}),exports[a365_0x3ee3b0(0x1f3)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a365_0x3ee3b0(0x201)),veeva_auth_utils_1=require(a365_0x3ee3b0(0x1f6)),veeva_error_1=require('../classes/errors/veeva-error'),status_enums_1=require(a365_0x3ee3b0(0x1e6));class VpkService{constructor({connection:_0x590788}){const _0x323a9f=a365_0x3ee3b0;this[_0x323a9f(0x204)]=_0x590788;}async['generate'](_0x161143,_0x2fa01a=0x1){const _0x376a54=a365_0x3ee3b0;var _0x51ee9b;const _0x2cae52=new form_data_1[(_0x376a54(0x1fd))]();_0x2cae52[_0x376a54(0x1e9)](_0x376a54(0x1f1),(0x0,fs_1[_0x376a54(0x206)])(_0x161143));const _0x1f390e=await this[_0x376a54(0x204)][_0x376a54(0x1e2)](veeva_constants_1[_0x376a54(0x1fe)][_0x376a54(0x207)],_0x2cae52,{'responseType':_0x376a54(0x1ec),'headers':{'Content-Type':_0x376a54(0x1f4)}}),_0x136b4b=(_0x51ee9b=_0x1f390e[_0x376a54(0x1fa)]['content-type'])===null||_0x51ee9b===void 0x0?void 0x0:_0x51ee9b['includes']('application/json');if(!_0x136b4b)return _0x1f390e[_0x376a54(0x1eb)];else{const _0x14e8bf=JSON[_0x376a54(0x1f0)](_0x1f390e[_0x376a54(0x1eb)]);if(_0x2fa01a>0x0)return await(0x0,veeva_auth_utils_1[_0x376a54(0x202)])(this[_0x376a54(0x204)]),await this[_0x376a54(0x1e5)](_0x161143,_0x2fa01a-0x1);throw new veeva_error_1[(_0x376a54(0x1f5))](_0x14e8bf['errors']);}}async[a365_0x3ee3b0(0x1fb)](_0x3f31d5,_0x3fc236=0x1){const _0x33939a=a365_0x3ee3b0,_0x2405fa=new form_data_1[(_0x33939a(0x1fd))]();_0x2405fa['append'](_0x33939a(0x1f1),(0x0,fs_1['createReadStream'])(_0x3f31d5));const _0x4f866c=await this['_connection'][_0x33939a(0x1e2)](veeva_constants_1[_0x33939a(0x1fe)]['ENDPOINT_VALIDATE_VPK'],_0x2405fa,{'headers':{'Content-Type':_0x33939a(0x1f4)}}),_0x31eae5=_0x4f866c['data'];if(_0x31eae5['responseStatus']===status_enums_1[_0x33939a(0x1e7)][_0x33939a(0x1ed)])return _0x31eae5;else{if(_0x3fc236>0x0)return await(0x0,veeva_auth_utils_1[_0x33939a(0x202)])(this[_0x33939a(0x204)]),await this[_0x33939a(0x1fb)](_0x3f31d5,_0x3fc236-0x1);throw new veeva_error_1['VeevaError'](_0x31eae5[_0x33939a(0x1f2)]);}}}exports[a365_0x3ee3b0(0x1f3)]=VpkService;function a365_0x973f(){const _0x590d66=['constructor','append','__esModule','data','arraybuffer','SUCCESS','__importDefault','8366YfblsV','parse','file','errors','VpkService','multipart/form-data','VeevaError','../utils/veeva-auth.utils','2361303laFyqd','54Rzcsrw','6408828UwAJSR','headers','validate','1059667FeJlrI','default','VeevaConstants','2871590MAlgmg','search','../constants/veeva.constants','updateVeevaConnection','(((.+)+)+)+$','_connection','2501622QTwlXJ','createReadStream','ENDPOINT_EXPORT_IMPORT_PACKAGE','apply','post','toString','51008688hPDMgP','generate','../enums/status.enums','VeevaResponseStatus'];a365_0x973f=function(){return _0x590d66;};return a365_0x973f();}