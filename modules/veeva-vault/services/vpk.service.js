const a381_0x3ae35e=a381_0x14d7;(function(_0x1cc163,_0x507fd2){const _0x163bcf=a381_0x14d7,_0x3f4541=_0x1cc163();while(!![]){try{const _0x39d0d8=-parseInt(_0x163bcf(0x1a8))/0x1+parseInt(_0x163bcf(0x19b))/0x2*(parseInt(_0x163bcf(0x1ab))/0x3)+parseInt(_0x163bcf(0x1ad))/0x4+-parseInt(_0x163bcf(0x1bb))/0x5+parseInt(_0x163bcf(0x1b8))/0x6*(-parseInt(_0x163bcf(0x1b1))/0x7)+parseInt(_0x163bcf(0x1b4))/0x8+-parseInt(_0x163bcf(0x1ba))/0x9;if(_0x39d0d8===_0x507fd2)break;else _0x3f4541['push'](_0x3f4541['shift']());}catch(_0xdf405d){_0x3f4541['push'](_0x3f4541['shift']());}}}(a381_0x29e6,0xaf40a));function a381_0x29e6(){const _0x202bf5=['ENDPOINT_EXPORT_IMPORT_PACKAGE','3682929DaQdys','application/json','3754308JJjcEu','search','data','apply','3156111vptDMJ','_connection','constructor','10211448XoWBjS','generate','updateVeevaConnection','headers','6GDNTZh','createReadStream','12024135bGlvDC','4641805sfvFyj','VeevaConstants','../constants/veeva.constants','VpkService','append','toString','default','__esModule','../enums/status.enums','2QNRJkw','__importDefault','../utils/veeva-auth.utils','SUCCESS','../classes/errors/veeva-error','arraybuffer','responseStatus','ENDPOINT_VALIDATE_VPK','post','(((.+)+)+)+$','multipart/form-data','validate','file','9568fbzjTz','parse'];a381_0x29e6=function(){return _0x202bf5;};return a381_0x29e6();}function a381_0x14d7(_0x405d31,_0xbebc6d){const _0x38aa6b=a381_0x29e6();return a381_0x14d7=function(_0x2bf0b0,_0x162178){_0x2bf0b0=_0x2bf0b0-0x198;let _0x29e69e=_0x38aa6b[_0x2bf0b0];return _0x29e69e;},a381_0x14d7(_0x405d31,_0xbebc6d);}const a381_0x162178=(function(){let _0x108284=!![];return function(_0xa57dcd,_0x47b45d){const _0xd7ea6f=_0x108284?function(){const _0x4678b2=a381_0x14d7;if(_0x47b45d){const _0x577d78=_0x47b45d[_0x4678b2(0x1b0)](_0xa57dcd,arguments);return _0x47b45d=null,_0x577d78;}}:function(){};return _0x108284=![],_0xd7ea6f;};}()),a381_0x2bf0b0=a381_0x162178(this,function(){const _0x587152=a381_0x14d7;return a381_0x2bf0b0[_0x587152(0x1c0)]()['search'](_0x587152(0x1a4))['toString']()[_0x587152(0x1b3)](a381_0x2bf0b0)[_0x587152(0x1ae)](_0x587152(0x1a4));});a381_0x2bf0b0();'use strict';var __importDefault=this&&this[a381_0x3ae35e(0x19c)]||function(_0x40d74b){const _0x2a3cfa=a381_0x3ae35e;return _0x40d74b&&_0x40d74b[_0x2a3cfa(0x199)]?_0x40d74b:{'default':_0x40d74b};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a381_0x3ae35e(0x1be)]=void 0x0;const form_data_1=__importDefault(require('form-data')),fs_1=require('fs'),veeva_constants_1=require(a381_0x3ae35e(0x1bd)),veeva_auth_utils_1=require(a381_0x3ae35e(0x19d)),veeva_error_1=require(a381_0x3ae35e(0x19f)),status_enums_1=require(a381_0x3ae35e(0x19a));class VpkService{constructor({connection:_0x48b000}){const _0x541ce0=a381_0x3ae35e;this[_0x541ce0(0x1b2)]=_0x48b000;}async[a381_0x3ae35e(0x1b5)](_0x12e10a,_0xa202e2=0x1){const _0x4e2c30=a381_0x3ae35e;var _0x1830b5;const _0x3e5431=new form_data_1[(_0x4e2c30(0x198))]();_0x3e5431[_0x4e2c30(0x1bf)](_0x4e2c30(0x1a7),(0x0,fs_1[_0x4e2c30(0x1b9)])(_0x12e10a));const _0x467aa1=await this[_0x4e2c30(0x1b2)][_0x4e2c30(0x1a3)](veeva_constants_1['VeevaConstants'][_0x4e2c30(0x1aa)],_0x3e5431,{'responseType':_0x4e2c30(0x1a0),'headers':{'Content-Type':'multipart/form-data'}}),_0xcd666e=(_0x1830b5=_0x467aa1[_0x4e2c30(0x1b7)]['content-type'])===null||_0x1830b5===void 0x0?void 0x0:_0x1830b5['includes'](_0x4e2c30(0x1ac));if(!_0xcd666e)return _0x467aa1[_0x4e2c30(0x1af)];else{const _0x40ba4f=JSON[_0x4e2c30(0x1a9)](_0x467aa1[_0x4e2c30(0x1af)]);if(_0xa202e2>0x0)return await(0x0,veeva_auth_utils_1[_0x4e2c30(0x1b6)])(this['_connection']),await this[_0x4e2c30(0x1b5)](_0x12e10a,_0xa202e2-0x1);throw new veeva_error_1['VeevaError'](_0x40ba4f['errors']);}}async[a381_0x3ae35e(0x1a6)](_0x5a3c5e,_0x3d9e43=0x1){const _0x1d7455=a381_0x3ae35e,_0x232237=new form_data_1[(_0x1d7455(0x198))]();_0x232237[_0x1d7455(0x1bf)](_0x1d7455(0x1a7),(0x0,fs_1[_0x1d7455(0x1b9)])(_0x5a3c5e));const _0x184d0f=await this[_0x1d7455(0x1b2)][_0x1d7455(0x1a3)](veeva_constants_1[_0x1d7455(0x1bc)][_0x1d7455(0x1a2)],_0x232237,{'headers':{'Content-Type':_0x1d7455(0x1a5)}}),_0x5b3cb9=_0x184d0f['data'];if(_0x5b3cb9[_0x1d7455(0x1a1)]===status_enums_1['VeevaResponseStatus'][_0x1d7455(0x19e)])return _0x5b3cb9;else{if(_0x3d9e43>0x0)return await(0x0,veeva_auth_utils_1['updateVeevaConnection'])(this[_0x1d7455(0x1b2)]),await this['validate'](_0x5a3c5e,_0x3d9e43-0x1);throw new veeva_error_1['VeevaError'](_0x5b3cb9['errors']);}}}exports[a381_0x3ae35e(0x1be)]=VpkService;