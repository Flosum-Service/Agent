const a365_0x51fbc3=a365_0x3b92;function a365_0xf053(){const _0x188c5e=['response','baseURL','content-type','2348430FLfGQK','__esModule','createVeevaRequest','errors','(((.+)+)+)+$','maxContentLength','parse','responseType','config','21jLbCvC','responseStatus','8FCMYKO','1658331ygHUny','every','../enums/status.enums','1704456zbznwv','apply','accept','VeevaResponseStatus','__importDefault','search','axios-retry','interceptors','text','1329564PsuYTR','946052JfdqzU','6073962sukhKt','type','INVALID_SESSION_ID','headers','includes','startsWith','authorization','data','17330391efAtMR','default','toString','use','constructor','axios','VeevaRequestError','SUCCESS','arraybuffer','message','request','Content-Type','VeevaConstants','defineProperty','application/json'];a365_0xf053=function(){return _0x188c5e;};return a365_0xf053();}(function(_0x20de32,_0x57b4f5){const _0x25bebf=a365_0x3b92,_0x540a88=_0x20de32();while(!![]){try{const _0x348ee9=-parseInt(_0x25bebf(0x98))/0x1+-parseInt(_0x25bebf(0x97))/0x2+parseInt(_0x25bebf(0x8b))/0x3*(parseInt(_0x25bebf(0x8a))/0x4)+-parseInt(_0x25bebf(0x7f))/0x5+-parseInt(_0x25bebf(0x99))/0x6+parseInt(_0x25bebf(0x88))/0x7*(parseInt(_0x25bebf(0x8e))/0x8)+parseInt(_0x25bebf(0xa1))/0x9;if(_0x348ee9===_0x57b4f5)break;else _0x540a88['push'](_0x540a88['shift']());}catch(_0x567329){_0x540a88['push'](_0x540a88['shift']());}}}(a365_0xf053,0x8cfc5));const a365_0x443367=(function(){let _0x3b0575=!![];return function(_0x2c72e5,_0x2ee6db){const _0x339ee3=_0x3b0575?function(){const _0x3840e9=a365_0x3b92;if(_0x2ee6db){const _0x196d23=_0x2ee6db[_0x3840e9(0x8f)](_0x2c72e5,arguments);return _0x2ee6db=null,_0x196d23;}}:function(){};return _0x3b0575=![],_0x339ee3;};}()),a365_0x4f4729=a365_0x443367(this,function(){const _0x5d5fab=a365_0x3b92;return a365_0x4f4729[_0x5d5fab(0xa3)]()[_0x5d5fab(0x93)](_0x5d5fab(0x83))['toString']()[_0x5d5fab(0xa5)](a365_0x4f4729)[_0x5d5fab(0x93)](_0x5d5fab(0x83));});a365_0x4f4729();'use strict';var __importDefault=this&&this[a365_0x51fbc3(0x92)]||function(_0x2dc87e){const _0x5626cc=a365_0x51fbc3;return _0x2dc87e&&_0x2dc87e[_0x5626cc(0x80)]?_0x2dc87e:{'default':_0x2dc87e};};Object[a365_0x51fbc3(0xae)](exports,a365_0x51fbc3(0x80),{'value':!![]}),exports['createVeevaRequest']=void 0x0;const axios_1=__importDefault(require(a365_0x51fbc3(0xa6))),axios_retry_1=__importDefault(require(a365_0x51fbc3(0x94))),veeva_constants_1=require('../constants/veeva.constants'),status_enums_1=require(a365_0x51fbc3(0x8d)),veeva_request_error_1=require('../classes/errors/veeva-request-error'),DELAY=0x9c4,MAX_BODY_LENGTH=0x6400000,MAX_CONTENT_LENGTH=0x6400000,VALID_RESPONSE_TYPES_TO_PARSE=[a365_0x51fbc3(0xa9),a365_0x51fbc3(0x96)];function a365_0x3b92(_0x23e440,_0x141b13){const _0x25818f=a365_0xf053();return a365_0x3b92=function(_0x4f4729,_0x443367){_0x4f4729=_0x4f4729-0x7d;let _0xf05353=_0x25818f[_0x4f4729];return _0xf05353;},a365_0x3b92(_0x23e440,_0x141b13);}function createVeevaRequest(_0x12f600){const _0xfd43ef=a365_0x51fbc3,{auth:_0x2c1aa8}=_0x12f600,_0x4af479=axios_1[_0xfd43ef(0xa2)]['create']();return(0x0,axios_retry_1[_0xfd43ef(0xa2)])(_0x4af479,{'retries':0x3,'retryDelay'(_0x17c02e){return _0x17c02e*DELAY;}}),_0x4af479[_0xfd43ef(0x95)][_0xfd43ef(0xab)][_0xfd43ef(0xa4)](_0x1f6491=>{const _0x1d22f8=_0xfd43ef;var _0x31c956;return(_0x31c956=_0x1f6491['headers'])[_0x1d22f8(0x90)]||(_0x31c956[_0x1d22f8(0x90)]=_0x1d22f8(0xaf)),_0x1f6491[_0x1d22f8(0x9c)][_0x1d22f8(0x9f)]=''+_0x2c1aa8['accessToken'],_0x1f6491[_0x1d22f8(0x7d)]=_0x2c1aa8['instanceUrl'],_0x1f6491['maxBodyLength']=MAX_BODY_LENGTH,_0x1f6491[_0x1d22f8(0x84)]=MAX_CONTENT_LENGTH,_0x1f6491;}),_0x4af479[_0xfd43ef(0x95)]['response']['use'](async _0x1416b9=>{const _0x3aad63=_0xfd43ef;var _0x4ed457,_0x146eda;const _0x5cf8d2=(_0x4ed457=_0x1416b9['headers'][_0x3aad63(0x7e)])===null||_0x4ed457===void 0x0?void 0x0:_0x4ed457[_0x3aad63(0x9d)]('application/json');if(!_0x5cf8d2)return _0x1416b9;const _0x169b8e=VALID_RESPONSE_TYPES_TO_PARSE[_0x3aad63(0x9d)](_0x1416b9[_0x3aad63(0x87)][_0x3aad63(0x86)]),_0x1f65bc=_0x169b8e?JSON[_0x3aad63(0x85)](_0x1416b9[_0x3aad63(0xa0)]):_0x1416b9[_0x3aad63(0xa0)];if(_0x1f65bc[_0x3aad63(0x89)]===status_enums_1[_0x3aad63(0x91)][_0x3aad63(0xa8)])return _0x1416b9;const _0x389489=_0x1f65bc[_0x3aad63(0x82)][_0x3aad63(0x8c)](_0x360420=>_0x360420[_0x3aad63(0x9a)]!==veeva_constants_1[_0x3aad63(0xad)][_0x3aad63(0x9b)]),_0x37ff7c=(((_0x146eda=_0x1416b9['config']['headers'])===null||_0x146eda===void 0x0?void 0x0:_0x146eda[_0x3aad63(0xac)])+'')[_0x3aad63(0x9e)]('multipart/form-data');if(_0x389489||_0x37ff7c)return _0x1416b9;return await _0x12f600['updateAccessToken'](),_0x4af479(_0x1416b9[_0x3aad63(0x87)]);},async _0x5ea694=>{const _0x5b831c=_0xfd43ef;var _0x180196;const _0x491a01=((_0x180196=_0x5ea694===null||_0x5ea694===void 0x0?void 0x0:_0x5ea694[_0x5b831c(0xb0)])===null||_0x180196===void 0x0?void 0x0:_0x180196[_0x5b831c(0xa0)])||_0x5ea694[_0x5b831c(0xaa)]||veeva_constants_1[_0x5b831c(0xad)]['VEEVA_UNDEFINED_ERROR'];throw new veeva_request_error_1[(_0x5b831c(0xa7))](_0x491a01['errors']||_0x491a01);}),_0x4af479;}exports[a365_0x51fbc3(0x81)]=createVeevaRequest;