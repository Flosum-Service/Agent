const a401_0x30f9f1=a401_0x53dc;function a401_0x3d1a(){const _0x4bdff8=['__importDefault','arraybuffer','2086674ckWXUA','SUCCESS','(((.+)+)+)+$','responseType','3829300LzjTXb','every','use','parse','maxBodyLength','errors','multipart/form-data','accessToken','apply','VeevaConstants','axios','authorization','includes','1338320gefaNZ','1486963LogOSf','config','69696jVQqNN','../constants/veeva.constants','type','defineProperty','text','714DCbgZw','create','interceptors','toString','10326760FBjrCY','application/json','headers','instanceUrl','responseStatus','search','request','constructor','message','content-type','3873125tCFUVC','default','VeevaResponseStatus','response','VEEVA_UNDEFINED_ERROR','data','../enums/status.enums','VeevaRequestError'];a401_0x3d1a=function(){return _0x4bdff8;};return a401_0x3d1a();}(function(_0x330fdf,_0x304789){const _0x45c172=a401_0x53dc,_0x36ba09=_0x330fdf();while(!![]){try{const _0x45d4e5=-parseInt(_0x45c172(0x14b))/0x1+parseInt(_0x45c172(0x14a))/0x2+-parseInt(_0x45c172(0x16a))/0x3+-parseInt(_0x45c172(0x16e))/0x4+parseInt(_0x45c172(0x160))/0x5+-parseInt(_0x45c172(0x14d))/0x6*(-parseInt(_0x45c172(0x152))/0x7)+parseInt(_0x45c172(0x156))/0x8;if(_0x45d4e5===_0x304789)break;else _0x36ba09['push'](_0x36ba09['shift']());}catch(_0x1f7b68){_0x36ba09['push'](_0x36ba09['shift']());}}}(a401_0x3d1a,0xbe560));const a401_0x45219e=(function(){let _0x1af9dc=!![];return function(_0x161318,_0x100d22){const _0x210dc5=_0x1af9dc?function(){const _0x28b48b=a401_0x53dc;if(_0x100d22){const _0x21abb7=_0x100d22[_0x28b48b(0x145)](_0x161318,arguments);return _0x100d22=null,_0x21abb7;}}:function(){};return _0x1af9dc=![],_0x210dc5;};}()),a401_0x1da850=a401_0x45219e(this,function(){const _0x49ea6e=a401_0x53dc;return a401_0x1da850[_0x49ea6e(0x155)]()[_0x49ea6e(0x15b)](_0x49ea6e(0x16c))[_0x49ea6e(0x155)]()[_0x49ea6e(0x15d)](a401_0x1da850)['search']('(((.+)+)+)+$');});a401_0x1da850();'use strict';var __importDefault=this&&this[a401_0x30f9f1(0x168)]||function(_0x120341){return _0x120341&&_0x120341['__esModule']?_0x120341:{'default':_0x120341};};Object[a401_0x30f9f1(0x150)](exports,'__esModule',{'value':!![]}),exports['createVeevaRequest']=void 0x0;const axios_1=__importDefault(require(a401_0x30f9f1(0x147))),axios_retry_1=__importDefault(require('axios-retry')),veeva_constants_1=require(a401_0x30f9f1(0x14e)),status_enums_1=require(a401_0x30f9f1(0x166)),veeva_request_error_1=require('../classes/errors/veeva-request-error'),DELAY=0x9c4,MAX_BODY_LENGTH=0x6400000,MAX_CONTENT_LENGTH=0x6400000,VALID_RESPONSE_TYPES_TO_PARSE=[a401_0x30f9f1(0x169),a401_0x30f9f1(0x151)];function createVeevaRequest(_0x385941){const _0x1e267c=a401_0x30f9f1,{auth:_0x968a6a}=_0x385941,_0x235d92=axios_1[_0x1e267c(0x161)][_0x1e267c(0x153)]();return(0x0,axios_retry_1[_0x1e267c(0x161)])(_0x235d92,{'retries':0x3,'retryDelay'(_0x359e0d){return _0x359e0d*DELAY;}}),_0x235d92['interceptors'][_0x1e267c(0x15c)][_0x1e267c(0x13f)](_0x5b4b74=>{const _0x32f7bd=_0x1e267c;var _0x25e333;return(_0x25e333=_0x5b4b74['headers'])['accept']||(_0x25e333['accept']=_0x32f7bd(0x157)),_0x5b4b74[_0x32f7bd(0x158)][_0x32f7bd(0x148)]=''+_0x968a6a[_0x32f7bd(0x144)],_0x5b4b74['baseURL']=_0x968a6a[_0x32f7bd(0x159)],_0x5b4b74[_0x32f7bd(0x141)]=MAX_BODY_LENGTH,_0x5b4b74['maxContentLength']=MAX_CONTENT_LENGTH,_0x5b4b74;}),_0x235d92[_0x1e267c(0x154)]['response'][_0x1e267c(0x13f)](async _0x35a5fe=>{const _0x1f52cd=_0x1e267c;var _0x32315d,_0x3bd7f;const _0x162c6a=(_0x32315d=_0x35a5fe['headers'][_0x1f52cd(0x15f)])===null||_0x32315d===void 0x0?void 0x0:_0x32315d[_0x1f52cd(0x149)]('application/json');if(!_0x162c6a)return _0x35a5fe;const _0x33cce8=VALID_RESPONSE_TYPES_TO_PARSE[_0x1f52cd(0x149)](_0x35a5fe['config'][_0x1f52cd(0x16d)]),_0x2a6c17=_0x33cce8?JSON[_0x1f52cd(0x140)](_0x35a5fe[_0x1f52cd(0x165)]):_0x35a5fe['data'];if(_0x2a6c17[_0x1f52cd(0x15a)]===status_enums_1[_0x1f52cd(0x162)][_0x1f52cd(0x16b)])return _0x35a5fe;const _0x555454=_0x2a6c17['errors'][_0x1f52cd(0x16f)](_0x2ad1af=>_0x2ad1af[_0x1f52cd(0x14f)]!==veeva_constants_1[_0x1f52cd(0x146)]['INVALID_SESSION_ID']),_0x3b357d=(((_0x3bd7f=_0x35a5fe[_0x1f52cd(0x14c)][_0x1f52cd(0x158)])===null||_0x3bd7f===void 0x0?void 0x0:_0x3bd7f['Content-Type'])+'')['startsWith'](_0x1f52cd(0x143));if(_0x555454||_0x3b357d)return _0x35a5fe;return await _0x385941['updateAccessToken'](),_0x235d92(_0x35a5fe[_0x1f52cd(0x14c)]);},async _0x2730ae=>{const _0x2538e7=_0x1e267c;var _0x225ec4;const _0x81425d=((_0x225ec4=_0x2730ae===null||_0x2730ae===void 0x0?void 0x0:_0x2730ae[_0x2538e7(0x163)])===null||_0x225ec4===void 0x0?void 0x0:_0x225ec4[_0x2538e7(0x165)])||_0x2730ae[_0x2538e7(0x15e)]||veeva_constants_1['VeevaConstants'][_0x2538e7(0x164)];throw new veeva_request_error_1[(_0x2538e7(0x167))](_0x81425d[_0x2538e7(0x142)]||_0x81425d);}),_0x235d92;}function a401_0x53dc(_0x5c0f5b,_0x132561){const _0x2dea40=a401_0x3d1a();return a401_0x53dc=function(_0x1da850,_0x45219e){_0x1da850=_0x1da850-0x13f;let _0x3d1ab4=_0x2dea40[_0x1da850];return _0x3d1ab4;},a401_0x53dc(_0x5c0f5b,_0x132561);}exports['createVeevaRequest']=createVeevaRequest;