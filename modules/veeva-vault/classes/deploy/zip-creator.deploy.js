const a310_0x56184f=a310_0x58ba;(function(_0x23edff,_0x1707d3){const _0x3f1ffd=a310_0x58ba,_0x3861d2=_0x23edff();while(!![]){try{const _0xedd543=parseInt(_0x3f1ffd(0x117))/0x1*(parseInt(_0x3f1ffd(0x114))/0x2)+parseInt(_0x3f1ffd(0x122))/0x3+parseInt(_0x3f1ffd(0x115))/0x4+-parseInt(_0x3f1ffd(0x124))/0x5*(-parseInt(_0x3f1ffd(0x11a))/0x6)+parseInt(_0x3f1ffd(0x125))/0x7+-parseInt(_0x3f1ffd(0x113))/0x8*(parseInt(_0x3f1ffd(0x130))/0x9)+-parseInt(_0x3f1ffd(0x112))/0xa;if(_0xedd543===_0x1707d3)break;else _0x3861d2['push'](_0x3861d2['shift']());}catch(_0x3e2f57){_0x3861d2['push'](_0x3861d2['shift']());}}}(a310_0x12b3,0x85746));const a310_0x3e5ce9=(function(){let _0x5c7965=!![];return function(_0x28ad84,_0x53d73e){const _0x3c627b=_0x5c7965?function(){const _0x53dfc9=a310_0x58ba;if(_0x53d73e){const _0xeb07e5=_0x53d73e[_0x53dfc9(0x12b)](_0x28ad84,arguments);return _0x53d73e=null,_0xeb07e5;}}:function(){};return _0x5c7965=![],_0x3c627b;};}()),a310_0x12a3e1=a310_0x3e5ce9(this,function(){const _0x3fad92=a310_0x58ba;return a310_0x12a3e1[_0x3fad92(0x111)]()[_0x3fad92(0x116)](_0x3fad92(0x118))[_0x3fad92(0x111)]()[_0x3fad92(0x135)](a310_0x12a3e1)['search'](_0x3fad92(0x118));});a310_0x12a3e1();'use strict';function a310_0x12b3(){const _0x5d58a2=['1431lEKzMs','ZipCreatorDeploy','deploymentName','__esModule','fillFileByNames','constructor','set','nodebuffer','__importDefault','MDL_EXTENSION','Flosum','path','toString','20306680egSXpB','22520JzeIFg','293986iuNyGx','2635712jOqKsG','search','5SeQPKf','(((.+)+)+)+$','file','3570AqGkcp','mainZip','migration__v','jszip','SequenceCreatorDeploy','null','generateAsync','./sequence-creator.deploy','924180fzqMSS','string','9050GEzUOn','1721860WIOrzD','execute','parse','attachmentBodies','dependencyFileByName','mdlFileByName','apply','default','addVaultPackageFile','xml2js','VeevaConstants'];a310_0x12b3=function(){return _0x5d58a2;};return a310_0x12b3();}var __importDefault=this&&this[a310_0x56184f(0x10d)]||function(_0x1d8df0){const _0x2e4a12=a310_0x56184f;return _0x1d8df0&&_0x1d8df0[_0x2e4a12(0x133)]?_0x1d8df0:{'default':_0x1d8df0};};Object['defineProperty'](exports,a310_0x56184f(0x133),{'value':!![]}),exports[a310_0x56184f(0x131)]=void 0x0;function a310_0x58ba(_0x530817,_0x54438c){const _0x492a33=a310_0x12b3();return a310_0x58ba=function(_0x12a3e1,_0x3e5ce9){_0x12a3e1=_0x12a3e1-0x10c;let _0x12b362=_0x492a33[_0x12a3e1];return _0x12b362;},a310_0x58ba(_0x530817,_0x54438c);}const jszip_1=__importDefault(require(a310_0x56184f(0x11d))),sequence_creator_deploy_1=require(a310_0x56184f(0x121)),xml2js_1=require(a310_0x56184f(0x12e)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a310_0x56184f(0x110))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x288dd1,deploymentName:_0x23a623}){const _0x3c1a91=a310_0x56184f;this[_0x3c1a91(0x129)]=new Map(),this['mdlFileByName']=new Map(),this[_0x3c1a91(0x11b)]=new jszip_1[(_0x3c1a91(0x12c))](),this['attachmentBodies']=_0x288dd1,this[_0x3c1a91(0x132)]=_0x23a623;}async[a310_0x56184f(0x134)](){const _0x32f53b=a310_0x56184f;var _0x3ecd27;for(const _0x7d0acb of this[_0x32f53b(0x128)]){const _0x3d66a9=new jszip_1[(_0x32f53b(0x12c))]();await _0x3d66a9['loadAsync'](_0x7d0acb,{'base64':!![]});for(const _0x2dedc9 in _0x3d66a9['files']){const _0x126644=await((_0x3ecd27=_0x3d66a9[_0x32f53b(0x119)](_0x2dedc9))===null||_0x3ecd27===void 0x0?void 0x0:_0x3ecd27['async'](_0x32f53b(0x123)));if(!_0x126644)continue;const {name:_0x44fa4f,ext:_0x55209d}=path_1[_0x32f53b(0x12c)][_0x32f53b(0x127)](_0x2dedc9);switch(_0x55209d){case veeva_constants_1[_0x32f53b(0x12f)]['DEPENDENCY_EXTENSION']:this[_0x32f53b(0x129)][_0x32f53b(0x136)](_0x44fa4f,_0x126644);break;case veeva_constants_1[_0x32f53b(0x12f)][_0x32f53b(0x10e)]:this[_0x32f53b(0x12a)]['set'](_0x44fa4f,_0x126644);break;}}}}['addVaultPackageFile'](){const _0x2834a0=a310_0x56184f,_0x2f21b6=new xml2js_1['Builder']({'headless':!![]}),_0xa9071={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this[_0x2834a0(0x132)],'source':{'vault':undefined,'author':_0x2834a0(0x10f)},'packagetype':_0x2834a0(0x11c),'summary':'Deploy','description':_0x2834a0(0x11f)}};this[_0x2834a0(0x11b)][_0x2834a0(0x119)](VAULT_PACKAGE_FILENAME,_0x2f21b6['buildObject'](_0xa9071));}async[a310_0x56184f(0x126)](){const _0x1d0c96=a310_0x56184f;await this['fillFileByNames']();const _0x4a3c05=new sequence_creator_deploy_1[(_0x1d0c96(0x11e))]({'dependencyFileByName':this[_0x1d0c96(0x129)]})[_0x1d0c96(0x126)]();for(const _0x484f6f of _0x4a3c05){const _0x41c0a2=this['mdlFileByName']['get'](_0x484f6f);_0x41c0a2&&this['mainZip'][_0x1d0c96(0x119)](_0x484f6f+veeva_constants_1[_0x1d0c96(0x12f)][_0x1d0c96(0x10e)],_0x41c0a2);}return this[_0x1d0c96(0x12d)](),this[_0x1d0c96(0x11b)][_0x1d0c96(0x120)]({'type':_0x1d0c96(0x10c)});}}exports[a310_0x56184f(0x131)]=ZipCreatorDeploy;