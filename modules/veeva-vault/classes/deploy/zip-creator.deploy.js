const a342_0x3295b9=a342_0x28a8;(function(_0x259329,_0x2bdd63){const _0x3daccc=a342_0x28a8,_0x522097=_0x259329();while(!![]){try{const _0x48a7b6=parseInt(_0x3daccc(0x1db))/0x1+parseInt(_0x3daccc(0x1d3))/0x2+-parseInt(_0x3daccc(0x1d5))/0x3+-parseInt(_0x3daccc(0x1b5))/0x4*(parseInt(_0x3daccc(0x1ce))/0x5)+parseInt(_0x3daccc(0x1d8))/0x6+-parseInt(_0x3daccc(0x1b2))/0x7*(-parseInt(_0x3daccc(0x1bb))/0x8)+parseInt(_0x3daccc(0x1b3))/0x9*(parseInt(_0x3daccc(0x1b8))/0xa);if(_0x48a7b6===_0x2bdd63)break;else _0x522097['push'](_0x522097['shift']());}catch(_0x44002e){_0x522097['push'](_0x522097['shift']());}}}(a342_0x3797,0x9f4ab));const a342_0x42293a=(function(){let _0xc71f32=!![];return function(_0x1bbec0,_0x42cf4e){const _0x5bbe22=_0xc71f32?function(){const _0x4ac212=a342_0x28a8;if(_0x42cf4e){const _0x1721e1=_0x42cf4e[_0x4ac212(0x1c7)](_0x1bbec0,arguments);return _0x42cf4e=null,_0x1721e1;}}:function(){};return _0xc71f32=![],_0x5bbe22;};}()),a342_0x364ba7=a342_0x42293a(this,function(){const _0x3aa7cd=a342_0x28a8;return a342_0x364ba7[_0x3aa7cd(0x1d7)]()[_0x3aa7cd(0x1c8)]('(((.+)+)+)+$')['toString']()['constructor'](a342_0x364ba7)[_0x3aa7cd(0x1c8)](_0x3aa7cd(0x1c3));});a342_0x364ba7();function a342_0x3797(){const _0x465cfe=['mdlFileByName','migration__v','set','(((.+)+)+)+$','defineProperty','VeevaConstants','https://veevavault.com/','apply','search','xml2js','addVaultPackageFileToMainZip','generateAsync','parse','vaultpackage.xml','540905eJolUb','default','jszip','DEPENDENCY_EXTENSION','__esModule','509422mgnhKy','../../constants/veeva.constants','2528877ebhQFC','Flosum','toString','1380276VMxebN','buildObject','SequenceCreatorDeploy','323478RgJPwV','fillFileByNames','Builder','Deploy','files','./sequence-creator.deploy','loadAsync','addComponentsToMainZip','get','file','path','attachmentBodies','ZipCreatorDeploy','14FzNLbH','315vfhscp','keys','32XQjrVE','filter','async','160430zPeEmm','string','null','3964504fzYnPc','from','MDL_EXTENSION','mainZip','dependencyFileByName'];a342_0x3797=function(){return _0x465cfe;};return a342_0x3797();}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x539452){const _0x1656e8=a342_0x28a8;return _0x539452&&_0x539452[_0x1656e8(0x1d2)]?_0x539452:{'default':_0x539452};};Object[a342_0x3295b9(0x1c4)](exports,a342_0x3295b9(0x1d2),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;function a342_0x28a8(_0x530732,_0x19548f){const _0x161013=a342_0x3797();return a342_0x28a8=function(_0x364ba7,_0x42293a){_0x364ba7=_0x364ba7-0x1a6;let _0x379750=_0x161013[_0x364ba7];return _0x379750;},a342_0x28a8(_0x530732,_0x19548f);}const jszip_1=__importDefault(require(a342_0x3295b9(0x1d0))),sequence_creator_deploy_1=require(a342_0x3295b9(0x1aa)),xml2js_1=require(a342_0x3295b9(0x1c9)),veeva_constants_1=require(a342_0x3295b9(0x1d4)),path_1=__importDefault(require(a342_0x3295b9(0x1af))),VAULT_PACKAGE_FILENAME=a342_0x3295b9(0x1cd);class ZipCreatorDeploy{constructor({attachmentBodies:_0x3a303a,deploymentName:_0x3382fa}){const _0x58bd32=a342_0x3295b9;this['dependencyFileByName']=new Map(),this[_0x58bd32(0x1c0)]=new Map(),this[_0x58bd32(0x1be)]=new jszip_1[(_0x58bd32(0x1cf))](),this[_0x58bd32(0x1b0)]=_0x3a303a,this['deploymentName']=_0x3382fa;}async[a342_0x3295b9(0x1a6)](){const _0x477760=a342_0x3295b9;var _0x2a1b78;for(const _0x7fceeb of this[_0x477760(0x1b0)]){const _0x4fc21d=new jszip_1[(_0x477760(0x1cf))]();await _0x4fc21d[_0x477760(0x1ab)](_0x7fceeb,{'base64':!![]});for(const _0x310680 in _0x4fc21d[_0x477760(0x1a9)]){const _0x4f4e93=await((_0x2a1b78=_0x4fc21d['file'](_0x310680))===null||_0x2a1b78===void 0x0?void 0x0:_0x2a1b78[_0x477760(0x1b7)](_0x477760(0x1b9)));if(!_0x4f4e93)continue;const {name:_0x40d025,ext:_0x164228}=path_1[_0x477760(0x1cf)][_0x477760(0x1cc)](_0x310680);switch(_0x164228){case veeva_constants_1[_0x477760(0x1c5)][_0x477760(0x1d1)]:this[_0x477760(0x1bf)][_0x477760(0x1c2)](_0x40d025,_0x4f4e93);break;case veeva_constants_1[_0x477760(0x1c5)][_0x477760(0x1bd)]:this[_0x477760(0x1c0)]['set'](_0x40d025,_0x4f4e93);break;}}}}['addComponentsToMainZip'](_0x3fab2d){const _0x5e8207=a342_0x3295b9;for(const _0x4bee92 of _0x3fab2d){const _0x1ec723=this[_0x5e8207(0x1c0)][_0x5e8207(0x1ad)](_0x4bee92);_0x1ec723&&this[_0x5e8207(0x1be)][_0x5e8207(0x1ae)](_0x4bee92+veeva_constants_1[_0x5e8207(0x1c5)]['MDL_EXTENSION'],_0x1ec723);}}[a342_0x3295b9(0x1ca)](){const _0xae2a53=a342_0x3295b9,_0x1f3f92=new xml2js_1[(_0xae2a53(0x1a7))]({'headless':!![]}),_0x3a40da={'vaultpackage':{'$':{'xmlns':_0xae2a53(0x1c6)},'name':this['deploymentName'],'source':{'vault':undefined,'author':_0xae2a53(0x1d6)},'packagetype':_0xae2a53(0x1c1),'summary':_0xae2a53(0x1a8),'description':_0xae2a53(0x1ba)}};this[_0xae2a53(0x1be)]['file'](VAULT_PACKAGE_FILENAME,_0x1f3f92[_0xae2a53(0x1d9)](_0x3a40da));}async['execute'](){const _0xbad749=a342_0x3295b9;await this[_0xbad749(0x1a6)]();const _0x21a921=Array[_0xbad749(0x1bc)](this[_0xbad749(0x1c0)][_0xbad749(0x1b4)]())[_0xbad749(0x1b6)](_0x5dd9b2=>!this['dependencyFileByName']['has'](_0x5dd9b2)),_0x341c60=new sequence_creator_deploy_1[(_0xbad749(0x1da))]({'dependencyFileByName':this[_0xbad749(0x1bf)]})['execute']();return this[_0xbad749(0x1ac)](_0x21a921),this['addComponentsToMainZip'](_0x341c60),this['addVaultPackageFileToMainZip'](),this[_0xbad749(0x1be)][_0xbad749(0x1cb)]({'type':'nodebuffer'});}}exports[a342_0x3295b9(0x1b1)]=ZipCreatorDeploy;