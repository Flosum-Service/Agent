const a355_0x11eba1=a355_0x8e0f;(function(_0x8a1fad,_0x5417b4){const _0x4aa03f=a355_0x8e0f,_0x275aa1=_0x8a1fad();while(!![]){try{const _0x2912b4=parseInt(_0x4aa03f(0x192))/0x1+parseInt(_0x4aa03f(0x166))/0x2*(-parseInt(_0x4aa03f(0x188))/0x3)+-parseInt(_0x4aa03f(0x171))/0x4*(parseInt(_0x4aa03f(0x17f))/0x5)+-parseInt(_0x4aa03f(0x15e))/0x6*(parseInt(_0x4aa03f(0x182))/0x7)+parseInt(_0x4aa03f(0x18c))/0x8+parseInt(_0x4aa03f(0x15f))/0x9*(parseInt(_0x4aa03f(0x16c))/0xa)+-parseInt(_0x4aa03f(0x16b))/0xb*(-parseInt(_0x4aa03f(0x187))/0xc);if(_0x2912b4===_0x5417b4)break;else _0x275aa1['push'](_0x275aa1['shift']());}catch(_0xf2db1){_0x275aa1['push'](_0x275aa1['shift']());}}}(a355_0x224b,0x230ca));const a355_0xcb9804=(function(){let _0x5b490c=!![];return function(_0x574671,_0x9d5f29){const _0x5aa60a=_0x5b490c?function(){if(_0x9d5f29){const _0x135f46=_0x9d5f29['apply'](_0x574671,arguments);return _0x9d5f29=null,_0x135f46;}}:function(){};return _0x5b490c=![],_0x5aa60a;};}()),a355_0x1a4b2d=a355_0xcb9804(this,function(){const _0x56ee28=a355_0x8e0f;return a355_0x1a4b2d[_0x56ee28(0x190)]()[_0x56ee28(0x160)](_0x56ee28(0x189))[_0x56ee28(0x190)]()[_0x56ee28(0x17c)](a355_0x1a4b2d)[_0x56ee28(0x160)](_0x56ee28(0x189));});a355_0x1a4b2d();'use strict';var __importDefault=this&&this[a355_0x11eba1(0x18a)]||function(_0x442e3a){const _0x33bc95=a355_0x11eba1;return _0x442e3a&&_0x442e3a[_0x33bc95(0x17a)]?_0x442e3a:{'default':_0x442e3a};};Object[a355_0x11eba1(0x167)](exports,'__esModule',{'value':!![]}),exports[a355_0x11eba1(0x170)]=void 0x0;function a355_0x224b(){const _0x4720f0=['__esModule','mdlFileByName','constructor','set','VeevaConstants','1345885uoMrQx','loadAsync','migration__v','200809IHkAlg','from','Deploy','attachmentBodies','async','167916uwgMbZ','10716pCXIuK','(((.+)+)+)+$','__importDefault','addVaultPackageFileToMainZip','1434488UaHIss','path','parse','MDL_EXTENSION','toString','nodebuffer','52388nZjzFS','string','24vILCTH','542115mWepLb','search','fillFileByNames','deploymentName','has','Builder','xml2js','158TzZSWH','defineProperty','generateAsync','default','dependencyFileByName','407vwYjDa','10XyZVnE','get','../../constants/veeva.constants','SequenceCreatorDeploy','ZipCreatorDeploy','4hJRTfT','file','keys','addComponentsToMainZip','null','vaultpackage.xml','./sequence-creator.deploy','DEPENDENCY_EXTENSION','mainZip'];a355_0x224b=function(){return _0x4720f0;};return a355_0x224b();}const jszip_1=__importDefault(require('jszip')),sequence_creator_deploy_1=require(a355_0x11eba1(0x177)),xml2js_1=require(a355_0x11eba1(0x165)),veeva_constants_1=require(a355_0x11eba1(0x16e)),path_1=__importDefault(require(a355_0x11eba1(0x18d))),VAULT_PACKAGE_FILENAME=a355_0x11eba1(0x176);function a355_0x8e0f(_0xfdd202,_0x5af7b8){const _0x167ab4=a355_0x224b();return a355_0x8e0f=function(_0x1a4b2d,_0xcb9804){_0x1a4b2d=_0x1a4b2d-0x15d;let _0x224bf8=_0x167ab4[_0x1a4b2d];return _0x224bf8;},a355_0x8e0f(_0xfdd202,_0x5af7b8);}class ZipCreatorDeploy{constructor({attachmentBodies:_0x43d3a4,deploymentName:_0x12ca6e}){const _0x425f0b=a355_0x11eba1;this[_0x425f0b(0x16a)]=new Map(),this[_0x425f0b(0x17b)]=new Map(),this[_0x425f0b(0x179)]=new jszip_1['default'](),this[_0x425f0b(0x185)]=_0x43d3a4,this['deploymentName']=_0x12ca6e;}async[a355_0x11eba1(0x161)](){const _0x53f626=a355_0x11eba1;var _0x486dc2;for(const _0x1301de of this[_0x53f626(0x185)]){const _0x3be52d=new jszip_1[(_0x53f626(0x169))]();await _0x3be52d[_0x53f626(0x180)](_0x1301de,{'base64':!![]});for(const _0x3c8ab9 in _0x3be52d['files']){const _0x5d759b=await((_0x486dc2=_0x3be52d[_0x53f626(0x172)](_0x3c8ab9))===null||_0x486dc2===void 0x0?void 0x0:_0x486dc2[_0x53f626(0x186)](_0x53f626(0x15d)));if(!_0x5d759b)continue;const {name:_0x314ab0,ext:_0x35e006}=path_1[_0x53f626(0x169)][_0x53f626(0x18e)](_0x3c8ab9);switch(_0x35e006){case veeva_constants_1[_0x53f626(0x17e)][_0x53f626(0x178)]:this['dependencyFileByName'][_0x53f626(0x17d)](_0x314ab0,_0x5d759b);break;case veeva_constants_1[_0x53f626(0x17e)][_0x53f626(0x18f)]:this[_0x53f626(0x17b)][_0x53f626(0x17d)](_0x314ab0,_0x5d759b);break;}}}}[a355_0x11eba1(0x174)](_0x41f904){const _0x2e0459=a355_0x11eba1;for(const _0x12f33a of _0x41f904){const _0x1a8a14=this[_0x2e0459(0x17b)][_0x2e0459(0x16d)](_0x12f33a);_0x1a8a14&&this[_0x2e0459(0x179)]['file'](_0x12f33a+veeva_constants_1[_0x2e0459(0x17e)]['MDL_EXTENSION'],_0x1a8a14);}}[a355_0x11eba1(0x18b)](){const _0x196912=a355_0x11eba1,_0x26f644=new xml2js_1[(_0x196912(0x164))]({'headless':!![]}),_0x519b91={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this[_0x196912(0x162)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x196912(0x181),'summary':_0x196912(0x184),'description':_0x196912(0x175)}};this[_0x196912(0x179)][_0x196912(0x172)](VAULT_PACKAGE_FILENAME,_0x26f644['buildObject'](_0x519b91));}async['execute'](){const _0x51291d=a355_0x11eba1;await this[_0x51291d(0x161)]();const _0x1da0f3=Array[_0x51291d(0x183)](this[_0x51291d(0x17b)][_0x51291d(0x173)]())['filter'](_0x3721d9=>!this[_0x51291d(0x16a)][_0x51291d(0x163)](_0x3721d9)),_0x5bccaa=new sequence_creator_deploy_1[(_0x51291d(0x16f))]({'dependencyFileByName':this['dependencyFileByName']})['execute']();return this['addComponentsToMainZip'](_0x1da0f3),this['addComponentsToMainZip'](_0x5bccaa),this[_0x51291d(0x18b)](),this['mainZip'][_0x51291d(0x168)]({'type':_0x51291d(0x191)});}}exports[a355_0x11eba1(0x170)]=ZipCreatorDeploy;