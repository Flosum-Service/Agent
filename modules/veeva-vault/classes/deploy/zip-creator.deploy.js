const a310_0x154545=a310_0x3277;function a310_0x3277(_0x2b9529,_0x178e9d){const _0x2e3ad8=a310_0x340c();return a310_0x3277=function(_0x38ea0e,_0x6c1113){_0x38ea0e=_0x38ea0e-0x185;let _0x340c27=_0x2e3ad8[_0x38ea0e];return _0x340c27;},a310_0x3277(_0x2b9529,_0x178e9d);}(function(_0x2e636a,_0x52d1ee){const _0x5368c5=a310_0x3277,_0x5eae4f=_0x2e636a();while(!![]){try{const _0x1edc43=-parseInt(_0x5368c5(0x1ae))/0x1*(-parseInt(_0x5368c5(0x19f))/0x2)+-parseInt(_0x5368c5(0x1a5))/0x3+-parseInt(_0x5368c5(0x19d))/0x4*(-parseInt(_0x5368c5(0x1a6))/0x5)+parseInt(_0x5368c5(0x199))/0x6+parseInt(_0x5368c5(0x1b3))/0x7*(-parseInt(_0x5368c5(0x197))/0x8)+parseInt(_0x5368c5(0x196))/0x9*(parseInt(_0x5368c5(0x19a))/0xa)+-parseInt(_0x5368c5(0x195))/0xb*(parseInt(_0x5368c5(0x1a7))/0xc);if(_0x1edc43===_0x52d1ee)break;else _0x5eae4f['push'](_0x5eae4f['shift']());}catch(_0x4aa51a){_0x5eae4f['push'](_0x5eae4f['shift']());}}}(a310_0x340c,0xdd223));const a310_0x6c1113=(function(){let _0xc1957=!![];return function(_0x4f04a4,_0x5c3d2d){const _0x5b7dd0=_0xc1957?function(){const _0x3f6278=a310_0x3277;if(_0x5c3d2d){const _0x363e17=_0x5c3d2d[_0x3f6278(0x1a9)](_0x4f04a4,arguments);return _0x5c3d2d=null,_0x363e17;}}:function(){};return _0xc1957=![],_0x5b7dd0;};}()),a310_0x38ea0e=a310_0x6c1113(this,function(){const _0x39b893=a310_0x3277;return a310_0x38ea0e[_0x39b893(0x194)]()[_0x39b893(0x190)](_0x39b893(0x188))[_0x39b893(0x194)]()[_0x39b893(0x198)](a310_0x38ea0e)[_0x39b893(0x190)](_0x39b893(0x188));});a310_0x38ea0e();function a310_0x340c(){const _0x27f3a9=['__importDefault','ZipCreatorDeploy','1270352wpZVfo','parse','18478pJXSEj','path','attachmentBodies','buildObject','deploymentName','generateAsync','3048492qWATzw','25DVkaOd','10880628lMqziU','loadAsync','apply','fillFileByNames','migration__v','Builder','files','152ZbVJKH','null','MDL_EXTENSION','mdlFileByName','./sequence-creator.deploy','119WofUJM','vaultpackage.xml','set','VeevaConstants','(((.+)+)+)+$','__esModule','dependencyFileByName','file','get','mainZip','https://veevavault.com/','default','search','addVaultPackageFile','Deploy','Flosum','toString','11jekJYg','993861ghHWwW','494504xJFVhT','constructor','685176RGWixf','70otXQPu'];a310_0x340c=function(){return _0x27f3a9;};return a310_0x340c();}'use strict';var __importDefault=this&&this[a310_0x154545(0x19b)]||function(_0x25c8b8){return _0x25c8b8&&_0x25c8b8['__esModule']?_0x25c8b8:{'default':_0x25c8b8};};Object['defineProperty'](exports,a310_0x154545(0x189),{'value':!![]}),exports[a310_0x154545(0x19c)]=void 0x0;const jszip_1=__importDefault(require('jszip')),sequence_creator_deploy_1=require(a310_0x154545(0x1b2)),xml2js_1=require('xml2js'),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a310_0x154545(0x1a0))),VAULT_PACKAGE_FILENAME=a310_0x154545(0x185);class ZipCreatorDeploy{constructor({attachmentBodies:_0x516210,deploymentName:_0x328e79}){const _0x4a8c30=a310_0x154545;this[_0x4a8c30(0x18a)]=new Map(),this[_0x4a8c30(0x1b1)]=new Map(),this[_0x4a8c30(0x18d)]=new jszip_1[(_0x4a8c30(0x18f))](),this[_0x4a8c30(0x1a1)]=_0x516210,this[_0x4a8c30(0x1a3)]=_0x328e79;}async[a310_0x154545(0x1aa)](){const _0x1c0cf8=a310_0x154545;var _0x54e4c0;for(const _0x5a6c50 of this[_0x1c0cf8(0x1a1)]){const _0x11c59b=new jszip_1['default']();await _0x11c59b[_0x1c0cf8(0x1a8)](_0x5a6c50,{'base64':!![]});for(const _0x284633 in _0x11c59b[_0x1c0cf8(0x1ad)]){const _0x12a338=await((_0x54e4c0=_0x11c59b[_0x1c0cf8(0x18b)](_0x284633))===null||_0x54e4c0===void 0x0?void 0x0:_0x54e4c0['async']('string'));if(!_0x12a338)continue;const {name:_0x487a0f,ext:_0xa87466}=path_1[_0x1c0cf8(0x18f)][_0x1c0cf8(0x19e)](_0x284633);switch(_0xa87466){case veeva_constants_1['VeevaConstants']['DEPENDENCY_EXTENSION']:this['dependencyFileByName'][_0x1c0cf8(0x186)](_0x487a0f,_0x12a338);break;case veeva_constants_1[_0x1c0cf8(0x187)][_0x1c0cf8(0x1b0)]:this[_0x1c0cf8(0x1b1)][_0x1c0cf8(0x186)](_0x487a0f,_0x12a338);break;}}}}[a310_0x154545(0x191)](){const _0x3a72db=a310_0x154545,_0x96752c=new xml2js_1[(_0x3a72db(0x1ac))]({'headless':!![]}),_0x367f7e={'vaultpackage':{'$':{'xmlns':_0x3a72db(0x18e)},'name':this[_0x3a72db(0x1a3)],'source':{'vault':undefined,'author':_0x3a72db(0x193)},'packagetype':_0x3a72db(0x1ab),'summary':_0x3a72db(0x192),'description':_0x3a72db(0x1af)}};this[_0x3a72db(0x18d)]['file'](VAULT_PACKAGE_FILENAME,_0x96752c[_0x3a72db(0x1a2)](_0x367f7e));}async['execute'](){const _0x310bcf=a310_0x154545;await this[_0x310bcf(0x1aa)]();const _0x46e2da=new sequence_creator_deploy_1['SequenceCreatorDeploy']({'dependencyFileByName':this['dependencyFileByName']})['execute']();for(const _0x3181c1 of _0x46e2da){const _0x2c6637=this[_0x310bcf(0x1b1)][_0x310bcf(0x18c)](_0x3181c1);_0x2c6637&&this['mainZip'][_0x310bcf(0x18b)](_0x3181c1+veeva_constants_1[_0x310bcf(0x187)]['MDL_EXTENSION'],_0x2c6637);}return this['addVaultPackageFile'](),this[_0x310bcf(0x18d)][_0x310bcf(0x1a4)]({'type':'nodebuffer'});}}exports[a310_0x154545(0x19c)]=ZipCreatorDeploy;