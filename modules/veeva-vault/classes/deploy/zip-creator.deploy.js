function a343_0x2e85(_0x5e5924,_0x21336b){const _0x5d0d32=a343_0x23c8();return a343_0x2e85=function(_0x1665d7,_0x2f2bdd){_0x1665d7=_0x1665d7-0x108;let _0x23c88a=_0x5d0d32[_0x1665d7];return _0x23c88a;},a343_0x2e85(_0x5e5924,_0x21336b);}const a343_0x33e790=a343_0x2e85;function a343_0x23c8(){const _0x26a70b=['search','4720UgsbXJ','MDL_EXTENSION','__esModule','generateAsync','DEPENDENCY_EXTENSION','toString','null','38200elQgod','VeevaConstants','addVaultPackageFileToMainZip','ZipCreatorDeploy','(((.+)+)+)+$','706pJXxFL','set','string','from','loadAsync','dependencyFileByName','Flosum','path','deploymentName','Deploy','5770971vuFWDh','vaultpackage.xml','defineProperty','file','mainZip','keys','../../constants/veeva.constants','./sequence-creator.deploy','xml2js','https://veevavault.com/','has','4549VfmCku','4156320lPrlwK','get','nodebuffer','async','13776zHPgxM','execute','files','1607847iMgLMj','mdlFileByName','apply','default','parse','jszip','5258565iUVOmZ','addComponentsToMainZip'];a343_0x23c8=function(){return _0x26a70b;};return a343_0x23c8();}(function(_0x3c6ae9,_0x3b71fc){const _0x267e4b=a343_0x2e85,_0x5140a6=_0x3c6ae9();while(!![]){try{const _0x1f1762=parseInt(_0x267e4b(0x11d))/0x1*(parseInt(_0x267e4b(0x108))/0x2)+parseInt(_0x267e4b(0x125))/0x3+-parseInt(_0x267e4b(0x135))/0x4+-parseInt(_0x267e4b(0x12b))/0x5+-parseInt(_0x267e4b(0x11e))/0x6+parseInt(_0x267e4b(0x122))/0x7*(parseInt(_0x267e4b(0x12e))/0x8)+-parseInt(_0x267e4b(0x112))/0x9;if(_0x1f1762===_0x3b71fc)break;else _0x5140a6['push'](_0x5140a6['shift']());}catch(_0x17069d){_0x5140a6['push'](_0x5140a6['shift']());}}}(a343_0x23c8,0xdd990));const a343_0x2f2bdd=(function(){let _0x3e1b3e=!![];return function(_0x518759,_0x1e8e83){const _0x4d20cb=_0x3e1b3e?function(){const _0x2bad24=a343_0x2e85;if(_0x1e8e83){const _0x5120a5=_0x1e8e83[_0x2bad24(0x127)](_0x518759,arguments);return _0x1e8e83=null,_0x5120a5;}}:function(){};return _0x3e1b3e=![],_0x4d20cb;};}()),a343_0x1665d7=a343_0x2f2bdd(this,function(){const _0x175f7d=a343_0x2e85;return a343_0x1665d7[_0x175f7d(0x133)]()[_0x175f7d(0x12d)](_0x175f7d(0x139))[_0x175f7d(0x133)]()['constructor'](a343_0x1665d7)['search'](_0x175f7d(0x139));});a343_0x1665d7();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x23bcee){const _0x4f6bbf=a343_0x2e85;return _0x23bcee&&_0x23bcee[_0x4f6bbf(0x130)]?_0x23bcee:{'default':_0x23bcee};};Object[a343_0x33e790(0x114)](exports,a343_0x33e790(0x130),{'value':!![]}),exports[a343_0x33e790(0x138)]=void 0x0;const jszip_1=__importDefault(require(a343_0x33e790(0x12a))),sequence_creator_deploy_1=require(a343_0x33e790(0x119)),xml2js_1=require(a343_0x33e790(0x11a)),veeva_constants_1=require(a343_0x33e790(0x118)),path_1=__importDefault(require(a343_0x33e790(0x10f))),VAULT_PACKAGE_FILENAME=a343_0x33e790(0x113);class ZipCreatorDeploy{constructor({attachmentBodies:_0x22e0b6,deploymentName:_0x4ae294}){const _0xf44530=a343_0x33e790;this[_0xf44530(0x10d)]=new Map(),this['mdlFileByName']=new Map(),this[_0xf44530(0x116)]=new jszip_1[(_0xf44530(0x128))](),this['attachmentBodies']=_0x22e0b6,this['deploymentName']=_0x4ae294;}async['fillFileByNames'](){const _0x156bca=a343_0x33e790;var _0x38c222;for(const _0x386d8f of this['attachmentBodies']){const _0x3be080=new jszip_1[(_0x156bca(0x128))]();await _0x3be080[_0x156bca(0x10c)](_0x386d8f,{'base64':!![]});for(const _0x20b392 in _0x3be080[_0x156bca(0x124)]){const _0x53739e=await((_0x38c222=_0x3be080['file'](_0x20b392))===null||_0x38c222===void 0x0?void 0x0:_0x38c222[_0x156bca(0x121)](_0x156bca(0x10a)));if(!_0x53739e)continue;const {name:_0x298549,ext:_0x44689e}=path_1[_0x156bca(0x128)][_0x156bca(0x129)](_0x20b392);switch(_0x44689e){case veeva_constants_1['VeevaConstants'][_0x156bca(0x132)]:this['dependencyFileByName']['set'](_0x298549,_0x53739e);break;case veeva_constants_1[_0x156bca(0x136)][_0x156bca(0x12f)]:this[_0x156bca(0x126)][_0x156bca(0x109)](_0x298549,_0x53739e);break;}}}}[a343_0x33e790(0x12c)](_0x26594e){const _0x1b5c94=a343_0x33e790;for(const _0x341e50 of _0x26594e){const _0x571473=this[_0x1b5c94(0x126)][_0x1b5c94(0x11f)](_0x341e50);_0x571473&&this[_0x1b5c94(0x116)][_0x1b5c94(0x115)](_0x341e50+veeva_constants_1[_0x1b5c94(0x136)][_0x1b5c94(0x12f)],_0x571473);}}[a343_0x33e790(0x137)](){const _0x573881=a343_0x33e790,_0x2d0367=new xml2js_1['Builder']({'headless':!![]}),_0x479586={'vaultpackage':{'$':{'xmlns':_0x573881(0x11b)},'name':this[_0x573881(0x110)],'source':{'vault':undefined,'author':_0x573881(0x10e)},'packagetype':'migration__v','summary':_0x573881(0x111),'description':_0x573881(0x134)}};this[_0x573881(0x116)]['file'](VAULT_PACKAGE_FILENAME,_0x2d0367['buildObject'](_0x479586));}async['execute'](){const _0x1939a5=a343_0x33e790;await this['fillFileByNames']();const _0xb53db5=Array[_0x1939a5(0x10b)](this[_0x1939a5(0x126)][_0x1939a5(0x117)]())['filter'](_0x3630ab=>!this[_0x1939a5(0x10d)][_0x1939a5(0x11c)](_0x3630ab)),_0x4626c2=new sequence_creator_deploy_1['SequenceCreatorDeploy']({'dependencyFileByName':this[_0x1939a5(0x10d)]})[_0x1939a5(0x123)]();return this['addComponentsToMainZip'](_0xb53db5),this['addComponentsToMainZip'](_0x4626c2),this[_0x1939a5(0x137)](),this['mainZip'][_0x1939a5(0x131)]({'type':_0x1939a5(0x120)});}}exports[a343_0x33e790(0x138)]=ZipCreatorDeploy;