const a327_0x549666=a327_0x3498;(function(_0x3df559,_0x111bca){const _0x48e7ec=a327_0x3498,_0x4975a4=_0x3df559();while(!![]){try{const _0x2913dd=-parseInt(_0x48e7ec(0x185))/0x1+parseInt(_0x48e7ec(0x18d))/0x2+parseInt(_0x48e7ec(0x186))/0x3*(-parseInt(_0x48e7ec(0x179))/0x4)+parseInt(_0x48e7ec(0x180))/0x5*(parseInt(_0x48e7ec(0x18c))/0x6)+parseInt(_0x48e7ec(0x17c))/0x7+-parseInt(_0x48e7ec(0x1a4))/0x8+parseInt(_0x48e7ec(0x1a1))/0x9;if(_0x2913dd===_0x111bca)break;else _0x4975a4['push'](_0x4975a4['shift']());}catch(_0x5b7050){_0x4975a4['push'](_0x4975a4['shift']());}}}(a327_0x1cc5,0xc204a));function a327_0x3498(_0x2bb1a0,_0x2d93f0){const _0x5d6a45=a327_0x1cc5();return a327_0x3498=function(_0x33eb22,_0x62bef9){_0x33eb22=_0x33eb22-0x178;let _0x1cc5a0=_0x5d6a45[_0x33eb22];return _0x1cc5a0;},a327_0x3498(_0x2bb1a0,_0x2d93f0);}const a327_0x62bef9=(function(){let _0x1271e6=!![];return function(_0x2deb5c,_0x215484){const _0x3d6918=_0x1271e6?function(){const _0x218df5=a327_0x3498;if(_0x215484){const _0x11d122=_0x215484[_0x218df5(0x1a6)](_0x2deb5c,arguments);return _0x215484=null,_0x11d122;}}:function(){};return _0x1271e6=![],_0x3d6918;};}()),a327_0x33eb22=a327_0x62bef9(this,function(){const _0x2c2b60=a327_0x3498;return a327_0x33eb22['toString']()[_0x2c2b60(0x184)](_0x2c2b60(0x19b))[_0x2c2b60(0x195)]()[_0x2c2b60(0x191)](a327_0x33eb22)['search'](_0x2c2b60(0x19b));});a327_0x33eb22();'use strict';var __importDefault=this&&this[a327_0x549666(0x1a9)]||function(_0x1dc4f0){return _0x1dc4f0&&_0x1dc4f0['__esModule']?_0x1dc4f0:{'default':_0x1dc4f0};};Object[a327_0x549666(0x17b)](exports,a327_0x549666(0x18a),{'value':!![]}),exports[a327_0x549666(0x17d)]=void 0x0;const jszip_1=__importDefault(require('jszip')),sequence_creator_deploy_1=require(a327_0x549666(0x183)),xml2js_1=require(a327_0x549666(0x198)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a327_0x549666(0x193))),VAULT_PACKAGE_FILENAME=a327_0x549666(0x181);class ZipCreatorDeploy{constructor({attachmentBodies:_0x1146ac,deploymentName:_0x4fec89}){const _0x5d8c9f=a327_0x549666;this[_0x5d8c9f(0x18b)]=new Map(),this[_0x5d8c9f(0x187)]=new Map(),this[_0x5d8c9f(0x1a3)]=new jszip_1[(_0x5d8c9f(0x188))](),this[_0x5d8c9f(0x17f)]=_0x1146ac,this[_0x5d8c9f(0x19d)]=_0x4fec89;}async[a327_0x549666(0x182)](){const _0x44fbf7=a327_0x549666;var _0x4976e6;for(const _0x1904ed of this[_0x44fbf7(0x17f)]){const _0x417a96=new jszip_1['default']();await _0x417a96['loadAsync'](_0x1904ed,{'base64':!![]});for(const _0x180bca in _0x417a96['files']){const _0x3f2cd9=await((_0x4976e6=_0x417a96[_0x44fbf7(0x1a0)](_0x180bca))===null||_0x4976e6===void 0x0?void 0x0:_0x4976e6[_0x44fbf7(0x1aa)](_0x44fbf7(0x178)));if(!_0x3f2cd9)continue;const {name:_0x26491e,ext:_0x12cb2b}=path_1[_0x44fbf7(0x188)][_0x44fbf7(0x199)](_0x180bca);switch(_0x12cb2b){case veeva_constants_1[_0x44fbf7(0x19c)][_0x44fbf7(0x190)]:this[_0x44fbf7(0x18b)][_0x44fbf7(0x18e)](_0x26491e,_0x3f2cd9);break;case veeva_constants_1[_0x44fbf7(0x19c)][_0x44fbf7(0x18f)]:this[_0x44fbf7(0x187)][_0x44fbf7(0x18e)](_0x26491e,_0x3f2cd9);break;}}}}[a327_0x549666(0x1ab)](_0x24d400){const _0x3d859a=a327_0x549666;for(const _0x54e350 of _0x24d400){const _0x45390d=this['mdlFileByName'][_0x3d859a(0x189)](_0x54e350);_0x45390d&&this['mainZip'][_0x3d859a(0x1a0)](_0x54e350+veeva_constants_1[_0x3d859a(0x19c)]['MDL_EXTENSION'],_0x45390d);}}[a327_0x549666(0x17a)](){const _0x3fcea6=a327_0x549666,_0x43a1fd=new xml2js_1[(_0x3fcea6(0x19e))]({'headless':!![]}),_0x41db0c={'vaultpackage':{'$':{'xmlns':_0x3fcea6(0x1a5)},'name':this['deploymentName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x3fcea6(0x194),'summary':_0x3fcea6(0x197),'description':_0x3fcea6(0x192)}};this[_0x3fcea6(0x1a3)][_0x3fcea6(0x1a0)](VAULT_PACKAGE_FILENAME,_0x43a1fd['buildObject'](_0x41db0c));}async[a327_0x549666(0x196)](){const _0xa4c562=a327_0x549666;await this[_0xa4c562(0x182)]();const _0x3b9b05=Array[_0xa4c562(0x19a)](this['mdlFileByName'][_0xa4c562(0x17e)]())['filter'](_0x104c93=>!this[_0xa4c562(0x18b)][_0xa4c562(0x1a2)](_0x104c93)),_0x533759=new sequence_creator_deploy_1[(_0xa4c562(0x1a7))]({'dependencyFileByName':this[_0xa4c562(0x18b)]})['execute']();return this[_0xa4c562(0x1ab)](_0x3b9b05),this[_0xa4c562(0x1ab)](_0x533759),this[_0xa4c562(0x17a)](),this[_0xa4c562(0x1a3)][_0xa4c562(0x19f)]({'type':_0xa4c562(0x1a8)});}}function a327_0x1cc5(){const _0x47fd3e=['DEPENDENCY_EXTENSION','constructor','null','path','migration__v','toString','execute','Deploy','xml2js','parse','from','(((.+)+)+)+$','VeevaConstants','deploymentName','Builder','generateAsync','file','12562803Gzeoqg','has','mainZip','10103552XEpnwD','https://veevavault.com/','apply','SequenceCreatorDeploy','nodebuffer','__importDefault','async','addComponentsToMainZip','string','952hMgLfo','addVaultPackageFileToMainZip','defineProperty','700112NokjTD','ZipCreatorDeploy','keys','attachmentBodies','80RhzTwz','vaultpackage.xml','fillFileByNames','./sequence-creator.deploy','search','544883ewXwBH','8553PGnPcd','mdlFileByName','default','get','__esModule','dependencyFileByName','432834YIIbud','1261912DFdLaO','set','MDL_EXTENSION'];a327_0x1cc5=function(){return _0x47fd3e;};return a327_0x1cc5();}exports[a327_0x549666(0x17d)]=ZipCreatorDeploy;