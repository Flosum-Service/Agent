const a354_0xc9a8fc=a354_0x4ed7;function a354_0x4ed7(_0x5a85c7,_0x4cbfb5){const _0x24c5e6=a354_0x452c();return a354_0x4ed7=function(_0x1e3975,_0x46f77d){_0x1e3975=_0x1e3975-0x1a9;let _0x452cc3=_0x24c5e6[_0x1e3975];return _0x452cc3;},a354_0x4ed7(_0x5a85c7,_0x4cbfb5);}(function(_0x595b29,_0xe0f466){const _0x1406a5=a354_0x4ed7,_0x3b90ca=_0x595b29();while(!![]){try{const _0x19abf8=-parseInt(_0x1406a5(0x1bc))/0x1+parseInt(_0x1406a5(0x1de))/0x2+parseInt(_0x1406a5(0x1b4))/0x3*(-parseInt(_0x1406a5(0x1ac))/0x4)+-parseInt(_0x1406a5(0x1cd))/0x5+-parseInt(_0x1406a5(0x1be))/0x6*(parseInt(_0x1406a5(0x1c8))/0x7)+parseInt(_0x1406a5(0x1da))/0x8*(parseInt(_0x1406a5(0x1c2))/0x9)+parseInt(_0x1406a5(0x1c4))/0xa;if(_0x19abf8===_0xe0f466)break;else _0x3b90ca['push'](_0x3b90ca['shift']());}catch(_0x37c1b5){_0x3b90ca['push'](_0x3b90ca['shift']());}}}(a354_0x452c,0x188a2));const a354_0x46f77d=(function(){let _0x17040a=!![];return function(_0x583311,_0x14f1c7){const _0x33bed7=_0x17040a?function(){const _0x2b5229=a354_0x4ed7;if(_0x14f1c7){const _0x46b585=_0x14f1c7[_0x2b5229(0x1aa)](_0x583311,arguments);return _0x14f1c7=null,_0x46b585;}}:function(){};return _0x17040a=![],_0x33bed7;};}()),a354_0x1e3975=a354_0x46f77d(this,function(){const _0x5d5d00=a354_0x4ed7;return a354_0x1e3975[_0x5d5d00(0x1c1)]()[_0x5d5d00(0x1d7)](_0x5d5d00(0x1ad))[_0x5d5d00(0x1c1)]()[_0x5d5d00(0x1c0)](a354_0x1e3975)[_0x5d5d00(0x1d7)](_0x5d5d00(0x1ad));});a354_0x1e3975();'use strict';var __importDefault=this&&this[a354_0xc9a8fc(0x1af)]||function(_0x3c2738){const _0x3d6786=a354_0xc9a8fc;return _0x3c2738&&_0x3c2738[_0x3d6786(0x1dd)]?_0x3c2738:{'default':_0x3c2738};};Object[a354_0xc9a8fc(0x1ba)](exports,a354_0xc9a8fc(0x1dd),{'value':!![]}),exports[a354_0xc9a8fc(0x1bf)]=void 0x0;const jszip_1=__importDefault(require(a354_0xc9a8fc(0x1c7))),sequence_creator_deploy_1=require('./sequence-creator.deploy'),xml2js_1=require('xml2js'),veeva_constants_1=require(a354_0xc9a8fc(0x1c6)),path_1=__importDefault(require(a354_0xc9a8fc(0x1b1))),VAULT_PACKAGE_FILENAME=a354_0xc9a8fc(0x1ce);function a354_0x452c(){const _0x3a920e=['async','DEPENDENCY_EXTENSION','attachmentBodies','get','453425jpoZDn','vaultpackage.xml','string','deploymentName','file','nodebuffer','from','VeevaConstants','filter','loadAsync','search','migration__v','mdlFileByName','1160yJKNZA','SequenceCreatorDeploy','files','__esModule','62100EHksNo','MDL_EXTENSION','buildObject','mainZip','apply','addComponentsToMainZip','876hJpzen','(((.+)+)+)+$','https://veevavault.com/','__importDefault','keys','path','fillFileByNames','has','2286LsYAwm','generateAsync','dependencyFileByName','addVaultPackageFileToMainZip','default','Deploy','defineProperty','null','190408SjEmyj','set','786CKWThE','ZipCreatorDeploy','constructor','toString','2034FUqDcC','execute','5930020iLBaEU','parse','../../constants/veeva.constants','jszip','5789CnvaXS'];a354_0x452c=function(){return _0x3a920e;};return a354_0x452c();}class ZipCreatorDeploy{constructor({attachmentBodies:_0x2209d9,deploymentName:_0x243056}){const _0x218fe2=a354_0xc9a8fc;this['dependencyFileByName']=new Map(),this[_0x218fe2(0x1d9)]=new Map(),this[_0x218fe2(0x1a9)]=new jszip_1[(_0x218fe2(0x1b8))](),this[_0x218fe2(0x1cb)]=_0x2209d9,this[_0x218fe2(0x1d0)]=_0x243056;}async[a354_0xc9a8fc(0x1b2)](){const _0x4a0013=a354_0xc9a8fc;var _0x5e2b69;for(const _0x2023db of this['attachmentBodies']){const _0x27a79c=new jszip_1[(_0x4a0013(0x1b8))]();await _0x27a79c[_0x4a0013(0x1d6)](_0x2023db,{'base64':!![]});for(const _0x11c95a in _0x27a79c[_0x4a0013(0x1dc)]){const _0xaa2310=await((_0x5e2b69=_0x27a79c[_0x4a0013(0x1d1)](_0x11c95a))===null||_0x5e2b69===void 0x0?void 0x0:_0x5e2b69[_0x4a0013(0x1c9)](_0x4a0013(0x1cf)));if(!_0xaa2310)continue;const {name:_0x1cc9f9,ext:_0x2f8963}=path_1[_0x4a0013(0x1b8)][_0x4a0013(0x1c5)](_0x11c95a);switch(_0x2f8963){case veeva_constants_1[_0x4a0013(0x1d4)][_0x4a0013(0x1ca)]:this[_0x4a0013(0x1b6)][_0x4a0013(0x1bd)](_0x1cc9f9,_0xaa2310);break;case veeva_constants_1[_0x4a0013(0x1d4)][_0x4a0013(0x1df)]:this[_0x4a0013(0x1d9)][_0x4a0013(0x1bd)](_0x1cc9f9,_0xaa2310);break;}}}}['addComponentsToMainZip'](_0x48d15e){const _0x5950a4=a354_0xc9a8fc;for(const _0x2bb071 of _0x48d15e){const _0x52623e=this[_0x5950a4(0x1d9)][_0x5950a4(0x1cc)](_0x2bb071);_0x52623e&&this[_0x5950a4(0x1a9)]['file'](_0x2bb071+veeva_constants_1[_0x5950a4(0x1d4)][_0x5950a4(0x1df)],_0x52623e);}}[a354_0xc9a8fc(0x1b7)](){const _0x5b1f95=a354_0xc9a8fc,_0x3c0ba1=new xml2js_1['Builder']({'headless':!![]}),_0x4b4513={'vaultpackage':{'$':{'xmlns':_0x5b1f95(0x1ae)},'name':this[_0x5b1f95(0x1d0)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x5b1f95(0x1d8),'summary':_0x5b1f95(0x1b9),'description':_0x5b1f95(0x1bb)}};this['mainZip'][_0x5b1f95(0x1d1)](VAULT_PACKAGE_FILENAME,_0x3c0ba1[_0x5b1f95(0x1e0)](_0x4b4513));}async[a354_0xc9a8fc(0x1c3)](){const _0x4f3bb7=a354_0xc9a8fc;await this[_0x4f3bb7(0x1b2)]();const _0x38467d=Array[_0x4f3bb7(0x1d3)](this[_0x4f3bb7(0x1d9)][_0x4f3bb7(0x1b0)]())[_0x4f3bb7(0x1d5)](_0x22dd99=>!this['dependencyFileByName'][_0x4f3bb7(0x1b3)](_0x22dd99)),_0x5c1553=new sequence_creator_deploy_1[(_0x4f3bb7(0x1db))]({'dependencyFileByName':this[_0x4f3bb7(0x1b6)]})[_0x4f3bb7(0x1c3)]();return this[_0x4f3bb7(0x1ab)](_0x38467d),this[_0x4f3bb7(0x1ab)](_0x5c1553),this[_0x4f3bb7(0x1b7)](),this['mainZip'][_0x4f3bb7(0x1b5)]({'type':_0x4f3bb7(0x1d2)});}}exports[a354_0xc9a8fc(0x1bf)]=ZipCreatorDeploy;