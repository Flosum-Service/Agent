function a354_0x3c01(){const _0x11a44c=['444834imrXqj','91883QQmpYp','jszip','string','__esModule','dependencyFileByName','xml2js','null','execute','file','generateAsync','loadAsync','1OzBCjs','12PKXJhG','constructor','mdlFileByName','100tojfNw','(((.+)+)+)+$','fillFileByNames','1543668qUvDwf','has','buildObject','4419944KCACoz','addVaultPackageFileToMainZip','646392JcTPpY','../../constants/veeva.constants','parse','71388uwtvzn','defineProperty','VeevaConstants','mainZip','__importDefault','Deploy','10IdkMys','7ALhFMh','migration__v','apply','https://veevavault.com/','ZipCreatorDeploy','toString','set','nodebuffer','path','SequenceCreatorDeploy','keys','./sequence-creator.deploy','async','addComponentsToMainZip','337738vYSGWj','filter','MDL_EXTENSION','default','search'];a354_0x3c01=function(){return _0x11a44c;};return a354_0x3c01();}const a354_0x3d9bdf=a354_0x20d3;(function(_0x9749de,_0x52b53e){const _0x302e08=a354_0x20d3,_0x1f41d1=_0x9749de();while(!![]){try{const _0x52bd39=-parseInt(_0x302e08(0x99))/0x1*(parseInt(_0x302e08(0x88))/0x2)+parseInt(_0x302e08(0xa0))/0x3+-parseInt(_0x302e08(0xa8))/0x4*(parseInt(_0x302e08(0x9d))/0x5)+parseInt(_0x302e08(0xa5))/0x6+parseInt(_0x302e08(0x7a))/0x7*(parseInt(_0x302e08(0xa3))/0x8)+-parseInt(_0x302e08(0x8d))/0x9*(parseInt(_0x302e08(0x79))/0xa)+-parseInt(_0x302e08(0x8e))/0xb*(parseInt(_0x302e08(0x9a))/0xc);if(_0x52bd39===_0x52b53e)break;else _0x1f41d1['push'](_0x1f41d1['shift']());}catch(_0x5ee4e5){_0x1f41d1['push'](_0x1f41d1['shift']());}}}(a354_0x3c01,0x90559));function a354_0x20d3(_0x4953a9,_0x2c41cb){const _0xfa2f90=a354_0x3c01();return a354_0x20d3=function(_0x192a70,_0x3c7ff2){_0x192a70=_0x192a70-0x75;let _0x3c0147=_0xfa2f90[_0x192a70];return _0x3c0147;},a354_0x20d3(_0x4953a9,_0x2c41cb);}const a354_0x3c7ff2=(function(){let _0x4ece70=!![];return function(_0x59a368,_0x53de7c){const _0x5229a2=_0x4ece70?function(){const _0x277afd=a354_0x20d3;if(_0x53de7c){const _0x2bbc46=_0x53de7c[_0x277afd(0x7c)](_0x59a368,arguments);return _0x53de7c=null,_0x2bbc46;}}:function(){};return _0x4ece70=![],_0x5229a2;};}()),a354_0x192a70=a354_0x3c7ff2(this,function(){const _0x18a6f2=a354_0x20d3;return a354_0x192a70[_0x18a6f2(0x7f)]()[_0x18a6f2(0x8c)]('(((.+)+)+)+$')['toString']()[_0x18a6f2(0x9b)](a354_0x192a70)[_0x18a6f2(0x8c)](_0x18a6f2(0x9e));});a354_0x192a70();'use strict';var __importDefault=this&&this[a354_0x3d9bdf(0x77)]||function(_0x115985){const _0x256392=a354_0x3d9bdf;return _0x115985&&_0x115985[_0x256392(0x91)]?_0x115985:{'default':_0x115985};};Object[a354_0x3d9bdf(0xa9)](exports,a354_0x3d9bdf(0x91),{'value':!![]}),exports[a354_0x3d9bdf(0x7e)]=void 0x0;const jszip_1=__importDefault(require(a354_0x3d9bdf(0x8f))),sequence_creator_deploy_1=require(a354_0x3d9bdf(0x85)),xml2js_1=require(a354_0x3d9bdf(0x93)),veeva_constants_1=require(a354_0x3d9bdf(0xa6)),path_1=__importDefault(require(a354_0x3d9bdf(0x82))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x4070fe,deploymentName:_0x38943d}){const _0x1f3071=a354_0x3d9bdf;this[_0x1f3071(0x92)]=new Map(),this['mdlFileByName']=new Map(),this['mainZip']=new jszip_1['default'](),this['attachmentBodies']=_0x4070fe,this['deploymentName']=_0x38943d;}async[a354_0x3d9bdf(0x9f)](){const _0x43f387=a354_0x3d9bdf;var _0x24d1b8;for(const _0x24c56a of this['attachmentBodies']){const _0x4a0686=new jszip_1[(_0x43f387(0x8b))]();await _0x4a0686[_0x43f387(0x98)](_0x24c56a,{'base64':!![]});for(const _0x117059 in _0x4a0686['files']){const _0x2190ad=await((_0x24d1b8=_0x4a0686[_0x43f387(0x96)](_0x117059))===null||_0x24d1b8===void 0x0?void 0x0:_0x24d1b8[_0x43f387(0x86)](_0x43f387(0x90)));if(!_0x2190ad)continue;const {name:_0x3d4c48,ext:_0x5de7c2}=path_1[_0x43f387(0x8b)][_0x43f387(0xa7)](_0x117059);switch(_0x5de7c2){case veeva_constants_1[_0x43f387(0x75)]['DEPENDENCY_EXTENSION']:this[_0x43f387(0x92)]['set'](_0x3d4c48,_0x2190ad);break;case veeva_constants_1['VeevaConstants'][_0x43f387(0x8a)]:this[_0x43f387(0x9c)][_0x43f387(0x80)](_0x3d4c48,_0x2190ad);break;}}}}[a354_0x3d9bdf(0x87)](_0xa44be6){const _0x48c0f4=a354_0x3d9bdf;for(const _0x355827 of _0xa44be6){const _0x4cb55d=this[_0x48c0f4(0x9c)]['get'](_0x355827);_0x4cb55d&&this['mainZip'][_0x48c0f4(0x96)](_0x355827+veeva_constants_1[_0x48c0f4(0x75)]['MDL_EXTENSION'],_0x4cb55d);}}['addVaultPackageFileToMainZip'](){const _0x42da4e=a354_0x3d9bdf,_0x44bb67=new xml2js_1['Builder']({'headless':!![]}),_0x11d8d6={'vaultpackage':{'$':{'xmlns':_0x42da4e(0x7d)},'name':this['deploymentName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x42da4e(0x7b),'summary':_0x42da4e(0x78),'description':_0x42da4e(0x94)}};this[_0x42da4e(0x76)][_0x42da4e(0x96)](VAULT_PACKAGE_FILENAME,_0x44bb67[_0x42da4e(0xa2)](_0x11d8d6));}async[a354_0x3d9bdf(0x95)](){const _0x279afa=a354_0x3d9bdf;await this[_0x279afa(0x9f)]();const _0x118b0f=Array['from'](this[_0x279afa(0x9c)][_0x279afa(0x84)]())[_0x279afa(0x89)](_0x124f23=>!this[_0x279afa(0x92)][_0x279afa(0xa1)](_0x124f23)),_0x5ada74=new sequence_creator_deploy_1[(_0x279afa(0x83))]({'dependencyFileByName':this[_0x279afa(0x92)]})[_0x279afa(0x95)]();return this[_0x279afa(0x87)](_0x118b0f),this[_0x279afa(0x87)](_0x5ada74),this[_0x279afa(0xa4)](),this[_0x279afa(0x76)][_0x279afa(0x97)]({'type':_0x279afa(0x81)});}}exports[a354_0x3d9bdf(0x7e)]=ZipCreatorDeploy;