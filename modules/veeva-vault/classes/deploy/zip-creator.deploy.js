const a354_0x4e082b=a354_0x1170;(function(_0x23b736,_0x4a52eb){const _0x320820=a354_0x1170,_0x751fb5=_0x23b736();while(!![]){try{const _0x45ef56=parseInt(_0x320820(0x1b9))/0x1*(-parseInt(_0x320820(0x195))/0x2)+parseInt(_0x320820(0x18d))/0x3*(-parseInt(_0x320820(0x1a0))/0x4)+-parseInt(_0x320820(0x1b1))/0x5*(-parseInt(_0x320820(0x1b6))/0x6)+-parseInt(_0x320820(0x193))/0x7+parseInt(_0x320820(0x186))/0x8+parseInt(_0x320820(0x197))/0x9*(parseInt(_0x320820(0x189))/0xa)+-parseInt(_0x320820(0x18b))/0xb*(parseInt(_0x320820(0x1a4))/0xc);if(_0x45ef56===_0x4a52eb)break;else _0x751fb5['push'](_0x751fb5['shift']());}catch(_0x58f1a2){_0x751fb5['push'](_0x751fb5['shift']());}}}(a354_0x20e8,0x7479e));const a354_0x2cc817=(function(){let _0x271e9e=!![];return function(_0x58337b,_0x54b9dd){const _0x43e9a7=_0x271e9e?function(){const _0x43e8b5=a354_0x1170;if(_0x54b9dd){const _0x36ff74=_0x54b9dd[_0x43e8b5(0x18a)](_0x58337b,arguments);return _0x54b9dd=null,_0x36ff74;}}:function(){};return _0x271e9e=![],_0x43e9a7;};}()),a354_0x23e638=a354_0x2cc817(this,function(){const _0x559a42=a354_0x1170;return a354_0x23e638[_0x559a42(0x18e)]()[_0x559a42(0x1ad)](_0x559a42(0x1a6))['toString']()[_0x559a42(0x1b4)](a354_0x23e638)[_0x559a42(0x1ad)](_0x559a42(0x1a6));});a354_0x23e638();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x11d076){const _0x521cfc=a354_0x1170;return _0x11d076&&_0x11d076[_0x521cfc(0x187)]?_0x11d076:{'default':_0x11d076};};function a354_0x20e8(){const _0x234366=['96378YZwUVp','toString','addComponentsToMainZip','filter','https://veevavault.com/','Deploy','1287958fMWIvi','ZipCreatorDeploy','2ficEIF','VeevaConstants','8567820gYhXrW','null','set','deploymentName','addVaultPackageFileToMainZip','defineProperty','string','loadAsync','Builder','20rxKfJI','mainZip','migration__v','get','12kNxibN','path','(((.+)+)+)+$','dependencyFileByName','parse','async','attachmentBodies','execute','MDL_EXTENSION','search','generateAsync','file','default','225ISSRKz','fillFileByNames','nodebuffer','constructor','Flosum','50772rviBaG','files','jszip','835405wQWUuX','./sequence-creator.deploy','xml2js','vaultpackage.xml','5795456GXLfiY','__esModule','mdlFileByName','10BiMTqn','apply','4400957NbdOwt','buildObject'];a354_0x20e8=function(){return _0x234366;};return a354_0x20e8();}function a354_0x1170(_0x507a88,_0xc9ee7c){const _0x43b25f=a354_0x20e8();return a354_0x1170=function(_0x23e638,_0x2cc817){_0x23e638=_0x23e638-0x183;let _0x20e80c=_0x43b25f[_0x23e638];return _0x20e80c;},a354_0x1170(_0x507a88,_0xc9ee7c);}Object[a354_0x4e082b(0x19c)](exports,a354_0x4e082b(0x187),{'value':!![]}),exports[a354_0x4e082b(0x194)]=void 0x0;const jszip_1=__importDefault(require(a354_0x4e082b(0x1b8))),sequence_creator_deploy_1=require(a354_0x4e082b(0x183)),xml2js_1=require(a354_0x4e082b(0x184)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a354_0x4e082b(0x1a5))),VAULT_PACKAGE_FILENAME=a354_0x4e082b(0x185);class ZipCreatorDeploy{constructor({attachmentBodies:_0x32b5b2,deploymentName:_0x301247}){const _0x324fa5=a354_0x4e082b;this[_0x324fa5(0x1a7)]=new Map(),this[_0x324fa5(0x188)]=new Map(),this[_0x324fa5(0x1a1)]=new jszip_1[(_0x324fa5(0x1b0))](),this[_0x324fa5(0x1aa)]=_0x32b5b2,this[_0x324fa5(0x19a)]=_0x301247;}async['fillFileByNames'](){const _0x5ed53b=a354_0x4e082b;var _0x149706;for(const _0x162b1a of this[_0x5ed53b(0x1aa)]){const _0x11bcdf=new jszip_1[(_0x5ed53b(0x1b0))]();await _0x11bcdf[_0x5ed53b(0x19e)](_0x162b1a,{'base64':!![]});for(const _0x872b92 in _0x11bcdf[_0x5ed53b(0x1b7)]){const _0x7b31df=await((_0x149706=_0x11bcdf[_0x5ed53b(0x1af)](_0x872b92))===null||_0x149706===void 0x0?void 0x0:_0x149706[_0x5ed53b(0x1a9)](_0x5ed53b(0x19d)));if(!_0x7b31df)continue;const {name:_0x4128f1,ext:_0x10b3ab}=path_1[_0x5ed53b(0x1b0)][_0x5ed53b(0x1a8)](_0x872b92);switch(_0x10b3ab){case veeva_constants_1['VeevaConstants']['DEPENDENCY_EXTENSION']:this[_0x5ed53b(0x1a7)][_0x5ed53b(0x199)](_0x4128f1,_0x7b31df);break;case veeva_constants_1[_0x5ed53b(0x196)]['MDL_EXTENSION']:this['mdlFileByName'][_0x5ed53b(0x199)](_0x4128f1,_0x7b31df);break;}}}}[a354_0x4e082b(0x18f)](_0xab33e3){const _0x278038=a354_0x4e082b;for(const _0x3a200c of _0xab33e3){const _0x19f11a=this['mdlFileByName'][_0x278038(0x1a3)](_0x3a200c);_0x19f11a&&this[_0x278038(0x1a1)][_0x278038(0x1af)](_0x3a200c+veeva_constants_1[_0x278038(0x196)][_0x278038(0x1ac)],_0x19f11a);}}['addVaultPackageFileToMainZip'](){const _0x57824f=a354_0x4e082b,_0xa269ea=new xml2js_1[(_0x57824f(0x19f))]({'headless':!![]}),_0x1bf5ea={'vaultpackage':{'$':{'xmlns':_0x57824f(0x191)},'name':this[_0x57824f(0x19a)],'source':{'vault':undefined,'author':_0x57824f(0x1b5)},'packagetype':_0x57824f(0x1a2),'summary':_0x57824f(0x192),'description':_0x57824f(0x198)}};this['mainZip'][_0x57824f(0x1af)](VAULT_PACKAGE_FILENAME,_0xa269ea[_0x57824f(0x18c)](_0x1bf5ea));}async[a354_0x4e082b(0x1ab)](){const _0x385721=a354_0x4e082b;await this[_0x385721(0x1b2)]();const _0x4c8611=Array['from'](this['mdlFileByName']['keys']())[_0x385721(0x190)](_0xe1bf17=>!this[_0x385721(0x1a7)]['has'](_0xe1bf17)),_0xb48b43=new sequence_creator_deploy_1['SequenceCreatorDeploy']({'dependencyFileByName':this[_0x385721(0x1a7)]})[_0x385721(0x1ab)]();return this[_0x385721(0x18f)](_0x4c8611),this[_0x385721(0x18f)](_0xb48b43),this[_0x385721(0x19b)](),this['mainZip'][_0x385721(0x1ae)]({'type':_0x385721(0x1b3)});}}exports[a354_0x4e082b(0x194)]=ZipCreatorDeploy;