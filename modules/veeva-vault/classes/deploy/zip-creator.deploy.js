const a342_0x37a60f=a342_0x17d8;(function(_0x798489,_0x41c0b6){const _0x534bb6=a342_0x17d8,_0xa4b12b=_0x798489();while(!![]){try{const _0x32bada=parseInt(_0x534bb6(0x218))/0x1*(-parseInt(_0x534bb6(0x221))/0x2)+parseInt(_0x534bb6(0x217))/0x3+parseInt(_0x534bb6(0x211))/0x4+parseInt(_0x534bb6(0x1f9))/0x5*(parseInt(_0x534bb6(0x20c))/0x6)+parseInt(_0x534bb6(0x20d))/0x7+-parseInt(_0x534bb6(0x20e))/0x8+parseInt(_0x534bb6(0x200))/0x9*(parseInt(_0x534bb6(0x210))/0xa);if(_0x32bada===_0x41c0b6)break;else _0xa4b12b['push'](_0xa4b12b['shift']());}catch(_0x475a18){_0xa4b12b['push'](_0xa4b12b['shift']());}}}(a342_0x36c8,0xcbdd7));const a342_0x5a4fd6=(function(){let _0x781bae=!![];return function(_0x2d3a0b,_0x3abb41){const _0x5b7f7e=_0x781bae?function(){if(_0x3abb41){const _0x12c0b2=_0x3abb41['apply'](_0x2d3a0b,arguments);return _0x3abb41=null,_0x12c0b2;}}:function(){};return _0x781bae=![],_0x5b7f7e;};}()),a342_0x1032e1=a342_0x5a4fd6(this,function(){const _0xdecb46=a342_0x17d8;return a342_0x1032e1[_0xdecb46(0x1fb)]()['search']('(((.+)+)+)+$')[_0xdecb46(0x1fb)]()['constructor'](a342_0x1032e1)[_0xdecb46(0x222)]('(((.+)+)+)+$');});a342_0x1032e1();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5a89ed){const _0x4bd6a0=a342_0x17d8;return _0x5a89ed&&_0x5a89ed[_0x4bd6a0(0x1f8)]?_0x5a89ed:{'default':_0x5a89ed};};Object[a342_0x37a60f(0x21a)](exports,a342_0x37a60f(0x1f8),{'value':!![]}),exports[a342_0x37a60f(0x207)]=void 0x0;function a342_0x17d8(_0x44cb51,_0x26e6dd){const _0x29a970=a342_0x36c8();return a342_0x17d8=function(_0x1032e1,_0x5a4fd6){_0x1032e1=_0x1032e1-0x1f2;let _0x36c85b=_0x29a970[_0x1032e1];return _0x36c85b;},a342_0x17d8(_0x44cb51,_0x26e6dd);}const jszip_1=__importDefault(require(a342_0x37a60f(0x203))),sequence_creator_deploy_1=require(a342_0x37a60f(0x1fe)),xml2js_1=require(a342_0x37a60f(0x214)),veeva_constants_1=require(a342_0x37a60f(0x216)),path_1=__importDefault(require(a342_0x37a60f(0x20b))),VAULT_PACKAGE_FILENAME=a342_0x37a60f(0x208);class ZipCreatorDeploy{constructor({attachmentBodies:_0x2cf036,deploymentName:_0x118934}){const _0x5109dc=a342_0x37a60f;this[_0x5109dc(0x1f4)]=new Map(),this[_0x5109dc(0x201)]=new Map(),this['mainZip']=new jszip_1[(_0x5109dc(0x21e))](),this[_0x5109dc(0x215)]=_0x2cf036,this[_0x5109dc(0x212)]=_0x118934;}async[a342_0x37a60f(0x209)](){const _0xdaf512=a342_0x37a60f;var _0x967bb5;for(const _0x366a3a of this[_0xdaf512(0x215)]){const _0x9df5e7=new jszip_1['default']();await _0x9df5e7[_0xdaf512(0x206)](_0x366a3a,{'base64':!![]});for(const _0x417a02 in _0x9df5e7[_0xdaf512(0x220)]){const _0x333680=await((_0x967bb5=_0x9df5e7[_0xdaf512(0x213)](_0x417a02))===null||_0x967bb5===void 0x0?void 0x0:_0x967bb5[_0xdaf512(0x1fc)](_0xdaf512(0x20f)));if(!_0x333680)continue;const {name:_0x39d68a,ext:_0x276320}=path_1['default'][_0xdaf512(0x1f2)](_0x417a02);switch(_0x276320){case veeva_constants_1[_0xdaf512(0x21f)][_0xdaf512(0x202)]:this['dependencyFileByName'][_0xdaf512(0x21c)](_0x39d68a,_0x333680);break;case veeva_constants_1[_0xdaf512(0x21f)][_0xdaf512(0x219)]:this['mdlFileByName'][_0xdaf512(0x21c)](_0x39d68a,_0x333680);break;}}}}[a342_0x37a60f(0x1f6)](_0xe15d2a){const _0x29179d=a342_0x37a60f;for(const _0x36f783 of _0xe15d2a){const _0x41ba00=this['mdlFileByName']['get'](_0x36f783);_0x41ba00&&this[_0x29179d(0x205)][_0x29179d(0x213)](_0x36f783+veeva_constants_1[_0x29179d(0x21f)][_0x29179d(0x219)],_0x41ba00);}}[a342_0x37a60f(0x1f7)](){const _0x2ef469=a342_0x37a60f,_0x8e71bc=new xml2js_1['Builder']({'headless':!![]}),_0x55afe9={'vaultpackage':{'$':{'xmlns':_0x2ef469(0x1f3)},'name':this['deploymentName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x2ef469(0x1f5),'summary':_0x2ef469(0x1fa),'description':'null'}};this['mainZip'][_0x2ef469(0x213)](VAULT_PACKAGE_FILENAME,_0x8e71bc[_0x2ef469(0x204)](_0x55afe9));}async[a342_0x37a60f(0x21b)](){const _0xbcbfd5=a342_0x37a60f;await this[_0xbcbfd5(0x209)]();const _0x12b3a3=Array['from'](this['mdlFileByName']['keys']())[_0xbcbfd5(0x21d)](_0x39ea1d=>!this[_0xbcbfd5(0x1f4)][_0xbcbfd5(0x1fd)](_0x39ea1d)),_0x258b6b=new sequence_creator_deploy_1[(_0xbcbfd5(0x20a))]({'dependencyFileByName':this[_0xbcbfd5(0x1f4)]})[_0xbcbfd5(0x21b)]();return this['addComponentsToMainZip'](_0x12b3a3),this['addComponentsToMainZip'](_0x258b6b),this[_0xbcbfd5(0x1f7)](),this[_0xbcbfd5(0x205)][_0xbcbfd5(0x223)]({'type':_0xbcbfd5(0x1ff)});}}function a342_0x36c8(){const _0x13c249=['29990bhzHED','1058308BLVArT','deploymentName','file','xml2js','attachmentBodies','../../constants/veeva.constants','639303msEKUY','390jEKHhI','MDL_EXTENSION','defineProperty','execute','set','filter','default','VeevaConstants','files','5126FxJjAs','search','generateAsync','parse','https://veevavault.com/','dependencyFileByName','migration__v','addComponentsToMainZip','addVaultPackageFileToMainZip','__esModule','335TztMSo','Deploy','toString','async','has','./sequence-creator.deploy','nodebuffer','4437oDnCKX','mdlFileByName','DEPENDENCY_EXTENSION','jszip','buildObject','mainZip','loadAsync','ZipCreatorDeploy','vaultpackage.xml','fillFileByNames','SequenceCreatorDeploy','path','52998xcTgKS','2231404vgXhfQ','8257336lEAhKz','string'];a342_0x36c8=function(){return _0x13c249;};return a342_0x36c8();}exports['ZipCreatorDeploy']=ZipCreatorDeploy;