const a355_0x25649e=a355_0xa2f0;(function(_0x568a37,_0x3480eb){const _0x38b942=a355_0xa2f0,_0x3010da=_0x568a37();while(!![]){try{const _0x158202=-parseInt(_0x38b942(0xe8))/0x1*(parseInt(_0x38b942(0xcc))/0x2)+-parseInt(_0x38b942(0xd0))/0x3*(parseInt(_0x38b942(0xec))/0x4)+-parseInt(_0x38b942(0xd9))/0x5+parseInt(_0x38b942(0xdd))/0x6+parseInt(_0x38b942(0xcf))/0x7+-parseInt(_0x38b942(0xe7))/0x8+parseInt(_0x38b942(0xc1))/0x9;if(_0x158202===_0x3480eb)break;else _0x3010da['push'](_0x3010da['shift']());}catch(_0x240930){_0x3010da['push'](_0x3010da['shift']());}}}(a355_0x10f9,0x1b664));const a355_0x4214ab=(function(){let _0x21ecd4=!![];return function(_0x3081b6,_0x58b035){const _0x13dce7=_0x21ecd4?function(){const _0x23b1e3=a355_0xa2f0;if(_0x58b035){const _0x244679=_0x58b035[_0x23b1e3(0xe2)](_0x3081b6,arguments);return _0x58b035=null,_0x244679;}}:function(){};return _0x21ecd4=![],_0x13dce7;};}()),a355_0x3c4e97=a355_0x4214ab(this,function(){const _0x5d4765=a355_0xa2f0;return a355_0x3c4e97[_0x5d4765(0xe3)]()['search'](_0x5d4765(0xd8))[_0x5d4765(0xe3)]()[_0x5d4765(0xc9)](a355_0x3c4e97)[_0x5d4765(0xc7)](_0x5d4765(0xd8));});a355_0x3c4e97();'use strict';var __importDefault=this&&this[a355_0x25649e(0xd5)]||function(_0x111bee){const _0x45db31=a355_0x25649e;return _0x111bee&&_0x111bee[_0x45db31(0xb9)]?_0x111bee:{'default':_0x111bee};};function a355_0xa2f0(_0x22b5da,_0x2673d8){const _0x3e1ebe=a355_0x10f9();return a355_0xa2f0=function(_0x3c4e97,_0x4214ab){_0x3c4e97=_0x3c4e97-0xb6;let _0x10f9df=_0x3e1ebe[_0x3c4e97];return _0x10f9df;},a355_0xa2f0(_0x22b5da,_0x2673d8);}function a355_0x10f9(){const _0x56d47d=['../../constants/veeva.constants','file','search','from','constructor','DEPENDENCY_EXTENSION','buildObject','439098gjEHsg','null','ZipCreatorDeploy','501473oSaTfE','625521IKYmGs','dependencyFileByName','filter','Flosum','async','__importDefault','string','attachmentBodies','(((.+)+)+)+$','1048475yxQDdF','loadAsync','set','Deploy','887154XKZcsw','https://veevavault.com/','Builder','get','./sequence-creator.deploy','apply','toString','generateAsync','VeevaConstants','addVaultPackageFileToMainZip','1275576lLjFXz','1JzpRDY','parse','fillFileByNames','jszip','4XKMVQW','SequenceCreatorDeploy','mdlFileByName','nodebuffer','__esModule','keys','migration__v','files','deploymentName','addComponentsToMainZip','mainZip','MDL_EXTENSION','6209352jqyJzd','has','execute','default'];a355_0x10f9=function(){return _0x56d47d;};return a355_0x10f9();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a355_0x25649e(0xeb))),sequence_creator_deploy_1=require(a355_0x25649e(0xe1)),xml2js_1=require('xml2js'),veeva_constants_1=require(a355_0x25649e(0xc5)),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x19b45c,deploymentName:_0x1e99eb}){const _0x490e8c=a355_0x25649e;this['dependencyFileByName']=new Map(),this[_0x490e8c(0xb7)]=new Map(),this[_0x490e8c(0xbf)]=new jszip_1[(_0x490e8c(0xc4))](),this['attachmentBodies']=_0x19b45c,this[_0x490e8c(0xbd)]=_0x1e99eb;}async[a355_0x25649e(0xea)](){const _0x50e00d=a355_0x25649e;var _0x4d9502;for(const _0x233550 of this[_0x50e00d(0xd7)]){const _0x594116=new jszip_1[(_0x50e00d(0xc4))]();await _0x594116[_0x50e00d(0xda)](_0x233550,{'base64':!![]});for(const _0x22e68e in _0x594116[_0x50e00d(0xbc)]){const _0x1958fd=await((_0x4d9502=_0x594116[_0x50e00d(0xc6)](_0x22e68e))===null||_0x4d9502===void 0x0?void 0x0:_0x4d9502[_0x50e00d(0xd4)](_0x50e00d(0xd6)));if(!_0x1958fd)continue;const {name:_0x1e3976,ext:_0x499719}=path_1['default'][_0x50e00d(0xe9)](_0x22e68e);switch(_0x499719){case veeva_constants_1[_0x50e00d(0xe5)][_0x50e00d(0xca)]:this[_0x50e00d(0xd1)]['set'](_0x1e3976,_0x1958fd);break;case veeva_constants_1[_0x50e00d(0xe5)]['MDL_EXTENSION']:this[_0x50e00d(0xb7)][_0x50e00d(0xdb)](_0x1e3976,_0x1958fd);break;}}}}['addComponentsToMainZip'](_0x225894){const _0x4dd9c3=a355_0x25649e;for(const _0x16c50e of _0x225894){const _0x1c99fa=this[_0x4dd9c3(0xb7)][_0x4dd9c3(0xe0)](_0x16c50e);_0x1c99fa&&this[_0x4dd9c3(0xbf)][_0x4dd9c3(0xc6)](_0x16c50e+veeva_constants_1[_0x4dd9c3(0xe5)][_0x4dd9c3(0xc0)],_0x1c99fa);}}['addVaultPackageFileToMainZip'](){const _0x113c42=a355_0x25649e,_0x1a3cb5=new xml2js_1[(_0x113c42(0xdf))]({'headless':!![]}),_0x569506={'vaultpackage':{'$':{'xmlns':_0x113c42(0xde)},'name':this[_0x113c42(0xbd)],'source':{'vault':undefined,'author':_0x113c42(0xd3)},'packagetype':_0x113c42(0xbb),'summary':_0x113c42(0xdc),'description':_0x113c42(0xcd)}};this['mainZip'][_0x113c42(0xc6)](VAULT_PACKAGE_FILENAME,_0x1a3cb5[_0x113c42(0xcb)](_0x569506));}async[a355_0x25649e(0xc3)](){const _0x68bc8c=a355_0x25649e;await this[_0x68bc8c(0xea)]();const _0x391945=Array[_0x68bc8c(0xc8)](this[_0x68bc8c(0xb7)][_0x68bc8c(0xba)]())[_0x68bc8c(0xd2)](_0x5645d7=>!this[_0x68bc8c(0xd1)][_0x68bc8c(0xc2)](_0x5645d7)),_0x27e306=new sequence_creator_deploy_1[(_0x68bc8c(0xb6))]({'dependencyFileByName':this[_0x68bc8c(0xd1)]})[_0x68bc8c(0xc3)]();return this[_0x68bc8c(0xbe)](_0x391945),this[_0x68bc8c(0xbe)](_0x27e306),this[_0x68bc8c(0xe6)](),this[_0x68bc8c(0xbf)][_0x68bc8c(0xe4)]({'type':_0x68bc8c(0xb8)});}}exports[a355_0x25649e(0xce)]=ZipCreatorDeploy;