const a354_0x4b1b09=a354_0x7107;(function(_0x347ba3,_0x566b0b){const _0x232beb=a354_0x7107,_0x14e3ca=_0x347ba3();while(!![]){try{const _0xc8fec5=-parseInt(_0x232beb(0xa6))/0x1*(parseInt(_0x232beb(0xbe))/0x2)+parseInt(_0x232beb(0xbf))/0x3+parseInt(_0x232beb(0xc7))/0x4*(-parseInt(_0x232beb(0xc8))/0x5)+-parseInt(_0x232beb(0xb5))/0x6*(-parseInt(_0x232beb(0x9c))/0x7)+parseInt(_0x232beb(0xa1))/0x8+-parseInt(_0x232beb(0x9b))/0x9+-parseInt(_0x232beb(0xab))/0xa*(-parseInt(_0x232beb(0xa9))/0xb);if(_0xc8fec5===_0x566b0b)break;else _0x14e3ca['push'](_0x14e3ca['shift']());}catch(_0x24b897){_0x14e3ca['push'](_0x14e3ca['shift']());}}}(a354_0x4104,0x30544));const a354_0x397794=(function(){let _0x5d2efd=!![];return function(_0x590a00,_0x58a55f){const _0x468994=_0x5d2efd?function(){const _0x59ebcb=a354_0x7107;if(_0x58a55f){const _0x4708e3=_0x58a55f[_0x59ebcb(0xa8)](_0x590a00,arguments);return _0x58a55f=null,_0x4708e3;}}:function(){};return _0x5d2efd=![],_0x468994;};}()),a354_0xbe61e3=a354_0x397794(this,function(){const _0x3a3f64=a354_0x7107;return a354_0xbe61e3['toString']()[_0x3a3f64(0xba)](_0x3a3f64(0xad))[_0x3a3f64(0xaa)]()[_0x3a3f64(0xaf)](a354_0xbe61e3)['search'](_0x3a3f64(0xad));});a354_0xbe61e3();'use strict';var __importDefault=this&&this[a354_0x4b1b09(0xc5)]||function(_0x27c1e9){const _0x534ecd=a354_0x4b1b09;return _0x27c1e9&&_0x27c1e9[_0x534ecd(0xa2)]?_0x27c1e9:{'default':_0x27c1e9};};Object['defineProperty'](exports,a354_0x4b1b09(0xa2),{'value':!![]}),exports[a354_0x4b1b09(0xbc)]=void 0x0;const jszip_1=__importDefault(require(a354_0x4b1b09(0xa3))),sequence_creator_deploy_1=require(a354_0x4b1b09(0xb9)),xml2js_1=require(a354_0x4b1b09(0xac)),veeva_constants_1=require(a354_0x4b1b09(0xc9)),path_1=__importDefault(require(a354_0x4b1b09(0x95))),VAULT_PACKAGE_FILENAME=a354_0x4b1b09(0xc2);function a354_0x7107(_0x20e3b6,_0x315b75){const _0x570687=a354_0x4104();return a354_0x7107=function(_0xbe61e3,_0x397794){_0xbe61e3=_0xbe61e3-0x94;let _0x4104e3=_0x570687[_0xbe61e3];return _0x4104e3;},a354_0x7107(_0x20e3b6,_0x315b75);}function a354_0x4104(){const _0xf68d82=['16lQtqNl','243910DsvUUi','../../constants/veeva.constants','migration__v','file','path','SequenceCreatorDeploy','execute','has','fillFileByNames','deploymentName','3150567ucZYIi','119189OaXPRl','https://veevavault.com/','VeevaConstants','mdlFileByName','set','2705984wroyuz','__esModule','jszip','default','Deploy','1vSJzUq','filter','apply','11uTMjyR','toString','1181770XsDtdd','xml2js','(((.+)+)+)+$','mainZip','constructor','buildObject','string','addVaultPackageFileToMainZip','addComponentsToMainZip','get','24CoCYBm','MDL_EXTENSION','attachmentBodies','from','./sequence-creator.deploy','search','dependencyFileByName','ZipCreatorDeploy','DEPENDENCY_EXTENSION','155770zuXOEE','889497kwlBqp','nodebuffer','Builder','vaultpackage.xml','Flosum','files','__importDefault','async'];a354_0x4104=function(){return _0xf68d82;};return a354_0x4104();}class ZipCreatorDeploy{constructor({attachmentBodies:_0x2f030b,deploymentName:_0x4da64f}){const _0x59f7d5=a354_0x4b1b09;this[_0x59f7d5(0xbb)]=new Map(),this[_0x59f7d5(0x9f)]=new Map(),this[_0x59f7d5(0xae)]=new jszip_1['default'](),this[_0x59f7d5(0xb7)]=_0x2f030b,this['deploymentName']=_0x4da64f;}async[a354_0x4b1b09(0x99)](){const _0x1f6234=a354_0x4b1b09;var _0x2b976f;for(const _0x7fac8d of this[_0x1f6234(0xb7)]){const _0x2be7a9=new jszip_1[(_0x1f6234(0xa4))]();await _0x2be7a9['loadAsync'](_0x7fac8d,{'base64':!![]});for(const _0x4aa7f7 in _0x2be7a9[_0x1f6234(0xc4)]){const _0x18a21e=await((_0x2b976f=_0x2be7a9[_0x1f6234(0x94)](_0x4aa7f7))===null||_0x2b976f===void 0x0?void 0x0:_0x2b976f[_0x1f6234(0xc6)](_0x1f6234(0xb1)));if(!_0x18a21e)continue;const {name:_0x588688,ext:_0xb91fe7}=path_1[_0x1f6234(0xa4)]['parse'](_0x4aa7f7);switch(_0xb91fe7){case veeva_constants_1['VeevaConstants'][_0x1f6234(0xbd)]:this[_0x1f6234(0xbb)][_0x1f6234(0xa0)](_0x588688,_0x18a21e);break;case veeva_constants_1[_0x1f6234(0x9e)]['MDL_EXTENSION']:this[_0x1f6234(0x9f)][_0x1f6234(0xa0)](_0x588688,_0x18a21e);break;}}}}[a354_0x4b1b09(0xb3)](_0x2636e7){const _0x4180c3=a354_0x4b1b09;for(const _0x507d99 of _0x2636e7){const _0x24012c=this['mdlFileByName'][_0x4180c3(0xb4)](_0x507d99);_0x24012c&&this[_0x4180c3(0xae)][_0x4180c3(0x94)](_0x507d99+veeva_constants_1[_0x4180c3(0x9e)][_0x4180c3(0xb6)],_0x24012c);}}[a354_0x4b1b09(0xb2)](){const _0x3dfdf8=a354_0x4b1b09,_0x57e0a7=new xml2js_1[(_0x3dfdf8(0xc1))]({'headless':!![]}),_0x3ed745={'vaultpackage':{'$':{'xmlns':_0x3dfdf8(0x9d)},'name':this[_0x3dfdf8(0x9a)],'source':{'vault':undefined,'author':_0x3dfdf8(0xc3)},'packagetype':_0x3dfdf8(0xca),'summary':_0x3dfdf8(0xa5),'description':'null'}};this[_0x3dfdf8(0xae)][_0x3dfdf8(0x94)](VAULT_PACKAGE_FILENAME,_0x57e0a7[_0x3dfdf8(0xb0)](_0x3ed745));}async[a354_0x4b1b09(0x97)](){const _0x862ea8=a354_0x4b1b09;await this[_0x862ea8(0x99)]();const _0x16cd05=Array[_0x862ea8(0xb8)](this[_0x862ea8(0x9f)]['keys']())[_0x862ea8(0xa7)](_0x538476=>!this[_0x862ea8(0xbb)][_0x862ea8(0x98)](_0x538476)),_0x21dcb4=new sequence_creator_deploy_1[(_0x862ea8(0x96))]({'dependencyFileByName':this['dependencyFileByName']})['execute']();return this[_0x862ea8(0xb3)](_0x16cd05),this['addComponentsToMainZip'](_0x21dcb4),this[_0x862ea8(0xb2)](),this['mainZip']['generateAsync']({'type':_0x862ea8(0xc0)});}}exports['ZipCreatorDeploy']=ZipCreatorDeploy;