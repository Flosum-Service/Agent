function a311_0x4e1f(_0x24bf38,_0xdad7c9){const _0xd7bb47=a311_0x2171();return a311_0x4e1f=function(_0x506418,_0x101425){_0x506418=_0x506418-0x1cd;let _0x21711=_0xd7bb47[_0x506418];return _0x21711;},a311_0x4e1f(_0x24bf38,_0xdad7c9);}const a311_0x4c1e80=a311_0x4e1f;(function(_0xcafe4,_0x1d22a9){const _0x4e332c=a311_0x4e1f,_0x3f4674=_0xcafe4();while(!![]){try{const _0x731b82=-parseInt(_0x4e332c(0x1e4))/0x1+parseInt(_0x4e332c(0x1cf))/0x2*(parseInt(_0x4e332c(0x1f0))/0x3)+-parseInt(_0x4e332c(0x1f4))/0x4+parseInt(_0x4e332c(0x1fe))/0x5+-parseInt(_0x4e332c(0x1d7))/0x6+-parseInt(_0x4e332c(0x1f9))/0x7*(parseInt(_0x4e332c(0x201))/0x8)+parseInt(_0x4e332c(0x1df))/0x9*(parseInt(_0x4e332c(0x1ea))/0xa);if(_0x731b82===_0x1d22a9)break;else _0x3f4674['push'](_0x3f4674['shift']());}catch(_0x4b3ea0){_0x3f4674['push'](_0x3f4674['shift']());}}}(a311_0x2171,0x68f4b));const a311_0x101425=(function(){let _0x4d5c52=!![];return function(_0x4cc0ff,_0x4f406c){const _0x5e4736=_0x4d5c52?function(){const _0x58974a=a311_0x4e1f;if(_0x4f406c){const _0x880fdd=_0x4f406c[_0x58974a(0x1f6)](_0x4cc0ff,arguments);return _0x4f406c=null,_0x880fdd;}}:function(){};return _0x4d5c52=![],_0x5e4736;};}()),a311_0x506418=a311_0x101425(this,function(){const _0x24124a=a311_0x4e1f;return a311_0x506418[_0x24124a(0x1fd)]()['search'](_0x24124a(0x1e7))['toString']()[_0x24124a(0x1eb)](a311_0x506418)['search'](_0x24124a(0x1e7));});a311_0x506418();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x455bd7){return _0x455bd7&&_0x455bd7['__esModule']?_0x455bd7:{'default':_0x455bd7};};function a311_0x2171(){const _0x4625a3=['766794vCthcj','./sequence-creator.deploy','VeevaConstants','__esModule','https://veevavault.com/','null','parse','keys','338418QalZpD','SequenceCreatorDeploy','dependencyFileByName','addComponentsToMainZip','mdlFileByName','53043SHAuwf','string','MDL_EXTENSION','(((.+)+)+)+$','set','ZipCreatorDeploy','20oPcJYR','constructor','attachmentBodies','get','fillFileByNames','mainZip','33joMNbz','addVaultPackageFileToMainZip','nodebuffer','migration__v','1925816UMawJK','Builder','apply','from','filter','7nUbvkQ','async','Flosum','buildObject','toString','3275335kDiBdS','../../constants/veeva.constants','generateAsync','2413384RuYfFS','jszip','file','120654YuoncS','Deploy','files','deploymentName','path','default','vaultpackage.xml','execute'];a311_0x2171=function(){return _0x4625a3;};return a311_0x2171();}Object['defineProperty'](exports,a311_0x4c1e80(0x1da),{'value':!![]}),exports[a311_0x4c1e80(0x1e9)]=void 0x0;const jszip_1=__importDefault(require(a311_0x4c1e80(0x1cd))),sequence_creator_deploy_1=require(a311_0x4c1e80(0x1d8)),xml2js_1=require('xml2js'),veeva_constants_1=require(a311_0x4c1e80(0x1ff)),path_1=__importDefault(require(a311_0x4c1e80(0x1d3))),VAULT_PACKAGE_FILENAME=a311_0x4c1e80(0x1d5);class ZipCreatorDeploy{constructor({attachmentBodies:_0x1b8417,deploymentName:_0x42347f}){const _0x288dac=a311_0x4c1e80;this[_0x288dac(0x1e1)]=new Map(),this['mdlFileByName']=new Map(),this[_0x288dac(0x1ef)]=new jszip_1[(_0x288dac(0x1d4))](),this[_0x288dac(0x1ec)]=_0x1b8417,this[_0x288dac(0x1d2)]=_0x42347f;}async[a311_0x4c1e80(0x1ee)](){const _0x46fbbf=a311_0x4c1e80;var _0x37bf33;for(const _0x565060 of this[_0x46fbbf(0x1ec)]){const _0x3bab64=new jszip_1['default']();await _0x3bab64['loadAsync'](_0x565060,{'base64':!![]});for(const _0x4ebe3a in _0x3bab64[_0x46fbbf(0x1d1)]){const _0x368f9d=await((_0x37bf33=_0x3bab64[_0x46fbbf(0x1ce)](_0x4ebe3a))===null||_0x37bf33===void 0x0?void 0x0:_0x37bf33[_0x46fbbf(0x1fa)](_0x46fbbf(0x1e5)));if(!_0x368f9d)continue;const {name:_0x5350df,ext:_0x5ababb}=path_1[_0x46fbbf(0x1d4)][_0x46fbbf(0x1dd)](_0x4ebe3a);switch(_0x5ababb){case veeva_constants_1[_0x46fbbf(0x1d9)]['DEPENDENCY_EXTENSION']:this['dependencyFileByName']['set'](_0x5350df,_0x368f9d);break;case veeva_constants_1[_0x46fbbf(0x1d9)][_0x46fbbf(0x1e6)]:this['mdlFileByName'][_0x46fbbf(0x1e8)](_0x5350df,_0x368f9d);break;}}}}[a311_0x4c1e80(0x1e2)](_0x95fe03){const _0x593da6=a311_0x4c1e80;for(const _0x12bf90 of _0x95fe03){const _0x131177=this[_0x593da6(0x1e3)][_0x593da6(0x1ed)](_0x12bf90);_0x131177&&this[_0x593da6(0x1ef)][_0x593da6(0x1ce)](_0x12bf90+veeva_constants_1[_0x593da6(0x1d9)]['MDL_EXTENSION'],_0x131177);}}[a311_0x4c1e80(0x1f1)](){const _0x3524e7=a311_0x4c1e80,_0x3db1bc=new xml2js_1[(_0x3524e7(0x1f5))]({'headless':!![]}),_0x460201={'vaultpackage':{'$':{'xmlns':_0x3524e7(0x1db)},'name':this['deploymentName'],'source':{'vault':undefined,'author':_0x3524e7(0x1fb)},'packagetype':_0x3524e7(0x1f3),'summary':_0x3524e7(0x1d0),'description':_0x3524e7(0x1dc)}};this[_0x3524e7(0x1ef)][_0x3524e7(0x1ce)](VAULT_PACKAGE_FILENAME,_0x3db1bc[_0x3524e7(0x1fc)](_0x460201));}async[a311_0x4c1e80(0x1d6)](){const _0x111221=a311_0x4c1e80;await this[_0x111221(0x1ee)]();const _0x5bc167=Array[_0x111221(0x1f7)](this['mdlFileByName'][_0x111221(0x1de)]())[_0x111221(0x1f8)](_0x42df77=>!this['dependencyFileByName']['has'](_0x42df77)),_0x3673d0=new sequence_creator_deploy_1[(_0x111221(0x1e0))]({'dependencyFileByName':this['dependencyFileByName']})[_0x111221(0x1d6)]();return this['addComponentsToMainZip'](_0x5bc167),this[_0x111221(0x1e2)](_0x3673d0),this[_0x111221(0x1f1)](),this[_0x111221(0x1ef)][_0x111221(0x200)]({'type':_0x111221(0x1f2)});}}exports['ZipCreatorDeploy']=ZipCreatorDeploy;