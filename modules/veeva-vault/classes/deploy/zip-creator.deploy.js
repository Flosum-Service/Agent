const a355_0xb57c74=a355_0x5b0b;function a355_0x5b0b(_0x5e7d22,_0x2a2617){const _0x1486aa=a355_0x92d4();return a355_0x5b0b=function(_0x802447,_0x17f9ea){_0x802447=_0x802447-0x8b;let _0x92d401=_0x1486aa[_0x802447];return _0x92d401;},a355_0x5b0b(_0x5e7d22,_0x2a2617);}(function(_0x3fa514,_0x58face){const _0x15f7af=a355_0x5b0b,_0x27f23d=_0x3fa514();while(!![]){try{const _0x29c534=-parseInt(_0x15f7af(0x97))/0x1*(-parseInt(_0x15f7af(0xb4))/0x2)+parseInt(_0x15f7af(0xa9))/0x3+-parseInt(_0x15f7af(0xa5))/0x4*(-parseInt(_0x15f7af(0xa0))/0x5)+-parseInt(_0x15f7af(0xaa))/0x6+-parseInt(_0x15f7af(0x95))/0x7*(parseInt(_0x15f7af(0xb1))/0x8)+-parseInt(_0x15f7af(0xa1))/0x9*(-parseInt(_0x15f7af(0x96))/0xa)+parseInt(_0x15f7af(0xb2))/0xb*(-parseInt(_0x15f7af(0x9f))/0xc);if(_0x29c534===_0x58face)break;else _0x27f23d['push'](_0x27f23d['shift']());}catch(_0x2bcf57){_0x27f23d['push'](_0x27f23d['shift']());}}}(a355_0x92d4,0x6f0c7));const a355_0x17f9ea=(function(){let _0x145ca9=!![];return function(_0xebc0c6,_0x319017){const _0x3f9b62=_0x145ca9?function(){const _0x256e22=a355_0x5b0b;if(_0x319017){const _0x2e13ee=_0x319017[_0x256e22(0x8f)](_0xebc0c6,arguments);return _0x319017=null,_0x2e13ee;}}:function(){};return _0x145ca9=![],_0x3f9b62;};}()),a355_0x802447=a355_0x17f9ea(this,function(){const _0x418e65=a355_0x5b0b;return a355_0x802447['toString']()['search'](_0x418e65(0x8e))[_0x418e65(0x8d)]()[_0x418e65(0xad)](a355_0x802447)['search']('(((.+)+)+)+$');});a355_0x802447();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5cd341){const _0x4ff229=a355_0x5b0b;return _0x5cd341&&_0x5cd341[_0x4ff229(0x90)]?_0x5cd341:{'default':_0x5cd341};};Object[a355_0xb57c74(0xa2)](exports,a355_0xb57c74(0x90),{'value':!![]}),exports[a355_0xb57c74(0x9b)]=void 0x0;const jszip_1=__importDefault(require(a355_0xb57c74(0xba))),sequence_creator_deploy_1=require(a355_0xb57c74(0x99)),xml2js_1=require(a355_0xb57c74(0x9c)),veeva_constants_1=require(a355_0xb57c74(0x8b)),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x5b5a1e,deploymentName:_0x2561e7}){const _0x1b339c=a355_0xb57c74;this[_0x1b339c(0xb6)]=new Map(),this[_0x1b339c(0xa7)]=new Map(),this[_0x1b339c(0xac)]=new jszip_1[(_0x1b339c(0x9e))](),this['attachmentBodies']=_0x5b5a1e,this[_0x1b339c(0xb8)]=_0x2561e7;}async[a355_0xb57c74(0xa4)](){const _0x46a470=a355_0xb57c74;var _0x1b8aef;for(const _0x509c28 of this[_0x46a470(0xa8)]){const _0x4d31e8=new jszip_1[(_0x46a470(0x9e))]();await _0x4d31e8[_0x46a470(0xb7)](_0x509c28,{'base64':!![]});for(const _0x4ed711 in _0x4d31e8[_0x46a470(0xb9)]){const _0x3473d5=await((_0x1b8aef=_0x4d31e8[_0x46a470(0x98)](_0x4ed711))===null||_0x1b8aef===void 0x0?void 0x0:_0x1b8aef['async'](_0x46a470(0x92)));if(!_0x3473d5)continue;const {name:_0x31c3fc,ext:_0x40a505}=path_1[_0x46a470(0x9e)][_0x46a470(0x91)](_0x4ed711);switch(_0x40a505){case veeva_constants_1['VeevaConstants'][_0x46a470(0xaf)]:this[_0x46a470(0xb6)][_0x46a470(0xae)](_0x31c3fc,_0x3473d5);break;case veeva_constants_1['VeevaConstants'][_0x46a470(0x93)]:this[_0x46a470(0xa7)][_0x46a470(0xae)](_0x31c3fc,_0x3473d5);break;}}}}[a355_0xb57c74(0x8c)](_0x3af8b9){const _0x27827e=a355_0xb57c74;for(const _0x3dc2fe of _0x3af8b9){const _0x556a42=this[_0x27827e(0xa7)]['get'](_0x3dc2fe);_0x556a42&&this[_0x27827e(0xac)][_0x27827e(0x98)](_0x3dc2fe+veeva_constants_1['VeevaConstants'][_0x27827e(0x93)],_0x556a42);}}[a355_0xb57c74(0xa3)](){const _0x50d76f=a355_0xb57c74,_0x433a13=new xml2js_1[(_0x50d76f(0x94))]({'headless':!![]}),_0x2c6843={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this['deploymentName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x50d76f(0xb5),'summary':_0x50d76f(0xb0),'description':'null'}};this[_0x50d76f(0xac)][_0x50d76f(0x98)](VAULT_PACKAGE_FILENAME,_0x433a13['buildObject'](_0x2c6843));}async[a355_0xb57c74(0x9d)](){const _0x1af6cc=a355_0xb57c74;await this[_0x1af6cc(0xa4)]();const _0x40439b=Array[_0x1af6cc(0xb3)](this['mdlFileByName'][_0x1af6cc(0x9a)]())['filter'](_0x1680fc=>!this[_0x1af6cc(0xb6)]['has'](_0x1680fc)),_0x5ca69d=new sequence_creator_deploy_1[(_0x1af6cc(0xab))]({'dependencyFileByName':this[_0x1af6cc(0xb6)]})[_0x1af6cc(0x9d)]();return this['addComponentsToMainZip'](_0x40439b),this['addComponentsToMainZip'](_0x5ca69d),this[_0x1af6cc(0xa3)](),this[_0x1af6cc(0xac)]['generateAsync']({'type':_0x1af6cc(0xa6)});}}exports[a355_0xb57c74(0x9b)]=ZipCreatorDeploy;function a355_0x92d4(){const _0x15b6fb=['7renSOM','10HreglG','3irfRKt','file','./sequence-creator.deploy','keys','ZipCreatorDeploy','xml2js','execute','default','126132ijaiCb','2199605PipLAc','2878065FnRQjF','defineProperty','addVaultPackageFileToMainZip','fillFileByNames','4Wotsjo','nodebuffer','mdlFileByName','attachmentBodies','272088FQiYXQ','1038240dMAWMg','SequenceCreatorDeploy','mainZip','constructor','set','DEPENDENCY_EXTENSION','Deploy','3681872obJABW','209KMYHEw','from','291624AfFfhL','migration__v','dependencyFileByName','loadAsync','deploymentName','files','jszip','../../constants/veeva.constants','addComponentsToMainZip','toString','(((.+)+)+)+$','apply','__esModule','parse','string','MDL_EXTENSION','Builder'];a355_0x92d4=function(){return _0x15b6fb;};return a355_0x92d4();}