const a326_0x245789=a326_0x5531;(function(_0x4f7a17,_0x42b5d7){const _0x17bf2a=a326_0x5531,_0x5405ca=_0x4f7a17();while(!![]){try{const _0x38af77=parseInt(_0x17bf2a(0x77))/0x1*(parseInt(_0x17bf2a(0x9f))/0x2)+-parseInt(_0x17bf2a(0x70))/0x3*(-parseInt(_0x17bf2a(0x7b))/0x4)+parseInt(_0x17bf2a(0x7a))/0x5*(-parseInt(_0x17bf2a(0x8d))/0x6)+-parseInt(_0x17bf2a(0x7c))/0x7+parseInt(_0x17bf2a(0x78))/0x8*(parseInt(_0x17bf2a(0x72))/0x9)+-parseInt(_0x17bf2a(0x6f))/0xa*(-parseInt(_0x17bf2a(0x8a))/0xb)+parseInt(_0x17bf2a(0x9d))/0xc*(-parseInt(_0x17bf2a(0x9b))/0xd);if(_0x38af77===_0x42b5d7)break;else _0x5405ca['push'](_0x5405ca['shift']());}catch(_0x174b6c){_0x5405ca['push'](_0x5405ca['shift']());}}}(a326_0x14cb,0xcea5c));const a326_0x96ed21=(function(){let _0x392e27=!![];return function(_0x33ae7f,_0x299033){const _0x3550c0=_0x392e27?function(){const _0x3ab418=a326_0x5531;if(_0x299033){const _0x166405=_0x299033[_0x3ab418(0xa2)](_0x33ae7f,arguments);return _0x299033=null,_0x166405;}}:function(){};return _0x392e27=![],_0x3550c0;};}()),a326_0x397958=a326_0x96ed21(this,function(){const _0x1b4303=a326_0x5531;return a326_0x397958[_0x1b4303(0x73)]()[_0x1b4303(0x74)](_0x1b4303(0x81))[_0x1b4303(0x73)]()[_0x1b4303(0x71)](a326_0x397958)['search'](_0x1b4303(0x81));});a326_0x397958();'use strict';function a326_0x14cb(){const _0x12bd7d=['(((.+)+)+)+$','defineProperty','SequenceCreatorDeploy','fillFileByNames','deploymentName','keys','https://veevavault.com/','addComponentsToMainZip','addVaultPackageFileToMainZip','33kgIBVu','file','Builder','62694EZzsYs','files','parse','Deploy','mainZip','loadAsync','has','from','../../constants/veeva.constants','execute','xml2js','Flosum','ZipCreatorDeploy','jszip','624HYotWY','get','57744eCmzet','path','2406kFfyNb','buildObject','DEPENDENCY_EXTENSION','apply','attachmentBodies','string','./sequence-creator.deploy','async','5156010RYtQER','6yTOqlr','constructor','2347416BoWOmG','toString','search','mdlFileByName','MDL_EXTENSION','508sNkjQY','8WfOekL','VeevaConstants','605XxdFOD','2512164oikENC','9331700efSRSd','dependencyFileByName','set','__esModule','default'];a326_0x14cb=function(){return _0x12bd7d;};return a326_0x14cb();}function a326_0x5531(_0x408e12,_0x522111){const _0x5f4a30=a326_0x14cb();return a326_0x5531=function(_0x397958,_0x96ed21){_0x397958=_0x397958-0x6d;let _0x14cb59=_0x5f4a30[_0x397958];return _0x14cb59;},a326_0x5531(_0x408e12,_0x522111);}var __importDefault=this&&this['__importDefault']||function(_0x136143){const _0x1a9ff0=a326_0x5531;return _0x136143&&_0x136143[_0x1a9ff0(0x7f)]?_0x136143:{'default':_0x136143};};Object[a326_0x245789(0x82)](exports,a326_0x245789(0x7f),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a326_0x245789(0x9a))),sequence_creator_deploy_1=require(a326_0x245789(0x6d)),xml2js_1=require(a326_0x245789(0x97)),veeva_constants_1=require(a326_0x245789(0x95)),path_1=__importDefault(require(a326_0x245789(0x9e))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x1ee637,deploymentName:_0xfbf79}){const _0x3bb2b6=a326_0x245789;this['dependencyFileByName']=new Map(),this[_0x3bb2b6(0x75)]=new Map(),this[_0x3bb2b6(0x91)]=new jszip_1[(_0x3bb2b6(0x80))](),this[_0x3bb2b6(0xa3)]=_0x1ee637,this[_0x3bb2b6(0x85)]=_0xfbf79;}async['fillFileByNames'](){const _0x28e122=a326_0x245789;var _0x40f756;for(const _0x59f262 of this['attachmentBodies']){const _0x575a60=new jszip_1['default']();await _0x575a60[_0x28e122(0x92)](_0x59f262,{'base64':!![]});for(const _0x46dea4 in _0x575a60[_0x28e122(0x8e)]){const _0x2de1e6=await((_0x40f756=_0x575a60['file'](_0x46dea4))===null||_0x40f756===void 0x0?void 0x0:_0x40f756[_0x28e122(0x6e)](_0x28e122(0xa4)));if(!_0x2de1e6)continue;const {name:_0x42073a,ext:_0x12818a}=path_1[_0x28e122(0x80)][_0x28e122(0x8f)](_0x46dea4);switch(_0x12818a){case veeva_constants_1[_0x28e122(0x79)][_0x28e122(0xa1)]:this[_0x28e122(0x7d)]['set'](_0x42073a,_0x2de1e6);break;case veeva_constants_1[_0x28e122(0x79)][_0x28e122(0x76)]:this[_0x28e122(0x75)][_0x28e122(0x7e)](_0x42073a,_0x2de1e6);break;}}}}[a326_0x245789(0x88)](_0x47d143){const _0x4fecc6=a326_0x245789;for(const _0xad8a43 of _0x47d143){const _0x5d522b=this[_0x4fecc6(0x75)][_0x4fecc6(0x9c)](_0xad8a43);_0x5d522b&&this[_0x4fecc6(0x91)][_0x4fecc6(0x8b)](_0xad8a43+veeva_constants_1[_0x4fecc6(0x79)][_0x4fecc6(0x76)],_0x5d522b);}}[a326_0x245789(0x89)](){const _0x4461ce=a326_0x245789,_0x381812=new xml2js_1[(_0x4461ce(0x8c))]({'headless':!![]}),_0x153d7e={'vaultpackage':{'$':{'xmlns':_0x4461ce(0x87)},'name':this[_0x4461ce(0x85)],'source':{'vault':undefined,'author':_0x4461ce(0x98)},'packagetype':'migration__v','summary':_0x4461ce(0x90),'description':'null'}};this[_0x4461ce(0x91)][_0x4461ce(0x8b)](VAULT_PACKAGE_FILENAME,_0x381812[_0x4461ce(0xa0)](_0x153d7e));}async[a326_0x245789(0x96)](){const _0x1a0140=a326_0x245789;await this[_0x1a0140(0x84)]();const _0x2f5114=Array[_0x1a0140(0x94)](this['mdlFileByName'][_0x1a0140(0x86)]())['filter'](_0x598150=>!this[_0x1a0140(0x7d)][_0x1a0140(0x93)](_0x598150)),_0x280d87=new sequence_creator_deploy_1[(_0x1a0140(0x83))]({'dependencyFileByName':this['dependencyFileByName']})[_0x1a0140(0x96)]();return this[_0x1a0140(0x88)](_0x2f5114),this[_0x1a0140(0x88)](_0x280d87),this[_0x1a0140(0x89)](),this[_0x1a0140(0x91)]['generateAsync']({'type':'nodebuffer'});}}exports[a326_0x245789(0x99)]=ZipCreatorDeploy;