const a311_0x293f40=a311_0x4427;(function(_0x29575a,_0x219a8d){const _0xcbe662=a311_0x4427,_0x376da5=_0x29575a();while(!![]){try{const _0x35c9a7=parseInt(_0xcbe662(0x128))/0x1+-parseInt(_0xcbe662(0x134))/0x2*(parseInt(_0xcbe662(0x147))/0x3)+parseInt(_0xcbe662(0x157))/0x4+parseInt(_0xcbe662(0x135))/0x5+-parseInt(_0xcbe662(0x130))/0x6*(-parseInt(_0xcbe662(0x139))/0x7)+parseInt(_0xcbe662(0x14d))/0x8*(-parseInt(_0xcbe662(0x12a))/0x9)+-parseInt(_0xcbe662(0x133))/0xa*(parseInt(_0xcbe662(0x14b))/0xb);if(_0x35c9a7===_0x219a8d)break;else _0x376da5['push'](_0x376da5['shift']());}catch(_0x3bc75d){_0x376da5['push'](_0x376da5['shift']());}}}(a311_0x2af4,0xb719c));function a311_0x2af4(){const _0x2faada=['dependencyFileByName','fillFileByNames','generateAsync','jszip','addComponentsToMainZip','MDL_EXTENSION','2701868saByUw','filter','constructor','default','ZipCreatorDeploy','../../constants/veeva.constants','execute','1089956ccFIIj','files','1080eFWZiN','attachmentBodies','loadAsync','keys','async','toString','979842xyUvzC','deploymentName','set','2748950RbsmhG','164mixmCQ','300915gTIeXG','get','./sequence-creator.deploy','apply','49zkpAzN','path','DEPENDENCY_EXTENSION','parse','__importDefault','mdlFileByName','file','addVaultPackageFileToMainZip','xml2js','Builder','from','__esModule','vaultpackage.xml','string','40695ioKpCC','search','VeevaConstants','null','33EEbjLA','SequenceCreatorDeploy','18784rJxGme','migration__v','Flosum','mainZip'];a311_0x2af4=function(){return _0x2faada;};return a311_0x2af4();}const a311_0x2167b8=(function(){let _0x5e1d10=!![];return function(_0x30c63a,_0x4289ca){const _0x2709e3=_0x5e1d10?function(){const _0x32d66b=a311_0x4427;if(_0x4289ca){const _0xe79990=_0x4289ca[_0x32d66b(0x138)](_0x30c63a,arguments);return _0x4289ca=null,_0xe79990;}}:function(){};return _0x5e1d10=![],_0x2709e3;};}()),a311_0x3f9d31=a311_0x2167b8(this,function(){const _0x3082b4=a311_0x4427;return a311_0x3f9d31[_0x3082b4(0x12f)]()[_0x3082b4(0x148)]('(((.+)+)+)+$')['toString']()[_0x3082b4(0x159)](a311_0x3f9d31)['search']('(((.+)+)+)+$');});a311_0x3f9d31();'use strict';var __importDefault=this&&this[a311_0x293f40(0x13d)]||function(_0x19f3e8){const _0x114a28=a311_0x293f40;return _0x19f3e8&&_0x19f3e8[_0x114a28(0x144)]?_0x19f3e8:{'default':_0x19f3e8};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;function a311_0x4427(_0x4c19ce,_0x2c3a68){const _0x1124e6=a311_0x2af4();return a311_0x4427=function(_0x3f9d31,_0x2167b8){_0x3f9d31=_0x3f9d31-0x127;let _0x2af4fb=_0x1124e6[_0x3f9d31];return _0x2af4fb;},a311_0x4427(_0x4c19ce,_0x2c3a68);}const jszip_1=__importDefault(require(a311_0x293f40(0x154))),sequence_creator_deploy_1=require(a311_0x293f40(0x137)),xml2js_1=require(a311_0x293f40(0x141)),veeva_constants_1=require(a311_0x293f40(0x15c)),path_1=__importDefault(require(a311_0x293f40(0x13a))),VAULT_PACKAGE_FILENAME=a311_0x293f40(0x145);class ZipCreatorDeploy{constructor({attachmentBodies:_0x22bd14,deploymentName:_0x7788c6}){const _0x406c6b=a311_0x293f40;this[_0x406c6b(0x151)]=new Map(),this[_0x406c6b(0x13e)]=new Map(),this[_0x406c6b(0x150)]=new jszip_1['default'](),this[_0x406c6b(0x12b)]=_0x22bd14,this[_0x406c6b(0x131)]=_0x7788c6;}async[a311_0x293f40(0x152)](){const _0x5d5a5d=a311_0x293f40;var _0x1935eb;for(const _0x57df6c of this['attachmentBodies']){const _0x18e2b4=new jszip_1[(_0x5d5a5d(0x15a))]();await _0x18e2b4[_0x5d5a5d(0x12c)](_0x57df6c,{'base64':!![]});for(const _0x40c62c in _0x18e2b4[_0x5d5a5d(0x129)]){const _0x5b0edb=await((_0x1935eb=_0x18e2b4[_0x5d5a5d(0x13f)](_0x40c62c))===null||_0x1935eb===void 0x0?void 0x0:_0x1935eb[_0x5d5a5d(0x12e)](_0x5d5a5d(0x146)));if(!_0x5b0edb)continue;const {name:_0x3ba7dc,ext:_0x116dfe}=path_1['default'][_0x5d5a5d(0x13c)](_0x40c62c);switch(_0x116dfe){case veeva_constants_1[_0x5d5a5d(0x149)][_0x5d5a5d(0x13b)]:this[_0x5d5a5d(0x151)]['set'](_0x3ba7dc,_0x5b0edb);break;case veeva_constants_1[_0x5d5a5d(0x149)]['MDL_EXTENSION']:this['mdlFileByName'][_0x5d5a5d(0x132)](_0x3ba7dc,_0x5b0edb);break;}}}}[a311_0x293f40(0x155)](_0xf31050){const _0x202081=a311_0x293f40;for(const _0x2d79e1 of _0xf31050){const _0x197add=this['mdlFileByName'][_0x202081(0x136)](_0x2d79e1);_0x197add&&this[_0x202081(0x150)]['file'](_0x2d79e1+veeva_constants_1[_0x202081(0x149)][_0x202081(0x156)],_0x197add);}}[a311_0x293f40(0x140)](){const _0x5a797d=a311_0x293f40,_0x48597e=new xml2js_1[(_0x5a797d(0x142))]({'headless':!![]}),_0x5e213a={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this[_0x5a797d(0x131)],'source':{'vault':undefined,'author':_0x5a797d(0x14f)},'packagetype':_0x5a797d(0x14e),'summary':'Deploy','description':_0x5a797d(0x14a)}};this[_0x5a797d(0x150)][_0x5a797d(0x13f)](VAULT_PACKAGE_FILENAME,_0x48597e['buildObject'](_0x5e213a));}async[a311_0x293f40(0x127)](){const _0x572b44=a311_0x293f40;await this[_0x572b44(0x152)]();const _0x4bdba7=Array[_0x572b44(0x143)](this[_0x572b44(0x13e)][_0x572b44(0x12d)]())[_0x572b44(0x158)](_0x3fbcda=>!this[_0x572b44(0x151)]['has'](_0x3fbcda)),_0x40cdf6=new sequence_creator_deploy_1[(_0x572b44(0x14c))]({'dependencyFileByName':this[_0x572b44(0x151)]})[_0x572b44(0x127)]();return this['addComponentsToMainZip'](_0x4bdba7),this['addComponentsToMainZip'](_0x40cdf6),this[_0x572b44(0x140)](),this['mainZip'][_0x572b44(0x153)]({'type':'nodebuffer'});}}exports[a311_0x293f40(0x15b)]=ZipCreatorDeploy;