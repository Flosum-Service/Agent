const a311_0x4c6937=a311_0x26db;(function(_0x135de2,_0xbb35c4){const _0x55aef5=a311_0x26db,_0x15ff6b=_0x135de2();while(!![]){try{const _0x42aac4=parseInt(_0x55aef5(0xc9))/0x1+parseInt(_0x55aef5(0xc5))/0x2+-parseInt(_0x55aef5(0xe0))/0x3+-parseInt(_0x55aef5(0xd9))/0x4*(parseInt(_0x55aef5(0xcd))/0x5)+-parseInt(_0x55aef5(0xea))/0x6+-parseInt(_0x55aef5(0xeb))/0x7+parseInt(_0x55aef5(0xd3))/0x8;if(_0x42aac4===_0xbb35c4)break;else _0x15ff6b['push'](_0x15ff6b['shift']());}catch(_0x3413cf){_0x15ff6b['push'](_0x15ff6b['shift']());}}}(a311_0x3bd8,0x74e2b));function a311_0x26db(_0x31f794,_0x2de56a){const _0xafc53b=a311_0x3bd8();return a311_0x26db=function(_0x4a0b58,_0x314f5b){_0x4a0b58=_0x4a0b58-0xc5;let _0x3bd811=_0xafc53b[_0x4a0b58];return _0x3bd811;},a311_0x26db(_0x31f794,_0x2de56a);}const a311_0x314f5b=(function(){let _0x867121=!![];return function(_0xcb6852,_0x536b3d){const _0x3c5655=_0x867121?function(){if(_0x536b3d){const _0x45f126=_0x536b3d['apply'](_0xcb6852,arguments);return _0x536b3d=null,_0x45f126;}}:function(){};return _0x867121=![],_0x3c5655;};}()),a311_0x4a0b58=a311_0x314f5b(this,function(){const _0x97f262=a311_0x26db;return a311_0x4a0b58[_0x97f262(0xe2)]()[_0x97f262(0xd4)]('(((.+)+)+)+$')[_0x97f262(0xe2)]()[_0x97f262(0xc6)](a311_0x4a0b58)['search']('(((.+)+)+)+$');});a311_0x4a0b58();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x265e2c){const _0x20d343=a311_0x26db;return _0x265e2c&&_0x265e2c[_0x20d343(0xd0)]?_0x265e2c:{'default':_0x265e2c};};Object[a311_0x4c6937(0xe5)](exports,a311_0x4c6937(0xd0),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a311_0x4c6937(0xdb))),sequence_creator_deploy_1=require(a311_0x4c6937(0xce)),xml2js_1=require(a311_0x4c6937(0xda)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a311_0x4c6937(0xcf))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x54dca2,deploymentName:_0x58a139}){const _0xa958f4=a311_0x4c6937;this['dependencyFileByName']=new Map(),this[_0xa958f4(0xde)]=new Map(),this[_0xa958f4(0xd8)]=new jszip_1['default'](),this[_0xa958f4(0xdc)]=_0x54dca2,this[_0xa958f4(0xc8)]=_0x58a139;}async[a311_0x4c6937(0xe6)](){const _0x3c8640=a311_0x4c6937;var _0x37cbea;for(const _0x3a3e0e of this[_0x3c8640(0xdc)]){const _0x31a23f=new jszip_1[(_0x3c8640(0xd6))]();await _0x31a23f['loadAsync'](_0x3a3e0e,{'base64':!![]});for(const _0x5e9c52 in _0x31a23f[_0x3c8640(0xe8)]){const _0xc25e73=await((_0x37cbea=_0x31a23f[_0x3c8640(0xd5)](_0x5e9c52))===null||_0x37cbea===void 0x0?void 0x0:_0x37cbea[_0x3c8640(0xe1)](_0x3c8640(0xd7)));if(!_0xc25e73)continue;const {name:_0x481c4a,ext:_0x3f5199}=path_1['default']['parse'](_0x5e9c52);switch(_0x3f5199){case veeva_constants_1[_0x3c8640(0xe4)][_0x3c8640(0xc7)]:this[_0x3c8640(0xcc)]['set'](_0x481c4a,_0xc25e73);break;case veeva_constants_1[_0x3c8640(0xe4)][_0x3c8640(0xe7)]:this[_0x3c8640(0xde)][_0x3c8640(0xd1)](_0x481c4a,_0xc25e73);break;}}}}[a311_0x4c6937(0xe3)](){const _0x388aa8=a311_0x4c6937,_0x59a324=new xml2js_1['Builder']({'headless':!![]}),_0x4ac4ef={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this['deploymentName'],'source':{'vault':undefined,'author':_0x388aa8(0xd2)},'packagetype':'migration__v','summary':'Deploy','description':_0x388aa8(0xcb)}};this[_0x388aa8(0xd8)]['file'](VAULT_PACKAGE_FILENAME,_0x59a324[_0x388aa8(0xca)](_0x4ac4ef));}async[a311_0x4c6937(0xec)](){const _0x295d14=a311_0x4c6937;await this[_0x295d14(0xe6)]();const _0x56e30d=new sequence_creator_deploy_1[(_0x295d14(0xdd))]({'dependencyFileByName':this[_0x295d14(0xcc)]})['execute']();for(const _0x3e510d of _0x56e30d){const _0x27e944=this[_0x295d14(0xde)][_0x295d14(0xdf)](_0x3e510d);_0x27e944&&this[_0x295d14(0xd8)][_0x295d14(0xd5)](_0x3e510d+veeva_constants_1[_0x295d14(0xe4)][_0x295d14(0xe7)],_0x27e944);}return this[_0x295d14(0xe3)](),this['mainZip'][_0x295d14(0xe9)]({'type':'nodebuffer'});}}exports['ZipCreatorDeploy']=ZipCreatorDeploy;function a311_0x3bd8(){const _0x1713df=['generateAsync','5599890FqMtKq','2831339hZrpiU','execute','1098558IYuJXR','constructor','DEPENDENCY_EXTENSION','deploymentName','760285XQzORg','buildObject','null','dependencyFileByName','247055xurgHO','./sequence-creator.deploy','path','__esModule','set','Flosum','16199336hEjQfa','search','file','default','string','mainZip','76eEmdxU','xml2js','jszip','attachmentBodies','SequenceCreatorDeploy','mdlFileByName','get','1737351aRvGod','async','toString','addVaultPackageFile','VeevaConstants','defineProperty','fillFileByNames','MDL_EXTENSION','files'];a311_0x3bd8=function(){return _0x1713df;};return a311_0x3bd8();}