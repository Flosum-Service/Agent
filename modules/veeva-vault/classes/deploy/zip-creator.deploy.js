const a355_0x18587b=a355_0x31a1;(function(_0x24b6b8,_0x4c1aaa){const _0x294ebf=a355_0x31a1,_0x2b6cd1=_0x24b6b8();while(!![]){try{const _0x5b47ab=-parseInt(_0x294ebf(0xe7))/0x1*(parseInt(_0x294ebf(0x105))/0x2)+-parseInt(_0x294ebf(0x104))/0x3+-parseInt(_0x294ebf(0xde))/0x4*(parseInt(_0x294ebf(0x107))/0x5)+parseInt(_0x294ebf(0xf2))/0x6*(-parseInt(_0x294ebf(0xf9))/0x7)+parseInt(_0x294ebf(0xfa))/0x8*(parseInt(_0x294ebf(0xee))/0x9)+parseInt(_0x294ebf(0xfe))/0xa*(parseInt(_0x294ebf(0xef))/0xb)+parseInt(_0x294ebf(0xe4))/0xc*(parseInt(_0x294ebf(0xfd))/0xd);if(_0x5b47ab===_0x4c1aaa)break;else _0x2b6cd1['push'](_0x2b6cd1['shift']());}catch(_0x11de48){_0x2b6cd1['push'](_0x2b6cd1['shift']());}}}(a355_0x45bf,0xc71e7));const a355_0x443f3a=(function(){let _0x1e7c4=!![];return function(_0x3424da,_0x4b1d46){const _0x3f5d1f=_0x1e7c4?function(){const _0x4319f8=a355_0x31a1;if(_0x4b1d46){const _0x1ec3d3=_0x4b1d46[_0x4319f8(0xeb)](_0x3424da,arguments);return _0x4b1d46=null,_0x1ec3d3;}}:function(){};return _0x1e7c4=![],_0x3f5d1f;};}()),a355_0x3b7348=a355_0x443f3a(this,function(){const _0x246a4b=a355_0x31a1;return a355_0x3b7348[_0x246a4b(0xf1)]()[_0x246a4b(0x102)]('(((.+)+)+)+$')[_0x246a4b(0xf1)]()[_0x246a4b(0xfc)](a355_0x3b7348)['search']('(((.+)+)+)+$');});a355_0x3b7348();'use strict';var __importDefault=this&&this[a355_0x18587b(0xed)]||function(_0x4e7ccc){const _0xbd21f=a355_0x18587b;return _0x4e7ccc&&_0x4e7ccc[_0xbd21f(0xd7)]?_0x4e7ccc:{'default':_0x4e7ccc};};Object[a355_0x18587b(0xf0)](exports,'__esModule',{'value':!![]}),exports[a355_0x18587b(0xd4)]=void 0x0;const jszip_1=__importDefault(require(a355_0x18587b(0xdd))),sequence_creator_deploy_1=require(a355_0x18587b(0xff)),xml2js_1=require(a355_0x18587b(0xd8)),veeva_constants_1=require(a355_0x18587b(0xf6)),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME=a355_0x18587b(0xdf);function a355_0x31a1(_0x1290bf,_0x4f0c62){const _0x301586=a355_0x45bf();return a355_0x31a1=function(_0x3b7348,_0x443f3a){_0x3b7348=_0x3b7348-0xd4;let _0x45bf3c=_0x301586[_0x3b7348];return _0x45bf3c;},a355_0x31a1(_0x1290bf,_0x4f0c62);}class ZipCreatorDeploy{constructor({attachmentBodies:_0x21a164,deploymentName:_0x503448}){const _0x43bae4=a355_0x18587b;this['dependencyFileByName']=new Map(),this[_0x43bae4(0xe0)]=new Map(),this[_0x43bae4(0xe9)]=new jszip_1['default'](),this[_0x43bae4(0xea)]=_0x21a164,this[_0x43bae4(0xf4)]=_0x503448;}async[a355_0x18587b(0xe6)](){const _0x4d4176=a355_0x18587b;var _0x564921;for(const _0x5d278e of this[_0x4d4176(0xea)]){const _0xb17740=new jszip_1[(_0x4d4176(0x108))]();await _0xb17740['loadAsync'](_0x5d278e,{'base64':!![]});for(const _0x2eee98 in _0xb17740[_0x4d4176(0xe8)]){const _0xe95f7f=await((_0x564921=_0xb17740[_0x4d4176(0xd9)](_0x2eee98))===null||_0x564921===void 0x0?void 0x0:_0x564921[_0x4d4176(0x106)](_0x4d4176(0x100)));if(!_0xe95f7f)continue;const {name:_0x1247c7,ext:_0x27f8ae}=path_1[_0x4d4176(0x108)][_0x4d4176(0xfb)](_0x2eee98);switch(_0x27f8ae){case veeva_constants_1[_0x4d4176(0xd5)][_0x4d4176(0xe1)]:this[_0x4d4176(0xda)]['set'](_0x1247c7,_0xe95f7f);break;case veeva_constants_1[_0x4d4176(0xd5)][_0x4d4176(0x103)]:this[_0x4d4176(0xe0)]['set'](_0x1247c7,_0xe95f7f);break;}}}}['addComponentsToMainZip'](_0x4150e9){const _0x23d61b=a355_0x18587b;for(const _0x50bfd9 of _0x4150e9){const _0x287d2a=this[_0x23d61b(0xe0)][_0x23d61b(0xe3)](_0x50bfd9);_0x287d2a&&this[_0x23d61b(0xe9)][_0x23d61b(0xd9)](_0x50bfd9+veeva_constants_1[_0x23d61b(0xd5)][_0x23d61b(0x103)],_0x287d2a);}}[a355_0x18587b(0xf8)](){const _0x1ee841=a355_0x18587b,_0x388b69=new xml2js_1[(_0x1ee841(0xec))]({'headless':!![]}),_0x58e0e5={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this[_0x1ee841(0xf4)],'source':{'vault':undefined,'author':_0x1ee841(0xf7)},'packagetype':'migration__v','summary':_0x1ee841(0x101),'description':_0x1ee841(0xdb)}};this[_0x1ee841(0xe9)][_0x1ee841(0xd9)](VAULT_PACKAGE_FILENAME,_0x388b69[_0x1ee841(0xd6)](_0x58e0e5));}async['execute'](){const _0x56b83b=a355_0x18587b;await this[_0x56b83b(0xe6)]();const _0x510ddf=Array['from'](this[_0x56b83b(0xe0)][_0x56b83b(0xf5)]())['filter'](_0x3d29aa=>!this[_0x56b83b(0xda)][_0x56b83b(0xf3)](_0x3d29aa)),_0x4e67dc=new sequence_creator_deploy_1[(_0x56b83b(0xdc))]({'dependencyFileByName':this[_0x56b83b(0xda)]})[_0x56b83b(0xe5)]();return this[_0x56b83b(0xe2)](_0x510ddf),this[_0x56b83b(0xe2)](_0x4e67dc),this['addVaultPackageFileToMainZip'](),this[_0x56b83b(0xe9)]['generateAsync']({'type':'nodebuffer'});}}function a355_0x45bf(){const _0x265fd0=['get','1788LsdgER','execute','fillFileByNames','1pbSlam','files','mainZip','attachmentBodies','apply','Builder','__importDefault','230193vLxwoZ','335709tQDbdd','defineProperty','toString','12unjpVr','has','deploymentName','keys','../../constants/veeva.constants','Flosum','addVaultPackageFileToMainZip','4468373aYfdOA','24TAwhMN','parse','constructor','237133VIfhFy','370asTlzE','./sequence-creator.deploy','string','Deploy','search','MDL_EXTENSION','1583574LkwdxH','1434542CngdpY','async','265bTMnbm','default','ZipCreatorDeploy','VeevaConstants','buildObject','__esModule','xml2js','file','dependencyFileByName','null','SequenceCreatorDeploy','jszip','44260sPPycy','vaultpackage.xml','mdlFileByName','DEPENDENCY_EXTENSION','addComponentsToMainZip'];a355_0x45bf=function(){return _0x265fd0;};return a355_0x45bf();}exports['ZipCreatorDeploy']=ZipCreatorDeploy;