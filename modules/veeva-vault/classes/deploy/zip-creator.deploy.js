const a355_0x55342f=a355_0x186c;(function(_0x3507d7,_0x3dcb77){const _0x4dd2a6=a355_0x186c,_0x1604a2=_0x3507d7();while(!![]){try{const _0x103e66=parseInt(_0x4dd2a6(0x129))/0x1+parseInt(_0x4dd2a6(0x11c))/0x2*(parseInt(_0x4dd2a6(0x10e))/0x3)+parseInt(_0x4dd2a6(0x108))/0x4*(parseInt(_0x4dd2a6(0x105))/0x5)+parseInt(_0x4dd2a6(0x114))/0x6*(-parseInt(_0x4dd2a6(0x120))/0x7)+parseInt(_0x4dd2a6(0x124))/0x8*(-parseInt(_0x4dd2a6(0x132))/0x9)+-parseInt(_0x4dd2a6(0x112))/0xa+parseInt(_0x4dd2a6(0x119))/0xb;if(_0x103e66===_0x3dcb77)break;else _0x1604a2['push'](_0x1604a2['shift']());}catch(_0x1ae3a8){_0x1604a2['push'](_0x1604a2['shift']());}}}(a355_0x208d,0x65734));const a355_0xa6e54d=(function(){let _0x39e556=!![];return function(_0x3b5617,_0x54c018){const _0x396834=_0x39e556?function(){const _0x2099f2=a355_0x186c;if(_0x54c018){const _0x322ee8=_0x54c018[_0x2099f2(0x118)](_0x3b5617,arguments);return _0x54c018=null,_0x322ee8;}}:function(){};return _0x39e556=![],_0x396834;};}()),a355_0x44b9d0=a355_0xa6e54d(this,function(){const _0x300d62=a355_0x186c;return a355_0x44b9d0[_0x300d62(0x121)]()[_0x300d62(0x12d)](_0x300d62(0x10a))[_0x300d62(0x121)]()[_0x300d62(0x138)](a355_0x44b9d0)[_0x300d62(0x12d)](_0x300d62(0x10a));});a355_0x44b9d0();'use strict';function a355_0x208d(){const _0x502577=['addVaultPackageFileToMainZip','has','file','https://veevavault.com/','1696761cJfiSq','deploymentName','path','null','__importDefault','MDL_EXTENSION','constructor','buildObject','622235qIQMIO','defineProperty','mdlFileByName','12zqRLWl','mainZip','(((.+)+)+)+$','from','VeevaConstants','../../constants/veeva.constants','3VlIiZk','SequenceCreatorDeploy','string','./sequence-creator.deploy','7721530wlEBrZ','loadAsync','668244vbYVIW','jszip','Flosum','addComponentsToMainZip','apply','5443416uqFLJY','set','xml2js','913306QSdnDw','DEPENDENCY_EXTENSION','default','execute','35XhlgVe','toString','ZipCreatorDeploy','dependencyFileByName','8hCUvDM','fillFileByNames','nodebuffer','parse','attachmentBodies','608242uLyapv','filter','get','async','search'];a355_0x208d=function(){return _0x502577;};return a355_0x208d();}function a355_0x186c(_0xbea24,_0x4300d5){const _0x213320=a355_0x208d();return a355_0x186c=function(_0x44b9d0,_0xa6e54d){_0x44b9d0=_0x44b9d0-0x104;let _0x208d4f=_0x213320[_0x44b9d0];return _0x208d4f;},a355_0x186c(_0xbea24,_0x4300d5);}var __importDefault=this&&this[a355_0x55342f(0x136)]||function(_0xee2f99){return _0xee2f99&&_0xee2f99['__esModule']?_0xee2f99:{'default':_0xee2f99};};Object[a355_0x55342f(0x106)](exports,'__esModule',{'value':!![]}),exports[a355_0x55342f(0x122)]=void 0x0;const jszip_1=__importDefault(require(a355_0x55342f(0x115))),sequence_creator_deploy_1=require(a355_0x55342f(0x111)),xml2js_1=require(a355_0x55342f(0x11b)),veeva_constants_1=require(a355_0x55342f(0x10d)),path_1=__importDefault(require(a355_0x55342f(0x134))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x1cc7e4,deploymentName:_0x29a6a5}){const _0x4b1768=a355_0x55342f;this['dependencyFileByName']=new Map(),this[_0x4b1768(0x107)]=new Map(),this[_0x4b1768(0x109)]=new jszip_1[(_0x4b1768(0x11e))](),this['attachmentBodies']=_0x1cc7e4,this['deploymentName']=_0x29a6a5;}async[a355_0x55342f(0x125)](){const _0xa2fcdd=a355_0x55342f;var _0x362fab;for(const _0x2679ce of this[_0xa2fcdd(0x128)]){const _0x36906c=new jszip_1['default']();await _0x36906c[_0xa2fcdd(0x113)](_0x2679ce,{'base64':!![]});for(const _0x15d208 in _0x36906c['files']){const _0x1ef41c=await((_0x362fab=_0x36906c[_0xa2fcdd(0x130)](_0x15d208))===null||_0x362fab===void 0x0?void 0x0:_0x362fab[_0xa2fcdd(0x12c)](_0xa2fcdd(0x110)));if(!_0x1ef41c)continue;const {name:_0x1292f1,ext:_0x443239}=path_1['default'][_0xa2fcdd(0x127)](_0x15d208);switch(_0x443239){case veeva_constants_1['VeevaConstants'][_0xa2fcdd(0x11d)]:this['dependencyFileByName'][_0xa2fcdd(0x11a)](_0x1292f1,_0x1ef41c);break;case veeva_constants_1[_0xa2fcdd(0x10c)][_0xa2fcdd(0x137)]:this[_0xa2fcdd(0x107)]['set'](_0x1292f1,_0x1ef41c);break;}}}}[a355_0x55342f(0x117)](_0x124509){const _0x354044=a355_0x55342f;for(const _0x4309b2 of _0x124509){const _0x3faf18=this[_0x354044(0x107)][_0x354044(0x12b)](_0x4309b2);_0x3faf18&&this[_0x354044(0x109)][_0x354044(0x130)](_0x4309b2+veeva_constants_1[_0x354044(0x10c)][_0x354044(0x137)],_0x3faf18);}}[a355_0x55342f(0x12e)](){const _0x50ded8=a355_0x55342f,_0x2c12c1=new xml2js_1['Builder']({'headless':!![]}),_0xa143e4={'vaultpackage':{'$':{'xmlns':_0x50ded8(0x131)},'name':this[_0x50ded8(0x133)],'source':{'vault':undefined,'author':_0x50ded8(0x116)},'packagetype':'migration__v','summary':'Deploy','description':_0x50ded8(0x135)}};this[_0x50ded8(0x109)]['file'](VAULT_PACKAGE_FILENAME,_0x2c12c1[_0x50ded8(0x104)](_0xa143e4));}async['execute'](){const _0x1968db=a355_0x55342f;await this[_0x1968db(0x125)]();const _0x59ea48=Array[_0x1968db(0x10b)](this['mdlFileByName']['keys']())[_0x1968db(0x12a)](_0x2afc88=>!this[_0x1968db(0x123)][_0x1968db(0x12f)](_0x2afc88)),_0x4cfcc0=new sequence_creator_deploy_1[(_0x1968db(0x10f))]({'dependencyFileByName':this[_0x1968db(0x123)]})[_0x1968db(0x11f)]();return this[_0x1968db(0x117)](_0x59ea48),this[_0x1968db(0x117)](_0x4cfcc0),this['addVaultPackageFileToMainZip'](),this['mainZip']['generateAsync']({'type':_0x1968db(0x126)});}}exports[a355_0x55342f(0x122)]=ZipCreatorDeploy;