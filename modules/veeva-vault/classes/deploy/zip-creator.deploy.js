const a354_0x3a163a=a354_0x18a1;(function(_0x365b88,_0x43d1fc){const _0x82adac=a354_0x18a1,_0x194b43=_0x365b88();while(!![]){try{const _0x17666c=parseInt(_0x82adac(0x1a7))/0x1+parseInt(_0x82adac(0x1a4))/0x2*(parseInt(_0x82adac(0x1ba))/0x3)+-parseInt(_0x82adac(0x1ad))/0x4+parseInt(_0x82adac(0x1cc))/0x5*(parseInt(_0x82adac(0x1c6))/0x6)+parseInt(_0x82adac(0x1ac))/0x7+-parseInt(_0x82adac(0x1bb))/0x8+-parseInt(_0x82adac(0x1d1))/0x9;if(_0x17666c===_0x43d1fc)break;else _0x194b43['push'](_0x194b43['shift']());}catch(_0x4b0336){_0x194b43['push'](_0x194b43['shift']());}}}(a354_0x2e82,0xac30d));const a354_0x36dc52=(function(){let _0x2be552=!![];return function(_0x1d8228,_0x53c4f0){const _0x5c3fc9=_0x2be552?function(){if(_0x53c4f0){const _0x209d00=_0x53c4f0['apply'](_0x1d8228,arguments);return _0x53c4f0=null,_0x209d00;}}:function(){};return _0x2be552=![],_0x5c3fc9;};}()),a354_0x142d84=a354_0x36dc52(this,function(){const _0x34ddef=a354_0x18a1;return a354_0x142d84[_0x34ddef(0x1b8)]()[_0x34ddef(0x1b2)](_0x34ddef(0x1bc))['toString']()[_0x34ddef(0x1bd)](a354_0x142d84)[_0x34ddef(0x1b2)](_0x34ddef(0x1bc));});a354_0x142d84();'use strict';function a354_0x2e82(){const _0x419137=['nodebuffer','migration__v','MDL_EXTENSION','xml2js','async','4815ZIVFLv','jszip','from','files','mdlFileByName','19035216znKusd','buildObject','set','mainZip','attachmentBodies','426662kkPHqk','execute','addVaultPackageFileToMainZip','1157693aTWHbu','Builder','SequenceCreatorDeploy','defineProperty','fillFileByNames','7826511sblDXv','2126276yAjqli','null','loadAsync','__esModule','deploymentName','search','DEPENDENCY_EXTENSION','./sequence-creator.deploy','default','file','__importDefault','toString','VeevaConstants','9dziluM','5070128PzpEAb','(((.+)+)+)+$','constructor','Flosum','addComponentsToMainZip','filter','../../constants/veeva.constants','dependencyFileByName','keys','ZipCreatorDeploy','https://veevavault.com/','6666WAIBCy'];a354_0x2e82=function(){return _0x419137;};return a354_0x2e82();}var __importDefault=this&&this[a354_0x3a163a(0x1b7)]||function(_0x381cfa){const _0x2aef24=a354_0x3a163a;return _0x381cfa&&_0x381cfa[_0x2aef24(0x1b0)]?_0x381cfa:{'default':_0x381cfa};};Object[a354_0x3a163a(0x1aa)](exports,a354_0x3a163a(0x1b0),{'value':!![]}),exports[a354_0x3a163a(0x1c4)]=void 0x0;const jszip_1=__importDefault(require(a354_0x3a163a(0x1cd))),sequence_creator_deploy_1=require(a354_0x3a163a(0x1b4)),xml2js_1=require(a354_0x3a163a(0x1ca)),veeva_constants_1=require(a354_0x3a163a(0x1c1)),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0xcd1c5d,deploymentName:_0x2375ae}){const _0x5cb306=a354_0x3a163a;this['dependencyFileByName']=new Map(),this['mdlFileByName']=new Map(),this[_0x5cb306(0x1a2)]=new jszip_1[(_0x5cb306(0x1b5))](),this['attachmentBodies']=_0xcd1c5d,this[_0x5cb306(0x1b1)]=_0x2375ae;}async[a354_0x3a163a(0x1ab)](){const _0xcef15=a354_0x3a163a;var _0x20be3c;for(const _0x26d90a of this[_0xcef15(0x1a3)]){const _0xbefad9=new jszip_1[(_0xcef15(0x1b5))]();await _0xbefad9[_0xcef15(0x1af)](_0x26d90a,{'base64':!![]});for(const _0x5345ef in _0xbefad9[_0xcef15(0x1cf)]){const _0x3258c4=await((_0x20be3c=_0xbefad9['file'](_0x5345ef))===null||_0x20be3c===void 0x0?void 0x0:_0x20be3c[_0xcef15(0x1cb)]('string'));if(!_0x3258c4)continue;const {name:_0x1ced41,ext:_0x475b5e}=path_1[_0xcef15(0x1b5)]['parse'](_0x5345ef);switch(_0x475b5e){case veeva_constants_1[_0xcef15(0x1b9)][_0xcef15(0x1b3)]:this[_0xcef15(0x1c2)][_0xcef15(0x1a1)](_0x1ced41,_0x3258c4);break;case veeva_constants_1[_0xcef15(0x1b9)][_0xcef15(0x1c9)]:this[_0xcef15(0x1d0)][_0xcef15(0x1a1)](_0x1ced41,_0x3258c4);break;}}}}[a354_0x3a163a(0x1bf)](_0x464e87){const _0x329dcd=a354_0x3a163a;for(const _0x3e5d44 of _0x464e87){const _0x1c831e=this['mdlFileByName']['get'](_0x3e5d44);_0x1c831e&&this['mainZip'][_0x329dcd(0x1b6)](_0x3e5d44+veeva_constants_1[_0x329dcd(0x1b9)]['MDL_EXTENSION'],_0x1c831e);}}[a354_0x3a163a(0x1a6)](){const _0x428f1d=a354_0x3a163a,_0x3caca1=new xml2js_1[(_0x428f1d(0x1a8))]({'headless':!![]}),_0xfa84c8={'vaultpackage':{'$':{'xmlns':_0x428f1d(0x1c5)},'name':this[_0x428f1d(0x1b1)],'source':{'vault':undefined,'author':_0x428f1d(0x1be)},'packagetype':_0x428f1d(0x1c8),'summary':'Deploy','description':_0x428f1d(0x1ae)}};this[_0x428f1d(0x1a2)][_0x428f1d(0x1b6)](VAULT_PACKAGE_FILENAME,_0x3caca1[_0x428f1d(0x1a0)](_0xfa84c8));}async['execute'](){const _0x2a4a06=a354_0x3a163a;await this['fillFileByNames']();const _0x36633a=Array[_0x2a4a06(0x1ce)](this['mdlFileByName'][_0x2a4a06(0x1c3)]())[_0x2a4a06(0x1c0)](_0xb92564=>!this[_0x2a4a06(0x1c2)]['has'](_0xb92564)),_0x2e5825=new sequence_creator_deploy_1[(_0x2a4a06(0x1a9))]({'dependencyFileByName':this[_0x2a4a06(0x1c2)]})[_0x2a4a06(0x1a5)]();return this[_0x2a4a06(0x1bf)](_0x36633a),this[_0x2a4a06(0x1bf)](_0x2e5825),this['addVaultPackageFileToMainZip'](),this['mainZip']['generateAsync']({'type':_0x2a4a06(0x1c7)});}}function a354_0x18a1(_0x260254,_0x1f6b98){const _0x26d59e=a354_0x2e82();return a354_0x18a1=function(_0x142d84,_0x36dc52){_0x142d84=_0x142d84-0x1a0;let _0x2e82fd=_0x26d59e[_0x142d84];return _0x2e82fd;},a354_0x18a1(_0x260254,_0x1f6b98);}exports[a354_0x3a163a(0x1c4)]=ZipCreatorDeploy;