const a355_0x272d77=a355_0x1f39;function a355_0x1f39(_0x35172a,_0x34dcb6){const _0x11e1ad=a355_0x2bb5();return a355_0x1f39=function(_0x13d617,_0x2f7aa8){_0x13d617=_0x13d617-0xaa;let _0x2bb502=_0x11e1ad[_0x13d617];return _0x2bb502;},a355_0x1f39(_0x35172a,_0x34dcb6);}(function(_0x304420,_0x1d06cd){const _0x29f928=a355_0x1f39,_0x291614=_0x304420();while(!![]){try{const _0x1f67a9=-parseInt(_0x29f928(0xda))/0x1*(-parseInt(_0x29f928(0xb8))/0x2)+-parseInt(_0x29f928(0xb3))/0x3*(-parseInt(_0x29f928(0xba))/0x4)+parseInt(_0x29f928(0xc2))/0x5*(parseInt(_0x29f928(0xc6))/0x6)+-parseInt(_0x29f928(0xc7))/0x7+parseInt(_0x29f928(0xb0))/0x8+-parseInt(_0x29f928(0xd6))/0x9+parseInt(_0x29f928(0xaf))/0xa*(-parseInt(_0x29f928(0xd9))/0xb);if(_0x1f67a9===_0x1d06cd)break;else _0x291614['push'](_0x291614['shift']());}catch(_0x21c865){_0x291614['push'](_0x291614['shift']());}}}(a355_0x2bb5,0xde59a));const a355_0x2f7aa8=(function(){let _0x170da9=!![];return function(_0x553e82,_0x4632db){const _0x516459=_0x170da9?function(){const _0x9c0cea=a355_0x1f39;if(_0x4632db){const _0x2fbb45=_0x4632db[_0x9c0cea(0xbd)](_0x553e82,arguments);return _0x4632db=null,_0x2fbb45;}}:function(){};return _0x170da9=![],_0x516459;};}()),a355_0x13d617=a355_0x2f7aa8(this,function(){const _0x32c67b=a355_0x1f39;return a355_0x13d617[_0x32c67b(0xc4)]()['search']('(((.+)+)+)+$')[_0x32c67b(0xc4)]()['constructor'](a355_0x13d617)[_0x32c67b(0xbb)](_0x32c67b(0xac));});a355_0x13d617();'use strict';var __importDefault=this&&this[a355_0x272d77(0xaa)]||function(_0x4b87a3){return _0x4b87a3&&_0x4b87a3['__esModule']?_0x4b87a3:{'default':_0x4b87a3};};Object[a355_0x272d77(0xbf)](exports,'__esModule',{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;function a355_0x2bb5(){const _0x59b63c=['SequenceCreatorDeploy','deploymentName','file','8210376vxehGD','addComponentsToMainZip','null','15851PATHDZ','8958ruaZaE','__importDefault','https://veevavault.com/','(((.+)+)+)+$','default','./sequence-creator.deploy','11630uoqlmO','5691152lqlSMN','VeevaConstants','set','3513642lgxNsC','vaultpackage.xml','loadAsync','addVaultPackageFileToMainZip','nodebuffer','144BhEHaa','xml2js','4YRQJzr','search','mdlFileByName','apply','MDL_EXTENSION','defineProperty','Deploy','buildObject','10PzQcvf','fillFileByNames','toString','dependencyFileByName','5091624utgodi','5081293qrIcCn','has','path','attachmentBodies','filter','string','jszip','get','keys','../../constants/veeva.constants','mainZip','Flosum'];a355_0x2bb5=function(){return _0x59b63c;};return a355_0x2bb5();}const jszip_1=__importDefault(require(a355_0x272d77(0xcd))),sequence_creator_deploy_1=require(a355_0x272d77(0xae)),xml2js_1=require(a355_0x272d77(0xb9)),veeva_constants_1=require(a355_0x272d77(0xd0)),path_1=__importDefault(require(a355_0x272d77(0xc9))),VAULT_PACKAGE_FILENAME=a355_0x272d77(0xb4);class ZipCreatorDeploy{constructor({attachmentBodies:_0x1929e2,deploymentName:_0xb355cb}){const _0x56f7fa=a355_0x272d77;this['dependencyFileByName']=new Map(),this[_0x56f7fa(0xbc)]=new Map(),this[_0x56f7fa(0xd1)]=new jszip_1[(_0x56f7fa(0xad))](),this[_0x56f7fa(0xca)]=_0x1929e2,this[_0x56f7fa(0xd4)]=_0xb355cb;}async['fillFileByNames'](){const _0x3a645b=a355_0x272d77;var _0x21d794;for(const _0x425186 of this[_0x3a645b(0xca)]){const _0x3bb72f=new jszip_1[(_0x3a645b(0xad))]();await _0x3bb72f[_0x3a645b(0xb5)](_0x425186,{'base64':!![]});for(const _0x318cb6 in _0x3bb72f['files']){const _0xa36a7e=await((_0x21d794=_0x3bb72f['file'](_0x318cb6))===null||_0x21d794===void 0x0?void 0x0:_0x21d794['async'](_0x3a645b(0xcc)));if(!_0xa36a7e)continue;const {name:_0x3e38af,ext:_0x4d2a18}=path_1['default']['parse'](_0x318cb6);switch(_0x4d2a18){case veeva_constants_1[_0x3a645b(0xb1)]['DEPENDENCY_EXTENSION']:this[_0x3a645b(0xc5)][_0x3a645b(0xb2)](_0x3e38af,_0xa36a7e);break;case veeva_constants_1[_0x3a645b(0xb1)][_0x3a645b(0xbe)]:this['mdlFileByName'][_0x3a645b(0xb2)](_0x3e38af,_0xa36a7e);break;}}}}['addComponentsToMainZip'](_0x4c46be){const _0x434fec=a355_0x272d77;for(const _0x3f6daf of _0x4c46be){const _0x1fafdc=this[_0x434fec(0xbc)][_0x434fec(0xce)](_0x3f6daf);_0x1fafdc&&this[_0x434fec(0xd1)][_0x434fec(0xd5)](_0x3f6daf+veeva_constants_1[_0x434fec(0xb1)][_0x434fec(0xbe)],_0x1fafdc);}}['addVaultPackageFileToMainZip'](){const _0x3984ed=a355_0x272d77,_0x49c3ff=new xml2js_1['Builder']({'headless':!![]}),_0x40d52f={'vaultpackage':{'$':{'xmlns':_0x3984ed(0xab)},'name':this[_0x3984ed(0xd4)],'source':{'vault':undefined,'author':_0x3984ed(0xd2)},'packagetype':'migration__v','summary':_0x3984ed(0xc0),'description':_0x3984ed(0xd8)}};this['mainZip']['file'](VAULT_PACKAGE_FILENAME,_0x49c3ff[_0x3984ed(0xc1)](_0x40d52f));}async['execute'](){const _0x2ade68=a355_0x272d77;await this[_0x2ade68(0xc3)]();const _0x3e036e=Array['from'](this[_0x2ade68(0xbc)][_0x2ade68(0xcf)]())[_0x2ade68(0xcb)](_0x20c267=>!this['dependencyFileByName'][_0x2ade68(0xc8)](_0x20c267)),_0x55b091=new sequence_creator_deploy_1[(_0x2ade68(0xd3))]({'dependencyFileByName':this['dependencyFileByName']})['execute']();return this[_0x2ade68(0xd7)](_0x3e036e),this[_0x2ade68(0xd7)](_0x55b091),this[_0x2ade68(0xb6)](),this['mainZip']['generateAsync']({'type':_0x2ade68(0xb7)});}}exports['ZipCreatorDeploy']=ZipCreatorDeploy;