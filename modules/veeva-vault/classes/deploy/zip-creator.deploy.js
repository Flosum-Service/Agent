const a343_0x34db3b=a343_0x22b9;(function(_0x1e492e,_0x53e87b){const _0x36ad3d=a343_0x22b9,_0x1b1666=_0x1e492e();while(!![]){try{const _0x12d648=parseInt(_0x36ad3d(0xe7))/0x1+parseInt(_0x36ad3d(0xee))/0x2*(parseInt(_0x36ad3d(0x100))/0x3)+parseInt(_0x36ad3d(0xf4))/0x4*(parseInt(_0x36ad3d(0xd9))/0x5)+parseInt(_0x36ad3d(0x104))/0x6+-parseInt(_0x36ad3d(0xf8))/0x7+parseInt(_0x36ad3d(0xfa))/0x8+-parseInt(_0x36ad3d(0xe6))/0x9*(parseInt(_0x36ad3d(0x103))/0xa);if(_0x12d648===_0x53e87b)break;else _0x1b1666['push'](_0x1b1666['shift']());}catch(_0x4b466d){_0x1b1666['push'](_0x1b1666['shift']());}}}(a343_0x1d86,0x3c63d));const a343_0x2b0110=(function(){let _0x216fe9=!![];return function(_0x1c53fd,_0x409433){const _0xa3991d=_0x216fe9?function(){const _0x53b0e6=a343_0x22b9;if(_0x409433){const _0x7c6cb2=_0x409433[_0x53b0e6(0xdc)](_0x1c53fd,arguments);return _0x409433=null,_0x7c6cb2;}}:function(){};return _0x216fe9=![],_0xa3991d;};}()),a343_0x5a2929=a343_0x2b0110(this,function(){const _0x196c32=a343_0x22b9;return a343_0x5a2929[_0x196c32(0xe9)]()[_0x196c32(0xda)](_0x196c32(0xdf))[_0x196c32(0xe9)]()[_0x196c32(0xfb)](a343_0x5a2929)['search'](_0x196c32(0xdf));});a343_0x5a2929();function a343_0x22b9(_0x5f2481,_0x4fcee6){const _0x3e74f7=a343_0x1d86();return a343_0x22b9=function(_0x5a2929,_0x2b0110){_0x5a2929=_0x5a2929-0xd9;let _0x1d8610=_0x3e74f7[_0x5a2929];return _0x1d8610;},a343_0x22b9(_0x5f2481,_0x4fcee6);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3e00d2){return _0x3e00d2&&_0x3e00d2['__esModule']?_0x3e00d2:{'default':_0x3e00d2};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a343_0x34db3b(0xfe)]=void 0x0;const jszip_1=__importDefault(require(a343_0x34db3b(0x102))),sequence_creator_deploy_1=require('./sequence-creator.deploy'),xml2js_1=require(a343_0x34db3b(0xf5)),veeva_constants_1=require(a343_0x34db3b(0x101)),path_1=__importDefault(require(a343_0x34db3b(0xff))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x3543a0,deploymentName:_0x76bed9}){const _0x9c2bbd=a343_0x34db3b;this['dependencyFileByName']=new Map(),this[_0x9c2bbd(0xe8)]=new Map(),this[_0x9c2bbd(0xfd)]=new jszip_1['default'](),this[_0x9c2bbd(0xea)]=_0x3543a0,this[_0x9c2bbd(0xf3)]=_0x76bed9;}async[a343_0x34db3b(0xe4)](){const _0x4ba9b6=a343_0x34db3b;var _0x724f10;for(const _0x16f2fb of this[_0x4ba9b6(0xea)]){const _0x226af7=new jszip_1[(_0x4ba9b6(0x106))]();await _0x226af7[_0x4ba9b6(0xe5)](_0x16f2fb,{'base64':!![]});for(const _0x461566 in _0x226af7[_0x4ba9b6(0xf9)]){const _0x3722b6=await((_0x724f10=_0x226af7['file'](_0x461566))===null||_0x724f10===void 0x0?void 0x0:_0x724f10['async'](_0x4ba9b6(0xfc)));if(!_0x3722b6)continue;const {name:_0x5e14b5,ext:_0x34fb6f}=path_1['default'][_0x4ba9b6(0xf6)](_0x461566);switch(_0x34fb6f){case veeva_constants_1['VeevaConstants']['DEPENDENCY_EXTENSION']:this['dependencyFileByName']['set'](_0x5e14b5,_0x3722b6);break;case veeva_constants_1['VeevaConstants']['MDL_EXTENSION']:this[_0x4ba9b6(0xe8)][_0x4ba9b6(0xf0)](_0x5e14b5,_0x3722b6);break;}}}}[a343_0x34db3b(0xec)](_0x79e970){const _0x3a5223=a343_0x34db3b;for(const _0x4d3416 of _0x79e970){const _0x1dceec=this[_0x3a5223(0xe8)][_0x3a5223(0xf7)](_0x4d3416);_0x1dceec&&this[_0x3a5223(0xfd)][_0x3a5223(0xeb)](_0x4d3416+veeva_constants_1[_0x3a5223(0xf1)]['MDL_EXTENSION'],_0x1dceec);}}[a343_0x34db3b(0x105)](){const _0xe3d2f0=a343_0x34db3b,_0x5dde61=new xml2js_1['Builder']({'headless':!![]}),_0x241bb0={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this['deploymentName'],'source':{'vault':undefined,'author':_0xe3d2f0(0xe3)},'packagetype':_0xe3d2f0(0xed),'summary':_0xe3d2f0(0xe2),'description':_0xe3d2f0(0xf2)}};this[_0xe3d2f0(0xfd)][_0xe3d2f0(0xeb)](VAULT_PACKAGE_FILENAME,_0x5dde61[_0xe3d2f0(0xe0)](_0x241bb0));}async[a343_0x34db3b(0xde)](){const _0x1ba2ee=a343_0x34db3b;await this['fillFileByNames']();const _0x5d355f=Array[_0x1ba2ee(0xe1)](this[_0x1ba2ee(0xe8)]['keys']())['filter'](_0x5a0d3c=>!this['dependencyFileByName']['has'](_0x5a0d3c)),_0x3d0bfc=new sequence_creator_deploy_1[(_0x1ba2ee(0xdd))]({'dependencyFileByName':this[_0x1ba2ee(0xef)]})[_0x1ba2ee(0xde)]();return this[_0x1ba2ee(0xec)](_0x5d355f),this['addComponentsToMainZip'](_0x3d0bfc),this['addVaultPackageFileToMainZip'](),this['mainZip']['generateAsync']({'type':_0x1ba2ee(0xdb)});}}exports['ZipCreatorDeploy']=ZipCreatorDeploy;function a343_0x1d86(){const _0x55d8ae=['string','mainZip','ZipCreatorDeploy','path','1368mNMlBg','../../constants/veeva.constants','jszip','12776570MzvZla','2608332Qbxamm','addVaultPackageFileToMainZip','default','2176795JokvSd','search','nodebuffer','apply','SequenceCreatorDeploy','execute','(((.+)+)+)+$','buildObject','from','Deploy','Flosum','fillFileByNames','loadAsync','9bDAEYN','432158ovwJsF','mdlFileByName','toString','attachmentBodies','file','addComponentsToMainZip','migration__v','460DjzrLz','dependencyFileByName','set','VeevaConstants','null','deploymentName','4ErISBH','xml2js','parse','get','756679snQykh','files','1807936hiHWzT','constructor'];a343_0x1d86=function(){return _0x55d8ae;};return a343_0x1d86();}