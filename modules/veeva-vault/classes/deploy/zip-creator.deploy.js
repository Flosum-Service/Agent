const a355_0x55b401=a355_0x2b60;(function(_0x2f2813,_0x47829b){const _0x4f1946=a355_0x2b60,_0x3401bd=_0x2f2813();while(!![]){try{const _0x1abcca=parseInt(_0x4f1946(0x1ff))/0x1*(-parseInt(_0x4f1946(0x208))/0x2)+-parseInt(_0x4f1946(0x1f8))/0x3+parseInt(_0x4f1946(0x1f6))/0x4+-parseInt(_0x4f1946(0x214))/0x5*(parseInt(_0x4f1946(0x21a))/0x6)+parseInt(_0x4f1946(0x21c))/0x7+-parseInt(_0x4f1946(0x21d))/0x8*(-parseInt(_0x4f1946(0x20e))/0x9)+parseInt(_0x4f1946(0x21b))/0xa*(parseInt(_0x4f1946(0x206))/0xb);if(_0x1abcca===_0x47829b)break;else _0x3401bd['push'](_0x3401bd['shift']());}catch(_0x3642b5){_0x3401bd['push'](_0x3401bd['shift']());}}}(a355_0x2c40,0xc0011));const a355_0x3548cc=(function(){let _0x278534=!![];return function(_0x1cad24,_0x5be723){const _0x5bdf63=_0x278534?function(){const _0x510345=a355_0x2b60;if(_0x5be723){const _0x585e5a=_0x5be723[_0x510345(0x209)](_0x1cad24,arguments);return _0x5be723=null,_0x585e5a;}}:function(){};return _0x278534=![],_0x5bdf63;};}()),a355_0x3a7315=a355_0x3548cc(this,function(){const _0x1b86d3=a355_0x2b60;return a355_0x3a7315[_0x1b86d3(0x212)]()[_0x1b86d3(0x217)](_0x1b86d3(0x213))[_0x1b86d3(0x212)]()[_0x1b86d3(0x1fc)](a355_0x3a7315)[_0x1b86d3(0x217)]('(((.+)+)+)+$');});a355_0x3a7315();function a355_0x2c40(){const _0x824acb=['files','Deploy','3414CWRKdP','757930wPXgTm','5858979PXrPiS','8BJNvdK','filter','addComponentsToMainZip','dependencyFileByName','nodebuffer','buildObject','VeevaConstants','../../constants/veeva.constants','Builder','execute','set','attachmentBodies','mainZip','migration__v','path','get','2969884Zaphum','has','2222985Qrodgh','mdlFileByName','from','./sequence-creator.deploy','constructor','parse','__esModule','531nBWkux','https://veevavault.com/','null','fillFileByNames','deploymentName','default','keys','286Cicscw','jszip','4942TLlmCE','apply','string','addVaultPackageFileToMainZip','MDL_EXTENSION','ZipCreatorDeploy','600417AxqmnR','generateAsync','__importDefault','file','toString','(((.+)+)+)+$','6830LAZTYR','SequenceCreatorDeploy','defineProperty','search'];a355_0x2c40=function(){return _0x824acb;};return a355_0x2c40();}'use strict';var __importDefault=this&&this[a355_0x55b401(0x210)]||function(_0x5c24e5){const _0x5c676b=a355_0x55b401;return _0x5c24e5&&_0x5c24e5[_0x5c676b(0x1fe)]?_0x5c24e5:{'default':_0x5c24e5};};Object[a355_0x55b401(0x216)](exports,a355_0x55b401(0x1fe),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a355_0x55b401(0x207))),sequence_creator_deploy_1=require(a355_0x55b401(0x1fb)),xml2js_1=require('xml2js'),veeva_constants_1=require(a355_0x55b401(0x224)),path_1=__importDefault(require(a355_0x55b401(0x1f4))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x4c8400,deploymentName:_0x75e8ed}){const _0x478a8b=a355_0x55b401;this[_0x478a8b(0x220)]=new Map(),this['mdlFileByName']=new Map(),this['mainZip']=new jszip_1['default'](),this[_0x478a8b(0x1f1)]=_0x4c8400,this[_0x478a8b(0x203)]=_0x75e8ed;}async[a355_0x55b401(0x202)](){const _0x355563=a355_0x55b401;var _0xc7332c;for(const _0x2146b5 of this[_0x355563(0x1f1)]){const _0x39460e=new jszip_1[(_0x355563(0x204))]();await _0x39460e['loadAsync'](_0x2146b5,{'base64':!![]});for(const _0x48b72a in _0x39460e[_0x355563(0x218)]){const _0x35bc1f=await((_0xc7332c=_0x39460e[_0x355563(0x211)](_0x48b72a))===null||_0xc7332c===void 0x0?void 0x0:_0xc7332c['async'](_0x355563(0x20a)));if(!_0x35bc1f)continue;const {name:_0x97830e,ext:_0x48643c}=path_1[_0x355563(0x204)][_0x355563(0x1fd)](_0x48b72a);switch(_0x48643c){case veeva_constants_1[_0x355563(0x223)]['DEPENDENCY_EXTENSION']:this[_0x355563(0x220)][_0x355563(0x227)](_0x97830e,_0x35bc1f);break;case veeva_constants_1['VeevaConstants'][_0x355563(0x20c)]:this['mdlFileByName']['set'](_0x97830e,_0x35bc1f);break;}}}}['addComponentsToMainZip'](_0x131dd6){const _0x2ee230=a355_0x55b401;for(const _0x7b75b1 of _0x131dd6){const _0x1aacc8=this['mdlFileByName'][_0x2ee230(0x1f5)](_0x7b75b1);_0x1aacc8&&this['mainZip'][_0x2ee230(0x211)](_0x7b75b1+veeva_constants_1['VeevaConstants']['MDL_EXTENSION'],_0x1aacc8);}}[a355_0x55b401(0x20b)](){const _0x447687=a355_0x55b401,_0x16f381=new xml2js_1[(_0x447687(0x225))]({'headless':!![]}),_0x47a53b={'vaultpackage':{'$':{'xmlns':_0x447687(0x200)},'name':this[_0x447687(0x203)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x447687(0x1f3),'summary':_0x447687(0x219),'description':_0x447687(0x201)}};this[_0x447687(0x1f2)][_0x447687(0x211)](VAULT_PACKAGE_FILENAME,_0x16f381[_0x447687(0x222)](_0x47a53b));}async[a355_0x55b401(0x226)](){const _0x2589cb=a355_0x55b401;await this[_0x2589cb(0x202)]();const _0x598222=Array[_0x2589cb(0x1fa)](this[_0x2589cb(0x1f9)][_0x2589cb(0x205)]())[_0x2589cb(0x21e)](_0x21d2a3=>!this[_0x2589cb(0x220)][_0x2589cb(0x1f7)](_0x21d2a3)),_0x22c7a4=new sequence_creator_deploy_1[(_0x2589cb(0x215))]({'dependencyFileByName':this[_0x2589cb(0x220)]})[_0x2589cb(0x226)]();return this[_0x2589cb(0x21f)](_0x598222),this[_0x2589cb(0x21f)](_0x22c7a4),this[_0x2589cb(0x20b)](),this[_0x2589cb(0x1f2)][_0x2589cb(0x20f)]({'type':_0x2589cb(0x221)});}}function a355_0x2b60(_0x2d3712,_0x2cbf63){const _0x4b8ade=a355_0x2c40();return a355_0x2b60=function(_0x3a7315,_0x3548cc){_0x3a7315=_0x3a7315-0x1f1;let _0x2c402b=_0x4b8ade[_0x3a7315];return _0x2c402b;},a355_0x2b60(_0x2d3712,_0x2cbf63);}exports[a355_0x55b401(0x20d)]=ZipCreatorDeploy;