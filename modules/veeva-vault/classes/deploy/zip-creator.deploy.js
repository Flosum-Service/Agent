const a355_0x2dd3a0=a355_0x401a;(function(_0x9eeb8f,_0x352b29){const _0x1268b2=a355_0x401a,_0x2ac630=_0x9eeb8f();while(!![]){try{const _0x42176e=-parseInt(_0x1268b2(0x1fe))/0x1*(-parseInt(_0x1268b2(0x1df))/0x2)+-parseInt(_0x1268b2(0x1e6))/0x3+-parseInt(_0x1268b2(0x1ee))/0x4*(-parseInt(_0x1268b2(0x1ec))/0x5)+parseInt(_0x1268b2(0x1ea))/0x6+-parseInt(_0x1268b2(0x203))/0x7+-parseInt(_0x1268b2(0x1f6))/0x8+-parseInt(_0x1268b2(0x20d))/0x9;if(_0x42176e===_0x352b29)break;else _0x2ac630['push'](_0x2ac630['shift']());}catch(_0x354d1b){_0x2ac630['push'](_0x2ac630['shift']());}}}(a355_0x225e,0x7c2fa));const a355_0x3a66e2=(function(){let _0x4462ce=!![];return function(_0x563c13,_0x3741e2){const _0x2fbadc=_0x4462ce?function(){if(_0x3741e2){const _0x47eba0=_0x3741e2['apply'](_0x563c13,arguments);return _0x3741e2=null,_0x47eba0;}}:function(){};return _0x4462ce=![],_0x2fbadc;};}()),a355_0x272627=a355_0x3a66e2(this,function(){const _0x4a5772=a355_0x401a;return a355_0x272627['toString']()[_0x4a5772(0x208)](_0x4a5772(0x20e))[_0x4a5772(0x1fc)]()[_0x4a5772(0x1fb)](a355_0x272627)[_0x4a5772(0x208)](_0x4a5772(0x20e));});a355_0x272627();function a355_0x401a(_0x26d472,_0x569808){const _0x2ebd5b=a355_0x225e();return a355_0x401a=function(_0x272627,_0x3a66e2){_0x272627=_0x272627-0x1de;let _0x225ea3=_0x2ebd5b[_0x272627];return _0x225ea3;},a355_0x401a(_0x26d472,_0x569808);}'use strict';var __importDefault=this&&this[a355_0x2dd3a0(0x1fd)]||function(_0x242e80){const _0x488183=a355_0x2dd3a0;return _0x242e80&&_0x242e80[_0x488183(0x20a)]?_0x242e80:{'default':_0x242e80};};function a355_0x225e(){const _0x155379=['mainZip','https://veevavault.com/','null','852831JfonGn','mdlFileByName','DEPENDENCY_EXTENSION','set','dependencyFileByName','search','ZipCreatorDeploy','__esModule','keys','./sequence-creator.deploy','3483774wqQGwp','(((.+)+)+)+$','generateAsync','string','365652JRRgjO','SequenceCreatorDeploy','has','async','execute','loadAsync','Builder','454362HxDGos','nodebuffer','parse','attachmentBodies','2172084aTlghr','VeevaConstants','3463545tlODLh','addComponentsToMainZip','4eWYVZs','defineProperty','xml2js','addVaultPackageFileToMainZip','from','filter','file','path','3473296tGLrTx','jszip','default','fillFileByNames','MDL_EXTENSION','constructor','toString','__importDefault','3ePyDSU','deploymentName'];a355_0x225e=function(){return _0x155379;};return a355_0x225e();}Object[a355_0x2dd3a0(0x1ef)](exports,a355_0x2dd3a0(0x20a),{'value':!![]}),exports[a355_0x2dd3a0(0x209)]=void 0x0;const jszip_1=__importDefault(require(a355_0x2dd3a0(0x1f7))),sequence_creator_deploy_1=require(a355_0x2dd3a0(0x20c)),xml2js_1=require(a355_0x2dd3a0(0x1f0)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require(a355_0x2dd3a0(0x1f5))),VAULT_PACKAGE_FILENAME='vaultpackage.xml';class ZipCreatorDeploy{constructor({attachmentBodies:_0x4e80ed,deploymentName:_0x545702}){const _0x424b57=a355_0x2dd3a0;this[_0x424b57(0x207)]=new Map(),this[_0x424b57(0x204)]=new Map(),this['mainZip']=new jszip_1[(_0x424b57(0x1f8))](),this[_0x424b57(0x1e9)]=_0x4e80ed,this[_0x424b57(0x1ff)]=_0x545702;}async[a355_0x2dd3a0(0x1f9)](){const _0x31d85c=a355_0x2dd3a0;var _0x3ab252;for(const _0x4d0053 of this[_0x31d85c(0x1e9)]){const _0x2e43a3=new jszip_1[(_0x31d85c(0x1f8))]();await _0x2e43a3[_0x31d85c(0x1e4)](_0x4d0053,{'base64':!![]});for(const _0x231009 in _0x2e43a3['files']){const _0x2a7826=await((_0x3ab252=_0x2e43a3[_0x31d85c(0x1f4)](_0x231009))===null||_0x3ab252===void 0x0?void 0x0:_0x3ab252[_0x31d85c(0x1e2)](_0x31d85c(0x1de)));if(!_0x2a7826)continue;const {name:_0x45c016,ext:_0x12947e}=path_1['default'][_0x31d85c(0x1e8)](_0x231009);switch(_0x12947e){case veeva_constants_1[_0x31d85c(0x1eb)][_0x31d85c(0x205)]:this['dependencyFileByName']['set'](_0x45c016,_0x2a7826);break;case veeva_constants_1[_0x31d85c(0x1eb)][_0x31d85c(0x1fa)]:this[_0x31d85c(0x204)][_0x31d85c(0x206)](_0x45c016,_0x2a7826);break;}}}}[a355_0x2dd3a0(0x1ed)](_0x313ce){const _0x1d76df=a355_0x2dd3a0;for(const _0xf6cf8e of _0x313ce){const _0x4f4fcb=this[_0x1d76df(0x204)]['get'](_0xf6cf8e);_0x4f4fcb&&this[_0x1d76df(0x200)][_0x1d76df(0x1f4)](_0xf6cf8e+veeva_constants_1[_0x1d76df(0x1eb)][_0x1d76df(0x1fa)],_0x4f4fcb);}}['addVaultPackageFileToMainZip'](){const _0x161216=a355_0x2dd3a0,_0x51d01d=new xml2js_1[(_0x161216(0x1e5))]({'headless':!![]}),_0x203b7a={'vaultpackage':{'$':{'xmlns':_0x161216(0x201)},'name':this[_0x161216(0x1ff)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':'migration__v','summary':'Deploy','description':_0x161216(0x202)}};this[_0x161216(0x200)]['file'](VAULT_PACKAGE_FILENAME,_0x51d01d['buildObject'](_0x203b7a));}async[a355_0x2dd3a0(0x1e3)](){const _0x1f0501=a355_0x2dd3a0;await this[_0x1f0501(0x1f9)]();const _0x32fd20=Array[_0x1f0501(0x1f2)](this[_0x1f0501(0x204)][_0x1f0501(0x20b)]())[_0x1f0501(0x1f3)](_0x134fbd=>!this[_0x1f0501(0x207)][_0x1f0501(0x1e1)](_0x134fbd)),_0x3790b2=new sequence_creator_deploy_1[(_0x1f0501(0x1e0))]({'dependencyFileByName':this['dependencyFileByName']})['execute']();return this[_0x1f0501(0x1ed)](_0x32fd20),this['addComponentsToMainZip'](_0x3790b2),this[_0x1f0501(0x1f1)](),this[_0x1f0501(0x200)][_0x1f0501(0x20f)]({'type':_0x1f0501(0x1e7)});}}exports[a355_0x2dd3a0(0x209)]=ZipCreatorDeploy;