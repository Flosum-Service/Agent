const a310_0x278f1b=a310_0x5cd6;(function(_0x1ab9e8,_0x3f3797){const _0x1c060e=a310_0x5cd6,_0x1a3be8=_0x1ab9e8();while(!![]){try{const _0x10fd35=-parseInt(_0x1c060e(0xa5))/0x1*(parseInt(_0x1c060e(0x8d))/0x2)+parseInt(_0x1c060e(0xb1))/0x3*(-parseInt(_0x1c060e(0x87))/0x4)+parseInt(_0x1c060e(0xa6))/0x5*(-parseInt(_0x1c060e(0x92))/0x6)+-parseInt(_0x1c060e(0xa2))/0x7*(parseInt(_0x1c060e(0x94))/0x8)+-parseInt(_0x1c060e(0x8a))/0x9+-parseInt(_0x1c060e(0x9f))/0xa+-parseInt(_0x1c060e(0xab))/0xb*(-parseInt(_0x1c060e(0x8e))/0xc);if(_0x10fd35===_0x3f3797)break;else _0x1a3be8['push'](_0x1a3be8['shift']());}catch(_0x4ab975){_0x1a3be8['push'](_0x1a3be8['shift']());}}}(a310_0x5ff5,0x24dcf));function a310_0x5ff5(){const _0x314137=['33aqGEGC','../../constants/veeva.constants','mdlFileByName','generateAsync','mainZip','jszip','4806kTWAQw','from','DEPENDENCY_EXTENSION','null','fillFileByNames','file','filter','Flosum','toString','vaultpackage.xml','VeevaConstants','652EFDEWc','https://veevavault.com/','attachmentBodies','1440144cZOjwj','migration__v','addComponentsToMainZip','4cfuSxu','3993732MyRiMi','__esModule','loadAsync','has','384558vFjmVl','addVaultPackageFileToMainZip','1808kioNlv','constructor','defineProperty','default','__importDefault','buildObject','MDL_EXTENSION','keys','Deploy','nodebuffer','./sequence-creator.deploy','1578330vaqspU','execute','ZipCreatorDeploy','784jmTFfM','set','(((.+)+)+)+$','89531eZyZIr','5ILPWki','search','files','deploymentName','dependencyFileByName'];a310_0x5ff5=function(){return _0x314137;};return a310_0x5ff5();}const a310_0x5cc2fe=(function(){let _0x3f846c=!![];return function(_0x1375ef,_0x5b05ab){const _0x4dc6eb=_0x3f846c?function(){if(_0x5b05ab){const _0x1e0227=_0x5b05ab['apply'](_0x1375ef,arguments);return _0x5b05ab=null,_0x1e0227;}}:function(){};return _0x3f846c=![],_0x4dc6eb;};}()),a310_0x410004=a310_0x5cc2fe(this,function(){const _0xd79e4c=a310_0x5cd6;return a310_0x410004[_0xd79e4c(0x84)]()[_0xd79e4c(0xa7)](_0xd79e4c(0xa4))[_0xd79e4c(0x84)]()[_0xd79e4c(0x95)](a310_0x410004)['search'](_0xd79e4c(0xa4));});a310_0x410004();'use strict';var __importDefault=this&&this[a310_0x278f1b(0x98)]||function(_0x5847e2){return _0x5847e2&&_0x5847e2['__esModule']?_0x5847e2:{'default':_0x5847e2};};function a310_0x5cd6(_0x1a3993,_0x56e5ca){const _0x3941ba=a310_0x5ff5();return a310_0x5cd6=function(_0x410004,_0x5cc2fe){_0x410004=_0x410004-0x84;let _0x5ff544=_0x3941ba[_0x410004];return _0x5ff544;},a310_0x5cd6(_0x1a3993,_0x56e5ca);}Object[a310_0x278f1b(0x96)](exports,a310_0x278f1b(0x8f),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a310_0x278f1b(0xb0))),sequence_creator_deploy_1=require(a310_0x278f1b(0x9e)),xml2js_1=require('xml2js'),veeva_constants_1=require(a310_0x278f1b(0xac)),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME=a310_0x278f1b(0x85);class ZipCreatorDeploy{constructor({attachmentBodies:_0x4b7ff1,deploymentName:_0x15ce27}){const _0x53dce9=a310_0x278f1b;this[_0x53dce9(0xaa)]=new Map(),this[_0x53dce9(0xad)]=new Map(),this[_0x53dce9(0xaf)]=new jszip_1['default'](),this[_0x53dce9(0x89)]=_0x4b7ff1,this[_0x53dce9(0xa9)]=_0x15ce27;}async[a310_0x278f1b(0xb5)](){const _0x1c32f9=a310_0x278f1b;var _0x6a3e2b;for(const _0x425866 of this['attachmentBodies']){const _0x59830f=new jszip_1[(_0x1c32f9(0x97))]();await _0x59830f[_0x1c32f9(0x90)](_0x425866,{'base64':!![]});for(const _0x4351a5 in _0x59830f[_0x1c32f9(0xa8)]){const _0x1d800f=await((_0x6a3e2b=_0x59830f[_0x1c32f9(0xb6)](_0x4351a5))===null||_0x6a3e2b===void 0x0?void 0x0:_0x6a3e2b['async']('string'));if(!_0x1d800f)continue;const {name:_0x5b2366,ext:_0x29b768}=path_1[_0x1c32f9(0x97)]['parse'](_0x4351a5);switch(_0x29b768){case veeva_constants_1[_0x1c32f9(0x86)][_0x1c32f9(0xb3)]:this[_0x1c32f9(0xaa)][_0x1c32f9(0xa3)](_0x5b2366,_0x1d800f);break;case veeva_constants_1[_0x1c32f9(0x86)][_0x1c32f9(0x9a)]:this[_0x1c32f9(0xad)][_0x1c32f9(0xa3)](_0x5b2366,_0x1d800f);break;}}}}[a310_0x278f1b(0x8c)](_0x72f32e){const _0x12a93b=a310_0x278f1b;for(const _0x33e258 of _0x72f32e){const _0x363b62=this['mdlFileByName']['get'](_0x33e258);_0x363b62&&this[_0x12a93b(0xaf)][_0x12a93b(0xb6)](_0x33e258+veeva_constants_1[_0x12a93b(0x86)][_0x12a93b(0x9a)],_0x363b62);}}[a310_0x278f1b(0x93)](){const _0x13e56f=a310_0x278f1b,_0x45e9b5=new xml2js_1['Builder']({'headless':!![]}),_0x49a2bd={'vaultpackage':{'$':{'xmlns':_0x13e56f(0x88)},'name':this[_0x13e56f(0xa9)],'source':{'vault':undefined,'author':_0x13e56f(0xb8)},'packagetype':_0x13e56f(0x8b),'summary':_0x13e56f(0x9c),'description':_0x13e56f(0xb4)}};this['mainZip'][_0x13e56f(0xb6)](VAULT_PACKAGE_FILENAME,_0x45e9b5[_0x13e56f(0x99)](_0x49a2bd));}async[a310_0x278f1b(0xa0)](){const _0x3bb9f5=a310_0x278f1b;await this[_0x3bb9f5(0xb5)]();const _0xe29142=Array[_0x3bb9f5(0xb2)](this[_0x3bb9f5(0xad)][_0x3bb9f5(0x9b)]())[_0x3bb9f5(0xb7)](_0x1cd3b7=>!this[_0x3bb9f5(0xaa)][_0x3bb9f5(0x91)](_0x1cd3b7)),_0x36f439=new sequence_creator_deploy_1['SequenceCreatorDeploy']({'dependencyFileByName':this[_0x3bb9f5(0xaa)]})[_0x3bb9f5(0xa0)]();return this[_0x3bb9f5(0x8c)](_0xe29142),this[_0x3bb9f5(0x8c)](_0x36f439),this[_0x3bb9f5(0x93)](),this[_0x3bb9f5(0xaf)][_0x3bb9f5(0xae)]({'type':_0x3bb9f5(0x9d)});}}exports[a310_0x278f1b(0xa1)]=ZipCreatorDeploy;