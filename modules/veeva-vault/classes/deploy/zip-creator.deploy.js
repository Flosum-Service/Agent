const a311_0x516e2d=a311_0x1c62;(function(_0x12a8a6,_0x5e6f88){const _0x3a4ef4=a311_0x1c62,_0x45e372=_0x12a8a6();while(!![]){try{const _0x1da6e7=parseInt(_0x3a4ef4(0x214))/0x1*(parseInt(_0x3a4ef4(0x20f))/0x2)+-parseInt(_0x3a4ef4(0x215))/0x3*(-parseInt(_0x3a4ef4(0x201))/0x4)+parseInt(_0x3a4ef4(0x1fc))/0x5+-parseInt(_0x3a4ef4(0x1fd))/0x6+-parseInt(_0x3a4ef4(0x1fb))/0x7+parseInt(_0x3a4ef4(0x21a))/0x8+parseInt(_0x3a4ef4(0x1f8))/0x9*(-parseInt(_0x3a4ef4(0x21b))/0xa);if(_0x1da6e7===_0x5e6f88)break;else _0x45e372['push'](_0x45e372['shift']());}catch(_0xef8d61){_0x45e372['push'](_0x45e372['shift']());}}}(a311_0x4538,0x48051));const a311_0x27d377=(function(){let _0x4e852b=!![];return function(_0x5537c3,_0x2030bf){const _0x16e204=_0x4e852b?function(){const _0x4a0552=a311_0x1c62;if(_0x2030bf){const _0x544770=_0x2030bf[_0x4a0552(0x211)](_0x5537c3,arguments);return _0x2030bf=null,_0x544770;}}:function(){};return _0x4e852b=![],_0x16e204;};}()),a311_0x32a30b=a311_0x27d377(this,function(){const _0x5a8a55=a311_0x1c62;return a311_0x32a30b[_0x5a8a55(0x213)]()[_0x5a8a55(0x20e)](_0x5a8a55(0x1f5))[_0x5a8a55(0x213)]()[_0x5a8a55(0x21e)](a311_0x32a30b)[_0x5a8a55(0x20e)](_0x5a8a55(0x1f5));});function a311_0x4538(){const _0x54ea3d=['filter','jszip','ZipCreatorDeploy','12WeDRAT','mainZip','./sequence-creator.deploy','from','execute','addComponentsToMainZip','fillFileByNames','file','keys','Builder','async','VeevaConstants','xml2js','search','4778nfQaqI','default','apply','has','toString','219bUqlOx','111933HReIzc','string','deploymentName','__importDefault','__esModule','2622392ttzjOt','2620NxNkoo','https://veevavault.com/','generateAsync','constructor','set','null','attachmentBodies','files','get','dependencyFileByName','MDL_EXTENSION','(((.+)+)+)+$','defineProperty','mdlFileByName','24417CmOPZh','SequenceCreatorDeploy','vaultpackage.xml','1640653hYBTFx','2659525xtpytn','1527900eqirQn'];a311_0x4538=function(){return _0x54ea3d;};return a311_0x4538();}a311_0x32a30b();'use strict';function a311_0x1c62(_0x3529ba,_0x19c5c1){const _0x2176ed=a311_0x4538();return a311_0x1c62=function(_0x32a30b,_0x27d377){_0x32a30b=_0x32a30b-0x1f2;let _0x45385a=_0x2176ed[_0x32a30b];return _0x45385a;},a311_0x1c62(_0x3529ba,_0x19c5c1);}var __importDefault=this&&this[a311_0x516e2d(0x218)]||function(_0x13c8df){return _0x13c8df&&_0x13c8df['__esModule']?_0x13c8df:{'default':_0x13c8df};};Object[a311_0x516e2d(0x1f6)](exports,a311_0x516e2d(0x219),{'value':!![]}),exports['ZipCreatorDeploy']=void 0x0;const jszip_1=__importDefault(require(a311_0x516e2d(0x1ff))),sequence_creator_deploy_1=require(a311_0x516e2d(0x203)),xml2js_1=require(a311_0x516e2d(0x20d)),veeva_constants_1=require('../../constants/veeva.constants'),path_1=__importDefault(require('path')),VAULT_PACKAGE_FILENAME=a311_0x516e2d(0x1fa);class ZipCreatorDeploy{constructor({attachmentBodies:_0x21f463,deploymentName:_0x14bc09}){const _0x431e2d=a311_0x516e2d;this[_0x431e2d(0x1f3)]=new Map(),this[_0x431e2d(0x1f7)]=new Map(),this[_0x431e2d(0x202)]=new jszip_1[(_0x431e2d(0x210))](),this[_0x431e2d(0x221)]=_0x21f463,this[_0x431e2d(0x217)]=_0x14bc09;}async[a311_0x516e2d(0x207)](){const _0x4db100=a311_0x516e2d;var _0x292ac3;for(const _0x2bc83b of this['attachmentBodies']){const _0x4396d0=new jszip_1[(_0x4db100(0x210))]();await _0x4396d0['loadAsync'](_0x2bc83b,{'base64':!![]});for(const _0xd7bfbe in _0x4396d0[_0x4db100(0x222)]){const _0x20d669=await((_0x292ac3=_0x4396d0[_0x4db100(0x208)](_0xd7bfbe))===null||_0x292ac3===void 0x0?void 0x0:_0x292ac3[_0x4db100(0x20b)](_0x4db100(0x216)));if(!_0x20d669)continue;const {name:_0x3fd43d,ext:_0xabf712}=path_1[_0x4db100(0x210)]['parse'](_0xd7bfbe);switch(_0xabf712){case veeva_constants_1[_0x4db100(0x20c)]['DEPENDENCY_EXTENSION']:this[_0x4db100(0x1f3)][_0x4db100(0x21f)](_0x3fd43d,_0x20d669);break;case veeva_constants_1[_0x4db100(0x20c)][_0x4db100(0x1f4)]:this['mdlFileByName'][_0x4db100(0x21f)](_0x3fd43d,_0x20d669);break;}}}}[a311_0x516e2d(0x206)](_0xc3438){const _0x42ecf3=a311_0x516e2d;for(const _0x581f61 of _0xc3438){const _0x4f1f6a=this[_0x42ecf3(0x1f7)][_0x42ecf3(0x1f2)](_0x581f61);_0x4f1f6a&&this[_0x42ecf3(0x202)][_0x42ecf3(0x208)](_0x581f61+veeva_constants_1['VeevaConstants']['MDL_EXTENSION'],_0x4f1f6a);}}['addVaultPackageFileToMainZip'](){const _0x434ded=a311_0x516e2d,_0x1199fe=new xml2js_1[(_0x434ded(0x20a))]({'headless':!![]}),_0x492a53={'vaultpackage':{'$':{'xmlns':_0x434ded(0x21c)},'name':this['deploymentName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':'migration__v','summary':'Deploy','description':_0x434ded(0x220)}};this['mainZip'][_0x434ded(0x208)](VAULT_PACKAGE_FILENAME,_0x1199fe['buildObject'](_0x492a53));}async[a311_0x516e2d(0x205)](){const _0x266d94=a311_0x516e2d;await this[_0x266d94(0x207)]();const _0x98f17d=Array[_0x266d94(0x204)](this[_0x266d94(0x1f7)][_0x266d94(0x209)]())[_0x266d94(0x1fe)](_0x4d78f0=>!this[_0x266d94(0x1f3)][_0x266d94(0x212)](_0x4d78f0)),_0x3b425e=new sequence_creator_deploy_1[(_0x266d94(0x1f9))]({'dependencyFileByName':this[_0x266d94(0x1f3)]})[_0x266d94(0x205)]();return this[_0x266d94(0x206)](_0x98f17d),this[_0x266d94(0x206)](_0x3b425e),this['addVaultPackageFileToMainZip'](),this[_0x266d94(0x202)][_0x266d94(0x21d)]({'type':'nodebuffer'});}}exports[a311_0x516e2d(0x200)]=ZipCreatorDeploy;