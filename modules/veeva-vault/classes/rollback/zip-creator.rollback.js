const a378_0xc0d3a9=a378_0x3500;function a378_0x3500(_0x12bf50,_0x5e2377){const _0xf4dcd4=a378_0x4e9e();return a378_0x3500=function(_0x2867e6,_0x203768){_0x2867e6=_0x2867e6-0x16a;let _0x4e9e1d=_0xf4dcd4[_0x2867e6];return _0x4e9e1d;},a378_0x3500(_0x12bf50,_0x5e2377);}(function(_0x1ffcdb,_0x4e776a){const _0x58138e=a378_0x3500,_0x49e0a8=_0x1ffcdb();while(!![]){try{const _0x5a9aca=parseInt(_0x58138e(0x16f))/0x1*(-parseInt(_0x58138e(0x186))/0x2)+-parseInt(_0x58138e(0x16b))/0x3*(parseInt(_0x58138e(0x17a))/0x4)+parseInt(_0x58138e(0x16c))/0x5*(parseInt(_0x58138e(0x193))/0x6)+parseInt(_0x58138e(0x18b))/0x7+-parseInt(_0x58138e(0x16e))/0x8*(-parseInt(_0x58138e(0x175))/0x9)+parseInt(_0x58138e(0x177))/0xa+parseInt(_0x58138e(0x16d))/0xb*(-parseInt(_0x58138e(0x189))/0xc);if(_0x5a9aca===_0x4e776a)break;else _0x49e0a8['push'](_0x49e0a8['shift']());}catch(_0x44eb89){_0x49e0a8['push'](_0x49e0a8['shift']());}}}(a378_0x4e9e,0x6497a));const a378_0x203768=(function(){let _0x14d6fa=!![];return function(_0x218d36,_0x56c466){const _0x3d35a2=_0x14d6fa?function(){const _0x128a80=a378_0x3500;if(_0x56c466){const _0x5cc9c8=_0x56c466[_0x128a80(0x18f)](_0x218d36,arguments);return _0x56c466=null,_0x5cc9c8;}}:function(){};return _0x14d6fa=![],_0x3d35a2;};}()),a378_0x2867e6=a378_0x203768(this,function(){const _0x558efa=a378_0x3500;return a378_0x2867e6[_0x558efa(0x182)]()[_0x558efa(0x17f)]('(((.+)+)+)+$')[_0x558efa(0x182)]()[_0x558efa(0x16a)](a378_0x2867e6)[_0x558efa(0x17f)](_0x558efa(0x173));});a378_0x2867e6();'use strict';var __importDefault=this&&this[a378_0xc0d3a9(0x171)]||function(_0x226c15){const _0x2a1b2b=a378_0xc0d3a9;return _0x226c15&&_0x226c15[_0x2a1b2b(0x174)]?_0x226c15:{'default':_0x226c15};};Object[a378_0xc0d3a9(0x195)](exports,a378_0xc0d3a9(0x174),{'value':!![]}),exports[a378_0xc0d3a9(0x18c)]=void 0x0;const jszip_1=__importDefault(require('jszip')),factory_body_creator_rollback_1=require('./body-creator/factory.body-creator.rollback'),xml2js_1=require(a378_0xc0d3a9(0x170));function a378_0x4e9e(){const _0x3c8f51=['_rollbackName','buildObject','toString','vaultpackage.xml','_backup','_zip','2sKVXjj','loadAsync','_backupZip','13548agozgG','migration__v','5225206fXhgMZ','ZipCreatorRollback','https://veevavault.com/','sort','apply','default','create','createZips','554970TMVdXg','FactoryBodyCreatorRollback','defineProperty','_deploymentResults','file','constructor','1473123VzASUY','5JpxAmQ','572JluwzC','11696tTlVHw','754618WoJfSC','xml2js','__importDefault','Flosum','(((.+)+)+)+$','__esModule','504YkEGnX','sortDeploymentResults','7955680qVvuEP','null','.mdl','4mxqhQJ','fillZip','Rollback','nodebuffer','stepName','search'];a378_0x4e9e=function(){return _0x3c8f51;};return a378_0x4e9e();}class ZipCreatorRollback{constructor({deploymentResults:_0x381c47,backup:_0x24c159,rollbackName:_0x25f940}){const _0x2a9cb7=a378_0xc0d3a9;this['_deploymentResults']=_0x381c47,this[_0x2a9cb7(0x180)]=_0x25f940,this[_0x2a9cb7(0x184)]=_0x24c159;}async[a378_0xc0d3a9(0x192)](){const _0x414f57=a378_0xc0d3a9;this[_0x414f57(0x188)]=new jszip_1[(_0x414f57(0x190))](),this[_0x414f57(0x185)]=new jszip_1[(_0x414f57(0x190))](),await this[_0x414f57(0x188)][_0x414f57(0x187)](this['_backup'],{'base64':!![]});}[a378_0xc0d3a9(0x176)](){const _0x5c339a=a378_0xc0d3a9;this[_0x5c339a(0x196)][_0x5c339a(0x18e)]((_0x4afd9d,_0x561c0b)=>_0x4afd9d[_0x5c339a(0x17e)]<_0x561c0b[_0x5c339a(0x17e)]?0x1:_0x561c0b[_0x5c339a(0x17e)]<_0x4afd9d[_0x5c339a(0x17e)]?-0x1:0x0);}async[a378_0xc0d3a9(0x17b)](){const _0x3288b6=a378_0xc0d3a9;for(const _0x3ace16 of this[_0x3288b6(0x196)]){const _0x26b35d=await factory_body_creator_rollback_1[_0x3288b6(0x194)]['create']({'deploymentResult':_0x3ace16,'backupZip':this[_0x3288b6(0x188)]})['create'](),{type:_0x4e1e5e,name:_0x232304}=_0x3ace16;this[_0x3288b6(0x185)][_0x3288b6(0x197)](_0x4e1e5e+'.'+_0x232304+_0x3288b6(0x179),_0x26b35d);}const _0x4a5f32=new xml2js_1['Builder']({'headless':!![]}),_0xc7d718={'vaultpackage':{'$':{'xmlns':_0x3288b6(0x18d)},'name':this[_0x3288b6(0x180)],'source':{'vault':undefined,'author':_0x3288b6(0x172)},'packagetype':_0x3288b6(0x18a),'summary':_0x3288b6(0x17c),'description':_0x3288b6(0x178)}};this['_zip']['file'](_0x3288b6(0x183),_0x4a5f32[_0x3288b6(0x181)](_0xc7d718));}async[a378_0xc0d3a9(0x191)](){const _0x4fa917=a378_0xc0d3a9;return await this[_0x4fa917(0x192)](),this[_0x4fa917(0x176)](),await this[_0x4fa917(0x17b)](),this['_zip']['generateAsync']({'type':_0x4fa917(0x17d)});}}exports[a378_0xc0d3a9(0x18c)]=ZipCreatorRollback;