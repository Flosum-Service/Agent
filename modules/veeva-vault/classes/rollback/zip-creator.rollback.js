function a379_0x3e0e(){const _0x3b8098=['xml2js','_deploymentResults','__importDefault','Flosum','2roHrBu','__esModule','464681jhkUKq','Builder','FactoryBodyCreatorRollback','_backup','create','migration__v','buildObject','7716590tmAoFZ','vaultpackage.xml','search','_zip','loadAsync','_backupZip','ZipCreatorRollback','346626PPpIfJ','jszip','toString','generateAsync','createZips','./body-creator/factory.body-creator.rollback','fillZip','1894132lCoSBg','.mdl','(((.+)+)+)+$','apply','2281488HKfIdO','24yVwPSQ','sortDeploymentResults','defineProperty','file','5KFmpnk','667589sPDvRN','stepName','2377692CsayoT','constructor','_rollbackName','default','https://veevavault.com/'];a379_0x3e0e=function(){return _0x3b8098;};return a379_0x3e0e();}const a379_0x5687f5=a379_0x116c;(function(_0x1aed02,_0xdcce2b){const _0x352b7a=a379_0x116c,_0x375c2f=_0x1aed02();while(!![]){try{const _0x5ec673=-parseInt(_0x352b7a(0x1d2))/0x1*(-parseInt(_0x352b7a(0x1dd))/0x2)+-parseInt(_0x352b7a(0x1ed))/0x3+parseInt(_0x352b7a(0x1c8))/0x4*(parseInt(_0x352b7a(0x1d1))/0x5)+-parseInt(_0x352b7a(0x1cc))/0x6+-parseInt(_0x352b7a(0x1df))/0x7*(-parseInt(_0x352b7a(0x1cd))/0x8)+parseInt(_0x352b7a(0x1d4))/0x9+-parseInt(_0x352b7a(0x1e6))/0xa;if(_0x5ec673===_0xdcce2b)break;else _0x375c2f['push'](_0x375c2f['shift']());}catch(_0x442d5c){_0x375c2f['push'](_0x375c2f['shift']());}}}(a379_0x3e0e,0x52472));const a379_0xf32c55=(function(){let _0xbdbd43=!![];return function(_0x320c63,_0x64047f){const _0x26b7dc=_0xbdbd43?function(){const _0x5141b0=a379_0x116c;if(_0x64047f){const _0x1c8090=_0x64047f[_0x5141b0(0x1cb)](_0x320c63,arguments);return _0x64047f=null,_0x1c8090;}}:function(){};return _0xbdbd43=![],_0x26b7dc;};}()),a379_0x1dd276=a379_0xf32c55(this,function(){const _0x5df60f=a379_0x116c;return a379_0x1dd276[_0x5df60f(0x1ef)]()[_0x5df60f(0x1e8)](_0x5df60f(0x1ca))[_0x5df60f(0x1ef)]()[_0x5df60f(0x1d5)](a379_0x1dd276)['search'](_0x5df60f(0x1ca));});a379_0x1dd276();function a379_0x116c(_0x2b1789,_0x2f4ac8){const _0x1f8e6a=a379_0x3e0e();return a379_0x116c=function(_0x1dd276,_0xf32c55){_0x1dd276=_0x1dd276-0x1c5;let _0x3e0e13=_0x1f8e6a[_0x1dd276];return _0x3e0e13;},a379_0x116c(_0x2b1789,_0x2f4ac8);}'use strict';var __importDefault=this&&this[a379_0x5687f5(0x1db)]||function(_0x554a38){const _0x3e005c=a379_0x5687f5;return _0x554a38&&_0x554a38[_0x3e005c(0x1de)]?_0x554a38:{'default':_0x554a38};};Object[a379_0x5687f5(0x1cf)](exports,a379_0x5687f5(0x1de),{'value':!![]}),exports[a379_0x5687f5(0x1ec)]=void 0x0;const jszip_1=__importDefault(require(a379_0x5687f5(0x1ee))),factory_body_creator_rollback_1=require(a379_0x5687f5(0x1c6)),xml2js_1=require(a379_0x5687f5(0x1d9));class ZipCreatorRollback{constructor({deploymentResults:_0x2367ea,backup:_0x527b3d,rollbackName:_0x57f9e7}){const _0x49dd4f=a379_0x5687f5;this[_0x49dd4f(0x1da)]=_0x2367ea,this[_0x49dd4f(0x1d6)]=_0x57f9e7,this['_backup']=_0x527b3d;}async[a379_0x5687f5(0x1c5)](){const _0x2543e1=a379_0x5687f5;this[_0x2543e1(0x1eb)]=new jszip_1['default'](),this['_zip']=new jszip_1[(_0x2543e1(0x1d7))](),await this[_0x2543e1(0x1eb)][_0x2543e1(0x1ea)](this[_0x2543e1(0x1e2)],{'base64':!![]});}[a379_0x5687f5(0x1ce)](){const _0x5f104b=a379_0x5687f5;this['_deploymentResults']['sort']((_0x18aa18,_0x1c7570)=>_0x18aa18[_0x5f104b(0x1d3)]<_0x1c7570[_0x5f104b(0x1d3)]?0x1:_0x1c7570[_0x5f104b(0x1d3)]<_0x18aa18[_0x5f104b(0x1d3)]?-0x1:0x0);}async['fillZip'](){const _0x1393f1=a379_0x5687f5;for(const _0x4c4b2b of this[_0x1393f1(0x1da)]){const _0x2130d0=await factory_body_creator_rollback_1[_0x1393f1(0x1e1)][_0x1393f1(0x1e3)]({'deploymentResult':_0x4c4b2b,'backupZip':this[_0x1393f1(0x1eb)]})[_0x1393f1(0x1e3)](),{type:_0x58db9a,name:_0x2a0b0a}=_0x4c4b2b;this[_0x1393f1(0x1e9)][_0x1393f1(0x1d0)](_0x58db9a+'.'+_0x2a0b0a+_0x1393f1(0x1c9),_0x2130d0);}const _0x35f20b=new xml2js_1[(_0x1393f1(0x1e0))]({'headless':!![]}),_0x3d2d15={'vaultpackage':{'$':{'xmlns':_0x1393f1(0x1d8)},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x1393f1(0x1dc)},'packagetype':_0x1393f1(0x1e4),'summary':'Rollback','description':'null'}};this['_zip'][_0x1393f1(0x1d0)](_0x1393f1(0x1e7),_0x35f20b[_0x1393f1(0x1e5)](_0x3d2d15));}async[a379_0x5687f5(0x1e3)](){const _0x3c103d=a379_0x5687f5;return await this[_0x3c103d(0x1c5)](),this[_0x3c103d(0x1ce)](),await this[_0x3c103d(0x1c7)](),this[_0x3c103d(0x1e9)][_0x3c103d(0x1f0)]({'type':'nodebuffer'});}}exports[a379_0x5687f5(0x1ec)]=ZipCreatorRollback;