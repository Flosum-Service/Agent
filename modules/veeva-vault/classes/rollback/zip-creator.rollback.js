const a379_0x33482c=a379_0x4a2c;(function(_0x4576af,_0x8c974a){const _0x3e7cc4=a379_0x4a2c,_0x1f3fe3=_0x4576af();while(!![]){try{const _0x5bf887=parseInt(_0x3e7cc4(0x134))/0x1+parseInt(_0x3e7cc4(0x144))/0x2*(-parseInt(_0x3e7cc4(0x12c))/0x3)+-parseInt(_0x3e7cc4(0x142))/0x4+parseInt(_0x3e7cc4(0x132))/0x5*(-parseInt(_0x3e7cc4(0x140))/0x6)+parseInt(_0x3e7cc4(0x137))/0x7+-parseInt(_0x3e7cc4(0x12e))/0x8*(-parseInt(_0x3e7cc4(0x12d))/0x9)+parseInt(_0x3e7cc4(0x13f))/0xa;if(_0x5bf887===_0x8c974a)break;else _0x1f3fe3['push'](_0x1f3fe3['shift']());}catch(_0x2c8518){_0x1f3fe3['push'](_0x1f3fe3['shift']());}}}(a379_0x28ba,0x8f189));const a379_0x2b96cc=(function(){let _0x336153=!![];return function(_0x3a0500,_0x8a6f17){const _0x5a6cd1=_0x336153?function(){const _0x120af9=a379_0x4a2c;if(_0x8a6f17){const _0x359cfb=_0x8a6f17[_0x120af9(0x13a)](_0x3a0500,arguments);return _0x8a6f17=null,_0x359cfb;}}:function(){};return _0x336153=![],_0x5a6cd1;};}()),a379_0xb7ffa3=a379_0x2b96cc(this,function(){const _0x53e445=a379_0x4a2c;return a379_0xb7ffa3[_0x53e445(0x11f)]()['search'](_0x53e445(0x125))[_0x53e445(0x11f)]()[_0x53e445(0x133)](a379_0xb7ffa3)[_0x53e445(0x121)](_0x53e445(0x125));});a379_0xb7ffa3();function a379_0x28ba(){const _0x4278fa=['(((.+)+)+)+$','__esModule','_rollbackName','createZips','.mdl','jszip','Rollback','3XrqLYQ','170523LOVgQi','472UsozYY','fillZip','ZipCreatorRollback','Flosum','90zzXsmu','constructor','592182cLcWPB','vaultpackage.xml','./body-creator/factory.body-creator.rollback','1615908nSPIVB','https://veevavault.com/','stepName','apply','_zip','_backup','defineProperty','sort','8307440gXfkOX','306498gshBRO','buildObject','653764vCgUOJ','file','2205174zULTdx','__importDefault','_backupZip','loadAsync','generateAsync','xml2js','toString','_deploymentResults','search','create','nodebuffer','sortDeploymentResults'];a379_0x28ba=function(){return _0x4278fa;};return a379_0x28ba();}'use strict';var __importDefault=this&&this[a379_0x33482c(0x145)]||function(_0x4b89d8){const _0x34efae=a379_0x33482c;return _0x4b89d8&&_0x4b89d8[_0x34efae(0x126)]?_0x4b89d8:{'default':_0x4b89d8};};Object[a379_0x33482c(0x13d)](exports,a379_0x33482c(0x126),{'value':!![]}),exports[a379_0x33482c(0x130)]=void 0x0;const jszip_1=__importDefault(require(a379_0x33482c(0x12a))),factory_body_creator_rollback_1=require(a379_0x33482c(0x136)),xml2js_1=require(a379_0x33482c(0x149));class ZipCreatorRollback{constructor({deploymentResults:_0x1a0b57,backup:_0x4c58e1,rollbackName:_0x247b88}){const _0x359ee6=a379_0x33482c;this[_0x359ee6(0x120)]=_0x1a0b57,this[_0x359ee6(0x127)]=_0x247b88,this[_0x359ee6(0x13c)]=_0x4c58e1;}async[a379_0x33482c(0x128)](){const _0x290f90=a379_0x33482c;this['_backupZip']=new jszip_1['default'](),this[_0x290f90(0x13b)]=new jszip_1['default'](),await this['_backupZip'][_0x290f90(0x147)](this[_0x290f90(0x13c)],{'base64':!![]});}[a379_0x33482c(0x124)](){const _0xd2557a=a379_0x33482c;this['_deploymentResults'][_0xd2557a(0x13e)]((_0x3ea438,_0x1f6171)=>_0x3ea438[_0xd2557a(0x139)]<_0x1f6171[_0xd2557a(0x139)]?0x1:_0x1f6171[_0xd2557a(0x139)]<_0x3ea438[_0xd2557a(0x139)]?-0x1:0x0);}async[a379_0x33482c(0x12f)](){const _0x4996d5=a379_0x33482c;for(const _0xe37d00 of this[_0x4996d5(0x120)]){const _0xdbaf3c=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback'][_0x4996d5(0x122)]({'deploymentResult':_0xe37d00,'backupZip':this[_0x4996d5(0x146)]})[_0x4996d5(0x122)](),{type:_0x651dd6,name:_0xc663ba}=_0xe37d00;this[_0x4996d5(0x13b)][_0x4996d5(0x143)](_0x651dd6+'.'+_0xc663ba+_0x4996d5(0x129),_0xdbaf3c);}const _0x5f036a=new xml2js_1['Builder']({'headless':!![]}),_0xa303be={'vaultpackage':{'$':{'xmlns':_0x4996d5(0x138)},'name':this[_0x4996d5(0x127)],'source':{'vault':undefined,'author':_0x4996d5(0x131)},'packagetype':'migration__v','summary':_0x4996d5(0x12b),'description':'null'}};this[_0x4996d5(0x13b)][_0x4996d5(0x143)](_0x4996d5(0x135),_0x5f036a[_0x4996d5(0x141)](_0xa303be));}async[a379_0x33482c(0x122)](){const _0x2d18e4=a379_0x33482c;return await this[_0x2d18e4(0x128)](),this[_0x2d18e4(0x124)](),await this[_0x2d18e4(0x12f)](),this[_0x2d18e4(0x13b)][_0x2d18e4(0x148)]({'type':_0x2d18e4(0x123)});}}function a379_0x4a2c(_0x1411fe,_0x13121d){const _0x16d79c=a379_0x28ba();return a379_0x4a2c=function(_0xb7ffa3,_0x2b96cc){_0xb7ffa3=_0xb7ffa3-0x11f;let _0x28ba0f=_0x16d79c[_0xb7ffa3];return _0x28ba0f;},a379_0x4a2c(_0x1411fe,_0x13121d);}exports['ZipCreatorRollback']=ZipCreatorRollback;