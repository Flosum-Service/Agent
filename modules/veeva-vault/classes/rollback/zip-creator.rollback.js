function a379_0x2eec(){const _0x5150b4=['51230CoEiUb','defineProperty','sort','Builder','apply','https://veevavault.com/','nodebuffer','_rollbackName','123814GnvhGi','530411qomQJD','null','1561599ybJesB','894280RUsXqx','(((.+)+)+)+$','search','toString','FactoryBodyCreatorRollback','./body-creator/factory.body-creator.rollback','file','loadAsync','131163CjBNhq','Rollback','default','buildObject','fillZip','12HThLyz','createZips','_backupZip','jszip','4BaHOfj','32315ISwtJM','constructor','vaultpackage.xml','migration__v','__esModule','_deploymentResults','_zip','_backup','stepName','sortDeploymentResults','.mdl','create'];a379_0x2eec=function(){return _0x5150b4;};return a379_0x2eec();}const a379_0x154ed6=a379_0x33c0;(function(_0x45dc91,_0x348bab){const _0x1de4bc=a379_0x33c0,_0x1586b3=_0x45dc91();while(!![]){try{const _0x320067=-parseInt(_0x1de4bc(0x17c))/0x1+parseInt(_0x1de4bc(0x184))/0x2+-parseInt(_0x1de4bc(0x190))/0x3+-parseInt(_0x1de4bc(0x16f))/0x4*(-parseInt(_0x1de4bc(0x170))/0x5)+-parseInt(_0x1de4bc(0x195))/0x6*(parseInt(_0x1de4bc(0x185))/0x7)+parseInt(_0x1de4bc(0x188))/0x8+parseInt(_0x1de4bc(0x187))/0x9;if(_0x320067===_0x348bab)break;else _0x1586b3['push'](_0x1586b3['shift']());}catch(_0x3ef0e9){_0x1586b3['push'](_0x1586b3['shift']());}}}(a379_0x2eec,0x1a2a1));function a379_0x33c0(_0x1a695e,_0x11ed3d){const _0x2d583c=a379_0x2eec();return a379_0x33c0=function(_0x2d16c6,_0x5e23fd){_0x2d16c6=_0x2d16c6-0x16e;let _0x2eec2b=_0x2d583c[_0x2d16c6];return _0x2eec2b;},a379_0x33c0(_0x1a695e,_0x11ed3d);}const a379_0x5e23fd=(function(){let _0x3aab72=!![];return function(_0x2c2b3c,_0x7d1adb){const _0x47f993=_0x3aab72?function(){const _0x3efb8e=a379_0x33c0;if(_0x7d1adb){const _0x3231d4=_0x7d1adb[_0x3efb8e(0x180)](_0x2c2b3c,arguments);return _0x7d1adb=null,_0x3231d4;}}:function(){};return _0x3aab72=![],_0x47f993;};}()),a379_0x2d16c6=a379_0x5e23fd(this,function(){const _0xcc751=a379_0x33c0;return a379_0x2d16c6[_0xcc751(0x18b)]()['search'](_0xcc751(0x189))[_0xcc751(0x18b)]()[_0xcc751(0x171)](a379_0x2d16c6)[_0xcc751(0x18a)]('(((.+)+)+)+$');});a379_0x2d16c6();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x48e64f){const _0x891e2c=a379_0x33c0;return _0x48e64f&&_0x48e64f[_0x891e2c(0x174)]?_0x48e64f:{'default':_0x48e64f};};Object[a379_0x154ed6(0x17d)](exports,a379_0x154ed6(0x174),{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;const jszip_1=__importDefault(require(a379_0x154ed6(0x16e))),factory_body_creator_rollback_1=require(a379_0x154ed6(0x18d)),xml2js_1=require('xml2js');class ZipCreatorRollback{constructor({deploymentResults:_0xd5259d,backup:_0x466419,rollbackName:_0x2960cb}){const _0x1dee96=a379_0x154ed6;this[_0x1dee96(0x175)]=_0xd5259d,this['_rollbackName']=_0x2960cb,this[_0x1dee96(0x177)]=_0x466419;}async['createZips'](){const _0x34915e=a379_0x154ed6;this[_0x34915e(0x197)]=new jszip_1['default'](),this['_zip']=new jszip_1[(_0x34915e(0x192))](),await this[_0x34915e(0x197)][_0x34915e(0x18f)](this['_backup'],{'base64':!![]});}[a379_0x154ed6(0x179)](){const _0x16051c=a379_0x154ed6;this['_deploymentResults'][_0x16051c(0x17e)]((_0xd0a6c5,_0x2ea1cc)=>_0xd0a6c5[_0x16051c(0x178)]<_0x2ea1cc[_0x16051c(0x178)]?0x1:_0x2ea1cc[_0x16051c(0x178)]<_0xd0a6c5[_0x16051c(0x178)]?-0x1:0x0);}async['fillZip'](){const _0x1d250b=a379_0x154ed6;for(const _0x5393cc of this['_deploymentResults']){const _0x521460=await factory_body_creator_rollback_1[_0x1d250b(0x18c)][_0x1d250b(0x17b)]({'deploymentResult':_0x5393cc,'backupZip':this[_0x1d250b(0x197)]})[_0x1d250b(0x17b)](),{type:_0x268f16,name:_0x3534bc}=_0x5393cc;this[_0x1d250b(0x176)][_0x1d250b(0x18e)](_0x268f16+'.'+_0x3534bc+_0x1d250b(0x17a),_0x521460);}const _0xe95e09=new xml2js_1[(_0x1d250b(0x17f))]({'headless':!![]}),_0xa1addf={'vaultpackage':{'$':{'xmlns':_0x1d250b(0x181)},'name':this[_0x1d250b(0x183)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x1d250b(0x173),'summary':_0x1d250b(0x191),'description':_0x1d250b(0x186)}};this[_0x1d250b(0x176)][_0x1d250b(0x18e)](_0x1d250b(0x172),_0xe95e09[_0x1d250b(0x193)](_0xa1addf));}async[a379_0x154ed6(0x17b)](){const _0x3be38c=a379_0x154ed6;return await this[_0x3be38c(0x196)](),this[_0x3be38c(0x179)](),await this[_0x3be38c(0x194)](),this[_0x3be38c(0x176)]['generateAsync']({'type':_0x3be38c(0x182)});}}exports['ZipCreatorRollback']=ZipCreatorRollback;