const a350_0xa61756=a350_0x38d6;(function(_0x148e7c,_0x5e65c7){const _0x101cba=a350_0x38d6,_0x2e8964=_0x148e7c();while(!![]){try{const _0x2e60ea=parseInt(_0x101cba(0x13d))/0x1+-parseInt(_0x101cba(0x147))/0x2*(-parseInt(_0x101cba(0x145))/0x3)+parseInt(_0x101cba(0x128))/0x4+parseInt(_0x101cba(0x127))/0x5+-parseInt(_0x101cba(0x13a))/0x6+parseInt(_0x101cba(0x130))/0x7*(-parseInt(_0x101cba(0x13b))/0x8)+parseInt(_0x101cba(0x12e))/0x9;if(_0x2e60ea===_0x5e65c7)break;else _0x2e8964['push'](_0x2e8964['shift']());}catch(_0x2744c5){_0x2e8964['push'](_0x2e8964['shift']());}}}(a350_0x285b,0xa8603));function a350_0x38d6(_0x5c3bea,_0x3df592){const _0x3c8dd0=a350_0x285b();return a350_0x38d6=function(_0x4cc8f1,_0x26b59f){_0x4cc8f1=_0x4cc8f1-0x123;let _0x285b3a=_0x3c8dd0[_0x4cc8f1];return _0x285b3a;},a350_0x38d6(_0x5c3bea,_0x3df592);}const a350_0x26b59f=(function(){let _0x46fa9e=!![];return function(_0x101362,_0x48bfde){const _0x479630=_0x46fa9e?function(){const _0x403eb2=a350_0x38d6;if(_0x48bfde){const _0x805da4=_0x48bfde[_0x403eb2(0x13c)](_0x101362,arguments);return _0x48bfde=null,_0x805da4;}}:function(){};return _0x46fa9e=![],_0x479630;};}()),a350_0x4cc8f1=a350_0x26b59f(this,function(){const _0x2919b2=a350_0x38d6;return a350_0x4cc8f1[_0x2919b2(0x136)]()[_0x2919b2(0x12a)](_0x2919b2(0x132))[_0x2919b2(0x136)]()[_0x2919b2(0x143)](a350_0x4cc8f1)[_0x2919b2(0x12a)](_0x2919b2(0x132));});a350_0x4cc8f1();'use strict';var __importDefault=this&&this[a350_0xa61756(0x135)]||function(_0x3859c5){const _0x34a8ea=a350_0xa61756;return _0x3859c5&&_0x3859c5[_0x34a8ea(0x124)]?_0x3859c5:{'default':_0x3859c5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a350_0xa61756(0x134)]=void 0x0;const jszip_1=__importDefault(require(a350_0xa61756(0x12f))),factory_body_creator_rollback_1=require(a350_0xa61756(0x139)),xml2js_1=require(a350_0xa61756(0x138));function a350_0x285b(){const _0x27a7a9=['1031798WakhPv','_zip','fillZip','_backupZip','https://veevavault.com/','createZips','constructor','_backup','89151lFWsZV','default','42LRbejw','sort','__esModule','Builder','create','3037935EnBbCD','2615528vVCiWM','stepName','search','sortDeploymentResults','_deploymentResults','file','694215SMocQi','jszip','7YGcDhl','Flosum','(((.+)+)+)+$','_rollbackName','ZipCreatorRollback','__importDefault','toString','nodebuffer','xml2js','./body-creator/factory.body-creator.rollback','5903214DYGykp','10567384iEWXPG','apply'];a350_0x285b=function(){return _0x27a7a9;};return a350_0x285b();}class ZipCreatorRollback{constructor({deploymentResults:_0x1437fe,backup:_0x207107,rollbackName:_0x2af6b0}){const _0x2236fe=a350_0xa61756;this[_0x2236fe(0x12c)]=_0x1437fe,this['_rollbackName']=_0x2af6b0,this[_0x2236fe(0x144)]=_0x207107;}async[a350_0xa61756(0x142)](){const _0x1edee7=a350_0xa61756;this[_0x1edee7(0x140)]=new jszip_1[(_0x1edee7(0x146))](),this[_0x1edee7(0x13e)]=new jszip_1['default'](),await this[_0x1edee7(0x140)]['loadAsync'](this['_backup'],{'base64':!![]});}[a350_0xa61756(0x12b)](){const _0x25c8ea=a350_0xa61756;this[_0x25c8ea(0x12c)][_0x25c8ea(0x123)]((_0x12c2fb,_0x3c4a58)=>_0x12c2fb[_0x25c8ea(0x129)]<_0x3c4a58[_0x25c8ea(0x129)]?0x1:_0x3c4a58[_0x25c8ea(0x129)]<_0x12c2fb[_0x25c8ea(0x129)]?-0x1:0x0);}async[a350_0xa61756(0x13f)](){const _0x58083d=a350_0xa61756;for(const _0xe3f531 of this[_0x58083d(0x12c)]){const _0x496c4d=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback']['create']({'deploymentResult':_0xe3f531,'backupZip':this[_0x58083d(0x140)]})[_0x58083d(0x126)](),{type:_0x203a7f,name:_0x4590bf}=_0xe3f531;this[_0x58083d(0x13e)][_0x58083d(0x12d)](_0x203a7f+'.'+_0x4590bf+'.mdl',_0x496c4d);}const _0x391a0b=new xml2js_1[(_0x58083d(0x125))]({'headless':!![]}),_0x214c45={'vaultpackage':{'$':{'xmlns':_0x58083d(0x141)},'name':this[_0x58083d(0x133)],'source':{'vault':undefined,'author':_0x58083d(0x131)},'packagetype':'migration__v','summary':'Rollback','description':'null'}};this[_0x58083d(0x13e)][_0x58083d(0x12d)]('vaultpackage.xml',_0x391a0b['buildObject'](_0x214c45));}async['create'](){const _0x32de1a=a350_0xa61756;return await this[_0x32de1a(0x142)](),this[_0x32de1a(0x12b)](),await this[_0x32de1a(0x13f)](),this[_0x32de1a(0x13e)]['generateAsync']({'type':_0x32de1a(0x137)});}}exports[a350_0xa61756(0x134)]=ZipCreatorRollback;