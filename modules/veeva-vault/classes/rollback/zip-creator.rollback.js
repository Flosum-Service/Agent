function a312_0x100e(_0x2441de,_0x3deb26){const _0x4f9b3d=a312_0x44cf();return a312_0x100e=function(_0x52879c,_0x16ff56){_0x52879c=_0x52879c-0x120;let _0x44cf3d=_0x4f9b3d[_0x52879c];return _0x44cf3d;},a312_0x100e(_0x2441de,_0x3deb26);}const a312_0x32e85b=a312_0x100e;(function(_0x29416d,_0x613cc8){const _0x4026e0=a312_0x100e,_0x5569fc=_0x29416d();while(!![]){try{const _0x386773=-parseInt(_0x4026e0(0x12a))/0x1*(-parseInt(_0x4026e0(0x14b))/0x2)+parseInt(_0x4026e0(0x12b))/0x3+parseInt(_0x4026e0(0x135))/0x4+parseInt(_0x4026e0(0x134))/0x5+parseInt(_0x4026e0(0x127))/0x6*(-parseInt(_0x4026e0(0x138))/0x7)+parseInt(_0x4026e0(0x130))/0x8*(-parseInt(_0x4026e0(0x123))/0x9)+-parseInt(_0x4026e0(0x12c))/0xa*(parseInt(_0x4026e0(0x13a))/0xb);if(_0x386773===_0x613cc8)break;else _0x5569fc['push'](_0x5569fc['shift']());}catch(_0x187e91){_0x5569fc['push'](_0x5569fc['shift']());}}}(a312_0x44cf,0x8ee39));const a312_0x16ff56=(function(){let _0x21f7c9=!![];return function(_0x57014e,_0x80537){const _0x3350ef=_0x21f7c9?function(){const _0x4053ce=a312_0x100e;if(_0x80537){const _0x4e9154=_0x80537[_0x4053ce(0x149)](_0x57014e,arguments);return _0x80537=null,_0x4e9154;}}:function(){};return _0x21f7c9=![],_0x3350ef;};}()),a312_0x52879c=a312_0x16ff56(this,function(){const _0x5777fc=a312_0x100e;return a312_0x52879c[_0x5777fc(0x145)]()[_0x5777fc(0x143)]('(((.+)+)+)+$')[_0x5777fc(0x145)]()['constructor'](a312_0x52879c)[_0x5777fc(0x143)](_0x5777fc(0x13e));});a312_0x52879c();'use strict';var __importDefault=this&&this[a312_0x32e85b(0x120)]||function(_0xd9627f){const _0x4f083b=a312_0x32e85b;return _0xd9627f&&_0xd9627f[_0x4f083b(0x146)]?_0xd9627f:{'default':_0xd9627f};};Object['defineProperty'](exports,a312_0x32e85b(0x146),{'value':!![]}),exports[a312_0x32e85b(0x12f)]=void 0x0;function a312_0x44cf(){const _0x50b494=['6769pFTATT','Rollback','3443VgVVMh','buildObject','sortDeploymentResults','./body-creator/factory.body-creator.rollback','(((.+)+)+)+$','null','default','_zip','.mdl','search','FactoryBodyCreatorRollback','toString','__esModule','_rollbackName','create','apply','_backup','299596HlgvZl','createZips','vaultpackage.xml','__importDefault','fillZip','loadAsync','666936PngVrG','sort','xml2js','Builder','2922NfnZlZ','_deploymentResults','_backupZip','2spXXdG','2258292wGYrNv','27190vOgNlJ','jszip','migration__v','ZipCreatorRollback','8isFiOX','https://veevavault.com/','generateAsync','nodebuffer','4535985VflCbG','87184AEscyn','stepName','file'];a312_0x44cf=function(){return _0x50b494;};return a312_0x44cf();}const jszip_1=__importDefault(require(a312_0x32e85b(0x12d))),factory_body_creator_rollback_1=require(a312_0x32e85b(0x13d)),xml2js_1=require(a312_0x32e85b(0x125));class ZipCreatorRollback{constructor({deploymentResults:_0x51f639,backup:_0x3f51d3,rollbackName:_0x5bb230}){const _0x22ea10=a312_0x32e85b;this['_deploymentResults']=_0x51f639,this[_0x22ea10(0x147)]=_0x5bb230,this[_0x22ea10(0x14a)]=_0x3f51d3;}async[a312_0x32e85b(0x14c)](){const _0x276889=a312_0x32e85b;this[_0x276889(0x129)]=new jszip_1[(_0x276889(0x140))](),this[_0x276889(0x141)]=new jszip_1[(_0x276889(0x140))](),await this[_0x276889(0x129)][_0x276889(0x122)](this[_0x276889(0x14a)],{'base64':!![]});}[a312_0x32e85b(0x13c)](){const _0x57346d=a312_0x32e85b;this[_0x57346d(0x128)][_0x57346d(0x124)]((_0x4f78fa,_0x29d1ac)=>_0x4f78fa[_0x57346d(0x136)]<_0x29d1ac[_0x57346d(0x136)]?0x1:_0x29d1ac[_0x57346d(0x136)]<_0x4f78fa[_0x57346d(0x136)]?-0x1:0x0);}async[a312_0x32e85b(0x121)](){const _0x42a5c3=a312_0x32e85b;for(const _0xc1a9eb of this[_0x42a5c3(0x128)]){const _0x59b88b=await factory_body_creator_rollback_1[_0x42a5c3(0x144)][_0x42a5c3(0x148)]({'deploymentResult':_0xc1a9eb,'backupZip':this[_0x42a5c3(0x129)]})[_0x42a5c3(0x148)](),{type:_0x1e140e,name:_0x58a300}=_0xc1a9eb;this[_0x42a5c3(0x141)][_0x42a5c3(0x137)](_0x1e140e+'.'+_0x58a300+_0x42a5c3(0x142),_0x59b88b);}const _0x3307aa=new xml2js_1[(_0x42a5c3(0x126))]({'headless':!![]}),_0x35a35b={'vaultpackage':{'$':{'xmlns':_0x42a5c3(0x131)},'name':this[_0x42a5c3(0x147)],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x42a5c3(0x12e),'summary':_0x42a5c3(0x139),'description':_0x42a5c3(0x13f)}};this[_0x42a5c3(0x141)]['file'](_0x42a5c3(0x14d),_0x3307aa[_0x42a5c3(0x13b)](_0x35a35b));}async['create'](){const _0x3080ef=a312_0x32e85b;return await this[_0x3080ef(0x14c)](),this[_0x3080ef(0x13c)](),await this[_0x3080ef(0x121)](),this[_0x3080ef(0x141)][_0x3080ef(0x132)]({'type':_0x3080ef(0x133)});}}exports['ZipCreatorRollback']=ZipCreatorRollback;