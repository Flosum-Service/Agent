const a379_0x2b139c=a379_0x76a9;(function(_0x3097ad,_0x444c7c){const _0x255018=a379_0x76a9,_0x45af1c=_0x3097ad();while(!![]){try{const _0x5e691c=parseInt(_0x255018(0x145))/0x1*(-parseInt(_0x255018(0x13c))/0x2)+-parseInt(_0x255018(0x142))/0x3*(-parseInt(_0x255018(0x13e))/0x4)+parseInt(_0x255018(0x136))/0x5+parseInt(_0x255018(0x141))/0x6+parseInt(_0x255018(0x130))/0x7*(-parseInt(_0x255018(0x127))/0x8)+parseInt(_0x255018(0x126))/0x9*(parseInt(_0x255018(0x125))/0xa)+-parseInt(_0x255018(0x148))/0xb*(parseInt(_0x255018(0x139))/0xc);if(_0x5e691c===_0x444c7c)break;else _0x45af1c['push'](_0x45af1c['shift']());}catch(_0x295dc1){_0x45af1c['push'](_0x45af1c['shift']());}}}(a379_0x586b,0xece0b));const a379_0x554009=(function(){let _0x2e3db7=!![];return function(_0xf7a3b8,_0x1f69f9){const _0x692fbb=_0x2e3db7?function(){const _0x52f783=a379_0x76a9;if(_0x1f69f9){const _0x2b77ad=_0x1f69f9[_0x52f783(0x133)](_0xf7a3b8,arguments);return _0x1f69f9=null,_0x2b77ad;}}:function(){};return _0x2e3db7=![],_0x692fbb;};}()),a379_0xcbcf80=a379_0x554009(this,function(){const _0x14a32d=a379_0x76a9;return a379_0xcbcf80['toString']()['search'](_0x14a32d(0x128))[_0x14a32d(0x12c)]()[_0x14a32d(0x14b)](a379_0xcbcf80)[_0x14a32d(0x134)](_0x14a32d(0x128));});a379_0xcbcf80();function a379_0x586b(){const _0x2901bb=['.mdl','353teUjZN','loadAsync','file','3492511ECQYdD','createZips','ZipCreatorRollback','constructor','nodebuffer','__esModule','default','fillZip','buildObject','9250PRrqxk','17721hcyzVM','16248cVeeIt','(((.+)+)+)+$','migration__v','https://veevavault.com/','_backup','toString','./body-creator/factory.body-creator.rollback','_backupZip','_zip','6482jThLOD','create','_deploymentResults','apply','search','Rollback','9281090dEDDha','null','generateAsync','132EDrdEh','sort','__importDefault','1158mPsikW','_rollbackName','1208SfNQTT','FactoryBodyCreatorRollback','sortDeploymentResults','6050892xIVQVq','18495SqkxQj','stepName'];a379_0x586b=function(){return _0x2901bb;};return a379_0x586b();}'use strict';function a379_0x76a9(_0x4cc3bb,_0x385829){const _0x2606a2=a379_0x586b();return a379_0x76a9=function(_0xcbcf80,_0x554009){_0xcbcf80=_0xcbcf80-0x122;let _0x586b58=_0x2606a2[_0xcbcf80];return _0x586b58;},a379_0x76a9(_0x4cc3bb,_0x385829);}var __importDefault=this&&this[a379_0x2b139c(0x13b)]||function(_0x517f93){const _0xc1cd0d=a379_0x2b139c;return _0x517f93&&_0x517f93[_0xc1cd0d(0x14d)]?_0x517f93:{'default':_0x517f93};};Object['defineProperty'](exports,a379_0x2b139c(0x14d),{'value':!![]}),exports[a379_0x2b139c(0x14a)]=void 0x0;const jszip_1=__importDefault(require('jszip')),factory_body_creator_rollback_1=require(a379_0x2b139c(0x12d)),xml2js_1=require('xml2js');class ZipCreatorRollback{constructor({deploymentResults:_0x3a4eaa,backup:_0x4eddb8,rollbackName:_0x3c8215}){const _0x3d21da=a379_0x2b139c;this['_deploymentResults']=_0x3a4eaa,this[_0x3d21da(0x13d)]=_0x3c8215,this[_0x3d21da(0x12b)]=_0x4eddb8;}async[a379_0x2b139c(0x149)](){const _0x3d364f=a379_0x2b139c;this[_0x3d364f(0x12e)]=new jszip_1[(_0x3d364f(0x122))](),this['_zip']=new jszip_1['default'](),await this[_0x3d364f(0x12e)][_0x3d364f(0x146)](this[_0x3d364f(0x12b)],{'base64':!![]});}['sortDeploymentResults'](){const _0x1471d9=a379_0x2b139c;this[_0x1471d9(0x132)][_0x1471d9(0x13a)]((_0x439f8a,_0x32ca7f)=>_0x439f8a['stepName']<_0x32ca7f[_0x1471d9(0x143)]?0x1:_0x32ca7f['stepName']<_0x439f8a[_0x1471d9(0x143)]?-0x1:0x0);}async[a379_0x2b139c(0x123)](){const _0x25cffa=a379_0x2b139c;for(const _0x248f70 of this[_0x25cffa(0x132)]){const _0x869472=await factory_body_creator_rollback_1[_0x25cffa(0x13f)][_0x25cffa(0x131)]({'deploymentResult':_0x248f70,'backupZip':this['_backupZip']})[_0x25cffa(0x131)](),{type:_0x20c9c7,name:_0x5a555e}=_0x248f70;this[_0x25cffa(0x12f)][_0x25cffa(0x147)](_0x20c9c7+'.'+_0x5a555e+_0x25cffa(0x144),_0x869472);}const _0x10e2a2=new xml2js_1['Builder']({'headless':!![]}),_0x52303b={'vaultpackage':{'$':{'xmlns':_0x25cffa(0x12a)},'name':this['_rollbackName'],'source':{'vault':undefined,'author':'Flosum'},'packagetype':_0x25cffa(0x129),'summary':_0x25cffa(0x135),'description':_0x25cffa(0x137)}};this[_0x25cffa(0x12f)][_0x25cffa(0x147)]('vaultpackage.xml',_0x10e2a2[_0x25cffa(0x124)](_0x52303b));}async[a379_0x2b139c(0x131)](){const _0x46602d=a379_0x2b139c;return await this[_0x46602d(0x149)](),this[_0x46602d(0x140)](),await this['fillZip'](),this[_0x46602d(0x12f)][_0x46602d(0x138)]({'type':_0x46602d(0x14c)});}}exports[a379_0x2b139c(0x14a)]=ZipCreatorRollback;