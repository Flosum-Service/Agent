const a312_0x5a5374=a312_0x4da2;function a312_0x4da2(_0x192efc,_0x48b874){const _0x57f57e=a312_0x38a2();return a312_0x4da2=function(_0x3ee4dd,_0xd15808){_0x3ee4dd=_0x3ee4dd-0x1cf;let _0x38a22f=_0x57f57e[_0x3ee4dd];return _0x38a22f;},a312_0x4da2(_0x192efc,_0x48b874);}(function(_0x315d9d,_0x20dc14){const _0x580707=a312_0x4da2,_0x3f6018=_0x315d9d();while(!![]){try{const _0x50cb64=-parseInt(_0x580707(0x1db))/0x1+-parseInt(_0x580707(0x1fa))/0x2*(parseInt(_0x580707(0x1f1))/0x3)+-parseInt(_0x580707(0x1d8))/0x4*(-parseInt(_0x580707(0x1df))/0x5)+parseInt(_0x580707(0x1d0))/0x6*(parseInt(_0x580707(0x1e7))/0x7)+parseInt(_0x580707(0x1dc))/0x8+parseInt(_0x580707(0x1f3))/0x9*(parseInt(_0x580707(0x1d2))/0xa)+parseInt(_0x580707(0x1ed))/0xb*(-parseInt(_0x580707(0x1e3))/0xc);if(_0x50cb64===_0x20dc14)break;else _0x3f6018['push'](_0x3f6018['shift']());}catch(_0x13a518){_0x3f6018['push'](_0x3f6018['shift']());}}}(a312_0x38a2,0xafe0b));const a312_0xd15808=(function(){let _0x4a33f3=!![];return function(_0x525639,_0x3536de){const _0x37741b=_0x4a33f3?function(){if(_0x3536de){const _0x4b8c18=_0x3536de['apply'](_0x525639,arguments);return _0x3536de=null,_0x4b8c18;}}:function(){};return _0x4a33f3=![],_0x37741b;};}()),a312_0x3ee4dd=a312_0xd15808(this,function(){const _0x400708=a312_0x4da2;return a312_0x3ee4dd[_0x400708(0x1f2)]()[_0x400708(0x1f5)](_0x400708(0x1da))[_0x400708(0x1f2)]()[_0x400708(0x1e9)](a312_0x3ee4dd)[_0x400708(0x1f5)]('(((.+)+)+)+$');});a312_0x3ee4dd();'use strict';function a312_0x38a2(){const _0x7c8d86=['.mdl','null','sort','32BQkWIt','__esModule','(((.+)+)+)+$','80131PKJIMn','5085680xXiydM','xml2js','defineProperty','19730zqTcEm','createZips','default','ZipCreatorRollback','3084bsfKZm','_rollbackName','vaultpackage.xml','_zip','601384uBVPGx','Builder','constructor','file','_backupZip','create','39985CXXYRh','./body-creator/factory.body-creator.rollback','buildObject','stepName','717WNcPpX','toString','21816GpvsAU','loadAsync','search','generateAsync','_backup','fillZip','sortDeploymentResults','4502YJwyfM','https://veevavault.com/','_deploymentResults','72BpEwRR','__importDefault','2370iOEmUh','Flosum','jszip'];a312_0x38a2=function(){return _0x7c8d86;};return a312_0x38a2();}var __importDefault=this&&this[a312_0x5a5374(0x1d1)]||function(_0x5d75a9){const _0x2fce9e=a312_0x5a5374;return _0x5d75a9&&_0x5d75a9[_0x2fce9e(0x1d9)]?_0x5d75a9:{'default':_0x5d75a9};};Object[a312_0x5a5374(0x1de)](exports,a312_0x5a5374(0x1d9),{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;const jszip_1=__importDefault(require(a312_0x5a5374(0x1d4))),factory_body_creator_rollback_1=require(a312_0x5a5374(0x1ee)),xml2js_1=require(a312_0x5a5374(0x1dd));class ZipCreatorRollback{constructor({deploymentResults:_0x3f0221,backup:_0x4193a1,rollbackName:_0x39570b}){const _0x406d4e=a312_0x5a5374;this[_0x406d4e(0x1cf)]=_0x3f0221,this[_0x406d4e(0x1e4)]=_0x39570b,this[_0x406d4e(0x1f7)]=_0x4193a1;}async[a312_0x5a5374(0x1e0)](){const _0x116e60=a312_0x5a5374;this[_0x116e60(0x1eb)]=new jszip_1[(_0x116e60(0x1e1))](),this['_zip']=new jszip_1[(_0x116e60(0x1e1))](),await this['_backupZip'][_0x116e60(0x1f4)](this[_0x116e60(0x1f7)],{'base64':!![]});}[a312_0x5a5374(0x1f9)](){const _0x43d8a3=a312_0x5a5374;this[_0x43d8a3(0x1cf)][_0x43d8a3(0x1d7)]((_0x47acfb,_0x2fd4d1)=>_0x47acfb[_0x43d8a3(0x1f0)]<_0x2fd4d1[_0x43d8a3(0x1f0)]?0x1:_0x2fd4d1[_0x43d8a3(0x1f0)]<_0x47acfb['stepName']?-0x1:0x0);}async[a312_0x5a5374(0x1f8)](){const _0x39677e=a312_0x5a5374;for(const _0x30a3c1 of this[_0x39677e(0x1cf)]){const _0x181a4c=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback']['create']({'deploymentResult':_0x30a3c1,'backupZip':this[_0x39677e(0x1eb)]})[_0x39677e(0x1ec)](),{type:_0x55164d,name:_0x4c8b1e}=_0x30a3c1;this[_0x39677e(0x1e6)][_0x39677e(0x1ea)](_0x55164d+'.'+_0x4c8b1e+_0x39677e(0x1d5),_0x181a4c);}const _0x5cb6df=new xml2js_1[(_0x39677e(0x1e8))]({'headless':!![]}),_0x5e7a2f={'vaultpackage':{'$':{'xmlns':_0x39677e(0x1fb)},'name':this[_0x39677e(0x1e4)],'source':{'vault':undefined,'author':_0x39677e(0x1d3)},'packagetype':'migration__v','summary':'Rollback','description':_0x39677e(0x1d6)}};this[_0x39677e(0x1e6)]['file'](_0x39677e(0x1e5),_0x5cb6df[_0x39677e(0x1ef)](_0x5e7a2f));}async['create'](){const _0x40127f=a312_0x5a5374;return await this[_0x40127f(0x1e0)](),this[_0x40127f(0x1f9)](),await this['fillZip'](),this[_0x40127f(0x1e6)][_0x40127f(0x1f6)]({'type':'nodebuffer'});}}exports[a312_0x5a5374(0x1e2)]=ZipCreatorRollback;