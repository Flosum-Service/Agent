const a379_0x301a94=a379_0x35eb;(function(_0x51125a,_0x3214d1){const _0xbe3d4b=a379_0x35eb,_0x33d586=_0x51125a();while(!![]){try{const _0x22604d=parseInt(_0xbe3d4b(0xb0))/0x1*(parseInt(_0xbe3d4b(0xa5))/0x2)+-parseInt(_0xbe3d4b(0x95))/0x3+-parseInt(_0xbe3d4b(0x91))/0x4+-parseInt(_0xbe3d4b(0xaf))/0x5*(parseInt(_0xbe3d4b(0xa8))/0x6)+-parseInt(_0xbe3d4b(0xa1))/0x7+parseInt(_0xbe3d4b(0xae))/0x8+parseInt(_0xbe3d4b(0x9e))/0x9;if(_0x22604d===_0x3214d1)break;else _0x33d586['push'](_0x33d586['shift']());}catch(_0x3b7107){_0x33d586['push'](_0x33d586['shift']());}}}(a379_0x17d6,0x27734));const a379_0x9c72d1=(function(){let _0x45408b=!![];return function(_0x180fb3,_0x3809b5){const _0x44529d=_0x45408b?function(){if(_0x3809b5){const _0x4b33cf=_0x3809b5['apply'](_0x180fb3,arguments);return _0x3809b5=null,_0x4b33cf;}}:function(){};return _0x45408b=![],_0x44529d;};}()),a379_0x469d64=a379_0x9c72d1(this,function(){const _0x4e691d=a379_0x35eb;return a379_0x469d64[_0x4e691d(0x9f)]()[_0x4e691d(0xb1)](_0x4e691d(0x9c))[_0x4e691d(0x9f)]()[_0x4e691d(0x99)](a379_0x469d64)[_0x4e691d(0xb1)](_0x4e691d(0x9c));});a379_0x469d64();'use strict';function a379_0x35eb(_0xb1a85b,_0x25e788){const _0x40413e=a379_0x17d6();return a379_0x35eb=function(_0x469d64,_0x9c72d1){_0x469d64=_0x469d64-0x8f;let _0x17d63b=_0x40413e[_0x469d64];return _0x17d63b;},a379_0x35eb(_0xb1a85b,_0x25e788);}var __importDefault=this&&this['__importDefault']||function(_0x52cdfe){return _0x52cdfe&&_0x52cdfe['__esModule']?_0x52cdfe:{'default':_0x52cdfe};};Object['defineProperty'](exports,a379_0x301a94(0x9d),{'value':!![]}),exports[a379_0x301a94(0x93)]=void 0x0;function a379_0x17d6(){const _0x4cdbdb=['_deploymentResults','null','35064UNrpDY','Builder','_backupZip','Flosum','vaultpackage.xml','FactoryBodyCreatorRollback','912024ibMspX','115TQuuFT','106059bwyVPI','search','create','createZips','migration__v','_rollbackName','fillZip','generateAsync','jszip','./body-creator/factory.body-creator.rollback','1239812AKQZjD','_zip','ZipCreatorRollback','buildObject','909525GvilJM','default','sortDeploymentResults','xml2js','constructor','_backup','file','(((.+)+)+)+$','__esModule','8337249vMoBYT','toString','.mdl','1661065vQDadQ','stepName','loadAsync','nodebuffer','2Auywpc'];a379_0x17d6=function(){return _0x4cdbdb;};return a379_0x17d6();}const jszip_1=__importDefault(require(a379_0x301a94(0x8f))),factory_body_creator_rollback_1=require(a379_0x301a94(0x90)),xml2js_1=require(a379_0x301a94(0x98));class ZipCreatorRollback{constructor({deploymentResults:_0x37ce4b,backup:_0x3d883f,rollbackName:_0x3ca05b}){const _0x47d8a8=a379_0x301a94;this[_0x47d8a8(0xa6)]=_0x37ce4b,this[_0x47d8a8(0xb5)]=_0x3ca05b,this[_0x47d8a8(0x9a)]=_0x3d883f;}async[a379_0x301a94(0xb3)](){const _0x126867=a379_0x301a94;this[_0x126867(0xaa)]=new jszip_1[(_0x126867(0x96))](),this[_0x126867(0x92)]=new jszip_1[(_0x126867(0x96))](),await this['_backupZip'][_0x126867(0xa3)](this[_0x126867(0x9a)],{'base64':!![]});}[a379_0x301a94(0x97)](){const _0x4c2642=a379_0x301a94;this[_0x4c2642(0xa6)]['sort']((_0x54f117,_0x557e93)=>_0x54f117[_0x4c2642(0xa2)]<_0x557e93[_0x4c2642(0xa2)]?0x1:_0x557e93[_0x4c2642(0xa2)]<_0x54f117[_0x4c2642(0xa2)]?-0x1:0x0);}async[a379_0x301a94(0xb6)](){const _0x2def62=a379_0x301a94;for(const _0x294cbc of this['_deploymentResults']){const _0x2a857e=await factory_body_creator_rollback_1[_0x2def62(0xad)]['create']({'deploymentResult':_0x294cbc,'backupZip':this[_0x2def62(0xaa)]})[_0x2def62(0xb2)](),{type:_0x155742,name:_0x5b923e}=_0x294cbc;this[_0x2def62(0x92)][_0x2def62(0x9b)](_0x155742+'.'+_0x5b923e+_0x2def62(0xa0),_0x2a857e);}const _0x57592b=new xml2js_1[(_0x2def62(0xa9))]({'headless':!![]}),_0x507947={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x2def62(0xab)},'packagetype':_0x2def62(0xb4),'summary':'Rollback','description':_0x2def62(0xa7)}};this[_0x2def62(0x92)][_0x2def62(0x9b)](_0x2def62(0xac),_0x57592b[_0x2def62(0x94)](_0x507947));}async['create'](){const _0x4af96b=a379_0x301a94;return await this[_0x4af96b(0xb3)](),this['sortDeploymentResults'](),await this[_0x4af96b(0xb6)](),this[_0x4af96b(0x92)][_0x4af96b(0xb7)]({'type':_0x4af96b(0xa4)});}}exports[a379_0x301a94(0x93)]=ZipCreatorRollback;