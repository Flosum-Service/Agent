const a378_0xa9e881=a378_0x12fb;(function(_0x481733,_0x207f71){const _0x4aec5d=a378_0x12fb,_0x136b26=_0x481733();while(!![]){try{const _0x5df6cd=-parseInt(_0x4aec5d(0x202))/0x1+parseInt(_0x4aec5d(0x206))/0x2*(parseInt(_0x4aec5d(0x1f8))/0x3)+parseInt(_0x4aec5d(0x20e))/0x4*(-parseInt(_0x4aec5d(0x1fa))/0x5)+parseInt(_0x4aec5d(0x1fe))/0x6+parseInt(_0x4aec5d(0x204))/0x7+parseInt(_0x4aec5d(0x214))/0x8+parseInt(_0x4aec5d(0x203))/0x9*(-parseInt(_0x4aec5d(0x20b))/0xa);if(_0x5df6cd===_0x207f71)break;else _0x136b26['push'](_0x136b26['shift']());}catch(_0x59a706){_0x136b26['push'](_0x136b26['shift']());}}}(a378_0x3e3a,0x411d6));const a378_0x4c0b91=(function(){let _0xc582a3=!![];return function(_0x28a06a,_0x3b9e1f){const _0x362863=_0xc582a3?function(){if(_0x3b9e1f){const _0x39a48d=_0x3b9e1f['apply'](_0x28a06a,arguments);return _0x3b9e1f=null,_0x39a48d;}}:function(){};return _0xc582a3=![],_0x362863;};}()),a378_0x1a3a2d=a378_0x4c0b91(this,function(){const _0x48e1f1=a378_0x12fb;return a378_0x1a3a2d[_0x48e1f1(0x207)]()[_0x48e1f1(0x1fb)]('(((.+)+)+)+$')[_0x48e1f1(0x207)]()['constructor'](a378_0x1a3a2d)[_0x48e1f1(0x1fb)](_0x48e1f1(0x1fc));});function a378_0x3e3a(){const _0x55f420=['2405016qnxljl','./body-creator/factory.body-creator.rollback','generateAsync','FactoryBodyCreatorRollback','159740bLFfIE','54MfiHeE','2675841qyvhYc','loadAsync','10964nQpIpg','toString','nodebuffer','Rollback','_zip','1058120kKTPIY','_backupZip','createZips','298684ApCbGJ','fillZip','xml2js','create','sortDeploymentResults','.mdl','630352xxkQmd','vaultpackage.xml','null','Flosum','ZipCreatorRollback','_deploymentResults','stepName','_backup','https://veevavault.com/','migration__v','Builder','150DSovwq','default','5bRZOwS','search','(((.+)+)+)+$','__esModule'];a378_0x3e3a=function(){return _0x55f420;};return a378_0x3e3a();}a378_0x1a3a2d();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x444b18){const _0x5caa10=a378_0x12fb;return _0x444b18&&_0x444b18[_0x5caa10(0x1fd)]?_0x444b18:{'default':_0x444b18};};function a378_0x12fb(_0x4a97b1,_0x503815){const _0x2ec894=a378_0x3e3a();return a378_0x12fb=function(_0x1a3a2d,_0x4c0b91){_0x1a3a2d=_0x1a3a2d-0x1f2;let _0x3e3a57=_0x2ec894[_0x1a3a2d];return _0x3e3a57;},a378_0x12fb(_0x4a97b1,_0x503815);}Object['defineProperty'](exports,a378_0xa9e881(0x1fd),{'value':!![]}),exports[a378_0xa9e881(0x218)]=void 0x0;const jszip_1=__importDefault(require('jszip')),factory_body_creator_rollback_1=require(a378_0xa9e881(0x1ff)),xml2js_1=require(a378_0xa9e881(0x210));class ZipCreatorRollback{constructor({deploymentResults:_0x47ee70,backup:_0x226967,rollbackName:_0x284110}){const _0x2dfd19=a378_0xa9e881;this[_0x2dfd19(0x1f2)]=_0x47ee70,this['_rollbackName']=_0x284110,this[_0x2dfd19(0x1f4)]=_0x226967;}async[a378_0xa9e881(0x20d)](){const _0x501fe4=a378_0xa9e881;this[_0x501fe4(0x20c)]=new jszip_1[(_0x501fe4(0x1f9))](),this[_0x501fe4(0x20a)]=new jszip_1[(_0x501fe4(0x1f9))](),await this['_backupZip'][_0x501fe4(0x205)](this[_0x501fe4(0x1f4)],{'base64':!![]});}[a378_0xa9e881(0x212)](){const _0x139af6=a378_0xa9e881;this[_0x139af6(0x1f2)]['sort']((_0x16e877,_0x338c3d)=>_0x16e877[_0x139af6(0x1f3)]<_0x338c3d[_0x139af6(0x1f3)]?0x1:_0x338c3d[_0x139af6(0x1f3)]<_0x16e877[_0x139af6(0x1f3)]?-0x1:0x0);}async[a378_0xa9e881(0x20f)](){const _0x3f9811=a378_0xa9e881;for(const _0x3a433b of this[_0x3f9811(0x1f2)]){const _0x28c8f0=await factory_body_creator_rollback_1[_0x3f9811(0x201)][_0x3f9811(0x211)]({'deploymentResult':_0x3a433b,'backupZip':this[_0x3f9811(0x20c)]})[_0x3f9811(0x211)](),{type:_0x3464b2,name:_0x2f41fb}=_0x3a433b;this[_0x3f9811(0x20a)]['file'](_0x3464b2+'.'+_0x2f41fb+_0x3f9811(0x213),_0x28c8f0);}const _0x396039=new xml2js_1[(_0x3f9811(0x1f7))]({'headless':!![]}),_0x4c10e9={'vaultpackage':{'$':{'xmlns':_0x3f9811(0x1f5)},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x3f9811(0x217)},'packagetype':_0x3f9811(0x1f6),'summary':_0x3f9811(0x209),'description':_0x3f9811(0x216)}};this[_0x3f9811(0x20a)]['file'](_0x3f9811(0x215),_0x396039['buildObject'](_0x4c10e9));}async['create'](){const _0x2cd1c8=a378_0xa9e881;return await this['createZips'](),this[_0x2cd1c8(0x212)](),await this[_0x2cd1c8(0x20f)](),this[_0x2cd1c8(0x20a)][_0x2cd1c8(0x200)]({'type':_0x2cd1c8(0x208)});}}exports['ZipCreatorRollback']=ZipCreatorRollback;