const a379_0x5d2d20=a379_0x1027;(function(_0x341865,_0x44bfb5){const _0x42bb26=a379_0x1027,_0x2f2067=_0x341865();while(!![]){try{const _0x3f84be=parseInt(_0x42bb26(0x142))/0x1+parseInt(_0x42bb26(0x11b))/0x2+parseInt(_0x42bb26(0x13e))/0x3+parseInt(_0x42bb26(0x129))/0x4+-parseInt(_0x42bb26(0x13a))/0x5*(parseInt(_0x42bb26(0x126))/0x6)+parseInt(_0x42bb26(0x136))/0x7*(-parseInt(_0x42bb26(0x12a))/0x8)+-parseInt(_0x42bb26(0x12c))/0x9;if(_0x3f84be===_0x44bfb5)break;else _0x2f2067['push'](_0x2f2067['shift']());}catch(_0x84939b){_0x2f2067['push'](_0x2f2067['shift']());}}}(a379_0x2c3d,0xe62e0));const a379_0x579bad=(function(){let _0x3d5fbc=!![];return function(_0x219a88,_0x3ec1ee){const _0x20b397=_0x3d5fbc?function(){const _0x35f0ac=a379_0x1027;if(_0x3ec1ee){const _0x497d3c=_0x3ec1ee[_0x35f0ac(0x12f)](_0x219a88,arguments);return _0x3ec1ee=null,_0x497d3c;}}:function(){};return _0x3d5fbc=![],_0x20b397;};}()),a379_0xc13213=a379_0x579bad(this,function(){const _0x2d3af2=a379_0x1027;return a379_0xc13213[_0x2d3af2(0x12e)]()['search'](_0x2d3af2(0x12d))['toString']()[_0x2d3af2(0x120)](a379_0xc13213)[_0x2d3af2(0x13f)](_0x2d3af2(0x12d));});function a379_0x1027(_0x242692,_0x257b59){const _0x3cbb1d=a379_0x2c3d();return a379_0x1027=function(_0xc13213,_0x579bad){_0xc13213=_0xc13213-0x119;let _0x2c3d25=_0x3cbb1d[_0xc13213];return _0x2c3d25;},a379_0x1027(_0x242692,_0x257b59);}a379_0xc13213();'use strict';var __importDefault=this&&this[a379_0x5d2d20(0x125)]||function(_0x5bacde){const _0x2a35da=a379_0x5d2d20;return _0x5bacde&&_0x5bacde[_0x2a35da(0x13c)]?_0x5bacde:{'default':_0x5bacde};};Object[a379_0x5d2d20(0x135)](exports,a379_0x5d2d20(0x13c),{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;function a379_0x2c3d(){const _0x18d731=['3791948NzvtPK','1196280mTsQdS','_zip','5655483jlghVn','(((.+)+)+)+$','toString','apply','ZipCreatorRollback','buildObject','xml2js','Flosum','FactoryBodyCreatorRollback','defineProperty','84jCiXIc','createZips','sortDeploymentResults','sort','269690rRxISm','https://veevavault.com/','__esModule','generateAsync','2072922VixmVP','search','./body-creator/factory.body-creator.rollback','_deploymentResults','1405263kLUiqs','vaultpackage.xml','create','migration__v','_backupZip','Builder','3555450CVilJo','default','_rollbackName','nodebuffer','file','constructor','loadAsync','_backup','jszip','fillZip','__importDefault','162jAMXqH','stepName','Rollback'];a379_0x2c3d=function(){return _0x18d731;};return a379_0x2c3d();}const jszip_1=__importDefault(require(a379_0x5d2d20(0x123))),factory_body_creator_rollback_1=require(a379_0x5d2d20(0x140)),xml2js_1=require(a379_0x5d2d20(0x132));class ZipCreatorRollback{constructor({deploymentResults:_0x399c5f,backup:_0x350e82,rollbackName:_0x11c93c}){const _0x3dfb74=a379_0x5d2d20;this[_0x3dfb74(0x141)]=_0x399c5f,this[_0x3dfb74(0x11d)]=_0x11c93c,this[_0x3dfb74(0x122)]=_0x350e82;}async['createZips'](){const _0xbf7c22=a379_0x5d2d20;this[_0xbf7c22(0x119)]=new jszip_1[(_0xbf7c22(0x11c))](),this[_0xbf7c22(0x12b)]=new jszip_1[(_0xbf7c22(0x11c))](),await this[_0xbf7c22(0x119)][_0xbf7c22(0x121)](this[_0xbf7c22(0x122)],{'base64':!![]});}[a379_0x5d2d20(0x138)](){const _0xd5b888=a379_0x5d2d20;this[_0xd5b888(0x141)][_0xd5b888(0x139)]((_0x5dd8f9,_0x29ca3e)=>_0x5dd8f9[_0xd5b888(0x127)]<_0x29ca3e['stepName']?0x1:_0x29ca3e[_0xd5b888(0x127)]<_0x5dd8f9[_0xd5b888(0x127)]?-0x1:0x0);}async[a379_0x5d2d20(0x124)](){const _0x4ca7f7=a379_0x5d2d20;for(const _0x176821 of this[_0x4ca7f7(0x141)]){const _0x3ba946=await factory_body_creator_rollback_1[_0x4ca7f7(0x134)][_0x4ca7f7(0x144)]({'deploymentResult':_0x176821,'backupZip':this[_0x4ca7f7(0x119)]})[_0x4ca7f7(0x144)](),{type:_0xbdf43,name:_0x2e84c0}=_0x176821;this[_0x4ca7f7(0x12b)][_0x4ca7f7(0x11f)](_0xbdf43+'.'+_0x2e84c0+'.mdl',_0x3ba946);}const _0x1422da=new xml2js_1[(_0x4ca7f7(0x11a))]({'headless':!![]}),_0x2ec358={'vaultpackage':{'$':{'xmlns':_0x4ca7f7(0x13b)},'name':this[_0x4ca7f7(0x11d)],'source':{'vault':undefined,'author':_0x4ca7f7(0x133)},'packagetype':_0x4ca7f7(0x145),'summary':_0x4ca7f7(0x128),'description':'null'}};this[_0x4ca7f7(0x12b)][_0x4ca7f7(0x11f)](_0x4ca7f7(0x143),_0x1422da[_0x4ca7f7(0x131)](_0x2ec358));}async[a379_0x5d2d20(0x144)](){const _0x4bcd47=a379_0x5d2d20;return await this[_0x4bcd47(0x137)](),this['sortDeploymentResults'](),await this[_0x4bcd47(0x124)](),this[_0x4bcd47(0x12b)][_0x4bcd47(0x13d)]({'type':_0x4bcd47(0x11e)});}}exports[a379_0x5d2d20(0x130)]=ZipCreatorRollback;