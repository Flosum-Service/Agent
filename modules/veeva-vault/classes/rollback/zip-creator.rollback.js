function a312_0x25d6(){const _0x5f5cf0=['_zip','fillZip','./body-creator/factory.body-creator.rollback','sortDeploymentResults','null','buildObject','_backup','(((.+)+)+)+$','178630SLLquT','.mdl','_backupZip','vaultpackage.xml','2170452saohvk','Builder','_rollbackName','file','1211095TjYuzJ','jszip','toString','21NJxBij','apply','246572CVgFDY','6968584jlGsyx','Rollback','create','generateAsync','createZips','migration__v','ZipCreatorRollback','search','nodebuffer','stepName','FactoryBodyCreatorRollback','__esModule','_deploymentResults','default','123858VxuAAt','Flosum','3231640sbfkMc','loadAsync','xml2js','__importDefault'];a312_0x25d6=function(){return _0x5f5cf0;};return a312_0x25d6();}const a312_0x1e72bf=a312_0x1689;(function(_0x2f8b14,_0x1807d4){const _0x3f16c6=a312_0x1689,_0x4c79f2=_0x2f8b14();while(!![]){try{const _0x338f4e=-parseInt(_0x3f16c6(0x167))/0x1+-parseInt(_0x3f16c6(0x184))/0x2*(-parseInt(_0x3f16c6(0x165))/0x3)+parseInt(_0x3f16c6(0x178))/0x4+-parseInt(_0x3f16c6(0x162))/0x5+parseInt(_0x3f16c6(0x15e))/0x6+parseInt(_0x3f16c6(0x176))/0x7+-parseInt(_0x3f16c6(0x168))/0x8;if(_0x338f4e===_0x1807d4)break;else _0x4c79f2['push'](_0x4c79f2['shift']());}catch(_0x5b448a){_0x4c79f2['push'](_0x4c79f2['shift']());}}}(a312_0x25d6,0x6e84f));const a312_0x325ba0=(function(){let _0x440344=!![];return function(_0x58ac97,_0x13c1c4){const _0x176b99=_0x440344?function(){const _0xf0505e=a312_0x1689;if(_0x13c1c4){const _0x5bdc38=_0x13c1c4[_0xf0505e(0x166)](_0x58ac97,arguments);return _0x13c1c4=null,_0x5bdc38;}}:function(){};return _0x440344=![],_0x176b99;};}()),a312_0x97e6b2=a312_0x325ba0(this,function(){const _0x2c8d29=a312_0x1689;return a312_0x97e6b2['toString']()[_0x2c8d29(0x16f)](_0x2c8d29(0x183))[_0x2c8d29(0x164)]()['constructor'](a312_0x97e6b2)[_0x2c8d29(0x16f)](_0x2c8d29(0x183));});a312_0x97e6b2();'use strict';var __importDefault=this&&this[a312_0x1e72bf(0x17b)]||function(_0x3f4764){const _0x2a1b60=a312_0x1e72bf;return _0x3f4764&&_0x3f4764[_0x2a1b60(0x173)]?_0x3f4764:{'default':_0x3f4764};};function a312_0x1689(_0x436c6f,_0x2ebd3d){const _0x1d4c79=a312_0x25d6();return a312_0x1689=function(_0x97e6b2,_0x325ba0){_0x97e6b2=_0x97e6b2-0x15b;let _0x25d6e4=_0x1d4c79[_0x97e6b2];return _0x25d6e4;},a312_0x1689(_0x436c6f,_0x2ebd3d);}Object['defineProperty'](exports,a312_0x1e72bf(0x173),{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;const jszip_1=__importDefault(require(a312_0x1e72bf(0x163))),factory_body_creator_rollback_1=require(a312_0x1e72bf(0x17e)),xml2js_1=require(a312_0x1e72bf(0x17a));class ZipCreatorRollback{constructor({deploymentResults:_0x2b50db,backup:_0xc46ad4,rollbackName:_0x4b55af}){const _0x58eb35=a312_0x1e72bf;this[_0x58eb35(0x174)]=_0x2b50db,this['_rollbackName']=_0x4b55af,this['_backup']=_0xc46ad4;}async[a312_0x1e72bf(0x16c)](){const _0x41a72a=a312_0x1e72bf;this[_0x41a72a(0x15c)]=new jszip_1[(_0x41a72a(0x175))](),this[_0x41a72a(0x17c)]=new jszip_1['default'](),await this[_0x41a72a(0x15c)][_0x41a72a(0x179)](this[_0x41a72a(0x182)],{'base64':!![]});}[a312_0x1e72bf(0x17f)](){const _0x5a011c=a312_0x1e72bf;this[_0x5a011c(0x174)]['sort']((_0x46c7e9,_0x246935)=>_0x46c7e9[_0x5a011c(0x171)]<_0x246935['stepName']?0x1:_0x246935[_0x5a011c(0x171)]<_0x46c7e9[_0x5a011c(0x171)]?-0x1:0x0);}async[a312_0x1e72bf(0x17d)](){const _0xe33865=a312_0x1e72bf;for(const _0x5f5b08 of this[_0xe33865(0x174)]){const _0x3875ef=await factory_body_creator_rollback_1[_0xe33865(0x172)][_0xe33865(0x16a)]({'deploymentResult':_0x5f5b08,'backupZip':this[_0xe33865(0x15c)]})[_0xe33865(0x16a)](),{type:_0xf24305,name:_0x2e2422}=_0x5f5b08;this[_0xe33865(0x17c)][_0xe33865(0x161)](_0xf24305+'.'+_0x2e2422+_0xe33865(0x15b),_0x3875ef);}const _0x11dc68=new xml2js_1[(_0xe33865(0x15f))]({'headless':!![]}),_0x3a65ac={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this[_0xe33865(0x160)],'source':{'vault':undefined,'author':_0xe33865(0x177)},'packagetype':_0xe33865(0x16d),'summary':_0xe33865(0x169),'description':_0xe33865(0x180)}};this['_zip'][_0xe33865(0x161)](_0xe33865(0x15d),_0x11dc68[_0xe33865(0x181)](_0x3a65ac));}async['create'](){const _0x284f86=a312_0x1e72bf;return await this[_0x284f86(0x16c)](),this[_0x284f86(0x17f)](),await this[_0x284f86(0x17d)](),this['_zip'][_0x284f86(0x16b)]({'type':_0x284f86(0x170)});}}exports[a312_0x1e72bf(0x16e)]=ZipCreatorRollback;