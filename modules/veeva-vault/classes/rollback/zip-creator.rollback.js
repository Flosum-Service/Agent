const a366_0xfdff89=a366_0x3d83;(function(_0x237263,_0x44c0bb){const _0x302001=a366_0x3d83,_0x2eb5de=_0x237263();while(!![]){try{const _0x2a25fb=-parseInt(_0x302001(0x15b))/0x1+parseInt(_0x302001(0x17f))/0x2+-parseInt(_0x302001(0x178))/0x3+parseInt(_0x302001(0x165))/0x4+parseInt(_0x302001(0x179))/0x5*(parseInt(_0x302001(0x15c))/0x6)+-parseInt(_0x302001(0x15d))/0x7*(-parseInt(_0x302001(0x16c))/0x8)+-parseInt(_0x302001(0x17d))/0x9;if(_0x2a25fb===_0x44c0bb)break;else _0x2eb5de['push'](_0x2eb5de['shift']());}catch(_0x40ecd5){_0x2eb5de['push'](_0x2eb5de['shift']());}}}(a366_0x2907,0xe9dd0));const a366_0x58e349=(function(){let _0x36bafa=!![];return function(_0x2b2174,_0x24ed56){const _0x1b3b23=_0x36bafa?function(){if(_0x24ed56){const _0x2e322a=_0x24ed56['apply'](_0x2b2174,arguments);return _0x24ed56=null,_0x2e322a;}}:function(){};return _0x36bafa=![],_0x1b3b23;};}()),a366_0x151f6a=a366_0x58e349(this,function(){const _0x41f812=a366_0x3d83;return a366_0x151f6a['toString']()[_0x41f812(0x169)]('(((.+)+)+)+$')['toString']()['constructor'](a366_0x151f6a)[_0x41f812(0x169)](_0x41f812(0x174));});a366_0x151f6a();'use strict';var __importDefault=this&&this[a366_0xfdff89(0x17c)]||function(_0x3abb6e){const _0x2bf447=a366_0xfdff89;return _0x3abb6e&&_0x3abb6e[_0x2bf447(0x16f)]?_0x3abb6e:{'default':_0x3abb6e};};Object['defineProperty'](exports,a366_0xfdff89(0x16f),{'value':!![]}),exports[a366_0xfdff89(0x173)]=void 0x0;const jszip_1=__importDefault(require(a366_0xfdff89(0x16e))),factory_body_creator_rollback_1=require(a366_0xfdff89(0x17a)),xml2js_1=require(a366_0xfdff89(0x172));class ZipCreatorRollback{constructor({deploymentResults:_0x317e3a,backup:_0x4a011f,rollbackName:_0x392fd8}){const _0x4d762e=a366_0xfdff89;this[_0x4d762e(0x171)]=_0x317e3a,this[_0x4d762e(0x163)]=_0x392fd8,this[_0x4d762e(0x176)]=_0x4a011f;}async['createZips'](){const _0x4de511=a366_0xfdff89;this[_0x4de511(0x161)]=new jszip_1[(_0x4de511(0x175))](),this[_0x4de511(0x16b)]=new jszip_1[(_0x4de511(0x175))](),await this[_0x4de511(0x161)]['loadAsync'](this[_0x4de511(0x176)],{'base64':!![]});}['sortDeploymentResults'](){const _0x5929c0=a366_0xfdff89;this[_0x5929c0(0x171)][_0x5929c0(0x162)]((_0xa281f7,_0x3066a0)=>_0xa281f7['stepName']<_0x3066a0[_0x5929c0(0x15e)]?0x1:_0x3066a0[_0x5929c0(0x15e)]<_0xa281f7[_0x5929c0(0x15e)]?-0x1:0x0);}async[a366_0xfdff89(0x177)](){const _0x5c0242=a366_0xfdff89;for(const _0x2fed18 of this[_0x5c0242(0x171)]){const _0x39fae6=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback'][_0x5c0242(0x159)]({'deploymentResult':_0x2fed18,'backupZip':this['_backupZip']})['create'](),{type:_0x34672c,name:_0x1be189}=_0x2fed18;this[_0x5c0242(0x16b)][_0x5c0242(0x168)](_0x34672c+'.'+_0x1be189+_0x5c0242(0x16d),_0x39fae6);}const _0x572707=new xml2js_1[(_0x5c0242(0x17b))]({'headless':!![]}),_0x3e85bc={'vaultpackage':{'$':{'xmlns':_0x5c0242(0x167)},'name':this[_0x5c0242(0x163)],'source':{'vault':undefined,'author':_0x5c0242(0x170)},'packagetype':_0x5c0242(0x164),'summary':_0x5c0242(0x16a),'description':_0x5c0242(0x166)}};this[_0x5c0242(0x16b)][_0x5c0242(0x168)](_0x5c0242(0x160),_0x572707[_0x5c0242(0x15f)](_0x3e85bc));}async[a366_0xfdff89(0x159)](){const _0xea9dfa=a366_0xfdff89;return await this[_0xea9dfa(0x15a)](),this[_0xea9dfa(0x17e)](),await this[_0xea9dfa(0x177)](),this['_zip']['generateAsync']({'type':'nodebuffer'});}}function a366_0x3d83(_0x4ca6c7,_0x3606ab){const _0x5b937f=a366_0x2907();return a366_0x3d83=function(_0x151f6a,_0x58e349){_0x151f6a=_0x151f6a-0x159;let _0x2907e5=_0x5b937f[_0x151f6a];return _0x2907e5;},a366_0x3d83(_0x4ca6c7,_0x3606ab);}exports[a366_0xfdff89(0x173)]=ZipCreatorRollback;function a366_0x2907(){const _0x5eab6c=['https://veevavault.com/','file','search','Rollback','_zip','8WiAheZ','.mdl','jszip','__esModule','Flosum','_deploymentResults','xml2js','ZipCreatorRollback','(((.+)+)+)+$','default','_backup','fillZip','4270653CHZrDz','347435NkDMfF','./body-creator/factory.body-creator.rollback','Builder','__importDefault','22291434krJmFW','sortDeploymentResults','2315630ewlzHq','create','createZips','222549NfuBoq','72AguUWx','10929394UiQMGZ','stepName','buildObject','vaultpackage.xml','_backupZip','sort','_rollbackName','migration__v','6111316ANiICY','null'];a366_0x2907=function(){return _0x5eab6c;};return a366_0x2907();}