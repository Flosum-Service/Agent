const a334_0xa36fcb=a334_0x5929;(function(_0x18ba9c,_0x2148ba){const _0x50d5fd=a334_0x5929,_0x5f25b1=_0x18ba9c();while(!![]){try{const _0x4cc50d=parseInt(_0x50d5fd(0xa7))/0x1+-parseInt(_0x50d5fd(0xc4))/0x2*(-parseInt(_0x50d5fd(0xc9))/0x3)+-parseInt(_0x50d5fd(0xab))/0x4*(-parseInt(_0x50d5fd(0xcd))/0x5)+parseInt(_0x50d5fd(0xc6))/0x6*(parseInt(_0x50d5fd(0xb4))/0x7)+-parseInt(_0x50d5fd(0xac))/0x8*(-parseInt(_0x50d5fd(0xaf))/0x9)+-parseInt(_0x50d5fd(0xa9))/0xa+-parseInt(_0x50d5fd(0xb2))/0xb;if(_0x4cc50d===_0x2148ba)break;else _0x5f25b1['push'](_0x5f25b1['shift']());}catch(_0x1334a9){_0x5f25b1['push'](_0x5f25b1['shift']());}}}(a334_0x25e0,0x4ab5b));const a334_0x224408=(function(){let _0x6977a3=!![];return function(_0x3198e7,_0x4c09e6){const _0x4b04a0=_0x6977a3?function(){const _0x46bcd7=a334_0x5929;if(_0x4c09e6){const _0x388028=_0x4c09e6[_0x46bcd7(0xb8)](_0x3198e7,arguments);return _0x4c09e6=null,_0x388028;}}:function(){};return _0x6977a3=![],_0x4b04a0;};}()),a334_0x5ee400=a334_0x224408(this,function(){const _0xec5980=a334_0x5929;return a334_0x5ee400['toString']()[_0xec5980(0xb9)](_0xec5980(0xc7))['toString']()[_0xec5980(0xce)](a334_0x5ee400)[_0xec5980(0xb9)]('(((.+)+)+)+$');});a334_0x5ee400();function a334_0x25e0(){const _0x463635=['https://veevavault.com/','null','16389qZNiph','nodebuffer','sortDeploymentResults','5230731getIhh','_deploymentResults','23639fHngZo','generateAsync','./body-creator/factory.body-creator.rollback','buildObject','apply','search','sort','stepName','__esModule','ZipCreatorRollback','_backup','file','Flosum','__importDefault','xml2js','_rollbackName','2YwtAof','_backupZip','1038ICEIri','(((.+)+)+)+$','default','562740VrakCu','Rollback','fillZip','create','1265xJRdiT','constructor','_zip','330678Yqhuwu','jszip','5568210JegPyj','FactoryBodyCreatorRollback','188CHARRp','984wSColD'];a334_0x25e0=function(){return _0x463635;};return a334_0x25e0();}'use strict';var __importDefault=this&&this[a334_0xa36fcb(0xc1)]||function(_0x1e87a8){const _0x1d5941=a334_0xa36fcb;return _0x1e87a8&&_0x1e87a8[_0x1d5941(0xbc)]?_0x1e87a8:{'default':_0x1e87a8};};function a334_0x5929(_0x15197d,_0x28b451){const _0x330b29=a334_0x25e0();return a334_0x5929=function(_0x5ee400,_0x224408){_0x5ee400=_0x5ee400-0xa6;let _0x25e04a=_0x330b29[_0x5ee400];return _0x25e04a;},a334_0x5929(_0x15197d,_0x28b451);}Object['defineProperty'](exports,a334_0xa36fcb(0xbc),{'value':!![]}),exports[a334_0xa36fcb(0xbd)]=void 0x0;const jszip_1=__importDefault(require(a334_0xa36fcb(0xa8))),factory_body_creator_rollback_1=require(a334_0xa36fcb(0xb6)),xml2js_1=require(a334_0xa36fcb(0xc2));class ZipCreatorRollback{constructor({deploymentResults:_0x2ec535,backup:_0x5b4d1c,rollbackName:_0xc748cf}){const _0x4ff39d=a334_0xa36fcb;this['_deploymentResults']=_0x2ec535,this[_0x4ff39d(0xc3)]=_0xc748cf,this[_0x4ff39d(0xbe)]=_0x5b4d1c;}async['createZips'](){const _0x4d1f34=a334_0xa36fcb;this[_0x4d1f34(0xc5)]=new jszip_1[(_0x4d1f34(0xc8))](),this[_0x4d1f34(0xa6)]=new jszip_1[(_0x4d1f34(0xc8))](),await this['_backupZip']['loadAsync'](this[_0x4d1f34(0xbe)],{'base64':!![]});}[a334_0xa36fcb(0xb1)](){const _0x557ecc=a334_0xa36fcb;this[_0x557ecc(0xb3)][_0x557ecc(0xba)]((_0xcdd017,_0x3fae90)=>_0xcdd017[_0x557ecc(0xbb)]<_0x3fae90[_0x557ecc(0xbb)]?0x1:_0x3fae90[_0x557ecc(0xbb)]<_0xcdd017[_0x557ecc(0xbb)]?-0x1:0x0);}async[a334_0xa36fcb(0xcb)](){const _0x4a7793=a334_0xa36fcb;for(const _0x3d9f73 of this[_0x4a7793(0xb3)]){const _0x3147e7=await factory_body_creator_rollback_1[_0x4a7793(0xaa)]['create']({'deploymentResult':_0x3d9f73,'backupZip':this[_0x4a7793(0xc5)]})[_0x4a7793(0xcc)](),{type:_0x778fca,name:_0x45a0af}=_0x3d9f73;this[_0x4a7793(0xa6)][_0x4a7793(0xbf)](_0x778fca+'.'+_0x45a0af+'.mdl',_0x3147e7);}const _0x19263c=new xml2js_1['Builder']({'headless':!![]}),_0x3fa3da={'vaultpackage':{'$':{'xmlns':_0x4a7793(0xad)},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x4a7793(0xc0)},'packagetype':'migration__v','summary':_0x4a7793(0xca),'description':_0x4a7793(0xae)}};this['_zip'][_0x4a7793(0xbf)]('vaultpackage.xml',_0x19263c[_0x4a7793(0xb7)](_0x3fa3da));}async[a334_0xa36fcb(0xcc)](){const _0x45372f=a334_0xa36fcb;return await this['createZips'](),this[_0x45372f(0xb1)](),await this[_0x45372f(0xcb)](),this['_zip'][_0x45372f(0xb5)]({'type':_0x45372f(0xb0)});}}exports[a334_0xa36fcb(0xbd)]=ZipCreatorRollback;