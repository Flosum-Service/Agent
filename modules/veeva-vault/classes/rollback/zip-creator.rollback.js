const a378_0x3aeb27=a378_0x3bfa;(function(_0x3a711f,_0x331ace){const _0x441a85=a378_0x3bfa,_0x32d24a=_0x3a711f();while(!![]){try{const _0x44303d=parseInt(_0x441a85(0x1f1))/0x1*(parseInt(_0x441a85(0x1f8))/0x2)+-parseInt(_0x441a85(0x1fc))/0x3+-parseInt(_0x441a85(0x1f0))/0x4*(-parseInt(_0x441a85(0x1f2))/0x5)+-parseInt(_0x441a85(0x20d))/0x6+parseInt(_0x441a85(0x1e9))/0x7+parseInt(_0x441a85(0x20a))/0x8*(-parseInt(_0x441a85(0x209))/0x9)+parseInt(_0x441a85(0x1ee))/0xa;if(_0x44303d===_0x331ace)break;else _0x32d24a['push'](_0x32d24a['shift']());}catch(_0x127f36){_0x32d24a['push'](_0x32d24a['shift']());}}}(a378_0x4ed3,0xddfe5));function a378_0x4ed3(){const _0x3f0ad3=['16LbGsIh','stepName','defineProperty','9245310uGFKMz','ZipCreatorRollback','sort','8116304SaekKo','jszip','Flosum','toString','_backupZip','14625740DztkCr','_backup','2181056wXUNqY','4srcXpl','15FVQDcO','_deploymentResults','Rollback','(((.+)+)+)+$','vaultpackage.xml','generateAsync','524756gcSDHW','Builder','sortDeploymentResults','apply','3961176AhxJFF','fillZip','default','_zip','create','buildObject','nodebuffer','https://veevavault.com/','./body-creator/factory.body-creator.rollback','_rollbackName','file','search','createZips','6915546jyrKeF'];a378_0x4ed3=function(){return _0x3f0ad3;};return a378_0x4ed3();}const a378_0x449e28=(function(){let _0x57cace=!![];return function(_0x2e4b94,_0x22fd29){const _0x48bf89=_0x57cace?function(){const _0x230f24=a378_0x3bfa;if(_0x22fd29){const _0x5eee52=_0x22fd29[_0x230f24(0x1fb)](_0x2e4b94,arguments);return _0x22fd29=null,_0x5eee52;}}:function(){};return _0x57cace=![],_0x48bf89;};}()),a378_0x18befc=a378_0x449e28(this,function(){const _0x41956d=a378_0x3bfa;return a378_0x18befc[_0x41956d(0x1ec)]()[_0x41956d(0x207)](_0x41956d(0x1f5))[_0x41956d(0x1ec)]()['constructor'](a378_0x18befc)[_0x41956d(0x207)]('(((.+)+)+)+$');});a378_0x18befc();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4bce31){return _0x4bce31&&_0x4bce31['__esModule']?_0x4bce31:{'default':_0x4bce31};};Object[a378_0x3aeb27(0x20c)](exports,'__esModule',{'value':!![]}),exports[a378_0x3aeb27(0x1e7)]=void 0x0;function a378_0x3bfa(_0x31199c,_0x42c0ff){const _0x2c7662=a378_0x4ed3();return a378_0x3bfa=function(_0x18befc,_0x449e28){_0x18befc=_0x18befc-0x1e7;let _0x4ed3da=_0x2c7662[_0x18befc];return _0x4ed3da;},a378_0x3bfa(_0x31199c,_0x42c0ff);}const jszip_1=__importDefault(require(a378_0x3aeb27(0x1ea))),factory_body_creator_rollback_1=require(a378_0x3aeb27(0x204)),xml2js_1=require('xml2js');class ZipCreatorRollback{constructor({deploymentResults:_0x38c8e1,backup:_0x36636e,rollbackName:_0x3cc1e8}){const _0x2f7e33=a378_0x3aeb27;this[_0x2f7e33(0x1f3)]=_0x38c8e1,this[_0x2f7e33(0x205)]=_0x3cc1e8,this[_0x2f7e33(0x1ef)]=_0x36636e;}async[a378_0x3aeb27(0x208)](){const _0x191ffb=a378_0x3aeb27;this[_0x191ffb(0x1ed)]=new jszip_1['default'](),this[_0x191ffb(0x1ff)]=new jszip_1[(_0x191ffb(0x1fe))](),await this[_0x191ffb(0x1ed)]['loadAsync'](this[_0x191ffb(0x1ef)],{'base64':!![]});}[a378_0x3aeb27(0x1fa)](){const _0x3e62c1=a378_0x3aeb27;this[_0x3e62c1(0x1f3)][_0x3e62c1(0x1e8)]((_0x1f90ed,_0x1640da)=>_0x1f90ed[_0x3e62c1(0x20b)]<_0x1640da[_0x3e62c1(0x20b)]?0x1:_0x1640da[_0x3e62c1(0x20b)]<_0x1f90ed[_0x3e62c1(0x20b)]?-0x1:0x0);}async[a378_0x3aeb27(0x1fd)](){const _0x2e11fb=a378_0x3aeb27;for(const _0x110f09 of this[_0x2e11fb(0x1f3)]){const _0x12b248=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback'][_0x2e11fb(0x200)]({'deploymentResult':_0x110f09,'backupZip':this[_0x2e11fb(0x1ed)]})[_0x2e11fb(0x200)](),{type:_0x5f385a,name:_0x19cfba}=_0x110f09;this[_0x2e11fb(0x1ff)][_0x2e11fb(0x206)](_0x5f385a+'.'+_0x19cfba+'.mdl',_0x12b248);}const _0x5d4b30=new xml2js_1[(_0x2e11fb(0x1f9))]({'headless':!![]}),_0x2e68a8={'vaultpackage':{'$':{'xmlns':_0x2e11fb(0x203)},'name':this[_0x2e11fb(0x205)],'source':{'vault':undefined,'author':_0x2e11fb(0x1eb)},'packagetype':'migration__v','summary':_0x2e11fb(0x1f4),'description':'null'}};this[_0x2e11fb(0x1ff)]['file'](_0x2e11fb(0x1f6),_0x5d4b30[_0x2e11fb(0x201)](_0x2e68a8));}async[a378_0x3aeb27(0x200)](){const _0xca644e=a378_0x3aeb27;return await this[_0xca644e(0x208)](),this[_0xca644e(0x1fa)](),await this[_0xca644e(0x1fd)](),this[_0xca644e(0x1ff)][_0xca644e(0x1f7)]({'type':_0xca644e(0x202)});}}exports[a378_0x3aeb27(0x1e7)]=ZipCreatorRollback;