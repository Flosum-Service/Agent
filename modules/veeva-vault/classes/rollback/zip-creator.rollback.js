const a335_0x39a3af=a335_0x243e;(function(_0x1e621d,_0x2ee9d2){const _0x3232a3=a335_0x243e,_0xdcd204=_0x1e621d();while(!![]){try{const _0x1c91fe=parseInt(_0x3232a3(0xd6))/0x1*(-parseInt(_0x3232a3(0xcb))/0x2)+parseInt(_0x3232a3(0xe1))/0x3*(parseInt(_0x3232a3(0xea))/0x4)+-parseInt(_0x3232a3(0xbf))/0x5*(-parseInt(_0x3232a3(0xd2))/0x6)+parseInt(_0x3232a3(0xc0))/0x7*(-parseInt(_0x3232a3(0xe3))/0x8)+parseInt(_0x3232a3(0xdb))/0x9*(-parseInt(_0x3232a3(0xca))/0xa)+-parseInt(_0x3232a3(0xe7))/0xb*(-parseInt(_0x3232a3(0xda))/0xc)+parseInt(_0x3232a3(0xcd))/0xd;if(_0x1c91fe===_0x2ee9d2)break;else _0xdcd204['push'](_0xdcd204['shift']());}catch(_0x623945){_0xdcd204['push'](_0xdcd204['shift']());}}}(a335_0x4d7c,0x96c0a));function a335_0x4d7c(){const _0xdba1d7=['7pHMnTE','sort','(((.+)+)+)+$','./body-creator/factory.body-creator.rollback','constructor','search','_backupZip','loadAsync','generateAsync','nodebuffer','3670DPEVIN','2258RFbDpw','createZips','19753968ABUEhm','_rollbackName','Flosum','__importDefault','https://veevavault.com/','78AWivTA','buildObject','_backup','toString','378ITuGvK','ZipCreatorRollback','_zip','migration__v','268764exSXhE','22203BkHMCT','FactoryBodyCreatorRollback','_deploymentResults','stepName','create','apply','1854FdasiR','vaultpackage.xml','6781816bgjLlJ','.mdl','__esModule','xml2js','33bTdiBB','fillZip','default','2612Hpykfz','null','jszip','file','310415oOxVAu'];a335_0x4d7c=function(){return _0xdba1d7;};return a335_0x4d7c();}const a335_0x2272ad=(function(){let _0xf1961e=!![];return function(_0xe27d1e,_0x2c11af){const _0x570ea7=_0xf1961e?function(){const _0x5129f4=a335_0x243e;if(_0x2c11af){const _0x41e8a2=_0x2c11af[_0x5129f4(0xe0)](_0xe27d1e,arguments);return _0x2c11af=null,_0x41e8a2;}}:function(){};return _0xf1961e=![],_0x570ea7;};}()),a335_0x340cf3=a335_0x2272ad(this,function(){const _0x24fa29=a335_0x243e;return a335_0x340cf3[_0x24fa29(0xd5)]()[_0x24fa29(0xc5)](_0x24fa29(0xc2))['toString']()[_0x24fa29(0xc4)](a335_0x340cf3)[_0x24fa29(0xc5)](_0x24fa29(0xc2));});a335_0x340cf3();'use strict';var __importDefault=this&&this[a335_0x39a3af(0xd0)]||function(_0x2818ec){const _0x55e094=a335_0x39a3af;return _0x2818ec&&_0x2818ec[_0x55e094(0xe5)]?_0x2818ec:{'default':_0x2818ec};};Object['defineProperty'](exports,a335_0x39a3af(0xe5),{'value':!![]}),exports[a335_0x39a3af(0xd7)]=void 0x0;const jszip_1=__importDefault(require(a335_0x39a3af(0xbd))),factory_body_creator_rollback_1=require(a335_0x39a3af(0xc3)),xml2js_1=require(a335_0x39a3af(0xe6));class ZipCreatorRollback{constructor({deploymentResults:_0x57cf8c,backup:_0x2c328c,rollbackName:_0xccb57f}){const _0xd01097=a335_0x39a3af;this[_0xd01097(0xdd)]=_0x57cf8c,this[_0xd01097(0xce)]=_0xccb57f,this[_0xd01097(0xd4)]=_0x2c328c;}async[a335_0x39a3af(0xcc)](){const _0x26bda4=a335_0x39a3af;this[_0x26bda4(0xc6)]=new jszip_1[(_0x26bda4(0xe9))](),this[_0x26bda4(0xd8)]=new jszip_1[(_0x26bda4(0xe9))](),await this[_0x26bda4(0xc6)][_0x26bda4(0xc7)](this['_backup'],{'base64':!![]});}['sortDeploymentResults'](){const _0x403011=a335_0x39a3af;this['_deploymentResults'][_0x403011(0xc1)]((_0xf98cc7,_0x471fad)=>_0xf98cc7[_0x403011(0xde)]<_0x471fad[_0x403011(0xde)]?0x1:_0x471fad['stepName']<_0xf98cc7[_0x403011(0xde)]?-0x1:0x0);}async[a335_0x39a3af(0xe8)](){const _0x3a6b52=a335_0x39a3af;for(const _0x41c95f of this[_0x3a6b52(0xdd)]){const _0x4d5c15=await factory_body_creator_rollback_1[_0x3a6b52(0xdc)][_0x3a6b52(0xdf)]({'deploymentResult':_0x41c95f,'backupZip':this[_0x3a6b52(0xc6)]})[_0x3a6b52(0xdf)](),{type:_0x55ce31,name:_0x437d43}=_0x41c95f;this['_zip'][_0x3a6b52(0xbe)](_0x55ce31+'.'+_0x437d43+_0x3a6b52(0xe4),_0x4d5c15);}const _0x3f085e=new xml2js_1['Builder']({'headless':!![]}),_0xc0288f={'vaultpackage':{'$':{'xmlns':_0x3a6b52(0xd1)},'name':this[_0x3a6b52(0xce)],'source':{'vault':undefined,'author':_0x3a6b52(0xcf)},'packagetype':_0x3a6b52(0xd9),'summary':'Rollback','description':_0x3a6b52(0xbc)}};this[_0x3a6b52(0xd8)][_0x3a6b52(0xbe)](_0x3a6b52(0xe2),_0x3f085e[_0x3a6b52(0xd3)](_0xc0288f));}async[a335_0x39a3af(0xdf)](){const _0x110f70=a335_0x39a3af;return await this['createZips'](),this['sortDeploymentResults'](),await this[_0x110f70(0xe8)](),this['_zip'][_0x110f70(0xc8)]({'type':_0x110f70(0xc9)});}}function a335_0x243e(_0x251f21,_0x57fa2e){const _0x523edc=a335_0x4d7c();return a335_0x243e=function(_0x340cf3,_0x2272ad){_0x340cf3=_0x340cf3-0xbc;let _0x4d7c43=_0x523edc[_0x340cf3];return _0x4d7c43;},a335_0x243e(_0x251f21,_0x57fa2e);}exports['ZipCreatorRollback']=ZipCreatorRollback;