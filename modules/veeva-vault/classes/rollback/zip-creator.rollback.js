function a334_0x57a2(_0x184b94,_0x3c6752){const _0x4da3ff=a334_0x3b9d();return a334_0x57a2=function(_0x53ac8e,_0x568548){_0x53ac8e=_0x53ac8e-0xa9;let _0x3b9d79=_0x4da3ff[_0x53ac8e];return _0x3b9d79;},a334_0x57a2(_0x184b94,_0x3c6752);}const a334_0x568773=a334_0x57a2;(function(_0x3b954f,_0xa921c1){const _0x12f4b9=a334_0x57a2,_0xf76a0b=_0x3b954f();while(!![]){try{const _0x3fac83=parseInt(_0x12f4b9(0xc2))/0x1+-parseInt(_0x12f4b9(0xab))/0x2*(-parseInt(_0x12f4b9(0xb8))/0x3)+-parseInt(_0x12f4b9(0xae))/0x4+parseInt(_0x12f4b9(0xbf))/0x5*(parseInt(_0x12f4b9(0xbe))/0x6)+-parseInt(_0x12f4b9(0xca))/0x7*(-parseInt(_0x12f4b9(0xcd))/0x8)+-parseInt(_0x12f4b9(0xb6))/0x9+parseInt(_0x12f4b9(0xc5))/0xa*(-parseInt(_0x12f4b9(0xc9))/0xb);if(_0x3fac83===_0xa921c1)break;else _0xf76a0b['push'](_0xf76a0b['shift']());}catch(_0x5e2b3e){_0xf76a0b['push'](_0xf76a0b['shift']());}}}(a334_0x3b9d,0xc290c));const a334_0x568548=(function(){let _0x34cc2c=!![];return function(_0x3bf4f2,_0x33ad24){const _0x5818eb=_0x34cc2c?function(){const _0x1b3fd0=a334_0x57a2;if(_0x33ad24){const _0x405128=_0x33ad24[_0x1b3fd0(0xc1)](_0x3bf4f2,arguments);return _0x33ad24=null,_0x405128;}}:function(){};return _0x34cc2c=![],_0x5818eb;};}()),a334_0x53ac8e=a334_0x568548(this,function(){const _0x344f1f=a334_0x57a2;return a334_0x53ac8e['toString']()['search'](_0x344f1f(0xb4))[_0x344f1f(0xc3)]()['constructor'](a334_0x53ac8e)[_0x344f1f(0xcb)](_0x344f1f(0xb4));});a334_0x53ac8e();function a334_0x3b9d(){const _0xab9ef0=['__esModule','_backup','create','defineProperty','sortDeploymentResults','186PKhPLg','140780tXpXTa','Builder','apply','1338810XNqiiJ','toString','./body-creator/factory.body-creator.rollback','64520qdtmjA','ZipCreatorRollback','stepName','.mdl','3179NmqzlY','7TiKVNG','search','null','9690248kKkGyW','buildObject','createZips','_rollbackName','251558DDznod','fillZip','_backupZip','4016420nQyQkg','_deploymentResults','Flosum','migration__v','_zip','default','(((.+)+)+)+$','file','9135396kXPhoi','__importDefault','30rvhJvh'];a334_0x3b9d=function(){return _0xab9ef0;};return a334_0x3b9d();}'use strict';var __importDefault=this&&this[a334_0x568773(0xb7)]||function(_0x57f932){const _0x5581e3=a334_0x568773;return _0x57f932&&_0x57f932[_0x5581e3(0xb9)]?_0x57f932:{'default':_0x57f932};};Object[a334_0x568773(0xbc)](exports,'__esModule',{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;const jszip_1=__importDefault(require('jszip')),factory_body_creator_rollback_1=require(a334_0x568773(0xc4)),xml2js_1=require('xml2js');class ZipCreatorRollback{constructor({deploymentResults:_0x52b7b7,backup:_0x31d5ba,rollbackName:_0x724190}){const _0x57ed67=a334_0x568773;this[_0x57ed67(0xaf)]=_0x52b7b7,this[_0x57ed67(0xaa)]=_0x724190,this[_0x57ed67(0xba)]=_0x31d5ba;}async[a334_0x568773(0xa9)](){const _0x42dc21=a334_0x568773;this['_backupZip']=new jszip_1['default'](),this['_zip']=new jszip_1[(_0x42dc21(0xb3))](),await this[_0x42dc21(0xad)]['loadAsync'](this['_backup'],{'base64':!![]});}[a334_0x568773(0xbd)](){const _0x43bec4=a334_0x568773;this[_0x43bec4(0xaf)]['sort']((_0x179250,_0x230a54)=>_0x179250[_0x43bec4(0xc7)]<_0x230a54[_0x43bec4(0xc7)]?0x1:_0x230a54[_0x43bec4(0xc7)]<_0x179250[_0x43bec4(0xc7)]?-0x1:0x0);}async[a334_0x568773(0xac)](){const _0x461254=a334_0x568773;for(const _0x486c31 of this['_deploymentResults']){const _0x18543f=await factory_body_creator_rollback_1['FactoryBodyCreatorRollback']['create']({'deploymentResult':_0x486c31,'backupZip':this[_0x461254(0xad)]})['create'](),{type:_0x1296fc,name:_0x1217bc}=_0x486c31;this[_0x461254(0xb2)][_0x461254(0xb5)](_0x1296fc+'.'+_0x1217bc+_0x461254(0xc8),_0x18543f);}const _0x106485=new xml2js_1[(_0x461254(0xc0))]({'headless':!![]}),_0x319227={'vaultpackage':{'$':{'xmlns':'https://veevavault.com/'},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x461254(0xb0)},'packagetype':_0x461254(0xb1),'summary':'Rollback','description':_0x461254(0xcc)}};this[_0x461254(0xb2)][_0x461254(0xb5)]('vaultpackage.xml',_0x106485[_0x461254(0xce)](_0x319227));}async[a334_0x568773(0xbb)](){const _0x505cba=a334_0x568773;return await this[_0x505cba(0xa9)](),this[_0x505cba(0xbd)](),await this[_0x505cba(0xac)](),this[_0x505cba(0xb2)]['generateAsync']({'type':'nodebuffer'});}}exports[a334_0x568773(0xc6)]=ZipCreatorRollback;