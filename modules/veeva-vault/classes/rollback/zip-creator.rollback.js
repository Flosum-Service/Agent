function a378_0x10fe(_0x1f74af,_0x28aecf){const _0xc38d48=a378_0x108a();return a378_0x10fe=function(_0x4c4982,_0x1ac4ab){_0x4c4982=_0x4c4982-0x103;let _0x108ab9=_0xc38d48[_0x4c4982];return _0x108ab9;},a378_0x10fe(_0x1f74af,_0x28aecf);}const a378_0x329176=a378_0x10fe;(function(_0x22996a,_0x495528){const _0x5e2d79=a378_0x10fe,_0x3b9388=_0x22996a();while(!![]){try{const _0x5317e2=parseInt(_0x5e2d79(0x125))/0x1*(-parseInt(_0x5e2d79(0x112))/0x2)+-parseInt(_0x5e2d79(0x10f))/0x3+parseInt(_0x5e2d79(0x124))/0x4+-parseInt(_0x5e2d79(0x111))/0x5+-parseInt(_0x5e2d79(0x10c))/0x6+parseInt(_0x5e2d79(0x105))/0x7*(parseInt(_0x5e2d79(0x107))/0x8)+-parseInt(_0x5e2d79(0x121))/0x9;if(_0x5317e2===_0x495528)break;else _0x3b9388['push'](_0x3b9388['shift']());}catch(_0x27528b){_0x3b9388['push'](_0x3b9388['shift']());}}}(a378_0x108a,0x99ca0));function a378_0x108a(){const _0x247797=['ZipCreatorRollback','.mdl','migration__v','_backup','3266253gvumGV','vaultpackage.xml','nodebuffer','3821252gXKAOY','76FLxpKL','createZips','toString','_backupZip','(((.+)+)+)+$','_deploymentResults','search','stepName','defineProperty','xml2js','7549654gEurRe','FactoryBodyCreatorRollback','8DMFMZX','default','_rollbackName','_zip','__esModule','443322EqMbIP','fillZip','null','914700SYSiGo','https://veevavault.com/','3037835oekRiK','1438LpcUfS','jszip','Rollback','__importDefault','Flosum','create','buildObject','sortDeploymentResults','./body-creator/factory.body-creator.rollback','file','loadAsync'];a378_0x108a=function(){return _0x247797;};return a378_0x108a();}const a378_0x1ac4ab=(function(){let _0x2f61be=!![];return function(_0x39c8c0,_0x1e50d5){const _0x1f6a09=_0x2f61be?function(){if(_0x1e50d5){const _0x558b8b=_0x1e50d5['apply'](_0x39c8c0,arguments);return _0x1e50d5=null,_0x558b8b;}}:function(){};return _0x2f61be=![],_0x1f6a09;};}()),a378_0x4c4982=a378_0x1ac4ab(this,function(){const _0x30761e=a378_0x10fe;return a378_0x4c4982[_0x30761e(0x127)]()[_0x30761e(0x12b)](_0x30761e(0x129))[_0x30761e(0x127)]()['constructor'](a378_0x4c4982)[_0x30761e(0x12b)](_0x30761e(0x129));});a378_0x4c4982();'use strict';var __importDefault=this&&this[a378_0x329176(0x115)]||function(_0x437ab3){const _0x46deea=a378_0x329176;return _0x437ab3&&_0x437ab3[_0x46deea(0x10b)]?_0x437ab3:{'default':_0x437ab3};};Object[a378_0x329176(0x103)](exports,a378_0x329176(0x10b),{'value':!![]}),exports['ZipCreatorRollback']=void 0x0;const jszip_1=__importDefault(require(a378_0x329176(0x113))),factory_body_creator_rollback_1=require(a378_0x329176(0x11a)),xml2js_1=require(a378_0x329176(0x104));class ZipCreatorRollback{constructor({deploymentResults:_0x2c8085,backup:_0x151e44,rollbackName:_0x49c8e1}){const _0x3ca086=a378_0x329176;this[_0x3ca086(0x12a)]=_0x2c8085,this[_0x3ca086(0x109)]=_0x49c8e1,this[_0x3ca086(0x120)]=_0x151e44;}async[a378_0x329176(0x126)](){const _0x2dec43=a378_0x329176;this[_0x2dec43(0x128)]=new jszip_1['default'](),this[_0x2dec43(0x10a)]=new jszip_1[(_0x2dec43(0x108))](),await this[_0x2dec43(0x128)][_0x2dec43(0x11c)](this[_0x2dec43(0x120)],{'base64':!![]});}[a378_0x329176(0x119)](){const _0x17b8f2=a378_0x329176;this['_deploymentResults']['sort']((_0x9731e7,_0x437224)=>_0x9731e7[_0x17b8f2(0x12c)]<_0x437224[_0x17b8f2(0x12c)]?0x1:_0x437224[_0x17b8f2(0x12c)]<_0x9731e7[_0x17b8f2(0x12c)]?-0x1:0x0);}async[a378_0x329176(0x10d)](){const _0x4676c1=a378_0x329176;for(const _0x3bc88e of this['_deploymentResults']){const _0x16c513=await factory_body_creator_rollback_1[_0x4676c1(0x106)][_0x4676c1(0x117)]({'deploymentResult':_0x3bc88e,'backupZip':this[_0x4676c1(0x128)]})[_0x4676c1(0x117)](),{type:_0x103d16,name:_0x2c98bb}=_0x3bc88e;this[_0x4676c1(0x10a)][_0x4676c1(0x11b)](_0x103d16+'.'+_0x2c98bb+_0x4676c1(0x11e),_0x16c513);}const _0x4990bc=new xml2js_1['Builder']({'headless':!![]}),_0x522112={'vaultpackage':{'$':{'xmlns':_0x4676c1(0x110)},'name':this['_rollbackName'],'source':{'vault':undefined,'author':_0x4676c1(0x116)},'packagetype':_0x4676c1(0x11f),'summary':_0x4676c1(0x114),'description':_0x4676c1(0x10e)}};this['_zip'][_0x4676c1(0x11b)](_0x4676c1(0x122),_0x4990bc[_0x4676c1(0x118)](_0x522112));}async[a378_0x329176(0x117)](){const _0x5a3b30=a378_0x329176;return await this[_0x5a3b30(0x126)](),this[_0x5a3b30(0x119)](),await this['fillZip'](),this[_0x5a3b30(0x10a)]['generateAsync']({'type':_0x5a3b30(0x123)});}}exports[a378_0x329176(0x11d)]=ZipCreatorRollback;