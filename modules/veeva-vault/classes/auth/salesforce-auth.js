const a352_0xaa8d2f=a352_0xe870;(function(_0x5c0925,_0x2d5b3c){const _0x1440b9=a352_0xe870,_0x1279a7=_0x5c0925();while(!![]){try{const _0x5b9792=parseInt(_0x1440b9(0x105))/0x1+-parseInt(_0x1440b9(0x108))/0x2+parseInt(_0x1440b9(0x104))/0x3*(parseInt(_0x1440b9(0x112))/0x4)+parseInt(_0x1440b9(0x115))/0x5*(parseInt(_0x1440b9(0x102))/0x6)+parseInt(_0x1440b9(0x10b))/0x7+-parseInt(_0x1440b9(0x10c))/0x8*(parseInt(_0x1440b9(0x111))/0x9)+parseInt(_0x1440b9(0x100))/0xa*(-parseInt(_0x1440b9(0xfd))/0xb);if(_0x5b9792===_0x2d5b3c)break;else _0x1279a7['push'](_0x1279a7['shift']());}catch(_0xac211d){_0x1279a7['push'](_0x1279a7['shift']());}}}(a352_0x5a8d,0x75841));function a352_0x5a8d(){const _0x4a68fb=['post','20sskrOx','joinURL','18svrCXW','__esModule','9045YrlHLa','361441PjarjO','./base-veeva-auth','axios','305604UqmSof','getAuthDetails','search','1427657GbTvTK','24Kgsjgh','instance_url','getLoginUrl','split','Unknown\x20Salesforce\x20Organization\x20type:\x20','1932669kSxvQd','996xdbcrr','env','toString','318005IRUFGh','BaseVeevaAuth','apply','auth','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','(((.+)+)+)+$','defineProperty','https://test.salesforce.com','SalesforceAuth','1257080qqGcww','https://login.salesforce.com'];a352_0x5a8d=function(){return _0x4a68fb;};return a352_0x5a8d();}const a352_0x5acaa9=(function(){let _0x1b3775=!![];return function(_0x462598,_0x20b993){const _0x6c921d=_0x1b3775?function(){const _0x10d6a7=a352_0xe870;if(_0x20b993){const _0x253200=_0x20b993[_0x10d6a7(0x117)](_0x462598,arguments);return _0x20b993=null,_0x253200;}}:function(){};return _0x1b3775=![],_0x6c921d;};}()),a352_0x38df8f=a352_0x5acaa9(this,function(){const _0x515d9b=a352_0xe870;return a352_0x38df8f['toString']()[_0x515d9b(0x10a)]('(((.+)+)+)+$')[_0x515d9b(0x114)]()['constructor'](a352_0x38df8f)[_0x515d9b(0x10a)](_0x515d9b(0xf9));});a352_0x38df8f();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4f4627){const _0x15d825=a352_0xe870;return _0x4f4627&&_0x4f4627[_0x15d825(0x103)]?_0x4f4627:{'default':_0x4f4627};};function a352_0xe870(_0x4bee79,_0x4be914){const _0x2d8f4e=a352_0x5a8d();return a352_0xe870=function(_0x38df8f,_0x5acaa9){_0x38df8f=_0x38df8f-0xf8;let _0x5a8d9e=_0x2d8f4e[_0x38df8f];return _0x5a8d9e;},a352_0xe870(_0x4bee79,_0x4be914);}Object[a352_0xaa8d2f(0xfa)](exports,a352_0xaa8d2f(0x103),{'value':!![]}),exports[a352_0xaa8d2f(0xfc)]=void 0x0;const axios_1=__importDefault(require(a352_0xaa8d2f(0x107))),utils_1=require('../../../shared/utils'),base_veeva_auth_1=require(a352_0xaa8d2f(0x106));class SalesforceAuth extends base_veeva_auth_1[a352_0xaa8d2f(0x116)]{constructor(_0x2569f4){const _0x17cc46=a352_0xaa8d2f;super(_0x2569f4),this[_0x17cc46(0x118)]=_0x2569f4;}async['getNewAccessToken'](){const _0x107d5d=a352_0xaa8d2f,{accessToken:_0x413a4f}=await SalesforceAuth[_0x107d5d(0x109)]();return _0x413a4f;}static async[a352_0xaa8d2f(0x109)](){const _0x8ab8b6=a352_0xaa8d2f,_0x4c0af7=process[_0x8ab8b6(0x113)]['SALESFORCE_TOKEN'];if(!_0x4c0af7)throw new Error('Salesforce\x20token\x20missing');const [_0x6949b7,_0x29382c,_0x2e6c21,_0x4deb6a]=_0x4c0af7['trim']()[_0x8ab8b6(0x10f)]('\x20');if(!_0x6949b7||!_0x29382c||!_0x2e6c21||!_0x4deb6a)throw new Error(_0x8ab8b6(0xf8));const _0x2817c9=SalesforceAuth['getLoginUrl'](_0x4deb6a),{data:_0x107074}=await axios_1['default'][_0x8ab8b6(0xff)]((0x0,utils_1[_0x8ab8b6(0x101)])(_0x2817c9,'/services/oauth2/token'),null,{'params':{'grant_type':'refresh_token','refresh_token':_0x6949b7,'client_id':_0x29382c,'client_secret':_0x2e6c21}});return{'instanceUrl':_0x107074[_0x8ab8b6(0x10d)],'accessToken':_0x107074['access_token']};}static[a352_0xaa8d2f(0x10e)](_0xdca692){const _0x32942e=a352_0xaa8d2f;switch(_0xdca692){case'Sandbox':return _0x32942e(0xfb);case'Production':return _0x32942e(0xfe);default:throw new Error(_0x32942e(0x110)+_0xdca692);}}}exports[a352_0xaa8d2f(0xfc)]=SalesforceAuth;