const a287_0x5387f1=a287_0x4a7b;function a287_0x4a7b(_0x470c29,_0x54d840){const _0x179223=a287_0x3e10();return a287_0x4a7b=function(_0x306886,_0x22f52c){_0x306886=_0x306886-0x18d;let _0x3e10ad=_0x179223[_0x306886];return _0x3e10ad;},a287_0x4a7b(_0x470c29,_0x54d840);}(function(_0x59a47a,_0x2abd36){const _0x27f449=a287_0x4a7b,_0x254921=_0x59a47a();while(!![]){try{const _0x19c490=parseInt(_0x27f449(0x198))/0x1+-parseInt(_0x27f449(0x19e))/0x2*(parseInt(_0x27f449(0x18e))/0x3)+-parseInt(_0x27f449(0x19a))/0x4+parseInt(_0x27f449(0x18f))/0x5+parseInt(_0x27f449(0x192))/0x6+-parseInt(_0x27f449(0x1a4))/0x7*(parseInt(_0x27f449(0x191))/0x8)+parseInt(_0x27f449(0x1a7))/0x9;if(_0x19c490===_0x2abd36)break;else _0x254921['push'](_0x254921['shift']());}catch(_0x498273){_0x254921['push'](_0x254921['shift']());}}}(a287_0x3e10,0x4ee26));const a287_0x22f52c=(function(){let _0x13eba4=!![];return function(_0x331c5d,_0x1a601e){const _0x4a184a=_0x13eba4?function(){if(_0x1a601e){const _0x1dc1c0=_0x1a601e['apply'](_0x331c5d,arguments);return _0x1a601e=null,_0x1dc1c0;}}:function(){};return _0x13eba4=![],_0x4a184a;};}()),a287_0x306886=a287_0x22f52c(this,function(){const _0x1d1361=a287_0x4a7b;return a287_0x306886[_0x1d1361(0x1a9)]()[_0x1d1361(0x19b)](_0x1d1361(0x193))[_0x1d1361(0x1a9)]()[_0x1d1361(0x199)](a287_0x306886)[_0x1d1361(0x19b)](_0x1d1361(0x193));});a287_0x306886();'use strict';var __importDefault=this&&this[a287_0x5387f1(0x19f)]||function(_0x546025){const _0x5bee81=a287_0x5387f1;return _0x546025&&_0x546025[_0x5bee81(0x1ae)]?_0x546025:{'default':_0x546025};};function a287_0x3e10(){const _0x1c8ced=['1338638qhCthO','https://login.salesforce.com','SalesforceAuth','5940981ltgbBo','trim','toString','joinURL','Unknown\x20Salesforce\x20Organization\x20type:\x20','getLoginUrl','Sandbox','__esModule','/services/oauth2/token','6ghbUBq','2704600zKpFzd','https://test.salesforce.com','24zqtLyo','2881668peIfpY','(((.+)+)+)+$','instance_url','Salesforce\x20token\x20missing','../../../shared/utils','access_token','7114quObYm','constructor','2137452QEseYw','search','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','post','257246QFvNhA','__importDefault','getAuthDetails','auth','SALESFORCE_TOKEN','default'];a287_0x3e10=function(){return _0x1c8ced;};return a287_0x3e10();}Object['defineProperty'](exports,a287_0x5387f1(0x1ae),{'value':!![]}),exports['SalesforceAuth']=void 0x0;const axios_1=__importDefault(require('axios')),utils_1=require(a287_0x5387f1(0x196)),base_veeva_auth_1=require('./base-veeva-auth');class SalesforceAuth extends base_veeva_auth_1['BaseVeevaAuth']{constructor(_0x95922b){const _0x2265d5=a287_0x5387f1;super(_0x95922b),this[_0x2265d5(0x1a1)]=_0x95922b;}async['getNewAccessToken'](){const _0xc2bfc7=a287_0x5387f1,{accessToken:_0x4511a0}=await SalesforceAuth[_0xc2bfc7(0x1a0)]();return _0x4511a0;}static async[a287_0x5387f1(0x1a0)](){const _0x4d3d53=a287_0x5387f1,_0x5c95dd=process['env'][_0x4d3d53(0x1a2)];if(!_0x5c95dd)throw new Error(_0x4d3d53(0x195));const [_0x258ba5,_0x1a9242,_0x4a9539,_0x48aac6]=_0x5c95dd[_0x4d3d53(0x1a8)]()['split']('\x20');if(!_0x258ba5||!_0x1a9242||!_0x4a9539||!_0x48aac6)throw new Error(_0x4d3d53(0x19c));const _0x2e8c56=SalesforceAuth[_0x4d3d53(0x1ac)](_0x48aac6),{data:_0x345540}=await axios_1[_0x4d3d53(0x1a3)][_0x4d3d53(0x19d)]((0x0,utils_1[_0x4d3d53(0x1aa)])(_0x2e8c56,_0x4d3d53(0x18d)),null,{'params':{'grant_type':'refresh_token','refresh_token':_0x258ba5,'client_id':_0x1a9242,'client_secret':_0x4a9539}});return{'instanceUrl':_0x345540[_0x4d3d53(0x194)],'accessToken':_0x345540[_0x4d3d53(0x197)]};}static[a287_0x5387f1(0x1ac)](_0x5123bf){const _0x20ea49=a287_0x5387f1;switch(_0x5123bf){case _0x20ea49(0x1ad):return _0x20ea49(0x190);case'Production':return _0x20ea49(0x1a5);default:throw new Error(_0x20ea49(0x1ab)+_0x5123bf);}}}exports[a287_0x5387f1(0x1a6)]=SalesforceAuth;