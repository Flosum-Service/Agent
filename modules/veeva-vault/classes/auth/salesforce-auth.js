const a308_0x46f71f=a308_0x1029;(function(_0x15b3ef,_0x16a835){const _0xe6ebf1=a308_0x1029,_0x45ed20=_0x15b3ef();while(!![]){try{const _0x121bb4=parseInt(_0xe6ebf1(0x1e2))/0x1*(parseInt(_0xe6ebf1(0x1da))/0x2)+parseInt(_0xe6ebf1(0x1db))/0x3+parseInt(_0xe6ebf1(0x1d6))/0x4+-parseInt(_0xe6ebf1(0x1e1))/0x5+-parseInt(_0xe6ebf1(0x1e9))/0x6+-parseInt(_0xe6ebf1(0x1ea))/0x7*(parseInt(_0xe6ebf1(0x1ec))/0x8)+-parseInt(_0xe6ebf1(0x1e4))/0x9*(parseInt(_0xe6ebf1(0x1d9))/0xa);if(_0x121bb4===_0x16a835)break;else _0x45ed20['push'](_0x45ed20['shift']());}catch(_0x3cd455){_0x45ed20['push'](_0x45ed20['shift']());}}}(a308_0x38e2,0x2ae05));function a308_0x38e2(){const _0x1f2d5a=['axios','trim','apply','post','(((.+)+)+)+$','/services/oauth2/token','constructor','./base-veeva-auth','SalesforceAuth','__esModule','https://login.salesforce.com','Sandbox','getLoginUrl','Production','845908PgCDUi','https://test.salesforce.com','default','70NgFRyY','672910gjYzTb','264744qudtej','Unknown\x20Salesforce\x20Organization\x20type:\x20','toString','env','BaseVeevaAuth','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','706710OGCjfr','1BLLXBv','SALESFORCE_TOKEN','88515QGLuVV','split','search','auth','access_token','826314KzSPCf','21LoybaU','defineProperty','300408chzbuX'];a308_0x38e2=function(){return _0x1f2d5a;};return a308_0x38e2();}const a308_0x3fa5b5=(function(){let _0x20d454=!![];return function(_0x36f73e,_0x536cad){const _0x5f143a=_0x20d454?function(){const _0x2a309a=a308_0x1029;if(_0x536cad){const _0x9f0f5=_0x536cad[_0x2a309a(0x1ca)](_0x36f73e,arguments);return _0x536cad=null,_0x9f0f5;}}:function(){};return _0x20d454=![],_0x5f143a;};}()),a308_0x4f3fa5=a308_0x3fa5b5(this,function(){const _0x352f3e=a308_0x1029;return a308_0x4f3fa5[_0x352f3e(0x1dd)]()[_0x352f3e(0x1e6)](_0x352f3e(0x1cc))[_0x352f3e(0x1dd)]()[_0x352f3e(0x1ce)](a308_0x4f3fa5)[_0x352f3e(0x1e6)]('(((.+)+)+)+$');});a308_0x4f3fa5();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5dc952){const _0x3cc662=a308_0x1029;return _0x5dc952&&_0x5dc952[_0x3cc662(0x1d1)]?_0x5dc952:{'default':_0x5dc952};};Object[a308_0x46f71f(0x1eb)](exports,a308_0x46f71f(0x1d1),{'value':!![]}),exports['SalesforceAuth']=void 0x0;const axios_1=__importDefault(require(a308_0x46f71f(0x1ed))),utils_1=require('../../../shared/utils'),base_veeva_auth_1=require(a308_0x46f71f(0x1cf));function a308_0x1029(_0x4735e0,_0x49bd69){const _0x19e553=a308_0x38e2();return a308_0x1029=function(_0x4f3fa5,_0x3fa5b5){_0x4f3fa5=_0x4f3fa5-0x1c9;let _0x38e279=_0x19e553[_0x4f3fa5];return _0x38e279;},a308_0x1029(_0x4735e0,_0x49bd69);}class SalesforceAuth extends base_veeva_auth_1[a308_0x46f71f(0x1df)]{constructor(_0x4a5922){const _0x56cd71=a308_0x46f71f;super(_0x4a5922),this[_0x56cd71(0x1e7)]=_0x4a5922;}async['getNewAccessToken'](){const {accessToken:_0x349ec0}=await SalesforceAuth['getAuthDetails']();return _0x349ec0;}static async['getAuthDetails'](){const _0x17c5e5=a308_0x46f71f,_0x1e0a0b=process[_0x17c5e5(0x1de)][_0x17c5e5(0x1e3)];if(!_0x1e0a0b)throw new Error('Salesforce\x20token\x20missing');const [_0x52e735,_0x238474,_0x5b66ec,_0x4db233]=_0x1e0a0b[_0x17c5e5(0x1c9)]()[_0x17c5e5(0x1e5)]('\x20');if(!_0x52e735||!_0x238474||!_0x5b66ec||!_0x4db233)throw new Error(_0x17c5e5(0x1e0));const _0x2b68a7=SalesforceAuth['getLoginUrl'](_0x4db233),{data:_0x4a8af9}=await axios_1[_0x17c5e5(0x1d8)][_0x17c5e5(0x1cb)]((0x0,utils_1['joinURL'])(_0x2b68a7,_0x17c5e5(0x1cd)),null,{'params':{'grant_type':'refresh_token','refresh_token':_0x52e735,'client_id':_0x238474,'client_secret':_0x5b66ec}});return{'instanceUrl':_0x4a8af9['instance_url'],'accessToken':_0x4a8af9[_0x17c5e5(0x1e8)]};}static[a308_0x46f71f(0x1d4)](_0x5b1696){const _0x5a4bbc=a308_0x46f71f;switch(_0x5b1696){case _0x5a4bbc(0x1d3):return _0x5a4bbc(0x1d7);case _0x5a4bbc(0x1d5):return _0x5a4bbc(0x1d2);default:throw new Error(_0x5a4bbc(0x1dc)+_0x5b1696);}}}exports[a308_0x46f71f(0x1d0)]=SalesforceAuth;