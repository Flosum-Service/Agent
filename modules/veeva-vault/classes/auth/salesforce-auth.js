const a303_0xfd0e86=a303_0x4602;(function(_0x2eba2a,_0x5018de){const _0x5cee61=a303_0x4602,_0x2ddd5a=_0x2eba2a();while(!![]){try{const _0x487d40=-parseInt(_0x5cee61(0xcd))/0x1*(-parseInt(_0x5cee61(0xb8))/0x2)+parseInt(_0x5cee61(0xae))/0x3*(parseInt(_0x5cee61(0xbd))/0x4)+-parseInt(_0x5cee61(0xb6))/0x5+-parseInt(_0x5cee61(0xbb))/0x6+-parseInt(_0x5cee61(0xc8))/0x7*(parseInt(_0x5cee61(0xc1))/0x8)+parseInt(_0x5cee61(0xc0))/0x9*(parseInt(_0x5cee61(0xad))/0xa)+parseInt(_0x5cee61(0xc3))/0xb*(-parseInt(_0x5cee61(0xab))/0xc);if(_0x487d40===_0x5018de)break;else _0x2ddd5a['push'](_0x2ddd5a['shift']());}catch(_0x385b94){_0x2ddd5a['push'](_0x2ddd5a['shift']());}}}(a303_0x23a0,0x6567e));const a303_0x39a61d=(function(){let _0x525fbd=!![];return function(_0xf64e42,_0x3f1ab4){const _0x3523eb=_0x525fbd?function(){const _0x1f2e3a=a303_0x4602;if(_0x3f1ab4){const _0xa66025=_0x3f1ab4[_0x1f2e3a(0xb0)](_0xf64e42,arguments);return _0x3f1ab4=null,_0xa66025;}}:function(){};return _0x525fbd=![],_0x3523eb;};}()),a303_0x1a61fe=a303_0x39a61d(this,function(){const _0x371035=a303_0x4602;return a303_0x1a61fe[_0x371035(0xac)]()[_0x371035(0xc7)](_0x371035(0xcc))[_0x371035(0xac)]()[_0x371035(0xcf)](a303_0x1a61fe)['search']('(((.+)+)+)+$');});function a303_0x23a0(){const _0x51d5d8=['getLoginUrl','joinURL','3661407AcnQvQ','8wFiUxR','trim','11TNTMQL','https://login.salesforce.com','Production','__importDefault','search','485821utiTkU','Unknown\x20Salesforce\x20Organization\x20type:\x20','SalesforceAuth','split','(((.+)+)+)+$','500551AMmKKj','Salesforce\x20token\x20missing','constructor','post','5614548fZZKUz','toString','20CpijJW','133212TaBray','Sandbox','apply','SALESFORCE_TOKEN','getNewAccessToken','default','auth','../../../shared/utils','2629805EAarOy','getAuthDetails','2iKxufE','access_token','refresh_token','2477088QkNlvS','__esModule','52ftzspp'];a303_0x23a0=function(){return _0x51d5d8;};return a303_0x23a0();}a303_0x1a61fe();'use strict';var __importDefault=this&&this[a303_0xfd0e86(0xc6)]||function(_0x58ab81){const _0x120282=a303_0xfd0e86;return _0x58ab81&&_0x58ab81[_0x120282(0xbc)]?_0x58ab81:{'default':_0x58ab81};};Object['defineProperty'](exports,a303_0xfd0e86(0xbc),{'value':!![]}),exports[a303_0xfd0e86(0xca)]=void 0x0;function a303_0x4602(_0x470a5a,_0x30864f){const _0x167933=a303_0x23a0();return a303_0x4602=function(_0x1a61fe,_0x39a61d){_0x1a61fe=_0x1a61fe-0xab;let _0x23a0eb=_0x167933[_0x1a61fe];return _0x23a0eb;},a303_0x4602(_0x470a5a,_0x30864f);}const axios_1=__importDefault(require('axios')),utils_1=require(a303_0xfd0e86(0xb5)),base_veeva_auth_1=require('./base-veeva-auth');class SalesforceAuth extends base_veeva_auth_1['BaseVeevaAuth']{constructor(_0x24629c){const _0x2a654b=a303_0xfd0e86;super(_0x24629c),this[_0x2a654b(0xb4)]=_0x24629c;}async[a303_0xfd0e86(0xb2)](){const _0x45d3e1=a303_0xfd0e86,{accessToken:_0x166a59}=await SalesforceAuth[_0x45d3e1(0xb7)]();return _0x166a59;}static async[a303_0xfd0e86(0xb7)](){const _0x4bbdfb=a303_0xfd0e86,_0x40f803=process['env'][_0x4bbdfb(0xb1)];if(!_0x40f803)throw new Error(_0x4bbdfb(0xce));const [_0x49b727,_0x2d2dc5,_0x3ab146,_0x3d4936]=_0x40f803[_0x4bbdfb(0xc2)]()[_0x4bbdfb(0xcb)]('\x20');if(!_0x49b727||!_0x2d2dc5||!_0x3ab146||!_0x3d4936)throw new Error('One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing');const _0x239b85=SalesforceAuth[_0x4bbdfb(0xbe)](_0x3d4936),{data:_0x4c558d}=await axios_1[_0x4bbdfb(0xb3)][_0x4bbdfb(0xd0)]((0x0,utils_1[_0x4bbdfb(0xbf)])(_0x239b85,'/services/oauth2/token'),null,{'params':{'grant_type':_0x4bbdfb(0xba),'refresh_token':_0x49b727,'client_id':_0x2d2dc5,'client_secret':_0x3ab146}});return{'instanceUrl':_0x4c558d['instance_url'],'accessToken':_0x4c558d[_0x4bbdfb(0xb9)]};}static['getLoginUrl'](_0x9ce33b){const _0x5263cf=a303_0xfd0e86;switch(_0x9ce33b){case _0x5263cf(0xaf):return'https://test.salesforce.com';case _0x5263cf(0xc5):return _0x5263cf(0xc4);default:throw new Error(_0x5263cf(0xc9)+_0x9ce33b);}}}exports[a303_0xfd0e86(0xca)]=SalesforceAuth;