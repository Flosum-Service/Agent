const a339_0x1303ac=a339_0x4989;(function(_0xd4b509,_0x42ba93){const _0x371789=a339_0x4989,_0x423f14=_0xd4b509();while(!![]){try{const _0x3df8b8=-parseInt(_0x371789(0x97))/0x1*(-parseInt(_0x371789(0xa1))/0x2)+parseInt(_0x371789(0x8c))/0x3*(parseInt(_0x371789(0x7e))/0x4)+parseInt(_0x371789(0x8d))/0x5*(parseInt(_0x371789(0x89))/0x6)+-parseInt(_0x371789(0x96))/0x7*(parseInt(_0x371789(0x9c))/0x8)+-parseInt(_0x371789(0x7f))/0x9*(parseInt(_0x371789(0x83))/0xa)+parseInt(_0x371789(0x87))/0xb*(parseInt(_0x371789(0x9a))/0xc)+parseInt(_0x371789(0x8a))/0xd;if(_0x3df8b8===_0x42ba93)break;else _0x423f14['push'](_0x423f14['shift']());}catch(_0x3b3320){_0x423f14['push'](_0x423f14['shift']());}}}(a339_0x24d0,0x8047e));const a339_0x1b000e=(function(){let _0x3a28ab=!![];return function(_0x1845bc,_0x32fd82){const _0x322508=_0x3a28ab?function(){const _0x5b6883=a339_0x4989;if(_0x32fd82){const _0x127bb4=_0x32fd82[_0x5b6883(0x7d)](_0x1845bc,arguments);return _0x32fd82=null,_0x127bb4;}}:function(){};return _0x3a28ab=![],_0x322508;};}()),a339_0x29360c=a339_0x1b000e(this,function(){const _0x1f4e34=a339_0x4989;return a339_0x29360c[_0x1f4e34(0x93)]()[_0x1f4e34(0x9b)](_0x1f4e34(0x91))['toString']()[_0x1f4e34(0x9d)](a339_0x29360c)[_0x1f4e34(0x9b)]('(((.+)+)+)+$');});function a339_0x24d0(){const _0x2d4651=['joinURL','572934sCVEKr','15753491BEoDGW','getNewAccessToken','462546upKOkc','5fANzzq','trim','SalesforceAuth','BaseVeevaAuth','(((.+)+)+)+$','getLoginUrl','toString','https://test.salesforce.com','./base-veeva-auth','77dWDcEA','37WidPxZ','Sandbox','refresh_token','742020KsdzMo','search','594056Kkqrjf','constructor','defineProperty','post','split','14902YlnGnz','Unknown\x20Salesforce\x20Organization\x20type:\x20','instance_url','apply','8dbdTGQ','9HTtgZT','access_token','https://login.salesforce.com','SALESFORCE_TOKEN','9819270mxudnt','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','env','getAuthDetails','77dcTZNM'];a339_0x24d0=function(){return _0x2d4651;};return a339_0x24d0();}a339_0x29360c();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4d7918){return _0x4d7918&&_0x4d7918['__esModule']?_0x4d7918:{'default':_0x4d7918};};function a339_0x4989(_0x4f5a50,_0x338a61){const _0x401f2f=a339_0x24d0();return a339_0x4989=function(_0x29360c,_0x1b000e){_0x29360c=_0x29360c-0x7d;let _0x24d00b=_0x401f2f[_0x29360c];return _0x24d00b;},a339_0x4989(_0x4f5a50,_0x338a61);}Object[a339_0x1303ac(0x9e)](exports,'__esModule',{'value':!![]}),exports[a339_0x1303ac(0x8f)]=void 0x0;const axios_1=__importDefault(require('axios')),utils_1=require('../../../shared/utils'),base_veeva_auth_1=require(a339_0x1303ac(0x95));class SalesforceAuth extends base_veeva_auth_1[a339_0x1303ac(0x90)]{constructor(_0x391dda){super(_0x391dda),this['auth']=_0x391dda;}async[a339_0x1303ac(0x8b)](){const {accessToken:_0x49506f}=await SalesforceAuth['getAuthDetails']();return _0x49506f;}static async[a339_0x1303ac(0x86)](){const _0xd02287=a339_0x1303ac,_0x38454e=process[_0xd02287(0x85)][_0xd02287(0x82)];if(!_0x38454e)throw new Error('Salesforce\x20token\x20missing');const [_0x416502,_0x557b47,_0x1b5733,_0x192e0b]=_0x38454e[_0xd02287(0x8e)]()[_0xd02287(0xa0)]('\x20');if(!_0x416502||!_0x557b47||!_0x1b5733||!_0x192e0b)throw new Error(_0xd02287(0x84));const _0x6cd8fe=SalesforceAuth[_0xd02287(0x92)](_0x192e0b),{data:_0x36f1e4}=await axios_1['default'][_0xd02287(0x9f)]((0x0,utils_1[_0xd02287(0x88)])(_0x6cd8fe,'/services/oauth2/token'),null,{'params':{'grant_type':_0xd02287(0x99),'refresh_token':_0x416502,'client_id':_0x557b47,'client_secret':_0x1b5733}});return{'instanceUrl':_0x36f1e4[_0xd02287(0xa3)],'accessToken':_0x36f1e4[_0xd02287(0x80)]};}static['getLoginUrl'](_0x3e7c8a){const _0x18791a=a339_0x1303ac;switch(_0x3e7c8a){case _0x18791a(0x98):return _0x18791a(0x94);case'Production':return _0x18791a(0x81);default:throw new Error(_0x18791a(0xa2)+_0x3e7c8a);}}}exports[a339_0x1303ac(0x8f)]=SalesforceAuth;