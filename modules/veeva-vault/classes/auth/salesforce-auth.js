const a287_0x3d1580=a287_0x3032;function a287_0x3032(_0x437d29,_0x2d77a8){const _0x44fd1f=a287_0x557c();return a287_0x3032=function(_0x2c6842,_0x21a7db){_0x2c6842=_0x2c6842-0xfd;let _0x557c03=_0x44fd1f[_0x2c6842];return _0x557c03;},a287_0x3032(_0x437d29,_0x2d77a8);}(function(_0x5ec9ed,_0x47cf7d){const _0x2858d7=a287_0x3032,_0x5b00f7=_0x5ec9ed();while(!![]){try{const _0x23de1f=parseInt(_0x2858d7(0x101))/0x1*(parseInt(_0x2858d7(0x110))/0x2)+-parseInt(_0x2858d7(0x10c))/0x3*(-parseInt(_0x2858d7(0x118))/0x4)+parseInt(_0x2858d7(0x11f))/0x5+parseInt(_0x2858d7(0x102))/0x6*(-parseInt(_0x2858d7(0x109))/0x7)+-parseInt(_0x2858d7(0xfd))/0x8*(parseInt(_0x2858d7(0x10e))/0x9)+parseInt(_0x2858d7(0x108))/0xa*(-parseInt(_0x2858d7(0x105))/0xb)+parseInt(_0x2858d7(0x111))/0xc;if(_0x23de1f===_0x47cf7d)break;else _0x5b00f7['push'](_0x5b00f7['shift']());}catch(_0x3ba296){_0x5b00f7['push'](_0x5b00f7['shift']());}}}(a287_0x557c,0xa9a61));const a287_0x21a7db=(function(){let _0x19ce7f=!![];return function(_0x2886d8,_0x3fedf2){const _0x12a0ba=_0x19ce7f?function(){const _0x8e563c=a287_0x3032;if(_0x3fedf2){const _0x49754a=_0x3fedf2[_0x8e563c(0x116)](_0x2886d8,arguments);return _0x3fedf2=null,_0x49754a;}}:function(){};return _0x19ce7f=![],_0x12a0ba;};}()),a287_0x2c6842=a287_0x21a7db(this,function(){const _0xe735a3=a287_0x3032;return a287_0x2c6842[_0xe735a3(0x104)]()[_0xe735a3(0x10f)](_0xe735a3(0x120))[_0xe735a3(0x104)]()[_0xe735a3(0x100)](a287_0x2c6842)[_0xe735a3(0x10f)]('(((.+)+)+)+$');});function a287_0x557c(){const _0x292d57=['trim','130QwyFIX','7kqqFrO','defineProperty','BaseVeevaAuth','33ZREeWb','SalesforceAuth','266841knaynC','search','10EZsOjI','22046280ukoZLW','refresh_token','./base-veeva-auth','Sandbox','Production','apply','default','176148UzHqmv','env','__importDefault','access_token','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','Unknown\x20Salesforce\x20Organization\x20type:\x20','Salesforce\x20token\x20missing','1770325XHpedo','(((.+)+)+)+$','232hvRmLU','getLoginUrl','/services/oauth2/token','constructor','159515FDfYjW','7667448GIyEDq','getAuthDetails','toString','542069WUMFUk','joinURL'];a287_0x557c=function(){return _0x292d57;};return a287_0x557c();}a287_0x2c6842();'use strict';var __importDefault=this&&this[a287_0x3d1580(0x11a)]||function(_0x56e396){return _0x56e396&&_0x56e396['__esModule']?_0x56e396:{'default':_0x56e396};};Object[a287_0x3d1580(0x10a)](exports,'__esModule',{'value':!![]}),exports[a287_0x3d1580(0x10d)]=void 0x0;const axios_1=__importDefault(require('axios')),utils_1=require('../../../shared/utils'),base_veeva_auth_1=require(a287_0x3d1580(0x113));class SalesforceAuth extends base_veeva_auth_1[a287_0x3d1580(0x10b)]{constructor(_0x5c485b){super(_0x5c485b),this['auth']=_0x5c485b;}async['getNewAccessToken'](){const _0x5ebb9f=a287_0x3d1580,{accessToken:_0x179102}=await SalesforceAuth[_0x5ebb9f(0x103)]();return _0x179102;}static async[a287_0x3d1580(0x103)](){const _0x54a1b7=a287_0x3d1580,_0x249356=process[_0x54a1b7(0x119)]['SALESFORCE_TOKEN'];if(!_0x249356)throw new Error(_0x54a1b7(0x11e));const [_0x3f8476,_0x3b3b5d,_0x1c3766,_0x53b61e]=_0x249356[_0x54a1b7(0x107)]()['split']('\x20');if(!_0x3f8476||!_0x3b3b5d||!_0x1c3766||!_0x53b61e)throw new Error(_0x54a1b7(0x11c));const _0x2ceb09=SalesforceAuth[_0x54a1b7(0xfe)](_0x53b61e),{data:_0x46a32b}=await axios_1[_0x54a1b7(0x117)]['post']((0x0,utils_1[_0x54a1b7(0x106)])(_0x2ceb09,_0x54a1b7(0xff)),null,{'params':{'grant_type':_0x54a1b7(0x112),'refresh_token':_0x3f8476,'client_id':_0x3b3b5d,'client_secret':_0x1c3766}});return{'instanceUrl':_0x46a32b['instance_url'],'accessToken':_0x46a32b[_0x54a1b7(0x11b)]};}static[a287_0x3d1580(0xfe)](_0x2ad3ad){const _0x204c8f=a287_0x3d1580;switch(_0x2ad3ad){case _0x204c8f(0x114):return'https://test.salesforce.com';case _0x204c8f(0x115):return'https://login.salesforce.com';default:throw new Error(_0x204c8f(0x11d)+_0x2ad3ad);}}}exports[a287_0x3d1580(0x10d)]=SalesforceAuth;