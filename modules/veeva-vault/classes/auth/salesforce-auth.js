const a307_0x405382=a307_0x2599;(function(_0x4121c0,_0x3a14bc){const _0x41377f=a307_0x2599,_0x529a2a=_0x4121c0();while(!![]){try{const _0x262c16=-parseInt(_0x41377f(0x18b))/0x1+parseInt(_0x41377f(0x192))/0x2+parseInt(_0x41377f(0x18d))/0x3+-parseInt(_0x41377f(0x1a0))/0x4+-parseInt(_0x41377f(0x19b))/0x5+-parseInt(_0x41377f(0x18c))/0x6*(parseInt(_0x41377f(0x1a5))/0x7)+-parseInt(_0x41377f(0x190))/0x8*(-parseInt(_0x41377f(0x19c))/0x9);if(_0x262c16===_0x3a14bc)break;else _0x529a2a['push'](_0x529a2a['shift']());}catch(_0x92ae62){_0x529a2a['push'](_0x529a2a['shift']());}}}(a307_0x4be3,0x36389));const a307_0x5d0a14=(function(){let _0x807ce1=!![];return function(_0x455ec3,_0xd618e5){const _0x2ab6df=_0x807ce1?function(){const _0x5df6c2=a307_0x2599;if(_0xd618e5){const _0x15cef8=_0xd618e5[_0x5df6c2(0x1a6)](_0x455ec3,arguments);return _0xd618e5=null,_0x15cef8;}}:function(){};return _0x807ce1=![],_0x2ab6df;};}()),a307_0x3bf61e=a307_0x5d0a14(this,function(){const _0x22a857=a307_0x2599;return a307_0x3bf61e[_0x22a857(0x199)]()['search']('(((.+)+)+)+$')[_0x22a857(0x199)]()['constructor'](a307_0x3bf61e)['search'](_0x22a857(0x1a4));});a307_0x3bf61e();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x253161){const _0x2e5366=a307_0x2599;return _0x253161&&_0x253161[_0x2e5366(0x198)]?_0x253161:{'default':_0x253161};};function a307_0x4be3(){const _0x13a3f9=['default','https://login.salesforce.com','defineProperty','1701204GVyrUP','access_token','getAuthDetails','env','(((.+)+)+)+$','2462061OMgohR','apply','Salesforce\x20token\x20missing','../../../shared/utils','SalesforceAuth','81244gNNJLt','6pKOyKG','1264911osyEMM','auth','One\x20of\x20the\x20parameters\x20in\x20Salesforce\x20Token\x20is\x20missing','2152TGHgWe','joinURL','765882iywtUq','./base-veeva-auth','/services/oauth2/token','split','trim','post','__esModule','toString','getNewAccessToken','1247890fkEhNq','17577llxFpl'];a307_0x4be3=function(){return _0x13a3f9;};return a307_0x4be3();}Object[a307_0x405382(0x19f)](exports,a307_0x405382(0x198),{'value':!![]}),exports[a307_0x405382(0x18a)]=void 0x0;const axios_1=__importDefault(require('axios')),utils_1=require(a307_0x405382(0x189)),base_veeva_auth_1=require(a307_0x405382(0x193));class SalesforceAuth extends base_veeva_auth_1['BaseVeevaAuth']{constructor(_0x460e75){const _0x5095c6=a307_0x405382;super(_0x460e75),this[_0x5095c6(0x18e)]=_0x460e75;}async[a307_0x405382(0x19a)](){const _0x46174b=a307_0x405382,{accessToken:_0x17a2b4}=await SalesforceAuth[_0x46174b(0x1a2)]();return _0x17a2b4;}static async[a307_0x405382(0x1a2)](){const _0x473302=a307_0x405382,_0x562855=process[_0x473302(0x1a3)]['SALESFORCE_TOKEN'];if(!_0x562855)throw new Error(_0x473302(0x1a7));const [_0x47bf0f,_0x127a78,_0x5b3f3a,_0x587c27]=_0x562855[_0x473302(0x196)]()[_0x473302(0x195)]('\x20');if(!_0x47bf0f||!_0x127a78||!_0x5b3f3a||!_0x587c27)throw new Error(_0x473302(0x18f));const _0x23539f=SalesforceAuth['getLoginUrl'](_0x587c27),{data:_0x1e644c}=await axios_1[_0x473302(0x19d)][_0x473302(0x197)]((0x0,utils_1[_0x473302(0x191)])(_0x23539f,_0x473302(0x194)),null,{'params':{'grant_type':'refresh_token','refresh_token':_0x47bf0f,'client_id':_0x127a78,'client_secret':_0x5b3f3a}});return{'instanceUrl':_0x1e644c['instance_url'],'accessToken':_0x1e644c[_0x473302(0x1a1)]};}static['getLoginUrl'](_0x379a7e){const _0x32df7d=a307_0x405382;switch(_0x379a7e){case'Sandbox':return'https://test.salesforce.com';case'Production':return _0x32df7d(0x19e);default:throw new Error('Unknown\x20Salesforce\x20Organization\x20type:\x20'+_0x379a7e);}}}function a307_0x2599(_0x142cd6,_0x1abf79){const _0x3781fd=a307_0x4be3();return a307_0x2599=function(_0x3bf61e,_0x5d0a14){_0x3bf61e=_0x3bf61e-0x189;let _0x4be37a=_0x3781fd[_0x3bf61e];return _0x4be37a;},a307_0x2599(_0x142cd6,_0x1abf79);}exports['SalesforceAuth']=SalesforceAuth;