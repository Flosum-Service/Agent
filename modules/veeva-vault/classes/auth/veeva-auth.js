const a309_0x3b9f67=a309_0x1ce3;function a309_0x1a49(){const _0x520002=['default','toString','__importDefault','LOGIN_TIMEOUT','../../constants/veeva.constants','4501797wQWcea','errors','responseStatus','(((.+)+)+)+$','append','defineProperty','./base-veeva-auth','../../constants/app.constants','2861730OixOur','AppConstants','6342280QphaSV','SUCCESS','constructor','__esModule','8325wPkbRL','1393825WhnBaH','VeevaConstants','../../../shared/utils','110FnRuWc','2899212LMbvoB','auth','../../enums/status.enums','getNewAccessToken','search','message','7vqGCkP','API_LIMIT_EXCEEDED','axios','application/x-www-form-urlencoded','some','password','4FAwKBs','sleep','attemptsOfUpdateToken','5957958UmBBkU'];a309_0x1a49=function(){return _0x520002;};return a309_0x1a49();}(function(_0x34f88f,_0x575904){const _0x45aef7=a309_0x1ce3,_0x5d454b=_0x34f88f();while(!![]){try{const _0x4c3be5=parseInt(_0x45aef7(0xdb))/0x1+-parseInt(_0x45aef7(0xdf))/0x2+-parseInt(_0x45aef7(0xcc))/0x3*(parseInt(_0x45aef7(0xeb))/0x4)+parseInt(_0x45aef7(0xd4))/0x5+parseInt(_0x45aef7(0xee))/0x6+-parseInt(_0x45aef7(0xe5))/0x7*(-parseInt(_0x45aef7(0xd6))/0x8)+-parseInt(_0x45aef7(0xda))/0x9*(parseInt(_0x45aef7(0xde))/0xa);if(_0x4c3be5===_0x575904)break;else _0x5d454b['push'](_0x5d454b['shift']());}catch(_0x16e247){_0x5d454b['push'](_0x5d454b['shift']());}}}(a309_0x1a49,0xc1411));const a309_0x142ab6=(function(){let _0x415bd8=!![];return function(_0x8f72eb,_0x2360a5){const _0xa8a8f4=_0x415bd8?function(){if(_0x2360a5){const _0xb947de=_0x2360a5['apply'](_0x8f72eb,arguments);return _0x2360a5=null,_0xb947de;}}:function(){};return _0x415bd8=![],_0xa8a8f4;};}()),a309_0x4f0589=a309_0x142ab6(this,function(){const _0x39e3f3=a309_0x1ce3;return a309_0x4f0589[_0x39e3f3(0xc8)]()[_0x39e3f3(0xe3)]('(((.+)+)+)+$')['toString']()[_0x39e3f3(0xd8)](a309_0x4f0589)[_0x39e3f3(0xe3)](_0x39e3f3(0xcf));});a309_0x4f0589();'use strict';var __importDefault=this&&this[a309_0x3b9f67(0xc9)]||function(_0x4e8d3a){const _0x260945=a309_0x3b9f67;return _0x4e8d3a&&_0x4e8d3a[_0x260945(0xd9)]?_0x4e8d3a:{'default':_0x4e8d3a};};function a309_0x1ce3(_0x457be3,_0x3e476a){const _0x3e59ab=a309_0x1a49();return a309_0x1ce3=function(_0x4f0589,_0x142ab6){_0x4f0589=_0x4f0589-0xc8;let _0x1a49d2=_0x3e59ab[_0x4f0589];return _0x1a49d2;},a309_0x1ce3(_0x457be3,_0x3e476a);}Object[a309_0x3b9f67(0xd1)](exports,a309_0x3b9f67(0xd9),{'value':!![]}),exports['VeevaAuth']=void 0x0;const veeva_constants_1=require(a309_0x3b9f67(0xcb)),axios_1=__importDefault(require(a309_0x3b9f67(0xe7))),status_enums_1=require(a309_0x3b9f67(0xe1)),utils_1=require(a309_0x3b9f67(0xdd)),app_constants_1=require(a309_0x3b9f67(0xd3)),base_veeva_auth_1=require(a309_0x3b9f67(0xd2));class VeevaAuth extends base_veeva_auth_1['BaseVeevaAuth']{constructor(_0x6e1a4e,_0x5dbe03=0x0){const _0x4632d2=a309_0x3b9f67;super(_0x6e1a4e),this[_0x4632d2(0xe0)]=_0x6e1a4e,this[_0x4632d2(0xed)]=_0x5dbe03;}async[a309_0x3b9f67(0xe2)](_0x44826e=this[a309_0x3b9f67(0xed)]){const _0x1cbe6c=a309_0x3b9f67;var _0x447d5d,_0x49eca6;const _0x18374a=this[_0x1cbe6c(0xe0)]['instanceUrl']+veeva_constants_1[_0x1cbe6c(0xdc)]['ENDPOINT_AUTH'],_0x57d657=new URLSearchParams();_0x57d657[_0x1cbe6c(0xd0)]('username',this[_0x1cbe6c(0xe0)]['username']),_0x57d657['append'](_0x1cbe6c(0xea),this[_0x1cbe6c(0xe0)]['password']);const {data:_0x1f7387}=await axios_1[_0x1cbe6c(0xef)]['post'](_0x18374a,_0x57d657,{'headers':{'Content-Type':_0x1cbe6c(0xe8)}});if(_0x1f7387[_0x1cbe6c(0xce)]===status_enums_1['VeevaResponseStatus'][_0x1cbe6c(0xd7)])return _0x1f7387['sessionId'];else{const _0x5c6a76=(_0x447d5d=_0x1f7387[_0x1cbe6c(0xcd)])===null||_0x447d5d===void 0x0?void 0x0:_0x447d5d[_0x1cbe6c(0xe9)](_0x2093b2=>_0x2093b2['type']===veeva_constants_1['VeevaConstants'][_0x1cbe6c(0xe6)]);if(_0x5c6a76&&_0x44826e>0x0)return await(0x0,utils_1[_0x1cbe6c(0xec)])(VeevaAuth['LOGIN_TIMEOUT']),await this['getNewAccessToken'](_0x44826e-0x1);else throw new Error(((_0x49eca6=_0x1f7387[_0x1cbe6c(0xcd)][0x0])===null||_0x49eca6===void 0x0?void 0x0:_0x49eca6[_0x1cbe6c(0xe4)])||app_constants_1[_0x1cbe6c(0xd5)]['UNDEFINED_ERROR']);}}}exports['VeevaAuth']=VeevaAuth,VeevaAuth[a309_0x3b9f67(0xca)]=0x3e8*0x3c;