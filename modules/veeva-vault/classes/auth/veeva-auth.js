const a353_0x5862bc=a353_0x4590;function a353_0x20b5(){const _0x3f511a=['510868roViCW','attemptsOfUpdateToken','post','type','16232rcKrYN','ENDPOINT_AUTH','1835630LsuAqL','constructor','./base-veeva-auth','66Eohyvq','VeevaConstants','BaseVeevaAuth','../../enums/status.enums','11413226aSCEkg','2GOrwuy','239120BGKfTi','some','auth','errors','2096975swkCXd','SUCCESS','(((.+)+)+)+$','VeevaAuth','application/x-www-form-urlencoded','4xvvobS','search','default','getNewAccessToken','responseStatus','../../constants/app.constants','1854kkUhtY','message','API_LIMIT_EXCEEDED','instanceUrl','toString','UNDEFINED_ERROR','__esModule','password','AppConstants','username','__importDefault','1478295wmEwhv','LOGIN_TIMEOUT'];a353_0x20b5=function(){return _0x3f511a;};return a353_0x20b5();}function a353_0x4590(_0x213ebe,_0x1994e9){const _0x17b5e7=a353_0x20b5();return a353_0x4590=function(_0x209b6c,_0x429ea4){_0x209b6c=_0x209b6c-0x1c1;let _0x20b528=_0x17b5e7[_0x209b6c];return _0x20b528;},a353_0x4590(_0x213ebe,_0x1994e9);}(function(_0x374ac5,_0x12af4d){const _0x169499=a353_0x4590,_0x142345=_0x374ac5();while(!![]){try{const _0x5ae1d3=parseInt(_0x169499(0x1ca))/0x1*(-parseInt(_0x169499(0x1e7))/0x2)+-parseInt(_0x169499(0x1e5))/0x3+-parseInt(_0x169499(0x1d4))/0x4*(-parseInt(_0x169499(0x1cf))/0x5)+-parseInt(_0x169499(0x1c5))/0x6*(parseInt(_0x169499(0x1cb))/0x7)+-parseInt(_0x169499(0x1eb))/0x8*(-parseInt(_0x169499(0x1da))/0x9)+-parseInt(_0x169499(0x1c2))/0xa+parseInt(_0x169499(0x1c9))/0xb;if(_0x5ae1d3===_0x12af4d)break;else _0x142345['push'](_0x142345['shift']());}catch(_0x252b3f){_0x142345['push'](_0x142345['shift']());}}}(a353_0x20b5,0x4c2ab));const a353_0x429ea4=(function(){let _0x330bab=!![];return function(_0x59ca3b,_0x2d660a){const _0x101e4d=_0x330bab?function(){if(_0x2d660a){const _0x5414c0=_0x2d660a['apply'](_0x59ca3b,arguments);return _0x2d660a=null,_0x5414c0;}}:function(){};return _0x330bab=![],_0x101e4d;};}()),a353_0x209b6c=a353_0x429ea4(this,function(){const _0x543497=a353_0x4590;return a353_0x209b6c['toString']()[_0x543497(0x1d5)](_0x543497(0x1d1))[_0x543497(0x1de)]()[_0x543497(0x1c3)](a353_0x209b6c)[_0x543497(0x1d5)](_0x543497(0x1d1));});a353_0x209b6c();'use strict';var __importDefault=this&&this[a353_0x5862bc(0x1e4)]||function(_0x3af5a6){const _0x2aaa7f=a353_0x5862bc;return _0x3af5a6&&_0x3af5a6[_0x2aaa7f(0x1e0)]?_0x3af5a6:{'default':_0x3af5a6};};Object['defineProperty'](exports,a353_0x5862bc(0x1e0),{'value':!![]}),exports[a353_0x5862bc(0x1d2)]=void 0x0;const veeva_constants_1=require('../../constants/veeva.constants'),axios_1=__importDefault(require('axios')),status_enums_1=require(a353_0x5862bc(0x1c8)),utils_1=require('../../../shared/utils'),app_constants_1=require(a353_0x5862bc(0x1d9)),base_veeva_auth_1=require(a353_0x5862bc(0x1c4));class VeevaAuth extends base_veeva_auth_1[a353_0x5862bc(0x1c7)]{constructor(_0x319d66,_0x3d3855=0x0){const _0x1ef884=a353_0x5862bc;super(_0x319d66),this[_0x1ef884(0x1cd)]=_0x319d66,this[_0x1ef884(0x1e8)]=_0x3d3855;}async[a353_0x5862bc(0x1d7)](_0x302d08=this[a353_0x5862bc(0x1e8)]){const _0x2aa12a=a353_0x5862bc;var _0x30d24b,_0x5b5e0e;const _0x2b816a=this[_0x2aa12a(0x1cd)][_0x2aa12a(0x1dd)]+veeva_constants_1['VeevaConstants'][_0x2aa12a(0x1c1)],_0x3db204=new URLSearchParams();_0x3db204['append'](_0x2aa12a(0x1e3),this['auth'][_0x2aa12a(0x1e3)]),_0x3db204['append'](_0x2aa12a(0x1e1),this[_0x2aa12a(0x1cd)][_0x2aa12a(0x1e1)]);const {data:_0x44edf5}=await axios_1[_0x2aa12a(0x1d6)][_0x2aa12a(0x1e9)](_0x2b816a,_0x3db204,{'headers':{'Content-Type':_0x2aa12a(0x1d3)}});if(_0x44edf5[_0x2aa12a(0x1d8)]===status_enums_1['VeevaResponseStatus'][_0x2aa12a(0x1d0)])return _0x44edf5['sessionId'];else{const _0x198834=(_0x30d24b=_0x44edf5[_0x2aa12a(0x1ce)])===null||_0x30d24b===void 0x0?void 0x0:_0x30d24b[_0x2aa12a(0x1cc)](_0xd1bd06=>_0xd1bd06[_0x2aa12a(0x1ea)]===veeva_constants_1[_0x2aa12a(0x1c6)][_0x2aa12a(0x1dc)]);if(_0x198834&&_0x302d08>0x0)return await(0x0,utils_1['sleep'])(VeevaAuth[_0x2aa12a(0x1e6)]),await this['getNewAccessToken'](_0x302d08-0x1);else throw new Error(((_0x5b5e0e=_0x44edf5['errors'][0x0])===null||_0x5b5e0e===void 0x0?void 0x0:_0x5b5e0e[_0x2aa12a(0x1db)])||app_constants_1[_0x2aa12a(0x1e2)][_0x2aa12a(0x1df)]);}}}exports[a353_0x5862bc(0x1d2)]=VeevaAuth,VeevaAuth[a353_0x5862bc(0x1e6)]=0x3e8*0x3c;