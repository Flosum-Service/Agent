const a308_0x173303=a308_0x5378;(function(_0x44aa1c,_0x57926a){const _0xbdc1f4=a308_0x5378,_0xd83c46=_0x44aa1c();while(!![]){try{const _0x564547=-parseInt(_0xbdc1f4(0x9b))/0x1+-parseInt(_0xbdc1f4(0x99))/0x2*(-parseInt(_0xbdc1f4(0x82))/0x3)+-parseInt(_0xbdc1f4(0x95))/0x4*(parseInt(_0xbdc1f4(0x7f))/0x5)+parseInt(_0xbdc1f4(0x89))/0x6+-parseInt(_0xbdc1f4(0x97))/0x7+parseInt(_0xbdc1f4(0x8a))/0x8*(parseInt(_0xbdc1f4(0x9c))/0x9)+-parseInt(_0xbdc1f4(0x94))/0xa*(-parseInt(_0xbdc1f4(0x9f))/0xb);if(_0x564547===_0x57926a)break;else _0xd83c46['push'](_0xd83c46['shift']());}catch(_0xa7d286){_0xd83c46['push'](_0xd83c46['shift']());}}}(a308_0x4952,0xccd3e));const a308_0x4d7e91=(function(){let _0x36ff79=!![];return function(_0xcb4739,_0x32378b){const _0x22cc87=_0x36ff79?function(){const _0x102922=a308_0x5378;if(_0x32378b){const _0x4af5a0=_0x32378b[_0x102922(0xa3)](_0xcb4739,arguments);return _0x32378b=null,_0x4af5a0;}}:function(){};return _0x36ff79=![],_0x22cc87;};}()),a308_0x51cff2=a308_0x4d7e91(this,function(){const _0x2e7717=a308_0x5378;return a308_0x51cff2[_0x2e7717(0x8b)]()['search']('(((.+)+)+)+$')[_0x2e7717(0x8b)]()['constructor'](a308_0x51cff2)[_0x2e7717(0x83)](_0x2e7717(0x85));});a308_0x51cff2();function a308_0x5378(_0x19e67b,_0x44665e){const _0xe2204=a308_0x4952();return a308_0x5378=function(_0x51cff2,_0x4d7e91){_0x51cff2=_0x51cff2-0x7f;let _0x495268=_0xe2204[_0x51cff2];return _0x495268;},a308_0x5378(_0x19e67b,_0x44665e);}'use strict';var __importDefault=this&&this[a308_0x173303(0x8e)]||function(_0x2cdece){return _0x2cdece&&_0x2cdece['__esModule']?_0x2cdece:{'default':_0x2cdece};};function a308_0x4952(){const _0x1fe3b8=['default','API_LIMIT_EXCEEDED','BaseVeevaAuth','359455vLRbxq','sessionId','VeevaResponseStatus','411pCCYkR','search','AppConstants','(((.+)+)+)+$','__esModule','attemptsOfUpdateToken','errors','1028220AzNwdt','24TDcYTB','toString','getNewAccessToken','password','__importDefault','ENDPOINT_AUTH','auth','message','type','username','30HAFMMc','20rSwytv','responseStatus','5108866ThCQUn','../../constants/veeva.constants','20076UprjVS','application/x-www-form-urlencoded','1343441yknVPA','3590793jxsozl','../../constants/app.constants','append','1936737vifUvM','VeevaAuth','UNDEFINED_ERROR','defineProperty','apply'];a308_0x4952=function(){return _0x1fe3b8;};return a308_0x4952();}Object[a308_0x173303(0xa2)](exports,a308_0x173303(0x86),{'value':!![]}),exports[a308_0x173303(0xa0)]=void 0x0;const veeva_constants_1=require(a308_0x173303(0x98)),axios_1=__importDefault(require('axios')),status_enums_1=require('../../enums/status.enums'),utils_1=require('../../../shared/utils'),app_constants_1=require(a308_0x173303(0x9d)),base_veeva_auth_1=require('./base-veeva-auth');class VeevaAuth extends base_veeva_auth_1[a308_0x173303(0xa6)]{constructor(_0x36a70d,_0x5b97bd=0x0){const _0x34f022=a308_0x173303;super(_0x36a70d),this[_0x34f022(0x90)]=_0x36a70d,this[_0x34f022(0x87)]=_0x5b97bd;}async['getNewAccessToken'](_0xf95c42=this[a308_0x173303(0x87)]){const _0x27e9c=a308_0x173303;var _0x3f50cb,_0x2188da;const _0x157857=this['auth']['instanceUrl']+veeva_constants_1['VeevaConstants'][_0x27e9c(0x8f)],_0x4629db=new URLSearchParams();_0x4629db[_0x27e9c(0x9e)](_0x27e9c(0x93),this[_0x27e9c(0x90)][_0x27e9c(0x93)]),_0x4629db[_0x27e9c(0x9e)](_0x27e9c(0x8d),this['auth'][_0x27e9c(0x8d)]);const {data:_0x544e28}=await axios_1[_0x27e9c(0xa4)]['post'](_0x157857,_0x4629db,{'headers':{'Content-Type':_0x27e9c(0x9a)}});if(_0x544e28[_0x27e9c(0x96)]===status_enums_1[_0x27e9c(0x81)]['SUCCESS'])return _0x544e28[_0x27e9c(0x80)];else{const _0x26acea=(_0x3f50cb=_0x544e28['errors'])===null||_0x3f50cb===void 0x0?void 0x0:_0x3f50cb['some'](_0xc0becb=>_0xc0becb[_0x27e9c(0x92)]===veeva_constants_1['VeevaConstants'][_0x27e9c(0xa5)]);if(_0x26acea&&_0xf95c42>0x0)return await(0x0,utils_1['sleep'])(VeevaAuth['LOGIN_TIMEOUT']),await this[_0x27e9c(0x8c)](_0xf95c42-0x1);else throw new Error(((_0x2188da=_0x544e28[_0x27e9c(0x88)][0x0])===null||_0x2188da===void 0x0?void 0x0:_0x2188da[_0x27e9c(0x91)])||app_constants_1[_0x27e9c(0x84)][_0x27e9c(0xa1)]);}}}exports[a308_0x173303(0xa0)]=VeevaAuth,VeevaAuth['LOGIN_TIMEOUT']=0x3e8*0x3c;