const a346_0x3917a2=a346_0x1ddc;(function(_0x3c65cc,_0x534bd6){const _0x239b87=a346_0x1ddc,_0x3f0e3d=_0x3c65cc();while(!![]){try{const _0x9182a8=-parseInt(_0x239b87(0x76))/0x1*(-parseInt(_0x239b87(0x66))/0x2)+-parseInt(_0x239b87(0x68))/0x3*(-parseInt(_0x239b87(0x6b))/0x4)+parseInt(_0x239b87(0x80))/0x5+parseInt(_0x239b87(0x81))/0x6+parseInt(_0x239b87(0x84))/0x7*(parseInt(_0x239b87(0x8b))/0x8)+-parseInt(_0x239b87(0x8f))/0x9+-parseInt(_0x239b87(0x89))/0xa;if(_0x9182a8===_0x534bd6)break;else _0x3f0e3d['push'](_0x3f0e3d['shift']());}catch(_0x532463){_0x3f0e3d['push'](_0x3f0e3d['shift']());}}}(a346_0x2d21,0x233d8));const a346_0x283e13=(function(){let _0xede195=!![];return function(_0x4d141f,_0x1c1826){const _0x4dfdae=_0xede195?function(){const _0x2d442d=a346_0x1ddc;if(_0x1c1826){const _0x5c3581=_0x1c1826[_0x2d442d(0x85)](_0x4d141f,arguments);return _0x1c1826=null,_0x5c3581;}}:function(){};return _0xede195=![],_0x4dfdae;};}()),a346_0x25756f=a346_0x283e13(this,function(){const _0x280081=a346_0x1ddc;return a346_0x25756f[_0x280081(0x64)]()['search'](_0x280081(0x77))[_0x280081(0x64)]()[_0x280081(0x88)](a346_0x25756f)[_0x280081(0x87)]('(((.+)+)+)+$');});a346_0x25756f();'use strict';Object[a346_0x3917a2(0x69)](exports,a346_0x3917a2(0x6d),{'value':!![]}),exports[a346_0x3917a2(0x82)]=void 0x0;function a346_0x2d21(){const _0x270983=['destroy','buildSourceMemberQuery','push','MemberName','\x20>=\x20:lastRetrieveDate','5stWrQh','(((.+)+)+)+$','IsNameObsolete','_read','createDataSource','select','dataSource','QueryBuilder','metadataTypes','\x20<\x20:currentRetrieveDate','187905mhGRNR','778128aYuFcs','SourceMemberRetriever','MemberType','1861846VwjfzB','apply','next','search','constructor','5777280eGiUxK','lastRetrieveDate','8LYWQGs','RevisionCounter','getIsDone','stream','1091412gLsCVm','where','api','toString','instance','67882aoIXXr','execute','37956DKtAkM','defineProperty','IsNewMember','76ZmOzud','Readable','__esModule','andWhere','@flosum/salesforce','currentRetrieveDate'];a346_0x2d21=function(){return _0x270983;};return a346_0x2d21();}const salesforce_1=require(a346_0x3917a2(0x6f)),stream_1=require(a346_0x3917a2(0x8e)),SOURCE_MEMBER_OBJECT_NAME='SourceMember',LAST_MODIFIED_DATE_FIELD_NAME='LastModifiedDate',MEMBER_TYPE_FIELD_NAME=a346_0x3917a2(0x83),SOURCE_MEMBER_SELECT_FIELDS=['Id','MemberIdOrName','ChangedBy',a346_0x3917a2(0x78),a346_0x3917a2(0x6a),a346_0x3917a2(0x74),'MemberType',a346_0x3917a2(0x8c),'LastModifiedDate'];function a346_0x1ddc(_0x34258f,_0x22c04b){const _0x50f791=a346_0x2d21();return a346_0x1ddc=function(_0x25756f,_0x283e13){_0x25756f=_0x25756f-0x64;let _0x2d2178=_0x50f791[_0x25756f];return _0x2d2178;},a346_0x1ddc(_0x34258f,_0x22c04b);}class SourceMemberRetriever extends stream_1[a346_0x3917a2(0x6c)]{constructor({apiVersion:_0x5de37b,instance:_0x1fa337,lastRetrieveDate:_0x5b3298,currentRetrieveDate:_0x1278ab,metadataTypes:_0x23bbfd}){const _0x39402e=a346_0x3917a2;super({'objectMode':!![]}),this[_0x39402e(0x65)]=_0x1fa337,this[_0x39402e(0x91)]=_0x5de37b,this['lastRetrieveDate']=_0x5b3298,this[_0x39402e(0x70)]=_0x1278ab,this[_0x39402e(0x7e)]=_0x23bbfd,this[_0x39402e(0x7c)]=this[_0x39402e(0x7a)]();}async*['createDataSource'](){const _0x4ad77c=a346_0x3917a2,_0xfd0a18=new salesforce_1['CompositeRetrieveData']({'api':this['api'],'queryBuilder':this[_0x4ad77c(0x72)](),'instance':this[_0x4ad77c(0x65)],'isTooling':!![]});do{const {records:_0x996aa6}=await _0xfd0a18[_0x4ad77c(0x67)]();yield*_0x996aa6;}while(!_0xfd0a18[_0x4ad77c(0x8d)]());return null;}[a346_0x3917a2(0x72)](){const _0x1b0e0f=a346_0x3917a2;return new salesforce_1[(_0x1b0e0f(0x7d))]()[_0x1b0e0f(0x7b)](...SOURCE_MEMBER_SELECT_FIELDS)['from'](SOURCE_MEMBER_OBJECT_NAME)[_0x1b0e0f(0x90)](MEMBER_TYPE_FIELD_NAME+'\x20IN\x20(:metadataTypes)',{'metadataTypes':this[_0x1b0e0f(0x7e)]})[_0x1b0e0f(0x6e)](LAST_MODIFIED_DATE_FIELD_NAME+_0x1b0e0f(0x75),{'lastRetrieveDate':new Date(this[_0x1b0e0f(0x8a)])})[_0x1b0e0f(0x6e)](LAST_MODIFIED_DATE_FIELD_NAME+_0x1b0e0f(0x7f),{'currentRetrieveDate':new Date(this['currentRetrieveDate'])});}async[a346_0x3917a2(0x79)](){const _0x8e60af=a346_0x3917a2;try{const {value:_0x1a342b}=await this[_0x8e60af(0x7c)][_0x8e60af(0x86)]();this[_0x8e60af(0x73)](_0x1a342b);}catch(_0x48708d){this[_0x8e60af(0x71)](_0x48708d);}}}exports[a346_0x3917a2(0x82)]=SourceMemberRetriever;