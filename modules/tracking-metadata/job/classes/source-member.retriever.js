const a317_0x299f7c=a317_0x7858;function a317_0x715a(){const _0x422adc=['MemberType','LastModifiedDate','5428528Yusjqa','next','createDataSource','2459422ZfPyRI','SourceMemberRetriever','IsNameObsolete','Readable','QueryBuilder','CompositeRetrieveData','@flosum/salesforce','SourceMember','metadataTypes','toString','destroy','ChangedBy','buildSourceMemberQuery','currentRetrieveDate','RevisionCounter','2269788tzyRJe','lastRetrieveDate','\x20<\x20:currentRetrieveDate','execute','search','constructor','getIsDone','612933YeIyCG','\x20IN\x20(:metadataTypes)','instance','803568FbCthu','from','stream','1346733mIwSWX','dataSource','4290PkSSqr','2238DmmfZX','(((.+)+)+)+$','api','IsNewMember','_read','andWhere','defineProperty'];a317_0x715a=function(){return _0x422adc;};return a317_0x715a();}(function(_0x4abf03,_0x44cada){const _0x24ea93=a317_0x7858,_0x33e4f0=_0x4abf03();while(!![]){try{const _0x6e6301=-parseInt(_0x24ea93(0x200))/0x1+parseInt(_0x24ea93(0x203))/0x2+parseInt(_0x24ea93(0x206))/0x3+-parseInt(_0x24ea93(0x1f9))/0x4+parseInt(_0x24ea93(0x208))/0x5*(parseInt(_0x24ea93(0x209))/0x6)+-parseInt(_0x24ea93(0x215))/0x7+parseInt(_0x24ea93(0x212))/0x8;if(_0x6e6301===_0x44cada)break;else _0x33e4f0['push'](_0x33e4f0['shift']());}catch(_0x216b8f){_0x33e4f0['push'](_0x33e4f0['shift']());}}}(a317_0x715a,0x4d881));function a317_0x7858(_0x2cfa96,_0x461d2e){const _0x7565c9=a317_0x715a();return a317_0x7858=function(_0xbb17d7,_0x81d3e){_0xbb17d7=_0xbb17d7-0x1ee;let _0x715a36=_0x7565c9[_0xbb17d7];return _0x715a36;},a317_0x7858(_0x2cfa96,_0x461d2e);}const a317_0x81d3e=(function(){let _0x2601a8=!![];return function(_0x5de384,_0x2ff5f6){const _0x49905a=_0x2601a8?function(){if(_0x2ff5f6){const _0x3713b4=_0x2ff5f6['apply'](_0x5de384,arguments);return _0x2ff5f6=null,_0x3713b4;}}:function(){};return _0x2601a8=![],_0x49905a;};}()),a317_0xbb17d7=a317_0x81d3e(this,function(){const _0x535369=a317_0x7858;return a317_0xbb17d7[_0x535369(0x1f3)]()[_0x535369(0x1fd)](_0x535369(0x20a))[_0x535369(0x1f3)]()[_0x535369(0x1fe)](a317_0xbb17d7)[_0x535369(0x1fd)](_0x535369(0x20a));});a317_0xbb17d7();'use strict';Object[a317_0x299f7c(0x20f)](exports,'__esModule',{'value':!![]}),exports[a317_0x299f7c(0x216)]=void 0x0;const salesforce_1=require(a317_0x299f7c(0x1f0)),stream_1=require(a317_0x299f7c(0x205)),SOURCE_MEMBER_OBJECT_NAME=a317_0x299f7c(0x1f1),LAST_MODIFIED_DATE_FIELD_NAME=a317_0x299f7c(0x211),MEMBER_TYPE_FIELD_NAME=a317_0x299f7c(0x210),SOURCE_MEMBER_SELECT_FIELDS=['Id','MemberIdOrName',a317_0x299f7c(0x1f5),a317_0x299f7c(0x217),a317_0x299f7c(0x20c),'MemberName',a317_0x299f7c(0x210),a317_0x299f7c(0x1f8),a317_0x299f7c(0x211)];class SourceMemberRetriever extends stream_1[a317_0x299f7c(0x218)]{constructor({apiVersion:_0x28fe56,instance:_0xb107f5,lastRetrieveDate:_0x2791b3,currentRetrieveDate:_0x250aed,metadataTypes:_0x1be644}){const _0x360741=a317_0x299f7c;super({'objectMode':!![]}),this['instance']=_0xb107f5,this[_0x360741(0x20b)]=_0x28fe56,this[_0x360741(0x1fa)]=_0x2791b3,this[_0x360741(0x1f7)]=_0x250aed,this[_0x360741(0x1f2)]=_0x1be644,this[_0x360741(0x207)]=this[_0x360741(0x214)]();}async*['createDataSource'](){const _0x1431f2=a317_0x299f7c,_0x13bee1=new salesforce_1[(_0x1431f2(0x1ef))]({'api':this['api'],'queryBuilder':this[_0x1431f2(0x1f6)](),'instance':this[_0x1431f2(0x202)],'isTooling':!![]});do{const {records:_0x2909ff}=await _0x13bee1[_0x1431f2(0x1fc)]();yield*_0x2909ff;}while(!_0x13bee1[_0x1431f2(0x1ff)]());return null;}[a317_0x299f7c(0x1f6)](){const _0x2871e1=a317_0x299f7c;return new salesforce_1[(_0x2871e1(0x1ee))]()['select'](...SOURCE_MEMBER_SELECT_FIELDS)[_0x2871e1(0x204)](SOURCE_MEMBER_OBJECT_NAME)['where'](MEMBER_TYPE_FIELD_NAME+_0x2871e1(0x201),{'metadataTypes':this['metadataTypes']})['andWhere'](LAST_MODIFIED_DATE_FIELD_NAME+'\x20>=\x20:lastRetrieveDate',{'lastRetrieveDate':new Date(this[_0x2871e1(0x1fa)])})[_0x2871e1(0x20e)](LAST_MODIFIED_DATE_FIELD_NAME+_0x2871e1(0x1fb),{'currentRetrieveDate':new Date(this[_0x2871e1(0x1f7)])});}async[a317_0x299f7c(0x20d)](){const _0x3d4eff=a317_0x299f7c;try{const {value:_0x26577f}=await this['dataSource'][_0x3d4eff(0x213)]();this['push'](_0x26577f);}catch(_0x2487f2){this[_0x3d4eff(0x1f4)](_0x2487f2);}}}exports[a317_0x299f7c(0x216)]=SourceMemberRetriever;