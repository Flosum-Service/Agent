const a344_0x9cb702=a344_0x2ff4;function a344_0x1353(){const _0x3ed2fe=['stream','RevisionCounter','MemberType','MemberName','instance','toString','9070iRzyJR','SourceMember','CompositeRetrieveData','2539894hQEmRd','IsNewMember','3618375ZsRKHN','MemberIdOrName','3156680NEFmML','(((.+)+)+)+$','@flosum/salesforce','buildSourceMemberQuery','SourceMemberRetriever','10107QvRlzv','QueryBuilder','1DATFOs','8fMmpaA','createDataSource','getIsDone','__esModule','execute','next','andWhere','IsNameObsolete','ChangedBy','dataSource','LastModifiedDate','currentRetrieveDate','push','_read','1601326SGoXWs','2508480ofKgRP','413586BXkUNY','\x20<\x20:currentRetrieveDate','where','lastRetrieveDate'];a344_0x1353=function(){return _0x3ed2fe;};return a344_0x1353();}(function(_0x19c57c,_0x1be25f){const _0x3218c4=a344_0x2ff4,_0x48a27a=_0x19c57c();while(!![]){try{const _0x3280b4=-parseInt(_0x3218c4(0xfe))/0x1*(parseInt(_0x3218c4(0xe4))/0x2)+-parseInt(_0x3218c4(0xe5))/0x3+parseInt(_0x3218c4(0xf7))/0x4+parseInt(_0x3218c4(0xf5))/0x5+-parseInt(_0x3218c4(0xe6))/0x6+-parseInt(_0x3218c4(0xf3))/0x7*(parseInt(_0x3218c4(0xff))/0x8)+-parseInt(_0x3218c4(0xfc))/0x9*(-parseInt(_0x3218c4(0xf0))/0xa);if(_0x3280b4===_0x1be25f)break;else _0x48a27a['push'](_0x48a27a['shift']());}catch(_0x4671df){_0x48a27a['push'](_0x48a27a['shift']());}}}(a344_0x1353,0x70fda));const a344_0x4c644d=(function(){let _0x370242=!![];return function(_0x56e01d,_0x228830){const _0x2f3bac=_0x370242?function(){if(_0x228830){const _0x463929=_0x228830['apply'](_0x56e01d,arguments);return _0x228830=null,_0x463929;}}:function(){};return _0x370242=![],_0x2f3bac;};}()),a344_0xaff655=a344_0x4c644d(this,function(){const _0x2193c0=a344_0x2ff4;return a344_0xaff655['toString']()['search']('(((.+)+)+)+$')[_0x2193c0(0xef)]()['constructor'](a344_0xaff655)['search'](_0x2193c0(0xf8));});function a344_0x2ff4(_0x4f3552,_0x2eabaf){const _0x377b61=a344_0x1353();return a344_0x2ff4=function(_0xaff655,_0x4c644d){_0xaff655=_0xaff655-0xde;let _0x135318=_0x377b61[_0xaff655];return _0x135318;},a344_0x2ff4(_0x4f3552,_0x2eabaf);}a344_0xaff655();'use strict';Object['defineProperty'](exports,a344_0x9cb702(0x102),{'value':!![]}),exports[a344_0x9cb702(0xfb)]=void 0x0;const salesforce_1=require(a344_0x9cb702(0xf9)),stream_1=require(a344_0x9cb702(0xea)),SOURCE_MEMBER_OBJECT_NAME=a344_0x9cb702(0xf1),LAST_MODIFIED_DATE_FIELD_NAME='LastModifiedDate',MEMBER_TYPE_FIELD_NAME=a344_0x9cb702(0xec),SOURCE_MEMBER_SELECT_FIELDS=['Id',a344_0x9cb702(0xf6),a344_0x9cb702(0xde),a344_0x9cb702(0x106),a344_0x9cb702(0xf4),a344_0x9cb702(0xed),a344_0x9cb702(0xec),a344_0x9cb702(0xeb),a344_0x9cb702(0xe0)];class SourceMemberRetriever extends stream_1['Readable']{constructor({apiVersion:_0x186fc5,instance:_0x3ae978,lastRetrieveDate:_0x5c5088,currentRetrieveDate:_0x162b99,metadataTypes:_0x26a011}){const _0x16e63f=a344_0x9cb702;super({'objectMode':!![]}),this['instance']=_0x3ae978,this['api']=_0x186fc5,this['lastRetrieveDate']=_0x5c5088,this[_0x16e63f(0xe1)]=_0x162b99,this['metadataTypes']=_0x26a011,this[_0x16e63f(0xdf)]=this['createDataSource']();}async*[a344_0x9cb702(0x100)](){const _0x1b3427=a344_0x9cb702,_0x9c5e98=new salesforce_1[(_0x1b3427(0xf2))]({'api':this['api'],'queryBuilder':this[_0x1b3427(0xfa)](),'instance':this[_0x1b3427(0xee)],'isTooling':!![]});do{const {records:_0x51b2ea}=await _0x9c5e98[_0x1b3427(0x103)]();yield*_0x51b2ea;}while(!_0x9c5e98[_0x1b3427(0x101)]());return null;}[a344_0x9cb702(0xfa)](){const _0x46c5b4=a344_0x9cb702;return new salesforce_1[(_0x46c5b4(0xfd))]()['select'](...SOURCE_MEMBER_SELECT_FIELDS)['from'](SOURCE_MEMBER_OBJECT_NAME)[_0x46c5b4(0xe8)](MEMBER_TYPE_FIELD_NAME+'\x20IN\x20(:metadataTypes)',{'metadataTypes':this['metadataTypes']})[_0x46c5b4(0x105)](LAST_MODIFIED_DATE_FIELD_NAME+'\x20>=\x20:lastRetrieveDate',{'lastRetrieveDate':new Date(this[_0x46c5b4(0xe9)])})[_0x46c5b4(0x105)](LAST_MODIFIED_DATE_FIELD_NAME+_0x46c5b4(0xe7),{'currentRetrieveDate':new Date(this[_0x46c5b4(0xe1)])});}async[a344_0x9cb702(0xe3)](){const _0x4e5f97=a344_0x9cb702;try{const {value:_0x846458}=await this[_0x4e5f97(0xdf)][_0x4e5f97(0x104)]();this[_0x4e5f97(0xe2)](_0x846458);}catch(_0x1c5506){this['destroy'](_0x1c5506);}}}exports[a344_0x9cb702(0xfb)]=SourceMemberRetriever;