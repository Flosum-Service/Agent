const a346_0x1a391b=a346_0x30eb;function a346_0x30eb(_0x360377,_0x264696){const _0x6ab9e5=a346_0x1edd();return a346_0x30eb=function(_0xf00b96,_0x503d5e){_0xf00b96=_0xf00b96-0xc4;let _0x1edd5f=_0x6ab9e5[_0xf00b96];return _0x1edd5f;},a346_0x30eb(_0x360377,_0x264696);}(function(_0x38a740,_0x2b6606){const _0x1fdc4e=a346_0x30eb,_0x335091=_0x38a740();while(!![]){try{const _0x335c4b=-parseInt(_0x1fdc4e(0xe2))/0x1+parseInt(_0x1fdc4e(0xe4))/0x2*(-parseInt(_0x1fdc4e(0xc9))/0x3)+parseInt(_0x1fdc4e(0xf2))/0x4*(-parseInt(_0x1fdc4e(0xe8))/0x5)+parseInt(_0x1fdc4e(0xcd))/0x6*(parseInt(_0x1fdc4e(0xd4))/0x7)+-parseInt(_0x1fdc4e(0xed))/0x8*(parseInt(_0x1fdc4e(0xf0))/0x9)+parseInt(_0x1fdc4e(0xe1))/0xa*(-parseInt(_0x1fdc4e(0xc4))/0xb)+-parseInt(_0x1fdc4e(0xea))/0xc*(-parseInt(_0x1fdc4e(0xdc))/0xd);if(_0x335c4b===_0x2b6606)break;else _0x335091['push'](_0x335091['shift']());}catch(_0xe82f04){_0x335091['push'](_0x335091['shift']());}}}(a346_0x1edd,0xdb471));const a346_0x503d5e=(function(){let _0x3d3d3b=!![];return function(_0x5c659d,_0x5040cd){const _0x4569a8=_0x3d3d3b?function(){const _0xa861db=a346_0x30eb;if(_0x5040cd){const _0x425bcf=_0x5040cd[_0xa861db(0xe6)](_0x5c659d,arguments);return _0x5040cd=null,_0x425bcf;}}:function(){};return _0x3d3d3b=![],_0x4569a8;};}()),a346_0xf00b96=a346_0x503d5e(this,function(){const _0x359b11=a346_0x30eb;return a346_0xf00b96[_0x359b11(0xe0)]()['search']('(((.+)+)+)+$')[_0x359b11(0xe0)]()[_0x359b11(0xdd)](a346_0xf00b96)[_0x359b11(0xc7)](_0x359b11(0xf1));});function a346_0x1edd(){const _0x3e7b95=['IsNewMember','andWhere','@flosum/salesforce','RevisionCounter','SourceMemberRetriever','\x20>=\x20:lastRetrieveDate','MemberType','25730458JfcOVj','constructor','api','MemberName','toString','10cwUTwJ','34435vgfjZK','QueryBuilder','64748ylVDfQ','defineProperty','apply','__esModule','17525sRUqKy','buildSourceMemberQuery','24mDxpCS','metadataTypes','lastRetrieveDate','8uQDqPZ','select','next','14396517DIclqn','(((.+)+)+)+$','1052kjClbu','10189883YvonDn','_read','currentRetrieveDate','search','where','3RQmORt','instance','execute','getIsDone','6KHJzzt','from','stream','ChangedBy','createDataSource','dataSource','LastModifiedDate','3179533QkVWhF'];a346_0x1edd=function(){return _0x3e7b95;};return a346_0x1edd();}a346_0xf00b96();'use strict';Object[a346_0x1a391b(0xe5)](exports,a346_0x1a391b(0xe7),{'value':!![]}),exports['SourceMemberRetriever']=void 0x0;const salesforce_1=require(a346_0x1a391b(0xd7)),stream_1=require(a346_0x1a391b(0xcf)),SOURCE_MEMBER_OBJECT_NAME='SourceMember',LAST_MODIFIED_DATE_FIELD_NAME=a346_0x1a391b(0xd3),MEMBER_TYPE_FIELD_NAME=a346_0x1a391b(0xdb),SOURCE_MEMBER_SELECT_FIELDS=['Id','MemberIdOrName',a346_0x1a391b(0xd0),'IsNameObsolete',a346_0x1a391b(0xd5),a346_0x1a391b(0xdf),a346_0x1a391b(0xdb),a346_0x1a391b(0xd8),'LastModifiedDate'];class SourceMemberRetriever extends stream_1['Readable']{constructor({apiVersion:_0x167e89,instance:_0xf4a416,lastRetrieveDate:_0x4fcf02,currentRetrieveDate:_0x3d0019,metadataTypes:_0x1f8dbc}){const _0x3c47d5=a346_0x1a391b;super({'objectMode':!![]}),this['instance']=_0xf4a416,this[_0x3c47d5(0xde)]=_0x167e89,this[_0x3c47d5(0xec)]=_0x4fcf02,this[_0x3c47d5(0xc6)]=_0x3d0019,this['metadataTypes']=_0x1f8dbc,this[_0x3c47d5(0xd2)]=this[_0x3c47d5(0xd1)]();}async*[a346_0x1a391b(0xd1)](){const _0x3abe70=a346_0x1a391b,_0x39b555=new salesforce_1['CompositeRetrieveData']({'api':this[_0x3abe70(0xde)],'queryBuilder':this['buildSourceMemberQuery'](),'instance':this[_0x3abe70(0xca)],'isTooling':!![]});do{const {records:_0x1ae5fd}=await _0x39b555[_0x3abe70(0xcb)]();yield*_0x1ae5fd;}while(!_0x39b555[_0x3abe70(0xcc)]());return null;}[a346_0x1a391b(0xe9)](){const _0x14af76=a346_0x1a391b;return new salesforce_1[(_0x14af76(0xe3))]()[_0x14af76(0xee)](...SOURCE_MEMBER_SELECT_FIELDS)[_0x14af76(0xce)](SOURCE_MEMBER_OBJECT_NAME)[_0x14af76(0xc8)](MEMBER_TYPE_FIELD_NAME+'\x20IN\x20(:metadataTypes)',{'metadataTypes':this[_0x14af76(0xeb)]})[_0x14af76(0xd6)](LAST_MODIFIED_DATE_FIELD_NAME+_0x14af76(0xda),{'lastRetrieveDate':new Date(this[_0x14af76(0xec)])})[_0x14af76(0xd6)](LAST_MODIFIED_DATE_FIELD_NAME+'\x20<\x20:currentRetrieveDate',{'currentRetrieveDate':new Date(this[_0x14af76(0xc6)])});}async[a346_0x1a391b(0xc5)](){const _0x2f094e=a346_0x1a391b;try{const {value:_0x42d6fd}=await this[_0x2f094e(0xd2)][_0x2f094e(0xef)]();this['push'](_0x42d6fd);}catch(_0x1b289e){this['destroy'](_0x1b289e);}}}exports[a346_0x1a391b(0xd9)]=SourceMemberRetriever;