function a341_0x498d(){const _0x4cf915=['MetadataLogger','RestSimpleDeployData','FLOSUM_NAMESPACE','IN_PROGRESS','_status','getTime','metadataLog','metadataLogId','toString','Completed_Date__c','instance','targetOrgId','911771IQqnNs','deployMetadataLog','2FBwAww','EXCEPTION','error','Job_Completed__c','8UMbZpi','init','startDate','6370280aAejGP','Status__c','(((.+)+)+)+$','__esModule','update','COMPLETED','status','Start_Date__c','LogStatus','Organisation__c','createMetadataLog','defineProperty','9961155SsWhUq','520063wtKoKj','Is_Error__c','30EcGLqE','Tracking\x20Organization\x20-\x20Retrieve','Tracking_Setting__c','Update\x20metadata\x20log\x20error\x20\x0a','../../../../constants','Process_Type__c','1346634QIpBYW','success','3930276yXOTIs','apiVersion','apply','search','4911960mOCVgU'];a341_0x498d=function(){return _0x4cf915;};return a341_0x498d();}const a341_0x5613a5=a341_0x2a8a;(function(_0x2edcbf,_0x2e90d1){const _0x431bc0=a341_0x2a8a,_0x4f5bbc=_0x2edcbf();while(!![]){try{const _0x3505d7=parseInt(_0x431bc0(0xf1))/0x1*(parseInt(_0x431bc0(0xdd))/0x2)+-parseInt(_0x431bc0(0xce))/0x3+parseInt(_0x431bc0(0xfb))/0x4+-parseInt(_0x431bc0(0xf3))/0x5*(-parseInt(_0x431bc0(0xf9))/0x6)+parseInt(_0x431bc0(0xdb))/0x7*(parseInt(_0x431bc0(0xe1))/0x8)+-parseInt(_0x431bc0(0xf0))/0x9+parseInt(_0x431bc0(0xe4))/0xa;if(_0x3505d7===_0x2e90d1)break;else _0x4f5bbc['push'](_0x4f5bbc['shift']());}catch(_0x393a1c){_0x4f5bbc['push'](_0x4f5bbc['shift']());}}}(a341_0x498d,0xd4ff0));const a341_0x18048d=(function(){let _0x522772=!![];return function(_0x43e18d,_0x5aa932){const _0x183a57=_0x522772?function(){const _0x4d0432=a341_0x2a8a;if(_0x5aa932){const _0x458482=_0x5aa932[_0x4d0432(0xcc)](_0x43e18d,arguments);return _0x5aa932=null,_0x458482;}}:function(){};return _0x522772=![],_0x183a57;};}()),a341_0xfde2c9=a341_0x18048d(this,function(){const _0x3c51b5=a341_0x2a8a;return a341_0xfde2c9[_0x3c51b5(0xd7)]()[_0x3c51b5(0xcd)](_0x3c51b5(0xe6))[_0x3c51b5(0xd7)]()['constructor'](a341_0xfde2c9)[_0x3c51b5(0xcd)](_0x3c51b5(0xe6));});a341_0xfde2c9();'use strict';Object[a341_0x5613a5(0xef)](exports,a341_0x5613a5(0xe7),{'value':!![]}),exports[a341_0x5613a5(0xcf)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),constants_1=require('../../constants'),constants_2=require(a341_0x5613a5(0xf7)),METADATA_LOG_OBJECT_NAME=constants_2['FLOSUM_NAMESPACE']+'Metadata_Log__c',PROCESS_TYPE_RETRIEVE_ORGANIZATION=a341_0x5613a5(0xf4);function a341_0x2a8a(_0xc3de4a,_0x3b1c77){const _0x508ef8=a341_0x498d();return a341_0x2a8a=function(_0xfde2c9,_0x18048d){_0xfde2c9=_0xfde2c9-0xcb;let _0x498db4=_0x508ef8[_0xfde2c9];return _0x498db4;},a341_0x2a8a(_0xc3de4a,_0x3b1c77);}class MetadataLogger{constructor({apiVersion:_0xb6713d,instance:_0x4c1b63,targetOrgId:_0x232e99,trackingSettingId:_0x3dac43,startDate:_0x4616fe}){const _0x380d89=a341_0x5613a5;this['apiVersion']=_0xb6713d,this[_0x380d89(0xd9)]=_0x4c1b63,this[_0x380d89(0xda)]=_0x232e99,this['trackingSettingId']=_0x3dac43,this[_0x380d89(0xe3)]=_0x4616fe;}set[a341_0x5613a5(0xea)](_0x53e744){const _0x144894=a341_0x5613a5;this[_0x144894(0xd3)]=_0x53e744;}async[a341_0x5613a5(0xdc)](){const _0x49e6e7=a341_0x5613a5,_0x4811cd=new salesforce_1[(_0x49e6e7(0xd0))]({'instance':this[_0x49e6e7(0xd9)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x49e6e7(0xcb)],'allOrNone':![],'externalIdField':'Id'});return await _0x4811cd['execute']({'records':[this[_0x49e6e7(0xd5)]]});}[a341_0x5613a5(0xee)](){const _0x1b6da3=a341_0x5613a5;this[_0x1b6da3(0xd5)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this[_0x1b6da3(0xd6)]||null,[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xeb)]:this['startDate'],[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xed)]:this['targetOrgId'],[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xf5)]:this['trackingSettingId'],[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xf8)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2['FLOSUM_NAMESPACE']+_0x1b6da3(0xe5)]:this[_0x1b6da3(0xd3)],[constants_2[_0x1b6da3(0xd1)]+'Succeed__c']:this[_0x1b6da3(0xd3)]===constants_1[_0x1b6da3(0xec)][_0x1b6da3(0xe9)],[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xd8)]:this['_status']===constants_1[_0x1b6da3(0xec)][_0x1b6da3(0xd2)]?null:new Date()[_0x1b6da3(0xd4)](),[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xf2)]:this[_0x1b6da3(0xd3)]===constants_1[_0x1b6da3(0xec)][_0x1b6da3(0xde)],[constants_2[_0x1b6da3(0xd1)]+_0x1b6da3(0xe0)]:this[_0x1b6da3(0xd3)]!==constants_1[_0x1b6da3(0xec)][_0x1b6da3(0xd2)]};}async[a341_0x5613a5(0xe2)](){const _0x3cf70f=a341_0x5613a5;this[_0x3cf70f(0xee)]();const _0x4e694b=await this[_0x3cf70f(0xdc)](),_0x38c560=_0x4e694b['at'](0x0);if(_0x38c560===null||_0x38c560===void 0x0?void 0x0:_0x38c560[_0x3cf70f(0xfa)])return this[_0x3cf70f(0xd6)]=_0x38c560['id'],_0x38c560['id'];else throw new Error('Init\x20metadata\x20log\x20error\x20\x0a'+(_0x38c560===null||_0x38c560===void 0x0?void 0x0:_0x38c560[_0x3cf70f(0xdf)]));}async[a341_0x5613a5(0xe8)](){this['createMetadataLog'](),await this['deployMetadataLog']()['then'](_0x5102e5=>{const _0x25a499=a341_0x2a8a,_0x1426f=_0x5102e5['at'](0x0);if(_0x1426f===null||_0x1426f===void 0x0?void 0x0:_0x1426f[_0x25a499(0xdf)])throw new Error(_0x25a499(0xf6)+(_0x1426f===null||_0x1426f===void 0x0?void 0x0:_0x1426f['error']));});}}exports[a341_0x5613a5(0xcf)]=MetadataLogger;