const a341_0x2da954=a341_0x239f;(function(_0x58cf94,_0x27a612){const _0x448bfc=a341_0x239f,_0x22889c=_0x58cf94();while(!![]){try{const _0x4b96f7=parseInt(_0x448bfc(0x7f))/0x1+parseInt(_0x448bfc(0x99))/0x2+parseInt(_0x448bfc(0x83))/0x3+parseInt(_0x448bfc(0x8f))/0x4+parseInt(_0x448bfc(0x97))/0x5*(parseInt(_0x448bfc(0x91))/0x6)+-parseInt(_0x448bfc(0x86))/0x7*(-parseInt(_0x448bfc(0x7d))/0x8)+-parseInt(_0x448bfc(0x76))/0x9;if(_0x4b96f7===_0x27a612)break;else _0x22889c['push'](_0x22889c['shift']());}catch(_0xa05c66){_0x22889c['push'](_0x22889c['shift']());}}}(a341_0x211e,0x75068));function a341_0x239f(_0x440ed9,_0x225848){const _0x4a4779=a341_0x211e();return a341_0x239f=function(_0x445022,_0x5eae8b){_0x445022=_0x445022-0x75;let _0x211e25=_0x4a4779[_0x445022];return _0x211e25;},a341_0x239f(_0x440ed9,_0x225848);}const a341_0x5eae8b=(function(){let _0x19f9a4=!![];return function(_0x386921,_0x15d2b6){const _0x595288=_0x19f9a4?function(){const _0x191345=a341_0x239f;if(_0x15d2b6){const _0x406e83=_0x15d2b6[_0x191345(0x75)](_0x386921,arguments);return _0x15d2b6=null,_0x406e83;}}:function(){};return _0x19f9a4=![],_0x595288;};}()),a341_0x445022=a341_0x5eae8b(this,function(){const _0x38ffaf=a341_0x239f;return a341_0x445022[_0x38ffaf(0x8b)]()[_0x38ffaf(0x96)]('(((.+)+)+)+$')[_0x38ffaf(0x8b)]()[_0x38ffaf(0x9a)](a341_0x445022)[_0x38ffaf(0x96)]('(((.+)+)+)+$');});a341_0x445022();'use strict';function a341_0x211e(){const _0x6d880=['MetadataLogger','102qQvuQq','../../../../constants','apiVersion','instance','Tracking_Setting__c','search','49680BpPYHk','RestSimpleDeployData','503814wmNXmN','constructor','Start_Date__c','error','defineProperty','deployMetadataLog','createMetadataLog','apply','15658389KAQRnq','FLOSUM_NAMESPACE','__esModule','Init\x20metadata\x20log\x20error\x20\x0a','Status__c','startDate','init','11288DmQNmH','Completed_Date__c','776372oaRrXc','metadataLog','Metadata_Log__c','_status','1245819PFAZSU','then','IN_PROGRESS','931yFcHka','targetOrgId','Job_Completed__c','status','@flosum/salesforce','toString','Organisation__c','trackingSettingId','LogStatus','1676120IdQpnj'];a341_0x211e=function(){return _0x6d880;};return a341_0x211e();}Object[a341_0x2da954(0x9d)](exports,a341_0x2da954(0x78),{'value':!![]}),exports['MetadataLogger']=void 0x0;const salesforce_1=require(a341_0x2da954(0x8a)),constants_1=require('../../constants'),constants_2=require(a341_0x2da954(0x92)),METADATA_LOG_OBJECT_NAME=constants_2[a341_0x2da954(0x77)]+a341_0x2da954(0x81),PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0x47dbcf,instance:_0x52ca54,targetOrgId:_0x253696,trackingSettingId:_0x3db576,startDate:_0x4fb2eb}){const _0x51b06b=a341_0x2da954;this[_0x51b06b(0x93)]=_0x47dbcf,this[_0x51b06b(0x94)]=_0x52ca54,this['targetOrgId']=_0x253696,this[_0x51b06b(0x8d)]=_0x3db576,this[_0x51b06b(0x7b)]=_0x4fb2eb;}set[a341_0x2da954(0x89)](_0x749085){this['_status']=_0x749085;}async[a341_0x2da954(0x9e)](){const _0x240846=a341_0x2da954,_0x4864bb=new salesforce_1[(_0x240846(0x98))]({'instance':this[_0x240846(0x94)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x240846(0x93)],'allOrNone':![],'externalIdField':'Id'});return await _0x4864bb['execute']({'records':[this[_0x240846(0x80)]]});}['createMetadataLog'](){const _0x1f19c3=a341_0x2da954;this[_0x1f19c3(0x80)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x1f19c3(0x77)]+_0x1f19c3(0x9b)]:this[_0x1f19c3(0x7b)],[constants_2[_0x1f19c3(0x77)]+_0x1f19c3(0x8c)]:this[_0x1f19c3(0x87)],[constants_2[_0x1f19c3(0x77)]+_0x1f19c3(0x95)]:this[_0x1f19c3(0x8d)],[constants_2[_0x1f19c3(0x77)]+'Process_Type__c']:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0x1f19c3(0x77)]+_0x1f19c3(0x7a)]:this[_0x1f19c3(0x82)],[constants_2[_0x1f19c3(0x77)]+'Succeed__c']:this['_status']===constants_1['LogStatus']['COMPLETED'],[constants_2['FLOSUM_NAMESPACE']+_0x1f19c3(0x7e)]:this['_status']===constants_1[_0x1f19c3(0x8e)][_0x1f19c3(0x85)]?null:new Date()['getTime'](),[constants_2[_0x1f19c3(0x77)]+'Is_Error__c']:this[_0x1f19c3(0x82)]===constants_1[_0x1f19c3(0x8e)]['EXCEPTION'],[constants_2[_0x1f19c3(0x77)]+_0x1f19c3(0x88)]:this[_0x1f19c3(0x82)]!==constants_1[_0x1f19c3(0x8e)][_0x1f19c3(0x85)]};}async[a341_0x2da954(0x7c)](){const _0x15f010=a341_0x2da954;this[_0x15f010(0x9f)]();const _0xdd848b=await this['deployMetadataLog'](),_0x29851c=_0xdd848b['at'](0x0);if(_0x29851c===null||_0x29851c===void 0x0?void 0x0:_0x29851c['success'])return this['metadataLogId']=_0x29851c['id'],_0x29851c['id'];else throw new Error(_0x15f010(0x79)+(_0x29851c===null||_0x29851c===void 0x0?void 0x0:_0x29851c['error']));}async['update'](){const _0x26aea2=a341_0x2da954;this[_0x26aea2(0x9f)](),await this[_0x26aea2(0x9e)]()[_0x26aea2(0x84)](_0x29d950=>{const _0x4a3a57=_0x26aea2,_0x3be37a=_0x29d950['at'](0x0);if(_0x3be37a===null||_0x3be37a===void 0x0?void 0x0:_0x3be37a['error'])throw new Error('Update\x20metadata\x20log\x20error\x20\x0a'+(_0x3be37a===null||_0x3be37a===void 0x0?void 0x0:_0x3be37a[_0x4a3a57(0x9c)]));});}}exports[a341_0x2da954(0x90)]=MetadataLogger;