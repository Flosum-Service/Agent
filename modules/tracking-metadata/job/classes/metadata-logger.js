const a342_0x48b78a=a342_0xd190;(function(_0x7c3af3,_0x220b13){const _0x49dfe0=a342_0xd190,_0x327782=_0x7c3af3();while(!![]){try{const _0x89b206=parseInt(_0x49dfe0(0x146))/0x1+-parseInt(_0x49dfe0(0x133))/0x2*(parseInt(_0x49dfe0(0x136))/0x3)+parseInt(_0x49dfe0(0x150))/0x4*(parseInt(_0x49dfe0(0x134))/0x5)+parseInt(_0x49dfe0(0x154))/0x6+-parseInt(_0x49dfe0(0x15e))/0x7*(parseInt(_0x49dfe0(0x14e))/0x8)+parseInt(_0x49dfe0(0x13f))/0x9+parseInt(_0x49dfe0(0x139))/0xa*(-parseInt(_0x49dfe0(0x149))/0xb);if(_0x89b206===_0x220b13)break;else _0x327782['push'](_0x327782['shift']());}catch(_0x2b16ba){_0x327782['push'](_0x327782['shift']());}}}(a342_0xc024,0x6f002));const a342_0x2dda91=(function(){let _0x58f2cf=!![];return function(_0x3b201b,_0x4c28f3){const _0x2b8ec3=_0x58f2cf?function(){const _0x3b5303=a342_0xd190;if(_0x4c28f3){const _0x4055e4=_0x4c28f3[_0x3b5303(0x151)](_0x3b201b,arguments);return _0x4c28f3=null,_0x4055e4;}}:function(){};return _0x58f2cf=![],_0x2b8ec3;};}()),a342_0x47124f=a342_0x2dda91(this,function(){const _0xc0b64d=a342_0xd190;return a342_0x47124f['toString']()[_0xc0b64d(0x15b)](_0xc0b64d(0x147))[_0xc0b64d(0x14d)]()[_0xc0b64d(0x132)](a342_0x47124f)['search'](_0xc0b64d(0x147));});function a342_0xd190(_0x49d268,_0x42f7e1){const _0x18ed8b=a342_0xc024();return a342_0xd190=function(_0x47124f,_0x2dda91){_0x47124f=_0x47124f-0x12e;let _0xc0245a=_0x18ed8b[_0x47124f];return _0xc0245a;},a342_0xd190(_0x49d268,_0x42f7e1);}a342_0x47124f();'use strict';Object['defineProperty'](exports,a342_0x48b78a(0x13d),{'value':!![]}),exports[a342_0x48b78a(0x14c)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),constants_1=require(a342_0x48b78a(0x131)),constants_2=require('../../../../constants'),METADATA_LOG_OBJECT_NAME=constants_2[a342_0x48b78a(0x12e)]+a342_0x48b78a(0x140),PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0x1c35d3,instance:_0x34a739,targetOrgId:_0x57ad17,trackingSettingId:_0x6a6ee2,startDate:_0x43fcc3}){const _0x2b7c3b=a342_0x48b78a;this['apiVersion']=_0x1c35d3,this[_0x2b7c3b(0x141)]=_0x34a739,this[_0x2b7c3b(0x155)]=_0x57ad17,this[_0x2b7c3b(0x13c)]=_0x6a6ee2,this[_0x2b7c3b(0x14f)]=_0x43fcc3;}set[a342_0x48b78a(0x143)](_0x25ed3b){const _0x544a22=a342_0x48b78a;this[_0x544a22(0x15d)]=_0x25ed3b;}async[a342_0x48b78a(0x158)](){const _0x3965bc=a342_0x48b78a,_0x4fa3c7=new salesforce_1[(_0x3965bc(0x156))]({'instance':this[_0x3965bc(0x141)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this['apiVersion'],'allOrNone':![],'externalIdField':'Id'});return await _0x4fa3c7[_0x3965bc(0x135)]({'records':[this[_0x3965bc(0x148)]]});}['createMetadataLog'](){const _0x4a4476=a342_0x48b78a;this['metadataLog']={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x4a4476(0x12e)]+_0x4a4476(0x153)]:this[_0x4a4476(0x14f)],[constants_2[_0x4a4476(0x12e)]+_0x4a4476(0x159)]:this[_0x4a4476(0x155)],[constants_2['FLOSUM_NAMESPACE']+_0x4a4476(0x14a)]:this[_0x4a4476(0x13c)],[constants_2['FLOSUM_NAMESPACE']+_0x4a4476(0x15c)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0x4a4476(0x12e)]+'Status__c']:this[_0x4a4476(0x15d)],[constants_2[_0x4a4476(0x12e)]+'Succeed__c']:this['_status']===constants_1[_0x4a4476(0x15a)][_0x4a4476(0x130)],[constants_2[_0x4a4476(0x12e)]+_0x4a4476(0x137)]:this[_0x4a4476(0x15d)]===constants_1[_0x4a4476(0x15a)][_0x4a4476(0x142)]?null:new Date()[_0x4a4476(0x157)](),[constants_2[_0x4a4476(0x12e)]+'Is_Error__c']:this[_0x4a4476(0x15d)]===constants_1[_0x4a4476(0x15a)][_0x4a4476(0x13b)],[constants_2[_0x4a4476(0x12e)]+_0x4a4476(0x152)]:this[_0x4a4476(0x15d)]!==constants_1[_0x4a4476(0x15a)][_0x4a4476(0x142)]};}async[a342_0x48b78a(0x12f)](){const _0x1f83aa=a342_0x48b78a;this[_0x1f83aa(0x14b)]();const _0x468fd2=await this['deployMetadataLog'](),_0x28db5e=_0x468fd2['at'](0x0);if(_0x28db5e===null||_0x28db5e===void 0x0?void 0x0:_0x28db5e['success'])return this[_0x1f83aa(0x144)]=_0x28db5e['id'],_0x28db5e['id'];else throw new Error(_0x1f83aa(0x13a)+(_0x28db5e===null||_0x28db5e===void 0x0?void 0x0:_0x28db5e[_0x1f83aa(0x138)]));}async['update'](){const _0x390aa4=a342_0x48b78a;this[_0x390aa4(0x14b)](),await this['deployMetadataLog']()[_0x390aa4(0x145)](_0x30b534=>{const _0x4f9798=_0x390aa4,_0x18b5a8=_0x30b534['at'](0x0);if(_0x18b5a8===null||_0x18b5a8===void 0x0?void 0x0:_0x18b5a8['error'])throw new Error(_0x4f9798(0x13e)+(_0x18b5a8===null||_0x18b5a8===void 0x0?void 0x0:_0x18b5a8['error']));});}}function a342_0xc024(){const _0x2a7afb=['Completed_Date__c','error','149530nAEKTJ','Init\x20metadata\x20log\x20error\x20\x0a','EXCEPTION','trackingSettingId','__esModule','Update\x20metadata\x20log\x20error\x20\x0a','1348326nnUHeW','Metadata_Log__c','instance','IN_PROGRESS','status','metadataLogId','then','532432IfaLLD','(((.+)+)+)+$','metadataLog','638bGyWoc','Tracking_Setting__c','createMetadataLog','MetadataLogger','toString','726216jPnnNu','startDate','33708crmBff','apply','Job_Completed__c','Start_Date__c','4963974igtdXS','targetOrgId','RestSimpleDeployData','getTime','deployMetadataLog','Organisation__c','LogStatus','search','Process_Type__c','_status','35OlKeDY','FLOSUM_NAMESPACE','init','COMPLETED','../../constants','constructor','16970DIhHTL','455cVmPlS','execute','177YChjuI'];a342_0xc024=function(){return _0x2a7afb;};return a342_0xc024();}exports[a342_0x48b78a(0x14c)]=MetadataLogger;