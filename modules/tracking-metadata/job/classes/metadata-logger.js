const a298_0x2197d5=a298_0x1b65;(function(_0x64dc3b,_0x482a70){const _0x57b385=a298_0x1b65,_0x5cdca2=_0x64dc3b();while(!![]){try{const _0x5b6067=parseInt(_0x57b385(0x143))/0x1*(-parseInt(_0x57b385(0x135))/0x2)+parseInt(_0x57b385(0x131))/0x3*(parseInt(_0x57b385(0x13a))/0x4)+parseInt(_0x57b385(0x122))/0x5*(parseInt(_0x57b385(0x11f))/0x6)+parseInt(_0x57b385(0x13d))/0x7*(-parseInt(_0x57b385(0x146))/0x8)+-parseInt(_0x57b385(0x149))/0x9*(parseInt(_0x57b385(0x129))/0xa)+parseInt(_0x57b385(0x11b))/0xb+parseInt(_0x57b385(0x124))/0xc*(parseInt(_0x57b385(0x139))/0xd);if(_0x5b6067===_0x482a70)break;else _0x5cdca2['push'](_0x5cdca2['shift']());}catch(_0x542d21){_0x5cdca2['push'](_0x5cdca2['shift']());}}}(a298_0x11b3,0x78a34));const a298_0x5b7cf6=(function(){let _0x27bf4c=!![];return function(_0x351e9d,_0x5ad361){const _0x126bf0=_0x27bf4c?function(){const _0x16a28b=a298_0x1b65;if(_0x5ad361){const _0x32d58a=_0x5ad361[_0x16a28b(0x11d)](_0x351e9d,arguments);return _0x5ad361=null,_0x32d58a;}}:function(){};return _0x27bf4c=![],_0x126bf0;};}()),a298_0x1e5e26=a298_0x5b7cf6(this,function(){const _0x14fc3f=a298_0x1b65;return a298_0x1e5e26[_0x14fc3f(0x147)]()['search']('(((.+)+)+)+$')[_0x14fc3f(0x147)]()[_0x14fc3f(0x148)](a298_0x1e5e26)['search'](_0x14fc3f(0x125));});a298_0x1e5e26();'use strict';function a298_0x1b65(_0x323c71,_0x1f97ad){const _0x1fd47d=a298_0x11b3();return a298_0x1b65=function(_0x1e5e26,_0x5b7cf6){_0x1e5e26=_0x1e5e26-0x11a;let _0x11b3c8=_0x1fd47d[_0x1e5e26];return _0x11b3c8;},a298_0x1b65(_0x323c71,_0x1f97ad);}Object['defineProperty'](exports,a298_0x2197d5(0x13e),{'value':!![]}),exports[a298_0x2197d5(0x123)]=void 0x0;function a298_0x11b3(){const _0x3573b1=['378AZBqyt','Tracking_Setting__c','../../constants','metadataLog','3796067mblcJv','_status','apply','update','948FVKruY','LogStatus','success','20385zAlKRw','MetadataLogger','1044dxXHvi','(((.+)+)+)+$','Succeed__c','targetOrgId','Completed_Date__c','78680uYhYSQ','Metadata_Log__c','apiVersion','Start_Date__c','EXCEPTION','init','Process_Type__c','trackingSettingId','180YApfFU','COMPLETED','@flosum/salesforce','IN_PROGRESS','6536PamvRh','metadataLogId','createMetadataLog','error','49179wOhUGM','60124tpgvJH','Update\x20metadata\x20log\x20error\x20\x0a','deployMetadataLog','189gXoOAX','__esModule','getTime','Is_Error__c','startDate','instance','242TnSvZj','FLOSUM_NAMESPACE','Tracking\x20Organization\x20-\x20Retrieve','179200IqmxmD','toString','constructor'];a298_0x11b3=function(){return _0x3573b1;};return a298_0x11b3();}const salesforce_1=require(a298_0x2197d5(0x133)),constants_1=require(a298_0x2197d5(0x14b)),constants_2=require('../../../../constants'),METADATA_LOG_OBJECT_NAME=constants_2[a298_0x2197d5(0x144)]+a298_0x2197d5(0x12a),PROCESS_TYPE_RETRIEVE_ORGANIZATION=a298_0x2197d5(0x145);class MetadataLogger{constructor({apiVersion:_0x37e18a,instance:_0x5b60e7,targetOrgId:_0x1b4b2f,trackingSettingId:_0x347ed4,startDate:_0x286e27}){const _0x1f50e6=a298_0x2197d5;this[_0x1f50e6(0x12b)]=_0x37e18a,this[_0x1f50e6(0x142)]=_0x5b60e7,this[_0x1f50e6(0x127)]=_0x1b4b2f,this[_0x1f50e6(0x130)]=_0x347ed4,this[_0x1f50e6(0x141)]=_0x286e27;}set['status'](_0x558fae){const _0x19d237=a298_0x2197d5;this[_0x19d237(0x11c)]=_0x558fae;}async[a298_0x2197d5(0x13c)](){const _0x1ce1a7=a298_0x2197d5,_0x261454=new salesforce_1['RestSimpleDeployData']({'instance':this[_0x1ce1a7(0x142)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this['apiVersion'],'allOrNone':![],'externalIdField':'Id'});return await _0x261454['execute']({'records':[this[_0x1ce1a7(0x11a)]]});}[a298_0x2197d5(0x137)](){const _0x4b0385=a298_0x2197d5;this[_0x4b0385(0x11a)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this[_0x4b0385(0x136)]||null,[constants_2[_0x4b0385(0x144)]+_0x4b0385(0x12c)]:this[_0x4b0385(0x141)],[constants_2[_0x4b0385(0x144)]+'Organisation__c']:this['targetOrgId'],[constants_2[_0x4b0385(0x144)]+_0x4b0385(0x14a)]:this[_0x4b0385(0x130)],[constants_2[_0x4b0385(0x144)]+_0x4b0385(0x12f)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2['FLOSUM_NAMESPACE']+'Status__c']:this[_0x4b0385(0x11c)],[constants_2['FLOSUM_NAMESPACE']+_0x4b0385(0x126)]:this[_0x4b0385(0x11c)]===constants_1[_0x4b0385(0x120)][_0x4b0385(0x132)],[constants_2[_0x4b0385(0x144)]+_0x4b0385(0x128)]:this[_0x4b0385(0x11c)]===constants_1[_0x4b0385(0x120)]['IN_PROGRESS']?null:new Date()[_0x4b0385(0x13f)](),[constants_2[_0x4b0385(0x144)]+_0x4b0385(0x140)]:this['_status']===constants_1['LogStatus'][_0x4b0385(0x12d)],[constants_2['FLOSUM_NAMESPACE']+'Job_Completed__c']:this[_0x4b0385(0x11c)]!==constants_1['LogStatus'][_0x4b0385(0x134)]};}async[a298_0x2197d5(0x12e)](){const _0x4f051a=a298_0x2197d5;this[_0x4f051a(0x137)]();const _0x21713c=await this['deployMetadataLog'](),_0x68c737=_0x21713c['at'](0x0);if(_0x68c737===null||_0x68c737===void 0x0?void 0x0:_0x68c737[_0x4f051a(0x121)])return this[_0x4f051a(0x136)]=_0x68c737['id'],_0x68c737['id'];else throw new Error('Init\x20metadata\x20log\x20error\x20\x0a'+(_0x68c737===null||_0x68c737===void 0x0?void 0x0:_0x68c737[_0x4f051a(0x138)]));}async[a298_0x2197d5(0x11e)](){const _0x2b33d6=a298_0x2197d5;this[_0x2b33d6(0x137)](),await this[_0x2b33d6(0x13c)]()['then'](_0x45c43f=>{const _0x46ce23=_0x2b33d6,_0x34948c=_0x45c43f['at'](0x0);if(_0x34948c===null||_0x34948c===void 0x0?void 0x0:_0x34948c[_0x46ce23(0x138)])throw new Error(_0x46ce23(0x13b)+(_0x34948c===null||_0x34948c===void 0x0?void 0x0:_0x34948c['error']));});}}exports['MetadataLogger']=MetadataLogger;