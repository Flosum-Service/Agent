const a313_0x4112d3=a313_0x3129;function a313_0x2c38(){const _0x8eecdf=['deployMetadataLog','metadataLog','trackingSettingId','(((.+)+)+)+$','735220keFHMh','LogStatus','Succeed__c','update','Completed_Date__c','targetOrgId','13542xnPbxl','RestSimpleDeployData','Is_Error__c','then','203928iitScP','IN_PROGRESS','status','apiVersion','Tracking_Setting__c','12zteVau','Tracking\x20Organization\x20-\x20Retrieve','_status','instance','50RCiiqc','startDate','Status__c','apply','metadataLogId','19395GeXlrp','MetadataLogger','888138YdZVhv','Process_Type__c','2865148ZbVXcD','execute','Start_Date__c','@flosum/salesforce','init','constructor','126tOgjqh','getTime','828595myQgqt','success','error','Organisation__c','defineProperty','search','createMetadataLog','../../constants','EXCEPTION','Init\x20metadata\x20log\x20error\x20\x0a','../../../../constants','FLOSUM_NAMESPACE','130HdurcG','toString','__esModule'];a313_0x2c38=function(){return _0x8eecdf;};return a313_0x2c38();}(function(_0xa38e9d,_0x82d3de){const _0xee678c=a313_0x3129,_0x5cc721=_0xa38e9d();while(!![]){try{const _0x16db63=parseInt(_0xee678c(0x14d))/0x1*(-parseInt(_0xee678c(0x15a))/0x2)+parseInt(_0xee678c(0x161))/0x3+-parseInt(_0xee678c(0x147))/0x4+-parseInt(_0xee678c(0x16b))/0x5*(-parseInt(_0xee678c(0x156))/0x6)+parseInt(_0xee678c(0x169))/0x7*(parseInt(_0xee678c(0x151))/0x8)+parseInt(_0xee678c(0x15f))/0x9*(-parseInt(_0xee678c(0x140))/0xa)+-parseInt(_0xee678c(0x163))/0xb;if(_0x16db63===_0x82d3de)break;else _0x5cc721['push'](_0x5cc721['shift']());}catch(_0x2a8db5){_0x5cc721['push'](_0x5cc721['shift']());}}}(a313_0x2c38,0x4341c));const a313_0x1a5d43=(function(){let _0x53cc04=!![];return function(_0x4f83dc,_0x10420a){const _0x3d32a8=_0x53cc04?function(){const _0x413122=a313_0x3129;if(_0x10420a){const _0x76aecc=_0x10420a[_0x413122(0x15d)](_0x4f83dc,arguments);return _0x10420a=null,_0x76aecc;}}:function(){};return _0x53cc04=![],_0x3d32a8;};}()),a313_0xe6db26=a313_0x1a5d43(this,function(){const _0xdd29fb=a313_0x3129;return a313_0xe6db26[_0xdd29fb(0x141)]()['search'](_0xdd29fb(0x146))['toString']()[_0xdd29fb(0x168)](a313_0xe6db26)[_0xdd29fb(0x170)](_0xdd29fb(0x146));});a313_0xe6db26();'use strict';Object[a313_0x4112d3(0x16f)](exports,a313_0x4112d3(0x142),{'value':!![]}),exports[a313_0x4112d3(0x160)]=void 0x0;const salesforce_1=require(a313_0x4112d3(0x166)),constants_1=require(a313_0x4112d3(0x13b)),constants_2=require(a313_0x4112d3(0x13e)),METADATA_LOG_OBJECT_NAME=constants_2[a313_0x4112d3(0x13f)]+'Metadata_Log__c',PROCESS_TYPE_RETRIEVE_ORGANIZATION=a313_0x4112d3(0x157);function a313_0x3129(_0x40efb1,_0x180328){const _0x628080=a313_0x2c38();return a313_0x3129=function(_0xe6db26,_0x1a5d43){_0xe6db26=_0xe6db26-0x13a;let _0x2c38f4=_0x628080[_0xe6db26];return _0x2c38f4;},a313_0x3129(_0x40efb1,_0x180328);}class MetadataLogger{constructor({apiVersion:_0x514f52,instance:_0xf6a10a,targetOrgId:_0x59bc1c,trackingSettingId:_0x5e43d3,startDate:_0x2f130c}){const _0x56499f=a313_0x4112d3;this['apiVersion']=_0x514f52,this[_0x56499f(0x159)]=_0xf6a10a,this[_0x56499f(0x14c)]=_0x59bc1c,this['trackingSettingId']=_0x5e43d3,this[_0x56499f(0x15b)]=_0x2f130c;}set[a313_0x4112d3(0x153)](_0x2dbec1){const _0x23808c=a313_0x4112d3;this[_0x23808c(0x158)]=_0x2dbec1;}async[a313_0x4112d3(0x143)](){const _0x52584b=a313_0x4112d3,_0x3674cc=new salesforce_1[(_0x52584b(0x14e))]({'instance':this['instance'],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x52584b(0x154)],'allOrNone':![],'externalIdField':'Id'});return await _0x3674cc[_0x52584b(0x164)]({'records':[this[_0x52584b(0x144)]]});}['createMetadataLog'](){const _0x10ee00=a313_0x4112d3;this[_0x10ee00(0x144)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x165)]:this['startDate'],[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x16e)]:this[_0x10ee00(0x14c)],[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x155)]:this[_0x10ee00(0x145)],[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x162)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2['FLOSUM_NAMESPACE']+_0x10ee00(0x15c)]:this[_0x10ee00(0x158)],[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x149)]:this['_status']===constants_1[_0x10ee00(0x148)]['COMPLETED'],[constants_2[_0x10ee00(0x13f)]+_0x10ee00(0x14b)]:this[_0x10ee00(0x158)]===constants_1[_0x10ee00(0x148)]['IN_PROGRESS']?null:new Date()[_0x10ee00(0x16a)](),[constants_2['FLOSUM_NAMESPACE']+_0x10ee00(0x14f)]:this['_status']===constants_1[_0x10ee00(0x148)][_0x10ee00(0x13c)],[constants_2[_0x10ee00(0x13f)]+'Job_Completed__c']:this[_0x10ee00(0x158)]!==constants_1[_0x10ee00(0x148)][_0x10ee00(0x152)]};}async[a313_0x4112d3(0x167)](){const _0x327c0b=a313_0x4112d3;this[_0x327c0b(0x13a)]();const _0x4a6d37=await this[_0x327c0b(0x143)](),_0x3b402d=_0x4a6d37['at'](0x0);if(_0x3b402d===null||_0x3b402d===void 0x0?void 0x0:_0x3b402d[_0x327c0b(0x16c)])return this[_0x327c0b(0x15e)]=_0x3b402d['id'],_0x3b402d['id'];else throw new Error(_0x327c0b(0x13d)+(_0x3b402d===null||_0x3b402d===void 0x0?void 0x0:_0x3b402d['error']));}async[a313_0x4112d3(0x14a)](){const _0x2ab464=a313_0x4112d3;this[_0x2ab464(0x13a)](),await this[_0x2ab464(0x143)]()[_0x2ab464(0x150)](_0x30897b=>{const _0x4ad58e=_0x2ab464,_0x271834=_0x30897b['at'](0x0);if(_0x271834===null||_0x271834===void 0x0?void 0x0:_0x271834[_0x4ad58e(0x16d)])throw new Error('Update\x20metadata\x20log\x20error\x20\x0a'+(_0x271834===null||_0x271834===void 0x0?void 0x0:_0x271834[_0x4ad58e(0x16d)]));});}}exports[a313_0x4112d3(0x160)]=MetadataLogger;