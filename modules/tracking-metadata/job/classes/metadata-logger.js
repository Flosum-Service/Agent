const a314_0x42bf45=a314_0x2a7f;(function(_0x503e33,_0x122d8f){const _0x13d058=a314_0x2a7f,_0x10a49f=_0x503e33();while(!![]){try{const _0x2f2687=parseInt(_0x13d058(0x20e))/0x1+-parseInt(_0x13d058(0x20a))/0x2+-parseInt(_0x13d058(0x218))/0x3*(parseInt(_0x13d058(0x1ee))/0x4)+-parseInt(_0x13d058(0x208))/0x5*(-parseInt(_0x13d058(0x1f0))/0x6)+parseInt(_0x13d058(0x214))/0x7+-parseInt(_0x13d058(0x1fe))/0x8+parseInt(_0x13d058(0x20f))/0x9*(parseInt(_0x13d058(0x1ff))/0xa);if(_0x2f2687===_0x122d8f)break;else _0x10a49f['push'](_0x10a49f['shift']());}catch(_0x5534a6){_0x10a49f['push'](_0x10a49f['shift']());}}}(a314_0x5cab,0x9cbf3));const a314_0x85f40d=(function(){let _0x2d0ebe=!![];return function(_0x4182aa,_0x3689c1){const _0x4a704b=_0x2d0ebe?function(){const _0x29b4ae=a314_0x2a7f;if(_0x3689c1){const _0x2ded1c=_0x3689c1[_0x29b4ae(0x204)](_0x4182aa,arguments);return _0x3689c1=null,_0x2ded1c;}}:function(){};return _0x2d0ebe=![],_0x4a704b;};}()),a314_0x17bfd5=a314_0x85f40d(this,function(){const _0x397a20=a314_0x2a7f;return a314_0x17bfd5[_0x397a20(0x1fd)]()[_0x397a20(0x201)](_0x397a20(0x210))['toString']()[_0x397a20(0x1f9)](a314_0x17bfd5)['search'](_0x397a20(0x210));});function a314_0x2a7f(_0x42a7d0,_0x5e99b8){const _0x3e2246=a314_0x5cab();return a314_0x2a7f=function(_0x17bfd5,_0x85f40d){_0x17bfd5=_0x17bfd5-0x1e8;let _0x5cab9c=_0x3e2246[_0x17bfd5];return _0x5cab9c;},a314_0x2a7f(_0x42a7d0,_0x5e99b8);}a314_0x17bfd5();'use strict';Object['defineProperty'](exports,a314_0x42bf45(0x1e9),{'value':!![]}),exports['MetadataLogger']=void 0x0;const salesforce_1=require(a314_0x42bf45(0x216)),constants_1=require('../../constants'),constants_2=require(a314_0x42bf45(0x1ef)),METADATA_LOG_OBJECT_NAME=constants_2[a314_0x42bf45(0x1ea)]+a314_0x42bf45(0x1f2),PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0x259ab1,instance:_0x28b1bc,targetOrgId:_0x251267,trackingSettingId:_0x261260,startDate:_0x3cd06e}){const _0x52fc83=a314_0x42bf45;this['apiVersion']=_0x259ab1,this['instance']=_0x28b1bc,this[_0x52fc83(0x215)]=_0x251267,this[_0x52fc83(0x200)]=_0x261260,this['startDate']=_0x3cd06e;}set[a314_0x42bf45(0x207)](_0x577c03){this['_status']=_0x577c03;}async[a314_0x42bf45(0x20d)](){const _0x527394=a314_0x42bf45,_0x2df47c=new salesforce_1['RestSimpleDeployData']({'instance':this[_0x527394(0x1f6)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x527394(0x1f5)],'allOrNone':![],'externalIdField':'Id'});return await _0x2df47c[_0x527394(0x211)]({'records':[this['metadataLog']]});}[a314_0x42bf45(0x212)](){const _0x20303b=a314_0x42bf45;this[_0x20303b(0x1f4)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x205)]:this[_0x20303b(0x1f1)],[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x213)]:this[_0x20303b(0x215)],[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x1f3)]:this[_0x20303b(0x200)],[constants_2['FLOSUM_NAMESPACE']+_0x20303b(0x1fc)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x1fb)]:this[_0x20303b(0x1fa)],[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x20c)]:this[_0x20303b(0x1fa)]===constants_1[_0x20303b(0x209)][_0x20303b(0x219)],[constants_2[_0x20303b(0x1ea)]+'Completed_Date__c']:this['_status']===constants_1[_0x20303b(0x209)]['IN_PROGRESS']?null:new Date()[_0x20303b(0x20b)](),[constants_2[_0x20303b(0x1ea)]+'Is_Error__c']:this[_0x20303b(0x1fa)]===constants_1[_0x20303b(0x209)][_0x20303b(0x206)],[constants_2[_0x20303b(0x1ea)]+_0x20303b(0x1f7)]:this[_0x20303b(0x1fa)]!==constants_1[_0x20303b(0x209)][_0x20303b(0x1eb)]};}async[a314_0x42bf45(0x217)](){const _0x53668e=a314_0x42bf45;this[_0x53668e(0x212)]();const _0x376a0a=await this[_0x53668e(0x20d)](),_0xc7412c=_0x376a0a['at'](0x0);if(_0xc7412c===null||_0xc7412c===void 0x0?void 0x0:_0xc7412c['success'])return this[_0x53668e(0x1ed)]=_0xc7412c['id'],_0xc7412c['id'];else throw new Error(_0x53668e(0x1f8)+(_0xc7412c===null||_0xc7412c===void 0x0?void 0x0:_0xc7412c[_0x53668e(0x1e8)]));}async[a314_0x42bf45(0x1ec)](){const _0x5d5df2=a314_0x42bf45;this['createMetadataLog'](),await this[_0x5d5df2(0x20d)]()[_0x5d5df2(0x203)](_0x6ae653=>{const _0x2296e4=_0x5d5df2,_0x5e58b4=_0x6ae653['at'](0x0);if(_0x5e58b4===null||_0x5e58b4===void 0x0?void 0x0:_0x5e58b4['error'])throw new Error('Update\x20metadata\x20log\x20error\x20\x0a'+(_0x5e58b4===null||_0x5e58b4===void 0x0?void 0x0:_0x5e58b4[_0x2296e4(0x1e8)]));});}}function a314_0x5cab(){const _0x1db49a=['Tracking_Setting__c','metadataLog','apiVersion','instance','Job_Completed__c','Init\x20metadata\x20log\x20error\x20\x0a','constructor','_status','Status__c','Process_Type__c','toString','7184240WjmwYI','199960dEalLI','trackingSettingId','search','MetadataLogger','then','apply','Start_Date__c','EXCEPTION','status','5muSXJr','LogStatus','2002038MjoOqU','getTime','Succeed__c','deployMetadataLog','1104402mgcKLg','387GjDpWX','(((.+)+)+)+$','execute','createMetadataLog','Organisation__c','303527EQooDc','targetOrgId','@flosum/salesforce','init','2118zBqCEj','COMPLETED','error','__esModule','FLOSUM_NAMESPACE','IN_PROGRESS','update','metadataLogId','1028JmWMHa','../../../../constants','4289610zXsDIV','startDate','Metadata_Log__c'];a314_0x5cab=function(){return _0x1db49a;};return a314_0x5cab();}exports[a314_0x42bf45(0x202)]=MetadataLogger;