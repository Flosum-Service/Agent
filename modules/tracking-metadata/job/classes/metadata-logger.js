const a341_0x1d6748=a341_0x500d;(function(_0x8e9d40,_0x268b2c){const _0x1352cc=a341_0x500d,_0x404f51=_0x8e9d40();while(!![]){try{const _0x344df7=parseInt(_0x1352cc(0xe6))/0x1*(parseInt(_0x1352cc(0xfc))/0x2)+-parseInt(_0x1352cc(0xe9))/0x3+parseInt(_0x1352cc(0x102))/0x4+-parseInt(_0x1352cc(0xf5))/0x5*(-parseInt(_0x1352cc(0xed))/0x6)+parseInt(_0x1352cc(0xe8))/0x7*(-parseInt(_0x1352cc(0xf3))/0x8)+parseInt(_0x1352cc(0x101))/0x9*(-parseInt(_0x1352cc(0xf0))/0xa)+-parseInt(_0x1352cc(0xe0))/0xb*(-parseInt(_0x1352cc(0x100))/0xc);if(_0x344df7===_0x268b2c)break;else _0x404f51['push'](_0x404f51['shift']());}catch(_0x1697bb){_0x404f51['push'](_0x404f51['shift']());}}}(a341_0x5883,0xe3e17));const a341_0x2a762b=(function(){let _0x66a5ca=!![];return function(_0xce4fe7,_0x1a756d){const _0x57d5d6=_0x66a5ca?function(){if(_0x1a756d){const _0x29c1a8=_0x1a756d['apply'](_0xce4fe7,arguments);return _0x1a756d=null,_0x29c1a8;}}:function(){};return _0x66a5ca=![],_0x57d5d6;};}()),a341_0x15256c=a341_0x2a762b(this,function(){const _0x24f403=a341_0x500d;return a341_0x15256c[_0x24f403(0xe2)]()['search'](_0x24f403(0xfd))['toString']()[_0x24f403(0xf9)](a341_0x15256c)[_0x24f403(0x103)]('(((.+)+)+)+$');});a341_0x15256c();'use strict';function a341_0x500d(_0x45cf34,_0x5232b0){const _0x3f5190=a341_0x5883();return a341_0x500d=function(_0x15256c,_0x2a762b){_0x15256c=_0x15256c-0xda;let _0x58832d=_0x3f5190[_0x15256c];return _0x58832d;},a341_0x500d(_0x45cf34,_0x5232b0);}function a341_0x5883(){const _0x2f232a=['165600BPcgQm','_status','COMPLETED','40Edepmp','FLOSUM_NAMESPACE','485pCbdRX','deployMetadataLog','trackingSettingId','targetOrgId','constructor','update','success','2PEHIdX','(((.+)+)+)+$','Metadata_Log__c','EXCEPTION','12RoycHg','261AofXms','852332soJsvz','search','MetadataLogger','Update\x20metadata\x20log\x20error\x20\x0a','status','IN_PROGRESS','LogStatus','then','Start_Date__c','createMetadataLog','apiVersion','../../../../constants','execute','getTime','15287602pBhvcX','init','toString','Tracking_Setting__c','startDate','Status__c','1720429GUVeVp','error','2400888kEvhDK','2705886UfYIBN','defineProperty','metadataLogId','instance','43746fkACmo','Succeed__c','@flosum/salesforce'];a341_0x5883=function(){return _0x2f232a;};return a341_0x5883();}Object[a341_0x1d6748(0xea)](exports,'__esModule',{'value':!![]}),exports[a341_0x1d6748(0x104)]=void 0x0;const salesforce_1=require(a341_0x1d6748(0xef)),constants_1=require('../../constants'),constants_2=require(a341_0x1d6748(0xdd)),METADATA_LOG_OBJECT_NAME=constants_2[a341_0x1d6748(0xf4)]+a341_0x1d6748(0xfe),PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0xfd3074,instance:_0x4617a7,targetOrgId:_0x2f2574,trackingSettingId:_0x38862e,startDate:_0x3a0117}){const _0x262fcc=a341_0x1d6748;this[_0x262fcc(0xdc)]=_0xfd3074,this[_0x262fcc(0xec)]=_0x4617a7,this[_0x262fcc(0xf8)]=_0x2f2574,this[_0x262fcc(0xf7)]=_0x38862e,this[_0x262fcc(0xe4)]=_0x3a0117;}set[a341_0x1d6748(0x106)](_0x41a859){const _0x25221a=a341_0x1d6748;this[_0x25221a(0xf1)]=_0x41a859;}async[a341_0x1d6748(0xf6)](){const _0x12bd78=a341_0x1d6748,_0x58dbc4=new salesforce_1['RestSimpleDeployData']({'instance':this[_0x12bd78(0xec)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x12bd78(0xdc)],'allOrNone':![],'externalIdField':'Id'});return await _0x58dbc4[_0x12bd78(0xde)]({'records':[this['metadataLog']]});}[a341_0x1d6748(0xdb)](){const _0xf2fe50=a341_0x1d6748;this['metadataLog']={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this[_0xf2fe50(0xeb)]||null,[constants_2[_0xf2fe50(0xf4)]+_0xf2fe50(0xda)]:this[_0xf2fe50(0xe4)],[constants_2['FLOSUM_NAMESPACE']+'Organisation__c']:this[_0xf2fe50(0xf8)],[constants_2[_0xf2fe50(0xf4)]+_0xf2fe50(0xe3)]:this[_0xf2fe50(0xf7)],[constants_2[_0xf2fe50(0xf4)]+'Process_Type__c']:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0xf2fe50(0xf4)]+_0xf2fe50(0xe5)]:this[_0xf2fe50(0xf1)],[constants_2['FLOSUM_NAMESPACE']+_0xf2fe50(0xee)]:this['_status']===constants_1[_0xf2fe50(0x108)][_0xf2fe50(0xf2)],[constants_2[_0xf2fe50(0xf4)]+'Completed_Date__c']:this['_status']===constants_1[_0xf2fe50(0x108)]['IN_PROGRESS']?null:new Date()[_0xf2fe50(0xdf)](),[constants_2[_0xf2fe50(0xf4)]+'Is_Error__c']:this[_0xf2fe50(0xf1)]===constants_1['LogStatus'][_0xf2fe50(0xff)],[constants_2[_0xf2fe50(0xf4)]+'Job_Completed__c']:this[_0xf2fe50(0xf1)]!==constants_1['LogStatus'][_0xf2fe50(0x107)]};}async[a341_0x1d6748(0xe1)](){const _0x47fc83=a341_0x1d6748;this[_0x47fc83(0xdb)]();const _0x245758=await this[_0x47fc83(0xf6)](),_0x97d63d=_0x245758['at'](0x0);if(_0x97d63d===null||_0x97d63d===void 0x0?void 0x0:_0x97d63d[_0x47fc83(0xfb)])return this[_0x47fc83(0xeb)]=_0x97d63d['id'],_0x97d63d['id'];else throw new Error('Init\x20metadata\x20log\x20error\x20\x0a'+(_0x97d63d===null||_0x97d63d===void 0x0?void 0x0:_0x97d63d[_0x47fc83(0xe7)]));}async[a341_0x1d6748(0xfa)](){const _0x43c4cb=a341_0x1d6748;this['createMetadataLog'](),await this[_0x43c4cb(0xf6)]()[_0x43c4cb(0x109)](_0x114be7=>{const _0x4ae0f1=_0x43c4cb,_0x3fc839=_0x114be7['at'](0x0);if(_0x3fc839===null||_0x3fc839===void 0x0?void 0x0:_0x3fc839[_0x4ae0f1(0xe7)])throw new Error(_0x4ae0f1(0x105)+(_0x3fc839===null||_0x3fc839===void 0x0?void 0x0:_0x3fc839['error']));});}}exports[a341_0x1d6748(0x104)]=MetadataLogger;