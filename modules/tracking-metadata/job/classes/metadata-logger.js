const a313_0x32f957=a313_0x4c14;(function(_0x247ff1,_0x5c2ac3){const _0xe29e21=a313_0x4c14,_0x193367=_0x247ff1();while(!![]){try{const _0x292842=parseInt(_0xe29e21(0x1ec))/0x1*(-parseInt(_0xe29e21(0x1f7))/0x2)+-parseInt(_0xe29e21(0x1d7))/0x3+parseInt(_0xe29e21(0x1f0))/0x4+-parseInt(_0xe29e21(0x1ea))/0x5+-parseInt(_0xe29e21(0x1ed))/0x6*(parseInt(_0xe29e21(0x1e4))/0x7)+parseInt(_0xe29e21(0x1f3))/0x8*(-parseInt(_0xe29e21(0x1d9))/0x9)+parseInt(_0xe29e21(0x1d3))/0xa*(parseInt(_0xe29e21(0x1cf))/0xb);if(_0x292842===_0x5c2ac3)break;else _0x193367['push'](_0x193367['shift']());}catch(_0x2a6486){_0x193367['push'](_0x193367['shift']());}}}(a313_0x465b,0x881ca));const a313_0x5f147c=(function(){let _0x582c62=!![];return function(_0xabb161,_0x5dc9d4){const _0x979e6f=_0x582c62?function(){if(_0x5dc9d4){const _0x2aaf0a=_0x5dc9d4['apply'](_0xabb161,arguments);return _0x5dc9d4=null,_0x2aaf0a;}}:function(){};return _0x582c62=![],_0x979e6f;};}()),a313_0x3a166d=a313_0x5f147c(this,function(){const _0x180f7b=a313_0x4c14;return a313_0x3a166d[_0x180f7b(0x1d0)]()['search'](_0x180f7b(0x1d4))[_0x180f7b(0x1d0)]()['constructor'](a313_0x3a166d)[_0x180f7b(0x1fc)](_0x180f7b(0x1d4));});a313_0x3a166d();'use strict';Object[a313_0x32f957(0x1d2)](exports,'__esModule',{'value':!![]}),exports[a313_0x32f957(0x1dd)]=void 0x0;const salesforce_1=require(a313_0x32f957(0x1f5)),constants_1=require(a313_0x32f957(0x1e7)),constants_2=require(a313_0x32f957(0x1d8)),METADATA_LOG_OBJECT_NAME=constants_2[a313_0x32f957(0x1e9)]+'Metadata_Log__c',PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';function a313_0x465b(){const _0x24ed7a=['Job_Completed__c','7678JhWSZA','toString','trackingSettingId','defineProperty','27710tafDFY','(((.+)+)+)+$','Is_Error__c','startDate','303033ZrrPiX','../../../../constants','1124811NklkRM','Update\x20metadata\x20log\x20error\x20\x0a','createMetadataLog','deployMetadataLog','MetadataLogger','IN_PROGRESS','Process_Type__c','Status__c','apiVersion','init','update','189BlZJaO','then','COMPLETED','../../constants','Tracking_Setting__c','FLOSUM_NAMESPACE','4185695JoDOKQ','Start_Date__c','515797JJiSKh','13836QvoNNF','getTime','targetOrgId','1058176VQWzrp','Succeed__c','Organisation__c','8UjuZxL','_status','@flosum/salesforce','instance','2AntHqx','error','LogStatus','metadataLog','EXCEPTION','search','success'];a313_0x465b=function(){return _0x24ed7a;};return a313_0x465b();}class MetadataLogger{constructor({apiVersion:_0x3e19d9,instance:_0x51d7a4,targetOrgId:_0x10bb07,trackingSettingId:_0x2e10df,startDate:_0x2294a8}){const _0x35d230=a313_0x32f957;this[_0x35d230(0x1e1)]=_0x3e19d9,this[_0x35d230(0x1f6)]=_0x51d7a4,this[_0x35d230(0x1ef)]=_0x10bb07,this[_0x35d230(0x1d1)]=_0x2e10df,this[_0x35d230(0x1d6)]=_0x2294a8;}set['status'](_0x48a696){const _0x10dafb=a313_0x32f957;this[_0x10dafb(0x1f4)]=_0x48a696;}async['deployMetadataLog'](){const _0x20b61a=a313_0x32f957,_0x5e441a=new salesforce_1['RestSimpleDeployData']({'instance':this[_0x20b61a(0x1f6)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x20b61a(0x1e1)],'allOrNone':![],'externalIdField':'Id'});return await _0x5e441a['execute']({'records':[this['metadataLog']]});}[a313_0x32f957(0x1db)](){const _0x2c3442=a313_0x32f957;this[_0x2c3442(0x1fa)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1eb)]:this[_0x2c3442(0x1d6)],[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1f2)]:this['targetOrgId'],[constants_2['FLOSUM_NAMESPACE']+_0x2c3442(0x1e8)]:this['trackingSettingId'],[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1df)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1e0)]:this['_status'],[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1f1)]:this[_0x2c3442(0x1f4)]===constants_1[_0x2c3442(0x1f9)][_0x2c3442(0x1e6)],[constants_2[_0x2c3442(0x1e9)]+'Completed_Date__c']:this[_0x2c3442(0x1f4)]===constants_1[_0x2c3442(0x1f9)][_0x2c3442(0x1de)]?null:new Date()[_0x2c3442(0x1ee)](),[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1d5)]:this[_0x2c3442(0x1f4)]===constants_1[_0x2c3442(0x1f9)][_0x2c3442(0x1fb)],[constants_2[_0x2c3442(0x1e9)]+_0x2c3442(0x1fe)]:this[_0x2c3442(0x1f4)]!==constants_1[_0x2c3442(0x1f9)][_0x2c3442(0x1de)]};}async[a313_0x32f957(0x1e2)](){const _0x54eb36=a313_0x32f957;this['createMetadataLog']();const _0x79660c=await this[_0x54eb36(0x1dc)](),_0x5d87ec=_0x79660c['at'](0x0);if(_0x5d87ec===null||_0x5d87ec===void 0x0?void 0x0:_0x5d87ec[_0x54eb36(0x1fd)])return this['metadataLogId']=_0x5d87ec['id'],_0x5d87ec['id'];else throw new Error('Init\x20metadata\x20log\x20error\x20\x0a'+(_0x5d87ec===null||_0x5d87ec===void 0x0?void 0x0:_0x5d87ec[_0x54eb36(0x1f8)]));}async[a313_0x32f957(0x1e3)](){const _0x4b6a30=a313_0x32f957;this['createMetadataLog'](),await this[_0x4b6a30(0x1dc)]()[_0x4b6a30(0x1e5)](_0x4d9575=>{const _0x1949d6=_0x4b6a30,_0x523c37=_0x4d9575['at'](0x0);if(_0x523c37===null||_0x523c37===void 0x0?void 0x0:_0x523c37[_0x1949d6(0x1f8)])throw new Error(_0x1949d6(0x1da)+(_0x523c37===null||_0x523c37===void 0x0?void 0x0:_0x523c37[_0x1949d6(0x1f8)]));});}}function a313_0x4c14(_0x500c4a,_0x2852fe){const _0x2937b6=a313_0x465b();return a313_0x4c14=function(_0x3a166d,_0x5f147c){_0x3a166d=_0x3a166d-0x1cf;let _0x465bcc=_0x2937b6[_0x3a166d];return _0x465bcc;},a313_0x4c14(_0x500c4a,_0x2852fe);}exports[a313_0x32f957(0x1dd)]=MetadataLogger;