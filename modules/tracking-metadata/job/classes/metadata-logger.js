function a329_0x2d7f(_0x24951c,_0x823b90){const _0x5ec7ab=a329_0x1279();return a329_0x2d7f=function(_0x2bea2e,_0x2e8783){_0x2bea2e=_0x2bea2e-0x7f;let _0x127925=_0x5ec7ab[_0x2bea2e];return _0x127925;},a329_0x2d7f(_0x24951c,_0x823b90);}const a329_0x51ed34=a329_0x2d7f;(function(_0x43924a,_0x5eb69e){const _0x556b67=a329_0x2d7f,_0x22ca6b=_0x43924a();while(!![]){try{const _0x424769=-parseInt(_0x556b67(0xac))/0x1*(-parseInt(_0x556b67(0x8a))/0x2)+-parseInt(_0x556b67(0x80))/0x3*(-parseInt(_0x556b67(0xad))/0x4)+-parseInt(_0x556b67(0x91))/0x5+-parseInt(_0x556b67(0x96))/0x6*(-parseInt(_0x556b67(0x81))/0x7)+parseInt(_0x556b67(0x98))/0x8*(parseInt(_0x556b67(0x8d))/0x9)+parseInt(_0x556b67(0x95))/0xa+parseInt(_0x556b67(0x8e))/0xb*(-parseInt(_0x556b67(0x9d))/0xc);if(_0x424769===_0x5eb69e)break;else _0x22ca6b['push'](_0x22ca6b['shift']());}catch(_0x1c7a32){_0x22ca6b['push'](_0x22ca6b['shift']());}}}(a329_0x1279,0x9d9ca));const a329_0x2e8783=(function(){let _0x10acbd=!![];return function(_0x30f589,_0x1c4500){const _0x35375b=_0x10acbd?function(){const _0x1b4a2f=a329_0x2d7f;if(_0x1c4500){const _0x2e7ae4=_0x1c4500[_0x1b4a2f(0x89)](_0x30f589,arguments);return _0x1c4500=null,_0x2e7ae4;}}:function(){};return _0x10acbd=![],_0x35375b;};}()),a329_0x2bea2e=a329_0x2e8783(this,function(){const _0x1a48d7=a329_0x2d7f;return a329_0x2bea2e['toString']()[_0x1a48d7(0xaa)](_0x1a48d7(0x99))[_0x1a48d7(0x85)]()[_0x1a48d7(0xa9)](a329_0x2bea2e)['search'](_0x1a48d7(0x99));});a329_0x2bea2e();function a329_0x1279(){const _0x31a9a1=['LogStatus','then','error','success','Tracking_Setting__c','../../../../constants','Organisation__c','Init\x20metadata\x20log\x20error\x20\x0a','constructor','search','Completed_Date__c','1YVVmlV','12yseIOI','deployMetadataLog','instance','906864OKRoWV','7vRwvwA','metadataLog','metadataLogId','createMetadataLog','toString','trackingSettingId','MetadataLogger','Start_Date__c','apply','2362078QxSkAc','Succeed__c','Process_Type__c','4410oBpNpQ','616ZMampZ','RestSimpleDeployData','IN_PROGRESS','2159430JOThZL','_status','defineProperty','__esModule','4050460QmCjKH','1652946nmUEJp','init','9952moJxtH','(((.+)+)+)+$','FLOSUM_NAMESPACE','COMPLETED','execute','492972SFmPUF','Is_Error__c','apiVersion','Status__c'];a329_0x1279=function(){return _0x31a9a1;};return a329_0x1279();}'use strict';Object[a329_0x51ed34(0x93)](exports,a329_0x51ed34(0x94),{'value':!![]}),exports[a329_0x51ed34(0x87)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),constants_1=require('../../constants'),constants_2=require(a329_0x51ed34(0xa6)),METADATA_LOG_OBJECT_NAME=constants_2[a329_0x51ed34(0x9a)]+'Metadata_Log__c',PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0x30a66c,instance:_0x5008bc,targetOrgId:_0x47e643,trackingSettingId:_0x8abf51,startDate:_0x49ac5e}){const _0x36b9fb=a329_0x51ed34;this[_0x36b9fb(0x9f)]=_0x30a66c,this[_0x36b9fb(0x7f)]=_0x5008bc,this['targetOrgId']=_0x47e643,this[_0x36b9fb(0x86)]=_0x8abf51,this['startDate']=_0x49ac5e;}set['status'](_0x10dc2c){const _0x2e517e=a329_0x51ed34;this[_0x2e517e(0x92)]=_0x10dc2c;}async[a329_0x51ed34(0xae)](){const _0x4658f7=a329_0x51ed34,_0x1929a0=new salesforce_1[(_0x4658f7(0x8f))]({'instance':this[_0x4658f7(0x7f)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x4658f7(0x9f)],'allOrNone':![],'externalIdField':'Id'});return await _0x1929a0[_0x4658f7(0x9c)]({'records':[this[_0x4658f7(0x82)]]});}[a329_0x51ed34(0x84)](){const _0x1fa6c4=a329_0x51ed34;this[_0x1fa6c4(0x82)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this['metadataLogId']||null,[constants_2[_0x1fa6c4(0x9a)]+_0x1fa6c4(0x88)]:this['startDate'],[constants_2[_0x1fa6c4(0x9a)]+_0x1fa6c4(0xa7)]:this['targetOrgId'],[constants_2[_0x1fa6c4(0x9a)]+_0x1fa6c4(0xa5)]:this['trackingSettingId'],[constants_2[_0x1fa6c4(0x9a)]+_0x1fa6c4(0x8c)]:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2['FLOSUM_NAMESPACE']+_0x1fa6c4(0xa0)]:this['_status'],[constants_2['FLOSUM_NAMESPACE']+_0x1fa6c4(0x8b)]:this[_0x1fa6c4(0x92)]===constants_1[_0x1fa6c4(0xa1)][_0x1fa6c4(0x9b)],[constants_2['FLOSUM_NAMESPACE']+_0x1fa6c4(0xab)]:this[_0x1fa6c4(0x92)]===constants_1[_0x1fa6c4(0xa1)]['IN_PROGRESS']?null:new Date()['getTime'](),[constants_2[_0x1fa6c4(0x9a)]+_0x1fa6c4(0x9e)]:this[_0x1fa6c4(0x92)]===constants_1[_0x1fa6c4(0xa1)]['EXCEPTION'],[constants_2[_0x1fa6c4(0x9a)]+'Job_Completed__c']:this[_0x1fa6c4(0x92)]!==constants_1[_0x1fa6c4(0xa1)][_0x1fa6c4(0x90)]};}async[a329_0x51ed34(0x97)](){const _0x191766=a329_0x51ed34;this[_0x191766(0x84)]();const _0x584c60=await this[_0x191766(0xae)](),_0x2c0f64=_0x584c60['at'](0x0);if(_0x2c0f64===null||_0x2c0f64===void 0x0?void 0x0:_0x2c0f64[_0x191766(0xa4)])return this[_0x191766(0x83)]=_0x2c0f64['id'],_0x2c0f64['id'];else throw new Error(_0x191766(0xa8)+(_0x2c0f64===null||_0x2c0f64===void 0x0?void 0x0:_0x2c0f64[_0x191766(0xa3)]));}async['update'](){const _0x96ded3=a329_0x51ed34;this[_0x96ded3(0x84)](),await this[_0x96ded3(0xae)]()[_0x96ded3(0xa2)](_0x4db8ba=>{const _0x330031=_0x96ded3,_0x82a7e0=_0x4db8ba['at'](0x0);if(_0x82a7e0===null||_0x82a7e0===void 0x0?void 0x0:_0x82a7e0[_0x330031(0xa3)])throw new Error('Update\x20metadata\x20log\x20error\x20\x0a'+(_0x82a7e0===null||_0x82a7e0===void 0x0?void 0x0:_0x82a7e0[_0x330031(0xa3)]));});}}exports[a329_0x51ed34(0x87)]=MetadataLogger;