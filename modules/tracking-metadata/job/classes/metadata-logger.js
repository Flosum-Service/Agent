const a330_0x52727d=a330_0x5739;(function(_0x226559,_0x267230){const _0x5914cc=a330_0x5739,_0x5e04cc=_0x226559();while(!![]){try{const _0x534360=-parseInt(_0x5914cc(0xd2))/0x1+-parseInt(_0x5914cc(0xe8))/0x2*(-parseInt(_0x5914cc(0xda))/0x3)+-parseInt(_0x5914cc(0xe7))/0x4*(-parseInt(_0x5914cc(0xe4))/0x5)+-parseInt(_0x5914cc(0xcf))/0x6*(parseInt(_0x5914cc(0xd1))/0x7)+parseInt(_0x5914cc(0xdd))/0x8*(parseInt(_0x5914cc(0xd8))/0x9)+parseInt(_0x5914cc(0xe9))/0xa*(-parseInt(_0x5914cc(0xeb))/0xb)+-parseInt(_0x5914cc(0xc9))/0xc;if(_0x534360===_0x267230)break;else _0x5e04cc['push'](_0x5e04cc['shift']());}catch(_0x413dca){_0x5e04cc['push'](_0x5e04cc['shift']());}}}(a330_0x5c53,0x36589));function a330_0x5c53(){const _0x2e46e2=['Is_Error__c','_status','metadataLog','IN_PROGRESS','init','status','constructor','Succeed__c','701928QUntpJ','success','error','__esModule','toString','(((.+)+)+)+$','152748Vjqtlp','Metadata_Log__c','21sNpfyi','296193JrELvQ','FLOSUM_NAMESPACE','Init\x20metadata\x20log\x20error\x20\x0a','metadataLogId','targetOrgId','Update\x20metadata\x20log\x20error\x20\x0a','297pLHvpj','Job_Completed__c','3RkQiFf','apiVersion','update','89368kXOAHU','then','trackingSettingId','search','../../constants','EXCEPTION','COMPLETED','4115iutbDL','Completed_Date__c','LogStatus','1684EGsTcq','670594zrqNDm','10MfZmWZ','createMetadataLog','4364371oBAQTK','@flosum/salesforce','MetadataLogger','deployMetadataLog','Organisation__c','instance','execute','defineProperty'];a330_0x5c53=function(){return _0x2e46e2;};return a330_0x5c53();}const a330_0x4d4940=(function(){let _0xced7e9=!![];return function(_0x17131d,_0x1188d0){const _0x55bd2a=_0xced7e9?function(){if(_0x1188d0){const _0x55d04c=_0x1188d0['apply'](_0x17131d,arguments);return _0x1188d0=null,_0x55d04c;}}:function(){};return _0xced7e9=![],_0x55bd2a;};}()),a330_0x1979c0=a330_0x4d4940(this,function(){const _0x3f218c=a330_0x5739;return a330_0x1979c0[_0x3f218c(0xcd)]()['search'](_0x3f218c(0xce))['toString']()[_0x3f218c(0xc7)](a330_0x1979c0)[_0x3f218c(0xe0)]('(((.+)+)+)+$');});a330_0x1979c0();function a330_0x5739(_0x2e47a6,_0x34dbfc){const _0x42b517=a330_0x5c53();return a330_0x5739=function(_0x1979c0,_0x4d4940){_0x1979c0=_0x1979c0-0xc1;let _0x5c537c=_0x42b517[_0x1979c0];return _0x5c537c;},a330_0x5739(_0x2e47a6,_0x34dbfc);}'use strict';Object[a330_0x52727d(0xf2)](exports,a330_0x52727d(0xcc),{'value':!![]}),exports[a330_0x52727d(0xed)]=void 0x0;const salesforce_1=require(a330_0x52727d(0xec)),constants_1=require(a330_0x52727d(0xe1)),constants_2=require('../../../../constants'),METADATA_LOG_OBJECT_NAME=constants_2[a330_0x52727d(0xd3)]+a330_0x52727d(0xd0),PROCESS_TYPE_RETRIEVE_ORGANIZATION='Tracking\x20Organization\x20-\x20Retrieve';class MetadataLogger{constructor({apiVersion:_0x28ca9a,instance:_0x40ac2a,targetOrgId:_0x5b86d6,trackingSettingId:_0x102e9b,startDate:_0x36cc46}){const _0x27453c=a330_0x52727d;this['apiVersion']=_0x28ca9a,this[_0x27453c(0xf0)]=_0x40ac2a,this[_0x27453c(0xd6)]=_0x5b86d6,this[_0x27453c(0xdf)]=_0x102e9b,this['startDate']=_0x36cc46;}set[a330_0x52727d(0xc6)](_0x2d2e9){const _0x2d090d=a330_0x52727d;this[_0x2d090d(0xc2)]=_0x2d2e9;}async[a330_0x52727d(0xee)](){const _0x3d9f92=a330_0x52727d,_0x446b2d=new salesforce_1['RestSimpleDeployData']({'instance':this[_0x3d9f92(0xf0)],'objectName':METADATA_LOG_OBJECT_NAME,'api':this[_0x3d9f92(0xdb)],'allOrNone':![],'externalIdField':'Id'});return await _0x446b2d[_0x3d9f92(0xf1)]({'records':[this[_0x3d9f92(0xc3)]]});}['createMetadataLog'](){const _0x21fa62=a330_0x52727d;this[_0x21fa62(0xc3)]={'attributes':{'type':METADATA_LOG_OBJECT_NAME},'Id':this[_0x21fa62(0xd5)]||null,[constants_2[_0x21fa62(0xd3)]+'Start_Date__c']:this['startDate'],[constants_2[_0x21fa62(0xd3)]+_0x21fa62(0xef)]:this[_0x21fa62(0xd6)],[constants_2[_0x21fa62(0xd3)]+'Tracking_Setting__c']:this[_0x21fa62(0xdf)],[constants_2[_0x21fa62(0xd3)]+'Process_Type__c']:PROCESS_TYPE_RETRIEVE_ORGANIZATION,[constants_2[_0x21fa62(0xd3)]+'Status__c']:this['_status'],[constants_2[_0x21fa62(0xd3)]+_0x21fa62(0xc8)]:this['_status']===constants_1['LogStatus'][_0x21fa62(0xe3)],[constants_2[_0x21fa62(0xd3)]+_0x21fa62(0xe5)]:this['_status']===constants_1[_0x21fa62(0xe6)][_0x21fa62(0xc4)]?null:new Date()['getTime'](),[constants_2[_0x21fa62(0xd3)]+_0x21fa62(0xc1)]:this[_0x21fa62(0xc2)]===constants_1[_0x21fa62(0xe6)][_0x21fa62(0xe2)],[constants_2['FLOSUM_NAMESPACE']+_0x21fa62(0xd9)]:this[_0x21fa62(0xc2)]!==constants_1[_0x21fa62(0xe6)]['IN_PROGRESS']};}async[a330_0x52727d(0xc5)](){const _0x249775=a330_0x52727d;this[_0x249775(0xea)]();const _0x4f8d57=await this['deployMetadataLog'](),_0x48f927=_0x4f8d57['at'](0x0);if(_0x48f927===null||_0x48f927===void 0x0?void 0x0:_0x48f927[_0x249775(0xca)])return this[_0x249775(0xd5)]=_0x48f927['id'],_0x48f927['id'];else throw new Error(_0x249775(0xd4)+(_0x48f927===null||_0x48f927===void 0x0?void 0x0:_0x48f927[_0x249775(0xcb)]));}async[a330_0x52727d(0xdc)](){const _0x54a00b=a330_0x52727d;this[_0x54a00b(0xea)](),await this['deployMetadataLog']()[_0x54a00b(0xde)](_0x425ac4=>{const _0x519a9e=_0x54a00b,_0x6eabd8=_0x425ac4['at'](0x0);if(_0x6eabd8===null||_0x6eabd8===void 0x0?void 0x0:_0x6eabd8[_0x519a9e(0xcb)])throw new Error(_0x519a9e(0xd7)+(_0x6eabd8===null||_0x6eabd8===void 0x0?void 0x0:_0x6eabd8[_0x519a9e(0xcb)]));});}}exports['MetadataLogger']=MetadataLogger;