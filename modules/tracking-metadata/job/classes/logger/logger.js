const a297_0x317e3a=a297_0x552f;(function(_0x3063d8,_0x2a8e1b){const _0x3f1b5a=a297_0x552f,_0x527266=_0x3063d8();while(!![]){try{const _0x197ce7=-parseInt(_0x3f1b5a(0xb3))/0x1*(parseInt(_0x3f1b5a(0xa8))/0x2)+-parseInt(_0x3f1b5a(0xc1))/0x3*(-parseInt(_0x3f1b5a(0x9f))/0x4)+-parseInt(_0x3f1b5a(0xa7))/0x5+-parseInt(_0x3f1b5a(0xc0))/0x6*(-parseInt(_0x3f1b5a(0xa0))/0x7)+parseInt(_0x3f1b5a(0xb8))/0x8+parseInt(_0x3f1b5a(0xbc))/0x9*(-parseInt(_0x3f1b5a(0xa6))/0xa)+parseInt(_0x3f1b5a(0x9a))/0xb;if(_0x197ce7===_0x2a8e1b)break;else _0x527266['push'](_0x527266['shift']());}catch(_0x5c10f0){_0x527266['push'](_0x527266['shift']());}}}(a297_0x299a,0xd66f3));const a297_0x2fbb48=(function(){let _0x575ba9=!![];return function(_0x579275,_0x1ae0c8){const _0x12f802=_0x575ba9?function(){const _0x3b2a3d=a297_0x552f;if(_0x1ae0c8){const _0x517918=_0x1ae0c8[_0x3b2a3d(0xb1)](_0x579275,arguments);return _0x1ae0c8=null,_0x517918;}}:function(){};return _0x575ba9=![],_0x12f802;};}()),a297_0x2b456c=a297_0x2fbb48(this,function(){const _0x5abf2a=a297_0x552f;return a297_0x2b456c[_0x5abf2a(0xac)]()[_0x5abf2a(0xc6)](_0x5abf2a(0xae))['toString']()['constructor'](a297_0x2b456c)[_0x5abf2a(0xc6)]('(((.+)+)+)+$');});a297_0x2b456c();function a297_0x552f(_0x20e275,_0x3202fc){const _0x25b2ef=a297_0x299a();return a297_0x552f=function(_0x2b456c,_0x2fbb48){_0x2b456c=_0x2b456c-0x99;let _0x299a27=_0x25b2ef[_0x2b456c];return _0x299a27;},a297_0x552f(_0x20e275,_0x3202fc);}'use strict';Object[a297_0x317e3a(0x9b)](exports,a297_0x317e3a(0xa9),{'value':!![]}),exports[a297_0x317e3a(0xa3)]=void 0x0;function a297_0x299a(){const _0x4bce6b=['67758GvVYcc','27BnaLUu','execute','apiVersion','deployAttachment','attachmentId','search','systemLogger','instance','7805721StANzs','defineProperty','log','timeZone','warning','640996NwckuQ','119CeZnHu','Readable','stream','Logger','from','error','941540dfhnnM','7464010qtKkJg','4AGovAJ','__esModule','getMinutes','messages','toString','ATTACHMENT_OBJECT_NAME','(((.+)+)+)+$','../../../constants','getTimeString','apply','@flosum/salesforce','739690kxtTYC','getMonth','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','text/plain','BINARY_FIELD_NAME','12806608JOqHOm','push','success','toLocaleString','9JiDyiU','getFullYear','\x20[INFO]\x20','metadataLogId'];a297_0x299a=function(){return _0x4bce6b;};return a297_0x299a();}const constants_1=require(a297_0x317e3a(0xaf)),salesforce_1=require(a297_0x317e3a(0xb2)),stream_1=require(a297_0x317e3a(0xa2)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x317e3a(0xb6),TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';class Logger{constructor({systemLogger:_0x4a461e,apiVersion:_0x42fa59,instance:_0x5f3e53,metadataLogId:_0x587ca3}){const _0x574150=a297_0x317e3a;this[_0x574150(0xab)]=[],this[_0x574150(0xc7)]=_0x4a461e,this[_0x574150(0xc3)]=_0x42fa59,this[_0x574150(0x99)]=_0x5f3e53,this[_0x574150(0xbf)]=_0x587ca3;}async['createAttachment'](){const _0x1009f7=a297_0x317e3a,_0x1664d0={'attributes':{'type':constants_1[_0x1009f7(0xad)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x1009f7(0xb7)]},'Id':this['attachmentId']||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x1009f7(0xbf)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x25bc20={'binaryFieldName':constants_1['BINARY_FIELD_NAME'],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x1009f7(0xa1)][_0x1009f7(0xa4)](this[_0x1009f7(0xab)])};return{'records':[_0x1664d0],'binary':[_0x25bc20]};}async[a297_0x317e3a(0xc4)](_0x22527b){const _0x23fbae=a297_0x317e3a,_0x410bb9=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x23fbae(0x99)],'objectName':constants_1['ATTACHMENT_OBJECT_NAME'],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x410bb9[_0x23fbae(0xc2)](_0x22527b);}[a297_0x317e3a(0xb0)](){const _0x2cb67e=a297_0x317e3a,_0xab0048=new Date(new Date()[_0x2cb67e(0xbb)]('en-US',{'timeZone':this[_0x2cb67e(0x9d)]})),_0x217077={'year':_0xab0048[_0x2cb67e(0xbd)](),'month':_0xab0048[_0x2cb67e(0xb4)](),'day':_0xab0048['getDate'](),'hours':_0xab0048['getHours'](),'minutes':_0xab0048[_0x2cb67e(0xaa)](),'seconds':_0xab0048['getSeconds']()};for(const [_0x6be84a,_0x587066]of Object['entries'](_0x217077)){_0x217077[_0x6be84a]=_0x587066<0xa?'0'+_0x587066:''+_0x587066;}const {year:_0x50faaa,month:_0x3ab1ea,day:_0x30ba5e,hours:_0x17de6c,minutes:_0x51f993,seconds:_0x15dae2}=_0x217077;return _0x50faaa+'-'+_0x3ab1ea+'-'+_0x30ba5e+'\x20'+_0x17de6c+':'+_0x51f993+':'+_0x15dae2;}async['update'](){const _0x790a06=a297_0x317e3a;if(this['messages']['length']){const _0x5bd821=await this['createAttachment'](),_0x1821ea=await this['deployAttachment'](_0x5bd821),_0x5dc280=_0x1821ea['at'](0x0);if(_0x5dc280===null||_0x5dc280===void 0x0?void 0x0:_0x5dc280[_0x790a06(0xba)])this[_0x790a06(0xc5)]=_0x5dc280['id'];else throw new Error(_0x790a06(0xb5)+(_0x5dc280===null||_0x5dc280===void 0x0?void 0x0:_0x5dc280[_0x790a06(0xa5)]));}}['log'](_0x17ab6e){const _0x37d845=a297_0x317e3a;this['systemLogger'][_0x37d845(0x9c)](_0x17ab6e),this[_0x37d845(0xab)]['push'](this['getTimeString']()+_0x37d845(0xbe)+_0x17ab6e+'\x20\x0a');}[a297_0x317e3a(0xa5)](_0x29e22f){const _0x23f7cc=a297_0x317e3a;this['systemLogger'][_0x23f7cc(0xa5)](_0x29e22f),this[_0x23f7cc(0xab)][_0x23f7cc(0xb9)](this[_0x23f7cc(0xb0)]()+'\x20[ERROR]\x20'+_0x29e22f+'\x20\x0a');}[a297_0x317e3a(0x9e)](_0x3b81aa){const _0x1dcf45=a297_0x317e3a;this[_0x1dcf45(0xc7)][_0x1dcf45(0xa5)](_0x3b81aa),this['messages'][_0x1dcf45(0xb9)](this['getTimeString']()+'\x20[WARNING]\x20'+_0x3b81aa+'\x20\x0a');}}exports['Logger']=Logger;