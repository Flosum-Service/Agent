const a313_0x44f16e=a313_0x4645;function a313_0x4645(_0x2273a7,_0x4a9ebe){const _0x45f1fb=a313_0x614c();return a313_0x4645=function(_0x431985,_0x2b0fd2){_0x431985=_0x431985-0x7b;let _0x614c61=_0x45f1fb[_0x431985];return _0x614c61;},a313_0x4645(_0x2273a7,_0x4a9ebe);}(function(_0x59a104,_0x197935){const _0x5b4091=a313_0x4645,_0x2bcae1=_0x59a104();while(!![]){try{const _0x3a3ae2=-parseInt(_0x5b4091(0x9d))/0x1+parseInt(_0x5b4091(0x9c))/0x2+parseInt(_0x5b4091(0x81))/0x3+parseInt(_0x5b4091(0x9a))/0x4+-parseInt(_0x5b4091(0x90))/0x5+parseInt(_0x5b4091(0x9e))/0x6*(-parseInt(_0x5b4091(0x88))/0x7)+parseInt(_0x5b4091(0xa6))/0x8*(-parseInt(_0x5b4091(0xa9))/0x9);if(_0x3a3ae2===_0x197935)break;else _0x2bcae1['push'](_0x2bcae1['shift']());}catch(_0x3a0ab3){_0x2bcae1['push'](_0x2bcae1['shift']());}}}(a313_0x614c,0xf0d5f));const a313_0x2b0fd2=(function(){let _0x3bf887=!![];return function(_0x1b3e33,_0x3db2ef){const _0x33c5f8=_0x3bf887?function(){const _0x48f2b4=a313_0x4645;if(_0x3db2ef){const _0x43c07e=_0x3db2ef[_0x48f2b4(0x7c)](_0x1b3e33,arguments);return _0x3db2ef=null,_0x43c07e;}}:function(){};return _0x3bf887=![],_0x33c5f8;};}()),a313_0x431985=a313_0x2b0fd2(this,function(){const _0x5d08a4=a313_0x4645;return a313_0x431985[_0x5d08a4(0x8a)]()[_0x5d08a4(0x8e)]('(((.+)+)+)+$')[_0x5d08a4(0x8a)]()[_0x5d08a4(0x91)](a313_0x431985)[_0x5d08a4(0x8e)]('(((.+)+)+)+$');});a313_0x431985();'use strict';function a313_0x614c(){const _0x3f3e7b=['Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','length','10740760PgRqlm','defineProperty','getSeconds','9bYtDJz','getDate','getMinutes','apiVersion','\x20[WARNING]\x20','timeZone','apply','../../../constants','systemLogger','metadataLogId','deployAttachment','3223869iuYICK','success','execute','instance','update','from','Readable','35735jpszUk','getFullYear','toString','Tracking\x20Organization\x20Log','Logger','entries','search','\x20[INFO]\x20','340655YLGBMZ','constructor','ATTACHMENT_OBJECT_NAME','getTimeString','messages','@flosum/salesforce','getHours','\x20[ERROR]\x20','BINARY_FIELD_NAME','log','246444sHYKKy','attachmentId','3303240FlVBrv','252830TeHWuQ','162qQMycr','push','error','getMonth','en-US','CompositeBinaryDeployData'];a313_0x614c=function(){return _0x3f3e7b;};return a313_0x614c();}Object[a313_0x44f16e(0xa7)](exports,'__esModule',{'value':!![]}),exports[a313_0x44f16e(0x8c)]=void 0x0;const constants_1=require(a313_0x44f16e(0x7d)),salesforce_1=require(a313_0x44f16e(0x95)),stream_1=require('stream'),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME=a313_0x44f16e(0x8b);class Logger{constructor({systemLogger:_0x477c37,apiVersion:_0xfd974,instance:_0x4c2b95,metadataLogId:_0x20cf9d}){const _0x261887=a313_0x44f16e;this[_0x261887(0x94)]=[],this[_0x261887(0x7e)]=_0x477c37,this[_0x261887(0xac)]=_0xfd974,this[_0x261887(0x84)]=_0x4c2b95,this[_0x261887(0x7f)]=_0x20cf9d;}async['createAttachment'](){const _0x3ae41f=a313_0x44f16e,_0x18c83d={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x3ae41f(0x98)]},'Id':this['attachmentId']||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x3ae41f(0x7f)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x4f4414={'binaryFieldName':constants_1[_0x3ae41f(0x98)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x3ae41f(0x87)][_0x3ae41f(0x86)](this[_0x3ae41f(0x94)])};return{'records':[_0x18c83d],'binary':[_0x4f4414]};}async[a313_0x44f16e(0x80)](_0x1a94c3){const _0x3ade18=a313_0x44f16e,_0x442f31=new salesforce_1[(_0x3ade18(0xa3))]({'instance':this[_0x3ade18(0x84)],'objectName':constants_1[_0x3ade18(0x92)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x3ade18(0xac)]});return _0x442f31[_0x3ade18(0x83)](_0x1a94c3);}['getTimeString'](){const _0x112817=a313_0x44f16e,_0x188930=new Date(new Date()['toLocaleString'](_0x112817(0xa2),{'timeZone':this[_0x112817(0x7b)]})),_0xbdf7b0={'year':_0x188930[_0x112817(0x89)](),'month':_0x188930[_0x112817(0xa1)](),'day':_0x188930[_0x112817(0xaa)](),'hours':_0x188930[_0x112817(0x96)](),'minutes':_0x188930[_0x112817(0xab)](),'seconds':_0x188930[_0x112817(0xa8)]()};for(const [_0x17bece,_0x186319]of Object[_0x112817(0x8d)](_0xbdf7b0)){_0xbdf7b0[_0x17bece]=_0x186319<0xa?'0'+_0x186319:''+_0x186319;}const {year:_0x232ef6,month:_0xc0af4e,day:_0x16aa66,hours:_0x210a81,minutes:_0x3cbb76,seconds:_0x2fc593}=_0xbdf7b0;return _0x232ef6+'-'+_0xc0af4e+'-'+_0x16aa66+'\x20'+_0x210a81+':'+_0x3cbb76+':'+_0x2fc593;}async[a313_0x44f16e(0x85)](){const _0x2059d1=a313_0x44f16e;if(this[_0x2059d1(0x94)][_0x2059d1(0xa5)]){const _0x37ed0d=await this['createAttachment'](),_0x4130fa=await this[_0x2059d1(0x80)](_0x37ed0d),_0x36472f=_0x4130fa['at'](0x0);if(_0x36472f===null||_0x36472f===void 0x0?void 0x0:_0x36472f[_0x2059d1(0x82)])this[_0x2059d1(0x9b)]=_0x36472f['id'];else throw new Error(_0x2059d1(0xa4)+(_0x36472f===null||_0x36472f===void 0x0?void 0x0:_0x36472f[_0x2059d1(0xa0)]));}}[a313_0x44f16e(0x99)](_0x3c7b3c){const _0x34553d=a313_0x44f16e;this['systemLogger'][_0x34553d(0x99)](_0x3c7b3c),this[_0x34553d(0x94)][_0x34553d(0x9f)](this[_0x34553d(0x93)]()+_0x34553d(0x8f)+_0x3c7b3c+'\x20\x0a');}[a313_0x44f16e(0xa0)](_0x55c92e){const _0x233583=a313_0x44f16e;this[_0x233583(0x7e)][_0x233583(0xa0)](_0x55c92e),this['messages'][_0x233583(0x9f)](this[_0x233583(0x93)]()+_0x233583(0x97)+_0x55c92e+'\x20\x0a');}['warning'](_0x27c4af){const _0x593708=a313_0x44f16e;this['systemLogger'][_0x593708(0xa0)](_0x27c4af),this[_0x593708(0x94)][_0x593708(0x9f)](this[_0x593708(0x93)]()+_0x593708(0xad)+_0x27c4af+'\x20\x0a');}}exports[a313_0x44f16e(0x8c)]=Logger;