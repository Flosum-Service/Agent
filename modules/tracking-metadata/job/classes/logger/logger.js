const a297_0x451237=a297_0x59e5;(function(_0x1e0ace,_0x1dec76){const _0x47eefc=a297_0x59e5,_0x15fe87=_0x1e0ace();while(!![]){try{const _0x35fea3=parseInt(_0x47eefc(0x1a2))/0x1*(-parseInt(_0x47eefc(0x1aa))/0x2)+parseInt(_0x47eefc(0x1b7))/0x3*(parseInt(_0x47eefc(0x19e))/0x4)+-parseInt(_0x47eefc(0x1c3))/0x5+parseInt(_0x47eefc(0x1ad))/0x6*(-parseInt(_0x47eefc(0x199))/0x7)+-parseInt(_0x47eefc(0x1bb))/0x8*(-parseInt(_0x47eefc(0x19c))/0x9)+-parseInt(_0x47eefc(0x1bc))/0xa*(-parseInt(_0x47eefc(0x196))/0xb)+parseInt(_0x47eefc(0x1bd))/0xc;if(_0x35fea3===_0x1dec76)break;else _0x15fe87['push'](_0x15fe87['shift']());}catch(_0x3b406f){_0x15fe87['push'](_0x15fe87['shift']());}}}(a297_0x1e1a,0xd56c2));const a297_0x546c2f=(function(){let _0x5231e9=!![];return function(_0x2dd71d,_0x28e85a){const _0x3d158d=_0x5231e9?function(){if(_0x28e85a){const _0x341451=_0x28e85a['apply'](_0x2dd71d,arguments);return _0x28e85a=null,_0x341451;}}:function(){};return _0x5231e9=![],_0x3d158d;};}()),a297_0x45116f=a297_0x546c2f(this,function(){const _0x44c9bd=a297_0x59e5;return a297_0x45116f[_0x44c9bd(0x1c2)]()['search'](_0x44c9bd(0x1b1))[_0x44c9bd(0x1c2)]()[_0x44c9bd(0x1b9)](a297_0x45116f)[_0x44c9bd(0x19f)]('(((.+)+)+)+$');});function a297_0x59e5(_0x114cb7,_0x8f4b97){const _0x356966=a297_0x1e1a();return a297_0x59e5=function(_0x45116f,_0x546c2f){_0x45116f=_0x45116f-0x191;let _0x1e1ab4=_0x356966[_0x45116f];return _0x1e1ab4;},a297_0x59e5(_0x114cb7,_0x8f4b97);}a297_0x45116f();'use strict';function a297_0x1e1a(){const _0x79169d=['ATTACHMENT_OBJECT_NAME','48RygAIs','10EdOLGY','1668504jOIOAa','log','update','\x20[ERROR]\x20','deployAttachment','toString','6844040RBIxPq','timeZone','metadataLogId','stream','apiVersion','messages','1525634KXEnVT','getMonth','getMinutes','1337mzmyYy','attachmentId','warning','2112147YffVpU','defineProperty','1847776aEyDAW','search','getHours','getSeconds','91YskMqE','\x20[WARNING]\x20','toLocaleString','success','en-US','text/plain','../../../constants','getTimeString','11618tvlwhv','BINARY_FIELD_NAME','error','9426vuiCEI','Tracking\x20Organization\x20Log','instance','CompositeBinaryDeployData','(((.+)+)+)+$','getDate','Logger','createAttachment','push','systemLogger','9cWLNwC','Readable','constructor'];a297_0x1e1a=function(){return _0x79169d;};return a297_0x1e1a();}Object[a297_0x451237(0x19d)](exports,'__esModule',{'value':!![]}),exports[a297_0x451237(0x1b3)]=void 0x0;const constants_1=require(a297_0x451237(0x1a8)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a297_0x451237(0x193)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x451237(0x1a7),TRACKING_ORGANIZATION_LOG_NAME=a297_0x451237(0x1ae);class Logger{constructor({systemLogger:_0x475bbc,apiVersion:_0x3b5670,instance:_0x50702e,metadataLogId:_0x46094f}){const _0x574623=a297_0x451237;this[_0x574623(0x195)]=[],this[_0x574623(0x1b6)]=_0x475bbc,this[_0x574623(0x194)]=_0x3b5670,this[_0x574623(0x1af)]=_0x50702e,this['metadataLogId']=_0x46094f;}async['createAttachment'](){const _0x56970f=a297_0x451237,_0x4c6b15={'attributes':{'type':constants_1[_0x56970f(0x1ba)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x56970f(0x1ab)]},'Id':this[_0x56970f(0x19a)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x56970f(0x192)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x1c94a4={'binaryFieldName':constants_1[_0x56970f(0x1ab)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x56970f(0x1b8)]['from'](this[_0x56970f(0x195)])};return{'records':[_0x4c6b15],'binary':[_0x1c94a4]};}async[a297_0x451237(0x1c1)](_0x3b080d){const _0x3c20f5=a297_0x451237,_0x1bf4ca=new salesforce_1[(_0x3c20f5(0x1b0))]({'instance':this[_0x3c20f5(0x1af)],'objectName':constants_1[_0x3c20f5(0x1ba)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x1bf4ca['execute'](_0x3b080d);}[a297_0x451237(0x1a9)](){const _0x4c54e6=a297_0x451237,_0x463aba=new Date(new Date()[_0x4c54e6(0x1a4)](_0x4c54e6(0x1a6),{'timeZone':this[_0x4c54e6(0x191)]})),_0x438046={'year':_0x463aba['getFullYear'](),'month':_0x463aba[_0x4c54e6(0x197)](),'day':_0x463aba[_0x4c54e6(0x1b2)](),'hours':_0x463aba[_0x4c54e6(0x1a0)](),'minutes':_0x463aba[_0x4c54e6(0x198)](),'seconds':_0x463aba[_0x4c54e6(0x1a1)]()};for(const [_0x15350d,_0x1634ab]of Object['entries'](_0x438046)){_0x438046[_0x15350d]=_0x1634ab<0xa?'0'+_0x1634ab:''+_0x1634ab;}const {year:_0x11f9c2,month:_0x9fa4b5,day:_0x3dc1c2,hours:_0x208a98,minutes:_0x296acc,seconds:_0x58b9b7}=_0x438046;return _0x11f9c2+'-'+_0x9fa4b5+'-'+_0x3dc1c2+'\x20'+_0x208a98+':'+_0x296acc+':'+_0x58b9b7;}async[a297_0x451237(0x1bf)](){const _0x5598eb=a297_0x451237;if(this[_0x5598eb(0x195)]['length']){const _0x2f25cc=await this[_0x5598eb(0x1b4)](),_0x1a54dc=await this[_0x5598eb(0x1c1)](_0x2f25cc),_0x19b3b8=_0x1a54dc['at'](0x0);if(_0x19b3b8===null||_0x19b3b8===void 0x0?void 0x0:_0x19b3b8[_0x5598eb(0x1a5)])this['attachmentId']=_0x19b3b8['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x19b3b8===null||_0x19b3b8===void 0x0?void 0x0:_0x19b3b8[_0x5598eb(0x1ac)]));}}['log'](_0x2c7004){const _0x5b862b=a297_0x451237;this[_0x5b862b(0x1b6)][_0x5b862b(0x1be)](_0x2c7004),this['messages']['push'](this[_0x5b862b(0x1a9)]()+'\x20[INFO]\x20'+_0x2c7004+'\x20\x0a');}['error'](_0x2688db){const _0x285e65=a297_0x451237;this[_0x285e65(0x1b6)]['error'](_0x2688db),this[_0x285e65(0x195)][_0x285e65(0x1b5)](this[_0x285e65(0x1a9)]()+_0x285e65(0x1c0)+_0x2688db+'\x20\x0a');}[a297_0x451237(0x19b)](_0x44137a){const _0x566a92=a297_0x451237;this[_0x566a92(0x1b6)][_0x566a92(0x1ac)](_0x44137a),this[_0x566a92(0x195)][_0x566a92(0x1b5)](this['getTimeString']()+_0x566a92(0x1a3)+_0x44137a+'\x20\x0a');}}exports[a297_0x451237(0x1b3)]=Logger;