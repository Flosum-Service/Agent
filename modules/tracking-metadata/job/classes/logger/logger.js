const a340_0x5423f0=a340_0x183e;function a340_0x1dcd(){const _0x2a3c9d=['metadataLogId','../../../constants','getSeconds','stream','1069105JZEbDQ','@flosum/salesforce','search','\x20[WARNING]\x20','getMinutes','entries','warning','instance','BINARY_FIELD_NAME','text/plain','Tracking\x20Organization\x20Log','success','apiVersion','Logger','push','293828BwsODj','344UIwXqR','systemLogger','ATTACHMENT_OBJECT_NAME','getFullYear','length','en-US','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','attachmentId','from','getHours','log','65547inCmSV','Readable','messages','getTimeString','333528bHknsw','execute','43801qMPvLJ','getDate','10IoIXhT','691545mzZNVW','createAttachment','error','512421UCLnVA','toString','__esModule','\x20[ERROR]\x20','defineProperty'];a340_0x1dcd=function(){return _0x2a3c9d;};return a340_0x1dcd();}(function(_0x161be5,_0x4a9ea7){const _0x10737f=a340_0x183e,_0x3f3971=_0x161be5();while(!![]){try{const _0x43acac=parseInt(_0x10737f(0x192))/0x1*(parseInt(_0x10737f(0x194))/0x2)+parseInt(_0x10737f(0x195))/0x3+-parseInt(_0x10737f(0x180))/0x4+parseInt(_0x10737f(0x171))/0x5+-parseInt(_0x10737f(0x190))/0x6+-parseInt(_0x10737f(0x198))/0x7+parseInt(_0x10737f(0x181))/0x8*(-parseInt(_0x10737f(0x18c))/0x9);if(_0x43acac===_0x4a9ea7)break;else _0x3f3971['push'](_0x3f3971['shift']());}catch(_0x590c52){_0x3f3971['push'](_0x3f3971['shift']());}}}(a340_0x1dcd,0x241d4));const a340_0x340fa0=(function(){let _0x15e6cf=!![];return function(_0x24599f,_0x1440ed){const _0xfeb633=_0x15e6cf?function(){if(_0x1440ed){const _0x2c9aaa=_0x1440ed['apply'](_0x24599f,arguments);return _0x1440ed=null,_0x2c9aaa;}}:function(){};return _0x15e6cf=![],_0xfeb633;};}()),a340_0x310ea3=a340_0x340fa0(this,function(){const _0x3b6937=a340_0x183e;return a340_0x310ea3[_0x3b6937(0x199)]()[_0x3b6937(0x173)]('(((.+)+)+)+$')[_0x3b6937(0x199)]()['constructor'](a340_0x310ea3)[_0x3b6937(0x173)]('(((.+)+)+)+$');});a340_0x310ea3();'use strict';Object[a340_0x5423f0(0x16c)](exports,a340_0x5423f0(0x19a),{'value':!![]}),exports[a340_0x5423f0(0x17e)]=void 0x0;const constants_1=require(a340_0x5423f0(0x16e)),salesforce_1=require(a340_0x5423f0(0x172)),stream_1=require(a340_0x5423f0(0x170)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a340_0x5423f0(0x17a),TRACKING_ORGANIZATION_LOG_NAME=a340_0x5423f0(0x17b);function a340_0x183e(_0x23d413,_0x52ea44){const _0x2e8241=a340_0x1dcd();return a340_0x183e=function(_0x310ea3,_0x340fa0){_0x310ea3=_0x310ea3-0x16b;let _0x1dcd41=_0x2e8241[_0x310ea3];return _0x1dcd41;},a340_0x183e(_0x23d413,_0x52ea44);}class Logger{constructor({systemLogger:_0x1ee2f5,apiVersion:_0x27565c,instance:_0x5a49d9,metadataLogId:_0x2623c4}){const _0x58af1e=a340_0x5423f0;this[_0x58af1e(0x18e)]=[],this[_0x58af1e(0x182)]=_0x1ee2f5,this[_0x58af1e(0x17d)]=_0x27565c,this[_0x58af1e(0x178)]=_0x5a49d9,this[_0x58af1e(0x16d)]=_0x2623c4;}async['createAttachment'](){const _0x81b846=a340_0x5423f0,_0x44ea29={'attributes':{'type':constants_1[_0x81b846(0x183)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x81b846(0x188)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x81b846(0x16d)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0xc8b90e={'binaryFieldName':constants_1[_0x81b846(0x179)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x81b846(0x18d)][_0x81b846(0x189)](this[_0x81b846(0x18e)])};return{'records':[_0x44ea29],'binary':[_0xc8b90e]};}async['deployAttachment'](_0x1a682c){const _0x262434=a340_0x5423f0,_0x39b13d=new salesforce_1['CompositeBinaryDeployData']({'instance':this['instance'],'objectName':constants_1['ATTACHMENT_OBJECT_NAME'],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x39b13d[_0x262434(0x191)](_0x1a682c);}['getTimeString'](){const _0x546ea3=a340_0x5423f0,_0x54eab5=new Date(new Date()['toLocaleString'](_0x546ea3(0x186),{'timeZone':this['timeZone']})),_0x2f3062={'year':_0x54eab5[_0x546ea3(0x184)](),'month':_0x54eab5['getMonth'](),'day':_0x54eab5[_0x546ea3(0x193)](),'hours':_0x54eab5[_0x546ea3(0x18a)](),'minutes':_0x54eab5[_0x546ea3(0x175)](),'seconds':_0x54eab5[_0x546ea3(0x16f)]()};for(const [_0x3b173d,_0x721e3d]of Object[_0x546ea3(0x176)](_0x2f3062)){_0x2f3062[_0x3b173d]=_0x721e3d<0xa?'0'+_0x721e3d:''+_0x721e3d;}const {year:_0x275a68,month:_0x192e49,day:_0x2c2e7c,hours:_0x129069,minutes:_0x378483,seconds:_0x34f900}=_0x2f3062;return _0x275a68+'-'+_0x192e49+'-'+_0x2c2e7c+'\x20'+_0x129069+':'+_0x378483+':'+_0x34f900;}async['update'](){const _0x12352c=a340_0x5423f0;if(this['messages'][_0x12352c(0x185)]){const _0x42403f=await this[_0x12352c(0x196)](),_0x5d2887=await this['deployAttachment'](_0x42403f),_0x2aeef3=_0x5d2887['at'](0x0);if(_0x2aeef3===null||_0x2aeef3===void 0x0?void 0x0:_0x2aeef3[_0x12352c(0x17c)])this[_0x12352c(0x188)]=_0x2aeef3['id'];else throw new Error(_0x12352c(0x187)+(_0x2aeef3===null||_0x2aeef3===void 0x0?void 0x0:_0x2aeef3[_0x12352c(0x197)]));}}[a340_0x5423f0(0x18b)](_0x2ace72){const _0x5ec9e4=a340_0x5423f0;this[_0x5ec9e4(0x182)]['log'](_0x2ace72),this[_0x5ec9e4(0x18e)][_0x5ec9e4(0x17f)](this[_0x5ec9e4(0x18f)]()+'\x20[INFO]\x20'+_0x2ace72+'\x20\x0a');}['error'](_0x42acf7){const _0x3ab3fb=a340_0x5423f0;this[_0x3ab3fb(0x182)][_0x3ab3fb(0x197)](_0x42acf7),this[_0x3ab3fb(0x18e)]['push'](this[_0x3ab3fb(0x18f)]()+_0x3ab3fb(0x16b)+_0x42acf7+'\x20\x0a');}[a340_0x5423f0(0x177)](_0x309fc9){const _0x1406c5=a340_0x5423f0;this['systemLogger']['error'](_0x309fc9),this[_0x1406c5(0x18e)][_0x1406c5(0x17f)](this[_0x1406c5(0x18f)]()+_0x1406c5(0x174)+_0x309fc9+'\x20\x0a');}}exports[a340_0x5423f0(0x17e)]=Logger;