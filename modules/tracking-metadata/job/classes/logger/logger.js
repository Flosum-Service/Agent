const a297_0x30194e=a297_0x4862;(function(_0x252a06,_0x51c55a){const _0x380841=a297_0x4862,_0x5df831=_0x252a06();while(!![]){try{const _0x5a6d1b=-parseInt(_0x380841(0x208))/0x1+-parseInt(_0x380841(0x1f2))/0x2+parseInt(_0x380841(0x1ee))/0x3+-parseInt(_0x380841(0x202))/0x4*(parseInt(_0x380841(0x1f8))/0x5)+-parseInt(_0x380841(0x1f5))/0x6*(parseInt(_0x380841(0x1f7))/0x7)+-parseInt(_0x380841(0x1e9))/0x8*(-parseInt(_0x380841(0x200))/0x9)+parseInt(_0x380841(0x206))/0xa*(parseInt(_0x380841(0x1fe))/0xb);if(_0x5a6d1b===_0x51c55a)break;else _0x5df831['push'](_0x5df831['shift']());}catch(_0x49ddb5){_0x5df831['push'](_0x5df831['shift']());}}}(a297_0x1e79,0xd8ea7));const a297_0x3ee8a1=(function(){let _0x42d616=!![];return function(_0x5cfc1c,_0x144c22){const _0x3c426a=_0x42d616?function(){if(_0x144c22){const _0x3149fb=_0x144c22['apply'](_0x5cfc1c,arguments);return _0x144c22=null,_0x3149fb;}}:function(){};return _0x42d616=![],_0x3c426a;};}()),a297_0x41968a=a297_0x3ee8a1(this,function(){const _0x2fc634=a297_0x4862;return a297_0x41968a[_0x2fc634(0x20f)]()[_0x2fc634(0x211)](_0x2fc634(0x1f4))[_0x2fc634(0x20f)]()[_0x2fc634(0x1e8)](a297_0x41968a)[_0x2fc634(0x211)]('(((.+)+)+)+$');});a297_0x41968a();'use strict';Object[a297_0x30194e(0x1ef)](exports,'__esModule',{'value':!![]}),exports[a297_0x30194e(0x1ec)]=void 0x0;function a297_0x1e79(){const _0x33dedb=['success','Logger','\x20[ERROR]\x20','157449xkxLCV','defineProperty','en-US','BINARY_FIELD_NAME','175820fnnTHH','../../../constants','(((.+)+)+)+$','42CsVBuo','execute','881307LfnMZL','28945FEVOyK','attachmentId','instance','messages','error','update','77ETVoiE','getHours','8457039ViufsD','getTimeString','1196SCVSPY','log','push','stream','4173870jSDoDz','text/plain','325248nGRYcA','Tracking\x20Organization\x20Log','@flosum/salesforce','getSeconds','deployAttachment','getMinutes','from','toString','CompositeBinaryDeployData','search','getFullYear','apiVersion','metadataLogId','ATTACHMENT_OBJECT_NAME','\x20[WARNING]\x20','systemLogger','constructor','8yOfKiG','entries'];a297_0x1e79=function(){return _0x33dedb;};return a297_0x1e79();}const constants_1=require(a297_0x30194e(0x1f3)),salesforce_1=require(a297_0x30194e(0x20a)),stream_1=require(a297_0x30194e(0x205)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x30194e(0x207),TRACKING_ORGANIZATION_LOG_NAME=a297_0x30194e(0x209);class Logger{constructor({systemLogger:_0x28794a,apiVersion:_0x4cd7c7,instance:_0x5180fd,metadataLogId:_0x47f10f}){const _0x14e1cf=a297_0x30194e;this['messages']=[],this[_0x14e1cf(0x1e7)]=_0x28794a,this[_0x14e1cf(0x213)]=_0x4cd7c7,this[_0x14e1cf(0x1fa)]=_0x5180fd,this['metadataLogId']=_0x47f10f;}async['createAttachment'](){const _0x212613=a297_0x30194e,_0x2c1a4c={'attributes':{'type':constants_1[_0x212613(0x215)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x212613(0x1f9)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x212613(0x214)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x110685={'binaryFieldName':constants_1[_0x212613(0x1f1)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0x212613(0x20e)](this[_0x212613(0x1fb)])};return{'records':[_0x2c1a4c],'binary':[_0x110685]};}async[a297_0x30194e(0x20c)](_0x1e88c1){const _0x26d839=a297_0x30194e,_0x2869d0=new salesforce_1[(_0x26d839(0x210))]({'instance':this[_0x26d839(0x1fa)],'objectName':constants_1[_0x26d839(0x215)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x26d839(0x213)]});return _0x2869d0[_0x26d839(0x1f6)](_0x1e88c1);}['getTimeString'](){const _0x9d9f31=a297_0x30194e,_0x299b2e=new Date(new Date()['toLocaleString'](_0x9d9f31(0x1f0),{'timeZone':this['timeZone']})),_0x445c69={'year':_0x299b2e[_0x9d9f31(0x212)](),'month':_0x299b2e['getMonth'](),'day':_0x299b2e['getDate'](),'hours':_0x299b2e[_0x9d9f31(0x1ff)](),'minutes':_0x299b2e[_0x9d9f31(0x20d)](),'seconds':_0x299b2e[_0x9d9f31(0x20b)]()};for(const [_0x4dc332,_0x454c00]of Object[_0x9d9f31(0x1ea)](_0x445c69)){_0x445c69[_0x4dc332]=_0x454c00<0xa?'0'+_0x454c00:''+_0x454c00;}const {year:_0x3dedde,month:_0x7191a7,day:_0xffe62d,hours:_0xa9829f,minutes:_0x82695c,seconds:_0x473eba}=_0x445c69;return _0x3dedde+'-'+_0x7191a7+'-'+_0xffe62d+'\x20'+_0xa9829f+':'+_0x82695c+':'+_0x473eba;}async[a297_0x30194e(0x1fd)](){const _0x30b416=a297_0x30194e;if(this[_0x30b416(0x1fb)]['length']){const _0xbc8512=await this['createAttachment'](),_0x4434c0=await this['deployAttachment'](_0xbc8512),_0x315714=_0x4434c0['at'](0x0);if(_0x315714===null||_0x315714===void 0x0?void 0x0:_0x315714[_0x30b416(0x1eb)])this[_0x30b416(0x1f9)]=_0x315714['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x315714===null||_0x315714===void 0x0?void 0x0:_0x315714[_0x30b416(0x1fc)]));}}[a297_0x30194e(0x203)](_0xd30547){const _0x11feed=a297_0x30194e;this[_0x11feed(0x1e7)][_0x11feed(0x203)](_0xd30547),this['messages'][_0x11feed(0x204)](this['getTimeString']()+'\x20[INFO]\x20'+_0xd30547+'\x20\x0a');}[a297_0x30194e(0x1fc)](_0x3f34e6){const _0xb38d72=a297_0x30194e;this[_0xb38d72(0x1e7)][_0xb38d72(0x1fc)](_0x3f34e6),this[_0xb38d72(0x1fb)][_0xb38d72(0x204)](this[_0xb38d72(0x201)]()+_0xb38d72(0x1ed)+_0x3f34e6+'\x20\x0a');}['warning'](_0x330fc7){const _0x3add3f=a297_0x30194e;this[_0x3add3f(0x1e7)]['error'](_0x330fc7),this[_0x3add3f(0x1fb)][_0x3add3f(0x204)](this[_0x3add3f(0x201)]()+_0x3add3f(0x1e6)+_0x330fc7+'\x20\x0a');}}function a297_0x4862(_0x3dff29,_0x159ef0){const _0x1e32d5=a297_0x1e79();return a297_0x4862=function(_0x41968a,_0x3ee8a1){_0x41968a=_0x41968a-0x1e6;let _0x1e79cf=_0x1e32d5[_0x41968a];return _0x1e79cf;},a297_0x4862(_0x3dff29,_0x159ef0);}exports[a297_0x30194e(0x1ec)]=Logger;