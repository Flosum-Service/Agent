const a297_0x194e88=a297_0x3690;function a297_0x3690(_0xc29167,_0x337524){const _0x15cdc3=a297_0x3761();return a297_0x3690=function(_0x49d611,_0x211f9e){_0x49d611=_0x49d611-0x88;let _0x37618e=_0x15cdc3[_0x49d611];return _0x37618e;},a297_0x3690(_0xc29167,_0x337524);}(function(_0xf4fe82,_0x164309){const _0x6fac2a=a297_0x3690,_0x2cf830=_0xf4fe82();while(!![]){try{const _0xb1d1f5=parseInt(_0x6fac2a(0x99))/0x1*(parseInt(_0x6fac2a(0xb8))/0x2)+parseInt(_0x6fac2a(0x96))/0x3*(-parseInt(_0x6fac2a(0xab))/0x4)+parseInt(_0x6fac2a(0xbc))/0x5+parseInt(_0x6fac2a(0x97))/0x6*(-parseInt(_0x6fac2a(0x91))/0x7)+parseInt(_0x6fac2a(0x94))/0x8+-parseInt(_0x6fac2a(0x8a))/0x9+parseInt(_0x6fac2a(0xae))/0xa*(parseInt(_0x6fac2a(0xa9))/0xb);if(_0xb1d1f5===_0x164309)break;else _0x2cf830['push'](_0x2cf830['shift']());}catch(_0x366846){_0x2cf830['push'](_0x2cf830['shift']());}}}(a297_0x3761,0x953bb));function a297_0x3761(){const _0x551cfb=['search','success','toLocaleString','deployAttachment','timeZone','@flosum/salesforce','getDate','messages','error','constructor','attachmentId','toString','warning','14889754WoDzCT','execute','10748UecfAE','getMonth','stream','10fHsYjj','BINARY_FIELD_NAME','apiVersion','../../../constants','getTimeString','\x20[WARNING]\x20','log','createAttachment','(((.+)+)+)+$','ATTACHMENT_OBJECT_NAME','752zLLQwG','from','defineProperty','instance','1574380WAAzIZ','Logger','\x20[ERROR]\x20','Tracking\x20Organization\x20Log','766827dwNngs','getMinutes','getHours','apply','getSeconds','metadataLogId','push','7012621uaLTrE','CompositeBinaryDeployData','length','5704256DhWjCR','update','1029IIlVvv','6ApCDvC','systemLogger','634YLEmSA','__esModule','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'];a297_0x3761=function(){return _0x551cfb;};return a297_0x3761();}const a297_0x211f9e=(function(){let _0x571f5e=!![];return function(_0xb6862d,_0xfbb5d1){const _0x4fba09=_0x571f5e?function(){const _0x36f077=a297_0x3690;if(_0xfbb5d1){const _0x177e05=_0xfbb5d1[_0x36f077(0x8d)](_0xb6862d,arguments);return _0xfbb5d1=null,_0x177e05;}}:function(){};return _0x571f5e=![],_0x4fba09;};}()),a297_0x49d611=a297_0x211f9e(this,function(){const _0x515507=a297_0x3690;return a297_0x49d611[_0x515507(0xa7)]()[_0x515507(0x9c)]('(((.+)+)+)+$')[_0x515507(0xa7)]()[_0x515507(0xa5)](a297_0x49d611)[_0x515507(0x9c)](_0x515507(0xb6));});a297_0x49d611();'use strict';Object[a297_0x194e88(0xba)](exports,a297_0x194e88(0x9a),{'value':!![]}),exports['Logger']=void 0x0;const constants_1=require(a297_0x194e88(0xb1)),salesforce_1=require(a297_0x194e88(0xa1)),stream_1=require(a297_0x194e88(0xad)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME=a297_0x194e88(0x89);class Logger{constructor({systemLogger:_0x1ab42a,apiVersion:_0x4a7999,instance:_0x2c114b,metadataLogId:_0x61bd0c}){const _0x181c33=a297_0x194e88;this['messages']=[],this[_0x181c33(0x98)]=_0x1ab42a,this[_0x181c33(0xb0)]=_0x4a7999,this['instance']=_0x2c114b,this['metadataLogId']=_0x61bd0c;}async[a297_0x194e88(0xb5)](){const _0x35d490=a297_0x194e88,_0x23352f={'attributes':{'type':constants_1[_0x35d490(0xb7)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x35d490(0xaf)]},'Id':this[_0x35d490(0xa6)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x35d490(0x8f)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x2533cb={'binaryFieldName':constants_1[_0x35d490(0xaf)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0x35d490(0xb9)](this['messages'])};return{'records':[_0x23352f],'binary':[_0x2533cb]};}async[a297_0x194e88(0x9f)](_0x4d5947){const _0x158902=a297_0x194e88,_0x3983bf=new salesforce_1[(_0x158902(0x92))]({'instance':this[_0x158902(0xbb)],'objectName':constants_1[_0x158902(0xb7)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x158902(0xb0)]});return _0x3983bf[_0x158902(0xaa)](_0x4d5947);}['getTimeString'](){const _0x1cd106=a297_0x194e88,_0x2ebbb3=new Date(new Date()[_0x1cd106(0x9e)]('en-US',{'timeZone':this[_0x1cd106(0xa0)]})),_0x143070={'year':_0x2ebbb3['getFullYear'](),'month':_0x2ebbb3[_0x1cd106(0xac)](),'day':_0x2ebbb3[_0x1cd106(0xa2)](),'hours':_0x2ebbb3[_0x1cd106(0x8c)](),'minutes':_0x2ebbb3[_0x1cd106(0x8b)](),'seconds':_0x2ebbb3[_0x1cd106(0x8e)]()};for(const [_0x1cde23,_0x5e434c]of Object['entries'](_0x143070)){_0x143070[_0x1cde23]=_0x5e434c<0xa?'0'+_0x5e434c:''+_0x5e434c;}const {year:_0x3f6678,month:_0xc1b8cb,day:_0x21da47,hours:_0x525bfa,minutes:_0x1cf424,seconds:_0x4152f4}=_0x143070;return _0x3f6678+'-'+_0xc1b8cb+'-'+_0x21da47+'\x20'+_0x525bfa+':'+_0x1cf424+':'+_0x4152f4;}async[a297_0x194e88(0x95)](){const _0x1389d8=a297_0x194e88;if(this[_0x1389d8(0xa3)][_0x1389d8(0x93)]){const _0x33cab5=await this[_0x1389d8(0xb5)](),_0x3ad21f=await this[_0x1389d8(0x9f)](_0x33cab5),_0x2cf208=_0x3ad21f['at'](0x0);if(_0x2cf208===null||_0x2cf208===void 0x0?void 0x0:_0x2cf208[_0x1389d8(0x9d)])this[_0x1389d8(0xa6)]=_0x2cf208['id'];else throw new Error(_0x1389d8(0x9b)+(_0x2cf208===null||_0x2cf208===void 0x0?void 0x0:_0x2cf208[_0x1389d8(0xa4)]));}}[a297_0x194e88(0xb4)](_0x52967e){const _0xc741b9=a297_0x194e88;this[_0xc741b9(0x98)]['log'](_0x52967e),this[_0xc741b9(0xa3)][_0xc741b9(0x90)](this[_0xc741b9(0xb2)]()+'\x20[INFO]\x20'+_0x52967e+'\x20\x0a');}[a297_0x194e88(0xa4)](_0x1f4c58){const _0xfa8f9d=a297_0x194e88;this['systemLogger'][_0xfa8f9d(0xa4)](_0x1f4c58),this[_0xfa8f9d(0xa3)][_0xfa8f9d(0x90)](this[_0xfa8f9d(0xb2)]()+_0xfa8f9d(0x88)+_0x1f4c58+'\x20\x0a');}[a297_0x194e88(0xa8)](_0x3aed19){const _0x224453=a297_0x194e88;this['systemLogger']['error'](_0x3aed19),this['messages'][_0x224453(0x90)](this[_0x224453(0xb2)]()+_0x224453(0xb3)+_0x3aed19+'\x20\x0a');}}exports[a297_0x194e88(0xbd)]=Logger;