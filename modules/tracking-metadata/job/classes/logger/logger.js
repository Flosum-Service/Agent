const a312_0x3b29f9=a312_0x1fbb;(function(_0x272279,_0x13fdae){const _0x57e110=a312_0x1fbb,_0x4d215a=_0x272279();while(!![]){try{const _0x4e82d7=parseInt(_0x57e110(0xc0))/0x1+parseInt(_0x57e110(0xd0))/0x2*(-parseInt(_0x57e110(0xce))/0x3)+-parseInt(_0x57e110(0xbc))/0x4+-parseInt(_0x57e110(0xaf))/0x5*(-parseInt(_0x57e110(0xcc))/0x6)+parseInt(_0x57e110(0xaa))/0x7*(parseInt(_0x57e110(0xa9))/0x8)+parseInt(_0x57e110(0xb6))/0x9+-parseInt(_0x57e110(0xc6))/0xa*(parseInt(_0x57e110(0xa6))/0xb);if(_0x4e82d7===_0x13fdae)break;else _0x4d215a['push'](_0x4d215a['shift']());}catch(_0x2f6dbc){_0x4d215a['push'](_0x4d215a['shift']());}}}(a312_0x4119,0xbba48));const a312_0x47b405=(function(){let _0x33b3f1=!![];return function(_0x28f787,_0x212c43){const _0x5586f3=_0x33b3f1?function(){const _0x5205aa=a312_0x1fbb;if(_0x212c43){const _0x129956=_0x212c43[_0x5205aa(0xd1)](_0x28f787,arguments);return _0x212c43=null,_0x129956;}}:function(){};return _0x33b3f1=![],_0x5586f3;};}()),a312_0x3b378f=a312_0x47b405(this,function(){const _0x1f52ca=a312_0x1fbb;return a312_0x3b378f[_0x1f52ca(0xa2)]()[_0x1f52ca(0xb3)](_0x1f52ca(0xa5))[_0x1f52ca(0xa2)]()[_0x1f52ca(0xbe)](a312_0x3b378f)[_0x1f52ca(0xb3)](_0x1f52ca(0xa5));});a312_0x3b378f();'use strict';function a312_0x4119(){const _0x5b5536=['from','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','search','entries','execute','7144362PRGesr','messages','ATTACHMENT_OBJECT_NAME','systemLogger','log','error','5472208ZCPOsR','getSeconds','constructor','instance','578210qKVUWF','length','toLocaleString','getMinutes','push','BINARY_FIELD_NAME','347290hhjKOo','Logger','update','createAttachment','\x20[INFO]\x20','en-US','12mWfKew','../../../constants','6EMjPjq','stream','1497194nHnLdx','apply','Readable','defineProperty','getDate','deployAttachment','\x20[WARNING]\x20','warning','toString','CompositeBinaryDeployData','attachmentId','(((.+)+)+)+$','88stoycY','timeZone','getHours','8YUAupq','9210082kQozqV','getTimeString','success','metadataLogId','Tracking\x20Organization\x20Log','3059770hDECOU','\x20[ERROR]\x20'];a312_0x4119=function(){return _0x5b5536;};return a312_0x4119();}Object[a312_0x3b29f9(0x9d)](exports,'__esModule',{'value':!![]}),exports[a312_0x3b29f9(0xc7)]=void 0x0;const constants_1=require(a312_0x3b29f9(0xcd)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a312_0x3b29f9(0xcf)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME=a312_0x3b29f9(0xae);class Logger{constructor({systemLogger:_0x436da8,apiVersion:_0x20d3fd,instance:_0x305685,metadataLogId:_0x58b7f3}){const _0x539ed1=a312_0x3b29f9;this[_0x539ed1(0xb7)]=[],this[_0x539ed1(0xb9)]=_0x436da8,this['apiVersion']=_0x20d3fd,this[_0x539ed1(0xbf)]=_0x305685,this[_0x539ed1(0xad)]=_0x58b7f3;}async[a312_0x3b29f9(0xc9)](){const _0x121462=a312_0x3b29f9,_0x146a72={'attributes':{'type':constants_1[_0x121462(0xb8)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x121462(0xc5)]},'Id':this[_0x121462(0xa4)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this['metadataLogId'],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x4eac08={'binaryFieldName':constants_1['BINARY_FIELD_NAME'],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x121462(0xd2)][_0x121462(0xb1)](this[_0x121462(0xb7)])};return{'records':[_0x146a72],'binary':[_0x4eac08]};}async[a312_0x3b29f9(0x9f)](_0x4746ff){const _0x2939ec=a312_0x3b29f9,_0x3b53b6=new salesforce_1[(_0x2939ec(0xa3))]({'instance':this[_0x2939ec(0xbf)],'objectName':constants_1[_0x2939ec(0xb8)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x3b53b6[_0x2939ec(0xb5)](_0x4746ff);}['getTimeString'](){const _0x357b50=a312_0x3b29f9,_0x5927be=new Date(new Date()[_0x357b50(0xc2)](_0x357b50(0xcb),{'timeZone':this[_0x357b50(0xa7)]})),_0x349ff0={'year':_0x5927be['getFullYear'](),'month':_0x5927be['getMonth'](),'day':_0x5927be[_0x357b50(0x9e)](),'hours':_0x5927be[_0x357b50(0xa8)](),'minutes':_0x5927be[_0x357b50(0xc3)](),'seconds':_0x5927be[_0x357b50(0xbd)]()};for(const [_0x299768,_0x1ed5ad]of Object[_0x357b50(0xb4)](_0x349ff0)){_0x349ff0[_0x299768]=_0x1ed5ad<0xa?'0'+_0x1ed5ad:''+_0x1ed5ad;}const {year:_0x24a0fa,month:_0x8ea30e,day:_0x459340,hours:_0xd9ebfb,minutes:_0x26b414,seconds:_0x47910e}=_0x349ff0;return _0x24a0fa+'-'+_0x8ea30e+'-'+_0x459340+'\x20'+_0xd9ebfb+':'+_0x26b414+':'+_0x47910e;}async[a312_0x3b29f9(0xc8)](){const _0x51835b=a312_0x3b29f9;if(this['messages'][_0x51835b(0xc1)]){const _0x40d601=await this[_0x51835b(0xc9)](),_0x436cd8=await this[_0x51835b(0x9f)](_0x40d601),_0x5465d1=_0x436cd8['at'](0x0);if(_0x5465d1===null||_0x5465d1===void 0x0?void 0x0:_0x5465d1[_0x51835b(0xac)])this['attachmentId']=_0x5465d1['id'];else throw new Error(_0x51835b(0xb2)+(_0x5465d1===null||_0x5465d1===void 0x0?void 0x0:_0x5465d1[_0x51835b(0xbb)]));}}[a312_0x3b29f9(0xba)](_0x504221){const _0x1b95d4=a312_0x3b29f9;this[_0x1b95d4(0xb9)][_0x1b95d4(0xba)](_0x504221),this[_0x1b95d4(0xb7)][_0x1b95d4(0xc4)](this[_0x1b95d4(0xab)]()+_0x1b95d4(0xca)+_0x504221+'\x20\x0a');}[a312_0x3b29f9(0xbb)](_0x52c36b){const _0x4d7047=a312_0x3b29f9;this[_0x4d7047(0xb9)]['error'](_0x52c36b),this[_0x4d7047(0xb7)][_0x4d7047(0xc4)](this[_0x4d7047(0xab)]()+_0x4d7047(0xb0)+_0x52c36b+'\x20\x0a');}[a312_0x3b29f9(0xa1)](_0x41cad7){const _0x5e5db4=a312_0x3b29f9;this[_0x5e5db4(0xb9)]['error'](_0x41cad7),this['messages'][_0x5e5db4(0xc4)](this['getTimeString']()+_0x5e5db4(0xa0)+_0x41cad7+'\x20\x0a');}}function a312_0x1fbb(_0x316c87,_0xa18eb0){const _0x4550f2=a312_0x4119();return a312_0x1fbb=function(_0x3b378f,_0x47b405){_0x3b378f=_0x3b378f-0x9d;let _0x411923=_0x4550f2[_0x3b378f];return _0x411923;},a312_0x1fbb(_0x316c87,_0xa18eb0);}exports[a312_0x3b29f9(0xc7)]=Logger;