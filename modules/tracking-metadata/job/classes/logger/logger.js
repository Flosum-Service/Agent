function a340_0x1452(){const _0xdad9f6=['push','getHours','defineProperty','BINARY_FIELD_NAME','64wnhjsF','createAttachment','success','constructor','CompositeBinaryDeployData','362406DzafGq','apiVersion','log','\x20[WARNING]\x20','4UiOgxQ','getTimeString','7445004emQsqG','ATTACHMENT_OBJECT_NAME','deployAttachment','timeZone','@flosum/salesforce','messages','execute','instance','toString','Tracking\x20Organization\x20Log','text/plain','attachmentId','Logger','\x20[ERROR]\x20','6051085VfPDOq','length','81189vVoptJ','from','3138300WRDcMJ','(((.+)+)+)+$','error','warning','\x20[INFO]\x20','stream','search','__esModule','systemLogger','metadataLogId','getFullYear','getDate','5839722ToVhSb','1858875yKtnhO'];a340_0x1452=function(){return _0xdad9f6;};return a340_0x1452();}const a340_0x1a3328=a340_0x1bf6;(function(_0x5832b8,_0x16872b){const _0x516118=a340_0x1bf6,_0x9c910=_0x5832b8();while(!![]){try{const _0x2041b7=-parseInt(_0x516118(0x1de))/0x1+-parseInt(_0x516118(0x1c7))/0x2+-parseInt(_0x516118(0x1d4))/0x3+-parseInt(_0x516118(0x1b3))/0x4*(-parseInt(_0x516118(0x1c3))/0x5)+parseInt(_0x516118(0x1b5))/0x6+parseInt(_0x516118(0x1d3))/0x7+-parseInt(_0x516118(0x1d9))/0x8*(-parseInt(_0x516118(0x1c5))/0x9);if(_0x2041b7===_0x16872b)break;else _0x9c910['push'](_0x9c910['shift']());}catch(_0x6cbd1d){_0x9c910['push'](_0x9c910['shift']());}}}(a340_0x1452,0xc4d8c));const a340_0x2bb4f6=(function(){let _0x415f8c=!![];return function(_0x49a36a,_0x30380c){const _0x51c39c=_0x415f8c?function(){if(_0x30380c){const _0x44fadf=_0x30380c['apply'](_0x49a36a,arguments);return _0x30380c=null,_0x44fadf;}}:function(){};return _0x415f8c=![],_0x51c39c;};}()),a340_0x220c6e=a340_0x2bb4f6(this,function(){const _0x1b9abb=a340_0x1bf6;return a340_0x220c6e['toString']()[_0x1b9abb(0x1cd)](_0x1b9abb(0x1c8))[_0x1b9abb(0x1bd)]()[_0x1b9abb(0x1dc)](a340_0x220c6e)[_0x1b9abb(0x1cd)](_0x1b9abb(0x1c8));});a340_0x220c6e();'use strict';Object[a340_0x1a3328(0x1d7)](exports,a340_0x1a3328(0x1ce),{'value':!![]}),exports[a340_0x1a3328(0x1c1)]=void 0x0;function a340_0x1bf6(_0x404322,_0xb8f7b){const _0x5f3db3=a340_0x1452();return a340_0x1bf6=function(_0x220c6e,_0x2bb4f6){_0x220c6e=_0x220c6e-0x1b0;let _0x1452d7=_0x5f3db3[_0x220c6e];return _0x1452d7;},a340_0x1bf6(_0x404322,_0xb8f7b);}const constants_1=require('../../../constants'),salesforce_1=require(a340_0x1a3328(0x1b9)),stream_1=require(a340_0x1a3328(0x1cc)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a340_0x1a3328(0x1bf),TRACKING_ORGANIZATION_LOG_NAME=a340_0x1a3328(0x1be);class Logger{constructor({systemLogger:_0x140f87,apiVersion:_0x3c3b4f,instance:_0x1980b5,metadataLogId:_0x208339}){const _0x2279c3=a340_0x1a3328;this[_0x2279c3(0x1ba)]=[],this['systemLogger']=_0x140f87,this[_0x2279c3(0x1b0)]=_0x3c3b4f,this[_0x2279c3(0x1bc)]=_0x1980b5,this[_0x2279c3(0x1d0)]=_0x208339;}async['createAttachment'](){const _0x3e9d3d=a340_0x1a3328,_0x40737a={'attributes':{'type':constants_1[_0x3e9d3d(0x1b6)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x3e9d3d(0x1d8)]},'Id':this[_0x3e9d3d(0x1c0)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x3e9d3d(0x1d0)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x3850f5={'binaryFieldName':constants_1[_0x3e9d3d(0x1d8)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0x3e9d3d(0x1c6)](this['messages'])};return{'records':[_0x40737a],'binary':[_0x3850f5]};}async[a340_0x1a3328(0x1b7)](_0x442226){const _0x1ad111=a340_0x1a3328,_0x5cc795=new salesforce_1[(_0x1ad111(0x1dd))]({'instance':this['instance'],'objectName':constants_1[_0x1ad111(0x1b6)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x1ad111(0x1b0)]});return _0x5cc795[_0x1ad111(0x1bb)](_0x442226);}[a340_0x1a3328(0x1b4)](){const _0x7fec38=a340_0x1a3328,_0x3152e7=new Date(new Date()['toLocaleString']('en-US',{'timeZone':this[_0x7fec38(0x1b8)]})),_0x435b6e={'year':_0x3152e7[_0x7fec38(0x1d1)](),'month':_0x3152e7['getMonth'](),'day':_0x3152e7[_0x7fec38(0x1d2)](),'hours':_0x3152e7[_0x7fec38(0x1d6)](),'minutes':_0x3152e7['getMinutes'](),'seconds':_0x3152e7['getSeconds']()};for(const [_0x32f847,_0x250aec]of Object['entries'](_0x435b6e)){_0x435b6e[_0x32f847]=_0x250aec<0xa?'0'+_0x250aec:''+_0x250aec;}const {year:_0x9f8480,month:_0x17776c,day:_0x56f01a,hours:_0x16d8de,minutes:_0x4b6ed9,seconds:_0x15727e}=_0x435b6e;return _0x9f8480+'-'+_0x17776c+'-'+_0x56f01a+'\x20'+_0x16d8de+':'+_0x4b6ed9+':'+_0x15727e;}async['update'](){const _0x4c4e55=a340_0x1a3328;if(this[_0x4c4e55(0x1ba)][_0x4c4e55(0x1c4)]){const _0x19ee55=await this[_0x4c4e55(0x1da)](),_0x2bcd9c=await this[_0x4c4e55(0x1b7)](_0x19ee55),_0x2d840a=_0x2bcd9c['at'](0x0);if(_0x2d840a===null||_0x2d840a===void 0x0?void 0x0:_0x2d840a[_0x4c4e55(0x1db)])this[_0x4c4e55(0x1c0)]=_0x2d840a['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x2d840a===null||_0x2d840a===void 0x0?void 0x0:_0x2d840a['error']));}}[a340_0x1a3328(0x1b1)](_0x5a362e){const _0x617253=a340_0x1a3328;this['systemLogger']['log'](_0x5a362e),this[_0x617253(0x1ba)][_0x617253(0x1d5)](this['getTimeString']()+_0x617253(0x1cb)+_0x5a362e+'\x20\x0a');}['error'](_0x45a928){const _0x2ad1d4=a340_0x1a3328;this[_0x2ad1d4(0x1cf)][_0x2ad1d4(0x1c9)](_0x45a928),this['messages']['push'](this[_0x2ad1d4(0x1b4)]()+_0x2ad1d4(0x1c2)+_0x45a928+'\x20\x0a');}[a340_0x1a3328(0x1ca)](_0x373431){const _0x21db37=a340_0x1a3328;this[_0x21db37(0x1cf)][_0x21db37(0x1c9)](_0x373431),this['messages'][_0x21db37(0x1d5)](this['getTimeString']()+_0x21db37(0x1b2)+_0x373431+'\x20\x0a');}}exports[a340_0x1a3328(0x1c1)]=Logger;