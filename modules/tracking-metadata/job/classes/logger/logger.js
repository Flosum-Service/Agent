const a340_0x37d424=a340_0x4dcc;(function(_0x547afd,_0x37aef3){const _0x20056a=a340_0x4dcc,_0x53a2e2=_0x547afd();while(!![]){try{const _0x4d010c=-parseInt(_0x20056a(0xdd))/0x1*(parseInt(_0x20056a(0xf8))/0x2)+parseInt(_0x20056a(0xf4))/0x3+parseInt(_0x20056a(0xe2))/0x4*(-parseInt(_0x20056a(0xee))/0x5)+parseInt(_0x20056a(0xfd))/0x6*(parseInt(_0x20056a(0x101))/0x7)+parseInt(_0x20056a(0xf7))/0x8*(parseInt(_0x20056a(0xf0))/0x9)+parseInt(_0x20056a(0xe1))/0xa+-parseInt(_0x20056a(0xf3))/0xb;if(_0x4d010c===_0x37aef3)break;else _0x53a2e2['push'](_0x53a2e2['shift']());}catch(_0x5a6578){_0x53a2e2['push'](_0x53a2e2['shift']());}}}(a340_0x2aa7,0x7e989));const a340_0xf09865=(function(){let _0x1c2b4d=!![];return function(_0x361c7b,_0x152ff8){const _0x4f4637=_0x1c2b4d?function(){const _0x1aba18=a340_0x4dcc;if(_0x152ff8){const _0x4d392b=_0x152ff8[_0x1aba18(0xf2)](_0x361c7b,arguments);return _0x152ff8=null,_0x4d392b;}}:function(){};return _0x1c2b4d=![],_0x4f4637;};}()),a340_0x190ef8=a340_0xf09865(this,function(){const _0x385746=a340_0x4dcc;return a340_0x190ef8[_0x385746(0xde)]()[_0x385746(0xd7)]('(((.+)+)+)+$')[_0x385746(0xde)]()[_0x385746(0xec)](a340_0x190ef8)[_0x385746(0xd7)](_0x385746(0xf5));});function a340_0x2aa7(){const _0x138505=['metadataLogId','deployAttachment','../../../constants','messages','warning','search','\x20[WARNING]\x20','update','ATTACHMENT_OBJECT_NAME','length','push','36901SLvpBJ','toString','stream','attachmentId','3943420dLLllk','164tspztk','BINARY_FIELD_NAME','en-US','createAttachment','\x20[ERROR]\x20','systemLogger','text/plain','apiVersion','getTimeString','entries','constructor','__esModule','20935jKSouN','defineProperty','1089iONula','Logger','apply','18338364UHMuJN','2944254YlTOJT','(((.+)+)+)+$','execute','63816RjyOmb','34mvcijc','getMinutes','getDate','log','getSeconds','72owUOHO','\x20[INFO]\x20','getMonth','instance','375473gsuxgG','error','toLocaleString'];a340_0x2aa7=function(){return _0x138505;};return a340_0x2aa7();}a340_0x190ef8();'use strict';Object[a340_0x37d424(0xef)](exports,a340_0x37d424(0xed),{'value':!![]}),exports['Logger']=void 0x0;const constants_1=require(a340_0x37d424(0x106)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a340_0x37d424(0xdf)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a340_0x37d424(0xe8),TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';class Logger{constructor({systemLogger:_0x45d9a0,apiVersion:_0xafd8e5,instance:_0x395b4d,metadataLogId:_0x4366bb}){const _0x1ae89a=a340_0x37d424;this[_0x1ae89a(0x107)]=[],this[_0x1ae89a(0xe7)]=_0x45d9a0,this['apiVersion']=_0xafd8e5,this[_0x1ae89a(0x100)]=_0x395b4d,this[_0x1ae89a(0x104)]=_0x4366bb;}async[a340_0x37d424(0xe5)](){const _0x237e9=a340_0x37d424,_0x27b3b8={'attributes':{'type':constants_1[_0x237e9(0xda)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x237e9(0xe3)]},'Id':this[_0x237e9(0xe0)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x237e9(0x104)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x5e79a2={'binaryFieldName':constants_1[_0x237e9(0xe3)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable']['from'](this[_0x237e9(0x107)])};return{'records':[_0x27b3b8],'binary':[_0x5e79a2]};}async[a340_0x37d424(0x105)](_0x1656b4){const _0x513efd=a340_0x37d424,_0x1b1278=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x513efd(0x100)],'objectName':constants_1[_0x513efd(0xda)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x513efd(0xe9)]});return _0x1b1278[_0x513efd(0xf6)](_0x1656b4);}[a340_0x37d424(0xea)](){const _0x84d13c=a340_0x37d424,_0x4f3a78=new Date(new Date()[_0x84d13c(0x103)](_0x84d13c(0xe4),{'timeZone':this['timeZone']})),_0x2c7382={'year':_0x4f3a78['getFullYear'](),'month':_0x4f3a78[_0x84d13c(0xff)](),'day':_0x4f3a78[_0x84d13c(0xfa)](),'hours':_0x4f3a78['getHours'](),'minutes':_0x4f3a78[_0x84d13c(0xf9)](),'seconds':_0x4f3a78[_0x84d13c(0xfc)]()};for(const [_0x594d98,_0x3519bb]of Object[_0x84d13c(0xeb)](_0x2c7382)){_0x2c7382[_0x594d98]=_0x3519bb<0xa?'0'+_0x3519bb:''+_0x3519bb;}const {year:_0x12bba7,month:_0x4012c,day:_0x7b8ee9,hours:_0x19dfbb,minutes:_0x27a8b0,seconds:_0x1e0610}=_0x2c7382;return _0x12bba7+'-'+_0x4012c+'-'+_0x7b8ee9+'\x20'+_0x19dfbb+':'+_0x27a8b0+':'+_0x1e0610;}async[a340_0x37d424(0xd9)](){const _0x28d55c=a340_0x37d424;if(this[_0x28d55c(0x107)][_0x28d55c(0xdb)]){const _0x2d0f7f=await this['createAttachment'](),_0x5dd1da=await this[_0x28d55c(0x105)](_0x2d0f7f),_0x4e8094=_0x5dd1da['at'](0x0);if(_0x4e8094===null||_0x4e8094===void 0x0?void 0x0:_0x4e8094['success'])this[_0x28d55c(0xe0)]=_0x4e8094['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x4e8094===null||_0x4e8094===void 0x0?void 0x0:_0x4e8094[_0x28d55c(0x102)]));}}['log'](_0xea12bd){const _0x430a12=a340_0x37d424;this[_0x430a12(0xe7)][_0x430a12(0xfb)](_0xea12bd),this[_0x430a12(0x107)][_0x430a12(0xdc)](this[_0x430a12(0xea)]()+_0x430a12(0xfe)+_0xea12bd+'\x20\x0a');}['error'](_0x1f00ec){const _0x1d6929=a340_0x37d424;this['systemLogger'][_0x1d6929(0x102)](_0x1f00ec),this[_0x1d6929(0x107)][_0x1d6929(0xdc)](this['getTimeString']()+_0x1d6929(0xe6)+_0x1f00ec+'\x20\x0a');}[a340_0x37d424(0xd6)](_0x172cf9){const _0x58ed27=a340_0x37d424;this[_0x58ed27(0xe7)][_0x58ed27(0x102)](_0x172cf9),this[_0x58ed27(0x107)][_0x58ed27(0xdc)](this[_0x58ed27(0xea)]()+_0x58ed27(0xd8)+_0x172cf9+'\x20\x0a');}}function a340_0x4dcc(_0x1dece8,_0x58bcb0){const _0x59c32a=a340_0x2aa7();return a340_0x4dcc=function(_0x190ef8,_0xf09865){_0x190ef8=_0x190ef8-0xd6;let _0x2aa797=_0x59c32a[_0x190ef8];return _0x2aa797;},a340_0x4dcc(_0x1dece8,_0x58bcb0);}exports[a340_0x37d424(0xf1)]=Logger;