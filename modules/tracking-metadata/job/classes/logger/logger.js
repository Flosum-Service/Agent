function a297_0x4d85(_0x596302,_0x427c07){const _0x478803=a297_0x5d24();return a297_0x4d85=function(_0x411f8c,_0x4b37b1){_0x411f8c=_0x411f8c-0x178;let _0x5d2415=_0x478803[_0x411f8c];return _0x5d2415;},a297_0x4d85(_0x596302,_0x427c07);}const a297_0x78d6e8=a297_0x4d85;(function(_0x17520b,_0x34f6fc){const _0x77abcd=a297_0x4d85,_0x390ec0=_0x17520b();while(!![]){try{const _0x28871f=parseInt(_0x77abcd(0x178))/0x1+-parseInt(_0x77abcd(0x17b))/0x2*(-parseInt(_0x77abcd(0x189))/0x3)+-parseInt(_0x77abcd(0x18b))/0x4+parseInt(_0x77abcd(0x1aa))/0x5+-parseInt(_0x77abcd(0x1a8))/0x6*(-parseInt(_0x77abcd(0x190))/0x7)+-parseInt(_0x77abcd(0x194))/0x8+-parseInt(_0x77abcd(0x17f))/0x9;if(_0x28871f===_0x34f6fc)break;else _0x390ec0['push'](_0x390ec0['shift']());}catch(_0x55cf56){_0x390ec0['push'](_0x390ec0['shift']());}}}(a297_0x5d24,0xecee3));const a297_0x4b37b1=(function(){let _0x4bb524=!![];return function(_0x176fed,_0x48b6c7){const _0x18a595=_0x4bb524?function(){const _0x181e18=a297_0x4d85;if(_0x48b6c7){const _0x1283b3=_0x48b6c7[_0x181e18(0x18d)](_0x176fed,arguments);return _0x48b6c7=null,_0x1283b3;}}:function(){};return _0x4bb524=![],_0x18a595;};}()),a297_0x411f8c=a297_0x4b37b1(this,function(){const _0x5d2683=a297_0x4d85;return a297_0x411f8c['toString']()['search'](_0x5d2683(0x19f))[_0x5d2683(0x19e)]()[_0x5d2683(0x18a)](a297_0x411f8c)[_0x5d2683(0x1a7)](_0x5d2683(0x19f));});function a297_0x5d24(){const _0x1af49f=['35653464mbfJiN','timeZone','@flosum/salesforce','entries','getMinutes','text/plain','getTimeString','toLocaleString','__esModule','Tracking\x20Organization\x20Log','3XssQBJ','constructor','864672wSwUNj','\x20[WARNING]\x20','apply','Readable','BINARY_FIELD_NAME','35BEYZiX','log','systemLogger','getHours','498608QERTVZ','push','getMonth','execute','Logger','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','instance','createAttachment','getDate','getSeconds','toString','(((.+)+)+)+$','success','ATTACHMENT_OBJECT_NAME','en-US','from','apiVersion','error','deployAttachment','search','1113762BVvrpc','defineProperty','3109765QhFHKK','1899432llKqDs','length','\x20[INFO]\x20','3521874PBGrcN','messages','attachmentId','metadataLogId'];a297_0x5d24=function(){return _0x1af49f;};return a297_0x5d24();}a297_0x411f8c();'use strict';Object[a297_0x78d6e8(0x1a9)](exports,a297_0x78d6e8(0x187),{'value':!![]}),exports[a297_0x78d6e8(0x198)]=void 0x0;const constants_1=require('../../../constants'),salesforce_1=require(a297_0x78d6e8(0x181)),stream_1=require('stream'),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x78d6e8(0x184),TRACKING_ORGANIZATION_LOG_NAME=a297_0x78d6e8(0x188);class Logger{constructor({systemLogger:_0x8602b3,apiVersion:_0x1e0021,instance:_0x44460d,metadataLogId:_0x505cd9}){const _0x5bd738=a297_0x78d6e8;this[_0x5bd738(0x17c)]=[],this[_0x5bd738(0x192)]=_0x8602b3,this[_0x5bd738(0x1a4)]=_0x1e0021,this[_0x5bd738(0x19a)]=_0x44460d,this['metadataLogId']=_0x505cd9;}async[a297_0x78d6e8(0x19b)](){const _0x2b9a13=a297_0x78d6e8,_0xc04929={'attributes':{'type':constants_1[_0x2b9a13(0x1a1)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x2b9a13(0x18f)]},'Id':this[_0x2b9a13(0x17d)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x2b9a13(0x17e)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x3a4a30={'binaryFieldName':constants_1[_0x2b9a13(0x18f)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x2b9a13(0x18e)][_0x2b9a13(0x1a3)](this['messages'])};return{'records':[_0xc04929],'binary':[_0x3a4a30]};}async[a297_0x78d6e8(0x1a6)](_0x124473){const _0x545368=a297_0x78d6e8,_0x3f255d=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x545368(0x19a)],'objectName':constants_1[_0x545368(0x1a1)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x545368(0x1a4)]});return _0x3f255d[_0x545368(0x197)](_0x124473);}[a297_0x78d6e8(0x185)](){const _0x2fa073=a297_0x78d6e8,_0x162dd5=new Date(new Date()[_0x2fa073(0x186)](_0x2fa073(0x1a2),{'timeZone':this[_0x2fa073(0x180)]})),_0x55a3da={'year':_0x162dd5['getFullYear'](),'month':_0x162dd5[_0x2fa073(0x196)](),'day':_0x162dd5[_0x2fa073(0x19c)](),'hours':_0x162dd5[_0x2fa073(0x193)](),'minutes':_0x162dd5[_0x2fa073(0x183)](),'seconds':_0x162dd5[_0x2fa073(0x19d)]()};for(const [_0x567e80,_0x1cc156]of Object[_0x2fa073(0x182)](_0x55a3da)){_0x55a3da[_0x567e80]=_0x1cc156<0xa?'0'+_0x1cc156:''+_0x1cc156;}const {year:_0x4d8a3e,month:_0x236aa4,day:_0x191f0d,hours:_0x1c6b64,minutes:_0x30c3fe,seconds:_0x4a2139}=_0x55a3da;return _0x4d8a3e+'-'+_0x236aa4+'-'+_0x191f0d+'\x20'+_0x1c6b64+':'+_0x30c3fe+':'+_0x4a2139;}async['update'](){const _0x51603e=a297_0x78d6e8;if(this[_0x51603e(0x17c)][_0x51603e(0x179)]){const _0x408435=await this[_0x51603e(0x19b)](),_0x467e27=await this[_0x51603e(0x1a6)](_0x408435),_0x10dff3=_0x467e27['at'](0x0);if(_0x10dff3===null||_0x10dff3===void 0x0?void 0x0:_0x10dff3[_0x51603e(0x1a0)])this['attachmentId']=_0x10dff3['id'];else throw new Error(_0x51603e(0x199)+(_0x10dff3===null||_0x10dff3===void 0x0?void 0x0:_0x10dff3['error']));}}[a297_0x78d6e8(0x191)](_0xba6f40){const _0x5106a9=a297_0x78d6e8;this[_0x5106a9(0x192)][_0x5106a9(0x191)](_0xba6f40),this['messages'][_0x5106a9(0x195)](this['getTimeString']()+_0x5106a9(0x17a)+_0xba6f40+'\x20\x0a');}['error'](_0x1dcfe9){const _0x2887a1=a297_0x78d6e8;this[_0x2887a1(0x192)][_0x2887a1(0x1a5)](_0x1dcfe9),this[_0x2887a1(0x17c)]['push'](this[_0x2887a1(0x185)]()+'\x20[ERROR]\x20'+_0x1dcfe9+'\x20\x0a');}['warning'](_0x34b420){const _0x661c40=a297_0x78d6e8;this[_0x661c40(0x192)][_0x661c40(0x1a5)](_0x34b420),this[_0x661c40(0x17c)][_0x661c40(0x195)](this[_0x661c40(0x185)]()+_0x661c40(0x18c)+_0x34b420+'\x20\x0a');}}exports['Logger']=Logger;