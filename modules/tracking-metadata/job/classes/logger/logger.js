const a297_0x4021b8=a297_0xbfa9;(function(_0x147761,_0x5c0609){const _0x135693=a297_0xbfa9,_0x21e861=_0x147761();while(!![]){try{const _0x19744b=parseInt(_0x135693(0xe5))/0x1+parseInt(_0x135693(0xe1))/0x2+-parseInt(_0x135693(0xd8))/0x3*(parseInt(_0x135693(0xf1))/0x4)+-parseInt(_0x135693(0x100))/0x5*(parseInt(_0x135693(0xd2))/0x6)+-parseInt(_0x135693(0xfe))/0x7*(parseInt(_0x135693(0xd3))/0x8)+-parseInt(_0x135693(0xe4))/0x9*(parseInt(_0x135693(0xdc))/0xa)+parseInt(_0x135693(0xe3))/0xb;if(_0x19744b===_0x5c0609)break;else _0x21e861['push'](_0x21e861['shift']());}catch(_0xe8fb9d){_0x21e861['push'](_0x21e861['shift']());}}}(a297_0x3da0,0xc1458));const a297_0x1cbacf=(function(){let _0x5c96f4=!![];return function(_0x4eefa2,_0xd288e){const _0x30e2e2=_0x5c96f4?function(){const _0x42f581=a297_0xbfa9;if(_0xd288e){const _0x3ec9ba=_0xd288e[_0x42f581(0x102)](_0x4eefa2,arguments);return _0xd288e=null,_0x3ec9ba;}}:function(){};return _0x5c96f4=![],_0x30e2e2;};}()),a297_0x32c9b3=a297_0x1cbacf(this,function(){const _0x470602=a297_0xbfa9;return a297_0x32c9b3['toString']()['search']('(((.+)+)+)+$')[_0x470602(0xe0)]()[_0x470602(0x104)](a297_0x32c9b3)[_0x470602(0xf2)](_0x470602(0xfb));});a297_0x32c9b3();'use strict';Object[a297_0x4021b8(0xe8)](exports,a297_0x4021b8(0xf7),{'value':!![]}),exports[a297_0x4021b8(0xe9)]=void 0x0;function a297_0xbfa9(_0x248ed0,_0x518af6){const _0x4745cd=a297_0x3da0();return a297_0xbfa9=function(_0x32c9b3,_0x1cbacf){_0x32c9b3=_0x32c9b3-0xd1;let _0x3da0be=_0x4745cd[_0x32c9b3];return _0x3da0be;},a297_0xbfa9(_0x248ed0,_0x518af6);}const constants_1=require('../../../constants'),salesforce_1=require(a297_0x4021b8(0xf8)),stream_1=require(a297_0x4021b8(0x103)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x4021b8(0xd6),TRACKING_ORGANIZATION_LOG_NAME=a297_0x4021b8(0xff);function a297_0x3da0(){const _0x5b02f7=['getDate','deployAttachment','6755CovKrp','Tracking\x20Organization\x20Log','10cxEqsc','\x20[WARNING]\x20','apply','stream','constructor','execute','getSeconds','2484528eLMfIT','1624UvFfxa','update','getHours','text/plain','ATTACHMENT_OBJECT_NAME','2276481YkhiEd','getTimeString','error','warning','1770ZSPYRi','createAttachment','\x20[ERROR]\x20','apiVersion','toString','2673028gtjcjC','systemLogger','18096936wKmtyi','38295zkINuM','345983jKGSbb','timeZone','instance','defineProperty','Logger','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','entries','from','push','\x20[INFO]\x20','log','CompositeBinaryDeployData','4pftMfL','search','metadataLogId','attachmentId','getFullYear','Readable','__esModule','@flosum/salesforce','messages','BINARY_FIELD_NAME','(((.+)+)+)+$'];a297_0x3da0=function(){return _0x5b02f7;};return a297_0x3da0();}class Logger{constructor({systemLogger:_0x320d44,apiVersion:_0x5b1bac,instance:_0x30b45a,metadataLogId:_0x8cc29f}){const _0xa872ec=a297_0x4021b8;this[_0xa872ec(0xf9)]=[],this[_0xa872ec(0xe2)]=_0x320d44,this['apiVersion']=_0x5b1bac,this[_0xa872ec(0xe7)]=_0x30b45a,this[_0xa872ec(0xf3)]=_0x8cc29f;}async[a297_0x4021b8(0xdd)](){const _0x51bd5e=a297_0x4021b8,_0x3e1fe6={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x51bd5e(0xfa)]},'Id':this[_0x51bd5e(0xf4)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x51bd5e(0xf3)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x4a5467={'binaryFieldName':constants_1[_0x51bd5e(0xfa)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x51bd5e(0xf6)][_0x51bd5e(0xec)](this[_0x51bd5e(0xf9)])};return{'records':[_0x3e1fe6],'binary':[_0x4a5467]};}async['deployAttachment'](_0x52d278){const _0x3c8706=a297_0x4021b8,_0x1584b4=new salesforce_1[(_0x3c8706(0xf0))]({'instance':this[_0x3c8706(0xe7)],'objectName':constants_1[_0x3c8706(0xd7)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x3c8706(0xdf)]});return _0x1584b4[_0x3c8706(0x105)](_0x52d278);}[a297_0x4021b8(0xd9)](){const _0x25458b=a297_0x4021b8,_0x5a64f8=new Date(new Date()['toLocaleString']('en-US',{'timeZone':this[_0x25458b(0xe6)]})),_0x5eb724={'year':_0x5a64f8[_0x25458b(0xf5)](),'month':_0x5a64f8['getMonth'](),'day':_0x5a64f8[_0x25458b(0xfc)](),'hours':_0x5a64f8[_0x25458b(0xd5)](),'minutes':_0x5a64f8['getMinutes'](),'seconds':_0x5a64f8[_0x25458b(0xd1)]()};for(const [_0x3d92b4,_0x4c9171]of Object[_0x25458b(0xeb)](_0x5eb724)){_0x5eb724[_0x3d92b4]=_0x4c9171<0xa?'0'+_0x4c9171:''+_0x4c9171;}const {year:_0x2803b2,month:_0x929b86,day:_0x139eb2,hours:_0x21aa19,minutes:_0x15f6f2,seconds:_0x3fa6a2}=_0x5eb724;return _0x2803b2+'-'+_0x929b86+'-'+_0x139eb2+'\x20'+_0x21aa19+':'+_0x15f6f2+':'+_0x3fa6a2;}async[a297_0x4021b8(0xd4)](){const _0x5804fb=a297_0x4021b8;if(this[_0x5804fb(0xf9)]['length']){const _0x3db490=await this[_0x5804fb(0xdd)](),_0x1d5f1b=await this[_0x5804fb(0xfd)](_0x3db490),_0x40bfe2=_0x1d5f1b['at'](0x0);if(_0x40bfe2===null||_0x40bfe2===void 0x0?void 0x0:_0x40bfe2['success'])this[_0x5804fb(0xf4)]=_0x40bfe2['id'];else throw new Error(_0x5804fb(0xea)+(_0x40bfe2===null||_0x40bfe2===void 0x0?void 0x0:_0x40bfe2[_0x5804fb(0xda)]));}}[a297_0x4021b8(0xef)](_0x24ab93){const _0x19518d=a297_0x4021b8;this['systemLogger'][_0x19518d(0xef)](_0x24ab93),this['messages'][_0x19518d(0xed)](this[_0x19518d(0xd9)]()+_0x19518d(0xee)+_0x24ab93+'\x20\x0a');}['error'](_0x185228){const _0x2ed601=a297_0x4021b8;this[_0x2ed601(0xe2)][_0x2ed601(0xda)](_0x185228),this[_0x2ed601(0xf9)][_0x2ed601(0xed)](this['getTimeString']()+_0x2ed601(0xde)+_0x185228+'\x20\x0a');}[a297_0x4021b8(0xdb)](_0x14b794){const _0x4a7605=a297_0x4021b8;this[_0x4a7605(0xe2)][_0x4a7605(0xda)](_0x14b794),this[_0x4a7605(0xf9)][_0x4a7605(0xed)](this['getTimeString']()+_0x4a7605(0x101)+_0x14b794+'\x20\x0a');}}exports[a297_0x4021b8(0xe9)]=Logger;