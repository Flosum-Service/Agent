const a340_0x129f97=a340_0x38c8;(function(_0x54c388,_0x280229){const _0x360b62=a340_0x38c8,_0x3a7397=_0x54c388();while(!![]){try{const _0x4642c0=-parseInt(_0x360b62(0x1b1))/0x1+parseInt(_0x360b62(0x1b6))/0x2*(-parseInt(_0x360b62(0x1bc))/0x3)+-parseInt(_0x360b62(0x1c7))/0x4*(parseInt(_0x360b62(0x1b2))/0x5)+-parseInt(_0x360b62(0x1b9))/0x6+parseInt(_0x360b62(0x1a0))/0x7*(parseInt(_0x360b62(0x1ca))/0x8)+-parseInt(_0x360b62(0x1a5))/0x9+parseInt(_0x360b62(0x1ac))/0xa*(parseInt(_0x360b62(0x1b0))/0xb);if(_0x4642c0===_0x280229)break;else _0x3a7397['push'](_0x3a7397['shift']());}catch(_0xc013cd){_0x3a7397['push'](_0x3a7397['shift']());}}}(a340_0x381e,0x52949));const a340_0x98b160=(function(){let _0x4cfd08=!![];return function(_0x4ff3fd,_0x591ca8){const _0x485b77=_0x4cfd08?function(){const _0x45ddfa=a340_0x38c8;if(_0x591ca8){const _0x40ac06=_0x591ca8[_0x45ddfa(0x1bf)](_0x4ff3fd,arguments);return _0x591ca8=null,_0x40ac06;}}:function(){};return _0x4cfd08=![],_0x485b77;};}()),a340_0x1d6fcc=a340_0x98b160(this,function(){const _0x156a83=a340_0x38c8;return a340_0x1d6fcc['toString']()['search'](_0x156a83(0x1a2))[_0x156a83(0x1d2)]()['constructor'](a340_0x1d6fcc)[_0x156a83(0x1af)](_0x156a83(0x1a2));});a340_0x1d6fcc();function a340_0x381e(){const _0x2413d3=['\x20[ERROR]\x20','search','4009687WDtVqy','537558Hfdcmi','175lvFLuI','\x20[WARNING]\x20','getDate','defineProperty','2nKedKr','attachmentId','__esModule','550422edLLle','length','ATTACHMENT_OBJECT_NAME','870549YrhZnQ','getMonth','log','apply','timeZone','from','BINARY_FIELD_NAME','instance','entries','metadataLogId','execute','41596bRIGMI','messages','success','1801984FMSIoo','update','../../../constants','apiVersion','getTimeString','stream','\x20[INFO]\x20','text/plain','toString','error','7NNFMOX','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','(((.+)+)+)+$','toLocaleString','push','554616FBTFuk','warning','Logger','deployAttachment','getMinutes','systemLogger','createAttachment','40GvmKbt','@flosum/salesforce'];a340_0x381e=function(){return _0x2413d3;};return a340_0x381e();}'use strict';Object[a340_0x129f97(0x1b5)](exports,a340_0x129f97(0x1b8),{'value':!![]}),exports[a340_0x129f97(0x1a7)]=void 0x0;const constants_1=require(a340_0x129f97(0x1cc)),salesforce_1=require(a340_0x129f97(0x1ad)),stream_1=require(a340_0x129f97(0x1cf)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a340_0x129f97(0x1d1),TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';class Logger{constructor({systemLogger:_0x5d3e41,apiVersion:_0x3ed3ff,instance:_0x5d48d1,metadataLogId:_0x3a7766}){const _0x26f5c9=a340_0x129f97;this[_0x26f5c9(0x1c8)]=[],this[_0x26f5c9(0x1aa)]=_0x5d3e41,this['apiVersion']=_0x3ed3ff,this[_0x26f5c9(0x1c3)]=_0x5d48d1,this[_0x26f5c9(0x1c5)]=_0x3a7766;}async['createAttachment'](){const _0xf9d20d=a340_0x129f97,_0x2f149c={'attributes':{'type':constants_1[_0xf9d20d(0x1bb)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0xf9d20d(0x1c2)]},'Id':this[_0xf9d20d(0x1b7)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0xf9d20d(0x1c5)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x9abfc8={'binaryFieldName':constants_1[_0xf9d20d(0x1c2)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0xf9d20d(0x1c1)](this[_0xf9d20d(0x1c8)])};return{'records':[_0x2f149c],'binary':[_0x9abfc8]};}async['deployAttachment'](_0x31f67c){const _0x5f73b1=a340_0x129f97,_0x573a74=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x5f73b1(0x1c3)],'objectName':constants_1[_0x5f73b1(0x1bb)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x5f73b1(0x1cd)]});return _0x573a74[_0x5f73b1(0x1c6)](_0x31f67c);}[a340_0x129f97(0x1ce)](){const _0x2c54c1=a340_0x129f97,_0x1bc27d=new Date(new Date()[_0x2c54c1(0x1a3)]('en-US',{'timeZone':this[_0x2c54c1(0x1c0)]})),_0x43c24f={'year':_0x1bc27d['getFullYear'](),'month':_0x1bc27d[_0x2c54c1(0x1bd)](),'day':_0x1bc27d[_0x2c54c1(0x1b4)](),'hours':_0x1bc27d['getHours'](),'minutes':_0x1bc27d[_0x2c54c1(0x1a9)](),'seconds':_0x1bc27d['getSeconds']()};for(const [_0x183d9b,_0x1e5cad]of Object[_0x2c54c1(0x1c4)](_0x43c24f)){_0x43c24f[_0x183d9b]=_0x1e5cad<0xa?'0'+_0x1e5cad:''+_0x1e5cad;}const {year:_0xef31e5,month:_0x1a2310,day:_0x212e25,hours:_0x3e4d58,minutes:_0x107b6d,seconds:_0x309f43}=_0x43c24f;return _0xef31e5+'-'+_0x1a2310+'-'+_0x212e25+'\x20'+_0x3e4d58+':'+_0x107b6d+':'+_0x309f43;}async[a340_0x129f97(0x1cb)](){const _0x50bc6a=a340_0x129f97;if(this[_0x50bc6a(0x1c8)][_0x50bc6a(0x1ba)]){const _0x5a361b=await this[_0x50bc6a(0x1ab)](),_0x21e725=await this[_0x50bc6a(0x1a8)](_0x5a361b),_0x1077dc=_0x21e725['at'](0x0);if(_0x1077dc===null||_0x1077dc===void 0x0?void 0x0:_0x1077dc[_0x50bc6a(0x1c9)])this[_0x50bc6a(0x1b7)]=_0x1077dc['id'];else throw new Error(_0x50bc6a(0x1a1)+(_0x1077dc===null||_0x1077dc===void 0x0?void 0x0:_0x1077dc[_0x50bc6a(0x19f)]));}}[a340_0x129f97(0x1be)](_0x290eeb){const _0x402dd6=a340_0x129f97;this['systemLogger'][_0x402dd6(0x1be)](_0x290eeb),this[_0x402dd6(0x1c8)][_0x402dd6(0x1a4)](this[_0x402dd6(0x1ce)]()+_0x402dd6(0x1d0)+_0x290eeb+'\x20\x0a');}[a340_0x129f97(0x19f)](_0xc694e0){const _0x3baab1=a340_0x129f97;this[_0x3baab1(0x1aa)][_0x3baab1(0x19f)](_0xc694e0),this[_0x3baab1(0x1c8)][_0x3baab1(0x1a4)](this[_0x3baab1(0x1ce)]()+_0x3baab1(0x1ae)+_0xc694e0+'\x20\x0a');}[a340_0x129f97(0x1a6)](_0x145dcf){const _0x4e590d=a340_0x129f97;this[_0x4e590d(0x1aa)][_0x4e590d(0x19f)](_0x145dcf),this['messages']['push'](this[_0x4e590d(0x1ce)]()+_0x4e590d(0x1b3)+_0x145dcf+'\x20\x0a');}}function a340_0x38c8(_0x448cec,_0x526860){const _0x4c7f8f=a340_0x381e();return a340_0x38c8=function(_0x1d6fcc,_0x98b160){_0x1d6fcc=_0x1d6fcc-0x19f;let _0x381e54=_0x4c7f8f[_0x1d6fcc];return _0x381e54;},a340_0x38c8(_0x448cec,_0x526860);}exports[a340_0x129f97(0x1a7)]=Logger;