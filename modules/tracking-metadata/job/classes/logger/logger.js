const a341_0x250113=a341_0x52f0;(function(_0x20fe1a,_0x19867c){const _0x203d2f=a341_0x52f0,_0x5ee779=_0x20fe1a();while(!![]){try{const _0x43decc=parseInt(_0x203d2f(0x1c2))/0x1*(-parseInt(_0x203d2f(0x198))/0x2)+-parseInt(_0x203d2f(0x1c1))/0x3+parseInt(_0x203d2f(0x1b8))/0x4*(parseInt(_0x203d2f(0x1b2))/0x5)+parseInt(_0x203d2f(0x1be))/0x6*(-parseInt(_0x203d2f(0x1ad))/0x7)+parseInt(_0x203d2f(0x1a4))/0x8*(parseInt(_0x203d2f(0x1b9))/0x9)+parseInt(_0x203d2f(0x1a1))/0xa*(-parseInt(_0x203d2f(0x19d))/0xb)+-parseInt(_0x203d2f(0x1bd))/0xc*(-parseInt(_0x203d2f(0x1a8))/0xd);if(_0x43decc===_0x19867c)break;else _0x5ee779['push'](_0x5ee779['shift']());}catch(_0x4cef6d){_0x5ee779['push'](_0x5ee779['shift']());}}}(a341_0x3c45,0x86b47));const a341_0x10abf4=(function(){let _0x57924a=!![];return function(_0x37d6bc,_0x429a8c){const _0x2b8ffd=_0x57924a?function(){const _0x18a482=a341_0x52f0;if(_0x429a8c){const _0x384143=_0x429a8c[_0x18a482(0x1a5)](_0x37d6bc,arguments);return _0x429a8c=null,_0x384143;}}:function(){};return _0x57924a=![],_0x2b8ffd;};}()),a341_0x14aabc=a341_0x10abf4(this,function(){const _0x49eed0=a341_0x52f0;return a341_0x14aabc[_0x49eed0(0x1a3)]()[_0x49eed0(0x1af)]('(((.+)+)+)+$')['toString']()['constructor'](a341_0x14aabc)[_0x49eed0(0x1af)](_0x49eed0(0x19a));});a341_0x14aabc();function a341_0x52f0(_0x3b21d0,_0x16ac41){const _0x171400=a341_0x3c45();return a341_0x52f0=function(_0x14aabc,_0x10abf4){_0x14aabc=_0x14aabc-0x196;let _0x3c45e1=_0x171400[_0x14aabc];return _0x3c45e1;},a341_0x52f0(_0x3b21d0,_0x16ac41);}'use strict';function a341_0x3c45(){const _0x21f6aa=['(((.+)+)+)+$','\x20[ERROR]\x20','BINARY_FIELD_NAME','11DcwUcz','text/plain','createAttachment','getFullYear','2059740fHNPwr','execute','toString','72xLgelx','apply','error','getTimeString','18187WLKcLE','apiVersion','__esModule','success','messages','3380937kFEINw','Logger','search','getMonth','stream','8335CinzZL','instance','warning','toLocaleString','push','metadataLogId','888EhSvbZ','665181dMRnJh','en-US','getMinutes','Tracking\x20Organization\x20Log','21396BaNkUh','12CgnbOX','from','entries','2227302GCKEkB','1063531LMuiwY','systemLogger','@flosum/salesforce','length','2wBjKKC','update'];a341_0x3c45=function(){return _0x21f6aa;};return a341_0x3c45();}Object['defineProperty'](exports,a341_0x250113(0x1aa),{'value':!![]}),exports[a341_0x250113(0x1ae)]=void 0x0;const constants_1=require('../../../constants'),salesforce_1=require(a341_0x250113(0x196)),stream_1=require(a341_0x250113(0x1b1)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a341_0x250113(0x19e),TRACKING_ORGANIZATION_LOG_NAME=a341_0x250113(0x1bc);class Logger{constructor({systemLogger:_0x4269f5,apiVersion:_0x433c29,instance:_0xd431b2,metadataLogId:_0x162af5}){const _0x54454f=a341_0x250113;this[_0x54454f(0x1ac)]=[],this[_0x54454f(0x1c3)]=_0x4269f5,this[_0x54454f(0x1a9)]=_0x433c29,this[_0x54454f(0x1b3)]=_0xd431b2,this[_0x54454f(0x1b7)]=_0x162af5;}async[a341_0x250113(0x19f)](){const _0x1b4c9a=a341_0x250113,_0x43cfcd={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x1b4c9a(0x19c)]},'Id':this['attachmentId']||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x1b4c9a(0x1b7)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x3a1e36={'binaryFieldName':constants_1[_0x1b4c9a(0x19c)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0x1b4c9a(0x1bf)](this[_0x1b4c9a(0x1ac)])};return{'records':[_0x43cfcd],'binary':[_0x3a1e36]};}async['deployAttachment'](_0x3f6978){const _0x4c1821=a341_0x250113,_0x35482e=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x4c1821(0x1b3)],'objectName':constants_1['ATTACHMENT_OBJECT_NAME'],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x35482e[_0x4c1821(0x1a2)](_0x3f6978);}[a341_0x250113(0x1a7)](){const _0xeaf162=a341_0x250113,_0x5933d6=new Date(new Date()[_0xeaf162(0x1b5)](_0xeaf162(0x1ba),{'timeZone':this['timeZone']})),_0x4cb753={'year':_0x5933d6[_0xeaf162(0x1a0)](),'month':_0x5933d6[_0xeaf162(0x1b0)](),'day':_0x5933d6['getDate'](),'hours':_0x5933d6['getHours'](),'minutes':_0x5933d6[_0xeaf162(0x1bb)](),'seconds':_0x5933d6['getSeconds']()};for(const [_0x4bb15d,_0x33c4a2]of Object[_0xeaf162(0x1c0)](_0x4cb753)){_0x4cb753[_0x4bb15d]=_0x33c4a2<0xa?'0'+_0x33c4a2:''+_0x33c4a2;}const {year:_0x44c217,month:_0x57006e,day:_0xb8ce15,hours:_0x2cd330,minutes:_0x136f63,seconds:_0x4d5b20}=_0x4cb753;return _0x44c217+'-'+_0x57006e+'-'+_0xb8ce15+'\x20'+_0x2cd330+':'+_0x136f63+':'+_0x4d5b20;}async[a341_0x250113(0x199)](){const _0x4dea2c=a341_0x250113;if(this[_0x4dea2c(0x1ac)][_0x4dea2c(0x197)]){const _0x5853dd=await this[_0x4dea2c(0x19f)](),_0x55e5d4=await this['deployAttachment'](_0x5853dd),_0x373420=_0x55e5d4['at'](0x0);if(_0x373420===null||_0x373420===void 0x0?void 0x0:_0x373420[_0x4dea2c(0x1ab)])this['attachmentId']=_0x373420['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x373420===null||_0x373420===void 0x0?void 0x0:_0x373420['error']));}}['log'](_0x4dc9a7){const _0x1125d6=a341_0x250113;this['systemLogger']['log'](_0x4dc9a7),this[_0x1125d6(0x1ac)][_0x1125d6(0x1b6)](this['getTimeString']()+'\x20[INFO]\x20'+_0x4dc9a7+'\x20\x0a');}[a341_0x250113(0x1a6)](_0x107778){const _0x19601e=a341_0x250113;this['systemLogger'][_0x19601e(0x1a6)](_0x107778),this[_0x19601e(0x1ac)][_0x19601e(0x1b6)](this[_0x19601e(0x1a7)]()+_0x19601e(0x19b)+_0x107778+'\x20\x0a');}[a341_0x250113(0x1b4)](_0x4c84cb){const _0x1d561d=a341_0x250113;this[_0x1d561d(0x1c3)][_0x1d561d(0x1a6)](_0x4c84cb),this[_0x1d561d(0x1ac)][_0x1d561d(0x1b6)](this[_0x1d561d(0x1a7)]()+'\x20[WARNING]\x20'+_0x4c84cb+'\x20\x0a');}}exports['Logger']=Logger;