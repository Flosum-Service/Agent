const a297_0x44b0a6=a297_0x4ea2;(function(_0x4566eb,_0x3d30f3){const _0x3fadcb=a297_0x4ea2,_0x33a256=_0x4566eb();while(!![]){try{const _0xf78b10=parseInt(_0x3fadcb(0x183))/0x1+parseInt(_0x3fadcb(0x184))/0x2+-parseInt(_0x3fadcb(0x19e))/0x3+parseInt(_0x3fadcb(0x18c))/0x4+-parseInt(_0x3fadcb(0x199))/0x5+parseInt(_0x3fadcb(0x190))/0x6+-parseInt(_0x3fadcb(0x195))/0x7*(parseInt(_0x3fadcb(0x17a))/0x8);if(_0xf78b10===_0x3d30f3)break;else _0x33a256['push'](_0x33a256['shift']());}catch(_0x1b12ba){_0x33a256['push'](_0x33a256['shift']());}}}(a297_0xb57c,0xccf6d));const a297_0x2c2fc1=(function(){let _0x159882=!![];return function(_0x56015f,_0x339c3d){const _0x4a7d79=_0x159882?function(){const _0x5d1ae0=a297_0x4ea2;if(_0x339c3d){const _0x5ac8d5=_0x339c3d[_0x5d1ae0(0x178)](_0x56015f,arguments);return _0x339c3d=null,_0x5ac8d5;}}:function(){};return _0x159882=![],_0x4a7d79;};}()),a297_0x460adf=a297_0x2c2fc1(this,function(){const _0x4701b0=a297_0x4ea2;return a297_0x460adf[_0x4701b0(0x197)]()[_0x4701b0(0x1a0)](_0x4701b0(0x19c))[_0x4701b0(0x197)]()['constructor'](a297_0x460adf)['search']('(((.+)+)+)+$');});a297_0x460adf();function a297_0x4ea2(_0x182bd3,_0x526494){const _0x13a18c=a297_0xb57c();return a297_0x4ea2=function(_0x460adf,_0x2c2fc1){_0x460adf=_0x460adf-0x178;let _0xb57c3b=_0x13a18c[_0x460adf];return _0xb57c3b;},a297_0x4ea2(_0x182bd3,_0x526494);}'use strict';Object[a297_0x44b0a6(0x19d)](exports,'__esModule',{'value':!![]}),exports[a297_0x44b0a6(0x191)]=void 0x0;const constants_1=require('../../../constants'),salesforce_1=require(a297_0x44b0a6(0x17e)),stream_1=require(a297_0x44b0a6(0x196)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME=a297_0x44b0a6(0x187);class Logger{constructor({systemLogger:_0x12477d,apiVersion:_0x2d239b,instance:_0x141f85,metadataLogId:_0x2080f2}){const _0x1c8800=a297_0x44b0a6;this[_0x1c8800(0x17b)]=[],this[_0x1c8800(0x1a2)]=_0x12477d,this['apiVersion']=_0x2d239b,this['instance']=_0x141f85,this[_0x1c8800(0x1a1)]=_0x2080f2;}async['createAttachment'](){const _0x26a5f1=a297_0x44b0a6,_0x5ad7bb={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x26a5f1(0x180)]},'Id':this['attachmentId']||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x26a5f1(0x1a1)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x951a11={'binaryFieldName':constants_1[_0x26a5f1(0x180)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x26a5f1(0x188)][_0x26a5f1(0x17f)](this[_0x26a5f1(0x17b)])};return{'records':[_0x5ad7bb],'binary':[_0x951a11]};}async['deployAttachment'](_0x66d743){const _0x357c33=a297_0x44b0a6,_0x37c13a=new salesforce_1[(_0x357c33(0x192))]({'instance':this[_0x357c33(0x182)],'objectName':constants_1[_0x357c33(0x18f)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x357c33(0x193)]});return _0x37c13a[_0x357c33(0x194)](_0x66d743);}[a297_0x44b0a6(0x18e)](){const _0x450f78=a297_0x44b0a6,_0x229598=new Date(new Date()['toLocaleString'](_0x450f78(0x185),{'timeZone':this[_0x450f78(0x18a)]})),_0x18dd96={'year':_0x229598['getFullYear'](),'month':_0x229598[_0x450f78(0x189)](),'day':_0x229598[_0x450f78(0x17d)](),'hours':_0x229598['getHours'](),'minutes':_0x229598[_0x450f78(0x17c)](),'seconds':_0x229598[_0x450f78(0x18d)]()};for(const [_0x272f60,_0x5162fc]of Object['entries'](_0x18dd96)){_0x18dd96[_0x272f60]=_0x5162fc<0xa?'0'+_0x5162fc:''+_0x5162fc;}const {year:_0x1a9dac,month:_0x1f680d,day:_0x54a5d6,hours:_0x573e02,minutes:_0x1a93df,seconds:_0x39b754}=_0x18dd96;return _0x1a9dac+'-'+_0x1f680d+'-'+_0x54a5d6+'\x20'+_0x573e02+':'+_0x1a93df+':'+_0x39b754;}async['update'](){const _0x505e3d=a297_0x44b0a6;if(this[_0x505e3d(0x17b)][_0x505e3d(0x198)]){const _0x269e2f=await this['createAttachment'](),_0x67129e=await this['deployAttachment'](_0x269e2f),_0x207e8f=_0x67129e['at'](0x0);if(_0x207e8f===null||_0x207e8f===void 0x0?void 0x0:_0x207e8f[_0x505e3d(0x186)])this['attachmentId']=_0x207e8f['id'];else throw new Error(_0x505e3d(0x19b)+(_0x207e8f===null||_0x207e8f===void 0x0?void 0x0:_0x207e8f[_0x505e3d(0x179)]));}}[a297_0x44b0a6(0x18b)](_0x21bd4a){const _0x4542ea=a297_0x44b0a6;this[_0x4542ea(0x1a2)][_0x4542ea(0x18b)](_0x21bd4a),this[_0x4542ea(0x17b)]['push'](this[_0x4542ea(0x18e)]()+'\x20[INFO]\x20'+_0x21bd4a+'\x20\x0a');}[a297_0x44b0a6(0x179)](_0x1a326c){const _0x46d4a7=a297_0x44b0a6;this[_0x46d4a7(0x1a2)]['error'](_0x1a326c),this[_0x46d4a7(0x17b)][_0x46d4a7(0x19a)](this[_0x46d4a7(0x18e)]()+'\x20[ERROR]\x20'+_0x1a326c+'\x20\x0a');}[a297_0x44b0a6(0x19f)](_0x3574e8){const _0x208b2e=a297_0x44b0a6;this[_0x208b2e(0x1a2)][_0x208b2e(0x179)](_0x3574e8),this[_0x208b2e(0x17b)][_0x208b2e(0x19a)](this['getTimeString']()+_0x208b2e(0x181)+_0x3574e8+'\x20\x0a');}}exports[a297_0x44b0a6(0x191)]=Logger;function a297_0xb57c(){const _0xc5ed98=['1219125IHYmgL','warning','search','metadataLogId','systemLogger','apply','error','13633112HcrBHs','messages','getMinutes','getDate','@flosum/salesforce','from','BINARY_FIELD_NAME','\x20[WARNING]\x20','instance','428794VeIFfp','1806758IVJzOg','en-US','success','Tracking\x20Organization\x20Log','Readable','getMonth','timeZone','log','4446488beVKph','getSeconds','getTimeString','ATTACHMENT_OBJECT_NAME','6017274NZvilY','Logger','CompositeBinaryDeployData','apiVersion','execute','7FKvxBD','stream','toString','length','2483135vzDnDk','push','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','(((.+)+)+)+$','defineProperty'];a297_0xb57c=function(){return _0xc5ed98;};return a297_0xb57c();}