const a342_0x4057e0=a342_0x33df;(function(_0x1df4be,_0x1ffd82){const _0x58eb43=a342_0x33df,_0x3345e5=_0x1df4be();while(!![]){try{const _0x44b641=-parseInt(_0x58eb43(0xce))/0x1*(parseInt(_0x58eb43(0xd6))/0x2)+parseInt(_0x58eb43(0xdc))/0x3+-parseInt(_0x58eb43(0xd2))/0x4*(parseInt(_0x58eb43(0xdd))/0x5)+parseInt(_0x58eb43(0xea))/0x6*(parseInt(_0x58eb43(0xe1))/0x7)+parseInt(_0x58eb43(0xd9))/0x8+parseInt(_0x58eb43(0xc1))/0x9+-parseInt(_0x58eb43(0xc7))/0xa;if(_0x44b641===_0x1ffd82)break;else _0x3345e5['push'](_0x3345e5['shift']());}catch(_0x13cfe9){_0x3345e5['push'](_0x3345e5['shift']());}}}(a342_0x3fba,0x6565d));function a342_0x33df(_0x59043a,_0x59701a){const _0x52e0a7=a342_0x3fba();return a342_0x33df=function(_0x587a6e,_0xe9ae6b){_0x587a6e=_0x587a6e-0xc0;let _0x3fba33=_0x52e0a7[_0x587a6e];return _0x3fba33;},a342_0x33df(_0x59043a,_0x59701a);}const a342_0xe9ae6b=(function(){let _0x3a9d5d=!![];return function(_0x42920a,_0x447244){const _0x161e94=_0x3a9d5d?function(){const _0x4a0406=a342_0x33df;if(_0x447244){const _0x59d043=_0x447244[_0x4a0406(0xe8)](_0x42920a,arguments);return _0x447244=null,_0x59d043;}}:function(){};return _0x3a9d5d=![],_0x161e94;};}()),a342_0x587a6e=a342_0xe9ae6b(this,function(){const _0x199edb=a342_0x33df;return a342_0x587a6e['toString']()[_0x199edb(0xe3)](_0x199edb(0xe2))[_0x199edb(0xdb)]()['constructor'](a342_0x587a6e)['search']('(((.+)+)+)+$');});function a342_0x3fba(){const _0x511a7f=['createAttachment','../../../constants','getDate','apply','getMinutes','48xoPYBr','systemLogger','\x20[ERROR]\x20','ATTACHMENT_OBJECT_NAME','metadataLogId','BINARY_FIELD_NAME','deployAttachment','en-US','\x20[INFO]\x20','3674196tBFKOS','Tracking\x20Organization\x20Log','getFullYear','Logger','execute','messages','2678810cuYnlc','__esModule','CompositeBinaryDeployData','success','timeZone','getTimeString','warning','76zVtIup','push','log','error','1284292gchEwN','@flosum/salesforce','apiVersion','instance','12484QUoFWE','update','from','2999752oNCVcd','\x20[WARNING]\x20','toString','2059206JJSrVe','5vwniXP','defineProperty','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','getMonth','7924dUlCyW','(((.+)+)+)+$','search','getHours'];a342_0x3fba=function(){return _0x511a7f;};return a342_0x3fba();}a342_0x587a6e();'use strict';Object[a342_0x4057e0(0xde)](exports,a342_0x4057e0(0xc8),{'value':!![]}),exports[a342_0x4057e0(0xc4)]=void 0x0;const constants_1=require(a342_0x4057e0(0xe6)),salesforce_1=require(a342_0x4057e0(0xd3)),stream_1=require('stream'),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME=a342_0x4057e0(0xc2);class Logger{constructor({systemLogger:_0x37f88f,apiVersion:_0x2e656a,instance:_0x2dc55a,metadataLogId:_0x56b728}){const _0x2686b8=a342_0x4057e0;this['messages']=[],this[_0x2686b8(0xeb)]=_0x37f88f,this[_0x2686b8(0xd4)]=_0x2e656a,this[_0x2686b8(0xd5)]=_0x2dc55a,this[_0x2686b8(0xee)]=_0x56b728;}async[a342_0x4057e0(0xe5)](){const _0x1bdd36=a342_0x4057e0,_0x496f70={'attributes':{'type':constants_1[_0x1bdd36(0xed)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this['attachmentId']||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x1bdd36(0xee)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x2e420a={'binaryFieldName':constants_1[_0x1bdd36(0xef)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1['Readable'][_0x1bdd36(0xd8)](this['messages'])};return{'records':[_0x496f70],'binary':[_0x2e420a]};}async[a342_0x4057e0(0xf0)](_0x47c139){const _0x35c044=a342_0x4057e0,_0x3fb159=new salesforce_1[(_0x35c044(0xc9))]({'instance':this[_0x35c044(0xd5)],'objectName':constants_1[_0x35c044(0xed)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x3fb159[_0x35c044(0xc5)](_0x47c139);}[a342_0x4057e0(0xcc)](){const _0x3982db=a342_0x4057e0,_0x32a1d0=new Date(new Date()['toLocaleString'](_0x3982db(0xf1),{'timeZone':this[_0x3982db(0xcb)]})),_0xf44746={'year':_0x32a1d0[_0x3982db(0xc3)](),'month':_0x32a1d0[_0x3982db(0xe0)](),'day':_0x32a1d0[_0x3982db(0xe7)](),'hours':_0x32a1d0[_0x3982db(0xe4)](),'minutes':_0x32a1d0[_0x3982db(0xe9)](),'seconds':_0x32a1d0['getSeconds']()};for(const [_0x2e99a5,_0x598891]of Object['entries'](_0xf44746)){_0xf44746[_0x2e99a5]=_0x598891<0xa?'0'+_0x598891:''+_0x598891;}const {year:_0x2e40ff,month:_0x35c626,day:_0x5b42ac,hours:_0x134546,minutes:_0x3843b4,seconds:_0x3e2248}=_0xf44746;return _0x2e40ff+'-'+_0x35c626+'-'+_0x5b42ac+'\x20'+_0x134546+':'+_0x3843b4+':'+_0x3e2248;}async[a342_0x4057e0(0xd7)](){const _0x548d3a=a342_0x4057e0;if(this[_0x548d3a(0xc6)]['length']){const _0x4b93be=await this['createAttachment'](),_0xf92328=await this[_0x548d3a(0xf0)](_0x4b93be),_0x6156b1=_0xf92328['at'](0x0);if(_0x6156b1===null||_0x6156b1===void 0x0?void 0x0:_0x6156b1[_0x548d3a(0xca)])this['attachmentId']=_0x6156b1['id'];else throw new Error(_0x548d3a(0xdf)+(_0x6156b1===null||_0x6156b1===void 0x0?void 0x0:_0x6156b1[_0x548d3a(0xd1)]));}}['log'](_0x41a078){const _0x125447=a342_0x4057e0;this['systemLogger'][_0x125447(0xd0)](_0x41a078),this[_0x125447(0xc6)][_0x125447(0xcf)](this[_0x125447(0xcc)]()+_0x125447(0xc0)+_0x41a078+'\x20\x0a');}[a342_0x4057e0(0xd1)](_0x25e736){const _0x1735fb=a342_0x4057e0;this[_0x1735fb(0xeb)][_0x1735fb(0xd1)](_0x25e736),this[_0x1735fb(0xc6)]['push'](this[_0x1735fb(0xcc)]()+_0x1735fb(0xec)+_0x25e736+'\x20\x0a');}[a342_0x4057e0(0xcd)](_0x36a980){const _0x32ccd9=a342_0x4057e0;this[_0x32ccd9(0xeb)]['error'](_0x36a980),this[_0x32ccd9(0xc6)][_0x32ccd9(0xcf)](this[_0x32ccd9(0xcc)]()+_0x32ccd9(0xda)+_0x36a980+'\x20\x0a');}}exports[a342_0x4057e0(0xc4)]=Logger;