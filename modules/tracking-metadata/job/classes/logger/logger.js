const a340_0x17316b=a340_0x15be;(function(_0x214287,_0x470152){const _0x3f91a5=a340_0x15be,_0x43e835=_0x214287();while(!![]){try{const _0x1fcbcb=parseInt(_0x3f91a5(0x16b))/0x1*(-parseInt(_0x3f91a5(0x17f))/0x2)+-parseInt(_0x3f91a5(0x17e))/0x3*(parseInt(_0x3f91a5(0x179))/0x4)+-parseInt(_0x3f91a5(0x173))/0x5+parseInt(_0x3f91a5(0x170))/0x6+-parseInt(_0x3f91a5(0x182))/0x7*(-parseInt(_0x3f91a5(0x168))/0x8)+parseInt(_0x3f91a5(0x162))/0x9+parseInt(_0x3f91a5(0x165))/0xa;if(_0x1fcbcb===_0x470152)break;else _0x43e835['push'](_0x43e835['shift']());}catch(_0x54ae93){_0x43e835['push'](_0x43e835['shift']());}}}(a340_0x5028,0xab897));const a340_0x27bb40=(function(){let _0x56e47a=!![];return function(_0xbbac2b,_0x4d47c2){const _0x3a7a79=_0x56e47a?function(){const _0x33e676=a340_0x15be;if(_0x4d47c2){const _0x2ddf97=_0x4d47c2[_0x33e676(0x169)](_0xbbac2b,arguments);return _0x4d47c2=null,_0x2ddf97;}}:function(){};return _0x56e47a=![],_0x3a7a79;};}()),a340_0x4356e9=a340_0x27bb40(this,function(){const _0x4e4873=a340_0x15be;return a340_0x4356e9['toString']()['search'](_0x4e4873(0x17c))['toString']()['constructor'](a340_0x4356e9)['search']('(((.+)+)+)+$');});a340_0x4356e9();function a340_0x15be(_0x1ab604,_0x488185){const _0x364ef2=a340_0x5028();return a340_0x15be=function(_0x4356e9,_0x27bb40){_0x4356e9=_0x4356e9-0x162;let _0x50284d=_0x364ef2[_0x4356e9];return _0x50284d;},a340_0x15be(_0x1ab604,_0x488185);}'use strict';Object[a340_0x17316b(0x18e)](exports,'__esModule',{'value':!![]}),exports[a340_0x17316b(0x174)]=void 0x0;const constants_1=require(a340_0x17316b(0x183)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a340_0x17316b(0x163)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a340_0x17316b(0x167),TRACKING_ORGANIZATION_LOG_NAME=a340_0x17316b(0x187);class Logger{constructor({systemLogger:_0x472c30,apiVersion:_0x4c6a97,instance:_0x414cb5,metadataLogId:_0x28d99b}){const _0x5d99d1=a340_0x17316b;this[_0x5d99d1(0x17d)]=[],this['systemLogger']=_0x472c30,this[_0x5d99d1(0x18d)]=_0x4c6a97,this['instance']=_0x414cb5,this[_0x5d99d1(0x17a)]=_0x28d99b;}async[a340_0x17316b(0x189)](){const _0x43f1a6=a340_0x17316b,_0xf5a20={'attributes':{'type':constants_1[_0x43f1a6(0x188)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x43f1a6(0x18a)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this['metadataLogId'],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x5e89b5={'binaryFieldName':constants_1['BINARY_FIELD_NAME'],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x43f1a6(0x178)][_0x43f1a6(0x16d)](this[_0x43f1a6(0x17d)])};return{'records':[_0xf5a20],'binary':[_0x5e89b5]};}async[a340_0x17316b(0x172)](_0xe3be20){const _0x2807fe=a340_0x17316b,_0x3b3161=new salesforce_1['CompositeBinaryDeployData']({'instance':this['instance'],'objectName':constants_1[_0x2807fe(0x188)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x3b3161[_0x2807fe(0x18f)](_0xe3be20);}['getTimeString'](){const _0x19dc08=a340_0x17316b,_0x2612b0=new Date(new Date()['toLocaleString'](_0x19dc08(0x16c),{'timeZone':this[_0x19dc08(0x17b)]})),_0x21a760={'year':_0x2612b0['getFullYear'](),'month':_0x2612b0[_0x19dc08(0x164)](),'day':_0x2612b0[_0x19dc08(0x176)](),'hours':_0x2612b0[_0x19dc08(0x171)](),'minutes':_0x2612b0[_0x19dc08(0x186)](),'seconds':_0x2612b0[_0x19dc08(0x166)]()};for(const [_0x393ecb,_0x37fed6]of Object['entries'](_0x21a760)){_0x21a760[_0x393ecb]=_0x37fed6<0xa?'0'+_0x37fed6:''+_0x37fed6;}const {year:_0x3626b9,month:_0x2e45f2,day:_0x27e061,hours:_0x42ff13,minutes:_0x38114a,seconds:_0x21bbc0}=_0x21a760;return _0x3626b9+'-'+_0x2e45f2+'-'+_0x27e061+'\x20'+_0x42ff13+':'+_0x38114a+':'+_0x21bbc0;}async[a340_0x17316b(0x16e)](){const _0x23b2a2=a340_0x17316b;if(this[_0x23b2a2(0x17d)][_0x23b2a2(0x180)]){const _0x235a34=await this[_0x23b2a2(0x189)](),_0x14f36b=await this['deployAttachment'](_0x235a34),_0x567e00=_0x14f36b['at'](0x0);if(_0x567e00===null||_0x567e00===void 0x0?void 0x0:_0x567e00[_0x23b2a2(0x184)])this['attachmentId']=_0x567e00['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x567e00===null||_0x567e00===void 0x0?void 0x0:_0x567e00[_0x23b2a2(0x175)]));}}[a340_0x17316b(0x16f)](_0x198f74){const _0x26425c=a340_0x17316b;this[_0x26425c(0x18b)][_0x26425c(0x16f)](_0x198f74),this[_0x26425c(0x17d)][_0x26425c(0x16a)](this[_0x26425c(0x18c)]()+_0x26425c(0x185)+_0x198f74+'\x20\x0a');}[a340_0x17316b(0x175)](_0x252213){const _0x560838=a340_0x17316b;this['systemLogger'][_0x560838(0x175)](_0x252213),this[_0x560838(0x17d)][_0x560838(0x16a)](this[_0x560838(0x18c)]()+_0x560838(0x177)+_0x252213+'\x20\x0a');}['warning'](_0x39f9c4){const _0x5496ad=a340_0x17316b;this['systemLogger'][_0x5496ad(0x175)](_0x39f9c4),this[_0x5496ad(0x17d)]['push'](this['getTimeString']()+_0x5496ad(0x181)+_0x39f9c4+'\x20\x0a');}}function a340_0x5028(){const _0x4f85e0=['../../../constants','success','\x20[INFO]\x20','getMinutes','Tracking\x20Organization\x20Log','ATTACHMENT_OBJECT_NAME','createAttachment','attachmentId','systemLogger','getTimeString','apiVersion','defineProperty','execute','2681307LzzuTE','stream','getMonth','5905390KePbLR','getSeconds','text/plain','8aIMyBj','apply','push','3yrtrYI','en-US','from','update','log','6523728LaWYRI','getHours','deployAttachment','6043515CsvaZF','Logger','error','getDate','\x20[ERROR]\x20','Readable','78636pxIuBW','metadataLogId','timeZone','(((.+)+)+)+$','messages','6QOsGny','139642KGlVpy','length','\x20[WARNING]\x20','1290443exEKZJ'];a340_0x5028=function(){return _0x4f85e0;};return a340_0x5028();}exports['Logger']=Logger;