const a341_0x25d85c=a341_0x5f09;(function(_0x7e132e,_0x569d88){const _0x329684=a341_0x5f09,_0x155ca9=_0x7e132e();while(!![]){try{const _0xd6f721=-parseInt(_0x329684(0xd5))/0x1*(parseInt(_0x329684(0xef))/0x2)+parseInt(_0x329684(0x102))/0x3+parseInt(_0x329684(0x103))/0x4+-parseInt(_0x329684(0xf3))/0x5*(parseInt(_0x329684(0xf9))/0x6)+parseInt(_0x329684(0xd4))/0x7+-parseInt(_0x329684(0xfd))/0x8+parseInt(_0x329684(0xf7))/0x9;if(_0xd6f721===_0x569d88)break;else _0x155ca9['push'](_0x155ca9['shift']());}catch(_0x330c84){_0x155ca9['push'](_0x155ca9['shift']());}}}(a341_0x2d74,0x49d94));const a341_0x46bd6d=(function(){let _0x27774c=!![];return function(_0x1e397f,_0x494c66){const _0xe4f5d0=_0x27774c?function(){const _0xb3f71b=a341_0x5f09;if(_0x494c66){const _0x4fbf12=_0x494c66[_0xb3f71b(0xec)](_0x1e397f,arguments);return _0x494c66=null,_0x4fbf12;}}:function(){};return _0x27774c=![],_0xe4f5d0;};}()),a341_0x3506d6=a341_0x46bd6d(this,function(){const _0x1da2a9=a341_0x5f09;return a341_0x3506d6[_0x1da2a9(0xfc)]()[_0x1da2a9(0xf8)](_0x1da2a9(0xea))[_0x1da2a9(0xfc)]()['constructor'](a341_0x3506d6)[_0x1da2a9(0xf8)]('(((.+)+)+)+$');});a341_0x3506d6();'use strict';function a341_0x5f09(_0x4dfc1d,_0x21d425){const _0x25ac55=a341_0x2d74();return a341_0x5f09=function(_0x3506d6,_0x46bd6d){_0x3506d6=_0x3506d6-0xd4;let _0x2d7441=_0x25ac55[_0x3506d6];return _0x2d7441;},a341_0x5f09(_0x4dfc1d,_0x21d425);}Object[a341_0x25d85c(0xdd)](exports,'__esModule',{'value':!![]}),exports['Logger']=void 0x0;const constants_1=require('../../../constants'),salesforce_1=require(a341_0x25d85c(0xe5)),stream_1=require(a341_0x25d85c(0xfe)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a341_0x25d85c(0xf4),TRACKING_ORGANIZATION_LOG_NAME=a341_0x25d85c(0xdf);function a341_0x2d74(){const _0x537fbf=['apiVersion','length','defineProperty','messages','Tracking\x20Organization\x20Log','getHours','getSeconds','from','Readable','attachmentId','@flosum/salesforce','Logger','getDate','getMonth','execute','(((.+)+)+)+$','update','apply','CompositeBinaryDeployData','getTimeString','114964RMVOnI','log','toLocaleString','ATTACHMENT_OBJECT_NAME','5Tssrrj','text/plain','\x20[INFO]\x20','getFullYear','945135aYykch','search','995934TciUKY','error','instance','toString','2475232pZusAQ','stream','push','deployAttachment','en-US','285831JxQpkL','1849292xDlqPT','2818704MNzTfB','5HmRVBW','success','createAttachment','systemLogger','timeZone','metadataLogId'];a341_0x2d74=function(){return _0x537fbf;};return a341_0x2d74();}class Logger{constructor({systemLogger:_0x5c9391,apiVersion:_0x17a15b,instance:_0xcbfea1,metadataLogId:_0x4a714a}){const _0x4b6908=a341_0x25d85c;this['messages']=[],this['systemLogger']=_0x5c9391,this[_0x4b6908(0xdb)]=_0x17a15b,this['instance']=_0xcbfea1,this[_0x4b6908(0xda)]=_0x4a714a;}async[a341_0x25d85c(0xd7)](){const _0x2c1bf8=a341_0x25d85c,_0x14d684={'attributes':{'type':constants_1[_0x2c1bf8(0xf2)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x2c1bf8(0xe4)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x2c1bf8(0xda)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x111f49={'binaryFieldName':constants_1['BINARY_FIELD_NAME'],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x2c1bf8(0xe3)][_0x2c1bf8(0xe2)](this[_0x2c1bf8(0xde)])};return{'records':[_0x14d684],'binary':[_0x111f49]};}async[a341_0x25d85c(0x100)](_0x2a76e8){const _0x2f413d=a341_0x25d85c,_0x486019=new salesforce_1[(_0x2f413d(0xed))]({'instance':this[_0x2f413d(0xfb)],'objectName':constants_1['ATTACHMENT_OBJECT_NAME'],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x2f413d(0xdb)]});return _0x486019[_0x2f413d(0xe9)](_0x2a76e8);}[a341_0x25d85c(0xee)](){const _0x45fda8=a341_0x25d85c,_0xf5f5c0=new Date(new Date()[_0x45fda8(0xf1)](_0x45fda8(0x101),{'timeZone':this[_0x45fda8(0xd9)]})),_0xe2e85c={'year':_0xf5f5c0[_0x45fda8(0xf6)](),'month':_0xf5f5c0[_0x45fda8(0xe8)](),'day':_0xf5f5c0[_0x45fda8(0xe7)](),'hours':_0xf5f5c0[_0x45fda8(0xe0)](),'minutes':_0xf5f5c0['getMinutes'](),'seconds':_0xf5f5c0[_0x45fda8(0xe1)]()};for(const [_0x1a5020,_0x40dea7]of Object['entries'](_0xe2e85c)){_0xe2e85c[_0x1a5020]=_0x40dea7<0xa?'0'+_0x40dea7:''+_0x40dea7;}const {year:_0x15af91,month:_0x504f12,day:_0x2deb86,hours:_0x57cc59,minutes:_0x489025,seconds:_0x24dd79}=_0xe2e85c;return _0x15af91+'-'+_0x504f12+'-'+_0x2deb86+'\x20'+_0x57cc59+':'+_0x489025+':'+_0x24dd79;}async[a341_0x25d85c(0xeb)](){const _0x5affc2=a341_0x25d85c;if(this[_0x5affc2(0xde)][_0x5affc2(0xdc)]){const _0x3bdafd=await this[_0x5affc2(0xd7)](),_0x440366=await this['deployAttachment'](_0x3bdafd),_0x349819=_0x440366['at'](0x0);if(_0x349819===null||_0x349819===void 0x0?void 0x0:_0x349819[_0x5affc2(0xd6)])this[_0x5affc2(0xe4)]=_0x349819['id'];else throw new Error('Update\x20metadata\x20log\x20attachment\x20error\x20\x0a'+(_0x349819===null||_0x349819===void 0x0?void 0x0:_0x349819[_0x5affc2(0xfa)]));}}[a341_0x25d85c(0xf0)](_0x27ebda){const _0x4ddee7=a341_0x25d85c;this[_0x4ddee7(0xd8)][_0x4ddee7(0xf0)](_0x27ebda),this['messages'][_0x4ddee7(0xff)](this['getTimeString']()+_0x4ddee7(0xf5)+_0x27ebda+'\x20\x0a');}[a341_0x25d85c(0xfa)](_0xeb9b29){const _0x545f5b=a341_0x25d85c;this[_0x545f5b(0xd8)][_0x545f5b(0xfa)](_0xeb9b29),this[_0x545f5b(0xde)][_0x545f5b(0xff)](this[_0x545f5b(0xee)]()+'\x20[ERROR]\x20'+_0xeb9b29+'\x20\x0a');}['warning'](_0x4e8c02){const _0x5e9d91=a341_0x25d85c;this['systemLogger'][_0x5e9d91(0xfa)](_0x4e8c02),this[_0x5e9d91(0xde)][_0x5e9d91(0xff)](this[_0x5e9d91(0xee)]()+'\x20[WARNING]\x20'+_0x4e8c02+'\x20\x0a');}}exports[a341_0x25d85c(0xe6)]=Logger;