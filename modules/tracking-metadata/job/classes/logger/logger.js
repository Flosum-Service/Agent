function a297_0x2001(){const _0x3d5053=['deployAttachment','BINARY_FIELD_NAME','4986NMJnyK','defineProperty','messages','5CGocsp','\x20[WARNING]\x20','4394922eRElxy','getSeconds','1570HwNPSz','search','getMonth','\x20[ERROR]\x20','2045648WjMiPA','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','metadataLogId','../../../constants','update','success','createAttachment','4081292XWcyuz','systemLogger','Logger','entries','apiVersion','667093XuigTd','getFullYear','push','getMinutes','stream','Readable','constructor','8vsKZSX','1253883HEFxWZ','length','execute','1127782UBBnmM','toLocaleString','__esModule','(((.+)+)+)+$','error','apply','log','getTimeString','toString','attachmentId'];a297_0x2001=function(){return _0x3d5053;};return a297_0x2001();}const a297_0x11d572=a297_0x7cd8;(function(_0x25d8ec,_0x3db1ec){const _0x4a8a21=a297_0x7cd8,_0x7282b=_0x25d8ec();while(!![]){try{const _0xa3086c=-parseInt(_0x4a8a21(0xcf))/0x1+parseInt(_0x4a8a21(0xe6))/0x2+parseInt(_0x4a8a21(0xcc))/0x3+parseInt(_0x4a8a21(0xed))/0x4+-parseInt(_0x4a8a21(0xde))/0x5*(parseInt(_0x4a8a21(0xe0))/0x6)+parseInt(_0x4a8a21(0xc4))/0x7*(parseInt(_0x4a8a21(0xcb))/0x8)+parseInt(_0x4a8a21(0xdb))/0x9*(-parseInt(_0x4a8a21(0xe2))/0xa);if(_0xa3086c===_0x3db1ec)break;else _0x7282b['push'](_0x7282b['shift']());}catch(_0x3c9e7c){_0x7282b['push'](_0x7282b['shift']());}}}(a297_0x2001,0x94b88));const a297_0x3670fe=(function(){let _0x37046c=!![];return function(_0x3f70f6,_0x1476d1){const _0x43143f=_0x37046c?function(){const _0x2d8405=a297_0x7cd8;if(_0x1476d1){const _0x468f99=_0x1476d1[_0x2d8405(0xd4)](_0x3f70f6,arguments);return _0x1476d1=null,_0x468f99;}}:function(){};return _0x37046c=![],_0x43143f;};}()),a297_0x3b7cab=a297_0x3670fe(this,function(){const _0x241e92=a297_0x7cd8;return a297_0x3b7cab[_0x241e92(0xd7)]()['search'](_0x241e92(0xd2))[_0x241e92(0xd7)]()[_0x241e92(0xca)](a297_0x3b7cab)[_0x241e92(0xe3)](_0x241e92(0xd2));});a297_0x3b7cab();'use strict';Object[a297_0x11d572(0xdc)](exports,a297_0x11d572(0xd1),{'value':!![]}),exports[a297_0x11d572(0xc1)]=void 0x0;const constants_1=require(a297_0x11d572(0xe9)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a297_0x11d572(0xc8)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE='text/plain',TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';class Logger{constructor({systemLogger:_0x22fe1d,apiVersion:_0x179212,instance:_0x496500,metadataLogId:_0x1bd788}){const _0x4e199e=a297_0x11d572;this[_0x4e199e(0xdd)]=[],this[_0x4e199e(0xee)]=_0x22fe1d,this[_0x4e199e(0xc3)]=_0x179212,this['instance']=_0x496500,this[_0x4e199e(0xe8)]=_0x1bd788;}async['createAttachment'](){const _0x7b8c39=a297_0x11d572,_0x3cf7b7={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1[_0x7b8c39(0xda)]},'Id':this[_0x7b8c39(0xd8)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x7b8c39(0xe8)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x288b82={'binaryFieldName':constants_1[_0x7b8c39(0xda)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x7b8c39(0xc9)]['from'](this[_0x7b8c39(0xdd)])};return{'records':[_0x3cf7b7],'binary':[_0x288b82]};}async[a297_0x11d572(0xd9)](_0x22d2bf){const _0xdae03d=a297_0x11d572,_0x234313=new salesforce_1['CompositeBinaryDeployData']({'instance':this['instance'],'objectName':constants_1['ATTACHMENT_OBJECT_NAME'],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0xdae03d(0xc3)]});return _0x234313[_0xdae03d(0xce)](_0x22d2bf);}['getTimeString'](){const _0x2242bf=a297_0x11d572,_0x38179c=new Date(new Date()[_0x2242bf(0xd0)]('en-US',{'timeZone':this['timeZone']})),_0x5a06a9={'year':_0x38179c[_0x2242bf(0xc5)](),'month':_0x38179c[_0x2242bf(0xe4)](),'day':_0x38179c['getDate'](),'hours':_0x38179c['getHours'](),'minutes':_0x38179c[_0x2242bf(0xc7)](),'seconds':_0x38179c[_0x2242bf(0xe1)]()};for(const [_0xb38b28,_0x2f36e1]of Object[_0x2242bf(0xc2)](_0x5a06a9)){_0x5a06a9[_0xb38b28]=_0x2f36e1<0xa?'0'+_0x2f36e1:''+_0x2f36e1;}const {year:_0x398a76,month:_0x58cac9,day:_0x563d97,hours:_0x548f24,minutes:_0x28a967,seconds:_0x4ac28e}=_0x5a06a9;return _0x398a76+'-'+_0x58cac9+'-'+_0x563d97+'\x20'+_0x548f24+':'+_0x28a967+':'+_0x4ac28e;}async[a297_0x11d572(0xea)](){const _0x4f1987=a297_0x11d572;if(this[_0x4f1987(0xdd)][_0x4f1987(0xcd)]){const _0x2c56e3=await this[_0x4f1987(0xec)](),_0x5adcef=await this[_0x4f1987(0xd9)](_0x2c56e3),_0x2a7cf2=_0x5adcef['at'](0x0);if(_0x2a7cf2===null||_0x2a7cf2===void 0x0?void 0x0:_0x2a7cf2[_0x4f1987(0xeb)])this[_0x4f1987(0xd8)]=_0x2a7cf2['id'];else throw new Error(_0x4f1987(0xe7)+(_0x2a7cf2===null||_0x2a7cf2===void 0x0?void 0x0:_0x2a7cf2['error']));}}[a297_0x11d572(0xd5)](_0x595cfe){const _0x13b46b=a297_0x11d572;this[_0x13b46b(0xee)][_0x13b46b(0xd5)](_0x595cfe),this['messages']['push'](this[_0x13b46b(0xd6)]()+'\x20[INFO]\x20'+_0x595cfe+'\x20\x0a');}[a297_0x11d572(0xd3)](_0x542af5){const _0x49ab71=a297_0x11d572;this['systemLogger'][_0x49ab71(0xd3)](_0x542af5),this[_0x49ab71(0xdd)][_0x49ab71(0xc6)](this[_0x49ab71(0xd6)]()+_0x49ab71(0xe5)+_0x542af5+'\x20\x0a');}['warning'](_0x11ab24){const _0x9cf6b3=a297_0x11d572;this['systemLogger']['error'](_0x11ab24),this[_0x9cf6b3(0xdd)][_0x9cf6b3(0xc6)](this[_0x9cf6b3(0xd6)]()+_0x9cf6b3(0xdf)+_0x11ab24+'\x20\x0a');}}function a297_0x7cd8(_0x4bab68,_0x4875a2){const _0xcc8bb1=a297_0x2001();return a297_0x7cd8=function(_0x3b7cab,_0x3670fe){_0x3b7cab=_0x3b7cab-0xc1;let _0x2001d6=_0xcc8bb1[_0x3b7cab];return _0x2001d6;},a297_0x7cd8(_0x4bab68,_0x4875a2);}exports[a297_0x11d572(0xc1)]=Logger;