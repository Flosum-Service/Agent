function a341_0x2d7a(){const _0x17bd6e=['success','constructor','18SpMgVk','4416560uHLxTS','Logger','toLocaleString','(((.+)+)+)+$','attachmentId','getFullYear','getMonth','text/plain','584kUjcpE','createAttachment','update','2490445fdIITg','error','messages','stream','instance','push','__esModule','length','\x20[WARNING]\x20','entries','deployAttachment','execute','getHours','13131cCzLCw','apply','140311XoXeJd','636MbiWKg','en-US','toString','apiVersion','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','../../../constants','defineProperty','getDate','\x20[ERROR]\x20','from','97391PfOvzu','timeZone','getMinutes','systemLogger','getTimeString','search','metadataLogId','223452LxlBmv','warning','2406BHGmfd','ATTACHMENT_OBJECT_NAME','Readable','\x20[INFO]\x20'];a341_0x2d7a=function(){return _0x17bd6e;};return a341_0x2d7a();}const a341_0x4e29f2=a341_0x589c;(function(_0x32e3ae,_0xa20a3d){const _0x3414e6=a341_0x589c,_0x2210e5=_0x32e3ae();while(!![]){try{const _0x2677fa=-parseInt(_0x3414e6(0xf8))/0x1+-parseInt(_0x3414e6(0xf9))/0x2*(-parseInt(_0x3414e6(0xd7))/0x3)+parseInt(_0x3414e6(0xd5))/0x4+parseInt(_0x3414e6(0xe9))/0x5+parseInt(_0x3414e6(0xdd))/0x6*(-parseInt(_0x3414e6(0x103))/0x7)+-parseInt(_0x3414e6(0xe6))/0x8*(-parseInt(_0x3414e6(0xf6))/0x9)+-parseInt(_0x3414e6(0xde))/0xa;if(_0x2677fa===_0xa20a3d)break;else _0x2210e5['push'](_0x2210e5['shift']());}catch(_0x418c30){_0x2210e5['push'](_0x2210e5['shift']());}}}(a341_0x2d7a,0x473cd));const a341_0xe1e63f=(function(){let _0xc28348=!![];return function(_0x4dba85,_0x41569a){const _0x12e2eb=_0xc28348?function(){const _0x15a931=a341_0x589c;if(_0x41569a){const _0x117576=_0x41569a[_0x15a931(0xf7)](_0x4dba85,arguments);return _0x41569a=null,_0x117576;}}:function(){};return _0xc28348=![],_0x12e2eb;};}()),a341_0x34c06f=a341_0xe1e63f(this,function(){const _0x260e46=a341_0x589c;return a341_0x34c06f[_0x260e46(0xfb)]()[_0x260e46(0x108)]('(((.+)+)+)+$')[_0x260e46(0xfb)]()[_0x260e46(0xdc)](a341_0x34c06f)['search'](_0x260e46(0xe1));});a341_0x34c06f();'use strict';Object[a341_0x4e29f2(0xff)](exports,a341_0x4e29f2(0xef),{'value':!![]}),exports[a341_0x4e29f2(0xdf)]=void 0x0;const constants_1=require(a341_0x4e29f2(0xfe)),salesforce_1=require('@flosum/salesforce'),stream_1=require(a341_0x4e29f2(0xec)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a341_0x4e29f2(0xe5),TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';function a341_0x589c(_0x22c66b,_0x2636d0){const _0x58b9db=a341_0x2d7a();return a341_0x589c=function(_0x34c06f,_0xe1e63f){_0x34c06f=_0x34c06f-0xd4;let _0x2d7a0a=_0x58b9db[_0x34c06f];return _0x2d7a0a;},a341_0x589c(_0x22c66b,_0x2636d0);}class Logger{constructor({systemLogger:_0x2d7f90,apiVersion:_0x5bf9ad,instance:_0x3e313f,metadataLogId:_0x5b4a15}){const _0x521260=a341_0x4e29f2;this[_0x521260(0xeb)]=[],this['systemLogger']=_0x2d7f90,this['apiVersion']=_0x5bf9ad,this[_0x521260(0xed)]=_0x3e313f,this[_0x521260(0xd4)]=_0x5b4a15;}async[a341_0x4e29f2(0xe7)](){const _0x1396be=a341_0x4e29f2,_0x27aeec={'attributes':{'type':constants_1[_0x1396be(0xd8)],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x1396be(0xe2)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this[_0x1396be(0xd4)],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x7c7803={'binaryFieldName':constants_1['BINARY_FIELD_NAME'],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x1396be(0xd9)][_0x1396be(0x102)](this['messages'])};return{'records':[_0x27aeec],'binary':[_0x7c7803]};}async[a341_0x4e29f2(0xf3)](_0x2f649b){const _0x4292c9=a341_0x4e29f2,_0x3479c=new salesforce_1['CompositeBinaryDeployData']({'instance':this[_0x4292c9(0xed)],'objectName':constants_1[_0x4292c9(0xd8)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this[_0x4292c9(0xfc)]});return _0x3479c[_0x4292c9(0xf4)](_0x2f649b);}[a341_0x4e29f2(0x107)](){const _0x153c0=a341_0x4e29f2,_0x3310b6=new Date(new Date()[_0x153c0(0xe0)](_0x153c0(0xfa),{'timeZone':this[_0x153c0(0x104)]})),_0x4d23a5={'year':_0x3310b6[_0x153c0(0xe3)](),'month':_0x3310b6[_0x153c0(0xe4)](),'day':_0x3310b6[_0x153c0(0x100)](),'hours':_0x3310b6[_0x153c0(0xf5)](),'minutes':_0x3310b6[_0x153c0(0x105)](),'seconds':_0x3310b6['getSeconds']()};for(const [_0x231bff,_0x3d6293]of Object[_0x153c0(0xf2)](_0x4d23a5)){_0x4d23a5[_0x231bff]=_0x3d6293<0xa?'0'+_0x3d6293:''+_0x3d6293;}const {year:_0x2619c5,month:_0x2a4d23,day:_0x1072c3,hours:_0x4fc6e5,minutes:_0x35f391,seconds:_0x516f6e}=_0x4d23a5;return _0x2619c5+'-'+_0x2a4d23+'-'+_0x1072c3+'\x20'+_0x4fc6e5+':'+_0x35f391+':'+_0x516f6e;}async[a341_0x4e29f2(0xe8)](){const _0x2f675a=a341_0x4e29f2;if(this[_0x2f675a(0xeb)][_0x2f675a(0xf0)]){const _0x4dd617=await this['createAttachment'](),_0x4e1743=await this['deployAttachment'](_0x4dd617),_0xce3fd=_0x4e1743['at'](0x0);if(_0xce3fd===null||_0xce3fd===void 0x0?void 0x0:_0xce3fd[_0x2f675a(0xdb)])this[_0x2f675a(0xe2)]=_0xce3fd['id'];else throw new Error(_0x2f675a(0xfd)+(_0xce3fd===null||_0xce3fd===void 0x0?void 0x0:_0xce3fd[_0x2f675a(0xea)]));}}['log'](_0x4325ca){const _0x19f6ac=a341_0x4e29f2;this[_0x19f6ac(0x106)]['log'](_0x4325ca),this['messages']['push'](this[_0x19f6ac(0x107)]()+_0x19f6ac(0xda)+_0x4325ca+'\x20\x0a');}[a341_0x4e29f2(0xea)](_0x44671d){const _0x5b4327=a341_0x4e29f2;this['systemLogger'][_0x5b4327(0xea)](_0x44671d),this[_0x5b4327(0xeb)]['push'](this[_0x5b4327(0x107)]()+_0x5b4327(0x101)+_0x44671d+'\x20\x0a');}[a341_0x4e29f2(0xd6)](_0x59d2eb){const _0x56b674=a341_0x4e29f2;this[_0x56b674(0x106)]['error'](_0x59d2eb),this[_0x56b674(0xeb)][_0x56b674(0xee)](this[_0x56b674(0x107)]()+_0x56b674(0xf1)+_0x59d2eb+'\x20\x0a');}}exports[a341_0x4e29f2(0xdf)]=Logger;