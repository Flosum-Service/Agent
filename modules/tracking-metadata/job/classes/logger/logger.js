const a297_0x468556=a297_0x12a8;(function(_0x2dbad1,_0x1445ca){const _0x1f1ae7=a297_0x12a8,_0x3f785b=_0x2dbad1();while(!![]){try{const _0xd80422=parseInt(_0x1f1ae7(0x1d6))/0x1*(-parseInt(_0x1f1ae7(0x1e1))/0x2)+-parseInt(_0x1f1ae7(0x204))/0x3+parseInt(_0x1f1ae7(0x1d3))/0x4*(parseInt(_0x1f1ae7(0x1d2))/0x5)+parseInt(_0x1f1ae7(0x1f3))/0x6+parseInt(_0x1f1ae7(0x1df))/0x7+parseInt(_0x1f1ae7(0x1fa))/0x8+-parseInt(_0x1f1ae7(0x1ea))/0x9;if(_0xd80422===_0x1445ca)break;else _0x3f785b['push'](_0x3f785b['shift']());}catch(_0x2a92e3){_0x3f785b['push'](_0x3f785b['shift']());}}}(a297_0x29eb,0x304d1));const a297_0x733dc3=(function(){let _0x3effd9=!![];return function(_0x6f04c8,_0x436eba){const _0x505086=_0x3effd9?function(){const _0x5aaecf=a297_0x12a8;if(_0x436eba){const _0x5badab=_0x436eba[_0x5aaecf(0x1ef)](_0x6f04c8,arguments);return _0x436eba=null,_0x5badab;}}:function(){};return _0x3effd9=![],_0x505086;};}()),a297_0x159ef0=a297_0x733dc3(this,function(){const _0x45bba6=a297_0x12a8;return a297_0x159ef0['toString']()[_0x45bba6(0x1de)]('(((.+)+)+)+$')[_0x45bba6(0x1f2)]()[_0x45bba6(0x1ee)](a297_0x159ef0)['search'](_0x45bba6(0x1f9));});function a297_0x12a8(_0x3d7d6c,_0x2eeb14){const _0x1ccb0b=a297_0x29eb();return a297_0x12a8=function(_0x159ef0,_0x733dc3){_0x159ef0=_0x159ef0-0x1d2;let _0x29ebdc=_0x1ccb0b[_0x159ef0];return _0x29ebdc;},a297_0x12a8(_0x3d7d6c,_0x2eeb14);}a297_0x159ef0();'use strict';Object[a297_0x468556(0x1fc)](exports,a297_0x468556(0x1ff),{'value':!![]}),exports[a297_0x468556(0x1d9)]=void 0x0;function a297_0x29eb(){const _0x416b6d=['312rbhJdL','text/plain','messages','log','attachmentId','success','getDate','BINARY_FIELD_NAME','@flosum/salesforce','1416393WRGoCJ','from','getHours','../../../constants','constructor','apply','error','getTimeString','toString','1194978IyELyK','deployAttachment','\x20[ERROR]\x20','Readable','instance','warning','(((.+)+)+)+$','2140784KqnpDg','push','defineProperty','update','entries','__esModule','metadataLogId','CompositeBinaryDeployData','Update\x20metadata\x20log\x20attachment\x20error\x20\x0a','apiVersion','977265YaDKvG','\x20[WARNING]\x20','5ObhBtF','1079044AOcwgZ','en-US','getFullYear','737uhkpmj','getMinutes','ATTACHMENT_OBJECT_NAME','Logger','systemLogger','stream','createAttachment','toLocaleString','search','415961QHJDcw','length'];a297_0x29eb=function(){return _0x416b6d;};return a297_0x29eb();}const constants_1=require(a297_0x468556(0x1ed)),salesforce_1=require(a297_0x468556(0x1e9)),stream_1=require(a297_0x468556(0x1db)),EXTERNAL_ID_FIELD='Id',CONTENT_TYPE=a297_0x468556(0x1e2),TRACKING_ORGANIZATION_LOG_NAME='Tracking\x20Organization\x20Log';class Logger{constructor({systemLogger:_0x56d26c,apiVersion:_0x245cef,instance:_0x187c40,metadataLogId:_0x17e58f}){const _0x4f9057=a297_0x468556;this[_0x4f9057(0x1e3)]=[],this[_0x4f9057(0x1da)]=_0x56d26c,this[_0x4f9057(0x203)]=_0x245cef,this[_0x4f9057(0x1f7)]=_0x187c40,this[_0x4f9057(0x200)]=_0x17e58f;}async[a297_0x468556(0x1dc)](){const _0x48027a=a297_0x468556,_0x16dc5c={'attributes':{'type':constants_1['ATTACHMENT_OBJECT_NAME'],'binaryPartName':TRACKING_ORGANIZATION_LOG_NAME,'binaryPartNameAlias':constants_1['BINARY_FIELD_NAME']},'Id':this[_0x48027a(0x1e5)]||null,'Name':TRACKING_ORGANIZATION_LOG_NAME,'ContentType':CONTENT_TYPE,'ParentId':this['metadataLogId'],'Body':TRACKING_ORGANIZATION_LOG_NAME},_0x17fa2f={'binaryFieldName':constants_1[_0x48027a(0x1e8)],'name':TRACKING_ORGANIZATION_LOG_NAME,'value':stream_1[_0x48027a(0x1f6)][_0x48027a(0x1eb)](this[_0x48027a(0x1e3)])};return{'records':[_0x16dc5c],'binary':[_0x17fa2f]};}async[a297_0x468556(0x1f4)](_0x5f3247){const _0x2c11e7=a297_0x468556,_0x54ed33=new salesforce_1[(_0x2c11e7(0x201))]({'instance':this[_0x2c11e7(0x1f7)],'objectName':constants_1[_0x2c11e7(0x1d8)],'externalIdField':EXTERNAL_ID_FIELD,'allOrNone':![],'api':this['apiVersion']});return _0x54ed33['execute'](_0x5f3247);}[a297_0x468556(0x1f1)](){const _0x1e1005=a297_0x468556,_0x47ea36=new Date(new Date()[_0x1e1005(0x1dd)](_0x1e1005(0x1d4),{'timeZone':this['timeZone']})),_0x4a9db8={'year':_0x47ea36[_0x1e1005(0x1d5)](),'month':_0x47ea36['getMonth'](),'day':_0x47ea36[_0x1e1005(0x1e7)](),'hours':_0x47ea36[_0x1e1005(0x1ec)](),'minutes':_0x47ea36[_0x1e1005(0x1d7)](),'seconds':_0x47ea36['getSeconds']()};for(const [_0xd87cef,_0x1c2418]of Object[_0x1e1005(0x1fe)](_0x4a9db8)){_0x4a9db8[_0xd87cef]=_0x1c2418<0xa?'0'+_0x1c2418:''+_0x1c2418;}const {year:_0x1edcfe,month:_0x29aadd,day:_0x4c7ece,hours:_0x44c169,minutes:_0x51789c,seconds:_0x3c167e}=_0x4a9db8;return _0x1edcfe+'-'+_0x29aadd+'-'+_0x4c7ece+'\x20'+_0x44c169+':'+_0x51789c+':'+_0x3c167e;}async[a297_0x468556(0x1fd)](){const _0x1ba68b=a297_0x468556;if(this['messages'][_0x1ba68b(0x1e0)]){const _0x52c81f=await this[_0x1ba68b(0x1dc)](),_0x15fc63=await this[_0x1ba68b(0x1f4)](_0x52c81f),_0x345760=_0x15fc63['at'](0x0);if(_0x345760===null||_0x345760===void 0x0?void 0x0:_0x345760[_0x1ba68b(0x1e6)])this[_0x1ba68b(0x1e5)]=_0x345760['id'];else throw new Error(_0x1ba68b(0x202)+(_0x345760===null||_0x345760===void 0x0?void 0x0:_0x345760[_0x1ba68b(0x1f0)]));}}[a297_0x468556(0x1e4)](_0x364375){const _0x26c737=a297_0x468556;this[_0x26c737(0x1da)][_0x26c737(0x1e4)](_0x364375),this[_0x26c737(0x1e3)][_0x26c737(0x1fb)](this[_0x26c737(0x1f1)]()+'\x20[INFO]\x20'+_0x364375+'\x20\x0a');}[a297_0x468556(0x1f0)](_0x493422){const _0xac15ba=a297_0x468556;this[_0xac15ba(0x1da)][_0xac15ba(0x1f0)](_0x493422),this['messages'][_0xac15ba(0x1fb)](this[_0xac15ba(0x1f1)]()+_0xac15ba(0x1f5)+_0x493422+'\x20\x0a');}[a297_0x468556(0x1f8)](_0x536ea0){const _0x4a3bbf=a297_0x468556;this['systemLogger']['error'](_0x536ea0),this[_0x4a3bbf(0x1e3)][_0x4a3bbf(0x1fb)](this[_0x4a3bbf(0x1f1)]()+_0x4a3bbf(0x205)+_0x536ea0+'\x20\x0a');}}exports[a297_0x468556(0x1d9)]=Logger;