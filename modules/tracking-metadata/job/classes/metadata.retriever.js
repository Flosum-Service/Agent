function a314_0x590c(_0x8f688e,_0x3f4817){const _0x49ffd8=a314_0x22c1();return a314_0x590c=function(_0x341d9f,_0x1b51e2){_0x341d9f=_0x341d9f-0x1be;let _0x22c168=_0x49ffd8[_0x341d9f];return _0x22c168;},a314_0x590c(_0x8f688e,_0x3f4817);}const a314_0x599499=a314_0x590c;(function(_0x438d5a,_0xada29d){const _0x17e8ed=a314_0x590c,_0xa06d23=_0x438d5a();while(!![]){try{const _0x5ab7bd=-parseInt(_0x17e8ed(0x1c2))/0x1*(-parseInt(_0x17e8ed(0x1cc))/0x2)+-parseInt(_0x17e8ed(0x1d3))/0x3+-parseInt(_0x17e8ed(0x1d7))/0x4*(-parseInt(_0x17e8ed(0x1d2))/0x5)+parseInt(_0x17e8ed(0x1dc))/0x6+-parseInt(_0x17e8ed(0x1e0))/0x7*(parseInt(_0x17e8ed(0x1d6))/0x8)+parseInt(_0x17e8ed(0x1dd))/0x9*(-parseInt(_0x17e8ed(0x1df))/0xa)+parseInt(_0x17e8ed(0x1d8))/0xb*(-parseInt(_0x17e8ed(0x1ce))/0xc);if(_0x5ab7bd===_0xada29d)break;else _0xa06d23['push'](_0xa06d23['shift']());}catch(_0x554f92){_0xa06d23['push'](_0xa06d23['shift']());}}}(a314_0x22c1,0x61285));const a314_0x1b51e2=(function(){let _0x48119a=!![];return function(_0x1945c5,_0x57d94c){const _0x418afe=_0x48119a?function(){const _0x30c002=a314_0x590c;if(_0x57d94c){const _0x4d5a50=_0x57d94c[_0x30c002(0x1d1)](_0x1945c5,arguments);return _0x57d94c=null,_0x4d5a50;}}:function(){};return _0x48119a=![],_0x418afe;};}()),a314_0x341d9f=a314_0x1b51e2(this,function(){const _0xb86480=a314_0x590c;return a314_0x341d9f['toString']()['search'](_0xb86480(0x1ca))['toString']()[_0xb86480(0x1db)](a314_0x341d9f)[_0xb86480(0x1da)](_0xb86480(0x1ca));});a314_0x341d9f();'use strict';Object[a314_0x599499(0x1d5)](exports,a314_0x599499(0x1e3),{'value':!![]}),exports[a314_0x599499(0x1c5)]=void 0x0;function a314_0x22c1(){const _0x3fb39c=['206nXHQIe','update','36hxkJaN','stream','metadataId','apply','10rUarWg','730419Isjkue','metadataResult','defineProperty','18856cXBBjK','401332YQXNRx','1858901luVCYJ','handle','search','constructor','3168198becmaI','2781zclUxi','metadataTypes','5910ZYLGfs','168eGmsun','createDeclarativeFilter','_transform','__esModule','DeclarativeFilterOptions','push','LoggerAdapter','Transform','logger','./logger/logger.adapter','map','retrieveMetadata','6397CZLgZX','sourceMemberRecords','join','MetadataRetriever','api','components','metadataType','Retrieved\x20metadata\x20items\x20completed','(((.+)+)+)+$','instance'];a314_0x22c1=function(){return _0x3fb39c;};return a314_0x22c1();}const salesforce_1=require('@flosum/salesforce'),stream_1=require(a314_0x599499(0x1cf)),logger_adapter_1=require(a314_0x599499(0x1bf));class MetadataRetriever extends stream_1[a314_0x599499(0x1e7)]{constructor({apiVersion:_0x5acc3f,instance:_0x3829bb,metadataTypes:_0x5c5f10,logger:_0x21ad3a}){const _0xc95bda=a314_0x599499;super({'objectMode':!![]}),this[_0xc95bda(0x1c3)]=[],this[_0xc95bda(0x1c6)]=_0x5acc3f,this[_0xc95bda(0x1be)]=_0x21ad3a,this[_0xc95bda(0x1cb)]=_0x3829bb,this[_0xc95bda(0x1de)]=_0x5c5f10;}[a314_0x599499(0x1e1)](){const _0x48abf8=a314_0x599499,_0x3c05e1=this[_0x48abf8(0x1c3)][_0x48abf8(0x1c0)](_0x42b565=>_0x42b565['metadataId'])[_0x48abf8(0x1c4)](';'),_0x530f41=[];return _0x530f41[_0x48abf8(0x1e5)]({'field':'id','option':salesforce_1[_0x48abf8(0x1e4)]['IN'],'value':_0x3c05e1}),_0x530f41;}async['retrieveMetadata'](){const _0x4d8828=a314_0x599499,_0x3559b0=this[_0x4d8828(0x1e1)](),_0x58e584=new logger_adapter_1[(_0x4d8828(0x1e6))](this[_0x4d8828(0x1be)]);this[_0x4d8828(0x1d4)]=await new salesforce_1['PartialRetrieve'](this[_0x4d8828(0x1c6)],this['instance'],_0x58e584,_0x3559b0,null,this[_0x4d8828(0x1de)])['execute']();}async['handle'](){const _0xd65020=a314_0x599499;await this[_0xd65020(0x1c1)]();for(const _0x543567 of this['sourceMemberRecords']){const _0x977019=this[_0xd65020(0x1d4)]['items'][_0x543567[_0xd65020(0x1c8)]],_0x5499d1=_0x977019[_0xd65020(0x1c7)]['find'](_0x110a21=>_0x110a21['listMetadataItem']['id']===_0x543567[_0xd65020(0x1d0)]);if(!_0x5499d1)continue;const _0x265928={'sourceMemberRecord':_0x543567,'listMetadataItem':_0x5499d1['listMetadataItem'],'files':_0x5499d1['files']};this[_0xd65020(0x1e5)](_0x265928);}}async[a314_0x599499(0x1e2)](_0x139d02,_0x1190df,_0x2ab8a3){const _0x229782=a314_0x599499;try{this['sourceMemberRecords'][_0x229782(0x1e5)](_0x139d02),_0x2ab8a3();}catch(_0x39bac3){_0x2ab8a3(_0x39bac3);}}async['_flush'](_0xf926b1){const _0x107a49=a314_0x599499;try{this[_0x107a49(0x1c3)]['length']&&await this[_0x107a49(0x1d9)](),this[_0x107a49(0x1be)]['log'](_0x107a49(0x1c9)),await this[_0x107a49(0x1be)][_0x107a49(0x1cd)](),_0xf926b1();}catch(_0x5e1c41){_0xf926b1(_0x5e1c41);}}}exports[a314_0x599499(0x1c5)]=MetadataRetriever;