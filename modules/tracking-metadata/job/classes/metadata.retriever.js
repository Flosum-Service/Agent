const a315_0x42e21a=a315_0x1abb;function a315_0x1abb(_0x5b8baf,_0x589b4d){const _0x160236=a315_0x36f5();return a315_0x1abb=function(_0x432555,_0xea18af){_0x432555=_0x432555-0xf5;let _0x36f5a8=_0x160236[_0x432555];return _0x36f5a8;},a315_0x1abb(_0x5b8baf,_0x589b4d);}(function(_0x8433a0,_0x1630a0){const _0x4efc03=a315_0x1abb,_0x1ae96d=_0x8433a0();while(!![]){try{const _0x5551c6=-parseInt(_0x4efc03(0x101))/0x1+-parseInt(_0x4efc03(0x11e))/0x2*(parseInt(_0x4efc03(0xfd))/0x3)+parseInt(_0x4efc03(0xfe))/0x4+-parseInt(_0x4efc03(0x11f))/0x5+parseInt(_0x4efc03(0xfb))/0x6*(-parseInt(_0x4efc03(0x102))/0x7)+-parseInt(_0x4efc03(0x116))/0x8*(parseInt(_0x4efc03(0x115))/0x9)+-parseInt(_0x4efc03(0x118))/0xa*(-parseInt(_0x4efc03(0xf6))/0xb);if(_0x5551c6===_0x1630a0)break;else _0x1ae96d['push'](_0x1ae96d['shift']());}catch(_0x3f982f){_0x1ae96d['push'](_0x1ae96d['shift']());}}}(a315_0x36f5,0xa8d57));const a315_0xea18af=(function(){let _0x27bf8a=!![];return function(_0xd3873a,_0x333c44){const _0x33ba4d=_0x27bf8a?function(){const _0x3b41ed=a315_0x1abb;if(_0x333c44){const _0x3d7994=_0x333c44[_0x3b41ed(0x10c)](_0xd3873a,arguments);return _0x333c44=null,_0x3d7994;}}:function(){};return _0x27bf8a=![],_0x33ba4d;};}()),a315_0x432555=a315_0xea18af(this,function(){const _0x2794bc=a315_0x1abb;return a315_0x432555[_0x2794bc(0x108)]()[_0x2794bc(0x122)]('(((.+)+)+)+$')[_0x2794bc(0x108)]()[_0x2794bc(0x11a)](a315_0x432555)[_0x2794bc(0x122)](_0x2794bc(0x112));});a315_0x432555();'use strict';Object[a315_0x42e21a(0x104)](exports,a315_0x42e21a(0xf8),{'value':!![]}),exports['MetadataRetriever']=void 0x0;const salesforce_1=require('@flosum/salesforce'),stream_1=require(a315_0x42e21a(0xf7)),logger_adapter_1=require(a315_0x42e21a(0x100));function a315_0x36f5(){const _0x2fa7d0=['execute','585111mWqErA','4847312kheKqv','items','./logger/logger.adapter','240485pJILBB','42175oSCakM','api','defineProperty','metadataId','push','logger','toString','sourceMemberRecords','map','metadataResult','apply','log','join','update','retrieveMetadata','createDeclarativeFilter','(((.+)+)+)+$','PartialRetrieve','MetadataRetriever','2205783HQGnbj','32CtcyKH','listMetadataItem','16997960JqnIgj','LoggerAdapter','constructor','handle','instance','find','4VBtFtA','816620MnKVkf','metadataType','length','search','DeclarativeFilterOptions','11bexckz','stream','__esModule','Transform','metadataTypes','444VPILcA'];a315_0x36f5=function(){return _0x2fa7d0;};return a315_0x36f5();}class MetadataRetriever extends stream_1[a315_0x42e21a(0xf9)]{constructor({apiVersion:_0x57b984,instance:_0x5c557a,metadataTypes:_0x5b46c6,logger:_0x4cee0f}){const _0x1c8a59=a315_0x42e21a;super({'objectMode':!![]}),this[_0x1c8a59(0x109)]=[],this[_0x1c8a59(0x103)]=_0x57b984,this[_0x1c8a59(0x107)]=_0x4cee0f,this[_0x1c8a59(0x11c)]=_0x5c557a,this['metadataTypes']=_0x5b46c6;}['createDeclarativeFilter'](){const _0x37da18=a315_0x42e21a,_0x1f2376=this[_0x37da18(0x109)][_0x37da18(0x10a)](_0x3911b6=>_0x3911b6[_0x37da18(0x105)])[_0x37da18(0x10e)](';'),_0x3b8758=[];return _0x3b8758['push']({'field':'id','option':salesforce_1[_0x37da18(0xf5)]['IN'],'value':_0x1f2376}),_0x3b8758;}async['retrieveMetadata'](){const _0x5a74dc=a315_0x42e21a,_0x519d6a=this[_0x5a74dc(0x111)](),_0x103dd6=new logger_adapter_1[(_0x5a74dc(0x119))](this[_0x5a74dc(0x107)]);this[_0x5a74dc(0x10b)]=await new salesforce_1[(_0x5a74dc(0x113))](this[_0x5a74dc(0x103)],this[_0x5a74dc(0x11c)],_0x103dd6,_0x519d6a,null,this[_0x5a74dc(0xfa)])[_0x5a74dc(0xfc)]();}async[a315_0x42e21a(0x11b)](){const _0x18761b=a315_0x42e21a;await this[_0x18761b(0x110)]();for(const _0x548ef6 of this[_0x18761b(0x109)]){const _0x331477=this['metadataResult'][_0x18761b(0xff)][_0x548ef6[_0x18761b(0x120)]],_0x3ab850=_0x331477['components'][_0x18761b(0x11d)](_0xa40f9=>_0xa40f9[_0x18761b(0x117)]['id']===_0x548ef6[_0x18761b(0x105)]);if(!_0x3ab850)continue;const _0x5468e8={'sourceMemberRecord':_0x548ef6,'listMetadataItem':_0x3ab850[_0x18761b(0x117)],'files':_0x3ab850['files']};this[_0x18761b(0x106)](_0x5468e8);}}async['_transform'](_0xe02b6,_0x3f0b17,_0x211f30){const _0x93645f=a315_0x42e21a;try{this[_0x93645f(0x109)][_0x93645f(0x106)](_0xe02b6),_0x211f30();}catch(_0x3e2471){_0x211f30(_0x3e2471);}}async['_flush'](_0x558c09){const _0x567b2e=a315_0x42e21a;try{this[_0x567b2e(0x109)][_0x567b2e(0x121)]&&await this[_0x567b2e(0x11b)](),this['logger'][_0x567b2e(0x10d)]('Retrieved\x20metadata\x20items\x20completed'),await this[_0x567b2e(0x107)][_0x567b2e(0x10f)](),_0x558c09();}catch(_0x20131f){_0x558c09(_0x20131f);}}}exports[a315_0x42e21a(0x114)]=MetadataRetriever;