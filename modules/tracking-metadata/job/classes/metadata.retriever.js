const a299_0x4054f2=a299_0x36bf;(function(_0x48135e,_0x2b0e34){const _0x5d54d8=a299_0x36bf,_0x312959=_0x48135e();while(!![]){try{const _0x2a0881=parseInt(_0x5d54d8(0x11d))/0x1+-parseInt(_0x5d54d8(0x10b))/0x2*(-parseInt(_0x5d54d8(0x100))/0x3)+parseInt(_0x5d54d8(0x10a))/0x4+parseInt(_0x5d54d8(0x120))/0x5+parseInt(_0x5d54d8(0x118))/0x6*(parseInt(_0x5d54d8(0x116))/0x7)+-parseInt(_0x5d54d8(0x10d))/0x8+-parseInt(_0x5d54d8(0x125))/0x9;if(_0x2a0881===_0x2b0e34)break;else _0x312959['push'](_0x312959['shift']());}catch(_0x3ee321){_0x312959['push'](_0x312959['shift']());}}}(a299_0xb968,0x68c44));const a299_0x74e095=(function(){let _0x2e795b=!![];return function(_0x5b3d59,_0x3b2c91){const _0x439f12=_0x2e795b?function(){const _0x2ce570=a299_0x36bf;if(_0x3b2c91){const _0x165851=_0x3b2c91[_0x2ce570(0x11e)](_0x5b3d59,arguments);return _0x3b2c91=null,_0x165851;}}:function(){};return _0x2e795b=![],_0x439f12;};}()),a299_0x460bae=a299_0x74e095(this,function(){const _0x55fe03=a299_0x36bf;return a299_0x460bae[_0x55fe03(0x11f)]()[_0x55fe03(0x115)]('(((.+)+)+)+$')[_0x55fe03(0x11f)]()['constructor'](a299_0x460bae)['search'](_0x55fe03(0x124));});a299_0x460bae();function a299_0xb968(){const _0x81c8ff=['3808Urukuh','@flosum/salesforce','5946rYYzMN','__esModule','MetadataRetriever','listMetadataItem','LoggerAdapter','194212LSiSnY','apply','toString','2863585ZdcKNi','join','files','items','(((.+)+)+)+$','8899236thWJoG','Retrieved\x20metadata\x20items\x20completed','length','instance','map','87nuHgXN','find','metadataId','execute','update','metadataResult','./logger/logger.adapter','handle','sourceMemberRecords','stream','582468KwMFKQ','55330QpHdsN','defineProperty','6688056PorUux','createDeclarativeFilter','_flush','push','api','retrieveMetadata','logger','Transform','search'];a299_0xb968=function(){return _0x81c8ff;};return a299_0xb968();}'use strict';Object[a299_0x4054f2(0x10c)](exports,a299_0x4054f2(0x119),{'value':!![]}),exports[a299_0x4054f2(0x11a)]=void 0x0;const salesforce_1=require(a299_0x4054f2(0x117)),stream_1=require(a299_0x4054f2(0x109)),logger_adapter_1=require(a299_0x4054f2(0x106));class MetadataRetriever extends stream_1[a299_0x4054f2(0x114)]{constructor({apiVersion:_0x1e75ab,instance:_0x14a14d,metadataTypes:_0x53c7c3,logger:_0x5d1d14}){const _0x1c500b=a299_0x4054f2;super({'objectMode':!![]}),this[_0x1c500b(0x108)]=[],this[_0x1c500b(0x111)]=_0x1e75ab,this[_0x1c500b(0x113)]=_0x5d1d14,this[_0x1c500b(0xfe)]=_0x14a14d,this['metadataTypes']=_0x53c7c3;}['createDeclarativeFilter'](){const _0xc33fb4=a299_0x4054f2,_0xae3fe2=this[_0xc33fb4(0x108)][_0xc33fb4(0xff)](_0x28d2be=>_0x28d2be[_0xc33fb4(0x102)])[_0xc33fb4(0x121)](';'),_0x42bcab=[];return _0x42bcab[_0xc33fb4(0x110)]({'field':'id','option':salesforce_1['DeclarativeFilterOptions']['IN'],'value':_0xae3fe2}),_0x42bcab;}async[a299_0x4054f2(0x112)](){const _0x18edfe=a299_0x4054f2,_0x496152=this[_0x18edfe(0x10e)](),_0x259740=new logger_adapter_1[(_0x18edfe(0x11c))](this[_0x18edfe(0x113)]);this[_0x18edfe(0x105)]=await new salesforce_1['PartialRetrieve'](this[_0x18edfe(0x111)],this[_0x18edfe(0xfe)],_0x259740,_0x496152,null,this['metadataTypes'])[_0x18edfe(0x103)]();}async['handle'](){const _0x1b82c2=a299_0x4054f2;await this['retrieveMetadata']();for(const _0x6ecf20 of this['sourceMemberRecords']){const _0x5a3f69=this['metadataResult'][_0x1b82c2(0x123)][_0x6ecf20['metadataType']],_0x474bc9=_0x5a3f69['components'][_0x1b82c2(0x101)](_0x23fd15=>_0x23fd15[_0x1b82c2(0x11b)]['id']===_0x6ecf20[_0x1b82c2(0x102)]);if(!_0x474bc9)continue;const _0x228b13={'sourceMemberRecord':_0x6ecf20,'listMetadataItem':_0x474bc9[_0x1b82c2(0x11b)],'files':_0x474bc9[_0x1b82c2(0x122)]};this[_0x1b82c2(0x110)](_0x228b13);}}async['_transform'](_0xaf9250,_0x4936e5,_0x239faa){const _0x1d187b=a299_0x4054f2;try{this[_0x1d187b(0x108)][_0x1d187b(0x110)](_0xaf9250),_0x239faa();}catch(_0x1243e1){_0x239faa(_0x1243e1);}}async[a299_0x4054f2(0x10f)](_0x4a4142){const _0x4b1338=a299_0x4054f2;try{this[_0x4b1338(0x108)][_0x4b1338(0xfd)]&&await this[_0x4b1338(0x107)](),this[_0x4b1338(0x113)]['log'](_0x4b1338(0x126)),await this[_0x4b1338(0x113)][_0x4b1338(0x104)](),_0x4a4142();}catch(_0x54c0cb){_0x4a4142(_0x54c0cb);}}}function a299_0x36bf(_0x494167,_0x83bc82){const _0x1a0dfe=a299_0xb968();return a299_0x36bf=function(_0x460bae,_0x74e095){_0x460bae=_0x460bae-0xfd;let _0xb96843=_0x1a0dfe[_0x460bae];return _0xb96843;},a299_0x36bf(_0x494167,_0x83bc82);}exports[a299_0x4054f2(0x11a)]=MetadataRetriever;