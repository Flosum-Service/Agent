const a343_0x49ea20=a343_0x3ac1;(function(_0x348cb5,_0x54b79f){const _0x872fce=a343_0x3ac1,_0x2d198c=_0x348cb5();while(!![]){try{const _0x5bac16=-parseInt(_0x872fce(0x1bc))/0x1*(parseInt(_0x872fce(0x1d4))/0x2)+parseInt(_0x872fce(0x1cf))/0x3+-parseInt(_0x872fce(0x1ba))/0x4*(parseInt(_0x872fce(0x1d7))/0x5)+parseInt(_0x872fce(0x1b4))/0x6*(-parseInt(_0x872fce(0x1c8))/0x7)+-parseInt(_0x872fce(0x1d1))/0x8*(parseInt(_0x872fce(0x1c7))/0x9)+parseInt(_0x872fce(0x1cc))/0xa+parseInt(_0x872fce(0x1b6))/0xb;if(_0x5bac16===_0x54b79f)break;else _0x2d198c['push'](_0x2d198c['shift']());}catch(_0x4b2028){_0x2d198c['push'](_0x2d198c['shift']());}}}(a343_0x1572,0xd4929));const a343_0x2e69ca=(function(){let _0x2f3d13=!![];return function(_0x5bc903,_0x48bb4a){const _0x47f048=_0x2f3d13?function(){if(_0x48bb4a){const _0x1c44de=_0x48bb4a['apply'](_0x5bc903,arguments);return _0x48bb4a=null,_0x1c44de;}}:function(){};return _0x2f3d13=![],_0x47f048;};}()),a343_0x51ad3b=a343_0x2e69ca(this,function(){const _0x307639=a343_0x3ac1;return a343_0x51ad3b[_0x307639(0x1ab)]()['search'](_0x307639(0x1b8))['toString']()[_0x307639(0x1d3)](a343_0x51ad3b)[_0x307639(0x1c0)](_0x307639(0x1b8));});a343_0x51ad3b();'use strict';Object[a343_0x49ea20(0x1d8)](exports,a343_0x49ea20(0x1ce),{'value':!![]}),exports[a343_0x49ea20(0x1c4)]=void 0x0;function a343_0x1572(){const _0x3b5276=['metadataName','\x20was\x20not\x20retrieved.','MetadataRetriever','execute','_flush','9BrLNAg','28qdkMHJ','metadataResult','PartialRetrieve','instance','62940SZLoxb','handle','__esModule','2354706bZNCUL','metadataId','1397528ZPoxjG','files','constructor','32xNGwXY','logger','./logger/logger.adapter','106185jbMNBq','defineProperty','push','stream','DeclarativeFilterOptions','components','retrieveMetadata','toString','find','metadataType','items','update','sourceMemberRecords','_transform','api','map','922074wujEYj','join','30045103UfAgaA','Transform','(((.+)+)+)+$','length','116QtoUTe','LoggerAdapter','77912UxhloQ','listMetadataItem','metadataTypes','createDeclarativeFilter','search','Retrieved\x20metadata\x20items\x20completed'];a343_0x1572=function(){return _0x3b5276;};return a343_0x1572();}function a343_0x3ac1(_0x3d03e8,_0xfccb83){const _0x2e32be=a343_0x1572();return a343_0x3ac1=function(_0x51ad3b,_0x2e69ca){_0x51ad3b=_0x51ad3b-0x1a8;let _0x1572a0=_0x2e32be[_0x51ad3b];return _0x1572a0;},a343_0x3ac1(_0x3d03e8,_0xfccb83);}const salesforce_1=require('@flosum/salesforce'),stream_1=require(a343_0x49ea20(0x1da)),logger_adapter_1=require(a343_0x49ea20(0x1d6));class MetadataRetriever extends stream_1[a343_0x49ea20(0x1b7)]{constructor({apiVersion:_0x1dbe73,instance:_0x4fe100,metadataTypes:_0x43374f,logger:_0x428bd9}){const _0xefa357=a343_0x49ea20;super({'objectMode':!![]}),this[_0xefa357(0x1b0)]=[],this[_0xefa357(0x1b2)]=_0x1dbe73,this[_0xefa357(0x1d5)]=_0x428bd9,this[_0xefa357(0x1cb)]=_0x4fe100,this['metadataTypes']=_0x43374f;}['createDeclarativeFilter'](){const _0x561ce3=a343_0x49ea20,_0x46bf4b=this['sourceMemberRecords'][_0x561ce3(0x1b3)](_0x1b6133=>_0x1b6133[_0x561ce3(0x1d0)])[_0x561ce3(0x1b5)](';'),_0x423538=[];return _0x423538[_0x561ce3(0x1d9)]({'field':'id','option':salesforce_1[_0x561ce3(0x1a8)]['IN'],'value':_0x46bf4b}),_0x423538;}async['retrieveMetadata'](){const _0x113443=a343_0x49ea20,_0x577ed3=this[_0x113443(0x1bf)](),_0xeb821d=new logger_adapter_1[(_0x113443(0x1bb))](this[_0x113443(0x1d5)]);this[_0x113443(0x1c9)]=await new salesforce_1[(_0x113443(0x1ca))](this[_0x113443(0x1b2)],this['instance'],_0xeb821d,_0x577ed3,null,this[_0x113443(0x1be)])[_0x113443(0x1c5)]();}async[a343_0x49ea20(0x1cd)](){const _0x3dfb86=a343_0x49ea20;await this[_0x3dfb86(0x1aa)]();for(const _0x279877 of this[_0x3dfb86(0x1b0)]){const _0x2d3c66=this[_0x3dfb86(0x1c9)][_0x3dfb86(0x1ae)][_0x279877['metadataType']],_0x539101=_0x2d3c66===null||_0x2d3c66===void 0x0?void 0x0:_0x2d3c66[_0x3dfb86(0x1a9)][_0x3dfb86(0x1ac)](_0x2bab17=>_0x2bab17[_0x3dfb86(0x1bd)]['id']===_0x279877['metadataId']);if(!_0x539101){this[_0x3dfb86(0x1d5)]['log']('The\x20'+_0x279877[_0x3dfb86(0x1c2)]+'\x20'+_0x279877[_0x3dfb86(0x1ad)]+_0x3dfb86(0x1c3));continue;}const _0x572398={'sourceMemberRecord':_0x279877,'listMetadataItem':_0x539101['listMetadataItem'],'files':_0x539101[_0x3dfb86(0x1d2)]};this[_0x3dfb86(0x1d9)](_0x572398);}}async[a343_0x49ea20(0x1b1)](_0x14458c,_0x1bd232,_0x21b5da){const _0x19d239=a343_0x49ea20;try{this[_0x19d239(0x1b0)]['push'](_0x14458c),_0x21b5da();}catch(_0x40f8b4){_0x21b5da(_0x40f8b4);}}async[a343_0x49ea20(0x1c6)](_0x518544){const _0x1f5c55=a343_0x49ea20;try{this[_0x1f5c55(0x1b0)][_0x1f5c55(0x1b9)]&&await this[_0x1f5c55(0x1cd)](),this['logger']['log'](_0x1f5c55(0x1c1)),await this[_0x1f5c55(0x1d5)][_0x1f5c55(0x1af)](),_0x518544();}catch(_0x454424){_0x518544(_0x454424);}}}exports[a343_0x49ea20(0x1c4)]=MetadataRetriever;