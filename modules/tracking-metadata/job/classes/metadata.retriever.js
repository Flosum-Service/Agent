const a299_0x4dc134=a299_0x572b;(function(_0x1fdaf0,_0x9a4570){const _0x3152b0=a299_0x572b,_0x5534ed=_0x1fdaf0();while(!![]){try{const _0x4941ec=parseInt(_0x3152b0(0x10d))/0x1*(parseInt(_0x3152b0(0x106))/0x2)+-parseInt(_0x3152b0(0x100))/0x3*(parseInt(_0x3152b0(0x104))/0x4)+parseInt(_0x3152b0(0xec))/0x5*(-parseInt(_0x3152b0(0x101))/0x6)+-parseInt(_0x3152b0(0x108))/0x7*(-parseInt(_0x3152b0(0x10c))/0x8)+parseInt(_0x3152b0(0x10b))/0x9+-parseInt(_0x3152b0(0xe9))/0xa+-parseInt(_0x3152b0(0xe6))/0xb;if(_0x4941ec===_0x9a4570)break;else _0x5534ed['push'](_0x5534ed['shift']());}catch(_0x349d64){_0x5534ed['push'](_0x5534ed['shift']());}}}(a299_0x3532,0x232ba));const a299_0x1b122c=(function(){let _0x1c535b=!![];return function(_0x36cb8b,_0x6608fa){const _0x12b87c=_0x1c535b?function(){const _0x149920=a299_0x572b;if(_0x6608fa){const _0x1b4720=_0x6608fa[_0x149920(0xff)](_0x36cb8b,arguments);return _0x6608fa=null,_0x1b4720;}}:function(){};return _0x1c535b=![],_0x12b87c;};}()),a299_0x5e59e4=a299_0x1b122c(this,function(){const _0x17b85e=a299_0x572b;return a299_0x5e59e4['toString']()[_0x17b85e(0xf9)](_0x17b85e(0xe7))[_0x17b85e(0xf0)]()[_0x17b85e(0x107)](a299_0x5e59e4)['search'](_0x17b85e(0xe7));});a299_0x5e59e4();'use strict';Object[a299_0x4dc134(0x102)](exports,a299_0x4dc134(0xfb),{'value':!![]}),exports[a299_0x4dc134(0xe5)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),stream_1=require(a299_0x4dc134(0xfd)),logger_adapter_1=require(a299_0x4dc134(0xeb));class MetadataRetriever extends stream_1['Transform']{constructor({apiVersion:_0x53e0cb,instance:_0x30d6b0,metadataTypes:_0x59214f,logger:_0x3d4370}){const _0x492501=a299_0x4dc134;super({'objectMode':!![]}),this[_0x492501(0xea)]=[],this[_0x492501(0xef)]=_0x53e0cb,this[_0x492501(0xee)]=_0x3d4370,this[_0x492501(0x109)]=_0x30d6b0,this['metadataTypes']=_0x59214f;}['createDeclarativeFilter'](){const _0x30fdd2=a299_0x4dc134,_0x780dce=this['sourceMemberRecords']['map'](_0x4301bf=>_0x4301bf[_0x30fdd2(0xe8)])['join'](';'),_0x18b30f=[];return _0x18b30f['push']({'field':'id','option':salesforce_1['DeclarativeFilterOptions']['IN'],'value':_0x780dce}),_0x18b30f;}async[a299_0x4dc134(0xfa)](){const _0x8f1631=a299_0x4dc134,_0x49cf30=this[_0x8f1631(0xf1)](),_0x16dc0f=new logger_adapter_1[(_0x8f1631(0x103))](this[_0x8f1631(0xee)]);this['metadataResult']=await new salesforce_1[(_0x8f1631(0xf3))](this[_0x8f1631(0xef)],this[_0x8f1631(0x109)],_0x16dc0f,_0x49cf30,null,this[_0x8f1631(0xf6)])[_0x8f1631(0xf8)]();}async['handle'](){const _0x9a0b5d=a299_0x4dc134;await this['retrieveMetadata']();for(const _0x22dc7a of this[_0x9a0b5d(0xea)]){const _0x370bda=this['metadataResult']['items'][_0x22dc7a[_0x9a0b5d(0xf5)]],_0x3cbaa4=_0x370bda[_0x9a0b5d(0xfc)][_0x9a0b5d(0x10a)](_0x1348a5=>_0x1348a5[_0x9a0b5d(0xf2)]['id']===_0x22dc7a['metadataId']);if(!_0x3cbaa4)continue;const _0x3034eb={'sourceMemberRecord':_0x22dc7a,'listMetadataItem':_0x3cbaa4[_0x9a0b5d(0xf2)],'files':_0x3cbaa4[_0x9a0b5d(0xed)]};this[_0x9a0b5d(0xfe)](_0x3034eb);}}async[a299_0x4dc134(0xf4)](_0x160fcc,_0x4c7988,_0x1c0f7c){const _0x2e9c67=a299_0x4dc134;try{this[_0x2e9c67(0xea)]['push'](_0x160fcc),_0x1c0f7c();}catch(_0x4e02a4){_0x1c0f7c(_0x4e02a4);}}async['_flush'](_0x13d164){const _0x399e70=a299_0x4dc134;try{this[_0x399e70(0xea)][_0x399e70(0xf7)]&&await this[_0x399e70(0x105)](),this['logger']['log']('Retrieved\x20metadata\x20items\x20completed'),await this['logger']['update'](),_0x13d164();}catch(_0x44ead3){_0x13d164(_0x44ead3);}}}function a299_0x3532(){const _0x2c20ea=['push','apply','3EqJnEf','42EBwXCy','defineProperty','LoggerAdapter','48796pYSOZF','handle','2FtFTdr','constructor','1927429mfLMzN','instance','find','2260368JoQuWQ','8Nafchr','38390lprWkx','MetadataRetriever','1252570SVFKvY','(((.+)+)+)+$','metadataId','1333910iJgVtK','sourceMemberRecords','./logger/logger.adapter','115265yvsHzN','files','logger','api','toString','createDeclarativeFilter','listMetadataItem','PartialRetrieve','_transform','metadataType','metadataTypes','length','execute','search','retrieveMetadata','__esModule','components','stream'];a299_0x3532=function(){return _0x2c20ea;};return a299_0x3532();}function a299_0x572b(_0x385a92,_0x27af78){const _0x18681b=a299_0x3532();return a299_0x572b=function(_0x5e59e4,_0x1b122c){_0x5e59e4=_0x5e59e4-0xe5;let _0x353217=_0x18681b[_0x5e59e4];return _0x353217;},a299_0x572b(_0x385a92,_0x27af78);}exports['MetadataRetriever']=MetadataRetriever;