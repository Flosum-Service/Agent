const a344_0xa95e88=a344_0x1769;(function(_0x3d613d,_0x214a31){const _0xf5e7bb=a344_0x1769,_0x35c874=_0x3d613d();while(!![]){try{const _0x58a7b1=parseInt(_0xf5e7bb(0x9b))/0x1+parseInt(_0xf5e7bb(0x88))/0x2+-parseInt(_0xf5e7bb(0x90))/0x3*(-parseInt(_0xf5e7bb(0x8b))/0x4)+parseInt(_0xf5e7bb(0xb1))/0x5+-parseInt(_0xf5e7bb(0xa5))/0x6+parseInt(_0xf5e7bb(0x87))/0x7+-parseInt(_0xf5e7bb(0xab))/0x8*(parseInt(_0xf5e7bb(0x8e))/0x9);if(_0x58a7b1===_0x214a31)break;else _0x35c874['push'](_0x35c874['shift']());}catch(_0x1f6674){_0x35c874['push'](_0x35c874['shift']());}}}(a344_0x27c3,0xdf6a2));const a344_0x29af9f=(function(){let _0x2b106b=!![];return function(_0x610e80,_0x1f56c8){const _0x6b3fce=_0x2b106b?function(){const _0x25f394=a344_0x1769;if(_0x1f56c8){const _0x443440=_0x1f56c8[_0x25f394(0xa4)](_0x610e80,arguments);return _0x1f56c8=null,_0x443440;}}:function(){};return _0x2b106b=![],_0x6b3fce;};}()),a344_0x42b100=a344_0x29af9f(this,function(){const _0x4cfc29=a344_0x1769;return a344_0x42b100[_0x4cfc29(0x8c)]()[_0x4cfc29(0xad)](_0x4cfc29(0x98))['toString']()['constructor'](a344_0x42b100)[_0x4cfc29(0xad)](_0x4cfc29(0x98));});a344_0x42b100();'use strict';Object[a344_0xa95e88(0x97)](exports,a344_0xa95e88(0x8d),{'value':!![]}),exports[a344_0xa95e88(0x95)]=void 0x0;const salesforce_1=require(a344_0xa95e88(0x89)),stream_1=require(a344_0xa95e88(0xa0)),logger_adapter_1=require('./logger/logger.adapter');function a344_0x27c3(){const _0x10dd67=['sourceMemberRecords','components','metadataResult','MetadataRetriever','map','defineProperty','(((.+)+)+)+$','instance','retrieveMetadata','1714282EWAdtv','createDeclarativeFilter','\x20was\x20not\x20retrieved.','The\x20','Transform','stream','log','metadataType','metadataTypes','apply','10349328kBDPBL','logger','_flush','find','LoggerAdapter','PartialRetrieve','8VxrxJp','metadataName','search','handle','push','join','3731275DFGsMM','_transform','9165121ZMwmZw','2087794ehMYcE','@flosum/salesforce','api','4vUxzwP','toString','__esModule','21011274gcRKwR','metadataId','482529Jtjjjy','items'];a344_0x27c3=function(){return _0x10dd67;};return a344_0x27c3();}function a344_0x1769(_0x2f2c93,_0x51699d){const _0x2f443e=a344_0x27c3();return a344_0x1769=function(_0x42b100,_0x29af9f){_0x42b100=_0x42b100-0x87;let _0x27c3c9=_0x2f443e[_0x42b100];return _0x27c3c9;},a344_0x1769(_0x2f2c93,_0x51699d);}class MetadataRetriever extends stream_1[a344_0xa95e88(0x9f)]{constructor({apiVersion:_0x1a75c4,instance:_0x1c1e55,metadataTypes:_0x13281a,logger:_0x2fe320}){const _0x3311d4=a344_0xa95e88;super({'objectMode':!![]}),this[_0x3311d4(0x92)]=[],this[_0x3311d4(0x8a)]=_0x1a75c4,this[_0x3311d4(0xa6)]=_0x2fe320,this['instance']=_0x1c1e55,this[_0x3311d4(0xa3)]=_0x13281a;}['createDeclarativeFilter'](){const _0x3da196=a344_0xa95e88,_0x358a82=this['sourceMemberRecords'][_0x3da196(0x96)](_0x593146=>_0x593146[_0x3da196(0x8f)])[_0x3da196(0xb0)](';'),_0x1035f6=[];return _0x1035f6[_0x3da196(0xaf)]({'field':'id','option':salesforce_1['DeclarativeFilterOptions']['IN'],'value':_0x358a82}),_0x1035f6;}async[a344_0xa95e88(0x9a)](){const _0x245aac=a344_0xa95e88,_0x208cb3=this[_0x245aac(0x9c)](),_0x5b4dc4=new logger_adapter_1[(_0x245aac(0xa9))](this[_0x245aac(0xa6)]);this[_0x245aac(0x94)]=await new salesforce_1[(_0x245aac(0xaa))](this[_0x245aac(0x8a)],this[_0x245aac(0x99)],_0x5b4dc4,_0x208cb3,null,this['metadataTypes'])['execute']();}async[a344_0xa95e88(0xae)](){const _0x284289=a344_0xa95e88;await this[_0x284289(0x9a)]();for(const _0x21110a of this[_0x284289(0x92)]){const _0x449734=this[_0x284289(0x94)][_0x284289(0x91)][_0x21110a[_0x284289(0xa2)]],_0x19c803=_0x449734===null||_0x449734===void 0x0?void 0x0:_0x449734[_0x284289(0x93)][_0x284289(0xa8)](_0x511ac8=>_0x511ac8['listMetadataItem']['id']===_0x21110a[_0x284289(0x8f)]);if(!_0x19c803){this[_0x284289(0xa6)][_0x284289(0xa1)](_0x284289(0x9e)+_0x21110a[_0x284289(0xac)]+'\x20'+_0x21110a[_0x284289(0xa2)]+_0x284289(0x9d));continue;}const _0x36fa56={'sourceMemberRecord':_0x21110a,'listMetadataItem':_0x19c803['listMetadataItem'],'files':_0x19c803['files']};this[_0x284289(0xaf)](_0x36fa56);}}async[a344_0xa95e88(0xb2)](_0x40f486,_0x20cb0a,_0x3f6c71){const _0x51af7a=a344_0xa95e88;try{this[_0x51af7a(0x92)][_0x51af7a(0xaf)](_0x40f486),_0x3f6c71();}catch(_0x1323f7){_0x3f6c71(_0x1323f7);}}async[a344_0xa95e88(0xa7)](_0x40fa58){const _0x56f9d3=a344_0xa95e88;try{this[_0x56f9d3(0x92)]['length']&&await this[_0x56f9d3(0xae)](),this[_0x56f9d3(0xa6)][_0x56f9d3(0xa1)]('Retrieved\x20metadata\x20items\x20completed'),await this[_0x56f9d3(0xa6)]['update'](),_0x40fa58();}catch(_0x4d6b86){_0x40fa58(_0x4d6b86);}}}exports[a344_0xa95e88(0x95)]=MetadataRetriever;