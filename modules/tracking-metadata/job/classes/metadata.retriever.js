const a299_0x580a76=a299_0x4951;(function(_0x1582d5,_0x1a5649){const _0x43074d=a299_0x4951,_0x55d96c=_0x1582d5();while(!![]){try{const _0x3e0353=parseInt(_0x43074d(0x99))/0x1*(-parseInt(_0x43074d(0x8c))/0x2)+-parseInt(_0x43074d(0x94))/0x3*(parseInt(_0x43074d(0xa4))/0x4)+-parseInt(_0x43074d(0x8f))/0x5+-parseInt(_0x43074d(0x9a))/0x6+-parseInt(_0x43074d(0x95))/0x7*(parseInt(_0x43074d(0x85))/0x8)+-parseInt(_0x43074d(0x9e))/0x9+parseInt(_0x43074d(0xa1))/0xa;if(_0x3e0353===_0x1a5649)break;else _0x55d96c['push'](_0x55d96c['shift']());}catch(_0xcb17d9){_0x55d96c['push'](_0x55d96c['shift']());}}}(a299_0x536a,0xb1f54));function a299_0x536a(){const _0x59738c=['4334739GavYvx','86422GNXzWK','execute','metadataTypes','_transform','200657cXprba','6521292oKetrY','apply','sourceMemberRecords','metadataResult','8598033LEmnYm','(((.+)+)+)+$','map','63603310YriPMT','instance','constructor','4xYMzYc','metadataId','length','LoggerAdapter','toString','@flosum/salesforce','DeclarativeFilterOptions','./logger/logger.adapter','Transform','files','update','stream','__esModule','handle','retrieveMetadata','logger','936xJLlVX','defineProperty','items','_flush','createDeclarativeFilter','PartialRetrieve','metadataType','2OsBfUn','search','push','2495720ewHotw','api','find','MetadataRetriever','listMetadataItem'];a299_0x536a=function(){return _0x59738c;};return a299_0x536a();}const a299_0x5bb338=(function(){let _0x58e9d0=!![];return function(_0x3906c6,_0x6ede8d){const _0x5f2722=_0x58e9d0?function(){const _0x2b36c0=a299_0x4951;if(_0x6ede8d){const _0x81ba73=_0x6ede8d[_0x2b36c0(0x9b)](_0x3906c6,arguments);return _0x6ede8d=null,_0x81ba73;}}:function(){};return _0x58e9d0=![],_0x5f2722;};}()),a299_0x269b88=a299_0x5bb338(this,function(){const _0x2a003a=a299_0x4951;return a299_0x269b88[_0x2a003a(0xa8)]()[_0x2a003a(0x8d)](_0x2a003a(0x9f))[_0x2a003a(0xa8)]()[_0x2a003a(0xa3)](a299_0x269b88)[_0x2a003a(0x8d)](_0x2a003a(0x9f));});a299_0x269b88();'use strict';Object[a299_0x580a76(0x86)](exports,a299_0x580a76(0xb0),{'value':!![]}),exports['MetadataRetriever']=void 0x0;function a299_0x4951(_0x29924e,_0x573db4){const _0x13940d=a299_0x536a();return a299_0x4951=function(_0x269b88,_0x5bb338){_0x269b88=_0x269b88-0x85;let _0x536a3a=_0x13940d[_0x269b88];return _0x536a3a;},a299_0x4951(_0x29924e,_0x573db4);}const salesforce_1=require(a299_0x580a76(0xa9)),stream_1=require(a299_0x580a76(0xaf)),logger_adapter_1=require(a299_0x580a76(0xab));class MetadataRetriever extends stream_1[a299_0x580a76(0xac)]{constructor({apiVersion:_0x28d0c8,instance:_0x227113,metadataTypes:_0x4785a2,logger:_0x4bec6b}){const _0xecf044=a299_0x580a76;super({'objectMode':!![]}),this[_0xecf044(0x9c)]=[],this[_0xecf044(0x90)]=_0x28d0c8,this[_0xecf044(0xb3)]=_0x4bec6b,this['instance']=_0x227113,this[_0xecf044(0x97)]=_0x4785a2;}[a299_0x580a76(0x89)](){const _0x4aca3b=a299_0x580a76,_0x146437=this['sourceMemberRecords'][_0x4aca3b(0xa0)](_0x18bb92=>_0x18bb92[_0x4aca3b(0xa5)])['join'](';'),_0x14e6a1=[];return _0x14e6a1[_0x4aca3b(0x8e)]({'field':'id','option':salesforce_1[_0x4aca3b(0xaa)]['IN'],'value':_0x146437}),_0x14e6a1;}async[a299_0x580a76(0xb2)](){const _0x31ea71=a299_0x580a76,_0x4b2286=this[_0x31ea71(0x89)](),_0x3e1690=new logger_adapter_1[(_0x31ea71(0xa7))](this[_0x31ea71(0xb3)]);this[_0x31ea71(0x9d)]=await new salesforce_1[(_0x31ea71(0x8a))](this['api'],this[_0x31ea71(0xa2)],_0x3e1690,_0x4b2286,null,this[_0x31ea71(0x97)])[_0x31ea71(0x96)]();}async[a299_0x580a76(0xb1)](){const _0x1891f5=a299_0x580a76;await this[_0x1891f5(0xb2)]();for(const _0x53323a of this[_0x1891f5(0x9c)]){const _0x1bb1f7=this[_0x1891f5(0x9d)][_0x1891f5(0x87)][_0x53323a[_0x1891f5(0x8b)]],_0x32eb77=_0x1bb1f7['components'][_0x1891f5(0x91)](_0x300cda=>_0x300cda[_0x1891f5(0x93)]['id']===_0x53323a[_0x1891f5(0xa5)]);if(!_0x32eb77)continue;const _0x1704d9={'sourceMemberRecord':_0x53323a,'listMetadataItem':_0x32eb77[_0x1891f5(0x93)],'files':_0x32eb77[_0x1891f5(0xad)]};this[_0x1891f5(0x8e)](_0x1704d9);}}async[a299_0x580a76(0x98)](_0x2da46e,_0x5c88c2,_0x557835){const _0x347e56=a299_0x580a76;try{this[_0x347e56(0x9c)][_0x347e56(0x8e)](_0x2da46e),_0x557835();}catch(_0x5d26fa){_0x557835(_0x5d26fa);}}async[a299_0x580a76(0x88)](_0x1d3b31){const _0x206d07=a299_0x580a76;try{this[_0x206d07(0x9c)][_0x206d07(0xa6)]&&await this[_0x206d07(0xb1)](),this[_0x206d07(0xb3)]['log']('Retrieved\x20metadata\x20items\x20completed'),await this[_0x206d07(0xb3)][_0x206d07(0xae)](),_0x1d3b31();}catch(_0x5bbc1c){_0x1d3b31(_0x5bbc1c);}}}exports[a299_0x580a76(0x92)]=MetadataRetriever;