const a344_0x3a4e81=a344_0x26e6;(function(_0x24e04c,_0xc7e1e2){const _0x5d2be7=a344_0x26e6,_0x3a11dc=_0x24e04c();while(!![]){try{const _0x5201a7=-parseInt(_0x5d2be7(0xc5))/0x1+-parseInt(_0x5d2be7(0xd6))/0x2*(parseInt(_0x5d2be7(0xc7))/0x3)+parseInt(_0x5d2be7(0xc9))/0x4+parseInt(_0x5d2be7(0xde))/0x5*(-parseInt(_0x5d2be7(0xee))/0x6)+-parseInt(_0x5d2be7(0xe4))/0x7*(-parseInt(_0x5d2be7(0xd3))/0x8)+parseInt(_0x5d2be7(0xe1))/0x9*(parseInt(_0x5d2be7(0xd4))/0xa)+parseInt(_0x5d2be7(0xe3))/0xb;if(_0x5201a7===_0xc7e1e2)break;else _0x3a11dc['push'](_0x3a11dc['shift']());}catch(_0x303a86){_0x3a11dc['push'](_0x3a11dc['shift']());}}}(a344_0x36f1,0x3b57c));const a344_0x1ccfa5=(function(){let _0x63c644=!![];return function(_0x5b3242,_0x155744){const _0x14f1b8=_0x63c644?function(){const _0x573ee7=a344_0x26e6;if(_0x155744){const _0x1a273c=_0x155744[_0x573ee7(0xcb)](_0x5b3242,arguments);return _0x155744=null,_0x1a273c;}}:function(){};return _0x63c644=![],_0x14f1b8;};}()),a344_0x44f0dc=a344_0x1ccfa5(this,function(){const _0x380061=a344_0x26e6;return a344_0x44f0dc[_0x380061(0xd9)]()[_0x380061(0xe5)]('(((.+)+)+)+$')['toString']()[_0x380061(0xf0)](a344_0x44f0dc)['search'](_0x380061(0xea));});a344_0x44f0dc();function a344_0x36f1(){const _0x545f8a=['1716132hHbeOK','instance','apply','listMetadataItem','api','join','createDeclarativeFilter','update','length','metadataId','1832mzfMwa','1110ndmEvg','stream','3244wDawSE','The\x20','push','toString','@flosum/salesforce','DeclarativeFilterOptions','execute','Transform','1725370aWUYkC','MetadataRetriever','metadataResult','30501jfqSvv','logger','4212131ScBNCo','602aiUpjM','search','LoggerAdapter','items','handle','Retrieved\x20metadata\x20items\x20completed','(((.+)+)+)+$','PartialRetrieve','metadataType','metadataTypes','6EMHJtR','log','constructor','retrieveMetadata','_flush','find','sourceMemberRecords','480193PpicQh','_transform','258nwcXPA','metadataName'];a344_0x36f1=function(){return _0x545f8a;};return a344_0x36f1();}'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a344_0x3a4e81(0xdf)]=void 0x0;const salesforce_1=require(a344_0x3a4e81(0xda)),stream_1=require(a344_0x3a4e81(0xd5)),logger_adapter_1=require('./logger/logger.adapter');function a344_0x26e6(_0x273ece,_0x19970e){const _0x325483=a344_0x36f1();return a344_0x26e6=function(_0x44f0dc,_0x1ccfa5){_0x44f0dc=_0x44f0dc-0xc3;let _0x36f102=_0x325483[_0x44f0dc];return _0x36f102;},a344_0x26e6(_0x273ece,_0x19970e);}class MetadataRetriever extends stream_1[a344_0x3a4e81(0xdd)]{constructor({apiVersion:_0x5ac7f1,instance:_0x5474ec,metadataTypes:_0x3219e5,logger:_0x27b490}){const _0x14cf76=a344_0x3a4e81;super({'objectMode':!![]}),this[_0x14cf76(0xc4)]=[],this[_0x14cf76(0xcd)]=_0x5ac7f1,this['logger']=_0x27b490,this[_0x14cf76(0xca)]=_0x5474ec,this['metadataTypes']=_0x3219e5;}[a344_0x3a4e81(0xcf)](){const _0x13a469=a344_0x3a4e81,_0x5cd3e8=this[_0x13a469(0xc4)]['map'](_0xf3bc1c=>_0xf3bc1c['metadataId'])[_0x13a469(0xce)](';'),_0x159b33=[];return _0x159b33['push']({'field':'id','option':salesforce_1[_0x13a469(0xdb)]['IN'],'value':_0x5cd3e8}),_0x159b33;}async['retrieveMetadata'](){const _0x1441f4=a344_0x3a4e81,_0x3544c2=this[_0x1441f4(0xcf)](),_0x5e11d3=new logger_adapter_1[(_0x1441f4(0xe6))](this[_0x1441f4(0xe2)]);this[_0x1441f4(0xe0)]=await new salesforce_1[(_0x1441f4(0xeb))](this[_0x1441f4(0xcd)],this['instance'],_0x5e11d3,_0x3544c2,null,this[_0x1441f4(0xed)])[_0x1441f4(0xdc)]();}async[a344_0x3a4e81(0xe8)](){const _0x55218b=a344_0x3a4e81;await this[_0x55218b(0xf1)]();for(const _0x1daf05 of this['sourceMemberRecords']){const _0x10082d=this[_0x55218b(0xe0)][_0x55218b(0xe7)][_0x1daf05[_0x55218b(0xec)]],_0xb76588=_0x10082d===null||_0x10082d===void 0x0?void 0x0:_0x10082d['components'][_0x55218b(0xc3)](_0x322b98=>_0x322b98[_0x55218b(0xcc)]['id']===_0x1daf05[_0x55218b(0xd2)]);if(!_0xb76588){this[_0x55218b(0xe2)][_0x55218b(0xef)](_0x55218b(0xd7)+_0x1daf05[_0x55218b(0xc8)]+'\x20'+_0x1daf05[_0x55218b(0xec)]+'\x20was\x20not\x20retrieved.');continue;}const _0x1b4910={'sourceMemberRecord':_0x1daf05,'listMetadataItem':_0xb76588[_0x55218b(0xcc)],'files':_0xb76588['files']};this[_0x55218b(0xd8)](_0x1b4910);}}async[a344_0x3a4e81(0xc6)](_0x4e187e,_0x2955fc,_0x16c541){const _0x15c372=a344_0x3a4e81;try{this[_0x15c372(0xc4)]['push'](_0x4e187e),_0x16c541();}catch(_0x476dae){_0x16c541(_0x476dae);}}async[a344_0x3a4e81(0xf2)](_0x307d19){const _0x1fba5d=a344_0x3a4e81;try{this['sourceMemberRecords'][_0x1fba5d(0xd1)]&&await this[_0x1fba5d(0xe8)](),this[_0x1fba5d(0xe2)]['log'](_0x1fba5d(0xe9)),await this[_0x1fba5d(0xe2)][_0x1fba5d(0xd0)](),_0x307d19();}catch(_0x20fa0c){_0x307d19(_0x20fa0c);}}}exports[a344_0x3a4e81(0xdf)]=MetadataRetriever;