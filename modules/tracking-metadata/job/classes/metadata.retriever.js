const a299_0x4151e4=a299_0x15de;(function(_0x1588f8,_0x223474){const _0x5b3e7c=a299_0x15de,_0x37b263=_0x1588f8();while(!![]){try{const _0x43a155=parseInt(_0x5b3e7c(0x107))/0x1*(-parseInt(_0x5b3e7c(0xff))/0x2)+-parseInt(_0x5b3e7c(0xf8))/0x3+-parseInt(_0x5b3e7c(0x104))/0x4+parseInt(_0x5b3e7c(0x106))/0x5*(-parseInt(_0x5b3e7c(0xe7))/0x6)+-parseInt(_0x5b3e7c(0xf6))/0x7+parseInt(_0x5b3e7c(0x10a))/0x8*(parseInt(_0x5b3e7c(0xee))/0x9)+parseInt(_0x5b3e7c(0xf4))/0xa;if(_0x43a155===_0x223474)break;else _0x37b263['push'](_0x37b263['shift']());}catch(_0x1a6ee2){_0x37b263['push'](_0x37b263['shift']());}}}(a299_0x1843,0xf039b));function a299_0x1843(){const _0x282c2b=['__esModule','createDeclarativeFilter','418iOXrgg','constructor','MetadataRetriever','LoggerAdapter','toString','6191712ClAFdF','map','2396330DGjoBU','5107mfvWwk','push','DeclarativeFilterOptions','7633064suFpSp','items','listMetadataItem','logger','metadataResult','_transform','6aQAEQH','retrieveMetadata','components','defineProperty','metadataId','Retrieved\x20metadata\x20items\x20completed','log','9tHizQY','files','api','instance','(((.+)+)+)+$','sourceMemberRecords','46409070xOsUkH','execute','5612173erExXP','Transform','2144343rfcert','find','PartialRetrieve','@flosum/salesforce','length'];a299_0x1843=function(){return _0x282c2b;};return a299_0x1843();}const a299_0x1fe59b=(function(){let _0x1188ae=!![];return function(_0x2725d4,_0x56d205){const _0x298751=_0x1188ae?function(){if(_0x56d205){const _0x5576bd=_0x56d205['apply'](_0x2725d4,arguments);return _0x56d205=null,_0x5576bd;}}:function(){};return _0x1188ae=![],_0x298751;};}()),a299_0x574307=a299_0x1fe59b(this,function(){const _0xd272df=a299_0x15de;return a299_0x574307[_0xd272df(0x103)]()['search'](_0xd272df(0xf2))['toString']()[_0xd272df(0x100)](a299_0x574307)['search'](_0xd272df(0xf2));});function a299_0x15de(_0x16bdb4,_0x38c591){const _0x3ae729=a299_0x1843();return a299_0x15de=function(_0x574307,_0x1fe59b){_0x574307=_0x574307-0xe7;let _0x184329=_0x3ae729[_0x574307];return _0x184329;},a299_0x15de(_0x16bdb4,_0x38c591);}a299_0x574307();'use strict';Object[a299_0x4151e4(0xea)](exports,a299_0x4151e4(0xfd),{'value':!![]}),exports[a299_0x4151e4(0x101)]=void 0x0;const salesforce_1=require(a299_0x4151e4(0xfb)),stream_1=require('stream'),logger_adapter_1=require('./logger/logger.adapter');class MetadataRetriever extends stream_1[a299_0x4151e4(0xf7)]{constructor({apiVersion:_0x266a66,instance:_0x3996a3,metadataTypes:_0x487e61,logger:_0x17d178}){const _0x14fe67=a299_0x4151e4;super({'objectMode':!![]}),this[_0x14fe67(0xf3)]=[],this['api']=_0x266a66,this['logger']=_0x17d178,this['instance']=_0x3996a3,this['metadataTypes']=_0x487e61;}[a299_0x4151e4(0xfe)](){const _0x4a2f7f=a299_0x4151e4,_0x1e83ab=this[_0x4a2f7f(0xf3)][_0x4a2f7f(0x105)](_0x3a4df7=>_0x3a4df7[_0x4a2f7f(0xeb)])['join'](';'),_0x1c7279=[];return _0x1c7279[_0x4a2f7f(0x108)]({'field':'id','option':salesforce_1[_0x4a2f7f(0x109)]['IN'],'value':_0x1e83ab}),_0x1c7279;}async[a299_0x4151e4(0xe8)](){const _0x4e4660=a299_0x4151e4,_0x3d4ed3=this[_0x4e4660(0xfe)](),_0x173be0=new logger_adapter_1[(_0x4e4660(0x102))](this[_0x4e4660(0x10d)]);this[_0x4e4660(0x10e)]=await new salesforce_1[(_0x4e4660(0xfa))](this[_0x4e4660(0xf0)],this[_0x4e4660(0xf1)],_0x173be0,_0x3d4ed3,null,this['metadataTypes'])[_0x4e4660(0xf5)]();}async['handle'](){const _0x2e62b8=a299_0x4151e4;await this['retrieveMetadata']();for(const _0x127fc1 of this['sourceMemberRecords']){const _0x14cb13=this['metadataResult'][_0x2e62b8(0x10b)][_0x127fc1['metadataType']],_0x577624=_0x14cb13[_0x2e62b8(0xe9)][_0x2e62b8(0xf9)](_0x504373=>_0x504373[_0x2e62b8(0x10c)]['id']===_0x127fc1['metadataId']);if(!_0x577624)continue;const _0x595281={'sourceMemberRecord':_0x127fc1,'listMetadataItem':_0x577624['listMetadataItem'],'files':_0x577624[_0x2e62b8(0xef)]};this[_0x2e62b8(0x108)](_0x595281);}}async[a299_0x4151e4(0x10f)](_0x8e18e8,_0x149104,_0x3df846){const _0x41d7a0=a299_0x4151e4;try{this[_0x41d7a0(0xf3)]['push'](_0x8e18e8),_0x3df846();}catch(_0x10c8e1){_0x3df846(_0x10c8e1);}}async['_flush'](_0xd06c62){const _0x15b542=a299_0x4151e4;try{this['sourceMemberRecords'][_0x15b542(0xfc)]&&await this['handle'](),this[_0x15b542(0x10d)][_0x15b542(0xed)](_0x15b542(0xec)),await this[_0x15b542(0x10d)]['update'](),_0xd06c62();}catch(_0x5cd914){_0xd06c62(_0x5cd914);}}}exports[a299_0x4151e4(0x101)]=MetadataRetriever;