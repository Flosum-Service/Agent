function a342_0x491b(_0x356fac,_0x56562c){const _0x18a21d=a342_0xb5ed();return a342_0x491b=function(_0x516b32,_0x45af42){_0x516b32=_0x516b32-0x13a;let _0xb5edd8=_0x18a21d[_0x516b32];return _0xb5edd8;},a342_0x491b(_0x356fac,_0x56562c);}const a342_0xbd2dca=a342_0x491b;(function(_0x45600d,_0x59fb43){const _0x151b62=a342_0x491b,_0x8942c0=_0x45600d();while(!![]){try{const _0x2760d8=-parseInt(_0x151b62(0x163))/0x1+-parseInt(_0x151b62(0x15d))/0x2*(parseInt(_0x151b62(0x169))/0x3)+parseInt(_0x151b62(0x15f))/0x4*(-parseInt(_0x151b62(0x164))/0x5)+-parseInt(_0x151b62(0x14e))/0x6*(-parseInt(_0x151b62(0x166))/0x7)+-parseInt(_0x151b62(0x15a))/0x8*(-parseInt(_0x151b62(0x15b))/0x9)+-parseInt(_0x151b62(0x14f))/0xa*(-parseInt(_0x151b62(0x167))/0xb)+parseInt(_0x151b62(0x142))/0xc*(parseInt(_0x151b62(0x14c))/0xd);if(_0x2760d8===_0x59fb43)break;else _0x8942c0['push'](_0x8942c0['shift']());}catch(_0x364119){_0x8942c0['push'](_0x8942c0['shift']());}}}(a342_0xb5ed,0x8c659));const a342_0x45af42=(function(){let _0x1776ed=!![];return function(_0x2601d4,_0x343a38){const _0x145798=_0x1776ed?function(){const _0x25fc92=a342_0x491b;if(_0x343a38){const _0x3e7a92=_0x343a38[_0x25fc92(0x13f)](_0x2601d4,arguments);return _0x343a38=null,_0x3e7a92;}}:function(){};return _0x1776ed=![],_0x145798;};}()),a342_0x516b32=a342_0x45af42(this,function(){const _0x26f79c=a342_0x491b;return a342_0x516b32['toString']()[_0x26f79c(0x143)](_0x26f79c(0x155))[_0x26f79c(0x148)]()['constructor'](a342_0x516b32)[_0x26f79c(0x143)](_0x26f79c(0x155));});a342_0x516b32();'use strict';Object['defineProperty'](exports,a342_0xbd2dca(0x146),{'value':!![]}),exports[a342_0xbd2dca(0x14b)]=void 0x0;const salesforce_1=require(a342_0xbd2dca(0x159)),stream_1=require(a342_0xbd2dca(0x13e)),logger_adapter_1=require(a342_0xbd2dca(0x13b));class MetadataRetriever extends stream_1['Transform']{constructor({apiVersion:_0x28b4f6,instance:_0xf19a57,metadataTypes:_0x90c4cb,logger:_0x2ef5b9}){const _0x7dd3ee=a342_0xbd2dca;super({'objectMode':!![]}),this[_0x7dd3ee(0x13d)]=[],this['api']=_0x28b4f6,this[_0x7dd3ee(0x151)]=_0x2ef5b9,this['instance']=_0xf19a57,this['metadataTypes']=_0x90c4cb;}[a342_0xbd2dca(0x157)](){const _0x53c9fb=a342_0xbd2dca,_0x1bde31=this[_0x53c9fb(0x13d)][_0x53c9fb(0x165)](_0x6c9fe1=>_0x6c9fe1[_0x53c9fb(0x149)])[_0x53c9fb(0x156)](';'),_0x3f8c77=[];return _0x3f8c77[_0x53c9fb(0x161)]({'field':'id','option':salesforce_1[_0x53c9fb(0x158)]['IN'],'value':_0x1bde31}),_0x3f8c77;}async['retrieveMetadata'](){const _0x31ef20=a342_0xbd2dca,_0xbbe59d=this[_0x31ef20(0x157)](),_0x4b3d29=new logger_adapter_1[(_0x31ef20(0x13c))](this[_0x31ef20(0x151)]);this[_0x31ef20(0x15c)]=await new salesforce_1[(_0x31ef20(0x147))](this[_0x31ef20(0x150)],this['instance'],_0x4b3d29,_0xbbe59d,null,this[_0x31ef20(0x14a)])[_0x31ef20(0x152)]();}async[a342_0xbd2dca(0x15e)](){const _0x915fb1=a342_0xbd2dca;await this[_0x915fb1(0x162)]();for(const _0x2634d3 of this[_0x915fb1(0x13d)]){const _0x451e8a=this[_0x915fb1(0x15c)]['items'][_0x2634d3[_0x915fb1(0x160)]],_0x184999=_0x451e8a[_0x915fb1(0x145)][_0x915fb1(0x154)](_0x5afe55=>_0x5afe55['listMetadataItem']['id']===_0x2634d3[_0x915fb1(0x149)]);if(!_0x184999)continue;const _0x2dec2f={'sourceMemberRecord':_0x2634d3,'listMetadataItem':_0x184999[_0x915fb1(0x141)],'files':_0x184999[_0x915fb1(0x153)]};this['push'](_0x2dec2f);}}async[a342_0xbd2dca(0x14d)](_0x22fd3d,_0x4ac52f,_0x59295f){const _0x4b2e12=a342_0xbd2dca;try{this[_0x4b2e12(0x13d)]['push'](_0x22fd3d),_0x59295f();}catch(_0x196f72){_0x59295f(_0x196f72);}}async[a342_0xbd2dca(0x168)](_0x2120a7){const _0x442a73=a342_0xbd2dca;try{this[_0x442a73(0x13d)]['length']&&await this[_0x442a73(0x15e)](),this[_0x442a73(0x151)][_0x442a73(0x140)](_0x442a73(0x144)),await this['logger'][_0x442a73(0x13a)](),_0x2120a7();}catch(_0x2e3028){_0x2120a7(_0x2e3028);}}}function a342_0xb5ed(){const _0x5b1f4b=['toString','metadataId','metadataTypes','MetadataRetriever','214513PxacwD','_transform','48132ypBCAa','1958810GmqAoW','api','logger','execute','files','find','(((.+)+)+)+$','join','createDeclarativeFilter','DeclarativeFilterOptions','@flosum/salesforce','288eqwdho','231093aEiQbl','metadataResult','2gduuLW','handle','11324ApoqHT','metadataType','push','retrieveMetadata','510931EoKgsX','155lJGfJJ','map','280DJGNvm','11gWpjfA','_flush','1693182gCiGCg','update','./logger/logger.adapter','LoggerAdapter','sourceMemberRecords','stream','apply','log','listMetadataItem','216fEDzZk','search','Retrieved\x20metadata\x20items\x20completed','components','__esModule','PartialRetrieve'];a342_0xb5ed=function(){return _0x5b1f4b;};return a342_0xb5ed();}exports[a342_0xbd2dca(0x14b)]=MetadataRetriever;