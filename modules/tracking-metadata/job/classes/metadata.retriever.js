const a331_0x69d3b5=a331_0x228b;(function(_0x36071d,_0x53d1ea){const _0x12c742=a331_0x228b,_0x49b10b=_0x36071d();while(!![]){try{const _0x3c55a5=parseInt(_0x12c742(0x20b))/0x1+parseInt(_0x12c742(0x208))/0x2*(-parseInt(_0x12c742(0x20e))/0x3)+parseInt(_0x12c742(0x204))/0x4*(-parseInt(_0x12c742(0x210))/0x5)+parseInt(_0x12c742(0x205))/0x6*(parseInt(_0x12c742(0x1f9))/0x7)+-parseInt(_0x12c742(0x209))/0x8*(parseInt(_0x12c742(0x201))/0x9)+parseInt(_0x12c742(0x1fe))/0xa*(-parseInt(_0x12c742(0x1f8))/0xb)+parseInt(_0x12c742(0x202))/0xc*(parseInt(_0x12c742(0x1f0))/0xd);if(_0x3c55a5===_0x53d1ea)break;else _0x49b10b['push'](_0x49b10b['shift']());}catch(_0x27351c){_0x49b10b['push'](_0x49b10b['shift']());}}}(a331_0x32d5,0x31e7c));const a331_0x417229=(function(){let _0x17bb2d=!![];return function(_0x358731,_0x207549){const _0x4f54e8=_0x17bb2d?function(){const _0x291166=a331_0x228b;if(_0x207549){const _0x3a99cc=_0x207549[_0x291166(0x1f6)](_0x358731,arguments);return _0x207549=null,_0x3a99cc;}}:function(){};return _0x17bb2d=![],_0x4f54e8;};}()),a331_0x4340ad=a331_0x417229(this,function(){const _0x5601bd=a331_0x228b;return a331_0x4340ad[_0x5601bd(0x1f4)]()[_0x5601bd(0x206)](_0x5601bd(0x1eb))['toString']()[_0x5601bd(0x20f)](a331_0x4340ad)[_0x5601bd(0x206)](_0x5601bd(0x1eb));});a331_0x4340ad();'use strict';Object['defineProperty'](exports,a331_0x69d3b5(0x1ff),{'value':!![]}),exports[a331_0x69d3b5(0x20a)]=void 0x0;const salesforce_1=require(a331_0x69d3b5(0x1ef)),stream_1=require(a331_0x69d3b5(0x20d)),logger_adapter_1=require(a331_0x69d3b5(0x216));function a331_0x32d5(){const _0x2ff27e=['LoggerAdapter','find','@flosum/salesforce','6461hOJiNw','createDeclarativeFilter','metadataId','execute','toString','push','apply','api','4426301eKEXQq','393211uzqcSH','metadataType','map','join','listMetadataItem','10TamdHO','__esModule','handle','27tQnGVT','20172JGAXdW','logger','27812QTYCVQ','42kswvOo','search','metadataResult','126388RCzSoe','368264bJEwFt','MetadataRetriever','228525OIgpMD','files','stream','15GpXAeV','constructor','285sDmpkM','items','instance','sourceMemberRecords','PartialRetrieve','log','./logger/logger.adapter','Retrieved\x20metadata\x20items\x20completed','retrieveMetadata','DeclarativeFilterOptions','metadataTypes','Transform','(((.+)+)+)+$','_flush'];a331_0x32d5=function(){return _0x2ff27e;};return a331_0x32d5();}function a331_0x228b(_0x173137,_0x2d2da5){const _0x1e7218=a331_0x32d5();return a331_0x228b=function(_0x4340ad,_0x417229){_0x4340ad=_0x4340ad-0x1eb;let _0x32d5a2=_0x1e7218[_0x4340ad];return _0x32d5a2;},a331_0x228b(_0x173137,_0x2d2da5);}class MetadataRetriever extends stream_1[a331_0x69d3b5(0x21b)]{constructor({apiVersion:_0x571cca,instance:_0x115523,metadataTypes:_0x61d3e5,logger:_0x30dbe3}){const _0x42fd6a=a331_0x69d3b5;super({'objectMode':!![]}),this[_0x42fd6a(0x213)]=[],this[_0x42fd6a(0x1f7)]=_0x571cca,this[_0x42fd6a(0x203)]=_0x30dbe3,this[_0x42fd6a(0x212)]=_0x115523,this[_0x42fd6a(0x21a)]=_0x61d3e5;}[a331_0x69d3b5(0x1f1)](){const _0xe79251=a331_0x69d3b5,_0x3c7e96=this[_0xe79251(0x213)][_0xe79251(0x1fb)](_0x2c837f=>_0x2c837f[_0xe79251(0x1f2)])[_0xe79251(0x1fc)](';'),_0x3f8e44=[];return _0x3f8e44[_0xe79251(0x1f5)]({'field':'id','option':salesforce_1[_0xe79251(0x219)]['IN'],'value':_0x3c7e96}),_0x3f8e44;}async['retrieveMetadata'](){const _0x2786b1=a331_0x69d3b5,_0x46d0c7=this[_0x2786b1(0x1f1)](),_0x188808=new logger_adapter_1[(_0x2786b1(0x1ed))](this[_0x2786b1(0x203)]);this[_0x2786b1(0x207)]=await new salesforce_1[(_0x2786b1(0x214))](this[_0x2786b1(0x1f7)],this['instance'],_0x188808,_0x46d0c7,null,this['metadataTypes'])[_0x2786b1(0x1f3)]();}async[a331_0x69d3b5(0x200)](){const _0x1fa875=a331_0x69d3b5;await this[_0x1fa875(0x218)]();for(const _0x464a5e of this[_0x1fa875(0x213)]){const _0x2456df=this[_0x1fa875(0x207)][_0x1fa875(0x211)][_0x464a5e[_0x1fa875(0x1fa)]],_0x4bb701=_0x2456df['components'][_0x1fa875(0x1ee)](_0x3bcfea=>_0x3bcfea['listMetadataItem']['id']===_0x464a5e[_0x1fa875(0x1f2)]);if(!_0x4bb701)continue;const _0x4b8688={'sourceMemberRecord':_0x464a5e,'listMetadataItem':_0x4bb701[_0x1fa875(0x1fd)],'files':_0x4bb701[_0x1fa875(0x20c)]};this[_0x1fa875(0x1f5)](_0x4b8688);}}async['_transform'](_0x4dcc2e,_0x1fc1cc,_0x3c2c94){const _0x1cd14d=a331_0x69d3b5;try{this[_0x1cd14d(0x213)]['push'](_0x4dcc2e),_0x3c2c94();}catch(_0x55d6eb){_0x3c2c94(_0x55d6eb);}}async[a331_0x69d3b5(0x1ec)](_0x4c95fc){const _0x6a3eee=a331_0x69d3b5;try{this[_0x6a3eee(0x213)]['length']&&await this[_0x6a3eee(0x200)](),this[_0x6a3eee(0x203)][_0x6a3eee(0x215)](_0x6a3eee(0x217)),await this[_0x6a3eee(0x203)]['update'](),_0x4c95fc();}catch(_0x5d711a){_0x4c95fc(_0x5d711a);}}}exports[a331_0x69d3b5(0x20a)]=MetadataRetriever;