const a299_0x4dd49e=a299_0x204d;(function(_0x198e10,_0x1bd761){const _0xcf1a1b=a299_0x204d,_0x1a52ab=_0x198e10();while(!![]){try{const _0x4479c0=parseInt(_0xcf1a1b(0x1b7))/0x1+parseInt(_0xcf1a1b(0x19e))/0x2*(-parseInt(_0xcf1a1b(0x1a1))/0x3)+-parseInt(_0xcf1a1b(0x1a5))/0x4+parseInt(_0xcf1a1b(0x192))/0x5+-parseInt(_0xcf1a1b(0x193))/0x6+-parseInt(_0xcf1a1b(0x1aa))/0x7*(-parseInt(_0xcf1a1b(0x19d))/0x8)+parseInt(_0xcf1a1b(0x196))/0x9;if(_0x4479c0===_0x1bd761)break;else _0x1a52ab['push'](_0x1a52ab['shift']());}catch(_0x534b4a){_0x1a52ab['push'](_0x1a52ab['shift']());}}}(a299_0x1191,0x1f90c));function a299_0x1191(){const _0x4223b9=['push','24GYrGum','351098YBWHbh','components','files','3jIlAtS','retrieveMetadata','search','stream','293468SsyPwV','log','execute','toString','PartialRetrieve','325633PTJXZc','listMetadataItem','_flush','logger','metadataId','metadataResult','metadataTypes','(((.+)+)+)+$','sourceMemberRecords','defineProperty','LoggerAdapter','DeclarativeFilterOptions','Retrieved\x20metadata\x20items\x20completed','94008QcPJKy','handle','createDeclarativeFilter','map','MetadataRetriever','Transform','241870YnsUOE','132186NSXlma','find','api','1064700BRnJBo','./logger/logger.adapter','items','constructor','join','instance'];a299_0x1191=function(){return _0x4223b9;};return a299_0x1191();}const a299_0x490f4f=(function(){let _0x43ddbf=!![];return function(_0x34c0b6,_0x3abeda){const _0x12646a=_0x43ddbf?function(){if(_0x3abeda){const _0x1b67b4=_0x3abeda['apply'](_0x34c0b6,arguments);return _0x3abeda=null,_0x1b67b4;}}:function(){};return _0x43ddbf=![],_0x12646a;};}()),a299_0x27fceb=a299_0x490f4f(this,function(){const _0x5c02bb=a299_0x204d;return a299_0x27fceb[_0x5c02bb(0x1a8)]()[_0x5c02bb(0x1a3)](_0x5c02bb(0x1b1))[_0x5c02bb(0x1a8)]()[_0x5c02bb(0x199)](a299_0x27fceb)[_0x5c02bb(0x1a3)](_0x5c02bb(0x1b1));});a299_0x27fceb();'use strict';Object[a299_0x4dd49e(0x1b3)](exports,'__esModule',{'value':!![]}),exports[a299_0x4dd49e(0x190)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),stream_1=require(a299_0x4dd49e(0x1a4)),logger_adapter_1=require(a299_0x4dd49e(0x197));function a299_0x204d(_0x30d9c6,_0x53673f){const _0x5d0bdd=a299_0x1191();return a299_0x204d=function(_0x27fceb,_0x490f4f){_0x27fceb=_0x27fceb-0x190;let _0x119110=_0x5d0bdd[_0x27fceb];return _0x119110;},a299_0x204d(_0x30d9c6,_0x53673f);}class MetadataRetriever extends stream_1[a299_0x4dd49e(0x191)]{constructor({apiVersion:_0x5b88f3,instance:_0x33442a,metadataTypes:_0x343eae,logger:_0x12340f}){const _0x31c92f=a299_0x4dd49e;super({'objectMode':!![]}),this[_0x31c92f(0x1b2)]=[],this[_0x31c92f(0x195)]=_0x5b88f3,this[_0x31c92f(0x1ad)]=_0x12340f,this[_0x31c92f(0x19b)]=_0x33442a,this['metadataTypes']=_0x343eae;}[a299_0x4dd49e(0x1b9)](){const _0x25e2c9=a299_0x4dd49e,_0x1533c9=this[_0x25e2c9(0x1b2)][_0x25e2c9(0x1ba)](_0x1fdf8d=>_0x1fdf8d['metadataId'])[_0x25e2c9(0x19a)](';'),_0x442d45=[];return _0x442d45[_0x25e2c9(0x19c)]({'field':'id','option':salesforce_1[_0x25e2c9(0x1b5)]['IN'],'value':_0x1533c9}),_0x442d45;}async[a299_0x4dd49e(0x1a2)](){const _0x117566=a299_0x4dd49e,_0x102f5c=this[_0x117566(0x1b9)](),_0x4d6f9e=new logger_adapter_1[(_0x117566(0x1b4))](this[_0x117566(0x1ad)]);this[_0x117566(0x1af)]=await new salesforce_1[(_0x117566(0x1a9))](this[_0x117566(0x195)],this[_0x117566(0x19b)],_0x4d6f9e,_0x102f5c,null,this[_0x117566(0x1b0)])[_0x117566(0x1a7)]();}async[a299_0x4dd49e(0x1b8)](){const _0xe1419=a299_0x4dd49e;await this[_0xe1419(0x1a2)]();for(const _0x82e29d of this[_0xe1419(0x1b2)]){const _0x3ef2bf=this[_0xe1419(0x1af)][_0xe1419(0x198)][_0x82e29d['metadataType']],_0x2676ef=_0x3ef2bf[_0xe1419(0x19f)][_0xe1419(0x194)](_0x121948=>_0x121948[_0xe1419(0x1ab)]['id']===_0x82e29d[_0xe1419(0x1ae)]);if(!_0x2676ef)continue;const _0x2626f8={'sourceMemberRecord':_0x82e29d,'listMetadataItem':_0x2676ef['listMetadataItem'],'files':_0x2676ef[_0xe1419(0x1a0)]};this[_0xe1419(0x19c)](_0x2626f8);}}async['_transform'](_0x433553,_0x2f0745,_0x5ec748){const _0x275132=a299_0x4dd49e;try{this[_0x275132(0x1b2)]['push'](_0x433553),_0x5ec748();}catch(_0x516cdf){_0x5ec748(_0x516cdf);}}async[a299_0x4dd49e(0x1ac)](_0x40f7eb){const _0x55ef78=a299_0x4dd49e;try{this['sourceMemberRecords']['length']&&await this['handle'](),this[_0x55ef78(0x1ad)][_0x55ef78(0x1a6)](_0x55ef78(0x1b6)),await this['logger']['update'](),_0x40f7eb();}catch(_0x2d8f20){_0x40f7eb(_0x2d8f20);}}}exports[a299_0x4dd49e(0x190)]=MetadataRetriever;