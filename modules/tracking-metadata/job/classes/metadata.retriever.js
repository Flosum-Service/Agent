const a299_0x1e0df6=a299_0x5cd7;(function(_0xd9214a,_0x472b93){const _0x5b5f6e=a299_0x5cd7,_0x40352b=_0xd9214a();while(!![]){try{const _0x2f2cc1=parseInt(_0x5b5f6e(0x9f))/0x1*(-parseInt(_0x5b5f6e(0xc2))/0x2)+-parseInt(_0x5b5f6e(0xc4))/0x3+-parseInt(_0x5b5f6e(0xb8))/0x4+-parseInt(_0x5b5f6e(0xb2))/0x5*(-parseInt(_0x5b5f6e(0xba))/0x6)+-parseInt(_0x5b5f6e(0xbc))/0x7*(-parseInt(_0x5b5f6e(0xb6))/0x8)+-parseInt(_0x5b5f6e(0xa6))/0x9*(-parseInt(_0x5b5f6e(0xae))/0xa)+parseInt(_0x5b5f6e(0xb5))/0xb*(parseInt(_0x5b5f6e(0x9d))/0xc);if(_0x2f2cc1===_0x472b93)break;else _0x40352b['push'](_0x40352b['shift']());}catch(_0x128663){_0x40352b['push'](_0x40352b['shift']());}}}(a299_0x44c9,0x73113));const a299_0xa98508=(function(){let _0x47f5cf=!![];return function(_0x1142a1,_0x3e3c1c){const _0x5dc09c=_0x47f5cf?function(){const _0x1abedf=a299_0x5cd7;if(_0x3e3c1c){const _0x2708a1=_0x3e3c1c[_0x1abedf(0xc0)](_0x1142a1,arguments);return _0x3e3c1c=null,_0x2708a1;}}:function(){};return _0x47f5cf=![],_0x5dc09c;};}()),a299_0x1c9aac=a299_0xa98508(this,function(){const _0x2a6a08=a299_0x5cd7;return a299_0x1c9aac[_0x2a6a08(0xa0)]()[_0x2a6a08(0xb3)](_0x2a6a08(0xa4))[_0x2a6a08(0xa0)]()['constructor'](a299_0x1c9aac)[_0x2a6a08(0xb3)](_0x2a6a08(0xa4));});a299_0x1c9aac();function a299_0x44c9(){const _0x378372=['log','4907HEtZCq','execute','find','length','apply','createDeclarativeFilter','4eWPssu','LoggerAdapter','1222863mvTuTx','defineProperty','metadataId','metadataResult','listMetadataItem','97440QYFWaC','DeclarativeFilterOptions','368858MKJfxZ','toString','Retrieved\x20metadata\x20items\x20completed','__esModule','map','(((.+)+)+)+$','PartialRetrieve','4922811eZcZXM','retrieveMetadata','files','join','MetadataRetriever','metadataType','components','@flosum/salesforce','10TsUJTK','logger','instance','push','90nuOeaa','search','sourceMemberRecords','275UXAixB','9256sgJihH','handle','1568824bILEmX','metadataTypes','149274gkvfRe'];a299_0x44c9=function(){return _0x378372;};return a299_0x44c9();}'use strict';Object[a299_0x1e0df6(0xc5)](exports,a299_0x1e0df6(0xa2),{'value':!![]}),exports[a299_0x1e0df6(0xaa)]=void 0x0;function a299_0x5cd7(_0x1370ce,_0x162ed9){const _0x267f9a=a299_0x44c9();return a299_0x5cd7=function(_0x1c9aac,_0xa98508){_0x1c9aac=_0x1c9aac-0x9a;let _0x44c942=_0x267f9a[_0x1c9aac];return _0x44c942;},a299_0x5cd7(_0x1370ce,_0x162ed9);}const salesforce_1=require(a299_0x1e0df6(0xad)),stream_1=require('stream'),logger_adapter_1=require('./logger/logger.adapter');class MetadataRetriever extends stream_1['Transform']{constructor({apiVersion:_0x2e0568,instance:_0x21bca8,metadataTypes:_0x1a2d01,logger:_0x1ba002}){const _0x1df533=a299_0x1e0df6;super({'objectMode':!![]}),this[_0x1df533(0xb4)]=[],this['api']=_0x2e0568,this[_0x1df533(0xaf)]=_0x1ba002,this[_0x1df533(0xb0)]=_0x21bca8,this[_0x1df533(0xb9)]=_0x1a2d01;}[a299_0x1e0df6(0xc1)](){const _0x2c0ae3=a299_0x1e0df6,_0x37ec47=this[_0x2c0ae3(0xb4)][_0x2c0ae3(0xa3)](_0x28469a=>_0x28469a['metadataId'])[_0x2c0ae3(0xa9)](';'),_0x64c8e0=[];return _0x64c8e0[_0x2c0ae3(0xb1)]({'field':'id','option':salesforce_1[_0x2c0ae3(0x9e)]['IN'],'value':_0x37ec47}),_0x64c8e0;}async[a299_0x1e0df6(0xa7)](){const _0x291139=a299_0x1e0df6,_0xcdeed9=this[_0x291139(0xc1)](),_0x4b4c51=new logger_adapter_1[(_0x291139(0xc3))](this['logger']);this[_0x291139(0x9b)]=await new salesforce_1[(_0x291139(0xa5))](this['api'],this['instance'],_0x4b4c51,_0xcdeed9,null,this['metadataTypes'])[_0x291139(0xbd)]();}async[a299_0x1e0df6(0xb7)](){const _0x2247bd=a299_0x1e0df6;await this[_0x2247bd(0xa7)]();for(const _0x14bf7c of this[_0x2247bd(0xb4)]){const _0x127cf6=this[_0x2247bd(0x9b)]['items'][_0x14bf7c[_0x2247bd(0xab)]],_0xab47ad=_0x127cf6[_0x2247bd(0xac)][_0x2247bd(0xbe)](_0xac83c6=>_0xac83c6[_0x2247bd(0x9c)]['id']===_0x14bf7c[_0x2247bd(0x9a)]);if(!_0xab47ad)continue;const _0x192863={'sourceMemberRecord':_0x14bf7c,'listMetadataItem':_0xab47ad[_0x2247bd(0x9c)],'files':_0xab47ad[_0x2247bd(0xa8)]};this['push'](_0x192863);}}async['_transform'](_0x290abc,_0x1675de,_0x168dbe){const _0x47ac26=a299_0x1e0df6;try{this['sourceMemberRecords'][_0x47ac26(0xb1)](_0x290abc),_0x168dbe();}catch(_0x7a20f7){_0x168dbe(_0x7a20f7);}}async['_flush'](_0xa9c229){const _0x47e829=a299_0x1e0df6;try{this[_0x47e829(0xb4)][_0x47e829(0xbf)]&&await this[_0x47e829(0xb7)](),this[_0x47e829(0xaf)][_0x47e829(0xbb)](_0x47e829(0xa1)),await this[_0x47e829(0xaf)]['update'](),_0xa9c229();}catch(_0x51f01f){_0xa9c229(_0x51f01f);}}}exports[a299_0x1e0df6(0xaa)]=MetadataRetriever;