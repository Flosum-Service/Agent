function a299_0x5c1e(_0x38fc37,_0x12d093){const _0x2c6b0e=a299_0x47ee();return a299_0x5c1e=function(_0x387d65,_0x3a460a){_0x387d65=_0x387d65-0x9a;let _0x47eed6=_0x2c6b0e[_0x387d65];return _0x47eed6;},a299_0x5c1e(_0x38fc37,_0x12d093);}const a299_0x530881=a299_0x5c1e;(function(_0x5ac3d7,_0x7d994){const _0x5d03f5=a299_0x5c1e,_0x21583e=_0x5ac3d7();while(!![]){try{const _0x1e30b7=-parseInt(_0x5d03f5(0xa7))/0x1+-parseInt(_0x5d03f5(0xb9))/0x2+parseInt(_0x5d03f5(0xa0))/0x3*(parseInt(_0x5d03f5(0xb7))/0x4)+parseInt(_0x5d03f5(0xbe))/0x5*(parseInt(_0x5d03f5(0xa3))/0x6)+parseInt(_0x5d03f5(0xae))/0x7+-parseInt(_0x5d03f5(0xb6))/0x8+-parseInt(_0x5d03f5(0xc1))/0x9;if(_0x1e30b7===_0x7d994)break;else _0x21583e['push'](_0x21583e['shift']());}catch(_0x33e8a0){_0x21583e['push'](_0x21583e['shift']());}}}(a299_0x47ee,0x61d10));function a299_0x47ee(){const _0x14cc2f=['430bauPfR','_transform','retrieveMetadata','2645595UexFXe','handle','files','find','stream','constructor','sourceMemberRecords','map','components','items','1530645pkhMoD','metadataType','DeclarativeFilterOptions','23238tgtaQz','metadataResult','push','(((.+)+)+)+$','82161Wrnewm','metadataId','search','MetadataRetriever','metadataTypes','api','execute','1253021lsLFNR','logger','_flush','Transform','Retrieved\x20metadata\x20items\x20completed','length','@flosum/salesforce','listMetadataItem','1486064kmWGBM','4XYYiHl','log','119532IyYWKZ','instance','join','toString','PartialRetrieve'];a299_0x47ee=function(){return _0x14cc2f;};return a299_0x47ee();}const a299_0x3a460a=(function(){let _0x1c5acc=!![];return function(_0x1286dd,_0x3adda1){const _0x13499d=_0x1c5acc?function(){if(_0x3adda1){const _0x3f0821=_0x3adda1['apply'](_0x1286dd,arguments);return _0x3adda1=null,_0x3f0821;}}:function(){};return _0x1c5acc=![],_0x13499d;};}()),a299_0x387d65=a299_0x3a460a(this,function(){const _0x128dcd=a299_0x5c1e;return a299_0x387d65[_0x128dcd(0xbc)]()['search'](_0x128dcd(0xa6))['toString']()[_0x128dcd(0x9b)](a299_0x387d65)[_0x128dcd(0xa9)]('(((.+)+)+)+$');});a299_0x387d65();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a299_0x530881(0xaa)]=void 0x0;const salesforce_1=require(a299_0x530881(0xb4)),stream_1=require(a299_0x530881(0x9a)),logger_adapter_1=require('./logger/logger.adapter');class MetadataRetriever extends stream_1[a299_0x530881(0xb1)]{constructor({apiVersion:_0x225e27,instance:_0x6feb8c,metadataTypes:_0x219677,logger:_0x2c60bb}){const _0x46499e=a299_0x530881;super({'objectMode':!![]}),this[_0x46499e(0x9c)]=[],this[_0x46499e(0xac)]=_0x225e27,this[_0x46499e(0xaf)]=_0x2c60bb,this[_0x46499e(0xba)]=_0x6feb8c,this[_0x46499e(0xab)]=_0x219677;}['createDeclarativeFilter'](){const _0x39a347=a299_0x530881,_0x16bf4a=this[_0x39a347(0x9c)][_0x39a347(0x9d)](_0x142db8=>_0x142db8['metadataId'])[_0x39a347(0xbb)](';'),_0xe1118c=[];return _0xe1118c['push']({'field':'id','option':salesforce_1[_0x39a347(0xa2)]['IN'],'value':_0x16bf4a}),_0xe1118c;}async['retrieveMetadata'](){const _0xe1e238=a299_0x530881,_0x1bc641=this['createDeclarativeFilter'](),_0x168e49=new logger_adapter_1['LoggerAdapter'](this['logger']);this[_0xe1e238(0xa4)]=await new salesforce_1[(_0xe1e238(0xbd))](this[_0xe1e238(0xac)],this[_0xe1e238(0xba)],_0x168e49,_0x1bc641,null,this[_0xe1e238(0xab)])[_0xe1e238(0xad)]();}async['handle'](){const _0x265a8a=a299_0x530881;await this[_0x265a8a(0xc0)]();for(const _0x465002 of this[_0x265a8a(0x9c)]){const _0x2967cb=this[_0x265a8a(0xa4)][_0x265a8a(0x9f)][_0x465002[_0x265a8a(0xa1)]],_0x32fe56=_0x2967cb[_0x265a8a(0x9e)][_0x265a8a(0xc4)](_0x1fc3ed=>_0x1fc3ed[_0x265a8a(0xb5)]['id']===_0x465002[_0x265a8a(0xa8)]);if(!_0x32fe56)continue;const _0x5e7090={'sourceMemberRecord':_0x465002,'listMetadataItem':_0x32fe56['listMetadataItem'],'files':_0x32fe56[_0x265a8a(0xc3)]};this['push'](_0x5e7090);}}async[a299_0x530881(0xbf)](_0x143567,_0x5027f2,_0x4fa6f0){const _0x475b2a=a299_0x530881;try{this['sourceMemberRecords'][_0x475b2a(0xa5)](_0x143567),_0x4fa6f0();}catch(_0x21667d){_0x4fa6f0(_0x21667d);}}async[a299_0x530881(0xb0)](_0x40dda7){const _0x3f7b74=a299_0x530881;try{this[_0x3f7b74(0x9c)][_0x3f7b74(0xb3)]&&await this[_0x3f7b74(0xc2)](),this[_0x3f7b74(0xaf)][_0x3f7b74(0xb8)](_0x3f7b74(0xb2)),await this['logger']['update'](),_0x40dda7();}catch(_0x669530){_0x40dda7(_0x669530);}}}exports[a299_0x530881(0xaa)]=MetadataRetriever;