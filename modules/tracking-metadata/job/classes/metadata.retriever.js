const a344_0x880350=a344_0x5743;(function(_0x3751ad,_0x56ae1e){const _0x26e9e2=a344_0x5743,_0x109ad0=_0x3751ad();while(!![]){try{const _0x2f37a8=-parseInt(_0x26e9e2(0x18a))/0x1+-parseInt(_0x26e9e2(0x1a4))/0x2*(-parseInt(_0x26e9e2(0x1a2))/0x3)+-parseInt(_0x26e9e2(0x1a5))/0x4*(parseInt(_0x26e9e2(0x196))/0x5)+parseInt(_0x26e9e2(0x17f))/0x6+-parseInt(_0x26e9e2(0x18f))/0x7+parseInt(_0x26e9e2(0x19b))/0x8*(-parseInt(_0x26e9e2(0x1a6))/0x9)+parseInt(_0x26e9e2(0x18e))/0xa;if(_0x2f37a8===_0x56ae1e)break;else _0x109ad0['push'](_0x109ad0['shift']());}catch(_0xa92f7c){_0x109ad0['push'](_0x109ad0['shift']());}}}(a344_0x3274,0x62b41));function a344_0x3274(){const _0x59311e=['Transform','sourceMemberRecords','6371410LbIcnr','535542mKTvVK','_transform','logger','metadataTypes','join','./logger/logger.adapter','_flush','1476595qtrCia','LoggerAdapter','items','stream','__esModule','5713472nsYtAR','update','components','DeclarativeFilterOptions','apply','files','PartialRetrieve','75UDIwSB','retrieveMetadata','60826RsIEuW','4yuMkEz','9exPTmV','@flosum/salesforce','instance','metadataResult','metadataType','Retrieved\x20metadata\x20items\x20completed','execute','listMetadataItem','\x20was\x20not\x20retrieved.','1446588TblVhc','map','The\x20','toString','metadataId','search','MetadataRetriever','(((.+)+)+)+$','find','api','log','148266pnIYBB','handle'];a344_0x3274=function(){return _0x59311e;};return a344_0x3274();}const a344_0x56e295=(function(){let _0x16dea6=!![];return function(_0x176006,_0x37798a){const _0x223353=_0x16dea6?function(){const _0x4d4265=a344_0x5743;if(_0x37798a){const _0x260ad7=_0x37798a[_0x4d4265(0x19f)](_0x176006,arguments);return _0x37798a=null,_0x260ad7;}}:function(){};return _0x16dea6=![],_0x223353;};}()),a344_0x20ce8a=a344_0x56e295(this,function(){const _0x47a188=a344_0x5743;return a344_0x20ce8a[_0x47a188(0x182)]()[_0x47a188(0x184)](_0x47a188(0x186))['toString']()['constructor'](a344_0x20ce8a)[_0x47a188(0x184)](_0x47a188(0x186));});a344_0x20ce8a();'use strict';function a344_0x5743(_0x293983,_0x3018b7){const _0xceaae5=a344_0x3274();return a344_0x5743=function(_0x20ce8a,_0x56e295){_0x20ce8a=_0x20ce8a-0x177;let _0x3274c6=_0xceaae5[_0x20ce8a];return _0x3274c6;},a344_0x5743(_0x293983,_0x3018b7);}Object['defineProperty'](exports,a344_0x880350(0x19a),{'value':!![]}),exports[a344_0x880350(0x185)]=void 0x0;const salesforce_1=require(a344_0x880350(0x177)),stream_1=require(a344_0x880350(0x199)),logger_adapter_1=require(a344_0x880350(0x194));class MetadataRetriever extends stream_1[a344_0x880350(0x18c)]{constructor({apiVersion:_0x4a7e67,instance:_0xdadebd,metadataTypes:_0x4ae3d2,logger:_0x8f02d1}){const _0x38cfa2=a344_0x880350;super({'objectMode':!![]}),this[_0x38cfa2(0x18d)]=[],this[_0x38cfa2(0x188)]=_0x4a7e67,this[_0x38cfa2(0x191)]=_0x8f02d1,this[_0x38cfa2(0x178)]=_0xdadebd,this['metadataTypes']=_0x4ae3d2;}['createDeclarativeFilter'](){const _0x1f0b1e=a344_0x880350,_0x36dbbe=this['sourceMemberRecords'][_0x1f0b1e(0x180)](_0x424ca4=>_0x424ca4[_0x1f0b1e(0x183)])[_0x1f0b1e(0x193)](';'),_0x4fbe20=[];return _0x4fbe20['push']({'field':'id','option':salesforce_1[_0x1f0b1e(0x19e)]['IN'],'value':_0x36dbbe}),_0x4fbe20;}async['retrieveMetadata'](){const _0x26c923=a344_0x880350,_0x165729=this['createDeclarativeFilter'](),_0x560a3b=new logger_adapter_1[(_0x26c923(0x197))](this[_0x26c923(0x191)]);this[_0x26c923(0x179)]=await new salesforce_1[(_0x26c923(0x1a1))](this[_0x26c923(0x188)],this[_0x26c923(0x178)],_0x560a3b,_0x165729,null,this[_0x26c923(0x192)])[_0x26c923(0x17c)]();}async[a344_0x880350(0x18b)](){const _0x24a07c=a344_0x880350;await this[_0x24a07c(0x1a3)]();for(const _0x43f79c of this[_0x24a07c(0x18d)]){const _0x3b880f=this['metadataResult'][_0x24a07c(0x198)][_0x43f79c['metadataType']],_0x37cacf=_0x3b880f===null||_0x3b880f===void 0x0?void 0x0:_0x3b880f[_0x24a07c(0x19d)][_0x24a07c(0x187)](_0x1427cb=>_0x1427cb[_0x24a07c(0x17d)]['id']===_0x43f79c[_0x24a07c(0x183)]);if(!_0x37cacf){this[_0x24a07c(0x191)][_0x24a07c(0x189)](_0x24a07c(0x181)+_0x43f79c['metadataName']+'\x20'+_0x43f79c[_0x24a07c(0x17a)]+_0x24a07c(0x17e));continue;}const _0x272a0c={'sourceMemberRecord':_0x43f79c,'listMetadataItem':_0x37cacf[_0x24a07c(0x17d)],'files':_0x37cacf[_0x24a07c(0x1a0)]};this['push'](_0x272a0c);}}async[a344_0x880350(0x190)](_0x3f129c,_0x5c20d0,_0x928315){const _0x2fea8f=a344_0x880350;try{this[_0x2fea8f(0x18d)]['push'](_0x3f129c),_0x928315();}catch(_0x2df2ae){_0x928315(_0x2df2ae);}}async[a344_0x880350(0x195)](_0x221902){const _0x3ba39a=a344_0x880350;try{this[_0x3ba39a(0x18d)]['length']&&await this[_0x3ba39a(0x18b)](),this[_0x3ba39a(0x191)][_0x3ba39a(0x189)](_0x3ba39a(0x17b)),await this[_0x3ba39a(0x191)][_0x3ba39a(0x19c)](),_0x221902();}catch(_0x2636a4){_0x221902(_0x2636a4);}}}exports[a344_0x880350(0x185)]=MetadataRetriever;