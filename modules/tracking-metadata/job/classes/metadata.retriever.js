const a331_0x3d6a7a=a331_0x3f86;(function(_0x14d6a0,_0x31a386){const _0x228d7a=a331_0x3f86,_0x4f7f23=_0x14d6a0();while(!![]){try{const _0x177fea=parseInt(_0x228d7a(0xd2))/0x1+-parseInt(_0x228d7a(0xc9))/0x2+parseInt(_0x228d7a(0xeb))/0x3*(parseInt(_0x228d7a(0xe5))/0x4)+parseInt(_0x228d7a(0xdf))/0x5*(-parseInt(_0x228d7a(0xe3))/0x6)+-parseInt(_0x228d7a(0xd5))/0x7*(-parseInt(_0x228d7a(0xe9))/0x8)+-parseInt(_0x228d7a(0xd7))/0x9*(parseInt(_0x228d7a(0xd6))/0xa)+-parseInt(_0x228d7a(0xd4))/0xb*(-parseInt(_0x228d7a(0xcd))/0xc);if(_0x177fea===_0x31a386)break;else _0x4f7f23['push'](_0x4f7f23['shift']());}catch(_0x1a2953){_0x4f7f23['push'](_0x4f7f23['shift']());}}}(a331_0xbaa9,0x82d08));const a331_0x11f841=(function(){let _0x37b107=!![];return function(_0x54276a,_0x2c3502){const _0x15f4a0=_0x37b107?function(){const _0x4f5efc=a331_0x3f86;if(_0x2c3502){const _0x217892=_0x2c3502[_0x4f5efc(0xd0)](_0x54276a,arguments);return _0x2c3502=null,_0x217892;}}:function(){};return _0x37b107=![],_0x15f4a0;};}()),a331_0x10062c=a331_0x11f841(this,function(){const _0x538a2b=a331_0x3f86;return a331_0x10062c['toString']()['search'](_0x538a2b(0xdd))[_0x538a2b(0xdb)]()[_0x538a2b(0xce)](a331_0x10062c)[_0x538a2b(0xd8)](_0x538a2b(0xdd));});a331_0x10062c();'use strict';Object[a331_0x3d6a7a(0xc7)](exports,a331_0x3d6a7a(0xe4),{'value':!![]}),exports['MetadataRetriever']=void 0x0;function a331_0x3f86(_0x131147,_0x278b23){const _0x32c7c8=a331_0xbaa9();return a331_0x3f86=function(_0x10062c,_0x11f841){_0x10062c=_0x10062c-0xc6;let _0xbaa998=_0x32c7c8[_0x10062c];return _0xbaa998;},a331_0x3f86(_0x131147,_0x278b23);}const salesforce_1=require('@flosum/salesforce'),stream_1=require(a331_0x3d6a7a(0xe1)),logger_adapter_1=require(a331_0x3d6a7a(0xd9));function a331_0xbaa9(){const _0x5c0efd=['64ElivBa','api','27291igZIOV','sourceMemberRecords','metadataResult','logger','map','handle','defineProperty','LoggerAdapter','1812152fvdeeK','metadataId','files','instance','12mHfIie','constructor','_flush','apply','push','731580MndUzO','Retrieved\x20metadata\x20items\x20completed','2818475UvNlvn','192017AMBoHB','2206460fgyuZl','18UVkdxQ','search','./logger/logger.adapter','execute','toString','components','(((.+)+)+)+$','items','5XToCxt','createDeclarativeFilter','stream','Transform','92646NdEtaP','__esModule','304bBBfyQ','update','log','listMetadataItem'];a331_0xbaa9=function(){return _0x5c0efd;};return a331_0xbaa9();}class MetadataRetriever extends stream_1[a331_0x3d6a7a(0xe2)]{constructor({apiVersion:_0x58f9a4,instance:_0x238345,metadataTypes:_0x102e10,logger:_0x5c5c3a}){const _0x2a29d3=a331_0x3d6a7a;super({'objectMode':!![]}),this['sourceMemberRecords']=[],this[_0x2a29d3(0xea)]=_0x58f9a4,this[_0x2a29d3(0xee)]=_0x5c5c3a,this[_0x2a29d3(0xcc)]=_0x238345,this['metadataTypes']=_0x102e10;}[a331_0x3d6a7a(0xe0)](){const _0x547696=a331_0x3d6a7a,_0x27a500=this[_0x547696(0xec)][_0x547696(0xef)](_0x573f03=>_0x573f03[_0x547696(0xca)])['join'](';'),_0x5eed00=[];return _0x5eed00[_0x547696(0xd1)]({'field':'id','option':salesforce_1['DeclarativeFilterOptions']['IN'],'value':_0x27a500}),_0x5eed00;}async['retrieveMetadata'](){const _0x48cdae=a331_0x3d6a7a,_0x496dfa=this['createDeclarativeFilter'](),_0x40b502=new logger_adapter_1[(_0x48cdae(0xc8))](this[_0x48cdae(0xee)]);this[_0x48cdae(0xed)]=await new salesforce_1['PartialRetrieve'](this[_0x48cdae(0xea)],this[_0x48cdae(0xcc)],_0x40b502,_0x496dfa,null,this['metadataTypes'])[_0x48cdae(0xda)]();}async['handle'](){const _0x5df070=a331_0x3d6a7a;await this['retrieveMetadata']();for(const _0x2506f2 of this['sourceMemberRecords']){const _0x410cf7=this[_0x5df070(0xed)][_0x5df070(0xde)][_0x2506f2['metadataType']],_0x14b3d2=_0x410cf7[_0x5df070(0xdc)]['find'](_0xd4a13a=>_0xd4a13a[_0x5df070(0xe8)]['id']===_0x2506f2['metadataId']);if(!_0x14b3d2)continue;const _0x2aa680={'sourceMemberRecord':_0x2506f2,'listMetadataItem':_0x14b3d2['listMetadataItem'],'files':_0x14b3d2[_0x5df070(0xcb)]};this['push'](_0x2aa680);}}async['_transform'](_0x1aa4c0,_0x255d2e,_0x25daa2){const _0x13e951=a331_0x3d6a7a;try{this[_0x13e951(0xec)]['push'](_0x1aa4c0),_0x25daa2();}catch(_0x4e8bc7){_0x25daa2(_0x4e8bc7);}}async[a331_0x3d6a7a(0xcf)](_0x28f48e){const _0x25cd07=a331_0x3d6a7a;try{this['sourceMemberRecords']['length']&&await this[_0x25cd07(0xc6)](),this[_0x25cd07(0xee)][_0x25cd07(0xe7)](_0x25cd07(0xd3)),await this[_0x25cd07(0xee)][_0x25cd07(0xe6)](),_0x28f48e();}catch(_0x48684d){_0x28f48e(_0x48684d);}}}exports['MetadataRetriever']=MetadataRetriever;