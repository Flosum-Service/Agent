const a343_0x1b3d92=a343_0x55f3;(function(_0x4553e6,_0x10a707){const _0x1e54f3=a343_0x55f3,_0x28711c=_0x4553e6();while(!![]){try{const _0x2b6de9=-parseInt(_0x1e54f3(0x89))/0x1+parseInt(_0x1e54f3(0x90))/0x2*(-parseInt(_0x1e54f3(0x79))/0x3)+-parseInt(_0x1e54f3(0x72))/0x4*(parseInt(_0x1e54f3(0x82))/0x5)+-parseInt(_0x1e54f3(0x87))/0x6+parseInt(_0x1e54f3(0x91))/0x7+-parseInt(_0x1e54f3(0x7c))/0x8+parseInt(_0x1e54f3(0x71))/0x9;if(_0x2b6de9===_0x10a707)break;else _0x28711c['push'](_0x28711c['shift']());}catch(_0x5d4cf4){_0x28711c['push'](_0x28711c['shift']());}}}(a343_0x39aa,0x7fbb0));function a343_0x55f3(_0x50b95e,_0x17f685){const _0x5c4f24=a343_0x39aa();return a343_0x55f3=function(_0x423b25,_0x8cd30c){_0x423b25=_0x423b25-0x70;let _0x39aa7f=_0x5c4f24[_0x423b25];return _0x39aa7f;},a343_0x55f3(_0x50b95e,_0x17f685);}function a343_0x39aa(){const _0xa70f3a=['2314347arUYrK','\x20was\x20not\x20retrieved.','metadataTypes','apply','MetadataRetriever','defineProperty','find','join','update','@flosum/salesforce','PartialRetrieve','logger','push','Retrieved\x20metadata\x20items\x20completed','./logger/logger.adapter','23080194UKyZbQ','2768YDhBJA','Transform','DeclarativeFilterOptions','retrieveMetadata','handle','(((.+)+)+)+$','components','1565958SXbbPn','The\x20','metadataResult','1383920KWpEbG','sourceMemberRecords','execute','constructor','instance','_flush','4115aAdmIN','log','__esModule','items','toString','4825878QjbKoF','api','303098QDXgSc','map','metadataType','listMetadataItem','metadataId','_transform','search','2WRmdjy'];a343_0x39aa=function(){return _0xa70f3a;};return a343_0x39aa();}const a343_0x8cd30c=(function(){let _0x2c48ef=!![];return function(_0x19983a,_0x4e8c15){const _0x4115fd=_0x2c48ef?function(){const _0x17554f=a343_0x55f3;if(_0x4e8c15){const _0x33be7f=_0x4e8c15[_0x17554f(0x94)](_0x19983a,arguments);return _0x4e8c15=null,_0x33be7f;}}:function(){};return _0x2c48ef=![],_0x4115fd;};}()),a343_0x423b25=a343_0x8cd30c(this,function(){const _0x1bb64b=a343_0x55f3;return a343_0x423b25['toString']()[_0x1bb64b(0x8f)](_0x1bb64b(0x77))[_0x1bb64b(0x86)]()[_0x1bb64b(0x7f)](a343_0x423b25)[_0x1bb64b(0x8f)](_0x1bb64b(0x77));});a343_0x423b25();'use strict';Object[a343_0x1b3d92(0x96)](exports,a343_0x1b3d92(0x84),{'value':!![]}),exports[a343_0x1b3d92(0x95)]=void 0x0;const salesforce_1=require(a343_0x1b3d92(0x9a)),stream_1=require('stream'),logger_adapter_1=require(a343_0x1b3d92(0x70));class MetadataRetriever extends stream_1[a343_0x1b3d92(0x73)]{constructor({apiVersion:_0x1a9543,instance:_0x28c164,metadataTypes:_0x53cac2,logger:_0xa55adf}){const _0x4277b7=a343_0x1b3d92;super({'objectMode':!![]}),this[_0x4277b7(0x7d)]=[],this['api']=_0x1a9543,this[_0x4277b7(0x9c)]=_0xa55adf,this[_0x4277b7(0x80)]=_0x28c164,this[_0x4277b7(0x93)]=_0x53cac2;}['createDeclarativeFilter'](){const _0x5c5095=a343_0x1b3d92,_0xff20=this[_0x5c5095(0x7d)][_0x5c5095(0x8a)](_0x27895e=>_0x27895e[_0x5c5095(0x8d)])[_0x5c5095(0x98)](';'),_0x39bcf6=[];return _0x39bcf6[_0x5c5095(0x9d)]({'field':'id','option':salesforce_1[_0x5c5095(0x74)]['IN'],'value':_0xff20}),_0x39bcf6;}async[a343_0x1b3d92(0x75)](){const _0x324363=a343_0x1b3d92,_0x450cca=this['createDeclarativeFilter'](),_0x1910c9=new logger_adapter_1['LoggerAdapter'](this[_0x324363(0x9c)]);this[_0x324363(0x7b)]=await new salesforce_1[(_0x324363(0x9b))](this[_0x324363(0x88)],this[_0x324363(0x80)],_0x1910c9,_0x450cca,null,this[_0x324363(0x93)])[_0x324363(0x7e)]();}async['handle'](){const _0x2f0231=a343_0x1b3d92;await this[_0x2f0231(0x75)]();for(const _0x2e60a0 of this['sourceMemberRecords']){const _0x403c09=this[_0x2f0231(0x7b)][_0x2f0231(0x85)][_0x2e60a0['metadataType']],_0x1d4dfd=_0x403c09===null||_0x403c09===void 0x0?void 0x0:_0x403c09[_0x2f0231(0x78)][_0x2f0231(0x97)](_0x3e4528=>_0x3e4528[_0x2f0231(0x8c)]['id']===_0x2e60a0['metadataId']);if(!_0x1d4dfd){this[_0x2f0231(0x9c)][_0x2f0231(0x83)](_0x2f0231(0x7a)+_0x2e60a0['metadataName']+'\x20'+_0x2e60a0[_0x2f0231(0x8b)]+_0x2f0231(0x92));continue;}const _0x38bac8={'sourceMemberRecord':_0x2e60a0,'listMetadataItem':_0x1d4dfd[_0x2f0231(0x8c)],'files':_0x1d4dfd['files']};this[_0x2f0231(0x9d)](_0x38bac8);}}async[a343_0x1b3d92(0x8e)](_0x29cd81,_0x595a44,_0xb819e4){const _0x35ffd3=a343_0x1b3d92;try{this[_0x35ffd3(0x7d)][_0x35ffd3(0x9d)](_0x29cd81),_0xb819e4();}catch(_0xbfcade){_0xb819e4(_0xbfcade);}}async[a343_0x1b3d92(0x81)](_0x5e3319){const _0x3e3505=a343_0x1b3d92;try{this[_0x3e3505(0x7d)]['length']&&await this[_0x3e3505(0x76)](),this[_0x3e3505(0x9c)][_0x3e3505(0x83)](_0x3e3505(0x9e)),await this['logger'][_0x3e3505(0x99)](),_0x5e3319();}catch(_0xa22c40){_0x5e3319(_0xa22c40);}}}exports[a343_0x1b3d92(0x95)]=MetadataRetriever;