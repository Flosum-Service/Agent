const a299_0x5ef645=a299_0x4f0d;(function(_0x4968e5,_0x340bba){const _0x20dd7b=a299_0x4f0d,_0x1c8456=_0x4968e5();while(!![]){try{const _0x363096=parseInt(_0x20dd7b(0x142))/0x1+parseInt(_0x20dd7b(0x13b))/0x2*(-parseInt(_0x20dd7b(0x143))/0x3)+-parseInt(_0x20dd7b(0x130))/0x4*(-parseInt(_0x20dd7b(0x136))/0x5)+parseInt(_0x20dd7b(0x158))/0x6*(parseInt(_0x20dd7b(0x14e))/0x7)+-parseInt(_0x20dd7b(0x131))/0x8+-parseInt(_0x20dd7b(0x134))/0x9*(-parseInt(_0x20dd7b(0x135))/0xa)+parseInt(_0x20dd7b(0x14f))/0xb;if(_0x363096===_0x340bba)break;else _0x1c8456['push'](_0x1c8456['shift']());}catch(_0x325053){_0x1c8456['push'](_0x1c8456['shift']());}}}(a299_0x4d30,0xf09a8));function a299_0x4f0d(_0xe19269,_0x4d1f1b){const _0x5c9f26=a299_0x4d30();return a299_0x4f0d=function(_0x294e4f,_0x44e1de){_0x294e4f=_0x294e4f-0x12c;let _0x4d30f5=_0x5c9f26[_0x294e4f];return _0x4d30f5;},a299_0x4f0d(_0xe19269,_0x4d1f1b);}const a299_0x44e1de=(function(){let _0x30cd2e=!![];return function(_0x4c04f0,_0x2518d3){const _0x4d8b35=_0x30cd2e?function(){const _0x494b1c=a299_0x4f0d;if(_0x2518d3){const _0x4bd35f=_0x2518d3[_0x494b1c(0x149)](_0x4c04f0,arguments);return _0x2518d3=null,_0x4bd35f;}}:function(){};return _0x30cd2e=![],_0x4d8b35;};}()),a299_0x294e4f=a299_0x44e1de(this,function(){const _0x35509a=a299_0x4f0d;return a299_0x294e4f[_0x35509a(0x133)]()[_0x35509a(0x147)](_0x35509a(0x152))[_0x35509a(0x133)]()[_0x35509a(0x148)](a299_0x294e4f)[_0x35509a(0x147)](_0x35509a(0x152));});a299_0x294e4f();function a299_0x4d30(){const _0x4272bb=['_flush','logger','PartialRetrieve','update','8941038UNelrC','listMetadataItem','metadataType','DeclarativeFilterOptions','MetadataRetriever','sourceMemberRecords','length','196KBHebz','15173624TeYXyg','items','toString','27SEWqmp','3286230BsHoDj','134620jEiJeN','metadataResult','@flosum/salesforce','log','find','46NVnyai','execute','handle','_transform','push','map','defineProperty','265903NkJwHW','237261PMqfbJ','files','stream','Transform','search','constructor','apply','instance','api','Retrieved\x20metadata\x20items\x20completed','createDeclarativeFilter','7MFfoiF','7039945nAtCeT','retrieveMetadata','metadataId','(((.+)+)+)+$','LoggerAdapter'];a299_0x4d30=function(){return _0x4272bb;};return a299_0x4d30();}'use strict';Object[a299_0x5ef645(0x141)](exports,'__esModule',{'value':!![]}),exports['MetadataRetriever']=void 0x0;const salesforce_1=require(a299_0x5ef645(0x138)),stream_1=require(a299_0x5ef645(0x145)),logger_adapter_1=require('./logger/logger.adapter');class MetadataRetriever extends stream_1[a299_0x5ef645(0x146)]{constructor({apiVersion:_0x477ac5,instance:_0x163ead,metadataTypes:_0xae3e79,logger:_0x49d60b}){const _0x281d90=a299_0x5ef645;super({'objectMode':!![]}),this[_0x281d90(0x12e)]=[],this[_0x281d90(0x14b)]=_0x477ac5,this[_0x281d90(0x155)]=_0x49d60b,this[_0x281d90(0x14a)]=_0x163ead,this['metadataTypes']=_0xae3e79;}[a299_0x5ef645(0x14d)](){const _0x51936b=a299_0x5ef645,_0x417db0=this['sourceMemberRecords'][_0x51936b(0x140)](_0x534699=>_0x534699[_0x51936b(0x151)])['join'](';'),_0x39cbe5=[];return _0x39cbe5[_0x51936b(0x13f)]({'field':'id','option':salesforce_1[_0x51936b(0x12c)]['IN'],'value':_0x417db0}),_0x39cbe5;}async[a299_0x5ef645(0x150)](){const _0x5bbbb6=a299_0x5ef645,_0x1e61ee=this[_0x5bbbb6(0x14d)](),_0x57f734=new logger_adapter_1[(_0x5bbbb6(0x153))](this[_0x5bbbb6(0x155)]);this[_0x5bbbb6(0x137)]=await new salesforce_1[(_0x5bbbb6(0x156))](this[_0x5bbbb6(0x14b)],this['instance'],_0x57f734,_0x1e61ee,null,this['metadataTypes'])[_0x5bbbb6(0x13c)]();}async['handle'](){const _0x41aadc=a299_0x5ef645;await this[_0x41aadc(0x150)]();for(const _0x4996d3 of this[_0x41aadc(0x12e)]){const _0x217c2e=this[_0x41aadc(0x137)][_0x41aadc(0x132)][_0x4996d3[_0x41aadc(0x15a)]],_0x45e82b=_0x217c2e['components'][_0x41aadc(0x13a)](_0x5150d7=>_0x5150d7[_0x41aadc(0x159)]['id']===_0x4996d3[_0x41aadc(0x151)]);if(!_0x45e82b)continue;const _0x544af8={'sourceMemberRecord':_0x4996d3,'listMetadataItem':_0x45e82b[_0x41aadc(0x159)],'files':_0x45e82b[_0x41aadc(0x144)]};this[_0x41aadc(0x13f)](_0x544af8);}}async[a299_0x5ef645(0x13e)](_0x464f11,_0xf12281,_0x248558){const _0x4dfc55=a299_0x5ef645;try{this[_0x4dfc55(0x12e)][_0x4dfc55(0x13f)](_0x464f11),_0x248558();}catch(_0x2188de){_0x248558(_0x2188de);}}async[a299_0x5ef645(0x154)](_0x56c833){const _0x521fb0=a299_0x5ef645;try{this[_0x521fb0(0x12e)][_0x521fb0(0x12f)]&&await this[_0x521fb0(0x13d)](),this[_0x521fb0(0x155)][_0x521fb0(0x139)](_0x521fb0(0x14c)),await this[_0x521fb0(0x155)][_0x521fb0(0x157)](),_0x56c833();}catch(_0x1eb70d){_0x56c833(_0x1eb70d);}}}exports[a299_0x5ef645(0x12d)]=MetadataRetriever;