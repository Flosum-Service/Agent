const a315_0x42603a=a315_0x404d;(function(_0x473aa1,_0x253328){const _0x804771=a315_0x404d,_0x5314e7=_0x473aa1();while(!![]){try{const _0x1ca9aa=-parseInt(_0x804771(0x210))/0x1*(parseInt(_0x804771(0x214))/0x2)+parseInt(_0x804771(0x1ed))/0x3+-parseInt(_0x804771(0x20b))/0x4+-parseInt(_0x804771(0x209))/0x5*(-parseInt(_0x804771(0x20d))/0x6)+-parseInt(_0x804771(0x1f0))/0x7+parseInt(_0x804771(0x1f9))/0x8+parseInt(_0x804771(0x206))/0x9*(parseInt(_0x804771(0x1fe))/0xa);if(_0x1ca9aa===_0x253328)break;else _0x5314e7['push'](_0x5314e7['shift']());}catch(_0x4f88e5){_0x5314e7['push'](_0x5314e7['shift']());}}}(a315_0x2113,0x79cdf));const a315_0x30b31f=(function(){let _0x529f34=!![];return function(_0x562e1d,_0x35ded4){const _0x1cb811=_0x529f34?function(){if(_0x35ded4){const _0x463450=_0x35ded4['apply'](_0x562e1d,arguments);return _0x35ded4=null,_0x463450;}}:function(){};return _0x529f34=![],_0x1cb811;};}()),a315_0xe6462b=a315_0x30b31f(this,function(){const _0x413627=a315_0x404d;return a315_0xe6462b[_0x413627(0x20f)]()[_0x413627(0x1fb)](_0x413627(0x204))[_0x413627(0x20f)]()['constructor'](a315_0xe6462b)['search'](_0x413627(0x204));});a315_0xe6462b();'use strict';function a315_0x2113(){const _0x1ae85a=['files','35918WGkAJB','metadataResult','1005330OixVXM','Retrieved\x20metadata\x20items\x20completed','handle','664832RUIHtc','@flosum/salesforce','length','map','createDeclarativeFilter','metadataTypes','execute','instance','items','4106800BJTuBi','LoggerAdapter','search','join','logger','10cfzIiR','push','PartialRetrieve','metadataType','retrieveMetadata','metadataId','(((.+)+)+)+$','listMetadataItem','1382607fuYcxw','_transform','defineProperty','1240paQOiE','Transform','3829652PqyLxN','MetadataRetriever','13722CWpWwe','sourceMemberRecords','toString','1zUIwzO','log','DeclarativeFilterOptions'];a315_0x2113=function(){return _0x1ae85a;};return a315_0x2113();}Object[a315_0x42603a(0x208)](exports,'__esModule',{'value':!![]}),exports[a315_0x42603a(0x20c)]=void 0x0;const salesforce_1=require(a315_0x42603a(0x1f1)),stream_1=require('stream'),logger_adapter_1=require('./logger/logger.adapter');class MetadataRetriever extends stream_1[a315_0x42603a(0x20a)]{constructor({apiVersion:_0x2bd6bd,instance:_0x3f44fd,metadataTypes:_0x2dad2c,logger:_0x3a26af}){const _0x4428d3=a315_0x42603a;super({'objectMode':!![]}),this[_0x4428d3(0x20e)]=[],this['api']=_0x2bd6bd,this[_0x4428d3(0x1fd)]=_0x3a26af,this[_0x4428d3(0x1f7)]=_0x3f44fd,this[_0x4428d3(0x1f5)]=_0x2dad2c;}['createDeclarativeFilter'](){const _0x126eba=a315_0x42603a,_0x51515c=this[_0x126eba(0x20e)][_0x126eba(0x1f3)](_0x587ea8=>_0x587ea8[_0x126eba(0x203)])[_0x126eba(0x1fc)](';'),_0x5cf4c6=[];return _0x5cf4c6['push']({'field':'id','option':salesforce_1[_0x126eba(0x212)]['IN'],'value':_0x51515c}),_0x5cf4c6;}async[a315_0x42603a(0x202)](){const _0x2ad632=a315_0x42603a,_0x1787ca=this[_0x2ad632(0x1f4)](),_0x3ac9a8=new logger_adapter_1[(_0x2ad632(0x1fa))](this['logger']);this[_0x2ad632(0x215)]=await new salesforce_1[(_0x2ad632(0x200))](this['api'],this['instance'],_0x3ac9a8,_0x1787ca,null,this['metadataTypes'])[_0x2ad632(0x1f6)]();}async[a315_0x42603a(0x1ef)](){const _0x4a0f56=a315_0x42603a;await this[_0x4a0f56(0x202)]();for(const _0x57dff1 of this['sourceMemberRecords']){const _0x574d3b=this['metadataResult'][_0x4a0f56(0x1f8)][_0x57dff1[_0x4a0f56(0x201)]],_0x351bbe=_0x574d3b['components']['find'](_0x25d30e=>_0x25d30e[_0x4a0f56(0x205)]['id']===_0x57dff1[_0x4a0f56(0x203)]);if(!_0x351bbe)continue;const _0x239a86={'sourceMemberRecord':_0x57dff1,'listMetadataItem':_0x351bbe[_0x4a0f56(0x205)],'files':_0x351bbe[_0x4a0f56(0x213)]};this['push'](_0x239a86);}}async[a315_0x42603a(0x207)](_0x6069a7,_0x5888c6,_0x302278){const _0x81a12=a315_0x42603a;try{this[_0x81a12(0x20e)][_0x81a12(0x1ff)](_0x6069a7),_0x302278();}catch(_0x10a1c4){_0x302278(_0x10a1c4);}}async['_flush'](_0x131707){const _0x2e21d7=a315_0x42603a;try{this[_0x2e21d7(0x20e)][_0x2e21d7(0x1f2)]&&await this[_0x2e21d7(0x1ef)](),this[_0x2e21d7(0x1fd)][_0x2e21d7(0x211)](_0x2e21d7(0x1ee)),await this[_0x2e21d7(0x1fd)]['update'](),_0x131707();}catch(_0x56bf5d){_0x131707(_0x56bf5d);}}}function a315_0x404d(_0x45a8d8,_0x10b226){const _0x17656d=a315_0x2113();return a315_0x404d=function(_0xe6462b,_0x30b31f){_0xe6462b=_0xe6462b-0x1ed;let _0x2113b2=_0x17656d[_0xe6462b];return _0x2113b2;},a315_0x404d(_0x45a8d8,_0x10b226);}exports[a315_0x42603a(0x20c)]=MetadataRetriever;