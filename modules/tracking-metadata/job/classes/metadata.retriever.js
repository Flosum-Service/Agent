function a343_0x41ba(){const _0x125573=['instance','The\x20','sourceMemberRecords','metadataId','3328542kXmjup','1599520cuCoHU','MetadataRetriever','handle','3oYiRIH','files','11101097TLauEz','__esModule','defineProperty','DeclarativeFilterOptions','2922796kwxhRy','metadataType','LoggerAdapter','metadataTypes','api','836358yIRkLp','join','\x20was\x20not\x20retrieved.','_transform','items','constructor','components','push','listMetadataItem','_flush','search','logger','metadataName','retrieveMetadata','toString','18921310yCdGUH','metadataResult','createDeclarativeFilter','41305JHWNYL','stream','472TGHJsx','map','log','6Dajhjp','execute','find','(((.+)+)+)+$'];a343_0x41ba=function(){return _0x125573;};return a343_0x41ba();}const a343_0x4f99c=a343_0x57f2;(function(_0x58aba3,_0x1dee81){const _0x3831e9=a343_0x57f2,_0x729920=_0x58aba3();while(!![]){try{const _0x5eddcb=parseInt(_0x3831e9(0x19d))/0x1+-parseInt(_0x3831e9(0x198))/0x2*(parseInt(_0x3831e9(0x192))/0x3)+parseInt(_0x3831e9(0x1b1))/0x4*(parseInt(_0x3831e9(0x1af))/0x5)+-parseInt(_0x3831e9(0x1b4))/0x6*(parseInt(_0x3831e9(0x194))/0x7)+-parseInt(_0x3831e9(0x18f))/0x8+parseInt(_0x3831e9(0x18e))/0x9+parseInt(_0x3831e9(0x1ac))/0xa;if(_0x5eddcb===_0x1dee81)break;else _0x729920['push'](_0x729920['shift']());}catch(_0x54bf50){_0x729920['push'](_0x729920['shift']());}}}(a343_0x41ba,0xc9a3c));const a343_0x267ffb=(function(){let _0x13f1d6=!![];return function(_0x3adc3d,_0x306420){const _0x67c68d=_0x13f1d6?function(){if(_0x306420){const _0x47c1a3=_0x306420['apply'](_0x3adc3d,arguments);return _0x306420=null,_0x47c1a3;}}:function(){};return _0x13f1d6=![],_0x67c68d;};}()),a343_0x555905=a343_0x267ffb(this,function(){const _0x169220=a343_0x57f2;return a343_0x555905['toString']()[_0x169220(0x1a7)](_0x169220(0x1b7))[_0x169220(0x1ab)]()[_0x169220(0x1a2)](a343_0x555905)[_0x169220(0x1a7)](_0x169220(0x1b7));});a343_0x555905();'use strict';Object[a343_0x4f99c(0x196)](exports,a343_0x4f99c(0x195),{'value':!![]}),exports['MetadataRetriever']=void 0x0;const salesforce_1=require('@flosum/salesforce'),stream_1=require(a343_0x4f99c(0x1b0)),logger_adapter_1=require('./logger/logger.adapter');function a343_0x57f2(_0xeb46bb,_0x2ab5b7){const _0x2e421c=a343_0x41ba();return a343_0x57f2=function(_0x555905,_0x267ffb){_0x555905=_0x555905-0x18b;let _0x41ba22=_0x2e421c[_0x555905];return _0x41ba22;},a343_0x57f2(_0xeb46bb,_0x2ab5b7);}class MetadataRetriever extends stream_1['Transform']{constructor({apiVersion:_0x5735af,instance:_0x429bc5,metadataTypes:_0x4951cf,logger:_0x2a0ae2}){const _0xff325=a343_0x4f99c;super({'objectMode':!![]}),this[_0xff325(0x18c)]=[],this[_0xff325(0x19c)]=_0x5735af,this[_0xff325(0x1a8)]=_0x2a0ae2,this[_0xff325(0x1b8)]=_0x429bc5,this['metadataTypes']=_0x4951cf;}['createDeclarativeFilter'](){const _0x563167=a343_0x4f99c,_0x3858ad=this[_0x563167(0x18c)][_0x563167(0x1b2)](_0x194fb9=>_0x194fb9[_0x563167(0x18d)])[_0x563167(0x19e)](';'),_0x327919=[];return _0x327919[_0x563167(0x1a4)]({'field':'id','option':salesforce_1[_0x563167(0x197)]['IN'],'value':_0x3858ad}),_0x327919;}async[a343_0x4f99c(0x1aa)](){const _0x146a3b=a343_0x4f99c,_0x1b187e=this[_0x146a3b(0x1ae)](),_0xb30009=new logger_adapter_1[(_0x146a3b(0x19a))](this[_0x146a3b(0x1a8)]);this[_0x146a3b(0x1ad)]=await new salesforce_1['PartialRetrieve'](this[_0x146a3b(0x19c)],this[_0x146a3b(0x1b8)],_0xb30009,_0x1b187e,null,this[_0x146a3b(0x19b)])[_0x146a3b(0x1b5)]();}async[a343_0x4f99c(0x191)](){const _0x1c9d7d=a343_0x4f99c;await this[_0x1c9d7d(0x1aa)]();for(const _0x202630 of this[_0x1c9d7d(0x18c)]){const _0x41d202=this[_0x1c9d7d(0x1ad)][_0x1c9d7d(0x1a1)][_0x202630[_0x1c9d7d(0x199)]],_0x56c104=_0x41d202===null||_0x41d202===void 0x0?void 0x0:_0x41d202[_0x1c9d7d(0x1a3)][_0x1c9d7d(0x1b6)](_0x56c87d=>_0x56c87d[_0x1c9d7d(0x1a5)]['id']===_0x202630[_0x1c9d7d(0x18d)]);if(!_0x56c104){this[_0x1c9d7d(0x1a8)][_0x1c9d7d(0x1b3)](_0x1c9d7d(0x18b)+_0x202630[_0x1c9d7d(0x1a9)]+'\x20'+_0x202630[_0x1c9d7d(0x199)]+_0x1c9d7d(0x19f));continue;}const _0x47cd0e={'sourceMemberRecord':_0x202630,'listMetadataItem':_0x56c104[_0x1c9d7d(0x1a5)],'files':_0x56c104[_0x1c9d7d(0x193)]};this['push'](_0x47cd0e);}}async[a343_0x4f99c(0x1a0)](_0x20ee9a,_0x45a1d4,_0x450bd0){const _0x1c9fae=a343_0x4f99c;try{this[_0x1c9fae(0x18c)][_0x1c9fae(0x1a4)](_0x20ee9a),_0x450bd0();}catch(_0x280d01){_0x450bd0(_0x280d01);}}async[a343_0x4f99c(0x1a6)](_0x3be3ef){const _0x22b7e8=a343_0x4f99c;try{this[_0x22b7e8(0x18c)]['length']&&await this[_0x22b7e8(0x191)](),this[_0x22b7e8(0x1a8)][_0x22b7e8(0x1b3)]('Retrieved\x20metadata\x20items\x20completed'),await this[_0x22b7e8(0x1a8)]['update'](),_0x3be3ef();}catch(_0x3fc9cd){_0x3be3ef(_0x3fc9cd);}}}exports[a343_0x4f99c(0x190)]=MetadataRetriever;