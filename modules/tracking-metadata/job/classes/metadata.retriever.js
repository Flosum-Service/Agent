const a342_0x5506d3=a342_0x7091;(function(_0x9be129,_0x587af2){const _0x5e662e=a342_0x7091,_0x1c826c=_0x9be129();while(!![]){try{const _0x4dc277=parseInt(_0x5e662e(0xf5))/0x1*(-parseInt(_0x5e662e(0x10d))/0x2)+parseInt(_0x5e662e(0x109))/0x3+parseInt(_0x5e662e(0xef))/0x4+-parseInt(_0x5e662e(0xf6))/0x5+parseInt(_0x5e662e(0xea))/0x6*(parseInt(_0x5e662e(0xf2))/0x7)+-parseInt(_0x5e662e(0xfe))/0x8*(parseInt(_0x5e662e(0xe3))/0x9)+parseInt(_0x5e662e(0xfd))/0xa;if(_0x4dc277===_0x587af2)break;else _0x1c826c['push'](_0x1c826c['shift']());}catch(_0x43e9dc){_0x1c826c['push'](_0x1c826c['shift']());}}}(a342_0x4438,0xe19bb));function a342_0x7091(_0x43f369,_0x321dca){const _0x10aba5=a342_0x4438();return a342_0x7091=function(_0x5a6523,_0xadece1){_0x5a6523=_0x5a6523-0xe3;let _0x4438aa=_0x10aba5[_0x5a6523];return _0x4438aa;},a342_0x7091(_0x43f369,_0x321dca);}const a342_0xadece1=(function(){let _0x140e91=!![];return function(_0x7fe65c,_0x193f19){const _0x205ea4=_0x140e91?function(){const _0x5ba1fa=a342_0x7091;if(_0x193f19){const _0x2a656c=_0x193f19[_0x5ba1fa(0xf8)](_0x7fe65c,arguments);return _0x193f19=null,_0x2a656c;}}:function(){};return _0x140e91=![],_0x205ea4;};}()),a342_0x5a6523=a342_0xadece1(this,function(){const _0x156f44=a342_0x7091;return a342_0x5a6523[_0x156f44(0x10b)]()[_0x156f44(0xee)](_0x156f44(0xe5))['toString']()[_0x156f44(0xe9)](a342_0x5a6523)[_0x156f44(0xee)]('(((.+)+)+)+$');});a342_0x5a6523();'use strict';Object[a342_0x5506d3(0xf3)](exports,a342_0x5506d3(0x103),{'value':!![]}),exports[a342_0x5506d3(0xfc)]=void 0x0;function a342_0x4438(){const _0x12d83e=['instance','sourceMemberRecords','DeclarativeFilterOptions','4384929yXpDEN','metadataType','toString','metadataResult','2XLUsaT','\x20was\x20not\x20retrieved.','Retrieved\x20metadata\x20items\x20completed','logger','metadataTypes','88659yAZBTG','api','(((.+)+)+)+$','PartialRetrieve','retrieveMetadata','metadataName','constructor','17046FcbGkX','handle','length','find','search','6407040yNLQsp','createDeclarativeFilter','_transform','35uvimsA','defineProperty','listMetadataItem','1278520peDmBq','5047735XfmHVr','execute','apply','log','@flosum/salesforce','metadataId','MetadataRetriever','10408420secoRV','736DptrNf','The\x20','components','update','files','__esModule','./logger/logger.adapter','LoggerAdapter'];a342_0x4438=function(){return _0x12d83e;};return a342_0x4438();}const salesforce_1=require(a342_0x5506d3(0xfa)),stream_1=require('stream'),logger_adapter_1=require(a342_0x5506d3(0x104));class MetadataRetriever extends stream_1['Transform']{constructor({apiVersion:_0x244499,instance:_0x15e517,metadataTypes:_0x2cafaf,logger:_0x561c7e}){const _0x4b7565=a342_0x5506d3;super({'objectMode':!![]}),this[_0x4b7565(0x107)]=[],this[_0x4b7565(0xe4)]=_0x244499,this[_0x4b7565(0x110)]=_0x561c7e,this[_0x4b7565(0x106)]=_0x15e517,this['metadataTypes']=_0x2cafaf;}[a342_0x5506d3(0xf0)](){const _0x3d25be=a342_0x5506d3,_0x9df0cd=this[_0x3d25be(0x107)]['map'](_0x57c898=>_0x57c898['metadataId'])['join'](';'),_0x4e8e57=[];return _0x4e8e57['push']({'field':'id','option':salesforce_1[_0x3d25be(0x108)]['IN'],'value':_0x9df0cd}),_0x4e8e57;}async['retrieveMetadata'](){const _0xc94698=a342_0x5506d3,_0x532d80=this['createDeclarativeFilter'](),_0x1370af=new logger_adapter_1[(_0xc94698(0x105))](this[_0xc94698(0x110)]);this[_0xc94698(0x10c)]=await new salesforce_1[(_0xc94698(0xe6))](this[_0xc94698(0xe4)],this[_0xc94698(0x106)],_0x1370af,_0x532d80,null,this[_0xc94698(0x111)])[_0xc94698(0xf7)]();}async[a342_0x5506d3(0xeb)](){const _0x3a8c1d=a342_0x5506d3;await this[_0x3a8c1d(0xe7)]();for(const _0x24dee2 of this[_0x3a8c1d(0x107)]){const _0x204a7b=this[_0x3a8c1d(0x10c)]['items'][_0x24dee2['metadataType']],_0x24581b=_0x204a7b===null||_0x204a7b===void 0x0?void 0x0:_0x204a7b[_0x3a8c1d(0x100)][_0x3a8c1d(0xed)](_0x40953a=>_0x40953a[_0x3a8c1d(0xf4)]['id']===_0x24dee2[_0x3a8c1d(0xfb)]);if(!_0x24581b){this[_0x3a8c1d(0x110)][_0x3a8c1d(0xf9)](_0x3a8c1d(0xff)+_0x24dee2[_0x3a8c1d(0xe8)]+'\x20'+_0x24dee2[_0x3a8c1d(0x10a)]+_0x3a8c1d(0x10e));continue;}const _0x22bc2d={'sourceMemberRecord':_0x24dee2,'listMetadataItem':_0x24581b[_0x3a8c1d(0xf4)],'files':_0x24581b[_0x3a8c1d(0x102)]};this['push'](_0x22bc2d);}}async[a342_0x5506d3(0xf1)](_0x473f85,_0x288a0e,_0x334393){const _0x88c592=a342_0x5506d3;try{this[_0x88c592(0x107)]['push'](_0x473f85),_0x334393();}catch(_0x4acbb8){_0x334393(_0x4acbb8);}}async['_flush'](_0x41d3cb){const _0x4a605f=a342_0x5506d3;try{this[_0x4a605f(0x107)][_0x4a605f(0xec)]&&await this[_0x4a605f(0xeb)](),this[_0x4a605f(0x110)][_0x4a605f(0xf9)](_0x4a605f(0x10f)),await this['logger'][_0x4a605f(0x101)](),_0x41d3cb();}catch(_0x2f6259){_0x41d3cb(_0x2f6259);}}}exports[a342_0x5506d3(0xfc)]=MetadataRetriever;