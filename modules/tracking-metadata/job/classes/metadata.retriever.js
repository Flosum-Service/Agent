const a344_0x15f87e=a344_0x230a;function a344_0xb20a(){const _0x564dbb=['3301jBjOrl','constructor','apply','./logger/logger.adapter','defineProperty','@flosum/salesforce','\x20was\x20not\x20retrieved.','components','4084870fbxMOF','join','metadataId','log','(((.+)+)+)+$','MetadataRetriever','search','12501016RDlKQf','metadataResult','_transform','metadataName','Transform','Retrieved\x20metadata\x20items\x20completed','length','810SiSOCP','files','update','handle','6677865ZCYNuv','269943GjltxZ','toString','_flush','find','metadataTypes','metadataType','push','api','instance','listMetadataItem','24NfnZvM','DeclarativeFilterOptions','retrieveMetadata','PartialRetrieve','sourceMemberRecords','items','789061GxWkez','createDeclarativeFilter','execute','logger','1861488OJXKGo'];a344_0xb20a=function(){return _0x564dbb;};return a344_0xb20a();}function a344_0x230a(_0x4c8889,_0x8282df){const _0x43d6e1=a344_0xb20a();return a344_0x230a=function(_0x5c391e,_0xa445fa){_0x5c391e=_0x5c391e-0x110;let _0xb20a12=_0x43d6e1[_0x5c391e];return _0xb20a12;},a344_0x230a(_0x4c8889,_0x8282df);}(function(_0x5df953,_0x5ba512){const _0x55af1d=a344_0x230a,_0x19e08f=_0x5df953();while(!![]){try{const _0x4ff0cc=-parseInt(_0x55af1d(0x130))/0x1*(-parseInt(_0x55af1d(0x116))/0x2)+parseInt(_0x55af1d(0x11b))/0x3*(-parseInt(_0x55af1d(0x125))/0x4)+parseInt(_0x55af1d(0x138))/0x5+parseInt(_0x55af1d(0x12f))/0x6+-parseInt(_0x55af1d(0x12b))/0x7+-parseInt(_0x55af1d(0x13f))/0x8+parseInt(_0x55af1d(0x11a))/0x9;if(_0x4ff0cc===_0x5ba512)break;else _0x19e08f['push'](_0x19e08f['shift']());}catch(_0x3cc332){_0x19e08f['push'](_0x19e08f['shift']());}}}(a344_0xb20a,0xf1e9c));const a344_0xa445fa=(function(){let _0x496780=!![];return function(_0x2d71b3,_0x5e245a){const _0x314432=_0x496780?function(){const _0x2b05f3=a344_0x230a;if(_0x5e245a){const _0x390821=_0x5e245a[_0x2b05f3(0x132)](_0x2d71b3,arguments);return _0x5e245a=null,_0x390821;}}:function(){};return _0x496780=![],_0x314432;};}()),a344_0x5c391e=a344_0xa445fa(this,function(){const _0x5966e8=a344_0x230a;return a344_0x5c391e[_0x5966e8(0x11c)]()['search'](_0x5966e8(0x13c))['toString']()[_0x5966e8(0x131)](a344_0x5c391e)[_0x5966e8(0x13e)](_0x5966e8(0x13c));});a344_0x5c391e();'use strict';Object[a344_0x15f87e(0x134)](exports,'__esModule',{'value':!![]}),exports[a344_0x15f87e(0x13d)]=void 0x0;const salesforce_1=require(a344_0x15f87e(0x135)),stream_1=require('stream'),logger_adapter_1=require(a344_0x15f87e(0x133));class MetadataRetriever extends stream_1[a344_0x15f87e(0x113)]{constructor({apiVersion:_0x384c62,instance:_0x35cc57,metadataTypes:_0x1d6986,logger:_0x5d76a4}){const _0x25816b=a344_0x15f87e;super({'objectMode':!![]}),this[_0x25816b(0x129)]=[],this[_0x25816b(0x122)]=_0x384c62,this[_0x25816b(0x12e)]=_0x5d76a4,this[_0x25816b(0x123)]=_0x35cc57,this[_0x25816b(0x11f)]=_0x1d6986;}[a344_0x15f87e(0x12c)](){const _0x3cdd7c=a344_0x15f87e,_0xf0a990=this[_0x3cdd7c(0x129)]['map'](_0xab6a98=>_0xab6a98[_0x3cdd7c(0x13a)])[_0x3cdd7c(0x139)](';'),_0x4250ee=[];return _0x4250ee[_0x3cdd7c(0x121)]({'field':'id','option':salesforce_1[_0x3cdd7c(0x126)]['IN'],'value':_0xf0a990}),_0x4250ee;}async['retrieveMetadata'](){const _0x4e2db2=a344_0x15f87e,_0x324e06=this[_0x4e2db2(0x12c)](),_0x24e12e=new logger_adapter_1['LoggerAdapter'](this[_0x4e2db2(0x12e)]);this['metadataResult']=await new salesforce_1[(_0x4e2db2(0x128))](this['api'],this[_0x4e2db2(0x123)],_0x24e12e,_0x324e06,null,this[_0x4e2db2(0x11f)])[_0x4e2db2(0x12d)]();}async[a344_0x15f87e(0x119)](){const _0x582885=a344_0x15f87e;await this[_0x582885(0x127)]();for(const _0x4d9fbc of this[_0x582885(0x129)]){const _0x142cce=this[_0x582885(0x110)][_0x582885(0x12a)][_0x4d9fbc[_0x582885(0x120)]],_0x27343b=_0x142cce===null||_0x142cce===void 0x0?void 0x0:_0x142cce[_0x582885(0x137)][_0x582885(0x11e)](_0x12fc7d=>_0x12fc7d['listMetadataItem']['id']===_0x4d9fbc['metadataId']);if(!_0x27343b){this[_0x582885(0x12e)][_0x582885(0x13b)]('The\x20'+_0x4d9fbc[_0x582885(0x112)]+'\x20'+_0x4d9fbc[_0x582885(0x120)]+_0x582885(0x136));continue;}const _0x12d522={'sourceMemberRecord':_0x4d9fbc,'listMetadataItem':_0x27343b[_0x582885(0x124)],'files':_0x27343b[_0x582885(0x117)]};this[_0x582885(0x121)](_0x12d522);}}async[a344_0x15f87e(0x111)](_0x33a9d1,_0x2b1c66,_0x799c62){const _0x5d05d6=a344_0x15f87e;try{this[_0x5d05d6(0x129)][_0x5d05d6(0x121)](_0x33a9d1),_0x799c62();}catch(_0x3eee28){_0x799c62(_0x3eee28);}}async[a344_0x15f87e(0x11d)](_0x3e5308){const _0x4dff23=a344_0x15f87e;try{this[_0x4dff23(0x129)][_0x4dff23(0x115)]&&await this[_0x4dff23(0x119)](),this['logger'][_0x4dff23(0x13b)](_0x4dff23(0x114)),await this['logger'][_0x4dff23(0x118)](),_0x3e5308();}catch(_0x202c7d){_0x3e5308(_0x202c7d);}}}exports['MetadataRetriever']=MetadataRetriever;