const a330_0x458f3b=a330_0x1778;(function(_0xcf25d6,_0xcaad4a){const _0x217bd0=a330_0x1778,_0x58a9b5=_0xcf25d6();while(!![]){try{const _0x556950=-parseInt(_0x217bd0(0x155))/0x1*(-parseInt(_0x217bd0(0x12f))/0x2)+parseInt(_0x217bd0(0x13f))/0x3+-parseInt(_0x217bd0(0x13a))/0x4+parseInt(_0x217bd0(0x133))/0x5*(parseInt(_0x217bd0(0x13d))/0x6)+-parseInt(_0x217bd0(0x138))/0x7*(parseInt(_0x217bd0(0x151))/0x8)+-parseInt(_0x217bd0(0x156))/0x9+parseInt(_0x217bd0(0x131))/0xa*(parseInt(_0x217bd0(0x137))/0xb);if(_0x556950===_0xcaad4a)break;else _0x58a9b5['push'](_0x58a9b5['shift']());}catch(_0x156872){_0x58a9b5['push'](_0x58a9b5['shift']());}}}(a330_0x391c,0x6dc5a));const a330_0x386840=(function(){let _0x16b2ca=!![];return function(_0x35cd9b,_0x286a59){const _0x717b=_0x16b2ca?function(){const _0x1ca9b7=a330_0x1778;if(_0x286a59){const _0x29c903=_0x286a59[_0x1ca9b7(0x146)](_0x35cd9b,arguments);return _0x286a59=null,_0x29c903;}}:function(){};return _0x16b2ca=![],_0x717b;};}()),a330_0x354744=a330_0x386840(this,function(){const _0x287539=a330_0x1778;return a330_0x354744[_0x287539(0x13e)]()[_0x287539(0x154)](_0x287539(0x14d))[_0x287539(0x13e)]()['constructor'](a330_0x354744)[_0x287539(0x154)](_0x287539(0x14d));});function a330_0x1778(_0x54eceb,_0x19f9f9){const _0x1297ea=a330_0x391c();return a330_0x1778=function(_0x354744,_0x386840){_0x354744=_0x354744-0x12e;let _0x391cd2=_0x1297ea[_0x354744];return _0x391cd2;},a330_0x1778(_0x54eceb,_0x19f9f9);}a330_0x354744();'use strict';Object[a330_0x458f3b(0x14c)](exports,a330_0x458f3b(0x13c),{'value':!![]}),exports['MetadataRetriever']=void 0x0;function a330_0x391c(){const _0x15ac82=['find','__esModule','1446GDgcEY','toString','185715eQvOaz','listMetadataItem','createDeclarativeFilter','DeclarativeFilterOptions','Retrieved\x20metadata\x20items\x20completed','logger','instance','apply','handle','update','MetadataRetriever','metadataResult','sourceMemberRecords','defineProperty','(((.+)+)+)+$','components','metadataId','join','112SFHXwj','stream','execute','search','1PMKPaE','1393434ZJlSux','api','files','./logger/logger.adapter','LoggerAdapter','180976OYiyGr','Transform','8266220rloNfz','length','3745ybJesn','_transform','log','push','11kGiikw','72408BSdUgi','metadataTypes','1641024PrvQGT'];a330_0x391c=function(){return _0x15ac82;};return a330_0x391c();}const salesforce_1=require('@flosum/salesforce'),stream_1=require(a330_0x458f3b(0x152)),logger_adapter_1=require(a330_0x458f3b(0x159));class MetadataRetriever extends stream_1[a330_0x458f3b(0x130)]{constructor({apiVersion:_0x4d0b4f,instance:_0x239b36,metadataTypes:_0x49e93a,logger:_0xf644cf}){const _0x3e877b=a330_0x458f3b;super({'objectMode':!![]}),this[_0x3e877b(0x14b)]=[],this[_0x3e877b(0x157)]=_0x4d0b4f,this['logger']=_0xf644cf,this[_0x3e877b(0x145)]=_0x239b36,this[_0x3e877b(0x139)]=_0x49e93a;}[a330_0x458f3b(0x141)](){const _0x24e256=a330_0x458f3b,_0x127aab=this[_0x24e256(0x14b)]['map'](_0x541591=>_0x541591['metadataId'])[_0x24e256(0x150)](';'),_0xc6ce60=[];return _0xc6ce60[_0x24e256(0x136)]({'field':'id','option':salesforce_1[_0x24e256(0x142)]['IN'],'value':_0x127aab}),_0xc6ce60;}async['retrieveMetadata'](){const _0x14fc9e=a330_0x458f3b,_0x5b5fd6=this[_0x14fc9e(0x141)](),_0x5e3e70=new logger_adapter_1[(_0x14fc9e(0x12e))](this['logger']);this['metadataResult']=await new salesforce_1['PartialRetrieve'](this[_0x14fc9e(0x157)],this[_0x14fc9e(0x145)],_0x5e3e70,_0x5b5fd6,null,this[_0x14fc9e(0x139)])[_0x14fc9e(0x153)]();}async[a330_0x458f3b(0x147)](){const _0x4c7fe9=a330_0x458f3b;await this['retrieveMetadata']();for(const _0x1ec30a of this['sourceMemberRecords']){const _0xe31904=this[_0x4c7fe9(0x14a)]['items'][_0x1ec30a['metadataType']],_0x280b1e=_0xe31904[_0x4c7fe9(0x14e)][_0x4c7fe9(0x13b)](_0x5c9cc7=>_0x5c9cc7[_0x4c7fe9(0x140)]['id']===_0x1ec30a[_0x4c7fe9(0x14f)]);if(!_0x280b1e)continue;const _0xe61aad={'sourceMemberRecord':_0x1ec30a,'listMetadataItem':_0x280b1e[_0x4c7fe9(0x140)],'files':_0x280b1e[_0x4c7fe9(0x158)]};this[_0x4c7fe9(0x136)](_0xe61aad);}}async[a330_0x458f3b(0x134)](_0x4e0b7d,_0x4dacc1,_0x29f101){const _0x4070b0=a330_0x458f3b;try{this['sourceMemberRecords'][_0x4070b0(0x136)](_0x4e0b7d),_0x29f101();}catch(_0x226a63){_0x29f101(_0x226a63);}}async['_flush'](_0xf3267b){const _0x2aa519=a330_0x458f3b;try{this[_0x2aa519(0x14b)][_0x2aa519(0x132)]&&await this['handle'](),this[_0x2aa519(0x144)][_0x2aa519(0x135)](_0x2aa519(0x143)),await this[_0x2aa519(0x144)][_0x2aa519(0x148)](),_0xf3267b();}catch(_0x22f03c){_0xf3267b(_0x22f03c);}}}exports[a330_0x458f3b(0x149)]=MetadataRetriever;