const a299_0x4a8426=a299_0x4423;(function(_0x2025eb,_0x37e0bb){const _0x15f092=a299_0x4423,_0x1e23ad=_0x2025eb();while(!![]){try{const _0x445060=parseInt(_0x15f092(0x168))/0x1+parseInt(_0x15f092(0x157))/0x2*(-parseInt(_0x15f092(0x155))/0x3)+parseInt(_0x15f092(0x179))/0x4+parseInt(_0x15f092(0x156))/0x5+-parseInt(_0x15f092(0x15b))/0x6*(-parseInt(_0x15f092(0x17b))/0x7)+parseInt(_0x15f092(0x174))/0x8+parseInt(_0x15f092(0x165))/0x9*(-parseInt(_0x15f092(0x17a))/0xa);if(_0x445060===_0x37e0bb)break;else _0x1e23ad['push'](_0x1e23ad['shift']());}catch(_0x3cdc9d){_0x1e23ad['push'](_0x1e23ad['shift']());}}}(a299_0xf9b7,0xcfd31));const a299_0xceed26=(function(){let _0x2197df=!![];return function(_0x2a75cd,_0x9acee5){const _0x2497a7=_0x2197df?function(){const _0x2da51c=a299_0x4423;if(_0x9acee5){const _0x55ce17=_0x9acee5[_0x2da51c(0x178)](_0x2a75cd,arguments);return _0x9acee5=null,_0x55ce17;}}:function(){};return _0x2197df=![],_0x2497a7;};}()),a299_0x21f532=a299_0xceed26(this,function(){const _0x58c823=a299_0x4423;return a299_0x21f532[_0x58c823(0x16e)]()[_0x58c823(0x167)]('(((.+)+)+)+$')[_0x58c823(0x16e)]()[_0x58c823(0x16f)](a299_0x21f532)[_0x58c823(0x167)](_0x58c823(0x161));});a299_0x21f532();'use strict';Object[a299_0x4a8426(0x16d)](exports,'__esModule',{'value':!![]}),exports['MetadataRetriever']=void 0x0;function a299_0x4423(_0x535066,_0x1252a1){const _0x1421f1=a299_0xf9b7();return a299_0x4423=function(_0x21f532,_0xceed26){_0x21f532=_0x21f532-0x154;let _0xf9b7c0=_0x1421f1[_0x21f532];return _0xf9b7c0;},a299_0x4423(_0x535066,_0x1252a1);}const salesforce_1=require(a299_0x4a8426(0x15c)),stream_1=require(a299_0x4a8426(0x163)),logger_adapter_1=require(a299_0x4a8426(0x162));function a299_0xf9b7(){const _0x4385cd=['(((.+)+)+)+$','./logger/logger.adapter','stream','files','26897463tIzTfs','retrieveMetadata','search','1022673bFxcYn','push','length','logger','listMetadataItem','defineProperty','toString','constructor','api','metadataResult','handle','LoggerAdapter','10116664WryrUs','_transform','log','Retrieved\x20metadata\x20items\x20completed','apply','6112768ldpKYC','20FuggIj','3583216zlGytg','metadataId','21hTdMbj','7637040cNEReT','14302AWjxxo','createDeclarativeFilter','Transform','PartialRetrieve','18mYPiKn','@flosum/salesforce','join','sourceMemberRecords','DeclarativeFilterOptions','execute'];a299_0xf9b7=function(){return _0x4385cd;};return a299_0xf9b7();}class MetadataRetriever extends stream_1[a299_0x4a8426(0x159)]{constructor({apiVersion:_0x432059,instance:_0x1cf6f1,metadataTypes:_0x10bc46,logger:_0x2b627b}){const _0x238e67=a299_0x4a8426;super({'objectMode':!![]}),this[_0x238e67(0x15e)]=[],this[_0x238e67(0x170)]=_0x432059,this[_0x238e67(0x16b)]=_0x2b627b,this['instance']=_0x1cf6f1,this['metadataTypes']=_0x10bc46;}['createDeclarativeFilter'](){const _0x2f7de8=a299_0x4a8426,_0x14fa53=this[_0x2f7de8(0x15e)]['map'](_0x142ea2=>_0x142ea2[_0x2f7de8(0x154)])[_0x2f7de8(0x15d)](';'),_0x2cd5ea=[];return _0x2cd5ea[_0x2f7de8(0x169)]({'field':'id','option':salesforce_1[_0x2f7de8(0x15f)]['IN'],'value':_0x14fa53}),_0x2cd5ea;}async[a299_0x4a8426(0x166)](){const _0x59c1c8=a299_0x4a8426,_0x5c434e=this[_0x59c1c8(0x158)](),_0x5bbf3a=new logger_adapter_1[(_0x59c1c8(0x173))](this[_0x59c1c8(0x16b)]);this[_0x59c1c8(0x171)]=await new salesforce_1[(_0x59c1c8(0x15a))](this[_0x59c1c8(0x170)],this['instance'],_0x5bbf3a,_0x5c434e,null,this['metadataTypes'])[_0x59c1c8(0x160)]();}async['handle'](){const _0x1984c5=a299_0x4a8426;await this[_0x1984c5(0x166)]();for(const _0x1fa64c of this[_0x1984c5(0x15e)]){const _0xd1844f=this[_0x1984c5(0x171)]['items'][_0x1fa64c['metadataType']],_0x470361=_0xd1844f['components']['find'](_0x7979d3=>_0x7979d3[_0x1984c5(0x16c)]['id']===_0x1fa64c[_0x1984c5(0x154)]);if(!_0x470361)continue;const _0x31a5c6={'sourceMemberRecord':_0x1fa64c,'listMetadataItem':_0x470361[_0x1984c5(0x16c)],'files':_0x470361[_0x1984c5(0x164)]};this[_0x1984c5(0x169)](_0x31a5c6);}}async[a299_0x4a8426(0x175)](_0x33b329,_0x1f49d3,_0xbda56){const _0x13fd9f=a299_0x4a8426;try{this[_0x13fd9f(0x15e)][_0x13fd9f(0x169)](_0x33b329),_0xbda56();}catch(_0x1f9278){_0xbda56(_0x1f9278);}}async['_flush'](_0xb3a162){const _0x4693ea=a299_0x4a8426;try{this[_0x4693ea(0x15e)][_0x4693ea(0x16a)]&&await this[_0x4693ea(0x172)](),this[_0x4693ea(0x16b)][_0x4693ea(0x176)](_0x4693ea(0x177)),await this[_0x4693ea(0x16b)]['update'](),_0xb3a162();}catch(_0x5d69e5){_0xb3a162(_0x5d69e5);}}}exports['MetadataRetriever']=MetadataRetriever;