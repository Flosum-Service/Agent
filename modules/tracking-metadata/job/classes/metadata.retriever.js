const a299_0x18becc=a299_0x92a0;(function(_0x3dd415,_0x337946){const _0x53a589=a299_0x92a0,_0x415ba3=_0x3dd415();while(!![]){try{const _0x466387=-parseInt(_0x53a589(0x1f7))/0x1*(parseInt(_0x53a589(0x1eb))/0x2)+parseInt(_0x53a589(0x1d1))/0x3*(-parseInt(_0x53a589(0x1f5))/0x4)+parseInt(_0x53a589(0x1e1))/0x5+parseInt(_0x53a589(0x1d8))/0x6*(-parseInt(_0x53a589(0x1e0))/0x7)+-parseInt(_0x53a589(0x1f2))/0x8*(-parseInt(_0x53a589(0x1e5))/0x9)+parseInt(_0x53a589(0x1ef))/0xa+-parseInt(_0x53a589(0x1f0))/0xb*(-parseInt(_0x53a589(0x1f9))/0xc);if(_0x466387===_0x337946)break;else _0x415ba3['push'](_0x415ba3['shift']());}catch(_0x2aaba5){_0x415ba3['push'](_0x415ba3['shift']());}}}(a299_0xcaf4,0x3a514));const a299_0x40ee10=(function(){let _0x13f7c0=!![];return function(_0x31b981,_0x191f20){const _0x463358=_0x13f7c0?function(){const _0x51f2c5=a299_0x92a0;if(_0x191f20){const _0x388feb=_0x191f20[_0x51f2c5(0x1fa)](_0x31b981,arguments);return _0x191f20=null,_0x388feb;}}:function(){};return _0x13f7c0=![],_0x463358;};}()),a299_0x4bfaf8=a299_0x40ee10(this,function(){const _0x149dab=a299_0x92a0;return a299_0x4bfaf8['toString']()[_0x149dab(0x1d9)](_0x149dab(0x1e7))['toString']()[_0x149dab(0x1f1)](a299_0x4bfaf8)['search']('(((.+)+)+)+$');});a299_0x4bfaf8();'use strict';function a299_0xcaf4(){const _0x24837b=['items','1173444wXAiLG','apply','instance','execute','metadataTypes','createDeclarativeFilter','957VRPBot','logger','PartialRetrieve','retrieveMetadata','metadataType','Transform','_transform','678jjWaYy','search','metadataResult','metadataId','api','__esModule','LoggerAdapter','stream','7945gMWSoW','857365MvnyQf','defineProperty','Retrieved\x20metadata\x20items\x20completed','sourceMemberRecords','9jEKOwk','_flush','(((.+)+)+)+$','components','join','handle','49274qGwEXI','DeclarativeFilterOptions','push','listMetadataItem','2292200jooAhR','11MofIQR','constructor','211608bbeHeq','MetadataRetriever','find','1052CoUDGg','length','3AGWmqb'];a299_0xcaf4=function(){return _0x24837b;};return a299_0xcaf4();}Object[a299_0x18becc(0x1e2)](exports,a299_0x18becc(0x1dd),{'value':!![]}),exports[a299_0x18becc(0x1f3)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),stream_1=require(a299_0x18becc(0x1df)),logger_adapter_1=require('./logger/logger.adapter');function a299_0x92a0(_0x50384f,_0x3beee6){const _0x534322=a299_0xcaf4();return a299_0x92a0=function(_0x4bfaf8,_0x40ee10){_0x4bfaf8=_0x4bfaf8-0x1d0;let _0xcaf45e=_0x534322[_0x4bfaf8];return _0xcaf45e;},a299_0x92a0(_0x50384f,_0x3beee6);}class MetadataRetriever extends stream_1[a299_0x18becc(0x1d6)]{constructor({apiVersion:_0x397300,instance:_0x36af80,metadataTypes:_0x4a83bb,logger:_0x30a53d}){const _0x169206=a299_0x18becc;super({'objectMode':!![]}),this[_0x169206(0x1e4)]=[],this[_0x169206(0x1dc)]=_0x397300,this['logger']=_0x30a53d,this[_0x169206(0x1fb)]=_0x36af80,this['metadataTypes']=_0x4a83bb;}[a299_0x18becc(0x1d0)](){const _0x4f2c1e=a299_0x18becc,_0x2e858f=this[_0x4f2c1e(0x1e4)]['map'](_0x576084=>_0x576084[_0x4f2c1e(0x1db)])[_0x4f2c1e(0x1e9)](';'),_0x323629=[];return _0x323629['push']({'field':'id','option':salesforce_1[_0x4f2c1e(0x1ec)]['IN'],'value':_0x2e858f}),_0x323629;}async[a299_0x18becc(0x1d4)](){const _0x23449f=a299_0x18becc,_0x1666a6=this['createDeclarativeFilter'](),_0x5181e8=new logger_adapter_1[(_0x23449f(0x1de))](this[_0x23449f(0x1d2)]);this[_0x23449f(0x1da)]=await new salesforce_1[(_0x23449f(0x1d3))](this[_0x23449f(0x1dc)],this[_0x23449f(0x1fb)],_0x5181e8,_0x1666a6,null,this[_0x23449f(0x1fd)])[_0x23449f(0x1fc)]();}async[a299_0x18becc(0x1ea)](){const _0x34c9f3=a299_0x18becc;await this[_0x34c9f3(0x1d4)]();for(const _0x2151fb of this[_0x34c9f3(0x1e4)]){const _0x54d937=this[_0x34c9f3(0x1da)][_0x34c9f3(0x1f8)][_0x2151fb[_0x34c9f3(0x1d5)]],_0x1d3b6c=_0x54d937[_0x34c9f3(0x1e8)][_0x34c9f3(0x1f4)](_0x1ddd2c=>_0x1ddd2c[_0x34c9f3(0x1ee)]['id']===_0x2151fb[_0x34c9f3(0x1db)]);if(!_0x1d3b6c)continue;const _0x322c2e={'sourceMemberRecord':_0x2151fb,'listMetadataItem':_0x1d3b6c[_0x34c9f3(0x1ee)],'files':_0x1d3b6c['files']};this[_0x34c9f3(0x1ed)](_0x322c2e);}}async[a299_0x18becc(0x1d7)](_0x3eda1b,_0x58a4bc,_0x331a16){const _0x5de7cb=a299_0x18becc;try{this['sourceMemberRecords'][_0x5de7cb(0x1ed)](_0x3eda1b),_0x331a16();}catch(_0x24da69){_0x331a16(_0x24da69);}}async[a299_0x18becc(0x1e6)](_0xb3c93f){const _0x577cfb=a299_0x18becc;try{this[_0x577cfb(0x1e4)][_0x577cfb(0x1f6)]&&await this['handle'](),this['logger']['log'](_0x577cfb(0x1e3)),await this['logger']['update'](),_0xb3c93f();}catch(_0x433c5e){_0xb3c93f(_0x433c5e);}}}exports[a299_0x18becc(0x1f3)]=MetadataRetriever;