const a299_0x5781f1=a299_0x3bb1;(function(_0x14017a,_0x3e3973){const _0x1af1a8=a299_0x3bb1,_0x51b0cd=_0x14017a();while(!![]){try{const _0x4fe6d3=parseInt(_0x1af1a8(0x87))/0x1+-parseInt(_0x1af1a8(0x92))/0x2+parseInt(_0x1af1a8(0x77))/0x3*(-parseInt(_0x1af1a8(0x89))/0x4)+parseInt(_0x1af1a8(0x96))/0x5+parseInt(_0x1af1a8(0x91))/0x6*(parseInt(_0x1af1a8(0x90))/0x7)+parseInt(_0x1af1a8(0x7a))/0x8*(parseInt(_0x1af1a8(0x6e))/0x9)+parseInt(_0x1af1a8(0x73))/0xa*(-parseInt(_0x1af1a8(0x98))/0xb);if(_0x4fe6d3===_0x3e3973)break;else _0x51b0cd['push'](_0x51b0cd['shift']());}catch(_0x2d365b){_0x51b0cd['push'](_0x51b0cd['shift']());}}}(a299_0x1c5e,0x1ea83));const a299_0x4d9104=(function(){let _0x4bac74=!![];return function(_0x21722c,_0x2c992d){const _0x12f2ba=_0x4bac74?function(){const _0x3f81df=a299_0x3bb1;if(_0x2c992d){const _0x5b7e2c=_0x2c992d[_0x3f81df(0x70)](_0x21722c,arguments);return _0x2c992d=null,_0x5b7e2c;}}:function(){};return _0x4bac74=![],_0x12f2ba;};}()),a299_0x91be2d=a299_0x4d9104(this,function(){const _0x3f7955=a299_0x3bb1;return a299_0x91be2d[_0x3f7955(0x7e)]()['search'](_0x3f7955(0x72))['toString']()[_0x3f7955(0x86)](a299_0x91be2d)['search'](_0x3f7955(0x72));});a299_0x91be2d();function a299_0x3bb1(_0x299e19,_0x2a95c6){const _0xec3278=a299_0x1c5e();return a299_0x3bb1=function(_0x91be2d,_0x4d9104){_0x91be2d=_0x91be2d-0x6e;let _0x1c5e44=_0xec3278[_0x91be2d];return _0x1c5e44;},a299_0x3bb1(_0x299e19,_0x2a95c6);}function a299_0x1c5e(){const _0x5ba7cd=['createDeclarativeFilter','sourceMemberRecords','322135hFxoiG','defineProperty','352rUDnCK','1202085OXPagJ','metadataTypes','apply','metadataId','(((.+)+)+)+$','16780HBlSpe','files','logger','update','61038WGHpHe','DeclarativeFilterOptions','push','8YVKHLs','./logger/logger.adapter','components','metadataResult','toString','listMetadataItem','Retrieved\x20metadata\x20items\x20completed','stream','Transform','_flush','LoggerAdapter','handle','constructor','54156mPusvk','metadataType','16RnghTr','join','retrieveMetadata','MetadataRetriever','PartialRetrieve','execute','instance','238567KCsULm','12vmXqPJ','119318tXstmf','@flosum/salesforce'];a299_0x1c5e=function(){return _0x5ba7cd;};return a299_0x1c5e();}'use strict';Object[a299_0x5781f1(0x97)](exports,'__esModule',{'value':!![]}),exports[a299_0x5781f1(0x8c)]=void 0x0;const salesforce_1=require(a299_0x5781f1(0x93)),stream_1=require(a299_0x5781f1(0x81)),logger_adapter_1=require(a299_0x5781f1(0x7b));class MetadataRetriever extends stream_1[a299_0x5781f1(0x82)]{constructor({apiVersion:_0x4d7f12,instance:_0x4faabe,metadataTypes:_0x16c435,logger:_0x4b9435}){const _0x34b69e=a299_0x5781f1;super({'objectMode':!![]}),this[_0x34b69e(0x95)]=[],this['api']=_0x4d7f12,this[_0x34b69e(0x75)]=_0x4b9435,this[_0x34b69e(0x8f)]=_0x4faabe,this[_0x34b69e(0x6f)]=_0x16c435;}[a299_0x5781f1(0x94)](){const _0x26943d=a299_0x5781f1,_0x4b4020=this['sourceMemberRecords']['map'](_0x21d109=>_0x21d109[_0x26943d(0x71)])[_0x26943d(0x8a)](';'),_0xfd4c90=[];return _0xfd4c90[_0x26943d(0x79)]({'field':'id','option':salesforce_1[_0x26943d(0x78)]['IN'],'value':_0x4b4020}),_0xfd4c90;}async[a299_0x5781f1(0x8b)](){const _0x471338=a299_0x5781f1,_0x408850=this[_0x471338(0x94)](),_0x174513=new logger_adapter_1[(_0x471338(0x84))](this[_0x471338(0x75)]);this[_0x471338(0x7d)]=await new salesforce_1[(_0x471338(0x8d))](this['api'],this[_0x471338(0x8f)],_0x174513,_0x408850,null,this[_0x471338(0x6f)])[_0x471338(0x8e)]();}async[a299_0x5781f1(0x85)](){const _0x5dc060=a299_0x5781f1;await this[_0x5dc060(0x8b)]();for(const _0x506e10 of this[_0x5dc060(0x95)]){const _0x350078=this[_0x5dc060(0x7d)]['items'][_0x506e10[_0x5dc060(0x88)]],_0x68c856=_0x350078[_0x5dc060(0x7c)]['find'](_0x46ba0a=>_0x46ba0a['listMetadataItem']['id']===_0x506e10[_0x5dc060(0x71)]);if(!_0x68c856)continue;const _0x79d878={'sourceMemberRecord':_0x506e10,'listMetadataItem':_0x68c856[_0x5dc060(0x7f)],'files':_0x68c856[_0x5dc060(0x74)]};this[_0x5dc060(0x79)](_0x79d878);}}async['_transform'](_0xcc787e,_0x16fb47,_0x571123){const _0x1e7a03=a299_0x5781f1;try{this[_0x1e7a03(0x95)][_0x1e7a03(0x79)](_0xcc787e),_0x571123();}catch(_0x2acb46){_0x571123(_0x2acb46);}}async[a299_0x5781f1(0x83)](_0x952736){const _0x128496=a299_0x5781f1;try{this[_0x128496(0x95)]['length']&&await this[_0x128496(0x85)](),this['logger']['log'](_0x128496(0x80)),await this[_0x128496(0x75)][_0x128496(0x76)](),_0x952736();}catch(_0xeb1a75){_0x952736(_0xeb1a75);}}}exports['MetadataRetriever']=MetadataRetriever;