function a315_0x4954(_0xf00c6b,_0x323f45){const _0x35454d=a315_0x3bc3();return a315_0x4954=function(_0x5d7d79,_0x15210a){_0x5d7d79=_0x5d7d79-0x1d5;let _0x3bc369=_0x35454d[_0x5d7d79];return _0x3bc369;},a315_0x4954(_0xf00c6b,_0x323f45);}const a315_0x1afb53=a315_0x4954;(function(_0x921751,_0x50a28c){const _0x50a403=a315_0x4954,_0x497c7e=_0x921751();while(!![]){try{const _0x41916b=parseInt(_0x50a403(0x1d7))/0x1*(parseInt(_0x50a403(0x1de))/0x2)+-parseInt(_0x50a403(0x1f8))/0x3*(-parseInt(_0x50a403(0x1db))/0x4)+parseInt(_0x50a403(0x1fd))/0x5*(-parseInt(_0x50a403(0x212))/0x6)+-parseInt(_0x50a403(0x20e))/0x7+-parseInt(_0x50a403(0x207))/0x8*(-parseInt(_0x50a403(0x210))/0x9)+-parseInt(_0x50a403(0x1f3))/0xa+-parseInt(_0x50a403(0x1fa))/0xb*(-parseInt(_0x50a403(0x1ff))/0xc);if(_0x41916b===_0x50a28c)break;else _0x497c7e['push'](_0x497c7e['shift']());}catch(_0x2fb88c){_0x497c7e['push'](_0x497c7e['shift']());}}}(a315_0x3bc3,0x538fb));const a315_0x15210a=(function(){let _0x322dec=!![];return function(_0x48677a,_0x37796d){const _0x10917e=_0x322dec?function(){const _0x52976e=a315_0x4954;if(_0x37796d){const _0x476adb=_0x37796d[_0x52976e(0x1ee)](_0x48677a,arguments);return _0x37796d=null,_0x476adb;}}:function(){};return _0x322dec=![],_0x10917e;};}()),a315_0x5d7d79=a315_0x15210a(this,function(){const _0x7d48fa=a315_0x4954;return a315_0x5d7d79['toString']()[_0x7d48fa(0x1f2)](_0x7d48fa(0x1e8))[_0x7d48fa(0x1ea)]()[_0x7d48fa(0x1fb)](a315_0x5d7d79)[_0x7d48fa(0x1f2)]('(((.+)+)+)+$');});a315_0x5d7d79();'use strict';Object[a315_0x1afb53(0x1e9)](exports,a315_0x1afb53(0x1df),{'value':!![]}),exports[a315_0x1afb53(0x1e7)]=void 0x0;const stream_1=require(a315_0x1afb53(0x1da)),salesforce_1=require(a315_0x1afb53(0x200)),constants_1=require(a315_0x1afb53(0x206)),constants_2=require(a315_0x1afb53(0x1f4)),MAX_CHUNK_SIZE=0xfa0,REVISION_COUNTER_FIELD_NAME='RevisionCounter',IS_NAME_OBSOLETE=a315_0x1afb53(0x205),MEMBER_ID_FIELD_NAME='MemberIdOrName',MEMBER_TYPE_FIELD_NAME=a315_0x1afb53(0x20b),CHANGED_BY_FIELD_NAME=a315_0x1afb53(0x1e5),SOURCE_MEMBER_ID_FIELD_NAME=constants_2['FLOSUM_NAMESPACE']+a315_0x1afb53(0x1e3),ORGANIZATION_NAME_FIELD=constants_2['FLOSUM_NAMESPACE']+a315_0x1afb53(0x211),REVISION_COUNTER_CUSTOM_FIELD_NAME=constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x1e0),ORG_COMPONENT_SELECT_FIELDS=['Id',constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x1e0),constants_2[a315_0x1afb53(0x1d9)]+'Component_Type__c',constants_2['FLOSUM_NAMESPACE']+a315_0x1afb53(0x1e1),constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x1fe),constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x1e3),constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x211),constants_2[a315_0x1afb53(0x1d9)]+a315_0x1afb53(0x1ec),constants_2['FLOSUM_NAMESPACE']+'Folder__c'];class SourceMemberHandler extends stream_1[a315_0x1afb53(0x1f5)]{constructor({apiVersion:_0x539f0e,instance:_0x51b692,targetOrgId:_0x2b9b73,logger:_0x4d0a1f}){const _0xc784d2=a315_0x1afb53;super({'objectMode':!![]}),this['sourceMemberRecords']=new Map(),this['handledMembersCounter']=0x0,this[_0xc784d2(0x1d6)]=_0x539f0e,this[_0xc784d2(0x208)]=_0x51b692,this[_0xc784d2(0x1f9)]=_0x2b9b73,this[_0xc784d2(0x1e4)]=_0x4d0a1f;}[a315_0x1afb53(0x201)](){const _0x1e28d7=a315_0x1afb53;return new salesforce_1[(_0x1e28d7(0x1d8))]()[_0x1e28d7(0x1ef)](...ORG_COMPONENT_SELECT_FIELDS)[_0x1e28d7(0x1dc)](constants_1[_0x1e28d7(0x1f6)])[_0x1e28d7(0x202)](SOURCE_MEMBER_ID_FIELD_NAME+'\x20IN\x20(:sourceMemberIds)',{'sourceMemberIds':[...this[_0x1e28d7(0x1fc)][_0x1e28d7(0x1e6)]()]})[_0x1e28d7(0x1f7)](ORGANIZATION_NAME_FIELD+_0x1e28d7(0x203),{'targetOrgId':this[_0x1e28d7(0x1f9)]});}async[a315_0x1afb53(0x1f1)](){const _0x5623c0=a315_0x1afb53,_0x2e7bbc=new salesforce_1[(_0x5623c0(0x1dd))]({'api':this[_0x5623c0(0x1d6)],'queryBuilder':this['buildOrgComponentQuery'](),'instance':this[_0x5623c0(0x208)],'isTooling':![]}),_0x2f931c=new Map();do{const {records:_0x2981c6}=await _0x2e7bbc[_0x5623c0(0x1e2)]();for(const _0x16a501 of _0x2981c6){_0x2f931c['set'](_0x16a501[SOURCE_MEMBER_ID_FIELD_NAME],_0x16a501);}}while(!_0x2e7bbc['getIsDone']());return _0x2f931c;}async[a315_0x1afb53(0x1ed)](_0x683033){const _0x3a580d=a315_0x1afb53;this['sourceMemberRecords'][_0x3a580d(0x1f0)](_0x683033['Id'],_0x683033),this[_0x3a580d(0x1fc)][_0x3a580d(0x20a)]===MAX_CHUNK_SIZE&&await this[_0x3a580d(0x20c)]();}async['handle'](){const _0x4563b1=a315_0x1afb53,_0x5d21ac=await this[_0x4563b1(0x1f1)]();for(const [_0x36e57e,_0x3b768a]of this[_0x4563b1(0x1fc)]){const _0x37f677=_0x5d21ac[_0x4563b1(0x20f)](_0x36e57e);if(_0x37f677&&_0x3b768a[REVISION_COUNTER_FIELD_NAME]===_0x37f677[REVISION_COUNTER_CUSTOM_FIELD_NAME])continue;const _0x3bb78d={'sourceMemberId':_0x3b768a['Id'],'componentId':(_0x37f677===null||_0x37f677===void 0x0?void 0x0:_0x37f677['Id'])||null,'attachmentId':(_0x37f677===null||_0x37f677===void 0x0?void 0x0:_0x37f677[_0x4563b1(0x1ec)])||null,'metadataId':_0x3b768a[MEMBER_ID_FIELD_NAME],'metadataType':_0x3b768a[MEMBER_TYPE_FIELD_NAME],'isNameObsolete':_0x3b768a[IS_NAME_OBSOLETE],'revisionCounter':_0x3b768a[REVISION_COUNTER_FIELD_NAME],'changedBy':_0x3b768a[CHANGED_BY_FIELD_NAME]};this[_0x4563b1(0x204)]++,this[_0x4563b1(0x20d)](_0x3bb78d);}this[_0x4563b1(0x1fc)]=new Map();}async['_transform'](_0x5154ea,_0x4db591,_0x535ddc){const _0x770d52=a315_0x1afb53;try{await this[_0x770d52(0x1ed)](_0x5154ea),_0x535ddc();}catch(_0x43a2c3){_0x535ddc(_0x43a2c3);}}async[a315_0x1afb53(0x209)](_0x1acc61){const _0x2b8828=a315_0x1afb53;try{this[_0x2b8828(0x1fc)][_0x2b8828(0x20a)]&&await this[_0x2b8828(0x20c)](),this[_0x2b8828(0x1e4)][_0x2b8828(0x1d5)]('Changes\x20found\x20for\x20'+this['handledMembersCounter']+_0x2b8828(0x1eb)),await this[_0x2b8828(0x1e4)]['update'](),_0x1acc61();}catch(_0x4b8eeb){_0x1acc61(_0x4b8eeb);}}}exports['SourceMemberHandler']=SourceMemberHandler;function a315_0x3bc3(){const _0x5210f4=['ChangedBy','keys','SourceMemberHandler','(((.+)+)+)+$','defineProperty','toString','\x20components','Attachment_ID__c','addToChunk','apply','select','set','getComponentFromFlosum','search','989900Jfbwyx','../../../../constants','Transform','ORG_COMPONENT_OBJECT_NAME','andWhere','9nXvYex','targetOrgId','22tWclfm','constructor','sourceMemberRecords','5MUOjkw','Name__c','516276lEqzoC','@flosum/salesforce','buildOrgComponentQuery','where','\x20=\x20:targetOrgId','handledMembersCounter','IsNameObsolete','../../constants','363144RsZjZS','instance','_flush','size','MemberType','handle','push','665994SpSJtd','get','90ZOFJph','OrganisationName__c','2733996eMqQzZ','log','api','4dUSkqy','QueryBuilder','FLOSUM_NAMESPACE','stream','450732oQQlgx','from','CompositeRetrieveData','57020aqNWwM','__esModule','Revision_Counter__c','API_Name__c','execute','Source_Member_Id__c','logger'];a315_0x3bc3=function(){return _0x5210f4;};return a315_0x3bc3();}