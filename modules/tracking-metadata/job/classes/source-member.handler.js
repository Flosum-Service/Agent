function a345_0x522b(_0x163952,_0x533fa3){const _0x3f97c3=a345_0x51d7();return a345_0x522b=function(_0x3764f2,_0x17c27a){_0x3764f2=_0x3764f2-0x1be;let _0x51d711=_0x3f97c3[_0x3764f2];return _0x51d711;},a345_0x522b(_0x163952,_0x533fa3);}function a345_0x51d7(){const _0x14b9fb=['handledMembersCounter','select','RevisionCounter','OrganisationName__c','ORG_COMPONENT_OBJECT_NAME','stream','handle','toString','buildOrgComponentQuery','where','API_Name__c','1156062tYVhFs','log','Revision_Counter__c','126OaQgYA','execute','Attachment_ID__c','(((.+)+)+)+$','\x20=\x20:targetOrgId','../../constants','578918jSfVRk','update','Component_Type__c','FLOSUM_NAMESPACE','_transform','set','Source_Member_Id__c','Transform','QueryBuilder','get','defineProperty','MemberName','23824MySCLf','getComponentFromFlosum','Folder__c','andWhere','__esModule','logger','keys','40MqafST','size','apply','SourceMemberHandler','4330cojGjb','996576UCoTLB','2LvJCWK','instance','6gUCEhR','search','32416AzSMPy','@flosum/salesforce','59484WUgQup','sourceMemberRecords','push','api','CompositeRetrieveData','2343MvWfVM','\x20components','Name__c','MemberIdOrName','targetOrgId'];a345_0x51d7=function(){return _0x14b9fb;};return a345_0x51d7();}const a345_0x174682=a345_0x522b;(function(_0x4f7fa6,_0x1abf41){const _0x564cfd=a345_0x522b,_0x1ef92f=_0x4f7fa6();while(!![]){try{const _0x47d1b5=parseInt(_0x564cfd(0x1f3))/0x1+-parseInt(_0x564cfd(0x1cf))/0x2*(parseInt(_0x564cfd(0x1ea))/0x3)+parseInt(_0x564cfd(0x1c2))/0x4*(parseInt(_0x564cfd(0x1c9))/0x5)+parseInt(_0x564cfd(0x1d1))/0x6*(parseInt(_0x564cfd(0x1ce))/0x7)+parseInt(_0x564cfd(0x1d3))/0x8*(parseInt(_0x564cfd(0x1ed))/0x9)+parseInt(_0x564cfd(0x1cd))/0xa*(-parseInt(_0x564cfd(0x1da))/0xb)+parseInt(_0x564cfd(0x1d5))/0xc;if(_0x47d1b5===_0x1abf41)break;else _0x1ef92f['push'](_0x1ef92f['shift']());}catch(_0x4ff869){_0x1ef92f['push'](_0x1ef92f['shift']());}}}(a345_0x51d7,0x5630c));const a345_0x17c27a=(function(){let _0x1aadf9=!![];return function(_0x36a91a,_0x1419eb){const _0x28fb46=_0x1aadf9?function(){const _0xc9fca6=a345_0x522b;if(_0x1419eb){const _0x2db402=_0x1419eb[_0xc9fca6(0x1cb)](_0x36a91a,arguments);return _0x1419eb=null,_0x2db402;}}:function(){};return _0x1aadf9=![],_0x28fb46;};}()),a345_0x3764f2=a345_0x17c27a(this,function(){const _0x3316b0=a345_0x522b;return a345_0x3764f2[_0x3316b0(0x1e6)]()['search'](_0x3316b0(0x1f0))['toString']()['constructor'](a345_0x3764f2)[_0x3316b0(0x1d2)](_0x3316b0(0x1f0));});a345_0x3764f2();'use strict';Object[a345_0x174682(0x1c0)](exports,a345_0x174682(0x1c6),{'value':!![]}),exports[a345_0x174682(0x1cc)]=void 0x0;const stream_1=require(a345_0x174682(0x1e4)),salesforce_1=require(a345_0x174682(0x1d4)),constants_1=require(a345_0x174682(0x1f2)),constants_2=require('../../../../constants'),MAX_CHUNK_SIZE=0xfa0,REVISION_COUNTER_FIELD_NAME=a345_0x174682(0x1e1),IS_NAME_OBSOLETE='IsNameObsolete',MEMBER_ID_FIELD_NAME=a345_0x174682(0x1dd),MEMBER_TYPE_FIELD_NAME='MemberType',MEMBER_NAME=a345_0x174682(0x1c1),CHANGED_BY_FIELD_NAME='ChangedBy',SOURCE_MEMBER_ID_FIELD_NAME=constants_2['FLOSUM_NAMESPACE']+a345_0x174682(0x1f9),ORGANIZATION_NAME_FIELD=constants_2[a345_0x174682(0x1f6)]+a345_0x174682(0x1e2),REVISION_COUNTER_CUSTOM_FIELD_NAME=constants_2[a345_0x174682(0x1f6)]+a345_0x174682(0x1ec),ORG_COMPONENT_SELECT_FIELDS=['Id',constants_2['FLOSUM_NAMESPACE']+'Revision_Counter__c',constants_2[a345_0x174682(0x1f6)]+a345_0x174682(0x1f5),constants_2[a345_0x174682(0x1f6)]+a345_0x174682(0x1e9),constants_2['FLOSUM_NAMESPACE']+a345_0x174682(0x1dc),constants_2['FLOSUM_NAMESPACE']+a345_0x174682(0x1f9),constants_2['FLOSUM_NAMESPACE']+a345_0x174682(0x1e2),constants_2['FLOSUM_NAMESPACE']+a345_0x174682(0x1ef),constants_2[a345_0x174682(0x1f6)]+a345_0x174682(0x1c4)];class SourceMemberHandler extends stream_1[a345_0x174682(0x1fa)]{constructor({apiVersion:_0x2df77c,instance:_0x575b50,targetOrgId:_0xb56c74,logger:_0x87aec9}){const _0x1d2a7b=a345_0x174682;super({'objectMode':!![]}),this['sourceMemberRecords']=new Map(),this[_0x1d2a7b(0x1df)]=0x0,this[_0x1d2a7b(0x1d8)]=_0x2df77c,this['instance']=_0x575b50,this[_0x1d2a7b(0x1de)]=_0xb56c74,this['logger']=_0x87aec9;}[a345_0x174682(0x1e7)](){const _0x7ff183=a345_0x174682;return new salesforce_1[(_0x7ff183(0x1be))]()[_0x7ff183(0x1e0)](...ORG_COMPONENT_SELECT_FIELDS)['from'](constants_1[_0x7ff183(0x1e3)])[_0x7ff183(0x1e8)](SOURCE_MEMBER_ID_FIELD_NAME+'\x20IN\x20(:sourceMemberIds)',{'sourceMemberIds':[...this[_0x7ff183(0x1d6)][_0x7ff183(0x1c8)]()]})[_0x7ff183(0x1c5)](ORGANIZATION_NAME_FIELD+_0x7ff183(0x1f1),{'targetOrgId':this[_0x7ff183(0x1de)]});}async[a345_0x174682(0x1c3)](){const _0x33f2fa=a345_0x174682,_0x421f43=new salesforce_1[(_0x33f2fa(0x1d9))]({'api':this[_0x33f2fa(0x1d8)],'queryBuilder':this['buildOrgComponentQuery'](),'instance':this[_0x33f2fa(0x1d0)],'isTooling':![]}),_0x184865=new Map();do{const {records:_0xc1ec1b}=await _0x421f43[_0x33f2fa(0x1ee)]();for(const _0xf63560 of _0xc1ec1b){_0x184865[_0x33f2fa(0x1f8)](_0xf63560[SOURCE_MEMBER_ID_FIELD_NAME],_0xf63560);}}while(!_0x421f43['getIsDone']());return _0x184865;}async['addToChunk'](_0x525301){const _0x2df82c=a345_0x174682;this['sourceMemberRecords']['set'](_0x525301['Id'],_0x525301),this['sourceMemberRecords'][_0x2df82c(0x1ca)]===MAX_CHUNK_SIZE&&await this[_0x2df82c(0x1e5)]();}async[a345_0x174682(0x1e5)](){const _0x473e26=a345_0x174682,_0x15ea43=await this[_0x473e26(0x1c3)]();for(const [_0x39b9b7,_0x513ee4]of this[_0x473e26(0x1d6)]){const _0x4064be=_0x15ea43[_0x473e26(0x1bf)](_0x39b9b7);if(_0x4064be&&_0x513ee4[REVISION_COUNTER_FIELD_NAME]===_0x4064be[REVISION_COUNTER_CUSTOM_FIELD_NAME])continue;const _0x454979={'sourceMemberId':_0x513ee4['Id'],'componentId':(_0x4064be===null||_0x4064be===void 0x0?void 0x0:_0x4064be['Id'])||null,'attachmentId':(_0x4064be===null||_0x4064be===void 0x0?void 0x0:_0x4064be[_0x473e26(0x1ef)])||null,'metadataId':_0x513ee4[MEMBER_ID_FIELD_NAME],'metadataType':_0x513ee4[MEMBER_TYPE_FIELD_NAME],'metadataName':_0x513ee4[MEMBER_NAME],'isNameObsolete':_0x513ee4[IS_NAME_OBSOLETE],'revisionCounter':_0x513ee4[REVISION_COUNTER_FIELD_NAME],'changedBy':_0x513ee4[CHANGED_BY_FIELD_NAME]};this[_0x473e26(0x1df)]++,this[_0x473e26(0x1d7)](_0x454979);}this['sourceMemberRecords']=new Map();}async[a345_0x174682(0x1f7)](_0x104e07,_0xc3fccf,_0x2c15fd){try{await this['addToChunk'](_0x104e07),_0x2c15fd();}catch(_0x1800fa){_0x2c15fd(_0x1800fa);}}async['_flush'](_0x18a25d){const _0x254045=a345_0x174682;try{this[_0x254045(0x1d6)][_0x254045(0x1ca)]&&await this[_0x254045(0x1e5)](),this[_0x254045(0x1c7)][_0x254045(0x1eb)]('Changes\x20found\x20for\x20'+this[_0x254045(0x1df)]+_0x254045(0x1db)),await this[_0x254045(0x1c7)][_0x254045(0x1f4)](),_0x18a25d();}catch(_0x26789e){_0x18a25d(_0x26789e);}}}exports['SourceMemberHandler']=SourceMemberHandler;