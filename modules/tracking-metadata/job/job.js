function a347_0x108a(){const _0x15d546=['slice','targetInstance','Job\x20Error:\x20','createTrackingSettingRecord','Tracking\x20components\x20job\x20has\x20been\x20failed','flosumOrgCredentials','metadataLogger','3576uopTEF','AuthManager','lastRetrieveDate','9jplbju','Job','argv','status','(((.+)+)+)+$','readFile','join','toString','./classes/source-member.handler','initManifest','initLogger','logger','__importDefault','../../../constants','ComponentsDeployer','search','execute','./classes/logger/logger','../constants','SourceMemberRetriever','flosumInstance','5453ubMUub','4580GGQMPD','catch','FLOSUM_NAMESPACE','RestSimpleDeployData','getComponentsDeployer','MANIFEST_FILENAME','message','metadataTypes','fs/promises','./classes/metadata.retriever','updateTrackingSetting','pipeline','Logger','./classes/components.deployer','error','94iHEKvf','./classes/metadata-logger','8268MEzqhM','IN_PROGRESS','trackingSettingId','Tracking\x20components\x20job\x20has\x20been\x20started\x20with\x20id:\x20','defineProperty','jobStorePath','@flosum/salesforce','default','minimist','27578PyCaJB','EXCEPTION','getMetadataRetriever','getSourceMemberHandler','MetadataLogger','getSourceMemberRetriever','AxiosInstanceUtils','11571816WfDYVy','targetOrgId','jobId','log','492FbMXgF','LogStatus','COMPLETED','apiVersion','Tracking\x20setting\x20not\x20updated\x20\x0a\x20','utf-8','11549740jvAXBT','path','122254COgssL','726078ryfScM','then','update','Tracking\x20setting\x20updated','timeZone','startDate','__esModule','Is_Processed__c','targetOrgCredentials','getTime','parse','../../shared/managers/auth.manager','create','Tracking\x20components\x20job\x20has\x20been\x20completed','Tracking_Setting__c','exit','initInstances'];a347_0x108a=function(){return _0x15d546;};return a347_0x108a();}const a347_0x49c478=a347_0x4da4;(function(_0x26434d,_0x44f189){const _0x8d1251=a347_0x4da4,_0x2da667=_0x26434d();while(!![]){try{const _0x4ca103=-parseInt(_0x8d1251(0xde))/0x1*(parseInt(_0x8d1251(0xe9))/0x2)+-parseInt(_0x8d1251(0xfd))/0x3+parseInt(_0x8d1251(0x115))/0x4*(-parseInt(_0x8d1251(0x12e))/0x5)+parseInt(_0x8d1251(0xe0))/0x6*(parseInt(_0x8d1251(0x12d))/0x7)+parseInt(_0x8d1251(0xf0))/0x8*(parseInt(_0x8d1251(0x118))/0x9)+parseInt(_0x8d1251(0xfa))/0xa+parseInt(_0x8d1251(0xfc))/0xb*(-parseInt(_0x8d1251(0xf4))/0xc);if(_0x4ca103===_0x44f189)break;else _0x2da667['push'](_0x2da667['shift']());}catch(_0x1e3bc4){_0x2da667['push'](_0x2da667['shift']());}}}(a347_0x108a,0xd27bf));const a347_0x9c0a9a=(function(){let _0x1c660a=!![];return function(_0x1b0538,_0x32b3c8){const _0x54ea5a=_0x1c660a?function(){if(_0x32b3c8){const _0x2b0226=_0x32b3c8['apply'](_0x1b0538,arguments);return _0x32b3c8=null,_0x2b0226;}}:function(){};return _0x1c660a=![],_0x54ea5a;};}()),a347_0x2bb7c8=a347_0x9c0a9a(this,function(){const _0x5e40fe=a347_0x4da4;return a347_0x2bb7c8[_0x5e40fe(0x11f)]()[_0x5e40fe(0x127)](_0x5e40fe(0x11c))[_0x5e40fe(0x11f)]()['constructor'](a347_0x2bb7c8)[_0x5e40fe(0x127)]('(((.+)+)+)+$');});a347_0x2bb7c8();'use strict';var __importDefault=this&&this[a347_0x49c478(0x124)]||function(_0x524d8a){return _0x524d8a&&_0x524d8a['__esModule']?_0x524d8a:{'default':_0x524d8a};};function a347_0x4da4(_0x212d0e,_0x1f5b7a){const _0x47450f=a347_0x108a();return a347_0x4da4=function(_0x2bb7c8,_0x9c0a9a){_0x2bb7c8=_0x2bb7c8-0xd6;let _0x108a1a=_0x47450f[_0x2bb7c8];return _0x108a1a;},a347_0x4da4(_0x212d0e,_0x1f5b7a);}Object[a347_0x49c478(0xe4)](exports,a347_0x49c478(0x103),{'value':!![]}),exports[a347_0x49c478(0x119)]=void 0x0;const minimist_1=__importDefault(require(a347_0x49c478(0xe8))),core_1=require('../../../core'),salesforce_1=require(a347_0x49c478(0xe6)),auth_manager_1=require(a347_0x49c478(0x108)),logger_1=require(a347_0x49c478(0x129)),promises_1=require('stream/promises'),promises_2=require(a347_0x49c478(0xd7)),path_1=__importDefault(require(a347_0x49c478(0xfb))),metadata_retriever_1=require(a347_0x49c478(0xd8)),components_deployer_1=require(a347_0x49c478(0xdc)),source_member_retriever_1=require('./classes/source-member.retriever'),source_member_handler_1=require(a347_0x49c478(0x120)),metadata_logger_1=require(a347_0x49c478(0xdf)),job_1=require('../../../constants/job'),constants_1=require(a347_0x49c478(0x125)),constants_2=require(a347_0x49c478(0x12a)),{jobId,jobStorePath}=(0x0,minimist_1['default'])(process[a347_0x49c478(0x11a)][a347_0x49c478(0x10e)](0x2)),systemLogger=new core_1[(a347_0x49c478(0xdb))](jobId);class Job{constructor(){const _0x238d58=a347_0x49c478;this['jobStorePath']=jobStorePath,this[_0x238d58(0xf2)]=jobId;}async[a347_0x49c478(0x121)](){const _0x19e812=a347_0x49c478,_0x2d869f=path_1[_0x19e812(0xe7)][_0x19e812(0x11e)](this[_0x19e812(0xe5)],job_1[_0x19e812(0x133)]),_0x1191e1=await(0x0,promises_2[_0x19e812(0x11d)])(_0x2d869f,{'encoding':_0x19e812(0xf9)})[_0x19e812(0xfe)](JSON[_0x19e812(0x107)])[_0x19e812(0xfe)](({details:_0x5a3b08})=>_0x5a3b08);await(0x0,promises_2['rm'])(_0x2d869f,{'recursive':!![],'force':!![]}),this[_0x19e812(0xf7)]=_0x1191e1[_0x19e812(0xf7)],this[_0x19e812(0x113)]=_0x1191e1[_0x19e812(0x113)],this[_0x19e812(0x105)]=_0x1191e1[_0x19e812(0x105)],this[_0x19e812(0xf1)]=_0x1191e1[_0x19e812(0xf1)],this['trackingSettingId']=_0x1191e1[_0x19e812(0xe2)],this[_0x19e812(0x117)]=_0x1191e1[_0x19e812(0x117)],this['metadataTypes']=_0x1191e1[_0x19e812(0xd6)],this[_0x19e812(0x101)]=_0x1191e1[_0x19e812(0x101)];}async[a347_0x49c478(0x10d)](){const _0x13dfe2=a347_0x49c478;this[_0x13dfe2(0x12c)]=await salesforce_1['AxiosInstanceUtils'][_0x13dfe2(0x109)](new auth_manager_1[(_0x13dfe2(0x116))](this[_0x13dfe2(0x113)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity}),this[_0x13dfe2(0x10f)]=await salesforce_1[_0x13dfe2(0xef)][_0x13dfe2(0x109)](new auth_manager_1[(_0x13dfe2(0x116))](this[_0x13dfe2(0x105)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async['initMetadataLogger'](){const _0x54b736=a347_0x49c478;this['metadataLogger']=new metadata_logger_1[(_0x54b736(0xed))]({'apiVersion':this[_0x54b736(0xf7)],'instance':this[_0x54b736(0x12c)],'targetOrgId':this['targetOrgId'],'trackingSettingId':this[_0x54b736(0xe2)],'startDate':this[_0x54b736(0x102)]}),this['metadataLogId']=await this[_0x54b736(0x114)]['init']();}['initLogger'](){const _0x40f80e=a347_0x49c478;this[_0x40f80e(0x123)]=new logger_1[(_0x40f80e(0xdb))]({'systemLogger':systemLogger,'apiVersion':this[_0x40f80e(0xf7)],'instance':this['flosumInstance'],'metadataLogId':this['metadataLogId'],'timeZone':this['timeZone']});}[a347_0x49c478(0xee)](){const _0x35d8ef=a347_0x49c478;return new source_member_retriever_1[(_0x35d8ef(0x12b))]({'apiVersion':this[_0x35d8ef(0xf7)],'instance':this[_0x35d8ef(0x10f)],'logger':this[_0x35d8ef(0x123)],'lastRetrieveDate':this[_0x35d8ef(0x117)],'currentRetrieveDate':this[_0x35d8ef(0x102)],'metadataTypes':this[_0x35d8ef(0xd6)]});}[a347_0x49c478(0xec)](){const _0x2d1da4=a347_0x49c478;return new source_member_handler_1['SourceMemberHandler']({'instance':this[_0x2d1da4(0x12c)],'apiVersion':this[_0x2d1da4(0xf7)],'logger':this[_0x2d1da4(0x123)],'targetOrgId':this[_0x2d1da4(0xf1)]});}[a347_0x49c478(0xeb)](){const _0x2e6c6d=a347_0x49c478;return new metadata_retriever_1['MetadataRetriever']({'instance':this['targetInstance'],'apiVersion':this[_0x2e6c6d(0xf7)],'logger':this[_0x2e6c6d(0x123)],'metadataTypes':this[_0x2e6c6d(0xd6)]});}[a347_0x49c478(0x132)](){const _0x4052e2=a347_0x49c478;return new components_deployer_1[(_0x4052e2(0x126))]({'instance':this[_0x4052e2(0x12c)],'logger':this[_0x4052e2(0x123)],'apiVersion':this[_0x4052e2(0xf7)],'targetOrgId':this[_0x4052e2(0xf1)],'trackingSettingId':this[_0x4052e2(0xe2)]});}[a347_0x49c478(0x111)](){const _0x13f839=a347_0x49c478;return{'attributes':{'type':constants_1[_0x13f839(0x130)]+_0x13f839(0x10b)},'Id':this['trackingSettingId'],[constants_1['FLOSUM_NAMESPACE']+_0x13f839(0x104)]:![],[constants_1['FLOSUM_NAMESPACE']+'Last_Start_Retrieval__c']:this[_0x13f839(0x102)]};}async[a347_0x49c478(0xd9)](){const _0x2f54e5=a347_0x49c478,_0x333f9c=this[_0x2f54e5(0x111)](),_0x1304d4=new salesforce_1[(_0x2f54e5(0x131))]({'instance':this[_0x2f54e5(0x12c)],'objectName':constants_1[_0x2f54e5(0x130)]+'Tracking_Setting__c','api':this[_0x2f54e5(0xf7)],'allOrNone':![],'externalIdField':'Id'}),_0x589169=await _0x1304d4[_0x2f54e5(0x128)]({'records':[_0x333f9c]}),_0x507057=_0x589169['at'](0x0);(_0x507057===null||_0x507057===void 0x0?void 0x0:_0x507057['success'])?this['logger'][_0x2f54e5(0xf3)](_0x2f54e5(0x100)):this[_0x2f54e5(0x123)][_0x2f54e5(0xf3)](_0x2f54e5(0xf8)+(_0x507057===null||_0x507057===void 0x0?void 0x0:_0x507057[_0x2f54e5(0xdd)]));}async[a347_0x49c478(0x128)](){const _0x20fe42=a347_0x49c478;await this[_0x20fe42(0x121)](),this[_0x20fe42(0x102)]=new Date()[_0x20fe42(0x106)]();try{await this[_0x20fe42(0x10d)](),await this['initMetadataLogger'](),this[_0x20fe42(0x122)](),this[_0x20fe42(0x123)][_0x20fe42(0xf3)](_0x20fe42(0xe3)+this[_0x20fe42(0xf2)]),this[_0x20fe42(0x114)]['status']=constants_2[_0x20fe42(0xf5)][_0x20fe42(0xe1)],await this[_0x20fe42(0x114)][_0x20fe42(0xff)](),await this[_0x20fe42(0x123)][_0x20fe42(0xff)]();const _0x538d9b=this[_0x20fe42(0xee)](),_0x5a249c=this[_0x20fe42(0xec)](),_0x1620ef=this[_0x20fe42(0xeb)](),_0x15067f=this[_0x20fe42(0x132)]();await(0x0,promises_1[_0x20fe42(0xda)])(_0x538d9b,_0x5a249c,_0x1620ef,_0x15067f),this[_0x20fe42(0x123)][_0x20fe42(0xf3)](_0x20fe42(0x10a)),this['metadataLogger'][_0x20fe42(0x11b)]=constants_2['LogStatus'][_0x20fe42(0xf6)];}catch(_0xbe5f18){this[_0x20fe42(0x123)][_0x20fe42(0xdd)](_0x20fe42(0x112)),this[_0x20fe42(0x123)][_0x20fe42(0xdd)](_0xbe5f18[_0x20fe42(0x134)]),this[_0x20fe42(0x114)][_0x20fe42(0x11b)]=constants_2[_0x20fe42(0xf5)][_0x20fe42(0xea)];}finally{await this[_0x20fe42(0xd9)](),await this[_0x20fe42(0x123)][_0x20fe42(0xff)](),await this[_0x20fe42(0x114)]['update']();}}}exports[a347_0x49c478(0x119)]=Job,new Job()[a347_0x49c478(0x128)]()[a347_0x49c478(0xfe)](()=>process[a347_0x49c478(0x10c)](0x0))[a347_0x49c478(0x12f)](_0x179ce6=>{const _0x513191=a347_0x49c478;systemLogger['error'](_0x513191(0x110)+_0x179ce6[_0x513191(0x134)]),process[_0x513191(0x10c)](0x1);});