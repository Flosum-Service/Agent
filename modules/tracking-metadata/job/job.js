function a348_0x31cc(){const _0x117c0e=['targetOrgId','logger','constructor','parse','19568HchuGo','getMetadataRetriever','./classes/logger/logger','7XaFjRb','MetadataLogger','getSourceMemberHandler','Tracking_Setting__c','Tracking\x20setting\x20not\x20updated\x20\x0a\x20','ComponentsDeployer','default','update','initMetadataLogger','AxiosInstanceUtils','then','flosumOrgCredentials','exit','Job','updateTrackingSetting','2250obIuxt','error','join','Last_Start_Retrieval__c','AuthManager','IN_PROGRESS','metadataTypes','jobStorePath','initManifest','3499542BPCUGf','targetOrgCredentials','lastRetrieveDate','utf-8','create','readFile','catch','metadataLogId','../../../constants/job','startDate','Logger','../../../core','MANIFEST_FILENAME','minimist','targetInstance','./classes/source-member.handler','trackingSettingId','jobId','106452IWjafR','timeZone','initLogger','message','metadataLogger','path','__importDefault','__esModule','apiVersion','5307168NPpmjf','getSourceMemberRetriever','./classes/components.deployer','execute','LogStatus','createTrackingSettingRecord','success','1031467zZHNAV','./classes/metadata-logger','fs/promises','./classes/source-member.retriever','Tracking\x20setting\x20updated','FLOSUM_NAMESPACE','getTime','flosumInstance','../../../constants','28uabuOf','Is_Processed__c','../constants','RestSimpleDeployData','5874515vKJSbP','(((.+)+)+)+$','apply','toString','MetadataRetriever','status','search','pipeline','log','getComponentsDeployer','10483630sEAqcK'];a348_0x31cc=function(){return _0x117c0e;};return a348_0x31cc();}const a348_0x2d0069=a348_0xc0d7;(function(_0x1ae7d2,_0x812bc5){const _0x591439=a348_0xc0d7,_0x44cf32=_0x1ae7d2();while(!![]){try{const _0x9d80e8=parseInt(_0x591439(0x12a))/0x1+-parseInt(_0x591439(0x133))/0x2*(parseInt(_0x591439(0x11a))/0x3)+parseInt(_0x591439(0x123))/0x4+parseInt(_0x591439(0x137))/0x5+-parseInt(_0x591439(0x108))/0x6*(parseInt(_0x591439(0x149))/0x7)+parseInt(_0x591439(0x146))/0x8*(-parseInt(_0x591439(0xff))/0x9)+-parseInt(_0x591439(0x141))/0xa;if(_0x9d80e8===_0x812bc5)break;else _0x44cf32['push'](_0x44cf32['shift']());}catch(_0x229622){_0x44cf32['push'](_0x44cf32['shift']());}}}(a348_0x31cc,0xc1ab2));const a348_0x454543=(function(){let _0x282a41=!![];return function(_0x21f84d,_0x722b75){const _0x2f6a4c=_0x282a41?function(){const _0xd51440=a348_0xc0d7;if(_0x722b75){const _0x59ad9a=_0x722b75[_0xd51440(0x139)](_0x21f84d,arguments);return _0x722b75=null,_0x59ad9a;}}:function(){};return _0x282a41=![],_0x2f6a4c;};}()),a348_0x2719a0=a348_0x454543(this,function(){const _0x148e8b=a348_0xc0d7;return a348_0x2719a0['toString']()[_0x148e8b(0x13d)](_0x148e8b(0x138))[_0x148e8b(0x13a)]()[_0x148e8b(0x144)](a348_0x2719a0)[_0x148e8b(0x13d)]('(((.+)+)+)+$');});a348_0x2719a0();'use strict';var __importDefault=this&&this[a348_0x2d0069(0x120)]||function(_0x4edc74){const _0x581aa0=a348_0x2d0069;return _0x4edc74&&_0x4edc74[_0x581aa0(0x121)]?_0x4edc74:{'default':_0x4edc74};};Object['defineProperty'](exports,a348_0x2d0069(0x121),{'value':!![]}),exports[a348_0x2d0069(0xfd)]=void 0x0;const minimist_1=__importDefault(require(a348_0x2d0069(0x115))),core_1=require(a348_0x2d0069(0x113)),salesforce_1=require('@flosum/salesforce'),auth_manager_1=require('../../shared/managers/auth.manager'),logger_1=require(a348_0x2d0069(0x148)),promises_1=require('stream/promises'),promises_2=require(a348_0x2d0069(0x12c)),path_1=__importDefault(require(a348_0x2d0069(0x11f))),metadata_retriever_1=require('./classes/metadata.retriever'),components_deployer_1=require(a348_0x2d0069(0x125)),source_member_retriever_1=require(a348_0x2d0069(0x12d)),source_member_handler_1=require(a348_0x2d0069(0x117)),metadata_logger_1=require(a348_0x2d0069(0x12b)),job_1=require(a348_0x2d0069(0x110)),constants_1=require(a348_0x2d0069(0x132)),constants_2=require(a348_0x2d0069(0x135)),{jobId,jobStorePath}=(0x0,minimist_1[a348_0x2d0069(0x14f)])(process['argv']['slice'](0x2)),systemLogger=new core_1[(a348_0x2d0069(0x112))](jobId);class Job{constructor(){const _0x39db55=a348_0x2d0069;this[_0x39db55(0x106)]=jobStorePath,this[_0x39db55(0x119)]=jobId;}async[a348_0x2d0069(0x107)](){const _0x4ffc7e=a348_0x2d0069,_0x16129f=path_1['default'][_0x4ffc7e(0x101)](this[_0x4ffc7e(0x106)],job_1[_0x4ffc7e(0x114)]),_0x3999aa=await(0x0,promises_2[_0x4ffc7e(0x10d)])(_0x16129f,{'encoding':_0x4ffc7e(0x10b)})[_0x4ffc7e(0xfa)](JSON[_0x4ffc7e(0x145)])['then'](({details:_0x5e07fc})=>_0x5e07fc);await(0x0,promises_2['rm'])(_0x16129f,{'recursive':!![],'force':!![]}),this[_0x4ffc7e(0x122)]=_0x3999aa[_0x4ffc7e(0x122)],this[_0x4ffc7e(0xfb)]=_0x3999aa[_0x4ffc7e(0xfb)],this[_0x4ffc7e(0x109)]=_0x3999aa[_0x4ffc7e(0x109)],this[_0x4ffc7e(0x142)]=_0x3999aa[_0x4ffc7e(0x142)],this[_0x4ffc7e(0x118)]=_0x3999aa[_0x4ffc7e(0x118)],this[_0x4ffc7e(0x10a)]=_0x3999aa[_0x4ffc7e(0x10a)],this[_0x4ffc7e(0x105)]=_0x3999aa['metadataTypes'],this[_0x4ffc7e(0x11b)]=_0x3999aa[_0x4ffc7e(0x11b)];}async['initInstances'](){const _0x672289=a348_0x2d0069;this[_0x672289(0x131)]=await salesforce_1[_0x672289(0xf9)]['create'](new auth_manager_1['AuthManager'](this[_0x672289(0xfb)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity}),this['targetInstance']=await salesforce_1[_0x672289(0xf9)][_0x672289(0x10c)](new auth_manager_1[(_0x672289(0x103))](this[_0x672289(0x109)]),[],{'maxContentLength':Infinity,'maxBodyLength':Infinity});}async[a348_0x2d0069(0xf8)](){const _0xa955da=a348_0x2d0069;this[_0xa955da(0x11e)]=new metadata_logger_1[(_0xa955da(0x14a))]({'apiVersion':this['apiVersion'],'instance':this[_0xa955da(0x131)],'targetOrgId':this[_0xa955da(0x142)],'trackingSettingId':this['trackingSettingId'],'startDate':this[_0xa955da(0x111)]}),this[_0xa955da(0x10f)]=await this[_0xa955da(0x11e)]['init']();}[a348_0x2d0069(0x11c)](){const _0x204244=a348_0x2d0069;this[_0x204244(0x143)]=new logger_1[(_0x204244(0x112))]({'systemLogger':systemLogger,'apiVersion':this[_0x204244(0x122)],'instance':this[_0x204244(0x131)],'metadataLogId':this[_0x204244(0x10f)],'timeZone':this[_0x204244(0x11b)]});}[a348_0x2d0069(0x124)](){const _0x246552=a348_0x2d0069;return new source_member_retriever_1['SourceMemberRetriever']({'apiVersion':this[_0x246552(0x122)],'instance':this[_0x246552(0x116)],'logger':this[_0x246552(0x143)],'lastRetrieveDate':this['lastRetrieveDate'],'currentRetrieveDate':this[_0x246552(0x111)],'metadataTypes':this[_0x246552(0x105)]});}[a348_0x2d0069(0x14b)](){const _0x159184=a348_0x2d0069;return new source_member_handler_1['SourceMemberHandler']({'instance':this[_0x159184(0x131)],'apiVersion':this[_0x159184(0x122)],'logger':this[_0x159184(0x143)],'targetOrgId':this[_0x159184(0x142)]});}[a348_0x2d0069(0x147)](){const _0x562d29=a348_0x2d0069;return new metadata_retriever_1[(_0x562d29(0x13b))]({'instance':this[_0x562d29(0x116)],'apiVersion':this['apiVersion'],'logger':this[_0x562d29(0x143)],'metadataTypes':this[_0x562d29(0x105)]});}[a348_0x2d0069(0x140)](){const _0x1bb70c=a348_0x2d0069;return new components_deployer_1[(_0x1bb70c(0x14e))]({'instance':this[_0x1bb70c(0x131)],'logger':this[_0x1bb70c(0x143)],'apiVersion':this[_0x1bb70c(0x122)],'targetOrgId':this[_0x1bb70c(0x142)],'trackingSettingId':this[_0x1bb70c(0x118)]});}[a348_0x2d0069(0x128)](){const _0x3fdc4d=a348_0x2d0069;return{'attributes':{'type':constants_1['FLOSUM_NAMESPACE']+_0x3fdc4d(0x14c)},'Id':this[_0x3fdc4d(0x118)],[constants_1['FLOSUM_NAMESPACE']+_0x3fdc4d(0x134)]:![],[constants_1[_0x3fdc4d(0x12f)]+_0x3fdc4d(0x102)]:this[_0x3fdc4d(0x111)]};}async[a348_0x2d0069(0xfe)](){const _0x22de9b=a348_0x2d0069,_0x9dfc60=this['createTrackingSettingRecord'](),_0x48e7fe=new salesforce_1[(_0x22de9b(0x136))]({'instance':this['flosumInstance'],'objectName':constants_1['FLOSUM_NAMESPACE']+_0x22de9b(0x14c),'api':this['apiVersion'],'allOrNone':![],'externalIdField':'Id'}),_0x127bb7=await _0x48e7fe[_0x22de9b(0x126)]({'records':[_0x9dfc60]}),_0x1dc0ec=_0x127bb7['at'](0x0);(_0x1dc0ec===null||_0x1dc0ec===void 0x0?void 0x0:_0x1dc0ec[_0x22de9b(0x129)])?this[_0x22de9b(0x143)][_0x22de9b(0x13f)](_0x22de9b(0x12e)):this[_0x22de9b(0x143)][_0x22de9b(0x13f)](_0x22de9b(0x14d)+(_0x1dc0ec===null||_0x1dc0ec===void 0x0?void 0x0:_0x1dc0ec[_0x22de9b(0x100)]));}async[a348_0x2d0069(0x126)](){const _0x4053ee=a348_0x2d0069;await this['initManifest'](),this[_0x4053ee(0x111)]=new Date()[_0x4053ee(0x130)]();try{await this['initInstances'](),await this[_0x4053ee(0xf8)](),this[_0x4053ee(0x11c)](),this[_0x4053ee(0x143)][_0x4053ee(0x13f)]('Tracking\x20components\x20job\x20has\x20been\x20started\x20with\x20id:\x20'+this[_0x4053ee(0x119)]),this['metadataLogger']['status']=constants_2[_0x4053ee(0x127)][_0x4053ee(0x104)],await this['metadataLogger']['update'](),await this[_0x4053ee(0x143)][_0x4053ee(0xf7)]();const _0x2cd388=this[_0x4053ee(0x124)](),_0x29cc47=this[_0x4053ee(0x14b)](),_0x2a8e2b=this['getMetadataRetriever'](),_0x3db85f=this[_0x4053ee(0x140)]();await(0x0,promises_1[_0x4053ee(0x13e)])(_0x2cd388,_0x29cc47,_0x2a8e2b,_0x3db85f),this[_0x4053ee(0x143)][_0x4053ee(0x13f)]('Tracking\x20components\x20job\x20has\x20been\x20completed'),this['metadataLogger'][_0x4053ee(0x13c)]=constants_2[_0x4053ee(0x127)]['COMPLETED'];}catch(_0x3edb08){this[_0x4053ee(0x143)]['error']('Tracking\x20components\x20job\x20has\x20been\x20failed'),this['logger']['error'](_0x3edb08[_0x4053ee(0x11d)]),this[_0x4053ee(0x11e)]['status']=constants_2[_0x4053ee(0x127)]['EXCEPTION'];}finally{await this[_0x4053ee(0xfe)](),await this[_0x4053ee(0x143)][_0x4053ee(0xf7)](),await this['metadataLogger'][_0x4053ee(0xf7)]();}}}function a348_0xc0d7(_0x37c5cd,_0x5f4d7d){const _0x2a6584=a348_0x31cc();return a348_0xc0d7=function(_0x2719a0,_0x454543){_0x2719a0=_0x2719a0-0xf7;let _0x31cc24=_0x2a6584[_0x2719a0];return _0x31cc24;},a348_0xc0d7(_0x37c5cd,_0x5f4d7d);}exports[a348_0x2d0069(0xfd)]=Job,new Job()[a348_0x2d0069(0x126)]()[a348_0x2d0069(0xfa)](()=>process[a348_0x2d0069(0xfc)](0x0))[a348_0x2d0069(0x10e)](_0x2b5ead=>{const _0x3de7f5=a348_0x2d0069;systemLogger[_0x3de7f5(0x100)]('Job\x20Error:\x20'+_0x2b5ead[_0x3de7f5(0x11d)]),process['exit'](0x1);});