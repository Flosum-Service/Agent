const a304_0x2a3aa9=a304_0x1c1b;function a304_0x5ae5(){const _0x17a113=['(((.+)+)+)+$','413tHYXFD','1294770LvPTGC','707364WxNFXT','1963753RbFLyS','runJob','640732uGjmiY','error','101646cJbVpY','getManifestPath','3hEwLKE','../constants','generateJobId','join','12NQJoTI','default','createManifest','apply','makeDir','__esModule','../../../constants/job','TRACKING_METADATA_FOLDER_NAME','toString','fs/promises','constructor','JOB_PATH','search','createJob','20652TnnjKh','TrackingMetadataService','path','catch','573656aciIoy','200TgtKGg','../../../configs/path','1mOSPzI'];a304_0x5ae5=function(){return _0x17a113;};return a304_0x5ae5();}(function(_0x1ec517,_0x2cd718){const _0x199a07=a304_0x1c1b,_0x355fd9=_0x1ec517();while(!![]){try{const _0x48f14a=-parseInt(_0x199a07(0x1d5))/0x1*(-parseInt(_0x199a07(0x1dc))/0x2)+parseInt(_0x199a07(0x1e0))/0x3*(-parseInt(_0x199a07(0x1d9))/0x4)+parseInt(_0x199a07(0x1d8))/0x5+parseInt(_0x199a07(0x1ce))/0x6*(-parseInt(_0x199a07(0x1d7))/0x7)+-parseInt(_0x199a07(0x1d2))/0x8+parseInt(_0x199a07(0x1de))/0x9*(parseInt(_0x199a07(0x1d3))/0xa)+parseInt(_0x199a07(0x1da))/0xb*(-parseInt(_0x199a07(0x1e4))/0xc);if(_0x48f14a===_0x2cd718)break;else _0x355fd9['push'](_0x355fd9['shift']());}catch(_0x2dafc0){_0x355fd9['push'](_0x355fd9['shift']());}}}(a304_0x5ae5,0x2abcb));const a304_0x367cda=(function(){let _0x45949f=!![];return function(_0xafda33,_0x2a3e43){const _0x29b219=_0x45949f?function(){const _0x562e6e=a304_0x1c1b;if(_0x2a3e43){const _0x21d424=_0x2a3e43[_0x562e6e(0x1e7)](_0xafda33,arguments);return _0x2a3e43=null,_0x21d424;}}:function(){};return _0x45949f=![],_0x29b219;};}()),a304_0xc797e=a304_0x367cda(this,function(){const _0x5b33f6=a304_0x1c1b;return a304_0xc797e[_0x5b33f6(0x1c8)]()[_0x5b33f6(0x1cc)](_0x5b33f6(0x1d6))['toString']()[_0x5b33f6(0x1ca)](a304_0xc797e)[_0x5b33f6(0x1cc)]('(((.+)+)+)+$');});a304_0xc797e();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4151cc){const _0xa5bf73=a304_0x1c1b;return _0x4151cc&&_0x4151cc[_0xa5bf73(0x1c5)]?_0x4151cc:{'default':_0x4151cc};};function a304_0x1c1b(_0x19022c,_0x2be8e6){const _0x80ecb8=a304_0x5ae5();return a304_0x1c1b=function(_0xc797e,_0x367cda){_0xc797e=_0xc797e-0x1c4;let _0x5ae532=_0x80ecb8[_0xc797e];return _0x5ae532;},a304_0x1c1b(_0x19022c,_0x2be8e6);}Object['defineProperty'](exports,a304_0x2a3aa9(0x1c5),{'value':!![]}),exports[a304_0x2a3aa9(0x1cf)]=void 0x0;const job_utils_1=__importDefault(require('../../shared/utils/job.utils')),path_1=__importDefault(require(a304_0x2a3aa9(0x1d0))),fs_utils_1=require('../../shared/utils/fs.utils'),job_1=require(a304_0x2a3aa9(0x1c6)),path_2=require(a304_0x2a3aa9(0x1d4)),constants_1=require(a304_0x2a3aa9(0x1e1)),promises_1=require(a304_0x2a3aa9(0x1c9)),core_1=require('../../../core');class TrackingMetadataService{static async[a304_0x2a3aa9(0x1cd)](_0x218047){const _0x47cf79=a304_0x2a3aa9,_0x252787=job_utils_1[_0x47cf79(0x1e5)][_0x47cf79(0x1e2)](),_0xe2d83c=path_1['default']['join'](TrackingMetadataService['trackingMetadataFolder'],_0x252787);await(0x0,fs_utils_1[_0x47cf79(0x1c4)])(_0xe2d83c),await this[_0x47cf79(0x1e6)](_0xe2d83c,_0x218047);const _0x352361=path_1[_0x47cf79(0x1e5)][_0x47cf79(0x1e3)](__dirname,job_1[_0x47cf79(0x1cb)]),_0x500720=new core_1['Logger'](_0x252787);return job_utils_1[_0x47cf79(0x1e5)][_0x47cf79(0x1db)](_0x352361,{'jobStorePath':_0xe2d83c,'jobId':_0x252787})[_0x47cf79(0x1d1)](async _0x3ae3fe=>{const _0x1741c9=_0x47cf79;_0x500720[_0x1741c9(0x1dd)](_0x3ae3fe);}),{'jobId':_0x252787};}static async[a304_0x2a3aa9(0x1e6)](_0x1090d2,_0xb2ff75){const _0x20bc12=a304_0x2a3aa9,_0x2237f4=this[_0x20bc12(0x1df)](_0x1090d2);return(0x0,promises_1['writeFile'])(_0x2237f4,JSON['stringify']({'details':_0xb2ff75}));}static['getManifestPath'](_0x55bd29){const _0x41eb3f=a304_0x2a3aa9;return path_1[_0x41eb3f(0x1e5)][_0x41eb3f(0x1e3)](_0x55bd29,job_1['MANIFEST_FILENAME']);}}exports[a304_0x2a3aa9(0x1cf)]=TrackingMetadataService,TrackingMetadataService['trackingMetadataFolder']=path_1['default']['join'](path_2['dataPath'],constants_1[a304_0x2a3aa9(0x1c7)]);