const a85_0x4a8988=a85_0x4781;(function(_0x26e2d1,_0x46571e){const _0x17bc3f=a85_0x4781,_0x6d989b=_0x26e2d1();while(!![]){try{const _0x4812b8=parseInt(_0x17bc3f(0x1fa))/0x1*(-parseInt(_0x17bc3f(0x230))/0x2)+parseInt(_0x17bc3f(0x1fb))/0x3+parseInt(_0x17bc3f(0x218))/0x4+-parseInt(_0x17bc3f(0x1ff))/0x5+-parseInt(_0x17bc3f(0x239))/0x6*(parseInt(_0x17bc3f(0x23b))/0x7)+-parseInt(_0x17bc3f(0x1f4))/0x8+-parseInt(_0x17bc3f(0x1f7))/0x9*(-parseInt(_0x17bc3f(0x202))/0xa);if(_0x4812b8===_0x46571e)break;else _0x6d989b['push'](_0x6d989b['shift']());}catch(_0x3665d8){_0x6d989b['push'](_0x6d989b['shift']());}}}(a85_0x42b2,0x831e8));const a85_0x59ad64=(function(){let _0x2c8a7d=!![];return function(_0x3bcf4c,_0x57df83){const _0x37af98=_0x2c8a7d?function(){const _0x30b962=a85_0x4781;if(_0x57df83){const _0x1c63ec=_0x57df83[_0x30b962(0x204)](_0x3bcf4c,arguments);return _0x57df83=null,_0x1c63ec;}}:function(){};return _0x2c8a7d=![],_0x37af98;};}()),a85_0xc912b1=a85_0x59ad64(this,function(){const _0x155355=a85_0x4781;return a85_0xc912b1[_0x155355(0x217)]()[_0x155355(0x21a)]('(((.+)+)+)+$')[_0x155355(0x217)]()[_0x155355(0x233)](a85_0xc912b1)[_0x155355(0x21a)](_0x155355(0x22f));});a85_0xc912b1();'use strict';var __importDefault=this&&this[a85_0x4a8988(0x212)]||function(_0x484197){const _0x1c0421=a85_0x4a8988;return _0x484197&&_0x484197[_0x1c0421(0x216)]?_0x484197:{'default':_0x484197};};function a85_0x42b2(){const _0x5f4181=['status','../../constants','constructor','describe\x20commit\x20%s','getProtocol','logger','replace','./internal.utils','30XVxoLO','gitUrl','619542ICRtEV','getRepositoryBranches','describeCommit','\x20&&\x20git\x20checkout\x20','name','typedi','.temp','Shell','baseDir','push\x20changes\x20to\x20%s','init\x20repository','test','split','7910504VGwgxT','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','createEmptyBranch','87471AZjgbp','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','_repoPath','8MCyqhS','2708112jTzVbk','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','clone','\x20&&\x20git\x20commit\x20-m\x20\x22','632300kjaHPz','defineProperty','map','1480GRvGBI','sha','apply','git\x20clone\x20-b\x20','commit','\x20&&\x20git\x20push\x20origin\x20','get','makeDir','cd\x20','removeDir','exec','join','../branches/dto/branch.dto','extractAuthorFromCommitDescribe','log','./fs.internal','__importDefault','DEFAULT_CLONE_PATH','refs/heads/','\x20&&\x20git\x20checkout\x20--orphan\x20','__esModule','toString','480252EBlYDY','extractMessageFromCommitDescribe','search','AuthSettingsService','Logger','\x20&&\x20git\x20remote\x20add\x20origin\x20','\x20&&\x20git\x20status','commit\x20message\x20\x22%s\x22','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','setCredentials','://','DEFAULT_GIT_USER_NAME','extractEmailFromCommitDescribe','Git','checkout\x20to\x20%s','push','../shared/utils','default','getCurrentHash','git','extractChangesFromCommitDescribe','BranchDto','git\x20ls-remote\x20','(((.+)+)+)+$','91578nRHnox'];a85_0x42b2=function(){return _0x5f4181;};return a85_0x42b2();}function a85_0x4781(_0x4292db,_0x4a5dde){const _0x18c6d3=a85_0x42b2();return a85_0x4781=function(_0xc912b1,_0x59ad64){_0xc912b1=_0xc912b1-0x1f3;let _0x42b287=_0x18c6d3[_0xc912b1];return _0x42b287;},a85_0x4781(_0x4292db,_0x4a5dde);}Object[a85_0x4a8988(0x200)](exports,a85_0x4a8988(0x216),{'value':!![]}),exports['Git']=void 0x0;const constants_1=require(a85_0x4a8988(0x232)),core_1=require('../../core'),path_1=__importDefault(require('path')),typedi_1=__importDefault(require(a85_0x4a8988(0x240))),branch_dto_1=require(a85_0x4a8988(0x20e)),auth_settings_service_1=require('../shared/services/auth-settings.service'),utils_1=require(a85_0x4a8988(0x228)),fs_internal_1=require(a85_0x4a8988(0x211)),internal_utils_1=require(a85_0x4a8988(0x238)),shell_internal_1=require('./shell.internal');class Git{constructor(_0x489309){const _0x4084c1=a85_0x4a8988;this[_0x4084c1(0x1f9)]=_0x489309;}get[a85_0x4a8988(0x243)](){const _0x4d5b76=a85_0x4a8988;return this[_0x4d5b76(0x1f9)];}async[a85_0x4a8988(0x221)](_0xe93ced,_0x252595){const _0x1a809f=a85_0x4a8988;Git['logger']['log']('set\x20credentials\x20%s\x20(%s)',_0xe93ced,_0x252595),await shell_internal_1[_0x1a809f(0x242)][_0x1a809f(0x20c)](_0x1a809f(0x20a)+this[_0x1a809f(0x1f9)]+_0x1a809f(0x1f8)+_0xe93ced+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x252595+'\x22');}async['add'](..._0x5a4011){const _0x1afa95=a85_0x4a8988;await shell_internal_1[_0x1afa95(0x242)][_0x1afa95(0x20c)](_0x1afa95(0x20a)+this[_0x1afa95(0x1f9)]+'\x20&&\x20git\x20add\x20'+_0x5a4011[_0x1afa95(0x20d)]('\x20'));}async[a85_0x4a8988(0x231)](){const _0x1f94bd=a85_0x4a8988;return shell_internal_1[_0x1f94bd(0x242)][_0x1f94bd(0x20c)](_0x1f94bd(0x20a)+this[_0x1f94bd(0x1f9)]+_0x1f94bd(0x21e));}async[a85_0x4a8988(0x206)](_0xa8a0ab){const _0x15efd=a85_0x4a8988;Git['logger'][_0x15efd(0x210)](_0x15efd(0x21f),_0xa8a0ab),await shell_internal_1['Shell'][_0x15efd(0x20c)]('cd\x20'+this[_0x15efd(0x1f9)]+_0x15efd(0x1fe)+_0xa8a0ab+'\x22');}async['push'](_0x1854fa){const _0xab68d9=a85_0x4a8988;Git['logger'][_0xab68d9(0x210)](_0xab68d9(0x244),_0x1854fa),await shell_internal_1[_0xab68d9(0x242)][_0xab68d9(0x20c)]('cd\x20'+this[_0xab68d9(0x1f9)]+_0xab68d9(0x207)+_0x1854fa+'\x20--quiet');}async['checkout'](_0x5015fc){const _0x181d0d=a85_0x4a8988;Git[_0x181d0d(0x236)][_0x181d0d(0x210)](_0x181d0d(0x226),_0x5015fc),await shell_internal_1[_0x181d0d(0x242)][_0x181d0d(0x20c)](_0x181d0d(0x20a)+this[_0x181d0d(0x1f9)]+_0x181d0d(0x23e)+_0x5015fc);}async[a85_0x4a8988(0x22a)](){const _0x5a71b9=a85_0x4a8988,_0x29af1b=await shell_internal_1[_0x5a71b9(0x242)][_0x5a71b9(0x20c)](_0x5a71b9(0x20a)+this[_0x5a71b9(0x1f9)]+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x29af1b[_0x5a71b9(0x237)]('\x0a','');}async[a85_0x4a8988(0x23d)](_0x91593c){const _0x473b54=a85_0x4a8988;Git[_0x473b54(0x236)]['log'](_0x473b54(0x234),_0x91593c);const _0x5d3bde=await shell_internal_1['Shell']['exec']('cd\x20'+this[_0x473b54(0x1f9)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x91593c);return{'author':internal_utils_1[_0x473b54(0x20f)](_0x5d3bde),'email':internal_utils_1[_0x473b54(0x224)](_0x5d3bde),'message':internal_utils_1[_0x473b54(0x219)](_0x5d3bde),'changes':internal_utils_1[_0x473b54(0x22c)](_0x5d3bde)};}static async[a85_0x4a8988(0x1fd)](_0x170564,_0x429335,_0x5a33a4){const _0x563196=a85_0x4a8988,_0x24741f=path_1[_0x563196(0x229)]['join'](this['DEFAULT_CLONE_PATH'],_0x429335),_0x8844ce=new Git(_0x24741f);return Git['logger']['log'](_0x563196(0x220),_0x5a33a4,_0x170564,_0x24741f),await fs_internal_1['FS']['removeDir'](_0x24741f),await shell_internal_1[_0x563196(0x242)][_0x563196(0x20c)](_0x563196(0x205)+_0x5a33a4+'\x20--single-branch\x20'+_0x170564+'\x20'+_0x24741f),_0x8844ce;}static async[a85_0x4a8988(0x23c)](_0x1040d8){const _0x1e2ae4=a85_0x4a8988,_0x3eb3bc=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x280f27}=typedi_1[_0x1e2ae4(0x229)][_0x1e2ae4(0x208)](auth_settings_service_1[_0x1e2ae4(0x21b)]),_0x5de5bd=_0x1040d8[_0x1e2ae4(0x23a)][_0x1e2ae4(0x237)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x1e2ae4(0x235)](_0x1040d8[_0x1e2ae4(0x23a)])+_0x1e2ae4(0x222)+_0x280f27+'@'),_0x343c5c=await shell_internal_1[_0x1e2ae4(0x242)]['exec'](_0x1e2ae4(0x22e)+_0x5de5bd),_0x4e3036=_0x343c5c[_0x1e2ae4(0x1f3)]('\x0a')['filter'](_0x33ba56=>_0x3eb3bc[_0x1e2ae4(0x246)](_0x33ba56))[_0x1e2ae4(0x201)](_0x2ed26d=>{const _0x5b1b46=_0x1e2ae4,[,_0x3c29a3,_0x394c28]=_0x2ed26d['match'](_0x3eb3bc),_0x35055b=new branch_dto_1[(_0x5b1b46(0x22d))]();return _0x35055b[_0x5b1b46(0x203)]=_0x3c29a3,_0x35055b[_0x5b1b46(0x23f)]=_0x394c28['replace'](_0x5b1b46(0x214),''),_0x35055b;});return _0x4e3036;}static async[a85_0x4a8988(0x1f6)](_0x588293,_0x49165f,_0x2f62ec=a85_0x4a8988(0x245)){const _0x45bdcd=a85_0x4a8988,{gitCredentials:_0x22d79c}=typedi_1[_0x45bdcd(0x229)]['get'](auth_settings_service_1['AuthSettingsService']),_0xbaa651=_0x588293[_0x45bdcd(0x23a)][_0x45bdcd(0x237)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x45bdcd(0x235)](_0x588293[_0x45bdcd(0x23a)])+_0x45bdcd(0x222)+_0x22d79c+'@'),_0x3df076=path_1[_0x45bdcd(0x229)][_0x45bdcd(0x20d)](this[_0x45bdcd(0x213)],_0x588293['name']);Git[_0x45bdcd(0x236)]['log'](_0x45bdcd(0x1fc),_0x588293[_0x45bdcd(0x23f)],_0x49165f,_0x3df076,_0xbaa651),await fs_internal_1['FS'][_0x45bdcd(0x20b)](_0x3df076),await fs_internal_1['FS'][_0x45bdcd(0x209)](_0x3df076);const _0x5bb47d=new Git(_0x3df076);await shell_internal_1[_0x45bdcd(0x242)][_0x45bdcd(0x20c)]('cd\x20'+_0x5bb47d['baseDir']+'\x20&&\x20git\x20init'),await shell_internal_1[_0x45bdcd(0x242)]['exec'](_0x45bdcd(0x20a)+_0x5bb47d[_0x45bdcd(0x243)]+_0x45bdcd(0x21d)+_0xbaa651),await _0x5bb47d[_0x45bdcd(0x221)](constants_1[_0x45bdcd(0x223)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x45bdcd(0x242)][_0x45bdcd(0x20c)](_0x45bdcd(0x20a)+_0x5bb47d[_0x45bdcd(0x243)]+_0x45bdcd(0x215)+_0x49165f),await shell_internal_1[_0x45bdcd(0x242)][_0x45bdcd(0x20c)](_0x45bdcd(0x20a)+_0x5bb47d[_0x45bdcd(0x243)]+_0x45bdcd(0x1fe)+_0x2f62ec+'\x22\x20--allow-empty'),await _0x5bb47d[_0x45bdcd(0x227)](_0x49165f),Git[_0x45bdcd(0x236)]['log'](_0x45bdcd(0x1f5)),await fs_internal_1['FS'][_0x45bdcd(0x20b)](_0x5bb47d[_0x45bdcd(0x243)]);}}exports[a85_0x4a8988(0x225)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a85_0x4a8988(0x229)][a85_0x4a8988(0x20d)](process['cwd'](),a85_0x4a8988(0x241),a85_0x4a8988(0x22b)),Git[a85_0x4a8988(0x236)]=new core_1[(a85_0x4a8988(0x21c))](Git['name']);