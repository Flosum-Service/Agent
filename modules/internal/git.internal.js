const a85_0x20bee0=a85_0x2289;(function(_0x566dd5,_0x1798a6){const _0x466936=a85_0x2289,_0xe5a7ed=_0x566dd5();while(!![]){try{const _0x5b99ec=-parseInt(_0x466936(0xcd))/0x1+parseInt(_0x466936(0xdf))/0x2*(parseInt(_0x466936(0x11b))/0x3)+-parseInt(_0x466936(0xde))/0x4*(parseInt(_0x466936(0x105))/0x5)+parseInt(_0x466936(0xf1))/0x6*(-parseInt(_0x466936(0xeb))/0x7)+-parseInt(_0x466936(0xd8))/0x8*(parseInt(_0x466936(0x121))/0x9)+-parseInt(_0x466936(0x119))/0xa+-parseInt(_0x466936(0xf0))/0xb*(-parseInt(_0x466936(0x126))/0xc);if(_0x5b99ec===_0x1798a6)break;else _0xe5a7ed['push'](_0xe5a7ed['shift']());}catch(_0x1e3719){_0xe5a7ed['push'](_0xe5a7ed['shift']());}}}(a85_0x3aac,0x763d2));function a85_0x2289(_0x4dc4a5,_0x3842cd){const _0xa93061=a85_0x3aac();return a85_0x2289=function(_0x2233c3,_0x4fc345){_0x2233c3=_0x2233c3-0xcd;let _0x3aac2a=_0xa93061[_0x2233c3];return _0x3aac2a;},a85_0x2289(_0x4dc4a5,_0x3842cd);}function a85_0x3aac(){const _0x2d4e8f=['_repoPath','.temp','toString','makeDir','apply','removeDir','get','AuthSettingsService','./shell.internal','\x20&&\x20git\x20checkout\x20','cwd','then','log','../../core','push','://','1342470uhIpPI','BranchDto','1413651FpkBeP','DEFAULT_CLONE_PATH','map','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','\x20&&\x20git\x20commit\x20-m\x20\x22','DEFAULT_GIT_USER_EMAIL','6381Ntptno','getRemoteHash','../shared/utils','search','cd\x20','36rEBqdz','../../constants','Shell','729773qOddDG','filter','\x20&&\x20git\x20status','./fs.internal','../branches/dto/branch.dto','split','join','extractMessageFromCommitDescribe','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','sha','git','8920kxiekd','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','typedi','refs/heads/','(((.+)+)+)+$','\x20--single-branch\x20','44ZcWxLv','4RVfMEa','getRepositoryBranches','\x20&&\x20git\x20add\x20','gitUrl','replace','logger','constructor','../shared/services/auth-settings.service','\x20--quiet','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20remote\x20add\x20origin\x20','match','27608WQScdf','set\x20credentials\x20%s\x20(%s)','__esModule','\x22\x20--allow-empty','Logger','7525276mIklNU','660WACfZp','push\x20changes\x20to\x20%s','path','status','exec','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','\x20&&\x20git\x20rev-parse\x20HEAD','default','createEmptyBranch','checkout','Git','\x20&&\x20git\x20init','setCredentials','git\x20ls-remote\x20','checkout\x20to\x20%s','extractEmailFromCommitDescribe','DEFAULT_GIT_USER_NAME','baseDir','name','191855FrvvwL','\x20&&\x20git\x20push\x20origin\x20','./internal.utils','getProtocol'];a85_0x3aac=function(){return _0x2d4e8f;};return a85_0x3aac();}const a85_0x4fc345=(function(){let _0x400100=!![];return function(_0x3efe27,_0xe4b907){const _0x3cf1e6=_0x400100?function(){const _0xe2bc20=a85_0x2289;if(_0xe4b907){const _0x4dc9ef=_0xe4b907[_0xe2bc20(0x10d)](_0x3efe27,arguments);return _0xe4b907=null,_0x4dc9ef;}}:function(){};return _0x400100=![],_0x3cf1e6;};}()),a85_0x2233c3=a85_0x4fc345(this,function(){const _0x1bb14b=a85_0x2289;return a85_0x2233c3[_0x1bb14b(0x10b)]()[_0x1bb14b(0x124)](_0x1bb14b(0xdc))[_0x1bb14b(0x10b)]()[_0x1bb14b(0xe5)](a85_0x2233c3)[_0x1bb14b(0x124)]('(((.+)+)+)+$');});a85_0x2233c3();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x574f1a){const _0x44fa5a=a85_0x2289;return _0x574f1a&&_0x574f1a[_0x44fa5a(0xed)]?_0x574f1a:{'default':_0x574f1a};};Object['defineProperty'](exports,a85_0x20bee0(0xed),{'value':!![]}),exports[a85_0x20bee0(0xfc)]=void 0x0;const constants_1=require(a85_0x20bee0(0x127)),core_1=require(a85_0x20bee0(0x116)),path_1=__importDefault(require(a85_0x20bee0(0xf3))),typedi_1=__importDefault(require(a85_0x20bee0(0xda))),branch_dto_1=require(a85_0x20bee0(0xd1)),auth_settings_service_1=require(a85_0x20bee0(0xe6)),utils_1=require(a85_0x20bee0(0x123)),fs_internal_1=require(a85_0x20bee0(0xd0)),internal_utils_1=require(a85_0x20bee0(0x107)),shell_internal_1=require(a85_0x20bee0(0x111));class Git{constructor(_0x33c0bf){this['_repoPath']=_0x33c0bf;}get['baseDir'](){const _0x150084=a85_0x20bee0;return this[_0x150084(0x109)];}async[a85_0x20bee0(0xfe)](_0x146759,_0x2d916b){const _0x264450=a85_0x20bee0;Git[_0x264450(0xe4)][_0x264450(0x115)](_0x264450(0xec),_0x146759,_0x2d916b),await shell_internal_1['Shell']['exec']('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x146759+_0x264450(0xf6)+_0x2d916b+'\x22');}async['add'](..._0x1a5abc){const _0x33b254=a85_0x20bee0;await shell_internal_1[_0x33b254(0x128)][_0x33b254(0xf5)]('cd\x20'+this[_0x33b254(0x109)]+_0x33b254(0xe1)+_0x1a5abc[_0x33b254(0xd3)]('\x20'));}async[a85_0x20bee0(0xf4)](){const _0x11271e=a85_0x20bee0;return shell_internal_1[_0x11271e(0x128)][_0x11271e(0xf5)](_0x11271e(0x125)+this[_0x11271e(0x109)]+_0x11271e(0xcf));}async['commit'](_0x400c56){const _0xab88ff=a85_0x20bee0;Git['logger'][_0xab88ff(0x115)](_0xab88ff(0xe8),_0x400c56),await shell_internal_1[_0xab88ff(0x128)][_0xab88ff(0xf5)](_0xab88ff(0x125)+this[_0xab88ff(0x109)]+_0xab88ff(0x11f)+_0x400c56+'\x22');}async[a85_0x20bee0(0x117)](_0x48faeb){const _0x45833a=a85_0x20bee0;Git[_0x45833a(0xe4)][_0x45833a(0x115)](_0x45833a(0xf2),_0x48faeb),await shell_internal_1[_0x45833a(0x128)][_0x45833a(0xf5)]('cd\x20'+this[_0x45833a(0x109)]+_0x45833a(0x106)+_0x48faeb+_0x45833a(0xe7));}async[a85_0x20bee0(0xfb)](_0x5ddf6d){const _0x5436a5=a85_0x20bee0;Git[_0x5436a5(0xe4)][_0x5436a5(0x115)](_0x5436a5(0x100),_0x5ddf6d),await shell_internal_1[_0x5436a5(0x128)][_0x5436a5(0xf5)](_0x5436a5(0x125)+this['_repoPath']+_0x5436a5(0x112)+_0x5ddf6d);}async['getCurrentHash'](){const _0x5ae475=a85_0x20bee0,_0x2fc0cf=await shell_internal_1[_0x5ae475(0x128)][_0x5ae475(0xf5)](_0x5ae475(0x125)+this[_0x5ae475(0x109)]+_0x5ae475(0xf8));return _0x2fc0cf[_0x5ae475(0xe3)]('\x0a','');}async['describeCommit'](_0x275de2){const _0x452251=a85_0x20bee0;Git[_0x452251(0xe4)][_0x452251(0x115)]('describe\x20commit\x20%s',_0x275de2);const _0x26a613=await shell_internal_1['Shell']['exec'](_0x452251(0x125)+this['_repoPath']+_0x452251(0xd5)+_0x275de2);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x26a613),'email':internal_utils_1[_0x452251(0x101)](_0x26a613),'message':internal_utils_1[_0x452251(0xd4)](_0x26a613),'changes':internal_utils_1['extractChangesFromCommitDescribe'](_0x26a613)};}static async[a85_0x20bee0(0x122)](_0x505f87,_0x1222d4){const _0x151bdf=a85_0x20bee0,[_0x2c441d]=await shell_internal_1['Shell'][_0x151bdf(0xf5)](_0x151bdf(0xff)+_0x505f87+'\x20'+_0x1222d4+'\x20--refs')[_0x151bdf(0x114)](_0x2651d7=>_0x2651d7[_0x151bdf(0xe3)](/\s/g,'\x20')[_0x151bdf(0xd2)]('\x20'));return _0x2c441d;}static async['clone'](_0x2a2d51,_0x1e452b,_0x43331a){const _0x1aa9c0=a85_0x20bee0,_0x1af0b6=path_1[_0x1aa9c0(0xf9)][_0x1aa9c0(0xd3)](this[_0x1aa9c0(0x11c)],_0x1e452b),_0x513504=new Git(_0x1af0b6);return Git[_0x1aa9c0(0xe4)][_0x1aa9c0(0x115)](_0x1aa9c0(0x11e),_0x43331a,_0x2a2d51,_0x1af0b6),await fs_internal_1['FS'][_0x1aa9c0(0x10e)](_0x1af0b6),await shell_internal_1[_0x1aa9c0(0x128)]['exec']('git\x20clone\x20-b\x20'+_0x43331a+_0x1aa9c0(0xdd)+_0x2a2d51+'\x20'+_0x1af0b6),_0x513504;}static async[a85_0x20bee0(0xe0)](_0x4fcbcc){const _0x2eff02=a85_0x20bee0,_0xfcaa9f=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x1e3f09}=typedi_1[_0x2eff02(0xf9)]['get'](auth_settings_service_1[_0x2eff02(0x110)]),_0x395f83=_0x4fcbcc['gitUrl'][_0x2eff02(0xe3)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x2eff02(0x108)](_0x4fcbcc[_0x2eff02(0xe2)])+_0x2eff02(0x118)+_0x1e3f09+'@'),_0x2321e7=await shell_internal_1['Shell'][_0x2eff02(0xf5)]('git\x20ls-remote\x20'+_0x395f83),_0x57542c=_0x2321e7[_0x2eff02(0xd2)]('\x0a')[_0x2eff02(0xce)](_0x8e6237=>_0xfcaa9f['test'](_0x8e6237))[_0x2eff02(0x11d)](_0x2fb733=>{const _0x97e0f2=_0x2eff02,[,_0xfa681d,_0x1b4a70]=_0x2fb733[_0x97e0f2(0xea)](_0xfcaa9f),_0xfe1209=new branch_dto_1[(_0x97e0f2(0x11a))]();return _0xfe1209[_0x97e0f2(0xd6)]=_0xfa681d,_0xfe1209[_0x97e0f2(0x104)]=_0x1b4a70[_0x97e0f2(0xe3)](_0x97e0f2(0xdb),''),_0xfe1209;});return _0x57542c;}static async[a85_0x20bee0(0xfa)](_0x4dffe4,_0x1297f1,_0x843ed3='init\x20repository'){const _0xfadd6e=a85_0x20bee0,{gitCredentials:_0x4e575e}=typedi_1[_0xfadd6e(0xf9)][_0xfadd6e(0x10f)](auth_settings_service_1[_0xfadd6e(0x110)]),_0x29c4d5=_0x4dffe4[_0xfadd6e(0xe2)][_0xfadd6e(0xe3)](/http(s)?\:\/\/(.+@)?/,utils_1[_0xfadd6e(0x108)](_0x4dffe4[_0xfadd6e(0xe2)])+_0xfadd6e(0x118)+_0x4e575e+'@'),_0x24b547=path_1[_0xfadd6e(0xf9)][_0xfadd6e(0xd3)](this['DEFAULT_CLONE_PATH'],_0x4dffe4[_0xfadd6e(0x104)]);Git['logger'][_0xfadd6e(0x115)](_0xfadd6e(0xf7),_0x4dffe4['name'],_0x1297f1,_0x24b547,_0x29c4d5),await fs_internal_1['FS'][_0xfadd6e(0x10e)](_0x24b547),await fs_internal_1['FS'][_0xfadd6e(0x10c)](_0x24b547);const _0x1ba2c8=new Git(_0x24b547);await shell_internal_1[_0xfadd6e(0x128)][_0xfadd6e(0xf5)](_0xfadd6e(0x125)+_0x1ba2c8[_0xfadd6e(0x103)]+_0xfadd6e(0xfd)),await shell_internal_1[_0xfadd6e(0x128)][_0xfadd6e(0xf5)](_0xfadd6e(0x125)+_0x1ba2c8[_0xfadd6e(0x103)]+_0xfadd6e(0xe9)+_0x29c4d5),await _0x1ba2c8[_0xfadd6e(0xfe)](constants_1[_0xfadd6e(0x102)],constants_1[_0xfadd6e(0x120)]),await shell_internal_1[_0xfadd6e(0x128)][_0xfadd6e(0xf5)](_0xfadd6e(0x125)+_0x1ba2c8['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x1297f1),await shell_internal_1[_0xfadd6e(0x128)]['exec'](_0xfadd6e(0x125)+_0x1ba2c8['baseDir']+_0xfadd6e(0x11f)+_0x843ed3+_0xfadd6e(0xee)),await _0x1ba2c8['push'](_0x1297f1),Git['logger'][_0xfadd6e(0x115)](_0xfadd6e(0xd9)),await fs_internal_1['FS'][_0xfadd6e(0x10e)](_0x1ba2c8[_0xfadd6e(0x103)]);}}exports[a85_0x20bee0(0xfc)]=Git,Git[a85_0x20bee0(0x11c)]=path_1[a85_0x20bee0(0xf9)][a85_0x20bee0(0xd3)](process[a85_0x20bee0(0x113)](),a85_0x20bee0(0x10a),a85_0x20bee0(0xd7)),Git[a85_0x20bee0(0xe4)]=new core_1[(a85_0x20bee0(0xef))](Git[a85_0x20bee0(0x104)]);