const a84_0x27a32c=a84_0x29f7;(function(_0x1437a1,_0x29ac15){const _0x37c5ef=a84_0x29f7,_0x22d9b7=_0x1437a1();while(!![]){try{const _0x2a09a6=-parseInt(_0x37c5ef(0x147))/0x1*(-parseInt(_0x37c5ef(0x16d))/0x2)+-parseInt(_0x37c5ef(0x186))/0x3+parseInt(_0x37c5ef(0x170))/0x4*(parseInt(_0x37c5ef(0x188))/0x5)+-parseInt(_0x37c5ef(0x178))/0x6*(parseInt(_0x37c5ef(0x15f))/0x7)+parseInt(_0x37c5ef(0x197))/0x8+-parseInt(_0x37c5ef(0x167))/0x9+parseInt(_0x37c5ef(0x174))/0xa;if(_0x2a09a6===_0x29ac15)break;else _0x22d9b7['push'](_0x22d9b7['shift']());}catch(_0x4b7aa0){_0x22d9b7['push'](_0x22d9b7['shift']());}}}(a84_0xc4f3,0x8b5d7));const a84_0x10fad3=(function(){let _0x422161=!![];return function(_0x958277,_0x314b80){const _0x1f035f=_0x422161?function(){const _0x5f4f68=a84_0x29f7;if(_0x314b80){const _0x24915d=_0x314b80[_0x5f4f68(0x18c)](_0x958277,arguments);return _0x314b80=null,_0x24915d;}}:function(){};return _0x422161=![],_0x1f035f;};}()),a84_0x35dcf8=a84_0x10fad3(this,function(){const _0x5852bb=a84_0x29f7;return a84_0x35dcf8[_0x5852bb(0x16a)]()[_0x5852bb(0x187)](_0x5852bb(0x163))[_0x5852bb(0x16a)]()[_0x5852bb(0x19a)](a84_0x35dcf8)['search'](_0x5852bb(0x163));});a84_0x35dcf8();'use strict';var __importDefault=this&&this[a84_0x27a32c(0x14c)]||function(_0x5e4612){const _0x2b5d01=a84_0x27a32c;return _0x5e4612&&_0x5e4612[_0x2b5d01(0x161)]?_0x5e4612:{'default':_0x5e4612};};Object[a84_0x27a32c(0x14e)](exports,a84_0x27a32c(0x161),{'value':!![]}),exports[a84_0x27a32c(0x191)]=void 0x0;function a84_0x29f7(_0x2063a2,_0x512d17){const _0x5e35ee=a84_0xc4f3();return a84_0x29f7=function(_0x35dcf8,_0x10fad3){_0x35dcf8=_0x35dcf8-0x146;let _0xc4f331=_0x5e35ee[_0x35dcf8];return _0xc4f331;},a84_0x29f7(_0x2063a2,_0x512d17);}const constants_1=require(a84_0x27a32c(0x17c)),core_1=require(a84_0x27a32c(0x14a)),path_1=__importDefault(require(a84_0x27a32c(0x180))),typedi_1=__importDefault(require(a84_0x27a32c(0x183))),branch_dto_1=require(a84_0x27a32c(0x173)),auth_settings_service_1=require(a84_0x27a32c(0x157)),utils_1=require(a84_0x27a32c(0x153)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a84_0x27a32c(0x185)),shell_internal_1=require(a84_0x27a32c(0x146));function a84_0xc4f3(){const _0x3354f4=['Git','git\x20clone\x20-b\x20','logger','\x20&&\x20git\x20init','\x20&&\x20git\x20push\x20origin\x20','DEFAULT_GIT_USER_NAME','8083720BeXfwK','getRepositoryBranches','setCredentials','constructor','./shell.internal','269HfpJfR','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','checkout\x20to\x20%s','../../core','describeCommit','__importDefault','DEFAULT_CLONE_PATH','defineProperty','sha','map','refs/heads/','exec','../shared/utils','cd\x20','\x20--quiet','\x20&&\x20git\x20commit\x20-m\x20\x22','../shared/services/auth-settings.service','commit','getCurrentHash','push','\x20&&\x20git\x20add\x20','commit\x20message\x20\x22%s\x22','baseDir','log','7QhHXaA','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','__esModule','removeDir','(((.+)+)+)+$','status','describe\x20commit\x20%s','AuthSettingsService','4316535bszMdQ','get','extractMessageFromCommitDescribe','toString','filter','\x22\x20--allow-empty','6886IkPKkr','\x20&&\x20git\x20checkout\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','28axjufp','gitUrl','_repoPath','../branches/dto/branch.dto','6201050UxHqrF','createEmptyBranch','join','name','3761298TJkMzZ','Logger','getProtocol','\x20&&\x20git\x20remote\x20add\x20origin\x20','../../constants','git\x20ls-remote\x20','extractChangesFromCommitDescribe','://','path','Shell','init\x20repository','typedi','test','./internal.utils','2927349eQyxzW','search','68845TTowcf','\x20--single-branch\x20','\x20&&\x20git\x20checkout\x20--orphan\x20','default','apply','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','extractAuthorFromCommitDescribe','match','replace'];a84_0xc4f3=function(){return _0x3354f4;};return a84_0xc4f3();}class Git{constructor(_0x51102c){const _0x55ce7c=a84_0x27a32c;this[_0x55ce7c(0x172)]=_0x51102c;}get['baseDir'](){const _0x49872f=a84_0x27a32c;return this[_0x49872f(0x172)];}async[a84_0x27a32c(0x199)](_0x1903be,_0x5ffc89){const _0x5d48f9=a84_0x27a32c;Git[_0x5d48f9(0x193)][_0x5d48f9(0x15e)]('set\x20credentials\x20%s\x20(%s)',_0x1903be,_0x5ffc89),await shell_internal_1[_0x5d48f9(0x181)][_0x5d48f9(0x152)]('cd\x20'+this['_repoPath']+_0x5d48f9(0x160)+_0x1903be+_0x5d48f9(0x16f)+_0x5ffc89+'\x22');}async['add'](..._0x4f8837){const _0x22775f=a84_0x27a32c;await shell_internal_1[_0x22775f(0x181)][_0x22775f(0x152)](_0x22775f(0x154)+this['_repoPath']+_0x22775f(0x15b)+_0x4f8837[_0x22775f(0x176)]('\x20'));}async[a84_0x27a32c(0x164)](){const _0x530a4f=a84_0x27a32c;return shell_internal_1[_0x530a4f(0x181)]['exec'](_0x530a4f(0x154)+this[_0x530a4f(0x172)]+'\x20&&\x20git\x20status');}async[a84_0x27a32c(0x158)](_0x3e7934){const _0x4d76c=a84_0x27a32c;Git[_0x4d76c(0x193)][_0x4d76c(0x15e)](_0x4d76c(0x15c),_0x3e7934),await shell_internal_1[_0x4d76c(0x181)][_0x4d76c(0x152)](_0x4d76c(0x154)+this['_repoPath']+_0x4d76c(0x156)+_0x3e7934+'\x22');}async['push'](_0x474f2c){const _0x58a824=a84_0x27a32c;Git[_0x58a824(0x193)][_0x58a824(0x15e)]('push\x20changes\x20to\x20%s',_0x474f2c),await shell_internal_1[_0x58a824(0x181)][_0x58a824(0x152)]('cd\x20'+this[_0x58a824(0x172)]+_0x58a824(0x195)+_0x474f2c+_0x58a824(0x155));}async['checkout'](_0x1eca7b){const _0xebd264=a84_0x27a32c;Git[_0xebd264(0x193)][_0xebd264(0x15e)](_0xebd264(0x149),_0x1eca7b),await shell_internal_1[_0xebd264(0x181)][_0xebd264(0x152)](_0xebd264(0x154)+this[_0xebd264(0x172)]+_0xebd264(0x16e)+_0x1eca7b);}async[a84_0x27a32c(0x159)](){const _0x251c77=a84_0x27a32c,_0x148c58=await shell_internal_1[_0x251c77(0x181)]['exec'](_0x251c77(0x154)+this[_0x251c77(0x172)]+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x148c58[_0x251c77(0x190)]('\x0a','');}async[a84_0x27a32c(0x14b)](_0x5bcb46){const _0x46e4de=a84_0x27a32c;Git['logger'][_0x46e4de(0x15e)](_0x46e4de(0x165),_0x5bcb46);const _0x17b8fe=await shell_internal_1[_0x46e4de(0x181)][_0x46e4de(0x152)]('cd\x20'+this['_repoPath']+_0x46e4de(0x148)+_0x5bcb46);return{'author':internal_utils_1[_0x46e4de(0x18e)](_0x17b8fe),'email':internal_utils_1['extractEmailFromCommitDescribe'](_0x17b8fe),'message':internal_utils_1[_0x46e4de(0x169)](_0x17b8fe),'changes':internal_utils_1[_0x46e4de(0x17e)](_0x17b8fe)};}static async['clone'](_0x315837,_0x3c4909,_0x54daeb){const _0x576791=a84_0x27a32c,_0x5d1085=path_1['default'][_0x576791(0x176)](this[_0x576791(0x14d)],_0x3c4909),_0x2b9c8d=new Git(_0x5d1085);return Git[_0x576791(0x193)][_0x576791(0x15e)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x54daeb,_0x315837,_0x5d1085),await fs_internal_1['FS'][_0x576791(0x162)](_0x5d1085),await shell_internal_1[_0x576791(0x181)][_0x576791(0x152)](_0x576791(0x192)+_0x54daeb+_0x576791(0x189)+_0x315837+'\x20'+_0x5d1085),_0x2b9c8d;}static async[a84_0x27a32c(0x198)](_0x5ea10c){const _0x561295=a84_0x27a32c,_0x1d69fd=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x5d3a8f}=typedi_1[_0x561295(0x18b)][_0x561295(0x168)](auth_settings_service_1[_0x561295(0x166)]),_0xc60b00=_0x5ea10c[_0x561295(0x171)][_0x561295(0x190)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x561295(0x17a)](_0x5ea10c[_0x561295(0x171)])+_0x561295(0x17f)+_0x5d3a8f+'@'),_0x41adc3=await shell_internal_1['Shell'][_0x561295(0x152)](_0x561295(0x17d)+_0xc60b00),_0x1e76e3=_0x41adc3['split']('\x0a')[_0x561295(0x16b)](_0x458bc8=>_0x1d69fd[_0x561295(0x184)](_0x458bc8))[_0x561295(0x150)](_0x48da4d=>{const _0x4ce31d=_0x561295,[,_0x389a49,_0x207448]=_0x48da4d[_0x4ce31d(0x18f)](_0x1d69fd),_0x5435a2=new branch_dto_1['BranchDto']();return _0x5435a2[_0x4ce31d(0x14f)]=_0x389a49,_0x5435a2[_0x4ce31d(0x177)]=_0x207448[_0x4ce31d(0x190)](_0x4ce31d(0x151),''),_0x5435a2;});return _0x1e76e3;}static async[a84_0x27a32c(0x175)](_0x22d9b0,_0x5ad921,_0x660d4c=a84_0x27a32c(0x182)){const _0x4c3fb8=a84_0x27a32c,{gitCredentials:_0x1441fb}=typedi_1[_0x4c3fb8(0x18b)][_0x4c3fb8(0x168)](auth_settings_service_1['AuthSettingsService']),_0x4212e9=_0x22d9b0['gitUrl'][_0x4c3fb8(0x190)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x4c3fb8(0x17a)](_0x22d9b0[_0x4c3fb8(0x171)])+_0x4c3fb8(0x17f)+_0x1441fb+'@'),_0x4c4867=path_1[_0x4c3fb8(0x18b)][_0x4c3fb8(0x176)](this['DEFAULT_CLONE_PATH'],_0x22d9b0[_0x4c3fb8(0x177)]);Git[_0x4c3fb8(0x193)][_0x4c3fb8(0x15e)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x22d9b0['name'],_0x5ad921,_0x4c4867,_0x4212e9),await fs_internal_1['FS'][_0x4c3fb8(0x162)](_0x4c4867),await fs_internal_1['FS']['makeDir'](_0x4c4867);const _0x3dea5c=new Git(_0x4c4867);await shell_internal_1[_0x4c3fb8(0x181)][_0x4c3fb8(0x152)](_0x4c3fb8(0x154)+_0x3dea5c[_0x4c3fb8(0x15d)]+_0x4c3fb8(0x194)),await shell_internal_1[_0x4c3fb8(0x181)][_0x4c3fb8(0x152)](_0x4c3fb8(0x154)+_0x3dea5c['baseDir']+_0x4c3fb8(0x17b)+_0x4212e9),await _0x3dea5c[_0x4c3fb8(0x199)](constants_1[_0x4c3fb8(0x196)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1['Shell'][_0x4c3fb8(0x152)](_0x4c3fb8(0x154)+_0x3dea5c[_0x4c3fb8(0x15d)]+_0x4c3fb8(0x18a)+_0x5ad921),await shell_internal_1[_0x4c3fb8(0x181)]['exec'](_0x4c3fb8(0x154)+_0x3dea5c[_0x4c3fb8(0x15d)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x660d4c+_0x4c3fb8(0x16c)),await _0x3dea5c[_0x4c3fb8(0x15a)](_0x5ad921),Git[_0x4c3fb8(0x193)][_0x4c3fb8(0x15e)](_0x4c3fb8(0x18d)),await fs_internal_1['FS'][_0x4c3fb8(0x162)](_0x3dea5c['baseDir']);}}exports['Git']=Git,Git['DEFAULT_CLONE_PATH']=path_1['default'][a84_0x27a32c(0x176)](process['cwd'](),'.temp','git'),Git[a84_0x27a32c(0x193)]=new core_1[(a84_0x27a32c(0x179))](Git[a84_0x27a32c(0x177)]);