const a85_0x28d976=a85_0x350c;function a85_0x27ea(){const _0x5cbd5a=['971787RHbhmA','createEmptyBranch','removeDir','map','\x20--single-branch\x20','../shared/services/auth-settings.service','gitUrl','\x20&&\x20git\x20status','extractAuthorFromCommitDescribe','getRepositoryBranches','match','../shared/utils','Shell','git','clone','name','push','DEFAULT_GIT_USER_NAME','toString','2875632cdNIBr','Logger','cwd','filter','../../core','replace','test','split','default','./fs.internal','setCredentials','./shell.internal','path','.temp','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','Git','getCurrentHash','describe\x20commit\x20%s','status','cd\x20','constructor','2339973eFaVKG','makeDir','4171DYgBbB','(((.+)+)+)+$','init\x20repository','checkout','30268OnnENz','138awAmjr','DEFAULT_CLONE_PATH','log','\x20&&\x20git\x20commit\x20-m\x20\x22','add','\x22\x20--allow-empty','push\x20changes\x20to\x20%s','git\x20ls-remote\x20','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','extractEmailFromCommitDescribe','__importDefault','\x20&&\x20git\x20add\x20','join','git\x20clone\x20-b\x20','2728620adiTCV','AuthSettingsService','10939216stccoJ','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','sha','DEFAULT_GIT_USER_EMAIL','refs/heads/','baseDir','__esModule','checkout\x20to\x20%s','extractChangesFromCommitDescribe','exec','\x20&&\x20git\x20rev-parse\x20HEAD','\x20&&\x20git\x20checkout\x20','defineProperty','\x20--quiet','search','://','describeCommit','../branches/dto/branch.dto','_repoPath','get','1626OhFerj','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','getProtocol','extractMessageFromCommitDescribe','../../constants','logger','\x20&&\x20git\x20checkout\x20--orphan\x20'];a85_0x27ea=function(){return _0x5cbd5a;};return a85_0x27ea();}(function(_0x24b2b6,_0x2e4a57){const _0x2a458c=a85_0x350c,_0x4effad=_0x24b2b6();while(!![]){try{const _0x5465b8=-parseInt(_0x2a458c(0x13b))/0x1*(-parseInt(_0x2a458c(0x140))/0x2)+parseInt(_0x2a458c(0x16b))/0x3+-parseInt(_0x2a458c(0x123))/0x4+parseInt(_0x2a458c(0x14e))/0x5+parseInt(_0x2a458c(0x164))/0x6*(-parseInt(_0x2a458c(0x13f))/0x7)+parseInt(_0x2a458c(0x150))/0x8+parseInt(_0x2a458c(0x139))/0x9;if(_0x5465b8===_0x2e4a57)break;else _0x4effad['push'](_0x4effad['shift']());}catch(_0x551cc7){_0x4effad['push'](_0x4effad['shift']());}}}(a85_0x27ea,0xda4bb));const a85_0x21a572=(function(){let _0xdd5d80=!![];return function(_0x4ea7f7,_0x423883){const _0x2f566e=_0xdd5d80?function(){if(_0x423883){const _0xb8ce6=_0x423883['apply'](_0x4ea7f7,arguments);return _0x423883=null,_0xb8ce6;}}:function(){};return _0xdd5d80=![],_0x2f566e;};}()),a85_0x40f1bc=a85_0x21a572(this,function(){const _0x1c449c=a85_0x350c;return a85_0x40f1bc['toString']()[_0x1c449c(0x15e)]('(((.+)+)+)+$')[_0x1c449c(0x122)]()[_0x1c449c(0x138)](a85_0x40f1bc)[_0x1c449c(0x15e)](_0x1c449c(0x13c));});a85_0x40f1bc();'use strict';var __importDefault=this&&this[a85_0x28d976(0x14a)]||function(_0x3b7b40){const _0x2ea5fc=a85_0x28d976;return _0x3b7b40&&_0x3b7b40[_0x2ea5fc(0x156)]?_0x3b7b40:{'default':_0x3b7b40};};Object[a85_0x28d976(0x15c)](exports,a85_0x28d976(0x156),{'value':!![]}),exports[a85_0x28d976(0x133)]=void 0x0;function a85_0x350c(_0x591312,_0x15a0e5){const _0x58b1ba=a85_0x27ea();return a85_0x350c=function(_0x40f1bc,_0x21a572){_0x40f1bc=_0x40f1bc-0x11f;let _0x27ead4=_0x58b1ba[_0x40f1bc];return _0x27ead4;},a85_0x350c(_0x591312,_0x15a0e5);}const constants_1=require(a85_0x28d976(0x168)),core_1=require(a85_0x28d976(0x127)),path_1=__importDefault(require(a85_0x28d976(0x12f))),typedi_1=__importDefault(require('typedi')),branch_dto_1=require(a85_0x28d976(0x161)),auth_settings_service_1=require(a85_0x28d976(0x170)),utils_1=require(a85_0x28d976(0x176)),fs_internal_1=require(a85_0x28d976(0x12c)),internal_utils_1=require('./internal.utils'),shell_internal_1=require(a85_0x28d976(0x12e));class Git{constructor(_0x5c1d06){const _0x344046=a85_0x28d976;this[_0x344046(0x162)]=_0x5c1d06;}get[a85_0x28d976(0x155)](){const _0xc0f17=a85_0x28d976;return this[_0xc0f17(0x162)];}async[a85_0x28d976(0x12d)](_0x285f4d,_0x577673){const _0x45df63=a85_0x28d976;Git[_0x45df63(0x169)][_0x45df63(0x142)]('set\x20credentials\x20%s\x20(%s)',_0x285f4d,_0x577673),await shell_internal_1['Shell'][_0x45df63(0x159)](_0x45df63(0x137)+this[_0x45df63(0x162)]+_0x45df63(0x132)+_0x285f4d+_0x45df63(0x165)+_0x577673+'\x22');}async[a85_0x28d976(0x144)](..._0x36a91f){const _0x184e48=a85_0x28d976;await shell_internal_1[_0x184e48(0x177)][_0x184e48(0x159)](_0x184e48(0x137)+this[_0x184e48(0x162)]+_0x184e48(0x14b)+_0x36a91f[_0x184e48(0x14c)]('\x20'));}async[a85_0x28d976(0x136)](){const _0x11793f=a85_0x28d976;return shell_internal_1['Shell'][_0x11793f(0x159)](_0x11793f(0x137)+this[_0x11793f(0x162)]+_0x11793f(0x172));}async['commit'](_0x344580){const _0x16e5a0=a85_0x28d976;Git[_0x16e5a0(0x169)]['log']('commit\x20message\x20\x22%s\x22',_0x344580),await shell_internal_1['Shell']['exec'](_0x16e5a0(0x137)+this[_0x16e5a0(0x162)]+_0x16e5a0(0x143)+_0x344580+'\x22');}async['push'](_0x247591){const _0xc5ad51=a85_0x28d976;Git['logger'][_0xc5ad51(0x142)](_0xc5ad51(0x146),_0x247591),await shell_internal_1[_0xc5ad51(0x177)]['exec'](_0xc5ad51(0x137)+this[_0xc5ad51(0x162)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x247591+_0xc5ad51(0x15d));}async[a85_0x28d976(0x13e)](_0x575215){const _0x3a6bd7=a85_0x28d976;Git[_0x3a6bd7(0x169)][_0x3a6bd7(0x142)](_0x3a6bd7(0x157),_0x575215),await shell_internal_1[_0x3a6bd7(0x177)]['exec'](_0x3a6bd7(0x137)+this[_0x3a6bd7(0x162)]+_0x3a6bd7(0x15b)+_0x575215);}async[a85_0x28d976(0x134)](){const _0x110f4b=a85_0x28d976,_0x2b8ee4=await shell_internal_1[_0x110f4b(0x177)][_0x110f4b(0x159)](_0x110f4b(0x137)+this[_0x110f4b(0x162)]+_0x110f4b(0x15a));return _0x2b8ee4[_0x110f4b(0x128)]('\x0a','');}async[a85_0x28d976(0x160)](_0xee8510){const _0x3ede75=a85_0x28d976;Git[_0x3ede75(0x169)][_0x3ede75(0x142)](_0x3ede75(0x135),_0xee8510);const _0x5388aa=await shell_internal_1[_0x3ede75(0x177)][_0x3ede75(0x159)]('cd\x20'+this[_0x3ede75(0x162)]+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0xee8510);return{'author':internal_utils_1[_0x3ede75(0x173)](_0x5388aa),'email':internal_utils_1[_0x3ede75(0x149)](_0x5388aa),'message':internal_utils_1[_0x3ede75(0x167)](_0x5388aa),'changes':internal_utils_1[_0x3ede75(0x158)](_0x5388aa)};}static async[a85_0x28d976(0x179)](_0x4ca2a7,_0x5e0ae8,_0xa7acae){const _0x479e9d=a85_0x28d976,_0x41c44d=path_1[_0x479e9d(0x12b)]['join'](this[_0x479e9d(0x141)],_0x5e0ae8),_0x39e3bd=new Git(_0x41c44d);return Git['logger'][_0x479e9d(0x142)](_0x479e9d(0x151),_0xa7acae,_0x4ca2a7,_0x41c44d),await fs_internal_1['FS'][_0x479e9d(0x16d)](_0x41c44d),await shell_internal_1[_0x479e9d(0x177)]['exec'](_0x479e9d(0x14d)+_0xa7acae+_0x479e9d(0x16f)+_0x4ca2a7+'\x20'+_0x41c44d),_0x39e3bd;}static async[a85_0x28d976(0x174)](_0x521c4c){const _0x50fd1d=a85_0x28d976,_0x4e7d71=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x4a8eba}=typedi_1[_0x50fd1d(0x12b)][_0x50fd1d(0x163)](auth_settings_service_1[_0x50fd1d(0x14f)]),_0x27bd4d=_0x521c4c[_0x50fd1d(0x171)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x50fd1d(0x166)](_0x521c4c[_0x50fd1d(0x171)])+_0x50fd1d(0x15f)+_0x4a8eba+'@'),_0x509a32=await shell_internal_1[_0x50fd1d(0x177)][_0x50fd1d(0x159)](_0x50fd1d(0x147)+_0x27bd4d),_0x411205=_0x509a32[_0x50fd1d(0x12a)]('\x0a')[_0x50fd1d(0x126)](_0x15c4e8=>_0x4e7d71[_0x50fd1d(0x129)](_0x15c4e8))[_0x50fd1d(0x16e)](_0x542bc1=>{const _0x3514ba=_0x50fd1d,[,_0x5a6e9f,_0x3e621a]=_0x542bc1[_0x3514ba(0x175)](_0x4e7d71),_0x577a70=new branch_dto_1['BranchDto']();return _0x577a70[_0x3514ba(0x152)]=_0x5a6e9f,_0x577a70[_0x3514ba(0x11f)]=_0x3e621a[_0x3514ba(0x128)](_0x3514ba(0x154),''),_0x577a70;});return _0x411205;}static async[a85_0x28d976(0x16c)](_0x1ca6f8,_0x5ac003,_0x51be95=a85_0x28d976(0x13d)){const _0x36e91b=a85_0x28d976,{gitCredentials:_0x5f39de}=typedi_1[_0x36e91b(0x12b)][_0x36e91b(0x163)](auth_settings_service_1['AuthSettingsService']),_0xaef0c0=_0x1ca6f8[_0x36e91b(0x171)][_0x36e91b(0x128)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x1ca6f8[_0x36e91b(0x171)])+_0x36e91b(0x15f)+_0x5f39de+'@'),_0x1b84dd=path_1[_0x36e91b(0x12b)][_0x36e91b(0x14c)](this[_0x36e91b(0x141)],_0x1ca6f8[_0x36e91b(0x11f)]);Git[_0x36e91b(0x169)][_0x36e91b(0x142)](_0x36e91b(0x148),_0x1ca6f8[_0x36e91b(0x11f)],_0x5ac003,_0x1b84dd,_0xaef0c0),await fs_internal_1['FS'][_0x36e91b(0x16d)](_0x1b84dd),await fs_internal_1['FS'][_0x36e91b(0x13a)](_0x1b84dd);const _0x399557=new Git(_0x1b84dd);await shell_internal_1[_0x36e91b(0x177)]['exec'](_0x36e91b(0x137)+_0x399557[_0x36e91b(0x155)]+'\x20&&\x20git\x20init'),await shell_internal_1[_0x36e91b(0x177)][_0x36e91b(0x159)](_0x36e91b(0x137)+_0x399557['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0xaef0c0),await _0x399557[_0x36e91b(0x12d)](constants_1[_0x36e91b(0x121)],constants_1[_0x36e91b(0x153)]),await shell_internal_1[_0x36e91b(0x177)][_0x36e91b(0x159)](_0x36e91b(0x137)+_0x399557[_0x36e91b(0x155)]+_0x36e91b(0x16a)+_0x5ac003),await shell_internal_1[_0x36e91b(0x177)]['exec'](_0x36e91b(0x137)+_0x399557['baseDir']+_0x36e91b(0x143)+_0x51be95+_0x36e91b(0x145)),await _0x399557[_0x36e91b(0x120)](_0x5ac003),Git[_0x36e91b(0x169)][_0x36e91b(0x142)](_0x36e91b(0x131)),await fs_internal_1['FS'][_0x36e91b(0x16d)](_0x399557[_0x36e91b(0x155)]);}}exports[a85_0x28d976(0x133)]=Git,Git[a85_0x28d976(0x141)]=path_1[a85_0x28d976(0x12b)][a85_0x28d976(0x14c)](process[a85_0x28d976(0x125)](),a85_0x28d976(0x130),a85_0x28d976(0x178)),Git[a85_0x28d976(0x169)]=new core_1[(a85_0x28d976(0x124))](Git[a85_0x28d976(0x11f)]);