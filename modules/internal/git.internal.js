const a85_0x51d09b=a85_0x52f9;function a85_0x52f9(_0x93e9f0,_0x350d3d){const _0x256d56=a85_0x47f3();return a85_0x52f9=function(_0x48f5bb,_0x25e369){_0x48f5bb=_0x48f5bb-0x1f0;let _0x47f333=_0x256d56[_0x48f5bb];return _0x47f333;},a85_0x52f9(_0x93e9f0,_0x350d3d);}(function(_0x4ac82e,_0x2c56f4){const _0x230148=a85_0x52f9,_0x1b64a0=_0x4ac82e();while(!![]){try{const _0x4fc90d=parseInt(_0x230148(0x203))/0x1+-parseInt(_0x230148(0x22d))/0x2*(-parseInt(_0x230148(0x239))/0x3)+parseInt(_0x230148(0x221))/0x4+-parseInt(_0x230148(0x202))/0x5*(-parseInt(_0x230148(0x20c))/0x6)+parseInt(_0x230148(0x1ff))/0x7+parseInt(_0x230148(0x200))/0x8*(-parseInt(_0x230148(0x22f))/0x9)+-parseInt(_0x230148(0x20a))/0xa*(parseInt(_0x230148(0x234))/0xb);if(_0x4fc90d===_0x2c56f4)break;else _0x1b64a0['push'](_0x1b64a0['shift']());}catch(_0x5cf761){_0x1b64a0['push'](_0x1b64a0['shift']());}}}(a85_0x47f3,0xd2f77));const a85_0x25e369=(function(){let _0x459c09=!![];return function(_0x57c555,_0x123cf5){const _0x451967=_0x459c09?function(){if(_0x123cf5){const _0x22030d=_0x123cf5['apply'](_0x57c555,arguments);return _0x123cf5=null,_0x22030d;}}:function(){};return _0x459c09=![],_0x451967;};}()),a85_0x48f5bb=a85_0x25e369(this,function(){const _0x2578dd=a85_0x52f9;return a85_0x48f5bb[_0x2578dd(0x206)]()[_0x2578dd(0x22c)](_0x2578dd(0x226))[_0x2578dd(0x206)]()[_0x2578dd(0x236)](a85_0x48f5bb)[_0x2578dd(0x22c)](_0x2578dd(0x226));});a85_0x48f5bb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x588340){const _0x4cd2af=a85_0x52f9;return _0x588340&&_0x588340[_0x4cd2af(0x21a)]?_0x588340:{'default':_0x588340};};Object['defineProperty'](exports,a85_0x51d09b(0x21a),{'value':!![]}),exports[a85_0x51d09b(0x232)]=void 0x0;const constants_1=require(a85_0x51d09b(0x21d)),core_1=require('../../core'),path_1=__importDefault(require('path')),typedi_1=__importDefault(require(a85_0x51d09b(0x23b))),branch_dto_1=require(a85_0x51d09b(0x1fe)),auth_settings_service_1=require('../shared/services/auth-settings.service'),utils_1=require('../shared/utils'),fs_internal_1=require(a85_0x51d09b(0x1f1)),internal_utils_1=require(a85_0x51d09b(0x20d)),shell_internal_1=require(a85_0x51d09b(0x208));class Git{constructor(_0x35cb7f){const _0x115ec1=a85_0x51d09b;this[_0x115ec1(0x1f9)]=_0x35cb7f;}get[a85_0x51d09b(0x231)](){const _0x12f9c7=a85_0x51d09b;return this[_0x12f9c7(0x1f9)];}async[a85_0x51d09b(0x209)](_0x384ef2,_0x3fcef8){const _0x45db9c=a85_0x51d09b;Git['logger'][_0x45db9c(0x20f)](_0x45db9c(0x233),_0x384ef2,_0x3fcef8),await shell_internal_1['Shell'][_0x45db9c(0x201)](_0x45db9c(0x21f)+this[_0x45db9c(0x1f9)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x384ef2+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x3fcef8+'\x22');}async[a85_0x51d09b(0x215)](..._0x3a12c7){const _0x541fab=a85_0x51d09b;await shell_internal_1['Shell'][_0x541fab(0x201)](_0x541fab(0x21f)+this['_repoPath']+_0x541fab(0x229)+_0x3a12c7[_0x541fab(0x220)]('\x20'));}async['status'](){const _0x4d3b08=a85_0x51d09b;return shell_internal_1['Shell'][_0x4d3b08(0x201)](_0x4d3b08(0x21f)+this[_0x4d3b08(0x1f9)]+'\x20&&\x20git\x20status');}async[a85_0x51d09b(0x212)](_0x352f04){const _0x1e712c=a85_0x51d09b;Git[_0x1e712c(0x217)]['log']('commit\x20message\x20\x22%s\x22',_0x352f04),await shell_internal_1['Shell'][_0x1e712c(0x201)]('cd\x20'+this[_0x1e712c(0x1f9)]+_0x1e712c(0x1f3)+_0x352f04+'\x22');}async[a85_0x51d09b(0x222)](_0x51b0a6){const _0x3ab9df=a85_0x51d09b;Git[_0x3ab9df(0x217)][_0x3ab9df(0x20f)](_0x3ab9df(0x224),_0x51b0a6),await shell_internal_1[_0x3ab9df(0x1f0)][_0x3ab9df(0x201)]('cd\x20'+this[_0x3ab9df(0x1f9)]+_0x3ab9df(0x1fb)+_0x51b0a6+'\x20--quiet');}async[a85_0x51d09b(0x205)](_0x15b0d3){const _0x562a64=a85_0x51d09b;Git[_0x562a64(0x217)][_0x562a64(0x20f)]('checkout\x20to\x20%s',_0x15b0d3),await shell_internal_1[_0x562a64(0x1f0)][_0x562a64(0x201)](_0x562a64(0x21f)+this['_repoPath']+'\x20&&\x20git\x20checkout\x20'+_0x15b0d3);}async['getCurrentHash'](){const _0x33e6b7=a85_0x51d09b,_0x3aa469=await shell_internal_1[_0x33e6b7(0x1f0)]['exec'](_0x33e6b7(0x21f)+this[_0x33e6b7(0x1f9)]+_0x33e6b7(0x235));return _0x3aa469[_0x33e6b7(0x1f4)]('\x0a','');}async[a85_0x51d09b(0x207)](_0x5cd773){const _0x23c929=a85_0x51d09b;Git[_0x23c929(0x217)]['log'](_0x23c929(0x1fa),_0x5cd773);const _0x1f193a=await shell_internal_1['Shell'][_0x23c929(0x201)](_0x23c929(0x21f)+this[_0x23c929(0x1f9)]+_0x23c929(0x238)+_0x5cd773);return{'author':internal_utils_1[_0x23c929(0x1fd)](_0x1f193a),'email':internal_utils_1['extractEmailFromCommitDescribe'](_0x1f193a),'message':internal_utils_1[_0x23c929(0x237)](_0x1f193a),'changes':internal_utils_1[_0x23c929(0x1fc)](_0x1f193a)};}static async['clone'](_0x4b5c7e,_0x2037ad,_0x64846f){const _0x4be502=a85_0x51d09b,_0x3de541=path_1[_0x4be502(0x225)]['join'](this[_0x4be502(0x22a)],_0x2037ad),_0x6d2599=new Git(_0x3de541);return Git[_0x4be502(0x217)]['log'](_0x4be502(0x22b),_0x64846f,_0x4b5c7e,_0x3de541),await fs_internal_1['FS']['removeDir'](_0x3de541),await shell_internal_1['Shell'][_0x4be502(0x201)](_0x4be502(0x23a)+_0x64846f+_0x4be502(0x230)+_0x4b5c7e+'\x20'+_0x3de541),_0x6d2599;}static async['getRepositoryBranches'](_0xa331ab){const _0x127b84=a85_0x51d09b,_0x45d359=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x5324c5}=typedi_1[_0x127b84(0x225)][_0x127b84(0x1f5)](auth_settings_service_1[_0x127b84(0x219)]),_0x3e0348=_0xa331ab[_0x127b84(0x227)][_0x127b84(0x1f4)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x127b84(0x21b)](_0xa331ab[_0x127b84(0x227)])+_0x127b84(0x204)+_0x5324c5+'@'),_0x1765d3=await shell_internal_1[_0x127b84(0x1f0)][_0x127b84(0x201)]('git\x20ls-remote\x20'+_0x3e0348),_0x506385=_0x1765d3['split']('\x0a')[_0x127b84(0x218)](_0x139a43=>_0x45d359[_0x127b84(0x213)](_0x139a43))[_0x127b84(0x214)](_0x2cb9d8=>{const _0x48ef0a=_0x127b84,[,_0x8fcb09,_0x2ba4a0]=_0x2cb9d8['match'](_0x45d359),_0x5f10bc=new branch_dto_1[(_0x48ef0a(0x228))]();return _0x5f10bc['sha']=_0x8fcb09,_0x5f10bc['name']=_0x2ba4a0[_0x48ef0a(0x1f4)](_0x48ef0a(0x1f8),''),_0x5f10bc;});return _0x506385;}static async[a85_0x51d09b(0x216)](_0x10267b,_0x8bc489,_0xe9fcdc=a85_0x51d09b(0x210)){const _0x17ca86=a85_0x51d09b,{gitCredentials:_0x4f60fe}=typedi_1[_0x17ca86(0x225)][_0x17ca86(0x1f5)](auth_settings_service_1[_0x17ca86(0x219)]),_0x31e8b1=_0x10267b['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x17ca86(0x21b)](_0x10267b['gitUrl'])+'://'+_0x4f60fe+'@'),_0x5b1269=path_1[_0x17ca86(0x225)][_0x17ca86(0x220)](this[_0x17ca86(0x22a)],_0x10267b[_0x17ca86(0x211)]);Git[_0x17ca86(0x217)]['log'](_0x17ca86(0x21c),_0x10267b[_0x17ca86(0x211)],_0x8bc489,_0x5b1269,_0x31e8b1),await fs_internal_1['FS'][_0x17ca86(0x21e)](_0x5b1269),await fs_internal_1['FS'][_0x17ca86(0x1f2)](_0x5b1269);const _0x279230=new Git(_0x5b1269);await shell_internal_1[_0x17ca86(0x1f0)][_0x17ca86(0x201)]('cd\x20'+_0x279230[_0x17ca86(0x231)]+'\x20&&\x20git\x20init'),await shell_internal_1[_0x17ca86(0x1f0)][_0x17ca86(0x201)](_0x17ca86(0x21f)+_0x279230[_0x17ca86(0x231)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x31e8b1),await _0x279230['setCredentials'](constants_1['DEFAULT_GIT_USER_NAME'],constants_1[_0x17ca86(0x1f6)]),await shell_internal_1[_0x17ca86(0x1f0)][_0x17ca86(0x201)](_0x17ca86(0x21f)+_0x279230[_0x17ca86(0x231)]+_0x17ca86(0x1f7)+_0x8bc489),await shell_internal_1[_0x17ca86(0x1f0)][_0x17ca86(0x201)](_0x17ca86(0x21f)+_0x279230[_0x17ca86(0x231)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0xe9fcdc+'\x22\x20--allow-empty'),await _0x279230['push'](_0x8bc489),Git['logger'][_0x17ca86(0x20f)](_0x17ca86(0x223)),await fs_internal_1['FS'][_0x17ca86(0x21e)](_0x279230[_0x17ca86(0x231)]);}}exports[a85_0x51d09b(0x232)]=Git,Git[a85_0x51d09b(0x22a)]=path_1['default'][a85_0x51d09b(0x220)](process[a85_0x51d09b(0x22e)](),a85_0x51d09b(0x20e),'git'),Git[a85_0x51d09b(0x217)]=new core_1[(a85_0x51d09b(0x20b))](Git[a85_0x51d09b(0x211)]);function a85_0x47f3(){const _0x1c6d20=['cd\x20','join','4915252eFyfZl','push','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','push\x20changes\x20to\x20%s','default','(((.+)+)+)+$','gitUrl','BranchDto','\x20&&\x20git\x20add\x20','DEFAULT_CLONE_PATH','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','search','13014nHEDCB','cwd','1116qXDuLl','\x20--single-branch\x20','baseDir','Git','set\x20credentials\x20%s\x20(%s)','5048857QePfhN','\x20&&\x20git\x20rev-parse\x20HEAD','constructor','extractMessageFromCommitDescribe','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','102aDHZTZ','git\x20clone\x20-b\x20','typedi','Shell','./fs.internal','makeDir','\x20&&\x20git\x20commit\x20-m\x20\x22','replace','get','DEFAULT_GIT_USER_EMAIL','\x20&&\x20git\x20checkout\x20--orphan\x20','refs/heads/','_repoPath','describe\x20commit\x20%s','\x20&&\x20git\x20push\x20origin\x20','extractChangesFromCommitDescribe','extractAuthorFromCommitDescribe','../branches/dto/branch.dto','8200192ZrtXkT','96776uIyckm','exec','5uhXXyn','370968zLeHiw','://','checkout','toString','describeCommit','./shell.internal','setCredentials','50YhdCcC','Logger','9999642MeaVLF','./internal.utils','.temp','log','init\x20repository','name','commit','test','map','add','createEmptyBranch','logger','filter','AuthSettingsService','__esModule','getProtocol','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','../../constants','removeDir'];a85_0x47f3=function(){return _0x1c6d20;};return a85_0x47f3();}