const a85_0x107bcf=a85_0x198b;function a85_0x3a94(){const _0x11d854=['8wGEXqy','extractMessageFromCommitDescribe','toString','baseDir','../../constants','\x20&&\x20git\x20commit\x20-m\x20\x22','AuthSettingsService','commit','26vIjHWz','../shared/services/auth-settings.service','defineProperty','describe\x20commit\x20%s','../branches/dto/branch.dto','\x20&&\x20git\x20checkout\x20','map','join','name','git\x20ls-remote\x20','674118wuVkhf','.temp','git','cd\x20','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','6567qhTPzD','extractAuthorFromCommitDescribe','\x20&&\x20git\x20push\x20origin\x20','status','cwd','(((.+)+)+)+$','logger','split','apply','__esModule','\x20&&\x20git\x20add\x20','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','110659QJhLOZ','56148awEsYM','\x20&&\x20git\x20checkout\x20--orphan\x20','extractChangesFromCommitDescribe','../../core','BranchDto','\x20&&\x20git\x20status','getCurrentHash','set\x20credentials\x20%s\x20(%s)','createEmptyBranch','search','./shell.internal','removeDir','getProtocol','setCredentials','2036867EHwyic','gitUrl','60OCVCKS','filter','checkout','log','_repoPath','\x20&&\x20git\x20rev-parse\x20HEAD','DEFAULT_GIT_USER_EMAIL','constructor','1067436YQeFDd','Shell','sha','extractEmailFromCommitDescribe','../shared/utils','\x22\x20--allow-empty','DEFAULT_GIT_USER_NAME','Git','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','11930qNqTjz','get','./fs.internal','describeCommit','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','101268ulkVIF','path','\x20--single-branch\x20','makeDir','push','clone','./internal.utils','replace','DEFAULT_CLONE_PATH','add','exec','://','default'];a85_0x3a94=function(){return _0x11d854;};return a85_0x3a94();}(function(_0x5b4a33,_0x4f9816){const _0x11cfbd=a85_0x198b,_0x3e5662=_0x5b4a33();while(!![]){try{const _0x568059=-parseInt(_0x11cfbd(0x112))/0x1+-parseInt(_0x11cfbd(0x14e))/0x2*(-parseInt(_0x11cfbd(0x113))/0x3)+-parseInt(_0x11cfbd(0x139))/0x4*(-parseInt(_0x11cfbd(0x123))/0x5)+parseInt(_0x11cfbd(0x158))/0x6+-parseInt(_0x11cfbd(0x121))/0x7*(-parseInt(_0x11cfbd(0x146))/0x8)+parseInt(_0x11cfbd(0x12b))/0x9+-parseInt(_0x11cfbd(0x134))/0xa*(parseInt(_0x11cfbd(0x106))/0xb);if(_0x568059===_0x4f9816)break;else _0x3e5662['push'](_0x3e5662['shift']());}catch(_0x39cc45){_0x3e5662['push'](_0x3e5662['shift']());}}}(a85_0x3a94,0x3c19a));const a85_0x469663=(function(){let _0x2d3a19=!![];return function(_0x4b12df,_0x60c9fd){const _0xc5d819=_0x2d3a19?function(){const _0x1f2dd5=a85_0x198b;if(_0x60c9fd){const _0x1d548b=_0x60c9fd[_0x1f2dd5(0x10e)](_0x4b12df,arguments);return _0x60c9fd=null,_0x1d548b;}}:function(){};return _0x2d3a19=![],_0xc5d819;};}()),a85_0x1a693a=a85_0x469663(this,function(){const _0x447796=a85_0x198b;return a85_0x1a693a[_0x447796(0x148)]()[_0x447796(0x11c)](_0x447796(0x10b))['toString']()[_0x447796(0x12a)](a85_0x1a693a)['search'](_0x447796(0x10b));});a85_0x1a693a();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4dd1a3){const _0x545474=a85_0x198b;return _0x4dd1a3&&_0x4dd1a3[_0x545474(0x10f)]?_0x4dd1a3:{'default':_0x4dd1a3};};Object[a85_0x107bcf(0x150)](exports,a85_0x107bcf(0x10f),{'value':!![]}),exports[a85_0x107bcf(0x132)]=void 0x0;function a85_0x198b(_0x388dba,_0x2c97bb){const _0x934d68=a85_0x3a94();return a85_0x198b=function(_0x1a693a,_0x469663){_0x1a693a=_0x1a693a-0x102;let _0x3a945f=_0x934d68[_0x1a693a];return _0x3a945f;},a85_0x198b(_0x388dba,_0x2c97bb);}const constants_1=require(a85_0x107bcf(0x14a)),core_1=require(a85_0x107bcf(0x116)),path_1=__importDefault(require(a85_0x107bcf(0x13a))),typedi_1=__importDefault(require('typedi')),branch_dto_1=require(a85_0x107bcf(0x152)),auth_settings_service_1=require(a85_0x107bcf(0x14f)),utils_1=require(a85_0x107bcf(0x12f)),fs_internal_1=require(a85_0x107bcf(0x136)),internal_utils_1=require(a85_0x107bcf(0x13f)),shell_internal_1=require(a85_0x107bcf(0x11d));class Git{constructor(_0x1eea40){const _0x30079a=a85_0x107bcf;this[_0x30079a(0x127)]=_0x1eea40;}get[a85_0x107bcf(0x149)](){const _0xef02ad=a85_0x107bcf;return this[_0xef02ad(0x127)];}async[a85_0x107bcf(0x120)](_0x345f86,_0x1a623a){const _0x55f73d=a85_0x107bcf;Git[_0x55f73d(0x10c)][_0x55f73d(0x126)](_0x55f73d(0x11a),_0x345f86,_0x1a623a),await shell_internal_1['Shell'][_0x55f73d(0x143)]('cd\x20'+this[_0x55f73d(0x127)]+_0x55f73d(0x105)+_0x345f86+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x1a623a+'\x22');}async[a85_0x107bcf(0x142)](..._0x355b18){const _0x1c795b=a85_0x107bcf;await shell_internal_1[_0x1c795b(0x12c)][_0x1c795b(0x143)](_0x1c795b(0x104)+this[_0x1c795b(0x127)]+_0x1c795b(0x110)+_0x355b18['join']('\x20'));}async[a85_0x107bcf(0x109)](){const _0x3be19f=a85_0x107bcf;return shell_internal_1[_0x3be19f(0x12c)][_0x3be19f(0x143)]('cd\x20'+this[_0x3be19f(0x127)]+_0x3be19f(0x118));}async[a85_0x107bcf(0x14d)](_0x319f71){const _0x5a10cd=a85_0x107bcf;Git[_0x5a10cd(0x10c)][_0x5a10cd(0x126)]('commit\x20message\x20\x22%s\x22',_0x319f71),await shell_internal_1[_0x5a10cd(0x12c)][_0x5a10cd(0x143)](_0x5a10cd(0x104)+this[_0x5a10cd(0x127)]+_0x5a10cd(0x14b)+_0x319f71+'\x22');}async['push'](_0x5901da){const _0x2b5446=a85_0x107bcf;Git['logger'][_0x2b5446(0x126)]('push\x20changes\x20to\x20%s',_0x5901da),await shell_internal_1[_0x2b5446(0x12c)]['exec'](_0x2b5446(0x104)+this[_0x2b5446(0x127)]+_0x2b5446(0x108)+_0x5901da+'\x20--quiet');}async[a85_0x107bcf(0x125)](_0x169a3e){const _0x112048=a85_0x107bcf;Git[_0x112048(0x10c)][_0x112048(0x126)]('checkout\x20to\x20%s',_0x169a3e),await shell_internal_1[_0x112048(0x12c)][_0x112048(0x143)]('cd\x20'+this['_repoPath']+_0x112048(0x153)+_0x169a3e);}async[a85_0x107bcf(0x119)](){const _0x2a82fd=a85_0x107bcf,_0x21c768=await shell_internal_1[_0x2a82fd(0x12c)][_0x2a82fd(0x143)](_0x2a82fd(0x104)+this[_0x2a82fd(0x127)]+_0x2a82fd(0x128));return _0x21c768['replace']('\x0a','');}async[a85_0x107bcf(0x137)](_0x1a5864){const _0x1ed5be=a85_0x107bcf;Git[_0x1ed5be(0x10c)]['log'](_0x1ed5be(0x151),_0x1a5864);const _0x1443ad=await shell_internal_1['Shell']['exec'](_0x1ed5be(0x104)+this[_0x1ed5be(0x127)]+_0x1ed5be(0x138)+_0x1a5864);return{'author':internal_utils_1[_0x1ed5be(0x107)](_0x1443ad),'email':internal_utils_1[_0x1ed5be(0x12e)](_0x1443ad),'message':internal_utils_1[_0x1ed5be(0x147)](_0x1443ad),'changes':internal_utils_1[_0x1ed5be(0x115)](_0x1443ad)};}static async[a85_0x107bcf(0x13e)](_0x579b68,_0xf3bfa0,_0x12fb6e){const _0x38f3c0=a85_0x107bcf,_0x31380b=path_1[_0x38f3c0(0x145)]['join'](this[_0x38f3c0(0x141)],_0xf3bfa0),_0x1a159e=new Git(_0x31380b);return Git[_0x38f3c0(0x10c)]['log'](_0x38f3c0(0x133),_0x12fb6e,_0x579b68,_0x31380b),await fs_internal_1['FS']['removeDir'](_0x31380b),await shell_internal_1[_0x38f3c0(0x12c)]['exec']('git\x20clone\x20-b\x20'+_0x12fb6e+_0x38f3c0(0x13b)+_0x579b68+'\x20'+_0x31380b),_0x1a159e;}static async['getRepositoryBranches'](_0x1c936d){const _0xb76c61=a85_0x107bcf,_0x51e9ce=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x68e12b}=typedi_1[_0xb76c61(0x145)][_0xb76c61(0x135)](auth_settings_service_1[_0xb76c61(0x14c)]),_0x578779=_0x1c936d[_0xb76c61(0x122)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x1c936d[_0xb76c61(0x122)])+_0xb76c61(0x144)+_0x68e12b+'@'),_0x245455=await shell_internal_1[_0xb76c61(0x12c)][_0xb76c61(0x143)](_0xb76c61(0x157)+_0x578779),_0x4f3e06=_0x245455[_0xb76c61(0x10d)]('\x0a')[_0xb76c61(0x124)](_0x531d93=>_0x51e9ce['test'](_0x531d93))[_0xb76c61(0x154)](_0x69a775=>{const _0x5e838b=_0xb76c61,[,_0x22e561,_0x98e888]=_0x69a775['match'](_0x51e9ce),_0x5ddf25=new branch_dto_1[(_0x5e838b(0x117))]();return _0x5ddf25[_0x5e838b(0x12d)]=_0x22e561,_0x5ddf25[_0x5e838b(0x156)]=_0x98e888[_0x5e838b(0x140)]('refs/heads/',''),_0x5ddf25;});return _0x4f3e06;}static async[a85_0x107bcf(0x11b)](_0x3dfdad,_0x8a773b,_0x13fb2d='init\x20repository'){const _0x5b8925=a85_0x107bcf,{gitCredentials:_0x2daaf6}=typedi_1[_0x5b8925(0x145)][_0x5b8925(0x135)](auth_settings_service_1[_0x5b8925(0x14c)]),_0x536642=_0x3dfdad[_0x5b8925(0x122)][_0x5b8925(0x140)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x5b8925(0x11f)](_0x3dfdad[_0x5b8925(0x122)])+'://'+_0x2daaf6+'@'),_0x249eb2=path_1[_0x5b8925(0x145)][_0x5b8925(0x155)](this[_0x5b8925(0x141)],_0x3dfdad[_0x5b8925(0x156)]);Git[_0x5b8925(0x10c)][_0x5b8925(0x126)](_0x5b8925(0x111),_0x3dfdad[_0x5b8925(0x156)],_0x8a773b,_0x249eb2,_0x536642),await fs_internal_1['FS'][_0x5b8925(0x11e)](_0x249eb2),await fs_internal_1['FS'][_0x5b8925(0x13c)](_0x249eb2);const _0x573222=new Git(_0x249eb2);await shell_internal_1['Shell'][_0x5b8925(0x143)](_0x5b8925(0x104)+_0x573222['baseDir']+'\x20&&\x20git\x20init'),await shell_internal_1[_0x5b8925(0x12c)][_0x5b8925(0x143)](_0x5b8925(0x104)+_0x573222['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x536642),await _0x573222[_0x5b8925(0x120)](constants_1[_0x5b8925(0x131)],constants_1[_0x5b8925(0x129)]),await shell_internal_1[_0x5b8925(0x12c)][_0x5b8925(0x143)]('cd\x20'+_0x573222['baseDir']+_0x5b8925(0x114)+_0x8a773b),await shell_internal_1[_0x5b8925(0x12c)][_0x5b8925(0x143)](_0x5b8925(0x104)+_0x573222[_0x5b8925(0x149)]+_0x5b8925(0x14b)+_0x13fb2d+_0x5b8925(0x130)),await _0x573222[_0x5b8925(0x13d)](_0x8a773b),Git[_0x5b8925(0x10c)][_0x5b8925(0x126)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x5b8925(0x11e)](_0x573222[_0x5b8925(0x149)]);}}exports['Git']=Git,Git[a85_0x107bcf(0x141)]=path_1[a85_0x107bcf(0x145)][a85_0x107bcf(0x155)](process[a85_0x107bcf(0x10a)](),a85_0x107bcf(0x102),a85_0x107bcf(0x103)),Git['logger']=new core_1['Logger'](Git[a85_0x107bcf(0x156)]);