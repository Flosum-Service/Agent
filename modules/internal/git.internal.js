const a85_0x435947=a85_0x1986;function a85_0x1986(_0x561b4d,_0x3a4a8){const _0x39c9de=a85_0x426f();return a85_0x1986=function(_0x56011c,_0x17eadd){_0x56011c=_0x56011c-0x1c4;let _0x426f9e=_0x39c9de[_0x56011c];return _0x426f9e;},a85_0x1986(_0x561b4d,_0x3a4a8);}(function(_0x3452d4,_0x3ba4fe){const _0x30c091=a85_0x1986,_0x38caa6=_0x3452d4();while(!![]){try{const _0x3a8443=parseInt(_0x30c091(0x213))/0x1+-parseInt(_0x30c091(0x20a))/0x2*(-parseInt(_0x30c091(0x1da))/0x3)+-parseInt(_0x30c091(0x1e7))/0x4+parseInt(_0x30c091(0x1e9))/0x5*(parseInt(_0x30c091(0x1c7))/0x6)+-parseInt(_0x30c091(0x209))/0x7*(parseInt(_0x30c091(0x1de))/0x8)+-parseInt(_0x30c091(0x1fd))/0x9*(parseInt(_0x30c091(0x1cb))/0xa)+parseInt(_0x30c091(0x1f9))/0xb;if(_0x3a8443===_0x3ba4fe)break;else _0x38caa6['push'](_0x38caa6['shift']());}catch(_0x2aad78){_0x38caa6['push'](_0x38caa6['shift']());}}}(a85_0x426f,0x705ae));const a85_0x17eadd=(function(){let _0xc2fec0=!![];return function(_0x3471dc,_0x4a84d7){const _0x51eb3d=_0xc2fec0?function(){const _0x4f579a=a85_0x1986;if(_0x4a84d7){const _0x9358e5=_0x4a84d7[_0x4f579a(0x1ec)](_0x3471dc,arguments);return _0x4a84d7=null,_0x9358e5;}}:function(){};return _0xc2fec0=![],_0x51eb3d;};}()),a85_0x56011c=a85_0x17eadd(this,function(){const _0x1a892f=a85_0x1986;return a85_0x56011c[_0x1a892f(0x1fc)]()[_0x1a892f(0x1d2)]('(((.+)+)+)+$')[_0x1a892f(0x1fc)]()['constructor'](a85_0x56011c)[_0x1a892f(0x1d2)](_0x1a892f(0x1d8));});a85_0x56011c();function a85_0x426f(){const _0x14b983=['getRepositoryBranches','replace','removeDir','search','get','filter','push','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','\x20&&\x20git\x20init','(((.+)+)+)+$','exec','201OQwdqT','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','__esModule','\x20&&\x20git\x20remote\x20add\x20origin\x20','3448OYVpaK','describe\x20commit\x20%s','default','path','\x20&&\x20git\x20status','AuthSettingsService','extractEmailFromCommitDescribe','\x20&&\x20git\x20rev-parse\x20HEAD','createEmptyBranch','3057704uwogtF','../../core','6070wtAEbn','\x20&&\x20git\x20commit\x20-m\x20\x22','name','apply','Shell','DEFAULT_GIT_USER_EMAIL','git\x20clone\x20-b\x20','.temp','typedi','describeCommit','BranchDto','checkout\x20to\x20%s','getProtocol','_repoPath','makeDir','test','12884300mYXNEL','checkout','baseDir','toString','23688dEgXPy','Git','push\x20changes\x20to\x20%s','commit\x20message\x20\x22%s\x22','\x20&&\x20git\x20push\x20origin\x20','extractChangesFromCommitDescribe','DEFAULT_GIT_USER_NAME','DEFAULT_CLONE_PATH','cd\x20','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','logger','../../constants','13804YyhuvU','4106SshiRv','add','sha','./internal.utils','status','\x22\x20--allow-empty','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','../shared/services/auth-settings.service','defineProperty','911737ZuUEvk','split','extractAuthorFromCommitDescribe','./fs.internal','git\x20ls-remote\x20','\x20&&\x20git\x20checkout\x20--orphan\x20','://','__importDefault','map','join','log','setCredentials','\x20&&\x20git\x20add\x20','gitUrl','384MokrPm','extractMessageFromCommitDescribe','getCurrentHash','git','850rEmBeA','Logger','init\x20repository','\x20--quiet'];a85_0x426f=function(){return _0x14b983;};return a85_0x426f();}'use strict';var __importDefault=this&&this[a85_0x435947(0x21a)]||function(_0xb9ca23){const _0x1b19d5=a85_0x435947;return _0xb9ca23&&_0xb9ca23[_0x1b19d5(0x1dc)]?_0xb9ca23:{'default':_0xb9ca23};};Object[a85_0x435947(0x212)](exports,a85_0x435947(0x1dc),{'value':!![]}),exports[a85_0x435947(0x1fe)]=void 0x0;const constants_1=require(a85_0x435947(0x208)),core_1=require(a85_0x435947(0x1e8)),path_1=__importDefault(require(a85_0x435947(0x1e1))),typedi_1=__importDefault(require(a85_0x435947(0x1f1))),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a85_0x435947(0x211)),utils_1=require('../shared/utils'),fs_internal_1=require(a85_0x435947(0x216)),internal_utils_1=require(a85_0x435947(0x20d)),shell_internal_1=require('./shell.internal');class Git{constructor(_0x3e9564){const _0x3a45f2=a85_0x435947;this[_0x3a45f2(0x1f6)]=_0x3e9564;}get[a85_0x435947(0x1fb)](){const _0x2e41f5=a85_0x435947;return this[_0x2e41f5(0x1f6)];}async[a85_0x435947(0x1c4)](_0x49a2b0,_0x59392a){const _0x306aa9=a85_0x435947;Git[_0x306aa9(0x207)][_0x306aa9(0x21d)]('set\x20credentials\x20%s\x20(%s)',_0x49a2b0,_0x59392a),await shell_internal_1['Shell'][_0x306aa9(0x1d9)](_0x306aa9(0x205)+this['_repoPath']+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x49a2b0+_0x306aa9(0x206)+_0x59392a+'\x22');}async[a85_0x435947(0x20b)](..._0x4d8965){const _0x399f82=a85_0x435947;await shell_internal_1[_0x399f82(0x1ed)]['exec'](_0x399f82(0x205)+this[_0x399f82(0x1f6)]+_0x399f82(0x1c5)+_0x4d8965[_0x399f82(0x21c)]('\x20'));}async[a85_0x435947(0x20e)](){const _0x1ff93e=a85_0x435947;return shell_internal_1[_0x1ff93e(0x1ed)][_0x1ff93e(0x1d9)](_0x1ff93e(0x205)+this[_0x1ff93e(0x1f6)]+_0x1ff93e(0x1e2));}async['commit'](_0x2ee69a){const _0x2dd6d4=a85_0x435947;Git['logger'][_0x2dd6d4(0x21d)](_0x2dd6d4(0x200),_0x2ee69a),await shell_internal_1[_0x2dd6d4(0x1ed)][_0x2dd6d4(0x1d9)](_0x2dd6d4(0x205)+this[_0x2dd6d4(0x1f6)]+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x2ee69a+'\x22');}async['push'](_0x18e32c){const _0x3109a2=a85_0x435947;Git[_0x3109a2(0x207)][_0x3109a2(0x21d)](_0x3109a2(0x1ff),_0x18e32c),await shell_internal_1[_0x3109a2(0x1ed)][_0x3109a2(0x1d9)]('cd\x20'+this['_repoPath']+_0x3109a2(0x201)+_0x18e32c+_0x3109a2(0x1ce));}async[a85_0x435947(0x1fa)](_0x1b337d){const _0x37b0be=a85_0x435947;Git['logger']['log'](_0x37b0be(0x1f4),_0x1b337d),await shell_internal_1[_0x37b0be(0x1ed)][_0x37b0be(0x1d9)](_0x37b0be(0x205)+this['_repoPath']+'\x20&&\x20git\x20checkout\x20'+_0x1b337d);}async[a85_0x435947(0x1c9)](){const _0x16cb5d=a85_0x435947,_0x41a438=await shell_internal_1[_0x16cb5d(0x1ed)][_0x16cb5d(0x1d9)](_0x16cb5d(0x205)+this[_0x16cb5d(0x1f6)]+_0x16cb5d(0x1e5));return _0x41a438[_0x16cb5d(0x1d0)]('\x0a','');}async[a85_0x435947(0x1f2)](_0x323766){const _0x910cad=a85_0x435947;Git['logger'][_0x910cad(0x21d)](_0x910cad(0x1df),_0x323766);const _0x1862d8=await shell_internal_1['Shell'][_0x910cad(0x1d9)]('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20'+_0x323766);return{'author':internal_utils_1[_0x910cad(0x215)](_0x1862d8),'email':internal_utils_1[_0x910cad(0x1e4)](_0x1862d8),'message':internal_utils_1[_0x910cad(0x1c8)](_0x1862d8),'changes':internal_utils_1[_0x910cad(0x202)](_0x1862d8)};}static async['clone'](_0x5f09f2,_0x31fa5f,_0xe96aa0){const _0x5ba0d5=a85_0x435947,_0x356596=path_1[_0x5ba0d5(0x1e0)]['join'](this[_0x5ba0d5(0x204)],_0x31fa5f),_0x1c1a1f=new Git(_0x356596);return Git[_0x5ba0d5(0x207)][_0x5ba0d5(0x21d)](_0x5ba0d5(0x210),_0xe96aa0,_0x5f09f2,_0x356596),await fs_internal_1['FS'][_0x5ba0d5(0x1d1)](_0x356596),await shell_internal_1[_0x5ba0d5(0x1ed)][_0x5ba0d5(0x1d9)](_0x5ba0d5(0x1ef)+_0xe96aa0+'\x20--single-branch\x20'+_0x5f09f2+'\x20'+_0x356596),_0x1c1a1f;}static async[a85_0x435947(0x1cf)](_0x3822e1){const _0x3ff89d=a85_0x435947,_0xae87ce=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x2630de}=typedi_1[_0x3ff89d(0x1e0)][_0x3ff89d(0x1d3)](auth_settings_service_1[_0x3ff89d(0x1e3)]),_0x57b899=_0x3822e1[_0x3ff89d(0x1c6)][_0x3ff89d(0x1d0)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x3ff89d(0x1f5)](_0x3822e1[_0x3ff89d(0x1c6)])+_0x3ff89d(0x219)+_0x2630de+'@'),_0x3a5489=await shell_internal_1[_0x3ff89d(0x1ed)][_0x3ff89d(0x1d9)](_0x3ff89d(0x217)+_0x57b899),_0x1c0490=_0x3a5489[_0x3ff89d(0x214)]('\x0a')[_0x3ff89d(0x1d4)](_0x1fa014=>_0xae87ce[_0x3ff89d(0x1f8)](_0x1fa014))[_0x3ff89d(0x21b)](_0x171115=>{const _0x132924=_0x3ff89d,[,_0x4e59ad,_0x24919a]=_0x171115['match'](_0xae87ce),_0xa23180=new branch_dto_1[(_0x132924(0x1f3))]();return _0xa23180[_0x132924(0x20c)]=_0x4e59ad,_0xa23180[_0x132924(0x1eb)]=_0x24919a[_0x132924(0x1d0)]('refs/heads/',''),_0xa23180;});return _0x1c0490;}static async[a85_0x435947(0x1e6)](_0x499beb,_0x525afa,_0x31f980=a85_0x435947(0x1cd)){const _0x4c9ac1=a85_0x435947,{gitCredentials:_0x413a8a}=typedi_1[_0x4c9ac1(0x1e0)][_0x4c9ac1(0x1d3)](auth_settings_service_1[_0x4c9ac1(0x1e3)]),_0x5f83d4=_0x499beb['gitUrl'][_0x4c9ac1(0x1d0)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x499beb[_0x4c9ac1(0x1c6)])+_0x4c9ac1(0x219)+_0x413a8a+'@'),_0x15fdca=path_1[_0x4c9ac1(0x1e0)][_0x4c9ac1(0x21c)](this[_0x4c9ac1(0x204)],_0x499beb[_0x4c9ac1(0x1eb)]);Git[_0x4c9ac1(0x207)][_0x4c9ac1(0x21d)](_0x4c9ac1(0x1db),_0x499beb[_0x4c9ac1(0x1eb)],_0x525afa,_0x15fdca,_0x5f83d4),await fs_internal_1['FS'][_0x4c9ac1(0x1d1)](_0x15fdca),await fs_internal_1['FS'][_0x4c9ac1(0x1f7)](_0x15fdca);const _0x5758a6=new Git(_0x15fdca);await shell_internal_1[_0x4c9ac1(0x1ed)]['exec']('cd\x20'+_0x5758a6[_0x4c9ac1(0x1fb)]+_0x4c9ac1(0x1d7)),await shell_internal_1['Shell']['exec'](_0x4c9ac1(0x205)+_0x5758a6[_0x4c9ac1(0x1fb)]+_0x4c9ac1(0x1dd)+_0x5f83d4),await _0x5758a6[_0x4c9ac1(0x1c4)](constants_1[_0x4c9ac1(0x203)],constants_1[_0x4c9ac1(0x1ee)]),await shell_internal_1[_0x4c9ac1(0x1ed)][_0x4c9ac1(0x1d9)](_0x4c9ac1(0x205)+_0x5758a6['baseDir']+_0x4c9ac1(0x218)+_0x525afa),await shell_internal_1[_0x4c9ac1(0x1ed)][_0x4c9ac1(0x1d9)](_0x4c9ac1(0x205)+_0x5758a6[_0x4c9ac1(0x1fb)]+_0x4c9ac1(0x1ea)+_0x31f980+_0x4c9ac1(0x20f)),await _0x5758a6[_0x4c9ac1(0x1d5)](_0x525afa),Git[_0x4c9ac1(0x207)]['log'](_0x4c9ac1(0x1d6)),await fs_internal_1['FS']['removeDir'](_0x5758a6[_0x4c9ac1(0x1fb)]);}}exports[a85_0x435947(0x1fe)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a85_0x435947(0x1e0)][a85_0x435947(0x21c)](process['cwd'](),a85_0x435947(0x1f0),a85_0x435947(0x1ca)),Git[a85_0x435947(0x207)]=new core_1[(a85_0x435947(0x1cc))](Git['name']);