const a84_0x492301=a84_0x386d;function a84_0x386d(_0x3af7d8,_0x327ea3){const _0x423b82=a84_0x4218();return a84_0x386d=function(_0x56c723,_0x5c9015){_0x56c723=_0x56c723-0x112;let _0x4218f5=_0x423b82[_0x56c723];return _0x4218f5;},a84_0x386d(_0x3af7d8,_0x327ea3);}function a84_0x4218(){const _0x36ca8a=['toString','describeCommit','git\x20clone\x20-b\x20','init\x20repository','12hnwcqk','clone','name','extractChangesFromCommitDescribe','\x20&&\x20git\x20remote\x20add\x20origin\x20','../../core','log','add','join','\x20&&\x20git\x20checkout\x20--orphan\x20','\x20&&\x20git\x20add\x20','default','215181nLVzeq','../shared/utils','checkout','20939864SaUZEa','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','git\x20ls-remote\x20','270yQfEIV','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','extractMessageFromCommitDescribe','commit\x20message\x20\x22%s\x22','60620QFCEPM','cd\x20','11910TEaFUm','extractEmailFromCommitDescribe','../shared/services/auth-settings.service','commit','getRepositoryBranches','exec','171014KEMdQw','refs/heads/','5zreAsl','DEFAULT_CLONE_PATH','baseDir','search','\x20&&\x20git\x20push\x20origin\x20','__esModule','status','gitUrl','map','makeDir','cwd','../../constants','push\x20changes\x20to\x20%s','_repoPath','\x22\x20--allow-empty','\x20&&\x20git\x20commit\x20-m\x20\x22','getProtocol','__importDefault','path','git','Git','checkout\x20to\x20%s','.temp','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','\x20--single-branch\x20','Shell','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','Logger','push','AuthSettingsService','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','constructor','(((.+)+)+)+$','describe\x20commit\x20%s','logger','defineProperty','setCredentials','://','8349072AhHLjq','\x20&&\x20git\x20status','3984804hKQokF','typedi','match','get','\x20&&\x20git\x20init','3255CyfiTD','BranchDto','\x20--quiet','replace'];a84_0x4218=function(){return _0x36ca8a;};return a84_0x4218();}(function(_0xd94501,_0xb2e78){const _0x2a2ba9=a84_0x386d,_0x7d331c=_0xd94501();while(!![]){try{const _0x1bc446=-parseInt(_0x2a2ba9(0x155))/0x1+parseInt(_0x2a2ba9(0x15d))/0x2*(parseInt(_0x2a2ba9(0x13f))/0x3)+-parseInt(_0x2a2ba9(0x132))/0x4*(-parseInt(_0x2a2ba9(0x15f))/0x5)+-parseInt(_0x2a2ba9(0x157))/0x6*(parseInt(_0x2a2ba9(0x137))/0x7)+-parseInt(_0x2a2ba9(0x130))/0x8+parseInt(_0x2a2ba9(0x14b))/0x9*(-parseInt(_0x2a2ba9(0x151))/0xa)+parseInt(_0x2a2ba9(0x14e))/0xb;if(_0x1bc446===_0xb2e78)break;else _0x7d331c['push'](_0x7d331c['shift']());}catch(_0xebf938){_0x7d331c['push'](_0x7d331c['shift']());}}}(a84_0x4218,0x8aec7));const a84_0x5c9015=(function(){let _0xf3a9d=!![];return function(_0x46cdda,_0x5d6ae1){const _0x510ad4=_0xf3a9d?function(){if(_0x5d6ae1){const _0x89a6f0=_0x5d6ae1['apply'](_0x46cdda,arguments);return _0x5d6ae1=null,_0x89a6f0;}}:function(){};return _0xf3a9d=![],_0x510ad4;};}()),a84_0x56c723=a84_0x5c9015(this,function(){const _0x26dfc9=a84_0x386d;return a84_0x56c723[_0x26dfc9(0x13b)]()[_0x26dfc9(0x162)](_0x26dfc9(0x12a))['toString']()[_0x26dfc9(0x129)](a84_0x56c723)[_0x26dfc9(0x162)](_0x26dfc9(0x12a));});a84_0x56c723();'use strict';var __importDefault=this&&this[a84_0x492301(0x11b)]||function(_0x113e11){return _0x113e11&&_0x113e11['__esModule']?_0x113e11:{'default':_0x113e11};};Object[a84_0x492301(0x12d)](exports,a84_0x492301(0x164),{'value':!![]}),exports[a84_0x492301(0x11e)]=void 0x0;const constants_1=require(a84_0x492301(0x115)),core_1=require(a84_0x492301(0x144)),path_1=__importDefault(require(a84_0x492301(0x11c))),typedi_1=__importDefault(require(a84_0x492301(0x133))),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a84_0x492301(0x159)),utils_1=require(a84_0x492301(0x14c)),fs_internal_1=require('./fs.internal'),internal_utils_1=require('./internal.utils'),shell_internal_1=require('./shell.internal');class Git{constructor(_0x52aa07){const _0x5525bd=a84_0x492301;this[_0x5525bd(0x117)]=_0x52aa07;}get[a84_0x492301(0x161)](){const _0x5e2b86=a84_0x492301;return this[_0x5e2b86(0x117)];}async[a84_0x492301(0x12e)](_0x2441a0,_0x2593cc){const _0x3bcc4c=a84_0x492301;Git['logger'][_0x3bcc4c(0x145)]('set\x20credentials\x20%s\x20(%s)',_0x2441a0,_0x2593cc),await shell_internal_1['Shell'][_0x3bcc4c(0x15c)](_0x3bcc4c(0x156)+this[_0x3bcc4c(0x117)]+_0x3bcc4c(0x14f)+_0x2441a0+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x2593cc+'\x22');}async[a84_0x492301(0x146)](..._0x502659){const _0x250f7e=a84_0x492301;await shell_internal_1[_0x250f7e(0x123)][_0x250f7e(0x15c)](_0x250f7e(0x156)+this[_0x250f7e(0x117)]+_0x250f7e(0x149)+_0x502659['join']('\x20'));}async[a84_0x492301(0x165)](){const _0x1fc729=a84_0x492301;return shell_internal_1[_0x1fc729(0x123)][_0x1fc729(0x15c)](_0x1fc729(0x156)+this['_repoPath']+_0x1fc729(0x131));}async[a84_0x492301(0x15a)](_0x2fdd7e){const _0x464012=a84_0x492301;Git[_0x464012(0x12c)][_0x464012(0x145)](_0x464012(0x154),_0x2fdd7e),await shell_internal_1[_0x464012(0x123)][_0x464012(0x15c)](_0x464012(0x156)+this[_0x464012(0x117)]+_0x464012(0x119)+_0x2fdd7e+'\x22');}async['push'](_0x989f62){const _0xc72b27=a84_0x492301;Git[_0xc72b27(0x12c)][_0xc72b27(0x145)](_0xc72b27(0x116),_0x989f62),await shell_internal_1['Shell']['exec'](_0xc72b27(0x156)+this[_0xc72b27(0x117)]+_0xc72b27(0x163)+_0x989f62+_0xc72b27(0x139));}async[a84_0x492301(0x14d)](_0x331ff4){const _0x3bd237=a84_0x492301;Git[_0x3bd237(0x12c)]['log'](_0x3bd237(0x11f),_0x331ff4),await shell_internal_1[_0x3bd237(0x123)]['exec'](_0x3bd237(0x156)+this[_0x3bd237(0x117)]+'\x20&&\x20git\x20checkout\x20'+_0x331ff4);}async['getCurrentHash'](){const _0x19dc73=a84_0x492301,_0x4d8c9b=await shell_internal_1[_0x19dc73(0x123)]['exec'](_0x19dc73(0x156)+this[_0x19dc73(0x117)]+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x4d8c9b[_0x19dc73(0x13a)]('\x0a','');}async[a84_0x492301(0x13c)](_0x169cf6){const _0x12e1ab=a84_0x492301;Git[_0x12e1ab(0x12c)]['log'](_0x12e1ab(0x12b),_0x169cf6);const _0x10f913=await shell_internal_1[_0x12e1ab(0x123)][_0x12e1ab(0x15c)](_0x12e1ab(0x156)+this[_0x12e1ab(0x117)]+_0x12e1ab(0x152)+_0x169cf6);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x10f913),'email':internal_utils_1[_0x12e1ab(0x158)](_0x10f913),'message':internal_utils_1[_0x12e1ab(0x153)](_0x10f913),'changes':internal_utils_1[_0x12e1ab(0x142)](_0x10f913)};}static async[a84_0x492301(0x140)](_0x4d99cc,_0x356c18,_0x79cf20){const _0x5c5389=a84_0x492301,_0x1c1ee4=path_1[_0x5c5389(0x14a)][_0x5c5389(0x147)](this[_0x5c5389(0x160)],_0x356c18),_0x223939=new Git(_0x1c1ee4);return Git['logger'][_0x5c5389(0x145)](_0x5c5389(0x121),_0x79cf20,_0x4d99cc,_0x1c1ee4),await fs_internal_1['FS']['removeDir'](_0x1c1ee4),await shell_internal_1[_0x5c5389(0x123)][_0x5c5389(0x15c)](_0x5c5389(0x13d)+_0x79cf20+_0x5c5389(0x122)+_0x4d99cc+'\x20'+_0x1c1ee4),_0x223939;}static async[a84_0x492301(0x15b)](_0x3064bf){const _0xd1d7ef=a84_0x492301,_0x382c13=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x5aec5f}=typedi_1[_0xd1d7ef(0x14a)][_0xd1d7ef(0x135)](auth_settings_service_1[_0xd1d7ef(0x127)]),_0x34a242=_0x3064bf[_0xd1d7ef(0x166)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0xd1d7ef(0x11a)](_0x3064bf[_0xd1d7ef(0x166)])+_0xd1d7ef(0x12f)+_0x5aec5f+'@'),_0x314449=await shell_internal_1['Shell'][_0xd1d7ef(0x15c)](_0xd1d7ef(0x150)+_0x34a242),_0x46165e=_0x314449['split']('\x0a')['filter'](_0x18871a=>_0x382c13['test'](_0x18871a))[_0xd1d7ef(0x112)](_0x951caa=>{const _0x30f022=_0xd1d7ef,[,_0x3055a0,_0x18c8d4]=_0x951caa[_0x30f022(0x134)](_0x382c13),_0x5ac542=new branch_dto_1[(_0x30f022(0x138))]();return _0x5ac542['sha']=_0x3055a0,_0x5ac542[_0x30f022(0x141)]=_0x18c8d4['replace'](_0x30f022(0x15e),''),_0x5ac542;});return _0x46165e;}static async['createEmptyBranch'](_0x51180b,_0x3934df,_0xf5b477=a84_0x492301(0x13e)){const _0x243a3c=a84_0x492301,{gitCredentials:_0x4a3eeb}=typedi_1[_0x243a3c(0x14a)][_0x243a3c(0x135)](auth_settings_service_1[_0x243a3c(0x127)]),_0x4c096f=_0x51180b['gitUrl'][_0x243a3c(0x13a)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x243a3c(0x11a)](_0x51180b['gitUrl'])+_0x243a3c(0x12f)+_0x4a3eeb+'@'),_0x1a2f70=path_1['default']['join'](this[_0x243a3c(0x160)],_0x51180b['name']);Git[_0x243a3c(0x12c)][_0x243a3c(0x145)](_0x243a3c(0x124),_0x51180b[_0x243a3c(0x141)],_0x3934df,_0x1a2f70,_0x4c096f),await fs_internal_1['FS']['removeDir'](_0x1a2f70),await fs_internal_1['FS'][_0x243a3c(0x113)](_0x1a2f70);const _0x4c6ab4=new Git(_0x1a2f70);await shell_internal_1['Shell']['exec'](_0x243a3c(0x156)+_0x4c6ab4[_0x243a3c(0x161)]+_0x243a3c(0x136)),await shell_internal_1['Shell'][_0x243a3c(0x15c)]('cd\x20'+_0x4c6ab4[_0x243a3c(0x161)]+_0x243a3c(0x143)+_0x4c096f),await _0x4c6ab4[_0x243a3c(0x12e)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1['Shell'][_0x243a3c(0x15c)](_0x243a3c(0x156)+_0x4c6ab4[_0x243a3c(0x161)]+_0x243a3c(0x148)+_0x3934df),await shell_internal_1[_0x243a3c(0x123)]['exec'](_0x243a3c(0x156)+_0x4c6ab4[_0x243a3c(0x161)]+_0x243a3c(0x119)+_0xf5b477+_0x243a3c(0x118)),await _0x4c6ab4[_0x243a3c(0x126)](_0x3934df),Git[_0x243a3c(0x12c)][_0x243a3c(0x145)](_0x243a3c(0x128)),await fs_internal_1['FS']['removeDir'](_0x4c6ab4['baseDir']);}}exports[a84_0x492301(0x11e)]=Git,Git[a84_0x492301(0x160)]=path_1[a84_0x492301(0x14a)][a84_0x492301(0x147)](process[a84_0x492301(0x114)](),a84_0x492301(0x120),a84_0x492301(0x11d)),Git['logger']=new core_1[(a84_0x492301(0x125))](Git[a84_0x492301(0x141)]);