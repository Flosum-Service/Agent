const a85_0x115374=a85_0xc9c1;(function(_0x229169,_0x1883e7){const _0x210a18=a85_0xc9c1,_0x39b673=_0x229169();while(!![]){try{const _0x1317c7=parseInt(_0x210a18(0x1d8))/0x1+-parseInt(_0x210a18(0x1ff))/0x2+-parseInt(_0x210a18(0x1f1))/0x3*(parseInt(_0x210a18(0x1bf))/0x4)+-parseInt(_0x210a18(0x1d1))/0x5*(parseInt(_0x210a18(0x1d9))/0x6)+parseInt(_0x210a18(0x1f4))/0x7+-parseInt(_0x210a18(0x1fa))/0x8*(-parseInt(_0x210a18(0x1cc))/0x9)+parseInt(_0x210a18(0x203))/0xa;if(_0x1317c7===_0x1883e7)break;else _0x39b673['push'](_0x39b673['shift']());}catch(_0x1e9c9d){_0x39b673['push'](_0x39b673['shift']());}}}(a85_0x3567,0x39624));function a85_0xc9c1(_0xb9855a,_0x109d37){const _0x480291=a85_0x3567();return a85_0xc9c1=function(_0x545715,_0x424ec9){_0x545715=_0x545715-0x1b7;let _0x3567cb=_0x480291[_0x545715];return _0x3567cb;},a85_0xc9c1(_0xb9855a,_0x109d37);}const a85_0x424ec9=(function(){let _0x118563=!![];return function(_0x486897,_0x2d22ff){const _0x36a59f=_0x118563?function(){const _0x3300d6=a85_0xc9c1;if(_0x2d22ff){const _0x535165=_0x2d22ff[_0x3300d6(0x1ce)](_0x486897,arguments);return _0x2d22ff=null,_0x535165;}}:function(){};return _0x118563=![],_0x36a59f;};}()),a85_0x545715=a85_0x424ec9(this,function(){const _0xa1b63c=a85_0xc9c1;return a85_0x545715['toString']()['search'](_0xa1b63c(0x1e7))[_0xa1b63c(0x1ca)]()['constructor'](a85_0x545715)['search']('(((.+)+)+)+$');});a85_0x545715();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3dca5f){return _0x3dca5f&&_0x3dca5f['__esModule']?_0x3dca5f:{'default':_0x3dca5f};};function a85_0x3567(){const _0x333878=['checkout\x20to\x20%s','extractEmailFromCommitDescribe','\x20&&\x20git\x20commit\x20-m\x20\x22','2246824LpaQWn','\x20&&\x20git\x20add\x20','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','\x20&&\x20git\x20checkout\x20--orphan\x20','Logger','845432KsFwvG','./shell.internal','Git','describeCommit','1466610TYhoBQ','\x20--single-branch\x20','git\x20clone\x20-b\x20','add','extractMessageFromCommitDescribe','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','extractChangesFromCommitDescribe','setCredentials','\x20&&\x20git\x20status','typedi','push','name','status','removeDir','__esModule','path','match','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','361808wdqwaE','cd\x20','Shell','DEFAULT_GIT_USER_EMAIL','default','refs/heads/','defineProperty','\x20&&\x20git\x20push\x20origin\x20','://','DEFAULT_GIT_USER_NAME','./internal.utils','toString','./fs.internal','9ErYqkj','\x20--quiet','apply','join','filter','30bGXIjA','baseDir','describe\x20commit\x20%s','\x20&&\x20git\x20rev-parse\x20HEAD','log','.temp','AuthSettingsService','300612rXdPqG','8712KkAPdw','getRepositoryBranches','../../constants','replace','test','_repoPath','init\x20repository','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','commit\x20message\x20\x22%s\x22','clone','../branches/dto/branch.dto','checkout','exec','map','(((.+)+)+)+$','sha','getCurrentHash','\x20&&\x20git\x20init','createEmptyBranch','makeDir','logger','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','gitUrl','get','9YqDobh','git','getProtocol','1467914ZmbAcZ','DEFAULT_CLONE_PATH','../../core'];a85_0x3567=function(){return _0x333878;};return a85_0x3567();}Object[a85_0x115374(0x1c5)](exports,a85_0x115374(0x1bb),{'value':!![]}),exports[a85_0x115374(0x201)]=void 0x0;const constants_1=require(a85_0x115374(0x1db)),core_1=require(a85_0x115374(0x1f6)),path_1=__importDefault(require(a85_0x115374(0x1bc))),typedi_1=__importDefault(require(a85_0x115374(0x20d))),branch_dto_1=require(a85_0x115374(0x1e3)),auth_settings_service_1=require('../shared/services/auth-settings.service'),utils_1=require('../shared/utils'),fs_internal_1=require(a85_0x115374(0x1cb)),internal_utils_1=require(a85_0x115374(0x1c9)),shell_internal_1=require(a85_0x115374(0x200));class Git{constructor(_0x15f944){this['_repoPath']=_0x15f944;}get['baseDir'](){const _0x49feaa=a85_0x115374;return this[_0x49feaa(0x1de)];}async[a85_0x115374(0x20b)](_0x552ac4,_0x46e665){const _0x176395=a85_0x115374;Git[_0x176395(0x1ed)]['log']('set\x20credentials\x20%s\x20(%s)',_0x552ac4,_0x46e665),await shell_internal_1[_0x176395(0x1c1)][_0x176395(0x1e5)](_0x176395(0x1c0)+this[_0x176395(0x1de)]+_0x176395(0x1ee)+_0x552ac4+_0x176395(0x1be)+_0x46e665+'\x22');}async[a85_0x115374(0x206)](..._0x57be59){const _0x30941b=a85_0x115374;await shell_internal_1['Shell'][_0x30941b(0x1e5)]('cd\x20'+this[_0x30941b(0x1de)]+_0x30941b(0x1fb)+_0x57be59[_0x30941b(0x1cf)]('\x20'));}async[a85_0x115374(0x1b9)](){const _0x4e2984=a85_0x115374;return shell_internal_1[_0x4e2984(0x1c1)][_0x4e2984(0x1e5)](_0x4e2984(0x1c0)+this[_0x4e2984(0x1de)]+_0x4e2984(0x20c));}async['commit'](_0x450ccc){const _0x25d317=a85_0x115374;Git[_0x25d317(0x1ed)][_0x25d317(0x1d5)](_0x25d317(0x1e1),_0x450ccc),await shell_internal_1['Shell'][_0x25d317(0x1e5)]('cd\x20'+this[_0x25d317(0x1de)]+_0x25d317(0x1f9)+_0x450ccc+'\x22');}async[a85_0x115374(0x1b7)](_0x3360e0){const _0x252831=a85_0x115374;Git['logger']['log']('push\x20changes\x20to\x20%s',_0x3360e0),await shell_internal_1[_0x252831(0x1c1)][_0x252831(0x1e5)](_0x252831(0x1c0)+this[_0x252831(0x1de)]+_0x252831(0x1c6)+_0x3360e0+_0x252831(0x1cd));}async[a85_0x115374(0x1e4)](_0x5ddc87){const _0x3e49f6=a85_0x115374;Git[_0x3e49f6(0x1ed)][_0x3e49f6(0x1d5)](_0x3e49f6(0x1f7),_0x5ddc87),await shell_internal_1[_0x3e49f6(0x1c1)]['exec'](_0x3e49f6(0x1c0)+this[_0x3e49f6(0x1de)]+'\x20&&\x20git\x20checkout\x20'+_0x5ddc87);}async[a85_0x115374(0x1e9)](){const _0x252ef5=a85_0x115374,_0x7fe2ed=await shell_internal_1[_0x252ef5(0x1c1)][_0x252ef5(0x1e5)]('cd\x20'+this['_repoPath']+_0x252ef5(0x1d4));return _0x7fe2ed[_0x252ef5(0x1dc)]('\x0a','');}async[a85_0x115374(0x202)](_0x5b5586){const _0x3b5940=a85_0x115374;Git[_0x3b5940(0x1ed)][_0x3b5940(0x1d5)](_0x3b5940(0x1d3),_0x5b5586);const _0xc232f3=await shell_internal_1[_0x3b5940(0x1c1)][_0x3b5940(0x1e5)]('cd\x20'+this[_0x3b5940(0x1de)]+_0x3b5940(0x209)+_0x5b5586);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0xc232f3),'email':internal_utils_1[_0x3b5940(0x1f8)](_0xc232f3),'message':internal_utils_1[_0x3b5940(0x207)](_0xc232f3),'changes':internal_utils_1[_0x3b5940(0x20a)](_0xc232f3)};}static async[a85_0x115374(0x1e2)](_0x4385cb,_0x320cbc,_0x58c857){const _0x125c12=a85_0x115374,_0xc1d6a5=path_1[_0x125c12(0x1c3)][_0x125c12(0x1cf)](this[_0x125c12(0x1f5)],_0x320cbc),_0x254201=new Git(_0xc1d6a5);return Git[_0x125c12(0x1ed)][_0x125c12(0x1d5)](_0x125c12(0x1fc),_0x58c857,_0x4385cb,_0xc1d6a5),await fs_internal_1['FS'][_0x125c12(0x1ba)](_0xc1d6a5),await shell_internal_1['Shell'][_0x125c12(0x1e5)](_0x125c12(0x205)+_0x58c857+_0x125c12(0x204)+_0x4385cb+'\x20'+_0xc1d6a5),_0x254201;}static async[a85_0x115374(0x1da)](_0x4887cc){const _0x3b70b1=a85_0x115374,_0x12e481=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x489ad7}=typedi_1[_0x3b70b1(0x1c3)][_0x3b70b1(0x1f0)](auth_settings_service_1[_0x3b70b1(0x1d7)]),_0x4c6e9f=_0x4887cc[_0x3b70b1(0x1ef)][_0x3b70b1(0x1dc)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x3b70b1(0x1f3)](_0x4887cc['gitUrl'])+_0x3b70b1(0x1c7)+_0x489ad7+'@'),_0x2f323f=await shell_internal_1[_0x3b70b1(0x1c1)][_0x3b70b1(0x1e5)]('git\x20ls-remote\x20'+_0x4c6e9f),_0x9ad39f=_0x2f323f['split']('\x0a')[_0x3b70b1(0x1d0)](_0x3b789a=>_0x12e481[_0x3b70b1(0x1dd)](_0x3b789a))[_0x3b70b1(0x1e6)](_0x7ac2c5=>{const _0x563f5e=_0x3b70b1,[,_0x1d8dcd,_0x49a014]=_0x7ac2c5[_0x563f5e(0x1bd)](_0x12e481),_0x21f98f=new branch_dto_1['BranchDto']();return _0x21f98f[_0x563f5e(0x1e8)]=_0x1d8dcd,_0x21f98f['name']=_0x49a014[_0x563f5e(0x1dc)](_0x563f5e(0x1c4),''),_0x21f98f;});return _0x9ad39f;}static async[a85_0x115374(0x1eb)](_0x3efbc5,_0x5e6535,_0x54c665=a85_0x115374(0x1df)){const _0x523d39=a85_0x115374,{gitCredentials:_0x393792}=typedi_1['default']['get'](auth_settings_service_1['AuthSettingsService']),_0x5bea5b=_0x3efbc5[_0x523d39(0x1ef)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x3efbc5[_0x523d39(0x1ef)])+_0x523d39(0x1c7)+_0x393792+'@'),_0x1b78c0=path_1[_0x523d39(0x1c3)][_0x523d39(0x1cf)](this[_0x523d39(0x1f5)],_0x3efbc5[_0x523d39(0x1b8)]);Git[_0x523d39(0x1ed)][_0x523d39(0x1d5)](_0x523d39(0x208),_0x3efbc5['name'],_0x5e6535,_0x1b78c0,_0x5bea5b),await fs_internal_1['FS'][_0x523d39(0x1ba)](_0x1b78c0),await fs_internal_1['FS'][_0x523d39(0x1ec)](_0x1b78c0);const _0x497aa7=new Git(_0x1b78c0);await shell_internal_1[_0x523d39(0x1c1)]['exec'](_0x523d39(0x1c0)+_0x497aa7['baseDir']+_0x523d39(0x1ea)),await shell_internal_1['Shell']['exec'](_0x523d39(0x1c0)+_0x497aa7[_0x523d39(0x1d2)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x5bea5b),await _0x497aa7[_0x523d39(0x20b)](constants_1[_0x523d39(0x1c8)],constants_1[_0x523d39(0x1c2)]),await shell_internal_1['Shell'][_0x523d39(0x1e5)]('cd\x20'+_0x497aa7[_0x523d39(0x1d2)]+_0x523d39(0x1fd)+_0x5e6535),await shell_internal_1[_0x523d39(0x1c1)]['exec'](_0x523d39(0x1c0)+_0x497aa7[_0x523d39(0x1d2)]+_0x523d39(0x1f9)+_0x54c665+'\x22\x20--allow-empty'),await _0x497aa7[_0x523d39(0x1b7)](_0x5e6535),Git['logger']['log'](_0x523d39(0x1e0)),await fs_internal_1['FS']['removeDir'](_0x497aa7['baseDir']);}}exports[a85_0x115374(0x201)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a85_0x115374(0x1c3)][a85_0x115374(0x1cf)](process['cwd'](),a85_0x115374(0x1d6),a85_0x115374(0x1f2)),Git[a85_0x115374(0x1ed)]=new core_1[(a85_0x115374(0x1fe))](Git['name']);