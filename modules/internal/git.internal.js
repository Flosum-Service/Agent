const a84_0x57f3ce=a84_0x1c6c;(function(_0x20585f,_0x1501d0){const _0x4b8d34=a84_0x1c6c,_0x18a3fe=_0x20585f();while(!![]){try{const _0x2cfe97=-parseInt(_0x4b8d34(0x75))/0x1+parseInt(_0x4b8d34(0xaf))/0x2*(-parseInt(_0x4b8d34(0x9d))/0x3)+-parseInt(_0x4b8d34(0x95))/0x4*(parseInt(_0x4b8d34(0x8d))/0x5)+parseInt(_0x4b8d34(0x73))/0x6*(-parseInt(_0x4b8d34(0x72))/0x7)+parseInt(_0x4b8d34(0x80))/0x8*(parseInt(_0x4b8d34(0x8c))/0x9)+parseInt(_0x4b8d34(0x97))/0xa+parseInt(_0x4b8d34(0x79))/0xb;if(_0x2cfe97===_0x1501d0)break;else _0x18a3fe['push'](_0x18a3fe['shift']());}catch(_0x1a316c){_0x18a3fe['push'](_0x18a3fe['shift']());}}}(a84_0x4c45,0x53930));const a84_0xbf2b4a=(function(){let _0x5e1659=!![];return function(_0x3096f4,_0x472bbe){const _0x534fb0=_0x5e1659?function(){const _0xff241b=a84_0x1c6c;if(_0x472bbe){const _0x2702d6=_0x472bbe[_0xff241b(0x8a)](_0x3096f4,arguments);return _0x472bbe=null,_0x2702d6;}}:function(){};return _0x5e1659=![],_0x534fb0;};}()),a84_0x260f81=a84_0xbf2b4a(this,function(){const _0x15f77f=a84_0x1c6c;return a84_0x260f81['toString']()[_0x15f77f(0xb0)](_0x15f77f(0xa9))[_0x15f77f(0x93)]()[_0x15f77f(0x6e)](a84_0x260f81)[_0x15f77f(0xb0)](_0x15f77f(0xa9));});a84_0x260f81();'use strict';var __importDefault=this&&this[a84_0x57f3ce(0x85)]||function(_0x4afc1f){const _0x202051=a84_0x57f3ce;return _0x4afc1f&&_0x4afc1f[_0x202051(0x9e)]?_0x4afc1f:{'default':_0x4afc1f};};function a84_0x1c6c(_0x292536,_0xb364af){const _0x307e23=a84_0x4c45();return a84_0x1c6c=function(_0x260f81,_0xbf2b4a){_0x260f81=_0x260f81-0x6e;let _0x4c45f9=_0x307e23[_0x260f81];return _0x4c45f9;},a84_0x1c6c(_0x292536,_0xb364af);}Object['defineProperty'](exports,a84_0x57f3ce(0x9e),{'value':!![]}),exports[a84_0x57f3ce(0x90)]=void 0x0;const constants_1=require(a84_0x57f3ce(0x9c)),core_1=require('../../core'),path_1=__importDefault(require(a84_0x57f3ce(0xb7))),typedi_1=__importDefault(require(a84_0x57f3ce(0x84))),branch_dto_1=require(a84_0x57f3ce(0x8b)),auth_settings_service_1=require(a84_0x57f3ce(0xbc)),utils_1=require(a84_0x57f3ce(0xb8)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a84_0x57f3ce(0x99)),shell_internal_1=require(a84_0x57f3ce(0xa0));class Git{constructor(_0x254b6a){const _0x2dd3e0=a84_0x57f3ce;this[_0x2dd3e0(0xa8)]=_0x254b6a;}get[a84_0x57f3ce(0x7f)](){const _0x57f892=a84_0x57f3ce;return this[_0x57f892(0xa8)];}async[a84_0x57f3ce(0x91)](_0x3fa5ca,_0x4f895c){const _0x158efd=a84_0x57f3ce;Git[_0x158efd(0x89)][_0x158efd(0x8f)](_0x158efd(0x78),_0x3fa5ca,_0x4f895c),await shell_internal_1[_0x158efd(0x96)][_0x158efd(0xa6)](_0x158efd(0xa2)+this[_0x158efd(0xa8)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x3fa5ca+_0x158efd(0xc0)+_0x4f895c+'\x22');}async['add'](..._0x25c58a){const _0x314b67=a84_0x57f3ce;await shell_internal_1[_0x314b67(0x96)][_0x314b67(0xa6)]('cd\x20'+this['_repoPath']+_0x314b67(0x8e)+_0x25c58a[_0x314b67(0xab)]('\x20'));}async[a84_0x57f3ce(0xac)](){const _0x239a8c=a84_0x57f3ce;return shell_internal_1[_0x239a8c(0x96)][_0x239a8c(0xa6)](_0x239a8c(0xa2)+this[_0x239a8c(0xa8)]+_0x239a8c(0x74));}async[a84_0x57f3ce(0x86)](_0x47d5e3){const _0x9fde7c=a84_0x57f3ce;Git[_0x9fde7c(0x89)][_0x9fde7c(0x8f)](_0x9fde7c(0x92),_0x47d5e3),await shell_internal_1[_0x9fde7c(0x96)][_0x9fde7c(0xa6)](_0x9fde7c(0xa2)+this[_0x9fde7c(0xa8)]+_0x9fde7c(0x7d)+_0x47d5e3+'\x22');}async[a84_0x57f3ce(0x83)](_0x39484e){const _0x106c11=a84_0x57f3ce;Git[_0x106c11(0x89)][_0x106c11(0x8f)]('push\x20changes\x20to\x20%s',_0x39484e),await shell_internal_1[_0x106c11(0x96)][_0x106c11(0xa6)](_0x106c11(0xa2)+this[_0x106c11(0xa8)]+_0x106c11(0xb2)+_0x39484e+_0x106c11(0xb3));}async[a84_0x57f3ce(0xbd)](_0x551b74){const _0x14d2e0=a84_0x57f3ce;Git[_0x14d2e0(0x89)]['log'](_0x14d2e0(0xb1),_0x551b74),await shell_internal_1[_0x14d2e0(0x96)][_0x14d2e0(0xa6)](_0x14d2e0(0xa2)+this[_0x14d2e0(0xa8)]+_0x14d2e0(0x76)+_0x551b74);}async[a84_0x57f3ce(0xbb)](){const _0x2b2464=a84_0x57f3ce,_0x43be3b=await shell_internal_1['Shell'][_0x2b2464(0xa6)](_0x2b2464(0xa2)+this[_0x2b2464(0xa8)]+_0x2b2464(0x7e));return _0x43be3b[_0x2b2464(0x6f)]('\x0a','');}async['describeCommit'](_0x4298e1){const _0x47910b=a84_0x57f3ce;Git[_0x47910b(0x89)][_0x47910b(0x8f)]('describe\x20commit\x20%s',_0x4298e1);const _0x1b0d87=await shell_internal_1[_0x47910b(0x96)][_0x47910b(0xa6)](_0x47910b(0xa2)+this['_repoPath']+_0x47910b(0x94)+_0x4298e1);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x1b0d87),'email':internal_utils_1[_0x47910b(0xaa)](_0x1b0d87),'message':internal_utils_1[_0x47910b(0x88)](_0x1b0d87),'changes':internal_utils_1[_0x47910b(0x9b)](_0x1b0d87)};}static async[a84_0x57f3ce(0xb4)](_0x3d311a,_0x4953f7,_0x2320d0){const _0x400e6a=a84_0x57f3ce,_0x286322=path_1[_0x400e6a(0x70)][_0x400e6a(0xab)](this[_0x400e6a(0xbf)],_0x4953f7),_0x9e2b5=new Git(_0x286322);return Git[_0x400e6a(0x89)]['log'](_0x400e6a(0x7a),_0x2320d0,_0x3d311a,_0x286322),await fs_internal_1['FS']['removeDir'](_0x286322),await shell_internal_1[_0x400e6a(0x96)][_0x400e6a(0xa6)](_0x400e6a(0x7c)+_0x2320d0+_0x400e6a(0xad)+_0x3d311a+'\x20'+_0x286322),_0x9e2b5;}static async[a84_0x57f3ce(0x7b)](_0x42e3c4){const _0x55a71b=a84_0x57f3ce,_0x3a105c=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x9ebc8}=typedi_1[_0x55a71b(0x70)][_0x55a71b(0xa5)](auth_settings_service_1['AuthSettingsService']),_0x373285=_0x42e3c4[_0x55a71b(0xb9)][_0x55a71b(0x6f)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x42e3c4[_0x55a71b(0xb9)])+'://'+_0x9ebc8+'@'),_0xb1f946=await shell_internal_1[_0x55a71b(0x96)]['exec']('git\x20ls-remote\x20'+_0x373285),_0x589764=_0xb1f946['split']('\x0a')[_0x55a71b(0xa1)](_0x10a945=>_0x3a105c['test'](_0x10a945))[_0x55a71b(0xb5)](_0x15c9f8=>{const _0x14ffff=_0x55a71b,[,_0x1b85ff,_0x56c732]=_0x15c9f8[_0x14ffff(0x87)](_0x3a105c),_0x48fd20=new branch_dto_1['BranchDto']();return _0x48fd20[_0x14ffff(0x9a)]=_0x1b85ff,_0x48fd20[_0x14ffff(0x98)]=_0x56c732['replace'](_0x14ffff(0xa7),''),_0x48fd20;});return _0x589764;}static async['createEmptyBranch'](_0x23ac69,_0x52fa48,_0x6bb61c=a84_0x57f3ce(0x81)){const _0x492ca5=a84_0x57f3ce,{gitCredentials:_0x292e9a}=typedi_1[_0x492ca5(0x70)][_0x492ca5(0xa5)](auth_settings_service_1[_0x492ca5(0x77)]),_0x1e6ee6=_0x23ac69[_0x492ca5(0xb9)][_0x492ca5(0x6f)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x492ca5(0xa4)](_0x23ac69['gitUrl'])+_0x492ca5(0xb6)+_0x292e9a+'@'),_0x341ecc=path_1[_0x492ca5(0x70)][_0x492ca5(0xab)](this[_0x492ca5(0xbf)],_0x23ac69[_0x492ca5(0x98)]);Git[_0x492ca5(0x89)][_0x492ca5(0x8f)](_0x492ca5(0xa3),_0x23ac69[_0x492ca5(0x98)],_0x52fa48,_0x341ecc,_0x1e6ee6),await fs_internal_1['FS'][_0x492ca5(0x71)](_0x341ecc),await fs_internal_1['FS']['makeDir'](_0x341ecc);const _0x269944=new Git(_0x341ecc);await shell_internal_1[_0x492ca5(0x96)][_0x492ca5(0xa6)](_0x492ca5(0xa2)+_0x269944[_0x492ca5(0x7f)]+'\x20&&\x20git\x20init'),await shell_internal_1[_0x492ca5(0x96)][_0x492ca5(0xa6)](_0x492ca5(0xa2)+_0x269944[_0x492ca5(0x7f)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x1e6ee6),await _0x269944['setCredentials'](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x492ca5(0x96)][_0x492ca5(0xa6)]('cd\x20'+_0x269944[_0x492ca5(0x7f)]+_0x492ca5(0xae)+_0x52fa48),await shell_internal_1[_0x492ca5(0x96)][_0x492ca5(0xa6)](_0x492ca5(0xa2)+_0x269944['baseDir']+_0x492ca5(0x7d)+_0x6bb61c+'\x22\x20--allow-empty'),await _0x269944['push'](_0x52fa48),Git['logger'][_0x492ca5(0x8f)](_0x492ca5(0x9f)),await fs_internal_1['FS']['removeDir'](_0x269944[_0x492ca5(0x7f)]);}}exports[a84_0x57f3ce(0x90)]=Git,Git[a84_0x57f3ce(0xbf)]=path_1[a84_0x57f3ce(0x70)][a84_0x57f3ce(0xab)](process['cwd'](),a84_0x57f3ce(0xbe),a84_0x57f3ce(0x82)),Git[a84_0x57f3ce(0x89)]=new core_1[(a84_0x57f3ce(0xba))](Git['name']);function a84_0x4c45(){const _0x193c4=['../../constants','4932FQFZnr','__esModule','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','./shell.internal','filter','cd\x20','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','getProtocol','get','exec','refs/heads/','_repoPath','(((.+)+)+)+$','extractEmailFromCommitDescribe','join','status','\x20--single-branch\x20','\x20&&\x20git\x20checkout\x20--orphan\x20','296CeVtuG','search','checkout\x20to\x20%s','\x20&&\x20git\x20push\x20origin\x20','\x20--quiet','clone','map','://','path','../shared/utils','gitUrl','Logger','getCurrentHash','../shared/services/auth-settings.service','checkout','.temp','DEFAULT_CLONE_PATH','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','constructor','replace','default','removeDir','59311plnCnK','24HMGDWU','\x20&&\x20git\x20status','443666WaycKX','\x20&&\x20git\x20checkout\x20','AuthSettingsService','set\x20credentials\x20%s\x20(%s)','9272934FwbmxL','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','getRepositoryBranches','git\x20clone\x20-b\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','\x20&&\x20git\x20rev-parse\x20HEAD','baseDir','16BVgJDJ','init\x20repository','git','push','typedi','__importDefault','commit','match','extractMessageFromCommitDescribe','logger','apply','../branches/dto/branch.dto','690057Hijxcc','5quzVnO','\x20&&\x20git\x20add\x20','log','Git','setCredentials','commit\x20message\x20\x22%s\x22','toString','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','1073420lOizbr','Shell','3352050tdeViL','name','./internal.utils','sha','extractChangesFromCommitDescribe'];a84_0x4c45=function(){return _0x193c4;};return a84_0x4c45();}