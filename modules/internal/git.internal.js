const a85_0x426338=a85_0x5d10;(function(_0x863c37,_0x13d61){const _0x5f3be3=a85_0x5d10,_0x88b578=_0x863c37();while(!![]){try{const _0x50df7f=parseInt(_0x5f3be3(0x1cc))/0x1*(-parseInt(_0x5f3be3(0x1ab))/0x2)+parseInt(_0x5f3be3(0x1c8))/0x3*(-parseInt(_0x5f3be3(0x1dd))/0x4)+-parseInt(_0x5f3be3(0x18a))/0x5*(-parseInt(_0x5f3be3(0x1bf))/0x6)+-parseInt(_0x5f3be3(0x18b))/0x7*(-parseInt(_0x5f3be3(0x1a1))/0x8)+-parseInt(_0x5f3be3(0x192))/0x9+parseInt(_0x5f3be3(0x1be))/0xa+parseInt(_0x5f3be3(0x188))/0xb;if(_0x50df7f===_0x13d61)break;else _0x88b578['push'](_0x88b578['shift']());}catch(_0x1dbd88){_0x88b578['push'](_0x88b578['shift']());}}}(a85_0x3341,0x1c63b));const a85_0x32f58=(function(){let _0x2a0135=!![];return function(_0x2c07bd,_0x38eff7){const _0xb5637a=_0x2a0135?function(){const _0xbe67d8=a85_0x5d10;if(_0x38eff7){const _0x3b4313=_0x38eff7[_0xbe67d8(0x1b8)](_0x2c07bd,arguments);return _0x38eff7=null,_0x3b4313;}}:function(){};return _0x2a0135=![],_0xb5637a;};}()),a85_0x4a72a5=a85_0x32f58(this,function(){const _0x550aad=a85_0x5d10;return a85_0x4a72a5[_0x550aad(0x19f)]()[_0x550aad(0x19b)](_0x550aad(0x1b4))['toString']()[_0x550aad(0x1ad)](a85_0x4a72a5)[_0x550aad(0x19b)](_0x550aad(0x1b4));});a85_0x4a72a5();'use strict';var __importDefault=this&&this[a85_0x426338(0x1d6)]||function(_0x4f7c30){const _0x9aff12=a85_0x426338;return _0x4f7c30&&_0x4f7c30[_0x9aff12(0x1c7)]?_0x4f7c30:{'default':_0x4f7c30};};Object[a85_0x426338(0x1cd)](exports,a85_0x426338(0x1c7),{'value':!![]}),exports[a85_0x426338(0x1b2)]=void 0x0;function a85_0x3341(){const _0x57242f=['removeDir','getRepositoryBranches','refs/heads/','Shell','\x20&&\x20git\x20checkout\x20','\x20&&\x20git\x20rev-parse\x20HEAD','search','\x20&&\x20git\x20commit\x20-m\x20\x22','cd\x20','../../core','toString','logger','399016nbkphR','createEmptyBranch','replace','\x20&&\x20git\x20remote\x20add\x20origin\x20','DEFAULT_GIT_USER_NAME','split','gitUrl','://','add','set\x20credentials\x20%s\x20(%s)','1094iYNKoJ','\x20--single-branch\x20','constructor','filter','name','git\x20clone\x20-b\x20','extractChangesFromCommitDescribe','Git','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','(((.+)+)+)+$','./fs.internal','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','map','apply','DEFAULT_CLONE_PATH','\x20&&\x20git\x20init','git','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','typedi','812230CKYaVR','822TTgjXf','../shared/utils','./shell.internal','path','exec','../shared/services/auth-settings.service','AuthSettingsService','commit\x20message\x20\x22%s\x22','__esModule','373443oZTSbq','describeCommit','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','push','177xbGEGk','defineProperty','.temp','get','\x20&&\x20git\x20add\x20','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','log','join','makeDir','status','__importDefault','\x22\x20--allow-empty','extractEmailFromCommitDescribe','BranchDto','./internal.utils','default','\x20--quiet','4wSWtaC','3029059DcMFKR','match','3265SgsPic','7BmZyQn','_repoPath','commit','git\x20ls-remote\x20','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s','describe\x20commit\x20%s','test','1425123airCjF','setCredentials','baseDir'];a85_0x3341=function(){return _0x57242f;};return a85_0x3341();}function a85_0x5d10(_0x250fe7,_0x284cbe){const _0x245438=a85_0x3341();return a85_0x5d10=function(_0x4a72a5,_0x32f58){_0x4a72a5=_0x4a72a5-0x188;let _0x334166=_0x245438[_0x4a72a5];return _0x334166;},a85_0x5d10(_0x250fe7,_0x284cbe);}const constants_1=require('../../constants'),core_1=require(a85_0x426338(0x19e)),path_1=__importDefault(require(a85_0x426338(0x1c2))),typedi_1=__importDefault(require(a85_0x426338(0x1bd))),branch_dto_1=require('../branches/dto/branch.dto'),auth_settings_service_1=require(a85_0x426338(0x1c4)),utils_1=require(a85_0x426338(0x1c0)),fs_internal_1=require(a85_0x426338(0x1b5)),internal_utils_1=require(a85_0x426338(0x1da)),shell_internal_1=require(a85_0x426338(0x1c1));class Git{constructor(_0x410532){const _0x1043c3=a85_0x426338;this[_0x1043c3(0x18c)]=_0x410532;}get[a85_0x426338(0x194)](){const _0x50a13e=a85_0x426338;return this[_0x50a13e(0x18c)];}async[a85_0x426338(0x193)](_0x2c6ca2,_0x59f616){const _0x49fa7a=a85_0x426338;Git[_0x49fa7a(0x1a0)]['log'](_0x49fa7a(0x1aa),_0x2c6ca2,_0x59f616),await shell_internal_1[_0x49fa7a(0x198)][_0x49fa7a(0x1c3)](_0x49fa7a(0x19d)+this[_0x49fa7a(0x18c)]+_0x49fa7a(0x1b6)+_0x2c6ca2+_0x49fa7a(0x1b3)+_0x59f616+'\x22');}async[a85_0x426338(0x1a9)](..._0x307842){const _0xe959d3=a85_0x426338;await shell_internal_1[_0xe959d3(0x198)]['exec'](_0xe959d3(0x19d)+this[_0xe959d3(0x18c)]+_0xe959d3(0x1d0)+_0x307842[_0xe959d3(0x1d3)]('\x20'));}async[a85_0x426338(0x1d5)](){const _0x213e59=a85_0x426338;return shell_internal_1['Shell']['exec'](_0x213e59(0x19d)+this['_repoPath']+'\x20&&\x20git\x20status');}async[a85_0x426338(0x18d)](_0x525d86){const _0x44f373=a85_0x426338;Git[_0x44f373(0x1a0)]['log'](_0x44f373(0x1c6),_0x525d86),await shell_internal_1[_0x44f373(0x198)]['exec'](_0x44f373(0x19d)+this['_repoPath']+_0x44f373(0x19c)+_0x525d86+'\x22');}async[a85_0x426338(0x1cb)](_0x173dca){const _0x1a03a9=a85_0x426338;Git[_0x1a03a9(0x1a0)][_0x1a03a9(0x1d2)]('push\x20changes\x20to\x20%s',_0x173dca),await shell_internal_1[_0x1a03a9(0x198)]['exec']('cd\x20'+this[_0x1a03a9(0x18c)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x173dca+_0x1a03a9(0x1dc));}async['checkout'](_0x5140fb){const _0x58d508=a85_0x426338;Git[_0x58d508(0x1a0)][_0x58d508(0x1d2)]('checkout\x20to\x20%s',_0x5140fb),await shell_internal_1[_0x58d508(0x198)][_0x58d508(0x1c3)](_0x58d508(0x19d)+this[_0x58d508(0x18c)]+_0x58d508(0x199)+_0x5140fb);}async['getCurrentHash'](){const _0x2b2ccf=a85_0x426338,_0x2dd5cc=await shell_internal_1['Shell'][_0x2b2ccf(0x1c3)](_0x2b2ccf(0x19d)+this[_0x2b2ccf(0x18c)]+_0x2b2ccf(0x19a));return _0x2dd5cc[_0x2b2ccf(0x1a3)]('\x0a','');}async[a85_0x426338(0x1c9)](_0x1ba555){const _0x18f894=a85_0x426338;Git[_0x18f894(0x1a0)][_0x18f894(0x1d2)](_0x18f894(0x190),_0x1ba555);const _0x3c5328=await shell_internal_1[_0x18f894(0x198)][_0x18f894(0x1c3)]('cd\x20'+this[_0x18f894(0x18c)]+_0x18f894(0x1bc)+_0x1ba555);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x3c5328),'email':internal_utils_1[_0x18f894(0x1d8)](_0x3c5328),'message':internal_utils_1['extractMessageFromCommitDescribe'](_0x3c5328),'changes':internal_utils_1[_0x18f894(0x1b1)](_0x3c5328)};}static async['clone'](_0x49fe9f,_0x3c74ab,_0x1bf0e1){const _0x395d23=a85_0x426338,_0x22f738=path_1[_0x395d23(0x1db)]['join'](this[_0x395d23(0x1b9)],_0x3c74ab),_0x40dde0=new Git(_0x22f738);return Git[_0x395d23(0x1a0)][_0x395d23(0x1d2)](_0x395d23(0x18f),_0x1bf0e1,_0x49fe9f,_0x22f738),await fs_internal_1['FS'][_0x395d23(0x195)](_0x22f738),await shell_internal_1[_0x395d23(0x198)]['exec'](_0x395d23(0x1b0)+_0x1bf0e1+_0x395d23(0x1ac)+_0x49fe9f+'\x20'+_0x22f738),_0x40dde0;}static async[a85_0x426338(0x196)](_0x22e95f){const _0xab0611=a85_0x426338,_0x2b7be3=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x5ece69}=typedi_1['default'][_0xab0611(0x1cf)](auth_settings_service_1[_0xab0611(0x1c5)]),_0x11a72a=_0x22e95f['gitUrl']['replace'](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x22e95f[_0xab0611(0x1a7)])+_0xab0611(0x1a8)+_0x5ece69+'@'),_0x5bfb28=await shell_internal_1[_0xab0611(0x198)][_0xab0611(0x1c3)](_0xab0611(0x18e)+_0x11a72a),_0x9a2ba9=_0x5bfb28[_0xab0611(0x1a6)]('\x0a')[_0xab0611(0x1ae)](_0x266b9e=>_0x2b7be3[_0xab0611(0x191)](_0x266b9e))[_0xab0611(0x1b7)](_0x341d36=>{const _0x308adf=_0xab0611,[,_0x33f2d7,_0x421883]=_0x341d36[_0x308adf(0x189)](_0x2b7be3),_0x20cfd8=new branch_dto_1[(_0x308adf(0x1d9))]();return _0x20cfd8['sha']=_0x33f2d7,_0x20cfd8['name']=_0x421883[_0x308adf(0x1a3)](_0x308adf(0x197),''),_0x20cfd8;});return _0x9a2ba9;}static async[a85_0x426338(0x1a2)](_0x237472,_0x5736c0,_0x5da35b='init\x20repository'){const _0x523e50=a85_0x426338,{gitCredentials:_0x410eb2}=typedi_1['default']['get'](auth_settings_service_1[_0x523e50(0x1c5)]),_0x1b81bf=_0x237472['gitUrl'][_0x523e50(0x1a3)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x237472['gitUrl'])+_0x523e50(0x1a8)+_0x410eb2+'@'),_0x4da7de=path_1['default'][_0x523e50(0x1d3)](this[_0x523e50(0x1b9)],_0x237472[_0x523e50(0x1af)]);Git[_0x523e50(0x1a0)][_0x523e50(0x1d2)](_0x523e50(0x1d1),_0x237472[_0x523e50(0x1af)],_0x5736c0,_0x4da7de,_0x1b81bf),await fs_internal_1['FS'][_0x523e50(0x195)](_0x4da7de),await fs_internal_1['FS'][_0x523e50(0x1d4)](_0x4da7de);const _0x3beb71=new Git(_0x4da7de);await shell_internal_1[_0x523e50(0x198)]['exec'](_0x523e50(0x19d)+_0x3beb71[_0x523e50(0x194)]+_0x523e50(0x1ba)),await shell_internal_1[_0x523e50(0x198)][_0x523e50(0x1c3)](_0x523e50(0x19d)+_0x3beb71[_0x523e50(0x194)]+_0x523e50(0x1a4)+_0x1b81bf),await _0x3beb71[_0x523e50(0x193)](constants_1[_0x523e50(0x1a5)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x523e50(0x198)][_0x523e50(0x1c3)](_0x523e50(0x19d)+_0x3beb71[_0x523e50(0x194)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x5736c0),await shell_internal_1[_0x523e50(0x198)][_0x523e50(0x1c3)]('cd\x20'+_0x3beb71[_0x523e50(0x194)]+_0x523e50(0x19c)+_0x5da35b+_0x523e50(0x1d7)),await _0x3beb71[_0x523e50(0x1cb)](_0x5736c0),Git[_0x523e50(0x1a0)][_0x523e50(0x1d2)](_0x523e50(0x1ca)),await fs_internal_1['FS'][_0x523e50(0x195)](_0x3beb71['baseDir']);}}exports[a85_0x426338(0x1b2)]=Git,Git[a85_0x426338(0x1b9)]=path_1[a85_0x426338(0x1db)][a85_0x426338(0x1d3)](process['cwd'](),a85_0x426338(0x1ce),a85_0x426338(0x1bb)),Git['logger']=new core_1['Logger'](Git[a85_0x426338(0x1af)]);