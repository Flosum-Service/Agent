const a85_0x3f8bd2=a85_0x45a4;function a85_0x45a4(_0x15d6f8,_0x5ba7b1){const _0x4457c0=a85_0x2c44();return a85_0x45a4=function(_0x3224ad,_0x3ac812){_0x3224ad=_0x3224ad-0x131;let _0x2c4451=_0x4457c0[_0x3224ad];return _0x2c4451;},a85_0x45a4(_0x15d6f8,_0x5ba7b1);}(function(_0x4c1588,_0x101f64){const _0x46ca5e=a85_0x45a4,_0x2b0298=_0x4c1588();while(!![]){try{const _0x18941d=parseInt(_0x46ca5e(0x15b))/0x1+parseInt(_0x46ca5e(0x14f))/0x2*(parseInt(_0x46ca5e(0x141))/0x3)+parseInt(_0x46ca5e(0x149))/0x4*(-parseInt(_0x46ca5e(0x150))/0x5)+-parseInt(_0x46ca5e(0x158))/0x6+parseInt(_0x46ca5e(0x145))/0x7*(parseInt(_0x46ca5e(0x15a))/0x8)+-parseInt(_0x46ca5e(0x14e))/0x9+-parseInt(_0x46ca5e(0x139))/0xa;if(_0x18941d===_0x101f64)break;else _0x2b0298['push'](_0x2b0298['shift']());}catch(_0x2f4f70){_0x2b0298['push'](_0x2b0298['shift']());}}}(a85_0x2c44,0xae126));const a85_0x3ac812=(function(){let _0x40383a=!![];return function(_0x1c19d3,_0x2d193a){const _0x5094e3=_0x40383a?function(){const _0x35cab5=a85_0x45a4;if(_0x2d193a){const _0x31f79e=_0x2d193a[_0x35cab5(0x140)](_0x1c19d3,arguments);return _0x2d193a=null,_0x31f79e;}}:function(){};return _0x40383a=![],_0x5094e3;};}()),a85_0x3224ad=a85_0x3ac812(this,function(){const _0x203442=a85_0x45a4;return a85_0x3224ad[_0x203442(0x154)]()[_0x203442(0x17a)](_0x203442(0x138))[_0x203442(0x154)]()[_0x203442(0x14a)](a85_0x3224ad)[_0x203442(0x17a)](_0x203442(0x138));});a85_0x3224ad();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x2c1229){const _0x2be523=a85_0x45a4;return _0x2c1229&&_0x2c1229[_0x2be523(0x155)]?_0x2c1229:{'default':_0x2c1229};};Object[a85_0x3f8bd2(0x166)](exports,a85_0x3f8bd2(0x155),{'value':!![]}),exports[a85_0x3f8bd2(0x179)]=void 0x0;const constants_1=require('../../constants'),core_1=require(a85_0x3f8bd2(0x13c)),path_1=__importDefault(require(a85_0x3f8bd2(0x16c))),typedi_1=__importDefault(require('typedi')),branch_dto_1=require(a85_0x3f8bd2(0x148)),auth_settings_service_1=require(a85_0x3f8bd2(0x16f)),utils_1=require(a85_0x3f8bd2(0x17e)),fs_internal_1=require(a85_0x3f8bd2(0x13f)),internal_utils_1=require(a85_0x3f8bd2(0x187)),shell_internal_1=require(a85_0x3f8bd2(0x132));class Git{constructor(_0x48be0c){const _0x254ebf=a85_0x3f8bd2;this[_0x254ebf(0x144)]=_0x48be0c;}get[a85_0x3f8bd2(0x17d)](){const _0x22dcc2=a85_0x3f8bd2;return this[_0x22dcc2(0x144)];}async['setCredentials'](_0x14f0ae,_0x1f141a){const _0x43ca39=a85_0x3f8bd2;Git[_0x43ca39(0x13e)][_0x43ca39(0x134)](_0x43ca39(0x147),_0x14f0ae,_0x1f141a),await shell_internal_1[_0x43ca39(0x182)]['exec'](_0x43ca39(0x17b)+this[_0x43ca39(0x144)]+_0x43ca39(0x168)+_0x14f0ae+_0x43ca39(0x152)+_0x1f141a+'\x22');}async[a85_0x3f8bd2(0x15d)](..._0x5cd5d2){const _0x6f0852=a85_0x3f8bd2;await shell_internal_1['Shell'][_0x6f0852(0x172)](_0x6f0852(0x17b)+this['_repoPath']+_0x6f0852(0x175)+_0x5cd5d2[_0x6f0852(0x137)]('\x20'));}async['status'](){const _0x5c1193=a85_0x3f8bd2;return shell_internal_1['Shell'][_0x5c1193(0x172)](_0x5c1193(0x17b)+this[_0x5c1193(0x144)]+_0x5c1193(0x161));}async[a85_0x3f8bd2(0x157)](_0x34ef0c){const _0x5d98ef=a85_0x3f8bd2;Git[_0x5d98ef(0x13e)][_0x5d98ef(0x134)](_0x5d98ef(0x13b),_0x34ef0c),await shell_internal_1[_0x5d98ef(0x182)]['exec'](_0x5d98ef(0x17b)+this[_0x5d98ef(0x144)]+_0x5d98ef(0x13d)+_0x34ef0c+'\x22');}async['push'](_0x56f1ff){const _0x1681b2=a85_0x3f8bd2;Git['logger'][_0x1681b2(0x134)](_0x1681b2(0x162),_0x56f1ff),await shell_internal_1[_0x1681b2(0x182)][_0x1681b2(0x172)](_0x1681b2(0x17b)+this[_0x1681b2(0x144)]+'\x20&&\x20git\x20push\x20origin\x20'+_0x56f1ff+_0x1681b2(0x16d));}async['checkout'](_0x4b01f6){const _0x9cba78=a85_0x3f8bd2;Git[_0x9cba78(0x13e)][_0x9cba78(0x134)](_0x9cba78(0x170),_0x4b01f6),await shell_internal_1[_0x9cba78(0x182)][_0x9cba78(0x172)](_0x9cba78(0x17b)+this[_0x9cba78(0x144)]+_0x9cba78(0x14c)+_0x4b01f6);}async[a85_0x3f8bd2(0x13a)](){const _0x40d6da=a85_0x3f8bd2,_0x2bda42=await shell_internal_1[_0x40d6da(0x182)][_0x40d6da(0x172)]('cd\x20'+this['_repoPath']+_0x40d6da(0x165));return _0x2bda42[_0x40d6da(0x142)]('\x0a','');}async[a85_0x3f8bd2(0x184)](_0x276fab){const _0x22f4b9=a85_0x3f8bd2;Git['logger'][_0x22f4b9(0x134)](_0x22f4b9(0x178),_0x276fab);const _0x21d87f=await shell_internal_1[_0x22f4b9(0x182)]['exec'](_0x22f4b9(0x17b)+this[_0x22f4b9(0x144)]+_0x22f4b9(0x156)+_0x276fab);return{'author':internal_utils_1[_0x22f4b9(0x146)](_0x21d87f),'email':internal_utils_1[_0x22f4b9(0x159)](_0x21d87f),'message':internal_utils_1[_0x22f4b9(0x181)](_0x21d87f),'changes':internal_utils_1['extractChangesFromCommitDescribe'](_0x21d87f)};}static async['getRemoteHash'](_0x21167b,_0x1aac07){const _0x4d844b=a85_0x3f8bd2,[_0x24055c]=await shell_internal_1['Shell'][_0x4d844b(0x172)](_0x4d844b(0x183)+_0x21167b+'\x20'+_0x1aac07+_0x4d844b(0x14d))[_0x4d844b(0x153)](_0x173092=>_0x173092['replace'](/\s/g,'\x20')[_0x4d844b(0x171)]('\x20'));return _0x24055c;}static async[a85_0x3f8bd2(0x167)](_0x56ec16,_0x3d3f53,_0x31df69){const _0x5216ef=a85_0x3f8bd2,_0x242f63=path_1['default']['join'](this[_0x5216ef(0x173)],_0x3d3f53),_0x368d94=new Git(_0x242f63);return Git[_0x5216ef(0x13e)]['log'](_0x5216ef(0x131),_0x31df69,_0x56ec16,_0x242f63),await fs_internal_1['FS'][_0x5216ef(0x180)](_0x242f63),await shell_internal_1[_0x5216ef(0x182)][_0x5216ef(0x172)](_0x5216ef(0x15f)+_0x31df69+_0x5216ef(0x15e)+_0x56ec16+'\x20'+_0x242f63),_0x368d94;}static async['getRepositoryBranches'](_0x3913e2){const _0x7f4531=a85_0x3f8bd2,_0x5c2ab2=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x29ed38}=typedi_1['default']['get'](auth_settings_service_1['AuthSettingsService']),_0x60c5b2=_0x3913e2[_0x7f4531(0x188)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x7f4531(0x17c)](_0x3913e2[_0x7f4531(0x188)])+'://'+_0x29ed38+'@'),_0x5a6ddb=await shell_internal_1[_0x7f4531(0x182)][_0x7f4531(0x172)](_0x7f4531(0x183)+_0x60c5b2),_0x213430=_0x5a6ddb['split']('\x0a')[_0x7f4531(0x185)](_0x5301df=>_0x5c2ab2[_0x7f4531(0x177)](_0x5301df))[_0x7f4531(0x16e)](_0x21e632=>{const _0xb1ae1a=_0x7f4531,[,_0x2456c8,_0x1a5b0d]=_0x21e632[_0xb1ae1a(0x135)](_0x5c2ab2),_0x32baaf=new branch_dto_1[(_0xb1ae1a(0x174))]();return _0x32baaf[_0xb1ae1a(0x136)]=_0x2456c8,_0x32baaf[_0xb1ae1a(0x163)]=_0x1a5b0d[_0xb1ae1a(0x142)]('refs/heads/',''),_0x32baaf;});return _0x213430;}static async[a85_0x3f8bd2(0x151)](_0x216da9,_0x44e931,_0x2d2090='init\x20repository'){const _0x224c9c=a85_0x3f8bd2,{gitCredentials:_0x2e7c18}=typedi_1['default'][_0x224c9c(0x176)](auth_settings_service_1[_0x224c9c(0x160)]),_0x140d60=_0x216da9['gitUrl'][_0x224c9c(0x142)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x216da9['gitUrl'])+'://'+_0x2e7c18+'@'),_0x52ea96=path_1['default'][_0x224c9c(0x137)](this[_0x224c9c(0x173)],_0x216da9[_0x224c9c(0x163)]);Git['logger'][_0x224c9c(0x134)](_0x224c9c(0x186),_0x216da9['name'],_0x44e931,_0x52ea96,_0x140d60),await fs_internal_1['FS'][_0x224c9c(0x180)](_0x52ea96),await fs_internal_1['FS'][_0x224c9c(0x16a)](_0x52ea96);const _0x4c0c80=new Git(_0x52ea96);await shell_internal_1['Shell'][_0x224c9c(0x172)](_0x224c9c(0x17b)+_0x4c0c80[_0x224c9c(0x17d)]+_0x224c9c(0x189)),await shell_internal_1[_0x224c9c(0x182)][_0x224c9c(0x172)](_0x224c9c(0x17b)+_0x4c0c80['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x140d60),await _0x4c0c80[_0x224c9c(0x14b)](constants_1['DEFAULT_GIT_USER_NAME'],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x224c9c(0x182)]['exec'](_0x224c9c(0x17b)+_0x4c0c80['baseDir']+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x44e931),await shell_internal_1['Shell'][_0x224c9c(0x172)](_0x224c9c(0x17b)+_0x4c0c80[_0x224c9c(0x17d)]+_0x224c9c(0x13d)+_0x2d2090+'\x22\x20--allow-empty'),await _0x4c0c80[_0x224c9c(0x15c)](_0x44e931),Git[_0x224c9c(0x13e)][_0x224c9c(0x134)](_0x224c9c(0x143)),await fs_internal_1['FS'][_0x224c9c(0x180)](_0x4c0c80[_0x224c9c(0x17d)]);}}function a85_0x2c44(){const _0xcbd439=['./shell.internal','git','log','match','sha','join','(((.+)+)+)+$','1984190IqWyGw','getCurrentHash','commit\x20message\x20\x22%s\x22','../../core','\x20&&\x20git\x20commit\x20-m\x20\x22','logger','./fs.internal','apply','288taInYl','replace','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','_repoPath','9260909tNHcFr','extractAuthorFromCommitDescribe','set\x20credentials\x20%s\x20(%s)','../branches/dto/branch.dto','4cSPGXf','constructor','setCredentials','\x20&&\x20git\x20checkout\x20','\x20--refs','645021OygWdO','21778ETQmmt','807385AhkBYR','createEmptyBranch','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','then','toString','__esModule','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','commit','7772586PhnNyV','extractEmailFromCommitDescribe','8XRkXyq','71663XvfWvq','push','add','\x20--single-branch\x20','git\x20clone\x20-b\x20','AuthSettingsService','\x20&&\x20git\x20status','push\x20changes\x20to\x20%s','name','cwd','\x20&&\x20git\x20rev-parse\x20HEAD','defineProperty','clone','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','.temp','makeDir','Logger','path','\x20--quiet','map','../shared/services/auth-settings.service','checkout\x20to\x20%s','split','exec','DEFAULT_CLONE_PATH','BranchDto','\x20&&\x20git\x20add\x20','get','test','describe\x20commit\x20%s','Git','search','cd\x20','getProtocol','baseDir','../shared/utils','default','removeDir','extractMessageFromCommitDescribe','Shell','git\x20ls-remote\x20','describeCommit','filter','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','./internal.utils','gitUrl','\x20&&\x20git\x20init','clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s'];a85_0x2c44=function(){return _0xcbd439;};return a85_0x2c44();}exports[a85_0x3f8bd2(0x179)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a85_0x3f8bd2(0x17f)]['join'](process[a85_0x3f8bd2(0x164)](),a85_0x3f8bd2(0x169),a85_0x3f8bd2(0x133)),Git[a85_0x3f8bd2(0x13e)]=new core_1[(a85_0x3f8bd2(0x16b))](Git[a85_0x3f8bd2(0x163)]);