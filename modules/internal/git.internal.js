function a85_0x5def(){const _0xdd69fa=['../branches/dto/branch.dto','\x22\x20--allow-empty','name','../shared/services/auth-settings.service','makeDir','5apQfDe','\x20&&\x20git\x20remote\x20add\x20origin\x20','commit\x20message\x20\x22%s\x22','cd\x20','../../core','setCredentials','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','describe\x20commit\x20%s','\x20--quiet','create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s','1178624GVxXzj','git','init\x20repository','test','2813783jAHWYN','createEmptyBranch','242550yyQJsV','Shell','describeCommit','typedi','getProtocol','DEFAULT_CLONE_PATH','log','get','\x20&&\x20git\x20checkout\x20--orphan\x20','\x20&&\x20git\x20rev-parse\x20HEAD','path','logger','16766kbcRNl','810268aoFSPc','://','1MBRtmR','./internal.utils','DEFAULT_GIT_USER_EMAIL','\x20--single-branch\x20','Git','exec','checkout\x20to\x20%s','git\x20ls-remote\x20','extractChangesFromCommitDescribe','set\x20credentials\x20%s\x20(%s)','\x20&&\x20git\x20init','match','sha','BranchDto','split','\x20&&\x20git\x20status','search','add','./fs.internal','extractEmailFromCommitDescribe','(((.+)+)+)+$','join','18dEKBUT','__esModule','push','getCurrentHash','clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch','defineProperty','\x20&&\x20git\x20add\x20','\x20&&\x20git\x20checkout\x20','constructor','getRepositoryBranches','toString','extractMessageFromCommitDescribe','replace','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','AuthSettingsService','\x20&&\x20git\x20push\x20origin\x20','map','_repoPath','\x20&&\x20git\x20commit\x20-m\x20\x22','default','DEFAULT_GIT_USER_NAME','filter','removeDir','3081490WgffmS','apply','2422650nBZyFY','push\x20changes\x20to\x20%s','../shared/utils','commit','baseDir','gitUrl'];a85_0x5def=function(){return _0xdd69fa;};return a85_0x5def();}const a85_0x39a861=a85_0x3d33;(function(_0x4f8b81,_0x358f81){const _0x230534=a85_0x3d33,_0x171eb4=_0x4f8b81();while(!![]){try{const _0x3a076b=parseInt(_0x230534(0x1be))/0x1*(-parseInt(_0x230534(0x1bb))/0x2)+parseInt(_0x230534(0x1af))/0x3+-parseInt(_0x230534(0x1bc))/0x4+parseInt(_0x230534(0x1f8))/0x5*(parseInt(_0x230534(0x1ed))/0x6)+parseInt(_0x230534(0x1ad))/0x7+parseInt(_0x230534(0x1a9))/0x8+parseInt(_0x230534(0x1d4))/0x9*(-parseInt(_0x230534(0x1eb))/0xa);if(_0x3a076b===_0x358f81)break;else _0x171eb4['push'](_0x171eb4['shift']());}catch(_0x1da0a1){_0x171eb4['push'](_0x171eb4['shift']());}}}(a85_0x5def,0x32752));function a85_0x3d33(_0xef5342,_0xb8b532){const _0xb46954=a85_0x5def();return a85_0x3d33=function(_0x158d22,_0x2e038f){_0x158d22=_0x158d22-0x1a2;let _0x5def86=_0xb46954[_0x158d22];return _0x5def86;},a85_0x3d33(_0xef5342,_0xb8b532);}const a85_0x2e038f=(function(){let _0x3cb019=!![];return function(_0x2284e5,_0x551ba3){const _0x29526b=_0x3cb019?function(){const _0xedc533=a85_0x3d33;if(_0x551ba3){const _0xc89888=_0x551ba3[_0xedc533(0x1ec)](_0x2284e5,arguments);return _0x551ba3=null,_0xc89888;}}:function(){};return _0x3cb019=![],_0x29526b;};}()),a85_0x158d22=a85_0x2e038f(this,function(){const _0x4a2dc2=a85_0x3d33;return a85_0x158d22[_0x4a2dc2(0x1de)]()[_0x4a2dc2(0x1ce)](_0x4a2dc2(0x1d2))[_0x4a2dc2(0x1de)]()[_0x4a2dc2(0x1dc)](a85_0x158d22)[_0x4a2dc2(0x1ce)](_0x4a2dc2(0x1d2));});a85_0x158d22();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x28206b){const _0x508949=a85_0x3d33;return _0x28206b&&_0x28206b[_0x508949(0x1d5)]?_0x28206b:{'default':_0x28206b};};Object[a85_0x39a861(0x1d9)](exports,a85_0x39a861(0x1d5),{'value':!![]}),exports[a85_0x39a861(0x1c2)]=void 0x0;const constants_1=require('../../constants'),core_1=require(a85_0x39a861(0x1a3)),path_1=__importDefault(require(a85_0x39a861(0x1b9))),typedi_1=__importDefault(require(a85_0x39a861(0x1b2))),branch_dto_1=require(a85_0x39a861(0x1f3)),auth_settings_service_1=require(a85_0x39a861(0x1f6)),utils_1=require(a85_0x39a861(0x1ef)),fs_internal_1=require(a85_0x39a861(0x1d0)),internal_utils_1=require(a85_0x39a861(0x1bf)),shell_internal_1=require('./shell.internal');class Git{constructor(_0x32e2e7){this['_repoPath']=_0x32e2e7;}get[a85_0x39a861(0x1f1)](){const _0x3c30fe=a85_0x39a861;return this[_0x3c30fe(0x1e5)];}async[a85_0x39a861(0x1a4)](_0x6ca18a,_0x5423fa){const _0x42bbd5=a85_0x39a861;Git[_0x42bbd5(0x1ba)][_0x42bbd5(0x1b5)](_0x42bbd5(0x1c7),_0x6ca18a,_0x5423fa),await shell_internal_1[_0x42bbd5(0x1b0)][_0x42bbd5(0x1c3)](_0x42bbd5(0x1a2)+this['_repoPath']+_0x42bbd5(0x1a5)+_0x6ca18a+'\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22'+_0x5423fa+'\x22');}async[a85_0x39a861(0x1cf)](..._0xfdfc3e){const _0x12e4c1=a85_0x39a861;await shell_internal_1['Shell'][_0x12e4c1(0x1c3)](_0x12e4c1(0x1a2)+this[_0x12e4c1(0x1e5)]+_0x12e4c1(0x1da)+_0xfdfc3e[_0x12e4c1(0x1d3)]('\x20'));}async['status'](){const _0x29c909=a85_0x39a861;return shell_internal_1[_0x29c909(0x1b0)][_0x29c909(0x1c3)](_0x29c909(0x1a2)+this[_0x29c909(0x1e5)]+_0x29c909(0x1cd));}async[a85_0x39a861(0x1f0)](_0x1b4dfd){const _0x546d8e=a85_0x39a861;Git[_0x546d8e(0x1ba)][_0x546d8e(0x1b5)](_0x546d8e(0x1fa),_0x1b4dfd),await shell_internal_1[_0x546d8e(0x1b0)][_0x546d8e(0x1c3)](_0x546d8e(0x1a2)+this['_repoPath']+'\x20&&\x20git\x20commit\x20-m\x20\x22'+_0x1b4dfd+'\x22');}async[a85_0x39a861(0x1d6)](_0x534f35){const _0x4339bc=a85_0x39a861;Git[_0x4339bc(0x1ba)][_0x4339bc(0x1b5)](_0x4339bc(0x1ee),_0x534f35),await shell_internal_1['Shell']['exec'](_0x4339bc(0x1a2)+this[_0x4339bc(0x1e5)]+_0x4339bc(0x1e3)+_0x534f35+_0x4339bc(0x1a7));}async['checkout'](_0x1abc85){const _0x134e63=a85_0x39a861;Git[_0x134e63(0x1ba)]['log'](_0x134e63(0x1c4),_0x1abc85),await shell_internal_1['Shell'][_0x134e63(0x1c3)](_0x134e63(0x1a2)+this['_repoPath']+_0x134e63(0x1db)+_0x1abc85);}async[a85_0x39a861(0x1d7)](){const _0xebded2=a85_0x39a861,_0x1f9f7b=await shell_internal_1[_0xebded2(0x1b0)][_0xebded2(0x1c3)](_0xebded2(0x1a2)+this['_repoPath']+_0xebded2(0x1b8));return _0x1f9f7b[_0xebded2(0x1e0)]('\x0a','');}async[a85_0x39a861(0x1b1)](_0x5c7c72){const _0x45ff83=a85_0x39a861;Git[_0x45ff83(0x1ba)][_0x45ff83(0x1b5)](_0x45ff83(0x1a6),_0x5c7c72);const _0x41ac06=await shell_internal_1['Shell'][_0x45ff83(0x1c3)](_0x45ff83(0x1a2)+this[_0x45ff83(0x1e5)]+_0x45ff83(0x1e1)+_0x5c7c72);return{'author':internal_utils_1['extractAuthorFromCommitDescribe'](_0x41ac06),'email':internal_utils_1[_0x45ff83(0x1d1)](_0x41ac06),'message':internal_utils_1[_0x45ff83(0x1df)](_0x41ac06),'changes':internal_utils_1[_0x45ff83(0x1c6)](_0x41ac06)};}static async['clone'](_0x20e43f,_0x33ac5a,_0x33fc4d){const _0x31e07a=a85_0x39a861,_0x53bf93=path_1['default'][_0x31e07a(0x1d3)](this[_0x31e07a(0x1b4)],_0x33ac5a),_0x95524c=new Git(_0x53bf93);return Git[_0x31e07a(0x1ba)][_0x31e07a(0x1b5)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x33fc4d,_0x20e43f,_0x53bf93),await fs_internal_1['FS'][_0x31e07a(0x1ea)](_0x53bf93),await shell_internal_1[_0x31e07a(0x1b0)][_0x31e07a(0x1c3)]('git\x20clone\x20-b\x20'+_0x33fc4d+_0x31e07a(0x1c1)+_0x20e43f+'\x20'+_0x53bf93),_0x95524c;}static async[a85_0x39a861(0x1dd)](_0xebfcb){const _0x57b090=a85_0x39a861,_0x273f64=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x293d57}=typedi_1[_0x57b090(0x1e7)][_0x57b090(0x1b6)](auth_settings_service_1[_0x57b090(0x1e2)]),_0x49f3a4=_0xebfcb[_0x57b090(0x1f2)][_0x57b090(0x1e0)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x57b090(0x1b3)](_0xebfcb[_0x57b090(0x1f2)])+_0x57b090(0x1bd)+_0x293d57+'@'),_0x11f724=await shell_internal_1[_0x57b090(0x1b0)]['exec'](_0x57b090(0x1c5)+_0x49f3a4),_0x44c50c=_0x11f724[_0x57b090(0x1cc)]('\x0a')[_0x57b090(0x1e9)](_0x470cee=>_0x273f64[_0x57b090(0x1ac)](_0x470cee))[_0x57b090(0x1e4)](_0x34f18e=>{const _0x75becc=_0x57b090,[,_0x47c481,_0xd18f46]=_0x34f18e[_0x75becc(0x1c9)](_0x273f64),_0x4f370c=new branch_dto_1[(_0x75becc(0x1cb))]();return _0x4f370c[_0x75becc(0x1ca)]=_0x47c481,_0x4f370c[_0x75becc(0x1f5)]=_0xd18f46[_0x75becc(0x1e0)]('refs/heads/',''),_0x4f370c;});return _0x44c50c;}static async[a85_0x39a861(0x1ae)](_0x99895d,_0x3cbfe7,_0x2e4a10=a85_0x39a861(0x1ab)){const _0x3eb347=a85_0x39a861,{gitCredentials:_0x476b1c}=typedi_1[_0x3eb347(0x1e7)][_0x3eb347(0x1b6)](auth_settings_service_1[_0x3eb347(0x1e2)]),_0x38685d=_0x99895d[_0x3eb347(0x1f2)][_0x3eb347(0x1e0)](/http(s)?\:\/\/(.+@)?/,utils_1['getProtocol'](_0x99895d[_0x3eb347(0x1f2)])+_0x3eb347(0x1bd)+_0x476b1c+'@'),_0x4efe01=path_1[_0x3eb347(0x1e7)]['join'](this[_0x3eb347(0x1b4)],_0x99895d[_0x3eb347(0x1f5)]);Git[_0x3eb347(0x1ba)][_0x3eb347(0x1b5)](_0x3eb347(0x1a8),_0x99895d[_0x3eb347(0x1f5)],_0x3cbfe7,_0x4efe01,_0x38685d),await fs_internal_1['FS'][_0x3eb347(0x1ea)](_0x4efe01),await fs_internal_1['FS'][_0x3eb347(0x1f7)](_0x4efe01);const _0x3cf69a=new Git(_0x4efe01);await shell_internal_1['Shell'][_0x3eb347(0x1c3)](_0x3eb347(0x1a2)+_0x3cf69a[_0x3eb347(0x1f1)]+_0x3eb347(0x1c8)),await shell_internal_1['Shell'][_0x3eb347(0x1c3)]('cd\x20'+_0x3cf69a['baseDir']+_0x3eb347(0x1f9)+_0x38685d),await _0x3cf69a['setCredentials'](constants_1[_0x3eb347(0x1e8)],constants_1[_0x3eb347(0x1c0)]),await shell_internal_1[_0x3eb347(0x1b0)][_0x3eb347(0x1c3)](_0x3eb347(0x1a2)+_0x3cf69a['baseDir']+_0x3eb347(0x1b7)+_0x3cbfe7),await shell_internal_1[_0x3eb347(0x1b0)][_0x3eb347(0x1c3)]('cd\x20'+_0x3cf69a[_0x3eb347(0x1f1)]+_0x3eb347(0x1e6)+_0x2e4a10+_0x3eb347(0x1f4)),await _0x3cf69a[_0x3eb347(0x1d6)](_0x3cbfe7),Git[_0x3eb347(0x1ba)]['log'](_0x3eb347(0x1d8)),await fs_internal_1['FS'][_0x3eb347(0x1ea)](_0x3cf69a['baseDir']);}}exports[a85_0x39a861(0x1c2)]=Git,Git['DEFAULT_CLONE_PATH']=path_1[a85_0x39a861(0x1e7)][a85_0x39a861(0x1d3)](process['cwd'](),'.temp',a85_0x39a861(0x1aa)),Git[a85_0x39a861(0x1ba)]=new core_1['Logger'](Git[a85_0x39a861(0x1f5)]);