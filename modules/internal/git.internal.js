const a84_0xb2221c=a84_0x3568;(function(_0x5e4464,_0x56c9a5){const _0x193cf9=a84_0x3568,_0x3d20b6=_0x5e4464();while(!![]){try{const _0x45d31b=-parseInt(_0x193cf9(0x1b7))/0x1+parseInt(_0x193cf9(0x1cf))/0x2+parseInt(_0x193cf9(0x1c7))/0x3*(parseInt(_0x193cf9(0x204))/0x4)+-parseInt(_0x193cf9(0x1dc))/0x5+parseInt(_0x193cf9(0x1ef))/0x6+parseInt(_0x193cf9(0x1f2))/0x7+-parseInt(_0x193cf9(0x1c1))/0x8*(parseInt(_0x193cf9(0x1e1))/0x9);if(_0x45d31b===_0x56c9a5)break;else _0x3d20b6['push'](_0x3d20b6['shift']());}catch(_0x11c7da){_0x3d20b6['push'](_0x3d20b6['shift']());}}}(a84_0x1259,0xa78d4));const a84_0x3f901a=(function(){let _0x1c3093=!![];return function(_0xf09d1b,_0x1bb3c0){const _0x57f95e=_0x1c3093?function(){const _0x2936a9=a84_0x3568;if(_0x1bb3c0){const _0x4257df=_0x1bb3c0[_0x2936a9(0x1ba)](_0xf09d1b,arguments);return _0x1bb3c0=null,_0x4257df;}}:function(){};return _0x1c3093=![],_0x57f95e;};}()),a84_0x387bae=a84_0x3f901a(this,function(){const _0x329c60=a84_0x3568;return a84_0x387bae[_0x329c60(0x1bc)]()[_0x329c60(0x1d5)]('(((.+)+)+)+$')['toString']()[_0x329c60(0x1e8)](a84_0x387bae)[_0x329c60(0x1d5)](_0x329c60(0x1e0));});a84_0x387bae();'use strict';var __importDefault=this&&this[a84_0xb2221c(0x1ff)]||function(_0x4cee9f){const _0x57e0c5=a84_0xb2221c;return _0x4cee9f&&_0x4cee9f[_0x57e0c5(0x203)]?_0x4cee9f:{'default':_0x4cee9f};};function a84_0x1259(){const _0x5c12a6=['6462714Ujmrsq','path','set\x20credentials\x20%s\x20(%s)','5681585oBcPqy','extractChangesFromCommitDescribe','\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22','../shared/services/auth-settings.service','Git','setCredentials','getCurrentHash','cwd','filter','name','baseDir','://','git\x20clone\x20-b\x20','__importDefault','gitUrl','logger','\x20&&\x20git\x20commit\x20-m\x20\x22','__esModule','60dZCjlg','./shell.internal','split','log','add','697205qREgSQ','createEmptyBranch','_repoPath','apply','replace','toString','../shared/utils','getProtocol','\x20&&\x20git\x20push\x20origin\x20','join','10352BsqJbC','../../core','init\x20repository','removeDir','extractAuthorFromCommitDescribe','push','95331JBuhWh','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','commit\x20message\x20\x22%s\x22','cd\x20','getRepositoryBranches','\x22\x20--allow-empty','./fs.internal','checkout','1615976UCcrGC','BranchDto','match','Shell','refs/heads/','DEFAULT_CLONE_PATH','search','extractMessageFromCommitDescribe','\x20&&\x20git\x20status','../../constants','defineProperty','../branches/dto/branch.dto','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','2279030ZtjuVY','DEFAULT_GIT_USER_EMAIL','default','sha','(((.+)+)+)+$','9279KOqwgW','\x20&&\x20git\x20add\x20','extractEmailFromCommitDescribe','clone','git','exec','./internal.utils','constructor','status','get','DEFAULT_GIT_USER_NAME','push\x20changes\x20to\x20%s','AuthSettingsService','typedi'];a84_0x1259=function(){return _0x5c12a6;};return a84_0x1259();}Object[a84_0xb2221c(0x1d9)](exports,a84_0xb2221c(0x203),{'value':!![]}),exports[a84_0xb2221c(0x1f6)]=void 0x0;const constants_1=require(a84_0xb2221c(0x1d8)),core_1=require(a84_0xb2221c(0x1c2)),path_1=__importDefault(require(a84_0xb2221c(0x1f0))),typedi_1=__importDefault(require(a84_0xb2221c(0x1ee))),branch_dto_1=require(a84_0xb2221c(0x1da)),auth_settings_service_1=require(a84_0xb2221c(0x1f5)),utils_1=require(a84_0xb2221c(0x1bd)),fs_internal_1=require(a84_0xb2221c(0x1cd)),internal_utils_1=require(a84_0xb2221c(0x1e7)),shell_internal_1=require(a84_0xb2221c(0x205));function a84_0x3568(_0x46fd04,_0x1d16c3){const _0x3c63c8=a84_0x1259();return a84_0x3568=function(_0x387bae,_0x3f901a){_0x387bae=_0x387bae-0x1b5;let _0x12598a=_0x3c63c8[_0x387bae];return _0x12598a;},a84_0x3568(_0x46fd04,_0x1d16c3);}class Git{constructor(_0x537211){const _0xea2b4a=a84_0xb2221c;this[_0xea2b4a(0x1b9)]=_0x537211;}get[a84_0xb2221c(0x1fc)](){const _0x5b2765=a84_0xb2221c;return this[_0x5b2765(0x1b9)];}async[a84_0xb2221c(0x1f7)](_0xf76bfb,_0x585e53){const _0x5a9745=a84_0xb2221c;Git[_0x5a9745(0x201)]['log'](_0x5a9745(0x1f1),_0xf76bfb,_0x585e53),await shell_internal_1['Shell'][_0x5a9745(0x1e6)](_0x5a9745(0x1ca)+this['_repoPath']+_0x5a9745(0x1f4)+_0xf76bfb+_0x5a9745(0x1c8)+_0x585e53+'\x22');}async[a84_0xb2221c(0x1b6)](..._0x251cfe){const _0x48e261=a84_0xb2221c;await shell_internal_1[_0x48e261(0x1d2)]['exec']('cd\x20'+this[_0x48e261(0x1b9)]+_0x48e261(0x1e2)+_0x251cfe[_0x48e261(0x1c0)]('\x20'));}async[a84_0xb2221c(0x1e9)](){const _0x2234b0=a84_0xb2221c;return shell_internal_1[_0x2234b0(0x1d2)][_0x2234b0(0x1e6)](_0x2234b0(0x1ca)+this['_repoPath']+_0x2234b0(0x1d7));}async['commit'](_0x348664){const _0x183837=a84_0xb2221c;Git[_0x183837(0x201)]['log'](_0x183837(0x1c9),_0x348664),await shell_internal_1[_0x183837(0x1d2)][_0x183837(0x1e6)]('cd\x20'+this[_0x183837(0x1b9)]+_0x183837(0x202)+_0x348664+'\x22');}async[a84_0xb2221c(0x1c6)](_0x337030){const _0x1b6abc=a84_0xb2221c;Git[_0x1b6abc(0x201)][_0x1b6abc(0x1b5)](_0x1b6abc(0x1ec),_0x337030),await shell_internal_1[_0x1b6abc(0x1d2)][_0x1b6abc(0x1e6)](_0x1b6abc(0x1ca)+this[_0x1b6abc(0x1b9)]+_0x1b6abc(0x1bf)+_0x337030+'\x20--quiet');}async[a84_0xb2221c(0x1ce)](_0x5eeeaa){const _0x3d4a3e=a84_0xb2221c;Git[_0x3d4a3e(0x201)]['log']('checkout\x20to\x20%s',_0x5eeeaa),await shell_internal_1[_0x3d4a3e(0x1d2)][_0x3d4a3e(0x1e6)](_0x3d4a3e(0x1ca)+this[_0x3d4a3e(0x1b9)]+'\x20&&\x20git\x20checkout\x20'+_0x5eeeaa);}async[a84_0xb2221c(0x1f8)](){const _0x4d0e04=a84_0xb2221c,_0x3185b8=await shell_internal_1[_0x4d0e04(0x1d2)][_0x4d0e04(0x1e6)]('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x3185b8[_0x4d0e04(0x1bb)]('\x0a','');}async['describeCommit'](_0x23f749){const _0x384243=a84_0xb2221c;Git[_0x384243(0x201)][_0x384243(0x1b5)]('describe\x20commit\x20%s',_0x23f749);const _0x37508b=await shell_internal_1['Shell'][_0x384243(0x1e6)]('cd\x20'+this['_repoPath']+_0x384243(0x1db)+_0x23f749);return{'author':internal_utils_1[_0x384243(0x1c5)](_0x37508b),'email':internal_utils_1[_0x384243(0x1e3)](_0x37508b),'message':internal_utils_1[_0x384243(0x1d6)](_0x37508b),'changes':internal_utils_1[_0x384243(0x1f3)](_0x37508b)};}static async[a84_0xb2221c(0x1e4)](_0x20ddd1,_0x7e0bea,_0x2df183){const _0x4030d5=a84_0xb2221c,_0x16935e=path_1[_0x4030d5(0x1de)]['join'](this['DEFAULT_CLONE_PATH'],_0x7e0bea),_0x25c4a9=new Git(_0x16935e);return Git[_0x4030d5(0x201)]['log']('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x2df183,_0x20ddd1,_0x16935e),await fs_internal_1['FS']['removeDir'](_0x16935e),await shell_internal_1[_0x4030d5(0x1d2)][_0x4030d5(0x1e6)](_0x4030d5(0x1fe)+_0x2df183+'\x20--single-branch\x20'+_0x20ddd1+'\x20'+_0x16935e),_0x25c4a9;}static async[a84_0xb2221c(0x1cb)](_0x1628c3){const _0x175e88=a84_0xb2221c,_0xef9bad=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x48a7fe}=typedi_1[_0x175e88(0x1de)][_0x175e88(0x1ea)](auth_settings_service_1['AuthSettingsService']),_0x2604f6=_0x1628c3[_0x175e88(0x200)]['replace'](/http(s)?\:\/\/(.+@)?/,utils_1[_0x175e88(0x1be)](_0x1628c3[_0x175e88(0x200)])+_0x175e88(0x1fd)+_0x48a7fe+'@'),_0x445a56=await shell_internal_1[_0x175e88(0x1d2)][_0x175e88(0x1e6)]('git\x20ls-remote\x20'+_0x2604f6),_0x3c803e=_0x445a56[_0x175e88(0x206)]('\x0a')[_0x175e88(0x1fa)](_0x145847=>_0xef9bad['test'](_0x145847))['map'](_0x160709=>{const _0x192a08=_0x175e88,[,_0x878bf7,_0x444d55]=_0x160709[_0x192a08(0x1d1)](_0xef9bad),_0x2bc9f9=new branch_dto_1[(_0x192a08(0x1d0))]();return _0x2bc9f9[_0x192a08(0x1df)]=_0x878bf7,_0x2bc9f9['name']=_0x444d55[_0x192a08(0x1bb)](_0x192a08(0x1d3),''),_0x2bc9f9;});return _0x3c803e;}static async[a84_0xb2221c(0x1b8)](_0x271fd0,_0x368461,_0x2f3cf9=a84_0xb2221c(0x1c3)){const _0x1f692d=a84_0xb2221c,{gitCredentials:_0x503685}=typedi_1[_0x1f692d(0x1de)]['get'](auth_settings_service_1[_0x1f692d(0x1ed)]),_0x430bbc=_0x271fd0['gitUrl'][_0x1f692d(0x1bb)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x1f692d(0x1be)](_0x271fd0[_0x1f692d(0x200)])+_0x1f692d(0x1fd)+_0x503685+'@'),_0x554480=path_1[_0x1f692d(0x1de)][_0x1f692d(0x1c0)](this[_0x1f692d(0x1d4)],_0x271fd0[_0x1f692d(0x1fb)]);Git[_0x1f692d(0x201)][_0x1f692d(0x1b5)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x271fd0[_0x1f692d(0x1fb)],_0x368461,_0x554480,_0x430bbc),await fs_internal_1['FS'][_0x1f692d(0x1c4)](_0x554480),await fs_internal_1['FS']['makeDir'](_0x554480);const _0x1c7a06=new Git(_0x554480);await shell_internal_1[_0x1f692d(0x1d2)][_0x1f692d(0x1e6)](_0x1f692d(0x1ca)+_0x1c7a06[_0x1f692d(0x1fc)]+'\x20&&\x20git\x20init'),await shell_internal_1[_0x1f692d(0x1d2)][_0x1f692d(0x1e6)](_0x1f692d(0x1ca)+_0x1c7a06['baseDir']+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x430bbc),await _0x1c7a06[_0x1f692d(0x1f7)](constants_1[_0x1f692d(0x1eb)],constants_1[_0x1f692d(0x1dd)]),await shell_internal_1[_0x1f692d(0x1d2)][_0x1f692d(0x1e6)](_0x1f692d(0x1ca)+_0x1c7a06[_0x1f692d(0x1fc)]+'\x20&&\x20git\x20checkout\x20--orphan\x20'+_0x368461),await shell_internal_1['Shell']['exec'](_0x1f692d(0x1ca)+_0x1c7a06['baseDir']+_0x1f692d(0x202)+_0x2f3cf9+_0x1f692d(0x1cc)),await _0x1c7a06[_0x1f692d(0x1c6)](_0x368461),Git[_0x1f692d(0x201)][_0x1f692d(0x1b5)]('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x1f692d(0x1c4)](_0x1c7a06[_0x1f692d(0x1fc)]);}}exports[a84_0xb2221c(0x1f6)]=Git,Git[a84_0xb2221c(0x1d4)]=path_1[a84_0xb2221c(0x1de)]['join'](process[a84_0xb2221c(0x1f9)](),'.temp',a84_0xb2221c(0x1e5)),Git[a84_0xb2221c(0x201)]=new core_1['Logger'](Git[a84_0xb2221c(0x1fb)]);