const a85_0x5c12f5=a85_0x1e4f;(function(_0x32e4e7,_0x28936f){const _0x528677=a85_0x1e4f,_0x4f5e73=_0x32e4e7();while(!![]){try{const _0x5a02ee=parseInt(_0x528677(0x1cd))/0x1+-parseInt(_0x528677(0x201))/0x2*(parseInt(_0x528677(0x1d5))/0x3)+parseInt(_0x528677(0x217))/0x4*(parseInt(_0x528677(0x1e4))/0x5)+parseInt(_0x528677(0x1cc))/0x6*(parseInt(_0x528677(0x1e3))/0x7)+parseInt(_0x528677(0x1c9))/0x8+parseInt(_0x528677(0x1d4))/0x9+parseInt(_0x528677(0x209))/0xa*(-parseInt(_0x528677(0x1cf))/0xb);if(_0x5a02ee===_0x28936f)break;else _0x4f5e73['push'](_0x4f5e73['shift']());}catch(_0x52f324){_0x4f5e73['push'](_0x4f5e73['shift']());}}}(a85_0x5f14,0xbfe12));function a85_0x5f14(){const _0x409514=['extractAuthorFromCommitDescribe','describe\x20commit\x20%s','DEFAULT_CLONE_PATH','constructor','cwd','git\x20ls-remote\x20','sha','.temp','DEFAULT_GIT_USER_NAME','refs/heads/','name','getRepositoryBranches','2XVbURE','commit\x20message\x20\x22%s\x22','extractMessageFromCommitDescribe','\x20&&\x20git\x20checkout\x20--orphan\x20','clone','./shell.internal','status','extractChangesFromCommitDescribe','350090KDyxdy','setCredentials','git\x20clone\x20-b\x20','\x20&&\x20git\x20commit\x20-m\x20\x22','git','\x20&&\x20git\x20checkout\x20','push','match','replace','log','__importDefault','push\x20changes\x20to\x20%s','get','\x20&&\x20git\x20add\x20','434664auhbAU','typedi','../shared/services/auth-settings.service','toString','search','test','cd\x20','makeDir','logger','9320072GFsCpR','(((.+)+)+)+$','removeDir','972qaabVw','915783KVTgCp','split','1397zehEBR','apply','Shell','../branches/dto/branch.dto','\x22\x20--allow-empty','6336945qxIRnP','263754PZHjFc','\x20&&\x20git\x20init','set\x20credentials\x20%s\x20(%s)','getCurrentHash','../shared/utils','AuthSettingsService','\x20&&\x20git\x20push\x20origin\x20','./internal.utils','default','checkout\x20to\x20%s','init\x20repository','\x20&&\x20git\x20show\x20--pretty=format:\x22Author:\x20%an%nEmail:\x20%ae%nMessage:\x20%s\x22\x20--name-status\x20','getProtocol','gitUrl','62587opopcs','50Xarhka','createEmptyBranch','Git','_repoPath','filter','://','exec','\x22\x20&&\x20git\x20config\x20--local\x20user.email\x20\x22','checkout','BranchDto','extractEmailFromCommitDescribe','describeCommit','__esModule','baseDir','join','map','defineProperty'];a85_0x5f14=function(){return _0x409514;};return a85_0x5f14();}const a85_0x4b257a=(function(){let _0x38fe0d=!![];return function(_0x8f318d,_0x2de349){const _0x109e1b=_0x38fe0d?function(){const _0xa19b72=a85_0x1e4f;if(_0x2de349){const _0x321d46=_0x2de349[_0xa19b72(0x1d0)](_0x8f318d,arguments);return _0x2de349=null,_0x321d46;}}:function(){};return _0x38fe0d=![],_0x109e1b;};}()),a85_0x2f4668=a85_0x4b257a(this,function(){const _0x3835cc=a85_0x1e4f;return a85_0x2f4668[_0x3835cc(0x1c3)]()[_0x3835cc(0x1c4)]('(((.+)+)+)+$')[_0x3835cc(0x1c3)]()[_0x3835cc(0x1f8)](a85_0x2f4668)['search'](_0x3835cc(0x1ca));});function a85_0x1e4f(_0x289aa5,_0x42eaeb){const _0x2767bc=a85_0x5f14();return a85_0x1e4f=function(_0x2f4668,_0x4b257a){_0x2f4668=_0x2f4668-0x1c3;let _0x5f14d4=_0x2767bc[_0x2f4668];return _0x5f14d4;},a85_0x1e4f(_0x289aa5,_0x42eaeb);}a85_0x2f4668();'use strict';var __importDefault=this&&this[a85_0x5c12f5(0x213)]||function(_0x2e64cf){return _0x2e64cf&&_0x2e64cf['__esModule']?_0x2e64cf:{'default':_0x2e64cf};};Object[a85_0x5c12f5(0x1f4)](exports,a85_0x5c12f5(0x1f0),{'value':!![]}),exports[a85_0x5c12f5(0x1e6)]=void 0x0;const constants_1=require('../../constants'),core_1=require('../../core'),path_1=__importDefault(require('path')),typedi_1=__importDefault(require(a85_0x5c12f5(0x218))),branch_dto_1=require(a85_0x5c12f5(0x1d2)),auth_settings_service_1=require(a85_0x5c12f5(0x219)),utils_1=require(a85_0x5c12f5(0x1d9)),fs_internal_1=require('./fs.internal'),internal_utils_1=require(a85_0x5c12f5(0x1dc)),shell_internal_1=require(a85_0x5c12f5(0x206));class Git{constructor(_0x35105e){const _0x4fb511=a85_0x5c12f5;this[_0x4fb511(0x1e7)]=_0x35105e;}get['baseDir'](){const _0x32041c=a85_0x5c12f5;return this[_0x32041c(0x1e7)];}async[a85_0x5c12f5(0x20a)](_0x17e714,_0x507d93){const _0x5486ba=a85_0x5c12f5;Git['logger']['log'](_0x5486ba(0x1d7),_0x17e714,_0x507d93),await shell_internal_1['Shell'][_0x5486ba(0x1ea)]('cd\x20'+this[_0x5486ba(0x1e7)]+'\x20&&\x20git\x20config\x20--local\x20user.name\x20\x22'+_0x17e714+_0x5486ba(0x1eb)+_0x507d93+'\x22');}async['add'](..._0x117192){const _0x34e6f7=a85_0x5c12f5;await shell_internal_1[_0x34e6f7(0x1d1)][_0x34e6f7(0x1ea)](_0x34e6f7(0x1c6)+this[_0x34e6f7(0x1e7)]+_0x34e6f7(0x216)+_0x117192['join']('\x20'));}async[a85_0x5c12f5(0x207)](){const _0x421fb5=a85_0x5c12f5;return shell_internal_1['Shell'][_0x421fb5(0x1ea)](_0x421fb5(0x1c6)+this[_0x421fb5(0x1e7)]+'\x20&&\x20git\x20status');}async['commit'](_0x45a0ef){const _0x4ce003=a85_0x5c12f5;Git[_0x4ce003(0x1c8)][_0x4ce003(0x212)](_0x4ce003(0x202),_0x45a0ef),await shell_internal_1[_0x4ce003(0x1d1)][_0x4ce003(0x1ea)](_0x4ce003(0x1c6)+this[_0x4ce003(0x1e7)]+_0x4ce003(0x20c)+_0x45a0ef+'\x22');}async[a85_0x5c12f5(0x20f)](_0x102ac8){const _0x4c8975=a85_0x5c12f5;Git[_0x4c8975(0x1c8)][_0x4c8975(0x212)](_0x4c8975(0x214),_0x102ac8),await shell_internal_1[_0x4c8975(0x1d1)][_0x4c8975(0x1ea)](_0x4c8975(0x1c6)+this['_repoPath']+_0x4c8975(0x1db)+_0x102ac8+'\x20--quiet');}async[a85_0x5c12f5(0x1ec)](_0x243ec1){const _0x1b8155=a85_0x5c12f5;Git['logger']['log'](_0x1b8155(0x1de),_0x243ec1),await shell_internal_1[_0x1b8155(0x1d1)][_0x1b8155(0x1ea)]('cd\x20'+this[_0x1b8155(0x1e7)]+_0x1b8155(0x20e)+_0x243ec1);}async[a85_0x5c12f5(0x1d8)](){const _0x5744b5=a85_0x5c12f5,_0x5c54bb=await shell_internal_1[_0x5744b5(0x1d1)][_0x5744b5(0x1ea)]('cd\x20'+this['_repoPath']+'\x20&&\x20git\x20rev-parse\x20HEAD');return _0x5c54bb[_0x5744b5(0x211)]('\x0a','');}async[a85_0x5c12f5(0x1ef)](_0x3f6645){const _0x2f7c5a=a85_0x5c12f5;Git['logger'][_0x2f7c5a(0x212)](_0x2f7c5a(0x1f6),_0x3f6645);const _0x135aa9=await shell_internal_1[_0x2f7c5a(0x1d1)]['exec'](_0x2f7c5a(0x1c6)+this[_0x2f7c5a(0x1e7)]+_0x2f7c5a(0x1e0)+_0x3f6645);return{'author':internal_utils_1[_0x2f7c5a(0x1f5)](_0x135aa9),'email':internal_utils_1[_0x2f7c5a(0x1ee)](_0x135aa9),'message':internal_utils_1[_0x2f7c5a(0x203)](_0x135aa9),'changes':internal_utils_1[_0x2f7c5a(0x208)](_0x135aa9)};}static async[a85_0x5c12f5(0x205)](_0x4a6793,_0x397a7f,_0x150124){const _0x548891=a85_0x5c12f5,_0x23a083=path_1[_0x548891(0x1dd)][_0x548891(0x1f2)](this[_0x548891(0x1f7)],_0x397a7f),_0x338043=new Git(_0x23a083);return Git['logger'][_0x548891(0x212)]('clone\x20repository\x20branch\x20%s\x20from\x20%s\x20to\x20%s',_0x150124,_0x4a6793,_0x23a083),await fs_internal_1['FS'][_0x548891(0x1cb)](_0x23a083),await shell_internal_1[_0x548891(0x1d1)][_0x548891(0x1ea)](_0x548891(0x20b)+_0x150124+'\x20--single-branch\x20'+_0x4a6793+'\x20'+_0x23a083),_0x338043;}static async[a85_0x5c12f5(0x200)](_0x284998){const _0x466139=a85_0x5c12f5,_0x567fd0=/(?:([a-f0-9]+)\s+((?:HEAD|refs\/heads\/).*))/,{gitCredentials:_0x39ee29}=typedi_1['default'][_0x466139(0x215)](auth_settings_service_1[_0x466139(0x1da)]),_0x28aeba=_0x284998['gitUrl'][_0x466139(0x211)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x466139(0x1e1)](_0x284998[_0x466139(0x1e2)])+'://'+_0x39ee29+'@'),_0x413249=await shell_internal_1['Shell']['exec'](_0x466139(0x1fa)+_0x28aeba),_0x3ef062=_0x413249[_0x466139(0x1ce)]('\x0a')[_0x466139(0x1e8)](_0x5d4a23=>_0x567fd0[_0x466139(0x1c5)](_0x5d4a23))[_0x466139(0x1f3)](_0x3f7e2f=>{const _0x2c304d=_0x466139,[,_0x239aba,_0x5b0fc8]=_0x3f7e2f[_0x2c304d(0x210)](_0x567fd0),_0xe2ce17=new branch_dto_1[(_0x2c304d(0x1ed))]();return _0xe2ce17[_0x2c304d(0x1fb)]=_0x239aba,_0xe2ce17['name']=_0x5b0fc8[_0x2c304d(0x211)](_0x2c304d(0x1fe),''),_0xe2ce17;});return _0x3ef062;}static async[a85_0x5c12f5(0x1e5)](_0x1f8ad9,_0x206f44,_0x27a5e1=a85_0x5c12f5(0x1df)){const _0x26dc65=a85_0x5c12f5,{gitCredentials:_0x2c9402}=typedi_1[_0x26dc65(0x1dd)]['get'](auth_settings_service_1[_0x26dc65(0x1da)]),_0x31e095=_0x1f8ad9['gitUrl'][_0x26dc65(0x211)](/http(s)?\:\/\/(.+@)?/,utils_1[_0x26dc65(0x1e1)](_0x1f8ad9['gitUrl'])+_0x26dc65(0x1e9)+_0x2c9402+'@'),_0xd8795=path_1[_0x26dc65(0x1dd)][_0x26dc65(0x1f2)](this[_0x26dc65(0x1f7)],_0x1f8ad9['name']);Git['logger'][_0x26dc65(0x212)]('create\x20empty\x20branch\x20at\x20%s\x20name\x20%s\x20[%s]\x20%s',_0x1f8ad9[_0x26dc65(0x1ff)],_0x206f44,_0xd8795,_0x31e095),await fs_internal_1['FS'][_0x26dc65(0x1cb)](_0xd8795),await fs_internal_1['FS'][_0x26dc65(0x1c7)](_0xd8795);const _0x53b7de=new Git(_0xd8795);await shell_internal_1[_0x26dc65(0x1d1)][_0x26dc65(0x1ea)](_0x26dc65(0x1c6)+_0x53b7de['baseDir']+_0x26dc65(0x1d6)),await shell_internal_1[_0x26dc65(0x1d1)]['exec'](_0x26dc65(0x1c6)+_0x53b7de[_0x26dc65(0x1f1)]+'\x20&&\x20git\x20remote\x20add\x20origin\x20'+_0x31e095),await _0x53b7de[_0x26dc65(0x20a)](constants_1[_0x26dc65(0x1fd)],constants_1['DEFAULT_GIT_USER_EMAIL']),await shell_internal_1[_0x26dc65(0x1d1)][_0x26dc65(0x1ea)](_0x26dc65(0x1c6)+_0x53b7de[_0x26dc65(0x1f1)]+_0x26dc65(0x204)+_0x206f44),await shell_internal_1[_0x26dc65(0x1d1)][_0x26dc65(0x1ea)](_0x26dc65(0x1c6)+_0x53b7de[_0x26dc65(0x1f1)]+_0x26dc65(0x20c)+_0x27a5e1+_0x26dc65(0x1d3)),await _0x53b7de['push'](_0x206f44),Git['logger']['log']('clean\x20up\x20repository\x20directory\x20after\x20creating\x20branch'),await fs_internal_1['FS'][_0x26dc65(0x1cb)](_0x53b7de[_0x26dc65(0x1f1)]);}}exports[a85_0x5c12f5(0x1e6)]=Git,Git[a85_0x5c12f5(0x1f7)]=path_1['default'][a85_0x5c12f5(0x1f2)](process[a85_0x5c12f5(0x1f9)](),a85_0x5c12f5(0x1fc),a85_0x5c12f5(0x20d)),Git[a85_0x5c12f5(0x1c8)]=new core_1['Logger'](Git[a85_0x5c12f5(0x1ff)]);