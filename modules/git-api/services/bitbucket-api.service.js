const a70_0x3e1cce=a70_0x228c;(function(_0x1b4672,_0x1e5bb0){const _0x4c6220=a70_0x228c,_0x2a8547=_0x1b4672();while(!![]){try{const _0x3aadc8=-parseInt(_0x4c6220(0x1cd))/0x1*(parseInt(_0x4c6220(0x1ec))/0x2)+parseInt(_0x4c6220(0x1b7))/0x3*(parseInt(_0x4c6220(0x1b5))/0x4)+-parseInt(_0x4c6220(0x1e5))/0x5*(-parseInt(_0x4c6220(0x1e2))/0x6)+-parseInt(_0x4c6220(0x1df))/0x7+parseInt(_0x4c6220(0x1b2))/0x8*(-parseInt(_0x4c6220(0x1ce))/0x9)+-parseInt(_0x4c6220(0x1b3))/0xa*(parseInt(_0x4c6220(0x1d2))/0xb)+parseInt(_0x4c6220(0x1c3))/0xc;if(_0x3aadc8===_0x1e5bb0)break;else _0x2a8547['push'](_0x2a8547['shift']());}catch(_0x12eaf4){_0x2a8547['push'](_0x2a8547['shift']());}}}(a70_0x2b2e,0xabe5e));const a70_0x2dad8d=(function(){let _0x4d7c59=!![];return function(_0x474373,_0x55b97b){const _0x283f85=_0x4d7c59?function(){const _0xa611c2=a70_0x228c;if(_0x55b97b){const _0x3cbe2d=_0x55b97b[_0xa611c2(0x1b4)](_0x474373,arguments);return _0x55b97b=null,_0x3cbe2d;}}:function(){};return _0x4d7c59=![],_0x283f85;};}()),a70_0x486f02=a70_0x2dad8d(this,function(){const _0x574035=a70_0x228c;return a70_0x486f02[_0x574035(0x1ba)]()[_0x574035(0x1d0)]('(((.+)+)+)+$')[_0x574035(0x1ba)]()[_0x574035(0x1cc)](a70_0x486f02)[_0x574035(0x1d0)]('(((.+)+)+)+$');});a70_0x486f02();'use strict';var __decorate=this&&this[a70_0x3e1cce(0x1cb)]||function(_0x423e25,_0x50b349,_0xb09892,_0x302cd2){const _0x2fe883=a70_0x3e1cce;var _0x2244a4=arguments[_0x2fe883(0x1e7)],_0x4fee78=_0x2244a4<0x3?_0x50b349:_0x302cd2===null?_0x302cd2=Object[_0x2fe883(0x1e9)](_0x50b349,_0xb09892):_0x302cd2,_0x2423b4;if(typeof Reflect==='object'&&typeof Reflect[_0x2fe883(0x1e1)]===_0x2fe883(0x1c6))_0x4fee78=Reflect['decorate'](_0x423e25,_0x50b349,_0xb09892,_0x302cd2);else{for(var _0x52308e=_0x423e25[_0x2fe883(0x1e7)]-0x1;_0x52308e>=0x0;_0x52308e--)if(_0x2423b4=_0x423e25[_0x52308e])_0x4fee78=(_0x2244a4<0x3?_0x2423b4(_0x4fee78):_0x2244a4>0x3?_0x2423b4(_0x50b349,_0xb09892,_0x4fee78):_0x2423b4(_0x50b349,_0xb09892))||_0x4fee78;}return _0x2244a4>0x3&&_0x4fee78&&Object[_0x2fe883(0x1c1)](_0x50b349,_0xb09892,_0x4fee78),_0x4fee78;},__metadata=this&&this['__metadata']||function(_0x2f38d1,_0xdd7a53){const _0x5a4085=a70_0x3e1cce;if(typeof Reflect==='object'&&typeof Reflect[_0x5a4085(0x1e6)]===_0x5a4085(0x1c6))return Reflect[_0x5a4085(0x1e6)](_0x2f38d1,_0xdd7a53);},__param=this&&this[a70_0x3e1cce(0x1bb)]||function(_0x5aa45d,_0x168b30){return function(_0x534341,_0x2bec4e){_0x168b30(_0x534341,_0x2bec4e,_0x5aa45d);};},__importDefault=this&&this[a70_0x3e1cce(0x1db)]||function(_0x310701){const _0x4e144a=a70_0x3e1cce;return _0x310701&&_0x310701[_0x4e144a(0x1c2)]?_0x310701:{'default':_0x310701};};Object['defineProperty'](exports,a70_0x3e1cce(0x1c2),{'value':!![]}),exports[a70_0x3e1cce(0x1ca)]=void 0x0;const constants_1=require(a70_0x3e1cce(0x1d3)),app_settings_service_1=require(a70_0x3e1cce(0x1dd)),auth_settings_service_1=require(a70_0x3e1cce(0x1bd)),axios_1=__importDefault(require(a70_0x3e1cce(0x1cf))),typedi_1=require(a70_0x3e1cce(0x1bc)),git_api_service_1=require(a70_0x3e1cce(0x1ae));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x4a6584,_0x397e69){const _0x4a8072=a70_0x3e1cce;super(_0x4a6584),this[_0x4a8072(0x1d8)]=_0x397e69,this[_0x4a8072(0x1d6)]=-0x1,this[_0x4a8072(0x1c0)]=0x3e8,this[_0x4a8072(0x1da)]=this['createRequest']();}get[a70_0x3e1cce(0x1d1)](){const _0x2bfe73=a70_0x3e1cce;return this[_0x2bfe73(0x1da)];}[a70_0x3e1cce(0x1be)](_0x355ee9){const _0x343354=a70_0x3e1cce,_0x22293d=super[_0x343354(0x1be)](_0x355ee9);return _0x22293d[_0x343354(0x1b1)]['request'][_0x343354(0x1c9)](async _0x2767c8=>{const _0x2739ed=_0x343354;return await this['checkAccessToken'](),_0x2767c8['headers'][_0x2739ed(0x1ed)]=_0x2739ed(0x1b8)+this[_0x2739ed(0x1ad)],_0x2767c8;}),_0x22293d;}async[a70_0x3e1cce(0x1ac)](){const _0x115890=a70_0x3e1cce;if(this['accessToken']&&Date[_0x115890(0x1eb)]()<this[_0x115890(0x1d6)])return;await this[_0x115890(0x1d7)]();}async['refreshToken'](){const _0x26c432=a70_0x3e1cce,{clientToken:_0x327351}=this[_0x26c432(0x1d8)][_0x26c432(0x1b9)],_0x340e49=await axios_1[_0x26c432(0x1e3)][_0x26c432(0x1d9)](constants_1[_0x26c432(0x1c4)][_0x26c432(0x1b6)](_0x26c432(0x1d4),_0x327351),_0x26c432(0x1af))[_0x26c432(0x1bf)](_0x2fc326=>_0x2fc326[_0x26c432(0x1c5)]),{expires_in:_0x393629,access_token:_0x143a74}=_0x340e49;this[_0x26c432(0x1d8)][_0x26c432(0x1c8)]({'bitbucket':{...this[_0x26c432(0x1d8)][_0x26c432(0x1b9)],'token':_0x143a74}}),this['accessTokenExpiresAt']=Date[_0x26c432(0x1eb)]()+_0x393629*0x3e8,this['accessToken']=_0x143a74;}[a70_0x3e1cce(0x1e0)](){return{};}[a70_0x3e1cce(0x1c7)](){const _0x5879d3=a70_0x3e1cce;return this[_0x5879d3(0x1da)]['get'](_0x5879d3(0x1ea));}['getAccessToken'](){const _0x359c5d=a70_0x3e1cce;return this[_0x359c5d(0x1ad)];}async[a70_0x3e1cce(0x1d5)](){const _0x2fff3f=a70_0x3e1cce;return await this[_0x2fff3f(0x1c7)](),!![];}};function a70_0x228c(_0x1642b6,_0x3a23af){const _0x46eaca=a70_0x2b2e();return a70_0x228c=function(_0x486f02,_0x2dad8d){_0x486f02=_0x486f02-0x1ac;let _0x2b2ef0=_0x46eaca[_0x486f02];return _0x2b2ef0;},a70_0x228c(_0x1642b6,_0x3a23af);}BitbucketApiService=__decorate([typedi_1[a70_0x3e1cce(0x1b0)](),__param(0x0,typedi_1[a70_0x3e1cce(0x1e4)]()),__metadata(a70_0x3e1cce(0x1e8),[app_settings_service_1[a70_0x3e1cce(0x1de)],auth_settings_service_1[a70_0x3e1cce(0x1dc)]])],BitbucketApiService),exports[a70_0x3e1cce(0x1ca)]=BitbucketApiService;function a70_0x2b2e(){const _0x2a8a64=['createRequest','then','MAX_REQUEST_PER_HOUR','defineProperty','__esModule','29618676Gxrsiu','BITBUCKET_REFRESH_TOKEN_URL','data','function','getCurrentUser','update','use','BitbucketApiService','__decorate','constructor','1069VnGhBH','549EKiZOJ','axios','search','apiRequest','215402LDkXsR','../../../constants','%clientToken%','isLoggedIn','accessTokenExpiresAt','refreshToken','authSettings','post','request','__importDefault','AuthSettingsService','../../shared/services/app-settings.service','AppSettingsService','7617127lYUbuJ','getHeaders','decorate','7005822idIQSQ','default','Inject','5SNeDqm','metadata','length','design:paramtypes','getOwnPropertyDescriptor','user','now','1154dcXTZs','Authorization','checkAccessToken','accessToken','./git-api.service','grant_type=client_credentials','Service','interceptors','29320xaXahZ','710CYknaX','apply','4hHQrzb','replace','1161285Sdpwry','Bearer\x20','bitbucket','toString','__param','typedi','../../shared/services/auth-settings.service'];a70_0x2b2e=function(){return _0x2a8a64;};return a70_0x2b2e();}