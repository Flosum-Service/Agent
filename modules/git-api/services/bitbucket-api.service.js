const a70_0x31b1e7=a70_0x91c6;(function(_0x347323,_0x420748){const _0x457dc4=a70_0x91c6,_0xb2ec98=_0x347323();while(!![]){try{const _0x29d7b3=parseInt(_0x457dc4(0xfb))/0x1*(-parseInt(_0x457dc4(0xfc))/0x2)+-parseInt(_0x457dc4(0xf6))/0x3*(parseInt(_0x457dc4(0x105))/0x4)+parseInt(_0x457dc4(0x116))/0x5+parseInt(_0x457dc4(0x118))/0x6*(-parseInt(_0x457dc4(0x12b))/0x7)+parseInt(_0x457dc4(0x100))/0x8+parseInt(_0x457dc4(0xf4))/0x9+parseInt(_0x457dc4(0x123))/0xa*(parseInt(_0x457dc4(0x114))/0xb);if(_0x29d7b3===_0x420748)break;else _0xb2ec98['push'](_0xb2ec98['shift']());}catch(_0x3bf2b6){_0xb2ec98['push'](_0xb2ec98['shift']());}}}(a70_0x472a,0xd26ba));const a70_0x3eccac=(function(){let _0x56c58f=!![];return function(_0x3b60b2,_0x3d9ae8){const _0x12f77c=_0x56c58f?function(){const _0x3a141d=a70_0x91c6;if(_0x3d9ae8){const _0x55382b=_0x3d9ae8[_0x3a141d(0x12a)](_0x3b60b2,arguments);return _0x3d9ae8=null,_0x55382b;}}:function(){};return _0x56c58f=![],_0x12f77c;};}()),a70_0x56ac31=a70_0x3eccac(this,function(){const _0x10e079=a70_0x91c6;return a70_0x56ac31[_0x10e079(0x117)]()['search'](_0x10e079(0xf9))['toString']()[_0x10e079(0xfd)](a70_0x56ac31)['search'](_0x10e079(0xf9));});a70_0x56ac31();function a70_0x91c6(_0x5a2775,_0x1ed4d4){const _0x155007=a70_0x472a();return a70_0x91c6=function(_0x56ac31,_0x3eccac){_0x56ac31=_0x56ac31-0xf2;let _0x472a83=_0x155007[_0x56ac31];return _0x472a83;},a70_0x91c6(_0x5a2775,_0x1ed4d4);}'use strict';var __decorate=this&&this[a70_0x31b1e7(0xfa)]||function(_0x5a410a,_0x2b286a,_0x177532,_0x568094){const _0x4a4e8f=a70_0x31b1e7;var _0x364960=arguments[_0x4a4e8f(0xf2)],_0x1da176=_0x364960<0x3?_0x2b286a:_0x568094===null?_0x568094=Object[_0x4a4e8f(0x126)](_0x2b286a,_0x177532):_0x568094,_0x3d856c;if(typeof Reflect==='object'&&typeof Reflect[_0x4a4e8f(0x11c)]===_0x4a4e8f(0x10f))_0x1da176=Reflect[_0x4a4e8f(0x11c)](_0x5a410a,_0x2b286a,_0x177532,_0x568094);else{for(var _0x3ce50d=_0x5a410a[_0x4a4e8f(0xf2)]-0x1;_0x3ce50d>=0x0;_0x3ce50d--)if(_0x3d856c=_0x5a410a[_0x3ce50d])_0x1da176=(_0x364960<0x3?_0x3d856c(_0x1da176):_0x364960>0x3?_0x3d856c(_0x2b286a,_0x177532,_0x1da176):_0x3d856c(_0x2b286a,_0x177532))||_0x1da176;}return _0x364960>0x3&&_0x1da176&&Object[_0x4a4e8f(0x101)](_0x2b286a,_0x177532,_0x1da176),_0x1da176;},__metadata=this&&this[a70_0x31b1e7(0xf8)]||function(_0x392bcc,_0x57ce2d){const _0x4db53e=a70_0x31b1e7;if(typeof Reflect===_0x4db53e(0x121)&&typeof Reflect[_0x4db53e(0x106)]==='function')return Reflect['metadata'](_0x392bcc,_0x57ce2d);},__param=this&&this['__param']||function(_0x5d556d,_0x56ea7d){return function(_0x4745c2,_0x30c8b6){_0x56ea7d(_0x4745c2,_0x30c8b6,_0x5d556d);};},__importDefault=this&&this[a70_0x31b1e7(0x124)]||function(_0x2bafe6){const _0x12014b=a70_0x31b1e7;return _0x2bafe6&&_0x2bafe6[_0x12014b(0x11e)]?_0x2bafe6:{'default':_0x2bafe6};};Object[a70_0x31b1e7(0x101)](exports,a70_0x31b1e7(0x11e),{'value':!![]}),exports[a70_0x31b1e7(0x10e)]=void 0x0;const constants_1=require(a70_0x31b1e7(0x122)),app_settings_service_1=require(a70_0x31b1e7(0x112)),auth_settings_service_1=require('../../shared/services/auth-settings.service'),axios_1=__importDefault(require('axios')),typedi_1=require(a70_0x31b1e7(0xf7)),git_api_service_1=require(a70_0x31b1e7(0x109));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x3ae6e9,_0x60837f){const _0x8fe4d7=a70_0x31b1e7;super(_0x3ae6e9),this[_0x8fe4d7(0x127)]=_0x60837f,this[_0x8fe4d7(0x119)]=-0x1,this[_0x8fe4d7(0x11a)]=0x3e8,this[_0x8fe4d7(0x128)]=this[_0x8fe4d7(0x113)]();}get['apiRequest'](){const _0x24091b=a70_0x31b1e7;return this[_0x24091b(0x128)];}[a70_0x31b1e7(0x113)](_0x4a8548){const _0x58ce2e=a70_0x31b1e7,_0x2d40c8=super[_0x58ce2e(0x113)](_0x4a8548);return _0x2d40c8[_0x58ce2e(0xfe)][_0x58ce2e(0x128)]['use'](async _0x5f52e1=>{const _0x3fd259=_0x58ce2e;return await this[_0x3fd259(0x115)](),_0x5f52e1['headers'][_0x3fd259(0x11f)]='Bearer\x20'+this[_0x3fd259(0x107)],_0x5f52e1;}),_0x2d40c8;}async[a70_0x31b1e7(0x115)](){const _0xb0d442=a70_0x31b1e7;if(this[_0xb0d442(0x107)]&&Date[_0xb0d442(0xff)]()<this[_0xb0d442(0x119)])return;await this['refreshToken']();}async[a70_0x31b1e7(0x111)](){const _0x4bcd63=a70_0x31b1e7,{clientToken:_0x5e3f8e}=this[_0x4bcd63(0x127)][_0x4bcd63(0x10c)],_0x82b635=await axios_1[_0x4bcd63(0x103)][_0x4bcd63(0xf5)](constants_1[_0x4bcd63(0x125)][_0x4bcd63(0x129)](_0x4bcd63(0x104),_0x5e3f8e),_0x4bcd63(0x10b))[_0x4bcd63(0x120)](_0xc2acde=>_0xc2acde[_0x4bcd63(0x10d)]),{expires_in:_0x563d0a,access_token:_0x1cebf8}=_0x82b635;this['authSettings'][_0x4bcd63(0x11d)]({'bitbucket':{...this['authSettings'][_0x4bcd63(0x10c)],'token':_0x1cebf8}}),this[_0x4bcd63(0x119)]=Date[_0x4bcd63(0xff)]()+_0x563d0a*0x3e8,this[_0x4bcd63(0x107)]=_0x1cebf8;}['getHeaders'](){return{};}['getCurrentUser'](){const _0x724374=a70_0x31b1e7;return this[_0x724374(0x128)][_0x724374(0xf3)]('user');}[a70_0x31b1e7(0x102)](){const _0x211b26=a70_0x31b1e7;return this[_0x211b26(0x107)];}async['isLoggedIn'](){const _0x404a38=a70_0x31b1e7;return await this[_0x404a38(0x110)](),!![];}};BitbucketApiService=__decorate([typedi_1[a70_0x31b1e7(0x11b)](),__param(0x0,typedi_1[a70_0x31b1e7(0x10a)]()),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a70_0x31b1e7(0x108)]])],BitbucketApiService),exports[a70_0x31b1e7(0x10e)]=BitbucketApiService;function a70_0x472a(){const _0x41f055=['length','get','2080710EiWHeD','post','4090629DmALgd','typedi','__metadata','(((.+)+)+)+$','__decorate','148cahHcA','14038bSqLxp','constructor','interceptors','now','11737440GScQME','defineProperty','getAccessToken','default','%clientToken%','4JYCKxu','metadata','accessToken','AuthSettingsService','./git-api.service','Inject','grant_type=client_credentials','bitbucket','data','BitbucketApiService','function','getCurrentUser','refreshToken','../../shared/services/app-settings.service','createRequest','176wCFyJD','checkAccessToken','4202115NFLkuO','toString','2472sRfRJC','accessTokenExpiresAt','MAX_REQUEST_PER_HOUR','Service','decorate','update','__esModule','Authorization','then','object','../../../constants','990290TApKEJ','__importDefault','BITBUCKET_REFRESH_TOKEN_URL','getOwnPropertyDescriptor','authSettings','request','replace','apply','14595wrxUab'];a70_0x472a=function(){return _0x41f055;};return a70_0x472a();}