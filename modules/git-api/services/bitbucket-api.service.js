const a70_0x389e68=a70_0x1d6f;(function(_0xbfe0,_0x258e41){const _0x2ad2e3=a70_0x1d6f,_0x4fb512=_0xbfe0();while(!![]){try{const _0x1744d9=-parseInt(_0x2ad2e3(0x1c5))/0x1*(-parseInt(_0x2ad2e3(0x19d))/0x2)+parseInt(_0x2ad2e3(0x1b5))/0x3+parseInt(_0x2ad2e3(0x19f))/0x4+parseInt(_0x2ad2e3(0x197))/0x5+parseInt(_0x2ad2e3(0x1b7))/0x6+parseInt(_0x2ad2e3(0x1b9))/0x7+-parseInt(_0x2ad2e3(0x1a0))/0x8;if(_0x1744d9===_0x258e41)break;else _0x4fb512['push'](_0x4fb512['shift']());}catch(_0x1376f9){_0x4fb512['push'](_0x4fb512['shift']());}}}(a70_0x7da6,0x57569));const a70_0x307066=(function(){let _0x5574da=!![];return function(_0xde207c,_0xf2e729){const _0x40794a=_0x5574da?function(){const _0x1ba328=a70_0x1d6f;if(_0xf2e729){const _0x412851=_0xf2e729[_0x1ba328(0x1b8)](_0xde207c,arguments);return _0xf2e729=null,_0x412851;}}:function(){};return _0x5574da=![],_0x40794a;};}()),a70_0x5ecc1b=a70_0x307066(this,function(){const _0x3a125f=a70_0x1d6f;return a70_0x5ecc1b[_0x3a125f(0x1bb)]()[_0x3a125f(0x195)](_0x3a125f(0x198))['toString']()[_0x3a125f(0x190)](a70_0x5ecc1b)[_0x3a125f(0x195)]('(((.+)+)+)+$');});a70_0x5ecc1b();'use strict';var __decorate=this&&this[a70_0x389e68(0x1a5)]||function(_0x4aadaa,_0xefd166,_0x44a340,_0x490e59){const _0x1db614=a70_0x389e68;var _0x1c7fe1=arguments[_0x1db614(0x19b)],_0x578a50=_0x1c7fe1<0x3?_0xefd166:_0x490e59===null?_0x490e59=Object[_0x1db614(0x1b1)](_0xefd166,_0x44a340):_0x490e59,_0x39bf88;if(typeof Reflect===_0x1db614(0x1bf)&&typeof Reflect[_0x1db614(0x19a)]===_0x1db614(0x1be))_0x578a50=Reflect[_0x1db614(0x19a)](_0x4aadaa,_0xefd166,_0x44a340,_0x490e59);else{for(var _0x56b4a5=_0x4aadaa[_0x1db614(0x19b)]-0x1;_0x56b4a5>=0x0;_0x56b4a5--)if(_0x39bf88=_0x4aadaa[_0x56b4a5])_0x578a50=(_0x1c7fe1<0x3?_0x39bf88(_0x578a50):_0x1c7fe1>0x3?_0x39bf88(_0xefd166,_0x44a340,_0x578a50):_0x39bf88(_0xefd166,_0x44a340))||_0x578a50;}return _0x1c7fe1>0x3&&_0x578a50&&Object['defineProperty'](_0xefd166,_0x44a340,_0x578a50),_0x578a50;},__metadata=this&&this[a70_0x389e68(0x1b4)]||function(_0x4b6d6b,_0x2fc113){const _0x1d43b9=a70_0x389e68;if(typeof Reflect===_0x1d43b9(0x1bf)&&typeof Reflect[_0x1d43b9(0x1b0)]===_0x1d43b9(0x1be))return Reflect[_0x1d43b9(0x1b0)](_0x4b6d6b,_0x2fc113);},__param=this&&this[a70_0x389e68(0x1c6)]||function(_0x29dd3c,_0x4bf2e0){return function(_0x1f7e90,_0x2a3c36){_0x4bf2e0(_0x1f7e90,_0x2a3c36,_0x29dd3c);};},__importDefault=this&&this[a70_0x389e68(0x1a6)]||function(_0x21072e){const _0x2a4b0c=a70_0x389e68;return _0x21072e&&_0x21072e[_0x2a4b0c(0x1a1)]?_0x21072e:{'default':_0x21072e};};Object[a70_0x389e68(0x1a2)](exports,a70_0x389e68(0x1a1),{'value':!![]}),exports[a70_0x389e68(0x1a8)]=void 0x0;const constants_1=require(a70_0x389e68(0x19e)),app_settings_service_1=require(a70_0x389e68(0x193)),auth_settings_service_1=require(a70_0x389e68(0x1c0)),axios_1=__importDefault(require(a70_0x389e68(0x1c1))),typedi_1=require(a70_0x389e68(0x1ab)),git_api_service_1=require(a70_0x389e68(0x1a4));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x403a15,_0x5b3bb5){const _0x1b8bb5=a70_0x389e68;super(_0x403a15),this[_0x1b8bb5(0x1aa)]=_0x5b3bb5,this['accessTokenExpiresAt']=-0x1,this['MAX_REQUEST_PER_HOUR']=0x3e8,this[_0x1b8bb5(0x1a7)]=this['createRequest']();}get[a70_0x389e68(0x1c7)](){const _0xc25180=a70_0x389e68;return this[_0xc25180(0x1a7)];}[a70_0x389e68(0x1ac)](_0x2c988d){const _0x517ab2=a70_0x389e68,_0x4223c0=super[_0x517ab2(0x1ac)](_0x2c988d);return _0x4223c0['interceptors']['request'][_0x517ab2(0x199)](async _0x158639=>{const _0x40fef7=_0x517ab2;return await this[_0x40fef7(0x1c3)](),_0x158639['headers'][_0x40fef7(0x191)]=_0x40fef7(0x1c2)+this[_0x40fef7(0x1ae)],_0x158639;}),_0x4223c0;}async[a70_0x389e68(0x1c3)](){const _0x1b318a=a70_0x389e68;if(this['accessToken']&&Date['now']()<this[_0x1b318a(0x1ba)])return;await this[_0x1b318a(0x1af)]();}async[a70_0x389e68(0x1af)](){const _0xa77a2a=a70_0x389e68,{clientToken:_0x34ecd8}=this[_0xa77a2a(0x1aa)]['bitbucket'],_0x5a0546=await axios_1['default'][_0xa77a2a(0x194)](constants_1[_0xa77a2a(0x1a9)]['replace']('%clientToken%',_0x34ecd8),'grant_type=client_credentials')[_0xa77a2a(0x19c)](_0x2fff4b=>_0x2fff4b[_0xa77a2a(0x1b3)]),{expires_in:_0x1eb5f8,access_token:_0x3c3ee1}=_0x5a0546;this[_0xa77a2a(0x1aa)][_0xa77a2a(0x1b2)]({'bitbucket':{...this[_0xa77a2a(0x1aa)]['bitbucket'],'token':_0x3c3ee1}}),this[_0xa77a2a(0x1ba)]=Date['now']()+_0x1eb5f8*0x3e8,this[_0xa77a2a(0x1ae)]=_0x3c3ee1;}[a70_0x389e68(0x1b6)](){return{};}[a70_0x389e68(0x1a3)](){const _0x1a2964=a70_0x389e68;return this[_0x1a2964(0x1a7)][_0x1a2964(0x1ad)]('user');}[a70_0x389e68(0x192)](){const _0x5537d8=a70_0x389e68;return this[_0x5537d8(0x1ae)];}async[a70_0x389e68(0x1c4)](){const _0x522cc9=a70_0x389e68;return await this[_0x522cc9(0x1a3)](),!![];}};function a70_0x1d6f(_0x2c800e,_0x4f3d66){const _0x8eff50=a70_0x7da6();return a70_0x1d6f=function(_0x5ecc1b,_0x307066){_0x5ecc1b=_0x5ecc1b-0x190;let _0x7da6fe=_0x8eff50[_0x5ecc1b];return _0x7da6fe;},a70_0x1d6f(_0x2c800e,_0x4f3d66);}BitbucketApiService=__decorate([typedi_1[a70_0x389e68(0x1bd)](),__param(0x0,typedi_1['Inject']()),__metadata(a70_0x389e68(0x1bc),[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a70_0x389e68(0x196)]])],BitbucketApiService),exports[a70_0x389e68(0x1a8)]=BitbucketApiService;function a70_0x7da6(){const _0x14b5a7=['__importDefault','request','BitbucketApiService','BITBUCKET_REFRESH_TOKEN_URL','authSettings','typedi','createRequest','get','accessToken','refreshToken','metadata','getOwnPropertyDescriptor','update','data','__metadata','1163373wmoghh','getHeaders','2255826RDbsmy','apply','3749522wUKcqv','accessTokenExpiresAt','toString','design:paramtypes','Service','function','object','../../shared/services/auth-settings.service','axios','Bearer\x20','checkAccessToken','isLoggedIn','529862pExACG','__param','apiRequest','constructor','Authorization','getAccessToken','../../shared/services/app-settings.service','post','search','AuthSettingsService','3263235OljrEI','(((.+)+)+)+$','use','decorate','length','then','2qUWutN','../../../constants','1047512TMtflr','19088464mmWKeJ','__esModule','defineProperty','getCurrentUser','./git-api.service','__decorate'];a70_0x7da6=function(){return _0x14b5a7;};return a70_0x7da6();}