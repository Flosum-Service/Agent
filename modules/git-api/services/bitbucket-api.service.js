function a70_0x5518(){const _0x24ff1f=['getCurrentUser','typedi','object','4451061cqyrYy','interceptors','__esModule','then','update','AuthSettingsService','__importDefault','Service','default','search','./git-api.service','MAX_REQUEST_PER_HOUR','../../shared/services/app-settings.service','toString','authSettings','Authorization','now','getAccessToken','Inject','../../../constants','45fSwTdq','headers','accessToken','createRequest','isLoggedIn','decorate','request','2675822yYvyon','(((.+)+)+)+$','length','grant_type=client_credentials','4SosBPv','BITBUCKET_REFRESH_TOKEN_URL','__decorate','user','../../shared/services/auth-settings.service','checkAccessToken','data','function','10537407rdHxYT','%clientToken%','BitbucketApiService','use','defineProperty','metadata','accessTokenExpiresAt','axios','getOwnPropertyDescriptor','10607056cGwrXr','apiRequest','7375802saSThp','getHeaders','post','888777zZYxNs','AppSettingsService','451476DZXAUJ','__param','refreshToken'];a70_0x5518=function(){return _0x24ff1f;};return a70_0x5518();}const a70_0xc39a7e=a70_0x2399;(function(_0x2c410a,_0x117243){const _0x48233e=a70_0x2399,_0x3357ef=_0x2c410a();while(!![]){try{const _0x22b094=parseInt(_0x48233e(0xbb))/0x1+-parseInt(_0x48233e(0xde))/0x2+parseInt(_0x48233e(0xc3))/0x3*(-parseInt(_0x48233e(0xe2))/0x4)+-parseInt(_0x48233e(0xd7))/0x5*(parseInt(_0x48233e(0xbd))/0x6)+parseInt(_0x48233e(0xb8))/0x7+parseInt(_0x48233e(0xb6))/0x8+parseInt(_0x48233e(0xea))/0x9;if(_0x22b094===_0x117243)break;else _0x3357ef['push'](_0x3357ef['shift']());}catch(_0x55f2eb){_0x3357ef['push'](_0x3357ef['shift']());}}}(a70_0x5518,0xe5944));const a70_0x40cb4a=(function(){let _0x3e2a5a=!![];return function(_0x3f1794,_0xf3b981){const _0x591772=_0x3e2a5a?function(){if(_0xf3b981){const _0x5b3109=_0xf3b981['apply'](_0x3f1794,arguments);return _0xf3b981=null,_0x5b3109;}}:function(){};return _0x3e2a5a=![],_0x591772;};}()),a70_0x7de1ce=a70_0x40cb4a(this,function(){const _0x194c67=a70_0x2399;return a70_0x7de1ce[_0x194c67(0xd0)]()[_0x194c67(0xcc)](_0x194c67(0xdf))[_0x194c67(0xd0)]()['constructor'](a70_0x7de1ce)['search'](_0x194c67(0xdf));});a70_0x7de1ce();'use strict';var __decorate=this&&this[a70_0xc39a7e(0xe4)]||function(_0x5f555e,_0x3aa808,_0x5b6c32,_0x1486a5){const _0x4452f1=a70_0xc39a7e;var _0x4d20af=arguments[_0x4452f1(0xe0)],_0x59d26d=_0x4d20af<0x3?_0x3aa808:_0x1486a5===null?_0x1486a5=Object[_0x4452f1(0xb5)](_0x3aa808,_0x5b6c32):_0x1486a5,_0x47e278;if(typeof Reflect===_0x4452f1(0xc2)&&typeof Reflect[_0x4452f1(0xdc)]===_0x4452f1(0xe9))_0x59d26d=Reflect[_0x4452f1(0xdc)](_0x5f555e,_0x3aa808,_0x5b6c32,_0x1486a5);else{for(var _0x5739cb=_0x5f555e['length']-0x1;_0x5739cb>=0x0;_0x5739cb--)if(_0x47e278=_0x5f555e[_0x5739cb])_0x59d26d=(_0x4d20af<0x3?_0x47e278(_0x59d26d):_0x4d20af>0x3?_0x47e278(_0x3aa808,_0x5b6c32,_0x59d26d):_0x47e278(_0x3aa808,_0x5b6c32))||_0x59d26d;}return _0x4d20af>0x3&&_0x59d26d&&Object['defineProperty'](_0x3aa808,_0x5b6c32,_0x59d26d),_0x59d26d;},__metadata=this&&this['__metadata']||function(_0x4acd71,_0x5f12f8){const _0x4e76c1=a70_0xc39a7e;if(typeof Reflect===_0x4e76c1(0xc2)&&typeof Reflect['metadata']===_0x4e76c1(0xe9))return Reflect[_0x4e76c1(0xb2)](_0x4acd71,_0x5f12f8);},__param=this&&this[a70_0xc39a7e(0xbe)]||function(_0x1aa342,_0x1ada4b){return function(_0x35163b,_0x246ddc){_0x1ada4b(_0x35163b,_0x246ddc,_0x1aa342);};},__importDefault=this&&this[a70_0xc39a7e(0xc9)]||function(_0x34d0fd){return _0x34d0fd&&_0x34d0fd['__esModule']?_0x34d0fd:{'default':_0x34d0fd};};Object[a70_0xc39a7e(0xb1)](exports,a70_0xc39a7e(0xc5),{'value':!![]}),exports[a70_0xc39a7e(0xec)]=void 0x0;function a70_0x2399(_0x53c9bc,_0x596217){const _0x4a7685=a70_0x5518();return a70_0x2399=function(_0x7de1ce,_0x40cb4a){_0x7de1ce=_0x7de1ce-0xb0;let _0x5518cd=_0x4a7685[_0x7de1ce];return _0x5518cd;},a70_0x2399(_0x53c9bc,_0x596217);}const constants_1=require(a70_0xc39a7e(0xd6)),app_settings_service_1=require(a70_0xc39a7e(0xcf)),auth_settings_service_1=require(a70_0xc39a7e(0xe6)),axios_1=__importDefault(require(a70_0xc39a7e(0xb4))),typedi_1=require(a70_0xc39a7e(0xc1)),git_api_service_1=require(a70_0xc39a7e(0xcd));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x12fbe2,_0x10c69d){const _0x43ab91=a70_0xc39a7e;super(_0x12fbe2),this[_0x43ab91(0xd1)]=_0x10c69d,this[_0x43ab91(0xb3)]=-0x1,this[_0x43ab91(0xce)]=0x3e8,this['request']=this['createRequest']();}get[a70_0xc39a7e(0xb7)](){return this['request'];}[a70_0xc39a7e(0xda)](_0x5263b9){const _0x412939=a70_0xc39a7e,_0x17816c=super['createRequest'](_0x5263b9);return _0x17816c[_0x412939(0xc4)]['request'][_0x412939(0xb0)](async _0x274d51=>{const _0x18e2b6=_0x412939;return await this[_0x18e2b6(0xe7)](),_0x274d51[_0x18e2b6(0xd8)][_0x18e2b6(0xd2)]='Bearer\x20'+this['accessToken'],_0x274d51;}),_0x17816c;}async['checkAccessToken'](){const _0xfdcf80=a70_0xc39a7e;if(this[_0xfdcf80(0xd9)]&&Date['now']()<this[_0xfdcf80(0xb3)])return;await this[_0xfdcf80(0xbf)]();}async['refreshToken'](){const _0x5e4b89=a70_0xc39a7e,{clientToken:_0x19f5c0}=this[_0x5e4b89(0xd1)]['bitbucket'],_0x256b60=await axios_1[_0x5e4b89(0xcb)][_0x5e4b89(0xba)](constants_1[_0x5e4b89(0xe3)]['replace'](_0x5e4b89(0xeb),_0x19f5c0),_0x5e4b89(0xe1))[_0x5e4b89(0xc6)](_0x19cdaf=>_0x19cdaf[_0x5e4b89(0xe8)]),{expires_in:_0x175564,access_token:_0x573cef}=_0x256b60;this['authSettings'][_0x5e4b89(0xc7)]({'bitbucket':{...this[_0x5e4b89(0xd1)]['bitbucket'],'token':_0x573cef}}),this[_0x5e4b89(0xb3)]=Date[_0x5e4b89(0xd3)]()+_0x175564*0x3e8,this[_0x5e4b89(0xd9)]=_0x573cef;}[a70_0xc39a7e(0xb9)](){return{};}[a70_0xc39a7e(0xc0)](){const _0x4371bf=a70_0xc39a7e;return this[_0x4371bf(0xdd)]['get'](_0x4371bf(0xe5));}[a70_0xc39a7e(0xd4)](){const _0x4458f6=a70_0xc39a7e;return this[_0x4458f6(0xd9)];}async[a70_0xc39a7e(0xdb)](){const _0x8ad940=a70_0xc39a7e;return await this[_0x8ad940(0xc0)](),!![];}};BitbucketApiService=__decorate([typedi_1[a70_0xc39a7e(0xca)](),__param(0x0,typedi_1[a70_0xc39a7e(0xd5)]()),__metadata('design:paramtypes',[app_settings_service_1[a70_0xc39a7e(0xbc)],auth_settings_service_1[a70_0xc39a7e(0xc8)]])],BitbucketApiService),exports[a70_0xc39a7e(0xec)]=BitbucketApiService;