function a70_0x2fed(){const _0x3e004e=['function','__decorate','__esModule','refreshToken','update','AuthSettingsService','2251670nRvaus','createRequest','object','default','7878TtbOpO','Inject','11478Rbxifo','user','isLoggedIn','typedi','9wdJBLa','(((.+)+)+)+$','Authorization','headers','defineProperty','__param','apiRequest','MAX_REQUEST_PER_HOUR','search','__importDefault','17951410NHQFoJ','interceptors','constructor','length','then','3420000PdyMUO','BITBUCKET_REFRESH_TOKEN_URL','decorate','toString','authSettings','getOwnPropertyDescriptor','4235328OjVJYH','grant_type=client_credentials','bitbucket','BitbucketApiService','get','Service','apply','73ZHvaJZ','replace','getHeaders','accessTokenExpiresAt','axios','checkAccessToken','2261pTgvFl','metadata','accessToken','getAccessToken','5711152ZqSPpv','now','../../shared/services/auth-settings.service','use','getCurrentUser','request','post'];a70_0x2fed=function(){return _0x3e004e;};return a70_0x2fed();}const a70_0x573772=a70_0x2769;(function(_0x14c5ed,_0x5aef71){const _0x14369c=a70_0x2769,_0x1d2c13=_0x14c5ed();while(!![]){try{const _0x2b6d42=parseInt(_0x14369c(0x20f))/0x1*(-parseInt(_0x14369c(0x22c))/0x2)+parseInt(_0x14369c(0x202))/0x3+parseInt(_0x14369c(0x208))/0x4+parseInt(_0x14369c(0x226))/0x5+-parseInt(_0x14369c(0x22a))/0x6*(parseInt(_0x14369c(0x215))/0x7)+parseInt(_0x14369c(0x219))/0x8+-parseInt(_0x14369c(0x230))/0x9*(parseInt(_0x14369c(0x1fd))/0xa);if(_0x2b6d42===_0x5aef71)break;else _0x1d2c13['push'](_0x1d2c13['shift']());}catch(_0x1f921e){_0x1d2c13['push'](_0x1d2c13['shift']());}}}(a70_0x2fed,0xb0f89));const a70_0x11b363=(function(){let _0x3ee923=!![];return function(_0x18bf30,_0x18ae66){const _0xd80b73=_0x3ee923?function(){const _0x397dd9=a70_0x2769;if(_0x18ae66){const _0x3c0005=_0x18ae66[_0x397dd9(0x20e)](_0x18bf30,arguments);return _0x18ae66=null,_0x3c0005;}}:function(){};return _0x3ee923=![],_0xd80b73;};}()),a70_0x19a27e=a70_0x11b363(this,function(){const _0x1269ef=a70_0x2769;return a70_0x19a27e[_0x1269ef(0x205)]()[_0x1269ef(0x1fb)](_0x1269ef(0x1f4))[_0x1269ef(0x205)]()[_0x1269ef(0x1ff)](a70_0x19a27e)[_0x1269ef(0x1fb)]('(((.+)+)+)+$');});function a70_0x2769(_0x44b77a,_0x28d540){const _0x247a87=a70_0x2fed();return a70_0x2769=function(_0x19a27e,_0x11b363){_0x19a27e=_0x19a27e-0x1f4;let _0x2fedc3=_0x247a87[_0x19a27e];return _0x2fedc3;},a70_0x2769(_0x44b77a,_0x28d540);}a70_0x19a27e();'use strict';var __decorate=this&&this[a70_0x573772(0x221)]||function(_0x2b5b92,_0x1ce9f9,_0x3a3303,_0x14ebc6){const _0x5e69b0=a70_0x573772;var _0x6bdb48=arguments[_0x5e69b0(0x200)],_0x265a69=_0x6bdb48<0x3?_0x1ce9f9:_0x14ebc6===null?_0x14ebc6=Object[_0x5e69b0(0x207)](_0x1ce9f9,_0x3a3303):_0x14ebc6,_0x366fee;if(typeof Reflect===_0x5e69b0(0x228)&&typeof Reflect[_0x5e69b0(0x204)]===_0x5e69b0(0x220))_0x265a69=Reflect[_0x5e69b0(0x204)](_0x2b5b92,_0x1ce9f9,_0x3a3303,_0x14ebc6);else{for(var _0x4f7928=_0x2b5b92[_0x5e69b0(0x200)]-0x1;_0x4f7928>=0x0;_0x4f7928--)if(_0x366fee=_0x2b5b92[_0x4f7928])_0x265a69=(_0x6bdb48<0x3?_0x366fee(_0x265a69):_0x6bdb48>0x3?_0x366fee(_0x1ce9f9,_0x3a3303,_0x265a69):_0x366fee(_0x1ce9f9,_0x3a3303))||_0x265a69;}return _0x6bdb48>0x3&&_0x265a69&&Object[_0x5e69b0(0x1f7)](_0x1ce9f9,_0x3a3303,_0x265a69),_0x265a69;},__metadata=this&&this['__metadata']||function(_0x55664a,_0x1b665e){const _0x103df6=a70_0x573772;if(typeof Reflect===_0x103df6(0x228)&&typeof Reflect['metadata']===_0x103df6(0x220))return Reflect[_0x103df6(0x216)](_0x55664a,_0x1b665e);},__param=this&&this[a70_0x573772(0x1f8)]||function(_0x51dbd4,_0x54cc5c){return function(_0x5a4d20,_0x4c6d5c){_0x54cc5c(_0x5a4d20,_0x4c6d5c,_0x51dbd4);};},__importDefault=this&&this[a70_0x573772(0x1fc)]||function(_0x39083a){const _0x4f6bed=a70_0x573772;return _0x39083a&&_0x39083a[_0x4f6bed(0x222)]?_0x39083a:{'default':_0x39083a};};Object[a70_0x573772(0x1f7)](exports,a70_0x573772(0x222),{'value':!![]}),exports[a70_0x573772(0x20b)]=void 0x0;const constants_1=require('../../../constants'),app_settings_service_1=require('../../shared/services/app-settings.service'),auth_settings_service_1=require(a70_0x573772(0x21b)),axios_1=__importDefault(require(a70_0x573772(0x213))),typedi_1=require(a70_0x573772(0x22f)),git_api_service_1=require('./git-api.service');let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x2cf270,_0x1de687){const _0x25ac80=a70_0x573772;super(_0x2cf270),this[_0x25ac80(0x206)]=_0x1de687,this[_0x25ac80(0x212)]=-0x1,this[_0x25ac80(0x1fa)]=0x3e8,this[_0x25ac80(0x21e)]=this[_0x25ac80(0x227)]();}get[a70_0x573772(0x1f9)](){const _0x5b5184=a70_0x573772;return this[_0x5b5184(0x21e)];}[a70_0x573772(0x227)](_0x380e4e){const _0x13a15d=a70_0x573772,_0x4470bc=super['createRequest'](_0x380e4e);return _0x4470bc[_0x13a15d(0x1fe)][_0x13a15d(0x21e)][_0x13a15d(0x21c)](async _0x25a448=>{const _0x131303=_0x13a15d;return await this[_0x131303(0x214)](),_0x25a448[_0x131303(0x1f6)][_0x131303(0x1f5)]='Bearer\x20'+this[_0x131303(0x217)],_0x25a448;}),_0x4470bc;}async[a70_0x573772(0x214)](){const _0x3a52ec=a70_0x573772;if(this['accessToken']&&Date[_0x3a52ec(0x21a)]()<this['accessTokenExpiresAt'])return;await this[_0x3a52ec(0x223)]();}async[a70_0x573772(0x223)](){const _0xf4082a=a70_0x573772,{clientToken:_0x4397ab}=this[_0xf4082a(0x206)][_0xf4082a(0x20a)],_0x1fbcf9=await axios_1[_0xf4082a(0x229)][_0xf4082a(0x21f)](constants_1[_0xf4082a(0x203)][_0xf4082a(0x210)]('%clientToken%',_0x4397ab),_0xf4082a(0x209))[_0xf4082a(0x201)](_0x1a48d8=>_0x1a48d8['data']),{expires_in:_0x3a142e,access_token:_0x3ebf1e}=_0x1fbcf9;this[_0xf4082a(0x206)][_0xf4082a(0x224)]({'bitbucket':{...this[_0xf4082a(0x206)]['bitbucket'],'token':_0x3ebf1e}}),this[_0xf4082a(0x212)]=Date['now']()+_0x3a142e*0x3e8,this[_0xf4082a(0x217)]=_0x3ebf1e;}[a70_0x573772(0x211)](){return{};}['getCurrentUser'](){const _0x53c7a4=a70_0x573772;return this['request'][_0x53c7a4(0x20c)](_0x53c7a4(0x22d));}[a70_0x573772(0x218)](){const _0x244220=a70_0x573772;return this[_0x244220(0x217)];}async[a70_0x573772(0x22e)](){const _0x2cc656=a70_0x573772;return await this[_0x2cc656(0x21d)](),!![];}};BitbucketApiService=__decorate([typedi_1[a70_0x573772(0x20d)](),__param(0x0,typedi_1[a70_0x573772(0x22b)]()),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService'],auth_settings_service_1[a70_0x573772(0x225)]])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;