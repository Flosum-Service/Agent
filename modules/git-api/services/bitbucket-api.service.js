const a69_0x5db7a6=a69_0x62ee;(function(_0x89c75e,_0x1ff35b){const _0x6d892a=a69_0x62ee,_0x324a30=_0x89c75e();while(!![]){try{const _0x19f112=-parseInt(_0x6d892a(0x9e))/0x1+-parseInt(_0x6d892a(0x92))/0x2*(-parseInt(_0x6d892a(0x7d))/0x3)+-parseInt(_0x6d892a(0x7f))/0x4+-parseInt(_0x6d892a(0xb5))/0x5+parseInt(_0x6d892a(0x93))/0x6*(parseInt(_0x6d892a(0x9f))/0x7)+-parseInt(_0x6d892a(0x81))/0x8+parseInt(_0x6d892a(0xb6))/0x9;if(_0x19f112===_0x1ff35b)break;else _0x324a30['push'](_0x324a30['shift']());}catch(_0x7b5047){_0x324a30['push'](_0x324a30['shift']());}}}(a69_0x3f5d,0xe8ed8));const a69_0x1afca3=(function(){let _0x984497=!![];return function(_0x1ae2fd,_0x264544){const _0x150644=_0x984497?function(){const _0x4e0c75=a69_0x62ee;if(_0x264544){const _0xf1f832=_0x264544[_0x4e0c75(0xb2)](_0x1ae2fd,arguments);return _0x264544=null,_0xf1f832;}}:function(){};return _0x984497=![],_0x150644;};}()),a69_0x36c357=a69_0x1afca3(this,function(){const _0x1ab34b=a69_0x62ee;return a69_0x36c357[_0x1ab34b(0x99)]()[_0x1ab34b(0x8d)](_0x1ab34b(0xb1))['toString']()['constructor'](a69_0x36c357)['search'](_0x1ab34b(0xb1));});function a69_0x62ee(_0x55231e,_0x3538ed){const _0x5e4025=a69_0x3f5d();return a69_0x62ee=function(_0x36c357,_0x1afca3){_0x36c357=_0x36c357-0x7c;let _0x3f5d72=_0x5e4025[_0x36c357];return _0x3f5d72;},a69_0x62ee(_0x55231e,_0x3538ed);}function a69_0x3f5d(){const _0x1a08a0=['createRequest','7505260ngHmPB','function','10840584VUzuIQ','../../../constants','object','update','authSettings','axios','__param','getHeaders','BITBUCKET_REFRESH_TOKEN_URL','GitApiService','post','request','search','headers','metadata','__esModule','accessToken','1256oRuyHL','12vxHwZm','bitbucket','refreshToken','interceptors','./git-api.service','getCurrentUser','toString','replace','defineProperty','now','user','119557KagkGp','5318173YaMmbc','getOwnPropertyDescriptor','__metadata','../../shared/services/auth-settings.service','AppSettingsService','design:paramtypes','checkAccessToken','use','accessTokenExpiresAt','typedi','isLoggedIn','apiRequest','MAX_REQUEST_PER_HOUR','decorate','Service','Authorization','BitbucketApiService','data','(((.+)+)+)+$','apply','Inject','Bearer\x20','4719555AafPQa','19734606lWLKkr','grant_type=client_credentials','7341OWNOVy'];a69_0x3f5d=function(){return _0x1a08a0;};return a69_0x3f5d();}a69_0x36c357();'use strict';var __decorate=this&&this['__decorate']||function(_0xfa2712,_0x4ea4ed,_0x52149c,_0x4aa713){const _0x1d3e11=a69_0x62ee;var _0x2778c4=arguments['length'],_0x3e5d10=_0x2778c4<0x3?_0x4ea4ed:_0x4aa713===null?_0x4aa713=Object[_0x1d3e11(0xa0)](_0x4ea4ed,_0x52149c):_0x4aa713,_0x5b6252;if(typeof Reflect===_0x1d3e11(0x83)&&typeof Reflect[_0x1d3e11(0xac)]==='function')_0x3e5d10=Reflect['decorate'](_0xfa2712,_0x4ea4ed,_0x52149c,_0x4aa713);else{for(var _0x1b34e1=_0xfa2712['length']-0x1;_0x1b34e1>=0x0;_0x1b34e1--)if(_0x5b6252=_0xfa2712[_0x1b34e1])_0x3e5d10=(_0x2778c4<0x3?_0x5b6252(_0x3e5d10):_0x2778c4>0x3?_0x5b6252(_0x4ea4ed,_0x52149c,_0x3e5d10):_0x5b6252(_0x4ea4ed,_0x52149c))||_0x3e5d10;}return _0x2778c4>0x3&&_0x3e5d10&&Object[_0x1d3e11(0x9b)](_0x4ea4ed,_0x52149c,_0x3e5d10),_0x3e5d10;},__metadata=this&&this[a69_0x5db7a6(0xa1)]||function(_0x209eaf,_0x32ebee){const _0x27100f=a69_0x5db7a6;if(typeof Reflect===_0x27100f(0x83)&&typeof Reflect[_0x27100f(0x8f)]===_0x27100f(0x80))return Reflect[_0x27100f(0x8f)](_0x209eaf,_0x32ebee);},__param=this&&this[a69_0x5db7a6(0x87)]||function(_0x4bc82a,_0x33d871){return function(_0x1f0682,_0x235265){_0x33d871(_0x1f0682,_0x235265,_0x4bc82a);};},__importDefault=this&&this['__importDefault']||function(_0x9affb4){return _0x9affb4&&_0x9affb4['__esModule']?_0x9affb4:{'default':_0x9affb4};};Object['defineProperty'](exports,a69_0x5db7a6(0x90),{'value':!![]}),exports[a69_0x5db7a6(0xaf)]=void 0x0;const constants_1=require(a69_0x5db7a6(0x82)),app_settings_service_1=require('../../shared/services/app-settings.service'),auth_settings_service_1=require(a69_0x5db7a6(0xa2)),axios_1=__importDefault(require(a69_0x5db7a6(0x86))),typedi_1=require(a69_0x5db7a6(0xa8)),git_api_service_1=require(a69_0x5db7a6(0x97));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a69_0x5db7a6(0x8a)]{constructor(_0x5731d3,_0x54b510){const _0xcfce65=a69_0x5db7a6;super(_0x5731d3),this['authSettings']=_0x54b510,this[_0xcfce65(0xa7)]=-0x1,this[_0xcfce65(0xab)]=0x3e8,this[_0xcfce65(0x8c)]=this[_0xcfce65(0x7e)]();}get[a69_0x5db7a6(0xaa)](){const _0x4fa6db=a69_0x5db7a6;return this[_0x4fa6db(0x8c)];}['createRequest'](_0xd84c50){const _0x55d6d7=a69_0x5db7a6,_0x5c283d=super['createRequest'](_0xd84c50);return _0x5c283d[_0x55d6d7(0x96)][_0x55d6d7(0x8c)][_0x55d6d7(0xa6)](async _0x511e5c=>{const _0x2ce3bb=_0x55d6d7;return await this[_0x2ce3bb(0xa5)](),_0x511e5c[_0x2ce3bb(0x8e)][_0x2ce3bb(0xae)]=_0x2ce3bb(0xb4)+this['accessToken'],_0x511e5c;}),_0x5c283d;}async[a69_0x5db7a6(0xa5)](){const _0x42030f=a69_0x5db7a6;if(this[_0x42030f(0x91)]&&Date[_0x42030f(0x9c)]()<this[_0x42030f(0xa7)])return;await this['refreshToken']();}async[a69_0x5db7a6(0x95)](){const _0x2da2b3=a69_0x5db7a6,{clientToken:_0x3db5ee}=this[_0x2da2b3(0x85)][_0x2da2b3(0x94)],_0x3ccce1=await axios_1['default'][_0x2da2b3(0x8b)](constants_1[_0x2da2b3(0x89)][_0x2da2b3(0x9a)]('%clientToken%',_0x3db5ee),_0x2da2b3(0x7c))['then'](_0x2fa856=>_0x2fa856[_0x2da2b3(0xb0)]),{expires_in:_0x36f5d9,access_token:_0x41874e}=_0x3ccce1;this[_0x2da2b3(0x85)][_0x2da2b3(0x84)]({'bitbucket':{...this[_0x2da2b3(0x85)]['bitbucket'],'token':_0x41874e}}),this[_0x2da2b3(0xa7)]=Date[_0x2da2b3(0x9c)]()+_0x36f5d9*0x3e8,this[_0x2da2b3(0x91)]=_0x41874e;}[a69_0x5db7a6(0x88)](){return{};}['getCurrentUser'](){const _0x4a1801=a69_0x5db7a6;return this['request']['get'](_0x4a1801(0x9d));}['getAccessToken'](){const _0x331667=a69_0x5db7a6;return this[_0x331667(0x91)];}async[a69_0x5db7a6(0xa9)](){const _0x54ef91=a69_0x5db7a6;return await this[_0x54ef91(0x98)](),!![];}};BitbucketApiService=__decorate([typedi_1[a69_0x5db7a6(0xad)](),__param(0x0,typedi_1[a69_0x5db7a6(0xb3)]()),__metadata(a69_0x5db7a6(0xa4),[app_settings_service_1[a69_0x5db7a6(0xa3)],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports['BitbucketApiService']=BitbucketApiService;