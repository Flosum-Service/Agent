function a70_0x39db(_0x3ef151,_0x45e9e3){const _0x25add7=a70_0x58d8();return a70_0x39db=function(_0x29d93f,_0x56e0ca){_0x29d93f=_0x29d93f-0x154;let _0x58d8b2=_0x25add7[_0x29d93f];return _0x58d8b2;},a70_0x39db(_0x3ef151,_0x45e9e3);}const a70_0xe45cbc=a70_0x39db;(function(_0x161feb,_0x2fbb12){const _0x37d2bd=a70_0x39db,_0x22c374=_0x161feb();while(!![]){try{const _0x3a551f=parseInt(_0x37d2bd(0x16e))/0x1*(parseInt(_0x37d2bd(0x178))/0x2)+-parseInt(_0x37d2bd(0x184))/0x3+-parseInt(_0x37d2bd(0x190))/0x4*(-parseInt(_0x37d2bd(0x15c))/0x5)+-parseInt(_0x37d2bd(0x17f))/0x6*(parseInt(_0x37d2bd(0x18c))/0x7)+parseInt(_0x37d2bd(0x183))/0x8*(parseInt(_0x37d2bd(0x163))/0x9)+-parseInt(_0x37d2bd(0x16d))/0xa*(-parseInt(_0x37d2bd(0x173))/0xb)+-parseInt(_0x37d2bd(0x186))/0xc*(parseInt(_0x37d2bd(0x18b))/0xd);if(_0x3a551f===_0x2fbb12)break;else _0x22c374['push'](_0x22c374['shift']());}catch(_0x4e742f){_0x22c374['push'](_0x22c374['shift']());}}}(a70_0x58d8,0x1d7ac));function a70_0x58d8(){const _0x4abf2f=['interceptors','grant_type=client_credentials','MAX_REQUEST_PER_HOUR','accessToken','170322tZrTaY','__decorate','update','../../../constants','length','../../shared/services/app-settings.service','get','726klHLFg','getCurrentUser','getHeaders','search','923104niEKAb','289455WoPEHo','__metadata','12OFBnXt','%clientToken%','getOwnPropertyDescriptor','__importDefault','axios','2220738YdAbjV','3444snOcfw','function','post','object','32XRprWP','BitbucketApiService','__param','GitApiService','__esModule','../../shared/services/auth-settings.service','default','Inject','typedi','defineProperty','accessTokenExpiresAt','58680usMYnR','Authorization','./git-api.service','createRequest','data','request','authSettings','18Xsgnnu','toString','isLoggedIn','getAccessToken','(((.+)+)+)+$','then','use','refreshToken','bitbucket','replace','460WVcinN','1ctNYMJ','constructor','metadata','decorate','now','9031HZTuqK'];a70_0x58d8=function(){return _0x4abf2f;};return a70_0x58d8();}const a70_0x56e0ca=(function(){let _0x18f259=!![];return function(_0x43e713,_0x1217c5){const _0x21425a=_0x18f259?function(){if(_0x1217c5){const _0x22fcf8=_0x1217c5['apply'](_0x43e713,arguments);return _0x1217c5=null,_0x22fcf8;}}:function(){};return _0x18f259=![],_0x21425a;};}()),a70_0x29d93f=a70_0x56e0ca(this,function(){const _0x2ee325=a70_0x39db;return a70_0x29d93f['toString']()['search']('(((.+)+)+)+$')[_0x2ee325(0x164)]()[_0x2ee325(0x16f)](a70_0x29d93f)[_0x2ee325(0x182)](_0x2ee325(0x167));});a70_0x29d93f();'use strict';var __decorate=this&&this[a70_0xe45cbc(0x179)]||function(_0x2dd47e,_0x19bf58,_0xf3572,_0x1c487a){const _0x56c6c2=a70_0xe45cbc;var _0x398e7e=arguments[_0x56c6c2(0x17c)],_0x265b41=_0x398e7e<0x3?_0x19bf58:_0x1c487a===null?_0x1c487a=Object[_0x56c6c2(0x188)](_0x19bf58,_0xf3572):_0x1c487a,_0x41a83e;if(typeof Reflect===_0x56c6c2(0x18f)&&typeof Reflect[_0x56c6c2(0x171)]===_0x56c6c2(0x18d))_0x265b41=Reflect[_0x56c6c2(0x171)](_0x2dd47e,_0x19bf58,_0xf3572,_0x1c487a);else{for(var _0x5adf56=_0x2dd47e[_0x56c6c2(0x17c)]-0x1;_0x5adf56>=0x0;_0x5adf56--)if(_0x41a83e=_0x2dd47e[_0x5adf56])_0x265b41=(_0x398e7e<0x3?_0x41a83e(_0x265b41):_0x398e7e>0x3?_0x41a83e(_0x19bf58,_0xf3572,_0x265b41):_0x41a83e(_0x19bf58,_0xf3572))||_0x265b41;}return _0x398e7e>0x3&&_0x265b41&&Object[_0x56c6c2(0x15a)](_0x19bf58,_0xf3572,_0x265b41),_0x265b41;},__metadata=this&&this[a70_0xe45cbc(0x185)]||function(_0x5a872f,_0x33af86){const _0x3038d5=a70_0xe45cbc;if(typeof Reflect==='object'&&typeof Reflect[_0x3038d5(0x170)]===_0x3038d5(0x18d))return Reflect['metadata'](_0x5a872f,_0x33af86);},__param=this&&this[a70_0xe45cbc(0x192)]||function(_0x264ff1,_0x5260b9){return function(_0x5db326,_0x305eb9){_0x5260b9(_0x5db326,_0x305eb9,_0x264ff1);};},__importDefault=this&&this[a70_0xe45cbc(0x189)]||function(_0x2bb243){const _0xda17bb=a70_0xe45cbc;return _0x2bb243&&_0x2bb243[_0xda17bb(0x155)]?_0x2bb243:{'default':_0x2bb243};};Object[a70_0xe45cbc(0x15a)](exports,a70_0xe45cbc(0x155),{'value':!![]}),exports[a70_0xe45cbc(0x191)]=void 0x0;const constants_1=require(a70_0xe45cbc(0x17b)),app_settings_service_1=require(a70_0xe45cbc(0x17d)),auth_settings_service_1=require(a70_0xe45cbc(0x156)),axios_1=__importDefault(require(a70_0xe45cbc(0x18a))),typedi_1=require(a70_0xe45cbc(0x159)),git_api_service_1=require(a70_0xe45cbc(0x15e));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a70_0xe45cbc(0x154)]{constructor(_0x5adbf3,_0x26b26c){const _0x44103a=a70_0xe45cbc;super(_0x5adbf3),this[_0x44103a(0x162)]=_0x26b26c,this['accessTokenExpiresAt']=-0x1,this[_0x44103a(0x176)]=0x3e8,this[_0x44103a(0x161)]=this[_0x44103a(0x15f)]();}get['apiRequest'](){const _0x4d28ea=a70_0xe45cbc;return this[_0x4d28ea(0x161)];}['createRequest'](_0x5a4ea6){const _0x2b47d2=a70_0xe45cbc,_0x5f4dd5=super[_0x2b47d2(0x15f)](_0x5a4ea6);return _0x5f4dd5[_0x2b47d2(0x174)][_0x2b47d2(0x161)][_0x2b47d2(0x169)](async _0x453ef5=>{const _0x383583=_0x2b47d2;return await this['checkAccessToken'](),_0x453ef5['headers'][_0x383583(0x15d)]='Bearer\x20'+this[_0x383583(0x177)],_0x453ef5;}),_0x5f4dd5;}async['checkAccessToken'](){const _0x285fd8=a70_0xe45cbc;if(this['accessToken']&&Date[_0x285fd8(0x172)]()<this[_0x285fd8(0x15b)])return;await this[_0x285fd8(0x16a)]();}async[a70_0xe45cbc(0x16a)](){const _0x3edc98=a70_0xe45cbc,{clientToken:_0x377cb4}=this[_0x3edc98(0x162)][_0x3edc98(0x16b)],_0x34aa92=await axios_1[_0x3edc98(0x157)][_0x3edc98(0x18e)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0x3edc98(0x16c)](_0x3edc98(0x187),_0x377cb4),_0x3edc98(0x175))[_0x3edc98(0x168)](_0x4da67d=>_0x4da67d[_0x3edc98(0x160)]),{expires_in:_0x2446c9,access_token:_0x2d1b30}=_0x34aa92;this[_0x3edc98(0x162)][_0x3edc98(0x17a)]({'bitbucket':{...this[_0x3edc98(0x162)][_0x3edc98(0x16b)],'token':_0x2d1b30}}),this['accessTokenExpiresAt']=Date['now']()+_0x2446c9*0x3e8,this[_0x3edc98(0x177)]=_0x2d1b30;}[a70_0xe45cbc(0x181)](){return{};}[a70_0xe45cbc(0x180)](){const _0x51a378=a70_0xe45cbc;return this['request'][_0x51a378(0x17e)]('user');}[a70_0xe45cbc(0x166)](){return this['accessToken'];}async[a70_0xe45cbc(0x165)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([typedi_1['Service'](),__param(0x0,typedi_1[a70_0xe45cbc(0x158)]()),__metadata('design:paramtypes',[app_settings_service_1['AppSettingsService'],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports[a70_0xe45cbc(0x191)]=BitbucketApiService;