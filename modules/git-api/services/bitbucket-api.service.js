function a70_0x1174(_0x3907d1,_0x30affe){const _0x221f59=a70_0x6128();return a70_0x1174=function(_0x3b46de,_0x573e01){_0x3b46de=_0x3b46de-0x1a4;let _0x612839=_0x221f59[_0x3b46de];return _0x612839;},a70_0x1174(_0x3907d1,_0x30affe);}const a70_0x48c3fe=a70_0x1174;(function(_0x450c3d,_0x3f3060){const _0x564f42=a70_0x1174,_0x2652da=_0x450c3d();while(!![]){try{const _0x3b9c6a=-parseInt(_0x564f42(0x1e1))/0x1+parseInt(_0x564f42(0x1ab))/0x2*(parseInt(_0x564f42(0x1d8))/0x3)+-parseInt(_0x564f42(0x1de))/0x4+parseInt(_0x564f42(0x1cd))/0x5+-parseInt(_0x564f42(0x1a5))/0x6+-parseInt(_0x564f42(0x1ca))/0x7*(parseInt(_0x564f42(0x1b3))/0x8)+parseInt(_0x564f42(0x1a6))/0x9;if(_0x3b9c6a===_0x3f3060)break;else _0x2652da['push'](_0x2652da['shift']());}catch(_0x54e731){_0x2652da['push'](_0x2652da['shift']());}}}(a70_0x6128,0xd14d5));const a70_0x573e01=(function(){let _0x281ac1=!![];return function(_0x319c7d,_0x48f7c6){const _0x27b00d=_0x281ac1?function(){const _0x51ab63=a70_0x1174;if(_0x48f7c6){const _0x5052ab=_0x48f7c6[_0x51ab63(0x1c0)](_0x319c7d,arguments);return _0x48f7c6=null,_0x5052ab;}}:function(){};return _0x281ac1=![],_0x27b00d;};}()),a70_0x3b46de=a70_0x573e01(this,function(){const _0x913737=a70_0x1174;return a70_0x3b46de[_0x913737(0x1df)]()[_0x913737(0x1bc)](_0x913737(0x1a4))[_0x913737(0x1df)]()[_0x913737(0x1da)](a70_0x3b46de)[_0x913737(0x1bc)](_0x913737(0x1a4));});a70_0x3b46de();function a70_0x6128(){const _0x611294=['947059Hsaojt','(((.+)+)+)+$','4066806YsAkvy','26055261TxJIBQ','decorate','bitbucket','authSettings','Bearer\x20','1237376odilwF','Inject','object','use','%clientToken%','metadata','Authorization','post','56BuOwAm','getCurrentUser','apiRequest','../../../constants','GitApiService','function','checkAccessToken','__metadata','accessToken','search','__esModule','../../shared/services/app-settings.service','Service','apply','isLoggedIn','refreshToken','interceptors','typedi','length','axios','request','createRequest','defineProperty','1208431NTMrWg','./git-api.service','get','2418010KOhvum','MAX_REQUEST_PER_HOUR','__importDefault','getOwnPropertyDescriptor','user','AuthSettingsService','getAccessToken','data','__decorate','accessTokenExpiresAt','getHeaders','6uCswkF','AppSettingsService','constructor','../../shared/services/auth-settings.service','BitbucketApiService','default','3701660GZCFUq','toString','replace'];a70_0x6128=function(){return _0x611294;};return a70_0x6128();}'use strict';var __decorate=this&&this[a70_0x48c3fe(0x1d5)]||function(_0x3a1889,_0x4f1c81,_0x2e9d31,_0x28e1c5){const _0x352ba5=a70_0x48c3fe;var _0x199da6=arguments['length'],_0x345898=_0x199da6<0x3?_0x4f1c81:_0x28e1c5===null?_0x28e1c5=Object[_0x352ba5(0x1d0)](_0x4f1c81,_0x2e9d31):_0x28e1c5,_0x104342;if(typeof Reflect===_0x352ba5(0x1ad)&&typeof Reflect['decorate']===_0x352ba5(0x1b8))_0x345898=Reflect[_0x352ba5(0x1a7)](_0x3a1889,_0x4f1c81,_0x2e9d31,_0x28e1c5);else{for(var _0x37b9e6=_0x3a1889[_0x352ba5(0x1c5)]-0x1;_0x37b9e6>=0x0;_0x37b9e6--)if(_0x104342=_0x3a1889[_0x37b9e6])_0x345898=(_0x199da6<0x3?_0x104342(_0x345898):_0x199da6>0x3?_0x104342(_0x4f1c81,_0x2e9d31,_0x345898):_0x104342(_0x4f1c81,_0x2e9d31))||_0x345898;}return _0x199da6>0x3&&_0x345898&&Object[_0x352ba5(0x1c9)](_0x4f1c81,_0x2e9d31,_0x345898),_0x345898;},__metadata=this&&this[a70_0x48c3fe(0x1ba)]||function(_0x37cd9e,_0x1a2fc8){const _0x224d0f=a70_0x48c3fe;if(typeof Reflect==='object'&&typeof Reflect[_0x224d0f(0x1b0)]==='function')return Reflect['metadata'](_0x37cd9e,_0x1a2fc8);},__param=this&&this['__param']||function(_0x11ffc4,_0x345728){return function(_0x237191,_0x4d5a5b){_0x345728(_0x237191,_0x4d5a5b,_0x11ffc4);};},__importDefault=this&&this[a70_0x48c3fe(0x1cf)]||function(_0x5e68f1){const _0x576fb2=a70_0x48c3fe;return _0x5e68f1&&_0x5e68f1[_0x576fb2(0x1bd)]?_0x5e68f1:{'default':_0x5e68f1};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BitbucketApiService']=void 0x0;const constants_1=require(a70_0x48c3fe(0x1b6)),app_settings_service_1=require(a70_0x48c3fe(0x1be)),auth_settings_service_1=require(a70_0x48c3fe(0x1db)),axios_1=__importDefault(require(a70_0x48c3fe(0x1c6))),typedi_1=require(a70_0x48c3fe(0x1c4)),git_api_service_1=require(a70_0x48c3fe(0x1cb));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a70_0x48c3fe(0x1b7)]{constructor(_0x59bc1f,_0x50e395){const _0x306da0=a70_0x48c3fe;super(_0x59bc1f),this['authSettings']=_0x50e395,this[_0x306da0(0x1d6)]=-0x1,this[_0x306da0(0x1ce)]=0x3e8,this[_0x306da0(0x1c7)]=this[_0x306da0(0x1c8)]();}get[a70_0x48c3fe(0x1b5)](){return this['request'];}['createRequest'](_0x5e1ccc){const _0x1547a4=a70_0x48c3fe,_0x10d182=super[_0x1547a4(0x1c8)](_0x5e1ccc);return _0x10d182[_0x1547a4(0x1c3)][_0x1547a4(0x1c7)][_0x1547a4(0x1ae)](async _0x5b72f0=>{const _0x3dd06f=_0x1547a4;return await this[_0x3dd06f(0x1b9)](),_0x5b72f0['headers'][_0x3dd06f(0x1b1)]=_0x3dd06f(0x1aa)+this[_0x3dd06f(0x1bb)],_0x5b72f0;}),_0x10d182;}async['checkAccessToken'](){const _0x5f1b0a=a70_0x48c3fe;if(this['accessToken']&&Date['now']()<this['accessTokenExpiresAt'])return;await this[_0x5f1b0a(0x1c2)]();}async[a70_0x48c3fe(0x1c2)](){const _0x57ed22=a70_0x48c3fe,{clientToken:_0x52fae2}=this[_0x57ed22(0x1a9)][_0x57ed22(0x1a8)],_0x1970e5=await axios_1[_0x57ed22(0x1dd)][_0x57ed22(0x1b2)](constants_1['BITBUCKET_REFRESH_TOKEN_URL'][_0x57ed22(0x1e0)](_0x57ed22(0x1af),_0x52fae2),'grant_type=client_credentials')['then'](_0x45f367=>_0x45f367[_0x57ed22(0x1d4)]),{expires_in:_0x3bf98b,access_token:_0x53f958}=_0x1970e5;this[_0x57ed22(0x1a9)]['update']({'bitbucket':{...this[_0x57ed22(0x1a9)][_0x57ed22(0x1a8)],'token':_0x53f958}}),this[_0x57ed22(0x1d6)]=Date['now']()+_0x3bf98b*0x3e8,this[_0x57ed22(0x1bb)]=_0x53f958;}[a70_0x48c3fe(0x1d7)](){return{};}[a70_0x48c3fe(0x1b4)](){const _0x1adc32=a70_0x48c3fe;return this[_0x1adc32(0x1c7)][_0x1adc32(0x1cc)](_0x1adc32(0x1d1));}[a70_0x48c3fe(0x1d3)](){const _0xa4d38f=a70_0x48c3fe;return this[_0xa4d38f(0x1bb)];}async[a70_0x48c3fe(0x1c1)](){const _0x46f180=a70_0x48c3fe;return await this[_0x46f180(0x1b4)](),!![];}};BitbucketApiService=__decorate([typedi_1[a70_0x48c3fe(0x1bf)](),__param(0x0,typedi_1[a70_0x48c3fe(0x1ac)]()),__metadata('design:paramtypes',[app_settings_service_1[a70_0x48c3fe(0x1d9)],auth_settings_service_1[a70_0x48c3fe(0x1d2)]])],BitbucketApiService),exports[a70_0x48c3fe(0x1dc)]=BitbucketApiService;