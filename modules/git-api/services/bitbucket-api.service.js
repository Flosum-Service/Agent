const a69_0x1644c0=a69_0xebc6;function a69_0xebc6(_0x38b90b,_0x4a061c){const _0x71e3ee=a69_0x46da();return a69_0xebc6=function(_0x2c3e66,_0x3958a5){_0x2c3e66=_0x2c3e66-0x6f;let _0x46da48=_0x71e3ee[_0x2c3e66];return _0x46da48;},a69_0xebc6(_0x38b90b,_0x4a061c);}(function(_0x56d654,_0x509a0a){const _0x1bed2a=a69_0xebc6,_0x238db9=_0x56d654();while(!![]){try{const _0x2b2cdf=-parseInt(_0x1bed2a(0x89))/0x1+parseInt(_0x1bed2a(0x83))/0x2*(-parseInt(_0x1bed2a(0x96))/0x3)+parseInt(_0x1bed2a(0x95))/0x4+-parseInt(_0x1bed2a(0x82))/0x5+parseInt(_0x1bed2a(0x7a))/0x6+parseInt(_0x1bed2a(0x9c))/0x7+-parseInt(_0x1bed2a(0x72))/0x8*(-parseInt(_0x1bed2a(0x6f))/0x9);if(_0x2b2cdf===_0x509a0a)break;else _0x238db9['push'](_0x238db9['shift']());}catch(_0x3c2f5e){_0x238db9['push'](_0x238db9['shift']());}}}(a69_0x46da,0x69b98));const a69_0x3958a5=(function(){let _0x28421b=!![];return function(_0x5f68ad,_0x3dcc52){const _0x25a398=_0x28421b?function(){const _0x5e3b46=a69_0xebc6;if(_0x3dcc52){const _0x520b32=_0x3dcc52[_0x5e3b46(0x77)](_0x5f68ad,arguments);return _0x3dcc52=null,_0x520b32;}}:function(){};return _0x28421b=![],_0x25a398;};}()),a69_0x2c3e66=a69_0x3958a5(this,function(){const _0x3645b0=a69_0xebc6;return a69_0x2c3e66['toString']()[_0x3645b0(0x8a)](_0x3645b0(0x92))[_0x3645b0(0x7d)]()['constructor'](a69_0x2c3e66)[_0x3645b0(0x8a)]('(((.+)+)+)+$');});a69_0x2c3e66();'use strict';var __decorate=this&&this[a69_0x1644c0(0x70)]||function(_0x2a5400,_0x36443a,_0x457a5c,_0x48ed92){const _0x3bfc24=a69_0x1644c0;var _0x3da6f6=arguments['length'],_0x17a409=_0x3da6f6<0x3?_0x36443a:_0x48ed92===null?_0x48ed92=Object[_0x3bfc24(0xa1)](_0x36443a,_0x457a5c):_0x48ed92,_0x5a1cae;if(typeof Reflect===_0x3bfc24(0x76)&&typeof Reflect['decorate']===_0x3bfc24(0x8d))_0x17a409=Reflect['decorate'](_0x2a5400,_0x36443a,_0x457a5c,_0x48ed92);else{for(var _0x350570=_0x2a5400[_0x3bfc24(0x94)]-0x1;_0x350570>=0x0;_0x350570--)if(_0x5a1cae=_0x2a5400[_0x350570])_0x17a409=(_0x3da6f6<0x3?_0x5a1cae(_0x17a409):_0x3da6f6>0x3?_0x5a1cae(_0x36443a,_0x457a5c,_0x17a409):_0x5a1cae(_0x36443a,_0x457a5c))||_0x17a409;}return _0x3da6f6>0x3&&_0x17a409&&Object[_0x3bfc24(0x85)](_0x36443a,_0x457a5c,_0x17a409),_0x17a409;},__metadata=this&&this[a69_0x1644c0(0x98)]||function(_0x3dc7bc,_0x4f3a7b){const _0x354841=a69_0x1644c0;if(typeof Reflect===_0x354841(0x76)&&typeof Reflect['metadata']===_0x354841(0x8d))return Reflect[_0x354841(0x93)](_0x3dc7bc,_0x4f3a7b);},__param=this&&this['__param']||function(_0x5ed0d8,_0x357537){return function(_0x436d1a,_0x283c4f){_0x357537(_0x436d1a,_0x283c4f,_0x5ed0d8);};},__importDefault=this&&this['__importDefault']||function(_0x4d63fa){const _0x27dc21=a69_0x1644c0;return _0x4d63fa&&_0x4d63fa[_0x27dc21(0x9a)]?_0x4d63fa:{'default':_0x4d63fa};};Object[a69_0x1644c0(0x85)](exports,a69_0x1644c0(0x9a),{'value':!![]}),exports[a69_0x1644c0(0x97)]=void 0x0;function a69_0x46da(){const _0x5ee83a=['MAX_REQUEST_PER_HOUR','apiRequest','object','apply','getHeaders','Service','1427466dDklbQ','then','data','toString','createRequest','typedi','request','accessToken','215370rwLUwJ','100RGhfWt','Inject','defineProperty','get','../../shared/services/app-settings.service','use','830771jzcBIv','search','grant_type=client_credentials','isLoggedIn','function','bitbucket','BITBUCKET_REFRESH_TOKEN_URL','checkAccessToken','accessTokenExpiresAt','(((.+)+)+)+$','metadata','length','1047540cUBJPB','38691xRExxM','BitbucketApiService','__metadata','default','__esModule','%clientToken%','1168706ZeaiYY','interceptors','Authorization','update','Bearer\x20','getOwnPropertyDescriptor','./git-api.service','../../shared/services/auth-settings.service','design:paramtypes','now','axios','user','authSettings','608679yRwfQa','__decorate','getCurrentUser','152dTzawz','headers'];a69_0x46da=function(){return _0x5ee83a;};return a69_0x46da();}const constants_1=require('../../../constants'),app_settings_service_1=require(a69_0x1644c0(0x87)),auth_settings_service_1=require(a69_0x1644c0(0xa3)),axios_1=__importDefault(require(a69_0x1644c0(0xa6))),typedi_1=require(a69_0x1644c0(0x7f)),git_api_service_1=require(a69_0x1644c0(0xa2));let BitbucketApiService=class BitbucketApiService extends git_api_service_1['GitApiService']{constructor(_0x4c6cca,_0x52f127){const _0x7ca8f8=a69_0x1644c0;super(_0x4c6cca),this[_0x7ca8f8(0xa8)]=_0x52f127,this[_0x7ca8f8(0x91)]=-0x1,this[_0x7ca8f8(0x74)]=0x3e8,this[_0x7ca8f8(0x80)]=this[_0x7ca8f8(0x7e)]();}get[a69_0x1644c0(0x75)](){const _0x1ca4a6=a69_0x1644c0;return this[_0x1ca4a6(0x80)];}[a69_0x1644c0(0x7e)](_0x4265d3){const _0xf50f0a=a69_0x1644c0,_0x46fb59=super['createRequest'](_0x4265d3);return _0x46fb59[_0xf50f0a(0x9d)]['request'][_0xf50f0a(0x88)](async _0x1176ef=>{const _0x1f8c78=_0xf50f0a;return await this[_0x1f8c78(0x90)](),_0x1176ef[_0x1f8c78(0x73)][_0x1f8c78(0x9e)]=_0x1f8c78(0xa0)+this[_0x1f8c78(0x81)],_0x1176ef;}),_0x46fb59;}async['checkAccessToken'](){const _0x2e05f6=a69_0x1644c0;if(this[_0x2e05f6(0x81)]&&Date[_0x2e05f6(0xa5)]()<this[_0x2e05f6(0x91)])return;await this['refreshToken']();}async['refreshToken'](){const _0x5df9f6=a69_0x1644c0,{clientToken:_0x55bf90}=this[_0x5df9f6(0xa8)][_0x5df9f6(0x8e)],_0x36f1e9=await axios_1[_0x5df9f6(0x99)]['post'](constants_1[_0x5df9f6(0x8f)]['replace'](_0x5df9f6(0x9b),_0x55bf90),_0x5df9f6(0x8b))[_0x5df9f6(0x7b)](_0x7678cc=>_0x7678cc[_0x5df9f6(0x7c)]),{expires_in:_0x4dae5b,access_token:_0x5b247b}=_0x36f1e9;this['authSettings'][_0x5df9f6(0x9f)]({'bitbucket':{...this[_0x5df9f6(0xa8)]['bitbucket'],'token':_0x5b247b}}),this[_0x5df9f6(0x91)]=Date[_0x5df9f6(0xa5)]()+_0x4dae5b*0x3e8,this[_0x5df9f6(0x81)]=_0x5b247b;}[a69_0x1644c0(0x78)](){return{};}[a69_0x1644c0(0x71)](){const _0x598913=a69_0x1644c0;return this[_0x598913(0x80)][_0x598913(0x86)](_0x598913(0xa7));}['getAccessToken'](){const _0x122f8f=a69_0x1644c0;return this[_0x122f8f(0x81)];}async[a69_0x1644c0(0x8c)](){return await this['getCurrentUser'](),!![];}};BitbucketApiService=__decorate([typedi_1[a69_0x1644c0(0x79)](),__param(0x0,typedi_1[a69_0x1644c0(0x84)]()),__metadata(a69_0x1644c0(0xa4),[app_settings_service_1['AppSettingsService'],auth_settings_service_1['AuthSettingsService']])],BitbucketApiService),exports[a69_0x1644c0(0x97)]=BitbucketApiService;