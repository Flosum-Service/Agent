function a69_0xd976(_0x58c289,_0x416f57){const _0x5af39d=a69_0xe3ec();return a69_0xd976=function(_0x5b3497,_0x509ab7){_0x5b3497=_0x5b3497-0x6a;let _0xe3ec0e=_0x5af39d[_0x5b3497];return _0xe3ec0e;},a69_0xd976(_0x58c289,_0x416f57);}const a69_0x598c94=a69_0xd976;(function(_0x32704b,_0x1e60a7){const _0x192ca3=a69_0xd976,_0x4b4ae5=_0x32704b();while(!![]){try{const _0x7ac3b6=parseInt(_0x192ca3(0x80))/0x1+-parseInt(_0x192ca3(0x97))/0x2+parseInt(_0x192ca3(0x88))/0x3*(-parseInt(_0x192ca3(0x89))/0x4)+-parseInt(_0x192ca3(0xa2))/0x5*(parseInt(_0x192ca3(0x7c))/0x6)+-parseInt(_0x192ca3(0xa0))/0x7+-parseInt(_0x192ca3(0x99))/0x8*(-parseInt(_0x192ca3(0x7e))/0x9)+parseInt(_0x192ca3(0x95))/0xa;if(_0x7ac3b6===_0x1e60a7)break;else _0x4b4ae5['push'](_0x4b4ae5['shift']());}catch(_0x175d2e){_0x4b4ae5['push'](_0x4b4ae5['shift']());}}}(a69_0xe3ec,0xb2d5b));const a69_0x509ab7=(function(){let _0x3fe5c8=!![];return function(_0x50b008,_0x339c73){const _0x29ab5c=_0x3fe5c8?function(){const _0x27fee5=a69_0xd976;if(_0x339c73){const _0x375de1=_0x339c73[_0x27fee5(0x6b)](_0x50b008,arguments);return _0x339c73=null,_0x375de1;}}:function(){};return _0x3fe5c8=![],_0x29ab5c;};}()),a69_0x5b3497=a69_0x509ab7(this,function(){const _0x22c62a=a69_0xd976;return a69_0x5b3497[_0x22c62a(0x8a)]()[_0x22c62a(0x8d)]('(((.+)+)+)+$')[_0x22c62a(0x8a)]()[_0x22c62a(0x6d)](a69_0x5b3497)[_0x22c62a(0x8d)]('(((.+)+)+)+$');});a69_0x5b3497();'use strict';var __decorate=this&&this['__decorate']||function(_0xabc662,_0x3c2513,_0x56b644,_0x3a43e3){const _0x45e05f=a69_0xd976;var _0x1b9ec1=arguments[_0x45e05f(0x9d)],_0x57fec1=_0x1b9ec1<0x3?_0x3c2513:_0x3a43e3===null?_0x3a43e3=Object[_0x45e05f(0x8c)](_0x3c2513,_0x56b644):_0x3a43e3,_0xb1cb0a;if(typeof Reflect===_0x45e05f(0x92)&&typeof Reflect[_0x45e05f(0x91)]===_0x45e05f(0x75))_0x57fec1=Reflect['decorate'](_0xabc662,_0x3c2513,_0x56b644,_0x3a43e3);else{for(var _0x32b615=_0xabc662[_0x45e05f(0x9d)]-0x1;_0x32b615>=0x0;_0x32b615--)if(_0xb1cb0a=_0xabc662[_0x32b615])_0x57fec1=(_0x1b9ec1<0x3?_0xb1cb0a(_0x57fec1):_0x1b9ec1>0x3?_0xb1cb0a(_0x3c2513,_0x56b644,_0x57fec1):_0xb1cb0a(_0x3c2513,_0x56b644))||_0x57fec1;}return _0x1b9ec1>0x3&&_0x57fec1&&Object[_0x45e05f(0x78)](_0x3c2513,_0x56b644,_0x57fec1),_0x57fec1;},__metadata=this&&this[a69_0x598c94(0x94)]||function(_0xeded13,_0x4240c2){const _0x81b840=a69_0x598c94;if(typeof Reflect==='object'&&typeof Reflect[_0x81b840(0x90)]===_0x81b840(0x75))return Reflect['metadata'](_0xeded13,_0x4240c2);},__param=this&&this[a69_0x598c94(0x96)]||function(_0x2f43eb,_0x7fdd60){return function(_0x41db0e,_0x580254){_0x7fdd60(_0x41db0e,_0x580254,_0x2f43eb);};},__importDefault=this&&this['__importDefault']||function(_0x2ac804){const _0xc46190=a69_0x598c94;return _0x2ac804&&_0x2ac804[_0xc46190(0x9e)]?_0x2ac804:{'default':_0x2ac804};};Object[a69_0x598c94(0x78)](exports,'__esModule',{'value':!![]}),exports[a69_0x598c94(0x9c)]=void 0x0;function a69_0xe3ec(){const _0x4acbad=['decorate','object','default','__metadata','272930vsibPB','__param','206670IsgGto','authSettings','7750792UnzvPc','AppSettingsService','BITBUCKET_REFRESH_TOKEN_URL','BitbucketApiService','length','__esModule','getCurrentUser','3701208SysXSN','accessTokenExpiresAt','2559185svbJvp','Bearer\x20','post','interceptors','../../shared/services/auth-settings.service','data','createRequest','apply','bitbucket','constructor','getHeaders','GitApiService','request','replace','user','use','then','function','AuthSettingsService','isLoggedIn','defineProperty','design:paramtypes','Authorization','axios','6xUjEqS','refreshToken','9ucGUld','checkAccessToken','904360FGlTdl','MAX_REQUEST_PER_HOUR','../../../constants','now','Service','headers','accessToken','getAccessToken','6567UtsBIr','44QfCDbY','toString','apiRequest','getOwnPropertyDescriptor','search','Inject','typedi','metadata'];a69_0xe3ec=function(){return _0x4acbad;};return a69_0xe3ec();}const constants_1=require(a69_0x598c94(0x82)),app_settings_service_1=require('../../shared/services/app-settings.service'),auth_settings_service_1=require(a69_0x598c94(0xa6)),axios_1=__importDefault(require(a69_0x598c94(0x7b))),typedi_1=require(a69_0x598c94(0x8f)),git_api_service_1=require('./git-api.service');let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a69_0x598c94(0x6f)]{constructor(_0x3f6745,_0x344666){const _0xc1b4df=a69_0x598c94;super(_0x3f6745),this[_0xc1b4df(0x98)]=_0x344666,this['accessTokenExpiresAt']=-0x1,this[_0xc1b4df(0x81)]=0x3e8,this[_0xc1b4df(0x70)]=this['createRequest']();}get[a69_0x598c94(0x8b)](){const _0x3c7f5f=a69_0x598c94;return this[_0x3c7f5f(0x70)];}[a69_0x598c94(0x6a)](_0x38f59c){const _0x4b9149=a69_0x598c94,_0x1417a5=super[_0x4b9149(0x6a)](_0x38f59c);return _0x1417a5[_0x4b9149(0xa5)][_0x4b9149(0x70)][_0x4b9149(0x73)](async _0x3c57ec=>{const _0x257954=_0x4b9149;return await this['checkAccessToken'](),_0x3c57ec[_0x257954(0x85)][_0x257954(0x7a)]=_0x257954(0xa3)+this[_0x257954(0x86)],_0x3c57ec;}),_0x1417a5;}async[a69_0x598c94(0x7f)](){const _0x60b36c=a69_0x598c94;if(this[_0x60b36c(0x86)]&&Date[_0x60b36c(0x83)]()<this[_0x60b36c(0xa1)])return;await this[_0x60b36c(0x7d)]();}async[a69_0x598c94(0x7d)](){const _0x1c8a4c=a69_0x598c94,{clientToken:_0x40f760}=this[_0x1c8a4c(0x98)][_0x1c8a4c(0x6c)],_0x402850=await axios_1[_0x1c8a4c(0x93)][_0x1c8a4c(0xa4)](constants_1[_0x1c8a4c(0x9b)][_0x1c8a4c(0x71)]('%clientToken%',_0x40f760),'grant_type=client_credentials')[_0x1c8a4c(0x74)](_0x63b2e=>_0x63b2e[_0x1c8a4c(0xa7)]),{expires_in:_0x412587,access_token:_0x2cc192}=_0x402850;this[_0x1c8a4c(0x98)]['update']({'bitbucket':{...this[_0x1c8a4c(0x98)]['bitbucket'],'token':_0x2cc192}}),this[_0x1c8a4c(0xa1)]=Date[_0x1c8a4c(0x83)]()+_0x412587*0x3e8,this[_0x1c8a4c(0x86)]=_0x2cc192;}[a69_0x598c94(0x6e)](){return{};}[a69_0x598c94(0x9f)](){const _0x252bb4=a69_0x598c94;return this[_0x252bb4(0x70)]['get'](_0x252bb4(0x72));}[a69_0x598c94(0x87)](){const _0x14aaec=a69_0x598c94;return this[_0x14aaec(0x86)];}async[a69_0x598c94(0x77)](){const _0x442460=a69_0x598c94;return await this[_0x442460(0x9f)](),!![];}};BitbucketApiService=__decorate([typedi_1[a69_0x598c94(0x84)](),__param(0x0,typedi_1[a69_0x598c94(0x8e)]()),__metadata(a69_0x598c94(0x79),[app_settings_service_1[a69_0x598c94(0x9a)],auth_settings_service_1[a69_0x598c94(0x76)]])],BitbucketApiService),exports[a69_0x598c94(0x9c)]=BitbucketApiService;