const a70_0x2c3dde=a70_0x465a;(function(_0x4a87e9,_0x4faf76){const _0x2c0820=a70_0x465a,_0x332d2f=_0x4a87e9();while(!![]){try{const _0x2b7c2e=-parseInt(_0x2c0820(0x14b))/0x1*(-parseInt(_0x2c0820(0x12f))/0x2)+parseInt(_0x2c0820(0x13d))/0x3+parseInt(_0x2c0820(0x154))/0x4+-parseInt(_0x2c0820(0x12e))/0x5+-parseInt(_0x2c0820(0x153))/0x6*(-parseInt(_0x2c0820(0x12b))/0x7)+-parseInt(_0x2c0820(0x147))/0x8+-parseInt(_0x2c0820(0x150))/0x9*(parseInt(_0x2c0820(0x137))/0xa);if(_0x2b7c2e===_0x4faf76)break;else _0x332d2f['push'](_0x332d2f['shift']());}catch(_0x5b9985){_0x332d2f['push'](_0x332d2f['shift']());}}}(a70_0x3420,0xac5f7));function a70_0x3420(){const _0x111cc5=['design:paramtypes','../../../constants','metadata','1701prDuir','MAX_REQUEST_PER_HOUR','use','4031225RRiqEW','1364074iECYUI','request','get','bitbucket','../../shared/services/app-settings.service','default','Authorization','search','40PjXmSv','replace','BITBUCKET_REFRESH_TOKEN_URL','data','Inject','now','2824857njiHwV','AppSettingsService','function','defineProperty','update','isLoggedIn','__metadata','constructor','../../shared/services/auth-settings.service','./git-api.service','8239192IQDpPr','__param','toString','Bearer\x20','2osFiaT','axios','decorate','authSettings','getCurrentUser','1903842bhLsAh','(((.+)+)+)+$','createRequest','8082ibeqRd','3021284eSWhvD','object','post','accessTokenExpiresAt','BitbucketApiService','getAccessToken','typedi','__importDefault','interceptors','getHeaders','getOwnPropertyDescriptor','__decorate','Service','apiRequest','checkAccessToken','refreshToken','length','GitApiService','headers','accessToken','AuthSettingsService','apply','__esModule'];a70_0x3420=function(){return _0x111cc5;};return a70_0x3420();}const a70_0x35256a=(function(){let _0x500e84=!![];return function(_0x59c4bb,_0x39b201){const _0x34052b=_0x500e84?function(){const _0x3c8949=a70_0x465a;if(_0x39b201){const _0x2b0022=_0x39b201[_0x3c8949(0x126)](_0x59c4bb,arguments);return _0x39b201=null,_0x2b0022;}}:function(){};return _0x500e84=![],_0x34052b;};}()),a70_0x356b46=a70_0x35256a(this,function(){const _0x144e8e=a70_0x465a;return a70_0x356b46['toString']()[_0x144e8e(0x136)](_0x144e8e(0x151))[_0x144e8e(0x149)]()[_0x144e8e(0x144)](a70_0x356b46)[_0x144e8e(0x136)](_0x144e8e(0x151));});a70_0x356b46();'use strict';var __decorate=this&&this[a70_0x2c3dde(0x15f)]||function(_0x1e4bb0,_0x29c047,_0x201dfd,_0x59eae1){const _0x4b99d1=a70_0x2c3dde;var _0x1c6959=arguments[_0x4b99d1(0x164)],_0x15e562=_0x1c6959<0x3?_0x29c047:_0x59eae1===null?_0x59eae1=Object[_0x4b99d1(0x15e)](_0x29c047,_0x201dfd):_0x59eae1,_0x4260fd;if(typeof Reflect===_0x4b99d1(0x155)&&typeof Reflect[_0x4b99d1(0x14d)]===_0x4b99d1(0x13f))_0x15e562=Reflect['decorate'](_0x1e4bb0,_0x29c047,_0x201dfd,_0x59eae1);else{for(var _0x298d5e=_0x1e4bb0[_0x4b99d1(0x164)]-0x1;_0x298d5e>=0x0;_0x298d5e--)if(_0x4260fd=_0x1e4bb0[_0x298d5e])_0x15e562=(_0x1c6959<0x3?_0x4260fd(_0x15e562):_0x1c6959>0x3?_0x4260fd(_0x29c047,_0x201dfd,_0x15e562):_0x4260fd(_0x29c047,_0x201dfd))||_0x15e562;}return _0x1c6959>0x3&&_0x15e562&&Object[_0x4b99d1(0x140)](_0x29c047,_0x201dfd,_0x15e562),_0x15e562;},__metadata=this&&this[a70_0x2c3dde(0x143)]||function(_0x43e5a9,_0x462806){const _0x6add35=a70_0x2c3dde;if(typeof Reflect===_0x6add35(0x155)&&typeof Reflect[_0x6add35(0x12a)]===_0x6add35(0x13f))return Reflect[_0x6add35(0x12a)](_0x43e5a9,_0x462806);},__param=this&&this[a70_0x2c3dde(0x148)]||function(_0x4d80f7,_0x3976c4){return function(_0x345d65,_0x1ce2aa){_0x3976c4(_0x345d65,_0x1ce2aa,_0x4d80f7);};},__importDefault=this&&this[a70_0x2c3dde(0x15b)]||function(_0x5ec2d6){const _0x347c2c=a70_0x2c3dde;return _0x5ec2d6&&_0x5ec2d6[_0x347c2c(0x127)]?_0x5ec2d6:{'default':_0x5ec2d6};};function a70_0x465a(_0x28f787,_0x58cdfc){const _0x2685a1=a70_0x3420();return a70_0x465a=function(_0x356b46,_0x35256a){_0x356b46=_0x356b46-0x122;let _0x34202b=_0x2685a1[_0x356b46];return _0x34202b;},a70_0x465a(_0x28f787,_0x58cdfc);}Object['defineProperty'](exports,a70_0x2c3dde(0x127),{'value':!![]}),exports[a70_0x2c3dde(0x158)]=void 0x0;const constants_1=require(a70_0x2c3dde(0x129)),app_settings_service_1=require(a70_0x2c3dde(0x133)),auth_settings_service_1=require(a70_0x2c3dde(0x145)),axios_1=__importDefault(require(a70_0x2c3dde(0x14c))),typedi_1=require(a70_0x2c3dde(0x15a)),git_api_service_1=require(a70_0x2c3dde(0x146));let BitbucketApiService=class BitbucketApiService extends git_api_service_1[a70_0x2c3dde(0x122)]{constructor(_0xfa67c7,_0x13e8ba){const _0x14772f=a70_0x2c3dde;super(_0xfa67c7),this[_0x14772f(0x14e)]=_0x13e8ba,this[_0x14772f(0x157)]=-0x1,this[_0x14772f(0x12c)]=0x3e8,this['request']=this[_0x14772f(0x152)]();}get[a70_0x2c3dde(0x161)](){const _0x45b932=a70_0x2c3dde;return this[_0x45b932(0x130)];}[a70_0x2c3dde(0x152)](_0x25e25f){const _0x2135f6=a70_0x2c3dde,_0x504f1e=super['createRequest'](_0x25e25f);return _0x504f1e[_0x2135f6(0x15c)]['request'][_0x2135f6(0x12d)](async _0x453676=>{const _0x5be97e=_0x2135f6;return await this[_0x5be97e(0x162)](),_0x453676[_0x5be97e(0x123)][_0x5be97e(0x135)]=_0x5be97e(0x14a)+this[_0x5be97e(0x124)],_0x453676;}),_0x504f1e;}async[a70_0x2c3dde(0x162)](){const _0x506848=a70_0x2c3dde;if(this[_0x506848(0x124)]&&Date[_0x506848(0x13c)]()<this[_0x506848(0x157)])return;await this[_0x506848(0x163)]();}async[a70_0x2c3dde(0x163)](){const _0x200af4=a70_0x2c3dde,{clientToken:_0x163926}=this[_0x200af4(0x14e)][_0x200af4(0x132)],_0x206de2=await axios_1[_0x200af4(0x134)][_0x200af4(0x156)](constants_1[_0x200af4(0x139)][_0x200af4(0x138)]('%clientToken%',_0x163926),'grant_type=client_credentials')['then'](_0x3b455a=>_0x3b455a[_0x200af4(0x13a)]),{expires_in:_0x4106a2,access_token:_0x150c75}=_0x206de2;this[_0x200af4(0x14e)][_0x200af4(0x141)]({'bitbucket':{...this[_0x200af4(0x14e)][_0x200af4(0x132)],'token':_0x150c75}}),this['accessTokenExpiresAt']=Date[_0x200af4(0x13c)]()+_0x4106a2*0x3e8,this['accessToken']=_0x150c75;}[a70_0x2c3dde(0x15d)](){return{};}[a70_0x2c3dde(0x14f)](){const _0x532411=a70_0x2c3dde;return this[_0x532411(0x130)][_0x532411(0x131)]('user');}[a70_0x2c3dde(0x159)](){const _0x34876f=a70_0x2c3dde;return this[_0x34876f(0x124)];}async[a70_0x2c3dde(0x142)](){const _0x3da097=a70_0x2c3dde;return await this[_0x3da097(0x14f)](),!![];}};BitbucketApiService=__decorate([typedi_1[a70_0x2c3dde(0x160)](),__param(0x0,typedi_1[a70_0x2c3dde(0x13b)]()),__metadata(a70_0x2c3dde(0x128),[app_settings_service_1[a70_0x2c3dde(0x13e)],auth_settings_service_1[a70_0x2c3dde(0x125)]])],BitbucketApiService),exports[a70_0x2c3dde(0x158)]=BitbucketApiService;