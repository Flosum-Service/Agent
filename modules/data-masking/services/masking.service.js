function a81_0x3d20(_0x5e8a76,_0x1f041d){const _0x2b2f3f=a81_0x522b();return a81_0x3d20=function(_0xa77ef2,_0x2c208f){_0xa77ef2=_0xa77ef2-0xb3;let _0x522b71=_0x2b2f3f[_0xa77ef2];return _0x522b71;},a81_0x3d20(_0x5e8a76,_0x1f041d);}const a81_0x25e2f3=a81_0x3d20;(function(_0x4931ff,_0x51bfdf){const _0x1f9ebf=a81_0x3d20,_0x41911c=_0x4931ff();while(!![]){try{const _0x3170be=-parseInt(_0x1f9ebf(0xc2))/0x1*(-parseInt(_0x1f9ebf(0xff))/0x2)+parseInt(_0x1f9ebf(0xdc))/0x3+parseInt(_0x1f9ebf(0xfa))/0x4+-parseInt(_0x1f9ebf(0xc7))/0x5+-parseInt(_0x1f9ebf(0xbd))/0x6*(-parseInt(_0x1f9ebf(0xda))/0x7)+-parseInt(_0x1f9ebf(0xf1))/0x8*(-parseInt(_0x1f9ebf(0xb6))/0x9)+parseInt(_0x1f9ebf(0xe4))/0xa*(-parseInt(_0x1f9ebf(0xdf))/0xb);if(_0x3170be===_0x51bfdf)break;else _0x41911c['push'](_0x41911c['shift']());}catch(_0x48a613){_0x41911c['push'](_0x41911c['shift']());}}}(a81_0x522b,0x72d56));const a81_0x2c208f=(function(){let _0x506fae=!![];return function(_0x7ca205,_0x27cbb4){const _0x2dbb33=_0x506fae?function(){const _0x3b746c=a81_0x3d20;if(_0x27cbb4){const _0x59d3bf=_0x27cbb4[_0x3b746c(0xd2)](_0x7ca205,arguments);return _0x27cbb4=null,_0x59d3bf;}}:function(){};return _0x506fae=![],_0x2dbb33;};}()),a81_0xa77ef2=a81_0x2c208f(this,function(){const _0x35510c=a81_0x3d20;return a81_0xa77ef2[_0x35510c(0xde)]()[_0x35510c(0xd5)]('(((.+)+)+)+$')['toString']()[_0x35510c(0xf7)](a81_0xa77ef2)[_0x35510c(0xd5)](_0x35510c(0xbf));});a81_0xa77ef2();'use strict';function a81_0x522b(){const _0x34168b=['MANIFEST_FILENAME','__importStar','JOB_PATH','readFile','stringify','../../../constants/job','../job/enums/logger.enums','17336vEXxqk','logErrorStartJob','createMaskingJob','writeFile','writable','status','constructor','Job\x20Id\x20not\x20found.','generateJobId','3737116YwmjbS','../../shared/utils/job.utils','completedDate','FsUtils','dataPath','2SASEGx','__setModuleDefault','__esModule','maskingFolderPath','default','create','makeDir','__createBinding','2043WzhgYf','join','push','runJob','JOB_LOG_STATE_NAME','MaskingService','parse','6JXYQGA','kill','(((.+)+)+)+$','../../../core/errors/not-found.error','FAILED','764971sjSAGz','utf-8','../../../configs/path','setJobError','configurable','4054100YUOamh','sortJobsIds','getJobs','init','defineProperty','\x20not\x20found.','NotFoundError','isExistsPath','csv-parse/sync','@flosum/utils','LoggerJobState','apply','JOB_LOG_DETAILS_NAME','createdDate','search','prototype','getLog','__importDefault','DATA_MASKING_FOLDER_NAME','4520747sxOivn','setJobStatus','477462hCsHje','../job/classes/logger/logger-job-state','toString','66GNWOPP','hasOwnProperty','../constants','catch','../../shared/utils/fs.utils','2858260dWkYEV','getJobsIds','getJobDetails','getJobState','failed','call'];a81_0x522b=function(){return _0x34168b;};return a81_0x522b();}var __createBinding=this&&this[a81_0x25e2f3(0xb5)]||(Object['create']?function(_0x491daf,_0x1446ef,_0x427576,_0x466a0a){const _0x5da81c=a81_0x25e2f3;if(_0x466a0a===undefined)_0x466a0a=_0x427576;var _0xe6e994=Object['getOwnPropertyDescriptor'](_0x1446ef,_0x427576);(!_0xe6e994||('get'in _0xe6e994?!_0x1446ef['__esModule']:_0xe6e994[_0x5da81c(0xf5)]||_0xe6e994[_0x5da81c(0xc6)]))&&(_0xe6e994={'enumerable':!![],'get':function(){return _0x1446ef[_0x427576];}}),Object[_0x5da81c(0xcb)](_0x491daf,_0x466a0a,_0xe6e994);}:function(_0x49a9b8,_0x1cb034,_0x2429b1,_0x10e395){if(_0x10e395===undefined)_0x10e395=_0x2429b1;_0x49a9b8[_0x10e395]=_0x1cb034[_0x2429b1];}),__setModuleDefault=this&&this[a81_0x25e2f3(0x100)]||(Object[a81_0x25e2f3(0xb3)]?function(_0x541bb9,_0x30fe77){const _0x25668d=a81_0x25e2f3;Object['defineProperty'](_0x541bb9,_0x25668d(0x103),{'enumerable':!![],'value':_0x30fe77});}:function(_0x1098e9,_0x3fed07){const _0x1fd183=a81_0x25e2f3;_0x1098e9[_0x1fd183(0x103)]=_0x3fed07;}),__importStar=this&&this[a81_0x25e2f3(0xeb)]||function(_0x2d78e6){const _0x20b824=a81_0x25e2f3;if(_0x2d78e6&&_0x2d78e6['__esModule'])return _0x2d78e6;var _0xe7fb09={};if(_0x2d78e6!=null){for(var _0x5933e4 in _0x2d78e6)if(_0x5933e4!==_0x20b824(0x103)&&Object[_0x20b824(0xd6)][_0x20b824(0xe0)][_0x20b824(0xe9)](_0x2d78e6,_0x5933e4))__createBinding(_0xe7fb09,_0x2d78e6,_0x5933e4);}return __setModuleDefault(_0xe7fb09,_0x2d78e6),_0xe7fb09;},__importDefault=this&&this[a81_0x25e2f3(0xd8)]||function(_0x1bebe2){const _0x1fd084=a81_0x25e2f3;return _0x1bebe2&&_0x1bebe2[_0x1fd084(0x101)]?_0x1bebe2:{'default':_0x1bebe2};};Object[a81_0x25e2f3(0xcb)](exports,a81_0x25e2f3(0x101),{'value':!![]}),exports['MaskingService']=void 0x0;const path_1=__importStar(require('path')),fs_utils_1=require(a81_0x25e2f3(0xe3)),promises_1=require('fs/promises'),logger_job_state_1=require(a81_0x25e2f3(0xdd)),logger_enums_1=require(a81_0x25e2f3(0xf0)),sync_1=require(a81_0x25e2f3(0xcf)),utils_1=require(a81_0x25e2f3(0xd0)),not_found_error_1=require(a81_0x25e2f3(0xc0)),job_1=require(a81_0x25e2f3(0xef)),job_utils_1=__importDefault(require(a81_0x25e2f3(0xfb))),constants_1=require(a81_0x25e2f3(0xe1)),path_2=require(a81_0x25e2f3(0xc4));class MaskingService{static async[a81_0x25e2f3(0xf3)](_0x3aacee){const _0x5cbf54=a81_0x25e2f3,_0x5bdb80=job_utils_1[_0x5cbf54(0x103)][_0x5cbf54(0xf9)](),_0x10affb=(0x0,path_1[_0x5cbf54(0xb7)])(MaskingService[_0x5cbf54(0x102)],_0x5bdb80);await(0x0,fs_utils_1[_0x5cbf54(0xb4)])(_0x10affb),await(0x0,promises_1[_0x5cbf54(0xf4)])(_0x10affb+'/'+job_1[_0x5cbf54(0xea)],JSON[_0x5cbf54(0xee)]({'details':_0x3aacee}));const _0x39170e=await new logger_job_state_1['LoggerJobState'](_0x10affb,_0x5bdb80)[_0x5cbf54(0xca)]([]);await _0x39170e[_0x5cbf54(0xbe)]();const _0x1e219d=path_1[_0x5cbf54(0x103)][_0x5cbf54(0xb7)](__dirname,job_1[_0x5cbf54(0xec)]);return job_utils_1['default'][_0x5cbf54(0xb9)](_0x1e219d,{'jobStorePath':_0x10affb,'jobId':_0x5bdb80})[_0x5cbf54(0xe2)](_0x21130d=>this['logErrorStartJob'](_0x10affb,_0x5bdb80,_0x21130d)),{'jobId':_0x5bdb80};}static async[a81_0x25e2f3(0xc9)](_0x44bbc2,_0x22f3d4){const _0x201530=a81_0x25e2f3,_0xe0e77f=await job_utils_1[_0x201530(0x103)][_0x201530(0xe5)](MaskingService[_0x201530(0x102)]),_0x1bf56f=await job_utils_1[_0x201530(0x103)][_0x201530(0xc8)](MaskingService[_0x201530(0x102)],_0xe0e77f),_0x4be59e=_0x1bf56f['slice'](_0x22f3d4,_0x22f3d4+_0x44bbc2),_0x51d6bc=[];for(const _0x32c98f of _0x4be59e){const _0x18c3bb=await this[_0x201530(0xe7)](_0x32c98f,![]);_0x51d6bc[_0x201530(0xb8)](_0x18c3bb);}return _0x51d6bc;}static async[a81_0x25e2f3(0xe7)](_0x36515c,_0x1a2ff7){const _0x197ba5=a81_0x25e2f3,_0x3956a2=await this['getLog'](_0x36515c,job_1['JOB_LOG_STATE_FILENAME'],constants_1[_0x197ba5(0xba)]),_0x5354bc=JSON[_0x197ba5(0xbc)](_0x3956a2),_0x4362bf={'id':_0x5354bc['id'],'status':_0x5354bc[_0x197ba5(0xf6)],'createdDate':_0x5354bc[_0x197ba5(0xd4)],'completedDate':_0x5354bc[_0x197ba5(0xfc)],'successful':_0x5354bc['successful'],'failed':_0x5354bc[_0x197ba5(0xe8)]};return _0x1a2ff7?_0x5354bc:_0x4362bf;}static async[a81_0x25e2f3(0xe6)](_0x3c02cd){const _0x4f3c63=a81_0x25e2f3,_0x203ccf=await this[_0x4f3c63(0xd7)](_0x3c02cd,job_1['JOB_LOG_DETAILS_FILENAME'],constants_1[_0x4f3c63(0xd3)]);return(0x0,sync_1[_0x4f3c63(0xbc)])(_0x203ccf,{'columns':!![]});}static async[a81_0x25e2f3(0xd7)](_0x2d462e,_0x3e2cbc,_0x5e5cd5){const _0x5b8fa1=a81_0x25e2f3,_0x31224f=(0x0,path_1[_0x5b8fa1(0xb7)])(MaskingService['maskingFolderPath'],_0x2d462e),_0x27b171=(0x0,path_1[_0x5b8fa1(0xb7)])(_0x31224f,_0x3e2cbc);if(!await utils_1[_0x5b8fa1(0xfd)]['isExistsPath'](_0x31224f))throw new not_found_error_1[(_0x5b8fa1(0xcd))](_0x5b8fa1(0xf8));if(!await utils_1[_0x5b8fa1(0xfd)][_0x5b8fa1(0xce)](_0x27b171))throw new not_found_error_1[(_0x5b8fa1(0xcd))](_0x5e5cd5+_0x5b8fa1(0xcc));return(0x0,promises_1[_0x5b8fa1(0xed)])(_0x27b171,{'encoding':_0x5b8fa1(0xc3)});}static async[a81_0x25e2f3(0xf2)](_0x453718,_0x5d8276,_0x116cd3){const _0x2e21aa=a81_0x25e2f3,_0x145b0f=await new logger_job_state_1[(_0x2e21aa(0xd1))](_0x453718,_0x5d8276)[_0x2e21aa(0xca)]([]);_0x145b0f[_0x2e21aa(0xdb)](logger_enums_1['JobStatus'][_0x2e21aa(0xc1)]),_0x145b0f[_0x2e21aa(0xc5)](_0x116cd3['message']),await _0x145b0f['kill']();}}exports[a81_0x25e2f3(0xbb)]=MaskingService,MaskingService[a81_0x25e2f3(0x102)]=path_1[a81_0x25e2f3(0x103)][a81_0x25e2f3(0xb7)](path_2[a81_0x25e2f3(0xfe)],constants_1[a81_0x25e2f3(0xd9)]);