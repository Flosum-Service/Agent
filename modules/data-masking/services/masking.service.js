function a81_0x4442(){const _0x91f8c0=['writeFile','call','getJobs','JOB_LOG_DETAILS_NAME','LoggerJobState','__esModule','JOB_LOG_STATE_NAME','\x20not\x20found.','hasOwnProperty','slice','../../../core/errors/not-found.error','create','message','__setModuleDefault','15752FLQRmu','FAILED','../job/classes/logger/logger-job-state','__createBinding','JOB_LOG_DETAILS_FILENAME','276kAnICr','getJobsIds','getLog','MaskingService','kill','4008024FEqOlB','push','(((.+)+)+)+$','479000wJlfSa','sortJobsIds','getJobState','apply','32PIWziC','getOwnPropertyDescriptor','runJob','configurable','fs/promises','maskingFolderPath','generateJobId','Job\x20Id\x20not\x20found.','1Ovlkqw','@flosum/utils','status','459019uHtbIl','stringify','csv-parse/sync','path','defineProperty','138EVcksr','join','../../shared/utils/job.utils','constructor','dataPath','MANIFEST_FILENAME','112966jsUGLF','prototype','FsUtils','get','logErrorStartJob','init','default','getJobDetails','makeDir','../job/enums/logger.enums','isExistsPath','779208Bnuvik','59406apYEia','JOB_LOG_STATE_FILENAME','NotFoundError','completedDate','search','successful','../constants','../../../configs/path','20ywhzkO'];a81_0x4442=function(){return _0x91f8c0;};return a81_0x4442();}const a81_0x27c08c=a81_0x4dbf;(function(_0x4c95ab,_0x298149){const _0x38e8ee=a81_0x4dbf,_0x468f05=_0x4c95ab();while(!![]){try{const _0x5c4078=parseInt(_0x38e8ee(0x212))/0x1*(-parseInt(_0x38e8ee(0x1f9))/0x2)+parseInt(_0x38e8ee(0x22c))/0x3*(parseInt(_0x38e8ee(0x20a))/0x4)+-parseInt(_0x38e8ee(0x206))/0x5+-parseInt(_0x38e8ee(0x21a))/0x6*(-parseInt(_0x38e8ee(0x220))/0x7)+parseInt(_0x38e8ee(0x22b))/0x8+-parseInt(_0x38e8ee(0x203))/0x9*(-parseInt(_0x38e8ee(0x234))/0xa)+-parseInt(_0x38e8ee(0x215))/0xb*(parseInt(_0x38e8ee(0x1fe))/0xc);if(_0x5c4078===_0x298149)break;else _0x468f05['push'](_0x468f05['shift']());}catch(_0x231b55){_0x468f05['push'](_0x468f05['shift']());}}}(a81_0x4442,0x6ee4c));function a81_0x4dbf(_0x4344e4,_0x21aa10){const _0x129eb1=a81_0x4442();return a81_0x4dbf=function(_0x4a22b2,_0x21d50a){_0x4a22b2=_0x4a22b2-0x1ec;let _0x44429b=_0x129eb1[_0x4a22b2];return _0x44429b;},a81_0x4dbf(_0x4344e4,_0x21aa10);}const a81_0x21d50a=(function(){let _0x56db85=!![];return function(_0x107a44,_0x537d6c){const _0x31d121=_0x56db85?function(){const _0x3bcd01=a81_0x4dbf;if(_0x537d6c){const _0x1acb0d=_0x537d6c[_0x3bcd01(0x209)](_0x107a44,arguments);return _0x537d6c=null,_0x1acb0d;}}:function(){};return _0x56db85=![],_0x31d121;};}()),a81_0x4a22b2=a81_0x21d50a(this,function(){const _0x1c431a=a81_0x4dbf;return a81_0x4a22b2['toString']()[_0x1c431a(0x230)](_0x1c431a(0x205))['toString']()[_0x1c431a(0x21d)](a81_0x4a22b2)[_0x1c431a(0x230)]('(((.+)+)+)+$');});a81_0x4a22b2();'use strict';var __createBinding=this&&this[a81_0x27c08c(0x1fc)]||(Object['create']?function(_0xf3efbe,_0x390b79,_0x173e15,_0x1f6ecd){const _0x357bd0=a81_0x27c08c;if(_0x1f6ecd===undefined)_0x1f6ecd=_0x173e15;var _0x5955e6=Object[_0x357bd0(0x20b)](_0x390b79,_0x173e15);(!_0x5955e6||(_0x357bd0(0x223)in _0x5955e6?!_0x390b79[_0x357bd0(0x1f0)]:_0x5955e6['writable']||_0x5955e6[_0x357bd0(0x20d)]))&&(_0x5955e6={'enumerable':!![],'get':function(){return _0x390b79[_0x173e15];}}),Object[_0x357bd0(0x219)](_0xf3efbe,_0x1f6ecd,_0x5955e6);}:function(_0x1ba5f2,_0x1b9197,_0x184775,_0x14e2b8){if(_0x14e2b8===undefined)_0x14e2b8=_0x184775;_0x1ba5f2[_0x14e2b8]=_0x1b9197[_0x184775];}),__setModuleDefault=this&&this[a81_0x27c08c(0x1f8)]||(Object[a81_0x27c08c(0x1f6)]?function(_0x38d573,_0x172ff5){const _0x2bc4cb=a81_0x27c08c;Object['defineProperty'](_0x38d573,_0x2bc4cb(0x226),{'enumerable':!![],'value':_0x172ff5});}:function(_0x33e04f,_0x9d4ad7){const _0xa1578a=a81_0x27c08c;_0x33e04f[_0xa1578a(0x226)]=_0x9d4ad7;}),__importStar=this&&this['__importStar']||function(_0x4d8836){const _0xc45d48=a81_0x27c08c;if(_0x4d8836&&_0x4d8836[_0xc45d48(0x1f0)])return _0x4d8836;var _0x444d4f={};if(_0x4d8836!=null){for(var _0x28a3b9 in _0x4d8836)if(_0x28a3b9!=='default'&&Object[_0xc45d48(0x221)][_0xc45d48(0x1f3)][_0xc45d48(0x1ec)](_0x4d8836,_0x28a3b9))__createBinding(_0x444d4f,_0x4d8836,_0x28a3b9);}return __setModuleDefault(_0x444d4f,_0x4d8836),_0x444d4f;},__importDefault=this&&this['__importDefault']||function(_0xede7a3){const _0x3d721d=a81_0x27c08c;return _0xede7a3&&_0xede7a3[_0x3d721d(0x1f0)]?_0xede7a3:{'default':_0xede7a3};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MaskingService']=void 0x0;const path_1=__importStar(require(a81_0x27c08c(0x218))),fs_utils_1=require('../../shared/utils/fs.utils'),promises_1=require(a81_0x27c08c(0x20e)),logger_job_state_1=require(a81_0x27c08c(0x1fb)),logger_enums_1=require(a81_0x27c08c(0x229)),sync_1=require(a81_0x27c08c(0x217)),utils_1=require(a81_0x27c08c(0x213)),not_found_error_1=require(a81_0x27c08c(0x1f5)),job_1=require('../../../constants/job'),job_utils_1=__importDefault(require(a81_0x27c08c(0x21c))),constants_1=require(a81_0x27c08c(0x232)),path_2=require(a81_0x27c08c(0x233));class MaskingService{static async['createMaskingJob'](_0x445709){const _0x19c93e=a81_0x27c08c,_0x57c974=job_utils_1[_0x19c93e(0x226)][_0x19c93e(0x210)](),_0x2f0515=(0x0,path_1[_0x19c93e(0x21b)])(MaskingService[_0x19c93e(0x20f)],_0x57c974);await(0x0,fs_utils_1[_0x19c93e(0x228)])(_0x2f0515),await(0x0,promises_1[_0x19c93e(0x235)])(_0x2f0515+'/'+job_1[_0x19c93e(0x21f)],JSON[_0x19c93e(0x216)]({'details':_0x445709}));const _0x40a6ff=await new logger_job_state_1[(_0x19c93e(0x1ef))](_0x2f0515,_0x57c974)[_0x19c93e(0x225)]([]);await _0x40a6ff['kill']();const _0x529b46=path_1[_0x19c93e(0x226)]['join'](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x19c93e(0x226)][_0x19c93e(0x20c)](_0x529b46,{'jobStorePath':_0x2f0515,'jobId':_0x57c974})['catch'](_0x330cd6=>this[_0x19c93e(0x224)](_0x2f0515,_0x57c974,_0x330cd6)),{'jobId':_0x57c974};}static async[a81_0x27c08c(0x1ed)](_0x51da23,_0x21b745){const _0x4c1baa=a81_0x27c08c,_0xc5a20d=await job_utils_1[_0x4c1baa(0x226)][_0x4c1baa(0x1ff)](MaskingService[_0x4c1baa(0x20f)]),_0x3806d4=await job_utils_1[_0x4c1baa(0x226)][_0x4c1baa(0x207)](MaskingService['maskingFolderPath'],_0xc5a20d),_0x39c9f6=_0x3806d4[_0x4c1baa(0x1f4)](_0x21b745,_0x21b745+_0x51da23),_0xbd9001=[];for(const _0x18cc7d of _0x39c9f6){const _0xed39e5=await this['getJobState'](_0x18cc7d,![]);_0xbd9001[_0x4c1baa(0x204)](_0xed39e5);}return _0xbd9001;}static async[a81_0x27c08c(0x208)](_0x1fdba4,_0x4fa1c3){const _0x7c9e8=a81_0x27c08c,_0x3c0441=await this['getLog'](_0x1fdba4,job_1[_0x7c9e8(0x22d)],constants_1[_0x7c9e8(0x1f1)]),_0x1e87b9=JSON['parse'](_0x3c0441),_0x8342ae={'id':_0x1e87b9['id'],'status':_0x1e87b9[_0x7c9e8(0x214)],'createdDate':_0x1e87b9['createdDate'],'completedDate':_0x1e87b9[_0x7c9e8(0x22f)],'successful':_0x1e87b9[_0x7c9e8(0x231)],'failed':_0x1e87b9['failed']};return _0x4fa1c3?_0x1e87b9:_0x8342ae;}static async[a81_0x27c08c(0x227)](_0x258c35){const _0x1f558b=a81_0x27c08c,_0x182534=await this[_0x1f558b(0x200)](_0x258c35,job_1[_0x1f558b(0x1fd)],constants_1[_0x1f558b(0x1ee)]);return(0x0,sync_1['parse'])(_0x182534,{'columns':!![]});}static async[a81_0x27c08c(0x200)](_0x2e718c,_0x1f3983,_0x5c7642){const _0x97b823=a81_0x27c08c,_0x32f34a=(0x0,path_1[_0x97b823(0x21b)])(MaskingService[_0x97b823(0x20f)],_0x2e718c),_0x2af4f7=(0x0,path_1[_0x97b823(0x21b)])(_0x32f34a,_0x1f3983);if(!await utils_1['FsUtils'][_0x97b823(0x22a)](_0x32f34a))throw new not_found_error_1[(_0x97b823(0x22e))](_0x97b823(0x211));if(!await utils_1[_0x97b823(0x222)][_0x97b823(0x22a)](_0x2af4f7))throw new not_found_error_1[(_0x97b823(0x22e))](_0x5c7642+_0x97b823(0x1f2));return(0x0,promises_1['readFile'])(_0x2af4f7,{'encoding':'utf-8'});}static async[a81_0x27c08c(0x224)](_0x591930,_0x293bd1,_0x5b687f){const _0x3e6eb1=a81_0x27c08c,_0x18f9a2=await new logger_job_state_1[(_0x3e6eb1(0x1ef))](_0x591930,_0x293bd1)[_0x3e6eb1(0x225)]([]);_0x18f9a2['setJobStatus'](logger_enums_1['JobStatus'][_0x3e6eb1(0x1fa)]),_0x18f9a2['setJobError'](_0x5b687f[_0x3e6eb1(0x1f7)]),await _0x18f9a2[_0x3e6eb1(0x202)]();}}exports[a81_0x27c08c(0x201)]=MaskingService,MaskingService[a81_0x27c08c(0x20f)]=path_1[a81_0x27c08c(0x226)]['join'](path_2[a81_0x27c08c(0x21e)],constants_1['DATA_MASKING_FOLDER_NAME']);