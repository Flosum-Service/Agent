function a97_0x362f(){const _0x57c48c=['kill','../../../constants/job','push','5868944TxewCP','FsUtils','JOB_LOG_STATE_FILENAME','isExistsPath','../job/enums/logger.enums','__createBinding','9cSuEdY','logErrorStartJob','dataPath','2398440tuHsMV','successful','7dNWTCC','__setModuleDefault','(((.+)+)+)+$','hasOwnProperty','completedDate','parse','@flosum/utils','prototype','getOwnPropertyDescriptor','call','failed','811326dMmHqW','LoggerJobState','454553wYqsJY','get','1136340AgKYPd','join','apply','2414255HMyXhb','getJobs','path','configurable','../../shared/utils/job.utils','init','search','../../shared/utils/fs.utils','readFile','defineProperty','catch','default','fs/promises','../constants','create','toString','getJobDetails','stringify','../../../configs/path','csv-parse/sync','2ekttvC','DATA_MASKING_FOLDER_NAME','../job/classes/logger/logger-job-state','message','sortJobsIds','__esModule','MaskingService','generateJobId','4030350IhuypG','writeFile','makeDir','getLog','slice','writable','NotFoundError','status','__importDefault','../../../core/errors/not-found.error','JOB_LOG_STATE_NAME','runJob','createdDate','getJobState','JOB_LOG_DETAILS_NAME','__importStar','maskingFolderPath','JobStatus','JOB_LOG_DETAILS_FILENAME'];a97_0x362f=function(){return _0x57c48c;};return a97_0x362f();}const a97_0x20e8dc=a97_0x4bb7;(function(_0x29a83b,_0x54ce31){const _0x15fd20=a97_0x4bb7,_0x7c4d49=_0x29a83b();while(!![]){try{const _0x4ca9b8=parseInt(_0x15fd20(0xe2))/0x1+-parseInt(_0x15fd20(0xfb))/0x2*(parseInt(_0x15fd20(0xe0))/0x3)+-parseInt(_0x15fd20(0xd3))/0x4+-parseInt(_0x15fd20(0xe7))/0x5+parseInt(_0x15fd20(0x103))/0x6+-parseInt(_0x15fd20(0xd5))/0x7*(-parseInt(_0x15fd20(0x119))/0x8)+-parseInt(_0x15fd20(0xd0))/0x9*(parseInt(_0x15fd20(0xe4))/0xa);if(_0x4ca9b8===_0x54ce31)break;else _0x7c4d49['push'](_0x7c4d49['shift']());}catch(_0x126aa4){_0x7c4d49['push'](_0x7c4d49['shift']());}}}(a97_0x362f,0x6008f));const a97_0x34fad6=(function(){let _0x56ac57=!![];return function(_0x285b37,_0x1b5c3f){const _0x1afe58=_0x56ac57?function(){const _0x46a860=a97_0x4bb7;if(_0x1b5c3f){const _0x4a5a62=_0x1b5c3f[_0x46a860(0xe6)](_0x285b37,arguments);return _0x1b5c3f=null,_0x4a5a62;}}:function(){};return _0x56ac57=![],_0x1afe58;};}()),a97_0x467561=a97_0x34fad6(this,function(){const _0x5a6883=a97_0x4bb7;return a97_0x467561[_0x5a6883(0xf6)]()[_0x5a6883(0xed)](_0x5a6883(0xd7))['toString']()['constructor'](a97_0x467561)[_0x5a6883(0xed)](_0x5a6883(0xd7));});a97_0x467561();'use strict';var __createBinding=this&&this[a97_0x20e8dc(0xcf)]||(Object[a97_0x20e8dc(0xf5)]?function(_0x34eb5e,_0x2ab389,_0x17d3bb,_0x54b502){const _0x4a3ce6=a97_0x20e8dc;if(_0x54b502===undefined)_0x54b502=_0x17d3bb;var _0x50f234=Object[_0x4a3ce6(0xdd)](_0x2ab389,_0x17d3bb);(!_0x50f234||(_0x4a3ce6(0xe3)in _0x50f234?!_0x2ab389[_0x4a3ce6(0x100)]:_0x50f234[_0x4a3ce6(0x108)]||_0x50f234[_0x4a3ce6(0xea)]))&&(_0x50f234={'enumerable':!![],'get':function(){return _0x2ab389[_0x17d3bb];}}),Object[_0x4a3ce6(0xf0)](_0x34eb5e,_0x54b502,_0x50f234);}:function(_0xb63dc0,_0x1f5938,_0x111df7,_0x2e6ca5){if(_0x2e6ca5===undefined)_0x2e6ca5=_0x111df7;_0xb63dc0[_0x2e6ca5]=_0x1f5938[_0x111df7];}),__setModuleDefault=this&&this[a97_0x20e8dc(0xd6)]||(Object[a97_0x20e8dc(0xf5)]?function(_0xbcd370,_0x4b3c77){const _0x2c8660=a97_0x20e8dc;Object[_0x2c8660(0xf0)](_0xbcd370,_0x2c8660(0xf2),{'enumerable':!![],'value':_0x4b3c77});}:function(_0x73917e,_0x33122f){const _0x555fa8=a97_0x20e8dc;_0x73917e[_0x555fa8(0xf2)]=_0x33122f;}),__importStar=this&&this[a97_0x20e8dc(0x112)]||function(_0x3d3ed1){const _0x4c0c1f=a97_0x20e8dc;if(_0x3d3ed1&&_0x3d3ed1['__esModule'])return _0x3d3ed1;var _0x54542f={};if(_0x3d3ed1!=null){for(var _0x267d57 in _0x3d3ed1)if(_0x267d57!==_0x4c0c1f(0xf2)&&Object[_0x4c0c1f(0xdc)][_0x4c0c1f(0xd8)][_0x4c0c1f(0xde)](_0x3d3ed1,_0x267d57))__createBinding(_0x54542f,_0x3d3ed1,_0x267d57);}return __setModuleDefault(_0x54542f,_0x3d3ed1),_0x54542f;},__importDefault=this&&this[a97_0x20e8dc(0x10b)]||function(_0x25c028){const _0x2dbcad=a97_0x20e8dc;return _0x25c028&&_0x25c028[_0x2dbcad(0x100)]?_0x25c028:{'default':_0x25c028};};Object['defineProperty'](exports,a97_0x20e8dc(0x100),{'value':!![]}),exports['MaskingService']=void 0x0;function a97_0x4bb7(_0x53d70e,_0x195cea){const _0x5b1ba8=a97_0x362f();return a97_0x4bb7=function(_0x467561,_0x34fad6){_0x467561=_0x467561-0xcb;let _0x362f1b=_0x5b1ba8[_0x467561];return _0x362f1b;},a97_0x4bb7(_0x53d70e,_0x195cea);}const path_1=__importStar(require(a97_0x20e8dc(0xe9))),fs_utils_1=require(a97_0x20e8dc(0xee)),promises_1=require(a97_0x20e8dc(0xf3)),logger_job_state_1=require(a97_0x20e8dc(0xfd)),logger_enums_1=require(a97_0x20e8dc(0xce)),sync_1=require(a97_0x20e8dc(0xfa)),utils_1=require(a97_0x20e8dc(0xdb)),not_found_error_1=require(a97_0x20e8dc(0x10c)),job_1=require(a97_0x20e8dc(0x117)),job_utils_1=__importDefault(require(a97_0x20e8dc(0xeb))),constants_1=require(a97_0x20e8dc(0xf4)),path_2=require(a97_0x20e8dc(0xf9));class MaskingService{static async['createMaskingJob'](_0x1bd015){const _0x59f85a=a97_0x20e8dc,_0x46fc73=job_utils_1[_0x59f85a(0xf2)][_0x59f85a(0x102)](),_0x50b78a=(0x0,path_1['join'])(MaskingService[_0x59f85a(0x113)],_0x46fc73);await(0x0,fs_utils_1[_0x59f85a(0x105)])(_0x50b78a),await(0x0,promises_1[_0x59f85a(0x104)])(_0x50b78a+'/'+job_1['MANIFEST_FILENAME'],JSON[_0x59f85a(0xf8)]({'details':_0x1bd015}));const _0xb1fabb=await new logger_job_state_1[(_0x59f85a(0xe1))](_0x50b78a,_0x46fc73)['init']([]);await _0xb1fabb[_0x59f85a(0x116)]();const _0x47d0b1=path_1['default'][_0x59f85a(0xe5)](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x59f85a(0xf2)][_0x59f85a(0x10e)](_0x47d0b1,{'jobStorePath':_0x50b78a,'jobId':_0x46fc73})[_0x59f85a(0xf1)](_0x17a5b5=>this[_0x59f85a(0xd1)](_0x50b78a,_0x46fc73,_0x17a5b5)),{'jobId':_0x46fc73};}static async[a97_0x20e8dc(0xe8)](_0x3a1456,_0x306503){const _0x244be3=a97_0x20e8dc,_0x321896=await job_utils_1[_0x244be3(0xf2)]['getJobsIds'](MaskingService['maskingFolderPath']),_0x366059=await job_utils_1[_0x244be3(0xf2)][_0x244be3(0xff)](MaskingService[_0x244be3(0x113)],_0x321896),_0x3e17fd=_0x366059[_0x244be3(0x107)](_0x306503,_0x306503+_0x3a1456),_0x285e5a=[];for(const _0x514b12 of _0x3e17fd){const _0x146447=await this['getJobState'](_0x514b12,![]);_0x285e5a[_0x244be3(0x118)](_0x146447);}return _0x285e5a;}static async[a97_0x20e8dc(0x110)](_0x56f557,_0x52d4fd){const _0x5e1008=a97_0x20e8dc,_0x29777a=await this[_0x5e1008(0x106)](_0x56f557,job_1[_0x5e1008(0xcc)],constants_1[_0x5e1008(0x10d)]),_0x50308b=JSON[_0x5e1008(0xda)](_0x29777a),_0x27a2f2={'id':_0x50308b['id'],'status':_0x50308b[_0x5e1008(0x10a)],'createdDate':_0x50308b[_0x5e1008(0x10f)],'completedDate':_0x50308b[_0x5e1008(0xd9)],'successful':_0x50308b[_0x5e1008(0xd4)],'failed':_0x50308b[_0x5e1008(0xdf)]};return _0x52d4fd?_0x50308b:_0x27a2f2;}static async[a97_0x20e8dc(0xf7)](_0xad78fc){const _0x15e290=a97_0x20e8dc,_0x46f48c=await this['getLog'](_0xad78fc,job_1[_0x15e290(0x115)],constants_1[_0x15e290(0x111)]);return(0x0,sync_1[_0x15e290(0xda)])(_0x46f48c,{'columns':!![]});}static async[a97_0x20e8dc(0x106)](_0x2b01b5,_0x362a24,_0x2df6dd){const _0x1a5135=a97_0x20e8dc,_0x215f88=(0x0,path_1[_0x1a5135(0xe5)])(MaskingService[_0x1a5135(0x113)],_0x2b01b5),_0x59a045=(0x0,path_1[_0x1a5135(0xe5)])(_0x215f88,_0x362a24);if(!await utils_1['FsUtils'][_0x1a5135(0xcd)](_0x215f88))throw new not_found_error_1[(_0x1a5135(0x109))]('Job\x20Id\x20not\x20found.');if(!await utils_1[_0x1a5135(0xcb)][_0x1a5135(0xcd)](_0x59a045))throw new not_found_error_1[(_0x1a5135(0x109))](_0x2df6dd+'\x20not\x20found.');return(0x0,promises_1[_0x1a5135(0xef)])(_0x59a045,{'encoding':'utf-8'});}static async[a97_0x20e8dc(0xd1)](_0xfb80be,_0x22a302,_0x1ccc94){const _0x2d6809=a97_0x20e8dc,_0x6f2757=await new logger_job_state_1[(_0x2d6809(0xe1))](_0xfb80be,_0x22a302)[_0x2d6809(0xec)]([]);_0x6f2757['setJobStatus'](logger_enums_1[_0x2d6809(0x114)]['FAILED']),_0x6f2757['setJobError'](_0x1ccc94[_0x2d6809(0xfe)]),await _0x6f2757[_0x2d6809(0x116)]();}}exports[a97_0x20e8dc(0x101)]=MaskingService,MaskingService[a97_0x20e8dc(0x113)]=path_1[a97_0x20e8dc(0xf2)][a97_0x20e8dc(0xe5)](path_2[a97_0x20e8dc(0xd2)],constants_1[a97_0x20e8dc(0xfc)]);