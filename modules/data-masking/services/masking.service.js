const a80_0x466b87=a80_0x5869;(function(_0x312fa7,_0x13d693){const _0x7a5d1b=a80_0x5869,_0x2eb1d4=_0x312fa7();while(!![]){try{const _0x3c2683=parseInt(_0x7a5d1b(0x1a1))/0x1*(parseInt(_0x7a5d1b(0x19d))/0x2)+parseInt(_0x7a5d1b(0x1c2))/0x3+-parseInt(_0x7a5d1b(0x1c0))/0x4*(-parseInt(_0x7a5d1b(0x1a8))/0x5)+-parseInt(_0x7a5d1b(0x1c1))/0x6*(parseInt(_0x7a5d1b(0x1ac))/0x7)+-parseInt(_0x7a5d1b(0x19b))/0x8*(-parseInt(_0x7a5d1b(0x1c6))/0x9)+parseInt(_0x7a5d1b(0x1bd))/0xa*(parseInt(_0x7a5d1b(0x1d4))/0xb)+-parseInt(_0x7a5d1b(0x199))/0xc;if(_0x3c2683===_0x13d693)break;else _0x2eb1d4['push'](_0x2eb1d4['shift']());}catch(_0x55d01a){_0x2eb1d4['push'](_0x2eb1d4['shift']());}}}(a80_0x1a35,0x35912));function a80_0x1a35(){const _0x47e957=['156176AmGBhB','path','2130BqILVD','prototype','apply','isExistsPath','146BJZLmb','@flosum/utils','writable','maskingFolderPath','getOwnPropertyDescriptor','default','setJobStatus','335tLuxen','__importStar','create','utf-8','7nzyYXN','FAILED','getJobDetails','\x20not\x20found.','slice','sortJobsIds','JobStatus','DATA_MASKING_FOLDER_NAME','csv-parse/sync','constructor','__setModuleDefault','../constants','kill','fs/promises','catch','init','__createBinding','200OMxrBr','writeFile','JOB_LOG_DETAILS_NAME','14452FGIbgP','126186bDfRUy','168564MXIROx','(((.+)+)+)+$','successful','message','9RNHChK','runJob','completedDate','../job/classes/logger/logger-job-state','logErrorStartJob','FsUtils','toString','readFile','push','getJobState','getJobs','parse','getLog','makeDir','116996cWZzUa','MaskingService','../../shared/utils/job.utils','search','__importDefault','../../../constants/job','configurable','../../../core/errors/not-found.error','__esModule','../../shared/utils/fs.utils','createMaskingJob','defineProperty','join','NotFoundError','JOB_LOG_STATE_FILENAME','JOB_LOG_DETAILS_FILENAME','5346600kCBqYl','status'];a80_0x1a35=function(){return _0x47e957;};return a80_0x1a35();}function a80_0x5869(_0x1a8f5e,_0x5703e3){const _0x26e3c6=a80_0x1a35();return a80_0x5869=function(_0x189d79,_0x4f9af4){_0x189d79=_0x189d79-0x194;let _0x1a35c9=_0x26e3c6[_0x189d79];return _0x1a35c9;},a80_0x5869(_0x1a8f5e,_0x5703e3);}const a80_0x4f9af4=(function(){let _0x116948=!![];return function(_0x3556aa,_0x4c883b){const _0x1683bd=_0x116948?function(){const _0x11bf8e=a80_0x5869;if(_0x4c883b){const _0x6dc70b=_0x4c883b[_0x11bf8e(0x19f)](_0x3556aa,arguments);return _0x4c883b=null,_0x6dc70b;}}:function(){};return _0x116948=![],_0x1683bd;};}()),a80_0x189d79=a80_0x4f9af4(this,function(){const _0x905309=a80_0x5869;return a80_0x189d79[_0x905309(0x1cc)]()[_0x905309(0x1d7)](_0x905309(0x1c3))[_0x905309(0x1cc)]()[_0x905309(0x1b5)](a80_0x189d79)[_0x905309(0x1d7)](_0x905309(0x1c3));});a80_0x189d79();'use strict';var __createBinding=this&&this[a80_0x466b87(0x1bc)]||(Object[a80_0x466b87(0x1aa)]?function(_0x5c5a00,_0x5968c3,_0x1ffc1b,_0x16c855){const _0x2f07c5=a80_0x466b87;if(_0x16c855===undefined)_0x16c855=_0x1ffc1b;var _0x261c41=Object[_0x2f07c5(0x1a5)](_0x5968c3,_0x1ffc1b);(!_0x261c41||('get'in _0x261c41?!_0x5968c3[_0x2f07c5(0x1dc)]:_0x261c41[_0x2f07c5(0x1a3)]||_0x261c41[_0x2f07c5(0x1da)]))&&(_0x261c41={'enumerable':!![],'get':function(){return _0x5968c3[_0x1ffc1b];}}),Object[_0x2f07c5(0x194)](_0x5c5a00,_0x16c855,_0x261c41);}:function(_0x1387ca,_0x18de64,_0x1cf039,_0x3a0603){if(_0x3a0603===undefined)_0x3a0603=_0x1cf039;_0x1387ca[_0x3a0603]=_0x18de64[_0x1cf039];}),__setModuleDefault=this&&this[a80_0x466b87(0x1b6)]||(Object[a80_0x466b87(0x1aa)]?function(_0x24a8a3,_0x1cad4d){const _0x443401=a80_0x466b87;Object[_0x443401(0x194)](_0x24a8a3,_0x443401(0x1a6),{'enumerable':!![],'value':_0x1cad4d});}:function(_0x3e0e33,_0x1aa7ac){const _0x1b5bcd=a80_0x466b87;_0x3e0e33[_0x1b5bcd(0x1a6)]=_0x1aa7ac;}),__importStar=this&&this[a80_0x466b87(0x1a9)]||function(_0xf98c94){const _0x1f6970=a80_0x466b87;if(_0xf98c94&&_0xf98c94[_0x1f6970(0x1dc)])return _0xf98c94;var _0x4dcd52={};if(_0xf98c94!=null){for(var _0x54c3d3 in _0xf98c94)if(_0x54c3d3!=='default'&&Object[_0x1f6970(0x19e)]['hasOwnProperty']['call'](_0xf98c94,_0x54c3d3))__createBinding(_0x4dcd52,_0xf98c94,_0x54c3d3);}return __setModuleDefault(_0x4dcd52,_0xf98c94),_0x4dcd52;},__importDefault=this&&this[a80_0x466b87(0x1d8)]||function(_0x584afb){const _0x40cea6=a80_0x466b87;return _0x584afb&&_0x584afb[_0x40cea6(0x1dc)]?_0x584afb:{'default':_0x584afb};};Object[a80_0x466b87(0x194)](exports,a80_0x466b87(0x1dc),{'value':!![]}),exports[a80_0x466b87(0x1d5)]=void 0x0;const path_1=__importStar(require(a80_0x466b87(0x19c))),fs_utils_1=require(a80_0x466b87(0x1dd)),promises_1=require(a80_0x466b87(0x1b9)),logger_job_state_1=require(a80_0x466b87(0x1c9)),logger_enums_1=require('../job/enums/logger.enums'),sync_1=require(a80_0x466b87(0x1b4)),utils_1=require(a80_0x466b87(0x1a2)),not_found_error_1=require(a80_0x466b87(0x1db)),job_1=require(a80_0x466b87(0x1d9)),job_utils_1=__importDefault(require(a80_0x466b87(0x1d6))),constants_1=require(a80_0x466b87(0x1b7)),path_2=require('../../../configs/path');class MaskingService{static async[a80_0x466b87(0x1de)](_0x15bdcd){const _0x4dd9ee=a80_0x466b87,_0x60b9b6=job_utils_1[_0x4dd9ee(0x1a6)]['generateJobId'](),_0x1c2a17=(0x0,path_1[_0x4dd9ee(0x195)])(MaskingService[_0x4dd9ee(0x1a4)],_0x60b9b6);await(0x0,fs_utils_1[_0x4dd9ee(0x1d3)])(_0x1c2a17),await(0x0,promises_1[_0x4dd9ee(0x1be)])(_0x1c2a17+'/'+job_1['MANIFEST_FILENAME'],JSON['stringify']({'details':_0x15bdcd}));const _0x5215cf=await new logger_job_state_1['LoggerJobState'](_0x1c2a17,_0x60b9b6)['init']([]);await _0x5215cf[_0x4dd9ee(0x1b8)]();const _0x2d1888=path_1['default'][_0x4dd9ee(0x195)](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x4dd9ee(0x1a6)][_0x4dd9ee(0x1c7)](_0x2d1888,{'jobStorePath':_0x1c2a17,'jobId':_0x60b9b6})[_0x4dd9ee(0x1ba)](_0xfcceb4=>this[_0x4dd9ee(0x1ca)](_0x1c2a17,_0x60b9b6,_0xfcceb4)),{'jobId':_0x60b9b6};}static async[a80_0x466b87(0x1d0)](_0x5d9c6e,_0x27b29a){const _0x5d98d0=a80_0x466b87,_0x3f7435=await job_utils_1['default']['getJobsIds'](MaskingService[_0x5d98d0(0x1a4)]),_0x2bb050=await job_utils_1[_0x5d98d0(0x1a6)][_0x5d98d0(0x1b1)](MaskingService[_0x5d98d0(0x1a4)],_0x3f7435),_0x42253e=_0x2bb050[_0x5d98d0(0x1b0)](_0x27b29a,_0x27b29a+_0x5d9c6e),_0x15d6c0=[];for(const _0x2ce043 of _0x42253e){const _0x149c79=await this[_0x5d98d0(0x1cf)](_0x2ce043,![]);_0x15d6c0[_0x5d98d0(0x1ce)](_0x149c79);}return _0x15d6c0;}static async['getJobState'](_0x48630e,_0x5d8a88){const _0x3871d3=a80_0x466b87,_0x5ef31b=await this['getLog'](_0x48630e,job_1[_0x3871d3(0x197)],constants_1['JOB_LOG_STATE_NAME']),_0x52e0e7=JSON[_0x3871d3(0x1d1)](_0x5ef31b),_0x224f1f={'id':_0x52e0e7['id'],'status':_0x52e0e7[_0x3871d3(0x19a)],'createdDate':_0x52e0e7['createdDate'],'completedDate':_0x52e0e7[_0x3871d3(0x1c8)],'successful':_0x52e0e7[_0x3871d3(0x1c4)],'failed':_0x52e0e7['failed']};return _0x5d8a88?_0x52e0e7:_0x224f1f;}static async[a80_0x466b87(0x1ae)](_0x25d8db){const _0x52bfba=a80_0x466b87,_0xbd3527=await this['getLog'](_0x25d8db,job_1[_0x52bfba(0x198)],constants_1[_0x52bfba(0x1bf)]);return(0x0,sync_1[_0x52bfba(0x1d1)])(_0xbd3527,{'columns':!![]});}static async[a80_0x466b87(0x1d2)](_0x14e20d,_0x1750c8,_0x341c2f){const _0x2dbfd4=a80_0x466b87,_0x1a4f50=(0x0,path_1[_0x2dbfd4(0x195)])(MaskingService[_0x2dbfd4(0x1a4)],_0x14e20d),_0x3399ff=(0x0,path_1[_0x2dbfd4(0x195)])(_0x1a4f50,_0x1750c8);if(!await utils_1[_0x2dbfd4(0x1cb)][_0x2dbfd4(0x1a0)](_0x1a4f50))throw new not_found_error_1[(_0x2dbfd4(0x196))]('Job\x20Id\x20not\x20found.');if(!await utils_1[_0x2dbfd4(0x1cb)][_0x2dbfd4(0x1a0)](_0x3399ff))throw new not_found_error_1['NotFoundError'](_0x341c2f+_0x2dbfd4(0x1af));return(0x0,promises_1[_0x2dbfd4(0x1cd)])(_0x3399ff,{'encoding':_0x2dbfd4(0x1ab)});}static async[a80_0x466b87(0x1ca)](_0xa6332d,_0x150604,_0x174a19){const _0x4d5d01=a80_0x466b87,_0x2d4778=await new logger_job_state_1['LoggerJobState'](_0xa6332d,_0x150604)[_0x4d5d01(0x1bb)]([]);_0x2d4778[_0x4d5d01(0x1a7)](logger_enums_1[_0x4d5d01(0x1b2)][_0x4d5d01(0x1ad)]),_0x2d4778['setJobError'](_0x174a19[_0x4d5d01(0x1c5)]),await _0x2d4778['kill']();}}exports['MaskingService']=MaskingService,MaskingService[a80_0x466b87(0x1a4)]=path_1[a80_0x466b87(0x1a6)][a80_0x466b87(0x195)](path_2['dataPath'],constants_1[a80_0x466b87(0x1b3)]);