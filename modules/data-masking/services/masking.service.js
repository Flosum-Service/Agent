function a81_0xc05c(_0x292f29,_0x1f62f0){const _0x26bbd4=a81_0x22b7();return a81_0xc05c=function(_0x5284e1,_0x50eeb7){_0x5284e1=_0x5284e1-0x15e;let _0x22b71e=_0x26bbd4[_0x5284e1];return _0x22b71e;},a81_0xc05c(_0x292f29,_0x1f62f0);}const a81_0x3a9348=a81_0xc05c;(function(_0xadeccf,_0xd2f0b6){const _0x376ec9=a81_0xc05c,_0xb76cf8=_0xadeccf();while(!![]){try{const _0x136077=-parseInt(_0x376ec9(0x185))/0x1*(parseInt(_0x376ec9(0x16d))/0x2)+parseInt(_0x376ec9(0x194))/0x3+parseInt(_0x376ec9(0x167))/0x4+-parseInt(_0x376ec9(0x172))/0x5*(-parseInt(_0x376ec9(0x18c))/0x6)+-parseInt(_0x376ec9(0x195))/0x7*(parseInt(_0x376ec9(0x1a4))/0x8)+-parseInt(_0x376ec9(0x189))/0x9+-parseInt(_0x376ec9(0x193))/0xa*(-parseInt(_0x376ec9(0x180))/0xb);if(_0x136077===_0xd2f0b6)break;else _0xb76cf8['push'](_0xb76cf8['shift']());}catch(_0x2e94ff){_0xb76cf8['push'](_0xb76cf8['shift']());}}}(a81_0x22b7,0xce40d));function a81_0x22b7(){const _0x3ede4e=['__esModule','FsUtils','NotFoundError','readFile','call','successful','constructor','runJob','88AzJSfn','stringify','isExistsPath','default','../../../configs/path','slice','../../../core/errors/not-found.error','join','__importStar','init','catch','sortJobsIds','JOB_LOG_STATE_NAME','2294400DRccfD','defineProperty','fs/promises','kill','utf-8','getLog','346CvGubS','(((.+)+)+)+$','createMaskingJob','Job\x20Id\x20not\x20found.','MaskingService','5nAuczA','DATA_MASKING_FOLDER_NAME','getOwnPropertyDescriptor','JOB_LOG_STATE_FILENAME','../job/enums/logger.enums','create','__setModuleDefault','../../../constants/job','maskingFolderPath','hasOwnProperty','search','prototype','getJobState','status','48697gkVPSA','path','../../shared/utils/job.utils','getJobDetails','getJobs','8413NaKctx','csv-parse/sync','MANIFEST_FILENAME','@flosum/utils','10533636ywbJkc','makeDir','../../shared/utils/fs.utils','8481738WBcWPG','JOB_LOG_DETAILS_NAME','failed','createdDate','\x20not\x20found.','dataPath','push','3790CPGoPE','126858PtVxJk','150612WKRJDP','__createBinding','FAILED','JobStatus','getJobsIds','LoggerJobState','parse'];a81_0x22b7=function(){return _0x3ede4e;};return a81_0x22b7();}const a81_0x50eeb7=(function(){let _0x223291=!![];return function(_0x1f789c,_0x3e88fe){const _0x18e6f7=_0x223291?function(){if(_0x3e88fe){const _0xd452ca=_0x3e88fe['apply'](_0x1f789c,arguments);return _0x3e88fe=null,_0xd452ca;}}:function(){};return _0x223291=![],_0x18e6f7;};}()),a81_0x5284e1=a81_0x50eeb7(this,function(){const _0x37f16e=a81_0xc05c;return a81_0x5284e1['toString']()[_0x37f16e(0x17c)]('(((.+)+)+)+$')['toString']()[_0x37f16e(0x1a2)](a81_0x5284e1)['search'](_0x37f16e(0x16e));});a81_0x5284e1();'use strict';var __createBinding=this&&this[a81_0x3a9348(0x196)]||(Object[a81_0x3a9348(0x177)]?function(_0x1f6c53,_0x4c7c72,_0x4551f9,_0xf60036){const _0x266eb5=a81_0x3a9348;if(_0xf60036===undefined)_0xf60036=_0x4551f9;var _0x566fc0=Object[_0x266eb5(0x174)](_0x4c7c72,_0x4551f9);(!_0x566fc0||('get'in _0x566fc0?!_0x4c7c72[_0x266eb5(0x19c)]:_0x566fc0['writable']||_0x566fc0['configurable']))&&(_0x566fc0={'enumerable':!![],'get':function(){return _0x4c7c72[_0x4551f9];}}),Object[_0x266eb5(0x168)](_0x1f6c53,_0xf60036,_0x566fc0);}:function(_0x248715,_0x794815,_0x41506c,_0x3b0a74){if(_0x3b0a74===undefined)_0x3b0a74=_0x41506c;_0x248715[_0x3b0a74]=_0x794815[_0x41506c];}),__setModuleDefault=this&&this[a81_0x3a9348(0x178)]||(Object['create']?function(_0xe9153c,_0x515361){const _0xab2dda=a81_0x3a9348;Object[_0xab2dda(0x168)](_0xe9153c,_0xab2dda(0x1a7),{'enumerable':!![],'value':_0x515361});}:function(_0x28eb74,_0x1c5f0d){_0x28eb74['default']=_0x1c5f0d;}),__importStar=this&&this[a81_0x3a9348(0x162)]||function(_0x17f015){const _0x12039f=a81_0x3a9348;if(_0x17f015&&_0x17f015[_0x12039f(0x19c)])return _0x17f015;var _0x334042={};if(_0x17f015!=null){for(var _0x9962cd in _0x17f015)if(_0x9962cd!=='default'&&Object[_0x12039f(0x17d)][_0x12039f(0x17b)][_0x12039f(0x1a0)](_0x17f015,_0x9962cd))__createBinding(_0x334042,_0x17f015,_0x9962cd);}return __setModuleDefault(_0x334042,_0x17f015),_0x334042;},__importDefault=this&&this['__importDefault']||function(_0x842286){const _0x485dd7=a81_0x3a9348;return _0x842286&&_0x842286[_0x485dd7(0x19c)]?_0x842286:{'default':_0x842286};};Object[a81_0x3a9348(0x168)](exports,'__esModule',{'value':!![]}),exports['MaskingService']=void 0x0;const path_1=__importStar(require(a81_0x3a9348(0x181))),fs_utils_1=require(a81_0x3a9348(0x18b)),promises_1=require(a81_0x3a9348(0x169)),logger_job_state_1=require('../job/classes/logger/logger-job-state'),logger_enums_1=require(a81_0x3a9348(0x176)),sync_1=require(a81_0x3a9348(0x186)),utils_1=require(a81_0x3a9348(0x188)),not_found_error_1=require(a81_0x3a9348(0x160)),job_1=require(a81_0x3a9348(0x179)),job_utils_1=__importDefault(require(a81_0x3a9348(0x182))),constants_1=require('../constants'),path_2=require(a81_0x3a9348(0x15e));class MaskingService{static async[a81_0x3a9348(0x16f)](_0x58c5b1){const _0x3594e3=a81_0x3a9348,_0x4053b6=job_utils_1[_0x3594e3(0x1a7)]['generateJobId'](),_0xee5af4=(0x0,path_1[_0x3594e3(0x161)])(MaskingService['maskingFolderPath'],_0x4053b6);await(0x0,fs_utils_1[_0x3594e3(0x18a)])(_0xee5af4),await(0x0,promises_1['writeFile'])(_0xee5af4+'/'+job_1[_0x3594e3(0x187)],JSON[_0x3594e3(0x1a5)]({'details':_0x58c5b1}));const _0xc0281f=await new logger_job_state_1[(_0x3594e3(0x19a))](_0xee5af4,_0x4053b6)[_0x3594e3(0x163)]([]);await _0xc0281f[_0x3594e3(0x16a)]();const _0x487484=path_1[_0x3594e3(0x1a7)][_0x3594e3(0x161)](__dirname,job_1['JOB_PATH']);return job_utils_1['default'][_0x3594e3(0x1a3)](_0x487484,{'jobStorePath':_0xee5af4,'jobId':_0x4053b6})[_0x3594e3(0x164)](_0x3087cd=>this['logErrorStartJob'](_0xee5af4,_0x4053b6,_0x3087cd)),{'jobId':_0x4053b6};}static async[a81_0x3a9348(0x184)](_0x3f2a68,_0x25401e){const _0x4f8279=a81_0x3a9348,_0x11095b=await job_utils_1[_0x4f8279(0x1a7)][_0x4f8279(0x199)](MaskingService[_0x4f8279(0x17a)]),_0x4e1ad5=await job_utils_1['default'][_0x4f8279(0x165)](MaskingService['maskingFolderPath'],_0x11095b),_0xb24d48=_0x4e1ad5[_0x4f8279(0x15f)](_0x25401e,_0x25401e+_0x3f2a68),_0x44f71d=[];for(const _0x3db013 of _0xb24d48){const _0x7dc2b8=await this[_0x4f8279(0x17e)](_0x3db013,![]);_0x44f71d[_0x4f8279(0x192)](_0x7dc2b8);}return _0x44f71d;}static async[a81_0x3a9348(0x17e)](_0x58bca1,_0x922a4c){const _0x1fc7ed=a81_0x3a9348,_0x135fe1=await this[_0x1fc7ed(0x16c)](_0x58bca1,job_1[_0x1fc7ed(0x175)],constants_1[_0x1fc7ed(0x166)]),_0x51608c=JSON[_0x1fc7ed(0x19b)](_0x135fe1),_0x4dd67b={'id':_0x51608c['id'],'status':_0x51608c[_0x1fc7ed(0x17f)],'createdDate':_0x51608c[_0x1fc7ed(0x18f)],'completedDate':_0x51608c['completedDate'],'successful':_0x51608c[_0x1fc7ed(0x1a1)],'failed':_0x51608c[_0x1fc7ed(0x18e)]};return _0x922a4c?_0x51608c:_0x4dd67b;}static async[a81_0x3a9348(0x183)](_0x118426){const _0xd038c9=a81_0x3a9348,_0x1c5c00=await this['getLog'](_0x118426,job_1['JOB_LOG_DETAILS_FILENAME'],constants_1[_0xd038c9(0x18d)]);return(0x0,sync_1[_0xd038c9(0x19b)])(_0x1c5c00,{'columns':!![]});}static async['getLog'](_0x2d7e8b,_0x7cb126,_0x3ed736){const _0x3cf26b=a81_0x3a9348,_0x16048e=(0x0,path_1[_0x3cf26b(0x161)])(MaskingService[_0x3cf26b(0x17a)],_0x2d7e8b),_0x2ddce3=(0x0,path_1[_0x3cf26b(0x161)])(_0x16048e,_0x7cb126);if(!await utils_1[_0x3cf26b(0x19d)][_0x3cf26b(0x1a6)](_0x16048e))throw new not_found_error_1[(_0x3cf26b(0x19e))](_0x3cf26b(0x170));if(!await utils_1[_0x3cf26b(0x19d)]['isExistsPath'](_0x2ddce3))throw new not_found_error_1[(_0x3cf26b(0x19e))](_0x3ed736+_0x3cf26b(0x190));return(0x0,promises_1[_0x3cf26b(0x19f)])(_0x2ddce3,{'encoding':_0x3cf26b(0x16b)});}static async['logErrorStartJob'](_0x37b07f,_0x7a673d,_0x3a3868){const _0x5a5b28=a81_0x3a9348,_0x156fa6=await new logger_job_state_1[(_0x5a5b28(0x19a))](_0x37b07f,_0x7a673d)['init']([]);_0x156fa6['setJobStatus'](logger_enums_1[_0x5a5b28(0x198)][_0x5a5b28(0x197)]),_0x156fa6['setJobError'](_0x3a3868['message']),await _0x156fa6[_0x5a5b28(0x16a)]();}}exports[a81_0x3a9348(0x171)]=MaskingService,MaskingService[a81_0x3a9348(0x17a)]=path_1[a81_0x3a9348(0x1a7)][a81_0x3a9348(0x161)](path_2[a81_0x3a9348(0x191)],constants_1[a81_0x3a9348(0x173)]);