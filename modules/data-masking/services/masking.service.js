function a96_0x1fb3(_0x108a39,_0xec4105){const _0x44773a=a96_0x5f8a();return a96_0x1fb3=function(_0x599fc4,_0x580add){_0x599fc4=_0x599fc4-0x1b5;let _0x5f8aed=_0x44773a[_0x599fc4];return _0x5f8aed;},a96_0x1fb3(_0x108a39,_0xec4105);}const a96_0x4fcb4e=a96_0x1fb3;(function(_0x37df85,_0x488c4a){const _0x299316=a96_0x1fb3,_0x4e5e84=_0x37df85();while(!![]){try{const _0x1e2819=parseInt(_0x299316(0x1e1))/0x1+-parseInt(_0x299316(0x1fe))/0x2*(-parseInt(_0x299316(0x1fd))/0x3)+parseInt(_0x299316(0x1d7))/0x4*(parseInt(_0x299316(0x1e9))/0x5)+parseInt(_0x299316(0x1e7))/0x6+-parseInt(_0x299316(0x1f9))/0x7*(-parseInt(_0x299316(0x1fb))/0x8)+-parseInt(_0x299316(0x1f8))/0x9+-parseInt(_0x299316(0x1cb))/0xa;if(_0x1e2819===_0x488c4a)break;else _0x4e5e84['push'](_0x4e5e84['shift']());}catch(_0x59b549){_0x4e5e84['push'](_0x4e5e84['shift']());}}}(a96_0x5f8a,0xa6f04));const a96_0x580add=(function(){let _0x13d08b=!![];return function(_0x8ba87a,_0x4d9019){const _0x54cd2a=_0x13d08b?function(){const _0x200d81=a96_0x1fb3;if(_0x4d9019){const _0x3167a6=_0x4d9019[_0x200d81(0x1eb)](_0x8ba87a,arguments);return _0x4d9019=null,_0x3167a6;}}:function(){};return _0x13d08b=![],_0x54cd2a;};}()),a96_0x599fc4=a96_0x580add(this,function(){const _0x1383de=a96_0x1fb3;return a96_0x599fc4[_0x1383de(0x1cf)]()[_0x1383de(0x1c2)](_0x1383de(0x1e0))[_0x1383de(0x1cf)]()[_0x1383de(0x1d5)](a96_0x599fc4)['search']('(((.+)+)+)+$');});a96_0x599fc4();function a96_0x5f8a(){const _0x50cf7a=['FsUtils','createdDate','get','catch','__createBinding','getJobsIds','../../shared/utils/fs.utils','message','20752610RrhUKG','sortJobsIds','default','../job/enums/logger.enums','toString','Job\x20Id\x20not\x20found.','__setModuleDefault','stringify','JOB_LOG_STATE_NAME','dataPath','constructor','init','4Pcsrzi','MaskingService','csv-parse/sync','LoggerJobState','completedDate','JOB_LOG_DETAILS_NAME','NotFoundError','kill','getLog','(((.+)+)+)+$','313712xgQOTz','status','successful','@flosum/utils','readFile','DATA_MASKING_FOLDER_NAME','5660256rfHFEC','getOwnPropertyDescriptor','966485GRIijz','fs/promises','apply','JobStatus','prototype','join','slice','logErrorStartJob','JOB_LOG_STATE_FILENAME','../job/classes/logger/logger-job-state','getJobDetails','isExistsPath','\x20not\x20found.','writeFile','failed','2280753ycyBnp','2096017ZbYSLl','generateJobId','32opoYfG','__esModule','1093047aecUYa','2dtRYAy','setJobStatus','MANIFEST_FILENAME','../../../core/errors/not-found.error','makeDir','create','parse','writable','../../shared/utils/job.utils','utf-8','configurable','__importDefault','maskingFolderPath','path','createMaskingJob','defineProperty','getJobState','search'];a96_0x5f8a=function(){return _0x50cf7a;};return a96_0x5f8a();}'use strict';var __createBinding=this&&this[a96_0x4fcb4e(0x1c7)]||(Object[a96_0x4fcb4e(0x1b6)]?function(_0x3fbcdc,_0x40fcaa,_0x3d0cdb,_0x4fd960){const _0xafd43b=a96_0x4fcb4e;if(_0x4fd960===undefined)_0x4fd960=_0x3d0cdb;var _0x101e06=Object[_0xafd43b(0x1e8)](_0x40fcaa,_0x3d0cdb);(!_0x101e06||(_0xafd43b(0x1c5)in _0x101e06?!_0x40fcaa[_0xafd43b(0x1fc)]:_0x101e06[_0xafd43b(0x1b8)]||_0x101e06[_0xafd43b(0x1bb)]))&&(_0x101e06={'enumerable':!![],'get':function(){return _0x40fcaa[_0x3d0cdb];}}),Object['defineProperty'](_0x3fbcdc,_0x4fd960,_0x101e06);}:function(_0x20e34c,_0x55b82b,_0xf5c95b,_0x3e2f30){if(_0x3e2f30===undefined)_0x3e2f30=_0xf5c95b;_0x20e34c[_0x3e2f30]=_0x55b82b[_0xf5c95b];}),__setModuleDefault=this&&this[a96_0x4fcb4e(0x1d1)]||(Object[a96_0x4fcb4e(0x1b6)]?function(_0x33f9ca,_0x45aa41){const _0x4996d9=a96_0x4fcb4e;Object[_0x4996d9(0x1c0)](_0x33f9ca,'default',{'enumerable':!![],'value':_0x45aa41});}:function(_0x575800,_0x2ed6fb){const _0x1c0792=a96_0x4fcb4e;_0x575800[_0x1c0792(0x1cd)]=_0x2ed6fb;}),__importStar=this&&this['__importStar']||function(_0x3cfae2){const _0x16df5d=a96_0x4fcb4e;if(_0x3cfae2&&_0x3cfae2[_0x16df5d(0x1fc)])return _0x3cfae2;var _0x450b58={};if(_0x3cfae2!=null){for(var _0x4a3818 in _0x3cfae2)if(_0x4a3818!==_0x16df5d(0x1cd)&&Object[_0x16df5d(0x1ed)]['hasOwnProperty']['call'](_0x3cfae2,_0x4a3818))__createBinding(_0x450b58,_0x3cfae2,_0x4a3818);}return __setModuleDefault(_0x450b58,_0x3cfae2),_0x450b58;},__importDefault=this&&this[a96_0x4fcb4e(0x1bc)]||function(_0x3ef8dd){return _0x3ef8dd&&_0x3ef8dd['__esModule']?_0x3ef8dd:{'default':_0x3ef8dd};};Object[a96_0x4fcb4e(0x1c0)](exports,a96_0x4fcb4e(0x1fc),{'value':!![]}),exports[a96_0x4fcb4e(0x1d8)]=void 0x0;const path_1=__importStar(require(a96_0x4fcb4e(0x1be))),fs_utils_1=require(a96_0x4fcb4e(0x1c9)),promises_1=require(a96_0x4fcb4e(0x1ea)),logger_job_state_1=require(a96_0x4fcb4e(0x1f2)),logger_enums_1=require(a96_0x4fcb4e(0x1ce)),sync_1=require(a96_0x4fcb4e(0x1d9)),utils_1=require(a96_0x4fcb4e(0x1e4)),not_found_error_1=require(a96_0x4fcb4e(0x201)),job_1=require('../../../constants/job'),job_utils_1=__importDefault(require(a96_0x4fcb4e(0x1b9))),constants_1=require('../constants'),path_2=require('../../../configs/path');class MaskingService{static async[a96_0x4fcb4e(0x1bf)](_0x1b011f){const _0x524142=a96_0x4fcb4e,_0x51503a=job_utils_1[_0x524142(0x1cd)][_0x524142(0x1fa)](),_0x1fa108=(0x0,path_1['join'])(MaskingService['maskingFolderPath'],_0x51503a);await(0x0,fs_utils_1[_0x524142(0x1b5)])(_0x1fa108),await(0x0,promises_1[_0x524142(0x1f6)])(_0x1fa108+'/'+job_1[_0x524142(0x200)],JSON[_0x524142(0x1d2)]({'details':_0x1b011f}));const _0x49e916=await new logger_job_state_1['LoggerJobState'](_0x1fa108,_0x51503a)[_0x524142(0x1d6)]([]);await _0x49e916[_0x524142(0x1de)]();const _0x39e162=path_1[_0x524142(0x1cd)]['join'](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x524142(0x1cd)]['runJob'](_0x39e162,{'jobStorePath':_0x1fa108,'jobId':_0x51503a})[_0x524142(0x1c6)](_0x62d414=>this[_0x524142(0x1f0)](_0x1fa108,_0x51503a,_0x62d414)),{'jobId':_0x51503a};}static async['getJobs'](_0x11fb61,_0x42dce8){const _0x173fb3=a96_0x4fcb4e,_0x1d2678=await job_utils_1[_0x173fb3(0x1cd)][_0x173fb3(0x1c8)](MaskingService[_0x173fb3(0x1bd)]),_0xc26db1=await job_utils_1['default'][_0x173fb3(0x1cc)](MaskingService[_0x173fb3(0x1bd)],_0x1d2678),_0x2478dd=_0xc26db1[_0x173fb3(0x1ef)](_0x42dce8,_0x42dce8+_0x11fb61),_0xdfb105=[];for(const _0x3b13aa of _0x2478dd){const _0x47ec5b=await this[_0x173fb3(0x1c1)](_0x3b13aa,![]);_0xdfb105['push'](_0x47ec5b);}return _0xdfb105;}static async['getJobState'](_0x4f74fc,_0x22f105){const _0x51f60f=a96_0x4fcb4e,_0x4a1ea5=await this[_0x51f60f(0x1df)](_0x4f74fc,job_1[_0x51f60f(0x1f1)],constants_1[_0x51f60f(0x1d3)]),_0x4b1764=JSON[_0x51f60f(0x1b7)](_0x4a1ea5),_0x37200b={'id':_0x4b1764['id'],'status':_0x4b1764[_0x51f60f(0x1e2)],'createdDate':_0x4b1764[_0x51f60f(0x1c4)],'completedDate':_0x4b1764[_0x51f60f(0x1db)],'successful':_0x4b1764[_0x51f60f(0x1e3)],'failed':_0x4b1764[_0x51f60f(0x1f7)]};return _0x22f105?_0x4b1764:_0x37200b;}static async[a96_0x4fcb4e(0x1f3)](_0x4a937e){const _0x2d3566=a96_0x4fcb4e,_0x2dc852=await this[_0x2d3566(0x1df)](_0x4a937e,job_1['JOB_LOG_DETAILS_FILENAME'],constants_1[_0x2d3566(0x1dc)]);return(0x0,sync_1[_0x2d3566(0x1b7)])(_0x2dc852,{'columns':!![]});}static async['getLog'](_0x4362fa,_0x190337,_0x128371){const _0x3cda89=a96_0x4fcb4e,_0x59402c=(0x0,path_1[_0x3cda89(0x1ee)])(MaskingService[_0x3cda89(0x1bd)],_0x4362fa),_0x529a83=(0x0,path_1[_0x3cda89(0x1ee)])(_0x59402c,_0x190337);if(!await utils_1[_0x3cda89(0x1c3)][_0x3cda89(0x1f4)](_0x59402c))throw new not_found_error_1[(_0x3cda89(0x1dd))](_0x3cda89(0x1d0));if(!await utils_1[_0x3cda89(0x1c3)]['isExistsPath'](_0x529a83))throw new not_found_error_1[(_0x3cda89(0x1dd))](_0x128371+_0x3cda89(0x1f5));return(0x0,promises_1[_0x3cda89(0x1e5)])(_0x529a83,{'encoding':_0x3cda89(0x1ba)});}static async[a96_0x4fcb4e(0x1f0)](_0x558ea9,_0x4a0515,_0x184df1){const _0x32be12=a96_0x4fcb4e,_0x14b1fa=await new logger_job_state_1[(_0x32be12(0x1da))](_0x558ea9,_0x4a0515)['init']([]);_0x14b1fa[_0x32be12(0x1ff)](logger_enums_1[_0x32be12(0x1ec)]['FAILED']),_0x14b1fa['setJobError'](_0x184df1[_0x32be12(0x1ca)]),await _0x14b1fa[_0x32be12(0x1de)]();}}exports[a96_0x4fcb4e(0x1d8)]=MaskingService,MaskingService['maskingFolderPath']=path_1['default'][a96_0x4fcb4e(0x1ee)](path_2[a96_0x4fcb4e(0x1d4)],constants_1[a96_0x4fcb4e(0x1e6)]);