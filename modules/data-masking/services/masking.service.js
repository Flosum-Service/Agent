function a98_0x8645(){const _0x424426=['setJobError','2771970pDBbvD','getJobState','writeFile','14062887EgtcSh','MANIFEST_FILENAME','JOB_LOG_DETAILS_FILENAME','3578964BvOpeh','DATA_MASKING_FOLDER_NAME','defineProperty','getLog','NotFoundError','create','(((.+)+)+)+$','generateJobId','path','failed','parse','3qZiVUr','__createBinding','\x20not\x20found.','__importDefault','FAILED','message','get','1930096NixfPZ','JOB_PATH','createdDate','kill','../job/classes/logger/logger-job-state','__importStar','1552385TcELUT','../../../configs/path','search','__esModule','init','status','JOB_LOG_STATE_NAME','@flosum/utils','getJobDetails','FsUtils','push','isExistsPath','apply','maskingFolderPath','6336522zyMBWP','16EuFjbZ','2peazsl','slice','completedDate','JOB_LOG_DETAILS_NAME','utf-8','LoggerJobState','runJob','19287490ODJXbl','join','setJobStatus','hasOwnProperty','Job\x20Id\x20not\x20found.','22ugohVI','sortJobsIds','__setModuleDefault','../job/enums/logger.enums','prototype','csv-parse/sync','MaskingService','../constants','default','JOB_LOG_STATE_FILENAME','logErrorStartJob','configurable','JobStatus','../../../core/errors/not-found.error','successful'];a98_0x8645=function(){return _0x424426;};return a98_0x8645();}const a98_0x2e9e7c=a98_0x4085;function a98_0x4085(_0x35f67d,_0x45c533){const _0x4dcfe5=a98_0x8645();return a98_0x4085=function(_0x20f9a5,_0x3314b1){_0x20f9a5=_0x20f9a5-0x133;let _0x864587=_0x4dcfe5[_0x20f9a5];return _0x864587;},a98_0x4085(_0x35f67d,_0x45c533);}(function(_0x126e18,_0x43789d){const _0x2eaa84=a98_0x4085,_0x4560a7=_0x126e18();while(!![]){try{const _0x4c5505=-parseInt(_0x2eaa84(0x152))/0x1*(parseInt(_0x2eaa84(0x162))/0x2)+parseInt(_0x2eaa84(0x145))/0x3*(-parseInt(_0x2eaa84(0x13a))/0x4)+parseInt(_0x2eaa84(0x134))/0x5+parseInt(_0x2eaa84(0x160))/0x6+-parseInt(_0x2eaa84(0x14c))/0x7*(parseInt(_0x2eaa84(0x161))/0x8)+-parseInt(_0x2eaa84(0x137))/0x9+-parseInt(_0x2eaa84(0x169))/0xa*(-parseInt(_0x2eaa84(0x16e))/0xb);if(_0x4c5505===_0x43789d)break;else _0x4560a7['push'](_0x4560a7['shift']());}catch(_0x1a90a8){_0x4560a7['push'](_0x4560a7['shift']());}}}(a98_0x8645,0xdd666));const a98_0x3314b1=(function(){let _0x22dd05=!![];return function(_0x4f383,_0x2cd5f7){const _0x13d536=_0x22dd05?function(){const _0x265d9a=a98_0x4085;if(_0x2cd5f7){const _0x48676d=_0x2cd5f7[_0x265d9a(0x15e)](_0x4f383,arguments);return _0x2cd5f7=null,_0x48676d;}}:function(){};return _0x22dd05=![],_0x13d536;};}()),a98_0x20f9a5=a98_0x3314b1(this,function(){const _0x4b3acc=a98_0x4085;return a98_0x20f9a5['toString']()[_0x4b3acc(0x154)]('(((.+)+)+)+$')['toString']()['constructor'](a98_0x20f9a5)[_0x4b3acc(0x154)](_0x4b3acc(0x140));});a98_0x20f9a5();'use strict';var __createBinding=this&&this[a98_0x2e9e7c(0x146)]||(Object[a98_0x2e9e7c(0x13f)]?function(_0x561f0e,_0x378542,_0x579aac,_0x78ec03){const _0x31358f=a98_0x2e9e7c;if(_0x78ec03===undefined)_0x78ec03=_0x579aac;var _0x241d04=Object['getOwnPropertyDescriptor'](_0x378542,_0x579aac);(!_0x241d04||(_0x31358f(0x14b)in _0x241d04?!_0x378542[_0x31358f(0x155)]:_0x241d04['writable']||_0x241d04[_0x31358f(0x179)]))&&(_0x241d04={'enumerable':!![],'get':function(){return _0x378542[_0x579aac];}}),Object['defineProperty'](_0x561f0e,_0x78ec03,_0x241d04);}:function(_0x40b5cc,_0x2af4af,_0x39937f,_0x16dea9){if(_0x16dea9===undefined)_0x16dea9=_0x39937f;_0x40b5cc[_0x16dea9]=_0x2af4af[_0x39937f];}),__setModuleDefault=this&&this[a98_0x2e9e7c(0x170)]||(Object[a98_0x2e9e7c(0x13f)]?function(_0x18d292,_0x139b12){Object['defineProperty'](_0x18d292,'default',{'enumerable':!![],'value':_0x139b12});}:function(_0x1358cb,_0x325022){const _0x54df18=a98_0x2e9e7c;_0x1358cb[_0x54df18(0x176)]=_0x325022;}),__importStar=this&&this[a98_0x2e9e7c(0x151)]||function(_0x1796d3){const _0x32432e=a98_0x2e9e7c;if(_0x1796d3&&_0x1796d3[_0x32432e(0x155)])return _0x1796d3;var _0x501fde={};if(_0x1796d3!=null){for(var _0x27f9b3 in _0x1796d3)if(_0x27f9b3!==_0x32432e(0x176)&&Object[_0x32432e(0x172)][_0x32432e(0x16c)]['call'](_0x1796d3,_0x27f9b3))__createBinding(_0x501fde,_0x1796d3,_0x27f9b3);}return __setModuleDefault(_0x501fde,_0x1796d3),_0x501fde;},__importDefault=this&&this[a98_0x2e9e7c(0x148)]||function(_0x7298a1){const _0x53c6fe=a98_0x2e9e7c;return _0x7298a1&&_0x7298a1[_0x53c6fe(0x155)]?_0x7298a1:{'default':_0x7298a1};};Object[a98_0x2e9e7c(0x13c)](exports,a98_0x2e9e7c(0x155),{'value':!![]}),exports[a98_0x2e9e7c(0x174)]=void 0x0;const path_1=__importStar(require(a98_0x2e9e7c(0x142))),fs_utils_1=require('../../shared/utils/fs.utils'),promises_1=require('fs/promises'),logger_job_state_1=require(a98_0x2e9e7c(0x150)),logger_enums_1=require(a98_0x2e9e7c(0x171)),sync_1=require(a98_0x2e9e7c(0x173)),utils_1=require(a98_0x2e9e7c(0x159)),not_found_error_1=require(a98_0x2e9e7c(0x17b)),job_1=require('../../../constants/job'),job_utils_1=__importDefault(require('../../shared/utils/job.utils')),constants_1=require(a98_0x2e9e7c(0x175)),path_2=require(a98_0x2e9e7c(0x153));class MaskingService{static async['createMaskingJob'](_0x193499){const _0x5d75a1=a98_0x2e9e7c,_0x5d4564=job_utils_1['default'][_0x5d75a1(0x141)](),_0x12c00a=(0x0,path_1[_0x5d75a1(0x16a)])(MaskingService[_0x5d75a1(0x15f)],_0x5d4564);await(0x0,fs_utils_1['makeDir'])(_0x12c00a),await(0x0,promises_1[_0x5d75a1(0x136)])(_0x12c00a+'/'+job_1[_0x5d75a1(0x138)],JSON['stringify']({'details':_0x193499}));const _0x471d7d=await new logger_job_state_1[(_0x5d75a1(0x167))](_0x12c00a,_0x5d4564)[_0x5d75a1(0x156)]([]);await _0x471d7d['kill']();const _0x544437=path_1[_0x5d75a1(0x176)]['join'](__dirname,job_1[_0x5d75a1(0x14d)]);return job_utils_1[_0x5d75a1(0x176)][_0x5d75a1(0x168)](_0x544437,{'jobStorePath':_0x12c00a,'jobId':_0x5d4564})['catch'](_0x4e8e81=>this[_0x5d75a1(0x178)](_0x12c00a,_0x5d4564,_0x4e8e81)),{'jobId':_0x5d4564};}static async['getJobs'](_0x164952,_0x231226){const _0x25d151=a98_0x2e9e7c,_0xa19731=await job_utils_1[_0x25d151(0x176)]['getJobsIds'](MaskingService['maskingFolderPath']),_0x32ced4=await job_utils_1[_0x25d151(0x176)][_0x25d151(0x16f)](MaskingService['maskingFolderPath'],_0xa19731),_0x4017a8=_0x32ced4[_0x25d151(0x163)](_0x231226,_0x231226+_0x164952),_0x8bc824=[];for(const _0x298896 of _0x4017a8){const _0x986769=await this['getJobState'](_0x298896,![]);_0x8bc824[_0x25d151(0x15c)](_0x986769);}return _0x8bc824;}static async[a98_0x2e9e7c(0x135)](_0x5e5823,_0x127727){const _0xa0b707=a98_0x2e9e7c,_0x54740e=await this[_0xa0b707(0x13d)](_0x5e5823,job_1[_0xa0b707(0x177)],constants_1[_0xa0b707(0x158)]),_0x16edb2=JSON[_0xa0b707(0x144)](_0x54740e),_0xd5854e={'id':_0x16edb2['id'],'status':_0x16edb2[_0xa0b707(0x157)],'createdDate':_0x16edb2[_0xa0b707(0x14e)],'completedDate':_0x16edb2[_0xa0b707(0x164)],'successful':_0x16edb2[_0xa0b707(0x17c)],'failed':_0x16edb2[_0xa0b707(0x143)]};return _0x127727?_0x16edb2:_0xd5854e;}static async[a98_0x2e9e7c(0x15a)](_0x50ee28){const _0x18f1e3=a98_0x2e9e7c,_0x533444=await this[_0x18f1e3(0x13d)](_0x50ee28,job_1[_0x18f1e3(0x139)],constants_1[_0x18f1e3(0x165)]);return(0x0,sync_1[_0x18f1e3(0x144)])(_0x533444,{'columns':!![]});}static async['getLog'](_0x5ccb6a,_0x468694,_0x369640){const _0x130093=a98_0x2e9e7c,_0x5ac20e=(0x0,path_1[_0x130093(0x16a)])(MaskingService[_0x130093(0x15f)],_0x5ccb6a),_0x1c7546=(0x0,path_1[_0x130093(0x16a)])(_0x5ac20e,_0x468694);if(!await utils_1[_0x130093(0x15b)][_0x130093(0x15d)](_0x5ac20e))throw new not_found_error_1['NotFoundError'](_0x130093(0x16d));if(!await utils_1[_0x130093(0x15b)][_0x130093(0x15d)](_0x1c7546))throw new not_found_error_1[(_0x130093(0x13e))](_0x369640+_0x130093(0x147));return(0x0,promises_1['readFile'])(_0x1c7546,{'encoding':_0x130093(0x166)});}static async[a98_0x2e9e7c(0x178)](_0x14479b,_0x117da4,_0x525ef3){const _0x17ba64=a98_0x2e9e7c,_0x25d9e5=await new logger_job_state_1[(_0x17ba64(0x167))](_0x14479b,_0x117da4)[_0x17ba64(0x156)]([]);_0x25d9e5[_0x17ba64(0x16b)](logger_enums_1[_0x17ba64(0x17a)][_0x17ba64(0x149)]),_0x25d9e5[_0x17ba64(0x133)](_0x525ef3[_0x17ba64(0x14a)]),await _0x25d9e5[_0x17ba64(0x14f)]();}}exports[a98_0x2e9e7c(0x174)]=MaskingService,MaskingService[a98_0x2e9e7c(0x15f)]=path_1['default'][a98_0x2e9e7c(0x16a)](path_2['dataPath'],constants_1[a98_0x2e9e7c(0x13b)]);