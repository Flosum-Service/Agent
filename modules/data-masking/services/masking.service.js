function a80_0x5d6f(){const _0x2bb5e8=['apply','getJobsIds','message','failed','../../shared/utils/job.utils','FAILED','803965hPxMhc','createMaskingJob','successful','285830QXVAzk','@flosum/utils','(((.+)+)+)+$','prototype','FsUtils','default','readFile','JOB_LOG_DETAILS_FILENAME','__importStar','1264304aNlwvA','__esModule','defineProperty','get','\x20not\x20found.','../job/enums/logger.enums','search','getLog','path','status','isExistsPath','JOB_LOG_STATE_NAME','MaskingService','logErrorStartJob','hasOwnProperty','__importDefault','completedDate','../../../core/errors/not-found.error','__createBinding','../job/classes/logger/logger-job-state','join','maskingFolderPath','../../../constants/job','Job\x20Id\x20not\x20found.','JobStatus','parse','getJobDetails','JOB_LOG_STATE_FILENAME','csv-parse/sync','runJob','240527kVlqOw','JOB_LOG_DETAILS_NAME','10611783pGgwwf','NotFoundError','18ALnuSa','slice','getJobState','LoggerJobState','init','DATA_MASKING_FOLDER_NAME','48AWkRxz','stringify','224412YtVxIx','../../shared/utils/fs.utils','sortJobsIds','createdDate','1478814JFLhWT','create','../../../configs/path','kill','getOwnPropertyDescriptor','generateJobId','setJobError','fs/promises','makeDir','constructor','toString'];a80_0x5d6f=function(){return _0x2bb5e8;};return a80_0x5d6f();}const a80_0x58bbae=a80_0x2926;(function(_0x4d1c77,_0x2a2e6c){const _0xeefef0=a80_0x2926,_0x2bf3b5=_0x4d1c77();while(!![]){try{const _0x47c6a7=-parseInt(_0xeefef0(0x132))/0x1+-parseInt(_0xeefef0(0x11a))/0x2+-parseInt(_0xeefef0(0x11e))/0x3+-parseInt(_0xeefef0(0x13b))/0x4+parseInt(_0xeefef0(0x12f))/0x5*(parseInt(_0xeefef0(0x112))/0x6)+parseInt(_0xeefef0(0x10e))/0x7*(-parseInt(_0xeefef0(0x118))/0x8)+parseInt(_0xeefef0(0x110))/0x9;if(_0x47c6a7===_0x2a2e6c)break;else _0x2bf3b5['push'](_0x2bf3b5['shift']());}catch(_0x7c33e6){_0x2bf3b5['push'](_0x2bf3b5['shift']());}}}(a80_0x5d6f,0x3c9ba));const a80_0x38e013=(function(){let _0x37ae45=!![];return function(_0x3dcc75,_0x20c8e2){const _0x365dd8=_0x37ae45?function(){const _0x5c652f=a80_0x2926;if(_0x20c8e2){const _0x531644=_0x20c8e2[_0x5c652f(0x129)](_0x3dcc75,arguments);return _0x20c8e2=null,_0x531644;}}:function(){};return _0x37ae45=![],_0x365dd8;};}()),a80_0x373a8c=a80_0x38e013(this,function(){const _0x1708a7=a80_0x2926;return a80_0x373a8c['toString']()[_0x1708a7(0x141)]('(((.+)+)+)+$')[_0x1708a7(0x128)]()[_0x1708a7(0x127)](a80_0x373a8c)[_0x1708a7(0x141)](_0x1708a7(0x134));});a80_0x373a8c();'use strict';function a80_0x2926(_0x2f2f2e,_0x1acab6){const _0x260d9e=a80_0x5d6f();return a80_0x2926=function(_0x373a8c,_0x38e013){_0x373a8c=_0x373a8c-0x103;let _0x5d6feb=_0x260d9e[_0x373a8c];return _0x5d6feb;},a80_0x2926(_0x2f2f2e,_0x1acab6);}var __createBinding=this&&this[a80_0x58bbae(0x14d)]||(Object[a80_0x58bbae(0x11f)]?function(_0x318c79,_0x561ea2,_0x4f521f,_0x3c699c){const _0x52164b=a80_0x58bbae;if(_0x3c699c===undefined)_0x3c699c=_0x4f521f;var _0x17adc1=Object[_0x52164b(0x122)](_0x561ea2,_0x4f521f);(!_0x17adc1||(_0x52164b(0x13e)in _0x17adc1?!_0x561ea2[_0x52164b(0x13c)]:_0x17adc1['writable']||_0x17adc1['configurable']))&&(_0x17adc1={'enumerable':!![],'get':function(){return _0x561ea2[_0x4f521f];}}),Object[_0x52164b(0x13d)](_0x318c79,_0x3c699c,_0x17adc1);}:function(_0x1b6109,_0x47e6d3,_0x589946,_0x2d424c){if(_0x2d424c===undefined)_0x2d424c=_0x589946;_0x1b6109[_0x2d424c]=_0x47e6d3[_0x589946];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object['create']?function(_0x3b9b36,_0x4e482f){const _0x5e3360=a80_0x58bbae;Object[_0x5e3360(0x13d)](_0x3b9b36,_0x5e3360(0x137),{'enumerable':!![],'value':_0x4e482f});}:function(_0x266a39,_0x1934ce){const _0x496049=a80_0x58bbae;_0x266a39[_0x496049(0x137)]=_0x1934ce;}),__importStar=this&&this[a80_0x58bbae(0x13a)]||function(_0x5267de){const _0x5598c3=a80_0x58bbae;if(_0x5267de&&_0x5267de[_0x5598c3(0x13c)])return _0x5267de;var _0x2474a4={};if(_0x5267de!=null){for(var _0x13254f in _0x5267de)if(_0x13254f!==_0x5598c3(0x137)&&Object[_0x5598c3(0x135)][_0x5598c3(0x149)]['call'](_0x5267de,_0x13254f))__createBinding(_0x2474a4,_0x5267de,_0x13254f);}return __setModuleDefault(_0x2474a4,_0x5267de),_0x2474a4;},__importDefault=this&&this[a80_0x58bbae(0x14a)]||function(_0x470145){const _0x3f139d=a80_0x58bbae;return _0x470145&&_0x470145[_0x3f139d(0x13c)]?_0x470145:{'default':_0x470145};};Object[a80_0x58bbae(0x13d)](exports,'__esModule',{'value':!![]}),exports[a80_0x58bbae(0x147)]=void 0x0;const path_1=__importStar(require(a80_0x58bbae(0x143))),fs_utils_1=require(a80_0x58bbae(0x11b)),promises_1=require(a80_0x58bbae(0x125)),logger_job_state_1=require(a80_0x58bbae(0x103)),logger_enums_1=require(a80_0x58bbae(0x140)),sync_1=require(a80_0x58bbae(0x10c)),utils_1=require(a80_0x58bbae(0x133)),not_found_error_1=require(a80_0x58bbae(0x14c)),job_1=require(a80_0x58bbae(0x106)),job_utils_1=__importDefault(require(a80_0x58bbae(0x12d))),constants_1=require('../constants'),path_2=require(a80_0x58bbae(0x120));class MaskingService{static async[a80_0x58bbae(0x130)](_0x4ab973){const _0x39570d=a80_0x58bbae,_0x2674a4=job_utils_1['default'][_0x39570d(0x123)](),_0x38c7e7=(0x0,path_1[_0x39570d(0x104)])(MaskingService[_0x39570d(0x105)],_0x2674a4);await(0x0,fs_utils_1[_0x39570d(0x126)])(_0x38c7e7),await(0x0,promises_1['writeFile'])(_0x38c7e7+'/'+job_1['MANIFEST_FILENAME'],JSON[_0x39570d(0x119)]({'details':_0x4ab973}));const _0x578517=await new logger_job_state_1[(_0x39570d(0x115))](_0x38c7e7,_0x2674a4)[_0x39570d(0x116)]([]);await _0x578517[_0x39570d(0x121)]();const _0x2c5e97=path_1['default'][_0x39570d(0x104)](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x39570d(0x137)][_0x39570d(0x10d)](_0x2c5e97,{'jobStorePath':_0x38c7e7,'jobId':_0x2674a4})['catch'](_0xa826f=>this['logErrorStartJob'](_0x38c7e7,_0x2674a4,_0xa826f)),{'jobId':_0x2674a4};}static async['getJobs'](_0x111e2a,_0x36b4f3){const _0x2ccf5a=a80_0x58bbae,_0x1d35ed=await job_utils_1['default'][_0x2ccf5a(0x12a)](MaskingService['maskingFolderPath']),_0xa3727a=await job_utils_1[_0x2ccf5a(0x137)][_0x2ccf5a(0x11c)](MaskingService[_0x2ccf5a(0x105)],_0x1d35ed),_0x14ee8b=_0xa3727a[_0x2ccf5a(0x113)](_0x36b4f3,_0x36b4f3+_0x111e2a),_0x2b7d00=[];for(const _0x587ea2 of _0x14ee8b){const _0x2bac53=await this[_0x2ccf5a(0x114)](_0x587ea2,![]);_0x2b7d00['push'](_0x2bac53);}return _0x2b7d00;}static async[a80_0x58bbae(0x114)](_0x2be7ad,_0x2d1749){const _0x9dde34=a80_0x58bbae,_0x3a4866=await this['getLog'](_0x2be7ad,job_1[_0x9dde34(0x10b)],constants_1[_0x9dde34(0x146)]),_0x2f97c8=JSON[_0x9dde34(0x109)](_0x3a4866),_0x32a33d={'id':_0x2f97c8['id'],'status':_0x2f97c8[_0x9dde34(0x144)],'createdDate':_0x2f97c8[_0x9dde34(0x11d)],'completedDate':_0x2f97c8[_0x9dde34(0x14b)],'successful':_0x2f97c8[_0x9dde34(0x131)],'failed':_0x2f97c8[_0x9dde34(0x12c)]};return _0x2d1749?_0x2f97c8:_0x32a33d;}static async[a80_0x58bbae(0x10a)](_0x454ee7){const _0x847168=a80_0x58bbae,_0x2a0e2a=await this[_0x847168(0x142)](_0x454ee7,job_1[_0x847168(0x139)],constants_1[_0x847168(0x10f)]);return(0x0,sync_1[_0x847168(0x109)])(_0x2a0e2a,{'columns':!![]});}static async[a80_0x58bbae(0x142)](_0x3d5544,_0x477c71,_0xa515b6){const _0x1dbebe=a80_0x58bbae,_0x48e76e=(0x0,path_1[_0x1dbebe(0x104)])(MaskingService[_0x1dbebe(0x105)],_0x3d5544),_0x3b9769=(0x0,path_1['join'])(_0x48e76e,_0x477c71);if(!await utils_1[_0x1dbebe(0x136)][_0x1dbebe(0x145)](_0x48e76e))throw new not_found_error_1[(_0x1dbebe(0x111))](_0x1dbebe(0x107));if(!await utils_1['FsUtils'][_0x1dbebe(0x145)](_0x3b9769))throw new not_found_error_1['NotFoundError'](_0xa515b6+_0x1dbebe(0x13f));return(0x0,promises_1[_0x1dbebe(0x138)])(_0x3b9769,{'encoding':'utf-8'});}static async[a80_0x58bbae(0x148)](_0x32db7a,_0xf9cffd,_0x1f78ba){const _0x17030b=a80_0x58bbae,_0x270d08=await new logger_job_state_1[(_0x17030b(0x115))](_0x32db7a,_0xf9cffd)[_0x17030b(0x116)]([]);_0x270d08['setJobStatus'](logger_enums_1[_0x17030b(0x108)][_0x17030b(0x12e)]),_0x270d08[_0x17030b(0x124)](_0x1f78ba[_0x17030b(0x12b)]),await _0x270d08['kill']();}}exports['MaskingService']=MaskingService,MaskingService[a80_0x58bbae(0x105)]=path_1[a80_0x58bbae(0x137)][a80_0x58bbae(0x104)](path_2['dataPath'],constants_1[a80_0x58bbae(0x117)]);