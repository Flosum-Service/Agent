const a99_0x40fae9=a99_0x3ae9;function a99_0x3ae9(_0x624310,_0x1158cb){const _0x3775f2=a99_0x3827();return a99_0x3ae9=function(_0x2bd1dc,_0x231608){_0x2bd1dc=_0x2bd1dc-0x171;let _0x38274f=_0x3775f2[_0x2bd1dc];return _0x38274f;},a99_0x3ae9(_0x624310,_0x1158cb);}(function(_0x1ca92a,_0x4eafc8){const _0x4bcbf9=a99_0x3ae9,_0x2cabb7=_0x1ca92a();while(!![]){try{const _0x1e4a00=-parseInt(_0x4bcbf9(0x176))/0x1*(-parseInt(_0x4bcbf9(0x183))/0x2)+-parseInt(_0x4bcbf9(0x171))/0x3+parseInt(_0x4bcbf9(0x1aa))/0x4*(-parseInt(_0x4bcbf9(0x1a0))/0x5)+parseInt(_0x4bcbf9(0x188))/0x6+parseInt(_0x4bcbf9(0x1a7))/0x7*(-parseInt(_0x4bcbf9(0x18b))/0x8)+parseInt(_0x4bcbf9(0x198))/0x9+parseInt(_0x4bcbf9(0x172))/0xa;if(_0x1e4a00===_0x4eafc8)break;else _0x2cabb7['push'](_0x2cabb7['shift']());}catch(_0x263da5){_0x2cabb7['push'](_0x2cabb7['shift']());}}}(a99_0x3827,0x6f2ff));const a99_0x231608=(function(){let _0x13483b=!![];return function(_0x497c8b,_0x5769f5){const _0x3c5241=_0x13483b?function(){const _0x18b396=a99_0x3ae9;if(_0x5769f5){const _0xecb9a4=_0x5769f5[_0x18b396(0x196)](_0x497c8b,arguments);return _0x5769f5=null,_0xecb9a4;}}:function(){};return _0x13483b=![],_0x3c5241;};}()),a99_0x2bd1dc=a99_0x231608(this,function(){const _0x4cf41c=a99_0x3ae9;return a99_0x2bd1dc[_0x4cf41c(0x181)]()[_0x4cf41c(0x1b5)](_0x4cf41c(0x18c))[_0x4cf41c(0x181)]()['constructor'](a99_0x2bd1dc)[_0x4cf41c(0x1b5)](_0x4cf41c(0x18c));});a99_0x2bd1dc();'use strict';var __createBinding=this&&this['__createBinding']||(Object['create']?function(_0x3bca5d,_0x206402,_0x37c48c,_0x465d83){const _0x398ffb=a99_0x3ae9;if(_0x465d83===undefined)_0x465d83=_0x37c48c;var _0x50462f=Object[_0x398ffb(0x18f)](_0x206402,_0x37c48c);(!_0x50462f||('get'in _0x50462f?!_0x206402[_0x398ffb(0x187)]:_0x50462f[_0x398ffb(0x1b8)]||_0x50462f['configurable']))&&(_0x50462f={'enumerable':!![],'get':function(){return _0x206402[_0x37c48c];}}),Object[_0x398ffb(0x1af)](_0x3bca5d,_0x465d83,_0x50462f);}:function(_0x5660a1,_0x307ec9,_0x1c7cab,_0x3ca783){if(_0x3ca783===undefined)_0x3ca783=_0x1c7cab;_0x5660a1[_0x3ca783]=_0x307ec9[_0x1c7cab];}),__setModuleDefault=this&&this['__setModuleDefault']||(Object[a99_0x40fae9(0x17b)]?function(_0x25a62b,_0x1346b9){const _0x34117c=a99_0x40fae9;Object[_0x34117c(0x1af)](_0x25a62b,_0x34117c(0x1a9),{'enumerable':!![],'value':_0x1346b9});}:function(_0x15d322,_0xd37bf4){const _0x3cd51e=a99_0x40fae9;_0x15d322[_0x3cd51e(0x1a9)]=_0xd37bf4;}),__importStar=this&&this[a99_0x40fae9(0x1b0)]||function(_0x54dc74){const _0x372159=a99_0x40fae9;if(_0x54dc74&&_0x54dc74[_0x372159(0x187)])return _0x54dc74;var _0x182881={};if(_0x54dc74!=null){for(var _0x185359 in _0x54dc74)if(_0x185359!=='default'&&Object[_0x372159(0x17d)][_0x372159(0x1b6)][_0x372159(0x1ab)](_0x54dc74,_0x185359))__createBinding(_0x182881,_0x54dc74,_0x185359);}return __setModuleDefault(_0x182881,_0x54dc74),_0x182881;},__importDefault=this&&this[a99_0x40fae9(0x1b1)]||function(_0x3340dc){const _0x410b90=a99_0x40fae9;return _0x3340dc&&_0x3340dc[_0x410b90(0x187)]?_0x3340dc:{'default':_0x3340dc};};Object[a99_0x40fae9(0x1af)](exports,a99_0x40fae9(0x187),{'value':!![]}),exports[a99_0x40fae9(0x1a3)]=void 0x0;const path_1=__importStar(require('path')),fs_utils_1=require(a99_0x40fae9(0x1b3)),promises_1=require('fs/promises'),logger_job_state_1=require(a99_0x40fae9(0x174)),logger_enums_1=require('../job/enums/logger.enums'),sync_1=require(a99_0x40fae9(0x1b2)),utils_1=require(a99_0x40fae9(0x195)),not_found_error_1=require(a99_0x40fae9(0x1a2)),job_1=require(a99_0x40fae9(0x185)),job_utils_1=__importDefault(require(a99_0x40fae9(0x199))),constants_1=require(a99_0x40fae9(0x17a)),path_2=require('../../../configs/path');class MaskingService{static async[a99_0x40fae9(0x19e)](_0x2fd475){const _0x489761=a99_0x40fae9,_0x5685bf=job_utils_1[_0x489761(0x1a9)][_0x489761(0x19b)](),_0x4012c8=(0x0,path_1[_0x489761(0x190)])(MaskingService[_0x489761(0x186)],_0x5685bf);await(0x0,fs_utils_1[_0x489761(0x18a)])(_0x4012c8),await(0x0,promises_1[_0x489761(0x178)])(_0x4012c8+'/'+job_1[_0x489761(0x197)],JSON[_0x489761(0x180)]({'details':_0x2fd475}));const _0x254870=await new logger_job_state_1[(_0x489761(0x1a6))](_0x4012c8,_0x5685bf)[_0x489761(0x1bc)]([]);await _0x254870[_0x489761(0x182)]();const _0x558758=path_1[_0x489761(0x1a9)]['join'](__dirname,job_1[_0x489761(0x1ad)]);return job_utils_1[_0x489761(0x1a9)][_0x489761(0x1a5)](_0x558758,{'jobStorePath':_0x4012c8,'jobId':_0x5685bf})[_0x489761(0x192)](_0x5e928a=>this['logErrorStartJob'](_0x4012c8,_0x5685bf,_0x5e928a)),{'jobId':_0x5685bf};}static async[a99_0x40fae9(0x194)](_0x382040,_0x32cee7){const _0x5a7379=a99_0x40fae9,_0x24084c=await job_utils_1[_0x5a7379(0x1a9)][_0x5a7379(0x19a)](MaskingService[_0x5a7379(0x186)]),_0x5d1148=await job_utils_1[_0x5a7379(0x1a9)][_0x5a7379(0x1a1)](MaskingService[_0x5a7379(0x186)],_0x24084c),_0x69606a=_0x5d1148[_0x5a7379(0x177)](_0x32cee7,_0x32cee7+_0x382040),_0x409b26=[];for(const _0x3dc9ec of _0x69606a){const _0xa6f6eb=await this[_0x5a7379(0x191)](_0x3dc9ec,![]);_0x409b26[_0x5a7379(0x1b7)](_0xa6f6eb);}return _0x409b26;}static async[a99_0x40fae9(0x191)](_0x45e6a2,_0x3eadf6){const _0x23d7bb=a99_0x40fae9,_0xaf8c53=await this[_0x23d7bb(0x173)](_0x45e6a2,job_1['JOB_LOG_STATE_FILENAME'],constants_1[_0x23d7bb(0x179)]),_0x122b69=JSON['parse'](_0xaf8c53),_0x3829ec={'id':_0x122b69['id'],'status':_0x122b69['status'],'createdDate':_0x122b69['createdDate'],'completedDate':_0x122b69[_0x23d7bb(0x17f)],'successful':_0x122b69[_0x23d7bb(0x1bb)],'failed':_0x122b69[_0x23d7bb(0x175)]};return _0x3eadf6?_0x122b69:_0x3829ec;}static async[a99_0x40fae9(0x1bd)](_0xf4ecbd){const _0x2182ff=a99_0x40fae9,_0x222c9f=await this[_0x2182ff(0x173)](_0xf4ecbd,job_1[_0x2182ff(0x19d)],constants_1[_0x2182ff(0x17c)]);return(0x0,sync_1[_0x2182ff(0x18d)])(_0x222c9f,{'columns':!![]});}static async['getLog'](_0x11a35f,_0x57c26c,_0x45dc0d){const _0x57b26f=a99_0x40fae9,_0x419ba8=(0x0,path_1[_0x57b26f(0x190)])(MaskingService[_0x57b26f(0x186)],_0x11a35f),_0x1ec6fd=(0x0,path_1[_0x57b26f(0x190)])(_0x419ba8,_0x57c26c);if(!await utils_1[_0x57b26f(0x19f)][_0x57b26f(0x1ae)](_0x419ba8))throw new not_found_error_1['NotFoundError'](_0x57b26f(0x18e));if(!await utils_1[_0x57b26f(0x19f)][_0x57b26f(0x1ae)](_0x1ec6fd))throw new not_found_error_1[(_0x57b26f(0x1b9))](_0x45dc0d+_0x57b26f(0x1ba));return(0x0,promises_1[_0x57b26f(0x193)])(_0x1ec6fd,{'encoding':_0x57b26f(0x19c)});}static async[a99_0x40fae9(0x184)](_0x4a0887,_0x47aaaa,_0x54f239){const _0x2879bb=a99_0x40fae9,_0x5279d9=await new logger_job_state_1[(_0x2879bb(0x1a6))](_0x4a0887,_0x47aaaa)[_0x2879bb(0x1bc)]([]);_0x5279d9[_0x2879bb(0x1ac)](logger_enums_1['JobStatus'][_0x2879bb(0x1b4)]),_0x5279d9[_0x2879bb(0x1a8)](_0x54f239[_0x2879bb(0x17e)]),await _0x5279d9[_0x2879bb(0x182)]();}}exports[a99_0x40fae9(0x1a3)]=MaskingService,MaskingService[a99_0x40fae9(0x186)]=path_1['default'][a99_0x40fae9(0x190)](path_2[a99_0x40fae9(0x189)],constants_1[a99_0x40fae9(0x1a4)]);function a99_0x3827(){const _0x119a01=['push','writable','NotFoundError','\x20not\x20found.','successful','init','getJobDetails','1731480MQncFG','15822670yMxXAZ','getLog','../job/classes/logger/logger-job-state','failed','1GEuENz','slice','writeFile','JOB_LOG_STATE_NAME','../constants','create','JOB_LOG_DETAILS_NAME','prototype','message','completedDate','stringify','toString','kill','1080076lilfny','logErrorStartJob','../../../constants/job','maskingFolderPath','__esModule','2465634xuzYIn','dataPath','makeDir','108248JsXnhf','(((.+)+)+)+$','parse','Job\x20Id\x20not\x20found.','getOwnPropertyDescriptor','join','getJobState','catch','readFile','getJobs','@flosum/utils','apply','MANIFEST_FILENAME','520722LUpwqr','../../shared/utils/job.utils','getJobsIds','generateJobId','utf-8','JOB_LOG_DETAILS_FILENAME','createMaskingJob','FsUtils','500fIxACn','sortJobsIds','../../../core/errors/not-found.error','MaskingService','DATA_MASKING_FOLDER_NAME','runJob','LoggerJobState','343TaFokf','setJobError','default','35820yDsETS','call','setJobStatus','JOB_PATH','isExistsPath','defineProperty','__importStar','__importDefault','csv-parse/sync','../../shared/utils/fs.utils','FAILED','search','hasOwnProperty'];a99_0x3827=function(){return _0x119a01;};return a99_0x3827();}