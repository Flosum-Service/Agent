const a81_0xe81c5=a81_0x3ce7;(function(_0xb3b726,_0x4cb6c4){const _0xdf749c=a81_0x3ce7,_0x5f07fe=_0xb3b726();while(!![]){try{const _0x48c445=-parseInt(_0xdf749c(0x14e))/0x1+-parseInt(_0xdf749c(0x116))/0x2*(-parseInt(_0xdf749c(0x124))/0x3)+parseInt(_0xdf749c(0x157))/0x4+parseInt(_0xdf749c(0x135))/0x5+-parseInt(_0xdf749c(0x131))/0x6*(-parseInt(_0xdf749c(0x120))/0x7)+parseInt(_0xdf749c(0x143))/0x8*(parseInt(_0xdf749c(0x153))/0x9)+-parseInt(_0xdf749c(0x152))/0xa;if(_0x48c445===_0x4cb6c4)break;else _0x5f07fe['push'](_0x5f07fe['shift']());}catch(_0x499514){_0x5f07fe['push'](_0x5f07fe['shift']());}}}(a81_0x4bb5,0x54280));const a81_0x255008=(function(){let _0x5c5595=!![];return function(_0x1815c9,_0x105441){const _0xf1e4f1=_0x5c5595?function(){const _0x49c896=a81_0x3ce7;if(_0x105441){const _0x5acf3e=_0x105441[_0x49c896(0x12c)](_0x1815c9,arguments);return _0x105441=null,_0x5acf3e;}}:function(){};return _0x5c5595=![],_0xf1e4f1;};}()),a81_0x419168=a81_0x255008(this,function(){const _0x504f46=a81_0x3ce7;return a81_0x419168[_0x504f46(0x137)]()[_0x504f46(0x13a)](_0x504f46(0x134))[_0x504f46(0x137)]()['constructor'](a81_0x419168)[_0x504f46(0x13a)](_0x504f46(0x134));});function a81_0x4bb5(){const _0x334309=['getJobState','FsUtils','getOwnPropertyDescriptor','../../shared/utils/job.utils','push','readFile','writeFile','../../../core/errors/not-found.error','prototype','350354RYyZtz','sortJobsIds','@flosum/utils','kill','12668670YtZtpt','9taqjWW','dataPath','../constants','../job/classes/logger/logger-job-state','1986092jCMrqA','defineProperty','init','getJobsIds','../../shared/utils/fs.utils','completedDate','successful','JOB_LOG_DETAILS_FILENAME','6juIZvq','get','FAILED','join','isExistsPath','fs/promises','__importStar','createdDate','getLog','MaskingService','139979dYHMoK','maskingFolderPath','../../../constants/job','__createBinding','533787zuuNIp','failed','csv-parse/sync','JOB_LOG_STATE_NAME','create','__setModuleDefault','runJob','JobStatus','apply','createMaskingJob','hasOwnProperty','__importDefault','../../../configs/path','6LNwEWA','DATA_MASKING_FOLDER_NAME','setJobStatus','(((.+)+)+)+$','2193060UXqgzo','slice','toString','default','stringify','search','getJobs','JOB_LOG_DETAILS_NAME','NotFoundError','logErrorStartJob','call','MANIFEST_FILENAME','__esModule','Job\x20Id\x20not\x20found.','3784048HIetnI','parse'];a81_0x4bb5=function(){return _0x334309;};return a81_0x4bb5();}a81_0x419168();function a81_0x3ce7(_0x241a6d,_0x2abaca){const _0x998c02=a81_0x4bb5();return a81_0x3ce7=function(_0x419168,_0x255008){_0x419168=_0x419168-0x112;let _0x4bb5fa=_0x998c02[_0x419168];return _0x4bb5fa;},a81_0x3ce7(_0x241a6d,_0x2abaca);}'use strict';var __createBinding=this&&this[a81_0xe81c5(0x123)]||(Object[a81_0xe81c5(0x128)]?function(_0x3facda,_0x41c4f5,_0x37e432,_0x477d1a){const _0x2bac12=a81_0xe81c5;if(_0x477d1a===undefined)_0x477d1a=_0x37e432;var _0x259ee9=Object[_0x2bac12(0x147)](_0x41c4f5,_0x37e432);(!_0x259ee9||(_0x2bac12(0x117)in _0x259ee9?!_0x41c4f5[_0x2bac12(0x141)]:_0x259ee9['writable']||_0x259ee9['configurable']))&&(_0x259ee9={'enumerable':!![],'get':function(){return _0x41c4f5[_0x37e432];}}),Object[_0x2bac12(0x158)](_0x3facda,_0x477d1a,_0x259ee9);}:function(_0x17c0e1,_0x464dfa,_0x149c7b,_0x3983e9){if(_0x3983e9===undefined)_0x3983e9=_0x149c7b;_0x17c0e1[_0x3983e9]=_0x464dfa[_0x149c7b];}),__setModuleDefault=this&&this[a81_0xe81c5(0x129)]||(Object[a81_0xe81c5(0x128)]?function(_0x53d91a,_0x2ca93e){const _0x17271a=a81_0xe81c5;Object['defineProperty'](_0x53d91a,_0x17271a(0x138),{'enumerable':!![],'value':_0x2ca93e});}:function(_0x4c9763,_0x26f9b2){_0x4c9763['default']=_0x26f9b2;}),__importStar=this&&this[a81_0xe81c5(0x11c)]||function(_0x463c55){const _0x15558f=a81_0xe81c5;if(_0x463c55&&_0x463c55[_0x15558f(0x141)])return _0x463c55;var _0x1a0198={};if(_0x463c55!=null){for(var _0x1dc0a8 in _0x463c55)if(_0x1dc0a8!==_0x15558f(0x138)&&Object[_0x15558f(0x14d)][_0x15558f(0x12e)][_0x15558f(0x13f)](_0x463c55,_0x1dc0a8))__createBinding(_0x1a0198,_0x463c55,_0x1dc0a8);}return __setModuleDefault(_0x1a0198,_0x463c55),_0x1a0198;},__importDefault=this&&this[a81_0xe81c5(0x12f)]||function(_0x333c70){const _0x4b8812=a81_0xe81c5;return _0x333c70&&_0x333c70[_0x4b8812(0x141)]?_0x333c70:{'default':_0x333c70};};Object[a81_0xe81c5(0x158)](exports,a81_0xe81c5(0x141),{'value':!![]}),exports[a81_0xe81c5(0x11f)]=void 0x0;const path_1=__importStar(require('path')),fs_utils_1=require(a81_0xe81c5(0x112)),promises_1=require(a81_0xe81c5(0x11b)),logger_job_state_1=require(a81_0xe81c5(0x156)),logger_enums_1=require('../job/enums/logger.enums'),sync_1=require(a81_0xe81c5(0x126)),utils_1=require(a81_0xe81c5(0x150)),not_found_error_1=require(a81_0xe81c5(0x14c)),job_1=require(a81_0xe81c5(0x122)),job_utils_1=__importDefault(require(a81_0xe81c5(0x148))),constants_1=require(a81_0xe81c5(0x155)),path_2=require(a81_0xe81c5(0x130));class MaskingService{static async[a81_0xe81c5(0x12d)](_0x2dea40){const _0x2cc936=a81_0xe81c5,_0x171358=job_utils_1[_0x2cc936(0x138)]['generateJobId'](),_0x6e5f16=(0x0,path_1[_0x2cc936(0x119)])(MaskingService[_0x2cc936(0x121)],_0x171358);await(0x0,fs_utils_1['makeDir'])(_0x6e5f16),await(0x0,promises_1[_0x2cc936(0x14b)])(_0x6e5f16+'/'+job_1[_0x2cc936(0x140)],JSON[_0x2cc936(0x139)]({'details':_0x2dea40}));const _0x58468e=await new logger_job_state_1['LoggerJobState'](_0x6e5f16,_0x171358)[_0x2cc936(0x159)]([]);await _0x58468e[_0x2cc936(0x151)]();const _0x57be02=path_1['default']['join'](__dirname,job_1['JOB_PATH']);return job_utils_1[_0x2cc936(0x138)][_0x2cc936(0x12a)](_0x57be02,{'jobStorePath':_0x6e5f16,'jobId':_0x171358})['catch'](_0x51f40f=>this['logErrorStartJob'](_0x6e5f16,_0x171358,_0x51f40f)),{'jobId':_0x171358};}static async[a81_0xe81c5(0x13b)](_0xf6d146,_0x4a96b1){const _0x29b891=a81_0xe81c5,_0xb5f17d=await job_utils_1[_0x29b891(0x138)][_0x29b891(0x15a)](MaskingService['maskingFolderPath']),_0x471baa=await job_utils_1[_0x29b891(0x138)][_0x29b891(0x14f)](MaskingService[_0x29b891(0x121)],_0xb5f17d),_0x572341=_0x471baa[_0x29b891(0x136)](_0x4a96b1,_0x4a96b1+_0xf6d146),_0x3c620c=[];for(const _0x2d65a2 of _0x572341){const _0x6cba7f=await this[_0x29b891(0x145)](_0x2d65a2,![]);_0x3c620c[_0x29b891(0x149)](_0x6cba7f);}return _0x3c620c;}static async[a81_0xe81c5(0x145)](_0x4b07f4,_0x438077){const _0x34ab36=a81_0xe81c5,_0x4a8047=await this[_0x34ab36(0x11e)](_0x4b07f4,job_1['JOB_LOG_STATE_FILENAME'],constants_1[_0x34ab36(0x127)]),_0x57ab9a=JSON[_0x34ab36(0x144)](_0x4a8047),_0x1d1446={'id':_0x57ab9a['id'],'status':_0x57ab9a['status'],'createdDate':_0x57ab9a[_0x34ab36(0x11d)],'completedDate':_0x57ab9a[_0x34ab36(0x113)],'successful':_0x57ab9a[_0x34ab36(0x114)],'failed':_0x57ab9a[_0x34ab36(0x125)]};return _0x438077?_0x57ab9a:_0x1d1446;}static async['getJobDetails'](_0x447ed6){const _0x3e81b4=a81_0xe81c5,_0x276edb=await this[_0x3e81b4(0x11e)](_0x447ed6,job_1[_0x3e81b4(0x115)],constants_1[_0x3e81b4(0x13c)]);return(0x0,sync_1[_0x3e81b4(0x144)])(_0x276edb,{'columns':!![]});}static async[a81_0xe81c5(0x11e)](_0xf79370,_0x217682,_0x4d16d6){const _0x2400fb=a81_0xe81c5,_0x309308=(0x0,path_1[_0x2400fb(0x119)])(MaskingService[_0x2400fb(0x121)],_0xf79370),_0x2b4b36=(0x0,path_1['join'])(_0x309308,_0x217682);if(!await utils_1[_0x2400fb(0x146)][_0x2400fb(0x11a)](_0x309308))throw new not_found_error_1[(_0x2400fb(0x13d))](_0x2400fb(0x142));if(!await utils_1[_0x2400fb(0x146)][_0x2400fb(0x11a)](_0x2b4b36))throw new not_found_error_1[(_0x2400fb(0x13d))](_0x4d16d6+'\x20not\x20found.');return(0x0,promises_1[_0x2400fb(0x14a)])(_0x2b4b36,{'encoding':'utf-8'});}static async[a81_0xe81c5(0x13e)](_0x6e184d,_0x49d89a,_0x13f011){const _0x123afb=a81_0xe81c5,_0x40c9a6=await new logger_job_state_1['LoggerJobState'](_0x6e184d,_0x49d89a)[_0x123afb(0x159)]([]);_0x40c9a6[_0x123afb(0x133)](logger_enums_1[_0x123afb(0x12b)][_0x123afb(0x118)]),_0x40c9a6['setJobError'](_0x13f011['message']),await _0x40c9a6[_0x123afb(0x151)]();}}exports[a81_0xe81c5(0x11f)]=MaskingService,MaskingService['maskingFolderPath']=path_1['default'][a81_0xe81c5(0x119)](path_2[a81_0xe81c5(0x154)],constants_1[a81_0xe81c5(0x132)]);