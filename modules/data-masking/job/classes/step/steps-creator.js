const a79_0x2cb0eb=a79_0x14cc;(function(_0x434d0b,_0x541350){const _0x3e9b49=a79_0x14cc,_0x4b9270=_0x434d0b();while(!![]){try{const _0xf0710f=parseInt(_0x3e9b49(0x1ac))/0x1+-parseInt(_0x3e9b49(0x1b9))/0x2+-parseInt(_0x3e9b49(0x1b3))/0x3*(-parseInt(_0x3e9b49(0x1a7))/0x4)+-parseInt(_0x3e9b49(0x1c6))/0x5+-parseInt(_0x3e9b49(0x1b6))/0x6+parseInt(_0x3e9b49(0x1aa))/0x7*(-parseInt(_0x3e9b49(0x1a8))/0x8)+parseInt(_0x3e9b49(0x1c0))/0x9*(parseInt(_0x3e9b49(0x1a9))/0xa);if(_0xf0710f===_0x541350)break;else _0x4b9270['push'](_0x4b9270['shift']());}catch(_0x30b92a){_0x4b9270['push'](_0x4b9270['shift']());}}}(a79_0x1f39,0xa1e07));function a79_0x1f39(){const _0x4468a7=['42yQIrDT','defineProperty','search','1619814YRQoRj','constructor','./delete-step','270334LkDBEe','getDeleteStep','apply','name','@flosum/salesforce','_libraries','fetchDescribes','3427389llmeSG','StepsCreator','DeleteStep','_loggerDetails','MaskingStep','../../../../../constants','3666235Lbjfns','_objectRules','keys','_objectsDescribes','SALESFORCE_API_VERSION_RAW','map','__esModule','toString','97396bQKziC','8glSSin','30sFVMYD','2912042nvZAvf','_request','734087QqsAfK','_loggerJobState','getMaskingStep','ObjectRuleType','(((.+)+)+)+$','DescribeService','./masking-step'];a79_0x1f39=function(){return _0x4468a7;};return a79_0x1f39();}function a79_0x14cc(_0x5c50b3,_0x3a4718){const _0x4c3eba=a79_0x1f39();return a79_0x14cc=function(_0x3415b1,_0x19b739){_0x3415b1=_0x3415b1-0x1a5;let _0x1f390a=_0x4c3eba[_0x3415b1];return _0x1f390a;},a79_0x14cc(_0x5c50b3,_0x3a4718);}const a79_0x19b739=(function(){let _0x38fa07=!![];return function(_0x1b0d73,_0xad6e2e){const _0x276d52=_0x38fa07?function(){const _0x37ccf2=a79_0x14cc;if(_0xad6e2e){const _0x469a4c=_0xad6e2e[_0x37ccf2(0x1bb)](_0x1b0d73,arguments);return _0xad6e2e=null,_0x469a4c;}}:function(){};return _0x38fa07=![],_0x276d52;};}()),a79_0x3415b1=a79_0x19b739(this,function(){const _0x46b1fc=a79_0x14cc;return a79_0x3415b1[_0x46b1fc(0x1a6)]()[_0x46b1fc(0x1b5)](_0x46b1fc(0x1b0))[_0x46b1fc(0x1a6)]()[_0x46b1fc(0x1b7)](a79_0x3415b1)[_0x46b1fc(0x1b5)](_0x46b1fc(0x1b0));});a79_0x3415b1();'use strict';Object[a79_0x2cb0eb(0x1b4)](exports,a79_0x2cb0eb(0x1a5),{'value':!![]}),exports['StepsCreator']=void 0x0;const salesforce_1=require(a79_0x2cb0eb(0x1bd)),masking_step_1=require(a79_0x2cb0eb(0x1b2)),constants_1=require(a79_0x2cb0eb(0x1c5)),job_enums_1=require('../../enums/job.enums'),delete_step_1=require(a79_0x2cb0eb(0x1b8));class StepsCreator{constructor({loggerDetails:_0x1770da,loggerJobState:_0x69c988,objectRules:_0xb95e62,request:_0xc5a1e,libraries:_0x28eeb6}){const _0x142b37=a79_0x2cb0eb;this['_loggerDetails']=_0x1770da,this[_0x142b37(0x1ad)]=_0x69c988,this[_0x142b37(0x1c7)]=_0xb95e62,this[_0x142b37(0x1ab)]=_0xc5a1e,this[_0x142b37(0x1be)]=_0x28eeb6;}async['create'](){const _0x408fa4=a79_0x2cb0eb;return this['_objectsDescribes']=await this[_0x408fa4(0x1bf)](),Object[_0x408fa4(0x1c8)](this[_0x408fa4(0x1c7)])[_0x408fa4(0x1cb)](_0x3287b5=>{const _0x30ab54=_0x408fa4,{type:_0x22e3bd}=this['_objectRules'][_0x3287b5];switch(_0x22e3bd){case job_enums_1['ObjectRuleType']['MASKING']:return this[_0x30ab54(0x1ae)](_0x3287b5);case job_enums_1[_0x30ab54(0x1af)]['DELETE']:return this[_0x30ab54(0x1ba)](_0x3287b5);default:throw new Error('Unknown\x20type\x20\x27'+_0x22e3bd+'\x27\x20for\x20ObjectRule\x20\x27'+_0x3287b5+'\x27');}});}async['fetchDescribes'](){const _0x3ef083=a79_0x2cb0eb,_0x53805a=await salesforce_1[_0x3ef083(0x1b1)]['objects'](this['_request'],{},Object[_0x3ef083(0x1c8)](this['_objectRules']),constants_1[_0x3ef083(0x1ca)]);return _0x53805a['reduce']((_0x5792e5,_0x2d13ba)=>{const _0x13ff01=_0x3ef083;return{[_0x2d13ba[_0x13ff01(0x1bc)]]:_0x2d13ba,..._0x5792e5};},{});}[a79_0x2cb0eb(0x1ae)](_0xf97594){const _0x40902e=a79_0x2cb0eb;return new masking_step_1[(_0x40902e(0x1c4))]({'loggerDetails':this[_0x40902e(0x1c3)],'loggerJobState':this[_0x40902e(0x1ad)],'objectName':_0xf97594,'request':this[_0x40902e(0x1ab)],'objectRule':this[_0x40902e(0x1c7)][_0xf97594],'objectDescribe':this[_0x40902e(0x1c9)][_0xf97594],'libraries':this[_0x40902e(0x1be)]});}[a79_0x2cb0eb(0x1ba)](_0x274b63){const _0x166225=a79_0x2cb0eb;return new delete_step_1[(_0x166225(0x1c2))]({'loggerDetails':this[_0x166225(0x1c3)],'loggerJobState':this[_0x166225(0x1ad)],'objectName':_0x274b63,'request':this['_request'],'objectRule':this[_0x166225(0x1c7)][_0x274b63],'objectDescribe':this[_0x166225(0x1c9)][_0x274b63]});}}exports[a79_0x2cb0eb(0x1c1)]=StepsCreator;