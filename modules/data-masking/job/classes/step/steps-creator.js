const a79_0x1cb234=a79_0x6b9f;(function(_0x48932a,_0x2fe8dd){const _0x294f98=a79_0x6b9f,_0x3b40c1=_0x48932a();while(!![]){try{const _0x27ceac=-parseInt(_0x294f98(0x73))/0x1+-parseInt(_0x294f98(0x91))/0x2*(parseInt(_0x294f98(0x7d))/0x3)+parseInt(_0x294f98(0x81))/0x4+-parseInt(_0x294f98(0x8b))/0x5+parseInt(_0x294f98(0x76))/0x6*(-parseInt(_0x294f98(0x85))/0x7)+parseInt(_0x294f98(0x72))/0x8*(-parseInt(_0x294f98(0x74))/0x9)+parseInt(_0x294f98(0x82))/0xa;if(_0x27ceac===_0x2fe8dd)break;else _0x3b40c1['push'](_0x3b40c1['shift']());}catch(_0x6982d0){_0x3b40c1['push'](_0x3b40c1['shift']());}}}(a79_0x1baa,0xbb44a));const a79_0x918d69=(function(){let _0x50aa4f=!![];return function(_0x2e2d39,_0x5e6c4b){const _0x362394=_0x50aa4f?function(){const _0x226620=a79_0x6b9f;if(_0x5e6c4b){const _0x40cda3=_0x5e6c4b[_0x226620(0x80)](_0x2e2d39,arguments);return _0x5e6c4b=null,_0x40cda3;}}:function(){};return _0x50aa4f=![],_0x362394;};}()),a79_0x1688f3=a79_0x918d69(this,function(){const _0x473557=a79_0x6b9f;return a79_0x1688f3[_0x473557(0x86)]()[_0x473557(0x79)]('(((.+)+)+)+$')[_0x473557(0x86)]()[_0x473557(0x7a)](a79_0x1688f3)[_0x473557(0x79)]('(((.+)+)+)+$');});a79_0x1688f3();function a79_0x6b9f(_0x1edbe2,_0x572e51){const _0x254d9b=a79_0x1baa();return a79_0x6b9f=function(_0x1688f3,_0x918d69){_0x1688f3=_0x1688f3-0x6f;let _0x1baa0a=_0x254d9b[_0x1688f3];return _0x1baa0a;},a79_0x6b9f(_0x1edbe2,_0x572e51);}'use strict';Object[a79_0x1cb234(0x8f)](exports,'__esModule',{'value':!![]}),exports[a79_0x1cb234(0x75)]=void 0x0;function a79_0x1baa(){const _0x12f357=['_loggerDetails','../../enums/job.enums','7381695MoEAyx','SALESFORCE_API_VERSION_RAW','name','objects','defineProperty','fetchDescribes','4DgQwsN','Unknown\x20type\x20\x27','MaskingStep','DeleteStep','_loggerJobState','_libraries','1187080PitLJv','740892cjqAKg','81OZVBnh','StepsCreator','2330322HQTTFM','ObjectRuleType','getDeleteStep','search','constructor','DELETE','./delete-step','247761pbCDgL','../../../../../constants','_objectsDescribes','apply','4710576cqLKLJ','40840500EMGAgU','_objectRules','create','14MmceDr','toString','map','_request'];a79_0x1baa=function(){return _0x12f357;};return a79_0x1baa();}const salesforce_1=require('@flosum/salesforce'),masking_step_1=require('./masking-step'),constants_1=require(a79_0x1cb234(0x7e)),job_enums_1=require(a79_0x1cb234(0x8a)),delete_step_1=require(a79_0x1cb234(0x7c));class StepsCreator{constructor({loggerDetails:_0x1af033,loggerJobState:_0x5db8f7,objectRules:_0x3639ab,request:_0x2316c9,libraries:_0x3d6ad7}){const _0x49c7f6=a79_0x1cb234;this['_loggerDetails']=_0x1af033,this[_0x49c7f6(0x70)]=_0x5db8f7,this[_0x49c7f6(0x83)]=_0x3639ab,this[_0x49c7f6(0x88)]=_0x2316c9,this[_0x49c7f6(0x71)]=_0x3d6ad7;}async[a79_0x1cb234(0x84)](){const _0x1848df=a79_0x1cb234;return this[_0x1848df(0x7f)]=await this['fetchDescribes'](),Object['keys'](this[_0x1848df(0x83)])[_0x1848df(0x87)](_0x4328d6=>{const _0x7777b1=_0x1848df,{type:_0x2af3b3}=this['_objectRules'][_0x4328d6];switch(_0x2af3b3){case job_enums_1[_0x7777b1(0x77)]['MASKING']:return this['getMaskingStep'](_0x4328d6);case job_enums_1[_0x7777b1(0x77)][_0x7777b1(0x7b)]:return this[_0x7777b1(0x78)](_0x4328d6);default:throw new Error(_0x7777b1(0x92)+_0x2af3b3+'\x27\x20for\x20ObjectRule\x20\x27'+_0x4328d6+'\x27');}});}async[a79_0x1cb234(0x90)](){const _0xfbe407=a79_0x1cb234,_0x2fb123=await salesforce_1['DescribeService'][_0xfbe407(0x8e)](this['_request'],{},Object['keys'](this[_0xfbe407(0x83)]),constants_1[_0xfbe407(0x8c)]);return _0x2fb123['reduce']((_0x17c7a0,_0x1397b9)=>{const _0x5566ca=_0xfbe407;return{[_0x1397b9[_0x5566ca(0x8d)]]:_0x1397b9,..._0x17c7a0};},{});}['getMaskingStep'](_0x65b3b0){const _0x24508e=a79_0x1cb234;return new masking_step_1[(_0x24508e(0x93))]({'loggerDetails':this['_loggerDetails'],'loggerJobState':this['_loggerJobState'],'objectName':_0x65b3b0,'request':this['_request'],'objectRule':this[_0x24508e(0x83)][_0x65b3b0],'objectDescribe':this[_0x24508e(0x7f)][_0x65b3b0],'libraries':this[_0x24508e(0x71)]});}['getDeleteStep'](_0x2ff598){const _0x59ceb3=a79_0x1cb234;return new delete_step_1[(_0x59ceb3(0x6f))]({'loggerDetails':this[_0x59ceb3(0x89)],'loggerJobState':this['_loggerJobState'],'objectName':_0x2ff598,'request':this[_0x59ceb3(0x88)],'objectRule':this[_0x59ceb3(0x83)][_0x2ff598],'objectDescribe':this[_0x59ceb3(0x7f)][_0x2ff598]});}}exports[a79_0x1cb234(0x75)]=StepsCreator;