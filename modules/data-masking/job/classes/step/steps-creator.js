const a77_0x39c202=a77_0x6364;(function(_0x428816,_0x4db62a){const _0x1d0c12=a77_0x6364,_0x5e628c=_0x428816();while(!![]){try{const _0x31a7e9=-parseInt(_0x1d0c12(0x92))/0x1*(parseInt(_0x1d0c12(0x8d))/0x2)+-parseInt(_0x1d0c12(0x78))/0x3+-parseInt(_0x1d0c12(0x85))/0x4+parseInt(_0x1d0c12(0x72))/0x5+parseInt(_0x1d0c12(0x7d))/0x6*(-parseInt(_0x1d0c12(0x83))/0x7)+-parseInt(_0x1d0c12(0x77))/0x8+-parseInt(_0x1d0c12(0x8c))/0x9*(-parseInt(_0x1d0c12(0x94))/0xa);if(_0x31a7e9===_0x4db62a)break;else _0x5e628c['push'](_0x5e628c['shift']());}catch(_0x30534d){_0x5e628c['push'](_0x5e628c['shift']());}}}(a77_0x3150,0x6841b));const a77_0x592090=(function(){let _0x25f981=!![];return function(_0x28180a,_0x2e06f0){const _0x3e69e7=_0x25f981?function(){if(_0x2e06f0){const _0x10930d=_0x2e06f0['apply'](_0x28180a,arguments);return _0x2e06f0=null,_0x10930d;}}:function(){};return _0x25f981=![],_0x3e69e7;};}()),a77_0x320078=a77_0x592090(this,function(){const _0x501d7b=a77_0x6364;return a77_0x320078[_0x501d7b(0x8e)]()[_0x501d7b(0x8f)](_0x501d7b(0x82))[_0x501d7b(0x8e)]()[_0x501d7b(0x7c)](a77_0x320078)['search']('(((.+)+)+)+$');});a77_0x320078();'use strict';function a77_0x6364(_0x4e95ab,_0x1220d4){const _0x13532f=a77_0x3150();return a77_0x6364=function(_0x320078,_0x592090){_0x320078=_0x320078-0x6f;let _0x315036=_0x13532f[_0x320078];return _0x315036;},a77_0x6364(_0x4e95ab,_0x1220d4);}Object['defineProperty'](exports,a77_0x39c202(0x88),{'value':!![]}),exports[a77_0x39c202(0x86)]=void 0x0;function a77_0x3150(){const _0x4e15f3=['constructor','2802fKFmJU','../../enums/job.enums','getDeleteStep','_objectRules','keys','(((.+)+)+)+$','2072MxUvnH','_request','611652KDwjgO','StepsCreator','create','__esModule','./masking-step','_loggerJobState','objects','6777nCexHg','17310UdAQMZ','toString','search','_loggerDetails','\x27\x20for\x20ObjectRule\x20\x27','61jixAhR','MASKING','28070sfBaeR','ObjectRuleType','./delete-step','fetchDescribes','1740890rJphVb','DeleteStep','SALESFORCE_API_VERSION_RAW','DELETE','map','5596544mcrLGP','1548438dNfZKi','@flosum/salesforce','_objectsDescribes','reduce'];a77_0x3150=function(){return _0x4e15f3;};return a77_0x3150();}const salesforce_1=require(a77_0x39c202(0x79)),masking_step_1=require(a77_0x39c202(0x89)),constants_1=require('../../../../../constants'),job_enums_1=require(a77_0x39c202(0x7e)),delete_step_1=require(a77_0x39c202(0x70));class StepsCreator{constructor({loggerDetails:_0x187b92,loggerJobState:_0x172af4,objectRules:_0x12dde7,request:_0x2539e6,libraries:_0x3e1b30}){const _0x1d342e=a77_0x39c202;this['_loggerDetails']=_0x187b92,this[_0x1d342e(0x8a)]=_0x172af4,this[_0x1d342e(0x80)]=_0x12dde7,this[_0x1d342e(0x84)]=_0x2539e6,this['_libraries']=_0x3e1b30;}async[a77_0x39c202(0x87)](){const _0x436adc=a77_0x39c202;return this[_0x436adc(0x7a)]=await this[_0x436adc(0x71)](),Object[_0x436adc(0x81)](this[_0x436adc(0x80)])[_0x436adc(0x76)](_0x261710=>{const _0x2f4057=_0x436adc,{type:_0x2a0a18}=this[_0x2f4057(0x80)][_0x261710];switch(_0x2a0a18){case job_enums_1[_0x2f4057(0x6f)][_0x2f4057(0x93)]:return this['getMaskingStep'](_0x261710);case job_enums_1['ObjectRuleType'][_0x2f4057(0x75)]:return this[_0x2f4057(0x7f)](_0x261710);default:throw new Error('Unknown\x20type\x20\x27'+_0x2a0a18+_0x2f4057(0x91)+_0x261710+'\x27');}});}async['fetchDescribes'](){const _0xe334bc=a77_0x39c202,_0x57b16f=await salesforce_1['DescribeService'][_0xe334bc(0x8b)](this[_0xe334bc(0x84)],{},Object['keys'](this[_0xe334bc(0x80)]),constants_1[_0xe334bc(0x74)]);return _0x57b16f[_0xe334bc(0x7b)]((_0x2f6b6d,_0x4e68ea)=>{return{[_0x4e68ea['name']]:_0x4e68ea,..._0x2f6b6d};},{});}['getMaskingStep'](_0x237cc2){const _0x47932f=a77_0x39c202;return new masking_step_1['MaskingStep']({'loggerDetails':this[_0x47932f(0x90)],'loggerJobState':this['_loggerJobState'],'objectName':_0x237cc2,'request':this[_0x47932f(0x84)],'objectRule':this[_0x47932f(0x80)][_0x237cc2],'objectDescribe':this[_0x47932f(0x7a)][_0x237cc2],'libraries':this['_libraries']});}['getDeleteStep'](_0x59aeff){const _0x29dd9b=a77_0x39c202;return new delete_step_1[(_0x29dd9b(0x73))]({'loggerDetails':this['_loggerDetails'],'loggerJobState':this[_0x29dd9b(0x8a)],'objectName':_0x59aeff,'request':this[_0x29dd9b(0x84)],'objectRule':this[_0x29dd9b(0x80)][_0x59aeff],'objectDescribe':this[_0x29dd9b(0x7a)][_0x59aeff]});}}exports['StepsCreator']=StepsCreator;