const a76_0x2b4e55=a76_0x46d3;function a76_0x46d3(_0xac44c7,_0x3dd263){const _0x297ddb=a76_0x41cf();return a76_0x46d3=function(_0x30b9bd,_0x31aa31){_0x30b9bd=_0x30b9bd-0x9a;let _0x41cf61=_0x297ddb[_0x30b9bd];return _0x41cf61;},a76_0x46d3(_0xac44c7,_0x3dd263);}(function(_0x3425d5,_0x1fb9a2){const _0x113c76=a76_0x46d3,_0x493761=_0x3425d5();while(!![]){try{const _0xcb39d9=parseInt(_0x113c76(0xa5))/0x1+parseInt(_0x113c76(0xb6))/0x2+parseInt(_0x113c76(0xa0))/0x3+parseInt(_0x113c76(0xa6))/0x4*(-parseInt(_0x113c76(0xb7))/0x5)+parseInt(_0x113c76(0xc5))/0x6+parseInt(_0x113c76(0xaf))/0x7+-parseInt(_0x113c76(0xc0))/0x8*(parseInt(_0x113c76(0xa3))/0x9);if(_0xcb39d9===_0x1fb9a2)break;else _0x493761['push'](_0x493761['shift']());}catch(_0xac6602){_0x493761['push'](_0x493761['shift']());}}}(a76_0x41cf,0x50857));const a76_0x31aa31=(function(){let _0x342686=!![];return function(_0x312c69,_0x1e430c){const _0x1e7075=_0x342686?function(){if(_0x1e430c){const _0x2bb6fc=_0x1e430c['apply'](_0x312c69,arguments);return _0x1e430c=null,_0x2bb6fc;}}:function(){};return _0x342686=![],_0x1e7075;};}()),a76_0x30b9bd=a76_0x31aa31(this,function(){const _0x3cc741=a76_0x46d3;return a76_0x30b9bd[_0x3cc741(0xad)]()[_0x3cc741(0xac)]('(((.+)+)+)+$')[_0x3cc741(0xad)]()['constructor'](a76_0x30b9bd)[_0x3cc741(0xac)](_0x3cc741(0xa9));});a76_0x30b9bd();'use strict';Object['defineProperty'](exports,a76_0x2b4e55(0xb0),{'value':!![]}),exports[a76_0x2b4e55(0xba)]=void 0x0;function a76_0x41cf(){const _0x25223d=['1861632AZqiRq','log','build','QueryBuilder','SALESFORCE_API_VERSION','_whereClause','COUNT()','867357AOurHp','objectName','exception','9CGJKfL','getRetrieveStream','648700omPGCx','92572eARHaw','../../job-detail','loggerDetails','(((.+)+)+)+$','message','where','search','toString','getRecordsCount','2175775sykKYu','__esModule','getDeployStream','_objectRuleType','fields','from','../../retrieve/retrieve-factory','241430voccRF','45WYmYWo','objectDescribe','error','BaseStep','create','../../deploy/deploy-factory','select','loggerJobState','systemLogger','9132232ZRVSnH','RetrieveFactory','@flosum/salesforce','request','../../../constants'];a76_0x41cf=function(){return _0x25223d;};return a76_0x41cf();}const salesforce_1=require(a76_0x2b4e55(0xc2)),retrieve_factory_1=require(a76_0x2b4e55(0xb5)),constants_1=require(a76_0x2b4e55(0xc4)),deploy_factory_1=require(a76_0x2b4e55(0xbc)),job_detail_1=require(a76_0x2b4e55(0xa7)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x2ba6ae,loggerJobState:_0x1a0ce8,objectName:_0xc92b29,request:_0x8edc42,objectRule:_0x3f72e9,objectDescribe:_0x3b7b75}){const _0x1b057e=a76_0x2b4e55;this['fields']=[],this[_0x1b057e(0xa8)]=_0x2ba6ae,this[_0x1b057e(0xbe)]=_0x1a0ce8,this[_0x1b057e(0xa1)]=_0xc92b29,this[_0x1b057e(0xc3)]=_0x8edc42,this[_0x1b057e(0x9e)]=_0x3f72e9['whereClause'],this[_0x1b057e(0xb2)]=_0x3f72e9['type'],this[_0x1b057e(0xb8)]=_0x3b7b75;}async[a76_0x2b4e55(0xae)](){const _0x3652ae=a76_0x2b4e55;try{const _0x12d5f9=new salesforce_1[(_0x3652ae(0x9c))]()[_0x3652ae(0xbd)](_0x3652ae(0x9f))[_0x3652ae(0xb4)](this[_0x3652ae(0xa1)]);this[_0x3652ae(0x9e)]&&_0x12d5f9[_0x3652ae(0xab)](this[_0x3652ae(0x9e)]);const _0x465b88=await salesforce_1['QueryService']['execute'](this[_0x3652ae(0xc3)],{},_0x12d5f9[_0x3652ae(0x9b)](),![],constants_1[_0x3652ae(0x9d)]);return _0x465b88['totalSize'];}catch(_0x3a97fe){return job_detail_1[_0x3652ae(0xbf)][_0x3652ae(0xb9)](_0x3a97fe),-0x1;}}[a76_0x2b4e55(0xa4)](){const _0x42cef3=a76_0x2b4e55,_0x378a63={'request':this[_0x42cef3(0xc3)],'fields':this[_0x42cef3(0xb3)],'whereClause':this[_0x42cef3(0x9e)],'objectName':this['objectName'],'describe':this[_0x42cef3(0xb8)]};return retrieve_factory_1[_0x42cef3(0xc1)][_0x42cef3(0xbb)](_0x378a63,this['recordsCount']);}[a76_0x2b4e55(0xb1)](){const _0x5c24a4=a76_0x2b4e55,_0x4d4d94={'request':this['request'],'objectName':this[_0x5c24a4(0xa1)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x5c24a4(0xbe)]};return deploy_factory_1['DeployFactory']['create'](_0x4d4d94,this['_objectRuleType']);}[a76_0x2b4e55(0x9a)](_0xa4deaa){const _0x4fe83f=a76_0x2b4e55;job_detail_1[_0x4fe83f(0xbf)][_0x4fe83f(0x9a)](_0xa4deaa,this[_0x4fe83f(0xa1)]),this[_0x4fe83f(0xa8)][_0x4fe83f(0x9a)](_0xa4deaa,this[_0x4fe83f(0xa1)]);}[a76_0x2b4e55(0xb9)](_0x4b0e5e){const _0x2ce049=a76_0x2b4e55;job_detail_1[_0x2ce049(0xbf)]['error'](_0x4b0e5e,this[_0x2ce049(0xa1)]),this[_0x2ce049(0xa8)][_0x2ce049(0xa2)](_0x4b0e5e[_0x2ce049(0xaa)],this[_0x2ce049(0xa1)]);}}exports['BaseStep']=BaseStep;