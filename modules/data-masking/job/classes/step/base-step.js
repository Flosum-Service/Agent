const a58_0x1fe08a=a58_0x1796;(function(_0x18ced2,_0x4f4c21){const _0x1ffab6=a58_0x1796,_0x2ad511=_0x18ced2();while(!![]){try{const _0x3ec9c6=parseInt(_0x1ffab6(0x1fe))/0x1+-parseInt(_0x1ffab6(0x205))/0x2+-parseInt(_0x1ffab6(0x213))/0x3*(parseInt(_0x1ffab6(0x20b))/0x4)+-parseInt(_0x1ffab6(0x1f2))/0x5*(-parseInt(_0x1ffab6(0x211))/0x6)+-parseInt(_0x1ffab6(0x217))/0x7+-parseInt(_0x1ffab6(0x20e))/0x8*(-parseInt(_0x1ffab6(0x1f8))/0x9)+parseInt(_0x1ffab6(0x215))/0xa;if(_0x3ec9c6===_0x4f4c21)break;else _0x2ad511['push'](_0x2ad511['shift']());}catch(_0x570ad4){_0x2ad511['push'](_0x2ad511['shift']());}}}(a58_0x4583,0x51a69));const a58_0x3ad00b=(function(){let _0x31ae38=!![];return function(_0x324930,_0x13ae52){const _0xfed0e9=_0x31ae38?function(){if(_0x13ae52){const _0x3196af=_0x13ae52['apply'](_0x324930,arguments);return _0x13ae52=null,_0x3196af;}}:function(){};return _0x31ae38=![],_0xfed0e9;};}()),a58_0x57808a=a58_0x3ad00b(this,function(){const _0x5b62b6=a58_0x1796;return a58_0x57808a[_0x5b62b6(0x21a)]()[_0x5b62b6(0x208)](_0x5b62b6(0x214))[_0x5b62b6(0x21a)]()[_0x5b62b6(0x20f)](a58_0x57808a)[_0x5b62b6(0x208)](_0x5b62b6(0x214));});a58_0x57808a();function a58_0x4583(){const _0x1a5822=['159051YEvVFf','message','../../../constants','fields','objectName','../../deploy/deploy-factory','SortDirection','435622hLYZxH','totalSize','QueryBuilder','search','log','@flosum/salesforce','4TmLRcN','ASC','_objectRuleType','40424yCUMoE','constructor','DeployFactory','3907476CCUCJl','from','84183xGcgZP','(((.+)+)+)+$','122350MbBYMR','getRetrieveStream','4100761BpBgMC','request','recordsCount','toString','select','loggerJobState','systemLogger','getRecordsCount','create','error','5LLXyfq','defineProperty','loggerDetails','_whereClause','__esModule','where','612wyuHAr','build','getDeployStream','BaseStep','exception','whereClause'];a58_0x4583=function(){return _0x1a5822;};return a58_0x4583();}'use strict';Object[a58_0x1fe08a(0x1f3)](exports,a58_0x1fe08a(0x1f6),{'value':!![]}),exports[a58_0x1fe08a(0x1fb)]=void 0x0;const salesforce_1=require(a58_0x1fe08a(0x20a)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a58_0x1fe08a(0x200)),deploy_factory_1=require(a58_0x1fe08a(0x203)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x1e0dc3,loggerJobState:_0x5ca991,objectName:_0x562913,request:_0x409eb3,objectRule:_0x59558a,objectDescribe:_0xfd0410}){const _0xec2be8=a58_0x1fe08a;this[_0xec2be8(0x201)]=[],this[_0xec2be8(0x1f4)]=_0x1e0dc3,this[_0xec2be8(0x21c)]=_0x5ca991,this[_0xec2be8(0x202)]=_0x562913,this[_0xec2be8(0x218)]=_0x409eb3,this['_whereClause']=_0x59558a[_0xec2be8(0x1fd)],this[_0xec2be8(0x20d)]=_0x59558a['type'],this['objectDescribe']=_0xfd0410;}async[a58_0x1fe08a(0x21e)](){const _0x5d195e=a58_0x1fe08a;try{const _0x588505=new salesforce_1[(_0x5d195e(0x207))]()[_0x5d195e(0x21b)]('COUNT()')[_0x5d195e(0x212)](this['objectName']);this[_0x5d195e(0x1f5)]&&_0x588505[_0x5d195e(0x1f7)](this['_whereClause']);const _0x2bea8e=await salesforce_1['QueryService']['execute'](this[_0x5d195e(0x218)],{},_0x588505[_0x5d195e(0x1f9)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x2bea8e[_0x5d195e(0x206)];}catch(_0x5ba737){return job_detail_1['systemLogger'][_0x5d195e(0x1f1)](_0x5ba737),-0x1;}}[a58_0x1fe08a(0x216)](){const _0x4dc072=a58_0x1fe08a,_0x4a275c={'request':this[_0x4dc072(0x218)],'fields':this[_0x4dc072(0x201)],'whereClause':this[_0x4dc072(0x1f5)],'objectName':this[_0x4dc072(0x202)],'describe':this['objectDescribe'],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x4dc072(0x204)][_0x4dc072(0x20c)]};return retrieve_factory_1['RetrieveFactory'][_0x4dc072(0x1f0)](_0x4a275c,this[_0x4dc072(0x219)]);}[a58_0x1fe08a(0x1fa)](){const _0x14d556=a58_0x1fe08a,_0x4bc647={'request':this[_0x14d556(0x218)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x14d556(0x1f4)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x14d556(0x210)][_0x14d556(0x1f0)](_0x4bc647,this[_0x14d556(0x20d)]);}[a58_0x1fe08a(0x209)](_0x38dc9d){const _0x35e4c8=a58_0x1fe08a;job_detail_1[_0x35e4c8(0x21d)][_0x35e4c8(0x209)](_0x38dc9d,this[_0x35e4c8(0x202)]),this['loggerDetails']['log'](_0x38dc9d,this[_0x35e4c8(0x202)]);}['error'](_0x4aa6b8){const _0x42ad88=a58_0x1fe08a;job_detail_1[_0x42ad88(0x21d)][_0x42ad88(0x1f1)](_0x4aa6b8,this[_0x42ad88(0x202)]),this['loggerDetails'][_0x42ad88(0x1fc)](_0x4aa6b8[_0x42ad88(0x1ff)],this[_0x42ad88(0x202)]);}}function a58_0x1796(_0x5a08cd,_0x50b9e1){const _0x31e0df=a58_0x4583();return a58_0x1796=function(_0x57808a,_0x3ad00b){_0x57808a=_0x57808a-0x1f0;let _0x4583d3=_0x31e0df[_0x57808a];return _0x4583d3;},a58_0x1796(_0x5a08cd,_0x50b9e1);}exports[a58_0x1fe08a(0x1fb)]=BaseStep;