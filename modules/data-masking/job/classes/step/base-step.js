const a77_0x35a3ba=a77_0x31e4;(function(_0x1a7144,_0x57e975){const _0x1e9ed9=a77_0x31e4,_0x16094a=_0x1a7144();while(!![]){try{const _0x2d075d=parseInt(_0x1e9ed9(0x164))/0x1*(-parseInt(_0x1e9ed9(0x161))/0x2)+-parseInt(_0x1e9ed9(0x146))/0x3*(parseInt(_0x1e9ed9(0x15b))/0x4)+parseInt(_0x1e9ed9(0x151))/0x5*(parseInt(_0x1e9ed9(0x139))/0x6)+-parseInt(_0x1e9ed9(0x13d))/0x7*(parseInt(_0x1e9ed9(0x13e))/0x8)+-parseInt(_0x1e9ed9(0x153))/0x9+-parseInt(_0x1e9ed9(0x152))/0xa*(-parseInt(_0x1e9ed9(0x150))/0xb)+parseInt(_0x1e9ed9(0x14a))/0xc;if(_0x2d075d===_0x57e975)break;else _0x16094a['push'](_0x16094a['shift']());}catch(_0x566096){_0x16094a['push'](_0x16094a['shift']());}}}(a77_0x4e3a,0x9eaa3));function a77_0x4e3a(){const _0xc0414d=['objectDescribe','(((.+)+)+)+$','1SCRFYj','request','loggerJobState','QueryService','_objectRuleType','57036rslgpc','exception','_whereClause','objectName','3751314IfFykP','16MnskHQ','whereClause','select','recordsCount','apply','@flosum/salesforce','DeployFactory','SALESFORCE_API_VERSION','531921xxwOVm','search','log','BaseStep','37849140ffVvUE','from','message','toString','fields','where','64262QCjaau','305aKpGDz','160eIXazk','3485277bQiLPY','../../retrieve/retrieve-factory','loggerDetails','type','execute','getRecordsCount','constructor','getDeployStream','20xKflsw','systemLogger','../../deploy/deploy-factory','RetrieveFactory','../../../constants','error','1663900lVaQKq'];a77_0x4e3a=function(){return _0xc0414d;};return a77_0x4e3a();}const a77_0x542c81=(function(){let _0x4e443c=!![];return function(_0x2397a0,_0x530463){const _0x426d02=_0x4e443c?function(){const _0x3cb069=a77_0x31e4;if(_0x530463){const _0x552070=_0x530463[_0x3cb069(0x142)](_0x2397a0,arguments);return _0x530463=null,_0x552070;}}:function(){};return _0x4e443c=![],_0x426d02;};}()),a77_0xbe30f7=a77_0x542c81(this,function(){const _0x2823ab=a77_0x31e4;return a77_0xbe30f7[_0x2823ab(0x14d)]()[_0x2823ab(0x147)](_0x2823ab(0x163))[_0x2823ab(0x14d)]()[_0x2823ab(0x159)](a77_0xbe30f7)[_0x2823ab(0x147)](_0x2823ab(0x163));});a77_0xbe30f7();function a77_0x31e4(_0x3fdc16,_0x4250d){const _0x59a0cb=a77_0x4e3a();return a77_0x31e4=function(_0xbe30f7,_0x542c81){_0xbe30f7=_0xbe30f7-0x136;let _0x4e3a4d=_0x59a0cb[_0xbe30f7];return _0x4e3a4d;},a77_0x31e4(_0x3fdc16,_0x4250d);}'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a77_0x35a3ba(0x143)),retrieve_factory_1=require(a77_0x35a3ba(0x154)),constants_1=require(a77_0x35a3ba(0x15f)),deploy_factory_1=require(a77_0x35a3ba(0x15d)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x25b487,loggerJobState:_0x10812c,objectName:_0x3845a6,request:_0x4d66d4,objectRule:_0x22bbc6,objectDescribe:_0x4ddff4}){const _0x40a540=a77_0x35a3ba;this[_0x40a540(0x14e)]=[],this[_0x40a540(0x155)]=_0x25b487,this[_0x40a540(0x136)]=_0x10812c,this['objectName']=_0x3845a6,this[_0x40a540(0x165)]=_0x4d66d4,this['_whereClause']=_0x22bbc6[_0x40a540(0x13f)],this[_0x40a540(0x138)]=_0x22bbc6[_0x40a540(0x156)],this[_0x40a540(0x162)]=_0x4ddff4;}async[a77_0x35a3ba(0x158)](){const _0x6cbb90=a77_0x35a3ba;try{const _0x1d6c03=new salesforce_1['QueryBuilder']()[_0x6cbb90(0x140)]('COUNT()')[_0x6cbb90(0x14b)](this[_0x6cbb90(0x13c)]);this[_0x6cbb90(0x13b)]&&_0x1d6c03[_0x6cbb90(0x14f)](this[_0x6cbb90(0x13b)]);const _0x41910b=await salesforce_1[_0x6cbb90(0x137)][_0x6cbb90(0x157)](this[_0x6cbb90(0x165)],{},_0x1d6c03['build'](),![],constants_1[_0x6cbb90(0x145)]);return _0x41910b['totalSize'];}catch(_0x12923d){return job_detail_1[_0x6cbb90(0x15c)][_0x6cbb90(0x160)](_0x12923d),-0x1;}}['getRetrieveStream'](){const _0xff3d4e=a77_0x35a3ba,_0x15256a={'request':this['request'],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0xff3d4e(0x13c)],'describe':this[_0xff3d4e(0x162)]};return retrieve_factory_1[_0xff3d4e(0x15e)]['create'](_0x15256a,this[_0xff3d4e(0x141)]);}[a77_0x35a3ba(0x15a)](){const _0x5594ab=a77_0x35a3ba,_0x2481bb={'request':this[_0x5594ab(0x165)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x5594ab(0x155)],'loggerJobState':this[_0x5594ab(0x136)]};return deploy_factory_1[_0x5594ab(0x144)]['create'](_0x2481bb,this[_0x5594ab(0x138)]);}[a77_0x35a3ba(0x148)](_0x26f9db){const _0x5300d0=a77_0x35a3ba;job_detail_1[_0x5300d0(0x15c)][_0x5300d0(0x148)](_0x26f9db,this['objectName']),this[_0x5300d0(0x155)][_0x5300d0(0x148)](_0x26f9db,this[_0x5300d0(0x13c)]);}[a77_0x35a3ba(0x160)](_0x5d3262){const _0xa4c864=a77_0x35a3ba;job_detail_1[_0xa4c864(0x15c)][_0xa4c864(0x160)](_0x5d3262,this[_0xa4c864(0x13c)]),this[_0xa4c864(0x155)][_0xa4c864(0x13a)](_0x5d3262[_0xa4c864(0x14c)],this[_0xa4c864(0x13c)]);}}exports[a77_0x35a3ba(0x149)]=BaseStep;