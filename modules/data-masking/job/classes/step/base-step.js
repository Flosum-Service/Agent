const a76_0x31955f=a76_0x4656;(function(_0x5c3615,_0x2f7d6b){const _0xade93e=a76_0x4656,_0x2d15d5=_0x5c3615();while(!![]){try{const _0x18dbdd=parseInt(_0xade93e(0x204))/0x1*(-parseInt(_0xade93e(0x1fd))/0x2)+parseInt(_0xade93e(0x202))/0x3+parseInt(_0xade93e(0x1f4))/0x4*(parseInt(_0xade93e(0x21a))/0x5)+parseInt(_0xade93e(0x207))/0x6*(-parseInt(_0xade93e(0x201))/0x7)+parseInt(_0xade93e(0x215))/0x8*(parseInt(_0xade93e(0x1f7))/0x9)+parseInt(_0xade93e(0x1f5))/0xa+parseInt(_0xade93e(0x211))/0xb;if(_0x18dbdd===_0x2f7d6b)break;else _0x2d15d5['push'](_0x2d15d5['shift']());}catch(_0x3b28d4){_0x2d15d5['push'](_0x2d15d5['shift']());}}}(a76_0x1300,0xe2cc6));const a76_0x2c2ba3=(function(){let _0xfc64b0=!![];return function(_0x13d56b,_0x1f9223){const _0x4e659c=_0xfc64b0?function(){const _0x29738c=a76_0x4656;if(_0x1f9223){const _0x38792f=_0x1f9223[_0x29738c(0x222)](_0x13d56b,arguments);return _0x1f9223=null,_0x38792f;}}:function(){};return _0xfc64b0=![],_0x4e659c;};}()),a76_0x12f829=a76_0x2c2ba3(this,function(){const _0x5cf4c1=a76_0x4656;return a76_0x12f829[_0x5cf4c1(0x1fa)]()[_0x5cf4c1(0x206)]('(((.+)+)+)+$')[_0x5cf4c1(0x1fa)]()['constructor'](a76_0x12f829)[_0x5cf4c1(0x206)](_0x5cf4c1(0x21b));});a76_0x12f829();'use strict';function a76_0x1300(){const _0xac26ef=['BaseStep','getRecordsCount','COUNT()','6814742wYEUvd','DeployFactory','systemLogger','defineProperty','5519992iymZyJ','select','exception','request','@flosum/salesforce','725xGmAuD','(((.+)+)+)+$','from','RetrieveFactory','totalSize','message','getRetrieveStream','where','apply','SALESFORCE_API_VERSION','objectDescribe','18676voTJWy','10435910xQbfSS','recordsCount','9MqPtOd','_whereClause','create','toString','loggerDetails','objectName','93004MsIOxh','QueryService','../../job-detail','error','7dXVrCF','3280680qgaTdd','fields','36ydmzSc','../../deploy/deploy-factory','search','9123834eKywlN','../../../constants','QueryBuilder','_objectRuleType','log','../../retrieve/retrieve-factory','whereClause'];a76_0x1300=function(){return _0xac26ef;};return a76_0x1300();}Object[a76_0x31955f(0x214)](exports,'__esModule',{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a76_0x31955f(0x219)),retrieve_factory_1=require(a76_0x31955f(0x20c)),constants_1=require(a76_0x31955f(0x208)),deploy_factory_1=require(a76_0x31955f(0x205)),job_detail_1=require(a76_0x31955f(0x1ff)),FIELD_ID='Id';function a76_0x4656(_0x2f752e,_0x4873f1){const _0x297868=a76_0x1300();return a76_0x4656=function(_0x12f829,_0x2c2ba3){_0x12f829=_0x12f829-0x1f3;let _0x130016=_0x297868[_0x12f829];return _0x130016;},a76_0x4656(_0x2f752e,_0x4873f1);}class BaseStep{constructor({loggerDetails:_0x339c81,loggerJobState:_0x17f42d,objectName:_0x131be1,request:_0x55a6aa,objectRule:_0x386246,objectDescribe:_0x5ebec8}){const _0x1e5be6=a76_0x31955f;this[_0x1e5be6(0x203)]=[],this['loggerDetails']=_0x339c81,this['loggerJobState']=_0x17f42d,this[_0x1e5be6(0x1fc)]=_0x131be1,this[_0x1e5be6(0x218)]=_0x55a6aa,this['_whereClause']=_0x386246[_0x1e5be6(0x20d)],this[_0x1e5be6(0x20a)]=_0x386246['type'],this['objectDescribe']=_0x5ebec8;}async[a76_0x31955f(0x20f)](){const _0x193251=a76_0x31955f;try{const _0x48067b=new salesforce_1[(_0x193251(0x209))]()[_0x193251(0x216)](_0x193251(0x210))[_0x193251(0x21c)](this[_0x193251(0x1fc)]);this['_whereClause']&&_0x48067b[_0x193251(0x221)](this[_0x193251(0x1f8)]);const _0x3a5799=await salesforce_1[_0x193251(0x1fe)]['execute'](this[_0x193251(0x218)],{},_0x48067b['build'](),![],constants_1[_0x193251(0x223)]);return _0x3a5799[_0x193251(0x21e)];}catch(_0x15821a){return job_detail_1[_0x193251(0x213)][_0x193251(0x200)](_0x15821a),-0x1;}}[a76_0x31955f(0x220)](){const _0x10a49a=a76_0x31955f,_0x3bab42={'request':this[_0x10a49a(0x218)],'fields':this['fields'],'whereClause':this[_0x10a49a(0x1f8)],'objectName':this[_0x10a49a(0x1fc)],'describe':this[_0x10a49a(0x1f3)]};return retrieve_factory_1[_0x10a49a(0x21d)][_0x10a49a(0x1f9)](_0x3bab42,this[_0x10a49a(0x1f6)]);}['getDeployStream'](){const _0x46b4ec=a76_0x31955f,_0x874c96={'request':this['request'],'objectName':this[_0x46b4ec(0x1fc)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x46b4ec(0x1fb)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x46b4ec(0x212)][_0x46b4ec(0x1f9)](_0x874c96,this[_0x46b4ec(0x20a)]);}[a76_0x31955f(0x20b)](_0x145f6a){const _0x4d85fe=a76_0x31955f;job_detail_1[_0x4d85fe(0x213)]['log'](_0x145f6a,this[_0x4d85fe(0x1fc)]),this[_0x4d85fe(0x1fb)][_0x4d85fe(0x20b)](_0x145f6a,this['objectName']);}[a76_0x31955f(0x200)](_0x1e4c50){const _0x3ac3c4=a76_0x31955f;job_detail_1[_0x3ac3c4(0x213)]['error'](_0x1e4c50,this[_0x3ac3c4(0x1fc)]),this[_0x3ac3c4(0x1fb)][_0x3ac3c4(0x217)](_0x1e4c50[_0x3ac3c4(0x21f)],this['objectName']);}}exports[a76_0x31955f(0x20e)]=BaseStep;