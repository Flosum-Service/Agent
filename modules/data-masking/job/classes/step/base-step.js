const a59_0x57bb59=a59_0x3458;function a59_0x3458(_0x514d6e,_0x39748c){const _0x29698a=a59_0x8e54();return a59_0x3458=function(_0x4f3c7b,_0x11fdc2){_0x4f3c7b=_0x4f3c7b-0xd4;let _0x8e54d0=_0x29698a[_0x4f3c7b];return _0x8e54d0;},a59_0x3458(_0x514d6e,_0x39748c);}(function(_0x12f04c,_0x974e07){const _0x112099=a59_0x3458,_0x2985e9=_0x12f04c();while(!![]){try{const _0xe0044c=-parseInt(_0x112099(0xf8))/0x1+-parseInt(_0x112099(0xeb))/0x2+-parseInt(_0x112099(0x102))/0x3+parseInt(_0x112099(0xd7))/0x4*(parseInt(_0x112099(0xfe))/0x5)+-parseInt(_0x112099(0xe2))/0x6*(parseInt(_0x112099(0xf3))/0x7)+-parseInt(_0x112099(0xe5))/0x8+parseInt(_0x112099(0xe0))/0x9;if(_0xe0044c===_0x974e07)break;else _0x2985e9['push'](_0x2985e9['shift']());}catch(_0x5d3fab){_0x2985e9['push'](_0x2985e9['shift']());}}}(a59_0x8e54,0xe46f4));const a59_0x11fdc2=(function(){let _0x1dea54=!![];return function(_0x543205,_0x126ba2){const _0x2373de=_0x1dea54?function(){const _0x11b2f4=a59_0x3458;if(_0x126ba2){const _0x733141=_0x126ba2[_0x11b2f4(0x101)](_0x543205,arguments);return _0x126ba2=null,_0x733141;}}:function(){};return _0x1dea54=![],_0x2373de;};}()),a59_0x4f3c7b=a59_0x11fdc2(this,function(){const _0x33f8b=a59_0x3458;return a59_0x4f3c7b[_0x33f8b(0xe6)]()['search'](_0x33f8b(0xda))[_0x33f8b(0xe6)]()[_0x33f8b(0xf0)](a59_0x4f3c7b)[_0x33f8b(0xdd)](_0x33f8b(0xda));});a59_0x4f3c7b();'use strict';Object['defineProperty'](exports,a59_0x57bb59(0xef),{'value':!![]}),exports[a59_0x57bb59(0xec)]=void 0x0;const salesforce_1=require(a59_0x57bb59(0xf4)),retrieve_factory_1=require(a59_0x57bb59(0xfd)),constants_1=require(a59_0x57bb59(0xdb)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x57bb59(0xee)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x4eca68,loggerJobState:_0x2b4ab9,objectName:_0x10cd9f,request:_0x39b983,objectRule:_0x49e21b,objectDescribe:_0x58c83f}){const _0x480e5b=a59_0x57bb59;this['fields']=[],this['loggerDetails']=_0x4eca68,this[_0x480e5b(0xf5)]=_0x2b4ab9,this[_0x480e5b(0xe7)]=_0x10cd9f,this[_0x480e5b(0xea)]=_0x39b983,this['_whereClause']=_0x49e21b[_0x480e5b(0xde)],this[_0x480e5b(0xf1)]=_0x49e21b[_0x480e5b(0xe8)],this['objectDescribe']=_0x58c83f;}async[a59_0x57bb59(0xe9)](){const _0x526e3a=a59_0x57bb59;try{const _0x587439=new salesforce_1['QueryBuilder']()[_0x526e3a(0xdf)]('COUNT()')[_0x526e3a(0xe1)](this[_0x526e3a(0xe7)]);this[_0x526e3a(0xfb)]&&_0x587439[_0x526e3a(0x100)](this['_whereClause']);const _0x54add0=await salesforce_1[_0x526e3a(0xdc)]['execute'](this[_0x526e3a(0xea)],{},_0x587439[_0x526e3a(0xd9)](),![],constants_1[_0x526e3a(0xfa)]);return _0x54add0['totalSize'];}catch(_0x2dd63c){return job_detail_1['systemLogger'][_0x526e3a(0xf6)](_0x2dd63c),-0x1;}}['getRetrieveStream'](){const _0x5e0aee=a59_0x57bb59,_0x3ca36e={'request':this['request'],'fields':this[_0x5e0aee(0xff)],'whereClause':this['_whereClause'],'objectName':this['objectName'],'describe':this[_0x5e0aee(0xed)]};return retrieve_factory_1[_0x5e0aee(0xf9)][_0x5e0aee(0xd4)](_0x3ca36e,this[_0x5e0aee(0xfc)]);}[a59_0x57bb59(0xf2)](){const _0xdb1f1c=a59_0x57bb59,_0x588797={'request':this[_0xdb1f1c(0xea)],'objectName':this[_0xdb1f1c(0xe7)],'externalIdField':FIELD_ID,'loggerDetails':this[_0xdb1f1c(0xe3)],'loggerJobState':this[_0xdb1f1c(0xf5)]};return deploy_factory_1[_0xdb1f1c(0xd6)][_0xdb1f1c(0xd4)](_0x588797,this[_0xdb1f1c(0xf1)]);}[a59_0x57bb59(0xe4)](_0x18da0b){const _0x3503f3=a59_0x57bb59;job_detail_1['systemLogger'][_0x3503f3(0xe4)](_0x18da0b,this['objectName']),this[_0x3503f3(0xe3)][_0x3503f3(0xe4)](_0x18da0b,this['objectName']);}[a59_0x57bb59(0xf6)](_0x6f26f9){const _0xf28c30=a59_0x57bb59;job_detail_1[_0xf28c30(0xd5)]['error'](_0x6f26f9,this[_0xf28c30(0xe7)]),this[_0xf28c30(0xe3)][_0xf28c30(0xd8)](_0x6f26f9[_0xf28c30(0xf7)],this['objectName']);}}function a59_0x8e54(){const _0x1f5b09=['8DQQdLA','exception','build','(((.+)+)+)+$','../../../constants','QueryService','search','whereClause','select','35875098dNtmSa','from','12sLJDys','loggerDetails','log','9716256rpMvwH','toString','objectName','type','getRecordsCount','request','194932mYJZcx','BaseStep','objectDescribe','../../job-detail','__esModule','constructor','_objectRuleType','getDeployStream','2525047CwQsRf','@flosum/salesforce','loggerJobState','error','message','1657109VodMAf','RetrieveFactory','SALESFORCE_API_VERSION','_whereClause','recordsCount','../../retrieve/retrieve-factory','1611615ofLIlC','fields','where','apply','13653bunuyM','create','systemLogger','DeployFactory'];a59_0x8e54=function(){return _0x1f5b09;};return a59_0x8e54();}exports[a59_0x57bb59(0xec)]=BaseStep;