const a58_0x11d28e=a58_0x305d;(function(_0x1e4048,_0x5bc3f4){const _0xce4f1e=a58_0x305d,_0x5717c4=_0x1e4048();while(!![]){try{const _0x420d32=parseInt(_0xce4f1e(0x6f))/0x1*(parseInt(_0xce4f1e(0x71))/0x2)+parseInt(_0xce4f1e(0x8f))/0x3+parseInt(_0xce4f1e(0x80))/0x4*(-parseInt(_0xce4f1e(0x91))/0x5)+-parseInt(_0xce4f1e(0x7e))/0x6+parseInt(_0xce4f1e(0x75))/0x7+-parseInt(_0xce4f1e(0x8d))/0x8+parseInt(_0xce4f1e(0x7c))/0x9;if(_0x420d32===_0x5bc3f4)break;else _0x5717c4['push'](_0x5717c4['shift']());}catch(_0x18b551){_0x5717c4['push'](_0x5717c4['shift']());}}}(a58_0x2f56,0x7126e));function a58_0x2f56(){const _0x2e4152=['objectDescribe','totalSize','toString','type','_whereClause','146EaLkpn','QueryService','6492hLNFFt','QueryBuilder','systemLogger','error','3085040bjkzzy','loggerDetails','_objectRuleType','from','../../../constants','getRetrieveStream','fields','719874jGFmAD','message','2192022yPqOgD','create','548LNAFdV','SALESFORCE_API_VERSION','loggerJobState','request','search','recordsCount','../../job-detail','build','getRecordsCount','log','@flosum/salesforce','BaseStep','__esModule','3627000UzrCPe','constructor','2317209aiVQoW','exception','17695CPNkPS','objectName','defineProperty','../../deploy/deploy-factory','(((.+)+)+)+$','COUNT()','DeployFactory'];a58_0x2f56=function(){return _0x2e4152;};return a58_0x2f56();}const a58_0xd23ea3=(function(){let _0x37dec3=!![];return function(_0x2d8bd7,_0x5a3165){const _0x59923e=_0x37dec3?function(){if(_0x5a3165){const _0x2e51e2=_0x5a3165['apply'](_0x2d8bd7,arguments);return _0x5a3165=null,_0x2e51e2;}}:function(){};return _0x37dec3=![],_0x59923e;};}()),a58_0x5d9bd8=a58_0xd23ea3(this,function(){const _0xd57a4e=a58_0x305d;return a58_0x5d9bd8[_0xd57a4e(0x6c)]()[_0xd57a4e(0x84)]('(((.+)+)+)+$')['toString']()[_0xd57a4e(0x8e)](a58_0x5d9bd8)[_0xd57a4e(0x84)](_0xd57a4e(0x67));});a58_0x5d9bd8();function a58_0x305d(_0x93248d,_0x1b7230){const _0x229dec=a58_0x2f56();return a58_0x305d=function(_0x5d9bd8,_0xd23ea3){_0x5d9bd8=_0x5d9bd8-0x64;let _0x2f566a=_0x229dec[_0x5d9bd8];return _0x2f566a;},a58_0x305d(_0x93248d,_0x1b7230);}'use strict';Object[a58_0x11d28e(0x65)](exports,a58_0x11d28e(0x8c),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a58_0x11d28e(0x8a)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a58_0x11d28e(0x79)),deploy_factory_1=require(a58_0x11d28e(0x66)),job_detail_1=require(a58_0x11d28e(0x86)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x416ae1,loggerJobState:_0xc80b60,objectName:_0x3fe2bf,request:_0xa415f1,objectRule:_0x1b00a9,objectDescribe:_0x2e195b}){const _0x5c7a70=a58_0x11d28e;this[_0x5c7a70(0x7b)]=[],this[_0x5c7a70(0x76)]=_0x416ae1,this[_0x5c7a70(0x82)]=_0xc80b60,this[_0x5c7a70(0x64)]=_0x3fe2bf,this[_0x5c7a70(0x83)]=_0xa415f1,this[_0x5c7a70(0x6e)]=_0x1b00a9['whereClause'],this['_objectRuleType']=_0x1b00a9[_0x5c7a70(0x6d)],this[_0x5c7a70(0x6a)]=_0x2e195b;}async[a58_0x11d28e(0x88)](){const _0x53196d=a58_0x11d28e;try{const _0x5a6c5f=new salesforce_1[(_0x53196d(0x72))]()['select'](_0x53196d(0x68))[_0x53196d(0x78)](this['objectName']);this['_whereClause']&&_0x5a6c5f['where'](this[_0x53196d(0x6e)]);const _0x378afd=await salesforce_1[_0x53196d(0x70)]['execute'](this[_0x53196d(0x83)],{},_0x5a6c5f[_0x53196d(0x87)](),![],constants_1[_0x53196d(0x81)]);return _0x378afd[_0x53196d(0x6b)];}catch(_0x338fb9){return job_detail_1[_0x53196d(0x73)][_0x53196d(0x74)](_0x338fb9),-0x1;}}[a58_0x11d28e(0x7a)](){const _0x21cfad=a58_0x11d28e,_0x3e4775={'request':this[_0x21cfad(0x83)],'fields':this[_0x21cfad(0x7b)],'whereClause':this['_whereClause'],'objectName':this[_0x21cfad(0x64)],'describe':this[_0x21cfad(0x6a)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1['SortDirection']['ASC']};return retrieve_factory_1['RetrieveFactory'][_0x21cfad(0x7f)](_0x3e4775,this[_0x21cfad(0x85)]);}['getDeployStream'](){const _0x4c098e=a58_0x11d28e,_0x5e93d4={'request':this['request'],'objectName':this[_0x4c098e(0x64)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x4c098e(0x82)]};return deploy_factory_1[_0x4c098e(0x69)][_0x4c098e(0x7f)](_0x5e93d4,this[_0x4c098e(0x77)]);}[a58_0x11d28e(0x89)](_0x884fb0){const _0x568105=a58_0x11d28e;job_detail_1[_0x568105(0x73)][_0x568105(0x89)](_0x884fb0,this['objectName']),this[_0x568105(0x76)][_0x568105(0x89)](_0x884fb0,this['objectName']);}[a58_0x11d28e(0x74)](_0x1aa49b){const _0x23329e=a58_0x11d28e;job_detail_1[_0x23329e(0x73)][_0x23329e(0x74)](_0x1aa49b,this[_0x23329e(0x64)]),this[_0x23329e(0x76)][_0x23329e(0x90)](_0x1aa49b[_0x23329e(0x7d)],this['objectName']);}}exports[a58_0x11d28e(0x8b)]=BaseStep;