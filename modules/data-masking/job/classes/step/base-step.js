const a77_0x4ca05a=a77_0x3008;function a77_0x3008(_0x1e7b9d,_0x52c2bf){const _0x3827fa=a77_0x30a9();return a77_0x3008=function(_0x31b0b5,_0x364fe7){_0x31b0b5=_0x31b0b5-0x73;let _0x30a99a=_0x3827fa[_0x31b0b5];return _0x30a99a;},a77_0x3008(_0x1e7b9d,_0x52c2bf);}(function(_0x8ad113,_0x3eb4dd){const _0x22c907=a77_0x3008,_0x1bc3d9=_0x8ad113();while(!![]){try{const _0x1a92a1=-parseInt(_0x22c907(0x98))/0x1+-parseInt(_0x22c907(0x79))/0x2+-parseInt(_0x22c907(0x9f))/0x3*(parseInt(_0x22c907(0x8c))/0x4)+parseInt(_0x22c907(0x8b))/0x5*(-parseInt(_0x22c907(0x85))/0x6)+parseInt(_0x22c907(0x77))/0x7*(-parseInt(_0x22c907(0x87))/0x8)+parseInt(_0x22c907(0x8d))/0x9+parseInt(_0x22c907(0x9c))/0xa;if(_0x1a92a1===_0x3eb4dd)break;else _0x1bc3d9['push'](_0x1bc3d9['shift']());}catch(_0x30d820){_0x1bc3d9['push'](_0x1bc3d9['shift']());}}}(a77_0x30a9,0x6697b));const a77_0x364fe7=(function(){let _0x44187a=!![];return function(_0x49b317,_0x3f063f){const _0x4019a9=_0x44187a?function(){const _0x5c6696=a77_0x3008;if(_0x3f063f){const _0x46e5fc=_0x3f063f[_0x5c6696(0x8e)](_0x49b317,arguments);return _0x3f063f=null,_0x46e5fc;}}:function(){};return _0x44187a=![],_0x4019a9;};}()),a77_0x31b0b5=a77_0x364fe7(this,function(){const _0x148ae5=a77_0x3008;return a77_0x31b0b5[_0x148ae5(0x96)]()['search'](_0x148ae5(0x92))[_0x148ae5(0x96)]()[_0x148ae5(0x94)](a77_0x31b0b5)['search']('(((.+)+)+)+$');});a77_0x31b0b5();function a77_0x30a9(){const _0x5bdddf=['../../retrieve/retrieve-factory','264827gHAnbf','@flosum/salesforce','../../deploy/deploy-factory','RetrieveFactory','20381130VerTKC','COUNT()','getRetrieveStream','69xgmIxA','log','type','QueryService','systemLogger','create','exception','1687175wAuTNk','select','1247228vMAbYl','../../../constants','whereClause','from','where','loggerDetails','BaseStep','getDeployStream','request','error','_objectRuleType','loggerJobState','426lGFMTo','fields','8QIQyoz','objectDescribe','recordsCount','objectName','44215GUqdyL','97852eRMAyV','6318666dgSWwG','apply','totalSize','__esModule','DeployFactory','(((.+)+)+)+$','getRecordsCount','constructor','_whereClause','toString'];a77_0x30a9=function(){return _0x5bdddf;};return a77_0x30a9();}'use strict';Object['defineProperty'](exports,a77_0x4ca05a(0x90),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a77_0x4ca05a(0x99)),retrieve_factory_1=require(a77_0x4ca05a(0x97)),constants_1=require(a77_0x4ca05a(0x7a)),deploy_factory_1=require(a77_0x4ca05a(0x9a)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x13cf94,loggerJobState:_0x2e2d86,objectName:_0x56cd2d,request:_0x3861e1,objectRule:_0x24c25b,objectDescribe:_0x2327e8}){const _0x413660=a77_0x4ca05a;this['fields']=[],this[_0x413660(0x7e)]=_0x13cf94,this[_0x413660(0x84)]=_0x2e2d86,this[_0x413660(0x8a)]=_0x56cd2d,this['request']=_0x3861e1,this[_0x413660(0x95)]=_0x24c25b[_0x413660(0x7b)],this['_objectRuleType']=_0x24c25b[_0x413660(0xa1)],this[_0x413660(0x88)]=_0x2327e8;}async[a77_0x4ca05a(0x93)](){const _0x1dadba=a77_0x4ca05a;try{const _0x5dcd7e=new salesforce_1['QueryBuilder']()[_0x1dadba(0x78)](_0x1dadba(0x9d))[_0x1dadba(0x7c)](this[_0x1dadba(0x8a)]);this[_0x1dadba(0x95)]&&_0x5dcd7e[_0x1dadba(0x7d)](this[_0x1dadba(0x95)]);const _0x589822=await salesforce_1[_0x1dadba(0x73)]['execute'](this[_0x1dadba(0x81)],{},_0x5dcd7e['build'](),![],constants_1['SALESFORCE_API_VERSION']);return _0x589822[_0x1dadba(0x8f)];}catch(_0x360b55){return job_detail_1[_0x1dadba(0x74)][_0x1dadba(0x82)](_0x360b55),-0x1;}}[a77_0x4ca05a(0x9e)](){const _0x3305df=a77_0x4ca05a,_0x4fa51e={'request':this[_0x3305df(0x81)],'fields':this[_0x3305df(0x86)],'whereClause':this[_0x3305df(0x95)],'objectName':this['objectName'],'describe':this['objectDescribe']};return retrieve_factory_1[_0x3305df(0x9b)]['create'](_0x4fa51e,this[_0x3305df(0x89)]);}[a77_0x4ca05a(0x80)](){const _0x132285=a77_0x4ca05a,_0x4945d7={'request':this[_0x132285(0x81)],'objectName':this[_0x132285(0x8a)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x132285(0x7e)],'loggerJobState':this[_0x132285(0x84)]};return deploy_factory_1[_0x132285(0x91)][_0x132285(0x75)](_0x4945d7,this[_0x132285(0x83)]);}['log'](_0x4317cb){const _0x21f516=a77_0x4ca05a;job_detail_1['systemLogger'][_0x21f516(0xa0)](_0x4317cb,this[_0x21f516(0x8a)]),this[_0x21f516(0x7e)][_0x21f516(0xa0)](_0x4317cb,this[_0x21f516(0x8a)]);}[a77_0x4ca05a(0x82)](_0x3fc20d){const _0x49eea4=a77_0x4ca05a;job_detail_1[_0x49eea4(0x74)]['error'](_0x3fc20d,this[_0x49eea4(0x8a)]),this[_0x49eea4(0x7e)][_0x49eea4(0x76)](_0x3fc20d['message'],this[_0x49eea4(0x8a)]);}}exports[a77_0x4ca05a(0x7f)]=BaseStep;