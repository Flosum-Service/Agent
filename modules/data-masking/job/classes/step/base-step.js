const a59_0x28f34f=a59_0x1d8e;(function(_0x55c6f5,_0x3d8192){const _0x29c5c8=a59_0x1d8e,_0x1b690e=_0x55c6f5();while(!![]){try{const _0xd11282=-parseInt(_0x29c5c8(0xc8))/0x1+-parseInt(_0x29c5c8(0xd4))/0x2+parseInt(_0x29c5c8(0xd5))/0x3+-parseInt(_0x29c5c8(0xc2))/0x4+-parseInt(_0x29c5c8(0xcb))/0x5*(parseInt(_0x29c5c8(0xe3))/0x6)+parseInt(_0x29c5c8(0xc4))/0x7+parseInt(_0x29c5c8(0xbd))/0x8;if(_0xd11282===_0x3d8192)break;else _0x1b690e['push'](_0x1b690e['shift']());}catch(_0x350037){_0x1b690e['push'](_0x1b690e['shift']());}}}(a59_0x5d07,0x90bba));const a59_0x34ee57=(function(){let _0x246963=!![];return function(_0x1e4837,_0x781431){const _0x8cbb02=_0x246963?function(){const _0x4f59da=a59_0x1d8e;if(_0x781431){const _0x198d31=_0x781431[_0x4f59da(0xbb)](_0x1e4837,arguments);return _0x781431=null,_0x198d31;}}:function(){};return _0x246963=![],_0x8cbb02;};}()),a59_0x509036=a59_0x34ee57(this,function(){const _0x30d2e2=a59_0x1d8e;return a59_0x509036[_0x30d2e2(0xd2)]()[_0x30d2e2(0xcf)](_0x30d2e2(0xc0))[_0x30d2e2(0xd2)]()[_0x30d2e2(0xcc)](a59_0x509036)[_0x30d2e2(0xcf)](_0x30d2e2(0xc0));});a59_0x509036();'use strict';Object[a59_0x28f34f(0xc1)](exports,a59_0x28f34f(0xc3),{'value':!![]}),exports[a59_0x28f34f(0xe6)]=void 0x0;const salesforce_1=require(a59_0x28f34f(0xdb)),retrieve_factory_1=require(a59_0x28f34f(0xde)),constants_1=require(a59_0x28f34f(0xe1)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x28f34f(0xd7)),FIELD_ID='Id';function a59_0x1d8e(_0x27353f,_0x2ace8d){const _0x5d2705=a59_0x5d07();return a59_0x1d8e=function(_0x509036,_0x34ee57){_0x509036=_0x509036-0xb9;let _0x5d0724=_0x5d2705[_0x509036];return _0x5d0724;},a59_0x1d8e(_0x27353f,_0x2ace8d);}class BaseStep{constructor({loggerDetails:_0x229015,loggerJobState:_0x177337,objectName:_0x40e8a,request:_0xc5d9b4,objectRule:_0x5196f4,objectDescribe:_0x727ba1}){const _0x42bed6=a59_0x28f34f;this['fields']=[],this[_0x42bed6(0xe5)]=_0x229015,this[_0x42bed6(0xb9)]=_0x177337,this[_0x42bed6(0xce)]=_0x40e8a,this[_0x42bed6(0xbf)]=_0xc5d9b4,this['_whereClause']=_0x5196f4[_0x42bed6(0xba)],this[_0x42bed6(0xd9)]=_0x5196f4[_0x42bed6(0xcd)],this[_0x42bed6(0xca)]=_0x727ba1;}async['getRecordsCount'](){const _0xf3c35c=a59_0x28f34f;try{const _0x13e62a=new salesforce_1['QueryBuilder']()[_0xf3c35c(0xdc)](_0xf3c35c(0xbe))['from'](this[_0xf3c35c(0xce)]);this[_0xf3c35c(0xc5)]&&_0x13e62a[_0xf3c35c(0xe0)](this[_0xf3c35c(0xc5)]);const _0x27ae07=await salesforce_1[_0xf3c35c(0xc6)]['execute'](this['request'],{},_0x13e62a[_0xf3c35c(0xc9)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x27ae07[_0xf3c35c(0xc7)];}catch(_0x484183){return job_detail_1[_0xf3c35c(0xd8)][_0xf3c35c(0xd1)](_0x484183),-0x1;}}[a59_0x28f34f(0xdf)](){const _0x5e8968=a59_0x28f34f,_0x3419f3={'request':this['request'],'fields':this[_0x5e8968(0xdd)],'whereClause':this['_whereClause'],'objectName':this[_0x5e8968(0xce)],'describe':this[_0x5e8968(0xca)]};return retrieve_factory_1[_0x5e8968(0xe4)]['create'](_0x3419f3,this[_0x5e8968(0xe2)]);}[a59_0x28f34f(0xd3)](){const _0x3834a8=a59_0x28f34f,_0x47859a={'request':this[_0x3834a8(0xbf)],'objectName':this[_0x3834a8(0xce)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3834a8(0xe5)],'loggerJobState':this[_0x3834a8(0xb9)]};return deploy_factory_1[_0x3834a8(0xda)][_0x3834a8(0xd6)](_0x47859a,this[_0x3834a8(0xd9)]);}[a59_0x28f34f(0xd0)](_0x53f755){const _0x48ee22=a59_0x28f34f;job_detail_1[_0x48ee22(0xd8)][_0x48ee22(0xd0)](_0x53f755,this[_0x48ee22(0xce)]),this['loggerDetails']['log'](_0x53f755,this[_0x48ee22(0xce)]);}[a59_0x28f34f(0xd1)](_0xd84cee){const _0x165dbe=a59_0x28f34f;job_detail_1[_0x165dbe(0xd8)][_0x165dbe(0xd1)](_0xd84cee,this[_0x165dbe(0xce)]),this[_0x165dbe(0xe5)]['exception'](_0xd84cee[_0x165dbe(0xbc)],this[_0x165dbe(0xce)]);}}exports[a59_0x28f34f(0xe6)]=BaseStep;function a59_0x5d07(){const _0x46e5f1=['@flosum/salesforce','select','fields','../../retrieve/retrieve-factory','getRetrieveStream','where','../../../constants','recordsCount','72TxLiSi','RetrieveFactory','loggerDetails','BaseStep','loggerJobState','whereClause','apply','message','11308440GzltWG','COUNT()','request','(((.+)+)+)+$','defineProperty','602836uHcBWo','__esModule','5596395ZFlSxi','_whereClause','QueryService','totalSize','1041100TuzcQI','build','objectDescribe','168440hsrnhZ','constructor','type','objectName','search','log','error','toString','getDeployStream','2305684PBzdVX','3386079kfKEug','create','../../job-detail','systemLogger','_objectRuleType','DeployFactory'];a59_0x5d07=function(){return _0x46e5f1;};return a59_0x5d07();}