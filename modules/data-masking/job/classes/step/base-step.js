function a58_0x3928(){const _0x18d486=['../../retrieve/retrieve-factory','3015740aXwAwQ','_whereClause','error','getRecordsCount','QueryService','exception','(((.+)+)+)+$','1653526JMSiiQ','COUNT()','fields','511773VFCYSW','constructor','loggerJobState','__esModule','RetrieveFactory','where','whereClause','message','build','log','19132KQpBSz','ASC','execute','objectName','objectDescribe','../../../constants','495JMmdOx','defineProperty','loggerDetails','toString','SortDirection','../../deploy/deploy-factory','BaseStep','getDeployStream','../../job-detail','15446352FhFjSp','request','recordsCount','_objectRuleType','systemLogger','@flosum/salesforce','223152TmmqQw','4671114mpfTMY','create','search'];a58_0x3928=function(){return _0x18d486;};return a58_0x3928();}const a58_0x569a15=a58_0x4be1;(function(_0x35df02,_0x11ce0c){const _0x1910cb=a58_0x4be1,_0x455f58=_0x35df02();while(!![]){try{const _0x1a785d=parseInt(_0x1910cb(0x1f6))/0x1+parseInt(_0x1910cb(0x202))/0x2+-parseInt(_0x1910cb(0x1d7))/0x3+parseInt(_0x1910cb(0x1e1))/0x4*(parseInt(_0x1910cb(0x1e7))/0x5)+parseInt(_0x1910cb(0x1f7))/0x6+parseInt(_0x1910cb(0x1fb))/0x7+-parseInt(_0x1910cb(0x1f0))/0x8;if(_0x1a785d===_0x11ce0c)break;else _0x455f58['push'](_0x455f58['shift']());}catch(_0x3a5297){_0x455f58['push'](_0x455f58['shift']());}}}(a58_0x3928,0x9a25a));const a58_0x3dd627=(function(){let _0x296e28=!![];return function(_0x14350e,_0x26284c){const _0x34950c=_0x296e28?function(){if(_0x26284c){const _0xc00d27=_0x26284c['apply'](_0x14350e,arguments);return _0x26284c=null,_0xc00d27;}}:function(){};return _0x296e28=![],_0x34950c;};}()),a58_0x3839bd=a58_0x3dd627(this,function(){const _0x5b78bd=a58_0x4be1;return a58_0x3839bd['toString']()['search']('(((.+)+)+)+$')[_0x5b78bd(0x1ea)]()[_0x5b78bd(0x1d8)](a58_0x3839bd)[_0x5b78bd(0x1f9)](_0x5b78bd(0x201));});a58_0x3839bd();'use strict';Object[a58_0x569a15(0x1e8)](exports,a58_0x569a15(0x1da),{'value':!![]}),exports[a58_0x569a15(0x1ed)]=void 0x0;const salesforce_1=require(a58_0x569a15(0x1f5)),retrieve_factory_1=require(a58_0x569a15(0x1fa)),constants_1=require(a58_0x569a15(0x1e6)),deploy_factory_1=require(a58_0x569a15(0x1ec)),job_detail_1=require(a58_0x569a15(0x1ef)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x198cc4,loggerJobState:_0x1ebbf7,objectName:_0x4f668d,request:_0x50531d,objectRule:_0xb364ae,objectDescribe:_0x296aa5}){const _0x3c60a0=a58_0x569a15;this[_0x3c60a0(0x1d6)]=[],this[_0x3c60a0(0x1e9)]=_0x198cc4,this['loggerJobState']=_0x1ebbf7,this[_0x3c60a0(0x1e4)]=_0x4f668d,this[_0x3c60a0(0x1f1)]=_0x50531d,this['_whereClause']=_0xb364ae[_0x3c60a0(0x1dd)],this[_0x3c60a0(0x1f3)]=_0xb364ae['type'],this[_0x3c60a0(0x1e5)]=_0x296aa5;}async[a58_0x569a15(0x1fe)](){const _0x490b9e=a58_0x569a15;try{const _0x2345a1=new salesforce_1['QueryBuilder']()['select'](_0x490b9e(0x1d5))['from'](this['objectName']);this[_0x490b9e(0x1fc)]&&_0x2345a1[_0x490b9e(0x1dc)](this[_0x490b9e(0x1fc)]);const _0x3d59bd=await salesforce_1[_0x490b9e(0x1ff)][_0x490b9e(0x1e3)](this[_0x490b9e(0x1f1)],{},_0x2345a1[_0x490b9e(0x1df)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x3d59bd['totalSize'];}catch(_0x62dfef){return job_detail_1['systemLogger'][_0x490b9e(0x1fd)](_0x62dfef),-0x1;}}['getRetrieveStream'](){const _0x5fb3c8=a58_0x569a15,_0x4ef8d2={'request':this['request'],'fields':this[_0x5fb3c8(0x1d6)],'whereClause':this['_whereClause'],'objectName':this[_0x5fb3c8(0x1e4)],'describe':this[_0x5fb3c8(0x1e5)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x5fb3c8(0x1eb)][_0x5fb3c8(0x1e2)]};return retrieve_factory_1[_0x5fb3c8(0x1db)][_0x5fb3c8(0x1f8)](_0x4ef8d2,this[_0x5fb3c8(0x1f2)]);}[a58_0x569a15(0x1ee)](){const _0x203cb9=a58_0x569a15,_0x4bef82={'request':this[_0x203cb9(0x1f1)],'objectName':this[_0x203cb9(0x1e4)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x203cb9(0x1e9)],'loggerJobState':this[_0x203cb9(0x1d9)]};return deploy_factory_1['DeployFactory']['create'](_0x4bef82,this[_0x203cb9(0x1f3)]);}[a58_0x569a15(0x1e0)](_0x2cc88c){const _0x2845a8=a58_0x569a15;job_detail_1['systemLogger'][_0x2845a8(0x1e0)](_0x2cc88c,this[_0x2845a8(0x1e4)]),this[_0x2845a8(0x1e9)][_0x2845a8(0x1e0)](_0x2cc88c,this[_0x2845a8(0x1e4)]);}[a58_0x569a15(0x1fd)](_0x138838){const _0x3ca17f=a58_0x569a15;job_detail_1[_0x3ca17f(0x1f4)][_0x3ca17f(0x1fd)](_0x138838,this[_0x3ca17f(0x1e4)]),this[_0x3ca17f(0x1e9)][_0x3ca17f(0x200)](_0x138838[_0x3ca17f(0x1de)],this[_0x3ca17f(0x1e4)]);}}function a58_0x4be1(_0x43ebff,_0x27a09f){const _0x3dd91f=a58_0x3928();return a58_0x4be1=function(_0x3839bd,_0x3dd627){_0x3839bd=_0x3839bd-0x1d5;let _0x3928bf=_0x3dd91f[_0x3839bd];return _0x3928bf;},a58_0x4be1(_0x43ebff,_0x27a09f);}exports[a58_0x569a15(0x1ed)]=BaseStep;