const a59_0x1ee6a5=a59_0x373e;function a59_0x373e(_0x2fad15,_0xfdf1fd){const _0x184d7a=a59_0x1064();return a59_0x373e=function(_0x1750b8,_0x46ea3f){_0x1750b8=_0x1750b8-0x14e;let _0x1064d4=_0x184d7a[_0x1750b8];return _0x1064d4;},a59_0x373e(_0x2fad15,_0xfdf1fd);}(function(_0x216c22,_0x10c869){const _0x232668=a59_0x373e,_0x40964c=_0x216c22();while(!![]){try{const _0x457a43=parseInt(_0x232668(0x162))/0x1+parseInt(_0x232668(0x14e))/0x2*(parseInt(_0x232668(0x158))/0x3)+-parseInt(_0x232668(0x16b))/0x4+-parseInt(_0x232668(0x153))/0x5*(-parseInt(_0x232668(0x160))/0x6)+parseInt(_0x232668(0x15d))/0x7*(parseInt(_0x232668(0x172))/0x8)+parseInt(_0x232668(0x163))/0x9+parseInt(_0x232668(0x177))/0xa*(-parseInt(_0x232668(0x15e))/0xb);if(_0x457a43===_0x10c869)break;else _0x40964c['push'](_0x40964c['shift']());}catch(_0x16f545){_0x40964c['push'](_0x40964c['shift']());}}}(a59_0x1064,0x8ebb7));const a59_0x46ea3f=(function(){let _0x2cc2b6=!![];return function(_0xc65aa8,_0x1c564f){const _0x10b9f9=_0x2cc2b6?function(){if(_0x1c564f){const _0x3fd4da=_0x1c564f['apply'](_0xc65aa8,arguments);return _0x1c564f=null,_0x3fd4da;}}:function(){};return _0x2cc2b6=![],_0x10b9f9;};}()),a59_0x1750b8=a59_0x46ea3f(this,function(){const _0x11c48e=a59_0x373e;return a59_0x1750b8[_0x11c48e(0x169)]()[_0x11c48e(0x14f)]('(((.+)+)+)+$')[_0x11c48e(0x169)]()[_0x11c48e(0x16f)](a59_0x1750b8)[_0x11c48e(0x14f)](_0x11c48e(0x175));});a59_0x1750b8();function a59_0x1064(){const _0x31babe=['loggerDetails','loggerJobState','(((.+)+)+)+$','getRecordsCount','70LWbBcB','getDeployStream','COUNT()','292VlbLzL','search','_whereClause','log','create','5TZOJXE','RetrieveFactory','request','totalSize','type','13809nPBlhL','defineProperty','../../retrieve/retrieve-factory','getRetrieveStream','BaseStep','7ehdQjG','3458917sizFaS','whereClause','482166zeqgsT','SALESFORCE_API_VERSION','314349CdbGrz','9114219uxkaAS','objectName','objectDescribe','_objectRuleType','@flosum/salesforce','from','toString','where','1239528bmRhSr','../../../constants','error','__esModule','constructor','systemLogger','message','8129624YxSngT'];a59_0x1064=function(){return _0x31babe;};return a59_0x1064();}'use strict';Object[a59_0x1ee6a5(0x159)](exports,a59_0x1ee6a5(0x16e),{'value':!![]}),exports[a59_0x1ee6a5(0x15c)]=void 0x0;const salesforce_1=require(a59_0x1ee6a5(0x167)),retrieve_factory_1=require(a59_0x1ee6a5(0x15a)),constants_1=require(a59_0x1ee6a5(0x16c)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x344662,loggerJobState:_0x4ea9bc,objectName:_0x2d9d1b,request:_0x502a13,objectRule:_0x170259,objectDescribe:_0x305a99}){const _0xf57469=a59_0x1ee6a5;this['fields']=[],this[_0xf57469(0x173)]=_0x344662,this[_0xf57469(0x174)]=_0x4ea9bc,this['objectName']=_0x2d9d1b,this[_0xf57469(0x155)]=_0x502a13,this[_0xf57469(0x150)]=_0x170259[_0xf57469(0x15f)],this[_0xf57469(0x166)]=_0x170259[_0xf57469(0x157)],this[_0xf57469(0x165)]=_0x305a99;}async[a59_0x1ee6a5(0x176)](){const _0x3bf61b=a59_0x1ee6a5;try{const _0x28696d=new salesforce_1['QueryBuilder']()['select'](_0x3bf61b(0x179))[_0x3bf61b(0x168)](this[_0x3bf61b(0x164)]);this[_0x3bf61b(0x150)]&&_0x28696d[_0x3bf61b(0x16a)](this[_0x3bf61b(0x150)]);const _0x361c79=await salesforce_1['QueryService']['execute'](this['request'],{},_0x28696d['build'](),![],constants_1[_0x3bf61b(0x161)]);return _0x361c79[_0x3bf61b(0x156)];}catch(_0x421155){return job_detail_1[_0x3bf61b(0x170)][_0x3bf61b(0x16d)](_0x421155),-0x1;}}[a59_0x1ee6a5(0x15b)](){const _0x511711=a59_0x1ee6a5,_0x3e529d={'request':this['request'],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0x511711(0x164)],'describe':this[_0x511711(0x165)]};return retrieve_factory_1[_0x511711(0x154)][_0x511711(0x152)](_0x3e529d,this['recordsCount']);}[a59_0x1ee6a5(0x178)](){const _0x5c3122=a59_0x1ee6a5,_0x3ac72b={'request':this[_0x5c3122(0x155)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x5c3122(0x173)],'loggerJobState':this[_0x5c3122(0x174)]};return deploy_factory_1['DeployFactory'][_0x5c3122(0x152)](_0x3ac72b,this[_0x5c3122(0x166)]);}[a59_0x1ee6a5(0x151)](_0x406571){const _0xa84b88=a59_0x1ee6a5;job_detail_1['systemLogger'][_0xa84b88(0x151)](_0x406571,this[_0xa84b88(0x164)]),this[_0xa84b88(0x173)][_0xa84b88(0x151)](_0x406571,this[_0xa84b88(0x164)]);}[a59_0x1ee6a5(0x16d)](_0x14b953){const _0x3c5319=a59_0x1ee6a5;job_detail_1[_0x3c5319(0x170)][_0x3c5319(0x16d)](_0x14b953,this[_0x3c5319(0x164)]),this['loggerDetails']['exception'](_0x14b953[_0x3c5319(0x171)],this[_0x3c5319(0x164)]);}}exports[a59_0x1ee6a5(0x15c)]=BaseStep;