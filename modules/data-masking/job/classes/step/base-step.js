const a59_0x517f49=a59_0x4cb6;(function(_0x5b0c1d,_0x3c9792){const _0x19f480=a59_0x4cb6,_0x5531f8=_0x5b0c1d();while(!![]){try{const _0x5dacb0=parseInt(_0x19f480(0x160))/0x1+parseInt(_0x19f480(0x15d))/0x2*(-parseInt(_0x19f480(0x154))/0x3)+parseInt(_0x19f480(0x148))/0x4+parseInt(_0x19f480(0x163))/0x5*(parseInt(_0x19f480(0x158))/0x6)+-parseInt(_0x19f480(0x15e))/0x7*(parseInt(_0x19f480(0x155))/0x8)+parseInt(_0x19f480(0x15b))/0x9+-parseInt(_0x19f480(0x15c))/0xa*(parseInt(_0x19f480(0x15f))/0xb);if(_0x5dacb0===_0x3c9792)break;else _0x5531f8['push'](_0x5531f8['shift']());}catch(_0x41dd13){_0x5531f8['push'](_0x5531f8['shift']());}}}(a59_0x7538,0x69379));const a59_0x5b4920=(function(){let _0x2d8a9d=!![];return function(_0x5b1d7c,_0x43c1c4){const _0x38251b=_0x2d8a9d?function(){const _0x137cf8=a59_0x4cb6;if(_0x43c1c4){const _0x1cacfe=_0x43c1c4[_0x137cf8(0x157)](_0x5b1d7c,arguments);return _0x43c1c4=null,_0x1cacfe;}}:function(){};return _0x2d8a9d=![],_0x38251b;};}()),a59_0x4476b0=a59_0x5b4920(this,function(){const _0x5b083a=a59_0x4cb6;return a59_0x4476b0[_0x5b083a(0x162)]()[_0x5b083a(0x14e)](_0x5b083a(0x156))[_0x5b083a(0x162)]()[_0x5b083a(0x145)](a59_0x4476b0)[_0x5b083a(0x14e)](_0x5b083a(0x156));});function a59_0x4cb6(_0x1d644f,_0x25c4df){const _0x4b14aa=a59_0x7538();return a59_0x4cb6=function(_0x4476b0,_0x5b4920){_0x4476b0=_0x4476b0-0x142;let _0x7538f3=_0x4b14aa[_0x4476b0];return _0x7538f3;},a59_0x4cb6(_0x1d644f,_0x25c4df);}a59_0x4476b0();function a59_0x7538(){const _0x65546f=['toString','5wbroVV','build','message','whereClause','getRecordsCount','../../job-detail','_whereClause','error','QueryBuilder','loggerJobState','__esModule','DeployFactory','loggerDetails','execute','_objectRuleType','SALESFORCE_API_VERSION','systemLogger','getDeployStream','../../../constants','constructor','objectName','create','1313868NkZgpP','from','RetrieveFactory','where','BaseStep','log','search','fields','select','type','recordsCount','QueryService','325887EPpKMZ','8uFNeQn','(((.+)+)+)+$','apply','2717526atLZGo','@flosum/salesforce','request','610110FcFRPI','14970lOJnCB','6pMBbVv','3655967RlvKGJ','583kBcoLi','509300vCysWv','exception'];a59_0x7538=function(){return _0x65546f;};return a59_0x7538();}'use strict';Object['defineProperty'](exports,a59_0x517f49(0x16d),{'value':!![]}),exports[a59_0x517f49(0x14c)]=void 0x0;const salesforce_1=require(a59_0x517f49(0x159)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a59_0x517f49(0x144)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x517f49(0x168)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x75ff42,loggerJobState:_0x40ed9e,objectName:_0x1d4837,request:_0x162c34,objectRule:_0x478948,objectDescribe:_0x1ad026}){const _0x139dc9=a59_0x517f49;this[_0x139dc9(0x14f)]=[],this[_0x139dc9(0x16f)]=_0x75ff42,this[_0x139dc9(0x16c)]=_0x40ed9e,this[_0x139dc9(0x146)]=_0x1d4837,this['request']=_0x162c34,this[_0x139dc9(0x169)]=_0x478948[_0x139dc9(0x166)],this[_0x139dc9(0x171)]=_0x478948[_0x139dc9(0x151)],this['objectDescribe']=_0x1ad026;}async[a59_0x517f49(0x167)](){const _0x1f85a2=a59_0x517f49;try{const _0xc2f636=new salesforce_1[(_0x1f85a2(0x16b))]()[_0x1f85a2(0x150)]('COUNT()')[_0x1f85a2(0x149)](this['objectName']);this[_0x1f85a2(0x169)]&&_0xc2f636[_0x1f85a2(0x14b)](this[_0x1f85a2(0x169)]);const _0x5f4b4d=await salesforce_1[_0x1f85a2(0x153)][_0x1f85a2(0x170)](this[_0x1f85a2(0x15a)],{},_0xc2f636[_0x1f85a2(0x164)](),![],constants_1[_0x1f85a2(0x172)]);return _0x5f4b4d['totalSize'];}catch(_0x1214fb){return job_detail_1[_0x1f85a2(0x142)]['error'](_0x1214fb),-0x1;}}['getRetrieveStream'](){const _0x42e203=a59_0x517f49,_0x4db0a1={'request':this['request'],'fields':this['fields'],'whereClause':this[_0x42e203(0x169)],'objectName':this['objectName'],'describe':this['objectDescribe']};return retrieve_factory_1[_0x42e203(0x14a)]['create'](_0x4db0a1,this[_0x42e203(0x152)]);}[a59_0x517f49(0x143)](){const _0x401ce1=a59_0x517f49,_0x2beb8b={'request':this[_0x401ce1(0x15a)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x401ce1(0x16c)]};return deploy_factory_1[_0x401ce1(0x16e)][_0x401ce1(0x147)](_0x2beb8b,this['_objectRuleType']);}[a59_0x517f49(0x14d)](_0x4ed98f){const _0x209a0f=a59_0x517f49;job_detail_1['systemLogger'][_0x209a0f(0x14d)](_0x4ed98f,this[_0x209a0f(0x146)]),this[_0x209a0f(0x16f)][_0x209a0f(0x14d)](_0x4ed98f,this['objectName']);}[a59_0x517f49(0x16a)](_0x51b7da){const _0x52a46c=a59_0x517f49;job_detail_1['systemLogger'][_0x52a46c(0x16a)](_0x51b7da,this[_0x52a46c(0x146)]),this[_0x52a46c(0x16f)][_0x52a46c(0x161)](_0x51b7da[_0x52a46c(0x165)],this[_0x52a46c(0x146)]);}}exports[a59_0x517f49(0x14c)]=BaseStep;