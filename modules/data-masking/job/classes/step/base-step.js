const a59_0x32d390=a59_0x1cd4;(function(_0x10f996,_0x11a10c){const _0x277227=a59_0x1cd4,_0x3bc034=_0x10f996();while(!![]){try{const _0x1cbc24=-parseInt(_0x277227(0x142))/0x1*(parseInt(_0x277227(0x145))/0x2)+parseInt(_0x277227(0x136))/0x3+parseInt(_0x277227(0x13a))/0x4+parseInt(_0x277227(0x129))/0x5*(parseInt(_0x277227(0x130))/0x6)+-parseInt(_0x277227(0x134))/0x7+-parseInt(_0x277227(0x131))/0x8*(-parseInt(_0x277227(0x146))/0x9)+-parseInt(_0x277227(0x13f))/0xa;if(_0x1cbc24===_0x11a10c)break;else _0x3bc034['push'](_0x3bc034['shift']());}catch(_0x4fe578){_0x3bc034['push'](_0x3bc034['shift']());}}}(a59_0x3df2,0xe3149));const a59_0xf34479=(function(){let _0x3d5d3f=!![];return function(_0x3a60b1,_0x1285e8){const _0xad3add=_0x3d5d3f?function(){if(_0x1285e8){const _0x468fd8=_0x1285e8['apply'](_0x3a60b1,arguments);return _0x1285e8=null,_0x468fd8;}}:function(){};return _0x3d5d3f=![],_0xad3add;};}()),a59_0x308264=a59_0xf34479(this,function(){const _0xee0c6a=a59_0x1cd4;return a59_0x308264[_0xee0c6a(0x127)]()[_0xee0c6a(0x125)](_0xee0c6a(0x14a))[_0xee0c6a(0x127)]()['constructor'](a59_0x308264)[_0xee0c6a(0x125)](_0xee0c6a(0x14a));});a59_0x308264();function a59_0x1cd4(_0x447738,_0xb5490){const _0x3d3671=a59_0x3df2();return a59_0x1cd4=function(_0x308264,_0xf34479){_0x308264=_0x308264-0x124;let _0x3df283=_0x3d3671[_0x308264];return _0x3df283;},a59_0x1cd4(_0x447738,_0xb5490);}'use strict';Object[a59_0x32d390(0x13d)](exports,a59_0x32d390(0x135),{'value':!![]}),exports[a59_0x32d390(0x12c)]=void 0x0;function a59_0x3df2(){const _0x44cbd4=['30ckVelV','11435544FQnyFf','SALESFORCE_API_VERSION','getDeployStream','4085480FeQQkz','__esModule','1409841wvtCSx','execute','../../job-detail','objectDescribe','2613588turoxd','objectName','error','defineProperty','create','16297630SfDtJp','RetrieveFactory','_objectRuleType','1126453vXIbqQ','loggerJobState','exception','2jzelpY','9NjKVQY','_whereClause','../../../constants','select','(((.+)+)+)+$','fields','loggerDetails','systemLogger','message','QueryBuilder','QueryService','from','search','log','toString','recordsCount','1717190oSCpKb','DeployFactory','getRecordsCount','BaseStep','../../retrieve/retrieve-factory','request','@flosum/salesforce'];a59_0x3df2=function(){return _0x44cbd4;};return a59_0x3df2();}const salesforce_1=require(a59_0x32d390(0x12f)),retrieve_factory_1=require(a59_0x32d390(0x12d)),constants_1=require(a59_0x32d390(0x148)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x32d390(0x138)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x758009,loggerJobState:_0x385356,objectName:_0x35916e,request:_0x1d712f,objectRule:_0x377344,objectDescribe:_0x2d2287}){const _0x310433=a59_0x32d390;this[_0x310433(0x14b)]=[],this[_0x310433(0x14c)]=_0x758009,this['loggerJobState']=_0x385356,this[_0x310433(0x13b)]=_0x35916e,this[_0x310433(0x12e)]=_0x1d712f,this[_0x310433(0x147)]=_0x377344['whereClause'],this[_0x310433(0x141)]=_0x377344['type'],this[_0x310433(0x139)]=_0x2d2287;}async[a59_0x32d390(0x12b)](){const _0xd7b432=a59_0x32d390;try{const _0x491a3a=new salesforce_1[(_0xd7b432(0x14f))]()[_0xd7b432(0x149)]('COUNT()')[_0xd7b432(0x124)](this['objectName']);this[_0xd7b432(0x147)]&&_0x491a3a['where'](this['_whereClause']);const _0x201a12=await salesforce_1[_0xd7b432(0x150)][_0xd7b432(0x137)](this[_0xd7b432(0x12e)],{},_0x491a3a['build'](),![],constants_1[_0xd7b432(0x132)]);return _0x201a12['totalSize'];}catch(_0x54b475){return job_detail_1['systemLogger']['error'](_0x54b475),-0x1;}}['getRetrieveStream'](){const _0x7c5034=a59_0x32d390,_0x9aed32={'request':this[_0x7c5034(0x12e)],'fields':this[_0x7c5034(0x14b)],'whereClause':this[_0x7c5034(0x147)],'objectName':this['objectName'],'describe':this[_0x7c5034(0x139)]};return retrieve_factory_1[_0x7c5034(0x140)][_0x7c5034(0x13e)](_0x9aed32,this[_0x7c5034(0x128)]);}[a59_0x32d390(0x133)](){const _0x28831d=a59_0x32d390,_0xf4326a={'request':this[_0x28831d(0x12e)],'objectName':this[_0x28831d(0x13b)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x28831d(0x143)]};return deploy_factory_1[_0x28831d(0x12a)]['create'](_0xf4326a,this['_objectRuleType']);}[a59_0x32d390(0x126)](_0x4b6bde){const _0x420aff=a59_0x32d390;job_detail_1['systemLogger']['log'](_0x4b6bde,this[_0x420aff(0x13b)]),this[_0x420aff(0x14c)][_0x420aff(0x126)](_0x4b6bde,this['objectName']);}[a59_0x32d390(0x13c)](_0x20b238){const _0x6619d1=a59_0x32d390;job_detail_1[_0x6619d1(0x14d)][_0x6619d1(0x13c)](_0x20b238,this['objectName']),this[_0x6619d1(0x14c)][_0x6619d1(0x144)](_0x20b238[_0x6619d1(0x14e)],this[_0x6619d1(0x13b)]);}}exports[a59_0x32d390(0x12c)]=BaseStep;