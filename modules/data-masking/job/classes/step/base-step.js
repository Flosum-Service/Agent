const a59_0x2c03b2=a59_0x24aa;(function(_0x523e56,_0x338bfd){const _0x39e622=a59_0x24aa,_0xeac8a4=_0x523e56();while(!![]){try{const _0x22db6c=parseInt(_0x39e622(0x7a))/0x1*(-parseInt(_0x39e622(0xa0))/0x2)+parseInt(_0x39e622(0x91))/0x3+-parseInt(_0x39e622(0x9b))/0x4+parseInt(_0x39e622(0x80))/0x5*(parseInt(_0x39e622(0x8e))/0x6)+-parseInt(_0x39e622(0x75))/0x7+parseInt(_0x39e622(0x79))/0x8*(-parseInt(_0x39e622(0x77))/0x9)+parseInt(_0x39e622(0x85))/0xa;if(_0x22db6c===_0x338bfd)break;else _0xeac8a4['push'](_0xeac8a4['shift']());}catch(_0x5f301f){_0xeac8a4['push'](_0xeac8a4['shift']());}}}(a59_0x3221,0xbea09));const a59_0x34e29c=(function(){let _0x22e8c7=!![];return function(_0x2191af,_0x3b1f46){const _0x950a80=_0x22e8c7?function(){const _0x1b5fa7=a59_0x24aa;if(_0x3b1f46){const _0x28b2ae=_0x3b1f46[_0x1b5fa7(0x93)](_0x2191af,arguments);return _0x3b1f46=null,_0x28b2ae;}}:function(){};return _0x22e8c7=![],_0x950a80;};}()),a59_0x3f1524=a59_0x34e29c(this,function(){const _0x5e2ee9=a59_0x24aa;return a59_0x3f1524[_0x5e2ee9(0x92)]()['search'](_0x5e2ee9(0x84))['toString']()['constructor'](a59_0x3f1524)[_0x5e2ee9(0x9f)]('(((.+)+)+)+$');});a59_0x3f1524();'use strict';Object[a59_0x2c03b2(0x9a)](exports,'__esModule',{'value':!![]}),exports[a59_0x2c03b2(0x8a)]=void 0x0;function a59_0x24aa(_0x87a8ca,_0x51959b){const _0x28cbab=a59_0x3221();return a59_0x24aa=function(_0x3f1524,_0x34e29c){_0x3f1524=_0x3f1524-0x75;let _0x322183=_0x28cbab[_0x3f1524];return _0x322183;},a59_0x24aa(_0x87a8ca,_0x51959b);}const salesforce_1=require(a59_0x2c03b2(0x99)),retrieve_factory_1=require(a59_0x2c03b2(0x94)),constants_1=require(a59_0x2c03b2(0x83)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require('../../job-detail'),FIELD_ID='Id';function a59_0x3221(){const _0x398f42=['apply','../../retrieve/retrieve-factory','loggerJobState','loggerDetails','_whereClause','objectDescribe','@flosum/salesforce','defineProperty','2677644TAKUbp','from','error','getRecordsCount','search','19216xNVUjw','2895725duVuOm','fields','2417211QeZKTW','recordsCount','8yVFxBS','35GVmNJb','build','objectName','request','type','getDeployStream','7434335CYqDAl','QueryService','systemLogger','../../../constants','(((.+)+)+)+$','2406680nuzYrH','getRetrieveStream','execute','create','message','BaseStep','SALESFORCE_API_VERSION','log','QueryBuilder','6Rclity','COUNT()','_objectRuleType','2223657EUyXuL','toString'];a59_0x3221=function(){return _0x398f42;};return a59_0x3221();}class BaseStep{constructor({loggerDetails:_0x553484,loggerJobState:_0x4c74f6,objectName:_0x674809,request:_0x4e86e9,objectRule:_0x98c8dd,objectDescribe:_0x20ad10}){const _0x315328=a59_0x2c03b2;this['fields']=[],this[_0x315328(0x96)]=_0x553484,this['loggerJobState']=_0x4c74f6,this[_0x315328(0x7c)]=_0x674809,this[_0x315328(0x7d)]=_0x4e86e9,this[_0x315328(0x97)]=_0x98c8dd['whereClause'],this[_0x315328(0x90)]=_0x98c8dd[_0x315328(0x7e)],this[_0x315328(0x98)]=_0x20ad10;}async[a59_0x2c03b2(0x9e)](){const _0x3808e1=a59_0x2c03b2;try{const _0xe8d54e=new salesforce_1[(_0x3808e1(0x8d))]()['select'](_0x3808e1(0x8f))[_0x3808e1(0x9c)](this[_0x3808e1(0x7c)]);this[_0x3808e1(0x97)]&&_0xe8d54e['where'](this['_whereClause']);const _0x4ba407=await salesforce_1[_0x3808e1(0x81)][_0x3808e1(0x87)](this[_0x3808e1(0x7d)],{},_0xe8d54e[_0x3808e1(0x7b)](),![],constants_1[_0x3808e1(0x8b)]);return _0x4ba407['totalSize'];}catch(_0x56f8c3){return job_detail_1[_0x3808e1(0x82)]['error'](_0x56f8c3),-0x1;}}[a59_0x2c03b2(0x86)](){const _0x3ef643=a59_0x2c03b2,_0x8e71ae={'request':this[_0x3ef643(0x7d)],'fields':this[_0x3ef643(0x76)],'whereClause':this[_0x3ef643(0x97)],'objectName':this[_0x3ef643(0x7c)],'describe':this[_0x3ef643(0x98)]};return retrieve_factory_1['RetrieveFactory'][_0x3ef643(0x88)](_0x8e71ae,this[_0x3ef643(0x78)]);}[a59_0x2c03b2(0x7f)](){const _0x3daf19=a59_0x2c03b2,_0x4ddfcf={'request':this[_0x3daf19(0x7d)],'objectName':this[_0x3daf19(0x7c)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3daf19(0x96)],'loggerJobState':this[_0x3daf19(0x95)]};return deploy_factory_1['DeployFactory'][_0x3daf19(0x88)](_0x4ddfcf,this[_0x3daf19(0x90)]);}[a59_0x2c03b2(0x8c)](_0x5f3216){const _0x64f179=a59_0x2c03b2;job_detail_1['systemLogger'][_0x64f179(0x8c)](_0x5f3216,this[_0x64f179(0x7c)]),this[_0x64f179(0x96)][_0x64f179(0x8c)](_0x5f3216,this[_0x64f179(0x7c)]);}[a59_0x2c03b2(0x9d)](_0x5e1293){const _0x22b1fe=a59_0x2c03b2;job_detail_1['systemLogger']['error'](_0x5e1293,this['objectName']),this['loggerDetails']['exception'](_0x5e1293[_0x22b1fe(0x89)],this[_0x22b1fe(0x7c)]);}}exports['BaseStep']=BaseStep;