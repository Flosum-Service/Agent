const a76_0x4cb690=a76_0x3339;(function(_0x4e91fd,_0x37b03a){const _0x147e31=a76_0x3339,_0x449720=_0x4e91fd();while(!![]){try{const _0x433214=parseInt(_0x147e31(0x15a))/0x1*(parseInt(_0x147e31(0x133))/0x2)+-parseInt(_0x147e31(0x149))/0x3+-parseInt(_0x147e31(0x140))/0x4+parseInt(_0x147e31(0x153))/0x5*(parseInt(_0x147e31(0x147))/0x6)+parseInt(_0x147e31(0x13b))/0x7+-parseInt(_0x147e31(0x14f))/0x8+parseInt(_0x147e31(0x131))/0x9;if(_0x433214===_0x37b03a)break;else _0x449720['push'](_0x449720['shift']());}catch(_0x104b46){_0x449720['push'](_0x449720['shift']());}}}(a76_0x24a2,0xce188));const a76_0xc03680=(function(){let _0x2bc4b5=!![];return function(_0x57979c,_0xf91646){const _0x245df7=_0x2bc4b5?function(){const _0x9798d2=a76_0x3339;if(_0xf91646){const _0x4631e9=_0xf91646[_0x9798d2(0x159)](_0x57979c,arguments);return _0xf91646=null,_0x4631e9;}}:function(){};return _0x2bc4b5=![],_0x245df7;};}()),a76_0x595424=a76_0xc03680(this,function(){const _0x2c210=a76_0x3339;return a76_0x595424[_0x2c210(0x152)]()['search'](_0x2c210(0x14e))['toString']()['constructor'](a76_0x595424)[_0x2c210(0x12d)](_0x2c210(0x14e));});a76_0x595424();'use strict';function a76_0x24a2(){const _0x652de3=['16155PBfVNP','select','request','objectDescribe','QueryService','create','apply','23NCXKBL','type','objectName','search','error','loggerDetails','getRetrieveStream','2118285aGwLHT','@flosum/salesforce','77874blHkdy','where','build','_whereClause','from','execute','SALESFORCE_API_VERSION','loggerJobState','11473728AxRJbX','whereClause','__esModule','recordsCount','fields','1919156UoXCQV','BaseStep','getRecordsCount','../../deploy/deploy-factory','log','QueryBuilder','defineProperty','1458HpgvyP','RetrieveFactory','3381609zklXSX','COUNT()','DeployFactory','totalSize','systemLogger','(((.+)+)+)+$','8831944CYTYxy','_objectRuleType','message','toString'];a76_0x24a2=function(){return _0x652de3;};return a76_0x24a2();}Object[a76_0x4cb690(0x146)](exports,a76_0x4cb690(0x13d),{'value':!![]}),exports[a76_0x4cb690(0x141)]=void 0x0;const salesforce_1=require(a76_0x4cb690(0x132)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require('../../../constants'),deploy_factory_1=require(a76_0x4cb690(0x143)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';function a76_0x3339(_0x38ff60,_0x28be0e){const _0x17fbd6=a76_0x24a2();return a76_0x3339=function(_0x595424,_0xc03680){_0x595424=_0x595424-0x12d;let _0x24a23a=_0x17fbd6[_0x595424];return _0x24a23a;},a76_0x3339(_0x38ff60,_0x28be0e);}class BaseStep{constructor({loggerDetails:_0x1173c2,loggerJobState:_0x49df01,objectName:_0x483aaf,request:_0x3d6a75,objectRule:_0x30f633,objectDescribe:_0x4092b4}){const _0x3615b7=a76_0x4cb690;this['fields']=[],this[_0x3615b7(0x12f)]=_0x1173c2,this[_0x3615b7(0x13a)]=_0x49df01,this['objectName']=_0x483aaf,this[_0x3615b7(0x155)]=_0x3d6a75,this[_0x3615b7(0x136)]=_0x30f633[_0x3615b7(0x13c)],this[_0x3615b7(0x150)]=_0x30f633[_0x3615b7(0x15b)],this[_0x3615b7(0x156)]=_0x4092b4;}async[a76_0x4cb690(0x142)](){const _0x4275a4=a76_0x4cb690;try{const _0x563c44=new salesforce_1[(_0x4275a4(0x145))]()[_0x4275a4(0x154)](_0x4275a4(0x14a))[_0x4275a4(0x137)](this[_0x4275a4(0x15c)]);this['_whereClause']&&_0x563c44[_0x4275a4(0x134)](this[_0x4275a4(0x136)]);const _0x2bf1a3=await salesforce_1[_0x4275a4(0x157)][_0x4275a4(0x138)](this['request'],{},_0x563c44[_0x4275a4(0x135)](),![],constants_1[_0x4275a4(0x139)]);return _0x2bf1a3[_0x4275a4(0x14c)];}catch(_0x4618a8){return job_detail_1[_0x4275a4(0x14d)]['error'](_0x4618a8),-0x1;}}[a76_0x4cb690(0x130)](){const _0x59f32a=a76_0x4cb690,_0x33cf3f={'request':this[_0x59f32a(0x155)],'fields':this[_0x59f32a(0x13f)],'whereClause':this[_0x59f32a(0x136)],'objectName':this[_0x59f32a(0x15c)],'describe':this['objectDescribe']};return retrieve_factory_1[_0x59f32a(0x148)][_0x59f32a(0x158)](_0x33cf3f,this[_0x59f32a(0x13e)]);}['getDeployStream'](){const _0x116644=a76_0x4cb690,_0x10df34={'request':this[_0x116644(0x155)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x116644(0x12f)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x116644(0x14b)][_0x116644(0x158)](_0x10df34,this[_0x116644(0x150)]);}[a76_0x4cb690(0x144)](_0x14e00a){const _0x41c38e=a76_0x4cb690;job_detail_1['systemLogger'][_0x41c38e(0x144)](_0x14e00a,this[_0x41c38e(0x15c)]),this[_0x41c38e(0x12f)][_0x41c38e(0x144)](_0x14e00a,this[_0x41c38e(0x15c)]);}['error'](_0x1f8315){const _0x53b7b3=a76_0x4cb690;job_detail_1[_0x53b7b3(0x14d)][_0x53b7b3(0x12e)](_0x1f8315,this[_0x53b7b3(0x15c)]),this[_0x53b7b3(0x12f)]['exception'](_0x1f8315[_0x53b7b3(0x151)],this['objectName']);}}exports[a76_0x4cb690(0x141)]=BaseStep;