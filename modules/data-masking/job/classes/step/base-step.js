function a58_0x491d(){const _0x89142b=['systemLogger','recordsCount','search','exception','loggerDetails','message','../../job-detail','../../deploy/deploy-factory','226037lhuYTz','constructor','execute','totalSize','toString','fields','defineProperty','QueryBuilder','SortDirection','objectDescribe','321yTJIlc','select','6ouCxBB','apply','getRetrieveStream','request','__esModule','getRecordsCount','6921320YkcvcW','../../../constants','log','error','getDeployStream','loggerJobState','RetrieveFactory','BaseStep','95839WClbga','from','770193dBcIFq','create','type','102SGTrPC','QueryService','876FVOjrE','objectName','260415WqCmwW','@flosum/salesforce','_whereClause','(((.+)+)+)+$','_objectRuleType','2474840WZQjra','build','ASC','where','SALESFORCE_API_VERSION'];a58_0x491d=function(){return _0x89142b;};return a58_0x491d();}const a58_0x2c8005=a58_0x3ec9;(function(_0x103f19,_0x4ba808){const _0x4ec1d1=a58_0x3ec9,_0x10e9e8=_0x103f19();while(!![]){try{const _0x11e80e=-parseInt(_0x4ec1d1(0x11d))/0x1*(parseInt(_0x4ec1d1(0x144))/0x2)+parseInt(_0x4ec1d1(0x142))/0x3*(-parseInt(_0x4ec1d1(0x124))/0x4)+parseInt(_0x4ec1d1(0x126))/0x5+-parseInt(_0x4ec1d1(0x122))/0x6*(parseInt(_0x4ec1d1(0x138))/0x7)+parseInt(_0x4ec1d1(0x12b))/0x8+parseInt(_0x4ec1d1(0x11f))/0x9+parseInt(_0x4ec1d1(0x115))/0xa;if(_0x11e80e===_0x4ba808)break;else _0x10e9e8['push'](_0x10e9e8['shift']());}catch(_0xbaa4a8){_0x10e9e8['push'](_0x10e9e8['shift']());}}}(a58_0x491d,0x442d2));function a58_0x3ec9(_0x1fd6c4,_0x474467){const _0x1dc754=a58_0x491d();return a58_0x3ec9=function(_0x460c29,_0x2b973f){_0x460c29=_0x460c29-0x113;let _0x491de3=_0x1dc754[_0x460c29];return _0x491de3;},a58_0x3ec9(_0x1fd6c4,_0x474467);}const a58_0x2b973f=(function(){let _0x249c64=!![];return function(_0x470095,_0x20aca6){const _0x252bc1=_0x249c64?function(){const _0x11db74=a58_0x3ec9;if(_0x20aca6){const _0xcb4d69=_0x20aca6[_0x11db74(0x145)](_0x470095,arguments);return _0x20aca6=null,_0xcb4d69;}}:function(){};return _0x249c64=![],_0x252bc1;};}()),a58_0x460c29=a58_0x2b973f(this,function(){const _0x40eade=a58_0x3ec9;return a58_0x460c29[_0x40eade(0x13c)]()[_0x40eade(0x132)]('(((.+)+)+)+$')[_0x40eade(0x13c)]()[_0x40eade(0x139)](a58_0x460c29)[_0x40eade(0x132)](_0x40eade(0x129));});a58_0x460c29();'use strict';Object[a58_0x2c8005(0x13e)](exports,a58_0x2c8005(0x113),{'value':!![]}),exports[a58_0x2c8005(0x11c)]=void 0x0;const salesforce_1=require(a58_0x2c8005(0x127)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a58_0x2c8005(0x116)),deploy_factory_1=require(a58_0x2c8005(0x137)),job_detail_1=require(a58_0x2c8005(0x136)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0xeefca2,loggerJobState:_0x3a68bf,objectName:_0x471fa7,request:_0x6ea106,objectRule:_0x3e9805,objectDescribe:_0x5713b9}){const _0x13e7a9=a58_0x2c8005;this[_0x13e7a9(0x13d)]=[],this[_0x13e7a9(0x134)]=_0xeefca2,this[_0x13e7a9(0x11a)]=_0x3a68bf,this[_0x13e7a9(0x125)]=_0x471fa7,this['request']=_0x6ea106,this[_0x13e7a9(0x128)]=_0x3e9805['whereClause'],this[_0x13e7a9(0x12a)]=_0x3e9805[_0x13e7a9(0x121)],this['objectDescribe']=_0x5713b9;}async[a58_0x2c8005(0x114)](){const _0x1dc56=a58_0x2c8005;try{const _0x18cefb=new salesforce_1[(_0x1dc56(0x13f))]()[_0x1dc56(0x143)]('COUNT()')[_0x1dc56(0x11e)](this[_0x1dc56(0x125)]);this[_0x1dc56(0x128)]&&_0x18cefb[_0x1dc56(0x12e)](this[_0x1dc56(0x128)]);const _0x33e807=await salesforce_1[_0x1dc56(0x123)][_0x1dc56(0x13a)](this[_0x1dc56(0x147)],{},_0x18cefb[_0x1dc56(0x12c)](),![],constants_1[_0x1dc56(0x12f)]);return _0x33e807[_0x1dc56(0x13b)];}catch(_0xaf6dc7){return job_detail_1['systemLogger']['error'](_0xaf6dc7),-0x1;}}[a58_0x2c8005(0x146)](){const _0x104b43=a58_0x2c8005,_0x27a6cf={'request':this['request'],'fields':this[_0x104b43(0x13d)],'whereClause':this[_0x104b43(0x128)],'objectName':this[_0x104b43(0x125)],'describe':this[_0x104b43(0x141)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x104b43(0x140)][_0x104b43(0x12d)]};return retrieve_factory_1[_0x104b43(0x11b)][_0x104b43(0x120)](_0x27a6cf,this[_0x104b43(0x131)]);}[a58_0x2c8005(0x119)](){const _0x4ca473=a58_0x2c8005,_0x4dc545={'request':this[_0x4ca473(0x147)],'objectName':this[_0x4ca473(0x125)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x4ca473(0x11a)]};return deploy_factory_1['DeployFactory'][_0x4ca473(0x120)](_0x4dc545,this[_0x4ca473(0x12a)]);}[a58_0x2c8005(0x117)](_0x4d86e3){const _0x178490=a58_0x2c8005;job_detail_1[_0x178490(0x130)][_0x178490(0x117)](_0x4d86e3,this[_0x178490(0x125)]),this[_0x178490(0x134)][_0x178490(0x117)](_0x4d86e3,this[_0x178490(0x125)]);}[a58_0x2c8005(0x118)](_0x37bef1){const _0x37d285=a58_0x2c8005;job_detail_1[_0x37d285(0x130)][_0x37d285(0x118)](_0x37bef1,this['objectName']),this['loggerDetails'][_0x37d285(0x133)](_0x37bef1[_0x37d285(0x135)],this[_0x37d285(0x125)]);}}exports[a58_0x2c8005(0x11c)]=BaseStep;