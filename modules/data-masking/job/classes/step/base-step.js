const a59_0x27ed6c=a59_0x1603;function a59_0x1603(_0x15d5ea,_0x408a56){const _0x3e9c53=a59_0x5a30();return a59_0x1603=function(_0x15a550,_0x43b216){_0x15a550=_0x15a550-0x150;let _0x5a303f=_0x3e9c53[_0x15a550];return _0x5a303f;},a59_0x1603(_0x15d5ea,_0x408a56);}(function(_0x1eaa2e,_0x191cc0){const _0x1f2623=a59_0x1603,_0x50001d=_0x1eaa2e();while(!![]){try{const _0x201735=-parseInt(_0x1f2623(0x175))/0x1*(parseInt(_0x1f2623(0x160))/0x2)+-parseInt(_0x1f2623(0x16c))/0x3+parseInt(_0x1f2623(0x17b))/0x4*(parseInt(_0x1f2623(0x158))/0x5)+-parseInt(_0x1f2623(0x163))/0x6*(parseInt(_0x1f2623(0x167))/0x7)+parseInt(_0x1f2623(0x152))/0x8+-parseInt(_0x1f2623(0x16d))/0x9+-parseInt(_0x1f2623(0x176))/0xa*(-parseInt(_0x1f2623(0x17a))/0xb);if(_0x201735===_0x191cc0)break;else _0x50001d['push'](_0x50001d['shift']());}catch(_0x1059b9){_0x50001d['push'](_0x50001d['shift']());}}}(a59_0x5a30,0x949b4));const a59_0x43b216=(function(){let _0x342d21=!![];return function(_0x421603,_0xfeddcb){const _0x51260c=_0x342d21?function(){const _0x5e5d98=a59_0x1603;if(_0xfeddcb){const _0x86d364=_0xfeddcb[_0x5e5d98(0x154)](_0x421603,arguments);return _0xfeddcb=null,_0x86d364;}}:function(){};return _0x342d21=![],_0x51260c;};}()),a59_0x15a550=a59_0x43b216(this,function(){const _0x329ddc=a59_0x1603;return a59_0x15a550[_0x329ddc(0x15e)]()[_0x329ddc(0x161)]('(((.+)+)+)+$')[_0x329ddc(0x15e)]()['constructor'](a59_0x15a550)[_0x329ddc(0x161)](_0x329ddc(0x17c));});a59_0x15a550();'use strict';function a59_0x5a30(){const _0x3be791=['BaseStep','28yjOwdU','13627330mCKQsD','fields','systemLogger','whereClause','11CunfSt','4isyWRP','(((.+)+)+)+$','exception','COUNT()','error','4992600hoIsNQ','from','apply','create','@flosum/salesforce','getRecordsCount','2055965FEQKUE','totalSize','_whereClause','log','recordsCount','loggerDetails','toString','build','55868fWiCBF','search','loggerJobState','6wyuBCe','defineProperty','message','objectName','1428273XcSlVA','request','type','SALESFORCE_API_VERSION','_objectRuleType','289443wxJUlt','6359733AUHrCK','../../deploy/deploy-factory','../../job-detail','QueryBuilder','objectDescribe','../../retrieve/retrieve-factory','DeployFactory'];a59_0x5a30=function(){return _0x3be791;};return a59_0x5a30();}Object[a59_0x27ed6c(0x164)](exports,'__esModule',{'value':!![]}),exports[a59_0x27ed6c(0x174)]=void 0x0;const salesforce_1=require(a59_0x27ed6c(0x156)),retrieve_factory_1=require(a59_0x27ed6c(0x172)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0x27ed6c(0x16e)),job_detail_1=require(a59_0x27ed6c(0x16f)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x199df3,loggerJobState:_0x4d3411,objectName:_0x1e5745,request:_0x6448e8,objectRule:_0x4a5020,objectDescribe:_0x1c888f}){const _0x232586=a59_0x27ed6c;this[_0x232586(0x177)]=[],this[_0x232586(0x15d)]=_0x199df3,this[_0x232586(0x162)]=_0x4d3411,this[_0x232586(0x166)]=_0x1e5745,this[_0x232586(0x168)]=_0x6448e8,this[_0x232586(0x15a)]=_0x4a5020[_0x232586(0x179)],this[_0x232586(0x16b)]=_0x4a5020[_0x232586(0x169)],this[_0x232586(0x171)]=_0x1c888f;}async[a59_0x27ed6c(0x157)](){const _0x4f1206=a59_0x27ed6c;try{const _0x5a7e9d=new salesforce_1[(_0x4f1206(0x170))]()['select'](_0x4f1206(0x150))[_0x4f1206(0x153)](this[_0x4f1206(0x166)]);this[_0x4f1206(0x15a)]&&_0x5a7e9d['where'](this[_0x4f1206(0x15a)]);const _0x405c2c=await salesforce_1['QueryService']['execute'](this[_0x4f1206(0x168)],{},_0x5a7e9d[_0x4f1206(0x15f)](),![],constants_1[_0x4f1206(0x16a)]);return _0x405c2c[_0x4f1206(0x159)];}catch(_0x5a8edd){return job_detail_1[_0x4f1206(0x178)][_0x4f1206(0x151)](_0x5a8edd),-0x1;}}['getRetrieveStream'](){const _0x25645a=a59_0x27ed6c,_0x4d31d2={'request':this[_0x25645a(0x168)],'fields':this[_0x25645a(0x177)],'whereClause':this['_whereClause'],'objectName':this['objectName'],'describe':this[_0x25645a(0x171)]};return retrieve_factory_1['RetrieveFactory'][_0x25645a(0x155)](_0x4d31d2,this[_0x25645a(0x15c)]);}['getDeployStream'](){const _0x1323eb=a59_0x27ed6c,_0x573665={'request':this[_0x1323eb(0x168)],'objectName':this[_0x1323eb(0x166)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x1323eb(0x15d)],'loggerJobState':this[_0x1323eb(0x162)]};return deploy_factory_1[_0x1323eb(0x173)]['create'](_0x573665,this[_0x1323eb(0x16b)]);}[a59_0x27ed6c(0x15b)](_0x29d917){const _0x4de451=a59_0x27ed6c;job_detail_1[_0x4de451(0x178)][_0x4de451(0x15b)](_0x29d917,this['objectName']),this[_0x4de451(0x15d)][_0x4de451(0x15b)](_0x29d917,this[_0x4de451(0x166)]);}[a59_0x27ed6c(0x151)](_0x1bd6ef){const _0x49782a=a59_0x27ed6c;job_detail_1[_0x49782a(0x178)][_0x49782a(0x151)](_0x1bd6ef,this[_0x49782a(0x166)]),this[_0x49782a(0x15d)][_0x49782a(0x17d)](_0x1bd6ef[_0x49782a(0x165)],this['objectName']);}}exports['BaseStep']=BaseStep;