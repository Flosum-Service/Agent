const a76_0xd78384=a76_0x4840;(function(_0x19caf0,_0x3914a3){const _0x5ebce2=a76_0x4840,_0x148ab0=_0x19caf0();while(!![]){try{const _0x5134a0=-parseInt(_0x5ebce2(0x171))/0x1+-parseInt(_0x5ebce2(0x14f))/0x2*(parseInt(_0x5ebce2(0x170))/0x3)+-parseInt(_0x5ebce2(0x15e))/0x4+-parseInt(_0x5ebce2(0x16e))/0x5*(parseInt(_0x5ebce2(0x166))/0x6)+parseInt(_0x5ebce2(0x16a))/0x7*(parseInt(_0x5ebce2(0x16d))/0x8)+parseInt(_0x5ebce2(0x150))/0x9+parseInt(_0x5ebce2(0x152))/0xa;if(_0x5134a0===_0x3914a3)break;else _0x148ab0['push'](_0x148ab0['shift']());}catch(_0x531df4){_0x148ab0['push'](_0x148ab0['shift']());}}}(a76_0x1afe,0xa34de));const a76_0x4d652f=(function(){let _0xd6f8b1=!![];return function(_0x247343,_0x57223e){const _0x4e3d66=_0xd6f8b1?function(){const _0x149b0e=a76_0x4840;if(_0x57223e){const _0x29e07c=_0x57223e[_0x149b0e(0x173)](_0x247343,arguments);return _0x57223e=null,_0x29e07c;}}:function(){};return _0xd6f8b1=![],_0x4e3d66;};}()),a76_0x1c8d84=a76_0x4d652f(this,function(){const _0xefb133=a76_0x4840;return a76_0x1c8d84[_0xefb133(0x14c)]()[_0xefb133(0x15b)](_0xefb133(0x15f))[_0xefb133(0x14c)]()[_0xefb133(0x14e)](a76_0x1c8d84)[_0xefb133(0x15b)](_0xefb133(0x15f));});function a76_0x4840(_0x1c1d92,_0x2a5ff5){const _0x4f821d=a76_0x1afe();return a76_0x4840=function(_0x1c8d84,_0x4d652f){_0x1c8d84=_0x1c8d84-0x14c;let _0x1afed6=_0x4f821d[_0x1c8d84];return _0x1afed6;},a76_0x4840(_0x1c1d92,_0x2a5ff5);}a76_0x1c8d84();'use strict';Object[a76_0xd78384(0x16c)](exports,'__esModule',{'value':!![]}),exports[a76_0xd78384(0x155)]=void 0x0;function a76_0x1afe(){const _0x2e5c22=['systemLogger','toString','objectName','constructor','1476126aSdHAq','8558982JGcCPJ','execute','24915040ZvduDd','QueryBuilder','QueryService','BaseStep','type','fields','from','DeployFactory','_objectRuleType','search','_whereClause','select','2444036oMefPr','(((.+)+)+)+$','getRetrieveStream','../../deploy/deploy-factory','getDeployStream','loggerDetails','message','where','42suLBGM','request','../../retrieve/retrieve-factory','COUNT()','7LEtwwZ','RetrieveFactory','defineProperty','6651376mvMWer','932030NlTOMo','../../../constants','3vitSBp','951116vPPPhz','getRecordsCount','apply','error','objectDescribe','loggerJobState','build','whereClause','totalSize','log','create'];a76_0x1afe=function(){return _0x2e5c22;};return a76_0x1afe();}const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a76_0xd78384(0x168)),constants_1=require(a76_0xd78384(0x16f)),deploy_factory_1=require(a76_0xd78384(0x161)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x13bce2,loggerJobState:_0x2ac2a6,objectName:_0x13d056,request:_0x577462,objectRule:_0x465372,objectDescribe:_0x13d709}){const _0x3a8015=a76_0xd78384;this[_0x3a8015(0x157)]=[],this[_0x3a8015(0x163)]=_0x13bce2,this[_0x3a8015(0x176)]=_0x2ac2a6,this['objectName']=_0x13d056,this[_0x3a8015(0x167)]=_0x577462,this[_0x3a8015(0x15c)]=_0x465372[_0x3a8015(0x178)],this[_0x3a8015(0x15a)]=_0x465372[_0x3a8015(0x156)],this['objectDescribe']=_0x13d709;}async[a76_0xd78384(0x172)](){const _0x3e91d6=a76_0xd78384;try{const _0x1cd766=new salesforce_1[(_0x3e91d6(0x153))]()[_0x3e91d6(0x15d)](_0x3e91d6(0x169))[_0x3e91d6(0x158)](this[_0x3e91d6(0x14d)]);this[_0x3e91d6(0x15c)]&&_0x1cd766[_0x3e91d6(0x165)](this[_0x3e91d6(0x15c)]);const _0x42380b=await salesforce_1[_0x3e91d6(0x154)][_0x3e91d6(0x151)](this[_0x3e91d6(0x167)],{},_0x1cd766[_0x3e91d6(0x177)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x42380b[_0x3e91d6(0x179)];}catch(_0x37f899){return job_detail_1[_0x3e91d6(0x17c)][_0x3e91d6(0x174)](_0x37f899),-0x1;}}[a76_0xd78384(0x160)](){const _0x4d6937=a76_0xd78384,_0x2b87d6={'request':this[_0x4d6937(0x167)],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0x4d6937(0x14d)],'describe':this[_0x4d6937(0x175)]};return retrieve_factory_1[_0x4d6937(0x16b)][_0x4d6937(0x17b)](_0x2b87d6,this['recordsCount']);}[a76_0xd78384(0x162)](){const _0x53703d=a76_0xd78384,_0x42cb64={'request':this[_0x53703d(0x167)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x53703d(0x163)],'loggerJobState':this[_0x53703d(0x176)]};return deploy_factory_1[_0x53703d(0x159)][_0x53703d(0x17b)](_0x42cb64,this['_objectRuleType']);}['log'](_0xaccc9c){const _0x56755e=a76_0xd78384;job_detail_1['systemLogger'][_0x56755e(0x17a)](_0xaccc9c,this[_0x56755e(0x14d)]),this[_0x56755e(0x163)][_0x56755e(0x17a)](_0xaccc9c,this[_0x56755e(0x14d)]);}[a76_0xd78384(0x174)](_0x4f2175){const _0x2561b7=a76_0xd78384;job_detail_1[_0x2561b7(0x17c)][_0x2561b7(0x174)](_0x4f2175,this[_0x2561b7(0x14d)]),this[_0x2561b7(0x163)]['exception'](_0x4f2175[_0x2561b7(0x164)],this[_0x2561b7(0x14d)]);}}exports['BaseStep']=BaseStep;