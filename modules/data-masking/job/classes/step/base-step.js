const a76_0x3d9efe=a76_0x5ca3;(function(_0x318ddc,_0x1a7d72){const _0xf87bfa=a76_0x5ca3,_0x46d40c=_0x318ddc();while(!![]){try{const _0x5765eb=-parseInt(_0xf87bfa(0x1d8))/0x1+-parseInt(_0xf87bfa(0x1e7))/0x2*(parseInt(_0xf87bfa(0x1ee))/0x3)+parseInt(_0xf87bfa(0x1e1))/0x4+parseInt(_0xf87bfa(0x1ce))/0x5+-parseInt(_0xf87bfa(0x1df))/0x6+parseInt(_0xf87bfa(0x1e6))/0x7*(parseInt(_0xf87bfa(0x1db))/0x8)+-parseInt(_0xf87bfa(0x1da))/0x9*(parseInt(_0xf87bfa(0x1e4))/0xa);if(_0x5765eb===_0x1a7d72)break;else _0x46d40c['push'](_0x46d40c['shift']());}catch(_0x57ebbe){_0x46d40c['push'](_0x46d40c['shift']());}}}(a76_0x4c6f,0x742ba));const a76_0x12e327=(function(){let _0x29a0b5=!![];return function(_0x34602d,_0x2b08fa){const _0x57ca71=_0x29a0b5?function(){if(_0x2b08fa){const _0x444662=_0x2b08fa['apply'](_0x34602d,arguments);return _0x2b08fa=null,_0x444662;}}:function(){};return _0x29a0b5=![],_0x57ca71;};}()),a76_0x489e8a=a76_0x12e327(this,function(){const _0x4321c4=a76_0x5ca3;return a76_0x489e8a['toString']()[_0x4321c4(0x1f6)](_0x4321c4(0x1d1))['toString']()['constructor'](a76_0x489e8a)[_0x4321c4(0x1f6)](_0x4321c4(0x1d1));});a76_0x489e8a();'use strict';Object[a76_0x3d9efe(0x1d0)](exports,a76_0x3d9efe(0x1d7),{'value':!![]}),exports[a76_0x3d9efe(0x1e0)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a76_0x3d9efe(0x1e2)),constants_1=require(a76_0x3d9efe(0x1f4)),deploy_factory_1=require(a76_0x3d9efe(0x1ed)),job_detail_1=require(a76_0x3d9efe(0x1ca)),FIELD_ID='Id';function a76_0x5ca3(_0x346109,_0xa388bc){const _0x1503e5=a76_0x4c6f();return a76_0x5ca3=function(_0x489e8a,_0x12e327){_0x489e8a=_0x489e8a-0x1ca;let _0x4c6f91=_0x1503e5[_0x489e8a];return _0x4c6f91;},a76_0x5ca3(_0x346109,_0xa388bc);}function a76_0x4c6f(){const _0x3647f8=['(((.+)+)+)+$','log','request','objectDescribe','loggerDetails','systemLogger','__esModule','541023EdQQRV','error','135UijLJy','1684880OoMtYW','exception','fields','select','2133930XyeoyL','BaseStep','3055868McAhdI','../../retrieve/retrieve-factory','totalSize','10990fWlRLM','objectName','21shTXzU','2cMWDpB','getDeployStream','DeployFactory','QueryBuilder','whereClause','getRecordsCount','../../deploy/deploy-factory','2847123jEdQel','_objectRuleType','create','where','type','execute','../../../constants','QueryService','search','../../job-detail','_whereClause','loggerJobState','SALESFORCE_API_VERSION','4711205SvNaKW','message','defineProperty'];a76_0x4c6f=function(){return _0x3647f8;};return a76_0x4c6f();}class BaseStep{constructor({loggerDetails:_0x2e795d,loggerJobState:_0x121872,objectName:_0x58f773,request:_0x36286e,objectRule:_0x32bee8,objectDescribe:_0x1d7f0a}){const _0x2db778=a76_0x3d9efe;this[_0x2db778(0x1dd)]=[],this['loggerDetails']=_0x2e795d,this[_0x2db778(0x1cc)]=_0x121872,this['objectName']=_0x58f773,this[_0x2db778(0x1d3)]=_0x36286e,this[_0x2db778(0x1cb)]=_0x32bee8[_0x2db778(0x1eb)],this[_0x2db778(0x1ef)]=_0x32bee8[_0x2db778(0x1f2)],this['objectDescribe']=_0x1d7f0a;}async[a76_0x3d9efe(0x1ec)](){const _0x1319a7=a76_0x3d9efe;try{const _0x466fca=new salesforce_1[(_0x1319a7(0x1ea))]()[_0x1319a7(0x1de)]('COUNT()')['from'](this[_0x1319a7(0x1e5)]);this['_whereClause']&&_0x466fca[_0x1319a7(0x1f1)](this[_0x1319a7(0x1cb)]);const _0x520e13=await salesforce_1[_0x1319a7(0x1f5)][_0x1319a7(0x1f3)](this['request'],{},_0x466fca['build'](),![],constants_1[_0x1319a7(0x1cd)]);return _0x520e13[_0x1319a7(0x1e3)];}catch(_0x5fedf5){return job_detail_1[_0x1319a7(0x1d6)][_0x1319a7(0x1d9)](_0x5fedf5),-0x1;}}['getRetrieveStream'](){const _0x1cb27f=a76_0x3d9efe,_0x501b9c={'request':this[_0x1cb27f(0x1d3)],'fields':this[_0x1cb27f(0x1dd)],'whereClause':this[_0x1cb27f(0x1cb)],'objectName':this[_0x1cb27f(0x1e5)],'describe':this[_0x1cb27f(0x1d4)]};return retrieve_factory_1['RetrieveFactory'][_0x1cb27f(0x1f0)](_0x501b9c,this['recordsCount']);}[a76_0x3d9efe(0x1e8)](){const _0x49c316=a76_0x3d9efe,_0x5670e0={'request':this[_0x49c316(0x1d3)],'objectName':this[_0x49c316(0x1e5)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x49c316(0x1d5)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x49c316(0x1e9)][_0x49c316(0x1f0)](_0x5670e0,this[_0x49c316(0x1ef)]);}[a76_0x3d9efe(0x1d2)](_0x3df546){const _0x81198e=a76_0x3d9efe;job_detail_1[_0x81198e(0x1d6)][_0x81198e(0x1d2)](_0x3df546,this[_0x81198e(0x1e5)]),this[_0x81198e(0x1d5)][_0x81198e(0x1d2)](_0x3df546,this[_0x81198e(0x1e5)]);}[a76_0x3d9efe(0x1d9)](_0x8c361f){const _0x439de3=a76_0x3d9efe;job_detail_1[_0x439de3(0x1d6)][_0x439de3(0x1d9)](_0x8c361f,this[_0x439de3(0x1e5)]),this[_0x439de3(0x1d5)][_0x439de3(0x1dc)](_0x8c361f[_0x439de3(0x1cf)],this['objectName']);}}exports[a76_0x3d9efe(0x1e0)]=BaseStep;