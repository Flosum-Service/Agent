const a59_0x592596=a59_0x2c30;(function(_0x233ea3,_0x7b7aba){const _0x10d4ab=a59_0x2c30,_0x5125bc=_0x233ea3();while(!![]){try{const _0x43bd06=parseInt(_0x10d4ab(0xd7))/0x1+-parseInt(_0x10d4ab(0xda))/0x2*(-parseInt(_0x10d4ab(0xe5))/0x3)+parseInt(_0x10d4ab(0xf9))/0x4*(parseInt(_0x10d4ab(0xd2))/0x5)+-parseInt(_0x10d4ab(0xf0))/0x6+parseInt(_0x10d4ab(0xf7))/0x7+-parseInt(_0x10d4ab(0xdf))/0x8*(-parseInt(_0x10d4ab(0xf8))/0x9)+-parseInt(_0x10d4ab(0xcb))/0xa*(parseInt(_0x10d4ab(0xec))/0xb);if(_0x43bd06===_0x7b7aba)break;else _0x5125bc['push'](_0x5125bc['shift']());}catch(_0x571f30){_0x5125bc['push'](_0x5125bc['shift']());}}}(a59_0x220f,0x42e92));const a59_0x270d7e=(function(){let _0x23c3fe=!![];return function(_0x5cc238,_0x48915b){const _0x19f81d=_0x23c3fe?function(){const _0x303995=a59_0x2c30;if(_0x48915b){const _0x21a0d4=_0x48915b[_0x303995(0xd6)](_0x5cc238,arguments);return _0x48915b=null,_0x21a0d4;}}:function(){};return _0x23c3fe=![],_0x19f81d;};}()),a59_0x410378=a59_0x270d7e(this,function(){const _0x6dedbd=a59_0x2c30;return a59_0x410378[_0x6dedbd(0xef)]()[_0x6dedbd(0xf1)](_0x6dedbd(0xd3))[_0x6dedbd(0xef)]()[_0x6dedbd(0xcd)](a59_0x410378)[_0x6dedbd(0xf1)]('(((.+)+)+)+$');});a59_0x410378();'use strict';function a59_0x220f(){const _0x18467d=['create','_whereClause','63315cAWUED','(((.+)+)+)+$','QueryBuilder','whereClause','apply','105600GqPyTg','log','QueryService','126EvvmdP','loggerJobState','loggerDetails','fields','objectDescribe','56dxjWGB','__esModule','type','request','../../deploy/deploy-factory','exception','11637rLWjKW','getRetrieveStream','error','select','RetrieveFactory','systemLogger','execute','5701190MKNrFp','../../job-detail','DeployFactory','toString','989844zrOSYd','search','getRecordsCount','getDeployStream','BaseStep','from','message','2159563ZRxvAm','302823UkEGKz','20YcvYOg','../../retrieve/retrieve-factory','_objectRuleType','build','recordsCount','where','10MxocKf','objectName','constructor','defineProperty','COUNT()'];a59_0x220f=function(){return _0x18467d;};return a59_0x220f();}Object[a59_0x592596(0xce)](exports,a59_0x592596(0xe0),{'value':!![]}),exports[a59_0x592596(0xf4)]=void 0x0;function a59_0x2c30(_0x4e9d65,_0x53e965){const _0x5e514b=a59_0x220f();return a59_0x2c30=function(_0x410378,_0x270d7e){_0x410378=_0x410378-0xc8;let _0x220f6c=_0x5e514b[_0x410378];return _0x220f6c;},a59_0x2c30(_0x4e9d65,_0x53e965);}const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a59_0x592596(0xfa)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0x592596(0xe3)),job_detail_1=require(a59_0x592596(0xed)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0xa28fe0,loggerJobState:_0x179f67,objectName:_0x27b693,request:_0x1c2af2,objectRule:_0x3bd1b7,objectDescribe:_0x5568d7}){const _0x5e0661=a59_0x592596;this[_0x5e0661(0xdd)]=[],this['loggerDetails']=_0xa28fe0,this[_0x5e0661(0xdb)]=_0x179f67,this[_0x5e0661(0xcc)]=_0x27b693,this['request']=_0x1c2af2,this['_whereClause']=_0x3bd1b7[_0x5e0661(0xd5)],this[_0x5e0661(0xfb)]=_0x3bd1b7[_0x5e0661(0xe1)],this[_0x5e0661(0xde)]=_0x5568d7;}async[a59_0x592596(0xf2)](){const _0x2158c9=a59_0x592596;try{const _0x34f799=new salesforce_1[(_0x2158c9(0xd4))]()[_0x2158c9(0xe8)](_0x2158c9(0xcf))[_0x2158c9(0xf5)](this[_0x2158c9(0xcc)]);this[_0x2158c9(0xd1)]&&_0x34f799[_0x2158c9(0xca)](this['_whereClause']);const _0x575b1d=await salesforce_1[_0x2158c9(0xd9)][_0x2158c9(0xeb)](this[_0x2158c9(0xe2)],{},_0x34f799[_0x2158c9(0xc8)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x575b1d['totalSize'];}catch(_0x29497e){return job_detail_1[_0x2158c9(0xea)][_0x2158c9(0xe7)](_0x29497e),-0x1;}}[a59_0x592596(0xe6)](){const _0x3f5169=a59_0x592596,_0x13297f={'request':this[_0x3f5169(0xe2)],'fields':this[_0x3f5169(0xdd)],'whereClause':this['_whereClause'],'objectName':this[_0x3f5169(0xcc)],'describe':this[_0x3f5169(0xde)]};return retrieve_factory_1[_0x3f5169(0xe9)][_0x3f5169(0xd0)](_0x13297f,this[_0x3f5169(0xc9)]);}[a59_0x592596(0xf3)](){const _0xdadd81=a59_0x592596,_0x3a5296={'request':this[_0xdadd81(0xe2)],'objectName':this[_0xdadd81(0xcc)],'externalIdField':FIELD_ID,'loggerDetails':this[_0xdadd81(0xdc)],'loggerJobState':this[_0xdadd81(0xdb)]};return deploy_factory_1[_0xdadd81(0xee)]['create'](_0x3a5296,this[_0xdadd81(0xfb)]);}[a59_0x592596(0xd8)](_0xb7e618){const _0x1019a3=a59_0x592596;job_detail_1['systemLogger']['log'](_0xb7e618,this[_0x1019a3(0xcc)]),this[_0x1019a3(0xdc)]['log'](_0xb7e618,this['objectName']);}['error'](_0x4b5fce){const _0x1fd752=a59_0x592596;job_detail_1['systemLogger'][_0x1fd752(0xe7)](_0x4b5fce,this[_0x1fd752(0xcc)]),this[_0x1fd752(0xdc)][_0x1fd752(0xe4)](_0x4b5fce[_0x1fd752(0xf6)],this['objectName']);}}exports[a59_0x592596(0xf4)]=BaseStep;