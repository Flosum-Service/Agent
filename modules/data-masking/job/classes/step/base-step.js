const a76_0x358123=a76_0x37bf;(function(_0x3c2ef9,_0x10c225){const _0x2699f8=a76_0x37bf,_0x52b622=_0x3c2ef9();while(!![]){try{const _0x5cc003=parseInt(_0x2699f8(0x1f8))/0x1+-parseInt(_0x2699f8(0x1f0))/0x2+-parseInt(_0x2699f8(0x1ce))/0x3+-parseInt(_0x2699f8(0x1d2))/0x4*(-parseInt(_0x2699f8(0x1d6))/0x5)+parseInt(_0x2699f8(0x1cd))/0x6+-parseInt(_0x2699f8(0x1ec))/0x7*(parseInt(_0x2699f8(0x1f4))/0x8)+-parseInt(_0x2699f8(0x1da))/0x9;if(_0x5cc003===_0x10c225)break;else _0x52b622['push'](_0x52b622['shift']());}catch(_0x3aadd8){_0x52b622['push'](_0x52b622['shift']());}}}(a76_0x162c,0xe7886));const a76_0x69df91=(function(){let _0x5eb5f2=!![];return function(_0x43471c,_0x53ac53){const _0x584d53=_0x5eb5f2?function(){if(_0x53ac53){const _0x473938=_0x53ac53['apply'](_0x43471c,arguments);return _0x53ac53=null,_0x473938;}}:function(){};return _0x5eb5f2=![],_0x584d53;};}()),a76_0x2a8acc=a76_0x69df91(this,function(){const _0x48faac=a76_0x37bf;return a76_0x2a8acc[_0x48faac(0x1ee)]()[_0x48faac(0x1f9)](_0x48faac(0x1e2))['toString']()[_0x48faac(0x1e0)](a76_0x2a8acc)[_0x48faac(0x1f9)](_0x48faac(0x1e2));});function a76_0x37bf(_0x24810e,_0x42c215){const _0x1d1aaa=a76_0x162c();return a76_0x37bf=function(_0x2a8acc,_0x69df91){_0x2a8acc=_0x2a8acc-0x1cc;let _0x162c18=_0x1d1aaa[_0x2a8acc];return _0x162c18;},a76_0x37bf(_0x24810e,_0x42c215);}a76_0x2a8acc();'use strict';function a76_0x162c(){const _0x1f4b31=['SALESFORCE_API_VERSION','_whereClause','create','7667622zHBStS','2307864ndOqzh','BaseStep','error','recordsCount','48284hRwrPO','DeployFactory','../../retrieve/retrieve-factory','fields','310wLsdbE','message','whereClause','loggerDetails','10732662nFVnVs','log','objectName','__esModule','COUNT()','../../deploy/deploy-factory','constructor','getDeployStream','(((.+)+)+)+$','totalSize','from','type','request','getRecordsCount','../../job-detail','execute','loggerJobState','@flosum/salesforce','119TNcdjh','exception','toString','QueryBuilder','135130GOZySl','systemLogger','getRetrieveStream','build','173752YXoqwO','defineProperty','_objectRuleType','objectDescribe','1320613yfeeXV','search'];a76_0x162c=function(){return _0x1f4b31;};return a76_0x162c();}Object[a76_0x358123(0x1f5)](exports,a76_0x358123(0x1dd),{'value':!![]}),exports[a76_0x358123(0x1cf)]=void 0x0;const salesforce_1=require(a76_0x358123(0x1eb)),retrieve_factory_1=require(a76_0x358123(0x1d4)),constants_1=require('../../../constants'),deploy_factory_1=require(a76_0x358123(0x1df)),job_detail_1=require(a76_0x358123(0x1e8)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x158f4c,loggerJobState:_0x10a076,objectName:_0x252726,request:_0x5f2b11,objectRule:_0x2bbece,objectDescribe:_0x6ade7a}){const _0x1694e1=a76_0x358123;this['fields']=[],this[_0x1694e1(0x1d9)]=_0x158f4c,this[_0x1694e1(0x1ea)]=_0x10a076,this[_0x1694e1(0x1dc)]=_0x252726,this[_0x1694e1(0x1e6)]=_0x5f2b11,this[_0x1694e1(0x1fb)]=_0x2bbece[_0x1694e1(0x1d8)],this[_0x1694e1(0x1f6)]=_0x2bbece[_0x1694e1(0x1e5)],this[_0x1694e1(0x1f7)]=_0x6ade7a;}async[a76_0x358123(0x1e7)](){const _0x242d0f=a76_0x358123;try{const _0x3889b3=new salesforce_1[(_0x242d0f(0x1ef))]()['select'](_0x242d0f(0x1de))[_0x242d0f(0x1e4)](this[_0x242d0f(0x1dc)]);this[_0x242d0f(0x1fb)]&&_0x3889b3['where'](this[_0x242d0f(0x1fb)]);const _0x575417=await salesforce_1['QueryService'][_0x242d0f(0x1e9)](this[_0x242d0f(0x1e6)],{},_0x3889b3[_0x242d0f(0x1f3)](),![],constants_1[_0x242d0f(0x1fa)]);return _0x575417[_0x242d0f(0x1e3)];}catch(_0x498f86){return job_detail_1['systemLogger'][_0x242d0f(0x1d0)](_0x498f86),-0x1;}}[a76_0x358123(0x1f2)](){const _0x2c4195=a76_0x358123,_0x2ba9ea={'request':this[_0x2c4195(0x1e6)],'fields':this[_0x2c4195(0x1d5)],'whereClause':this[_0x2c4195(0x1fb)],'objectName':this[_0x2c4195(0x1dc)],'describe':this[_0x2c4195(0x1f7)]};return retrieve_factory_1['RetrieveFactory']['create'](_0x2ba9ea,this[_0x2c4195(0x1d1)]);}[a76_0x358123(0x1e1)](){const _0x230856=a76_0x358123,_0xb16b83={'request':this[_0x230856(0x1e6)],'objectName':this[_0x230856(0x1dc)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x230856(0x1d9)],'loggerJobState':this[_0x230856(0x1ea)]};return deploy_factory_1[_0x230856(0x1d3)][_0x230856(0x1cc)](_0xb16b83,this[_0x230856(0x1f6)]);}[a76_0x358123(0x1db)](_0x45d68f){const _0x5fd59c=a76_0x358123;job_detail_1[_0x5fd59c(0x1f1)][_0x5fd59c(0x1db)](_0x45d68f,this[_0x5fd59c(0x1dc)]),this[_0x5fd59c(0x1d9)]['log'](_0x45d68f,this[_0x5fd59c(0x1dc)]);}[a76_0x358123(0x1d0)](_0x322bc1){const _0x1945a7=a76_0x358123;job_detail_1[_0x1945a7(0x1f1)][_0x1945a7(0x1d0)](_0x322bc1,this[_0x1945a7(0x1dc)]),this[_0x1945a7(0x1d9)][_0x1945a7(0x1ed)](_0x322bc1[_0x1945a7(0x1d7)],this['objectName']);}}exports[a76_0x358123(0x1cf)]=BaseStep;