const a59_0x1fa6eb=a59_0x1e2b;(function(_0x4391ee,_0xba6496){const _0x3f4dae=a59_0x1e2b,_0x34855f=_0x4391ee();while(!![]){try{const _0x4e008a=parseInt(_0x3f4dae(0x142))/0x1+-parseInt(_0x3f4dae(0x163))/0x2+parseInt(_0x3f4dae(0x14a))/0x3+parseInt(_0x3f4dae(0x156))/0x4+parseInt(_0x3f4dae(0x160))/0x5+parseInt(_0x3f4dae(0x14e))/0x6*(parseInt(_0x3f4dae(0x149))/0x7)+-parseInt(_0x3f4dae(0x169))/0x8;if(_0x4e008a===_0xba6496)break;else _0x34855f['push'](_0x34855f['shift']());}catch(_0x369db5){_0x34855f['push'](_0x34855f['shift']());}}}(a59_0x1a9d,0x2d484));const a59_0x4d1d36=(function(){let _0x87934=!![];return function(_0x3b4335,_0x447b51){const _0x4aae37=_0x87934?function(){if(_0x447b51){const _0x275753=_0x447b51['apply'](_0x3b4335,arguments);return _0x447b51=null,_0x275753;}}:function(){};return _0x87934=![],_0x4aae37;};}()),a59_0x2a9eca=a59_0x4d1d36(this,function(){const _0x3b2832=a59_0x1e2b;return a59_0x2a9eca[_0x3b2832(0x154)]()[_0x3b2832(0x155)](_0x3b2832(0x147))['toString']()[_0x3b2832(0x161)](a59_0x2a9eca)[_0x3b2832(0x155)](_0x3b2832(0x147));});a59_0x2a9eca();'use strict';Object['defineProperty'](exports,a59_0x1fa6eb(0x146),{'value':!![]}),exports[a59_0x1fa6eb(0x14b)]=void 0x0;const salesforce_1=require(a59_0x1fa6eb(0x15e)),retrieve_factory_1=require(a59_0x1fa6eb(0x162)),constants_1=require(a59_0x1fa6eb(0x152)),deploy_factory_1=require(a59_0x1fa6eb(0x16d)),job_detail_1=require(a59_0x1fa6eb(0x15f)),FIELD_ID='Id';function a59_0x1a9d(){const _0xa795c4=['request','toString','search','9444GZUbxK','fields','DeployFactory','where','loggerJobState','getRecordsCount','create','_whereClause','@flosum/salesforce','../../job-detail','179100xMetRB','constructor','../../retrieve/retrieve-factory','699242QkUcjD','type','_objectRuleType','objectDescribe','totalSize','systemLogger','1880840HaCUSe','loggerDetails','log','error','../../deploy/deploy-factory','238810QqmtzM','getDeployStream','QueryService','exception','__esModule','(((.+)+)+)+$','SALESFORCE_API_VERSION','1886675BxOeJi','671058vAczoP','BaseStep','QueryBuilder','COUNT()','6SFOgFz','select','recordsCount','objectName','../../../constants'];a59_0x1a9d=function(){return _0xa795c4;};return a59_0x1a9d();}function a59_0x1e2b(_0x2fb25d,_0x51afff){const _0x1a5574=a59_0x1a9d();return a59_0x1e2b=function(_0x2a9eca,_0x4d1d36){_0x2a9eca=_0x2a9eca-0x142;let _0x1a9d45=_0x1a5574[_0x2a9eca];return _0x1a9d45;},a59_0x1e2b(_0x2fb25d,_0x51afff);}class BaseStep{constructor({loggerDetails:_0x432040,loggerJobState:_0x49ef92,objectName:_0x59bc5a,request:_0x25a6cc,objectRule:_0x5ab580,objectDescribe:_0x5aa990}){const _0x53faa1=a59_0x1fa6eb;this['fields']=[],this['loggerDetails']=_0x432040,this[_0x53faa1(0x15a)]=_0x49ef92,this[_0x53faa1(0x151)]=_0x59bc5a,this[_0x53faa1(0x153)]=_0x25a6cc,this[_0x53faa1(0x15d)]=_0x5ab580['whereClause'],this[_0x53faa1(0x165)]=_0x5ab580[_0x53faa1(0x164)],this[_0x53faa1(0x166)]=_0x5aa990;}async[a59_0x1fa6eb(0x15b)](){const _0x3b3b17=a59_0x1fa6eb;try{const _0x21709a=new salesforce_1[(_0x3b3b17(0x14c))]()[_0x3b3b17(0x14f)](_0x3b3b17(0x14d))['from'](this[_0x3b3b17(0x151)]);this['_whereClause']&&_0x21709a[_0x3b3b17(0x159)](this[_0x3b3b17(0x15d)]);const _0x3016c9=await salesforce_1[_0x3b3b17(0x144)]['execute'](this['request'],{},_0x21709a['build'](),![],constants_1[_0x3b3b17(0x148)]);return _0x3016c9[_0x3b3b17(0x167)];}catch(_0x12c997){return job_detail_1[_0x3b3b17(0x168)][_0x3b3b17(0x16c)](_0x12c997),-0x1;}}['getRetrieveStream'](){const _0x5c0098=a59_0x1fa6eb,_0x2cea45={'request':this['request'],'fields':this[_0x5c0098(0x157)],'whereClause':this[_0x5c0098(0x15d)],'objectName':this[_0x5c0098(0x151)],'describe':this[_0x5c0098(0x166)]};return retrieve_factory_1['RetrieveFactory'][_0x5c0098(0x15c)](_0x2cea45,this[_0x5c0098(0x150)]);}[a59_0x1fa6eb(0x143)](){const _0x112473=a59_0x1fa6eb,_0x1331f8={'request':this['request'],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x112473(0x16a)],'loggerJobState':this[_0x112473(0x15a)]};return deploy_factory_1[_0x112473(0x158)][_0x112473(0x15c)](_0x1331f8,this[_0x112473(0x165)]);}['log'](_0x56db36){const _0x4bb401=a59_0x1fa6eb;job_detail_1[_0x4bb401(0x168)][_0x4bb401(0x16b)](_0x56db36,this[_0x4bb401(0x151)]),this['loggerDetails'][_0x4bb401(0x16b)](_0x56db36,this[_0x4bb401(0x151)]);}[a59_0x1fa6eb(0x16c)](_0x3cd86e){const _0x188a92=a59_0x1fa6eb;job_detail_1[_0x188a92(0x168)][_0x188a92(0x16c)](_0x3cd86e,this[_0x188a92(0x151)]),this[_0x188a92(0x16a)][_0x188a92(0x145)](_0x3cd86e['message'],this[_0x188a92(0x151)]);}}exports[a59_0x1fa6eb(0x14b)]=BaseStep;