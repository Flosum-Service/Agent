const a77_0x3b1507=a77_0xd824;(function(_0x332cbd,_0x41b45b){const _0x5d668f=a77_0xd824,_0x4f6e7d=_0x332cbd();while(!![]){try{const _0x5b8467=parseInt(_0x5d668f(0x109))/0x1+-parseInt(_0x5d668f(0x112))/0x2+-parseInt(_0x5d668f(0x106))/0x3+parseInt(_0x5d668f(0x10b))/0x4+parseInt(_0x5d668f(0x111))/0x5*(parseInt(_0x5d668f(0x119))/0x6)+-parseInt(_0x5d668f(0x11f))/0x7*(parseInt(_0x5d668f(0xf5))/0x8)+-parseInt(_0x5d668f(0xfc))/0x9*(-parseInt(_0x5d668f(0x110))/0xa);if(_0x5b8467===_0x41b45b)break;else _0x4f6e7d['push'](_0x4f6e7d['shift']());}catch(_0x191dcd){_0x4f6e7d['push'](_0x4f6e7d['shift']());}}}(a77_0x138d,0x5fe27));function a77_0x138d(){const _0x4f17bc=['468902VmgJql','_whereClause','type','build','message','../../job-detail','fields','18GBXaZF','create','loggerDetails','error','toString','log','9443LPkqtf','QueryService','recordsCount','QueryBuilder','constructor','select','3112ailGCk','getRecordsCount','BaseStep','whereClause','getRetrieveStream','execute','DeployFactory','45HlSQkT','from','systemLogger','RetrieveFactory','_objectRuleType','search','totalSize','../../../constants','objectName','(((.+)+)+)+$','1591665cbVqul','SALESFORCE_API_VERSION','../../retrieve/retrieve-factory','81975KzjfQw','apply','1353904kyAepN','defineProperty','COUNT()','__esModule','request','1378640vfKLat','954565tjnykK'];a77_0x138d=function(){return _0x4f17bc;};return a77_0x138d();}const a77_0x3de1c5=(function(){let _0x1a4565=!![];return function(_0xd73919,_0x4a42b3){const _0x55d565=_0x1a4565?function(){const _0x4a2c43=a77_0xd824;if(_0x4a42b3){const _0x5f5f5a=_0x4a42b3[_0x4a2c43(0x10a)](_0xd73919,arguments);return _0x4a42b3=null,_0x5f5f5a;}}:function(){};return _0x1a4565=![],_0x55d565;};}()),a77_0x4baeb5=a77_0x3de1c5(this,function(){const _0x3d0c63=a77_0xd824;return a77_0x4baeb5[_0x3d0c63(0x11d)]()['search'](_0x3d0c63(0x105))[_0x3d0c63(0x11d)]()[_0x3d0c63(0x123)](a77_0x4baeb5)[_0x3d0c63(0x101)](_0x3d0c63(0x105));});a77_0x4baeb5();'use strict';Object[a77_0x3b1507(0x10c)](exports,a77_0x3b1507(0x10e),{'value':!![]}),exports[a77_0x3b1507(0xf7)]=void 0x0;function a77_0xd824(_0x4f593e,_0x319b89){const _0x335ef0=a77_0x138d();return a77_0xd824=function(_0x4baeb5,_0x3de1c5){_0x4baeb5=_0x4baeb5-0xf5;let _0x138da0=_0x335ef0[_0x4baeb5];return _0x138da0;},a77_0xd824(_0x4f593e,_0x319b89);}const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a77_0x3b1507(0x108)),constants_1=require(a77_0x3b1507(0x103)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a77_0x3b1507(0x117)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x188387,loggerJobState:_0x1996df,objectName:_0x4adc1c,request:_0x5d7884,objectRule:_0x138c59,objectDescribe:_0x4a415b}){const _0x5b3034=a77_0x3b1507;this[_0x5b3034(0x118)]=[],this[_0x5b3034(0x11b)]=_0x188387,this['loggerJobState']=_0x1996df,this[_0x5b3034(0x104)]=_0x4adc1c,this[_0x5b3034(0x10f)]=_0x5d7884,this[_0x5b3034(0x113)]=_0x138c59[_0x5b3034(0xf8)],this[_0x5b3034(0x100)]=_0x138c59[_0x5b3034(0x114)],this['objectDescribe']=_0x4a415b;}async[a77_0x3b1507(0xf6)](){const _0x167471=a77_0x3b1507;try{const _0x46577c=new salesforce_1[(_0x167471(0x122))]()[_0x167471(0x124)](_0x167471(0x10d))[_0x167471(0xfd)](this[_0x167471(0x104)]);this['_whereClause']&&_0x46577c['where'](this[_0x167471(0x113)]);const _0x1e3e85=await salesforce_1[_0x167471(0x120)][_0x167471(0xfa)](this[_0x167471(0x10f)],{},_0x46577c[_0x167471(0x115)](),![],constants_1[_0x167471(0x107)]);return _0x1e3e85[_0x167471(0x102)];}catch(_0x5e1e5b){return job_detail_1[_0x167471(0xfe)]['error'](_0x5e1e5b),-0x1;}}[a77_0x3b1507(0xf9)](){const _0x2087ea=a77_0x3b1507,_0x57aa47={'request':this['request'],'fields':this[_0x2087ea(0x118)],'whereClause':this['_whereClause'],'objectName':this[_0x2087ea(0x104)],'describe':this['objectDescribe']};return retrieve_factory_1[_0x2087ea(0xff)][_0x2087ea(0x11a)](_0x57aa47,this[_0x2087ea(0x121)]);}['getDeployStream'](){const _0x587c86=a77_0x3b1507,_0x338c4b={'request':this[_0x587c86(0x10f)],'objectName':this[_0x587c86(0x104)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x587c86(0x11b)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x587c86(0xfb)][_0x587c86(0x11a)](_0x338c4b,this[_0x587c86(0x100)]);}[a77_0x3b1507(0x11e)](_0x17144c){const _0x49f5e7=a77_0x3b1507;job_detail_1[_0x49f5e7(0xfe)]['log'](_0x17144c,this[_0x49f5e7(0x104)]),this['loggerDetails'][_0x49f5e7(0x11e)](_0x17144c,this[_0x49f5e7(0x104)]);}[a77_0x3b1507(0x11c)](_0x319b3a){const _0x1fc371=a77_0x3b1507;job_detail_1['systemLogger'][_0x1fc371(0x11c)](_0x319b3a,this['objectName']),this['loggerDetails']['exception'](_0x319b3a[_0x1fc371(0x116)],this[_0x1fc371(0x104)]);}}exports[a77_0x3b1507(0xf7)]=BaseStep;