const a77_0x273ff8=a77_0x14ed;function a77_0x14ed(_0x2a6ad0,_0x5df10a){const _0x4dfd72=a77_0x9054();return a77_0x14ed=function(_0x5f443d,_0x147d94){_0x5f443d=_0x5f443d-0x1db;let _0x905454=_0x4dfd72[_0x5f443d];return _0x905454;},a77_0x14ed(_0x2a6ad0,_0x5df10a);}(function(_0x192966,_0x534149){const _0x93d510=a77_0x14ed,_0xa5404f=_0x192966();while(!![]){try{const _0x4a69d8=-parseInt(_0x93d510(0x1fb))/0x1+-parseInt(_0x93d510(0x1db))/0x2*(-parseInt(_0x93d510(0x204))/0x3)+-parseInt(_0x93d510(0x1f0))/0x4+-parseInt(_0x93d510(0x203))/0x5+-parseInt(_0x93d510(0x1eb))/0x6+parseInt(_0x93d510(0x1dd))/0x7+parseInt(_0x93d510(0x1f7))/0x8;if(_0x4a69d8===_0x534149)break;else _0xa5404f['push'](_0xa5404f['shift']());}catch(_0x1eed7a){_0xa5404f['push'](_0xa5404f['shift']());}}}(a77_0x9054,0x62e9f));const a77_0x147d94=(function(){let _0x54752c=!![];return function(_0x428157,_0x17f830){const _0x581c6e=_0x54752c?function(){const _0x155896=a77_0x14ed;if(_0x17f830){const _0x31be0b=_0x17f830[_0x155896(0x202)](_0x428157,arguments);return _0x17f830=null,_0x31be0b;}}:function(){};return _0x54752c=![],_0x581c6e;};}()),a77_0x5f443d=a77_0x147d94(this,function(){const _0x2397f0=a77_0x14ed;return a77_0x5f443d['toString']()['search']('(((.+)+)+)+$')['toString']()[_0x2397f0(0x1f3)](a77_0x5f443d)['search']('(((.+)+)+)+$');});a77_0x5f443d();'use strict';Object[a77_0x273ff8(0x1ea)](exports,'__esModule',{'value':!![]}),exports[a77_0x273ff8(0x1f6)]=void 0x0;const salesforce_1=require(a77_0x273ff8(0x1f1)),retrieve_factory_1=require(a77_0x273ff8(0x1fa)),constants_1=require(a77_0x273ff8(0x1ec)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a77_0x273ff8(0x1df)),FIELD_ID='Id';function a77_0x9054(){const _0x4bc29f=['fields','apply','3496695lqziXk','1052517BtbJhV','from','2wFoUFG','request','1613500eUqFph','type','../../job-detail','_objectRuleType','objectName','loggerDetails','loggerJobState','QueryBuilder','error','getRecordsCount','create','SALESFORCE_API_VERSION','message','defineProperty','2359758TNxtEj','../../../constants','getDeployStream','RetrieveFactory','where','2501104APugsA','@flosum/salesforce','build','constructor','select','systemLogger','BaseStep','17635104bhNjmJ','objectDescribe','whereClause','../../retrieve/retrieve-factory','662668SmggAi','_whereClause','recordsCount','execute','totalSize','QueryService'];a77_0x9054=function(){return _0x4bc29f;};return a77_0x9054();}class BaseStep{constructor({loggerDetails:_0x5e81a9,loggerJobState:_0x39d055,objectName:_0x3f0734,request:_0x49c45c,objectRule:_0x1702d8,objectDescribe:_0x52bc26}){const _0x4921d1=a77_0x273ff8;this[_0x4921d1(0x201)]=[],this['loggerDetails']=_0x5e81a9,this[_0x4921d1(0x1e3)]=_0x39d055,this[_0x4921d1(0x1e1)]=_0x3f0734,this[_0x4921d1(0x1dc)]=_0x49c45c,this[_0x4921d1(0x1fc)]=_0x1702d8[_0x4921d1(0x1f9)],this[_0x4921d1(0x1e0)]=_0x1702d8[_0x4921d1(0x1de)],this[_0x4921d1(0x1f8)]=_0x52bc26;}async[a77_0x273ff8(0x1e6)](){const _0x14eee3=a77_0x273ff8;try{const _0x5de9ee=new salesforce_1[(_0x14eee3(0x1e4))]()[_0x14eee3(0x1f4)]('COUNT()')[_0x14eee3(0x205)](this[_0x14eee3(0x1e1)]);this[_0x14eee3(0x1fc)]&&_0x5de9ee[_0x14eee3(0x1ef)](this[_0x14eee3(0x1fc)]);const _0xe73a6b=await salesforce_1[_0x14eee3(0x200)][_0x14eee3(0x1fe)](this['request'],{},_0x5de9ee[_0x14eee3(0x1f2)](),![],constants_1[_0x14eee3(0x1e8)]);return _0xe73a6b[_0x14eee3(0x1ff)];}catch(_0x47ac14){return job_detail_1['systemLogger'][_0x14eee3(0x1e5)](_0x47ac14),-0x1;}}['getRetrieveStream'](){const _0x358f19=a77_0x273ff8,_0x5e29c3={'request':this[_0x358f19(0x1dc)],'fields':this[_0x358f19(0x201)],'whereClause':this[_0x358f19(0x1fc)],'objectName':this[_0x358f19(0x1e1)],'describe':this[_0x358f19(0x1f8)]};return retrieve_factory_1[_0x358f19(0x1ee)][_0x358f19(0x1e7)](_0x5e29c3,this[_0x358f19(0x1fd)]);}[a77_0x273ff8(0x1ed)](){const _0x94093e=a77_0x273ff8,_0xee3a5e={'request':this['request'],'objectName':this[_0x94093e(0x1e1)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x94093e(0x1e2)],'loggerJobState':this[_0x94093e(0x1e3)]};return deploy_factory_1['DeployFactory'][_0x94093e(0x1e7)](_0xee3a5e,this['_objectRuleType']);}['log'](_0x23dc21){const _0x5b9f03=a77_0x273ff8;job_detail_1['systemLogger']['log'](_0x23dc21,this[_0x5b9f03(0x1e1)]),this[_0x5b9f03(0x1e2)]['log'](_0x23dc21,this[_0x5b9f03(0x1e1)]);}['error'](_0x56fde){const _0x429cc3=a77_0x273ff8;job_detail_1[_0x429cc3(0x1f5)][_0x429cc3(0x1e5)](_0x56fde,this[_0x429cc3(0x1e1)]),this[_0x429cc3(0x1e2)]['exception'](_0x56fde[_0x429cc3(0x1e9)],this[_0x429cc3(0x1e1)]);}}exports[a77_0x273ff8(0x1f6)]=BaseStep;