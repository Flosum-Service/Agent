const a74_0x3a3d55=a74_0x1415;(function(_0x504403,_0xde63f7){const _0x38e0fd=a74_0x1415,_0x1af64d=_0x504403();while(!![]){try{const _0x1eb7d5=-parseInt(_0x38e0fd(0x1f0))/0x1+-parseInt(_0x38e0fd(0x206))/0x2*(-parseInt(_0x38e0fd(0x1da))/0x3)+parseInt(_0x38e0fd(0x1ed))/0x4*(-parseInt(_0x38e0fd(0x1f3))/0x5)+parseInt(_0x38e0fd(0x1e4))/0x6*(-parseInt(_0x38e0fd(0x1de))/0x7)+-parseInt(_0x38e0fd(0x1fc))/0x8*(-parseInt(_0x38e0fd(0x204))/0x9)+-parseInt(_0x38e0fd(0x1f7))/0xa+parseInt(_0x38e0fd(0x1d7))/0xb;if(_0x1eb7d5===_0xde63f7)break;else _0x1af64d['push'](_0x1af64d['shift']());}catch(_0x445047){_0x1af64d['push'](_0x1af64d['shift']());}}}(a74_0x5397,0x45bfc));const a74_0x4b5a3a=(function(){let _0x27d52d=!![];return function(_0x2e855b,_0x50a6e0){const _0x2e6f6e=_0x27d52d?function(){const _0x3208d6=a74_0x1415;if(_0x50a6e0){const _0x3cc19c=_0x50a6e0[_0x3208d6(0x202)](_0x2e855b,arguments);return _0x50a6e0=null,_0x3cc19c;}}:function(){};return _0x27d52d=![],_0x2e6f6e;};}()),a74_0x21003e=a74_0x4b5a3a(this,function(){const _0x4b4a6e=a74_0x1415;return a74_0x21003e[_0x4b4a6e(0x1df)]()[_0x4b4a6e(0x1f2)](_0x4b4a6e(0x1fb))['toString']()[_0x4b4a6e(0x1e6)](a74_0x21003e)[_0x4b4a6e(0x1f2)]('(((.+)+)+)+$');});function a74_0x1415(_0x10fa56,_0x34c95b){const _0x41e09f=a74_0x5397();return a74_0x1415=function(_0x21003e,_0x4b5a3a){_0x21003e=_0x21003e-0x1d4;let _0x539748=_0x41e09f[_0x21003e];return _0x539748;},a74_0x1415(_0x10fa56,_0x34c95b);}a74_0x21003e();'use strict';Object[a74_0x3a3d55(0x1eb)](exports,a74_0x3a3d55(0x1e5),{'value':!![]}),exports[a74_0x3a3d55(0x1ea)]=void 0x0;function a74_0x5397(){const _0x378c01=['search','5725HeuVDb','_whereClause','getRetrieveStream','fields','3176100ZPtluO','log','execute','../../deploy/deploy-factory','(((.+)+)+)+$','120oFNPQL','_objectRuleType','RetrieveFactory','SALESFORCE_API_VERSION','from','DeployFactory','apply','message','77643tQPwfJ','../../../constants','5722uOVwqN','create','objectDescribe','type','12492480iQKbqQ','select','systemLogger','333LzOLzF','getDeployStream','QueryBuilder','totalSize','235403cgSsQB','toString','objectName','loggerJobState','loggerDetails','error','48ygBnwk','__esModule','constructor','../../job-detail','whereClause','request','BaseStep','defineProperty','@flosum/salesforce','1484SODeeW','build','exception','285527ojSZvQ','recordsCount'];a74_0x5397=function(){return _0x378c01;};return a74_0x5397();}const salesforce_1=require(a74_0x3a3d55(0x1ec)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a74_0x3a3d55(0x205)),deploy_factory_1=require(a74_0x3a3d55(0x1fa)),job_detail_1=require(a74_0x3a3d55(0x1e7)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x2fc1f9,loggerJobState:_0x1dd3b7,objectName:_0x47dbdc,request:_0x1405e4,objectRule:_0x1af420,objectDescribe:_0x96bc9f}){const _0xf7e70e=a74_0x3a3d55;this['fields']=[],this[_0xf7e70e(0x1e2)]=_0x2fc1f9,this[_0xf7e70e(0x1e1)]=_0x1dd3b7,this[_0xf7e70e(0x1e0)]=_0x47dbdc,this[_0xf7e70e(0x1e9)]=_0x1405e4,this[_0xf7e70e(0x1f4)]=_0x1af420[_0xf7e70e(0x1e8)],this[_0xf7e70e(0x1fd)]=_0x1af420[_0xf7e70e(0x1d6)],this[_0xf7e70e(0x1d5)]=_0x96bc9f;}async['getRecordsCount'](){const _0x3a561d=a74_0x3a3d55;try{const _0x36b97f=new salesforce_1[(_0x3a561d(0x1dc))]()[_0x3a561d(0x1d8)]('COUNT()')[_0x3a561d(0x200)](this[_0x3a561d(0x1e0)]);this['_whereClause']&&_0x36b97f['where'](this[_0x3a561d(0x1f4)]);const _0x54a81e=await salesforce_1['QueryService'][_0x3a561d(0x1f9)](this[_0x3a561d(0x1e9)],{},_0x36b97f[_0x3a561d(0x1ee)](),![],constants_1[_0x3a561d(0x1ff)]);return _0x54a81e[_0x3a561d(0x1dd)];}catch(_0x595e5e){return job_detail_1[_0x3a561d(0x1d9)][_0x3a561d(0x1e3)](_0x595e5e),-0x1;}}[a74_0x3a3d55(0x1f5)](){const _0x5a1600=a74_0x3a3d55,_0x1001a1={'request':this[_0x5a1600(0x1e9)],'fields':this[_0x5a1600(0x1f6)],'whereClause':this[_0x5a1600(0x1f4)],'objectName':this[_0x5a1600(0x1e0)],'describe':this[_0x5a1600(0x1d5)]};return retrieve_factory_1[_0x5a1600(0x1fe)]['create'](_0x1001a1,this[_0x5a1600(0x1f1)]);}[a74_0x3a3d55(0x1db)](){const _0xf670e2=a74_0x3a3d55,_0x360682={'request':this[_0xf670e2(0x1e9)],'objectName':this[_0xf670e2(0x1e0)],'externalIdField':FIELD_ID,'loggerDetails':this[_0xf670e2(0x1e2)],'loggerJobState':this[_0xf670e2(0x1e1)]};return deploy_factory_1[_0xf670e2(0x201)][_0xf670e2(0x1d4)](_0x360682,this[_0xf670e2(0x1fd)]);}[a74_0x3a3d55(0x1f8)](_0x2a0726){const _0x1a8925=a74_0x3a3d55;job_detail_1[_0x1a8925(0x1d9)]['log'](_0x2a0726,this[_0x1a8925(0x1e0)]),this['loggerDetails']['log'](_0x2a0726,this[_0x1a8925(0x1e0)]);}['error'](_0x1ce2c1){const _0x36e751=a74_0x3a3d55;job_detail_1[_0x36e751(0x1d9)][_0x36e751(0x1e3)](_0x1ce2c1,this[_0x36e751(0x1e0)]),this[_0x36e751(0x1e2)][_0x36e751(0x1ef)](_0x1ce2c1[_0x36e751(0x203)],this[_0x36e751(0x1e0)]);}}exports[a74_0x3a3d55(0x1ea)]=BaseStep;