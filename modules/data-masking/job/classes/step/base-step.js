const a74_0x2e1cb5=a74_0x6141;(function(_0x1013f3,_0x20c994){const _0x257929=a74_0x6141,_0x5b2f1f=_0x1013f3();while(!![]){try{const _0xfe3446=-parseInt(_0x257929(0x1c6))/0x1*(parseInt(_0x257929(0x1da))/0x2)+parseInt(_0x257929(0x1cd))/0x3+parseInt(_0x257929(0x1c3))/0x4*(-parseInt(_0x257929(0x1e5))/0x5)+parseInt(_0x257929(0x1cc))/0x6*(-parseInt(_0x257929(0x1eb))/0x7)+parseInt(_0x257929(0x1ef))/0x8+-parseInt(_0x257929(0x1ed))/0x9*(parseInt(_0x257929(0x1ec))/0xa)+parseInt(_0x257929(0x1c8))/0xb;if(_0xfe3446===_0x20c994)break;else _0x5b2f1f['push'](_0x5b2f1f['shift']());}catch(_0x1d0a6d){_0x5b2f1f['push'](_0x5b2f1f['shift']());}}}(a74_0x206b,0xeaff5));const a74_0x518aa2=(function(){let _0x16dca5=!![];return function(_0x316062,_0x1939ae){const _0xed8f2e=_0x16dca5?function(){const _0x3887fe=a74_0x6141;if(_0x1939ae){const _0x2ea128=_0x1939ae[_0x3887fe(0x1e7)](_0x316062,arguments);return _0x1939ae=null,_0x2ea128;}}:function(){};return _0x16dca5=![],_0xed8f2e;};}()),a74_0x54e1e4=a74_0x518aa2(this,function(){const _0x1eae4a=a74_0x6141;return a74_0x54e1e4['toString']()['search'](_0x1eae4a(0x1cf))[_0x1eae4a(0x1df)]()['constructor'](a74_0x54e1e4)[_0x1eae4a(0x1c7)](_0x1eae4a(0x1cf));});function a74_0x6141(_0xd74f7b,_0x5d8460){const _0x3a023d=a74_0x206b();return a74_0x6141=function(_0x54e1e4,_0x518aa2){_0x54e1e4=_0x54e1e4-0x1c3;let _0x206bf6=_0x3a023d[_0x54e1e4];return _0x206bf6;},a74_0x6141(_0xd74f7b,_0x5d8460);}a74_0x54e1e4();'use strict';Object['defineProperty'](exports,a74_0x2e1cb5(0x1f2),{'value':!![]}),exports[a74_0x2e1cb5(0x1e3)]=void 0x0;function a74_0x206b(){const _0x15dce6=['RetrieveFactory','execute','request','fields','totalSize','145466sxTIxG','systemLogger','objectDescribe','recordsCount','objectName','toString','loggerDetails','_whereClause','../../../constants','BaseStep','build','5wwWeCn','DeployFactory','apply','../../job-detail','type','../../deploy/deploy-factory','1627822NYMXNy','10ERqivf','15555609BJLaVz','_objectRuleType','5455576HLqqnI','create','SALESFORCE_API_VERSION','__esModule','6945776sKxNEt','where','QueryBuilder','18PBhtpd','search','54742017srxWUH','getRetrieveStream','log','loggerJobState','18YbrTEW','2327196azrKzT','QueryService','(((.+)+)+)+$','../../retrieve/retrieve-factory','@flosum/salesforce','error','message','getRecordsCount'];a74_0x206b=function(){return _0x15dce6;};return a74_0x206b();}const salesforce_1=require(a74_0x2e1cb5(0x1d1)),retrieve_factory_1=require(a74_0x2e1cb5(0x1d0)),constants_1=require(a74_0x2e1cb5(0x1e2)),deploy_factory_1=require(a74_0x2e1cb5(0x1ea)),job_detail_1=require(a74_0x2e1cb5(0x1e8)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x2e600a,loggerJobState:_0x276fd5,objectName:_0x4ef0ef,request:_0x2dde9a,objectRule:_0x2ae12d,objectDescribe:_0x463422}){const _0x63b7af=a74_0x2e1cb5;this['fields']=[],this[_0x63b7af(0x1e0)]=_0x2e600a,this[_0x63b7af(0x1cb)]=_0x276fd5,this[_0x63b7af(0x1de)]=_0x4ef0ef,this[_0x63b7af(0x1d7)]=_0x2dde9a,this['_whereClause']=_0x2ae12d['whereClause'],this[_0x63b7af(0x1ee)]=_0x2ae12d[_0x63b7af(0x1e9)],this[_0x63b7af(0x1dc)]=_0x463422;}async[a74_0x2e1cb5(0x1d4)](){const _0x1a6d2b=a74_0x2e1cb5;try{const _0x54f5f7=new salesforce_1[(_0x1a6d2b(0x1c5))]()['select']('COUNT()')['from'](this[_0x1a6d2b(0x1de)]);this[_0x1a6d2b(0x1e1)]&&_0x54f5f7[_0x1a6d2b(0x1c4)](this[_0x1a6d2b(0x1e1)]);const _0x4865c5=await salesforce_1[_0x1a6d2b(0x1ce)][_0x1a6d2b(0x1d6)](this[_0x1a6d2b(0x1d7)],{},_0x54f5f7[_0x1a6d2b(0x1e4)](),![],constants_1[_0x1a6d2b(0x1f1)]);return _0x4865c5[_0x1a6d2b(0x1d9)];}catch(_0x5b032d){return job_detail_1['systemLogger'][_0x1a6d2b(0x1d2)](_0x5b032d),-0x1;}}[a74_0x2e1cb5(0x1c9)](){const _0x3e99c0=a74_0x2e1cb5,_0x431dc6={'request':this[_0x3e99c0(0x1d7)],'fields':this[_0x3e99c0(0x1d8)],'whereClause':this[_0x3e99c0(0x1e1)],'objectName':this[_0x3e99c0(0x1de)],'describe':this[_0x3e99c0(0x1dc)]};return retrieve_factory_1[_0x3e99c0(0x1d5)][_0x3e99c0(0x1f0)](_0x431dc6,this[_0x3e99c0(0x1dd)]);}['getDeployStream'](){const _0x136893=a74_0x2e1cb5,_0x52c480={'request':this[_0x136893(0x1d7)],'objectName':this[_0x136893(0x1de)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x136893(0x1e6)][_0x136893(0x1f0)](_0x52c480,this[_0x136893(0x1ee)]);}['log'](_0x3640d6){const _0x4f13f9=a74_0x2e1cb5;job_detail_1[_0x4f13f9(0x1db)][_0x4f13f9(0x1ca)](_0x3640d6,this[_0x4f13f9(0x1de)]),this[_0x4f13f9(0x1e0)][_0x4f13f9(0x1ca)](_0x3640d6,this[_0x4f13f9(0x1de)]);}[a74_0x2e1cb5(0x1d2)](_0x5b8328){const _0x5036c4=a74_0x2e1cb5;job_detail_1[_0x5036c4(0x1db)][_0x5036c4(0x1d2)](_0x5b8328,this[_0x5036c4(0x1de)]),this['loggerDetails']['exception'](_0x5b8328[_0x5036c4(0x1d3)],this[_0x5036c4(0x1de)]);}}exports[a74_0x2e1cb5(0x1e3)]=BaseStep;