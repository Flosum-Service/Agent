const a59_0x54dae4=a59_0x1934;(function(_0x352448,_0x5514ef){const _0x34b012=a59_0x1934,_0x29994e=_0x352448();while(!![]){try{const _0x1bd867=parseInt(_0x34b012(0x125))/0x1+-parseInt(_0x34b012(0x11c))/0x2+-parseInt(_0x34b012(0xf7))/0x3*(-parseInt(_0x34b012(0x113))/0x4)+parseInt(_0x34b012(0xff))/0x5*(parseInt(_0x34b012(0x105))/0x6)+parseInt(_0x34b012(0x118))/0x7+parseInt(_0x34b012(0x10d))/0x8*(-parseInt(_0x34b012(0x104))/0x9)+-parseInt(_0x34b012(0x10f))/0xa;if(_0x1bd867===_0x5514ef)break;else _0x29994e['push'](_0x29994e['shift']());}catch(_0x30007d){_0x29994e['push'](_0x29994e['shift']());}}}(a59_0x262d,0x54afe));const a59_0x1a610c=(function(){let _0x3f48ec=!![];return function(_0x1b5237,_0x63f2f0){const _0x43092c=_0x3f48ec?function(){const _0x2dc86f=a59_0x1934;if(_0x63f2f0){const _0x331f92=_0x63f2f0[_0x2dc86f(0x10b)](_0x1b5237,arguments);return _0x63f2f0=null,_0x331f92;}}:function(){};return _0x3f48ec=![],_0x43092c;};}()),a59_0x121d05=a59_0x1a610c(this,function(){const _0x30adbb=a59_0x1934;return a59_0x121d05[_0x30adbb(0x102)]()[_0x30adbb(0xfd)](_0x30adbb(0x112))['toString']()[_0x30adbb(0x120)](a59_0x121d05)[_0x30adbb(0xfd)](_0x30adbb(0x112));});a59_0x121d05();'use strict';function a59_0x262d(){const _0x12783a=['COUNT()','log','message','search','build','45LMQZVf','__esModule','../../retrieve/retrieve-factory','toString','objectName','9LmPvNU','267018CvKYJt','_objectRuleType','SALESFORCE_API_VERSION','objectDescribe','getRecordsCount','QueryBuilder','apply','type','2689304Anxelk','getDeployStream','6547320wOcmQs','request','from','(((.+)+)+)+$','4cdtVME','loggerDetails','BaseStep','recordsCount','@flosum/salesforce','38241bdwCyD','error','../../../constants','RetrieveFactory','588552EHxNZY','totalSize','getRetrieveStream','../../deploy/deploy-factory','constructor','defineProperty','fields','loggerJobState','_whereClause','560896YwDMRo','create','1995489qSMYCR','systemLogger','select'];a59_0x262d=function(){return _0x12783a;};return a59_0x262d();}Object[a59_0x54dae4(0x121)](exports,a59_0x54dae4(0x100),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a59_0x54dae4(0x117)),retrieve_factory_1=require(a59_0x54dae4(0x101)),constants_1=require(a59_0x54dae4(0x11a)),deploy_factory_1=require(a59_0x54dae4(0x11f)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';function a59_0x1934(_0x38ce8e,_0xb6825b){const _0x4d3d95=a59_0x262d();return a59_0x1934=function(_0x121d05,_0x1a610c){_0x121d05=_0x121d05-0xf6;let _0x262d7d=_0x4d3d95[_0x121d05];return _0x262d7d;},a59_0x1934(_0x38ce8e,_0xb6825b);}class BaseStep{constructor({loggerDetails:_0x25b942,loggerJobState:_0x4894bd,objectName:_0x45ceb3,request:_0x443b77,objectRule:_0x5f568a,objectDescribe:_0x3d87a7}){const _0x4d3327=a59_0x54dae4;this[_0x4d3327(0x122)]=[],this[_0x4d3327(0x114)]=_0x25b942,this[_0x4d3327(0x123)]=_0x4894bd,this[_0x4d3327(0x103)]=_0x45ceb3,this[_0x4d3327(0x110)]=_0x443b77,this[_0x4d3327(0x124)]=_0x5f568a['whereClause'],this['_objectRuleType']=_0x5f568a[_0x4d3327(0x10c)],this[_0x4d3327(0x108)]=_0x3d87a7;}async[a59_0x54dae4(0x109)](){const _0x2fdfb9=a59_0x54dae4;try{const _0x7c8b2f=new salesforce_1[(_0x2fdfb9(0x10a))]()[_0x2fdfb9(0xf9)](_0x2fdfb9(0xfa))[_0x2fdfb9(0x111)](this[_0x2fdfb9(0x103)]);this[_0x2fdfb9(0x124)]&&_0x7c8b2f['where'](this[_0x2fdfb9(0x124)]);const _0xabdafe=await salesforce_1['QueryService']['execute'](this[_0x2fdfb9(0x110)],{},_0x7c8b2f[_0x2fdfb9(0xfe)](),![],constants_1[_0x2fdfb9(0x107)]);return _0xabdafe[_0x2fdfb9(0x11d)];}catch(_0x1d8ef8){return job_detail_1[_0x2fdfb9(0xf8)][_0x2fdfb9(0x119)](_0x1d8ef8),-0x1;}}[a59_0x54dae4(0x11e)](){const _0x1e28a2=a59_0x54dae4,_0x172a7b={'request':this[_0x1e28a2(0x110)],'fields':this[_0x1e28a2(0x122)],'whereClause':this['_whereClause'],'objectName':this[_0x1e28a2(0x103)],'describe':this[_0x1e28a2(0x108)]};return retrieve_factory_1[_0x1e28a2(0x11b)][_0x1e28a2(0xf6)](_0x172a7b,this[_0x1e28a2(0x116)]);}[a59_0x54dae4(0x10e)](){const _0x16c606=a59_0x54dae4,_0x1a3a8e={'request':this[_0x16c606(0x110)],'objectName':this[_0x16c606(0x103)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x16c606(0x114)],'loggerJobState':this['loggerJobState']};return deploy_factory_1['DeployFactory'][_0x16c606(0xf6)](_0x1a3a8e,this[_0x16c606(0x106)]);}[a59_0x54dae4(0xfb)](_0x5f0af4){const _0x2a1bbc=a59_0x54dae4;job_detail_1['systemLogger'][_0x2a1bbc(0xfb)](_0x5f0af4,this[_0x2a1bbc(0x103)]),this[_0x2a1bbc(0x114)][_0x2a1bbc(0xfb)](_0x5f0af4,this[_0x2a1bbc(0x103)]);}[a59_0x54dae4(0x119)](_0x56b0af){const _0x1e7da4=a59_0x54dae4;job_detail_1[_0x1e7da4(0xf8)][_0x1e7da4(0x119)](_0x56b0af,this[_0x1e7da4(0x103)]),this[_0x1e7da4(0x114)]['exception'](_0x56b0af[_0x1e7da4(0xfc)],this[_0x1e7da4(0x103)]);}}exports[a59_0x54dae4(0x115)]=BaseStep;