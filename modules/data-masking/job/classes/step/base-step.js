function a59_0x4ee4(_0x2ca883,_0x50b730){const _0x19eceb=a59_0x3680();return a59_0x4ee4=function(_0x16bed3,_0x488aa3){_0x16bed3=_0x16bed3-0xd6;let _0x368055=_0x19eceb[_0x16bed3];return _0x368055;},a59_0x4ee4(_0x2ca883,_0x50b730);}const a59_0x2e0819=a59_0x4ee4;(function(_0x37db77,_0x46d6de){const _0x279bb5=a59_0x4ee4,_0x3b5da5=_0x37db77();while(!![]){try{const _0x3561ef=-parseInt(_0x279bb5(0xff))/0x1*(parseInt(_0x279bb5(0xe1))/0x2)+-parseInt(_0x279bb5(0x103))/0x3*(-parseInt(_0x279bb5(0xe3))/0x4)+-parseInt(_0x279bb5(0xd9))/0x5+-parseInt(_0x279bb5(0xfd))/0x6*(parseInt(_0x279bb5(0xd7))/0x7)+-parseInt(_0x279bb5(0xeb))/0x8+-parseInt(_0x279bb5(0xdc))/0x9*(parseInt(_0x279bb5(0xd8))/0xa)+parseInt(_0x279bb5(0xf7))/0xb;if(_0x3561ef===_0x46d6de)break;else _0x3b5da5['push'](_0x3b5da5['shift']());}catch(_0x17b698){_0x3b5da5['push'](_0x3b5da5['shift']());}}}(a59_0x3680,0x2fcd2));const a59_0x488aa3=(function(){let _0x7fc26e=!![];return function(_0x50bf50,_0x1025f9){const _0x521109=_0x7fc26e?function(){const _0x19c13e=a59_0x4ee4;if(_0x1025f9){const _0x4528c0=_0x1025f9[_0x19c13e(0xda)](_0x50bf50,arguments);return _0x1025f9=null,_0x4528c0;}}:function(){};return _0x7fc26e=![],_0x521109;};}()),a59_0x16bed3=a59_0x488aa3(this,function(){const _0x1354f1=a59_0x4ee4;return a59_0x16bed3[_0x1354f1(0xdd)]()[_0x1354f1(0x102)](_0x1354f1(0xed))[_0x1354f1(0xdd)]()['constructor'](a59_0x16bed3)[_0x1354f1(0x102)](_0x1354f1(0xed));});a59_0x16bed3();'use strict';function a59_0x3680(){const _0x211d16=['error','request','objectDescribe','6mmzbax','message','649IleIaI','type','_objectRuleType','search','971277KsCpoM','_whereClause','1682618KyRDID','1679710YqHfXG','1128645PUusVM','apply','QueryBuilder','9YSCbAi','toString','objectName','fields','whereClause','1044xJrLfx','getRecordsCount','4GcRVvX','create','../../retrieve/retrieve-factory','BaseStep','from','../../job-detail','exception','build','3073360pKqZDi','systemLogger','(((.+)+)+)+$','RetrieveFactory','recordsCount','loggerDetails','log','@flosum/salesforce','__esModule','../../../constants','QueryService','defineProperty','13519627rUtpJW','COUNT()','getRetrieveStream'];a59_0x3680=function(){return _0x211d16;};return a59_0x3680();}Object[a59_0x2e0819(0xf6)](exports,a59_0x2e0819(0xf3),{'value':!![]}),exports[a59_0x2e0819(0xe6)]=void 0x0;const salesforce_1=require(a59_0x2e0819(0xf2)),retrieve_factory_1=require(a59_0x2e0819(0xe5)),constants_1=require(a59_0x2e0819(0xf4)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x2e0819(0xe8)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x163a25,loggerJobState:_0x4b4997,objectName:_0x58bafa,request:_0x5674c7,objectRule:_0x28f0b1,objectDescribe:_0x64f296}){const _0x8243a5=a59_0x2e0819;this['fields']=[],this[_0x8243a5(0xf0)]=_0x163a25,this['loggerJobState']=_0x4b4997,this[_0x8243a5(0xde)]=_0x58bafa,this['request']=_0x5674c7,this[_0x8243a5(0xd6)]=_0x28f0b1[_0x8243a5(0xe0)],this[_0x8243a5(0x101)]=_0x28f0b1[_0x8243a5(0x100)],this[_0x8243a5(0xfc)]=_0x64f296;}async[a59_0x2e0819(0xe2)](){const _0x3d0737=a59_0x2e0819;try{const _0x327e73=new salesforce_1[(_0x3d0737(0xdb))]()['select'](_0x3d0737(0xf8))[_0x3d0737(0xe7)](this[_0x3d0737(0xde)]);this[_0x3d0737(0xd6)]&&_0x327e73['where'](this[_0x3d0737(0xd6)]);const _0x446891=await salesforce_1[_0x3d0737(0xf5)]['execute'](this[_0x3d0737(0xfb)],{},_0x327e73[_0x3d0737(0xea)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x446891['totalSize'];}catch(_0x25742e){return job_detail_1[_0x3d0737(0xec)][_0x3d0737(0xfa)](_0x25742e),-0x1;}}[a59_0x2e0819(0xf9)](){const _0x188d3d=a59_0x2e0819,_0x24f68c={'request':this[_0x188d3d(0xfb)],'fields':this[_0x188d3d(0xdf)],'whereClause':this[_0x188d3d(0xd6)],'objectName':this['objectName'],'describe':this[_0x188d3d(0xfc)]};return retrieve_factory_1[_0x188d3d(0xee)][_0x188d3d(0xe4)](_0x24f68c,this[_0x188d3d(0xef)]);}['getDeployStream'](){const _0xfd7d8c=a59_0x2e0819,_0x101a3c={'request':this[_0xfd7d8c(0xfb)],'objectName':this[_0xfd7d8c(0xde)],'externalIdField':FIELD_ID,'loggerDetails':this[_0xfd7d8c(0xf0)],'loggerJobState':this['loggerJobState']};return deploy_factory_1['DeployFactory'][_0xfd7d8c(0xe4)](_0x101a3c,this[_0xfd7d8c(0x101)]);}['log'](_0x34293c){const _0x315d6f=a59_0x2e0819;job_detail_1[_0x315d6f(0xec)][_0x315d6f(0xf1)](_0x34293c,this[_0x315d6f(0xde)]),this['loggerDetails'][_0x315d6f(0xf1)](_0x34293c,this[_0x315d6f(0xde)]);}[a59_0x2e0819(0xfa)](_0x59a16d){const _0x49e59e=a59_0x2e0819;job_detail_1[_0x49e59e(0xec)][_0x49e59e(0xfa)](_0x59a16d,this[_0x49e59e(0xde)]),this[_0x49e59e(0xf0)][_0x49e59e(0xe9)](_0x59a16d[_0x49e59e(0xfe)],this[_0x49e59e(0xde)]);}}exports[a59_0x2e0819(0xe6)]=BaseStep;