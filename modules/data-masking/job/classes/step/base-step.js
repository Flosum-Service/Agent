const a59_0xf8a299=a59_0x1e2c;(function(_0x445c66,_0x4daaf3){const _0x2a56f2=a59_0x1e2c,_0x1679c9=_0x445c66();while(!![]){try{const _0x34f0a4=parseInt(_0x2a56f2(0x1f6))/0x1*(parseInt(_0x2a56f2(0x20e))/0x2)+parseInt(_0x2a56f2(0x1fa))/0x3+parseInt(_0x2a56f2(0x20d))/0x4+parseInt(_0x2a56f2(0x21d))/0x5+-parseInt(_0x2a56f2(0x224))/0x6*(parseInt(_0x2a56f2(0x1fb))/0x7)+-parseInt(_0x2a56f2(0x205))/0x8*(parseInt(_0x2a56f2(0x208))/0x9)+parseInt(_0x2a56f2(0x213))/0xa*(parseInt(_0x2a56f2(0x221))/0xb);if(_0x34f0a4===_0x4daaf3)break;else _0x1679c9['push'](_0x1679c9['shift']());}catch(_0x400d40){_0x1679c9['push'](_0x1679c9['shift']());}}}(a59_0x2888,0x7affc));const a59_0x593cd4=(function(){let _0x33ab5a=!![];return function(_0x3d683a,_0x30309c){const _0x510c3c=_0x33ab5a?function(){const _0x515401=a59_0x1e2c;if(_0x30309c){const _0x17e287=_0x30309c[_0x515401(0x201)](_0x3d683a,arguments);return _0x30309c=null,_0x17e287;}}:function(){};return _0x33ab5a=![],_0x510c3c;};}()),a59_0x11bfde=a59_0x593cd4(this,function(){const _0x515089=a59_0x1e2c;return a59_0x11bfde[_0x515089(0x204)]()[_0x515089(0x1f9)](_0x515089(0x206))[_0x515089(0x204)]()[_0x515089(0x1f5)](a59_0x11bfde)['search'](_0x515089(0x206));});a59_0x11bfde();'use strict';function a59_0x2888(){const _0x57be80=['SortDirection','getDeployStream','request','63760PywTIG','RetrieveFactory','objectDescribe','../../retrieve/retrieve-factory','select','DeployFactory','error','message','type','QueryBuilder','278160Arhjga','exception','_whereClause','ASC','572bDhCeR','COUNT()','QueryService','94758xltITA','getRetrieveStream','loggerJobState','constructor','89LmQxGL','../../job-detail','getRecordsCount','search','2690259VlxMzQ','399KVmGkw','execute','../../deploy/deploy-factory','_objectRuleType','create','systemLogger','apply','objectName','log','toString','1635920brLhqq','(((.+)+)+)+$','fields','27wIFsdo','SALESFORCE_API_VERSION','loggerDetails','build','BaseStep','428268cIjbSQ','14078ZypiRr','recordsCount'];a59_0x2888=function(){return _0x57be80;};return a59_0x2888();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a59_0xf8a299(0x216)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0xf8a299(0x1fd)),job_detail_1=require(a59_0xf8a299(0x1f7)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x3a1e7b,loggerJobState:_0x3b00d7,objectName:_0x57e57d,request:_0xd13d86,objectRule:_0x20ce90,objectDescribe:_0xb45de6}){const _0x4398a4=a59_0xf8a299;this[_0x4398a4(0x207)]=[],this[_0x4398a4(0x20a)]=_0x3a1e7b,this[_0x4398a4(0x1f4)]=_0x3b00d7,this[_0x4398a4(0x202)]=_0x57e57d,this['request']=_0xd13d86,this[_0x4398a4(0x21f)]=_0x20ce90['whereClause'],this[_0x4398a4(0x1fe)]=_0x20ce90[_0x4398a4(0x21b)],this['objectDescribe']=_0xb45de6;}async[a59_0xf8a299(0x1f8)](){const _0x3f18e4=a59_0xf8a299;try{const _0x4fb65e=new salesforce_1[(_0x3f18e4(0x21c))]()[_0x3f18e4(0x217)](_0x3f18e4(0x222))['from'](this[_0x3f18e4(0x202)]);this[_0x3f18e4(0x21f)]&&_0x4fb65e['where'](this[_0x3f18e4(0x21f)]);const _0x4eab46=await salesforce_1[_0x3f18e4(0x223)][_0x3f18e4(0x1fc)](this[_0x3f18e4(0x212)],{},_0x4fb65e[_0x3f18e4(0x20b)](),![],constants_1[_0x3f18e4(0x209)]);return _0x4eab46['totalSize'];}catch(_0x5e3e6c){return job_detail_1[_0x3f18e4(0x200)]['error'](_0x5e3e6c),-0x1;}}[a59_0xf8a299(0x1f3)](){const _0x2e3b05=a59_0xf8a299,_0x59b239={'request':this[_0x2e3b05(0x212)],'fields':this['fields'],'whereClause':this[_0x2e3b05(0x21f)],'objectName':this[_0x2e3b05(0x202)],'describe':this[_0x2e3b05(0x215)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x2e3b05(0x210)][_0x2e3b05(0x220)]};return retrieve_factory_1[_0x2e3b05(0x214)][_0x2e3b05(0x1ff)](_0x59b239,this[_0x2e3b05(0x20f)]);}[a59_0xf8a299(0x211)](){const _0x218500=a59_0xf8a299,_0x48129c={'request':this[_0x218500(0x212)],'objectName':this[_0x218500(0x202)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x218500(0x20a)],'loggerJobState':this[_0x218500(0x1f4)]};return deploy_factory_1[_0x218500(0x218)][_0x218500(0x1ff)](_0x48129c,this[_0x218500(0x1fe)]);}[a59_0xf8a299(0x203)](_0x4e2d0a){const _0x5a4b1b=a59_0xf8a299;job_detail_1[_0x5a4b1b(0x200)][_0x5a4b1b(0x203)](_0x4e2d0a,this[_0x5a4b1b(0x202)]),this[_0x5a4b1b(0x20a)][_0x5a4b1b(0x203)](_0x4e2d0a,this[_0x5a4b1b(0x202)]);}[a59_0xf8a299(0x219)](_0x1b2e4f){const _0x41d551=a59_0xf8a299;job_detail_1[_0x41d551(0x200)]['error'](_0x1b2e4f,this[_0x41d551(0x202)]),this[_0x41d551(0x20a)][_0x41d551(0x21e)](_0x1b2e4f[_0x41d551(0x21a)],this[_0x41d551(0x202)]);}}function a59_0x1e2c(_0x5ab9d5,_0x482599){const _0x4f783e=a59_0x2888();return a59_0x1e2c=function(_0x11bfde,_0x593cd4){_0x11bfde=_0x11bfde-0x1f3;let _0x28888d=_0x4f783e[_0x11bfde];return _0x28888d;},a59_0x1e2c(_0x5ab9d5,_0x482599);}exports[a59_0xf8a299(0x20c)]=BaseStep;