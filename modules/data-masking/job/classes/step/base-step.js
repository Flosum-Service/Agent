const a59_0x10b00e=a59_0x566b;(function(_0x986770,_0x223b6f){const _0x434f7f=a59_0x566b,_0x595c27=_0x986770();while(!![]){try{const _0x71cfd5=parseInt(_0x434f7f(0xd3))/0x1*(-parseInt(_0x434f7f(0xef))/0x2)+parseInt(_0x434f7f(0xd0))/0x3+-parseInt(_0x434f7f(0xd6))/0x4*(-parseInt(_0x434f7f(0xc5))/0x5)+parseInt(_0x434f7f(0xd9))/0x6*(parseInt(_0x434f7f(0xe1))/0x7)+-parseInt(_0x434f7f(0xc2))/0x8*(-parseInt(_0x434f7f(0xc3))/0x9)+-parseInt(_0x434f7f(0xd4))/0xa*(-parseInt(_0x434f7f(0xe3))/0xb)+parseInt(_0x434f7f(0xc4))/0xc*(-parseInt(_0x434f7f(0xd7))/0xd);if(_0x71cfd5===_0x223b6f)break;else _0x595c27['push'](_0x595c27['shift']());}catch(_0x4dc0da){_0x595c27['push'](_0x595c27['shift']());}}}(a59_0x5914,0xb1ce6));const a59_0x449e79=(function(){let _0x5d079e=!![];return function(_0x4369b6,_0x4f20e3){const _0x4f3869=_0x5d079e?function(){const _0x1ca2b0=a59_0x566b;if(_0x4f20e3){const _0x3d3720=_0x4f20e3[_0x1ca2b0(0xca)](_0x4369b6,arguments);return _0x4f20e3=null,_0x3d3720;}}:function(){};return _0x5d079e=![],_0x4f3869;};}()),a59_0x22637f=a59_0x449e79(this,function(){const _0x5ef841=a59_0x566b;return a59_0x22637f[_0x5ef841(0xc7)]()['search'](_0x5ef841(0xdd))['toString']()[_0x5ef841(0xda)](a59_0x22637f)[_0x5ef841(0xc6)](_0x5ef841(0xdd));});a59_0x22637f();'use strict';function a59_0x566b(_0x205a40,_0x16e819){const _0x326e70=a59_0x5914();return a59_0x566b=function(_0x22637f,_0x449e79){_0x22637f=_0x22637f-0xc0;let _0x59148b=_0x326e70[_0x22637f];return _0x59148b;},a59_0x566b(_0x205a40,_0x16e819);}Object[a59_0x10b00e(0xc0)](exports,a59_0x10b00e(0xeb),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a59_0x10b00e(0xe5)),retrieve_factory_1=require(a59_0x10b00e(0xcf)),constants_1=require(a59_0x10b00e(0xce)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x10b00e(0xd8)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x4df5bd,loggerJobState:_0x5ddf83,objectName:_0x1fa010,request:_0x3d4097,objectRule:_0x4e55fd,objectDescribe:_0x5eea95}){const _0x35a91f=a59_0x10b00e;this[_0x35a91f(0xea)]=[],this[_0x35a91f(0xcc)]=_0x4df5bd,this[_0x35a91f(0xc8)]=_0x5ddf83,this[_0x35a91f(0xe7)]=_0x1fa010,this[_0x35a91f(0xc9)]=_0x3d4097,this['_whereClause']=_0x4e55fd[_0x35a91f(0xe8)],this[_0x35a91f(0xec)]=_0x4e55fd[_0x35a91f(0xd1)],this[_0x35a91f(0xde)]=_0x5eea95;}async['getRecordsCount'](){const _0x5cd0ef=a59_0x10b00e;try{const _0x30fb2b=new salesforce_1[(_0x5cd0ef(0xdf))]()['select'](_0x5cd0ef(0xe4))['from'](this['objectName']);this['_whereClause']&&_0x30fb2b['where'](this[_0x5cd0ef(0xd2)]);const _0x6ce4cb=await salesforce_1[_0x5cd0ef(0xcb)]['execute'](this[_0x5cd0ef(0xc9)],{},_0x30fb2b['build'](),![],constants_1[_0x5cd0ef(0xdb)]);return _0x6ce4cb[_0x5cd0ef(0xe6)];}catch(_0x1fa734){return job_detail_1[_0x5cd0ef(0xd5)][_0x5cd0ef(0xe9)](_0x1fa734),-0x1;}}[a59_0x10b00e(0xdc)](){const _0x2addfe=a59_0x10b00e,_0x216634={'request':this[_0x2addfe(0xc9)],'fields':this[_0x2addfe(0xea)],'whereClause':this[_0x2addfe(0xd2)],'objectName':this[_0x2addfe(0xe7)],'describe':this[_0x2addfe(0xde)]};return retrieve_factory_1[_0x2addfe(0xee)]['create'](_0x216634,this['recordsCount']);}[a59_0x10b00e(0xcd)](){const _0x3d1a1f=a59_0x10b00e,_0xd681e9={'request':this[_0x3d1a1f(0xc9)],'objectName':this[_0x3d1a1f(0xe7)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3d1a1f(0xcc)],'loggerJobState':this[_0x3d1a1f(0xc8)]};return deploy_factory_1[_0x3d1a1f(0xc1)]['create'](_0xd681e9,this['_objectRuleType']);}['log'](_0x54739d){const _0x5c0f45=a59_0x10b00e;job_detail_1['systemLogger'][_0x5c0f45(0xe2)](_0x54739d,this[_0x5c0f45(0xe7)]),this['loggerDetails'][_0x5c0f45(0xe2)](_0x54739d,this[_0x5c0f45(0xe7)]);}[a59_0x10b00e(0xe9)](_0x1f2997){const _0x27fdac=a59_0x10b00e;job_detail_1[_0x27fdac(0xd5)][_0x27fdac(0xe9)](_0x1f2997,this[_0x27fdac(0xe7)]),this[_0x27fdac(0xcc)]['exception'](_0x1f2997[_0x27fdac(0xed)],this['objectName']);}}function a59_0x5914(){const _0xb2d6d5=['type','_whereClause','137669UucUqp','90Ahejhr','systemLogger','348148AlFdCF','39csAMzZ','../../job-detail','12mcUusf','constructor','SALESFORCE_API_VERSION','getRetrieveStream','(((.+)+)+)+$','objectDescribe','QueryBuilder','BaseStep','934696JGFfDj','log','1035199bCmDlj','COUNT()','@flosum/salesforce','totalSize','objectName','whereClause','error','fields','__esModule','_objectRuleType','message','RetrieveFactory','8BAESif','defineProperty','DeployFactory','359608neSKZd','45hTzwDY','2562828dHGqpn','5UzRbcz','search','toString','loggerJobState','request','apply','QueryService','loggerDetails','getDeployStream','../../../constants','../../retrieve/retrieve-factory','1481544axXaru'];a59_0x5914=function(){return _0xb2d6d5;};return a59_0x5914();}exports[a59_0x10b00e(0xe0)]=BaseStep;