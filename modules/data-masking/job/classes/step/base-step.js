const a74_0x24dbb3=a74_0x48aa;(function(_0x2a1bd3,_0x501392){const _0x28a759=a74_0x48aa,_0x46546a=_0x2a1bd3();while(!![]){try{const _0x9cc954=parseInt(_0x28a759(0xe7))/0x1+-parseInt(_0x28a759(0xc3))/0x2+parseInt(_0x28a759(0xda))/0x3*(parseInt(_0x28a759(0xcc))/0x4)+-parseInt(_0x28a759(0xd6))/0x5*(-parseInt(_0x28a759(0xbf))/0x6)+parseInt(_0x28a759(0xd5))/0x7+-parseInt(_0x28a759(0xc4))/0x8+-parseInt(_0x28a759(0xcd))/0x9;if(_0x9cc954===_0x501392)break;else _0x46546a['push'](_0x46546a['shift']());}catch(_0x30f4dd){_0x46546a['push'](_0x46546a['shift']());}}}(a74_0x22a9,0x7f8eb));const a74_0x47a12e=(function(){let _0x1ff044=!![];return function(_0x2e87e9,_0x3e47be){const _0x5ebcc7=_0x1ff044?function(){const _0x3959d0=a74_0x48aa;if(_0x3e47be){const _0x27eeaa=_0x3e47be[_0x3959d0(0xbd)](_0x2e87e9,arguments);return _0x3e47be=null,_0x27eeaa;}}:function(){};return _0x1ff044=![],_0x5ebcc7;};}()),a74_0x42d975=a74_0x47a12e(this,function(){const _0x3c30c1=a74_0x48aa;return a74_0x42d975[_0x3c30c1(0xe3)]()[_0x3c30c1(0xc5)]('(((.+)+)+)+$')[_0x3c30c1(0xe3)]()[_0x3c30c1(0xca)](a74_0x42d975)[_0x3c30c1(0xc5)](_0x3c30c1(0xce));});a74_0x42d975();'use strict';Object['defineProperty'](exports,a74_0x24dbb3(0xdb),{'value':!![]}),exports[a74_0x24dbb3(0xcb)]=void 0x0;function a74_0x48aa(_0x5d21d4,_0x195cef){const _0x844740=a74_0x22a9();return a74_0x48aa=function(_0x42d975,_0x47a12e){_0x42d975=_0x42d975-0xbc;let _0x22a91d=_0x844740[_0x42d975];return _0x22a91d;},a74_0x48aa(_0x5d21d4,_0x195cef);}const salesforce_1=require(a74_0x24dbb3(0xe0)),retrieve_factory_1=require(a74_0x24dbb3(0xe2)),constants_1=require(a74_0x24dbb3(0xd8)),deploy_factory_1=require(a74_0x24dbb3(0xdf)),job_detail_1=require(a74_0x24dbb3(0xe1)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x114e1f,loggerJobState:_0x55a8ef,objectName:_0x54f1e1,request:_0x42f4ff,objectRule:_0x5554e5,objectDescribe:_0x4a8663}){const _0x6c936a=a74_0x24dbb3;this[_0x6c936a(0xdc)]=[],this['loggerDetails']=_0x114e1f,this[_0x6c936a(0xbe)]=_0x55a8ef,this[_0x6c936a(0xe6)]=_0x54f1e1,this[_0x6c936a(0xc0)]=_0x42f4ff,this['_whereClause']=_0x5554e5[_0x6c936a(0xc2)],this[_0x6c936a(0xc9)]=_0x5554e5['type'],this[_0x6c936a(0xd9)]=_0x4a8663;}async[a74_0x24dbb3(0xd4)](){const _0xada82e=a74_0x24dbb3;try{const _0x3e773d=new salesforce_1[(_0xada82e(0xd2))]()['select'](_0xada82e(0xd3))[_0xada82e(0xe9)](this['objectName']);this[_0xada82e(0xde)]&&_0x3e773d['where'](this[_0xada82e(0xde)]);const _0x3b4c66=await salesforce_1[_0xada82e(0xe8)][_0xada82e(0xd7)](this[_0xada82e(0xc0)],{},_0x3e773d[_0xada82e(0xdd)](),![],constants_1[_0xada82e(0xc7)]);return _0x3b4c66['totalSize'];}catch(_0x14c776){return job_detail_1[_0xada82e(0xbc)][_0xada82e(0xe5)](_0x14c776),-0x1;}}['getRetrieveStream'](){const _0x26e266=a74_0x24dbb3,_0x2e24f7={'request':this['request'],'fields':this[_0x26e266(0xdc)],'whereClause':this[_0x26e266(0xde)],'objectName':this['objectName'],'describe':this[_0x26e266(0xd9)]};return retrieve_factory_1[_0x26e266(0xcf)]['create'](_0x2e24f7,this[_0x26e266(0xc8)]);}[a74_0x24dbb3(0xe4)](){const _0x102d8=a74_0x24dbb3,_0x2c98b8={'request':this['request'],'objectName':this[_0x102d8(0xe6)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x102d8(0xbe)]};return deploy_factory_1['DeployFactory'][_0x102d8(0xd0)](_0x2c98b8,this[_0x102d8(0xc9)]);}[a74_0x24dbb3(0xd1)](_0xda3770){const _0x34036f=a74_0x24dbb3;job_detail_1[_0x34036f(0xbc)][_0x34036f(0xd1)](_0xda3770,this['objectName']),this['loggerDetails'][_0x34036f(0xd1)](_0xda3770,this[_0x34036f(0xe6)]);}[a74_0x24dbb3(0xe5)](_0x4d188c){const _0x298043=a74_0x24dbb3;job_detail_1[_0x298043(0xbc)]['error'](_0x4d188c,this['objectName']),this[_0x298043(0xea)][_0x298043(0xc6)](_0x4d188c[_0x298043(0xc1)],this['objectName']);}}function a74_0x22a9(){const _0x1d6b0f=['RetrieveFactory','create','log','QueryBuilder','COUNT()','getRecordsCount','2431177fIcptr','10JOzZbF','execute','../../../constants','objectDescribe','27XCcYel','__esModule','fields','build','_whereClause','../../deploy/deploy-factory','@flosum/salesforce','../../job-detail','../../retrieve/retrieve-factory','toString','getDeployStream','error','objectName','666261WrwPoP','QueryService','from','loggerDetails','systemLogger','apply','loggerJobState','1439682YMnMXH','request','message','whereClause','602298HXevca','1117840gultqc','search','exception','SALESFORCE_API_VERSION','recordsCount','_objectRuleType','constructor','BaseStep','175448PGqQzB','8323830dcRFbh','(((.+)+)+)+$'];a74_0x22a9=function(){return _0x1d6b0f;};return a74_0x22a9();}exports[a74_0x24dbb3(0xcb)]=BaseStep;