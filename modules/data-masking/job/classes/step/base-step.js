function a76_0x273d(_0x58b4ea,_0x54cfdb){const _0x3c6a7c=a76_0x2dce();return a76_0x273d=function(_0x6d972,_0x4e9139){_0x6d972=_0x6d972-0x1b7;let _0x2dce73=_0x3c6a7c[_0x6d972];return _0x2dce73;},a76_0x273d(_0x58b4ea,_0x54cfdb);}const a76_0x5b165e=a76_0x273d;(function(_0x3a08d8,_0x30b086){const _0x8714f1=a76_0x273d,_0x959ca6=_0x3a08d8();while(!![]){try{const _0x220131=-parseInt(_0x8714f1(0x1e7))/0x1*(-parseInt(_0x8714f1(0x1bd))/0x2)+parseInt(_0x8714f1(0x1d0))/0x3+parseInt(_0x8714f1(0x1bc))/0x4+-parseInt(_0x8714f1(0x1df))/0x5+-parseInt(_0x8714f1(0x1d1))/0x6+parseInt(_0x8714f1(0x1c4))/0x7*(-parseInt(_0x8714f1(0x1be))/0x8)+parseInt(_0x8714f1(0x1ba))/0x9*(-parseInt(_0x8714f1(0x1c2))/0xa);if(_0x220131===_0x30b086)break;else _0x959ca6['push'](_0x959ca6['shift']());}catch(_0x5a3cc4){_0x959ca6['push'](_0x959ca6['shift']());}}}(a76_0x2dce,0xecad0));const a76_0x4e9139=(function(){let _0x10964a=!![];return function(_0x5a53db,_0xf5da36){const _0x1bc5c6=_0x10964a?function(){const _0x5b79c7=a76_0x273d;if(_0xf5da36){const _0x52adf3=_0xf5da36[_0x5b79c7(0x1e4)](_0x5a53db,arguments);return _0xf5da36=null,_0x52adf3;}}:function(){};return _0x10964a=![],_0x1bc5c6;};}()),a76_0x6d972=a76_0x4e9139(this,function(){const _0x36b2e0=a76_0x273d;return a76_0x6d972[_0x36b2e0(0x1ce)]()[_0x36b2e0(0x1d8)](_0x36b2e0(0x1e0))[_0x36b2e0(0x1ce)]()[_0x36b2e0(0x1e2)](a76_0x6d972)[_0x36b2e0(0x1d8)]('(((.+)+)+)+$');});a76_0x6d972();'use strict';function a76_0x2dce(){const _0x3b20c5=['327064qANCpm','../../../constants','loggerJobState','SALESFORCE_API_VERSION','125990mpEgjS','select','49XKEAHJ','QueryBuilder','getRetrieveStream','BaseStep','objectDescribe','exception','COUNT()','loggerDetails','request','RetrieveFactory','toString','execute','2427672qWtcMi','7655034Ramciv','totalSize','QueryService','create','systemLogger','__esModule','recordsCount','search','fields','_whereClause','../../retrieve/retrieve-factory','DeployFactory','whereClause','error','2289635WscUXz','(((.+)+)+)+$','../../job-detail','constructor','message','apply','defineProperty','type','1736anQHjS','objectName','getDeployStream','from','log','783CrHAts','build','7119312hOjXXp','1724yqBOGB'];a76_0x2dce=function(){return _0x3b20c5;};return a76_0x2dce();}Object[a76_0x5b165e(0x1e5)](exports,a76_0x5b165e(0x1d6),{'value':!![]}),exports[a76_0x5b165e(0x1c7)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a76_0x5b165e(0x1db)),constants_1=require(a76_0x5b165e(0x1bf)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a76_0x5b165e(0x1e1)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x1c816a,loggerJobState:_0x367152,objectName:_0x28f536,request:_0x26578a,objectRule:_0x8357bb,objectDescribe:_0x386083}){const _0x62032f=a76_0x5b165e;this['fields']=[],this[_0x62032f(0x1cb)]=_0x1c816a,this[_0x62032f(0x1c0)]=_0x367152,this[_0x62032f(0x1e8)]=_0x28f536,this[_0x62032f(0x1cc)]=_0x26578a,this[_0x62032f(0x1da)]=_0x8357bb[_0x62032f(0x1dd)],this['_objectRuleType']=_0x8357bb[_0x62032f(0x1e6)],this[_0x62032f(0x1c8)]=_0x386083;}async['getRecordsCount'](){const _0x1c1813=a76_0x5b165e;try{const _0x4391a0=new salesforce_1[(_0x1c1813(0x1c5))]()[_0x1c1813(0x1c3)](_0x1c1813(0x1ca))[_0x1c1813(0x1b8)](this[_0x1c1813(0x1e8)]);this['_whereClause']&&_0x4391a0['where'](this[_0x1c1813(0x1da)]);const _0x5b462f=await salesforce_1[_0x1c1813(0x1d3)][_0x1c1813(0x1cf)](this[_0x1c1813(0x1cc)],{},_0x4391a0[_0x1c1813(0x1bb)](),![],constants_1[_0x1c1813(0x1c1)]);return _0x5b462f[_0x1c1813(0x1d2)];}catch(_0x27ed7e){return job_detail_1[_0x1c1813(0x1d5)][_0x1c1813(0x1de)](_0x27ed7e),-0x1;}}[a76_0x5b165e(0x1c6)](){const _0xd1d4a2=a76_0x5b165e,_0x548d8b={'request':this[_0xd1d4a2(0x1cc)],'fields':this[_0xd1d4a2(0x1d9)],'whereClause':this[_0xd1d4a2(0x1da)],'objectName':this['objectName'],'describe':this[_0xd1d4a2(0x1c8)]};return retrieve_factory_1[_0xd1d4a2(0x1cd)][_0xd1d4a2(0x1d4)](_0x548d8b,this[_0xd1d4a2(0x1d7)]);}[a76_0x5b165e(0x1b7)](){const _0x441f88=a76_0x5b165e,_0x27d715={'request':this[_0x441f88(0x1cc)],'objectName':this[_0x441f88(0x1e8)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x441f88(0x1cb)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x441f88(0x1dc)][_0x441f88(0x1d4)](_0x27d715,this['_objectRuleType']);}[a76_0x5b165e(0x1b9)](_0x59e58b){const _0x38a4a2=a76_0x5b165e;job_detail_1[_0x38a4a2(0x1d5)]['log'](_0x59e58b,this[_0x38a4a2(0x1e8)]),this[_0x38a4a2(0x1cb)][_0x38a4a2(0x1b9)](_0x59e58b,this['objectName']);}[a76_0x5b165e(0x1de)](_0x10c683){const _0x4dd335=a76_0x5b165e;job_detail_1[_0x4dd335(0x1d5)][_0x4dd335(0x1de)](_0x10c683,this[_0x4dd335(0x1e8)]),this['loggerDetails'][_0x4dd335(0x1c9)](_0x10c683[_0x4dd335(0x1e3)],this[_0x4dd335(0x1e8)]);}}exports[a76_0x5b165e(0x1c7)]=BaseStep;