const a59_0x53b660=a59_0x1f65;(function(_0x3d44aa,_0x38f8a8){const _0xe6c56d=a59_0x1f65,_0x238b53=_0x3d44aa();while(!![]){try{const _0x3ef969=-parseInt(_0xe6c56d(0x106))/0x1+-parseInt(_0xe6c56d(0xe6))/0x2*(parseInt(_0xe6c56d(0xf1))/0x3)+parseInt(_0xe6c56d(0xf5))/0x4*(parseInt(_0xe6c56d(0xf9))/0x5)+-parseInt(_0xe6c56d(0x10b))/0x6*(parseInt(_0xe6c56d(0xe9))/0x7)+-parseInt(_0xe6c56d(0xed))/0x8+-parseInt(_0xe6c56d(0xe4))/0x9*(parseInt(_0xe6c56d(0xf8))/0xa)+parseInt(_0xe6c56d(0x10c))/0xb;if(_0x3ef969===_0x38f8a8)break;else _0x238b53['push'](_0x238b53['shift']());}catch(_0x11826c){_0x238b53['push'](_0x238b53['shift']());}}}(a59_0x5790,0x74271));function a59_0x1f65(_0x4a1ed4,_0x2b4352){const _0x5002c8=a59_0x5790();return a59_0x1f65=function(_0x3d5e0e,_0x5f5ab3){_0x3d5e0e=_0x3d5e0e-0xe0;let _0x5790ba=_0x5002c8[_0x3d5e0e];return _0x5790ba;},a59_0x1f65(_0x4a1ed4,_0x2b4352);}const a59_0x5f5ab3=(function(){let _0x419302=!![];return function(_0x1498b4,_0xa7b6){const _0x4eee71=_0x419302?function(){const _0xf1bd42=a59_0x1f65;if(_0xa7b6){const _0x9835d9=_0xa7b6[_0xf1bd42(0xe1)](_0x1498b4,arguments);return _0xa7b6=null,_0x9835d9;}}:function(){};return _0x419302=![],_0x4eee71;};}()),a59_0x3d5e0e=a59_0x5f5ab3(this,function(){const _0x747e37=a59_0x1f65;return a59_0x3d5e0e['toString']()['search']('(((.+)+)+)+$')[_0x747e37(0x105)]()['constructor'](a59_0x3d5e0e)[_0x747e37(0xe0)](_0x747e37(0x103));});a59_0x3d5e0e();'use strict';Object['defineProperty'](exports,a59_0x53b660(0xec),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0x53b660(0xe2)),job_detail_1=require(a59_0x53b660(0xfb)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x36f4a6,loggerJobState:_0x4ff53e,objectName:_0x1d37f2,request:_0xaedef6,objectRule:_0x4ab808,objectDescribe:_0x481fd0}){const _0x2b9120=a59_0x53b660;this['fields']=[],this[_0x2b9120(0xfc)]=_0x36f4a6,this[_0x2b9120(0x107)]=_0x4ff53e,this['objectName']=_0x1d37f2,this[_0x2b9120(0xfe)]=_0xaedef6,this[_0x2b9120(0xe3)]=_0x4ab808[_0x2b9120(0x10d)],this[_0x2b9120(0x10a)]=_0x4ab808[_0x2b9120(0x109)],this[_0x2b9120(0xf3)]=_0x481fd0;}async[a59_0x53b660(0x108)](){const _0x5adeca=a59_0x53b660;try{const _0x12ff6d=new salesforce_1['QueryBuilder']()[_0x5adeca(0xef)](_0x5adeca(0xee))[_0x5adeca(0xeb)](this[_0x5adeca(0xf0)]);this[_0x5adeca(0xe3)]&&_0x12ff6d[_0x5adeca(0x100)](this[_0x5adeca(0xe3)]);const _0x1faaee=await salesforce_1[_0x5adeca(0x10e)][_0x5adeca(0x104)](this[_0x5adeca(0xfe)],{},_0x12ff6d[_0x5adeca(0x10f)](),![],constants_1[_0x5adeca(0xf6)]);return _0x1faaee['totalSize'];}catch(_0x16b812){return job_detail_1[_0x5adeca(0xf4)]['error'](_0x16b812),-0x1;}}[a59_0x53b660(0xfa)](){const _0x46fcec=a59_0x53b660,_0x5442f3={'request':this[_0x46fcec(0xfe)],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0x46fcec(0xf0)],'describe':this['objectDescribe']};return retrieve_factory_1[_0x46fcec(0xe8)][_0x46fcec(0xe5)](_0x5442f3,this[_0x46fcec(0x102)]);}[a59_0x53b660(0xff)](){const _0x3132ec=a59_0x53b660,_0x3e843e={'request':this[_0x3132ec(0xfe)],'objectName':this[_0x3132ec(0xf0)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3132ec(0xfc)],'loggerJobState':this[_0x3132ec(0x107)]};return deploy_factory_1[_0x3132ec(0xfd)][_0x3132ec(0xe5)](_0x3e843e,this[_0x3132ec(0x10a)]);}[a59_0x53b660(0xf2)](_0x17659e){const _0x2afd9d=a59_0x53b660;job_detail_1[_0x2afd9d(0xf4)][_0x2afd9d(0xf2)](_0x17659e,this[_0x2afd9d(0xf0)]),this['loggerDetails']['log'](_0x17659e,this[_0x2afd9d(0xf0)]);}[a59_0x53b660(0xea)](_0x244a2d){const _0x176708=a59_0x53b660;job_detail_1[_0x176708(0xf4)][_0x176708(0xea)](_0x244a2d,this['objectName']),this[_0x176708(0xfc)][_0x176708(0xf7)](_0x244a2d[_0x176708(0xe7)],this[_0x176708(0xf0)]);}}function a59_0x5790(){const _0x574e4f=['_objectRuleType','6kUIAMV','27166722zYqnSH','whereClause','QueryService','build','search','apply','../../deploy/deploy-factory','_whereClause','1161pVfSOc','create','48CkjJLx','message','RetrieveFactory','6523405VjZzGv','error','from','__esModule','1326696vwZlor','COUNT()','select','objectName','66894oZZDqa','log','objectDescribe','systemLogger','966360TEjdIv','SALESFORCE_API_VERSION','exception','56000tdqxRJ','10dXhTOk','getRetrieveStream','../../job-detail','loggerDetails','DeployFactory','request','getDeployStream','where','BaseStep','recordsCount','(((.+)+)+)+$','execute','toString','121817ocNcoL','loggerJobState','getRecordsCount','type'];a59_0x5790=function(){return _0x574e4f;};return a59_0x5790();}exports[a59_0x53b660(0x101)]=BaseStep;