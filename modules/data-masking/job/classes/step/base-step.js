const a76_0x3edeff=a76_0x1c0f;(function(_0x5bb4bb,_0x5e8d6e){const _0x2374ce=a76_0x1c0f,_0x256ad3=_0x5bb4bb();while(!![]){try{const _0x6e7bf3=-parseInt(_0x2374ce(0xb2))/0x1*(-parseInt(_0x2374ce(0x9a))/0x2)+-parseInt(_0x2374ce(0xa0))/0x3+parseInt(_0x2374ce(0x8e))/0x4*(parseInt(_0x2374ce(0xae))/0x5)+-parseInt(_0x2374ce(0xb0))/0x6+-parseInt(_0x2374ce(0xa1))/0x7*(parseInt(_0x2374ce(0x8b))/0x8)+-parseInt(_0x2374ce(0x93))/0x9+parseInt(_0x2374ce(0x8d))/0xa*(parseInt(_0x2374ce(0xb7))/0xb);if(_0x6e7bf3===_0x5e8d6e)break;else _0x256ad3['push'](_0x256ad3['shift']());}catch(_0x1e1dde){_0x256ad3['push'](_0x256ad3['shift']());}}}(a76_0xea1e,0x5f388));function a76_0x1c0f(_0x230351,_0x174feb){const _0x1f493c=a76_0xea1e();return a76_0x1c0f=function(_0x3fe09f,_0x15a3f8){_0x3fe09f=_0x3fe09f-0x8b;let _0xea1e36=_0x1f493c[_0x3fe09f];return _0xea1e36;},a76_0x1c0f(_0x230351,_0x174feb);}const a76_0x15a3f8=(function(){let _0x2f2259=!![];return function(_0x515864,_0x3b0828){const _0x2d283f=_0x2f2259?function(){const _0x384452=a76_0x1c0f;if(_0x3b0828){const _0x2b7f96=_0x3b0828[_0x384452(0xaf)](_0x515864,arguments);return _0x3b0828=null,_0x2b7f96;}}:function(){};return _0x2f2259=![],_0x2d283f;};}()),a76_0x3fe09f=a76_0x15a3f8(this,function(){const _0x4bcfe6=a76_0x1c0f;return a76_0x3fe09f[_0x4bcfe6(0xaa)]()[_0x4bcfe6(0xa8)](_0x4bcfe6(0xba))['toString']()[_0x4bcfe6(0x98)](a76_0x3fe09f)[_0x4bcfe6(0xa8)]('(((.+)+)+)+$');});a76_0x3fe09f();'use strict';Object['defineProperty'](exports,a76_0x3edeff(0x90),{'value':!![]}),exports[a76_0x3edeff(0x9c)]=void 0x0;const salesforce_1=require(a76_0x3edeff(0x9d)),retrieve_factory_1=require(a76_0x3edeff(0xb1)),constants_1=require('../../../constants'),deploy_factory_1=require(a76_0x3edeff(0x92)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';function a76_0xea1e(){const _0x144509=['45370VNavKC','6428TcQzTu','log','__esModule','RetrieveFactory','../../deploy/deploy-factory','6347079UBClQQ','totalSize','_objectRuleType','message','request','constructor','getRecordsCount','46nLpKUx','whereClause','BaseStep','@flosum/salesforce','select','type','1073406XQWNVe','10962OqVVYq','exception','loggerDetails','COUNT()','DeployFactory','fields','create','search','objectDescribe','toString','error','systemLogger','recordsCount','2190xVUxJk','apply','4469586SBHEiP','../../retrieve/retrieve-factory','27341GJSHCy','from','getRetrieveStream','objectName','loggerJobState','2189oflajm','_whereClause','execute','(((.+)+)+)+$','build','192wvmSAB','SALESFORCE_API_VERSION'];a76_0xea1e=function(){return _0x144509;};return a76_0xea1e();}class BaseStep{constructor({loggerDetails:_0xf40126,loggerJobState:_0x1253f7,objectName:_0x34b2a4,request:_0x43cb1f,objectRule:_0x5852e4,objectDescribe:_0x107344}){const _0x4d4b0f=a76_0x3edeff;this[_0x4d4b0f(0xa6)]=[],this[_0x4d4b0f(0xa3)]=_0xf40126,this[_0x4d4b0f(0xb6)]=_0x1253f7,this[_0x4d4b0f(0xb5)]=_0x34b2a4,this[_0x4d4b0f(0x97)]=_0x43cb1f,this[_0x4d4b0f(0xb8)]=_0x5852e4[_0x4d4b0f(0x9b)],this[_0x4d4b0f(0x95)]=_0x5852e4[_0x4d4b0f(0x9f)],this[_0x4d4b0f(0xa9)]=_0x107344;}async[a76_0x3edeff(0x99)](){const _0x2698f6=a76_0x3edeff;try{const _0x84dc8c=new salesforce_1['QueryBuilder']()[_0x2698f6(0x9e)](_0x2698f6(0xa4))[_0x2698f6(0xb3)](this[_0x2698f6(0xb5)]);this[_0x2698f6(0xb8)]&&_0x84dc8c['where'](this[_0x2698f6(0xb8)]);const _0x318051=await salesforce_1['QueryService'][_0x2698f6(0xb9)](this[_0x2698f6(0x97)],{},_0x84dc8c[_0x2698f6(0xbb)](),![],constants_1[_0x2698f6(0x8c)]);return _0x318051[_0x2698f6(0x94)];}catch(_0x328302){return job_detail_1[_0x2698f6(0xac)][_0x2698f6(0xab)](_0x328302),-0x1;}}[a76_0x3edeff(0xb4)](){const _0x23b20b=a76_0x3edeff,_0x11e1bd={'request':this[_0x23b20b(0x97)],'fields':this['fields'],'whereClause':this[_0x23b20b(0xb8)],'objectName':this[_0x23b20b(0xb5)],'describe':this[_0x23b20b(0xa9)]};return retrieve_factory_1[_0x23b20b(0x91)][_0x23b20b(0xa7)](_0x11e1bd,this[_0x23b20b(0xad)]);}['getDeployStream'](){const _0x3a936c=a76_0x3edeff,_0x1d2612={'request':this['request'],'objectName':this[_0x3a936c(0xb5)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3a936c(0xa3)],'loggerJobState':this[_0x3a936c(0xb6)]};return deploy_factory_1[_0x3a936c(0xa5)]['create'](_0x1d2612,this[_0x3a936c(0x95)]);}[a76_0x3edeff(0x8f)](_0x541694){const _0x5a4b93=a76_0x3edeff;job_detail_1[_0x5a4b93(0xac)][_0x5a4b93(0x8f)](_0x541694,this[_0x5a4b93(0xb5)]),this[_0x5a4b93(0xa3)][_0x5a4b93(0x8f)](_0x541694,this[_0x5a4b93(0xb5)]);}[a76_0x3edeff(0xab)](_0x39602e){const _0x40b4c1=a76_0x3edeff;job_detail_1[_0x40b4c1(0xac)][_0x40b4c1(0xab)](_0x39602e,this[_0x40b4c1(0xb5)]),this[_0x40b4c1(0xa3)][_0x40b4c1(0xa2)](_0x39602e[_0x40b4c1(0x96)],this[_0x40b4c1(0xb5)]);}}exports[a76_0x3edeff(0x9c)]=BaseStep;