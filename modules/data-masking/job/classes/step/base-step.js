const a76_0x324439=a76_0x264b;function a76_0x300a(){const _0x249d43=['(((.+)+)+)+$','totalSize','5270qboNwP','whereClause','BaseStep','getRetrieveStream','loggerDetails','select','fields','objectName','create','../../job-detail','getRecordsCount','44NLQAiN','22812MFfeZz','DeployFactory','73676ERCnDC','log','QueryBuilder','recordsCount','where','../../deploy/deploy-factory','constructor','../../../constants','loggerJobState','RetrieveFactory','123051wykMmi','objectDescribe','171xaFund','getDeployStream','request','916476gsFDhv','search','1314664IqoPnF','message','_whereClause','__esModule','defineProperty','SALESFORCE_API_VERSION','systemLogger','COUNT()','_objectRuleType','type','QueryService','40TdQDwi','toString','98245GKMEay','error','apply'];a76_0x300a=function(){return _0x249d43;};return a76_0x300a();}(function(_0x2cce60,_0x359246){const _0x1708c9=a76_0x264b,_0x455377=_0x2cce60();while(!![]){try{const _0x10334d=parseInt(_0x1708c9(0xea))/0x1+parseInt(_0x1708c9(0xdd))/0x2*(parseInt(_0x1708c9(0xde))/0x3)+parseInt(_0x1708c9(0xe0))/0x4*(-parseInt(_0x1708c9(0xcb))/0x5)+-parseInt(_0x1708c9(0xbe))/0x6+-parseInt(_0x1708c9(0xcd))/0x7+parseInt(_0x1708c9(0xc0))/0x8+-parseInt(_0x1708c9(0xec))/0x9*(parseInt(_0x1708c9(0xd2))/0xa);if(_0x10334d===_0x359246)break;else _0x455377['push'](_0x455377['shift']());}catch(_0x2c1841){_0x455377['push'](_0x455377['shift']());}}}(a76_0x300a,0x1fdde));function a76_0x264b(_0x302ed2,_0x1aedfc){const _0x197098=a76_0x300a();return a76_0x264b=function(_0x41d246,_0x43a6a8){_0x41d246=_0x41d246-0xbe;let _0x300ad=_0x197098[_0x41d246];return _0x300ad;},a76_0x264b(_0x302ed2,_0x1aedfc);}const a76_0x43a6a8=(function(){let _0x1fb68a=!![];return function(_0x3b2e5b,_0x51fcb8){const _0x193e31=_0x1fb68a?function(){const _0x18cd46=a76_0x264b;if(_0x51fcb8){const _0x54fd0c=_0x51fcb8[_0x18cd46(0xcf)](_0x3b2e5b,arguments);return _0x51fcb8=null,_0x54fd0c;}}:function(){};return _0x1fb68a=![],_0x193e31;};}()),a76_0x41d246=a76_0x43a6a8(this,function(){const _0x47ae16=a76_0x264b;return a76_0x41d246[_0x47ae16(0xcc)]()[_0x47ae16(0xbf)](_0x47ae16(0xd0))[_0x47ae16(0xcc)]()[_0x47ae16(0xe6)](a76_0x41d246)['search'](_0x47ae16(0xd0));});a76_0x41d246();'use strict';Object[a76_0x324439(0xc4)](exports,a76_0x324439(0xc3),{'value':!![]}),exports[a76_0x324439(0xd4)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a76_0x324439(0xe7)),deploy_factory_1=require(a76_0x324439(0xe5)),job_detail_1=require(a76_0x324439(0xdb)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x4accc1,loggerJobState:_0x46e01d,objectName:_0xd029e0,request:_0x31c4c5,objectRule:_0x41db83,objectDescribe:_0x54fd9c}){const _0x3709eb=a76_0x324439;this[_0x3709eb(0xd8)]=[],this[_0x3709eb(0xd6)]=_0x4accc1,this[_0x3709eb(0xe8)]=_0x46e01d,this[_0x3709eb(0xd9)]=_0xd029e0,this[_0x3709eb(0xee)]=_0x31c4c5,this['_whereClause']=_0x41db83[_0x3709eb(0xd3)],this[_0x3709eb(0xc8)]=_0x41db83[_0x3709eb(0xc9)],this[_0x3709eb(0xeb)]=_0x54fd9c;}async[a76_0x324439(0xdc)](){const _0x236d7a=a76_0x324439;try{const _0x19b02a=new salesforce_1[(_0x236d7a(0xe2))]()[_0x236d7a(0xd7)](_0x236d7a(0xc7))['from'](this[_0x236d7a(0xd9)]);this[_0x236d7a(0xc2)]&&_0x19b02a[_0x236d7a(0xe4)](this[_0x236d7a(0xc2)]);const _0x506110=await salesforce_1[_0x236d7a(0xca)]['execute'](this[_0x236d7a(0xee)],{},_0x19b02a['build'](),![],constants_1[_0x236d7a(0xc5)]);return _0x506110[_0x236d7a(0xd1)];}catch(_0x23654e){return job_detail_1[_0x236d7a(0xc6)][_0x236d7a(0xce)](_0x23654e),-0x1;}}[a76_0x324439(0xd5)](){const _0xf66b1b=a76_0x324439,_0x135d2e={'request':this['request'],'fields':this['fields'],'whereClause':this[_0xf66b1b(0xc2)],'objectName':this[_0xf66b1b(0xd9)],'describe':this[_0xf66b1b(0xeb)]};return retrieve_factory_1[_0xf66b1b(0xe9)][_0xf66b1b(0xda)](_0x135d2e,this[_0xf66b1b(0xe3)]);}[a76_0x324439(0xed)](){const _0x296a2f=a76_0x324439,_0x1fd6a4={'request':this[_0x296a2f(0xee)],'objectName':this[_0x296a2f(0xd9)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x296a2f(0xe8)]};return deploy_factory_1[_0x296a2f(0xdf)]['create'](_0x1fd6a4,this[_0x296a2f(0xc8)]);}[a76_0x324439(0xe1)](_0x35479c){const _0x3c67d9=a76_0x324439;job_detail_1[_0x3c67d9(0xc6)][_0x3c67d9(0xe1)](_0x35479c,this['objectName']),this[_0x3c67d9(0xd6)]['log'](_0x35479c,this['objectName']);}[a76_0x324439(0xce)](_0x3447b2){const _0x510b59=a76_0x324439;job_detail_1['systemLogger']['error'](_0x3447b2,this['objectName']),this['loggerDetails']['exception'](_0x3447b2[_0x510b59(0xc1)],this[_0x510b59(0xd9)]);}}exports[a76_0x324439(0xd4)]=BaseStep;