const a59_0x49f352=a59_0xe3a2;(function(_0x2b36d0,_0x104ddf){const _0x4ab3bf=a59_0xe3a2,_0xaf1b61=_0x2b36d0();while(!![]){try{const _0x542c3f=-parseInt(_0x4ab3bf(0xfd))/0x1*(-parseInt(_0x4ab3bf(0x116))/0x2)+-parseInt(_0x4ab3bf(0x10f))/0x3+parseInt(_0x4ab3bf(0xef))/0x4+-parseInt(_0x4ab3bf(0x114))/0x5+-parseInt(_0x4ab3bf(0xeb))/0x6*(parseInt(_0x4ab3bf(0xf6))/0x7)+-parseInt(_0x4ab3bf(0x118))/0x8+parseInt(_0x4ab3bf(0xe7))/0x9*(parseInt(_0x4ab3bf(0xe9))/0xa);if(_0x542c3f===_0x104ddf)break;else _0xaf1b61['push'](_0xaf1b61['shift']());}catch(_0x2ab184){_0xaf1b61['push'](_0xaf1b61['shift']());}}}(a59_0x145a,0x53952));function a59_0xe3a2(_0x5bc651,_0x66fffa){const _0x4c0206=a59_0x145a();return a59_0xe3a2=function(_0x131fd5,_0x1336cd){_0x131fd5=_0x131fd5-0xe6;let _0x145ab3=_0x4c0206[_0x131fd5];return _0x145ab3;},a59_0xe3a2(_0x5bc651,_0x66fffa);}const a59_0x1336cd=(function(){let _0xd6ef4=!![];return function(_0x2faa1f,_0x92cd95){const _0x42e2de=_0xd6ef4?function(){const _0x4c4759=a59_0xe3a2;if(_0x92cd95){const _0x26feff=_0x92cd95[_0x4c4759(0xf1)](_0x2faa1f,arguments);return _0x92cd95=null,_0x26feff;}}:function(){};return _0xd6ef4=![],_0x42e2de;};}()),a59_0x131fd5=a59_0x1336cd(this,function(){const _0x44cf1d=a59_0xe3a2;return a59_0x131fd5[_0x44cf1d(0x113)]()[_0x44cf1d(0xfe)](_0x44cf1d(0x112))[_0x44cf1d(0x113)]()[_0x44cf1d(0x107)](a59_0x131fd5)[_0x44cf1d(0xfe)](_0x44cf1d(0x112));});a59_0x131fd5();'use strict';function a59_0x145a(){const _0x2f7f88=['objectDescribe','(((.+)+)+)+$','toString','1803480MTDMXn','fields','12868tTeELF','execute','597816fHJybI','QueryService','12834YMtzSK','RetrieveFactory','5160sBzuLY','exception','6iUtuDO','request','type','@flosum/salesforce','1086616XRoDfT','../../deploy/deploy-factory','apply','log','getDeployStream','recordsCount','getRecordsCount','1100939DRydjY','error','SALESFORCE_API_VERSION','getRetrieveStream','objectName','DeployFactory','../../../constants','80RsXynh','search','__esModule','BaseStep','_whereClause','totalSize','from','QueryBuilder','where','loggerJobState','constructor','_objectRuleType','loggerDetails','COUNT()','systemLogger','create','message','../../job-detail','1761408OjwOQC','select'];a59_0x145a=function(){return _0x2f7f88;};return a59_0x145a();}Object['defineProperty'](exports,a59_0x49f352(0xff),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a59_0x49f352(0xee)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a59_0x49f352(0xfc)),deploy_factory_1=require(a59_0x49f352(0xf0)),job_detail_1=require(a59_0x49f352(0x10e)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x29e884,loggerJobState:_0x3c118e,objectName:_0xf1e68f,request:_0x1869cf,objectRule:_0x5102f8,objectDescribe:_0x17b9b8}){const _0x4e1458=a59_0x49f352;this[_0x4e1458(0x115)]=[],this[_0x4e1458(0x109)]=_0x29e884,this[_0x4e1458(0x106)]=_0x3c118e,this[_0x4e1458(0xfa)]=_0xf1e68f,this[_0x4e1458(0xec)]=_0x1869cf,this[_0x4e1458(0x101)]=_0x5102f8['whereClause'],this[_0x4e1458(0x108)]=_0x5102f8[_0x4e1458(0xed)],this[_0x4e1458(0x111)]=_0x17b9b8;}async[a59_0x49f352(0xf5)](){const _0x38a9ce=a59_0x49f352;try{const _0x2e9b04=new salesforce_1[(_0x38a9ce(0x104))]()[_0x38a9ce(0x110)](_0x38a9ce(0x10a))[_0x38a9ce(0x103)](this[_0x38a9ce(0xfa)]);this[_0x38a9ce(0x101)]&&_0x2e9b04[_0x38a9ce(0x105)](this[_0x38a9ce(0x101)]);const _0xf87812=await salesforce_1[_0x38a9ce(0xe6)][_0x38a9ce(0x117)](this[_0x38a9ce(0xec)],{},_0x2e9b04['build'](),![],constants_1[_0x38a9ce(0xf8)]);return _0xf87812[_0x38a9ce(0x102)];}catch(_0x146d94){return job_detail_1['systemLogger'][_0x38a9ce(0xf7)](_0x146d94),-0x1;}}[a59_0x49f352(0xf9)](){const _0x33d441=a59_0x49f352,_0x52324b={'request':this[_0x33d441(0xec)],'fields':this[_0x33d441(0x115)],'whereClause':this[_0x33d441(0x101)],'objectName':this['objectName'],'describe':this[_0x33d441(0x111)]};return retrieve_factory_1[_0x33d441(0xe8)][_0x33d441(0x10c)](_0x52324b,this[_0x33d441(0xf4)]);}[a59_0x49f352(0xf3)](){const _0x4e3ee1=a59_0x49f352,_0x4714c1={'request':this[_0x4e3ee1(0xec)],'objectName':this[_0x4e3ee1(0xfa)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x4e3ee1(0x106)]};return deploy_factory_1[_0x4e3ee1(0xfb)][_0x4e3ee1(0x10c)](_0x4714c1,this['_objectRuleType']);}[a59_0x49f352(0xf2)](_0x4f4f1e){const _0x4c4970=a59_0x49f352;job_detail_1['systemLogger'][_0x4c4970(0xf2)](_0x4f4f1e,this[_0x4c4970(0xfa)]),this[_0x4c4970(0x109)][_0x4c4970(0xf2)](_0x4f4f1e,this[_0x4c4970(0xfa)]);}[a59_0x49f352(0xf7)](_0x12e12a){const _0x3e7b3d=a59_0x49f352;job_detail_1[_0x3e7b3d(0x10b)][_0x3e7b3d(0xf7)](_0x12e12a,this['objectName']),this[_0x3e7b3d(0x109)][_0x3e7b3d(0xea)](_0x12e12a[_0x3e7b3d(0x10d)],this[_0x3e7b3d(0xfa)]);}}exports[a59_0x49f352(0x100)]=BaseStep;