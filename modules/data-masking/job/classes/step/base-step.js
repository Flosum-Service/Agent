const a58_0x2914ef=a58_0x49ea;function a58_0x49ea(_0x389331,_0xa48b90){const _0x3b2d90=a58_0x407d();return a58_0x49ea=function(_0x2a2334,_0x27a480){_0x2a2334=_0x2a2334-0xdf;let _0x407d5b=_0x3b2d90[_0x2a2334];return _0x407d5b;},a58_0x49ea(_0x389331,_0xa48b90);}(function(_0x4eb8c6,_0x3ea7a6){const _0x35693b=a58_0x49ea,_0x3736cd=_0x4eb8c6();while(!![]){try{const _0x23839e=parseInt(_0x35693b(0xf3))/0x1*(parseInt(_0x35693b(0x10d))/0x2)+-parseInt(_0x35693b(0x10e))/0x3+-parseInt(_0x35693b(0xe4))/0x4*(parseInt(_0x35693b(0x101))/0x5)+parseInt(_0x35693b(0x105))/0x6*(parseInt(_0x35693b(0x10a))/0x7)+-parseInt(_0x35693b(0xf6))/0x8+-parseInt(_0x35693b(0xe9))/0x9*(-parseInt(_0x35693b(0xe2))/0xa)+parseInt(_0x35693b(0xef))/0xb;if(_0x23839e===_0x3ea7a6)break;else _0x3736cd['push'](_0x3736cd['shift']());}catch(_0x9060cf){_0x3736cd['push'](_0x3736cd['shift']());}}}(a58_0x407d,0x5ce2f));const a58_0x27a480=(function(){let _0x5876e7=!![];return function(_0x177317,_0xfa2639){const _0xa7509e=_0x5876e7?function(){if(_0xfa2639){const _0x104dfc=_0xfa2639['apply'](_0x177317,arguments);return _0xfa2639=null,_0x104dfc;}}:function(){};return _0x5876e7=![],_0xa7509e;};}()),a58_0x2a2334=a58_0x27a480(this,function(){const _0x137992=a58_0x49ea;return a58_0x2a2334['toString']()[_0x137992(0x103)](_0x137992(0x107))[_0x137992(0xe6)]()[_0x137992(0xe7)](a58_0x2a2334)[_0x137992(0x103)](_0x137992(0x107));});a58_0x2a2334();'use strict';Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a58_0x2914ef(0xed)]=void 0x0;function a58_0x407d(){const _0x5abedd=['ASC','137oIIuqC','getDeployStream','message','2994480CFORqX','recordsCount','from','SortDirection','../../deploy/deploy-factory','QueryBuilder','_whereClause','@flosum/salesforce','create','log','fields','51910xlXFzc','select','search','../../job-detail','36YftpFI','objectName','(((.+)+)+)+$','type','getRetrieveStream','562282aEmvpp','systemLogger','exception','10088BycvYu','648204hRignP','where','../../../constants','DeployFactory','QueryService','_objectRuleType','execute','objectDescribe','2810ZRgRQP','../../retrieve/retrieve-factory','208oesRSZ','loggerJobState','toString','constructor','error','2727SNqYpI','request','loggerDetails','getRecordsCount','BaseStep','SALESFORCE_API_VERSION','2778358oqabFg','RetrieveFactory','build'];a58_0x407d=function(){return _0x5abedd;};return a58_0x407d();}const salesforce_1=require(a58_0x2914ef(0xfd)),retrieve_factory_1=require(a58_0x2914ef(0xe3)),constants_1=require(a58_0x2914ef(0x110)),deploy_factory_1=require(a58_0x2914ef(0xfa)),job_detail_1=require(a58_0x2914ef(0x104)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x5afbac,loggerJobState:_0x36da09,objectName:_0xcf2758,request:_0x575688,objectRule:_0x1d5866,objectDescribe:_0x8e5c2a}){const _0x1b7c5f=a58_0x2914ef;this[_0x1b7c5f(0x100)]=[],this[_0x1b7c5f(0xeb)]=_0x5afbac,this[_0x1b7c5f(0xe5)]=_0x36da09,this[_0x1b7c5f(0x106)]=_0xcf2758,this[_0x1b7c5f(0xea)]=_0x575688,this[_0x1b7c5f(0xfc)]=_0x1d5866['whereClause'],this[_0x1b7c5f(0xdf)]=_0x1d5866[_0x1b7c5f(0x108)],this[_0x1b7c5f(0xe1)]=_0x8e5c2a;}async[a58_0x2914ef(0xec)](){const _0x425b4e=a58_0x2914ef;try{const _0xe2c673=new salesforce_1[(_0x425b4e(0xfb))]()[_0x425b4e(0x102)]('COUNT()')[_0x425b4e(0xf8)](this[_0x425b4e(0x106)]);this[_0x425b4e(0xfc)]&&_0xe2c673[_0x425b4e(0x10f)](this[_0x425b4e(0xfc)]);const _0x6894c9=await salesforce_1[_0x425b4e(0x112)][_0x425b4e(0xe0)](this['request'],{},_0xe2c673[_0x425b4e(0xf1)](),![],constants_1[_0x425b4e(0xee)]);return _0x6894c9['totalSize'];}catch(_0x5a2697){return job_detail_1['systemLogger']['error'](_0x5a2697),-0x1;}}[a58_0x2914ef(0x109)](){const _0x1a1a4c=a58_0x2914ef,_0x37e7fd={'request':this[_0x1a1a4c(0xea)],'fields':this[_0x1a1a4c(0x100)],'whereClause':this[_0x1a1a4c(0xfc)],'objectName':this['objectName'],'describe':this[_0x1a1a4c(0xe1)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x1a1a4c(0xf9)][_0x1a1a4c(0xf2)]};return retrieve_factory_1[_0x1a1a4c(0xf0)][_0x1a1a4c(0xfe)](_0x37e7fd,this[_0x1a1a4c(0xf7)]);}[a58_0x2914ef(0xf4)](){const _0x3e304e=a58_0x2914ef,_0x247a29={'request':this[_0x3e304e(0xea)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x3e304e(0xe5)]};return deploy_factory_1[_0x3e304e(0x111)][_0x3e304e(0xfe)](_0x247a29,this[_0x3e304e(0xdf)]);}[a58_0x2914ef(0xff)](_0x3f804d){const _0x54c488=a58_0x2914ef;job_detail_1[_0x54c488(0x10b)][_0x54c488(0xff)](_0x3f804d,this[_0x54c488(0x106)]),this[_0x54c488(0xeb)][_0x54c488(0xff)](_0x3f804d,this[_0x54c488(0x106)]);}[a58_0x2914ef(0xe8)](_0x236428){const _0x23399b=a58_0x2914ef;job_detail_1[_0x23399b(0x10b)][_0x23399b(0xe8)](_0x236428,this[_0x23399b(0x106)]),this['loggerDetails'][_0x23399b(0x10c)](_0x236428[_0x23399b(0xf5)],this['objectName']);}}exports['BaseStep']=BaseStep;