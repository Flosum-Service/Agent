const a59_0x4a23ad=a59_0x3887;(function(_0x153414,_0x9c41ce){const _0x20522a=a59_0x3887,_0x59de5c=_0x153414();while(!![]){try{const _0x465ba8=parseInt(_0x20522a(0x1b9))/0x1*(-parseInt(_0x20522a(0x1ba))/0x2)+-parseInt(_0x20522a(0x1bc))/0x3+-parseInt(_0x20522a(0x1a8))/0x4+parseInt(_0x20522a(0x1c7))/0x5+-parseInt(_0x20522a(0x1af))/0x6*(-parseInt(_0x20522a(0x1a6))/0x7)+parseInt(_0x20522a(0x1bf))/0x8*(parseInt(_0x20522a(0x1a9))/0x9)+parseInt(_0x20522a(0x1bd))/0xa*(parseInt(_0x20522a(0x1b0))/0xb);if(_0x465ba8===_0x9c41ce)break;else _0x59de5c['push'](_0x59de5c['shift']());}catch(_0x6e9c4e){_0x59de5c['push'](_0x59de5c['shift']());}}}(a59_0x9f70,0x1c9be));const a59_0xdb872e=(function(){let _0x245719=!![];return function(_0x2752a3,_0x10cfe2){const _0x1a4ca9=_0x245719?function(){const _0x5f2b2e=a59_0x3887;if(_0x10cfe2){const _0x1d6d83=_0x10cfe2[_0x5f2b2e(0x1c8)](_0x2752a3,arguments);return _0x10cfe2=null,_0x1d6d83;}}:function(){};return _0x245719=![],_0x1a4ca9;};}()),a59_0x10ae92=a59_0xdb872e(this,function(){const _0x208363=a59_0x3887;return a59_0x10ae92[_0x208363(0x1bb)]()[_0x208363(0x1b7)](_0x208363(0x1ab))[_0x208363(0x1bb)]()[_0x208363(0x1c0)](a59_0x10ae92)[_0x208363(0x1b7)](_0x208363(0x1ab));});function a59_0x3887(_0x3c4a6b,_0x1c5eff){const _0x4e25ee=a59_0x9f70();return a59_0x3887=function(_0x10ae92,_0xdb872e){_0x10ae92=_0x10ae92-0x19c;let _0x9f7034=_0x4e25ee[_0x10ae92];return _0x9f7034;},a59_0x3887(_0x3c4a6b,_0x1c5eff);}a59_0x10ae92();'use strict';function a59_0x9f70(){const _0x493611=['75246xzjTEy','180NJkhVg','execute','2792YoPrXv','constructor','message','create','request','where','QueryBuilder','../../../constants','913930duZPev','apply','COUNT()','type','build','totalSize','BaseStep','fields','from','QueryService','exception','getDeployStream','select','loggerDetails','loggerJobState','recordsCount','systemLogger','_whereClause','168iZpAEL','error','915224mCCZob','2232eCSzUf','log','(((.+)+)+)+$','objectName','_objectRuleType','whereClause','330TsnKNm','112134pxwpGw','__esModule','RetrieveFactory','SALESFORCE_API_VERSION','DeployFactory','../../job-detail','objectDescribe','search','getRetrieveStream','83080KKgOSR','2futWtX','toString'];a59_0x9f70=function(){return _0x493611;};return a59_0x9f70();}Object['defineProperty'](exports,a59_0x4a23ad(0x1b1),{'value':!![]}),exports[a59_0x4a23ad(0x1cd)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a59_0x4a23ad(0x1c6)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x4a23ad(0x1b5)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x449740,loggerJobState:_0x1953d9,objectName:_0xc131a3,request:_0x5cc7d2,objectRule:_0x23c955,objectDescribe:_0x39266e}){const _0x10ba61=a59_0x4a23ad;this[_0x10ba61(0x1ce)]=[],this[_0x10ba61(0x1a1)]=_0x449740,this[_0x10ba61(0x1a2)]=_0x1953d9,this[_0x10ba61(0x1ac)]=_0xc131a3,this[_0x10ba61(0x1c3)]=_0x5cc7d2,this[_0x10ba61(0x1a5)]=_0x23c955[_0x10ba61(0x1ae)],this[_0x10ba61(0x1ad)]=_0x23c955[_0x10ba61(0x1ca)],this['objectDescribe']=_0x39266e;}async['getRecordsCount'](){const _0x5f432d=a59_0x4a23ad;try{const _0x341494=new salesforce_1[(_0x5f432d(0x1c5))]()[_0x5f432d(0x1a0)](_0x5f432d(0x1c9))[_0x5f432d(0x19c)](this[_0x5f432d(0x1ac)]);this[_0x5f432d(0x1a5)]&&_0x341494[_0x5f432d(0x1c4)](this['_whereClause']);const _0x3620f1=await salesforce_1[_0x5f432d(0x19d)][_0x5f432d(0x1be)](this[_0x5f432d(0x1c3)],{},_0x341494[_0x5f432d(0x1cb)](),![],constants_1[_0x5f432d(0x1b3)]);return _0x3620f1[_0x5f432d(0x1cc)];}catch(_0x281850){return job_detail_1['systemLogger'][_0x5f432d(0x1a7)](_0x281850),-0x1;}}[a59_0x4a23ad(0x1b8)](){const _0x27085a=a59_0x4a23ad,_0x120e23={'request':this[_0x27085a(0x1c3)],'fields':this['fields'],'whereClause':this[_0x27085a(0x1a5)],'objectName':this['objectName'],'describe':this[_0x27085a(0x1b6)]};return retrieve_factory_1[_0x27085a(0x1b2)][_0x27085a(0x1c2)](_0x120e23,this[_0x27085a(0x1a3)]);}[a59_0x4a23ad(0x19f)](){const _0x3d4466=a59_0x4a23ad,_0x9339b5={'request':this[_0x3d4466(0x1c3)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x3d4466(0x1a1)],'loggerJobState':this[_0x3d4466(0x1a2)]};return deploy_factory_1[_0x3d4466(0x1b4)]['create'](_0x9339b5,this['_objectRuleType']);}['log'](_0x4b1dfd){const _0x5f1cb1=a59_0x4a23ad;job_detail_1[_0x5f1cb1(0x1a4)][_0x5f1cb1(0x1aa)](_0x4b1dfd,this[_0x5f1cb1(0x1ac)]),this[_0x5f1cb1(0x1a1)][_0x5f1cb1(0x1aa)](_0x4b1dfd,this[_0x5f1cb1(0x1ac)]);}[a59_0x4a23ad(0x1a7)](_0x3aeecc){const _0xab7f8d=a59_0x4a23ad;job_detail_1[_0xab7f8d(0x1a4)][_0xab7f8d(0x1a7)](_0x3aeecc,this[_0xab7f8d(0x1ac)]),this[_0xab7f8d(0x1a1)][_0xab7f8d(0x19e)](_0x3aeecc[_0xab7f8d(0x1c1)],this[_0xab7f8d(0x1ac)]);}}exports[a59_0x4a23ad(0x1cd)]=BaseStep;