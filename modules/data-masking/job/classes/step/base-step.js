const a59_0x4cd8da=a59_0x3632;(function(_0x23517a,_0x1133c0){const _0x890d4=a59_0x3632,_0x296333=_0x23517a();while(!![]){try{const _0x2d72e6=-parseInt(_0x890d4(0x104))/0x1*(parseInt(_0x890d4(0xfa))/0x2)+-parseInt(_0x890d4(0xf1))/0x3+-parseInt(_0x890d4(0x10b))/0x4*(-parseInt(_0x890d4(0xe9))/0x5)+-parseInt(_0x890d4(0xdf))/0x6+-parseInt(_0x890d4(0x107))/0x7*(-parseInt(_0x890d4(0x105))/0x8)+parseInt(_0x890d4(0xfe))/0x9+parseInt(_0x890d4(0xe3))/0xa;if(_0x2d72e6===_0x1133c0)break;else _0x296333['push'](_0x296333['shift']());}catch(_0x15764a){_0x296333['push'](_0x296333['shift']());}}}(a59_0x4f66,0xcd403));const a59_0x2bb5a3=(function(){let _0x40f411=!![];return function(_0x55abac,_0x4fe891){const _0x49b38c=_0x40f411?function(){if(_0x4fe891){const _0x3e5ccd=_0x4fe891['apply'](_0x55abac,arguments);return _0x4fe891=null,_0x3e5ccd;}}:function(){};return _0x40f411=![],_0x49b38c;};}()),a59_0x51b84a=a59_0x2bb5a3(this,function(){const _0x13ab7c=a59_0x3632;return a59_0x51b84a[_0x13ab7c(0xfc)]()[_0x13ab7c(0xe4)]('(((.+)+)+)+$')[_0x13ab7c(0xfc)]()[_0x13ab7c(0x106)](a59_0x51b84a)[_0x13ab7c(0xe4)](_0x13ab7c(0xed));});a59_0x51b84a();'use strict';Object[a59_0x4cd8da(0xf7)](exports,a59_0x4cd8da(0x103),{'value':!![]}),exports[a59_0x4cd8da(0x10c)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a59_0x4cd8da(0xf6)),constants_1=require(a59_0x4cd8da(0xf0)),deploy_factory_1=require(a59_0x4cd8da(0xf5)),job_detail_1=require(a59_0x4cd8da(0xea)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x27d3aa,loggerJobState:_0x1acf52,objectName:_0x2cab55,request:_0x56256d,objectRule:_0x3aa993,objectDescribe:_0x5687cc}){const _0x3fb1d9=a59_0x4cd8da;this[_0x3fb1d9(0x101)]=[],this[_0x3fb1d9(0xe0)]=_0x27d3aa,this['loggerJobState']=_0x1acf52,this[_0x3fb1d9(0xdc)]=_0x2cab55,this['request']=_0x56256d,this['_whereClause']=_0x3aa993[_0x3fb1d9(0xf9)],this[_0x3fb1d9(0xf2)]=_0x3aa993[_0x3fb1d9(0xff)],this[_0x3fb1d9(0xf8)]=_0x5687cc;}async['getRecordsCount'](){const _0x49465a=a59_0x4cd8da;try{const _0x5221d0=new salesforce_1[(_0x49465a(0xe8))]()[_0x49465a(0xe6)](_0x49465a(0xef))[_0x49465a(0xdb)](this[_0x49465a(0xdc)]);this[_0x49465a(0xf3)]&&_0x5221d0[_0x49465a(0xfb)](this['_whereClause']);const _0x44a6be=await salesforce_1[_0x49465a(0xeb)][_0x49465a(0xdd)](this[_0x49465a(0xe2)],{},_0x5221d0['build'](),![],constants_1[_0x49465a(0x100)]);return _0x44a6be[_0x49465a(0x10d)];}catch(_0x5bf7b5){return job_detail_1[_0x49465a(0x108)][_0x49465a(0xf4)](_0x5bf7b5),-0x1;}}[a59_0x4cd8da(0x10a)](){const _0x365f3d=a59_0x4cd8da,_0x2ad7de={'request':this[_0x365f3d(0xe2)],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0x365f3d(0xdc)],'describe':this[_0x365f3d(0xf8)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x365f3d(0x10e)][_0x365f3d(0xe1)]};return retrieve_factory_1[_0x365f3d(0x109)][_0x365f3d(0x102)](_0x2ad7de,this['recordsCount']);}[a59_0x4cd8da(0xfd)](){const _0xba9564=a59_0x4cd8da,_0x3814bf={'request':this['request'],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0xba9564(0xe0)],'loggerJobState':this[_0xba9564(0xec)]};return deploy_factory_1[_0xba9564(0xde)][_0xba9564(0x102)](_0x3814bf,this[_0xba9564(0xf2)]);}['log'](_0x161bd7){const _0x383ded=a59_0x4cd8da;job_detail_1[_0x383ded(0x108)][_0x383ded(0xe7)](_0x161bd7,this[_0x383ded(0xdc)]),this['loggerDetails'][_0x383ded(0xe7)](_0x161bd7,this[_0x383ded(0xdc)]);}[a59_0x4cd8da(0xf4)](_0x355cde){const _0x4055b3=a59_0x4cd8da;job_detail_1['systemLogger'][_0x4055b3(0xf4)](_0x355cde,this[_0x4055b3(0xdc)]),this['loggerDetails'][_0x4055b3(0xe5)](_0x355cde[_0x4055b3(0xee)],this[_0x4055b3(0xdc)]);}}function a59_0x4f66(){const _0x321a97=['objectDescribe','whereClause','2GtrHqu','where','toString','getDeployStream','10063773PQWroD','type','SALESFORCE_API_VERSION','fields','create','__esModule','1217675TkDTnQ','2454176RSBbCQ','constructor','7VkEBXI','systemLogger','RetrieveFactory','getRetrieveStream','83420zWrAuK','BaseStep','totalSize','SortDirection','from','objectName','execute','DeployFactory','4551360DNttFC','loggerDetails','ASC','request','9888030gkNIfF','search','exception','select','log','QueryBuilder','300uocPqG','../../job-detail','QueryService','loggerJobState','(((.+)+)+)+$','message','COUNT()','../../../constants','2544390EnHXUc','_objectRuleType','_whereClause','error','../../deploy/deploy-factory','../../retrieve/retrieve-factory','defineProperty'];a59_0x4f66=function(){return _0x321a97;};return a59_0x4f66();}function a59_0x3632(_0x574b74,_0x1f5c31){const _0x193045=a59_0x4f66();return a59_0x3632=function(_0x51b84a,_0x2bb5a3){_0x51b84a=_0x51b84a-0xdb;let _0x4f664c=_0x193045[_0x51b84a];return _0x4f664c;},a59_0x3632(_0x574b74,_0x1f5c31);}exports[a59_0x4cd8da(0x10c)]=BaseStep;