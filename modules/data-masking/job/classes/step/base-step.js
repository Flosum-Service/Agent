const a59_0x3fa879=a59_0x5be7;(function(_0x47f24d,_0x41e2e5){const _0x399f12=a59_0x5be7,_0x5ede64=_0x47f24d();while(!![]){try{const _0x20aebd=parseInt(_0x399f12(0x18a))/0x1+parseInt(_0x399f12(0x19f))/0x2*(parseInt(_0x399f12(0x183))/0x3)+-parseInt(_0x399f12(0x19c))/0x4*(parseInt(_0x399f12(0x185))/0x5)+parseInt(_0x399f12(0x192))/0x6+parseInt(_0x399f12(0x187))/0x7*(-parseInt(_0x399f12(0x196))/0x8)+parseInt(_0x399f12(0x18f))/0x9*(-parseInt(_0x399f12(0x179))/0xa)+-parseInt(_0x399f12(0x182))/0xb*(parseInt(_0x399f12(0x17f))/0xc);if(_0x20aebd===_0x41e2e5)break;else _0x5ede64['push'](_0x5ede64['shift']());}catch(_0x3b1da6){_0x5ede64['push'](_0x5ede64['shift']());}}}(a59_0x3d03,0xcf92c));const a59_0x1b135e=(function(){let _0x4b289e=!![];return function(_0x385519,_0xb617fe){const _0x2f98f8=_0x4b289e?function(){const _0x153c99=a59_0x5be7;if(_0xb617fe){const _0x17d84e=_0xb617fe[_0x153c99(0x19d)](_0x385519,arguments);return _0xb617fe=null,_0x17d84e;}}:function(){};return _0x4b289e=![],_0x2f98f8;};}()),a59_0x2488de=a59_0x1b135e(this,function(){const _0x2272c5=a59_0x5be7;return a59_0x2488de[_0x2272c5(0x18d)]()[_0x2272c5(0x17a)](_0x2272c5(0x188))[_0x2272c5(0x18d)]()['constructor'](a59_0x2488de)[_0x2272c5(0x17a)](_0x2272c5(0x188));});a59_0x2488de();'use strict';function a59_0x5be7(_0x3ca100,_0x27167b){const _0xe835bd=a59_0x3d03();return a59_0x5be7=function(_0x2488de,_0x1b135e){_0x2488de=_0x2488de-0x178;let _0x3d038a=_0xe835bd[_0x2488de];return _0x3d038a;},a59_0x5be7(_0x3ca100,_0x27167b);}Object['defineProperty'](exports,a59_0x3fa879(0x197),{'value':!![]}),exports[a59_0x3fa879(0x1a2)]=void 0x0;function a59_0x3d03(){const _0x285b78=['message','664zhXgHp','apply','where','4wnQucT','systemLogger','../../../constants','BaseStep','@flosum/salesforce','objectName','../../job-detail','create','from','1425290RlZimf','search','getRetrieveStream','fields','totalSize','log','552cAeRHs','DeployFactory','../../deploy/deploy-factory','397067SzFSQy','399384TGIKOI','QueryService','2245tKySRi','_whereClause','393750uJeOln','(((.+)+)+)+$','RetrieveFactory','1501018YiilzE','recordsCount','error','toString','QueryBuilder','9mBbayR','SortDirection','_objectRuleType','9137826LNehNn','request','../../retrieve/retrieve-factory','getDeployStream','80kIInpd','__esModule','loggerDetails','type','getRecordsCount'];a59_0x3d03=function(){return _0x285b78;};return a59_0x3d03();}const salesforce_1=require(a59_0x3fa879(0x1a3)),retrieve_factory_1=require(a59_0x3fa879(0x194)),constants_1=require(a59_0x3fa879(0x1a1)),deploy_factory_1=require(a59_0x3fa879(0x181)),job_detail_1=require(a59_0x3fa879(0x1a5)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x2f3148,loggerJobState:_0x449dae,objectName:_0x350aa9,request:_0x24c61c,objectRule:_0x559218,objectDescribe:_0x48935a}){const _0x1bcaf1=a59_0x3fa879;this['fields']=[],this[_0x1bcaf1(0x198)]=_0x2f3148,this['loggerJobState']=_0x449dae,this['objectName']=_0x350aa9,this['request']=_0x24c61c,this['_whereClause']=_0x559218['whereClause'],this[_0x1bcaf1(0x191)]=_0x559218[_0x1bcaf1(0x199)],this['objectDescribe']=_0x48935a;}async[a59_0x3fa879(0x19a)](){const _0x43cea4=a59_0x3fa879;try{const _0x221e15=new salesforce_1[(_0x43cea4(0x18e))]()['select']('COUNT()')[_0x43cea4(0x178)](this['objectName']);this[_0x43cea4(0x186)]&&_0x221e15[_0x43cea4(0x19e)](this[_0x43cea4(0x186)]);const _0xfc96b9=await salesforce_1[_0x43cea4(0x184)]['execute'](this[_0x43cea4(0x193)],{},_0x221e15['build'](),![],constants_1['SALESFORCE_API_VERSION']);return _0xfc96b9[_0x43cea4(0x17d)];}catch(_0xd5b1f8){return job_detail_1[_0x43cea4(0x1a0)][_0x43cea4(0x18c)](_0xd5b1f8),-0x1;}}[a59_0x3fa879(0x17b)](){const _0x128318=a59_0x3fa879,_0x5098c0={'request':this['request'],'fields':this[_0x128318(0x17c)],'whereClause':this[_0x128318(0x186)],'objectName':this[_0x128318(0x1a4)],'describe':this['objectDescribe'],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x128318(0x190)]['ASC']};return retrieve_factory_1[_0x128318(0x189)][_0x128318(0x1a6)](_0x5098c0,this[_0x128318(0x18b)]);}[a59_0x3fa879(0x195)](){const _0x96f8bc=a59_0x3fa879,_0x365150={'request':this[_0x96f8bc(0x193)],'objectName':this[_0x96f8bc(0x1a4)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x96f8bc(0x198)],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x96f8bc(0x180)][_0x96f8bc(0x1a6)](_0x365150,this[_0x96f8bc(0x191)]);}[a59_0x3fa879(0x17e)](_0x42aa1e){const _0x3eabdd=a59_0x3fa879;job_detail_1['systemLogger'][_0x3eabdd(0x17e)](_0x42aa1e,this[_0x3eabdd(0x1a4)]),this[_0x3eabdd(0x198)]['log'](_0x42aa1e,this[_0x3eabdd(0x1a4)]);}[a59_0x3fa879(0x18c)](_0x491c74){const _0xcf6b26=a59_0x3fa879;job_detail_1[_0xcf6b26(0x1a0)][_0xcf6b26(0x18c)](_0x491c74,this[_0xcf6b26(0x1a4)]),this[_0xcf6b26(0x198)]['exception'](_0x491c74[_0xcf6b26(0x19b)],this[_0xcf6b26(0x1a4)]);}}exports[a59_0x3fa879(0x1a2)]=BaseStep;