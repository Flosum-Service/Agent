function a59_0x45f0(_0x1a56fe,_0x18dfd7){const _0x1d38bd=a59_0x38e2();return a59_0x45f0=function(_0x28953a,_0x401ad3){_0x28953a=_0x28953a-0x67;let _0x38e27a=_0x1d38bd[_0x28953a];return _0x38e27a;},a59_0x45f0(_0x1a56fe,_0x18dfd7);}const a59_0x12bde9=a59_0x45f0;(function(_0x199866,_0x2804d6){const _0x135ada=a59_0x45f0,_0x54c9ac=_0x199866();while(!![]){try{const _0x69b07a=-parseInt(_0x135ada(0x7b))/0x1+parseInt(_0x135ada(0x85))/0x2+parseInt(_0x135ada(0x67))/0x3+-parseInt(_0x135ada(0x81))/0x4+-parseInt(_0x135ada(0x68))/0x5+-parseInt(_0x135ada(0x87))/0x6*(-parseInt(_0x135ada(0x6d))/0x7)+parseInt(_0x135ada(0x8d))/0x8;if(_0x69b07a===_0x2804d6)break;else _0x54c9ac['push'](_0x54c9ac['shift']());}catch(_0x452904){_0x54c9ac['push'](_0x54c9ac['shift']());}}}(a59_0x38e2,0x935d4));const a59_0x401ad3=(function(){let _0x555ce4=!![];return function(_0x2da4d1,_0x2a9a14){const _0xbf2674=_0x555ce4?function(){const _0x223fe4=a59_0x45f0;if(_0x2a9a14){const _0x3ac16f=_0x2a9a14[_0x223fe4(0x6e)](_0x2da4d1,arguments);return _0x2a9a14=null,_0x3ac16f;}}:function(){};return _0x555ce4=![],_0xbf2674;};}()),a59_0x28953a=a59_0x401ad3(this,function(){const _0x280c32=a59_0x45f0;return a59_0x28953a['toString']()[_0x280c32(0x6f)]('(((.+)+)+)+$')[_0x280c32(0x94)]()[_0x280c32(0x73)](a59_0x28953a)['search'](_0x280c32(0x90));});function a59_0x38e2(){const _0x306119=['build','loggerJobState','171752BZpOMr','../../job-detail','fields','(((.+)+)+)+$','select','getDeployStream','../../deploy/deploy-factory','toString','whereClause','3133296rbHDcU','4982225bASKup','getRecordsCount','request','getRetrieveStream','where','7cIMHrr','apply','search','from','COUNT()','_objectRuleType','constructor','totalSize','error','systemLogger','exception','execute','BaseStep','log','115582yyMakq','loggerDetails','defineProperty','@flosum/salesforce','create','_whereClause','2390288bPSERC','../../retrieve/retrieve-factory','__esModule','message','110066VHgHuO','QueryBuilder','7153614ukWkoB','objectDescribe','objectName','recordsCount'];a59_0x38e2=function(){return _0x306119;};return a59_0x38e2();}a59_0x28953a();'use strict';Object[a59_0x12bde9(0x7d)](exports,a59_0x12bde9(0x83),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a59_0x12bde9(0x7e)),retrieve_factory_1=require(a59_0x12bde9(0x82)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0x12bde9(0x93)),job_detail_1=require(a59_0x12bde9(0x8e)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x3d49ad,loggerJobState:_0x2340b3,objectName:_0x165e1c,request:_0xa35296,objectRule:_0x4971d5,objectDescribe:_0x592b91}){const _0x1b4d61=a59_0x12bde9;this[_0x1b4d61(0x8f)]=[],this[_0x1b4d61(0x7c)]=_0x3d49ad,this['loggerJobState']=_0x2340b3,this[_0x1b4d61(0x89)]=_0x165e1c,this[_0x1b4d61(0x6a)]=_0xa35296,this[_0x1b4d61(0x80)]=_0x4971d5[_0x1b4d61(0x95)],this[_0x1b4d61(0x72)]=_0x4971d5['type'],this[_0x1b4d61(0x88)]=_0x592b91;}async[a59_0x12bde9(0x69)](){const _0x2ab713=a59_0x12bde9;try{const _0x1eb0bf=new salesforce_1[(_0x2ab713(0x86))]()[_0x2ab713(0x91)](_0x2ab713(0x71))[_0x2ab713(0x70)](this[_0x2ab713(0x89)]);this['_whereClause']&&_0x1eb0bf[_0x2ab713(0x6c)](this['_whereClause']);const _0x5e407f=await salesforce_1['QueryService'][_0x2ab713(0x78)](this[_0x2ab713(0x6a)],{},_0x1eb0bf[_0x2ab713(0x8b)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x5e407f[_0x2ab713(0x74)];}catch(_0x35081b){return job_detail_1['systemLogger'][_0x2ab713(0x75)](_0x35081b),-0x1;}}[a59_0x12bde9(0x6b)](){const _0x3424b3=a59_0x12bde9,_0x11e9c1={'request':this[_0x3424b3(0x6a)],'fields':this['fields'],'whereClause':this[_0x3424b3(0x80)],'objectName':this[_0x3424b3(0x89)],'describe':this[_0x3424b3(0x88)]};return retrieve_factory_1['RetrieveFactory'][_0x3424b3(0x7f)](_0x11e9c1,this[_0x3424b3(0x8a)]);}[a59_0x12bde9(0x92)](){const _0x2f7207=a59_0x12bde9,_0x26e60b={'request':this[_0x2f7207(0x6a)],'objectName':this[_0x2f7207(0x89)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x2f7207(0x7c)],'loggerJobState':this[_0x2f7207(0x8c)]};return deploy_factory_1['DeployFactory']['create'](_0x26e60b,this['_objectRuleType']);}['log'](_0x2ca9f9){const _0x4237f4=a59_0x12bde9;job_detail_1['systemLogger'][_0x4237f4(0x7a)](_0x2ca9f9,this['objectName']),this[_0x4237f4(0x7c)][_0x4237f4(0x7a)](_0x2ca9f9,this[_0x4237f4(0x89)]);}[a59_0x12bde9(0x75)](_0x2554c9){const _0x4c9fc5=a59_0x12bde9;job_detail_1[_0x4c9fc5(0x76)]['error'](_0x2554c9,this[_0x4c9fc5(0x89)]),this[_0x4c9fc5(0x7c)][_0x4c9fc5(0x77)](_0x2554c9[_0x4c9fc5(0x84)],this[_0x4c9fc5(0x89)]);}}exports[a59_0x12bde9(0x79)]=BaseStep;