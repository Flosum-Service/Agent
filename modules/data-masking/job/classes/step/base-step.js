const a59_0xed5fba=a59_0x2965;(function(_0x2178ad,_0x1a381e){const _0x72850a=a59_0x2965,_0x4bebe0=_0x2178ad();while(!![]){try{const _0x2a4716=parseInt(_0x72850a(0x84))/0x1*(parseInt(_0x72850a(0x83))/0x2)+-parseInt(_0x72850a(0x9d))/0x3*(-parseInt(_0x72850a(0x93))/0x4)+parseInt(_0x72850a(0x79))/0x5+-parseInt(_0x72850a(0xa3))/0x6*(-parseInt(_0x72850a(0x9c))/0x7)+parseInt(_0x72850a(0x99))/0x8+parseInt(_0x72850a(0x8e))/0x9*(-parseInt(_0x72850a(0x98))/0xa)+parseInt(_0x72850a(0x8c))/0xb*(-parseInt(_0x72850a(0xa7))/0xc);if(_0x2a4716===_0x1a381e)break;else _0x4bebe0['push'](_0x4bebe0['shift']());}catch(_0x17d01e){_0x4bebe0['push'](_0x4bebe0['shift']());}}}(a59_0x5a6b,0x4ede5));const a59_0x21521b=(function(){let _0x1e0f7d=!![];return function(_0x5475b5,_0x8116ae){const _0x29293f=_0x1e0f7d?function(){const _0x141132=a59_0x2965;if(_0x8116ae){const _0x2e191c=_0x8116ae[_0x141132(0x8d)](_0x5475b5,arguments);return _0x8116ae=null,_0x2e191c;}}:function(){};return _0x1e0f7d=![],_0x29293f;};}()),a59_0x52faab=a59_0x21521b(this,function(){const _0x2316b2=a59_0x2965;return a59_0x52faab[_0x2316b2(0xa4)]()[_0x2316b2(0xa6)](_0x2316b2(0x94))[_0x2316b2(0xa4)]()['constructor'](a59_0x52faab)[_0x2316b2(0xa6)]('(((.+)+)+)+$');});a59_0x52faab();'use strict';Object[a59_0xed5fba(0x88)](exports,'__esModule',{'value':!![]}),exports[a59_0xed5fba(0x82)]=void 0x0;function a59_0x2965(_0x5b5674,_0x360f43){const _0x2eeedb=a59_0x5a6b();return a59_0x2965=function(_0x52faab,_0x21521b){_0x52faab=_0x52faab-0x79;let _0x5a6b09=_0x2eeedb[_0x52faab];return _0x5a6b09;},a59_0x2965(_0x5b5674,_0x360f43);}const salesforce_1=require(a59_0xed5fba(0x96)),retrieve_factory_1=require(a59_0xed5fba(0x7b)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0xed5fba(0x7f)),job_detail_1=require(a59_0xed5fba(0x86)),FIELD_ID='Id';function a59_0x5a6b(){const _0x5ed0ff=['message','systemLogger','select','create','337908SWiitM','(((.+)+)+)+$','loggerJobState','@flosum/salesforce','execute','20thSrwv','4479080qMVSNx','getDeployStream','totalSize','56PaFjQo','21DECYRq','RetrieveFactory','getRetrieveStream','error','type','fields','135804WwlBFo','toString','log','search','840fMFQcn','SALESFORCE_API_VERSION','DeployFactory','704870WFEdRz','getRecordsCount','../../retrieve/retrieve-factory','objectDescribe','objectName','from','../../deploy/deploy-factory','_whereClause','QueryService','BaseStep','106OmYUPm','3313BseMvc','loggerDetails','../../job-detail','COUNT()','defineProperty','request','exception','_objectRuleType','182567PfQCiH','apply','738108ZmmPTG'];a59_0x5a6b=function(){return _0x5ed0ff;};return a59_0x5a6b();}class BaseStep{constructor({loggerDetails:_0x582802,loggerJobState:_0x5d9d98,objectName:_0x380779,request:_0x2e9fef,objectRule:_0x3bbda6,objectDescribe:_0x35be48}){const _0x4d4980=a59_0xed5fba;this[_0x4d4980(0xa2)]=[],this[_0x4d4980(0x85)]=_0x582802,this[_0x4d4980(0x95)]=_0x5d9d98,this[_0x4d4980(0x7d)]=_0x380779,this[_0x4d4980(0x89)]=_0x2e9fef,this[_0x4d4980(0x80)]=_0x3bbda6['whereClause'],this[_0x4d4980(0x8b)]=_0x3bbda6[_0x4d4980(0xa1)],this[_0x4d4980(0x7c)]=_0x35be48;}async[a59_0xed5fba(0x7a)](){const _0x216ede=a59_0xed5fba;try{const _0x1ea706=new salesforce_1['QueryBuilder']()[_0x216ede(0x91)](_0x216ede(0x87))[_0x216ede(0x7e)](this['objectName']);this[_0x216ede(0x80)]&&_0x1ea706['where'](this[_0x216ede(0x80)]);const _0x372d55=await salesforce_1[_0x216ede(0x81)][_0x216ede(0x97)](this[_0x216ede(0x89)],{},_0x1ea706['build'](),![],constants_1[_0x216ede(0xa8)]);return _0x372d55[_0x216ede(0x9b)];}catch(_0x2d2000){return job_detail_1[_0x216ede(0x90)][_0x216ede(0xa0)](_0x2d2000),-0x1;}}[a59_0xed5fba(0x9f)](){const _0x18cc5e=a59_0xed5fba,_0x53582c={'request':this['request'],'fields':this[_0x18cc5e(0xa2)],'whereClause':this[_0x18cc5e(0x80)],'objectName':this[_0x18cc5e(0x7d)],'describe':this['objectDescribe']};return retrieve_factory_1[_0x18cc5e(0x9e)][_0x18cc5e(0x92)](_0x53582c,this['recordsCount']);}[a59_0xed5fba(0x9a)](){const _0xc6067=a59_0xed5fba,_0x53058e={'request':this[_0xc6067(0x89)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0xc6067(0x95)]};return deploy_factory_1[_0xc6067(0xa9)][_0xc6067(0x92)](_0x53058e,this[_0xc6067(0x8b)]);}[a59_0xed5fba(0xa5)](_0x47edfe){const _0x681d74=a59_0xed5fba;job_detail_1[_0x681d74(0x90)][_0x681d74(0xa5)](_0x47edfe,this['objectName']),this[_0x681d74(0x85)][_0x681d74(0xa5)](_0x47edfe,this[_0x681d74(0x7d)]);}[a59_0xed5fba(0xa0)](_0x240270){const _0x3fa47c=a59_0xed5fba;job_detail_1[_0x3fa47c(0x90)]['error'](_0x240270,this['objectName']),this[_0x3fa47c(0x85)][_0x3fa47c(0x8a)](_0x240270[_0x3fa47c(0x8f)],this[_0x3fa47c(0x7d)]);}}exports[a59_0xed5fba(0x82)]=BaseStep;