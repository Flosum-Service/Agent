function a59_0x1b0e(_0x46f3fb,_0x59c863){const _0xe1f192=a59_0x51f7();return a59_0x1b0e=function(_0x58fd0a,_0x2808e0){_0x58fd0a=_0x58fd0a-0xb6;let _0x51f753=_0xe1f192[_0x58fd0a];return _0x51f753;},a59_0x1b0e(_0x46f3fb,_0x59c863);}const a59_0x9caa7b=a59_0x1b0e;(function(_0xbf91e8,_0x378901){const _0xded96b=a59_0x1b0e,_0x2475d3=_0xbf91e8();while(!![]){try{const _0x1de4ca=-parseInt(_0xded96b(0xdd))/0x1*(-parseInt(_0xded96b(0xe4))/0x2)+-parseInt(_0xded96b(0xc4))/0x3+-parseInt(_0xded96b(0xba))/0x4*(parseInt(_0xded96b(0xdc))/0x5)+-parseInt(_0xded96b(0xc3))/0x6+-parseInt(_0xded96b(0xda))/0x7*(-parseInt(_0xded96b(0xc6))/0x8)+parseInt(_0xded96b(0xbf))/0x9*(-parseInt(_0xded96b(0xd3))/0xa)+parseInt(_0xded96b(0xc0))/0xb;if(_0x1de4ca===_0x378901)break;else _0x2475d3['push'](_0x2475d3['shift']());}catch(_0x2c854c){_0x2475d3['push'](_0x2475d3['shift']());}}}(a59_0x51f7,0xd1553));function a59_0x51f7(){const _0x5075fd=['478700hqUxOq','systemLogger','RetrieveFactory','DeployFactory','apply','error','create','147kHdnuW','(((.+)+)+)+$','129260IoXCuG','267636ytCXce','search','toString','QueryBuilder','getRetrieveStream','../../retrieve/retrieve-factory','loggerDetails','8ByciZT','getDeployStream','objectName','build','where','4cxviUP','SALESFORCE_API_VERSION','type','__esModule','whereClause','297vpsWVH','48175589QMwSMX','defineProperty','../../job-detail','9645402yZSjgn','4437507ChFBKO','execute','37936CBtjMA','loggerJobState','_objectRuleType','_whereClause','@flosum/salesforce','fields','log','request','message','objectDescribe','BaseStep','../../deploy/deploy-factory','select'];a59_0x51f7=function(){return _0x5075fd;};return a59_0x51f7();}const a59_0x2808e0=(function(){let _0x2181b4=!![];return function(_0x38d80b,_0x132266){const _0x27d64b=_0x2181b4?function(){const _0x1c4456=a59_0x1b0e;if(_0x132266){const _0x3e2a2a=_0x132266[_0x1c4456(0xd7)](_0x38d80b,arguments);return _0x132266=null,_0x3e2a2a;}}:function(){};return _0x2181b4=![],_0x27d64b;};}()),a59_0x58fd0a=a59_0x2808e0(this,function(){const _0x400fcc=a59_0x1b0e;return a59_0x58fd0a['toString']()[_0x400fcc(0xde)](_0x400fcc(0xdb))[_0x400fcc(0xdf)]()['constructor'](a59_0x58fd0a)[_0x400fcc(0xde)](_0x400fcc(0xdb));});a59_0x58fd0a();'use strict';Object[a59_0x9caa7b(0xc1)](exports,a59_0x9caa7b(0xbd),{'value':!![]}),exports[a59_0x9caa7b(0xd0)]=void 0x0;const salesforce_1=require(a59_0x9caa7b(0xca)),retrieve_factory_1=require(a59_0x9caa7b(0xe2)),constants_1=require('../../../constants'),deploy_factory_1=require(a59_0x9caa7b(0xd1)),job_detail_1=require(a59_0x9caa7b(0xc2)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x47eb79,loggerJobState:_0xe34f07,objectName:_0xa68e0a,request:_0x4abe97,objectRule:_0x40a7f0,objectDescribe:_0x32d850}){const _0x2d9c93=a59_0x9caa7b;this[_0x2d9c93(0xcb)]=[],this[_0x2d9c93(0xe3)]=_0x47eb79,this[_0x2d9c93(0xc7)]=_0xe34f07,this[_0x2d9c93(0xb7)]=_0xa68e0a,this[_0x2d9c93(0xcd)]=_0x4abe97,this[_0x2d9c93(0xc9)]=_0x40a7f0[_0x2d9c93(0xbe)],this['_objectRuleType']=_0x40a7f0[_0x2d9c93(0xbc)],this['objectDescribe']=_0x32d850;}async['getRecordsCount'](){const _0xcdfb47=a59_0x9caa7b;try{const _0x32d902=new salesforce_1[(_0xcdfb47(0xe0))]()[_0xcdfb47(0xd2)]('COUNT()')['from'](this[_0xcdfb47(0xb7)]);this[_0xcdfb47(0xc9)]&&_0x32d902[_0xcdfb47(0xb9)](this[_0xcdfb47(0xc9)]);const _0x565652=await salesforce_1['QueryService'][_0xcdfb47(0xc5)](this[_0xcdfb47(0xcd)],{},_0x32d902[_0xcdfb47(0xb8)](),![],constants_1[_0xcdfb47(0xbb)]);return _0x565652['totalSize'];}catch(_0x536014){return job_detail_1['systemLogger'][_0xcdfb47(0xd8)](_0x536014),-0x1;}}[a59_0x9caa7b(0xe1)](){const _0x2ddb2a=a59_0x9caa7b,_0x4d3dd3={'request':this[_0x2ddb2a(0xcd)],'fields':this[_0x2ddb2a(0xcb)],'whereClause':this[_0x2ddb2a(0xc9)],'objectName':this['objectName'],'describe':this[_0x2ddb2a(0xcf)]};return retrieve_factory_1[_0x2ddb2a(0xd5)]['create'](_0x4d3dd3,this['recordsCount']);}[a59_0x9caa7b(0xb6)](){const _0x56dcf0=a59_0x9caa7b,_0x73937f={'request':this[_0x56dcf0(0xcd)],'objectName':this[_0x56dcf0(0xb7)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this['loggerJobState']};return deploy_factory_1[_0x56dcf0(0xd6)][_0x56dcf0(0xd9)](_0x73937f,this[_0x56dcf0(0xc8)]);}[a59_0x9caa7b(0xcc)](_0x1c68f1){const _0x46ee85=a59_0x9caa7b;job_detail_1[_0x46ee85(0xd4)]['log'](_0x1c68f1,this[_0x46ee85(0xb7)]),this[_0x46ee85(0xe3)][_0x46ee85(0xcc)](_0x1c68f1,this[_0x46ee85(0xb7)]);}['error'](_0x16531b){const _0x30ec81=a59_0x9caa7b;job_detail_1[_0x30ec81(0xd4)][_0x30ec81(0xd8)](_0x16531b,this[_0x30ec81(0xb7)]),this[_0x30ec81(0xe3)]['exception'](_0x16531b[_0x30ec81(0xce)],this[_0x30ec81(0xb7)]);}}exports[a59_0x9caa7b(0xd0)]=BaseStep;