const a76_0x36ab96=a76_0x5006;(function(_0x133af2,_0x154e04){const _0x35b16a=a76_0x5006,_0x3e7447=_0x133af2();while(!![]){try{const _0x284ec9=-parseInt(_0x35b16a(0x194))/0x1+parseInt(_0x35b16a(0x184))/0x2+parseInt(_0x35b16a(0x17b))/0x3*(parseInt(_0x35b16a(0x170))/0x4)+parseInt(_0x35b16a(0x16e))/0x5*(-parseInt(_0x35b16a(0x193))/0x6)+parseInt(_0x35b16a(0x190))/0x7*(parseInt(_0x35b16a(0x18b))/0x8)+parseInt(_0x35b16a(0x185))/0x9+parseInt(_0x35b16a(0x18f))/0xa*(-parseInt(_0x35b16a(0x174))/0xb);if(_0x284ec9===_0x154e04)break;else _0x3e7447['push'](_0x3e7447['shift']());}catch(_0x362a50){_0x3e7447['push'](_0x3e7447['shift']());}}}(a76_0x4d35,0x5f0a6));function a76_0x5006(_0x44429b,_0x45425a){const _0x33531d=a76_0x4d35();return a76_0x5006=function(_0x33875c,_0x371568){_0x33875c=_0x33875c-0x167;let _0x4d3546=_0x33531d[_0x33875c];return _0x4d3546;},a76_0x5006(_0x44429b,_0x45425a);}const a76_0x371568=(function(){let _0x3e3e7a=!![];return function(_0x16444b,_0x4eed3b){const _0x23f53c=_0x3e3e7a?function(){const _0x22966e=a76_0x5006;if(_0x4eed3b){const _0x3f1f22=_0x4eed3b[_0x22966e(0x18a)](_0x16444b,arguments);return _0x4eed3b=null,_0x3f1f22;}}:function(){};return _0x3e3e7a=![],_0x23f53c;};}()),a76_0x33875c=a76_0x371568(this,function(){const _0x3c8f70=a76_0x5006;return a76_0x33875c['toString']()[_0x3c8f70(0x183)]('(((.+)+)+)+$')[_0x3c8f70(0x192)]()[_0x3c8f70(0x18e)](a76_0x33875c)[_0x3c8f70(0x183)](_0x3c8f70(0x169));});a76_0x33875c();'use strict';function a76_0x4d35(){const _0x1d7685=['14lRuUbi','RetrieveFactory','toString','1398858sSBXsK','175473xuEKZv','defineProperty','build','loggerJobState','where','(((.+)+)+)+$','getRecordsCount','fields','systemLogger','DeployFactory','5EaeLYN','BaseStep','12PKzmHO','../../deploy/deploy-factory','_whereClause','objectDescribe','275pdXTAj','type','execute','request','_objectRuleType','../../../constants','QueryService','189372BnPIRN','whereClause','SALESFORCE_API_VERSION','objectName','create','../../job-detail','message','../../retrieve/retrieve-factory','search','788590DxRsEC','6782742nqMhfe','totalSize','log','exception','loggerDetails','apply','1778288nUkPhJ','getRetrieveStream','__esModule','constructor','393590IvLVcI'];a76_0x4d35=function(){return _0x1d7685;};return a76_0x4d35();}Object[a76_0x36ab96(0x195)](exports,a76_0x36ab96(0x18d),{'value':!![]}),exports[a76_0x36ab96(0x16f)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a76_0x36ab96(0x182)),constants_1=require(a76_0x36ab96(0x179)),deploy_factory_1=require(a76_0x36ab96(0x171)),job_detail_1=require(a76_0x36ab96(0x180)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0xa06d8b,loggerJobState:_0x25e80b,objectName:_0x5731a8,request:_0x132139,objectRule:_0x85304f,objectDescribe:_0x2e3c40}){const _0x6bbea4=a76_0x36ab96;this[_0x6bbea4(0x16b)]=[],this[_0x6bbea4(0x189)]=_0xa06d8b,this[_0x6bbea4(0x167)]=_0x25e80b,this[_0x6bbea4(0x17e)]=_0x5731a8,this[_0x6bbea4(0x177)]=_0x132139,this['_whereClause']=_0x85304f[_0x6bbea4(0x17c)],this[_0x6bbea4(0x178)]=_0x85304f[_0x6bbea4(0x175)],this[_0x6bbea4(0x173)]=_0x2e3c40;}async[a76_0x36ab96(0x16a)](){const _0x29aab7=a76_0x36ab96;try{const _0x3a4b73=new salesforce_1['QueryBuilder']()['select']('COUNT()')['from'](this[_0x29aab7(0x17e)]);this[_0x29aab7(0x172)]&&_0x3a4b73[_0x29aab7(0x168)](this['_whereClause']);const _0x56c86e=await salesforce_1[_0x29aab7(0x17a)][_0x29aab7(0x176)](this['request'],{},_0x3a4b73[_0x29aab7(0x196)](),![],constants_1[_0x29aab7(0x17d)]);return _0x56c86e[_0x29aab7(0x186)];}catch(_0x4bc94a){return job_detail_1['systemLogger']['error'](_0x4bc94a),-0x1;}}[a76_0x36ab96(0x18c)](){const _0x4f55cd=a76_0x36ab96,_0x5b09dc={'request':this[_0x4f55cd(0x177)],'fields':this[_0x4f55cd(0x16b)],'whereClause':this[_0x4f55cd(0x172)],'objectName':this[_0x4f55cd(0x17e)],'describe':this[_0x4f55cd(0x173)]};return retrieve_factory_1[_0x4f55cd(0x191)][_0x4f55cd(0x17f)](_0x5b09dc,this['recordsCount']);}['getDeployStream'](){const _0x44bb94=a76_0x36ab96,_0x450b74={'request':this['request'],'objectName':this[_0x44bb94(0x17e)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x44bb94(0x189)],'loggerJobState':this[_0x44bb94(0x167)]};return deploy_factory_1[_0x44bb94(0x16d)][_0x44bb94(0x17f)](_0x450b74,this['_objectRuleType']);}[a76_0x36ab96(0x187)](_0x1d4bc6){const _0x2f9fed=a76_0x36ab96;job_detail_1[_0x2f9fed(0x16c)][_0x2f9fed(0x187)](_0x1d4bc6,this['objectName']),this[_0x2f9fed(0x189)][_0x2f9fed(0x187)](_0x1d4bc6,this[_0x2f9fed(0x17e)]);}['error'](_0x42f016){const _0x3a2e8f=a76_0x36ab96;job_detail_1['systemLogger']['error'](_0x42f016,this['objectName']),this[_0x3a2e8f(0x189)][_0x3a2e8f(0x188)](_0x42f016[_0x3a2e8f(0x181)],this[_0x3a2e8f(0x17e)]);}}exports[a76_0x36ab96(0x16f)]=BaseStep;