const a59_0x5a471a=a59_0x5ceb;(function(_0x1d1722,_0x322518){const _0x2a2861=a59_0x5ceb,_0x14447b=_0x1d1722();while(!![]){try{const _0xeddc19=-parseInt(_0x2a2861(0x1ca))/0x1*(parseInt(_0x2a2861(0x1a7))/0x2)+-parseInt(_0x2a2861(0x1af))/0x3+parseInt(_0x2a2861(0x1ad))/0x4+-parseInt(_0x2a2861(0x1c6))/0x5+parseInt(_0x2a2861(0x1a4))/0x6*(parseInt(_0x2a2861(0x1c3))/0x7)+-parseInt(_0x2a2861(0x1ac))/0x8*(parseInt(_0x2a2861(0x1bf))/0x9)+-parseInt(_0x2a2861(0x1c2))/0xa*(-parseInt(_0x2a2861(0x1a1))/0xb);if(_0xeddc19===_0x322518)break;else _0x14447b['push'](_0x14447b['shift']());}catch(_0x266da9){_0x14447b['push'](_0x14447b['shift']());}}}(a59_0x4ed7,0x6d904));const a59_0x1203af=(function(){let _0x3cd6c3=!![];return function(_0x579e2d,_0x3dfa6f){const _0x1639d1=_0x3cd6c3?function(){const _0x269bec=a59_0x5ceb;if(_0x3dfa6f){const _0x2cbb23=_0x3dfa6f[_0x269bec(0x1aa)](_0x579e2d,arguments);return _0x3dfa6f=null,_0x2cbb23;}}:function(){};return _0x3cd6c3=![],_0x1639d1;};}()),a59_0x41347c=a59_0x1203af(this,function(){const _0x3274af=a59_0x5ceb;return a59_0x41347c[_0x3274af(0x1b4)]()[_0x3274af(0x1a2)](_0x3274af(0x1b7))[_0x3274af(0x1b4)]()[_0x3274af(0x1c7)](a59_0x41347c)[_0x3274af(0x1a2)](_0x3274af(0x1b7));});a59_0x41347c();'use strict';Object['defineProperty'](exports,a59_0x5a471a(0x1c8),{'value':!![]}),exports[a59_0x5a471a(0x1be)]=void 0x0;const salesforce_1=require(a59_0x5a471a(0x1c5)),retrieve_factory_1=require(a59_0x5a471a(0x1a6)),constants_1=require(a59_0x5a471a(0x1cf)),deploy_factory_1=require(a59_0x5a471a(0x1ae)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';function a59_0x4ed7(){const _0x3085ab=['objectDescribe','../../retrieve/retrieve-factory','6sOlcus','error','message','apply','getRetrieveStream','32qIXgde','3282380qOojhn','../../deploy/deploy-factory','193872VIpeOF','create','whereClause','systemLogger','QueryService','toString','loggerJobState','getDeployStream','(((.+)+)+)+$','totalSize','fields','recordsCount','SALESFORCE_API_VERSION','QueryBuilder','DeployFactory','BaseStep','573282DPBZuC','log','objectName','180pSbnPt','7rXZxFg','request','@flosum/salesforce','4347700whPgFw','constructor','__esModule','COUNT()','53814QuXzaq','loggerDetails','select','execute','where','../../../constants','_objectRuleType','243804CKfHhZ','search','_whereClause','3477738RhDllf'];a59_0x4ed7=function(){return _0x3085ab;};return a59_0x4ed7();}function a59_0x5ceb(_0x428569,_0x136e34){const _0x169c6e=a59_0x4ed7();return a59_0x5ceb=function(_0x41347c,_0x1203af){_0x41347c=_0x41347c-0x1a0;let _0x4ed779=_0x169c6e[_0x41347c];return _0x4ed779;},a59_0x5ceb(_0x428569,_0x136e34);}class BaseStep{constructor({loggerDetails:_0x3d5491,loggerJobState:_0x39644e,objectName:_0xf8681b,request:_0x4977fd,objectRule:_0x3e931f,objectDescribe:_0x5f3459}){const _0x4b37bc=a59_0x5a471a;this[_0x4b37bc(0x1b9)]=[],this['loggerDetails']=_0x3d5491,this[_0x4b37bc(0x1b5)]=_0x39644e,this[_0x4b37bc(0x1c1)]=_0xf8681b,this[_0x4b37bc(0x1c4)]=_0x4977fd,this[_0x4b37bc(0x1a3)]=_0x3e931f[_0x4b37bc(0x1b1)],this[_0x4b37bc(0x1a0)]=_0x3e931f['type'],this['objectDescribe']=_0x5f3459;}async['getRecordsCount'](){const _0x249221=a59_0x5a471a;try{const _0x324f42=new salesforce_1[(_0x249221(0x1bc))]()[_0x249221(0x1cc)](_0x249221(0x1c9))['from'](this[_0x249221(0x1c1)]);this[_0x249221(0x1a3)]&&_0x324f42[_0x249221(0x1ce)](this[_0x249221(0x1a3)]);const _0x202e30=await salesforce_1[_0x249221(0x1b3)][_0x249221(0x1cd)](this[_0x249221(0x1c4)],{},_0x324f42['build'](),![],constants_1[_0x249221(0x1bb)]);return _0x202e30[_0x249221(0x1b8)];}catch(_0x52b349){return job_detail_1[_0x249221(0x1b2)]['error'](_0x52b349),-0x1;}}[a59_0x5a471a(0x1ab)](){const _0x291323=a59_0x5a471a,_0xa0504c={'request':this[_0x291323(0x1c4)],'fields':this[_0x291323(0x1b9)],'whereClause':this[_0x291323(0x1a3)],'objectName':this['objectName'],'describe':this[_0x291323(0x1a5)]};return retrieve_factory_1['RetrieveFactory']['create'](_0xa0504c,this[_0x291323(0x1ba)]);}[a59_0x5a471a(0x1b6)](){const _0x52457b=a59_0x5a471a,_0x56e1d4={'request':this[_0x52457b(0x1c4)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x52457b(0x1cb)],'loggerJobState':this[_0x52457b(0x1b5)]};return deploy_factory_1[_0x52457b(0x1bd)][_0x52457b(0x1b0)](_0x56e1d4,this['_objectRuleType']);}[a59_0x5a471a(0x1c0)](_0x54eea9){const _0x4d41df=a59_0x5a471a;job_detail_1[_0x4d41df(0x1b2)]['log'](_0x54eea9,this[_0x4d41df(0x1c1)]),this[_0x4d41df(0x1cb)][_0x4d41df(0x1c0)](_0x54eea9,this[_0x4d41df(0x1c1)]);}[a59_0x5a471a(0x1a8)](_0x1ece9c){const _0x185d6e=a59_0x5a471a;job_detail_1[_0x185d6e(0x1b2)][_0x185d6e(0x1a8)](_0x1ece9c,this[_0x185d6e(0x1c1)]),this[_0x185d6e(0x1cb)]['exception'](_0x1ece9c[_0x185d6e(0x1a9)],this['objectName']);}}exports[a59_0x5a471a(0x1be)]=BaseStep;