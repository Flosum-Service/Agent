const a59_0x1e28f0=a59_0x1eac;(function(_0x26e17c,_0x87d1b9){const _0x56270c=a59_0x1eac,_0x30a4bb=_0x26e17c();while(!![]){try{const _0x2b0772=parseInt(_0x56270c(0xcd))/0x1*(-parseInt(_0x56270c(0xdd))/0x2)+parseInt(_0x56270c(0xe3))/0x3*(-parseInt(_0x56270c(0xb9))/0x4)+parseInt(_0x56270c(0xcb))/0x5*(parseInt(_0x56270c(0xcf))/0x6)+parseInt(_0x56270c(0xba))/0x7+-parseInt(_0x56270c(0xe2))/0x8*(-parseInt(_0x56270c(0xc9))/0x9)+parseInt(_0x56270c(0xc3))/0xa*(parseInt(_0x56270c(0xd8))/0xb)+-parseInt(_0x56270c(0xe7))/0xc;if(_0x2b0772===_0x87d1b9)break;else _0x30a4bb['push'](_0x30a4bb['shift']());}catch(_0x13e28f){_0x30a4bb['push'](_0x30a4bb['shift']());}}}(a59_0x595a,0xabcf6));const a59_0x3f482a=(function(){let _0x3b9f05=!![];return function(_0x1935f0,_0x1fa4d9){const _0x4126cd=_0x3b9f05?function(){if(_0x1fa4d9){const _0x41af67=_0x1fa4d9['apply'](_0x1935f0,arguments);return _0x1fa4d9=null,_0x41af67;}}:function(){};return _0x3b9f05=![],_0x4126cd;};}()),a59_0x33e464=a59_0x3f482a(this,function(){const _0x27fcc5=a59_0x1eac;return a59_0x33e464[_0x27fcc5(0xdc)]()[_0x27fcc5(0xe0)]('(((.+)+)+)+$')[_0x27fcc5(0xdc)]()[_0x27fcc5(0xc1)](a59_0x33e464)[_0x27fcc5(0xe0)](_0x27fcc5(0xd3));});a59_0x33e464();'use strict';function a59_0x1eac(_0x449789,_0x16a1be){const _0x1a05d3=a59_0x595a();return a59_0x1eac=function(_0x33e464,_0x3f482a){_0x33e464=_0x33e464-0xb8;let _0x595a4a=_0x1a05d3[_0x33e464];return _0x595a4a;},a59_0x1eac(_0x449789,_0x16a1be);}Object['defineProperty'](exports,a59_0x1e28f0(0xca),{'value':!![]}),exports[a59_0x1e28f0(0xe4)]=void 0x0;const salesforce_1=require(a59_0x1e28f0(0xe6)),retrieve_factory_1=require(a59_0x1e28f0(0xdb)),constants_1=require(a59_0x1e28f0(0xd1)),deploy_factory_1=require(a59_0x1e28f0(0xc2)),job_detail_1=require(a59_0x1e28f0(0xc5)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x64bd57,loggerJobState:_0x1482cb,objectName:_0x189cb3,request:_0x5d28da,objectRule:_0x2835f1,objectDescribe:_0x2282f0}){const _0x537dd3=a59_0x1e28f0;this['fields']=[],this[_0x537dd3(0xbd)]=_0x64bd57,this[_0x537dd3(0xc6)]=_0x1482cb,this['objectName']=_0x189cb3,this[_0x537dd3(0xd9)]=_0x5d28da,this[_0x537dd3(0xe5)]=_0x2835f1[_0x537dd3(0xb8)],this['_objectRuleType']=_0x2835f1['type'],this[_0x537dd3(0xd4)]=_0x2282f0;}async[a59_0x1e28f0(0xd6)](){const _0x4641ac=a59_0x1e28f0;try{const _0x2f28d5=new salesforce_1[(_0x4641ac(0xc8))]()['select']('COUNT()')[_0x4641ac(0xbe)](this[_0x4641ac(0xd2)]);this['_whereClause']&&_0x2f28d5['where'](this[_0x4641ac(0xe5)]);const _0x175f77=await salesforce_1[_0x4641ac(0xdf)][_0x4641ac(0xbc)](this[_0x4641ac(0xd9)],{},_0x2f28d5['build'](),![],constants_1[_0x4641ac(0xda)]);return _0x175f77['totalSize'];}catch(_0x254d87){return job_detail_1[_0x4641ac(0xde)]['error'](_0x254d87),-0x1;}}[a59_0x1e28f0(0xc0)](){const _0x557465=a59_0x1e28f0,_0x3b3214={'request':this[_0x557465(0xd9)],'fields':this[_0x557465(0xc7)],'whereClause':this['_whereClause'],'objectName':this[_0x557465(0xd2)],'describe':this[_0x557465(0xd4)]};return retrieve_factory_1['RetrieveFactory'][_0x557465(0xcc)](_0x3b3214,this[_0x557465(0xc4)]);}[a59_0x1e28f0(0xd7)](){const _0x3694ff=a59_0x1e28f0,_0x470c09={'request':this[_0x3694ff(0xd9)],'objectName':this[_0x3694ff(0xd2)],'externalIdField':FIELD_ID,'loggerDetails':this['loggerDetails'],'loggerJobState':this[_0x3694ff(0xc6)]};return deploy_factory_1[_0x3694ff(0xd5)]['create'](_0x470c09,this[_0x3694ff(0xbf)]);}['log'](_0x371c5c){const _0x9d7605=a59_0x1e28f0;job_detail_1[_0x9d7605(0xde)][_0x9d7605(0xbb)](_0x371c5c,this['objectName']),this['loggerDetails'][_0x9d7605(0xbb)](_0x371c5c,this[_0x9d7605(0xd2)]);}[a59_0x1e28f0(0xd0)](_0x2e8531){const _0x3f9659=a59_0x1e28f0;job_detail_1['systemLogger'][_0x3f9659(0xd0)](_0x2e8531,this[_0x3f9659(0xd2)]),this[_0x3f9659(0xbd)][_0x3f9659(0xce)](_0x2e8531[_0x3f9659(0xe1)],this['objectName']);}}exports['BaseStep']=BaseStep;function a59_0x595a(){const _0x7ab8f5=['_whereClause','@flosum/salesforce','6013884NIKXUL','whereClause','279436PcJIVk','4802392sfYnQW','log','execute','loggerDetails','from','_objectRuleType','getRetrieveStream','constructor','../../deploy/deploy-factory','3290590lXpfQx','recordsCount','../../job-detail','loggerJobState','fields','QueryBuilder','431343urUsoG','__esModule','858470xNDRZs','create','5oYIoiX','exception','18QtgluK','error','../../../constants','objectName','(((.+)+)+)+$','objectDescribe','DeployFactory','getRecordsCount','getDeployStream','22EpwNcD','request','SALESFORCE_API_VERSION','../../retrieve/retrieve-factory','toString','197086YLzYpD','systemLogger','QueryService','search','message','8HWoqKF','9orWhZV','BaseStep'];a59_0x595a=function(){return _0x7ab8f5;};return a59_0x595a();}