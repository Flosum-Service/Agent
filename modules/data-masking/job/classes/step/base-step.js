const a76_0x3c78d0=a76_0x2f8d;(function(_0xffe614,_0x530111){const _0x55e4ab=a76_0x2f8d,_0x5b401b=_0xffe614();while(!![]){try{const _0x49ca70=parseInt(_0x55e4ab(0x196))/0x1*(-parseInt(_0x55e4ab(0x1ac))/0x2)+-parseInt(_0x55e4ab(0x18b))/0x3+parseInt(_0x55e4ab(0x1ad))/0x4*(-parseInt(_0x55e4ab(0x195))/0x5)+parseInt(_0x55e4ab(0x1a7))/0x6*(-parseInt(_0x55e4ab(0x191))/0x7)+-parseInt(_0x55e4ab(0x1a0))/0x8*(-parseInt(_0x55e4ab(0x18d))/0x9)+parseInt(_0x55e4ab(0x188))/0xa*(-parseInt(_0x55e4ab(0x199))/0xb)+parseInt(_0x55e4ab(0x182))/0xc*(parseInt(_0x55e4ab(0x187))/0xd);if(_0x49ca70===_0x530111)break;else _0x5b401b['push'](_0x5b401b['shift']());}catch(_0x752f96){_0x5b401b['push'](_0x5b401b['shift']());}}}(a76_0x1316,0x8993f));const a76_0x6a989e=(function(){let _0x589676=!![];return function(_0x56e039,_0x1e1d08){const _0x59c59e=_0x589676?function(){const _0x115985=a76_0x2f8d;if(_0x1e1d08){const _0x3ed04b=_0x1e1d08[_0x115985(0x18c)](_0x56e039,arguments);return _0x1e1d08=null,_0x3ed04b;}}:function(){};return _0x589676=![],_0x59c59e;};}()),a76_0xa4c6b6=a76_0x6a989e(this,function(){const _0x59373b=a76_0x2f8d;return a76_0xa4c6b6['toString']()['search'](_0x59373b(0x1a5))['toString']()['constructor'](a76_0xa4c6b6)['search'](_0x59373b(0x1a5));});a76_0xa4c6b6();'use strict';function a76_0x1316(){const _0x332be0=['type','error','fields','objectDescribe','3913NnmftJ','26010TObzMV','create','totalSize','2945907RygoEd','apply','1170135FzEQbL','../../deploy/deploy-factory','../../../constants','_objectRuleType','419965NHdeKA','request','message','getDeployStream','1269930yrFNfV','1085206wpvxue','loggerDetails','loggerJobState','3883sboLiV','defineProperty','exception','_whereClause','QueryBuilder','BaseStep','recordsCount','40dMaHye','__esModule','log','whereClause','../../job-detail','(((.+)+)+)+$','DeployFactory','36lIFBsE','objectName','select','QueryService','systemLogger','2mWpzls','8hLDnRb','build','SALESFORCE_API_VERSION','150168jDSYeF'];a76_0x1316=function(){return _0x332be0;};return a76_0x1316();}function a76_0x2f8d(_0x4d6c2b,_0x18540a){const _0x47ec1a=a76_0x1316();return a76_0x2f8d=function(_0xa4c6b6,_0x6a989e){_0xa4c6b6=_0xa4c6b6-0x180;let _0x13164d=_0x47ec1a[_0xa4c6b6];return _0x13164d;},a76_0x2f8d(_0x4d6c2b,_0x18540a);}Object[a76_0x3c78d0(0x19a)](exports,a76_0x3c78d0(0x1a1),{'value':!![]}),exports[a76_0x3c78d0(0x19e)]=void 0x0;const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a76_0x3c78d0(0x18f)),deploy_factory_1=require(a76_0x3c78d0(0x18e)),job_detail_1=require(a76_0x3c78d0(0x1a4)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x5116e6,loggerJobState:_0x4e7b76,objectName:_0x1a30c5,request:_0x3a9a28,objectRule:_0x5108bf,objectDescribe:_0x29c857}){const _0x5bf663=a76_0x3c78d0;this[_0x5bf663(0x185)]=[],this[_0x5bf663(0x197)]=_0x5116e6,this['loggerJobState']=_0x4e7b76,this[_0x5bf663(0x1a8)]=_0x1a30c5,this[_0x5bf663(0x192)]=_0x3a9a28,this[_0x5bf663(0x19c)]=_0x5108bf[_0x5bf663(0x1a3)],this[_0x5bf663(0x190)]=_0x5108bf[_0x5bf663(0x183)],this[_0x5bf663(0x186)]=_0x29c857;}async['getRecordsCount'](){const _0x1b95e2=a76_0x3c78d0;try{const _0x878a42=new salesforce_1[(_0x1b95e2(0x19d))]()[_0x1b95e2(0x1a9)]('COUNT()')['from'](this[_0x1b95e2(0x1a8)]);this[_0x1b95e2(0x19c)]&&_0x878a42['where'](this['_whereClause']);const _0x11aa4f=await salesforce_1[_0x1b95e2(0x1aa)]['execute'](this[_0x1b95e2(0x192)],{},_0x878a42[_0x1b95e2(0x180)](),![],constants_1[_0x1b95e2(0x181)]);return _0x11aa4f[_0x1b95e2(0x18a)];}catch(_0x3346ca){return job_detail_1['systemLogger']['error'](_0x3346ca),-0x1;}}['getRetrieveStream'](){const _0x2baaf4=a76_0x3c78d0,_0x28eb65={'request':this[_0x2baaf4(0x192)],'fields':this[_0x2baaf4(0x185)],'whereClause':this[_0x2baaf4(0x19c)],'objectName':this[_0x2baaf4(0x1a8)],'describe':this[_0x2baaf4(0x186)]};return retrieve_factory_1['RetrieveFactory']['create'](_0x28eb65,this[_0x2baaf4(0x19f)]);}[a76_0x3c78d0(0x194)](){const _0x1c91e5=a76_0x3c78d0,_0x3819a4={'request':this[_0x1c91e5(0x192)],'objectName':this['objectName'],'externalIdField':FIELD_ID,'loggerDetails':this[_0x1c91e5(0x197)],'loggerJobState':this[_0x1c91e5(0x198)]};return deploy_factory_1[_0x1c91e5(0x1a6)][_0x1c91e5(0x189)](_0x3819a4,this[_0x1c91e5(0x190)]);}[a76_0x3c78d0(0x1a2)](_0x1d850a){const _0x4f8c87=a76_0x3c78d0;job_detail_1['systemLogger'][_0x4f8c87(0x1a2)](_0x1d850a,this[_0x4f8c87(0x1a8)]),this[_0x4f8c87(0x197)][_0x4f8c87(0x1a2)](_0x1d850a,this[_0x4f8c87(0x1a8)]);}['error'](_0x5503dd){const _0x53dcec=a76_0x3c78d0;job_detail_1[_0x53dcec(0x1ab)][_0x53dcec(0x184)](_0x5503dd,this[_0x53dcec(0x1a8)]),this[_0x53dcec(0x197)][_0x53dcec(0x19b)](_0x5503dd[_0x53dcec(0x193)],this[_0x53dcec(0x1a8)]);}}exports[a76_0x3c78d0(0x19e)]=BaseStep;