const a59_0x156eb7=a59_0xae14;(function(_0x3f36cb,_0x563f7c){const _0x17b26d=a59_0xae14,_0x85b32c=_0x3f36cb();while(!![]){try{const _0x4ac6f9=parseInt(_0x17b26d(0xe9))/0x1+parseInt(_0x17b26d(0xe6))/0x2+-parseInt(_0x17b26d(0xf7))/0x3*(parseInt(_0x17b26d(0xf0))/0x4)+-parseInt(_0x17b26d(0x109))/0x5*(-parseInt(_0x17b26d(0xda))/0x6)+parseInt(_0x17b26d(0x105))/0x7*(parseInt(_0x17b26d(0x103))/0x8)+parseInt(_0x17b26d(0x10d))/0x9*(parseInt(_0x17b26d(0x104))/0xa)+parseInt(_0x17b26d(0xe2))/0xb*(-parseInt(_0x17b26d(0xf2))/0xc);if(_0x4ac6f9===_0x563f7c)break;else _0x85b32c['push'](_0x85b32c['shift']());}catch(_0x277178){_0x85b32c['push'](_0x85b32c['shift']());}}}(a59_0x1485,0xd1cac));function a59_0x1485(){const _0x636613=['__esModule','message','execute','130757ZYRmyw','whereClause','where','totalSize','1606016gAQUlF','defineProperty','loggerDetails','703004MrrEpA','build','objectDescribe','apply','exception','ASC','log','1892632lGbEzT','_whereClause','2772WbalgM','../../retrieve/retrieve-factory','QueryService','recordsCount','error','3NtjOFp','COUNT()','BaseStep','systemLogger','../../job-detail','../../../constants','getRecordsCount','DeployFactory','select','from','search','objectName','5288qsTrGq','3171330AcpqNg','13223ORfexY','loggerJobState','_objectRuleType','(((.+)+)+)+$','5bZAINd','type','fields','request','9yVGQbb','6039534kOzdtD','getDeployStream','create','toString','RetrieveFactory'];a59_0x1485=function(){return _0x636613;};return a59_0x1485();}const a59_0x370df6=(function(){let _0xa2f696=!![];return function(_0xef4db2,_0x2d0b63){const _0xa5de05=_0xa2f696?function(){const _0xb6f4b7=a59_0xae14;if(_0x2d0b63){const _0xe57c79=_0x2d0b63[_0xb6f4b7(0xec)](_0xef4db2,arguments);return _0x2d0b63=null,_0xe57c79;}}:function(){};return _0xa2f696=![],_0xa5de05;};}()),a59_0x233a70=a59_0x370df6(this,function(){const _0x125c7e=a59_0xae14;return a59_0x233a70[_0x125c7e(0xdd)]()[_0x125c7e(0x101)](_0x125c7e(0x108))[_0x125c7e(0xdd)]()['constructor'](a59_0x233a70)['search'](_0x125c7e(0x108));});a59_0x233a70();'use strict';Object[a59_0x156eb7(0xe7)](exports,a59_0x156eb7(0xdf),{'value':!![]}),exports[a59_0x156eb7(0xf9)]=void 0x0;function a59_0xae14(_0x4cbc94,_0x492357){const _0xaa8f20=a59_0x1485();return a59_0xae14=function(_0x233a70,_0x370df6){_0x233a70=_0x233a70-0xda;let _0x1485b9=_0xaa8f20[_0x233a70];return _0x1485b9;},a59_0xae14(_0x4cbc94,_0x492357);}const salesforce_1=require('@flosum/salesforce'),retrieve_factory_1=require(a59_0x156eb7(0xf3)),constants_1=require(a59_0x156eb7(0xfc)),deploy_factory_1=require('../../deploy/deploy-factory'),job_detail_1=require(a59_0x156eb7(0xfb)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x3e66ab,loggerJobState:_0x39e6bc,objectName:_0x72731,request:_0x1779ed,objectRule:_0x5480f4,objectDescribe:_0x38bb96}){const _0x10c7f8=a59_0x156eb7;this[_0x10c7f8(0x10b)]=[],this['loggerDetails']=_0x3e66ab,this[_0x10c7f8(0x106)]=_0x39e6bc,this['objectName']=_0x72731,this[_0x10c7f8(0x10c)]=_0x1779ed,this[_0x10c7f8(0xf1)]=_0x5480f4[_0x10c7f8(0xe3)],this[_0x10c7f8(0x107)]=_0x5480f4[_0x10c7f8(0x10a)],this[_0x10c7f8(0xeb)]=_0x38bb96;}async[a59_0x156eb7(0xfd)](){const _0x458bcb=a59_0x156eb7;try{const _0x47ad0b=new salesforce_1['QueryBuilder']()[_0x458bcb(0xff)](_0x458bcb(0xf8))[_0x458bcb(0x100)](this[_0x458bcb(0x102)]);this[_0x458bcb(0xf1)]&&_0x47ad0b[_0x458bcb(0xe4)](this[_0x458bcb(0xf1)]);const _0x559bf3=await salesforce_1[_0x458bcb(0xf4)][_0x458bcb(0xe1)](this['request'],{},_0x47ad0b[_0x458bcb(0xea)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x559bf3[_0x458bcb(0xe5)];}catch(_0x1f904c){return job_detail_1[_0x458bcb(0xfa)]['error'](_0x1f904c),-0x1;}}['getRetrieveStream'](){const _0x11d5a8=a59_0x156eb7,_0x4fbcfa={'request':this[_0x11d5a8(0x10c)],'fields':this['fields'],'whereClause':this['_whereClause'],'objectName':this[_0x11d5a8(0x102)],'describe':this[_0x11d5a8(0xeb)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1['SortDirection'][_0x11d5a8(0xee)]};return retrieve_factory_1[_0x11d5a8(0xde)][_0x11d5a8(0xdc)](_0x4fbcfa,this[_0x11d5a8(0xf5)]);}[a59_0x156eb7(0xdb)](){const _0x39a65e=a59_0x156eb7,_0x46119e={'request':this[_0x39a65e(0x10c)],'objectName':this[_0x39a65e(0x102)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x39a65e(0xe8)],'loggerJobState':this[_0x39a65e(0x106)]};return deploy_factory_1[_0x39a65e(0xfe)][_0x39a65e(0xdc)](_0x46119e,this['_objectRuleType']);}[a59_0x156eb7(0xef)](_0x262f19){const _0xbb5fa1=a59_0x156eb7;job_detail_1[_0xbb5fa1(0xfa)][_0xbb5fa1(0xef)](_0x262f19,this[_0xbb5fa1(0x102)]),this[_0xbb5fa1(0xe8)]['log'](_0x262f19,this[_0xbb5fa1(0x102)]);}[a59_0x156eb7(0xf6)](_0x200f0a){const _0x5ca5bf=a59_0x156eb7;job_detail_1[_0x5ca5bf(0xfa)][_0x5ca5bf(0xf6)](_0x200f0a,this[_0x5ca5bf(0x102)]),this[_0x5ca5bf(0xe8)][_0x5ca5bf(0xed)](_0x200f0a[_0x5ca5bf(0xe0)],this['objectName']);}}exports[a59_0x156eb7(0xf9)]=BaseStep;