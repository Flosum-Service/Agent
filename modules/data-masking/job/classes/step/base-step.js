const a58_0x6de6e=a58_0x1fd6;function a58_0x1e04(){const _0x18e576=['constructor','QueryService','_whereClause','fields','apply','_objectRuleType','loggerJobState','1569366CbIwkc','exception','7yguouF','1914990hTRpOd','recordsCount','8830PWKPcm','type','execute','totalSize','../../retrieve/retrieve-factory','getDeployStream','systemLogger','loggerDetails','objectName','create','1738GgdJWG','select','request','error','toString','14102PRtXxb','149652BIMvrU','objectDescribe','447VmGcaH','(((.+)+)+)+$','build','BaseStep','@flosum/salesforce','search','../../../constants','defineProperty','2235896DEimVX','log','SortDirection','whereClause','486620oyzIdY','15ONUZYU','getRecordsCount','../../deploy/deploy-factory','DeployFactory','where','from','getRetrieveStream'];a58_0x1e04=function(){return _0x18e576;};return a58_0x1e04();}(function(_0x19e380,_0x428b00){const _0x4b2e80=a58_0x1fd6,_0x1e31d2=_0x19e380();while(!![]){try{const _0x5828e2=-parseInt(_0x4b2e80(0x117))/0x1*(-parseInt(_0x4b2e80(0x10f))/0x2)+parseInt(_0x4b2e80(0x124))/0x3*(parseInt(_0x4b2e80(0x123))/0x4)+parseInt(_0x4b2e80(0x135))/0x5+-parseInt(_0x4b2e80(0x115))/0x6*(-parseInt(_0x4b2e80(0x134))/0x7)+parseInt(_0x4b2e80(0x11f))/0x8+-parseInt(_0x4b2e80(0x132))/0x9+parseInt(_0x4b2e80(0x137))/0xa*(-parseInt(_0x4b2e80(0x114))/0xb);if(_0x5828e2===_0x428b00)break;else _0x1e31d2['push'](_0x1e31d2['shift']());}catch(_0x22d1fe){_0x1e31d2['push'](_0x1e31d2['shift']());}}}(a58_0x1e04,0x5c3a5));const a58_0x26e3a7=(function(){let _0x2a378a=!![];return function(_0x220922,_0x270896){const _0x4d7dd3=_0x2a378a?function(){const _0x1ed844=a58_0x1fd6;if(_0x270896){const _0x3b8819=_0x270896[_0x1ed844(0x12f)](_0x220922,arguments);return _0x270896=null,_0x3b8819;}}:function(){};return _0x2a378a=![],_0x4d7dd3;};}()),a58_0x5e1382=a58_0x26e3a7(this,function(){const _0x4c6766=a58_0x1fd6;return a58_0x5e1382[_0x4c6766(0x113)]()[_0x4c6766(0x11c)](_0x4c6766(0x118))[_0x4c6766(0x113)]()[_0x4c6766(0x12b)](a58_0x5e1382)[_0x4c6766(0x11c)]('(((.+)+)+)+$');});a58_0x5e1382();'use strict';function a58_0x1fd6(_0x7378d5,_0x162aa8){const _0x47764e=a58_0x1e04();return a58_0x1fd6=function(_0x5e1382,_0x26e3a7){_0x5e1382=_0x5e1382-0x108;let _0x1e0438=_0x47764e[_0x5e1382];return _0x1e0438;},a58_0x1fd6(_0x7378d5,_0x162aa8);}Object[a58_0x6de6e(0x11e)](exports,'__esModule',{'value':!![]}),exports[a58_0x6de6e(0x11a)]=void 0x0;const salesforce_1=require(a58_0x6de6e(0x11b)),retrieve_factory_1=require(a58_0x6de6e(0x109)),constants_1=require(a58_0x6de6e(0x11d)),deploy_factory_1=require(a58_0x6de6e(0x126)),job_detail_1=require('../../job-detail'),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x33464e,loggerJobState:_0x537a77,objectName:_0x3beb8e,request:_0x165d40,objectRule:_0x19327e,objectDescribe:_0x21a20d}){const _0x2dddc5=a58_0x6de6e;this[_0x2dddc5(0x12e)]=[],this['loggerDetails']=_0x33464e,this[_0x2dddc5(0x131)]=_0x537a77,this[_0x2dddc5(0x10d)]=_0x3beb8e,this[_0x2dddc5(0x111)]=_0x165d40,this[_0x2dddc5(0x12d)]=_0x19327e[_0x2dddc5(0x122)],this[_0x2dddc5(0x130)]=_0x19327e[_0x2dddc5(0x138)],this['objectDescribe']=_0x21a20d;}async[a58_0x6de6e(0x125)](){const _0x32a096=a58_0x6de6e;try{const _0x339a2d=new salesforce_1['QueryBuilder']()[_0x32a096(0x110)]('COUNT()')[_0x32a096(0x129)](this[_0x32a096(0x10d)]);this[_0x32a096(0x12d)]&&_0x339a2d[_0x32a096(0x128)](this[_0x32a096(0x12d)]);const _0x29fa0e=await salesforce_1[_0x32a096(0x12c)][_0x32a096(0x139)](this[_0x32a096(0x111)],{},_0x339a2d[_0x32a096(0x119)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x29fa0e[_0x32a096(0x108)];}catch(_0x20bf3a){return job_detail_1[_0x32a096(0x10b)][_0x32a096(0x112)](_0x20bf3a),-0x1;}}[a58_0x6de6e(0x12a)](){const _0x3a4fe8=a58_0x6de6e,_0x166f09={'request':this['request'],'fields':this[_0x3a4fe8(0x12e)],'whereClause':this[_0x3a4fe8(0x12d)],'objectName':this['objectName'],'describe':this[_0x3a4fe8(0x116)],'indexField':FIELD_ID,'indexFieldDirection':salesforce_1[_0x3a4fe8(0x121)]['ASC']};return retrieve_factory_1['RetrieveFactory'][_0x3a4fe8(0x10e)](_0x166f09,this[_0x3a4fe8(0x136)]);}[a58_0x6de6e(0x10a)](){const _0x54658b=a58_0x6de6e,_0x4aa805={'request':this[_0x54658b(0x111)],'objectName':this[_0x54658b(0x10d)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x54658b(0x10c)],'loggerJobState':this[_0x54658b(0x131)]};return deploy_factory_1[_0x54658b(0x127)][_0x54658b(0x10e)](_0x4aa805,this[_0x54658b(0x130)]);}['log'](_0x28819d){const _0x5c9359=a58_0x6de6e;job_detail_1[_0x5c9359(0x10b)][_0x5c9359(0x120)](_0x28819d,this[_0x5c9359(0x10d)]),this[_0x5c9359(0x10c)][_0x5c9359(0x120)](_0x28819d,this['objectName']);}[a58_0x6de6e(0x112)](_0x1ed446){const _0x5349ea=a58_0x6de6e;job_detail_1[_0x5349ea(0x10b)][_0x5349ea(0x112)](_0x1ed446,this['objectName']),this[_0x5349ea(0x10c)][_0x5349ea(0x133)](_0x1ed446['message'],this[_0x5349ea(0x10d)]);}}exports[a58_0x6de6e(0x11a)]=BaseStep;