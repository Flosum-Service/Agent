const a77_0x5451fc=a77_0xc67b;(function(_0x77d29f,_0x3112cd){const _0x335d46=a77_0xc67b,_0x57a905=_0x77d29f();while(!![]){try{const _0x4972c1=-parseInt(_0x335d46(0x1d1))/0x1+parseInt(_0x335d46(0x1e5))/0x2+parseInt(_0x335d46(0x1e6))/0x3*(parseInt(_0x335d46(0x1e3))/0x4)+parseInt(_0x335d46(0x1eb))/0x5*(parseInt(_0x335d46(0x1c5))/0x6)+parseInt(_0x335d46(0x1be))/0x7+-parseInt(_0x335d46(0x1d6))/0x8+-parseInt(_0x335d46(0x1ca))/0x9;if(_0x4972c1===_0x3112cd)break;else _0x57a905['push'](_0x57a905['shift']());}catch(_0xa1255e){_0x57a905['push'](_0x57a905['shift']());}}}(a77_0x3b82,0x3a52b));const a77_0x50cdd0=(function(){let _0x19d5bf=!![];return function(_0x28b02d,_0x1158c3){const _0x3fce92=_0x19d5bf?function(){if(_0x1158c3){const _0x489025=_0x1158c3['apply'](_0x28b02d,arguments);return _0x1158c3=null,_0x489025;}}:function(){};return _0x19d5bf=![],_0x3fce92;};}()),a77_0x461beb=a77_0x50cdd0(this,function(){const _0x1c4d98=a77_0xc67b;return a77_0x461beb[_0x1c4d98(0x1dd)]()[_0x1c4d98(0x1bf)](_0x1c4d98(0x1d7))[_0x1c4d98(0x1dd)]()['constructor'](a77_0x461beb)[_0x1c4d98(0x1bf)](_0x1c4d98(0x1d7));});a77_0x461beb();'use strict';Object[a77_0x5451fc(0x1c0)](exports,a77_0x5451fc(0x1d9),{'value':!![]}),exports['BaseStep']=void 0x0;const salesforce_1=require(a77_0x5451fc(0x1ec)),retrieve_factory_1=require('../../retrieve/retrieve-factory'),constants_1=require(a77_0x5451fc(0x1c8)),deploy_factory_1=require(a77_0x5451fc(0x1c1)),job_detail_1=require(a77_0x5451fc(0x1e9)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x29c0d4,loggerJobState:_0xf114e5,objectName:_0x1cbce6,request:_0x434e03,objectRule:_0x4f5376,objectDescribe:_0x1e22c5}){const _0x356831=a77_0x5451fc;this['fields']=[],this[_0x356831(0x1e7)]=_0x29c0d4,this['loggerJobState']=_0xf114e5,this[_0x356831(0x1da)]=_0x1cbce6,this[_0x356831(0x1cd)]=_0x434e03,this[_0x356831(0x1e2)]=_0x4f5376[_0x356831(0x1e4)],this[_0x356831(0x1de)]=_0x4f5376[_0x356831(0x1df)],this[_0x356831(0x1d8)]=_0x1e22c5;}async[a77_0x5451fc(0x1c4)](){const _0x20d4ad=a77_0x5451fc;try{const _0x537cc1=new salesforce_1[(_0x20d4ad(0x1bc))]()[_0x20d4ad(0x1cf)]('COUNT()')[_0x20d4ad(0x1e8)](this[_0x20d4ad(0x1da)]);this['_whereClause']&&_0x537cc1['where'](this[_0x20d4ad(0x1e2)]);const _0x3b30c3=await salesforce_1[_0x20d4ad(0x1e1)][_0x20d4ad(0x1c6)](this[_0x20d4ad(0x1cd)],{},_0x537cc1[_0x20d4ad(0x1ea)](),![],constants_1[_0x20d4ad(0x1bd)]);return _0x3b30c3[_0x20d4ad(0x1c7)];}catch(_0x4bbbfd){return job_detail_1['systemLogger'][_0x20d4ad(0x1e0)](_0x4bbbfd),-0x1;}}[a77_0x5451fc(0x1d3)](){const _0x323e18=a77_0x5451fc,_0x241930={'request':this['request'],'fields':this[_0x323e18(0x1c2)],'whereClause':this['_whereClause'],'objectName':this[_0x323e18(0x1da)],'describe':this['objectDescribe']};return retrieve_factory_1[_0x323e18(0x1ce)][_0x323e18(0x1d5)](_0x241930,this[_0x323e18(0x1cb)]);}[a77_0x5451fc(0x1c3)](){const _0x5d8ea2=a77_0x5451fc,_0x2fe339={'request':this['request'],'objectName':this[_0x5d8ea2(0x1da)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x5d8ea2(0x1e7)],'loggerJobState':this[_0x5d8ea2(0x1d4)]};return deploy_factory_1[_0x5d8ea2(0x1d2)]['create'](_0x2fe339,this[_0x5d8ea2(0x1de)]);}[a77_0x5451fc(0x1cc)](_0x207995){const _0x35ad2b=a77_0x5451fc;job_detail_1[_0x35ad2b(0x1d0)][_0x35ad2b(0x1cc)](_0x207995,this[_0x35ad2b(0x1da)]),this[_0x35ad2b(0x1e7)]['log'](_0x207995,this['objectName']);}[a77_0x5451fc(0x1e0)](_0xd8a380){const _0x3ba0dd=a77_0x5451fc;job_detail_1[_0x3ba0dd(0x1d0)][_0x3ba0dd(0x1e0)](_0xd8a380,this['objectName']),this[_0x3ba0dd(0x1e7)][_0x3ba0dd(0x1c9)](_0xd8a380[_0x3ba0dd(0x1db)],this[_0x3ba0dd(0x1da)]);}}function a77_0xc67b(_0x712a12,_0x576626){const _0x3bec2a=a77_0x3b82();return a77_0xc67b=function(_0x461beb,_0x50cdd0){_0x461beb=_0x461beb-0x1bc;let _0x3b82a4=_0x3bec2a[_0x461beb];return _0x3b82a4;},a77_0xc67b(_0x712a12,_0x576626);}function a77_0x3b82(){const _0x6dda9d=['loggerDetails','from','../../job-detail','build','25qSvyGz','@flosum/salesforce','QueryBuilder','SALESFORCE_API_VERSION','516012mQfQhy','search','defineProperty','../../deploy/deploy-factory','fields','getDeployStream','getRecordsCount','251826BdoaOO','execute','totalSize','../../../constants','exception','3043926GMdmxq','recordsCount','log','request','RetrieveFactory','select','systemLogger','159445OVqQWa','DeployFactory','getRetrieveStream','loggerJobState','create','1166808PhLiVg','(((.+)+)+)+$','objectDescribe','__esModule','objectName','message','BaseStep','toString','_objectRuleType','type','error','QueryService','_whereClause','44PeKYHN','whereClause','505518yVORvB','94383fAzptV'];a77_0x3b82=function(){return _0x6dda9d;};return a77_0x3b82();}exports[a77_0x5451fc(0x1dc)]=BaseStep;