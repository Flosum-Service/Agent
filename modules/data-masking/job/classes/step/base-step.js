const a76_0x31f727=a76_0x1785;(function(_0x3cd6fc,_0x27e068){const _0x2e2501=a76_0x1785,_0x2c27aa=_0x3cd6fc();while(!![]){try{const _0x5cf597=parseInt(_0x2e2501(0x1b5))/0x1*(-parseInt(_0x2e2501(0x1bb))/0x2)+parseInt(_0x2e2501(0x1bd))/0x3+parseInt(_0x2e2501(0x1bc))/0x4*(-parseInt(_0x2e2501(0x1c2))/0x5)+parseInt(_0x2e2501(0x1ac))/0x6*(-parseInt(_0x2e2501(0x19f))/0x7)+parseInt(_0x2e2501(0x197))/0x8+parseInt(_0x2e2501(0x1bf))/0x9+-parseInt(_0x2e2501(0x1b7))/0xa*(-parseInt(_0x2e2501(0x1c7))/0xb);if(_0x5cf597===_0x27e068)break;else _0x2c27aa['push'](_0x2c27aa['shift']());}catch(_0x19bcc2){_0x2c27aa['push'](_0x2c27aa['shift']());}}}(a76_0x18aa,0xbfb37));function a76_0x1785(_0x25dff1,_0x23fdd5){const _0x4c8e4a=a76_0x18aa();return a76_0x1785=function(_0x1d9c59,_0x54f5bc){_0x1d9c59=_0x1d9c59-0x197;let _0x18aab8=_0x4c8e4a[_0x1d9c59];return _0x18aab8;},a76_0x1785(_0x25dff1,_0x23fdd5);}const a76_0x54f5bc=(function(){let _0x437810=!![];return function(_0x3db5ae,_0x12f4ab){const _0x20da93=_0x437810?function(){const _0x5f27ea=a76_0x1785;if(_0x12f4ab){const _0x3e7a6d=_0x12f4ab[_0x5f27ea(0x19b)](_0x3db5ae,arguments);return _0x12f4ab=null,_0x3e7a6d;}}:function(){};return _0x437810=![],_0x20da93;};}()),a76_0x1d9c59=a76_0x54f5bc(this,function(){const _0x23798e=a76_0x1785;return a76_0x1d9c59[_0x23798e(0x1af)]()[_0x23798e(0x1b2)]('(((.+)+)+)+$')[_0x23798e(0x1af)]()[_0x23798e(0x1a9)](a76_0x1d9c59)['search'](_0x23798e(0x19d));});a76_0x1d9c59();'use strict';Object[a76_0x31f727(0x1c6)](exports,a76_0x31f727(0x1c5),{'value':!![]}),exports[a76_0x31f727(0x1c4)]=void 0x0;const salesforce_1=require(a76_0x31f727(0x1b4)),retrieve_factory_1=require(a76_0x31f727(0x1c0)),constants_1=require(a76_0x31f727(0x1b6)),deploy_factory_1=require(a76_0x31f727(0x1a6)),job_detail_1=require(a76_0x31f727(0x1aa)),FIELD_ID='Id';function a76_0x18aa(){const _0x150fdc=['error','BaseStep','__esModule','defineProperty','495rSwaNP','message','9659192hxfVbe','loggerJobState','log','whereClause','apply','where','(((.+)+)+)+$','fields','7RwtNqe','build','getDeployStream','totalSize','execute','loggerDetails','type','../../deploy/deploy-factory','objectDescribe','create','constructor','../../job-detail','from','5382822jYCdlQ','objectName','request','toString','COUNT()','getRetrieveStream','search','getRecordsCount','@flosum/salesforce','61UnDkSy','../../../constants','292730xefyoC','systemLogger','exception','_objectRuleType','39124aaXCIF','3012532DhicWY','1669992vuucwq','_whereClause','4926699vSLiKJ','../../retrieve/retrieve-factory','RetrieveFactory','5WtCVKh'];a76_0x18aa=function(){return _0x150fdc;};return a76_0x18aa();}class BaseStep{constructor({loggerDetails:_0xb57383,loggerJobState:_0x5198de,objectName:_0x8850e6,request:_0x605b8d,objectRule:_0x28a4ce,objectDescribe:_0x2ddcab}){const _0x51002e=a76_0x31f727;this['fields']=[],this['loggerDetails']=_0xb57383,this[_0x51002e(0x198)]=_0x5198de,this[_0x51002e(0x1ad)]=_0x8850e6,this[_0x51002e(0x1ae)]=_0x605b8d,this['_whereClause']=_0x28a4ce[_0x51002e(0x19a)],this[_0x51002e(0x1ba)]=_0x28a4ce[_0x51002e(0x1a5)],this[_0x51002e(0x1a7)]=_0x2ddcab;}async[a76_0x31f727(0x1b3)](){const _0x4f3941=a76_0x31f727;try{const _0x2e882d=new salesforce_1['QueryBuilder']()['select'](_0x4f3941(0x1b0))[_0x4f3941(0x1ab)](this[_0x4f3941(0x1ad)]);this[_0x4f3941(0x1be)]&&_0x2e882d[_0x4f3941(0x19c)](this[_0x4f3941(0x1be)]);const _0x52ce37=await salesforce_1['QueryService'][_0x4f3941(0x1a3)](this[_0x4f3941(0x1ae)],{},_0x2e882d[_0x4f3941(0x1a0)](),![],constants_1['SALESFORCE_API_VERSION']);return _0x52ce37[_0x4f3941(0x1a2)];}catch(_0x4279a5){return job_detail_1[_0x4f3941(0x1b8)][_0x4f3941(0x1c3)](_0x4279a5),-0x1;}}[a76_0x31f727(0x1b1)](){const _0x57e88b=a76_0x31f727,_0x58e9e6={'request':this[_0x57e88b(0x1ae)],'fields':this[_0x57e88b(0x19e)],'whereClause':this['_whereClause'],'objectName':this['objectName'],'describe':this[_0x57e88b(0x1a7)]};return retrieve_factory_1[_0x57e88b(0x1c1)][_0x57e88b(0x1a8)](_0x58e9e6,this['recordsCount']);}[a76_0x31f727(0x1a1)](){const _0x7325bb=a76_0x31f727,_0x5940fd={'request':this[_0x7325bb(0x1ae)],'objectName':this[_0x7325bb(0x1ad)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x7325bb(0x1a4)],'loggerJobState':this[_0x7325bb(0x198)]};return deploy_factory_1['DeployFactory']['create'](_0x5940fd,this[_0x7325bb(0x1ba)]);}[a76_0x31f727(0x199)](_0x50925a){const _0x7921c8=a76_0x31f727;job_detail_1[_0x7921c8(0x1b8)]['log'](_0x50925a,this['objectName']),this[_0x7921c8(0x1a4)][_0x7921c8(0x199)](_0x50925a,this[_0x7921c8(0x1ad)]);}[a76_0x31f727(0x1c3)](_0x108cf4){const _0x230b4e=a76_0x31f727;job_detail_1[_0x230b4e(0x1b8)][_0x230b4e(0x1c3)](_0x108cf4,this['objectName']),this['loggerDetails'][_0x230b4e(0x1b9)](_0x108cf4[_0x230b4e(0x1c8)],this['objectName']);}}exports[a76_0x31f727(0x1c4)]=BaseStep;