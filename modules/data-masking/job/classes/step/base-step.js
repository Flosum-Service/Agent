const a59_0x47b788=a59_0x36ae;(function(_0x20147b,_0x45f494){const _0x425c6e=a59_0x36ae,_0x36bf91=_0x20147b();while(!![]){try{const _0x523365=parseInt(_0x425c6e(0xcd))/0x1*(-parseInt(_0x425c6e(0xcf))/0x2)+parseInt(_0x425c6e(0xe0))/0x3*(-parseInt(_0x425c6e(0xe8))/0x4)+parseInt(_0x425c6e(0xd8))/0x5+parseInt(_0x425c6e(0xca))/0x6+-parseInt(_0x425c6e(0xc9))/0x7+-parseInt(_0x425c6e(0xef))/0x8*(parseInt(_0x425c6e(0xe3))/0x9)+parseInt(_0x425c6e(0xd3))/0xa;if(_0x523365===_0x45f494)break;else _0x36bf91['push'](_0x36bf91['shift']());}catch(_0x1e9667){_0x36bf91['push'](_0x36bf91['shift']());}}}(a59_0x2404,0x90392));const a59_0x397c52=(function(){let _0x30e51a=!![];return function(_0xc7c6be,_0x2b37bc){const _0x150584=_0x30e51a?function(){if(_0x2b37bc){const _0x208e88=_0x2b37bc['apply'](_0xc7c6be,arguments);return _0x2b37bc=null,_0x208e88;}}:function(){};return _0x30e51a=![],_0x150584;};}()),a59_0x41fea9=a59_0x397c52(this,function(){const _0x524320=a59_0x36ae;return a59_0x41fea9[_0x524320(0xdb)]()['search'](_0x524320(0xe5))[_0x524320(0xdb)]()[_0x524320(0xc6)](a59_0x41fea9)['search']('(((.+)+)+)+$');});function a59_0x36ae(_0x4040a7,_0x5bb4ae){const _0x45c8b7=a59_0x2404();return a59_0x36ae=function(_0x41fea9,_0x397c52){_0x41fea9=_0x41fea9-0xc3;let _0x2404a2=_0x45c8b7[_0x41fea9];return _0x2404a2;},a59_0x36ae(_0x4040a7,_0x5bb4ae);}a59_0x41fea9();function a59_0x2404(){const _0x49250f=['2196EOvsEd','@flosum/salesforce','(((.+)+)+)+$','_objectRuleType','BaseStep','4wCyIfw','__esModule','totalSize','defineProperty','loggerJobState','RetrieveFactory','DeployFactory','32416zycTSV','log','recordsCount','fields','loggerDetails','systemLogger','objectName','constructor','../../job-detail','objectDescribe','7359275wVNRLL','6356754ymuqxY','../../../constants','where','157wHWJzT','getDeployStream','12774XQYpXb','COUNT()','exception','../../retrieve/retrieve-factory','25985530ssYBzQ','whereClause','execute','../../deploy/deploy-factory','QueryService','258135irgfAg','SALESFORCE_API_VERSION','QueryBuilder','toString','from','_whereClause','error','type','228387NkNDWc','request','create'];a59_0x2404=function(){return _0x49250f;};return a59_0x2404();}'use strict';Object[a59_0x47b788(0xeb)](exports,a59_0x47b788(0xe9),{'value':!![]}),exports[a59_0x47b788(0xe7)]=void 0x0;const salesforce_1=require(a59_0x47b788(0xe4)),retrieve_factory_1=require(a59_0x47b788(0xd2)),constants_1=require(a59_0x47b788(0xcb)),deploy_factory_1=require(a59_0x47b788(0xd6)),job_detail_1=require(a59_0x47b788(0xc7)),FIELD_ID='Id';class BaseStep{constructor({loggerDetails:_0x49f1ed,loggerJobState:_0x2211ce,objectName:_0x51910b,request:_0xa11c6b,objectRule:_0x92f834,objectDescribe:_0x53612c}){const _0x3e64c9=a59_0x47b788;this[_0x3e64c9(0xf2)]=[],this[_0x3e64c9(0xc3)]=_0x49f1ed,this['loggerJobState']=_0x2211ce,this['objectName']=_0x51910b,this[_0x3e64c9(0xe1)]=_0xa11c6b,this['_whereClause']=_0x92f834[_0x3e64c9(0xd4)],this[_0x3e64c9(0xe6)]=_0x92f834[_0x3e64c9(0xdf)],this[_0x3e64c9(0xc8)]=_0x53612c;}async['getRecordsCount'](){const _0x22dab0=a59_0x47b788;try{const _0x16f11c=new salesforce_1[(_0x22dab0(0xda))]()['select'](_0x22dab0(0xd0))[_0x22dab0(0xdc)](this[_0x22dab0(0xc5)]);this[_0x22dab0(0xdd)]&&_0x16f11c[_0x22dab0(0xcc)](this['_whereClause']);const _0x4dbddf=await salesforce_1[_0x22dab0(0xd7)][_0x22dab0(0xd5)](this[_0x22dab0(0xe1)],{},_0x16f11c['build'](),![],constants_1[_0x22dab0(0xd9)]);return _0x4dbddf[_0x22dab0(0xea)];}catch(_0x300c35){return job_detail_1[_0x22dab0(0xc4)][_0x22dab0(0xde)](_0x300c35),-0x1;}}['getRetrieveStream'](){const _0x4c7814=a59_0x47b788,_0x5878ff={'request':this[_0x4c7814(0xe1)],'fields':this[_0x4c7814(0xf2)],'whereClause':this[_0x4c7814(0xdd)],'objectName':this[_0x4c7814(0xc5)],'describe':this[_0x4c7814(0xc8)]};return retrieve_factory_1[_0x4c7814(0xed)][_0x4c7814(0xe2)](_0x5878ff,this[_0x4c7814(0xf1)]);}[a59_0x47b788(0xce)](){const _0x361cd6=a59_0x47b788,_0x5f1720={'request':this[_0x361cd6(0xe1)],'objectName':this[_0x361cd6(0xc5)],'externalIdField':FIELD_ID,'loggerDetails':this[_0x361cd6(0xc3)],'loggerJobState':this[_0x361cd6(0xec)]};return deploy_factory_1[_0x361cd6(0xee)][_0x361cd6(0xe2)](_0x5f1720,this[_0x361cd6(0xe6)]);}[a59_0x47b788(0xf0)](_0x1c6a4b){const _0x31e5a2=a59_0x47b788;job_detail_1[_0x31e5a2(0xc4)]['log'](_0x1c6a4b,this[_0x31e5a2(0xc5)]),this['loggerDetails'][_0x31e5a2(0xf0)](_0x1c6a4b,this[_0x31e5a2(0xc5)]);}['error'](_0x20e1d5){const _0x14bee4=a59_0x47b788;job_detail_1[_0x14bee4(0xc4)][_0x14bee4(0xde)](_0x20e1d5,this[_0x14bee4(0xc5)]),this[_0x14bee4(0xc3)][_0x14bee4(0xd1)](_0x20e1d5['message'],this[_0x14bee4(0xc5)]);}}exports[a59_0x47b788(0xe7)]=BaseStep;