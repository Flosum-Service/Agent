function a75_0x5441(_0x417c3b,_0x39d7ab){const _0x352322=a75_0x11c8();return a75_0x5441=function(_0x41c41b,_0x520267){_0x41c41b=_0x41c41b-0x16c;let _0x11c8b5=_0x352322[_0x41c41b];return _0x11c8b5;},a75_0x5441(_0x417c3b,_0x39d7ab);}const a75_0x555be6=a75_0x5441;(function(_0x2cec87,_0x1e73b3){const _0x255113=a75_0x5441,_0x4d925b=_0x2cec87();while(!![]){try{const _0xce37ba=-parseInt(_0x255113(0x196))/0x1*(parseInt(_0x255113(0x1a8))/0x2)+parseInt(_0x255113(0x18e))/0x3*(parseInt(_0x255113(0x17b))/0x4)+-parseInt(_0x255113(0x19d))/0x5*(-parseInt(_0x255113(0x17a))/0x6)+parseInt(_0x255113(0x1a2))/0x7*(parseInt(_0x255113(0x172))/0x8)+-parseInt(_0x255113(0x180))/0x9+-parseInt(_0x255113(0x193))/0xa+-parseInt(_0x255113(0x18b))/0xb*(-parseInt(_0x255113(0x178))/0xc);if(_0xce37ba===_0x1e73b3)break;else _0x4d925b['push'](_0x4d925b['shift']());}catch(_0x11e39b){_0x4d925b['push'](_0x4d925b['shift']());}}}(a75_0x11c8,0x4971a));const a75_0x520267=(function(){let _0x4d22a2=!![];return function(_0x1766d6,_0x12f6a1){const _0x58f1b8=_0x4d22a2?function(){const _0x3de946=a75_0x5441;if(_0x12f6a1){const _0x301a1f=_0x12f6a1[_0x3de946(0x19b)](_0x1766d6,arguments);return _0x12f6a1=null,_0x301a1f;}}:function(){};return _0x4d22a2=![],_0x58f1b8;};}()),a75_0x41c41b=a75_0x520267(this,function(){const _0x2f22ce=a75_0x5441;return a75_0x41c41b[_0x2f22ce(0x18a)]()[_0x2f22ce(0x177)](_0x2f22ce(0x171))[_0x2f22ce(0x18a)]()['constructor'](a75_0x41c41b)[_0x2f22ce(0x177)](_0x2f22ce(0x171));});a75_0x41c41b();'use strict';var __importDefault=this&&this[a75_0x555be6(0x19a)]||function(_0x4b9fa9){return _0x4b9fa9&&_0x4b9fa9['__esModule']?_0x4b9fa9:{'default':_0x4b9fa9};};function a75_0x11c8(){const _0x14f2b3=['updateObjectProcess','525KXHHCl','filePath','join','successful','failed','processed','2asuWuP','JobStatus','defineProperty','ObjectStatus','_jobId','jobState','stringify','name','default','write','_jobPath','setObjectStatus','readFile','isLoggerInit','(((.+)+)+)+$','51016cgwhKY','includes','getJobState','jobStorePath','setJobStatus','search','935964dXAnku','error','1863066hhrstZ','4qiaLpx','@flosum/utils','updateLoggerState','getObjectState','start','2023137vuAgZc','initJobState','__esModule','init','../../enums/logger.enums','setJobError','_jobState','status','COMPLETED','map','toString','22nzsgvp','QUEUED','fs/promises','1123641mfJxhY','\x27\x20in\x20statistic','Logger\x20Job\x20State\x20wasn\x27t\x20init','parse','LoggerJobState','3262290YBvPKF','isExistsPath','utf-8','467479ORuLvx','FAILED','getTime','_isLoggerInit','__importDefault','apply','JOB_LOG_STATE_FILENAME','5epJxHG','writeFile','Cannot\x20find\x20object\x20\x27','completedDate'];a75_0x11c8=function(){return _0x14f2b3;};return a75_0x11c8();}Object[a75_0x555be6(0x1aa)](exports,a75_0x555be6(0x182),{'value':!![]}),exports[a75_0x555be6(0x192)]=void 0x0;const path_1=__importDefault(require('path')),logger_enums_1=require(a75_0x555be6(0x184)),base_logger_1=require('./base-logger'),promises_1=require(a75_0x555be6(0x18d)),job_detail_1=require('../../job-detail'),utils_1=require(a75_0x555be6(0x17c)),job_1=require('../../../../../constants/job');class LoggerJobState extends base_logger_1['BaseLogger']{constructor(){const _0x299e52=a75_0x555be6;super(...arguments),this[_0x299e52(0x199)]=![];}get[a75_0x555be6(0x170)](){const _0x409fd8=a75_0x555be6;return this[_0x409fd8(0x199)];}set[a75_0x555be6(0x170)](_0x50c501){const _0x44b5a2=a75_0x555be6;this[_0x44b5a2(0x199)]=_0x50c501;}get[a75_0x555be6(0x1ad)](){const _0x32ad50=a75_0x555be6;if(!this['isLoggerInit'])throw new Error(_0x32ad50(0x190));return this[_0x32ad50(0x186)];}get[a75_0x555be6(0x1a3)](){const _0x21947c=a75_0x555be6;return path_1[_0x21947c(0x1b0)][_0x21947c(0x1a4)](this[_0x21947c(0x16d)],job_1[_0x21947c(0x19c)]);}async[a75_0x555be6(0x183)](_0x59bad8){const _0xf3176=a75_0x555be6;return this[_0xf3176(0x186)]=await this[_0xf3176(0x174)](),this[_0xf3176(0x186)][_0xf3176(0x1a7)]=this['initObjectStatistics'](_0x59bad8),await this[_0xf3176(0x16c)](),await this[_0xf3176(0x17f)](),this[_0xf3176(0x170)]=!![],this;}[a75_0x555be6(0x16e)](_0x5384f3,_0x3eb619){const _0x26c0ee=a75_0x555be6;this[_0x26c0ee(0x17e)](_0x5384f3)[_0x26c0ee(0x187)]=_0x3eb619,this[_0x26c0ee(0x17d)]();}[a75_0x555be6(0x176)](_0x36225b){const _0x1fa68c=a75_0x555be6;this[_0x1fa68c(0x1ad)][_0x1fa68c(0x187)]=_0x36225b,[logger_enums_1['JobStatus'][_0x1fa68c(0x197)],logger_enums_1[_0x1fa68c(0x1a9)][_0x1fa68c(0x188)]][_0x1fa68c(0x173)](_0x36225b)&&(this[_0x1fa68c(0x1ad)][_0x1fa68c(0x1a0)]=new Date()[_0x1fa68c(0x198)]()),this[_0x1fa68c(0x17d)]();}[a75_0x555be6(0x185)](_0x1accbe){const _0x1e1f58=a75_0x555be6;this['jobState'][_0x1e1f58(0x179)]=_0x1accbe,this['updateLoggerState']();}[a75_0x555be6(0x1a1)](_0x52fe10,_0x121209,_0x11b451){const _0x5cca1e=a75_0x555be6,_0x30bff1=this[_0x5cca1e(0x17e)](_0x52fe10);_0x30bff1[_0x5cca1e(0x1a5)]+=_0x121209,_0x30bff1[_0x5cca1e(0x1a6)]+=_0x11b451,this[_0x5cca1e(0x1ad)][_0x5cca1e(0x1a5)]+=_0x121209,this[_0x5cca1e(0x1ad)][_0x5cca1e(0x1a6)]+=_0x11b451,this['updateLoggerState']();}[a75_0x555be6(0x17e)](_0x40e748){const _0x135496=a75_0x555be6;var _0x37fcb6;const _0x2c5373=(_0x37fcb6=this[_0x135496(0x1ad)]['processed'])===null||_0x37fcb6===void 0x0?void 0x0:_0x37fcb6['find'](_0xc5dcfe=>_0xc5dcfe[_0x135496(0x1af)]===_0x40e748);if(!_0x2c5373)throw new Error(_0x135496(0x19f)+_0x40e748+_0x135496(0x18f));return _0x2c5373;}async[a75_0x555be6(0x174)](){const _0x2dcb4f=a75_0x555be6;if(!await utils_1['FsUtils'][_0x2dcb4f(0x194)](this[_0x2dcb4f(0x1a3)]))return this[_0x2dcb4f(0x181)]();const _0x162f5d=await(0x0,promises_1[_0x2dcb4f(0x16f)])(job_detail_1[_0x2dcb4f(0x175)]+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':_0x2dcb4f(0x195)});return JSON[_0x2dcb4f(0x191)](_0x162f5d);}[a75_0x555be6(0x181)](){const _0xe6b567=a75_0x555be6;return{'id':this[_0xe6b567(0x1ac)],'status':logger_enums_1[_0xe6b567(0x1a9)][_0xe6b567(0x18c)],'processed':[],'createdDate':new Date()[_0xe6b567(0x198)](),'successful':0x0,'failed':0x0};}['initObjectStatistics'](_0xd046f1){const _0x44432a=a75_0x555be6;return _0xd046f1[_0x44432a(0x189)](_0x4a0f27=>({'name':_0x4a0f27,'status':logger_enums_1[_0x44432a(0x1ab)][_0x44432a(0x18c)],'failed':0x0,'successful':0x0}));}['write'](){const _0x457db1=a75_0x555be6;return(0x0,promises_1[_0x457db1(0x19e)])(this[_0x457db1(0x1a3)],JSON[_0x457db1(0x1ae)](this[_0x457db1(0x186)]));}}exports[a75_0x555be6(0x192)]=LoggerJobState;