function a76_0x3497(_0x3b106e,_0x59ef57){const _0x50e895=a76_0x3a38();return a76_0x3497=function(_0x3fb764,_0x1883df){_0x3fb764=_0x3fb764-0x129;let _0x3a3828=_0x50e895[_0x3fb764];return _0x3a3828;},a76_0x3497(_0x3b106e,_0x59ef57);}function a76_0x3a38(){const _0x4772cc=['LoggerJobState','jobState','isLoggerInit','../../../../../constants/job','defineProperty','status','write','441687Emxomn','Logger\x20Job\x20State\x20wasn\x27t\x20init','isExistsPath','_isLoggerInit','../../enums/logger.enums','includes','7134201RwHtkQ','parse','toString','initObjectStatistics','ObjectStatus','../../job-detail','@flosum/utils','completedDate','readFile','627055RsVfLK','__importDefault','search','path','updateLoggerState','7879554rOlxCr','_jobPath','setObjectStatus','getObjectState','JobStatus','FAILED','stringify','fs/promises','QUEUED','start','_jobId','1qTRIgk','2470898xKqAGZ','processed','896951HTeYab','BaseLogger','default','updateObjectProcess','JOB_LOG_STATE_FILENAME','1771384CsGpCR','./base-logger','jobStorePath','setJobStatus','map','apply','\x27\x20in\x20statistic','_jobState','FsUtils','36ImZQRr','21RpbSvJ','90REQHTt','getJobState','error','initJobState','filePath','getTime'];a76_0x3a38=function(){return _0x4772cc;};return a76_0x3a38();}const a76_0xa6e225=a76_0x3497;(function(_0x80c62f,_0x589352){const _0x1091c2=a76_0x3497,_0x44008e=_0x80c62f();while(!![]){try{const _0x206d2d=-parseInt(_0x1091c2(0x130))/0x1*(-parseInt(_0x1091c2(0x131))/0x2)+parseInt(_0x1091c2(0x150))/0x3*(-parseInt(_0x1091c2(0x141))/0x4)+-parseInt(_0x1091c2(0x15f))/0x5+-parseInt(_0x1091c2(0x164))/0x6+parseInt(_0x1091c2(0x142))/0x7*(parseInt(_0x1091c2(0x138))/0x8)+parseInt(_0x1091c2(0x156))/0x9+-parseInt(_0x1091c2(0x143))/0xa*(-parseInt(_0x1091c2(0x133))/0xb);if(_0x206d2d===_0x589352)break;else _0x44008e['push'](_0x44008e['shift']());}catch(_0x341813){_0x44008e['push'](_0x44008e['shift']());}}}(a76_0x3a38,0xa1c11));const a76_0x1883df=(function(){let _0x27cdcb=!![];return function(_0x33ba20,_0x328309){const _0x22b106=_0x27cdcb?function(){const _0x1a3501=a76_0x3497;if(_0x328309){const _0x4a980b=_0x328309[_0x1a3501(0x13d)](_0x33ba20,arguments);return _0x328309=null,_0x4a980b;}}:function(){};return _0x27cdcb=![],_0x22b106;};}()),a76_0x3fb764=a76_0x1883df(this,function(){const _0x98ea07=a76_0x3497;return a76_0x3fb764[_0x98ea07(0x158)]()[_0x98ea07(0x161)]('(((.+)+)+)+$')[_0x98ea07(0x158)]()['constructor'](a76_0x3fb764)[_0x98ea07(0x161)]('(((.+)+)+)+$');});a76_0x3fb764();'use strict';var __importDefault=this&&this[a76_0xa6e225(0x160)]||function(_0x20a92b){return _0x20a92b&&_0x20a92b['__esModule']?_0x20a92b:{'default':_0x20a92b};};Object[a76_0xa6e225(0x14d)](exports,'__esModule',{'value':!![]}),exports[a76_0xa6e225(0x149)]=void 0x0;const path_1=__importDefault(require(a76_0xa6e225(0x162))),logger_enums_1=require(a76_0xa6e225(0x154)),base_logger_1=require(a76_0xa6e225(0x139)),promises_1=require(a76_0xa6e225(0x12c)),job_detail_1=require(a76_0xa6e225(0x15b)),utils_1=require(a76_0xa6e225(0x15c)),job_1=require(a76_0xa6e225(0x14c));class LoggerJobState extends base_logger_1[a76_0xa6e225(0x134)]{constructor(){const _0x483fef=a76_0xa6e225;super(...arguments),this[_0x483fef(0x153)]=![];}get[a76_0xa6e225(0x14b)](){const _0x3cfba8=a76_0xa6e225;return this[_0x3cfba8(0x153)];}set[a76_0xa6e225(0x14b)](_0x17b226){this['_isLoggerInit']=_0x17b226;}get[a76_0xa6e225(0x14a)](){const _0x5021c1=a76_0xa6e225;if(!this[_0x5021c1(0x14b)])throw new Error(_0x5021c1(0x151));return this[_0x5021c1(0x13f)];}get[a76_0xa6e225(0x147)](){const _0x37715e=a76_0xa6e225;return path_1[_0x37715e(0x135)]['join'](this[_0x37715e(0x165)],job_1[_0x37715e(0x137)]);}async['init'](_0x40151b){const _0x1503c4=a76_0xa6e225;return this['_jobState']=await this[_0x1503c4(0x144)](),this[_0x1503c4(0x13f)][_0x1503c4(0x132)]=this[_0x1503c4(0x159)](_0x40151b),await this['write'](),await this[_0x1503c4(0x12e)](),this['isLoggerInit']=!![],this;}[a76_0xa6e225(0x166)](_0x32a5df,_0x27866c){const _0xf594fb=a76_0xa6e225;this[_0xf594fb(0x167)](_0x32a5df)[_0xf594fb(0x14e)]=_0x27866c,this['updateLoggerState']();}[a76_0xa6e225(0x13b)](_0x528836){const _0x5c6310=a76_0xa6e225;this[_0x5c6310(0x14a)]['status']=_0x528836,[logger_enums_1[_0x5c6310(0x129)][_0x5c6310(0x12a)],logger_enums_1[_0x5c6310(0x129)]['COMPLETED']][_0x5c6310(0x155)](_0x528836)&&(this[_0x5c6310(0x14a)][_0x5c6310(0x15d)]=new Date()[_0x5c6310(0x148)]()),this['updateLoggerState']();}['setJobError'](_0x4c5b08){const _0x291ba5=a76_0xa6e225;this[_0x291ba5(0x14a)][_0x291ba5(0x145)]=_0x4c5b08,this[_0x291ba5(0x163)]();}[a76_0xa6e225(0x136)](_0x147ee4,_0x387fb2,_0x3d48b4){const _0x4760bf=a76_0xa6e225,_0x30e317=this[_0x4760bf(0x167)](_0x147ee4);_0x30e317['successful']+=_0x387fb2,_0x30e317['failed']+=_0x3d48b4,this[_0x4760bf(0x14a)]['successful']+=_0x387fb2,this[_0x4760bf(0x14a)]['failed']+=_0x3d48b4,this[_0x4760bf(0x163)]();}['getObjectState'](_0x193a98){const _0x5c0859=a76_0xa6e225;var _0x2d4fdc;const _0x21710b=(_0x2d4fdc=this['jobState'][_0x5c0859(0x132)])===null||_0x2d4fdc===void 0x0?void 0x0:_0x2d4fdc['find'](_0x26b2b9=>_0x26b2b9['name']===_0x193a98);if(!_0x21710b)throw new Error('Cannot\x20find\x20object\x20\x27'+_0x193a98+_0x5c0859(0x13e));return _0x21710b;}async[a76_0xa6e225(0x144)](){const _0x4b0a5e=a76_0xa6e225;if(!await utils_1[_0x4b0a5e(0x140)][_0x4b0a5e(0x152)](this['filePath']))return this['initJobState']();const _0x19423e=await(0x0,promises_1[_0x4b0a5e(0x15e)])(job_detail_1[_0x4b0a5e(0x13a)]+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':'utf-8'});return JSON[_0x4b0a5e(0x157)](_0x19423e);}[a76_0xa6e225(0x146)](){const _0x10bf6f=a76_0xa6e225;return{'id':this[_0x10bf6f(0x12f)],'status':logger_enums_1[_0x10bf6f(0x129)]['QUEUED'],'processed':[],'createdDate':new Date()[_0x10bf6f(0x148)](),'successful':0x0,'failed':0x0};}[a76_0xa6e225(0x159)](_0x9914e4){const _0x53a4f9=a76_0xa6e225;return _0x9914e4[_0x53a4f9(0x13c)](_0x2dc547=>({'name':_0x2dc547,'status':logger_enums_1[_0x53a4f9(0x15a)][_0x53a4f9(0x12d)],'failed':0x0,'successful':0x0}));}[a76_0xa6e225(0x14f)](){const _0x15e5bd=a76_0xa6e225;return(0x0,promises_1['writeFile'])(this[_0x15e5bd(0x147)],JSON[_0x15e5bd(0x12b)](this['_jobState']));}}exports[a76_0xa6e225(0x149)]=LoggerJobState;