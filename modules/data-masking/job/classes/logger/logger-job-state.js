function a57_0x48ee(){const _0x57834a=['completedDate','write','filePath','map','includes','_jobPath','setJobStatus','getObjectState','initObjectStatistics','getJobState','apply','5936fYkhoV','parse','setObjectStatus','JobStatus','search','jobStorePath','getTime','__importDefault','readFile','updateLoggerState','default','QUEUED','20025OaUmIf','error','writeFile','status','initJobState','JOB_LOG_STATE_FILENAME','processed','start','3249568NQixWB','_jobState','./base-logger','647030pMDOrv','(((.+)+)+)+$','successful','49556MVArxi','name','toString','stringify','4460964yMtrwT','setJobError','jobState','_isLoggerInit','918CVIBSt','LoggerJobState','\x27\x20in\x20statistic','16NvGWrY','FAILED','join','isLoggerInit','ObjectStatus','../../../../../constants/job','__esModule','4230gZQcRJ','283794lHGkOS','failed','isExistsPath','utf-8','Cannot\x20find\x20object\x20\x27'];a57_0x48ee=function(){return _0x57834a;};return a57_0x48ee();}const a57_0x412e1f=a57_0x45c8;(function(_0x527b70,_0x51b825){const _0x11109b=a57_0x45c8,_0x15db4a=_0x527b70();while(!![]){try{const _0x141d71=parseInt(_0x11109b(0x110))/0x1+parseInt(_0x11109b(0x120))/0x2*(parseInt(_0x11109b(0x105))/0x3)+parseInt(_0x11109b(0x13a))/0x4+parseInt(_0x11109b(0x137))/0x5+-parseInt(_0x11109b(0x13e))/0x6+parseInt(_0x11109b(0x134))/0x7*(parseInt(_0x11109b(0x108))/0x8)+-parseInt(_0x11109b(0x12c))/0x9*(parseInt(_0x11109b(0x10f))/0xa);if(_0x141d71===_0x51b825)break;else _0x15db4a['push'](_0x15db4a['shift']());}catch(_0x495013){_0x15db4a['push'](_0x15db4a['shift']());}}}(a57_0x48ee,0x8d028));const a57_0x4f746d=(function(){let _0x29338e=!![];return function(_0x30af59,_0x4aba0e){const _0x36c656=_0x29338e?function(){const _0x61fa2c=a57_0x45c8;if(_0x4aba0e){const _0x10b397=_0x4aba0e[_0x61fa2c(0x11f)](_0x30af59,arguments);return _0x4aba0e=null,_0x10b397;}}:function(){};return _0x29338e=![],_0x36c656;};}()),a57_0xf9569b=a57_0x4f746d(this,function(){const _0x49c1f5=a57_0x45c8;return a57_0xf9569b[_0x49c1f5(0x13c)]()['search'](_0x49c1f5(0x138))[_0x49c1f5(0x13c)]()['constructor'](a57_0xf9569b)[_0x49c1f5(0x124)](_0x49c1f5(0x138));});function a57_0x45c8(_0x2ab3c6,_0x11e4bc){const _0x4cfe97=a57_0x48ee();return a57_0x45c8=function(_0xf9569b,_0x4f746d){_0xf9569b=_0xf9569b-0x104;let _0x48eeb8=_0x4cfe97[_0xf9569b];return _0x48eeb8;},a57_0x45c8(_0x2ab3c6,_0x11e4bc);}a57_0xf9569b();'use strict';var __importDefault=this&&this[a57_0x412e1f(0x127)]||function(_0x18922c){return _0x18922c&&_0x18922c['__esModule']?_0x18922c:{'default':_0x18922c};};Object['defineProperty'](exports,a57_0x412e1f(0x10e),{'value':!![]}),exports[a57_0x412e1f(0x106)]=void 0x0;const path_1=__importDefault(require('path')),logger_enums_1=require('../../enums/logger.enums'),base_logger_1=require(a57_0x412e1f(0x136)),promises_1=require('fs/promises'),job_detail_1=require('../../job-detail'),utils_1=require('@flosum/utils'),job_1=require(a57_0x412e1f(0x10d));class LoggerJobState extends base_logger_1['BaseLogger']{constructor(){super(...arguments),this['_isLoggerInit']=![];}get[a57_0x412e1f(0x10b)](){const _0x403e47=a57_0x412e1f;return this[_0x403e47(0x104)];}set['isLoggerInit'](_0x33cf8f){this['_isLoggerInit']=_0x33cf8f;}get['jobState'](){const _0x1cf3ea=a57_0x412e1f;if(!this[_0x1cf3ea(0x10b)])throw new Error('Logger\x20Job\x20State\x20wasn\x27t\x20init');return this['_jobState'];}get[a57_0x412e1f(0x117)](){const _0xc93494=a57_0x412e1f;return path_1[_0xc93494(0x12a)][_0xc93494(0x10a)](this[_0xc93494(0x11a)],job_1[_0xc93494(0x131)]);}async['init'](_0x5d5032){const _0x530201=a57_0x412e1f;return this[_0x530201(0x135)]=await this[_0x530201(0x11e)](),this['_jobState'][_0x530201(0x132)]=this[_0x530201(0x11d)](_0x5d5032),await this[_0x530201(0x116)](),await this[_0x530201(0x133)](),this[_0x530201(0x10b)]=!![],this;}[a57_0x412e1f(0x122)](_0x112635,_0x54c531){const _0x4bce3f=a57_0x412e1f;this[_0x4bce3f(0x11c)](_0x112635)[_0x4bce3f(0x12f)]=_0x54c531,this[_0x4bce3f(0x129)]();}[a57_0x412e1f(0x11b)](_0x517480){const _0x441c3c=a57_0x412e1f;this[_0x441c3c(0x140)][_0x441c3c(0x12f)]=_0x517480,[logger_enums_1[_0x441c3c(0x123)][_0x441c3c(0x109)],logger_enums_1[_0x441c3c(0x123)]['COMPLETED']][_0x441c3c(0x119)](_0x517480)&&(this[_0x441c3c(0x140)][_0x441c3c(0x115)]=new Date()[_0x441c3c(0x126)]()),this[_0x441c3c(0x129)]();}[a57_0x412e1f(0x13f)](_0x20a992){const _0x5ad954=a57_0x412e1f;this[_0x5ad954(0x140)][_0x5ad954(0x12d)]=_0x20a992,this['updateLoggerState']();}['updateObjectProcess'](_0x4ecd09,_0x4c4802,_0x5e2176){const _0x2146cb=a57_0x412e1f,_0xb08353=this[_0x2146cb(0x11c)](_0x4ecd09);_0xb08353[_0x2146cb(0x139)]+=_0x4c4802,_0xb08353[_0x2146cb(0x111)]+=_0x5e2176,this[_0x2146cb(0x129)]();}[a57_0x412e1f(0x11c)](_0x42355d){const _0x4cd11a=a57_0x412e1f;var _0xc53b11;const _0x3b376c=(_0xc53b11=this[_0x4cd11a(0x140)]['processed'])===null||_0xc53b11===void 0x0?void 0x0:_0xc53b11['find'](_0x963387=>_0x963387[_0x4cd11a(0x13b)]===_0x42355d);if(!_0x3b376c)throw new Error(_0x4cd11a(0x114)+_0x42355d+_0x4cd11a(0x107));return _0x3b376c;}async[a57_0x412e1f(0x11e)](){const _0x5cc389=a57_0x412e1f;if(!await utils_1['FsUtils'][_0x5cc389(0x112)](this[_0x5cc389(0x117)]))return this[_0x5cc389(0x130)]();const _0x490ae8=await(0x0,promises_1[_0x5cc389(0x128)])(job_detail_1[_0x5cc389(0x125)]+'/'+job_1[_0x5cc389(0x131)],{'encoding':_0x5cc389(0x113)});return JSON[_0x5cc389(0x121)](_0x490ae8);}['initJobState'](){const _0x4cf665=a57_0x412e1f;return{'id':this['_jobId'],'status':logger_enums_1['JobStatus'][_0x4cf665(0x12b)],'processed':[],'createdDate':new Date()[_0x4cf665(0x126)]()};}['initObjectStatistics'](_0x7405c2){const _0x18462f=a57_0x412e1f;return _0x7405c2[_0x18462f(0x118)](_0x3e7516=>({'name':_0x3e7516,'status':logger_enums_1[_0x18462f(0x10c)][_0x18462f(0x12b)],'failed':0x0,'successful':0x0}));}['write'](){const _0x25804a=a57_0x412e1f;return(0x0,promises_1[_0x25804a(0x12e)])(this[_0x25804a(0x117)],JSON[_0x25804a(0x13d)](this[_0x25804a(0x135)]));}}exports[a57_0x412e1f(0x106)]=LoggerJobState;