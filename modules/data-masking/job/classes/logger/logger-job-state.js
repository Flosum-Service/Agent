const a75_0x2c8f75=a75_0x53b4;(function(_0x54facf,_0x21ed4c){const _0x55d458=a75_0x53b4,_0x169769=_0x54facf();while(!![]){try{const _0x119de2=-parseInt(_0x55d458(0x218))/0x1*(parseInt(_0x55d458(0x1ea))/0x2)+-parseInt(_0x55d458(0x214))/0x3*(parseInt(_0x55d458(0x211))/0x4)+-parseInt(_0x55d458(0x1f8))/0x5+-parseInt(_0x55d458(0x204))/0x6*(-parseInt(_0x55d458(0x1ff))/0x7)+parseInt(_0x55d458(0x20b))/0x8*(-parseInt(_0x55d458(0x1f3))/0x9)+-parseInt(_0x55d458(0x1f6))/0xa*(-parseInt(_0x55d458(0x1f2))/0xb)+parseInt(_0x55d458(0x1fc))/0xc;if(_0x119de2===_0x21ed4c)break;else _0x169769['push'](_0x169769['shift']());}catch(_0x4421f6){_0x169769['push'](_0x169769['shift']());}}}(a75_0x2e9d,0x45be5));const a75_0x3af659=(function(){let _0x4d345c=!![];return function(_0x2f9b5f,_0x354cfe){const _0x2c6c7e=_0x4d345c?function(){const _0x5213e6=a75_0x53b4;if(_0x354cfe){const _0x1b229f=_0x354cfe[_0x5213e6(0x209)](_0x2f9b5f,arguments);return _0x354cfe=null,_0x1b229f;}}:function(){};return _0x4d345c=![],_0x2c6c7e;};}()),a75_0x51103b=a75_0x3af659(this,function(){const _0x346781=a75_0x53b4;return a75_0x51103b[_0x346781(0x210)]()[_0x346781(0x200)](_0x346781(0x1f5))['toString']()[_0x346781(0x220)](a75_0x51103b)[_0x346781(0x200)](_0x346781(0x1f5));});a75_0x51103b();'use strict';var __importDefault=this&&this[a75_0x2c8f75(0x203)]||function(_0xb4fa0d){const _0xa1ab51=a75_0x2c8f75;return _0xb4fa0d&&_0xb4fa0d[_0xa1ab51(0x216)]?_0xb4fa0d:{'default':_0xb4fa0d};};Object[a75_0x2c8f75(0x212)](exports,a75_0x2c8f75(0x216),{'value':!![]}),exports[a75_0x2c8f75(0x20d)]=void 0x0;const path_1=__importDefault(require(a75_0x2c8f75(0x1fa))),logger_enums_1=require(a75_0x2c8f75(0x1fd)),base_logger_1=require('./base-logger'),promises_1=require('fs/promises'),job_detail_1=require(a75_0x2c8f75(0x1e9)),utils_1=require('@flosum/utils'),job_1=require(a75_0x2c8f75(0x20f));function a75_0x53b4(_0x782c8d,_0x46e110){const _0x16b094=a75_0x2e9d();return a75_0x53b4=function(_0x51103b,_0x3af659){_0x51103b=_0x51103b-0x1e3;let _0x2e9d5f=_0x16b094[_0x51103b];return _0x2e9d5f;},a75_0x53b4(_0x782c8d,_0x46e110);}class LoggerJobState extends base_logger_1['BaseLogger']{constructor(){const _0x5ada80=a75_0x2c8f75;super(...arguments),this[_0x5ada80(0x221)]=![];}get[a75_0x2c8f75(0x215)](){const _0x352855=a75_0x2c8f75;return this[_0x352855(0x221)];}set['isLoggerInit'](_0x39e8b3){const _0x6fe03c=a75_0x2c8f75;this[_0x6fe03c(0x221)]=_0x39e8b3;}get[a75_0x2c8f75(0x20e)](){const _0x4b470a=a75_0x2c8f75;if(!this[_0x4b470a(0x215)])throw new Error(_0x4b470a(0x21b));return this['_jobState'];}get[a75_0x2c8f75(0x20a)](){const _0x5f3722=a75_0x2c8f75;return path_1[_0x5f3722(0x201)]['join'](this[_0x5f3722(0x21c)],job_1[_0x5f3722(0x207)]);}async[a75_0x2c8f75(0x219)](_0x4eec12){const _0x292619=a75_0x2c8f75;return this[_0x292619(0x1e5)]=await this[_0x292619(0x1ef)](),this[_0x292619(0x1e5)][_0x292619(0x20c)]=this[_0x292619(0x1f9)](_0x4eec12),await this[_0x292619(0x21e)](),await this[_0x292619(0x1ec)](),this[_0x292619(0x215)]=!![],this;}['setObjectStatus'](_0x2ec0b1,_0x45e3e0){const _0x26d157=a75_0x2c8f75;this[_0x26d157(0x1e3)](_0x2ec0b1)[_0x26d157(0x217)]=_0x45e3e0,this['updateLoggerState']();}['setJobStatus'](_0x45fb3d){const _0x50831c=a75_0x2c8f75;this['jobState'][_0x50831c(0x217)]=_0x45fb3d,[logger_enums_1[_0x50831c(0x1f1)][_0x50831c(0x1f0)],logger_enums_1['JobStatus']['COMPLETED']][_0x50831c(0x206)](_0x45fb3d)&&(this[_0x50831c(0x20e)][_0x50831c(0x1e4)]=new Date()[_0x50831c(0x1e7)]()),this[_0x50831c(0x208)]();}['setJobError'](_0x4cce65){const _0x1ca203=a75_0x2c8f75;this[_0x1ca203(0x20e)][_0x1ca203(0x1ed)]=_0x4cce65,this[_0x1ca203(0x208)]();}[a75_0x2c8f75(0x21f)](_0x1ade32,_0x48545e,_0x260726){const _0x53c8f3=a75_0x2c8f75,_0x21ceee=this[_0x53c8f3(0x1e3)](_0x1ade32);_0x21ceee[_0x53c8f3(0x1e6)]+=_0x48545e,_0x21ceee[_0x53c8f3(0x1fe)]+=_0x260726,this['jobState'][_0x53c8f3(0x1e6)]+=_0x48545e,this['jobState'][_0x53c8f3(0x1fe)]+=_0x260726,this[_0x53c8f3(0x208)]();}[a75_0x2c8f75(0x1e3)](_0x512407){const _0x3a8fd7=a75_0x2c8f75;var _0x122bf9;const _0x29d963=(_0x122bf9=this[_0x3a8fd7(0x20e)][_0x3a8fd7(0x20c)])===null||_0x122bf9===void 0x0?void 0x0:_0x122bf9['find'](_0x58a7ea=>_0x58a7ea[_0x3a8fd7(0x1f4)]===_0x512407);if(!_0x29d963)throw new Error(_0x3a8fd7(0x213)+_0x512407+_0x3a8fd7(0x205));return _0x29d963;}async[a75_0x2c8f75(0x1ef)](){const _0x1f1e33=a75_0x2c8f75;if(!await utils_1[_0x1f1e33(0x1fb)][_0x1f1e33(0x1f7)](this['filePath']))return this['initJobState']();const _0x700acd=await(0x0,promises_1[_0x1f1e33(0x1ee)])(job_detail_1['jobStorePath']+'/'+job_1[_0x1f1e33(0x207)],{'encoding':_0x1f1e33(0x1e8)});return JSON['parse'](_0x700acd);}['initJobState'](){const _0x55dbfc=a75_0x2c8f75;return{'id':this['_jobId'],'status':logger_enums_1[_0x55dbfc(0x1f1)][_0x55dbfc(0x1eb)],'processed':[],'createdDate':new Date()[_0x55dbfc(0x1e7)](),'successful':0x0,'failed':0x0};}[a75_0x2c8f75(0x1f9)](_0x202a41){const _0x6dac99=a75_0x2c8f75;return _0x202a41[_0x6dac99(0x202)](_0x97429d=>({'name':_0x97429d,'status':logger_enums_1['ObjectStatus'][_0x6dac99(0x1eb)],'failed':0x0,'successful':0x0}));}[a75_0x2c8f75(0x21e)](){const _0x2bec22=a75_0x2c8f75;return(0x0,promises_1[_0x2bec22(0x21a)])(this[_0x2bec22(0x20a)],JSON[_0x2bec22(0x21d)](this['_jobState']));}}exports[a75_0x2c8f75(0x20d)]=LoggerJobState;function a75_0x2e9d(){const _0x2a3be4=['status','193oflqwe','init','writeFile','Logger\x20Job\x20State\x20wasn\x27t\x20init','_jobPath','stringify','write','updateObjectProcess','constructor','_isLoggerInit','getObjectState','completedDate','_jobState','successful','getTime','utf-8','../../job-detail','5362WnsXAr','QUEUED','start','error','readFile','getJobState','FAILED','JobStatus','33JFYtiS','351Avwhfx','name','(((.+)+)+)+$','1232430XBHQlH','isExistsPath','2817775hqLfwY','initObjectStatistics','path','FsUtils','14405136YLeRSt','../../enums/logger.enums','failed','7zBQOlH','search','default','map','__importDefault','1444062Ofumqx','\x27\x20in\x20statistic','includes','JOB_LOG_STATE_FILENAME','updateLoggerState','apply','filePath','26840DpArnW','processed','LoggerJobState','jobState','../../../../../constants/job','toString','104444yZadcj','defineProperty','Cannot\x20find\x20object\x20\x27','36gULgvU','isLoggerInit','__esModule'];a75_0x2e9d=function(){return _0x2a3be4;};return a75_0x2e9d();}