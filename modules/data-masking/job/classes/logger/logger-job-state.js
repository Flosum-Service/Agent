function a57_0x2512(_0x4540b8,_0x27fce1){const _0x12a3dd=a57_0x1a54();return a57_0x2512=function(_0x383090,_0x5e8e15){_0x383090=_0x383090-0x154;let _0x1a5494=_0x12a3dd[_0x383090];return _0x1a5494;},a57_0x2512(_0x4540b8,_0x27fce1);}const a57_0x4fb89c=a57_0x2512;(function(_0x3d2f07,_0x59e7ce){const _0x2770a4=a57_0x2512,_0x29c48a=_0x3d2f07();while(!![]){try{const _0x3f3947=-parseInt(_0x2770a4(0x180))/0x1*(parseInt(_0x2770a4(0x181))/0x2)+parseInt(_0x2770a4(0x19c))/0x3*(parseInt(_0x2770a4(0x199))/0x4)+parseInt(_0x2770a4(0x18d))/0x5*(-parseInt(_0x2770a4(0x157))/0x6)+-parseInt(_0x2770a4(0x177))/0x7*(-parseInt(_0x2770a4(0x17b))/0x8)+-parseInt(_0x2770a4(0x159))/0x9+-parseInt(_0x2770a4(0x16e))/0xa*(parseInt(_0x2770a4(0x15e))/0xb)+parseInt(_0x2770a4(0x176))/0xc;if(_0x3f3947===_0x59e7ce)break;else _0x29c48a['push'](_0x29c48a['shift']());}catch(_0x823278){_0x29c48a['push'](_0x29c48a['shift']());}}}(a57_0x1a54,0x4c53e));const a57_0x5e8e15=(function(){let _0x2bd1a4=!![];return function(_0x455e4b,_0x305d89){const _0x5a52c5=_0x2bd1a4?function(){const _0xc43667=a57_0x2512;if(_0x305d89){const _0x3b4250=_0x305d89[_0xc43667(0x156)](_0x455e4b,arguments);return _0x305d89=null,_0x3b4250;}}:function(){};return _0x2bd1a4=![],_0x5a52c5;};}()),a57_0x383090=a57_0x5e8e15(this,function(){const _0x3540dd=a57_0x2512;return a57_0x383090[_0x3540dd(0x172)]()[_0x3540dd(0x168)]('(((.+)+)+)+$')[_0x3540dd(0x172)]()[_0x3540dd(0x15c)](a57_0x383090)[_0x3540dd(0x168)](_0x3540dd(0x161));});a57_0x383090();'use strict';var __importDefault=this&&this[a57_0x4fb89c(0x17f)]||function(_0x527c66){const _0x499eeb=a57_0x4fb89c;return _0x527c66&&_0x527c66[_0x499eeb(0x197)]?_0x527c66:{'default':_0x527c66};};Object[a57_0x4fb89c(0x15f)](exports,a57_0x4fb89c(0x197),{'value':!![]}),exports[a57_0x4fb89c(0x191)]=void 0x0;const path_1=__importDefault(require(a57_0x4fb89c(0x18b))),logger_enums_1=require(a57_0x4fb89c(0x15d)),base_logger_1=require(a57_0x4fb89c(0x195)),promises_1=require(a57_0x4fb89c(0x16f)),job_detail_1=require('../../job-detail'),utils_1=require(a57_0x4fb89c(0x189)),job_1=require('../../../../../constants/job');function a57_0x1a54(){const _0x3f3c5d=['isLoggerInit','join','getJobState','search','failed','write','readFile','setObjectStatus','initObjectStatistics','90ptWzpe','fs/promises','getTime','_jobPath','toString','completedDate','writeFile','default','19794612nvqVTf','119iDySEx','parse','find','status','271808ZalNhx','includes','\x27\x20in\x20statistic','setJobStatus','__importDefault','1uGVbWH','1122764cZXMgY','map','filePath','QUEUED','error','initJobState','updateLoggerState','processed','@flosum/utils','successful','path','_isLoggerInit','208275hjOuFt','_jobState','init','FsUtils','LoggerJobState','updateObjectProcess','JOB_LOG_STATE_FILENAME','COMPLETED','./base-logger','JobStatus','__esModule','jobStorePath','44rEmTCC','stringify','_jobId','81501zmyXpp','name','FAILED','jobState','apply','84UABfyW','setJobError','4119453BukszF','Cannot\x20find\x20object\x20\x27','ObjectStatus','constructor','../../enums/logger.enums','746867OjDJeJ','defineProperty','utf-8','(((.+)+)+)+$','Logger\x20Job\x20State\x20wasn\x27t\x20init','BaseLogger','isExistsPath'];a57_0x1a54=function(){return _0x3f3c5d;};return a57_0x1a54();}class LoggerJobState extends base_logger_1[a57_0x4fb89c(0x163)]{constructor(){const _0x36dc60=a57_0x4fb89c;super(...arguments),this[_0x36dc60(0x18c)]=![];}get['isLoggerInit'](){const _0x2e171b=a57_0x4fb89c;return this[_0x2e171b(0x18c)];}set[a57_0x4fb89c(0x165)](_0x559718){const _0x411af1=a57_0x4fb89c;this[_0x411af1(0x18c)]=_0x559718;}get[a57_0x4fb89c(0x155)](){const _0x135bb2=a57_0x4fb89c;if(!this[_0x135bb2(0x165)])throw new Error(_0x135bb2(0x162));return this[_0x135bb2(0x18e)];}get[a57_0x4fb89c(0x183)](){const _0x52f242=a57_0x4fb89c;return path_1[_0x52f242(0x175)][_0x52f242(0x166)](this[_0x52f242(0x171)],job_1[_0x52f242(0x193)]);}async[a57_0x4fb89c(0x18f)](_0x19fef8){const _0x640164=a57_0x4fb89c;return this[_0x640164(0x18e)]=await this['getJobState'](),this['_jobState'][_0x640164(0x188)]=this[_0x640164(0x16d)](_0x19fef8),await this[_0x640164(0x16a)](),await this['start'](),this[_0x640164(0x165)]=!![],this;}[a57_0x4fb89c(0x16c)](_0x3133a9,_0x353eaf){const _0x2755c3=a57_0x4fb89c;this['getObjectState'](_0x3133a9)[_0x2755c3(0x17a)]=_0x353eaf,this[_0x2755c3(0x187)]();}[a57_0x4fb89c(0x17e)](_0x4a0c13){const _0x25e7ec=a57_0x4fb89c;this[_0x25e7ec(0x155)][_0x25e7ec(0x17a)]=_0x4a0c13,[logger_enums_1[_0x25e7ec(0x196)][_0x25e7ec(0x154)],logger_enums_1[_0x25e7ec(0x196)][_0x25e7ec(0x194)]][_0x25e7ec(0x17c)](_0x4a0c13)&&(this[_0x25e7ec(0x155)][_0x25e7ec(0x173)]=new Date()[_0x25e7ec(0x170)]()),this[_0x25e7ec(0x187)]();}[a57_0x4fb89c(0x158)](_0x24dc9e){const _0xbbf67a=a57_0x4fb89c;this[_0xbbf67a(0x155)][_0xbbf67a(0x185)]=_0x24dc9e,this[_0xbbf67a(0x187)]();}[a57_0x4fb89c(0x192)](_0x11a3d5,_0x36291c,_0x188ea8){const _0x2de8dd=a57_0x4fb89c,_0x398806=this['getObjectState'](_0x11a3d5);_0x398806[_0x2de8dd(0x18a)]+=_0x36291c,_0x398806[_0x2de8dd(0x169)]+=_0x188ea8,this[_0x2de8dd(0x155)][_0x2de8dd(0x18a)]+=_0x36291c,this[_0x2de8dd(0x155)]['failed']+=_0x188ea8,this['updateLoggerState']();}['getObjectState'](_0x290f0f){const _0x8a8a8e=a57_0x4fb89c;var _0x54121b;const _0x17b5ed=(_0x54121b=this[_0x8a8a8e(0x155)]['processed'])===null||_0x54121b===void 0x0?void 0x0:_0x54121b[_0x8a8a8e(0x179)](_0x42e73f=>_0x42e73f[_0x8a8a8e(0x19d)]===_0x290f0f);if(!_0x17b5ed)throw new Error(_0x8a8a8e(0x15a)+_0x290f0f+_0x8a8a8e(0x17d));return _0x17b5ed;}async[a57_0x4fb89c(0x167)](){const _0x6b663c=a57_0x4fb89c;if(!await utils_1[_0x6b663c(0x190)][_0x6b663c(0x164)](this['filePath']))return this[_0x6b663c(0x186)]();const _0x53458a=await(0x0,promises_1[_0x6b663c(0x16b)])(job_detail_1[_0x6b663c(0x198)]+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':_0x6b663c(0x160)});return JSON[_0x6b663c(0x178)](_0x53458a);}[a57_0x4fb89c(0x186)](){const _0x35e854=a57_0x4fb89c;return{'id':this[_0x35e854(0x19b)],'status':logger_enums_1['JobStatus'][_0x35e854(0x184)],'processed':[],'createdDate':new Date()['getTime'](),'successful':0x0,'failed':0x0};}[a57_0x4fb89c(0x16d)](_0x862675){const _0xff7202=a57_0x4fb89c;return _0x862675[_0xff7202(0x182)](_0x317d76=>({'name':_0x317d76,'status':logger_enums_1[_0xff7202(0x15b)]['QUEUED'],'failed':0x0,'successful':0x0}));}[a57_0x4fb89c(0x16a)](){const _0xae771e=a57_0x4fb89c;return(0x0,promises_1[_0xae771e(0x174)])(this[_0xae771e(0x183)],JSON[_0xae771e(0x19a)](this[_0xae771e(0x18e)]));}}exports['LoggerJobState']=LoggerJobState;