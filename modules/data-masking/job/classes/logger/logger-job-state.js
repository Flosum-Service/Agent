function a58_0x235f(){const _0x4384c2=['status','20100QpIOzV','name','fs/promises','find','243614bXZPBa','7801673UueNnG','stringify','search','8TrGlOH','110Iicjzm','../../job-detail','successful','error','FAILED','354402sRJRRN','toString','defineProperty','setObjectStatus','./base-logger','COMPLETED','write','parse','utf-8','@flosum/utils','updateObjectProcess','getObjectState','setJobStatus','1097keagTH','_jobId','12LRoHQH','failed','LoggerJobState','__importDefault','Logger\x20Job\x20State\x20wasn\x27t\x20init','ObjectStatus','includes','369310MsUruM','7sssrBT','54MiqZvz','1464024VHGZBa','path','QUEUED','\x27\x20in\x20statistic','isExistsPath','_isLoggerInit','updateLoggerState','_jobState','filePath','isLoggerInit','(((.+)+)+)+$','getJobState','jobState','getTime','initJobState','readFile','default','initObjectStatistics','completedDate','Cannot\x20find\x20object\x20\x27','__esModule','start','processed','init','JobStatus'];a58_0x235f=function(){return _0x4384c2;};return a58_0x235f();}const a58_0x443d13=a58_0x3ee5;(function(_0x2c325a,_0x485d81){const _0x47baaa=a58_0x3ee5,_0x2270f0=_0x2c325a();while(!![]){try{const _0x390a5e=-parseInt(_0x47baaa(0xf6))/0x1+parseInt(_0x47baaa(0xdf))/0x2+-parseInt(_0x47baaa(0xe9))/0x3*(-parseInt(_0x47baaa(0xe3))/0x4)+parseInt(_0x47baaa(0xe4))/0x5*(parseInt(_0x47baaa(0xdb))/0x6)+-parseInt(_0x47baaa(0x100))/0x7*(-parseInt(_0x47baaa(0x102))/0x8)+-parseInt(_0x47baaa(0x101))/0x9*(-parseInt(_0x47baaa(0xff))/0xa)+-parseInt(_0x47baaa(0xe0))/0xb*(parseInt(_0x47baaa(0xf8))/0xc);if(_0x390a5e===_0x485d81)break;else _0x2270f0['push'](_0x2270f0['shift']());}catch(_0x520c74){_0x2270f0['push'](_0x2270f0['shift']());}}}(a58_0x235f,0x1ec48));const a58_0x44565f=(function(){let _0x124405=!![];return function(_0x5a4bf2,_0x286d58){const _0xfc259=_0x124405?function(){if(_0x286d58){const _0x32a74a=_0x286d58['apply'](_0x5a4bf2,arguments);return _0x286d58=null,_0x32a74a;}}:function(){};return _0x124405=![],_0xfc259;};}()),a58_0xe117a=a58_0x44565f(this,function(){const _0x376eea=a58_0x3ee5;return a58_0xe117a[_0x376eea(0xea)]()[_0x376eea(0xe2)]('(((.+)+)+)+$')[_0x376eea(0xea)]()['constructor'](a58_0xe117a)[_0x376eea(0xe2)](_0x376eea(0xcb));});a58_0xe117a();'use strict';var __importDefault=this&&this[a58_0x443d13(0xfb)]||function(_0x4cf2bb){const _0x1651f7=a58_0x443d13;return _0x4cf2bb&&_0x4cf2bb[_0x1651f7(0xd5)]?_0x4cf2bb:{'default':_0x4cf2bb};};function a58_0x3ee5(_0x38b89c,_0x394605){const _0x33c332=a58_0x235f();return a58_0x3ee5=function(_0xe117a,_0x44565f){_0xe117a=_0xe117a-0xc2;let _0x235f2c=_0x33c332[_0xe117a];return _0x235f2c;},a58_0x3ee5(_0x38b89c,_0x394605);}Object[a58_0x443d13(0xeb)](exports,'__esModule',{'value':!![]}),exports[a58_0x443d13(0xfa)]=void 0x0;const path_1=__importDefault(require(a58_0x443d13(0xc2))),logger_enums_1=require('../../enums/logger.enums'),base_logger_1=require(a58_0x443d13(0xed)),promises_1=require(a58_0x443d13(0xdd)),job_detail_1=require(a58_0x443d13(0xe5)),utils_1=require(a58_0x443d13(0xf2)),job_1=require('../../../../../constants/job');class LoggerJobState extends base_logger_1['BaseLogger']{constructor(){const _0x4eb9d7=a58_0x443d13;super(...arguments),this[_0x4eb9d7(0xc6)]=![];}get[a58_0x443d13(0xca)](){return this['_isLoggerInit'];}set[a58_0x443d13(0xca)](_0x18b5b0){const _0x1aa375=a58_0x443d13;this[_0x1aa375(0xc6)]=_0x18b5b0;}get[a58_0x443d13(0xcd)](){const _0x3e95e0=a58_0x443d13;if(!this['isLoggerInit'])throw new Error(_0x3e95e0(0xfc));return this[_0x3e95e0(0xc8)];}get[a58_0x443d13(0xc9)](){const _0x5c5258=a58_0x443d13;return path_1[_0x5c5258(0xd1)]['join'](this['_jobPath'],job_1['JOB_LOG_STATE_FILENAME']);}async[a58_0x443d13(0xd8)](_0x858538){const _0x1f7275=a58_0x443d13;return this[_0x1f7275(0xc8)]=await this[_0x1f7275(0xcc)](),this[_0x1f7275(0xc8)]['processed']=this[_0x1f7275(0xd2)](_0x858538),await this['write'](),await this[_0x1f7275(0xd6)](),this[_0x1f7275(0xca)]=!![],this;}[a58_0x443d13(0xec)](_0xfea83c,_0x9535b9){const _0x62f3d8=a58_0x443d13;this[_0x62f3d8(0xf4)](_0xfea83c)[_0x62f3d8(0xda)]=_0x9535b9,this[_0x62f3d8(0xc7)]();}[a58_0x443d13(0xf5)](_0x511c9b){const _0x738a66=a58_0x443d13;this[_0x738a66(0xcd)]['status']=_0x511c9b,[logger_enums_1[_0x738a66(0xd9)][_0x738a66(0xe8)],logger_enums_1['JobStatus'][_0x738a66(0xee)]][_0x738a66(0xfe)](_0x511c9b)&&(this[_0x738a66(0xcd)][_0x738a66(0xd3)]=new Date()[_0x738a66(0xce)]()),this[_0x738a66(0xc7)]();}['setJobError'](_0x2ffbc0){const _0x4bf955=a58_0x443d13;this[_0x4bf955(0xcd)][_0x4bf955(0xe7)]=_0x2ffbc0,this[_0x4bf955(0xc7)]();}[a58_0x443d13(0xf3)](_0x394dc5,_0x45178f,_0x1cd424){const _0x276d35=a58_0x443d13,_0x442a7a=this[_0x276d35(0xf4)](_0x394dc5);_0x442a7a[_0x276d35(0xe6)]+=_0x45178f,_0x442a7a[_0x276d35(0xf9)]+=_0x1cd424,this[_0x276d35(0xcd)][_0x276d35(0xe6)]+=_0x45178f,this[_0x276d35(0xcd)][_0x276d35(0xf9)]+=_0x1cd424,this[_0x276d35(0xc7)]();}['getObjectState'](_0x4ec2b7){const _0x3a3ed2=a58_0x443d13;var _0x2a6738;const _0x197c93=(_0x2a6738=this[_0x3a3ed2(0xcd)][_0x3a3ed2(0xd7)])===null||_0x2a6738===void 0x0?void 0x0:_0x2a6738[_0x3a3ed2(0xde)](_0x1afa2c=>_0x1afa2c[_0x3a3ed2(0xdc)]===_0x4ec2b7);if(!_0x197c93)throw new Error(_0x3a3ed2(0xd4)+_0x4ec2b7+_0x3a3ed2(0xc4));return _0x197c93;}async[a58_0x443d13(0xcc)](){const _0x462266=a58_0x443d13;if(!await utils_1['FsUtils'][_0x462266(0xc5)](this[_0x462266(0xc9)]))return this[_0x462266(0xcf)]();const _0x794604=await(0x0,promises_1[_0x462266(0xd0)])(job_detail_1['jobStorePath']+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':_0x462266(0xf1)});return JSON[_0x462266(0xf0)](_0x794604);}['initJobState'](){const _0xcc51ee=a58_0x443d13;return{'id':this[_0xcc51ee(0xf7)],'status':logger_enums_1[_0xcc51ee(0xd9)][_0xcc51ee(0xc3)],'processed':[],'createdDate':new Date()[_0xcc51ee(0xce)](),'successful':0x0,'failed':0x0};}[a58_0x443d13(0xd2)](_0x20a6ba){const _0x1cbc9c=a58_0x443d13;return _0x20a6ba['map'](_0x14725b=>({'name':_0x14725b,'status':logger_enums_1[_0x1cbc9c(0xfd)]['QUEUED'],'failed':0x0,'successful':0x0}));}[a58_0x443d13(0xef)](){const _0x117f7c=a58_0x443d13;return(0x0,promises_1['writeFile'])(this['filePath'],JSON[_0x117f7c(0xe1)](this['_jobState']));}}exports[a58_0x443d13(0xfa)]=LoggerJobState;