const a75_0x413ed8=a75_0xa99a;function a75_0xa99a(_0x4a0b0f,_0x3540cf){const _0x4501ee=a75_0x1e91();return a75_0xa99a=function(_0x417b0f,_0x1ba3d3){_0x417b0f=_0x417b0f-0x94;let _0x1e918a=_0x4501ee[_0x417b0f];return _0x1e918a;},a75_0xa99a(_0x4a0b0f,_0x3540cf);}(function(_0x3211f6,_0x8e067f){const _0x572b85=a75_0xa99a,_0x3ce943=_0x3211f6();while(!![]){try{const _0x1f5e2d=parseInt(_0x572b85(0xbc))/0x1+parseInt(_0x572b85(0xc8))/0x2*(-parseInt(_0x572b85(0xbf))/0x3)+parseInt(_0x572b85(0x96))/0x4*(-parseInt(_0x572b85(0xaa))/0x5)+-parseInt(_0x572b85(0xd3))/0x6*(-parseInt(_0x572b85(0x9a))/0x7)+-parseInt(_0x572b85(0xa8))/0x8*(parseInt(_0x572b85(0xd4))/0x9)+-parseInt(_0x572b85(0xa9))/0xa+parseInt(_0x572b85(0xb0))/0xb;if(_0x1f5e2d===_0x8e067f)break;else _0x3ce943['push'](_0x3ce943['shift']());}catch(_0x23d117){_0x3ce943['push'](_0x3ce943['shift']());}}}(a75_0x1e91,0xc283c));const a75_0x1ba3d3=(function(){let _0x1257af=!![];return function(_0x2802c5,_0x3323f5){const _0x1d1e86=_0x1257af?function(){const _0x51a47f=a75_0xa99a;if(_0x3323f5){const _0x3fbca6=_0x3323f5[_0x51a47f(0xd5)](_0x2802c5,arguments);return _0x3323f5=null,_0x3fbca6;}}:function(){};return _0x1257af=![],_0x1d1e86;};}()),a75_0x417b0f=a75_0x1ba3d3(this,function(){const _0x53bb0e=a75_0xa99a;return a75_0x417b0f[_0x53bb0e(0x9c)]()[_0x53bb0e(0x9f)](_0x53bb0e(0xba))['toString']()[_0x53bb0e(0x9d)](a75_0x417b0f)[_0x53bb0e(0x9f)](_0x53bb0e(0xba));});a75_0x417b0f();'use strict';var __importDefault=this&&this[a75_0x413ed8(0xb9)]||function(_0x205948){const _0x13f51b=a75_0x413ed8;return _0x205948&&_0x205948[_0x13f51b(0xa4)]?_0x205948:{'default':_0x205948};};Object[a75_0x413ed8(0xa1)](exports,'__esModule',{'value':!![]}),exports[a75_0x413ed8(0xcb)]=void 0x0;const path_1=__importDefault(require('path')),logger_enums_1=require(a75_0x413ed8(0xa5)),base_logger_1=require(a75_0x413ed8(0xb3)),promises_1=require(a75_0x413ed8(0x97)),job_detail_1=require(a75_0x413ed8(0xc2)),utils_1=require(a75_0x413ed8(0xaf)),job_1=require(a75_0x413ed8(0xb7));class LoggerJobState extends base_logger_1['BaseLogger']{constructor(){super(...arguments),this['_isLoggerInit']=![];}get['isLoggerInit'](){return this['_isLoggerInit'];}set[a75_0x413ed8(0xcd)](_0x248526){const _0x259b8d=a75_0x413ed8;this[_0x259b8d(0xa0)]=_0x248526;}get['jobState'](){const _0x18ae7a=a75_0x413ed8;if(!this[_0x18ae7a(0xcd)])throw new Error('Logger\x20Job\x20State\x20wasn\x27t\x20init');return this[_0x18ae7a(0xda)];}get[a75_0x413ed8(0x9e)](){const _0xcb1521=a75_0x413ed8;return path_1[_0xcb1521(0x94)][_0xcb1521(0xc4)](this[_0xcb1521(0xd8)],job_1['JOB_LOG_STATE_FILENAME']);}async[a75_0x413ed8(0xad)](_0x402eab){const _0x877516=a75_0x413ed8;return this[_0x877516(0xda)]=await this[_0x877516(0xcc)](),this[_0x877516(0xda)][_0x877516(0xd7)]=this[_0x877516(0xc6)](_0x402eab),await this[_0x877516(0xce)](),await this[_0x877516(0xb8)](),this['isLoggerInit']=!![],this;}[a75_0x413ed8(0xc7)](_0x5e5d12,_0x3ba7ca){const _0x479fc9=a75_0x413ed8;this[_0x479fc9(0xa6)](_0x5e5d12)[_0x479fc9(0xd2)]=_0x3ba7ca,this['updateLoggerState']();}[a75_0x413ed8(0xd0)](_0xb180cc){const _0x551302=a75_0x413ed8;this[_0x551302(0xab)][_0x551302(0xd2)]=_0xb180cc,[logger_enums_1[_0x551302(0xb6)][_0x551302(0x98)],logger_enums_1[_0x551302(0xb6)][_0x551302(0xc3)]][_0x551302(0xac)](_0xb180cc)&&(this['jobState'][_0x551302(0xbb)]=new Date()[_0x551302(0xa3)]()),this['updateLoggerState']();}[a75_0x413ed8(0xc1)](_0x4f855c){const _0x4899fc=a75_0x413ed8;this[_0x4899fc(0xab)][_0x4899fc(0x99)]=_0x4f855c,this[_0x4899fc(0xb1)]();}[a75_0x413ed8(0x9b)](_0x5dcca3,_0x15d9fe,_0x476ada){const _0x2bbc63=a75_0x413ed8,_0x290448=this[_0x2bbc63(0xa6)](_0x5dcca3);_0x290448[_0x2bbc63(0xc0)]+=_0x15d9fe,_0x290448[_0x2bbc63(0xc5)]+=_0x476ada,this[_0x2bbc63(0xab)][_0x2bbc63(0xc0)]+=_0x15d9fe,this['jobState'][_0x2bbc63(0xc5)]+=_0x476ada,this[_0x2bbc63(0xb1)]();}[a75_0x413ed8(0xa6)](_0x378f4c){const _0x15a160=a75_0x413ed8;var _0x192279;const _0x5750c0=(_0x192279=this[_0x15a160(0xab)][_0x15a160(0xd7)])===null||_0x192279===void 0x0?void 0x0:_0x192279[_0x15a160(0xd6)](_0x4e51a7=>_0x4e51a7['name']===_0x378f4c);if(!_0x5750c0)throw new Error(_0x15a160(0xb2)+_0x378f4c+'\x27\x20in\x20statistic');return _0x5750c0;}async[a75_0x413ed8(0xcc)](){const _0x40196e=a75_0x413ed8;if(!await utils_1[_0x40196e(0xb4)][_0x40196e(0xca)](this[_0x40196e(0x9e)]))return this[_0x40196e(0x95)]();const _0x300b47=await(0x0,promises_1[_0x40196e(0xd1)])(job_detail_1[_0x40196e(0xbe)]+'/'+job_1[_0x40196e(0xcf)],{'encoding':_0x40196e(0xae)});return JSON[_0x40196e(0xc9)](_0x300b47);}[a75_0x413ed8(0x95)](){const _0x333a5f=a75_0x413ed8;return{'id':this[_0x333a5f(0xdb)],'status':logger_enums_1[_0x333a5f(0xb6)][_0x333a5f(0xb5)],'processed':[],'createdDate':new Date()[_0x333a5f(0xa3)](),'successful':0x0,'failed':0x0};}['initObjectStatistics'](_0x435e9b){const _0x51fee3=a75_0x413ed8;return _0x435e9b[_0x51fee3(0xd9)](_0x1f718c=>({'name':_0x1f718c,'status':logger_enums_1[_0x51fee3(0xa7)]['QUEUED'],'failed':0x0,'successful':0x0}));}[a75_0x413ed8(0xce)](){const _0x14ea14=a75_0x413ed8;return(0x0,promises_1[_0x14ea14(0xa2)])(this[_0x14ea14(0x9e)],JSON[_0x14ea14(0xbd)](this['_jobState']));}}exports[a75_0x413ed8(0xcb)]=LoggerJobState;function a75_0x1e91(){const _0xae92ad=['8590122qzotky','apply','find','processed','_jobPath','map','_jobState','_jobId','default','initJobState','2105564opBJGp','fs/promises','FAILED','error','2628689OuzFtr','updateObjectProcess','toString','constructor','filePath','search','_isLoggerInit','defineProperty','writeFile','getTime','__esModule','../../enums/logger.enums','getObjectState','ObjectStatus','8OCBjMK','14881350kvJOQs','10tNwVJs','jobState','includes','init','utf-8','@flosum/utils','29673468gClcuQ','updateLoggerState','Cannot\x20find\x20object\x20\x27','./base-logger','FsUtils','QUEUED','JobStatus','../../../../../constants/job','start','__importDefault','(((.+)+)+)+$','completedDate','1289136ehBZRa','stringify','jobStorePath','411FxraUd','successful','setJobError','../../job-detail','COMPLETED','join','failed','initObjectStatistics','setObjectStatus','1024PvGsmc','parse','isExistsPath','LoggerJobState','getJobState','isLoggerInit','write','JOB_LOG_STATE_FILENAME','setJobStatus','readFile','status','6gbcpmj'];a75_0x1e91=function(){return _0xae92ad;};return a75_0x1e91();}