function a58_0x269a(_0x137831,_0x35fef8){const _0x56ed3a=a58_0x58e4();return a58_0x269a=function(_0x44d110,_0x689cfa){_0x44d110=_0x44d110-0x178;let _0x58e406=_0x56ed3a[_0x44d110];return _0x58e406;},a58_0x269a(_0x137831,_0x35fef8);}const a58_0x4c98e8=a58_0x269a;function a58_0x58e4(){const _0xf0edec=['getTime','filePath','12895070gRJvlC','../../../../../constants/job','processed','jobStorePath','3575035WRoFvX','(((.+)+)+)+$','COMPLETED','writeFile','parse','38jubtXd','path','_jobState','__esModule','setJobStatus','5205053RrkDXS','readFile','failed','updateObjectProcess','_jobPath','toString','Logger\x20Job\x20State\x20wasn\x27t\x20init','6715650FrdoxF','getObjectState','includes','initJobState','QUEUED','constructor','setJobError','initObjectStatistics','11ykcACS','JOB_LOG_STATE_FILENAME','../../enums/logger.enums','\x27\x20in\x20statistic','find','status','getJobState','ObjectStatus','JobStatus','Cannot\x20find\x20object\x20\x27','_isLoggerInit','LoggerJobState','isLoggerInit','jobState','10089MJxchq','BaseLogger','FAILED','FsUtils','successful','16SmEqvX','stringify','isExistsPath','default','updateLoggerState','defineProperty','./base-logger','9pTZyPU','__importDefault','11481924OSJcLu','setObjectStatus','write','../../job-detail','932xNUavx','utf-8','24856aOjaWl'];a58_0x58e4=function(){return _0xf0edec;};return a58_0x58e4();}(function(_0x8699e0,_0x4b2c04){const _0x46237c=a58_0x269a,_0x4cf995=_0x8699e0();while(!![]){try{const _0x41fab8=-parseInt(_0x46237c(0x189))/0x1*(parseInt(_0x46237c(0x195))/0x2)+parseInt(_0x46237c(0x1b7))/0x3*(parseInt(_0x46237c(0x187))/0x4)+parseInt(_0x46237c(0x190))/0x5+parseInt(_0x46237c(0x1a1))/0x6+-parseInt(_0x46237c(0x19a))/0x7*(parseInt(_0x46237c(0x17a))/0x8)+-parseInt(_0x46237c(0x181))/0x9*(-parseInt(_0x46237c(0x18c))/0xa)+-parseInt(_0x46237c(0x1a9))/0xb*(parseInt(_0x46237c(0x183))/0xc);if(_0x41fab8===_0x4b2c04)break;else _0x4cf995['push'](_0x4cf995['shift']());}catch(_0x1123a8){_0x4cf995['push'](_0x4cf995['shift']());}}}(a58_0x58e4,0xf1f8f));const a58_0x689cfa=(function(){let _0x4d554d=!![];return function(_0x595fea,_0x54b0e9){const _0x9ecdd=_0x4d554d?function(){if(_0x54b0e9){const _0x2b649d=_0x54b0e9['apply'](_0x595fea,arguments);return _0x54b0e9=null,_0x2b649d;}}:function(){};return _0x4d554d=![],_0x9ecdd;};}()),a58_0x44d110=a58_0x689cfa(this,function(){const _0x4db590=a58_0x269a;return a58_0x44d110[_0x4db590(0x19f)]()['search']('(((.+)+)+)+$')[_0x4db590(0x19f)]()[_0x4db590(0x1a6)](a58_0x44d110)['search'](_0x4db590(0x191));});a58_0x44d110();'use strict';var __importDefault=this&&this[a58_0x4c98e8(0x182)]||function(_0x49bbba){const _0x167cb3=a58_0x4c98e8;return _0x49bbba&&_0x49bbba[_0x167cb3(0x198)]?_0x49bbba:{'default':_0x49bbba};};Object[a58_0x4c98e8(0x17f)](exports,'__esModule',{'value':!![]}),exports[a58_0x4c98e8(0x1b4)]=void 0x0;const path_1=__importDefault(require(a58_0x4c98e8(0x196))),logger_enums_1=require(a58_0x4c98e8(0x1ab)),base_logger_1=require(a58_0x4c98e8(0x180)),promises_1=require('fs/promises'),job_detail_1=require(a58_0x4c98e8(0x186)),utils_1=require('@flosum/utils'),job_1=require(a58_0x4c98e8(0x18d));class LoggerJobState extends base_logger_1[a58_0x4c98e8(0x1b8)]{constructor(){const _0x1a96cb=a58_0x4c98e8;super(...arguments),this[_0x1a96cb(0x1b3)]=![];}get[a58_0x4c98e8(0x1b5)](){const _0x486a78=a58_0x4c98e8;return this[_0x486a78(0x1b3)];}set['isLoggerInit'](_0xde74cc){const _0x2bec87=a58_0x4c98e8;this[_0x2bec87(0x1b3)]=_0xde74cc;}get[a58_0x4c98e8(0x1b6)](){const _0xebc1d7=a58_0x4c98e8;if(!this[_0xebc1d7(0x1b5)])throw new Error(_0xebc1d7(0x1a0));return this[_0xebc1d7(0x197)];}get[a58_0x4c98e8(0x18b)](){const _0x32c870=a58_0x4c98e8;return path_1[_0x32c870(0x17d)]['join'](this[_0x32c870(0x19e)],job_1[_0x32c870(0x1aa)]);}async['init'](_0x10f408){const _0x50a217=a58_0x4c98e8;return this[_0x50a217(0x197)]=await this[_0x50a217(0x1af)](),this['_jobState'][_0x50a217(0x18e)]=this[_0x50a217(0x1a8)](_0x10f408),await this[_0x50a217(0x185)](),await this['start'](),this[_0x50a217(0x1b5)]=!![],this;}[a58_0x4c98e8(0x184)](_0x241fd1,_0x24d266){const _0x4db7e3=a58_0x4c98e8;this[_0x4db7e3(0x1a2)](_0x241fd1)[_0x4db7e3(0x1ae)]=_0x24d266,this[_0x4db7e3(0x17e)]();}[a58_0x4c98e8(0x199)](_0x2f1101){const _0x1513a7=a58_0x4c98e8;this['jobState'][_0x1513a7(0x1ae)]=_0x2f1101,[logger_enums_1[_0x1513a7(0x1b1)][_0x1513a7(0x1b9)],logger_enums_1['JobStatus'][_0x1513a7(0x192)]][_0x1513a7(0x1a3)](_0x2f1101)&&(this[_0x1513a7(0x1b6)]['completedDate']=new Date()[_0x1513a7(0x18a)]()),this[_0x1513a7(0x17e)]();}[a58_0x4c98e8(0x1a7)](_0x4d8c98){const _0x229fac=a58_0x4c98e8;this[_0x229fac(0x1b6)]['error']=_0x4d8c98,this['updateLoggerState']();}[a58_0x4c98e8(0x19d)](_0x5bb033,_0x4a844a,_0xc2ac21){const _0x4f1af5=a58_0x4c98e8,_0x58bd26=this['getObjectState'](_0x5bb033);_0x58bd26[_0x4f1af5(0x179)]+=_0x4a844a,_0x58bd26[_0x4f1af5(0x19c)]+=_0xc2ac21,this[_0x4f1af5(0x1b6)]['successful']+=_0x4a844a,this[_0x4f1af5(0x1b6)]['failed']+=_0xc2ac21,this[_0x4f1af5(0x17e)]();}[a58_0x4c98e8(0x1a2)](_0x43ac9d){const _0x3057ec=a58_0x4c98e8;var _0x2f1b59;const _0x939d6c=(_0x2f1b59=this[_0x3057ec(0x1b6)][_0x3057ec(0x18e)])===null||_0x2f1b59===void 0x0?void 0x0:_0x2f1b59[_0x3057ec(0x1ad)](_0x54caa0=>_0x54caa0['name']===_0x43ac9d);if(!_0x939d6c)throw new Error(_0x3057ec(0x1b2)+_0x43ac9d+_0x3057ec(0x1ac));return _0x939d6c;}async[a58_0x4c98e8(0x1af)](){const _0x3813cf=a58_0x4c98e8;if(!await utils_1[_0x3813cf(0x178)][_0x3813cf(0x17c)](this[_0x3813cf(0x18b)]))return this[_0x3813cf(0x1a4)]();const _0x28fa49=await(0x0,promises_1[_0x3813cf(0x19b)])(job_detail_1[_0x3813cf(0x18f)]+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':_0x3813cf(0x188)});return JSON[_0x3813cf(0x194)](_0x28fa49);}[a58_0x4c98e8(0x1a4)](){const _0x4039f6=a58_0x4c98e8;return{'id':this['_jobId'],'status':logger_enums_1[_0x4039f6(0x1b1)][_0x4039f6(0x1a5)],'processed':[],'createdDate':new Date()[_0x4039f6(0x18a)](),'successful':0x0,'failed':0x0};}[a58_0x4c98e8(0x1a8)](_0x53405d){const _0x27d544=a58_0x4c98e8;return _0x53405d['map'](_0x5aea6e=>({'name':_0x5aea6e,'status':logger_enums_1[_0x27d544(0x1b0)][_0x27d544(0x1a5)],'failed':0x0,'successful':0x0}));}[a58_0x4c98e8(0x185)](){const _0x2a0c63=a58_0x4c98e8;return(0x0,promises_1[_0x2a0c63(0x193)])(this[_0x2a0c63(0x18b)],JSON[_0x2a0c63(0x17b)](this[_0x2a0c63(0x197)]));}}exports[a58_0x4c98e8(0x1b4)]=LoggerJobState;