function a75_0x190c(){const _0x4f9bbc=['apply','_jobPath','completedDate','find','454820leBYsP','utf-8','JOB_LOG_STATE_FILENAME','BaseLogger','__esModule','start','map','LoggerJobState','error','getJobState','isExistsPath','defineProperty','ObjectStatus','getTime','104EVJeJt','../../job-detail','name','__importDefault','620656CWvxDJ','3427560yjPsED','../../enums/logger.enums','initObjectStatistics','updateObjectProcess','setJobError','jobState','QUEUED','parse','constructor','successful','processed','COMPLETED','write','stringify','3LTOUQI','499761jpweEy','_isLoggerInit','fs/promises','join','FsUtils','default','isLoggerInit','4568914hRDsRW','1472540ekhPTz','initJobState','1259834RvJCSI','FAILED','./base-logger','search','_jobState','setJobStatus','updateLoggerState','status','path','@flosum/utils','getObjectState','JobStatus','filePath','(((.+)+)+)+$'];a75_0x190c=function(){return _0x4f9bbc;};return a75_0x190c();}const a75_0x104a56=a75_0x15ad;(function(_0x5f3f1b,_0x2a3c56){const _0x53c202=a75_0x15ad,_0x3ca295=_0x5f3f1b();while(!![]){try{const _0x3e78e6=-parseInt(_0x53c202(0x16d))/0x1+parseInt(_0x53c202(0x187))/0x2+parseInt(_0x53c202(0x17c))/0x3*(parseInt(_0x53c202(0x199))/0x4)+-parseInt(_0x53c202(0x185))/0x5+parseInt(_0x53c202(0x16e))/0x6+parseInt(_0x53c202(0x184))/0x7+-parseInt(_0x53c202(0x169))/0x8*(parseInt(_0x53c202(0x17d))/0x9);if(_0x3e78e6===_0x2a3c56)break;else _0x3ca295['push'](_0x3ca295['shift']());}catch(_0x5165bd){_0x3ca295['push'](_0x3ca295['shift']());}}}(a75_0x190c,0x50b2f));const a75_0x3affd8=(function(){let _0x23bbd7=!![];return function(_0x140896,_0x1c150e){const _0x459007=_0x23bbd7?function(){const _0x39491f=a75_0x15ad;if(_0x1c150e){const _0x5e2d5f=_0x1c150e[_0x39491f(0x195)](_0x140896,arguments);return _0x1c150e=null,_0x5e2d5f;}}:function(){};return _0x23bbd7=![],_0x459007;};}()),a75_0x57ed54=a75_0x3affd8(this,function(){const _0x278c75=a75_0x15ad;return a75_0x57ed54['toString']()['search'](_0x278c75(0x194))['toString']()[_0x278c75(0x176)](a75_0x57ed54)[_0x278c75(0x18a)](_0x278c75(0x194));});a75_0x57ed54();function a75_0x15ad(_0x546335,_0x2e1c20){const _0x3d31a0=a75_0x190c();return a75_0x15ad=function(_0x57ed54,_0x3affd8){_0x57ed54=_0x57ed54-0x168;let _0x190cd8=_0x3d31a0[_0x57ed54];return _0x190cd8;},a75_0x15ad(_0x546335,_0x2e1c20);}'use strict';var __importDefault=this&&this[a75_0x104a56(0x16c)]||function(_0x37cad8){const _0x192132=a75_0x104a56;return _0x37cad8&&_0x37cad8[_0x192132(0x19d)]?_0x37cad8:{'default':_0x37cad8};};Object[a75_0x104a56(0x1a4)](exports,a75_0x104a56(0x19d),{'value':!![]}),exports['LoggerJobState']=void 0x0;const path_1=__importDefault(require(a75_0x104a56(0x18f))),logger_enums_1=require(a75_0x104a56(0x16f)),base_logger_1=require(a75_0x104a56(0x189)),promises_1=require(a75_0x104a56(0x17f)),job_detail_1=require(a75_0x104a56(0x16a)),utils_1=require(a75_0x104a56(0x190)),job_1=require('../../../../../constants/job');class LoggerJobState extends base_logger_1[a75_0x104a56(0x19c)]{constructor(){const _0x5f281b=a75_0x104a56;super(...arguments),this[_0x5f281b(0x17e)]=![];}get[a75_0x104a56(0x183)](){const _0x2bdf7f=a75_0x104a56;return this[_0x2bdf7f(0x17e)];}set[a75_0x104a56(0x183)](_0x1e9add){const _0x2e7f52=a75_0x104a56;this[_0x2e7f52(0x17e)]=_0x1e9add;}get['jobState'](){const _0x1ff139=a75_0x104a56;if(!this['isLoggerInit'])throw new Error('Logger\x20Job\x20State\x20wasn\x27t\x20init');return this[_0x1ff139(0x18b)];}get[a75_0x104a56(0x193)](){const _0x241ff9=a75_0x104a56;return path_1[_0x241ff9(0x182)][_0x241ff9(0x180)](this[_0x241ff9(0x196)],job_1[_0x241ff9(0x19b)]);}async['init'](_0x11ce33){const _0x32fe84=a75_0x104a56;return this[_0x32fe84(0x18b)]=await this[_0x32fe84(0x1a2)](),this[_0x32fe84(0x18b)][_0x32fe84(0x178)]=this[_0x32fe84(0x170)](_0x11ce33),await this[_0x32fe84(0x17a)](),await this[_0x32fe84(0x19e)](),this['isLoggerInit']=!![],this;}['setObjectStatus'](_0x4f6430,_0x4aac34){const _0xd868b8=a75_0x104a56;this[_0xd868b8(0x191)](_0x4f6430)[_0xd868b8(0x18e)]=_0x4aac34,this[_0xd868b8(0x18d)]();}[a75_0x104a56(0x18c)](_0x5ec731){const _0x593cfd=a75_0x104a56;this['jobState']['status']=_0x5ec731,[logger_enums_1[_0x593cfd(0x192)][_0x593cfd(0x188)],logger_enums_1[_0x593cfd(0x192)][_0x593cfd(0x179)]]['includes'](_0x5ec731)&&(this[_0x593cfd(0x173)][_0x593cfd(0x197)]=new Date()[_0x593cfd(0x168)]()),this['updateLoggerState']();}[a75_0x104a56(0x172)](_0x4b4831){const _0x23bbaa=a75_0x104a56;this[_0x23bbaa(0x173)][_0x23bbaa(0x1a1)]=_0x4b4831,this[_0x23bbaa(0x18d)]();}[a75_0x104a56(0x171)](_0x21857c,_0x18d521,_0x476de3){const _0xde24f3=a75_0x104a56,_0x25ab95=this[_0xde24f3(0x191)](_0x21857c);_0x25ab95[_0xde24f3(0x177)]+=_0x18d521,_0x25ab95['failed']+=_0x476de3,this[_0xde24f3(0x173)][_0xde24f3(0x177)]+=_0x18d521,this[_0xde24f3(0x173)]['failed']+=_0x476de3,this[_0xde24f3(0x18d)]();}[a75_0x104a56(0x191)](_0x4788f6){const _0x45a7ba=a75_0x104a56;var _0x304bfd;const _0x51b2b9=(_0x304bfd=this[_0x45a7ba(0x173)][_0x45a7ba(0x178)])===null||_0x304bfd===void 0x0?void 0x0:_0x304bfd[_0x45a7ba(0x198)](_0x206e7e=>_0x206e7e[_0x45a7ba(0x16b)]===_0x4788f6);if(!_0x51b2b9)throw new Error('Cannot\x20find\x20object\x20\x27'+_0x4788f6+'\x27\x20in\x20statistic');return _0x51b2b9;}async[a75_0x104a56(0x1a2)](){const _0x43d3e4=a75_0x104a56;if(!await utils_1[_0x43d3e4(0x181)][_0x43d3e4(0x1a3)](this['filePath']))return this['initJobState']();const _0xb62405=await(0x0,promises_1['readFile'])(job_detail_1['jobStorePath']+'/'+job_1[_0x43d3e4(0x19b)],{'encoding':_0x43d3e4(0x19a)});return JSON[_0x43d3e4(0x175)](_0xb62405);}[a75_0x104a56(0x186)](){const _0x27fded=a75_0x104a56;return{'id':this['_jobId'],'status':logger_enums_1[_0x27fded(0x192)][_0x27fded(0x174)],'processed':[],'createdDate':new Date()['getTime'](),'successful':0x0,'failed':0x0};}[a75_0x104a56(0x170)](_0x35be35){const _0xb3daac=a75_0x104a56;return _0x35be35[_0xb3daac(0x19f)](_0x5b043a=>({'name':_0x5b043a,'status':logger_enums_1[_0xb3daac(0x1a5)][_0xb3daac(0x174)],'failed':0x0,'successful':0x0}));}['write'](){const _0x2cb409=a75_0x104a56;return(0x0,promises_1['writeFile'])(this[_0x2cb409(0x193)],JSON[_0x2cb409(0x17b)](this[_0x2cb409(0x18b)]));}}exports[a75_0x104a56(0x1a0)]=LoggerJobState;