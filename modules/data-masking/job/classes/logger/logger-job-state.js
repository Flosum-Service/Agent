function a75_0x3b3b(_0x2da14f,_0x599698){const _0x34eaf1=a75_0x4391();return a75_0x3b3b=function(_0x570b9a,_0xc70895){_0x570b9a=_0x570b9a-0xca;let _0x4391a1=_0x34eaf1[_0x570b9a];return _0x4391a1;},a75_0x3b3b(_0x2da14f,_0x599698);}const a75_0x2e7ed8=a75_0x3b3b;(function(_0x2f55ff,_0x3801fa){const _0x3f5896=a75_0x3b3b,_0x4ad20b=_0x2f55ff();while(!![]){try{const _0x13c373=-parseInt(_0x3f5896(0x103))/0x1*(-parseInt(_0x3f5896(0xcf))/0x2)+parseInt(_0x3f5896(0xde))/0x3*(-parseInt(_0x3f5896(0xec))/0x4)+-parseInt(_0x3f5896(0xea))/0x5*(-parseInt(_0x3f5896(0xe8))/0x6)+parseInt(_0x3f5896(0xe7))/0x7+-parseInt(_0x3f5896(0xd4))/0x8+-parseInt(_0x3f5896(0xf1))/0x9+parseInt(_0x3f5896(0xd7))/0xa;if(_0x13c373===_0x3801fa)break;else _0x4ad20b['push'](_0x4ad20b['shift']());}catch(_0x110dfb){_0x4ad20b['push'](_0x4ad20b['shift']());}}}(a75_0x4391,0xba294));const a75_0xc70895=(function(){let _0x3834d4=!![];return function(_0x350265,_0x6aa584){const _0x5c87de=_0x3834d4?function(){const _0x51c5cb=a75_0x3b3b;if(_0x6aa584){const _0x42cf67=_0x6aa584[_0x51c5cb(0xf8)](_0x350265,arguments);return _0x6aa584=null,_0x42cf67;}}:function(){};return _0x3834d4=![],_0x5c87de;};}()),a75_0x570b9a=a75_0xc70895(this,function(){const _0x1065fb=a75_0x3b3b;return a75_0x570b9a['toString']()[_0x1065fb(0xf2)](_0x1065fb(0xf7))[_0x1065fb(0xcc)]()['constructor'](a75_0x570b9a)['search']('(((.+)+)+)+$');});a75_0x570b9a();'use strict';var __importDefault=this&&this[a75_0x2e7ed8(0xd9)]||function(_0x5d37f2){const _0x2db0c6=a75_0x2e7ed8;return _0x5d37f2&&_0x5d37f2[_0x2db0c6(0xd2)]?_0x5d37f2:{'default':_0x5d37f2};};Object[a75_0x2e7ed8(0xfc)](exports,a75_0x2e7ed8(0xd2),{'value':!![]}),exports[a75_0x2e7ed8(0xd5)]=void 0x0;const path_1=__importDefault(require(a75_0x2e7ed8(0xdc))),logger_enums_1=require('../../enums/logger.enums'),base_logger_1=require(a75_0x2e7ed8(0xe5)),promises_1=require(a75_0x2e7ed8(0xe1)),job_detail_1=require(a75_0x2e7ed8(0xfe)),utils_1=require('@flosum/utils'),job_1=require(a75_0x2e7ed8(0xf5));function a75_0x4391(){const _0x3a5d28=['successful','getObjectState','FAILED','defineProperty','getTime','../../job-detail','join','setJobError','stringify','failed','12Mokmip','initObjectStatistics','filePath','_isLoggerInit','init','find','BaseLogger','parse','Logger\x20Job\x20State\x20wasn\x27t\x20init','updateObjectProcess','toString','start','JobStatus','167300UZIfwY','getJobState','Cannot\x20find\x20object\x20\x27','__esModule','ObjectStatus','7617680HHozCS','LoggerJobState','name','6113520dZOfZW','writeFile','__importDefault','jobState','error','path','_jobState','3XIgLMR','updateLoggerState','\x27\x20in\x20statistic','fs/promises','_jobPath','isExistsPath','FsUtils','./base-logger','readFile','7042056gAkfrB','772530babUZm','isLoggerInit','25yZEWff','write','1965196kmplsK','setJobStatus','default','status','initJobState','9530190PPnAMg','search','_jobId','processed','../../../../../constants/job','QUEUED','(((.+)+)+)+$','apply'];a75_0x4391=function(){return _0x3a5d28;};return a75_0x4391();}class LoggerJobState extends base_logger_1[a75_0x2e7ed8(0x109)]{constructor(){const _0x4c8028=a75_0x2e7ed8;super(...arguments),this[_0x4c8028(0x106)]=![];}get[a75_0x2e7ed8(0xe9)](){return this['_isLoggerInit'];}set[a75_0x2e7ed8(0xe9)](_0x2c6bf5){const _0x7a50d6=a75_0x2e7ed8;this[_0x7a50d6(0x106)]=_0x2c6bf5;}get[a75_0x2e7ed8(0xda)](){const _0x6536c3=a75_0x2e7ed8;if(!this[_0x6536c3(0xe9)])throw new Error(_0x6536c3(0xca));return this[_0x6536c3(0xdd)];}get[a75_0x2e7ed8(0x105)](){const _0x474ebb=a75_0x2e7ed8;return path_1[_0x474ebb(0xee)][_0x474ebb(0xff)](this[_0x474ebb(0xe2)],job_1['JOB_LOG_STATE_FILENAME']);}async[a75_0x2e7ed8(0x107)](_0x519ec0){const _0x2200c1=a75_0x2e7ed8;return this[_0x2200c1(0xdd)]=await this[_0x2200c1(0xd0)](),this['_jobState'][_0x2200c1(0xf4)]=this[_0x2200c1(0x104)](_0x519ec0),await this[_0x2200c1(0xeb)](),await this[_0x2200c1(0xcd)](),this[_0x2200c1(0xe9)]=!![],this;}['setObjectStatus'](_0x1569fc,_0x5e4d38){const _0xba502a=a75_0x2e7ed8;this[_0xba502a(0xfa)](_0x1569fc)[_0xba502a(0xef)]=_0x5e4d38,this[_0xba502a(0xdf)]();}[a75_0x2e7ed8(0xed)](_0xccd692){const _0x10bc7b=a75_0x2e7ed8;this[_0x10bc7b(0xda)][_0x10bc7b(0xef)]=_0xccd692,[logger_enums_1[_0x10bc7b(0xce)][_0x10bc7b(0xfb)],logger_enums_1[_0x10bc7b(0xce)]['COMPLETED']]['includes'](_0xccd692)&&(this[_0x10bc7b(0xda)]['completedDate']=new Date()[_0x10bc7b(0xfd)]()),this[_0x10bc7b(0xdf)]();}[a75_0x2e7ed8(0x100)](_0x2be19c){const _0x6a49c=a75_0x2e7ed8;this[_0x6a49c(0xda)][_0x6a49c(0xdb)]=_0x2be19c,this[_0x6a49c(0xdf)]();}[a75_0x2e7ed8(0xcb)](_0x3d6501,_0x45d933,_0x2302e4){const _0x2031f9=a75_0x2e7ed8,_0x3646a6=this['getObjectState'](_0x3d6501);_0x3646a6[_0x2031f9(0xf9)]+=_0x45d933,_0x3646a6[_0x2031f9(0x102)]+=_0x2302e4,this['jobState'][_0x2031f9(0xf9)]+=_0x45d933,this[_0x2031f9(0xda)]['failed']+=_0x2302e4,this[_0x2031f9(0xdf)]();}[a75_0x2e7ed8(0xfa)](_0x36571d){const _0x2c0e52=a75_0x2e7ed8;var _0xa1cc91;const _0x4c8bd3=(_0xa1cc91=this['jobState'][_0x2c0e52(0xf4)])===null||_0xa1cc91===void 0x0?void 0x0:_0xa1cc91[_0x2c0e52(0x108)](_0x5c10c2=>_0x5c10c2[_0x2c0e52(0xd6)]===_0x36571d);if(!_0x4c8bd3)throw new Error(_0x2c0e52(0xd1)+_0x36571d+_0x2c0e52(0xe0));return _0x4c8bd3;}async[a75_0x2e7ed8(0xd0)](){const _0x82173=a75_0x2e7ed8;if(!await utils_1[_0x82173(0xe4)][_0x82173(0xe3)](this[_0x82173(0x105)]))return this[_0x82173(0xf0)]();const _0xae8b08=await(0x0,promises_1[_0x82173(0xe6)])(job_detail_1['jobStorePath']+'/'+job_1['JOB_LOG_STATE_FILENAME'],{'encoding':'utf-8'});return JSON[_0x82173(0x10a)](_0xae8b08);}[a75_0x2e7ed8(0xf0)](){const _0x3f7447=a75_0x2e7ed8;return{'id':this[_0x3f7447(0xf3)],'status':logger_enums_1[_0x3f7447(0xce)][_0x3f7447(0xf6)],'processed':[],'createdDate':new Date()[_0x3f7447(0xfd)](),'successful':0x0,'failed':0x0};}[a75_0x2e7ed8(0x104)](_0x614f6c){const _0x3ce38f=a75_0x2e7ed8;return _0x614f6c['map'](_0x18ad27=>({'name':_0x18ad27,'status':logger_enums_1[_0x3ce38f(0xd3)][_0x3ce38f(0xf6)],'failed':0x0,'successful':0x0}));}[a75_0x2e7ed8(0xeb)](){const _0x4df9f2=a75_0x2e7ed8;return(0x0,promises_1[_0x4df9f2(0xd8)])(this[_0x4df9f2(0x105)],JSON[_0x4df9f2(0x101)](this[_0x4df9f2(0xdd)]));}}exports[a75_0x2e7ed8(0xd5)]=LoggerJobState;