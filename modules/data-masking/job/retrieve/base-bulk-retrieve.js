const a75_0x860291=a75_0x2fac;(function(_0x16468b,_0x1984f9){const _0x2357fa=a75_0x2fac,_0x190364=_0x16468b();while(!![]){try{const _0x43de41=-parseInt(_0x2357fa(0x219))/0x1+-parseInt(_0x2357fa(0x21d))/0x2+-parseInt(_0x2357fa(0x221))/0x3*(parseInt(_0x2357fa(0x1f9))/0x4)+parseInt(_0x2357fa(0x1f6))/0x5+parseInt(_0x2357fa(0x20a))/0x6+-parseInt(_0x2357fa(0x1f2))/0x7*(-parseInt(_0x2357fa(0x216))/0x8)+-parseInt(_0x2357fa(0x227))/0x9;if(_0x43de41===_0x1984f9)break;else _0x190364['push'](_0x190364['shift']());}catch(_0x30d66a){_0x190364['push'](_0x190364['shift']());}}}(a75_0x2653,0x5139a));function a75_0x2fac(_0x5c1afc,_0x2a583d){const _0x40b762=a75_0x2653();return a75_0x2fac=function(_0x1438a1,_0x1887a3){_0x1438a1=_0x1438a1-0x1f2;let _0x2653b8=_0x40b762[_0x1438a1];return _0x2653b8;},a75_0x2fac(_0x5c1afc,_0x2a583d);}const a75_0x1887a3=(function(){let _0x337ac2=!![];return function(_0x3eaf50,_0x5112c8){const _0x160888=_0x337ac2?function(){const _0x131830=a75_0x2fac;if(_0x5112c8){const _0x22b97a=_0x5112c8[_0x131830(0x232)](_0x3eaf50,arguments);return _0x5112c8=null,_0x22b97a;}}:function(){};return _0x337ac2=![],_0x160888;};}()),a75_0x1438a1=a75_0x1887a3(this,function(){const _0x5522c5=a75_0x2fac;return a75_0x1438a1['toString']()[_0x5522c5(0x22a)](_0x5522c5(0x20c))[_0x5522c5(0x1f5)]()[_0x5522c5(0x201)](a75_0x1438a1)[_0x5522c5(0x22a)](_0x5522c5(0x20c));});a75_0x1438a1();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1223d9){const _0x491277=a75_0x2fac;return _0x1223d9&&_0x1223d9[_0x491277(0x205)]?_0x1223d9:{'default':_0x1223d9};};Object[a75_0x860291(0x220)](exports,a75_0x860291(0x205),{'value':!![]}),exports[a75_0x860291(0x1fa)]=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require(a75_0x860291(0x20b)),path_1=__importDefault(require(a75_0x860291(0x211))),utils_1=require(a75_0x860291(0x21f)),promises_1=require(a75_0x860291(0x230)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x860291(0x231)),crypto_1=require(a75_0x860291(0x21c)),csv_parse_1=require('csv-parse'),zlib_1=__importDefault(require(a75_0x860291(0x224))),job_detail_1=require(a75_0x860291(0x210));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{async[a75_0x860291(0x20f)](){const _0x18bb03=a75_0x860291;var _0x130a3b,_0x12184b;if(this[_0x18bb03(0x226)][_0x18bb03(0x203)]()&&!((_0x130a3b=this[_0x18bb03(0x21b)])===null||_0x130a3b===void 0x0?void 0x0:_0x130a3b[_0x18bb03(0x207)]())){this[_0x18bb03(0x20d)](null);return;}if((_0x12184b=this[_0x18bb03(0x21b)])===null||_0x12184b===void 0x0?void 0x0:_0x12184b[_0x18bb03(0x207)]()){this[_0x18bb03(0x21b)][_0x18bb03(0x222)]();return;}const _0x5214f4=await this[_0x18bb03(0x226)]['execute']();if(!_0x5214f4)return this[_0x18bb03(0x20f)]();await this[_0x18bb03(0x20e)](_0x5214f4);}async[a75_0x860291(0x20e)](_0x4d7bd0){const _0x5de84b=a75_0x860291,_0x35276d=path_1[_0x5de84b(0x235)][_0x5de84b(0x225)](job_detail_1[_0x5de84b(0x213)],(0x0,crypto_1['randomUUID'])()),_0xdfdfe0=(0x0,crypto_1['randomUUID'])(),_0x7ce86d=await this['writeEncryptedTempFile'](_0x4d7bd0,_0x35276d,_0xdfdfe0)[_0x5de84b(0x1f7)](()=>this['readEncryptedTempFile'](_0x35276d,_0xdfdfe0)),_0x35a217={'columns':!![],'cast':this[_0x5de84b(0x217)][_0x5de84b(0x1ff)](this)};this[_0x5de84b(0x21b)]=(0x0,stream_1['pipeline'])(_0x7ce86d,zlib_1[_0x5de84b(0x235)][_0x5de84b(0x204)](),(0x0,csv_parse_1[_0x5de84b(0x236)])(_0x35a217),this[_0x5de84b(0x202)]['bind'](this,_0x35276d)),this[_0x5de84b(0x21b)]['on'](_0x5de84b(0x209),_0x1f037e=>{const _0x334c89=_0x5de84b;this[_0x334c89(0x21b)]['pause'](),this[_0x334c89(0x20d)](_0x1f037e);}),this['csvParser']['on'](_0x5de84b(0x223),async()=>{const _0x43852c=_0x5de84b;return await utils_1[_0x43852c(0x229)]['isExistsPath'](_0x35276d)&&await(0x0,promises_1['rm'])(_0x35276d)[_0x43852c(0x212)](this[_0x43852c(0x233)][_0x43852c(0x1ff)](this,null)),this['_read']();}),this[_0x5de84b(0x21b)]['on'](_0x5de84b(0x214),this[_0x5de84b(0x202)][_0x5de84b(0x1ff)](this,_0x35276d));}async[a75_0x860291(0x22f)](_0x5b57ad,_0x2b7416,_0x18ec92){const _0x1d4b09=a75_0x860291,_0x497c05=fs_1[_0x1d4b09(0x235)][_0x1d4b09(0x22b)](_0x2b7416);await(0x0,promises_2[_0x1d4b09(0x215)])(_0x5b57ad,utils_1[_0x1d4b09(0x206)]['createEncryptPipe'](_0x18ec92),_0x497c05);}async['readEncryptedTempFile'](_0x3701df,_0x3169ab){const _0x4f3ac2=a75_0x860291,_0x11873a=fs_1[_0x4f3ac2(0x235)][_0x4f3ac2(0x1fd)](_0x3701df),_0x19bd9e=await this['readEncryptionVector'](_0x11873a),_0x49475c=utils_1[_0x4f3ac2(0x206)]['createDecryptPipe'](_0x3169ab,_0x19bd9e);return(0x0,stream_1[_0x4f3ac2(0x215)])(_0x11873a,_0x49475c,this['pipelineCallback']['bind'](this,_0x3701df));}async[a75_0x860291(0x202)](_0x5a5dd1,_0x301a0a){const _0x177103=a75_0x860291;_0x301a0a&&await this[_0x177103(0x233)](_0x5a5dd1,_0x301a0a);}async[a75_0x860291(0x233)](_0xbafcb2,_0xca3736){const _0x112c4f=a75_0x860291;_0xbafcb2&&await utils_1[_0x112c4f(0x229)][_0x112c4f(0x22d)](_0xbafcb2)&&await(0x0,promises_1['rm'])(_0xbafcb2)[_0x112c4f(0x212)](_0x4ddc97=>job_detail_1[_0x112c4f(0x200)][_0x112c4f(0x214)](_0x4ddc97)),this[_0x112c4f(0x1fb)](_0xca3736);}async[a75_0x860291(0x234)](_0x4bad2f){return new Promise((_0x48757f,_0xda634d)=>{const _0xa4da2a=a75_0x2fac;_0x4bad2f[_0xa4da2a(0x1f8)]('error',_0xda634d),_0x4bad2f[_0xa4da2a(0x1f8)]('readable',()=>{const _0x532768=_0xa4da2a,_0x5970da=_0x4bad2f[_0x532768(0x21e)](0x10);_0x48757f(_0x5970da);});});}[a75_0x860291(0x217)](_0x55022c,{header:_0x37df31,column:_0x4cc72b}){const _0x5984d1=a75_0x860291;!this['_fieldsTypes']&&(this['_fieldsTypes']=this[_0x5984d1(0x22c)][_0x5984d1(0x1f3)][_0x5984d1(0x228)]((_0x4aadc7,{name:_0x288c83,type:_0x4f4e71})=>_0x4aadc7[_0x5984d1(0x1f4)](_0x288c83,_0x4f4e71),new Map()));if(_0x37df31)return _0x55022c;if(!_0x55022c)return null;switch(this[_0x5984d1(0x218)]['get'](_0x4cc72b)){case'datetime':return _0x55022c[_0x5984d1(0x1fe)](/\.\d{3}Z$/,_0x5984d1(0x21a));case'boolean':return _0x55022c==='true';case'currency':case _0x5984d1(0x22e):case _0x5984d1(0x208):case _0x5984d1(0x1fc):return+_0x55022c;default:return _0x55022c;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;function a75_0x2653(){const _0x1466da=['createReader','pull','../job-detail','path','catch','jobStorePath','error','pipeline','40pcalWm','castCsvValue','_fieldsTypes','99331qIEirt','.000+0000','csvParser','crypto','516326KNtsET','read','@flosum/utils','defineProperty','123CcdpEm','resume','end','zlib','join','retrieve','2624769hJQKSQ','reduce','FsUtils','search','createWriteStream','describe','isExistsPath','double','writeEncryptedTempFile','fs/promises','stream/promises','apply','handleError','readEncryptionVector','default','parse','349104BhwYWB','fields','set','toString','2484950orNkqC','then','once','19116oRIiQr','BaseBulkRetrieve','destroy','percent','createReadStream','replace','bind','systemLogger','constructor','pipelineCallback','getIsDone','createUnzip','__esModule','CryptoUtils','isPaused','int','data','2588532QNlpRN','stream','(((.+)+)+)+$','push'];a75_0x2653=function(){return _0x1466da;};return a75_0x2653();}