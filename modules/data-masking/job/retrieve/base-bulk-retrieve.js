const a75_0x2cab4f=a75_0x499e;(function(_0x5ce49c,_0x4b222d){const _0x396250=a75_0x499e,_0xd7ad6=_0x5ce49c();while(!![]){try{const _0x45a18d=-parseInt(_0x396250(0x13b))/0x1+-parseInt(_0x396250(0x14c))/0x2*(-parseInt(_0x396250(0x114))/0x3)+parseInt(_0x396250(0x154))/0x4*(parseInt(_0x396250(0x139))/0x5)+parseInt(_0x396250(0x16c))/0x6*(-parseInt(_0x396250(0x135))/0x7)+-parseInt(_0x396250(0x115))/0x8*(-parseInt(_0x396250(0x122))/0x9)+parseInt(_0x396250(0x123))/0xa*(parseInt(_0x396250(0x131))/0xb)+parseInt(_0x396250(0x124))/0xc*(parseInt(_0x396250(0x14b))/0xd);if(_0x45a18d===_0x4b222d)break;else _0xd7ad6['push'](_0xd7ad6['shift']());}catch(_0xbc188c){_0xd7ad6['push'](_0xd7ad6['shift']());}}}(a75_0x359a,0x75b6d));function a75_0x499e(_0x4f2a20,_0x186ffb){const _0x3d9681=a75_0x359a();return a75_0x499e=function(_0x2170c7,_0x486f9b){_0x2170c7=_0x2170c7-0x114;let _0x359aec=_0x3d9681[_0x2170c7];return _0x359aec;},a75_0x499e(_0x4f2a20,_0x186ffb);}const a75_0x486f9b=(function(){let _0x4eb671=!![];return function(_0x2b74d8,_0x4859d1){const _0x35b83c=_0x4eb671?function(){const _0xb368d0=a75_0x499e;if(_0x4859d1){const _0x5d55b5=_0x4859d1[_0xb368d0(0x141)](_0x2b74d8,arguments);return _0x4859d1=null,_0x5d55b5;}}:function(){};return _0x4eb671=![],_0x35b83c;};}()),a75_0x2170c7=a75_0x486f9b(this,function(){const _0x582f40=a75_0x499e;return a75_0x2170c7[_0x582f40(0x16d)]()[_0x582f40(0x127)](_0x582f40(0x129))[_0x582f40(0x16d)]()[_0x582f40(0x14a)](a75_0x2170c7)['search'](_0x582f40(0x129));});a75_0x2170c7();'use strict';var __importDefault=this&&this[a75_0x2cab4f(0x13d)]||function(_0x380f80){const _0x288c5e=a75_0x2cab4f;return _0x380f80&&_0x380f80[_0x288c5e(0x14e)]?_0x380f80:{'default':_0x380f80};};Object[a75_0x2cab4f(0x12a)](exports,a75_0x2cab4f(0x14e),{'value':!![]}),exports[a75_0x2cab4f(0x117)]=void 0x0;const base_retrieve_1=require(a75_0x2cab4f(0x142)),stream_1=require(a75_0x2cab4f(0x165)),path_1=__importDefault(require(a75_0x2cab4f(0x134))),utils_1=require(a75_0x2cab4f(0x149)),promises_1=require(a75_0x2cab4f(0x160)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x2cab4f(0x161)),crypto_1=require(a75_0x2cab4f(0x146)),csv_parse_1=require(a75_0x2cab4f(0x12e)),zlib_1=__importDefault(require(a75_0x2cab4f(0x120))),job_detail_1=require(a75_0x2cab4f(0x11b)),constants_1=require(a75_0x2cab4f(0x159)),bulk1_enums_1=require('@flosum/salesforce/dist/typings/enums/bulk1.enums');function a75_0x359a(){const _0x27d9a4=['createWriteStream','join','962705SXfnIO','retrieve','673183GwwuzN','datetime','__importDefault','request','default','execute','apply','./base-retrieve','data','createUnzip','baseRetrievePayload','crypto','TEXT_CSV','createReadStream','@flosum/utils','constructor','3666767cZAlYn','46NqhzuI','readEncryptedTempFile','__esModule','isExistsPath','CryptoUtils','systemLogger','_fieldsTypes','end','4EfluCG','csvParser','fields','queryBuilder','writeEncryptedTempFile','../../constants','resume','randomUUID','then','.000+0000','set','pause','fs/promises','stream/promises','replace','createDecryptPipe','once','stream','currency','pipeline','BaseRetrieve','castCsvValue','readEncryptionVector','SALESFORCE_API_VERSION','140712mCviAZ','toString','createReader','createEncryptPipe','34647ZJQjol','8AvJihx','push','BaseBulkRetrieve','FsUtils','bind','reduce','../job-detail','parse','getIsDone','destroy','double','zlib','get','4411431bDPRdT','142850DysVsj','36BsMDiE','boolean','handleError','search','percent','(((.+)+)+)+$','defineProperty','error','pull','catch','csv-parse','pipelineCallback','read','176PAfzFn','true','BulkV1QueryContentType','path','259yxxNAW','isPaused'];a75_0x359a=function(){return _0x27d9a4;};return a75_0x359a();}class BaseBulkRetrieve extends base_retrieve_1[a75_0x2cab4f(0x168)]{get[a75_0x2cab4f(0x145)](){const _0x3b4a8c=a75_0x2cab4f;return{'queryBuilder':this[_0x3b4a8c(0x157)],'instance':this[_0x3b4a8c(0x13e)],'api':constants_1[_0x3b4a8c(0x16b)],'contentType':bulk1_enums_1[_0x3b4a8c(0x133)][_0x3b4a8c(0x147)]};}async[a75_0x2cab4f(0x12c)](){const _0x1f9a4e=a75_0x2cab4f;var _0x2e5e28,_0x31e092;if(this['retrieve'][_0x1f9a4e(0x11d)]()&&!((_0x2e5e28=this[_0x1f9a4e(0x155)])===null||_0x2e5e28===void 0x0?void 0x0:_0x2e5e28[_0x1f9a4e(0x136)]())){this['push'](null);return;}if((_0x31e092=this[_0x1f9a4e(0x155)])===null||_0x31e092===void 0x0?void 0x0:_0x31e092[_0x1f9a4e(0x136)]()){this['csvParser'][_0x1f9a4e(0x15a)]();return;}const _0x3daee1=await this[_0x1f9a4e(0x13a)][_0x1f9a4e(0x140)]();if(!_0x3daee1)return this['pull']();await this[_0x1f9a4e(0x16e)](_0x3daee1);}async[a75_0x2cab4f(0x16e)](_0xac7ecc){const _0x3d2a93=a75_0x2cab4f,_0x4a0a21=path_1['default'][_0x3d2a93(0x138)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x3d2a93(0x15b)])()),_0x438cad=(0x0,crypto_1[_0x3d2a93(0x15b)])(),_0x2702eb=await this[_0x3d2a93(0x158)](_0xac7ecc,_0x4a0a21,_0x438cad)[_0x3d2a93(0x15c)](()=>this[_0x3d2a93(0x14d)](_0x4a0a21,_0x438cad)),_0x4bd12b={'columns':!![],'cast':this[_0x3d2a93(0x169)][_0x3d2a93(0x119)](this)};this['csvParser']=(0x0,stream_1['pipeline'])(_0x2702eb,zlib_1[_0x3d2a93(0x13f)][_0x3d2a93(0x144)](),(0x0,csv_parse_1[_0x3d2a93(0x11c)])(_0x4bd12b),this[_0x3d2a93(0x12f)][_0x3d2a93(0x119)](this,_0x4a0a21)),this['csvParser']['on'](_0x3d2a93(0x143),_0x53958d=>{const _0x3087c5=_0x3d2a93;this[_0x3087c5(0x155)][_0x3087c5(0x15f)](),this[_0x3087c5(0x116)](_0x53958d);}),this[_0x3d2a93(0x155)]['on'](_0x3d2a93(0x153),async()=>{const _0x14cde6=_0x3d2a93;return await utils_1['FsUtils'][_0x14cde6(0x14f)](_0x4a0a21)&&await(0x0,promises_1['rm'])(_0x4a0a21)[_0x14cde6(0x12d)](this[_0x14cde6(0x126)]['bind'](this,null)),this['_read']();}),this[_0x3d2a93(0x155)]['on'](_0x3d2a93(0x12b),this[_0x3d2a93(0x12f)][_0x3d2a93(0x119)](this,_0x4a0a21));}async[a75_0x2cab4f(0x158)](_0x412315,_0x1b2551,_0xdd0218){const _0xfe0d37=a75_0x2cab4f,_0x1063ac=fs_1[_0xfe0d37(0x13f)][_0xfe0d37(0x137)](_0x1b2551);await(0x0,promises_2[_0xfe0d37(0x167)])(_0x412315,utils_1[_0xfe0d37(0x150)][_0xfe0d37(0x16f)](_0xdd0218),_0x1063ac);}async['readEncryptedTempFile'](_0x108a5a,_0xcd1854){const _0x1b8b1c=a75_0x2cab4f,_0x1e4a2e=fs_1[_0x1b8b1c(0x13f)][_0x1b8b1c(0x148)](_0x108a5a),_0x38dcc1=await this[_0x1b8b1c(0x16a)](_0x1e4a2e),_0x3a0f69=utils_1[_0x1b8b1c(0x150)][_0x1b8b1c(0x163)](_0xcd1854,_0x38dcc1);return(0x0,stream_1[_0x1b8b1c(0x167)])(_0x1e4a2e,_0x3a0f69,this['pipelineCallback'][_0x1b8b1c(0x119)](this,_0x108a5a));}async[a75_0x2cab4f(0x12f)](_0x5acbfc,_0x15d64a){const _0x424449=a75_0x2cab4f;_0x15d64a&&await this[_0x424449(0x126)](_0x5acbfc,_0x15d64a);}async[a75_0x2cab4f(0x126)](_0x135f6c,_0x4f429d){const _0x2d001a=a75_0x2cab4f;_0x135f6c&&await utils_1[_0x2d001a(0x118)][_0x2d001a(0x14f)](_0x135f6c)&&await(0x0,promises_1['rm'])(_0x135f6c)['catch'](_0x32dd40=>job_detail_1[_0x2d001a(0x151)]['error'](_0x32dd40)),this[_0x2d001a(0x11e)](_0x4f429d);}async[a75_0x2cab4f(0x16a)](_0x453eb3){return new Promise((_0x285f7c,_0xbbcf03)=>{const _0x44a568=a75_0x499e;_0x453eb3[_0x44a568(0x164)]('error',_0xbbcf03),_0x453eb3[_0x44a568(0x164)]('readable',()=>{const _0xf7adac=_0x44a568,_0xa81015=_0x453eb3[_0xf7adac(0x130)](0x10);_0x285f7c(_0xa81015);});});}[a75_0x2cab4f(0x169)](_0x4e5262,{header:_0x390a9b,column:_0x505a61}){const _0x50fa0f=a75_0x2cab4f;!this['_fieldsTypes']&&(this['_fieldsTypes']=this['describe'][_0x50fa0f(0x156)][_0x50fa0f(0x11a)]((_0x4ee623,{name:_0x405152,type:_0x46eaf3})=>_0x4ee623[_0x50fa0f(0x15e)](_0x405152,_0x46eaf3),new Map()));if(_0x390a9b)return _0x4e5262;if(!_0x4e5262)return null;switch(this[_0x50fa0f(0x152)][_0x50fa0f(0x121)](_0x505a61)){case _0x50fa0f(0x13c):return _0x4e5262[_0x50fa0f(0x162)](/\.\d{3}Z$/,_0x50fa0f(0x15d));case _0x50fa0f(0x125):return _0x4e5262===_0x50fa0f(0x132);case _0x50fa0f(0x166):case _0x50fa0f(0x11f):case'int':case _0x50fa0f(0x128):return+_0x4e5262;default:return _0x4e5262;}}}exports[a75_0x2cab4f(0x117)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;