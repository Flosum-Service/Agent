function a92_0x3475(_0x48c347,_0x312a20){const _0x226fac=a92_0x56c1();return a92_0x3475=function(_0x1b63f9,_0x4e47ae){_0x1b63f9=_0x1b63f9-0x1b3;let _0x56c1d1=_0x226fac[_0x1b63f9];return _0x56c1d1;},a92_0x3475(_0x48c347,_0x312a20);}const a92_0x4c10fa=a92_0x3475;(function(_0xad2118,_0x25ccce){const _0x2a9ec8=a92_0x3475,_0x6c340e=_0xad2118();while(!![]){try{const _0x597c8d=-parseInt(_0x2a9ec8(0x1f9))/0x1+parseInt(_0x2a9ec8(0x1bc))/0x2+parseInt(_0x2a9ec8(0x1ca))/0x3*(parseInt(_0x2a9ec8(0x1fc))/0x4)+-parseInt(_0x2a9ec8(0x1c6))/0x5*(parseInt(_0x2a9ec8(0x1b7))/0x6)+parseInt(_0x2a9ec8(0x1cb))/0x7+-parseInt(_0x2a9ec8(0x1e3))/0x8*(-parseInt(_0x2a9ec8(0x1fd))/0x9)+-parseInt(_0x2a9ec8(0x1b8))/0xa*(parseInt(_0x2a9ec8(0x1fa))/0xb);if(_0x597c8d===_0x25ccce)break;else _0x6c340e['push'](_0x6c340e['shift']());}catch(_0x231713){_0x6c340e['push'](_0x6c340e['shift']());}}}(a92_0x56c1,0x8f211));function a92_0x56c1(){const _0x469e61=['POLL_INTERVAL','defineProperty','int','csvParser','double','stream/promises','read','6Ffdqpx','30HxUlVS','reduce','resume','FsUtils','1897188PWxQet','error','end','parse','join','push','__esModule','set','search','readable','4447145IAWcCp','isExistsPath','describe','request','41061cUJQTw','6365681OLgajY','baseRetrievePayload','systemLogger','boolean','retrieve','./base-retrieve','true','createWriteStream','BaseBulkRetrieve','readEncryptedTempFile','get','(((.+)+)+)+$','catch','then','createReader','@flosum/salesforce','castCsvValue','__importDefault','readEncryptionVector','getIsDone','destroy','toString','fs/promises','bind','7881568zONNyk','default','BulkV1QueryContentType','pipeline','jobStorePath','_fieldsTypes','pipelineCallback','_read','pull','SALESFORCE_API_VERSION','handleError','once','../../constants','.000+0000','path','randomUUID','execute','pause','percent','fields','data','CryptoUtils','1086709PSgUQF','2886389MRFYxL','replace','148XXWYTO','9wYVkNC','apply','writeEncryptedTempFile'];a92_0x56c1=function(){return _0x469e61;};return a92_0x56c1();}const a92_0x4e47ae=(function(){let _0x7adc96=!![];return function(_0x330abb,_0x315074){const _0x33cef2=_0x7adc96?function(){const _0x516b03=a92_0x3475;if(_0x315074){const _0x2cd58c=_0x315074[_0x516b03(0x1fe)](_0x330abb,arguments);return _0x315074=null,_0x2cd58c;}}:function(){};return _0x7adc96=![],_0x33cef2;};}()),a92_0x1b63f9=a92_0x4e47ae(this,function(){const _0x1143ee=a92_0x3475;return a92_0x1b63f9['toString']()[_0x1143ee(0x1c4)](_0x1143ee(0x1d6))[_0x1143ee(0x1e0)]()['constructor'](a92_0x1b63f9)[_0x1143ee(0x1c4)](_0x1143ee(0x1d6));});a92_0x1b63f9();'use strict';var __importDefault=this&&this[a92_0x4c10fa(0x1dc)]||function(_0x20151a){const _0x493445=a92_0x4c10fa;return _0x20151a&&_0x20151a[_0x493445(0x1c2)]?_0x20151a:{'default':_0x20151a};};Object[a92_0x4c10fa(0x201)](exports,a92_0x4c10fa(0x1c2),{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;const base_retrieve_1=require(a92_0x4c10fa(0x1d0)),stream_1=require('stream'),path_1=__importDefault(require(a92_0x4c10fa(0x1f1))),utils_1=require('@flosum/utils'),promises_1=require(a92_0x4c10fa(0x1e1)),fs_1=__importDefault(require('fs')),promises_2=require(a92_0x4c10fa(0x1b5)),crypto_1=require('crypto'),csv_parse_1=require('csv-parse'),salesforce_1=require(a92_0x4c10fa(0x1da)),job_detail_1=require('../job-detail'),constants_1=require(a92_0x4c10fa(0x1ef));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get[a92_0x4c10fa(0x1cc)](){const _0x1553a7=a92_0x4c10fa;return{'queryBuilder':this['queryBuilder'],'instance':this[_0x1553a7(0x1c9)],'api':constants_1[_0x1553a7(0x1ec)],'contentType':salesforce_1[_0x1553a7(0x1e5)]['TEXT_CSV']};}async[a92_0x4c10fa(0x1eb)](){const _0x5bcfda=a92_0x4c10fa;var _0x2009f4,_0x43fae8;if(this[_0x5bcfda(0x1cf)][_0x5bcfda(0x1de)]()&&!((_0x2009f4=this[_0x5bcfda(0x1b3)])===null||_0x2009f4===void 0x0?void 0x0:_0x2009f4['isPaused']())){this[_0x5bcfda(0x1c1)](null);return;}if((_0x43fae8=this[_0x5bcfda(0x1b3)])===null||_0x43fae8===void 0x0?void 0x0:_0x43fae8['isPaused']()){this[_0x5bcfda(0x1b3)][_0x5bcfda(0x1ba)]();return;}const _0x18cb4b=await this[_0x5bcfda(0x1cf)][_0x5bcfda(0x1f3)]();if(!_0x18cb4b)return this[_0x5bcfda(0x1eb)]();await this[_0x5bcfda(0x1d9)](_0x18cb4b);}async['createReader'](_0x17965){const _0x5de732=a92_0x4c10fa,_0x335599=path_1['default'][_0x5de732(0x1c0)](job_detail_1[_0x5de732(0x1e7)],(0x0,crypto_1['randomUUID'])()),_0x2d2f30=(0x0,crypto_1[_0x5de732(0x1f2)])(),_0x5da4e3=await this[_0x5de732(0x1ff)](_0x17965,_0x335599,_0x2d2f30)[_0x5de732(0x1d8)](()=>this[_0x5de732(0x1d4)](_0x335599,_0x2d2f30)),_0x1f8954={'columns':!![],'cast':this[_0x5de732(0x1db)]['bind'](this)};this['csvParser']=(0x0,stream_1[_0x5de732(0x1e6)])(_0x5da4e3,(0x0,csv_parse_1[_0x5de732(0x1bf)])(_0x1f8954),this[_0x5de732(0x1e9)][_0x5de732(0x1e2)](this,_0x335599)),this[_0x5de732(0x1b3)]['on'](_0x5de732(0x1f7),_0x105193=>{const _0x2f5bd9=_0x5de732;this[_0x2f5bd9(0x1b3)][_0x2f5bd9(0x1f4)](),this[_0x2f5bd9(0x1c1)](_0x105193);}),this[_0x5de732(0x1b3)]['on'](_0x5de732(0x1be),async()=>{const _0x406f29=_0x5de732;return await utils_1[_0x406f29(0x1bb)]['isExistsPath'](_0x335599)&&await(0x0,promises_1['rm'])(_0x335599)[_0x406f29(0x1d7)](this[_0x406f29(0x1ed)]['bind'](this,null)),this[_0x406f29(0x1ea)]();}),this['csvParser']['on'](_0x5de732(0x1bd),this[_0x5de732(0x1e9)]['bind'](this,_0x335599));}async[a92_0x4c10fa(0x1ff)](_0x24ee18,_0x3a87b8,_0x2cea94){const _0x238a7f=a92_0x4c10fa,_0x39edc6=fs_1[_0x238a7f(0x1e4)][_0x238a7f(0x1d2)](_0x3a87b8);await(0x0,promises_2[_0x238a7f(0x1e6)])(_0x24ee18,utils_1[_0x238a7f(0x1f8)]['createEncryptPipe'](_0x2cea94),_0x39edc6);}async[a92_0x4c10fa(0x1d4)](_0xe9f878,_0x35f750){const _0x5af200=a92_0x4c10fa,_0xe41126=fs_1[_0x5af200(0x1e4)]['createReadStream'](_0xe9f878),_0x3a30b6=await this[_0x5af200(0x1dd)](_0xe41126),_0x4c705b=utils_1[_0x5af200(0x1f8)]['createDecryptPipe'](_0x35f750,_0x3a30b6);return(0x0,stream_1[_0x5af200(0x1e6)])(_0xe41126,_0x4c705b,this[_0x5af200(0x1e9)][_0x5af200(0x1e2)](this,_0xe9f878));}async[a92_0x4c10fa(0x1e9)](_0x1c25d4,_0x422dc3){_0x422dc3&&await this['handleError'](_0x1c25d4,_0x422dc3);}async[a92_0x4c10fa(0x1ed)](_0x16cea9,_0xe08fa4){const _0xde38dd=a92_0x4c10fa;_0x16cea9&&await utils_1[_0xde38dd(0x1bb)][_0xde38dd(0x1c7)](_0x16cea9)&&await(0x0,promises_1['rm'])(_0x16cea9)[_0xde38dd(0x1d7)](_0xda803f=>job_detail_1[_0xde38dd(0x1cd)][_0xde38dd(0x1bd)](_0xda803f)),this[_0xde38dd(0x1df)](_0xe08fa4);}async[a92_0x4c10fa(0x1dd)](_0x3b5a5d){return new Promise((_0x1eca22,_0x33b39d)=>{const _0x431dfe=a92_0x3475;_0x3b5a5d[_0x431dfe(0x1ee)](_0x431dfe(0x1bd),_0x33b39d),_0x3b5a5d[_0x431dfe(0x1ee)](_0x431dfe(0x1c5),()=>{const _0x409fdc=_0x431dfe,_0x11391d=_0x3b5a5d[_0x409fdc(0x1b6)](0x10);_0x1eca22(_0x11391d);});});}[a92_0x4c10fa(0x1db)](_0x18b37b,{header:_0x218502,column:_0x573c61}){const _0x21cdf8=a92_0x4c10fa;!this[_0x21cdf8(0x1e8)]&&(this[_0x21cdf8(0x1e8)]=this[_0x21cdf8(0x1c8)][_0x21cdf8(0x1f6)][_0x21cdf8(0x1b9)]((_0x39ba8b,{name:_0x35578b,type:_0x2c8805})=>_0x39ba8b[_0x21cdf8(0x1c3)](_0x35578b,_0x2c8805),new Map()));if(_0x218502)return _0x18b37b;if(!_0x18b37b)return null;switch(this[_0x21cdf8(0x1e8)][_0x21cdf8(0x1d5)](_0x573c61)){case'datetime':return _0x18b37b[_0x21cdf8(0x1fb)](/\.\d{3}Z$/,_0x21cdf8(0x1f0));case _0x21cdf8(0x1ce):return _0x18b37b===_0x21cdf8(0x1d1);case'currency':case _0x21cdf8(0x1b4):case _0x21cdf8(0x202):case _0x21cdf8(0x1f5):return+_0x18b37b;default:return _0x18b37b;}}}exports[a92_0x4c10fa(0x1d3)]=BaseBulkRetrieve,BaseBulkRetrieve[a92_0x4c10fa(0x200)]=0x1388;