function a75_0x2c8b(){const _0x5bf5ab=['set','replace','./base-retrieve','5ERSMHP','true','stream/promises','@flosum/utils','../job-detail','createEncryptPipe','parse','createWriteStream','4820229IVEMgE','FsUtils','CryptoUtils','csv-parse','105KaCZVE','readEncryptionVector','end','20JLDcbG','castCsvValue','datetime','int','join','createReadStream','_read','isPaused','once','search','220629NcYGef','path','csvParser','readable','randomUUID','read','1720odhINl','fs/promises','createDecryptPipe','pipelineCallback','systemLogger','createReader','bind','__esModule','3133248WcWswy','2964954tQroyP','isExistsPath','POLL_INTERVAL','default','writeEncryptedTempFile','.000+0000','pipeline','execute','6610MChqiK','defineProperty','fields','stream','getIsDone','9891YsREXu','apply','currency','push','_fieldsTypes','BaseBulkRetrieve','destroy','pull','createUnzip','get','16150DCXsoS','retrieve','then','1859yJgoQi','error','readEncryptedTempFile','double','(((.+)+)+)+$','handleError','toString'];a75_0x2c8b=function(){return _0x5bf5ab;};return a75_0x2c8b();}const a75_0x142eb2=a75_0x28d0;(function(_0x398ba7,_0x1d8d97){const _0x3996f9=a75_0x28d0,_0x543ffc=_0x398ba7();while(!![]){try{const _0x27694f=parseInt(_0x3996f9(0x1e3))/0x1*(-parseInt(_0x3996f9(0x207))/0x2)+parseInt(_0x3996f9(0x1f0))/0x3*(parseInt(_0x3996f9(0x1e6))/0x4)+-parseInt(_0x3996f9(0x223))/0x5*(-parseInt(_0x3996f9(0x1ff))/0x6)+parseInt(_0x3996f9(0x20c))/0x7*(parseInt(_0x3996f9(0x1f6))/0x8)+-parseInt(_0x3996f9(0x1df))/0x9+parseInt(_0x3996f9(0x216))/0xa*(-parseInt(_0x3996f9(0x219))/0xb)+parseInt(_0x3996f9(0x1fe))/0xc;if(_0x27694f===_0x1d8d97)break;else _0x543ffc['push'](_0x543ffc['shift']());}catch(_0x4622bc){_0x543ffc['push'](_0x543ffc['shift']());}}}(a75_0x2c8b,0x42380));const a75_0x270e6a=(function(){let _0x4e7fa0=!![];return function(_0x316ca4,_0x4820b3){const _0x24db35=_0x4e7fa0?function(){const _0x9225fd=a75_0x28d0;if(_0x4820b3){const _0x4a5fd1=_0x4820b3[_0x9225fd(0x20d)](_0x316ca4,arguments);return _0x4820b3=null,_0x4a5fd1;}}:function(){};return _0x4e7fa0=![],_0x24db35;};}()),a75_0x437fe1=a75_0x270e6a(this,function(){const _0xcd88ef=a75_0x28d0;return a75_0x437fe1[_0xcd88ef(0x21f)]()[_0xcd88ef(0x1ef)](_0xcd88ef(0x21d))[_0xcd88ef(0x21f)]()['constructor'](a75_0x437fe1)[_0xcd88ef(0x1ef)](_0xcd88ef(0x21d));});function a75_0x28d0(_0x44f931,_0x1e839a){const _0x1b0d28=a75_0x2c8b();return a75_0x28d0=function(_0x437fe1,_0x270e6a){_0x437fe1=_0x437fe1-0x1db;let _0x2c8b64=_0x1b0d28[_0x437fe1];return _0x2c8b64;},a75_0x28d0(_0x44f931,_0x1e839a);}a75_0x437fe1();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x5bfc0a){const _0x4bfae8=a75_0x28d0;return _0x5bfc0a&&_0x5bfc0a[_0x4bfae8(0x1fd)]?_0x5bfc0a:{'default':_0x5bfc0a};};Object[a75_0x142eb2(0x208)](exports,a75_0x142eb2(0x1fd),{'value':!![]}),exports[a75_0x142eb2(0x211)]=void 0x0;const base_retrieve_1=require(a75_0x142eb2(0x222)),stream_1=require(a75_0x142eb2(0x20a)),path_1=__importDefault(require(a75_0x142eb2(0x1f1))),utils_1=require(a75_0x142eb2(0x226)),promises_1=require(a75_0x142eb2(0x1f7)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x142eb2(0x225)),crypto_1=require('crypto'),csv_parse_1=require(a75_0x142eb2(0x1e2)),zlib_1=__importDefault(require('zlib')),job_detail_1=require(a75_0x142eb2(0x1db));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{async[a75_0x142eb2(0x213)](){const _0xfc5319=a75_0x142eb2;var _0x5d5312,_0x135b07;if(this['retrieve'][_0xfc5319(0x20b)]()&&!((_0x5d5312=this[_0xfc5319(0x1f2)])===null||_0x5d5312===void 0x0?void 0x0:_0x5d5312[_0xfc5319(0x1ed)]())){this['push'](null);return;}if((_0x135b07=this[_0xfc5319(0x1f2)])===null||_0x135b07===void 0x0?void 0x0:_0x135b07[_0xfc5319(0x1ed)]()){this[_0xfc5319(0x1f2)]['resume']();return;}const _0x5a0bdc=await this[_0xfc5319(0x217)][_0xfc5319(0x206)]();if(!_0x5a0bdc)return this[_0xfc5319(0x213)]();await this[_0xfc5319(0x1fb)](_0x5a0bdc);}async[a75_0x142eb2(0x1fb)](_0x967d09){const _0x123c9d=a75_0x142eb2,_0x43208a=path_1[_0x123c9d(0x202)][_0x123c9d(0x1ea)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x123c9d(0x1f4)])()),_0x29443d=(0x0,crypto_1['randomUUID'])(),_0x8e9835=await this[_0x123c9d(0x203)](_0x967d09,_0x43208a,_0x29443d)[_0x123c9d(0x218)](()=>this['readEncryptedTempFile'](_0x43208a,_0x29443d)),_0x2bbdae={'columns':!![],'cast':this['castCsvValue'][_0x123c9d(0x1fc)](this)};this[_0x123c9d(0x1f2)]=(0x0,stream_1['pipeline'])(_0x8e9835,zlib_1[_0x123c9d(0x202)][_0x123c9d(0x214)](),(0x0,csv_parse_1[_0x123c9d(0x1dd)])(_0x2bbdae),this['pipelineCallback'][_0x123c9d(0x1fc)](this,_0x43208a)),this[_0x123c9d(0x1f2)]['on']('data',_0x5954cb=>{const _0x50638f=_0x123c9d;this[_0x50638f(0x1f2)]['pause'](),this[_0x50638f(0x20f)](_0x5954cb);}),this[_0x123c9d(0x1f2)]['on'](_0x123c9d(0x1e5),async()=>{const _0xdb8fb=_0x123c9d;return await utils_1[_0xdb8fb(0x1e0)][_0xdb8fb(0x200)](_0x43208a)&&await(0x0,promises_1['rm'])(_0x43208a)['catch'](this[_0xdb8fb(0x21e)][_0xdb8fb(0x1fc)](this,null)),this[_0xdb8fb(0x1ec)]();}),this['csvParser']['on'](_0x123c9d(0x21a),this[_0x123c9d(0x1f9)][_0x123c9d(0x1fc)](this,_0x43208a));}async['writeEncryptedTempFile'](_0x12b2b4,_0x45c5e8,_0x1d7bc0){const _0x2820a3=a75_0x142eb2,_0x515de8=fs_1[_0x2820a3(0x202)][_0x2820a3(0x1de)](_0x45c5e8);await(0x0,promises_2['pipeline'])(_0x12b2b4,utils_1['CryptoUtils'][_0x2820a3(0x1dc)](_0x1d7bc0),_0x515de8);}async[a75_0x142eb2(0x21b)](_0x3c17c3,_0x4bc3b8){const _0x33caef=a75_0x142eb2,_0x2e203d=fs_1[_0x33caef(0x202)][_0x33caef(0x1eb)](_0x3c17c3),_0x197988=await this[_0x33caef(0x1e4)](_0x2e203d),_0x5dd8d0=utils_1[_0x33caef(0x1e1)][_0x33caef(0x1f8)](_0x4bc3b8,_0x197988);return(0x0,stream_1[_0x33caef(0x205)])(_0x2e203d,_0x5dd8d0,this[_0x33caef(0x1f9)]['bind'](this,_0x3c17c3));}async[a75_0x142eb2(0x1f9)](_0x205f34,_0x4f090c){const _0x26ba61=a75_0x142eb2;_0x4f090c&&await this[_0x26ba61(0x21e)](_0x205f34,_0x4f090c);}async[a75_0x142eb2(0x21e)](_0x5d6a13,_0x3a9c8c){const _0x42d39b=a75_0x142eb2;_0x5d6a13&&await utils_1[_0x42d39b(0x1e0)][_0x42d39b(0x200)](_0x5d6a13)&&await(0x0,promises_1['rm'])(_0x5d6a13)['catch'](_0x1771df=>job_detail_1[_0x42d39b(0x1fa)][_0x42d39b(0x21a)](_0x1771df)),this[_0x42d39b(0x212)](_0x3a9c8c);}async[a75_0x142eb2(0x1e4)](_0x1205d2){return new Promise((_0x4e8894,_0x1c1665)=>{const _0x2145f7=a75_0x28d0;_0x1205d2[_0x2145f7(0x1ee)](_0x2145f7(0x21a),_0x1c1665),_0x1205d2['once'](_0x2145f7(0x1f3),()=>{const _0x5bcbf4=_0x2145f7,_0x228579=_0x1205d2[_0x5bcbf4(0x1f5)](0x10);_0x4e8894(_0x228579);});});}[a75_0x142eb2(0x1e7)](_0x5d8d39,{header:_0x1beed6,column:_0x27e72e}){const _0x357c65=a75_0x142eb2;!this[_0x357c65(0x210)]&&(this[_0x357c65(0x210)]=this['describe'][_0x357c65(0x209)]['reduce']((_0x1988f3,{name:_0x45feff,type:_0x150d64})=>_0x1988f3[_0x357c65(0x220)](_0x45feff,_0x150d64),new Map()));if(_0x1beed6)return _0x5d8d39;if(!_0x5d8d39)return null;switch(this[_0x357c65(0x210)][_0x357c65(0x215)](_0x27e72e)){case _0x357c65(0x1e8):return _0x5d8d39[_0x357c65(0x221)](/\.\d{3}Z$/,_0x357c65(0x204));case'boolean':return _0x5d8d39===_0x357c65(0x224);case _0x357c65(0x20e):case _0x357c65(0x21c):case _0x357c65(0x1e9):case'percent':return+_0x5d8d39;default:return _0x5d8d39;}}}exports[a75_0x142eb2(0x211)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x142eb2(0x201)]=0x1388;