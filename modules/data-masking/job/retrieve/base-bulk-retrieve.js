function a75_0x2486(_0x41c39c,_0x41467b){const _0x1671f5=a75_0x2307();return a75_0x2486=function(_0x1d77c1,_0x4622c5){_0x1d77c1=_0x1d77c1-0x11e;let _0x23079d=_0x1671f5[_0x1d77c1];return _0x23079d;},a75_0x2486(_0x41c39c,_0x41467b);}const a75_0x7a69e0=a75_0x2486;(function(_0x26a61c,_0x4ee13f){const _0x458fcb=a75_0x2486,_0x253194=_0x26a61c();while(!![]){try{const _0x36c2bc=-parseInt(_0x458fcb(0x13a))/0x1+-parseInt(_0x458fcb(0x164))/0x2*(-parseInt(_0x458fcb(0x139))/0x3)+-parseInt(_0x458fcb(0x128))/0x4+parseInt(_0x458fcb(0x159))/0x5*(parseInt(_0x458fcb(0x136))/0x6)+parseInt(_0x458fcb(0x157))/0x7+parseInt(_0x458fcb(0x143))/0x8*(-parseInt(_0x458fcb(0x124))/0x9)+-parseInt(_0x458fcb(0x13e))/0xa*(parseInt(_0x458fcb(0x132))/0xb);if(_0x36c2bc===_0x4ee13f)break;else _0x253194['push'](_0x253194['shift']());}catch(_0x31bee1){_0x253194['push'](_0x253194['shift']());}}}(a75_0x2307,0xa17de));const a75_0x4622c5=(function(){let _0x582341=!![];return function(_0x372fcb,_0x651706){const _0x1eb118=_0x582341?function(){const _0x4a3b26=a75_0x2486;if(_0x651706){const _0x2bd13f=_0x651706[_0x4a3b26(0x146)](_0x372fcb,arguments);return _0x651706=null,_0x2bd13f;}}:function(){};return _0x582341=![],_0x1eb118;};}()),a75_0x1d77c1=a75_0x4622c5(this,function(){const _0x331e08=a75_0x2486;return a75_0x1d77c1['toString']()['search']('(((.+)+)+)+$')[_0x331e08(0x13b)]()[_0x331e08(0x13d)](a75_0x1d77c1)[_0x331e08(0x15b)](_0x331e08(0x134));});function a75_0x2307(){const _0x59f6c3=['jobStorePath','readable','FsUtils','replace','stream/promises','SALESFORCE_API_VERSION','BaseBulkRetrieve','.000+0000','get','createReadStream','__importDefault','baseRetrievePayload','81XoHuzF','error','read','castCsvValue','2110580yzUZJJ','handleError','createReader','join','_read','set','catch','readEncryptionVector','default','then','11QPaKLD','describe','(((.+)+)+)+$','defineProperty','6ejoPAx','crypto','once','15tFFFHs','190974akMaIB','toString','BulkV1QueryContentType','constructor','2090390JWRYmK','getIsDone','bind','systemLogger','push','166328SXNvRU','createEncryptPipe','data','apply','createWriteStream','./base-retrieve','true','fs/promises','_fieldsTypes','boolean','queryBuilder','../job-detail','CryptoUtils','fields','double','csvParser','csv-parse','datetime','pull','stream','6956488EReXQb','percent','79265ZiTwZs','reduce','search','request','__esModule','isPaused','pause','readEncryptedTempFile','writeEncryptedTempFile','execute','isExistsPath','306644FRfdnb','destroy','pipeline','@flosum/utils','pipelineCallback','end'];a75_0x2307=function(){return _0x59f6c3;};return a75_0x2307();}a75_0x1d77c1();'use strict';var __importDefault=this&&this[a75_0x7a69e0(0x122)]||function(_0x142b57){const _0x47df76=a75_0x7a69e0;return _0x142b57&&_0x142b57[_0x47df76(0x15d)]?_0x142b57:{'default':_0x142b57};};Object[a75_0x7a69e0(0x135)](exports,a75_0x7a69e0(0x15d),{'value':!![]}),exports[a75_0x7a69e0(0x11e)]=void 0x0;const base_retrieve_1=require(a75_0x7a69e0(0x148)),stream_1=require(a75_0x7a69e0(0x156)),path_1=__importDefault(require('path')),utils_1=require(a75_0x7a69e0(0x167)),promises_1=require(a75_0x7a69e0(0x14a)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x7a69e0(0x16e)),crypto_1=require(a75_0x7a69e0(0x137)),csv_parse_1=require(a75_0x7a69e0(0x153)),salesforce_1=require('@flosum/salesforce'),job_detail_1=require(a75_0x7a69e0(0x14e)),constants_1=require('../../constants');class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get[a75_0x7a69e0(0x123)](){const _0xc89a4d=a75_0x7a69e0;return{'queryBuilder':this[_0xc89a4d(0x14d)],'instance':this[_0xc89a4d(0x15c)],'api':constants_1[_0xc89a4d(0x16f)],'contentType':salesforce_1[_0xc89a4d(0x13c)]['TEXT_CSV']};}async['pull'](){const _0x1cf347=a75_0x7a69e0;var _0x124159,_0x3d1f37;if(this['retrieve'][_0x1cf347(0x13f)]()&&!((_0x124159=this[_0x1cf347(0x152)])===null||_0x124159===void 0x0?void 0x0:_0x124159['isPaused']())){this[_0x1cf347(0x142)](null);return;}if((_0x3d1f37=this[_0x1cf347(0x152)])===null||_0x3d1f37===void 0x0?void 0x0:_0x3d1f37[_0x1cf347(0x15e)]()){this['csvParser']['resume']();return;}const _0x5a2cb3=await this['retrieve'][_0x1cf347(0x162)]();if(!_0x5a2cb3)return this[_0x1cf347(0x155)]();await this[_0x1cf347(0x12a)](_0x5a2cb3);}async['createReader'](_0x27eed7){const _0x1d870f=a75_0x7a69e0,_0x229418=path_1[_0x1d870f(0x130)][_0x1d870f(0x12b)](job_detail_1[_0x1d870f(0x16a)],(0x0,crypto_1['randomUUID'])()),_0x174b5e=(0x0,crypto_1['randomUUID'])(),_0x50a07a=await this[_0x1d870f(0x161)](_0x27eed7,_0x229418,_0x174b5e)[_0x1d870f(0x131)](()=>this[_0x1d870f(0x160)](_0x229418,_0x174b5e)),_0x3d9a5e={'columns':!![],'cast':this['castCsvValue'][_0x1d870f(0x140)](this)};this[_0x1d870f(0x152)]=(0x0,stream_1['pipeline'])(_0x50a07a,(0x0,csv_parse_1['parse'])(_0x3d9a5e),this[_0x1d870f(0x168)]['bind'](this,_0x229418)),this[_0x1d870f(0x152)]['on'](_0x1d870f(0x145),_0x3d433d=>{const _0x1512f0=_0x1d870f;this[_0x1512f0(0x152)][_0x1512f0(0x15f)](),this[_0x1512f0(0x142)](_0x3d433d);}),this[_0x1d870f(0x152)]['on'](_0x1d870f(0x169),async()=>{const _0x599aff=_0x1d870f;return await utils_1[_0x599aff(0x16c)][_0x599aff(0x163)](_0x229418)&&await(0x0,promises_1['rm'])(_0x229418)['catch'](this[_0x599aff(0x129)][_0x599aff(0x140)](this,null)),this[_0x599aff(0x12c)]();}),this[_0x1d870f(0x152)]['on'](_0x1d870f(0x125),this[_0x1d870f(0x168)]['bind'](this,_0x229418));}async[a75_0x7a69e0(0x161)](_0x54ff5a,_0x333ca6,_0x2b619a){const _0x15633d=a75_0x7a69e0,_0x4f9feb=fs_1[_0x15633d(0x130)][_0x15633d(0x147)](_0x333ca6);await(0x0,promises_2['pipeline'])(_0x54ff5a,utils_1[_0x15633d(0x14f)][_0x15633d(0x144)](_0x2b619a),_0x4f9feb);}async[a75_0x7a69e0(0x160)](_0x1eca3b,_0x3f72e0){const _0x18ff10=a75_0x7a69e0,_0x67c3dd=fs_1['default'][_0x18ff10(0x121)](_0x1eca3b),_0x30d00c=await this[_0x18ff10(0x12f)](_0x67c3dd),_0x3609ef=utils_1[_0x18ff10(0x14f)]['createDecryptPipe'](_0x3f72e0,_0x30d00c);return(0x0,stream_1[_0x18ff10(0x166)])(_0x67c3dd,_0x3609ef,this[_0x18ff10(0x168)][_0x18ff10(0x140)](this,_0x1eca3b));}async[a75_0x7a69e0(0x168)](_0x33814d,_0x2d5cde){const _0x322197=a75_0x7a69e0;_0x2d5cde&&await this[_0x322197(0x129)](_0x33814d,_0x2d5cde);}async[a75_0x7a69e0(0x129)](_0x33dba2,_0x5ba64c){const _0x412052=a75_0x7a69e0;_0x33dba2&&await utils_1['FsUtils'][_0x412052(0x163)](_0x33dba2)&&await(0x0,promises_1['rm'])(_0x33dba2)[_0x412052(0x12e)](_0x4bf212=>job_detail_1[_0x412052(0x141)][_0x412052(0x125)](_0x4bf212)),this[_0x412052(0x165)](_0x5ba64c);}async[a75_0x7a69e0(0x12f)](_0x586092){return new Promise((_0x4621eb,_0x580d1d)=>{const _0x36ea8f=a75_0x2486;_0x586092['once']('error',_0x580d1d),_0x586092[_0x36ea8f(0x138)](_0x36ea8f(0x16b),()=>{const _0xdb88fd=_0x36ea8f,_0x3cce31=_0x586092[_0xdb88fd(0x126)](0x10);_0x4621eb(_0x3cce31);});});}[a75_0x7a69e0(0x127)](_0x2b4012,{header:_0x39c348,column:_0xd9c7e}){const _0xae6e58=a75_0x7a69e0;!this['_fieldsTypes']&&(this[_0xae6e58(0x14b)]=this[_0xae6e58(0x133)][_0xae6e58(0x150)][_0xae6e58(0x15a)]((_0x413491,{name:_0x4668d5,type:_0x3950a0})=>_0x413491[_0xae6e58(0x12d)](_0x4668d5,_0x3950a0),new Map()));if(_0x39c348)return _0x2b4012;if(!_0x2b4012)return null;switch(this[_0xae6e58(0x14b)][_0xae6e58(0x120)](_0xd9c7e)){case _0xae6e58(0x154):return _0x2b4012[_0xae6e58(0x16d)](/\.\d{3}Z$/,_0xae6e58(0x11f));case _0xae6e58(0x14c):return _0x2b4012===_0xae6e58(0x149);case'currency':case _0xae6e58(0x151):case'int':case _0xae6e58(0x158):return+_0x2b4012;default:return _0x2b4012;}}}exports[a75_0x7a69e0(0x11e)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;