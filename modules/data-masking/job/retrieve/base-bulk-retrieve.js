const a75_0x55dc8f=a75_0xc9ae;(function(_0x5175a7,_0x51cc54){const _0x424544=a75_0xc9ae,_0x654cb8=_0x5175a7();while(!![]){try{const _0xdf62f3=-parseInt(_0x424544(0x10f))/0x1*(parseInt(_0x424544(0x11a))/0x2)+parseInt(_0x424544(0x114))/0x3*(-parseInt(_0x424544(0x12a))/0x4)+-parseInt(_0x424544(0x10c))/0x5+parseInt(_0x424544(0x149))/0x6+-parseInt(_0x424544(0x13f))/0x7+parseInt(_0x424544(0x12c))/0x8*(-parseInt(_0x424544(0x14e))/0x9)+parseInt(_0x424544(0x129))/0xa;if(_0xdf62f3===_0x51cc54)break;else _0x654cb8['push'](_0x654cb8['shift']());}catch(_0x37398a){_0x654cb8['push'](_0x654cb8['shift']());}}}(a75_0x3474,0xd130b));const a75_0x44cdb1=(function(){let _0xb046b9=!![];return function(_0x10fced,_0x23a4d6){const _0x10a0c3=_0xb046b9?function(){const _0x421c05=a75_0xc9ae;if(_0x23a4d6){const _0x5dbb8c=_0x23a4d6[_0x421c05(0x123)](_0x10fced,arguments);return _0x23a4d6=null,_0x5dbb8c;}}:function(){};return _0xb046b9=![],_0x10a0c3;};}()),a75_0x571b9a=a75_0x44cdb1(this,function(){const _0x4ff1b5=a75_0xc9ae;return a75_0x571b9a[_0x4ff1b5(0x11b)]()[_0x4ff1b5(0x14b)]('(((.+)+)+)+$')[_0x4ff1b5(0x11b)]()[_0x4ff1b5(0x141)](a75_0x571b9a)[_0x4ff1b5(0x14b)](_0x4ff1b5(0x125));});a75_0x571b9a();'use strict';function a75_0xc9ae(_0x580571,_0x6795ac){const _0x159211=a75_0x3474();return a75_0xc9ae=function(_0x571b9a,_0x44cdb1){_0x571b9a=_0x571b9a-0x10c;let _0x347408=_0x159211[_0x571b9a];return _0x347408;},a75_0xc9ae(_0x580571,_0x6795ac);}var __importDefault=this&&this[a75_0x55dc8f(0x133)]||function(_0x8b5a11){const _0x2903bf=a75_0x55dc8f;return _0x8b5a11&&_0x8b5a11[_0x2903bf(0x144)]?_0x8b5a11:{'default':_0x8b5a11};};Object['defineProperty'](exports,a75_0x55dc8f(0x144),{'value':!![]}),exports[a75_0x55dc8f(0x118)]=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require(a75_0x55dc8f(0x138)),path_1=__importDefault(require(a75_0x55dc8f(0x143))),utils_1=require('@flosum/utils'),promises_1=require(a75_0x55dc8f(0x124)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x55dc8f(0x12b)),crypto_1=require('crypto'),csv_parse_1=require(a75_0x55dc8f(0x13c)),zlib_1=__importDefault(require(a75_0x55dc8f(0x120))),job_detail_1=require(a75_0x55dc8f(0x11c));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{async[a75_0x55dc8f(0x13e)](){const _0x2cd240=a75_0x55dc8f;var _0x2c7abb,_0x595319;if(this[_0x2cd240(0x119)][_0x2cd240(0x14d)]()&&!((_0x2c7abb=this['csvParser'])===null||_0x2c7abb===void 0x0?void 0x0:_0x2c7abb[_0x2cd240(0x147)]())){this[_0x2cd240(0x110)](null);return;}if((_0x595319=this[_0x2cd240(0x14c)])===null||_0x595319===void 0x0?void 0x0:_0x595319['isPaused']()){this[_0x2cd240(0x14c)][_0x2cd240(0x148)]();return;}const _0x38059b=await this[_0x2cd240(0x119)][_0x2cd240(0x112)]();if(!_0x38059b)return this[_0x2cd240(0x13e)]();await this[_0x2cd240(0x134)](_0x38059b);}async[a75_0x55dc8f(0x134)](_0x1cb4a3){const _0xa7cdfd=a75_0x55dc8f,_0x6ed73d=path_1[_0xa7cdfd(0x137)]['join'](job_detail_1[_0xa7cdfd(0x12e)],(0x0,crypto_1[_0xa7cdfd(0x113)])()),_0x94ec98=(0x0,crypto_1[_0xa7cdfd(0x113)])(),_0x54bf70=await this[_0xa7cdfd(0x121)](_0x1cb4a3,_0x6ed73d,_0x94ec98)[_0xa7cdfd(0x126)](()=>this[_0xa7cdfd(0x128)](_0x6ed73d,_0x94ec98)),_0x390f80={'columns':!![],'cast':this['castCsvValue'][_0xa7cdfd(0x145)](this)};this['csvParser']=(0x0,stream_1[_0xa7cdfd(0x12f)])(_0x54bf70,zlib_1[_0xa7cdfd(0x137)][_0xa7cdfd(0x12d)](),(0x0,csv_parse_1[_0xa7cdfd(0x140)])(_0x390f80),this[_0xa7cdfd(0x11d)][_0xa7cdfd(0x145)](this,_0x6ed73d)),this['csvParser']['on']('data',_0x760b42=>{const _0x580d18=_0xa7cdfd;this[_0x580d18(0x14c)]['pause'](),this[_0x580d18(0x110)](_0x760b42);}),this[_0xa7cdfd(0x14c)]['on']('end',async()=>{const _0x42746c=_0xa7cdfd;return await utils_1[_0x42746c(0x127)]['isExistsPath'](_0x6ed73d)&&await(0x0,promises_1['rm'])(_0x6ed73d)['catch'](this[_0x42746c(0x117)][_0x42746c(0x145)](this,null)),this[_0x42746c(0x11f)]();}),this[_0xa7cdfd(0x14c)]['on'](_0xa7cdfd(0x122),this['pipelineCallback'][_0xa7cdfd(0x145)](this,_0x6ed73d));}async['writeEncryptedTempFile'](_0x49fdd5,_0x5a3a80,_0x2ebb5f){const _0x23b271=a75_0x55dc8f,_0x3e52cb=fs_1[_0x23b271(0x137)][_0x23b271(0x11e)](_0x5a3a80);await(0x0,promises_2[_0x23b271(0x12f)])(_0x49fdd5,utils_1[_0x23b271(0x111)][_0x23b271(0x130)](_0x2ebb5f),_0x3e52cb);}async[a75_0x55dc8f(0x128)](_0x3080ff,_0xbf3f17){const _0x49fcbf=a75_0x55dc8f,_0x28f2de=fs_1[_0x49fcbf(0x137)]['createReadStream'](_0x3080ff),_0x23ceef=await this[_0x49fcbf(0x13a)](_0x28f2de),_0x402568=utils_1[_0x49fcbf(0x111)][_0x49fcbf(0x142)](_0xbf3f17,_0x23ceef);return(0x0,stream_1[_0x49fcbf(0x12f)])(_0x28f2de,_0x402568,this[_0x49fcbf(0x11d)][_0x49fcbf(0x145)](this,_0x3080ff));}async[a75_0x55dc8f(0x11d)](_0x2df91e,_0x381db8){const _0x299099=a75_0x55dc8f;_0x381db8&&await this[_0x299099(0x117)](_0x2df91e,_0x381db8);}async['handleError'](_0x1bda95,_0x3c9122){const _0x4dae6a=a75_0x55dc8f;_0x1bda95&&await utils_1[_0x4dae6a(0x127)][_0x4dae6a(0x115)](_0x1bda95)&&await(0x0,promises_1['rm'])(_0x1bda95)['catch'](_0x1a9306=>job_detail_1[_0x4dae6a(0x135)][_0x4dae6a(0x122)](_0x1a9306)),this[_0x4dae6a(0x132)](_0x3c9122);}async['readEncryptionVector'](_0x157d5b){return new Promise((_0x497624,_0x3f1495)=>{const _0x1f8e9a=a75_0xc9ae;_0x157d5b[_0x1f8e9a(0x14f)](_0x1f8e9a(0x122),_0x3f1495),_0x157d5b[_0x1f8e9a(0x14f)]('readable',()=>{const _0x48d1f2=_0x1f8e9a,_0x163462=_0x157d5b[_0x48d1f2(0x10e)](0x10);_0x497624(_0x163462);});});}[a75_0x55dc8f(0x116)](_0x4de404,{header:_0x687f65,column:_0x130196}){const _0x2a12ad=a75_0x55dc8f;!this[_0x2a12ad(0x139)]&&(this['_fieldsTypes']=this[_0x2a12ad(0x146)]['fields'][_0x2a12ad(0x13d)]((_0x448aae,{name:_0x28ba47,type:_0x167eab})=>_0x448aae['set'](_0x28ba47,_0x167eab),new Map()));if(_0x687f65)return _0x4de404;if(!_0x4de404)return null;switch(this[_0x2a12ad(0x139)]['get'](_0x130196)){case _0x2a12ad(0x131):return _0x4de404[_0x2a12ad(0x13b)](/\.\d{3}Z$/,_0x2a12ad(0x136));case'boolean':return _0x4de404==='true';case'currency':case _0x2a12ad(0x10d):case'int':case _0x2a12ad(0x14a):return+_0x4de404;default:return _0x4de404;}}}exports[a75_0x55dc8f(0x118)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;function a75_0x3474(){const _0x1d3421=['toString','../job-detail','pipelineCallback','createWriteStream','_read','zlib','writeEncryptedTempFile','error','apply','fs/promises','(((.+)+)+)+$','then','FsUtils','readEncryptedTempFile','44935080xDswJI','3228468PGRDxK','stream/promises','4067944AMFJXn','createUnzip','jobStorePath','pipeline','createEncryptPipe','datetime','destroy','__importDefault','createReader','systemLogger','.000+0000','default','stream','_fieldsTypes','readEncryptionVector','replace','csv-parse','reduce','pull','124180rqwKfv','parse','constructor','createDecryptPipe','path','__esModule','bind','describe','isPaused','resume','621168TjGxUd','percent','search','csvParser','getIsDone','9UPaoQt','once','7180160slfYvv','double','read','1xiemNJ','push','CryptoUtils','execute','randomUUID','6sgbpem','isExistsPath','castCsvValue','handleError','BaseBulkRetrieve','retrieve','327388CmOtUq'];a75_0x3474=function(){return _0x1d3421;};return a75_0x3474();}