function a93_0x45a6(){const _0x1d1a44=['jobStorePath','849132MKoiRQ','then','BulkV1QueryContentType','238623zgVchY','writeEncryptedTempFile','2138230nDGvls','__importDefault','replace','_fieldsTypes','isPaused','toString','POLL_INTERVAL','constructor','54996DqUljN','pipeline','112842OQsUiE','pipelineCallback','percent','4735mhknaS','CryptoUtils','currency','stream','isExistsPath','486ZuVniq','int','read','retrieve','destroy','stream/promises','true','csvParser','castCsvValue','__esModule','queryBuilder','(((.+)+)+)+$','execute','6HAOFbB','readEncryptionVector','reduce','randomUUID','8EAbzcr','search','../../constants','request','@flosum/utils','parse','createReader','error','describe','push','FsUtils','SALESFORCE_API_VERSION','catch','once','join','systemLogger','get','createWriteStream','BaseBulkRetrieve','readEncryptedTempFile','getIsDone','bind','default','boolean','csv-parse','./base-retrieve','handleError','../job-detail','TEXT_CSV','145782LxVeAp','path'];a93_0x45a6=function(){return _0x1d1a44;};return a93_0x45a6();}const a93_0x53b8fb=a93_0x1d8b;(function(_0x21d0a9,_0x3af67b){const _0x3b2cc1=a93_0x1d8b,_0x5ca6a1=_0x21d0a9();while(!![]){try{const _0x564b86=-parseInt(_0x3b2cc1(0x1c6))/0x1+parseInt(_0x3b2cc1(0x1d8))/0x2*(-parseInt(_0x3b2cc1(0x1ed))/0x3)+parseInt(_0x3b2cc1(0x1d6))/0x4+-parseInt(_0x3b2cc1(0x1db))/0x5*(-parseInt(_0x3b2cc1(0x1e0))/0x6)+-parseInt(_0x3b2cc1(0x1cc))/0x7+parseInt(_0x3b2cc1(0x1a9))/0x8*(parseInt(_0x3b2cc1(0x1c9))/0x9)+parseInt(_0x3b2cc1(0x1ce))/0xa;if(_0x564b86===_0x3af67b)break;else _0x5ca6a1['push'](_0x5ca6a1['shift']());}catch(_0x51f68e){_0x5ca6a1['push'](_0x5ca6a1['shift']());}}}(a93_0x45a6,0x19dba));const a93_0x116d74=(function(){let _0x9471e3=!![];return function(_0x1ee57a,_0x40a663){const _0x447180=_0x9471e3?function(){if(_0x40a663){const _0x44ed8e=_0x40a663['apply'](_0x1ee57a,arguments);return _0x40a663=null,_0x44ed8e;}}:function(){};return _0x9471e3=![],_0x447180;};}()),a93_0x90e39a=a93_0x116d74(this,function(){const _0x53d028=a93_0x1d8b;return a93_0x90e39a[_0x53d028(0x1d3)]()[_0x53d028(0x1aa)](_0x53d028(0x1eb))[_0x53d028(0x1d3)]()[_0x53d028(0x1d5)](a93_0x90e39a)[_0x53d028(0x1aa)](_0x53d028(0x1eb));});a93_0x90e39a();'use strict';var __importDefault=this&&this[a93_0x53b8fb(0x1cf)]||function(_0x2ddbd1){const _0x479bc3=a93_0x53b8fb;return _0x2ddbd1&&_0x2ddbd1[_0x479bc3(0x1e9)]?_0x2ddbd1:{'default':_0x2ddbd1};};Object['defineProperty'](exports,a93_0x53b8fb(0x1e9),{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;function a93_0x1d8b(_0x1c62af,_0x3a4b75){const _0xd28478=a93_0x45a6();return a93_0x1d8b=function(_0x90e39a,_0x116d74){_0x90e39a=_0x90e39a-0x1a6;let _0x45a6d7=_0xd28478[_0x90e39a];return _0x45a6d7;},a93_0x1d8b(_0x1c62af,_0x3a4b75);}const base_retrieve_1=require(a93_0x53b8fb(0x1c2)),stream_1=require(a93_0x53b8fb(0x1de)),path_1=__importDefault(require(a93_0x53b8fb(0x1c7))),utils_1=require(a93_0x53b8fb(0x1ad)),promises_1=require('fs/promises'),fs_1=__importDefault(require('fs')),promises_2=require(a93_0x53b8fb(0x1e5)),crypto_1=require('crypto'),csv_parse_1=require(a93_0x53b8fb(0x1c1)),salesforce_1=require('@flosum/salesforce'),job_detail_1=require(a93_0x53b8fb(0x1c4)),constants_1=require(a93_0x53b8fb(0x1ab));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get['baseRetrievePayload'](){const _0x2d8c35=a93_0x53b8fb;return{'queryBuilder':this[_0x2d8c35(0x1ea)],'instance':this[_0x2d8c35(0x1ac)],'api':constants_1[_0x2d8c35(0x1b4)],'contentType':salesforce_1[_0x2d8c35(0x1cb)][_0x2d8c35(0x1c5)]};}async['pull'](){const _0x538c3b=a93_0x53b8fb;var _0x44c6df,_0x17eac5;if(this[_0x538c3b(0x1e3)][_0x538c3b(0x1bd)]()&&!((_0x44c6df=this[_0x538c3b(0x1e7)])===null||_0x44c6df===void 0x0?void 0x0:_0x44c6df[_0x538c3b(0x1d2)]())){this[_0x538c3b(0x1b2)](null);return;}if((_0x17eac5=this[_0x538c3b(0x1e7)])===null||_0x17eac5===void 0x0?void 0x0:_0x17eac5[_0x538c3b(0x1d2)]()){this[_0x538c3b(0x1e7)]['resume']();return;}const _0x524d06=await this[_0x538c3b(0x1e3)][_0x538c3b(0x1ec)]();if(!_0x524d06)return this['pull']();await this[_0x538c3b(0x1af)](_0x524d06);}async[a93_0x53b8fb(0x1af)](_0x2bf03b){const _0x5df370=a93_0x53b8fb,_0x2aa7a7=path_1[_0x5df370(0x1bf)][_0x5df370(0x1b7)](job_detail_1[_0x5df370(0x1c8)],(0x0,crypto_1['randomUUID'])()),_0x2e6c94=(0x0,crypto_1[_0x5df370(0x1a8)])(),_0x238402=await this[_0x5df370(0x1cd)](_0x2bf03b,_0x2aa7a7,_0x2e6c94)[_0x5df370(0x1ca)](()=>this[_0x5df370(0x1bc)](_0x2aa7a7,_0x2e6c94)),_0x35bf6a={'columns':!![],'cast':this[_0x5df370(0x1e8)][_0x5df370(0x1be)](this)};this['csvParser']=(0x0,stream_1[_0x5df370(0x1d7)])(_0x238402,(0x0,csv_parse_1[_0x5df370(0x1ae)])(_0x35bf6a),this[_0x5df370(0x1d9)][_0x5df370(0x1be)](this,_0x2aa7a7)),this[_0x5df370(0x1e7)]['on']('data',_0x31b42d=>{const _0x17db11=_0x5df370;this[_0x17db11(0x1e7)]['pause'](),this[_0x17db11(0x1b2)](_0x31b42d);}),this[_0x5df370(0x1e7)]['on']('end',async()=>{const _0xb9215d=_0x5df370;return await utils_1[_0xb9215d(0x1b3)][_0xb9215d(0x1df)](_0x2aa7a7)&&await(0x0,promises_1['rm'])(_0x2aa7a7)['catch'](this[_0xb9215d(0x1c3)][_0xb9215d(0x1be)](this,null)),this['_read']();}),this['csvParser']['on'](_0x5df370(0x1b0),this[_0x5df370(0x1d9)][_0x5df370(0x1be)](this,_0x2aa7a7));}async[a93_0x53b8fb(0x1cd)](_0x5eef01,_0x17c2f4,_0x1fc5d4){const _0x5d810a=a93_0x53b8fb,_0x36cd99=fs_1[_0x5d810a(0x1bf)][_0x5d810a(0x1ba)](_0x17c2f4);await(0x0,promises_2['pipeline'])(_0x5eef01,utils_1['CryptoUtils']['createEncryptPipe'](_0x1fc5d4),_0x36cd99);}async['readEncryptedTempFile'](_0x20c22a,_0x40fe56){const _0x54d416=a93_0x53b8fb,_0x33b82e=fs_1['default']['createReadStream'](_0x20c22a),_0x13ecb4=await this['readEncryptionVector'](_0x33b82e),_0x40baaa=utils_1[_0x54d416(0x1dc)]['createDecryptPipe'](_0x40fe56,_0x13ecb4);return(0x0,stream_1[_0x54d416(0x1d7)])(_0x33b82e,_0x40baaa,this[_0x54d416(0x1d9)][_0x54d416(0x1be)](this,_0x20c22a));}async['pipelineCallback'](_0x40d0d6,_0x5d2284){const _0x403584=a93_0x53b8fb;_0x5d2284&&await this[_0x403584(0x1c3)](_0x40d0d6,_0x5d2284);}async[a93_0x53b8fb(0x1c3)](_0x38559a,_0x48e7a4){const _0x582653=a93_0x53b8fb;_0x38559a&&await utils_1[_0x582653(0x1b3)][_0x582653(0x1df)](_0x38559a)&&await(0x0,promises_1['rm'])(_0x38559a)[_0x582653(0x1b5)](_0x46e239=>job_detail_1[_0x582653(0x1b8)]['error'](_0x46e239)),this[_0x582653(0x1e4)](_0x48e7a4);}async[a93_0x53b8fb(0x1a6)](_0x3812d1){return new Promise((_0x23866e,_0x3ea502)=>{const _0x25973e=a93_0x1d8b;_0x3812d1[_0x25973e(0x1b6)](_0x25973e(0x1b0),_0x3ea502),_0x3812d1[_0x25973e(0x1b6)]('readable',()=>{const _0xca980d=_0x25973e,_0xba9889=_0x3812d1[_0xca980d(0x1e2)](0x10);_0x23866e(_0xba9889);});});}[a93_0x53b8fb(0x1e8)](_0x5e2bb9,{header:_0x4a7390,column:_0x15f39d}){const _0x448062=a93_0x53b8fb;!this[_0x448062(0x1d1)]&&(this[_0x448062(0x1d1)]=this[_0x448062(0x1b1)]['fields'][_0x448062(0x1a7)]((_0xc06b0c,{name:_0x29c6fd,type:_0x2a7a4e})=>_0xc06b0c['set'](_0x29c6fd,_0x2a7a4e),new Map()));if(_0x4a7390)return _0x5e2bb9;if(!_0x5e2bb9)return null;switch(this[_0x448062(0x1d1)][_0x448062(0x1b9)](_0x15f39d)){case'datetime':return _0x5e2bb9[_0x448062(0x1d0)](/\.\d{3}Z$/,'.000+0000');case _0x448062(0x1c0):return _0x5e2bb9===_0x448062(0x1e6);case _0x448062(0x1dd):case'double':case _0x448062(0x1e1):case _0x448062(0x1da):return+_0x5e2bb9;default:return _0x5e2bb9;}}}exports[a93_0x53b8fb(0x1bb)]=BaseBulkRetrieve,BaseBulkRetrieve[a93_0x53b8fb(0x1d4)]=0x1388;