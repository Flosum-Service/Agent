const a74_0x12ca98=a74_0x3c5f;(function(_0x51ee3d,_0x26458e){const _0x200e6c=a74_0x3c5f,_0x6c3588=_0x51ee3d();while(!![]){try{const _0x17116e=-parseInt(_0x200e6c(0x98))/0x1*(parseInt(_0x200e6c(0x9d))/0x2)+parseInt(_0x200e6c(0x94))/0x3*(parseInt(_0x200e6c(0x79))/0x4)+parseInt(_0x200e6c(0xa9))/0x5*(-parseInt(_0x200e6c(0xac))/0x6)+parseInt(_0x200e6c(0x73))/0x7+parseInt(_0x200e6c(0x9e))/0x8+-parseInt(_0x200e6c(0x7f))/0x9+-parseInt(_0x200e6c(0xaa))/0xa*(parseInt(_0x200e6c(0xa0))/0xb);if(_0x17116e===_0x26458e)break;else _0x6c3588['push'](_0x6c3588['shift']());}catch(_0x12b348){_0x6c3588['push'](_0x6c3588['shift']());}}}(a74_0x5ceb,0xcfe32));const a74_0x4b7092=(function(){let _0x5c03ac=!![];return function(_0x19ad3d,_0x1cda8d){const _0x45eb59=_0x5c03ac?function(){const _0x4c8e9c=a74_0x3c5f;if(_0x1cda8d){const _0x3848d3=_0x1cda8d[_0x4c8e9c(0x92)](_0x19ad3d,arguments);return _0x1cda8d=null,_0x3848d3;}}:function(){};return _0x5c03ac=![],_0x45eb59;};}()),a74_0x18cc4a=a74_0x4b7092(this,function(){const _0x5d3a89=a74_0x3c5f;return a74_0x18cc4a[_0x5d3a89(0x81)]()['search'](_0x5d3a89(0x8b))[_0x5d3a89(0x81)]()[_0x5d3a89(0xa7)](a74_0x18cc4a)[_0x5d3a89(0x7b)](_0x5d3a89(0x8b));});a74_0x18cc4a();'use strict';var __importDefault=this&&this[a74_0x12ca98(0x8e)]||function(_0x2a4fb0){return _0x2a4fb0&&_0x2a4fb0['__esModule']?_0x2a4fb0:{'default':_0x2a4fb0};};Object['defineProperty'](exports,a74_0x12ca98(0xaf),{'value':!![]}),exports[a74_0x12ca98(0x72)]=void 0x0;function a74_0x5ceb(){const _0x319fbd=['2043391IIGPSM','read','readEncryptedTempFile','createReader','systemLogger','randomUUID','6492604aUMmib','_read','search','csv-parse','getIsDone','datetime','5062680juvFUL','retrieve','toString','pipeline','handleError','default','catch','castCsvValue','describe','currency','get','@flosum/utils','(((.+)+)+)+$','int','_fieldsTypes','__importDefault','join','POLL_INTERVAL','execute','apply','once','3mlqjyW','reduce','writeEncryptedTempFile','then','692246YEMRos','percent','replace','stream/promises','destroy','2qJbzGj','6859936dGoVGH','double','121SbBLhJ','error','pause','isExistsPath','../job-detail','bind','.000+0000','constructor','jobStorePath','592935kIuhMb','390100UQHQFd','push','12qSDuaA','createDecryptPipe','fields','__esModule','true','pipelineCallback','isPaused','end','readEncryptionVector','createUnzip','set','fs/promises','CryptoUtils','parse','boolean','createEncryptPipe','FsUtils','pull','./base-retrieve','BaseRetrieve','csvParser','createReadStream','stream','BaseBulkRetrieve'];a74_0x5ceb=function(){return _0x319fbd;};return a74_0x5ceb();}const base_retrieve_1=require(a74_0x12ca98(0x6d)),stream_1=require(a74_0x12ca98(0x71)),path_1=__importDefault(require('path')),utils_1=require(a74_0x12ca98(0x8a)),promises_1=require(a74_0x12ca98(0x66)),fs_1=__importDefault(require('fs')),promises_2=require(a74_0x12ca98(0x9b)),crypto_1=require('crypto'),csv_parse_1=require(a74_0x12ca98(0x7c)),zlib_1=__importDefault(require('zlib')),job_detail_1=require(a74_0x12ca98(0xa4));function a74_0x3c5f(_0x5605a9,_0x20ac95){const _0x46eee5=a74_0x5ceb();return a74_0x3c5f=function(_0x18cc4a,_0x4b7092){_0x18cc4a=_0x18cc4a-0x65;let _0x5cebc0=_0x46eee5[_0x18cc4a];return _0x5cebc0;},a74_0x3c5f(_0x5605a9,_0x20ac95);}class BaseBulkRetrieve extends base_retrieve_1[a74_0x12ca98(0x6e)]{async[a74_0x12ca98(0x6c)](){const _0x3c1486=a74_0x12ca98;var _0x223b93,_0x3c2b2c;if(this['retrieve'][_0x3c1486(0x7d)]()&&!((_0x223b93=this[_0x3c1486(0x6f)])===null||_0x223b93===void 0x0?void 0x0:_0x223b93[_0x3c1486(0xb2)]())){this[_0x3c1486(0xab)](null);return;}if((_0x3c2b2c=this[_0x3c1486(0x6f)])===null||_0x3c2b2c===void 0x0?void 0x0:_0x3c2b2c[_0x3c1486(0xb2)]()){this[_0x3c1486(0x6f)]['resume']();return;}const _0x422121=await this[_0x3c1486(0x80)][_0x3c1486(0x91)]();if(!_0x422121)return this['pull']();await this['createReader'](_0x422121);}async[a74_0x12ca98(0x76)](_0x21b6aa){const _0x5d9cd3=a74_0x12ca98,_0x251d82=path_1[_0x5d9cd3(0x84)][_0x5d9cd3(0x8f)](job_detail_1[_0x5d9cd3(0xa8)],(0x0,crypto_1[_0x5d9cd3(0x78)])()),_0x35133b=(0x0,crypto_1[_0x5d9cd3(0x78)])(),_0x5d36e7=await this['writeEncryptedTempFile'](_0x21b6aa,_0x251d82,_0x35133b)[_0x5d9cd3(0x97)](()=>this[_0x5d9cd3(0x75)](_0x251d82,_0x35133b)),_0x4a462f={'columns':!![],'cast':this[_0x5d9cd3(0x86)][_0x5d9cd3(0xa5)](this)};this[_0x5d9cd3(0x6f)]=(0x0,stream_1[_0x5d9cd3(0x82)])(_0x5d36e7,zlib_1[_0x5d9cd3(0x84)][_0x5d9cd3(0xb5)](),(0x0,csv_parse_1[_0x5d9cd3(0x68)])(_0x4a462f),this[_0x5d9cd3(0xb1)][_0x5d9cd3(0xa5)](this,_0x251d82)),this[_0x5d9cd3(0x6f)]['on']('data',_0x4d31e1=>{const _0xc11da8=_0x5d9cd3;this[_0xc11da8(0x6f)][_0xc11da8(0xa2)](),this[_0xc11da8(0xab)](_0x4d31e1);}),this['csvParser']['on'](_0x5d9cd3(0xb3),async()=>{const _0x54f2f8=_0x5d9cd3;return await utils_1[_0x54f2f8(0x6b)]['isExistsPath'](_0x251d82)&&await(0x0,promises_1['rm'])(_0x251d82)['catch'](this[_0x54f2f8(0x83)][_0x54f2f8(0xa5)](this,null)),this[_0x54f2f8(0x7a)]();}),this[_0x5d9cd3(0x6f)]['on']('error',this[_0x5d9cd3(0xb1)][_0x5d9cd3(0xa5)](this,_0x251d82));}async[a74_0x12ca98(0x96)](_0xaba6d8,_0x45b7be,_0xa90d5e){const _0x482079=a74_0x12ca98,_0x4ddc06=fs_1['default']['createWriteStream'](_0x45b7be);await(0x0,promises_2['pipeline'])(_0xaba6d8,utils_1[_0x482079(0x67)][_0x482079(0x6a)](_0xa90d5e),_0x4ddc06);}async[a74_0x12ca98(0x75)](_0x337df9,_0x228a1f){const _0x76cce1=a74_0x12ca98,_0x10f214=fs_1['default'][_0x76cce1(0x70)](_0x337df9),_0x237450=await this['readEncryptionVector'](_0x10f214),_0x3feb5a=utils_1[_0x76cce1(0x67)][_0x76cce1(0xad)](_0x228a1f,_0x237450);return(0x0,stream_1[_0x76cce1(0x82)])(_0x10f214,_0x3feb5a,this['pipelineCallback'][_0x76cce1(0xa5)](this,_0x337df9));}async[a74_0x12ca98(0xb1)](_0x542fb8,_0x2acd73){const _0x432403=a74_0x12ca98;_0x2acd73&&await this[_0x432403(0x83)](_0x542fb8,_0x2acd73);}async['handleError'](_0x5ace65,_0x257897){const _0x3932da=a74_0x12ca98;_0x5ace65&&await utils_1[_0x3932da(0x6b)][_0x3932da(0xa3)](_0x5ace65)&&await(0x0,promises_1['rm'])(_0x5ace65)[_0x3932da(0x85)](_0x398a08=>job_detail_1[_0x3932da(0x77)]['error'](_0x398a08)),this[_0x3932da(0x9c)](_0x257897);}async[a74_0x12ca98(0xb4)](_0x42aaaf){return new Promise((_0x350776,_0x37ff5b)=>{const _0x267448=a74_0x3c5f;_0x42aaaf[_0x267448(0x93)](_0x267448(0xa1),_0x37ff5b),_0x42aaaf[_0x267448(0x93)]('readable',()=>{const _0x34a660=_0x267448,_0x286238=_0x42aaaf[_0x34a660(0x74)](0x10);_0x350776(_0x286238);});});}[a74_0x12ca98(0x86)](_0x2c0819,{header:_0x55fcdc,column:_0x318b27}){const _0x3d8566=a74_0x12ca98;!this['_fieldsTypes']&&(this[_0x3d8566(0x8d)]=this[_0x3d8566(0x87)][_0x3d8566(0xae)][_0x3d8566(0x95)]((_0x5e82f4,{name:_0xaf2b6e,type:_0x53e5d2})=>_0x5e82f4[_0x3d8566(0x65)](_0xaf2b6e,_0x53e5d2),new Map()));if(_0x55fcdc)return _0x2c0819;if(!_0x2c0819)return null;switch(this[_0x3d8566(0x8d)][_0x3d8566(0x89)](_0x318b27)){case _0x3d8566(0x7e):return _0x2c0819[_0x3d8566(0x9a)](/\.\d{3}Z$/,_0x3d8566(0xa6));case _0x3d8566(0x69):return _0x2c0819===_0x3d8566(0xb0);case _0x3d8566(0x88):case _0x3d8566(0x9f):case _0x3d8566(0x8c):case _0x3d8566(0x99):return+_0x2c0819;default:return _0x2c0819;}}}exports[a74_0x12ca98(0x72)]=BaseBulkRetrieve,BaseBulkRetrieve[a74_0x12ca98(0x90)]=0x1388;