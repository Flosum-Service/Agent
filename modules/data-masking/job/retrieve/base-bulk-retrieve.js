const a75_0x26c572=a75_0x33bb;(function(_0xec151b,_0x241a5d){const _0x19d01f=a75_0x33bb,_0x3de1b5=_0xec151b();while(!![]){try{const _0x5f0c8c=-parseInt(_0x19d01f(0xc3))/0x1*(parseInt(_0x19d01f(0x109))/0x2)+parseInt(_0x19d01f(0xc6))/0x3*(-parseInt(_0x19d01f(0x106))/0x4)+parseInt(_0x19d01f(0x10b))/0x5*(parseInt(_0x19d01f(0xe2))/0x6)+-parseInt(_0x19d01f(0xfa))/0x7+-parseInt(_0x19d01f(0xdb))/0x8*(-parseInt(_0x19d01f(0x10e))/0x9)+parseInt(_0x19d01f(0x103))/0xa*(parseInt(_0x19d01f(0x104))/0xb)+parseInt(_0x19d01f(0xdc))/0xc*(parseInt(_0x19d01f(0xd5))/0xd);if(_0x5f0c8c===_0x241a5d)break;else _0x3de1b5['push'](_0x3de1b5['shift']());}catch(_0x183535){_0x3de1b5['push'](_0x3de1b5['shift']());}}}(a75_0x5db8,0x3118d));const a75_0x540ebb=(function(){let _0x36c0b4=!![];return function(_0x57c0a9,_0x50df4c){const _0x1b6797=_0x36c0b4?function(){const _0x3597ca=a75_0x33bb;if(_0x50df4c){const _0x4f161f=_0x50df4c[_0x3597ca(0x10a)](_0x57c0a9,arguments);return _0x50df4c=null,_0x4f161f;}}:function(){};return _0x36c0b4=![],_0x1b6797;};}()),a75_0x50df5d=a75_0x540ebb(this,function(){const _0x288bf3=a75_0x33bb;return a75_0x50df5d['toString']()[_0x288bf3(0xea)](_0x288bf3(0xe4))[_0x288bf3(0xe8)]()['constructor'](a75_0x50df5d)[_0x288bf3(0xea)](_0x288bf3(0xe4));});function a75_0x5db8(){const _0x3feefe=['_fieldsTypes','percent','18zLfFxn','34975ckEKaE','path','randomUUID','2676rHkWgc','retrieve','readable','replace','true','pause','execute','readEncryptedTempFile','stream','csvParser','push','boolean','getIsDone','error','./base-retrieve','1903564EtqGpq','datetime','fs/promises','default','castCsvValue','bind','1145264YFGtJy','12hcvfFJ','destroy','../../constants','createWriteStream','pipelineCallback','set','948fLqxrs','writeEncryptedTempFile','(((.+)+)+)+$','pipeline','get','join','toString','../job-detail','search','createDecryptPipe','resume','isPaused','createReadStream','once','BaseRetrieve','double','describe','pull','reduce','readEncryptionVector','request','_read','__esModule','.000+0000','1944845FUGXXw','CryptoUtils','FsUtils','handleError','defineProperty','isExistsPath','catch','@flosum/utils','data','10CqjNOQ','2385559sbkrch','stream/promises','940Wjlghu','createReader','TEXT_CSV','14EBHYGj','apply','8980YaUnPw'];a75_0x5db8=function(){return _0x3feefe;};return a75_0x5db8();}a75_0x50df5d();'use strict';function a75_0x33bb(_0x2de470,_0x1f104a){const _0x112780=a75_0x5db8();return a75_0x33bb=function(_0x50df5d,_0x540ebb){_0x50df5d=_0x50df5d-0xc3;let _0x5db841=_0x112780[_0x50df5d];return _0x5db841;},a75_0x33bb(_0x2de470,_0x1f104a);}var __importDefault=this&&this['__importDefault']||function(_0x343be8){const _0xf72909=a75_0x33bb;return _0x343be8&&_0x343be8[_0xf72909(0xf8)]?_0x343be8:{'default':_0x343be8};};Object[a75_0x26c572(0xfe)](exports,a75_0x26c572(0xf8),{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;const base_retrieve_1=require(a75_0x26c572(0xd4)),stream_1=require(a75_0x26c572(0xce)),path_1=__importDefault(require(a75_0x26c572(0xc4))),utils_1=require(a75_0x26c572(0x101)),promises_1=require(a75_0x26c572(0xd7)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x26c572(0x105)),crypto_1=require('crypto'),csv_parse_1=require('csv-parse'),salesforce_1=require('@flosum/salesforce'),job_detail_1=require(a75_0x26c572(0xe9)),constants_1=require(a75_0x26c572(0xde));class BaseBulkRetrieve extends base_retrieve_1[a75_0x26c572(0xf0)]{get['baseRetrievePayload'](){const _0x5f9798=a75_0x26c572;return{'queryBuilder':this['queryBuilder'],'instance':this[_0x5f9798(0xf6)],'api':constants_1['SALESFORCE_API_VERSION'],'contentType':salesforce_1['BulkV1QueryContentType'][_0x5f9798(0x108)]};}async['pull'](){const _0x4cf5ab=a75_0x26c572;var _0x5e6ea1,_0x2bde98;if(this[_0x4cf5ab(0xc7)][_0x4cf5ab(0xd2)]()&&!((_0x5e6ea1=this[_0x4cf5ab(0xcf)])===null||_0x5e6ea1===void 0x0?void 0x0:_0x5e6ea1[_0x4cf5ab(0xed)]())){this[_0x4cf5ab(0xd0)](null);return;}if((_0x2bde98=this[_0x4cf5ab(0xcf)])===null||_0x2bde98===void 0x0?void 0x0:_0x2bde98[_0x4cf5ab(0xed)]()){this['csvParser'][_0x4cf5ab(0xec)]();return;}const _0x4f8c70=await this[_0x4cf5ab(0xc7)][_0x4cf5ab(0xcc)]();if(!_0x4f8c70)return this[_0x4cf5ab(0xf3)]();await this[_0x4cf5ab(0x107)](_0x4f8c70);}async[a75_0x26c572(0x107)](_0x851389){const _0x373bc4=a75_0x26c572,_0x485d84=path_1[_0x373bc4(0xd8)][_0x373bc4(0xe7)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x373bc4(0xc5)])()),_0x5f59eb=(0x0,crypto_1[_0x373bc4(0xc5)])(),_0x41b553=await this['writeEncryptedTempFile'](_0x851389,_0x485d84,_0x5f59eb)['then'](()=>this[_0x373bc4(0xcd)](_0x485d84,_0x5f59eb)),_0x5e196a={'columns':!![],'cast':this[_0x373bc4(0xd9)][_0x373bc4(0xda)](this)};this[_0x373bc4(0xcf)]=(0x0,stream_1[_0x373bc4(0xe5)])(_0x41b553,(0x0,csv_parse_1['parse'])(_0x5e196a),this[_0x373bc4(0xe0)][_0x373bc4(0xda)](this,_0x485d84)),this[_0x373bc4(0xcf)]['on'](_0x373bc4(0x102),_0x29beee=>{const _0x3e739d=_0x373bc4;this[_0x3e739d(0xcf)][_0x3e739d(0xcb)](),this[_0x3e739d(0xd0)](_0x29beee);}),this[_0x373bc4(0xcf)]['on']('end',async()=>{const _0x40775c=_0x373bc4;return await utils_1[_0x40775c(0xfc)]['isExistsPath'](_0x485d84)&&await(0x0,promises_1['rm'])(_0x485d84)[_0x40775c(0x100)](this[_0x40775c(0xfd)][_0x40775c(0xda)](this,null)),this[_0x40775c(0xf7)]();}),this[_0x373bc4(0xcf)]['on'](_0x373bc4(0xd3),this[_0x373bc4(0xe0)]['bind'](this,_0x485d84));}async[a75_0x26c572(0xe3)](_0x3526dd,_0x3f1f7b,_0x4ed71c){const _0x577821=a75_0x26c572,_0x35eb71=fs_1['default'][_0x577821(0xdf)](_0x3f1f7b);await(0x0,promises_2[_0x577821(0xe5)])(_0x3526dd,utils_1[_0x577821(0xfb)]['createEncryptPipe'](_0x4ed71c),_0x35eb71);}async[a75_0x26c572(0xcd)](_0x126bbf,_0x4f1d0c){const _0x396932=a75_0x26c572,_0x1d95c7=fs_1[_0x396932(0xd8)][_0x396932(0xee)](_0x126bbf),_0xe15067=await this[_0x396932(0xf5)](_0x1d95c7),_0x2ac90e=utils_1['CryptoUtils'][_0x396932(0xeb)](_0x4f1d0c,_0xe15067);return(0x0,stream_1[_0x396932(0xe5)])(_0x1d95c7,_0x2ac90e,this[_0x396932(0xe0)][_0x396932(0xda)](this,_0x126bbf));}async[a75_0x26c572(0xe0)](_0x329ac0,_0x4cbd53){const _0x12edc0=a75_0x26c572;_0x4cbd53&&await this[_0x12edc0(0xfd)](_0x329ac0,_0x4cbd53);}async[a75_0x26c572(0xfd)](_0x5c2c65,_0x1a4fd4){const _0x182b07=a75_0x26c572;_0x5c2c65&&await utils_1[_0x182b07(0xfc)][_0x182b07(0xff)](_0x5c2c65)&&await(0x0,promises_1['rm'])(_0x5c2c65)[_0x182b07(0x100)](_0x49e1a2=>job_detail_1['systemLogger']['error'](_0x49e1a2)),this[_0x182b07(0xdd)](_0x1a4fd4);}async[a75_0x26c572(0xf5)](_0x148bbe){return new Promise((_0x2e5d84,_0x487ed8)=>{const _0x12cc46=a75_0x33bb;_0x148bbe[_0x12cc46(0xef)](_0x12cc46(0xd3),_0x487ed8),_0x148bbe[_0x12cc46(0xef)](_0x12cc46(0xc8),()=>{const _0x59d9ef=_0x148bbe['read'](0x10);_0x2e5d84(_0x59d9ef);});});}['castCsvValue'](_0xcbf807,{header:_0x58e794,column:_0x21a1fa}){const _0x330c02=a75_0x26c572;!this[_0x330c02(0x10c)]&&(this['_fieldsTypes']=this[_0x330c02(0xf2)]['fields'][_0x330c02(0xf4)]((_0x5a0f12,{name:_0x474dde,type:_0x5117f0})=>_0x5a0f12[_0x330c02(0xe1)](_0x474dde,_0x5117f0),new Map()));if(_0x58e794)return _0xcbf807;if(!_0xcbf807)return null;switch(this[_0x330c02(0x10c)][_0x330c02(0xe6)](_0x21a1fa)){case _0x330c02(0xd6):return _0xcbf807[_0x330c02(0xc9)](/\.\d{3}Z$/,_0x330c02(0xf9));case _0x330c02(0xd1):return _0xcbf807===_0x330c02(0xca);case'currency':case _0x330c02(0xf1):case'int':case _0x330c02(0x10d):return+_0xcbf807;default:return _0xcbf807;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;