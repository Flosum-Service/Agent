const a75_0x5d0645=a75_0x2432;(function(_0x253c35,_0x103544){const _0x3a974b=a75_0x2432,_0x3f29a0=_0x253c35();while(!![]){try{const _0x2fd5f0=-parseInt(_0x3a974b(0xe1))/0x1*(-parseInt(_0x3a974b(0x112))/0x2)+-parseInt(_0x3a974b(0xef))/0x3*(-parseInt(_0x3a974b(0x129))/0x4)+-parseInt(_0x3a974b(0x103))/0x5+-parseInt(_0x3a974b(0x124))/0x6+parseInt(_0x3a974b(0x107))/0x7*(parseInt(_0x3a974b(0x123))/0x8)+-parseInt(_0x3a974b(0x10d))/0x9+parseInt(_0x3a974b(0x11c))/0xa*(parseInt(_0x3a974b(0xe4))/0xb);if(_0x2fd5f0===_0x103544)break;else _0x3f29a0['push'](_0x3f29a0['shift']());}catch(_0x283ba6){_0x3f29a0['push'](_0x3f29a0['shift']());}}}(a75_0x4952,0x86cfa));const a75_0x4dd865=(function(){let _0x51b2ba=!![];return function(_0x1c9e26,_0x51a296){const _0x1a6ee0=_0x51b2ba?function(){const _0x10c38a=a75_0x2432;if(_0x51a296){const _0x740727=_0x51a296[_0x10c38a(0xe8)](_0x1c9e26,arguments);return _0x51a296=null,_0x740727;}}:function(){};return _0x51b2ba=![],_0x1a6ee0;};}()),a75_0x43fe34=a75_0x4dd865(this,function(){const _0x3127c0=a75_0x2432;return a75_0x43fe34[_0x3127c0(0x10b)]()[_0x3127c0(0x110)](_0x3127c0(0xf8))['toString']()['constructor'](a75_0x43fe34)[_0x3127c0(0x110)](_0x3127c0(0xf8));});a75_0x43fe34();'use strict';var __importDefault=this&&this[a75_0x5d0645(0xe6)]||function(_0x1bf6bb){const _0x527d4d=a75_0x5d0645;return _0x1bf6bb&&_0x1bf6bb[_0x527d4d(0x11d)]?_0x1bf6bb:{'default':_0x1bf6bb};};function a75_0x4952(){const _0x3c0edf=['5145741ZgRHJY','fs/promises','createUnzip','search','get','12334xVjLoF','@flosum/utils','end','CryptoUtils','zlib','parse','createReader','pipeline','bind','request','40uzpzhY','__esModule','path','../job-detail','error','readEncryptionVector','BulkV1QueryContentType','8zrGnYz','6220374WIGplX','writeEncryptedTempFile','resume','randomUUID','push','384ZAHaOA','stream/promises','describe','csv-parse','set','percent','.000+0000','readEncryptedTempFile','execute','128kfwJip','POLL_INTERVAL','handleError','1473131OZKDJb','pipelineCallback','__importDefault','currency','apply','SALESFORCE_API_VERSION','castCsvValue','once','defineProperty','createDecryptPipe','int','1833uhnZZz','isExistsPath','then','baseRetrievePayload','@flosum/salesforce/dist/typings/enums/bulk1.enums','jobStorePath','isPaused','crypto','default','(((.+)+)+)+$','createEncryptPipe','read','FsUtils','retrieve','BaseBulkRetrieve','queryBuilder','catch','TEXT_CSV','fields','double','891760MPQXbW','csvParser','stream','_fieldsTypes','6687100vXdiwK','./base-retrieve','pull','getIsDone','toString','join'];a75_0x4952=function(){return _0x3c0edf;};return a75_0x4952();}function a75_0x2432(_0x402561,_0x34af25){const _0x241494=a75_0x4952();return a75_0x2432=function(_0x43fe34,_0x4dd865){_0x43fe34=_0x43fe34-0xe1;let _0x495218=_0x241494[_0x43fe34];return _0x495218;},a75_0x2432(_0x402561,_0x34af25);}Object[a75_0x5d0645(0xec)](exports,a75_0x5d0645(0x11d),{'value':!![]}),exports[a75_0x5d0645(0xfd)]=void 0x0;const base_retrieve_1=require(a75_0x5d0645(0x108)),stream_1=require(a75_0x5d0645(0x105)),path_1=__importDefault(require(a75_0x5d0645(0x11e))),utils_1=require(a75_0x5d0645(0x113)),promises_1=require(a75_0x5d0645(0x10e)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x5d0645(0x12a)),crypto_1=require(a75_0x5d0645(0xf6)),csv_parse_1=require(a75_0x5d0645(0x12c)),zlib_1=__importDefault(require(a75_0x5d0645(0x116))),job_detail_1=require(a75_0x5d0645(0x11f)),constants_1=require('../../constants'),bulk1_enums_1=require(a75_0x5d0645(0xf3));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get[a75_0x5d0645(0xf2)](){const _0x152261=a75_0x5d0645;return{'queryBuilder':this[_0x152261(0xfe)],'instance':this[_0x152261(0x11b)],'api':constants_1[_0x152261(0xe9)],'contentType':bulk1_enums_1[_0x152261(0x122)][_0x152261(0x100)]};}async['pull'](){const _0x58628a=a75_0x5d0645;var _0x1930bb,_0x5f0644;if(this['retrieve'][_0x58628a(0x10a)]()&&!((_0x1930bb=this[_0x58628a(0x104)])===null||_0x1930bb===void 0x0?void 0x0:_0x1930bb[_0x58628a(0xf5)]())){this[_0x58628a(0x128)](null);return;}if((_0x5f0644=this[_0x58628a(0x104)])===null||_0x5f0644===void 0x0?void 0x0:_0x5f0644[_0x58628a(0xf5)]()){this[_0x58628a(0x104)][_0x58628a(0x126)]();return;}const _0x4edfdd=await this[_0x58628a(0xfc)][_0x58628a(0x131)]();if(!_0x4edfdd)return this[_0x58628a(0x109)]();await this[_0x58628a(0x118)](_0x4edfdd);}async[a75_0x5d0645(0x118)](_0x28816a){const _0xb86b4d=a75_0x5d0645,_0x4a8a8b=path_1[_0xb86b4d(0xf7)][_0xb86b4d(0x10c)](job_detail_1[_0xb86b4d(0xf4)],(0x0,crypto_1[_0xb86b4d(0x127)])()),_0x984483=(0x0,crypto_1[_0xb86b4d(0x127)])(),_0x527fd7=await this[_0xb86b4d(0x125)](_0x28816a,_0x4a8a8b,_0x984483)[_0xb86b4d(0xf1)](()=>this['readEncryptedTempFile'](_0x4a8a8b,_0x984483)),_0x2d8496={'columns':!![],'cast':this[_0xb86b4d(0xea)][_0xb86b4d(0x11a)](this)};this[_0xb86b4d(0x104)]=(0x0,stream_1[_0xb86b4d(0x119)])(_0x527fd7,zlib_1[_0xb86b4d(0xf7)][_0xb86b4d(0x10f)](),(0x0,csv_parse_1[_0xb86b4d(0x117)])(_0x2d8496),this[_0xb86b4d(0xe5)]['bind'](this,_0x4a8a8b)),this['csvParser']['on']('data',_0x375354=>{const _0x43a352=_0xb86b4d;this[_0x43a352(0x104)]['pause'](),this[_0x43a352(0x128)](_0x375354);}),this[_0xb86b4d(0x104)]['on'](_0xb86b4d(0x114),async()=>{const _0x28dc5d=_0xb86b4d;return await utils_1['FsUtils'][_0x28dc5d(0xf0)](_0x4a8a8b)&&await(0x0,promises_1['rm'])(_0x4a8a8b)[_0x28dc5d(0xff)](this[_0x28dc5d(0xe3)]['bind'](this,null)),this['_read']();}),this['csvParser']['on'](_0xb86b4d(0x120),this[_0xb86b4d(0xe5)]['bind'](this,_0x4a8a8b));}async[a75_0x5d0645(0x125)](_0x2de0f0,_0x408d1a,_0x43a717){const _0x172c72=a75_0x5d0645,_0x37d208=fs_1[_0x172c72(0xf7)]['createWriteStream'](_0x408d1a);await(0x0,promises_2[_0x172c72(0x119)])(_0x2de0f0,utils_1[_0x172c72(0x115)][_0x172c72(0xf9)](_0x43a717),_0x37d208);}async[a75_0x5d0645(0x130)](_0x346c99,_0x3f5f24){const _0x5b2247=a75_0x5d0645,_0x208655=fs_1[_0x5b2247(0xf7)]['createReadStream'](_0x346c99),_0x4bed2b=await this[_0x5b2247(0x121)](_0x208655),_0x4bebc0=utils_1[_0x5b2247(0x115)][_0x5b2247(0xed)](_0x3f5f24,_0x4bed2b);return(0x0,stream_1[_0x5b2247(0x119)])(_0x208655,_0x4bebc0,this[_0x5b2247(0xe5)][_0x5b2247(0x11a)](this,_0x346c99));}async['pipelineCallback'](_0x42c24c,_0x32fca8){_0x32fca8&&await this['handleError'](_0x42c24c,_0x32fca8);}async['handleError'](_0x5674a1,_0x783cc8){const _0x2292b4=a75_0x5d0645;_0x5674a1&&await utils_1[_0x2292b4(0xfb)][_0x2292b4(0xf0)](_0x5674a1)&&await(0x0,promises_1['rm'])(_0x5674a1)['catch'](_0x299cc6=>job_detail_1['systemLogger'][_0x2292b4(0x120)](_0x299cc6)),this['destroy'](_0x783cc8);}async[a75_0x5d0645(0x121)](_0x5126ae){return new Promise((_0x2acc40,_0x4399af)=>{const _0x1069b3=a75_0x2432;_0x5126ae[_0x1069b3(0xeb)](_0x1069b3(0x120),_0x4399af),_0x5126ae['once']('readable',()=>{const _0x27ba0e=_0x1069b3,_0x2d3b47=_0x5126ae[_0x27ba0e(0xfa)](0x10);_0x2acc40(_0x2d3b47);});});}[a75_0x5d0645(0xea)](_0x18ca37,{header:_0x40bf9e,column:_0x2dbe02}){const _0x235447=a75_0x5d0645;!this[_0x235447(0x106)]&&(this[_0x235447(0x106)]=this[_0x235447(0x12b)][_0x235447(0x101)]['reduce']((_0x17c5e2,{name:_0x27772b,type:_0x2c9421})=>_0x17c5e2[_0x235447(0x12d)](_0x27772b,_0x2c9421),new Map()));if(_0x40bf9e)return _0x18ca37;if(!_0x18ca37)return null;switch(this[_0x235447(0x106)][_0x235447(0x111)](_0x2dbe02)){case'datetime':return _0x18ca37['replace'](/\.\d{3}Z$/,_0x235447(0x12f));case'boolean':return _0x18ca37==='true';case _0x235447(0xe7):case _0x235447(0x102):case _0x235447(0xee):case _0x235447(0x12e):return+_0x18ca37;default:return _0x18ca37;}}}exports[a75_0x5d0645(0xfd)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x5d0645(0xe2)]=0x1388;