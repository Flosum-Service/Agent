const a75_0x4706b0=a75_0x3a00;(function(_0x520344,_0x36a702){const _0x2d114a=a75_0x3a00,_0x2fa9cb=_0x520344();while(!![]){try{const _0x377dcc=parseInt(_0x2d114a(0x177))/0x1+-parseInt(_0x2d114a(0x173))/0x2*(-parseInt(_0x2d114a(0x162))/0x3)+parseInt(_0x2d114a(0x153))/0x4+-parseInt(_0x2d114a(0x13e))/0x5+-parseInt(_0x2d114a(0x160))/0x6*(parseInt(_0x2d114a(0x164))/0x7)+parseInt(_0x2d114a(0x168))/0x8+-parseInt(_0x2d114a(0x148))/0x9;if(_0x377dcc===_0x36a702)break;else _0x2fa9cb['push'](_0x2fa9cb['shift']());}catch(_0x40daab){_0x2fa9cb['push'](_0x2fa9cb['shift']());}}}(a75_0x35fe,0xadcdc));const a75_0x4b2deb=(function(){let _0x203374=!![];return function(_0x4308e9,_0x545951){const _0x5bb14a=_0x203374?function(){if(_0x545951){const _0x44d189=_0x545951['apply'](_0x4308e9,arguments);return _0x545951=null,_0x44d189;}}:function(){};return _0x203374=![],_0x5bb14a;};}()),a75_0x13cdad=a75_0x4b2deb(this,function(){const _0x168829=a75_0x3a00;return a75_0x13cdad[_0x168829(0x169)]()['search']('(((.+)+)+)+$')[_0x168829(0x169)]()['constructor'](a75_0x13cdad)[_0x168829(0x141)](_0x168829(0x181));});function a75_0x35fe(){const _0x1e1cef=['pipelineCallback','fs/promises','isPaused','_fieldsTypes','../job-detail','readEncryptionVector','FsUtils','retrieve','pause','81192YmTmxN','destroy','_read','once','csvParser','.000+0000','end','POLL_INTERVAL','castCsvValue','true','createEncryptPipe','systemLogger','readEncryptedTempFile','101664VyAgJa','set','1658751wSzaXj','crypto','504IwijNz','defineProperty','queryBuilder','baseRetrievePayload','3484536WgdzUe','toString','__esModule','bind','createReader','double','SALESFORCE_API_VERSION','__importDefault','push','@flosum/utils','isExistsPath','4JDsLOv','path','@flosum/salesforce','pipeline','1081383zUlXvt','datetime','CryptoUtils','join','currency','BulkV1QueryContentType','error','./base-retrieve','default','fields','(((.+)+)+)+$','randomUUID','TEXT_CSV','parse','../../constants','catch','execute','createDecryptPipe','582695oDvXKy','writeEncryptedTempFile','stream','search','handleError','pull','resume','describe','int','stream/promises','5352075pQdGEo','request'];a75_0x35fe=function(){return _0x1e1cef;};return a75_0x35fe();}a75_0x13cdad();'use strict';var __importDefault=this&&this[a75_0x4706b0(0x16f)]||function(_0x58f22d){const _0x248485=a75_0x4706b0;return _0x58f22d&&_0x58f22d[_0x248485(0x16a)]?_0x58f22d:{'default':_0x58f22d};};Object[a75_0x4706b0(0x165)](exports,'__esModule',{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;const base_retrieve_1=require(a75_0x4706b0(0x17e)),stream_1=require(a75_0x4706b0(0x140)),path_1=__importDefault(require(a75_0x4706b0(0x174))),utils_1=require(a75_0x4706b0(0x171)),promises_1=require(a75_0x4706b0(0x14b)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x4706b0(0x147)),crypto_1=require(a75_0x4706b0(0x163)),csv_parse_1=require('csv-parse'),salesforce_1=require(a75_0x4706b0(0x175)),job_detail_1=require(a75_0x4706b0(0x14e)),constants_1=require(a75_0x4706b0(0x185));function a75_0x3a00(_0x2b6587,_0x256082){const _0x581b95=a75_0x35fe();return a75_0x3a00=function(_0x13cdad,_0x4b2deb){_0x13cdad=_0x13cdad-0x13c;let _0x35fe22=_0x581b95[_0x13cdad];return _0x35fe22;},a75_0x3a00(_0x2b6587,_0x256082);}class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get[a75_0x4706b0(0x167)](){const _0x57139a=a75_0x4706b0;return{'queryBuilder':this[_0x57139a(0x166)],'instance':this[_0x57139a(0x149)],'api':constants_1[_0x57139a(0x16e)],'contentType':salesforce_1[_0x57139a(0x17c)][_0x57139a(0x183)]};}async[a75_0x4706b0(0x143)](){const _0x4ca37c=a75_0x4706b0;var _0x169830,_0x2ca3e5;if(this[_0x4ca37c(0x151)]['getIsDone']()&&!((_0x169830=this[_0x4ca37c(0x157)])===null||_0x169830===void 0x0?void 0x0:_0x169830[_0x4ca37c(0x14c)]())){this[_0x4ca37c(0x170)](null);return;}if((_0x2ca3e5=this[_0x4ca37c(0x157)])===null||_0x2ca3e5===void 0x0?void 0x0:_0x2ca3e5['isPaused']()){this[_0x4ca37c(0x157)][_0x4ca37c(0x144)]();return;}const _0x2bac86=await this['retrieve'][_0x4ca37c(0x13c)]();if(!_0x2bac86)return this[_0x4ca37c(0x143)]();await this[_0x4ca37c(0x16c)](_0x2bac86);}async['createReader'](_0x4f017b){const _0x458933=a75_0x4706b0,_0x13a9cd=path_1['default'][_0x458933(0x17a)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x458933(0x182)])()),_0x9baee9=(0x0,crypto_1[_0x458933(0x182)])(),_0x9d5ad3=await this[_0x458933(0x13f)](_0x4f017b,_0x13a9cd,_0x9baee9)['then'](()=>this[_0x458933(0x15f)](_0x13a9cd,_0x9baee9)),_0x5d58fa={'columns':!![],'cast':this['castCsvValue'][_0x458933(0x16b)](this)};this['csvParser']=(0x0,stream_1['pipeline'])(_0x9d5ad3,(0x0,csv_parse_1[_0x458933(0x184)])(_0x5d58fa),this[_0x458933(0x14a)][_0x458933(0x16b)](this,_0x13a9cd)),this[_0x458933(0x157)]['on']('data',_0x49b70a=>{const _0x4450a0=_0x458933;this[_0x4450a0(0x157)][_0x4450a0(0x152)](),this[_0x4450a0(0x170)](_0x49b70a);}),this[_0x458933(0x157)]['on'](_0x458933(0x159),async()=>{const _0x494378=_0x458933;return await utils_1[_0x494378(0x150)][_0x494378(0x172)](_0x13a9cd)&&await(0x0,promises_1['rm'])(_0x13a9cd)[_0x494378(0x186)](this['handleError']['bind'](this,null)),this[_0x494378(0x155)]();}),this['csvParser']['on'](_0x458933(0x17d),this[_0x458933(0x14a)][_0x458933(0x16b)](this,_0x13a9cd));}async[a75_0x4706b0(0x13f)](_0x34edc8,_0x2685c1,_0x212b67){const _0x324ef1=a75_0x4706b0,_0x42ee0a=fs_1[_0x324ef1(0x17f)]['createWriteStream'](_0x2685c1);await(0x0,promises_2[_0x324ef1(0x176)])(_0x34edc8,utils_1['CryptoUtils'][_0x324ef1(0x15d)](_0x212b67),_0x42ee0a);}async['readEncryptedTempFile'](_0x3a73bb,_0x16c6c4){const _0x5bc3a5=a75_0x4706b0,_0x4b2f04=fs_1[_0x5bc3a5(0x17f)]['createReadStream'](_0x3a73bb),_0x1de0f1=await this[_0x5bc3a5(0x14f)](_0x4b2f04),_0x391f7a=utils_1[_0x5bc3a5(0x179)][_0x5bc3a5(0x13d)](_0x16c6c4,_0x1de0f1);return(0x0,stream_1[_0x5bc3a5(0x176)])(_0x4b2f04,_0x391f7a,this[_0x5bc3a5(0x14a)][_0x5bc3a5(0x16b)](this,_0x3a73bb));}async[a75_0x4706b0(0x14a)](_0x1e6a56,_0x3ca26b){const _0x31011a=a75_0x4706b0;_0x3ca26b&&await this[_0x31011a(0x142)](_0x1e6a56,_0x3ca26b);}async[a75_0x4706b0(0x142)](_0x5928fe,_0x43a2ce){const _0x40a10f=a75_0x4706b0;_0x5928fe&&await utils_1[_0x40a10f(0x150)][_0x40a10f(0x172)](_0x5928fe)&&await(0x0,promises_1['rm'])(_0x5928fe)[_0x40a10f(0x186)](_0x234fa5=>job_detail_1[_0x40a10f(0x15e)][_0x40a10f(0x17d)](_0x234fa5)),this[_0x40a10f(0x154)](_0x43a2ce);}async[a75_0x4706b0(0x14f)](_0x373e50){return new Promise((_0x30c66d,_0x283171)=>{const _0x118821=a75_0x3a00;_0x373e50[_0x118821(0x156)]('error',_0x283171),_0x373e50[_0x118821(0x156)]('readable',()=>{const _0x443dbd=_0x373e50['read'](0x10);_0x30c66d(_0x443dbd);});});}[a75_0x4706b0(0x15b)](_0x4baab9,{header:_0x1146ea,column:_0x1669dd}){const _0x504cbb=a75_0x4706b0;!this[_0x504cbb(0x14d)]&&(this[_0x504cbb(0x14d)]=this[_0x504cbb(0x145)][_0x504cbb(0x180)]['reduce']((_0x755f5e,{name:_0x2f9953,type:_0x2bd34a})=>_0x755f5e[_0x504cbb(0x161)](_0x2f9953,_0x2bd34a),new Map()));if(_0x1146ea)return _0x4baab9;if(!_0x4baab9)return null;switch(this[_0x504cbb(0x14d)]['get'](_0x1669dd)){case _0x504cbb(0x178):return _0x4baab9['replace'](/\.\d{3}Z$/,_0x504cbb(0x158));case'boolean':return _0x4baab9===_0x504cbb(0x15c);case _0x504cbb(0x17b):case _0x504cbb(0x16d):case _0x504cbb(0x146):case'percent':return+_0x4baab9;default:return _0x4baab9;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x4706b0(0x15a)]=0x1388;