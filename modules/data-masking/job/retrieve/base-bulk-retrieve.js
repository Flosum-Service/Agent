const a75_0x3f9e5c=a75_0x313f;(function(_0x10fa1b,_0x5232ee){const _0xdfb23a=a75_0x313f,_0x5d4b4e=_0x10fa1b();while(!![]){try{const _0x3334f0=parseInt(_0xdfb23a(0x12d))/0x1+-parseInt(_0xdfb23a(0x123))/0x2*(-parseInt(_0xdfb23a(0x12a))/0x3)+-parseInt(_0xdfb23a(0x146))/0x4*(parseInt(_0xdfb23a(0x13a))/0x5)+-parseInt(_0xdfb23a(0x107))/0x6+parseInt(_0xdfb23a(0x12e))/0x7*(parseInt(_0xdfb23a(0x113))/0x8)+-parseInt(_0xdfb23a(0x105))/0x9*(parseInt(_0xdfb23a(0x140))/0xa)+parseInt(_0xdfb23a(0x143))/0xb;if(_0x3334f0===_0x5232ee)break;else _0x5d4b4e['push'](_0x5d4b4e['shift']());}catch(_0x4eac03){_0x5d4b4e['push'](_0x5d4b4e['shift']());}}}(a75_0x2e88,0x95e92));function a75_0x313f(_0x5563a4,_0x168d04){const _0x1d81bb=a75_0x2e88();return a75_0x313f=function(_0x83ff5a,_0x4db58d){_0x83ff5a=_0x83ff5a-0x104;let _0x2e88b2=_0x1d81bb[_0x83ff5a];return _0x2e88b2;},a75_0x313f(_0x5563a4,_0x168d04);}const a75_0x4db58d=(function(){let _0x2a5770=!![];return function(_0x2df753,_0x180cf8){const _0x3ef408=_0x2a5770?function(){if(_0x180cf8){const _0x4d47aa=_0x180cf8['apply'](_0x2df753,arguments);return _0x180cf8=null,_0x4d47aa;}}:function(){};return _0x2a5770=![],_0x3ef408;};}()),a75_0x83ff5a=a75_0x4db58d(this,function(){const _0x1f8cc4=a75_0x313f;return a75_0x83ff5a[_0x1f8cc4(0x13f)]()[_0x1f8cc4(0x145)](_0x1f8cc4(0x10c))['toString']()[_0x1f8cc4(0x106)](a75_0x83ff5a)[_0x1f8cc4(0x145)]('(((.+)+)+)+$');});a75_0x83ff5a();'use strict';var __importDefault=this&&this[a75_0x3f9e5c(0x11c)]||function(_0x12688e){const _0x5ebe97=a75_0x3f9e5c;return _0x12688e&&_0x12688e[_0x5ebe97(0x13e)]?_0x12688e:{'default':_0x12688e};};Object[a75_0x3f9e5c(0x110)](exports,a75_0x3f9e5c(0x13e),{'value':!![]}),exports[a75_0x3f9e5c(0x13d)]=void 0x0;const base_retrieve_1=require(a75_0x3f9e5c(0x11d)),stream_1=require('stream'),path_1=__importDefault(require(a75_0x3f9e5c(0x116))),utils_1=require(a75_0x3f9e5c(0x10b)),promises_1=require('fs/promises'),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x3f9e5c(0x119)),crypto_1=require(a75_0x3f9e5c(0x108)),csv_parse_1=require('csv-parse'),salesforce_1=require(a75_0x3f9e5c(0x121)),job_detail_1=require(a75_0x3f9e5c(0x124)),constants_1=require(a75_0x3f9e5c(0x12c));class BaseBulkRetrieve extends base_retrieve_1[a75_0x3f9e5c(0x120)]{get[a75_0x3f9e5c(0x130)](){const _0x3e2aaa=a75_0x3f9e5c;return{'queryBuilder':this[_0x3e2aaa(0x11f)],'instance':this[_0x3e2aaa(0x10d)],'api':constants_1['SALESFORCE_API_VERSION'],'contentType':salesforce_1[_0x3e2aaa(0x128)][_0x3e2aaa(0x138)]};}async[a75_0x3f9e5c(0x14d)](){const _0x3bba4f=a75_0x3f9e5c;var _0x3c6cb8,_0x3ce6f6;if(this['retrieve'][_0x3bba4f(0x112)]()&&!((_0x3c6cb8=this[_0x3bba4f(0x126)])===null||_0x3c6cb8===void 0x0?void 0x0:_0x3c6cb8[_0x3bba4f(0x125)]())){this[_0x3bba4f(0x14b)](null);return;}if((_0x3ce6f6=this['csvParser'])===null||_0x3ce6f6===void 0x0?void 0x0:_0x3ce6f6['isPaused']()){this['csvParser']['resume']();return;}const _0x2b63d8=await this[_0x3bba4f(0x104)][_0x3bba4f(0x111)]();if(!_0x2b63d8)return this[_0x3bba4f(0x14d)]();await this[_0x3bba4f(0x114)](_0x2b63d8);}async[a75_0x3f9e5c(0x114)](_0x4bbe10){const _0xa1c9fc=a75_0x3f9e5c,_0x21708c=path_1[_0xa1c9fc(0x132)][_0xa1c9fc(0x14e)](job_detail_1[_0xa1c9fc(0x13b)],(0x0,crypto_1[_0xa1c9fc(0x136)])()),_0x5c1b05=(0x0,crypto_1[_0xa1c9fc(0x136)])(),_0x3e4521=await this['writeEncryptedTempFile'](_0x4bbe10,_0x21708c,_0x5c1b05)[_0xa1c9fc(0x109)](()=>this[_0xa1c9fc(0x135)](_0x21708c,_0x5c1b05)),_0x5b17c5={'columns':!![],'cast':this[_0xa1c9fc(0x117)][_0xa1c9fc(0x131)](this)};this[_0xa1c9fc(0x126)]=(0x0,stream_1[_0xa1c9fc(0x148)])(_0x3e4521,(0x0,csv_parse_1[_0xa1c9fc(0x127)])(_0x5b17c5),this['pipelineCallback']['bind'](this,_0x21708c)),this['csvParser']['on'](_0xa1c9fc(0x150),_0x4c859a=>{const _0x253de4=_0xa1c9fc;this['csvParser'][_0x253de4(0x12b)](),this['push'](_0x4c859a);}),this['csvParser']['on'](_0xa1c9fc(0x118),async()=>{const _0x180583=_0xa1c9fc;return await utils_1['FsUtils']['isExistsPath'](_0x21708c)&&await(0x0,promises_1['rm'])(_0x21708c)[_0x180583(0x152)](this[_0x180583(0x151)][_0x180583(0x131)](this,null)),this[_0x180583(0x153)]();}),this[_0xa1c9fc(0x126)]['on'](_0xa1c9fc(0x141),this[_0xa1c9fc(0x10a)][_0xa1c9fc(0x131)](this,_0x21708c));}async[a75_0x3f9e5c(0x147)](_0x167657,_0xeb39ee,_0x1ebac8){const _0x3eb7dd=a75_0x3f9e5c,_0x4ea793=fs_1[_0x3eb7dd(0x132)][_0x3eb7dd(0x12f)](_0xeb39ee);await(0x0,promises_2[_0x3eb7dd(0x148)])(_0x167657,utils_1[_0x3eb7dd(0x14c)][_0x3eb7dd(0x13c)](_0x1ebac8),_0x4ea793);}async[a75_0x3f9e5c(0x135)](_0x47e14,_0x2bb8af){const _0x272506=a75_0x3f9e5c,_0x469f83=fs_1['default'][_0x272506(0x149)](_0x47e14),_0x1d0bca=await this[_0x272506(0x10e)](_0x469f83),_0x5a6a8a=utils_1[_0x272506(0x14c)][_0x272506(0x10f)](_0x2bb8af,_0x1d0bca);return(0x0,stream_1[_0x272506(0x148)])(_0x469f83,_0x5a6a8a,this[_0x272506(0x10a)][_0x272506(0x131)](this,_0x47e14));}async[a75_0x3f9e5c(0x10a)](_0x1c4276,_0xc1e7f9){_0xc1e7f9&&await this['handleError'](_0x1c4276,_0xc1e7f9);}async[a75_0x3f9e5c(0x151)](_0x5526d5,_0xf424a5){const _0x389fa6=a75_0x3f9e5c;_0x5526d5&&await utils_1['FsUtils']['isExistsPath'](_0x5526d5)&&await(0x0,promises_1['rm'])(_0x5526d5)[_0x389fa6(0x152)](_0x23c82f=>job_detail_1['systemLogger'][_0x389fa6(0x141)](_0x23c82f)),this['destroy'](_0xf424a5);}async[a75_0x3f9e5c(0x10e)](_0x1f6f01){return new Promise((_0x5eefab,_0x1151a9)=>{const _0x4dd932=a75_0x313f;_0x1f6f01[_0x4dd932(0x115)](_0x4dd932(0x141),_0x1151a9),_0x1f6f01[_0x4dd932(0x115)](_0x4dd932(0x142),()=>{const _0x2113da=_0x4dd932,_0x3fcd03=_0x1f6f01[_0x2113da(0x11a)](0x10);_0x5eefab(_0x3fcd03);});});}[a75_0x3f9e5c(0x117)](_0x442d56,{header:_0x21c696,column:_0x4051fe}){const _0x1ac6a6=a75_0x3f9e5c;!this[_0x1ac6a6(0x122)]&&(this['_fieldsTypes']=this['describe']['fields'][_0x1ac6a6(0x129)]((_0x34f11b,{name:_0x335637,type:_0x3ac3cf})=>_0x34f11b['set'](_0x335637,_0x3ac3cf),new Map()));if(_0x21c696)return _0x442d56;if(!_0x442d56)return null;switch(this[_0x1ac6a6(0x122)][_0x1ac6a6(0x144)](_0x4051fe)){case _0x1ac6a6(0x139):return _0x442d56['replace'](/\.\d{3}Z$/,_0x1ac6a6(0x133));case _0x1ac6a6(0x137):return _0x442d56===_0x1ac6a6(0x11b);case _0x1ac6a6(0x11e):case _0x1ac6a6(0x14a):case _0x1ac6a6(0x14f):case'percent':return+_0x442d56;default:return _0x442d56;}}}function a75_0x2e88(){const _0x2bfb0a=['toString','787630KGcSyO','error','readable','4464691wXDJMz','get','search','4wQmyge','writeEncryptedTempFile','pipeline','createReadStream','double','push','CryptoUtils','pull','join','int','data','handleError','catch','_read','retrieve','99jOlNVi','constructor','4038972hhWoMa','crypto','then','pipelineCallback','@flosum/utils','(((.+)+)+)+$','request','readEncryptionVector','createDecryptPipe','defineProperty','execute','getIsDone','584FQOeeC','createReader','once','path','castCsvValue','end','stream/promises','read','true','__importDefault','./base-retrieve','currency','queryBuilder','BaseRetrieve','@flosum/salesforce','_fieldsTypes','95776WNeXvL','../job-detail','isPaused','csvParser','parse','BulkV1QueryContentType','reduce','45QfpeGJ','pause','../../constants','312040URpMfR','97769EQnLYU','createWriteStream','baseRetrievePayload','bind','default','.000+0000','POLL_INTERVAL','readEncryptedTempFile','randomUUID','boolean','TEXT_CSV','datetime','1511215lJyeWp','jobStorePath','createEncryptPipe','BaseBulkRetrieve','__esModule'];a75_0x2e88=function(){return _0x2bfb0a;};return a75_0x2e88();}exports[a75_0x3f9e5c(0x13d)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x3f9e5c(0x134)]=0x1388;