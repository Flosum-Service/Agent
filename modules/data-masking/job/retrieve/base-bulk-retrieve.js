function a75_0x1d5b(_0xbb62da,_0x42ad75){const _0x3319a4=a75_0x5dee();return a75_0x1d5b=function(_0x4ac626,_0x183f42){_0x4ac626=_0x4ac626-0x78;let _0x5dee9e=_0x3319a4[_0x4ac626];return _0x5dee9e;},a75_0x1d5b(_0xbb62da,_0x42ad75);}const a75_0x249d8b=a75_0x1d5b;(function(_0x11c822,_0x2dc30f){const _0xb48bed=a75_0x1d5b,_0x221e20=_0x11c822();while(!![]){try{const _0x3da948=parseInt(_0xb48bed(0x91))/0x1*(-parseInt(_0xb48bed(0x9a))/0x2)+parseInt(_0xb48bed(0xbe))/0x3+parseInt(_0xb48bed(0x7c))/0x4+-parseInt(_0xb48bed(0xc3))/0x5*(parseInt(_0xb48bed(0x92))/0x6)+-parseInt(_0xb48bed(0x8d))/0x7*(parseInt(_0xb48bed(0xa1))/0x8)+-parseInt(_0xb48bed(0x99))/0x9+-parseInt(_0xb48bed(0xb8))/0xa*(-parseInt(_0xb48bed(0xbd))/0xb);if(_0x3da948===_0x2dc30f)break;else _0x221e20['push'](_0x221e20['shift']());}catch(_0xfaef5f){_0x221e20['push'](_0x221e20['shift']());}}}(a75_0x5dee,0xd8587));const a75_0x183f42=(function(){let _0x4faf30=!![];return function(_0x521ce9,_0x1aa3d8){const _0x4d2cfd=_0x4faf30?function(){const _0x16fa11=a75_0x1d5b;if(_0x1aa3d8){const _0x4c1b34=_0x1aa3d8[_0x16fa11(0xc2)](_0x521ce9,arguments);return _0x1aa3d8=null,_0x4c1b34;}}:function(){};return _0x4faf30=![],_0x4d2cfd;};}()),a75_0x4ac626=a75_0x183f42(this,function(){const _0xd0760c=a75_0x1d5b;return a75_0x4ac626['toString']()[_0xd0760c(0x7e)]('(((.+)+)+)+$')[_0xd0760c(0x84)]()[_0xd0760c(0x8f)](a75_0x4ac626)['search'](_0xd0760c(0xbb));});a75_0x4ac626();function a75_0x5dee(){const _0x190095=['772173QaEDRN','_fieldsTypes','handleError','getIsDone','apply','50SfzJPh','reduce','catch','castCsvValue','describe','csv-parse','join','162776HdbVNs','createWriteStream','search','true','stream/promises','pipelineCallback','fs/promises','__esModule','toString','currency','CryptoUtils','fields','end','BaseRetrieve','set','execute','readEncryptionVector','7GLZeic','default','constructor','zlib','1uyqcMF','764322ClGPPf','isExistsPath','writeEncryptedTempFile','FsUtils','retrieve','BaseBulkRetrieve','percent','14335290JJvuWN','2999438bplDAP','error','pipeline','csvParser','double','int','__importDefault','1092184QmlFvX','boolean','defineProperty','then','replace','../job-detail','crypto','isPaused','path','destroy','systemLogger','randomUUID','data','once','resume','bind','createUnzip','readEncryptedTempFile','get','datetime','createDecryptPipe','pause','createReadStream','25454940SBlFuk','read','pull','(((.+)+)+)+$','_read','22dKbwUD'];a75_0x5dee=function(){return _0x190095;};return a75_0x5dee();}'use strict';var __importDefault=this&&this[a75_0x249d8b(0xa0)]||function(_0x2e8457){const _0x34d908=a75_0x249d8b;return _0x2e8457&&_0x2e8457[_0x34d908(0x83)]?_0x2e8457:{'default':_0x2e8457};};Object[a75_0x249d8b(0xa3)](exports,a75_0x249d8b(0x83),{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require('stream'),path_1=__importDefault(require(a75_0x249d8b(0xa9))),utils_1=require('@flosum/utils'),promises_1=require(a75_0x249d8b(0x82)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x249d8b(0x80)),crypto_1=require(a75_0x249d8b(0xa7)),csv_parse_1=require(a75_0x249d8b(0x7a)),zlib_1=__importDefault(require(a75_0x249d8b(0x90))),job_detail_1=require(a75_0x249d8b(0xa6));class BaseBulkRetrieve extends base_retrieve_1[a75_0x249d8b(0x89)]{async['pull'](){const _0x509759=a75_0x249d8b;var _0x1206ba,_0x16f3d9;if(this['retrieve'][_0x509759(0xc1)]()&&!((_0x1206ba=this[_0x509759(0x9d)])===null||_0x1206ba===void 0x0?void 0x0:_0x1206ba[_0x509759(0xa8)]())){this['push'](null);return;}if((_0x16f3d9=this[_0x509759(0x9d)])===null||_0x16f3d9===void 0x0?void 0x0:_0x16f3d9[_0x509759(0xa8)]()){this['csvParser'][_0x509759(0xaf)]();return;}const _0x20459f=await this[_0x509759(0x96)][_0x509759(0x8b)]();if(!_0x20459f)return this[_0x509759(0xba)]();await this['createReader'](_0x20459f);}async['createReader'](_0x480a30){const _0x34d5f8=a75_0x249d8b,_0x425439=path_1[_0x34d5f8(0x8e)][_0x34d5f8(0x7b)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x34d5f8(0xac)])()),_0x1004f3=(0x0,crypto_1['randomUUID'])(),_0x2a0043=await this[_0x34d5f8(0x94)](_0x480a30,_0x425439,_0x1004f3)[_0x34d5f8(0xa4)](()=>this[_0x34d5f8(0xb2)](_0x425439,_0x1004f3)),_0x51ff5a={'columns':!![],'cast':this['castCsvValue']['bind'](this)};this[_0x34d5f8(0x9d)]=(0x0,stream_1['pipeline'])(_0x2a0043,zlib_1[_0x34d5f8(0x8e)][_0x34d5f8(0xb1)](),(0x0,csv_parse_1['parse'])(_0x51ff5a),this[_0x34d5f8(0x81)][_0x34d5f8(0xb0)](this,_0x425439)),this[_0x34d5f8(0x9d)]['on'](_0x34d5f8(0xad),_0xb87c9a=>{const _0x2690d1=_0x34d5f8;this[_0x2690d1(0x9d)][_0x2690d1(0xb6)](),this['push'](_0xb87c9a);}),this[_0x34d5f8(0x9d)]['on'](_0x34d5f8(0x88),async()=>{const _0x107942=_0x34d5f8;return await utils_1[_0x107942(0x95)]['isExistsPath'](_0x425439)&&await(0x0,promises_1['rm'])(_0x425439)[_0x107942(0xc5)](this[_0x107942(0xc0)]['bind'](this,null)),this[_0x107942(0xbc)]();}),this[_0x34d5f8(0x9d)]['on'](_0x34d5f8(0x9b),this[_0x34d5f8(0x81)][_0x34d5f8(0xb0)](this,_0x425439));}async[a75_0x249d8b(0x94)](_0x176920,_0x5ad4a9,_0xf1666d){const _0x13f30a=a75_0x249d8b,_0x43a954=fs_1[_0x13f30a(0x8e)][_0x13f30a(0x7d)](_0x5ad4a9);await(0x0,promises_2[_0x13f30a(0x9c)])(_0x176920,utils_1[_0x13f30a(0x86)]['createEncryptPipe'](_0xf1666d),_0x43a954);}async[a75_0x249d8b(0xb2)](_0x2d436c,_0x25395e){const _0x5a8f95=a75_0x249d8b,_0x4bcf9e=fs_1['default'][_0x5a8f95(0xb7)](_0x2d436c),_0x119124=await this['readEncryptionVector'](_0x4bcf9e),_0x58b897=utils_1[_0x5a8f95(0x86)][_0x5a8f95(0xb5)](_0x25395e,_0x119124);return(0x0,stream_1['pipeline'])(_0x4bcf9e,_0x58b897,this['pipelineCallback'][_0x5a8f95(0xb0)](this,_0x2d436c));}async['pipelineCallback'](_0x14b285,_0x294799){const _0x2e4e66=a75_0x249d8b;_0x294799&&await this[_0x2e4e66(0xc0)](_0x14b285,_0x294799);}async[a75_0x249d8b(0xc0)](_0x3791d5,_0x47665a){const _0x455447=a75_0x249d8b;_0x3791d5&&await utils_1['FsUtils'][_0x455447(0x93)](_0x3791d5)&&await(0x0,promises_1['rm'])(_0x3791d5)[_0x455447(0xc5)](_0x3c568e=>job_detail_1[_0x455447(0xab)][_0x455447(0x9b)](_0x3c568e)),this[_0x455447(0xaa)](_0x47665a);}async[a75_0x249d8b(0x8c)](_0x55dd84){return new Promise((_0x4e0de0,_0x1d8c2b)=>{const _0x498f1d=a75_0x1d5b;_0x55dd84[_0x498f1d(0xae)]('error',_0x1d8c2b),_0x55dd84['once']('readable',()=>{const _0x4317fa=_0x498f1d,_0x164f95=_0x55dd84[_0x4317fa(0xb9)](0x10);_0x4e0de0(_0x164f95);});});}[a75_0x249d8b(0x78)](_0x166688,{header:_0x1307af,column:_0x2eaca9}){const _0x4d4dd1=a75_0x249d8b;!this['_fieldsTypes']&&(this[_0x4d4dd1(0xbf)]=this[_0x4d4dd1(0x79)][_0x4d4dd1(0x87)][_0x4d4dd1(0xc4)]((_0x2fb2ad,{name:_0x393639,type:_0x5d32e6})=>_0x2fb2ad[_0x4d4dd1(0x8a)](_0x393639,_0x5d32e6),new Map()));if(_0x1307af)return _0x166688;if(!_0x166688)return null;switch(this[_0x4d4dd1(0xbf)][_0x4d4dd1(0xb3)](_0x2eaca9)){case _0x4d4dd1(0xb4):return _0x166688[_0x4d4dd1(0xa5)](/\.\d{3}Z$/,'.000+0000');case _0x4d4dd1(0xa2):return _0x166688===_0x4d4dd1(0x7f);case _0x4d4dd1(0x85):case _0x4d4dd1(0x9e):case _0x4d4dd1(0x9f):case _0x4d4dd1(0x98):return+_0x166688;default:return _0x166688;}}}exports[a75_0x249d8b(0x97)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;