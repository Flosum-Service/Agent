const a75_0x18e0cb=a75_0x5438;(function(_0x4bafee,_0x33c862){const _0x59458a=a75_0x5438,_0x57c15a=_0x4bafee();while(!![]){try{const _0x1d201e=parseInt(_0x59458a(0x10c))/0x1*(-parseInt(_0x59458a(0xef))/0x2)+parseInt(_0x59458a(0x114))/0x3*(-parseInt(_0x59458a(0xcf))/0x4)+parseInt(_0x59458a(0xd6))/0x5+parseInt(_0x59458a(0x104))/0x6+-parseInt(_0x59458a(0xe4))/0x7+-parseInt(_0x59458a(0xec))/0x8+parseInt(_0x59458a(0xe8))/0x9;if(_0x1d201e===_0x33c862)break;else _0x57c15a['push'](_0x57c15a['shift']());}catch(_0x590493){_0x57c15a['push'](_0x57c15a['shift']());}}}(a75_0xdcb2,0x87ab8));function a75_0xdcb2(){const _0x147a3e=['parse','createUnzip','../job-detail','csvParser','pull','CryptoUtils','end','isPaused','once','BaseRetrieve','push','zlib','stream/promises','2578416vQFuwb','resume','destroy','writeEncryptedTempFile','fields','createEncryptPipe','replace','readEncryptionVector','4613phdyIO','(((.+)+)+)+$','.000+0000','apply','jobStorePath','data','search','toString','255wyCbDK','createWriteStream','castCsvValue','percent','29520sEijCr','crypto','default','set','createReadStream','describe','double','3996560hvQAnc','bind','constructor','createReader','readEncryptedTempFile','boolean','catch','__importDefault','@flosum/utils','pipelineCallback','get','read','pipeline','_fieldsTypes','1164828YwPxkH','csv-parse','stream','path','3119994hHWrjy','FsUtils','getIsDone','readable','1404504EPzduU','true','isExistsPath','22HjTroG','retrieve','join','_read','BaseBulkRetrieve','error','int','randomUUID'];a75_0xdcb2=function(){return _0x147a3e;};return a75_0xdcb2();}const a75_0x4a17db=(function(){let _0x217b63=!![];return function(_0x4ed074,_0x841875){const _0x1e9619=_0x217b63?function(){const _0xff0022=a75_0x5438;if(_0x841875){const _0x4692a4=_0x841875[_0xff0022(0x10f)](_0x4ed074,arguments);return _0x841875=null,_0x4692a4;}}:function(){};return _0x217b63=![],_0x1e9619;};}()),a75_0x3d1be8=a75_0x4a17db(this,function(){const _0x180a60=a75_0x5438;return a75_0x3d1be8[_0x180a60(0x113)]()[_0x180a60(0x112)](_0x180a60(0x10d))[_0x180a60(0x113)]()[_0x180a60(0xd8)](a75_0x3d1be8)[_0x180a60(0x112)](_0x180a60(0x10d));});a75_0x3d1be8();function a75_0x5438(_0xc65476,_0x1a871d){const _0x4cb846=a75_0xdcb2();return a75_0x5438=function(_0x3d1be8,_0x4a17db){_0x3d1be8=_0x3d1be8-0xce;let _0xdcb2b8=_0x4cb846[_0x3d1be8];return _0xdcb2b8;},a75_0x5438(_0xc65476,_0x1a871d);}'use strict';var __importDefault=this&&this[a75_0x18e0cb(0xdd)]||function(_0x1eba74){return _0x1eba74&&_0x1eba74['__esModule']?_0x1eba74:{'default':_0x1eba74};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a75_0x18e0cb(0xf3)]=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require(a75_0x18e0cb(0xe6)),path_1=__importDefault(require(a75_0x18e0cb(0xe7))),utils_1=require(a75_0x18e0cb(0xde)),promises_1=require('fs/promises'),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x18e0cb(0x103)),crypto_1=require(a75_0x18e0cb(0xd0)),csv_parse_1=require(a75_0x18e0cb(0xe5)),zlib_1=__importDefault(require(a75_0x18e0cb(0x102))),job_detail_1=require(a75_0x18e0cb(0xf9));class BaseBulkRetrieve extends base_retrieve_1[a75_0x18e0cb(0x100)]{async[a75_0x18e0cb(0xfb)](){const _0x475a69=a75_0x18e0cb;var _0x2c5e11,_0x32f01e;if(this[_0x475a69(0xf0)][_0x475a69(0xea)]()&&!((_0x2c5e11=this[_0x475a69(0xfa)])===null||_0x2c5e11===void 0x0?void 0x0:_0x2c5e11[_0x475a69(0xfe)]())){this[_0x475a69(0x101)](null);return;}if((_0x32f01e=this[_0x475a69(0xfa)])===null||_0x32f01e===void 0x0?void 0x0:_0x32f01e[_0x475a69(0xfe)]()){this[_0x475a69(0xfa)][_0x475a69(0x105)]();return;}const _0x3de661=await this[_0x475a69(0xf0)]['execute']();if(!_0x3de661)return this[_0x475a69(0xfb)]();await this[_0x475a69(0xd9)](_0x3de661);}async[a75_0x18e0cb(0xd9)](_0x44980a){const _0x481e1c=a75_0x18e0cb,_0x3510b1=path_1['default'][_0x481e1c(0xf1)](job_detail_1[_0x481e1c(0x110)],(0x0,crypto_1[_0x481e1c(0xf6)])()),_0x2fdbbb=(0x0,crypto_1[_0x481e1c(0xf6)])(),_0x180db7=await this[_0x481e1c(0x107)](_0x44980a,_0x3510b1,_0x2fdbbb)['then'](()=>this[_0x481e1c(0xda)](_0x3510b1,_0x2fdbbb)),_0x43bb7b={'columns':!![],'cast':this[_0x481e1c(0x116)][_0x481e1c(0xd7)](this)};this['csvParser']=(0x0,stream_1[_0x481e1c(0xe2)])(_0x180db7,zlib_1[_0x481e1c(0xd1)][_0x481e1c(0xf8)](),(0x0,csv_parse_1[_0x481e1c(0xf7)])(_0x43bb7b),this['pipelineCallback'][_0x481e1c(0xd7)](this,_0x3510b1)),this[_0x481e1c(0xfa)]['on'](_0x481e1c(0x111),_0x563490=>{const _0x26818a=_0x481e1c;this[_0x26818a(0xfa)]['pause'](),this[_0x26818a(0x101)](_0x563490);}),this[_0x481e1c(0xfa)]['on'](_0x481e1c(0xfd),async()=>{const _0x217e7a=_0x481e1c;return await utils_1[_0x217e7a(0xe9)][_0x217e7a(0xee)](_0x3510b1)&&await(0x0,promises_1['rm'])(_0x3510b1)[_0x217e7a(0xdc)](this['handleError']['bind'](this,null)),this[_0x217e7a(0xf2)]();}),this[_0x481e1c(0xfa)]['on'](_0x481e1c(0xf4),this[_0x481e1c(0xdf)][_0x481e1c(0xd7)](this,_0x3510b1));}async[a75_0x18e0cb(0x107)](_0x2fe7c4,_0x270ba4,_0x36e58e){const _0x5d515b=a75_0x18e0cb,_0x3e989f=fs_1[_0x5d515b(0xd1)][_0x5d515b(0x115)](_0x270ba4);await(0x0,promises_2[_0x5d515b(0xe2)])(_0x2fe7c4,utils_1[_0x5d515b(0xfc)][_0x5d515b(0x109)](_0x36e58e),_0x3e989f);}async[a75_0x18e0cb(0xda)](_0x2b0cff,_0x226fb2){const _0x2b405c=a75_0x18e0cb,_0x337155=fs_1[_0x2b405c(0xd1)][_0x2b405c(0xd3)](_0x2b0cff),_0x222ada=await this[_0x2b405c(0x10b)](_0x337155),_0x385e9d=utils_1[_0x2b405c(0xfc)]['createDecryptPipe'](_0x226fb2,_0x222ada);return(0x0,stream_1[_0x2b405c(0xe2)])(_0x337155,_0x385e9d,this[_0x2b405c(0xdf)][_0x2b405c(0xd7)](this,_0x2b0cff));}async[a75_0x18e0cb(0xdf)](_0x1a0011,_0x33c961){_0x33c961&&await this['handleError'](_0x1a0011,_0x33c961);}async['handleError'](_0x3963d3,_0x2981da){const _0x451022=a75_0x18e0cb;_0x3963d3&&await utils_1[_0x451022(0xe9)][_0x451022(0xee)](_0x3963d3)&&await(0x0,promises_1['rm'])(_0x3963d3)[_0x451022(0xdc)](_0x344fb1=>job_detail_1['systemLogger'][_0x451022(0xf4)](_0x344fb1)),this[_0x451022(0x106)](_0x2981da);}async[a75_0x18e0cb(0x10b)](_0x22de5b){return new Promise((_0x3200f2,_0x158b19)=>{const _0x363b50=a75_0x5438;_0x22de5b[_0x363b50(0xff)](_0x363b50(0xf4),_0x158b19),_0x22de5b[_0x363b50(0xff)](_0x363b50(0xeb),()=>{const _0x37d110=_0x363b50,_0xa39a27=_0x22de5b[_0x37d110(0xe1)](0x10);_0x3200f2(_0xa39a27);});});}[a75_0x18e0cb(0x116)](_0x2849a3,{header:_0xa39518,column:_0x133e52}){const _0x18355f=a75_0x18e0cb;!this[_0x18355f(0xe3)]&&(this[_0x18355f(0xe3)]=this[_0x18355f(0xd4)][_0x18355f(0x108)]['reduce']((_0x511ad4,{name:_0x54489d,type:_0x505b38})=>_0x511ad4[_0x18355f(0xd2)](_0x54489d,_0x505b38),new Map()));if(_0xa39518)return _0x2849a3;if(!_0x2849a3)return null;switch(this[_0x18355f(0xe3)][_0x18355f(0xe0)](_0x133e52)){case'datetime':return _0x2849a3[_0x18355f(0x10a)](/\.\d{3}Z$/,_0x18355f(0x10e));case _0x18355f(0xdb):return _0x2849a3===_0x18355f(0xed);case'currency':case _0x18355f(0xd5):case _0x18355f(0xf5):case _0x18355f(0xce):return+_0x2849a3;default:return _0x2849a3;}}}exports[a75_0x18e0cb(0xf3)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;