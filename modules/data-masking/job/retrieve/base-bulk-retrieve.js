const a75_0x5ecbae=a75_0x700a;(function(_0x47b308,_0x52534b){const _0xb4d5=a75_0x700a,_0xeff1b5=_0x47b308();while(!![]){try{const _0x45a167=parseInt(_0xb4d5(0x158))/0x1+parseInt(_0xb4d5(0x135))/0x2*(-parseInt(_0xb4d5(0x15d))/0x3)+parseInt(_0xb4d5(0x117))/0x4*(parseInt(_0xb4d5(0x125))/0x5)+parseInt(_0xb4d5(0x14d))/0x6+parseInt(_0xb4d5(0x161))/0x7*(parseInt(_0xb4d5(0x115))/0x8)+-parseInt(_0xb4d5(0x15f))/0x9*(-parseInt(_0xb4d5(0x13a))/0xa)+-parseInt(_0xb4d5(0x119))/0xb;if(_0x45a167===_0x52534b)break;else _0xeff1b5['push'](_0xeff1b5['shift']());}catch(_0x3f17f8){_0xeff1b5['push'](_0xeff1b5['shift']());}}}(a75_0x59d3,0x3eb13));const a75_0x578559=(function(){let _0x1bf7ff=!![];return function(_0x38b03f,_0x39a2ec){const _0x4f0d19=_0x1bf7ff?function(){const _0x2f7ade=a75_0x700a;if(_0x39a2ec){const _0x9315c1=_0x39a2ec[_0x2f7ade(0x11c)](_0x38b03f,arguments);return _0x39a2ec=null,_0x9315c1;}}:function(){};return _0x1bf7ff=![],_0x4f0d19;};}()),a75_0x224841=a75_0x578559(this,function(){const _0x30aa10=a75_0x700a;return a75_0x224841[_0x30aa10(0x15e)]()[_0x30aa10(0x160)](_0x30aa10(0x151))[_0x30aa10(0x15e)]()[_0x30aa10(0x14b)](a75_0x224841)[_0x30aa10(0x160)](_0x30aa10(0x151));});a75_0x224841();'use strict';var __importDefault=this&&this[a75_0x5ecbae(0x129)]||function(_0x23bc6d){const _0x516c29=a75_0x5ecbae;return _0x23bc6d&&_0x23bc6d[_0x516c29(0x11b)]?_0x23bc6d:{'default':_0x23bc6d};};function a75_0x59d3(){const _0x326df5=['261849DLnjTC','isPaused','retrieve','then','createEncryptPipe','_fieldsTypes','randomUUID','56QXTWUY','BaseBulkRetrieve','28UgTNLI','../job-detail','13026860qgqFYW','defineProperty','__esModule','apply','double','createReader','describe','POLL_INTERVAL','true','fields','boolean','percent','278585rWBoFk','stream/promises','CryptoUtils','error','__importDefault','createWriteStream','crypto','csvParser','execute','writeEncryptedTempFile','handleError','BaseRetrieve','./base-retrieve','pull','currency','../../constants','10130KaUUCf','pipelineCallback','_read','csv-parse','data','20zVxoKX','pause','default','readEncryptedTempFile','castCsvValue','createUnzip','getIsDone','fs/promises','reduce','@flosum/salesforce/dist/typings/enums/bulk1.enums','parse','destroy','replace','isExistsPath','request','queryBuilder','readEncryptionVector','constructor','push','1762680DRGvTz','createReadStream','bind','FsUtils','(((.+)+)+)+$','end','readable','TEXT_CSV','jobStorePath','systemLogger','pipeline','410167GkYosN','@flosum/utils','BulkV1QueryContentType','baseRetrievePayload','catch','150cJeJGQ','toString','1523169byUUEj','search'];a75_0x59d3=function(){return _0x326df5;};return a75_0x59d3();}Object[a75_0x5ecbae(0x11a)](exports,a75_0x5ecbae(0x11b),{'value':!![]}),exports[a75_0x5ecbae(0x116)]=void 0x0;const base_retrieve_1=require(a75_0x5ecbae(0x131)),stream_1=require('stream'),path_1=__importDefault(require('path')),utils_1=require(a75_0x5ecbae(0x159)),promises_1=require(a75_0x5ecbae(0x141)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x5ecbae(0x126)),crypto_1=require(a75_0x5ecbae(0x12b)),csv_parse_1=require(a75_0x5ecbae(0x138)),zlib_1=__importDefault(require('zlib')),job_detail_1=require(a75_0x5ecbae(0x118)),constants_1=require(a75_0x5ecbae(0x134)),bulk1_enums_1=require(a75_0x5ecbae(0x143));function a75_0x700a(_0xebc4d3,_0xe6deef){const _0x3c4a27=a75_0x59d3();return a75_0x700a=function(_0x224841,_0x578559){_0x224841=_0x224841-0x114;let _0x59d340=_0x3c4a27[_0x224841];return _0x59d340;},a75_0x700a(_0xebc4d3,_0xe6deef);}class BaseBulkRetrieve extends base_retrieve_1[a75_0x5ecbae(0x130)]{get[a75_0x5ecbae(0x15b)](){const _0x1f9053=a75_0x5ecbae;return{'queryBuilder':this[_0x1f9053(0x149)],'instance':this[_0x1f9053(0x148)],'api':constants_1['SALESFORCE_API_VERSION'],'contentType':bulk1_enums_1[_0x1f9053(0x15a)][_0x1f9053(0x154)]};}async[a75_0x5ecbae(0x132)](){const _0x110cbf=a75_0x5ecbae;var _0x556fff,_0x4b9cfc;if(this[_0x110cbf(0x163)][_0x110cbf(0x140)]()&&!((_0x556fff=this['csvParser'])===null||_0x556fff===void 0x0?void 0x0:_0x556fff[_0x110cbf(0x162)]())){this[_0x110cbf(0x14c)](null);return;}if((_0x4b9cfc=this[_0x110cbf(0x12c)])===null||_0x4b9cfc===void 0x0?void 0x0:_0x4b9cfc[_0x110cbf(0x162)]()){this[_0x110cbf(0x12c)]['resume']();return;}const _0x20cc68=await this['retrieve'][_0x110cbf(0x12d)]();if(!_0x20cc68)return this[_0x110cbf(0x132)]();await this[_0x110cbf(0x11e)](_0x20cc68);}async[a75_0x5ecbae(0x11e)](_0x3988b6){const _0x3b498f=a75_0x5ecbae,_0x536424=path_1[_0x3b498f(0x13c)]['join'](job_detail_1[_0x3b498f(0x155)],(0x0,crypto_1['randomUUID'])()),_0x4f812b=(0x0,crypto_1[_0x3b498f(0x114)])(),_0x3e7f7b=await this[_0x3b498f(0x12e)](_0x3988b6,_0x536424,_0x4f812b)[_0x3b498f(0x164)](()=>this[_0x3b498f(0x13d)](_0x536424,_0x4f812b)),_0x2ee4e7={'columns':!![],'cast':this[_0x3b498f(0x13e)]['bind'](this)};this['csvParser']=(0x0,stream_1[_0x3b498f(0x157)])(_0x3e7f7b,zlib_1[_0x3b498f(0x13c)][_0x3b498f(0x13f)](),(0x0,csv_parse_1[_0x3b498f(0x144)])(_0x2ee4e7),this[_0x3b498f(0x136)][_0x3b498f(0x14f)](this,_0x536424)),this[_0x3b498f(0x12c)]['on'](_0x3b498f(0x139),_0x34608f=>{const _0x2e7ab1=_0x3b498f;this[_0x2e7ab1(0x12c)][_0x2e7ab1(0x13b)](),this[_0x2e7ab1(0x14c)](_0x34608f);}),this[_0x3b498f(0x12c)]['on'](_0x3b498f(0x152),async()=>{const _0x55d70f=_0x3b498f;return await utils_1[_0x55d70f(0x150)]['isExistsPath'](_0x536424)&&await(0x0,promises_1['rm'])(_0x536424)[_0x55d70f(0x15c)](this[_0x55d70f(0x12f)][_0x55d70f(0x14f)](this,null)),this[_0x55d70f(0x137)]();}),this[_0x3b498f(0x12c)]['on'](_0x3b498f(0x128),this[_0x3b498f(0x136)][_0x3b498f(0x14f)](this,_0x536424));}async[a75_0x5ecbae(0x12e)](_0x39eff,_0x2e43e3,_0x18d3ca){const _0xf7ac7f=a75_0x5ecbae,_0x46002c=fs_1[_0xf7ac7f(0x13c)][_0xf7ac7f(0x12a)](_0x2e43e3);await(0x0,promises_2['pipeline'])(_0x39eff,utils_1[_0xf7ac7f(0x127)][_0xf7ac7f(0x165)](_0x18d3ca),_0x46002c);}async[a75_0x5ecbae(0x13d)](_0x185f4,_0x240125){const _0x4cf5a3=a75_0x5ecbae,_0x5abe5=fs_1[_0x4cf5a3(0x13c)][_0x4cf5a3(0x14e)](_0x185f4),_0xfaa788=await this[_0x4cf5a3(0x14a)](_0x5abe5),_0x21b4c6=utils_1[_0x4cf5a3(0x127)]['createDecryptPipe'](_0x240125,_0xfaa788);return(0x0,stream_1[_0x4cf5a3(0x157)])(_0x5abe5,_0x21b4c6,this[_0x4cf5a3(0x136)]['bind'](this,_0x185f4));}async[a75_0x5ecbae(0x136)](_0x4806f1,_0x380140){const _0x132626=a75_0x5ecbae;_0x380140&&await this[_0x132626(0x12f)](_0x4806f1,_0x380140);}async[a75_0x5ecbae(0x12f)](_0x50ca87,_0x190044){const _0x13bbbc=a75_0x5ecbae;_0x50ca87&&await utils_1[_0x13bbbc(0x150)][_0x13bbbc(0x147)](_0x50ca87)&&await(0x0,promises_1['rm'])(_0x50ca87)[_0x13bbbc(0x15c)](_0x763b26=>job_detail_1[_0x13bbbc(0x156)]['error'](_0x763b26)),this[_0x13bbbc(0x145)](_0x190044);}async[a75_0x5ecbae(0x14a)](_0x47ca61){return new Promise((_0x36f59d,_0x5c1b8e)=>{const _0x235ea4=a75_0x700a;_0x47ca61['once'](_0x235ea4(0x128),_0x5c1b8e),_0x47ca61['once'](_0x235ea4(0x153),()=>{const _0x3e1a53=_0x47ca61['read'](0x10);_0x36f59d(_0x3e1a53);});});}[a75_0x5ecbae(0x13e)](_0x1c775c,{header:_0x38ec36,column:_0x2bbdc2}){const _0x3442f8=a75_0x5ecbae;!this[_0x3442f8(0x166)]&&(this['_fieldsTypes']=this[_0x3442f8(0x11f)][_0x3442f8(0x122)][_0x3442f8(0x142)]((_0x397b0e,{name:_0x289ade,type:_0x17c312})=>_0x397b0e['set'](_0x289ade,_0x17c312),new Map()));if(_0x38ec36)return _0x1c775c;if(!_0x1c775c)return null;switch(this[_0x3442f8(0x166)]['get'](_0x2bbdc2)){case'datetime':return _0x1c775c[_0x3442f8(0x146)](/\.\d{3}Z$/,'.000+0000');case _0x3442f8(0x123):return _0x1c775c===_0x3442f8(0x121);case _0x3442f8(0x133):case _0x3442f8(0x11d):case'int':case _0x3442f8(0x124):return+_0x1c775c;default:return _0x1c775c;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x5ecbae(0x120)]=0x1388;