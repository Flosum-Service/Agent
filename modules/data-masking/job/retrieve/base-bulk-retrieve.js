const a75_0x1d4c53=a75_0x4af2;(function(_0x4bf165,_0x5621da){const _0x109c91=a75_0x4af2,_0x45d7c6=_0x4bf165();while(!![]){try{const _0x13e771=-parseInt(_0x109c91(0x106))/0x1+parseInt(_0x109c91(0x13c))/0x2+-parseInt(_0x109c91(0x110))/0x3*(parseInt(_0x109c91(0x114))/0x4)+-parseInt(_0x109c91(0x13e))/0x5*(-parseInt(_0x109c91(0x109))/0x6)+parseInt(_0x109c91(0x13b))/0x7+parseInt(_0x109c91(0x130))/0x8*(-parseInt(_0x109c91(0x13d))/0x9)+parseInt(_0x109c91(0x13f))/0xa;if(_0x13e771===_0x5621da)break;else _0x45d7c6['push'](_0x45d7c6['shift']());}catch(_0x26ab8a){_0x45d7c6['push'](_0x45d7c6['shift']());}}}(a75_0x5edc,0xbd8d6));const a75_0x562b0c=(function(){let _0xbac07f=!![];return function(_0x586803,_0x23da35){const _0x3144d2=_0xbac07f?function(){if(_0x23da35){const _0x32a688=_0x23da35['apply'](_0x586803,arguments);return _0x23da35=null,_0x32a688;}}:function(){};return _0xbac07f=![],_0x3144d2;};}()),a75_0x14ce0d=a75_0x562b0c(this,function(){const _0xe6096b=a75_0x4af2;return a75_0x14ce0d['toString']()[_0xe6096b(0x147)]('(((.+)+)+)+$')['toString']()[_0xe6096b(0x11f)](a75_0x14ce0d)[_0xe6096b(0x147)](_0xe6096b(0x132));});a75_0x14ce0d();function a75_0x4af2(_0x21e9d6,_0x22c1b7){const _0x5a213e=a75_0x5edc();return a75_0x4af2=function(_0x14ce0d,_0x562b0c){_0x14ce0d=_0x14ce0d-0x105;let _0x5edcad=_0x5a213e[_0x14ce0d];return _0x5edcad;},a75_0x4af2(_0x21e9d6,_0x22c1b7);}'use strict';var __importDefault=this&&this[a75_0x1d4c53(0x14f)]||function(_0x3e4dac){const _0x16f174=a75_0x1d4c53;return _0x3e4dac&&_0x3e4dac[_0x16f174(0x127)]?_0x3e4dac:{'default':_0x3e4dac};};Object[a75_0x1d4c53(0x129)](exports,a75_0x1d4c53(0x127),{'value':!![]}),exports[a75_0x1d4c53(0x117)]=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require(a75_0x1d4c53(0x151)),path_1=__importDefault(require(a75_0x1d4c53(0x14d))),utils_1=require(a75_0x1d4c53(0x11a)),promises_1=require(a75_0x1d4c53(0x120)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x1d4c53(0x133)),crypto_1=require(a75_0x1d4c53(0x152)),csv_parse_1=require(a75_0x1d4c53(0x108)),salesforce_1=require(a75_0x1d4c53(0x124)),job_detail_1=require('../job-detail'),constants_1=require(a75_0x1d4c53(0x116));class BaseBulkRetrieve extends base_retrieve_1['BaseRetrieve']{get['baseRetrievePayload'](){const _0x266a82=a75_0x1d4c53;return{'queryBuilder':this[_0x266a82(0x12e)],'instance':this[_0x266a82(0x111)],'api':constants_1['SALESFORCE_API_VERSION'],'contentType':salesforce_1[_0x266a82(0x141)][_0x266a82(0x125)]};}async[a75_0x1d4c53(0x105)](){const _0x50c2dd=a75_0x1d4c53;var _0x48769e,_0x1778d3;if(this[_0x50c2dd(0x138)][_0x50c2dd(0x13a)]()&&!((_0x48769e=this['csvParser'])===null||_0x48769e===void 0x0?void 0x0:_0x48769e[_0x50c2dd(0x12a)]())){this[_0x50c2dd(0x10e)](null);return;}if((_0x1778d3=this[_0x50c2dd(0x12d)])===null||_0x1778d3===void 0x0?void 0x0:_0x1778d3[_0x50c2dd(0x12a)]()){this[_0x50c2dd(0x12d)][_0x50c2dd(0x14a)]();return;}const _0x71bcb0=await this[_0x50c2dd(0x138)][_0x50c2dd(0x123)]();if(!_0x71bcb0)return this[_0x50c2dd(0x105)]();await this[_0x50c2dd(0x126)](_0x71bcb0);}async[a75_0x1d4c53(0x126)](_0x2e7d86){const _0x4c7e84=a75_0x1d4c53,_0xa7d6a7=path_1[_0x4c7e84(0x112)][_0x4c7e84(0x119)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x4c7e84(0x144)])()),_0xfd15bd=(0x0,crypto_1[_0x4c7e84(0x144)])(),_0x5a6c5c=await this[_0x4c7e84(0x145)](_0x2e7d86,_0xa7d6a7,_0xfd15bd)['then'](()=>this[_0x4c7e84(0x107)](_0xa7d6a7,_0xfd15bd)),_0x5a6048={'columns':!![],'cast':this[_0x4c7e84(0x137)][_0x4c7e84(0x140)](this)};this['csvParser']=(0x0,stream_1[_0x4c7e84(0x10c)])(_0x5a6c5c,(0x0,csv_parse_1[_0x4c7e84(0x11b)])(_0x5a6048),this[_0x4c7e84(0x11c)][_0x4c7e84(0x140)](this,_0xa7d6a7)),this[_0x4c7e84(0x12d)]['on'](_0x4c7e84(0x11e),_0x4c127b=>{const _0x4a858e=_0x4c7e84;this['csvParser'][_0x4a858e(0x131)](),this[_0x4a858e(0x10e)](_0x4c127b);}),this['csvParser']['on'](_0x4c7e84(0x121),async()=>{const _0x33349d=_0x4c7e84;return await utils_1[_0x33349d(0x14c)]['isExistsPath'](_0xa7d6a7)&&await(0x0,promises_1['rm'])(_0xa7d6a7)[_0x33349d(0x118)](this['handleError']['bind'](this,null)),this[_0x33349d(0x14e)]();}),this['csvParser']['on'](_0x4c7e84(0x12f),this[_0x4c7e84(0x11c)]['bind'](this,_0xa7d6a7));}async['writeEncryptedTempFile'](_0x7bdb74,_0x197a7c,_0x5aa071){const _0x4ecdc1=a75_0x1d4c53,_0x59212b=fs_1['default']['createWriteStream'](_0x197a7c);await(0x0,promises_2[_0x4ecdc1(0x10c)])(_0x7bdb74,utils_1['CryptoUtils'][_0x4ecdc1(0x10a)](_0x5aa071),_0x59212b);}async[a75_0x1d4c53(0x107)](_0x3d1c73,_0x210382){const _0x5122b1=a75_0x1d4c53,_0x2a580b=fs_1['default']['createReadStream'](_0x3d1c73),_0x1e4c25=await this['readEncryptionVector'](_0x2a580b),_0xdaec10=utils_1[_0x5122b1(0x10d)][_0x5122b1(0x10f)](_0x210382,_0x1e4c25);return(0x0,stream_1[_0x5122b1(0x10c)])(_0x2a580b,_0xdaec10,this[_0x5122b1(0x11c)]['bind'](this,_0x3d1c73));}async[a75_0x1d4c53(0x11c)](_0x4e2c02,_0x466f61){const _0x4adf4e=a75_0x1d4c53;_0x466f61&&await this[_0x4adf4e(0x150)](_0x4e2c02,_0x466f61);}async[a75_0x1d4c53(0x150)](_0x102963,_0x235cff){const _0xc46259=a75_0x1d4c53;_0x102963&&await utils_1[_0xc46259(0x14c)]['isExistsPath'](_0x102963)&&await(0x0,promises_1['rm'])(_0x102963)['catch'](_0x60a20e=>job_detail_1[_0xc46259(0x136)][_0xc46259(0x12f)](_0x60a20e)),this[_0xc46259(0x149)](_0x235cff);}async[a75_0x1d4c53(0x12c)](_0xda59b){return new Promise((_0x4c0e52,_0x4fcd0e)=>{const _0x45a867=a75_0x4af2;_0xda59b['once'](_0x45a867(0x12f),_0x4fcd0e),_0xda59b['once'](_0x45a867(0x128),()=>{const _0x5846a0=_0x45a867,_0x2d1fa0=_0xda59b[_0x5846a0(0x11d)](0x10);_0x4c0e52(_0x2d1fa0);});});}[a75_0x1d4c53(0x137)](_0x1c0948,{header:_0x59bf1,column:_0x4b506f}){const _0x1274ad=a75_0x1d4c53;!this[_0x1274ad(0x10b)]&&(this[_0x1274ad(0x10b)]=this[_0x1274ad(0x148)][_0x1274ad(0x12b)][_0x1274ad(0x122)]((_0x2a9254,{name:_0x1f72a5,type:_0x10b404})=>_0x2a9254[_0x1274ad(0x115)](_0x1f72a5,_0x10b404),new Map()));if(_0x59bf1)return _0x1c0948;if(!_0x1c0948)return null;switch(this[_0x1274ad(0x10b)][_0x1274ad(0x143)](_0x4b506f)){case'datetime':return _0x1c0948[_0x1274ad(0x146)](/\.\d{3}Z$/,'.000+0000');case _0x1274ad(0x134):return _0x1c0948===_0x1274ad(0x113);case _0x1274ad(0x135):case'double':case _0x1274ad(0x14b):case _0x1274ad(0x139):return+_0x1c0948;default:return _0x1c0948;}}}exports[a75_0x1d4c53(0x117)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x1d4c53(0x142)]=0x1388;function a75_0x5edc(){const _0xd5eb70=['search','describe','destroy','resume','int','FsUtils','path','_read','__importDefault','handleError','stream','crypto','pull','1253437igplxu','readEncryptedTempFile','csv-parse','4050cnuTpE','createEncryptPipe','_fieldsTypes','pipeline','CryptoUtils','push','createDecryptPipe','3ggzLbZ','request','default','true','3807472rEgVzN','set','../../constants','BaseBulkRetrieve','catch','join','@flosum/utils','parse','pipelineCallback','read','data','constructor','fs/promises','end','reduce','execute','@flosum/salesforce','TEXT_CSV','createReader','__esModule','readable','defineProperty','isPaused','fields','readEncryptionVector','csvParser','queryBuilder','error','10328nEDDrb','pause','(((.+)+)+)+$','stream/promises','boolean','currency','systemLogger','castCsvValue','retrieve','percent','getIsDone','4604481BkThDa','2929480EVpPnr','10737NHpFMN','7125hzVJeB','14374760mIPDDB','bind','BulkV1QueryContentType','POLL_INTERVAL','get','randomUUID','writeEncryptedTempFile','replace'];a75_0x5edc=function(){return _0xd5eb70;};return a75_0x5edc();}