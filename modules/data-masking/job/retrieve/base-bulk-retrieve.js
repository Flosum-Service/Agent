const a75_0x242098=a75_0xbe30;(function(_0x3ce968,_0x4a56f3){const _0x1b1e66=a75_0xbe30,_0x5592de=_0x3ce968();while(!![]){try{const _0x3a0af4=parseInt(_0x1b1e66(0xf5))/0x1+-parseInt(_0x1b1e66(0x114))/0x2*(parseInt(_0x1b1e66(0xdc))/0x3)+-parseInt(_0x1b1e66(0x110))/0x4+parseInt(_0x1b1e66(0x10c))/0x5+parseInt(_0x1b1e66(0xde))/0x6+-parseInt(_0x1b1e66(0xd9))/0x7*(parseInt(_0x1b1e66(0x105))/0x8)+-parseInt(_0x1b1e66(0xe0))/0x9*(-parseInt(_0x1b1e66(0x127))/0xa);if(_0x3a0af4===_0x4a56f3)break;else _0x5592de['push'](_0x5592de['shift']());}catch(_0x5b85f8){_0x5592de['push'](_0x5592de['shift']());}}}(a75_0x2f77,0x94077));const a75_0x46534d=(function(){let _0x12504c=!![];return function(_0x1f1225,_0x55dc81){const _0x1bdde2=_0x12504c?function(){const _0x586f07=a75_0xbe30;if(_0x55dc81){const _0x452530=_0x55dc81[_0x586f07(0x106)](_0x1f1225,arguments);return _0x55dc81=null,_0x452530;}}:function(){};return _0x12504c=![],_0x1bdde2;};}()),a75_0x27420b=a75_0x46534d(this,function(){const _0x2a705f=a75_0xbe30;return a75_0x27420b[_0x2a705f(0xea)]()[_0x2a705f(0xe9)]('(((.+)+)+)+$')[_0x2a705f(0xea)]()['constructor'](a75_0x27420b)[_0x2a705f(0xe9)]('(((.+)+)+)+$');});a75_0x27420b();'use strict';var __importDefault=this&&this[a75_0x242098(0x11a)]||function(_0x2fe16f){const _0x58a8cb=a75_0x242098;return _0x2fe16f&&_0x2fe16f[_0x58a8cb(0x125)]?_0x2fe16f:{'default':_0x2fe16f};};function a75_0x2f77(){const _0x18bfd1=['getIsDone','_read','retrieve','once','pause','fields','isPaused','./base-retrieve','push','createDecryptPipe','__esModule','bind','860CBowIi','161ywrLjn','stream/promises','createReader','3QBojfe','isExistsPath','4286748LnSyab','_fieldsTypes','49581mvTKcY','path','CryptoUtils','BaseBulkRetrieve','@flosum/utils','BulkV1QueryContentType','datetime','replace','@flosum/salesforce','search','toString','crypto','readable','../../constants','reduce','request','SALESFORCE_API_VERSION','readEncryptedTempFile','baseRetrievePayload','castCsvValue','stream','67770noOlkQ','randomUUID','readEncryptionVector','execute','read','createEncryptPipe','describe','POLL_INTERVAL','csv-parse','pipeline','TEXT_CSV','csvParser','error','catch','boolean','defineProperty','110384fVlJDE','apply','createReadStream','writeEncryptedTempFile','pull','join','BaseRetrieve','3948785JmJLMw','true','default','get','2510188LMEAOQ','.000+0000','handleError','end','989062vncyvm','FsUtils','destroy','pipelineCallback','queryBuilder','set','__importDefault'];a75_0x2f77=function(){return _0x18bfd1;};return a75_0x2f77();}Object[a75_0x242098(0x104)](exports,'__esModule',{'value':!![]}),exports[a75_0x242098(0xe3)]=void 0x0;function a75_0xbe30(_0x514692,_0x402b08){const _0x24ba38=a75_0x2f77();return a75_0xbe30=function(_0x27420b,_0x46534d){_0x27420b=_0x27420b-0xd9;let _0x2f7712=_0x24ba38[_0x27420b];return _0x2f7712;},a75_0xbe30(_0x514692,_0x402b08);}const base_retrieve_1=require(a75_0x242098(0x122)),stream_1=require(a75_0x242098(0xf4)),path_1=__importDefault(require(a75_0x242098(0xe1))),utils_1=require(a75_0x242098(0xe4)),promises_1=require('fs/promises'),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x242098(0xda)),crypto_1=require(a75_0x242098(0xeb)),csv_parse_1=require(a75_0x242098(0xfd)),salesforce_1=require(a75_0x242098(0xe8)),job_detail_1=require('../job-detail'),constants_1=require(a75_0x242098(0xed));class BaseBulkRetrieve extends base_retrieve_1[a75_0x242098(0x10b)]{get[a75_0x242098(0xf2)](){const _0x4f1057=a75_0x242098;return{'queryBuilder':this[_0x4f1057(0x118)],'instance':this[_0x4f1057(0xef)],'api':constants_1[_0x4f1057(0xf0)],'contentType':salesforce_1[_0x4f1057(0xe5)][_0x4f1057(0xff)]};}async[a75_0x242098(0x109)](){const _0x2ae017=a75_0x242098;var _0x42c922,_0x2d58ea;if(this[_0x2ae017(0x11d)][_0x2ae017(0x11b)]()&&!((_0x42c922=this[_0x2ae017(0x100)])===null||_0x42c922===void 0x0?void 0x0:_0x42c922['isPaused']())){this[_0x2ae017(0x123)](null);return;}if((_0x2d58ea=this[_0x2ae017(0x100)])===null||_0x2d58ea===void 0x0?void 0x0:_0x2d58ea[_0x2ae017(0x121)]()){this[_0x2ae017(0x100)]['resume']();return;}const _0x456299=await this['retrieve'][_0x2ae017(0xf8)]();if(!_0x456299)return this[_0x2ae017(0x109)]();await this['createReader'](_0x456299);}async[a75_0x242098(0xdb)](_0x5566b4){const _0x132c26=a75_0x242098,_0x5e81ff=path_1[_0x132c26(0x10e)][_0x132c26(0x10a)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x132c26(0xf6)])()),_0x64026=(0x0,crypto_1[_0x132c26(0xf6)])(),_0x57f08=await this['writeEncryptedTempFile'](_0x5566b4,_0x5e81ff,_0x64026)['then'](()=>this[_0x132c26(0xf1)](_0x5e81ff,_0x64026)),_0x74f33a={'columns':!![],'cast':this[_0x132c26(0xf3)]['bind'](this)};this[_0x132c26(0x100)]=(0x0,stream_1['pipeline'])(_0x57f08,(0x0,csv_parse_1['parse'])(_0x74f33a),this[_0x132c26(0x117)]['bind'](this,_0x5e81ff)),this[_0x132c26(0x100)]['on']('data',_0x38706a=>{const _0x4db3bb=_0x132c26;this[_0x4db3bb(0x100)][_0x4db3bb(0x11f)](),this[_0x4db3bb(0x123)](_0x38706a);}),this[_0x132c26(0x100)]['on'](_0x132c26(0x113),async()=>{const _0x39f578=_0x132c26;return await utils_1['FsUtils'][_0x39f578(0xdd)](_0x5e81ff)&&await(0x0,promises_1['rm'])(_0x5e81ff)[_0x39f578(0x102)](this[_0x39f578(0x112)]['bind'](this,null)),this[_0x39f578(0x11c)]();}),this['csvParser']['on'](_0x132c26(0x101),this[_0x132c26(0x117)][_0x132c26(0x126)](this,_0x5e81ff));}async[a75_0x242098(0x108)](_0x321df0,_0x112571,_0x5dea9a){const _0x488e8e=a75_0x242098,_0x1c97d2=fs_1[_0x488e8e(0x10e)]['createWriteStream'](_0x112571);await(0x0,promises_2[_0x488e8e(0xfe)])(_0x321df0,utils_1[_0x488e8e(0xe2)][_0x488e8e(0xfa)](_0x5dea9a),_0x1c97d2);}async[a75_0x242098(0xf1)](_0x47052e,_0x26b648){const _0x2f9182=a75_0x242098,_0x16dcd1=fs_1[_0x2f9182(0x10e)][_0x2f9182(0x107)](_0x47052e),_0x446f81=await this[_0x2f9182(0xf7)](_0x16dcd1),_0x3e70e9=utils_1[_0x2f9182(0xe2)][_0x2f9182(0x124)](_0x26b648,_0x446f81);return(0x0,stream_1['pipeline'])(_0x16dcd1,_0x3e70e9,this[_0x2f9182(0x117)]['bind'](this,_0x47052e));}async[a75_0x242098(0x117)](_0x2de84f,_0x26fb64){_0x26fb64&&await this['handleError'](_0x2de84f,_0x26fb64);}async[a75_0x242098(0x112)](_0x27b9d9,_0x1b5f72){const _0xd0f12c=a75_0x242098;_0x27b9d9&&await utils_1[_0xd0f12c(0x115)][_0xd0f12c(0xdd)](_0x27b9d9)&&await(0x0,promises_1['rm'])(_0x27b9d9)['catch'](_0x487875=>job_detail_1['systemLogger']['error'](_0x487875)),this[_0xd0f12c(0x116)](_0x1b5f72);}async[a75_0x242098(0xf7)](_0x1074bb){return new Promise((_0x827562,_0x404f93)=>{const _0x27c76e=a75_0xbe30;_0x1074bb[_0x27c76e(0x11e)](_0x27c76e(0x101),_0x404f93),_0x1074bb[_0x27c76e(0x11e)](_0x27c76e(0xec),()=>{const _0x18c709=_0x27c76e,_0x4818e1=_0x1074bb[_0x18c709(0xf9)](0x10);_0x827562(_0x4818e1);});});}[a75_0x242098(0xf3)](_0x32af1d,{header:_0x482f81,column:_0xcf0fe8}){const _0x101ebf=a75_0x242098;!this[_0x101ebf(0xdf)]&&(this[_0x101ebf(0xdf)]=this[_0x101ebf(0xfb)][_0x101ebf(0x120)][_0x101ebf(0xee)]((_0xd7fec3,{name:_0x3b7945,type:_0x5c2392})=>_0xd7fec3[_0x101ebf(0x119)](_0x3b7945,_0x5c2392),new Map()));if(_0x482f81)return _0x32af1d;if(!_0x32af1d)return null;switch(this[_0x101ebf(0xdf)][_0x101ebf(0x10f)](_0xcf0fe8)){case _0x101ebf(0xe6):return _0x32af1d[_0x101ebf(0xe7)](/\.\d{3}Z$/,_0x101ebf(0x111));case _0x101ebf(0x103):return _0x32af1d===_0x101ebf(0x10d);case'currency':case'double':case'int':case'percent':return+_0x32af1d;default:return _0x32af1d;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x242098(0xfc)]=0x1388;