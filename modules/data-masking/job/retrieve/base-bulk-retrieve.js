const a74_0x4854d0=a74_0x326d;function a74_0x39d5(){const _0x436710=['_fieldsTypes','createUnzip','isPaused','readEncryptedTempFile','error','currency','constructor','destroy','createDecryptPipe','catch','172161Tkvnff','int','pull','reduce','isExistsPath','CryptoUtils','readable','bind','FsUtils','retrieve','csv-parse','2818330RoVPNP','1073352XkuaZu','csvParser','stream/promises','pipelineCallback','2221842LCXojy','54zTvjpX','1283090xMNGHc','once','defineProperty','__esModule','search','createReadStream','percent','fields','1386920fiiyuJ','./base-retrieve','@flosum/utils','18gaCsRW','then','replace','276845fOrgbX','randomUUID','castCsvValue','describe','pipeline','createEncryptPipe','jobStorePath','data','execute','toString','apply','get','systemLogger','../job-detail','BaseRetrieve','default','resume','datetime','pause','handleError','3FMxqQi','(((.+)+)+)+$','read','push','fs/promises','writeEncryptedTempFile','boolean','readEncryptionVector','BaseBulkRetrieve','double','parse','createReader','stream','.000+0000'];a74_0x39d5=function(){return _0x436710;};return a74_0x39d5();}(function(_0x19fab6,_0x3e3b31){const _0x2b5ea6=a74_0x326d,_0x262453=_0x19fab6();while(!![]){try{const _0x36f307=parseInt(_0x2b5ea6(0x1a4))/0x1+parseInt(_0x2b5ea6(0x1b6))/0x2+-parseInt(_0x2b5ea6(0x1d8))/0x3*(parseInt(_0x2b5ea6(0x1be))/0x4)+parseInt(_0x2b5ea6(0x1c4))/0x5*(-parseInt(_0x2b5ea6(0x1b5))/0x6)+-parseInt(_0x2b5ea6(0x1b4))/0x7+parseInt(_0x2b5ea6(0x1b0))/0x8+parseInt(_0x2b5ea6(0x1c1))/0x9*(parseInt(_0x2b5ea6(0x1af))/0xa);if(_0x36f307===_0x3e3b31)break;else _0x262453['push'](_0x262453['shift']());}catch(_0x3669c7){_0x262453['push'](_0x262453['shift']());}}}(a74_0x39d5,0x5539c));const a74_0x11b883=(function(){let _0x3ca9b5=!![];return function(_0x4fe260,_0xa4c239){const _0x21a4e2=_0x3ca9b5?function(){const _0x34f821=a74_0x326d;if(_0xa4c239){const _0x235f67=_0xa4c239[_0x34f821(0x1ce)](_0x4fe260,arguments);return _0xa4c239=null,_0x235f67;}}:function(){};return _0x3ca9b5=![],_0x21a4e2;};}()),a74_0x4d5030=a74_0x11b883(this,function(){const _0x202f39=a74_0x326d;return a74_0x4d5030[_0x202f39(0x1cd)]()['search'](_0x202f39(0x1d9))[_0x202f39(0x1cd)]()[_0x202f39(0x1a0)](a74_0x4d5030)[_0x202f39(0x1ba)](_0x202f39(0x1d9));});a74_0x4d5030();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x31bd48){return _0x31bd48&&_0x31bd48['__esModule']?_0x31bd48:{'default':_0x31bd48};};Object[a74_0x4854d0(0x1b8)](exports,a74_0x4854d0(0x1b9),{'value':!![]}),exports[a74_0x4854d0(0x1e0)]=void 0x0;const base_retrieve_1=require(a74_0x4854d0(0x1bf)),stream_1=require(a74_0x4854d0(0x198)),path_1=__importDefault(require('path')),utils_1=require(a74_0x4854d0(0x1c0)),promises_1=require(a74_0x4854d0(0x1dc)),fs_1=__importDefault(require('fs')),promises_2=require(a74_0x4854d0(0x1b2)),crypto_1=require('crypto'),csv_parse_1=require(a74_0x4854d0(0x1ae)),zlib_1=__importDefault(require('zlib')),job_detail_1=require(a74_0x4854d0(0x1d1));class BaseBulkRetrieve extends base_retrieve_1[a74_0x4854d0(0x1d2)]{async[a74_0x4854d0(0x1a6)](){const _0x1b3afd=a74_0x4854d0;var _0x3f9c08,_0x5a42c0;if(this[_0x1b3afd(0x1ad)]['getIsDone']()&&!((_0x3f9c08=this[_0x1b3afd(0x1b1)])===null||_0x3f9c08===void 0x0?void 0x0:_0x3f9c08[_0x1b3afd(0x19c)]())){this['push'](null);return;}if((_0x5a42c0=this[_0x1b3afd(0x1b1)])===null||_0x5a42c0===void 0x0?void 0x0:_0x5a42c0[_0x1b3afd(0x19c)]()){this[_0x1b3afd(0x1b1)][_0x1b3afd(0x1d4)]();return;}const _0x2ac0f5=await this['retrieve'][_0x1b3afd(0x1cc)]();if(!_0x2ac0f5)return this[_0x1b3afd(0x1a6)]();await this[_0x1b3afd(0x197)](_0x2ac0f5);}async[a74_0x4854d0(0x197)](_0x2561d5){const _0x386cc1=a74_0x4854d0,_0x4edbf9=path_1[_0x386cc1(0x1d3)]['join'](job_detail_1[_0x386cc1(0x1ca)],(0x0,crypto_1[_0x386cc1(0x1c5)])()),_0x2c7702=(0x0,crypto_1[_0x386cc1(0x1c5)])(),_0x49e690=await this['writeEncryptedTempFile'](_0x2561d5,_0x4edbf9,_0x2c7702)[_0x386cc1(0x1c2)](()=>this['readEncryptedTempFile'](_0x4edbf9,_0x2c7702)),_0x3464e8={'columns':!![],'cast':this[_0x386cc1(0x1c6)]['bind'](this)};this[_0x386cc1(0x1b1)]=(0x0,stream_1[_0x386cc1(0x1c8)])(_0x49e690,zlib_1['default'][_0x386cc1(0x19b)](),(0x0,csv_parse_1[_0x386cc1(0x1e2)])(_0x3464e8),this['pipelineCallback'][_0x386cc1(0x1ab)](this,_0x4edbf9)),this['csvParser']['on'](_0x386cc1(0x1cb),_0xbf74a2=>{const _0x521156=_0x386cc1;this['csvParser'][_0x521156(0x1d6)](),this[_0x521156(0x1db)](_0xbf74a2);}),this[_0x386cc1(0x1b1)]['on']('end',async()=>{const _0x527d30=_0x386cc1;return await utils_1['FsUtils']['isExistsPath'](_0x4edbf9)&&await(0x0,promises_1['rm'])(_0x4edbf9)[_0x527d30(0x1a3)](this[_0x527d30(0x1d7)][_0x527d30(0x1ab)](this,null)),this['_read']();}),this[_0x386cc1(0x1b1)]['on']('error',this['pipelineCallback'][_0x386cc1(0x1ab)](this,_0x4edbf9));}async[a74_0x4854d0(0x1dd)](_0x5a4bad,_0x476469,_0x18c55c){const _0x32e1e5=a74_0x4854d0,_0x481ac5=fs_1[_0x32e1e5(0x1d3)]['createWriteStream'](_0x476469);await(0x0,promises_2[_0x32e1e5(0x1c8)])(_0x5a4bad,utils_1['CryptoUtils'][_0x32e1e5(0x1c9)](_0x18c55c),_0x481ac5);}async[a74_0x4854d0(0x19d)](_0x1bbec8,_0x48c8d7){const _0x5044ad=a74_0x4854d0,_0x1af30a=fs_1['default'][_0x5044ad(0x1bb)](_0x1bbec8),_0x401c4=await this[_0x5044ad(0x1df)](_0x1af30a),_0x1d12bc=utils_1[_0x5044ad(0x1a9)][_0x5044ad(0x1a2)](_0x48c8d7,_0x401c4);return(0x0,stream_1[_0x5044ad(0x1c8)])(_0x1af30a,_0x1d12bc,this[_0x5044ad(0x1b3)][_0x5044ad(0x1ab)](this,_0x1bbec8));}async[a74_0x4854d0(0x1b3)](_0x3001d4,_0x2f90c4){const _0x4fa690=a74_0x4854d0;_0x2f90c4&&await this[_0x4fa690(0x1d7)](_0x3001d4,_0x2f90c4);}async[a74_0x4854d0(0x1d7)](_0x564550,_0x5f1c0b){const _0x490c69=a74_0x4854d0;_0x564550&&await utils_1[_0x490c69(0x1ac)][_0x490c69(0x1a8)](_0x564550)&&await(0x0,promises_1['rm'])(_0x564550)[_0x490c69(0x1a3)](_0x4f7a98=>job_detail_1[_0x490c69(0x1d0)][_0x490c69(0x19e)](_0x4f7a98)),this[_0x490c69(0x1a1)](_0x5f1c0b);}async[a74_0x4854d0(0x1df)](_0x540933){return new Promise((_0x465037,_0x30efef)=>{const _0x7a1675=a74_0x326d;_0x540933[_0x7a1675(0x1b7)](_0x7a1675(0x19e),_0x30efef),_0x540933[_0x7a1675(0x1b7)](_0x7a1675(0x1aa),()=>{const _0x32f024=_0x7a1675,_0x4ae112=_0x540933[_0x32f024(0x1da)](0x10);_0x465037(_0x4ae112);});});}[a74_0x4854d0(0x1c6)](_0x2412fc,{header:_0x365e55,column:_0x3f3bf2}){const _0x991dfe=a74_0x4854d0;!this[_0x991dfe(0x19a)]&&(this[_0x991dfe(0x19a)]=this[_0x991dfe(0x1c7)][_0x991dfe(0x1bd)][_0x991dfe(0x1a7)]((_0x28b465,{name:_0x2f0692,type:_0x5a09a6})=>_0x28b465['set'](_0x2f0692,_0x5a09a6),new Map()));if(_0x365e55)return _0x2412fc;if(!_0x2412fc)return null;switch(this[_0x991dfe(0x19a)][_0x991dfe(0x1cf)](_0x3f3bf2)){case _0x991dfe(0x1d5):return _0x2412fc[_0x991dfe(0x1c3)](/\.\d{3}Z$/,_0x991dfe(0x199));case _0x991dfe(0x1de):return _0x2412fc==='true';case _0x991dfe(0x19f):case _0x991dfe(0x1e1):case _0x991dfe(0x1a5):case _0x991dfe(0x1bc):return+_0x2412fc;default:return _0x2412fc;}}}function a74_0x326d(_0x57b2f3,_0x590731){const _0x21e49c=a74_0x39d5();return a74_0x326d=function(_0x4d5030,_0x11b883){_0x4d5030=_0x4d5030-0x197;let _0x39d5cd=_0x21e49c[_0x4d5030];return _0x39d5cd;},a74_0x326d(_0x57b2f3,_0x590731);}exports[a74_0x4854d0(0x1e0)]=BaseBulkRetrieve,BaseBulkRetrieve['POLL_INTERVAL']=0x1388;