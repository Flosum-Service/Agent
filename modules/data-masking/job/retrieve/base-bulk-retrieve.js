const a75_0x48135a=a75_0xb38d;(function(_0x5975d3,_0x1c6560){const _0x4da297=a75_0xb38d,_0x146653=_0x5975d3();while(!![]){try{const _0x3e5964=-parseInt(_0x4da297(0x1df))/0x1*(parseInt(_0x4da297(0x203))/0x2)+-parseInt(_0x4da297(0x1c2))/0x3+-parseInt(_0x4da297(0x200))/0x4*(-parseInt(_0x4da297(0x1f3))/0x5)+-parseInt(_0x4da297(0x1d0))/0x6*(parseInt(_0x4da297(0x1e8))/0x7)+parseInt(_0x4da297(0x1f4))/0x8+parseInt(_0x4da297(0x1fd))/0x9+parseInt(_0x4da297(0x1e3))/0xa;if(_0x3e5964===_0x1c6560)break;else _0x146653['push'](_0x146653['shift']());}catch(_0x5c9a9c){_0x146653['push'](_0x146653['shift']());}}}(a75_0x58da,0x19fd1));const a75_0x3e16a0=(function(){let _0x45dad6=!![];return function(_0x3e3807,_0x3de60b){const _0x5764ce=_0x45dad6?function(){const _0xd10a55=a75_0xb38d;if(_0x3de60b){const _0xb5ffe0=_0x3de60b[_0xd10a55(0x1ce)](_0x3e3807,arguments);return _0x3de60b=null,_0xb5ffe0;}}:function(){};return _0x45dad6=![],_0x5764ce;};}()),a75_0x159dc6=a75_0x3e16a0(this,function(){const _0x246d7e=a75_0xb38d;return a75_0x159dc6['toString']()['search']('(((.+)+)+)+$')[_0x246d7e(0x1dc)]()[_0x246d7e(0x1e6)](a75_0x159dc6)[_0x246d7e(0x1e0)](_0x246d7e(0x1bc));});function a75_0xb38d(_0xd55291,_0x144e80){const _0x159588=a75_0x58da();return a75_0xb38d=function(_0x159dc6,_0x3e16a0){_0x159dc6=_0x159dc6-0x1bc;let _0x58da1a=_0x159588[_0x159dc6];return _0x58da1a;},a75_0xb38d(_0xd55291,_0x144e80);}a75_0x159dc6();function a75_0x58da(){const _0x239a52=['randomUUID','../../constants','fs/promises','pipelineCallback','getIsDone','createReadStream','csvParser','createDecryptPipe','toString','path','readEncryptedTempFile','52541kKKlwI','search','createEncryptPipe','default','174130SNMdgc','stream/promises','end','constructor','fields','399GgTOva','double','./base-retrieve','percent','push','csv-parse','_read','resume','_fieldsTypes','@flosum/salesforce','FsUtils','515XPpTpN','920824KdOkQW','BaseBulkRetrieve','request','execute','createWriteStream','reduce','readEncryptionVector','createReader','../job-detail','615843HnTeev','error','castCsvValue','7152xyANeK','BulkV1QueryContentType','pull','4FWcMKn','SALESFORCE_API_VERSION','boolean','data','CryptoUtils','__importDefault','datetime','pipeline','POLL_INTERVAL','bind','true','handleError','(((.+)+)+)+$','TEXT_CSV','once','get','catch','isPaused','452157PnfpDC','writeEncryptedTempFile','destroy','currency','set','read','replace','join','@flosum/utils','BaseRetrieve','systemLogger','isExistsPath','apply','pause','2406AywWje','parse','retrieve','int'];a75_0x58da=function(){return _0x239a52;};return a75_0x58da();}'use strict';var __importDefault=this&&this[a75_0x48135a(0x208)]||function(_0x57aee5){return _0x57aee5&&_0x57aee5['__esModule']?_0x57aee5:{'default':_0x57aee5};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a75_0x48135a(0x1f5)]=void 0x0;const base_retrieve_1=require(a75_0x48135a(0x1ea)),stream_1=require('stream'),path_1=__importDefault(require(a75_0x48135a(0x1dd))),utils_1=require(a75_0x48135a(0x1ca)),promises_1=require(a75_0x48135a(0x1d6)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x48135a(0x1e4)),crypto_1=require('crypto'),csv_parse_1=require(a75_0x48135a(0x1ed)),salesforce_1=require(a75_0x48135a(0x1f1)),job_detail_1=require(a75_0x48135a(0x1fc)),constants_1=require(a75_0x48135a(0x1d5));class BaseBulkRetrieve extends base_retrieve_1[a75_0x48135a(0x1cb)]{get['baseRetrievePayload'](){const _0xbb4676=a75_0x48135a;return{'queryBuilder':this['queryBuilder'],'instance':this[_0xbb4676(0x1f6)],'api':constants_1[_0xbb4676(0x204)],'contentType':salesforce_1[_0xbb4676(0x201)][_0xbb4676(0x1bd)]};}async[a75_0x48135a(0x202)](){const _0xc66bd=a75_0x48135a;var _0x24116b,_0x11854c;if(this[_0xc66bd(0x1d2)][_0xc66bd(0x1d8)]()&&!((_0x24116b=this[_0xc66bd(0x1da)])===null||_0x24116b===void 0x0?void 0x0:_0x24116b[_0xc66bd(0x1c1)]())){this[_0xc66bd(0x1ec)](null);return;}if((_0x11854c=this[_0xc66bd(0x1da)])===null||_0x11854c===void 0x0?void 0x0:_0x11854c['isPaused']()){this[_0xc66bd(0x1da)][_0xc66bd(0x1ef)]();return;}const _0x4bde18=await this[_0xc66bd(0x1d2)][_0xc66bd(0x1f7)]();if(!_0x4bde18)return this['pull']();await this[_0xc66bd(0x1fb)](_0x4bde18);}async[a75_0x48135a(0x1fb)](_0x4c0381){const _0x189106=a75_0x48135a,_0x1531aa=path_1[_0x189106(0x1e2)][_0x189106(0x1c9)](job_detail_1['jobStorePath'],(0x0,crypto_1[_0x189106(0x1d4)])()),_0x5cc5f6=(0x0,crypto_1[_0x189106(0x1d4)])(),_0x5a7a4a=await this[_0x189106(0x1c3)](_0x4c0381,_0x1531aa,_0x5cc5f6)['then'](()=>this[_0x189106(0x1de)](_0x1531aa,_0x5cc5f6)),_0x11da9f={'columns':!![],'cast':this['castCsvValue']['bind'](this)};this[_0x189106(0x1da)]=(0x0,stream_1['pipeline'])(_0x5a7a4a,(0x0,csv_parse_1[_0x189106(0x1d1)])(_0x11da9f),this['pipelineCallback'][_0x189106(0x20c)](this,_0x1531aa)),this[_0x189106(0x1da)]['on'](_0x189106(0x206),_0x51b718=>{const _0x993a0b=_0x189106;this[_0x993a0b(0x1da)][_0x993a0b(0x1cf)](),this[_0x993a0b(0x1ec)](_0x51b718);}),this[_0x189106(0x1da)]['on'](_0x189106(0x1e5),async()=>{const _0x4e38b8=_0x189106;return await utils_1[_0x4e38b8(0x1f2)][_0x4e38b8(0x1cd)](_0x1531aa)&&await(0x0,promises_1['rm'])(_0x1531aa)[_0x4e38b8(0x1c0)](this[_0x4e38b8(0x20e)]['bind'](this,null)),this[_0x4e38b8(0x1ee)]();}),this[_0x189106(0x1da)]['on'](_0x189106(0x1fe),this[_0x189106(0x1d7)][_0x189106(0x20c)](this,_0x1531aa));}async[a75_0x48135a(0x1c3)](_0x5718dd,_0x440f96,_0x22fbe7){const _0x3265e3=a75_0x48135a,_0x30b159=fs_1['default'][_0x3265e3(0x1f8)](_0x440f96);await(0x0,promises_2[_0x3265e3(0x20a)])(_0x5718dd,utils_1[_0x3265e3(0x207)][_0x3265e3(0x1e1)](_0x22fbe7),_0x30b159);}async['readEncryptedTempFile'](_0x90c8ec,_0x4d9673){const _0x540196=a75_0x48135a,_0x334187=fs_1[_0x540196(0x1e2)][_0x540196(0x1d9)](_0x90c8ec),_0x3204fc=await this[_0x540196(0x1fa)](_0x334187),_0x1411b2=utils_1[_0x540196(0x207)][_0x540196(0x1db)](_0x4d9673,_0x3204fc);return(0x0,stream_1[_0x540196(0x20a)])(_0x334187,_0x1411b2,this[_0x540196(0x1d7)][_0x540196(0x20c)](this,_0x90c8ec));}async['pipelineCallback'](_0x58bb4f,_0x49a93e){const _0x5a746b=a75_0x48135a;_0x49a93e&&await this[_0x5a746b(0x20e)](_0x58bb4f,_0x49a93e);}async[a75_0x48135a(0x20e)](_0x300008,_0x385e05){const _0x166c07=a75_0x48135a;_0x300008&&await utils_1['FsUtils']['isExistsPath'](_0x300008)&&await(0x0,promises_1['rm'])(_0x300008)['catch'](_0x479275=>job_detail_1[_0x166c07(0x1cc)]['error'](_0x479275)),this[_0x166c07(0x1c4)](_0x385e05);}async[a75_0x48135a(0x1fa)](_0x119158){return new Promise((_0x2124fd,_0x3e2b61)=>{const _0x487495=a75_0xb38d;_0x119158['once'](_0x487495(0x1fe),_0x3e2b61),_0x119158[_0x487495(0x1be)]('readable',()=>{const _0x4fdfab=_0x487495,_0xdabee0=_0x119158[_0x4fdfab(0x1c7)](0x10);_0x2124fd(_0xdabee0);});});}[a75_0x48135a(0x1ff)](_0x56d6b3,{header:_0xb3b442,column:_0x5f3e9a}){const _0x39244a=a75_0x48135a;!this[_0x39244a(0x1f0)]&&(this[_0x39244a(0x1f0)]=this['describe'][_0x39244a(0x1e7)][_0x39244a(0x1f9)]((_0x222db2,{name:_0x147bb2,type:_0x24a92e})=>_0x222db2[_0x39244a(0x1c6)](_0x147bb2,_0x24a92e),new Map()));if(_0xb3b442)return _0x56d6b3;if(!_0x56d6b3)return null;switch(this[_0x39244a(0x1f0)][_0x39244a(0x1bf)](_0x5f3e9a)){case _0x39244a(0x209):return _0x56d6b3[_0x39244a(0x1c8)](/\.\d{3}Z$/,'.000+0000');case _0x39244a(0x205):return _0x56d6b3===_0x39244a(0x20d);case _0x39244a(0x1c5):case _0x39244a(0x1e9):case _0x39244a(0x1d3):case _0x39244a(0x1eb):return+_0x56d6b3;default:return _0x56d6b3;}}}exports[a75_0x48135a(0x1f5)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x48135a(0x20b)]=0x1388;