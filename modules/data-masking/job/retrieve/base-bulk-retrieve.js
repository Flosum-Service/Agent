function a74_0x1526(){const _0x5c1b8a=['replace','2559000FyYgBv','pipelineCallback','percent','createUnzip','csvParser','readable','createEncryptPipe','then','randomUUID','jobStorePath','apply','(((.+)+)+)+$','@flosum/utils','search','FsUtils','createDecryptPipe','writeEncryptedTempFile','isPaused','160OwlXIq','createWriteStream','112419MOpoog','castCsvValue','452178dlJasn','_fieldsTypes','systemLogger','zlib','BaseRetrieve','pull','reduce','../job-detail','256LfrTzq','error','join','boolean','push','4AvgmeG','get','stream','readEncryptedTempFile','POLL_INTERVAL','retrieve','destroy','createReader','385300AirLFc','execute','catch','fields','330451ILaBQu','int','CryptoUtils','__esModule','isExistsPath','2369rnwujn','data','read','readEncryptionVector','pipeline','once','csv-parse','__importDefault','createReadStream','fs/promises','crypto','getIsDone','51186cKDgZp','default','bind','handleError','161yhtRSY','set','toString','constructor','stream/promises','.000+0000','50bGimQn'];a74_0x1526=function(){return _0x5c1b8a;};return a74_0x1526();}const a74_0x36dd48=a74_0x3daa;(function(_0x3173e7,_0x546820){const _0x32e0d4=a74_0x3daa,_0x3d1d9b=_0x3173e7();while(!![]){try{const _0x378ac5=parseInt(_0x32e0d4(0x1a9))/0x1*(parseInt(_0x32e0d4(0x1df))/0x2)+-parseInt(_0x32e0d4(0x1d7))/0x3*(parseInt(_0x32e0d4(0x198))/0x4)+parseInt(_0x32e0d4(0x1a0))/0x5+-parseInt(_0x32e0d4(0x1b5))/0x6*(parseInt(_0x32e0d4(0x1b9))/0x7)+parseInt(_0x32e0d4(0x1d3))/0x8*(parseInt(_0x32e0d4(0x1d5))/0x9)+-parseInt(_0x32e0d4(0x1bf))/0xa*(-parseInt(_0x32e0d4(0x1a4))/0xb)+-parseInt(_0x32e0d4(0x1c1))/0xc;if(_0x378ac5===_0x546820)break;else _0x3d1d9b['push'](_0x3d1d9b['shift']());}catch(_0x10fe84){_0x3d1d9b['push'](_0x3d1d9b['shift']());}}}(a74_0x1526,0x35be0));function a74_0x3daa(_0x3ce377,_0x10c941){const _0x259b0e=a74_0x1526();return a74_0x3daa=function(_0x1ea16f,_0x3c3ee5){_0x1ea16f=_0x1ea16f-0x198;let _0x1526fa=_0x259b0e[_0x1ea16f];return _0x1526fa;},a74_0x3daa(_0x3ce377,_0x10c941);}const a74_0x3c3ee5=(function(){let _0x45dde3=!![];return function(_0x10c8be,_0x182842){const _0x23326f=_0x45dde3?function(){const _0x388a18=a74_0x3daa;if(_0x182842){const _0x466f26=_0x182842[_0x388a18(0x1cb)](_0x10c8be,arguments);return _0x182842=null,_0x466f26;}}:function(){};return _0x45dde3=![],_0x23326f;};}()),a74_0x1ea16f=a74_0x3c3ee5(this,function(){const _0xd9aa16=a74_0x3daa;return a74_0x1ea16f[_0xd9aa16(0x1bb)]()['search'](_0xd9aa16(0x1cc))[_0xd9aa16(0x1bb)]()[_0xd9aa16(0x1bc)](a74_0x1ea16f)[_0xd9aa16(0x1ce)](_0xd9aa16(0x1cc));});a74_0x1ea16f();'use strict';var __importDefault=this&&this[a74_0x36dd48(0x1b0)]||function(_0x4f7589){return _0x4f7589&&_0x4f7589['__esModule']?_0x4f7589:{'default':_0x4f7589};};Object['defineProperty'](exports,a74_0x36dd48(0x1a7),{'value':!![]}),exports['BaseBulkRetrieve']=void 0x0;const base_retrieve_1=require('./base-retrieve'),stream_1=require(a74_0x36dd48(0x19a)),path_1=__importDefault(require('path')),utils_1=require(a74_0x36dd48(0x1cd)),promises_1=require(a74_0x36dd48(0x1b2)),fs_1=__importDefault(require('fs')),promises_2=require(a74_0x36dd48(0x1bd)),crypto_1=require(a74_0x36dd48(0x1b3)),csv_parse_1=require(a74_0x36dd48(0x1af)),zlib_1=__importDefault(require(a74_0x36dd48(0x1da))),job_detail_1=require(a74_0x36dd48(0x1de));class BaseBulkRetrieve extends base_retrieve_1[a74_0x36dd48(0x1db)]{async['pull'](){const _0x609f1d=a74_0x36dd48;var _0x3776cb,_0x4d0f34;if(this['retrieve'][_0x609f1d(0x1b4)]()&&!((_0x3776cb=this[_0x609f1d(0x1c5)])===null||_0x3776cb===void 0x0?void 0x0:_0x3776cb[_0x609f1d(0x1d2)]())){this['push'](null);return;}if((_0x4d0f34=this['csvParser'])===null||_0x4d0f34===void 0x0?void 0x0:_0x4d0f34[_0x609f1d(0x1d2)]()){this['csvParser']['resume']();return;}const _0x120630=await this[_0x609f1d(0x19d)][_0x609f1d(0x1a1)]();if(!_0x120630)return this[_0x609f1d(0x1dc)]();await this[_0x609f1d(0x19f)](_0x120630);}async[a74_0x36dd48(0x19f)](_0x367865){const _0xb1325e=a74_0x36dd48,_0x49da6e=path_1[_0xb1325e(0x1b6)][_0xb1325e(0x1e1)](job_detail_1[_0xb1325e(0x1ca)],(0x0,crypto_1[_0xb1325e(0x1c9)])()),_0x53ed52=(0x0,crypto_1[_0xb1325e(0x1c9)])(),_0x2b72cd=await this[_0xb1325e(0x1d1)](_0x367865,_0x49da6e,_0x53ed52)[_0xb1325e(0x1c8)](()=>this[_0xb1325e(0x19b)](_0x49da6e,_0x53ed52)),_0x33433f={'columns':!![],'cast':this[_0xb1325e(0x1d6)][_0xb1325e(0x1b7)](this)};this[_0xb1325e(0x1c5)]=(0x0,stream_1['pipeline'])(_0x2b72cd,zlib_1[_0xb1325e(0x1b6)][_0xb1325e(0x1c4)](),(0x0,csv_parse_1['parse'])(_0x33433f),this[_0xb1325e(0x1c2)][_0xb1325e(0x1b7)](this,_0x49da6e)),this[_0xb1325e(0x1c5)]['on'](_0xb1325e(0x1aa),_0x2f8a35=>{const _0x58665f=_0xb1325e;this[_0x58665f(0x1c5)]['pause'](),this[_0x58665f(0x1e3)](_0x2f8a35);}),this[_0xb1325e(0x1c5)]['on']('end',async()=>{const _0xbcca6=_0xb1325e;return await utils_1[_0xbcca6(0x1cf)][_0xbcca6(0x1a8)](_0x49da6e)&&await(0x0,promises_1['rm'])(_0x49da6e)['catch'](this[_0xbcca6(0x1b8)]['bind'](this,null)),this['_read']();}),this[_0xb1325e(0x1c5)]['on'](_0xb1325e(0x1e0),this[_0xb1325e(0x1c2)][_0xb1325e(0x1b7)](this,_0x49da6e));}async['writeEncryptedTempFile'](_0x3c9efc,_0x27e65a,_0x49cf37){const _0x53b807=a74_0x36dd48,_0x5326d6=fs_1['default'][_0x53b807(0x1d4)](_0x27e65a);await(0x0,promises_2[_0x53b807(0x1ad)])(_0x3c9efc,utils_1[_0x53b807(0x1a6)][_0x53b807(0x1c7)](_0x49cf37),_0x5326d6);}async[a74_0x36dd48(0x19b)](_0x45c324,_0x2c38ae){const _0x1b4214=a74_0x36dd48,_0x17a32b=fs_1['default'][_0x1b4214(0x1b1)](_0x45c324),_0x459dd9=await this[_0x1b4214(0x1ac)](_0x17a32b),_0x31b9ce=utils_1['CryptoUtils'][_0x1b4214(0x1d0)](_0x2c38ae,_0x459dd9);return(0x0,stream_1['pipeline'])(_0x17a32b,_0x31b9ce,this[_0x1b4214(0x1c2)][_0x1b4214(0x1b7)](this,_0x45c324));}async[a74_0x36dd48(0x1c2)](_0x4c6058,_0x245315){_0x245315&&await this['handleError'](_0x4c6058,_0x245315);}async[a74_0x36dd48(0x1b8)](_0x2d3db3,_0x5a3eca){const _0x566ac7=a74_0x36dd48;_0x2d3db3&&await utils_1[_0x566ac7(0x1cf)][_0x566ac7(0x1a8)](_0x2d3db3)&&await(0x0,promises_1['rm'])(_0x2d3db3)[_0x566ac7(0x1a2)](_0x48efdc=>job_detail_1[_0x566ac7(0x1d9)]['error'](_0x48efdc)),this[_0x566ac7(0x19e)](_0x5a3eca);}async[a74_0x36dd48(0x1ac)](_0x108810){return new Promise((_0xb14303,_0x30e2ef)=>{const _0x2398c0=a74_0x3daa;_0x108810[_0x2398c0(0x1ae)](_0x2398c0(0x1e0),_0x30e2ef),_0x108810[_0x2398c0(0x1ae)](_0x2398c0(0x1c6),()=>{const _0x77348c=_0x2398c0,_0x391598=_0x108810[_0x77348c(0x1ab)](0x10);_0xb14303(_0x391598);});});}[a74_0x36dd48(0x1d6)](_0x7bb62c,{header:_0x39a4bd,column:_0x1f3022}){const _0x502862=a74_0x36dd48;!this[_0x502862(0x1d8)]&&(this[_0x502862(0x1d8)]=this['describe'][_0x502862(0x1a3)][_0x502862(0x1dd)]((_0x34036b,{name:_0x28719b,type:_0x479f9a})=>_0x34036b[_0x502862(0x1ba)](_0x28719b,_0x479f9a),new Map()));if(_0x39a4bd)return _0x7bb62c;if(!_0x7bb62c)return null;switch(this[_0x502862(0x1d8)][_0x502862(0x199)](_0x1f3022)){case'datetime':return _0x7bb62c[_0x502862(0x1c0)](/\.\d{3}Z$/,_0x502862(0x1be));case _0x502862(0x1e2):return _0x7bb62c==='true';case'currency':case'double':case _0x502862(0x1a5):case _0x502862(0x1c3):return+_0x7bb62c;default:return _0x7bb62c;}}}exports['BaseBulkRetrieve']=BaseBulkRetrieve,BaseBulkRetrieve[a74_0x36dd48(0x19c)]=0x1388;