const a75_0x307dae=a75_0x4f9a;(function(_0x448cb5,_0x1ba344){const _0x3fc484=a75_0x4f9a,_0x2fd8c1=_0x448cb5();while(!![]){try{const _0x12f2d6=parseInt(_0x3fc484(0x197))/0x1*(-parseInt(_0x3fc484(0x15c))/0x2)+parseInt(_0x3fc484(0x199))/0x3+-parseInt(_0x3fc484(0x18b))/0x4+parseInt(_0x3fc484(0x156))/0x5+parseInt(_0x3fc484(0x157))/0x6*(parseInt(_0x3fc484(0x14f))/0x7)+-parseInt(_0x3fc484(0x19f))/0x8*(parseInt(_0x3fc484(0x16b))/0x9)+-parseInt(_0x3fc484(0x16c))/0xa*(-parseInt(_0x3fc484(0x164))/0xb);if(_0x12f2d6===_0x1ba344)break;else _0x2fd8c1['push'](_0x2fd8c1['shift']());}catch(_0x238bc8){_0x2fd8c1['push'](_0x2fd8c1['shift']());}}}(a75_0x49f5,0x23b4d));const a75_0x4275dd=(function(){let _0x3e317c=!![];return function(_0x18f882,_0x4b2372){const _0x53e131=_0x3e317c?function(){if(_0x4b2372){const _0x5bc28a=_0x4b2372['apply'](_0x18f882,arguments);return _0x4b2372=null,_0x5bc28a;}}:function(){};return _0x3e317c=![],_0x53e131;};}()),a75_0x296ba1=a75_0x4275dd(this,function(){const _0x1aa2c0=a75_0x4f9a;return a75_0x296ba1[_0x1aa2c0(0x14e)]()[_0x1aa2c0(0x175)](_0x1aa2c0(0x151))[_0x1aa2c0(0x14e)]()[_0x1aa2c0(0x167)](a75_0x296ba1)['search']('(((.+)+)+)+$');});a75_0x296ba1();'use strict';var __importDefault=this&&this[a75_0x307dae(0x190)]||function(_0x21cfc7){const _0x12e83d=a75_0x307dae;return _0x21cfc7&&_0x21cfc7[_0x12e83d(0x180)]?_0x21cfc7:{'default':_0x21cfc7};};function a75_0x4f9a(_0x480779,_0x245844){const _0x5a401c=a75_0x49f5();return a75_0x4f9a=function(_0x296ba1,_0x4275dd){_0x296ba1=_0x296ba1-0x14e;let _0x49f516=_0x5a401c[_0x296ba1];return _0x49f516;},a75_0x4f9a(_0x480779,_0x245844);}function a75_0x49f5(){const _0x5722e9=['createReadStream','stream','queryBuilder','push','end','csv-parse','currency','2301959iBfPKw','pipeline','POLL_INTERVAL','constructor','double','describe','data','149022okWcIM','10ZjpiKA','catch','boolean','createDecryptPipe','../job-detail','readEncryptionVector','BaseBulkRetrieve','stream/promises','BulkV1QueryContentType','search','set','path','crypto','_fieldsTypes','pause','true','get','writeEncryptedTempFile','FsUtils','int','__esModule','replace','percent','once','isExistsPath','TEXT_CSV','castCsvValue','jobStorePath','@flosum/utils','isPaused','fields','462020FQTfPG','.000+0000','pipelineCallback','handleError','createWriteStream','__importDefault','../../constants','parse','createEncryptPipe','./base-retrieve','error','csvParser','88BifoFc','execute','344691KMxlge','read','CryptoUtils','readEncryptedTempFile','join','fs/promises','136JjFTYH','randomUUID','default','BaseRetrieve','toString','1896538ANskFj','request','(((.+)+)+)+$','readable','createReader','defineProperty','retrieve','860960BjILAK','6MdpljT','then','reduce','pull','bind','5092HhEEWC'];a75_0x49f5=function(){return _0x5722e9;};return a75_0x49f5();}Object[a75_0x307dae(0x154)](exports,a75_0x307dae(0x180),{'value':!![]}),exports[a75_0x307dae(0x172)]=void 0x0;const base_retrieve_1=require(a75_0x307dae(0x194)),stream_1=require(a75_0x307dae(0x15e)),path_1=__importDefault(require(a75_0x307dae(0x177))),utils_1=require(a75_0x307dae(0x188)),promises_1=require(a75_0x307dae(0x19e)),fs_1=__importDefault(require('fs')),promises_2=require(a75_0x307dae(0x173)),crypto_1=require(a75_0x307dae(0x178)),csv_parse_1=require(a75_0x307dae(0x162)),salesforce_1=require('@flosum/salesforce'),job_detail_1=require(a75_0x307dae(0x170)),constants_1=require(a75_0x307dae(0x191));class BaseBulkRetrieve extends base_retrieve_1[a75_0x307dae(0x1a2)]{get['baseRetrievePayload'](){const _0x18ea80=a75_0x307dae;return{'queryBuilder':this[_0x18ea80(0x15f)],'instance':this[_0x18ea80(0x150)],'api':constants_1['SALESFORCE_API_VERSION'],'contentType':salesforce_1[_0x18ea80(0x174)][_0x18ea80(0x185)]};}async[a75_0x307dae(0x15a)](){const _0x5068af=a75_0x307dae;var _0x2f862b,_0x10fbfb;if(this[_0x5068af(0x155)]['getIsDone']()&&!((_0x2f862b=this[_0x5068af(0x196)])===null||_0x2f862b===void 0x0?void 0x0:_0x2f862b[_0x5068af(0x189)]())){this[_0x5068af(0x160)](null);return;}if((_0x10fbfb=this['csvParser'])===null||_0x10fbfb===void 0x0?void 0x0:_0x10fbfb['isPaused']()){this[_0x5068af(0x196)]['resume']();return;}const _0xb8a4a8=await this[_0x5068af(0x155)][_0x5068af(0x198)]();if(!_0xb8a4a8)return this['pull']();await this[_0x5068af(0x153)](_0xb8a4a8);}async[a75_0x307dae(0x153)](_0x2e7f89){const _0x1477ad=a75_0x307dae,_0x39039f=path_1[_0x1477ad(0x1a1)][_0x1477ad(0x19d)](job_detail_1[_0x1477ad(0x187)],(0x0,crypto_1[_0x1477ad(0x1a0)])()),_0x5b1857=(0x0,crypto_1[_0x1477ad(0x1a0)])(),_0x20d473=await this['writeEncryptedTempFile'](_0x2e7f89,_0x39039f,_0x5b1857)[_0x1477ad(0x158)](()=>this[_0x1477ad(0x19c)](_0x39039f,_0x5b1857)),_0x29f95e={'columns':!![],'cast':this[_0x1477ad(0x186)]['bind'](this)};this[_0x1477ad(0x196)]=(0x0,stream_1[_0x1477ad(0x165)])(_0x20d473,(0x0,csv_parse_1[_0x1477ad(0x192)])(_0x29f95e),this[_0x1477ad(0x18d)][_0x1477ad(0x15b)](this,_0x39039f)),this[_0x1477ad(0x196)]['on'](_0x1477ad(0x16a),_0x37da24=>{const _0x1e2290=_0x1477ad;this[_0x1e2290(0x196)][_0x1e2290(0x17a)](),this[_0x1e2290(0x160)](_0x37da24);}),this[_0x1477ad(0x196)]['on'](_0x1477ad(0x161),async()=>{const _0x40d408=_0x1477ad;return await utils_1[_0x40d408(0x17e)][_0x40d408(0x184)](_0x39039f)&&await(0x0,promises_1['rm'])(_0x39039f)[_0x40d408(0x16d)](this[_0x40d408(0x18e)]['bind'](this,null)),this['_read']();}),this[_0x1477ad(0x196)]['on'](_0x1477ad(0x195),this[_0x1477ad(0x18d)][_0x1477ad(0x15b)](this,_0x39039f));}async[a75_0x307dae(0x17d)](_0x2bf414,_0x29a4ad,_0x3cd84c){const _0x2fd6c4=a75_0x307dae,_0x13051b=fs_1[_0x2fd6c4(0x1a1)][_0x2fd6c4(0x18f)](_0x29a4ad);await(0x0,promises_2[_0x2fd6c4(0x165)])(_0x2bf414,utils_1[_0x2fd6c4(0x19b)][_0x2fd6c4(0x193)](_0x3cd84c),_0x13051b);}async[a75_0x307dae(0x19c)](_0x297593,_0x2e1bae){const _0x30a8b7=a75_0x307dae,_0x8fc6f=fs_1[_0x30a8b7(0x1a1)][_0x30a8b7(0x15d)](_0x297593),_0xd731b6=await this['readEncryptionVector'](_0x8fc6f),_0xea5139=utils_1[_0x30a8b7(0x19b)][_0x30a8b7(0x16f)](_0x2e1bae,_0xd731b6);return(0x0,stream_1[_0x30a8b7(0x165)])(_0x8fc6f,_0xea5139,this[_0x30a8b7(0x18d)][_0x30a8b7(0x15b)](this,_0x297593));}async['pipelineCallback'](_0x40122e,_0xb73b7f){_0xb73b7f&&await this['handleError'](_0x40122e,_0xb73b7f);}async[a75_0x307dae(0x18e)](_0x2df4ed,_0x377021){const _0x1cd4a6=a75_0x307dae;_0x2df4ed&&await utils_1[_0x1cd4a6(0x17e)][_0x1cd4a6(0x184)](_0x2df4ed)&&await(0x0,promises_1['rm'])(_0x2df4ed)['catch'](_0x2b12c4=>job_detail_1['systemLogger']['error'](_0x2b12c4)),this['destroy'](_0x377021);}async[a75_0x307dae(0x171)](_0x3d3f31){return new Promise((_0x1009e5,_0x559372)=>{const _0x282d50=a75_0x4f9a;_0x3d3f31[_0x282d50(0x183)](_0x282d50(0x195),_0x559372),_0x3d3f31[_0x282d50(0x183)](_0x282d50(0x152),()=>{const _0x327e27=_0x282d50,_0x2b6a52=_0x3d3f31[_0x327e27(0x19a)](0x10);_0x1009e5(_0x2b6a52);});});}[a75_0x307dae(0x186)](_0x11aee5,{header:_0x2a4203,column:_0x291b12}){const _0x565ae1=a75_0x307dae;!this['_fieldsTypes']&&(this[_0x565ae1(0x179)]=this[_0x565ae1(0x169)][_0x565ae1(0x18a)][_0x565ae1(0x159)]((_0x15086c,{name:_0x1802b9,type:_0x5df3e1})=>_0x15086c[_0x565ae1(0x176)](_0x1802b9,_0x5df3e1),new Map()));if(_0x2a4203)return _0x11aee5;if(!_0x11aee5)return null;switch(this[_0x565ae1(0x179)][_0x565ae1(0x17c)](_0x291b12)){case'datetime':return _0x11aee5[_0x565ae1(0x181)](/\.\d{3}Z$/,_0x565ae1(0x18c));case _0x565ae1(0x16e):return _0x11aee5===_0x565ae1(0x17b);case _0x565ae1(0x163):case _0x565ae1(0x168):case _0x565ae1(0x17f):case _0x565ae1(0x182):return+_0x11aee5;default:return _0x11aee5;}}}exports[a75_0x307dae(0x172)]=BaseBulkRetrieve,BaseBulkRetrieve[a75_0x307dae(0x166)]=0x1388;