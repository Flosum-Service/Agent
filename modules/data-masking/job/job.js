function a88_0x241c(){const _0x10cc14=['14569362zqiuHd','jobId','from','initAutomationProcess','_loggerDetails','_loggerJobState','masking','190772zLJJaL','disableAutomation','__esModule','13170cqDkcK','push','exit','join','disableAutomationProcess','Start\x20Masking\x20Process','path','JobStatus','Enable\x20automation\x20process','kill','_maskingManifest','getManagerAutomationProcessOptions','(((.+)+)+)+$','1124957TlbBoO','utf-8','1163920LwELsm','toString','Disable\x20automation\x20process','catch','details','error','_request','MaskingJob','904648DteCHx','IN_PROGRESS','LoggerJobState','StepsCreator','execute','Finish\x20Masking\x20Process','AuthManager','ManagerAutomationProcess','keys','enableAutomationProcess','_managerAutomationProcess','parse','AxiosInstanceUtils','setJobError','FAILED','default','COMPLETED','base64','log','saveSourceAutomationProcessesBackup','exception','../../shared/managers/auth.manager','LoggerDetails','then','systemLogger','581OygHXc','./classes/step/steps-creator','fs/promises','_isEnableAutomationProcessError','MANIFEST_FILENAME','./classes/logger/logger-job-state','enable','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','setJobStatus','jobStorePath','135662krxEHo','9GlxAVM','./classes/logger/logger-details','search','message'];a88_0x241c=function(){return _0x10cc14;};return a88_0x241c();}const a88_0x1afb47=a88_0x32c7;(function(_0xe0fc91,_0x3e3765){const _0x59e5e4=a88_0x32c7,_0x12a35d=_0xe0fc91();while(!![]){try{const _0x5ad940=-parseInt(_0x59e5e4(0xcc))/0x1+-parseInt(_0x59e5e4(0xb0))/0x2*(-parseInt(_0x59e5e4(0xb1))/0x3)+parseInt(_0x59e5e4(0xbc))/0x4+-parseInt(_0x59e5e4(0xce))/0x5+parseInt(_0x59e5e4(0xbf))/0x6*(parseInt(_0x59e5e4(0xa6))/0x7)+-parseInt(_0x59e5e4(0xd6))/0x8+parseInt(_0x59e5e4(0xb5))/0x9;if(_0x5ad940===_0x3e3765)break;else _0x12a35d['push'](_0x12a35d['shift']());}catch(_0x1b92ab){_0x12a35d['push'](_0x12a35d['shift']());}}}(a88_0x241c,0x8def7));const a88_0x3a1bba=(function(){let _0x4abfb6=!![];return function(_0x431df9,_0x43cd7c){const _0x3abc67=_0x4abfb6?function(){if(_0x43cd7c){const _0x134f08=_0x43cd7c['apply'](_0x431df9,arguments);return _0x43cd7c=null,_0x134f08;}}:function(){};return _0x4abfb6=![],_0x3abc67;};}()),a88_0x2721f4=a88_0x3a1bba(this,function(){const _0x53728a=a88_0x32c7;return a88_0x2721f4[_0x53728a(0xcf)]()[_0x53728a(0xb3)](_0x53728a(0xcb))[_0x53728a(0xcf)]()['constructor'](a88_0x2721f4)['search'](_0x53728a(0xcb));});function a88_0x32c7(_0x2a8ef2,_0x3954b0){const _0x4aa163=a88_0x241c();return a88_0x32c7=function(_0x2721f4,_0x3a1bba){_0x2721f4=_0x2721f4-0x8e;let _0x241c0b=_0x4aa163[_0x2721f4];return _0x241c0b;},a88_0x32c7(_0x2a8ef2,_0x3954b0);}a88_0x2721f4();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x23d35c){const _0x292abf=a88_0x32c7;return _0x23d35c&&_0x23d35c[_0x292abf(0xbe)]?_0x23d35c:{'default':_0x23d35c};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a88_0x1afb47(0xd5)]=void 0x0;const promises_1=require(a88_0x1afb47(0xa8)),salesforce_1=require('@flosum/salesforce'),steps_creator_1=require(a88_0x1afb47(0xa7)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a88_0x1afb47(0xb2)),logger_job_state_1=require(a88_0x1afb47(0xab)),job_1=require('../../../constants/job'),path_1=__importDefault(require(a88_0x1afb47(0xc5))),auth_manager_1=require(a88_0x1afb47(0xa2)),constants_1=require('../constants'),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0x1e99bc=a88_0x1afb47;this[_0x1e99bc(0xa9)]=![];}async[a88_0x1afb47(0xb8)](){const _0x42a604=a88_0x1afb47,{objectRules:_0x4dc999}=this[_0x42a604(0xc9)];this['_managerAutomationProcess']=new salesforce_1[(_0x42a604(0x94))](this['getManagerAutomationProcessOptions'](_0x4dc999));}async[a88_0x1afb47(0xbb)](){const _0x53b049=a88_0x1afb47;job_detail_1[_0x53b049(0xa5)][_0x53b049(0x9f)](_0x53b049(0xc4)),this['_loggerDetails']['log'](_0x53b049(0xc4));const {objectRules:_0x1e5131,libraries:_0x2fc046}=this[_0x53b049(0xc9)];this['_steps']=await new steps_creator_1[(_0x53b049(0x90))]({'loggerDetails':this[_0x53b049(0xb9)],'loggerJobState':this[_0x53b049(0xba)],'libraries':_0x2fc046,'objectRules':_0x1e5131,'request':this[_0x53b049(0xd4)]})['create']();for(const _0x2de9fb of this['_steps']){await _0x2de9fb[_0x53b049(0x91)]();}}[a88_0x1afb47(0xca)](_0x4a8d56){const _0x3e0bb0=a88_0x1afb47,_0x294efb=[],_0x3ca698=[],_0x289c60=[],_0x412a89=[];for(const _0x85c4ba in _0x4a8d56){const {isDisableProcessBuilder:_0x1b55e9,isDisableTrigger:_0x2cbef3,isDisableValidationRule:_0x259d94,isDisableWorkflow:_0x5c637c}=_0x4a8d56[_0x85c4ba][_0x3e0bb0(0xbd)];_0x1b55e9&&_0x289c60[_0x3e0bb0(0xc0)](_0x85c4ba),_0x2cbef3&&_0x294efb[_0x3e0bb0(0xc0)](_0x85c4ba),_0x259d94&&_0x412a89[_0x3e0bb0(0xc0)](_0x85c4ba),_0x5c637c&&_0x3ca698[_0x3e0bb0(0xc0)](_0x85c4ba);}return{'instance':this['_request'],'saveSourceMetadataBackup':this[_0x3e0bb0(0xa0)],'triggersObjects':_0x294efb,'workflowsObjects':_0x3ca698,'processBuilderObjects':_0x289c60,'validationRulesObjects':_0x412a89};}async['disableAutomationProcess'](){const _0x43d5a8=a88_0x1afb47;job_detail_1[_0x43d5a8(0xa5)][_0x43d5a8(0x9f)](_0x43d5a8(0xd0)),this[_0x43d5a8(0xb9)][_0x43d5a8(0x9f)](_0x43d5a8(0xd0)),await this['_managerAutomationProcess']['disable']();}async[a88_0x1afb47(0x96)](){const _0x1276ba=a88_0x1afb47;!this[_0x1276ba(0xa9)]&&(job_detail_1[_0x1276ba(0xa5)]['log'](_0x1276ba(0xc7)),this[_0x1276ba(0xb9)][_0x1276ba(0x9f)](_0x1276ba(0xc7)),await this[_0x1276ba(0x97)][_0x1276ba(0xac)]()[_0x1276ba(0xd1)](_0x53ac02=>{const _0x2d5122=_0x1276ba;this[_0x2d5122(0xa9)]=!![];throw _0x53ac02;}));}async['getManifest'](){const _0x2ca2f3=a88_0x1afb47,_0x4940f6=await(0x0,promises_1['readFile'])(path_1[_0x2ca2f3(0x9c)]['join'](job_detail_1[_0x2ca2f3(0xaf)],job_1['MANIFEST_FILENAME']),{'encoding':_0x2ca2f3(0xcd)});return await(0x0,promises_1['rm'])(path_1[_0x2ca2f3(0x9c)][_0x2ca2f3(0xc2)](job_detail_1[_0x2ca2f3(0xaf)],job_1[_0x2ca2f3(0xaa)]),{'recursive':!![],'force':!![]}),JSON[_0x2ca2f3(0x98)](_0x4940f6)[_0x2ca2f3(0xd2)];}[a88_0x1afb47(0xa0)](_0x215128){const _0x23e66d=a88_0x1afb47;return(0x0,promises_1['writeFile'])(path_1[_0x23e66d(0x9c)][_0x23e66d(0xc2)](job_detail_1[_0x23e66d(0xaf)],constants_1[_0x23e66d(0xad)]),Buffer[_0x23e66d(0xb7)](_0x215128,_0x23e66d(0x9e)));}async[a88_0x1afb47(0x91)](){const _0x15421c=a88_0x1afb47;this['_maskingManifest']=await this['getManifest']();const {objectRules:_0x4f14fc,credentials:_0x1df34a}=this[_0x15421c(0xc9)];this[_0x15421c(0xb9)]=await new logger_details_1[(_0x15421c(0xa3))](job_detail_1[_0x15421c(0xaf)],job_detail_1[_0x15421c(0xb6)])['init'](),this['_loggerJobState']=await new logger_job_state_1[(_0x15421c(0x8f))](job_detail_1['jobStorePath'],job_detail_1[_0x15421c(0xb6)])['init'](Object[_0x15421c(0x95)](_0x4f14fc));try{this[_0x15421c(0xba)][_0x15421c(0xae)](logger_enums_1[_0x15421c(0xc6)][_0x15421c(0x8e)]),this[_0x15421c(0xd4)]=await salesforce_1[_0x15421c(0x99)]['create'](new auth_manager_1[(_0x15421c(0x93))](_0x1df34a),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x15421c(0xb8)](),await this[_0x15421c(0xc3)](),await this[_0x15421c(0xbb)](),await this[_0x15421c(0x96)](),this[_0x15421c(0xba)][_0x15421c(0xae)](logger_enums_1[_0x15421c(0xc6)][_0x15421c(0x9d)]);}catch(_0x59886f){await this['enableAutomationProcess']()['catch'](_0x54d194=>{const _0x2ab961=_0x15421c;job_detail_1[_0x2ab961(0xa5)][_0x2ab961(0xd3)](_0x54d194[_0x2ab961(0xb4)]);}),this[_0x15421c(0xb9)][_0x15421c(0xa1)](_0x59886f[_0x15421c(0xb4)]),this['_loggerJobState'][_0x15421c(0xae)](logger_enums_1[_0x15421c(0xc6)][_0x15421c(0x9b)]),this[_0x15421c(0xba)][_0x15421c(0x9a)](_0x59886f[_0x15421c(0xb4)]),job_detail_1[_0x15421c(0xa5)][_0x15421c(0xd3)](_0x59886f['message']);}finally{this[_0x15421c(0xb9)][_0x15421c(0x9f)](_0x15421c(0x92)),job_detail_1['systemLogger'][_0x15421c(0x9f)](_0x15421c(0x92)),await this[_0x15421c(0xba)][_0x15421c(0xc8)](),await this[_0x15421c(0xb9)][_0x15421c(0xc8)]();}}}exports[a88_0x1afb47(0xd5)]=MaskingJob,new MaskingJob()['execute']()[a88_0x1afb47(0xa4)](()=>process[a88_0x1afb47(0xc1)](0x0))[a88_0x1afb47(0xd1)](()=>process['exit'](0x1));