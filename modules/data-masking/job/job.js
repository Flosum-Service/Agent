function a91_0x4a05(){const _0x2954c3=['jobId','masking','../../../constants/job','AuthManager','setJobError','defineProperty','_maskingManifest','./enums/logger.enums','getManagerAutomationProcessOptions','disable','@flosum/salesforce','./classes/step/steps-creator','getManifest','Start\x20Masking\x20Process','./classes/logger/logger-job-state','1LKZxsk','_steps','init','fs/promises','LoggerDetails','execute','Enable\x20automation\x20process','_managerAutomationProcess','exception','search','_request','4284771kulWTo','80091jzYTZO','saveSourceAutomationProcessesBackup','75383BhxQpz','_loggerDetails','details','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','path','jobStorePath','AxiosInstanceUtils','toString','message','MaskingJob','initAutomationProcess','Finish\x20Masking\x20Process','join','264NwJPqq','disableAutomation','../constants','exit','150vNvJIr','./job-detail','setJobStatus','apply','error','3224724WCSvSm','_isEnableAutomationProcessError','Disable\x20automation\x20process','constructor','log','827548VwVUfG','__esModule','3142125bFIJHk','JobStatus','_loggerJobState','catch','systemLogger','enableAutomationProcess','./classes/logger/logger-details','MANIFEST_FILENAME','../../shared/managers/auth.manager','5140WBVOQB','default','disableAutomationProcess','writeFile','gzip','(((.+)+)+)+$','push','66212KaKYxg','then'];a91_0x4a05=function(){return _0x2954c3;};return a91_0x4a05();}const a91_0x2e0362=a91_0x9e82;(function(_0x330f6b,_0x2ec3ed){const _0x8be391=a91_0x9e82,_0x3e94c3=_0x330f6b();while(!![]){try{const _0x478447=parseInt(_0x8be391(0x103))/0x1*(parseInt(_0x8be391(0x12c))/0x2)+-parseInt(_0x8be391(0x10e))/0x3+-parseInt(_0x8be391(0xf2))/0x4*(parseInt(_0x8be391(0x122))/0x5)+-parseInt(_0x8be391(0x127))/0x6+-parseInt(_0x8be391(0x12e))/0x7+-parseInt(_0x8be391(0x11e))/0x8*(parseInt(_0x8be391(0x10f))/0x9)+-parseInt(_0x8be391(0xeb))/0xa*(-parseInt(_0x8be391(0x111))/0xb);if(_0x478447===_0x2ec3ed)break;else _0x3e94c3['push'](_0x3e94c3['shift']());}catch(_0x436e4e){_0x3e94c3['push'](_0x3e94c3['shift']());}}}(a91_0x4a05,0xb28ed));const a91_0x540a7e=(function(){let _0x10ef82=!![];return function(_0x42770e,_0x53aa7e){const _0x46dc21=_0x10ef82?function(){const _0x5fa4da=a91_0x9e82;if(_0x53aa7e){const _0x3a4987=_0x53aa7e[_0x5fa4da(0x125)](_0x42770e,arguments);return _0x53aa7e=null,_0x3a4987;}}:function(){};return _0x10ef82=![],_0x46dc21;};}()),a91_0x2cd87b=a91_0x540a7e(this,function(){const _0x23560d=a91_0x9e82;return a91_0x2cd87b[_0x23560d(0x118)]()[_0x23560d(0x10c)](_0x23560d(0xf0))[_0x23560d(0x118)]()[_0x23560d(0x12a)](a91_0x2cd87b)[_0x23560d(0x10c)](_0x23560d(0xf0));});a91_0x2cd87b();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x7a6184){const _0x17fad8=a91_0x9e82;return _0x7a6184&&_0x7a6184[_0x17fad8(0x12d)]?_0x7a6184:{'default':_0x7a6184};};Object[a91_0x2e0362(0xf9)](exports,a91_0x2e0362(0x12d),{'value':!![]}),exports[a91_0x2e0362(0x11a)]=void 0x0;const promises_1=require(a91_0x2e0362(0x106)),salesforce_1=require(a91_0x2e0362(0xfe)),steps_creator_1=require(a91_0x2e0362(0xff)),logger_enums_1=require(a91_0x2e0362(0xfb)),logger_details_1=require(a91_0x2e0362(0x134)),logger_job_state_1=require(a91_0x2e0362(0x102)),job_1=require(a91_0x2e0362(0xf6)),path_1=__importDefault(require(a91_0x2e0362(0x115))),auth_manager_1=require(a91_0x2e0362(0xea)),constants_1=require(a91_0x2e0362(0x120)),job_detail_1=require(a91_0x2e0362(0x123));function a91_0x9e82(_0x369114,_0x2de40c){const _0x3f8c1e=a91_0x4a05();return a91_0x9e82=function(_0x2cd87b,_0x540a7e){_0x2cd87b=_0x2cd87b-0xea;let _0x4a05d5=_0x3f8c1e[_0x2cd87b];return _0x4a05d5;},a91_0x9e82(_0x369114,_0x2de40c);}class MaskingJob{constructor(){const _0x3d4aa8=a91_0x2e0362;this[_0x3d4aa8(0x128)]=![];}async[a91_0x2e0362(0x11b)](){const _0x2b5c3d=a91_0x2e0362,{objectRules:_0xe7a290}=this[_0x2b5c3d(0xfa)];this['_managerAutomationProcess']=new salesforce_1['ManagerAutomationProcess'](this[_0x2b5c3d(0xfc)](_0xe7a290));}async[a91_0x2e0362(0xf5)](){const _0x407c08=a91_0x2e0362;job_detail_1[_0x407c08(0x132)][_0x407c08(0x12b)](_0x407c08(0x101)),this[_0x407c08(0x112)][_0x407c08(0x12b)](_0x407c08(0x101));const {objectRules:_0x37296b,libraries:_0x4209c0}=this[_0x407c08(0xfa)];this[_0x407c08(0x104)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this[_0x407c08(0x112)],'loggerJobState':this[_0x407c08(0x130)],'libraries':_0x4209c0,'objectRules':_0x37296b,'request':this[_0x407c08(0x10d)]})['create']();for(const _0x1f1d5c of this[_0x407c08(0x104)]){await _0x1f1d5c[_0x407c08(0x108)]();}}['getManagerAutomationProcessOptions'](_0x578b55){const _0x3f472d=a91_0x2e0362,_0x262855=[],_0x46c1cc=[],_0x38dbf4=[],_0x3335eb=[],_0x2a91e8=[];for(const _0x331a7a in _0x578b55){const {isDisableProcessBuilder:_0x5422cf,isDisableTrigger:_0xfb986d,isDisableValidationRule:_0x5ab0a1,isDisableWorkflow:_0xed2f79,isDisableLookupFilter:_0x3906aa}=_0x578b55[_0x331a7a][_0x3f472d(0x11f)];_0x5422cf&&_0x38dbf4[_0x3f472d(0xf1)](_0x331a7a),_0xfb986d&&_0x262855['push'](_0x331a7a),_0x5ab0a1&&_0x3335eb['push'](_0x331a7a),_0xed2f79&&_0x46c1cc['push'](_0x331a7a),_0x3906aa&&_0x2a91e8[_0x3f472d(0xf1)](_0x331a7a);}return{'instance':this[_0x3f472d(0x10d)],'saveSourceMetadataBackup':this[_0x3f472d(0x110)],'triggersObjects':_0x262855,'validationRulesObjects':_0x3335eb,'workflowsObjects':_0x46c1cc,'flowsAndProcessBuilderObjects':_0x38dbf4,'lookupFiltersObjects':_0x2a91e8};}async[a91_0x2e0362(0xed)](){const _0x399ca1=a91_0x2e0362;job_detail_1['systemLogger']['log'](_0x399ca1(0x129)),this['_loggerDetails']['log'](_0x399ca1(0x129)),await this['_managerAutomationProcess'][_0x399ca1(0xfd)]();}async[a91_0x2e0362(0x133)](){const _0x4e2b2d=a91_0x2e0362;!this[_0x4e2b2d(0x128)]&&(job_detail_1['systemLogger'][_0x4e2b2d(0x12b)](_0x4e2b2d(0x109)),this[_0x4e2b2d(0x112)]['log'](_0x4e2b2d(0x109)),await this[_0x4e2b2d(0x10a)]['enable']()[_0x4e2b2d(0x131)](_0x1003d3=>{const _0x32b87f=_0x4e2b2d;this[_0x32b87f(0x128)]=!![];throw _0x1003d3;}));}async[a91_0x2e0362(0x100)](){const _0xf0de6a=a91_0x2e0362,_0x6bdd70=await(0x0,promises_1['readFile'])(path_1[_0xf0de6a(0xec)]['join'](job_detail_1[_0xf0de6a(0x116)],job_1[_0xf0de6a(0x135)]),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1[_0xf0de6a(0xec)][_0xf0de6a(0x11d)](job_detail_1['jobStorePath'],job_1['MANIFEST_FILENAME']),{'recursive':!![],'force':!![]}),JSON['parse'](_0x6bdd70)[_0xf0de6a(0x113)];}['saveSourceAutomationProcessesBackup'](_0x359171){const _0x330b8e=a91_0x2e0362;return(0x0,promises_1[_0x330b8e(0xee)])(path_1['default']['join'](job_detail_1['jobStorePath'],constants_1[_0x330b8e(0x114)]),_0x359171);}async['execute'](){const _0x2745ea=a91_0x2e0362;this[_0x2745ea(0xfa)]=await this[_0x2745ea(0x100)]();const {objectRules:_0xe81897,credentials:_0x16aba1}=this['_maskingManifest'];this['_loggerDetails']=await new logger_details_1[(_0x2745ea(0x107))](job_detail_1[_0x2745ea(0x116)],job_detail_1[_0x2745ea(0xf4)])[_0x2745ea(0x105)](),this['_loggerJobState']=await new logger_job_state_1['LoggerJobState'](job_detail_1[_0x2745ea(0x116)],job_detail_1[_0x2745ea(0xf4)])[_0x2745ea(0x105)](Object['keys'](_0xe81897));try{this[_0x2745ea(0x130)][_0x2745ea(0x124)](logger_enums_1['JobStatus']['IN_PROGRESS']),this[_0x2745ea(0x10d)]=await salesforce_1[_0x2745ea(0x117)]['create'](new auth_manager_1[(_0x2745ea(0xf7))](_0x16aba1),[],{'headers':{'Accept-Encoding':_0x2745ea(0xef)}}),await this[_0x2745ea(0x11b)](),await this[_0x2745ea(0xed)](),await this[_0x2745ea(0xf5)](),await this['enableAutomationProcess'](),this[_0x2745ea(0x130)][_0x2745ea(0x124)](logger_enums_1[_0x2745ea(0x12f)]['COMPLETED']);}catch(_0xbb24e){await this[_0x2745ea(0x133)]()[_0x2745ea(0x131)](_0x50a10e=>{const _0x15d6ab=_0x2745ea;job_detail_1[_0x15d6ab(0x132)][_0x15d6ab(0x126)](_0x50a10e[_0x15d6ab(0x119)]);}),this['_loggerDetails'][_0x2745ea(0x10b)](_0xbb24e[_0x2745ea(0x119)]),this[_0x2745ea(0x130)][_0x2745ea(0x124)](logger_enums_1[_0x2745ea(0x12f)]['FAILED']),this[_0x2745ea(0x130)][_0x2745ea(0xf8)](_0xbb24e[_0x2745ea(0x119)]),job_detail_1[_0x2745ea(0x132)]['error'](_0xbb24e['message']);}finally{this[_0x2745ea(0x112)][_0x2745ea(0x12b)](_0x2745ea(0x11c)),job_detail_1[_0x2745ea(0x132)][_0x2745ea(0x12b)]('Finish\x20Masking\x20Process'),await this[_0x2745ea(0x130)]['kill'](),await this['_loggerDetails']['kill']();}}}exports[a91_0x2e0362(0x11a)]=MaskingJob,new MaskingJob()[a91_0x2e0362(0x108)]()[a91_0x2e0362(0xf3)](()=>process['exit'](0x0))[a91_0x2e0362(0x131)](()=>process[a91_0x2e0362(0x121)](0x1));