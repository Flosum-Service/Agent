const a73_0x25d85a=a73_0x290c;(function(_0x40e9cb,_0x1b3c0e){const _0x291327=a73_0x290c,_0x49562f=_0x40e9cb();while(!![]){try{const _0x35f649=parseInt(_0x291327(0x21b))/0x1+-parseInt(_0x291327(0x206))/0x2*(-parseInt(_0x291327(0x1e0))/0x3)+parseInt(_0x291327(0x1e5))/0x4*(parseInt(_0x291327(0x219))/0x5)+-parseInt(_0x291327(0x1e1))/0x6*(parseInt(_0x291327(0x200))/0x7)+parseInt(_0x291327(0x21c))/0x8*(parseInt(_0x291327(0x208))/0x9)+parseInt(_0x291327(0x1da))/0xa*(parseInt(_0x291327(0x1fa))/0xb)+parseInt(_0x291327(0x1ed))/0xc*(-parseInt(_0x291327(0x211))/0xd);if(_0x35f649===_0x1b3c0e)break;else _0x49562f['push'](_0x49562f['shift']());}catch(_0xdb8bb3){_0x49562f['push'](_0x49562f['shift']());}}}(a73_0x4288,0xa3052));const a73_0x551da=(function(){let _0x9bd657=!![];return function(_0x42e2d6,_0x541acd){const _0x5f20de=_0x9bd657?function(){const _0x3decb1=a73_0x290c;if(_0x541acd){const _0x36a590=_0x541acd[_0x3decb1(0x21f)](_0x42e2d6,arguments);return _0x541acd=null,_0x36a590;}}:function(){};return _0x9bd657=![],_0x5f20de;};}()),a73_0x411b41=a73_0x551da(this,function(){const _0x9bf412=a73_0x290c;return a73_0x411b41[_0x9bf412(0x1ee)]()[_0x9bf412(0x1ff)](_0x9bf412(0x1f2))[_0x9bf412(0x1ee)]()[_0x9bf412(0x1f9)](a73_0x411b41)['search']('(((.+)+)+)+$');});function a73_0x4288(){const _0x44869b=['message','getManagerAutomationProcessOptions','push','create','../../../constants/job','1217534AnjSGP','kill','9sIdpua','defineProperty','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','AxiosInstanceUtils','masking','./enums/logger.enums','exception','execute','getManifest','13zQwIGw','writeFile','from','fs/promises','LoggerDetails','_steps','catch','log','3208055bgKgJA','default','776340APhrem','5353136BXwLlc','Enable\x20automation\x20process','parse','apply','Start\x20Masking\x20Process','jobId','saveSourceAutomationProcessesBackup','JobStatus','ManagerAutomationProcess','gzip','_managerAutomationProcess','path','MANIFEST_FILENAME','join','_loggerJobState','./job-detail','13140hAJdFC','__importDefault','_maskingManifest','setJobStatus','details','../constants','3ciFOBR','2817228kEOxGO','disable','IN_PROGRESS','jobStorePath','8AUmMjO','Finish\x20Masking\x20Process','enableAutomationProcess','_loggerDetails','StepsCreator','disableAutomation','init','exit','27711180irUSKT','toString','disableAutomationProcess','MaskingJob','_request','(((.+)+)+)+$','./classes/logger/logger-details','_isEnableAutomationProcessError','utf-8','systemLogger','AuthManager','__esModule','constructor','913XlqngC','../../shared/managers/auth.manager','setJobError','initAutomationProcess','keys','search','7rUvPUW'];a73_0x4288=function(){return _0x44869b;};return a73_0x4288();}a73_0x411b41();'use strict';var __importDefault=this&&this[a73_0x25d85a(0x1db)]||function(_0x2a6c30){return _0x2a6c30&&_0x2a6c30['__esModule']?_0x2a6c30:{'default':_0x2a6c30};};Object[a73_0x25d85a(0x209)](exports,a73_0x25d85a(0x1f8),{'value':!![]}),exports[a73_0x25d85a(0x1f0)]=void 0x0;function a73_0x290c(_0x4ecca8,_0x4f3258){const _0x3f7ff5=a73_0x4288();return a73_0x290c=function(_0x411b41,_0x551da){_0x411b41=_0x411b41-0x1d0;let _0x4288fa=_0x3f7ff5[_0x411b41];return _0x4288fa;},a73_0x290c(_0x4ecca8,_0x4f3258);}const promises_1=require(a73_0x25d85a(0x214)),salesforce_1=require('@flosum/salesforce'),steps_creator_1=require('./classes/step/steps-creator'),logger_enums_1=require(a73_0x25d85a(0x20d)),logger_details_1=require(a73_0x25d85a(0x1f3)),logger_job_state_1=require('./classes/logger/logger-job-state'),job_1=require(a73_0x25d85a(0x205)),path_1=__importDefault(require(a73_0x25d85a(0x1d5))),auth_manager_1=require(a73_0x25d85a(0x1fb)),constants_1=require(a73_0x25d85a(0x1df)),job_detail_1=require(a73_0x25d85a(0x1d9));class MaskingJob{constructor(){const _0x509885=a73_0x25d85a;this[_0x509885(0x1f4)]=![];}async[a73_0x25d85a(0x1fd)](){const _0x238468=a73_0x25d85a,{objectRules:_0x18f089}=this[_0x238468(0x1dc)];this[_0x238468(0x1d4)]=new salesforce_1[(_0x238468(0x1d2))](this['getManagerAutomationProcessOptions'](_0x18f089));}async[a73_0x25d85a(0x20c)](){const _0x394d33=a73_0x25d85a;job_detail_1[_0x394d33(0x1f6)][_0x394d33(0x218)]('Start\x20Masking\x20Process'),this[_0x394d33(0x1e8)][_0x394d33(0x218)](_0x394d33(0x220));const {objectRules:_0x18e9bc,libraries:_0x5f22fc}=this['_maskingManifest'];this[_0x394d33(0x216)]=await new steps_creator_1[(_0x394d33(0x1e9))]({'loggerDetails':this[_0x394d33(0x1e8)],'loggerJobState':this[_0x394d33(0x1d8)],'libraries':_0x5f22fc,'objectRules':_0x18e9bc,'request':this['_request']})[_0x394d33(0x204)]();for(const _0x723a52 of this[_0x394d33(0x216)]){await _0x723a52[_0x394d33(0x20f)]();}}[a73_0x25d85a(0x202)](_0x5267c8){const _0x53264b=a73_0x25d85a,_0x25b0c7=[],_0x303f4c=[],_0x5b9113=[],_0x14ce49=[];for(const _0x1fed18 in _0x5267c8){const {isDisableProcessBuilder:_0x1a3f9b,isDisableTrigger:_0xc0f4bb,isDisableValidationRule:_0x20b8ab,isDisableWorkflow:_0x355cb1}=_0x5267c8[_0x1fed18][_0x53264b(0x1ea)];_0x1a3f9b&&_0x5b9113[_0x53264b(0x203)](_0x1fed18),_0xc0f4bb&&_0x25b0c7[_0x53264b(0x203)](_0x1fed18),_0x20b8ab&&_0x14ce49[_0x53264b(0x203)](_0x1fed18),_0x355cb1&&_0x303f4c['push'](_0x1fed18);}return{'instance':this[_0x53264b(0x1f1)],'saveSourceMetadataBackup':this[_0x53264b(0x1d0)],'triggersObjects':_0x25b0c7,'workflowsObjects':_0x303f4c,'processBuilderObjects':_0x5b9113,'validationRulesObjects':_0x14ce49};}async[a73_0x25d85a(0x1ef)](){const _0x19bc54=a73_0x25d85a;job_detail_1[_0x19bc54(0x1f6)]['log']('Disable\x20automation\x20process'),this[_0x19bc54(0x1e8)][_0x19bc54(0x218)]('Disable\x20automation\x20process'),await this[_0x19bc54(0x1d4)][_0x19bc54(0x1e2)]();}async[a73_0x25d85a(0x1e7)](){const _0x4ba3a5=a73_0x25d85a;!this[_0x4ba3a5(0x1f4)]&&(job_detail_1[_0x4ba3a5(0x1f6)][_0x4ba3a5(0x218)](_0x4ba3a5(0x21d)),this[_0x4ba3a5(0x1e8)][_0x4ba3a5(0x218)](_0x4ba3a5(0x21d)),await this[_0x4ba3a5(0x1d4)]['enable']()['catch'](_0x36040f=>{const _0x43fc29=_0x4ba3a5;this[_0x43fc29(0x1f4)]=!![];throw _0x36040f;}));}async[a73_0x25d85a(0x210)](){const _0x2854e4=a73_0x25d85a,_0x575ad5=await(0x0,promises_1['readFile'])(path_1['default'][_0x2854e4(0x1d7)](job_detail_1['jobStorePath'],job_1[_0x2854e4(0x1d6)]),{'encoding':_0x2854e4(0x1f5)});return await(0x0,promises_1['rm'])(path_1[_0x2854e4(0x21a)][_0x2854e4(0x1d7)](job_detail_1[_0x2854e4(0x1e4)],job_1[_0x2854e4(0x1d6)]),{'recursive':!![],'force':!![]}),JSON[_0x2854e4(0x21e)](_0x575ad5)[_0x2854e4(0x1de)];}[a73_0x25d85a(0x1d0)](_0x51c43e){const _0x12c4b5=a73_0x25d85a;return(0x0,promises_1[_0x12c4b5(0x212)])(path_1['default'][_0x12c4b5(0x1d7)](job_detail_1[_0x12c4b5(0x1e4)],constants_1[_0x12c4b5(0x20a)]),Buffer[_0x12c4b5(0x213)](_0x51c43e,'base64'));}async[a73_0x25d85a(0x20f)](){const _0x2ef1a1=a73_0x25d85a;this[_0x2ef1a1(0x1dc)]=await this['getManifest']();const {objectRules:_0x9beced,credentials:_0x1388b5}=this[_0x2ef1a1(0x1dc)];this[_0x2ef1a1(0x1e8)]=await new logger_details_1[(_0x2ef1a1(0x215))](job_detail_1[_0x2ef1a1(0x1e4)],job_detail_1['jobId'])[_0x2ef1a1(0x1eb)](),this['_loggerJobState']=await new logger_job_state_1['LoggerJobState'](job_detail_1['jobStorePath'],job_detail_1[_0x2ef1a1(0x221)])[_0x2ef1a1(0x1eb)](Object[_0x2ef1a1(0x1fe)](_0x9beced));try{this[_0x2ef1a1(0x1d8)][_0x2ef1a1(0x1dd)](logger_enums_1[_0x2ef1a1(0x1d1)][_0x2ef1a1(0x1e3)]),this[_0x2ef1a1(0x1f1)]=await salesforce_1[_0x2ef1a1(0x20b)][_0x2ef1a1(0x204)](new auth_manager_1[(_0x2ef1a1(0x1f7))](_0x1388b5),[],{'headers':{'Accept-Encoding':_0x2ef1a1(0x1d3)}}),await this[_0x2ef1a1(0x1fd)](),await this['disableAutomationProcess'](),await this[_0x2ef1a1(0x20c)](),await this[_0x2ef1a1(0x1e7)](),this[_0x2ef1a1(0x1d8)]['setJobStatus'](logger_enums_1['JobStatus']['COMPLETED']);}catch(_0x1a891a){await this[_0x2ef1a1(0x1e7)]()[_0x2ef1a1(0x217)](_0x14704f=>{const _0x12e00f=_0x2ef1a1;job_detail_1['systemLogger']['error'](_0x14704f[_0x12e00f(0x201)]);}),this[_0x2ef1a1(0x1e8)][_0x2ef1a1(0x20e)](_0x1a891a[_0x2ef1a1(0x201)]),this[_0x2ef1a1(0x1d8)][_0x2ef1a1(0x1dd)](logger_enums_1['JobStatus']['FAILED']),this['_loggerJobState'][_0x2ef1a1(0x1fc)](_0x1a891a[_0x2ef1a1(0x201)]),job_detail_1[_0x2ef1a1(0x1f6)]['error'](_0x1a891a[_0x2ef1a1(0x201)]);}finally{this['_loggerDetails'][_0x2ef1a1(0x218)](_0x2ef1a1(0x1e6)),job_detail_1[_0x2ef1a1(0x1f6)][_0x2ef1a1(0x218)]('Finish\x20Masking\x20Process'),await this[_0x2ef1a1(0x1d8)][_0x2ef1a1(0x207)](),await this[_0x2ef1a1(0x1e8)]['kill']();}}}exports[a73_0x25d85a(0x1f0)]=MaskingJob,new MaskingJob()[a73_0x25d85a(0x20f)]()['then'](()=>process[a73_0x25d85a(0x1ec)](0x0))[a73_0x25d85a(0x217)](()=>process[a73_0x25d85a(0x1ec)](0x1));