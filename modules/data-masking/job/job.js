const a73_0x36d4ae=a73_0x2fce;(function(_0x213427,_0x12faf0){const _0x552b1f=a73_0x2fce,_0x4bb753=_0x213427();while(!![]){try{const _0x34c767=parseInt(_0x552b1f(0x1c6))/0x1*(-parseInt(_0x552b1f(0x1ce))/0x2)+-parseInt(_0x552b1f(0x1a6))/0x3*(-parseInt(_0x552b1f(0x1d5))/0x4)+-parseInt(_0x552b1f(0x1de))/0x5+-parseInt(_0x552b1f(0x1e7))/0x6*(-parseInt(_0x552b1f(0x1cf))/0x7)+parseInt(_0x552b1f(0x1c4))/0x8+parseInt(_0x552b1f(0x1d2))/0x9*(parseInt(_0x552b1f(0x1b4))/0xa)+-parseInt(_0x552b1f(0x1be))/0xb*(-parseInt(_0x552b1f(0x1ef))/0xc);if(_0x34c767===_0x12faf0)break;else _0x4bb753['push'](_0x4bb753['shift']());}catch(_0x55566b){_0x4bb753['push'](_0x4bb753['shift']());}}}(a73_0x32af,0xaa005));const a73_0xfc20f3=(function(){let _0x387ec7=!![];return function(_0x400c69,_0x19c47f){const _0x158cb8=_0x387ec7?function(){const _0x5588c1=a73_0x2fce;if(_0x19c47f){const _0x5c8c0a=_0x19c47f[_0x5588c1(0x1e5)](_0x400c69,arguments);return _0x19c47f=null,_0x5c8c0a;}}:function(){};return _0x387ec7=![],_0x158cb8;};}()),a73_0x178d9d=a73_0xfc20f3(this,function(){const _0x451af2=a73_0x2fce;return a73_0x178d9d[_0x451af2(0x1ab)]()[_0x451af2(0x1eb)]('(((.+)+)+)+$')[_0x451af2(0x1ab)]()[_0x451af2(0x1ca)](a73_0x178d9d)['search'](_0x451af2(0x1b9));});function a73_0x32af(){const _0x3119f7=['./classes/logger/logger-job-state','1680000bWiigt','writeFile','disableAutomationProcess','push','AxiosInstanceUtils','create','default','apply','_maskingManifest','3588oNlHMU','FAILED','path','Enable\x20automation\x20process','search','defineProperty','__importDefault','_loggerJobState','12YlHRgA','JobStatus','Start\x20Masking\x20Process','fs/promises','setJobStatus','../constants','9mqZtBR','message','join','jobStorePath','LoggerDetails','toString','systemLogger','catch','MANIFEST_FILENAME','utf-8','../../../constants/job','getManifest','gzip','@flosum/salesforce','748950gCUZed','readFile','details','exit','MaskingJob','(((.+)+)+)+$','saveSourceAutomationProcessesBackup','error','kill','disableAutomation','2198867EtHAwM','from','log','jobId','enable','_isEnableAutomationProcessError','1988320IzUumF','../../shared/managers/auth.manager','549313pmrCob','then','__esModule','keys','constructor','./classes/logger/logger-details','enableAutomationProcess','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','4tkHrmq','15771UGumEg','init','_request','27XiDHKa','_loggerDetails','base64','147380iCKHee','Disable\x20automation\x20process','LoggerJobState','_steps','execute','setJobError','exception','AuthManager'];a73_0x32af=function(){return _0x3119f7;};return a73_0x32af();}a73_0x178d9d();'use strict';var __importDefault=this&&this[a73_0x36d4ae(0x1ed)]||function(_0x2927e4){const _0x173d00=a73_0x36d4ae;return _0x2927e4&&_0x2927e4[_0x173d00(0x1c8)]?_0x2927e4:{'default':_0x2927e4};};function a73_0x2fce(_0x2722ee,_0x25def3){const _0x14d1de=a73_0x32af();return a73_0x2fce=function(_0x178d9d,_0xfc20f3){_0x178d9d=_0x178d9d-0x1a1;let _0x32af85=_0x14d1de[_0x178d9d];return _0x32af85;},a73_0x2fce(_0x2722ee,_0x25def3);}Object[a73_0x36d4ae(0x1ec)](exports,'__esModule',{'value':!![]}),exports[a73_0x36d4ae(0x1b8)]=void 0x0;const promises_1=require(a73_0x36d4ae(0x1a3)),salesforce_1=require(a73_0x36d4ae(0x1b3)),steps_creator_1=require('./classes/step/steps-creator'),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a73_0x36d4ae(0x1cb)),logger_job_state_1=require(a73_0x36d4ae(0x1dd)),job_1=require(a73_0x36d4ae(0x1b0)),path_1=__importDefault(require(a73_0x36d4ae(0x1e9))),auth_manager_1=require(a73_0x36d4ae(0x1c5)),constants_1=require(a73_0x36d4ae(0x1a5)),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0x333546=a73_0x36d4ae;this[_0x333546(0x1c3)]=![];}async['initAutomationProcess'](){const {objectRules:_0x5d9f7e}=this['_maskingManifest'];this['_managerAutomationProcess']=new salesforce_1['ManagerAutomationProcess'](this['getManagerAutomationProcessOptions'](_0x5d9f7e));}async['masking'](){const _0x5d57a0=a73_0x36d4ae;job_detail_1[_0x5d57a0(0x1ac)][_0x5d57a0(0x1c0)](_0x5d57a0(0x1a2)),this[_0x5d57a0(0x1d3)][_0x5d57a0(0x1c0)](_0x5d57a0(0x1a2));const {objectRules:_0x56f242,libraries:_0x1dcb6a}=this[_0x5d57a0(0x1e6)];this[_0x5d57a0(0x1d8)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this[_0x5d57a0(0x1d3)],'loggerJobState':this[_0x5d57a0(0x1ee)],'libraries':_0x1dcb6a,'objectRules':_0x56f242,'request':this[_0x5d57a0(0x1d1)]})[_0x5d57a0(0x1e3)]();for(const _0x3ab446 of this[_0x5d57a0(0x1d8)]){await _0x3ab446[_0x5d57a0(0x1d9)]();}}['getManagerAutomationProcessOptions'](_0x1c9b16){const _0x395288=a73_0x36d4ae,_0x7b1584=[],_0x8b8ca2=[],_0x2ccd1c=[],_0x3ace93=[];for(const _0x20b018 in _0x1c9b16){const {isDisableProcessBuilder:_0x2dda5f,isDisableTrigger:_0x486e33,isDisableValidationRule:_0x536b48,isDisableWorkflow:_0x12c25c}=_0x1c9b16[_0x20b018][_0x395288(0x1bd)];_0x2dda5f&&_0x2ccd1c[_0x395288(0x1e1)](_0x20b018),_0x486e33&&_0x7b1584['push'](_0x20b018),_0x536b48&&_0x3ace93[_0x395288(0x1e1)](_0x20b018),_0x12c25c&&_0x8b8ca2[_0x395288(0x1e1)](_0x20b018);}return{'instance':this[_0x395288(0x1d1)],'saveSourceMetadataBackup':this[_0x395288(0x1ba)],'triggersObjects':_0x7b1584,'workflowsObjects':_0x8b8ca2,'processBuilderObjects':_0x2ccd1c,'validationRulesObjects':_0x3ace93};}async[a73_0x36d4ae(0x1e0)](){const _0x5ab853=a73_0x36d4ae;job_detail_1[_0x5ab853(0x1ac)]['log'](_0x5ab853(0x1d6)),this[_0x5ab853(0x1d3)][_0x5ab853(0x1c0)]('Disable\x20automation\x20process'),await this['_managerAutomationProcess']['disable']();}async[a73_0x36d4ae(0x1cc)](){const _0x360999=a73_0x36d4ae;!this['_isEnableAutomationProcessError']&&(job_detail_1[_0x360999(0x1ac)][_0x360999(0x1c0)](_0x360999(0x1ea)),this['_loggerDetails']['log']('Enable\x20automation\x20process'),await this['_managerAutomationProcess'][_0x360999(0x1c2)]()['catch'](_0x227cfb=>{const _0x1edaa7=_0x360999;this[_0x1edaa7(0x1c3)]=!![];throw _0x227cfb;}));}async[a73_0x36d4ae(0x1b1)](){const _0x5b26d1=a73_0x36d4ae,_0x2a4ece=await(0x0,promises_1[_0x5b26d1(0x1b5)])(path_1[_0x5b26d1(0x1e4)]['join'](job_detail_1[_0x5b26d1(0x1a9)],job_1[_0x5b26d1(0x1ae)]),{'encoding':_0x5b26d1(0x1af)});return await(0x0,promises_1['rm'])(path_1[_0x5b26d1(0x1e4)][_0x5b26d1(0x1a8)](job_detail_1[_0x5b26d1(0x1a9)],job_1[_0x5b26d1(0x1ae)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x2a4ece)[_0x5b26d1(0x1b6)];}[a73_0x36d4ae(0x1ba)](_0x7abc9a){const _0x4a51a7=a73_0x36d4ae;return(0x0,promises_1[_0x4a51a7(0x1df)])(path_1[_0x4a51a7(0x1e4)]['join'](job_detail_1[_0x4a51a7(0x1a9)],constants_1[_0x4a51a7(0x1cd)]),Buffer[_0x4a51a7(0x1bf)](_0x7abc9a,_0x4a51a7(0x1d4)));}async[a73_0x36d4ae(0x1d9)](){const _0x307bbc=a73_0x36d4ae;this[_0x307bbc(0x1e6)]=await this[_0x307bbc(0x1b1)]();const {objectRules:_0x383d5c,credentials:_0x535843}=this['_maskingManifest'];this['_loggerDetails']=await new logger_details_1[(_0x307bbc(0x1aa))](job_detail_1['jobStorePath'],job_detail_1['jobId'])[_0x307bbc(0x1d0)](),this[_0x307bbc(0x1ee)]=await new logger_job_state_1[(_0x307bbc(0x1d7))](job_detail_1[_0x307bbc(0x1a9)],job_detail_1[_0x307bbc(0x1c1)])[_0x307bbc(0x1d0)](Object[_0x307bbc(0x1c9)](_0x383d5c));try{this[_0x307bbc(0x1ee)]['setJobStatus'](logger_enums_1['JobStatus']['IN_PROGRESS']),this[_0x307bbc(0x1d1)]=await salesforce_1[_0x307bbc(0x1e2)][_0x307bbc(0x1e3)](new auth_manager_1[(_0x307bbc(0x1dc))](_0x535843),[],{'headers':{'Accept-Encoding':_0x307bbc(0x1b2)}}),await this['initAutomationProcess'](),await this[_0x307bbc(0x1e0)](),await this['masking'](),await this[_0x307bbc(0x1cc)](),this['_loggerJobState'][_0x307bbc(0x1a4)](logger_enums_1[_0x307bbc(0x1a1)]['COMPLETED']);}catch(_0x26ff5f){await this['enableAutomationProcess']()[_0x307bbc(0x1ad)](_0x2dbde6=>{const _0x1fea0c=_0x307bbc;job_detail_1['systemLogger'][_0x1fea0c(0x1bb)](_0x2dbde6['message']);}),this[_0x307bbc(0x1d3)][_0x307bbc(0x1db)](_0x26ff5f['message']),this[_0x307bbc(0x1ee)][_0x307bbc(0x1a4)](logger_enums_1[_0x307bbc(0x1a1)][_0x307bbc(0x1e8)]),this[_0x307bbc(0x1ee)][_0x307bbc(0x1da)](_0x26ff5f[_0x307bbc(0x1a7)]),job_detail_1[_0x307bbc(0x1ac)]['error'](_0x26ff5f[_0x307bbc(0x1a7)]);}finally{this[_0x307bbc(0x1d3)][_0x307bbc(0x1c0)]('Finish\x20Masking\x20Process'),job_detail_1['systemLogger']['log']('Finish\x20Masking\x20Process'),await this['_loggerJobState'][_0x307bbc(0x1bc)](),await this[_0x307bbc(0x1d3)][_0x307bbc(0x1bc)]();}}}exports[a73_0x36d4ae(0x1b8)]=MaskingJob,new MaskingJob()[a73_0x36d4ae(0x1d9)]()[a73_0x36d4ae(0x1c7)](()=>process[a73_0x36d4ae(0x1b7)](0x0))[a73_0x36d4ae(0x1ad)](()=>process['exit'](0x1));