const a72_0x1adaef=a72_0x4d17;(function(_0x61472a,_0x24a728){const _0x25abe0=a72_0x4d17,_0x1eb61c=_0x61472a();while(!![]){try{const _0x5e1068=parseInt(_0x25abe0(0x109))/0x1+parseInt(_0x25abe0(0x12e))/0x2*(-parseInt(_0x25abe0(0x111))/0x3)+-parseInt(_0x25abe0(0x114))/0x4+-parseInt(_0x25abe0(0x10e))/0x5+parseInt(_0x25abe0(0x144))/0x6+parseInt(_0x25abe0(0x13b))/0x7*(-parseInt(_0x25abe0(0x122))/0x8)+parseInt(_0x25abe0(0x130))/0x9*(parseInt(_0x25abe0(0x10d))/0xa);if(_0x5e1068===_0x24a728)break;else _0x1eb61c['push'](_0x1eb61c['shift']());}catch(_0x141915){_0x1eb61c['push'](_0x1eb61c['shift']());}}}(a72_0x3124,0x1f1da));const a72_0x546683=(function(){let _0x107fff=!![];return function(_0x269fda,_0x2fb124){const _0xa8b43c=_0x107fff?function(){const _0x10a281=a72_0x4d17;if(_0x2fb124){const _0x51b4ba=_0x2fb124[_0x10a281(0x123)](_0x269fda,arguments);return _0x2fb124=null,_0x51b4ba;}}:function(){};return _0x107fff=![],_0xa8b43c;};}()),a72_0x3a45c6=a72_0x546683(this,function(){const _0x281116=a72_0x4d17;return a72_0x3a45c6[_0x281116(0x121)]()[_0x281116(0x11c)](_0x281116(0x113))['toString']()['constructor'](a72_0x3a45c6)['search'](_0x281116(0x113));});a72_0x3a45c6();'use strict';var __importDefault=this&&this[a72_0x1adaef(0x112)]||function(_0x5ccfa7){return _0x5ccfa7&&_0x5ccfa7['__esModule']?_0x5ccfa7:{'default':_0x5ccfa7};};function a72_0x4d17(_0x19abd2,_0x349d3e){const _0x1869a4=a72_0x3124();return a72_0x4d17=function(_0x3a45c6,_0x546683){_0x3a45c6=_0x3a45c6-0x102;let _0x3124e8=_0x1869a4[_0x3a45c6];return _0x3124e8;},a72_0x4d17(_0x19abd2,_0x349d3e);}function a72_0x3124(){const _0x41008e=['apply','StepsCreator','disable','enable','exception','utf-8','masking','AxiosInstanceUtils','_steps','_request','Disable\x20automation\x20process','2qWBdnt','catch','36bgQxKj','../../shared/managers/auth.manager','writeFile','readFile','from','push','Start\x20Masking\x20Process','jobId','_isEnableAutomationProcessError','Finish\x20Masking\x20Process','create','17059JeiQxi','JobStatus','_loggerDetails','./job-detail','enableAutomationProcess','ManagerAutomationProcess','systemLogger','_maskingManifest','MaskingJob','1162728CRGCiS','fs/promises','kill','jobStorePath','__esModule','FAILED','path','./classes/logger/logger-job-state','then','_managerAutomationProcess','execute','MANIFEST_FILENAME','../constants','Enable\x20automation\x20process','base64','getManagerAutomationProcessOptions','AuthManager','COMPLETED','keys','setJobStatus','240545OTzlLQ','./classes/logger/logger-details','disableAutomationProcess','saveSourceAutomationProcessesBackup','517710VwyCko','644800wOBorQ','error','join','227697JNdffL','__importDefault','(((.+)+)+)+$','320120iwnAXP','details','defineProperty','./enums/logger.enums','exit','log','getManifest','disableAutomation','search','message','./classes/step/steps-creator','default','initAutomationProcess','toString','752TuRSri'];a72_0x3124=function(){return _0x41008e;};return a72_0x3124();}Object[a72_0x1adaef(0x116)](exports,a72_0x1adaef(0x148),{'value':!![]}),exports[a72_0x1adaef(0x143)]=void 0x0;const promises_1=require(a72_0x1adaef(0x145)),salesforce_1=require('@flosum/salesforce'),steps_creator_1=require(a72_0x1adaef(0x11e)),logger_enums_1=require(a72_0x1adaef(0x117)),logger_details_1=require(a72_0x1adaef(0x10a)),logger_job_state_1=require(a72_0x1adaef(0x14b)),job_1=require('../../../constants/job'),path_1=__importDefault(require(a72_0x1adaef(0x14a))),auth_manager_1=require(a72_0x1adaef(0x131)),constants_1=require(a72_0x1adaef(0x150)),job_detail_1=require(a72_0x1adaef(0x13e));class MaskingJob{constructor(){const _0x42c8b5=a72_0x1adaef;this[_0x42c8b5(0x138)]=![];}async[a72_0x1adaef(0x120)](){const _0x4877af=a72_0x1adaef,{objectRules:_0x19749b}=this['_maskingManifest'];this[_0x4877af(0x14d)]=new salesforce_1[(_0x4877af(0x140))](this[_0x4877af(0x104)](_0x19749b));}async[a72_0x1adaef(0x129)](){const _0x4458a7=a72_0x1adaef;job_detail_1['systemLogger'][_0x4458a7(0x119)](_0x4458a7(0x136)),this[_0x4458a7(0x13d)][_0x4458a7(0x119)](_0x4458a7(0x136));const {objectRules:_0x217f75,libraries:_0x22a287}=this[_0x4458a7(0x142)];this[_0x4458a7(0x12b)]=await new steps_creator_1[(_0x4458a7(0x124))]({'loggerDetails':this[_0x4458a7(0x13d)],'loggerJobState':this['_loggerJobState'],'libraries':_0x22a287,'objectRules':_0x217f75,'request':this[_0x4458a7(0x12c)]})[_0x4458a7(0x13a)]();for(const _0x409fa5 of this[_0x4458a7(0x12b)]){await _0x409fa5['execute']();}}[a72_0x1adaef(0x104)](_0x1f9fc5){const _0x6d8de8=a72_0x1adaef,_0x4b9624=[],_0x10b044=[],_0x73fa21=[],_0x4dedd5=[];for(const _0x1132dc in _0x1f9fc5){const {isDisableProcessBuilder:_0x530ce9,isDisableTrigger:_0x264c53,isDisableValidationRule:_0x29f349,isDisableWorkflow:_0x245385}=_0x1f9fc5[_0x1132dc][_0x6d8de8(0x11b)];_0x530ce9&&_0x73fa21[_0x6d8de8(0x135)](_0x1132dc),_0x264c53&&_0x4b9624[_0x6d8de8(0x135)](_0x1132dc),_0x29f349&&_0x4dedd5['push'](_0x1132dc),_0x245385&&_0x10b044[_0x6d8de8(0x135)](_0x1132dc);}return{'instance':this['_request'],'saveSourceMetadataBackup':this[_0x6d8de8(0x10c)],'triggersObjects':_0x4b9624,'workflowsObjects':_0x10b044,'processBuilderObjects':_0x73fa21,'validationRulesObjects':_0x4dedd5};}async[a72_0x1adaef(0x10b)](){const _0x2793b8=a72_0x1adaef;job_detail_1[_0x2793b8(0x141)][_0x2793b8(0x119)](_0x2793b8(0x12d)),this[_0x2793b8(0x13d)][_0x2793b8(0x119)]('Disable\x20automation\x20process'),await this[_0x2793b8(0x14d)][_0x2793b8(0x125)]();}async[a72_0x1adaef(0x13f)](){const _0x441e24=a72_0x1adaef;!this['_isEnableAutomationProcessError']&&(job_detail_1[_0x441e24(0x141)][_0x441e24(0x119)](_0x441e24(0x102)),this[_0x441e24(0x13d)][_0x441e24(0x119)](_0x441e24(0x102)),await this['_managerAutomationProcess'][_0x441e24(0x126)]()[_0x441e24(0x12f)](_0x3411e1=>{const _0x277740=_0x441e24;this[_0x277740(0x138)]=!![];throw _0x3411e1;}));}async[a72_0x1adaef(0x11a)](){const _0x274a68=a72_0x1adaef,_0x102507=await(0x0,promises_1[_0x274a68(0x133)])(path_1[_0x274a68(0x11f)]['join'](job_detail_1['jobStorePath'],job_1[_0x274a68(0x14f)]),{'encoding':_0x274a68(0x128)});return await(0x0,promises_1['rm'])(path_1[_0x274a68(0x11f)][_0x274a68(0x110)](job_detail_1[_0x274a68(0x147)],job_1[_0x274a68(0x14f)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x102507)[_0x274a68(0x115)];}[a72_0x1adaef(0x10c)](_0x2307af){const _0x20541c=a72_0x1adaef;return(0x0,promises_1[_0x20541c(0x132)])(path_1[_0x20541c(0x11f)][_0x20541c(0x110)](job_detail_1['jobStorePath'],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x20541c(0x134)](_0x2307af,_0x20541c(0x103)));}async[a72_0x1adaef(0x14e)](){const _0x268c74=a72_0x1adaef;this[_0x268c74(0x142)]=await this[_0x268c74(0x11a)]();const {objectRules:_0x48c66f,credentials:_0x3c300b}=this[_0x268c74(0x142)];this['_loggerDetails']=await new logger_details_1['LoggerDetails'](job_detail_1[_0x268c74(0x147)],job_detail_1[_0x268c74(0x137)])['init'](),this['_loggerJobState']=await new logger_job_state_1['LoggerJobState'](job_detail_1[_0x268c74(0x147)],job_detail_1[_0x268c74(0x137)])['init'](Object[_0x268c74(0x107)](_0x48c66f));try{this['_loggerJobState'][_0x268c74(0x108)](logger_enums_1[_0x268c74(0x13c)]['IN_PROGRESS']),this[_0x268c74(0x12c)]=await salesforce_1[_0x268c74(0x12a)][_0x268c74(0x13a)](new auth_manager_1[(_0x268c74(0x105))](_0x3c300b),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x268c74(0x120)](),await this[_0x268c74(0x10b)](),await this['masking'](),await this[_0x268c74(0x13f)](),this['_loggerJobState'][_0x268c74(0x108)](logger_enums_1[_0x268c74(0x13c)][_0x268c74(0x106)]);}catch(_0x52a3b2){await this[_0x268c74(0x13f)]()['catch'](_0x3e12a1=>{const _0x5ac4c9=_0x268c74;job_detail_1['systemLogger'][_0x5ac4c9(0x10f)](_0x3e12a1['message']);}),this[_0x268c74(0x13d)][_0x268c74(0x127)](_0x52a3b2[_0x268c74(0x11d)]),this['_loggerJobState']['setJobStatus'](logger_enums_1[_0x268c74(0x13c)][_0x268c74(0x149)]),this['_loggerJobState']['setJobError'](_0x52a3b2[_0x268c74(0x11d)]),job_detail_1[_0x268c74(0x141)][_0x268c74(0x10f)](_0x52a3b2[_0x268c74(0x11d)]);}finally{this[_0x268c74(0x13d)][_0x268c74(0x119)](_0x268c74(0x139)),job_detail_1['systemLogger'][_0x268c74(0x119)]('Finish\x20Masking\x20Process'),await this['_loggerJobState'][_0x268c74(0x146)](),await this[_0x268c74(0x13d)]['kill']();}}}exports[a72_0x1adaef(0x143)]=MaskingJob,new MaskingJob()[a72_0x1adaef(0x14e)]()[a72_0x1adaef(0x14c)](()=>process['exit'](0x0))['catch'](()=>process[a72_0x1adaef(0x118)](0x1));