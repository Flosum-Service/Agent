const a73_0x3d2ac6=a73_0x3339;(function(_0x217eaa,_0xd55919){const _0x36a9ec=a73_0x3339,_0x289bf8=_0x217eaa();while(!![]){try{const _0x4950ab=parseInt(_0x36a9ec(0x1eb))/0x1*(parseInt(_0x36a9ec(0x22a))/0x2)+-parseInt(_0x36a9ec(0x1f3))/0x3*(-parseInt(_0x36a9ec(0x221))/0x4)+parseInt(_0x36a9ec(0x1fc))/0x5*(-parseInt(_0x36a9ec(0x1ee))/0x6)+-parseInt(_0x36a9ec(0x214))/0x7*(-parseInt(_0x36a9ec(0x222))/0x8)+-parseInt(_0x36a9ec(0x1e7))/0x9*(-parseInt(_0x36a9ec(0x1e5))/0xa)+parseInt(_0x36a9ec(0x1ea))/0xb*(-parseInt(_0x36a9ec(0x207))/0xc)+-parseInt(_0x36a9ec(0x204))/0xd;if(_0x4950ab===_0xd55919)break;else _0x289bf8['push'](_0x289bf8['shift']());}catch(_0x2548a6){_0x289bf8['push'](_0x289bf8['shift']());}}}(a73_0x2c37,0xa61c9));function a73_0x2c37(){const _0x5ce5df=['36gScmHo','init','error','getManifest','COMPLETED','3YDKLJD','catch','__importDefault','_managerAutomationProcess','from','push','../../../constants/job','message','StepsCreator','130825aTKfMm','Enable\x20automation\x20process','enableAutomationProcess','_maskingManifest','_loggerDetails','disableAutomation','readFile','JobStatus','26157456bTuiMJ','AuthManager','search','8096100BhTsZa','defineProperty','./classes/logger/logger-job-state','IN_PROGRESS','_loggerJobState','saveSourceAutomationProcessesBackup','then','writeFile','_isEnableAutomationProcessError','toString','jobStorePath','setJobError','@flosum/salesforce','1658321WSKTWN','disableAutomationProcess','systemLogger','setJobStatus','initAutomationProcess','./classes/step/steps-creator','MANIFEST_FILENAME','LoggerJobState','_request','utf-8','log','./enums/logger.enums','ManagerAutomationProcess','3826676CYsTNK','8CTQyGm','disable','kill','Start\x20Masking\x20Process','Disable\x20automation\x20process','masking','exit','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','12fIXlya','execute','./job-detail','../../shared/managers/auth.manager','MaskingJob','fs/promises','Finish\x20Masking\x20Process','../constants','_steps','constructor','jobId','join','__esModule','create','80HLoGSx','default','1469448EWIway','FAILED','apply','11JOfbLG','170737OrxaRk','getManagerAutomationProcessOptions','parse'];a73_0x2c37=function(){return _0x5ce5df;};return a73_0x2c37();}const a73_0x35346f=(function(){let _0x8d61fc=!![];return function(_0x473433,_0x3387aa){const _0x58e8e1=_0x8d61fc?function(){const _0x253fd1=a73_0x3339;if(_0x3387aa){const _0x2e0101=_0x3387aa[_0x253fd1(0x1e9)](_0x473433,arguments);return _0x3387aa=null,_0x2e0101;}}:function(){};return _0x8d61fc=![],_0x58e8e1;};}()),a73_0x88f207=a73_0x35346f(this,function(){const _0x3f2246=a73_0x3339;return a73_0x88f207[_0x3f2246(0x210)]()[_0x3f2246(0x206)]('(((.+)+)+)+$')[_0x3f2246(0x210)]()[_0x3f2246(0x1e0)](a73_0x88f207)[_0x3f2246(0x206)]('(((.+)+)+)+$');});a73_0x88f207();function a73_0x3339(_0x589fc7,_0x5dc1cb){const _0x320af7=a73_0x2c37();return a73_0x3339=function(_0x88f207,_0x35346f){_0x88f207=_0x88f207-0x1d8;let _0x2c37c1=_0x320af7[_0x88f207];return _0x2c37c1;},a73_0x3339(_0x589fc7,_0x5dc1cb);}'use strict';var __importDefault=this&&this[a73_0x3d2ac6(0x1f5)]||function(_0x30782b){const _0x1b0bbd=a73_0x3d2ac6;return _0x30782b&&_0x30782b[_0x1b0bbd(0x1e3)]?_0x30782b:{'default':_0x30782b};};Object[a73_0x3d2ac6(0x208)](exports,a73_0x3d2ac6(0x1e3),{'value':!![]}),exports['MaskingJob']=void 0x0;const promises_1=require(a73_0x3d2ac6(0x1dc)),salesforce_1=require(a73_0x3d2ac6(0x213)),steps_creator_1=require(a73_0x3d2ac6(0x219)),logger_enums_1=require(a73_0x3d2ac6(0x21f)),logger_details_1=require('./classes/logger/logger-details'),logger_job_state_1=require(a73_0x3d2ac6(0x209)),job_1=require(a73_0x3d2ac6(0x1f9)),path_1=__importDefault(require('path')),auth_manager_1=require(a73_0x3d2ac6(0x1da)),constants_1=require(a73_0x3d2ac6(0x1de)),job_detail_1=require(a73_0x3d2ac6(0x1d9));class MaskingJob{constructor(){this['_isEnableAutomationProcessError']=![];}async[a73_0x3d2ac6(0x218)](){const _0xaf5159=a73_0x3d2ac6,{objectRules:_0x5efef5}=this[_0xaf5159(0x1ff)];this[_0xaf5159(0x1f6)]=new salesforce_1[(_0xaf5159(0x220))](this[_0xaf5159(0x1ec)](_0x5efef5));}async[a73_0x3d2ac6(0x227)](){const _0x5e02c4=a73_0x3d2ac6;job_detail_1[_0x5e02c4(0x216)][_0x5e02c4(0x21e)](_0x5e02c4(0x225)),this[_0x5e02c4(0x200)][_0x5e02c4(0x21e)](_0x5e02c4(0x225));const {objectRules:_0x207ae8,libraries:_0x47fae5}=this[_0x5e02c4(0x1ff)];this[_0x5e02c4(0x1df)]=await new steps_creator_1[(_0x5e02c4(0x1fb))]({'loggerDetails':this[_0x5e02c4(0x200)],'loggerJobState':this[_0x5e02c4(0x20b)],'libraries':_0x47fae5,'objectRules':_0x207ae8,'request':this[_0x5e02c4(0x21c)]})[_0x5e02c4(0x1e4)]();for(const _0x3addc8 of this['_steps']){await _0x3addc8[_0x5e02c4(0x1d8)]();}}[a73_0x3d2ac6(0x1ec)](_0x5dcbc2){const _0x582632=a73_0x3d2ac6,_0x5c9e32=[],_0x452651=[],_0x589389=[],_0x4173b6=[];for(const _0x4af7b8 in _0x5dcbc2){const {isDisableProcessBuilder:_0x407dfe,isDisableTrigger:_0x3ea615,isDisableValidationRule:_0x24eaa1,isDisableWorkflow:_0x3c4f0a}=_0x5dcbc2[_0x4af7b8][_0x582632(0x201)];_0x407dfe&&_0x589389['push'](_0x4af7b8),_0x3ea615&&_0x5c9e32[_0x582632(0x1f8)](_0x4af7b8),_0x24eaa1&&_0x4173b6['push'](_0x4af7b8),_0x3c4f0a&&_0x452651[_0x582632(0x1f8)](_0x4af7b8);}return{'instance':this[_0x582632(0x21c)],'saveSourceMetadataBackup':this[_0x582632(0x20c)],'triggersObjects':_0x5c9e32,'workflowsObjects':_0x452651,'processBuilderObjects':_0x589389,'validationRulesObjects':_0x4173b6};}async[a73_0x3d2ac6(0x215)](){const _0x44a0fd=a73_0x3d2ac6;job_detail_1['systemLogger']['log'](_0x44a0fd(0x226)),this[_0x44a0fd(0x200)][_0x44a0fd(0x21e)](_0x44a0fd(0x226)),await this[_0x44a0fd(0x1f6)][_0x44a0fd(0x223)]();}async[a73_0x3d2ac6(0x1fe)](){const _0x565035=a73_0x3d2ac6;!this[_0x565035(0x20f)]&&(job_detail_1[_0x565035(0x216)][_0x565035(0x21e)](_0x565035(0x1fd)),this[_0x565035(0x200)]['log'](_0x565035(0x1fd)),await this[_0x565035(0x1f6)]['enable']()[_0x565035(0x1f4)](_0x4a7080=>{const _0x544f36=_0x565035;this[_0x544f36(0x20f)]=!![];throw _0x4a7080;}));}async['getManifest'](){const _0x443ccd=a73_0x3d2ac6,_0x217744=await(0x0,promises_1[_0x443ccd(0x202)])(path_1[_0x443ccd(0x1e6)][_0x443ccd(0x1e2)](job_detail_1['jobStorePath'],job_1[_0x443ccd(0x21a)]),{'encoding':_0x443ccd(0x21d)});return await(0x0,promises_1['rm'])(path_1['default'][_0x443ccd(0x1e2)](job_detail_1[_0x443ccd(0x211)],job_1[_0x443ccd(0x21a)]),{'recursive':!![],'force':!![]}),JSON[_0x443ccd(0x1ed)](_0x217744)['details'];}['saveSourceAutomationProcessesBackup'](_0x4d4307){const _0x16a22a=a73_0x3d2ac6;return(0x0,promises_1[_0x16a22a(0x20e)])(path_1[_0x16a22a(0x1e6)][_0x16a22a(0x1e2)](job_detail_1['jobStorePath'],constants_1[_0x16a22a(0x229)]),Buffer[_0x16a22a(0x1f7)](_0x4d4307,'base64'));}async[a73_0x3d2ac6(0x1d8)](){const _0x1d2147=a73_0x3d2ac6;this[_0x1d2147(0x1ff)]=await this[_0x1d2147(0x1f1)]();const {objectRules:_0x27c858,credentials:_0x26e575}=this[_0x1d2147(0x1ff)];this[_0x1d2147(0x200)]=await new logger_details_1['LoggerDetails'](job_detail_1[_0x1d2147(0x211)],job_detail_1[_0x1d2147(0x1e1)])[_0x1d2147(0x1ef)](),this['_loggerJobState']=await new logger_job_state_1[(_0x1d2147(0x21b))](job_detail_1[_0x1d2147(0x211)],job_detail_1[_0x1d2147(0x1e1)])['init'](Object['keys'](_0x27c858));try{this['_loggerJobState'][_0x1d2147(0x217)](logger_enums_1[_0x1d2147(0x203)][_0x1d2147(0x20a)]),this[_0x1d2147(0x21c)]=await salesforce_1['AxiosInstanceUtils'][_0x1d2147(0x1e4)](new auth_manager_1[(_0x1d2147(0x205))](_0x26e575),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x1d2147(0x218)](),await this[_0x1d2147(0x215)](),await this[_0x1d2147(0x227)](),await this[_0x1d2147(0x1fe)](),this[_0x1d2147(0x20b)][_0x1d2147(0x217)](logger_enums_1[_0x1d2147(0x203)][_0x1d2147(0x1f2)]);}catch(_0x4116d3){await this[_0x1d2147(0x1fe)]()['catch'](_0x5579ef=>{const _0x3f4302=_0x1d2147;job_detail_1['systemLogger'][_0x3f4302(0x1f0)](_0x5579ef[_0x3f4302(0x1fa)]);}),this[_0x1d2147(0x200)]['exception'](_0x4116d3['message']),this[_0x1d2147(0x20b)][_0x1d2147(0x217)](logger_enums_1[_0x1d2147(0x203)][_0x1d2147(0x1e8)]),this['_loggerJobState'][_0x1d2147(0x212)](_0x4116d3[_0x1d2147(0x1fa)]),job_detail_1['systemLogger'][_0x1d2147(0x1f0)](_0x4116d3[_0x1d2147(0x1fa)]);}finally{this[_0x1d2147(0x200)]['log'](_0x1d2147(0x1dd)),job_detail_1['systemLogger'][_0x1d2147(0x21e)](_0x1d2147(0x1dd)),await this[_0x1d2147(0x20b)]['kill'](),await this[_0x1d2147(0x200)][_0x1d2147(0x224)]();}}}exports[a73_0x3d2ac6(0x1db)]=MaskingJob,new MaskingJob()['execute']()[a73_0x3d2ac6(0x20d)](()=>process['exit'](0x0))[a73_0x3d2ac6(0x1f4)](()=>process[a73_0x3d2ac6(0x228)](0x1));