const a72_0x3d8c37=a72_0x3bcd;(function(_0x4ee8e8,_0x3d403c){const _0x4b77d2=a72_0x3bcd,_0x235bec=_0x4ee8e8();while(!![]){try{const _0x1c89ae=-parseInt(_0x4b77d2(0x9b))/0x1*(-parseInt(_0x4b77d2(0xbe))/0x2)+parseInt(_0x4b77d2(0x93))/0x3+-parseInt(_0x4b77d2(0x89))/0x4+-parseInt(_0x4b77d2(0xc0))/0x5*(-parseInt(_0x4b77d2(0x7a))/0x6)+-parseInt(_0x4b77d2(0xc3))/0x7*(parseInt(_0x4b77d2(0x8d))/0x8)+-parseInt(_0x4b77d2(0xad))/0x9+parseInt(_0x4b77d2(0xba))/0xa;if(_0x1c89ae===_0x3d403c)break;else _0x235bec['push'](_0x235bec['shift']());}catch(_0x11a117){_0x235bec['push'](_0x235bec['shift']());}}}(a72_0x3c10,0xccf89));const a72_0x454db4=(function(){let _0x3e4988=!![];return function(_0x36e60e,_0x3dfcbc){const _0x410514=_0x3e4988?function(){const _0x5dd6ea=a72_0x3bcd;if(_0x3dfcbc){const _0x36075d=_0x3dfcbc[_0x5dd6ea(0x94)](_0x36e60e,arguments);return _0x3dfcbc=null,_0x36075d;}}:function(){};return _0x3e4988=![],_0x410514;};}()),a72_0xd2ea0=a72_0x454db4(this,function(){const _0x50dd90=a72_0x3bcd;return a72_0xd2ea0['toString']()[_0x50dd90(0x80)](_0x50dd90(0xbf))[_0x50dd90(0xab)]()['constructor'](a72_0xd2ea0)['search']('(((.+)+)+)+$');});a72_0xd2ea0();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x51a521){return _0x51a521&&_0x51a521['__esModule']?_0x51a521:{'default':_0x51a521};};Object[a72_0x3d8c37(0xb4)](exports,a72_0x3d8c37(0xbd),{'value':!![]}),exports[a72_0x3d8c37(0x85)]=void 0x0;function a72_0x3bcd(_0xa8c870,_0x56d31d){const _0x3e6ad3=a72_0x3c10();return a72_0x3bcd=function(_0xd2ea0,_0x454db4){_0xd2ea0=_0xd2ea0-0x7a;let _0x3c1030=_0x3e6ad3[_0xd2ea0];return _0x3c1030;},a72_0x3bcd(_0xa8c870,_0x56d31d);}const promises_1=require(a72_0x3d8c37(0xb0)),salesforce_1=require(a72_0x3d8c37(0x90)),steps_creator_1=require(a72_0x3d8c37(0xa4)),logger_enums_1=require(a72_0x3d8c37(0x7b)),logger_details_1=require(a72_0x3d8c37(0xa7)),logger_job_state_1=require(a72_0x3d8c37(0x91)),job_1=require(a72_0x3d8c37(0x86)),path_1=__importDefault(require(a72_0x3d8c37(0xa6))),auth_manager_1=require(a72_0x3d8c37(0x7e)),constants_1=require(a72_0x3d8c37(0x88)),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0x82a041=a72_0x3d8c37;this[_0x82a041(0xa8)]=![];}async[a72_0x3d8c37(0x95)](){const _0x3d2cf2=a72_0x3d8c37,{objectRules:_0x33609b}=this[_0x3d2cf2(0x84)];this[_0x3d2cf2(0xa5)]=new salesforce_1[(_0x3d2cf2(0xb9))](this[_0x3d2cf2(0xaf)](_0x33609b));}async['masking'](){const _0x394134=a72_0x3d8c37;job_detail_1['systemLogger'][_0x394134(0x96)](_0x394134(0xb3)),this[_0x394134(0x9e)][_0x394134(0x96)](_0x394134(0xb3));const {objectRules:_0xa6ae79,libraries:_0x2bc251}=this[_0x394134(0x84)];this[_0x394134(0xb6)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this[_0x394134(0x9e)],'loggerJobState':this[_0x394134(0x97)],'libraries':_0x2bc251,'objectRules':_0xa6ae79,'request':this['_request']})[_0x394134(0xaa)]();for(const _0x488c74 of this[_0x394134(0xb6)]){await _0x488c74[_0x394134(0xbb)]();}}[a72_0x3d8c37(0xaf)](_0x428d62){const _0x42d065=a72_0x3d8c37,_0xdd4c7e=[],_0x2456b8=[],_0x1a0278=[],_0x550d92=[];for(const _0x17356f in _0x428d62){const {isDisableProcessBuilder:_0x193d8b,isDisableTrigger:_0x406bc8,isDisableValidationRule:_0x2008b3,isDisableWorkflow:_0x348531}=_0x428d62[_0x17356f]['disableAutomation'];_0x193d8b&&_0x1a0278[_0x42d065(0x9a)](_0x17356f),_0x406bc8&&_0xdd4c7e[_0x42d065(0x9a)](_0x17356f),_0x2008b3&&_0x550d92[_0x42d065(0x9a)](_0x17356f),_0x348531&&_0x2456b8[_0x42d065(0x9a)](_0x17356f);}return{'instance':this['_request'],'saveSourceMetadataBackup':this[_0x42d065(0x98)],'triggersObjects':_0xdd4c7e,'workflowsObjects':_0x2456b8,'processBuilderObjects':_0x1a0278,'validationRulesObjects':_0x550d92};}async[a72_0x3d8c37(0xc9)](){const _0x3eefed=a72_0x3d8c37;job_detail_1[_0x3eefed(0xb7)][_0x3eefed(0x96)](_0x3eefed(0xc8)),this[_0x3eefed(0x9e)][_0x3eefed(0x96)](_0x3eefed(0xc8)),await this[_0x3eefed(0xa5)]['disable']();}async['enableAutomationProcess'](){const _0x2e7874=a72_0x3d8c37;!this['_isEnableAutomationProcessError']&&(job_detail_1[_0x2e7874(0xb7)]['log'](_0x2e7874(0xa1)),this[_0x2e7874(0x9e)]['log']('Enable\x20automation\x20process'),await this[_0x2e7874(0xa5)][_0x2e7874(0x99)]()[_0x2e7874(0x8e)](_0x518094=>{const _0x15e6f2=_0x2e7874;this[_0x15e6f2(0xa8)]=!![];throw _0x518094;}));}async[a72_0x3d8c37(0x81)](){const _0x35426c=a72_0x3d8c37,_0x275db4=await(0x0,promises_1['readFile'])(path_1[_0x35426c(0xac)][_0x35426c(0x8a)](job_detail_1[_0x35426c(0xae)],job_1[_0x35426c(0xb1)]),{'encoding':_0x35426c(0xc1)});return await(0x0,promises_1['rm'])(path_1[_0x35426c(0xac)][_0x35426c(0x8a)](job_detail_1[_0x35426c(0xae)],job_1[_0x35426c(0xb1)]),{'recursive':!![],'force':!![]}),JSON[_0x35426c(0xb2)](_0x275db4)[_0x35426c(0xa9)];}[a72_0x3d8c37(0x98)](_0x250646){const _0x2613f5=a72_0x3d8c37;return(0x0,promises_1[_0x2613f5(0xa2)])(path_1['default'][_0x2613f5(0x8a)](job_detail_1[_0x2613f5(0xae)],constants_1[_0x2613f5(0x7d)]),Buffer[_0x2613f5(0xa0)](_0x250646,_0x2613f5(0xb5)));}async[a72_0x3d8c37(0xbb)](){const _0x250d13=a72_0x3d8c37;this['_maskingManifest']=await this[_0x250d13(0x81)]();const {objectRules:_0x1e91b0,credentials:_0x36e7cf}=this[_0x250d13(0x84)];this[_0x250d13(0x9e)]=await new logger_details_1[(_0x250d13(0xc6))](job_detail_1[_0x250d13(0xae)],job_detail_1['jobId'])['init'](),this[_0x250d13(0x97)]=await new logger_job_state_1[(_0x250d13(0x8c))](job_detail_1[_0x250d13(0xae)],job_detail_1[_0x250d13(0xc4)])[_0x250d13(0xa3)](Object['keys'](_0x1e91b0));try{this[_0x250d13(0x97)][_0x250d13(0xbc)](logger_enums_1[_0x250d13(0x87)][_0x250d13(0x8f)]),this[_0x250d13(0x92)]=await salesforce_1[_0x250d13(0x83)][_0x250d13(0xaa)](new auth_manager_1[(_0x250d13(0x7f))](_0x36e7cf),[],{'headers':{'Accept-Encoding':_0x250d13(0xc5)}}),await this[_0x250d13(0x95)](),await this[_0x250d13(0xc9)](),await this[_0x250d13(0x9d)](),await this[_0x250d13(0x8b)](),this[_0x250d13(0x97)][_0x250d13(0xbc)](logger_enums_1[_0x250d13(0x87)][_0x250d13(0x7c)]);}catch(_0x4c98a0){await this['enableAutomationProcess']()['catch'](_0x1d0196=>{const _0xd611a6=_0x250d13;job_detail_1[_0xd611a6(0xb7)]['error'](_0x1d0196[_0xd611a6(0xc2)]);}),this[_0x250d13(0x9e)]['exception'](_0x4c98a0[_0x250d13(0xc2)]),this[_0x250d13(0x97)][_0x250d13(0xbc)](logger_enums_1[_0x250d13(0x87)]['FAILED']),this[_0x250d13(0x97)][_0x250d13(0x9f)](_0x4c98a0[_0x250d13(0xc2)]),job_detail_1[_0x250d13(0xb7)][_0x250d13(0x9c)](_0x4c98a0[_0x250d13(0xc2)]);}finally{this[_0x250d13(0x9e)]['log'](_0x250d13(0xb8)),job_detail_1['systemLogger']['log'](_0x250d13(0xb8)),await this[_0x250d13(0x97)][_0x250d13(0x82)](),await this[_0x250d13(0x9e)][_0x250d13(0x82)]();}}}exports[a72_0x3d8c37(0x85)]=MaskingJob,new MaskingJob()['execute']()['then'](()=>process['exit'](0x0))[a72_0x3d8c37(0x8e)](()=>process[a72_0x3d8c37(0xc7)](0x1));function a72_0x3c10(){const _0x5d8ab8=['../../shared/managers/auth.manager','AuthManager','search','getManifest','kill','AxiosInstanceUtils','_maskingManifest','MaskingJob','../../../constants/job','JobStatus','../constants','4223220VTlDro','join','enableAutomationProcess','LoggerJobState','47384nmnJPw','catch','IN_PROGRESS','@flosum/salesforce','./classes/logger/logger-job-state','_request','519861IkVFEj','apply','initAutomationProcess','log','_loggerJobState','saveSourceAutomationProcessesBackup','enable','push','1025eyJnoM','error','masking','_loggerDetails','setJobError','from','Enable\x20automation\x20process','writeFile','init','./classes/step/steps-creator','_managerAutomationProcess','path','./classes/logger/logger-details','_isEnableAutomationProcessError','details','create','toString','default','9738675JMRsWp','jobStorePath','getManagerAutomationProcessOptions','fs/promises','MANIFEST_FILENAME','parse','Start\x20Masking\x20Process','defineProperty','base64','_steps','systemLogger','Finish\x20Masking\x20Process','ManagerAutomationProcess','25862350YQawlX','execute','setJobStatus','__esModule','1588uABQqm','(((.+)+)+)+$','1758745LyPRtZ','utf-8','message','1120fQivvX','jobId','gzip','LoggerDetails','exit','Disable\x20automation\x20process','disableAutomationProcess','6lLSAar','./enums/logger.enums','COMPLETED','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME'];a72_0x3c10=function(){return _0x5d8ab8;};return a72_0x3c10();}