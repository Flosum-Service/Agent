const a73_0x5c8418=a73_0x2fb5;(function(_0xa88913,_0x5eb914){const _0x5e4b27=a73_0x2fb5,_0x555257=_0xa88913();while(!![]){try{const _0x24d806=parseInt(_0x5e4b27(0x109))/0x1*(-parseInt(_0x5e4b27(0xec))/0x2)+-parseInt(_0x5e4b27(0xee))/0x3+parseInt(_0x5e4b27(0xf8))/0x4+parseInt(_0x5e4b27(0xef))/0x5+-parseInt(_0x5e4b27(0x11f))/0x6*(parseInt(_0x5e4b27(0x10a))/0x7)+-parseInt(_0x5e4b27(0xe6))/0x8+parseInt(_0x5e4b27(0x125))/0x9;if(_0x24d806===_0x5eb914)break;else _0x555257['push'](_0x555257['shift']());}catch(_0x1889b0){_0x555257['push'](_0x555257['shift']());}}}(a73_0x39ec,0x329e0));const a73_0x3374c4=(function(){let _0x44630f=!![];return function(_0xd9b7b0,_0x4a5fb2){const _0x4884f9=_0x44630f?function(){const _0x5f17c5=a73_0x2fb5;if(_0x4a5fb2){const _0x3ae6c4=_0x4a5fb2[_0x5f17c5(0x106)](_0xd9b7b0,arguments);return _0x4a5fb2=null,_0x3ae6c4;}}:function(){};return _0x44630f=![],_0x4884f9;};}()),a73_0x2cd3ad=a73_0x3374c4(this,function(){const _0x3fb168=a73_0x2fb5;return a73_0x2cd3ad[_0x3fb168(0xd9)]()[_0x3fb168(0xfd)](_0x3fb168(0x129))[_0x3fb168(0xd9)]()['constructor'](a73_0x2cd3ad)[_0x3fb168(0xfd)](_0x3fb168(0x129));});a73_0x2cd3ad();'use strict';var __importDefault=this&&this[a73_0x5c8418(0xfe)]||function(_0x9d4ca1){const _0x37e958=a73_0x5c8418;return _0x9d4ca1&&_0x9d4ca1[_0x37e958(0xdd)]?_0x9d4ca1:{'default':_0x9d4ca1};};Object[a73_0x5c8418(0xdb)](exports,a73_0x5c8418(0xdd),{'value':!![]}),exports[a73_0x5c8418(0xf7)]=void 0x0;const promises_1=require(a73_0x5c8418(0x122)),salesforce_1=require('@flosum/salesforce'),steps_creator_1=require(a73_0x5c8418(0x113)),logger_enums_1=require(a73_0x5c8418(0x11d)),logger_details_1=require(a73_0x5c8418(0xfc)),logger_job_state_1=require(a73_0x5c8418(0xe9)),job_1=require(a73_0x5c8418(0x11a)),path_1=__importDefault(require(a73_0x5c8418(0x104))),auth_manager_1=require(a73_0x5c8418(0x10c)),constants_1=require(a73_0x5c8418(0xf1)),job_detail_1=require(a73_0x5c8418(0xfb));function a73_0x2fb5(_0x59a232,_0x3fe9b6){const _0x86f794=a73_0x39ec();return a73_0x2fb5=function(_0x2cd3ad,_0x3374c4){_0x2cd3ad=_0x2cd3ad-0xd9;let _0x39ecd4=_0x86f794[_0x2cd3ad];return _0x39ecd4;},a73_0x2fb5(_0x59a232,_0x3fe9b6);}class MaskingJob{constructor(){const _0x43b1d2=a73_0x5c8418;this[_0x43b1d2(0x112)]=![];}async['initAutomationProcess'](){const _0x3d84a6=a73_0x5c8418,{objectRules:_0x3384cc}=this[_0x3d84a6(0x11b)];this[_0x3d84a6(0x124)]=new salesforce_1[(_0x3d84a6(0xf3))](this['getManagerAutomationProcessOptions'](_0x3384cc));}async['masking'](){const _0x41ff24=a73_0x5c8418;job_detail_1[_0x41ff24(0x103)][_0x41ff24(0xe8)](_0x41ff24(0xdc)),this[_0x41ff24(0x107)]['log'](_0x41ff24(0xdc));const {objectRules:_0x433332,libraries:_0x461c5b}=this[_0x41ff24(0x11b)];this[_0x41ff24(0xe4)]=await new steps_creator_1[(_0x41ff24(0xfa))]({'loggerDetails':this[_0x41ff24(0x107)],'loggerJobState':this[_0x41ff24(0xdf)],'libraries':_0x461c5b,'objectRules':_0x433332,'request':this[_0x41ff24(0x10f)]})[_0x41ff24(0x10d)]();for(const _0x4a4846 of this[_0x41ff24(0xe4)]){await _0x4a4846[_0x41ff24(0xde)]();}}[a73_0x5c8418(0x108)](_0x3c6e20){const _0x1159ef=a73_0x5c8418,_0x21ff2a=[],_0x257433=[],_0x2e320b=[],_0x307a39=[];for(const _0x35e3f9 in _0x3c6e20){const {isDisableProcessBuilder:_0xc7af66,isDisableTrigger:_0x4afc19,isDisableValidationRule:_0x599b7f,isDisableWorkflow:_0x59e8ce}=_0x3c6e20[_0x35e3f9][_0x1159ef(0x105)];_0xc7af66&&_0x2e320b[_0x1159ef(0xe7)](_0x35e3f9),_0x4afc19&&_0x21ff2a[_0x1159ef(0xe7)](_0x35e3f9),_0x599b7f&&_0x307a39[_0x1159ef(0xe7)](_0x35e3f9),_0x59e8ce&&_0x257433[_0x1159ef(0xe7)](_0x35e3f9);}return{'instance':this[_0x1159ef(0x10f)],'saveSourceMetadataBackup':this[_0x1159ef(0x100)],'triggersObjects':_0x21ff2a,'workflowsObjects':_0x257433,'processBuilderObjects':_0x2e320b,'validationRulesObjects':_0x307a39};}async['disableAutomationProcess'](){const _0x4ccb72=a73_0x5c8418;job_detail_1[_0x4ccb72(0x103)][_0x4ccb72(0xe8)]('Disable\x20automation\x20process'),this['_loggerDetails'][_0x4ccb72(0xe8)]('Disable\x20automation\x20process'),await this[_0x4ccb72(0x124)][_0x4ccb72(0x121)]();}async[a73_0x5c8418(0x114)](){const _0x6221f0=a73_0x5c8418;!this[_0x6221f0(0x112)]&&(job_detail_1[_0x6221f0(0x103)][_0x6221f0(0xe8)](_0x6221f0(0x126)),this[_0x6221f0(0x107)][_0x6221f0(0xe8)](_0x6221f0(0x126)),await this[_0x6221f0(0x124)][_0x6221f0(0xda)]()[_0x6221f0(0x11c)](_0x19263b=>{this['_isEnableAutomationProcessError']=!![];throw _0x19263b;}));}async[a73_0x5c8418(0x127)](){const _0x1801cd=a73_0x5c8418,_0x56f367=await(0x0,promises_1[_0x1801cd(0x123)])(path_1['default'][_0x1801cd(0xeb)](job_detail_1[_0x1801cd(0x110)],job_1[_0x1801cd(0xf9)]),{'encoding':_0x1801cd(0xe3)});return await(0x0,promises_1['rm'])(path_1[_0x1801cd(0x128)]['join'](job_detail_1['jobStorePath'],job_1[_0x1801cd(0xf9)]),{'recursive':!![],'force':!![]}),JSON[_0x1801cd(0x11e)](_0x56f367)[_0x1801cd(0xf0)];}['saveSourceAutomationProcessesBackup'](_0x14b298){const _0x532343=a73_0x5c8418;return(0x0,promises_1[_0x532343(0x120)])(path_1[_0x532343(0x128)][_0x532343(0xeb)](job_detail_1[_0x532343(0x110)],constants_1[_0x532343(0x10e)]),Buffer['from'](_0x14b298,_0x532343(0x119)));}async[a73_0x5c8418(0xde)](){const _0x353397=a73_0x5c8418;this[_0x353397(0x11b)]=await this[_0x353397(0x127)]();const {objectRules:_0x371beb,credentials:_0x34b4a7}=this[_0x353397(0x11b)];this['_loggerDetails']=await new logger_details_1[(_0x353397(0xff))](job_detail_1[_0x353397(0x110)],job_detail_1[_0x353397(0x111)])[_0x353397(0xf5)](),this['_loggerJobState']=await new logger_job_state_1[(_0x353397(0x116))](job_detail_1[_0x353397(0x110)],job_detail_1['jobId'])[_0x353397(0xf5)](Object[_0x353397(0x102)](_0x371beb));try{this['_loggerJobState']['setJobStatus'](logger_enums_1['JobStatus'][_0x353397(0x118)]),this['_request']=await salesforce_1[_0x353397(0x10b)][_0x353397(0x10d)](new auth_manager_1[(_0x353397(0x117))](_0x34b4a7),[],{'headers':{'Accept-Encoding':_0x353397(0xe1)}}),await this['initAutomationProcess'](),await this[_0x353397(0xf4)](),await this['masking'](),await this['enableAutomationProcess'](),this['_loggerJobState']['setJobStatus'](logger_enums_1[_0x353397(0x115)]['COMPLETED']);}catch(_0x29dfbf){await this[_0x353397(0x114)]()[_0x353397(0x11c)](_0x24aa72=>{const _0x461403=_0x353397;job_detail_1['systemLogger'][_0x461403(0xf2)](_0x24aa72[_0x461403(0xe0)]);}),this['_loggerDetails'][_0x353397(0xe5)](_0x29dfbf[_0x353397(0xe0)]),this[_0x353397(0xdf)][_0x353397(0x101)](logger_enums_1[_0x353397(0x115)][_0x353397(0xed)]),this[_0x353397(0xdf)][_0x353397(0xe2)](_0x29dfbf[_0x353397(0xe0)]),job_detail_1[_0x353397(0x103)][_0x353397(0xf2)](_0x29dfbf[_0x353397(0xe0)]);}finally{this[_0x353397(0x107)][_0x353397(0xe8)](_0x353397(0x12a)),job_detail_1[_0x353397(0x103)][_0x353397(0xe8)](_0x353397(0x12a)),await this[_0x353397(0xdf)][_0x353397(0xea)](),await this[_0x353397(0x107)]['kill']();}}}exports[a73_0x5c8418(0xf7)]=MaskingJob,new MaskingJob()['execute']()['then'](()=>process[a73_0x5c8418(0xf6)](0x0))[a73_0x5c8418(0x11c)](()=>process[a73_0x5c8418(0xf6)](0x1));function a73_0x39ec(){const _0x334d7a=['_maskingManifest','catch','./enums/logger.enums','parse','6IjrcdH','writeFile','disable','fs/promises','readFile','_managerAutomationProcess','4175370DzABAF','Enable\x20automation\x20process','getManifest','default','(((.+)+)+)+$','Finish\x20Masking\x20Process','toString','enable','defineProperty','Start\x20Masking\x20Process','__esModule','execute','_loggerJobState','message','gzip','setJobError','utf-8','_steps','exception','1484136xPGvse','push','log','./classes/logger/logger-job-state','kill','join','700506GeWJoJ','FAILED','981012KjbxVw','2067325MZzctO','details','../constants','error','ManagerAutomationProcess','disableAutomationProcess','init','exit','MaskingJob','1469604KzYTHO','MANIFEST_FILENAME','StepsCreator','./job-detail','./classes/logger/logger-details','search','__importDefault','LoggerDetails','saveSourceAutomationProcessesBackup','setJobStatus','keys','systemLogger','path','disableAutomation','apply','_loggerDetails','getManagerAutomationProcessOptions','1nBcGxX','1222858XYaIMl','AxiosInstanceUtils','../../shared/managers/auth.manager','create','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','_request','jobStorePath','jobId','_isEnableAutomationProcessError','./classes/step/steps-creator','enableAutomationProcess','JobStatus','LoggerJobState','AuthManager','IN_PROGRESS','base64','../../../constants/job'];a73_0x39ec=function(){return _0x334d7a;};return a73_0x39ec();}