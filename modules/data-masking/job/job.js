const a73_0x493676=a73_0x26f3;(function(_0x2af865,_0x28f68d){const _0x30bcf9=a73_0x26f3,_0x3e9b52=_0x2af865();while(!![]){try{const _0x111fce=parseInt(_0x30bcf9(0x1ce))/0x1+-parseInt(_0x30bcf9(0x190))/0x2*(parseInt(_0x30bcf9(0x183))/0x3)+parseInt(_0x30bcf9(0x1ab))/0x4*(parseInt(_0x30bcf9(0x1cb))/0x5)+-parseInt(_0x30bcf9(0x1c3))/0x6+-parseInt(_0x30bcf9(0x1a1))/0x7+parseInt(_0x30bcf9(0x1b2))/0x8+parseInt(_0x30bcf9(0x191))/0x9*(parseInt(_0x30bcf9(0x194))/0xa);if(_0x111fce===_0x28f68d)break;else _0x3e9b52['push'](_0x3e9b52['shift']());}catch(_0x489b01){_0x3e9b52['push'](_0x3e9b52['shift']());}}}(a73_0x5752,0x4b1fa));const a73_0x1c00e0=(function(){let _0x4a7973=!![];return function(_0x4f768d,_0xef9e5f){const _0x48db48=_0x4a7973?function(){const _0x5b9605=a73_0x26f3;if(_0xef9e5f){const _0x9a2c37=_0xef9e5f[_0x5b9605(0x1c7)](_0x4f768d,arguments);return _0xef9e5f=null,_0x9a2c37;}}:function(){};return _0x4a7973=![],_0x48db48;};}()),a73_0x21e0b5=a73_0x1c00e0(this,function(){const _0xec4fb7=a73_0x26f3;return a73_0x21e0b5['toString']()[_0xec4fb7(0x19c)](_0xec4fb7(0x196))[_0xec4fb7(0x1ac)]()[_0xec4fb7(0x184)](a73_0x21e0b5)[_0xec4fb7(0x19c)](_0xec4fb7(0x196));});function a73_0x26f3(_0x4688dd,_0x63ff41){const _0x56a89c=a73_0x5752();return a73_0x26f3=function(_0x21e0b5,_0x1c00e0){_0x21e0b5=_0x21e0b5-0x17e;let _0x5752be=_0x56a89c[_0x21e0b5];return _0x5752be;},a73_0x26f3(_0x4688dd,_0x63ff41);}function a73_0x5752(){const _0x25cffa=['710298EKTCgq','systemLogger','../../shared/managers/auth.manager','10oWtiqF','LoggerJobState','(((.+)+)+)+$','setJobStatus','StepsCreator','getManagerAutomationProcessOptions','_isEnableAutomationProcessError','Disable\x20automation\x20process','search','utf-8','IN_PROGRESS','ManagerAutomationProcess','exception','2696561mPyHWQ','create','@flosum/salesforce','__importDefault','error','AuthManager','log','AxiosInstanceUtils','COMPLETED','Finish\x20Masking\x20Process','12tplqyQ','toString','_loggerDetails','catch','enableAutomationProcess','_steps','getManifest','1147368gMKEbS','init','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','disable','_maskingManifest','setJobError','gzip','../../../constants/job','enable','push','execute','_request','initAutomationProcess','parse','JobStatus','default','then','366414zAPRiU','from','base64','_managerAutomationProcess','apply','writeFile','MaskingJob','saveSourceAutomationProcessesBackup','912840pJBVWu','Start\x20Masking\x20Process','exit','274kJvFzA','MANIFEST_FILENAME','disableAutomation','masking','join','jobStorePath','details','keys','readFile','48969FBJBNF','constructor','../constants','__esModule','_loggerJobState','./classes/step/steps-creator','disableAutomationProcess','./classes/logger/logger-details','message','defineProperty','jobId','kill','Enable\x20automation\x20process','2bPVKzp'];a73_0x5752=function(){return _0x25cffa;};return a73_0x5752();}a73_0x21e0b5();'use strict';var __importDefault=this&&this[a73_0x493676(0x1a4)]||function(_0x34a7b7){const _0x51ae6e=a73_0x493676;return _0x34a7b7&&_0x34a7b7[_0x51ae6e(0x186)]?_0x34a7b7:{'default':_0x34a7b7};};Object[a73_0x493676(0x18c)](exports,a73_0x493676(0x186),{'value':!![]}),exports[a73_0x493676(0x1c9)]=void 0x0;const promises_1=require('fs/promises'),salesforce_1=require(a73_0x493676(0x1a3)),steps_creator_1=require(a73_0x493676(0x188)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a73_0x493676(0x18a)),logger_job_state_1=require('./classes/logger/logger-job-state'),job_1=require(a73_0x493676(0x1b9)),path_1=__importDefault(require('path')),auth_manager_1=require(a73_0x493676(0x193)),constants_1=require(a73_0x493676(0x185)),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0xb69886=a73_0x493676;this[_0xb69886(0x19a)]=![];}async[a73_0x493676(0x1be)](){const _0x43721d=a73_0x493676,{objectRules:_0x278007}=this[_0x43721d(0x1b6)];this[_0x43721d(0x1c6)]=new salesforce_1[(_0x43721d(0x19f))](this[_0x43721d(0x199)](_0x278007));}async[a73_0x493676(0x1d1)](){const _0x43c531=a73_0x493676;job_detail_1[_0x43c531(0x192)][_0x43c531(0x1a7)](_0x43c531(0x1cc)),this[_0x43c531(0x1ad)][_0x43c531(0x1a7)](_0x43c531(0x1cc));const {objectRules:_0x4260e5,libraries:_0x1587a1}=this['_maskingManifest'];this[_0x43c531(0x1b0)]=await new steps_creator_1[(_0x43c531(0x198))]({'loggerDetails':this['_loggerDetails'],'loggerJobState':this[_0x43c531(0x187)],'libraries':_0x1587a1,'objectRules':_0x4260e5,'request':this[_0x43c531(0x1bd)]})[_0x43c531(0x1a2)]();for(const _0x31fdab of this[_0x43c531(0x1b0)]){await _0x31fdab[_0x43c531(0x1bc)]();}}[a73_0x493676(0x199)](_0x372115){const _0x7dfd69=a73_0x493676,_0x4710b5=[],_0x57b82c=[],_0x3f91ed=[],_0x3fe333=[];for(const _0x3de449 in _0x372115){const {isDisableProcessBuilder:_0x3a9140,isDisableTrigger:_0x534378,isDisableValidationRule:_0x1a9fac,isDisableWorkflow:_0x57c9f2}=_0x372115[_0x3de449][_0x7dfd69(0x1d0)];_0x3a9140&&_0x3f91ed[_0x7dfd69(0x1bb)](_0x3de449),_0x534378&&_0x4710b5[_0x7dfd69(0x1bb)](_0x3de449),_0x1a9fac&&_0x3fe333['push'](_0x3de449),_0x57c9f2&&_0x57b82c['push'](_0x3de449);}return{'instance':this[_0x7dfd69(0x1bd)],'saveSourceMetadataBackup':this[_0x7dfd69(0x1ca)],'triggersObjects':_0x4710b5,'workflowsObjects':_0x57b82c,'processBuilderObjects':_0x3f91ed,'validationRulesObjects':_0x3fe333};}async[a73_0x493676(0x189)](){const _0xfc7871=a73_0x493676;job_detail_1[_0xfc7871(0x192)]['log']('Disable\x20automation\x20process'),this[_0xfc7871(0x1ad)]['log'](_0xfc7871(0x19b)),await this[_0xfc7871(0x1c6)][_0xfc7871(0x1b5)]();}async[a73_0x493676(0x1af)](){const _0x41fc27=a73_0x493676;!this[_0x41fc27(0x19a)]&&(job_detail_1[_0x41fc27(0x192)][_0x41fc27(0x1a7)](_0x41fc27(0x18f)),this[_0x41fc27(0x1ad)][_0x41fc27(0x1a7)](_0x41fc27(0x18f)),await this[_0x41fc27(0x1c6)][_0x41fc27(0x1ba)]()['catch'](_0x33f760=>{const _0x3d4188=_0x41fc27;this[_0x3d4188(0x19a)]=!![];throw _0x33f760;}));}async[a73_0x493676(0x1b1)](){const _0x47d4d=a73_0x493676,_0x3d611b=await(0x0,promises_1[_0x47d4d(0x182)])(path_1[_0x47d4d(0x1c1)][_0x47d4d(0x17e)](job_detail_1[_0x47d4d(0x17f)],job_1[_0x47d4d(0x1cf)]),{'encoding':_0x47d4d(0x19d)});return await(0x0,promises_1['rm'])(path_1[_0x47d4d(0x1c1)][_0x47d4d(0x17e)](job_detail_1[_0x47d4d(0x17f)],job_1['MANIFEST_FILENAME']),{'recursive':!![],'force':!![]}),JSON[_0x47d4d(0x1bf)](_0x3d611b)[_0x47d4d(0x180)];}[a73_0x493676(0x1ca)](_0x5aa678){const _0x2126c0=a73_0x493676;return(0x0,promises_1[_0x2126c0(0x1c8)])(path_1[_0x2126c0(0x1c1)]['join'](job_detail_1['jobStorePath'],constants_1[_0x2126c0(0x1b4)]),Buffer[_0x2126c0(0x1c4)](_0x5aa678,_0x2126c0(0x1c5)));}async[a73_0x493676(0x1bc)](){const _0x3b799b=a73_0x493676;this[_0x3b799b(0x1b6)]=await this[_0x3b799b(0x1b1)]();const {objectRules:_0x5d726a,credentials:_0x2341ab}=this[_0x3b799b(0x1b6)];this['_loggerDetails']=await new logger_details_1['LoggerDetails'](job_detail_1['jobStorePath'],job_detail_1['jobId'])[_0x3b799b(0x1b3)](),this['_loggerJobState']=await new logger_job_state_1[(_0x3b799b(0x195))](job_detail_1[_0x3b799b(0x17f)],job_detail_1[_0x3b799b(0x18d)])[_0x3b799b(0x1b3)](Object[_0x3b799b(0x181)](_0x5d726a));try{this['_loggerJobState'][_0x3b799b(0x197)](logger_enums_1[_0x3b799b(0x1c0)][_0x3b799b(0x19e)]),this[_0x3b799b(0x1bd)]=await salesforce_1[_0x3b799b(0x1a8)][_0x3b799b(0x1a2)](new auth_manager_1[(_0x3b799b(0x1a6))](_0x2341ab),[],{'headers':{'Accept-Encoding':_0x3b799b(0x1b8)}}),await this[_0x3b799b(0x1be)](),await this[_0x3b799b(0x189)](),await this[_0x3b799b(0x1d1)](),await this['enableAutomationProcess'](),this['_loggerJobState']['setJobStatus'](logger_enums_1['JobStatus'][_0x3b799b(0x1a9)]);}catch(_0xe77dff){await this[_0x3b799b(0x1af)]()[_0x3b799b(0x1ae)](_0x212e5c=>{const _0x3e63db=_0x3b799b;job_detail_1[_0x3e63db(0x192)][_0x3e63db(0x1a5)](_0x212e5c[_0x3e63db(0x18b)]);}),this[_0x3b799b(0x1ad)][_0x3b799b(0x1a0)](_0xe77dff[_0x3b799b(0x18b)]),this[_0x3b799b(0x187)]['setJobStatus'](logger_enums_1[_0x3b799b(0x1c0)]['FAILED']),this[_0x3b799b(0x187)][_0x3b799b(0x1b7)](_0xe77dff[_0x3b799b(0x18b)]),job_detail_1[_0x3b799b(0x192)][_0x3b799b(0x1a5)](_0xe77dff[_0x3b799b(0x18b)]);}finally{this[_0x3b799b(0x1ad)][_0x3b799b(0x1a7)]('Finish\x20Masking\x20Process'),job_detail_1[_0x3b799b(0x192)][_0x3b799b(0x1a7)](_0x3b799b(0x1aa)),await this[_0x3b799b(0x187)]['kill'](),await this['_loggerDetails'][_0x3b799b(0x18e)]();}}}exports[a73_0x493676(0x1c9)]=MaskingJob,new MaskingJob()['execute']()[a73_0x493676(0x1c2)](()=>process[a73_0x493676(0x1cd)](0x0))['catch'](()=>process[a73_0x493676(0x1cd)](0x1));