const a88_0x14e829=a88_0x43c0;(function(_0x1ea36c,_0x51a7f1){const _0x6744b7=a88_0x43c0,_0x2becdc=_0x1ea36c();while(!![]){try{const _0x4acf47=-parseInt(_0x6744b7(0xc4))/0x1+parseInt(_0x6744b7(0xa8))/0x2*(parseInt(_0x6744b7(0xae))/0x3)+-parseInt(_0x6744b7(0x90))/0x4+parseInt(_0x6744b7(0x95))/0x5+-parseInt(_0x6744b7(0xc5))/0x6+-parseInt(_0x6744b7(0x86))/0x7+parseInt(_0x6744b7(0xb7))/0x8*(parseInt(_0x6744b7(0x8b))/0x9);if(_0x4acf47===_0x51a7f1)break;else _0x2becdc['push'](_0x2becdc['shift']());}catch(_0x34d1fa){_0x2becdc['push'](_0x2becdc['shift']());}}}(a88_0x5633,0xee73f));function a88_0x43c0(_0x498882,_0x58d6ac){const _0x1944e3=a88_0x5633();return a88_0x43c0=function(_0x6cd1a7,_0x3e73e9){_0x6cd1a7=_0x6cd1a7-0x76;let _0x56334d=_0x1944e3[_0x6cd1a7];return _0x56334d;},a88_0x43c0(_0x498882,_0x58d6ac);}const a88_0x3e73e9=(function(){let _0x141a63=!![];return function(_0x563d77,_0x400df2){const _0x19db12=_0x141a63?function(){const _0x3d52eb=a88_0x43c0;if(_0x400df2){const _0x1ca1bb=_0x400df2[_0x3d52eb(0xb3)](_0x563d77,arguments);return _0x400df2=null,_0x1ca1bb;}}:function(){};return _0x141a63=![],_0x19db12;};}()),a88_0x6cd1a7=a88_0x3e73e9(this,function(){const _0x423d74=a88_0x43c0;return a88_0x6cd1a7[_0x423d74(0x94)]()[_0x423d74(0x8e)](_0x423d74(0xaa))['toString']()[_0x423d74(0x9c)](a88_0x6cd1a7)[_0x423d74(0x8e)]('(((.+)+)+)+$');});a88_0x6cd1a7();'use strict';var __importDefault=this&&this[a88_0x14e829(0x85)]||function(_0x5c903e){const _0x5a2b1f=a88_0x14e829;return _0x5c903e&&_0x5c903e[_0x5a2b1f(0x7f)]?_0x5c903e:{'default':_0x5c903e};};Object[a88_0x14e829(0xaf)](exports,a88_0x14e829(0x7f),{'value':!![]}),exports[a88_0x14e829(0x83)]=void 0x0;const promises_1=require(a88_0x14e829(0x7d)),salesforce_1=require(a88_0x14e829(0xc1)),steps_creator_1=require(a88_0x14e829(0x92)),logger_enums_1=require(a88_0x14e829(0xbe)),logger_details_1=require(a88_0x14e829(0xc0)),logger_job_state_1=require(a88_0x14e829(0xa6)),job_1=require(a88_0x14e829(0xa9)),path_1=__importDefault(require(a88_0x14e829(0x87))),auth_manager_1=require(a88_0x14e829(0x78)),constants_1=require(a88_0x14e829(0x8f)),job_detail_1=require(a88_0x14e829(0xb6));class MaskingJob{constructor(){const _0x48963f=a88_0x14e829;this[_0x48963f(0xab)]=![];}async[a88_0x14e829(0xa7)](){const _0x7fe82f=a88_0x14e829,{objectRules:_0x7ac0ce}=this[_0x7fe82f(0xb0)];this[_0x7fe82f(0x99)]=new salesforce_1[(_0x7fe82f(0x84))](this[_0x7fe82f(0x98)](_0x7ac0ce));}async['masking'](){const _0x2e0d3e=a88_0x14e829;job_detail_1[_0x2e0d3e(0x7a)][_0x2e0d3e(0xa0)]('Start\x20Masking\x20Process'),this['_loggerDetails'][_0x2e0d3e(0xa0)](_0x2e0d3e(0xad));const {objectRules:_0xf3a226,libraries:_0x2ef55d}=this[_0x2e0d3e(0xb0)];this[_0x2e0d3e(0xb9)]=await new steps_creator_1[(_0x2e0d3e(0xbb))]({'loggerDetails':this[_0x2e0d3e(0xa1)],'loggerJobState':this[_0x2e0d3e(0x96)],'libraries':_0x2ef55d,'objectRules':_0xf3a226,'request':this[_0x2e0d3e(0x8a)]})[_0x2e0d3e(0xb2)]();for(const _0x992aeb of this[_0x2e0d3e(0xb9)]){await _0x992aeb[_0x2e0d3e(0xa2)]();}}[a88_0x14e829(0x98)](_0x4ca872){const _0xa895ce=a88_0x14e829,_0x4b677a=[],_0x1619af=[],_0x17e693=[],_0x212e64=[];for(const _0x21506c in _0x4ca872){const {isDisableProcessBuilder:_0x27b21a,isDisableTrigger:_0x598b96,isDisableValidationRule:_0x4c534a,isDisableWorkflow:_0x2e78e3}=_0x4ca872[_0x21506c][_0xa895ce(0xb8)];_0x27b21a&&_0x17e693[_0xa895ce(0xac)](_0x21506c),_0x598b96&&_0x4b677a[_0xa895ce(0xac)](_0x21506c),_0x4c534a&&_0x212e64['push'](_0x21506c),_0x2e78e3&&_0x1619af[_0xa895ce(0xac)](_0x21506c);}return{'instance':this[_0xa895ce(0x8a)],'saveSourceMetadataBackup':this[_0xa895ce(0xbd)],'triggersObjects':_0x4b677a,'workflowsObjects':_0x1619af,'processBuilderObjects':_0x17e693,'validationRulesObjects':_0x212e64};}async[a88_0x14e829(0x88)](){const _0x4b4d3f=a88_0x14e829;job_detail_1[_0x4b4d3f(0x7a)]['log'](_0x4b4d3f(0x8d)),this[_0x4b4d3f(0xa1)][_0x4b4d3f(0xa0)]('Disable\x20automation\x20process'),await this[_0x4b4d3f(0x99)][_0x4b4d3f(0x91)]();}async[a88_0x14e829(0x9e)](){const _0x14279d=a88_0x14e829;!this[_0x14279d(0xab)]&&(job_detail_1[_0x14279d(0x7a)][_0x14279d(0xa0)](_0x14279d(0xbf)),this[_0x14279d(0xa1)][_0x14279d(0xa0)]('Enable\x20automation\x20process'),await this[_0x14279d(0x99)]['enable']()[_0x14279d(0x9b)](_0x2c5a09=>{const _0x4ec2a3=_0x14279d;this[_0x4ec2a3(0xab)]=!![];throw _0x2c5a09;}));}async[a88_0x14e829(0x9d)](){const _0x1ffc88=a88_0x14e829,_0x3f88c4=await(0x0,promises_1[_0x1ffc88(0x82)])(path_1[_0x1ffc88(0xba)][_0x1ffc88(0x77)](job_detail_1[_0x1ffc88(0x89)],job_1[_0x1ffc88(0x80)]),{'encoding':_0x1ffc88(0xb4)});return await(0x0,promises_1['rm'])(path_1[_0x1ffc88(0xba)][_0x1ffc88(0x77)](job_detail_1[_0x1ffc88(0x89)],job_1[_0x1ffc88(0x80)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x3f88c4)['details'];}['saveSourceAutomationProcessesBackup'](_0x45e1e2){const _0x1bb3e1=a88_0x14e829;return(0x0,promises_1['writeFile'])(path_1['default'][_0x1bb3e1(0x77)](job_detail_1[_0x1bb3e1(0x89)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer['from'](_0x45e1e2,_0x1bb3e1(0xa4)));}async['execute'](){const _0x4e4bc9=a88_0x14e829;this[_0x4e4bc9(0xb0)]=await this['getManifest']();const {objectRules:_0xe800f0,credentials:_0x18c29c}=this['_maskingManifest'];this[_0x4e4bc9(0xa1)]=await new logger_details_1[(_0x4e4bc9(0x7b))](job_detail_1[_0x4e4bc9(0x89)],job_detail_1[_0x4e4bc9(0x76)])[_0x4e4bc9(0x9f)](),this[_0x4e4bc9(0x96)]=await new logger_job_state_1['LoggerJobState'](job_detail_1[_0x4e4bc9(0x89)],job_detail_1['jobId'])['init'](Object[_0x4e4bc9(0x7c)](_0xe800f0));try{this[_0x4e4bc9(0x96)]['setJobStatus'](logger_enums_1[_0x4e4bc9(0xbc)]['IN_PROGRESS']),this[_0x4e4bc9(0x8a)]=await salesforce_1[_0x4e4bc9(0x9a)]['create'](new auth_manager_1[(_0x4e4bc9(0xa5))](_0x18c29c),[],{'headers':{'Accept-Encoding':_0x4e4bc9(0x81)}}),await this['initAutomationProcess'](),await this['disableAutomationProcess'](),await this[_0x4e4bc9(0x79)](),await this[_0x4e4bc9(0x9e)](),this[_0x4e4bc9(0x96)][_0x4e4bc9(0xb5)](logger_enums_1[_0x4e4bc9(0xbc)][_0x4e4bc9(0xb1)]);}catch(_0x4983fb){await this['enableAutomationProcess']()[_0x4e4bc9(0x9b)](_0x397bdc=>{const _0x2da927=_0x4e4bc9;job_detail_1['systemLogger'][_0x2da927(0x93)](_0x397bdc[_0x2da927(0xc3)]);}),this[_0x4e4bc9(0xa1)]['exception'](_0x4983fb[_0x4e4bc9(0xc3)]),this['_loggerJobState']['setJobStatus'](logger_enums_1['JobStatus'][_0x4e4bc9(0xc2)]),this['_loggerJobState'][_0x4e4bc9(0x97)](_0x4983fb[_0x4e4bc9(0xc3)]),job_detail_1[_0x4e4bc9(0x7a)][_0x4e4bc9(0x93)](_0x4983fb[_0x4e4bc9(0xc3)]);}finally{this['_loggerDetails'][_0x4e4bc9(0xa0)]('Finish\x20Masking\x20Process'),job_detail_1[_0x4e4bc9(0x7a)]['log']('Finish\x20Masking\x20Process'),await this[_0x4e4bc9(0x96)][_0x4e4bc9(0x8c)](),await this[_0x4e4bc9(0xa1)][_0x4e4bc9(0x8c)]();}}}exports[a88_0x14e829(0x83)]=MaskingJob,new MaskingJob()['execute']()[a88_0x14e829(0xa3)](()=>process[a88_0x14e829(0x7e)](0x0))[a88_0x14e829(0x9b)](()=>process[a88_0x14e829(0x7e)](0x1));function a88_0x5633(){const _0x5899c8=['initAutomationProcess','2VdRAeH','../../../constants/job','(((.+)+)+)+$','_isEnableAutomationProcessError','push','Start\x20Masking\x20Process','1401027sccrph','defineProperty','_maskingManifest','COMPLETED','create','apply','utf-8','setJobStatus','./job-detail','4304SNMkmu','disableAutomation','_steps','default','StepsCreator','JobStatus','saveSourceAutomationProcessesBackup','./enums/logger.enums','Enable\x20automation\x20process','./classes/logger/logger-details','@flosum/salesforce','FAILED','message','1594917fEMhHv','1596354tgrVWR','jobId','join','../../shared/managers/auth.manager','masking','systemLogger','LoggerDetails','keys','fs/promises','exit','__esModule','MANIFEST_FILENAME','gzip','readFile','MaskingJob','ManagerAutomationProcess','__importDefault','2914191dCMosd','path','disableAutomationProcess','jobStorePath','_request','59319XRUitu','kill','Disable\x20automation\x20process','search','../constants','4680056SGqmFV','disable','./classes/step/steps-creator','error','toString','2055195vDBBHC','_loggerJobState','setJobError','getManagerAutomationProcessOptions','_managerAutomationProcess','AxiosInstanceUtils','catch','constructor','getManifest','enableAutomationProcess','init','log','_loggerDetails','execute','then','base64','AuthManager','./classes/logger/logger-job-state'];a88_0x5633=function(){return _0x5899c8;};return a88_0x5633();}