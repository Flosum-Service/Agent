const a73_0x19357a=a73_0x87e9;(function(_0x429500,_0x50e52d){const _0x9d900b=a73_0x87e9,_0x4c2ae7=_0x429500();while(!![]){try{const _0x1f4192=-parseInt(_0x9d900b(0x1b0))/0x1+-parseInt(_0x9d900b(0x1b7))/0x2*(-parseInt(_0x9d900b(0x1c2))/0x3)+parseInt(_0x9d900b(0x1bb))/0x4*(-parseInt(_0x9d900b(0x1a9))/0x5)+parseInt(_0x9d900b(0x1ac))/0x6*(-parseInt(_0x9d900b(0x1c4))/0x7)+parseInt(_0x9d900b(0x196))/0x8*(parseInt(_0x9d900b(0x198))/0x9)+-parseInt(_0x9d900b(0x1bd))/0xa*(-parseInt(_0x9d900b(0x18c))/0xb)+-parseInt(_0x9d900b(0x1be))/0xc*(-parseInt(_0x9d900b(0x190))/0xd);if(_0x1f4192===_0x50e52d)break;else _0x4c2ae7['push'](_0x4c2ae7['shift']());}catch(_0x5a4758){_0x4c2ae7['push'](_0x4c2ae7['shift']());}}}(a73_0x11be,0xc9169));const a73_0x4a1945=(function(){let _0x3d1f4e=!![];return function(_0xcfb253,_0x21acb6){const _0x5586b8=_0x3d1f4e?function(){const _0x56ca19=a73_0x87e9;if(_0x21acb6){const _0x423673=_0x21acb6[_0x56ca19(0x1b4)](_0xcfb253,arguments);return _0x21acb6=null,_0x423673;}}:function(){};return _0x3d1f4e=![],_0x5586b8;};}()),a73_0x197fd0=a73_0x4a1945(this,function(){const _0x1ef63b=a73_0x87e9;return a73_0x197fd0['toString']()[_0x1ef63b(0x179)]('(((.+)+)+)+$')[_0x1ef63b(0x18e)]()[_0x1ef63b(0x177)](a73_0x197fd0)[_0x1ef63b(0x179)](_0x1ef63b(0x1a3));});a73_0x197fd0();'use strict';var __importDefault=this&&this[a73_0x19357a(0x1a7)]||function(_0xe86444){const _0x2b2108=a73_0x19357a;return _0xe86444&&_0xe86444[_0x2b2108(0x18b)]?_0xe86444:{'default':_0xe86444};};Object[a73_0x19357a(0x186)](exports,a73_0x19357a(0x18b),{'value':!![]}),exports[a73_0x19357a(0x19e)]=void 0x0;function a73_0x87e9(_0x5720ec,_0x5dcc83){const _0x586e8d=a73_0x11be();return a73_0x87e9=function(_0x197fd0,_0x4a1945){_0x197fd0=_0x197fd0-0x177;let _0x11be95=_0x586e8d[_0x197fd0];return _0x11be95;},a73_0x87e9(_0x5720ec,_0x5dcc83);}const promises_1=require(a73_0x19357a(0x1c1)),salesforce_1=require(a73_0x19357a(0x1ba)),steps_creator_1=require(a73_0x19357a(0x1ae)),logger_enums_1=require(a73_0x19357a(0x1b3)),logger_details_1=require(a73_0x19357a(0x1ab)),logger_job_state_1=require(a73_0x19357a(0x1b2)),job_1=require(a73_0x19357a(0x178)),path_1=__importDefault(require(a73_0x19357a(0x182))),auth_manager_1=require('../../shared/managers/auth.manager'),constants_1=require('../constants'),job_detail_1=require(a73_0x19357a(0x1a1));class MaskingJob{constructor(){const _0x4913a0=a73_0x19357a;this[_0x4913a0(0x194)]=![];}async[a73_0x19357a(0x1aa)](){const _0x5643f5=a73_0x19357a,{objectRules:_0x13833b}=this[_0x5643f5(0x187)];this[_0x5643f5(0x1c9)]=new salesforce_1[(_0x5643f5(0x17c))](this['getManagerAutomationProcessOptions'](_0x13833b));}async[a73_0x19357a(0x19f)](){const _0x357adf=a73_0x19357a;job_detail_1[_0x357adf(0x1c6)][_0x357adf(0x1b8)](_0x357adf(0x183)),this[_0x357adf(0x19d)]['log'](_0x357adf(0x183));const {objectRules:_0x7db68d,libraries:_0x429f6f}=this[_0x357adf(0x187)];this[_0x357adf(0x195)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this[_0x357adf(0x19d)],'loggerJobState':this[_0x357adf(0x1a6)],'libraries':_0x429f6f,'objectRules':_0x7db68d,'request':this[_0x357adf(0x1ad)]})[_0x357adf(0x18a)]();for(const _0x1b4403 of this['_steps']){await _0x1b4403[_0x357adf(0x180)]();}}['getManagerAutomationProcessOptions'](_0x15071a){const _0x21c4d7=a73_0x19357a,_0x424854=[],_0x2b0a5c=[],_0x55f2cc=[],_0x289b79=[];for(const _0x765787 in _0x15071a){const {isDisableProcessBuilder:_0x8bfc0,isDisableTrigger:_0x1739d9,isDisableValidationRule:_0x457335,isDisableWorkflow:_0xe577e4}=_0x15071a[_0x765787][_0x21c4d7(0x1a0)];_0x8bfc0&&_0x55f2cc[_0x21c4d7(0x19b)](_0x765787),_0x1739d9&&_0x424854[_0x21c4d7(0x19b)](_0x765787),_0x457335&&_0x289b79['push'](_0x765787),_0xe577e4&&_0x2b0a5c[_0x21c4d7(0x19b)](_0x765787);}return{'instance':this[_0x21c4d7(0x1ad)],'saveSourceMetadataBackup':this[_0x21c4d7(0x193)],'triggersObjects':_0x424854,'workflowsObjects':_0x2b0a5c,'processBuilderObjects':_0x55f2cc,'validationRulesObjects':_0x289b79};}async[a73_0x19357a(0x18f)](){const _0x5515b7=a73_0x19357a;job_detail_1[_0x5515b7(0x1c6)][_0x5515b7(0x1b8)](_0x5515b7(0x1b6)),this[_0x5515b7(0x19d)][_0x5515b7(0x1b8)](_0x5515b7(0x1b6)),await this[_0x5515b7(0x1c9)]['disable']();}async[a73_0x19357a(0x17d)](){const _0x51bc99=a73_0x19357a;!this[_0x51bc99(0x194)]&&(job_detail_1['systemLogger'][_0x51bc99(0x1b8)](_0x51bc99(0x1c3)),this['_loggerDetails'][_0x51bc99(0x1b8)]('Enable\x20automation\x20process'),await this[_0x51bc99(0x1c9)][_0x51bc99(0x1bc)]()[_0x51bc99(0x1c7)](_0x384328=>{const _0xc0503=_0x51bc99;this[_0xc0503(0x194)]=!![];throw _0x384328;}));}async['getManifest'](){const _0x5e8e06=a73_0x19357a,_0x33778e=await(0x0,promises_1[_0x5e8e06(0x19a)])(path_1['default']['join'](job_detail_1[_0x5e8e06(0x17a)],job_1[_0x5e8e06(0x17e)]),{'encoding':_0x5e8e06(0x17f)});return await(0x0,promises_1['rm'])(path_1[_0x5e8e06(0x199)]['join'](job_detail_1[_0x5e8e06(0x17a)],job_1[_0x5e8e06(0x17e)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x33778e)['details'];}[a73_0x19357a(0x193)](_0xd1b4a){const _0x2e36df=a73_0x19357a;return(0x0,promises_1[_0x2e36df(0x18d)])(path_1['default'][_0x2e36df(0x1a2)](job_detail_1[_0x2e36df(0x17a)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x2e36df(0x19c)](_0xd1b4a,'base64'));}async[a73_0x19357a(0x180)](){const _0x2d9290=a73_0x19357a;this[_0x2d9290(0x187)]=await this[_0x2d9290(0x181)]();const {objectRules:_0x1fb200,credentials:_0xd220ba}=this[_0x2d9290(0x187)];this[_0x2d9290(0x19d)]=await new logger_details_1[(_0x2d9290(0x191))](job_detail_1[_0x2d9290(0x17a)],job_detail_1[_0x2d9290(0x1c8)])['init'](),this[_0x2d9290(0x1a6)]=await new logger_job_state_1[(_0x2d9290(0x1a5))](job_detail_1['jobStorePath'],job_detail_1['jobId'])[_0x2d9290(0x185)](Object[_0x2d9290(0x17b)](_0x1fb200));try{this['_loggerJobState'][_0x2d9290(0x1b9)](logger_enums_1[_0x2d9290(0x184)][_0x2d9290(0x197)]),this['_request']=await salesforce_1[_0x2d9290(0x1c0)][_0x2d9290(0x18a)](new auth_manager_1[(_0x2d9290(0x192))](_0xd220ba),[],{'headers':{'Accept-Encoding':_0x2d9290(0x1af)}}),await this['initAutomationProcess'](),await this[_0x2d9290(0x18f)](),await this['masking'](),await this[_0x2d9290(0x17d)](),this[_0x2d9290(0x1a6)][_0x2d9290(0x1b9)](logger_enums_1[_0x2d9290(0x184)]['COMPLETED']);}catch(_0x3e68bc){await this[_0x2d9290(0x17d)]()[_0x2d9290(0x1c7)](_0x3db98f=>{const _0x24bce2=_0x2d9290;job_detail_1['systemLogger'][_0x24bce2(0x1b1)](_0x3db98f['message']);}),this[_0x2d9290(0x19d)]['exception'](_0x3e68bc[_0x2d9290(0x1b5)]),this[_0x2d9290(0x1a6)]['setJobStatus'](logger_enums_1[_0x2d9290(0x184)][_0x2d9290(0x189)]),this[_0x2d9290(0x1a6)][_0x2d9290(0x1a4)](_0x3e68bc[_0x2d9290(0x1b5)]),job_detail_1[_0x2d9290(0x1c6)][_0x2d9290(0x1b1)](_0x3e68bc['message']);}finally{this[_0x2d9290(0x19d)][_0x2d9290(0x1b8)]('Finish\x20Masking\x20Process'),job_detail_1[_0x2d9290(0x1c6)]['log'](_0x2d9290(0x1c5)),await this['_loggerJobState'][_0x2d9290(0x1a8)](),await this[_0x2d9290(0x19d)][_0x2d9290(0x1a8)]();}}}function a73_0x11be(){const _0x5bd4cb=['kill','6014405ktMASL','initAutomationProcess','./classes/logger/logger-details','6275940twHtCV','_request','./classes/step/steps-creator','gzip','124386tlQUaC','error','./classes/logger/logger-job-state','./enums/logger.enums','apply','message','Disable\x20automation\x20process','202FxqTOh','log','setJobStatus','@flosum/salesforce','4tpPoQZ','enable','290yJNSki','12kDTVDQ','exit','AxiosInstanceUtils','fs/promises','6396FHSyMh','Enable\x20automation\x20process','7rjssEy','Finish\x20Masking\x20Process','systemLogger','catch','jobId','_managerAutomationProcess','constructor','../../../constants/job','search','jobStorePath','keys','ManagerAutomationProcess','enableAutomationProcess','MANIFEST_FILENAME','utf-8','execute','getManifest','path','Start\x20Masking\x20Process','JobStatus','init','defineProperty','_maskingManifest','then','FAILED','create','__esModule','244453eUidIl','writeFile','toString','disableAutomationProcess','10038977NNzVjN','LoggerDetails','AuthManager','saveSourceAutomationProcessesBackup','_isEnableAutomationProcessError','_steps','6259544bBQjYa','IN_PROGRESS','18AjrLoc','default','readFile','push','from','_loggerDetails','MaskingJob','masking','disableAutomation','./job-detail','join','(((.+)+)+)+$','setJobError','LoggerJobState','_loggerJobState','__importDefault'];a73_0x11be=function(){return _0x5bd4cb;};return a73_0x11be();}exports[a73_0x19357a(0x19e)]=MaskingJob,new MaskingJob()[a73_0x19357a(0x180)]()[a73_0x19357a(0x188)](()=>process[a73_0x19357a(0x1bf)](0x0))[a73_0x19357a(0x1c7)](()=>process[a73_0x19357a(0x1bf)](0x1));