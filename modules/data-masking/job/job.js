const a90_0x181a70=a90_0x393f;(function(_0x1126d1,_0x211a89){const _0x405c2c=a90_0x393f,_0xabdac1=_0x1126d1();while(!![]){try{const _0x504cf8=parseInt(_0x405c2c(0x1cc))/0x1*(parseInt(_0x405c2c(0x1e4))/0x2)+parseInt(_0x405c2c(0x1db))/0x3+parseInt(_0x405c2c(0x216))/0x4+parseInt(_0x405c2c(0x209))/0x5*(-parseInt(_0x405c2c(0x1d2))/0x6)+-parseInt(_0x405c2c(0x1f1))/0x7+parseInt(_0x405c2c(0x1fd))/0x8*(parseInt(_0x405c2c(0x1e1))/0x9)+-parseInt(_0x405c2c(0x1ed))/0xa*(parseInt(_0x405c2c(0x1d7))/0xb);if(_0x504cf8===_0x211a89)break;else _0xabdac1['push'](_0xabdac1['shift']());}catch(_0x40d042){_0xabdac1['push'](_0xabdac1['shift']());}}}(a90_0xd287,0x84dbf));const a90_0x3f22bb=(function(){let _0x36c12f=!![];return function(_0x476f55,_0x3ed82c){const _0x38cf36=_0x36c12f?function(){if(_0x3ed82c){const _0x147de1=_0x3ed82c['apply'](_0x476f55,arguments);return _0x3ed82c=null,_0x147de1;}}:function(){};return _0x36c12f=![],_0x38cf36;};}()),a90_0x37db0e=a90_0x3f22bb(this,function(){const _0x31d16a=a90_0x393f;return a90_0x37db0e[_0x31d16a(0x1e5)]()[_0x31d16a(0x1ff)](_0x31d16a(0x1c7))[_0x31d16a(0x1e5)]()[_0x31d16a(0x1e8)](a90_0x37db0e)[_0x31d16a(0x1ff)](_0x31d16a(0x1c7));});a90_0x37db0e();'use strict';var __importDefault=this&&this[a90_0x181a70(0x1f0)]||function(_0x5cdb1d){const _0x297ba9=a90_0x181a70;return _0x5cdb1d&&_0x5cdb1d[_0x297ba9(0x1ee)]?_0x5cdb1d:{'default':_0x5cdb1d};};Object[a90_0x181a70(0x1e2)](exports,a90_0x181a70(0x1ee),{'value':!![]}),exports['MaskingJob']=void 0x0;const promises_1=require(a90_0x181a70(0x1d4)),salesforce_1=require(a90_0x181a70(0x20a)),steps_creator_1=require(a90_0x181a70(0x20b)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a90_0x181a70(0x1dd)),logger_job_state_1=require(a90_0x181a70(0x1df)),job_1=require(a90_0x181a70(0x1c5)),path_1=__importDefault(require(a90_0x181a70(0x1d9))),auth_manager_1=require(a90_0x181a70(0x1f6)),constants_1=require('../constants'),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0x4e0976=a90_0x181a70;this[_0x4e0976(0x212)]=![];}async[a90_0x181a70(0x1f2)](){const _0x1f9015=a90_0x181a70,{objectRules:_0x29f23e}=this['_maskingManifest'];this['_managerAutomationProcess']=new salesforce_1['ManagerAutomationProcess'](this[_0x1f9015(0x1e9)](_0x29f23e));}async['masking'](){const _0x5dd019=a90_0x181a70;job_detail_1[_0x5dd019(0x20f)][_0x5dd019(0x1f7)](_0x5dd019(0x1dc)),this[_0x5dd019(0x211)]['log'](_0x5dd019(0x1dc));const {objectRules:_0x1d5391,libraries:_0x26597a}=this[_0x5dd019(0x208)];this[_0x5dd019(0x1e0)]=await new steps_creator_1[(_0x5dd019(0x1ea))]({'loggerDetails':this[_0x5dd019(0x211)],'loggerJobState':this[_0x5dd019(0x1d1)],'libraries':_0x26597a,'objectRules':_0x1d5391,'request':this[_0x5dd019(0x210)]})['create']();for(const _0x572f0b of this[_0x5dd019(0x1e0)]){await _0x572f0b[_0x5dd019(0x1e7)]();}}[a90_0x181a70(0x1e9)](_0x408a59){const _0x160bd0=a90_0x181a70,_0x54db88=[],_0x5aff82=[],_0x46de0d=[],_0x5f373f=[];for(const _0x3cf9e1 in _0x408a59){const {isDisableProcessBuilder:_0x437a59,isDisableTrigger:_0x57f3cb,isDisableValidationRule:_0x462ff6,isDisableWorkflow:_0x4c3781}=_0x408a59[_0x3cf9e1][_0x160bd0(0x1f5)];_0x437a59&&_0x46de0d['push'](_0x3cf9e1),_0x57f3cb&&_0x54db88[_0x160bd0(0x1cd)](_0x3cf9e1),_0x462ff6&&_0x5f373f[_0x160bd0(0x1cd)](_0x3cf9e1),_0x4c3781&&_0x5aff82[_0x160bd0(0x1cd)](_0x3cf9e1);}return{'instance':this[_0x160bd0(0x210)],'saveSourceMetadataBackup':this[_0x160bd0(0x1eb)],'triggersObjects':_0x54db88,'workflowsObjects':_0x5aff82,'processBuilderObjects':_0x46de0d,'validationRulesObjects':_0x5f373f};}async[a90_0x181a70(0x1f9)](){const _0x3e3df5=a90_0x181a70;job_detail_1[_0x3e3df5(0x20f)][_0x3e3df5(0x1f7)]('Disable\x20automation\x20process'),this[_0x3e3df5(0x211)][_0x3e3df5(0x1f7)](_0x3e3df5(0x207)),await this[_0x3e3df5(0x1c6)][_0x3e3df5(0x202)]();}async[a90_0x181a70(0x1fa)](){const _0x45056b=a90_0x181a70;!this[_0x45056b(0x212)]&&(job_detail_1[_0x45056b(0x20f)][_0x45056b(0x1f7)](_0x45056b(0x215)),this[_0x45056b(0x211)][_0x45056b(0x1f7)](_0x45056b(0x215)),await this[_0x45056b(0x1c6)][_0x45056b(0x1ec)]()['catch'](_0x4e054d=>{const _0x1379c7=_0x45056b;this[_0x1379c7(0x212)]=!![];throw _0x4e054d;}));}async[a90_0x181a70(0x204)](){const _0x201811=a90_0x181a70,_0x3afac6=await(0x0,promises_1[_0x201811(0x1cf)])(path_1[_0x201811(0x214)][_0x201811(0x201)](job_detail_1[_0x201811(0x213)],job_1['MANIFEST_FILENAME']),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1['default'][_0x201811(0x201)](job_detail_1[_0x201811(0x213)],job_1[_0x201811(0x1c9)]),{'recursive':!![],'force':!![]}),JSON[_0x201811(0x1fb)](_0x3afac6)[_0x201811(0x1d5)];}[a90_0x181a70(0x1eb)](_0x1c12a9){const _0x175c04=a90_0x181a70;return(0x0,promises_1[_0x175c04(0x1d8)])(path_1[_0x175c04(0x214)]['join'](job_detail_1[_0x175c04(0x213)],constants_1[_0x175c04(0x1f3)]),Buffer[_0x175c04(0x1c8)](_0x1c12a9,_0x175c04(0x1f4)));}async[a90_0x181a70(0x1e7)](){const _0x47ae8f=a90_0x181a70;this[_0x47ae8f(0x208)]=await this[_0x47ae8f(0x204)]();const {objectRules:_0x317861,credentials:_0x2ef805}=this[_0x47ae8f(0x208)];this[_0x47ae8f(0x211)]=await new logger_details_1['LoggerDetails'](job_detail_1[_0x47ae8f(0x213)],job_detail_1[_0x47ae8f(0x1d3)])[_0x47ae8f(0x20e)](),this[_0x47ae8f(0x1d1)]=await new logger_job_state_1[(_0x47ae8f(0x1f8))](job_detail_1[_0x47ae8f(0x213)],job_detail_1[_0x47ae8f(0x1d3)])['init'](Object[_0x47ae8f(0x20c)](_0x317861));try{this[_0x47ae8f(0x1d1)][_0x47ae8f(0x203)](logger_enums_1['JobStatus']['IN_PROGRESS']),this[_0x47ae8f(0x210)]=await salesforce_1[_0x47ae8f(0x206)]['create'](new auth_manager_1[(_0x47ae8f(0x1d0))](_0x2ef805),[],{'headers':{'Accept-Encoding':_0x47ae8f(0x1fe)}}),await this[_0x47ae8f(0x1f2)](),await this['disableAutomationProcess'](),await this[_0x47ae8f(0x205)](),await this['enableAutomationProcess'](),this['_loggerJobState']['setJobStatus'](logger_enums_1['JobStatus'][_0x47ae8f(0x1d6)]);}catch(_0x4485f2){await this[_0x47ae8f(0x1fa)]()[_0x47ae8f(0x1e6)](_0x349d72=>{const _0x1752eb=_0x47ae8f;job_detail_1[_0x1752eb(0x20f)]['error'](_0x349d72[_0x1752eb(0x1de)]);}),this[_0x47ae8f(0x211)][_0x47ae8f(0x1cb)](_0x4485f2[_0x47ae8f(0x1de)]),this['_loggerJobState'][_0x47ae8f(0x203)](logger_enums_1['JobStatus'][_0x47ae8f(0x200)]),this[_0x47ae8f(0x1d1)][_0x47ae8f(0x1e3)](_0x4485f2[_0x47ae8f(0x1de)]),job_detail_1[_0x47ae8f(0x20f)][_0x47ae8f(0x1ca)](_0x4485f2[_0x47ae8f(0x1de)]);}finally{this[_0x47ae8f(0x211)]['log'](_0x47ae8f(0x1ef)),job_detail_1['systemLogger'][_0x47ae8f(0x1f7)]('Finish\x20Masking\x20Process'),await this[_0x47ae8f(0x1d1)][_0x47ae8f(0x1da)](),await this[_0x47ae8f(0x211)][_0x47ae8f(0x1da)]();}}}function a90_0xd287(){const _0x48523c=['toString','catch','execute','constructor','getManagerAutomationProcessOptions','StepsCreator','saveSourceAutomationProcessesBackup','enable','1553010yPDwos','__esModule','Finish\x20Masking\x20Process','__importDefault','4450642PjqMss','initAutomationProcess','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','base64','disableAutomation','../../shared/managers/auth.manager','log','LoggerJobState','disableAutomationProcess','enableAutomationProcess','parse','exit','310176UCiwer','gzip','search','FAILED','join','disable','setJobStatus','getManifest','masking','AxiosInstanceUtils','Disable\x20automation\x20process','_maskingManifest','7470KVFNeE','@flosum/salesforce','./classes/step/steps-creator','keys','MaskingJob','init','systemLogger','_request','_loggerDetails','_isEnableAutomationProcessError','jobStorePath','default','Enable\x20automation\x20process','2036588vdkEKu','../../../constants/job','_managerAutomationProcess','(((.+)+)+)+$','from','MANIFEST_FILENAME','error','exception','5xccyUI','push','then','readFile','AuthManager','_loggerJobState','4122leKEKs','jobId','fs/promises','details','COMPLETED','11AntrcC','writeFile','path','kill','1793460SeObYK','Start\x20Masking\x20Process','./classes/logger/logger-details','message','./classes/logger/logger-job-state','_steps','108uvDNas','defineProperty','setJobError','315778wLfYZc'];a90_0xd287=function(){return _0x48523c;};return a90_0xd287();}function a90_0x393f(_0x33ea25,_0x5af57a){const _0x1d2e3c=a90_0xd287();return a90_0x393f=function(_0x37db0e,_0x3f22bb){_0x37db0e=_0x37db0e-0x1c5;let _0xd28787=_0x1d2e3c[_0x37db0e];return _0xd28787;},a90_0x393f(_0x33ea25,_0x5af57a);}exports[a90_0x181a70(0x20d)]=MaskingJob,new MaskingJob()[a90_0x181a70(0x1e7)]()[a90_0x181a70(0x1ce)](()=>process[a90_0x181a70(0x1fc)](0x0))[a90_0x181a70(0x1e6)](()=>process[a90_0x181a70(0x1fc)](0x1));