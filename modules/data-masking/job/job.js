const a90_0x2bbff9=a90_0xb71c;(function(_0xe5a34e,_0x98c410){const _0x506590=a90_0xb71c,_0xf2e5e7=_0xe5a34e();while(!![]){try{const _0x562fad=-parseInt(_0x506590(0xb5))/0x1+parseInt(_0x506590(0xcd))/0x2+parseInt(_0x506590(0xb7))/0x3*(-parseInt(_0x506590(0xcb))/0x4)+-parseInt(_0x506590(0xb8))/0x5*(-parseInt(_0x506590(0xe2))/0x6)+parseInt(_0x506590(0xbd))/0x7+-parseInt(_0x506590(0xc7))/0x8*(parseInt(_0x506590(0xad))/0x9)+parseInt(_0x506590(0xc1))/0xa;if(_0x562fad===_0x98c410)break;else _0xf2e5e7['push'](_0xf2e5e7['shift']());}catch(_0x6f93a4){_0xf2e5e7['push'](_0xf2e5e7['shift']());}}}(a90_0x3c86,0x1ab5d));const a90_0xa653b2=(function(){let _0x3f5234=!![];return function(_0x195706,_0x5250fb){const _0x1b6c5c=_0x3f5234?function(){if(_0x5250fb){const _0x43ad32=_0x5250fb['apply'](_0x195706,arguments);return _0x5250fb=null,_0x43ad32;}}:function(){};return _0x3f5234=![],_0x1b6c5c;};}()),a90_0x1242b7=a90_0xa653b2(this,function(){const _0x251ce7=a90_0xb71c;return a90_0x1242b7[_0x251ce7(0xd6)]()['search'](_0x251ce7(0xd7))[_0x251ce7(0xd6)]()[_0x251ce7(0xc2)](a90_0x1242b7)[_0x251ce7(0xd9)](_0x251ce7(0xd7));});a90_0x1242b7();'use strict';function a90_0x3c86(){const _0x581399=['create','_request','toString','(((.+)+)+)+$','__esModule','search','jobStorePath','init','_isEnableAutomationProcessError','disableAutomationProcess','saveSourceAutomationProcessesBackup','ManagerAutomationProcess','exception','MANIFEST_FILENAME','84WTBwEk','join','parse','AuthManager','message','../../shared/managers/auth.manager','LoggerDetails','_loggerJobState','defineProperty','gzip','systemLogger','readFile','jobId','./job-detail','Finish\x20Masking\x20Process','writeFile','./classes/logger/logger-job-state','../constants','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','setJobError','path','setJobStatus','enable','AxiosInstanceUtils','getManagerAutomationProcessOptions','StepsCreator','@flosum/salesforce','default','from','__importDefault','error','157374YnZiak','execute','Enable\x20automation\x20process','then','Disable\x20automation\x20process','_loggerDetails','./classes/step/steps-creator','MaskingJob','181212heYTNX','FAILED','3WKqVVL','48865xpPtUr','masking','kill','Start\x20Masking\x20Process','_managerAutomationProcess','791672ECtVUe','../../../constants/job','IN_PROGRESS','exit','1332260mtRNiq','constructor','log','_maskingManifest','JobStatus','fs/promises','16UqOLCz','_steps','disableAutomation','disable','804708kgBNwL','enableAutomationProcess','287244fLkPNV','base64','catch','COMPLETED','push','LoggerJobState','initAutomationProcess'];a90_0x3c86=function(){return _0x581399;};return a90_0x3c86();}var __importDefault=this&&this[a90_0x2bbff9(0xab)]||function(_0x159990){const _0x11338b=a90_0x2bbff9;return _0x159990&&_0x159990[_0x11338b(0xd8)]?_0x159990:{'default':_0x159990};};Object[a90_0x2bbff9(0xea)](exports,'__esModule',{'value':!![]}),exports['MaskingJob']=void 0x0;const promises_1=require(a90_0x2bbff9(0xc6)),salesforce_1=require(a90_0x2bbff9(0xa8)),steps_creator_1=require(a90_0x2bbff9(0xb3)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require('./classes/logger/logger-details'),logger_job_state_1=require(a90_0x2bbff9(0xf2)),job_1=require(a90_0x2bbff9(0xbe)),path_1=__importDefault(require(a90_0x2bbff9(0xf6))),auth_manager_1=require(a90_0x2bbff9(0xe7)),constants_1=require(a90_0x2bbff9(0xf3)),job_detail_1=require(a90_0x2bbff9(0xef));class MaskingJob{constructor(){const _0xd4c01f=a90_0x2bbff9;this[_0xd4c01f(0xdc)]=![];}async['initAutomationProcess'](){const _0x4626e3=a90_0x2bbff9,{objectRules:_0x181bc7}=this['_maskingManifest'];this[_0x4626e3(0xbc)]=new salesforce_1[(_0x4626e3(0xdf))](this[_0x4626e3(0xa6)](_0x181bc7));}async[a90_0x2bbff9(0xb9)](){const _0x2fd02d=a90_0x2bbff9;job_detail_1[_0x2fd02d(0xec)][_0x2fd02d(0xc3)](_0x2fd02d(0xbb)),this[_0x2fd02d(0xb2)][_0x2fd02d(0xc3)](_0x2fd02d(0xbb));const {objectRules:_0x5e479b,libraries:_0x2c2b49}=this[_0x2fd02d(0xc4)];this[_0x2fd02d(0xc8)]=await new steps_creator_1[(_0x2fd02d(0xa7))]({'loggerDetails':this[_0x2fd02d(0xb2)],'loggerJobState':this[_0x2fd02d(0xe9)],'libraries':_0x2c2b49,'objectRules':_0x5e479b,'request':this[_0x2fd02d(0xd5)]})[_0x2fd02d(0xd4)]();for(const _0x28f396 of this[_0x2fd02d(0xc8)]){await _0x28f396['execute']();}}['getManagerAutomationProcessOptions'](_0x199197){const _0x3cf73f=a90_0x2bbff9,_0x1614bb=[],_0x41d457=[],_0xd9be67=[],_0x5a5951=[];for(const _0x4b0df0 in _0x199197){const {isDisableProcessBuilder:_0x370f16,isDisableTrigger:_0x23ca5b,isDisableValidationRule:_0x303d91,isDisableWorkflow:_0xfd9321}=_0x199197[_0x4b0df0][_0x3cf73f(0xc9)];_0x370f16&&_0xd9be67[_0x3cf73f(0xd1)](_0x4b0df0),_0x23ca5b&&_0x1614bb[_0x3cf73f(0xd1)](_0x4b0df0),_0x303d91&&_0x5a5951['push'](_0x4b0df0),_0xfd9321&&_0x41d457[_0x3cf73f(0xd1)](_0x4b0df0);}return{'instance':this['_request'],'saveSourceMetadataBackup':this['saveSourceAutomationProcessesBackup'],'triggersObjects':_0x1614bb,'workflowsObjects':_0x41d457,'processBuilderObjects':_0xd9be67,'validationRulesObjects':_0x5a5951};}async[a90_0x2bbff9(0xdd)](){const _0xc4c9c5=a90_0x2bbff9;job_detail_1[_0xc4c9c5(0xec)][_0xc4c9c5(0xc3)](_0xc4c9c5(0xb1)),this['_loggerDetails'][_0xc4c9c5(0xc3)](_0xc4c9c5(0xb1)),await this[_0xc4c9c5(0xbc)][_0xc4c9c5(0xca)]();}async['enableAutomationProcess'](){const _0x4d48d9=a90_0x2bbff9;!this[_0x4d48d9(0xdc)]&&(job_detail_1[_0x4d48d9(0xec)][_0x4d48d9(0xc3)](_0x4d48d9(0xaf)),this[_0x4d48d9(0xb2)][_0x4d48d9(0xc3)](_0x4d48d9(0xaf)),await this[_0x4d48d9(0xbc)][_0x4d48d9(0xf8)]()[_0x4d48d9(0xcf)](_0xeb51a0=>{const _0xb3bdf9=_0x4d48d9;this[_0xb3bdf9(0xdc)]=!![];throw _0xeb51a0;}));}async['getManifest'](){const _0x45326d=a90_0x2bbff9,_0x101a43=await(0x0,promises_1[_0x45326d(0xed)])(path_1[_0x45326d(0xa9)][_0x45326d(0xe3)](job_detail_1[_0x45326d(0xda)],job_1[_0x45326d(0xe1)]),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1[_0x45326d(0xa9)][_0x45326d(0xe3)](job_detail_1['jobStorePath'],job_1[_0x45326d(0xe1)]),{'recursive':!![],'force':!![]}),JSON[_0x45326d(0xe4)](_0x101a43)['details'];}[a90_0x2bbff9(0xde)](_0xfd4a08){const _0x4c53cf=a90_0x2bbff9;return(0x0,promises_1[_0x4c53cf(0xf1)])(path_1['default']['join'](job_detail_1[_0x4c53cf(0xda)],constants_1[_0x4c53cf(0xf4)]),Buffer[_0x4c53cf(0xaa)](_0xfd4a08,_0x4c53cf(0xce)));}async[a90_0x2bbff9(0xae)](){const _0x393000=a90_0x2bbff9;this[_0x393000(0xc4)]=await this['getManifest']();const {objectRules:_0x217d1b,credentials:_0x569d3b}=this[_0x393000(0xc4)];this['_loggerDetails']=await new logger_details_1[(_0x393000(0xe8))](job_detail_1[_0x393000(0xda)],job_detail_1['jobId'])[_0x393000(0xdb)](),this['_loggerJobState']=await new logger_job_state_1[(_0x393000(0xd2))](job_detail_1['jobStorePath'],job_detail_1[_0x393000(0xee)])['init'](Object['keys'](_0x217d1b));try{this[_0x393000(0xe9)]['setJobStatus'](logger_enums_1[_0x393000(0xc5)][_0x393000(0xbf)]),this[_0x393000(0xd5)]=await salesforce_1[_0x393000(0xa5)][_0x393000(0xd4)](new auth_manager_1[(_0x393000(0xe5))](_0x569d3b),[],{'headers':{'Accept-Encoding':_0x393000(0xeb)}}),await this[_0x393000(0xd3)](),await this[_0x393000(0xdd)](),await this[_0x393000(0xb9)](),await this['enableAutomationProcess'](),this['_loggerJobState']['setJobStatus'](logger_enums_1['JobStatus'][_0x393000(0xd0)]);}catch(_0x2489f2){await this[_0x393000(0xcc)]()[_0x393000(0xcf)](_0x39f3af=>{const _0x2217d7=_0x393000;job_detail_1['systemLogger'][_0x2217d7(0xac)](_0x39f3af['message']);}),this[_0x393000(0xb2)][_0x393000(0xe0)](_0x2489f2[_0x393000(0xe6)]),this[_0x393000(0xe9)][_0x393000(0xf7)](logger_enums_1[_0x393000(0xc5)][_0x393000(0xb6)]),this[_0x393000(0xe9)][_0x393000(0xf5)](_0x2489f2[_0x393000(0xe6)]),job_detail_1[_0x393000(0xec)][_0x393000(0xac)](_0x2489f2['message']);}finally{this[_0x393000(0xb2)][_0x393000(0xc3)](_0x393000(0xf0)),job_detail_1[_0x393000(0xec)][_0x393000(0xc3)](_0x393000(0xf0)),await this[_0x393000(0xe9)][_0x393000(0xba)](),await this[_0x393000(0xb2)]['kill']();}}}function a90_0xb71c(_0x57e199,_0x1e772f){const _0x168866=a90_0x3c86();return a90_0xb71c=function(_0x1242b7,_0xa653b2){_0x1242b7=_0x1242b7-0xa5;let _0x3c869d=_0x168866[_0x1242b7];return _0x3c869d;},a90_0xb71c(_0x57e199,_0x1e772f);}exports[a90_0x2bbff9(0xb4)]=MaskingJob,new MaskingJob()[a90_0x2bbff9(0xae)]()[a90_0x2bbff9(0xb0)](()=>process[a90_0x2bbff9(0xc0)](0x0))[a90_0x2bbff9(0xcf)](()=>process[a90_0x2bbff9(0xc0)](0x1));