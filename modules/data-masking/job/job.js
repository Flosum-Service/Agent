const a73_0x5711fc=a73_0x598a;(function(_0x4b2cc1,_0x36270b){const _0x5f4841=a73_0x598a,_0x2cffe2=_0x4b2cc1();while(!![]){try{const _0x2cc4b5=parseInt(_0x5f4841(0x7d))/0x1*(-parseInt(_0x5f4841(0xc5))/0x2)+parseInt(_0x5f4841(0xaf))/0x3*(-parseInt(_0x5f4841(0xcc))/0x4)+parseInt(_0x5f4841(0xc6))/0x5*(parseInt(_0x5f4841(0x80))/0x6)+-parseInt(_0x5f4841(0xb9))/0x7*(parseInt(_0x5f4841(0xb3))/0x8)+-parseInt(_0x5f4841(0xba))/0x9*(parseInt(_0x5f4841(0x88))/0xa)+parseInt(_0x5f4841(0x8a))/0xb*(-parseInt(_0x5f4841(0x87))/0xc)+parseInt(_0x5f4841(0xb0))/0xd*(parseInt(_0x5f4841(0x9a))/0xe);if(_0x2cc4b5===_0x36270b)break;else _0x2cffe2['push'](_0x2cffe2['shift']());}catch(_0x48bf84){_0x2cffe2['push'](_0x2cffe2['shift']());}}}(a73_0x51d2,0x2b907));function a73_0x51d2(){const _0x19afb8=['disable','62589aUsrAK','exit','jobStorePath','12AnyFdx','saveSourceAutomationProcessesBackup','toString','MANIFEST_FILENAME','COMPLETED','_maskingManifest','enable','108vpNFhK','10DZHLnC','base64','378477MeMmmT','message','path','../../shared/managers/auth.manager','join','disableAutomationProcess','AxiosInstanceUtils','_request','Start\x20Masking\x20Process','./job-detail','_loggerJobState','__esModule','@flosum/salesforce','(((.+)+)+)+$','systemLogger','jobId','14tcYSTk','enableAutomationProcess','getManifest','error','initAutomationProcess','getManagerAutomationProcessOptions','execute','MaskingJob','defineProperty','gzip','LoggerJobState','keys','log','readFile','fs/promises','writeFile','LoggerDetails','JobStatus','StepsCreator','search','disableAutomation','21KbyozZ','10746684RMYKMz','details','setJobError','8aZZPeD','./classes/logger/logger-details','parse','default','from','IN_PROGRESS','188524ZcpASI','1401291zyNGcM','exception','ManagerAutomationProcess','Finish\x20Masking\x20Process','push','./enums/logger.enums','../../../constants/job','utf-8','setJobStatus','_isEnableAutomationProcessError','../constants','4ldoWaJ','606080paYghs','__importDefault','_steps','then','init','masking','156108nQbCqw','_loggerDetails','catch','./classes/step/steps-creator','Enable\x20automation\x20process','Disable\x20automation\x20process','kill'];a73_0x51d2=function(){return _0x19afb8;};return a73_0x51d2();}const a73_0x2959cd=(function(){let _0x4c6d92=!![];return function(_0x1894f7,_0x2019a4){const _0x5625d7=_0x4c6d92?function(){if(_0x2019a4){const _0x4f955c=_0x2019a4['apply'](_0x1894f7,arguments);return _0x2019a4=null,_0x4f955c;}}:function(){};return _0x4c6d92=![],_0x5625d7;};}()),a73_0x38bcae=a73_0x2959cd(this,function(){const _0x5dcf94=a73_0x598a;return a73_0x38bcae[_0x5dcf94(0x82)]()[_0x5dcf94(0xad)](_0x5dcf94(0x97))[_0x5dcf94(0x82)]()['constructor'](a73_0x38bcae)[_0x5dcf94(0xad)]('(((.+)+)+)+$');});a73_0x38bcae();'use strict';var __importDefault=this&&this[a73_0x5711fc(0xc7)]||function(_0x5449ff){const _0x20feb5=a73_0x5711fc;return _0x5449ff&&_0x5449ff[_0x20feb5(0x95)]?_0x5449ff:{'default':_0x5449ff};};Object[a73_0x5711fc(0xa2)](exports,a73_0x5711fc(0x95),{'value':!![]}),exports[a73_0x5711fc(0xa1)]=void 0x0;function a73_0x598a(_0x4c516e,_0x199468){const _0xbfc9fd=a73_0x51d2();return a73_0x598a=function(_0x38bcae,_0x2959cd){_0x38bcae=_0x38bcae-0x7d;let _0x51d26d=_0xbfc9fd[_0x38bcae];return _0x51d26d;},a73_0x598a(_0x4c516e,_0x199468);}const promises_1=require(a73_0x5711fc(0xa8)),salesforce_1=require(a73_0x5711fc(0x96)),steps_creator_1=require(a73_0x5711fc(0xcf)),logger_enums_1=require(a73_0x5711fc(0xbf)),logger_details_1=require(a73_0x5711fc(0xb4)),logger_job_state_1=require('./classes/logger/logger-job-state'),job_1=require(a73_0x5711fc(0xc0)),path_1=__importDefault(require(a73_0x5711fc(0x8c))),auth_manager_1=require(a73_0x5711fc(0x8d)),constants_1=require(a73_0x5711fc(0xc4)),job_detail_1=require(a73_0x5711fc(0x93));class MaskingJob{constructor(){const _0x48de66=a73_0x5711fc;this[_0x48de66(0xc3)]=![];}async[a73_0x5711fc(0x9e)](){const _0x108110=a73_0x5711fc,{objectRules:_0x287c2e}=this['_maskingManifest'];this['_managerAutomationProcess']=new salesforce_1[(_0x108110(0xbc))](this[_0x108110(0x9f)](_0x287c2e));}async[a73_0x5711fc(0xcb)](){const _0x4dce5b=a73_0x5711fc;job_detail_1[_0x4dce5b(0x98)][_0x4dce5b(0xa6)]('Start\x20Masking\x20Process'),this[_0x4dce5b(0xcd)]['log'](_0x4dce5b(0x92));const {objectRules:_0x317d4f,libraries:_0x15f414}=this[_0x4dce5b(0x85)];this[_0x4dce5b(0xc8)]=await new steps_creator_1[(_0x4dce5b(0xac))]({'loggerDetails':this[_0x4dce5b(0xcd)],'loggerJobState':this[_0x4dce5b(0x94)],'libraries':_0x15f414,'objectRules':_0x317d4f,'request':this['_request']})['create']();for(const _0x37fc99 of this[_0x4dce5b(0xc8)]){await _0x37fc99[_0x4dce5b(0xa0)]();}}[a73_0x5711fc(0x9f)](_0x214cbc){const _0x3f9590=a73_0x5711fc,_0x3c2474=[],_0x47f517=[],_0x355bbc=[],_0x13ba0e=[];for(const _0x486add in _0x214cbc){const {isDisableProcessBuilder:_0x507c44,isDisableTrigger:_0xbde524,isDisableValidationRule:_0x37a3a9,isDisableWorkflow:_0x5101cf}=_0x214cbc[_0x486add][_0x3f9590(0xae)];_0x507c44&&_0x355bbc[_0x3f9590(0xbe)](_0x486add),_0xbde524&&_0x3c2474[_0x3f9590(0xbe)](_0x486add),_0x37a3a9&&_0x13ba0e[_0x3f9590(0xbe)](_0x486add),_0x5101cf&&_0x47f517['push'](_0x486add);}return{'instance':this[_0x3f9590(0x91)],'saveSourceMetadataBackup':this[_0x3f9590(0x81)],'triggersObjects':_0x3c2474,'workflowsObjects':_0x47f517,'processBuilderObjects':_0x355bbc,'validationRulesObjects':_0x13ba0e};}async[a73_0x5711fc(0x8f)](){const _0x3d09c7=a73_0x5711fc;job_detail_1[_0x3d09c7(0x98)][_0x3d09c7(0xa6)](_0x3d09c7(0xd1)),this[_0x3d09c7(0xcd)][_0x3d09c7(0xa6)](_0x3d09c7(0xd1)),await this['_managerAutomationProcess'][_0x3d09c7(0xd3)]();}async[a73_0x5711fc(0x9b)](){const _0x46bb42=a73_0x5711fc;!this[_0x46bb42(0xc3)]&&(job_detail_1[_0x46bb42(0x98)][_0x46bb42(0xa6)](_0x46bb42(0xd0)),this['_loggerDetails'][_0x46bb42(0xa6)](_0x46bb42(0xd0)),await this['_managerAutomationProcess'][_0x46bb42(0x86)]()[_0x46bb42(0xce)](_0x3355b4=>{const _0x3e369f=_0x46bb42;this[_0x3e369f(0xc3)]=!![];throw _0x3355b4;}));}async[a73_0x5711fc(0x9c)](){const _0x4bb3d7=a73_0x5711fc,_0xefb9d8=await(0x0,promises_1[_0x4bb3d7(0xa7)])(path_1[_0x4bb3d7(0xb6)][_0x4bb3d7(0x8e)](job_detail_1[_0x4bb3d7(0x7f)],job_1[_0x4bb3d7(0x83)]),{'encoding':_0x4bb3d7(0xc1)});return await(0x0,promises_1['rm'])(path_1[_0x4bb3d7(0xb6)][_0x4bb3d7(0x8e)](job_detail_1[_0x4bb3d7(0x7f)],job_1[_0x4bb3d7(0x83)]),{'recursive':!![],'force':!![]}),JSON[_0x4bb3d7(0xb5)](_0xefb9d8)[_0x4bb3d7(0xb1)];}[a73_0x5711fc(0x81)](_0x5dbac6){const _0x317ee1=a73_0x5711fc;return(0x0,promises_1[_0x317ee1(0xa9)])(path_1[_0x317ee1(0xb6)]['join'](job_detail_1[_0x317ee1(0x7f)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x317ee1(0xb7)](_0x5dbac6,_0x317ee1(0x89)));}async[a73_0x5711fc(0xa0)](){const _0x1cdb2d=a73_0x5711fc;this['_maskingManifest']=await this[_0x1cdb2d(0x9c)]();const {objectRules:_0x79722,credentials:_0x1ae495}=this[_0x1cdb2d(0x85)];this['_loggerDetails']=await new logger_details_1[(_0x1cdb2d(0xaa))](job_detail_1[_0x1cdb2d(0x7f)],job_detail_1['jobId'])[_0x1cdb2d(0xca)](),this['_loggerJobState']=await new logger_job_state_1[(_0x1cdb2d(0xa4))](job_detail_1['jobStorePath'],job_detail_1[_0x1cdb2d(0x99)])[_0x1cdb2d(0xca)](Object[_0x1cdb2d(0xa5)](_0x79722));try{this[_0x1cdb2d(0x94)][_0x1cdb2d(0xc2)](logger_enums_1[_0x1cdb2d(0xab)][_0x1cdb2d(0xb8)]),this[_0x1cdb2d(0x91)]=await salesforce_1[_0x1cdb2d(0x90)]['create'](new auth_manager_1['AuthManager'](_0x1ae495),[],{'headers':{'Accept-Encoding':_0x1cdb2d(0xa3)}}),await this[_0x1cdb2d(0x9e)](),await this[_0x1cdb2d(0x8f)](),await this[_0x1cdb2d(0xcb)](),await this[_0x1cdb2d(0x9b)](),this[_0x1cdb2d(0x94)][_0x1cdb2d(0xc2)](logger_enums_1['JobStatus'][_0x1cdb2d(0x84)]);}catch(_0x488013){await this[_0x1cdb2d(0x9b)]()['catch'](_0x4f201c=>{const _0x30ce9e=_0x1cdb2d;job_detail_1[_0x30ce9e(0x98)][_0x30ce9e(0x9d)](_0x4f201c[_0x30ce9e(0x8b)]);}),this[_0x1cdb2d(0xcd)][_0x1cdb2d(0xbb)](_0x488013['message']),this[_0x1cdb2d(0x94)][_0x1cdb2d(0xc2)](logger_enums_1[_0x1cdb2d(0xab)]['FAILED']),this['_loggerJobState'][_0x1cdb2d(0xb2)](_0x488013[_0x1cdb2d(0x8b)]),job_detail_1['systemLogger'][_0x1cdb2d(0x9d)](_0x488013[_0x1cdb2d(0x8b)]);}finally{this[_0x1cdb2d(0xcd)]['log'](_0x1cdb2d(0xbd)),job_detail_1[_0x1cdb2d(0x98)]['log'](_0x1cdb2d(0xbd)),await this['_loggerJobState'][_0x1cdb2d(0xd2)](),await this[_0x1cdb2d(0xcd)][_0x1cdb2d(0xd2)]();}}}exports[a73_0x5711fc(0xa1)]=MaskingJob,new MaskingJob()[a73_0x5711fc(0xa0)]()[a73_0x5711fc(0xc9)](()=>process[a73_0x5711fc(0x7e)](0x0))[a73_0x5711fc(0xce)](()=>process[a73_0x5711fc(0x7e)](0x1));