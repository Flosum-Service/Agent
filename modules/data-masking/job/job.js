function a90_0x3563(_0x54b078,_0x3844f2){const _0x8831a=a90_0x1b2b();return a90_0x3563=function(_0x4890e6,_0x2fef87){_0x4890e6=_0x4890e6-0x16f;let _0x1b2b9b=_0x8831a[_0x4890e6];return _0x1b2b9b;},a90_0x3563(_0x54b078,_0x3844f2);}const a90_0x1b3eee=a90_0x3563;(function(_0x1c8106,_0x33be63){const _0x15f5ac=a90_0x3563,_0x401404=_0x1c8106();while(!![]){try{const _0x20a161=parseInt(_0x15f5ac(0x199))/0x1*(-parseInt(_0x15f5ac(0x190))/0x2)+parseInt(_0x15f5ac(0x18f))/0x3+-parseInt(_0x15f5ac(0x1ab))/0x4+-parseInt(_0x15f5ac(0x196))/0x5+-parseInt(_0x15f5ac(0x184))/0x6*(parseInt(_0x15f5ac(0x178))/0x7)+-parseInt(_0x15f5ac(0x194))/0x8*(-parseInt(_0x15f5ac(0x187))/0x9)+parseInt(_0x15f5ac(0x17c))/0xa;if(_0x20a161===_0x33be63)break;else _0x401404['push'](_0x401404['shift']());}catch(_0x4b89f8){_0x401404['push'](_0x401404['shift']());}}}(a90_0x1b2b,0x30640));function a90_0x1b2b(){const _0x356ef3=['ManagerAutomationProcess','MaskingJob','LoggerJobState','__esModule','Enable\x20automation\x20process','execute','AuthManager','Finish\x20Masking\x20Process','../../../constants/job','masking','_steps','Disable\x20automation\x20process','IN_PROGRESS','StepsCreator','log','gzip','default','14581MrNtUx','constructor','_maskingManifest','enable','11575900YTZvog','MANIFEST_FILENAME','_isEnableAutomationProcessError','JobStatus','parse','saveSourceAutomationProcessesBackup','exit','_loggerDetails','1038IGBijN','_request','init','9sFQLAm','then','toString','./enums/logger.enums','disable','getManagerAutomationProcessOptions','./classes/logger/logger-job-state','details','23241IINggu','320kxeiWp','push','readFile','disableAutomationProcess','1640640SBCbzy','apply','1080355jEwZNM','defineProperty','search','1685RyfBXj','join','catch','../../shared/managers/auth.manager','keys','message','LoggerDetails','create','kill','writeFile','setJobStatus','getManifest','_managerAutomationProcess','./classes/step/steps-creator','Start\x20Masking\x20Process','systemLogger','COMPLETED','base64','1304716HmhegM','utf-8','(((.+)+)+)+$','jobStorePath','enableAutomationProcess','@flosum/salesforce','_loggerJobState','jobId','initAutomationProcess','fs/promises','./job-detail','FAILED'];a90_0x1b2b=function(){return _0x356ef3;};return a90_0x1b2b();}const a90_0x2fef87=(function(){let _0x5d59a7=!![];return function(_0x458256,_0xba8325){const _0x5d7b60=_0x5d59a7?function(){const _0x3a0909=a90_0x3563;if(_0xba8325){const _0x2ca2cb=_0xba8325[_0x3a0909(0x195)](_0x458256,arguments);return _0xba8325=null,_0x2ca2cb;}}:function(){};return _0x5d59a7=![],_0x5d7b60;};}()),a90_0x4890e6=a90_0x2fef87(this,function(){const _0x21d23e=a90_0x3563;return a90_0x4890e6[_0x21d23e(0x189)]()[_0x21d23e(0x198)](_0x21d23e(0x1ad))[_0x21d23e(0x189)]()[_0x21d23e(0x179)](a90_0x4890e6)[_0x21d23e(0x198)](_0x21d23e(0x1ad));});a90_0x4890e6();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x525893){return _0x525893&&_0x525893['__esModule']?_0x525893:{'default':_0x525893};};Object[a90_0x1b3eee(0x197)](exports,a90_0x1b3eee(0x1ba),{'value':!![]}),exports[a90_0x1b3eee(0x1b8)]=void 0x0;const promises_1=require(a90_0x1b3eee(0x1b4)),salesforce_1=require(a90_0x1b3eee(0x1b0)),steps_creator_1=require(a90_0x1b3eee(0x1a6)),logger_enums_1=require(a90_0x1b3eee(0x18a)),logger_details_1=require('./classes/logger/logger-details'),logger_job_state_1=require(a90_0x1b3eee(0x18d)),job_1=require(a90_0x1b3eee(0x16f)),path_1=__importDefault(require('path')),auth_manager_1=require(a90_0x1b3eee(0x19c)),constants_1=require('../constants'),job_detail_1=require(a90_0x1b3eee(0x1b5));class MaskingJob{constructor(){const _0x3e845a=a90_0x1b3eee;this[_0x3e845a(0x17e)]=![];}async[a90_0x1b3eee(0x1b3)](){const _0x5d4c50=a90_0x1b3eee,{objectRules:_0x29cbdf}=this['_maskingManifest'];this[_0x5d4c50(0x1a5)]=new salesforce_1[(_0x5d4c50(0x1b7))](this['getManagerAutomationProcessOptions'](_0x29cbdf));}async[a90_0x1b3eee(0x170)](){const _0x517776=a90_0x1b3eee;job_detail_1[_0x517776(0x1a8)]['log'](_0x517776(0x1a7)),this[_0x517776(0x183)][_0x517776(0x175)]('Start\x20Masking\x20Process');const {objectRules:_0x3ba230,libraries:_0x5d1e1f}=this[_0x517776(0x17a)];this[_0x517776(0x171)]=await new steps_creator_1[(_0x517776(0x174))]({'loggerDetails':this[_0x517776(0x183)],'loggerJobState':this[_0x517776(0x1b1)],'libraries':_0x5d1e1f,'objectRules':_0x3ba230,'request':this[_0x517776(0x185)]})[_0x517776(0x1a0)]();for(const _0x10fd62 of this[_0x517776(0x171)]){await _0x10fd62[_0x517776(0x1bc)]();}}[a90_0x1b3eee(0x18c)](_0x149a6d){const _0x50ca59=a90_0x1b3eee,_0x52050f=[],_0x28f2aa=[],_0x44c245=[],_0x4f193b=[];for(const _0x2bd44e in _0x149a6d){const {isDisableProcessBuilder:_0x38cbd2,isDisableTrigger:_0x2c1107,isDisableValidationRule:_0x11f3f7,isDisableWorkflow:_0x2ed0a3}=_0x149a6d[_0x2bd44e]['disableAutomation'];_0x38cbd2&&_0x44c245[_0x50ca59(0x191)](_0x2bd44e),_0x2c1107&&_0x52050f['push'](_0x2bd44e),_0x11f3f7&&_0x4f193b[_0x50ca59(0x191)](_0x2bd44e),_0x2ed0a3&&_0x28f2aa[_0x50ca59(0x191)](_0x2bd44e);}return{'instance':this[_0x50ca59(0x185)],'saveSourceMetadataBackup':this['saveSourceAutomationProcessesBackup'],'triggersObjects':_0x52050f,'workflowsObjects':_0x28f2aa,'processBuilderObjects':_0x44c245,'validationRulesObjects':_0x4f193b};}async[a90_0x1b3eee(0x193)](){const _0x49177f=a90_0x1b3eee;job_detail_1[_0x49177f(0x1a8)][_0x49177f(0x175)]('Disable\x20automation\x20process'),this[_0x49177f(0x183)][_0x49177f(0x175)](_0x49177f(0x172)),await this[_0x49177f(0x1a5)][_0x49177f(0x18b)]();}async['enableAutomationProcess'](){const _0x2c5bee=a90_0x1b3eee;!this[_0x2c5bee(0x17e)]&&(job_detail_1[_0x2c5bee(0x1a8)][_0x2c5bee(0x175)](_0x2c5bee(0x1bb)),this[_0x2c5bee(0x183)][_0x2c5bee(0x175)]('Enable\x20automation\x20process'),await this['_managerAutomationProcess'][_0x2c5bee(0x17b)]()[_0x2c5bee(0x19b)](_0x439e37=>{const _0xc8b836=_0x2c5bee;this[_0xc8b836(0x17e)]=!![];throw _0x439e37;}));}async['getManifest'](){const _0x27dc3a=a90_0x1b3eee,_0xfa05b1=await(0x0,promises_1[_0x27dc3a(0x192)])(path_1[_0x27dc3a(0x177)]['join'](job_detail_1[_0x27dc3a(0x1ae)],job_1[_0x27dc3a(0x17d)]),{'encoding':_0x27dc3a(0x1ac)});return await(0x0,promises_1['rm'])(path_1[_0x27dc3a(0x177)][_0x27dc3a(0x19a)](job_detail_1[_0x27dc3a(0x1ae)],job_1[_0x27dc3a(0x17d)]),{'recursive':!![],'force':!![]}),JSON[_0x27dc3a(0x180)](_0xfa05b1)[_0x27dc3a(0x18e)];}[a90_0x1b3eee(0x181)](_0x3622a8){const _0x1831ac=a90_0x1b3eee;return(0x0,promises_1[_0x1831ac(0x1a2)])(path_1[_0x1831ac(0x177)]['join'](job_detail_1[_0x1831ac(0x1ae)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer['from'](_0x3622a8,_0x1831ac(0x1aa)));}async[a90_0x1b3eee(0x1bc)](){const _0x5d3c35=a90_0x1b3eee;this[_0x5d3c35(0x17a)]=await this[_0x5d3c35(0x1a4)]();const {objectRules:_0x40dbe9,credentials:_0x5772b8}=this[_0x5d3c35(0x17a)];this[_0x5d3c35(0x183)]=await new logger_details_1[(_0x5d3c35(0x19f))](job_detail_1['jobStorePath'],job_detail_1[_0x5d3c35(0x1b2)])[_0x5d3c35(0x186)](),this[_0x5d3c35(0x1b1)]=await new logger_job_state_1[(_0x5d3c35(0x1b9))](job_detail_1[_0x5d3c35(0x1ae)],job_detail_1['jobId'])[_0x5d3c35(0x186)](Object[_0x5d3c35(0x19d)](_0x40dbe9));try{this['_loggerJobState'][_0x5d3c35(0x1a3)](logger_enums_1[_0x5d3c35(0x17f)][_0x5d3c35(0x173)]),this['_request']=await salesforce_1['AxiosInstanceUtils'][_0x5d3c35(0x1a0)](new auth_manager_1[(_0x5d3c35(0x1bd))](_0x5772b8),[],{'headers':{'Accept-Encoding':_0x5d3c35(0x176)}}),await this[_0x5d3c35(0x1b3)](),await this[_0x5d3c35(0x193)](),await this[_0x5d3c35(0x170)](),await this[_0x5d3c35(0x1af)](),this[_0x5d3c35(0x1b1)][_0x5d3c35(0x1a3)](logger_enums_1[_0x5d3c35(0x17f)][_0x5d3c35(0x1a9)]);}catch(_0x479316){await this['enableAutomationProcess']()[_0x5d3c35(0x19b)](_0x1abf8f=>{const _0xe07b8b=_0x5d3c35;job_detail_1['systemLogger']['error'](_0x1abf8f[_0xe07b8b(0x19e)]);}),this[_0x5d3c35(0x183)]['exception'](_0x479316[_0x5d3c35(0x19e)]),this[_0x5d3c35(0x1b1)]['setJobStatus'](logger_enums_1['JobStatus'][_0x5d3c35(0x1b6)]),this[_0x5d3c35(0x1b1)]['setJobError'](_0x479316[_0x5d3c35(0x19e)]),job_detail_1[_0x5d3c35(0x1a8)]['error'](_0x479316['message']);}finally{this[_0x5d3c35(0x183)][_0x5d3c35(0x175)](_0x5d3c35(0x1be)),job_detail_1[_0x5d3c35(0x1a8)][_0x5d3c35(0x175)](_0x5d3c35(0x1be)),await this[_0x5d3c35(0x1b1)][_0x5d3c35(0x1a1)](),await this['_loggerDetails']['kill']();}}}exports['MaskingJob']=MaskingJob,new MaskingJob()[a90_0x1b3eee(0x1bc)]()[a90_0x1b3eee(0x188)](()=>process[a90_0x1b3eee(0x182)](0x0))[a90_0x1b3eee(0x19b)](()=>process[a90_0x1b3eee(0x182)](0x1));