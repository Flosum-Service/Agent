function a90_0x39c0(){const _0x3c607f=['LoggerJobState','63vSgVTU','catch','jobStorePath','defineProperty','exit','Enable\x20automation\x20process','6990809uAnGEK','jobId','kill','1478YAHfOB','base64','exception','enableAutomationProcess','create','disableAutomationProcess','@flosum/salesforce','IN_PROGRESS','masking','apply','constructor','_maskingManifest','default','parse','_loggerDetails','message','log','__importDefault','utf-8','writeFile','setJobStatus','12765040hdXgYR','readFile','Disable\x20automation\x20process','path','FAILED','JobStatus','../../shared/managers/auth.manager','./classes/step/steps-creator','join','139785ArFVOY','enable','_steps','AuthManager','1481784mexzXT','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','error','Start\x20Masking\x20Process','./classes/logger/logger-job-state','then','gzip','./job-detail','173788QAFQzY','initAutomationProcess','MANIFEST_FILENAME','../constants','Finish\x20Masking\x20Process','getManagerAutomationProcessOptions','./classes/logger/logger-details','__esModule','_isEnableAutomationProcessError','systemLogger','LoggerDetails','search','./enums/logger.enums','(((.+)+)+)+$','toString','1181mizVYZ','MaskingJob','4918336GLsISZ','execute','COMPLETED','push','18IpLQiL','../../../constants/job','keys','saveSourceAutomationProcessesBackup','_loggerJobState','_request','_managerAutomationProcess'];a90_0x39c0=function(){return _0x3c607f;};return a90_0x39c0();}const a90_0x1fade5=a90_0x4d68;(function(_0xaae022,_0x31e27b){const _0x5b2d77=a90_0x4d68,_0x403c41=_0xaae022();while(!![]){try{const _0x2de28f=parseInt(_0x5b2d77(0xae))/0x1*(-parseInt(_0x5b2d77(0xc5))/0x2)+parseInt(_0x5b2d77(0xbc))/0x3*(-parseInt(_0x5b2d77(0x9f))/0x4)+parseInt(_0x5b2d77(0x93))/0x5+parseInt(_0x5b2d77(0x97))/0x6+-parseInt(_0x5b2d77(0xc2))/0x7+parseInt(_0x5b2d77(0xb0))/0x8+-parseInt(_0x5b2d77(0xb4))/0x9*(-parseInt(_0x5b2d77(0x8a))/0xa);if(_0x2de28f===_0x31e27b)break;else _0x403c41['push'](_0x403c41['shift']());}catch(_0xced375){_0x403c41['push'](_0x403c41['shift']());}}}(a90_0x39c0,0xa0dc8));const a90_0x3383c9=(function(){let _0xa3b69e=!![];return function(_0x2f9045,_0x8bdc9a){const _0x3d6f8c=_0xa3b69e?function(){const _0xfe8f3b=a90_0x4d68;if(_0x8bdc9a){const _0x15e3a5=_0x8bdc9a[_0xfe8f3b(0xce)](_0x2f9045,arguments);return _0x8bdc9a=null,_0x15e3a5;}}:function(){};return _0xa3b69e=![],_0x3d6f8c;};}()),a90_0x814dbb=a90_0x3383c9(this,function(){const _0x566824=a90_0x4d68;return a90_0x814dbb[_0x566824(0xad)]()[_0x566824(0xaa)](_0x566824(0xac))[_0x566824(0xad)]()[_0x566824(0xcf)](a90_0x814dbb)[_0x566824(0xaa)]('(((.+)+)+)+$');});function a90_0x4d68(_0x21aa5a,_0x379d3f){const _0x143151=a90_0x39c0();return a90_0x4d68=function(_0x814dbb,_0x3383c9){_0x814dbb=_0x814dbb-0x82;let _0x39c025=_0x143151[_0x814dbb];return _0x39c025;},a90_0x4d68(_0x21aa5a,_0x379d3f);}a90_0x814dbb();'use strict';var __importDefault=this&&this[a90_0x1fade5(0x86)]||function(_0x46646b){const _0x4fdae9=a90_0x1fade5;return _0x46646b&&_0x46646b[_0x4fdae9(0xa6)]?_0x46646b:{'default':_0x46646b};};Object[a90_0x1fade5(0xbf)](exports,'__esModule',{'value':!![]}),exports[a90_0x1fade5(0xaf)]=void 0x0;const promises_1=require('fs/promises'),salesforce_1=require(a90_0x1fade5(0xcb)),steps_creator_1=require(a90_0x1fade5(0x91)),logger_enums_1=require(a90_0x1fade5(0xab)),logger_details_1=require(a90_0x1fade5(0xa5)),logger_job_state_1=require(a90_0x1fade5(0x9b)),job_1=require(a90_0x1fade5(0xb5)),path_1=__importDefault(require(a90_0x1fade5(0x8d))),auth_manager_1=require(a90_0x1fade5(0x90)),constants_1=require(a90_0x1fade5(0xa2)),job_detail_1=require(a90_0x1fade5(0x9e));class MaskingJob{constructor(){this['_isEnableAutomationProcessError']=![];}async[a90_0x1fade5(0xa0)](){const _0x38b583=a90_0x1fade5,{objectRules:_0x2509d5}=this[_0x38b583(0xd0)];this[_0x38b583(0xba)]=new salesforce_1['ManagerAutomationProcess'](this[_0x38b583(0xa4)](_0x2509d5));}async[a90_0x1fade5(0xcd)](){const _0x4edce7=a90_0x1fade5;job_detail_1[_0x4edce7(0xa8)][_0x4edce7(0x85)](_0x4edce7(0x9a)),this[_0x4edce7(0x83)][_0x4edce7(0x85)]('Start\x20Masking\x20Process');const {objectRules:_0x171ac3,libraries:_0x10f5b3}=this[_0x4edce7(0xd0)];this[_0x4edce7(0x95)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this[_0x4edce7(0x83)],'loggerJobState':this[_0x4edce7(0xb8)],'libraries':_0x10f5b3,'objectRules':_0x171ac3,'request':this[_0x4edce7(0xb9)]})['create']();for(const _0x18c7f2 of this[_0x4edce7(0x95)]){await _0x18c7f2[_0x4edce7(0xb1)]();}}[a90_0x1fade5(0xa4)](_0x31116c){const _0x8544bb=a90_0x1fade5,_0xf51b6d=[],_0x348cc9=[],_0xcc252b=[],_0x5aea8d=[];for(const _0x1f957d in _0x31116c){const {isDisableProcessBuilder:_0x2d13d1,isDisableTrigger:_0xacd211,isDisableValidationRule:_0x3ba0d4,isDisableWorkflow:_0x13aaf3}=_0x31116c[_0x1f957d]['disableAutomation'];_0x2d13d1&&_0xcc252b[_0x8544bb(0xb3)](_0x1f957d),_0xacd211&&_0xf51b6d[_0x8544bb(0xb3)](_0x1f957d),_0x3ba0d4&&_0x5aea8d[_0x8544bb(0xb3)](_0x1f957d),_0x13aaf3&&_0x348cc9[_0x8544bb(0xb3)](_0x1f957d);}return{'instance':this[_0x8544bb(0xb9)],'saveSourceMetadataBackup':this[_0x8544bb(0xb7)],'triggersObjects':_0xf51b6d,'workflowsObjects':_0x348cc9,'processBuilderObjects':_0xcc252b,'validationRulesObjects':_0x5aea8d};}async[a90_0x1fade5(0xca)](){const _0x2efb96=a90_0x1fade5;job_detail_1[_0x2efb96(0xa8)][_0x2efb96(0x85)](_0x2efb96(0x8c)),this[_0x2efb96(0x83)][_0x2efb96(0x85)]('Disable\x20automation\x20process'),await this[_0x2efb96(0xba)]['disable']();}async['enableAutomationProcess'](){const _0x16c088=a90_0x1fade5;!this[_0x16c088(0xa7)]&&(job_detail_1[_0x16c088(0xa8)][_0x16c088(0x85)](_0x16c088(0xc1)),this[_0x16c088(0x83)]['log'](_0x16c088(0xc1)),await this['_managerAutomationProcess'][_0x16c088(0x94)]()['catch'](_0x3a45c3=>{const _0x43152e=_0x16c088;this[_0x43152e(0xa7)]=!![];throw _0x3a45c3;}));}async['getManifest'](){const _0x1ca80f=a90_0x1fade5,_0x4ef90d=await(0x0,promises_1[_0x1ca80f(0x8b)])(path_1[_0x1ca80f(0xd1)][_0x1ca80f(0x92)](job_detail_1['jobStorePath'],job_1['MANIFEST_FILENAME']),{'encoding':_0x1ca80f(0x87)});return await(0x0,promises_1['rm'])(path_1[_0x1ca80f(0xd1)]['join'](job_detail_1[_0x1ca80f(0xbe)],job_1[_0x1ca80f(0xa1)]),{'recursive':!![],'force':!![]}),JSON[_0x1ca80f(0x82)](_0x4ef90d)['details'];}[a90_0x1fade5(0xb7)](_0x55877f){const _0x364ba4=a90_0x1fade5;return(0x0,promises_1[_0x364ba4(0x88)])(path_1[_0x364ba4(0xd1)][_0x364ba4(0x92)](job_detail_1['jobStorePath'],constants_1[_0x364ba4(0x98)]),Buffer['from'](_0x55877f,_0x364ba4(0xc6)));}async[a90_0x1fade5(0xb1)](){const _0x380cbd=a90_0x1fade5;this[_0x380cbd(0xd0)]=await this['getManifest']();const {objectRules:_0x2fccf2,credentials:_0x51a5db}=this[_0x380cbd(0xd0)];this[_0x380cbd(0x83)]=await new logger_details_1[(_0x380cbd(0xa9))](job_detail_1[_0x380cbd(0xbe)],job_detail_1[_0x380cbd(0xc3)])['init'](),this[_0x380cbd(0xb8)]=await new logger_job_state_1[(_0x380cbd(0xbb))](job_detail_1[_0x380cbd(0xbe)],job_detail_1['jobId'])['init'](Object[_0x380cbd(0xb6)](_0x2fccf2));try{this[_0x380cbd(0xb8)][_0x380cbd(0x89)](logger_enums_1[_0x380cbd(0x8f)][_0x380cbd(0xcc)]),this[_0x380cbd(0xb9)]=await salesforce_1['AxiosInstanceUtils'][_0x380cbd(0xc9)](new auth_manager_1[(_0x380cbd(0x96))](_0x51a5db),[],{'headers':{'Accept-Encoding':_0x380cbd(0x9d)}}),await this[_0x380cbd(0xa0)](),await this[_0x380cbd(0xca)](),await this[_0x380cbd(0xcd)](),await this[_0x380cbd(0xc8)](),this['_loggerJobState'][_0x380cbd(0x89)](logger_enums_1['JobStatus'][_0x380cbd(0xb2)]);}catch(_0x34f96c){await this['enableAutomationProcess']()[_0x380cbd(0xbd)](_0x162253=>{const _0x3e7c6e=_0x380cbd;job_detail_1[_0x3e7c6e(0xa8)][_0x3e7c6e(0x99)](_0x162253[_0x3e7c6e(0x84)]);}),this['_loggerDetails'][_0x380cbd(0xc7)](_0x34f96c[_0x380cbd(0x84)]),this[_0x380cbd(0xb8)][_0x380cbd(0x89)](logger_enums_1[_0x380cbd(0x8f)][_0x380cbd(0x8e)]),this[_0x380cbd(0xb8)]['setJobError'](_0x34f96c[_0x380cbd(0x84)]),job_detail_1[_0x380cbd(0xa8)][_0x380cbd(0x99)](_0x34f96c['message']);}finally{this['_loggerDetails'][_0x380cbd(0x85)](_0x380cbd(0xa3)),job_detail_1[_0x380cbd(0xa8)][_0x380cbd(0x85)]('Finish\x20Masking\x20Process'),await this[_0x380cbd(0xb8)][_0x380cbd(0xc4)](),await this[_0x380cbd(0x83)][_0x380cbd(0xc4)]();}}}exports[a90_0x1fade5(0xaf)]=MaskingJob,new MaskingJob()[a90_0x1fade5(0xb1)]()[a90_0x1fade5(0x9c)](()=>process['exit'](0x0))[a90_0x1fade5(0xbd)](()=>process[a90_0x1fade5(0xc0)](0x1));