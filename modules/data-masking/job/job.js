const a88_0x12b887=a88_0x2567;(function(_0x3b7d68,_0xb99d10){const _0x1c57f5=a88_0x2567,_0x2f3b80=_0x3b7d68();while(!![]){try{const _0x86e858=parseInt(_0x1c57f5(0x10e))/0x1+-parseInt(_0x1c57f5(0x109))/0x2*(-parseInt(_0x1c57f5(0xed))/0x3)+parseInt(_0x1c57f5(0xce))/0x4*(parseInt(_0x1c57f5(0xd2))/0x5)+-parseInt(_0x1c57f5(0x102))/0x6+parseInt(_0x1c57f5(0x111))/0x7+-parseInt(_0x1c57f5(0xea))/0x8*(-parseInt(_0x1c57f5(0x120))/0x9)+-parseInt(_0x1c57f5(0x108))/0xa*(parseInt(_0x1c57f5(0xfb))/0xb);if(_0x86e858===_0xb99d10)break;else _0x2f3b80['push'](_0x2f3b80['shift']());}catch(_0x1f0e17){_0x2f3b80['push'](_0x2f3b80['shift']());}}}(a88_0x260a,0x53c87));const a88_0x34f301=(function(){let _0xc3cce8=!![];return function(_0x4b3966,_0x1e1213){const _0x54ec97=_0xc3cce8?function(){const _0x3db7ac=a88_0x2567;if(_0x1e1213){const _0x2f2242=_0x1e1213[_0x3db7ac(0xd0)](_0x4b3966,arguments);return _0x1e1213=null,_0x2f2242;}}:function(){};return _0xc3cce8=![],_0x54ec97;};}()),a88_0x515a60=a88_0x34f301(this,function(){const _0x5c339f=a88_0x2567;return a88_0x515a60[_0x5c339f(0xfc)]()[_0x5c339f(0xf7)](_0x5c339f(0xdd))[_0x5c339f(0xfc)]()[_0x5c339f(0x106)](a88_0x515a60)['search'](_0x5c339f(0xdd));});a88_0x515a60();'use strict';var __importDefault=this&&this[a88_0x12b887(0x11f)]||function(_0x37c41b){const _0x55a98e=a88_0x12b887;return _0x37c41b&&_0x37c41b[_0x55a98e(0x11e)]?_0x37c41b:{'default':_0x37c41b};};function a88_0x2567(_0x584c62,_0x45c1db){const _0x1dbce2=a88_0x260a();return a88_0x2567=function(_0x515a60,_0x34f301){_0x515a60=_0x515a60-0xcc;let _0x260a8f=_0x1dbce2[_0x515a60];return _0x260a8f;},a88_0x2567(_0x584c62,_0x45c1db);}Object[a88_0x12b887(0xe5)](exports,a88_0x12b887(0x11e),{'value':!![]}),exports[a88_0x12b887(0xfe)]=void 0x0;const promises_1=require(a88_0x12b887(0xdb)),salesforce_1=require(a88_0x12b887(0x107)),steps_creator_1=require(a88_0x12b887(0x114)),logger_enums_1=require(a88_0x12b887(0x11c)),logger_details_1=require('./classes/logger/logger-details'),logger_job_state_1=require(a88_0x12b887(0x10d)),job_1=require(a88_0x12b887(0xcf)),path_1=__importDefault(require(a88_0x12b887(0x118))),auth_manager_1=require(a88_0x12b887(0xd9)),constants_1=require(a88_0x12b887(0xff)),job_detail_1=require(a88_0x12b887(0xcd));class MaskingJob{constructor(){const _0x173a20=a88_0x12b887;this[_0x173a20(0x117)]=![];}async[a88_0x12b887(0xde)](){const _0x1ada8a=a88_0x12b887,{objectRules:_0x398995}=this[_0x1ada8a(0x11d)];this['_managerAutomationProcess']=new salesforce_1[(_0x1ada8a(0xcc))](this[_0x1ada8a(0x10c)](_0x398995));}async[a88_0x12b887(0xe9)](){const _0x2cf0d7=a88_0x12b887;job_detail_1[_0x2cf0d7(0x112)][_0x2cf0d7(0xd3)](_0x2cf0d7(0xdc)),this[_0x2cf0d7(0xf8)][_0x2cf0d7(0xd3)]('Start\x20Masking\x20Process');const {objectRules:_0x528124,libraries:_0x33e643}=this[_0x2cf0d7(0x11d)];this[_0x2cf0d7(0xe6)]=await new steps_creator_1[(_0x2cf0d7(0xf4))]({'loggerDetails':this[_0x2cf0d7(0xf8)],'loggerJobState':this[_0x2cf0d7(0xf9)],'libraries':_0x33e643,'objectRules':_0x528124,'request':this['_request']})[_0x2cf0d7(0xd4)]();for(const _0x1dce2c of this['_steps']){await _0x1dce2c[_0x2cf0d7(0xe3)]();}}['getManagerAutomationProcessOptions'](_0x383229){const _0x14c3e5=a88_0x12b887,_0x114ac7=[],_0x3bdb67=[],_0x41a640=[],_0x3defec=[];for(const _0x33adc9 in _0x383229){const {isDisableProcessBuilder:_0x3be3f1,isDisableTrigger:_0x3bf2aa,isDisableValidationRule:_0x1073b9,isDisableWorkflow:_0x2d38d0}=_0x383229[_0x33adc9]['disableAutomation'];_0x3be3f1&&_0x41a640[_0x14c3e5(0xd6)](_0x33adc9),_0x3bf2aa&&_0x114ac7['push'](_0x33adc9),_0x1073b9&&_0x3defec[_0x14c3e5(0xd6)](_0x33adc9),_0x2d38d0&&_0x3bdb67['push'](_0x33adc9);}return{'instance':this['_request'],'saveSourceMetadataBackup':this[_0x14c3e5(0x11b)],'triggersObjects':_0x114ac7,'workflowsObjects':_0x3bdb67,'processBuilderObjects':_0x41a640,'validationRulesObjects':_0x3defec};}async[a88_0x12b887(0xfd)](){const _0x14ec6d=a88_0x12b887;job_detail_1[_0x14ec6d(0x112)][_0x14ec6d(0xd3)](_0x14ec6d(0x110)),this[_0x14ec6d(0xf8)][_0x14ec6d(0xd3)]('Disable\x20automation\x20process'),await this[_0x14ec6d(0x10f)][_0x14ec6d(0xda)]();}async[a88_0x12b887(0xec)](){const _0x26491f=a88_0x12b887;!this[_0x26491f(0x117)]&&(job_detail_1[_0x26491f(0x112)]['log']('Enable\x20automation\x20process'),this[_0x26491f(0xf8)][_0x26491f(0xd3)](_0x26491f(0x104)),await this[_0x26491f(0x10f)][_0x26491f(0xe0)]()[_0x26491f(0x101)](_0xa92dd3=>{this['_isEnableAutomationProcessError']=!![];throw _0xa92dd3;}));}async[a88_0x12b887(0xef)](){const _0x3dd3cb=a88_0x12b887,_0xcdf3b8=await(0x0,promises_1[_0x3dd3cb(0x116)])(path_1[_0x3dd3cb(0xf2)]['join'](job_detail_1[_0x3dd3cb(0xd7)],job_1[_0x3dd3cb(0xeb)]),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1['default'][_0x3dd3cb(0xe4)](job_detail_1[_0x3dd3cb(0xd7)],job_1['MANIFEST_FILENAME']),{'recursive':!![],'force':!![]}),JSON['parse'](_0xcdf3b8)[_0x3dd3cb(0xf0)];}[a88_0x12b887(0x11b)](_0x45b97b){const _0x5f1b64=a88_0x12b887;return(0x0,promises_1[_0x5f1b64(0x115)])(path_1[_0x5f1b64(0xf2)]['join'](job_detail_1[_0x5f1b64(0xd7)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x5f1b64(0x121)](_0x45b97b,_0x5f1b64(0x10a)));}async[a88_0x12b887(0xe3)](){const _0x3cb511=a88_0x12b887;this['_maskingManifest']=await this[_0x3cb511(0xef)]();const {objectRules:_0xa39bdc,credentials:_0x58985a}=this['_maskingManifest'];this[_0x3cb511(0xf8)]=await new logger_details_1[(_0x3cb511(0x105))](job_detail_1['jobStorePath'],job_detail_1[_0x3cb511(0xf5)])[_0x3cb511(0x113)](),this['_loggerJobState']=await new logger_job_state_1[(_0x3cb511(0x103))](job_detail_1[_0x3cb511(0xd7)],job_detail_1['jobId'])[_0x3cb511(0x113)](Object['keys'](_0xa39bdc));try{this[_0x3cb511(0xf9)][_0x3cb511(0xe8)](logger_enums_1['JobStatus'][_0x3cb511(0xe2)]),this[_0x3cb511(0x10b)]=await salesforce_1[_0x3cb511(0xd8)][_0x3cb511(0xd4)](new auth_manager_1[(_0x3cb511(0xd1))](_0x58985a),[],{'headers':{'Accept-Encoding':_0x3cb511(0x119)}}),await this[_0x3cb511(0xde)](),await this[_0x3cb511(0xfd)](),await this[_0x3cb511(0xe9)](),await this[_0x3cb511(0xec)](),this[_0x3cb511(0xf9)][_0x3cb511(0xe8)](logger_enums_1[_0x3cb511(0xf1)][_0x3cb511(0xdf)]);}catch(_0x3a5aaa){await this[_0x3cb511(0xec)]()[_0x3cb511(0x101)](_0x5ebab3=>{const _0x4626fa=_0x3cb511;job_detail_1[_0x4626fa(0x112)][_0x4626fa(0xe1)](_0x5ebab3[_0x4626fa(0x11a)]);}),this[_0x3cb511(0xf8)][_0x3cb511(0xd5)](_0x3a5aaa[_0x3cb511(0x11a)]),this[_0x3cb511(0xf9)][_0x3cb511(0xe8)](logger_enums_1['JobStatus'][_0x3cb511(0xe7)]),this[_0x3cb511(0xf9)][_0x3cb511(0x100)](_0x3a5aaa[_0x3cb511(0x11a)]),job_detail_1[_0x3cb511(0x112)][_0x3cb511(0xe1)](_0x3a5aaa['message']);}finally{this[_0x3cb511(0xf8)][_0x3cb511(0xd3)](_0x3cb511(0xfa)),job_detail_1[_0x3cb511(0x112)]['log'](_0x3cb511(0xfa)),await this[_0x3cb511(0xf9)][_0x3cb511(0xf3)](),await this[_0x3cb511(0xf8)][_0x3cb511(0xf3)]();}}}function a88_0x260a(){const _0x1ac238=['1804725vkeYrq','then','getManifest','details','JobStatus','default','kill','StepsCreator','jobId','exit','search','_loggerDetails','_loggerJobState','Finish\x20Masking\x20Process','374902KvIiZU','toString','disableAutomationProcess','MaskingJob','../constants','setJobError','catch','1985310SBCZYm','LoggerJobState','Enable\x20automation\x20process','LoggerDetails','constructor','@flosum/salesforce','330FpkDhQ','2fTmAdZ','base64','_request','getManagerAutomationProcessOptions','./classes/logger/logger-job-state','418178fMonRD','_managerAutomationProcess','Disable\x20automation\x20process','1645742bRbAEJ','systemLogger','init','./classes/step/steps-creator','writeFile','readFile','_isEnableAutomationProcessError','path','gzip','message','saveSourceAutomationProcessesBackup','./enums/logger.enums','_maskingManifest','__esModule','__importDefault','39303PaTLsV','from','ManagerAutomationProcess','./job-detail','128NGvpAo','../../../constants/job','apply','AuthManager','10610yJDLMZ','log','create','exception','push','jobStorePath','AxiosInstanceUtils','../../shared/managers/auth.manager','disable','fs/promises','Start\x20Masking\x20Process','(((.+)+)+)+$','initAutomationProcess','COMPLETED','enable','error','IN_PROGRESS','execute','join','defineProperty','_steps','FAILED','setJobStatus','masking','872XpCvEi','MANIFEST_FILENAME','enableAutomationProcess'];a88_0x260a=function(){return _0x1ac238;};return a88_0x260a();}exports[a88_0x12b887(0xfe)]=MaskingJob,new MaskingJob()[a88_0x12b887(0xe3)]()[a88_0x12b887(0xee)](()=>process[a88_0x12b887(0xf6)](0x0))[a88_0x12b887(0x101)](()=>process[a88_0x12b887(0xf6)](0x1));