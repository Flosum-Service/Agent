const a73_0x554b0f=a73_0x2854;(function(_0x423fd7,_0x5a24ae){const _0x28529b=a73_0x2854,_0x3d7346=_0x423fd7();while(!![]){try{const _0x1ad4f8=-parseInt(_0x28529b(0x1d3))/0x1*(parseInt(_0x28529b(0x1ff))/0x2)+-parseInt(_0x28529b(0x1ec))/0x3*(-parseInt(_0x28529b(0x20d))/0x4)+parseInt(_0x28529b(0x1ef))/0x5+-parseInt(_0x28529b(0x1fb))/0x6+parseInt(_0x28529b(0x1d8))/0x7+-parseInt(_0x28529b(0x1e6))/0x8*(-parseInt(_0x28529b(0x203))/0x9)+parseInt(_0x28529b(0x1d0))/0xa*(-parseInt(_0x28529b(0x1e7))/0xb);if(_0x1ad4f8===_0x5a24ae)break;else _0x3d7346['push'](_0x3d7346['shift']());}catch(_0x31ab75){_0x3d7346['push'](_0x3d7346['shift']());}}}(a73_0x3bce,0x3a22b));const a73_0xe42d44=(function(){let _0x221a0f=!![];return function(_0x209b18,_0x475f7a){const _0x3b99dc=_0x221a0f?function(){const _0x4c9d8a=a73_0x2854;if(_0x475f7a){const _0x247c7e=_0x475f7a[_0x4c9d8a(0x1f6)](_0x209b18,arguments);return _0x475f7a=null,_0x247c7e;}}:function(){};return _0x221a0f=![],_0x3b99dc;};}()),a73_0x2eda45=a73_0xe42d44(this,function(){const _0x39a7b2=a73_0x2854;return a73_0x2eda45[_0x39a7b2(0x1eb)]()[_0x39a7b2(0x1fd)](_0x39a7b2(0x1d9))['toString']()[_0x39a7b2(0x1e8)](a73_0x2eda45)[_0x39a7b2(0x1fd)]('(((.+)+)+)+$');});a73_0x2eda45();'use strict';var __importDefault=this&&this[a73_0x554b0f(0x1dc)]||function(_0x2cddb9){const _0x31843f=a73_0x554b0f;return _0x2cddb9&&_0x2cddb9[_0x31843f(0x1ee)]?_0x2cddb9:{'default':_0x2cddb9};};function a73_0x2854(_0x4b161f,_0x492e8e){const _0x15c3ac=a73_0x3bce();return a73_0x2854=function(_0x2eda45,_0xe42d44){_0x2eda45=_0x2eda45-0x1c8;let _0x3bce4b=_0x15c3ac[_0x2eda45];return _0x3bce4b;},a73_0x2854(_0x4b161f,_0x492e8e);}Object[a73_0x554b0f(0x1fe)](exports,a73_0x554b0f(0x1ee),{'value':!![]}),exports[a73_0x554b0f(0x20a)]=void 0x0;const promises_1=require('fs/promises'),salesforce_1=require(a73_0x554b0f(0x1f2)),steps_creator_1=require(a73_0x554b0f(0x209)),logger_enums_1=require(a73_0x554b0f(0x1d1)),logger_details_1=require(a73_0x554b0f(0x20e)),logger_job_state_1=require(a73_0x554b0f(0x1e0)),job_1=require(a73_0x554b0f(0x217)),path_1=__importDefault(require(a73_0x554b0f(0x202))),auth_manager_1=require('../../shared/managers/auth.manager'),constants_1=require(a73_0x554b0f(0x214)),job_detail_1=require(a73_0x554b0f(0x1e1));class MaskingJob{constructor(){const _0x408321=a73_0x554b0f;this[_0x408321(0x20b)]=![];}async[a73_0x554b0f(0x1df)](){const _0x18ac50=a73_0x554b0f,{objectRules:_0x4c1e00}=this[_0x18ac50(0x1e4)];this['_managerAutomationProcess']=new salesforce_1[(_0x18ac50(0x1d7))](this[_0x18ac50(0x201)](_0x4c1e00));}async[a73_0x554b0f(0x1f7)](){const _0x126484=a73_0x554b0f;job_detail_1[_0x126484(0x1f0)][_0x126484(0x208)]('Start\x20Masking\x20Process'),this[_0x126484(0x1f9)]['log'](_0x126484(0x20c));const {objectRules:_0xbe1ba4,libraries:_0x460ba8}=this[_0x126484(0x1e4)];this[_0x126484(0x1cf)]=await new steps_creator_1[(_0x126484(0x1f1))]({'loggerDetails':this[_0x126484(0x1f9)],'loggerJobState':this[_0x126484(0x1ce)],'libraries':_0x460ba8,'objectRules':_0xbe1ba4,'request':this['_request']})[_0x126484(0x1dd)]();for(const _0x5eea03 of this[_0x126484(0x1cf)]){await _0x5eea03[_0x126484(0x1d5)]();}}[a73_0x554b0f(0x201)](_0x5eec41){const _0x2b131d=a73_0x554b0f,_0x57fa90=[],_0xf8c50a=[],_0x321349=[],_0x4efcda=[];for(const _0x1ea458 in _0x5eec41){const {isDisableProcessBuilder:_0x159027,isDisableTrigger:_0x462d07,isDisableValidationRule:_0x19cfe1,isDisableWorkflow:_0x2fcdf1}=_0x5eec41[_0x1ea458]['disableAutomation'];_0x159027&&_0x321349[_0x2b131d(0x207)](_0x1ea458),_0x462d07&&_0x57fa90['push'](_0x1ea458),_0x19cfe1&&_0x4efcda[_0x2b131d(0x207)](_0x1ea458),_0x2fcdf1&&_0xf8c50a[_0x2b131d(0x207)](_0x1ea458);}return{'instance':this[_0x2b131d(0x1ca)],'saveSourceMetadataBackup':this[_0x2b131d(0x1cd)],'triggersObjects':_0x57fa90,'workflowsObjects':_0xf8c50a,'processBuilderObjects':_0x321349,'validationRulesObjects':_0x4efcda};}async[a73_0x554b0f(0x20f)](){const _0x5769a8=a73_0x554b0f;job_detail_1[_0x5769a8(0x1f0)][_0x5769a8(0x208)]('Disable\x20automation\x20process'),this[_0x5769a8(0x1f9)][_0x5769a8(0x208)]('Disable\x20automation\x20process'),await this[_0x5769a8(0x1e2)]['disable']();}async[a73_0x554b0f(0x212)](){const _0x17effc=a73_0x554b0f;!this['_isEnableAutomationProcessError']&&(job_detail_1[_0x17effc(0x1f0)][_0x17effc(0x208)](_0x17effc(0x204)),this[_0x17effc(0x1f9)]['log'](_0x17effc(0x204)),await this[_0x17effc(0x1e2)][_0x17effc(0x1f8)]()[_0x17effc(0x1db)](_0x4fcdd6=>{const _0x2899ad=_0x17effc;this[_0x2899ad(0x20b)]=!![];throw _0x4fcdd6;}));}async[a73_0x554b0f(0x211)](){const _0x48f394=a73_0x554b0f,_0x1e4acf=await(0x0,promises_1[_0x48f394(0x1da)])(path_1[_0x48f394(0x1e9)][_0x48f394(0x1fc)](job_detail_1[_0x48f394(0x1fa)],job_1['MANIFEST_FILENAME']),{'encoding':_0x48f394(0x1de)});return await(0x0,promises_1['rm'])(path_1[_0x48f394(0x1e9)][_0x48f394(0x1fc)](job_detail_1[_0x48f394(0x1fa)],job_1['MANIFEST_FILENAME']),{'recursive':!![],'force':!![]}),JSON[_0x48f394(0x216)](_0x1e4acf)['details'];}[a73_0x554b0f(0x1cd)](_0x900eaf){const _0x5bf149=a73_0x554b0f;return(0x0,promises_1[_0x5bf149(0x1cc)])(path_1[_0x5bf149(0x1e9)]['join'](job_detail_1[_0x5bf149(0x1fa)],constants_1[_0x5bf149(0x1f3)]),Buffer[_0x5bf149(0x205)](_0x900eaf,'base64'));}async[a73_0x554b0f(0x1d5)](){const _0x3beeff=a73_0x554b0f;this[_0x3beeff(0x1e4)]=await this['getManifest']();const {objectRules:_0x377a89,credentials:_0x4db4c6}=this[_0x3beeff(0x1e4)];this[_0x3beeff(0x1f9)]=await new logger_details_1[(_0x3beeff(0x1c8))](job_detail_1['jobStorePath'],job_detail_1[_0x3beeff(0x1e5)])[_0x3beeff(0x210)](),this[_0x3beeff(0x1ce)]=await new logger_job_state_1[(_0x3beeff(0x1d6))](job_detail_1['jobStorePath'],job_detail_1[_0x3beeff(0x1e5)])['init'](Object[_0x3beeff(0x1d2)](_0x377a89));try{this[_0x3beeff(0x1ce)][_0x3beeff(0x1c9)](logger_enums_1[_0x3beeff(0x206)][_0x3beeff(0x1f5)]),this['_request']=await salesforce_1['AxiosInstanceUtils'][_0x3beeff(0x1dd)](new auth_manager_1[(_0x3beeff(0x1f4))](_0x4db4c6),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x3beeff(0x1df)](),await this[_0x3beeff(0x20f)](),await this[_0x3beeff(0x1f7)](),await this['enableAutomationProcess'](),this['_loggerJobState'][_0x3beeff(0x1c9)](logger_enums_1['JobStatus'][_0x3beeff(0x1d4)]);}catch(_0x26e94d){await this['enableAutomationProcess']()[_0x3beeff(0x1db)](_0x2b2886=>{const _0x49ed2e=_0x3beeff;job_detail_1[_0x49ed2e(0x1f0)][_0x49ed2e(0x218)](_0x2b2886[_0x49ed2e(0x200)]);}),this[_0x3beeff(0x1f9)]['exception'](_0x26e94d[_0x3beeff(0x200)]),this['_loggerJobState'][_0x3beeff(0x1c9)](logger_enums_1['JobStatus'][_0x3beeff(0x1ea)]),this[_0x3beeff(0x1ce)][_0x3beeff(0x1e3)](_0x26e94d['message']),job_detail_1[_0x3beeff(0x1f0)][_0x3beeff(0x218)](_0x26e94d['message']);}finally{this[_0x3beeff(0x1f9)]['log'](_0x3beeff(0x213)),job_detail_1[_0x3beeff(0x1f0)]['log'](_0x3beeff(0x213)),await this[_0x3beeff(0x1ce)][_0x3beeff(0x1ed)](),await this[_0x3beeff(0x1f9)][_0x3beeff(0x1ed)]();}}}exports[a73_0x554b0f(0x20a)]=MaskingJob,new MaskingJob()[a73_0x554b0f(0x1d5)]()[a73_0x554b0f(0x215)](()=>process[a73_0x554b0f(0x1cb)](0x0))['catch'](()=>process[a73_0x554b0f(0x1cb)](0x1));function a73_0x3bce(){const _0x355e77=['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','AuthManager','IN_PROGRESS','apply','masking','enable','_loggerDetails','jobStorePath','2097384HhpMqN','join','search','defineProperty','43766pHawuS','message','getManagerAutomationProcessOptions','path','27ctZdZe','Enable\x20automation\x20process','from','JobStatus','push','log','./classes/step/steps-creator','MaskingJob','_isEnableAutomationProcessError','Start\x20Masking\x20Process','78356QdoQMo','./classes/logger/logger-details','disableAutomationProcess','init','getManifest','enableAutomationProcess','Finish\x20Masking\x20Process','../constants','then','parse','../../../constants/job','error','LoggerDetails','setJobStatus','_request','exit','writeFile','saveSourceAutomationProcessesBackup','_loggerJobState','_steps','23940ErLNwI','./enums/logger.enums','keys','5YBxkFg','COMPLETED','execute','LoggerJobState','ManagerAutomationProcess','2030455EPMgEi','(((.+)+)+)+$','readFile','catch','__importDefault','create','utf-8','initAutomationProcess','./classes/logger/logger-job-state','./job-detail','_managerAutomationProcess','setJobError','_maskingManifest','jobId','1208392ZkjNGh','1529UspvSh','constructor','default','FAILED','toString','15WOJPps','kill','__esModule','943555gOqybG','systemLogger','StepsCreator','@flosum/salesforce'];a73_0x3bce=function(){return _0x355e77;};return a73_0x3bce();}