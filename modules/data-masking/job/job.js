const a88_0x5f41a0=a88_0x1e43;(function(_0x1ec5a5,_0x402f04){const _0x3bb3cf=a88_0x1e43,_0x3bf483=_0x1ec5a5();while(!![]){try{const _0x4a8c27=-parseInt(_0x3bb3cf(0x153))/0x1+-parseInt(_0x3bb3cf(0x193))/0x2*(parseInt(_0x3bb3cf(0x17d))/0x3)+parseInt(_0x3bb3cf(0x162))/0x4+-parseInt(_0x3bb3cf(0x142))/0x5+-parseInt(_0x3bb3cf(0x178))/0x6*(-parseInt(_0x3bb3cf(0x15c))/0x7)+-parseInt(_0x3bb3cf(0x18b))/0x8+parseInt(_0x3bb3cf(0x17e))/0x9*(parseInt(_0x3bb3cf(0x14b))/0xa);if(_0x4a8c27===_0x402f04)break;else _0x3bf483['push'](_0x3bf483['shift']());}catch(_0x1ce535){_0x3bf483['push'](_0x3bf483['shift']());}}}(a88_0x5ce7,0x506db));const a88_0x5530fa=(function(){let _0x580c2f=!![];return function(_0x21d31c,_0x21c7bd){const _0x3e03f0=_0x580c2f?function(){if(_0x21c7bd){const _0x4bd75d=_0x21c7bd['apply'](_0x21d31c,arguments);return _0x21c7bd=null,_0x4bd75d;}}:function(){};return _0x580c2f=![],_0x3e03f0;};}()),a88_0x110bcb=a88_0x5530fa(this,function(){const _0x38f885=a88_0x1e43;return a88_0x110bcb[_0x38f885(0x151)]()['search'](_0x38f885(0x16f))[_0x38f885(0x151)]()[_0x38f885(0x156)](a88_0x110bcb)[_0x38f885(0x17c)]('(((.+)+)+)+$');});a88_0x110bcb();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x31d752){return _0x31d752&&_0x31d752['__esModule']?_0x31d752:{'default':_0x31d752};};Object[a88_0x5f41a0(0x168)](exports,a88_0x5f41a0(0x15f),{'value':!![]}),exports[a88_0x5f41a0(0x144)]=void 0x0;const promises_1=require(a88_0x5f41a0(0x169)),salesforce_1=require(a88_0x5f41a0(0x154)),steps_creator_1=require(a88_0x5f41a0(0x147)),logger_enums_1=require(a88_0x5f41a0(0x155)),logger_details_1=require(a88_0x5f41a0(0x181)),logger_job_state_1=require(a88_0x5f41a0(0x16e)),job_1=require(a88_0x5f41a0(0x180)),path_1=__importDefault(require(a88_0x5f41a0(0x15e))),auth_manager_1=require(a88_0x5f41a0(0x182)),constants_1=require(a88_0x5f41a0(0x18d)),job_detail_1=require(a88_0x5f41a0(0x148));class MaskingJob{constructor(){const _0x195891=a88_0x5f41a0;this[_0x195891(0x18a)]=![];}async[a88_0x5f41a0(0x17f)](){const _0x5878a8=a88_0x5f41a0,{objectRules:_0xcf59ea}=this[_0x5878a8(0x157)];this['_managerAutomationProcess']=new salesforce_1['ManagerAutomationProcess'](this['getManagerAutomationProcessOptions'](_0xcf59ea));}async[a88_0x5f41a0(0x18e)](){const _0x24fcd7=a88_0x5f41a0;job_detail_1[_0x24fcd7(0x165)][_0x24fcd7(0x141)](_0x24fcd7(0x150)),this['_loggerDetails']['log'](_0x24fcd7(0x150));const {objectRules:_0x1f5f70,libraries:_0x229798}=this['_maskingManifest'];this[_0x24fcd7(0x146)]=await new steps_creator_1[(_0x24fcd7(0x140))]({'loggerDetails':this[_0x24fcd7(0x15a)],'loggerJobState':this[_0x24fcd7(0x175)],'libraries':_0x229798,'objectRules':_0x1f5f70,'request':this[_0x24fcd7(0x14d)]})[_0x24fcd7(0x190)]();for(const _0x5d77f0 of this[_0x24fcd7(0x146)]){await _0x5d77f0[_0x24fcd7(0x16b)]();}}[a88_0x5f41a0(0x173)](_0x26830a){const _0x5a05fa=a88_0x5f41a0,_0x4cebd4=[],_0x1ea13f=[],_0x50d4b8=[],_0x2b9a21=[];for(const _0x54b497 in _0x26830a){const {isDisableProcessBuilder:_0x2984e7,isDisableTrigger:_0x2c5271,isDisableValidationRule:_0x47476e,isDisableWorkflow:_0x5df73c}=_0x26830a[_0x54b497][_0x5a05fa(0x188)];_0x2984e7&&_0x50d4b8['push'](_0x54b497),_0x2c5271&&_0x4cebd4[_0x5a05fa(0x167)](_0x54b497),_0x47476e&&_0x2b9a21['push'](_0x54b497),_0x5df73c&&_0x1ea13f['push'](_0x54b497);}return{'instance':this[_0x5a05fa(0x14d)],'saveSourceMetadataBackup':this[_0x5a05fa(0x18f)],'triggersObjects':_0x4cebd4,'workflowsObjects':_0x1ea13f,'processBuilderObjects':_0x50d4b8,'validationRulesObjects':_0x2b9a21};}async[a88_0x5f41a0(0x18c)](){const _0x1306c0=a88_0x5f41a0;job_detail_1[_0x1306c0(0x165)][_0x1306c0(0x141)](_0x1306c0(0x14e)),this[_0x1306c0(0x15a)][_0x1306c0(0x141)]('Disable\x20automation\x20process'),await this[_0x1306c0(0x17b)][_0x1306c0(0x183)]();}async[a88_0x5f41a0(0x159)](){const _0x58688f=a88_0x5f41a0;!this[_0x58688f(0x18a)]&&(job_detail_1[_0x58688f(0x165)][_0x58688f(0x141)](_0x58688f(0x186)),this['_loggerDetails']['log'](_0x58688f(0x186)),await this['_managerAutomationProcess']['enable']()[_0x58688f(0x192)](_0x5217c5=>{this['_isEnableAutomationProcessError']=!![];throw _0x5217c5;}));}async[a88_0x5f41a0(0x177)](){const _0x2feae6=a88_0x5f41a0,_0x17f14c=await(0x0,promises_1[_0x2feae6(0x166)])(path_1[_0x2feae6(0x158)][_0x2feae6(0x187)](job_detail_1['jobStorePath'],job_1['MANIFEST_FILENAME']),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1['default']['join'](job_detail_1[_0x2feae6(0x14a)],job_1[_0x2feae6(0x184)]),{'recursive':!![],'force':!![]}),JSON[_0x2feae6(0x172)](_0x17f14c)[_0x2feae6(0x174)];}[a88_0x5f41a0(0x18f)](_0x2fc425){const _0x309194=a88_0x5f41a0;return(0x0,promises_1[_0x309194(0x176)])(path_1[_0x309194(0x158)][_0x309194(0x187)](job_detail_1[_0x309194(0x14a)],constants_1[_0x309194(0x14f)]),Buffer[_0x309194(0x17a)](_0x2fc425,_0x309194(0x161)));}async['execute'](){const _0x58d15a=a88_0x5f41a0;this['_maskingManifest']=await this[_0x58d15a(0x177)]();const {objectRules:_0x6ef9f0,credentials:_0x28d534}=this[_0x58d15a(0x157)];this['_loggerDetails']=await new logger_details_1[(_0x58d15a(0x149))](job_detail_1[_0x58d15a(0x14a)],job_detail_1[_0x58d15a(0x14c)])[_0x58d15a(0x15b)](),this['_loggerJobState']=await new logger_job_state_1[(_0x58d15a(0x16d))](job_detail_1[_0x58d15a(0x14a)],job_detail_1[_0x58d15a(0x14c)])[_0x58d15a(0x15b)](Object[_0x58d15a(0x15d)](_0x6ef9f0));try{this[_0x58d15a(0x175)][_0x58d15a(0x179)](logger_enums_1[_0x58d15a(0x160)][_0x58d15a(0x145)]),this[_0x58d15a(0x14d)]=await salesforce_1[_0x58d15a(0x191)][_0x58d15a(0x190)](new auth_manager_1[(_0x58d15a(0x171))](_0x28d534),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x58d15a(0x17f)](),await this[_0x58d15a(0x18c)](),await this[_0x58d15a(0x18e)](),await this[_0x58d15a(0x159)](),this[_0x58d15a(0x175)][_0x58d15a(0x179)](logger_enums_1[_0x58d15a(0x160)][_0x58d15a(0x185)]);}catch(_0x4ee72d){await this[_0x58d15a(0x159)]()[_0x58d15a(0x192)](_0x28347f=>{const _0x3cd516=_0x58d15a;job_detail_1[_0x3cd516(0x165)][_0x3cd516(0x163)](_0x28347f[_0x3cd516(0x164)]);}),this[_0x58d15a(0x15a)][_0x58d15a(0x16a)](_0x4ee72d[_0x58d15a(0x164)]),this['_loggerJobState'][_0x58d15a(0x179)](logger_enums_1[_0x58d15a(0x160)][_0x58d15a(0x152)]),this[_0x58d15a(0x175)]['setJobError'](_0x4ee72d['message']),job_detail_1[_0x58d15a(0x165)][_0x58d15a(0x163)](_0x4ee72d[_0x58d15a(0x164)]);}finally{this[_0x58d15a(0x15a)][_0x58d15a(0x141)](_0x58d15a(0x16c)),job_detail_1[_0x58d15a(0x165)]['log']('Finish\x20Masking\x20Process'),await this[_0x58d15a(0x175)][_0x58d15a(0x189)](),await this[_0x58d15a(0x15a)][_0x58d15a(0x189)]();}}}function a88_0x1e43(_0x1855d6,_0x45e3b7){const _0x448c01=a88_0x5ce7();return a88_0x1e43=function(_0x110bcb,_0x5530fa){_0x110bcb=_0x110bcb-0x140;let _0x5ce72d=_0x448c01[_0x110bcb];return _0x5ce72d;},a88_0x1e43(_0x1855d6,_0x45e3b7);}exports['MaskingJob']=MaskingJob,new MaskingJob()[a88_0x5f41a0(0x16b)]()[a88_0x5f41a0(0x143)](()=>process['exit'](0x0))[a88_0x5f41a0(0x192)](()=>process[a88_0x5f41a0(0x170)](0x1));function a88_0x5ce7(){const _0x22be39=['IN_PROGRESS','_steps','./classes/step/steps-creator','./job-detail','LoggerDetails','jobStorePath','13337000cniZIg','jobId','_request','Disable\x20automation\x20process','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','Start\x20Masking\x20Process','toString','FAILED','267262SULtRl','@flosum/salesforce','./enums/logger.enums','constructor','_maskingManifest','default','enableAutomationProcess','_loggerDetails','init','266JXgEGN','keys','path','__esModule','JobStatus','base64','1250836eLCWQx','error','message','systemLogger','readFile','push','defineProperty','fs/promises','exception','execute','Finish\x20Masking\x20Process','LoggerJobState','./classes/logger/logger-job-state','(((.+)+)+)+$','exit','AuthManager','parse','getManagerAutomationProcessOptions','details','_loggerJobState','writeFile','getManifest','32976zDqMkW','setJobStatus','from','_managerAutomationProcess','search','1552833YnQpcs','9HFEwTf','initAutomationProcess','../../../constants/job','./classes/logger/logger-details','../../shared/managers/auth.manager','disable','MANIFEST_FILENAME','COMPLETED','Enable\x20automation\x20process','join','disableAutomation','kill','_isEnableAutomationProcessError','2960960BLLOhb','disableAutomationProcess','../constants','masking','saveSourceAutomationProcessesBackup','create','AxiosInstanceUtils','catch','2KdzGxU','StepsCreator','log','1854145nPUrcl','then','MaskingJob'];a88_0x5ce7=function(){return _0x22be39;};return a88_0x5ce7();}