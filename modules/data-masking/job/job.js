function a73_0x4df7(_0x16280e,_0x3e7e05){const _0x1a11b2=a73_0x545b();return a73_0x4df7=function(_0x48d86d,_0x26cda8){_0x48d86d=_0x48d86d-0x83;let _0x545b41=_0x1a11b2[_0x48d86d];return _0x545b41;},a73_0x4df7(_0x16280e,_0x3e7e05);}const a73_0x5cd1c3=a73_0x4df7;(function(_0x26913b,_0x37c56e){const _0x4d47df=a73_0x4df7,_0x276372=_0x26913b();while(!![]){try{const _0x1fb53d=parseInt(_0x4d47df(0xcc))/0x1*(parseInt(_0x4d47df(0xc6))/0x2)+-parseInt(_0x4d47df(0x8d))/0x3*(-parseInt(_0x4d47df(0x87))/0x4)+-parseInt(_0x4d47df(0x96))/0x5*(parseInt(_0x4d47df(0x9f))/0x6)+parseInt(_0x4d47df(0xad))/0x7+-parseInt(_0x4d47df(0x94))/0x8*(parseInt(_0x4d47df(0x88))/0x9)+-parseInt(_0x4d47df(0xcb))/0xa*(parseInt(_0x4d47df(0xcf))/0xb)+parseInt(_0x4d47df(0xc8))/0xc;if(_0x1fb53d===_0x37c56e)break;else _0x276372['push'](_0x276372['shift']());}catch(_0x40ba10){_0x276372['push'](_0x276372['shift']());}}}(a73_0x545b,0xa26c0));const a73_0x26cda8=(function(){let _0x466791=!![];return function(_0xcb7993,_0x53014a){const _0x437989=_0x466791?function(){const _0x82a4a4=a73_0x4df7;if(_0x53014a){const _0x22afb7=_0x53014a[_0x82a4a4(0x90)](_0xcb7993,arguments);return _0x53014a=null,_0x22afb7;}}:function(){};return _0x466791=![],_0x437989;};}()),a73_0x48d86d=a73_0x26cda8(this,function(){const _0x1db643=a73_0x4df7;return a73_0x48d86d['toString']()[_0x1db643(0x95)](_0x1db643(0x93))[_0x1db643(0xaa)]()[_0x1db643(0xa7)](a73_0x48d86d)[_0x1db643(0x95)]('(((.+)+)+)+$');});a73_0x48d86d();'use strict';var __importDefault=this&&this[a73_0x5cd1c3(0xc0)]||function(_0x153e41){const _0x2663ab=a73_0x5cd1c3;return _0x153e41&&_0x153e41[_0x2663ab(0xb4)]?_0x153e41:{'default':_0x153e41};};Object['defineProperty'](exports,a73_0x5cd1c3(0xb4),{'value':!![]}),exports[a73_0x5cd1c3(0xd6)]=void 0x0;const promises_1=require(a73_0x5cd1c3(0xab)),salesforce_1=require(a73_0x5cd1c3(0xba)),steps_creator_1=require(a73_0x5cd1c3(0xd7)),logger_enums_1=require(a73_0x5cd1c3(0xb6)),logger_details_1=require(a73_0x5cd1c3(0x8c)),logger_job_state_1=require(a73_0x5cd1c3(0xac)),job_1=require(a73_0x5cd1c3(0x97)),path_1=__importDefault(require(a73_0x5cd1c3(0xbf))),auth_manager_1=require(a73_0x5cd1c3(0x9d)),constants_1=require(a73_0x5cd1c3(0xbe)),job_detail_1=require(a73_0x5cd1c3(0xbb));class MaskingJob{constructor(){this['_isEnableAutomationProcessError']=![];}async[a73_0x5cd1c3(0x8e)](){const _0x38d530=a73_0x5cd1c3,{objectRules:_0x473ac8}=this[_0x38d530(0x83)];this[_0x38d530(0xb0)]=new salesforce_1['ManagerAutomationProcess'](this[_0x38d530(0xaf)](_0x473ac8));}async[a73_0x5cd1c3(0x91)](){const _0x51b4b3=a73_0x5cd1c3;job_detail_1[_0x51b4b3(0x86)]['log'](_0x51b4b3(0xa5)),this[_0x51b4b3(0xa2)][_0x51b4b3(0x85)]('Start\x20Masking\x20Process');const {objectRules:_0x334832,libraries:_0x5cb029}=this[_0x51b4b3(0x83)];this[_0x51b4b3(0x89)]=await new steps_creator_1[(_0x51b4b3(0xb7))]({'loggerDetails':this[_0x51b4b3(0xa2)],'loggerJobState':this[_0x51b4b3(0xca)],'libraries':_0x5cb029,'objectRules':_0x334832,'request':this[_0x51b4b3(0xb3)]})['create']();for(const _0x35a9ab of this[_0x51b4b3(0x89)]){await _0x35a9ab['execute']();}}[a73_0x5cd1c3(0xaf)](_0x69bd65){const _0x55f11d=a73_0x5cd1c3,_0x477391=[],_0x2a64a0=[],_0x3d91e2=[],_0x122726=[];for(const _0x52ed98 in _0x69bd65){const {isDisableProcessBuilder:_0x31c37a,isDisableTrigger:_0x26ac17,isDisableValidationRule:_0x267206,isDisableWorkflow:_0xc1bd9d}=_0x69bd65[_0x52ed98][_0x55f11d(0xc3)];_0x31c37a&&_0x3d91e2[_0x55f11d(0x84)](_0x52ed98),_0x26ac17&&_0x477391['push'](_0x52ed98),_0x267206&&_0x122726[_0x55f11d(0x84)](_0x52ed98),_0xc1bd9d&&_0x2a64a0[_0x55f11d(0x84)](_0x52ed98);}return{'instance':this['_request'],'saveSourceMetadataBackup':this[_0x55f11d(0xd8)],'triggersObjects':_0x477391,'workflowsObjects':_0x2a64a0,'processBuilderObjects':_0x3d91e2,'validationRulesObjects':_0x122726};}async[a73_0x5cd1c3(0xae)](){const _0x385846=a73_0x5cd1c3;job_detail_1[_0x385846(0x86)]['log'](_0x385846(0xb1)),this[_0x385846(0xa2)]['log']('Disable\x20automation\x20process'),await this[_0x385846(0xb0)][_0x385846(0xa3)]();}async[a73_0x5cd1c3(0xd2)](){const _0x1472ec=a73_0x5cd1c3;!this['_isEnableAutomationProcessError']&&(job_detail_1[_0x1472ec(0x86)][_0x1472ec(0x85)](_0x1472ec(0xbc)),this[_0x1472ec(0xa2)][_0x1472ec(0x85)]('Enable\x20automation\x20process'),await this['_managerAutomationProcess'][_0x1472ec(0xd5)]()[_0x1472ec(0xd3)](_0x4f85d5=>{const _0x4f20ce=_0x1472ec;this[_0x4f20ce(0x98)]=!![];throw _0x4f85d5;}));}async[a73_0x5cd1c3(0x9c)](){const _0x52ae2c=a73_0x5cd1c3,_0x1b99d3=await(0x0,promises_1[_0x52ae2c(0xc1)])(path_1[_0x52ae2c(0x8f)][_0x52ae2c(0x9b)](job_detail_1[_0x52ae2c(0xbd)],job_1['MANIFEST_FILENAME']),{'encoding':_0x52ae2c(0xb9)});return await(0x0,promises_1['rm'])(path_1[_0x52ae2c(0x8f)][_0x52ae2c(0x9b)](job_detail_1[_0x52ae2c(0xbd)],job_1[_0x52ae2c(0xce)]),{'recursive':!![],'force':!![]}),JSON[_0x52ae2c(0xd4)](_0x1b99d3)[_0x52ae2c(0x8b)];}[a73_0x5cd1c3(0xd8)](_0x1520e9){const _0x174c02=a73_0x5cd1c3;return(0x0,promises_1[_0x174c02(0xb2)])(path_1[_0x174c02(0x8f)]['join'](job_detail_1[_0x174c02(0xbd)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x174c02(0xc2)](_0x1520e9,_0x174c02(0xc4)));}async[a73_0x5cd1c3(0xa9)](){const _0xb358a9=a73_0x5cd1c3;this[_0xb358a9(0x83)]=await this['getManifest']();const {objectRules:_0x1837f1,credentials:_0x2e20f1}=this['_maskingManifest'];this[_0xb358a9(0xa2)]=await new logger_details_1['LoggerDetails'](job_detail_1['jobStorePath'],job_detail_1['jobId'])[_0xb358a9(0xd0)](),this[_0xb358a9(0xca)]=await new logger_job_state_1['LoggerJobState'](job_detail_1['jobStorePath'],job_detail_1[_0xb358a9(0x9e)])[_0xb358a9(0xd0)](Object[_0xb358a9(0x8a)](_0x1837f1));try{this['_loggerJobState'][_0xb358a9(0xc9)](logger_enums_1[_0xb358a9(0xc7)][_0xb358a9(0xb5)]),this[_0xb358a9(0xb3)]=await salesforce_1[_0xb358a9(0xa8)][_0xb358a9(0xcd)](new auth_manager_1['AuthManager'](_0x2e20f1),[],{'headers':{'Accept-Encoding':_0xb358a9(0xa0)}}),await this[_0xb358a9(0x8e)](),await this[_0xb358a9(0xae)](),await this['masking'](),await this[_0xb358a9(0xd2)](),this[_0xb358a9(0xca)][_0xb358a9(0xc9)](logger_enums_1[_0xb358a9(0xc7)][_0xb358a9(0x99)]);}catch(_0x38217d){await this[_0xb358a9(0xd2)]()[_0xb358a9(0xd3)](_0x3002c4=>{const _0x54742a=_0xb358a9;job_detail_1[_0x54742a(0x86)][_0x54742a(0xa4)](_0x3002c4[_0x54742a(0xc5)]);}),this['_loggerDetails'][_0xb358a9(0xd9)](_0x38217d[_0xb358a9(0xc5)]),this[_0xb358a9(0xca)][_0xb358a9(0xc9)](logger_enums_1[_0xb358a9(0xc7)][_0xb358a9(0x9a)]),this[_0xb358a9(0xca)][_0xb358a9(0xd1)](_0x38217d['message']),job_detail_1['systemLogger'][_0xb358a9(0xa4)](_0x38217d[_0xb358a9(0xc5)]);}finally{this[_0xb358a9(0xa2)][_0xb358a9(0x85)](_0xb358a9(0xb8)),job_detail_1['systemLogger'][_0xb358a9(0x85)]('Finish\x20Masking\x20Process'),await this['_loggerJobState'][_0xb358a9(0x92)](),await this['_loggerDetails'][_0xb358a9(0x92)]();}}}function a73_0x545b(){const _0xf76bde=['AxiosInstanceUtils','execute','toString','fs/promises','./classes/logger/logger-job-state','8276380gYNaZm','disableAutomationProcess','getManagerAutomationProcessOptions','_managerAutomationProcess','Disable\x20automation\x20process','writeFile','_request','__esModule','IN_PROGRESS','./enums/logger.enums','StepsCreator','Finish\x20Masking\x20Process','utf-8','@flosum/salesforce','./job-detail','Enable\x20automation\x20process','jobStorePath','../constants','path','__importDefault','readFile','from','disableAutomation','base64','message','6LPbKiX','JobStatus','13203648aNdMzj','setJobStatus','_loggerJobState','3926420fouTqp','122474PlcnqO','create','MANIFEST_FILENAME','22IkZGGY','init','setJobError','enableAutomationProcess','catch','parse','enable','MaskingJob','./classes/step/steps-creator','saveSourceAutomationProcessesBackup','exception','_maskingManifest','push','log','systemLogger','856zKghno','3355461AcEaGZ','_steps','keys','details','./classes/logger/logger-details','1953iYHpko','initAutomationProcess','default','apply','masking','kill','(((.+)+)+)+$','16ZIogGc','search','5kGGDvv','../../../constants/job','_isEnableAutomationProcessError','COMPLETED','FAILED','join','getManifest','../../shared/managers/auth.manager','jobId','3558948dlrwyJ','gzip','exit','_loggerDetails','disable','error','Start\x20Masking\x20Process','then','constructor'];a73_0x545b=function(){return _0xf76bde;};return a73_0x545b();}exports[a73_0x5cd1c3(0xd6)]=MaskingJob,new MaskingJob()['execute']()[a73_0x5cd1c3(0xa6)](()=>process[a73_0x5cd1c3(0xa1)](0x0))[a73_0x5cd1c3(0xd3)](()=>process[a73_0x5cd1c3(0xa1)](0x1));