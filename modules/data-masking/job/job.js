const a73_0xc0baeb=a73_0x1313;(function(_0x569ebb,_0x3d47f5){const _0xe151aa=a73_0x1313,_0x5b0550=_0x569ebb();while(!![]){try{const _0x32d571=parseInt(_0xe151aa(0x132))/0x1+parseInt(_0xe151aa(0x128))/0x2+parseInt(_0xe151aa(0x14a))/0x3+-parseInt(_0xe151aa(0x14d))/0x4*(-parseInt(_0xe151aa(0x154))/0x5)+-parseInt(_0xe151aa(0x163))/0x6*(-parseInt(_0xe151aa(0x148))/0x7)+parseInt(_0xe151aa(0x16a))/0x8+-parseInt(_0xe151aa(0x125))/0x9;if(_0x32d571===_0x3d47f5)break;else _0x5b0550['push'](_0x5b0550['shift']());}catch(_0x371b1a){_0x5b0550['push'](_0x5b0550['shift']());}}}(a73_0x4238,0xde00a));const a73_0x14927f=(function(){let _0x11de7f=!![];return function(_0x26250c,_0xa3e9f5){const _0x4fbfaa=_0x11de7f?function(){const _0xbb2e67=a73_0x1313;if(_0xa3e9f5){const _0x1b7951=_0xa3e9f5[_0xbb2e67(0x137)](_0x26250c,arguments);return _0xa3e9f5=null,_0x1b7951;}}:function(){};return _0x11de7f=![],_0x4fbfaa;};}()),a73_0x4da2f1=a73_0x14927f(this,function(){const _0x2d470f=a73_0x1313;return a73_0x4da2f1[_0x2d470f(0x15b)]()['search'](_0x2d470f(0x141))['toString']()[_0x2d470f(0x159)](a73_0x4da2f1)[_0x2d470f(0x151)](_0x2d470f(0x141));});function a73_0x4238(){const _0x258b98=['./job-detail','fs/promises','defineProperty','getManagerAutomationProcessOptions','52581897jupokp','../../../constants/job','disableAutomation','2247436fTqXbC','saveSourceAutomationProcessesBackup','./classes/logger/logger-job-state','then','join','disableAutomationProcess','FAILED','jobId','../constants','disable','1541720KzdLTI','AxiosInstanceUtils','enableAutomationProcess','_loggerDetails','COMPLETED','apply','_request','setJobError','catch','Finish\x20Masking\x20Process','ManagerAutomationProcess','JobStatus','__esModule','Enable\x20automation\x20process','error','(((.+)+)+)+$','systemLogger','getManifest','Disable\x20automation\x20process','keys','exception','execute','63JsJJoC','enable','2186973lvmrbI','_loggerJobState','IN_PROGRESS','4CpTVzK','AuthManager','push','details','search','kill','gzip','5343360CCySVM','jobStorePath','_isEnableAutomationProcessError','_managerAutomationProcess','../../shared/managers/auth.manager','constructor','_maskingManifest','toString','exit','StepsCreator','default','from','./classes/step/steps-creator','./enums/logger.enums','log','1107276aChmzW','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','MANIFEST_FILENAME','parse','_steps','@flosum/salesforce','create','5021920tuaFet','path','initAutomationProcess','message','masking','base64','init'];a73_0x4238=function(){return _0x258b98;};return a73_0x4238();}a73_0x4da2f1();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x3aa8e1){const _0x5ea2c1=a73_0x1313;return _0x3aa8e1&&_0x3aa8e1[_0x5ea2c1(0x13e)]?_0x3aa8e1:{'default':_0x3aa8e1};};Object[a73_0xc0baeb(0x123)](exports,a73_0xc0baeb(0x13e),{'value':!![]}),exports['MaskingJob']=void 0x0;const promises_1=require(a73_0xc0baeb(0x122)),salesforce_1=require(a73_0xc0baeb(0x168)),steps_creator_1=require(a73_0xc0baeb(0x160)),logger_enums_1=require(a73_0xc0baeb(0x161)),logger_details_1=require('./classes/logger/logger-details'),logger_job_state_1=require(a73_0xc0baeb(0x12a)),job_1=require(a73_0xc0baeb(0x126)),path_1=__importDefault(require(a73_0xc0baeb(0x16b))),auth_manager_1=require(a73_0xc0baeb(0x158)),constants_1=require(a73_0xc0baeb(0x130)),job_detail_1=require(a73_0xc0baeb(0x171));class MaskingJob{constructor(){const _0x44b8f7=a73_0xc0baeb;this[_0x44b8f7(0x156)]=![];}async[a73_0xc0baeb(0x16c)](){const _0x1fd0a9=a73_0xc0baeb,{objectRules:_0x452180}=this[_0x1fd0a9(0x15a)];this[_0x1fd0a9(0x157)]=new salesforce_1[(_0x1fd0a9(0x13c))](this[_0x1fd0a9(0x124)](_0x452180));}async['masking'](){const _0x4b6d22=a73_0xc0baeb;job_detail_1[_0x4b6d22(0x142)][_0x4b6d22(0x162)]('Start\x20Masking\x20Process'),this[_0x4b6d22(0x135)][_0x4b6d22(0x162)]('Start\x20Masking\x20Process');const {objectRules:_0xac75e3,libraries:_0x24df27}=this['_maskingManifest'];this[_0x4b6d22(0x167)]=await new steps_creator_1[(_0x4b6d22(0x15d))]({'loggerDetails':this[_0x4b6d22(0x135)],'loggerJobState':this[_0x4b6d22(0x14b)],'libraries':_0x24df27,'objectRules':_0xac75e3,'request':this[_0x4b6d22(0x138)]})[_0x4b6d22(0x169)]();for(const _0x20b794 of this['_steps']){await _0x20b794[_0x4b6d22(0x147)]();}}['getManagerAutomationProcessOptions'](_0x2b279c){const _0x1165dd=a73_0xc0baeb,_0x21681c=[],_0x1869dd=[],_0x19483c=[],_0x4eb88e=[];for(const _0xf76c10 in _0x2b279c){const {isDisableProcessBuilder:_0x29f2d9,isDisableTrigger:_0x88a05,isDisableValidationRule:_0x114a3d,isDisableWorkflow:_0x28e3a3}=_0x2b279c[_0xf76c10][_0x1165dd(0x127)];_0x29f2d9&&_0x19483c[_0x1165dd(0x14f)](_0xf76c10),_0x88a05&&_0x21681c['push'](_0xf76c10),_0x114a3d&&_0x4eb88e[_0x1165dd(0x14f)](_0xf76c10),_0x28e3a3&&_0x1869dd[_0x1165dd(0x14f)](_0xf76c10);}return{'instance':this[_0x1165dd(0x138)],'saveSourceMetadataBackup':this[_0x1165dd(0x129)],'triggersObjects':_0x21681c,'workflowsObjects':_0x1869dd,'processBuilderObjects':_0x19483c,'validationRulesObjects':_0x4eb88e};}async[a73_0xc0baeb(0x12d)](){const _0x525de8=a73_0xc0baeb;job_detail_1[_0x525de8(0x142)][_0x525de8(0x162)](_0x525de8(0x144)),this[_0x525de8(0x135)][_0x525de8(0x162)]('Disable\x20automation\x20process'),await this['_managerAutomationProcess'][_0x525de8(0x131)]();}async[a73_0xc0baeb(0x134)](){const _0x4e68f6=a73_0xc0baeb;!this[_0x4e68f6(0x156)]&&(job_detail_1[_0x4e68f6(0x142)][_0x4e68f6(0x162)]('Enable\x20automation\x20process'),this[_0x4e68f6(0x135)][_0x4e68f6(0x162)](_0x4e68f6(0x13f)),await this[_0x4e68f6(0x157)][_0x4e68f6(0x149)]()[_0x4e68f6(0x13a)](_0x5012c3=>{this['_isEnableAutomationProcessError']=!![];throw _0x5012c3;}));}async['getManifest'](){const _0x8b7353=a73_0xc0baeb,_0x46e42b=await(0x0,promises_1['readFile'])(path_1['default'][_0x8b7353(0x12c)](job_detail_1[_0x8b7353(0x155)],job_1[_0x8b7353(0x165)]),{'encoding':'utf-8'});return await(0x0,promises_1['rm'])(path_1[_0x8b7353(0x15e)][_0x8b7353(0x12c)](job_detail_1[_0x8b7353(0x155)],job_1[_0x8b7353(0x165)]),{'recursive':!![],'force':!![]}),JSON[_0x8b7353(0x166)](_0x46e42b)[_0x8b7353(0x150)];}[a73_0xc0baeb(0x129)](_0x4a48af){const _0x19f27a=a73_0xc0baeb;return(0x0,promises_1['writeFile'])(path_1[_0x19f27a(0x15e)]['join'](job_detail_1[_0x19f27a(0x155)],constants_1[_0x19f27a(0x164)]),Buffer[_0x19f27a(0x15f)](_0x4a48af,_0x19f27a(0x16f)));}async[a73_0xc0baeb(0x147)](){const _0x489247=a73_0xc0baeb;this[_0x489247(0x15a)]=await this[_0x489247(0x143)]();const {objectRules:_0x349fdd,credentials:_0x2a6d41}=this[_0x489247(0x15a)];this['_loggerDetails']=await new logger_details_1['LoggerDetails'](job_detail_1[_0x489247(0x155)],job_detail_1[_0x489247(0x12f)])['init'](),this['_loggerJobState']=await new logger_job_state_1['LoggerJobState'](job_detail_1['jobStorePath'],job_detail_1[_0x489247(0x12f)])[_0x489247(0x170)](Object[_0x489247(0x145)](_0x349fdd));try{this[_0x489247(0x14b)]['setJobStatus'](logger_enums_1[_0x489247(0x13d)][_0x489247(0x14c)]),this[_0x489247(0x138)]=await salesforce_1[_0x489247(0x133)][_0x489247(0x169)](new auth_manager_1[(_0x489247(0x14e))](_0x2a6d41),[],{'headers':{'Accept-Encoding':_0x489247(0x153)}}),await this[_0x489247(0x16c)](),await this[_0x489247(0x12d)](),await this[_0x489247(0x16e)](),await this['enableAutomationProcess'](),this['_loggerJobState']['setJobStatus'](logger_enums_1[_0x489247(0x13d)][_0x489247(0x136)]);}catch(_0x9d7c01){await this[_0x489247(0x134)]()['catch'](_0x5ce8e8=>{const _0x598024=_0x489247;job_detail_1[_0x598024(0x142)][_0x598024(0x140)](_0x5ce8e8[_0x598024(0x16d)]);}),this[_0x489247(0x135)][_0x489247(0x146)](_0x9d7c01[_0x489247(0x16d)]),this['_loggerJobState']['setJobStatus'](logger_enums_1[_0x489247(0x13d)][_0x489247(0x12e)]),this[_0x489247(0x14b)][_0x489247(0x139)](_0x9d7c01[_0x489247(0x16d)]),job_detail_1[_0x489247(0x142)][_0x489247(0x140)](_0x9d7c01[_0x489247(0x16d)]);}finally{this[_0x489247(0x135)]['log']('Finish\x20Masking\x20Process'),job_detail_1[_0x489247(0x142)][_0x489247(0x162)](_0x489247(0x13b)),await this[_0x489247(0x14b)][_0x489247(0x152)](),await this['_loggerDetails'][_0x489247(0x152)]();}}}function a73_0x1313(_0x36731f,_0x3f783a){const _0xbee84d=a73_0x4238();return a73_0x1313=function(_0x4da2f1,_0x14927f){_0x4da2f1=_0x4da2f1-0x122;let _0x42388f=_0xbee84d[_0x4da2f1];return _0x42388f;},a73_0x1313(_0x36731f,_0x3f783a);}exports['MaskingJob']=MaskingJob,new MaskingJob()[a73_0xc0baeb(0x147)]()[a73_0xc0baeb(0x12b)](()=>process[a73_0xc0baeb(0x15c)](0x0))[a73_0xc0baeb(0x13a)](()=>process[a73_0xc0baeb(0x15c)](0x1));