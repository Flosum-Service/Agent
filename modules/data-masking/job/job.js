function a91_0x2c38(){const _0x294a89=['getManagerAutomationProcessOptions','_isEnableAutomationProcessError','951630bBNidc','getManifest','log','jobStorePath','setJobStatus','./job-detail','StepsCreator','_maskingManifest','Finish\x20Masking\x20Process','Disable\x20automation\x20process','message','MANIFEST_FILENAME','__importDefault','@flosum/salesforce','68058aAwvRA','__esModule','readFile','toString','100929CQjzUZ','create','exit','AuthManager','disableAutomationProcess','47289xWDPGj','Enable\x20automation\x20process','gzip','join','default','keys','jobId','AxiosInstanceUtils','JobStatus','LoggerJobState','enableAutomationProcess','details','IN_PROGRESS','_loggerJobState','disable','27lZdrsK','330220vRZDpz','../../shared/managers/auth.manager','ManagerAutomationProcess','constructor','apply','initAutomationProcess','_steps','./classes/step/steps-creator','../constants','LoggerDetails','MaskingJob','utf-8','_managerAutomationProcess','./classes/logger/logger-details','then','exception','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','catch','./classes/logger/logger-job-state','2644230AsROmo','kill','init','36ugIsmg','execute','systemLogger','enable','1413016LBOuDp','push','112mDMlGn','_request','path','writeFile','(((.+)+)+)+$','FAILED','_loggerDetails','saveSourceAutomationProcessesBackup','../../../constants/job','disableAutomation','search'];a91_0x2c38=function(){return _0x294a89;};return a91_0x2c38();}const a91_0x426573=a91_0x5461;(function(_0x5bbb70,_0x42a883){const _0x5d2c38=a91_0x5461,_0x5705f7=_0x5bbb70();while(!![]){try{const _0x376a33=-parseInt(_0x5d2c38(0x1a8))/0x1+parseInt(_0x5d2c38(0x1b8))/0x2+parseInt(_0x5d2c38(0x1a3))/0x3*(parseInt(_0x5d2c38(0x1ce))/0x4)+parseInt(_0x5d2c38(0x191))/0x5+parseInt(_0x5d2c38(0x19f))/0x6*(parseInt(_0x5d2c38(0x1d4))/0x7)+parseInt(_0x5d2c38(0x1d2))/0x8+parseInt(_0x5d2c38(0x1b7))/0x9*(-parseInt(_0x5d2c38(0x1cb))/0xa);if(_0x376a33===_0x42a883)break;else _0x5705f7['push'](_0x5705f7['shift']());}catch(_0x16e4f4){_0x5705f7['push'](_0x5705f7['shift']());}}}(a91_0x2c38,0x2aea4));const a91_0x5b6d37=(function(){let _0x175cfe=!![];return function(_0xf1175a,_0xc77820){const _0x2cfd16=_0x175cfe?function(){const _0x160dc1=a91_0x5461;if(_0xc77820){const _0x3af5cc=_0xc77820[_0x160dc1(0x1bc)](_0xf1175a,arguments);return _0xc77820=null,_0x3af5cc;}}:function(){};return _0x175cfe=![],_0x2cfd16;};}()),a91_0x300c21=a91_0x5b6d37(this,function(){const _0x2f0873=a91_0x5461;return a91_0x300c21[_0x2f0873(0x1a2)]()[_0x2f0873(0x18e)](_0x2f0873(0x1d8))[_0x2f0873(0x1a2)]()[_0x2f0873(0x1bb)](a91_0x300c21)[_0x2f0873(0x18e)](_0x2f0873(0x1d8));});a91_0x300c21();'use strict';var __importDefault=this&&this[a91_0x426573(0x19d)]||function(_0x5ca13a){return _0x5ca13a&&_0x5ca13a['__esModule']?_0x5ca13a:{'default':_0x5ca13a};};Object['defineProperty'](exports,a91_0x426573(0x1a0),{'value':!![]}),exports[a91_0x426573(0x1c2)]=void 0x0;const promises_1=require('fs/promises'),salesforce_1=require(a91_0x426573(0x19e)),steps_creator_1=require(a91_0x426573(0x1bf)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a91_0x426573(0x1c5)),logger_job_state_1=require(a91_0x426573(0x1ca)),job_1=require(a91_0x426573(0x18c)),path_1=__importDefault(require(a91_0x426573(0x1d6))),auth_manager_1=require(a91_0x426573(0x1b9)),constants_1=require(a91_0x426573(0x1c0)),job_detail_1=require(a91_0x426573(0x196));function a91_0x5461(_0x2863f0,_0x12efa8){const _0x131a69=a91_0x2c38();return a91_0x5461=function(_0x300c21,_0x5b6d37){_0x300c21=_0x300c21-0x18b;let _0x2c386d=_0x131a69[_0x300c21];return _0x2c386d;},a91_0x5461(_0x2863f0,_0x12efa8);}class MaskingJob{constructor(){const _0x2cdb4=a91_0x426573;this[_0x2cdb4(0x190)]=![];}async[a91_0x426573(0x1bd)](){const _0x4900=a91_0x426573,{objectRules:_0x35b8f2}=this[_0x4900(0x198)];this['_managerAutomationProcess']=new salesforce_1[(_0x4900(0x1ba))](this[_0x4900(0x18f)](_0x35b8f2));}async['masking'](){const _0x41ff59=a91_0x426573;job_detail_1[_0x41ff59(0x1d0)][_0x41ff59(0x193)]('Start\x20Masking\x20Process'),this[_0x41ff59(0x1da)]['log']('Start\x20Masking\x20Process');const {objectRules:_0x537bc6,libraries:_0x4b3c3d}=this['_maskingManifest'];this[_0x41ff59(0x1be)]=await new steps_creator_1[(_0x41ff59(0x197))]({'loggerDetails':this[_0x41ff59(0x1da)],'loggerJobState':this['_loggerJobState'],'libraries':_0x4b3c3d,'objectRules':_0x537bc6,'request':this[_0x41ff59(0x1d5)]})[_0x41ff59(0x1a4)]();for(const _0x2d64c9 of this[_0x41ff59(0x1be)]){await _0x2d64c9[_0x41ff59(0x1cf)]();}}[a91_0x426573(0x18f)](_0x8858ac){const _0x3180c2=a91_0x426573,_0x50ac3e=[],_0x6644a8=[],_0x5d24d2=[],_0xf1be22=[],_0x146491=[];for(const _0x5a1f35 in _0x8858ac){const {isDisableProcessBuilder:_0x516e66,isDisableTrigger:_0x5352ac,isDisableValidationRule:_0x4a2dcc,isDisableWorkflow:_0x56f5ef,isDisableLookupFilter:_0x16d5d1}=_0x8858ac[_0x5a1f35][_0x3180c2(0x18d)];_0x516e66&&_0x5d24d2[_0x3180c2(0x1d3)](_0x5a1f35),_0x5352ac&&_0x50ac3e[_0x3180c2(0x1d3)](_0x5a1f35),_0x4a2dcc&&_0xf1be22['push'](_0x5a1f35),_0x56f5ef&&_0x6644a8['push'](_0x5a1f35),_0x16d5d1&&_0x146491[_0x3180c2(0x1d3)](_0x5a1f35);}return{'instance':this[_0x3180c2(0x1d5)],'saveSourceMetadataBackup':this[_0x3180c2(0x18b)],'triggersObjects':_0x50ac3e,'validationRulesObjects':_0xf1be22,'workflowsObjects':_0x6644a8,'flowsAndProcessBuilderObjects':_0x5d24d2,'lookupFiltersObjects':_0x146491};}async['disableAutomationProcess'](){const _0x79886c=a91_0x426573;job_detail_1[_0x79886c(0x1d0)]['log'](_0x79886c(0x19a)),this[_0x79886c(0x1da)]['log'](_0x79886c(0x19a)),await this[_0x79886c(0x1c4)][_0x79886c(0x1b6)]();}async[a91_0x426573(0x1b2)](){const _0x215fcd=a91_0x426573;!this[_0x215fcd(0x190)]&&(job_detail_1[_0x215fcd(0x1d0)][_0x215fcd(0x193)](_0x215fcd(0x1a9)),this['_loggerDetails']['log'](_0x215fcd(0x1a9)),await this[_0x215fcd(0x1c4)][_0x215fcd(0x1d1)]()[_0x215fcd(0x1c9)](_0x26147d=>{this['_isEnableAutomationProcessError']=!![];throw _0x26147d;}));}async['getManifest'](){const _0x59f622=a91_0x426573,_0x560643=await(0x0,promises_1[_0x59f622(0x1a1)])(path_1['default'][_0x59f622(0x1ab)](job_detail_1[_0x59f622(0x194)],job_1['MANIFEST_FILENAME']),{'encoding':_0x59f622(0x1c3)});return await(0x0,promises_1['rm'])(path_1['default'][_0x59f622(0x1ab)](job_detail_1['jobStorePath'],job_1[_0x59f622(0x19c)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x560643)[_0x59f622(0x1b3)];}[a91_0x426573(0x18b)](_0x254398){const _0x558189=a91_0x426573;return(0x0,promises_1[_0x558189(0x1d7)])(path_1[_0x558189(0x1ac)][_0x558189(0x1ab)](job_detail_1['jobStorePath'],constants_1[_0x558189(0x1c8)]),_0x254398);}async['execute'](){const _0x2f3948=a91_0x426573;this[_0x2f3948(0x198)]=await this[_0x2f3948(0x192)]();const {objectRules:_0x50e3ab,credentials:_0x156492}=this[_0x2f3948(0x198)];this['_loggerDetails']=await new logger_details_1[(_0x2f3948(0x1c1))](job_detail_1['jobStorePath'],job_detail_1[_0x2f3948(0x1ae)])[_0x2f3948(0x1cd)](),this['_loggerJobState']=await new logger_job_state_1[(_0x2f3948(0x1b1))](job_detail_1[_0x2f3948(0x194)],job_detail_1['jobId'])[_0x2f3948(0x1cd)](Object[_0x2f3948(0x1ad)](_0x50e3ab));try{this[_0x2f3948(0x1b5)][_0x2f3948(0x195)](logger_enums_1[_0x2f3948(0x1b0)][_0x2f3948(0x1b4)]),this[_0x2f3948(0x1d5)]=await salesforce_1[_0x2f3948(0x1af)][_0x2f3948(0x1a4)](new auth_manager_1[(_0x2f3948(0x1a6))](_0x156492),[],{'headers':{'Accept-Encoding':_0x2f3948(0x1aa)}}),await this[_0x2f3948(0x1bd)](),await this[_0x2f3948(0x1a7)](),await this['masking'](),await this[_0x2f3948(0x1b2)](),this['_loggerJobState'][_0x2f3948(0x195)](logger_enums_1[_0x2f3948(0x1b0)]['COMPLETED']);}catch(_0x270d42){await this[_0x2f3948(0x1b2)]()['catch'](_0x45c480=>{job_detail_1['systemLogger']['error'](_0x45c480['message']);}),this[_0x2f3948(0x1da)][_0x2f3948(0x1c7)](_0x270d42['message']),this[_0x2f3948(0x1b5)]['setJobStatus'](logger_enums_1[_0x2f3948(0x1b0)][_0x2f3948(0x1d9)]),this[_0x2f3948(0x1b5)]['setJobError'](_0x270d42[_0x2f3948(0x19b)]),job_detail_1['systemLogger']['error'](_0x270d42['message']);}finally{this[_0x2f3948(0x1da)][_0x2f3948(0x193)]('Finish\x20Masking\x20Process'),job_detail_1[_0x2f3948(0x1d0)][_0x2f3948(0x193)](_0x2f3948(0x199)),await this[_0x2f3948(0x1b5)][_0x2f3948(0x1cc)](),await this[_0x2f3948(0x1da)][_0x2f3948(0x1cc)]();}}}exports['MaskingJob']=MaskingJob,new MaskingJob()['execute']()[a91_0x426573(0x1c6)](()=>process[a91_0x426573(0x1a5)](0x0))[a91_0x426573(0x1c9)](()=>process[a91_0x426573(0x1a5)](0x1));