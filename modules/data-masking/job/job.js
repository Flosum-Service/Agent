const a90_0x2bd732=a90_0x4490;(function(_0x2aac72,_0x37e595){const _0x468be3=a90_0x4490,_0x1338b2=_0x2aac72();while(!![]){try{const _0x1ac1c1=parseInt(_0x468be3(0x1fd))/0x1*(parseInt(_0x468be3(0x1ff))/0x2)+-parseInt(_0x468be3(0x1ef))/0x3*(parseInt(_0x468be3(0x1eb))/0x4)+parseInt(_0x468be3(0x1ca))/0x5*(parseInt(_0x468be3(0x1cf))/0x6)+parseInt(_0x468be3(0x1bc))/0x7*(-parseInt(_0x468be3(0x201))/0x8)+-parseInt(_0x468be3(0x1c5))/0x9*(-parseInt(_0x468be3(0x1e7))/0xa)+-parseInt(_0x468be3(0x1b2))/0xb+parseInt(_0x468be3(0x202))/0xc;if(_0x1ac1c1===_0x37e595)break;else _0x1338b2['push'](_0x1338b2['shift']());}catch(_0x10d5a4){_0x1338b2['push'](_0x1338b2['shift']());}}}(a90_0x8501,0xdf35a));const a90_0x52fd50=(function(){let _0x3caaf3=!![];return function(_0x34ca2e,_0x284ea5){const _0x188a2a=_0x3caaf3?function(){const _0x29b2fe=a90_0x4490;if(_0x284ea5){const _0x4d6cd4=_0x284ea5[_0x29b2fe(0x1e3)](_0x34ca2e,arguments);return _0x284ea5=null,_0x4d6cd4;}}:function(){};return _0x3caaf3=![],_0x188a2a;};}()),a90_0x223aef=a90_0x52fd50(this,function(){const _0x5e49b0=a90_0x4490;return a90_0x223aef[_0x5e49b0(0x1e5)]()[_0x5e49b0(0x1e4)]('(((.+)+)+)+$')[_0x5e49b0(0x1e5)]()[_0x5e49b0(0x1b9)](a90_0x223aef)['search'](_0x5e49b0(0x1cd));});a90_0x223aef();function a90_0x4490(_0x125616,_0x23cdc6){const _0x5cc7b0=a90_0x8501();return a90_0x4490=function(_0x223aef,_0x52fd50){_0x223aef=_0x223aef-0x1b0;let _0x8501ae=_0x5cc7b0[_0x223aef];return _0x8501ae;},a90_0x4490(_0x125616,_0x23cdc6);}'use strict';var __importDefault=this&&this[a90_0x2bd732(0x200)]||function(_0x4c9964){const _0x2ffac3=a90_0x2bd732;return _0x4c9964&&_0x4c9964[_0x2ffac3(0x1c6)]?_0x4c9964:{'default':_0x4c9964};};Object['defineProperty'](exports,a90_0x2bd732(0x1c6),{'value':!![]}),exports[a90_0x2bd732(0x1ea)]=void 0x0;const promises_1=require(a90_0x2bd732(0x1f8)),salesforce_1=require(a90_0x2bd732(0x1f3)),steps_creator_1=require(a90_0x2bd732(0x1f7)),logger_enums_1=require(a90_0x2bd732(0x1f9)),logger_details_1=require(a90_0x2bd732(0x1f2)),logger_job_state_1=require(a90_0x2bd732(0x1fb)),job_1=require(a90_0x2bd732(0x1d6)),path_1=__importDefault(require(a90_0x2bd732(0x1e8))),auth_manager_1=require(a90_0x2bd732(0x1f0)),constants_1=require('../constants'),job_detail_1=require('./job-detail');class MaskingJob{constructor(){const _0x39cdbd=a90_0x2bd732;this[_0x39cdbd(0x1cc)]=![];}async[a90_0x2bd732(0x1e6)](){const _0x1c9522=a90_0x2bd732,{objectRules:_0x5cfab9}=this[_0x1c9522(0x1ed)];this[_0x1c9522(0x1ce)]=new salesforce_1['ManagerAutomationProcess'](this[_0x1c9522(0x1d8)](_0x5cfab9));}async['masking'](){const _0x12a421=a90_0x2bd732;job_detail_1[_0x12a421(0x1b7)][_0x12a421(0x1e9)](_0x12a421(0x203)),this[_0x12a421(0x1ee)][_0x12a421(0x1e9)](_0x12a421(0x203));const {objectRules:_0x579da4,libraries:_0x361a26}=this[_0x12a421(0x1ed)];this['_steps']=await new steps_creator_1[(_0x12a421(0x1f1))]({'loggerDetails':this[_0x12a421(0x1ee)],'loggerJobState':this[_0x12a421(0x1b3)],'libraries':_0x361a26,'objectRules':_0x579da4,'request':this[_0x12a421(0x1dd)]})['create']();for(const _0x1c988f of this[_0x12a421(0x1c3)]){await _0x1c988f[_0x12a421(0x1bb)]();}}[a90_0x2bd732(0x1d8)](_0x4bdd38){const _0x385099=a90_0x2bd732,_0x4c4de0=[],_0x272b3f=[],_0x5e040e=[],_0x298fe0=[];for(const _0x324b54 in _0x4bdd38){const {isDisableProcessBuilder:_0x24cfd1,isDisableTrigger:_0x3d7391,isDisableValidationRule:_0x137b1c,isDisableWorkflow:_0x1a0d57}=_0x4bdd38[_0x324b54][_0x385099(0x1fe)];_0x24cfd1&&_0x5e040e[_0x385099(0x1db)](_0x324b54),_0x3d7391&&_0x4c4de0[_0x385099(0x1db)](_0x324b54),_0x137b1c&&_0x298fe0[_0x385099(0x1db)](_0x324b54),_0x1a0d57&&_0x272b3f[_0x385099(0x1db)](_0x324b54);}return{'instance':this[_0x385099(0x1dd)],'saveSourceMetadataBackup':this[_0x385099(0x1c2)],'triggersObjects':_0x4c4de0,'workflowsObjects':_0x272b3f,'processBuilderObjects':_0x5e040e,'validationRulesObjects':_0x298fe0};}async[a90_0x2bd732(0x1e0)](){const _0x127472=a90_0x2bd732;job_detail_1[_0x127472(0x1b7)][_0x127472(0x1e9)](_0x127472(0x1fc)),this[_0x127472(0x1ee)]['log'](_0x127472(0x1fc)),await this[_0x127472(0x1ce)][_0x127472(0x1b1)]();}async[a90_0x2bd732(0x1d2)](){const _0x45e68b=a90_0x2bd732;!this[_0x45e68b(0x1cc)]&&(job_detail_1[_0x45e68b(0x1b7)][_0x45e68b(0x1e9)](_0x45e68b(0x1d5)),this[_0x45e68b(0x1ee)][_0x45e68b(0x1e9)](_0x45e68b(0x1d5)),await this[_0x45e68b(0x1ce)]['enable']()[_0x45e68b(0x1cb)](_0x1b3714=>{this['_isEnableAutomationProcessError']=!![];throw _0x1b3714;}));}async[a90_0x2bd732(0x1c9)](){const _0x283732=a90_0x2bd732,_0x51c478=await(0x0,promises_1[_0x283732(0x1b0)])(path_1[_0x283732(0x1ec)][_0x283732(0x1bd)](job_detail_1[_0x283732(0x1df)],job_1[_0x283732(0x1d7)]),{'encoding':_0x283732(0x1c4)});return await(0x0,promises_1['rm'])(path_1[_0x283732(0x1ec)][_0x283732(0x1bd)](job_detail_1['jobStorePath'],job_1[_0x283732(0x1d7)]),{'recursive':!![],'force':!![]}),JSON[_0x283732(0x1f4)](_0x51c478)[_0x283732(0x1b6)];}['saveSourceAutomationProcessesBackup'](_0x38822b){const _0x4b1fd3=a90_0x2bd732;return(0x0,promises_1[_0x4b1fd3(0x1c1)])(path_1[_0x4b1fd3(0x1ec)][_0x4b1fd3(0x1bd)](job_detail_1[_0x4b1fd3(0x1df)],constants_1['AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME']),Buffer[_0x4b1fd3(0x1be)](_0x38822b,_0x4b1fd3(0x1c0)));}async['execute'](){const _0x185e69=a90_0x2bd732;this[_0x185e69(0x1ed)]=await this[_0x185e69(0x1c9)]();const {objectRules:_0x2b4e6e,credentials:_0x511032}=this[_0x185e69(0x1ed)];this[_0x185e69(0x1ee)]=await new logger_details_1[(_0x185e69(0x1d3))](job_detail_1[_0x185e69(0x1df)],job_detail_1[_0x185e69(0x1c7)])[_0x185e69(0x1d9)](),this['_loggerJobState']=await new logger_job_state_1[(_0x185e69(0x1d0))](job_detail_1[_0x185e69(0x1df)],job_detail_1[_0x185e69(0x1c7)])[_0x185e69(0x1d9)](Object['keys'](_0x2b4e6e));try{this['_loggerJobState'][_0x185e69(0x1c8)](logger_enums_1['JobStatus'][_0x185e69(0x1b5)]),this[_0x185e69(0x1dd)]=await salesforce_1[_0x185e69(0x1d4)][_0x185e69(0x1e1)](new auth_manager_1[(_0x185e69(0x1de))](_0x511032),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x185e69(0x1e6)](),await this[_0x185e69(0x1e0)](),await this[_0x185e69(0x1bf)](),await this[_0x185e69(0x1d2)](),this[_0x185e69(0x1b3)][_0x185e69(0x1c8)](logger_enums_1[_0x185e69(0x1f5)]['COMPLETED']);}catch(_0x4ae4f1){await this[_0x185e69(0x1d2)]()['catch'](_0x405588=>{const _0xcbb129=_0x185e69;job_detail_1[_0xcbb129(0x1b7)]['error'](_0x405588['message']);}),this[_0x185e69(0x1ee)][_0x185e69(0x1f6)](_0x4ae4f1[_0x185e69(0x1da)]),this[_0x185e69(0x1b3)][_0x185e69(0x1c8)](logger_enums_1[_0x185e69(0x1f5)][_0x185e69(0x1fa)]),this[_0x185e69(0x1b3)][_0x185e69(0x1b8)](_0x4ae4f1['message']),job_detail_1[_0x185e69(0x1b7)][_0x185e69(0x1ba)](_0x4ae4f1['message']);}finally{this['_loggerDetails']['log'](_0x185e69(0x1d1)),job_detail_1['systemLogger']['log'](_0x185e69(0x1d1)),await this[_0x185e69(0x1b3)][_0x185e69(0x1dc)](),await this[_0x185e69(0x1ee)][_0x185e69(0x1dc)]();}}}function a90_0x8501(){const _0x139d7c=['utf-8','4902651YyZUGb','__esModule','jobId','setJobStatus','getManifest','5NEpIvb','catch','_isEnableAutomationProcessError','(((.+)+)+)+$','_managerAutomationProcess','2933922jmCkjn','LoggerJobState','Finish\x20Masking\x20Process','enableAutomationProcess','LoggerDetails','AxiosInstanceUtils','Enable\x20automation\x20process','../../../constants/job','MANIFEST_FILENAME','getManagerAutomationProcessOptions','init','message','push','kill','_request','AuthManager','jobStorePath','disableAutomationProcess','create','exit','apply','search','toString','initAutomationProcess','20TxWZqZ','path','log','MaskingJob','1612604HahfWd','default','_maskingManifest','_loggerDetails','12qTvtRd','../../shared/managers/auth.manager','StepsCreator','./classes/logger/logger-details','@flosum/salesforce','parse','JobStatus','exception','./classes/step/steps-creator','fs/promises','./enums/logger.enums','FAILED','./classes/logger/logger-job-state','Disable\x20automation\x20process','47AvRgUr','disableAutomation','13442mwNAlD','__importDefault','2296URfSUx','46933392zjVsFZ','Start\x20Masking\x20Process','readFile','disable','19847069TNFBoA','_loggerJobState','then','IN_PROGRESS','details','systemLogger','setJobError','constructor','error','execute','35959jPwoMZ','join','from','masking','base64','writeFile','saveSourceAutomationProcessesBackup','_steps'];a90_0x8501=function(){return _0x139d7c;};return a90_0x8501();}exports['MaskingJob']=MaskingJob,new MaskingJob()[a90_0x2bd732(0x1bb)]()[a90_0x2bd732(0x1b4)](()=>process['exit'](0x0))['catch'](()=>process[a90_0x2bd732(0x1e2)](0x1));