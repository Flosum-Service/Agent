function a88_0x115d(_0x54878c,_0x5b1554){const _0x19d11e=a88_0x404c();return a88_0x115d=function(_0x176112,_0x49e5b5){_0x176112=_0x176112-0x13a;let _0x404c87=_0x19d11e[_0x176112];return _0x404c87;},a88_0x115d(_0x54878c,_0x5b1554);}const a88_0x4c939b=a88_0x115d;(function(_0x319a8c,_0x2ec904){const _0x2ba335=a88_0x115d,_0x1a2b01=_0x319a8c();while(!![]){try{const _0x36760e=parseInt(_0x2ba335(0x13d))/0x1+parseInt(_0x2ba335(0x179))/0x2*(parseInt(_0x2ba335(0x150))/0x3)+parseInt(_0x2ba335(0x177))/0x4+parseInt(_0x2ba335(0x15f))/0x5*(parseInt(_0x2ba335(0x15c))/0x6)+-parseInt(_0x2ba335(0x17b))/0x7*(parseInt(_0x2ba335(0x13f))/0x8)+parseInt(_0x2ba335(0x148))/0x9*(-parseInt(_0x2ba335(0x169))/0xa)+-parseInt(_0x2ba335(0x184))/0xb;if(_0x36760e===_0x2ec904)break;else _0x1a2b01['push'](_0x1a2b01['shift']());}catch(_0x5bbe21){_0x1a2b01['push'](_0x1a2b01['shift']());}}}(a88_0x404c,0x58329));const a88_0x49e5b5=(function(){let _0x2451bc=!![];return function(_0x9506f8,_0x541c58){const _0x443446=_0x2451bc?function(){const _0xe75d20=a88_0x115d;if(_0x541c58){const _0x121db5=_0x541c58[_0xe75d20(0x14a)](_0x9506f8,arguments);return _0x541c58=null,_0x121db5;}}:function(){};return _0x2451bc=![],_0x443446;};}()),a88_0x176112=a88_0x49e5b5(this,function(){const _0x4bdce1=a88_0x115d;return a88_0x176112[_0x4bdce1(0x170)]()[_0x4bdce1(0x166)](_0x4bdce1(0x183))['toString']()['constructor'](a88_0x176112)[_0x4bdce1(0x166)]('(((.+)+)+)+$');});a88_0x176112();'use strict';var __importDefault=this&&this[a88_0x4c939b(0x163)]||function(_0x2250d3){const _0x127c36=a88_0x4c939b;return _0x2250d3&&_0x2250d3[_0x127c36(0x17c)]?_0x2250d3:{'default':_0x2250d3};};Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports['MaskingJob']=void 0x0;const promises_1=require('fs/promises'),salesforce_1=require('@flosum/salesforce'),steps_creator_1=require(a88_0x4c939b(0x172)),logger_enums_1=require('./enums/logger.enums'),logger_details_1=require(a88_0x4c939b(0x13e)),logger_job_state_1=require(a88_0x4c939b(0x15a)),job_1=require(a88_0x4c939b(0x151)),path_1=__importDefault(require('path')),auth_manager_1=require(a88_0x4c939b(0x143)),constants_1=require(a88_0x4c939b(0x171)),job_detail_1=require(a88_0x4c939b(0x17e));function a88_0x404c(){const _0x66c27b=['_request','kill','(((.+)+)+)+$','7833287bZhGnL','keys','AxiosInstanceUtils','default','COMPLETED','readFile','getManifest','LoggerJobState','122616UTkgBj','./classes/logger/logger-details','1780696ZwXBZz','then','catch','from','../../shared/managers/auth.manager','Disable\x20automation\x20process','exit','disableAutomation','Enable\x20automation\x20process','5837985GtQDFD','disableAutomationProcess','apply','jobStorePath','_loggerJobState','MaskingJob','initAutomationProcess','JobStatus','846xxpXBf','../../../constants/job','base64','AUTOMATION_PROCESS_METADATA_BACKUP_FILENAME','_steps','_maskingManifest','_managerAutomationProcess','message','push','saveSourceAutomationProcessesBackup','./classes/logger/logger-job-state','utf-8','42oElHHs','jobId','systemLogger','502085PSKdRM','exception','writeFile','Start\x20Masking\x20Process','__importDefault','FAILED','disable','search','getManagerAutomationProcessOptions','MANIFEST_FILENAME','10fDXapO','_isEnableAutomationProcessError','enableAutomationProcess','execute','Finish\x20Masking\x20Process','masking','create','toString','../constants','./classes/step/steps-creator','log','_loggerDetails','error','AuthManager','2430172KwogPh','join','3628QYzwDe','setJobError','7qtzWQK','__esModule','setJobStatus','./job-detail','enable','init'];a88_0x404c=function(){return _0x66c27b;};return a88_0x404c();}class MaskingJob{constructor(){const _0x5f5b53=a88_0x4c939b;this[_0x5f5b53(0x16a)]=![];}async[a88_0x4c939b(0x14e)](){const _0x3b7e24=a88_0x4c939b,{objectRules:_0x599b71}=this[_0x3b7e24(0x155)];this['_managerAutomationProcess']=new salesforce_1['ManagerAutomationProcess'](this['getManagerAutomationProcessOptions'](_0x599b71));}async[a88_0x4c939b(0x16e)](){const _0x2d2e2c=a88_0x4c939b;job_detail_1[_0x2d2e2c(0x15e)][_0x2d2e2c(0x173)](_0x2d2e2c(0x162)),this[_0x2d2e2c(0x174)]['log'](_0x2d2e2c(0x162));const {objectRules:_0x259ea4,libraries:_0x3b4ec6}=this[_0x2d2e2c(0x155)];this[_0x2d2e2c(0x154)]=await new steps_creator_1['StepsCreator']({'loggerDetails':this['_loggerDetails'],'loggerJobState':this['_loggerJobState'],'libraries':_0x3b4ec6,'objectRules':_0x259ea4,'request':this[_0x2d2e2c(0x181)]})[_0x2d2e2c(0x16f)]();for(const _0x2ebcad of this['_steps']){await _0x2ebcad['execute']();}}[a88_0x4c939b(0x167)](_0x4961c4){const _0x38655c=a88_0x4c939b,_0x52fbcd=[],_0x449f70=[],_0x8b35b6=[],_0x124692=[];for(const _0x45cb7e in _0x4961c4){const {isDisableProcessBuilder:_0x55fe6b,isDisableTrigger:_0xf2499c,isDisableValidationRule:_0x2ef90a,isDisableWorkflow:_0x126b25}=_0x4961c4[_0x45cb7e][_0x38655c(0x146)];_0x55fe6b&&_0x8b35b6[_0x38655c(0x158)](_0x45cb7e),_0xf2499c&&_0x52fbcd[_0x38655c(0x158)](_0x45cb7e),_0x2ef90a&&_0x124692[_0x38655c(0x158)](_0x45cb7e),_0x126b25&&_0x449f70[_0x38655c(0x158)](_0x45cb7e);}return{'instance':this[_0x38655c(0x181)],'saveSourceMetadataBackup':this[_0x38655c(0x159)],'triggersObjects':_0x52fbcd,'workflowsObjects':_0x449f70,'processBuilderObjects':_0x8b35b6,'validationRulesObjects':_0x124692};}async[a88_0x4c939b(0x149)](){const _0x36d60c=a88_0x4c939b;job_detail_1[_0x36d60c(0x15e)]['log']('Disable\x20automation\x20process'),this[_0x36d60c(0x174)]['log'](_0x36d60c(0x144)),await this['_managerAutomationProcess'][_0x36d60c(0x165)]();}async[a88_0x4c939b(0x16b)](){const _0x58caea=a88_0x4c939b;!this[_0x58caea(0x16a)]&&(job_detail_1[_0x58caea(0x15e)][_0x58caea(0x173)](_0x58caea(0x147)),this['_loggerDetails']['log'](_0x58caea(0x147)),await this[_0x58caea(0x156)][_0x58caea(0x17f)]()[_0x58caea(0x141)](_0x38028a=>{this['_isEnableAutomationProcessError']=!![];throw _0x38028a;}));}async[a88_0x4c939b(0x13b)](){const _0x4987d7=a88_0x4c939b,_0x239d5c=await(0x0,promises_1[_0x4987d7(0x13a)])(path_1[_0x4987d7(0x187)]['join'](job_detail_1['jobStorePath'],job_1[_0x4987d7(0x168)]),{'encoding':_0x4987d7(0x15b)});return await(0x0,promises_1['rm'])(path_1[_0x4987d7(0x187)][_0x4987d7(0x178)](job_detail_1[_0x4987d7(0x14b)],job_1[_0x4987d7(0x168)]),{'recursive':!![],'force':!![]}),JSON['parse'](_0x239d5c)['details'];}['saveSourceAutomationProcessesBackup'](_0x234ccb){const _0x15e50a=a88_0x4c939b;return(0x0,promises_1[_0x15e50a(0x161)])(path_1[_0x15e50a(0x187)][_0x15e50a(0x178)](job_detail_1['jobStorePath'],constants_1[_0x15e50a(0x153)]),Buffer[_0x15e50a(0x142)](_0x234ccb,_0x15e50a(0x152)));}async[a88_0x4c939b(0x16c)](){const _0x2a87b5=a88_0x4c939b;this['_maskingManifest']=await this[_0x2a87b5(0x13b)]();const {objectRules:_0x392932,credentials:_0x596cc7}=this[_0x2a87b5(0x155)];this[_0x2a87b5(0x174)]=await new logger_details_1['LoggerDetails'](job_detail_1['jobStorePath'],job_detail_1[_0x2a87b5(0x15d)])['init'](),this[_0x2a87b5(0x14c)]=await new logger_job_state_1[(_0x2a87b5(0x13c))](job_detail_1['jobStorePath'],job_detail_1[_0x2a87b5(0x15d)])[_0x2a87b5(0x180)](Object[_0x2a87b5(0x185)](_0x392932));try{this[_0x2a87b5(0x14c)][_0x2a87b5(0x17d)](logger_enums_1[_0x2a87b5(0x14f)]['IN_PROGRESS']),this['_request']=await salesforce_1[_0x2a87b5(0x186)][_0x2a87b5(0x16f)](new auth_manager_1[(_0x2a87b5(0x176))](_0x596cc7),[],{'headers':{'Accept-Encoding':'gzip'}}),await this[_0x2a87b5(0x14e)](),await this[_0x2a87b5(0x149)](),await this['masking'](),await this[_0x2a87b5(0x16b)](),this[_0x2a87b5(0x14c)][_0x2a87b5(0x17d)](logger_enums_1[_0x2a87b5(0x14f)][_0x2a87b5(0x188)]);}catch(_0x15baa2){await this[_0x2a87b5(0x16b)]()['catch'](_0x40972b=>{const _0xc56042=_0x2a87b5;job_detail_1['systemLogger'][_0xc56042(0x175)](_0x40972b['message']);}),this[_0x2a87b5(0x174)][_0x2a87b5(0x160)](_0x15baa2[_0x2a87b5(0x157)]),this[_0x2a87b5(0x14c)][_0x2a87b5(0x17d)](logger_enums_1['JobStatus'][_0x2a87b5(0x164)]),this[_0x2a87b5(0x14c)][_0x2a87b5(0x17a)](_0x15baa2[_0x2a87b5(0x157)]),job_detail_1[_0x2a87b5(0x15e)][_0x2a87b5(0x175)](_0x15baa2[_0x2a87b5(0x157)]);}finally{this[_0x2a87b5(0x174)]['log'](_0x2a87b5(0x16d)),job_detail_1[_0x2a87b5(0x15e)]['log'](_0x2a87b5(0x16d)),await this[_0x2a87b5(0x14c)][_0x2a87b5(0x182)](),await this[_0x2a87b5(0x174)][_0x2a87b5(0x182)]();}}}exports[a88_0x4c939b(0x14d)]=MaskingJob,new MaskingJob()[a88_0x4c939b(0x16c)]()[a88_0x4c939b(0x140)](()=>process[a88_0x4c939b(0x145)](0x0))['catch'](()=>process['exit'](0x1));