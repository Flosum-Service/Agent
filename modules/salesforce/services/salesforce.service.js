const a137_0x62f569=a137_0x2828;(function(_0x5b20a9,_0x3dd3c0){const _0x124556=a137_0x2828,_0x5ba66c=_0x5b20a9();while(!![]){try{const _0x334e47=-parseInt(_0x124556(0x1ed))/0x1+-parseInt(_0x124556(0x1f4))/0x2*(parseInt(_0x124556(0x1f9))/0x3)+-parseInt(_0x124556(0x1c8))/0x4+parseInt(_0x124556(0x1fb))/0x5+parseInt(_0x124556(0x1db))/0x6*(-parseInt(_0x124556(0x1c1))/0x7)+parseInt(_0x124556(0x1ca))/0x8*(parseInt(_0x124556(0x1cf))/0x9)+parseInt(_0x124556(0x1ea))/0xa;if(_0x334e47===_0x3dd3c0)break;else _0x5ba66c['push'](_0x5ba66c['shift']());}catch(_0x149678){_0x5ba66c['push'](_0x5ba66c['shift']());}}}(a137_0x2d01,0x9d471));function a137_0x2d01(){const _0x4562c5=['text','internalLogger','1243062wRfzfT','/sobjects/','(((.+)+)+)+$','/logger','../../../core/errors/internal-server.error','request','metadata','2aeEQIm','function','Logger','length','defineProperty','444813arFJFG','forEach','3782560IbcHRx','/sobjects/Attachment/','Service','SalesforceError','toString','../../../constants','createSalesforceRequest','logger','418845Xjiexg','./salesforce-logger.service','SalesforceAuthService','delete\x20attachment\x20%s\x20from\x20salesforce','retrieve\x20attachment\x20%s\x20from\x20salesforce','services/data/','loggerId','726748htfEpi','/body','185912NrTCXp','./salesforce-auth.service','then','InternalServerError','error','414oFseVj','__decorate','SalesforceLogger','delete','post','name','SalesforceService','arraybuffer','object','get','SALESFORCE_API_VERSION','decorate','18ljBNvF','constructor','[message]\x20%s','search','apply','getLogger','namespace','../../../core','createObject','design:paramtypes','services/apexrest','patch','deleteAttachment','log','IGNORE_FLOSUM_GIT_NAMESPACE','5712280UAIRRF'];a137_0x2d01=function(){return _0x4562c5;};return a137_0x2d01();}const a137_0x33ef50=(function(){let _0x20ea17=!![];return function(_0x4250f7,_0x1d228e){const _0x16b767=_0x20ea17?function(){const _0x5d68c7=a137_0x2828;if(_0x1d228e){const _0x3f7820=_0x1d228e[_0x5d68c7(0x1df)](_0x4250f7,arguments);return _0x1d228e=null,_0x3f7820;}}:function(){};return _0x20ea17=![],_0x16b767;};}()),a137_0x3671b4=a137_0x33ef50(this,function(){const _0x66dc7d=a137_0x2828;return a137_0x3671b4[_0x66dc7d(0x1bd)]()[_0x66dc7d(0x1de)](_0x66dc7d(0x1ef))['toString']()[_0x66dc7d(0x1dc)](a137_0x3671b4)['search'](_0x66dc7d(0x1ef));});a137_0x3671b4();'use strict';var __decorate=this&&this[a137_0x62f569(0x1d0)]||function(_0x1672af,_0x473e47,_0x3dd98a,_0x4ee0df){const _0x2ae789=a137_0x62f569;var _0x1591dc=arguments[_0x2ae789(0x1f7)],_0x2705c8=_0x1591dc<0x3?_0x473e47:_0x4ee0df===null?_0x4ee0df=Object['getOwnPropertyDescriptor'](_0x473e47,_0x3dd98a):_0x4ee0df,_0x29575c;if(typeof Reflect===_0x2ae789(0x1d7)&&typeof Reflect[_0x2ae789(0x1da)]===_0x2ae789(0x1f5))_0x2705c8=Reflect['decorate'](_0x1672af,_0x473e47,_0x3dd98a,_0x4ee0df);else{for(var _0x578d69=_0x1672af[_0x2ae789(0x1f7)]-0x1;_0x578d69>=0x0;_0x578d69--)if(_0x29575c=_0x1672af[_0x578d69])_0x2705c8=(_0x1591dc<0x3?_0x29575c(_0x2705c8):_0x1591dc>0x3?_0x29575c(_0x473e47,_0x3dd98a,_0x2705c8):_0x29575c(_0x473e47,_0x3dd98a))||_0x2705c8;}return _0x1591dc>0x3&&_0x2705c8&&Object[_0x2ae789(0x1f8)](_0x473e47,_0x3dd98a,_0x2705c8),_0x2705c8;},__metadata=this&&this['__metadata']||function(_0x1eb5d8,_0x45f9e8){const _0x5db2da=a137_0x62f569;if(typeof Reflect==='object'&&typeof Reflect[_0x5db2da(0x1f3)]===_0x5db2da(0x1f5))return Reflect[_0x5db2da(0x1f3)](_0x1eb5d8,_0x45f9e8);},SalesforceService_1;Object[a137_0x62f569(0x1f8)](exports,'__esModule',{'value':!![]}),exports[a137_0x62f569(0x1d5)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a137_0x62f569(0x1e2)),internal_server_error_1=require(a137_0x62f569(0x1f1)),salesforce_auth_service_1=require(a137_0x62f569(0x1cb)),constants_1=require(a137_0x62f569(0x1be)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a137_0x62f569(0x1c2)),salesforce_error_1=require('../errors/salesforce.error');function a137_0x2828(_0x41af00,_0x1576b0){const _0x56df64=a137_0x2d01();return a137_0x2828=function(_0x3671b4,_0x33ef50){_0x3671b4=_0x3671b4-0x1ba;let _0x2d0122=_0x56df64[_0x3671b4];return _0x2d0122;},a137_0x2828(_0x41af00,_0x1576b0);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x2442e2){const _0x2d501e=a137_0x62f569;this[_0x2d501e(0x1c0)]=new core_1[(_0x2d501e(0x1f6))](SalesforceService_1[_0x2d501e(0x1d4)]),this['request']=create_request_util_1[_0x2d501e(0x1bf)](_0x2442e2),this[_0x2d501e(0x1e1)]=constants_1[_0x2d501e(0x1e9)]?'':'/flosum_git';}['setLoggerId'](_0x3924af){const _0x42e675=a137_0x62f569;this['loggerId']=_0x3924af,this[_0x42e675(0x1ec)]=new salesforce_logger_service_1[(_0x42e675(0x1d1))](this);}[a137_0x62f569(0x1e0)](){const _0x4e9a3b=a137_0x62f569;return this[_0x4e9a3b(0x1ec)];}async['retrieveComponents'](_0x1f9548){const _0x53c70b=a137_0x62f569;try{this['logger'][_0x53c70b(0x1e8)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x1f9548[_0x53c70b(0x1f7)]);const _0x1dab85=await this['request'][_0x53c70b(0x1d3)](_0x53c70b(0x1e5)+this[_0x53c70b(0x1e1)]+'/attachments',{'componentIds':_0x1f9548,'loggerId':this[_0x53c70b(0x1c7)]})[_0x53c70b(0x1cc)](({data:_0x5e6008})=>_0x5e6008);return _0x1dab85;}catch(_0x5ce1d2){this['logger']['error'](_0x5ce1d2);throw new salesforce_error_1[(_0x53c70b(0x1bc))](_0x5ce1d2);}}async[a137_0x62f569(0x1e7)](_0x486fc3){const _0x19e51f=a137_0x62f569;try{this['logger'][_0x19e51f(0x1e8)](_0x19e51f(0x1c4),_0x486fc3),await this['request'][_0x19e51f(0x1d2)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x19e51f(0x1ba)+_0x486fc3);}catch(_0x47a7c){this[_0x19e51f(0x1c0)]['error'](_0x47a7c);throw new salesforce_error_1[(_0x19e51f(0x1bc))](_0x47a7c);}}async['retrieveAttachment'](_0x470309,_0x35ddf3=![]){const _0x3aaf34=a137_0x62f569;try{this['logger'][_0x3aaf34(0x1e8)](_0x3aaf34(0x1c5),_0x470309);const _0x2ebcbe=await this[_0x3aaf34(0x1f2)][_0x3aaf34(0x1d8)](_0x3aaf34(0x1c6)+constants_1[_0x3aaf34(0x1d9)]+_0x3aaf34(0x1ba)+_0x470309+_0x3aaf34(0x1c9),{'responseType':_0x35ddf3?_0x3aaf34(0x1d6):_0x3aaf34(0x1eb)})[_0x3aaf34(0x1cc)](({data:_0x7f291d})=>_0x7f291d);return _0x2ebcbe;}catch(_0x503387){this[_0x3aaf34(0x1c0)][_0x3aaf34(0x1ce)](_0x503387);throw new salesforce_error_1[(_0x3aaf34(0x1bc))](_0x503387);}}async['sendLog'](_0x22c0fe){const _0x4e40da=a137_0x62f569;try{_0x22c0fe[_0x4e40da(0x1fa)](_0x76896f=>this['logger'][_0x4e40da(0x1e8)](_0x4e40da(0x1dd),_0x76896f)),await this[_0x4e40da(0x1f2)][_0x4e40da(0x1d3)](_0x4e40da(0x1e5)+this[_0x4e40da(0x1e1)]+_0x4e40da(0x1f0),{'messages':_0x22c0fe,'loggerId':this[_0x4e40da(0x1c7)]});}catch(_0xe7fb91){this['logger'][_0x4e40da(0x1ce)](_0xe7fb91);throw new internal_server_error_1[(_0x4e40da(0x1cd))](_0xe7fb91);}}async[a137_0x62f569(0x1e3)](_0x43200a,_0x10167d){const _0x3549c7=a137_0x62f569;try{const {data:_0x4cfe22}=await this['request']['post'](_0x3549c7(0x1c6)+constants_1['SALESFORCE_API_VERSION']+_0x3549c7(0x1ee)+_0x43200a+'/',_0x10167d);return _0x4cfe22['id'];}catch(_0xe7be7b){throw new salesforce_error_1['SalesforceError'](_0xe7be7b);}}async['patchObject'](_0x134364,_0x33905d,_0xa02ede){const _0x1e4a3a=a137_0x62f569;try{await this[_0x1e4a3a(0x1f2)][_0x1e4a3a(0x1e6)](_0x1e4a3a(0x1c6)+constants_1[_0x1e4a3a(0x1d9)]+_0x1e4a3a(0x1ee)+_0x134364+'/'+_0x33905d,_0xa02ede);}catch(_0x31b474){throw new salesforce_error_1[(_0x1e4a3a(0x1bc))](_0x31b474);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x62f569(0x1bb)]({'transient':!![]}),__metadata(a137_0x62f569(0x1e4),[salesforce_auth_service_1[a137_0x62f569(0x1c3)]])],SalesforceService),exports[a137_0x62f569(0x1d5)]=SalesforceService;