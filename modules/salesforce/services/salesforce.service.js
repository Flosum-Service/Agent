const a137_0x4af637=a137_0xf9fa;(function(_0x4792bd,_0x4d55dc){const _0xe0197a=a137_0xf9fa,_0x49fa36=_0x4792bd();while(!![]){try{const _0x14acc8=parseInt(_0xe0197a(0x95))/0x1*(-parseInt(_0xe0197a(0x96))/0x2)+-parseInt(_0xe0197a(0x97))/0x3*(-parseInt(_0xe0197a(0xab))/0x4)+parseInt(_0xe0197a(0xb6))/0x5*(-parseInt(_0xe0197a(0xb8))/0x6)+parseInt(_0xe0197a(0xa9))/0x7*(parseInt(_0xe0197a(0xa7))/0x8)+parseInt(_0xe0197a(0xa3))/0x9*(parseInt(_0xe0197a(0x7f))/0xa)+parseInt(_0xe0197a(0x83))/0xb+parseInt(_0xe0197a(0x8f))/0xc*(-parseInt(_0xe0197a(0xb9))/0xd);if(_0x14acc8===_0x4d55dc)break;else _0x49fa36['push'](_0x49fa36['shift']());}catch(_0x7c2241){_0x49fa36['push'](_0x49fa36['shift']());}}}(a137_0x3fac,0x76864));const a137_0xe28f2f=(function(){let _0x5e6bb2=!![];return function(_0xf2840e,_0x3a2e58){const _0x33158a=_0x5e6bb2?function(){const _0x4bdedd=a137_0xf9fa;if(_0x3a2e58){const _0x5b200e=_0x3a2e58[_0x4bdedd(0x82)](_0xf2840e,arguments);return _0x3a2e58=null,_0x5b200e;}}:function(){};return _0x5e6bb2=![],_0x33158a;};}()),a137_0x9c0a47=a137_0xe28f2f(this,function(){const _0x6a5b6c=a137_0xf9fa;return a137_0x9c0a47[_0x6a5b6c(0x90)]()[_0x6a5b6c(0xa1)](_0x6a5b6c(0x88))['toString']()[_0x6a5b6c(0xac)](a137_0x9c0a47)[_0x6a5b6c(0xa1)](_0x6a5b6c(0x88));});a137_0x9c0a47();function a137_0x3fac(){const _0x19aa42=['patchObject','length','88iclSNK','post','551495QxGuYI','metadata','161668wfWDxH','constructor','log','forEach','namespace','IGNORE_FLOSUM_GIT_NAMESPACE','/attachments','../../../constants','loggerId','retrieve\x20attachment\x20%s\x20from\x20salesforce','createSalesforceRequest','5vlRNwF','function','5537814SuYOFS','1045057alImKK','SALESFORCE_API_VERSION','logger','InternalServerError','then','../errors/salesforce.error','createObject','decorate','error','140rRbkfz','../../../core','services/data/','apply','3302145JikuOQ','object','../../../core/errors/internal-server.error','services/apexrest','./salesforce-auth.service','(((.+)+)+)+$','arraybuffer','SalesforceService','text','getOwnPropertyDescriptor','request','defineProperty','60Cuakbu','toString','[message]\x20%s','patch','/sobjects/Attachment/','__decorate','12uASOiT','124902NIYLWA','42Fymodp','__metadata','setLoggerId','Logger','retrieveAttachment','__esModule','internalLogger','/body','SalesforceError','delete\x20attachment\x20%s\x20from\x20salesforce','search','/sobjects/','531729ESAukT','./salesforce-logger.service'];a137_0x3fac=function(){return _0x19aa42;};return a137_0x3fac();}function a137_0xf9fa(_0x3d8e56,_0x3262b0){const _0x2fbdee=a137_0x3fac();return a137_0xf9fa=function(_0x9c0a47,_0xe28f2f){_0x9c0a47=_0x9c0a47-0x7c;let _0x3fac78=_0x2fbdee[_0x9c0a47];return _0x3fac78;},a137_0xf9fa(_0x3d8e56,_0x3262b0);}'use strict';var __decorate=this&&this[a137_0x4af637(0x94)]||function(_0x185ece,_0x5929dd,_0x33513b,_0x13f094){const _0x5163fa=a137_0x4af637;var _0x5c8a23=arguments['length'],_0x1d6882=_0x5c8a23<0x3?_0x5929dd:_0x13f094===null?_0x13f094=Object[_0x5163fa(0x8c)](_0x5929dd,_0x33513b):_0x13f094,_0xbe3ce4;if(typeof Reflect==='object'&&typeof Reflect[_0x5163fa(0x7d)]===_0x5163fa(0xb7))_0x1d6882=Reflect[_0x5163fa(0x7d)](_0x185ece,_0x5929dd,_0x33513b,_0x13f094);else{for(var _0x39a937=_0x185ece[_0x5163fa(0xa6)]-0x1;_0x39a937>=0x0;_0x39a937--)if(_0xbe3ce4=_0x185ece[_0x39a937])_0x1d6882=(_0x5c8a23<0x3?_0xbe3ce4(_0x1d6882):_0x5c8a23>0x3?_0xbe3ce4(_0x5929dd,_0x33513b,_0x1d6882):_0xbe3ce4(_0x5929dd,_0x33513b))||_0x1d6882;}return _0x5c8a23>0x3&&_0x1d6882&&Object[_0x5163fa(0x8e)](_0x5929dd,_0x33513b,_0x1d6882),_0x1d6882;},__metadata=this&&this[a137_0x4af637(0x98)]||function(_0x17e7a9,_0x488fc8){const _0x19a6d8=a137_0x4af637;if(typeof Reflect===_0x19a6d8(0x84)&&typeof Reflect[_0x19a6d8(0xaa)]===_0x19a6d8(0xb7))return Reflect[_0x19a6d8(0xaa)](_0x17e7a9,_0x488fc8);},SalesforceService_1;Object[a137_0x4af637(0x8e)](exports,a137_0x4af637(0x9c),{'value':!![]}),exports[a137_0x4af637(0x8a)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a137_0x4af637(0x80)),internal_server_error_1=require(a137_0x4af637(0x85)),salesforce_auth_service_1=require(a137_0x4af637(0x87)),constants_1=require(a137_0x4af637(0xb2)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a137_0x4af637(0xa4)),salesforce_error_1=require(a137_0x4af637(0xbe));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0xe41e7a){const _0x2eafae=a137_0x4af637;this[_0x2eafae(0xbb)]=new core_1[(_0x2eafae(0x9a))](SalesforceService_1['name']),this[_0x2eafae(0x8d)]=create_request_util_1[_0x2eafae(0xb5)](_0xe41e7a),this['namespace']=constants_1[_0x2eafae(0xb0)]?'':'/flosum_git';}[a137_0x4af637(0x99)](_0x364cc4){const _0x1ae1e8=a137_0x4af637;this[_0x1ae1e8(0xb3)]=_0x364cc4,this[_0x1ae1e8(0x9d)]=new salesforce_logger_service_1['SalesforceLogger'](this);}['getLogger'](){return this['internalLogger'];}async['retrieveComponents'](_0x3a4ae8){const _0x56bc9d=a137_0x4af637;try{this[_0x56bc9d(0xbb)]['log']('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x3a4ae8[_0x56bc9d(0xa6)]);const _0x326715=await this[_0x56bc9d(0x8d)]['post'](_0x56bc9d(0x86)+this[_0x56bc9d(0xaf)]+_0x56bc9d(0xb1),{'componentIds':_0x3a4ae8,'loggerId':this[_0x56bc9d(0xb3)]})[_0x56bc9d(0xbd)](({data:_0x35d346})=>_0x35d346);return _0x326715;}catch(_0x388087){this['logger']['error'](_0x388087);throw new salesforce_error_1[(_0x56bc9d(0x9f))](_0x388087);}}async['deleteAttachment'](_0x36719d){const _0x1d2c8e=a137_0x4af637;try{this[_0x1d2c8e(0xbb)]['log'](_0x1d2c8e(0xa0),_0x36719d),await this[_0x1d2c8e(0x8d)]['delete'](_0x1d2c8e(0x81)+constants_1['SALESFORCE_API_VERSION']+_0x1d2c8e(0x93)+_0x36719d);}catch(_0x54f132){this[_0x1d2c8e(0xbb)][_0x1d2c8e(0x7e)](_0x54f132);throw new salesforce_error_1['SalesforceError'](_0x54f132);}}async[a137_0x4af637(0x9b)](_0x1a1130,_0x38e021=![]){const _0x5f351f=a137_0x4af637;try{this[_0x5f351f(0xbb)][_0x5f351f(0xad)](_0x5f351f(0xb4),_0x1a1130);const _0xcafe67=await this['request']['get']('services/data/'+constants_1[_0x5f351f(0xba)]+_0x5f351f(0x93)+_0x1a1130+_0x5f351f(0x9e),{'responseType':_0x38e021?_0x5f351f(0x89):_0x5f351f(0x8b)})[_0x5f351f(0xbd)](({data:_0x416120})=>_0x416120);return _0xcafe67;}catch(_0x346ee2){this[_0x5f351f(0xbb)]['error'](_0x346ee2);throw new salesforce_error_1['SalesforceError'](_0x346ee2);}}async['sendLog'](_0x209b1e){const _0x2e166b=a137_0x4af637;try{_0x209b1e[_0x2e166b(0xae)](_0x50d57c=>this[_0x2e166b(0xbb)][_0x2e166b(0xad)](_0x2e166b(0x91),_0x50d57c)),await this[_0x2e166b(0x8d)][_0x2e166b(0xa8)](_0x2e166b(0x86)+this[_0x2e166b(0xaf)]+'/logger',{'messages':_0x209b1e,'loggerId':this[_0x2e166b(0xb3)]});}catch(_0xa2a83a){this[_0x2e166b(0xbb)][_0x2e166b(0x7e)](_0xa2a83a);throw new internal_server_error_1[(_0x2e166b(0xbc))](_0xa2a83a);}}async[a137_0x4af637(0x7c)](_0x1dee9c,_0x3d331e){const _0x1b9b74=a137_0x4af637;try{const {data:_0xe162b6}=await this['request'][_0x1b9b74(0xa8)](_0x1b9b74(0x81)+constants_1[_0x1b9b74(0xba)]+_0x1b9b74(0xa2)+_0x1dee9c+'/',_0x3d331e);return _0xe162b6['id'];}catch(_0x516845){throw new salesforce_error_1[(_0x1b9b74(0x9f))](_0x516845);}}async[a137_0x4af637(0xa5)](_0x1c1535,_0x33b95a,_0x557597){const _0x28061a=a137_0x4af637;try{await this[_0x28061a(0x8d)][_0x28061a(0x92)](_0x28061a(0x81)+constants_1[_0x28061a(0xba)]+_0x28061a(0xa2)+_0x1c1535+'/'+_0x33b95a,_0x557597);}catch(_0x4312b4){throw new salesforce_error_1[(_0x28061a(0x9f))](_0x4312b4);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a137_0x4af637(0x8a)]=SalesforceService;