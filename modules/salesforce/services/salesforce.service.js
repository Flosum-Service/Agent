const a136_0x5e0b64=a136_0x4bc7;(function(_0x228b83,_0x2034a1){const _0x4a1622=a136_0x4bc7,_0x4c5992=_0x228b83();while(!![]){try{const _0x45c4d9=parseInt(_0x4a1622(0xc9))/0x1*(-parseInt(_0x4a1622(0xdc))/0x2)+-parseInt(_0x4a1622(0xcc))/0x3*(-parseInt(_0x4a1622(0xe9))/0x4)+-parseInt(_0x4a1622(0xf6))/0x5+-parseInt(_0x4a1622(0xf3))/0x6+parseInt(_0x4a1622(0xe1))/0x7*(parseInt(_0x4a1622(0xf4))/0x8)+parseInt(_0x4a1622(0xcf))/0x9*(-parseInt(_0x4a1622(0xd7))/0xa)+parseInt(_0x4a1622(0xcb))/0xb;if(_0x45c4d9===_0x2034a1)break;else _0x4c5992['push'](_0x4c5992['shift']());}catch(_0x10b8d8){_0x4c5992['push'](_0x4c5992['shift']());}}}(a136_0x3c42,0x54595));function a136_0x4bc7(_0x257100,_0x368d7b){const _0x3e5c78=a136_0x3c42();return a136_0x4bc7=function(_0x12ec75,_0x11ec33){_0x12ec75=_0x12ec75-0xc6;let _0x3c4291=_0x3e5c78[_0x12ec75];return _0x3c4291;},a136_0x4bc7(_0x257100,_0x368d7b);}const a136_0x11ec33=(function(){let _0x35f09f=!![];return function(_0x4d98b0,_0x46a6c4){const _0x356c42=_0x35f09f?function(){if(_0x46a6c4){const _0x99a417=_0x46a6c4['apply'](_0x4d98b0,arguments);return _0x46a6c4=null,_0x99a417;}}:function(){};return _0x35f09f=![],_0x356c42;};}()),a136_0x12ec75=a136_0x11ec33(this,function(){const _0x4d644f=a136_0x4bc7;return a136_0x12ec75[_0x4d644f(0x102)]()[_0x4d644f(0xfd)](_0x4d644f(0xd1))[_0x4d644f(0x102)]()[_0x4d644f(0xe4)](a136_0x12ec75)[_0x4d644f(0xfd)](_0x4d644f(0xd1));});function a136_0x3c42(){const _0x348a9e=['/body','../errors/salesforce.error','/sobjects/Attachment/','SalesforceLogger','function','request','4023804cxopAN','80tJVGon','defineProperty','696295HlqzMN','Logger','/flosum_git','typedi','name','logger','SalesforceAuthService','search','patchObject','delete','patch','namespace','toString','deleteAttachment','internalLogger','/attachments','../../../core','[message]\x20%s','createObject','135349rHZFev','IGNORE_FLOSUM_GIT_NAMESPACE','13587024tQOYZn','3jRyErG','delete\x20attachment\x20%s\x20from\x20salesforce','services/apexrest','29961zZRIqN','error','(((.+)+)+)+$','post','InternalServerError','length','./salesforce-logger.service','loggerId','940mNkVDe','createSalesforceRequest','arraybuffer','decorate','log','2xHIsMS','SALESFORCE_API_VERSION','retrieve\x20attachment\x20%s\x20from\x20salesforce','text','SalesforceError','176708cAGxQh','SalesforceService','../../../constants','constructor','then','/sobjects/','/logger','forEach','464148AQluOi','services/data/','object','getOwnPropertyDescriptor'];a136_0x3c42=function(){return _0x348a9e;};return a136_0x3c42();}a136_0x12ec75();'use strict';var __decorate=this&&this['__decorate']||function(_0x3666d4,_0xbdb67f,_0x103a0b,_0xb14183){const _0x402de8=a136_0x4bc7;var _0x2e6c9=arguments[_0x402de8(0xd4)],_0x3e1cbb=_0x2e6c9<0x3?_0xbdb67f:_0xb14183===null?_0xb14183=Object[_0x402de8(0xec)](_0xbdb67f,_0x103a0b):_0xb14183,_0x416fd2;if(typeof Reflect===_0x402de8(0xeb)&&typeof Reflect[_0x402de8(0xda)]===_0x402de8(0xf1))_0x3e1cbb=Reflect['decorate'](_0x3666d4,_0xbdb67f,_0x103a0b,_0xb14183);else{for(var _0x10e3f3=_0x3666d4[_0x402de8(0xd4)]-0x1;_0x10e3f3>=0x0;_0x10e3f3--)if(_0x416fd2=_0x3666d4[_0x10e3f3])_0x3e1cbb=(_0x2e6c9<0x3?_0x416fd2(_0x3e1cbb):_0x2e6c9>0x3?_0x416fd2(_0xbdb67f,_0x103a0b,_0x3e1cbb):_0x416fd2(_0xbdb67f,_0x103a0b))||_0x3e1cbb;}return _0x2e6c9>0x3&&_0x3e1cbb&&Object[_0x402de8(0xf5)](_0xbdb67f,_0x103a0b,_0x3e1cbb),_0x3e1cbb;},__metadata=this&&this['__metadata']||function(_0x499057,_0x29dc27){const _0x1cce2f=a136_0x4bc7;if(typeof Reflect===_0x1cce2f(0xeb)&&typeof Reflect['metadata']===_0x1cce2f(0xf1))return Reflect['metadata'](_0x499057,_0x29dc27);},SalesforceService_1;Object[a136_0x5e0b64(0xf5)](exports,'__esModule',{'value':!![]}),exports[a136_0x5e0b64(0xe2)]=void 0x0;const typedi_1=require(a136_0x5e0b64(0xf9)),core_1=require(a136_0x5e0b64(0xc6)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a136_0x5e0b64(0xe3)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a136_0x5e0b64(0xd5)),salesforce_error_1=require(a136_0x5e0b64(0xee));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x231062){const _0x53d9dd=a136_0x5e0b64;this[_0x53d9dd(0xfb)]=new core_1[(_0x53d9dd(0xf7))](SalesforceService_1[_0x53d9dd(0xfa)]),this['request']=create_request_util_1[_0x53d9dd(0xd8)](_0x231062),this[_0x53d9dd(0x101)]=constants_1[_0x53d9dd(0xca)]?'':_0x53d9dd(0xf8);}['setLoggerId'](_0x5b6558){const _0x2fa387=a136_0x5e0b64;this[_0x2fa387(0xd6)]=_0x5b6558,this['internalLogger']=new salesforce_logger_service_1[(_0x2fa387(0xf0))](this);}['getLogger'](){const _0x686c1e=a136_0x5e0b64;return this[_0x686c1e(0x104)];}async['retrieveComponents'](_0x37acd8){const _0x4ea57b=a136_0x5e0b64;try{this['logger'][_0x4ea57b(0xdb)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x37acd8[_0x4ea57b(0xd4)]);const _0xb84771=await this[_0x4ea57b(0xf2)][_0x4ea57b(0xd2)]('services/apexrest'+this['namespace']+_0x4ea57b(0x105),{'componentIds':_0x37acd8,'loggerId':this[_0x4ea57b(0xd6)]})[_0x4ea57b(0xe5)](({data:_0x347aa7})=>_0x347aa7);return _0xb84771;}catch(_0x3d45e5){this[_0x4ea57b(0xfb)][_0x4ea57b(0xd0)](_0x3d45e5);throw new salesforce_error_1[(_0x4ea57b(0xe0))](_0x3d45e5);}}async[a136_0x5e0b64(0x103)](_0xeef565){const _0x328e7b=a136_0x5e0b64;try{this['logger'][_0x328e7b(0xdb)](_0x328e7b(0xcd),_0xeef565),await this[_0x328e7b(0xf2)][_0x328e7b(0xff)](_0x328e7b(0xea)+constants_1[_0x328e7b(0xdd)]+_0x328e7b(0xef)+_0xeef565);}catch(_0x60a4a5){this[_0x328e7b(0xfb)][_0x328e7b(0xd0)](_0x60a4a5);throw new salesforce_error_1['SalesforceError'](_0x60a4a5);}}async['retrieveAttachment'](_0x3b9d19,_0x203399=![]){const _0x5ae9bc=a136_0x5e0b64;try{this[_0x5ae9bc(0xfb)][_0x5ae9bc(0xdb)](_0x5ae9bc(0xde),_0x3b9d19);const _0x23e8eb=await this['request']['get'](_0x5ae9bc(0xea)+constants_1[_0x5ae9bc(0xdd)]+'/sobjects/Attachment/'+_0x3b9d19+_0x5ae9bc(0xed),{'responseType':_0x203399?_0x5ae9bc(0xd9):_0x5ae9bc(0xdf)})[_0x5ae9bc(0xe5)](({data:_0x23b2c2})=>_0x23b2c2);return _0x23e8eb;}catch(_0x4d8340){this[_0x5ae9bc(0xfb)][_0x5ae9bc(0xd0)](_0x4d8340);throw new salesforce_error_1[(_0x5ae9bc(0xe0))](_0x4d8340);}}async['sendLog'](_0x4837dd){const _0x240fb0=a136_0x5e0b64;try{_0x4837dd[_0x240fb0(0xe8)](_0x1e2093=>this[_0x240fb0(0xfb)][_0x240fb0(0xdb)](_0x240fb0(0xc7),_0x1e2093)),await this[_0x240fb0(0xf2)]['post'](_0x240fb0(0xce)+this[_0x240fb0(0x101)]+_0x240fb0(0xe7),{'messages':_0x4837dd,'loggerId':this[_0x240fb0(0xd6)]});}catch(_0x2e6581){this[_0x240fb0(0xfb)][_0x240fb0(0xd0)](_0x2e6581);throw new internal_server_error_1[(_0x240fb0(0xd3))](_0x2e6581);}}async[a136_0x5e0b64(0xc8)](_0x1703d0,_0x23763d){const _0x395557=a136_0x5e0b64;try{const {data:_0x3160db}=await this[_0x395557(0xf2)][_0x395557(0xd2)](_0x395557(0xea)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x1703d0+'/',_0x23763d);return _0x3160db['id'];}catch(_0x54f56a){throw new salesforce_error_1[(_0x395557(0xe0))](_0x54f56a);}}async[a136_0x5e0b64(0xfe)](_0x4a72d6,_0xf09480,_0x5a6ea2){const _0xa472c7=a136_0x5e0b64;try{await this[_0xa472c7(0xf2)][_0xa472c7(0x100)]('services/data/'+constants_1[_0xa472c7(0xdd)]+_0xa472c7(0xe6)+_0x4a72d6+'/'+_0xf09480,_0x5a6ea2);}catch(_0x5409d5){throw new salesforce_error_1['SalesforceError'](_0x5409d5);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a136_0x5e0b64(0xfc)]])],SalesforceService),exports[a136_0x5e0b64(0xe2)]=SalesforceService;