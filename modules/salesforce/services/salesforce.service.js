const a136_0x2e308e=a136_0x2ded;(function(_0x25a25d,_0x530fee){const _0x24f36c=a136_0x2ded,_0x355d3d=_0x25a25d();while(!![]){try{const _0x330881=-parseInt(_0x24f36c(0x1ba))/0x1*(parseInt(_0x24f36c(0x1cb))/0x2)+-parseInt(_0x24f36c(0x19d))/0x3*(parseInt(_0x24f36c(0x1a3))/0x4)+-parseInt(_0x24f36c(0x194))/0x5+parseInt(_0x24f36c(0x1be))/0x6*(-parseInt(_0x24f36c(0x1ae))/0x7)+parseInt(_0x24f36c(0x1bb))/0x8+-parseInt(_0x24f36c(0x1c7))/0x9+parseInt(_0x24f36c(0x19e))/0xa;if(_0x330881===_0x530fee)break;else _0x355d3d['push'](_0x355d3d['shift']());}catch(_0x4f60ab){_0x355d3d['push'](_0x355d3d['shift']());}}}(a136_0x8b91,0xcca43));const a136_0x163b99=(function(){let _0x5d8c57=!![];return function(_0x471d82,_0x47289c){const _0x282386=_0x5d8c57?function(){const _0x18ffa8=a136_0x2ded;if(_0x47289c){const _0x2e46f6=_0x47289c[_0x18ffa8(0x1a6)](_0x471d82,arguments);return _0x47289c=null,_0x2e46f6;}}:function(){};return _0x5d8c57=![],_0x282386;};}()),a136_0x47102f=a136_0x163b99(this,function(){const _0x5cd3f3=a136_0x2ded;return a136_0x47102f[_0x5cd3f3(0x1c6)]()[_0x5cd3f3(0x1b7)](_0x5cd3f3(0x1a5))[_0x5cd3f3(0x1c6)]()['constructor'](a136_0x47102f)['search'](_0x5cd3f3(0x1a5));});a136_0x47102f();'use strict';function a136_0x2ded(_0x337960,_0x29c6c7){const _0x3234a7=a136_0x8b91();return a136_0x2ded=function(_0x47102f,_0x163b99){_0x47102f=_0x47102f-0x18a;let _0x8b911e=_0x3234a7[_0x47102f];return _0x8b911e;},a136_0x2ded(_0x337960,_0x29c6c7);}var __decorate=this&&this[a136_0x2e308e(0x1c8)]||function(_0xb90003,_0xb93f23,_0x62e9f,_0x7f69b4){const _0x68554a=a136_0x2e308e;var _0x102655=arguments['length'],_0x12fb79=_0x102655<0x3?_0xb93f23:_0x7f69b4===null?_0x7f69b4=Object[_0x68554a(0x1ad)](_0xb93f23,_0x62e9f):_0x7f69b4,_0x3e5d66;if(typeof Reflect===_0x68554a(0x19b)&&typeof Reflect[_0x68554a(0x1c1)]==='function')_0x12fb79=Reflect[_0x68554a(0x1c1)](_0xb90003,_0xb93f23,_0x62e9f,_0x7f69b4);else{for(var _0x4ba55a=_0xb90003[_0x68554a(0x19a)]-0x1;_0x4ba55a>=0x0;_0x4ba55a--)if(_0x3e5d66=_0xb90003[_0x4ba55a])_0x12fb79=(_0x102655<0x3?_0x3e5d66(_0x12fb79):_0x102655>0x3?_0x3e5d66(_0xb93f23,_0x62e9f,_0x12fb79):_0x3e5d66(_0xb93f23,_0x62e9f))||_0x12fb79;}return _0x102655>0x3&&_0x12fb79&&Object[_0x68554a(0x196)](_0xb93f23,_0x62e9f,_0x12fb79),_0x12fb79;},__metadata=this&&this[a136_0x2e308e(0x1b2)]||function(_0x5b9a05,_0xd4efc1){const _0x233f88=a136_0x2e308e;if(typeof Reflect===_0x233f88(0x19b)&&typeof Reflect[_0x233f88(0x1af)]==='function')return Reflect[_0x233f88(0x1af)](_0x5b9a05,_0xd4efc1);},SalesforceService_1;Object[a136_0x2e308e(0x196)](exports,a136_0x2e308e(0x1c4),{'value':!![]}),exports[a136_0x2e308e(0x19c)]=void 0x0;const typedi_1=require(a136_0x2e308e(0x1ac)),core_1=require(a136_0x2e308e(0x1c0)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a136_0x2e308e(0x193)),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a136_0x2e308e(0x192)),salesforce_error_1=require(a136_0x2e308e(0x1ca));function a136_0x8b91(){const _0x4e7026=['SALESFORCE_API_VERSION','delete\x20attachment\x20%s\x20from\x20salesforce','/body','deleteAttachment','loggerId','retrieveComponents','design:paramtypes','IGNORE_FLOSUM_GIT_NAMESPACE','error','./salesforce-logger.service','../../../constants','6127680URqKpv','then','defineProperty','services/apexrest','/sobjects/','services/data/','length','object','SalesforceService','674493Sgjgxb','44630500CjKNED','/logger','/sobjects/Attachment/','sendLog','request','4BwRjIi','forEach','(((.+)+)+)+$','apply','post','/attachments','InternalServerError','createObject','createSalesforceRequest','typedi','getOwnPropertyDescriptor','917CEmyaG','metadata','/flosum_git','text','__metadata','Logger','delete','internalLogger','log','search','getLogger','name','21ishMeu','2779344XMtdJz','SalesforceError','[message]\x20%s','36588uMDPyz','logger','../../../core','decorate','retrieve\x20components\x20\x20%d\x20from\x20salesforce','patch','__esModule','SalesforceAuthService','toString','10201104BSTGpg','__decorate','namespace','../errors/salesforce.error','56152LxkDaQ'];a136_0x8b91=function(){return _0x4e7026;};return a136_0x8b91();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x43a889){const _0x132c3c=a136_0x2e308e;this[_0x132c3c(0x1bf)]=new core_1[(_0x132c3c(0x1b3))](SalesforceService_1[_0x132c3c(0x1b9)]),this['request']=create_request_util_1[_0x132c3c(0x1ab)](_0x43a889),this[_0x132c3c(0x1c9)]=constants_1[_0x132c3c(0x190)]?'':_0x132c3c(0x1b0);}['setLoggerId'](_0x460938){const _0x3bdb6a=a136_0x2e308e;this[_0x3bdb6a(0x18d)]=_0x460938,this[_0x3bdb6a(0x1b5)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a136_0x2e308e(0x1b8)](){const _0x28a04b=a136_0x2e308e;return this[_0x28a04b(0x1b5)];}async[a136_0x2e308e(0x18e)](_0xdf7e7c){const _0x4cd4e6=a136_0x2e308e;try{this[_0x4cd4e6(0x1bf)][_0x4cd4e6(0x1b6)](_0x4cd4e6(0x1c2),_0xdf7e7c['length']);const _0xe2ff5b=await this['request'][_0x4cd4e6(0x1a7)](_0x4cd4e6(0x197)+this[_0x4cd4e6(0x1c9)]+_0x4cd4e6(0x1a8),{'componentIds':_0xdf7e7c,'loggerId':this[_0x4cd4e6(0x18d)]})[_0x4cd4e6(0x195)](({data:_0x3442df})=>_0x3442df);return _0xe2ff5b;}catch(_0x100c01){this[_0x4cd4e6(0x1bf)]['error'](_0x100c01);throw new salesforce_error_1[(_0x4cd4e6(0x1bc))](_0x100c01);}}async[a136_0x2e308e(0x18c)](_0xb960a4){const _0x28b9a9=a136_0x2e308e;try{this[_0x28b9a9(0x1bf)]['log'](_0x28b9a9(0x18a),_0xb960a4),await this[_0x28b9a9(0x1a2)][_0x28b9a9(0x1b4)](_0x28b9a9(0x199)+constants_1[_0x28b9a9(0x1cc)]+_0x28b9a9(0x1a0)+_0xb960a4);}catch(_0xea8930){this[_0x28b9a9(0x1bf)][_0x28b9a9(0x191)](_0xea8930);throw new salesforce_error_1[(_0x28b9a9(0x1bc))](_0xea8930);}}async['retrieveAttachment'](_0x5e955c,_0x351b5c=![]){const _0x59f303=a136_0x2e308e;try{this['logger']['log']('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x5e955c);const _0x1da272=await this[_0x59f303(0x1a2)]['get'](_0x59f303(0x199)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x5e955c+_0x59f303(0x18b),{'responseType':_0x351b5c?'arraybuffer':_0x59f303(0x1b1)})['then'](({data:_0x343772})=>_0x343772);return _0x1da272;}catch(_0x50b54e){this[_0x59f303(0x1bf)][_0x59f303(0x191)](_0x50b54e);throw new salesforce_error_1[(_0x59f303(0x1bc))](_0x50b54e);}}async[a136_0x2e308e(0x1a1)](_0x4c5c52){const _0x38c95f=a136_0x2e308e;try{_0x4c5c52[_0x38c95f(0x1a4)](_0x52c014=>this[_0x38c95f(0x1bf)]['log'](_0x38c95f(0x1bd),_0x52c014)),await this[_0x38c95f(0x1a2)][_0x38c95f(0x1a7)]('services/apexrest'+this[_0x38c95f(0x1c9)]+_0x38c95f(0x19f),{'messages':_0x4c5c52,'loggerId':this['loggerId']});}catch(_0x118d78){this[_0x38c95f(0x1bf)]['error'](_0x118d78);throw new internal_server_error_1[(_0x38c95f(0x1a9))](_0x118d78);}}async[a136_0x2e308e(0x1aa)](_0x322dd6,_0x21df59){const _0x26b444=a136_0x2e308e;try{const {data:_0x321c1f}=await this[_0x26b444(0x1a2)]['post'](_0x26b444(0x199)+constants_1[_0x26b444(0x1cc)]+_0x26b444(0x198)+_0x322dd6+'/',_0x21df59);return _0x321c1f['id'];}catch(_0x141c63){throw new salesforce_error_1[(_0x26b444(0x1bc))](_0x141c63);}}async['patchObject'](_0x5a5878,_0x281b37,_0x484fdc){const _0x412b6f=a136_0x2e308e;try{await this[_0x412b6f(0x1a2)][_0x412b6f(0x1c3)]('services/data/'+constants_1[_0x412b6f(0x1cc)]+_0x412b6f(0x198)+_0x5a5878+'/'+_0x281b37,_0x484fdc);}catch(_0x15b39c){throw new salesforce_error_1[(_0x412b6f(0x1bc))](_0x15b39c);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a136_0x2e308e(0x18f),[salesforce_auth_service_1[a136_0x2e308e(0x1c5)]])],SalesforceService),exports[a136_0x2e308e(0x19c)]=SalesforceService;