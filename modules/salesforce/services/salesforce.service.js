const a137_0x96e7ec=a137_0x232d;(function(_0x138f9a,_0x2168a8){const _0x2fbcd2=a137_0x232d,_0x162e38=_0x138f9a();while(!![]){try{const _0x1c9162=parseInt(_0x2fbcd2(0x11e))/0x1*(parseInt(_0x2fbcd2(0x14d))/0x2)+parseInt(_0x2fbcd2(0x145))/0x3+-parseInt(_0x2fbcd2(0x126))/0x4*(parseInt(_0x2fbcd2(0x153))/0x5)+-parseInt(_0x2fbcd2(0x151))/0x6*(parseInt(_0x2fbcd2(0x14e))/0x7)+parseInt(_0x2fbcd2(0x12e))/0x8+parseInt(_0x2fbcd2(0x13e))/0x9*(parseInt(_0x2fbcd2(0x134))/0xa)+parseInt(_0x2fbcd2(0x148))/0xb*(-parseInt(_0x2fbcd2(0x161))/0xc);if(_0x1c9162===_0x2168a8)break;else _0x162e38['push'](_0x162e38['shift']());}catch(_0x36d15c){_0x162e38['push'](_0x162e38['shift']());}}}(a137_0x1a1d,0xcd415));const a137_0x2a19a7=(function(){let _0x1766d9=!![];return function(_0x5d74c6,_0x269a65){const _0x439cbd=_0x1766d9?function(){const _0x1c175a=a137_0x232d;if(_0x269a65){const _0x24dc34=_0x269a65[_0x1c175a(0x154)](_0x5d74c6,arguments);return _0x269a65=null,_0x24dc34;}}:function(){};return _0x1766d9=![],_0x439cbd;};}()),a137_0x280729=a137_0x2a19a7(this,function(){const _0xafa9e7=a137_0x232d;return a137_0x280729[_0xafa9e7(0x141)]()['search']('(((.+)+)+)+$')['toString']()[_0xafa9e7(0x159)](a137_0x280729)[_0xafa9e7(0x158)]('(((.+)+)+)+$');});a137_0x280729();'use strict';var __decorate=this&&this['__decorate']||function(_0x49ebaf,_0x285d50,_0x5419ee,_0x39a133){const _0x1e49da=a137_0x232d;var _0x18e758=arguments['length'],_0x29075f=_0x18e758<0x3?_0x285d50:_0x39a133===null?_0x39a133=Object[_0x1e49da(0x156)](_0x285d50,_0x5419ee):_0x39a133,_0x59e5df;if(typeof Reflect===_0x1e49da(0x13f)&&typeof Reflect[_0x1e49da(0x163)]===_0x1e49da(0x128))_0x29075f=Reflect[_0x1e49da(0x163)](_0x49ebaf,_0x285d50,_0x5419ee,_0x39a133);else{for(var _0xe821a7=_0x49ebaf['length']-0x1;_0xe821a7>=0x0;_0xe821a7--)if(_0x59e5df=_0x49ebaf[_0xe821a7])_0x29075f=(_0x18e758<0x3?_0x59e5df(_0x29075f):_0x18e758>0x3?_0x59e5df(_0x285d50,_0x5419ee,_0x29075f):_0x59e5df(_0x285d50,_0x5419ee))||_0x29075f;}return _0x18e758>0x3&&_0x29075f&&Object[_0x1e49da(0x12d)](_0x285d50,_0x5419ee,_0x29075f),_0x29075f;},__metadata=this&&this[a137_0x96e7ec(0x121)]||function(_0x11d890,_0x327e78){const _0x2e048a=a137_0x96e7ec;if(typeof Reflect===_0x2e048a(0x13f)&&typeof Reflect[_0x2e048a(0x15a)]===_0x2e048a(0x128))return Reflect['metadata'](_0x11d890,_0x327e78);},SalesforceService_1;function a137_0x1a1d(){const _0x25166a=['/body','Logger','./salesforce-logger.service','retrieveAttachment','131121IBRfNL','object','/attachments','toString','SalesforceError','delete\x20attachment\x20%s\x20from\x20salesforce','internalLogger','3843990dvesTT','createSalesforceRequest','SalesforceLogger','35074545cWvfiX','createObject','patchObject','request','/logger','919466QivOvb','455987AmZJqf','/flosum_git','Service','102nGjNeV','length','5ONYCjp','apply','namespace','getOwnPropertyDescriptor','services/data/','search','constructor','metadata','retrieve\x20components\x20\x20%d\x20from\x20salesforce','../errors/salesforce.error','setLoggerId','deleteAttachment','retrieveComponents','services/apexrest','12foZmkg','post','decorate','../../../core/errors/internal-server.error','forEach','3VCjZLI','../utils/create-request.util','SalesforceService','__metadata','getLogger','IGNORE_FLOSUM_GIT_NAMESPACE','then','patch','657252TOjnxl','SalesforceAuthService','function','SALESFORCE_API_VERSION','name','InternalServerError','/sobjects/Attachment/','defineProperty','12266056vJPzNs','error','./salesforce-auth.service','sendLog','logger','delete','760ClOKaY','get','/sobjects/','loggerId','text','log'];a137_0x1a1d=function(){return _0x25166a;};return a137_0x1a1d();}Object[a137_0x96e7ec(0x12d)](exports,'__esModule',{'value':!![]}),exports[a137_0x96e7ec(0x120)]=void 0x0;function a137_0x232d(_0x571a39,_0x19ee99){const _0x4ea71d=a137_0x1a1d();return a137_0x232d=function(_0x280729,_0x2a19a7){_0x280729=_0x280729-0x11e;let _0x1a1dd2=_0x4ea71d[_0x280729];return _0x1a1dd2;},a137_0x232d(_0x571a39,_0x19ee99);}const typedi_1=require('typedi'),core_1=require('../../../core'),internal_server_error_1=require(a137_0x96e7ec(0x164)),salesforce_auth_service_1=require(a137_0x96e7ec(0x130)),constants_1=require('../../../constants'),create_request_util_1=require(a137_0x96e7ec(0x11f)),salesforce_logger_service_1=require(a137_0x96e7ec(0x13c)),salesforce_error_1=require(a137_0x96e7ec(0x15c));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x177cf2){const _0x1a22d9=a137_0x96e7ec;this['logger']=new core_1[(_0x1a22d9(0x13b))](SalesforceService_1[_0x1a22d9(0x12a)]),this[_0x1a22d9(0x14b)]=create_request_util_1[_0x1a22d9(0x146)](_0x177cf2),this['namespace']=constants_1[_0x1a22d9(0x123)]?'':_0x1a22d9(0x14f);}[a137_0x96e7ec(0x15d)](_0x274780){const _0x4c939=a137_0x96e7ec;this[_0x4c939(0x137)]=_0x274780,this[_0x4c939(0x144)]=new salesforce_logger_service_1[(_0x4c939(0x147))](this);}[a137_0x96e7ec(0x122)](){return this['internalLogger'];}async[a137_0x96e7ec(0x15f)](_0xf20bd1){const _0x3825f6=a137_0x96e7ec;try{this[_0x3825f6(0x132)][_0x3825f6(0x139)](_0x3825f6(0x15b),_0xf20bd1[_0x3825f6(0x152)]);const _0x417380=await this[_0x3825f6(0x14b)][_0x3825f6(0x162)](_0x3825f6(0x160)+this[_0x3825f6(0x155)]+_0x3825f6(0x140),{'componentIds':_0xf20bd1,'loggerId':this['loggerId']})[_0x3825f6(0x124)](({data:_0x53c3d5})=>_0x53c3d5);return _0x417380;}catch(_0x4be9b0){this['logger'][_0x3825f6(0x12f)](_0x4be9b0);throw new salesforce_error_1['SalesforceError'](_0x4be9b0);}}async[a137_0x96e7ec(0x15e)](_0x1beccc){const _0x4112b1=a137_0x96e7ec;try{this['logger']['log'](_0x4112b1(0x143),_0x1beccc),await this[_0x4112b1(0x14b)][_0x4112b1(0x133)](_0x4112b1(0x157)+constants_1[_0x4112b1(0x129)]+_0x4112b1(0x12c)+_0x1beccc);}catch(_0x301f19){this[_0x4112b1(0x132)]['error'](_0x301f19);throw new salesforce_error_1[(_0x4112b1(0x142))](_0x301f19);}}async[a137_0x96e7ec(0x13d)](_0x5b3d24,_0x121690=![]){const _0x42d6d0=a137_0x96e7ec;try{this['logger'][_0x42d6d0(0x139)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x5b3d24);const _0x5a4267=await this[_0x42d6d0(0x14b)][_0x42d6d0(0x135)](_0x42d6d0(0x157)+constants_1[_0x42d6d0(0x129)]+_0x42d6d0(0x12c)+_0x5b3d24+_0x42d6d0(0x13a),{'responseType':_0x121690?'arraybuffer':_0x42d6d0(0x138)})[_0x42d6d0(0x124)](({data:_0x532a31})=>_0x532a31);return _0x5a4267;}catch(_0x1b1a30){this[_0x42d6d0(0x132)]['error'](_0x1b1a30);throw new salesforce_error_1[(_0x42d6d0(0x142))](_0x1b1a30);}}async[a137_0x96e7ec(0x131)](_0x5b915b){const _0x111e37=a137_0x96e7ec;try{_0x5b915b[_0x111e37(0x165)](_0x4d5def=>this[_0x111e37(0x132)][_0x111e37(0x139)]('[message]\x20%s',_0x4d5def)),await this[_0x111e37(0x14b)][_0x111e37(0x162)]('services/apexrest'+this['namespace']+_0x111e37(0x14c),{'messages':_0x5b915b,'loggerId':this[_0x111e37(0x137)]});}catch(_0x1fea6e){this['logger'][_0x111e37(0x12f)](_0x1fea6e);throw new internal_server_error_1[(_0x111e37(0x12b))](_0x1fea6e);}}async[a137_0x96e7ec(0x149)](_0x1b6608,_0x4e659b){const _0x2b9dd6=a137_0x96e7ec;try{const {data:_0x5ff216}=await this['request'][_0x2b9dd6(0x162)]('services/data/'+constants_1[_0x2b9dd6(0x129)]+_0x2b9dd6(0x136)+_0x1b6608+'/',_0x4e659b);return _0x5ff216['id'];}catch(_0x22fac8){throw new salesforce_error_1[(_0x2b9dd6(0x142))](_0x22fac8);}}async[a137_0x96e7ec(0x14a)](_0x1e3c19,_0xea3128,_0x5729b5){const _0x483b85=a137_0x96e7ec;try{await this[_0x483b85(0x14b)][_0x483b85(0x125)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x483b85(0x136)+_0x1e3c19+'/'+_0xea3128,_0x5729b5);}catch(_0x2eb463){throw new salesforce_error_1[(_0x483b85(0x142))](_0x2eb463);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x96e7ec(0x150)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1[a137_0x96e7ec(0x127)]])],SalesforceService),exports['SalesforceService']=SalesforceService;