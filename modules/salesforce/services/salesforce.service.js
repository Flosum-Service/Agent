const a137_0x1b3f79=a137_0x2bec;(function(_0x5da8a0,_0x3c35c3){const _0x44025a=a137_0x2bec,_0x20a1be=_0x5da8a0();while(!![]){try{const _0x1d158e=parseInt(_0x44025a(0xe6))/0x1*(parseInt(_0x44025a(0x12e))/0x2)+parseInt(_0x44025a(0x114))/0x3*(-parseInt(_0x44025a(0x10f))/0x4)+parseInt(_0x44025a(0x10b))/0x5*(-parseInt(_0x44025a(0x129))/0x6)+-parseInt(_0x44025a(0xfc))/0x7+-parseInt(_0x44025a(0x110))/0x8*(-parseInt(_0x44025a(0x124))/0x9)+parseInt(_0x44025a(0x116))/0xa*(-parseInt(_0x44025a(0x10e))/0xb)+parseInt(_0x44025a(0xf2))/0xc*(parseInt(_0x44025a(0x123))/0xd);if(_0x1d158e===_0x3c35c3)break;else _0x20a1be['push'](_0x20a1be['shift']());}catch(_0x1e9e83){_0x20a1be['push'](_0x20a1be['shift']());}}}(a137_0x519a,0x607ed));const a137_0x116f0b=(function(){let _0x3231ff=!![];return function(_0x29bd17,_0x376767){const _0x2301a7=_0x3231ff?function(){const _0x1f297b=a137_0x2bec;if(_0x376767){const _0x18088a=_0x376767[_0x1f297b(0xec)](_0x29bd17,arguments);return _0x376767=null,_0x18088a;}}:function(){};return _0x3231ff=![],_0x2301a7;};}()),a137_0x39eeb7=a137_0x116f0b(this,function(){const _0x189da5=a137_0x2bec;return a137_0x39eeb7[_0x189da5(0x11c)]()[_0x189da5(0x10d)](_0x189da5(0xfe))['toString']()[_0x189da5(0xfa)](a137_0x39eeb7)[_0x189da5(0x10d)](_0x189da5(0xfe));});function a137_0x519a(){const _0x147ec9=['sendLog','error','6jZqwbt','__decorate','./salesforce-logger.service','retrieveAttachment','patchObject','752FnggJI','1008eSgfXe','retrieveComponents','then','name','design:paramtypes','/sobjects/','apply','patch','delete','/body','/attachments','arraybuffer','12ukeRAU','namespace','delete\x20attachment\x20%s\x20from\x20salesforce','getOwnPropertyDescriptor','length','retrieve\x20attachment\x20%s\x20from\x20salesforce','text','Service','constructor','/logger','1053962UwHNpT','SalesforceError','(((.+)+)+)+$','log','createSalesforceRequest','[message]\x20%s','__metadata','createObject','SalesforceLogger','../utils/create-request.util','logger','./salesforce-auth.service','post','services/apexrest','../errors/salesforce.error','922935LIYcRx','typedi','search','1469413KBUWAk','23032ipMePs','48eIgECf','services/data/','metadata','defineProperty','315NiowUm','/flosum_git','50CqPWie','request','internalLogger','__esModule','../../../constants','getLogger','toString','deleteAttachment','../../../core','function','get','/sobjects/Attachment/','SalesforceAuthService','17977609WKPaeC','361503uogqBL','SALESFORCE_API_VERSION','forEach'];a137_0x519a=function(){return _0x147ec9;};return a137_0x519a();}a137_0x39eeb7();'use strict';var __decorate=this&&this[a137_0x1b3f79(0x12a)]||function(_0xc5d0bb,_0x1f895c,_0x3a5be3,_0x3ad58c){const _0x42b2cb=a137_0x1b3f79;var _0x563058=arguments[_0x42b2cb(0xf6)],_0x4b9731=_0x563058<0x3?_0x1f895c:_0x3ad58c===null?_0x3ad58c=Object[_0x42b2cb(0xf5)](_0x1f895c,_0x3a5be3):_0x3ad58c,_0x5d49d7;if(typeof Reflect==='object'&&typeof Reflect['decorate']===_0x42b2cb(0x11f))_0x4b9731=Reflect['decorate'](_0xc5d0bb,_0x1f895c,_0x3a5be3,_0x3ad58c);else{for(var _0x5a4e09=_0xc5d0bb['length']-0x1;_0x5a4e09>=0x0;_0x5a4e09--)if(_0x5d49d7=_0xc5d0bb[_0x5a4e09])_0x4b9731=(_0x563058<0x3?_0x5d49d7(_0x4b9731):_0x563058>0x3?_0x5d49d7(_0x1f895c,_0x3a5be3,_0x4b9731):_0x5d49d7(_0x1f895c,_0x3a5be3))||_0x4b9731;}return _0x563058>0x3&&_0x4b9731&&Object[_0x42b2cb(0x113)](_0x1f895c,_0x3a5be3,_0x4b9731),_0x4b9731;},__metadata=this&&this[a137_0x1b3f79(0x102)]||function(_0x590c74,_0x42b356){const _0x5db259=a137_0x1b3f79;if(typeof Reflect==='object'&&typeof Reflect[_0x5db259(0x112)]===_0x5db259(0x11f))return Reflect['metadata'](_0x590c74,_0x42b356);},SalesforceService_1;Object[a137_0x1b3f79(0x113)](exports,a137_0x1b3f79(0x119),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require(a137_0x1b3f79(0x10c)),core_1=require(a137_0x1b3f79(0x11e)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a137_0x1b3f79(0x107)),constants_1=require(a137_0x1b3f79(0x11a)),create_request_util_1=require(a137_0x1b3f79(0x105)),salesforce_logger_service_1=require(a137_0x1b3f79(0x12b)),salesforce_error_1=require(a137_0x1b3f79(0x10a));function a137_0x2bec(_0x30ecda,_0x2499b4){const _0x3ee368=a137_0x519a();return a137_0x2bec=function(_0x39eeb7,_0x116f0b){_0x39eeb7=_0x39eeb7-0xe6;let _0x519a86=_0x3ee368[_0x39eeb7];return _0x519a86;},a137_0x2bec(_0x30ecda,_0x2499b4);}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x3367a8){const _0x999d11=a137_0x1b3f79;this[_0x999d11(0x106)]=new core_1['Logger'](SalesforceService_1[_0x999d11(0xe9)]),this[_0x999d11(0x117)]=create_request_util_1[_0x999d11(0x100)](_0x3367a8),this[_0x999d11(0xf3)]=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x999d11(0x115);}['setLoggerId'](_0x4596bf){const _0x29180c=a137_0x1b3f79;this['loggerId']=_0x4596bf,this['internalLogger']=new salesforce_logger_service_1[(_0x29180c(0x104))](this);}[a137_0x1b3f79(0x11b)](){const _0x25b075=a137_0x1b3f79;return this[_0x25b075(0x118)];}async[a137_0x1b3f79(0xe7)](_0x2c2fe9){const _0x56b6fd=a137_0x1b3f79;try{this[_0x56b6fd(0x106)][_0x56b6fd(0xff)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x2c2fe9[_0x56b6fd(0xf6)]);const _0x42fdc4=await this['request'][_0x56b6fd(0x108)](_0x56b6fd(0x109)+this['namespace']+_0x56b6fd(0xf0),{'componentIds':_0x2c2fe9,'loggerId':this['loggerId']})[_0x56b6fd(0xe8)](({data:_0x1d82f9})=>_0x1d82f9);return _0x42fdc4;}catch(_0x20cbbd){this[_0x56b6fd(0x106)][_0x56b6fd(0x128)](_0x20cbbd);throw new salesforce_error_1['SalesforceError'](_0x20cbbd);}}async[a137_0x1b3f79(0x11d)](_0x3f30cb){const _0x253b34=a137_0x1b3f79;try{this[_0x253b34(0x106)]['log'](_0x253b34(0xf4),_0x3f30cb),await this[_0x253b34(0x117)][_0x253b34(0xee)](_0x253b34(0x111)+constants_1[_0x253b34(0x125)]+_0x253b34(0x121)+_0x3f30cb);}catch(_0x24d001){this[_0x253b34(0x106)][_0x253b34(0x128)](_0x24d001);throw new salesforce_error_1[(_0x253b34(0xfd))](_0x24d001);}}async[a137_0x1b3f79(0x12c)](_0x42ae1e,_0x25af35=![]){const _0x17b82a=a137_0x1b3f79;try{this[_0x17b82a(0x106)][_0x17b82a(0xff)](_0x17b82a(0xf7),_0x42ae1e);const _0x13debc=await this[_0x17b82a(0x117)][_0x17b82a(0x120)](_0x17b82a(0x111)+constants_1[_0x17b82a(0x125)]+_0x17b82a(0x121)+_0x42ae1e+_0x17b82a(0xef),{'responseType':_0x25af35?_0x17b82a(0xf1):_0x17b82a(0xf8)})[_0x17b82a(0xe8)](({data:_0x59544e})=>_0x59544e);return _0x13debc;}catch(_0x54f37b){this['logger'][_0x17b82a(0x128)](_0x54f37b);throw new salesforce_error_1[(_0x17b82a(0xfd))](_0x54f37b);}}async[a137_0x1b3f79(0x127)](_0x286c1c){const _0x4b51f0=a137_0x1b3f79;try{_0x286c1c[_0x4b51f0(0x126)](_0x328a98=>this[_0x4b51f0(0x106)]['log'](_0x4b51f0(0x101),_0x328a98)),await this[_0x4b51f0(0x117)][_0x4b51f0(0x108)](_0x4b51f0(0x109)+this[_0x4b51f0(0xf3)]+_0x4b51f0(0xfb),{'messages':_0x286c1c,'loggerId':this['loggerId']});}catch(_0x30a658){this['logger'][_0x4b51f0(0x128)](_0x30a658);throw new internal_server_error_1['InternalServerError'](_0x30a658);}}async[a137_0x1b3f79(0x103)](_0x4b7edc,_0x5e8716){const _0x2fef35=a137_0x1b3f79;try{const {data:_0x42a03d}=await this[_0x2fef35(0x117)][_0x2fef35(0x108)](_0x2fef35(0x111)+constants_1['SALESFORCE_API_VERSION']+_0x2fef35(0xeb)+_0x4b7edc+'/',_0x5e8716);return _0x42a03d['id'];}catch(_0x585c54){throw new salesforce_error_1[(_0x2fef35(0xfd))](_0x585c54);}}async[a137_0x1b3f79(0x12d)](_0x5674fd,_0x5cbde3,_0x3934a1){const _0x210f4e=a137_0x1b3f79;try{await this['request'][_0x210f4e(0xed)]('services/data/'+constants_1[_0x210f4e(0x125)]+_0x210f4e(0xeb)+_0x5674fd+'/'+_0x5cbde3,_0x3934a1);}catch(_0x1cb1db){throw new salesforce_error_1[(_0x210f4e(0xfd))](_0x1cb1db);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x1b3f79(0xf9)]({'transient':!![]}),__metadata(a137_0x1b3f79(0xea),[salesforce_auth_service_1[a137_0x1b3f79(0x122)]])],SalesforceService),exports['SalesforceService']=SalesforceService;