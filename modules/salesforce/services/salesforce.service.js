const a137_0x5ad2db=a137_0x507b;(function(_0xf3ff03,_0x3d24c3){const _0x58cd84=a137_0x507b,_0x58250b=_0xf3ff03();while(!![]){try{const _0x4c08c1=parseInt(_0x58cd84(0x1c9))/0x1*(parseInt(_0x58cd84(0x1de))/0x2)+-parseInt(_0x58cd84(0x1d2))/0x3*(-parseInt(_0x58cd84(0x1f4))/0x4)+parseInt(_0x58cd84(0x1e8))/0x5+parseInt(_0x58cd84(0x1df))/0x6*(parseInt(_0x58cd84(0x1eb))/0x7)+parseInt(_0x58cd84(0x1d3))/0x8+-parseInt(_0x58cd84(0x1d7))/0x9+-parseInt(_0x58cd84(0x1e5))/0xa*(parseInt(_0x58cd84(0x1e6))/0xb);if(_0x4c08c1===_0x3d24c3)break;else _0x58250b['push'](_0x58250b['shift']());}catch(_0x3294ba){_0x58250b['push'](_0x58250b['shift']());}}}(a137_0x3df1,0x835ca));const a137_0x387d27=(function(){let _0x505a78=!![];return function(_0x3475ae,_0x6aef78){const _0x2ef75a=_0x505a78?function(){const _0x45b1ff=a137_0x507b;if(_0x6aef78){const _0x1d7645=_0x6aef78[_0x45b1ff(0x1f2)](_0x3475ae,arguments);return _0x6aef78=null,_0x1d7645;}}:function(){};return _0x505a78=![],_0x2ef75a;};}()),a137_0x5e0ead=a137_0x387d27(this,function(){const _0x13e97c=a137_0x507b;return a137_0x5e0ead[_0x13e97c(0x1d0)]()[_0x13e97c(0x1ed)](_0x13e97c(0x1f3))[_0x13e97c(0x1d0)]()[_0x13e97c(0x1d6)](a137_0x5e0ead)[_0x13e97c(0x1ed)](_0x13e97c(0x1f3));});a137_0x5e0ead();function a137_0x3df1(){const _0x132116=['/flosum_git','setLoggerId','91186vjdgzm','55194xbRWfh','retrieve\x20components\x20\x20%d\x20from\x20salesforce','__metadata','createObject','then','namespace','40TaxyDw','3766642QfiMhr','sendLog','3983125bWurBa','error','SalesforceLogger','210mgGLeR','getOwnPropertyDescriptor','search','text','typedi','metadata','./salesforce-logger.service','apply','(((.+)+)+)+$','8EkDByH','object','SalesforceError','../utils/create-request.util','IGNORE_FLOSUM_GIT_NAMESPACE','design:paramtypes','post','function','log','services/data/','patch','loggerId','forEach','logger','retrieveAttachment','Service','internalLogger','length','[message]\x20%s','/sobjects/Attachment/','request','delete','createSalesforceRequest','1GtEGoN','../errors/salesforce.error','decorate','./salesforce-auth.service','/attachments','SALESFORCE_API_VERSION','Logger','toString','SalesforceAuthService','1293138fexogU','5418128FficXD','/body','deleteAttachment','constructor','6748200BPIMQy','retrieveComponents','__decorate','SalesforceService','services/apexrest'];a137_0x3df1=function(){return _0x132116;};return a137_0x3df1();}'use strict';var __decorate=this&&this[a137_0x5ad2db(0x1d9)]||function(_0x188d7d,_0x255a20,_0x2554d5,_0x4abc9e){const _0x1302da=a137_0x5ad2db;var _0x217d25=arguments['length'],_0x38c2d4=_0x217d25<0x3?_0x255a20:_0x4abc9e===null?_0x4abc9e=Object[_0x1302da(0x1ec)](_0x255a20,_0x2554d5):_0x4abc9e,_0x2e312e;if(typeof Reflect===_0x1302da(0x1f5)&&typeof Reflect[_0x1302da(0x1cb)]===_0x1302da(0x1fb))_0x38c2d4=Reflect['decorate'](_0x188d7d,_0x255a20,_0x2554d5,_0x4abc9e);else{for(var _0x134cde=_0x188d7d[_0x1302da(0x205)]-0x1;_0x134cde>=0x0;_0x134cde--)if(_0x2e312e=_0x188d7d[_0x134cde])_0x38c2d4=(_0x217d25<0x3?_0x2e312e(_0x38c2d4):_0x217d25>0x3?_0x2e312e(_0x255a20,_0x2554d5,_0x38c2d4):_0x2e312e(_0x255a20,_0x2554d5))||_0x38c2d4;}return _0x217d25>0x3&&_0x38c2d4&&Object['defineProperty'](_0x255a20,_0x2554d5,_0x38c2d4),_0x38c2d4;},__metadata=this&&this[a137_0x5ad2db(0x1e1)]||function(_0x137605,_0x2fada7){const _0x5de29e=a137_0x5ad2db;if(typeof Reflect===_0x5de29e(0x1f5)&&typeof Reflect['metadata']===_0x5de29e(0x1fb))return Reflect[_0x5de29e(0x1f0)](_0x137605,_0x2fada7);},SalesforceService_1;Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a137_0x5ad2db(0x1da)]=void 0x0;function a137_0x507b(_0x105272,_0x56ee3f){const _0x26179d=a137_0x3df1();return a137_0x507b=function(_0x5e0ead,_0x387d27){_0x5e0ead=_0x5e0ead-0x1c5;let _0x3df10e=_0x26179d[_0x5e0ead];return _0x3df10e;},a137_0x507b(_0x105272,_0x56ee3f);}const typedi_1=require(a137_0x5ad2db(0x1ef)),core_1=require('../../../core'),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a137_0x5ad2db(0x1cc)),constants_1=require('../../../constants'),create_request_util_1=require(a137_0x5ad2db(0x1f7)),salesforce_logger_service_1=require(a137_0x5ad2db(0x1f1)),salesforce_error_1=require(a137_0x5ad2db(0x1ca));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x17503a){const _0x4a2b97=a137_0x5ad2db;this['logger']=new core_1[(_0x4a2b97(0x1cf))](SalesforceService_1['name']),this[_0x4a2b97(0x1c6)]=create_request_util_1[_0x4a2b97(0x1c8)](_0x17503a),this[_0x4a2b97(0x1e4)]=constants_1[_0x4a2b97(0x1f8)]?'':_0x4a2b97(0x1dc);}[a137_0x5ad2db(0x1dd)](_0x22d89d){const _0x255147=a137_0x5ad2db;this[_0x255147(0x1ff)]=_0x22d89d,this['internalLogger']=new salesforce_logger_service_1[(_0x255147(0x1ea))](this);}['getLogger'](){const _0x30429b=a137_0x5ad2db;return this[_0x30429b(0x204)];}async[a137_0x5ad2db(0x1d8)](_0x3629d4){const _0x10f022=a137_0x5ad2db;try{this['logger']['log'](_0x10f022(0x1e0),_0x3629d4[_0x10f022(0x205)]);const _0x3ee2f1=await this[_0x10f022(0x1c6)][_0x10f022(0x1fa)](_0x10f022(0x1db)+this[_0x10f022(0x1e4)]+_0x10f022(0x1cd),{'componentIds':_0x3629d4,'loggerId':this[_0x10f022(0x1ff)]})['then'](({data:_0x37723f})=>_0x37723f);return _0x3ee2f1;}catch(_0x409d38){this['logger'][_0x10f022(0x1e9)](_0x409d38);throw new salesforce_error_1[(_0x10f022(0x1f6))](_0x409d38);}}async[a137_0x5ad2db(0x1d5)](_0x3791c6){const _0x453daf=a137_0x5ad2db;try{this['logger'][_0x453daf(0x1fc)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x3791c6),await this[_0x453daf(0x1c6)][_0x453daf(0x1c7)]('services/data/'+constants_1[_0x453daf(0x1ce)]+_0x453daf(0x1c5)+_0x3791c6);}catch(_0x254f36){this['logger'][_0x453daf(0x1e9)](_0x254f36);throw new salesforce_error_1[(_0x453daf(0x1f6))](_0x254f36);}}async[a137_0x5ad2db(0x202)](_0x1a8097,_0x1fbd22=![]){const _0x1b0c48=a137_0x5ad2db;try{this['logger'][_0x1b0c48(0x1fc)]('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x1a8097);const _0x4baa9d=await this[_0x1b0c48(0x1c6)]['get'](_0x1b0c48(0x1fd)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/Attachment/'+_0x1a8097+_0x1b0c48(0x1d4),{'responseType':_0x1fbd22?'arraybuffer':_0x1b0c48(0x1ee)})[_0x1b0c48(0x1e3)](({data:_0x36ef32})=>_0x36ef32);return _0x4baa9d;}catch(_0x1afe85){this['logger'][_0x1b0c48(0x1e9)](_0x1afe85);throw new salesforce_error_1['SalesforceError'](_0x1afe85);}}async[a137_0x5ad2db(0x1e7)](_0x4f75e4){const _0x25f425=a137_0x5ad2db;try{_0x4f75e4[_0x25f425(0x200)](_0x1684b3=>this[_0x25f425(0x201)][_0x25f425(0x1fc)](_0x25f425(0x206),_0x1684b3)),await this['request'][_0x25f425(0x1fa)]('services/apexrest'+this[_0x25f425(0x1e4)]+'/logger',{'messages':_0x4f75e4,'loggerId':this[_0x25f425(0x1ff)]});}catch(_0x7b9bae){this[_0x25f425(0x201)][_0x25f425(0x1e9)](_0x7b9bae);throw new internal_server_error_1['InternalServerError'](_0x7b9bae);}}async[a137_0x5ad2db(0x1e2)](_0x4685ad,_0xdfe61){const _0x4cd2ee=a137_0x5ad2db;try{const {data:_0x4f0988}=await this['request'][_0x4cd2ee(0x1fa)](_0x4cd2ee(0x1fd)+constants_1[_0x4cd2ee(0x1ce)]+'/sobjects/'+_0x4685ad+'/',_0xdfe61);return _0x4f0988['id'];}catch(_0x246b81){throw new salesforce_error_1['SalesforceError'](_0x246b81);}}async['patchObject'](_0x4f2a43,_0xb43508,_0x32c423){const _0x109989=a137_0x5ad2db;try{await this[_0x109989(0x1c6)][_0x109989(0x1fe)](_0x109989(0x1fd)+constants_1[_0x109989(0x1ce)]+'/sobjects/'+_0x4f2a43+'/'+_0xb43508,_0x32c423);}catch(_0x142ce7){throw new salesforce_error_1['SalesforceError'](_0x142ce7);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x5ad2db(0x203)]({'transient':!![]}),__metadata(a137_0x5ad2db(0x1f9),[salesforce_auth_service_1[a137_0x5ad2db(0x1d1)]])],SalesforceService),exports[a137_0x5ad2db(0x1da)]=SalesforceService;