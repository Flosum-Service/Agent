const a137_0x5e1fcc=a137_0x1ca9;function a137_0x4c83(){const _0x1ebf7d=['loggerId','SalesforceLogger','metadata','patch','Logger','function','constructor','object','retrieve\x20components\x20\x20%d\x20from\x20salesforce','200494RyhbGj','InternalServerError','design:paramtypes','/sobjects/','5259510UZuDzu','toString','namespace','SalesforceService','/body','/attachments','66qhMZIZ','../errors/salesforce.error','error','[message]\x20%s','forEach','patchObject','request','__decorate','getOwnPropertyDescriptor','typedi','delete','11772DYiqqd','__esModule','createSalesforceRequest','2201937vFwtiW','/sobjects/Attachment/','text','setLoggerId','services/data/','5782964YzlOPu','length','delete\x20attachment\x20%s\x20from\x20salesforce','163546sBBqRy','5472wRHWPj','/flosum_git','then','getLogger','logger','(((.+)+)+)+$','retrieveComponents','728685isuOdf','get','search','Service','defineProperty','internalLogger','createObject','2rMlnSK','4JaoyUz','decorate','log','SALESFORCE_API_VERSION','SalesforceAuthService','services/apexrest','post','retrieve\x20attachment\x20%s\x20from\x20salesforce','IGNORE_FLOSUM_GIT_NAMESPACE','/logger','__metadata','SalesforceError','../../../core'];a137_0x4c83=function(){return _0x1ebf7d;};return a137_0x4c83();}(function(_0x5058b9,_0x2dbbd9){const _0x274012=a137_0x1ca9,_0x6b26ad=_0x5058b9();while(!![]){try{const _0x1078f5=parseInt(_0x274012(0xc2))/0x1*(-parseInt(_0x274012(0xb3))/0x2)+-parseInt(_0x274012(0xab))/0x3+parseInt(_0x274012(0xc3))/0x4*(parseInt(_0x274012(0xbb))/0x5)+-parseInt(_0x274012(0x9d))/0x6*(-parseInt(_0x274012(0xd9))/0x7)+-parseInt(_0x274012(0xb4))/0x8*(-parseInt(_0x274012(0xa8))/0x9)+-parseInt(_0x274012(0xdd))/0xa+parseInt(_0x274012(0xb0))/0xb;if(_0x1078f5===_0x2dbbd9)break;else _0x6b26ad['push'](_0x6b26ad['shift']());}catch(_0x151093){_0x6b26ad['push'](_0x6b26ad['shift']());}}}(a137_0x4c83,0x6fbf7));const a137_0x3862d6=(function(){let _0x5327ab=!![];return function(_0x2ed6c2,_0xdb3ff1){const _0x1a1217=_0x5327ab?function(){if(_0xdb3ff1){const _0x1d5e23=_0xdb3ff1['apply'](_0x2ed6c2,arguments);return _0xdb3ff1=null,_0x1d5e23;}}:function(){};return _0x5327ab=![],_0x1a1217;};}()),a137_0x5d21d6=a137_0x3862d6(this,function(){const _0x5bf0b4=a137_0x1ca9;return a137_0x5d21d6[_0x5bf0b4(0xde)]()['search'](_0x5bf0b4(0xb9))[_0x5bf0b4(0xde)]()[_0x5bf0b4(0xd6)](a137_0x5d21d6)[_0x5bf0b4(0xbd)](_0x5bf0b4(0xb9));});a137_0x5d21d6();'use strict';var __decorate=this&&this[a137_0x5e1fcc(0xa4)]||function(_0x2f73a5,_0x4a1e18,_0xca4d8,_0x274d22){const _0x20a84c=a137_0x5e1fcc;var _0x5cbff8=arguments[_0x20a84c(0xb1)],_0x73baf5=_0x5cbff8<0x3?_0x4a1e18:_0x274d22===null?_0x274d22=Object[_0x20a84c(0xa5)](_0x4a1e18,_0xca4d8):_0x274d22,_0xe17aa8;if(typeof Reflect==='object'&&typeof Reflect[_0x20a84c(0xc4)]===_0x20a84c(0xd5))_0x73baf5=Reflect[_0x20a84c(0xc4)](_0x2f73a5,_0x4a1e18,_0xca4d8,_0x274d22);else{for(var _0x4edd87=_0x2f73a5['length']-0x1;_0x4edd87>=0x0;_0x4edd87--)if(_0xe17aa8=_0x2f73a5[_0x4edd87])_0x73baf5=(_0x5cbff8<0x3?_0xe17aa8(_0x73baf5):_0x5cbff8>0x3?_0xe17aa8(_0x4a1e18,_0xca4d8,_0x73baf5):_0xe17aa8(_0x4a1e18,_0xca4d8))||_0x73baf5;}return _0x5cbff8>0x3&&_0x73baf5&&Object[_0x20a84c(0xbf)](_0x4a1e18,_0xca4d8,_0x73baf5),_0x73baf5;},__metadata=this&&this[a137_0x5e1fcc(0xcd)]||function(_0x505caf,_0x2f09c2){const _0x41ffad=a137_0x5e1fcc;if(typeof Reflect===_0x41ffad(0xd7)&&typeof Reflect[_0x41ffad(0xd2)]===_0x41ffad(0xd5))return Reflect[_0x41ffad(0xd2)](_0x505caf,_0x2f09c2);},SalesforceService_1;Object[a137_0x5e1fcc(0xbf)](exports,a137_0x5e1fcc(0xa9),{'value':!![]}),exports['SalesforceService']=void 0x0;function a137_0x1ca9(_0x3aa21a,_0x5bd308){const _0x5f5ca3=a137_0x4c83();return a137_0x1ca9=function(_0x5d21d6,_0x3862d6){_0x5d21d6=_0x5d21d6-0x9c;let _0x4c83c9=_0x5f5ca3[_0x5d21d6];return _0x4c83c9;},a137_0x1ca9(_0x3aa21a,_0x5bd308);}const typedi_1=require(a137_0x5e1fcc(0xa6)),core_1=require(a137_0x5e1fcc(0xcf)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require('../../../constants'),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require(a137_0x5e1fcc(0x9e));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4c3ace){const _0x216302=a137_0x5e1fcc;this['logger']=new core_1[(_0x216302(0xd4))](SalesforceService_1['name']),this[_0x216302(0xa3)]=create_request_util_1[_0x216302(0xaa)](_0x4c3ace),this[_0x216302(0xdf)]=constants_1[_0x216302(0xcb)]?'':_0x216302(0xb5);}[a137_0x5e1fcc(0xae)](_0x352c25){const _0x1055aa=a137_0x5e1fcc;this[_0x1055aa(0xd0)]=_0x352c25,this['internalLogger']=new salesforce_logger_service_1[(_0x1055aa(0xd1))](this);}[a137_0x5e1fcc(0xb7)](){const _0x1582b1=a137_0x5e1fcc;return this[_0x1582b1(0xc0)];}async[a137_0x5e1fcc(0xba)](_0x5852c4){const _0x55cd7b=a137_0x5e1fcc;try{this['logger'][_0x55cd7b(0xc5)](_0x55cd7b(0xd8),_0x5852c4[_0x55cd7b(0xb1)]);const _0x2d7834=await this[_0x55cd7b(0xa3)][_0x55cd7b(0xc9)](_0x55cd7b(0xc8)+this[_0x55cd7b(0xdf)]+_0x55cd7b(0x9c),{'componentIds':_0x5852c4,'loggerId':this['loggerId']})[_0x55cd7b(0xb6)](({data:_0x1e761b})=>_0x1e761b);return _0x2d7834;}catch(_0x1dd77a){this[_0x55cd7b(0xb8)]['error'](_0x1dd77a);throw new salesforce_error_1[(_0x55cd7b(0xce))](_0x1dd77a);}}async['deleteAttachment'](_0x404df8){const _0x32dbb9=a137_0x5e1fcc;try{this[_0x32dbb9(0xb8)][_0x32dbb9(0xc5)](_0x32dbb9(0xb2),_0x404df8),await this[_0x32dbb9(0xa3)][_0x32dbb9(0xa7)](_0x32dbb9(0xaf)+constants_1[_0x32dbb9(0xc6)]+_0x32dbb9(0xac)+_0x404df8);}catch(_0x2b2938){this['logger']['error'](_0x2b2938);throw new salesforce_error_1['SalesforceError'](_0x2b2938);}}async['retrieveAttachment'](_0x523dfa,_0x32a495=![]){const _0x4c7ff0=a137_0x5e1fcc;try{this[_0x4c7ff0(0xb8)]['log'](_0x4c7ff0(0xca),_0x523dfa);const _0x11fffc=await this[_0x4c7ff0(0xa3)][_0x4c7ff0(0xbc)](_0x4c7ff0(0xaf)+constants_1['SALESFORCE_API_VERSION']+_0x4c7ff0(0xac)+_0x523dfa+_0x4c7ff0(0xe1),{'responseType':_0x32a495?'arraybuffer':_0x4c7ff0(0xad)})['then'](({data:_0x3460db})=>_0x3460db);return _0x11fffc;}catch(_0x28c2fa){this['logger'][_0x4c7ff0(0x9f)](_0x28c2fa);throw new salesforce_error_1[(_0x4c7ff0(0xce))](_0x28c2fa);}}async['sendLog'](_0x2647ef){const _0x1542d2=a137_0x5e1fcc;try{_0x2647ef[_0x1542d2(0xa1)](_0x3f28b1=>this[_0x1542d2(0xb8)][_0x1542d2(0xc5)](_0x1542d2(0xa0),_0x3f28b1)),await this[_0x1542d2(0xa3)]['post'](_0x1542d2(0xc8)+this[_0x1542d2(0xdf)]+_0x1542d2(0xcc),{'messages':_0x2647ef,'loggerId':this[_0x1542d2(0xd0)]});}catch(_0x29d5f8){this[_0x1542d2(0xb8)][_0x1542d2(0x9f)](_0x29d5f8);throw new internal_server_error_1[(_0x1542d2(0xda))](_0x29d5f8);}}async[a137_0x5e1fcc(0xc1)](_0x2e0087,_0x256689){const _0x1ac5bf=a137_0x5e1fcc;try{const {data:_0x38dfad}=await this[_0x1ac5bf(0xa3)][_0x1ac5bf(0xc9)](_0x1ac5bf(0xaf)+constants_1[_0x1ac5bf(0xc6)]+_0x1ac5bf(0xdc)+_0x2e0087+'/',_0x256689);return _0x38dfad['id'];}catch(_0x591ea1){throw new salesforce_error_1[(_0x1ac5bf(0xce))](_0x591ea1);}}async[a137_0x5e1fcc(0xa2)](_0x24f2fb,_0x614f5a,_0x1e4bf9){const _0x5f559f=a137_0x5e1fcc;try{await this['request'][_0x5f559f(0xd3)](_0x5f559f(0xaf)+constants_1[_0x5f559f(0xc6)]+_0x5f559f(0xdc)+_0x24f2fb+'/'+_0x614f5a,_0x1e4bf9);}catch(_0x2de5b9){throw new salesforce_error_1[(_0x5f559f(0xce))](_0x2de5b9);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x5e1fcc(0xbe)]({'transient':!![]}),__metadata(a137_0x5e1fcc(0xdb),[salesforce_auth_service_1[a137_0x5e1fcc(0xc7)]])],SalesforceService),exports[a137_0x5e1fcc(0xe0)]=SalesforceService;