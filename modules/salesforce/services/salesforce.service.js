const a137_0x2c16d3=a137_0x2c81;function a137_0x2c81(_0x239eba,_0x11bff1){const _0x4011ab=a137_0x3bc4();return a137_0x2c81=function(_0xbb2f4f,_0x5e17b0){_0xbb2f4f=_0xbb2f4f-0x114;let _0x3bc48e=_0x4011ab[_0xbb2f4f];return _0x3bc48e;},a137_0x2c81(_0x239eba,_0x11bff1);}(function(_0x13c4b1,_0x30107d){const _0x204566=a137_0x2c81,_0x457bcd=_0x13c4b1();while(!![]){try{const _0x4006d5=-parseInt(_0x204566(0x129))/0x1*(parseInt(_0x204566(0x145))/0x2)+parseInt(_0x204566(0x150))/0x3+-parseInt(_0x204566(0x118))/0x4*(parseInt(_0x204566(0x125))/0x5)+parseInt(_0x204566(0x142))/0x6+parseInt(_0x204566(0x11c))/0x7+parseInt(_0x204566(0x14e))/0x8+parseInt(_0x204566(0x12a))/0x9*(-parseInt(_0x204566(0x117))/0xa);if(_0x4006d5===_0x30107d)break;else _0x457bcd['push'](_0x457bcd['shift']());}catch(_0x12394e){_0x457bcd['push'](_0x457bcd['shift']());}}}(a137_0x3bc4,0x63dc3));function a137_0x3bc4(){const _0x807cb4=['sendLog','SALESFORCE_API_VERSION','length','3680761NGQVHs','delete','/flosum_git','SalesforceLogger','namespace','__metadata','SalesforceError','../../../constants','retrieve\x20attachment\x20%s\x20from\x20salesforce','25BzcQPZ','/sobjects/Attachment/','text','createSalesforceRequest','422zRkUUo','18gTLxFy','defineProperty','SalesforceAuthService','getLogger','[message]\x20%s','/body','retrieve\x20components\x20\x20%d\x20from\x20salesforce','retrieveAttachment','/attachments','createObject','Service','SalesforceService','decorate','patchObject','post','typedi','constructor','then','get','apply','./salesforce-logger.service','request','loggerId','design:paramtypes','3045954ECdjcB','/sobjects/','object','3372cSAcQN','./salesforce-auth.service','../errors/salesforce.error','__esModule','logger','../utils/create-request.util','__decorate','patch','function','5742328mIjUon','(((.+)+)+)+$','545559FJCNyT','forEach','log','error','internalLogger','services/apexrest','3500160lbCVcU','90060JvxWYs'];a137_0x3bc4=function(){return _0x807cb4;};return a137_0x3bc4();}const a137_0x5e17b0=(function(){let _0x4275ca=!![];return function(_0x275867,_0x112c4b){const _0x19ff99=_0x4275ca?function(){const _0x11a7f5=a137_0x2c81;if(_0x112c4b){const _0x1b95ae=_0x112c4b[_0x11a7f5(0x13d)](_0x275867,arguments);return _0x112c4b=null,_0x1b95ae;}}:function(){};return _0x4275ca=![],_0x19ff99;};}()),a137_0xbb2f4f=a137_0x5e17b0(this,function(){const _0x4a1ee1=a137_0x2c81;return a137_0xbb2f4f['toString']()['search'](_0x4a1ee1(0x14f))['toString']()[_0x4a1ee1(0x13a)](a137_0xbb2f4f)['search']('(((.+)+)+)+$');});a137_0xbb2f4f();'use strict';var __decorate=this&&this[a137_0x2c16d3(0x14b)]||function(_0x421ade,_0x269a1d,_0xeabc35,_0x2ae028){const _0x4e4969=a137_0x2c16d3;var _0x593c3b=arguments[_0x4e4969(0x11b)],_0x74ba9d=_0x593c3b<0x3?_0x269a1d:_0x2ae028===null?_0x2ae028=Object['getOwnPropertyDescriptor'](_0x269a1d,_0xeabc35):_0x2ae028,_0x1215de;if(typeof Reflect===_0x4e4969(0x144)&&typeof Reflect[_0x4e4969(0x136)]===_0x4e4969(0x14d))_0x74ba9d=Reflect['decorate'](_0x421ade,_0x269a1d,_0xeabc35,_0x2ae028);else{for(var _0x5cc23c=_0x421ade['length']-0x1;_0x5cc23c>=0x0;_0x5cc23c--)if(_0x1215de=_0x421ade[_0x5cc23c])_0x74ba9d=(_0x593c3b<0x3?_0x1215de(_0x74ba9d):_0x593c3b>0x3?_0x1215de(_0x269a1d,_0xeabc35,_0x74ba9d):_0x1215de(_0x269a1d,_0xeabc35))||_0x74ba9d;}return _0x593c3b>0x3&&_0x74ba9d&&Object[_0x4e4969(0x12b)](_0x269a1d,_0xeabc35,_0x74ba9d),_0x74ba9d;},__metadata=this&&this[a137_0x2c16d3(0x121)]||function(_0x2a3e1f,_0x5bd658){const _0xc17f70=a137_0x2c16d3;if(typeof Reflect===_0xc17f70(0x144)&&typeof Reflect['metadata']===_0xc17f70(0x14d))return Reflect['metadata'](_0x2a3e1f,_0x5bd658);},SalesforceService_1;Object['defineProperty'](exports,a137_0x2c16d3(0x148),{'value':!![]}),exports[a137_0x2c16d3(0x135)]=void 0x0;const typedi_1=require(a137_0x2c16d3(0x139)),core_1=require('../../../core'),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a137_0x2c16d3(0x146)),constants_1=require(a137_0x2c16d3(0x123)),create_request_util_1=require(a137_0x2c16d3(0x14a)),salesforce_logger_service_1=require(a137_0x2c16d3(0x13e)),salesforce_error_1=require(a137_0x2c16d3(0x147));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x2f4457){const _0x81cb42=a137_0x2c16d3;this['logger']=new core_1['Logger'](SalesforceService_1['name']),this[_0x81cb42(0x13f)]=create_request_util_1[_0x81cb42(0x128)](_0x2f4457),this['namespace']=constants_1['IGNORE_FLOSUM_GIT_NAMESPACE']?'':_0x81cb42(0x11e);}['setLoggerId'](_0x294466){const _0x51aac1=a137_0x2c16d3;this[_0x51aac1(0x140)]=_0x294466,this['internalLogger']=new salesforce_logger_service_1[(_0x51aac1(0x11f))](this);}[a137_0x2c16d3(0x12d)](){const _0x5994fc=a137_0x2c16d3;return this[_0x5994fc(0x115)];}async['retrieveComponents'](_0x16a9a0){const _0x3848fc=a137_0x2c16d3;try{this['logger'][_0x3848fc(0x152)](_0x3848fc(0x130),_0x16a9a0[_0x3848fc(0x11b)]);const _0x137de7=await this[_0x3848fc(0x13f)][_0x3848fc(0x138)](_0x3848fc(0x116)+this[_0x3848fc(0x120)]+_0x3848fc(0x132),{'componentIds':_0x16a9a0,'loggerId':this['loggerId']})[_0x3848fc(0x13b)](({data:_0x4c33f7})=>_0x4c33f7);return _0x137de7;}catch(_0x14ce0b){this[_0x3848fc(0x149)][_0x3848fc(0x114)](_0x14ce0b);throw new salesforce_error_1[(_0x3848fc(0x122))](_0x14ce0b);}}async['deleteAttachment'](_0x5e643e){const _0x40ffb0=a137_0x2c16d3;try{this[_0x40ffb0(0x149)]['log']('delete\x20attachment\x20%s\x20from\x20salesforce',_0x5e643e),await this[_0x40ffb0(0x13f)][_0x40ffb0(0x11d)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x40ffb0(0x126)+_0x5e643e);}catch(_0x22001e){this[_0x40ffb0(0x149)][_0x40ffb0(0x114)](_0x22001e);throw new salesforce_error_1[(_0x40ffb0(0x122))](_0x22001e);}}async[a137_0x2c16d3(0x131)](_0x1e979e,_0x28ac3b=![]){const _0x4f2abe=a137_0x2c16d3;try{this[_0x4f2abe(0x149)][_0x4f2abe(0x152)](_0x4f2abe(0x124),_0x1e979e);const _0xd9ea72=await this[_0x4f2abe(0x13f)][_0x4f2abe(0x13c)]('services/data/'+constants_1[_0x4f2abe(0x11a)]+'/sobjects/Attachment/'+_0x1e979e+_0x4f2abe(0x12f),{'responseType':_0x28ac3b?'arraybuffer':_0x4f2abe(0x127)})[_0x4f2abe(0x13b)](({data:_0x172f01})=>_0x172f01);return _0xd9ea72;}catch(_0x566b35){this['logger'][_0x4f2abe(0x114)](_0x566b35);throw new salesforce_error_1['SalesforceError'](_0x566b35);}}async[a137_0x2c16d3(0x119)](_0x44a62a){const _0x10ca4e=a137_0x2c16d3;try{_0x44a62a[_0x10ca4e(0x151)](_0x534675=>this[_0x10ca4e(0x149)][_0x10ca4e(0x152)](_0x10ca4e(0x12e),_0x534675)),await this[_0x10ca4e(0x13f)][_0x10ca4e(0x138)](_0x10ca4e(0x116)+this[_0x10ca4e(0x120)]+'/logger',{'messages':_0x44a62a,'loggerId':this['loggerId']});}catch(_0x276f64){this[_0x10ca4e(0x149)][_0x10ca4e(0x114)](_0x276f64);throw new internal_server_error_1['InternalServerError'](_0x276f64);}}async[a137_0x2c16d3(0x133)](_0x5a85df,_0x478b5a){const _0x6ccd0a=a137_0x2c16d3;try{const {data:_0x2ad5dd}=await this['request'][_0x6ccd0a(0x138)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x5a85df+'/',_0x478b5a);return _0x2ad5dd['id'];}catch(_0x2b6f92){throw new salesforce_error_1[(_0x6ccd0a(0x122))](_0x2b6f92);}}async[a137_0x2c16d3(0x137)](_0x516778,_0x567646,_0x3b8ac7){const _0x183eb9=a137_0x2c16d3;try{await this[_0x183eb9(0x13f)][_0x183eb9(0x14c)]('services/data/'+constants_1['SALESFORCE_API_VERSION']+_0x183eb9(0x143)+_0x516778+'/'+_0x567646,_0x3b8ac7);}catch(_0x58b3f8){throw new salesforce_error_1[(_0x183eb9(0x122))](_0x58b3f8);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x2c16d3(0x134)]({'transient':!![]}),__metadata(a137_0x2c16d3(0x141),[salesforce_auth_service_1[a137_0x2c16d3(0x12c)]])],SalesforceService),exports['SalesforceService']=SalesforceService;