const a137_0x3afb1b=a137_0x15ca;(function(_0x199457,_0x4d88c7){const _0x1656b6=a137_0x15ca,_0x1de33c=_0x199457();while(!![]){try{const _0x207519=parseInt(_0x1656b6(0x135))/0x1*(-parseInt(_0x1656b6(0xfd))/0x2)+parseInt(_0x1656b6(0x105))/0x3+-parseInt(_0x1656b6(0x10b))/0x4+-parseInt(_0x1656b6(0x103))/0x5*(parseInt(_0x1656b6(0x117))/0x6)+parseInt(_0x1656b6(0x126))/0x7+-parseInt(_0x1656b6(0x11f))/0x8*(parseInt(_0x1656b6(0x12f))/0x9)+parseInt(_0x1656b6(0x129))/0xa;if(_0x207519===_0x4d88c7)break;else _0x1de33c['push'](_0x1de33c['shift']());}catch(_0x3441c6){_0x1de33c['push'](_0x1de33c['shift']());}}}(a137_0x274d,0x67c6c));const a137_0x30ea23=(function(){let _0x19566b=!![];return function(_0x199d62,_0x205192){const _0x691fdb=_0x19566b?function(){const _0x5f2731=a137_0x15ca;if(_0x205192){const _0x49f450=_0x205192[_0x5f2731(0x12c)](_0x199d62,arguments);return _0x205192=null,_0x49f450;}}:function(){};return _0x19566b=![],_0x691fdb;};}()),a137_0x15ba13=a137_0x30ea23(this,function(){const _0x20fa39=a137_0x15ca;return a137_0x15ba13[_0x20fa39(0x121)]()[_0x20fa39(0x123)](_0x20fa39(0x130))['toString']()[_0x20fa39(0x104)](a137_0x15ba13)[_0x20fa39(0x123)](_0x20fa39(0x130));});a137_0x15ba13();'use strict';var __decorate=this&&this[a137_0x3afb1b(0x122)]||function(_0x574de5,_0x39bcfc,_0x100139,_0x4124a1){const _0x34788e=a137_0x3afb1b;var _0x59dee7=arguments['length'],_0x20c761=_0x59dee7<0x3?_0x39bcfc:_0x4124a1===null?_0x4124a1=Object[_0x34788e(0x102)](_0x39bcfc,_0x100139):_0x4124a1,_0x2581ad;if(typeof Reflect===_0x34788e(0x138)&&typeof Reflect[_0x34788e(0x128)]===_0x34788e(0x110))_0x20c761=Reflect['decorate'](_0x574de5,_0x39bcfc,_0x100139,_0x4124a1);else{for(var _0x2d16bd=_0x574de5[_0x34788e(0x119)]-0x1;_0x2d16bd>=0x0;_0x2d16bd--)if(_0x2581ad=_0x574de5[_0x2d16bd])_0x20c761=(_0x59dee7<0x3?_0x2581ad(_0x20c761):_0x59dee7>0x3?_0x2581ad(_0x39bcfc,_0x100139,_0x20c761):_0x2581ad(_0x39bcfc,_0x100139))||_0x20c761;}return _0x59dee7>0x3&&_0x20c761&&Object[_0x34788e(0x125)](_0x39bcfc,_0x100139,_0x20c761),_0x20c761;},__metadata=this&&this['__metadata']||function(_0xc94c87,_0x1ecc46){const _0x2851f9=a137_0x3afb1b;if(typeof Reflect==='object'&&typeof Reflect[_0x2851f9(0xf9)]===_0x2851f9(0x110))return Reflect['metadata'](_0xc94c87,_0x1ecc46);},SalesforceService_1;Object['defineProperty'](exports,a137_0x3afb1b(0x12a),{'value':!![]}),exports[a137_0x3afb1b(0x116)]=void 0x0;const typedi_1=require(a137_0x3afb1b(0x118)),core_1=require('../../../core'),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require(a137_0x3afb1b(0x137)),create_request_util_1=require(a137_0x3afb1b(0x10e)),salesforce_logger_service_1=require(a137_0x3afb1b(0x13d)),salesforce_error_1=require(a137_0x3afb1b(0x11d));function a137_0x15ca(_0x372327,_0x51a2bc){const _0x29b7cc=a137_0x274d();return a137_0x15ca=function(_0x15ba13,_0x30ea23){_0x15ba13=_0x15ba13-0xf9;let _0x274db5=_0x29b7cc[_0x15ba13];return _0x274db5;},a137_0x15ca(_0x372327,_0x51a2bc);}function a137_0x274d(){const _0x135cdc=['delete','request','getLogger','54632OrIKgB','retrieve\x20attachment\x20%s\x20from\x20salesforce','../../../constants','object','SalesforceError','Service','design:paramtypes','SALESFORCE_API_VERSION','./salesforce-logger.service','metadata','name','services/apexrest','internalLogger','8nOFvPe','/sobjects/Attachment/','forEach','namespace','patchObject','getOwnPropertyDescriptor','42205CxYjaW','constructor','1708863YURLhc','/attachments','post','createObject','error','services/data/','1159372BstHFS','SalesforceLogger','delete\x20attachment\x20%s\x20from\x20salesforce','../utils/create-request.util','then','function','get','text','/sobjects/','/flosum_git','log','SalesforceService','372JNRyUQ','typedi','length','logger','/body','patch','../errors/salesforce.error','loggerId','113344aatvXh','[message]\x20%s','toString','__decorate','search','retrieve\x20components\x20\x20%d\x20from\x20salesforce','defineProperty','5142683UtHjpS','IGNORE_FLOSUM_GIT_NAMESPACE','decorate','10025710nkiCCi','__esModule','arraybuffer','apply','createSalesforceRequest','sendLog','540sNZRlm','(((.+)+)+)+$','InternalServerError'];a137_0x274d=function(){return _0x135cdc;};return a137_0x274d();}let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x43bede){const _0x2a0464=a137_0x3afb1b;this[_0x2a0464(0x11a)]=new core_1['Logger'](SalesforceService_1[_0x2a0464(0xfa)]),this['request']=create_request_util_1[_0x2a0464(0x12d)](_0x43bede),this[_0x2a0464(0x100)]=constants_1[_0x2a0464(0x127)]?'':_0x2a0464(0x114);}['setLoggerId'](_0x58a17e){const _0x12211b=a137_0x3afb1b;this[_0x12211b(0x11e)]=_0x58a17e,this[_0x12211b(0xfc)]=new salesforce_logger_service_1[(_0x12211b(0x10c))](this);}[a137_0x3afb1b(0x134)](){return this['internalLogger'];}async['retrieveComponents'](_0x2e8f9d){const _0xf34db2=a137_0x3afb1b;try{this['logger'][_0xf34db2(0x115)](_0xf34db2(0x124),_0x2e8f9d[_0xf34db2(0x119)]);const _0x37c356=await this['request']['post'](_0xf34db2(0xfb)+this[_0xf34db2(0x100)]+_0xf34db2(0x106),{'componentIds':_0x2e8f9d,'loggerId':this[_0xf34db2(0x11e)]})[_0xf34db2(0x10f)](({data:_0x2b8a2f})=>_0x2b8a2f);return _0x37c356;}catch(_0x26161d){this['logger']['error'](_0x26161d);throw new salesforce_error_1[(_0xf34db2(0x139))](_0x26161d);}}async['deleteAttachment'](_0x8027ef){const _0x32af6b=a137_0x3afb1b;try{this[_0x32af6b(0x11a)]['log'](_0x32af6b(0x10d),_0x8027ef),await this[_0x32af6b(0x133)][_0x32af6b(0x132)]('services/data/'+constants_1[_0x32af6b(0x13c)]+_0x32af6b(0xfe)+_0x8027ef);}catch(_0x4147d9){this['logger'][_0x32af6b(0x109)](_0x4147d9);throw new salesforce_error_1[(_0x32af6b(0x139))](_0x4147d9);}}async['retrieveAttachment'](_0x30ba2d,_0x47d202=![]){const _0xcd4135=a137_0x3afb1b;try{this['logger']['log'](_0xcd4135(0x136),_0x30ba2d);const _0x5798ea=await this[_0xcd4135(0x133)][_0xcd4135(0x111)](_0xcd4135(0x10a)+constants_1[_0xcd4135(0x13c)]+_0xcd4135(0xfe)+_0x30ba2d+_0xcd4135(0x11b),{'responseType':_0x47d202?_0xcd4135(0x12b):_0xcd4135(0x112)})[_0xcd4135(0x10f)](({data:_0x3f36a0})=>_0x3f36a0);return _0x5798ea;}catch(_0x1fa28f){this[_0xcd4135(0x11a)][_0xcd4135(0x109)](_0x1fa28f);throw new salesforce_error_1[(_0xcd4135(0x139))](_0x1fa28f);}}async[a137_0x3afb1b(0x12e)](_0x33ce55){const _0x404262=a137_0x3afb1b;try{_0x33ce55[_0x404262(0xff)](_0x5c638f=>this[_0x404262(0x11a)][_0x404262(0x115)](_0x404262(0x120),_0x5c638f)),await this['request'][_0x404262(0x107)](_0x404262(0xfb)+this[_0x404262(0x100)]+'/logger',{'messages':_0x33ce55,'loggerId':this[_0x404262(0x11e)]});}catch(_0x1598b6){this[_0x404262(0x11a)][_0x404262(0x109)](_0x1598b6);throw new internal_server_error_1[(_0x404262(0x131))](_0x1598b6);}}async[a137_0x3afb1b(0x108)](_0x2167cc,_0xbbca6d){const _0x5858c6=a137_0x3afb1b;try{const {data:_0xc62cf5}=await this['request'][_0x5858c6(0x107)](_0x5858c6(0x10a)+constants_1[_0x5858c6(0x13c)]+'/sobjects/'+_0x2167cc+'/',_0xbbca6d);return _0xc62cf5['id'];}catch(_0x4065e8){throw new salesforce_error_1['SalesforceError'](_0x4065e8);}}async[a137_0x3afb1b(0x101)](_0x259017,_0x240a7d,_0x2876c2){const _0x5d4f99=a137_0x3afb1b;try{await this[_0x5d4f99(0x133)][_0x5d4f99(0x11c)](_0x5d4f99(0x10a)+constants_1[_0x5d4f99(0x13c)]+_0x5d4f99(0x113)+_0x259017+'/'+_0x240a7d,_0x2876c2);}catch(_0x15706d){throw new salesforce_error_1[(_0x5d4f99(0x139))](_0x15706d);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x3afb1b(0x13a)]({'transient':!![]}),__metadata(a137_0x3afb1b(0x13b),[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports[a137_0x3afb1b(0x116)]=SalesforceService;