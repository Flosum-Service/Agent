const a137_0x23b0d8=a137_0x526f;(function(_0x2b6d02,_0x3ed96d){const _0x13af48=a137_0x526f,_0x38d04b=_0x2b6d02();while(!![]){try{const _0x547657=-parseInt(_0x13af48(0x196))/0x1*(-parseInt(_0x13af48(0x18b))/0x2)+-parseInt(_0x13af48(0x15e))/0x3+-parseInt(_0x13af48(0x16a))/0x4+-parseInt(_0x13af48(0x174))/0x5*(parseInt(_0x13af48(0x193))/0x6)+-parseInt(_0x13af48(0x180))/0x7+parseInt(_0x13af48(0x192))/0x8*(-parseInt(_0x13af48(0x165))/0x9)+parseInt(_0x13af48(0x191))/0xa;if(_0x547657===_0x3ed96d)break;else _0x38d04b['push'](_0x38d04b['shift']());}catch(_0x1010d7){_0x38d04b['push'](_0x38d04b['shift']());}}}(a137_0x3ab4,0x9090d));const a137_0x2ba5bb=(function(){let _0x16f2fb=!![];return function(_0xd6eeeb,_0x501219){const _0x5c442e=_0x16f2fb?function(){if(_0x501219){const _0x1a622d=_0x501219['apply'](_0xd6eeeb,arguments);return _0x501219=null,_0x1a622d;}}:function(){};return _0x16f2fb=![],_0x5c442e;};}()),a137_0x21300b=a137_0x2ba5bb(this,function(){const _0x4d348a=a137_0x526f;return a137_0x21300b[_0x4d348a(0x163)]()['search'](_0x4d348a(0x189))[_0x4d348a(0x163)]()['constructor'](a137_0x21300b)[_0x4d348a(0x182)](_0x4d348a(0x189));});a137_0x21300b();function a137_0x3ab4(){const _0x2a8b14=['createSalesforceRequest','SALESFORCE_API_VERSION','SalesforceError','namespace','../utils/create-request.util','decorate','(((.+)+)+)+$','__decorate','1205638LuZkkI','metadata','/attachments','../../../core','patchObject','log','26176090XlLafV','424VSoHRt','776694tZOQmC','design:paramtypes','[message]\x20%s','1JvDFMb','error','__esModule','text','../errors/salesforce.error','typedi','services/data/','IGNORE_FLOSUM_GIT_NAMESPACE','InternalServerError','SalesforceAuthService','services/apexrest','length','/body','forEach','/flosum_git','1993179EUmVuZ','post','logger','then','../../../constants','toString','setLoggerId','4824TPIAZh','__metadata','name','/sobjects/Attachment/','Service','4433152dZaHgc','sendLog','delete\x20attachment\x20%s\x20from\x20salesforce','retrieveComponents','/sobjects/','loggerId','getLogger','arraybuffer','SalesforceService','object','5GDxtAw','./salesforce-auth.service','function','Logger','defineProperty','retrieve\x20attachment\x20%s\x20from\x20salesforce','getOwnPropertyDescriptor','/logger','SalesforceLogger','request','./salesforce-logger.service','internalLogger','4884243ydlGnI','patch','search'];a137_0x3ab4=function(){return _0x2a8b14;};return a137_0x3ab4();}'use strict';var __decorate=this&&this[a137_0x23b0d8(0x18a)]||function(_0xcfcdeb,_0x3e5759,_0x56a96e,_0x18d9a0){const _0x4820fa=a137_0x23b0d8;var _0x2acb70=arguments[_0x4820fa(0x15a)],_0x1e6608=_0x2acb70<0x3?_0x3e5759:_0x18d9a0===null?_0x18d9a0=Object[_0x4820fa(0x17a)](_0x3e5759,_0x56a96e):_0x18d9a0,_0x48aec7;if(typeof Reflect===_0x4820fa(0x173)&&typeof Reflect[_0x4820fa(0x188)]===_0x4820fa(0x176))_0x1e6608=Reflect[_0x4820fa(0x188)](_0xcfcdeb,_0x3e5759,_0x56a96e,_0x18d9a0);else{for(var _0x260fa5=_0xcfcdeb['length']-0x1;_0x260fa5>=0x0;_0x260fa5--)if(_0x48aec7=_0xcfcdeb[_0x260fa5])_0x1e6608=(_0x2acb70<0x3?_0x48aec7(_0x1e6608):_0x2acb70>0x3?_0x48aec7(_0x3e5759,_0x56a96e,_0x1e6608):_0x48aec7(_0x3e5759,_0x56a96e))||_0x1e6608;}return _0x2acb70>0x3&&_0x1e6608&&Object[_0x4820fa(0x178)](_0x3e5759,_0x56a96e,_0x1e6608),_0x1e6608;},__metadata=this&&this[a137_0x23b0d8(0x166)]||function(_0x141b7e,_0x1d969e){const _0x3f7d1d=a137_0x23b0d8;if(typeof Reflect===_0x3f7d1d(0x173)&&typeof Reflect['metadata']==='function')return Reflect[_0x3f7d1d(0x18c)](_0x141b7e,_0x1d969e);},SalesforceService_1;function a137_0x526f(_0xb1ccfe,_0x352549){const _0x3cff34=a137_0x3ab4();return a137_0x526f=function(_0x21300b,_0x2ba5bb){_0x21300b=_0x21300b-0x156;let _0x3ab4a3=_0x3cff34[_0x21300b];return _0x3ab4a3;},a137_0x526f(_0xb1ccfe,_0x352549);}Object['defineProperty'](exports,a137_0x23b0d8(0x198),{'value':!![]}),exports[a137_0x23b0d8(0x172)]=void 0x0;const typedi_1=require(a137_0x23b0d8(0x19b)),core_1=require(a137_0x23b0d8(0x18e)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a137_0x23b0d8(0x175)),constants_1=require(a137_0x23b0d8(0x162)),create_request_util_1=require(a137_0x23b0d8(0x187)),salesforce_logger_service_1=require(a137_0x23b0d8(0x17e)),salesforce_error_1=require(a137_0x23b0d8(0x19a));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x195349){const _0x327b2a=a137_0x23b0d8;this['logger']=new core_1[(_0x327b2a(0x177))](SalesforceService_1[_0x327b2a(0x167)]),this[_0x327b2a(0x17d)]=create_request_util_1[_0x327b2a(0x183)](_0x195349),this[_0x327b2a(0x186)]=constants_1[_0x327b2a(0x156)]?'':_0x327b2a(0x15d);}[a137_0x23b0d8(0x164)](_0x383abc){const _0x20cbff=a137_0x23b0d8;this[_0x20cbff(0x16f)]=_0x383abc,this[_0x20cbff(0x17f)]=new salesforce_logger_service_1[(_0x20cbff(0x17c))](this);}[a137_0x23b0d8(0x170)](){const _0x2fa7a4=a137_0x23b0d8;return this[_0x2fa7a4(0x17f)];}async[a137_0x23b0d8(0x16d)](_0x39bab9){const _0xdf7516=a137_0x23b0d8;try{this[_0xdf7516(0x160)][_0xdf7516(0x190)]('retrieve\x20components\x20\x20%d\x20from\x20salesforce',_0x39bab9[_0xdf7516(0x15a)]);const _0x56bba0=await this['request'][_0xdf7516(0x15f)]('services/apexrest'+this[_0xdf7516(0x186)]+_0xdf7516(0x18d),{'componentIds':_0x39bab9,'loggerId':this[_0xdf7516(0x16f)]})[_0xdf7516(0x161)](({data:_0x2d59d8})=>_0x2d59d8);return _0x56bba0;}catch(_0x32e217){this[_0xdf7516(0x160)][_0xdf7516(0x197)](_0x32e217);throw new salesforce_error_1[(_0xdf7516(0x185))](_0x32e217);}}async['deleteAttachment'](_0x247a8c){const _0x5d95aa=a137_0x23b0d8;try{this['logger'][_0x5d95aa(0x190)](_0x5d95aa(0x16c),_0x247a8c),await this['request']['delete'](_0x5d95aa(0x19c)+constants_1['SALESFORCE_API_VERSION']+_0x5d95aa(0x168)+_0x247a8c);}catch(_0x3f29c9){this[_0x5d95aa(0x160)][_0x5d95aa(0x197)](_0x3f29c9);throw new salesforce_error_1['SalesforceError'](_0x3f29c9);}}async['retrieveAttachment'](_0x44871a,_0x4e0fb1=![]){const _0x52e32e=a137_0x23b0d8;try{this['logger'][_0x52e32e(0x190)](_0x52e32e(0x179),_0x44871a);const _0x1b64ae=await this[_0x52e32e(0x17d)]['get'](_0x52e32e(0x19c)+constants_1[_0x52e32e(0x184)]+_0x52e32e(0x168)+_0x44871a+_0x52e32e(0x15b),{'responseType':_0x4e0fb1?_0x52e32e(0x171):_0x52e32e(0x199)})[_0x52e32e(0x161)](({data:_0x3b78c2})=>_0x3b78c2);return _0x1b64ae;}catch(_0x525c6b){this['logger']['error'](_0x525c6b);throw new salesforce_error_1['SalesforceError'](_0x525c6b);}}async[a137_0x23b0d8(0x16b)](_0x94e026){const _0x8f6800=a137_0x23b0d8;try{_0x94e026[_0x8f6800(0x15c)](_0x45f764=>this['logger'][_0x8f6800(0x190)](_0x8f6800(0x195),_0x45f764)),await this['request'][_0x8f6800(0x15f)](_0x8f6800(0x159)+this[_0x8f6800(0x186)]+_0x8f6800(0x17b),{'messages':_0x94e026,'loggerId':this['loggerId']});}catch(_0x324f0d){this[_0x8f6800(0x160)][_0x8f6800(0x197)](_0x324f0d);throw new internal_server_error_1[(_0x8f6800(0x157))](_0x324f0d);}}async['createObject'](_0x424d06,_0x17f0b9){const _0x46c8c5=a137_0x23b0d8;try{const {data:_0x26af45}=await this[_0x46c8c5(0x17d)][_0x46c8c5(0x15f)](_0x46c8c5(0x19c)+constants_1[_0x46c8c5(0x184)]+_0x46c8c5(0x16e)+_0x424d06+'/',_0x17f0b9);return _0x26af45['id'];}catch(_0x58c8a7){throw new salesforce_error_1[(_0x46c8c5(0x185))](_0x58c8a7);}}async[a137_0x23b0d8(0x18f)](_0x32b070,_0x574259,_0x515f04){const _0x340cce=a137_0x23b0d8;try{await this[_0x340cce(0x17d)][_0x340cce(0x181)](_0x340cce(0x19c)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x32b070+'/'+_0x574259,_0x515f04);}catch(_0x318964){throw new salesforce_error_1[(_0x340cce(0x185))](_0x318964);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x23b0d8(0x169)]({'transient':!![]}),__metadata(a137_0x23b0d8(0x194),[salesforce_auth_service_1[a137_0x23b0d8(0x158)]])],SalesforceService),exports[a137_0x23b0d8(0x172)]=SalesforceService;