const a136_0x2e96f5=a136_0x3864;(function(_0x22dc03,_0x49e57f){const _0x31a81a=a136_0x3864,_0x36385e=_0x22dc03();while(!![]){try{const _0xe37aa6=-parseInt(_0x31a81a(0x1db))/0x1*(parseInt(_0x31a81a(0x20b))/0x2)+-parseInt(_0x31a81a(0x1f7))/0x3*(-parseInt(_0x31a81a(0x21e))/0x4)+parseInt(_0x31a81a(0x1ff))/0x5*(parseInt(_0x31a81a(0x201))/0x6)+parseInt(_0x31a81a(0x1e6))/0x7*(-parseInt(_0x31a81a(0x1f2))/0x8)+parseInt(_0x31a81a(0x20a))/0x9+parseInt(_0x31a81a(0x1e3))/0xa*(-parseInt(_0x31a81a(0x20d))/0xb)+parseInt(_0x31a81a(0x219))/0xc;if(_0xe37aa6===_0x49e57f)break;else _0x36385e['push'](_0x36385e['shift']());}catch(_0x305a81){_0x36385e['push'](_0x36385e['shift']());}}}(a136_0x2cb6,0x5f92f));const a136_0x4e516b=(function(){let _0x271365=!![];return function(_0x364cc4,_0x111b31){const _0x4d9a08=_0x271365?function(){const _0x3afb41=a136_0x3864;if(_0x111b31){const _0x534f2c=_0x111b31[_0x3afb41(0x20f)](_0x364cc4,arguments);return _0x111b31=null,_0x534f2c;}}:function(){};return _0x271365=![],_0x4d9a08;};}()),a136_0x2d3250=a136_0x4e516b(this,function(){const _0x2382b2=a136_0x3864;return a136_0x2d3250[_0x2382b2(0x21a)]()[_0x2382b2(0x1f6)](_0x2382b2(0x210))['toString']()['constructor'](a136_0x2d3250)[_0x2382b2(0x1f6)](_0x2382b2(0x210));});a136_0x2d3250();function a136_0x2cb6(){const _0xa8808d=['services/data/','../../../constants','SALESFORCE_API_VERSION','/logger','890cCWlwp','namespace','createObject','5090092ZDPmyl','/sobjects/','patchObject','deleteAttachment','retrieveComponents','text','function','__decorate','SalesforceAuthService','SalesforceError','services/apexrest','setLoggerId','8swzKTU','./salesforce-auth.service','[message]\x20%s','IGNORE_FLOSUM_GIT_NAMESPACE','search','39KIXOeQ','name','get','logger','Service','getLogger','sendLog','metadata','25LsjIHn','Logger','365646KUIhkF','request','./salesforce-logger.service','design:paramtypes','forEach','__esModule','/sobjects/Attachment/','__metadata','error','2745918HehyVE','2aPiATL','createSalesforceRequest','95799IawUbd','SalesforceLogger','apply','(((.+)+)+)+$','../utils/create-request.util','length','SalesforceService','then','defineProperty','log','../../../core/errors/internal-server.error','internalLogger','13846620DWweiU','toString','retrieve\x20attachment\x20%s\x20from\x20salesforce','retrieve\x20components\x20\x20%d\x20from\x20salesforce','object','91340mMeJXu','loggerId','166819jdGHkX','../../../core','decorate','post'];a136_0x2cb6=function(){return _0xa8808d;};return a136_0x2cb6();}'use strict';var __decorate=this&&this[a136_0x2e96f5(0x1ed)]||function(_0x40182c,_0x48955a,_0x1f49bc,_0x55aacf){const _0x2def28=a136_0x2e96f5;var _0x9491db=arguments['length'],_0x4d30b2=_0x9491db<0x3?_0x48955a:_0x55aacf===null?_0x55aacf=Object['getOwnPropertyDescriptor'](_0x48955a,_0x1f49bc):_0x55aacf,_0x4e6ab2;if(typeof Reflect===_0x2def28(0x21d)&&typeof Reflect['decorate']===_0x2def28(0x1ec))_0x4d30b2=Reflect[_0x2def28(0x1dd)](_0x40182c,_0x48955a,_0x1f49bc,_0x55aacf);else{for(var _0x36d44f=_0x40182c['length']-0x1;_0x36d44f>=0x0;_0x36d44f--)if(_0x4e6ab2=_0x40182c[_0x36d44f])_0x4d30b2=(_0x9491db<0x3?_0x4e6ab2(_0x4d30b2):_0x9491db>0x3?_0x4e6ab2(_0x48955a,_0x1f49bc,_0x4d30b2):_0x4e6ab2(_0x48955a,_0x1f49bc))||_0x4d30b2;}return _0x9491db>0x3&&_0x4d30b2&&Object[_0x2def28(0x215)](_0x48955a,_0x1f49bc,_0x4d30b2),_0x4d30b2;},__metadata=this&&this[a136_0x2e96f5(0x208)]||function(_0x41d98f,_0x2cb53c){const _0x3e45df=a136_0x2e96f5;if(typeof Reflect===_0x3e45df(0x21d)&&typeof Reflect[_0x3e45df(0x1fe)]===_0x3e45df(0x1ec))return Reflect[_0x3e45df(0x1fe)](_0x41d98f,_0x2cb53c);},SalesforceService_1;function a136_0x3864(_0x3a8bc8,_0x4f2c76){const _0x6ebb80=a136_0x2cb6();return a136_0x3864=function(_0x2d3250,_0x4e516b){_0x2d3250=_0x2d3250-0x1da;let _0x2cb68e=_0x6ebb80[_0x2d3250];return _0x2cb68e;},a136_0x3864(_0x3a8bc8,_0x4f2c76);}Object[a136_0x2e96f5(0x215)](exports,a136_0x2e96f5(0x206),{'value':!![]}),exports[a136_0x2e96f5(0x213)]=void 0x0;const typedi_1=require('typedi'),core_1=require(a136_0x2e96f5(0x1dc)),internal_server_error_1=require(a136_0x2e96f5(0x217)),salesforce_auth_service_1=require(a136_0x2e96f5(0x1f3)),constants_1=require(a136_0x2e96f5(0x1e0)),create_request_util_1=require(a136_0x2e96f5(0x211)),salesforce_logger_service_1=require(a136_0x2e96f5(0x203)),salesforce_error_1=require('../errors/salesforce.error');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x2fe591){const _0x3238ff=a136_0x2e96f5;this['logger']=new core_1[(_0x3238ff(0x200))](SalesforceService_1[_0x3238ff(0x1f8)]),this['request']=create_request_util_1[_0x3238ff(0x20c)](_0x2fe591),this['namespace']=constants_1[_0x3238ff(0x1f5)]?'':'/flosum_git';}[a136_0x2e96f5(0x1f1)](_0x3e4b90){const _0x2950a7=a136_0x2e96f5;this[_0x2950a7(0x1da)]=_0x3e4b90,this[_0x2950a7(0x218)]=new salesforce_logger_service_1[(_0x2950a7(0x20e))](this);}[a136_0x2e96f5(0x1fc)](){return this['internalLogger'];}async[a136_0x2e96f5(0x1ea)](_0x54b411){const _0x29339f=a136_0x2e96f5;try{this[_0x29339f(0x1fa)][_0x29339f(0x216)](_0x29339f(0x21c),_0x54b411[_0x29339f(0x212)]);const _0x4ad738=await this[_0x29339f(0x202)][_0x29339f(0x1de)](_0x29339f(0x1f0)+this['namespace']+'/attachments',{'componentIds':_0x54b411,'loggerId':this['loggerId']})[_0x29339f(0x214)](({data:_0x676e59})=>_0x676e59);return _0x4ad738;}catch(_0x420597){this[_0x29339f(0x1fa)]['error'](_0x420597);throw new salesforce_error_1[(_0x29339f(0x1ef))](_0x420597);}}async[a136_0x2e96f5(0x1e9)](_0x24822e){const _0x382e4c=a136_0x2e96f5;try{this[_0x382e4c(0x1fa)][_0x382e4c(0x216)]('delete\x20attachment\x20%s\x20from\x20salesforce',_0x24822e),await this[_0x382e4c(0x202)]['delete']('services/data/'+constants_1[_0x382e4c(0x1e1)]+_0x382e4c(0x207)+_0x24822e);}catch(_0x2855bc){this[_0x382e4c(0x1fa)]['error'](_0x2855bc);throw new salesforce_error_1[(_0x382e4c(0x1ef))](_0x2855bc);}}async['retrieveAttachment'](_0x28b126,_0x35b2df=![]){const _0x4f0ee5=a136_0x2e96f5;try{this[_0x4f0ee5(0x1fa)][_0x4f0ee5(0x216)](_0x4f0ee5(0x21b),_0x28b126);const _0x31eee0=await this[_0x4f0ee5(0x202)][_0x4f0ee5(0x1f9)](_0x4f0ee5(0x1df)+constants_1[_0x4f0ee5(0x1e1)]+_0x4f0ee5(0x207)+_0x28b126+'/body',{'responseType':_0x35b2df?'arraybuffer':_0x4f0ee5(0x1eb)})[_0x4f0ee5(0x214)](({data:_0xd36445})=>_0xd36445);return _0x31eee0;}catch(_0x29148e){this[_0x4f0ee5(0x1fa)][_0x4f0ee5(0x209)](_0x29148e);throw new salesforce_error_1['SalesforceError'](_0x29148e);}}async[a136_0x2e96f5(0x1fd)](_0x3fd4e8){const _0x5d00e7=a136_0x2e96f5;try{_0x3fd4e8[_0x5d00e7(0x205)](_0x14f9c6=>this[_0x5d00e7(0x1fa)][_0x5d00e7(0x216)](_0x5d00e7(0x1f4),_0x14f9c6)),await this[_0x5d00e7(0x202)]['post'](_0x5d00e7(0x1f0)+this[_0x5d00e7(0x1e4)]+_0x5d00e7(0x1e2),{'messages':_0x3fd4e8,'loggerId':this['loggerId']});}catch(_0x2b1cf7){this['logger'][_0x5d00e7(0x209)](_0x2b1cf7);throw new internal_server_error_1['InternalServerError'](_0x2b1cf7);}}async[a136_0x2e96f5(0x1e5)](_0x3c45ad,_0x985db6){const _0x442392=a136_0x2e96f5;try{const {data:_0x4cea35}=await this[_0x442392(0x202)][_0x442392(0x1de)](_0x442392(0x1df)+constants_1[_0x442392(0x1e1)]+'/sobjects/'+_0x3c45ad+'/',_0x985db6);return _0x4cea35['id'];}catch(_0x4f759d){throw new salesforce_error_1[(_0x442392(0x1ef))](_0x4f759d);}}async[a136_0x2e96f5(0x1e8)](_0x445af5,_0x69b37c,_0x49b1ff){const _0x37be69=a136_0x2e96f5;try{await this['request']['patch'](_0x37be69(0x1df)+constants_1[_0x37be69(0x1e1)]+_0x37be69(0x1e7)+_0x445af5+'/'+_0x69b37c,_0x49b1ff);}catch(_0xf8b960){throw new salesforce_error_1['SalesforceError'](_0xf8b960);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a136_0x2e96f5(0x1fb)]({'transient':!![]}),__metadata(a136_0x2e96f5(0x204),[salesforce_auth_service_1[a136_0x2e96f5(0x1ee)]])],SalesforceService),exports[a136_0x2e96f5(0x213)]=SalesforceService;