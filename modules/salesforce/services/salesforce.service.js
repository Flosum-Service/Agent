const a136_0x5a91c2=a136_0x1fd9;(function(_0x3a5ab5,_0x1045e7){const _0x53f810=a136_0x1fd9,_0x1c77b1=_0x3a5ab5();while(!![]){try{const _0x16f4cc=parseInt(_0x53f810(0x15d))/0x1*(-parseInt(_0x53f810(0x14d))/0x2)+parseInt(_0x53f810(0x160))/0x3+-parseInt(_0x53f810(0x157))/0x4*(-parseInt(_0x53f810(0x16b))/0x5)+parseInt(_0x53f810(0x155))/0x6+-parseInt(_0x53f810(0x143))/0x7*(-parseInt(_0x53f810(0x139))/0x8)+-parseInt(_0x53f810(0x136))/0x9+-parseInt(_0x53f810(0x158))/0xa*(parseInt(_0x53f810(0x147))/0xb);if(_0x16f4cc===_0x1045e7)break;else _0x1c77b1['push'](_0x1c77b1['shift']());}catch(_0x4addc7){_0x1c77b1['push'](_0x1c77b1['shift']());}}}(a136_0x4f40,0x521af));const a136_0x8e9ea9=(function(){let _0x3abe58=!![];return function(_0x53745d,_0x471f7c){const _0x29750e=_0x3abe58?function(){const _0x27cd08=a136_0x1fd9;if(_0x471f7c){const _0x313cc3=_0x471f7c[_0x27cd08(0x153)](_0x53745d,arguments);return _0x471f7c=null,_0x313cc3;}}:function(){};return _0x3abe58=![],_0x29750e;};}()),a136_0x69aa05=a136_0x8e9ea9(this,function(){const _0x3dc40d=a136_0x1fd9;return a136_0x69aa05['toString']()[_0x3dc40d(0x138)](_0x3dc40d(0x13f))[_0x3dc40d(0x166)]()[_0x3dc40d(0x13d)](a136_0x69aa05)[_0x3dc40d(0x138)](_0x3dc40d(0x13f));});a136_0x69aa05();function a136_0x1fd9(_0x5cff81,_0x25e4f0){const _0x59f506=a136_0x4f40();return a136_0x1fd9=function(_0x69aa05,_0x8e9ea9){_0x69aa05=_0x69aa05-0x135;let _0x4f401f=_0x59f506[_0x69aa05];return _0x4f401f;},a136_0x1fd9(_0x5cff81,_0x25e4f0);}function a136_0x4f40(){const _0x310a54=['[message]\x20%s','constructor','SALESFORCE_API_VERSION','(((.+)+)+)+$','logger','text','./salesforce-logger.service','287OqOAPr','sendLog','Logger','defineProperty','2042062BjqNac','__esModule','Service','services/apexrest','getOwnPropertyDescriptor','namespace','495122INrQiM','../errors/salesforce.error','/logger','/sobjects/Attachment/','SalesforceError','loggerId','apply','./salesforce-auth.service','2377956KwjWco','services/data/','16JPoEXY','10nWzjRa','__decorate','name','SalesforceLogger','delete\x20attachment\x20%s\x20from\x20salesforce','2CRMxqU','../../../core','error','1231641OZKlpq','function','createSalesforceRequest','patchObject','object','forEach','toString','InternalServerError','retrieveComponents','retrieve\x20components\x20\x20%d\x20from\x20salesforce','setLoggerId','579905JHBTxu','internalLogger','length','/sobjects/','log','get','metadata','retrieveAttachment','patch','/body','decorate','post','IGNORE_FLOSUM_GIT_NAMESPACE','../utils/create-request.util','request','getLogger','6028920gUlglH','/flosum_git','search','81200Wywhzn','retrieve\x20attachment\x20%s\x20from\x20salesforce','deleteAttachment'];a136_0x4f40=function(){return _0x310a54;};return a136_0x4f40();}'use strict';var __decorate=this&&this[a136_0x5a91c2(0x159)]||function(_0x169524,_0x43dbf8,_0x4d9fec,_0x4b8159){const _0x5dcf52=a136_0x5a91c2;var _0x332615=arguments['length'],_0x274c64=_0x332615<0x3?_0x43dbf8:_0x4b8159===null?_0x4b8159=Object[_0x5dcf52(0x14b)](_0x43dbf8,_0x4d9fec):_0x4b8159,_0x913bc6;if(typeof Reflect===_0x5dcf52(0x164)&&typeof Reflect[_0x5dcf52(0x175)]===_0x5dcf52(0x161))_0x274c64=Reflect[_0x5dcf52(0x175)](_0x169524,_0x43dbf8,_0x4d9fec,_0x4b8159);else{for(var _0x2250be=_0x169524[_0x5dcf52(0x16d)]-0x1;_0x2250be>=0x0;_0x2250be--)if(_0x913bc6=_0x169524[_0x2250be])_0x274c64=(_0x332615<0x3?_0x913bc6(_0x274c64):_0x332615>0x3?_0x913bc6(_0x43dbf8,_0x4d9fec,_0x274c64):_0x913bc6(_0x43dbf8,_0x4d9fec))||_0x274c64;}return _0x332615>0x3&&_0x274c64&&Object[_0x5dcf52(0x146)](_0x43dbf8,_0x4d9fec,_0x274c64),_0x274c64;},__metadata=this&&this['__metadata']||function(_0xb34476,_0x244c8e){const _0x21e19e=a136_0x5a91c2;if(typeof Reflect===_0x21e19e(0x164)&&typeof Reflect['metadata']===_0x21e19e(0x161))return Reflect[_0x21e19e(0x171)](_0xb34476,_0x244c8e);},SalesforceService_1;Object[a136_0x5a91c2(0x146)](exports,a136_0x5a91c2(0x148),{'value':!![]}),exports['SalesforceService']=void 0x0;const typedi_1=require('typedi'),core_1=require(a136_0x5a91c2(0x15e)),internal_server_error_1=require('../../../core/errors/internal-server.error'),salesforce_auth_service_1=require(a136_0x5a91c2(0x154)),constants_1=require('../../../constants'),create_request_util_1=require(a136_0x5a91c2(0x178)),salesforce_logger_service_1=require(a136_0x5a91c2(0x142)),salesforce_error_1=require(a136_0x5a91c2(0x14e));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x752a){const _0x270d61=a136_0x5a91c2;this['logger']=new core_1[(_0x270d61(0x145))](SalesforceService_1[_0x270d61(0x15a)]),this[_0x270d61(0x179)]=create_request_util_1[_0x270d61(0x162)](_0x752a),this[_0x270d61(0x14c)]=constants_1[_0x270d61(0x177)]?'':_0x270d61(0x137);}[a136_0x5a91c2(0x16a)](_0x418600){const _0x51d8c3=a136_0x5a91c2;this[_0x51d8c3(0x152)]=_0x418600,this[_0x51d8c3(0x16c)]=new salesforce_logger_service_1[(_0x51d8c3(0x15b))](this);}[a136_0x5a91c2(0x135)](){const _0x1afafe=a136_0x5a91c2;return this[_0x1afafe(0x16c)];}async[a136_0x5a91c2(0x168)](_0x9bd683){const _0x44900d=a136_0x5a91c2;try{this[_0x44900d(0x140)][_0x44900d(0x16f)](_0x44900d(0x169),_0x9bd683['length']);const _0x103668=await this[_0x44900d(0x179)][_0x44900d(0x176)](_0x44900d(0x14a)+this[_0x44900d(0x14c)]+'/attachments',{'componentIds':_0x9bd683,'loggerId':this['loggerId']})['then'](({data:_0x521ffa})=>_0x521ffa);return _0x103668;}catch(_0x1375d2){this['logger']['error'](_0x1375d2);throw new salesforce_error_1[(_0x44900d(0x151))](_0x1375d2);}}async[a136_0x5a91c2(0x13b)](_0x9a24fa){const _0x51bb23=a136_0x5a91c2;try{this[_0x51bb23(0x140)][_0x51bb23(0x16f)](_0x51bb23(0x15c),_0x9a24fa),await this[_0x51bb23(0x179)]['delete'](_0x51bb23(0x156)+constants_1[_0x51bb23(0x13e)]+_0x51bb23(0x150)+_0x9a24fa);}catch(_0x2e2b0e){this[_0x51bb23(0x140)]['error'](_0x2e2b0e);throw new salesforce_error_1['SalesforceError'](_0x2e2b0e);}}async[a136_0x5a91c2(0x172)](_0x5eab62,_0x2e4411=![]){const _0x29b675=a136_0x5a91c2;try{this[_0x29b675(0x140)][_0x29b675(0x16f)](_0x29b675(0x13a),_0x5eab62);const _0x111f65=await this[_0x29b675(0x179)][_0x29b675(0x170)](_0x29b675(0x156)+constants_1[_0x29b675(0x13e)]+_0x29b675(0x150)+_0x5eab62+_0x29b675(0x174),{'responseType':_0x2e4411?'arraybuffer':_0x29b675(0x141)})['then'](({data:_0x1a2d27})=>_0x1a2d27);return _0x111f65;}catch(_0x3994cb){this[_0x29b675(0x140)][_0x29b675(0x15f)](_0x3994cb);throw new salesforce_error_1[(_0x29b675(0x151))](_0x3994cb);}}async[a136_0x5a91c2(0x144)](_0xee4eaa){const _0x2ec5a3=a136_0x5a91c2;try{_0xee4eaa[_0x2ec5a3(0x165)](_0x1c899a=>this[_0x2ec5a3(0x140)][_0x2ec5a3(0x16f)](_0x2ec5a3(0x13c),_0x1c899a)),await this[_0x2ec5a3(0x179)][_0x2ec5a3(0x176)](_0x2ec5a3(0x14a)+this[_0x2ec5a3(0x14c)]+_0x2ec5a3(0x14f),{'messages':_0xee4eaa,'loggerId':this[_0x2ec5a3(0x152)]});}catch(_0x59efc4){this[_0x2ec5a3(0x140)][_0x2ec5a3(0x15f)](_0x59efc4);throw new internal_server_error_1[(_0x2ec5a3(0x167))](_0x59efc4);}}async['createObject'](_0x1a6c9a,_0x219635){const _0x4132e2=a136_0x5a91c2;try{const {data:_0x8d8949}=await this['request']['post'](_0x4132e2(0x156)+constants_1[_0x4132e2(0x13e)]+_0x4132e2(0x16e)+_0x1a6c9a+'/',_0x219635);return _0x8d8949['id'];}catch(_0x32822b){throw new salesforce_error_1['SalesforceError'](_0x32822b);}}async[a136_0x5a91c2(0x163)](_0x8ea7c6,_0x5cd87b,_0x2884fd){const _0x2748b6=a136_0x5a91c2;try{await this[_0x2748b6(0x179)][_0x2748b6(0x173)](_0x2748b6(0x156)+constants_1[_0x2748b6(0x13e)]+_0x2748b6(0x16e)+_0x8ea7c6+'/'+_0x5cd87b,_0x2884fd);}catch(_0x3589a3){throw new salesforce_error_1[(_0x2748b6(0x151))](_0x3589a3);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a136_0x5a91c2(0x149)]({'transient':!![]}),__metadata('design:paramtypes',[salesforce_auth_service_1['SalesforceAuthService']])],SalesforceService),exports['SalesforceService']=SalesforceService;