const a137_0x42b457=a137_0x3131;(function(_0x2d96c0,_0x46639d){const _0x1742cc=a137_0x3131,_0x4fa327=_0x2d96c0();while(!![]){try{const _0x51b6c7=-parseInt(_0x1742cc(0x20f))/0x1*(parseInt(_0x1742cc(0x1fa))/0x2)+-parseInt(_0x1742cc(0x1e7))/0x3+-parseInt(_0x1742cc(0x219))/0x4+-parseInt(_0x1742cc(0x1f4))/0x5*(-parseInt(_0x1742cc(0x220))/0x6)+parseInt(_0x1742cc(0x20e))/0x7*(parseInt(_0x1742cc(0x20a))/0x8)+parseInt(_0x1742cc(0x1f7))/0x9+parseInt(_0x1742cc(0x218))/0xa;if(_0x51b6c7===_0x46639d)break;else _0x4fa327['push'](_0x4fa327['shift']());}catch(_0x4e47ad){_0x4fa327['push'](_0x4fa327['shift']());}}}(a137_0x2792,0x27531));const a137_0xb99c9=(function(){let _0xcf45d6=!![];return function(_0x127e53,_0x503f79){const _0x2a4360=_0xcf45d6?function(){const _0x48151d=a137_0x3131;if(_0x503f79){const _0x25b23d=_0x503f79[_0x48151d(0x1ea)](_0x127e53,arguments);return _0x503f79=null,_0x25b23d;}}:function(){};return _0xcf45d6=![],_0x2a4360;};}()),a137_0x497a24=a137_0xb99c9(this,function(){const _0x100e36=a137_0x3131;return a137_0x497a24[_0x100e36(0x205)]()[_0x100e36(0x210)]('(((.+)+)+)+$')[_0x100e36(0x205)]()[_0x100e36(0x1f2)](a137_0x497a24)['search']('(((.+)+)+)+$');});a137_0x497a24();'use strict';function a137_0x3131(_0x212da5,_0x40bb0a){const _0x461432=a137_0x2792();return a137_0x3131=function(_0x497a24,_0xb99c9){_0x497a24=_0x497a24-0x1e5;let _0x279253=_0x461432[_0x497a24];return _0x279253;},a137_0x3131(_0x212da5,_0x40bb0a);}var __decorate=this&&this['__decorate']||function(_0x422619,_0x4300e8,_0x5bd620,_0x441f8c){const _0x56a11d=a137_0x3131;var _0x453b2b=arguments[_0x56a11d(0x209)],_0x41ac7d=_0x453b2b<0x3?_0x4300e8:_0x441f8c===null?_0x441f8c=Object[_0x56a11d(0x217)](_0x4300e8,_0x5bd620):_0x441f8c,_0x22ad77;if(typeof Reflect===_0x56a11d(0x214)&&typeof Reflect[_0x56a11d(0x223)]===_0x56a11d(0x216))_0x41ac7d=Reflect[_0x56a11d(0x223)](_0x422619,_0x4300e8,_0x5bd620,_0x441f8c);else{for(var _0x36b935=_0x422619[_0x56a11d(0x209)]-0x1;_0x36b935>=0x0;_0x36b935--)if(_0x22ad77=_0x422619[_0x36b935])_0x41ac7d=(_0x453b2b<0x3?_0x22ad77(_0x41ac7d):_0x453b2b>0x3?_0x22ad77(_0x4300e8,_0x5bd620,_0x41ac7d):_0x22ad77(_0x4300e8,_0x5bd620))||_0x41ac7d;}return _0x453b2b>0x3&&_0x41ac7d&&Object['defineProperty'](_0x4300e8,_0x5bd620,_0x41ac7d),_0x41ac7d;},__metadata=this&&this[a137_0x42b457(0x206)]||function(_0x1772ac,_0x5d658d){const _0x4ff19c=a137_0x42b457;if(typeof Reflect===_0x4ff19c(0x214)&&typeof Reflect['metadata']==='function')return Reflect[_0x4ff19c(0x20b)](_0x1772ac,_0x5d658d);},SalesforceService_1;function a137_0x2792(){const _0x54fb46=['text','2740743iEjgWf','/body','IGNORE_FLOSUM_GIT_NAMESPACE','2rWuEca','SalesforceError','loggerId','[message]\x20%s','./salesforce-auth.service','post','retrieve\x20components\x20\x20%d\x20from\x20salesforce','error','namespace','logger','/logger','toString','__metadata','request','delete','length','1771832xyZjkR','metadata','/attachments','internalLogger','7aKlvjm','151061hBvHTt','search','SalesforceService','getLogger','forEach','object','../utils/create-request.util','function','getOwnPropertyDescriptor','1272660ILcbfa','897424TNRLdo','delete\x20attachment\x20%s\x20from\x20salesforce','InternalServerError','Logger','createSalesforceRequest','patchObject','SalesforceAuthService','6mwjfgp','../../../core/errors/internal-server.error','SALESFORCE_API_VERSION','decorate','log','/flosum_git','422919sCwTRo','setLoggerId','services/apexrest','apply','design:paramtypes','typedi','../../../constants','/sobjects/Attachment/','Service','services/data/','then','constructor','../../../core','120955FUDRAI','retrieveComponents'];a137_0x2792=function(){return _0x54fb46;};return a137_0x2792();}Object['defineProperty'](exports,'__esModule',{'value':!![]}),exports[a137_0x42b457(0x211)]=void 0x0;const typedi_1=require(a137_0x42b457(0x1ec)),core_1=require(a137_0x42b457(0x1f3)),internal_server_error_1=require(a137_0x42b457(0x221)),salesforce_auth_service_1=require(a137_0x42b457(0x1fe)),constants_1=require(a137_0x42b457(0x1ed)),create_request_util_1=require(a137_0x42b457(0x215)),salesforce_logger_service_1=require('./salesforce-logger.service'),salesforce_error_1=require('../errors/salesforce.error');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x3e57d3){const _0x55dccf=a137_0x42b457;this[_0x55dccf(0x203)]=new core_1[(_0x55dccf(0x21c))](SalesforceService_1['name']),this[_0x55dccf(0x207)]=create_request_util_1[_0x55dccf(0x21d)](_0x3e57d3),this['namespace']=constants_1[_0x55dccf(0x1f9)]?'':_0x55dccf(0x1e6);}[a137_0x42b457(0x1e8)](_0xd69eff){const _0x12d819=a137_0x42b457;this[_0x12d819(0x1fc)]=_0xd69eff,this[_0x12d819(0x20d)]=new salesforce_logger_service_1['SalesforceLogger'](this);}[a137_0x42b457(0x212)](){const _0x300e80=a137_0x42b457;return this[_0x300e80(0x20d)];}async[a137_0x42b457(0x1f5)](_0x1267d1){const _0x1c3b98=a137_0x42b457;try{this[_0x1c3b98(0x203)][_0x1c3b98(0x1e5)](_0x1c3b98(0x200),_0x1267d1['length']);const _0x38bd61=await this['request'][_0x1c3b98(0x1ff)](_0x1c3b98(0x1e9)+this[_0x1c3b98(0x202)]+_0x1c3b98(0x20c),{'componentIds':_0x1267d1,'loggerId':this[_0x1c3b98(0x1fc)]})[_0x1c3b98(0x1f1)](({data:_0x20bc6d})=>_0x20bc6d);return _0x38bd61;}catch(_0x31d8a4){this['logger'][_0x1c3b98(0x201)](_0x31d8a4);throw new salesforce_error_1['SalesforceError'](_0x31d8a4);}}async['deleteAttachment'](_0x2f9ecc){const _0x440d89=a137_0x42b457;try{this[_0x440d89(0x203)]['log'](_0x440d89(0x21a),_0x2f9ecc),await this[_0x440d89(0x207)][_0x440d89(0x208)](_0x440d89(0x1f0)+constants_1['SALESFORCE_API_VERSION']+_0x440d89(0x1ee)+_0x2f9ecc);}catch(_0x1f31c8){this[_0x440d89(0x203)][_0x440d89(0x201)](_0x1f31c8);throw new salesforce_error_1[(_0x440d89(0x1fb))](_0x1f31c8);}}async['retrieveAttachment'](_0x228704,_0x343428=![]){const _0x543cac=a137_0x42b457;try{this['logger']['log']('retrieve\x20attachment\x20%s\x20from\x20salesforce',_0x228704);const _0x9b7a04=await this[_0x543cac(0x207)]['get'](_0x543cac(0x1f0)+constants_1['SALESFORCE_API_VERSION']+_0x543cac(0x1ee)+_0x228704+_0x543cac(0x1f8),{'responseType':_0x343428?'arraybuffer':_0x543cac(0x1f6)})[_0x543cac(0x1f1)](({data:_0x215218})=>_0x215218);return _0x9b7a04;}catch(_0xfd2569){this['logger']['error'](_0xfd2569);throw new salesforce_error_1[(_0x543cac(0x1fb))](_0xfd2569);}}async['sendLog'](_0x201c1b){const _0x367aae=a137_0x42b457;try{_0x201c1b[_0x367aae(0x213)](_0xefc368=>this[_0x367aae(0x203)][_0x367aae(0x1e5)](_0x367aae(0x1fd),_0xefc368)),await this['request']['post']('services/apexrest'+this[_0x367aae(0x202)]+_0x367aae(0x204),{'messages':_0x201c1b,'loggerId':this['loggerId']});}catch(_0x2a456f){this[_0x367aae(0x203)]['error'](_0x2a456f);throw new internal_server_error_1[(_0x367aae(0x21b))](_0x2a456f);}}async['createObject'](_0x539fb5,_0x418a05){const _0x56bc98=a137_0x42b457;try{const {data:_0x2a7623}=await this[_0x56bc98(0x207)][_0x56bc98(0x1ff)](_0x56bc98(0x1f0)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x539fb5+'/',_0x418a05);return _0x2a7623['id'];}catch(_0x5e9124){throw new salesforce_error_1[(_0x56bc98(0x1fb))](_0x5e9124);}}async[a137_0x42b457(0x21e)](_0xa17785,_0x552af0,_0x5c7154){const _0xec76ad=a137_0x42b457;try{await this[_0xec76ad(0x207)]['patch'](_0xec76ad(0x1f0)+constants_1[_0xec76ad(0x222)]+'/sobjects/'+_0xa17785+'/'+_0x552af0,_0x5c7154);}catch(_0x272c9f){throw new salesforce_error_1[(_0xec76ad(0x1fb))](_0x272c9f);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x42b457(0x1ef)]({'transient':!![]}),__metadata(a137_0x42b457(0x1eb),[salesforce_auth_service_1[a137_0x42b457(0x21f)]])],SalesforceService),exports['SalesforceService']=SalesforceService;