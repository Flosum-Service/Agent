const a137_0x1d3b6f=a137_0x52b8;function a137_0x52b8(_0x5a20c5,_0x34f90e){const _0x564ccc=a137_0x58c6();return a137_0x52b8=function(_0x120bec,_0x39363e){_0x120bec=_0x120bec-0x15d;let _0x58c640=_0x564ccc[_0x120bec];return _0x58c640;},a137_0x52b8(_0x5a20c5,_0x34f90e);}(function(_0x43f534,_0x508bc9){const _0x375089=a137_0x52b8,_0x4c6561=_0x43f534();while(!![]){try{const _0x483370=parseInt(_0x375089(0x19b))/0x1+-parseInt(_0x375089(0x160))/0x2+parseInt(_0x375089(0x174))/0x3+-parseInt(_0x375089(0x192))/0x4+-parseInt(_0x375089(0x19e))/0x5*(-parseInt(_0x375089(0x182))/0x6)+-parseInt(_0x375089(0x176))/0x7+parseInt(_0x375089(0x19a))/0x8;if(_0x483370===_0x508bc9)break;else _0x4c6561['push'](_0x4c6561['shift']());}catch(_0x14b27d){_0x4c6561['push'](_0x4c6561['shift']());}}}(a137_0x58c6,0xc8682));function a137_0x58c6(){const _0x7f66a1=['15vEfJeY','SalesforceLogger','logger','[message]\x20%s','1662140DfIIOk','decorate','../../../core','getLogger','retrieve\x20components\x20\x20%d\x20from\x20salesforce','InternalServerError','request','sendLog','/flosum_git','error','loggerId','log','get','delete\x20attachment\x20%s\x20from\x20salesforce','apply','retrieveAttachment','namespace','internalLogger','Logger','object','3267333LcZIyE','services/apexrest','9587837vJNLIx','SalesforceError','deleteAttachment','setLoggerId','SalesforceService','SalesforceAuthService','../errors/salesforce.error','constructor','design:paramtypes','toString','retrieve\x20attachment\x20%s\x20from\x20salesforce','SALESFORCE_API_VERSION','610086vqfKUY','createObject','/logger','./salesforce-logger.service','defineProperty','retrieveComponents','/sobjects/','search','arraybuffer','__metadata','/attachments','function','length','metadata','typedi','post','3575380jaMeql','services/data/','forEach','IGNORE_FLOSUM_GIT_NAMESPACE','/sobjects/Attachment/','then','createSalesforceRequest','(((.+)+)+)+$','12178920xYIYqd','998953wxTwNx','text','../../../core/errors/internal-server.error'];a137_0x58c6=function(){return _0x7f66a1;};return a137_0x58c6();}const a137_0x39363e=(function(){let _0x3f6068=!![];return function(_0x428590,_0x31b3f1){const _0x3fa788=_0x3f6068?function(){const _0x29c013=a137_0x52b8;if(_0x31b3f1){const _0x21ee4a=_0x31b3f1[_0x29c013(0x16e)](_0x428590,arguments);return _0x31b3f1=null,_0x21ee4a;}}:function(){};return _0x3f6068=![],_0x3fa788;};}()),a137_0x120bec=a137_0x39363e(this,function(){const _0x17a2e7=a137_0x52b8;return a137_0x120bec[_0x17a2e7(0x17f)]()[_0x17a2e7(0x189)](_0x17a2e7(0x199))[_0x17a2e7(0x17f)]()[_0x17a2e7(0x17d)](a137_0x120bec)[_0x17a2e7(0x189)](_0x17a2e7(0x199));});a137_0x120bec();'use strict';var __decorate=this&&this['__decorate']||function(_0x56f7e2,_0x1838b0,_0x140f59,_0x5525f6){const _0x26b4a0=a137_0x52b8;var _0x5dcf9c=arguments['length'],_0x572d75=_0x5dcf9c<0x3?_0x1838b0:_0x5525f6===null?_0x5525f6=Object['getOwnPropertyDescriptor'](_0x1838b0,_0x140f59):_0x5525f6,_0x15d75d;if(typeof Reflect===_0x26b4a0(0x173)&&typeof Reflect[_0x26b4a0(0x161)]==='function')_0x572d75=Reflect[_0x26b4a0(0x161)](_0x56f7e2,_0x1838b0,_0x140f59,_0x5525f6);else{for(var _0x4f53a2=_0x56f7e2[_0x26b4a0(0x18e)]-0x1;_0x4f53a2>=0x0;_0x4f53a2--)if(_0x15d75d=_0x56f7e2[_0x4f53a2])_0x572d75=(_0x5dcf9c<0x3?_0x15d75d(_0x572d75):_0x5dcf9c>0x3?_0x15d75d(_0x1838b0,_0x140f59,_0x572d75):_0x15d75d(_0x1838b0,_0x140f59))||_0x572d75;}return _0x5dcf9c>0x3&&_0x572d75&&Object[_0x26b4a0(0x186)](_0x1838b0,_0x140f59,_0x572d75),_0x572d75;},__metadata=this&&this[a137_0x1d3b6f(0x18b)]||function(_0x254db0,_0x2efe0a){const _0x20c5fb=a137_0x1d3b6f;if(typeof Reflect===_0x20c5fb(0x173)&&typeof Reflect[_0x20c5fb(0x18f)]===_0x20c5fb(0x18d))return Reflect[_0x20c5fb(0x18f)](_0x254db0,_0x2efe0a);},SalesforceService_1;Object[a137_0x1d3b6f(0x186)](exports,'__esModule',{'value':!![]}),exports[a137_0x1d3b6f(0x17a)]=void 0x0;const typedi_1=require(a137_0x1d3b6f(0x190)),core_1=require(a137_0x1d3b6f(0x162)),internal_server_error_1=require(a137_0x1d3b6f(0x19d)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require('../../../constants'),create_request_util_1=require('../utils/create-request.util'),salesforce_logger_service_1=require(a137_0x1d3b6f(0x185)),salesforce_error_1=require(a137_0x1d3b6f(0x17c));let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x4177d5){const _0x3c52ca=a137_0x1d3b6f;this[_0x3c52ca(0x15e)]=new core_1[(_0x3c52ca(0x172))](SalesforceService_1['name']),this[_0x3c52ca(0x166)]=create_request_util_1[_0x3c52ca(0x198)](_0x4177d5),this[_0x3c52ca(0x170)]=constants_1[_0x3c52ca(0x195)]?'':_0x3c52ca(0x168);}[a137_0x1d3b6f(0x179)](_0x26772d){const _0x497332=a137_0x1d3b6f;this[_0x497332(0x16a)]=_0x26772d,this[_0x497332(0x171)]=new salesforce_logger_service_1[(_0x497332(0x15d))](this);}[a137_0x1d3b6f(0x163)](){const _0x3ee303=a137_0x1d3b6f;return this[_0x3ee303(0x171)];}async[a137_0x1d3b6f(0x187)](_0x410ffe){const _0xc68009=a137_0x1d3b6f;try{this[_0xc68009(0x15e)]['log'](_0xc68009(0x164),_0x410ffe[_0xc68009(0x18e)]);const _0x5cea34=await this[_0xc68009(0x166)]['post'](_0xc68009(0x175)+this[_0xc68009(0x170)]+_0xc68009(0x18c),{'componentIds':_0x410ffe,'loggerId':this['loggerId']})[_0xc68009(0x197)](({data:_0x40f9e7})=>_0x40f9e7);return _0x5cea34;}catch(_0x2b90f8){this['logger']['error'](_0x2b90f8);throw new salesforce_error_1[(_0xc68009(0x177))](_0x2b90f8);}}async[a137_0x1d3b6f(0x178)](_0x1b213a){const _0x511c1a=a137_0x1d3b6f;try{this['logger'][_0x511c1a(0x16b)](_0x511c1a(0x16d),_0x1b213a),await this[_0x511c1a(0x166)]['delete']('services/data/'+constants_1[_0x511c1a(0x181)]+_0x511c1a(0x196)+_0x1b213a);}catch(_0x18379a){this[_0x511c1a(0x15e)][_0x511c1a(0x169)](_0x18379a);throw new salesforce_error_1[(_0x511c1a(0x177))](_0x18379a);}}async[a137_0x1d3b6f(0x16f)](_0x28d5f0,_0x5cc37d=![]){const _0x4756d6=a137_0x1d3b6f;try{this[_0x4756d6(0x15e)][_0x4756d6(0x16b)](_0x4756d6(0x180),_0x28d5f0);const _0x3f259f=await this[_0x4756d6(0x166)][_0x4756d6(0x16c)]('services/data/'+constants_1[_0x4756d6(0x181)]+_0x4756d6(0x196)+_0x28d5f0+'/body',{'responseType':_0x5cc37d?_0x4756d6(0x18a):_0x4756d6(0x19c)})['then'](({data:_0x26bb9a})=>_0x26bb9a);return _0x3f259f;}catch(_0x173fb3){this['logger']['error'](_0x173fb3);throw new salesforce_error_1[(_0x4756d6(0x177))](_0x173fb3);}}async[a137_0x1d3b6f(0x167)](_0x290b95){const _0x36204e=a137_0x1d3b6f;try{_0x290b95[_0x36204e(0x194)](_0x257836=>this[_0x36204e(0x15e)]['log'](_0x36204e(0x15f),_0x257836)),await this[_0x36204e(0x166)][_0x36204e(0x191)]('services/apexrest'+this[_0x36204e(0x170)]+_0x36204e(0x184),{'messages':_0x290b95,'loggerId':this[_0x36204e(0x16a)]});}catch(_0x146d81){this[_0x36204e(0x15e)][_0x36204e(0x169)](_0x146d81);throw new internal_server_error_1[(_0x36204e(0x165))](_0x146d81);}}async[a137_0x1d3b6f(0x183)](_0x155e58,_0x12631d){const _0x380191=a137_0x1d3b6f;try{const {data:_0x1c0455}=await this[_0x380191(0x166)][_0x380191(0x191)](_0x380191(0x193)+constants_1[_0x380191(0x181)]+_0x380191(0x188)+_0x155e58+'/',_0x12631d);return _0x1c0455['id'];}catch(_0x41560c){throw new salesforce_error_1['SalesforceError'](_0x41560c);}}async['patchObject'](_0x511742,_0x30baec,_0x3cccb3){const _0x20200d=a137_0x1d3b6f;try{await this[_0x20200d(0x166)]['patch'](_0x20200d(0x193)+constants_1[_0x20200d(0x181)]+'/sobjects/'+_0x511742+'/'+_0x30baec,_0x3cccb3);}catch(_0x43c321){throw new salesforce_error_1[(_0x20200d(0x177))](_0x43c321);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1['Service']({'transient':!![]}),__metadata(a137_0x1d3b6f(0x17e),[salesforce_auth_service_1[a137_0x1d3b6f(0x17b)]])],SalesforceService),exports[a137_0x1d3b6f(0x17a)]=SalesforceService;