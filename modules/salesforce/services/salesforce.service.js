const a137_0x11771d=a137_0x1382;function a137_0x1382(_0xded072,_0x59e28b){const _0x5b4c17=a137_0x5bfa();return a137_0x1382=function(_0x5538d9,_0x2f78e5){_0x5538d9=_0x5538d9-0x173;let _0x5bfa78=_0x5b4c17[_0x5538d9];return _0x5bfa78;},a137_0x1382(_0xded072,_0x59e28b);}(function(_0x7d5d8a,_0x5c603c){const _0x7f668=a137_0x1382,_0x2d70d8=_0x7d5d8a();while(!![]){try{const _0x4e06ab=-parseInt(_0x7f668(0x1a8))/0x1+-parseInt(_0x7f668(0x1b0))/0x2*(parseInt(_0x7f668(0x1a9))/0x3)+parseInt(_0x7f668(0x1a6))/0x4*(parseInt(_0x7f668(0x1ad))/0x5)+parseInt(_0x7f668(0x1ae))/0x6*(-parseInt(_0x7f668(0x184))/0x7)+parseInt(_0x7f668(0x19e))/0x8*(parseInt(_0x7f668(0x18a))/0x9)+parseInt(_0x7f668(0x1a1))/0xa+-parseInt(_0x7f668(0x18b))/0xb*(parseInt(_0x7f668(0x1a4))/0xc);if(_0x4e06ab===_0x5c603c)break;else _0x2d70d8['push'](_0x2d70d8['shift']());}catch(_0x54d3c7){_0x2d70d8['push'](_0x2d70d8['shift']());}}}(a137_0x5bfa,0xa453f));const a137_0x2f78e5=(function(){let _0x4969f5=!![];return function(_0x534402,_0x18f138){const _0xb07dc9=_0x4969f5?function(){const _0x5869bf=a137_0x1382;if(_0x18f138){const _0x2cdb90=_0x18f138[_0x5869bf(0x185)](_0x534402,arguments);return _0x18f138=null,_0x2cdb90;}}:function(){};return _0x4969f5=![],_0xb07dc9;};}()),a137_0x5538d9=a137_0x2f78e5(this,function(){const _0x4f6d84=a137_0x1382;return a137_0x5538d9[_0x4f6d84(0x17f)]()[_0x4f6d84(0x18d)](_0x4f6d84(0x194))[_0x4f6d84(0x17f)]()['constructor'](a137_0x5538d9)['search'](_0x4f6d84(0x194));});a137_0x5538d9();'use strict';var __decorate=this&&this[a137_0x11771d(0x173)]||function(_0x33c4e4,_0x3c64fb,_0x204f7a,_0x5cc78b){const _0x420fe0=a137_0x11771d;var _0xf11c7a=arguments['length'],_0x42c73c=_0xf11c7a<0x3?_0x3c64fb:_0x5cc78b===null?_0x5cc78b=Object[_0x420fe0(0x179)](_0x3c64fb,_0x204f7a):_0x5cc78b,_0x2c4301;if(typeof Reflect===_0x420fe0(0x198)&&typeof Reflect[_0x420fe0(0x197)]===_0x420fe0(0x18e))_0x42c73c=Reflect[_0x420fe0(0x197)](_0x33c4e4,_0x3c64fb,_0x204f7a,_0x5cc78b);else{for(var _0x5f3007=_0x33c4e4['length']-0x1;_0x5f3007>=0x0;_0x5f3007--)if(_0x2c4301=_0x33c4e4[_0x5f3007])_0x42c73c=(_0xf11c7a<0x3?_0x2c4301(_0x42c73c):_0xf11c7a>0x3?_0x2c4301(_0x3c64fb,_0x204f7a,_0x42c73c):_0x2c4301(_0x3c64fb,_0x204f7a))||_0x42c73c;}return _0xf11c7a>0x3&&_0x42c73c&&Object[_0x420fe0(0x18c)](_0x3c64fb,_0x204f7a,_0x42c73c),_0x42c73c;},__metadata=this&&this['__metadata']||function(_0x1dd7c2,_0x5dd267){const _0xed5d74=a137_0x11771d;if(typeof Reflect===_0xed5d74(0x198)&&typeof Reflect[_0xed5d74(0x188)]==='function')return Reflect['metadata'](_0x1dd7c2,_0x5dd267);},SalesforceService_1;Object[a137_0x11771d(0x18c)](exports,'__esModule',{'value':!![]}),exports['SalesforceService']=void 0x0;function a137_0x5bfa(){const _0x367190=['setLoggerId','41247FEyaAN','11AoQfuT','defineProperty','search','function','deleteAttachment','/sobjects/Attachment/','SalesforceLogger','../../../core/errors/internal-server.error','SalesforceService','(((.+)+)+)+$','error','./salesforce-logger.service','decorate','object','sendLog','getLogger','retrieveComponents','services/data/','retrieve\x20attachment\x20%s\x20from\x20salesforce','1448KXReAL','delete','forEach','11320200uQPcLH','request','log','7511292WvzojQ','services/apexrest','1313000mFbPYV','name','74433oiETEk','9Fgfltv','namespace','SalesforceError','IGNORE_FLOSUM_GIT_NAMESPACE','15ZHjdiW','4060284mgdLAm','patchObject','597412GoMwmh','internalLogger','loggerId','design:paramtypes','patch','get','/attachments','Service','SALESFORCE_API_VERSION','/sobjects/','__decorate','text','post','retrieve\x20components\x20\x20%d\x20from\x20salesforce','createSalesforceRequest','../../../core','getOwnPropertyDescriptor','delete\x20attachment\x20%s\x20from\x20salesforce','then','../utils/create-request.util','/body','InternalServerError','toString','logger','SalesforceAuthService','typedi','createObject','7cwgnes','apply','retrieveAttachment','Logger','metadata'];a137_0x5bfa=function(){return _0x367190;};return a137_0x5bfa();}const typedi_1=require(a137_0x11771d(0x182)),core_1=require(a137_0x11771d(0x178)),internal_server_error_1=require(a137_0x11771d(0x192)),salesforce_auth_service_1=require('./salesforce-auth.service'),constants_1=require('../../../constants'),create_request_util_1=require(a137_0x11771d(0x17c)),salesforce_logger_service_1=require(a137_0x11771d(0x196)),salesforce_error_1=require('../errors/salesforce.error');let SalesforceService=SalesforceService_1=class SalesforceService{constructor(_0x1d3058){const _0x126b9d=a137_0x11771d;this['logger']=new core_1[(_0x126b9d(0x187))](SalesforceService_1[_0x126b9d(0x1a7)]),this[_0x126b9d(0x1a2)]=create_request_util_1[_0x126b9d(0x177)](_0x1d3058),this[_0x126b9d(0x1aa)]=constants_1[_0x126b9d(0x1ac)]?'':'/flosum_git';}[a137_0x11771d(0x189)](_0x51cba1){const _0x5f3137=a137_0x11771d;this['loggerId']=_0x51cba1,this[_0x5f3137(0x1b1)]=new salesforce_logger_service_1[(_0x5f3137(0x191))](this);}[a137_0x11771d(0x19a)](){const _0x133397=a137_0x11771d;return this[_0x133397(0x1b1)];}async[a137_0x11771d(0x19b)](_0x156ecc){const _0x38d138=a137_0x11771d;try{this['logger'][_0x38d138(0x1a3)](_0x38d138(0x176),_0x156ecc['length']);const _0xbe277f=await this[_0x38d138(0x1a2)]['post'](_0x38d138(0x1a5)+this[_0x38d138(0x1aa)]+_0x38d138(0x1b6),{'componentIds':_0x156ecc,'loggerId':this[_0x38d138(0x1b2)]})[_0x38d138(0x17b)](({data:_0x13160a})=>_0x13160a);return _0xbe277f;}catch(_0x5818e2){this[_0x38d138(0x180)]['error'](_0x5818e2);throw new salesforce_error_1[(_0x38d138(0x1ab))](_0x5818e2);}}async[a137_0x11771d(0x18f)](_0x1156be){const _0x478926=a137_0x11771d;try{this['logger'][_0x478926(0x1a3)](_0x478926(0x17a),_0x1156be),await this['request'][_0x478926(0x19f)](_0x478926(0x19c)+constants_1[_0x478926(0x1b8)]+'/sobjects/Attachment/'+_0x1156be);}catch(_0x52d3ab){this[_0x478926(0x180)][_0x478926(0x195)](_0x52d3ab);throw new salesforce_error_1[(_0x478926(0x1ab))](_0x52d3ab);}}async[a137_0x11771d(0x186)](_0x4277b4,_0xe8a324=![]){const _0x191186=a137_0x11771d;try{this[_0x191186(0x180)][_0x191186(0x1a3)](_0x191186(0x19d),_0x4277b4);const _0x39e612=await this[_0x191186(0x1a2)][_0x191186(0x1b5)](_0x191186(0x19c)+constants_1['SALESFORCE_API_VERSION']+_0x191186(0x190)+_0x4277b4+_0x191186(0x17d),{'responseType':_0xe8a324?'arraybuffer':_0x191186(0x174)})[_0x191186(0x17b)](({data:_0x44de9e})=>_0x44de9e);return _0x39e612;}catch(_0x3925bd){this['logger']['error'](_0x3925bd);throw new salesforce_error_1['SalesforceError'](_0x3925bd);}}async[a137_0x11771d(0x199)](_0x50689e){const _0x11de15=a137_0x11771d;try{_0x50689e[_0x11de15(0x1a0)](_0x269f2d=>this[_0x11de15(0x180)]['log']('[message]\x20%s',_0x269f2d)),await this[_0x11de15(0x1a2)]['post'](_0x11de15(0x1a5)+this['namespace']+'/logger',{'messages':_0x50689e,'loggerId':this[_0x11de15(0x1b2)]});}catch(_0x158426){this[_0x11de15(0x180)][_0x11de15(0x195)](_0x158426);throw new internal_server_error_1[(_0x11de15(0x17e))](_0x158426);}}async[a137_0x11771d(0x183)](_0x4ac0fe,_0x1318c5){const _0x5bd303=a137_0x11771d;try{const {data:_0x5924b5}=await this['request'][_0x5bd303(0x175)](_0x5bd303(0x19c)+constants_1['SALESFORCE_API_VERSION']+'/sobjects/'+_0x4ac0fe+'/',_0x1318c5);return _0x5924b5['id'];}catch(_0x1418f8){throw new salesforce_error_1['SalesforceError'](_0x1418f8);}}async[a137_0x11771d(0x1af)](_0x4425e5,_0x5a2100,_0x48d763){const _0x90a87f=a137_0x11771d;try{await this[_0x90a87f(0x1a2)][_0x90a87f(0x1b4)](_0x90a87f(0x19c)+constants_1[_0x90a87f(0x1b8)]+_0x90a87f(0x1b9)+_0x4425e5+'/'+_0x5a2100,_0x48d763);}catch(_0x2e9633){throw new salesforce_error_1['SalesforceError'](_0x2e9633);}}};SalesforceService=SalesforceService_1=__decorate([typedi_1[a137_0x11771d(0x1b7)]({'transient':!![]}),__metadata(a137_0x11771d(0x1b3),[salesforce_auth_service_1[a137_0x11771d(0x181)]])],SalesforceService),exports[a137_0x11771d(0x193)]=SalesforceService;