function a130_0x3984(_0xb3fe29,_0x498dd9){const _0x40b15c=a130_0x4d35();return a130_0x3984=function(_0x51bfb6,_0x236609){_0x51bfb6=_0x51bfb6-0xbb;let _0x4d3583=_0x40b15c[_0x51bfb6];return _0x4d3583;},a130_0x3984(_0xb3fe29,_0x498dd9);}const a130_0x4e63c0=a130_0x3984;(function(_0x160129,_0x282caf){const _0x2e5397=a130_0x3984,_0x2a4b60=_0x160129();while(!![]){try{const _0x23a86d=-parseInt(_0x2e5397(0xc8))/0x1+parseInt(_0x2e5397(0xda))/0x2*(parseInt(_0x2e5397(0xc1))/0x3)+-parseInt(_0x2e5397(0xe3))/0x4+parseInt(_0x2e5397(0xf7))/0x5*(parseInt(_0x2e5397(0xfa))/0x6)+parseInt(_0x2e5397(0xef))/0x7*(-parseInt(_0x2e5397(0xd9))/0x8)+-parseInt(_0x2e5397(0xc4))/0x9+parseInt(_0x2e5397(0xdf))/0xa*(parseInt(_0x2e5397(0xc2))/0xb);if(_0x23a86d===_0x282caf)break;else _0x2a4b60['push'](_0x2a4b60['shift']());}catch(_0x3cb815){_0x2a4b60['push'](_0x2a4b60['shift']());}}}(a130_0x4d35,0xba6fe));const a130_0x236609=(function(){let _0x21a889=!![];return function(_0x41d094,_0x303d25){const _0x54c182=_0x21a889?function(){const _0xb9d117=a130_0x3984;if(_0x303d25){const _0x576e7c=_0x303d25[_0xb9d117(0xee)](_0x41d094,arguments);return _0x303d25=null,_0x576e7c;}}:function(){};return _0x21a889=![],_0x54c182;};}()),a130_0x51bfb6=a130_0x236609(this,function(){const _0x4d07e4=a130_0x3984;return a130_0x51bfb6[_0x4d07e4(0xd7)]()[_0x4d07e4(0xf0)](_0x4d07e4(0xc5))[_0x4d07e4(0xd7)]()[_0x4d07e4(0xe6)](a130_0x51bfb6)[_0x4d07e4(0xf0)](_0x4d07e4(0xc5));});a130_0x51bfb6();'use strict';var __decorate=this&&this[a130_0x4e63c0(0xfc)]||function(_0x4d2efc,_0x2b8a27,_0x162cf7,_0x4de99f){const _0xcb25ad=a130_0x4e63c0;var _0x11076f=arguments[_0xcb25ad(0xbe)],_0x30dca7=_0x11076f<0x3?_0x2b8a27:_0x4de99f===null?_0x4de99f=Object[_0xcb25ad(0xf1)](_0x2b8a27,_0x162cf7):_0x4de99f,_0x30466f;if(typeof Reflect===_0xcb25ad(0xc7)&&typeof Reflect[_0xcb25ad(0xde)]==='function')_0x30dca7=Reflect[_0xcb25ad(0xde)](_0x4d2efc,_0x2b8a27,_0x162cf7,_0x4de99f);else{for(var _0x312b8a=_0x4d2efc['length']-0x1;_0x312b8a>=0x0;_0x312b8a--)if(_0x30466f=_0x4d2efc[_0x312b8a])_0x30dca7=(_0x11076f<0x3?_0x30466f(_0x30dca7):_0x11076f>0x3?_0x30466f(_0x2b8a27,_0x162cf7,_0x30dca7):_0x30466f(_0x2b8a27,_0x162cf7))||_0x30dca7;}return _0x11076f>0x3&&_0x30dca7&&Object['defineProperty'](_0x2b8a27,_0x162cf7,_0x30dca7),_0x30dca7;},__metadata=this&&this['__metadata']||function(_0x15e662,_0x40741d){const _0x2ef4f1=a130_0x4e63c0;if(typeof Reflect===_0x2ef4f1(0xc7)&&typeof Reflect['metadata']===_0x2ef4f1(0xf8))return Reflect[_0x2ef4f1(0xf6)](_0x15e662,_0x40741d);};Object[a130_0x4e63c0(0xf2)](exports,'__esModule',{'value':!![]}),exports[a130_0x4e63c0(0xd0)]=void 0x0;const not_found_error_1=require(a130_0x4e63c0(0xed)),typedi_1=require(a130_0x4e63c0(0xcb)),constants_1=require(a130_0x4e63c0(0x109)),queries_1=require('../queries'),flosum_naming_utils_1=require(a130_0x4e63c0(0xd6)),salesforce_query_service_1=require(a130_0x4e63c0(0xe7)),salesforce_rest_service_1=require(a130_0x4e63c0(0xe8));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x533adf,_0x1314e2){const _0x1dd211=a130_0x4e63c0;this[_0x1dd211(0x104)]=_0x533adf,this[_0x1dd211(0xce)]=_0x1314e2,this[_0x1dd211(0x100)]=0xc8;}[a130_0x4e63c0(0xcc)](_0x5cfb79){const _0x361d74=a130_0x4e63c0,_0x5dd200=flosum_naming_utils_1[_0x361d74(0xd3)](_0x5cfb79,['Component_Name__c',_0x361d74(0xe0),'CRC32__c',_0x361d74(0xbb),_0x361d74(0xff),'Id']);return{'id':_0x5dd200['Id'],'name':_0x5dd200[_0x361d74(0xd1)],'type':_0x5dd200[_0x361d74(0xe0)],'fileName':_0x5dd200[_0x361d74(0xbb)],'crc32':_0x5dd200[_0x361d74(0xca)],'version':+_0x5dd200[_0x361d74(0xff)]};}async[a130_0x4e63c0(0xc6)](_0x25debe){const _0x288f38=a130_0x4e63c0,[_0x334828]=await this[_0x288f38(0x104)]['query'](queries_1[_0x288f38(0x102)][_0x288f38(0xfe)](_0x288f38(0xbc),_0x25debe));if(!_0x334828)throw new not_found_error_1[(_0x288f38(0xf5))](_0x288f38(0x108)+_0x25debe+_0x288f38(0xbf));return _0x334828['Id'];}async[a130_0x4e63c0(0xd5)](_0x1a5ebb){const _0x6ed2a1=a130_0x4e63c0,[_0x42f34b]=await this[_0x6ed2a1(0x104)][_0x6ed2a1(0xe1)](queries_1[_0x6ed2a1(0xc3)]['replace'](_0x6ed2a1(0xbc),_0x1a5ebb));if(!_0x42f34b)throw new not_found_error_1[(_0x6ed2a1(0xf5))](_0x6ed2a1(0xc0)+_0x1a5ebb+_0x6ed2a1(0xbf));return _0x42f34b['Id'];}async['getComponentRecordTypes'](){const _0x4ad245=a130_0x4e63c0,_0x6e918=await this[_0x4ad245(0x104)][_0x4ad245(0xe1)](queries_1[_0x4ad245(0xbd)]);return _0x6e918[_0x4ad245(0x101)](_0x28016c=>flosum_naming_utils_1[_0x4ad245(0xd3)](_0x28016c,['Id',_0x4ad245(0x103)]))['map'](_0x1e0f16=>({'id':_0x1e0f16['Id'],'name':_0x1e0f16['Name']}));}async[a130_0x4e63c0(0x105)](_0x5457d7,_0x3d7654){const _0x2ed8f0=a130_0x4e63c0,_0x4a66ab=[];while(_0x5457d7[_0x2ed8f0(0xbe)]){const _0xef1c8e=queries_1[_0x2ed8f0(0xdc)][_0x2ed8f0(0xfe)]('%fileNames%',_0x5457d7['splice'](0x0,this[_0x2ed8f0(0x100)])[_0x2ed8f0(0x101)](_0x34c200=>'\x27'+_0x34c200+'\x27')[_0x2ed8f0(0xf4)](','))[_0x2ed8f0(0xfe)](_0x2ed8f0(0xfd),_0x3d7654),_0x5a83ab=await this[_0x2ed8f0(0x104)][_0x2ed8f0(0xe1)](_0xef1c8e);_0x4a66ab['push'](..._0x5a83ab);}return _0x4a66ab[_0x2ed8f0(0x101)](_0x5d58c6=>this[_0x2ed8f0(0xcc)](_0x5d58c6));}async[a130_0x4e63c0(0xcd)](_0x3a9cb0,_0x19b63b){const _0x3bdcf5=a130_0x4e63c0,_0x5946cb=[];while(_0x3a9cb0[_0x3bdcf5(0xbe)]){const _0x156809=queries_1['GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY'][_0x3bdcf5(0xfe)](_0x3bdcf5(0xfb),_0x3a9cb0[_0x3bdcf5(0xe9)](0x0,this[_0x3bdcf5(0x100)])[_0x3bdcf5(0x101)](_0x1c1a6b=>'\x27'+_0x1c1a6b+'\x27')[_0x3bdcf5(0xf4)](','))[_0x3bdcf5(0xfe)]('%branchId%',_0x19b63b),_0x27a149=await this[_0x3bdcf5(0x104)][_0x3bdcf5(0xe1)](_0x156809);_0x5946cb[_0x3bdcf5(0xf9)](..._0x27a149);}return _0x5946cb[_0x3bdcf5(0x101)](_0x56f4a4=>this[_0x3bdcf5(0xcc)](_0x56f4a4));}async[a130_0x4e63c0(0xc9)](_0x530eb7){const _0x480b40=a130_0x4e63c0,_0x208eea=[],_0x429a27=queries_1[_0x480b40(0xd8)][_0x480b40(0xfe)](_0x480b40(0xfd),_0x530eb7),_0x3253c6=await this[_0x480b40(0x104)][_0x480b40(0xe1)](_0x429a27);return _0x208eea[_0x480b40(0xf9)](..._0x3253c6),_0x208eea['map'](_0x3aabd0=>this['extractComponentMetadataFromRecord'](_0x3aabd0));}async[a130_0x4e63c0(0xd4)](_0x47abfc){const _0xc5ebbf=a130_0x4e63c0,_0x426d7f=[],_0x5a74c9=queries_1['GET_BRANCH_COMPONENTS_QUERY'][_0xc5ebbf(0xfe)](_0xc5ebbf(0xe5),_0x47abfc),_0x40e1fb=await this['queryService'][_0xc5ebbf(0xe1)](_0x5a74c9);return _0x426d7f[_0xc5ebbf(0xf9)](..._0x40e1fb),_0x426d7f['map'](_0xfd4c3=>this[_0xc5ebbf(0xcc)](_0xfd4c3));}async['fetchCommitManifestsByComponentIds'](_0x158974){const _0x35c8e1=a130_0x4e63c0,_0x4a5a0b=[..._0x158974],_0x168cb0=[];while(_0x4a5a0b[_0x35c8e1(0xbe)]){const _0x494f12=queries_1[_0x35c8e1(0xe4)][_0x35c8e1(0xfe)](_0x35c8e1(0xd2),_0x4a5a0b[_0x35c8e1(0xe9)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x35c8e1(0x101)](_0x4e993e=>'\x27'+_0x4e993e+'\x27')[_0x35c8e1(0xf4)](',')),_0x4d872c=await this['queryService'][_0x35c8e1(0xe1)](_0x494f12);_0x168cb0[_0x35c8e1(0xf9)](..._0x4d872c[_0x35c8e1(0x101)](_0x5027b0=>_0x5027b0['Id']));}return _0x168cb0;}async['createCommit'](_0x589f91,_0x1febf0){const _0x54af82=a130_0x4e63c0;return this[_0x54af82(0xce)][_0x54af82(0xf3)](constants_1[_0x54af82(0xdb)],{[constants_1['FLOSUM_NAMESPACE']+_0x54af82(0x107)]:_0x1febf0,[constants_1[_0x54af82(0xcf)]+_0x54af82(0xdd)]:_0x589f91[_0x54af82(0xec)](0x0,0xff),[constants_1['FLOSUM_NAMESPACE']+'Status__c']:_0x54af82(0xea),[constants_1['FLOSUM_GIT_NAMESPACE']+'Is_From_Agent__c']:!![]});}};function a130_0x4d35(){const _0x41ad58=['CRC32__c','typedi','extractComponentMetadataFromRecord','fetchBranchComponentsByFilenames','restService','FLOSUM_NAMESPACE','SalesforceGitSyncService','Component_Name__c','%componentIds%','extractFieldsFromRecord','fetchBranchComponents','getBranchIdByName','../utils/flosum-naming.utils','toString','GET_REPOSITORY_COMPONENTS_QUERY','8DEbTve','382402sbWWyA','FLOSUM_COMMIT','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','Commit_Name__c','decorate','1448330OhAQbn','Component_Type__c','query','SalesforceRestService','735588oPLmja','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','%branchId%','constructor','./salesforce-query.service','./salesforce-rest.service','splice','Completed','SalesforceQueryService','substr','../../../core/errors/not-found.error','apply','3590573RZqfWV','search','getOwnPropertyDescriptor','defineProperty','post','join','NotFoundError','metadata','24640hrWRva','function','push','1470hjHrPR','%fileNames%','__decorate','%repositoryId%','replace','Version__c','MAX_QUERY_ARRAY_ITEMS','map','GET_REPOSITORY_BY_NAME_QUERY','Name','queryService','fetchRepositoryComponentsByFilenames','Service','Repository__c','Repository\x20\x22','../../../constants','File_Name__c','%name%','GET_COMPONENT_RECORD_TYPES_QUERY','length','\x22\x20not\x20found\x20in\x20flosum.','Branch\x20\x22','12RyIQKs','99pnfmBp','GET_BRANCH_BY_NAME_QUERY','10088190vBawVl','(((.+)+)+)+$','getRepositoryIdByName','object','694269WLSWaK','fetchRepositoryComponents'];a130_0x4d35=function(){return _0x41ad58;};return a130_0x4d35();}SalesforceGitSyncService=__decorate([typedi_1[a130_0x4e63c0(0x106)](),__metadata('design:paramtypes',[salesforce_query_service_1[a130_0x4e63c0(0xeb)],salesforce_rest_service_1[a130_0x4e63c0(0xe2)]])],SalesforceGitSyncService),exports[a130_0x4e63c0(0xd0)]=SalesforceGitSyncService;