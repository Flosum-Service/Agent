function a130_0x1a46(_0x735e00,_0x1a8864){const _0x3bda92=a130_0x5cf6();return a130_0x1a46=function(_0x321a84,_0x275c1a){_0x321a84=_0x321a84-0x18b;let _0x5cf66a=_0x3bda92[_0x321a84];return _0x5cf66a;},a130_0x1a46(_0x735e00,_0x1a8864);}const a130_0x46a982=a130_0x1a46;(function(_0x3ddcc3,_0x478251){const _0x5730ef=a130_0x1a46,_0x12b40e=_0x3ddcc3();while(!![]){try{const _0x9ca6b9=-parseInt(_0x5730ef(0x1b0))/0x1+-parseInt(_0x5730ef(0x1a6))/0x2+parseInt(_0x5730ef(0x1d3))/0x3*(-parseInt(_0x5730ef(0x1a9))/0x4)+-parseInt(_0x5730ef(0x1bd))/0x5+-parseInt(_0x5730ef(0x1aa))/0x6*(-parseInt(_0x5730ef(0x18d))/0x7)+-parseInt(_0x5730ef(0x18e))/0x8*(-parseInt(_0x5730ef(0x1d2))/0x9)+parseInt(_0x5730ef(0x18c))/0xa*(parseInt(_0x5730ef(0x199))/0xb);if(_0x9ca6b9===_0x478251)break;else _0x12b40e['push'](_0x12b40e['shift']());}catch(_0x233b23){_0x12b40e['push'](_0x12b40e['shift']());}}}(a130_0x5cf6,0x4e784));function a130_0x5cf6(){const _0x4b9ef5=['function','Commit_Name__c','join','push','\x22\x20not\x20found\x20in\x20flosum.','Component_Name__c','11FhharM','getRepositoryIdByName','File_Name__c','FLOSUM_COMMIT','../queries','GET_BRANCH_BY_NAME_QUERY','getComponentRecordTypes','../../../constants','%branchId%','constructor','search','Name','getOwnPropertyDescriptor','369114fuctNV','restService','fetchBranchComponentsByFilenames','8ekmOCV','6noOyzq','decorate','extractFieldsFromRecord','post','GET_COMPONENT_RECORD_TYPES_QUERY','Service','84005MjcGtp','GET_REPOSITORY_COMPONENTS_QUERY','object','metadata','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','./salesforce-rest.service','Repository\x20\x22','GET_REPOSITORY_BY_NAME_QUERY','Component_Type__c','MAX_QUERY_ARRAY_ITEMS','defineProperty','extractComponentMetadataFromRecord','SalesforceGitSyncService','228715evHEUG','length','query','FLOSUM_NAMESPACE','./salesforce-query.service','SalesforceQueryService','GET_BRANCH_COMPONENTS_QUERY','__esModule','CRC32__c','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','replace','getBranchIdByName','fetchRepositoryComponents','fetchCommitManifestsByComponentIds','%componentIds%','apply','FLOSUM_GIT_NAMESPACE','createCommit','Version__c','substr','toString','261297YYIBxQ','323478uIUdYa','(((.+)+)+)+$','%repositoryId%','../utils/flosum-naming.utils','%name%','queryService','NotFoundError','map','splice','2792630jvjDel','143353zDwSQA','152ZwLifX','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','Branch\x20\x22','%fileNames%','../../../core/errors/not-found.error'];a130_0x5cf6=function(){return _0x4b9ef5;};return a130_0x5cf6();}const a130_0x275c1a=(function(){let _0x546de8=!![];return function(_0x187cd1,_0x5fe3b3){const _0x152f7a=_0x546de8?function(){const _0x141bc8=a130_0x1a46;if(_0x5fe3b3){const _0x4ffd6f=_0x5fe3b3[_0x141bc8(0x1cc)](_0x187cd1,arguments);return _0x5fe3b3=null,_0x4ffd6f;}}:function(){};return _0x546de8=![],_0x152f7a;};}()),a130_0x321a84=a130_0x275c1a(this,function(){const _0x13fedf=a130_0x1a46;return a130_0x321a84[_0x13fedf(0x1d1)]()[_0x13fedf(0x1a3)]('(((.+)+)+)+$')[_0x13fedf(0x1d1)]()[_0x13fedf(0x1a2)](a130_0x321a84)[_0x13fedf(0x1a3)](_0x13fedf(0x1d4));});a130_0x321a84();'use strict';var __decorate=this&&this['__decorate']||function(_0x5641df,_0x4ef79e,_0x263712,_0xb76977){const _0xe39b04=a130_0x1a46;var _0x13b00e=arguments['length'],_0x1adf7d=_0x13b00e<0x3?_0x4ef79e:_0xb76977===null?_0xb76977=Object[_0xe39b04(0x1a5)](_0x4ef79e,_0x263712):_0xb76977,_0x32ac14;if(typeof Reflect===_0xe39b04(0x1b2)&&typeof Reflect[_0xe39b04(0x1ab)]===_0xe39b04(0x193))_0x1adf7d=Reflect[_0xe39b04(0x1ab)](_0x5641df,_0x4ef79e,_0x263712,_0xb76977);else{for(var _0x404941=_0x5641df[_0xe39b04(0x1be)]-0x1;_0x404941>=0x0;_0x404941--)if(_0x32ac14=_0x5641df[_0x404941])_0x1adf7d=(_0x13b00e<0x3?_0x32ac14(_0x1adf7d):_0x13b00e>0x3?_0x32ac14(_0x4ef79e,_0x263712,_0x1adf7d):_0x32ac14(_0x4ef79e,_0x263712))||_0x1adf7d;}return _0x13b00e>0x3&&_0x1adf7d&&Object[_0xe39b04(0x1ba)](_0x4ef79e,_0x263712,_0x1adf7d),_0x1adf7d;},__metadata=this&&this['__metadata']||function(_0x497fc3,_0x3b4c54){const _0x5ad88d=a130_0x1a46;if(typeof Reflect==='object'&&typeof Reflect[_0x5ad88d(0x1b3)]===_0x5ad88d(0x193))return Reflect[_0x5ad88d(0x1b3)](_0x497fc3,_0x3b4c54);};Object[a130_0x46a982(0x1ba)](exports,a130_0x46a982(0x1c4),{'value':!![]}),exports[a130_0x46a982(0x1bc)]=void 0x0;const not_found_error_1=require(a130_0x46a982(0x192)),typedi_1=require('typedi'),constants_1=require(a130_0x46a982(0x1a0)),queries_1=require(a130_0x46a982(0x19d)),flosum_naming_utils_1=require(a130_0x46a982(0x1d6)),salesforce_query_service_1=require(a130_0x46a982(0x1c1)),salesforce_rest_service_1=require(a130_0x46a982(0x1b5));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x289bb3,_0x59aefb){const _0x1ff11a=a130_0x46a982;this[_0x1ff11a(0x1d8)]=_0x289bb3,this['restService']=_0x59aefb,this['MAX_QUERY_ARRAY_ITEMS']=0xc8;}[a130_0x46a982(0x1bb)](_0x48abe6){const _0x41d02c=a130_0x46a982,_0x13517b=flosum_naming_utils_1[_0x41d02c(0x1ac)](_0x48abe6,[_0x41d02c(0x198),_0x41d02c(0x1b8),_0x41d02c(0x1c5),_0x41d02c(0x19b),_0x41d02c(0x1cf),'Id']);return{'id':_0x13517b['Id'],'name':_0x13517b[_0x41d02c(0x198)],'type':_0x13517b[_0x41d02c(0x1b8)],'fileName':_0x13517b[_0x41d02c(0x19b)],'crc32':_0x13517b[_0x41d02c(0x1c5)],'version':+_0x13517b[_0x41d02c(0x1cf)]};}async[a130_0x46a982(0x19a)](_0x6c1264){const _0x2641fa=a130_0x46a982,[_0x1314a5]=await this[_0x2641fa(0x1d8)][_0x2641fa(0x1bf)](queries_1[_0x2641fa(0x1b7)][_0x2641fa(0x1c7)](_0x2641fa(0x1d7),_0x6c1264));if(!_0x1314a5)throw new not_found_error_1[(_0x2641fa(0x1d9))](_0x2641fa(0x1b6)+_0x6c1264+_0x2641fa(0x197));return _0x1314a5['Id'];}async[a130_0x46a982(0x1c8)](_0x16175d){const _0x569438=a130_0x46a982,[_0x9c64ab]=await this[_0x569438(0x1d8)][_0x569438(0x1bf)](queries_1[_0x569438(0x19e)]['replace'](_0x569438(0x1d7),_0x16175d));if(!_0x9c64ab)throw new not_found_error_1[(_0x569438(0x1d9))](_0x569438(0x190)+_0x16175d+'\x22\x20not\x20found\x20in\x20flosum.');return _0x9c64ab['Id'];}async[a130_0x46a982(0x19f)](){const _0x439e9e=a130_0x46a982,_0x1531fa=await this['queryService']['query'](queries_1[_0x439e9e(0x1ae)]);return _0x1531fa[_0x439e9e(0x1da)](_0x3ee4e9=>flosum_naming_utils_1[_0x439e9e(0x1ac)](_0x3ee4e9,['Id',_0x439e9e(0x1a4)]))[_0x439e9e(0x1da)](_0x564113=>({'id':_0x564113['Id'],'name':_0x564113['Name']}));}async['fetchRepositoryComponentsByFilenames'](_0x138d7b,_0x52a25a){const _0x2d4ccd=a130_0x46a982,_0x3de6dd=[];while(_0x138d7b[_0x2d4ccd(0x1be)]){const _0x282c9e=queries_1[_0x2d4ccd(0x18f)][_0x2d4ccd(0x1c7)](_0x2d4ccd(0x191),_0x138d7b[_0x2d4ccd(0x18b)](0x0,this[_0x2d4ccd(0x1b9)])[_0x2d4ccd(0x1da)](_0x3cc1ea=>'\x27'+_0x3cc1ea+'\x27')[_0x2d4ccd(0x195)](','))[_0x2d4ccd(0x1c7)](_0x2d4ccd(0x1d5),_0x52a25a),_0x188587=await this[_0x2d4ccd(0x1d8)][_0x2d4ccd(0x1bf)](_0x282c9e);_0x3de6dd['push'](..._0x188587);}return _0x3de6dd[_0x2d4ccd(0x1da)](_0x40fba0=>this[_0x2d4ccd(0x1bb)](_0x40fba0));}async[a130_0x46a982(0x1a8)](_0x16443b,_0x4b3677){const _0x5d43a0=a130_0x46a982,_0x290012=[];while(_0x16443b[_0x5d43a0(0x1be)]){const _0x5bfd6d=queries_1[_0x5d43a0(0x1c6)][_0x5d43a0(0x1c7)]('%fileNames%',_0x16443b[_0x5d43a0(0x18b)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])['map'](_0x247ef1=>'\x27'+_0x247ef1+'\x27')[_0x5d43a0(0x195)](','))['replace'](_0x5d43a0(0x1a1),_0x4b3677),_0x5316c3=await this['queryService'][_0x5d43a0(0x1bf)](_0x5bfd6d);_0x290012[_0x5d43a0(0x196)](..._0x5316c3);}return _0x290012[_0x5d43a0(0x1da)](_0x121dcf=>this[_0x5d43a0(0x1bb)](_0x121dcf));}async[a130_0x46a982(0x1c9)](_0x4a38e9){const _0x1c5c27=a130_0x46a982,_0x41246a=[],_0x2164a9=queries_1[_0x1c5c27(0x1b1)][_0x1c5c27(0x1c7)](_0x1c5c27(0x1d5),_0x4a38e9),_0x2b1773=await this[_0x1c5c27(0x1d8)][_0x1c5c27(0x1bf)](_0x2164a9);return _0x41246a[_0x1c5c27(0x196)](..._0x2b1773),_0x41246a[_0x1c5c27(0x1da)](_0x4e643f=>this[_0x1c5c27(0x1bb)](_0x4e643f));}async['fetchBranchComponents'](_0x32fc07){const _0x5642d7=a130_0x46a982,_0x5c769d=[],_0x40fe60=queries_1[_0x5642d7(0x1c3)][_0x5642d7(0x1c7)](_0x5642d7(0x1a1),_0x32fc07),_0x37e92f=await this[_0x5642d7(0x1d8)][_0x5642d7(0x1bf)](_0x40fe60);return _0x5c769d[_0x5642d7(0x196)](..._0x37e92f),_0x5c769d['map'](_0x235f35=>this[_0x5642d7(0x1bb)](_0x235f35));}async[a130_0x46a982(0x1ca)](_0x2c3e3f){const _0x46bdaf=a130_0x46a982,_0xbbad3c=[..._0x2c3e3f],_0x56d4cc=[];while(_0xbbad3c['length']){const _0x147a3b=queries_1[_0x46bdaf(0x1b4)][_0x46bdaf(0x1c7)](_0x46bdaf(0x1cb),_0xbbad3c[_0x46bdaf(0x18b)](0x0,this[_0x46bdaf(0x1b9)])['map'](_0x362d56=>'\x27'+_0x362d56+'\x27')['join'](',')),_0x162fec=await this['queryService'][_0x46bdaf(0x1bf)](_0x147a3b);_0x56d4cc[_0x46bdaf(0x196)](..._0x162fec[_0x46bdaf(0x1da)](_0x6aa0fc=>_0x6aa0fc['Id']));}return _0x56d4cc;}async[a130_0x46a982(0x1ce)](_0x2328c9,_0xb24dfe){const _0x31d375=a130_0x46a982;return this[_0x31d375(0x1a7)][_0x31d375(0x1ad)](constants_1[_0x31d375(0x19c)],{[constants_1[_0x31d375(0x1c0)]+'Repository__c']:_0xb24dfe,[constants_1[_0x31d375(0x1c0)]+_0x31d375(0x194)]:_0x2328c9[_0x31d375(0x1d0)](0x0,0xff),[constants_1[_0x31d375(0x1c0)]+'Status__c']:'Completed',[constants_1[_0x31d375(0x1cd)]+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([typedi_1[a130_0x46a982(0x1af)](),__metadata('design:paramtypes',[salesforce_query_service_1[a130_0x46a982(0x1c2)],salesforce_rest_service_1['SalesforceRestService']])],SalesforceGitSyncService),exports['SalesforceGitSyncService']=SalesforceGitSyncService;