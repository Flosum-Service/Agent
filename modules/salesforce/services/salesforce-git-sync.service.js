function a129_0x1d6f(_0x42a297,_0x23196e){const _0x3f72dd=a129_0x516c();return a129_0x1d6f=function(_0x51543f,_0x5a48be){_0x51543f=_0x51543f-0x1f0;let _0x516ce0=_0x3f72dd[_0x51543f];return _0x516ce0;},a129_0x1d6f(_0x42a297,_0x23196e);}const a129_0x38ce64=a129_0x1d6f;function a129_0x516c(){const _0xf2a44c=['../../../constants','../utils/flosum-naming.utils','length','./salesforce-rest.service','getComponentRecordTypes','Repository__c','Completed','object','GET_BRANCH_BY_NAME_QUERY','getBranchIdByName','decorate','Name','\x22\x20not\x20found\x20in\x20flosum.','MAX_QUERY_ARRAY_ITEMS','1220hHcmvb','map','Component_Name__c','Commit_Name__c','createCommit','%name%','substr','GET_REPOSITORY_BY_NAME_QUERY','Component_Type__c','splice','__metadata','686328TesERV','./salesforce-query.service','getRepositoryIdByName','design:paramtypes','defineProperty','../../../core/errors/not-found.error','join','fetchCommitManifestsByComponentIds','50EkBtZP','%branchId%','typedi','SalesforceRestService','push','getOwnPropertyDescriptor','query','post','restService','%repositoryId%','fetchBranchComponents','../queries','constructor','metadata','%fileNames%','NotFoundError','apply','toString','fetchRepositoryComponentsByFilenames','3279969PHWWFx','__decorate','extractComponentMetadataFromRecord','CRC32__c','replace','queryService','fetchBranchComponentsByFilenames','18qlKsPz','Status__c','7716580oGRRXp','GET_BRANCH_COMPONENTS_QUERY','(((.+)+)+)+$','6744FwWjDc','function','11003160MCHEHR','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','%componentIds%','FLOSUM_NAMESPACE','Version__c','extractFieldsFromRecord','Service','1426500QcppTn','SalesforceGitSyncService','fetchRepositoryComponents','1015398KHoAwd','File_Name__c'];a129_0x516c=function(){return _0xf2a44c;};return a129_0x516c();}(function(_0x47953e,_0x1d64cd){const _0x43a2e9=a129_0x1d6f,_0x56fc8c=_0x47953e();while(!![]){try{const _0x1085b2=parseInt(_0x43a2e9(0x20a))/0x1+parseInt(_0x43a2e9(0x23d))/0x2+parseInt(_0x43a2e9(0x231))/0x3*(-parseInt(_0x43a2e9(0x1ff))/0x4)+-parseInt(_0x43a2e9(0x22e))/0x5+parseInt(_0x43a2e9(0x22c))/0x6*(parseInt(_0x43a2e9(0x225))/0x7)+parseInt(_0x43a2e9(0x233))/0x8+parseInt(_0x43a2e9(0x23a))/0x9*(-parseInt(_0x43a2e9(0x212))/0xa);if(_0x1085b2===_0x1d64cd)break;else _0x56fc8c['push'](_0x56fc8c['shift']());}catch(_0x3008cc){_0x56fc8c['push'](_0x56fc8c['shift']());}}}(a129_0x516c,0xe8d43));const a129_0x5a48be=(function(){let _0x2c5cc2=!![];return function(_0x3636e6,_0xcf55bf){const _0x3e7d4e=_0x2c5cc2?function(){const _0x103c3b=a129_0x1d6f;if(_0xcf55bf){const _0x1a1ef0=_0xcf55bf[_0x103c3b(0x222)](_0x3636e6,arguments);return _0xcf55bf=null,_0x1a1ef0;}}:function(){};return _0x2c5cc2=![],_0x3e7d4e;};}()),a129_0x51543f=a129_0x5a48be(this,function(){const _0x39bf0f=a129_0x1d6f;return a129_0x51543f[_0x39bf0f(0x223)]()['search'](_0x39bf0f(0x230))[_0x39bf0f(0x223)]()[_0x39bf0f(0x21e)](a129_0x51543f)['search'](_0x39bf0f(0x230));});a129_0x51543f();'use strict';var __decorate=this&&this[a129_0x38ce64(0x226)]||function(_0x168d93,_0x474d5b,_0x27ee5d,_0x907efa){const _0x241332=a129_0x38ce64;var _0x410a4f=arguments[_0x241332(0x1f3)],_0x43eaa3=_0x410a4f<0x3?_0x474d5b:_0x907efa===null?_0x907efa=Object[_0x241332(0x217)](_0x474d5b,_0x27ee5d):_0x907efa,_0x2fdd8c;if(typeof Reflect==='object'&&typeof Reflect[_0x241332(0x1fb)]===_0x241332(0x232))_0x43eaa3=Reflect[_0x241332(0x1fb)](_0x168d93,_0x474d5b,_0x27ee5d,_0x907efa);else{for(var _0x45cee6=_0x168d93['length']-0x1;_0x45cee6>=0x0;_0x45cee6--)if(_0x2fdd8c=_0x168d93[_0x45cee6])_0x43eaa3=(_0x410a4f<0x3?_0x2fdd8c(_0x43eaa3):_0x410a4f>0x3?_0x2fdd8c(_0x474d5b,_0x27ee5d,_0x43eaa3):_0x2fdd8c(_0x474d5b,_0x27ee5d))||_0x43eaa3;}return _0x410a4f>0x3&&_0x43eaa3&&Object[_0x241332(0x20e)](_0x474d5b,_0x27ee5d,_0x43eaa3),_0x43eaa3;},__metadata=this&&this[a129_0x38ce64(0x209)]||function(_0x45beba,_0x4d711b){const _0x4d8484=a129_0x38ce64;if(typeof Reflect===_0x4d8484(0x1f8)&&typeof Reflect[_0x4d8484(0x21f)]===_0x4d8484(0x232))return Reflect[_0x4d8484(0x21f)](_0x45beba,_0x4d711b);};Object[a129_0x38ce64(0x20e)](exports,'__esModule',{'value':!![]}),exports[a129_0x38ce64(0x23b)]=void 0x0;const not_found_error_1=require(a129_0x38ce64(0x20f)),typedi_1=require(a129_0x38ce64(0x214)),constants_1=require(a129_0x38ce64(0x1f1)),queries_1=require(a129_0x38ce64(0x21d)),flosum_naming_utils_1=require(a129_0x38ce64(0x1f2)),salesforce_query_service_1=require(a129_0x38ce64(0x20b)),salesforce_rest_service_1=require(a129_0x38ce64(0x1f4));let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x3ecaec,_0x1fd468){const _0x5c8f05=a129_0x38ce64;this['queryService']=_0x3ecaec,this['restService']=_0x1fd468,this[_0x5c8f05(0x1fe)]=0xc8;}[a129_0x38ce64(0x227)](_0x22ec3c){const _0x3ee0c4=a129_0x38ce64,_0x2091d3=flosum_naming_utils_1[_0x3ee0c4(0x238)](_0x22ec3c,['Component_Name__c',_0x3ee0c4(0x207),'CRC32__c',_0x3ee0c4(0x1f0),_0x3ee0c4(0x237),'Id']);return{'id':_0x2091d3['Id'],'name':_0x2091d3[_0x3ee0c4(0x201)],'type':_0x2091d3['Component_Type__c'],'fileName':_0x2091d3[_0x3ee0c4(0x1f0)],'crc32':_0x2091d3[_0x3ee0c4(0x228)],'version':+_0x2091d3['Version__c']};}async[a129_0x38ce64(0x20c)](_0x964ba5){const _0x4f8f1f=a129_0x38ce64,[_0x43b90a]=await this[_0x4f8f1f(0x22a)][_0x4f8f1f(0x218)](queries_1[_0x4f8f1f(0x206)][_0x4f8f1f(0x229)](_0x4f8f1f(0x204),_0x964ba5));if(!_0x43b90a)throw new not_found_error_1['NotFoundError']('Repository\x20\x22'+_0x964ba5+_0x4f8f1f(0x1fd));return _0x43b90a['Id'];}async[a129_0x38ce64(0x1fa)](_0x1a0291){const _0x27bd27=a129_0x38ce64,[_0x45c964]=await this[_0x27bd27(0x22a)][_0x27bd27(0x218)](queries_1[_0x27bd27(0x1f9)][_0x27bd27(0x229)](_0x27bd27(0x204),_0x1a0291));if(!_0x45c964)throw new not_found_error_1[(_0x27bd27(0x221))]('Branch\x20\x22'+_0x1a0291+'\x22\x20not\x20found\x20in\x20flosum.');return _0x45c964['Id'];}async[a129_0x38ce64(0x1f5)](){const _0x24bac3=a129_0x38ce64,_0x183c18=await this['queryService'][_0x24bac3(0x218)](queries_1['GET_COMPONENT_RECORD_TYPES_QUERY']);return _0x183c18[_0x24bac3(0x200)](_0x1918fd=>flosum_naming_utils_1[_0x24bac3(0x238)](_0x1918fd,['Id','Name']))[_0x24bac3(0x200)](_0x3d101a=>({'id':_0x3d101a['Id'],'name':_0x3d101a[_0x24bac3(0x1fc)]}));}async[a129_0x38ce64(0x224)](_0x301f61,_0x1317f6){const _0x42e083=a129_0x38ce64,_0x155226=[];while(_0x301f61[_0x42e083(0x1f3)]){const _0x135cc6=queries_1[_0x42e083(0x234)][_0x42e083(0x229)]('%fileNames%',_0x301f61['splice'](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x42e083(0x200)](_0x1c4e70=>'\x27'+_0x1c4e70+'\x27')[_0x42e083(0x210)](','))[_0x42e083(0x229)](_0x42e083(0x21b),_0x1317f6),_0x24431d=await this[_0x42e083(0x22a)][_0x42e083(0x218)](_0x135cc6);_0x155226[_0x42e083(0x216)](..._0x24431d);}return _0x155226['map'](_0x4344cc=>this[_0x42e083(0x227)](_0x4344cc));}async[a129_0x38ce64(0x22b)](_0x42848f,_0x22c8d1){const _0x78ad74=a129_0x38ce64,_0xa9767e=[];while(_0x42848f[_0x78ad74(0x1f3)]){const _0x2089d3=queries_1['GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY'][_0x78ad74(0x229)](_0x78ad74(0x220),_0x42848f[_0x78ad74(0x208)](0x0,this[_0x78ad74(0x1fe)])[_0x78ad74(0x200)](_0x5a8bb1=>'\x27'+_0x5a8bb1+'\x27')[_0x78ad74(0x210)](','))[_0x78ad74(0x229)]('%branchId%',_0x22c8d1),_0x47b0b5=await this[_0x78ad74(0x22a)][_0x78ad74(0x218)](_0x2089d3);_0xa9767e['push'](..._0x47b0b5);}return _0xa9767e[_0x78ad74(0x200)](_0x1d92dd=>this[_0x78ad74(0x227)](_0x1d92dd));}async[a129_0x38ce64(0x23c)](_0x1721af){const _0x1bcf67=a129_0x38ce64,_0x2211d8=[],_0x56b95c=queries_1['GET_REPOSITORY_COMPONENTS_QUERY'][_0x1bcf67(0x229)]('%repositoryId%',_0x1721af),_0x268a91=await this[_0x1bcf67(0x22a)][_0x1bcf67(0x218)](_0x56b95c);return _0x2211d8[_0x1bcf67(0x216)](..._0x268a91),_0x2211d8[_0x1bcf67(0x200)](_0x2f11c5=>this[_0x1bcf67(0x227)](_0x2f11c5));}async[a129_0x38ce64(0x21c)](_0x474adf){const _0x492de8=a129_0x38ce64,_0x5a9338=[],_0x348d9f=queries_1[_0x492de8(0x22f)][_0x492de8(0x229)](_0x492de8(0x213),_0x474adf),_0x372f5a=await this[_0x492de8(0x22a)][_0x492de8(0x218)](_0x348d9f);return _0x5a9338[_0x492de8(0x216)](..._0x372f5a),_0x5a9338[_0x492de8(0x200)](_0x39370b=>this['extractComponentMetadataFromRecord'](_0x39370b));}async[a129_0x38ce64(0x211)](_0x58051e){const _0x3d7d2c=a129_0x38ce64,_0x268bfa=[..._0x58051e],_0x16bad5=[];while(_0x268bfa[_0x3d7d2c(0x1f3)]){const _0x674f7a=queries_1['GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS'][_0x3d7d2c(0x229)](_0x3d7d2c(0x235),_0x268bfa[_0x3d7d2c(0x208)](0x0,this[_0x3d7d2c(0x1fe)])['map'](_0x1a4106=>'\x27'+_0x1a4106+'\x27')['join'](',')),_0x5cf3fe=await this[_0x3d7d2c(0x22a)][_0x3d7d2c(0x218)](_0x674f7a);_0x16bad5[_0x3d7d2c(0x216)](..._0x5cf3fe[_0x3d7d2c(0x200)](_0x3c3008=>_0x3c3008['Id']));}return _0x16bad5;}async[a129_0x38ce64(0x203)](_0x92ad8a,_0x283304){const _0x5664f6=a129_0x38ce64;return this[_0x5664f6(0x21a)][_0x5664f6(0x219)](constants_1['FLOSUM_COMMIT'],{[constants_1[_0x5664f6(0x236)]+_0x5664f6(0x1f6)]:_0x283304,[constants_1[_0x5664f6(0x236)]+_0x5664f6(0x202)]:_0x92ad8a[_0x5664f6(0x205)](0x0,0xff),[constants_1[_0x5664f6(0x236)]+_0x5664f6(0x22d)]:_0x5664f6(0x1f7),[constants_1['FLOSUM_GIT_NAMESPACE']+'Is_From_Agent__c']:!![]});}};SalesforceGitSyncService=__decorate([typedi_1[a129_0x38ce64(0x239)](),__metadata(a129_0x38ce64(0x20d),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a129_0x38ce64(0x215)]])],SalesforceGitSyncService),exports[a129_0x38ce64(0x23b)]=SalesforceGitSyncService;