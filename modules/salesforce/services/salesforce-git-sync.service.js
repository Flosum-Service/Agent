function a129_0x4b11(_0x3c0d07,_0x2b846f){const _0x5d7810=a129_0x22d2();return a129_0x4b11=function(_0x10375f,_0x39dff5){_0x10375f=_0x10375f-0x67;let _0x22d20a=_0x5d7810[_0x10375f];return _0x22d20a;},a129_0x4b11(_0x3c0d07,_0x2b846f);}const a129_0x5850d8=a129_0x4b11;function a129_0x22d2(){const _0xf778bb=['FLOSUM_COMMIT','Name','GET_REPOSITORY_COMPONENTS_BY_FILENAMES_QUERY','substr','GET_REPOSITORY_COMPONENTS_QUERY','Is_From_Agent__c','getOwnPropertyDescriptor','SalesforceRestService','FLOSUM_NAMESPACE','__metadata','fetchRepositoryComponents','NotFoundError','createCommit','replace','push','post','getRepositoryIdByName','Repository__c','GET_BRANCH_BY_NAME_QUERY','function','%repositoryId%','GET_COMMIT_MANIFESTS_BY_COMPONENT_IDS','756592TydGXT','16yHsLQe','design:paramtypes','%name%','constructor','Completed','Component_Type__c','(((.+)+)+)+$','search','760109dALvnc','map','getComponentRecordTypes','../queries','25159905MIXSVf','splice','2339196jTRjCJ','fetchCommitManifestsByComponentIds','GET_BRANCH_COMPONENTS_QUERY','fetchBranchComponents','\x22\x20not\x20found\x20in\x20flosum.','Repository\x20\x22','__decorate','join','defineProperty','242553MfFtve','55ZXfBXN','decorate','514122NRBmvF','queryService','fetchBranchComponentsByFilenames','%componentIds%','getBranchIdByName','603999bRFgHU','Version__c','length','extractComponentMetadataFromRecord','__esModule','fetchRepositoryComponentsByFilenames','../../../core/errors/not-found.error','Commit_Name__c','query','./salesforce-query.service','SalesforceGitSyncService','%branchId%','%fileNames%','FLOSUM_GIT_NAMESPACE','typedi','apply','Status__c','GET_COMPONENT_RECORD_TYPES_QUERY','CRC32__c','MAX_QUERY_ARRAY_ITEMS','extractFieldsFromRecord','GET_BRANCH_COMPONENTS_BY_FILENAMES_QUERY','restService','File_Name__c'];a129_0x22d2=function(){return _0xf778bb;};return a129_0x22d2();}(function(_0x2580d3,_0xd9324e){const _0x3c3317=a129_0x4b11,_0x32bcc3=_0x2580d3();while(!![]){try{const _0x408962=-parseInt(_0x3c3317(0x99))/0x1+-parseInt(_0x3c3317(0x81))/0x2+-parseInt(_0x3c3317(0xa1))/0x3+-parseInt(_0x3c3317(0x90))/0x4+-parseInt(_0x3c3317(0x9a))/0x5*(parseInt(_0x3c3317(0x9c))/0x6)+parseInt(_0x3c3317(0x8a))/0x7*(parseInt(_0x3c3317(0x82))/0x8)+parseInt(_0x3c3317(0x8e))/0x9;if(_0x408962===_0xd9324e)break;else _0x32bcc3['push'](_0x32bcc3['shift']());}catch(_0x48956f){_0x32bcc3['push'](_0x32bcc3['shift']());}}}(a129_0x22d2,0xa1e8d));const a129_0x39dff5=(function(){let _0x40fc2d=!![];return function(_0x51ad05,_0x5a05ba){const _0x3bf4b1=_0x40fc2d?function(){const _0x2a78ff=a129_0x4b11;if(_0x5a05ba){const _0x24d3c2=_0x5a05ba[_0x2a78ff(0xb0)](_0x51ad05,arguments);return _0x5a05ba=null,_0x24d3c2;}}:function(){};return _0x40fc2d=![],_0x3bf4b1;};}()),a129_0x10375f=a129_0x39dff5(this,function(){const _0x6bcf81=a129_0x4b11;return a129_0x10375f['toString']()[_0x6bcf81(0x89)](_0x6bcf81(0x88))['toString']()[_0x6bcf81(0x85)](a129_0x10375f)['search'](_0x6bcf81(0x88));});a129_0x10375f();'use strict';var __decorate=this&&this[a129_0x5850d8(0x96)]||function(_0x328afb,_0x2ea640,_0x506221,_0x192720){const _0x217201=a129_0x5850d8;var _0x564641=arguments[_0x217201(0xa3)],_0x23ab64=_0x564641<0x3?_0x2ea640:_0x192720===null?_0x192720=Object[_0x217201(0x71)](_0x2ea640,_0x506221):_0x192720,_0x2b8b5a;if(typeof Reflect==='object'&&typeof Reflect[_0x217201(0x9b)]===_0x217201(0x7e))_0x23ab64=Reflect[_0x217201(0x9b)](_0x328afb,_0x2ea640,_0x506221,_0x192720);else{for(var _0x2e5dec=_0x328afb[_0x217201(0xa3)]-0x1;_0x2e5dec>=0x0;_0x2e5dec--)if(_0x2b8b5a=_0x328afb[_0x2e5dec])_0x23ab64=(_0x564641<0x3?_0x2b8b5a(_0x23ab64):_0x564641>0x3?_0x2b8b5a(_0x2ea640,_0x506221,_0x23ab64):_0x2b8b5a(_0x2ea640,_0x506221))||_0x23ab64;}return _0x564641>0x3&&_0x23ab64&&Object[_0x217201(0x98)](_0x2ea640,_0x506221,_0x23ab64),_0x23ab64;},__metadata=this&&this[a129_0x5850d8(0x74)]||function(_0x1aa2d7,_0x966430){const _0x599b39=a129_0x5850d8;if(typeof Reflect==='object'&&typeof Reflect['metadata']===_0x599b39(0x7e))return Reflect['metadata'](_0x1aa2d7,_0x966430);};Object[a129_0x5850d8(0x98)](exports,a129_0x5850d8(0xa5),{'value':!![]}),exports[a129_0x5850d8(0xab)]=void 0x0;const not_found_error_1=require(a129_0x5850d8(0xa7)),typedi_1=require(a129_0x5850d8(0xaf)),constants_1=require('../../../constants'),queries_1=require(a129_0x5850d8(0x8d)),flosum_naming_utils_1=require('../utils/flosum-naming.utils'),salesforce_query_service_1=require(a129_0x5850d8(0xaa)),salesforce_rest_service_1=require('./salesforce-rest.service');let SalesforceGitSyncService=class SalesforceGitSyncService{constructor(_0x3a189e,_0x5bb807){const _0x4c802a=a129_0x5850d8;this[_0x4c802a(0x9d)]=_0x3a189e,this[_0x4c802a(0x69)]=_0x5bb807,this[_0x4c802a(0xb4)]=0xc8;}[a129_0x5850d8(0xa4)](_0x11dcd1){const _0x2fcd8e=a129_0x5850d8,_0x32fe3c=flosum_naming_utils_1['extractFieldsFromRecord'](_0x11dcd1,['Component_Name__c',_0x2fcd8e(0x87),_0x2fcd8e(0xb3),_0x2fcd8e(0x6a),'Version__c','Id']);return{'id':_0x32fe3c['Id'],'name':_0x32fe3c['Component_Name__c'],'type':_0x32fe3c[_0x2fcd8e(0x87)],'fileName':_0x32fe3c[_0x2fcd8e(0x6a)],'crc32':_0x32fe3c['CRC32__c'],'version':+_0x32fe3c[_0x2fcd8e(0xa2)]};}async[a129_0x5850d8(0x7b)](_0x25733a){const _0x56605c=a129_0x5850d8,[_0x25b2bc]=await this['queryService'][_0x56605c(0xa9)](queries_1['GET_REPOSITORY_BY_NAME_QUERY']['replace'](_0x56605c(0x84),_0x25733a));if(!_0x25b2bc)throw new not_found_error_1[(_0x56605c(0x76))](_0x56605c(0x95)+_0x25733a+_0x56605c(0x94));return _0x25b2bc['Id'];}async[a129_0x5850d8(0xa0)](_0x17515f){const _0x658ace=a129_0x5850d8,[_0xf4f074]=await this[_0x658ace(0x9d)][_0x658ace(0xa9)](queries_1[_0x658ace(0x7d)]['replace'](_0x658ace(0x84),_0x17515f));if(!_0xf4f074)throw new not_found_error_1[(_0x658ace(0x76))]('Branch\x20\x22'+_0x17515f+_0x658ace(0x94));return _0xf4f074['Id'];}async[a129_0x5850d8(0x8c)](){const _0xa78381=a129_0x5850d8,_0x4035b1=await this[_0xa78381(0x9d)]['query'](queries_1[_0xa78381(0xb2)]);return _0x4035b1['map'](_0x376da5=>flosum_naming_utils_1[_0xa78381(0x67)](_0x376da5,['Id',_0xa78381(0x6c)]))['map'](_0x5f2694=>({'id':_0x5f2694['Id'],'name':_0x5f2694['Name']}));}async[a129_0x5850d8(0xa6)](_0x583564,_0x162e6b){const _0x2c2571=a129_0x5850d8,_0x12dba4=[];while(_0x583564[_0x2c2571(0xa3)]){const _0x2374cc=queries_1[_0x2c2571(0x6d)][_0x2c2571(0x78)](_0x2c2571(0xad),_0x583564[_0x2c2571(0x8f)](0x0,this[_0x2c2571(0xb4)])[_0x2c2571(0x8b)](_0x3853ad=>'\x27'+_0x3853ad+'\x27')[_0x2c2571(0x97)](','))[_0x2c2571(0x78)](_0x2c2571(0x7f),_0x162e6b),_0x4eb253=await this[_0x2c2571(0x9d)][_0x2c2571(0xa9)](_0x2374cc);_0x12dba4[_0x2c2571(0x79)](..._0x4eb253);}return _0x12dba4[_0x2c2571(0x8b)](_0x139dc6=>this[_0x2c2571(0xa4)](_0x139dc6));}async[a129_0x5850d8(0x9e)](_0xf00c24,_0x25d767){const _0x26315a=a129_0x5850d8,_0x336d93=[];while(_0xf00c24[_0x26315a(0xa3)]){const _0x18afdb=queries_1[_0x26315a(0x68)][_0x26315a(0x78)](_0x26315a(0xad),_0xf00c24[_0x26315a(0x8f)](0x0,this[_0x26315a(0xb4)])['map'](_0x494b88=>'\x27'+_0x494b88+'\x27')[_0x26315a(0x97)](','))[_0x26315a(0x78)](_0x26315a(0xac),_0x25d767),_0xbd3de0=await this[_0x26315a(0x9d)]['query'](_0x18afdb);_0x336d93[_0x26315a(0x79)](..._0xbd3de0);}return _0x336d93[_0x26315a(0x8b)](_0x18f144=>this[_0x26315a(0xa4)](_0x18f144));}async[a129_0x5850d8(0x75)](_0x2ad525){const _0x3882b6=a129_0x5850d8,_0xd2559b=[],_0x503cd7=queries_1[_0x3882b6(0x6f)][_0x3882b6(0x78)]('%repositoryId%',_0x2ad525),_0x3cf2ce=await this[_0x3882b6(0x9d)][_0x3882b6(0xa9)](_0x503cd7);return _0xd2559b[_0x3882b6(0x79)](..._0x3cf2ce),_0xd2559b['map'](_0x50faa0=>this[_0x3882b6(0xa4)](_0x50faa0));}async[a129_0x5850d8(0x93)](_0x41d3c1){const _0x231995=a129_0x5850d8,_0x4ea79b=[],_0x22024f=queries_1[_0x231995(0x92)][_0x231995(0x78)](_0x231995(0xac),_0x41d3c1),_0x18509e=await this['queryService'][_0x231995(0xa9)](_0x22024f);return _0x4ea79b[_0x231995(0x79)](..._0x18509e),_0x4ea79b['map'](_0x5d8615=>this['extractComponentMetadataFromRecord'](_0x5d8615));}async[a129_0x5850d8(0x91)](_0x597bf8){const _0x428e42=a129_0x5850d8,_0x1f187f=[..._0x597bf8],_0x2de844=[];while(_0x1f187f[_0x428e42(0xa3)]){const _0x47bd8e=queries_1[_0x428e42(0x80)][_0x428e42(0x78)](_0x428e42(0x9f),_0x1f187f[_0x428e42(0x8f)](0x0,this['MAX_QUERY_ARRAY_ITEMS'])[_0x428e42(0x8b)](_0x446769=>'\x27'+_0x446769+'\x27')['join'](',')),_0x166ffb=await this['queryService']['query'](_0x47bd8e);_0x2de844[_0x428e42(0x79)](..._0x166ffb[_0x428e42(0x8b)](_0xfdf77c=>_0xfdf77c['Id']));}return _0x2de844;}async[a129_0x5850d8(0x77)](_0x23ae62,_0x3363e7){const _0x307bbb=a129_0x5850d8;return this[_0x307bbb(0x69)][_0x307bbb(0x7a)](constants_1[_0x307bbb(0x6b)],{[constants_1[_0x307bbb(0x73)]+_0x307bbb(0x7c)]:_0x3363e7,[constants_1['FLOSUM_NAMESPACE']+_0x307bbb(0xa8)]:_0x23ae62[_0x307bbb(0x6e)](0x0,0xff),[constants_1[_0x307bbb(0x73)]+_0x307bbb(0xb1)]:_0x307bbb(0x86),[constants_1[_0x307bbb(0xae)]+_0x307bbb(0x70)]:!![]});}};SalesforceGitSyncService=__decorate([typedi_1['Service'](),__metadata(a129_0x5850d8(0x83),[salesforce_query_service_1['SalesforceQueryService'],salesforce_rest_service_1[a129_0x5850d8(0x72)]])],SalesforceGitSyncService),exports[a129_0x5850d8(0xab)]=SalesforceGitSyncService;