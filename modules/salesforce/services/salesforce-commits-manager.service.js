function a127_0x114f(){const _0xf15fa6=['gitSync','branchId','\x20requests\x20to\x20composite\x20api.','3110976HfFaYM','recordTypes','SalesforceCommitsManager','getProceededComponentsMeta','extractComponentIdsFromGraphsResponse','toJSON','SalesforceGitSyncService','proceededComponentsMeta','(((.+)+)+)+$','SalesforceError','toString','proceedCommitsToRepository','get','226758Tqlxmi','delete','constructor','removed','modified','10319742WpZytb','proceedCommitsToBranch','[INFO]\x20Sending\x20','repositoryId','find','11683Mqmxri','./salesforce-components-manager.service','insert','logger','3288710fsxqOh','./salesforce-composite.service','componentsToDelete','author','options','manifests','../../shared/utils','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','../utils/composite.utils','stringify','SalesforceCompositeService','COMPONENTS_PER_CHUNK','commitId','componentsToUpdate','componentId','defineProperty','executeGraphs','proceedCommits','inserted','426ectGJC','../../../core','length','default','./salesforce-git-sync.service','../errors/salesforce.error','sfLogger','composite','Logger','__esModule','2766pJlcQC','reduce','push','SalesforceComponentsManager','log','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','proceedRequests','name','splice','2487oFAYlj','2143112Lfmjsk'];a127_0x114f=function(){return _0xf15fa6;};return a127_0x114f();}const a127_0x1fa9fd=a127_0x3220;(function(_0x2232e0,_0xf40000){const _0x317ba7=a127_0x3220,_0x398de2=_0x2232e0();while(!![]){try{const _0x3eb27f=parseInt(_0x317ba7(0x1f7))/0x1*(parseInt(_0x317ba7(0x1e3))/0x2)+-parseInt(_0x317ba7(0x209))/0x3+-parseInt(_0x317ba7(0x1fc))/0x4+parseInt(_0x317ba7(0x1d0))/0x5+-parseInt(_0x317ba7(0x1ed))/0x6*(parseInt(_0x317ba7(0x1cc))/0x7)+-parseInt(_0x317ba7(0x1f8))/0x8+parseInt(_0x317ba7(0x1c7))/0x9;if(_0x3eb27f===_0xf40000)break;else _0x398de2['push'](_0x398de2['shift']());}catch(_0x2466d2){_0x398de2['push'](_0x398de2['shift']());}}}(a127_0x114f,0x6c45b));const a127_0xc26eb0=(function(){let _0x4c9557=!![];return function(_0x3a1030,_0x32a273){const _0x2c34f8=_0x4c9557?function(){if(_0x32a273){const _0x883fec=_0x32a273['apply'](_0x3a1030,arguments);return _0x32a273=null,_0x883fec;}}:function(){};return _0x4c9557=![],_0x2c34f8;};}()),a127_0x196a70=a127_0xc26eb0(this,function(){const _0x2171cb=a127_0x3220;return a127_0x196a70[_0x2171cb(0x206)]()['search'](_0x2171cb(0x204))['toString']()[_0x2171cb(0x1c4)](a127_0x196a70)['search'](_0x2171cb(0x204));});a127_0x196a70();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x4d9aa2){const _0x5e353d=a127_0x3220;return _0x4d9aa2&&_0x4d9aa2[_0x5e353d(0x1ec)]?_0x4d9aa2:{'default':_0x4d9aa2};};Object[a127_0x1fa9fd(0x1df)](exports,a127_0x1fa9fd(0x1ec),{'value':!![]}),exports[a127_0x1fa9fd(0x1fe)]=void 0x0;const core_1=require(a127_0x1fa9fd(0x1e4)),typedi_1=__importDefault(require('typedi')),constants_1=require('../../../constants'),utils_1=require(a127_0x1fa9fd(0x1d6)),salesforce_error_1=require(a127_0x1fa9fd(0x1e8)),composite_utils_1=require(a127_0x1fa9fd(0x1d8)),salesforce_components_manager_service_1=require(a127_0x1fa9fd(0x1cd)),salesforce_composite_service_1=require(a127_0x1fa9fd(0x1d1)),salesforce_git_sync_service_1=require(a127_0x1fa9fd(0x1e7));function a127_0x3220(_0x4bbc5b,_0x1097a3){const _0x5d6c5c=a127_0x114f();return a127_0x3220=function(_0x196a70,_0xc26eb0){_0x196a70=_0x196a70-0x1c4;let _0x114fbb=_0x5d6c5c[_0x196a70];return _0x114fbb;},a127_0x3220(_0x4bbc5b,_0x1097a3);}class SalesforceCommitsManager{constructor(_0x2c8bb0){const _0x24f3f8=a127_0x1fa9fd;this[_0x24f3f8(0x1d4)]=_0x2c8bb0,this[_0x24f3f8(0x1db)]=0x3,this[_0x24f3f8(0x1cf)]=new core_1[(_0x24f3f8(0x1eb))](SalesforceCommitsManager[_0x24f3f8(0x1f5)]),this['sfLogger']=this[_0x24f3f8(0x1d4)][_0x24f3f8(0x1cf)],this['composite']=typedi_1[_0x24f3f8(0x1e6)]['get'](salesforce_composite_service_1[_0x24f3f8(0x1da)]),this[_0x24f3f8(0x1f9)]=typedi_1[_0x24f3f8(0x1e6)][_0x24f3f8(0x208)](salesforce_git_sync_service_1[_0x24f3f8(0x202)]),this['proceededComponentsMeta']=[];}async[a127_0x1fa9fd(0x1f4)](_0x50b40c,_0x3071e1=![]){const _0x3deae7=a127_0x1fa9fd,_0x1e432b=(this[_0x3deae7(0x1db)]+ +_0x3071e1)*0x3,_0x50dc7f=utils_1['chunkArray'](_0x50b40c,_0x1e432b);try{while(_0x50dc7f[_0x3deae7(0x1e5)]){const _0x46b014=_0x50dc7f[_0x3deae7(0x1f6)](0x0,Math['floor'](constants_1[_0x3deae7(0x1f2)]/_0x1e432b));await this[_0x3deae7(0x1e9)]['log'](_0x3deae7(0x1c9)+_0x46b014[_0x3deae7(0x1e5)]*_0x1e432b+_0x3deae7(0x1fb))['send']();const _0x120f94=_0x46b014['map']((_0x42d228,_0x384b01)=>({'graphId':'graph'+_0x384b01,'compositeRequest':_0x42d228})),_0x4c7afd=await this[_0x3deae7(0x1ea)][_0x3deae7(0x1e0)](_0x120f94);if(_0x3071e1){const _0x1b80e0=composite_utils_1[_0x3deae7(0x200)](_0x4c7afd);for(const {id:_0x194665,ref:_0x2d2f85}of _0x1b80e0){const _0x997d4f=this['proceededComponentsMeta'][_0x3deae7(0x1cb)](_0x365232=>_0x365232['reference']===_0x2d2f85);_0x997d4f&&(_0x997d4f[_0x3deae7(0x1de)]=_0x194665);}}}}catch(_0x386455){this[_0x3deae7(0x1cf)]['error'](_0x386455 instanceof salesforce_error_1[_0x3deae7(0x205)]?JSON[_0x3deae7(0x1d9)](_0x386455['toJSON'](),null,0x2):_0x386455),this[_0x3deae7(0x1e9)]['log'](_0x386455 instanceof salesforce_error_1[_0x3deae7(0x205)]?JSON[_0x3deae7(0x1d9)](_0x386455[_0x3deae7(0x201)](),null,0x2):_0x386455[_0x3deae7(0x206)]());throw _0x386455;}}async[a127_0x1fa9fd(0x207)](_0x368613){const _0xae5b94=a127_0x1fa9fd;for(const _0x3fc4a9 of _0x368613){if(!_0x3fc4a9[_0xae5b94(0x1e2)][_0xae5b94(0x1e5)]&&!_0x3fc4a9['modified'][_0xae5b94(0x1e5)]&&!_0x3fc4a9[_0xae5b94(0x1c5)][_0xae5b94(0x1e5)])continue;const _0x388b86=[],_0x4e49b5=[],_0x35ec29=new salesforce_components_manager_service_1[(_0xae5b94(0x1f0))](this['options'][_0xae5b94(0x1ca)],this[_0xae5b94(0x1d4)]['branchId'],_0x3fc4a9['author'],this[_0xae5b94(0x1d4)][_0xae5b94(0x1fd)],this['proceededComponentsMeta']);_0x388b86[_0xae5b94(0x1ef)](...await _0x35ec29[_0xae5b94(0x1ce)](_0x3fc4a9['inserted'],this[_0xae5b94(0x1d4)][_0xae5b94(0x1dc)])),_0x388b86[_0xae5b94(0x1ef)](...await _0x35ec29['update'](_0x3fc4a9[_0xae5b94(0x1c6)],this[_0xae5b94(0x1d4)]['commitId'])),_0x4e49b5[_0xae5b94(0x1ef)](await _0x35ec29[_0xae5b94(0x20a)](_0x3fc4a9[_0xae5b94(0x1c5)],!![])),this[_0xae5b94(0x203)]=_0x35ec29[_0xae5b94(0x1ff)](),await this[_0xae5b94(0x1f4)](_0x388b86,!![]);for(const _0x187ddb of _0x4e49b5){_0x187ddb['manifests'][_0xae5b94(0x1e5)]&&await this['proceedRequests'](_0x187ddb['manifests'],!![]),_0x187ddb[_0xae5b94(0x1dd)][_0xae5b94(0x1e5)]&&await this[_0xae5b94(0x1f4)](_0x187ddb[_0xae5b94(0x1dd)],!![]),_0x187ddb[_0xae5b94(0x1d2)][_0xae5b94(0x1e5)]&&await this['proceedRequests'](_0x187ddb[_0xae5b94(0x1d2)],!![]);}this['logger']['log'](_0xae5b94(0x1f3),_0x388b86[_0xae5b94(0x1e5)]);}}async[a127_0x1fa9fd(0x1c8)](_0x25388a){const _0xf7fb7c=a127_0x1fa9fd,_0x1ff2a6=[],_0x52f924=[];for(const _0x37abb8 of _0x25388a){if(!_0x37abb8['inserted'][_0xf7fb7c(0x1e5)]&&!_0x37abb8[_0xf7fb7c(0x1c6)][_0xf7fb7c(0x1e5)]&&!_0x37abb8['removed'][_0xf7fb7c(0x1e5)])continue;const _0x4b093e=new salesforce_components_manager_service_1['SalesforceComponentsManager'](this[_0xf7fb7c(0x1d4)][_0xf7fb7c(0x1ca)],this[_0xf7fb7c(0x1d4)][_0xf7fb7c(0x1fa)],_0x37abb8[_0xf7fb7c(0x1d3)],this['options'][_0xf7fb7c(0x1fd)],[]);_0x1ff2a6['push'](...await _0x4b093e[_0xf7fb7c(0x1ce)](_0x37abb8[_0xf7fb7c(0x1e2)])),_0x1ff2a6['push'](...await _0x4b093e['update'](_0x37abb8['modified'])),_0x52f924[_0xf7fb7c(0x1ef)](await _0x4b093e['delete'](_0x37abb8[_0xf7fb7c(0x1c5)]));}this[_0xf7fb7c(0x1cf)][_0xf7fb7c(0x1f1)](_0xf7fb7c(0x1d7),_0x1ff2a6[_0xf7fb7c(0x1e5)]),await this['proceedRequests'](_0x1ff2a6);const _0x51fc9b=_0x52f924[_0xf7fb7c(0x1ee)]((_0x30122c,_0x4a25af)=>({'manifests':[..._0x30122c['manifests'],..._0x4a25af[_0xf7fb7c(0x1d5)]],'componentsToDelete':[..._0x30122c['componentsToDelete'],..._0x4a25af[_0xf7fb7c(0x1d2)]],'componentsToUpdate':[..._0x30122c['componentsToUpdate'],..._0x4a25af[_0xf7fb7c(0x1dd)]]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x51fc9b[_0xf7fb7c(0x1d5)]['length']&&await this['proceedRequests'](_0x51fc9b['manifests'],!![]),_0x51fc9b[_0xf7fb7c(0x1dd)]['length']&&await this[_0xf7fb7c(0x1f4)](_0x51fc9b[_0xf7fb7c(0x1dd)],!![]),_0x51fc9b['componentsToDelete'][_0xf7fb7c(0x1e5)]&&await this[_0xf7fb7c(0x1f4)](_0x51fc9b['componentsToDelete'],!![]);}async[a127_0x1fa9fd(0x1e1)](_0x5ef88c){const _0x13be90=a127_0x1fa9fd;this[_0x13be90(0x1d4)]['branchId']?await this[_0x13be90(0x1c8)](_0x5ef88c):await this[_0x13be90(0x207)](_0x5ef88c);}}exports['SalesforceCommitsManager']=SalesforceCommitsManager;