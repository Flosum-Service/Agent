function a126_0x110f(){const _0x39f9d2=['__importDefault','6ElEJUy','componentsToUpdate','logger','./salesforce-git-sync.service','modified','recordTypes','map','\x20requests\x20to\x20composite\x20api.','SalesforceCommitsManager','proceededComponentsMeta','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','componentId','reference','214466PrqSEW','88jzwCfb','composite','push','proceedCommitsToBranch','graph','inserted','defineProperty','2RURYTS','114488HKOose','update','extractComponentIdsFromGraphsResponse','1827945WcuWaF','__esModule','toString','chunkArray','send','executeGraphs','apply','proceedRequests','typedi','SalesforceComponentsManager','name','repositoryId','20KZMHnK','./salesforce-components-manager.service','../../shared/utils','96CpwBmY','../../../constants','SalesforceError','search','author','get','sfLogger','SalesforceGitSyncService','getProceededComponentsMeta','./salesforce-composite.service','882292GSYbMy','(((.+)+)+)+$','COMPONENTS_PER_CHUNK','options','componentsToDelete','proceedCommitsToRepository','manifests','toJSON','[INFO]\x20Sending\x20','proceedCommits','removed','gitSync','176157xUsTmf','Logger','commitId','18985MUGeSE','insert','branchId','length','../../../core','reduce','3882840yAnbqA','delete','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','stringify','log'];a126_0x110f=function(){return _0x39f9d2;};return a126_0x110f();}const a126_0x3d9a6d=a126_0x4ddd;(function(_0x438ccb,_0x50699d){const _0x28835a=a126_0x4ddd,_0xa685fb=_0x438ccb();while(!![]){try{const _0x5d765d=parseInt(_0x28835a(0x18d))/0x1*(parseInt(_0x28835a(0x185))/0x2)+parseInt(_0x28835a(0x1c5))/0x3*(parseInt(_0x28835a(0x1aa))/0x4)+parseInt(_0x28835a(0x1b9))/0x5*(parseInt(_0x28835a(0x1a0))/0x6)+parseInt(_0x28835a(0x191))/0x7+parseInt(_0x28835a(0x186))/0x8*(-parseInt(_0x28835a(0x1b6))/0x9)+-parseInt(_0x28835a(0x19d))/0xa*(parseInt(_0x28835a(0x18e))/0xb)+-parseInt(_0x28835a(0x1bf))/0xc;if(_0x5d765d===_0x50699d)break;else _0xa685fb['push'](_0xa685fb['shift']());}catch(_0x431536){_0xa685fb['push'](_0xa685fb['shift']());}}}(a126_0x110f,0x66012));const a126_0xf0b1f3=(function(){let _0x3d07b0=!![];return function(_0x20ebd6,_0x4c71bf){const _0x3ab8b4=_0x3d07b0?function(){const _0x2006a0=a126_0x4ddd;if(_0x4c71bf){const _0x4c5717=_0x4c71bf[_0x2006a0(0x197)](_0x20ebd6,arguments);return _0x4c71bf=null,_0x4c5717;}}:function(){};return _0x3d07b0=![],_0x3ab8b4;};}()),a126_0x3d4baa=a126_0xf0b1f3(this,function(){const _0x17de2e=a126_0x4ddd;return a126_0x3d4baa[_0x17de2e(0x193)]()[_0x17de2e(0x1a3)]('(((.+)+)+)+$')['toString']()['constructor'](a126_0x3d4baa)[_0x17de2e(0x1a3)](_0x17de2e(0x1ab));});a126_0x3d4baa();'use strict';function a126_0x4ddd(_0x3571d2,_0x3b4301){const _0x4e5e4c=a126_0x110f();return a126_0x4ddd=function(_0x3d4baa,_0xf0b1f3){_0x3d4baa=_0x3d4baa-0x181;let _0x110faa=_0x4e5e4c[_0x3d4baa];return _0x110faa;},a126_0x4ddd(_0x3571d2,_0x3b4301);}var __importDefault=this&&this[a126_0x3d9a6d(0x1c4)]||function(_0x136876){const _0xa17c11=a126_0x3d9a6d;return _0x136876&&_0x136876[_0xa17c11(0x192)]?_0x136876:{'default':_0x136876};};Object[a126_0x3d9a6d(0x18c)](exports,a126_0x3d9a6d(0x192),{'value':!![]}),exports[a126_0x3d9a6d(0x1cd)]=void 0x0;const core_1=require(a126_0x3d9a6d(0x1bd)),typedi_1=__importDefault(require(a126_0x3d9a6d(0x199))),constants_1=require(a126_0x3d9a6d(0x1a1)),utils_1=require(a126_0x3d9a6d(0x19f)),salesforce_error_1=require('../errors/salesforce.error'),composite_utils_1=require('../utils/composite.utils'),salesforce_components_manager_service_1=require(a126_0x3d9a6d(0x19e)),salesforce_composite_service_1=require(a126_0x3d9a6d(0x1a9)),salesforce_git_sync_service_1=require(a126_0x3d9a6d(0x1c8));class SalesforceCommitsManager{constructor(_0x5a8f99){const _0x140b8c=a126_0x3d9a6d;this[_0x140b8c(0x1ad)]=_0x5a8f99,this[_0x140b8c(0x1ac)]=0x3,this[_0x140b8c(0x1c7)]=new core_1[(_0x140b8c(0x1b7))](SalesforceCommitsManager[_0x140b8c(0x19b)]),this[_0x140b8c(0x1a6)]=this['options'][_0x140b8c(0x1c7)],this[_0x140b8c(0x187)]=typedi_1['default'][_0x140b8c(0x1a5)](salesforce_composite_service_1['SalesforceCompositeService']),this[_0x140b8c(0x1b5)]=typedi_1['default'][_0x140b8c(0x1a5)](salesforce_git_sync_service_1[_0x140b8c(0x1a7)]),this['proceededComponentsMeta']=[];}async[a126_0x3d9a6d(0x198)](_0x582a99,_0x4f6f85=![]){const _0x5050ca=a126_0x3d9a6d,_0x4ee899=(this['COMPONENTS_PER_CHUNK']+ +_0x4f6f85)*0x3,_0x41bf05=utils_1[_0x5050ca(0x194)](_0x582a99,_0x4ee899);try{while(_0x41bf05['length']){const _0x38fff8=_0x41bf05['splice'](0x0,Math['floor'](constants_1[_0x5050ca(0x1c1)]/_0x4ee899));await this[_0x5050ca(0x1a6)][_0x5050ca(0x1c3)](_0x5050ca(0x1b2)+_0x38fff8[_0x5050ca(0x1bc)]*_0x4ee899+_0x5050ca(0x1cc))[_0x5050ca(0x195)]();const _0x5b67cd=_0x38fff8[_0x5050ca(0x1cb)]((_0x1e3f13,_0x6d07c2)=>({'graphId':_0x5050ca(0x18a)+_0x6d07c2,'compositeRequest':_0x1e3f13})),_0x4292d0=await this['composite'][_0x5050ca(0x196)](_0x5b67cd);if(_0x4f6f85){const _0x21b695=composite_utils_1[_0x5050ca(0x190)](_0x4292d0);for(const {id:_0x5cc70f,ref:_0x4711c4}of _0x21b695){const _0x362bd3=this[_0x5050ca(0x181)]['find'](_0x18f683=>_0x18f683[_0x5050ca(0x184)]===_0x4711c4);_0x362bd3&&(_0x362bd3[_0x5050ca(0x183)]=_0x5cc70f);}}}}catch(_0x39e8f6){this['logger']['error'](_0x39e8f6 instanceof salesforce_error_1[_0x5050ca(0x1a2)]?JSON[_0x5050ca(0x1c2)](_0x39e8f6[_0x5050ca(0x1b1)](),null,0x2):_0x39e8f6),this[_0x5050ca(0x1a6)][_0x5050ca(0x1c3)](_0x39e8f6 instanceof salesforce_error_1['SalesforceError']?JSON[_0x5050ca(0x1c2)](_0x39e8f6[_0x5050ca(0x1b1)](),null,0x2):_0x39e8f6[_0x5050ca(0x193)]());throw _0x39e8f6;}}async[a126_0x3d9a6d(0x1af)](_0x2e4b56){const _0x24f3a5=a126_0x3d9a6d;for(const _0x173783 of _0x2e4b56){if(!_0x173783[_0x24f3a5(0x18b)][_0x24f3a5(0x1bc)]&&!_0x173783['modified']['length']&&!_0x173783[_0x24f3a5(0x1b4)][_0x24f3a5(0x1bc)])continue;const _0x221f63=[],_0x3b0814=[],_0x1c3325=new salesforce_components_manager_service_1[(_0x24f3a5(0x19a))](this[_0x24f3a5(0x1ad)]['repositoryId'],this[_0x24f3a5(0x1ad)][_0x24f3a5(0x1bb)],_0x173783[_0x24f3a5(0x1a4)],this[_0x24f3a5(0x1ad)][_0x24f3a5(0x1ca)],this[_0x24f3a5(0x181)]);_0x221f63[_0x24f3a5(0x188)](...await _0x1c3325[_0x24f3a5(0x1ba)](_0x173783[_0x24f3a5(0x18b)],this['options'][_0x24f3a5(0x1b8)])),_0x221f63[_0x24f3a5(0x188)](...await _0x1c3325[_0x24f3a5(0x18f)](_0x173783[_0x24f3a5(0x1c9)],this['options'][_0x24f3a5(0x1b8)])),_0x3b0814[_0x24f3a5(0x188)](await _0x1c3325[_0x24f3a5(0x1c0)](_0x173783['removed'],!![])),this[_0x24f3a5(0x181)]=_0x1c3325[_0x24f3a5(0x1a8)](),await this[_0x24f3a5(0x198)](_0x221f63,!![]);for(const _0x3f9135 of _0x3b0814){_0x3f9135[_0x24f3a5(0x1b0)][_0x24f3a5(0x1bc)]&&await this[_0x24f3a5(0x198)](_0x3f9135[_0x24f3a5(0x1b0)],!![]),_0x3f9135['componentsToUpdate']['length']&&await this[_0x24f3a5(0x198)](_0x3f9135[_0x24f3a5(0x1c6)],!![]),_0x3f9135[_0x24f3a5(0x1ae)][_0x24f3a5(0x1bc)]&&await this[_0x24f3a5(0x198)](_0x3f9135[_0x24f3a5(0x1ae)],!![]);}this['logger']['log'](_0x24f3a5(0x182),_0x221f63[_0x24f3a5(0x1bc)]);}}async[a126_0x3d9a6d(0x189)](_0x241f2c){const _0x13ee78=a126_0x3d9a6d,_0x4abe27=[],_0x49e94a=[];for(const _0x5359f9 of _0x241f2c){if(!_0x5359f9[_0x13ee78(0x18b)][_0x13ee78(0x1bc)]&&!_0x5359f9[_0x13ee78(0x1c9)][_0x13ee78(0x1bc)]&&!_0x5359f9['removed']['length'])continue;const _0x16fc6e=new salesforce_components_manager_service_1[(_0x13ee78(0x19a))](this[_0x13ee78(0x1ad)][_0x13ee78(0x19c)],this['options'][_0x13ee78(0x1bb)],_0x5359f9[_0x13ee78(0x1a4)],this[_0x13ee78(0x1ad)][_0x13ee78(0x1ca)],[]);_0x4abe27[_0x13ee78(0x188)](...await _0x16fc6e[_0x13ee78(0x1ba)](_0x5359f9['inserted'])),_0x4abe27[_0x13ee78(0x188)](...await _0x16fc6e[_0x13ee78(0x18f)](_0x5359f9[_0x13ee78(0x1c9)])),_0x49e94a['push'](await _0x16fc6e['delete'](_0x5359f9[_0x13ee78(0x1b4)]));}this[_0x13ee78(0x1c7)][_0x13ee78(0x1c3)]('have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)',_0x4abe27[_0x13ee78(0x1bc)]),await this[_0x13ee78(0x198)](_0x4abe27);const _0x532b7a=_0x49e94a[_0x13ee78(0x1be)]((_0x283deb,_0x333123)=>({'manifests':[..._0x283deb[_0x13ee78(0x1b0)],..._0x333123[_0x13ee78(0x1b0)]],'componentsToDelete':[..._0x283deb[_0x13ee78(0x1ae)],..._0x333123['componentsToDelete']],'componentsToUpdate':[..._0x283deb[_0x13ee78(0x1c6)],..._0x333123['componentsToUpdate']]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x532b7a[_0x13ee78(0x1b0)][_0x13ee78(0x1bc)]&&await this[_0x13ee78(0x198)](_0x532b7a['manifests'],!![]),_0x532b7a['componentsToUpdate'][_0x13ee78(0x1bc)]&&await this[_0x13ee78(0x198)](_0x532b7a[_0x13ee78(0x1c6)],!![]),_0x532b7a[_0x13ee78(0x1ae)]['length']&&await this[_0x13ee78(0x198)](_0x532b7a['componentsToDelete'],!![]);}async[a126_0x3d9a6d(0x1b3)](_0x3c3630){const _0x43be11=a126_0x3d9a6d;this[_0x43be11(0x1ad)][_0x43be11(0x1bb)]?await this[_0x43be11(0x189)](_0x3c3630):await this[_0x43be11(0x1af)](_0x3c3630);}}exports[a126_0x3d9a6d(0x1cd)]=SalesforceCommitsManager;