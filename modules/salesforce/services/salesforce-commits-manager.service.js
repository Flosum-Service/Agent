function a127_0x466b(_0xc31933,_0x14757){const _0x5de999=a127_0x5498();return a127_0x466b=function(_0x320eba,_0x4c6727){_0x320eba=_0x320eba-0x7d;let _0x5498a9=_0x5de999[_0x320eba];return _0x5498a9;},a127_0x466b(_0xc31933,_0x14757);}const a127_0x3b7751=a127_0x466b;(function(_0x278b24,_0x21a701){const _0x2a3f59=a127_0x466b,_0x3a13a0=_0x278b24();while(!![]){try{const _0x47f532=parseInt(_0x2a3f59(0xb3))/0x1*(-parseInt(_0x2a3f59(0xa7))/0x2)+-parseInt(_0x2a3f59(0xbc))/0x3+parseInt(_0x2a3f59(0x93))/0x4+-parseInt(_0x2a3f59(0x7d))/0x5+parseInt(_0x2a3f59(0xba))/0x6*(parseInt(_0x2a3f59(0xbb))/0x7)+parseInt(_0x2a3f59(0x9e))/0x8+-parseInt(_0x2a3f59(0x8d))/0x9;if(_0x47f532===_0x21a701)break;else _0x3a13a0['push'](_0x3a13a0['shift']());}catch(_0x194baf){_0x3a13a0['push'](_0x3a13a0['shift']());}}}(a127_0x5498,0x6b97a));function a127_0x5498(){const _0xb0c4c8=['componentsToDelete','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(branch)','removed','SalesforceError','[INFO]\x20Sending\x20','componentsToUpdate','componentId','have\x20to\x20proceed\x20%d\x20composite\x20requests\x20(repository)','floor','send','COMPONENTS_PER_CHUNK','4wFSQcW','./salesforce-composite.service','stringify','proceedCommitsToBranch','length','manifests','Logger','1562502aCjyLF','21tMYAiC','130173RXilAX','branchId','splice','../utils/composite.utils','sfLogger','options','\x20requests\x20to\x20composite\x20api.','update','log','SalesforceCompositeService','toJSON','default','2969895jLCUoT','reference','proceedRequests','get','./salesforce-components-manager.service','commitId','SalesforceGitSyncService','gitSync','error','./salesforce-git-sync.service','name','modified','__esModule','composite','../errors/salesforce.error','inserted','6080202OLbxiE','../../shared/utils','extractComponentIdsFromGraphsResponse','push','map','recordTypes','2169728COWUtT','proceededComponentsMeta','proceedCommitsToRepository','search','../../../constants','defineProperty','(((.+)+)+)+$','getProceededComponentsMeta','SalesforceComponentsManager','repositoryId','graph','7005272QCFZKy','toString','author','executeGraphs','SALESFORCE_MAX_GRAPH_NODES_PER_REQUEST','insert','apply','typedi','logger','222848HTpPki'];a127_0x5498=function(){return _0xb0c4c8;};return a127_0x5498();}const a127_0x4c6727=(function(){let _0x4ece29=!![];return function(_0x3d834e,_0x2e1174){const _0x5eda1d=_0x4ece29?function(){const _0x11d1d7=a127_0x466b;if(_0x2e1174){const _0x477a77=_0x2e1174[_0x11d1d7(0xa4)](_0x3d834e,arguments);return _0x2e1174=null,_0x477a77;}}:function(){};return _0x4ece29=![],_0x5eda1d;};}()),a127_0x320eba=a127_0x4c6727(this,function(){const _0x58f41e=a127_0x466b;return a127_0x320eba[_0x58f41e(0x9f)]()[_0x58f41e(0x96)](_0x58f41e(0x99))['toString']()['constructor'](a127_0x320eba)[_0x58f41e(0x96)]('(((.+)+)+)+$');});a127_0x320eba();'use strict';var __importDefault=this&&this['__importDefault']||function(_0x1080bc){const _0x121cad=a127_0x466b;return _0x1080bc&&_0x1080bc[_0x121cad(0x89)]?_0x1080bc:{'default':_0x1080bc};};Object[a127_0x3b7751(0x98)](exports,a127_0x3b7751(0x89),{'value':!![]}),exports['SalesforceCommitsManager']=void 0x0;const core_1=require('../../../core'),typedi_1=__importDefault(require(a127_0x3b7751(0xa5))),constants_1=require(a127_0x3b7751(0x97)),utils_1=require(a127_0x3b7751(0x8e)),salesforce_error_1=require(a127_0x3b7751(0x8b)),composite_utils_1=require(a127_0x3b7751(0xbf)),salesforce_components_manager_service_1=require(a127_0x3b7751(0x81)),salesforce_composite_service_1=require(a127_0x3b7751(0xb4)),salesforce_git_sync_service_1=require(a127_0x3b7751(0x86));class SalesforceCommitsManager{constructor(_0x388724){const _0x65c934=a127_0x3b7751;this[_0x65c934(0xc1)]=_0x388724,this['COMPONENTS_PER_CHUNK']=0x3,this['logger']=new core_1[(_0x65c934(0xb9))](SalesforceCommitsManager[_0x65c934(0x87)]),this['sfLogger']=this[_0x65c934(0xc1)][_0x65c934(0xa6)],this[_0x65c934(0x8a)]=typedi_1[_0x65c934(0xc7)][_0x65c934(0x80)](salesforce_composite_service_1[_0x65c934(0xc5)]),this[_0x65c934(0x84)]=typedi_1[_0x65c934(0xc7)]['get'](salesforce_git_sync_service_1[_0x65c934(0x83)]),this[_0x65c934(0x94)]=[];}async['proceedRequests'](_0x502128,_0x97d921=![]){const _0x5acabe=a127_0x3b7751,_0x38f77c=(this[_0x5acabe(0xb2)]+ +_0x97d921)*0x3,_0x30e949=utils_1['chunkArray'](_0x502128,_0x38f77c);try{while(_0x30e949[_0x5acabe(0xb7)]){const _0x559240=_0x30e949[_0x5acabe(0xbe)](0x0,Math[_0x5acabe(0xb0)](constants_1[_0x5acabe(0xa2)]/_0x38f77c));await this[_0x5acabe(0xc0)][_0x5acabe(0xc4)](_0x5acabe(0xac)+_0x559240['length']*_0x38f77c+_0x5acabe(0xc2))[_0x5acabe(0xb1)]();const _0xd7d0ed=_0x559240[_0x5acabe(0x91)]((_0x5638a4,_0x4e970d)=>({'graphId':_0x5acabe(0x9d)+_0x4e970d,'compositeRequest':_0x5638a4})),_0x251fef=await this[_0x5acabe(0x8a)][_0x5acabe(0xa1)](_0xd7d0ed);if(_0x97d921){const _0x113a81=composite_utils_1[_0x5acabe(0x8f)](_0x251fef);for(const {id:_0x12b187,ref:_0x468b97}of _0x113a81){const _0x5a6d06=this[_0x5acabe(0x94)]['find'](_0x6990a5=>_0x6990a5[_0x5acabe(0x7e)]===_0x468b97);_0x5a6d06&&(_0x5a6d06[_0x5acabe(0xae)]=_0x12b187);}}}}catch(_0xfffd5c){this[_0x5acabe(0xa6)][_0x5acabe(0x85)](_0xfffd5c instanceof salesforce_error_1[_0x5acabe(0xab)]?JSON[_0x5acabe(0xb5)](_0xfffd5c[_0x5acabe(0xc6)](),null,0x2):_0xfffd5c),this['sfLogger'][_0x5acabe(0xc4)](_0xfffd5c instanceof salesforce_error_1[_0x5acabe(0xab)]?JSON[_0x5acabe(0xb5)](_0xfffd5c['toJSON'](),null,0x2):_0xfffd5c[_0x5acabe(0x9f)]());throw _0xfffd5c;}}async[a127_0x3b7751(0x95)](_0x150249){const _0x350153=a127_0x3b7751;for(const _0x35dff2 of _0x150249){if(!_0x35dff2['inserted']['length']&&!_0x35dff2[_0x350153(0x88)]['length']&&!_0x35dff2[_0x350153(0xaa)]['length'])continue;const _0x34a048=[],_0xcbdc74=[],_0x5d80be=new salesforce_components_manager_service_1[(_0x350153(0x9b))](this['options'][_0x350153(0x9c)],this[_0x350153(0xc1)][_0x350153(0xbd)],_0x35dff2[_0x350153(0xa0)],this[_0x350153(0xc1)][_0x350153(0x92)],this[_0x350153(0x94)]);_0x34a048['push'](...await _0x5d80be[_0x350153(0xa3)](_0x35dff2[_0x350153(0x8c)],this[_0x350153(0xc1)][_0x350153(0x82)])),_0x34a048['push'](...await _0x5d80be[_0x350153(0xc3)](_0x35dff2[_0x350153(0x88)],this['options'][_0x350153(0x82)])),_0xcbdc74[_0x350153(0x90)](await _0x5d80be['delete'](_0x35dff2['removed'],!![])),this['proceededComponentsMeta']=_0x5d80be[_0x350153(0x9a)](),await this[_0x350153(0x7f)](_0x34a048,!![]);for(const _0x2af18e of _0xcbdc74){_0x2af18e[_0x350153(0xb8)][_0x350153(0xb7)]&&await this[_0x350153(0x7f)](_0x2af18e[_0x350153(0xb8)],!![]),_0x2af18e[_0x350153(0xad)]['length']&&await this[_0x350153(0x7f)](_0x2af18e[_0x350153(0xad)],!![]),_0x2af18e[_0x350153(0xa8)][_0x350153(0xb7)]&&await this[_0x350153(0x7f)](_0x2af18e[_0x350153(0xa8)],!![]);}this[_0x350153(0xa6)][_0x350153(0xc4)](_0x350153(0xaf),_0x34a048['length']);}}async[a127_0x3b7751(0xb6)](_0x168b8f){const _0x17c2b9=a127_0x3b7751,_0x5acebb=[],_0x492208=[];for(const _0x2b27e5 of _0x168b8f){if(!_0x2b27e5[_0x17c2b9(0x8c)][_0x17c2b9(0xb7)]&&!_0x2b27e5[_0x17c2b9(0x88)][_0x17c2b9(0xb7)]&&!_0x2b27e5[_0x17c2b9(0xaa)]['length'])continue;const _0x268bbb=new salesforce_components_manager_service_1['SalesforceComponentsManager'](this[_0x17c2b9(0xc1)][_0x17c2b9(0x9c)],this[_0x17c2b9(0xc1)]['branchId'],_0x2b27e5['author'],this[_0x17c2b9(0xc1)]['recordTypes'],[]);_0x5acebb[_0x17c2b9(0x90)](...await _0x268bbb[_0x17c2b9(0xa3)](_0x2b27e5[_0x17c2b9(0x8c)])),_0x5acebb['push'](...await _0x268bbb[_0x17c2b9(0xc3)](_0x2b27e5[_0x17c2b9(0x88)])),_0x492208[_0x17c2b9(0x90)](await _0x268bbb['delete'](_0x2b27e5[_0x17c2b9(0xaa)]));}this['logger'][_0x17c2b9(0xc4)](_0x17c2b9(0xa9),_0x5acebb[_0x17c2b9(0xb7)]),await this[_0x17c2b9(0x7f)](_0x5acebb);const _0x48f324=_0x492208['reduce']((_0x23b77f,_0x4b8afe)=>({'manifests':[..._0x23b77f[_0x17c2b9(0xb8)],..._0x4b8afe[_0x17c2b9(0xb8)]],'componentsToDelete':[..._0x23b77f['componentsToDelete'],..._0x4b8afe[_0x17c2b9(0xa8)]],'componentsToUpdate':[..._0x23b77f[_0x17c2b9(0xad)],..._0x4b8afe[_0x17c2b9(0xad)]]}),{'manifests':[],'componentsToDelete':[],'componentsToUpdate':[]});_0x48f324[_0x17c2b9(0xb8)][_0x17c2b9(0xb7)]&&await this[_0x17c2b9(0x7f)](_0x48f324[_0x17c2b9(0xb8)],!![]),_0x48f324[_0x17c2b9(0xad)][_0x17c2b9(0xb7)]&&await this[_0x17c2b9(0x7f)](_0x48f324[_0x17c2b9(0xad)],!![]),_0x48f324['componentsToDelete']['length']&&await this[_0x17c2b9(0x7f)](_0x48f324[_0x17c2b9(0xa8)],!![]);}async['proceedCommits'](_0x368b0d){const _0x2b0361=a127_0x3b7751;this['options']['branchId']?await this[_0x2b0361(0xb6)](_0x368b0d):await this[_0x2b0361(0x95)](_0x368b0d);}}exports['SalesforceCommitsManager']=SalesforceCommitsManager;