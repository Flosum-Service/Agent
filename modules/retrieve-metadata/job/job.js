const a272_0x2a9296=a272_0x7384;function a272_0x7384(_0x40055b,_0x2b0bc6){const _0x1e6627=a272_0x1bfc();return a272_0x7384=function(_0x503086,_0x4877ed){_0x503086=_0x503086-0xd8;let _0x1bfc67=_0x1e6627[_0x503086];return _0x1bfc67;},a272_0x7384(_0x40055b,_0x2b0bc6);}(function(_0x2d3983,_0x473901){const _0x2700d6=a272_0x7384,_0x460f87=_0x2d3983();while(!![]){try{const _0x29c3f6=-parseInt(_0x2700d6(0xee))/0x1*(parseInt(_0x2700d6(0xf7))/0x2)+-parseInt(_0x2700d6(0xec))/0x3*(-parseInt(_0x2700d6(0xe9))/0x4)+parseInt(_0x2700d6(0xef))/0x5*(-parseInt(_0x2700d6(0xdf))/0x6)+-parseInt(_0x2700d6(0xe1))/0x7+parseInt(_0x2700d6(0xe6))/0x8+-parseInt(_0x2700d6(0xf8))/0x9*(-parseInt(_0x2700d6(0xf9))/0xa)+-parseInt(_0x2700d6(0xf2))/0xb*(-parseInt(_0x2700d6(0xe3))/0xc);if(_0x29c3f6===_0x473901)break;else _0x460f87['push'](_0x460f87['shift']());}catch(_0xe9887f){_0x460f87['push'](_0x460f87['shift']());}}}(a272_0x1bfc,0x6a85b));const a272_0x4877ed=(function(){let _0x22ed47=!![];return function(_0x1ff75b,_0x5d3ab5){const _0x4fee92=_0x22ed47?function(){const _0x3e100a=a272_0x7384;if(_0x5d3ab5){const _0x5f4aef=_0x5d3ab5[_0x3e100a(0xe5)](_0x1ff75b,arguments);return _0x5d3ab5=null,_0x5f4aef;}}:function(){};return _0x22ed47=![],_0x4fee92;};}()),a272_0x503086=a272_0x4877ed(this,function(){const _0x3463c3=a272_0x7384;return a272_0x503086['toString']()['search']('(((.+)+)+)+$')[_0x3463c3(0xfc)]()[_0x3463c3(0xde)](a272_0x503086)[_0x3463c3(0xda)](_0x3463c3(0xdc));});a272_0x503086();'use strict';var __importDefault=this&&this[a272_0x2a9296(0xf1)]||function(_0x3d06ee){const _0x31b522=a272_0x2a9296;return _0x3d06ee&&_0x3d06ee[_0x31b522(0xf0)]?_0x3d06ee:{'default':_0x3d06ee};};Object['defineProperty'](exports,a272_0x2a9296(0xf0),{'value':!![]}),exports[a272_0x2a9296(0xe4)]=void 0x0;function a272_0x1bfc(){const _0xc01f1e=['72650hRVxIN','setCompleted','execute','toString','./classes/state-manger','argv','Retrieve\x20metadata\x20job\x20has\x20been\x20failed','search','jobStorePath','(((.+)+)+)+$','default','constructor','204gExdSP','init','3343956rBkDfV','slice','10858836FRjvmD','Job','apply','197968QDiONC','error','Retrieve\x20metadata\x20job\x20has\x20been\x20started','4Fkbeqb','then','jobId','2136333GOqMPI','setError','42910BkhOjY','104915yDENGK','__esModule','__importDefault','11JHuuOw','Retrieve\x20metadata\x20job\x20has\x20been\x20completed','exit','log','./classes/retrieve-metadata','22lCbwGc','567HBLnJD'];a272_0x1bfc=function(){return _0xc01f1e;};return a272_0x1bfc();}const minimist_1=__importDefault(require('minimist')),state_manger_1=__importDefault(require(a272_0x2a9296(0xfd))),core_1=require('../../../core'),logger_1=__importDefault(require('./classes/logger')),retrieve_metadata_1=__importDefault(require(a272_0x2a9296(0xf6)));class Job{constructor(){const _0x442ceb=a272_0x2a9296,{jobId:_0x3ce4f0,jobStorePath:_0x40855c}=(0x0,minimist_1[_0x442ceb(0xdd)])(process[_0x442ceb(0xd8)][_0x442ceb(0xe2)](0x2));this['jobStorePath']=_0x40855c,this[_0x442ceb(0xeb)]=_0x3ce4f0;}async[a272_0x2a9296(0xfb)](){const _0x45d857=a272_0x2a9296,_0x40557d=new core_1['Logger'](this[_0x45d857(0xeb)]),_0x4cc292=new logger_1[(_0x45d857(0xdd))](this[_0x45d857(0xeb)],_0x40557d),_0x3a3129=await new state_manger_1['default'](this[_0x45d857(0xdb)])[_0x45d857(0xe0)]();await _0x4cc292[_0x45d857(0xf5)](_0x45d857(0xe8));try{await _0x3a3129['setInProgress'](),await new retrieve_metadata_1[(_0x45d857(0xdd))](this[_0x45d857(0xdb)],_0x4cc292,_0x3a3129)[_0x45d857(0xfb)](),await _0x3a3129[_0x45d857(0xfa)](),await _0x4cc292['log'](_0x45d857(0xf3));}catch(_0x12c885){await _0x3a3129[_0x45d857(0xed)](_0x12c885),await _0x4cc292[_0x45d857(0xe7)](_0x45d857(0xd9)),await _0x4cc292[_0x45d857(0xe7)](_0x12c885['message']);}}}exports[a272_0x2a9296(0xe4)]=Job,new Job()[a272_0x2a9296(0xfb)]()[a272_0x2a9296(0xea)](()=>process[a272_0x2a9296(0xf4)](0x0))['catch'](()=>process[a272_0x2a9296(0xf4)](0x1));