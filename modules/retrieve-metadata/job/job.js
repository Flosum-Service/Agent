const a275_0x4716af=a275_0x5f2c;function a275_0x5a35(){const _0x1f60d2=['log','__esModule','2614015IHNvod','215973mxypHg','argv','error','./classes/retrieve-metadata','search','jobId','2080476XlwKNE','init','exit','then','1640622AVJbVO','message','__importDefault','4RTOdzP','jobStorePath','Job','default','constructor','toString','execute','2xCuceI','(((.+)+)+)+$','Retrieve\x20metadata\x20job\x20has\x20been\x20started','Retrieve\x20metadata\x20job\x20has\x20been\x20failed','Logger','7208ofPDPa','Retrieve\x20metadata\x20job\x20has\x20been\x20completed','defineProperty','22759300HdCKQN','4004798HSSWAu','2718TMbvTO'];a275_0x5a35=function(){return _0x1f60d2;};return a275_0x5a35();}(function(_0x53f4d5,_0x45f6af){const _0x1ce83a=a275_0x5f2c,_0x4ceec8=_0x53f4d5();while(!![]){try{const _0x2fef03=parseInt(_0x1ce83a(0x14d))/0x1*(parseInt(_0x1ce83a(0x13f))/0x2)+-parseInt(_0x1ce83a(0x153))/0x3+-parseInt(_0x1ce83a(0x138))/0x4*(parseInt(_0x1ce83a(0x14c))/0x5)+-parseInt(_0x1ce83a(0x157))/0x6+-parseInt(_0x1ce83a(0x148))/0x7+parseInt(_0x1ce83a(0x144))/0x8*(parseInt(_0x1ce83a(0x149))/0x9)+parseInt(_0x1ce83a(0x147))/0xa;if(_0x2fef03===_0x45f6af)break;else _0x4ceec8['push'](_0x4ceec8['shift']());}catch(_0x3b7c13){_0x4ceec8['push'](_0x4ceec8['shift']());}}}(a275_0x5a35,0xab6cf));function a275_0x5f2c(_0x28821e,_0xa064c0){const _0x27bc83=a275_0x5a35();return a275_0x5f2c=function(_0x945065,_0x55a196){_0x945065=_0x945065-0x138;let _0x5a35f9=_0x27bc83[_0x945065];return _0x5a35f9;},a275_0x5f2c(_0x28821e,_0xa064c0);}const a275_0x55a196=(function(){let _0x365480=!![];return function(_0x1e32a8,_0x200de4){const _0x5dc53c=_0x365480?function(){if(_0x200de4){const _0x321c0c=_0x200de4['apply'](_0x1e32a8,arguments);return _0x200de4=null,_0x321c0c;}}:function(){};return _0x365480=![],_0x5dc53c;};}()),a275_0x945065=a275_0x55a196(this,function(){const _0x593879=a275_0x5f2c;return a275_0x945065[_0x593879(0x13d)]()[_0x593879(0x151)]('(((.+)+)+)+$')[_0x593879(0x13d)]()[_0x593879(0x13c)](a275_0x945065)[_0x593879(0x151)](_0x593879(0x140));});a275_0x945065();'use strict';var __importDefault=this&&this[a275_0x4716af(0x159)]||function(_0x5e7bc4){const _0x1d89bf=a275_0x4716af;return _0x5e7bc4&&_0x5e7bc4[_0x1d89bf(0x14b)]?_0x5e7bc4:{'default':_0x5e7bc4};};Object[a275_0x4716af(0x146)](exports,a275_0x4716af(0x14b),{'value':!![]}),exports['Job']=void 0x0;const minimist_1=__importDefault(require('minimist')),state_manger_1=__importDefault(require('../../shared/managers/state-manger')),core_1=require('../../../core'),logger_1=__importDefault(require('./classes/logger')),retrieve_metadata_1=__importDefault(require(a275_0x4716af(0x150)));class Job{constructor(){const _0x46e201=a275_0x4716af,{jobId:_0xb8cf3c,jobStorePath:_0x3c906f}=(0x0,minimist_1[_0x46e201(0x13b)])(process[_0x46e201(0x14e)]['slice'](0x2));this[_0x46e201(0x139)]=_0x3c906f,this['jobId']=_0xb8cf3c;}async[a275_0x4716af(0x13e)](){const _0x26d3dc=a275_0x4716af,_0x292011=new core_1[(_0x26d3dc(0x143))](this[_0x26d3dc(0x152)]),_0x4d74cc=new logger_1[(_0x26d3dc(0x13b))](this[_0x26d3dc(0x152)],_0x292011),_0x308490=await new state_manger_1[(_0x26d3dc(0x13b))](this[_0x26d3dc(0x139)])[_0x26d3dc(0x154)]();await _0x4d74cc[_0x26d3dc(0x14a)](_0x26d3dc(0x141));try{await _0x308490['setInProgress'](),await new retrieve_metadata_1[(_0x26d3dc(0x13b))](this['jobStorePath'],_0x4d74cc,_0x308490)[_0x26d3dc(0x13e)](),await _0x308490['setCompleted'](),await _0x4d74cc[_0x26d3dc(0x14a)](_0x26d3dc(0x145));}catch(_0x54acf5){await _0x308490['setError'](_0x54acf5),await _0x4d74cc[_0x26d3dc(0x14f)](_0x26d3dc(0x142)),await _0x4d74cc[_0x26d3dc(0x14f)](_0x54acf5[_0x26d3dc(0x158)]);}}}exports[a275_0x4716af(0x13a)]=Job,new Job()[a275_0x4716af(0x13e)]()[a275_0x4716af(0x156)](()=>process[a275_0x4716af(0x155)](0x0))['catch'](()=>process['exit'](0x1));