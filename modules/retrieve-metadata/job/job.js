const a319_0x5ba5be=a319_0x13c0;function a319_0x5126(){const _0x1c596d=['search','87eszFkM','init','16BlfzbB','slice','then','2eVXvOy','1574580ZkXuOL','9316263CdZgol','450899QeiFNf','(((.+)+)+)+$','default','argv','__importDefault','./classes/logger','6969330qxtYZZ','toString','Retrieve\x20metadata\x20job\x20has\x20been\x20started','35FrcajA','apply','jobId','__esModule','../../../core','message','866352iGqOpg','Retrieve\x20metadata\x20job\x20has\x20been\x20failed','error','./classes/retrieve-metadata','1122777fuhmSi','exit','log','minimist','Job','execute','44464mbHVHa','Logger'];a319_0x5126=function(){return _0x1c596d;};return a319_0x5126();}(function(_0x4204d7,_0x5baac6){const _0xf07814=a319_0x13c0,_0x572589=_0x4204d7();while(!![]){try{const _0x1d7d35=-parseInt(_0xf07814(0x7a))/0x1*(parseInt(_0xf07814(0x77))/0x2)+parseInt(_0xf07814(0x72))/0x3*(-parseInt(_0xf07814(0x6f))/0x4)+parseInt(_0xf07814(0x78))/0x5+parseInt(_0xf07814(0x89))/0x6*(parseInt(_0xf07814(0x83))/0x7)+-parseInt(_0xf07814(0x74))/0x8*(-parseInt(_0xf07814(0x8d))/0x9)+parseInt(_0xf07814(0x80))/0xa+-parseInt(_0xf07814(0x79))/0xb;if(_0x1d7d35===_0x5baac6)break;else _0x572589['push'](_0x572589['shift']());}catch(_0x5ad8d1){_0x572589['push'](_0x572589['shift']());}}}(a319_0x5126,0x58a6f));const a319_0x47f092=(function(){let _0x2c6cd5=!![];return function(_0x36695d,_0x2a3b79){const _0x40ead4=_0x2c6cd5?function(){const _0x47ccb6=a319_0x13c0;if(_0x2a3b79){const _0x11608a=_0x2a3b79[_0x47ccb6(0x84)](_0x36695d,arguments);return _0x2a3b79=null,_0x11608a;}}:function(){};return _0x2c6cd5=![],_0x40ead4;};}()),a319_0x3a2f6=a319_0x47f092(this,function(){const _0x2f431e=a319_0x13c0;return a319_0x3a2f6[_0x2f431e(0x81)]()[_0x2f431e(0x71)]('(((.+)+)+)+$')[_0x2f431e(0x81)]()['constructor'](a319_0x3a2f6)['search'](_0x2f431e(0x7b));});a319_0x3a2f6();'use strict';var __importDefault=this&&this[a319_0x5ba5be(0x7e)]||function(_0x1fd5d2){const _0x27a422=a319_0x5ba5be;return _0x1fd5d2&&_0x1fd5d2[_0x27a422(0x86)]?_0x1fd5d2:{'default':_0x1fd5d2};};Object['defineProperty'](exports,a319_0x5ba5be(0x86),{'value':!![]}),exports[a319_0x5ba5be(0x6d)]=void 0x0;function a319_0x13c0(_0x2e711b,_0x1a5ce5){const _0xbabbec=a319_0x5126();return a319_0x13c0=function(_0x3a2f6,_0x47f092){_0x3a2f6=_0x3a2f6-0x6d;let _0x5126e1=_0xbabbec[_0x3a2f6];return _0x5126e1;},a319_0x13c0(_0x2e711b,_0x1a5ce5);}const minimist_1=__importDefault(require(a319_0x5ba5be(0x90))),state_manger_1=__importDefault(require('../../shared/managers/state-manger')),core_1=require(a319_0x5ba5be(0x87)),logger_1=__importDefault(require(a319_0x5ba5be(0x7f))),retrieve_metadata_1=__importDefault(require(a319_0x5ba5be(0x8c)));class Job{constructor(){const _0x24c66b=a319_0x5ba5be,{jobId:_0x48936c,jobStorePath:_0x473d4f}=(0x0,minimist_1[_0x24c66b(0x7c)])(process[_0x24c66b(0x7d)][_0x24c66b(0x75)](0x2));this['jobStorePath']=_0x473d4f,this[_0x24c66b(0x85)]=_0x48936c;}async['execute'](){const _0x4cf74b=a319_0x5ba5be,_0x543d98=new core_1[(_0x4cf74b(0x70))](this[_0x4cf74b(0x85)]),_0x425adf=new logger_1['default'](this[_0x4cf74b(0x85)],_0x543d98),_0x12b69a=await new state_manger_1[(_0x4cf74b(0x7c))](this['jobStorePath'])[_0x4cf74b(0x73)]();await _0x425adf[_0x4cf74b(0x8f)](_0x4cf74b(0x82));try{await _0x12b69a['setInProgress'](),await new retrieve_metadata_1['default'](this['jobStorePath'],_0x425adf,_0x12b69a)[_0x4cf74b(0x6e)](),await _0x12b69a['setCompleted'](),await _0x425adf[_0x4cf74b(0x8f)]('Retrieve\x20metadata\x20job\x20has\x20been\x20completed');}catch(_0x16e290){await _0x12b69a['setError'](_0x16e290),await _0x425adf[_0x4cf74b(0x8b)](_0x4cf74b(0x8a)),await _0x425adf['error'](_0x16e290[_0x4cf74b(0x88)]);}}}exports[a319_0x5ba5be(0x6d)]=Job,new Job()[a319_0x5ba5be(0x6e)]()[a319_0x5ba5be(0x76)](()=>process[a319_0x5ba5be(0x8e)](0x0))['catch'](()=>process[a319_0x5ba5be(0x8e)](0x1));