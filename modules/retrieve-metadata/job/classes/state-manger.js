const a267_0x12ceee=a267_0x368b;(function(_0x37922e,_0x1f2a67){const _0x40aa48=a267_0x368b,_0x32182c=_0x37922e();while(!![]){try{const _0x522eb0=parseInt(_0x40aa48(0x140))/0x1*(-parseInt(_0x40aa48(0x13a))/0x2)+parseInt(_0x40aa48(0x153))/0x3*(-parseInt(_0x40aa48(0x163))/0x4)+-parseInt(_0x40aa48(0x161))/0x5+parseInt(_0x40aa48(0x152))/0x6+parseInt(_0x40aa48(0x147))/0x7*(parseInt(_0x40aa48(0x15e))/0x8)+-parseInt(_0x40aa48(0x162))/0x9+parseInt(_0x40aa48(0x148))/0xa;if(_0x522eb0===_0x1f2a67)break;else _0x32182c['push'](_0x32182c['shift']());}catch(_0xe343d3){_0x32182c['push'](_0x32182c['shift']());}}}(a267_0x4f44,0x89d21));const a267_0x40dddf=(function(){let _0x1b21f2=!![];return function(_0x3ae540,_0x381d66){const _0xbd7cfe=_0x1b21f2?function(){if(_0x381d66){const _0x456c0e=_0x381d66['apply'](_0x3ae540,arguments);return _0x381d66=null,_0x456c0e;}}:function(){};return _0x1b21f2=![],_0xbd7cfe;};}()),a267_0xc6c63e=a267_0x40dddf(this,function(){const _0x4b4e58=a267_0x368b;return a267_0xc6c63e[_0x4b4e58(0x15b)]()['search']('(((.+)+)+)+$')[_0x4b4e58(0x15b)]()['constructor'](a267_0xc6c63e)[_0x4b4e58(0x141)](_0x4b4e58(0x14d));});a267_0xc6c63e();function a267_0x368b(_0x23e3a0,_0x4e6d85){const _0x2ef03e=a267_0x4f44();return a267_0x368b=function(_0xc6c63e,_0x40dddf){_0xc6c63e=_0xc6c63e-0x135;let _0x4f44ec=_0x2ef03e[_0xc6c63e];return _0x4f44ec;},a267_0x368b(_0x23e3a0,_0x4e6d85);}'use strict';var __importDefault=this&&this['__importDefault']||function(_0xa0da02){const _0x178b5e=a267_0x368b;return _0xa0da02&&_0xa0da02[_0x178b5e(0x138)]?_0xa0da02:{'default':_0xa0da02};};Object[a267_0x12ceee(0x15d)](exports,a267_0x12ceee(0x138),{'value':!![]});const logger_enums_1=require(a267_0x12ceee(0x13f)),path_1=__importDefault(require('path')),promises_1=require(a267_0x12ceee(0x14f)),utils_1=require(a267_0x12ceee(0x145)),job_1=require('../../../../constants/job');class StateManager{constructor(_0x5ced45){const _0x342824=a267_0x12ceee;this[_0x342824(0x139)]=StateManager[_0x342824(0x15c)](_0x5ced45);}static['getJobStatePath'](_0x5cfde5){const _0x56fdd6=a267_0x12ceee;return path_1['default'][_0x56fdd6(0x143)](_0x5cfde5,job_1[_0x56fdd6(0x15a)]);}static async[a267_0x12ceee(0x137)](_0x3ee800,_0x46b231){const _0x588345=a267_0x12ceee,_0x2c3ce9=StateManager[_0x588345(0x15c)](_0x3ee800),_0x3aa293={'id':_0x46b231,'status':logger_enums_1['JobStatus'][_0x588345(0x13b)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x588345(0x13d)])(_0x2c3ce9,JSON[_0x588345(0x160)](_0x3aa293));}static async[a267_0x12ceee(0x149)](_0x282c7f){const _0x38a68d=a267_0x12ceee,_0x5d5478=StateManager[_0x38a68d(0x15c)](_0x282c7f);if(await utils_1[_0x38a68d(0x154)][_0x38a68d(0x158)](_0x5d5478))return(0x0,promises_1[_0x38a68d(0x13e)])(_0x5d5478,_0x38a68d(0x14a))[_0x38a68d(0x144)](JSON[_0x38a68d(0x136)]);throw new Error('Job\x20not\x20found.');}async[a267_0x12ceee(0x151)](){const _0x3a2bf2=a267_0x12ceee;await(0x0,promises_1[_0x3a2bf2(0x13d)])(this[_0x3a2bf2(0x139)],JSON[_0x3a2bf2(0x160)](this[_0x3a2bf2(0x159)]));}async[a267_0x12ceee(0x14e)](){const _0x2450dd=a267_0x12ceee;return this[_0x2450dd(0x159)]=await(0x0,promises_1[_0x2450dd(0x13e)])(this[_0x2450dd(0x139)],'utf-8')[_0x2450dd(0x144)](JSON[_0x2450dd(0x136)]),this;}async[a267_0x12ceee(0x157)](){const _0x5d482e=a267_0x12ceee;this[_0x5d482e(0x159)][_0x5d482e(0x14b)]=logger_enums_1['JobStatus'][_0x5d482e(0x15f)],this[_0x5d482e(0x159)]['createdDate']=new Date()['getTime'](),await this[_0x5d482e(0x151)]();}async['setCompleted'](){const _0x16650f=a267_0x12ceee;this['jobState'][_0x16650f(0x14b)]=logger_enums_1['JobStatus'][_0x16650f(0x164)],this['jobState'][_0x16650f(0x156)]=new Date()[_0x16650f(0x146)](),await this[_0x16650f(0x151)]();}async['setError']({message:_0x39b634}){const _0x585144=a267_0x12ceee;this[_0x585144(0x159)][_0x585144(0x14b)]=logger_enums_1[_0x585144(0x135)][_0x585144(0x150)],this[_0x585144(0x159)][_0x585144(0x156)]=new Date()['getTime'](),this[_0x585144(0x159)][_0x585144(0x155)]=_0x39b634,await this[_0x585144(0x151)]();}[a267_0x12ceee(0x13c)](_0x19a131){const _0x189150=a267_0x12ceee;return this[_0x189150(0x159)][_0x189150(0x14c)]['push'](_0x19a131),this[_0x189150(0x151)]();}}exports[a267_0x12ceee(0x142)]=StateManager;function a267_0x4f44(){const _0x4a408d=['JOB_LOG_STATE_FILENAME','toString','getJobStatePath','defineProperty','7466384vPElLR','IN_PROGRESS','stringify','2654580eyIXpX','2153529ZFIWzo','3472UaCTcU','COMPLETED','JobStatus','parse','create','__esModule','statePath','666MzarRl','QUEUED','addWarning','writeFile','readFile','../enums/logger.enums','929EevbUs','search','default','join','then','@flosum/utils','getTime','7fBbKWF','6100630dEfzvH','getJobState','utf-8','status','warnings','(((.+)+)+)+$','init','fs/promises','FAILED','update','6291372wJrKCm','3276HTFwLS','FsUtils','error','completedDate','setInProgress','isExistsPath','jobState'];a267_0x4f44=function(){return _0x4a408d;};return a267_0x4f44();}