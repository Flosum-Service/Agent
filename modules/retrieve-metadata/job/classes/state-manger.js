const a268_0x1bc0fe=a268_0x1310;(function(_0x485a6f,_0x2b31c2){const _0x5a60dd=a268_0x1310,_0x1974a7=_0x485a6f();while(!![]){try{const _0xa95f1c=parseInt(_0x5a60dd(0x78))/0x1*(-parseInt(_0x5a60dd(0x97))/0x2)+parseInt(_0x5a60dd(0x6b))/0x3*(-parseInt(_0x5a60dd(0x91))/0x4)+-parseInt(_0x5a60dd(0x87))/0x5*(-parseInt(_0x5a60dd(0x74))/0x6)+parseInt(_0x5a60dd(0x7e))/0x7*(-parseInt(_0x5a60dd(0x96))/0x8)+parseInt(_0x5a60dd(0x73))/0x9*(parseInt(_0x5a60dd(0x71))/0xa)+parseInt(_0x5a60dd(0x92))/0xb+parseInt(_0x5a60dd(0x67))/0xc;if(_0xa95f1c===_0x2b31c2)break;else _0x1974a7['push'](_0x1974a7['shift']());}catch(_0x4dcc7b){_0x1974a7['push'](_0x1974a7['shift']());}}}(a268_0x38e1,0x8f4da));function a268_0x38e1(){const _0xa50b11=['FAILED','16516XbvMLW','jobState','create','search','join','path','2022790CsnTzG','Job\x20not\x20found.','isExistsPath','IN_PROGRESS','apply','completedDate','defineProperty','warnings','default','237415rEtTqm','addWarning','setInProgress','getTime','(((.+)+)+)+$','@flosum/utils','then','../enums/logger.enums','fs/promises','../../../../constants/job','4450564ZTxIDD','9762478hbIkgt','JobStatus','__importDefault','readFile','8COeJJY','104UZttGj','__esModule','getJobState','utf-8','7662768HJUXcS','writeFile','update','QUEUED','3wGOXjY','getJobStatePath','status','error','JOB_LOG_STATE_FILENAME','statePath','10gEzFXR','stringify','10182771kqJgyg','24qJFYKo','constructor','FsUtils'];a268_0x38e1=function(){return _0xa50b11;};return a268_0x38e1();}const a268_0x11a710=(function(){let _0x6ef33c=!![];return function(_0x5cff9b,_0x183964){const _0x2f745e=_0x6ef33c?function(){const _0x1e411b=a268_0x1310;if(_0x183964){const _0x2162e7=_0x183964[_0x1e411b(0x82)](_0x5cff9b,arguments);return _0x183964=null,_0x2162e7;}}:function(){};return _0x6ef33c=![],_0x2f745e;};}()),a268_0x3b8374=a268_0x11a710(this,function(){const _0x316c46=a268_0x1310;return a268_0x3b8374['toString']()[_0x316c46(0x7b)](_0x316c46(0x8b))['toString']()[_0x316c46(0x75)](a268_0x3b8374)['search']('(((.+)+)+)+$');});a268_0x3b8374();function a268_0x1310(_0xea130,_0x45bb2e){const _0x128106=a268_0x38e1();return a268_0x1310=function(_0x3b8374,_0x11a710){_0x3b8374=_0x3b8374-0x67;let _0x38e14c=_0x128106[_0x3b8374];return _0x38e14c;},a268_0x1310(_0xea130,_0x45bb2e);}'use strict';var __importDefault=this&&this[a268_0x1bc0fe(0x94)]||function(_0x3282d0){const _0x2cbcf0=a268_0x1bc0fe;return _0x3282d0&&_0x3282d0[_0x2cbcf0(0x98)]?_0x3282d0:{'default':_0x3282d0};};Object[a268_0x1bc0fe(0x84)](exports,'__esModule',{'value':!![]});const logger_enums_1=require(a268_0x1bc0fe(0x8e)),path_1=__importDefault(require(a268_0x1bc0fe(0x7d))),promises_1=require(a268_0x1bc0fe(0x8f)),utils_1=require(a268_0x1bc0fe(0x8c)),job_1=require(a268_0x1bc0fe(0x90));class StateManager{constructor(_0x5d74d3){const _0x4935af=a268_0x1bc0fe;this['statePath']=StateManager[_0x4935af(0x6c)](_0x5d74d3);}static[a268_0x1bc0fe(0x6c)](_0x4e32ba){const _0x558c36=a268_0x1bc0fe;return path_1[_0x558c36(0x86)][_0x558c36(0x7c)](_0x4e32ba,job_1[_0x558c36(0x6f)]);}static async[a268_0x1bc0fe(0x7a)](_0x1630a8,_0x597b4f){const _0x59bbf3=a268_0x1bc0fe,_0x30e165=StateManager[_0x59bbf3(0x6c)](_0x1630a8),_0x42f401={'id':_0x597b4f,'status':logger_enums_1[_0x59bbf3(0x93)][_0x59bbf3(0x6a)],'createdDate':null,'completedDate':null,'error':null,'warnings':[]};await(0x0,promises_1[_0x59bbf3(0x68)])(_0x30e165,JSON[_0x59bbf3(0x72)](_0x42f401));}static async[a268_0x1bc0fe(0x99)](_0x355aef){const _0x3a9f61=a268_0x1bc0fe,_0x1afc19=StateManager['getJobStatePath'](_0x355aef);if(await utils_1[_0x3a9f61(0x76)][_0x3a9f61(0x80)](_0x1afc19))return(0x0,promises_1[_0x3a9f61(0x95)])(_0x1afc19,_0x3a9f61(0x9a))[_0x3a9f61(0x8d)](JSON['parse']);throw new Error(_0x3a9f61(0x7f));}async[a268_0x1bc0fe(0x69)](){const _0x552a39=a268_0x1bc0fe;await(0x0,promises_1[_0x552a39(0x68)])(this['statePath'],JSON[_0x552a39(0x72)](this[_0x552a39(0x79)]));}async['init'](){const _0x30d6df=a268_0x1bc0fe;return this['jobState']=await(0x0,promises_1['readFile'])(this[_0x30d6df(0x70)],_0x30d6df(0x9a))[_0x30d6df(0x8d)](JSON['parse']),this;}async[a268_0x1bc0fe(0x89)](){const _0x27deca=a268_0x1bc0fe;this[_0x27deca(0x79)]['status']=logger_enums_1[_0x27deca(0x93)][_0x27deca(0x81)],this[_0x27deca(0x79)]['createdDate']=new Date()[_0x27deca(0x8a)](),await this[_0x27deca(0x69)]();}async['setCompleted'](){const _0x4b3f28=a268_0x1bc0fe;this['jobState'][_0x4b3f28(0x6d)]=logger_enums_1[_0x4b3f28(0x93)]['COMPLETED'],this[_0x4b3f28(0x79)]['completedDate']=new Date()[_0x4b3f28(0x8a)](),await this[_0x4b3f28(0x69)]();}async['setError']({message:_0x5a7869}){const _0x588f43=a268_0x1bc0fe;this['jobState']['status']=logger_enums_1[_0x588f43(0x93)][_0x588f43(0x77)],this['jobState'][_0x588f43(0x83)]=new Date()[_0x588f43(0x8a)](),this[_0x588f43(0x79)][_0x588f43(0x6e)]=_0x5a7869,await this[_0x588f43(0x69)]();}[a268_0x1bc0fe(0x88)](_0x5ae21a){const _0x3222e0=a268_0x1bc0fe;return this[_0x3222e0(0x79)][_0x3222e0(0x85)]['push'](_0x5ae21a),this[_0x3222e0(0x69)]();}}exports[a268_0x1bc0fe(0x86)]=StateManager;