const a312_0x5536cb=a312_0x1151;(function(_0x39c3eb,_0x3f33fb){const _0x221343=a312_0x1151,_0x169d60=_0x39c3eb();while(!![]){try{const _0x2ba930=parseInt(_0x221343(0xd1))/0x1+parseInt(_0x221343(0xbb))/0x2*(parseInt(_0x221343(0xd6))/0x3)+parseInt(_0x221343(0xd9))/0x4+parseInt(_0x221343(0xb8))/0x5+-parseInt(_0x221343(0xc0))/0x6+parseInt(_0x221343(0xda))/0x7*(parseInt(_0x221343(0xce))/0x8)+-parseInt(_0x221343(0xb9))/0x9;if(_0x2ba930===_0x3f33fb)break;else _0x169d60['push'](_0x169d60['shift']());}catch(_0x23b505){_0x169d60['push'](_0x169d60['shift']());}}}(a312_0x10c9,0x5f962));const a312_0x4654c6=(function(){let _0xe17706=!![];return function(_0x8c0147,_0x9bfd53){const _0x5e2ab5=_0xe17706?function(){const _0x2809fe=a312_0x1151;if(_0x9bfd53){const _0x9adbd1=_0x9bfd53[_0x2809fe(0xd0)](_0x8c0147,arguments);return _0x9bfd53=null,_0x9adbd1;}}:function(){};return _0xe17706=![],_0x5e2ab5;};}()),a312_0x1a4ad3=a312_0x4654c6(this,function(){const _0x1cbacb=a312_0x1151;return a312_0x1a4ad3[_0x1cbacb(0xb7)]()[_0x1cbacb(0xbf)](_0x1cbacb(0xd2))['toString']()[_0x1cbacb(0xba)](a312_0x1a4ad3)[_0x1cbacb(0xbf)]('(((.+)+)+)+$');});a312_0x1a4ad3();function a312_0x1151(_0x556094,_0x5f22f1){const _0x5c1430=a312_0x10c9();return a312_0x1151=function(_0x1a4ad3,_0x4654c6){_0x1a4ad3=_0x1a4ad3-0xb7;let _0x10c957=_0x5c1430[_0x1a4ad3];return _0x10c957;},a312_0x1151(_0x556094,_0x5f22f1);}'use strict';var __importDefault=this&&this[a312_0x5536cb(0xcd)]||function(_0x391020){const _0x32a6d0=a312_0x5536cb;return _0x391020&&_0x391020[_0x32a6d0(0xca)]?_0x391020:{'default':_0x391020};};Object[a312_0x5536cb(0xc6)](exports,a312_0x5536cb(0xca),{'value':!![]});const promises_1=require(a312_0x5536cb(0xd8)),path_1=__importDefault(require('path')),job_1=require('../../../../constants/job'),constants_1=require(a312_0x5536cb(0xc5));function a312_0x10c9(){const _0x2b322d=['maxChunkItems','apiVersion','getManifestPath','../../constants','defineProperty','credentials','MAX_METADATA_CHUNK_SIZE','metadataTypes','__esModule','readFile','MANIFEST_FILENAME','__importDefault','2101136FKHBni','maxChunkSize','apply','375549JRepIA','(((.+)+)+)+$','init','MAX_METADATA_ITEMS','then','33qFutsQ','writeFile','fs/promises','869336suBKJb','14yghOzx','parse','toString','3697970nbpMwc','13749255ocEyIV','constructor','128212jFdEpS','declarativeFilter','default','stringify','search','3862260ePWodv','manifest'];a312_0x10c9=function(){return _0x2b322d;};return a312_0x10c9();}class ManifestManager{constructor(_0x22f781){this['jobStorePath']=_0x22f781;}get[a312_0x5536cb(0xc7)](){const _0x374b15=a312_0x5536cb;return this['manifest'][_0x374b15(0xc7)];}get[a312_0x5536cb(0xbc)](){const _0x34c775=a312_0x5536cb;return this[_0x34c775(0xc1)]['declarativeFilter'];}get[a312_0x5536cb(0xc9)](){const _0xfc3c43=a312_0x5536cb;return this[_0xfc3c43(0xc1)][_0xfc3c43(0xc9)];}get[a312_0x5536cb(0xcf)](){const _0xf01a15=a312_0x5536cb;return this[_0xf01a15(0xc1)]['maxChunkSize']||constants_1[_0xf01a15(0xc8)];}get[a312_0x5536cb(0xc2)](){const _0x2d71a7=a312_0x5536cb;return this[_0x2d71a7(0xc1)][_0x2d71a7(0xc2)]||constants_1[_0x2d71a7(0xd4)];}get[a312_0x5536cb(0xc3)](){const _0x3abce0=a312_0x5536cb;return this[_0x3abce0(0xc1)][_0x3abce0(0xc3)];}static[a312_0x5536cb(0xc4)](_0x133fd3){const _0x2e6585=a312_0x5536cb;return path_1[_0x2e6585(0xbd)]['join'](_0x133fd3,job_1[_0x2e6585(0xcc)]);}static['create'](_0x127052,_0x1ca338){const _0x3ad7c2=a312_0x5536cb,_0x2061b3=ManifestManager['getManifestPath'](_0x127052);return(0x0,promises_1[_0x3ad7c2(0xd7)])(_0x2061b3,JSON[_0x3ad7c2(0xbe)]({'details':_0x1ca338}));}async[a312_0x5536cb(0xd3)](){const _0xbe4066=a312_0x5536cb,_0x57a315=ManifestManager[_0xbe4066(0xc4)](this['jobStorePath']);return this['manifest']=await(0x0,promises_1[_0xbe4066(0xcb)])(_0x57a315,{'encoding':'utf-8'})[_0xbe4066(0xd5)](JSON[_0xbe4066(0xdb)])[_0xbe4066(0xd5)](({details:_0x1fdb3a})=>_0x1fdb3a),await(0x0,promises_1['rm'])(_0x57a315,{'recursive':!![],'force':!![]}),this;}}exports[a312_0x5536cb(0xbd)]=ManifestManager;