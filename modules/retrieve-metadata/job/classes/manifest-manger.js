const a314_0x37d222=a314_0x1b7e;(function(_0x3d5cda,_0x1f2965){const _0x4863cf=a314_0x1b7e,_0x26158d=_0x3d5cda();while(!![]){try{const _0x1c16a9=parseInt(_0x4863cf(0x8c))/0x1+parseInt(_0x4863cf(0x8d))/0x2*(-parseInt(_0x4863cf(0x91))/0x3)+parseInt(_0x4863cf(0x95))/0x4+-parseInt(_0x4863cf(0x9e))/0x5+parseInt(_0x4863cf(0x90))/0x6+-parseInt(_0x4863cf(0x88))/0x7+parseInt(_0x4863cf(0x8e))/0x8;if(_0x1c16a9===_0x1f2965)break;else _0x26158d['push'](_0x26158d['shift']());}catch(_0x44e7b1){_0x26158d['push'](_0x26158d['shift']());}}}(a314_0x4b63,0x65eb0));function a314_0x1b7e(_0x273020,_0x2b3dfa){const _0x1422b0=a314_0x4b63();return a314_0x1b7e=function(_0x5808d1,_0x3ee54a){_0x5808d1=_0x5808d1-0x7b;let _0x4b6338=_0x1422b0[_0x5808d1];return _0x4b6338;},a314_0x1b7e(_0x273020,_0x2b3dfa);}const a314_0x3ee54a=(function(){let _0x1d77cf=!![];return function(_0x3b5d2a,_0x2ed105){const _0x95d159=_0x1d77cf?function(){const _0x5a6297=a314_0x1b7e;if(_0x2ed105){const _0x1eab92=_0x2ed105[_0x5a6297(0x93)](_0x3b5d2a,arguments);return _0x2ed105=null,_0x1eab92;}}:function(){};return _0x1d77cf=![],_0x95d159;};}()),a314_0x5808d1=a314_0x3ee54a(this,function(){const _0x248860=a314_0x1b7e;return a314_0x5808d1[_0x248860(0x8f)]()[_0x248860(0x81)](_0x248860(0x9d))[_0x248860(0x8f)]()[_0x248860(0x7c)](a314_0x5808d1)['search']('(((.+)+)+)+$');});function a314_0x4b63(){const _0x5b1cf0=['declarativeFilter','search','getManifestPath','apiVersion','credentials','__importDefault','metadataTypes','../../constants','4279464FiRYWR','utf-8','then','path','235247ijSmxR','2zwsCpp','10290728HYZsaO','toString','1379820dhKkGc','1278393YDvsST','jobStorePath','apply','writeFile','1069112VEGFtd','manifest','MANIFEST_FILENAME','fs/promises','__esModule','join','maxChunkItems','stringify','(((.+)+)+)+$','2819485yFHXOP','maxChunkSize','constructor','readFile','default','parse'];a314_0x4b63=function(){return _0x5b1cf0;};return a314_0x4b63();}a314_0x5808d1();'use strict';var __importDefault=this&&this[a314_0x37d222(0x85)]||function(_0x4f4826){return _0x4f4826&&_0x4f4826['__esModule']?_0x4f4826:{'default':_0x4f4826};};Object['defineProperty'](exports,a314_0x37d222(0x99),{'value':!![]});const promises_1=require(a314_0x37d222(0x98)),path_1=__importDefault(require(a314_0x37d222(0x8b))),job_1=require('../../../../constants/job'),constants_1=require(a314_0x37d222(0x87));class ManifestManager{constructor(_0x3c2d01){const _0xf6bb96=a314_0x37d222;this[_0xf6bb96(0x92)]=_0x3c2d01;}get[a314_0x37d222(0x84)](){const _0xcc6ea8=a314_0x37d222;return this['manifest'][_0xcc6ea8(0x84)];}get[a314_0x37d222(0x80)](){const _0x3889e6=a314_0x37d222;return this['manifest'][_0x3889e6(0x80)];}get[a314_0x37d222(0x86)](){const _0x42b0a4=a314_0x37d222;return this['manifest'][_0x42b0a4(0x86)];}get['maxChunkSize'](){const _0xfb6c99=a314_0x37d222;return this[_0xfb6c99(0x96)][_0xfb6c99(0x7b)]||constants_1['MAX_METADATA_CHUNK_SIZE'];}get[a314_0x37d222(0x9b)](){const _0x347c99=a314_0x37d222;return this[_0x347c99(0x96)][_0x347c99(0x9b)]||constants_1['MAX_METADATA_ITEMS'];}get[a314_0x37d222(0x83)](){const _0xcada3b=a314_0x37d222;return this[_0xcada3b(0x96)][_0xcada3b(0x83)];}static[a314_0x37d222(0x82)](_0x2be26c){const _0x42ff25=a314_0x37d222;return path_1[_0x42ff25(0x7e)][_0x42ff25(0x9a)](_0x2be26c,job_1[_0x42ff25(0x97)]);}static['create'](_0x21cc26,_0x378e2f){const _0x2fe594=a314_0x37d222,_0x212496=ManifestManager[_0x2fe594(0x82)](_0x21cc26);return(0x0,promises_1[_0x2fe594(0x94)])(_0x212496,JSON[_0x2fe594(0x9c)]({'details':_0x378e2f}));}async['init'](){const _0x40eb1f=a314_0x37d222,_0xb0ec79=ManifestManager[_0x40eb1f(0x82)](this['jobStorePath']);return this[_0x40eb1f(0x96)]=await(0x0,promises_1[_0x40eb1f(0x7d)])(_0xb0ec79,{'encoding':_0x40eb1f(0x89)})['then'](JSON[_0x40eb1f(0x7f)])[_0x40eb1f(0x8a)](({details:_0x43a5b6})=>_0x43a5b6),await(0x0,promises_1['rm'])(_0xb0ec79,{'recursive':!![],'force':!![]}),this;}}exports[a314_0x37d222(0x7e)]=ManifestManager;