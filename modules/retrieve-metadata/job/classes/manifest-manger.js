const a270_0x21f84b=a270_0x23f2;function a270_0x193c(){const _0x1f5174=['path','../../constants','670390VrGfDl','__esModule','4jkBxgG','158238itdCkl','toString','utf-8','apply','(((.+)+)+)+$','defineProperty','11855xKXxsE','apiVersion','fs/promises','constructor','getManifestPath','readFile','40XAaUVs','credentials','7428qucXby','6BJytMW','create','search','jobStorePath','4591524wQViEN','MAX_METADATA_CHUNK_SIZE','MAX_METADATA_ITEMS','then','3528306SEwhlr','maxChunkItems','__importDefault','40yPRDhu','parse','1432bPWjYy','maxChunkSize','31790jfhwlw','declarativeFilter','join','manifest','../../../../constants/job','stringify','17095xHzruo','default'];a270_0x193c=function(){return _0x1f5174;};return a270_0x193c();}(function(_0x146c4c,_0x134be7){const _0xbaab61=a270_0x23f2,_0x3b3555=_0x146c4c();while(!![]){try{const _0x1d8aec=-parseInt(_0xbaab61(0x1f8))/0x1*(-parseInt(_0xbaab61(0x1f6))/0x2)+-parseInt(_0xbaab61(0x210))/0x3+-parseInt(_0xbaab61(0x215))/0x4*(parseInt(_0xbaab61(0x1ff))/0x5)+-parseInt(_0xbaab61(0x208))/0x6*(-parseInt(_0xbaab61(0x20c))/0x7)+-parseInt(_0xbaab61(0x213))/0x8*(parseInt(_0xbaab61(0x1f9))/0x9)+parseInt(_0xbaab61(0x205))/0xa*(parseInt(_0xbaab61(0x217))/0xb)+-parseInt(_0xbaab61(0x207))/0xc*(-parseInt(_0xbaab61(0x1f2))/0xd);if(_0x1d8aec===_0x134be7)break;else _0x3b3555['push'](_0x3b3555['shift']());}catch(_0xcb9633){_0x3b3555['push'](_0x3b3555['shift']());}}}(a270_0x193c,0xad333));const a270_0x79519b=(function(){let _0x4c3a40=!![];return function(_0x316352,_0x2f2a3d){const _0x4424fb=_0x4c3a40?function(){const _0x5eb53a=a270_0x23f2;if(_0x2f2a3d){const _0x15c375=_0x2f2a3d[_0x5eb53a(0x1fc)](_0x316352,arguments);return _0x2f2a3d=null,_0x15c375;}}:function(){};return _0x4c3a40=![],_0x4424fb;};}()),a270_0xc37fb9=a270_0x79519b(this,function(){const _0x444747=a270_0x23f2;return a270_0xc37fb9[_0x444747(0x1fa)]()[_0x444747(0x20a)](_0x444747(0x1fd))[_0x444747(0x1fa)]()[_0x444747(0x202)](a270_0xc37fb9)['search'](_0x444747(0x1fd));});a270_0xc37fb9();'use strict';var __importDefault=this&&this[a270_0x21f84b(0x212)]||function(_0x50aa12){const _0x10e4f5=a270_0x21f84b;return _0x50aa12&&_0x50aa12[_0x10e4f5(0x1f7)]?_0x50aa12:{'default':_0x50aa12};};function a270_0x23f2(_0x45d8e5,_0xd2a435){const _0x52192e=a270_0x193c();return a270_0x23f2=function(_0xc37fb9,_0x79519b){_0xc37fb9=_0xc37fb9-0x1ee;let _0x193c62=_0x52192e[_0xc37fb9];return _0x193c62;},a270_0x23f2(_0x45d8e5,_0xd2a435);}Object[a270_0x21f84b(0x1fe)](exports,a270_0x21f84b(0x1f7),{'value':!![]});const promises_1=require(a270_0x21f84b(0x201)),path_1=__importDefault(require(a270_0x21f84b(0x1f4))),job_1=require(a270_0x21f84b(0x1f0)),constants_1=require(a270_0x21f84b(0x1f5));class ManifestManager{constructor(_0x5a3e6f){const _0x4bbfd2=a270_0x21f84b;this[_0x4bbfd2(0x20b)]=_0x5a3e6f;}get[a270_0x21f84b(0x206)](){const _0x3fb75e=a270_0x21f84b;return this[_0x3fb75e(0x1ef)]['credentials'];}get[a270_0x21f84b(0x218)](){const _0x45e409=a270_0x21f84b;return this[_0x45e409(0x1ef)]['declarativeFilter'];}get['metadataTypes'](){const _0x50b351=a270_0x21f84b;return this[_0x50b351(0x1ef)]['metadataTypes'];}get[a270_0x21f84b(0x216)](){const _0x5dae95=a270_0x21f84b;return this[_0x5dae95(0x1ef)]['maxChunkSize']||constants_1[_0x5dae95(0x20d)];}get['maxChunkItems'](){const _0x1948ee=a270_0x21f84b;return this[_0x1948ee(0x1ef)][_0x1948ee(0x211)]||constants_1[_0x1948ee(0x20e)];}get[a270_0x21f84b(0x200)](){return this['manifest']['apiVersion'];}static[a270_0x21f84b(0x203)](_0x2efa8e){const _0x22cb1f=a270_0x21f84b;return path_1[_0x22cb1f(0x1f3)][_0x22cb1f(0x1ee)](_0x2efa8e,job_1['MANIFEST_FILENAME']);}static[a270_0x21f84b(0x209)](_0xb747b9,_0x4f63a6){const _0x5f2198=a270_0x21f84b,_0x2b8d62=ManifestManager[_0x5f2198(0x203)](_0xb747b9);return(0x0,promises_1['writeFile'])(_0x2b8d62,JSON[_0x5f2198(0x1f1)]({'details':_0x4f63a6}));}async['init'](){const _0x3e134e=a270_0x21f84b,_0x447ab1=ManifestManager['getManifestPath'](this[_0x3e134e(0x20b)]);return this[_0x3e134e(0x1ef)]=await(0x0,promises_1[_0x3e134e(0x204)])(_0x447ab1,{'encoding':_0x3e134e(0x1fb)})[_0x3e134e(0x20f)](JSON[_0x3e134e(0x214)])[_0x3e134e(0x20f)](({details:_0x44b7a0})=>_0x44b7a0),await(0x0,promises_1['rm'])(_0x447ab1,{'recursive':!![],'force':!![]}),this;}}exports[a270_0x21f84b(0x1f3)]=ManifestManager;